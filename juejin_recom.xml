<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[ã€Šå®æ—¶æ¸²æŸ“ã€‹ç¬¬2ç« -å›¾å½¢æ¸²æŸ“ç®¡çº¿-2.6ç®¡çº¿ç»¼è¿°]]></title>    <link>https://juejin.cn/post/7602472997920473088</link>    <guid>https://juejin.cn/post/7602472997920473088</guid>    <pubDate>2026-02-03T13:14:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602472997920473088" data-draft-id="7602472997920456704" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Šå®æ—¶æ¸²æŸ“ã€‹ç¬¬2ç« -å›¾å½¢æ¸²æŸ“ç®¡çº¿-2.6ç®¡çº¿ç»¼è¿°"/> <meta itemprop="keywords" content="è®¡ç®—æœºå›¾å½¢å­¦"/> <meta itemprop="datePublished" content="2026-02-03T13:14:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="charlee44"/> <meta itemprop="url" content="https://juejin.cn/user/1117549770846872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Šå®æ—¶æ¸²æŸ“ã€‹ç¬¬2ç« -å›¾å½¢æ¸²æŸ“ç®¡çº¿-2.6ç®¡çº¿ç»¼è¿°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1117549770846872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    charlee44
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T13:14:53.000Z" title="Tue Feb 03 2026 13:14:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>å®æ—¶æ¸²æŸ“</strong></h2>
<h2 data-id="heading-1">2. å›¾å½¢æ¸²æŸ“ç®¡çº¿</h2>
<h3 data-id="heading-2">2.6 ç®¡çº¿ç»¼è¿°</h3>
<p>ç‚¹ã€çº¿å’Œä¸‰è§’å½¢æ˜¯æ„å»ºæ¨¡å‹æˆ–å¯¹è±¡çš„æ¸²æŸ“å›¾å…ƒã€‚å‡è®¾è¯¥åº”ç”¨ç¨‹åºæ˜¯ä¸€ä¸ªäº¤äº’å¼è®¡ç®—æœºè¾…åŠ©è®¾è®¡ (CAD) åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”ç”¨æˆ·æ­£åœ¨æ£€æŸ¥åå¤«é¥¼åˆ¶é€ å•†çš„è®¾è®¡ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†åœ¨æ•´ä¸ªå›¾å½¢æ¸²æŸ“ç®¡çº¿ä¸­éµå¾ªè¿™ä¸ªæ¨¡å‹ï¼ŒåŒ…æ‹¬å››ä¸ªä¸»è¦é˜¶æ®µï¼šåº”ç”¨ç¨‹åºã€å‡ ä½•ã€å…‰æ …åŒ–å’Œåƒç´ å¤„ç†ã€‚åœºæ™¯ä»¥é€è§†å›¾æ¸²æŸ“åˆ°å±å¹•ä¸Šçš„çª—å£ä¸­ã€‚åœ¨è¿™ä¸ªç®€å•çš„ç¤ºä¾‹ä¸­ï¼Œåå¤«é¥¼æœºæ¨¡å‹åŒ…æ‹¬çº¿æ¡ï¼ˆä»¥æ˜¾ç¤ºé›¶ä»¶çš„è¾¹ç¼˜ï¼‰å’Œä¸‰è§’å½¢ï¼ˆä»¥æ˜¾ç¤ºè¡¨é¢ï¼‰ã€‚åå¤«é¥¼æœºæœ‰ä¸€ä¸ªå¯ä»¥æ‰“å¼€çš„ç›–å­ã€‚ä¸€äº›ä¸‰è§’å½¢ç”±å¸¦æœ‰åˆ¶é€ å•†æ ‡å¿—çš„äºŒç»´å›¾åƒæ„æˆã€‚å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œè¡¨é¢ç€è‰²å®Œå…¨åœ¨å‡ ä½•é˜¶æ®µè®¡ç®—ï¼Œé™¤äº†çº¹ç†çš„åº”ç”¨ï¼Œå®ƒå‘ç”Ÿåœ¨å…‰æ …åŒ–é˜¶æ®µã€‚</p>
<h4 data-id="heading-3">2.6.1 åº”ç”¨ç¨‹åºé˜¶æ®µ</h4>
<p>CADåº”ç”¨ç¨‹åºå…è®¸ç”¨æˆ·é€‰æ‹©å’Œç§»åŠ¨æ¨¡å‹çš„å„ä¸ªéƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·å¯èƒ½ä¼šé€‰æ‹©ç›–å­ï¼Œç„¶åç§»åŠ¨é¼ æ ‡å°†å…¶æ‰“å¼€ã€‚åº”ç”¨é˜¶æ®µå¿…é¡»å°†é¼ æ ‡ç§»åŠ¨è½¬æ¢ä¸ºç›¸åº”çš„æ—‹è½¬çŸ©é˜µï¼Œç„¶åç¡®ä¿è¯¥çŸ©é˜µåœ¨æ¸²æŸ“æ—¶æ­£ç¡®åº”ç”¨äºç›–å­ã€‚å¦ä¸€ä¸ªç¤ºä¾‹ï¼šæ’­æ”¾çš„åŠ¨ç”»æ²¿ç€é¢„å®šä¹‰çš„è·¯å¾„ç§»åŠ¨ç›¸æœºä»¥ä»ä¸åŒè§†å›¾æ˜¾ç¤ºåå¤«é¥¼æœºã€‚ç„¶åï¼Œåº”ç”¨ç¨‹åºå¿…é¡»æ ¹æ®æ—¶é—´æ›´æ–°ç›¸æœºå‚æ•°ï¼Œä¾‹å¦‚ä½ç½®å’Œè§†å›¾æ–¹å‘ã€‚å¯¹äºè¦æ¸²æŸ“çš„æ¯ä¸€å¸§ï¼Œåº”ç”¨ç¨‹åºé˜¶æ®µå°†æ¨¡å‹çš„ç›¸æœºä½ç½®ã€å…‰ç…§å’Œå›¾å…ƒæä¾›ç»™ç®¡é“ä¸­çš„ä¸‹ä¸€ä¸ªä¸»è¦é˜¶æ®µâ€”â€”å‡ ä½•é˜¶æ®µã€‚</p>
<h4 data-id="heading-4">2.6.2 å‡ ä½•å¤„ç†</h4>
<p>å¯¹äºé€è§†è§†å›¾ï¼Œæˆ‘ä»¬å‡è®¾åº”ç”¨ç¨‹åºæä¾›äº†ä¸€ä¸ªæŠ•å½±çŸ©é˜µã€‚æ­¤å¤–ï¼Œå¯¹äºæ¯ä¸ªå¯¹è±¡ï¼Œåº”ç”¨ç¨‹åºéƒ½è®¡ç®—äº†ä¸€ä¸ªçŸ©é˜µï¼Œè¯¥çŸ©é˜µæè¿°äº†è§†å›¾å˜æ¢ä»¥åŠå¯¹è±¡æœ¬èº«çš„ä½ç½®å’Œæ–¹å‘ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œåå¤«é¥¼æœºçš„åº•åº§æœ‰ä¸€ä¸ªçŸ©é˜µï¼Œç›–å­æ˜¯å¦ä¸€ä¸ªã€‚åœ¨å‡ ä½•é˜¶æ®µï¼Œå¯¹è±¡çš„é¡¶ç‚¹å’Œæ³•çº¿ä½¿ç”¨è¯¥çŸ©é˜µè¿›è¡Œå˜æ¢ï¼Œå°†å¯¹è±¡æ”¾å…¥è§†å›¾ç©ºé—´ã€‚ç„¶åå¯ä»¥ä½¿ç”¨æè´¨å’Œå…‰æºå±æ€§è®¡ç®—é¡¶ç‚¹å¤„çš„ç€è‰²æˆ–å…¶ä»–è®¡ç®—ã€‚ç„¶åä½¿ç”¨å•ç‹¬çš„ç”¨æˆ·æä¾›çš„æŠ•å½±çŸ©é˜µæ‰§è¡ŒæŠ•å½±ï¼Œå°†å¯¹è±¡è½¬æ¢ä¸ºä»£è¡¨çœ¼ç›æ‰€è§çš„å•ä½ç«‹æ–¹ä½“ç©ºé—´ã€‚ç«‹æ–¹ä½“å¤–çš„æ‰€æœ‰åŸºå…ƒéƒ½å°†è¢«ä¸¢å¼ƒã€‚ä¸è¿™ä¸ªå•ä½ç«‹æ–¹ä½“ç›¸äº¤çš„æ‰€æœ‰å›¾å…ƒéƒ½è¢«è£å‰ªåœ¨ç«‹æ–¹ä½“ä¸Šï¼Œä»¥è·å¾—ä¸€ç»„å®Œå…¨ä½äºå•ä½ç«‹æ–¹ä½“å†…éƒ¨çš„å›¾å…ƒã€‚ç„¶åå°†é¡¶ç‚¹æ˜ å°„åˆ°å±å¹•ä¸Šçš„çª—å£ä¸­ã€‚åœ¨æ‰§è¡Œå®Œæ‰€æœ‰è¿™äº›æ¯ä¸‰è§’å½¢å’Œæ¯é¡¶ç‚¹æ“ä½œä¹‹åï¼Œç»“æœæ•°æ®å°†ä¼ é€’åˆ°å…‰æ …åŒ–é˜¶æ®µã€‚</p>
<h4 data-id="heading-5">2.6.3 å…‰æ …åŒ–</h4>
<p>ç„¶åå°†åœ¨å‰ä¸€é˜¶æ®µè£å‰ªåå¹¸å­˜ä¸‹æ¥çš„æ‰€æœ‰å›¾å…ƒè¿›è¡Œå…‰æ …åŒ–ï¼Œè¿™æ„å‘³ç€æ‰¾åˆ°å›¾å…ƒå†…çš„æ‰€æœ‰åƒç´ å¹¶å°†å…¶è¿›ä¸€æ­¥å‘é€åˆ°ç®¡çº¿ä¸­è¿›è¡Œåƒç´ å¤„ç†ã€‚</p>
<h4 data-id="heading-6">2.6.4 åƒç´ å¤„ç†</h4>
<p>è¿™é‡Œçš„ç›®æ ‡æ˜¯è®¡ç®—æ¯ä¸ªå¯è§å›¾å…ƒçš„æ¯ä¸ªåƒç´ çš„é¢œè‰²ã€‚é‚£äº›ä¸ä»»ä½•çº¹ç†ï¼ˆå›¾åƒï¼‰ç›¸å…³è”çš„ä¸‰è§’å½¢å°†æ ¹æ®éœ€è¦ä½¿ç”¨è¿™äº›å›¾åƒè¿›è¡Œæ¸²æŸ“ã€‚å¯è§æ€§é€šè¿‡zç¼“å†²åŒºç®—æ³•ä»¥åŠå¯é€‰çš„ä¸¢å¼ƒå’Œæ¨¡æ¿æµ‹è¯•æ¥è§£å†³ã€‚ä¾æ¬¡å¤„ç†æ¯ä¸ªå¯¹è±¡ï¼Œç„¶åå°†æœ€ç»ˆç”»é¢æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚</p>
<h4 data-id="heading-7">2.6.5 æ€»ç»“</h4>
<p>è¿™æ¡ç®¡çº¿æºäºæ•°åå¹´é’ˆå¯¹å®æ—¶æ¸²æŸ“åº”ç”¨ç¨‹åºçš„APIå’Œå›¾å½¢ç¡¬ä»¶æ¼”å˜ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™å¹¶ä¸æ˜¯å”¯ä¸€å¯èƒ½çš„æ¸²æŸ“ç®¡é“ï¼›ç¦»çº¿æ¸²æŸ“ç®¡é“ç»å†äº†ä¸åŒçš„è¿›åŒ–è·¯å¾„ã€‚ç”µå½±åˆ¶ä½œçš„æ¸²æŸ“é€šå¸¸ä½¿ç”¨å¾®å¤šè¾¹å½¢ç®¡é“[289, 1734] å®Œæˆï¼Œä½†æœ€è¿‘å·²ç»æ™®éå¼€å§‹ä½¿ç”¨å…‰çº¿è¿½è¸ªå’Œè·¯å¾„è¿½è¸ªäº†ã€‚<a href="https://link.juejin.cn?target=%25E7%25AC%25AC11.2.2%25E8%258A%2582" target="_blank" title="%E7%AC%AC11.2.2%E8%8A%82" ref="nofollow noopener noreferrer">ç¬¬11.2.2èŠ‚</a>ä¸­ä»‹ç»çš„è¿™äº›æŠ€æœ¯ä¹Ÿå¯ç”¨äºæ¶æ„å’Œè®¾è®¡è§†è§‰åŒ–ã€‚</p>
<p>å¤šå¹´æ¥ï¼Œåº”ç”¨ç¨‹åºå¼€å‘äººå‘˜ä½¿ç”¨æ­¤å¤„æè¿°çš„è¿‡ç¨‹çš„å”¯ä¸€æ–¹æ³•æ˜¯é€šè¿‡ä½¿ç”¨ä¸­çš„å›¾å½¢APIå®šä¹‰çš„å›ºå®šåŠŸèƒ½ç®¡çº¿ã€‚å›ºå®šåŠŸèƒ½ç®¡çº¿ä¹‹æ‰€ä»¥å¦‚æ­¤å‘½åï¼Œæ˜¯å› ä¸ºå®ç°å®ƒçš„å›¾å½¢ç¡¬ä»¶ç”±æ— æ³•ä»¥çµæ´»æ–¹å¼ç¼–ç¨‹çš„å…ƒç´ ç»„æˆã€‚ä¸»è¦å›ºå®šåŠŸèƒ½ç®¡çº¿çš„æœºå™¨çš„æœ€åä¸€ä¸ªä¾‹å­æ˜¯2006å¹´æ¨å‡ºçš„ä»»å¤©å ‚Wiiã€‚å¦ä¸€æ–¹é¢ï¼Œå¯ç¼–ç¨‹GPUå¯ä»¥å‡†ç¡®åœ°ç¡®å®šåœ¨æ•´ä¸ªç®¡çº¿çš„å„ä¸ªå­é˜¶æ®µåº”ç”¨å“ªäº›æ“ä½œã€‚å¯¹äºæœ¬ä¹¦çš„ç¬¬å››ç‰ˆï¼Œæˆ‘ä»¬å‡è®¾æ‰€æœ‰å¼€å‘éƒ½æ˜¯ä½¿ç”¨å¯ç¼–ç¨‹GPUå®Œæˆçš„ã€‚</p>
<h3 data-id="heading-8">2.7 è¿›ä¸€æ­¥é˜…è¯»å’Œèµ„æº</h3>
<p>Blinnçš„ä¹¦ã€ŠA Trip Down the Graphics Pipelineã€‹[165] æ˜¯ä¸€æœ¬å…³äºä»å¤´ç¼–å†™è½¯ä»¶æ¸²æŸ“å™¨çš„è€ä¹¦ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ„æºï¼Œå¯ä»¥äº†è§£å®ç°æ¸²æŸ“ç®¡é“çš„ä¸€äº›å¾®å¦™ä¹‹å¤„ï¼Œè§£é‡Šå…³é”®ç®—æ³•ï¼Œä¾‹å¦‚å‰ªè¾‘å’Œé€è§†æ’å€¼ã€‚å¤è€ï¼ˆä½†ç»å¸¸æ›´æ–°ï¼‰çš„ã€ŠOpenGL ç¼–ç¨‹æŒ‡å—ã€‹ï¼ˆåˆåâ€œçº¢çš®ä¹¦â€ï¼‰[885] æä¾›äº†å›¾å½¢ç®¡çº¿å’Œä¸å…¶ä½¿ç”¨ç›¸å…³çš„ç®—æ³•çš„å…¨é¢æè¿°ã€‚æˆ‘ä»¬è¿™æœ¬ä¹¦çš„ç½‘ç«™realtimerendering.comæä¾›äº†æŒ‡å‘å„ç§ç®¡çº¿å›¾ã€æ¸²æŸ“å¼•æ“å®ç°ç­‰çš„é“¾æ¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»£ç ä¸å€¼é’±äº†ï¼Œä»€ä¹ˆæ›´å€¼é’±ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7602205524719452194</link>    <guid>https://juejin.cn/post/7602205524719452194</guid>    <pubDate>2026-02-03T13:13:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602205524719452194" data-draft-id="7602205524719173666" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»£ç ä¸å€¼é’±äº†ï¼Œä»€ä¹ˆæ›´å€¼é’±ï¼Ÿ"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,Agent,VibeCoding"/> <meta itemprop="datePublished" content="2026-02-03T13:13:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AlienZHOU"/> <meta itemprop="url" content="https://juejin.cn/user/3843548380668829"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»£ç ä¸å€¼é’±äº†ï¼Œä»€ä¹ˆæ›´å€¼é’±ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3843548380668829/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AlienZHOU
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T13:13:37.000Z" title="Tue Feb 03 2026 13:13:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    17
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>AI ç¼–ç æ—¶ä»£çš„ä¸€äº›å®è·µä¸è§‚å¯Ÿ</p>
</blockquote>
<p>å‰ä¸¤å¤©æˆ‘åšäº†ä¸€ä»¶"è½»æµ®"çš„äº‹ï¼šæŠŠ 1000 è¡Œåˆšâ€œå†™"å®Œçš„ä»£ç åˆ äº†ã€‚</p>
<p>åŸå› å•çº¯è§‰å¾—ä»£ç ä¸é¡ºæ‰‹ã€é€»è¾‘ç»•ã€è¯»èµ·æ¥ç´¯ã€‚ä»¥å‰è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä¸€èˆ¬ä¼šç¡¬ç€å¤´çš®å»é‡æ„ã€‚ä½†è¿™æ¬¡æˆ‘ç›´æ¥ <code>git restore</code> äº†ï¼Œç„¶åå¯¹ç€ AI è®©å®ƒ â€œé‡å¤´å†æ¥â€ã€‚</p>
<p>æœ€è®©æˆ‘è‡ªå·±å°è±¡æ·±åˆ»çš„ï¼Œä¸æ˜¯ AI åˆå†™å‡ºäº†ä¸€ä»½"èƒ½è·‘"çš„å®ç°ï¼Œè€Œæ˜¯æˆ‘åˆ æ‰ä»£ç é‚£ä¸€ç¬é—´çš„å¿ƒç†çŠ¶æ€ï¼š<strong>æˆ‘æ²¡æœ‰ä»»ä½•è´Ÿç½ªæ„Ÿä¸èˆä¸å¾—ã€‚</strong></p>
<p>ä»”ç»†æƒ³æƒ³è¿™äº‹å„¿åœ¨ä»¥å‰å¾ˆä¸å¯æ€è®®ã€‚æˆ‘ä»¬è¿‡å»å‡ åå¹´éƒ½æŠŠ"æºä»£ç "å½“æˆå…¬å¸èµ„äº§ã€å›¢é˜Ÿå¿ƒè¡€ã€ä¸ªäººä½œå“ã€‚ç°åœ¨å‘¢ï¼Ÿ<strong>ä»£ç ä¸é‡è¦äº†ï¼Œä¸¢äº†ä¸å¿ƒç–¼ã€‚</strong></p>
<p>é‚£é—®é¢˜æ¥äº†ï¼š<strong>å¦‚æœä»£ç ä¸å€¼é’±äº†ï¼Œå†™ä»£ç çš„äººè¿˜å€¼é’±å—ï¼Ÿ</strong></p>
<hr/>
<h2 data-id="heading-0">1ã€Programming â‰  Coding</h2>
<p>å›¾çµå¥–å¾—ä¸» Leslie Lamport æœ‰ä¸€ä¸ªæ¼”è®²ï¼Œé¢˜ç›®å°±å« <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DuyLy7Fu4FB4" target="_blank" title="https://www.youtube.com/watch?v=uyLy7Fu4FB4" ref="nofollow noopener noreferrer">"Programming â‰  Coding"</a></strong>ã€‚</p>
<p>ä»–è®²å¾—å¾ˆç›´æ¥ï¼š<strong>å¾ˆå¤šäººä»¥ä¸ºè‡ªå·±åœ¨ Programmingï¼Œå…¶å®åªæ˜¯ Coding</strong>ã€‚Programming æ˜¯æ€è€ƒé—®é¢˜æœ¬è´¨ã€è®¾è®¡ç®—æ³•å’ŒæŠ½è±¡ï¼›Coding æ˜¯ç”¨å…·ä½“è¯­è¨€æŠŠå®ƒå®ç°å‡ºæ¥ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07d15c6d0e4e4431ab7ac4a42eaeb4d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxpZW5aSE9V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770731248&amp;x-signature=kccR8eWUhIb4d1EqcxWXc3l23FU%3D" alt="file" loading="lazy"/></p>
<p>å¦‚æœæŠŠè¿™ä¸ªè§‚ç‚¹å†å¾€ä¸Šæ¨ä¸€å±‚ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªä¸‰å±‚æ¨¡å‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">Engineering
  |  å®šä¹‰ç›®æ ‡ã€è¾¹ç•Œã€çº¦æŸï¼ˆWhat / Whyï¼‰
  v
Programming
  |  æŠ½è±¡ã€åè®®ã€Specã€çŠ¶æ€æœºï¼ˆHow @ æŠ½è±¡å±‚ï¼‰
  v
Coding
<span class="hljs-code">     å…·ä½“å®ç°ï¼ˆHow @ å®ç°å±‚ï¼‰
</span></code></pre>
<p>è¿‡å»å’Œç°åœ¨ï¼Œè¿™ä¸‰å±‚çš„"ä¸»æˆ˜åœº"å·²ç»ä¸ä¸€æ ·äº†ï¼š</p>

























<table><thead><tr><th/><th>è¿‡å»</th><th>AI æ—¶ä»£</th></tr></thead><tbody><tr><td><strong>ä¸»è¦ç“¶é¢ˆ</strong></td><td>å®ç°è´µã€å‡ºé”™ç‡é«˜</td><td>å®šä¹‰ä¸æ¸…ã€è¾¹ç•Œæ¨¡ç³Š</td></tr><tr><td><strong>äººçš„ç²¾åŠ›ç„¦ç‚¹</strong></td><td>Codingï¼šæ€ä¹ˆå†™å¯¹ã€å†™å¿«ã€å°‘ bug</td><td>Programming/Engineeringï¼šæ€ä¹ˆå®šä¹‰æ¸…æ¥š</td></tr><tr><td><strong>Coding çš„è§’è‰²</strong></td><td>ä¸»æˆ˜åœº</td><td>æ‰§è¡Œå±‚ï¼ˆç±»ä¼¼ç¼–è¯‘å™¨ï¼‰</td></tr></tbody></table>
<p>Lamport è¿˜æœ‰ä¸€å¥è¯å¾ˆä¸é”™ï¼š</p>
<blockquote>
<p>"You don't produce ten times less code by better coding. You do it with a cleaner architecture â€” a better abstraction."
ï¼ˆä½ ä¸å¯èƒ½é€šè¿‡æ›´å¥½çš„ç¼–ç æŠŠä»£ç é‡å‡å°‘åˆ°ååˆ†ä¹‹ä¸€ï¼›ä½ åªèƒ½é€šè¿‡æ›´æ¸…æ™°çš„æ¶æ„ï¼ˆæ›´å¥½çš„æŠ½è±¡ï¼‰åšåˆ°è¿™ä¸€ç‚¹ï¼‰</p>
</blockquote>
<p>å½“ AI æŠŠ Coding çš„è¾¹é™…æˆæœ¬æ‰“ä¸‹æ¥ä¹‹åï¼Œä¸€ä¸ªå¾ˆè‡ªç„¶çš„é—®é¢˜å°±æµ®å‡ºæ¥äº†ï¼š<strong>é‚£ Programming å±‚å’Œ Engineering å±‚å‘¢ï¼Ÿæˆ‘ä»¬åº”è¯¥ç”¨ä»€ä¹ˆå»å®šä¹‰å®ƒä»¬ï¼Ÿ</strong></p>
<p>è¿™æ—¶å€™ï¼Œä¸€äº›"æ­»å»çš„è®°å¿†"çªç„¶æ”»å‡»äº†æˆ‘ã€‚</p>
<h2 data-id="heading-1">2ã€å¥‘çº¦å…ˆè¡Œï¼šä»£ç æ­£åœ¨å˜æˆ"å¯è’¸å‘ç‰©"</h2>
<p>"æ­»å»çš„è®°å¿†"å¼€å§‹æ”»å‡»æˆ‘ã€‚ä¸€äº›è¿‡å»åœ¨è½¯ä»¶å·¥ç¨‹ä¹¦ç±é‡Œè¢«æè¿‡ã€ä½†åœ¨ä¸šåŠ¡é«˜é€Ÿå¢é•¿å¹´ä»£é‡Œå¸¸å¸¸è¢«å¿½ç•¥çš„æ¦‚å¿µï¼Œé‡æ–°å¤è‹äº†ã€‚</p>
<p>æ¯”å¦‚ <strong>Design by Contractï¼ˆå¥‘çº¦å¼è®¾è®¡ï¼‰</strong>â€”â€”1986 å¹´ï¼ŒBertrand Meyer åœ¨è®¾è®¡ Eiffel è¯­è¨€æ—¶æå‡ºè¿™ä¸ªç†å¿µã€‚å®ƒå¼ºè°ƒï¼šè½¯ä»¶ç»„ä»¶ä¹‹é—´çš„åä½œå…³ç³»ï¼Œåº”å½“é€šè¿‡<strong>å¯éªŒè¯çš„æ¥å£ Spec</strong>è¡¨è¾¾å‡ºæ¥ï¼Œå…¸å‹å½¢å¼åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>Preconditionï¼ˆå‰ç½®æ¡ä»¶ï¼‰</strong>ï¼šè°ƒç”¨æ–¹å¿…é¡»æ»¡è¶³çš„æ¡ä»¶</li>
<li><strong>Postconditionï¼ˆåç½®æ¡ä»¶ï¼‰</strong>ï¼šè¢«è°ƒç”¨æ–¹åœ¨å®Œæˆåå¿…é¡»ä¿è¯çš„æ¡ä»¶</li>
<li><strong>Invariantï¼ˆä¸å˜é‡ï¼‰</strong>ï¼šå¯¹è±¡/æ¨¡å—åœ¨ç”Ÿå‘½å‘¨æœŸä¸­éœ€è¦é•¿æœŸç»´æŒçš„çº¦æŸ</li>
</ul>
<p>ç”¨æ›´çŸ­çš„ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯ï¼š<strong>å¥‘çº¦å…ˆè¡Œâ€”â€”å…ˆæŠŠè¾¹ç•Œå†™æ¸…æ¥šï¼Œå†è°ˆå®ç°ã€‚</strong></p>
<p>è¿™ä¸€æ€è·¯ç”šè‡³å¯ä»¥å»¶ä¼¸åˆ°ç³»ç»Ÿçº§è®¾è®¡ï¼šä¸ŠèŠ‚æåˆ°çš„ Leslie Lamportï¼Œå®ƒæå‡ºçš„ TLA+ï¼Œå°±æ˜¯ç”¨æ•°å­¦åŒ–çš„ Spec æè¿°åˆ†å¸ƒå¼ã€å¹¶å‘ç­‰å¤æ‚åœºæ™¯çš„å…¨å±€å¥‘çº¦ï¼Œæå‰éªŒè¯ â€œæ•°æ®ä¸€è‡´æ€§â€â€œå¹¶å‘æ­»é”â€ è¿™ç±»ç»„ä»¶çº§å¥‘çº¦éš¾ä»¥è¦†ç›–çš„ç³»ç»Ÿçº§é€»è¾‘æ¼æ´ï¼Œå’Œ DbC æœ¬è´¨éƒ½æ˜¯ â€œå…ˆé”è§„åˆ™ï¼Œå†åšå®ç°â€ã€‚</p>
<p>ä¸ºä»€ä¹ˆç±»ä¼¼çš„ä¸œè¥¿å¤šå¹´å‰æ²¡æœ‰æˆä¸º"é»˜è®¤å®è·µ"ï¼Ÿå¯èƒ½æ˜¯å› ä¸ºç°å®çº¦æŸï¼šå®ç°æˆæœ¬é«˜ã€äº¤ä»˜å‹åŠ›å¤§ã€ç»„ç»‡æ‰©å¼ å¿«ã€‚ä½ è®©å¤§å®¶å…ˆå†™ Specã€å…ˆåšå½¢å¼åŒ–å»ºæ¨¡â€”â€”è¿™åœ¨çŸ­æœŸçœ‹èµ·æ¥æ˜¯"é¢å¤–æŠ•å…¥"ã€‚</p>
<p>Fred Brooks åœ¨ <em>No Silver Bullet</em>ï¼ˆ1986ï¼‰é‡ŒåŒºåˆ†è¿‡ä¸¤ç±»å¤æ‚æ€§ï¼š</p>
<ul>
<li><strong>Accidental Complexityï¼ˆå¶ç„¶å¤æ‚æ€§ï¼‰</strong>ï¼šè¯­æ³•ã€æ ·æ¿ä»£ç ã€ç¯å¢ƒé…ç½®ã€é‡å¤åŠ³åŠ¨â€”â€”ä¸»è¦ç”±å·¥å…·å’Œæµç¨‹é€ æˆ</li>
<li><strong>Essential Complexityï¼ˆæœ¬è´¨å¤æ‚æ€§ï¼‰</strong>ï¼šéœ€æ±‚æ¾„æ¸…ã€æŠ½è±¡è®¾è®¡ã€ç³»ç»Ÿè¾¹ç•Œã€ä¸€è‡´æ€§è¯­ä¹‰â€”â€”æ¥è‡ªé—®é¢˜åŸŸæœ¬èº«</li>
</ul>
<p>AI æ¥äº†ä¹‹åï¼Œè¿™ä¸ªè´¦è¦é‡æ–°ç®—ï¼š</p>






























<table><thead><tr><th/><th>è¿‡å»</th><th>AI æ—¶ä»£</th></tr></thead><tbody><tr><td><strong>å¶ç„¶å¤æ‚æ€§</strong></td><td>æ¶ˆè€—å¤§é‡å·¥ç¨‹ç²¾åŠ›</td><td>AI å¤§å¹…å‹ç¼©ï¼ˆå†™æ¥å£ã€è¡¥æ ·æ¿ã€ä¿® lintï¼‰</td></tr><tr><td><strong>æœ¬è´¨å¤æ‚æ€§</strong></td><td>åŒæ ·å­˜åœ¨ï¼Œä½†å¸¸è¢«"èµ¶è¿›åº¦"æ©ç›–</td><td>ä»ç„¶å­˜åœ¨ï¼Œç”šè‡³æ›´å®¹æ˜“è¢« AI çš„"å®Œæ•´å®ç°"æ©ç›–</td></tr><tr><td><strong>æ ¸å¿ƒèµ„äº§</strong></td><td>ä»£ç æœ¬èº«</td><td>å¥‘çº¦å±‚ï¼ˆç±»å‹ / æ¥å£ / æµ‹è¯• / Specï¼‰</td></tr><tr><td><strong>ä»£ç çš„æ€§è´¨</strong></td><td>èµ„äº§ã€å¿ƒè¡€ã€ä¸è½»æ˜“åˆ </td><td>å¯è’¸å‘ç‰©ã€å¯é‡å»ºçš„ç¼“å­˜</td></tr></tbody></table>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58f5ebdf78fd4dfd9e1a16e52207e9a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxpZW5aSE9V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770731248&amp;x-signature=cwqcwJNqU%2BE04njBdR4Y0mtAy9w%3D" alt="file" loading="lazy"/></p>
<p>å›åˆ°å‰å‡ å¤©æˆ‘åˆ ä»£ç çš„æ“ä½œâ€”â€”æˆ‘èƒ½é‚£ä¹ˆæœæ–­ï¼Œé çš„å…¶å®ä¸æ˜¯å‹‡æ°”ï¼Œæ˜¯åº•æ°”ã€‚åº•æ°”æ¥è‡ªä¸€å±‚"å¥‘çº¦"å·²ç»å†™åœ¨é‚£é‡Œï¼š</p>
<ul>
<li>ç±»å‹ï¼šè¾“å…¥è¾“å‡ºçš„ç»“æ„çº¦æŸ</li>
<li>æ¥å£ï¼šæ¨¡å—æš´éœ²ä»€ä¹ˆèƒ½åŠ›ã€æ€ä¹ˆè°ƒç”¨</li>
<li>æµ‹è¯•ï¼šå“ªäº›è¡Œä¸ºå¿…é¡»æˆç«‹ï¼Œè¾¹ç•Œåœ¨å“ªé‡Œ</li>
</ul>
<p>åªè¦è¿™å±‚ä¸œè¥¿åœ¨ï¼Œä»£ç å°±æ²¡é‚£ä¹ˆç¥åœ£äº†ã€‚å†™å¾—ä¸å¥½ï¼Ÿå®åœ¨ä¸è¡Œè°ƒæ•´å®Œâ€œå¥‘çº¦â€ï¼Œä»£ç åˆ æ‰é‡æ¥ã€‚æŸä¸ªå®ç°ç»•äº†ï¼Ÿæ¢ä¸€ç§å†™æ³•ã€‚ç”šè‡³æ•´ä¸ªæ¨¡å—éƒ½èƒ½æ›¿æ¢æ‰â€”â€”å‰ææ˜¯<strong>å¥‘çº¦å¯é </strong>ã€‚</p>
<p>æ‰€ä»¥æˆ‘æœ‰ä¸€ä¸ªç¨å¾®æ¿€è¿›ä½†å¾ˆå®ç”¨çš„å¿ƒæ™ºæ¨¡å‹ï¼š</p>
<blockquote>
<p><strong>Specï¼ˆå¹¿ä¹‰å¥‘çº¦ï¼‰ä¸æµ‹è¯•æ›´æ¥è¿‘"æº"ï¼Œå®ç°æ›´åƒä¸€ç§å¯é‡å»ºçš„ç¼“å­˜ã€‚</strong></p>
</blockquote>
<p>æˆ‘ä¸æ˜¯è¯´å®ç°ä¸é‡è¦ï¼Œè€Œæ˜¯è¯´ï¼šåœ¨å¥‘çº¦è¶³å¤Ÿæ¸…æ™°ã€éªŒè¯è¶³å¤Ÿè‡ªåŠ¨åŒ–çš„å‰æä¸‹ï¼Œ<strong>å®ç°çš„å¯æ›¿æ¢æ€§ä¼šæ˜¾è‘—æé«˜</strong>ã€‚</p>
<h2 data-id="heading-2">3ã€æŠ€æœ¯æ ˆä¼š"åˆ†å±‚æ²‰æ·€"</h2>
<p>é‚£ä¹ˆï¼Œæœªæ¥çš„æŠ€æœ¯æ ˆä¼šå¦‚ä½•åˆ†å±‚å‘¢ï¼Ÿ</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-attr">[è¡¨å±‚]</span> ä¸šåŠ¡å˜åŒ–å¿« / è¿­ä»£å¿«
       ä»£ç å¯æ›¿æ¢æ€§å¼ºï¼ŒAI å†™å¾—æœ€å¤šã€‚å¤§å®¶åŸºæœ¬éƒ½åœ¨è¿™ä¸€å±‚å·¥ä½œã€‚

<span class="hljs-selector-attr">[ä¸­å±‚]</span> é€šç”¨èƒ½åŠ›æ²‰æ·€ï¼šç»„ä»¶åº“ / æ¡†æ¶ / ä¸­é—´ä»¶
       å˜åŒ–å˜æ…¢ï¼Œå¼€å§‹å¼ºè°ƒç¨³å®šæ€§ä¸å…¼å®¹æ€§ã€‚å‡ºç°ä¸€äº›æœªæ¥è¢«å«åšâ€œåº•å±‚"çš„æ–°åŸºæ¶äººã€‚

<span class="hljs-selector-attr">[åŸºå²©]</span> runtime / ç¼–è¯‘å™¨ / OS / åè®®æ ˆ
       å˜åŠ¨æå°‘ï¼Œä½†ä¸€åŠ¨å°±å¯èƒ½æ˜¯ç³»ç»Ÿçº§å½±å“ã€‚å¾ˆå¤šå…¬å¸å¯èƒ½éƒ½æ²¡ä¸€ä¸ªè¿™æ ·çš„äººã€‚
</code></pre>
<p>è¿™å…¶å®å°±æ˜¯å†å²åœ¨é‡æ¼”ï¼š</p>






























<table><thead><tr><th>æ—¶ä»£</th><th>"ä¸»æµâ€å¼€å‘è€…åœ¨å†™ä»€ä¹ˆ</th><th>"åº•å±‚"äº¤ç»™è°äº†</th></tr></thead><tbody><tr><td>1960s</td><td>æ±‡ç¼–</td><td>ç¡¬ä»¶å·¥ç¨‹å¸ˆ</td></tr><tr><td>1990s</td><td>C/C++</td><td>æ±‡ç¼– / OS ä¸“å®¶</td></tr><tr><td>2010s</td><td>é«˜çº§è¯­è¨€ / æ¡†æ¶</td><td>ç³»ç»Ÿç¨‹åºå‘˜</td></tr><tr><td>2030s?</td><td>Spec / å¥‘çº¦ / æ¶æ„è®¾è®¡</td><td>AI + å°‘æ•°ä»£ç ä¸“å®¶</td></tr></tbody></table>
<p>ä»Šå¤©å†™ä¸šåŠ¡çš„äººä¸æ‡‚æ±‡ç¼–ï¼Œä¹Ÿä¸éœ€è¦æ‡‚ï¼›ä½†æˆ‘ä»¬ä»ç„¶éœ€è¦æ‡‚æ±‡ç¼–/æ‡‚ runtime çš„äºº â€”â€” ä¸å¤šï¼Œä½†ä¸èƒ½æ²¡æœ‰ã€‚</p>
<p>é‚£ä¹ˆï¼Œå½“ä¸‹æ˜¯é‚£äº›ä¸æ‡‚ä»£ç çš„äººï¼Œæˆä¸ºäº† Spec / å¥‘çº¦ / æ¶æ„è®¾è®¡å¸ˆä¹ˆï¼Ÿ</p>
<p>ä¹Ÿè®¸ä¸æ˜¯ã€‚æˆ‘è§‚å¯Ÿåˆ°ä¸€ä¸ªæœ‰ç‚¹"æ®‹é…·"çš„ç°è±¡ï¼š<strong>é‚£äº›èƒ½ä¸Šå‡åˆ° AI x Spec Engineer çš„äººï¼Œå¾€å¾€æ˜¯æœ¬èº« Coding èƒ½åŠ›å°±å¾ˆå¼ºçš„äººã€‚</strong></p>
<p>ä»–ä»¬ä¸æ˜¯å› ä¸º"çœ‹ä¸èµ·ã€çœ‹ä¸æ‡‚ä»£ç "è€Œä¸Šå»çš„ï¼Œè€Œæ˜¯å› ä¸ºä»–ä»¬çœŸçš„æŠŠä»£ç ç©æ‡‚äº† â€”â€” å†™å¾—å¤Ÿå¤šã€è¸©è¿‡å¤Ÿå¤šå‘ã€è¯»è¿‡å¤Ÿå¤šæºç ï¼Œæ‰æ•¢åœ¨ä¸Šå±‚éšå¿ƒæ‰€æ¬²ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå€ŸåŠ© AI ç¼–ç ï¼Œè¶Šä¼šå†™ä»£ç çš„äººï¼Œè¶Šä¸éœ€è¦å†™ä»£ç äº†ã€‚è¿™å°±å¼•å‡ºä¸€ä¸ªå›°å¢ƒï¼š</p>
<h2 data-id="heading-3">4ã€æˆé•¿è·¯å¾„æ–­è£‚ï¼šä¸å†™ä»£ç ï¼Œèƒ½æ‡‚ä»£ç å—ï¼Ÿ</h2>
<p>Ruby on Rails çš„ä½œè€… DHH å†™è¿‡ä¸€ç¯‡æ–‡ç« <a href="https://link.juejin.cn?target=https%3A%2F%2Fworld.hey.com%2Fdhh%2Fcoding-should-be-a-vibe-50908f49" target="_blank" title="https://world.hey.com/dhh/coding-should-be-a-vibe-50908f49" ref="nofollow noopener noreferrer">ã€ŠCoding should be a vibe!ã€‹</a>ï¼Œä»–è¯´ AI æ˜¯å¾ˆå¥½çš„ç»“å¯¹ä¼™ä¼´ï¼Œä½†æŠŠé”®ç›˜å®Œå…¨äº¤å‡ºå»ï¼Œä»–å®å¯é€€ä¼‘ã€‚ä»–çš„ç†ç”±å¾ˆç®€å•ï¼šå†™ä»£ç æœ¬èº«å°±æ˜¯ä¹è¶£ï¼Œæ˜¯æ‰‹è‰ºã€‚æœªæ¥æ‰‹åŠ¨ç¼–ç æˆ–è®¸ä¼šå˜æˆç±»ä¼¼ â€œå…»é©¬ä»£æ­¥â€ çš„å°ä¼—çˆ±å¥½ï¼Œå¤±å»ç»æµä»·å€¼ â€”â€”ç¼–ç¨‹åº”è¯¥ä»¥äººä¸ºæœ¬ï¼Œè¿åˆå¼€å‘è€…çš„éœ€æ±‚ï¼Œå¸¦æ¥æ„‰æ‚¦çš„ä½“éªŒã€‚</p>
<p>ä½†ä»–åŒæ—¶è¿˜æå‡ºäº†ä¸€ä¸ªæ›´å°–é”çš„é—®é¢˜ï¼š</p>
<blockquote>
<p>"If you don't actually write code, how do you learn to code?"</p>
<p>å¦‚æœä½ ä¸å»çœŸå®åœ°å†™ä»£ç ï¼Œä½ å¦‚ä½•å­¦ä¼š Codingï¼Ÿï¼ˆæ¥è‡ª DHH çš„å¦ä¸€æœŸ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D6i5hvNA72ZU" target="_blank" title="https://www.youtube.com/watch?v=6i5hvNA72ZU" ref="nofollow noopener noreferrer">æ’­å®¢è®¿è°ˆ</a>ï¼‰</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5dc12164c1341c58779c8bd9e832c62~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxpZW5aSE9V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770731248&amp;x-signature=5SPbUkHeytbq6ymuMsLxQqiyPDs%3D" alt="file" loading="lazy"/></p>
<p>ä»–æ‰“äº†ä¸€ä¸ªå¼¹å‰ä»–çš„æ¯”æ–¹ï¼šä½ çœ‹å†å¤šçš„å‰ä»–è§†é¢‘ï¼Œåªè¦ä½ æ²¡æœ‰äº²æ‰‹å»å­¦ä¹ ï¼Œä½ å°±å¾ˆéš¾å­¦ä¼šå¼¹å‰ä»–ã€‚æ”¾åœ¨æˆ‘ä»¬ä»Šå¤©çš„è¯­å¢ƒé‡Œï¼Œè¿™ä¸ªé—®é¢˜å¯ä»¥å†æ¨ä¸€æ­¥ï¼š</p>
<blockquote>
<p>è¦æˆä¸ºé¡¶å°–çš„ Spec Engineerï¼Œéœ€è¦æ·±åˆ»ç†è§£ä»£ç ã€‚</p>
<p>ä½†å¦‚æœ Coding è¢« AI æ¥ç®¡äº†ï¼Œè¿™ç§ç†è§£ä»å“ªé‡Œæ¥ï¼Ÿ</p>
</blockquote>
<p>è¿™å°±æ˜¯æˆ‘è¯´çš„"æˆé•¿è·¯å¾„æ–­è£‚"ï¼šè¿‡å»æˆ‘ä»¬é "å†™å¾—å¤š â†’ è¸©å‘å¤š â†’ ç†è§£æ·±"æ¥ç§¯ç´¯èƒ½åŠ›ã€‚ç°åœ¨ç¬¬ä¸€æ­¥è¢« AI æ›¿æ‰äº†ï¼Œä¸­é—´ä¼šä¸ä¼šæ–­å±‚ï¼Ÿ</p>
<p>é¢å¯¹è¿™ä¸ªå›°éš¾ï¼Œåœ¨å…¶ä»–äº‹æƒ…ä¸Šä¹Ÿè®¸èƒ½æ‰¾åˆ°ä¸€äº›å‚è€ƒï¼š</p>
<ul>
<li><strong>é£è¡Œå‘˜ä¸æ˜¯æ¯å¤©éƒ½æ‰‹åŠ¨é£</strong>ï¼Œä½†ä»–ä»¬å®šæœŸç”¨æ¨¡æ‹Ÿå™¨ä¿æŒæ‰‹æ„Ÿã€è®­ç»ƒæç«¯æƒ…å†µã€‚ä»£ç ä¼šä¸ä¼šå˜æˆç±»ä¼¼çš„"æ¨¡æ‹Ÿå™¨"â€”â€”ä¸æ˜¯æ—¥å¸¸ç”Ÿäº§å·¥å…·ï¼Œè€Œæ˜¯ç”¨æ¥å»ºç«‹ç›´è§‰ã€è®­ç»ƒè¯Šæ–­èƒ½åŠ›çš„è®­ç»ƒå·¥å…·ï¼Ÿ</li>
<li><strong>æŒ‡æŒ¥å®¶ä¸éœ€è¦ç²¾é€šæ¯ç§ä¹å™¨</strong>ï¼Œä½†ä»–æ‡‚ä¹ç†ã€æ‡‚é…å™¨ã€å¬è¿‡è¶³å¤Ÿå¤šã€ä¹ŸæŒ‡æŒ¥è¿‡è¶³å¤Ÿå¤šã€‚æœªæ¥çš„ Spec Engineerï¼Œä¹Ÿè®¸ä¸éœ€è¦"èƒ½æ‰‹å†™ä¸€åˆ‡"ï¼Œä½†éœ€è¦"èƒ½å¬æ‡‚ä»£ç åœ¨è¯´ä»€ä¹ˆã€èƒ½è¯Šæ–­å“ªé‡Œå‡ºäº†é—®é¢˜"ã€‚</li>
<li><strong>åŒ»ç”Ÿçš„ä½é™¢å®ä¹ æœŸä»ç„¶å­˜åœ¨</strong>ï¼Œå³ä½¿æ‰‹æœ¯æœºå™¨äººè¶Šæ¥è¶Šå¼ºã€‚ä¹Ÿè®¸æˆ‘ä»¬ä»ç„¶éœ€è¦ä¸€æ®µ"å¼ºåˆ¶æ‰‹å†™ä»£ç "çš„é˜¶æ®µï¼Œä½œä¸ºå»ºç«‹åº•å±‚ç†è§£çš„å¿…ç»ä¹‹è·¯ã€‚</li>
</ul>
<p>"æ‡‚ä»£ç "çš„å®šä¹‰å¯èƒ½ä¼šå˜ï¼šä»"æˆ‘èƒ½æŠŠå®ƒå†™å‡ºæ¥"ï¼Œå˜æˆ"æˆ‘èƒ½å®¡æŸ¥å®ƒã€èƒ½è¯„åˆ¤å®ƒã€èƒ½åœ¨å…³é”®æ—¶åˆ»è¯Šæ–­å®ƒ"ã€‚</p>
<p>è¿™åªæ˜¯ä¸€äº›æ¨æµ‹ï¼Œç°åœ¨æ²¡æœ‰ç­”æ¡ˆã€‚ç”šè‡³"æ²¡æœ‰ç­”æ¡ˆ"æœ¬èº«å°±æ˜¯ç­”æ¡ˆçš„ä¸€éƒ¨åˆ†ï¼šæˆ‘ä»¬æ­£åœ¨ç»å†ä¸€æ¬¡èŒä¸šè·¯å¾„çš„å·¨å¤§å˜åŒ–ã€‚</p>
<h2 data-id="heading-4">5ã€é‚£ç°åœ¨åº”è¯¥å­¦ä»€ä¹ˆï¼Ÿ</h2>
<p>æœ€è¿‘é¢è¯•çš„æ—¶å€™ï¼Œæœ‰å€™é€‰äººé—®ï¼š<strong>ç°åœ¨åº”è¯¥å­¦ä»€ä¹ˆï¼Ÿ</strong></p>
<p>ä»–ä»¬çš„å›°æƒ‘å¾ˆçœŸå®ï¼šè¿‡å»èŠ±æ—¶é—´æŒæ¡çš„å¾ˆå¤šç¼–ç çŸ¥è¯†ï¼ŒAI ç°åœ¨éƒ½ä¼šäº†ï¼›è€Œä¸”åœ¨æ—¥å¸¸å·¥ä½œé‡Œï¼Œå¤§å®¶ä¹Ÿç¡®å®è¶Šæ¥è¶Šä¾èµ– AI æ¥å†™ä»£ç ã€‚é‚£æ¥ä¸‹æ¥å¾€å“ªèµ°ï¼Ÿ</p>
<p>åŒæ ·è¿™ä¹Ÿæ˜¯æˆ‘ä»¬å¾ˆå¤šäººçš„å›°æƒ‘ã€‚å¦‚æœè¦å°è¯•å›ç­”ï¼Œå¯èƒ½æ˜¯ï¼š</p>
<h3 data-id="heading-5">ç¬¬ä¸€ï¼Œé‡æ–°å­¦ä¹ è½¯ä»¶å·¥ç¨‹å’Œæ¶æ„è®¾è®¡ã€‚</h3>
<p>è¿™å¬èµ·æ¥åƒå¥åºŸè¯ï¼Œä½†è®¤çœŸæƒ³æƒ³ï¼šè¿‡å»åå‡ å¹´äº’è”ç½‘é«˜é€Ÿå¢é•¿çš„æ—¶å€™ï¼Œå¤§å®¶çš„æ³¨æ„åŠ›å¤§å¤šåœ¨"æ€ä¹ˆæ›´å¿«å†™å‡ºæ¥"ä¸Šã€‚è½¯ä»¶å·¥ç¨‹é‚£äº›ä¸œè¥¿â€”â€”æŠ½è±¡å»ºæ¨¡ã€ç³»ç»Ÿè¾¹ç•Œã€å¥‘çº¦è®¾è®¡â€”â€”åœ¨è¯¾ä¸Šå¬è¿‡ï¼Œåœ¨å·¥ä½œé‡Œè½å®å¾—ä¸å¤šã€‚</p>
<p>ç°åœ¨ AI æŠŠ Coding æˆæœ¬æ‰“ä¸‹æ¥äº†ï¼Œè¿™äº›"ä¸Šå±‚èƒ½åŠ›"åè€Œå˜å¾—æ›´å€¼é’±ã€‚é‡æ–°æŠŠå®ƒä»¬æ¡èµ·æ¥ï¼Œä¸æ˜¯å¤å¤ï¼Œæ˜¯é¡ºåŠ¿è€Œä¸ºã€‚æ¯”å¦‚ç°åœ¨å¤§å®¶çƒ­è®®çš„ SDDï¼ˆSpec-Driven Developmentï¼‰ã€TDDï¼ˆTest-Driven Developmentï¼‰ã€PBTï¼ˆProperty-Based Testingï¼‰â€”â€”è¿™äº›æ¦‚å¿µéƒ½ä¸æ˜¯ AI æ—¶ä»£æ–°åˆ›çš„ï¼Œæœ€æ—©çš„å¯ä»¥è¿½æº¯åˆ°äºŒä¸‰åå¹´å‰ã€‚åªæ˜¯ç°åœ¨ AI è®©"å…ˆå†™ Spec/æµ‹è¯•ï¼Œè®©æœºå™¨å¡«å®ç°"è¿™ä»¶äº‹å˜å¾—çœŸæ­£å¯è¡Œï¼Œå®ƒä»¬æ‰é‡æ–°ç¿»çº¢ã€‚</p>
<h3 data-id="heading-6">ç¬¬äºŒï¼ŒæŠŠ Vibe Coding/Vibe Engineering å½“æˆä¸€é—¨å®è·µè¯¾æ¥å­¦ã€‚</h3>
<p>Vibe Coding ä¸Šæ‰‹å¤ªç®€å•ï¼Œè®©å¤§å®¶ä¼šè¯¯ä»¥ä¸ºå®ƒå¹¶æ²¡æœ‰æŠ€å·§ã€‚å…¶å®ä¸ç„¶ã€‚OpenAI åˆ›å§‹æˆå‘˜ã€ç‰¹æ–¯æ‹‰å‰ AI æ€»ç›‘ Andrej Karpathy <a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fkarpathy%2Fstatus%2F2004607146781278521" target="_blank" title="https://x.com/karpathy/status/2004607146781278521" ref="nofollow noopener noreferrer">å‘æ¨</a>è¯´è‡ªå·±"ä½œä¸ºç¨‹åºå‘˜ä»æœªæ„Ÿåˆ°å¦‚æ­¤è½å"ï¼Œä»–è§‰å¾—å¦‚æœèƒ½æŠŠè¿‡å»ä¸€å¹´å‡ºç°çš„ä¸œè¥¿ä¸²èµ·æ¥ï¼Œç”Ÿäº§åŠ›å¯ä»¥æå‡ 10 å€ï¼Œä½†æ²¡åšåˆ°å°±æ˜¯æŠ€èƒ½é—®é¢˜ã€‚Steve Yegge åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fk147AyWj01W-V7IpkV0g2A" target="_blank" title="https://mp.weixin.qq.com/s/k147AyWj01W-V7IpkV0g2A" ref="nofollow noopener noreferrer">è¿‘æœŸè®¿è°ˆ</a>é‡Œæ›´æ¿€è¿›ï¼šä»–è®¤ä¸ºé©¾é©­ AI ç¼–ç¨‹éœ€è¦çº¦ 2000 å°æ—¶çš„åˆ»æ„ç»ƒä¹ ã€‚</p>
<p>ä¸ç®¡ä½ å«å®ƒ Vibe Codingã€Vibe Engineering è¿˜æ˜¯åˆ«çš„ä»€ä¹ˆï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ç§<strong>æ–°çš„åä½œæ¨¡å¼</strong>â€”â€”éœ€è¦ä¸»åŠ¨å­¦ä¹ å’Œåˆ»æ„ç»ƒä¹ ï¼Œä¸æ˜¯å¤©ç„¶å°±ä¼šçš„ï¼ˆå‰ä¸€ç¯‡æ–‡ç« ä¹Ÿæœ‰æåˆ°ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fkstack.corp.kuaishou.com%2Farticle%2F14474" target="_blank" title="https://kstack.corp.kuaishou.com/article/14474" ref="nofollow noopener noreferrer">ã€ŠVibe Coding ä¸­çš„ 5 ä¸ªé€‰æ‹©ã€‹</a>ï¼‰ã€‚</p>
<p>é‚£å¯¹äºæˆ‘ä»¬è¿™äº›æ¥è§¦ä¸æ·±çš„å¼€å‘è€…ï¼Œå¯ä»¥å¦‚ä½•å¾ªåºæ¸è¿›å‘¢ï¼Ÿ</p>
<ol>
<li><strong>å°è¯•ç”¨"è®¡åˆ’æ¨¡å¼"å…¥é—¨ SDD</strong>â€”â€”å¾ˆå¤š AI ç¼–ç å·¥å…·éƒ½æœ‰ç±»ä¼¼çš„èƒ½åŠ›ï¼Œæ ¹æ®ä½ çš„éœ€æ±‚å…ˆç”Ÿæˆè®¡åˆ’æ–‡æ¡£ï¼ˆspecï¼‰ï¼Œç­‰ä½ ç¡®è®¤åå†ç”Ÿæˆå®ç°ã€‚è¿™æ˜¯æœ€ä½æˆæœ¬çš„å…¥é—¨æ–¹å¼ã€‚æ…¢æ…¢æ‰¾åˆ°ç”¨æ–‡æ¡£å’Œ Spec é©±åŠ¨å¼€å‘çš„æ„Ÿè§‰</li>
<li><strong>è§£é”å¹¶è¡Œå·¥ä½œçš„èƒ½åŠ›</strong>â€”â€”åŒæ—¶è®©å¤šä¸ª Agent å¸®ä½ ä¸€èµ·å¹²æ´»ã€‚å¤§å®¶å¯ä»¥åœ¨å¾ˆå¤šå·¥å…·é‡Œæ‰¾ä¸ªè¿™ä¸ªèƒ½åŠ›ã€‚</li>
<li><strong>å‘ç°é€‚åˆè‡ªå·±çš„å·¥ä½œæ¨¡å¼</strong>â€”â€”æ¯ä¸ªäººçš„ä¹ æƒ¯ä¸ä¸€æ ·ï¼Œæœ‰äººå–œæ¬¢å…ˆå†™æµ‹è¯•ï¼Œæœ‰äººå–œæ¬¢å…ˆç”»æ¶æ„å›¾ï¼Œæœ‰äººå–œæ¬¢å¯¹è¯å¼è¿­ä»£ã€‚æ‰¾åˆ°ä½ è‡ªå·±çš„èŠ‚å¥ï¼Œé€æ­¥å»æŒ‘æˆ˜æ›´å¤æ‚çš„ä»»åŠ¡ã€‚</li>
<li><strong>æ‰“é€ è‡ªå·±çš„å·¥ä½œæµ</strong>â€”â€”å€ŸåŠ© Skillsã€Rulesã€MCP ç­‰ï¼Œæ‰“é€ è‡ªå·±çš„é«˜æ•ˆå·¥ä½œæ¨¡å¼ã€‚</li>
</ol>
<h3 data-id="heading-7">ç¬¬ä¸‰ï¼Œå¤šèŠ±ç‚¹æ—¶é—´å…³æ³¨è‡ªå·±çš„ä¸šåŠ¡ã€‚</h3>
<p>ä¸è¦å…‰æ­»ç›¯ç€ä»£ç äº†ï¼Œç†è§£ä¸šåŠ¡ï¼Œç†è§£ç›®æ ‡ï¼Œç†è§£æ•´ä¸ªäº‹æƒ…ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšã€‚æ‹’ç»æˆä¸º AI äººæŸ±åŠ›ã€‚</p>
<h2 data-id="heading-8">6ã€ä¸€ä¸ªå¼€æ”¾é—®é¢˜</h2>
<p>æœ€åç•™ä¸€ä¸ªé—®é¢˜ç»™å¤§å®¶ï¼Œå¯ä»¥å°½æƒ…åœ¨è¯„è®ºåŒºå¤§æˆ˜ï¼š</p>
<blockquote>
<p><strong>ä¼šä¸ä¼šå‡ºç°"ä»£ç ç›²"çš„ä¼˜ç§€æ¶æ„å¸ˆï¼Ÿ</strong>â€”â€” ä»æœªäº²æ‰‹å†™è¿‡ä»£ç ï¼Œä½†èƒ½è®¾è®¡å‡ºè‰²çš„ç³»ç»Ÿ</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a2dd8afd93254c11a252ed20a0104c61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxpZW5aSE9V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770731248&amp;x-signature=wqJbjYvu1LaUvsq7h6f2VGJWJJY%3D" alt="file" loading="lazy"/></p>
<p>æ— è®ºç­”æ¡ˆæ˜¯ä»€ä¹ˆï¼Œ<strong>å½“å®ç°æˆæœ¬ä¸‹é™æ—¶ï¼Œèƒ½å¤ŸæŠŠäº‹æƒ…"æƒ³æ¸…æ¥šã€å†™æ¸…æ¥šã€éªŒè¯æ¸…æ¥š"çš„èƒ½åŠ›ï¼Œä¼šå˜å¾—æ›´ç¨€ç¼º</strong>ã€‚</p>
<p>å›åˆ°å¼€å¤´çš„é—®é¢˜ï¼š<strong>å¦‚æœä»£ç ä¸å€¼é’±äº†ï¼Œå†™ä»£ç çš„äººè¿˜å€¼é’±å—ï¼Ÿ</strong></p>
<p>æˆ‘çš„å›ç­”æ˜¯ï¼š<strong>å†™ä»£ç çš„äººä¸ä¼šæ¶ˆå¤±ï¼Œä½†èƒ½"å®šä¹‰æ¸…æ¥šè¦å†™ä»€ä¹ˆ"çš„äººä¼šæ›´å€¼é’±ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æŠŠåºŸå¼ƒçš„è…¾è®¯äº‘æœåŠ¡å™¨æ”¹ä¸º Openclaw ä»…éœ€ä¸€å¥è¯ï¼ï¼ï¼ï¼ˆé™„å¸¦å…è´¹ç™½å«–AIæ¨¡å‹ï¼‰]]></title>    <link>https://juejin.cn/post/7602466689712078863</link>    <guid>https://juejin.cn/post/7602466689712078863</guid>    <pubDate>2026-02-03T13:28:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602466689712078863" data-draft-id="7602246300454092835" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æŠŠåºŸå¼ƒçš„è…¾è®¯äº‘æœåŠ¡å™¨æ”¹ä¸º Openclaw ä»…éœ€ä¸€å¥è¯ï¼ï¼ï¼ï¼ˆé™„å¸¦å…è´¹ç™½å«–AIæ¨¡å‹ï¼‰"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-03T13:28:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LucianaiB"/> <meta itemprop="url" content="https://juejin.cn/user/1269294586664749"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æŠŠåºŸå¼ƒçš„è…¾è®¯äº‘æœåŠ¡å™¨æ”¹ä¸º Openclaw ä»…éœ€ä¸€å¥è¯ï¼ï¼ï¼ï¼ˆé™„å¸¦å…è´¹ç™½å«–AIæ¨¡å‹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1269294586664749/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LucianaiB
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T13:28:07.000Z" title="Tue Feb 03 2026 13:28:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯çƒ­çˆ±æ¢ç´¢AIå‰æ²¿æŠ€æœ¯çš„LucianaiBã€‚</p>
<p>å‰é¢æˆ‘å°è¯•äº†ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥æ‰æ˜¯éƒ¨ç½²ä¸€ä¸‹è¯•è¯•</p>
<p>1.åœ¨ Windows ä¸Šéƒ¨ç½² Openclawï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FiF3ED1e649kkmdR26Y1xiw" target="_blank" title="https://mp.weixin.qq.com/s/iF3ED1e649kkmdR26Y1xiw" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/iF3ED1e64â€¦</a></p>
<p>2.æŠŠ Openclaw æ¥å…¥åˆ° Moltbookï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FQUrB50iwRGGdkl1LO-Tl8Q" target="_blank" title="https://mp.weixin.qq.com/s/QUrB50iwRGGdkl1LO-Tl8Q" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/QUrB50iwRâ€¦</a></p>
<p>ç›¸ä¿¡å¾ˆå¤šæŠ€æœ¯çˆ±å¥½è€…éƒ½æœ‰è¿™æ ·çš„ç»å†ï¼šè¶ç€åŒåä¸€æˆ–è€…å¤§ä¿ƒï¼Œè„‘å­ä¸€çƒ­ä¹°äº†ä¸€å°è…¾è®¯äº‘æˆ–è€…é˜¿é‡Œäº‘çš„æœåŠ¡å™¨ã€‚ä¹°çš„æ—¶å€™é›„å¿ƒå‹ƒå‹ƒï¼Œæƒ³ç€è¦æ­å»ºåšå®¢ã€è·‘è„šæœ¬ã€åšå›¾åºŠã€‚ç»“æœå‘¢ï¼Ÿå¤§æ¦‚ç‡æ˜¯è·‘äº†å‡ ä¸ªè‡ªåŠ¨åŒ–ç­¾åˆ°è„šæœ¬åï¼Œå®ƒå°±é™é™åœ°èººåœ¨æ§åˆ¶å°é‡Œâ€œåƒç°â€ï¼Œæ¯ä¸ªæœˆç™½ç™½æ‰£è´¹ã€‚</p>
<p>ä½†æ˜¯åœ¨è‡ªå·±çš„ç”µè„‘è¿è¡Œ Openclaw æ— æ³•åšåˆ°24å°æ—¶çš„åœ¨è¿è¡Œï¼Œäºæ˜¯æˆ‘å°±æƒ³åˆ°äº†æˆ‘æœ‰ä¸€ä¸ªå¥½ä¹…ä¸ç”¨çš„è…¾è®¯äº‘æœåŠ¡å™¨ï¼Œä¹‹å‰è´­ä¹°ä¸»è¦æ˜¯è·‘ä¸€äº›è‡ªåŠ¨åŒ–ç­¾åˆ°è„šæœ¬ï¼Œå¹¶æ²¡æœ‰å®é™…åšä»€ä¹ˆå…·ä½“å·¥ä½œã€‚äºæ˜¯æˆ‘å°±æƒ³åˆ°æŠŠåºŸå¼ƒçš„è…¾è®¯äº‘æœåŠ¡å™¨æ”¹ä¸º Openclaw çš„24å°æ—¶çš„æœåŠ¡å™¨ã€‚</p>
<p>äºæ˜¯ï¼Œä¸€ä¸ªå¤§èƒ†çš„æƒ³æ³•è¯ç”Ÿäº†ï¼š<strong>èƒ½ä¸èƒ½æŠŠæˆ‘é‚£ä¸ªé—²ç½®çš„è…¾è®¯**</strong>äº‘æœåŠ¡å™¨*<strong>*ï¼Œæ”¹é€ æˆä¸€ä¸ª 24 å°æ—¶åœ¨çº¿çš„ Openclawï¼Ÿ</strong></p>
<p>ä»Šå¤©ï¼Œæˆ‘å°±æ‰‹æŠŠæ‰‹æ•™å¤§å®¶ï¼Œå¦‚ä½•ç”¨ä¸€å¥è¯ï¼ŒæŠŠæœåŠ¡å™¨ç§’æ”¹ Openclawã€‚</p>
<h2 data-id="heading-0">ä¸€å¥è¯è®©è…¾è®¯äº‘æœåŠ¡å™¨æ”¹ä¸º Openclaw</h2>
<p>é¦–å…ˆæ‰“å¼€ä½ çš„æœåŠ¡å™¨ç®¡ç†ç½‘ç«™</p>
<p>ğŸ‘‰ <strong>ç›´è¾¾é“¾æ¥</strong>ï¼šï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fconsole.cloud.tencent.com%2Flighthouse%2Finstance%2F" target="_blank" title="https://console.cloud.tencent.com/lighthouse/instance/" ref="nofollow noopener noreferrer">console.cloud.tencent.com/lighthouse/â€¦</a></p>
<p>ï¼ˆå¦‚æœæ²¡æœ‰æœåŠ¡å™¨çš„å¯ä»¥é€šè¿‡å·¦ä¾§çš„ Openclaw ä¸“å±é“¾æ¥è·å–æœ‰æ›´å¤§ä¼˜æƒ ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.tencentcloud.com%2Fact%2Fpro%2FFreeTier%3Freferral_code%3DU0R814D3%26lang%3Den" target="_blank" title="https://www.tencentcloud.com/act/pro/FreeTier?referral_code=U0R814D3&amp;lang=en" ref="nofollow noopener noreferrer">www.tencentcloud.com/act/pro/Freâ€¦</a>ï¼‰</p>
<p>æ³¨ï¼šæˆ‘ç”¨çš„æ˜¯å›½å†…è…¾è®¯äº‘æœåŠ¡å™¨ï¼Œè€Œä¸“å±é“¾æ¥è·å¾—çš„æ˜¯è…¾è®¯äº‘å›½é™…æœåŠ¡å™¨ï¼Œç½‘ç»œè¿æ¥ OpenAI æˆ– GitHub ä¼šæ›´é¡ºç•…ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7bd3f5da6dee4a5c83b9a0fcc2ac1420~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=kCIOi%2FDWATc7sRbNpdytYQEcers%3D" alt="img" loading="lazy"/></p>
<p>é€‰æ‹©ä½ è¦éƒ¨ç½²çš„æœåŠ¡å™¨ç›´æ¥ç™»å½•å³å¯ï¼Œç™»å½•åå¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f8d78bbd7b04d79a77d968918a39519~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=fSWJPyGLwuMUeYqALTP2%2B3jyzy4%3D" alt="img" loading="lazy"/></p>
<h3 data-id="heading-1">çœŸæ­£çš„ã€Œ0 é—¨æ§›ã€å¯åŠ¨</h3>
<p>ä½ ä¸éœ€è¦æ‡‚ä»£ç ï¼ï¼ï¼</p>
<p>ç›´æ¥åœ¨å³ä¸Šè§’ç‚¹å‡»<code>OrcaTerm AI</code>ï¼Œå”¤é†’AIåŠ©æ‰‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d7c47d80183431183b1501224b5f142~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=inwf%2Bap%2BL7w%2FR4EwVIbTdepgZ%2B4%3D" alt="img" loading="lazy"/></p>
<p>åªè¦åœ¨ AI åŠ©æ‰‹ä¸­ç”¨æç¤ºè¯è¡¨è¾¾å³å¯ï¼Œä¾‹å¦‚ï¼š<strong>â€œéƒ¨ç½²OpenClawğŸ”¥â€</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1726ff205ada489786c4e32532be8bdc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=Nzkda4e9%2Bkb%2F4TuM2dyRq%2BslsNg%3D" alt="img" loading="lazy"/></p>
<p>AI åŠ©æ‰‹å°±ä¼šè‡ªåŠ¨è¯†åˆ«ä½ çš„éœ€æ±‚ï¼Œå¹¶è¿›å…¥éƒ¨ç½²å¼•å¯¼æµç¨‹ã€‚</p>
<p><strong>æ•´ä¸ªè¿‡ç¨‹ä¸éœ€è¦è¾“å…¥ä»»ä½•å‘½ä»¤ï¼Œåªéœ€è¦â€œç‚¹ç¡®è®¤â€ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/57cf262dbd3a4fd8ad24772ef6e9f43a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=Ip2FmqoHbLXrRNblBQqt0wW96l4%3D" alt="img" loading="lazy"/></p>
<h3 data-id="heading-2">åˆå§‹åŒ–é…ç½®å‘å¯¼</h3>
<p>éƒ¨ç½²å®Œæˆåéœ€è¦ç‚¹å‡»æ‰‹åŠ¨è¿è¡Œé…ç½®ä¸€ä¸‹å‘å¯¼ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">openclaw onboard --install-daemon
</code></pre>
<p>ä¸‹é¢çš„ç°åœ¨å¯ä»¥æŠŠæˆ‘çš„ä½œä¸ºå‚è€ƒï¼Œè¯¦ç»†çš„ä¹Ÿå¯ä»¥çœ‹å¼€å¤´1.åœ¨ Windows ä¸Šéƒ¨ç½² Openclaw ä½ç½®ä¸­æœ‰ä»‹ç»</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36f09e9e47b544d3ac071b6ca1b85668~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=k7MrWP%2BBtzpU1MsdUKP69HV%2BZmk%3D" alt="img" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ac86c0999da42f1b14052fadb2bfa95~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=cYJ2Na7YjieYnp19a5y83kZkovU%3D" alt="img" loading="lazy"/></p>
<p>ä¸‹é¢å°±æ˜¯æˆåŠŸäº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b100d5b614a7467286540796d6bc46a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=pc8KuwINUGGvJG8cSSDIW%2FrSowg%3D" alt="img" loading="lazy"/></p>
<h3 data-id="heading-3">å…è´¹ç™½å«–AIæ¨¡å‹ï¼ˆåŒ…æ‹¬ kimi-k2.5 ç­‰ï¼‰</h3>
<p>1.æ³¨å†Œè´¦å·ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fbuild.nvidia.com%2F" target="_blank" title="https://build.nvidia.com/" ref="nofollow noopener noreferrer">build.nvidia.com/</a>ï¼Œå»ºè®®ç”¨è°·æ­Œç™»å½•å³å¯ã€‚</p>
<p>2.å·¦ä¸Šè§’ç‚¹å‡»å¤´åƒï¼Œæ–°å»ºä¸€ä¸ªAPI Keyã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4284ab240e1c4288a6b2782f3bd6835c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=pTTMlmHzaY%2F5suPoRwdP45%2B9CzA%3D" alt="img" loading="lazy"/></p>
<p>3.å†æ¬¡å”¤é†’AIåŠ©æ‰‹ï¼ŒæŠŠä¸‹é¢çš„API KEYæ¢ä¸ºä½ è‡ªå·±çš„ï¼Œç›´æ¥æ‰”ç»™å®ƒç­‰å¾…å°±å¥½äº†ã€‚</p>
<pre><code class="hljs language-Python" lang="Python">å¸®æˆ‘æ‰“å¼€ ~/.openclaw/openclaw.jsonæ–‡ä»¶ï¼Œåœ¨ models éƒ¨åˆ†å¢åŠ ä¸‹é¢çš„ä»£ç ï¼Œæ³¨æ„ï¼šproviders å¤–é¢è¿˜è¦åŠ ä¸€å±‚ modelsï¼Œå¦‚æœåŸæ¥é…ç½®æœ‰modelså°±åŠ åˆ°åŸæ¥çš„é‡Œé¢
{
  ... å…¶ä»–å†…å®¹ä¸è¦æ”¹
  <span class="hljs-string">"models"</span>: {
   <span class="hljs-string">"providers"</span>:{
        <span class="hljs-string">"è‹±ä¼Ÿè¾¾nvidia"</span>: {
            <span class="hljs-string">"baseUrl"</span>: <span class="hljs-string">"https://integrate.api.nvidia.com/v1"</span>,
            <span class="hljs-string">"apiKey"</span>: <span class="hljs-string">"nvapi-HxKN8Zp2-xxxxx-æ›¿æ¢æˆä½ çš„ key,
            "</span>api<span class="hljs-string">": "</span>openai-completions<span class="hljs-string">",
            "</span>models<span class="hljs-string">": [
              {
                "</span><span class="hljs-built_in">id</span><span class="hljs-string">": "</span>moonshotai/kimi-k2<span class="hljs-number">.5</span><span class="hljs-string">",
                "</span>name<span class="hljs-string">": "</span>moonshotai/kimi-k2<span class="hljs-number">.5</span><span class="hljs-string">",
                "</span>reasoning<span class="hljs-string">": false,
                "</span><span class="hljs-built_in">input</span><span class="hljs-string">": [
                  "</span>image<span class="hljs-string">",
                  "</span>text<span class="hljs-string">"
                ],
                "</span>cost<span class="hljs-string">": {
                  "</span><span class="hljs-built_in">input</span><span class="hljs-string">": 0,
                  "</span>output<span class="hljs-string">": 0,
                  "</span>cacheRead<span class="hljs-string">": 0,
                  "</span>cacheWrite<span class="hljs-string">": 0
                },
                "</span>contextWindow<span class="hljs-string">": 200000,
                "</span>maxTokens<span class="hljs-string">": 8192
              }
            ]
        }
        ... å…¶ä»–å†…å®¹ä¸è¦æ”¹
    }
    ... å…¶ä»–å†…å®¹ä¸è¦æ”¹
  }
}
</span></code></pre>
<p>åŠ©æ‰‹ç›´æ¥å¸®ä½ é…ç½®æˆåŠŸ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eeb61cc13f584f3d9627b81627ab2c21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=xakRpVOCGwzGVqP8UJy0GH3o9%2Fg%3D" alt="img" loading="lazy"/></p>
<p>ä¿®æ”¹æ¨¡å‹ï¼Œè¾“å…¥ï¼š<code>openclaw config</code>ï¼Œä¿®æ”¹æ¨¡å‹ã€‚åˆ‡è®°</p>
<p>Model/auth provider é€‰æ‹©  Skip for now</p>
<p>Filter models by provider ä¸­é€‰æ‹©ä½ æ·»åŠ çš„ æ¨¡å‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa01190623604aeda89d79b1ffbf1610~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=94BO84Lxt0Qsz%2B5udtMwlQAPNOk%3D" alt="img" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea7544550e274da185f2359b56198afa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=YLjQfukdUrYKrs5aJhm4Sb3XshQ%3D" alt="img" loading="lazy"/></p>
<p>è¾“å…¥<code>openclaw gateway restart</code> é‡å¯ç½‘å…³ï¼Œå†è¾“å…¥ <code>openclaw tui</code> æµ‹è¯•æ¨¡å‹ï¼Œé—®ä»–æ˜¯ä»€ä¹ˆæ¨¡å‹å³å¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e57a9f22227046419c53b9d8a74c2d0e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=LKHrLkyavAbR7wsTUG8z%2FkwpIVk%3D" alt="img" loading="lazy"/></p>
<h2 data-id="heading-4">èµ‹äºˆçµé­‚ï¼šæ¥å…¥é£ä¹¦å®ç°è¿œç¨‹æ“æ§</h2>
<p>åœ¨æœ¬åœ°è¿è¡Œè™½ç„¶å¥½ï¼Œä½†æˆ‘ä»¬ä¸å¯èƒ½æ°¸è¿œå®ˆåœ¨ç”µè„‘å‰ã€‚æ¥å…¥é£ä¹¦ï¼ˆLarkï¼‰ï¼Œå°±èƒ½è®©ä½ åœ¨æ‰‹æœºä¸Šéšæ—¶éšåœ°ç»™å®¶é‡Œçš„ç”µè„‘ä¸‹è¾¾æŒ‡ä»¤ã€‚</p>
<p>1.æ‰“å¼€é£ä¹¦å¼€æ”¾å¹³å°é…ç½®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopen.feishu.cn%2Fapp" target="_blank" title="https://open.feishu.cn/app" ref="nofollow noopener noreferrer">open.feishu.cn/app</a>ï¼Œæ–°å»ºä¸€ä¸ªï¼Œè¾“å…¥ç›¸å…³ä¿¡æ¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0431793bbff643b28b1010e302e9b31f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=Qx6aZTSTA5MbL%2BihJEzWWMd%2F5dQ%3D" alt="img" loading="lazy"/></p>
<p>2.è·å–åˆ°ï¼šApp IDå’ŒApp Secret</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5f1f0df483840f0b3f6436f050e43e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=KHHR%2F3VE4jVFn31XpaFQ9%2FenayA%3D" alt="img" loading="lazy"/></p>
<p>3.åœ¨æ·»åŠ åº”ç”¨èƒ½åŠ›é‡Œé€‰æ‹©æœºå™¨äººå¹¶æ·»åŠ ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7ea2789aa62e4f12a4968484e8b0a49d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=lK3YWL3kkl4ykg%2B%2FRGLPgjafvlU%3D" alt="img" loading="lazy"/></p>
<p>4.ç»™æœºå™¨äººå¼€é€šå…¨éƒ¨çš„æƒé™ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b2520fe8618432c97c95b807044b25f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=i1rhGIp4zquJtFGAS74m8alAh8Y%3D" alt="img" loading="lazy"/></p>
<p>4.æ¥ä¸‹æ¥å°±æ˜¯ä¸‹è½½æ’ä»¶ä½¿é£ä¹¦å’Œ Openclaw è¿æ¥ã€‚</p>
<pre><code class="hljs language-Plain" lang="Plain">openclaw plugins inatall @m1heng-clawd/feishu
å®‰è£…æ’ä»¶ï¼šé£ä¹¦æ’ä»¶ - æ”¯æŒé£ä¹¦é€šé“ï¼Œå¹¶ä¸”é…ç½®å¥½

openclaw config set channels.feishu.appId "cli_xxxxx"
openclaw config set channels.feishu.appSecret "your_app_secret"
openclaw config set channels.feishu.enabled true


æˆ‘çš„é£ä¹¦ä¿¡æ¯ï¼š
App IDï¼šæ¢ä¸ºä½ è‡ªå·±åœ¨æ­¥éª¤2å¾—åˆ°çš„
App Secretï¼šæ¢ä¸ºä½ è‡ªå·±åœ¨æ­¥éª¤2å¾—åˆ°çš„

openclaw gateway restart
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38b8f851a5dc4597ad5d5b977eaddae0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=UDIfcNNL9yWknmO5SxhAsNfk80o%3D" alt="img" loading="lazy"/></p>
<p>å¦‚æœå®ƒè¿˜æ˜¯æ²¡é…ç½®å¥½ï¼Œé‚£å°±å•ç‹¬è®©å®ƒé…ç½®ä¸€ä¸‹å°±å¥½äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60dd7dca97e74b9e84583bcce9032ec4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=lfNre70CrA85oSu7fSRIV494itY%3D" alt="img" loading="lazy"/></p>
<p>5.æ¥ä¸‹æ¥å°±æ˜¯åœ¨<strong>äº‹ä»¶ä¸**</strong>å›è°ƒ****ï¼ˆäºŒè€…ç¼ºä¸€ä¸å¯ï¼‰**ä¸­é€‰æ‹©é•¿è¿æ¥å³å¯ï¼ˆå¦‚æœæ²¡æœ‰æˆåŠŸï¼Œå¯èƒ½éœ€è¦ä¸Šä¸€æ­¥é‡å¯ Openclaw Gateway æœåŠ¡ï¼‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bef366f3894b457d84de393444a7bdd7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=42Of8YVYztwnQr%2FQSCozxf8fGPA%3D" alt="img" loading="lazy"/></p>
<p>ç„¶ååœ¨æ·»åŠ äº‹ä»¶ä¸­å…¨éƒ¨å‹¾é€‰å³å¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/364e3fb19fed4108829a2237769bb089~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=381eUjecKnTQq7gbSihVobCZITM%3D" alt="img" loading="lazy"/></p>
<p>6.æœ€åå°±æ˜¯æ’ä»¶ä¸€ä¸ªç‰ˆæœ¬è¿›è¡Œå‘å¸ƒå³å¯ï¼Œç‚¹å‡»å·¦ä¾§â€œç‰ˆæœ¬ç®¡ç†ä¸å‘å¸ƒâ€ -&gt; åˆ›å»ºç‰ˆæœ¬ -&gt; ç”³è¯·å‘å¸ƒã€‚ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21e391d4145d4c388f306218723671e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=YwLAyT1f24a%2BSFmypEBqnhhNsz8%3D" alt="img" loading="lazy"/></p>
<p>æ‰“å¼€é£ä¹¦</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c17e3d4af5c246549ea365f3f03931cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=DSYs3dx70tGcR84dV%2Fu83wWu%2F9k%3D" alt="img" loading="lazy"/></p>
<h2 data-id="heading-5">æ€»ç»“ä¸å»ºè®®</h2>
<p>å†™åœ¨æœ€åï¼Œæˆ‘å¯¹è¿™å¥— <strong>OpenClaw + è…¾è®¯äº‘ + NVIDIA +</strong> <strong>é£ä¹¦</strong> çš„æŠ€æœ¯æ ˆåšä¸€ä¸ªå®¢è§‚çš„æ€»ç»“ã€‚</p>
<p><strong>ç‘•ä¸æ©ç‘œï¼Œå¼ºçƒˆæ¨èï¼</strong></p>
<p>å¯¹äºæ‰‹é‡Œæœ‰é—²ç½®æœåŠ¡å™¨ï¼ˆå°¤å…¶æ˜¯è…¾è®¯äº‘è½»é‡åº”ç”¨æœåŠ¡å™¨ï¼‰çš„æœ‹å‹æ¥è¯´ï¼Œè¿™å‡ ä¹æ˜¯<strong>æ€§ä»·æ¯”æœ€é«˜</strong>çš„ç©æ³•ã€‚å®ƒä¸ä»…èƒ½è®©ä½ ç†Ÿæ‚‰ Linuxã€API è°ƒè¯•ã€IM æœºå™¨äººå¼€å‘ç­‰å…¨å¥—æŠ€æœ¯æ ˆï¼Œè¿˜èƒ½ç»™ä½ æä¾›ä¸€ä¸ªå®å®åœ¨åœ¨çš„ç”Ÿäº§åŠ›å·¥å…·ã€‚</p>
<p>åˆ«è®©ä½ çš„æœåŠ¡å™¨å†â€œåƒç°â€äº†ï¼Œç°åœ¨å°±åŠ¨æ‰‹ï¼ŒæŠŠå®ƒå˜æˆä½ çš„èµ›åšä¼™ä¼´å§ï¼</p>
<h2 data-id="heading-6">ending</h2>
<p>æˆ‘åˆ›å»ºäº†ä¸€ä¸ªè¯»è€… <strong>AI æå®¢äº¤æµåŠæé’±ç¾¤</strong>ï¼Œç¾¤é‡Œéƒ½æ˜¯ä¸€ç¾¤å‰æ²¿çš„ AI æå®¢ï¼Œç»å¸¸è®¨è®ºæœ€æ–°çš„ AI æ¶ˆæ¯ï¼Œç”¨æ³•ï¼Œä»¥åŠå˜ç°æ–¹æ³•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34b157f303214483bb9421a0aa8fa5cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730087&amp;x-signature=ogfXlG0QfdBQoB120pz%2Blm7FHrA%3D" alt="img" loading="lazy"/></p>
<p>ä½†æ˜¯ä»»ä½•äººåœ¨ç¾¤é‡Œæ‰“ä»»ä½•å¹¿å‘Šï¼Œéƒ½ä¼šè¢«æˆ‘ T æ‰ã€‚</p>
<p>å¦‚æœä½ å¯¹è¿™ä¸ªç‰¹åˆ«çš„ç¾¤ï¼Œæ„Ÿå…´è¶£ï¼Œå¯ä»¥å…¬ä¼—å·åå°ç§ä¿¡æˆ‘åŠ å…¥ã€‚</p>
<p>æš—å·ï¼š<strong>AI</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue-æ·±å…¥æµ…å‡ºVue Diff ç®—æ³•]]></title>    <link>https://juejin.cn/post/7602488966609829926</link>    <guid>https://juejin.cn/post/7602488966609829926</guid>    <pubDate>2026-02-03T13:35:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602488966609829926" data-draft-id="7602464510607343642" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue-æ·±å…¥æµ…å‡ºVue Diff ç®—æ³•"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,é¢è¯•"/> <meta itemprop="datePublished" content="2026-02-03T13:35:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue-æ·±å…¥æµ…å‡ºVue Diff ç®—æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T13:35:52.000Z" title="Tue Feb 03 2026 13:35:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨ Vue çš„å“åº”å¼ç³»ç»Ÿä¸­ï¼Œå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒVue ä¼šç”Ÿæˆä¸€é¢—æ–°çš„è™šæ‹Ÿ DOM æ ‘ï¼ˆVNode Treeï¼‰ã€‚Diff ç®—æ³•çš„æ ¸å¿ƒä»»åŠ¡å°±æ˜¯é€šè¿‡å¯¹æ¯”æ–°æ—§ä¸¤æ£µæ ‘ï¼Œä»¥<strong>æœ€å°çš„æ€§èƒ½ä»£ä»·</strong>å®ŒæˆçœŸå® DOM çš„æ›´æ–°ã€‚æœ¬æ–‡å°†å¸¦ä½ æ·±åº¦æ‹†è§£ Vue Diff çš„æ ¸å¿ƒæœºåˆ¶ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ Diff ç®—æ³•çš„æ ¸å¿ƒç­–ç•¥</h2>
<p>Vue çš„ Diffç®—æ³•å°±æ˜¯æ¯”è¾ƒdomæ ‘çš„æ–°æ—§èŠ‚ç‚¹ï¼Œä¸€è¾¹æ¯”è¾ƒä¸€è¾¹ç»™çœŸå®domç§»åŠ¨ã€æ’å…¥æˆ–è€…åˆ é™¤èŠ‚ç‚¹ã€‚Diff ç®—æ³•åŸºäºä¸¤ä¸ªåŸºæœ¬å‡è®¾ï¼Œä»è€Œå°†æ—¶é—´å¤æ‚åº¦ä» <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>3</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> é™ä½åˆ°äº† <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span>ï¼š</p>
<ol>
<li>
<p><strong>åŒå±‚æ¯”è¾ƒ</strong>ï¼šç®—æ³•åªä¼šå¯¹åŒä¸€å±‚çº§çš„èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œä¸ä¼šè·¨å±‚çº§æ“ä½œã€‚</p>
</li>
<li>
<p><strong>æ·±åº¦ä¼˜å…ˆ</strong>ï¼šé€šè¿‡é€’å½’çš„æ–¹å¼ï¼Œå…ˆå¤„ç†å­èŠ‚ç‚¹ï¼Œå†å¤„ç†çˆ¶èŠ‚ç‚¹ã€‚</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-2">äºŒã€ ä¸‰å¤§æ ¸å¿ƒå‡½æ•°è§£æ</h2>
<p>Diff çš„è¿‡ç¨‹ä¸»è¦ç”± <code>patch</code>ã€<code>patchVnode</code> å’Œ <code>updateChildren</code> ä¸‰ä¸ªå‡½æ•°ååŒå®Œæˆã€‚</p>
<h3 data-id="heading-3">1. patch å‡½æ•°ï¼šåŒå±‚æ¯”å¯¹çš„å…¥å£</h3>
<p>è¿™æ˜¯ Diff çš„èµ·ç‚¹ï¼Œå®ƒè´Ÿè´£å†³å®šæ˜¯ç›´æ¥æ›¿æ¢æ•´ä¸ªèŠ‚ç‚¹ï¼Œè¿˜æ˜¯æ·±å…¥æ¯”å¯¹ï¼Œæ¯”è¾ƒç­–ç•¥å¦‚ä¸‹:</p>
<ul>
<li><strong>å¦‚æœæ–°èŠ‚ç‚¹ä¸å­˜åœ¨</strong>ï¼šç›´æ¥åˆ é™¤æ—§èŠ‚ç‚¹ã€‚</li>
<li><strong>å¦‚æœæ–°èŠ‚ç‚¹å­˜åœ¨ï¼Œæ—§èŠ‚ç‚¹ä¸å­˜åœ¨</strong>ï¼šç›´æ¥æ–°å»ºå¹¶æ’å…¥èŠ‚ç‚¹ã€‚</li>
<li><strong>å¦‚æœä¸¤ä¸ªèŠ‚ç‚¹éƒ½å­˜åœ¨ï¼Œä½†èŠ‚ç‚¹ç±»å‹ä¸åŒ</strong>ï¼šè®¤ä¸ºèŠ‚ç‚¹å·²æ”¹å˜ï¼Œé”€æ¯æ—§çš„ï¼Œåˆ›å»ºæ–°çš„ã€‚</li>
<li><strong>å¦‚æœä¸¤ä¸ªèŠ‚ç‚¹éƒ½å­˜åœ¨ï¼Œä¸”èŠ‚ç‚¹ç±»å‹ç›¸åŒ</strong>ï¼šåˆ™è°ƒç”¨ <code>patchVnode</code> ç»§ç»­æ¯”å¯¹</li>
<li>ã€‚</li>
</ul>
<h3 data-id="heading-4">2. patchVnode å‡½æ•°ï¼šå±æ€§ä¸æ–‡æœ¬çš„æ›´æ–°</h3>
<p>å½“ç¡®å®šä¸¤ä¸ªèŠ‚ç‚¹â€œå€¼å¾—æ¯”è¾ƒâ€æ—¶ï¼Œæ‰§è¡Œä»¥ä¸‹é€»è¾‘ï¼š</p>
<ul>
<li>
<p><strong>é¦–å…ˆåˆ¤æ–­æ–°èŠ‚ç‚¹æ˜¯å¦ä¸ºæ–‡æœ¬èŠ‚ç‚¹</strong>ï¼ˆä¸ºæ–‡æœ¬èŠ‚ç‚¹å°±è¯´æ˜æ²¡æœ‰å­èŠ‚ç‚¹äº†ï¼‰ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œåˆ™ç›´æ¥æ›´æ–°domçš„æ–‡æœ¬å†…å®¹ä¸ºæ–°èŠ‚ç‚¹çš„æ–‡æœ¬å†…å®¹ã€‚</p>
</li>
<li>
<p><strong>å¦‚æœæ–°èŠ‚ç‚¹ä¸æ˜¯æ–‡æœ¬èŠ‚ç‚¹ï¼Œè€Œæ—§èŠ‚ç‚¹æ˜¯æ–‡æœ¬èŠ‚ç‚¹çš„è¯</strong>ï¼Œè¯´æ˜èŠ‚éƒ½æ˜¯å…¨æ–°çš„ï¼Œæ‰€ä»¥ç›´æ¥å°†æ–°èŠ‚ç‚¹æ·»åŠ åˆ°çˆ¶èŠ‚ç‚¹ä¸­</p>
</li>
<li>
<p><strong>å¦‚æœæ–°æ—§èŠ‚ç‚¹éƒ½ä¸æ˜¯æ–‡æœ¬èŠ‚ç‚¹</strong>ï¼Œåˆ™è¯´æ˜ä¸¤è€…éƒ½æœ‰å­èŠ‚ç‚¹ï¼Œæ¥ä¸‹æ¥å°±è¿›<code>updateChildren()</code>å‡½æ•°è¿›è¡Œä¸‹ä¸€æ­¥æ¯”è¾ƒå¹¶æ›´æ–°å­èŠ‚ç‚¹</p>
</li>
</ul>
<h3 data-id="heading-5">3. updateChildren å‡½æ•°ï¼šåŒç«¯æ¯”è¾ƒç®—æ³•</h3>
<p>è¿™æ˜¯ Vue Diff çš„çµé­‚ã€‚å®ƒé€šè¿‡ <strong>â€œåŒç«¯æŒ‡é’ˆâ€</strong> ï¼ˆæ–°å¤´ã€æ–°å°¾ã€æ—§å¤´ã€æ—§å°¾ï¼‰å‘ä¸­é—´é æ‹¢ï¼Œå¯»æ‰¾å¯å¤ç”¨çš„èŠ‚ç‚¹ã€‚<code>updateChildren</code>å‡½æ•°å¯¹ä¼šæ–°æ—§ä¸¤ä¸ªèŠ‚ç‚¹è®¾ç½®4ä¸ªæŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘<strong>æ–°å¤´ã€æ—§å¤´ã€æ–°å°¾ã€æ—§å°¾</strong>ï¼Œå®ƒä¸»è¦å¯¹5ç§æƒ…å†µè¿›è¡Œæ¯”è¾ƒï¼š</p>
<p><strong>æ¯”è¾ƒçš„äº”ç§ä¼˜å…ˆçº§ï¼š</strong></p>
<ol>
<li>
<p><strong>é¦–å…ˆæ˜¯æ—§å¤´æ–°å¤´è¿›è¡Œæ¯”è¾ƒ</strong>ï¼šå¦‚æœäºŒè€…ç›¸åŒï¼Œå°±å¯¹äºŒè€…æ‰§è¡Œ<code>patchVnode()</code>ï¼Œå¹¶å°†æ—§å¤´æ–°å¤´ä¸¤ä¸ªæŒ‡é’ˆå‘ä¸­é—´ç§»åŠ¨ã€‚</p>
</li>
<li>
<p><strong>å¦‚æœæ—§å¤´æ–°å¤´ä¸ç›¸åŒï¼Œå°±è¿›è¡Œæ—§å°¾æ–°å°¾çš„æ¯”è¾ƒ</strong>ï¼šå¦‚æœæ—§å°¾æ–°å°¾ç›¸åŒçš„è¯ï¼Œåˆ™å°†æ—§å°¾æ–°å°¾ä¸¤æŒ‡é’ˆå‘ä¸­é—´ç§»åŠ¨ã€‚</p>
</li>
<li>
<p><strong>å¦‚æœæ—§å¤´ä¸æ–°å¤´ï¼Œæ—§å°¾ä¸æ–°å°¾éƒ½ä¸ç›¸åŒ</strong>ï¼šé‚£å°±è¿›è¡Œäº¤å‰æ¯”è¾ƒï¼Œæ¯”è¾ƒæ–¹å¼å¦‚ä¸‹ï¼š</p>
<ul>
<li>é¦–å…ˆæ˜¯<code>æ—§å¤´æ–°å°¾</code>æ¯”è¾ƒï¼Œå¦‚æœäºŒè€…ç›¸åŒï¼Œé‚£ä¹ˆå°±æ‰§è¡Œ<code>patchVnode()</code>ï¼Œå¹¶å°†<code>æ—§å¤´</code>æŒ‡é’ˆå‘åç§»ä¸€ä½ï¼Œ<code>æ–°å°¾</code>æŒ‡é’ˆå‰ç§»ä¸€ä½</li>
<li>å¦‚æœ<code>æ—§å¤´æ–°å°¾</code>ä¸ç›¸åŒï¼Œé‚£å°±æ¯”è¾ƒ<code>æ–°å¤´æ—§å°¾</code>ï¼Œå¦‚æœäºŒè€…ç›¸åŒï¼Œé‚£ä¹ˆå°±æ‰§è¡Œ<code>patchVnode()</code>ï¼Œå¹¶å°†<code>æ–°å¤´</code>æŒ‡é’ˆåç§»ä¸€ä½ï¼Œ<code>æ—§å°¾</code>æŒ‡é’ˆå‰ç§»ä¸€ä½</li>
</ul>
</li>
<li>
<p><strong>å¦‚æœä»¥ä¸Šå››ç§æƒ…å½¢éƒ½ä¸æ»¡è¶³çš„è¯ï¼Œé‚£è¯´æ˜æ²¡æœ‰ç›¸åŒçš„èŠ‚ç‚¹å¯ä»¥å¤ç”¨ï¼Œåˆ™å°†åœ¨æ—§èŠ‚ç‚¹ä¸­éå†å¯»æ‰¾ä¸æ–°å¤´èŠ‚ç‚¹<code>key</code>å€¼ç›¸åŒçš„èŠ‚ç‚¹</strong>ã€‚</p>
<ul>
<li>å¦‚æœæ²¡æœ‰åœ¨æ—§èŠ‚ç‚¹ä¸­æ‰¾åˆ°<code>key</code>å€¼ç›¸åŒçš„èŠ‚ç‚¹ï¼Œåˆ™è¯´æ˜æ–°å¤´èŠ‚ç‚¹æ˜¯ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°±ç›´æ¥æ–°å»ºï¼Œå¹¶å°†æ–°å¤´æŒ‡é’ˆåç§»</li>
<li>å¦‚æœåœ¨æ—§èŠ‚ç‚¹ä¸­æ‰¾åˆ°äº†<code>key</code>å€¼ç›¸åŒçš„èŠ‚ç‚¹ï¼Œåˆ™æ‰§è¡Œ<code>patchVnode()</code>å‡½æ•°ç»§ç»­æ¯”è¾ƒå¯¹åº”keyå€¼ç›¸åŒçš„èŠ‚ç‚¹æ˜¯å¦ä¸ºåŒä¸€èŠ‚ç‚¹ï¼Œå¹¶å°†æ–°å¤´æŒ‡é’ˆåç§»</li>
</ul>
</li>
</ol>
<h2 data-id="heading-6">ä¸‰ã€ æ¡ˆä¾‹å®æˆ˜ï¼šåŒç«¯æ¯”å¯¹å…¨è¿‡ç¨‹</h2>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ec83030ce1a4cf0a180fa9831cb19b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-R546w5LiA5Y-q5aSn5ZGG55Oc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730552&amp;x-signature=9hsqO%2BQujd1tCY9DCIbT7MHwiic%3D" alt="image.png" loading="lazy"/></p>
<p>ç¬¬ä¸€æ¬¡å¾ªç¯åï¼Œå‘ç°æ—§å¤´æ–°å°¾ã€æ—§å¤´æ–°å¤´ä¸ç›¸åŒï¼Œä½†æ—§å°¾æ–°å¤´ç›¸åŒï¼Œç›´æ¥å¤ç”¨æ—§èŠ‚ç‚¹Dä½œä¸ºdiffåçš„ç¬¬ä¸€ä¸ªçœŸå®èŠ‚ç‚¹ï¼ŒåŒæ—¶æ—§èŠ‚ç‚¹<code>endIndex</code>ç§»åŠ¨åˆ°Cï¼Œæ–°èŠ‚ç‚¹çš„ <code>startIndex</code> ç§»åŠ¨åˆ°äº† Cã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/badf80934baf489e936512fcc13fa46f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-R546w5LiA5Y-q5aSn5ZGG55Oc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730552&amp;x-signature=12EtkYLn9HC6vz0kMn5C9yk6hF0%3D" alt="image.png" loading="lazy"/></p>
<p>äºŒæ¬¡å¾ªç¯åï¼ŒåŒæ ·æ˜¯æ—§å°¾æ–°å¤´ç›¸åŒï¼Œè¿™æ—¶å°±å°†diff ååˆ›å»ºçš„çœŸå®èŠ‚ç‚¹ C æ’å…¥åˆ°ç¬¬ä¸€æ¬¡åˆ›å»ºçš„ D èŠ‚ç‚¹åé¢ã€‚åŒæ—¶æ—§èŠ‚ç‚¹çš„ <code>endIndex</code> ç§»åŠ¨åˆ°äº† Bï¼Œæ–°èŠ‚ç‚¹çš„ <code>startIndex</code> ç§»åŠ¨åˆ°äº† Eã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3cad57541253446d8cc24bc9b3587f9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-R546w5LiA5Y-q5aSn5ZGG55Oc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730552&amp;x-signature=8K6arhQ%2BJG97Ds6WZFty9hvyvhk%3D" alt="image.png" loading="lazy"/>
ç¬¬ä¸‰æ¬¡å¾ªç¯ä¸­ï¼Œå‘ç°åœ¨æ—§èŠ‚ç‚¹ä¸­æ²¡æœ‰æ‰¾åˆ°EèŠ‚ç‚¹ï¼Œè¿™æ—¶å€™ç›´æ¥åˆ›å»ºæ–°çš„çœŸå®èŠ‚ç‚¹ Eï¼Œæ’å…¥åˆ°ç¬¬äºŒæ¬¡åˆ›å»ºçš„ C èŠ‚ç‚¹ä¹‹åã€‚åŒæ—¶æ–°èŠ‚ç‚¹çš„ <code>startIndex</code> ç§»åŠ¨åˆ°äº† Aã€‚<code>æ—§èŠ‚ç‚¹startIndex</code> å’Œ endIndex éƒ½ä¿æŒä¸åŠ¨ã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d18c036d24b84dd281f2b17407430125~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-R546w5LiA5Y-q5aSn5ZGG55Oc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730552&amp;x-signature=sKW3IPwYH8T3O%2BZqBXSMwY74YAI%3D" alt="image.png" loading="lazy"/></p>
<p>å››æ¬¡å¾ªç¯ä¸­ï¼Œå‘ç°äº†æ–°å¤´æ—§å¤´ç›¸åŒï¼Œäºæ˜¯ diff ååˆ›å»ºäº† A çš„çœŸå®èŠ‚ç‚¹ï¼Œæ’å…¥åˆ°å‰ä¸€æ¬¡åˆ›å»ºçš„ E èŠ‚ç‚¹åé¢ã€‚åŒæ—¶æ—§èŠ‚ç‚¹çš„ <code>startIndex</code> ç§»åŠ¨åˆ°äº† Bï¼Œ<code>æ–°èŠ‚ç‚¹çš„startIndex</code> ç§»åŠ¨åˆ°äº† B</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51c36115bc9c435e8b2698b46d68b7eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-R546w5LiA5Y-q5aSn5ZGG55Oc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730552&amp;x-signature=VZKbtZB%2BSktwdgKS%2B0ACZ63%2B700%3D" alt="image.png" loading="lazy"/></p>
<p>ç¬¬äº”æ¬¡å¾ªç¯ä¸­ï¼Œå‘ç°äº†æ–°å¤´æ—§å¤´ç›¸åŒï¼Œå› æ­¤Â diffÂ ååˆ›å»ºäº† B çœŸå®èŠ‚ç‚¹ æ’å…¥åˆ°å‰ä¸€æ¬¡åˆ›å»ºçš„ A èŠ‚ç‚¹åé¢ã€‚åŒæ—¶æ—§èŠ‚ç‚¹çš„Â <code>startIndex</code>ç§»åŠ¨åˆ°äº† Cï¼Œæ–°èŠ‚ç‚¹çš„<code>startIndex</code>ç§»åŠ¨åˆ°äº† Fã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/662bbc50b30047deb95e168722d32442~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-R546w5LiA5Y-q5aSn5ZGG55Oc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730552&amp;x-signature=ESZQ3wJH4F1QV1N2JOZbWRoFg2Y%3D" alt="image.png" loading="lazy"/></p>
<p>æœ€åä¸€æ¬¡å¾ªç¯ä¸­ï¼Œå‘ç°åœ¨æ—§èŠ‚ç‚¹ä¸­æ²¡æœ‰æ‰¾åˆ°FèŠ‚ç‚¹ï¼Œè¿™æ—¶ç›´æ¥åˆ›å»º F å¯¹åº”çš„çœŸå®èŠ‚ç‚¹ï¼Œç›´æ¥å°†å…¶æ’å…¥åˆ° B èŠ‚ç‚¹åé¢ï¼Œå¹¶å°†æ–°å¤´æŒ‡é’ˆå‘åç§»åŠ¨ä¸€ä½ï¼Œå‘ç°startIndexå¤§äºendIndex ï¼Œè¿™æ—¶å¾ªç¯ç»“æŸã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87fd8bbdeb9c42af89fcd05f1e28b5c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-R546w5LiA5Y-q5aSn5ZGG55Oc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770730552&amp;x-signature=LTtsxKfLVaERF4%2FHU95Fy6mqghM%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-7">å››ã€ æ€»ç»“</h2>
<ul>
<li><strong>Diff çš„æœ¬è´¨</strong>ï¼šæ˜¯è™šæ‹Ÿ DOM å‘¨æœŸçš„ç»ˆç‚¹ï¼Œä¹Ÿæ˜¯çœŸå® DOM æ›´æ–°çš„èµ·ç‚¹ã€‚</li>
<li><strong>Key çš„é‡è¦æ€§</strong>ï¼šæ²¡æœ‰ <code>key</code> ä¼šå¯¼è‡´ Diff ç®—æ³•å›é€€åˆ°æ€§èƒ½æå·®çš„é€ä¸ªæ›´æ–°æ¨¡å¼ã€‚åŠ¡å¿…åœ¨ <code>v-for</code> ä¸­æä¾›ç¨³å®šã€å”¯ä¸€çš„ <code>key</code>ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ä¸ªåŸºäº .NET + Vue å®ç°çš„é€šç”¨æƒé™ç®¡ç†å¹³å°ï¼ˆRBACæ¨¡å¼ï¼‰ï¼Œå‰åç«¯åˆ†ç¦»æ¨¡å¼ï¼Œå¼€ç®±å³ç”¨ï¼]]></title>    <link>https://juejin.cn/post/7602420156397568043</link>    <guid>https://juejin.cn/post/7602420156397568043</guid>    <pubDate>2026-02-03T13:44:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602420156397568043" data-draft-id="7602503154505269289" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ä¸ªåŸºäº .NET + Vue å®ç°çš„é€šç”¨æƒé™ç®¡ç†å¹³å°ï¼ˆRBACæ¨¡å¼ï¼‰ï¼Œå‰åç«¯åˆ†ç¦»æ¨¡å¼ï¼Œå¼€ç®±å³ç”¨ï¼"/> <meta itemprop="keywords" content="åç«¯,.NET"/> <meta itemprop="datePublished" content="2026-02-03T13:44:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿½é€æ—¶å…‰è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2770425031690333"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ä¸ªåŸºäº .NET + Vue å®ç°çš„é€šç”¨æƒé™ç®¡ç†å¹³å°ï¼ˆRBACæ¨¡å¼ï¼‰ï¼Œå‰åç«¯åˆ†ç¦»æ¨¡å¼ï¼Œå¼€ç®±å³ç”¨ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2770425031690333/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿½é€æ—¶å…‰è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T13:44:38.000Z" title="Tue Feb 03 2026 13:44:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä»Šå¤©å¤§å§šç»™å¤§å®¶åˆ†äº«ä¸€ä¸ªåŸºäº .NET + Vue å®ç°çš„é€šç”¨æƒé™ç®¡ç†å¹³å°ï¼ˆRBACæ¨¡å¼ï¼‰ï¼Œå‰åç«¯åˆ†ç¦»æ¨¡å¼ï¼Œå¼€ç®±å³ç”¨ï¼š<strong>Magic.NET</strong>ã€‚</p>
<h2 data-id="heading-1">é¡¹ç›®ä»‹ç»</h2>
<p>Magic.NET æ˜¯ä¸€ä¸ªåŸºäº .NET 6ã€7 å®ç°çš„é€šç”¨æƒé™ç®¡ç†å¹³å°ï¼ˆRBACæ¨¡å¼ï¼‰ï¼ŒåŸºäº Apache-2.0 åè®®å¼€æºã€‚æ•´åˆæœ€æ–°æŠ€æœ¯é«˜æ•ˆå¿«é€Ÿå¼€å‘ï¼Œå‰åç«¯åˆ†ç¦»æ¨¡å¼ï¼Œå¼€ç®±å³ç”¨ï¼Œæ¨¡å—åŒ–æ¶æ„è®¾è®¡ï¼Œå±‚æ¬¡æ¸…æ™°ã€‚å‰ç«¯åŸºäºå°è¯ºVueï¼ˆantdï¼‰æ¡†æ¶ï¼Œæ•´ä½“ RBAC åŸºç¡€æ•°æ®ç»“æ„+APIæ¥å£é£æ ¼é‡‡ç”¨å°è¯ºvueç‰ˆæœ¬æ¨¡å¼ã€‚</p>
<h2 data-id="heading-2">åº”ç”¨åœºæ™¯</h2>
<p>Magic.NET é€‚ç”¨äºéœ€è¦ç²¾ç»†æƒé™ç®¡ç†çš„ä¼ä¸šç®¡ç†åº”ç”¨ç³»ç»Ÿï¼ˆå¦‚ ERPã€CRMã€OA ç­‰ï¼‰ã€‚</p>
<h2 data-id="heading-3">åŠŸèƒ½æ¨¡å—</h2>
<ul>
<li>
<p><strong>ç”¨æˆ·ç®¡ç†</strong>ï¼šå¯¹ä¼ä¸šç”¨æˆ·å’Œç³»ç»Ÿç®¡ç†å‘˜ç”¨æˆ·çš„ç»´æŠ¤ï¼Œå¯ç»‘å®šç”¨æˆ·èŒåŠ¡ã€æœºæ„ã€è§’è‰²ã€æ•°æ®æƒé™ç­‰ã€‚</p>
</li>
<li>
<p><strong>è§’è‰²ç®¡ç†</strong>ï¼šè§’è‰²ç»‘å®šèœå•åï¼Œå¯é™åˆ¶ç›¸å…³è§’è‰²çš„äººå‘˜ç™»å½•ç³»ç»Ÿçš„åŠŸèƒ½èŒƒå›´ã€‚è§’è‰²ä¹Ÿå¯ä»¥ç»‘å®šæ•°æ®æˆæƒèŒƒå›´ã€‚</p>
</li>
<li>
<p><strong>èŒä½ç®¡ç†</strong>ï¼šç”¨æˆ·èŒåŠ¡ç®¡ç†ï¼ŒèŒåŠ¡å¯ä½œä¸ºç”¨æˆ·çš„ä¸€ä¸ªæ ‡ç­¾ï¼ŒèŒåŠ¡ç›®å‰æ²¡æœ‰å’Œæƒé™ç­‰å…¶ä»–åŠŸèƒ½æŒ‚é’©ã€‚</p>
</li>
<li>
<p><strong>ç»„ç»‡æœºæ„ç®¡ç†</strong>ï¼šå…¬å¸ç»„ç»‡æ¶æ„ç»´æŠ¤ï¼Œæ”¯æŒå¤šå±‚çº§ç»“æ„çš„æ ‘å½¢ç»“æ„ã€‚</p>
</li>
<li>
<p><strong>èœå•ç®¡ç†</strong>ï¼šèœå•ç›®å½•ã€èœå•å’ŒæŒ‰é’®çš„ç»´æŠ¤æ˜¯æƒé™æ§åˆ¶çš„åŸºæœ¬å•ä½ã€‚</p>
</li>
<li>
<p><strong>å­—å…¸ç®¡ç†</strong>ï¼šç³»ç»Ÿå†…å„ç§æšä¸¾ç±»å‹çš„ç»´æŠ¤ã€‚</p>
</li>
<li>
<p><strong>æ—¥å¿—ç®¡ç†</strong>ï¼š</p>
<ul>
<li><strong>è®¿é—®æ—¥å¿—</strong>ï¼šç”¨æˆ·çš„ç™»å½•å’Œé€€å‡ºæ—¥å¿—çš„æŸ¥çœ‹å’Œç®¡ç†ã€‚</li>
<li><strong>æ“ä½œæ—¥å¿—</strong>ï¼šç”¨æˆ·çš„æ“ä½œä¸šåŠ¡çš„æ—¥å¿—çš„æŸ¥çœ‹å’Œç®¡ç†ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¤šåº”ç”¨ç®¡ç†</strong>ï¼šé€šè¿‡åº”ç”¨æ¥æ§åˆ¶ä¸åŒç»´åº¦çš„èœå•å±•ç¤ºã€‚</p>
</li>
<li>
<p><strong>æ–‡ä»¶ç®¡ç†</strong>ï¼šæ–‡ä»¶çš„ä¸Šä¼ ã€ä¸‹è½½ã€æŸ¥çœ‹ç­‰æ“ä½œï¼Œæ–‡ä»¶å¯ä½¿ç”¨æœ¬åœ°å­˜å‚¨ã€é˜¿é‡Œäº‘ OSSã€è…¾è®¯ COS æ¥å…¥ï¼Œæ”¯æŒæ‹“å±•ã€‚</p>
</li>
<li>
<p><strong>å®šæ—¶ä»»åŠ¡</strong>ï¼šå®šæ—¶ä»»åŠ¡çš„ç»´æŠ¤ï¼Œé€šè¿‡ cron è¡¨è¾¾å¼æ§åˆ¶ä»»åŠ¡çš„æ‰§è¡Œé¢‘ç‡ã€‚</p>
</li>
<li>
<p><strong>ç³»ç»Ÿé…ç½®</strong>ï¼šç³»ç»Ÿè¿è¡Œçš„å‚æ•°çš„ç»´æŠ¤ï¼Œå‚æ•°çš„é…ç½®ä¸ç³»ç»Ÿè¿è¡Œæœºåˆ¶æ¯æ¯ç›¸å…³ã€‚</p>
</li>
<li>
<p><strong>æœåŠ¡ç›‘æ§</strong>ï¼šæœåŠ¡å™¨çš„è¿è¡ŒçŠ¶æ€ï¼ŒCPUã€å†…å­˜ã€ç½‘ç»œç­‰ä¿¡æ¯æ•°æ®çš„æŸ¥çœ‹ã€‚</p>
</li>
<li>
<p>ç­‰ç­‰ç­‰...</p>
</li>
</ul>
<h2 data-id="heading-4">åŠŸèƒ½ç‰¹ç‚¹</h2>
<ul>
<li><strong>å‰åç«¯åˆ†ç¦»</strong>ï¼šå‰ç«¯åŸºäº Vue æ¡†æ¶ï¼Œåç«¯åŸºäº .NET 6/7ï¼Œå®ç°å‰åç«¯è§£è€¦ã€‚</li>
<li><strong>æ¨¡å—åŒ–æ¶æ„è®¾è®¡</strong>ï¼šå±‚æ¬¡æ¸…æ™°ï¼Œä¸šåŠ¡å±‚æ¨èå†™åˆ°å•ç‹¬æ¨¡å—ï¼Œæ¡†æ¶å‡çº§ä¸å½±å“ä¸šåŠ¡ã€‚</li>
<li><strong>RBAC æƒé™æ¨¡å‹</strong>ï¼šåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼Œå®ç°ç²¾ç»†åŒ–çš„æƒé™ç®¡ç†ã€‚</li>
<li><strong>æ˜“æ‰©å±•</strong>ï¼šä»£ç é‡å°‘ã€é€šä¿—æ˜“æ‡‚ã€åŠŸèƒ½å¼ºå¤§ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤ã€‚</li>
<li>ç­‰ç­‰ç­‰...</li>
</ul>
<h2 data-id="heading-5">é¡¹ç›®æŠ€æœ¯æ ˆ</h2>
<ul>
<li><strong>åç«¯æŠ€æœ¯æ ˆï¼š</strong> .NETã€Furionã€MiniExcelã€SqlSugarç­‰ã€‚</li>
<li><strong>å‰ç«¯æŠ€æœ¯æ ˆï¼š</strong> Vueã€Ant Design of Vueç­‰ã€‚</li>
<li><strong>æ•°æ®åº“æ”¯æŒï¼š</strong> SQLiteã€SQL Serverã€MySQLã€‚</li>
</ul>
<h2 data-id="heading-6">é¡¹ç›®æºä»£ç </h2>
<h3 data-id="heading-7">åç«¯ä»£ç </h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/337eedd3b98b4639afcaa0c9b56bd9e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770731078&amp;x-signature=b7q4sP6ePYxy%2BC7HPhirGNOlzU0%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb2a9e747a5148528bf5d56f43bd2b50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770731078&amp;x-signature=SDFLc7fbD%2FQJ88yQsXbIXv2WzZo%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">å‰ç«¯ä»£ç </h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40d4e77896474be1bdf901dd6dfcb994~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770731078&amp;x-signature=g1iFS4WLuLZolzolcBel67O3zf0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-9">é¡¹ç›®æ¼”ç¤º</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17bcae953bb0477cbb4e6260af3edb50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770731078&amp;x-signature=%2F7nxsvuHLFjrn94PxidQ%2FuOZ%2FuY%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cce8faf2b89747e7a62a3e2c174d63d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770731078&amp;x-signature=jR%2BViPVRCjhYkruvO%2BbA7P7uBbk%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c1c8d5156834ae7b3f0fc8f74521a0f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770731078&amp;x-signature=L04s1vGlYjbgrqM1fmidZU9e2qY%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f94bfb9b6b34d57986440ee9aa7917c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770731078&amp;x-signature=Q2Y5S65dBqtQDvV7cInEckdtUIM%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b6c268f5c68435a9cc37b7c20589eca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770731078&amp;x-signature=9WUS0BH1HUe8yRZ1wvcauwsduBk%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce0584b04f8848ecbbc285132809d387~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770731078&amp;x-signature=7H7OedLYPzUV8Jz8In%2BzUTituxg%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/472d1bec9e374d2fb7a26fc6e6a41d6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770731078&amp;x-signature=VwKxbtvp%2BAH%2BNSRaOlU8b5PnJA0%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8ab02f57ddb4672856325eb5331aa3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770731078&amp;x-signature=UcSLicZQA7lQ%2BonaGJ16Bbx2RYw%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9266cf395c7a4d3f8a2a2e30e66590ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770731078&amp;x-signature=7293C5O75HvN3QXCrNHft0Pa458%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa5db3a356c84a5a848af2f8c3a456d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770731078&amp;x-signature=wF3nVWbyUdReosIWb3RjLp0gd%2Bo%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d21e27a1211e4032b8f9fe2760fe6d23~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770731078&amp;x-signature=vdeCgwj1gPEdVvUX5Tu6C64TBZI%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c1248cf9ad4c4aedb65ac33677891eb3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770731078&amp;x-signature=5fP1iXTgwwTENc9FBZ2ZqQbM7uU%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-10">é¡¹ç›®æºç åœ°å€</h2>
<p>æ›´å¤šé¡¹ç›®å®ç”¨åŠŸèƒ½å’Œç‰¹æ€§æ¬¢è¿å‰å¾€é¡¹ç›®å¼€æºåœ°å€æŸ¥çœ‹ğŸ‘€ï¼Œåˆ«å¿˜äº†ç»™é¡¹ç›®ä¸€ä¸ªStaræ”¯æŒğŸ’–ã€‚</p>
<ul>
<li><strong>Giteeå¼€æºåœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fzhengguojing%2Fmagic-net" target="_blank" title="https://gitee.com/zhengguojing/magic-net" ref="nofollow noopener noreferrer">gitee.com/zhengguojinâ€¦</a></li>
</ul>
<h2 data-id="heading-11">ä¼˜ç§€é¡¹ç›®å’Œæ¡†æ¶ç²¾é€‰</h2>
<p>è¯¥é¡¹ç›®å·²æ”¶å½•åˆ°C#/.NET/.NET Coreä¼˜ç§€é¡¹ç›®å’Œæ¡†æ¶ç²¾é€‰ä¸­ï¼Œå…³æ³¨ä¼˜ç§€é¡¹ç›®å’Œæ¡†æ¶ç²¾é€‰èƒ½è®©ä½ åŠæ—¶äº†è§£C#ã€.NETå’Œ.NET Coreé¢†åŸŸçš„æœ€æ–°åŠ¨æ€å’Œæœ€ä½³å®è·µï¼Œæé«˜å¼€å‘å·¥ä½œæ•ˆç‡å’Œè´¨é‡ã€‚å‘å·²æŒ–ï¼Œæ¬¢è¿å¤§å®¶è¸Šè·ƒæäº¤PRæ¨èæˆ–è‡ªèï¼ˆ<strong>è®©ä¼˜ç§€çš„é¡¹ç›®å’Œæ¡†æ¶ä¸è¢«åŸ‹æ²¡ğŸ¤</strong>ï¼‰ã€‚</p>
<ul>
<li><strong>GitHubå¼€æºåœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FYSGStudyHards%2FDotNetGuide%2Fblob%2Fmain%2Fdocs%2FDotNet%2FDotNetProjectPicks.md" target="_blank" title="https://github.com/YSGStudyHards/DotNetGuide/blob/main/docs/DotNet/DotNetProjectPicks.md" ref="nofollow noopener noreferrer">github.com/YSGStudyHarâ€¦</a></li>
<li><strong>Giteeå¼€æºåœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fysgdaydayup%2FDotNetGuide%2Fblob%2Fmain%2Fdocs%2FDotNet%2FDotNetProjectPicks.md" target="_blank" title="https://gitee.com/ysgdaydayup/DotNetGuide/blob/main/docs/DotNet/DotNetProjectPicks.md" ref="nofollow noopener noreferrer">gitee.com/ysgdaydayupâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ81ï¼‰å¦‚ä½•åœ¨æ•°æ®åŒæ­¥ä¸­ä½¿ç”¨Hibernateï¼Ÿ]]></title>    <link>https://juejin.cn/post/7602503154505039913</link>    <guid>https://juejin.cn/post/7602503154505039913</guid>    <pubDate>2026-02-03T12:11:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602503154505039913" data-draft-id="7602455806446075910" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ81ï¼‰å¦‚ä½•åœ¨æ•°æ®åŒæ­¥ä¸­ä½¿ç”¨Hibernateï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-03T12:11:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ81ï¼‰å¦‚ä½•åœ¨æ•°æ®åŒæ­¥ä¸­ä½¿ç”¨Hibernateï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T12:11:56.000Z" title="Tue Feb 03 2026 12:11:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ•°æ®åŒæ­¥è¿‡ç¨‹ä¸­ä½¿ç”¨Hibernateï¼Œå¯ä»¥å¸®åŠ©ä½ ä»ä¸€ä¸ªæ•°æ®åº“ä¸­æå–æ•°æ®ï¼Œå¹¶å°†è¿™äº›æ•°æ®åŒæ­¥åˆ°å¦ä¸€ä¸ªæ•°æ®åº“ä¸­ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªè¯¦ç»†çš„ç¤ºä¾‹ï¼Œç»“åˆä»£ç æ¼”ç¤ºå¦‚ä½•åœ¨æ•°æ®åŒæ­¥è¿‡ç¨‹ä¸­ä½¿ç”¨Hibernateã€‚</p>
<h3 data-id="heading-0">1. è®¾ç½®Hibernateé…ç½®</h3>
<p>é¦–å…ˆï¼Œåˆ›å»ºä¸¤ä¸ªHibernateé…ç½®æ–‡ä»¶ï¼Œåˆ†åˆ«ç”¨äºæºæ•°æ®åº“å’Œç›®æ ‡æ•°æ®åº“çš„è¿æ¥ã€‚</p>
<h4 data-id="heading-1"><code>hibernate_source.cfg.xml</code>ï¼ˆæºæ•°æ®åº“é…ç½®æ–‡ä»¶ï¼‰</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span> <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/source_db<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>source_user<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>source_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>validate<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-2"><code>hibernate_target.cfg.xml</code>ï¼ˆç›®æ ‡æ•°æ®åº“é…ç½®æ–‡ä»¶ï¼‰</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span> <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/target_db<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>target_user<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>target_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h3 data-id="heading-3">2. åˆ›å»ºå®ä½“ç±»</h3>
<p>åˆ›å»ºä¸¤ä¸ªå®ä½“ç±»åˆ†åˆ«å¯¹åº”æºæ•°æ®åº“å’Œç›®æ ‡æ•°æ®åº“ä¸­çš„è¡¨ã€‚</p>
<h4 data-id="heading-4"><code>SourceEntity.java</code>ï¼ˆæºæ•°æ®åº“å®ä½“ç±»ï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "source_table")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SourceEntity</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-keyword">private</span> String dataField;
    <span class="hljs-keyword">private</span> String timestamp;

    <span class="hljs-comment">// Getters and setters</span>
}
</code></pre>
<h4 data-id="heading-5"><code>TargetEntity.java</code>ï¼ˆç›®æ ‡æ•°æ®åº“å®ä½“ç±»ï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "target_table")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TargetEntity</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-keyword">private</span> String dataField;
    <span class="hljs-keyword">private</span> String timestamp;

    <span class="hljs-comment">// Getters and setters</span>
}
</code></pre>
<h3 data-id="heading-6">3. ç¼–å†™æ•°æ®åŒæ­¥æµç¨‹</h3>
<p>ç¼–å†™æ•°æ®åŒæ­¥æµç¨‹æ¥æå–ã€è½¬æ¢å’ŒåŠ è½½æ•°æ®ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataSync</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// Configure Hibernate for source database</span>
        <span class="hljs-type">Configuration</span> <span class="hljs-variable">sourceConfig</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate_source.cfg.xml"</span>);
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sourceSessionFactory</span> <span class="hljs-operator">=</span> sourceConfig.buildSessionFactory();

        <span class="hljs-comment">// Configure Hibernate for target database</span>
        <span class="hljs-type">Configuration</span> <span class="hljs-variable">targetConfig</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate_target.cfg.xml"</span>);
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">targetSessionFactory</span> <span class="hljs-operator">=</span> targetConfig.buildSessionFactory();

        <span class="hljs-comment">// Extract Data from source database</span>
        <span class="hljs-type">Session</span> <span class="hljs-variable">sourceSession</span> <span class="hljs-operator">=</span> sourceSessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">sourceTransaction</span> <span class="hljs-operator">=</span> sourceSession.beginTransaction();
        List&lt;SourceEntity&gt; sourceData = sourceSession.createQuery(<span class="hljs-string">"FROM SourceEntity"</span>, SourceEntity.class).list();
        sourceTransaction.commit();
        sourceSession.close();

        <span class="hljs-comment">// Transform Data</span>
        List&lt;TargetEntity&gt; transformedData = transformData(sourceData);

        <span class="hljs-comment">// Sync Data to target database</span>
        <span class="hljs-type">Session</span> <span class="hljs-variable">targetSession</span> <span class="hljs-operator">=</span> targetSessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">targetTransaction</span> <span class="hljs-operator">=</span> targetSession.beginTransaction();
        <span class="hljs-keyword">for</span> (TargetEntity targetEntity : transformedData) {
            targetSession.saveOrUpdate(targetEntity);
        }
        targetTransaction.commit();
        targetSession.close();

        sourceSessionFactory.close();
        targetSessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> List&lt;TargetEntity&gt; <span class="hljs-title function_">transformData</span><span class="hljs-params">(List&lt;SourceEntity&gt; sourceData)</span> {
        <span class="hljs-comment">// Example transformation logic</span>
        <span class="hljs-keyword">return</span> sourceData.stream()
                .map(sourceEntity -&gt; {
                    <span class="hljs-type">TargetEntity</span> <span class="hljs-variable">targetEntity</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TargetEntity</span>();
                    targetEntity.setDataField(sourceEntity.getDataField());
                    targetEntity.setTimestamp(sourceEntity.getTimestamp());
                    <span class="hljs-keyword">return</span> targetEntity;
                })
                .toList();
    }
}
</code></pre>
<h3 data-id="heading-7">4. è¿è¡Œæ•°æ®åŒæ­¥æµç¨‹</h3>
<p>ç¼–è¯‘å¹¶è¿è¡Œä¸Šé¢çš„Javaä»£ç ï¼Œå®ƒå°†è¿æ¥åˆ°æºæ•°æ®åº“ï¼Œæå–æ•°æ®ï¼Œå¯¹æ•°æ®è¿›è¡Œè½¬æ¢ï¼Œå¹¶å°†è¿™äº›æ•°æ®åŒæ­¥åˆ°ç›®æ ‡æ•°æ®åº“ã€‚</p>
<h3 data-id="heading-8">ä¾‹å­è§£é‡Š</h3>
<ol>
<li><strong>Hibernateé…ç½®ï¼š</strong> é…ç½®ä¸¤ä¸ªHibernateé…ç½®æ–‡ä»¶ï¼Œåˆ†åˆ«ç”¨äºæºæ•°æ®åº“å’Œç›®æ ‡æ•°æ®åº“çš„è¿æ¥ã€‚</li>
<li><strong>å®ä½“ç±»ï¼š</strong> åˆ›å»ºå¯¹åº”æºæ•°æ®è¡¨å’Œç›®æ ‡æ•°æ®è¡¨çš„å®ä½“ç±»ã€‚</li>
<li><strong>æ•°æ®åŒæ­¥æµç¨‹ï¼š</strong>
<ul>
<li><strong>æŠ½å–ï¼ˆExtractï¼‰ï¼š</strong> ä»æºæ•°æ®åº“ä¸­æå–æ•°æ®ã€‚</li>
<li><strong>è½¬æ¢ï¼ˆTransformï¼‰ï¼š</strong> å¯¹æå–çš„æ•°æ®è¿›è¡Œè½¬æ¢ã€‚</li>
<li><strong>åŠ è½½ï¼ˆLoadï¼‰ï¼š</strong> å°†è½¬æ¢åçš„æ•°æ®åŒæ­¥åˆ°ç›®æ ‡æ•°æ®åº“ä¸­ã€‚</li>
</ul>
</li>
</ol>
<p>é€šè¿‡ä»¥ä¸Šé…ç½®å’Œä»£ç ç¤ºä¾‹ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•åœ¨æ•°æ®åŒæ­¥è¿‡ç¨‹ä¸­ä½¿ç”¨Hibernateã€‚è¿™ä¸ªç¤ºä¾‹åŒ…æ‹¬å¦‚ä½•é…ç½®Hibernateã€å¦‚ä½•å®šä¹‰å®ä½“ç±»ä»¥åŠå¦‚ä½•ç¼–å†™æ•°æ®åŒæ­¥æµç¨‹ï¼Œå¸®åŠ©ä½ å®ç°ä»æºæ•°æ®åº“åˆ°ç›®æ ‡æ•°æ®åº“çš„æ•°æ®åŒæ­¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ82ï¼‰å¦‚ä½•åœ¨æ•°æ®åŠ å¯†ä¸­ä½¿ç”¨Hibernateï¼Ÿ]]></title>    <link>https://juejin.cn/post/7602401081265897508</link>    <guid>https://juejin.cn/post/7602401081265897508</guid>    <pubDate>2026-02-03T12:13:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602401081265897508" data-draft-id="7602401081265881124" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ82ï¼‰å¦‚ä½•åœ¨æ•°æ®åŠ å¯†ä¸­ä½¿ç”¨Hibernateï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-03T12:13:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ82ï¼‰å¦‚ä½•åœ¨æ•°æ®åŠ å¯†ä¸­ä½¿ç”¨Hibernateï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T12:13:00.000Z" title="Tue Feb 03 2026 12:13:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ•°æ®åŠ å¯†è¿‡ç¨‹ä¸­ä½¿ç”¨Hibernateï¼Œå¯ä»¥ç¡®ä¿æ•æ„Ÿæ•°æ®åœ¨å­˜å‚¨åˆ°æ•°æ®åº“æ—¶å¾—åˆ°åŠ å¯†å¤„ç†ï¼Œä»è€Œæé«˜æ•°æ®çš„å®‰å…¨æ€§ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªè¯¦ç»†çš„ç¤ºä¾‹ï¼Œç»“åˆä»£ç æ¼”ç¤ºå¦‚ä½•åœ¨æ•°æ®åŠ å¯†è¿‡ç¨‹ä¸­ä½¿ç”¨Hibernateã€‚</p>
<h3 data-id="heading-0">1. è®¾ç½®Hibernateé…ç½®</h3>
<p>åˆ›å»ºä¸€ä¸ªHibernateé…ç½®æ–‡ä»¶<code>hibernate.cfg.xml</code>ï¼Œç”¨äºè¿æ¥æ•°æ®åº“ã€‚</p>
<h4 data-id="heading-1"><code>hibernate.cfg.xml</code></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span> <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/encryption_db<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>db_user<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>db_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h3 data-id="heading-2">2. åˆ›å»ºåŠ å¯†å’Œè§£å¯†å·¥å…·ç±»</h3>
<p>å®ç°ä¸€ä¸ªç®€å•çš„åŠ å¯†å’Œè§£å¯†å·¥å…·ç±»ï¼Œä½¿ç”¨Javaçš„AESåŠ å¯†ç®—æ³•ã€‚</p>
<h4 data-id="heading-3"><code>EncryptionUtils.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> javax.crypto.Cipher;
<span class="hljs-keyword">import</span> javax.crypto.KeyGenerator;
<span class="hljs-keyword">import</span> javax.crypto.SecretKey;
<span class="hljs-keyword">import</span> javax.crypto.spec.SecretKeySpec;
<span class="hljs-keyword">import</span> java.util.Base64;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EncryptionUtils</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">ALGORITHM</span> <span class="hljs-operator">=</span> <span class="hljs-string">"AES"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">byte</span>[] KEY = <span class="hljs-string">"MySuperSecretKey"</span>.getBytes(); <span class="hljs-comment">// åº”è¯¥ä½¿ç”¨æ›´å®‰å…¨çš„å¯†é’¥ç®¡ç†æ–¹å¼</span>

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">encrypt</span><span class="hljs-params">(String value)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">SecretKeySpec</span> <span class="hljs-variable">keySpec</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SecretKeySpec</span>(KEY, ALGORITHM);
        <span class="hljs-type">Cipher</span> <span class="hljs-variable">cipher</span> <span class="hljs-operator">=</span> Cipher.getInstance(ALGORITHM);
        cipher.init(Cipher.ENCRYPT_MODE, keySpec);
        <span class="hljs-type">byte</span>[] encryptedBytes = cipher.doFinal(value.getBytes());
        <span class="hljs-keyword">return</span> Base64.getEncoder().encodeToString(encryptedBytes);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">decrypt</span><span class="hljs-params">(String value)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">SecretKeySpec</span> <span class="hljs-variable">keySpec</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SecretKeySpec</span>(KEY, ALGORITHM);
        <span class="hljs-type">Cipher</span> <span class="hljs-variable">cipher</span> <span class="hljs-operator">=</span> Cipher.getInstance(ALGORITHM);
        cipher.init(Cipher.DECRYPT_MODE, keySpec);
        <span class="hljs-type">byte</span>[] decodedBytes = Base64.getDecoder().decode(value);
        <span class="hljs-type">byte</span>[] decryptedBytes = cipher.doFinal(decodedBytes);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(decryptedBytes);
    }
}
</code></pre>
<h3 data-id="heading-4">3. åˆ›å»ºè‡ªå®šä¹‰Hibernateç±»å‹</h3>
<p>åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„Hibernateç”¨æˆ·ç±»å‹ï¼Œç”¨äºå¤„ç†åŠ å¯†å­—æ®µçš„æ˜ å°„ã€‚</p>
<h4 data-id="heading-5"><code>EncryptedStringType.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.engine.spi.SharedSessionContractImplementor;
<span class="hljs-keyword">import</span> org.hibernate.usertype.UserType;

<span class="hljs-keyword">import</span> java.io.Serializable;
<span class="hljs-keyword">import</span> java.sql.PreparedStatement;
<span class="hljs-keyword">import</span> java.sql.ResultSet;
<span class="hljs-keyword">import</span> java.sql.SQLException;
<span class="hljs-keyword">import</span> java.sql.Types;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EncryptedStringType</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserType</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] sqlTypes() {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]{Types.VARCHAR};
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Class <span class="hljs-title function_">returnedClass</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> String.class;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object x, Object y)</span> {
        <span class="hljs-keyword">return</span> x == <span class="hljs-literal">null</span> ? y == <span class="hljs-literal">null</span> : x.equals(y);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">(Object x)</span> {
        <span class="hljs-keyword">return</span> x.hashCode();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">nullSafeGet</span><span class="hljs-params">(ResultSet rs, String[] names, SharedSessionContractImplementor session, Object owner)</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-type">String</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> rs.getString(names[<span class="hljs-number">0</span>]);
        <span class="hljs-keyword">if</span> (value == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> EncryptionUtils.decrypt(value);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SQLException</span>(<span class="hljs-string">"Failed to decrypt value"</span>, e);
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">nullSafeSet</span><span class="hljs-params">(PreparedStatement st, Object value, <span class="hljs-type">int</span> index, SharedSessionContractImplementor session)</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-keyword">if</span> (value == <span class="hljs-literal">null</span>) {
            st.setNull(index, Types.VARCHAR);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">try</span> {
                st.setString(index, EncryptionUtils.encrypt((String) value));
            } <span class="hljs-keyword">catch</span> (Exception e) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SQLException</span>(<span class="hljs-string">"Failed to encrypt value"</span>, e);
            }
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">deepCopy</span><span class="hljs-params">(Object value)</span> {
        <span class="hljs-keyword">return</span> value;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isMutable</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Serializable <span class="hljs-title function_">disassemble</span><span class="hljs-params">(Object value)</span> {
        <span class="hljs-keyword">return</span> (Serializable) value;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">assemble</span><span class="hljs-params">(Serializable cached, Object owner)</span> {
        <span class="hljs-keyword">return</span> cached;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">replace</span><span class="hljs-params">(Object original, Object target, Object owner)</span> {
        <span class="hljs-keyword">return</span> original;
    }
}
</code></pre>
<h3 data-id="heading-6">4. åˆ›å»ºå®ä½“ç±»</h3>
<p>åˆ›å»ºå®ä½“ç±»å¹¶ä½¿ç”¨è‡ªå®šä¹‰çš„ç±»å‹æ¥å¯¹å­—æ®µè¿›è¡ŒåŠ å¯†ã€‚</p>
<h4 data-id="heading-7"><code>User.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.annotations.Type;
<span class="hljs-keyword">import</span> org.hibernate.annotations.TypeDef;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "users")</span>
<span class="hljs-meta">@TypeDef(name = "encryptedString", typeClass = EncryptedStringType.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Type(type = "encryptedString")</span>
    <span class="hljs-keyword">private</span> String sensitiveData;

    <span class="hljs-comment">// Getters and setters</span>
}
</code></pre>
<h3 data-id="heading-8">5. ç¼–å†™æ•°æ®åŠ å¯†å’Œè§£å¯†æµç¨‹</h3>
<p>ç¼–å†™ä»£ç æ¥åˆ›å»ºå’Œè¯»å–åŠ å¯†æ•°æ®ã€‚</p>
<h4 data-id="heading-9"><code>Main.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// Configure Hibernate</span>
        <span class="hljs-type">Configuration</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>);
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> config.buildSessionFactory();

        <span class="hljs-comment">// Save encrypted data</span>
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();
        user.setSensitiveData(<span class="hljs-string">"MySecretData"</span>);
        session.save(user);
        transaction.commit();
        session.close();

        <span class="hljs-comment">// Read encrypted data</span>
        session = sessionFactory.openSession();
        <span class="hljs-type">User</span> <span class="hljs-variable">retrievedUser</span> <span class="hljs-operator">=</span> session.get(User.class, user.getId());
        System.out.println(<span class="hljs-string">"Decrypted data: "</span> + retrievedUser.getSensitiveData());
        session.close();

        sessionFactory.close();
    }
}
</code></pre>
<h3 data-id="heading-10">6. è¿è¡Œæ•°æ®åŠ å¯†å’Œè§£å¯†æµç¨‹</h3>
<p>ç¼–è¯‘å¹¶è¿è¡Œä¸Šé¢çš„Javaä»£ç ï¼Œå®ƒå°†åŠ å¯†æ•æ„Ÿæ•°æ®ä¿å­˜åˆ°æ•°æ®åº“ï¼Œå¹¶å°†åŠ å¯†æ•°æ®è¯»å–å¹¶è§£å¯†åè¾“å‡ºã€‚</p>
<h3 data-id="heading-11">ä¾‹å­è§£é‡Š</h3>
<ol>
<li><strong>Hibernateé…ç½®ï¼š</strong> é…ç½®ä¸€ä¸ªHibernateé…ç½®æ–‡ä»¶ï¼Œç”¨äºè¿æ¥æ•°æ®åº“ã€‚</li>
<li><strong>åŠ å¯†å’Œè§£å¯†å·¥å…·ç±»ï¼š</strong> å®ç°ä¸€ä¸ªç®€å•çš„åŠ å¯†å’Œè§£å¯†å·¥å…·ç±»ï¼Œä½¿ç”¨AESåŠ å¯†ç®—æ³•ã€‚</li>
<li><strong>è‡ªå®šä¹‰Hibernateç±»å‹ï¼š</strong> åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„Hibernateç”¨æˆ·ç±»å‹ï¼Œç”¨äºå¤„ç†åŠ å¯†å­—æ®µçš„æ˜ å°„ã€‚</li>
<li><strong>å®ä½“ç±»ï¼š</strong> åˆ›å»ºå®ä½“ç±»å¹¶ä½¿ç”¨è‡ªå®šä¹‰çš„ç±»å‹æ¥å¯¹å­—æ®µè¿›è¡ŒåŠ å¯†ã€‚</li>
<li><strong>æ•°æ®åŠ å¯†å’Œè§£å¯†æµç¨‹ï¼š</strong> ç¼–å†™ä»£ç æ¥åˆ›å»ºå’Œè¯»å–åŠ å¯†æ•°æ®ã€‚</li>
</ol>
<p>é€šè¿‡ä»¥ä¸Šé…ç½®å’Œä»£ç ç¤ºä¾‹ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•åœ¨æ•°æ®åŠ å¯†è¿‡ç¨‹ä¸­ä½¿ç”¨Hibernateã€‚è¿™ä¸ªç¤ºä¾‹åŒ…æ‹¬å¦‚ä½•é…ç½®Hibernateã€å¦‚ä½•å®šä¹‰åŠ å¯†å’Œè§£å¯†å·¥å…·ç±»ã€å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰Hibernateç±»å‹ä»¥åŠå¦‚ä½•ç¼–å†™æ•°æ®åŠ å¯†å’Œè§£å¯†æµç¨‹ï¼Œå¸®åŠ©ä½ å®ç°æ•°æ®çš„åŠ å¯†å­˜å‚¨å’Œè¯»å–ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€å¤©ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼ˆç¬¬11ç¯‡ï¼‰ï¼šSupertonic - æé€Ÿè®¾å¤‡ç«¯å¤šè¯­è¨€TTSï¼Œè®©è¯­éŸ³åˆæˆåœ¨æœ¬åœ°é£èµ·æ¥]]></title>    <link>https://juejin.cn/post/7602420156397371435</link>    <guid>https://juejin.cn/post/7602420156397371435</guid>    <pubDate>2026-02-03T12:25:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602420156397371435" data-draft-id="7602454700503613481" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€å¤©ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼ˆç¬¬11ç¯‡ï¼‰ï¼šSupertonic - æé€Ÿè®¾å¤‡ç«¯å¤šè¯­è¨€TTSï¼Œè®©è¯­éŸ³åˆæˆåœ¨æœ¬åœ°é£èµ·æ¥"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,å¼€æº"/> <meta itemprop="datePublished" content="2026-02-03T12:25:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†¬å¥‡Lab"/> <meta itemprop="url" content="https://juejin.cn/user/1857501105781193"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€å¤©ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼ˆç¬¬11ç¯‡ï¼‰ï¼šSupertonic - æé€Ÿè®¾å¤‡ç«¯å¤šè¯­è¨€TTSï¼Œè®©è¯­éŸ³åˆæˆåœ¨æœ¬åœ°é£èµ·æ¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1857501105781193/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†¬å¥‡Lab
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T12:25:07.000Z" title="Tue Feb 03 2026 12:25:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<blockquote>
<p>"å¦‚æœè¯­éŸ³åˆæˆèƒ½åœ¨ä½ çš„è®¾å¤‡ä¸Šä»¥æ¯ç§’1000+å­—ç¬¦çš„é€Ÿåº¦è¿è¡Œï¼Œå®Œå…¨ç¦»çº¿ï¼Œæ”¯æŒ50+è¯­è¨€ï¼Œé‚£è¯¥å¤šå¥½ï¼Ÿ"</p>
</blockquote>
<p>è¿™æ˜¯"ä¸€å¤©ä¸€ä¸ªå¼€æºé¡¹ç›®"ç³»åˆ—çš„ç¬¬11ç¯‡æ–‡ç« ã€‚ä»Šå¤©å¸¦ä½ äº†è§£çš„é¡¹ç›®æ˜¯ <strong>Supertonic</strong>ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsupertone-inc%2Fsupertonic" target="_blank" title="https://github.com/supertone-inc/supertonic" ref="nofollow noopener noreferrer">GitHub</a>ï¼‰ã€‚</p>
<p>ä¼ ç»Ÿçš„TTSç³»ç»Ÿè¦ä¹ˆä¾èµ–äº‘ç«¯APIï¼ˆæœ‰å»¶è¿Ÿå’Œéšç§é—®é¢˜ï¼‰ï¼Œè¦ä¹ˆé€Ÿåº¦æ…¢ã€è´¨é‡å·®ã€‚Supertonicé€šè¿‡ONNXè¿è¡Œæ—¶å®ç°äº†æé€Ÿã€é«˜è´¨é‡ã€å®Œå…¨è®¾å¤‡ç«¯çš„è¯­éŸ³åˆæˆï¼Œåœ¨M1 Macä¸Šè¾¾åˆ°1000+å­—ç¬¦/ç§’çš„é€Ÿåº¦ï¼Œæ”¯æŒ50+è¯­è¨€ï¼Œå†…ç½®æ™ºèƒ½æ–‡æœ¬è§„èŒƒåŒ–ï¼Œæ— éœ€é¢„å¤„ç†ï¼Œè®©è¯­éŸ³åˆæˆçœŸæ­£"é£èµ·æ¥"ã€‚</p>
<h3 data-id="heading-1">ä½ å°†å­¦åˆ°ä»€ä¹ˆ</h3>
<ul>
<li>Supertonicçš„æ ¸å¿ƒæ¶æ„å’ŒæŠ€æœ¯ç‰¹ç‚¹</li>
<li>å¦‚ä½•åœ¨å„ç§å¹³å°ä¸Šä½¿ç”¨Supertonicè¿›è¡ŒTTS</li>
<li>ONNXè¿è¡Œæ—¶çš„ä¼˜åŠ¿å’Œå®ç°</li>
<li>å†…ç½®æ–‡æœ¬è§„èŒƒåŒ–çš„æ™ºèƒ½å¤„ç†</li>
<li>æµå¼å¤„ç†å’Œå®æ—¶è¯­éŸ³åˆæˆ</li>
<li>ä¸å…¶ä»–TTSç³»ç»Ÿçš„å¯¹æ¯”åˆ†æ</li>
<li>å¦‚ä½•å¼€å§‹ä½¿ç”¨Supertonicæ„å»ºåº”ç”¨</li>
</ul>
<h3 data-id="heading-2">å‰ç½®çŸ¥è¯†</h3>
<ul>
<li>å¯¹TTSï¼ˆæ–‡æœ¬è½¬è¯­éŸ³ï¼‰æœ‰åŸºæœ¬äº†è§£</li>
<li>ç†Ÿæ‚‰è‡³å°‘ä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼ˆPythonã€JavaScriptã€Swiftã€Javaç­‰ï¼‰</li>
<li>äº†è§£ONNXçš„åŸºæœ¬æ¦‚å¿µï¼ˆå¯é€‰ï¼‰</li>
<li>å¯¹è®¾å¤‡ç«¯AIæœ‰åŸºæœ¬è®¤è¯†ï¼ˆå¯é€‰ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-3">é¡¹ç›®èƒŒæ™¯</h2>
<h3 data-id="heading-4">é¡¹ç›®ç®€ä»‹</h3>
<p><strong>Supertonic</strong> æ˜¯ä¸€ä¸ª<strong>æé€Ÿã€è®¾å¤‡ç«¯ã€å¤šè¯­è¨€çš„æ–‡æœ¬è½¬è¯­éŸ³ï¼ˆTTSï¼‰ç³»ç»Ÿ</strong>ï¼Œä¸“ä¸ºæè‡´æ€§èƒ½å’Œæœ€å°è®¡ç®—å¼€é”€è€Œè®¾è®¡ã€‚é€šè¿‡ONNX Runtimeè¿è¡Œï¼Œå®Œå…¨åœ¨è®¾å¤‡ä¸Šè¿è¡Œâ€”â€”æ— éœ€äº‘ç«¯ã€æ— éœ€APIè°ƒç”¨ã€æ— éœ€éšç§æ‹…å¿§ã€‚</p>
<p><strong>é¡¹ç›®è§£å†³çš„æ ¸å¿ƒé—®é¢˜</strong>ï¼š</p>
<ul>
<li>äº‘ç«¯TTSæœ‰å»¶è¿Ÿå’Œéšç§é—®é¢˜</li>
<li>ä¼ ç»Ÿè®¾å¤‡ç«¯TTSé€Ÿåº¦æ…¢ã€è´¨é‡å·®</li>
<li>ç¼ºä¹å¤šè¯­è¨€æ”¯æŒ</li>
<li>æ–‡æœ¬è§„èŒƒåŒ–éœ€è¦é¢„å¤„ç†</li>
<li>ä¸åŒå¹³å°éœ€è¦ä¸åŒçš„å®ç°</li>
</ul>
<p><strong>é¢å‘çš„ç”¨æˆ·ç¾¤ä½“</strong>ï¼š</p>
<ul>
<li>éœ€è¦è®¾å¤‡ç«¯TTSçš„ç§»åŠ¨åº”ç”¨å¼€å‘è€…</li>
<li>éœ€è¦ç¦»çº¿è¯­éŸ³åˆæˆçš„æ¡Œé¢åº”ç”¨å¼€å‘è€…</li>
<li>å¯¹éšç§æœ‰è¦æ±‚çš„å¼€å‘è€…</li>
<li>éœ€è¦å¤šè¯­è¨€TTSçš„å›½é™…åŒ–åº”ç”¨å¼€å‘è€…</li>
<li>å¯¹æ€§èƒ½æœ‰æè‡´è¦æ±‚çš„å¼€å‘è€…</li>
</ul>
<h3 data-id="heading-5">ä½œè€…/å›¢é˜Ÿä»‹ç»</h3>
<p><strong>å›¢é˜Ÿï¼šSupertone Inc.</strong></p>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šä¸“æ³¨äºè¯­éŸ³æŠ€æœ¯å’ŒAIçš„ç§‘æŠ€å…¬å¸</li>
<li><strong>è´¡çŒ®è€…</strong>ï¼š4ä½è´¡çŒ®è€…ï¼ŒåŒ…æ‹¬æ ¸å¿ƒå¼€å‘å›¢é˜Ÿ</li>
<li><strong>ç†å¿µ</strong>ï¼šæ‰“é€ æé€Ÿã€é«˜è´¨é‡ã€å®Œå…¨è®¾å¤‡ç«¯çš„TTSç³»ç»Ÿ</li>
</ul>
<p><strong>é¡¹ç›®åˆ›å»ºæ—¶é—´</strong>ï¼š2024å¹´ï¼ˆä»GitHubæ´»åŠ¨æ¥çœ‹æ˜¯æŒç»­æ´»è·ƒçš„é¡¹ç›®ï¼‰</p>
<h3 data-id="heading-6">é¡¹ç›®æ•°æ®</h3>
<ul>
<li>â­ <strong>GitHub Stars</strong>: 2.6k+ï¼ˆæŒç»­å¿«é€Ÿå¢é•¿ï¼‰</li>
<li>ğŸ´ <strong>Forks</strong>: 232+</li>
<li>ğŸ“¦ <strong>ç‰ˆæœ¬</strong>: v2.0.0ï¼ˆæœ€æ–°ç‰ˆæœ¬ï¼Œ2026å¹´1æœˆ6æ—¥å‘å¸ƒï¼‰</li>
<li>ğŸ“„ <strong>License</strong>: MITï¼ˆä»£ç ï¼‰ï¼ŒOpenRAIL-Mï¼ˆæ¨¡å‹ï¼‰</li>
<li>ğŸŒ <strong>Demo</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2Fspaces%2FSupertone%2Fsupertonic-2" target="_blank" title="https://huggingface.co/spaces/Supertone/supertonic-2" ref="nofollow noopener noreferrer">Hugging Face Spaces</a></li>
<li>ğŸ“š <strong>æ–‡æ¡£</strong>: GitHub READMEåŒ…å«å®Œæ•´ä½¿ç”¨æŒ‡å—</li>
<li>ğŸ’¬ <strong>ç¤¾åŒº</strong>: GitHub Issuesæ´»è·ƒ</li>
</ul>
<p><strong>é¡¹ç›®å‘å±•å†ç¨‹</strong>ï¼š</p>
<ul>
<li>2024å¹´ï¼šé¡¹ç›®åˆ›å»ºï¼Œå‘å¸ƒv1ç‰ˆæœ¬</li>
<li>2024-2025å¹´ï¼šæŒç»­ä¼˜åŒ–ï¼Œæ·»åŠ å¤šè¯­è¨€æ”¯æŒ</li>
<li>2025å¹´ï¼šå‘å¸ƒv2ç‰ˆæœ¬ï¼Œæ€§èƒ½å¤§å¹…æå‡</li>
<li>2026å¹´ï¼šæŒç»­è¿­ä»£ï¼Œç¤¾åŒºæ´»è·ƒåº¦æŒç»­æå‡</li>
</ul>
<hr/>
<h2 data-id="heading-7">ä¸»è¦åŠŸèƒ½</h2>
<h3 data-id="heading-8">æ ¸å¿ƒä½œç”¨</h3>
<p>Supertonicçš„æ ¸å¿ƒä½œç”¨æ˜¯<strong>æä¾›æé€Ÿã€é«˜è´¨é‡ã€å®Œå…¨è®¾å¤‡ç«¯çš„TTSç³»ç»Ÿ</strong>ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>æé€Ÿè¯­éŸ³åˆæˆ</strong>ï¼šM1 Macä¸Šè¾¾åˆ°1000+å­—ç¬¦/ç§’çš„é€Ÿåº¦</li>
<li><strong>å¤šè¯­è¨€æ”¯æŒ</strong>ï¼šæ”¯æŒ50+è¯­è¨€ï¼ŒåŒ…æ‹¬è‹±è¯­ã€ä¸­æ–‡ã€æ—¥è¯­ã€éŸ©è¯­ç­‰</li>
<li><strong>æ™ºèƒ½æ–‡æœ¬è§„èŒƒåŒ–</strong>ï¼šå†…ç½®æ–‡æœ¬è§„èŒƒåŒ–ï¼Œæ— éœ€é¢„å¤„ç†</li>
<li><strong>æµå¼å¤„ç†</strong>ï¼šæ”¯æŒæµå¼TTSï¼Œå®ç°å®æ—¶è¯­éŸ³åˆæˆ</li>
<li><strong>å®Œå…¨ç¦»çº¿</strong>ï¼šæ— éœ€äº‘ç«¯ï¼Œå®Œå…¨åœ¨è®¾å¤‡ä¸Šè¿è¡Œ</li>
</ol>
<h3 data-id="heading-9">ä½¿ç”¨åœºæ™¯</h3>
<ol>
<li>
<p><strong>ç§»åŠ¨åº”ç”¨</strong></p>
<ul>
<li>é˜…è¯»åŠ©æ‰‹åº”ç”¨</li>
<li>è¯­éŸ³å¯¼èˆªåº”ç”¨</li>
<li>æ— éšœç¢åº”ç”¨</li>
</ul>
</li>
<li>
<p><strong>æ¡Œé¢åº”ç”¨</strong></p>
<ul>
<li>ç”µå­ä¹¦é˜…è¯»å™¨</li>
<li>æ–‡æ¡£æœ—è¯»å·¥å…·</li>
<li>è¯­éŸ³åŠ©æ‰‹</li>
</ul>
</li>
<li>
<p><strong>Webåº”ç”¨</strong></p>
<ul>
<li>æµè§ˆå™¨æ‰©å±•</li>
<li>åœ¨çº¿è¯­éŸ³åˆæˆæœåŠ¡</li>
<li>è¯­éŸ³èŠå¤©åº”ç”¨</li>
</ul>
</li>
<li>
<p><strong>IoTè®¾å¤‡</strong></p>
<ul>
<li>æ™ºèƒ½éŸ³ç®±</li>
<li>è¯­éŸ³äº¤äº’è®¾å¤‡</li>
<li>è¾¹ç¼˜è®¡ç®—è®¾å¤‡</li>
</ul>
</li>
</ol>
<h3 data-id="heading-10">å¿«é€Ÿå¼€å§‹</h3>
<h4 data-id="heading-11">å®‰è£…æ–¹å¼</h4>
<p>Supertonicæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€å’Œå¹³å°ï¼š</p>
<p><strong>Python</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…PythonåŒ…</span>
pip install supertonic

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
from supertonic import SupertonicTTS

tts = SupertonicTTS()
audio = tts.synthesize(<span class="hljs-string">"Hello, world!"</span>)
</code></pre>
<p><strong>JavaScript/Node.js</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…npmåŒ…</span>
npm install supertonic

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
const { SupertonicTTS } = require(<span class="hljs-string">'supertonic'</span>);

const tts = new SupertonicTTS();
const audio = await tts.synthesize(<span class="hljs-string">"Hello, world!"</span>);
</code></pre>
<p><strong>å…¶ä»–å¹³å°</strong>ï¼š</p>
<ul>
<li><strong>C++</strong>: ä½¿ç”¨cppç›®å½•ä¸‹çš„å®ç°</li>
<li><strong>Swift</strong>: ä½¿ç”¨swiftç›®å½•ä¸‹çš„å®ç°</li>
<li><strong>Java</strong>: ä½¿ç”¨javaç›®å½•ä¸‹çš„å®ç°</li>
<li><strong>C#</strong>: ä½¿ç”¨csharpç›®å½•ä¸‹çš„å®ç°</li>
<li><strong>Go</strong>: ä½¿ç”¨goç›®å½•ä¸‹çš„å®ç°</li>
<li><strong>Rust</strong>: ä½¿ç”¨rustç›®å½•ä¸‹çš„å®ç°</li>
<li><strong>Flutter</strong>: ä½¿ç”¨flutterç›®å½•ä¸‹çš„å®ç°</li>
<li><strong>Web</strong>: ä½¿ç”¨webç›®å½•ä¸‹çš„å®ç°</li>
</ul>
<h4 data-id="heading-12">æœ€ç®€å•çš„ä½¿ç”¨ç¤ºä¾‹</h4>
<p><strong>Pythonç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> supertonic <span class="hljs-keyword">import</span> SupertonicTTS

<span class="hljs-comment"># åˆå§‹åŒ–TTSå¼•æ“</span>
tts = SupertonicTTS()

<span class="hljs-comment"># åˆæˆè¯­éŸ³</span>
text = <span class="hljs-string">"Supertonic is a lightning-fast, on-device TTS system."</span>
audio = tts.synthesize(text)

<span class="hljs-comment"># ä¿å­˜éŸ³é¢‘æ–‡ä»¶</span>
<span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">"output.wav"</span>, <span class="hljs-string">"wb"</span>) <span class="hljs-keyword">as</span> f:
    f.write(audio)
</code></pre>
<p><strong>JavaScriptç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">SupertonicTTS</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'supertonic'</span>);

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">synthesize</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> tts = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SupertonicTTS</span>();
    <span class="hljs-keyword">const</span> audio = <span class="hljs-keyword">await</span> tts.<span class="hljs-title function_">synthesize</span>(<span class="hljs-string">"Supertonic is lightning-fast!"</span>);
    <span class="hljs-comment">// å¤„ç†éŸ³é¢‘æ•°æ®</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Audio generated:"</span>, audio.<span class="hljs-property">length</span>, <span class="hljs-string">"bytes"</span>);
}

<span class="hljs-title function_">synthesize</span>();
</code></pre>
<h3 data-id="heading-13">æ ¸å¿ƒç‰¹æ€§</h3>
<ul>
<li><strong>æé€Ÿæ€§èƒ½</strong>ï¼šM1 Macä¸Š1000+å­—ç¬¦/ç§’ï¼Œè¿œè¶…ä¼ ç»ŸTTSç³»ç»Ÿ</li>
<li><strong>å¤šè¯­è¨€æ”¯æŒ</strong>ï¼šæ”¯æŒ50+è¯­è¨€ï¼ŒåŒ…æ‹¬ä¸»è¦å›½é™…è¯­è¨€</li>
<li><strong>æ™ºèƒ½æ–‡æœ¬è§„èŒƒåŒ–</strong>ï¼šå†…ç½®æ–‡æœ¬è§„èŒƒåŒ–ï¼Œå¤„ç†æ•°å­—ã€æ—¥æœŸã€ç¼©å†™ç­‰å¤æ‚è¡¨è¾¾</li>
<li><strong>æµå¼å¤„ç†</strong>ï¼šæ”¯æŒæµå¼TTSï¼Œå®ç°å®æ—¶è¯­éŸ³åˆæˆ</li>
<li><strong>å®Œå…¨ç¦»çº¿</strong>ï¼šæ— éœ€äº‘ç«¯ï¼Œå®Œå…¨åœ¨è®¾å¤‡ä¸Šè¿è¡Œï¼Œä¿æŠ¤éšç§</li>
<li><strong>è·¨å¹³å°æ”¯æŒ</strong>ï¼šæ”¯æŒC++ã€Swiftã€JavaScriptã€Javaã€C#ã€Goã€Rustã€Flutterã€Webç­‰</li>
<li><strong>ONNXè¿è¡Œæ—¶</strong>ï¼šåŸºäºONNX Runtimeï¼Œé«˜æ•ˆæ¨ç†</li>
<li><strong>é«˜è´¨é‡è¯­éŸ³</strong>ï¼šç”Ÿæˆè‡ªç„¶ã€æ¸…æ™°çš„è¯­éŸ³</li>
</ul>
<h3 data-id="heading-14">é¡¹ç›®ä¼˜åŠ¿</h3>





















































<table><thead><tr><th align="left">å¯¹æ¯”é¡¹</th><th align="left">Supertonic</th><th align="left">äº‘ç«¯TTS</th><th align="left">ä¼ ç»Ÿè®¾å¤‡ç«¯TTS</th></tr></thead><tbody><tr><td align="left"><strong>é€Ÿåº¦</strong></td><td align="left">âœ… 1000+å­—ç¬¦/ç§’</td><td align="left">âš ï¸ å—ç½‘ç»œå½±å“</td><td align="left">âŒ æ…¢</td></tr><tr><td align="left"><strong>éšç§</strong></td><td align="left">âœ… å®Œå…¨æœ¬åœ°</td><td align="left">âŒ æ•°æ®ä¸Šä¼ </td><td align="left">âœ… æœ¬åœ°</td></tr><tr><td align="left"><strong>å»¶è¿Ÿ</strong></td><td align="left">âœ… æä½</td><td align="left">âŒ ç½‘ç»œå»¶è¿Ÿ</td><td align="left">âš ï¸ ä¸­ç­‰</td></tr><tr><td align="left"><strong>å¤šè¯­è¨€</strong></td><td align="left">âœ… 50+è¯­è¨€</td><td align="left">âœ… æ”¯æŒ</td><td align="left">âš ï¸ æœ‰é™</td></tr><tr><td align="left"><strong>æ–‡æœ¬è§„èŒƒåŒ–</strong></td><td align="left">âœ… å†…ç½®æ™ºèƒ½å¤„ç†</td><td align="left">âš ï¸ éœ€è¦é¢„å¤„ç†</td><td align="left">âŒ éœ€è¦é¢„å¤„ç†</td></tr><tr><td align="left"><strong>ç¦»çº¿ä½¿ç”¨</strong></td><td align="left">âœ… å®Œå…¨ç¦»çº¿</td><td align="left">âŒ éœ€è¦ç½‘ç»œ</td><td align="left">âœ… ç¦»çº¿</td></tr><tr><td align="left"><strong>æˆæœ¬</strong></td><td align="left">âœ… å…è´¹å¼€æº</td><td align="left">âŒ APIè´¹ç”¨</td><td align="left">âœ… å…è´¹</td></tr></tbody></table>
<p><strong>ä¸ºä»€ä¹ˆé€‰æ‹©Supertonicï¼Ÿ</strong></p>
<p>ç›¸æ¯”äº‘ç«¯TTSå’Œä¼ ç»Ÿè®¾å¤‡ç«¯TTSï¼ŒSupertonicæä¾›æé€Ÿæ€§èƒ½ã€å®Œå…¨ç¦»çº¿ã€æ™ºèƒ½æ–‡æœ¬è§„èŒƒåŒ–ã€å¤šè¯­è¨€æ”¯æŒï¼Œæ˜¯è®¾å¤‡ç«¯TTSçš„ç†æƒ³é€‰æ‹©ã€‚</p>
<hr/>
<h2 data-id="heading-15">é¡¹ç›®è¯¦ç»†å‰–æ</h2>
<h3 data-id="heading-16">æ¶æ„è®¾è®¡</h3>
<p>Supertonicé‡‡ç”¨<strong>ONNX Runtime</strong>ä½œä¸ºæ¨ç†å¼•æ“ï¼Œå®ç°é«˜æ•ˆçš„è®¾å¤‡ç«¯TTSã€‚</p>
<h4 data-id="heading-17">æ ¸å¿ƒæ¶æ„</h4>
<pre><code class="hljs language-vbnet" lang="vbnet">Supertonic TTS System
â”œâ”€â”€ <span class="hljs-keyword">Text</span> Normalizationï¼ˆæ–‡æœ¬è§„èŒƒåŒ–ï¼‰
â”‚   â”œâ”€â”€ æ•°å­—å¤„ç†
â”‚   â”œâ”€â”€ æ—¥æœŸæ—¶é—´å¤„ç†
â”‚   â”œâ”€â”€ ç¼©å†™å±•å¼€
â”‚   â””â”€â”€ å¤šè¯­è¨€æ”¯æŒ
â”œâ”€â”€ <span class="hljs-keyword">Text</span>-<span class="hljs-keyword">to</span>-Latentï¼ˆæ–‡æœ¬åˆ°æ½œåœ¨ç©ºé—´ï¼‰
â”‚   â”œâ”€â”€ Flow Matchingæ¨¡å‹
â”‚   â”œâ”€â”€ Length-Aware RoPE
â”‚   â””â”€â”€ æ–‡æœ¬-è¯­éŸ³å¯¹é½
â”œâ”€â”€ Latent-<span class="hljs-keyword">to</span>-Speechï¼ˆæ½œåœ¨ç©ºé—´åˆ°è¯­éŸ³ï¼‰
â”‚   â”œâ”€â”€ Speech Autoencoder
â”‚   â”œâ”€â”€ æµå¼å¤„ç†
â”‚   â””â”€â”€ éŸ³é¢‘ç”Ÿæˆ
â””â”€â”€ ONNX Runtimeï¼ˆæ¨ç†å¼•æ“ï¼‰
    â”œâ”€â”€ æ¨¡å‹ä¼˜åŒ–
    â”œâ”€â”€ ç¡¬ä»¶åŠ é€Ÿ
    â””â”€â”€ è·¨å¹³å°æ”¯æŒ
</code></pre>
<h4 data-id="heading-18">ONNX Runtimeä¼˜åŠ¿</h4>
<p>ONNX Runtimeæä¾›äº†ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>è·¨å¹³å°</strong>ï¼šç»Ÿä¸€çš„æ¨¡å‹æ ¼å¼ï¼Œæ”¯æŒå¤šç§å¹³å°</li>
<li><strong>ç¡¬ä»¶åŠ é€Ÿ</strong>ï¼šæ”¯æŒGPUã€NPUç­‰ç¡¬ä»¶åŠ é€Ÿ</li>
<li><strong>æ¨¡å‹ä¼˜åŒ–</strong>ï¼šè‡ªåŠ¨ä¼˜åŒ–æ¨¡å‹æ¨ç†æ€§èƒ½</li>
<li><strong>æ˜“äºéƒ¨ç½²</strong>ï¼šæ¨¡å‹å¯¼å‡ºåå¯ç›´æ¥éƒ¨ç½²</li>
</ul>
<h4 data-id="heading-19">æ–‡æœ¬è§„èŒƒåŒ–</h4>
<p>Supertonicå†…ç½®æ™ºèƒ½æ–‡æœ¬è§„èŒƒåŒ–ï¼Œèƒ½å¤Ÿå¤„ç†ï¼š</p>
<ul>
<li><strong>æ•°å­—</strong>ï¼š123 â†’ "one hundred twenty-three"</li>
<li><strong>æ—¥æœŸ</strong>ï¼š2024-01-01 â†’ "January first, twenty twenty-four"</li>
<li><strong>æ—¶é—´</strong>ï¼š2:30 â†’ "two thirty"</li>
<li><strong>ç¼©å†™</strong>ï¼šDr. â†’ "Doctor"</li>
<li><strong>å•ä½</strong>ï¼š30kph â†’ "thirty kilometers per hour"</li>
<li><strong>æŠ€æœ¯ç¼©å†™</strong>ï¼šh â†’ "hours"</li>
</ul>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>æ— éœ€é¢„å¤„ç†ï¼Œç›´æ¥å¤„ç†åŸå§‹æ–‡æœ¬</li>
<li>æ™ºèƒ½è¯†åˆ«ä¸Šä¸‹æ–‡ï¼Œæ­£ç¡®å±•å¼€ç¼©å†™</li>
<li>æ”¯æŒå¤šè¯­è¨€ï¼Œæ¯ç§è¯­è¨€æœ‰ä¸“é—¨çš„è§„èŒƒåŒ–è§„åˆ™</li>
</ul>
<h4 data-id="heading-20">æµå¼å¤„ç†</h4>
<p>Supertonicæ”¯æŒæµå¼TTSï¼Œå®ç°å®æ—¶è¯­éŸ³åˆæˆï¼š</p>
<p><strong>å·¥ä½œæµç¨‹</strong>ï¼š</p>
<ol>
<li>æ–‡æœ¬åˆ†å—å¤„ç†</li>
<li>é€å—ç”ŸæˆéŸ³é¢‘</li>
<li>å®æ—¶è¾“å‡ºéŸ³é¢‘æµ</li>
<li>ä½å»¶è¿Ÿå“åº”</li>
</ol>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>ä½å»¶è¿Ÿï¼Œé€‚åˆå®æ—¶åº”ç”¨</li>
<li>å†…å­˜å ç”¨å°ï¼Œé€‚åˆç§»åŠ¨è®¾å¤‡</li>
<li>ç”¨æˆ·ä½“éªŒå¥½ï¼Œå“åº”è¿…é€Ÿ</li>
</ul>
<h3 data-id="heading-21">å¤šè¯­è¨€æ”¯æŒ</h3>
<p>Supertonicæ”¯æŒ50+è¯­è¨€ï¼ŒåŒ…æ‹¬ï¼š</p>
<p><strong>ä¸»è¦è¯­è¨€</strong>ï¼š</p>
<ul>
<li>è‹±è¯­ã€ä¸­æ–‡ã€æ—¥è¯­ã€éŸ©è¯­</li>
<li>è¥¿ç­ç‰™è¯­ã€æ³•è¯­ã€å¾·è¯­ã€æ„å¤§åˆ©è¯­ã€è‘¡è„ç‰™è¯­</li>
<li>ä¿„è¯­ã€é˜¿æ‹‰ä¼¯è¯­ã€å°åœ°è¯­</li>
<li>æ³°è¯­ã€è¶Šå—è¯­ã€å°å°¼è¯­</li>
</ul>
<p><strong>å…¶ä»–è¯­è¨€</strong>ï¼š</p>
<ul>
<li>è·å…°è¯­ã€æ³¢å…°è¯­ã€åœŸè€³å…¶è¯­ã€æ·å…‹è¯­</li>
<li>ç½—é©¬å°¼äºšè¯­ã€åŒˆç‰™åˆ©è¯­ã€å¸Œè…Šè¯­</li>
<li>èŠ¬å…°è¯­ã€ç‘å…¸è¯­ã€æŒªå¨è¯­ã€ä¸¹éº¦è¯­</li>
<li>ä»¥åŠæ›´å¤šè¯­è¨€</li>
</ul>
<p>æ¯ç§è¯­è¨€éƒ½æœ‰ä¸“é—¨çš„ï¼š</p>
<ul>
<li>æ–‡æœ¬è§„èŒƒåŒ–è§„åˆ™</li>
<li>è¯­éŸ³æ¨¡å‹</li>
<li>å‘éŸ³å­—å…¸</li>
</ul>
<h3 data-id="heading-22">æ€§èƒ½ä¼˜åŒ–</h3>
<p>Supertonicé€šè¿‡å¤šç§æŠ€æœ¯å®ç°æé€Ÿæ€§èƒ½ï¼š</p>
<h4 data-id="heading-23">æ¨¡å‹ä¼˜åŒ–</h4>
<ul>
<li><strong>æ¨¡å‹å‹ç¼©</strong>ï¼šå‡å°æ¨¡å‹å¤§å°ï¼Œæå‡æ¨ç†é€Ÿåº¦</li>
<li><strong>é‡åŒ–</strong>ï¼šä½¿ç”¨INT8é‡åŒ–ï¼Œåœ¨ä¿æŒè´¨é‡çš„åŒæ—¶æå‡é€Ÿåº¦</li>
<li><strong>ç®—å­èåˆ</strong>ï¼šèåˆå¤šä¸ªç®—å­ï¼Œå‡å°‘è®¡ç®—å¼€é”€</li>
</ul>
<h4 data-id="heading-24">ç¡¬ä»¶åŠ é€Ÿ</h4>
<ul>
<li><strong>GPUåŠ é€Ÿ</strong>ï¼šåˆ©ç”¨GPUå¹¶è¡Œè®¡ç®—èƒ½åŠ›</li>
<li><strong>NPUåŠ é€Ÿ</strong>ï¼šæ”¯æŒNPUç¡¬ä»¶åŠ é€Ÿï¼ˆå¦‚Apple Neural Engineï¼‰</li>
<li><strong>CPUä¼˜åŒ–</strong>ï¼šé’ˆå¯¹CPUçš„SIMDä¼˜åŒ–</li>
</ul>
<h4 data-id="heading-25">æ¨ç†ä¼˜åŒ–</h4>
<ul>
<li><strong>æ‰¹å¤„ç†</strong>ï¼šæ‰¹é‡å¤„ç†å¤šä¸ªè¯·æ±‚</li>
<li><strong>ç¼“å­˜</strong>ï¼šç¼“å­˜å¸¸ç”¨æ–‡æœ¬çš„éŸ³é¢‘ç»“æœ</li>
<li><strong>é¢„åŠ è½½</strong>ï¼šé¢„åŠ è½½æ¨¡å‹åˆ°å†…å­˜</li>
</ul>
<h3 data-id="heading-26">åº”ç”¨æ¡ˆä¾‹</h3>
<p>å¤šä¸ªé¡¹ç›®åŸºäºSupertonicæ„å»ºï¼š</p>
<ol>
<li><strong>TLDRL</strong>ï¼šChromeæ‰©å±•ï¼Œå…è´¹è®¾å¤‡ç«¯TTSï¼Œå¯æœ—è¯»ä»»ä½•ç½‘é¡µ</li>
<li><strong>Read Aloud</strong>ï¼šå¼€æºTTSæµè§ˆå™¨æ‰©å±•ï¼Œæ”¯æŒChromeå’ŒEdge</li>
<li><strong>PageEcho</strong>ï¼šiOSç”µå­ä¹¦é˜…è¯»å™¨åº”ç”¨</li>
<li><strong>VoiceChat</strong>ï¼šæµè§ˆå™¨ä¸­çš„è®¾å¤‡ç«¯è¯­éŸ³åˆ°è¯­éŸ³LLMèŠå¤©æœºå™¨äºº</li>
<li><strong>OmniAvatar</strong>ï¼šä»ç…§ç‰‡å’Œè¯­éŸ³ç”Ÿæˆè¯´è¯å¤´åƒè§†é¢‘</li>
<li><strong>CopiloTTS</strong>ï¼šKotlinå¤šå¹³å°TTS SDK</li>
<li><strong>Voice Mixer</strong>ï¼šPyQt5å·¥å…·ï¼Œç”¨äºæ··åˆå’Œä¿®æ”¹è¯­éŸ³é£æ ¼</li>
<li><strong>Supertonic MNN</strong>ï¼šåŸºäºMNNçš„è½»é‡çº§åº“ï¼ˆfp32/fp16/int8ï¼‰</li>
<li><strong>Transformers.js</strong>ï¼šHugging Faceçš„JSåº“ï¼Œæ”¯æŒSupertonic</li>
<li><strong>Pinokio</strong>ï¼šMacã€Windowsã€Linuxçš„ä¸€é”®æœ¬åœ°äº‘</li>
</ol>
<h3 data-id="heading-27">æŠ€æœ¯è®ºæ–‡</h3>
<p>SupertonicåŸºäºä¸‰ç¯‡æ ¸å¿ƒè®ºæ–‡ï¼š</p>
<ol>
<li>
<p><strong>SupertonicTTS: Main Architecture</strong></p>
<ul>
<li>ä»‹ç»SupertonicTTSçš„æ•´ä½“æ¶æ„</li>
<li>åŒ…æ‹¬è¯­éŸ³è‡ªç¼–ç å™¨ã€åŸºäºFlow Matchingçš„æ–‡æœ¬åˆ°æ½œåœ¨ç©ºé—´æ¨¡å—</li>
<li>é«˜æ•ˆè®¾è®¡é€‰æ‹©</li>
</ul>
</li>
<li>
<p><strong>Length-Aware RoPE: Text-Speech Alignment</strong></p>
<ul>
<li>æå‡ºLength-Aware Rotary Position Embedding (LARoPE)</li>
<li>æ”¹å–„äº¤å‰æ³¨æ„åŠ›æœºåˆ¶ä¸­çš„æ–‡æœ¬-è¯­éŸ³å¯¹é½</li>
</ul>
</li>
<li>
<p><strong>Self-Purifying Flow Matching: Training with Noisy Labels</strong></p>
<ul>
<li>æè¿°è‡ªå‡€åŒ–æŠ€æœ¯</li>
<li>ä½¿ç”¨å™ªå£°æˆ–ä¸å¯é æ ‡ç­¾ç¨³å¥è®­ç»ƒFlow Matchingæ¨¡å‹</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-28">é¡¹ç›®åœ°å€ä¸èµ„æº</h2>
<h3 data-id="heading-29">å®˜æ–¹èµ„æº</h3>
<ul>
<li>ğŸŒŸ <strong>GitHub</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsupertone-inc%2Fsupertonic" target="_blank" title="https://github.com/supertone-inc/supertonic" ref="nofollow noopener noreferrer">github.com/supertone-iâ€¦</a></li>
<li>ğŸŒ <strong>Demo</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2Fspaces%2FSupertone%2Fsupertonic-2" target="_blank" title="https://huggingface.co/spaces/Supertone/supertonic-2" ref="nofollow noopener noreferrer">Hugging Face Spaces</a></li>
</ul>
<h3 data-id="heading-30">é€‚ç”¨äººç¾¤</h3>
<p><strong>Supertonicç‰¹åˆ«é€‚åˆ</strong>ï¼šéœ€è¦è®¾å¤‡ç«¯TTSçš„ç§»åŠ¨åº”ç”¨å¼€å‘è€…ã€éœ€è¦ç¦»çº¿è¯­éŸ³åˆæˆçš„æ¡Œé¢åº”ç”¨å¼€å‘è€…ã€å¯¹éšç§æœ‰è¦æ±‚çš„å¼€å‘è€…ã€éœ€è¦å¤šè¯­è¨€TTSçš„å›½é™…åŒ–åº”ç”¨å¼€å‘è€…ã€å¯¹æ€§èƒ½æœ‰æè‡´è¦æ±‚çš„å¼€å‘è€…ã€éœ€è¦å®æ—¶è¯­éŸ³åˆæˆçš„åº”ç”¨å¼€å‘è€…ã€‚</p>
<p><strong>ä¸é€‚åˆ</strong>ï¼šåªéœ€è¦äº‘ç«¯TTSçš„ç”¨æˆ·ã€ä¸éœ€è¦å¤šè¯­è¨€æ”¯æŒçš„åœºæ™¯ã€å¯¹æ¨¡å‹å¤§å°æœ‰ä¸¥æ ¼é™åˆ¶çš„æç«¯åœºæ™¯ã€‚</p>
<hr/>
<p><em>æ¬¢è¿æ¥æˆ‘ä¸­çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fhome.wonlab.top" target="_blank" title="https://home.wonlab.top" ref="nofollow noopener noreferrer">ä¸ªäººä¸»é¡µ</a>æ‰¾åˆ°æ›´å¤šæœ‰ç”¨çš„çŸ¥è¯†å’Œæœ‰è¶£çš„äº§å“</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å›¢é˜Ÿå®ªæ³•:CLAUDE.md å’Œruleä½¿ç”¨æŠ€å·§ä¸å¤åˆ©æ¨¡å¼]]></title>    <link>https://juejin.cn/post/7602454700503646249</link>    <guid>https://juejin.cn/post/7602454700503646249</guid>    <pubDate>2026-02-03T12:33:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602454700503646249" data-draft-id="7602503154505089065" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å›¢é˜Ÿå®ªæ³•:CLAUDE.md å’Œruleä½¿ç”¨æŠ€å·§ä¸å¤åˆ©æ¨¡å¼"/> <meta itemprop="keywords" content="Claude,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-02-03T12:33:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†¬å¥‡Lab"/> <meta itemprop="url" content="https://juejin.cn/user/1857501105781193"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å›¢é˜Ÿå®ªæ³•:CLAUDE.md å’Œruleä½¿ç”¨æŠ€å·§ä¸å¤åˆ©æ¨¡å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1857501105781193/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†¬å¥‡Lab
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T12:33:46.000Z" title="Tue Feb 03 2026 12:33:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»22åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>ä½ æœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯?</p>
<blockquote>
<p><strong>åœºæ™¯ 1: è§„èŒƒæ‰§è¡Œé "å¼"</strong></p>
<ul>
<li>ä»£ç è¯„å®¡æ—¶:"è¿™ä¸ªå‘½åä¸ç¬¦åˆè§„èŒƒå•Š,æ”¹ä¸€ä¸‹"</li>
<li>æäº¤ä»£ç æ—¶:"æäº¤ä¿¡æ¯æ ¼å¼ä¸å¯¹,é‡æ–°å†™"</li>
<li>å†™å®ŒåŠŸèƒ½å:"æµ‹è¯•å‘¢?å•å…ƒæµ‹è¯•å†™äº†å—?"</li>
<li>æ¯æ¬¡éƒ½è¦æé†’,æ¯æ¬¡éƒ½è¦è¿”å·¥</li>
</ul>
</blockquote>
<blockquote>
<p><strong>åœºæ™¯ 2: AI åŠ©æ‰‹"ä¸å¬è¯"</strong></p>
<ul>
<li>Claude Code ç”Ÿæˆçš„ä»£ç é£æ ¼ä¹±ä¸ƒå…«ç³Ÿ</li>
<li>å‡½æ•°å‘½åæœ‰æ—¶é©¼å³°æœ‰æ—¶ä¸‹åˆ’çº¿</li>
<li>æ³¨é‡Šå†™å¾—åƒå¤©ä¹¦,æˆ–è€…å¹²è„†ä¸å†™</li>
<li>æ¯æ¬¡éƒ½è¦æ‰‹åŠ¨ä¿®æ”¹,æ•ˆç‡å¤§æ‰“æŠ˜æ‰£</li>
</ul>
</blockquote>
<p>ä¼ ç»Ÿå›¢é˜Ÿé "äººç›¯äºº"æ‰§è¡Œè§„èŒƒ,æ•ˆç‡ä½ã€æˆæœ¬é«˜ã€å®¹æ˜“é—æ¼ã€‚è€Œ AI è¾…åŠ©å¼€å‘æ—¶ä»£,å¦‚æœæ²¡æœ‰æ˜ç¡®çš„è§„èŒƒ,AI ç”Ÿæˆçš„ä»£ç è´¨é‡å‚å·®ä¸é½,åè€Œå¢åŠ äº†ç»´æŠ¤è´Ÿæ‹…ã€‚</p>
<p><strong>ç­”æ¡ˆæ˜¯</strong>: <strong>å›¢é˜Ÿå®ªæ³• â€” CLAUDE.md + rules/</strong></p>
<p>å°±åƒå›½å®¶éœ€è¦å®ªæ³•æ¥è§„å®šåŸºæœ¬åŸåˆ™,å›¢é˜Ÿä¹Ÿéœ€è¦ä¸€å¥—"å®ªæ³•"æ¥å®šä¹‰:</p>
<ul>
<li><strong>é¡¹ç›®çš„æŠ€æœ¯æ ˆå’Œå¸¸ç”¨å‘½ä»¤æ˜¯ä»€ä¹ˆ?</strong>ï¼ˆCLAUDE.mdï¼‰</li>
<li><strong>æˆ‘ä»¬çš„ç¼–ç è§„èŒƒå’Œå®‰å…¨åº•çº¿æ˜¯ä»€ä¹ˆ?</strong>ï¼ˆrules/ ç›®å½•ï¼‰</li>
</ul>
<p><strong>å›¢é˜Ÿå®ªæ³•æ˜¯åŒºåˆ«è‰å°ç­å­å’Œæ­£è§„å†›çš„åˆ†æ°´å²­ã€‚</strong></p>
<p>æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å¦‚ä½•é€šè¿‡ CLAUDE.md + rules/ å»ºç«‹å›¢é˜Ÿè§„èŒƒ,å¹¶é€šè¿‡<strong>å¤åˆ©æ¨¡å¼</strong>è®©è¿™ä»½å®ªæ³•ä¸æ–­æ¼”è¿›,è®© Claude Code æˆä¸ºè¶Šæ¥è¶Šèµ„æ·±çš„é˜Ÿå‹ã€‚</p>
<p>é˜…è¯»æœ¬æ–‡å,ä½ å°†å­¦ä¼š:</p>
<ul>
<li>ç†è§£å›¢é˜Ÿå®ªæ³•çš„ç›®å½•ç»“æ„å’Œå„éƒ¨åˆ†çš„èŒè´£</li>
<li>æ­£ç¡®ä½¿ç”¨ CLAUDE.md å­˜æ”¾é¡¹ç›®äº‹å®,ä½¿ç”¨ rules/ å­˜æ”¾åº•çº¿è§„åˆ™</li>
<li>å»ºç«‹å¤åˆ©æ€ç»´:å‘ç°é—®é¢˜ â†’ æ›´æ–°å®ªæ³• â†’ å…¨å‘˜å—ç›Š</li>
<li>æŒæ¡è®© AI ç†è§£å’Œéµå®ˆè§„èŒƒçš„æŠ€å·§</li>
</ul>
<hr/>
<h2 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦"å›¢é˜Ÿå®ªæ³•"?</h2>
<h3 data-id="heading-2">1.1 ä¼ ç»Ÿå›¢é˜Ÿçš„è§„èŒƒé—®é¢˜</h3>
<p>åœ¨æ²¡æœ‰è‡ªåŠ¨åŒ–å·¥å…·ä¹‹å‰,å›¢é˜Ÿè§„èŒƒé ä»€ä¹ˆç»´æŠ¤?</p>
<p><strong>æ–¹å¼ 1: æ–‡æ¡£ + å£å¤´ä¼ æ‰¿</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">æŸå…¬å¸ç¼–ç è§„èŒƒ.docx (ä¸Šæ¬¡æ›´æ–°: 3å¹´å‰)
<span class="hljs-bullet">  -</span> ç¬¬ 3 ç«  å‘½åè§„èŒƒ
<span class="hljs-bullet">  -</span> ç¬¬ 5 ç«  æ³¨é‡Šè§„èŒƒ
<span class="hljs-bullet">  -</span> ç¬¬ 8 ç«  å¼‚å¸¸å¤„ç†
  ...

ç°å®:
<span class="hljs-bullet">  -</span> æ–°äººå…¥èŒä¸çŸ¥é“è¿™ä»½æ–‡æ¡£
<span class="hljs-bullet">  -</span> è€å‘˜å·¥ä¹Ÿä¸è®°å¾—å…·ä½“å†…å®¹
<span class="hljs-bullet">  -</span> è§„èŒƒæ›´æ–°åæ²¡äººé€šçŸ¥
</code></pre>
<p><strong>æ–¹å¼ 2: Code Review äººè‚‰æ£€æŸ¥</strong></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">è¯„å®¡è€…:"è¿™é‡Œåº”è¯¥ç”¨ Optional è€Œä¸æ˜¯ null"</span>
<span class="hljs-section">å¼€å‘è€…:"å“¦,å¥½çš„" (å¿ƒé‡Œæƒ³:åˆæ˜¯è¿™ä¸ªé—®é¢˜,ä¸Šæ¬¡ä¹Ÿæè¿‡)</span>
<span class="hljs-section">è¯„å®¡è€…:"ä¸‹æ¬¡æ³¨æ„" (å¿ƒé‡Œæƒ³:å·²ç»è¯´äº† N éäº†)</span>

<span class="hljs-section">ä¸‹å‘¨:</span>
  åŒæ ·çš„é—®é¢˜å†æ¬¡å‡ºç°...
</code></pre>
<p><strong>æ–¹å¼ 3: Lint å·¥å…· + Git Hooks</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># .eslintrc.js</span>
rules: {
  <span class="hljs-string">'semi'</span>: [<span class="hljs-string">'error'</span>, <span class="hljs-string">'always'</span>],
  <span class="hljs-string">'quotes'</span>: [<span class="hljs-string">'error'</span>, <span class="hljs-string">'single'</span>],
  ...100+ æ¡è§„åˆ™
}

é—®é¢˜:
  - åªèƒ½æ£€æŸ¥è¯­æ³•,ä¸èƒ½æ£€æŸ¥é€»è¾‘
  - é…ç½®å¤æ‚,ç»´æŠ¤å›°éš¾
  - æ— æ³•è¦†ç›–æ¶æ„å±‚é¢çš„è§„èŒƒ
</code></pre>
<p><strong>å…±åŒçš„ç—›ç‚¹</strong>:</p>
<ul>
<li>âŒ è§„èŒƒæ‰§è¡Œ<strong>ä¸ä¸€è‡´</strong> - é äººå·¥æ£€æŸ¥,éš¾å…é—æ¼</li>
<li>âŒ æ–°äººå­¦ä¹ <strong>æˆæœ¬é«˜</strong> - éœ€è¦é˜…è¯»å¤§é‡æ–‡æ¡£</li>
<li>âŒ è§„èŒƒæ›´æ–°<strong>éš¾åŒæ­¥</strong> - æ”¹äº†æ–‡æ¡£,ä»£ç ä¸ä¸€å®šæ”¹</li>
<li>âŒ è¿è§„å‘ç°<strong>å¤ªæ™š</strong> - ä»£ç å†™å®Œæ‰å‘ç°é—®é¢˜</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3efadae671a64ae7be8d193fa00da9a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770726829&amp;x-signature=cakr03AXRFI0Uoqn1b3KkEBDYPk%3D" alt="03-01-CR-problem.png" loading="lazy"/>
åœ¨æˆ‘ä»¬å…¬å¸ï¼Œæˆ‘å·²ç»åœ¨Gerritä¸Šéƒ¨ç½²äº†AI CodeReviewç³»ç»Ÿï¼Œèƒ½æŠ“å‡ºå¾ˆå¤šäººå·¥å†™çš„ä»£ç ä¸æŒ‰ç…§å…¬å¸è§„èŒƒæ¥çš„æƒ…å†µï¼Œå¹¶ä¸”åœ¨AIéƒ½æç¤ºå‡ºæ¥çš„æƒ…å†µä¸‹è¿˜ä¸ä¿®æ”¹ã€‚</p>
<h3 data-id="heading-3">1.2 AI è¾…åŠ©å¼€å‘çš„æ–°æŒ‘æˆ˜</h3>
<p>å¼•å…¥ AI å,é—®é¢˜ä¸ä»…æ²¡æœ‰å‡å°‘,åè€Œå¢åŠ äº†æ–°çš„æŒ‘æˆ˜:</p>
<p><strong>æŒ‘æˆ˜ 1: AI ä¸çŸ¥é“ä½ çš„å›¢é˜Ÿè§„èŒƒ</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä½ å¸Œæœ›çš„ä»£ç é£æ ¼</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getUserById</span>(<span class="hljs-params">id: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">User</span> | <span class="hljs-literal">null</span>&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> db.<span class="hljs-property">users</span>.<span class="hljs-title function_">findOne</span>({ id });
    <span class="hljs-keyword">return</span> user ?? <span class="hljs-literal">null</span>;
  } <span class="hljs-keyword">catch</span> (error) {
    logger.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to get user'</span>, { id, error });
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DatabaseError</span>(<span class="hljs-string">'User query failed'</span>, { <span class="hljs-attr">cause</span>: error });
  }
}

<span class="hljs-comment">// AI é»˜è®¤ç”Ÿæˆçš„ä»£ç (æ²¡æœ‰è§„èŒƒçº¦æŸ)</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getUserById</span>(<span class="hljs-params">id</span>) {
  <span class="hljs-keyword">return</span> db.<span class="hljs-property">users</span>.<span class="hljs-title function_">findOne</span>({ id }).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e)
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
  })
}
</code></pre>
<p><strong>å·®å¼‚</strong>:</p>
<ul>
<li>âŒ ç¼ºå°‘ç±»å‹æ ‡æ³¨</li>
<li>âŒ ä½¿ç”¨ <code>console.log</code> è€Œä¸æ˜¯ logger</li>
<li>âŒ é”™è¯¯å¤„ç†ä¸è§„èŒƒ</li>
<li>âŒ æ²¡æœ‰å¼‚å¸¸æŠ›å‡ºå’Œä¸Šä¸‹æ–‡ä¿¡æ¯</li>
</ul>
<p><strong>æŒ‘æˆ˜ 2: æ¯æ¬¡å¯¹è¯éƒ½è¦é‡å¤è¯´æ˜è§„èŒƒ</strong></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">ä½ : "å¸®æˆ‘å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½"</span>
<span class="hljs-section">AI: [ç”Ÿæˆä»£ç ,ä¸ç¬¦åˆè§„èŒƒ]</span>

<span class="hljs-section">ä½ : "è®°å¾—ä½¿ç”¨ logger è€Œä¸æ˜¯ console.log"</span>
<span class="hljs-section">AI: [ä¿®æ”¹ä»£ç ]</span>

<span class="hljs-section">ä½ : "è¿˜è¦åŠ ä¸Šç±»å‹æ ‡æ³¨"</span>
<span class="hljs-section">AI: [å†æ¬¡ä¿®æ”¹]</span>

<span class="hljs-section">ä½ : "å¼‚å¸¸å¤„ç†è¦æŠ›å‡º CustomError"</span>
<span class="hljs-section">AI: [åˆä¸€æ¬¡ä¿®æ”¹]</span>

æ•ˆç‡å¤§æ‰“æŠ˜æ‰£!
</code></pre>
<p><strong>æŒ‘æˆ˜ 3: AI ç”Ÿæˆçš„ä»£ç é£æ ¼ä¸ä¸€è‡´</strong></p>
<p>ç¬¬ä¸€æ¬¡å¯¹è¯:</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">addUser</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) { ... }  <span class="hljs-comment">// é©¼å³°å‘½å</span>
</code></pre>
<p>ç¬¬äºŒæ¬¡å¯¹è¯:</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">delete_user</span>(<span class="hljs-params">id: <span class="hljs-built_in">string</span></span>) { ... }  <span class="hljs-comment">// ä¸‹åˆ’çº¿å‘½å</span>
</code></pre>
<p>ç¬¬ä¸‰æ¬¡å¯¹è¯:</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">GetUserList</span>(<span class="hljs-params"/>) { ... }  <span class="hljs-comment">// å¤§å†™å¼€å¤´</span>
</code></pre>
<p>åŒä¸€ä¸ªé¡¹ç›®,ä¸‰ç§å‘½åé£æ ¼æ··æ‚,ç»´æŠ¤å™©æ¢¦!</p>
<h3 data-id="heading-4">1.3 claude.md çš„å®šä½ä¸ä»·å€¼</h3>
<p><strong>å›¢é˜Ÿå®ªæ³•æ˜¯ä»€ä¹ˆ?</strong></p>
<p>å›¢é˜Ÿå®ªæ³•æ˜¯ä¸€å¥—å®Œæ•´çš„é…ç½®ä½“ç³»,åŒ…æ‹¬ CLAUDE.mdï¼ˆé¡¹ç›®äº‹å®ï¼‰å’Œ .claude/ ç›®å½•ä¸‹çš„ rules/ è§„åˆ™æ–‡ä»¶,å…±åŒå®šä¹‰äº† AI åœ¨å·¥ä½œæ—¶åº”è¯¥éµå®ˆçš„è§„èŒƒå’Œçº¦æŸã€‚</p>
<p><strong>æ ¸å¿ƒä»·å€¼</strong>:</p>
<ol>
<li><strong>è‡ªåŠ¨åŠ è½½,æ— éœ€é‡å¤</strong> - Claude Code å¯åŠ¨æ—¶è‡ªåŠ¨è¯»å–é…ç½®,æ¯æ¬¡å¯¹è¯éƒ½ç”Ÿæ•ˆ</li>
<li><strong>èŒè´£åˆ†ç¦»,æ˜“äºç»´æŠ¤</strong> - CLAUDE.md å­˜é¡¹ç›®äº‹å®,rules/ å­˜åº•çº¿è§„åˆ™,ç»“æ„æ¸…æ™°</li>
<li><strong>å¯ç‰ˆæœ¬ç®¡ç†</strong> - å’Œä»£ç ä¸€èµ·æäº¤åˆ° Git,å›¢é˜Ÿå…±äº«</li>
<li><strong>å¯æŒç»­æ”¹è¿›</strong> - å‘ç°é—®é¢˜å°±æ›´æ–°,å½¢æˆå¤åˆ©æ•ˆåº”</li>
</ol>
<p><strong>ç±»æ¯”ç†è§£</strong>:</p>
<pre><code class="hljs language-objectivec" lang="objectivec">å›¢é˜Ÿå®ªæ³•å°±åƒå›½å®¶çš„<span class="hljs-string">"å®ªæ³•ä½“ç³»"</span>
  â”œâ”€ <span class="hljs-built_in">CLAUDE</span>.md: é¡¹ç›®äº‹å®(æŠ€æœ¯æ ˆã€å¸¸ç”¨å‘½ä»¤ã€çº¦æŸ)
  â”œâ”€ rules/: åº•çº¿è§„åˆ™(ç¼–ç è§„èŒƒã€æµ‹è¯•è¦æ±‚ã€å®‰å…¨è§„èŒƒ)
  â””â”€ å¯ä»¥ä¿®æ­£å’Œå®Œå–„(å®ªæ³•ä¿®æ­£æ¡ˆ)
</code></pre>
<p><strong>å¯¹æ¯”ä¼ ç»Ÿæ–¹å¼</strong>:</p>















































<table><thead><tr><th align="left">ç»´åº¦</th><th align="left">ä¼ ç»Ÿè§„èŒƒæ–‡æ¡£</th><th align="left">Lint å·¥å…·</th><th align="left">claude.md</th></tr></thead><tbody><tr><td align="left"><strong>è‡ªåŠ¨æ‰§è¡Œ</strong></td><td align="left">âŒ é äººå·¥</td><td align="left">âœ… è‡ªåŠ¨æ£€æŸ¥</td><td align="left">âœ… AI è‡ªåŠ¨éµå®ˆ</td></tr><tr><td align="left"><strong>è¦†ç›–èŒƒå›´</strong></td><td align="left">âœ… å…¨é¢</td><td align="left">âš ï¸ ä»…è¯­æ³•å±‚é¢</td><td align="left">âœ… å…¨é¢(è¯­æ³•+é€»è¾‘+æ¶æ„)</td></tr><tr><td align="left"><strong>å­¦ä¹ æˆæœ¬</strong></td><td align="left">âŒ éœ€è¦é˜…è¯»å¤§é‡æ–‡æ¡£</td><td align="left">âš ï¸ éœ€è¦ç†è§£è§„åˆ™</td><td align="left">âœ… AI ç›´æ¥ç†è§£å¹¶åº”ç”¨</td></tr><tr><td align="left"><strong>å®æ—¶ç”Ÿæ•ˆ</strong></td><td align="left">âŒ å†™å®Œä»£ç æ‰å‘ç°</td><td align="left">âš ï¸ æäº¤æ—¶æ£€æŸ¥</td><td align="left">âœ… ç”Ÿæˆæ—¶å°±ç¬¦åˆè§„èŒƒ</td></tr><tr><td align="left"><strong>ç‰ˆæœ¬ç®¡ç†</strong></td><td align="left">âš ï¸ æ–‡æ¡£ç‹¬ç«‹ç®¡ç†</td><td align="left">âœ… é…ç½®æ–‡ä»¶ç®¡ç†</td><td align="left">âœ… å’Œä»£ç ä¸€èµ·ç®¡ç†</td></tr><tr><td align="left"><strong>å¯æ¼”è¿›æ€§</strong></td><td align="left">âŒ æ›´æ–°å›°éš¾</td><td align="left">âš ï¸ éœ€è¦æ”¹é…ç½®</td><td align="left">âœ… éšæ—¶æ›´æ–°,ç«‹å³ç”Ÿæ•ˆ</td></tr></tbody></table>
<blockquote>
<p>"claude.md ä¸æ˜¯çº¦æŸ AI çš„æ·é”,è€Œæ˜¯è®© AI æˆä¸ºèµ„æ·±é˜Ÿå‹çš„è®­ç»ƒæ‰‹å†Œ"</p>
</blockquote>
<hr/>
<h2 data-id="heading-5">äºŒã€claude.md æ–‡ä»¶è¯¦è§£</h2>
<h3 data-id="heading-6">2.1 é…ç½®å±‚çº§ä¸å·¥ä½œåŸç†</h3>
<p>Claude Code æ”¯æŒ<strong>ä¸¤çº§é…ç½®</strong>,ä¼˜å…ˆçº§è§„åˆ™: <strong>é¡¹ç›®é…ç½® &gt; å…¨å±€é…ç½® &gt; Claude é»˜è®¤è¡Œä¸º</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-number">1.</span> é¡¹ç›®çº§é…ç½®(ä¼˜å…ˆçº§æœ€é«˜)
   è·¯å¾„: &lt;é¡¹ç›®æ ¹ç›®å½•&gt;/<span class="hljs-variable constant_">CLAUDE</span>.<span class="hljs-property">md</span>
   ä½œç”¨åŸŸ: å½“å‰é¡¹ç›®

<span class="hljs-number">2.</span> å…¨å±€é…ç½®(é»˜è®¤é…ç½®)
   è·¯å¾„: ~<span class="hljs-regexp">/.claude/</span><span class="hljs-variable constant_">CLAUDE</span>.<span class="hljs-property">md</span>
   ä½œç”¨åŸŸ: æ‰€æœ‰é¡¹ç›®
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9474fc977550496daae032eb7a25da45~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770726829&amp;x-signature=rfhIcgMFaM6gMAqUqbl90A8zUQ8%3D" alt="03-02-config-hierarchy.png" loading="lazy"/></p>
<p><em>å›¾2: claude.md é…ç½®å±‚çº§ä¸åŠ è½½æœºåˆ¶,é¡¹ç›®é…ç½®ä¼˜å…ˆçº§é«˜äºå…¨å±€é…ç½®</em></p>
<p><strong>å·¥ä½œåŸç†</strong>: claude.md çš„å†…å®¹ä¼šè¢«æ’å…¥åˆ°æ¯æ¬¡ API è°ƒç”¨çš„ç³»ç»Ÿæç¤ºè¯ä¸­,ä½œä¸ºå›¢é˜Ÿå®ªæ³•è®© AI è‡ªåŠ¨éµå®ˆã€‚é¡¹ç›®é…ç½®ä¼šè¦†ç›–å…¨å±€é…ç½®ä¸­çš„åŒåè§„åˆ™,æœªè¦†ç›–çš„è§„åˆ™ä¼šç»§æ‰¿ã€‚</p>
<p><strong>ç¤ºä¾‹</strong>:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># å…¨å±€é…ç½®: ä½¿ç”¨åŒå¼•å·ã€æœ«å°¾åˆ†å·ã€2ç©ºæ ¼ç¼©è¿›</span>
<span class="hljs-section"># é¡¹ç›®é…ç½®: ä½¿ç”¨å•å¼•å·(è¦†ç›–)ã€4ç©ºæ ¼ç¼©è¿›(è¦†ç›–)</span>

<span class="hljs-section"># æœ€ç»ˆç”Ÿæ•ˆ: å•å¼•å·ã€æœ«å°¾åˆ†å·(ç»§æ‰¿)ã€4ç©ºæ ¼ç¼©è¿›</span>
</code></pre>
<h3 data-id="heading-7">2.2 å›¢é˜Ÿå®ªæ³•çš„ç›®å½•ç»“æ„</h3>
<p>æ ¹æ® Claude ä¸­æ–‡ç¤¾åŒºçš„å®˜æ–¹å®è·µï¼Œå›¢é˜Ÿå®ªæ³•åº”è¯¥é‡‡ç”¨ä»¥ä¸‹ç›®å½•ç»“æ„ï¼ˆå»ºè®®æ”¾è¿›ä»“åº“ï¼Œå›¢é˜Ÿå…±äº«ï¼‰ï¼š</p>
<pre><code class="hljs language-text" lang="text">your-repo/
â”œâ”€ CLAUDE.md              # é¡¹ç›®äº‹å®ï¼ˆæŠ€æœ¯æ ˆã€å¸¸ç”¨å‘½ä»¤ã€çº¦æŸï¼‰
â””â”€ .claude/
   â””â”€ rules/              # åº•çº¿è§„åˆ™ï¼ˆæ‹†æˆå°æ–‡ä»¶ï¼‰
      â”œâ”€ security.md      # å®‰å…¨åº•çº¿
      â”œâ”€ testing.md        # æµ‹è¯•åº•çº¿
      â””â”€ coding-style.md  # ä»£ç é£æ ¼åº•çº¿
</code></pre>
<p><strong>CLAUDE.md çš„å®šä½ï¼šå­˜æ”¾"é¡¹ç›®äº‹å®"</strong></p>
<p>CLAUDE.md çš„é‡ç‚¹æ˜¯å†™<strong>å¯æ‰§è¡Œã€å¯éªŒè¯çš„ä¿¡æ¯</strong>ï¼Œè€Œä¸æ˜¯è¯¦ç»†çš„è§„åˆ™ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># é¡¹ç›®æ¦‚è¿°</span>
<span class="hljs-bullet">-</span> æŠ€æœ¯æ ˆï¼šTypeScript + React 18+ + Next.js 14
<span class="hljs-bullet">-</span> ç›®å½•ç»“æ„å…¥å£ï¼šsrc/ ä¸ºæºä»£ç ç›®å½•

<span class="hljs-section">## å¸¸ç”¨å‘½ä»¤ï¼ˆå¿…é¡»å‡†ç¡®ï¼‰</span>
<span class="hljs-bullet">-</span> å®‰è£…ä¾èµ–ï¼š<span class="hljs-code">`pnpm install`</span>
<span class="hljs-bullet">-</span> è¿è¡Œæµ‹è¯•ï¼š<span class="hljs-code">`pnpm test`</span>
<span class="hljs-bullet">-</span> æ„å»ºï¼š<span class="hljs-code">`pnpm build`</span>
<span class="hljs-bullet">-</span> ä»£ç æ ¼å¼åŒ–ï¼š<span class="hljs-code">`pnpm format`</span>
<span class="hljs-bullet">-</span> é™æ€æ£€æŸ¥ï¼š<span class="hljs-code">`pnpm lint`</span>

<span class="hljs-section">## çº¦æŸï¼ˆå›¢é˜Ÿå…±è¯†ï¼‰</span>
<span class="hljs-bullet">-</span> é»˜è®¤å…ˆç”¨ Plan Mode åˆ†æï¼Œå†åŠ¨ä»£ç 
<span class="hljs-bullet">-</span> ä»»ä½•ä¼šå½±å“è¡Œä¸ºçš„æ”¹åŠ¨ï¼šå¿…é¡»è¡¥æµ‹è¯•/è¡¥æ–‡æ¡£
<span class="hljs-bullet">-</span> æ¶‰åŠå‡­è¯/æƒé™ï¼šå…ˆå®‰å…¨å®¡æŸ¥ï¼Œå†åˆå¹¶
</code></pre>
<p><strong>rules/ ç›®å½•ï¼šå­˜æ”¾"åº•çº¿"è§„åˆ™</strong></p>
<p>è§„åˆ™åº”è¯¥æ‹†æˆå¯ç»„åˆã€å¯å®¡æŸ¥çš„å°æ–‡ä»¶ï¼š</p>
<ul>
<li><code>rules/security.md</code>ï¼šå¯†é’¥ä¸è¾“å…¥æ ¡éªŒåº•çº¿ï¼ˆç¦ç¡¬ç¼–ç ã€è¾¹ç•Œæ ¡éªŒã€æœ€å°æƒé™ï¼‰</li>
<li><code>rules/testing.md</code>ï¼šæµ‹è¯•åº•çº¿ï¼ˆTDD æµç¨‹ã€è¦†ç›–ç‡é—¨æ§›ã€å…³é”®è·¯å¾„å¿…é¡» E2Eï¼‰</li>
<li><code>rules/coding-style.md</code>ï¼šä»£ç ç»„ç»‡åº•çº¿ï¼ˆæ–‡ä»¶å¤§å°ã€å‡½æ•°é•¿åº¦ã€é”™è¯¯å¤„ç†ç­‰ï¼‰</li>
</ul>
<p>è¿™äº›è§„åˆ™ä¸è¦"æŠ„ä¸€å¤§æ®µ"ï¼Œè€Œæ˜¯å†™æˆ<strong>å›¢é˜ŸçœŸçš„ä¼šæ‰§è¡Œ</strong>çš„æ¸…å•ã€‚</p>
<p><strong>èŒè´£åˆ†ç¦»åŸåˆ™</strong>ï¼š</p>
<ul>
<li><strong>CLAUDE.md</strong>ï¼šåªå†™é¡¹ç›®äº‹å®ï¼Œä¸å†™è¯¦ç»†è§„åˆ™</li>
<li><strong>rules/</strong>ï¼šåªå†™è§„åˆ™çº¦æŸï¼Œä¸å†™é¡¹ç›®äº‹å®</li>
<li>ä¸¤è€…é…åˆï¼Œå½¢æˆå®Œæ•´çš„å›¢é˜Ÿå®ªæ³•</li>
</ul>
<h3 data-id="heading-8">2.3 ä¸Šä¸‹æ–‡ä¼˜å…ˆçº§</h3>
<p>CLAUDE.md å’Œ rules/ ç›®å½•ä¸­çš„é…ç½®ä¼˜å…ˆçº§é«˜äºå¯¹è¯å†å²,ç¡®ä¿è§„èŒƒå§‹ç»ˆç”Ÿæ•ˆ:</p>
<pre><code class="hljs language-ini" lang="ini">ä¼˜å…ˆçº§æ’åº:
1. CLAUDE.md å’Œ rules/ ä¸­çš„è§„èŒƒ  <span class="hljs-section">[æœ€é«˜ä¼˜å…ˆçº§]</span>
2. ç”¨æˆ·å½“å‰è¾“å…¥çš„æŒ‡ä»¤            <span class="hljs-section">[é«˜ä¼˜å…ˆçº§]</span>
3. å¯¹è¯å†å²ä¸­çš„ä¸Šä¸‹æ–‡            <span class="hljs-section">[ä¸­ä¼˜å…ˆçº§]</span>
4. Claude çš„é»˜è®¤è¡Œä¸º             <span class="hljs-section">[ä½ä¼˜å…ˆçº§]</span>
</code></pre>
<p><strong>å®é™…æ•ˆæœ</strong>: å³ä½¿ä¹‹å‰å¯¹è¯ä¸­ä½¿ç”¨äº†ä¸ç¬¦åˆè§„èŒƒçš„ä»£ç ,CLAUDE.md å’Œ rules/ ä¸­çš„è§„èŒƒä»ä¼šåœ¨æ–°ä»£ç ç”Ÿæˆæ—¶ç”Ÿæ•ˆã€‚ç”¨æˆ·å¯ä»¥åœ¨å•æ¬¡å¯¹è¯ä¸­ä¸´æ—¶è¦†ç›–è§„èŒƒ,ä½†ä¸‹æ¬¡å¯¹è¯ä¼šè‡ªåŠ¨æ¢å¤ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1064288d1b1410a8df35a170d359e34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770726829&amp;x-signature=T9ynkkREShW8ZSEJ1AkMEFEUyNM%3D" alt="03-03-claude-md-mechanism.png" loading="lazy"/></p>
<p><em>å›¾3: claude.md å·¥ä½œåŸç†,å±•ç¤ºå¦‚ä½•è¢«è§£æå¹¶æ’å…¥åˆ° API è°ƒç”¨çš„ç³»ç»Ÿæç¤ºè¯ä¸­</em></p>
<hr/>
<h2 data-id="heading-9">ä¸‰ã€å›¢é˜Ÿå®ªæ³•çš„å†…å®¹è®¾è®¡</h2>
<h3 data-id="heading-10">3.1 CLAUDE.mdï¼šé¡¹ç›®äº‹å®</h3>
<p>CLAUDE.md çš„å®šä½æ˜¯"é¡¹ç›®è®°å¿†"ï¼Œé‡ç‚¹å†™å¯æ‰§è¡Œã€å¯éªŒè¯çš„ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># é¡¹ç›®æ¦‚è¿°</span>
<span class="hljs-bullet">-</span> æŠ€æœ¯æ ˆï¼šTypeScript + React 18+ + Next.js 14
<span class="hljs-bullet">-</span> ç›®å½•ç»“æ„å…¥å£ï¼šsrc/ ä¸ºæºä»£ç ç›®å½•ï¼Œpackages/ ä¸ºå…±äº«åŒ…

<span class="hljs-section">## å¸¸ç”¨å‘½ä»¤ï¼ˆå¿…é¡»å‡†ç¡®ï¼‰</span>
<span class="hljs-bullet">-</span> å®‰è£…ä¾èµ–ï¼š<span class="hljs-code">`pnpm install`</span>
<span class="hljs-bullet">-</span> è¿è¡Œå¼€å‘æœåŠ¡å™¨ï¼š<span class="hljs-code">`pnpm dev`</span>
<span class="hljs-bullet">-</span> è¿è¡Œæµ‹è¯•ï¼š<span class="hljs-code">`pnpm test`</span>
<span class="hljs-bullet">-</span> æ„å»ºï¼š<span class="hljs-code">`pnpm build`</span>
<span class="hljs-bullet">-</span> ä»£ç æ ¼å¼åŒ–ï¼š<span class="hljs-code">`pnpm format`</span>
<span class="hljs-bullet">-</span> é™æ€æ£€æŸ¥ï¼š<span class="hljs-code">`pnpm lint`</span>

<span class="hljs-section">## çº¦æŸï¼ˆå›¢é˜Ÿå…±è¯†ï¼‰</span>
<span class="hljs-bullet">-</span> é»˜è®¤å…ˆç”¨ Plan Mode åˆ†æï¼Œå†åŠ¨ä»£ç 
<span class="hljs-bullet">-</span> ä»»ä½•ä¼šå½±å“è¡Œä¸ºçš„æ”¹åŠ¨ï¼šå¿…é¡»è¡¥æµ‹è¯•/è¡¥æ–‡æ¡£
<span class="hljs-bullet">-</span> æ¶‰åŠå‡­è¯/æƒé™ï¼šå…ˆå®‰å…¨å®¡æŸ¥ï¼Œå†åˆå¹¶
<span class="hljs-bullet">-</span> æäº¤å‰å¿…é¡»é€šè¿‡ lint å’Œæµ‹è¯•
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>âœ… å†™å…·ä½“çš„æŠ€æœ¯æ ˆå’Œç‰ˆæœ¬å·</li>
<li>âœ… å†™å‡†ç¡®çš„å‘½ä»¤ï¼ˆAI ä¼šç›´æ¥æ‰§è¡Œï¼‰</li>
<li>âœ… å†™å›¢é˜Ÿå…±è¯†çš„çº¦æŸï¼ˆä¸æ˜¯è¯¦ç»†è§„åˆ™ï¼‰</li>
<li>âŒ ä¸è¦å†™è¯¦ç»†çš„ç¼–ç è§„èŒƒï¼ˆåº”è¯¥æ”¾åœ¨ rules/ ç›®å½•ï¼‰</li>
</ul>
<h3 data-id="heading-11">3.2 rules/ ç›®å½•ï¼šåº•çº¿è§„åˆ™</h3>
<p>è§„åˆ™åº”è¯¥æ‹†æˆå¯ç»„åˆã€å¯å®¡æŸ¥çš„å°æ–‡ä»¶ã€‚ä»¥ä¸‹æ˜¯ä¸‰ä¸ªæ ¸å¿ƒè§„åˆ™æ–‡ä»¶çš„ç¤ºä¾‹ï¼š</p>
<p><strong>rules/coding-style.md</strong>ï¼šä»£ç ç»„ç»‡åº•çº¿</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># ä»£ç é£æ ¼è§„èŒƒ</span>

<span class="hljs-section">## TypeScript é£æ ¼</span>
<span class="hljs-bullet">-</span> ä¸¥æ ¼æ¨¡å¼: å¯ç”¨ <span class="hljs-code">`strict: true`</span>
<span class="hljs-bullet">-</span> ç±»å‹æ ‡æ³¨: æ‰€æœ‰å‡½æ•°å‚æ•°å’Œè¿”å›å€¼å¿…é¡»æ ‡æ³¨ç±»å‹
<span class="hljs-bullet">-</span> ç±»å‹æ–­è¨€: é¿å…ä½¿ç”¨ <span class="hljs-code">`any`</span>,ä¼˜å…ˆä½¿ç”¨ <span class="hljs-code">`unknown`</span>

<span class="hljs-section">## ä»£ç æ ¼å¼</span>
<span class="hljs-bullet">-</span> ç¼©è¿›: 2 ç©ºæ ¼
<span class="hljs-bullet">-</span> å¼•å·: å•å¼•å·(å­—ç¬¦ä¸²),åŒå¼•å·(JSX å±æ€§)
<span class="hljs-bullet">-</span> åˆ†å·: å¿…é¡»ä½¿ç”¨
<span class="hljs-bullet">-</span> è¡Œå®½: æœ€å¤§ 100 å­—ç¬¦

<span class="hljs-section">## å‘½åçº¦å®š</span>
<span class="hljs-bullet">-</span> ç»„ä»¶: PascalCase (UserProfile.tsx)
<span class="hljs-bullet">-</span> å‡½æ•°: camelCase (getUserData)
<span class="hljs-bullet">-</span> å¸¸é‡: UPPER<span class="hljs-emphasis">_SNAKE_</span>CASE (API<span class="hljs-emphasis">_BASE_</span>URL)
<span class="hljs-bullet">-</span> å¸ƒå°”å€¼: is/has/can å¼€å¤´ (isLoading, hasPermission)

<span class="hljs-section">## æ³¨é‡Šè¦æ±‚</span>
<span class="hljs-bullet">-</span> âœ… å¿…é¡»: å¤æ‚é€»è¾‘ã€ç®—æ³•å®ç°ã€ä¸šåŠ¡è§„åˆ™
<span class="hljs-bullet">-</span> âœ… æ¨è: å…¬å…± APIã€å·¥å…·å‡½æ•°
<span class="hljs-bullet">-</span> æ‰€æœ‰å¯¼å‡ºçš„å‡½æ•°/ç±»å¿…é¡»æ·»åŠ  JSDoc
</code></pre>
<p><strong>rules/testing.md</strong>ï¼šæµ‹è¯•åº•çº¿</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># æµ‹è¯•è§„èŒƒ</span>

<span class="hljs-section">## å•å…ƒæµ‹è¯•</span>
<span class="hljs-bullet">-</span> è¦†ç›–ç‡: &gt; 80%
<span class="hljs-bullet">-</span> æ¡†æ¶: Jest + Testing Library
<span class="hljs-bullet">-</span> æ¯ä¸ªå…¬å…±å‡½æ•°å¿…é¡»æœ‰æµ‹è¯•
<span class="hljs-bullet">-</span> æµ‹è¯•ç”¨ä¾‹å‘½å: <span class="hljs-code">`should ... when ...`</span>

<span class="hljs-section">## é›†æˆæµ‹è¯•</span>
<span class="hljs-bullet">-</span> å·¥å…·: Cypress / Playwright
<span class="hljs-bullet">-</span> è¦†ç›–: å…³é”®ç”¨æˆ·æµç¨‹
<span class="hljs-bullet">-</span> è¿è¡Œæ—¶æœº: PR åˆå¹¶å‰

<span class="hljs-section">## TDD æµç¨‹</span>
<span class="hljs-bullet">-</span> RED: å…ˆå†™å¤±è´¥çš„æµ‹è¯•
<span class="hljs-bullet">-</span> GREEN: å®ç°æœ€å°ä»£ç è®©æµ‹è¯•é€šè¿‡
<span class="hljs-bullet">-</span> REFACTOR: é‡æ„ä¼˜åŒ–ä»£ç 
</code></pre>
<p><strong>rules/security.md</strong>ï¼šå®‰å…¨åº•çº¿</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># å®‰å…¨è§„èŒƒ</span>

<span class="hljs-section">## æ•æ„Ÿä¿¡æ¯å¤„ç†</span>
<span class="hljs-bullet">-</span> âŒ ç¦æ­¢: å°†å¯†é’¥/å¯†ç ç¡¬ç¼–ç åˆ°ä»£ç ä¸­
<span class="hljs-bullet">-</span> âœ… ä½¿ç”¨: ç¯å¢ƒå˜é‡ + .env æ–‡ä»¶

<span class="hljs-section">## è¾“å…¥éªŒè¯</span>
<span class="hljs-bullet">-</span> æ‰€æœ‰ç”¨æˆ·è¾“å…¥å¿…é¡»éªŒè¯å’Œå‡€åŒ–
<span class="hljs-bullet">-</span> ä½¿ç”¨ Zod / Yup è¿›è¡Œ schema éªŒè¯

<span class="hljs-section">## XSS é˜²æŠ¤</span>
<span class="hljs-bullet">-</span> ä½¿ç”¨ React çš„è‡ªåŠ¨è½¬ä¹‰
<span class="hljs-bullet">-</span> é¿å… <span class="hljs-code">`dangerouslySetInnerHTML`</span>
</code></pre>
<hr/>
<h2 data-id="heading-12">å››ã€å¤åˆ©æ¨¡å¼:æŒç»­ä¼˜åŒ–çš„å›¢é˜Ÿå®ªæ³•</h2>
<h3 data-id="heading-13">4.1 ä»€ä¹ˆæ˜¯å¤åˆ©æ¨¡å¼?</h3>
<p><strong>ä¼ ç»Ÿæ¨¡å¼</strong>:å†™ä¸€æ¬¡è§„èŒƒ,é•¿æœŸä¸æ›´æ–°,æœ€ç»ˆè¿‡æ—¶æ— ç”¨ã€‚</p>
<p><strong>å¤åˆ©æ¨¡å¼</strong>:å‘ç°é—®é¢˜ â†’ æ›´æ–°å®ªæ³• â†’ å…¨å‘˜å—ç›Š â†’ æŒç»­æ”¹è¿›ã€‚</p>
<p><strong>ç±»æ¯”</strong>:</p>
<pre><code class="hljs language-makefile" lang="makefile">å¤åˆ©æ¨¡å¼å°±åƒæŠ•èµ„ç†è´¢
  - åˆå§‹æŠ•å…¥: ç¼–å†™åŸºç¡€å®ªæ³•
  - æŒç»­æŠ•å…¥: æ¯æ¬¡é‡åˆ°é—®é¢˜å°±æ›´æ–°
  - å¤åˆ©æ”¶ç›Š: å›¢é˜Ÿæ•´ä½“èƒ½åŠ›æå‡,é—®é¢˜é€æ¸å‡å°‘

<span class="hljs-section">ç¬¬1å‘¨: å‘ç° 10 ä¸ªè§„èŒƒé—®é¢˜</span>
<span class="hljs-section">ç¬¬2å‘¨: å‘ç° 7 ä¸ªé—®é¢˜(ä¹‹å‰çš„ 3 ä¸ªä¸å†å‡ºç°)</span>
<span class="hljs-section">ç¬¬3å‘¨: å‘ç° 5 ä¸ªé—®é¢˜</span>
...
<span class="hljs-section">ç¬¬Nå‘¨: å‘ç° 0-1 ä¸ªé—®é¢˜(è§„èŒƒå·²ç»å¾ˆå®Œå–„)</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d3c9f67e9b54467b0bc2556b72ea92b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770726829&amp;x-signature=Mn4egti7cGFr7Z2ByB2%2BOkhip9k%3D" alt="03-04-compound-mode.png" loading="lazy"/></p>
<p><em>å›¾4: å¤åˆ©æ¨¡å¼çš„å¾ªç¯æµç¨‹,å±•ç¤ºæŒç»­ä¼˜åŒ–å¦‚ä½•å¸¦æ¥å¤åˆ©æ”¶ç›Š</em></p>
<h3 data-id="heading-14">4.2 å¤åˆ©æ¨¡å¼çš„å·¥ä½œæµç¨‹</h3>
<p><strong>æ­¥éª¤ 1: å‘ç°é—®é¢˜</strong></p>
<p>åœ¨ Code Reviewã€Bug ä¿®å¤ã€æ€§èƒ½ä¼˜åŒ–ç­‰åœºæ™¯ä¸­å‘ç°è§„èŒƒç¼ºå¤±æˆ–ä¸æ˜ç¡®çš„åœ°æ–¹ã€‚</p>
<p><strong>ç¤ºä¾‹åœºæ™¯</strong>:</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Code Review å‘ç°çš„é—®é¢˜</span>
<span class="hljs-comment">// å¼€å‘è€… A çš„ä»£ç :</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processData</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">return</span> data.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
    <span class="hljs-comment">// å¤æ‚çš„ä¸šåŠ¡é€»è¾‘,æ²¡æœ‰æ³¨é‡Š</span>
    <span class="hljs-keyword">return</span> item.<span class="hljs-property">value</span> * <span class="hljs-number">1.1</span> + (item.<span class="hljs-property">bonus</span> ?? <span class="hljs-number">0</span>) - item.<span class="hljs-property">discount</span>;
  });
}

<span class="hljs-comment">// è¯„å®¡è€…: "è¿™ä¸ªè®¡ç®—é€»è¾‘æ˜¯ä»€ä¹ˆæ„æ€?ä¸ºä»€ä¹ˆä¹˜ 1.1?"</span>
<span class="hljs-comment">// å¼€å‘è€…: "å“¦,è¿™æ˜¯åŠ ä¸Š 10% çš„ç¨è´¹"</span>
<span class="hljs-comment">// è¯„å®¡è€…: "è¿™ç§ä¸šåŠ¡é€»è¾‘åº”è¯¥åŠ æ³¨é‡Šå•Š"</span>
</code></pre>
<p><strong>æ­¥éª¤ 2: åˆ†ææ ¹å› </strong></p>
<p>æ€è€ƒ:ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ä¸ªé—®é¢˜?æ˜¯è§„èŒƒç¼ºå¤±è¿˜æ˜¯è§„èŒƒä¸å¤Ÿæ˜ç¡®?</p>
<pre><code class="hljs language-markdown" lang="markdown">æ ¹å› åˆ†æ:
<span class="hljs-bullet">  -</span> rules/ ç›®å½•ä¸­æ²¡æœ‰è§„å®š"å¤æ‚ä¸šåŠ¡é€»è¾‘å¿…é¡»æ·»åŠ æ³¨é‡Š"
<span class="hljs-bullet">  -</span> å¼€å‘è€…å’Œ AI éƒ½ä¸çŸ¥é“è¿™ä¸ªè§„èŒƒ
<span class="hljs-bullet">  -</span> å¯¼è‡´æ¯æ¬¡éƒ½è¦åœ¨ Code Review ä¸­æé†’
</code></pre>
<p><strong>æ­¥éª¤ 3: æ›´æ–°å®ªæ³•</strong></p>
<p>åœ¨ rules/ ç›®å½•ä¸‹çš„ç›¸åº”è§„åˆ™æ–‡ä»¶ä¸­æ·»åŠ æˆ–ä¿®æ”¹è§„èŒƒ,æ˜ç¡®è¦æ±‚ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># rules/coding-style.md</span>

<span class="hljs-section">## æ³¨é‡Šè¦æ±‚</span>

<span class="hljs-section">### ä¸šåŠ¡é€»è¾‘æ³¨é‡Š</span>
<span class="hljs-bullet">-</span> âœ… å¿…é¡»: æ‰€æœ‰åŒ…å«æ•°å­—å¸¸é‡çš„è®¡ç®—é€»è¾‘å¿…é¡»æ³¨é‡Šè¯´æ˜å«ä¹‰
<span class="hljs-bullet">-</span> âœ… å¿…é¡»: å¤æ‚çš„ä¸šåŠ¡è§„åˆ™å¿…é¡»æ³¨é‡Šè¯´æ˜åŸå› 

<span class="hljs-section">### ç¤ºä¾‹:</span>
\<span class="hljs-code">`\`</span>\`typescript
// âœ… æ­£ç¡®
function calculateTotalPrice(item: Item): number {
  // åŸºç¡€ä»·æ ¼ + 10% å¢å€¼ç¨
  const priceWithTax = item.value * 1.1;

  // åŠ ä¸Šå¥–åŠ±ç§¯åˆ†(å¦‚æœ‰),å‡å»æŠ˜æ‰£
  return priceWithTax + (item.bonus ?? 0) - item.discount;
}

// âŒ é”™è¯¯: ç¼ºå°‘æ³¨é‡Š
function calculateTotalPrice(item: Item): number {
  return item.value * 1.1 + (item.bonus ?? 0) - item.discount;
}
\<span class="hljs-code">`\`</span>\`
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼šè§„åˆ™åº”è¯¥æ”¾åœ¨ rules/ ç›®å½•ä¸‹ï¼Œè€Œä¸æ˜¯ CLAUDE.md ä¸­ã€‚CLAUDE.md åªå­˜æ”¾é¡¹ç›®äº‹å®ã€‚</p>
<p><strong>æ­¥éª¤ 4: æäº¤ä¸åŒæ­¥</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ›´æ–°è§„åˆ™æ–‡ä»¶</span>
git add .claude/rules/coding-style.md
git commit -m <span class="hljs-string">"docs(claude): add business logic comment requirement"</span>

<span class="hljs-comment"># 2. æ¨é€åˆ°è¿œç¨‹ä»“åº“</span>
git push origin main

<span class="hljs-comment"># 3. å›¢é˜Ÿæˆå‘˜æ‹‰å–æœ€æ–°ä»£ç </span>
<span class="hljs-comment"># ä¸‹æ¬¡ä½¿ç”¨ Claude Code æ—¶è‡ªåŠ¨ç”Ÿæ•ˆ</span>
</code></pre>
<p><strong>æ­¥éª¤ 5: å…¨å‘˜å—ç›Š</strong></p>
<p>æ‰€æœ‰å›¢é˜Ÿæˆå‘˜(åŒ…æ‹¬ AI)éƒ½è‡ªåŠ¨éµå®ˆæ–°è§„èŒƒ,ç±»ä¼¼é—®é¢˜ä¸å†å‡ºç°ã€‚</p>
<pre><code class="hljs language-less" lang="less">æ•ˆæœ:
  <span class="hljs-selector-tag">-</span> å¼€å‘è€… <span class="hljs-selector-tag">A</span>: ä¸‹æ¬¡å†™ä»£ç æ—¶,<span class="hljs-selector-tag">Claude</span> <span class="hljs-selector-tag">Code</span> è‡ªåŠ¨æ·»åŠ æ³¨é‡Š
  <span class="hljs-selector-tag">-</span> å¼€å‘è€… <span class="hljs-selector-tag">B</span>: ç¬¬ä¸€æ¬¡æ¥è§¦è¿™ä¸ªè§„èŒƒ,<span class="hljs-selector-tag">AI</span> ç”Ÿæˆçš„ä»£ç å·²ç»ç¬¦åˆ
  <span class="hljs-selector-tag">-</span> å¼€å‘è€… <span class="hljs-selector-tag">C</span>: ç»´æŠ¤è€ä»£ç æ—¶,<span class="hljs-selector-tag">AI</span> é‡æ„æ—¶è‡ªåŠ¨åŠ ä¸Šæ³¨é‡Š

ç»“æœ: å›¢é˜Ÿæ•´ä½“ä»£ç è´¨é‡æå‡,<span class="hljs-selector-tag">Code</span> <span class="hljs-selector-tag">Review</span> æ•ˆç‡æé«˜
</code></pre>
<h3 data-id="heading-15">4.3 çœŸå®æ¡ˆä¾‹:ä»ä»£ç ç¼ºé™·åˆ°å®ªæ³•æ¡æ¬¾</h3>
<p><strong>èƒŒæ™¯</strong>:</p>
<p>æŸ Android é¡¹ç›®åœ¨ç”Ÿäº§ç¯å¢ƒå‡ºç°å†…å­˜æ³„æ¼,æ’æŸ¥åå‘ç°æ˜¯å› ä¸º Activity ä¸­çš„åŒ¿åå†…éƒ¨ç±»æŒæœ‰äº†å¤–éƒ¨å¼•ç”¨ã€‚</p>
<p><strong>é—®é¢˜ä»£ç </strong>:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// MainActivity.kt</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> <span class="hljs-keyword">data</span>: String = <span class="hljs-string">""</span>

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)

        <span class="hljs-comment">// âŒ é—®é¢˜: åŒ¿åå†…éƒ¨ç±»æŒæœ‰ Activity å¼•ç”¨</span>
        button.setOnClickListener(<span class="hljs-keyword">object</span> : View.OnClickListener {
            <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onClick</span><span class="hljs-params">(v: <span class="hljs-type">View</span>?)</span></span> {
                <span class="hljs-comment">// ä½¿ç”¨äº†å¤–éƒ¨ç±»çš„æˆå‘˜å˜é‡</span>
                processData(<span class="hljs-keyword">data</span>)
            }
        })
    }
}
</code></pre>
<p><strong>æ ¹å› åˆ†æ</strong>:</p>
<ol>
<li>åŒ¿åå†…éƒ¨ç±»éšå¼æŒæœ‰å¤–éƒ¨ç±»å¼•ç”¨</li>
<li>å¦‚æœ listener çš„ç”Ÿå‘½å‘¨æœŸè¶…è¿‡ Activity,ä¼šå¯¼è‡´å†…å­˜æ³„æ¼</li>
<li>å›¢é˜Ÿä¹‹å‰æ²¡æœ‰æ˜ç¡®çš„è§„èŒƒæ¥é¿å…è¿™ä¸ªé—®é¢˜</li>
</ol>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<p>æ›´æ–° rules/security.md,æ·»åŠ  Android å†…å­˜æ³„æ¼é˜²æŠ¤è§„èŒƒ:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># rules/security.md</span>

<span class="hljs-section">## Android å†…å­˜æ³„æ¼é˜²æŠ¤</span>

<span class="hljs-section">#### é¿å…åŒ¿åå†…éƒ¨ç±»æŒæœ‰ Activity å¼•ç”¨</span>
<span class="hljs-bullet">-</span> âŒ ç¦æ­¢: åœ¨ Activity/Fragment ä¸­ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»ä½œä¸ºé•¿ç”Ÿå‘½å‘¨æœŸç›‘å¬å™¨
<span class="hljs-bullet">-</span> âœ… ä½¿ç”¨: Lambda è¡¨è¾¾å¼æˆ–é™æ€å†…éƒ¨ç±» + å¼±å¼•ç”¨

\<span class="hljs-code">`\`</span>\`kotlin
// âŒ é”™è¯¯: åŒ¿åå†…éƒ¨ç±»
button.setOnClickListener(object : View.OnClickListener {
<span class="hljs-code">    override fun onClick(v: View?) {
        processData(data)  // æŒæœ‰å¤–éƒ¨å¼•ç”¨
    }
})
</span>
// âœ… æ­£ç¡®: Lambda è¡¨è¾¾å¼
button.setOnClickListener { view -&gt;
<span class="hljs-code">    processData(data)  // Kotlin ç¼–è¯‘å™¨ä¼˜åŒ–,ä¸ä¼šæ³„æ¼
}
</span>
// âœ… æ­£ç¡®: é™æ€å†…éƒ¨ç±» + å¼±å¼•ç”¨
class MainActivity : AppCompatActivity() {
<span class="hljs-code">    private val clickListener = ClickListener(this)
</span>
<span class="hljs-code">    override fun onCreate(savedInstanceState: Bundle?) {
        button.setOnClickListener(clickListener)
    }
</span>
<span class="hljs-code">    private class ClickListener(activity: MainActivity) : View.OnClickListener {
        private val activityRef = WeakReference(activity)
</span>
<span class="hljs-code">        override fun onClick(v: View?) {
            activityRef.get()?.processData()
        }
    }
}
\`\`\`
</span>
<span class="hljs-section">#### Handler ä½¿ç”¨è§„èŒƒ</span>
<span class="hljs-bullet">-</span> ä½¿ç”¨é™æ€ Handler + å¼±å¼•ç”¨
<span class="hljs-bullet">-</span> åœ¨ onDestroy ä¸­ç§»é™¤æ‰€æœ‰æ¶ˆæ¯

\<span class="hljs-code">`\`</span>\`kotlin
// âœ… æ­£ç¡®
class MainActivity : AppCompatActivity() {
<span class="hljs-code">    private val handler = MyHandler(this)
</span>
<span class="hljs-code">    override fun onDestroy() {
        super.onDestroy()
        handler.removeCallbacksAndMessages(null)
    }
</span>
<span class="hljs-code">    private class MyHandler(activity: MainActivity) : Handler(Looper.getMainLooper()) {
        private val activityRef = WeakReference(activity)
</span>
<span class="hljs-code">        override fun handleMessage(msg: Message) {
            activityRef.get()?.handleMessage(msg)
        }
    }
}
\`\`\`
</span></code></pre>
<p><strong>æ•ˆæœ</strong>:</p>
<ol>
<li><strong>immediate(ç«‹å³ç”Ÿæ•ˆ)</strong>: ä¸‹æ¬¡ä½¿ç”¨ Claude Code ç”Ÿæˆä»£ç æ—¶,è‡ªåŠ¨ç¬¦åˆæ–°è§„èŒƒ</li>
<li><strong>Prevention(é¢„é˜²é—®é¢˜)</strong>: ç±»ä¼¼çš„å†…å­˜æ³„æ¼é—®é¢˜ä¸å†å‡ºç°</li>
<li><strong>Knowledge Transfer(çŸ¥è¯†ä¼ é€’)</strong>: æ–°å…¥èŒçš„å¼€å‘è€…é€šè¿‡ AI ç”Ÿæˆçš„ä»£ç å­¦ä¹ æœ€ä½³å®è·µ</li>
</ol>
<p><strong>å…³é”®ç‚¹</strong>ï¼šè¿™ä¸ªè§„èŒƒåº”è¯¥æ”¾åœ¨ <code>rules/security.md</code> ä¸­ï¼Œè€Œä¸æ˜¯ <code>CLAUDE.md</code>ã€‚CLAUDE.md åªå­˜æ”¾é¡¹ç›®äº‹å®ï¼ˆå¦‚æŠ€æœ¯æ ˆã€å¸¸ç”¨å‘½ä»¤ï¼‰ï¼Œè¯¦ç»†çš„è§„åˆ™çº¦æŸéƒ½åº”è¯¥æ”¾åœ¨ rules/ ç›®å½•ä¸‹ã€‚</p>
<h3 data-id="heading-16">4.4 ç‰ˆæœ¬ç®¡ç†:å®ªæ³•çš„æ¼”è¿›å†å²</h3>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦ç‰ˆæœ¬ç®¡ç†?</strong></p>
<ul>
<li>è¿½æº¯è§„èŒƒå˜æ›´çš„åŸå› å’Œæ—¶é—´</li>
<li>å›æ»šä¸åˆç†çš„è§„èŒƒä¿®æ”¹</li>
<li>äº†è§£å›¢é˜Ÿè§„èŒƒçš„æ¼”è¿›è·¯å¾„</li>
</ul>
<p><strong>å®è·µæ–¹æ³•</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. CLAUDE.md å’Œ rules/ ä¸ä»£ç ä¸€èµ·æäº¤åˆ° Git</span>
git add CLAUDE.md .claude/rules/
git commit -m <span class="hljs-string">"docs(claude): add memory leak prevention rules"</span>

<span class="hljs-comment"># 2. æŸ¥çœ‹å®ªæ³•æ¼”è¿›å†å²</span>
git <span class="hljs-built_in">log</span> --oneline -- CLAUDE.md .claude/rules/

<span class="hljs-comment"># è¾“å‡º:</span>
a1b2c3d docs(claude): add memory leak prevention rules
d4e5f6g docs(claude): update naming conventions
g7h8i9j docs(claude): add security guidelines
j0k1l2m docs(claude): initial team constitution

<span class="hljs-comment"># 3. æŸ¥çœ‹æŸæ¬¡ä¿®æ”¹çš„å…·ä½“å†…å®¹</span>
git show a1b2c3d

<span class="hljs-comment"># 4. å›æ»šåˆ°ä¹‹å‰çš„ç‰ˆæœ¬(å¦‚æœéœ€è¦)</span>
git checkout d4e5f6g -- CLAUDE.md .claude/rules/
</code></pre>
<p><strong>ç‰ˆæœ¬å·ç®¡ç†(å¯é€‰)</strong>:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Team Constitution</span>

<span class="hljs-strong">**Version**</span>: 2.3.0
<span class="hljs-strong">**Last Updated**</span>: 2026-01-29
<span class="hljs-strong">**Changelog**</span>: See CLAUDE<span class="hljs-emphasis">_CHANGELOG.md

## Version History
- v2.3.0 (2026-01-29): Add Android memory leak prevention
- v2.2.0 (2026-01-15): Update testing requirements
- v2.1.0 (2026-01-05): Add security guidelines
- v2.0.0 (2025-12-20): Major refactor, adopt Clean Architecture
- v1.0.0 (2025-12-01): Initial team constitution
</span></code></pre>
<h3 data-id="heading-17">4.5 å›¢é˜Ÿåä½œ:å®ªæ³•çš„å…±åŒç»´æŠ¤</h3>
<p><strong>ç»´æŠ¤ç­–ç•¥</strong>:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## å›¢é˜Ÿå®ªæ³•ç»´æŠ¤æŒ‡å—</span>

<span class="hljs-section">### è°å¯ä»¥ä¿®æ”¹?</span>
<span class="hljs-bullet">-</span> æ‰€æœ‰å›¢é˜Ÿæˆå‘˜éƒ½å¯ä»¥æå‡ºä¿®æ”¹å»ºè®®
<span class="hljs-bullet">-</span> Tech Lead è´Ÿè´£æœ€ç»ˆå®¡æ ¸

<span class="hljs-section">### ä¿®æ”¹æµç¨‹</span>
<span class="hljs-bullet">1.</span> å‘ç°é—®é¢˜æˆ–æ”¹è¿›ç‚¹
<span class="hljs-bullet">2.</span> åˆ›å»º Issue è®¨è®ºå¿…è¦æ€§
<span class="hljs-bullet">3.</span> æäº¤ PR ä¿®æ”¹ CLAUDE.md æˆ– .claude/rules/ ä¸‹çš„è§„åˆ™æ–‡ä»¶
<span class="hljs-bullet">4.</span> Tech Lead å®¡æ ¸
<span class="hljs-bullet">5.</span> åˆå¹¶åå…¨å‘˜é€šçŸ¥

<span class="hljs-section">### å®šæœŸå›é¡¾</span>
<span class="hljs-bullet">-</span> æ¯æœˆ: å›¢é˜Ÿä¼šè®®å›é¡¾å®ªæ³•æ‰§è¡Œæƒ…å†µ
<span class="hljs-bullet">-</span> æ¯å­£åº¦: å…¨é¢å®¡æŸ¥å’Œä¼˜åŒ–
</code></pre>
<p><strong>æ²Ÿé€šæœºåˆ¶</strong>:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># ç¤ºä¾‹: PR æäº¤è¯´æ˜</span>

<span class="hljs-section">## ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªä¿®æ”¹?</span>
åœ¨æœ€è¿‘çš„ Code Review ä¸­,æˆ‘ä»¬å‘ç°å¤šä¸ª PR éƒ½å‡ºç°äº†æ—¥æœŸæ ¼å¼ä¸ç»Ÿä¸€çš„é—®é¢˜:
<span class="hljs-bullet">-</span> æœ‰çš„ç”¨ <span class="hljs-code">`YYYY-MM-DD`</span>
<span class="hljs-bullet">-</span> æœ‰çš„ç”¨ <span class="hljs-code">`MM/DD/YYYY`</span>
<span class="hljs-bullet">-</span> æœ‰çš„ç”¨æ—¶é—´æˆ³

è¿™å¯¼è‡´å‰åç«¯å¯¹æ¥æ—¶ç»å¸¸å‡ºé”™ã€‚

<span class="hljs-section">## æè®®çš„è§„èŒƒ</span>
ç»Ÿä¸€ä½¿ç”¨ ISO 8601 æ ¼å¼(<span class="hljs-code">`YYYY-MM-DDTHH:mm:ssZ`</span>)

<span class="hljs-section">## å½±å“èŒƒå›´</span>
<span class="hljs-bullet">-</span> å‰ç«¯å±•ç¤ºæ—¥æœŸæ—¶éœ€è¦æ ¼å¼åŒ–
<span class="hljs-bullet">-</span> åç«¯ API è¿”å›ç»Ÿä¸€æ ¼å¼
<span class="hljs-bullet">-</span> æ•°æ®åº“å­˜å‚¨ä½¿ç”¨ UTC æ—¶é—´

<span class="hljs-section">## ç›¸å…³è®¨è®º</span>
Issue #123: Date format inconsistency
</code></pre>
<hr/>
<h2 data-id="heading-18">äº”ã€å®æˆ˜æ¡ˆä¾‹:æ„å»º Android å›¢é˜Ÿçš„å›¢é˜Ÿå®ªæ³•</h2>
<h3 data-id="heading-19">5.1 ç›®å½•ç»“æ„</h3>
<pre><code class="hljs language-text" lang="text">android-project/
â”œâ”€ CLAUDE.md
â””â”€ .claude/
   â””â”€ rules/
      â”œâ”€ security.md
      â”œâ”€ testing.md
      â””â”€ coding-style.md
</code></pre>
<h3 data-id="heading-20">5.2 CLAUDE.mdï¼šé¡¹ç›®äº‹å®</h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Android Project - Claude Code Configuration</span>

<span class="hljs-section">## é¡¹ç›®æ¦‚è¿°</span>
<span class="hljs-bullet">-</span> æŠ€æœ¯æ ˆï¼šKotlin 1.9+ã€Android 14 (API 34)ã€MVVM + Clean Architecture
<span class="hljs-bullet">-</span> DIï¼šHilt
<span class="hljs-bullet">-</span> Asyncï¼šCoroutines + Flow
<span class="hljs-bullet">-</span> UIï¼šJetpack Compose
<span class="hljs-bullet">-</span> Testingï¼šJUnit5, Mockk, Espresso

<span class="hljs-section">## ç›®å½•ç»“æ„å…¥å£</span>
<span class="hljs-bullet">-</span> <span class="hljs-code">`app/src/main/java/`</span> - æºä»£ç ç›®å½•
<span class="hljs-bullet">-</span> <span class="hljs-code">`app/src/test/java/`</span> - å•å…ƒæµ‹è¯•ç›®å½•
<span class="hljs-bullet">-</span> <span class="hljs-code">`app/src/androidTest/java/`</span> - UI æµ‹è¯•ç›®å½•

<span class="hljs-section">## å¸¸ç”¨å‘½ä»¤ï¼ˆå¿…é¡»å‡†ç¡®ï¼‰</span>
<span class="hljs-bullet">-</span> å®‰è£…ä¾èµ–ï¼š<span class="hljs-code">`./gradlew build`</span>
<span class="hljs-bullet">-</span> è¿è¡Œæµ‹è¯•ï¼š<span class="hljs-code">`./gradlew test`</span>
<span class="hljs-bullet">-</span> è¿è¡Œ UI æµ‹è¯•ï¼š<span class="hljs-code">`./gradlew connectedAndroidTest`</span>
<span class="hljs-bullet">-</span> æ„å»º APKï¼š<span class="hljs-code">`./gradlew assembleDebug`</span>
<span class="hljs-bullet">-</span> ä»£ç æ ¼å¼åŒ–ï¼š<span class="hljs-code">`./gradlew ktlintFormat`</span>
<span class="hljs-bullet">-</span> é™æ€æ£€æŸ¥ï¼š<span class="hljs-code">`./gradlew ktlintCheck`</span>

<span class="hljs-section">## çº¦æŸï¼ˆå›¢é˜Ÿå…±è¯†ï¼‰</span>
<span class="hljs-bullet">-</span> é»˜è®¤å…ˆç”¨ Plan Mode åˆ†æï¼Œå†åŠ¨ä»£ç 
<span class="hljs-bullet">-</span> ä»»ä½•ä¼šå½±å“è¡Œä¸ºçš„æ”¹åŠ¨ï¼šå¿…é¡»è¡¥æµ‹è¯•/è¡¥æ–‡æ¡£
<span class="hljs-bullet">-</span> æ¶‰åŠå‡­è¯/æƒé™ï¼šå…ˆå®‰å…¨å®¡æŸ¥ï¼Œå†åˆå¹¶
<span class="hljs-bullet">-</span> ViewModel ä¸æŒæœ‰ Activity/Fragment å¼•ç”¨
<span class="hljs-bullet">-</span> ç½‘ç»œ/æ•°æ®åº“æ“ä½œå¿…é¡»ä½¿ç”¨ suspend å‡½æ•°
</code></pre>
<h3 data-id="heading-21">5.3 rules/coding-style.mdï¼šä»£ç é£æ ¼åº•çº¿</h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Kotlin ä»£ç é£æ ¼è§„èŒƒ</span>

<span class="hljs-section">## å‘½åçº¦å®š</span>
<span class="hljs-bullet">-</span> ç±»/æ¥å£: PascalCase (UserRepository)
<span class="hljs-bullet">-</span> å‡½æ•°/å±æ€§: camelCase (getUserById)
<span class="hljs-bullet">-</span> å¸¸é‡: UPPER<span class="hljs-emphasis">_SNAKE_</span>CASE (MAX<span class="hljs-emphasis">_RETRY_</span>COUNT)
<span class="hljs-bullet">-</span> åŒ…å: å°å†™,å•è¯é—´ç”¨ç‚¹åˆ†éš” (com.example.app)

<span class="hljs-section">## å±æ€§å£°æ˜</span>
<span class="hljs-bullet">-</span> ä¼˜å…ˆä½¿ç”¨ <span class="hljs-code">`val`</span> è€Œä¸æ˜¯ <span class="hljs-code">`var`</span>
<span class="hljs-bullet">-</span> ç§æœ‰å±æ€§ä½¿ç”¨ <span class="hljs-code">`private`</span> æ˜¾å¼æ ‡è®°
<span class="hljs-bullet">-</span> å¯ç©ºç±»å‹æ˜ç¡®æ ‡æ³¨ <span class="hljs-code">`?`</span>

<span class="hljs-section">## å¼‚æ­¥ç¼–ç¨‹</span>
<span class="hljs-bullet">-</span> ä½¿ç”¨ Coroutines,é¿å… Callback
<span class="hljs-bullet">-</span> ç½‘ç»œ/æ•°æ®åº“æ“ä½œä½¿ç”¨ <span class="hljs-code">`suspend`</span> å‡½æ•°
<span class="hljs-bullet">-</span> UI å±‚ä½¿ç”¨ <span class="hljs-code">`StateFlow`</span> / <span class="hljs-code">`SharedFlow`</span>

<span class="hljs-section">## èµ„æºå‘½å</span>
<span class="hljs-bullet">-</span> Drawable: <span class="hljs-code">`ic_*`</span> (å›¾æ ‡), <span class="hljs-code">`bg_*`</span> (èƒŒæ™¯), <span class="hljs-code">`img_*`</span> (å›¾ç‰‡)
<span class="hljs-bullet">-</span> Layout: <span class="hljs-code">`activity_*.xml`</span>, <span class="hljs-code">`fragment_*.xml`</span>, <span class="hljs-code">`item_*.xml`</span>
<span class="hljs-bullet">-</span> String: æ¨¡å—<span class="hljs-emphasis">_åŠŸèƒ½_</span>æè¿° (<span class="hljs-code">`user_profile_title`</span>)
</code></pre>
<h3 data-id="heading-22">5.4 rules/testing.mdï¼šæµ‹è¯•åº•çº¿</h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># æµ‹è¯•è§„èŒƒ</span>

<span class="hljs-section">## å•å…ƒæµ‹è¯•</span>
<span class="hljs-bullet">-</span> è¦†ç›–ç‡: &gt; 80%
<span class="hljs-bullet">-</span> UseCase å’Œ Repository å¿…é¡»æœ‰å•å…ƒæµ‹è¯•
<span class="hljs-bullet">-</span> ä½¿ç”¨ Mockk è¿›è¡Œ Mock
<span class="hljs-bullet">-</span> æµ‹è¯•ç”¨ä¾‹å‘½å: <span class="hljs-code">`should ... when ...`</span>

<span class="hljs-section">## UI æµ‹è¯•</span>
<span class="hljs-bullet">-</span> å…³é”®æµç¨‹å¿…é¡»æœ‰ Espresso æµ‹è¯•
<span class="hljs-bullet">-</span> ä½¿ç”¨ Hilt Test è¿›è¡Œä¾èµ–æ³¨å…¥

<span class="hljs-section">## TDD æµç¨‹</span>
<span class="hljs-bullet">-</span> RED: å…ˆå†™å¤±è´¥çš„æµ‹è¯•
<span class="hljs-bullet">-</span> GREEN: å®ç°æœ€å°ä»£ç è®©æµ‹è¯•é€šè¿‡
<span class="hljs-bullet">-</span> REFACTOR: é‡æ„ä¼˜åŒ–ä»£ç 
</code></pre>
<h3 data-id="heading-23">5.5 rules/security.mdï¼šå®‰å…¨åº•çº¿</h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># å®‰å…¨è§„èŒƒ</span>

<span class="hljs-section">## æ•æ„Ÿä¿¡æ¯å¤„ç†</span>
<span class="hljs-bullet">-</span> âŒ ç¦æ­¢: å°†å¯†é’¥/å¯†ç ç¡¬ç¼–ç åˆ°ä»£ç ä¸­
<span class="hljs-bullet">-</span> âœ… ä½¿ç”¨: BuildConfig æˆ– NDK å­˜å‚¨ API Key
<span class="hljs-bullet">-</span> âœ… ä½¿ç”¨: EncryptedSharedPreferences å­˜å‚¨ç”¨æˆ·å¯†ç /Token

<span class="hljs-section">## å†…å­˜æ³„æ¼é˜²æŠ¤</span>
<span class="hljs-bullet">-</span> ViewModel ä¸æŒæœ‰ Activity/Fragment å¼•ç”¨
<span class="hljs-bullet">-</span> é•¿ç”Ÿå‘½å‘¨æœŸå¯¹è±¡ä½¿ç”¨ ApplicationContext
<span class="hljs-bullet">-</span> ä½¿ç”¨ Lifecycle-aware ç»„ä»¶

<span class="hljs-section">## æƒé™è¯·æ±‚</span>
<span class="hljs-bullet">-</span> ä½¿ç”¨ ActivityResultContracts
<span class="hljs-bullet">-</span> è¯´æ˜æƒé™ç”¨é€”,æå‡æˆæƒç‡
</code></pre>
<hr/>
<h2 data-id="heading-24">å…­ã€æœ€ä½³å®è·µä¸å»ºè®®</h2>
<h3 data-id="heading-25">6.1 å¦‚ä½•ç¼–å†™æœ‰æ•ˆçš„å®ªæ³•æ¡æ¬¾</h3>
<p><strong>åŸåˆ™ 1: å…·ä½“è€ŒéæŠ½è±¡</strong></p>
<p>âŒ ä¸å¥½çš„ä¾‹å­:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">-</span> ä»£ç åº”è¯¥å†™å¾—æ¸…æ™°
<span class="hljs-bullet">-</span> æ³¨é‡Šè¦å†™å¥½
<span class="hljs-bullet">-</span> æ€§èƒ½è¦ä¼˜åŒ–
</code></pre>
<p>âœ… å¥½çš„ä¾‹å­:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">-</span> æ‰€æœ‰å…¬å…± API å¿…é¡»æ·»åŠ  JSDoc æ³¨é‡Š,åŒ…å«å‚æ•°è¯´æ˜å’Œç¤ºä¾‹
<span class="hljs-bullet">-</span> å‡½æ•°å¤æ‚åº¦ä¸è¶…è¿‡ 15(Cyclomatic Complexity)
<span class="hljs-bullet">-</span> API å“åº”æ—¶é—´ P95 &lt; 200ms
</code></pre>
<p><strong>åŸåˆ™ 2: æä¾›æ­£åç¤ºä¾‹</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">### é”™è¯¯å¤„ç†</span>

âœ… æ­£ç¡®:
\<span class="hljs-code">`\`</span>\`typescript
try {
  const data = await fetchData();
  return data;
} catch (error: unknown) {
  if (error instanceof NetworkError) {
<span class="hljs-code">    logger.error('Network request failed', { error });
    throw new ServiceUnavailableError('Service temporarily unavailable');
  }
  throw error;
}
\`\`\`
</span>
âŒ é”™è¯¯:
\<span class="hljs-code">`\`</span>\`typescript
try {
  const data = await fetchData();
  return data;
} catch (e) {
  console.log(e);  // åªæ‰“å°æ—¥å¿—,ä¸å¤„ç†
  return null;     // åæ‰å¼‚å¸¸
}
\<span class="hljs-code">`\`</span>\`
</code></pre>
<p><strong>åŸåˆ™ 3: è¯´æ˜"ä¸ºä»€ä¹ˆ"</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">### ä¼˜å…ˆä½¿ç”¨ `const` è€Œä¸æ˜¯ `let`</span>

<span class="hljs-strong">**åŸå› **</span>:
<span class="hljs-bullet">-</span> æé«˜ä»£ç å¯è¯»æ€§:å˜é‡ä¸å¯å˜æ›´,å‡å°‘è®¤çŸ¥è´Ÿæ‹…
<span class="hljs-bullet">-</span> é¿å…æ„å¤–ä¿®æ”¹:é˜²æ­¢ bug
<span class="hljs-bullet">-</span> ä¼˜åŒ–æ€§èƒ½:ç¼–è¯‘å™¨å¯ä»¥æ›´å¥½åœ°ä¼˜åŒ–

<span class="hljs-strong">**ä¾‹å¤–æƒ…å†µ**</span>:
<span class="hljs-bullet">-</span> å¾ªç¯è®¡æ•°å™¨
<span class="hljs-bullet">-</span> ç´¯åŠ å™¨å˜é‡
</code></pre>
<p><strong>åŸåˆ™ 4: è®¾ç½®ä¼˜å…ˆçº§</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## ç¼–ç è§„èŒƒä¼˜å…ˆçº§</span>

<span class="hljs-section">### P0 (å¿…é¡»éµå®ˆ,å¦åˆ™æ‹’ç»åˆå¹¶)</span>
<span class="hljs-bullet">-</span> æ‰€æœ‰æ•æ„Ÿä¿¡æ¯ä¸å¾—ç¡¬ç¼–ç 
<span class="hljs-bullet">-</span> å¿…é¡»é€šè¿‡å•å…ƒæµ‹è¯•
<span class="hljs-bullet">-</span> ä¸å¾—å‡ºç° ESLint error

<span class="hljs-section">### P1 (å¼ºçƒˆå»ºè®®,Code Review ä¼šæå‡º)</span>
<span class="hljs-bullet">-</span> å…¬å…± API å¿…é¡»æœ‰ JSDoc
<span class="hljs-bullet">-</span> å¤æ‚é€»è¾‘å¿…é¡»æœ‰æ³¨é‡Š
<span class="hljs-bullet">-</span> æµ‹è¯•è¦†ç›–ç‡ &gt; 80%

<span class="hljs-section">### P2 (å»ºè®®,ä½†ä¸å¼ºåˆ¶)</span>
<span class="hljs-bullet">-</span> ä½¿ç”¨ TypeScript ç±»å‹æ¨æ–­ç®€åŒ–ä»£ç 
<span class="hljs-bullet">-</span> ä¼˜å…ˆä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹
</code></pre>
<h3 data-id="heading-26">6.2 å¦‚ä½•è®© AI ç†è§£å’Œéµå®ˆè§„èŒƒ</h3>
<p><strong>æŠ€å·§ 1: ä½¿ç”¨æ¸…æ™°çš„æ ‡è®°</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## è§„èŒƒæ ‡è®°è¯´æ˜</span>

<span class="hljs-bullet">-</span> âœ… <span class="hljs-strong">**å¿…é¡»**</span>: å¼ºåˆ¶æ‰§è¡Œ,ä¸å¯è¿å
<span class="hljs-bullet">-</span> âš ï¸ <span class="hljs-strong">**æ¨è**</span>: å¼ºçƒˆå»ºè®®,æœ‰ç‰¹æ®ŠåŸå› å¯ä¾‹å¤–
<span class="hljs-bullet">-</span> ğŸ’¡ <span class="hljs-strong">**å»ºè®®**</span>: æœ€ä½³å®è·µ,å¯æ ¹æ®æƒ…å†µè°ƒæ•´
<span class="hljs-bullet">-</span> âŒ <span class="hljs-strong">**ç¦æ­¢**</span>: ç»å¯¹ä¸å…è®¸
</code></pre>
<p><strong>æŠ€å·§ 2: ç»“æ„åŒ–ç»„ç»‡</strong></p>
<p>æŒ‰ç…§å®˜æ–¹æ¨èçš„ç›®å½•ç»“æ„ç»„ç»‡ï¼š</p>
<pre><code class="hljs language-text" lang="text">your-repo/
â”œâ”€ CLAUDE.md              # é¡¹ç›®äº‹å®
â””â”€ .claude/
   â””â”€ rules/              # åº•çº¿è§„åˆ™
      â”œâ”€ security.md
      â”œâ”€ testing.md
      â””â”€ coding-style.md
</code></pre>
<p>æ¯ä¸ªæ–‡ä»¶èŒè´£å•ä¸€ï¼Œä¾¿äºç»´æŠ¤å’Œå®¡æŸ¥ã€‚</p>
<p><strong>æŠ€å·§ 3: ä½¿ç”¨å…³é”®è¯å¼ºè°ƒ</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">### å®‰å…¨è§„èŒƒ</span>

âš ï¸ <span class="hljs-strong">**CRITICAL**</span>: ç»å¯¹ä¸å…è®¸å°†å¯†é’¥ç¡¬ç¼–ç åˆ°ä»£ç ä¸­

âŒ <span class="hljs-strong">**NEVER**</span> do this:
\<span class="hljs-code">`\`</span>\`typescript
const API<span class="hljs-emphasis">_KEY = 'sk-1234567890abcdef';
\`\`\`

âœ… <span class="hljs-strong">**ALWAYS**</span> use environment variables:
\`\`\`typescript
const API_</span>KEY = process.env.API<span class="hljs-emphasis">_KEY;
\`\`\`
</span></code></pre>
<p><strong>æŠ€å·§ 4: æä¾›å†³ç­–æ ‘</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">### ä½•æ—¶ä½¿ç”¨ç¼“å­˜?</span>

\<span class="hljs-code">`\`</span>\`
æ•°æ®æ˜¯å¦é¢‘ç¹è¯»å–?
  â”œâ”€ æ˜¯ â†’ æ•°æ®æ˜¯å¦ç»å¸¸å˜åŒ–?
  â”‚       â”œâ”€ æ˜¯ â†’ ä½¿ç”¨çŸ­ TTL ç¼“å­˜(5åˆ†é’Ÿ)
  â”‚       â””â”€ å¦ â†’ ä½¿ç”¨é•¿ TTL ç¼“å­˜(1å°æ—¶)
  â””â”€ å¦ â†’ ä¸ä½¿ç”¨ç¼“å­˜,ç›´æ¥æŸ¥è¯¢
\<span class="hljs-code">`\`</span>\`
</code></pre>
<h3 data-id="heading-27">6.3 å›¢é˜Ÿæ¨å¹¿ç­–ç•¥</h3>
<p><strong>é˜¶æ®µ 1: è¯•ç‚¹é¡¹ç›®(ç¬¬1å‘¨)</strong></p>
<ol>
<li>é€‰æ‹©ä¸€ä¸ªå°å‹é¡¹ç›®ä½œä¸ºè¯•ç‚¹</li>
<li>ç¼–å†™åŸºç¡€çš„ CLAUDE.mdï¼ˆé¡¹ç›®äº‹å®ï¼‰å’Œ rules/ ç›®å½•ï¼ˆæ ¸å¿ƒè§„èŒƒï¼‰</li>
<li>å›¢é˜Ÿæˆå‘˜è½®æµä½¿ç”¨ Claude Code</li>
<li>æ”¶é›†åé¦ˆ,å¿«é€Ÿè¿­ä»£</li>
</ol>
<p><strong>é˜¶æ®µ 2: è§„èŒƒå®Œå–„(ç¬¬2-4å‘¨)</strong></p>
<ol>
<li>æ ¹æ®å®é™…ä½¿ç”¨å‘ç°çš„é—®é¢˜æ›´æ–°è§„èŒƒ</li>
<li>æ·»åŠ æ›´å¤šç¤ºä¾‹å’Œè¯´æ˜</li>
<li>ç»„ç»‡å›¢é˜ŸåŸ¹è®­,è®²è§£è§„èŒƒçš„ä»·å€¼</li>
<li>å»ºç«‹è§„èŒƒæ›´æ–°æœºåˆ¶</li>
</ol>
<p><strong>é˜¶æ®µ 3: å…¨é¢æ¨å¹¿(ç¬¬5-8å‘¨)</strong></p>
<ol>
<li>åœ¨æ‰€æœ‰é¡¹ç›®ä¸­å¯ç”¨ claude.md</li>
<li>å°† claude.md æ£€æŸ¥åŠ å…¥ CI/CD æµç¨‹</li>
<li>å®šæœŸå›é¡¾å’Œä¼˜åŒ–è§„èŒƒ</li>
<li>åˆ†äº«æˆåŠŸæ¡ˆä¾‹å’Œæ•°æ®</li>
</ol>
<p><strong>é˜¶æ®µ 4: æŒç»­æ”¹è¿›(é•¿æœŸ)</strong></p>
<ol>
<li>å»ºç«‹å¤åˆ©æ¨¡å¼:å‘ç°é—®é¢˜ â†’ æ›´æ–°å®ªæ³•</li>
<li>è·Ÿè¸ªæŒ‡æ ‡:ä»£ç è´¨é‡ã€Code Review æ—¶é—´ã€Bug æ•°é‡</li>
<li>å®šæœŸå›¢é˜Ÿåˆ†äº«:æœ€ä½³å®è·µã€è¸©å‘ç»éªŒ</li>
<li>ç‰ˆæœ¬ç®¡ç†:é‡å¤§æ›´æ–°æ—¶å‡çº§ç‰ˆæœ¬å·</li>
</ol>
<p><strong>æ¨å¹¿æŠ€å·§</strong>:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">### è®©å›¢é˜Ÿæ¥å— claude.md çš„æŠ€å·§</span>

<span class="hljs-bullet">1.</span> <span class="hljs-strong">**å±•ç¤ºæ”¶ç›Š,ä¸æ˜¯çº¦æŸ**</span>
<span class="hljs-bullet">   -</span> "è¿™èƒ½è®© Code Review æ—¶é—´å‡å°‘ 50%"
<span class="hljs-bullet">   -</span> "æ–°äººä¸Šæ‰‹é€Ÿåº¦æå‡ 3 å€"
<span class="hljs-bullet">   -</span> "Bug æ•°é‡ä¸‹é™ 40%"

<span class="hljs-bullet">2.</span> <span class="hljs-strong">**ä»ç—›ç‚¹å‡ºå‘**</span>
<span class="hljs-bullet">   -</span> "è¿˜è®°å¾—ä¸Šå‘¨é‚£ä¸ªä½çº§ Bug å—?å¦‚æœæœ‰è§„èŒƒå°±èƒ½é¿å…"
<span class="hljs-bullet">   -</span> "æ¯æ¬¡ Code Review éƒ½åœ¨è¯´åŒæ ·çš„é—®é¢˜,ç´¯ä¸ç´¯?"

<span class="hljs-bullet">3.</span> <span class="hljs-strong">**å°æ­¥å¿«è·‘**</span>
<span class="hljs-bullet">   -</span> ä¸è¦ä¸€æ¬¡æ€§å†™ 100 æ¡è§„èŒƒ
<span class="hljs-bullet">   -</span> ä» 3-5 æ¡æ ¸å¿ƒè§„èŒƒå¼€å§‹ï¼ˆæ”¾åœ¨ rules/ ç›®å½•ï¼‰
<span class="hljs-bullet">   -</span> é€æ­¥å®Œå–„,è®©å›¢é˜Ÿé€‚åº”

<span class="hljs-bullet">4.</span> <span class="hljs-strong">**è®©å¤§å®¶å‚ä¸**</span>
<span class="hljs-bullet">   -</span> è§„èŒƒä¸æ˜¯ Tech Lead ä¸€ä¸ªäººå®šçš„
<span class="hljs-bullet">   -</span> é¼“åŠ±æ‰€æœ‰äººæå‡ºæ”¹è¿›å»ºè®®
<span class="hljs-bullet">   -</span> å®šæœŸè®¨è®ºå’ŒæŠ•ç¥¨å†³å®šé‡è¦æ¡æ¬¾
</code></pre>
<hr/>
<h2 data-id="heading-28">ä¸ƒã€æ€»ç»“ä¸è¡ŒåŠ¨æŒ‡å—</h2>
<h3 data-id="heading-29">7.1 æ ¸å¿ƒè¦ç‚¹å›é¡¾</h3>
<p>é€šè¿‡æœ¬æ–‡,æˆ‘ä»¬æ·±å…¥æ¢è®¨äº† claude.md ä½œä¸º"å›¢é˜Ÿå®ªæ³•"çš„ä»·å€¼:</p>
<p><strong>1. ä¸ºä»€ä¹ˆéœ€è¦å›¢é˜Ÿå®ªæ³•?</strong></p>
<ul>
<li>ä¼ ç»Ÿè§„èŒƒé äººè‚‰æ‰§è¡Œ,æ•ˆç‡ä½ã€æ˜“é—æ¼</li>
<li>AI è¾…åŠ©å¼€å‘éœ€è¦æ˜ç¡®è§„èŒƒ,å¦åˆ™ä»£ç è´¨é‡å‚å·®ä¸é½</li>
<li>claude.md æ˜¯è‡ªåŠ¨åŒ–ã€ç»Ÿä¸€ã€å¯æ¼”è¿›çš„è§£å†³æ–¹æ¡ˆ</li>
</ul>
<p><strong>2. claude.md çš„å·¥ä½œæœºåˆ¶</strong></p>
<ul>
<li>ä¸¤çº§é…ç½®:å…¨å±€ + é¡¹ç›®,é¡¹ç›®é…ç½®è¦†ç›–å…¨å±€é…ç½®</li>
<li>ä½œä¸ºç³»ç»Ÿæç¤ºè¯æ³¨å…¥åˆ°æ¯æ¬¡ AI è°ƒç”¨,ä¼˜å…ˆçº§é«˜äºå¯¹è¯å†å²</li>
</ul>
<p><strong>3. å›¢é˜Ÿå®ªæ³•çš„å†…å®¹è®¾è®¡</strong></p>
<ul>
<li>CLAUDE.mdï¼šé¡¹ç›®äº‹å®ï¼ˆæŠ€æœ¯æ ˆã€å¸¸ç”¨å‘½ä»¤ã€çº¦æŸï¼‰</li>
<li>rules/ ç›®å½•ï¼šåº•çº¿è§„åˆ™ï¼ˆsecurity.mdã€testing.mdã€coding-style.mdï¼‰</li>
</ul>
<p><strong>4. å¤åˆ©æ¨¡å¼:æŒç»­æ¼”è¿›</strong></p>
<ul>
<li>å‘ç°é—®é¢˜ â†’ æ›´æ–°å®ªæ³• â†’ å…¨å‘˜å—ç›Š</li>
<li>ç‰ˆæœ¬ç®¡ç†:Git è·Ÿè¸ªè§„èŒƒæ¼”è¿›</li>
<li>å›¢é˜Ÿåä½œ:å…±åŒç»´æŠ¤,å®šæœŸå›é¡¾</li>
</ul>
<p><strong>5. å®æˆ˜æ¡ˆä¾‹:Android å›¢é˜Ÿ</strong></p>
<ul>
<li>å®Œæ•´çš„ CLAUDE.md å’Œ rules/ ç›®å½•ç¤ºä¾‹</li>
<li>èŒè´£åˆ†ç¦»ï¼šCLAUDE.md å­˜é¡¹ç›®äº‹å®ï¼Œrules/ å­˜è§„åˆ™çº¦æŸ</li>
<li>æ•°æ®è¯æ˜:Code Review æ—¶é—´å‡å°‘ 80%</li>
</ul>
<hr/>
<blockquote>
<p>ğŸ’¡ <strong>æ€è€ƒé¢˜</strong>: ä½ çš„å›¢é˜Ÿç›®å‰æœ‰å“ªäº›è§„èŒƒæ‰§è¡Œä¸åˆ°ä½çš„é—®é¢˜?å¦‚æœç”¨ CLAUDE.md å’Œruleæ¥è§£å†³,ä½ ä¼šå…ˆå†™å“ª 3 æ¡è§„èŒƒ?</p>
</blockquote>
<p>ğŸ”— <strong>ç›¸å…³æ–‡ç« </strong>:</p>
<ul>
<li><a href="https://juejin.cn/post/7601034810313080886" target="_blank" title="https://juejin.cn/post/7601034810313080886">ä¸Šä¸€ç¯‡: æ·±å…¥ç†è§£ Claude Code</a></li>
</ul>
<hr/>
<p>ğŸ“¥ <strong>ä¸‹è½½èµ„æº</strong>:</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fchendongqi%2Fawesome-ai-coding%2Ftree%2Fmain%2Frules" target="_blank" title="https://github.com/chendongqi/awesome-ai-coding/tree/main/rules" ref="nofollow noopener noreferrer">Awesome AI Coding</a> - è¦†ç›–å¤§éƒ¨åˆ†å¼€å‘é¢†åŸŸçš„è§„åˆ™é›†åˆ</li>
</ul>
<p><em>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€æ”¶è—ã€åˆ†äº«!æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®,æ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºã€‚è®©æˆ‘ä»¬ä¸€èµ·å­¦ä¹ ,ä¸€èµ·æˆé•¿!</em></p>
<p><em>ä¹Ÿæ¬¢è¿è®¿é—®æˆ‘çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fhome.wonlab.top" target="_blank" title="https://home.wonlab.top" ref="nofollow noopener noreferrer">ä¸ªäººä¸»é¡µ</a>å‘ç°æ›´å¤šå®è—èµ„æº</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¾®æœåŠ¡ç®¡ç† | æœåŠ¡æ³¨å†Œä¸å‘ç°]]></title>    <link>https://juejin.cn/post/7602401081265979428</link>    <guid>https://juejin.cn/post/7602401081265979428</guid>    <pubDate>2026-02-03T12:41:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602401081265979428" data-draft-id="7602411521071251475" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¾®æœåŠ¡ç®¡ç† | æœåŠ¡æ³¨å†Œä¸å‘ç°"/> <meta itemprop="keywords" content="å¾®æœåŠ¡,åç«¯"/> <meta itemprop="datePublished" content="2026-02-03T12:41:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç è´¢åŒè¡Œ"/> <meta itemprop="url" content="https://juejin.cn/user/3883950915978728"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¾®æœåŠ¡ç®¡ç† | æœåŠ¡æ³¨å†Œä¸å‘ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3883950915978728/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç è´¢åŒè¡Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T12:41:56.000Z" title="Tue Feb 03 2026 12:41:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€å¥è¯</h2>
<p><strong>åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼ŒæœåŠ¡å¾€å¾€æ˜¯ç‹¬ç«‹è¿è¡Œçš„ï¼Œä»–ä»¬ä¹‹é—´å¦‚ä½•äº¤æµä¹Ÿæ˜¯æœ‰å¾ˆå¤šå¯ä»¥æŒ–æ˜çš„ç‚¹ã€‚è®©æœåŠ¡ä¹‹é—´è‡ªåŠ¨â€œæ‰¾åˆ°å½¼æ­¤â€ï¼Œå¹¶å»ºç«‹è¿æ¥ï¼Œä¸”åœ¨æœåŠ¡å¢åˆ å˜åŒ–æ—¶ï¼Œè¿æ¥å…³ç³»èƒ½è‡ªåŠ¨è°ƒæ•´ï¼Œè¿™å°±æ˜¯æœåŠ¡æ³¨å†Œå’Œå‘ç°è¦åšçš„äº‹æƒ…</strong>ã€‚</p>
<h2 data-id="heading-1">ä¸ºä»€ä¹ˆéœ€è¦æœåŠ¡å‘ç°</h2>
<p><strong>ä¾‹å­ 1ï¼šç½‘å…³æ‰¾ç™»å½•æœ</strong></p>
<ul>
<li>ç™»å½•æœå¯èƒ½å¤šå°ï¼Œåœ°å€ä¹Ÿå¯èƒ½å˜ã€‚</li>
<li>å¦‚æœé é…ç½®æ–‡ä»¶å†™æ­»ï¼Œè¿ç»´ä¸€æ”¹åœ°å€å°±ä¼šå‡ºé”™ã€‚</li>
<li>æœåŠ¡å‘ç°å°±åƒâ€œè‡ªåŠ¨é€šè®¯å½•â€ï¼Œç™»å½•æœä¸Šçº¿å°±è‡ªåŠ¨åŠ å…¥ï¼Œæ‰çº¿å°±è‡ªåŠ¨ç§»é™¤ã€‚</li>
</ul>
<h2 data-id="heading-2">æœåŠ¡å‘ç°è¦åšåˆ°ä»€ä¹ˆ</h2>
<p>ç®€å•ç†è§£å°±æ˜¯ä¸‰ä»¶äº‹ï¼š</p>
<ol>
<li><strong>æ³¨å†Œ</strong>ï¼šæœåŠ¡å®ä¾‹å°†è‡ªèº«èŠ‚ç‚¹ä¿¡æ¯å†™å…¥æ³¨å†Œä¸­å¿ƒï¼ˆä¾‹å¦‚ Zookeeperï¼‰ï¼Œä¹Ÿå°±æ˜¯æœåŠ¡è‡ªå·±æŠŠâ€œæˆ‘æ˜¯è°ã€æˆ‘çš„ç½‘ç»œåœ°å€æ˜¯ä»€ä¹ˆâ€ å†™è¿›å»</li>
<li><strong>å‘ç°</strong>ï¼šè®¢é˜…å¹¶è·å–è‡ªå·±å…³å¿ƒçš„æœåŠ¡èŠ‚ç‚¹ï¼Œå³èƒ½æ‹¿åˆ°â€œæˆ‘å‘ç°äº†å“ªäº›æœåŠ¡ä»¥åŠéœ€è¦è¿æ¥å“ªäº›æœåŠ¡â€</li>
<li><strong>æ›´æ–°</strong>ï¼šæœåŠ¡å˜åŒ–æ—¶è‡ªåŠ¨é€šçŸ¥ï¼Œå˜æ›´ä¸ä»…æœ‰â€œæ¥/èµ°â€ï¼Œè¿˜æœ‰â€œèŠ‚ç‚¹å±æ€§æ›´æ–°â€ï¼ˆæ¯”å¦‚æƒé‡/ç‰ˆæœ¬å˜åŒ–ï¼‰</li>
</ol>
<p><strong>é€šä¿—åœ°è¯´ï¼Œå¯¹äºä¸€ä¸ªæœåŠ¡ï¼š</strong></p>
<ul>
<li><strong>å¯åŠ¨æ—¶å…ˆç»™æˆ‘ä¸€å¼ å…¶ä»–æœåŠ¡çš„å®Œæ•´åå•</strong>ï¼ˆå¿«ç…§ï¼‰</li>
<li><strong>è¿è¡Œä¸­æœ‰æœåŠ¡åŠ å…¥æˆ–ç¦»å¼€å°±é€šçŸ¥æˆ‘</strong>ï¼ˆå¢é‡è®¢é˜…ï¼‰</li>
</ul>
<p>è¿™é‡Œå…¶å®æœ‰ä¸€ä¸ªæ•°æ®çš„ä¸€è‡´æ€§éœ€æ±‚ ï¼šå¯åŠ¨æ—¶éœ€è¦â€œå…¨é‡å¿«ç…§â€ï¼Œè¿è¡Œæ—¶éœ€è¦â€œå¢é‡å˜æ›´â€ï¼Œé¿å…æ¼è¿æˆ–é‡å¤ã€‚</p>
<h2 data-id="heading-3">å®ç°æ–¹æ¡ˆ</h2>
<h3 data-id="heading-4">1) æ³¨å†Œï¼šæœåŠ¡è‡ªå·±å‘Šè¯‰ç³»ç»Ÿâ€œæˆ‘æ˜¯è°â€ï¼Œæˆ‘çš„åœ°å€æ˜¯å¤šå°‘</h3>
<p>æ¯ä¸ªæœåŠ¡å¯åŠ¨åæŠŠä¿¡æ¯å†™è¿›æ³¨å†Œä¸­å¿ƒï¼Œé€šå¸¸å°±æ˜¯ key-value çš„å½¢å¼ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">login.tcp.3</span>Â =&gt;Â <span class="hljs-number">10.1</span>.<span class="hljs-number">2.3</span>:<span class="hljs-number">8001</span>
</code></pre>
<p>è¿™é‡Œï¼Œ<code>login</code> æ˜¯æœåŠ¡ç±»å‹ï¼Œ<code>tcp</code> æ˜¯åœ°å€çš„ç±»å‹ï¼ˆä¹Ÿå¯ä»¥æ˜¯httpï¼‰ï¼Œ<code>3</code> æ˜¯æœåŠ¡çš„ç¼–å·ï¼Œè¿™å¯¹äºæœ‰çŠ¶æ€æœåŠ¡çš„åŒºåˆ†æ¯”è¾ƒé‡è¦ã€‚</p>
<p>å¦‚æœè¦æ›´å¤šä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥å¸¦ä¸Šæƒé‡ã€ç‰ˆæœ¬ã€å…ƒæ•°æ®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-number">10.1</span><span class="hljs-number">.2</span><span class="hljs-number">.3</span>|<span class="hljs-number">8001</span>|<span class="hljs-number">20</span>|v1|<span class="hljs-punctuation">{</span><span class="hljs-attr">"region"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"cn"</span><span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-5">2) å‘ç°ï¼šè·å¾—åˆ«çš„æœåŠ¡çš„åœ°å€ï¼Œå…³æ³¨åœ°å€å˜æ›´</h3>
<p>æœåŠ¡å¯åŠ¨åè®¢é˜…è‡ªå·±å…³å¿ƒçš„ç›®æ ‡ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>Gate å…³å¿ƒ Loginã€Router</li>
<li>Game å…³å¿ƒ Battleã€Router</li>
</ul>
<p>å½“ Gate å¯åŠ¨æ—¶ï¼Œéœ€è¦å…ˆæ‹¿åˆ°Â <strong>å…¨é‡å¿«ç…§</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">snapshot</span>Â =Â [login-<span class="hljs-number">1</span>,Â login-<span class="hljs-number">2</span>,Â login-<span class="hljs-number">3</span>, router-<span class="hljs-number">1</span>, router-<span class="hljs-number">2</span>]
</code></pre>
<p>è¿™äº›æœåŠ¡çš„åœ°å€å¦‚æœå‘ç”Ÿäº†å˜æ›´ï¼Œå¦‚æƒé‡ä» 20 å˜æˆ 0ï¼Œå°±éœ€è¦å…³æ³¨ã€‚</p>
<h3 data-id="heading-6">3) å¢é‡ï¼šæœ‰å˜åŒ–å°±é€šçŸ¥</h3>
<p>å¦‚æœç™»å½•æœæ–°å¢äº†ä¸€å°ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">æ–°å¢:Â login-tcp-4</span>
</code></pre>
<p>è®¢é˜…è€…æ”¶åˆ°äº‹ä»¶åï¼Œåªéœ€è¦åšä¸€ä»¶äº‹ï¼š  <code>å»ºç«‹å’Œ login-tcp-4 çš„è¿æ¥</code></p>
<p>å¦‚æœ login-tcp-2 ä¸‹çº¿ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">åˆ é™¤:Â login-2</span>
</code></pre>
<p>è®¢é˜…è€…è‡ªåŠ¨æ–­å¼€å³å¯ã€‚</p>
<h2 data-id="heading-7">ç®€åŒ–æµç¨‹å›¾ï¼ˆMermaidï¼‰</h2>
<p>æˆ‘ä»¬æŠŠä¸Šé¢çš„å‡ ä¸ªè¿‡ç¨‹ä¸²è”èµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªæµç¨‹å›¾ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3db1a2589d64661992088e01df545dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB6LSi5ZCM6KGM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770727319&amp;x-signature=nvNalqcuK%2Fd4JNIwYf%2FFW3mi8hw%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-8">æ›´æ·±å…¥çš„ç‚¹</h2>
<ol>
<li>åœ¨ç°ä»£ kubernetes äº‘éƒ¨ç½²ç››è¡Œçš„å½“ä¸‹ï¼ŒæœåŠ¡æ³¨å†Œå’Œå‘ç°å¾€å¾€å·²ç»æ”¯æŒï¼Œä½†æ˜¯å¦‚æœéœ€è¦è‡ªå·±æ¥æ›´ç»†ç²’åº¦æ›´æ·±åº¦çš„å®šåˆ¶å’Œæ§åˆ¶è·¯ç”±ï¼Œè‡ªå·±å®ç°ä¸€å¥—æœåŠ¡æ³¨å†Œå’Œå‘ç°æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼›</li>
<li>å¦‚æœæ˜¯ kubernetes éƒ¨ç½²ï¼ŒæœåŠ¡æ³¨å†Œçš„åœ°å€ä¸€èˆ¬æ˜¯ DNS åŸŸåï¼Œå› ä¸ºæœåŠ¡æœ¬èº«çš„åœ°å€æ˜¯ä¼šåŠ¨æ€å˜åŒ–çš„ï¼›</li>
<li>åœ¨å¾ˆå¤šå¼‚æ„çš„ç³»ç»Ÿä¸­ï¼Œå¾€å¾€ç”±ä¸åŒçš„è¯­è¨€æ¥å®ç°ä¸åŒçš„æœåŠ¡ï¼Œä¸ºäº†é¿å…å®ç°å¤šå¥—æœåŠ¡æ³¨å†Œå’Œå‘ç°ï¼Œå¢åŠ ç»´æŠ¤æˆæœ¬ï¼Œå¯ä»¥å°†å…¶æŠ½è±¡æˆagent æœåŠ¡ï¼ˆä»¥sidecarçš„å½¢å¼éƒ¨ç½²ï¼‰ï¼Œä½¿ç”¨æ–¹ç”¨ gRPC è¿™ç§è§£è€¦çš„åè®®å½¢å¼ï¼Œå’Œ agent é€šä¿¡ã€‚</li>
</ol>
<h2 data-id="heading-9">æ€»ç»“</h2>
<ul>
<li>æœåŠ¡æ³¨å†Œå’Œå‘ç°åšçš„æ˜¯ä¸€å¥—â€œè‡ªåŠ¨é€šè®¯å½• + å®æ—¶å˜æ›´æé†’â€</li>
<li>å¿«ç…§è§£å†³â€œå¯åŠ¨æ—¶çœ‹åˆ°å…¨é‡â€</li>
<li>å¢é‡è§£å†³â€œè¿è¡Œä¸­çœ‹åˆ°å˜åŒ–â€</li>
<li>å¯ä»¥æŒ–æ˜æ›´é€‚åˆk8såŠå¼‚æ„ç³»ç»Ÿçš„å®ç°æ–¹å¼</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue-å“åº”å¼åŸç†æ·±åº¦è§£æï¼ˆå«æ‰‹å†™æºç ï¼‰]]></title>    <link>https://juejin.cn/post/7602463463105249326</link>    <guid>https://juejin.cn/post/7602463463105249326</guid>    <pubDate>2026-02-03T10:07:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602463463105249326" data-draft-id="7602303923171393545" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue-å“åº”å¼åŸç†æ·±åº¦è§£æï¼ˆå«æ‰‹å†™æºç ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2026-02-03T10:07:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue-å“åº”å¼åŸç†æ·±åº¦è§£æï¼ˆå«æ‰‹å†™æºç ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T10:07:34.000Z" title="Tue Feb 03 2026 10:07:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åŒå‘æ•°æ®ç»‘å®šæ˜¯ Vue çš„çµé­‚ç‰¹æ€§ã€‚å®ƒå°† <strong>Modelï¼ˆæ•°æ®å±‚ï¼‰</strong> ä¸ <strong>Viewï¼ˆè§†å›¾å±‚ï¼‰</strong> ç´§å¯†ç›¸è¿ï¼šJS é€»è¾‘æ›´æ–° Modelï¼Œè§†å›¾è‡ªåŠ¨é‡ç»˜ï¼›ç”¨æˆ·æ“ä½œ Viewï¼Œæ•°æ®è‡ªåŠ¨åŒæ­¥ã€‚æœ¬æ–‡å°†å¸¦ä½ ä»æºç çº§åˆ«å¯¹æ¯” Vue 2 ä¸ Vue 3 åœ¨å“åº”å¼å®ç°ä¸Šçš„å¼‚åŒã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ Vue 2ï¼šæ•°æ®åŠ«æŒ + å‘å¸ƒè®¢é˜…</h2>
<h3 data-id="heading-2">1. æ ¸å¿ƒåŸç†</h3>
<p>Vue 2 åŸºäº <code>Object.defineProperty</code> å®ç°æ•°æ®åŠ«æŒï¼Œé€šè¿‡ <strong>Observerï¼ˆç›‘å¬å™¨ï¼‰</strong> ã€<strong>Compileï¼ˆè§£æå™¨ï¼‰</strong> å’Œ <strong>Watcherï¼ˆè®¢é˜…è€…ï¼‰</strong> çš„é…åˆå®Œæˆã€‚</p>
<h3 data-id="heading-3">2. å…³é”®æ­¥éª¤</h3>
<ol>
<li>
<p><strong>æ•°æ®åŠ«æŒ (Observer)</strong> ï¼šéå† <code>data</code> å±æ€§ï¼Œåˆ©ç”¨ <code>Object.defineProperty</code> æ³¨å…¥ <code>getter</code>ï¼ˆä¾èµ–æ”¶é›†ï¼‰å’Œ <code>setter</code>ï¼ˆåˆ†å‘æ›´æ–°ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æ¨¡æ¿è§£æ (Compile)</strong> ï¼šè§£ææŒ‡ä»¤ï¼ˆå¦‚ <code>v-model</code>ï¼‰å’Œæ’å€¼è¡¨è¾¾å¼ï¼ˆ<code>{{}}</code>ï¼‰ï¼Œä¸ºæ¯ä¸ªç»‘å®šç‚¹åˆ›å»ºä¸€ä¸ª <strong>Watcher</strong>ã€‚</p>
</li>
<li>
<p><strong>ä¾èµ–æ”¶é›† (Dep)</strong> ï¼šæ¯ä¸ªå±æ€§å¯¹åº”ä¸€ä¸ª <code>Dep</code> å®¹å™¨ã€‚è¯»å–å±æ€§æ—¶ï¼Œå°†å¯¹åº”çš„ Watcher å­˜å…¥ Depã€‚</p>
</li>
<li>
<p><strong>æ´¾å‘æ›´æ–° (Watcher)</strong> ï¼šä¿®æ”¹æ•°æ®æ—¶ä¼šè§¦å‘ <code>setter</code>ï¼Œé€šçŸ¥æ‰€æœ‰å…³è”çš„ Watcher æ‰§è¡Œ <code>update</code> æ–¹æ³•æ›´æ–° DOMã€‚</p>
</li>
</ol>
<h3 data-id="heading-4">3. æºç ä»¿çœŸå®ç°</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vue2 å“åº”å¼åŸç†ç®€æ˜“å®ç°<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- æµ‹è¯•æ¨¡æ¿ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{{ message }}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"message"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å¹´é¾„ï¼š{{ age }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"vm.age++"</span>&gt;</span>å¹´é¾„+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">//  1. ä¾èµ–æ”¶é›†å™¨ Depï¼šç®¡ç†æ‰€æœ‰ Watcherï¼Œæ•°æ®å˜åŒ–æ—¶é€šçŸ¥æ›´æ–° </span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Dep</span> {
      <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">subs</span> = []; <span class="hljs-comment">// å­˜å‚¨è®¢é˜…è€…ï¼ˆWatcher å®ä¾‹ï¼‰</span>
      }

      <span class="hljs-comment">// æ·»åŠ è®¢é˜…è€…</span>
      <span class="hljs-title function_">addSub</span>(<span class="hljs-params">sub</span>) {
        <span class="hljs-keyword">if</span> (sub &amp;&amp; sub.<span class="hljs-property">update</span>) { <span class="hljs-comment">// ç¡®ä¿æ˜¯åˆæ³•çš„ Watcher</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">subs</span>.<span class="hljs-title function_">push</span>(sub);
        }
      }

      <span class="hljs-comment">// é€šçŸ¥æ‰€æœ‰è®¢é˜…è€…æ›´æ–°</span>
      <span class="hljs-title function_">notify</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">subs</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">sub</span> =&gt;</span> sub.<span class="hljs-title function_">update</span>());
      }
    }

    <span class="hljs-comment">//  2. æ•°æ®åŠ«æŒå™¨ Observerï¼šåŠ«æŒ data æ‰€æœ‰å±æ€§çš„ get/set </span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Observer</span> {
      <span class="hljs-title function_">constructor</span>(<span class="hljs-params">data</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">observe</span>(data);
      }

      <span class="hljs-comment">// éå†æ•°æ®å¯¹è±¡ï¼ŒåŠ«æŒæ‰€æœ‰å±æ€§</span>
      <span class="hljs-title function_">observe</span>(<span class="hljs-params">data</span>) {
        <span class="hljs-keyword">if</span> (!data || <span class="hljs-keyword">typeof</span> data !== <span class="hljs-string">'object'</span>) {
          <span class="hljs-keyword">return</span>; <span class="hljs-comment">// éå¯¹è±¡ç›´æ¥è¿”å›</span>
        }

        <span class="hljs-comment">// éå†å¯¹è±¡çš„æ‰€æœ‰å±æ€§</span>
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(data).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">defineReactive</span>(data, key, data[key]);
        });
      }

      <span class="hljs-comment">// æ ¸å¿ƒï¼šç”¨ Object.defineProperty åŠ«æŒå•ä¸ªå±æ€§</span>
      <span class="hljs-title function_">defineReactive</span>(<span class="hljs-params">obj, key, value</span>) {
        <span class="hljs-keyword">const</span> dep = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dep</span>(); <span class="hljs-comment">// æ¯ä¸ªå±æ€§å¯¹åº”ä¸€ä¸ª Dep</span>
        <span class="hljs-keyword">const</span> that = <span class="hljs-variable language_">this</span>; <span class="hljs-comment">// ä¿å­˜ Observer å®ä¾‹çš„ this</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">observe</span>(value); <span class="hljs-comment">// é€’å½’åŠ«æŒå­å±æ€§ï¼ˆå¤„ç†åµŒå¥—å¯¹è±¡ï¼‰</span>

        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(obj, key, {
          <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¯æšä¸¾</span>
          <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¯é…ç½®</span>
          <span class="hljs-comment">// è¯»å–å±æ€§æ—¶è§¦å‘ï¼šæ”¶é›†ä¾èµ–</span>
          <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) {
            <span class="hljs-comment">// Dep.target æ˜¯å½“å‰æ­£åœ¨æ‰§è¡Œçš„ Watcherï¼Œæ·»åŠ åˆ° Dep ä¸­</span>
            <span class="hljs-title class_">Dep</span>.<span class="hljs-property">target</span> &amp;&amp; dep.<span class="hljs-title function_">addSub</span>(<span class="hljs-title class_">Dep</span>.<span class="hljs-property">target</span>);
            <span class="hljs-keyword">return</span> value;
          },
          <span class="hljs-comment">// èµ‹å€¼å±æ€§æ—¶è§¦å‘ï¼šé€šçŸ¥æ›´æ–°</span>
          <span class="hljs-title function_">set</span>(<span class="hljs-params">newValue</span>) {
            <span class="hljs-keyword">if</span> (newValue === value) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// å€¼æœªå˜åŒ–åˆ™ä¸å¤„ç†</span>
            value = newValue;
            that.<span class="hljs-title function_">observe</span>(newValue); <span class="hljs-comment">// ä½¿ç”¨ä¿å­˜çš„ that è°ƒç”¨ observe</span>
            dep.<span class="hljs-title function_">notify</span>(); <span class="hljs-comment">// é€šçŸ¥æ‰€æœ‰ Watcher æ›´æ–°</span>
          }
        });
      }
    }

    <span class="hljs-comment">//  3. è®¢é˜…è€… Watcherï¼šè¿æ¥ Observer å’Œ Compileï¼Œè´Ÿè´£æ›´æ–° DOM </span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Watcher</span> {
      <span class="hljs-comment">/**
       * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Object</span>} <span class="hljs-variable">vm</span> - Vue å®ä¾‹
       * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">expr</span> - data ä¸­çš„å±æ€§åï¼ˆå¦‚ 'message'ï¼‰
       * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Function</span>} <span class="hljs-variable">cb</span> - æ›´æ–° DOM çš„å›è°ƒå‡½æ•°
       */</span>
      <span class="hljs-title function_">constructor</span>(<span class="hljs-params">vm, expr, cb</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">vm</span> = vm;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">expr</span> = expr;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cb</span> = cb;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">oldValue</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getOldValue</span>(); <span class="hljs-comment">// è®°å½•æ—§å€¼</span>
      }

      <span class="hljs-comment">// è·å–æ—§å€¼ï¼šè§¦å‘ get æ–¹æ³•ï¼Œå®Œæˆä¾èµ–æ”¶é›†</span>
      <span class="hljs-title function_">getOldValue</span>(<span class="hljs-params"/>) {
        <span class="hljs-title class_">Dep</span>.<span class="hljs-property">target</span> = <span class="hljs-variable language_">this</span>; <span class="hljs-comment">// å°†å½“å‰ Watcher æŒ‚è½½åˆ° Dep.target</span>
        <span class="hljs-keyword">const</span> oldValue = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getVal</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">vm</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">expr</span>); <span class="hljs-comment">// è¯»å–å±æ€§ï¼Œè§¦å‘ get</span>
        <span class="hljs-title class_">Dep</span>.<span class="hljs-property">target</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// æ”¶é›†å®Œä¾èµ–åæ¸…ç©º</span>
        <span class="hljs-keyword">return</span> oldValue;
      }

      <span class="hljs-comment">// è§£æå±æ€§è·¯å¾„ï¼ˆå¤„ç†åµŒå¥—å¯¹è±¡ï¼Œå¦‚ 'user.name'ï¼‰</span>
      <span class="hljs-title function_">getVal</span>(<span class="hljs-params">vm, expr</span>) {
        <span class="hljs-keyword">return</span> expr.<span class="hljs-title function_">split</span>(<span class="hljs-string">'.'</span>).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">data, currentKey</span>) =&gt;</span> {
          <span class="hljs-keyword">return</span> data[currentKey];
        }, vm.<span class="hljs-property">$data</span>);
      }

      <span class="hljs-comment">// æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œï¼šæ›´æ–° DOM</span>
      <span class="hljs-title function_">update</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">const</span> newValue = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getVal</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">vm</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">expr</span>);
        <span class="hljs-keyword">if</span> (newValue !== <span class="hljs-variable language_">this</span>.<span class="hljs-property">oldValue</span>) {
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">cb</span>(newValue); <span class="hljs-comment">// æ‰§è¡Œå›è°ƒæ›´æ–° DOM</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">oldValue</span> = newValue; <span class="hljs-comment">// æ›´æ–°æ—§å€¼</span>
        }
      }
    }

    <span class="hljs-comment">//  4. æ¨¡æ¿è§£æå™¨ Compileï¼šè§£æ v-model å’Œ {{}}ï¼Œåˆ›å»º Watcher </span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Compile</span> {
      <span class="hljs-title function_">constructor</span>(<span class="hljs-params">el, vm</span>) {
        <span class="hljs-comment">// è·å–æŒ‚è½½å…ƒç´ ï¼ˆæ”¯æŒé€‰æ‹©å™¨æˆ– DOM å…ƒç´ ï¼‰</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isElementNode</span>(el) ? el : <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(el);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">vm</span> = vm;
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>) {
          <span class="hljs-comment">// 1. å°†æ¨¡æ¿å†…å®¹ç§»åˆ°æ–‡æ¡£ç¢ç‰‡ä¸­ï¼ˆå‡å°‘ DOM æ“ä½œï¼Œæå‡æ€§èƒ½ï¼‰</span>
          <span class="hljs-keyword">const</span> fragment = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">node2Fragment</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>);
          <span class="hljs-comment">// 2. è§£ææ¨¡æ¿ä¸­çš„æŒ‡ä»¤å’Œæ’å€¼è¡¨è¾¾å¼</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">compile</span>(fragment);
          <span class="hljs-comment">// 3. å°†è§£æåçš„ç¢ç‰‡æ”¾å›åŸå…ƒç´ </span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>.<span class="hljs-title function_">appendChild</span>(fragment);
        }
      }

      <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦æ˜¯å…ƒç´ èŠ‚ç‚¹ï¼ˆå¦‚ divã€inputï¼‰</span>
      <span class="hljs-title function_">isElementNode</span>(<span class="hljs-params">node</span>) {
        <span class="hljs-keyword">return</span> node.<span class="hljs-property">nodeType</span> === <span class="hljs-number">1</span>;
      }

      <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦æ˜¯æŒ‡ä»¤ï¼ˆä»¥ v- å¼€å¤´ï¼‰</span>
      <span class="hljs-title function_">isDirective</span>(<span class="hljs-params">attrName</span>) {
        <span class="hljs-keyword">return</span> attrName.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'v-'</span>);
      }

      <span class="hljs-comment">// å°†èŠ‚ç‚¹ç§»åˆ°æ–‡æ¡£ç¢ç‰‡</span>
      <span class="hljs-title function_">node2Fragment</span>(<span class="hljs-params">el</span>) {
        <span class="hljs-keyword">const</span> fragment = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createDocumentFragment</span>();
        <span class="hljs-keyword">let</span> firstChild;
        <span class="hljs-keyword">while</span> (firstChild = el.<span class="hljs-property">firstChild</span>) {
          fragment.<span class="hljs-title function_">appendChild</span>(firstChild); <span class="hljs-comment">// ç§»åŠ¨èŠ‚ç‚¹ï¼ˆåŸèŠ‚ç‚¹ä¼šè¢«ç§»é™¤ï¼‰</span>
        }
        <span class="hljs-keyword">return</span> fragment;
      }

      <span class="hljs-comment">// æ ¸å¿ƒï¼šè§£ææ–‡æ¡£ç¢ç‰‡ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹</span>
      <span class="hljs-title function_">compile</span>(<span class="hljs-params">fragment</span>) {
        <span class="hljs-keyword">const</span> childNodes = fragment.<span class="hljs-property">childNodes</span>;
        <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(childNodes).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">node</span> =&gt;</span> {
          <span class="hljs-comment">// 1. å¤„ç†å…ƒç´ èŠ‚ç‚¹ï¼ˆè§£æ v-model ç­‰æŒ‡ä»¤ï¼‰</span>
          <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isElementNode</span>(node)) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">compileElement</span>(node);
          } 
          <span class="hljs-comment">// 2. å¤„ç†æ–‡æœ¬èŠ‚ç‚¹ï¼ˆè§£æ {{}} æ’å€¼ï¼‰</span>
          <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">compileText</span>(node);
          }
          <span class="hljs-comment">// é€’å½’è§£æå­èŠ‚ç‚¹ï¼ˆå¤„ç†åµŒå¥—æ¨¡æ¿ï¼‰</span>
          <span class="hljs-keyword">if</span> (node.<span class="hljs-property">childNodes</span> &amp;&amp; node.<span class="hljs-property">childNodes</span>.<span class="hljs-property">length</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">compile</span>(node);
          }
        });
      }

      <span class="hljs-comment">// è§£æå…ƒç´ èŠ‚ç‚¹ï¼ˆå¦‚ v-modelï¼‰</span>
      <span class="hljs-title function_">compileElement</span>(<span class="hljs-params">node</span>) {
        <span class="hljs-keyword">const</span> attrs = node.<span class="hljs-property">attributes</span>;
        <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(attrs).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">attr</span> =&gt;</span> {
          <span class="hljs-keyword">const</span> attrName = attr.<span class="hljs-property">name</span>;
          <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦æ˜¯æŒ‡ä»¤</span>
          <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isDirective</span>(attrName)) {
            <span class="hljs-keyword">const</span> expr = attr.<span class="hljs-property">value</span>; <span class="hljs-comment">// æŒ‡ä»¤å¯¹åº”çš„æ•°æ®å±æ€§ï¼ˆå¦‚ 'message'ï¼‰</span>
            <span class="hljs-keyword">const</span> [, directive] = attrName.<span class="hljs-title function_">split</span>(<span class="hljs-string">'-'</span>); <span class="hljs-comment">// æå–æŒ‡ä»¤åï¼ˆå¦‚ 'model'ï¼‰</span>
            <span class="hljs-comment">// æ‰§è¡ŒæŒ‡ä»¤å¯¹åº”çš„æ›´æ–°æ–¹æ³•</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">compileUtil</span>[directive](node, <span class="hljs-variable language_">this</span>.<span class="hljs-property">vm</span>, expr);
          }
        });
      }

      <span class="hljs-comment">// è§£ææ–‡æœ¬èŠ‚ç‚¹ï¼ˆ{{}} æ’å€¼ï¼‰</span>
      <span class="hljs-title function_">compileText</span>(<span class="hljs-params">node</span>) {
        <span class="hljs-keyword">const</span> textContent = node.<span class="hljs-property">textContent</span>;
        <span class="hljs-comment">// æ­£åˆ™åŒ¹é… {{xxx}} æ ¼å¼</span>
        <span class="hljs-keyword">const</span> reg = <span class="hljs-regexp">/\{\{(.+?)\}\}/g</span>;
        <span class="hljs-keyword">if</span> (reg.<span class="hljs-title function_">test</span>(textContent)) {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">compileUtil</span>.<span class="hljs-title function_">text</span>(node, <span class="hljs-variable language_">this</span>.<span class="hljs-property">vm</span>, textContent);
        }
      }

      <span class="hljs-comment">// æŒ‡ä»¤å¤„ç†å·¥å…·é›†</span>
      compileUtil = {
        <span class="hljs-comment">// è·å–æ•°æ®å±æ€§çš„å€¼</span>
        <span class="hljs-title function_">getVal</span>(<span class="hljs-params">vm, expr</span>) {
          <span class="hljs-keyword">return</span> expr.<span class="hljs-title function_">split</span>(<span class="hljs-string">'.'</span>).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">data, currentKey</span>) =&gt;</span> {
            <span class="hljs-keyword">return</span> data[currentKey];
          }, vm.<span class="hljs-property">$data</span>);
        },

        <span class="hljs-comment">// è®¾ç½®æ•°æ®å±æ€§çš„å€¼ï¼ˆç”¨äº v-modelï¼‰</span>
        <span class="hljs-title function_">setVal</span>(<span class="hljs-params">vm, expr, value</span>) {
          <span class="hljs-keyword">return</span> expr.<span class="hljs-title function_">split</span>(<span class="hljs-string">'.'</span>).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">data, currentKey, index, arr</span>) =&gt;</span> {
            <span class="hljs-keyword">if</span> (index === arr.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>) {
              <span class="hljs-keyword">return</span> data[currentKey] = value;
            }
            <span class="hljs-keyword">return</span> data[currentKey];
          }, vm.<span class="hljs-property">$data</span>);
        },

        <span class="hljs-comment">// å¤„ç† v-model æŒ‡ä»¤</span>
        <span class="hljs-title function_">model</span>(<span class="hljs-params">node, vm, expr</span>) {
          <span class="hljs-keyword">const</span> updateFn = <span class="hljs-variable language_">this</span>.<span class="hljs-property">updater</span>.<span class="hljs-property">modelUpdater</span>;
          <span class="hljs-comment">// 1. åˆå§‹åŒ–ï¼šè®¾ç½®è¾“å…¥æ¡†é»˜è®¤å€¼</span>
          <span class="hljs-title function_">updateFn</span>(node, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getVal</span>(vm, expr));
          <span class="hljs-comment">// 2. åˆ›å»º Watcherï¼šæ•°æ®å˜åŒ–æ—¶æ›´æ–°è¾“å…¥æ¡†</span>
          <span class="hljs-keyword">new</span> <span class="hljs-title class_">Watcher</span>(vm, expr, <span class="hljs-function">(<span class="hljs-params">newValue</span>) =&gt;</span> {
            <span class="hljs-title function_">updateFn</span>(node, newValue);
          });
          <span class="hljs-comment">// 3. ç›‘å¬è¾“å…¥æ¡†äº‹ä»¶ï¼šè¾“å…¥å†…å®¹åŒæ­¥åˆ° data</span>
          node.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'input'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
            <span class="hljs-keyword">const</span> newValue = e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>;
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setVal</span>(vm, expr, newValue);
          });
        },

        <span class="hljs-comment">// å¤„ç† {{}} æ’å€¼æ–‡æœ¬</span>
        <span class="hljs-title function_">text</span>(<span class="hljs-params">node, vm, expr</span>) {
          <span class="hljs-keyword">const</span> updateFn = <span class="hljs-variable language_">this</span>.<span class="hljs-property">updater</span>.<span class="hljs-property">textUpdater</span>;
          <span class="hljs-comment">// æ›¿æ¢ {{}} ä¸ºçœŸå®æ•°æ®</span>
          <span class="hljs-keyword">const</span> content = expr.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\{\{(.+?)\}\}/g</span>, <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> {
            <span class="hljs-keyword">const</span> prop = args[<span class="hljs-number">1</span>].<span class="hljs-title function_">trim</span>();
            <span class="hljs-comment">// åˆ›å»º Watcherï¼šæ•°æ®å˜åŒ–æ—¶æ›´æ–°æ–‡æœ¬</span>
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Watcher</span>(vm, prop, <span class="hljs-function">(<span class="hljs-params">newValue</span>) =&gt;</span> {
              <span class="hljs-title function_">updateFn</span>(node, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getContentValue</span>(vm, expr));
            });
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getVal</span>(vm, prop);
          });
          <span class="hljs-comment">// åˆå§‹åŒ–æ–‡æœ¬å†…å®¹</span>
          <span class="hljs-title function_">updateFn</span>(node, content);
        },

        <span class="hljs-comment">// è·å–æ’å€¼æ–‡æœ¬çš„å®Œæ•´å†…å®¹ï¼ˆå¤„ç†å¤šä¸ª {{}} æƒ…å†µï¼‰</span>
        <span class="hljs-title function_">getContentValue</span>(<span class="hljs-params">vm, expr</span>) {
          <span class="hljs-keyword">return</span> expr.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\{\{(.+?)\}\}/g</span>, <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getVal</span>(vm, args[<span class="hljs-number">1</span>].<span class="hljs-title function_">trim</span>());
          });
        },

        <span class="hljs-comment">// DOM æ›´æ–°æ–¹æ³•é›†</span>
        <span class="hljs-attr">updater</span>: {
          <span class="hljs-comment">// æ›´æ–° v-model æŒ‡ä»¤çš„ DOMï¼ˆè¾“å…¥æ¡†å€¼ï¼‰</span>
          <span class="hljs-title function_">modelUpdater</span>(<span class="hljs-params">node, value</span>) {
            node.<span class="hljs-property">value</span> = value;
          },
          <span class="hljs-comment">// æ›´æ–°æ–‡æœ¬èŠ‚ç‚¹å†…å®¹</span>
          <span class="hljs-title function_">textUpdater</span>(<span class="hljs-params">node, value</span>) {
            node.<span class="hljs-property">textContent</span> = value;
          }
        }
      };
    }

    <span class="hljs-comment">//  5. Vue æ ¸å¿ƒç±»ï¼šæ•´åˆæ‰€æœ‰æ¨¡å— </span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Vue</span> {
      <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$el</span> = options.<span class="hljs-property">el</span>; <span class="hljs-comment">// æŒ‚è½½å…ƒç´ </span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$data</span> = options.<span class="hljs-property">data</span>; <span class="hljs-comment">// å“åº”å¼æ•°æ®</span>

        <span class="hljs-comment">// 1. å¦‚æœæœ‰æŒ‚è½½å…ƒç´ ï¼Œåˆå§‹åŒ–å“åº”å¼</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">$el</span>) {
          <span class="hljs-comment">// åŠ«æŒ data æ‰€æœ‰å±æ€§</span>
          <span class="hljs-keyword">new</span> <span class="hljs-title class_">Observer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$data</span>);
          <span class="hljs-comment">// ä»£ç† data å±æ€§åˆ° Vue å®ä¾‹ï¼ˆå¯é€šè¿‡ vm.message è®¿é—® vm.$data.messageï¼‰</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">proxyData</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$data</span>);
          <span class="hljs-comment">// è§£ææ¨¡æ¿</span>
          <span class="hljs-keyword">new</span> <span class="hljs-title class_">Compile</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$el</span>, <span class="hljs-variable language_">this</span>);
        }
      }

      <span class="hljs-comment">// ä»£ç† data å±æ€§åˆ° Vue å®ä¾‹</span>
      <span class="hljs-title function_">proxyData</span>(<span class="hljs-params">data</span>) {
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(data).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {
          <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-variable language_">this</span>, key, {
            <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) {
              <span class="hljs-keyword">return</span> data[key];
            },
            <span class="hljs-title function_">set</span>(<span class="hljs-params">newValue</span>) {
              data[key] = newValue;
            }
          });
        });
      }
    }

    <span class="hljs-comment">//  æµ‹è¯•ä¾‹å­ </span>
    <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>({
      <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,
      <span class="hljs-attr">data</span>: {
        <span class="hljs-attr">message</span>: <span class="hljs-string">'Hello Vue2 å“åº”å¼ï¼'</span>,
        <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>
      }
    });
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h2 data-id="heading-5">äºŒã€ Vue 3ï¼šåŸºäº Proxy çš„å‡çº§è¿›åŒ–</h2>
<h3 data-id="heading-6">1. æ ¸å¿ƒæ”¹è¿›</h3>
<p>Vue 3 å½»åº•æ”¾å¼ƒäº† <code>Object.defineProperty</code>ï¼Œè½¬è€Œä½¿ç”¨ ES6 çš„ <code>Proxy</code>ã€‚å®ƒä¸ä»…è§£å†³äº† Vue 2 æ— æ³•ç›‘å¬å¯¹è±¡æ–°å¢å±æ€§å’Œæ•°ç»„ç´¢å¼•çš„é—®é¢˜ï¼Œè¿˜æ˜¾è‘—æå‡äº†åˆå§‹åŒ–æ€§èƒ½ã€‚</p>
<h3 data-id="heading-7">2. å“åº”å¼æµç¨‹</h3>
<ol>
<li>
<p><strong>Proxy ä»£ç†</strong>ï¼šæ‹¦æˆªå¯¹è±¡çš„ <code>get</code> å’Œ <code>set</code>ã€‚</p>
</li>
<li>
<p><strong>ä¾èµ–è¿½è¸ª (Track)</strong> ï¼šåœ¨ <code>get</code> æ—¶ï¼Œå°†å½“å‰æ­£åœ¨æ‰§è¡Œçš„ <code>Effect</code>ï¼ˆå‰¯ä½œç”¨å‡½æ•°ï¼‰è®°å½•åœ¨å…¨å±€æ˜ å°„è¡¨ <code>targetMap</code> ä¸­ã€‚</p>
</li>
<li>
<p><strong>è§¦å‘æ›´æ–° (Trigger)</strong> ï¼šåœ¨ <code>set</code> æ—¶ï¼Œä» <code>targetMap</code> ä¸­æ‰¾åˆ°è¯¥å±æ€§å¯¹åº”çš„æ‰€æœ‰ <code>Effect</code> å¹¶é‡æ–°æ‰§è¡Œã€‚</p>
</li>
</ol>
<h3 data-id="heading-8">3. æºç ä»¿çœŸå®ç°</h3>
<p>åœ¨ Vue3ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ <code>reactive</code> å£°æ˜å“åº”å¼æ•°æ®ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vue3 åŒå‘æ•°æ®ç»‘å®šç®€æ˜“å®ç°<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- æµ‹è¯•æ¨¡æ¿ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{{ message }}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"message"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å¹´é¾„ï¼š{{ user.age }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>  <span class="hljs-attr">onclick</span>=<span class="hljs-string">"state.user.age++"</span>&gt;</span>å¹´é¾„+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"number"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"user.age"</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">//  1. ä¾èµ–ç®¡ç†æ ¸å¿ƒï¼šå­˜å‚¨ã€Œæ•°æ®-å‰¯ä½œç”¨ã€æ˜ å°„ </span>
    <span class="hljs-keyword">const</span> targetMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>(); <span class="hljs-comment">// å…¨å±€ä¾èµ–æ˜ å°„ï¼štarget â†’ key â†’ effects</span>
    <span class="hljs-keyword">let</span> activeEffect = <span class="hljs-literal">null</span>; <span class="hljs-comment">// å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‰¯ä½œç”¨å‡½æ•°</span>

    <span class="hljs-comment">// æ”¶é›†ä¾èµ–ï¼ˆè¿½è¸ªï¼‰</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">track</span>(<span class="hljs-params">target, key</span>) {
      <span class="hljs-keyword">if</span> (!activeEffect) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// æ— å‰¯ä½œç”¨å‡½æ•°åˆ™ä¸æ”¶é›†</span>
      <span class="hljs-comment">// 1. è·å– target å¯¹åº”çš„ä¾èµ–æ˜ å°„</span>
      <span class="hljs-keyword">let</span> depsMap = targetMap.<span class="hljs-title function_">get</span>(target);
      <span class="hljs-keyword">if</span> (!depsMap) {
        depsMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
        targetMap.<span class="hljs-title function_">set</span>(target, depsMap);
      }
      <span class="hljs-comment">// 2. è·å– key å¯¹åº”çš„å‰¯ä½œç”¨é›†åˆ</span>
      <span class="hljs-keyword">let</span> deps = depsMap.<span class="hljs-title function_">get</span>(key);
      <span class="hljs-keyword">if</span> (!deps) {
        deps = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(); <span class="hljs-comment">// ç”¨ Set é¿å…é‡å¤å‰¯ä½œç”¨</span>
        depsMap.<span class="hljs-title function_">set</span>(key, deps);
      }
      <span class="hljs-comment">// 3. æ·»åŠ å½“å‰å‰¯ä½œç”¨åˆ°é›†åˆ</span>
      deps.<span class="hljs-title function_">add</span>(activeEffect);
    }

    <span class="hljs-comment">// è§¦å‘ä¾èµ–æ›´æ–°</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">trigger</span>(<span class="hljs-params">target, key</span>) {
      <span class="hljs-comment">// 1. è·å– target å¯¹åº”çš„ä¾èµ–æ˜ å°„</span>
      <span class="hljs-keyword">const</span> depsMap = targetMap.<span class="hljs-title function_">get</span>(target);
      <span class="hljs-keyword">if</span> (!depsMap) <span class="hljs-keyword">return</span>;
      <span class="hljs-comment">// 2. è·å– key å¯¹åº”çš„å‰¯ä½œç”¨é›†åˆ</span>
      <span class="hljs-keyword">const</span> deps = depsMap.<span class="hljs-title function_">get</span>(key);
      <span class="hljs-keyword">if</span> (!deps) <span class="hljs-keyword">return</span>;
      <span class="hljs-comment">// 3. æ‰§è¡Œæ‰€æœ‰å‰¯ä½œç”¨å‡½æ•°</span>
      deps.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">effect</span> =&gt;</span> <span class="hljs-title function_">effect</span>());
    }

    <span class="hljs-comment">//  2. åˆ›å»ºå“åº”å¼å¯¹è±¡ï¼šreactiveï¼ˆåŸºäº Proxy + Reflectï¼‰ </span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">reactive</span>(<span class="hljs-params">target</span>) {
      <span class="hljs-comment">// éå¯¹è±¡ç›´æ¥è¿”å›</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> target !== <span class="hljs-string">'object'</span> || target === <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span> target;
      }

      <span class="hljs-comment">// åˆ›å»º Proxy ä»£ç†</span>
      <span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(target, {
        <span class="hljs-comment">// æ‹¦æˆªå±æ€§è¯»å–</span>
        <span class="hljs-title function_">get</span>(<span class="hljs-params">target, key, receiver</span>) {
          <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, key, receiver);
          <span class="hljs-title function_">track</span>(target, key); <span class="hljs-comment">// æ”¶é›†ä¾èµ–</span>
          <span class="hljs-comment">// é€’å½’å¤„ç†åµŒå¥—å¯¹è±¡ï¼ˆæ‡’ä»£ç†ï¼Œè¯»å–æ—¶æ‰åˆ›å»ºå“åº”å¼ï¼‰</span>
          <span class="hljs-keyword">return</span> <span class="hljs-title function_">reactive</span>(result);
        },
        <span class="hljs-comment">// æ‹¦æˆªå±æ€§èµ‹å€¼</span>
        <span class="hljs-title function_">set</span>(<span class="hljs-params">target, key, value, receiver</span>) {
          <span class="hljs-keyword">const</span> oldValue = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, key, receiver);
          <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, key, value, receiver);
          <span class="hljs-comment">// å€¼å˜åŒ–æ‰è§¦å‘æ›´æ–°</span>
          <span class="hljs-keyword">if</span> (oldValue !== value) {
            <span class="hljs-title function_">trigger</span>(target, key); <span class="hljs-comment">// è§¦å‘ä¾èµ–æ›´æ–°</span>
          }
          <span class="hljs-keyword">return</span> result;
        },
        <span class="hljs-comment">// æ‹¦æˆªå±æ€§åˆ é™¤ï¼ˆå¯é€‰ï¼Œè¡¥å……å®Œæ•´åº¦ï¼‰</span>
        <span class="hljs-title function_">deleteProperty</span>(<span class="hljs-params">target, key</span>) {
          <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">deleteProperty</span>(target, key);
          <span class="hljs-title function_">trigger</span>(target, key);
          <span class="hljs-keyword">return</span> result;
        }
      });

      <span class="hljs-keyword">return</span> proxy;
    }

    <span class="hljs-comment">//  3. å‰¯ä½œç”¨å‡½æ•°ï¼šeffectï¼ˆä¾èµ–æ”¶é›†çš„å…¥å£ï¼‰ </span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">effect</span>(<span class="hljs-params">fn</span>) {
      <span class="hljs-comment">// åŒ…è£…å‰¯ä½œç”¨å‡½æ•°</span>
      <span class="hljs-keyword">const</span> <span class="hljs-title function_">effectFn</span> = (<span class="hljs-params"/>) =&gt; {
        activeEffect = effectFn; <span class="hljs-comment">// æ ‡è®°å½“å‰å‰¯ä½œç”¨</span>
        <span class="hljs-title function_">fn</span>(); <span class="hljs-comment">// æ‰§è¡Œå‡½æ•°ï¼Œè§¦å‘ get æ‹¦æˆªï¼Œæ”¶é›†ä¾èµ–</span>
        activeEffect = <span class="hljs-literal">null</span>; <span class="hljs-comment">// é‡ç½®</span>
      };
      <span class="hljs-title function_">effectFn</span>(); <span class="hljs-comment">// ç«‹å³æ‰§è¡Œä¸€æ¬¡ï¼Œå®Œæˆåˆå§‹ä¾èµ–æ”¶é›†</span>
      <span class="hljs-keyword">return</span> effectFn;
    }

    <span class="hljs-comment">//  4. æ¨¡æ¿è§£æå™¨ï¼šCompileï¼ˆè§£æ {{}} å’Œ v-modelï¼‰ </span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Compile</span> {
      <span class="hljs-title function_">constructor</span>(<span class="hljs-params">el, data</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(el); <span class="hljs-comment">// æŒ‚è½½å…ƒç´ </span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data; <span class="hljs-comment">// å“åº”å¼æ•°æ®</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">fragment</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createFragment</span>(); <span class="hljs-comment">// åˆ›å»ºæ–‡æ¡£ç¢ç‰‡</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">compile</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">fragment</span>); <span class="hljs-comment">// è§£ææ¨¡æ¿</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">fragment</span>); <span class="hljs-comment">// æŒ‚è½½åˆ° DOM</span>
      }

      <span class="hljs-comment">// åˆ›å»ºæ–‡æ¡£ç¢ç‰‡ï¼ˆå‡å°‘ DOM æ“ä½œï¼‰</span>
      <span class="hljs-title function_">createFragment</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">const</span> fragment = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createDocumentFragment</span>();
        <span class="hljs-keyword">let</span> child;
        <span class="hljs-keyword">while</span> (child = <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>.<span class="hljs-property">firstChild</span>) {
          fragment.<span class="hljs-title function_">appendChild</span>(child);
        }
        <span class="hljs-keyword">return</span> fragment;
      }

      <span class="hljs-comment">// æ ¸å¿ƒè§£ææ–¹æ³•</span>
      <span class="hljs-title function_">compile</span>(<span class="hljs-params">node</span>) {
        <span class="hljs-keyword">if</span> (node.<span class="hljs-property">nodeType</span> === <span class="hljs-number">1</span>) { <span class="hljs-comment">// å…ƒç´ èŠ‚ç‚¹ï¼ˆè§£æ v-modelï¼‰</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">compileElement</span>(node);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (node.<span class="hljs-property">nodeType</span> === <span class="hljs-number">3</span> &amp;&amp; <span class="hljs-regexp">/\{\{(.+?)\}\}/</span>.<span class="hljs-title function_">test</span>(node.<span class="hljs-property">textContent</span>)) { <span class="hljs-comment">// æ–‡æœ¬èŠ‚ç‚¹ï¼ˆè§£æ {{}}ï¼‰</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">compileText</span>(node);
        }

        <span class="hljs-comment">// é€’å½’è§£æå­èŠ‚ç‚¹</span>
        node.<span class="hljs-property">childNodes</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">child</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">compile</span>(child));
      }

      <span class="hljs-comment">// è§£æå…ƒç´ èŠ‚ç‚¹ï¼ˆv-model æŒ‡ä»¤ï¼‰</span>
      <span class="hljs-title function_">compileElement</span>(<span class="hljs-params">node</span>) {
        <span class="hljs-keyword">const</span> attrs = node.<span class="hljs-property">attributes</span>;
        <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(attrs).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">attr</span> =&gt;</span> {
          <span class="hljs-keyword">const</span> { name, value } = attr;
          <span class="hljs-keyword">if</span> (name === <span class="hljs-string">'v-model'</span>) { <span class="hljs-comment">// å¤„ç† v-model</span>
            <span class="hljs-comment">// 1. åˆå§‹åŒ–ï¼šç”¨å“åº”å¼æ•°æ®è®¾ç½® DOM å€¼</span>
            node.<span class="hljs-property">value</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getVal</span>(value);
            <span class="hljs-comment">// 2. ç›‘å¬è¾“å…¥äº‹ä»¶ï¼ŒåŒæ­¥åˆ°å“åº”å¼æ•°æ®</span>
            node.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'input'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setVal</span>(value, e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>);
            });
            <span class="hljs-comment">// 3. ç›‘å¬æ•°æ®å˜åŒ–ï¼Œæ›´æ–° DOM</span>
            <span class="hljs-title function_">effect</span>(<span class="hljs-function">() =&gt;</span> {
              node.<span class="hljs-property">value</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getVal</span>(value);
            });
            <span class="hljs-comment">// ç§»é™¤æŒ‡ä»¤å±æ€§ï¼ˆå¯é€‰ï¼Œç¾åŒ– DOMï¼‰</span>
            node.<span class="hljs-title function_">removeAttribute</span>(name);
          }
        });
      }

      <span class="hljs-comment">// è§£ææ–‡æœ¬èŠ‚ç‚¹ï¼ˆ{{}} æ’å€¼ï¼‰</span>
      <span class="hljs-title function_">compileText</span>(<span class="hljs-params">node</span>) {
        <span class="hljs-keyword">const</span> reg = <span class="hljs-regexp">/\{\{(.+?)\}\}/g</span>;
        <span class="hljs-keyword">const</span> text = node.<span class="hljs-property">textContent</span>;
        <span class="hljs-comment">// æ›¿æ¢ {{}} ä¸ºçœŸå®æ•°æ®ï¼Œå¹¶åˆ›å»ºå‰¯ä½œç”¨</span>
        node.<span class="hljs-property">textContent</span> = text.<span class="hljs-title function_">replace</span>(reg, <span class="hljs-function">(<span class="hljs-params">_, expr</span>) =&gt;</span> {
          <span class="hljs-keyword">const</span> prop = expr.<span class="hljs-title function_">trim</span>();
          <span class="hljs-comment">// ç›‘å¬æ•°æ®å˜åŒ–ï¼Œæ›´æ–°æ–‡æœ¬</span>
          <span class="hljs-title function_">effect</span>(<span class="hljs-function">() =&gt;</span> {
            node.<span class="hljs-property">textContent</span> = text.<span class="hljs-title function_">replace</span>(reg, <span class="hljs-function">(<span class="hljs-params">_, innerExpr</span>) =&gt;</span> {
              <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getVal</span>(innerExpr.<span class="hljs-title function_">trim</span>());
            });
          });
          <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getVal</span>(prop);
        });
      }

      <span class="hljs-comment">// è·å–å“åº”å¼æ•°æ®çš„å€¼ï¼ˆå¤„ç†åµŒå¥—ï¼Œå¦‚ user.ageï¼‰</span>
      <span class="hljs-title function_">getVal</span>(<span class="hljs-params">expr</span>) {
        <span class="hljs-keyword">return</span> expr.<span class="hljs-title function_">split</span>(<span class="hljs-string">'.'</span>).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">data, key</span>) =&gt;</span> {
          <span class="hljs-keyword">return</span> data[key];
        }, <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>);
      }

      <span class="hljs-comment">// è®¾ç½®å“åº”å¼æ•°æ®çš„å€¼ï¼ˆå¤„ç†åµŒå¥—ï¼Œå¦‚ user.ageï¼‰</span>
      <span class="hljs-title function_">setVal</span>(<span class="hljs-params">expr, value</span>) {
        <span class="hljs-keyword">return</span> expr.<span class="hljs-title function_">split</span>(<span class="hljs-string">'.'</span>).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">data, key, index, arr</span>) =&gt;</span> {
          <span class="hljs-keyword">if</span> (index === arr.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>) {
            <span class="hljs-comment">// å¤„ç†æ•°å­—ç±»å‹ï¼ˆå¦‚ ageï¼‰</span>
            <span class="hljs-keyword">return</span> data[key] = <span class="hljs-built_in">isNaN</span>(<span class="hljs-title class_">Number</span>(value)) ? value : <span class="hljs-title class_">Number</span>(value);
          }
          <span class="hljs-keyword">return</span> data[key];
        }, <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>);
      }
    }

    <span class="hljs-comment">//  4. æµ‹è¯•ä»£ç  </span>
    <span class="hljs-comment">// 1. åˆ›å»ºå“åº”å¼æ•°æ®</span>
    <span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({
      <span class="hljs-attr">message</span>: <span class="hljs-string">'Hello Vue3 åŒå‘ç»‘å®šï¼'</span>,
      <span class="hljs-attr">user</span>: {
        <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>
      }
    });

    <span class="hljs-comment">// 2. è§£ææ¨¡æ¿ï¼Œå®ŒæˆåŒå‘ç»‘å®š</span>
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Compile</span>(<span class="hljs-string">'#app'</span>, state);

    <span class="hljs-comment">// æš´éœ²åˆ°å…¨å±€ï¼Œæ–¹ä¾¿æ§åˆ¶å°æµ‹è¯•</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">state</span> = state;
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>

</code></pre>
<h2 data-id="heading-9">ä¸‰ã€ æ€»ç»“ï¼šVue 2 vs Vue 3 å“åº”å¼å¯¹æ¯”</h2>






























<table><thead><tr><th><strong>ç‰¹æ€§</strong></th><th><strong>Vue 2 (defineProperty)</strong></th><th><strong>Vue 3 (Proxy)</strong></th></tr></thead><tbody><tr><td><strong>æ€§èƒ½</strong></td><td>å¿…é¡»å…¨é‡éå†å±æ€§ï¼Œå¼€é”€å¤§</td><td>æ‡’ä»£ç†ï¼ˆè¯»å–æ—¶æ‰å¤„ç†ï¼‰ï¼Œæ›´é«˜æ•ˆ</td></tr><tr><td><strong>åŠ¨æ€æ€§</strong></td><td>æ— æ³•æ£€æµ‹å±æ€§æ–°å¢ã€åˆ é™¤</td><td>å®Œç¾æ”¯æŒå±æ€§æ–°å¢ã€åˆ é™¤åŠæ•°ç»„ç´¢å¼•</td></tr><tr><td><strong>å®ç°å¤æ‚åº¦</strong></td><td>éœ€è¦æ‰‹åŠ¨é‡å†™æ•°ç»„æ–¹æ³•</td><td>åŸç”Ÿæ”¯æŒæ‰€æœ‰å¯¹è±¡æ“ä½œ</td></tr><tr><td><strong>å…¼å®¹æ€§</strong></td><td>æ”¯æŒ IE9+</td><td>ä¸æ”¯æŒ IE (ä¾èµ– ES6)</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Go çš„ä¸‰ç§ Option è®¾è®¡ï¼šä»è½»é‡ Functional Options åˆ° gRPC/OTel è¿›é˜¶ç©æ³•]]></title>    <link>https://juejin.cn/post/7602225961095807010</link>    <guid>https://juejin.cn/post/7602225961095807010</guid>    <pubDate>2026-02-03T10:01:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602225961095807010" data-draft-id="7602216700747808768" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Go çš„ä¸‰ç§ Option è®¾è®¡ï¼šä»è½»é‡ Functional Options åˆ° gRPC/OTel è¿›é˜¶ç©æ³•"/> <meta itemprop="keywords" content="Go"/> <meta itemprop="datePublished" content="2026-02-03T10:01:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸‹æ¬¡ä¸€å®š57"/> <meta itemprop="url" content="https://juejin.cn/user/3722294009017404"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Go çš„ä¸‰ç§ Option è®¾è®¡ï¼šä»è½»é‡ Functional Options åˆ° gRPC/OTel è¿›é˜¶ç©æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3722294009017404/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸‹æ¬¡ä¸€å®š57
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T10:01:21.000Z" title="Tue Feb 03 2026 10:01:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨ Go é‡Œï¼Œæ„é€ å‡½æ•°ç»å¸¸ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šå‚æ•°è¶Šæ¥è¶Šå¤šã€‚ä¾‹å¦‚  <code>NewServer(port, healthz, middlewares, jwt, serviceName, ...) </code> è¿™ç§å‡½æ•°ç­¾åï¼Œä¸€æ—¦éœ€æ±‚å¢é•¿å°±ä¼šå˜æˆâ€œå‚æ•°ç¾éš¾â€ï¼š</p>
<ul>
<li>
<p>å¯è¯»æ€§å·®ï¼šè°ƒç”¨å¤„ä¸€ä¸²å‚æ•°ï¼Œçœ‹ä¸å‡ºè°æ˜¯è°</p>
</li>
<li>
<p>æ˜“ç”¨æ€§å·®ï¼šå¯é€‰é¡¹å¾ˆå¤šæ—¶ï¼Œå¿…é¡»ä¼ ä¸€å †é»˜è®¤å€¼å ä½</p>
</li>
<li>
<p>å…¼å®¹æ€§å·®ï¼šæ–°å¢ä¸€ä¸ªå‚æ•°å°±ç ´åæ‰€æœ‰è°ƒç”¨æ–¹ï¼ˆç¼–è¯‘æŠ¥é”™ï¼‰</p>
</li>
<li>
<p>ç»´æŠ¤æˆæœ¬é«˜ï¼šå‚æ•°é¡ºåºã€é»˜è®¤å€¼ã€æ ¡éªŒé€»è¾‘åˆ†æ•£</p>
</li>
</ul>
<p><code>NewServer</code>å‚æ•°æ³›æ»¥é—®é¢˜ï¼Œæ­£æ˜¯ Go è¯­è¨€ä¸­æ„é€ å‡½æ•°çš„å¸¸è§ç—›ç‚¹ï¼Œè€Œ<strong>å‡½æ•°å¼é€‰é¡¹æ¨¡å¼ï¼ˆFunctional Options Patternï¼‰</strong> æ˜¯åº”å¯¹è¿™ç±»åœºæ™¯çš„ä¼˜é›…æœ€ä¼˜è§£ã€‚å®ƒä¸ç›´æ¥ä¼ é€’é›¶æ•£å‚æ•°ï¼Œè€Œæ˜¯å°†æ¯ä¸ªé…ç½®é¡¹å°è£…ä¸ºç‹¬ç«‹çš„ â€œé€‰é¡¹å‡½æ•°â€ï¼Œæ„é€ å‡½æ•°ä»…æ¥æ”¶å¯å˜é•¿åº¦çš„é€‰é¡¹å‡½æ•°åˆ‡ç‰‡ï¼Œå†…éƒ¨éå†æ‰§è¡Œä»¥å®Œæˆç»“æ„ä½“åˆå§‹åŒ–ã€‚è¿™ç§æ¨¡å¼å®Œç¾æ”»å…‹å‚æ•°ç¾éš¾çš„å››å¤§ç—›ç‚¹ã€‚</p>
<p>ä¸ºäº†åœ¨ä¸åŒå¤æ‚åº¦ä¸å·¥ç¨‹çº¦æŸä¸‹éƒ½èƒ½è½åœ°ï¼Œå‡½æ•°å¼é€‰é¡¹æ¨¡å¼åœ¨å®è·µä¸­å¸¸è§ä¸‰ç§å˜ä½“ï¼šï¼ˆ1ï¼‰è½»é‡å‡½æ•°å‹ï¼šæ ·æ¿ä»£ç æœ€å°‘ã€ä¸Šæ‰‹æœ€å¿«ï¼›ï¼ˆ2ï¼‰æ¥å£ + é…ç½®è½½ä½“å‹ï¼ˆ<code>gRPC</code> é£æ ¼ï¼‰ï¼šè¿›ä¸€æ­¥è§£è€¦ï¼Œé¿å…æ ¸å¿ƒç»“æ„ä½“è¢«é…ç½®â€œæ±¡æŸ“â€ï¼›ï¼ˆ3ï¼‰ä¸å¯å˜é…ç½®å‹ï¼ˆ<code>OpenTelemetry</code> é£æ ¼ï¼‰ï¼šé€šè¿‡å€¼ä¼ é€’è¿”å›æ–°é…ç½®ï¼Œæ›´åˆ©äºå¹¶å‘å®‰å…¨ä¸é…ç½®å¯è¿½æº¯ã€‚ä¸‹é¢æŒ‰é¡ºåºé€ä¸€å±•å¼€ã€‚</p>
<h2 data-id="heading-1">ç¬¬ä¸€ç§ï¼šè½»é‡ç‰ˆ Functional Optionsï¼ˆæœ€å¸¸è§ï¼‰</h2>
<p>è¿™æ˜¯<strong>å‡½æ•°å¼é€‰é¡¹æ¨¡å¼</strong>æœ€åŸºç¡€ã€ç®€æ´çš„å®ç°å½¢å¼ï¼Œæ ¸å¿ƒæ— éœ€å¼•å…¥å¤æ‚æ¥å£ï¼Œä»…é€šè¿‡<strong>å®šä¹‰ä¸€ä¸ªæ¥æ”¶ç›®æ ‡ç»“æ„ä½“æŒ‡é’ˆçš„å‡½æ•°ç±»å‹</strong>ï¼Œå†å°è£…ä¸€ç³»åˆ—<code>WithXXX</code>å‘½åçš„å·¥å‚å‡½æ•°ï¼Œè¿”å›èƒ½ä¿®æ”¹ç»“æ„ä½“å­—æ®µçš„é—­åŒ…å³å¯ã€‚æ„é€ å‡½æ•°ä¸­å…ˆåˆå§‹åŒ–ç»“æ„ä½“çš„åˆç†é»˜è®¤å€¼ï¼Œå†éå†æ‰§è¡Œä¼ å…¥çš„æ‰€æœ‰é€‰é¡¹å‡½æ•°ï¼Œè¦†ç›–ç”¨æˆ·éœ€è¦è‡ªå®šä¹‰çš„é…ç½®ã€‚è¿™ç§æ¨¡å¼ä»¥æç®€çš„ä»£ç é‡è§£å†³äº†å¤šå‚æ•°æ„é€ å‡½æ•°çš„å››å¤§ç—›ç‚¹ã€‚</p>
<p>ä¸‹é¢ä¾‹å­æ˜¯ç®€å•çš„å¯¹ <code>gin</code>  è¿›è¡Œå°è£…çš„ <code>Server</code> ç«¯ï¼Œç®€åŒ–äº†å¤§éƒ¨åˆ†é€»è¾‘ï¼Œç”¨æ¥è®¤è¯†è¿™ç§å®ç°å½¢å¼ï¼Œåœ¨ç”¨æ—¶å¯æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘è‡ªè¡Œæ·»åŠ ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// å®šä¹‰é€‰é¡¹å‡½æ•°ç±»å‹ æ¥æ”¶*ServeræŒ‡é’ˆï¼Œç”¨äºä¿®æ”¹ç»“æ„ä½“å­—æ®µ</span>
<span class="hljs-keyword">type</span> ServerOption <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(*Server)</span></span>

<span class="hljs-comment">// WithServiceName è®¾ç½®æœåŠ¡åç§°</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">WithServiceName</span><span class="hljs-params">(srvName <span class="hljs-type">string</span>)</span></span> ServerOption {
	<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(s *Server)</span></span> {
		s.serviceName = srvName
	}
}
<span class="hljs-comment">// WithPort è®¾ç½®æœåŠ¡ç«¯å£</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">WithPort</span><span class="hljs-params">(port <span class="hljs-type">int</span>)</span></span> ServerOption {
	<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(s *Server)</span></span> {
		s.port = port
	}
}
<span class="hljs-comment">// WithMiddlewares è®¾ç½®ä¸­é—´ä»¶åˆ—è¡¨</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">WithMiddlewares</span><span class="hljs-params">(middlewares []<span class="hljs-type">string</span>)</span></span> ServerOption {
	<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(s *Server)</span></span> {
		s.middlewares = middlewares
	}
}
<span class="hljs-comment">// WithHealthz è®¾ç½®å¥åº·æ£€æŸ¥å¼€å…³</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">WithHealthz</span><span class="hljs-params">(healthz <span class="hljs-type">bool</span>)</span></span> ServerOption {
	<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(s *Server)</span></span> {
		s.healthz = healthz
	}
}

</code></pre>
<p>è¿™ç§å½¢å¼ä¸€èˆ¬éƒ½æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªä¸º <code>option.go</code>ï¼Œ ä¸€ä¸ªä¸º <code>Server.go</code>ï¼Œåœ¨ç¨‹åºçš„ä¸»å…¥å£ï¼Œç›´æ¥è°ƒç”¨ ã€‚<code>NewServer(With...)</code>å‡½æ•°ï¼Œæ‹¿åˆ°è¿”å›å€¼ <code>srv</code> ä¹‹åï¼Œå³å¯é€šè¿‡ <code>srv.Start()</code> å¯åŠ¨æœåŠ¡ï¼Œå½“ç„¶å¯ä»¥æ ¹æ®è‡ªå·±åŠ æ›´å¤šé€»è¾‘ï¼Œæ¯”å¦‚ä¼˜é›…é€€å‡ºç­‰ç­‰ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> Server <span class="hljs-keyword">struct</span> {
	*gin.Engine
	port <span class="hljs-type">int</span>
	<span class="hljs-comment">// æ˜¯å¦å¼€å¯å¥åº·æ£€æŸ¥æ¥å£ï¼Œ é»˜è®¤å¼€å¯ï¼Œ å¦‚æœå¼€å¯ä¼šè‡ªåŠ¨æ·»åŠ  /health æ¥å£</span>
	healthz <span class="hljs-type">bool</span>
	<span class="hljs-comment">// ä¸­é—´ä»¶</span>
	middlewares []<span class="hljs-type">string</span>
    <span class="hljs-comment">// jwté…ç½®ä¿¡æ¯ åç»­è‡ªå·±å¯æ‰©å±•</span>
	jwt *JwtInfo
	server *http.Server
	serviceName <span class="hljs-type">string</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewServer</span><span class="hljs-params">(opts ...ServerOption)</span></span> *Server {
	srv := &amp;Server{
		port:            <span class="hljs-number">8080</span>,
		healthz:         <span class="hljs-literal">true</span>,
		serviceName: <span class="hljs-string">"test"</span>,
        Engine:      gin.Default(),
	}

	<span class="hljs-keyword">for</span> _, o := <span class="hljs-keyword">range</span> opts {
		o(srv)
	}
	
	<span class="hljs-comment">// éå†ç”¨æˆ·ä¼ çš„ä¸­é—´ä»¶ åœ¨è‡ªå·±åº“ä¸­æŸ¥æ‰¾ æ²¡æ‰¾åˆ°å°±è·³è¿‡ è¿™æ˜¯åªæ˜¯ä¸ºäº†æ¼”ç¤ºé…ç½®</span>
	<span class="hljs-keyword">for</span> _, m := <span class="hljs-keyword">range</span> srv.middlewares {
		mw, ok := Middlewares[m]
		<span class="hljs-keyword">if</span> !ok {
			log.Warnf(<span class="hljs-string">"can not find middleware: %s"</span>, m)
			<span class="hljs-keyword">continue</span>
		}

		log.Infof(<span class="hljs-string">"intall middleware: %s"</span>, m)
		srv.Engine.Use(mw)
	}
    
    <span class="hljs-keyword">return</span> srv
}

<span class="hljs-comment">// ç»‘å®šä¸€äº›æ–¹æ³• </span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(s *Server)</span></span> Start(ctx context.Context) <span class="hljs-type">error</span> {}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(s *Server)</span></span> Stop(ctx context.Context) <span class="hljs-type">error</span> {}



<span class="hljs-comment">// è¿™é‡Œçš„ä»£ç æ˜¯æ”¾åˆ°å…¶ä»–ç›®å½•çš„ ç”±äºè¿™é‡Œä¼šç”¨åˆ° è‡ªå·±å»å†™çš„æ—¶å€™ å»ºè®®ä¸è¦æ”¾åˆ°è¿™é‡Œ</span>
<span class="hljs-keyword">var</span> Middlewares = defaultMiddlewares()

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">defaultMiddlewares</span><span class="hljs-params">()</span></span> <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]gin.HandlerFunc {
	<span class="hljs-keyword">return</span> <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]gin.HandlerFunc{
		<span class="hljs-string">"cors"</span>:     Cors(),  <span class="hljs-comment">// è·¨åŸŸçš„ä¸­é—´ä»¶ éœ€è‡ªè¡Œå®ç°è·¨åŸŸé€»è¾‘</span>
		<span class="hljs-string">"context"</span>:  Context(), <span class="hljs-comment">// è‡ªå®šä¹‰ä¸Šä¸‹æ–‡ä¼ é€’ä¸­é—´ä»¶ï¼Œéœ€è‡ªè¡Œå®ç°</span>
	}
}

</code></pre>
<h2 data-id="heading-2">ç¬¬äºŒç§ï¼šæ¥å£å‹é€‰é¡¹æ¨¡å¼ï¼ˆ<code>gRPC</code> ç»å…¸å®ç°ï¼‰</h2>
<p>è¿™ç§æ¨¡å¼æ˜¯åŸºç¡€å‡½æ•°å¼é€‰é¡¹çš„è¿›é˜¶ï¼Œæ ¸å¿ƒæ˜¯å¼•å…¥äº†<strong>é€‰é¡¹æ¥å£</strong>ï¼ˆ<code>DialOption</code>ï¼‰å’Œ<strong>ä¸“é—¨çš„é…ç½®è½½ä½“ç»“æ„ä½“</strong>ï¼ˆ<code>dialOptions</code>ï¼‰ï¼Œä¸å†è®©é€‰é¡¹å‡½æ•°ç›´æ¥è€¦åˆç›®æ ‡ç»“æ„ä½“ï¼ˆ<code>ClientConn</code>ï¼‰ã€‚é€šè¿‡å®šä¹‰<code>apply</code>æ–¹æ³•ä½œä¸ºæ¥å£çº¦å®šï¼Œå°†æ‰€æœ‰é…ç½®é¡¹èšåˆåˆ°<code>dialOptions</code>ä¸­ï¼Œé€‰é¡¹çš„å®ç°éƒ½å›´ç»•è¿™ä¸ªé…ç½®è½½ä½“å±•å¼€ï¼Œæœ€ååœ¨æ„é€ å‡½æ•°ä¸­ç»Ÿä¸€å°†é…ç½®åº”ç”¨åˆ°ç›®æ ‡ç»“æ„ä½“ã€‚è¿™ç§æ¨¡å¼è®©é…ç½®é€»è¾‘ä¸ç›®æ ‡ç»“æ„ä½“è§£è€¦ï¼ŒåŒæ—¶æ¥å£çš„çº¦æŸè®©é€‰é¡¹æ‰©å±•æ›´å…·è§„èŒƒæ€§ã€‚</p>
<p>ä»£ç ä¸­æœ‰æ³¨é‡Šï¼Œç­‰äº†è§£å®Œä»£ç ï¼Œå†å›è¿‡å¤´çœ‹ä¸‹é¢æ–‡å­—ä¼šæœ‰æ›´æ·±çš„ç†è§£ã€‚</p>
<p>é¦–å…ˆç¬¬ä¸€ç‚¹<strong>è§£è€¦</strong>ï¼Œè§£è€¦æ— è®ºåœ¨å“ªç§è¯­è¨€ä¸­æåˆ°ï¼Œå¤§éƒ¨åˆ†å°±æ˜¯å¤šåŠ ä¸€å±‚ï¼Œè¿™é‡Œä¹Ÿæ˜¯åŒç†ã€‚æ¯”å¦‚åœ¨ç¬¬ä¸€ç§åŸºç¡€çš„é€‰é¡¹æ¨¡å¼ä¸­ï¼Œéšç€åŠŸèƒ½è¶Šæ¥è¶Šå®Œå–„ï¼Œè¦æ–°åŠ ä¸€äº›è¶…æ—¶å­—æ®µï¼Œæ¯”å¦‚è¿æ¥è¶…æ—¶è¯»å†™è¶…æ—¶ï¼Œæˆ–è€…å°±æ˜¯å•çº¯åŠ å­—æ®µï¼Œè¿™ä¸ªæ—¶å€™ï¼Œåªèƒ½åœ¨ <code>Server</code>ç»“æ„ä½“ä¸­æ·»åŠ è¿™äº›å­—æ®µï¼Œç„¶åè¿˜è¦æ‰‹åŠ¨å»å†™å®ƒä»¬çš„é»˜è®¤å€¼ï¼Œå†åŠ ä¸€äº› <code>with...()</code> æ–¹æ³•ï¼Œæˆ‘ä»¬è¦æ¸…æ¥šçš„æ˜¯è¿™ä¸ªç»“æ„ä½“æ ¸å¿ƒèŒè´£æ˜¯ â€œç®¡ç†ç½‘ç»œè¿æ¥â€ï¼Œä½†æœ€ç»ˆå´å¡æ»¡äº†è¶…æ—¶è¿˜æœ‰ä¸€å †é¢å¤–åŠ çš„é…ç½®é¡¹ï¼Œå¯è¯»æ€§å’Œç»´æŠ¤æ€§æå·®ï¼Œè¿™å°±æ˜¯å¸¸è¯´çš„ä¸šåŠ¡ç»“æ„ä½“è¢«é…ç½® â€œæ±¡æŸ“â€ï¼Œä¸‹é¢è¿™ä¸€ç§å°±æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ<code>DialOption</code>æ¥å£ + <code>dialOptions</code> é…ç½®è½½ä½“ï¼ˆ<code>dialOptions</code> é‡Œé¢æ‰¿æ‹…äº†æ‰€æœ‰é…ç½®ç›¸å…³çš„é€»è¾‘ ï¼‰ï¼Œä½¿å¾— <code>ClientConn </code>åªä¸“æ³¨äºè‡ªå·±çš„æ ¸å¿ƒä¸šåŠ¡ï¼Œéœ€æ±‚è¿­ä»£æ—¶å®Œå…¨ä¸ç”¨æ”¹åŠ¨<code>ClientConn</code>ã€‚</p>
<p>ç¬¬äºŒç‚¹<strong>æ‰©å±•æ€§</strong>ï¼Œè¿™ä¹Ÿæºäº Go é¢å‘æ¥å£ç¼–ç¨‹æ€æƒ³ï¼Œåœ¨Goè¯­è¨€ä¸­ï¼Œ<strong>æ¥å£çº¦å®šä¼˜äºå®ç°</strong>ï¼š<code>DialOption</code>æ¥å£åªå®šä¹‰äº†<code>apply(*dialOptions)</code>ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™æ˜¯ä¸€ç§<strong>è¡Œä¸ºçº¦å®š</strong>ï¼Œå®ƒä¸å…³å¿ƒå®ç°è€…æ˜¯<code>funcDialOption</code>è¿˜æ˜¯å…¶ä»–å®ç°æ¯”å¦‚è‡ªå·±å®ç°ä¸€ä¸ª<code>ValidateTargetOption</code>ï¼Œåªè¦æ»¡è¶³è¿™ä¸ªè¡Œä¸ºçº¦å®šï¼Œå°±èƒ½è¢«æ„é€ å‡½æ•°å¤„ç†ã€‚</p>
<p>æ¯”å¦‚ç°åœ¨éœ€è¦éªŒè¯åˆæ³•æ€§ï¼Œå¦‚æœè¯´æ˜¯ç¬¬ä¸€ç§ï¼Œå¿…ç„¶æ˜¯åœ¨éœ€è¦éªŒè¯çš„ <code>with...()</code> å‡½æ•°ä¸­æ·»åŠ ï¼Œæ— ç–‘æ˜¯éœ€è¦ä¿®æ”¹æ ¸å¿ƒé€»è¾‘ï¼Œè¿™é‡Œåªæ˜¯ä¸¾ä¸€ä¸ªå¾ˆå¥½ç†è§£çš„ä¾‹å­ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ¯”å¦‚é“¾è·¯è·Ÿè¸ªï¼Œæœ‰äº†ä¸€ä¸ªå…¬è®¤çš„è§„èŒƒ <code>OpenTelemetry</code>  å¯ä»¥ç†è§£æˆç±»ä¼¼ <code>Type-C</code> ç¡¬ä»¶åè®®è§„èŒƒï¼Œè¿™æ—¶å€™ä½ çš„ç³»ç»Ÿè¦æ¥å…¥é“¾è·¯è·Ÿè¸ªï¼Œä¹‹å‰å¯èƒ½ç”¨çš„ä¸æ˜¯è¿™ç§è§„èŒƒï¼Œå¦‚æœç”¨ç¬¬ä¸€ç§ï¼Œæ— ç–‘æ˜¯éœ€è¦ä¿®æ”¹æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œå¦‚æœæ˜¯è¿™ä¸€ç§ï¼Œé€»è¾‘éƒ½å†é…ç½®å±‚ï¼Œæ ¸å¿ƒé€»è¾‘ä¸éœ€è¦åŠ¨ï¼Œè¿™é‡Œç»™å¤§å®¶ç”¨ <code>ValidateTargetOption</code>  è‡ªå·±å†™çš„å®ç°æ¥å£çš„ç»“æ„ä½“ï¼Œç”¨äºéªŒè¯<code>url</code> æ˜¯å¦åˆæ³•ï¼Œæ”¾åœ¨æ–‡ç« æœ€åã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> DialOption <span class="hljs-keyword">interface</span> {
	apply(*dialOptions)
}

<span class="hljs-comment">// å®ç°ä¸Šé¢æ¥å£ </span>
<span class="hljs-keyword">type</span> funcDialOption <span class="hljs-keyword">struct</span> {
    <span class="hljs-comment">// ç»“æ„ä½“å­—æ®µæ˜¯å‡½æ•°</span>
	f <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(*dialOptions)</span></span>
}
<span class="hljs-comment">// è¿™ä¸ªæ–¹æ³• åœ¨åç»­ NewClient ä¼šç”¨åˆ°</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(fdo *funcDialOption)</span></span> apply(do *dialOptions) {
    <span class="hljs-comment">// fdo.f æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå‡½æ•° func(*dialOptions) é‡Œé¢æœ‰ä¸€äº›é€»è¾‘ é€»è¾‘æ˜¯é€šè¿‡ with...() ä¼ æ¥çš„ å¯ä»¥çœ‹å®Œä¸‹é¢çš„åœ¨å›æ¥ç†è§£</span>
    <span class="hljs-comment">// æŠŠä¼ æ¥çš„ dialOptions é…ç½®é¡¹ï¼ˆå…¨å±€å”¯ä¸€ï¼‰ æ”¾å…¥fè¿™ä¸ªå‡½æ•°ä¸­æ‰§è¡Œå¯¹åº”é€»è¾‘ è¿™äº›é€»è¾‘å°±æ˜¯å‘å®ƒçš„å„ä¸ªå­—æ®µèµ‹å€¼</span>
	fdo.f(do)
}

<span class="hljs-comment">// ä¸» ClientConn é‡Œé¢æœ‰ä¸ª dialOptions è¿™ä¸ªå­—æ®µå°±è§£è€¦äº†</span>
<span class="hljs-keyword">type</span> dialOptions <span class="hljs-keyword">struct</span> {
	unaryInt  UnaryClientInterceptor
	streamInt StreamClientInterceptor
	chainUnaryInts  []UnaryClientInterceptor
	chainStreamInts []StreamClientInterceptor
    target 						<span class="hljs-type">string</span>
	compressorV0                Compressor
	dc                          Decompressor
	bs                          internalbackoff.Strategy
	block                       <span class="hljs-type">bool</span>
	returnLastError             <span class="hljs-type">bool</span>
	timeout                     time.Duration
 	disableHealthCheck          <span class="hljs-type">bool</span>
   <span class="hljs-comment">// ..... ç­‰ç­‰ä¸€ç³»åˆ—é…ç½®ç›¸å…³çš„  å·§å¦™çš„ä¸ ä¸» ClientConn åˆ†å¼€ è¿™ä½¿å¾— ClientConn åªä¸“æ³¨äºè‡ªå·±çš„æ ¸å¿ƒä¸šåŠ¡</span>
}


<span class="hljs-comment">// è¿™ä¸ªå‡½æ•°æ˜¯ç”¨äºå°è£…çš„ è¿™ä½¿å¾— ä»¥åçš„ with æ–¹æ³•ç›´æ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿”å› å®ç°æ¥å£çš„ funcDialOption ç»“æ„ä½“</span>
<span class="hljs-comment">/* 
æ‹†è§£ä¸€ä¸‹è¿™ä¸ªå‡½æ•°ä¾¿äºç†è§£ï¼š 
é¦–å…ˆ newFuncDialOption æ¥æ”¶çš„å‚æ•°å°±æ˜¯ä¸€ä¸ª f å‡½æ•° å‡½æ•°é•¿ç›¸æ˜¯ func(*dialOptions) æ²¡æœ‰è¿”å›å€¼ï¼Œå½¢å‚ä»‹ç»å®Œæˆ
å…¶æ¬¡ï¼šnewFuncDialOption çš„è¿”å›å€¼ å°±æ˜¯ å®ç°æ¥å£çš„ funcDialOption ç»“æ„ä½“  è¿”å›å€¼ä»‹ç»å®Œæˆ
å‡½æ•°å†…å®¹ï¼šå®ç°æ¥å£çš„ funcDialOption ç»“æ„ä½“ æœ‰ä¸ªå­—æ®µæ˜¯å‡½æ•° æŠŠä¼ æ¥çš„å½¢å‚ç›´æ¥èµ‹å€¼ä¸Šå¹¶è¿”å›
*/</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">newFuncDialOption</span><span class="hljs-params">(f <span class="hljs-keyword">func</span>(*dialOptions)</span></span>) *funcDialOption {
	<span class="hljs-keyword">return</span> &amp;funcDialOption{
		f: f,
	}
}

<span class="hljs-comment">// å¤§å®¶çœ‹å®Œè¿™ç§ with å‡½æ•°è¿”å›çš„ å†…éƒ¨é€»è¾‘  å°±èƒ½æ˜ç™½ å°±æ˜¯ç»™ dialOptions é‡Œé¢çš„å€¼èµ‹å€¼çš„</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">WithChainUnaryInterceptor</span><span class="hljs-params">(interceptors ...UnaryClientInterceptor)</span></span> DialOption {
	<span class="hljs-keyword">return</span> newFuncDialOption(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(o *dialOptions)</span></span> {
		o.chainUnaryInts = <span class="hljs-built_in">append</span>(o.chainUnaryInts, interceptors...)
	})
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">WithStreamInterceptor</span><span class="hljs-params">(f StreamClientInterceptor)</span></span> DialOption {
	<span class="hljs-keyword">return</span> newFuncDialOption(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(o *dialOptions)</span></span> {
		o.streamInt = f
	})
}
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">WithDisableHealthCheck</span><span class="hljs-params">()</span></span> DialOption {
	<span class="hljs-keyword">return</span> newFuncDialOption(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(o *dialOptions)</span></span> {
		o.disableHealthCheck = <span class="hljs-literal">true</span>
	})
}
<span class="hljs-comment">// ç­‰ç­‰.... å‡ ä¹èƒ½ç”¨çš„å­—æ®µéƒ½æ”¾ä¸€ä¸ª with </span>
</code></pre>
<p>è¿™é‡Œçš„æœ€å¤§é‡ç‚¹å°±æ˜¯ <code>defaultDialOptions()</code> è¿™ä¸ªå‡½æ•°å°±æ˜¯å­˜æ”¾é»˜è®¤å€¼ï¼Œè§£è€¦çš„å…³é”®ï¼Œæ— è®ºåç»­æ·»åŠ ä»€ä¹ˆå­—æ®µï¼Œéƒ½æ”¾åœ¨è¯¥å‡½æ•°ä¸­è¿›è¡Œåˆå§‹åŒ–ï¼Œåœ¨ <code>NewClient() </code>å‡½æ•°ä¸­ä»»ä½•åœ°æ–¹éƒ½ä¸éœ€è¦æ”¹ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewClient</span><span class="hljs-params">(target <span class="hljs-type">string</span>, opts ...DialOption)</span></span> (conn *ClientConn, err <span class="hljs-type">error</span>) {
    cc := &amp;ClientConn{
       target: target,
       conns:  <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[*addrConn]<span class="hljs-keyword">struct</span>{}),
       dopts:  defaultDialOptions(),   <span class="hljs-comment">// ä¸€åˆ‡ç›¸å…³çš„é…ç½®éƒ½æ”¾åœ¨è¿™é‡Œ ä¸æ±¡æŸ“ä¸»è·¯çº¿</span>
    }

	<span class="hljs-comment">// è¿™è¾¹å°±æ˜¯æˆ‘ä»¬ä¼ å…¥çš„ with.... å»è¿›è¡Œ èµ‹å€¼</span>
    <span class="hljs-keyword">for</span> _, opt := <span class="hljs-keyword">range</span> opts {
       <span class="hljs-comment">// è°ƒç”¨ä¸Šé¢çš„ apply æ–¹æ³• </span>
       opt.apply(&amp;cc.dopts)
    }

    chainUnaryClientInterceptors(cc)
    chainStreamClientInterceptors(cc)


   <span class="hljs-comment">// å„ç§é€»è¾‘....</span>

    <span class="hljs-keyword">return</span> cc, <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// åŒæ ·ç»‘å®šå„ç§æ–¹æ³• </span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(cc *ClientConn)</span></span> GetState() connectivity.State {
	<span class="hljs-keyword">return</span> cc.csMgr.getState()
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(cc *ClientConn)</span></span> waitForResolvedAddrs(ctx context.Context) (<span class="hljs-type">bool</span>, <span class="hljs-type">error</span>) {...}
</code></pre>
<h2 data-id="heading-3">ç¬¬ä¸‰ç§ï¼šä¸å¯å˜é…ç½®å‹é€‰é¡¹æ¨¡å¼ï¼ˆ<code>OpenTelemetry</code> é£æ ¼ï¼‰</h2>
<p>è¿™ç§æ¨¡å¼æ˜¯<strong>å‡½æ•°å¼é€‰é¡¹çš„å®‰å…¨è¿›é˜¶ç‰ˆ</strong>ï¼Œæ ¸å¿ƒåŒºåˆ«äºå‰ä¸¤ç§çš„<strong>å¯å˜é…ç½®ä¿®æ”¹</strong>ï¼Œå®ƒé‡‡ç”¨<strong>å€¼ä¼ é€’ + è¿”å›æ–°é…ç½®</strong>çš„æ–¹å¼å®ç°ä¸å¯å˜æ€§ï¼Œæ‰€æœ‰é…ç½®æ“ä½œéƒ½ä¸ä¼šä¿®æ”¹åŸæœ‰é…ç½®å¯¹è±¡ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªå…¨æ–°çš„é…ç½®å‰¯æœ¬ã€‚è¿™ç§æ¨¡å¼åœ¨ <code>OpenTelemetry</code>ã€<code>Prometheus</code> ç­‰æ ¸å¿ƒç»„ä»¶ä¸­å¹¿æ³›ä½¿ç”¨ï¼Œç‰¹åˆ«é€‚åˆå¯¹<strong>å¹¶å‘å®‰å…¨ã€é…ç½®ä¸å¯ç¯¡æ”¹ã€æ•°æ®ä¸€è‡´æ€§</strong>æœ‰ä¸¥æ ¼è¦æ±‚çš„åœºæ™¯ï¼ˆæ¯”å¦‚é“¾è·¯è¿½è¸ªã€ç›‘æ§é‡‡é›†ã€å…¨å±€é…ç½®ç®¡ç†ç­‰ï¼‰ã€‚</p>
<p>å‰ä¸¤ç§æ¨¡å¼ä¸­ï¼Œé…ç½®çš„ä¿®æ”¹éƒ½æ˜¯å°±åœ°ä¿®æ”¹ï¼ˆé€šè¿‡æŒ‡é’ˆæ“ä½œä¿®æ”¹ç»“æ„ä½“å­—æ®µï¼‰ï¼šç¬¬ä¸€ç§ç›´æ¥ä¿®æ”¹ç›®æ ‡ç»“æ„ä½“ <code>*Server</code>ï¼Œç¬¬äºŒç§ä¿®æ”¹é…ç½®è½½ä½“ <code>*dialOptions</code>ï¼Œè¿™ç§å¯å˜æ¨¡å¼åœ¨å•åç¨‹åœºæ™¯ä¸‹æ²¡é—®é¢˜ï¼Œä½†åœ¨å¹¶å‘åœºæ™¯ä¸­ï¼Œå¦‚æœé…ç½®è¢«æ„å¤–å¤ç”¨ã€ä¿®æ”¹ï¼Œå¯èƒ½ä¼šå¼•å‘ä¸å¯é¢„æœŸçš„é—®é¢˜ã€‚è€Œä¸å¯å˜é…ç½®æ¨¡å¼ä»æ ¹æºä¸Šè§£å†³äº†è¿™ä¸ªé—®é¢˜ ï¼Œé…ç½®ä¸€æ—¦åˆ›å»ºï¼Œå°±æ— æ³•è¢«ä¿®æ”¹ï¼Œåç»­çš„æ‰€æœ‰é…ç½®è°ƒæ•´éƒ½åªä¼šç”Ÿæˆæ–°çš„é…ç½®å¯¹è±¡ï¼Œå¤©ç„¶å…·å¤‡çº¿ç¨‹å®‰å…¨ï¼Œä¸”èƒ½è¿½æº¯é…ç½®å˜æ›´è½¨è¿¹ã€‚</p>
<p>è¿™é‡Œçš„ <code>tracerProviderConfig</code> åŒæ ·æ˜¯ç”¨äºè§£è€¦çš„é…ç½®é¡¹ï¼Œåªä¸è¿‡æ˜¯å®‰å…¨è¿›é˜¶ç‰ˆã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// åŒæ ·å®šä¹‰é€‰é¡¹æ¥å£   ä¸å¯å˜æ ¸å¿ƒï¼šæ¥æ”¶æ—§é…ç½®ï¼Œè¿”å›æ–°é…ç½® </span>
<span class="hljs-keyword">type</span> TracerProviderOption <span class="hljs-keyword">interface</span> {
    <span class="hljs-comment">// ä¸å‰ä¸¤ç§çš„åŒºåˆ«ï¼šapplyæ–¹æ³•ä¸æ˜¯ä¿®æ”¹æŒ‡é’ˆï¼Œè€Œæ˜¯å…¥å‚æ—§é…ç½®ï¼Œè¿”å›æ–°é…ç½®</span>
	apply(tracerProviderConfig) tracerProviderConfig
}

<span class="hljs-comment">// å®šä¹‰æ¥å£çš„å‡½æ•°ç±»å‹å®ç°ï¼Œç±»ä¼¼ç¬¬äºŒç§çš„ funcDialOptionï¼Œåªæ˜¯ç®€åŒ–é€‰é¡¹åˆ›å»ºï¼Œæœ¬è´¨æ˜¯ä¸€æ ·çš„</span>
<span class="hljs-comment">// ç¬¬äºŒç§æ˜¯ ç»“æ„ä½“é‡Œå­—æ®µæ˜¯å‡½æ•°  è¿™é‡Œæ˜¯ è¿™ä¸ªç»“æ„ä½“å°±æ˜¯ä¸ªå‡½æ•° å‡½æ•°å½¢å¼ func(tracerProviderConfig) tracerProviderConfig</span>
<span class="hljs-keyword">type</span> traceProviderOptionFunc <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(tracerProviderConfig)</span></span> tracerProviderConfig

<span class="hljs-comment">// ä¾æ—§å®ç° apply æ–¹æ³•</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(fn traceProviderOptionFunc)</span></span> apply(cfg tracerProviderConfig) tracerProviderConfig {
	<span class="hljs-keyword">return</span> fn(cfg)
}


<span class="hljs-comment">// å„ç§ with å‡½æ•° è¿”å›éƒ½æ˜¯æ¥å£   ä¸»è¦çœ‹ return åœ°æ–¹</span>
<span class="hljs-comment">/*
é¦–å…ˆ å†…å±‚ åŒ¿åå‡½æ•° func(cfg tracerProviderConfig) tracerProviderConfig è¿™æ˜¯å®é™…æ‰¿è½½é…ç½®é€»è¾‘çš„å‡½æ•°
traceProviderOptionFunc() å¯ä»¥ç†è§£æˆåŒç­¾åå‡½æ•°ç±»å‹çš„å®‰å…¨è½¬æ¢  è½¬æ¢çš„åŒæ–¹æ˜¯ â€œåŒæ„â€ çš„ï¼Œæ²¡æœ‰æ•°æ®ä¸¢å¤± 
*/</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">WithResource</span><span class="hljs-params">(r *resource.Resource)</span></span> TracerProviderOption {
	<span class="hljs-keyword">return</span> traceProviderOptionFunc(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(cfg tracerProviderConfig)</span></span> tracerProviderConfig {
		<span class="hljs-keyword">var</span> err <span class="hljs-type">error</span>
		cfg.resource, err = resource.Merge(resource.Environment(), r)
		<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
			<span class="hljs-comment">// é”™è¯¯é€»è¾‘....</span>
		}
		<span class="hljs-keyword">return</span> cfg
	})
}


<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">WithIDGenerator</span><span class="hljs-params">(g IDGenerator)</span></span> TracerProviderOption {
	<span class="hljs-keyword">return</span> traceProviderOptionFunc(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(cfg tracerProviderConfig)</span></span> tracerProviderConfig {
		<span class="hljs-keyword">if</span> g != <span class="hljs-literal">nil</span> {
			cfg.idGenerator = g
		}
		<span class="hljs-keyword">return</span> cfg
	})
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">WithSampler</span><span class="hljs-params">(s Sampler)</span></span> TracerProviderOption {
	<span class="hljs-keyword">return</span> traceProviderOptionFunc(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(cfg tracerProviderConfig)</span></span> tracerProviderConfig {
		<span class="hljs-keyword">if</span> s != <span class="hljs-literal">nil</span> {
			cfg.sampler = s
		}
		<span class="hljs-keyword">return</span> cfg
	})
}

<span class="hljs-comment">// ....</span>
</code></pre>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewTracerProvider</span><span class="hljs-params">(opts ...TracerProviderOption)</span></span> *TracerProvider {
    <span class="hljs-comment">// é»˜è®¤å€¼</span>
    o := tracerProviderConfig{
       spanLimits: NewSpanLimits(),
    }
    <span class="hljs-comment">// ä»ç¯å¢ƒå˜é‡é‡Œè¯»å–</span>
    o = applyTracerProviderEnvConfigs(o)
    
	<span class="hljs-comment">// ç”¨æˆ· with... ä¼ æ¥çš„ </span>
    <span class="hljs-keyword">for</span> _, opt := <span class="hljs-keyword">range</span> opts {
       o = opt.apply(o)
    }
	
	<span class="hljs-comment">// ç”Ÿæˆ è¦è¿”å›å€¼</span>
    tp := &amp;TracerProvider{
       namedTracer: <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[instrumentation.Scope]*tracer),
       sampler:     o.sampler,
       idGenerator: o.idGenerator,
       spanLimits:  o.spanLimits,
       resource:    o.resource,
    }

    <span class="hljs-comment">// å…¶ä»–é€»è¾‘  ...</span>

    <span class="hljs-keyword">return</span> tp
}
<span class="hljs-comment">// åŒæ ·ç»‘å®šä¸€ç³»åˆ—æ–¹æ³•</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p *TracerProvider)</span></span> Tracer(name <span class="hljs-type">string</span>, opts ...trace.TracerOption) trace.Tracer {...}
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p *TracerProvider)</span></span> RegisterSpanProcessor(sp SpanProcessor) {...}

</code></pre>
<h2 data-id="heading-4">è‡ªå·±å®ç°çš„ <code>ValidateTargetOption</code></h2>
<p>é€šè¿‡ä¸‹é¢è‡ªå·±ç¼–å†™çš„å®ç° <code>DialOption</code> æ¥å£çš„ç»“æ„ä½“ï¼Œå°±èƒ½å°è£…å¤æ‚çš„ <code>gRPC</code> å®¢æˆ·ç«¯ç›®æ ‡åœ°å€ï¼ˆtargetï¼‰åˆæ³•æ€§æ ¡éªŒé€»è¾‘ï¼Œè¿˜èƒ½æºå¸¦é¢å¤–é…ç½®å‚æ•°æ»¡è¶³å¤šæ ·åŒ–æ ¡éªŒéœ€æ±‚ã€‚åç»­è°ƒç”¨æ–¹åªéœ€é€šè¿‡æˆ‘ä»¬æä¾›çš„ <code>WithValidateTarget()</code> æ–¹æ³•ä¼ å…¥æ ¡éªŒè§„åˆ™ï¼Œå³å¯è®© <code>gRPC</code> å®¢æˆ·ç«¯åœ¨åˆå§‹åŒ–æ—¶è‡ªåŠ¨å®Œæˆåœ°å€æ ¡éªŒï¼Œæ•´ä¸ªæ‰©å±•è¿‡ç¨‹å¯¹åŸæœ‰ä»£ç é›¶ä¾µå…¥ï¼Œæ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§æ‹‰æ»¡ã€‚</p>
<p><code>gRPC</code> å®é™… Target æ ¼å¼æ ¡éªŒæ›´å¤æ‚ï¼Œè¿™é‡Œåªæ˜¯é€šè¿‡è¿™ä¸ªä¾‹å­å‘Šè¯‰å¤§å®¶å¯ä»¥è‡ªå·±å†™å®ç°æ¥å£çš„ç»“æ„ä½“ï¼Œå¹¶åº”ç”¨åˆ°å®ƒä»¬å†…éƒ¨ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// è‡ªå®šä¹‰ç»“æ„ä½“ï¼šä¸“é—¨ç”¨äºæ ¡éªŒtargetåˆæ³•æ€§</span>
<span class="hljs-keyword">type</span> ValidateTargetOption <span class="hljs-keyword">struct</span> {
	<span class="hljs-comment">// å¯æºå¸¦é¢å¤–é…ç½®ï¼Œæ¯”å¦‚æ˜¯å¦å…è®¸æœ¬åœ°åœ°å€ã€æ˜¯å¦å¿…é¡»æ˜¯httpsç­‰</span>
	allowLocal <span class="hljs-type">bool</span>
}

<span class="hljs-comment">// å®ç° apply æ–¹æ³•</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(v *ValidateTargetOption)</span></span> apply(do *dialOptions) {
	<span class="hljs-comment">// åˆ¤æ–­targetæ˜¯å¦ä¸ºç©º</span>
	<span class="hljs-keyword">if</span> do.target == <span class="hljs-string">""</span> {
        <span class="hljs-comment">// è¿™é‡Œä¸å»ºè®®ç›´æ¥ Fatal è¿™é‡Œä¸ºäº†æ¼”ç¤º ä»£ç å°½é‡å°‘</span>
		log.Fatalf(<span class="hljs-string">"validate failed: target address is empty"</span>)
	}

	<span class="hljs-comment">// è§£æurlï¼Œæ ¡éªŒæ ¼å¼åˆæ³•æ€§</span>
	_, err := url.Parse(do.target)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		log.Fatalf(<span class="hljs-string">"validate failed: target address format is invalid, err: %v"</span>, err)
	}

	<span class="hljs-comment">//æ ¹æ®allowLocalé…ç½®ï¼Œåˆ¤æ–­æ˜¯å¦å…è®¸æœ¬åœ°åœ°å€ï¼ˆ127.0.0.1ã€localhostï¼‰</span>
	<span class="hljs-keyword">if</span> !v.allowLocal &amp;&amp; (do.target == <span class="hljs-string">"127.0.0.1"</span> || do.target == <span class="hljs-string">"localhost"</span>) {
		log.Fatalf(<span class="hljs-string">"validate failed: local address is not allowed"</span>)
	}

	<span class="hljs-comment">// æ ¡éªŒé€šè¿‡ï¼Œæ‰“å°æ—¥å¿—</span>
	log.Printf(<span class="hljs-string">"validate success: target address %s is valid"</span>, do.target)
}

<span class="hljs-comment">// æä¾› with å‡½æ•°</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">WithValidateTarget</span><span class="hljs-params">(allowLocal <span class="hljs-type">bool</span>)</span></span> DialOption {
	<span class="hljs-keyword">return</span> &amp;ValidateTargetOption{allowLocal: allowLocal}
}
</code></pre>
<h2 data-id="heading-5">æ€»ç»“</h2>
<p>å‡½æ•°å¼é€‰é¡¹æ¨¡å¼æ˜¯ Go è¯­è¨€è§£å†³æ„é€ å‡½æ•° "å‚æ•°ç¾éš¾" çš„æœ€ä¼˜è§£ï¼Œä¸‰ç§å®ç°å½¢å¼å„æœ‰ä¾§é‡ã€æŒ‰éœ€é€‰ç”¨ï¼šè½»é‡ç‰ˆæç®€ç›´è§‚ï¼Œæ— éœ€é¢å¤–æ¥å£ï¼Œé€šè¿‡é—­åŒ…ç›´æ¥ä¿®æ”¹ç›®æ ‡ç»“æ„ä½“ï¼Œé€‚åˆæ™®é€šä¸šåŠ¡æœåŠ¡çš„å¿«é€Ÿè½åœ°ï¼›æ¥å£å‹ï¼ˆ<code>gRPC</code> é£æ ¼ï¼‰é€šè¿‡å¼•å…¥é…ç½®è½½ä½“ç»“æ„ä½“å’Œè§£è€¦æ¥å£ï¼Œè®©æ ¸å¿ƒä¸šåŠ¡ç»“æ„ä½“æ‘†è„±é…ç½®æ±¡æŸ“ï¼Œæ‰©å±•æ€§å’Œè§„èŒƒæ€§æ›´å¼ºï¼Œé€‚åˆå¤æ‚åŸºç¡€ç»„ä»¶çš„å¼€å‘ï¼›ä¸å¯å˜é…ç½®å‹ï¼ˆ<code>OpenTelemetry</code> é£æ ¼ï¼‰é‡‡ç”¨å€¼ä¼ é€’è¿”å›æ–°é…ç½®çš„æ–¹å¼ï¼Œä»æ ¹æºä¸Šä¿è¯å¹¶å‘å®‰å…¨å’Œé…ç½®ä¸å¯ç¯¡æ”¹ï¼Œé€‚åˆé“¾è·¯è¿½è¸ªã€ç›‘æ§é‡‡é›†ç­‰å¯¹æ•°æ®ä¸€è‡´æ€§æœ‰ä¸¥æ ¼è¦æ±‚çš„åœºæ™¯ã€‚ä¸‰ç§æ¨¡å¼å‡èƒ½è§£å†³å¤šå‚æ•°å¸¦æ¥çš„å¯è¯»æ€§ã€æ˜“ç”¨æ€§ç­‰é—®é¢˜ï¼Œæ ¸å¿ƒå·®å¼‚åœ¨äºè§£è€¦ç¨‹åº¦å’Œå®‰å…¨ç­‰çº§ï¼Œå®é™…å¼€å‘ä¸­å¯æ ¹æ®ä¸šåŠ¡å¤æ‚åº¦å’Œåœºæ™¯è¦æ±‚é€‰æ‹©å¯¹åº”çš„å®ç°æ–¹æ¡ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‹’ç»å½“â€œé‡å¤æç¤ºè¯æœºå™¨â€œï¼šSkills å®Œå…¨å…¥é—¨æŒ‡å—ï¼ŒåŠä¸ MCP çš„æ·±åº¦å¯¹æ¯”]]></title>    <link>https://juejin.cn/post/7602440800295731246</link>    <guid>https://juejin.cn/post/7602440800295731246</guid>    <pubDate>2026-02-03T10:03:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602440800295731246" data-draft-id="7602464510607310874" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‹’ç»å½“â€œé‡å¤æç¤ºè¯æœºå™¨â€œï¼šSkills å®Œå…¨å…¥é—¨æŒ‡å—ï¼ŒåŠä¸ MCP çš„æ·±åº¦å¯¹æ¯”"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2026-02-03T10:03:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è®©æˆ‘ä¸Šä¸ªè¶…å½±å§"/> <meta itemprop="url" content="https://juejin.cn/user/3411151088782442"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‹’ç»å½“â€œé‡å¤æç¤ºè¯æœºå™¨â€œï¼šSkills å®Œå…¨å…¥é—¨æŒ‡å—ï¼ŒåŠä¸ MCP çš„æ·±åº¦å¯¹æ¯”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3411151088782442/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è®©æˆ‘ä¸Šä¸ªè¶…å½±å§
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T10:03:59.000Z" title="Tue Feb 03 2026 10:03:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯ Skillsï¼Ÿå®ƒåˆ°åº•è§£å†³äº†ä»€ä¹ˆç—›ç‚¹ï¼Ÿ</h2>
<p>æƒ³è±¡è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šä½ æ­£åœ¨ç”¨<strong>CodeBuddy</strong>å†™ä»£ç ï¼Œæ¯æ¬¡è®© AI å¸®å¿™å®¡æŸ¥ä»£ç ï¼Œéƒ½è¦é‡å¤è¯´ï¼š <strong>"è¯·ç”¨ä¸­æ–‡å†™æ³¨é‡Š"ã€"è®°å¾—æ£€æŸ¥ç©ºæŒ‡é’ˆ"ã€"æŒ‰ç…§æˆ‘ä»¬å›¢é˜Ÿçš„ RESTful è§„èŒƒæ¥</strong>"ã€‚è¯´äº†ä¸€éåˆä¸€éï¼ŒAI è¿˜æ˜¯ç»å¸¸å¿˜è®°ã€‚</p>
<p><strong>Skillsï¼ˆæŠ€èƒ½ï¼‰å°±æ˜¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚</strong></p>
<p>ç®€å•æ¥è¯´ï¼Œ<strong>Skills æ˜¯ç»™ AI å‡†å¤‡çš„ä¸€ä»½"ä¸“ä¸šä¸Šå²—åŸ¹è®­æ‰‹å†Œ"</strong> ã€‚ä½ å¯ä»¥æŠŠå›¢é˜Ÿçš„ä»£ç è§„èŒƒã€ç‰¹å®šçš„å¼€å‘æµç¨‹ã€æˆ–è€…æŸä¸ªé¢†åŸŸï¼ˆå¦‚ Chrome æ’ä»¶å¼€å‘ï¼‰çš„æœ€ä½³å®è·µï¼Œæ‰“åŒ…æˆä¸€ä¸ª Skillã€‚ä¸€æ—¦å®‰è£…ï¼ŒAI å°±ä¼šè‡ªåŠ¨è®°ä½è¿™äº›è§„åˆ™ï¼Œåœ¨ä½ éœ€è¦çš„æ—¶å€™è‡ªåŠ¨è°ƒç”¨ï¼Œæ— éœ€åå¤æé†’ã€‚</p>
<h4 data-id="heading-1">æ ¸å¿ƒç—›ç‚¹è§£å†³</h4>






























<table><thead><tr><th>ç—›ç‚¹</th><th>ä¼ ç»Ÿæ–¹å¼</th><th>ä½¿ç”¨ Skills å</th></tr></thead><tbody><tr><td>é‡å¤åŠ³åŠ¨</td><td>æ¯æ¬¡éƒ½è¦ç²˜è´´åŒæ ·çš„ prompt</td><td>ä¸€æ¬¡ç¼–å†™ï¼Œæ°¸ä¹…å¤ç”¨ï¼Œè‡ªåŠ¨è§¦å‘</td></tr><tr><td>å›¢é˜Ÿæ ‡å‡†ä¸ä¸€</td><td>æ–°äººä¸çŸ¥é“å›¢é˜Ÿè§„èŒƒï¼ŒAI è¾“å‡ºé£æ ¼å„å¼‚</td><td>Skill éš Git ä»“åº“å…±äº«ï¼Œå…¨å‘˜ç»Ÿä¸€æ ‡å‡†</td></tr><tr><td>ä¸Šä¸‹æ–‡æº¢å‡º</td><td>é•¿ prompt å ç”¨å¤§é‡ tokenï¼Œå¯¼è‡´ AI å¤±å¿†</td><td>æ¸è¿›å¼åŠ è½½ï¼Œç”¨æ—¶æ‰å±•å¼€ï¼ŒèŠ‚çœ token</td></tr><tr><td>çŸ¥è¯†æ²‰æ·€å›°éš¾</td><td>å¥½çš„æç¤ºè¯æ•£è½åœ¨èŠå¤©è®°å½•é‡Œ</td><td>æ ‡å‡†åŒ–æ–‡ä»¶ï¼Œå¯ç‰ˆæœ¬æ§åˆ¶ï¼Œæ²‰æ·€ä¸ºå›¢é˜Ÿèµ„äº§</td></tr></tbody></table>
<p><strong>ä¸€å¥è¯æ€»ç»“</strong>ï¼šSkills è®© AI ä»"é€šç”¨å®ä¹ ç”Ÿ"å˜æˆ"æ‡‚è¡Œè€æ‰‹"ï¼ŒçŸ¥é“åœ¨ä»€ä¹ˆæ—¶å€™è¯¥ç”¨ä»€ä¹ˆæ–¹æ³•åšä»€ä¹ˆäº‹ã€‚</p>
<p>è¿™é‡Œä¹Ÿæ¨èæˆ‘åœ¨Bç«™çœ‹çš„ç§‘æ™®è§†é¢‘ï¼Œè®²å¾—å¾ˆå½¢è±¡</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1dz6oBWEWx%2F%3Fspm_id_from%3D333.1391.0.0" target="_blank" title="https://www.bilibili.com/video/BV1dz6oBWEWx/?spm_id_from=333.1391.0.0" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1dzâ€¦</a></p>
<h2 data-id="heading-2">äºŒã€åœ¨ CodeBuddyä¸­ä½¿ç”¨ Skillsï¼šä»é›¶å¼€å§‹</h2>
<p>è¿™é‡Œä¸ºå•¥ç”¨CodeBuddyè¿™ä¸ªè½¯ä»¶ï¼Œæ— ä»–ï¼Œå°±å› ä¸ºå…è´¹ï¼Œå¤§å¤šæ•°äººèƒ½å¤Ÿç›´æ¥æ¥è§¦åˆ°ï¼Œå›½å¤–çš„ä¸€äº›IDEå’Œæ¨¡å‹éƒ½è¦ç”¨é­”æ³•ï¼Œæ–°æ‰‹ä½¿ç”¨ä¸æ–¹ä¾¿</p>
<p>CodeBuddyï¼ˆè…¾è®¯çš„ AI IDEï¼‰è¿‘æœŸå…¨é¢æ”¯æŒäº† Skills åŠŸèƒ½ï¼Œå¹¶ä¸”æ”¯æŒ<strong>å…¨å±€ Skills</strong>ï¼ˆæ‰€æœ‰é¡¹ç›®é€šç”¨ï¼‰å’Œ<strong>é¡¹ç›® Skills</strong>ï¼ˆä»…å½“å‰é¡¹ç›®ç”Ÿæ•ˆï¼‰ä¸¤ç§ç±»å‹</p>
<h3 data-id="heading-3">ç¬¬ä¸€æ­¥ï¼šåˆ›å»º Skills çš„ç›®å½•</h3>
<p>Skills é€šè¿‡åœ¨ç‰¹å®šç›®å½•ä¸­åˆ›å»º <code>SKILL.md</code> æ–‡ä»¶æ¥å®šä¹‰ï¼š</p>
<blockquote>
<ol>
<li><strong>é¡¹ç›®çº§ Skills</strong>ï¼š<code>.codebuddy/skills/</code>ï¼ˆé¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼‰</li>
<li><strong>ç”¨æˆ·çº§ Skills</strong>ï¼š<code>~/.codebuddy/skills/</code>ï¼ˆç”¨æˆ·ä¸»ç›®å½•ä¸‹ï¼‰</li>
</ol>
</blockquote>
<p>æ¯ä¸ª Skill ä¸€ä¸ªç‹¬ç«‹çš„ç›®å½•ï¼ŒåŒ…å« <code>SKILL.md</code> æ–‡ä»¶ï¼Œæ•´ä½“æ¡†æ¶ç›®å½•å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-objectivec" lang="objectivec">.codebuddy/skills/
â”œâ”€â”€ pdf/
â”‚   â””â”€â”€ <span class="hljs-built_in">SKILL</span>.md
â”œâ”€â”€ data-analysis/
â”‚   â””â”€â”€ <span class="hljs-built_in">SKILL</span>.md
â””â”€â”€ code-review/
    â””â”€â”€ <span class="hljs-built_in">SKILL</span>.md
</code></pre>
<p>æ¯ä¸ªæŠ€èƒ½æ–‡ä»¶å¤¹ä¸‹é¢åˆå¯ä»¥ç»†åˆ†</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">skill-name</span>(pdf)/
â”œâ”€â”€ SKILL<span class="hljs-selector-class">.md</span> (å¿…éœ€)
â”‚   â”œâ”€â”€ YAML frontmatter å…ƒæ•°æ® (å¿…éœ€)
â”‚   â”‚   â”œâ”€â”€ name: (å¿…éœ€)
â”‚   â”‚   â””â”€â”€ description: (å¿…éœ€)
â”‚   â””â”€â”€ Markdown æŒ‡ä»¤ (å¿…éœ€)
â””â”€â”€ Bundled Resources (å¯é€‰)
    â”œâ”€â”€ scripts/          - å¯æ‰§è¡Œä»£ç  (Python/Bash ç­‰)
    â”œâ”€â”€ references/       - æ—¨åœ¨æ ¹æ®éœ€è¦åŠ è½½åˆ°ä¸Šä¸‹æ–‡ä¸­çš„æ–‡æ¡£
    â””â”€â”€ assets/           - ç”¨åœ¨è¾“å‡ºä¸­çš„æ–‡ä»¶ (æ¨¡æ¿ã€å›¾æ ‡ã€å­—ä½“ç­‰)
</code></pre>
<h4 data-id="heading-4"><strong>SKILL.md (å¿…éœ€)</strong></h4>
<p>è¿™æ˜¯ Skill çš„æ ¸å¿ƒå®šä¹‰æ–‡ä»¶ã€‚</p>
<p><strong>å…ƒæ•°æ® (</strong> <strong>YAML</strong> <strong>Frontmatter):</strong> <strong><code>name</code></strong> ****å’Œ <strong><code>description</code></strong> ****å†³å®šäº† AI ä½•æ—¶ä¼šä½¿ç”¨è¿™ä¸ª Skillã€‚æè¿°éœ€å…·ä½“è¯´æ˜ Skill çš„åŠŸèƒ½å’Œä½¿ç”¨åœºæ™¯ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">pdf-editor</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">This</span> <span class="hljs-string">skill</span> <span class="hljs-string">should</span> <span class="hljs-string">be</span> <span class="hljs-string">used</span> <span class="hljs-string">when</span> <span class="hljs-string">users</span> <span class="hljs-string">ask</span> <span class="hljs-string">to</span> <span class="hljs-string">modify,</span> <span class="hljs-string">rotate,</span> <span class="hljs-string">or</span> <span class="hljs-string">extract</span> <span class="hljs-string">text</span> <span class="hljs-string">from</span> <span class="hljs-string">PDF</span> <span class="hljs-string">files.</span>
<span class="hljs-attr">allowed-tools:</span> <span class="hljs-comment"># å¯é€‰ï¼ŒæŒ‡å®šå…è®¸ä½¿ç”¨çš„å·¥å…·</span>
<span class="hljs-attr">disable:</span> <span class="hljs-literal">false</span> <span class="hljs-comment"># å¯é€‰ï¼Œæ˜¯å¦ç¦ç”¨</span>
<span class="hljs-meta">---
</span>
<span class="hljs-comment"># PDF Editor</span>

<span class="hljs-string">To</span> <span class="hljs-string">rotate</span> <span class="hljs-string">a</span> <span class="hljs-string">PDF...</span>
</code></pre>
<h4 data-id="heading-5">æ‰“åŒ…èµ„æº (å¯é€‰)</h4>
<ol>
<li>
<h5 data-id="heading-6">Scripts (<code>scripts/</code>)</h5>
</li>
</ol>
<p>ç”¨äºéœ€è¦ç¡®å®šæ€§å¯é æ€§æˆ–è¢«é‡å¤é‡å†™çš„ä»»åŠ¡çš„å¯æ‰§è¡Œä»£ç ã€‚</p>
<blockquote>
<ul>
<li><strong>ç”¨é€”</strong>ï¼šå½“ä»£ç è¢«é‡å¤é‡å†™æˆ–éœ€è¦é«˜å¯é æ€§æ—¶ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š<code>scripts/rotate_pdf.py</code> ç”¨äº PDF æ—‹è½¬ã€‚</li>
</ul>
</blockquote>
<ol start="2">
<li>
<h5 data-id="heading-7">References (<code>references/</code>)</h5>
</li>
</ol>
<p>æ—¨åœ¨æ ¹æ®éœ€è¦åŠ è½½åˆ°ä¸Šä¸‹æ–‡ä¸­ä»¥è¾…åŠ© AI æ€è€ƒçš„æ–‡æ¡£å’Œå‚è€ƒèµ„æ–™ã€‚</p>
<blockquote>
<ul>
<li><strong>ç”¨é€”</strong>ï¼šæ•°æ®åº“æ¶æ„ã€API æ–‡æ¡£ã€é¢†åŸŸçŸ¥è¯†ã€å…¬å¸æ”¿ç­–ç­‰ã€‚</li>
<li><strong>ä¼˜åŠ¿</strong>ï¼šä¿æŒ <code>SKILL.md</code> ç²¾ç®€ï¼Œä»…åœ¨ AI ç¡®å®šéœ€è¦æ—¶æ‰åŠ è½½ã€‚</li>
</ul>
</blockquote>
<ol start="3">
<li>
<h5 data-id="heading-8">Assets (<code>assets/</code>)</h5>
</li>
</ol>
<p>ä¸æ‰“ç®—åŠ è½½åˆ°ä¸Šä¸‹æ–‡ä¸­ï¼Œè€Œæ˜¯ç”¨äº AI ç”Ÿæˆçš„è¾“å‡ºä¸­çš„æ–‡ä»¶ã€‚</p>
<blockquote>
<ul>
<li><strong>ç”¨é€”</strong>ï¼šå“ç‰Œèµ„äº§ã€PPT æ¨¡æ¿ã€HTML/React æ ·æ¿ä»£ç ç­‰ã€‚</li>
</ul>
</blockquote>
<p>äº†è§£å®Œä¸Šé¢ï¼Œåˆ›å»ºçš„ç›®å½•å¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95ef5ff2961446ffaab769cd380d7c7e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6p5oiR5LiK5Liq6LaF5b2x5ZCn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770717839&amp;x-signature=GEQXlKl4R5PfFisTnG6kejVThW0%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9">ç¬¬äºŒæ­¥ï¼šåˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ª Skillï¼šæ¯”æƒ³è±¡ä¸­ç®€å•</h3>
<p>ä¸€ä¸ªæ ‡å‡†çš„ Skill å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ ¸å¿ƒæ˜¯ ****<strong><code>SKILL.md</code></strong> <strong>æ–‡ä»¶</strong></p>
<p>ä¸€ä¸ª Skill æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª Markdown æ–‡ä»¶ï¼ˆæ–‡ä»¶åå›ºå®šä¸º SKILL.mdï¼‰ï¼Œå†…å®¹å‡ ä¹åªç”±ä¸‹é¢ä¸‰æ®µç»„æˆï¼š</p>
<p>SKILL.md åŸºæœ¬æ¨¡æ¿:</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">your-skill-name</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">What</span> <span class="hljs-string">it</span> <span class="hljs-string">does</span> <span class="hljs-string">and</span> <span class="hljs-string">when</span> <span class="hljs-string">Claude</span> <span class="hljs-string">should</span> <span class="hljs-string">use</span> <span class="hljs-string">it</span>
<span class="hljs-meta">---
</span>
<span class="hljs-comment"># Skill Title</span>

<span class="hljs-comment">## Instructions</span>
<span class="hljs-string">Clear,</span> <span class="hljs-string">concrete,</span> <span class="hljs-string">actionable</span> <span class="hljs-string">rules.</span>

<span class="hljs-comment">## Examples</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">Example</span> <span class="hljs-string">usage</span> <span class="hljs-number">1</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">Example</span> <span class="hljs-string">usage</span> <span class="hljs-number">2</span>

<span class="hljs-comment">## Guidelines</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">Guideline</span> <span class="hljs-number">1</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">Guideline</span> <span class="hljs-number">2</span>
</code></pre>



































<table><thead><tr><th>å­—æ®µ</th><th>å¿…å¡«</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>name</td><td>å¦</td><td>Skill åç§°,æœªæŒ‡å®šæ—¶ä½¿ç”¨ç›®å½•å</td><td>pdf</td></tr><tr><td>description</td><td>å¦</td><td>Skill æè¿°,å¸®åŠ© AI ç†è§£ä½•æ—¶ä½¿ç”¨</td><td>PDF æ–‡æ¡£å¤„ç†ä¸“å®¶ ï¼ˆproject)</td></tr><tr><td>allowed-tools</td><td>å¦</td><td>å…è®¸ä½¿ç”¨çš„å·¥å…·ç™½åå•,é€—å·åˆ†éš”</td><td>Read, Write, Bash</td></tr><tr><td>disable-model-invocation</td><td>å¦</td><td>è®¾ç½®ä¸º true æ—¶ï¼ŒSkill ä¸ä¼šå‡ºç°åœ¨ Skill å·¥å…·ä¸­ï¼Œåªèƒ½é€šè¿‡ /skill-name æ‰‹åŠ¨è§¦å‘</td><td>TRUE</td></tr></tbody></table>
<p>è¿™é‡Œç»™å‡ºä¸€ä¸ªæ¡ˆä¾‹ï¼Œå¤§å®¶å¯ä»¥è¿›è¡Œå°è¯•ï¼Œæ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥åªæ˜¯ç”¨<strong>SKILL.md</strong>å³å¯ï¼Œä¸éœ€è¦è„šæœ¬å’Œç´ æä¹‹ç±»çš„</p>
<p><strong>ç¤ºä¾‹ ï¼šå‰ç«¯é¡µé¢è®¾è®¡ Skill</strong></p>
<p><strong>æ–‡ä»¶</strong>ï¼š<code>.codebuddy/skills/frontend-design/SKILL.md</code></p>
<pre><code class="hljs language-markdown" lang="markdown">---
name: frontend-design
description: åˆ›å»ºå…·æœ‰é«˜å“è´¨è®¾è®¡çš„ç‹¬ç‰¹ã€ç”Ÿäº§çº§å‰ç«¯ç•Œé¢ã€‚å½“ç”¨æˆ·è¦æ±‚æ„å»º Web ç»„ä»¶ã€é¡µé¢ã€ä½œå“ã€æµ·æŠ¥æˆ–åº”ç”¨ç¨‹åºæ—¶ä½¿ç”¨æ­¤æŠ€èƒ½ï¼ˆç¤ºä¾‹åŒ…æ‹¬ç½‘ç«™ã€è½åœ°é¡µã€ä»ªè¡¨ç›˜ã€React ç»„ä»¶ã€HTML/CSS å¸ƒå±€ï¼Œæˆ–ä¸ºä»»ä½• Web UI è¿›è¡Œç¾åŒ–/ä¼˜åŒ–ï¼‰ã€‚ç”Ÿæˆå…·æœ‰åˆ›æ„ã€ç²¾è‡´ä»£ç å’Œ UI è®¾è®¡ï¼Œé¿å…é€šç”¨ AI ç¾å­¦ã€‚
<span class="hljs-section">license: å®Œæ•´æ¡æ¬¾è§ LICENSE.txt
---</span>

æœ¬æŠ€èƒ½æŒ‡å¯¼åˆ›å»ºç‹¬ç‰¹ã€ç”Ÿäº§çº§å‰ç«¯ç•Œé¢ï¼Œé¿å…é€šç”¨çš„"AI åƒåœ¾"ç¾å­¦ã€‚å®ç°çœŸæ­£å¯ç”¨çš„ä»£ç ï¼Œå¯¹ç¾å­¦ç»†èŠ‚å’Œåˆ›æ„é€‰æ‹©ç»™äºˆç‰¹åˆ«å…³æ³¨ã€‚

ç”¨æˆ·æä¾›å‰ç«¯éœ€æ±‚ï¼šè¦æ„å»ºçš„ç»„ä»¶ã€é¡µé¢ã€åº”ç”¨ç¨‹åºæˆ–ç•Œé¢ã€‚ä»–ä»¬å¯èƒ½åŒ…å«æœ‰å…³ç”¨é€”ã€å—ä¼—æˆ–æŠ€æœ¯çº¦æŸçš„ä¸Šä¸‹æ–‡ã€‚

<span class="hljs-section">## è®¾è®¡æ€ç»´</span>

åœ¨ç¼–ç ä¹‹å‰ï¼Œç†è§£ä¸Šä¸‹æ–‡å¹¶è‡´åŠ›äº<span class="hljs-strong">**å¤§èƒ†**</span>çš„ç¾å­¦æ–¹å‘ï¼š
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ç›®çš„**</span>ï¼šæ­¤ç•Œé¢è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿè°ä½¿ç”¨å®ƒï¼Ÿ
<span class="hljs-bullet">-</span> <span class="hljs-strong">**é£æ ¼**</span>ï¼šé€‰æ‹©ä¸€ä¸ªæç«¯ï¼šæç®€ä¸»ä¹‰ã€æç¹ä¸»ä¹‰æ··ä¹±ã€å¤å¤æœªæ¥ä¸»ä¹‰ã€æœ‰æœº/è‡ªç„¶ã€å¥¢å/ç²¾è‡´ã€è¶£å‘³/ç©å…·é£ã€ç¼–è¾‘/æ‚å¿—é£ã€ç²—é‡ä¸»ä¹‰/åŸå§‹ã€è£…é¥°è‰ºæœ¯/å‡ ä½•ã€æŸ”å’Œ/ pastelã€å·¥ä¸š/å®ç”¨ç­‰ã€‚æœ‰ä¼—å¤šé£æ ¼å¯ä¾›é€‰æ‹©ã€‚å°†è¿™äº›ä½œä¸ºçµæ„Ÿï¼Œä½†è®¾è®¡å‡ºå¿ äºç¾å­¦æ–¹å‘çš„é£æ ¼ã€‚
<span class="hljs-bullet">-</span> <span class="hljs-strong">**çº¦æŸ**</span>ï¼šæŠ€æœ¯è¦æ±‚ï¼ˆæ¡†æ¶ã€æ€§èƒ½ã€æ— éšœç¢ï¼‰ã€‚
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å·®å¼‚åŒ–**</span>ï¼šæ˜¯ä»€ä¹ˆè®©å®ƒ<span class="hljs-strong">**ä»¤äººéš¾å¿˜**</span>ï¼Ÿæœ‰ä»€ä¹ˆæ˜¯åˆ«äººä¼šè®°ä½çš„ï¼Ÿ

<span class="hljs-strong">**å…³é”®**</span>ï¼šé€‰æ‹©æ¸…æ™°çš„æ¦‚å¿µæ–¹å‘å¹¶ç²¾å‡†æ‰§è¡Œã€‚å¤§èƒ†æç¹å’Œç²¾è‡´æç®€éƒ½æœ‰æ•ˆâ€”â€”å…³é”®æ˜¯æ„å›¾æ€§ï¼Œè€Œéå¼ºåº¦ã€‚

ç„¶åå®ç°å¯ç”¨çš„ä»£ç ï¼ˆHTML/CSS/JSã€Reactã€Vue ç­‰ï¼‰ï¼Œå…·å¤‡ï¼š
<span class="hljs-bullet">-</span> ç”Ÿäº§çº§å’ŒåŠŸèƒ½å®Œæ•´
<span class="hljs-bullet">-</span> è§†è§‰å†²å‡»åŠ›å’Œä»¤äººéš¾å¿˜
<span class="hljs-bullet">-</span> å…·æœ‰æ¸…æ™°ç¾å­¦è§‚ç‚¹çš„è¿è´¯æ€§
<span class="hljs-bullet">-</span> æ¯ä¸ªç»†èŠ‚éƒ½ç²¾å¿ƒæ‰“ç£¨

<span class="hljs-section">## å‰ç«¯ç¾å­¦æŒ‡å—</span>

ä¸“æ³¨äºï¼š
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å­—ä½“æ’ç‰ˆ**</span>ï¼šé€‰æ‹©ç¾è§‚ã€ç‹¬ç‰¹ã€æœ‰è¶£çš„å­—ä½“ã€‚é¿å…é€šç”¨å­—ä½“å¦‚ Arial å’Œ Interï¼›é€‰æ‹©èƒ½å¤Ÿæå‡å‰ç«¯ç¾å­¦çš„ç‹¬ç‰¹å­—ä½“ï¼›å‡ºäººæ„æ–™ã€æœ‰ä¸ªæ€§çš„å­—ä½“é€‰æ‹©ã€‚å°†ç‹¬ç‰¹çš„å±•ç¤ºå­—ä½“ä¸ç²¾è‡´æ­£æ–‡å­—ä½“æ­é…ã€‚
<span class="hljs-bullet">-</span> <span class="hljs-strong">**è‰²å½©ä¸ä¸»é¢˜**</span>ï¼šè‡´åŠ›äºè¿è´¯çš„ç¾å­¦ã€‚ä½¿ç”¨ CSS å˜é‡ä¿æŒä¸€è‡´æ€§ã€‚ä¸»è‰²è°ƒæ­é…é”åˆ©ç‚¹ç¼€è‰²èƒœè¿‡èƒ†æ€¯ã€å‡åŒ€åˆ†å¸ƒçš„è°ƒè‰²æ¿ã€‚
<span class="hljs-bullet">-</span> <span class="hljs-strong">**åŠ¨æ•ˆ**</span>ï¼šä½¿ç”¨åŠ¨ç”»å®ç°æ•ˆæœå’Œå¾®äº¤äº’ã€‚HTML ä¼˜å…ˆä½¿ç”¨çº¯ CSS æ–¹æ¡ˆã€‚React å¯ç”¨æ—¶ä½¿ç”¨ Motion åº“ã€‚ä¸“æ³¨äºé«˜å½±å“åŠ›æ—¶åˆ»ï¼šä¸€ä¸ªç²¾å¿ƒç¼–æ’çš„é¡µé¢åŠ è½½é…åˆäº¤é”™æ˜¾ç¤ºï¼ˆanimation-delayï¼‰æ¯”åˆ†æ•£çš„å¾®äº¤äº’å¸¦æ¥æ›´å¤šæ„‰æ‚¦ã€‚ä½¿ç”¨æ»šåŠ¨è§¦å‘å’Œä»¤äººæƒŠå–œçš„æ‚¬åœçŠ¶æ€ã€‚
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ç©ºé—´æ„å›¾**</span>ï¼šæ„æƒ³ä¸åˆ°çš„å¸ƒå±€ã€‚ä¸å¯¹ç§°ã€‚é‡å ã€‚å¯¹è§’çº¿æµåŠ¨ã€‚æ‰“ç ´ç½‘æ ¼çš„å…ƒç´ ã€‚å……è¶³çš„è´Ÿç©ºé—´<span class="hljs-strong">**æˆ–**</span>æ§åˆ¶çš„å¯†åº¦ã€‚
<span class="hljs-bullet">-</span> <span class="hljs-strong">**èƒŒæ™¯ä¸è§†è§‰ç»†èŠ‚**</span>ï¼šåˆ›é€ æ°›å›´å’Œæ·±åº¦ï¼Œè€Œéé»˜è®¤çº¯è‰²ã€‚æ·»åŠ ä¸æ•´ä½“ç¾å­¦åŒ¹é…çš„ä¸Šä¸‹æ–‡æ•ˆæœå’Œçº¹ç†ã€‚åº”ç”¨åˆ›æ„å½¢å¼å¦‚æ¸å˜ç½‘æ ¼ã€å™ªç‚¹çº¹ç†ã€å‡ ä½•å›¾æ¡ˆã€åˆ†å±‚é€æ˜ã€æˆå‰§æ€§é˜´å½±ã€è£…é¥°æ€§è¾¹æ¡†ã€è‡ªå®šä¹‰å…‰æ ‡å’Œé¢—ç²’å åŠ ã€‚

æ°¸è¿œä¸è¦ä½¿ç”¨é€šç”¨çš„ AI ç”Ÿæˆç¾å­¦ï¼Œå¦‚è¿‡åº¦ä½¿ç”¨çš„å­—ä½“å®¶æ—ï¼ˆInterã€Robotoã€Arialã€ç³»ç»Ÿå­—ä½“ï¼‰ã€é™ˆè¯æ»¥è°ƒçš„é…è‰²æ–¹æ¡ˆï¼ˆç‰¹åˆ«æ˜¯ç™½è‰²èƒŒæ™¯ä¸Šçš„ç´«è‰²æ¸å˜ï¼‰ã€å¯é¢„æµ‹çš„å¸ƒå±€å’Œç»„ä»¶æ¨¡å¼ï¼Œä»¥åŠç¼ºä¹ä¸Šä¸‹æ–‡ç‰¹æ€§çš„åƒç¯‡ä¸€å¾‹è®¾è®¡ã€‚

å¯Œæœ‰åˆ›æ„åœ°è¯ é‡Šå¹¶åšå‡ºå‡ºäººæ„æ–™çš„é€‰æ‹©ï¼Œè®©äººæ„Ÿè§‰çœŸæ­£ä¸ºä¸Šä¸‹æ–‡è€Œè®¾è®¡ã€‚æ²¡æœ‰è®¾è®¡åº”è¯¥æ˜¯ç›¸åŒçš„ã€‚åœ¨æ˜æš—ä¸»é¢˜ã€ä¸åŒå­—ä½“ã€ä¸åŒç¾å­¦ä¹‹é—´å˜åŒ–ã€‚æ°¸è¿œä¸è¦è·¨è¶Šä¸–ä»£è¶‹åŒäºå¸¸è§é€‰æ‹©ï¼ˆä¾‹å¦‚ Space Groteskï¼‰ã€‚

<span class="hljs-strong">**é‡è¦**</span>ï¼šå°†å®ç°å¤æ‚åº¦ä¸ç¾å­¦æ„¿æ™¯åŒ¹é…ã€‚æç¹ä¸»ä¹‰è®¾è®¡éœ€è¦åŒ…å«å¤§é‡åŠ¨ç”»å’Œæ•ˆæœçš„å¤æ‚ä»£ç ã€‚æç®€æˆ–ç²¾è‡´è®¾è®¡éœ€è¦å…‹åˆ¶ã€ç²¾ç¡®ï¼Œå¹¶ä»”ç»†å…³æ³¨é—´è·ã€å­—ä½“å’Œå¾®å¦™ç»†èŠ‚ã€‚ä¼˜é›…æ¥è‡ªäºè‰¯å¥½åœ°æ‰§è¡Œæ„¿æ™¯ã€‚

è®°ä½ï¼šClaude èƒ½å¤Ÿåˆ›é€ éå‡¡çš„åˆ›æ„ä½œå“ã€‚ä¸è¦é€€ç¼©ï¼Œå±•ç¤ºå½“è·³å‡ºæ€ç»´å®šåŠ¿å¹¶å®Œå…¨è‡´åŠ›äºç‹¬ç‰¹æ„¿æ™¯æ—¶ï¼ŒçœŸæ­£èƒ½åˆ›é€ ä»€ä¹ˆã€‚
</code></pre>
<h3 data-id="heading-10">ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨Skill</h3>
<p>æˆ‘ä»¬å†™ä¸€ä¸ªå‰ç«¯htmlé¡µé¢ï¼Œåˆšå¥½æ»¡è¶³è¿™ä¸ªSkillï¼Œçœ‹ä¸‹AIå¦‚ä½•æ“ä½œå§</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/61ad47b1f8744996ab1d898759babf3e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6p5oiR5LiK5Liq6LaF5b2x5ZCn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770717839&amp;x-signature=6HnIquCrBV%2BHYJfmqVk17y7lgtU%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°AIè‡ªå·±è‡ªåŠ¨ä½¿ç”¨Skillï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸‹é¡µé¢çš„æ•ˆæœå§</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc64e64a445847bbbff04545f870d821~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6p5oiR5LiK5Liq6LaF5b2x5ZCn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770717839&amp;x-signature=fJxW27jONiCVsEPno1mANSUrOgI%3D" alt="" loading="lazy"/></p>
<p>è¿˜æ˜¯æ¯”è¾ƒå¥½çœ‹çš„</p>
<h2 data-id="heading-11">ä¸‰ã€æ¨èå¼€æº SkillsåŠå¦‚ä½•ä¸‹è½½ä½¿ç”¨</h2>
<p>ä»¥ä¸‹æ˜¯ GitHub ä¸Šæœ€çƒ­é—¨çš„ Skills ä»“åº“ï¼Œä¸‹è½½åæŒ‰ç…§éœ€è¦å°†å¯¹åº”çš„Skillå¯¼å…¥åˆ° <code>.codebuddy/skills/</code> ç›®å½•ï¼š</p>
<h3 data-id="heading-12">å¼€æºSkills</h3>
<blockquote>
<h4 data-id="heading-13">1. <strong>anthropics/skills</strong>ï¼ˆå®˜æ–¹ï¼Œå¿…è£…ï¼‰</h4>
<ul>
<li><strong>Star</strong>: 40k+</li>
<li><strong>åœ°å€</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills" target="_blank" title="https://github.com/anthropics/skills" ref="nofollow noopener noreferrer">github.com/anthropics/â€¦</a></li>
<li><strong>äº®ç‚¹</strong>ï¼šå®˜æ–¹å‡ºå“ï¼ŒåŒ…å«æ–‡æ¡£å¤„ç†ï¼ˆPDF/Word/Excel/PPTï¼‰ã€skill-creatorï¼ˆåˆ›å»º Skill çš„ Skillï¼‰ã€MCP æ„å»ºå™¨ç­‰ã€‚æ–°æ‰‹å…¥é—¨é¦–é€‰ã€‚</li>
</ul>
</blockquote>
<h4 data-id="heading-14">2. <strong>obra/superpowers</strong>ï¼ˆç¤¾åŒºæœ€å¼ºï¼‰</h4>
<blockquote>
<ul>
<li><strong>Star</strong>: 22k+</li>
<li><strong>åœ°å€</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fobra%2Fsuperpowers" target="_blank" title="https://github.com/obra/superpowers" ref="nofollow noopener noreferrer">github.com/obra/superpâ€¦</a></li>
<li><strong>äº®ç‚¹</strong>ï¼šåŒ…å« 20+ å®æˆ˜æŠ€èƒ½ï¼Œæ¶µç›– TDD æµ‹è¯•é©±åŠ¨å¼€å‘ã€Debug è°ƒè¯•æ¨¡å¼ã€å›¢é˜Ÿåä½œè§„èŒƒç­‰ï¼Œéå¸¸æ¥åœ°æ°”ã€‚</li>
</ul>
</blockquote>
<h4 data-id="heading-15">3. <strong>vercel-labs/agent-skills</strong>ï¼ˆå‰ç«¯ä¸“å±ï¼‰</h4>
<blockquote>
<ul>
<li><strong>åœ°å€</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvercel-labs%2Fagent-skills" target="_blank" title="https://github.com/vercel-labs/agent-skills" ref="nofollow noopener noreferrer">github.com/vercel-labsâ€¦</a></li>
<li><strong>äº®ç‚¹</strong>ï¼šVercel å›¢é˜Ÿç»´æŠ¤ï¼ŒåŒ…å« <code>react-best-practices</code> å’Œ <code>vue-best-practices</code>ï¼Œæ•´ç†äº† 40+ æ¡ React/Next.js æ€§èƒ½ä¸æ¶æ„è§„åˆ™ï¼ŒAI å†™ä»£ç æ—¶ä¼šä¸»åŠ¨æç¤ºæ€§èƒ½é™·é˜±ã€‚</li>
</ul>
</blockquote>
<h4 data-id="heading-16">4. <strong>K-Dense-AI/claude-scientific-skills</strong>ï¼ˆç§‘ç ”ä¸“å±ï¼‰</h4>
<blockquote>
<ul>
<li><strong>Star</strong>: 5.8k+</li>
<li><strong>åœ°å€</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FK-Dense-AI%2Fclaude-scientific-skills" target="_blank" title="https://github.com/K-Dense-AI/claude-scientific-skills" ref="nofollow noopener noreferrer">github.com/K-Dense-AI/â€¦</a></li>
<li><strong>äº®ç‚¹</strong>ï¼š140+ ç§‘å­¦é¢†åŸŸæŠ€èƒ½ï¼Œç”Ÿç‰©ã€åŒ–å­¦ã€æ•°æ®åˆ†æã€æ–‡çŒ®æ•´ç†å…¨è¦†ç›–ï¼Œç ”ç©¶äººå‘˜å¿…å¤‡ã€‚</li>
</ul>
</blockquote>
<h4 data-id="heading-17">5. <strong>ComposioHQ/awesome-claude-skills</strong>ï¼ˆèµ„æºåˆé›†ï¼‰</h4>
<blockquote>
<ul>
<li><strong>Star</strong>: 19k+</li>
<li><strong>åœ°å€</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FComposioHQ%2Fawesome-claude-skills" target="_blank" title="https://github.com/ComposioHQ/awesome-claude-skills" ref="nofollow noopener noreferrer">github.com/ComposioHQ/â€¦</a></li>
<li><strong>äº®ç‚¹</strong>ï¼šAwesome åˆ—è¡¨å½¢å¼ï¼Œæ±‡é›†äº†å®˜æ–¹å’Œç¤¾åŒºçš„å„ç§ Skillsï¼Œåˆ†ç±»æ¸…æ™°ï¼ŒæŒç»­æ›´æ–°ã€‚</li>
</ul>
</blockquote>
<h3 data-id="heading-18"><strong>å¯¼å…¥æ–¹æ³•</strong>ï¼š</h3>
<ul>
<li><strong>CodeBuddy</strong> <strong>IDE</strong>ï¼šè®¾ç½® â†’ Skill é…ç½®è·¯å¾„ â†’ å¯¼å…¥æœ¬åœ°æ–‡ä»¶å¤¹</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c67b033257584487b2cb671da8e6ffcc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6p5oiR5LiK5Liq6LaF5b2x5ZCn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770717839&amp;x-signature=axxYAgivrObZiTrbkt0pPc2fco4%3D" alt="" loading="lazy"/></p>
<p>ä¸‹è½½Skillsï¼Œè¿™é‡Œæˆ‘æ˜¯ä¸‹è½½çš„ç¬¬ä¸€ä¸ªå¼€æºé¡¹ç›®çš„æ‰€æœ‰çš„Skills</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4908fe0749a1430399b886710b293e11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6p5oiR5LiK5Liq6LaF5b2x5ZCn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770717839&amp;x-signature=k16fcVv7YABX5oFk9Jdl4pWYvu0%3D" alt="" loading="lazy"/></p>
<p>é€‰ä¸­ä½ æ‰€éœ€è¦çš„ä¸€æ¡Skillå¯¼å…¥CodeBuddyå³å¯</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e34c1aa35244f1eaf7a4d6183a0744b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6p5oiR5LiK5Liq6LaF5b2x5ZCn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770717839&amp;x-signature=uA8%2FqOUN6daxIsIPEZm262j6Ah4%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76f2098873f244f4af5b541fb8e1a4af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6p5oiR5LiK5Liq6LaF5b2x5ZCn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770717839&amp;x-signature=TmIH4TjSfrtUNjKjSFyl6uOk86w%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°å¯¼å…¥æˆåŠŸäº†</p>
<p>å…¶å®åˆšæ‰æœ€å¼€å§‹çš„ç¤ºä¾‹æˆ‘ä¹Ÿæ˜¯ç›´æ¥å¤åˆ¶çš„è¿™ä¸ªå¼€æºé¡¹ç›®çš„Skillæ‰ä½¿å¾—å‰ç«¯é¡µé¢ç”Ÿæˆæ¯”è¾ƒå¥½çœ‹</p>
<h2 data-id="heading-19">å››ã€Skillsä¸MCPçš„åŒºåˆ«</h2>
<p>æœ€åå°±æ˜¯å¾ˆå¤šäººä¼šæ··æ·†Skillså’ŒMCPï¼Œå®ƒä»¬ç¡®å®æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œä½†è§£å†³çš„é—®é¢˜å®Œå…¨ä¸åŒï¼š</p>



































<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>Skills</th><th>MCP</th></tr></thead><tbody><tr><td>æ ¸å¿ƒå®šä½</td><td>è§£å†³"æ–¹æ³•è®º"é—®é¢˜ï¼Œæ•™AIæ€ä¹ˆåšæŸç±»ä»»åŠ¡</td><td>è§£å†³"è¿æ¥"é—®é¢˜ï¼Œè®©AIèƒ½è®¿é—®å¤–éƒ¨ä¸–ç•Œ</td></tr><tr><td>åŠ è½½æ–¹å¼</td><td>æŒ‰éœ€åŠ è½½ï¼ŒåªåŠ è½½æŠ€èƒ½åå­—å’Œæè¿°ï¼Œä½¿ç”¨æ—¶æ‰åŠ è½½æ‰§è¡Œç»†èŠ‚</td><td>å…¨é‡åŠ è½½ï¼Œä¸ç®¡ç”¨ä¸ç”¨éƒ½å…¨éƒ¨åŠ è½½è¿›å»</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>å›ºå®šå·¥ä½œæµç¨‹ï¼Œéœ€è¦AIæŒ‰æ­¥éª¤æ‰§è¡Œ</td><td>è®¿é—®å¤–éƒ¨æ•°æ®æˆ–æœåŠ¡ï¼Œæ·±åº¦é›†æˆå¤–éƒ¨ç³»ç»Ÿ</td></tr><tr><td>è¾“å…¥è¾“å‡º</td><td>è‡ªç„¶è¯­è¨€æè¿°å’Œç»“æœï¼Œçµæ´»æ˜“è¯»</td><td>JSONç»“æ„åŒ–å‚æ•°å’Œç»“æœï¼Œå¯ç»„åˆå¯æµ‹è¯•</td></tr><tr><td>æ‰©å±•æ€§</td><td>å¯ä»¥æ— é™å¢åŠ æŠ€èƒ½ï¼Œä¸ä¼šæ˜æ˜¾æ‹–æ…¢å¯¹è¯</td><td>å·¥å…·è¶Šå¤šï¼Œä¸Šä¸‹æ–‡è¶Šçˆ†ç‚¸ï¼Œæˆæœ¬å’Œå»¶è¿Ÿè¶Šé«˜</td></tr></tbody></table>
<p><strong>å¤§ç™½è¯ç†è§£</strong>ï¼š</p>
<blockquote>
<ul>
<li>Skillsä¸»è¦èšç„¦äºå·¥å…·å¤„ç†ï¼Œæ˜¯ä¸€å¥—å®Œæ•´çš„æ–¹æ³•è®ºï¼Œä¾‹å¦‚å¤„ç†æ–‡ä»¶ã€è®¾è®¡ã€å†™æ–‡ç« </li>
<li>MCPä¸»è¦èµ·åˆ°è¿æ¥ä½œç”¨ï¼Œé€‚åˆæ·±åº¦é›†æˆå¤–éƒ¨ç³»ç»Ÿï¼Œè‡ªå®šä¹‰ä¸Šä¼ ã€ä¸‹è½½ã€æ¨é€ç­‰æµç¨‹</li>
</ul>
</blockquote>
<p>ä¸¤è€…å¹¶ä¸æ˜¯ç«äº‰æˆ–æ›¿ä»£çš„å…³ç³»ï¼Œè€Œæ˜¯ç»“åˆå…³ç³»ã€‚å¯¹äºæ™®é€šç”¨æˆ·ã€æ—¥å¸¸å·¥ä½œï¼Œå¤§éƒ¨åˆ†æ—¶å€™åªéœ€è¦Skillså°±è¶³å¤Ÿï¼›å¯¹äºå¤æ‚çš„ä¼ä¸šåœºæ™¯ã€è·¨å¹³å°/è‡ªåŠ¨åˆ†å‘ç­‰ä»»åŠ¡ï¼Œä½¿ç”¨Skills + MCPå¯ä»¥å®ç°æ›´åŠ ç¨³å®šå’Œé«˜æ•ˆçš„è¾“å‡ºã€‚</p>
<p><strong>ä»€ä¹ˆæ—¶å€™ç”¨Skillsï¼Œä»€ä¹ˆæ—¶å€™ç”¨</strong> <strong>mcp</strong> <strong>ï¼Ÿ</strong></p>
<p>åˆ¤æ–­æ ‡å‡†ï¼šä»»åŠ¡æ˜¯"å¦‚ä½•åš"è¿˜æ˜¯"åšä»€ä¹ˆ"ï¼Ÿ</p>
<blockquote>
<ul>
<li>
<p><strong>Skills</strong>ï¼šå½“ä½ æœ‰å›ºå®šçš„å·¥ä½œæµç¨‹ï¼Œéœ€è¦AIæŒ‰æ­¥éª¤æ‰§è¡Œæ—¶</p>
<ul>
<li>ç¤ºä¾‹ï¼š"æŒ‰ä»€ä¹ˆæ ¼å¼å†™æŠ€æœ¯æ•™ç¨‹"ã€"ä»£ç å®¡æŸ¥çš„5ä¸ªæ­¥éª¤"</li>
</ul>
</li>
<li>
<p><strong>MCP</strong>ï¼šå½“ä½ éœ€è¦AIè®¿é—®å¤–éƒ¨æ•°æ®æˆ–æœåŠ¡æ—¶</p>
<ul>
<li>ç¤ºä¾‹ï¼š"æŸ¥è¯¢GitHubçš„Issue"ã€"è¯»å–SQLiteæ•°æ®åº“"</li>
</ul>
</li>
</ul>
</blockquote>
<p><strong>æ„Ÿå…´è¶£çš„å®å­å¯ä»¥å…³æ³¨ä¸€æ³¢ï¼Œåç»­ä¼šæ›´æ–°æ›´å¤šæœ‰ç”¨çš„çŸ¥è¯†ï¼ï¼ï¼</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/94d92b4ed927471ba156d58f7dd69c7f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6p5oiR5LiK5Liq6LaF5b2x5ZCn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770717839&amp;x-signature=mLWFttNhmqNRforBOjGFITujbJs%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Go errgroup æºç æ·±åº¦å‰–æï¼šä»åŸç†åˆ° Context å–æ¶ˆæœºåˆ¶å…¨è§£æ]]></title>    <link>https://juejin.cn/post/7602205524718927906</link>    <guid>https://juejin.cn/post/7602205524718927906</guid>    <pubDate>2026-02-03T10:07:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602205524718927906" data-draft-id="7602246300453306403" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Go errgroup æºç æ·±åº¦å‰–æï¼šä»åŸç†åˆ° Context å–æ¶ˆæœºåˆ¶å…¨è§£æ"/> <meta itemprop="keywords" content="æºç "/> <meta itemprop="datePublished" content="2026-02-03T10:07:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸‹æ¬¡ä¸€å®š57"/> <meta itemprop="url" content="https://juejin.cn/user/3722294009017404"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Go errgroup æºç æ·±åº¦å‰–æï¼šä»åŸç†åˆ° Context å–æ¶ˆæœºåˆ¶å…¨è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3722294009017404/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸‹æ¬¡ä¸€å®š57
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T10:07:36.000Z" title="Tue Feb 03 2026 10:07:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Go errgroup</h2>
<p>ä¸“é—¨ç”¨äºç®€åŒ–ä¸€ç»„ goroutine çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†å’Œé”™è¯¯æ”¶é›†ï¼Œè§£å†³äº†æ™®é€š<code>WaitGroup</code>æ— æ³•ä¾¿æ·æ”¶é›†é”™è¯¯ã€æ— æ³•å¿«é€Ÿå–æ¶ˆå…¶ä»– goroutine çš„ç—›ç‚¹ã€‚</p>
<h2 data-id="heading-1">errgroup vs åŸç”Ÿ WaitGroup</h2>






























<table><thead><tr><th align="center">ç‰¹æ€§</th><th align="center">sync.WaitGroup</th><th align="center">errgroup</th></tr></thead><tbody><tr><td align="center">ç­‰å¾… goroutine ç»“æŸ</td><td align="center">éœ€è¦æ‰‹åŠ¨ Add/Done</td><td align="center">è‡ªåŠ¨ç®¡ç†ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒç”¨</td></tr><tr><td align="center">æ”¶é›†é”™è¯¯</td><td align="center">éœ€è¦è‡ªå·±ç”¨ channel å®ç°</td><td align="center">è‡ªåŠ¨æ”¶é›†ç¬¬ä¸€ä¸ªé nil é”™è¯¯</td></tr><tr><td align="center">å–æ¶ˆå…¶ä»– goroutine</td><td align="center">éœ€è¦è‡ªå·±ç»“åˆ Context å®ç°</td><td align="center">å†…ç½® Contextï¼Œè‡ªåŠ¨å–æ¶ˆ</td></tr><tr><td align="center">ä½¿ç”¨å¤æ‚åº¦</td><td align="center">ä½ï¼ˆä½†æ‰©å±•åŠŸèƒ½å¤æ‚ï¼‰</td><td align="center">ä¸­ï¼ˆä¸€ç«™å¼è§£å†³å¤š goroutine é—®é¢˜ï¼‰</td></tr></tbody></table>
<h2 data-id="heading-2">ä½¿ç”¨ç¤ºä¾‹</h2>
<p>ä¸‹é¢ä»£ç æ˜¯ é€šè¿‡å¼€å¯ä¸‰ä¸ª goroutine å¹¶å‘æ‰§è¡Œï¼Œèƒ½å¤Ÿæ„ŸçŸ¥é”™è¯¯ï¼Œå¹¶ä¸”ä¾¿æ·æ”¶é›†ç¬¬ä¸€ä¸ªé”™è¯¯</p>
<p><code>context.Cause(ctx)</code>  è¿™ä¸ªå‡½æ•°æ˜¯ä¸“é—¨ç”¨æ¥è·å– Context å–æ¶ˆåŸå› çš„ï¼Œåç»­ä¼šè¯¦ç»†ä»‹ç»</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"context"</span>
	<span class="hljs-string">"errors"</span>
	<span class="hljs-string">"fmt"</span>
	<span class="hljs-string">"time"</span>

	<span class="hljs-string">"golang.org/x/sync/errgroup"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
	eg, ctx := errgroup.WithContext(context.Background())
	eg.Go(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> <span class="hljs-type">error</span> {
		fmt.Println(<span class="hljs-string">"doing task1"</span>)
		time.Sleep(<span class="hljs-number">5</span> * time.Second)
		<span class="hljs-keyword">return</span> errors.New(<span class="hljs-string">"task1 error"</span>) <span class="hljs-comment">// ä¸šåŠ¡é”™è¯¯ï¼šä½œä¸ºå–æ¶ˆåŸå›  è¿™è¾¹å–æ¶ˆ å…¶ä»– goroutine  å°±ä¼šèµ° &lt;-ctx.Done()</span>
	})

	eg.Go(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> <span class="hljs-type">error</span> {
		<span class="hljs-keyword">for</span> {
			<span class="hljs-keyword">select</span> {
			<span class="hljs-keyword">case</span> &lt;-time.After(time.Second):
				fmt.Println(<span class="hljs-string">"doing task2"</span>)
			<span class="hljs-keyword">case</span> &lt;-ctx.Done():
				fmt.Println(<span class="hljs-string">"task2 canceled"</span>)
				<span class="hljs-comment">// å¯ä»¥è°ƒç”¨ context.Cause()ï¼Œè·å–å–æ¶ˆçš„å…·ä½“åŸå›  </span>
				cause := context.Cause(ctx)
				fmt.Printf(<span class="hljs-string">"task2 è¢«å–æ¶ˆçš„åŸå› ï¼š%v\n"</span>, cause)
				<span class="hljs-keyword">return</span> ctx.Err()  <span class="hljs-comment">//è¿™æ—¶å€™ return çš„é”™è¯¯ æ˜¯ç¬¬äºŒæ¬¡æˆ–è€…ç¬¬ä¸‰æ¬¡äº† æˆ‘ä»¬åªè®°å½•ç¬¬ä¸€æ¬¡çš„</span>
			}
		}
	})

	eg.Go(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> <span class="hljs-type">error</span> {
		<span class="hljs-keyword">for</span> {
			<span class="hljs-keyword">select</span> {
			<span class="hljs-keyword">case</span> &lt;-time.After(time.Second):
				fmt.Println(<span class="hljs-string">"doing task3"</span>)
			<span class="hljs-keyword">case</span> &lt;-ctx.Done():
				fmt.Println(<span class="hljs-string">"task3 canceled"</span>)
				<span class="hljs-comment">// å¯ä»¥è°ƒç”¨ context.Cause()ï¼Œè·å–å–æ¶ˆçš„å…·ä½“åŸå› </span>
				cause := context.Cause(ctx)
				fmt.Printf(<span class="hljs-string">"task3 è¢«å–æ¶ˆçš„åŸå› ï¼š%v\n"</span>, cause)
				<span class="hljs-keyword">return</span> ctx.Err()
			}
		}
	})

	err := eg.Wait()
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		fmt.Println(<span class="hljs-string">"task failed"</span>)
		<span class="hljs-comment">// åœ¨ Wait() å, è¿”å›ç¬¬ä¸€æ¬¡é”™è¯¯</span>
		fmt.Printf(<span class="hljs-string">"æ•´ä½“ä»»åŠ¡è¢«å–æ¶ˆçš„åŸå› ï¼š%v\n"</span>, err)
	} <span class="hljs-keyword">else</span> {
		fmt.Println(<span class="hljs-string">"task success"</span>)
	}
}

</code></pre>
<h2 data-id="heading-3">errgroup æºç è§£æ</h2>
<h3 data-id="heading-4">å†…éƒ¨ç»“æ„ä½“</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// ç©ºç»“æ„ä½“åœ¨ Go ä¸­ä¸å ç”¨å­—èŠ‚å†…å­˜ï¼Œæ˜¯æ ‡å‡†ç”¨äºé€šçŸ¥çš„</span>
<span class="hljs-keyword">type</span> token <span class="hljs-keyword">struct</span>{}

<span class="hljs-keyword">type</span> Group <span class="hljs-keyword">struct</span> {
	cancel <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(<span class="hljs-type">error</span>)</span></span>  <span class="hljs-comment">//  å–æ¶ˆä¸‹çº§å…³è” Context çš„å‡½æ•°</span>

	wg sync.WaitGroup  <span class="hljs-comment">// ç®¡ç† goroutine çš„ç­‰å¾…ï¼Œæ›¿ä»£æ‰‹åŠ¨ Add/Done</span>

	sem <span class="hljs-keyword">chan</span> token  <span class="hljs-comment">// å¸¦ç¼“å†²çš„é€šé“ é™åˆ¶æœ€å¤§èƒ½æœ‰å‡ ä¸ª goroutine å¹¶è¡Œ ç”¨ SetLimit å‡½æ•°å»æŒ‡æ˜ ä¸ç”¨è¿™ä¸ªå‡½æ•°é‚£è¿™ä¸ªå­—æ®µå°±ä¸ç”¨ç®¡</span>

	errOnce sync.Once  <span class="hljs-comment">// åŸå­è¯­å¥  æ— è®ºå¤šå°‘ goroutine å†™å…¥ éƒ½åªæ‰§è¡Œä¸€æ¬¡ </span>
	err     <span class="hljs-type">error</span>
}

</code></pre>
<h3 data-id="heading-5">å…¥å£å‡½æ•°</h3>
<p>æ–°ç‰ˆæœ¬ä½¿ç”¨äº† <code>WithCancelCause</code>  æ¢æ‰äº†ä¼ ç»Ÿçš„ <code>context.WithCancel</code></p>
<p>å¯¹äº  <code>context.WithCancelCause</code> ä¸  <code>context.WithCancel</code> çš„ æºç  æ”¾åœ¨æ–‡ç« æœ€åï¼Œæ·±å…¥ç†è§£ <code>context</code>  å¯é˜…è¯»</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">WithContext</span><span class="hljs-params">(ctx context.Context)</span></span> (*Group, context.Context) {
    <span class="hljs-comment">//è¿”å› å­Context å’Œ å¯ä»¥å–æ¶ˆçš„å‡½æ•°  è¿™é‡Œè¦†ç›–äº†ä¸» ctx æ— æ‰€è°“</span>
	ctx, cancel := context.WithCancelCause(ctx)
 	<span class="hljs-comment">// è¿”å› errgroup å†…ç½® ç»“æ„ä½“ å’Œ context</span>
	<span class="hljs-keyword">return</span> &amp;Group{cancel: cancel}, ctx
}

</code></pre>
<h3 data-id="heading-6"><code>(g *Group) SetLimit(n int)</code> å‡½æ•°</h3>
<p>ç”¨äºæ§åˆ¶åŒæ—¶æ´»è·ƒçš„ goroutine æ•°é‡ï¼Œå®ç°å¹¶å‘é™åˆ¶ï¼Œå°äº0ï¼Œå°±æ²¡æœ‰é™åˆ¶ï¼Œä¹Ÿå°±ä¸ç”¨ <code>g.sem</code> å­—æ®µ</p>
<p>å¿…é¡»æ˜¯åœ¨åˆå§‹åŒ–çš„æ—¶å€™å»è°ƒç”¨ <code>SetLimit</code>  å‡½æ•°ï¼Œå¿…é¡»ä¿è¯å½“å‰æ— æ´»è·ƒ goroutineï¼Œå¦åˆ™ç›´æ¥ panic ä¸ºäº†å®‰å…¨</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(g *Group)</span></span> SetLimit(n <span class="hljs-type">int</span>) {
	<span class="hljs-keyword">if</span> n &lt; <span class="hljs-number">0</span> {
		g.sem = <span class="hljs-literal">nil</span>
		<span class="hljs-keyword">return</span>
	}
	<span class="hljs-keyword">if</span> active := <span class="hljs-built_in">len</span>(g.sem); active != <span class="hljs-number">0</span> {
		<span class="hljs-built_in">panic</span>(fmt.Errorf(<span class="hljs-string">"errgroup: modify limit while %v goroutines in the group are still active"</span>, active))
	}
    <span class="hljs-comment">// å¯åŠ¨ å®¹é‡ä¸º n çš„ cannel </span>
	g.sem = <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> token, n)
}

</code></pre>
<h3 data-id="heading-7"><code>(g *Group) done()</code> å‡½æ•°</h3>
<p>æœ¬è´¨å¯¹ <code>WaitGroup</code> å°è£…äº†ä¸€ä¸ª å¯¹ goroutine æ•°é‡é™åˆ¶ ä¸è®¾ç½®çš„è¯ å°±ç›¸å½“äº <code>WaitGroup.Done()</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(g *Group)</span></span> done() {
	<span class="hljs-keyword">if</span> g.sem != <span class="hljs-literal">nil</span> {  <span class="hljs-comment">// å¦‚æœè®¾ç½®äº†goroutineæ•°é‡é™åˆ¶</span>
		&lt;-g.sem       <span class="hljs-comment">// é‡Šæ”¾ä¿¡å·é‡ï¼Œä»semé€šé“å–å‡ºä¸€ä¸ªtokenï¼Œå…è®¸æ–°çš„goroutineå¯åŠ¨</span>
	}
	g.wg.Done()       <span class="hljs-comment">// é€šçŸ¥ WaitGroupï¼šä¸€ä¸ªgoroutineæ‰§è¡Œå®Œæˆ</span>
}
</code></pre>
<h3 data-id="heading-8"><code>(g *Group) Wait()</code> å‡½æ•°</h3>
<p>åŒæ ·ä¹Ÿæ˜¯å¤šå°è£…äº†ä¸€ä¸‹ è°ƒç”¨ <code>cancel(g.err) </code>æ–¹æ³• å»è®°å½•é”™è¯¯ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ å†…éƒ¨å…·ä½“ç»†èŠ‚å¯ä»¥çœ‹æœ€åæºç </p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(g *Group)</span></span> Wait() <span class="hljs-type">error</span> {
	g.wg.Wait()          <span class="hljs-comment">// é˜»å¡ï¼Œç›´åˆ°æ‰€æœ‰goroutineè°ƒç”¨äº†wg.Done()</span>
	<span class="hljs-keyword">if</span> g.cancel != <span class="hljs-literal">nil</span> { <span class="hljs-comment">// å¦‚æœç»‘å®šäº†Contextï¼ˆé€šè¿‡WithContextåˆ›å»ºï¼‰</span>
		g.cancel(g.err)  <span class="hljs-comment">// å–æ¶ˆContextï¼Œä¼ é€’é”™è¯¯ä½œä¸ºå–æ¶ˆåŸå› </span>
	}
	<span class="hljs-keyword">return</span> g.err         <span class="hljs-comment">// è¿”å›ç¬¬ä¸€ä¸ªénilé”™è¯¯ï¼ˆæ— é”™è¯¯åˆ™è¿”å›nilï¼‰</span>
}
</code></pre>
<h3 data-id="heading-9">æ ¸å¿ƒ <code>(g *Group) Go</code> å‡½æ•°</h3>
<p>è¿™é‡Œå¹¶æ²¡æœ‰æ•è· <code>panic</code> ï¼Œå¦‚æœæ•æ‰çš„è¯å¯èƒ½å¯¼è‡´ <code>panic</code> æ—¶æœºå»¶è¿Ÿï¼Œè°ƒè¯•å›°éš¾ï¼Œ<code>panic</code> æ ˆä¼šè¢«è½¬ä¸ºæ™®é€šå€¼ï¼Œæ— æ³•è¢«ç›‘æ§å·¥å…·æ•è·ï¼Œè€Œä¸”è¿˜å¯èƒ½å¯¼è‡´æ­»é”</p>
<p>æ¯”å¦‚ ä¸¤ä¸ª<code>goroutine</code>è¢«åˆ›å»º ç¬¬ä¸€ä¸ªå‘ç”Ÿ <code>panic </code>ç¬¬äºŒä¸ªåœ¨é˜»å¡ç­‰å¾…ï¼Œ<code>Wait</code> éœ€è¦ç­‰å¾…ä¸¤ä¸ªä»»åŠ¡ç»“æŸæ‰è¿”å›ï¼Œæ­»é”</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(g *Group)</span></span> Go(f <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> <span class="hljs-type">error</span>) {
	<span class="hljs-comment">// è‹¥è®¾ç½®äº†goroutineæ•°é‡é™åˆ¶ï¼Œå…ˆè·å–ä¿¡å·é‡ å¦‚æœå·²ç»æ»¡äº† é˜»å¡ç›´åˆ°æœ‰ç©ºé—²token</span>
	<span class="hljs-keyword">if</span> g.sem != <span class="hljs-literal">nil</span> {
		g.sem &lt;- token{} <span class="hljs-comment">// å‘é€ç©ºtokenåˆ°semé€šé“ï¼Œå ç”¨ä¸€ä¸ªå¹¶å‘åé¢</span>
	}

	<span class="hljs-comment">// å¢åŠ WaitGroupè®¡æ•°</span>
	g.wg.Add(<span class="hljs-number">1</span>)
	
	<span class="hljs-comment">// å¯åŠ¨æ–°goroutineæ‰§è¡Œä»»åŠ¡</span>
	<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
		<span class="hljs-keyword">defer</span> g.done() <span class="hljs-comment">// æœ€åæ‰§è¡Œæ— è®ºé”™è¯¯è¿˜æ˜¯æ­£å¸¸</span>

		<span class="hljs-comment">// æ‰§è¡Œç”¨æˆ·ä¼ å…¥çš„å‡½æ•°ï¼Œè·å–é”™è¯¯</span>
		<span class="hljs-keyword">if</span> err := f(); err != <span class="hljs-literal">nil</span> {
			<span class="hljs-comment">// ä»…ç¬¬ä¸€æ¬¡æ‰§è¡Œ  ä¿è¯åªå­˜ç¬¬ä¸€ä¸ªé”™è¯¯</span>
			g.errOnce.Do(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
				g.err = err          <span class="hljs-comment">// å­˜å‚¨ç¬¬ä¸€ä¸ªé”™è¯¯</span>
				<span class="hljs-keyword">if</span> g.cancel != <span class="hljs-literal">nil</span> { <span class="hljs-comment">// è‹¥ç»‘å®šäº†Contextï¼Œå–æ¶ˆæ‰€æœ‰å…³è” goroutine å¤§éƒ¨åˆ†éƒ½ä¼šæœ‰çš„ å› ä¸ºæˆ‘ä»¬åœ¨å…¥å£ä¼ äº†</span>
					g.cancel(g.err)
				}
			})
		}
	}()
}

<span class="hljs-comment">// è¿™ä¸ªå‡½æ•°å’Œ Go çš„å”¯ä¸€åŒºåˆ«å°±æ˜¯ å®ƒä¸é˜»å¡ ä¸€æ—¦æ•°é‡æ»¡äº† ç›´æ¥é€€å‡º</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(g *Group)</span></span> TryGo(f <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> <span class="hljs-type">error</span>) <span class="hljs-type">bool</span> {
    	<span class="hljs-keyword">if</span> g.sem != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">select</span> {
		<span class="hljs-keyword">case</span> g.sem &lt;- token{}: <span class="hljs-comment">// æˆåŠŸè·å–token</span>
		<span class="hljs-keyword">default</span>:               <span class="hljs-comment">// æ— ç©ºé—²token  å¹¶å‘æ•°è¾¾ä¸Šé™ï¼Œç›´æ¥è¿”å›false</span>
			<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
		}
	}
    ...  <span class="hljs-comment">//é€»è¾‘ä¸€æ ·</span>
}

</code></pre>
<h2 data-id="heading-10">Context éƒ¨åˆ†æºç </h2>
<h3 data-id="heading-11"><code>context.WithCancelCause</code> ä¸  <code>context.WithCancel</code> çš„ æºç  åŒºåˆ«</h3>
<p>ç®€å•ç†è§£å°±æ˜¯åœ¨è¿”å› <code>cancel</code>å‡½æ•°çš„æ—¶å€™å¤šäº†ä¸€ä¸ªå‚æ•°è€Œå·²</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">WithCancel</span><span class="hljs-params">(parent Context)</span></span> (ctx Context, cancel CancelFunc) {
	c := withCancel(parent)
	<span class="hljs-keyword">return</span> c, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> { c.cancel(<span class="hljs-literal">true</span>, Canceled, <span class="hljs-literal">nil</span>) }
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">WithCancelCause</span><span class="hljs-params">(parent Context)</span></span> (ctx Context, cancel CancelCauseFunc) {
	c := withCancel(parent)
	<span class="hljs-keyword">return</span> c, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(cause <span class="hljs-type">error</span>)</span></span> { c.cancel(<span class="hljs-literal">true</span>, Canceled, cause) }
}

</code></pre>
<h3 data-id="heading-12">å…ˆä»‹ç»æ ¸å¿ƒç»“æ„ä½“ <code>cancelCtx</code>  å’Œ <code>cancelCtx.cancel</code> æ–¹æ³•</h3>
<p><code>context.WithCancel</code> å’Œ <code>context.WithCancelCause</code> ä»¥åŠ <code>context.WithTimeout</code> éƒ½æœ‰å®ƒçš„å½±å­</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// æ ¸å¿ƒç»“æ„ä½“ cancelCtx</span>
<span class="hljs-keyword">type</span> cancelCtx <span class="hljs-keyword">struct</span> {
	Context          <span class="hljs-comment">//       åµŒå…¥çˆ¶Contextï¼Œç»§æ‰¿çˆ¶Contextçš„æ‰€æœ‰æ–¹æ³•ï¼ˆDone/Err/Valueç­‰ï¼‰  è¯¥å­—æ®µæ˜¯ä¸ªæ¥å£</span>
	mu       sync.Mutex            <span class="hljs-comment">// ä¿æŠ¤ä»¥ä¸‹å­—æ®µçš„å¹¶å‘è¯»å†™å®‰å…¨</span>
	done     atomic.Value       <span class="hljs-comment">// å­˜å‚¨chan struct{}ï¼Œè´Ÿè´£é€šçŸ¥å¤–éƒ¨é˜»å¡å‡½æ•° æŸ¥çœ‹ Doneæ–¹æ³• å’Œ Cancel æ–¹æ³• ä¹‹åå°±æ˜ç™½</span>
	children <span class="hljs-keyword">map</span>[canceler]<span class="hljs-keyword">struct</span>{} <span class="hljs-comment">// å­˜å‚¨å½“å‰Contextçš„å­cancelerï¼Œå–æ¶ˆæ—¶ä¼šéå†å–æ¶ˆæ‰€æœ‰å­Context</span>
	err      atomic.Value          <span class="hljs-comment">// å­˜å‚¨å–æ¶ˆæ—¶çš„é”™è¯¯ï¼ˆå¦‚context.Canceledï¼‰ï¼ŒåŸå­æ“ä½œé¿å…é”ç«äº‰</span>
	cause    <span class="hljs-type">error</span>                 <span class="hljs-comment">// WithCancelCauseçš„æ ¸å¿ƒ ï¼šå­˜å‚¨å–æ¶ˆåŸå› ï¼Œä»…åœ¨ç¬¬ä¸€æ¬¡å–æ¶ˆæ—¶èµ‹å€¼</span>
}

<span class="hljs-comment">// contextåŒ…å†…éƒ¨çš„æ¥å£ï¼Œå®šä¹‰äº†ã€Œå¯å–æ¶ˆã€çš„è¡Œä¸º</span>
<span class="hljs-keyword">type</span> canceler <span class="hljs-keyword">interface</span> {
	cancel(removeFromParent <span class="hljs-type">bool</span>, err <span class="hljs-type">error</span>, cause <span class="hljs-type">error</span>)
	Done() &lt;-<span class="hljs-keyword">chan</span> <span class="hljs-keyword">struct</span>{}
}
</code></pre>
<h3 data-id="heading-13">æ ¸å¿ƒæ–¹æ³• <code>cancelCtx.cancel</code></h3>
<p>è¿™ä¸ªå‡½æ•° æ˜¯å†™æ–¹æ³•ï¼Œä½¿ç”¨é¢‘ç‡æ˜¯æä½çš„ å¯èƒ½å°±æ˜¯æ‰‹åŠ¨ cancel æˆ–è€… çˆ¶ context è¿›è¡Œ cancelï¼Œä¸ºäº†é˜²æ­¢å¹¶å‘é—®é¢˜ä¹Ÿå°±æ˜¯åŒæ—¶è¿›è¡Œ <code>c.err.Load()</code> å‘ç°æ²¡æœ‰ï¼Œç„¶åéƒ½æ‰§è¡Œäº† <code>c.err.Store(err)</code> æ˜¯æœ‰é—®é¢˜çš„ æˆ‘ä»¬åªè®°å½•ç¬¬ä¸€æ¬¡ è€Œä¸”åé¢ <code>close(d)</code> ä¼šæŠ¥é”™ï¼Œè¿™é‡Œå¿…é¡»ç”¨é”ï¼Œä¹Ÿä¸ä¼šå½±å“æ€§èƒ½</p>
<p>è¯»æ–¹æ³• <code>Err()ã€Done()</code> æ–¹æ³• å¸¸è§ <code>for + select</code> å¯èƒ½æ¯ä¸ª goroutine æ¯æ¯«ç§’è·‘å‡ ä¸‡æ¬¡ï¼Œè¿™ç§å°±ä¸èƒ½åŠ é”ï¼Œå¤ªå½±å“æ€§èƒ½ è¿™ä¸ªæ—¶å€™å°±ä½“ç°å‡ºæ¥ <code>atomic.Value </code> è¿™ä¸ªå­—æ®µçš„å¥½å¤„ï¼Œé˜²æ­¢ä¸€ä¸ª goroutine åœ¨ <code>cancel() </code>é‡Œå†™ <code>c.err</code>ï¼Œå¦ä¸€ä¸ª goroutine åŒæ—¶åœ¨ Err() é‡Œè¯» <code>c.err</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *cancelCtx)</span></span> cancel(removeFromParent <span class="hljs-type">bool</span>, err, cause <span class="hljs-type">error</span>) {
    <span class="hljs-comment">// Context è®¾è®¡åŸåˆ™ï¼šå–æ¶ˆå¿…é¡»å…³è”é”™è¯¯</span>
    <span class="hljs-keyword">if</span> err == <span class="hljs-literal">nil</span> {
        <span class="hljs-built_in">panic</span>(<span class="hljs-string">"context: internal error: missing cancel error"</span>)
    }
    
    <span class="hljs-comment">// æ—§ç‰ˆæœ¬ å¹¶æ²¡æœ‰ WithCancelCause ä¹Ÿå°±æ²¡æœ‰è¿™ä¸ªå­—æ®µ å…¼å®¹ æ—§é€»è¾‘</span>
    <span class="hljs-keyword">if</span> cause == <span class="hljs-literal">nil</span> {
        cause = err
    }

    <span class="hljs-comment">// ä¸Šé¢å·²ç»è§£é‡Š</span>
    c.mu.Lock()
    <span class="hljs-comment">// çœ‹ä¸€ä¸‹ é‡Œé¢æœ‰æ²¡æœ‰æ•°æ®</span>
    <span class="hljs-keyword">if</span> c.err.Load() != <span class="hljs-literal">nil</span> {  <span class="hljs-comment">//åŸå­åœ°æŠŠå€¼æ‹¿å‡ºæ¥</span>
        c.mu.Unlock()
        <span class="hljs-keyword">return</span>  <span class="hljs-comment">// è¯´æ˜æœ‰æ•°æ® å·²ç»å†™è¿‡äº† åªè¦å†™è¿‡äº† å°±ä¸€å®šæ˜¯åœ¨è¿™ä¸ªå‡½æ•°ä¸­å†™çš„ è¯´æ˜è¿è¡Œè¿‡ä¸€æ¬¡ ç›´æ¥return</span>
    }

    <span class="hljs-comment">// åˆ°è¿™è¯´æ˜ç¬¬ä¸€æ¬¡è¿› cancel æ–¹æ³• å†™å…¥é”™è¯¯ä¸‹ä¸€ä¸ª goroutine å†æ¥è°ƒç”¨ ç›´æ¥ return</span>
    c.err.Store(err)   <span class="hljs-comment">// åŸå­æ“ä½œï¼šé«˜é¢‘è¯»å–æ—¶æ— éœ€åŠ é”ï¼Œæ€§èƒ½æ›´ä¼˜</span>
    c.cause = cause    <span class="hljs-comment">// ä¿è¯äº†ä»…ç¬¬ä¸€æ¬¡èµ‹å€¼æœ‰æ•ˆ  å› ä¸ºç¬¬äºŒæ¬¡ç›´æ¥ return </span>

    
    <span class="hljs-comment">// å…³é—­å–æ¶ˆä¿¡å·é€šé“ï¼Œç”¨äºé€šçŸ¥å¤–éƒ¨ select { case &lt;-ctx.Done(): } æ¶ˆé™¤é˜»å¡</span>
    d, _ := c.done.Load().(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">struct</span>{})
    <span class="hljs-keyword">if</span> d == <span class="hljs-literal">nil</span> {
        <span class="hljs-comment">// æ‡’åˆ›å»º ä¸‹é¢ä¼šè¯¦ç»†è®²</span>
        c.done.Store(closedchan)
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// è‹¥ done é€šé“å·²åˆ›å»ºï¼Œå…³é—­é€šé“ æ¶ˆé™¤é˜»å¡</span>
        <span class="hljs-built_in">close</span>(d)
    }

    <span class="hljs-comment">// é€’å½’å–æ¶ˆæ‰€æœ‰å­ Context</span>
    <span class="hljs-keyword">for</span> child := <span class="hljs-keyword">range</span> c.children {
        <span class="hljs-comment">// æŒæœ‰çˆ¶é”æ—¶è·å–å­é”ä¼šæœ‰åµŒå¥—é”é£é™©ï¼Œä½† Context å–æ¶ˆæ˜¯ä½é¢‘æ“ä½œï¼Œå¯æ¥å— </span>
        child.cancel(<span class="hljs-literal">false</span>, err, cause)
    }
    <span class="hljs-comment">// æ¸…ç©ºå­åˆ—è¡¨ï¼Œé‡Šæ”¾å†…å­˜ï¼Œé¿å…æ³„æ¼</span>
    c.children = <span class="hljs-literal">nil</span>

    <span class="hljs-comment">//è§£é”</span>
    c.mu.Unlock()

    <span class="hljs-comment">// åŸºæœ¬ä¸Šéƒ½æ˜¯ True  é»˜è®¤ç§»é™¤ é¿å…å†…å­˜æ³„æ¼</span>
    <span class="hljs-keyword">if</span> removeFromParent {
        <span class="hljs-comment">// ä»çˆ¶ Context ç§»é™¤è‡ªèº«</span>
        removeChild(c.Context, c)
    }
}

</code></pre>
<h3 data-id="heading-14">æ‡’åˆ›å»º</h3>
<p>æˆ‘ä»¬åœ¨å†™ä»£ç çš„æ—¶å€™ï¼Œå¾ˆå°‘å»å†™ <code>ctx.Done()</code>  æ–¹æ³•ï¼Œéå¸¸å¸¸è§çš„ä¸¤ç§ï¼Œè¦ä¹ˆä¸ç”¨ï¼Œè¦ä¹ˆåªç”¨  <code>cancel</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// ç¬¬ä¸€ç§ ä¸ç”¨</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">work</span><span class="hljs-params">(ctx context.Context)</span></span> {
    time.Sleep(<span class="hljs-number">10</span> * time.Second)
}

<span class="hljs-comment">// ç¬¬äºŒç§ åª cancel</span>
ctx, cancel := context.WithCancel(parent)
<span class="hljs-keyword">defer</span> cancel()

doSomething(ctx) <span class="hljs-comment">// ctx åªæ˜¯è¢«ä¼ æ¥ä¼ å»</span>
</code></pre>
<p>æ­£å¸¸é€»è¾‘æ˜¯ å»ºå®Œ <code>ctx</code> è¦ä½¿ç”¨ <code>Done()</code>æ–¹æ³•</p>
<p>å®ƒè¿›è¡Œäº†ä¸¤æ¬¡åˆ¤æ–­ å…¶å®å¯ä»¥è¿›è¡Œä¸€æ¬¡ åœ¨åˆšå¼€å§‹è¿›æ¥çš„æ—¶å€™åŠ é”å°±å¯ä»¥ç›´æ¥åˆ¤æ–­æ˜¯å¦æœ‰å€¼ï¼Œå¯ä»¥ä¸€æ ·çš„æ•ˆæœï¼Œä½†æ˜¯è¿™ä¸ªå‡½æ•°è¯»æå¤šï¼Œå°±å†™ä¸€æ¬¡ï¼Œæ‰€ä»¥å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½ç›´æ¥è¿”å›ï¼Œæ ¹æœ¬ä¸éœ€è¦é”ï¼Œå¦‚æœæŒ‰åˆšå¼€å§‹å°±åŠ é”ï¼Œæ€§èƒ½ç›´çº¿ä¸‹é™</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *cancelCtx)</span></span> Done() &lt;-<span class="hljs-keyword">chan</span> <span class="hljs-keyword">struct</span>{} {  <span class="hljs-comment">//è¿”å›ä¸€ä¸ªåªèƒ½æ¥æ”¶çš„ channel</span>
	d := c.done.Load() <span class="hljs-comment">//ç¬¬ä¸€æ¬¡è¯»å–</span>
	<span class="hljs-keyword">if</span> d != <span class="hljs-literal">nil</span> {
        <span class="hljs-comment">//ä¹‹å‰å·²ç»è°ƒç”¨è¿‡ Done() </span>
		<span class="hljs-keyword">return</span> d.(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">struct</span>{})
	}
	c.mu.Lock()
	<span class="hljs-keyword">defer</span> c.mu.Unlock()
	d = c.done.Load() <span class="hljs-comment">// ç¬¬äºŒæ¬¡é‡æ–°è¯»å–</span>
	<span class="hljs-keyword">if</span> d == <span class="hljs-literal">nil</span> {
        <span class="hljs-comment">// ç¬¬ä¸€æ¬¡ åˆå§‹åŒ–å¹¶å­˜å…¥</span>
		d = <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">struct</span>{})
		c.done.Store(d)
	}
	<span class="hljs-keyword">return</span> d.(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">struct</span>{})
}
</code></pre>
<p>è§£é‡Š  <code> Done()</code>  æ˜¯ æé«˜é¢‘å‡½æ•°</p>
<p>goè¯­è¨€éå¸¸å¸¸è§çš„ é˜»å¡å¾ªç¯ï¼Œæ¯æ¬¡æ‰§è¡Œ <code>ctx.Done()</code> å‡½æ•° è¿”å›çš„æ²¡æœ‰æ•°æ®çš„ channel åªèƒ½èµ° default é€»è¾‘ï¼Œdefault å•¥ä¹Ÿä¸å¹² ç„¶åå†å›åˆ° select è¯­å¥ä¸­ åœ¨æ‰§è¡Œ <code>ctx.Done()</code> å‡½æ•° ç›´åˆ° è°ƒç”¨ <code>concel</code> å‡½æ•° ï¼Œå¯èƒ½æ¯æ¯«ç§’è·‘å‡ ä¸‡æ¬¡ï¼Œåªç¬¬ä¸€æ¬¡è¿›è¡Œäº†ä¿®æ”¹ï¼Œè¿›è¡Œäº†ä¸¤æ¬¡åˆ¤æ–­ï¼Œå…¶ä»–çš„éƒ½æ˜¯ç›´æ¥è¿”å›ï¼Œæ‰€ä»¥ä¸èƒ½åœ¨åˆšå¼€å§‹è¿›è¡ŒåŠ é”</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">for</span> {
    <span class="hljs-keyword">select</span> {
    <span class="hljs-keyword">case</span> &lt;-ctx.Done():
        <span class="hljs-keyword">return</span>
    <span class="hljs-keyword">default</span>:
    }
}
</code></pre>
<h3 data-id="heading-15">æ·±å…¥ <code>withCancel</code> å‡½æ•°</h3>
<p>æˆ‘ä»¬éƒ½çŸ¥é“ <code>parent</code> å‚æ•°ä¸€èˆ¬æƒ…å†µå°±æ˜¯æˆ‘ä»¬è‡ªå·±ä¼ çš„ <code>ctx</code> å¯èƒ½æ˜¯ <code>context.WithCancel</code> æˆ–è€… <code>context.Background</code></p>
<p>åœ¨æ ‡å‡†é¡¹ç›®æˆ–è€…å¤§å‹é¡¹ç›®ä¸­ï¼Œåœ¨ä¸»è¦å†…éƒ¨ç»“æ„ä½“ä¸­ä¼šå®šä¹‰ <code>cancel</code> å­—æ®µç”¨äº ä¼˜é›…é€€å‡º</p>
<p>å¦‚æœ <code>parent</code> æ˜¯  <code>context.Background</code>  æ²¡å•¥æ„ä¹‰ï¼Œ</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">withCancel</span><span class="hljs-params">(parent Context)</span></span> *cancelCtx {
	<span class="hljs-keyword">if</span> parent == <span class="hljs-literal">nil</span> {
		<span class="hljs-built_in">panic</span>(<span class="hljs-string">"cannot create context from nil parent"</span>)
	}
	<span class="hljs-comment">// 1. åˆ›å»ºç©ºçš„cancelCtxå®ä¾‹</span>
	c := &amp;cancelCtx{}
	<span class="hljs-comment">// 2. å»ºç«‹å½“å‰ cancelCtx å’Œçˆ¶ Context çš„å…³è”ï¼Œä½œç”¨æ˜¯çˆ¶å–æ¶ˆæ—¶ï¼Œå­ä¹Ÿä¼šè¢«å–æ¶ˆ</span>
	c.propagateCancel(parent, c)
	<span class="hljs-keyword">return</span> c
}
</code></pre>
<h3 data-id="heading-16"><code>propagateCancel</code> å‡½æ•°</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *cancelCtx)</span></span> propagateCancel(parent Context, child canceler) {
	<span class="hljs-comment">// æŒ‚è½½åˆ°å­—æ®µ </span>
	c.Context = parent

	<span class="hljs-comment">// æŸ¥çœ‹ çˆ¶Contextæ˜¯å¦å¯å–æ¶ˆ</span>
	done := parent.Done()
	<span class="hljs-keyword">if</span> done == <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> 		<span class="hljs-comment">//  å¦‚æœæ˜¯ context.Background æ— éœ€å…³è”ï¼Œçˆ¶æ°¸è¿œä¸ä¼šå–æ¶ˆï¼Œå­åªèƒ½æ‰‹åŠ¨å–æ¶ˆ</span>
	}

	<span class="hljs-comment">// æ£€æŸ¥çˆ¶Contextæ˜¯å¦å·²ç»å–æ¶ˆ  éé˜»å¡</span>
	<span class="hljs-keyword">select</span> {
	<span class="hljs-keyword">case</span> &lt;-done:
		<span class="hljs-comment">// çˆ¶å·²å–æ¶ˆï¼šç«‹å³å–æ¶ˆå­Contextï¼Œç»§æ‰¿çˆ¶çš„é”™è¯¯å’ŒåŸå›   è¿™é‡Œçš„child ä¹Ÿå°±æ˜¯æˆ‘ä»¬åˆšåˆ›å»ºçš„  ç©ºçš„cancelCtxå®ä¾‹</span>
		child.cancel(<span class="hljs-literal">false</span>, parent.Err(), Cause(parent))
		<span class="hljs-keyword">return</span>
	<span class="hljs-keyword">default</span>:  <span class="hljs-comment">// çˆ¶æ²¡å–æ¶ˆ  æ­£å¸¸æƒ…å†µï¼Œåœ¨ä»£ç å¥å£®çš„æƒ…å†µä¸‹ ä¸å¤ªå¯èƒ½åˆšåˆ›å»ºå°±å–æ¶ˆäº†</span>
	}

	<span class="hljs-comment">// æ–­è¨€ å°†çˆ¶Contextè½¬ä¸º *cancelCtx  å‡ ä¹æ‰€æœ‰çš„Context åº•å±‚éƒ½æœ‰å®ƒçš„å½±å­ è¿™æ˜¯æœ€å¸¸è§çš„</span>
	<span class="hljs-keyword">if</span> p, ok := parentCancelCtx(parent); ok {
		p.mu.Lock() <span class="hljs-comment">// åŠ é”ä¿è¯å¹¶å‘å®‰å…¨</span>
		<span class="hljs-keyword">if</span> err := p.err.Load(); err != <span class="hljs-literal">nil</span> {
			<span class="hljs-comment">// çˆ¶å·²å–æ¶ˆï¼šç«‹å³å–æ¶ˆåˆšåˆ›å»ºçš„ cancelCtxå®ä¾‹</span>
			child.cancel(<span class="hljs-literal">false</span>, err.(<span class="hljs-type">error</span>), p.cause)
		} <span class="hljs-keyword">else</span> {
			<span class="hljs-comment">// çˆ¶æœªå–æ¶ˆï¼šå°†å­ContextåŠ å…¥çˆ¶çš„childrenåˆ—è¡¨ å½“çˆ¶å–æ¶ˆæ—¶ä¼šéå†å–æ¶ˆå­</span>
			<span class="hljs-keyword">if</span> p.children == <span class="hljs-literal">nil</span> {  <span class="hljs-comment">//ç¬¬ä¸€æ¬¡éœ€è¦åˆ›å»º</span>
				p.children = <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[canceler]<span class="hljs-keyword">struct</span>{})
			}
			p.children[child] = <span class="hljs-keyword">struct</span>{}{}
		}
		p.mu.Unlock()
		<span class="hljs-keyword">return</span>   <span class="hljs-comment">// å¤§å¤šæ•°åˆ°è¿™è¿”å›äº†</span>
	}

	<span class="hljs-comment">// ç‰¹æ®Šæƒ…å†µï¼šçˆ¶Contextå®ç°äº†afterFunceræ¥å£ï¼ˆæ¯”å¦‚WithDeadline/WithTimeoutï¼‰</span>
	<span class="hljs-keyword">if</span> a, ok := parent.(afterFuncer); ok {
		c.mu.Lock()
		<span class="hljs-comment">// æ³¨å†Œå›è°ƒï¼šçˆ¶å–æ¶ˆæ—¶ï¼Œè§¦å‘å­å–æ¶ˆ</span>
		stop := a.AfterFunc(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
			child.cancel(<span class="hljs-literal">false</span>, parent.Err(), Cause(parent))
		})
		<span class="hljs-comment">// åŒ…è£…çˆ¶Contextï¼Œè®°å½•stopå‡½æ•°ï¼ˆå­å–æ¶ˆæ—¶å¯åœæ­¢å›è°ƒï¼‰</span>
		c.Context = stopCtx{
			Context: parent,
			stop:    stop,
		}
		c.mu.Unlock()
		<span class="hljs-keyword">return</span>
	}

	<span class="hljs-comment">// å…œåº•æ–¹æ¡ˆï¼šçˆ¶Contextä¸æ˜¯cancelCtxä¹Ÿä¸æ˜¯afterFuncerï¼Œä½†å¯å–æ¶ˆï¼ˆDone()â‰ nilï¼‰ è‡ªå·±å®ç°çš„ Context</span>
	goroutines.Add(<span class="hljs-number">1</span>)
	<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
		<span class="hljs-keyword">select</span> {
		<span class="hljs-keyword">case</span> &lt;-parent.Done():
			<span class="hljs-comment">// çˆ¶å–æ¶ˆæ—¶ï¼Œå–æ¶ˆå­Context</span>
			child.cancel(<span class="hljs-literal">false</span>, parent.Err(), Cause(parent))
		<span class="hljs-keyword">case</span> &lt;-child.Done():
			<span class="hljs-comment">// å­å…ˆå–æ¶ˆï¼Œæ— éœ€å¤„ç†</span>
		}
	}()
}
</code></pre>
<h3 data-id="heading-17">æ ¸å¿ƒå‡½æ•° <code>context.Cause</code></h3>
<p><code>Cause</code> æ˜¯ç”¨æˆ·è·å– Context å–æ¶ˆåŸå› çš„ <strong>å”¯ä¸€å…¥å£</strong>ï¼Œ <code>errgroup</code> åœ¨ <code>wait</code> åˆ¤æ–­æ—¶ï¼Œå¯ä»¥æ‹¿åˆ°ç¬¬ä¸€ä¸ªé”™è¯¯ï¼Œä½ ä¹Ÿå¯ä»¥è°ƒç”¨è¿™ä¸ªå‡½æ•°æ‹¿åˆ°é”™è¯¯ï¼Œé˜…è¯»æºç æˆ‘ä»¬çŸ¥é“ï¼Œ<code>errgroup</code> å†…éƒ¨ä¸»åŠ¨ <code>cancel(err)</code> ä¼ å…¥äº†é”™è¯¯ï¼Œå¹¶å­˜å‚¨åœ¨äº† <code>cause</code> å½“ç„¶å¯ä»¥ç”¨è¯¥å‡½æ•°æ‹¿å‡º</p>
<p>åç»­å¯ä»¥é€šè¿‡ <code>cause := context.Cause(ctx)</code>  æ‹¿åˆ°é”™è¯¯</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Cause</span><span class="hljs-params">(c Context)</span></span> <span class="hljs-type">error</span> {
    <span class="hljs-comment">// æ¯ä¸ª Context éƒ½æœ‰ Value(key any) any è¿™ä¸ªå‡½æ•° </span>
	<span class="hljs-keyword">if</span> cc, ok := c.Value(&amp;cancelCtxKey).(*cancelCtx); ok {
		cc.mu.Lock()
		cause := cc.cause
		cc.mu.Unlock()
		<span class="hljs-keyword">if</span> cause != <span class="hljs-literal">nil</span> {
			<span class="hljs-keyword">return</span> cause
		}
	}

	<span class="hljs-keyword">return</span> c.Err()
}

</code></pre>
<h3 data-id="heading-18"><code>Value</code> å‡½æ•°</h3>
<p>å…¶å®å°±æ˜¯é€’å½’å‘ä¸Šæ‰¾ï¼Œæˆ‘ä»¬è¿™ç§æƒ…å†µç›´æ¥è¿”å›ï¼Œéœ€è¦æƒ³ä¸Šæ‰¾çš„æƒ…å†µæ˜¯è‡ªå·±å­˜çš„ä¸šåŠ¡ <code>key</code> ï¼Œåé¢ä¼šä¸¾ä¾‹</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *cancelCtx)</span></span> Value(key any) any {
	<span class="hljs-keyword">if</span> key == &amp;cancelCtxKey {
		<span class="hljs-keyword">return</span> c
	}
	<span class="hljs-keyword">return</span> value(c.Context, key)
}

<span class="hljs-comment">// switch æ‰€æœ‰çš„ å·²çŸ¥çš„ context æ‰¾ä¸åˆ°ç»§ç»­ å‘ä¸Šæ‰¾</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">value</span><span class="hljs-params">(c Context, key any)</span></span> any {
	<span class="hljs-keyword">for</span> {
		<span class="hljs-keyword">switch</span> ctx := c.(<span class="hljs-keyword">type</span>) {
		<span class="hljs-keyword">case</span> *valueCtx:
			<span class="hljs-keyword">if</span> key == ctx.key {
				<span class="hljs-keyword">return</span> ctx.val
			}
			c = ctx.Context
		<span class="hljs-keyword">case</span> *cancelCtx:
			<span class="hljs-keyword">if</span> key == &amp;cancelCtxKey {
				<span class="hljs-keyword">return</span> c
			}
			c = ctx.Context
		<span class="hljs-keyword">case</span> withoutCancelCtx:
			<span class="hljs-keyword">if</span> key == &amp;cancelCtxKey {
				<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
			}
			c = ctx.c
		<span class="hljs-keyword">case</span> *timerCtx:
			<span class="hljs-keyword">if</span> key == &amp;cancelCtxKey {
				<span class="hljs-keyword">return</span> &amp;ctx.cancelCtx
			}
			c = ctx.Context
		<span class="hljs-keyword">case</span> backgroundCtx, todoCtx:  <span class="hljs-comment">// ç©º emptyCtx</span>
			<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
		<span class="hljs-keyword">default</span>:
			<span class="hljs-keyword">return</span> c.Value(key)
		}
	}
}
</code></pre>
<h3 data-id="heading-19">è‡ªå®šä¹‰ä¸šåŠ¡ key</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// è‡ªå®šä¹‰ä¸šåŠ¡ key</span>
<span class="hljs-keyword">type</span> userKey <span class="hljs-keyword">struct</span>{}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// æ ¹ contextï¼Œå­˜å…¥ä¸šåŠ¡æ•°æ®</span>
    ctx1 := context.WithValue(context.Background(), userKey{}, <span class="hljs-string">"å¼ ä¸‰"</span>)
    
    <span class="hljs-comment">// åœ¨å®ƒåŸºç¡€ä¸Šåˆ›å»º cancelCtx</span>
    ctx2, cancel := context.WithCancel(ctx1)
    
    <span class="hljs-comment">// å†å¥—ä¸€å±‚ cancelCtx</span>
    ctx3, cancel2 := context.WithCancel(ctx2)
    
    <span class="hljs-comment">// ç°åœ¨çš„ç»“æ„ï¼š</span>
    <span class="hljs-comment">// Background (ç©º)</span>
    <span class="hljs-comment">//    â””â”€â”€ ctx1 (valueCtx, å­˜äº† userKey="å¼ ä¸‰")</span>
    <span class="hljs-comment">//           â””â”€â”€ ctx2 (cancelCtx)</span>
    <span class="hljs-comment">//                  â””â”€â”€ ctx3 (cancelCtx)  â† æˆ‘ä»¬æ‹¿ç€è¿™ä¸ª</span>
    
    <span class="hljs-comment">// æŸ¥è¯¢ä¸šåŠ¡æ•°æ®ï¼šctx3 æœ¬èº«æ²¡æœ‰ï¼Œä¼šé€’å½’å‘ä¸Šæ‰¾</span>
    user := ctx3.Value(userKey{})
    fmt.Println(<span class="hljs-string">"æ‰¾åˆ°ç”¨æˆ·:"</span>, user)  <span class="hljs-comment">// è¾“å‡º: æ‰¾åˆ°ç”¨æˆ·: å¼ ä¸‰</span>
    
    <span class="hljs-comment">// å³ä½¿ cancel äº†ï¼Œä¾ç„¶èƒ½æ‰¾åˆ°</span>
    cancel2()
    cancel()
    
    user2 := ctx3.Value(userKey{})
    fmt.Println(<span class="hljs-string">"cancelå:"</span>, user2)  <span class="hljs-comment">// è¾“å‡º: cancelå: å¼ ä¸‰</span>
}
</code></pre>
<h2 data-id="heading-20">æ€»ç»“</h2>
<p><code>errgroup</code> æ˜¯å¯¹  <code>sync.WaitGroup </code> çš„å¢å¼ºå°è£…ï¼Œå¯ä»¥å¯¹ goroutine æ•°é‡é™åˆ¶ ï¼Œå¹¶ä¸”ä¸éœ€è¦æ˜¾å¼çš„å†™<code>WaitGroup..Add(1)</code>ï¼Œå†…éƒ¨è‡ªåŠ¨ç®¡ç†ï¼Œé˜²æ­¢æ¼å†™ï¼Œå‡ºé”™è‡ªåŠ¨ <code>cancel</code></p>
<p>å¦‚æœè‡ªå·±ç›¸åŠ ä¸šåŠ¡é€»è¾‘ ç›´æ¥å¯ä»¥å¤åˆ¶ä»£ç ï¼ŒæŒ‰è‡ªå·±çš„éœ€æ±‚æ·»åŠ å­—æ®µæˆ–è€…å‡½æ•°</p>
<p>å¯¹äº <code>context</code> æºä»£ç ï¼Œè¦ææ¸…æ¥šå½“ <code>cancel</code> ååˆ‡æ–­çš„æ˜¯çˆ¶å¯¹å­çš„è¿æ¥ï¼Œä½†å­æœ‰ä¸ªå­—æ®µä¸“é—¨å­˜æ”¾çˆ¶ï¼Œè¿™ä¸ªå¹¶æ²¡æœ‰åˆ‡æ–­ï¼Œæ‰ä½¿å¾—æˆ‘ä»¬å¯ä»¥è°ƒç”¨ <code>context.Cause</code> æ–¹æ³•ä¸€ç›´å‘ä¸Šæ‰¾</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript å†…å­˜æœºåˆ¶ä¸é—­åŒ…åŸç†æ·±åº¦å‰–æ]]></title>    <link>https://juejin.cn/post/7602411521072087059</link>    <guid>https://juejin.cn/post/7602411521072087059</guid>    <pubDate>2026-02-03T10:02:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602411521072087059" data-draft-id="7602401081265504292" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript å†…å­˜æœºåˆ¶ä¸é—­åŒ…åŸç†æ·±åº¦å‰–æ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2026-02-03T10:02:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="NEXT06"/> <meta itemprop="url" content="https://juejin.cn/user/1176918763246011"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript å†…å­˜æœºåˆ¶ä¸é—­åŒ…åŸç†æ·±åº¦å‰–æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1176918763246011/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    NEXT06
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T10:02:42.000Z" title="Tue Feb 03 2026 10:02:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ—¥å¸¸çš„å‰ç«¯å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘çš„å®ç°ï¼Œè€Œå¿½ç•¥äº† JavaScript å¼•æ“åº•å±‚çš„å†…å­˜ç®¡ç†ã€‚ä½œä¸ºä¸€é—¨é«˜çº§è¯­è¨€ï¼ŒJavaScript ç¡®å®å¸®æˆ‘ä»¬å±è”½äº†æ‰‹åŠ¨åˆ†é…å’Œé‡Šæ”¾å†…å­˜çš„ç¹çï¼ˆå¦‚ C è¯­è¨€ä¸­çš„Â mallocÂ å’ŒÂ freeï¼‰ï¼Œä½†è¿™å¹¶ä¸æ„å‘³ç€æˆ‘ä»¬å¯ä»¥å®Œå…¨æ— è§†å†…å­˜æœºåˆ¶ã€‚</p>
<p>ä½ æ˜¯å¦é‡åˆ°è¿‡è¿™æ ·çš„å›°æƒ‘ï¼šä¸ºä»€ä¹ˆä¿®æ”¹ä¸€ä¸ªå˜é‡ä¼šè«åå…¶å¦™åœ°å½±å“å¦ä¸€ä¸ªå˜é‡ï¼Ÿä¸ºä»€ä¹ˆçœ‹ä¼¼æ‰§è¡Œå®Œæ¯•çš„å‡½æ•°ï¼Œå…¶å†…éƒ¨å˜é‡å´ä¾ç„¶é©»ç•™åœ¨å†…å­˜ä¸­ï¼Ÿæˆ–è€…åœ¨æ€§èƒ½ä¼˜åŒ–æ—¶ï¼Œé¢å¯¹å†…å­˜æ³„æ¼æŸæ‰‹æ— ç­–ï¼Ÿ</p>
<p>è¿™ä¸€åˆ‡çš„ç­”æ¡ˆï¼Œéƒ½éšè—åœ¨ JavaScript çš„å†…å­˜å¸ƒå±€ä¸é—­åŒ…çš„åº•å±‚å®ç°ä¹‹ä¸­ã€‚å¦‚æœä¸ç†è§£è¿™äº›åº•å±‚åŸç†ï¼Œå°±å¾ˆéš¾å†™å‡ºé«˜æ€§èƒ½ä¸”å¥å£®çš„ä»£ç ã€‚æœ¬æ–‡å°†ç»“åˆ V8 å¼•æ“çš„å®ç°æœºåˆ¶ï¼Œæ·±å…¥å‰–æ JS çš„å†…å­˜ç®¡ç†ä¸é—­åŒ…çœŸç›¸ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€JS çš„å†…å­˜ä¸–ç•Œï¼šæ ˆä¸å †</h2>
<p>JavaScript å¼•æ“ï¼ˆä»¥ Chrome V8 ä¸ºä¾‹ï¼‰åœ¨æ‰§è¡Œä»£ç æ—¶ï¼Œä¼šå°†å†…å­˜åˆ’åˆ†ä¸ºä¸¤ä¸ªæ ¸å¿ƒåŒºåŸŸï¼š<strong>æ ˆå†…å­˜ï¼ˆStackï¼‰</strong> Â å’ŒÂ <strong>å †å†…å­˜ï¼ˆHeapï¼‰</strong> ã€‚è¿™ç§åˆ’åˆ†å¹¶ééšæ„ä¸ºä¹‹ï¼Œè€Œæ˜¯ä¸ºäº†åœ¨â€œæ‰§è¡Œæ•ˆç‡â€ä¸â€œå­˜å‚¨å®¹é‡â€ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ã€‚</p>
<h3 data-id="heading-1">1. æ ˆå†…å­˜ï¼ˆStackï¼‰ï¼šæ‰§è¡Œçš„ä¸»æˆ˜åœº</h3>
<p>æ ˆå†…å­˜ä¸»è¦ç”¨äºå­˜å‚¨<strong>åŸºæœ¬æ•°æ®ç±»å‹</strong>ï¼ˆNumber, String, Boolean, Undefined, Null, Symbol, BigIntï¼‰ä»¥åŠ<strong>æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆExecution Contextï¼‰</strong> ã€‚</p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šç©ºé—´è¾ƒå°ï¼Œå†…å­˜åœ°å€è¿ç»­ã€‚</li>
<li><strong>ç®¡ç†æ–¹å¼</strong>ï¼šéµå¾ªâ€œåè¿›å…ˆå‡ºâ€ï¼ˆLIFOï¼‰åŸåˆ™ã€‚</li>
<li><strong>ä¼˜åŠ¿</strong>ï¼šæ“ä½œæå¿«ã€‚V8 å¼•æ“åªéœ€ç§»åŠ¨æ ˆé¡¶æŒ‡é’ˆï¼ˆESPï¼‰ï¼Œå³å¯å®Œæˆä¸Šä¸‹æ–‡çš„åˆ‡æ¢å’Œå†…å­˜çš„å›æ”¶ã€‚</li>
</ul>
<p>ç”±äº JavaScript æ˜¯å•çº¿ç¨‹è¯­è¨€ï¼Œä¸»çº¿ç¨‹çš„è°ƒç”¨æ ˆåˆ‡æ¢éå¸¸é¢‘ç¹ã€‚å¦‚æœæ ˆå†…å­˜è¿‡å¤§æˆ–å­˜å‚¨çš„æ•°æ®ç»“æ„è¿‡äºå¤æ‚ï¼Œä¼šå¯¼è‡´æ ˆæŒ‡é’ˆç§»åŠ¨å—é˜»ï¼Œç›´æ¥é˜»å¡ä¸»çº¿ç¨‹ï¼Œé€ æˆé¡µé¢å¡é¡¿ã€‚å› æ­¤ï¼Œæ ˆä¸»è¦ç”¨äºå¤„ç†è½»é‡çº§çš„æ•°æ®å’Œç»´æŒç¨‹åºæ‰§è¡Œæµã€‚</p>
<h3 data-id="heading-2">2. å †å†…å­˜ï¼ˆHeapï¼‰ï¼šæ•°æ®çš„ä»“åº“</h3>
<p>å †å†…å­˜ç”¨äºå­˜å‚¨<strong>å¼•ç”¨æ•°æ®ç±»å‹</strong>ï¼ˆObject, Array, Function ç­‰ï¼‰ã€‚</p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šç©ºé—´å·¨å¤§ï¼Œå†…å­˜åœ°å€ä¸è¿ç»­ï¼ˆæ‚ä¹±ï¼‰ã€‚</li>
<li><strong>ç®¡ç†æ–¹å¼</strong>ï¼šç”±åƒåœ¾å›æ”¶å™¨ï¼ˆGCï¼‰è¿›è¡Œç®¡ç†ã€‚</li>
<li><strong>åŠ£åŠ¿</strong>ï¼šå†…å­˜åˆ†é…å’Œå›æ”¶çš„å¼€é”€è¾ƒå¤§ã€‚</li>
</ul>
<h3 data-id="heading-3">3. ä»£ç å®æˆ˜ï¼šèµ‹å€¼è¡Œä¸ºçš„å·®å¼‚</h3>
<p>ç†è§£äº†æ ˆå’Œå †çš„åŒºåˆ«ï¼Œå°±èƒ½è§£é‡Šä¸ºä»€ä¹ˆä¸åŒç±»å‹çš„å˜é‡åœ¨èµ‹å€¼æ—¶è¡¨ç°æˆªç„¶ä¸åŒã€‚</p>
<p><strong>åœºæ™¯ä¸€ï¼šåŸºæœ¬ç±»å‹çš„èµ‹å€¼ï¼ˆå€¼æ‹·è´ï¼‰</strong></p>
<p>JavaScript</p>
<pre><code class="hljs language-ini" lang="ini">// å¯¹åº” File 1.js
function foo() {
    var <span class="hljs-attr">a</span> = <span class="hljs-number">1</span><span class="hljs-comment">; </span>
    var <span class="hljs-attr">b</span> = a<span class="hljs-comment">; // åœ¨æ ˆä¸­å¼€è¾Ÿæ–°ç©ºé—´ï¼Œå°† 1 æ‹·è´ç»™ b</span>
    <span class="hljs-attr">a</span> = <span class="hljs-number">2</span><span class="hljs-comment">;     // ä¿®æ”¹ aï¼Œä¸å½±å“ b</span>
    console.log(a)<span class="hljs-comment">; // 2</span>
    console.log(b)<span class="hljs-comment">; // 1</span>
}
foo()<span class="hljs-comment">;</span>
</code></pre>
<p>å¯¹äºåŸºæœ¬ç±»å‹ï¼Œå˜é‡ç›´æ¥åœ¨æ ˆä¸­å­˜å‚¨å…¶<strong>å€¼</strong>ã€‚var b = aÂ æ‰§è¡Œçš„æ˜¯<strong>å®Œæ•´çš„å€¼æ‹·è´</strong>ï¼ŒaÂ å’ŒÂ bÂ åœ¨å†…å­˜ä¸­æ˜¯å®Œå…¨ç‹¬ç«‹çš„ä¸¤ä¸ªå—ã€‚</p>
<p><strong>åœºæ™¯äºŒï¼šå¼•ç”¨ç±»å‹çš„èµ‹å€¼ï¼ˆåœ°å€æ‹·è´ï¼‰</strong></p>
<p>JavaScript</p>
<pre><code class="hljs language-css" lang="css">// å¯¹åº” File <span class="hljs-number">2</span><span class="hljs-selector-class">.js</span>
function foo() {
    <span class="hljs-selector-tag">var</span> <span class="hljs-selector-tag">a</span> = {name: <span class="hljs-string">"æå®¢æ—¶é—´"</span>}; // å †ä¸­å­˜å‚¨å¯¹è±¡ï¼Œæ ˆä¸­ <span class="hljs-selector-tag">a</span> å­˜å‚¨è¯¥å¯¹è±¡çš„å †åœ°å€
    <span class="hljs-selector-tag">var</span> <span class="hljs-selector-tag">b</span> = <span class="hljs-selector-tag">a</span>;                // æ ˆä¸­ <span class="hljs-selector-tag">b</span> å¤åˆ¶äº† <span class="hljs-selector-tag">a</span> çš„åœ°å€æŒ‡é’ˆ
    <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.name</span> = "æå®¢é‚¦";         // é€šè¿‡åœ°å€ä¿®æ”¹å †ä¸­çš„å®ä½“
    console<span class="hljs-selector-class">.log</span>(<span class="hljs-selector-tag">a</span>); // {name: <span class="hljs-string">"æå®¢é‚¦"</span>}
    console<span class="hljs-selector-class">.log</span>(<span class="hljs-selector-tag">b</span>); // {name: <span class="hljs-string">"æå®¢é‚¦"</span>}
}
foo();
</code></pre>
<p>å¯¹äºå¼•ç”¨ç±»å‹ï¼Œå˜é‡åœ¨æ ˆä¸­å­˜å‚¨çš„æ˜¯<strong>æŒ‡å‘å †å†…å­˜çš„åœ°å€ï¼ˆæŒ‡é’ˆï¼‰</strong> ï¼ŒçœŸæ­£çš„å®ä½“æ•°æ®å­˜åœ¨å †ä¸­ã€‚var b = aÂ ä»…ä»…æ˜¯æ‹·è´äº†è¿™ä¸ªæŒ‡é’ˆã€‚å› æ­¤ï¼ŒaÂ å’ŒÂ bÂ æŒ‡å‘åŒä¸€ä¸ªå †å†…å­˜å—ï¼Œä¿®æ”¹å…¶ä¸­ä¸€ä¸ªï¼Œå¿…ç„¶å½±å“å¦ä¸€ä¸ªã€‚</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07b90eda429f43ff9b5c9264ad6bb34c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTkVYVDA2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770717762&amp;x-signature=MjXhPw77oW1s5brelPbQhI93vaU%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-4">äºŒã€åŠ¨æ€ç±»å‹çš„åŒåˆƒå‰‘</h2>
<p>JavaScript æ˜¯ä¸€é—¨<strong>åŠ¨æ€å¼±ç±»å‹</strong>è¯­è¨€ï¼Œè¿™æ„å‘³ç€å˜é‡æœ¬èº«æ²¡æœ‰ç±»å‹ï¼Œ<strong>å€¼</strong>æ‰æœ‰ç±»å‹ï¼Œä¸”ç±»å‹å¯ä»¥åœ¨è¿è¡Œæ—¶æ”¹å˜ã€‚</p>
<p>JavaScript</p>
<pre><code class="hljs language-ini" lang="ini">// å¯¹åº” File 3.js
var bar<span class="hljs-comment">; </span>
<span class="hljs-attr">bar</span> = <span class="hljs-number">12</span><span class="hljs-comment">;           // Number</span>
<span class="hljs-attr">bar</span> = <span class="hljs-string">"æå®¢æ—¶é—´"</span><span class="hljs-comment">;    // String</span>
<span class="hljs-attr">bar</span> = {name: <span class="hljs-string">"G"</span>}<span class="hljs-comment">;  // Object</span>
</code></pre>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒC è¯­è¨€ç­‰é™æ€è¯­è¨€åœ¨ç¼–è¯‘é˜¶æ®µå°±éœ€è¦ç¡®å®šå˜é‡ç±»å‹å’Œå†…å­˜å¤§å°ï¼š</p>
<p>C</p>
<pre><code class="hljs language-ini" lang="ini">// å¯¹åº” File 4.c
int <span class="hljs-attr">a</span> = <span class="hljs-number">1</span><span class="hljs-comment">; // ç¼–è¯‘æœŸåˆ†é… 4 å­—èŠ‚</span>
char* <span class="hljs-attr">b</span> = <span class="hljs-string">"hello"</span><span class="hljs-comment">;</span>
</code></pre>
<p><strong>å¯¹æ¯”åˆ†æ</strong>ï¼š</p>
<ul>
<li><strong>é™æ€è¯­è¨€</strong>ï¼šç¼–è¯‘å™¨çŸ¥é“Â intÂ æ°¸è¿œå  4 ä¸ªå­—èŠ‚ï¼Œå› æ­¤å¯ä»¥ç”Ÿæˆæå…¶é«˜æ•ˆçš„å†…å­˜æŒ‡ä»¤ã€‚</li>
<li><strong>JavaScript</strong>ï¼šV8 å¼•æ“æ— æ³•åœ¨ç¼–è¯‘æœŸç¡®å®šÂ barÂ åˆ°åº•éœ€è¦å¤šå°‘ç©ºé—´ï¼ˆå¯èƒ½æ˜¯ 8 å­—èŠ‚çš„æ•°å­—ï¼Œä¹Ÿå¯èƒ½æ˜¯å·¨å¤§çš„å¯¹è±¡ï¼‰ã€‚</li>
</ul>
<p>ä¸ºäº†åº”å¯¹è¿™ç§åŠ¨æ€æ€§ï¼ŒV8 é‡‡ç”¨äº†å¤æ‚çš„**å¯¹è±¡æ¨¡å‹ï¼ˆObject Modelï¼‰<strong>å’Œ</strong>éšè—ç±»ï¼ˆHidden Classï¼‰**æŠ€æœ¯ï¼Œå°†æ˜“å˜çš„æ•°æ®ç»“æ„å°½é‡æ ‡å‡†åŒ–ã€‚è¿™ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆåœ¨ JS ä¸­ä¸å»ºè®®é¢‘ç¹æ›´æ”¹å¯¹è±¡çš„å½¢çŠ¶ï¼ˆå¦‚åŠ¨æ€æ·»åŠ å±æ€§ï¼‰ï¼Œå› ä¸ºè¿™ä¼šç ´åå¼•æ“çš„ä¼˜åŒ–ç­–ç•¥ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ JS çš„ä¸€ä¸ªå†å²é—ç•™ Bugï¼š</p>
<p>JavaScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-literal">null</span>); <span class="hljs-comment">// "object"</span>
</code></pre>
<p>è¿™æ˜¯å› ä¸ºåœ¨ JS çš„ç¬¬ä¸€ç‰ˆå®ç°ä¸­ï¼Œä½¿ç”¨ä½ä½äºŒè¿›åˆ¶æ ‡ç­¾è¡¨ç¤ºç±»å‹ï¼Œ000Â å¼€å¤´è¡¨ç¤ºå¯¹è±¡ï¼Œè€ŒÂ nullÂ å…¨æ˜¯ 0ï¼Œå¯¼è‡´è¢«è¯¯åˆ¤ä¸º Objectã€‚ä¸ºäº†å…¼å®¹æ€§ï¼Œè¿™ä¸ª Bug è¢«ä¿ç•™è‡³ä»Šã€‚</p>
<h2 data-id="heading-5">ä¸‰ã€é—­åŒ…çš„åº•å±‚çœŸç›¸ï¼šé€ƒé€¸çš„å˜é‡</h2>
<p>è®¸å¤šå¼€å‘è€…å¯¹é—­åŒ…çš„ç†è§£ä»…åœç•™åœ¨â€œå‡½æ•°å†…éƒ¨è®¿é—®å¤–éƒ¨å˜é‡â€ã€‚ä½†ä»å†…å­˜è§’åº¦çœ‹ï¼Œ<strong>é—­åŒ…çš„æœ¬è´¨æ˜¯å˜é‡ä»æ ˆå†…å­˜â€œé€ƒé€¸â€åˆ°äº†å †å†…å­˜</strong>ã€‚</p>
<p>æŒ‰ç…§å¸¸è§„é€»è¾‘ï¼Œå‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œå…¶æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆExecution Contextï¼‰ä¼šä»è°ƒç”¨æ ˆå¼¹å‡ºï¼Œæ ˆä¸Šçš„å±€éƒ¨å˜é‡åº”è¯¥è¢«é”€æ¯ã€‚é‚£ä¹ˆï¼Œé—­åŒ…æ˜¯å¦‚ä½•è®©å˜é‡â€œæ´»â€ä¸‹æ¥çš„ï¼Ÿ</p>
<h3 data-id="heading-6">1. é¢„æ‰«æä¸é€ƒé€¸åˆ†æ</h3>
<p>V8 å¼•æ“åœ¨æ‰§è¡Œä»£ç å‰ï¼Œä¼šè¿›è¡Œ<strong>è¯æ³•æ‰«æï¼ˆScopingï¼‰</strong> ã€‚</p>
<p>JavaScript</p>
<pre><code class="hljs language-ini" lang="ini">// å¯¹åº” File 6.html
function foo() {
    var <span class="hljs-attr">myName</span> = <span class="hljs-string">"æå®¢æ—¶é—´"</span><span class="hljs-comment">; // å¤–éƒ¨å˜é‡</span>
    let <span class="hljs-attr">test1</span> = <span class="hljs-number">1</span><span class="hljs-comment">;</span>
    const <span class="hljs-attr">test2</span> = <span class="hljs-number">2</span><span class="hljs-comment">;        // æœªè¢«å†…éƒ¨å‡½æ•°å¼•ç”¨</span>
    
    var <span class="hljs-attr">innerBar</span> = { 
        setName: function(newName){
            <span class="hljs-attr">myName</span> = newName<span class="hljs-comment">; // å¼•ç”¨ myName</span>
        },
        getName: function(){
            console.log(test1)<span class="hljs-comment">; // å¼•ç”¨ test1</span>
            return myName<span class="hljs-comment">;</span>
        }
    }
    return innerBar<span class="hljs-comment">;</span>
}
var <span class="hljs-attr">bar</span> = foo()<span class="hljs-comment">;</span>
</code></pre>
<p><strong>æ‰§è¡Œè¿‡ç¨‹æ·±åº¦å‰–æ</strong>ï¼š</p>
<ol>
<li>
<p><strong>ç¼–è¯‘é˜¶æ®µ</strong>ï¼šå½“ç¼–è¯‘Â fooÂ å‡½æ•°æ—¶ï¼Œå¼•æ“ä¼šå¿«é€Ÿæ‰«æå…¶å†…éƒ¨å‡½æ•°ï¼ˆsetName,Â getNameï¼‰ã€‚</p>
</li>
<li>
<p><strong>é—­åŒ…æ£€æµ‹</strong>ï¼šå¼•æ“å‘ç°å†…éƒ¨å‡½æ•°å¼•ç”¨äº†Â fooÂ ä½œç”¨åŸŸä¸‹çš„Â myNameÂ å’ŒÂ test1ã€‚</p>
</li>
<li>
<p><strong>å †å†…å­˜åˆ†é…</strong>ï¼š</p>
<ul>
<li>å¼•æ“åˆ¤æ–­è¿™ä¸¤ä¸ªå˜é‡éœ€è¦â€œé•¿ç”Ÿä¸è€â€ï¼Œäºæ˜¯ä¸ä¼šæŠŠå®ƒä»¬ä»…ä»…æ”¾åœ¨æ ˆä¸Šã€‚</li>
<li>å¼•æ“ä¼šåœ¨<strong>å †å†…å­˜</strong>ä¸­åˆ›å»ºä¸€ä¸ªä¸“é—¨çš„å¯¹è±¡ï¼ˆé€šå¸¸ç§°ä¸ºÂ Closure ScopeÂ æˆ–Â Context Extensionï¼‰ã€‚</li>
<li>myNameÂ å’ŒÂ test1Â è¢«å­˜å‚¨åˆ°è¿™ä¸ªå †å¯¹è±¡ä¸­ã€‚</li>
<li><strong>æ³¨æ„</strong>ï¼štest2Â æ²¡æœ‰è¢«å¼•ç”¨ï¼Œæ‰€ä»¥å®ƒä¾ç„¶åªç•™åœ¨æ ˆä¸Šï¼ŒéšÂ fooÂ æ‰§è¡Œç»“æŸè€Œé”€æ¯ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¼•ç”¨ç»´æŒ</strong>ï¼šfooÂ è¿”å›çš„Â innerBarÂ å¯¹è±¡ä¸­ï¼ŒåŒ…å«äº†æŒ‡å‘è¿™ä¸ªå †å†…å­˜é—­åŒ…å¯¹è±¡çš„æŒ‡é’ˆï¼ˆå³Â [[Scopes]]Â å±æ€§ï¼‰ã€‚</p>
</li>
</ol>
<h3 data-id="heading-7">2. æ‰§è¡Œç»“æŸåçš„å†…å­˜çŠ¶æ€</h3>
<p>å½“Â foo()Â æ‰§è¡Œå®Œæ¯•å‡ºæ ˆåï¼š</p>
<ul>
<li>fooÂ çš„æ‰§è¡Œä¸Šä¸‹æ–‡è¢«é”€æ¯ã€‚</li>
<li>æ ˆä¸Šçš„Â test2Â è¢«é”€æ¯ã€‚</li>
<li><strong>å †ä¸Šçš„é—­åŒ…å¯¹è±¡ä¾ç„¶å­˜åœ¨</strong>ï¼Œå› ä¸ºÂ barÂ å˜é‡å¼•ç”¨äº†Â innerBarï¼Œè€ŒÂ innerBarÂ å¼•ç”¨äº†è¯¥é—­åŒ…å¯¹è±¡ã€‚</li>
</ul>
<p>è¿™å°±æ˜¯é—­åŒ…çš„â€œé­”æ³•â€ï¼š<strong>é€šè¿‡åœ¨å †ä¸­å¼€è¾Ÿç©ºé—´ï¼Œæ‰“ç ´äº†æ ˆå†…å­˜çš„ç”Ÿå‘½å‘¨æœŸé™åˆ¶ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75b14f9933324377a46a6fcd9153272a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTkVYVDA2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770717762&amp;x-signature=cMPRizfOzCMZo96CW5pVH1zeUYA%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-8">å››ã€é—­åŒ…å®æˆ˜ä¸é™·é˜±</h2>
<p>ç†è§£äº†å†…å­˜æ¨¡å‹ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸¤ä¸ªå®¹æ˜“è¸©å‘çš„å®æˆ˜é¢˜ç›®ã€‚</p>
<h3 data-id="heading-9">é¢˜ç›® 1ï¼šå…±äº«çš„é—­åŒ…ç¯å¢ƒ</h3>
<p>JavaScript</p>
<pre><code class="hljs language-ini" lang="ini">function createCounter() {
    let <span class="hljs-attr">count</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
    return {
        increment: function() { count++<span class="hljs-comment">; },</span>
        get: function() { return count<span class="hljs-comment">; }</span>
    }<span class="hljs-comment">;</span>
}

const <span class="hljs-attr">counterA</span> = createCounter()<span class="hljs-comment">;</span>
const <span class="hljs-attr">counterB</span> = createCounter()<span class="hljs-comment">;</span>

counterA.increment()<span class="hljs-comment">;</span>
console.log(counterA.get())<span class="hljs-comment">; // è¾“å‡ºä»€ä¹ˆï¼Ÿ</span>
console.log(counterB.get())<span class="hljs-comment">; // è¾“å‡ºä»€ä¹ˆï¼Ÿ</span>
</code></pre>
<p><strong>è§£æ</strong>ï¼š</p>
<ul>
<li>è¾“å‡ºï¼š1Â å’ŒÂ 0ã€‚</li>
<li><strong>åŸå› </strong>ï¼šæ¯æ¬¡è°ƒç”¨Â createCounterÂ éƒ½ä¼šåˆ›å»ºä¸€ä¸ª<strong>æ–°çš„</strong>æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå¹¶åœ¨å †ä¸­åˆ†é…ä¸€ä¸ª<strong>æ–°çš„</strong>é—­åŒ…å¯¹è±¡ã€‚counterAÂ å’ŒÂ counterBÂ æ‹¥æœ‰å„è‡ªç‹¬ç«‹çš„é—­åŒ…ç¯å¢ƒï¼Œäº’ä¸å¹²æ‰°ã€‚</li>
</ul>
<h3 data-id="heading-10">é¢˜ç›® 2ï¼šå¼•ç”¨çš„å‰¯ä½œç”¨</h3>
<p>JavaScript</p>
<pre><code class="hljs language-ini" lang="ini">function foo() {
    var <span class="hljs-attr">myName</span> = <span class="hljs-string">"æå®¢æ—¶é—´"</span><span class="hljs-comment">;</span>
    var <span class="hljs-attr">inner</span> = {
        setName: function(name) { <span class="hljs-attr">myName</span> = name<span class="hljs-comment">; },</span>
        getName: function() { return myName<span class="hljs-comment">; }</span>
    }<span class="hljs-comment">;</span>
    return inner<span class="hljs-comment">;</span>
}

var <span class="hljs-attr">bar1</span> = foo()<span class="hljs-comment">;</span>
bar1.setName("æå®¢é‚¦")<span class="hljs-comment">;</span>
console.log(bar1.getName())<span class="hljs-comment">; // è¾“å‡º "æå®¢é‚¦"</span>
</code></pre>
<p><strong>è§£æ</strong>ï¼š</p>
<ul>
<li>è¿™é‡ŒÂ setNameÂ å’ŒÂ getNameÂ æ˜¯å®šä¹‰åœ¨åŒä¸€ä¸ªÂ fooÂ è°ƒç”¨ä¸­çš„ã€‚</li>
<li>å®ƒä»¬å…±äº«åŒä¸€ä¸ªå †å†…å­˜ä¸­çš„Â Closure(foo)Â å¯¹è±¡ã€‚</li>
<li>setNameÂ ä¿®æ”¹çš„æ˜¯å †ä¸­é‚£ä¸ªå”¯ä¸€çš„Â myNameï¼Œæ‰€ä»¥Â getNameÂ è¯»å–åˆ°çš„ä¹Ÿæ˜¯ä¿®æ”¹åçš„å€¼ã€‚</li>
</ul>
<p><strong>é™·é˜±æç¤º</strong>ï¼šè¿™ä¹Ÿæ„å‘³ç€ï¼Œå¦‚æœä¸å°å¿ƒæŒæœ‰äº†å¯¹é—­åŒ…çš„å¼•ç”¨ä¸”ä¸é‡Šæ”¾ï¼ˆä¾‹å¦‚å°†å›è°ƒå‡½æ•°æŒ‚è½½åˆ°å…¨å±€äº‹ä»¶ä¸Šï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªé—­åŒ…å¯¹è±¡åŠå…¶å¼•ç”¨çš„æ‰€æœ‰å˜é‡å°†æ°¸è¿œé©»ç•™åœ¨å †å†…å­˜ä¸­ï¼Œé€ æˆ<strong>å†…å­˜æ³„æ¼</strong>ã€‚</p>
<h2 data-id="heading-11">äº”ã€æ€»ç»“</h2>
<p>JavaScript çš„å†…å­˜ç®¡ç†æœºåˆ¶æ˜¯å…¶çµæ´»æ€§ä¸æ€§èƒ½ä¹‹é—´çš„ç²¾å¦™å¹³è¡¡ï¼š</p>
<ol>
<li><strong>æ ˆï¼ˆStackï¼‰</strong> ï¼šè´Ÿè´£ç¨‹åºæ‰§è¡Œçš„æ§åˆ¶æµå’ŒçŸ­æœŸæ•°æ®çš„å­˜å‚¨ï¼Œè¿½æ±‚æè‡´çš„é€Ÿåº¦ã€‚</li>
<li><strong>å †ï¼ˆHeapï¼‰</strong> ï¼šè´Ÿè´£é•¿æœŸå¤§æ•°æ®çš„å­˜å‚¨ï¼Œé€šè¿‡å¼•ç”¨è®¡æ•°å’Œæ ‡è®°æ¸…é™¤ç­‰ GC ç®—æ³•ç®¡ç†ç”Ÿå‘½å‘¨æœŸã€‚</li>
<li><strong>é—­åŒ…ï¼ˆClosureï¼‰</strong> ï¼šæœ¬è´¨æ˜¯<strong>ç©ºé—´æ¢æ—¶é—´</strong>ã€‚å®ƒç‰ºç‰²äº†å †å†…å­˜ç©ºé—´ï¼Œæ¢å–äº†å˜é‡ç”Ÿå‘½å‘¨æœŸçš„å»¶é•¿å’ŒçŠ¶æ€çš„å°è£…ã€‚</li>
</ol>
<p>ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨Â mallocÂ å†…å­˜ï¼Œä½†å¿…é¡»æ¸…æ™°åœ°çŸ¥é“æ¯ä¸€è¡Œä»£ç èƒŒåï¼Œå˜é‡ç©¶ç«Ÿæ˜¯åœ¨æ ˆä¸Šç¬æ¯å³é€ï¼Œè¿˜æ˜¯åœ¨å †ä¸­é•¿ä¹…é©»ç•™ã€‚åªæœ‰å¯¹å†…å­˜ä¿æŒæ•¬ç•ï¼Œæ‰èƒ½åœ¨äº«å— JavaScript åŠ¨æ€ç‰¹æ€§çš„åŒæ—¶ï¼Œå†™å‡ºé«˜æ•ˆã€ç¨³å®šçš„åº”ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutterâ€”â€”é¡µé¢è·³è½¬ï¼ˆè·¯ç”±ã€å¯¼èˆªï¼‰]]></title>    <link>https://juejin.cn/post/7602440800295747630</link>    <guid>https://juejin.cn/post/7602440800295747630</guid>    <pubDate>2026-02-03T10:06:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602440800295747630" data-draft-id="7602303923171426313" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutterâ€”â€”é¡µé¢è·³è½¬ï¼ˆè·¯ç”±ã€å¯¼èˆªï¼‰"/> <meta itemprop="keywords" content="APP,Flutter"/> <meta itemprop="datePublished" content="2026-02-03T10:06:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Haha_bj"/> <meta itemprop="url" content="https://juejin.cn/user/2612027844214647"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutterâ€”â€”é¡µé¢è·³è½¬ï¼ˆè·¯ç”±ã€å¯¼èˆªï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2612027844214647/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Haha_bj
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T10:06:17.000Z" title="Tue Feb 03 2026 10:06:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Flutter å¼€å‘ä¸­å®ç°é¡µé¢è·³è½¬çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ã€‚Flutter æä¾›äº†ä¸¤ç§å¯¼èˆªæ–¹å¼ï¼š<strong>åŸºç¡€å¯¼èˆªï¼ˆé€‚ç”¨äºç®€å•åœºæ™¯ã€å°‘é‡é¡µé¢ï¼‰</strong> å’Œ <strong>å‘½åè·¯ç”±ï¼ˆé€‚ç”¨äºå¤æ‚åœºæ™¯ã€å¤šé¡µé¢åº”ç”¨ï¼‰</strong></p>
<h3 data-id="heading-0">ä¸€ã€æ ¸å¿ƒæ¦‚å¿µ</h3>
<p>åœ¨ Flutter ä¸­ï¼Œæ‰€æœ‰é¡µé¢éƒ½æ˜¯ã€ŒWidgetã€ï¼Œå¯¼èˆªçš„æœ¬è´¨æ˜¯ã€Œç®¡ç†é¡µé¢æ ˆï¼ˆStackï¼‰ã€ï¼š</p>
<ul>
<li>ã€Œè·³è½¬é¡µé¢ã€ï¼šå°†æ–°é¡µé¢ã€Œå‹å…¥ã€æ ˆé¡¶ï¼ˆ<code>push</code>ï¼‰ã€‚</li>
<li>ã€Œè¿”å›é¡µé¢ã€ï¼šå°†å½“å‰é¡µé¢ã€Œå¼¹å‡ºã€æ ˆé¡¶ï¼ˆ<code>pop</code>ï¼‰ã€‚</li>
<li>Flutter æä¾›äº† <code>Navigator</code> ç»„ä»¶æ¥ç®¡ç†é¡µé¢æ ˆï¼Œæ—¥å¸¸å¼€å‘ä¸­å¸¸ç”¨ <code>Navigator.of(context)</code> æ¥è·å–å¯¼èˆªå®ä¾‹ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-1">æ–¹æ¡ˆ 1ï¼šåŸºç¡€å¯¼èˆªï¼ˆç›´æ¥è·³è½¬ï¼Œç®€å•é«˜æ•ˆï¼‰</h2>
<p>é€‚ç”¨äº <strong>é¡µé¢æ•°é‡å°‘ï¼ˆ3-5 ä¸ªï¼‰ã€æ— éœ€ä¼ å‚ / å°‘é‡ä¼ å‚</strong> çš„åœºæ™¯ï¼ˆå¦‚ç®€å•å·¥å…·ç±» Appï¼‰ï¼Œæ ¸å¿ƒæ˜¯ <code>Navigator.push()</code> å’Œ <code>Navigator.pop()</code>ã€‚</p>
<h3 data-id="heading-2">1.1 åŸºæœ¬é¡µé¢è·³è½¬ï¼ˆæ— å‚ï¼‰</h3>
<h4 data-id="heading-3">æ­¥éª¤ 1ï¼šå®šä¹‰ä¸¤ä¸ªé¡µé¢ Widgetï¼ˆé¦–é¡µ + è¯¦æƒ…é¡µï¼‰</h4>
<pre><code class="hljs language-Dart" lang="Dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;

<span class="hljs-keyword">void</span> main() =&gt; runApp(<span class="hljs-keyword">const</span> MyApp());

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> MyApp({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> MaterialApp(
      title: <span class="hljs-string">'Flutter å¯¼èˆªç¤ºä¾‹'</span>,
      theme: ThemeData(primarySwatch: Colors.blue),
      home: <span class="hljs-keyword">const</span> HomePage(), <span class="hljs-comment">// é¦–é¡µ</span>
    );
  }
}

<span class="hljs-comment">// é¦–é¡µ Widget</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> HomePage({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'é¦–é¡µ'</span>)),
      body: Center(
        child: ElevatedButton(
          onPressed: () {
            <span class="hljs-comment">// æ ¸å¿ƒï¼šè·³è½¬è‡³è¯¦æƒ…é¡µï¼ˆpush å‹å…¥æ ˆé¡¶ï¼‰</span>
            Navigator.push(
              context,
              MaterialPageRoute(
                builder: (context) =&gt; <span class="hljs-keyword">const</span> DetailPage(), <span class="hljs-comment">// ç›®æ ‡é¡µé¢</span>
              ),
            );
          },
          child: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'è·³è½¬åˆ°è¯¦æƒ…é¡µ'</span>),
        ),
      ),
    );
  }
}

<span class="hljs-comment">// è¯¦æƒ…é¡µ Widget</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DetailPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> DetailPage({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(
        title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'è¯¦æƒ…é¡µ'</span>),
        <span class="hljs-comment">// å¯¼èˆªæ é»˜è®¤è‡ªå¸¦è¿”å›æŒ‰é’®ï¼Œç‚¹å‡»ç­‰ä»·äº Navigator.pop()</span>
      ),
      body: Center(
        child: ElevatedButton(
          onPressed: () {
            <span class="hljs-comment">// æ ¸å¿ƒï¼šè¿”å›ä¸Šä¸€é¡µï¼ˆpop å¼¹å‡ºæ ˆé¡¶ï¼‰</span>
            Navigator.pop(context);
          },
          child: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'è¿”å›é¦–é¡µ'</span>),
        ),
      ),
    );
  }
}
</code></pre>
<h4 data-id="heading-4">å…³é”®è¯´æ˜ï¼š</h4>
<ul>
<li><code>MaterialPageRoute</code>ï¼šMaterial é£æ ¼çš„è·¯ç”±è¿‡æ¸¡åŠ¨ç”»ï¼ˆAndroid ä¸Šä¸‹æ»‘åŠ¨ã€iOS å·¦å³æ»‘åŠ¨ï¼‰ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ã€‚</li>
<li><code>Navigator.push(context, route)</code>ï¼šå°†ç›®æ ‡é¡µé¢å‹å…¥æ ˆé¡¶ï¼Œå®ç°è·³è½¬ã€‚</li>
<li><code>Navigator.pop(context)</code>ï¼šå°†å½“å‰é¡µé¢å¼¹å‡ºæ ˆé¡¶ï¼Œè¿”å›ä¸Šä¸€é¡µï¼ˆæ— è¿”å›å€¼ï¼‰ã€‚</li>
<li>è¯¦æƒ…é¡µçš„ <code>AppBar</code> ä¼šé»˜è®¤æ·»åŠ è¿”å›æŒ‰é’®ï¼Œç‚¹å‡»åè‡ªåŠ¨è°ƒç”¨ <code>Navigator.pop()</code>ï¼Œæ— éœ€æ‰‹åŠ¨å®ç°ã€‚</li>
</ul>
<h3 data-id="heading-5">1.2 é¡µé¢ä¼ å‚ï¼ˆå¸¦å‚è·³è½¬ + è¿”å›å€¼ä¼ é€’ï¼‰</h3>
<p>å®é™…å¼€å‘ä¸­å¸¸éœ€è¦ç»™ä¸‹ä¸€é¡µä¼ å‚ï¼ˆå¦‚ä¼ é€’å•†å“ IDï¼‰ï¼Œæˆ–æ¥æ”¶ä¸‹ä¸€é¡µçš„è¿”å›å€¼ï¼ˆå¦‚é€‰æ‹©å›¾ç‰‡åè¿”å›å›¾ç‰‡è·¯å¾„ï¼‰ã€‚</p>
<h4 data-id="heading-6">æ­¥éª¤ 1ï¼šå¸¦å‚è·³è½¬ï¼ˆé¦–é¡µ â†’ è¯¦æƒ…é¡µï¼Œä¼ é€’å­—ç¬¦ä¸² / æ•°å­—ï¼‰</h4>
<p>ä¿®æ”¹ <code>DetailPage</code> å¢åŠ æ„é€ å‡½æ•°æ¥æ”¶å‚æ•°ï¼Œä¿®æ”¹é¦–é¡µçš„è·³è½¬é€»è¾‘ï¼š</p>
<pre><code class="hljs language-Dart" lang="Dart"><span class="hljs-comment">// è¯¦æƒ…é¡µï¼ˆä¿®æ”¹ï¼šæ·»åŠ æ„é€ å‡½æ•°æ¥æ”¶å‚æ•°ï¼‰</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DetailPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> title; <span class="hljs-comment">// æ¥æ”¶çš„æ ‡é¢˜å‚æ•°</span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">int</span> id; <span class="hljs-comment">// æ¥æ”¶çš„IDå‚æ•°</span>

  <span class="hljs-comment">// æ„é€ å‡½æ•°ï¼ˆå¿…å¡«å‚æ•°ï¼Œä¹Ÿå¯è®¾ç½®å¯é€‰å‚æ•°ï¼‰</span>
  <span class="hljs-keyword">const</span> DetailPage({<span class="hljs-keyword">super</span>.key, <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.title, <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.id});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(title: Text(title)),
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            Text(<span class="hljs-string">'æ¥æ”¶çš„IDï¼š<span class="hljs-subst">$id</span>'</span>),
            <span class="hljs-keyword">const</span> SizedBox(height: <span class="hljs-number">20</span>),
            ElevatedButton(
              onPressed: () {
                <span class="hljs-comment">// è¿”å›ä¸Šä¸€é¡µï¼Œå¹¶æºå¸¦è¿”å›å€¼ï¼ˆ"ä»è¯¦æƒ…é¡µè¿”å›çš„å†…å®¹"ï¼‰</span>
                Navigator.pop(context, <span class="hljs-string">"ä»è¯¦æƒ…é¡µè¿”å›çš„å†…å®¹"</span>);
              },
              child: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'è¿”å›é¦–é¡µå¹¶ä¼ å€¼'</span>),
            ),
          ],
        ),
      ),
    );
  }
}

<span class="hljs-comment">// é¦–é¡µï¼ˆä¿®æ”¹ï¼šå¸¦å‚è·³è½¬ + æ¥æ”¶è¿”å›å€¼ï¼‰</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> HomePage({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'é¦–é¡µ'</span>)),
      body: Center(
        child: ElevatedButton(
          onPressed: () <span class="hljs-keyword">async</span> {
            <span class="hljs-comment">// å¼‚æ­¥æ¥æ”¶è¿”å›å€¼ï¼ˆawait ç­‰å¾… Navigator.push æ‰§è¡Œå®Œæˆï¼‰</span>
            <span class="hljs-keyword">final</span> result = <span class="hljs-keyword">await</span> Navigator.push(
              context,
              MaterialPageRoute(
                builder: (context) =&gt; <span class="hljs-keyword">const</span> DetailPage(
                  title: <span class="hljs-string">'è¯¦æƒ…é¡µï¼ˆå¸¦å‚ï¼‰'</span>,
                  id: <span class="hljs-number">1001</span>,
                ),
              ),
            );

            <span class="hljs-comment">// æ‰“å°è¿”å›å€¼ï¼ˆè¯¦æƒ…é¡µä¼ é€’çš„å†…å®¹ï¼‰</span>
            <span class="hljs-keyword">if</span> (result != <span class="hljs-keyword">null</span>) {
              ScaffoldMessenger.of(context).showSnackBar(
                SnackBar(content: Text(<span class="hljs-string">'æ¥æ”¶çš„è¿”å›å€¼ï¼š<span class="hljs-subst">$result</span>'</span>)),
              );
            }
          },
          child: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'å¸¦å‚è·³è½¬åˆ°è¯¦æƒ…é¡µ'</span>),
        ),
      ),
    );
  }
}
</code></pre>
<h4 data-id="heading-7">å…³é”®è¯´æ˜ï¼š</h4>
<ol>
<li><strong>ç»™ä¸‹ä¸€é¡µä¼ å‚</strong>ï¼šé€šè¿‡ç›®æ ‡é¡µé¢çš„ã€Œæ„é€ å‡½æ•°ã€ä¼ é€’ï¼Œæ”¯æŒæ‰€æœ‰ Dart æ•°æ®ç±»å‹ï¼ˆå­—ç¬¦ä¸²ã€æ•°å­—ã€å¯¹è±¡ç­‰ï¼‰ã€‚</li>
<li><strong>æ¥æ”¶ä¸‹ä¸€é¡µè¿”å›å€¼</strong>ï¼š<code>Navigator.push()</code> æ˜¯å¼‚æ­¥æ“ä½œï¼Œè¿”å› <code>Future</code>ï¼Œé€šè¿‡ <code>await</code> å¯æ¥æ”¶ç›®æ ‡é¡µé¢ <code>pop</code> æ—¶ä¼ é€’çš„å‚æ•°ã€‚</li>
<li><strong><code>Navigator.pop(context, result)</code></strong> ï¼šç¬¬äºŒä¸ªå‚æ•°æ˜¯è¿”å›å€¼ï¼Œå¯çœç•¥ï¼ˆæ— è¿”å›å€¼æ—¶ï¼‰ã€‚</li>
</ol>
<h2 data-id="heading-8">æ–¹æ¡ˆ 2ï¼šå‘½åè·¯ç”±ï¼ˆé…ç½®å¼è·³è½¬ï¼Œé€‚åˆå¤æ‚åº”ç”¨ï¼‰</h2>
<p>é€‚ç”¨äº <strong>é¡µé¢æ•°é‡å¤šï¼ˆ5 ä¸ªä»¥ä¸Šï¼‰ã€éœ€è¦ç»Ÿä¸€ç®¡ç†ã€é¢‘ç¹è·³è½¬</strong> çš„åœºæ™¯ï¼ˆå¦‚ç”µå•†ã€ç¤¾äº¤ Appï¼‰ï¼Œæ ¸å¿ƒæ˜¯ã€Œæå‰é…ç½®è·¯ç”±è¡¨ï¼Œé€šè¿‡è·¯ç”±åç§°è·³è½¬ã€ã€‚</p>
<h3 data-id="heading-9">2.1 åŸºæœ¬é…ç½®ä¸è·³è½¬ï¼ˆæ— å‚ï¼‰</h3>
<h4 data-id="heading-10">æ­¥éª¤ 1ï¼šåœ¨ <code>MaterialApp</code> ä¸­é…ç½® <code>routes</code> è·¯ç”±è¡¨</h4>
<p>è·¯ç”±è¡¨æ˜¯ä¸€ä¸ª <code>Map&lt;String, WidgetBuilder&gt;</code>ï¼Œkey æ˜¯è·¯ç”±åç§°ï¼ˆé€šå¸¸ä»¥ <code>/</code> å¼€å¤´ï¼‰ï¼Œvalue æ˜¯é¡µé¢æ„å»ºå‡½æ•°ã€‚</p>
<pre><code class="hljs language-Dart" lang="Dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> MyApp({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> MaterialApp(
      title: <span class="hljs-string">'Flutter å‘½åè·¯ç”±ç¤ºä¾‹'</span>,
      theme: ThemeData(primarySwatch: Colors.blue),
      <span class="hljs-comment">// 1. é…ç½®è·¯ç”±è¡¨</span>
      routes: {
        <span class="hljs-string">'/'</span>: (context) =&gt; <span class="hljs-keyword">const</span> HomePage(), <span class="hljs-comment">// é¦–é¡µï¼ˆé»˜è®¤è·¯ç”±ï¼‰</span>
        <span class="hljs-string">'/detail'</span>: (context) =&gt; <span class="hljs-keyword">const</span> DetailPage(), <span class="hljs-comment">// è¯¦æƒ…é¡µ</span>
      },
      <span class="hljs-comment">// 2. è®¾ç½®é»˜è®¤å¯åŠ¨é¡µé¢ï¼ˆç­‰ä»·äº home: const HomePage()ï¼‰</span>
      initialRoute: <span class="hljs-string">'/'</span>,
    );
  }
}
</code></pre>
<h4 data-id="heading-11">æ­¥éª¤ 2ï¼šé€šè¿‡è·¯ç”±åç§°è·³è½¬ / è¿”å›</h4>
<p>ä¿®æ”¹é¦–é¡µçš„è·³è½¬é€»è¾‘ï¼Œä½¿ç”¨ <code>Navigator.pushNamed()</code> æ›¿ä»£ <code>Navigator.push()</code>ï¼š</p>
<pre><code class="hljs language-Dart" lang="Dart"><span class="hljs-comment">// é¦–é¡µ</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> HomePage({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'é¦–é¡µ'</span>)),
      body: Center(
        child: ElevatedButton(
          onPressed: () {
            <span class="hljs-comment">// æ ¸å¿ƒï¼šé€šè¿‡è·¯ç”±åç§°è·³è½¬</span>
            Navigator.pushNamed(context, <span class="hljs-string">'/detail'</span>);
          },
          child: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'å‘½åè·¯ç”±è·³è½¬åˆ°è¯¦æƒ…é¡µ'</span>),
        ),
      ),
    );
  }
}
</code></pre>
<h4 data-id="heading-12">å…³é”®è¯´æ˜ï¼š</h4>
<ul>
<li><code>routes</code>ï¼šè·¯ç”±è¡¨ï¼Œç»Ÿä¸€ç®¡ç†æ‰€æœ‰é¡µé¢ï¼Œä¾¿äºåæœŸç»´æŠ¤ï¼ˆä¿®æ”¹é¡µé¢åªéœ€ä¿®æ”¹è·¯ç”±è¡¨ï¼Œæ— éœ€ä¿®æ”¹æ‰€æœ‰è·³è½¬å¤„ï¼‰ã€‚</li>
<li><code>initialRoute</code>ï¼šé»˜è®¤å¯åŠ¨è·¯ç”±ï¼ˆæ›¿ä»£ <code>home</code>ï¼‰ï¼Œå¿…é¡»å’Œè·¯ç”±è¡¨ä¸­çš„æŸä¸ª key å¯¹åº”ã€‚</li>
<li><code>Navigator.pushNamed(context, '/detail')</code>ï¼šé€šè¿‡è·¯ç”±åç§°è·³è½¬ï¼Œæ— éœ€å†åˆ›å»º <code>MaterialPageRoute</code>ã€‚</li>
<li>è¿”å›é€»è¾‘ä¸å˜ï¼Œä¾ç„¶ä½¿ç”¨ <code>Navigator.pop(context)</code>ã€‚</li>
</ul>
<h3 data-id="heading-13">2.2 å‘½åè·¯ç”±ä¼ å‚ï¼ˆå¸¦å‚è·³è½¬ï¼‰</h3>
<p>å‘½åè·¯ç”±ä¼ å‚æœ‰ä¸¤ç§å¸¸ç”¨æ–¹å¼ï¼š<code>arguments</code> ä¼ å‚ï¼ˆæ¨èï¼‰ã€è·¯ç”±åç§°æ‹¼æ¥å‚æ•°ï¼ˆä¸æ¨èï¼Œä»…é€‚ç”¨äºç®€å•å‚æ•°ï¼‰ã€‚</p>
<h4 data-id="heading-14">æ–¹å¼ 1ï¼š<code>arguments</code> ä¼ å‚ï¼ˆæ¨èï¼Œæ”¯æŒä»»æ„æ•°æ®ç±»å‹ï¼‰</h4>
<ol>
<li>è·³è½¬æ—¶é€šè¿‡ <code>arguments</code> ä¼ é€’å‚æ•°ï¼š</li>
</ol>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// é¦–é¡µè·³è½¬é€»è¾‘ä¿®æ”¹</span>
<span class="hljs-title function_ invoke__">ElevatedButton</span>(
  <span class="hljs-attr">onPressed</span>: () {
    <span class="hljs-comment">// ä¼ é€’å‚æ•°ï¼ˆå¯ä¼ å­—ç¬¦ä¸²ã€æ•°å­—ã€Mapã€è‡ªå®šä¹‰å¯¹è±¡ç­‰ï¼‰</span>
    Navigator.<span class="hljs-title function_ invoke__">pushNamed</span>(
      context,
      <span class="hljs-string">'/detail'</span>,
      <span class="hljs-attr">arguments</span>: {
        <span class="hljs-string">'title'</span>: <span class="hljs-string">'è¯¦æƒ…é¡µï¼ˆå‘½åè·¯ç”±ä¼ å‚ï¼‰'</span>,
        <span class="hljs-string">'id'</span>: <span class="hljs-number">1001</span>,
      },
    );
  },
  child: <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">Text</span>(<span class="hljs-string">'å‘½åè·¯ç”±å¸¦å‚è·³è½¬'</span>),
),
</code></pre>
<ol start="2">
<li>è¯¦æƒ…é¡µé€šè¿‡ <code>ModalRoute.of(context)?.settings.arguments</code> æ¥æ”¶å‚æ•°ï¼š</li>
</ol>
<pre><code class="hljs language-Dart" lang="Dart"><span class="hljs-comment">// è¯¦æƒ…é¡µä¿®æ”¹</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DetailPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> DetailPage({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-comment">// æ¥æ”¶ arguments å‚æ•°</span>
    <span class="hljs-keyword">final</span> <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt; args = ModalRoute.of(context)?.settings.arguments <span class="hljs-keyword">as</span> <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt;;

    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(title: Text(args[<span class="hljs-string">'title'</span>])),
      body: Center(
        child: Text(<span class="hljs-string">'æ¥æ”¶çš„IDï¼š<span class="hljs-subst">${args[<span class="hljs-string">'id'</span>]}</span>'</span>),
      ),
    );
  }
}
</code></pre>
<h4 data-id="heading-15">æ–¹å¼ 2ï¼šè·¯ç”±åç§°æ‹¼æ¥å‚æ•°ï¼ˆä»…é€‚ç”¨äºç®€å•å‚æ•°ï¼Œå¦‚ IDï¼‰</h4>
<pre><code class="hljs language-Dart" lang="Dart"><span class="hljs-comment">// è·³è½¬æ—¶æ‹¼æ¥å‚æ•°</span>
Navigator.pushNamed(context, <span class="hljs-string">'/detail/1001'</span>);

<span class="hljs-comment">// é…ç½®è·¯ç”±è¡¨æ—¶ä½¿ç”¨é€šé…ç¬¦</span>
routes: {
  <span class="hljs-string">'/detail/:id'</span>: (context) =&gt; <span class="hljs-keyword">const</span> DetailPage(),
},

<span class="hljs-comment">// è¯¦æƒ…é¡µæå–å‚æ•°ï¼ˆéœ€é¢å¤–è§£æï¼Œè¾ƒç¹çï¼Œä¸æ¨èï¼‰</span>
<span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> id = ModalRoute.of(context)?.settings.name?.split(<span class="hljs-string">'/'</span>).last ?? <span class="hljs-string">''</span>;
</code></pre>
<h3 data-id="heading-16">2.3 æœªçŸ¥è·¯ç”±å¤„ç†ï¼ˆ404 é¡µé¢ï¼‰</h3>
<p>å½“è·³è½¬çš„è·¯ç”±åç§°ä¸åœ¨è·¯ç”±è¡¨ä¸­æ—¶ï¼Œä¼šå‡ºç°é”™è¯¯ï¼Œå¯é€šè¿‡ <code>onUnknownRoute</code> é…ç½®å…œåº•é¡µé¢ï¼ˆ404 é¡µé¢ï¼‰ï¼š</p>
<pre><code class="hljs language-Dart" lang="Dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> MyApp({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> MaterialApp(
      title: <span class="hljs-string">'Flutter å‘½åè·¯ç”±ç¤ºä¾‹'</span>,
      theme: ThemeData(primarySwatch: Colors.blue),
      routes: {
        <span class="hljs-string">'/'</span>: (context) =&gt; <span class="hljs-keyword">const</span> HomePage(),
        <span class="hljs-string">'/detail'</span>: (context) =&gt; <span class="hljs-keyword">const</span> DetailPage(),
      },
      initialRoute: <span class="hljs-string">'/'</span>,
      <span class="hljs-comment">// æœªçŸ¥è·¯ç”±å…œåº•</span>
      onUnknownRoute: (settings) {
        <span class="hljs-keyword">return</span> MaterialPageRoute(
          builder: (context) =&gt; <span class="hljs-keyword">const</span> NotFoundPage(),
        );
      },
    );
  }
}

<span class="hljs-comment">// 404 é¡µé¢</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NotFoundPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> NotFoundPage({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'é¡µé¢ä¸å­˜åœ¨'</span>)),
      body: <span class="hljs-keyword">const</span> Center(child: Text(<span class="hljs-string">'404 - é¡µé¢æœªæ‰¾åˆ°'</span>)),
    );
  }
}
</code></pre>
<h2 data-id="heading-17">æ–¹æ¡ˆ 3ï¼šè¿›é˜¶ï¼šè·¯ç”±ç®¡ç†ï¼ˆå°è£…è·¯ç”±å·¥å…·ç±»ï¼‰</h2>
<p>å½“é¡¹ç›®é¡µé¢éå¸¸å¤šæ—¶ï¼Œç›´æ¥åœ¨ <code>MaterialApp</code> ä¸­é…ç½®è·¯ç”±è¡¨ä¼šæ˜¾å¾—è‡ƒè‚¿ï¼Œæ¨èå°è£…ã€Œè·¯ç”±å·¥å…·ç±»ã€ï¼Œç»Ÿä¸€ç®¡ç†è·¯ç”±è·³è½¬ã€ä¼ å‚ã€æ‹¦æˆªç­‰é€»è¾‘ã€‚</p>
<h3 data-id="heading-18">3.1 å°è£…è·¯ç”±å·¥å…·ç±»</h3>
<pre><code class="hljs language-Dart" lang="Dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:your_project_name/pages/home_page.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:your_project_name/pages/detail_page.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:your_project_name/pages/not_found_page.dart'</span>;

<span class="hljs-comment">// è·¯ç”±åç§°å¸¸é‡ï¼ˆé¿å…ç¡¬ç¼–ç ï¼Œä¾¿äºç»´æŠ¤ï¼‰</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RouteNames</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> home = <span class="hljs-string">'/'</span>;
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> detail = <span class="hljs-string">'/detail'</span>;
}

<span class="hljs-comment">// è·¯ç”±å·¥å…·ç±»</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RouteManager</span> </span>{
  <span class="hljs-comment">// é…ç½®è·¯ç”±è¡¨</span>
  <span class="hljs-keyword">static</span> <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, WidgetBuilder&gt; routes = {
    RouteNames.home: (context) =&gt; <span class="hljs-keyword">const</span> HomePage(),
    RouteNames.detail: (context) =&gt; <span class="hljs-keyword">const</span> DetailPage(),
  };

  <span class="hljs-comment">// è·¯ç”±è·³è½¬ï¼ˆå°è£… pushNamedï¼Œç»Ÿä¸€å¤„ç†ä¼ å‚ï¼‰</span>
  <span class="hljs-keyword">static</span> Future&lt;T?&gt; pushNamed&lt;T&gt;(BuildContext context, <span class="hljs-built_in">String</span> routeName, {<span class="hljs-built_in">Object?</span> arguments}) {
    <span class="hljs-keyword">return</span> Navigator.pushNamed&lt;T&gt;(context, routeName, arguments: arguments);
  }

  <span class="hljs-comment">// è¿”å›ä¸Šä¸€é¡µï¼ˆå°è£… popï¼Œç»Ÿä¸€å¤„ç†è¿”å›å€¼ï¼‰</span>
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> pop&lt;T&gt;(BuildContext context, {T? result}) {
    Navigator.pop&lt;T&gt;(context, result);
  }

  <span class="hljs-comment">// æœªçŸ¥è·¯ç”±å¤„ç†</span>
  <span class="hljs-keyword">static</span> Route&lt;<span class="hljs-built_in">dynamic</span>&gt; onUnknownRoute(RouteSettings settings) {
    <span class="hljs-keyword">return</span> MaterialPageRoute(
      builder: (context) =&gt; <span class="hljs-keyword">const</span> NotFoundPage(),
    );
  }
}
</code></pre>
<h3 data-id="heading-19">3.2 ä½¿ç”¨å°è£…åçš„è·¯ç”±å·¥å…·ç±»</h3>
<pre><code class="hljs language-Dart" lang="Dart"><span class="hljs-comment">// MyApp ä¸­é…ç½®</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> MyApp({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> MaterialApp(
      title: <span class="hljs-string">'Flutter è·¯ç”±å°è£…ç¤ºä¾‹'</span>,
      theme: ThemeData(primarySwatch: Colors.blue),
      routes: RouteManager.routes,
      initialRoute: RouteNames.home,
      onUnknownRoute: RouteManager.onUnknownRoute,
    );
  }
}

<span class="hljs-comment">// é¦–é¡µè·³è½¬</span>
ElevatedButton(
  onPressed: () {
    RouteManager.pushNamed(
      context,
      RouteNames.detail,
      arguments: {<span class="hljs-string">'title'</span>: <span class="hljs-string">'è¯¦æƒ…é¡µï¼ˆå°è£…è·¯ç”±ï¼‰'</span>, <span class="hljs-string">'id'</span>: <span class="hljs-number">1001</span>},
    );
  },
  child: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'å°è£…è·¯ç”±å¸¦å‚è·³è½¬'</span>),
),

<span class="hljs-comment">// è¯¦æƒ…é¡µè¿”å›</span>
ElevatedButton(
  onPressed: () {
    RouteManager.pop(context, result: <span class="hljs-string">"ä»å°è£…è·¯ç”±è¯¦æƒ…é¡µè¿”å›"</span>);
  },
  child: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'è¿”å›é¦–é¡µ'</span>),
),
</code></pre>
<h2 data-id="heading-20">å…³é”®è¡¥å……ï¼šè·¯ç”±è¿‡æ¸¡åŠ¨ç”»è‡ªå®šä¹‰</h2>
<p>é»˜è®¤çš„ <code>MaterialPageRoute</code> æ˜¯ Material é£æ ¼åŠ¨ç”»ï¼Œè‹¥éœ€è¦è‡ªå®šä¹‰è¿‡æ¸¡åŠ¨ç”»ï¼ˆå¦‚æ·¡å…¥æ·¡å‡ºã€ç¼©æ”¾ï¼‰ï¼Œå¯ä½¿ç”¨ <code>PageRouteBuilder</code>ï¼š</p>
<pre><code class="hljs language-Dart" lang="Dart"><span class="hljs-comment">// è‡ªå®šä¹‰æ·¡å…¥æ·¡å‡ºåŠ¨ç”»è·³è½¬</span>
Navigator.push(
  context,
  PageRouteBuilder(
    pageBuilder: (context, animation, secondaryAnimation) =&gt; <span class="hljs-keyword">const</span> DetailPage(),
    transitionsBuilder: (context, animation, secondaryAnimation, child) {
      <span class="hljs-comment">// æ·¡å…¥æ·¡å‡ºåŠ¨ç”»</span>
      <span class="hljs-keyword">return</span> FadeTransition(
        opacity: animation,
        child: child,
      );
    },
    transitionDuration: <span class="hljs-keyword">const</span> <span class="hljs-built_in">Duration</span>(milliseconds: <span class="hljs-number">500</span>), <span class="hljs-comment">// åŠ¨ç”»æ—¶é•¿</span>
  ),
);
</code></pre>
<h3 data-id="heading-21">æ€»ç»“</h3>
<ol>
<li>Flutter å¯¼èˆªæ ¸å¿ƒæ˜¯ã€Œé¡µé¢æ ˆç®¡ç†ã€ï¼Œé€šè¿‡ <code>Navigator</code> å®ç° <code>push</code>ï¼ˆè·³è½¬ï¼‰å’Œ <code>pop</code>ï¼ˆè¿”å›ï¼‰ã€‚</li>
<li>ç®€å•åœºæ™¯ç”¨ã€ŒåŸºç¡€å¯¼èˆªã€ï¼ˆ<code>Navigator.push</code>ï¼‰ï¼Œå¿«é€Ÿé«˜æ•ˆï¼›å¤æ‚åœºæ™¯ç”¨ã€Œå‘½åè·¯ç”±ã€ï¼ˆ<code>Navigator.pushNamed</code>ï¼‰ï¼Œä¾¿äºç»Ÿä¸€ç®¡ç†ã€‚</li>
<li>ä¼ å‚æ–¹å¼ï¼šåŸºç¡€å¯¼èˆªç”¨ã€Œæ„é€ å‡½æ•°ã€ï¼Œå‘½åè·¯ç”±ç”¨ã€Œ<code>arguments</code>ã€ï¼ˆæ¨èï¼‰ã€‚</li>
<li>æœ€ä½³å®è·µï¼šé¡µé¢è¾ƒå¤šæ—¶å°è£…ã€Œè·¯ç”±å·¥å…·ç±»ã€ï¼Œç»Ÿä¸€ç®¡ç†è·¯ç”±è¡¨ã€è·³è½¬ã€æœªçŸ¥è·¯ç”±ï¼Œæå‡é¡¹ç›®å¯ç»´æŠ¤æ€§ã€‚</li>
<li>è‡ªå®šä¹‰è¿‡æ¸¡åŠ¨ç”»å¯ä½¿ç”¨ <code>PageRouteBuilder</code>ï¼Œæ»¡è¶³ä¸ªæ€§åŒ– UI éœ€æ±‚ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰‹å†™ React KeepAlive ç»„ä»¶ï¼šå®ç°ç»„ä»¶ç¼“å­˜ä¸åˆ‡æ¢]]></title>    <link>https://juejin.cn/post/7602205524718944290</link>    <guid>https://juejin.cn/post/7602205524718944290</guid>    <pubDate>2026-02-03T10:09:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602205524718944290" data-draft-id="7602225961095790626" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰‹å†™ React KeepAlive ç»„ä»¶ï¼šå®ç°ç»„ä»¶ç¼“å­˜ä¸åˆ‡æ¢"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2026-02-03T10:09:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="lIIIllIlIllIIl"/> <meta itemprop="url" content="https://juejin.cn/user/793196846923641"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰‹å†™ React KeepAlive ç»„ä»¶ï¼šå®ç°ç»„ä»¶ç¼“å­˜ä¸åˆ‡æ¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/793196846923641/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    lIIIllIlIllIIl
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T10:09:07.000Z" title="Tue Feb 03 2026 10:09:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ React å¼€å‘ä¸­ï¼Œç»„ä»¶çš„<strong>é¢‘ç¹æŒ‚è½½å’Œå¸è½½</strong>å¾€å¾€ä¼šå¯¼è‡´<strong>çŠ¶æ€ä¸¢å¤±å’Œæ€§èƒ½å¼€é”€</strong>ï¼Œå°¤å…¶åœ¨ tab åˆ‡æ¢æˆ–è·¯ç”±åœºæ™¯ä¸‹ã€‚ä¾‹å¦‚ï¼Œå½“ç”¨æˆ·åœ¨ä¸åŒè§†å›¾é—´åˆ‡æ¢æ—¶ï¼Œå¦‚æœç»„ä»¶æ¯æ¬¡éƒ½é‡æ–°æ¸²æŸ“ï¼Œå†…éƒ¨çš„è®¡æ•°å™¨ã€è¡¨å•æ•°æ®ç­‰çŠ¶æ€å°±ä¼šé‡ç½®ï¼Œç”¨æˆ·ä½“éªŒå˜å·®ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ<code>React</code> å®˜æ–¹æä¾›äº† <code>&lt;KeepAlive&gt;</code> ç»„ä»¶ï¼Œä½†ç†è§£å…¶åŸç†å¹¶æ‰‹å†™å®ç°ï¼Œèƒ½å¸®åŠ©æˆ‘ä»¬æ›´æ·±å…¥æŒæ¡ç»„ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†å’ŒçŠ¶æ€ç¼“å­˜ã€‚æœ¬æ–‡å°†åŸºäºä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨ tab åˆ‡æ¢ç¤ºä¾‹ï¼Œè¯¦ç»†è®²è§£ <code>KeepAlive</code> çš„æ‰‹å†™è¿‡ç¨‹ã€‚æˆ‘ä»¬ä¼šä½¿ç”¨å¯¹è±¡ä½œä¸ºç¼“å­˜ç»“æ„ï¼ˆç±»ä¼¼äº Mapï¼‰ï¼Œé€šè¿‡ <code>display</code> å±æ€§<strong>æ§åˆ¶ç»„ä»¶æ˜¾ç¤ºéšè—</strong>ï¼Œä»è€Œå®ç°<strong>ç¼“å­˜æ´»åŒ–</strong>ã€‚</p>
<h3 data-id="heading-0">KeepAlive çš„æ ¸å¿ƒåŸç†</h3>
<p><code>KeepAlive</code> çš„æœ¬è´¨æ˜¯<strong>ç¼“å­˜ç»„ä»¶å®ä¾‹ï¼Œé¿å…å¸è½½</strong>ã€‚å®ƒä¸åƒæ¡ä»¶æ¸²æŸ“ï¼ˆå¦‚ if è¯­å¥ï¼‰é‚£æ ·é”€æ¯ç»„ä»¶ï¼Œè€Œæ˜¯å°†ä¸æ´»è·ƒçš„ç»„ä»¶â€œéšè—â€èµ·æ¥ï¼Œä¿ç•™å…¶çŠ¶æ€ã€‚å½“åˆ‡æ¢å›è¯¥ç»„ä»¶æ—¶ï¼Œç›´æ¥æ˜¾ç¤ºå³å¯ï¼Œæ— éœ€é‡æ–°æŒ‚è½½ã€‚è¿™æ¶‰åŠåˆ° React çš„æ¸²æŸ“æœºåˆ¶ï¼šç»„ä»¶å¯ä»¥é€šè¿‡ CSS ä¸­ <code>display: none</code> <strong>éšè—</strong>ï¼Œä½†ä»ä¿æŒåœ¨ DOM ä¸­ï¼Œç”Ÿå‘½å‘¨æœŸé’©å­ä¸ä¼šè§¦å‘å¸è½½ã€‚</p>
<p>ä¸ºä»€ä¹ˆç”¨ç¼“å­˜ç»“æ„ï¼Ÿå› ä¸ºéœ€è¦å­˜å‚¨å¤šä¸ªç»„ä»¶ã€‚ä¾‹å¦‚ï¼Œåœ¨å¤š tab åœºæ™¯ä¸‹ï¼Œæ¯ä¸ª tab å¯¹åº”ä¸€ä¸ªç»„ä»¶ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªé”®å€¼å¯¹å­˜å‚¨ï¼škey ä¸º tab IDï¼Œvalue ä¸ºç»„ä»¶ JSXã€‚Mapï¼ˆES6 æ–°å¢çš„æ•°æ®ç»“æ„ï¼‰ï¼Œå®ƒå…è®¸ä»»æ„ç±»å‹ä½œä¸º keyï¼ˆå¦‚å¯¹è±¡ï¼‰ï¼Œè€Œå¯¹è±¡å­—é¢é‡çš„ key åªèƒ½æ˜¯å­—ç¬¦ä¸²ã€‚ä½†åœ¨ç®€å•åœºæ™¯ä¸‹ï¼Œå¯¹è±¡ {} ä¹Ÿèƒ½èƒœä»»ï¼Œä¸”æ›´è½»é‡ã€‚JSON ä¸æ­¤ç±»ä¼¼ï¼Œéƒ½æ˜¯ key-valueï¼Œä½† JSON æ˜¯å­—ç¬¦ä¸²åºåˆ—åŒ–å½¢å¼ï¼Œä¸é€‚åˆç›´æ¥ä½œä¸ºç¼“å­˜ã€‚</p>
<p>åˆ‡æ¢æ˜¾ç¤ºçš„é€»è¾‘ï¼šå½“ <code>activeId</code> å˜åŒ–æ—¶ï¼Œæ£€æŸ¥ç¼“å­˜ä¸­æ˜¯å¦æœ‰å¯¹åº”ç»„ä»¶ï¼›å¦‚æœæ²¡æœ‰ï¼Œæ·»åŠ å½“å‰ childrenï¼›ç„¶åéå†ç¼“å­˜ï¼Œæ¸²æŸ“æ‰€æœ‰ç»„ä»¶ï¼Œä½†åªæ˜¾ç¤º active çš„é‚£ä¸ªã€‚é€šè¿‡ Object.entries å°†ç¼“å­˜è½¬ä¸ºäºŒç»´æ•°ç»„ <code>[[key1, value1], [key2, value2]]</code>ï¼Œä¾¿äº map æ¸²æŸ“ã€‚</p>
<p>è¿™ç§è®¾è®¡æå‡äº†ç»„ä»¶çš„å¤ç”¨æ€§ï¼šçˆ¶ç»„ä»¶é€šè¿‡ <code>children</code> ä¼ å…¥ä»»æ„å†…å®¹ï¼Œ<code>KeepAlive</code> åªè´Ÿè´£<strong>ç¼“å­˜å’Œæ˜¾ç¤ºæ§åˆ¶</strong>ã€‚props å¦‚ <code>activeId</code> ç”¨äºæ ‡è¯†å½“å‰æ´»è·ƒ tabã€‚</p>
<h3 data-id="heading-1">ç¤ºä¾‹åœºæ™¯ï¼šè®¡æ•°å™¨ tab åˆ‡æ¢</h3>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª <code>App</code> ç»„ä»¶ï¼ŒåŒ…å«ä¸¤ä¸ªè®¡æ•°å™¨è§†å›¾ A å’Œ Bã€‚ç”¨æˆ·ç‚¹å‡»æŒ‰é’®åˆ‡æ¢ tabï¼Œæˆ‘ä»¬å¸Œæœ›åˆ‡æ¢æ—¶ä¿ç•™è®¡æ•°å™¨çŠ¶æ€ï¼Œè€Œä¸æ˜¯é‡ç½®ä¸º 0ã€‚ä»¥ä¸‹æ˜¯ <code>App.jsx</code> çš„å®Œæ•´ä»£ç ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> {
  useState,
  useEffect,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">import</span> <span class="hljs-title class_">KeepAlive</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/KeepAlive.jsx'</span>;


<span class="hljs-keyword">const</span> <span class="hljs-title function_">Counter</span> = (<span class="hljs-params">{ name }</span>) =&gt; {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æŒ‚è½½"</span>, name);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å¸è½½"</span>, name);
    }    
  }, [])

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{padding:</span> '<span class="hljs-attr">20px</span>', <span class="hljs-attr">border:</span> '<span class="hljs-attr">1px</span> <span class="hljs-attr">solid</span> #<span class="hljs-attr">ccc</span>'}}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>{name} è§†å›¾<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰è®¡æ•°ï¼š{count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;ç‚¹å‡»åŠ 1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">OtherCounter</span> = (<span class="hljs-params">{ name }</span>) =&gt; {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æŒ‚è½½"</span>, name);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å¸è½½"</span>, name);
    }    
  }, [])

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{padding:</span> '<span class="hljs-attr">20px</span>', <span class="hljs-attr">border:</span> '<span class="hljs-attr">1px</span> <span class="hljs-attr">solid</span> #<span class="hljs-attr">ccc</span>'}}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>{name} è§†å›¾<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰è®¡æ•°ï¼š{count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;ç‚¹å‡»åŠ 1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}


<span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> [activeTab, setActiveTab] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">'A'</span>);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginBottom:</span> '<span class="hljs-attr">20px</span>'}}&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setActiveTab('A')}&gt;æ˜¾ç¤ºAç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setActiveTab('B')}&gt;æ˜¾ç¤ºBç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      {/* children æå‡ç»„ä»¶çš„å®šåˆ¶èƒ½åŠ› ç»™çˆ¶ç»„ä»¶æ–¹ä¾¿ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">KeepAlive</span> <span class="hljs-attr">activeId</span>=<span class="hljs-string">{activeTab}</span>&gt;</span>
        { activeTab === 'A' ? <span class="hljs-tag">&lt;<span class="hljs-name">Counter</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"A"</span> /&gt;</span> : <span class="hljs-tag">&lt;<span class="hljs-name">OtherCounter</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"B"</span> /&gt;</span> }
      <span class="hljs-tag">&lt;/<span class="hljs-name">KeepAlive</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>
</code></pre>
<p>åœ¨è¿™é‡Œï¼ŒCounter å’Œ OtherCounter æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„è®¡æ•°å™¨ç»„ä»¶ï¼Œä½¿ç”¨ useEffect è®°å½•æŒ‚è½½/å¸è½½æ—¥å¿—ã€‚App é€šè¿‡ useState ç®¡ç† activeTabï¼ŒæŒ‰é’®åˆ‡æ¢å®ƒã€‚KeepAlive åŒ…è£¹æ¡ä»¶æ¸²æŸ“çš„ childrenï¼šå½“ activeTab ä¸º 'A' æ—¶æ¸²æŸ“ Counterï¼Œå¦åˆ™ OtherCounterã€‚</p>
<p>è¿è¡Œè¿™ä¸ª Appï¼Œå¦‚æœæ²¡æœ‰ KeepAliveï¼Œåˆ‡æ¢ tab æ—¶ä¼šçœ‹åˆ°æ§åˆ¶å°æ‰“å°â€œå¸è½½ Aâ€å’Œâ€œæŒ‚è½½ Bâ€ï¼Œè®¡æ•°å™¨é‡ç½®ã€‚ä½†æœ‰äº† KeepAliveï¼Œåªåœ¨é¦–æ¬¡æ¸²æŸ“æ—¶æŒ‚è½½ï¼Œä»¥ååˆ‡æ¢åªéšè—/æ˜¾ç¤ºï¼Œæ— å¸è½½æ—¥å¿—ï¼ŒçŠ¶æ€ä¿ç•™ã€‚</p>
<h3 data-id="heading-2">æ‰‹å†™ KeepAlive ç»„ä»¶</h3>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å®ç° KeepAlive.jsxã€‚å®ƒä½¿ç”¨ useState å­˜å‚¨ç¼“å­˜ï¼ŒuseEffect åœ¨ activeId æˆ– children å˜åŒ–æ—¶æ›´æ–°ç¼“å­˜ã€‚æ¸²æŸ“æ—¶éå†ç¼“å­˜ï¼Œåº”ç”¨ display æ ·å¼ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> {
  useState,
  useEffect,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">KeepAlive</span> = (<span class="hljs-params">{
  activeId,
  children,
}</span>) =&gt; {
  <span class="hljs-keyword">const</span> [cache, setCache] = <span class="hljs-title function_">useState</span>({});  <span class="hljs-comment">// ç¼“å­˜ç»„ä»¶çš„</span>
  <span class="hljs-comment">// console.log(children, "--------");</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// activeId updata åˆ‡æ¢æ˜¾ç¤º</span>
    <span class="hljs-comment">// children updata ä¿å­˜</span>
    <span class="hljs-keyword">if</span> (!cache[activeId]) {  <span class="hljs-comment">// activeId key</span>
      <span class="hljs-title function_">setCache</span>(<span class="hljs-function">(<span class="hljs-params">pre</span>) =&gt;</span> ({
        ...pre,
        [activeId]: children
      }))
    }
    <span class="hljs-comment">// console.log(cache, "????????");</span>
  }, [activeId, children, cache])
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      {
        // Object.entries å¯¹è±¡å˜æˆæ•°ç»„
        // [key, value] åˆæ–¹ä¾¿ä½¿ç”¨
        Object.entries(cache).map(([id, components]) =&gt; (
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{id}</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{display:</span> <span class="hljs-attr">id</span> === <span class="hljs-string">activeId</span> ? '<span class="hljs-attr">block</span>' <span class="hljs-attr">:</span> '<span class="hljs-attr">none</span>'}}
          &gt;</span>
            {components}
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        ))
      }
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">KeepAlive</span>
</code></pre>
<p>å‰–æä»£ç ï¼š</p>
<ul>
<li>useState({}) åˆå§‹åŒ– cache ä¸ºç©ºå¯¹è±¡ã€‚</li>
<li>useEffect ä¾èµ– [activeId, children, cache]ï¼šå½“è¿™äº›å˜åŒ–æ—¶ï¼Œæ£€æŸ¥ cache æ˜¯å¦æœ‰ activeIdï¼›å¦‚æœæ²¡æœ‰ï¼Œæ·»åŠ  children åˆ° cacheã€‚</li>
<li>æ¸²æŸ“éƒ¨åˆ†ï¼šä½¿ç”¨ Object.entries(cache) è½¬ä¸º [[id, components]] æ•°ç»„ï¼Œmap æ¸²æŸ“æ¯ä¸ªç¼“å­˜é¡¹ã€‚æ¯ä¸ªé¡¹åŒ…è£¹åœ¨ div ä¸­ï¼Œkey ä¸º idï¼ˆç¡®ä¿å”¯ä¸€ï¼‰ï¼Œstyle æ ¹æ® id === activeId è®¾ç½® display: block æˆ– noneã€‚</li>
<li>æ³¨é‡Šè§£é‡Šäº† Object.entries çš„ä½œç”¨ï¼šå°†å¯¹è±¡æ‹†æˆæ˜“è¿­ä»£çš„äºŒç»´æ•°ç»„ã€‚</li>
</ul>
<p>è¿™ä¸ªå®ç°ç®€å•æœ‰æ•ˆã€‚é¦–æ¬¡åˆ‡æ¢åˆ° 'A' æ—¶ï¼Œcache æ·»åŠ  {'A':  }ï¼Œæ¸²æŸ“ div display: blockã€‚åˆ‡æ¢ 'B' æ—¶ï¼Œæ·»åŠ  {'B':  }ï¼Œç°åœ¨æ¸²æŸ“ä¸¤ä¸ª divï¼šA ä¸º noneï¼ŒB ä¸º blockã€‚ç»„ä»¶å®ä¾‹ä¿ç•™ï¼ŒçŠ¶æ€ä¸ä¸¢ã€‚</p>
<p>æ€»ç»“ï¼Œæ‰‹å†™ KeepAlive è€ƒå¯Ÿäº†å¯¹ React çŠ¶æ€ã€effect å’Œæ¸²æŸ“çš„ç†è§£ã€‚é€šè¿‡ç¼“å­˜å’Œ display æ§åˆ¶ï¼Œæˆ‘ä»¬å®ç°äº†é«˜æ•ˆç»„ä»¶å¤ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ–°æ‰‹å¿…çœ‹ï½œ5ä¸ªPythonåŸºç¡€è¯­æ³•é¿å‘æŠ€å·§ï¼ˆé™„ä»£ç ç¤ºä¾‹ï¼‰]]></title>    <link>https://juejin.cn/post/7602246300453126179</link>    <guid>https://juejin.cn/post/7602246300453126179</guid>    <pubDate>2026-02-03T09:30:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602246300453126179" data-draft-id="7602188264114962447" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ–°æ‰‹å¿…çœ‹ï½œ5ä¸ªPythonåŸºç¡€è¯­æ³•é¿å‘æŠ€å·§ï¼ˆé™„ä»£ç ç¤ºä¾‹ï¼‰"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-02-03T09:30:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èººå¹³å¤§é¹…"/> <meta itemprop="url" content="https://juejin.cn/user/2455634286221657"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ–°æ‰‹å¿…çœ‹ï½œ5ä¸ªPythonåŸºç¡€è¯­æ³•é¿å‘æŠ€å·§ï¼ˆé™„ä»£ç ç¤ºä¾‹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2455634286221657/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èººå¹³å¤§é¹…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T09:30:32.000Z" title="Tue Feb 03 2026 09:30:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œä¸ºåˆšå…¥é—¨ç¼–ç¨‹çš„æ–°æ‰‹ï¼ŒPythonåŸºç¡€è¯­æ³•çœ‹ä¼¼ç®€å•ï¼Œä½†å¾ˆå®¹æ˜“åœ¨ç»†èŠ‚ä¸Šè¸©å‘ï¼Œå¯¼è‡´ä»£ç æŠ¥é”™ã€è¿è¡Œå¼‚å¸¸ï¼Œæ—¢å½±å“æ•ˆç‡åˆæ‰“å‡»ç§¯ææ€§ã€‚ä»Šå¤©æ•´ç†äº†5ä¸ªæœ€å¸¸è§çš„Pythonè¯­æ³•é¿å‘ç‚¹ï¼Œæ­é…å¯ç›´æ¥å¤åˆ¶è¿è¡Œçš„ä»£ç ç¤ºä¾‹ï¼Œæ–°æ‰‹çœ‹å®Œå°±èƒ½é¿å¼€90%çš„åŸºç¡€é”™è¯¯ï¼Œå¿«é€Ÿå¤¯å®åŸºç¡€ï½</p>
<h3 data-id="heading-0">ä¸€ã€ç¼©è¿›é”™è¯¯ï¼ˆæœ€é«˜é¢‘ï¼ï¼‰</h3>
<p>Pythonçš„ç¼©è¿›ä¸æ˜¯â€œå¯é€‰è£…é¥°â€ï¼Œè€Œæ˜¯è¯­æ³•çš„ä¸€éƒ¨åˆ†ï¼Œè¿™å’ŒJavaã€C++çš„æ‹¬å·åˆ†éš”ä¸åŒï¼Œæ–°æ‰‹æœ€å®¹æ˜“å¿½ç•¥ç¼©è¿›è§„èŒƒï¼Œå¯¼è‡´IndentationErrorã€‚</p>
<p>âŒ é”™è¯¯ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python">a = <span class="hljs-number">10</span>
<span class="hljs-keyword">if</span> a &gt; <span class="hljs-number">5</span>:
<span class="hljs-built_in">print</span>(<span class="hljs-string">"aå¤§äº5"</span>)  <span class="hljs-comment"># ç¼©è¿›ä¸ä¸€è‡´ï¼ŒæŠ¥é”™</span>
    
</code></pre>
<p>âœ… æ­£ç¡®ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python">a = <span class="hljs-number">10</span>
<span class="hljs-keyword">if</span> a &gt; <span class="hljs-number">5</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"aå¤§äº5"</span>)  <span class="hljs-comment"># ç»Ÿä¸€ä½¿ç”¨4ä¸ªç©ºæ ¼ç¼©è¿›ï¼ˆCSDNè§„èŒƒï¼‰</span>
    
</code></pre>
<p>ğŸ’¡ é¿å‘æŠ€å·§ï¼šå›ºå®šä½¿ç”¨4ä¸ªç©ºæ ¼ç¼©è¿›ï¼ˆä¸è¦ç”¨Tabé”®ï¼Œé¿å…ä¸åŒç¼–è¾‘å™¨æ˜¾ç¤ºå¼‚å¸¸ï¼‰ï¼ŒIDEï¼ˆå¦‚PyCharmã€VS Codeï¼‰å¯è®¾ç½®â€œTabè‡ªåŠ¨è½¬ä¸º4ä¸ªç©ºæ ¼â€ï¼Œä»æ ¹æºé¿å…ç¼©è¿›é—®é¢˜ã€‚</p>
<h3 data-id="heading-1">äºŒã€å˜é‡å‘½åè§„èŒƒï¼ˆé¿å…è¯­æ³•æŠ¥é”™+æé«˜å¯è¯»æ€§ï¼‰</h3>
<p>Pythonå˜é‡å‘½åæœ‰æ˜ç¡®è§„åˆ™ï¼Œæ–°æ‰‹å®¹æ˜“ä½¿ç”¨å…³é”®å­—ã€ç‰¹æ®Šç¬¦å·ï¼Œå¯¼è‡´ä»£ç æ— æ³•è¿è¡Œï¼ŒåŒæ—¶æ··ä¹±çš„å‘½åä¼šè®©åç»­è°ƒè¯•å˜å¾—å›°éš¾ã€‚</p>
<p>âŒ é”™è¯¯ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python">123name = <span class="hljs-string">"å¼ ä¸‰"</span>  <span class="hljs-comment"># ä¸èƒ½ä»¥æ•°å­—å¼€å¤´</span>
name@age = <span class="hljs-number">20</span>    <span class="hljs-comment"># ä¸èƒ½åŒ…å«@ã€#ç­‰ç‰¹æ®Šç¬¦å·ï¼ˆä¸‹åˆ’çº¿_é™¤å¤–ï¼‰</span>
<span class="hljs-keyword">if</span> = <span class="hljs-number">5</span>           <span class="hljs-comment"># ä¸èƒ½ä½¿ç”¨å…³é”®å­—ï¼ˆifã€forã€whileç­‰ï¼‰</span>
    
</code></pre>
<p>âœ… æ­£ç¡®ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python">user_name = <span class="hljs-string">"å¼ ä¸‰"</span>  <span class="hljs-comment"># å°å†™å­—æ¯+ä¸‹åˆ’çº¿ï¼ˆè›‡å½¢å‘½åæ³•ï¼ŒPythonæ¨èï¼‰</span>
user_age = <span class="hljs-number">20</span>
flag = <span class="hljs-number">5</span>
    
</code></pre>
<h3 data-id="heading-2">ä¸‰ã€ä¸­è‹±æ–‡ç¬¦å·æ··æ·†ï¼ˆéšè”½æ€§æå¼ºï¼ï¼‰</h3>
<p>è¿™æ˜¯æ–°æ‰‹æœ€å®¹æ˜“è¸©çš„â€œéšå½¢å‘â€ï¼Œä¸­è‹±æ–‡çš„æ‹¬å·ã€å¼•å·ã€é€—å·çœ‹èµ·æ¥ç›¸ä¼¼ï¼Œä½†Pythonåªè¯†åˆ«è‹±æ–‡ç¬¦å·ï¼Œä¸€æ—¦ç”¨äº†ä¸­æ–‡ç¬¦å·ï¼Œå°±ä¼šæŠ¥SyntaxErrorï¼Œå´å¾ˆéš¾å¿«é€Ÿæ‰¾åˆ°é—®é¢˜æ‰€åœ¨ã€‚</p>
<p>âŒ é”™è¯¯ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-built_in">print</span>(â€œHello Pythonâ€)  <span class="hljs-comment"># ä¸­æ–‡åŒå¼•å·</span>
<span class="hljs-keyword">if</span> a == <span class="hljs-number">5</span>ï¼š            <span class="hljs-comment"># ä¸­æ–‡å†’å·</span>
    
</code></pre>
<p>âœ… æ­£ç¡®ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-built_in">print</span>(<span class="hljs-string">"Hello Python"</span>)  <span class="hljs-comment"># è‹±æ–‡åŒå¼•å·</span>
<span class="hljs-keyword">if</span> a == <span class="hljs-number">5</span>:            <span class="hljs-comment"># è‹±æ–‡å†’å·</span>
    
</code></pre>
<p>ğŸ’¡ é¿å‘æŠ€å·§ï¼šç¼–ç¨‹æ—¶å›ºå®šåˆ‡æ¢åˆ°è‹±æ–‡è¾“å…¥æ³•ï¼ŒIDEå¯å®‰è£…â€œä¸­è‹±æ–‡ç¬¦å·æ£€æµ‹æ’ä»¶â€ï¼Œå®æ—¶æé†’é”™è¯¯ã€‚</p>
<h3 data-id="heading-3">å››ã€åˆ—è¡¨/å­—å…¸ç´¢å¼•å–å€¼é”™è¯¯</h3>
<p>Pythonä¸­åˆ—è¡¨ã€å­—å…¸æ˜¯æœ€å¸¸ç”¨çš„æ•°æ®ç»“æ„ï¼Œæ–°æ‰‹å®¹æ˜“å‡ºç°â€œç´¢å¼•è¶Šç•Œâ€â€œå­—å…¸é”®ä¸å­˜åœ¨â€çš„é”™è¯¯ï¼Œå°¤å…¶æ˜¯å¾ªç¯å–å€¼æ—¶ã€‚</p>
<p>âŒ é”™è¯¯ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åˆ—è¡¨ç´¢å¼•ä»0å¼€å§‹ï¼Œä¸æ˜¯1</span>
list1 = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]
<span class="hljs-built_in">print</span>(list1[<span class="hljs-number">4</span>])  <span class="hljs-comment"># åˆ—è¡¨é•¿åº¦ä¸º4ï¼Œæœ€å¤§ç´¢å¼•æ˜¯3ï¼ŒæŠ¥é”™</span>

<span class="hljs-comment"># å­—å…¸å–å€¼æ—¶ï¼Œé”®ä¸å­˜åœ¨æŠ¥é”™</span>
dict1 = {<span class="hljs-string">"name"</span>:<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"age"</span>:<span class="hljs-number">20</span>}
<span class="hljs-built_in">print</span>(dict1[<span class="hljs-string">"gender"</span>])  <span class="hljs-comment"># é”®genderä¸å­˜åœ¨ï¼ŒæŠ¥é”™</span>
    
</code></pre>
<p>âœ… æ­£ç¡®ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python">list1 = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]
<span class="hljs-built_in">print</span>(list1[<span class="hljs-number">3</span>])  <span class="hljs-comment"># å–æœ€åä¸€ä¸ªå…ƒç´ ï¼Œç´¢å¼•3</span>

dict1 = {<span class="hljs-string">"name"</span>:<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"age"</span>:<span class="hljs-number">20</span>}
<span class="hljs-comment"># æ–¹æ³•1ï¼šåˆ¤æ–­é”®æ˜¯å¦å­˜åœ¨</span>
<span class="hljs-keyword">if</span> <span class="hljs-string">"gender"</span> <span class="hljs-keyword">in</span> dict1:
    <span class="hljs-built_in">print</span>(dict1[<span class="hljs-string">"gender"</span>])
<span class="hljs-comment"># æ–¹æ³•2ï¼šä½¿ç”¨get()æ–¹æ³•ï¼Œä¸å­˜åœ¨è¿”å›é»˜è®¤å€¼None</span>
<span class="hljs-built_in">print</span>(dict1.get(<span class="hljs-string">"gender"</span>))
    
</code></pre>
<h3 data-id="heading-4">äº”ã€å¾ªç¯ä¸­ä¿®æ”¹å¯è¿­ä»£å¯¹è±¡ï¼ˆå®¹æ˜“å¯¼è‡´æ­»å¾ªç¯/æ¼å€¼ï¼‰</h3>
<p>æ–°æ‰‹åœ¨forå¾ªç¯ä¸­ï¼Œç»å¸¸ç›´æ¥ä¿®æ”¹åˆ—è¡¨ã€å­—å…¸ç­‰å¯è¿­ä»£å¯¹è±¡ï¼Œå¯¼è‡´å¾ªç¯æ¬¡æ•°å¼‚å¸¸ã€æ¼å–å…ƒç´ ï¼Œç”šè‡³æ­»å¾ªç¯ã€‚</p>
<p>âŒ é”™è¯¯ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python">list1 = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]
<span class="hljs-comment"># å¾ªç¯ä¸­åˆ é™¤åˆ—è¡¨å…ƒç´ ï¼Œå¯¼è‡´æ¼å€¼</span>
<span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> list1:
    <span class="hljs-keyword">if</span> num % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>:
        list1.remove(num)
<span class="hljs-built_in">print</span>(list1)  <span class="hljs-comment"># é¢„æœŸ[1,3,5]ï¼Œå®é™…[1,3,5]ï¼ˆæ­¤å¤„çœ‹ä¼¼æ­£ç¡®ï¼Œå¤æ‚åœºæ™¯ä¼šæ¼å€¼ï¼‰</span>
    
</code></pre>
<p>âœ… æ­£ç¡®ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python">list1 = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]
<span class="hljs-comment"># éå†åˆ—è¡¨å‰¯æœ¬ï¼Œä¿®æ”¹åŸåˆ—è¡¨</span>
<span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> list1[:]:
    <span class="hljs-keyword">if</span> num % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>:
        list1.remove(num)
<span class="hljs-built_in">print</span>(list1)  <span class="hljs-comment"># æ­£ç¡®è¾“å‡º[1,3,5]</span>
    
</code></pre>
<h3 data-id="heading-5">æœ€å</h3>
<p>PythonåŸºç¡€è¯­æ³•çš„å‘ï¼Œå¤§å¤šé›†ä¸­åœ¨ç»†èŠ‚ä¸Šï¼Œæ–°æ‰‹åªè¦å¤šæ³¨æ„è§„èŒƒã€å¤šç»ƒä¹ ï¼Œå°±èƒ½å¿«é€Ÿé¿å¼€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äºŒå‰æ ‘è§£é¢˜å¿ƒæ³•ï¼šä»æ€ç»´åˆ°å®æˆ˜ï¼Œä¸€æ–‡ç†è§£æ‰€æœ‰æ ¸å¿ƒè€ƒç‚¹]]></title>    <link>https://juejin.cn/post/7602420156397142059</link>    <guid>https://juejin.cn/post/7602420156397142059</guid>    <pubDate>2026-02-03T10:20:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602420156397142059" data-draft-id="7602488966609371174" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äºŒå‰æ ‘è§£é¢˜å¿ƒæ³•ï¼šä»æ€ç»´åˆ°å®æˆ˜ï¼Œä¸€æ–‡ç†è§£æ‰€æœ‰æ ¸å¿ƒè€ƒç‚¹"/> <meta itemprop="keywords" content="JavaScript,åç«¯,ç®—æ³•"/> <meta itemprop="datePublished" content="2026-02-03T10:20:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¢œé…±"/> <meta itemprop="url" content="https://juejin.cn/user/905653309941495"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äºŒå‰æ ‘è§£é¢˜å¿ƒæ³•ï¼šä»æ€ç»´åˆ°å®æˆ˜ï¼Œä¸€æ–‡ç†è§£æ‰€æœ‰æ ¸å¿ƒè€ƒç‚¹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/905653309941495/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¢œé…±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T10:20:35.000Z" title="Tue Feb 03 2026 10:20:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">äºŒå‰æ ‘è§£é¢˜å¿ƒæ³•ï¼šä»æ€ç»´åˆ°å®æˆ˜ï¼Œä¸€æ–‡ç†è§£æ‰€æœ‰æ ¸å¿ƒè€ƒç‚¹</h2>
<p>äºŒå‰æ ‘æ˜¯ç®—æ³•é¢è¯•çš„<strong>æ ¸å¿ƒåŸºç¡€è€ƒç‚¹</strong>ï¼Œæ— è®ºæ˜¯éå†ã€æ„é€ ã€åºåˆ—åŒ–è¿˜æ˜¯å­æ ‘ç›¸å…³é—®é¢˜ï¼Œéƒ½æœ‰ä¸€å¥—ç»Ÿä¸€çš„è§£é¢˜æ¡†æ¶å’Œæ€ç»´æ¨¡å¼ã€‚æœ¬æ–‡å°†ä»<strong>è§£é¢˜æ€»çº²</strong>å‡ºå‘ï¼Œä¾æ¬¡è®²è§£<strong>éå†ä¸åˆ†è§£é—®é¢˜æ€ç»´</strong>ã€<strong>äºŒå‰æ ‘æ„é€ </strong>ã€<strong>åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</strong>ä¸‰å¤§æ ¸å¿ƒæ¨¡å—ï¼Œç»“åˆLeetCodeç»å…¸çœŸé¢˜ï¼Œä»åŸç†åˆ°ä»£ç å®ç°å±‚å±‚æ‹†è§£ï¼Œè®©ä½ å½¢æˆä¸€å¥—å¯å¤ç”¨çš„äºŒå‰æ ‘è§£é¢˜ä½“ç³»ï¼Œè½»æ¾åº”å¯¹å„ç±»äºŒå‰æ ‘é—®é¢˜ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€äºŒå‰æ ‘è§£é¢˜æ€»çº²ï¼ˆçº²é¢†ç¯‡ï¼‰</h3>
<p>æ‰€æœ‰äºŒå‰æ ‘é—®é¢˜çš„è§£é¢˜æ€ç»´ï¼Œéƒ½å¯ä»¥å½’ä¸ºä¸¤ç±»ï¼Œä¸”æ— è®ºä½¿ç”¨å“ªç§æ€ç»´ï¼Œéƒ½è¦èšç„¦<strong>å•ä¸ªèŠ‚ç‚¹çš„æ“ä½œ</strong>å’Œ<strong>æ‰§è¡Œæ—¶æœº</strong>ï¼š</p>
<h4 data-id="heading-2">æ ¸å¿ƒæ€ç»´æ¨¡å¼</h4>
<ol>
<li>
<p><strong>éå†æ€ç»´</strong>ï¼šèƒ½å¦é€šè¿‡<strong>éå†ä¸€éäºŒå‰æ ‘</strong>å¾—åˆ°ç­”æ¡ˆï¼Ÿè‹¥å¯ä»¥ï¼Œç¼–å†™<code>traverse</code>éå†å‡½æ•°ï¼Œé…åˆå¤–éƒ¨å˜é‡è®°å½•ç»“æœï¼Œè®©æ¯ä¸ªèŠ‚ç‚¹æ‰§è¡Œç›¸åŒæ“ä½œã€‚</p>
</li>
<li>
<p><strong>åˆ†è§£é—®é¢˜æ€ç»´</strong>ï¼šèƒ½å¦é€šè¿‡<strong>å­é—®é¢˜ï¼ˆå­æ ‘ï¼‰çš„ç­”æ¡ˆæ¨å¯¼åŸé—®é¢˜ç­”æ¡ˆ</strong>ï¼Ÿè‹¥å¯ä»¥ï¼Œå®šä¹‰é€’å½’å‡½æ•°å¹¶æ˜ç¡®å…¶<strong>è¿”å›å€¼å«ä¹‰</strong>ï¼Œå……åˆ†åˆ©ç”¨å­æ ‘çš„è¿”å›å€¼æ„å»ºåŸé—®é¢˜è§£ã€‚</p>
</li>
</ol>
<h4 data-id="heading-3">æ ¸å¿ƒæ€è€ƒæ­¥éª¤</h4>
<p>å•ç‹¬æŠ½å‡ºä¸€ä¸ªäºŒå‰æ ‘èŠ‚ç‚¹ï¼Œæ€è€ƒä¸¤ä¸ªå…³é”®é—®é¢˜ï¼š</p>
<ol>
<li>
<p>è¿™ä¸ªèŠ‚ç‚¹<strong>éœ€è¦åšä»€ä¹ˆäº‹æƒ…</strong>ï¼Ÿï¼ˆå¦‚äº¤æ¢å·¦å³å­èŠ‚ç‚¹ã€è®¡ç®—å­æ ‘é«˜åº¦ã€åºåˆ—åŒ–å­æ ‘ç­‰ï¼‰</p>
</li>
<li>
<p>è¿™ä»¶äº‹éœ€è¦åœ¨<strong>ä»€ä¹ˆæ—¶å€™åš</strong>ï¼Ÿï¼ˆå‰åº/ä¸­åº/ååºä½ç½®ï¼Œå±‚åºçš„å½“å‰å±‚ï¼‰</p>
</li>
</ol>
<p><strong>å…¶ä»–èŠ‚ç‚¹æ— éœ€æ“å¿ƒ</strong>ï¼Œé€’å½’å‡½æ•°ä¼šå¸®ä½ åœ¨æ‰€æœ‰èŠ‚ç‚¹ä¸Šæ‰§è¡Œç›¸åŒçš„æ“ä½œâ€”â€”è¿™æ˜¯äºŒå‰æ ‘é€’å½’è§£é¢˜çš„æ ¸å¿ƒï¼Œä¹Ÿæ˜¯ã€Œåˆ†æ²»æ€æƒ³ã€çš„å®Œç¾ä½“ç°ã€‚</p>
<h3 data-id="heading-4">äºŒã€äºŒå‰æ ‘è§£é¢˜æ€ç»´ï¼šéå† vs åˆ†è§£é—®é¢˜ï¼ˆæ€ç»´ç¯‡ï¼‰</h3>
<p>æˆ‘ä»¬é€šè¿‡3é“LeetCodeç»å…¸ç®€å•é¢˜ï¼Œå®æˆ˜åŒºåˆ†ä¸¤ç§æ€ç»´æ¨¡å¼çš„å·®å¼‚ä¸é€‚ç”¨åœºæ™¯ï¼Œç†è§£<strong>å‰/ä¸­/ååºä½ç½®</strong>çš„æ ¸å¿ƒä½œç”¨ã€‚</p>
<h4 data-id="heading-5">é¢˜1ï¼šç¿»è½¬äºŒå‰æ ‘ï¼ˆLeetCode 226ï¼‰</h4>
<p><strong>é¢˜ç›®è¦æ±‚</strong>ï¼šåŸåœ°ç¿»è½¬äºŒå‰æ ‘ï¼Œäº¤æ¢æ¯ä¸ªèŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹ï¼Œè¿”å›ç¿»è½¬åçš„æ ¹èŠ‚ç‚¹ã€‚</p>
<p><strong>æ ¸å¿ƒç»“è®º</strong>ï¼šå‰ååºä½ç½®å‡å¯å®ç°ï¼Œéå†æ€ç»´æ›´ç›´è§‚ï¼Œåˆ†è§£æ€ç»´æ›´è´´åˆé€’å½’æœ¬è´¨ã€‚</p>
<h5 data-id="heading-6">è§£æ³•1ï¼šéå†æ€ç»´ï¼ˆå‰åºéå†ï¼‰</h5>
<p>éå†æ¯ä¸ªèŠ‚ç‚¹ï¼Œåœ¨<strong>å‰åºä½ç½®</strong>ç›´æ¥äº¤æ¢å½“å‰èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹ï¼Œé€’å½’å¤„ç†å­èŠ‚ç‚¹å³å¯ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">/**
 * éå†æ€ç»´ï¼šå‰åºé€’å½’ï¼Œç›´æ¥æ“ä½œæ¯ä¸ªèŠ‚ç‚¹
 * æ ¸å¿ƒï¼šå‰åºä½ç½®äº¤æ¢å·¦å³å­èŠ‚ç‚¹ï¼ŒåŸåœ°ä¿®æ”¹
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">invertTree</span>(<span class="hljs-params">root</span>) {
  <span class="hljs-keyword">if</span> (root === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  <span class="hljs-comment">// å‰åºä½ç½®ï¼šå½“å‰èŠ‚ç‚¹æ“ä½œâ€”â€”äº¤æ¢å·¦å³å­èŠ‚ç‚¹</span>
  [root.<span class="hljs-property">left</span>, root.<span class="hljs-property">right</span>] = [root.<span class="hljs-property">right</span>, root.<span class="hljs-property">left</span>];
  <span class="hljs-comment">// é€’å½’éå†å·¦å³å­æ ‘ï¼Œå®Œæˆä¸‹å±‚ç¿»è½¬</span>
  <span class="hljs-title function_">invertTree</span>(root.<span class="hljs-property">left</span>);
  <span class="hljs-title function_">invertTree</span>(root.<span class="hljs-property">right</span>);
  <span class="hljs-keyword">return</span> root;
}
</code></pre>
<h5 data-id="heading-7">è§£æ³•2ï¼šåˆ†è§£é—®é¢˜æ€ç»´</h5>
<p><strong>å‡½æ•°å®šä¹‰</strong>ï¼š<code>invertTree(root)</code> è¡¨ç¤ºã€Œç¿»è½¬ä»¥<code>root</code>ä¸ºæ ¹çš„äºŒå‰æ ‘ï¼Œè¿”å›ç¿»è½¬åçš„æ ¹èŠ‚ç‚¹ã€ã€‚</p>
<p>åˆ©ç”¨å‡½æ•°å®šä¹‰ï¼Œå…ˆç¿»è½¬å·¦å³å­æ ‘ï¼Œå†äº¤æ¢å½“å‰èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹ï¼Œè´´åˆã€Œå­é—®é¢˜æ¨å¯¼åŸé—®é¢˜ã€çš„æ€è·¯ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">/**
 * åˆ†è§£é—®é¢˜æ€ç»´ï¼šåˆ©ç”¨å­æ ‘ç»“æœæ¨å¯¼åŸé—®é¢˜
 * æ ¸å¿ƒï¼šå…ˆè§£å­é—®é¢˜ï¼ˆç¿»è½¬å·¦å³å­æ ‘ï¼‰ï¼Œå†å¤„ç†å½“å‰èŠ‚ç‚¹
 */</span>
<span class="hljs-keyword">var</span> invertTree = <span class="hljs-keyword">function</span>(<span class="hljs-params">root</span>) {
    <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-comment">// å­é—®é¢˜1ï¼šç¿»è½¬å·¦å­æ ‘ï¼Œå¾—åˆ°ç¿»è½¬åçš„å·¦å­æ ‘æ ¹</span>
    <span class="hljs-keyword">var</span> left = <span class="hljs-title function_">invertTree</span>(root.<span class="hljs-property">left</span>);
    <span class="hljs-comment">// å­é—®é¢˜2ï¼šç¿»è½¬å³å­æ ‘ï¼Œå¾—åˆ°ç¿»è½¬åçš„å³å­æ ‘æ ¹</span>
    <span class="hljs-keyword">var</span> right = <span class="hljs-title function_">invertTree</span>(root.<span class="hljs-property">right</span>);
    <span class="hljs-comment">// å¤„ç†å½“å‰èŠ‚ç‚¹ï¼šäº¤æ¢å·¦å³å­èŠ‚ç‚¹</span>
    root.<span class="hljs-property">left</span> = right;
    root.<span class="hljs-property">right</span> = left;
    <span class="hljs-comment">// ç¬¦åˆå‡½æ•°å®šä¹‰ï¼šè¿”å›ç¿»è½¬åçš„å½“å‰æ ¹èŠ‚ç‚¹</span>
    <span class="hljs-keyword">return</span> root;
}
</code></pre>
<h4 data-id="heading-8">é¢˜2ï¼šå¡«å……èŠ‚ç‚¹çš„å³ä¾§æŒ‡é’ˆï¼ˆLeetCode 116ï¼‰</h4>
<p><strong>é¢˜ç›®è¦æ±‚</strong>ï¼šå®Œç¾äºŒå‰æ ‘ä¸­ï¼Œå°†åŒä¸€å±‚ç›¸é‚»èŠ‚ç‚¹é€šè¿‡<code>next</code>æŒ‡é’ˆè¿æ¥ï¼Œæœ€å³ä¾§èŠ‚ç‚¹<code>next</code>ä¸º<code>null</code>ï¼ŒåŸåœ°ä¿®æ”¹ã€‚</p>
<p><strong>æ ¸å¿ƒç»“è®º</strong>ï¼š<strong>éå†æ€ç»´æ›´é€‚ç”¨</strong>ï¼Œéœ€å°†ã€Œä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹ã€ä½œä¸ºéå†å•å…ƒï¼ˆä¸‰å‰æ ‘æ€ç»´ï¼‰ï¼Œä¸­ååºæ— æ³•å®ç°ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">/**
 * éå†æ€ç»´ï¼šè‡ªå®šä¹‰éå†å•å…ƒï¼ˆä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹ï¼‰
 * æ ¸å¿ƒï¼šå‰åºä½ç½®è¿æ¥ç›¸é‚»èŠ‚ç‚¹ï¼Œé€’å½’å¤„ç†ä¸‹å±‚æ‰€æœ‰ç›¸é‚»å¯¹
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">connect</span>(<span class="hljs-params">root</span>) {
  <span class="hljs-keyword">if</span> (root === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> root;
  <span class="hljs-comment">// ä»æ ¹èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹å¼€å§‹ï¼Œå¤„ç†ç¬¬ä¸€å±‚ç›¸é‚»å¯¹</span>
  <span class="hljs-title function_">link</span>(root.<span class="hljs-property">left</span>, root.<span class="hljs-property">right</span>);
  <span class="hljs-keyword">return</span> root;

  <span class="hljs-comment">// éå†å•å…ƒï¼šä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹ï¼Œè´Ÿè´£è¿æ¥å¹¶å¤„ç†ä¸‹å±‚</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">link</span>(<span class="hljs-params">node1, node2</span>) {
    <span class="hljs-keyword">if</span> (!node1 || !node2) <span class="hljs-keyword">return</span>;
    <span class="hljs-comment">// å‰åºä½ç½®ï¼šæ ¸å¿ƒæ“ä½œâ€”â€”è¿æ¥ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹</span>
    node1.<span class="hljs-property">next</span> = node2;
    <span class="hljs-comment">// å¤„ç†åŒçˆ¶èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹</span>
    <span class="hljs-title function_">link</span>(node1.<span class="hljs-property">left</span>, node1.<span class="hljs-property">right</span>);
    <span class="hljs-comment">// å¤„ç†è·¨çˆ¶èŠ‚ç‚¹çš„ç›¸é‚»å­èŠ‚ç‚¹ï¼ˆæ ¸å¿ƒéš¾ç‚¹ï¼‰</span>
    <span class="hljs-title function_">link</span>(node1.<span class="hljs-property">right</span>, node2.<span class="hljs-property">left</span>);
    <span class="hljs-comment">// å¤„ç†å¦ä¸€çˆ¶èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹</span>
    <span class="hljs-title function_">link</span>(node2.<span class="hljs-property">left</span>, node2.<span class="hljs-property">right</span>);
  }
}
</code></pre>
<h4 data-id="heading-9">é¢˜3ï¼šå°†äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨ï¼ˆLeetCode 114ï¼‰</h4>
<p><strong>é¢˜ç›®è¦æ±‚</strong>ï¼šåŸåœ°å°†äºŒå‰æ ‘å±•å¼€ä¸ºå•é“¾è¡¨ï¼ŒæŒ‰<strong>å‰åºéå†é¡ºåº</strong>é€šè¿‡<code>right</code>æŒ‡é’ˆè¿æ¥ï¼Œ<code>left</code>æŒ‡é’ˆç½®ç©ºã€‚</p>
<p><strong>æ ¸å¿ƒç»“è®º</strong>ï¼š<strong>åˆ†è§£é—®é¢˜æ€ç»´æ›´é«˜æ•ˆ</strong>ï¼Œååºä½ç½®åˆ©ç”¨å­æ ‘å±•å¼€ç»“æœï¼Œç›´æ¥æ‹¼æ¥å³å¯ï¼›éå†æ€ç»´éœ€é¢å¤–è®°å½•å‰åºèŠ‚ç‚¹ï¼Œå®ç°å¤æ‚ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">/**
 * åˆ†è§£é—®é¢˜æ€ç»´ï¼šååºéå†ï¼Œåˆ©ç”¨å­æ ‘å±•å¼€ç»“æœæ‹¼æ¥
 * å‡½æ•°å®šä¹‰ï¼šflatten(root) è¡¨ç¤ºã€Œå°†rootä¸ºæ ¹çš„æ ‘å±•å¼€ä¸ºå‰åºé“¾è¡¨ã€
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">flatten</span>(<span class="hljs-params">root</span>) {
    <span class="hljs-keyword">if</span> (root === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span>;
    <span class="hljs-comment">// å­é—®é¢˜1ï¼šå±•å¼€å·¦å­æ ‘</span>
    <span class="hljs-title function_">flatten</span>(root.<span class="hljs-property">left</span>);
    <span class="hljs-comment">// å­é—®é¢˜2ï¼šå±•å¼€å³å­æ ‘</span>
    <span class="hljs-title function_">flatten</span>(root.<span class="hljs-property">right</span>);

    <span class="hljs-comment">// ååºä½ç½®ï¼šåˆ©ç”¨å­æ ‘ç»“æœå¤„ç†å½“å‰èŠ‚ç‚¹ï¼ˆå…³é”®ï¼ååºèƒ½è·å–å­æ ‘å¤„ç†åçš„ç»“æœï¼‰</span>
    <span class="hljs-keyword">const</span> left = root.<span class="hljs-property">left</span>;  <span class="hljs-comment">// å·²å±•å¼€çš„å·¦é“¾è¡¨</span>
    <span class="hljs-keyword">const</span> right = root.<span class="hljs-property">right</span>; <span class="hljs-comment">// å·²å±•å¼€çš„å³é“¾è¡¨</span>

    <span class="hljs-comment">// æ ¸å¿ƒæ“ä½œï¼šå°†å·¦é“¾è¡¨æ‹¼æ¥åˆ°root.rightï¼Œå·¦æŒ‡é’ˆç½®ç©º</span>
    root.<span class="hljs-property">left</span> = <span class="hljs-literal">null</span>;
    root.<span class="hljs-property">right</span> = left;

    <span class="hljs-comment">// æ‰¾åˆ°å·¦é“¾è¡¨çš„å°¾èŠ‚ç‚¹ï¼Œæ‹¼æ¥å³é“¾è¡¨</span>
    <span class="hljs-keyword">let</span> p = root;
    <span class="hljs-keyword">while</span> (p.<span class="hljs-property">right</span> !== <span class="hljs-literal">null</span>) p = p.<span class="hljs-property">right</span>;
    p.<span class="hljs-property">right</span> = right;
}
</code></pre>
<h4 data-id="heading-10">æ€ç»´å¯¹æ¯”ä¸å‰/ååºæ ¸å¿ƒä½œç”¨</h4>




























<table><thead><tr><th>æ€ç»´æ¨¡å¼</th><th>æ ¸å¿ƒç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th><th>å…³é”®ä½ç½®</th></tr></thead><tbody><tr><td>éå†æ€ç»´</td><td>ç›´æ¥æ“ä½œèŠ‚ç‚¹ï¼Œé…åˆå¤–éƒ¨å˜é‡</td><td>æ— éœ€å­æ ‘ç»“æœï¼Œä»…éœ€éå†èŠ‚ç‚¹æ‰§è¡Œæ“ä½œ</td><td>å‰åºï¼ˆä¼˜å…ˆï¼‰ã€å±‚åº</td></tr><tr><td>åˆ†è§£é—®é¢˜æ€ç»´</td><td>åˆ©ç”¨å­æ ‘è¿”å›å€¼ï¼Œæ¨å¯¼åŸé—®é¢˜</td><td>éœ€åŸºäºå­æ ‘å¤„ç†ç»“æœå®Œæˆå½“å‰èŠ‚ç‚¹æ“ä½œ</td><td>ååºï¼ˆä¼˜å…ˆï¼‰ã€å‰åº</td></tr><tr><td><strong>å‰åº vs ååºæ ¸å¿ƒåŒºåˆ«</strong>ï¼š</td><td/><td/></tr></tbody></table>
<ul>
<li>
<p>å‰åºä½ç½®ï¼š<strong>åªèƒ½è·å–çˆ¶èŠ‚ç‚¹ä¼ é€’çš„å‚æ•°</strong>ï¼Œæ— æ³•è·å–å­æ ‘çš„å¤„ç†ç»“æœï¼Œé€‚åˆã€Œå…ˆæ“ä½œå½“å‰èŠ‚ç‚¹ï¼Œå†é€’å½’å­èŠ‚ç‚¹ã€ï¼›</p>
</li>
<li>
<p>ååºä½ç½®ï¼š<strong>æ—¢èƒ½è·å–å‚æ•°ï¼Œåˆèƒ½è·å–å­æ ‘çš„è¿”å›å€¼</strong>ï¼Œæ˜¯ã€Œåˆ†è§£é—®é¢˜æ€ç»´ã€çš„æ ¸å¿ƒä½ç½®ï¼Œå‡ ä¹æ‰€æœ‰å­æ ‘ç›¸å…³é—®é¢˜éƒ½éœ€è¦åœ¨ååºä½ç½®å¤„ç†ã€‚</p>
</li>
</ul>
<h3 data-id="heading-11">ä¸‰ã€äºŒå‰æ ‘æ„é€ é—®é¢˜ï¼šåˆ†è§£é—®é¢˜çš„æè‡´åº”ç”¨ï¼ˆæ„é€ ç¯‡ï¼‰</h3>
<p>äºŒå‰æ ‘çš„æ„é€ é—®é¢˜æ˜¯<strong>åˆ†è§£é—®é¢˜æ€ç»´</strong>çš„å…¸å‹åœºæ™¯ï¼Œæ ¸å¿ƒæ¡†æ¶ä¸ºï¼š</p>
<p><strong>æ„é€ æ•´æ£µæ ‘ = æ„å»ºæ ¹èŠ‚ç‚¹ + é€’å½’æ„é€ å·¦å­æ ‘ + é€’å½’æ„é€ å³å­æ ‘</strong></p>
<p>æ‰€æœ‰æ„é€ é—®é¢˜çš„è§£é¢˜æ­¥éª¤å¯æ€»ç»“ä¸º<strong>å››æ­¥é€šç”¨æ¡†æ¶</strong>ï¼š</p>
<ol>
<li>
<p><strong>å®šæ ¹</strong>ï¼šç¡®å®šå½“å‰å­æ ‘çš„æ ¹èŠ‚ç‚¹ï¼ˆå¦‚æœ€å¤§å€¼ã€å‰åºé¦–å…ƒç´ ã€ååºå°¾å…ƒç´ ï¼‰ï¼›</p>
</li>
<li>
<p><strong>æ‰¾è¾¹ç•Œ</strong>ï¼šæ ¹æ®æ ¹èŠ‚ç‚¹ï¼Œåˆ’åˆ†å·¦/å³å­æ ‘çš„å…ƒç´ è¾¹ç•Œï¼ˆå¦‚æ•°ç»„åŒºé—´ã€éå†åºåˆ—ç´¢å¼•ï¼‰ï¼›</p>
</li>
<li>
<p><strong>ç®—å¤§å°</strong>ï¼šè®¡ç®—å·¦/å³å­æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ï¼Œä½œä¸ºåˆ†å‰²éå†åºåˆ—çš„ä¾æ®ï¼›</p>
</li>
<li>
<p><strong>åˆ†æ²»æ„å»º</strong>ï¼šé€’å½’æ„å»ºå·¦/å³å­æ ‘ï¼ŒæŒ‚è½½åˆ°å½“å‰æ ¹èŠ‚ç‚¹çš„å·¦å³æŒ‡é’ˆã€‚</p>
</li>
</ol>
<p>ä¸‹é¢ç»“åˆ4é“LeetCodeç»å…¸æ„é€ é¢˜ï¼Œä»ç®€å•åˆ°å¤æ‚ï¼Œåƒé€æ„é€ é—®é¢˜çš„é€šç”¨è§£æ³•ã€‚</p>
<h4 data-id="heading-12">é¢˜1ï¼šæœ€å¤§äºŒå‰æ ‘ï¼ˆLeetCode 654ï¼‰</h4>
<p><strong>é¢˜ç›®è¦æ±‚</strong>ï¼šç»™å®šæ— é‡å¤æ•´æ•°æ•°ç»„ï¼Œæ„å»ºæœ€å¤§äºŒå‰æ ‘â€”â€”æ ¹ä¸ºæ•°ç»„æœ€å¤§å€¼ï¼Œå·¦å­æ ‘ç”¨æœ€å¤§å€¼å·¦åŒºé—´æ„å»ºï¼Œå³å­æ ‘ç”¨æœ€å¤§å€¼å³åŒºé—´æ„å»ºã€‚</p>
<p><strong>æ ¸å¿ƒæ€è·¯</strong>ï¼š<strong>æ•°ç»„ç´¢å¼•åˆ†æ²»</strong>ï¼Œå…¨ç¨‹æ“ä½œåŸæ•°ç»„ï¼Œæ— æ•°ç»„æ‹·è´ï¼Œç©ºé—´æ•ˆç‡æœ€ä¼˜ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">/**
 * æœ€å¤§äºŒå‰æ ‘æ„é€ ï¼šæ•°ç»„åŒºé—´åˆ†æ²»ï¼Œåˆ†è§£é—®é¢˜æ€ç»´
 * æ ¸å¿ƒï¼šæ‰¾åŒºé—´æœ€å¤§å€¼å®šæ ¹ï¼Œåˆ†å‰²åŒºé—´é€’å½’æ„å»ºå·¦å³å­æ ‘
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">constructMaximumBinaryTree</span>(<span class="hljs-params">nums</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">build</span>(nums, <span class="hljs-number">0</span>, nums.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>);

  <span class="hljs-comment">// å‡½æ•°å®šä¹‰ï¼šç”¨nums[low..high]æ„å»ºæœ€å¤§äºŒå‰æ ‘ï¼Œè¿”å›æ ¹èŠ‚ç‚¹</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">build</span>(<span class="hljs-params">nums, low, high</span>) {
    <span class="hljs-keyword">if</span> (low &gt; high) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>; <span class="hljs-comment">// åŒºé—´æ— æ•ˆï¼Œè¿”å›null</span>

    <span class="hljs-comment">// æ­¥éª¤1ï¼šæ‰¾åŒºé—´æœ€å¤§å€¼åŠç´¢å¼•ï¼ˆå®šæ ¹ï¼‰</span>
    <span class="hljs-keyword">let</span> maxVal = -<span class="hljs-title class_">Infinity</span>, maxIdx = -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = low; i &lt;= high; i++) {
      <span class="hljs-keyword">if</span> (nums[i] &gt; maxVal) {
        maxVal = nums[i];
        maxIdx = i;
      }
    }

    <span class="hljs-comment">// æ­¥éª¤2ï¼šæ„å»ºå½“å‰æ ¹èŠ‚ç‚¹</span>
    <span class="hljs-keyword">const</span> root = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(maxVal);
    <span class="hljs-comment">// æ­¥éª¤3ï¼šåˆ†æ²»æ„å»ºå·¦å³å­æ ‘ï¼ˆæ‰¾è¾¹ç•Œï¼‰</span>
    root.<span class="hljs-property">left</span> = <span class="hljs-title function_">build</span>(nums, low, maxIdx - <span class="hljs-number">1</span>);
    root.<span class="hljs-property">right</span> = <span class="hljs-title function_">build</span>(nums, maxIdx + <span class="hljs-number">1</span>, high);

    <span class="hljs-keyword">return</span> root;
  }
}
</code></pre>
<h4 data-id="heading-13">é¢˜2ï¼šä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ï¼ˆLeetCode 105ï¼‰</h4>
<p><strong>é¢˜ç›®è¦æ±‚</strong>ï¼šç»™å®šäºŒå‰æ ‘çš„å‰åºå’Œä¸­åºéå†åºåˆ—ï¼Œæ„é€ å¹¶è¿”å›äºŒå‰æ ‘ï¼ˆèŠ‚ç‚¹å€¼æ— é‡å¤ï¼‰ã€‚</p>
<p><strong>æ ¸å¿ƒç‰¹æ€§</strong>ï¼š</p>
<ol>
<li>
<p>å‰åºï¼š<strong>æ ¹ â†’ å·¦å­æ ‘ â†’ å³å­æ ‘</strong>ï¼ˆé¦–å…ƒç´ ä¸ºæ ¹ï¼‰ï¼›</p>
</li>
<li>
<p>ä¸­åºï¼š<strong>å·¦å­æ ‘ â†’ æ ¹ â†’ å³å­æ ‘</strong>ï¼ˆæ ¹ä¸ºåˆ†å‰²ç‚¹ï¼Œåˆ’åˆ†å·¦å³å­æ ‘ï¼‰ï¼›</p>
</li>
<li>
<p>å…³é”®æ¡¥æ¢ï¼šä¸­åºä¸­å·¦å­æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ï¼Œæ˜¯åˆ†å‰²å‰åºåºåˆ—çš„å”¯ä¸€ä¾æ®ã€‚</p>
</li>
</ol>
<p><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šæ„å»ºä¸­åºã€Œå€¼â†’ç´¢å¼•ã€Mapï¼Œå°†æ ¹èŠ‚ç‚¹æŸ¥è¯¢æ—¶é—´ä»O(n)é™è‡³O(1)ï¼Œæ—¶é—´å¤æ‚åº¦ä»O(nÂ²)ä¼˜åŒ–ä¸ºO(n)ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">/**
 * å‰åº+ä¸­åºæ„é€ äºŒå‰æ ‘ï¼šç´¢å¼•åˆ†æ²»+Mapä¼˜åŒ–
 * æ ¸å¿ƒï¼šå‰åºå®šæ ¹ï¼Œä¸­åºåˆ†å·¦å³ï¼ŒèŠ‚ç‚¹æ•°åšæ¡¥æ¢
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">buildTree</span>(<span class="hljs-params">preorder, inorder</span>) {
  <span class="hljs-keyword">if</span> (preorder.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  <span class="hljs-comment">// æ„å»ºä¸­åºå€¼â†’ç´¢å¼•Mapï¼ŒO(1)æŸ¥è¯¢æ ¹èŠ‚ç‚¹ä½ç½®</span>
  <span class="hljs-keyword">const</span> valToIndex = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  inorder.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">val, idx</span>) =&gt;</span> valToIndex.<span class="hljs-title function_">set</span>(val, idx));
  <span class="hljs-comment">// åˆå§‹åŒºé—´ï¼šå…¨æ•°ç»„[0, len-1]</span>
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">build</span>(<span class="hljs-number">0</span>, preorder.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, inorder.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>);

  <span class="hljs-comment">// å‡½æ•°å®šä¹‰ï¼šç”¨pre[pStart..pEnd]å’Œin[iStart..iEnd]æ„å»ºå­æ ‘</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">build</span>(<span class="hljs-params">pStart, pEnd, iStart, iEnd</span>) {
    <span class="hljs-keyword">if</span> (pStart &gt; pEnd) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-comment">// æ­¥éª¤1ï¼šå‰åºé¦–å…ƒç´ ä¸ºæ ¹ï¼ˆå®šæ ¹ï¼‰</span>
    <span class="hljs-keyword">const</span> rootVal = preorder[pStart];
    <span class="hljs-keyword">const</span> root = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(rootVal);
    <span class="hljs-comment">// æ­¥éª¤2ï¼šä¸­åºä¸­æ‰¾æ ¹èŠ‚ç‚¹ç´¢å¼•ï¼ˆæ‰¾è¾¹ç•Œï¼‰</span>
    <span class="hljs-keyword">const</span> rootInIdx = valToIndex.<span class="hljs-title function_">get</span>(rootVal);
    <span class="hljs-comment">// æ­¥éª¤3ï¼šè®¡ç®—å·¦å­æ ‘èŠ‚ç‚¹æ•°ï¼ˆåšæ¡¥æ¢ï¼‰</span>
    <span class="hljs-keyword">const</span> leftSize = rootInIdx - iStart;

    <span class="hljs-comment">// æ­¥éª¤4ï¼šåˆ†æ²»æ„å»ºå·¦å³å­æ ‘</span>
    root.<span class="hljs-property">left</span> = <span class="hljs-title function_">build</span>(pStart + <span class="hljs-number">1</span>, pStart + leftSize, iStart, rootInIdx - <span class="hljs-number">1</span>);
    root.<span class="hljs-property">right</span> = <span class="hljs-title function_">build</span>(pStart + leftSize + <span class="hljs-number">1</span>, pEnd, rootInIdx + <span class="hljs-number">1</span>, iEnd);
    <span class="hljs-keyword">return</span> root;
  }
}
</code></pre>
<h4 data-id="heading-14">é¢˜3ï¼šä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ï¼ˆLeetCode 106ï¼‰</h4>
<p><strong>é¢˜ç›®è¦æ±‚</strong>ï¼šç»™å®šäºŒå‰æ ‘çš„ä¸­åºå’Œååºéå†åºåˆ—ï¼Œæ„é€ å¹¶è¿”å›äºŒå‰æ ‘ï¼ˆèŠ‚ç‚¹å€¼æ— é‡å¤ï¼‰ã€‚</p>
<p><strong>æ ¸å¿ƒç‰¹æ€§</strong>ï¼ˆä¸å‰åº+ä¸­åºçš„å”¯ä¸€åŒºåˆ«ï¼‰ï¼š</p>
<ul>
<li>
<p>ååºï¼š<strong>å·¦å­æ ‘ â†’ å³å­æ ‘ â†’ æ ¹</strong>ï¼ˆå°¾å…ƒç´ ä¸ºæ ¹ï¼‰ï¼›</p>
</li>
<li>
<p>ååºåºåˆ—åˆ†å‰²æ—¶ï¼Œéœ€<strong>æ’é™¤å°¾èŠ‚ç‚¹çš„æ ¹</strong>ï¼Œå³åŒºé—´ç»“æŸä½ç½®ä¸º<code>pEnd - 1</code>ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">/**
 * ä¸­åº+ååºæ„é€ äºŒå‰æ ‘ï¼šç´¢å¼•åˆ†æ²»+Mapä¼˜åŒ–
 * æ ¸å¿ƒï¼šååºå®šæ ¹ï¼ˆå°¾å…ƒç´ ï¼‰ï¼Œä¸­åºåˆ†å·¦å³ï¼ŒèŠ‚ç‚¹æ•°åšæ¡¥æ¢
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">buildTree</span>(<span class="hljs-params">inorder, postorder</span>) {
  <span class="hljs-keyword">if</span> (postorder.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">const</span> valToIndex = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  inorder.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">val, idx</span>) =&gt;</span> valToIndex.<span class="hljs-title function_">set</span>(val, idx));
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">build</span>(<span class="hljs-number">0</span>, postorder.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, inorder.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>);

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">build</span>(<span class="hljs-params">pStart, pEnd, iStart, iEnd</span>) {
    <span class="hljs-keyword">if</span> (pStart &gt; pEnd) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-comment">// æ­¥éª¤1ï¼šååºå°¾å…ƒç´ ä¸ºæ ¹ï¼ˆå®šæ ¹ï¼Œä¸å‰åºçš„æ ¸å¿ƒåŒºåˆ«ï¼‰</span>
    <span class="hljs-keyword">const</span> rootVal = postorder[pEnd];
    <span class="hljs-keyword">const</span> root = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(rootVal);
    <span class="hljs-keyword">const</span> rootInIdx = valToIndex.<span class="hljs-title function_">get</span>(rootVal);
    <span class="hljs-keyword">const</span> leftSize = rootInIdx - iStart;

    <span class="hljs-comment">// æ­¥éª¤2ï¼šåˆ†æ²»æ„å»ºå·¦å³å­æ ‘ï¼ˆååºåŒºé—´åˆ†å‰²ä¸å‰åºä¸åŒï¼‰</span>
    root.<span class="hljs-property">left</span> = <span class="hljs-title function_">build</span>(pStart, pStart + leftSize - <span class="hljs-number">1</span>, iStart, rootInIdx - <span class="hljs-number">1</span>);
    root.<span class="hljs-property">right</span> = <span class="hljs-title function_">build</span>(pStart + leftSize, pEnd - <span class="hljs-number">1</span>, rootInIdx + <span class="hljs-number">1</span>, iEnd);
    <span class="hljs-keyword">return</span> root;
  }
}
</code></pre>
<h4 data-id="heading-15">é¢˜4ï¼šä»å‰åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ï¼ˆLeetCode 889ï¼‰</h4>
<p><strong>é¢˜ç›®è¦æ±‚</strong>ï¼šç»™å®šäºŒå‰æ ‘çš„å‰åºå’Œååºéå†åºåˆ—ï¼Œæ„é€ å¹¶è¿”å›äºŒå‰æ ‘ï¼ˆèŠ‚ç‚¹å€¼æ— é‡å¤ï¼Œç­”æ¡ˆä¸å”¯ä¸€ï¼‰ã€‚</p>
<p><strong>æ ¸å¿ƒç‰¹æ€§</strong>ï¼ˆä¸å‰ä¸¤é¢˜çš„å…³é”®åŒºåˆ«ï¼‰ï¼š</p>
<ol>
<li>
<p>å‰åº+ååº<strong>æ— æ³•å”¯ä¸€ç¡®å®šäºŒå‰æ ‘</strong>ï¼ˆæ ¹èŠ‚ç‚¹åŠ å•ä¸ªå­èŠ‚ç‚¹ï¼Œå·¦/å³å‡å¯ï¼‰ï¼Œé¢˜ç›®å…è®¸è¿”å›ä»»æ„åˆæ³•ç­”æ¡ˆï¼›</p>
</li>
<li>
<p>å‰åºç¬¬äºŒä¸ªå…ƒç´ ä¸º<strong>å·¦å­æ ‘çš„æ ¹</strong>ï¼Œé€šè¿‡ååºæ‰¾åˆ°å…¶ä½ç½®ï¼Œè®¡ç®—å·¦å­æ ‘å¤§å°ï¼ˆåˆ†å‰²åºåˆ—çš„ä¾æ®ï¼‰ï¼›</p>
</li>
<li>
<p>é€’å½’ç»ˆæ­¢æ—¶éœ€å•ç‹¬å¤„ç†<strong>å¶å­èŠ‚ç‚¹</strong>ï¼ˆé¿å…æ•°ç»„è¶Šç•Œï¼‰ã€‚</p>
</li>
</ol>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">/**
 * å‰åº+ååºæ„é€ äºŒå‰æ ‘ï¼šç´¢å¼•åˆ†æ²»+å¶å­èŠ‚ç‚¹å•ç‹¬å¤„ç†
 * æ ¸å¿ƒï¼šå‰åºå®šæ ¹ï¼Œååºå®šå·¦å­æ ‘è¾¹ç•Œï¼Œç­”æ¡ˆä¸å”¯ä¸€
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">constructFromPrePost</span>(<span class="hljs-params">preorder, postorder</span>) {
  <span class="hljs-keyword">if</span> (preorder.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  <span class="hljs-comment">// æ„å»ºååºå€¼â†’ç´¢å¼•Map</span>
  <span class="hljs-keyword">const</span> valToIndex = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  postorder.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">val, idx</span>) =&gt;</span> valToIndex.<span class="hljs-title function_">set</span>(val, idx));
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">build</span>(<span class="hljs-number">0</span>, preorder.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, postorder.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>);

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">build</span>(<span class="hljs-params">pStart, pEnd, postStart, postEnd</span>) {
    <span class="hljs-keyword">if</span> (pStart &gt; pEnd) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-comment">// å•ç‹¬å¤„ç†å¶å­èŠ‚ç‚¹ï¼ˆé¿å…preStart+1è¶Šç•Œï¼Œå…³é”®ï¼ï¼‰</span>
    <span class="hljs-keyword">if</span> (pStart === pEnd) <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(preorder[pStart]);

    <span class="hljs-comment">// æ­¥éª¤1ï¼šå‰åºé¦–å…ƒç´ ä¸ºæ ¹</span>
    <span class="hljs-keyword">const</span> rootVal = preorder[pStart];
    <span class="hljs-keyword">const</span> root = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(rootVal);
    <span class="hljs-comment">// æ­¥éª¤2ï¼šå‰åºç¬¬äºŒä¸ªå…ƒç´ ä¸ºå·¦å­æ ‘æ ¹ï¼Œæ‰¾å…¶åœ¨ååºçš„ä½ç½®</span>
    <span class="hljs-keyword">const</span> leftRootVal = preorder[pStart + <span class="hljs-number">1</span>];
    <span class="hljs-keyword">const</span> leftPostIdx = valToIndex.<span class="hljs-title function_">get</span>(leftRootVal);
    <span class="hljs-comment">// æ­¥éª¤3ï¼šè®¡ç®—å·¦å­æ ‘èŠ‚ç‚¹æ•°</span>
    <span class="hljs-keyword">const</span> leftSize = leftPostIdx - postStart + <span class="hljs-number">1</span>;

    <span class="hljs-comment">// æ­¥éª¤4ï¼šåˆ†æ²»æ„å»ºå·¦å³å­æ ‘</span>
    root.<span class="hljs-property">left</span> = <span class="hljs-title function_">build</span>(pStart + <span class="hljs-number">1</span>, pStart + leftSize, postStart, leftPostIdx);
    root.<span class="hljs-property">right</span> = <span class="hljs-title function_">build</span>(pStart + leftSize + <span class="hljs-number">1</span>, pEnd, leftPostIdx + <span class="hljs-number">1</span>, postEnd - <span class="hljs-number">1</span>);
    <span class="hljs-keyword">return</span> root;
  }
}
</code></pre>
<h4 data-id="heading-16">æ„é€ é—®é¢˜é€šç”¨æ€»ç»“</h4>
<ol>
<li>
<p><strong>å¿…ç”¨åˆ†è§£é—®é¢˜æ€ç»´</strong>ï¼šæ„é€ æ•´æ£µæ ‘çš„æœ¬è´¨æ˜¯é€’å½’æ„é€ å­æ ‘ï¼Œå¿…é¡»å®šä¹‰ã€ŒåŒºé—´æ„å»ºå­æ ‘ã€çš„é€’å½’å‡½æ•°ï¼›</p>
</li>
<li>
<p><strong>ç´¢å¼•åˆ†æ²»æ˜¯æœ€ä¼˜è§£</strong>ï¼šå…¨ç¨‹æ“ä½œåŸæ•°ç»„ï¼Œæ— æ•°ç»„æ‹·è´ï¼Œç©ºé—´å¤æ‚åº¦O(n)ï¼ˆé€’å½’æ ˆï¼‰ï¼›</p>
</li>
<li>
<p><strong>Mapæ˜¯æ€§èƒ½åˆšéœ€</strong>ï¼šå°†æ ¹èŠ‚ç‚¹æŸ¥è¯¢æ—¶é—´ä»O(n)é™è‡³O(1)ï¼Œé¿å…æ—¶é—´å¤æ‚åº¦å‡è‡³O(nÂ²)ï¼›</p>
</li>
<li>
<p><strong>èŠ‚ç‚¹æ•°æ˜¯æ ¸å¿ƒæ¡¥æ¢</strong>ï¼šä¸­åº/ååºä¸­è®¡ç®—çš„å·¦å­æ ‘èŠ‚ç‚¹æ•°ï¼Œæ˜¯åˆ†å‰²å‰åº/ååºåºåˆ—çš„å”¯ä¸€ä¾æ®ï¼›</p>
</li>
<li>
<p><strong>è¾¹ç•Œå¤„ç†è¦ä¸¥è°¨</strong>ï¼šåŒºé—´ä¸º<strong>é—­åŒºé—´</strong>ï¼Œä¸å¯éšæ„å¢å‡ç´¢å¼•ï¼Œé¿å…èŠ‚ç‚¹ç¼ºå¤±/é‡å¤ã€‚</p>
</li>
</ol>
<h3 data-id="heading-17">å››ã€äºŒå‰æ ‘ååºç¯‡ï¼šå­æ ‘ç›¸å…³é—®é¢˜çš„æ ¸å¿ƒè§£æ³•ï¼ˆååºç¯‡ï¼‰</h3>
<p>é€šè¿‡å‰é¢çš„é¢˜ç›®æˆ‘ä»¬å‘ç°ï¼š<strong>ååºä½ç½®æ˜¯å¤„ç†å­æ ‘ç›¸å…³é—®é¢˜çš„é»„é‡‘ä½ç½®</strong>â€”â€”å› ä¸ºååºèƒ½è·å–å·¦å³å­æ ‘çš„è¿”å›å€¼ï¼Œè€Œå­æ ‘é—®é¢˜çš„æœ¬è´¨ï¼Œæ­£æ˜¯åŸºäºå­æ ‘çš„ç»“æœæ¨å¯¼å½“å‰èŠ‚ç‚¹çš„ç­”æ¡ˆã€‚</p>
<p>LeetCode 652ã€Œå¯»æ‰¾é‡å¤çš„å­æ ‘ã€æ˜¯ååºæ€ç»´çš„ç»å…¸åº”ç”¨ï¼Œç»“åˆ<strong>å­æ ‘åºåˆ—åŒ–</strong>å’Œ<strong>å“ˆå¸Œè¡¨ç»Ÿè®¡</strong>ï¼Œå®Œç¾ä½“ç°ã€Œååº+åˆ†è§£é—®é¢˜ã€çš„è§£é¢˜æ€è·¯ã€‚</p>
<h4 data-id="heading-18">é¢˜ï¼šå¯»æ‰¾é‡å¤çš„å­æ ‘ï¼ˆLeetCode 652ï¼‰</h4>
<p><strong>é¢˜ç›®è¦æ±‚</strong>ï¼šæ‰¾å‡ºäºŒå‰æ ‘ä¸­æ‰€æœ‰é‡å¤çš„å­æ ‘ï¼Œè¿”å›é‡å¤å­æ ‘çš„æ ¹èŠ‚ç‚¹æ•°ç»„ï¼ˆæ¯ä¸ªé‡å¤å­æ ‘ä»…è¿”å›ä¸€æ¬¡ï¼‰ã€‚</p>
<p><strong>æ ¸å¿ƒæ€è·¯</strong>ï¼š</p>
<ol>
<li>
<p><strong>ååºåºåˆ—åŒ–å­æ ‘</strong>ï¼šæŒ‰ã€Œå·¦â†’å³â†’æ ¹ã€æ‹¼æ¥å­æ ‘æ ‡è¯†ï¼ˆå”¯ä¸€æ ‡è¯†å­æ ‘ç»“æ„ï¼Œé¿å…æ­§ä¹‰ï¼‰ï¼›</p>
</li>
<li>
<p><strong>å“ˆå¸Œè¡¨ç»Ÿè®¡æ¬¡æ•°</strong>ï¼šç”¨Mapè®°å½•æ¯ä¸ªå­æ ‘æ ‡è¯†çš„å‡ºç°æ¬¡æ•°ï¼›</p>
</li>
<li>
<p><strong>é¦–æ¬¡é‡å¤æ—¶æ”¶é›†</strong>ï¼šä»…å½“å­æ ‘å‡ºç°æ¬¡æ•°ä»1â†’2æ—¶æ”¶é›†æ ¹èŠ‚ç‚¹ï¼ˆé¿å…é‡å¤æ·»åŠ ï¼‰ã€‚</p>
</li>
</ol>
<p><strong>å…³é”®ç»†èŠ‚</strong>ï¼š</p>
<ul>
<li>
<p>ç©ºèŠ‚ç‚¹å¿…é¡»ç”¨<strong>ç»Ÿä¸€æ ‡è®°ï¼ˆ#ï¼‰</strong> è¡¨ç¤ºï¼Œä¸å¯çœç•¥ï¼ˆç¼ºå¤±ä¼šå¯¼è‡´ç»“æ„æ­§ä¹‰ï¼‰ï¼›</p>
</li>
<li>
<p>èŠ‚ç‚¹å€¼/ç©ºæ ‡è®°å¿…é¡»ç”¨<strong>åˆ†éš”ç¬¦ï¼ˆ,ï¼‰</strong> åˆ†éš”ï¼Œé¿å…å¤šä½æ•°æ‹¼æ¥å†²çªï¼ˆå¦‚12å’Œ1,2ï¼‰ï¼›</p>
</li>
<li>
<p>åºåˆ—åŒ–é¡ºåºå¿…é¡»ä¸º<strong>å·¦â†’å³â†’æ ¹</strong>ï¼ˆæ ‡å‡†ååºï¼‰ï¼Œèƒ½æœ€å¤§ç¨‹åº¦ä¿ç•™å­æ ‘ç»“æ„ä¿¡æ¯ï¼Œé¿å…æ ‡è¯†é‡å¤ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">/**
 * å¯»æ‰¾é‡å¤å­æ ‘ï¼šååºåºåˆ—åŒ–+å“ˆå¸Œç»Ÿè®¡+åˆ†è§£é—®é¢˜æ€ç»´
 * æ ¸å¿ƒï¼šååºä½ç½®è¿”å›å­æ ‘æ ‡è¯†ï¼Œåˆ©ç”¨å­æ ‘ç»“æœç»Ÿè®¡é‡å¤
 */</span>
<span class="hljs-keyword">var</span> findDuplicateSubtrees = <span class="hljs-keyword">function</span>(<span class="hljs-params">root</span>) {
    <span class="hljs-keyword">const</span> countMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(); <span class="hljs-comment">// å­æ ‘æ ‡è¯†â†’å‡ºç°æ¬¡æ•°</span>
    <span class="hljs-keyword">const</span> result = []; <span class="hljs-comment">// å­˜å‚¨é‡å¤å­æ ‘æ ¹èŠ‚ç‚¹</span>

    <span class="hljs-comment">// å‡½æ•°å®šä¹‰ï¼šåºåˆ—åŒ–å½“å‰èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘ï¼Œè¿”å›å”¯ä¸€æ ‡è¯†</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">serialize</span>(<span class="hljs-params">node</span>) {
        <span class="hljs-keyword">if</span> (node === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'#'</span>; <span class="hljs-comment">// ç©ºèŠ‚ç‚¹æ ‡è®°ï¼Œä¸å¯çœç•¥</span>
        <span class="hljs-comment">// ååºéå†ï¼šå…ˆåºåˆ—åŒ–å·¦å³å­æ ‘ï¼ˆå­é—®é¢˜ï¼‰</span>
        <span class="hljs-keyword">const</span> left = <span class="hljs-title function_">serialize</span>(node.<span class="hljs-property">left</span>);
        <span class="hljs-keyword">const</span> right = <span class="hljs-title function_">serialize</span>(node.<span class="hljs-property">right</span>);
        <span class="hljs-comment">// ååºä½ç½®ï¼šæ‹¼æ¥å½“å‰å­æ ‘æ ‡è¯†ï¼ˆå·¦â†’å³â†’æ ¹ï¼Œæ ‡å‡†ååºï¼‰</span>
        <span class="hljs-keyword">const</span> curStr = <span class="hljs-string">`<span class="hljs-subst">${left}</span>,<span class="hljs-subst">${right}</span>,<span class="hljs-subst">${node.val}</span>`</span>;
        <span class="hljs-comment">// ç»Ÿè®¡æ¬¡æ•°ï¼Œé¦–æ¬¡é‡å¤æ—¶æ”¶é›†ï¼ˆcount===2ï¼‰</span>
        <span class="hljs-keyword">const</span> count = (countMap.<span class="hljs-title function_">get</span>(curStr) || <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>;
        countMap.<span class="hljs-title function_">set</span>(curStr, count);
        <span class="hljs-keyword">if</span> (count === <span class="hljs-number">2</span>) result.<span class="hljs-title function_">push</span>(node);
        <span class="hljs-comment">// è¿”å›å­æ ‘æ ‡è¯†ï¼Œä¾›çˆ¶èŠ‚ç‚¹æ‹¼æ¥ï¼ˆåˆ†è§£é—®é¢˜çš„æ ¸å¿ƒï¼‰</span>
        <span class="hljs-keyword">return</span> curStr;
    }

    <span class="hljs-title function_">serialize</span>(root);
    <span class="hljs-keyword">return</span> result;
};
</code></pre>
<h4 data-id="heading-19">ååºæ€ç»´æ ¸å¿ƒæ€»ç»“</h4>
<ol>
<li>
<p><strong>å­æ ‘é—®é¢˜å¿…ç”¨ååº</strong>ï¼šåªè¦é¢˜ç›®ä¸å­æ ‘ç›¸å…³ï¼Œå¤§æ¦‚ç‡éœ€è¦åœ¨ååºä½ç½®å†™ä»£ç ï¼Œåˆ©ç”¨å­æ ‘çš„è¿”å›å€¼ï¼›</p>
</li>
<li>
<p><strong>ååºæ˜¯åˆ†è§£é—®é¢˜çš„æ ¸å¿ƒ</strong>ï¼šååºä½ç½®èƒ½è·å–å·¦å³å­æ ‘çš„å¤„ç†ç»“æœï¼Œæ˜¯ã€Œå­é—®é¢˜æ¨å¯¼åŸé—®é¢˜ã€çš„æœ€ä½³æ—¶æœºï¼›</p>
</li>
<li>
<p><strong>åºåˆ—åŒ–æ ‡è¯†è¦å”¯ä¸€</strong>ï¼šå­æ ‘åºåˆ—åŒ–éœ€æ»¡è¶³ã€Œç©ºèŠ‚ç‚¹æ ‡è®°+åˆ†éš”ç¬¦+æ ‡å‡†éå†é¡ºåºã€ï¼Œé¿å…ç»“æ„æ­§ä¹‰ã€‚</p>
</li>
</ol>
<h3 data-id="heading-20">äº”ã€äºŒå‰æ ‘åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼šéå†çš„æè‡´åº”ç”¨ï¼ˆåºåˆ—åŒ–ç¯‡ï¼‰</h3>
<p>åºåˆ—åŒ–çš„ç›®çš„æ˜¯<strong>å°†äºŒå‰æ ‘è½¬æ¢ä¸ºç‹¬ç«‹äºç¼–ç¨‹è¯­è¨€çš„æ ¼å¼</strong>ï¼ˆå¦‚å­—ç¬¦ä¸²ï¼‰ï¼Œæ–¹ä¾¿å­˜å‚¨/ä¼ è¾“ï¼›ååºåˆ—åŒ–åˆ™æ˜¯å°†åºåˆ—åŒ–æ ¼å¼è¿˜åŸä¸ºäºŒå‰æ ‘ï¼Œæ ¸å¿ƒè¦æ±‚æ˜¯<strong>èƒ½è¿˜åŸå‡ºå”¯ä¸€çš„äºŒå‰æ ‘</strong>ã€‚</p>
<h4 data-id="heading-21">åºåˆ—åŒ–ä¸ååºåˆ—åŒ–çš„æ ¸å¿ƒç»“è®º</h4>
<p>å½“äºŒå‰æ ‘èŠ‚ç‚¹å€¼æ— é‡å¤æ—¶ï¼Œåºåˆ—åŒ–ç»“æœçš„<strong>å”¯ä¸€æ€§</strong>å–å†³äºã€Œæ˜¯å¦åŒ…å«ç©ºèŠ‚ç‚¹ä¿¡æ¯ã€å’Œã€Œéå†é¡ºåºã€ï¼Œæ€»ç»“ä¸º3æ¡æ ¸å¿ƒè§„åˆ™ï¼š</p>
<ol>
<li>
<p><strong>æ— ç©ºèŠ‚ç‚¹ä¿¡æ¯</strong>ï¼šä»…ä¸€ç§éå†é¡ºåºæ— æ³•å”¯ä¸€è¿˜åŸï¼Œå‰åº+ä¸­åº/ååº+ä¸­åºå¯è¿˜åŸï¼Œå‰åº+ååºä¸å¯è¿˜åŸï¼›</p>
</li>
<li>
<p><strong>æœ‰ç©ºèŠ‚ç‚¹ä¿¡æ¯</strong>ï¼šå‰åº/ååºå¯å”¯ä¸€è¿˜åŸï¼ˆæ ¹èŠ‚ç‚¹ä½ç½®å›ºå®šï¼‰ï¼Œä¸­åº<strong>æ— æ³•è¿˜åŸ</strong>ï¼ˆæ ¹èŠ‚ç‚¹ä½ç½®ä¸å›ºå®šï¼‰ï¼›</p>
</li>
<li>
<p><strong>å±‚åºéå†</strong>ï¼šåŒ…å«ç©ºèŠ‚ç‚¹ä¿¡æ¯æ—¶å¯å”¯ä¸€è¿˜åŸï¼Œæ˜¯å·¥ç¨‹ä¸­æœ€å¸¸ç”¨çš„åºåˆ—åŒ–æ–¹å¼ï¼ˆæŒ‰å±‚å­˜å‚¨ï¼Œç»“æ„ç›´è§‚ï¼‰ã€‚</p>
</li>
</ol>
<h4 data-id="heading-22">æ ¸å¿ƒé€šç”¨è§„åˆ™</h4>
<p>æ— è®ºå“ªç§éå†æ–¹å¼çš„åºåˆ—åŒ–/ååºåˆ—åŒ–ï¼Œéƒ½éœ€éµå®ˆ3æ¡é€šç”¨è§„åˆ™ï¼š</p>
<ol>
<li>
<p><strong>ç©ºèŠ‚ç‚¹æ˜¾å¼æ ‡è®°</strong>ï¼šç”¨ç»Ÿä¸€ç¬¦å·ï¼ˆå¦‚#ï¼‰æ ‡è®°ç©ºèŠ‚ç‚¹ï¼Œä¸å¯çœç•¥ï¼›</p>
</li>
<li>
<p><strong>åˆ†éš”ç¬¦åˆ†éš”</strong>ï¼šç”¨é€—å·ï¼ˆ,ï¼‰åˆ†éš”èŠ‚ç‚¹å€¼/ç©ºæ ‡è®°ï¼Œé¿å…æ‹¼æ¥å†²çªï¼›</p>
</li>
<li>
<p><strong>éå†é¡ºåºä¸€è‡´</strong>ï¼šååºåˆ—åŒ–çš„éå†é¡ºåºå¿…é¡»ä¸åºåˆ—åŒ–å®Œå…¨ä¸€è‡´ï¼ˆå¦‚å‰åºåºåˆ—åŒ–â†’å‰åºååºåˆ—åŒ–ï¼‰ã€‚</p>
</li>
</ol>
<p>ä¸‹é¢ä¾æ¬¡è®²è§£<strong>å‰åºã€ååºã€å±‚åº</strong>çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–å®ç°ï¼ˆä¸­åºæ— æ³•å”¯ä¸€ååºåˆ—åŒ–ï¼Œæ— éœ€å®ç°ï¼‰ï¼Œå‡ä¸º<strong>å·¥ç¨‹ä¼˜åŒ–ç‰ˆ</strong>ï¼Œå…¼é¡¾æ•ˆç‡ä¸é²æ£’æ€§ã€‚</p>
<h4 data-id="heading-23">1. å‰åºåºåˆ—åŒ–ä¸ååºåˆ—åŒ–</h4>
<p><strong>æ ¸å¿ƒè§„åˆ™</strong>ï¼šåºåˆ—åŒ–æŒ‰ã€Œæ ¹â†’å·¦â†’å³ã€ï¼Œååºåˆ—åŒ–ä¹ŸæŒ‰ã€Œæ ¹â†’å·¦â†’å³ã€ï¼Œç”¨<strong>ç´¢å¼•æŒ‡é’ˆ</strong>æ›¿ä»£æ•°ç»„shiftï¼ˆO(1)æ•ˆç‡ï¼‰ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">NULL_NODE_MARK</span> = <span class="hljs-string">'#'</span>; <span class="hljs-comment">// ç©ºèŠ‚ç‚¹æ ‡è®°ï¼Œå•ä¸€æ•°æ®æº</span>

<span class="hljs-comment">/**
 * å‰åºåºåˆ—åŒ–ï¼šæ ¹â†’å·¦â†’å³ï¼ŒåŒ…å«ç©ºèŠ‚ç‚¹æ ‡è®°
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">serializePreorder</span>(<span class="hljs-params">root</span>) {
  <span class="hljs-keyword">const</span> res = [];
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">traverse</span>(<span class="hljs-params">node</span>) {
    <span class="hljs-keyword">if</span> (node === <span class="hljs-literal">null</span>) {
      res.<span class="hljs-title function_">push</span>(<span class="hljs-variable constant_">NULL_NODE_MARK</span>);
      <span class="hljs-keyword">return</span>;
    }
    res.<span class="hljs-title function_">push</span>(node.<span class="hljs-property">val</span>); <span class="hljs-comment">// å‰åºï¼šå…ˆæ ¹</span>
    <span class="hljs-title function_">traverse</span>(node.<span class="hljs-property">left</span>); <span class="hljs-comment">// å†å·¦</span>
    <span class="hljs-title function_">traverse</span>(node.<span class="hljs-property">right</span>); <span class="hljs-comment">// æœ€åå³</span>
  }
  <span class="hljs-title function_">traverse</span>(root);
  <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">join</span>(<span class="hljs-string">','</span>);
}

<span class="hljs-comment">/**
 * å‰åºååºåˆ—åŒ–ï¼šæ ¹â†’å·¦â†’å³ï¼Œç´¢å¼•æŒ‡é’ˆä¼˜åŒ–
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">deserializePreorder</span>(<span class="hljs-params">serializeStr</span>) {
  <span class="hljs-keyword">if</span> (!serializeStr || serializeStr.<span class="hljs-title function_">trim</span>() === <span class="hljs-string">''</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">const</span> arr = serializeStr.<span class="hljs-title function_">split</span>(<span class="hljs-string">','</span>);
  <span class="hljs-keyword">let</span> idx = <span class="hljs-number">0</span>; <span class="hljs-comment">// ç´¢å¼•æŒ‡é’ˆï¼ŒO(1)å–æ•°</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> val = arr[idx++];
    <span class="hljs-keyword">if</span> (val === <span class="hljs-variable constant_">NULL_NODE_MARK</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">const</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(<span class="hljs-title class_">Number</span>(val));
    node.<span class="hljs-property">left</span> = <span class="hljs-title function_">build</span>(); <span class="hljs-comment">// å…ˆæ„å»ºå·¦å­æ ‘</span>
    node.<span class="hljs-property">right</span> = <span class="hljs-title function_">build</span>(); <span class="hljs-comment">// å†æ„å»ºå³å­æ ‘</span>
    <span class="hljs-keyword">return</span> node;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">build</span>();
}
</code></pre>
<h4 data-id="heading-24">2. ååºåºåˆ—åŒ–ä¸ååºåˆ—åŒ–</h4>
<p><strong>æ ¸å¿ƒè§„åˆ™</strong>ï¼šåºåˆ—åŒ–æŒ‰ã€Œå·¦â†’å³â†’æ ¹ã€ï¼Œååºåˆ—åŒ–ä»<strong>æ•°ç»„å°¾éƒ¨å–å…ƒç´ </strong>ï¼ˆæ ¹åœ¨å°¾éƒ¨ï¼‰ï¼Œä¸”<strong>å…ˆæ„å»ºå³å­æ ‘ï¼Œå†æ„å»ºå·¦å­æ ‘</strong>ï¼ˆä¸åºåˆ—åŒ–é¡ºåºé•œåƒï¼‰ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">NULL_NODE_MARK</span> = <span class="hljs-string">'#'</span>;

<span class="hljs-comment">/**
 * ååºåºåˆ—åŒ–ï¼šå·¦â†’å³â†’æ ¹ï¼ŒåŒ…å«ç©ºèŠ‚ç‚¹æ ‡è®°
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">serializePostorder</span>(<span class="hljs-params">root</span>) {
  <span class="hljs-keyword">const</span> res = [];
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">traverse</span>(<span class="hljs-params">node</span>) {
    <span class="hljs-keyword">if</span> (node === <span class="hljs-literal">null</span>) {
      res.<span class="hljs-title function_">push</span>(<span class="hljs-variable constant_">NULL_NODE_MARK</span>);
      <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-title function_">traverse</span>(node.<span class="hljs-property">left</span>); <span class="hljs-comment">// å…ˆå·¦</span>
    <span class="hljs-title function_">traverse</span>(node.<span class="hljs-property">right</span>); <span class="hljs-comment">// å†å³</span>
    res.<span class="hljs-title function_">push</span>(node.<span class="hljs-property">val</span>); <span class="hljs-comment">// æœ€åæ ¹</span>
  }
  <span class="hljs-title function_">traverse</span>(root);
  <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">join</span>(<span class="hljs-string">','</span>);
}

<span class="hljs-comment">/**
 * ååºååºåˆ—åŒ–ï¼šä»å°¾éƒ¨å–å…ƒç´ ï¼Œå…ˆå³åå·¦æ„å»º
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">deserializePostorder</span>(<span class="hljs-params">serializeStr</span>) {
  <span class="hljs-keyword">if</span> (!serializeStr || serializeStr.<span class="hljs-title function_">trim</span>() === <span class="hljs-string">''</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">const</span> arr = serializeStr.<span class="hljs-title function_">split</span>(<span class="hljs-string">','</span>);
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> val = arr.<span class="hljs-title function_">pop</span>(); <span class="hljs-comment">// å°¾éƒ¨å–å…ƒç´ ï¼Œæ ¹åœ¨æœ€å</span>
    <span class="hljs-keyword">if</span> (val === <span class="hljs-variable constant_">NULL_NODE_MARK</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">const</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(<span class="hljs-title class_">Number</span>(val));
    node.<span class="hljs-property">right</span> = <span class="hljs-title function_">build</span>(); <span class="hljs-comment">// å…ˆæ„å»ºå³å­æ ‘ï¼ˆé•œåƒé¡ºåºï¼‰</span>
    node.<span class="hljs-property">left</span> = <span class="hljs-title function_">build</span>(); <span class="hljs-comment">// å†æ„å»ºå·¦å­æ ‘</span>
    <span class="hljs-keyword">return</span> node;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">build</span>();
}
</code></pre>
<h4 data-id="heading-25">3. å±‚åºåºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼ˆå·¥ç¨‹æ¨èï¼‰</h4>
<p><strong>æ ¸å¿ƒè§„åˆ™</strong>ï¼šæŒ‰ã€Œä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³ã€éå†ï¼Œç”¨<strong>é˜Ÿåˆ—</strong>å®ç°æŒ‰å±‚è®¿é—®ï¼Œååºåˆ—åŒ–æ—¶ç”¨é˜Ÿåˆ—ç»´æŠ¤<strong>å¾…æ„å»ºå­æ ‘çš„çˆ¶èŠ‚ç‚¹</strong>ï¼ŒæŒ‰é¡ºåºåˆ†é…å·¦å³å­èŠ‚ç‚¹ã€‚</p>
<p><strong>å·¥ç¨‹ä¼˜åŒ–</strong>ï¼šåºåˆ—åŒ–æ—¶å»é™¤æœ«å°¾å†—ä½™ç©ºæ ‡è®°ï¼Œè®©ç»“æœæ›´ç´§å‡‘ï¼›ååºåˆ—åŒ–æ—¶å¢åŠ è¾¹ç•Œæ ¡éªŒï¼Œå¢å¼ºé²æ£’æ€§ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">NULL_NODE_MARK</span> = <span class="hljs-string">'#'</span>;

<span class="hljs-comment">/**
 * å±‚åºåºåˆ—åŒ–ï¼šé˜Ÿåˆ—å®ç°ï¼Œå»é™¤æœ«å°¾å†—ä½™ç©ºæ ‡è®°ï¼ˆå·¥ç¨‹ä¼˜åŒ–ï¼‰
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">serializeLevelorder</span>(<span class="hljs-params">root</span>) {
  <span class="hljs-keyword">if</span> (root === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-variable constant_">NULL_NODE_MARK</span>;
  <span class="hljs-keyword">const</span> res = [];
  <span class="hljs-keyword">const</span> queue = [root];
  <span class="hljs-keyword">while</span> (queue.<span class="hljs-property">length</span>) {
    <span class="hljs-keyword">const</span> node = queue.<span class="hljs-title function_">shift</span>();
    <span class="hljs-keyword">if</span> (node === <span class="hljs-literal">null</span>) {
      res.<span class="hljs-title function_">push</span>(<span class="hljs-variable constant_">NULL_NODE_MARK</span>);
      <span class="hljs-keyword">continue</span>;
    }
    res.<span class="hljs-title function_">push</span>(node.<span class="hljs-property">val</span>);
    queue.<span class="hljs-title function_">push</span>(node.<span class="hljs-property">left</span>); <span class="hljs-comment">// å·¦å³å­èŠ‚ç‚¹å‡å…¥é˜Ÿï¼Œæ— è®ºæ˜¯å¦ä¸ºç©º</span>
    queue.<span class="hljs-title function_">push</span>(node.<span class="hljs-property">right</span>);
  }
  <span class="hljs-comment">// å»é™¤æœ«å°¾å†—ä½™ç©ºæ ‡è®°ï¼Œä¼˜åŒ–å­˜å‚¨</span>
  <span class="hljs-keyword">while</span> (res[res.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] === <span class="hljs-variable constant_">NULL_NODE_MARK</span>) res.<span class="hljs-title function_">pop</span>();
  <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">join</span>(<span class="hljs-string">','</span>);
}

<span class="hljs-comment">/**
 * å±‚åºååºåˆ—åŒ–ï¼šé˜Ÿåˆ—ç»´æŠ¤çˆ¶èŠ‚ç‚¹ï¼ŒæŒ‰é¡ºåºåˆ†é…å·¦å³å­èŠ‚ç‚¹
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">deserializeLevelorder</span>(<span class="hljs-params">serializeStr</span>) {
  <span class="hljs-keyword">if</span> (!serializeStr || serializeStr.<span class="hljs-title function_">trim</span>() === <span class="hljs-string">''</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">const</span> arr = serializeStr.<span class="hljs-title function_">split</span>(<span class="hljs-string">','</span>);
  <span class="hljs-keyword">let</span> idx = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">const</span> root = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(<span class="hljs-title class_">Number</span>(arr[idx++]));
  <span class="hljs-keyword">const</span> queue = [root]; <span class="hljs-comment">// é˜Ÿåˆ—å­˜å‚¨å¾…æ„å»ºå­æ ‘çš„çˆ¶èŠ‚ç‚¹</span>

  <span class="hljs-keyword">while</span> (queue.<span class="hljs-property">length</span> &amp;&amp; idx &lt; arr.<span class="hljs-property">length</span>) {
    <span class="hljs-keyword">const</span> parent = queue.<span class="hljs-title function_">shift</span>();
    <span class="hljs-comment">// æ„å»ºå·¦å­èŠ‚ç‚¹</span>
    <span class="hljs-keyword">if</span> (idx &lt; arr.<span class="hljs-property">length</span>) {
      <span class="hljs-keyword">const</span> leftVal = arr[idx++];
      parent.<span class="hljs-property">left</span> = leftVal !== <span class="hljs-variable constant_">NULL_NODE_MARK</span> ? <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(<span class="hljs-title class_">Number</span>(leftVal)) : <span class="hljs-literal">null</span>;
      parent.<span class="hljs-property">left</span> &amp;&amp; queue.<span class="hljs-title function_">push</span>(parent.<span class="hljs-property">left</span>);
    }
    <span class="hljs-comment">// æ„å»ºå³å­èŠ‚ç‚¹</span>
    <span class="hljs-keyword">if</span> (idx &lt; arr.<span class="hljs-property">length</span>) {
      <span class="hljs-keyword">const</span> rightVal = arr[idx++];
      parent.<span class="hljs-property">right</span> = rightVal !== <span class="hljs-variable constant_">NULL_NODE_MARK</span> ? <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(<span class="hljs-title class_">Number</span>(rightVal)) : <span class="hljs-literal">null</span>;
      parent.<span class="hljs-property">right</span> &amp;&amp; queue.<span class="hljs-title function_">push</span>(parent.<span class="hljs-property">right</span>);
    }
  }
  <span class="hljs-keyword">return</span> root;
}
</code></pre>
<h4 data-id="heading-26">åºåˆ—åŒ–æ ¸å¿ƒæ€»ç»“</h4>
<ol>
<li>
<p><strong>å‰/ååº</strong>ï¼šå®ç°ç®€å•ï¼Œé€’å½’å³å¯ï¼Œé€‚åˆç®—æ³•é¢˜ï¼›</p>
</li>
<li>
<p><strong>å±‚åº</strong>ï¼šç»“æ„ç›´è§‚ï¼Œå·¥ç¨‹ä¸­å¸¸ç”¨ï¼Œé˜Ÿåˆ—å®ç°æŒ‰å±‚è®¿é—®ï¼›</p>
</li>
<li>
<p><strong>ååºåˆ—åŒ–å…³é”®</strong>ï¼šå‰åºç”¨ç´¢å¼•æŒ‡é’ˆï¼Œååºä»å°¾éƒ¨å–å…ƒç´ ï¼Œå±‚åºç”¨é˜Ÿåˆ—ç»´æŠ¤çˆ¶èŠ‚ç‚¹ï¼›</p>
</li>
<li>
<p><strong>å”¯ä¸€æ€§ä¿éšœ</strong>ï¼šåŒ…å«ç©ºèŠ‚ç‚¹ä¿¡æ¯çš„å‰/å/å±‚åºï¼Œå‡å¯å”¯ä¸€è¿˜åŸäºŒå‰æ ‘ã€‚</p>
</li>
</ol>
<h3 data-id="heading-27">å…­ã€äºŒå‰æ ‘è§£é¢˜å¿ƒæ³•ç»ˆææ€»ç»“</h3>
<p>æœ¬æ–‡ä»<strong>è§£é¢˜æ€»çº²</strong>åˆ°<strong>æ€ç»´æ¨¡å¼</strong>ï¼Œå†åˆ°<strong>æ„é€ ã€ååºã€åºåˆ—åŒ–</strong>ä¸‰å¤§æ ¸å¿ƒæ¨¡å—ï¼Œå±‚å±‚æ‹†è§£äº†äºŒå‰æ ‘çš„è§£é¢˜è§„å¾‹ï¼Œæœ€ç»ˆå¯æ€»ç»“ä¸º<strong>ä¸‰å¤§æ ¸å¿ƒå¿ƒæ³•</strong>ï¼Œè®°ç‰¢è¿™å‡ ç‚¹ï¼Œæ‰€æœ‰äºŒå‰æ ‘é—®é¢˜å‡å¯è¿åˆƒè€Œè§£ï¼š</p>
<h4 data-id="heading-28">å¿ƒæ³•1ï¼šæ€ç»´æ¨¡å¼äºŒé€‰ä¸€ï¼Œèšç„¦èŠ‚ç‚¹ä¸æ—¶æœº</h4>
<ol>
<li>
<p>éå†æ€ç»´ï¼šç›´æ¥æ“ä½œèŠ‚ç‚¹ï¼Œé…åˆå¤–éƒ¨å˜é‡ï¼Œå‰åº/å±‚åºä¼˜å…ˆï¼›</p>
</li>
<li>
<p>åˆ†è§£é—®é¢˜æ€ç»´ï¼šå®šä¹‰é€’å½’å‡½æ•°è¿”å›å€¼ï¼Œåˆ©ç”¨å­æ ‘ç»“æœï¼Œååºä¼˜å…ˆï¼›</p>
</li>
<li>
<p>æ‰€æœ‰é—®é¢˜éƒ½è¦èšç„¦ã€Œå•ä¸ªèŠ‚ç‚¹è¯¥åšä»€ä¹ˆï¼Œåœ¨ä»€ä¹ˆæ—¶å€™åšã€ã€‚</p>
</li>
</ol>
<h4 data-id="heading-29">å¿ƒæ³•2ï¼šå‰ä¸­ååºæœ‰åˆ†å·¥ï¼Œååºæ˜¯å­æ ‘æ ¸å¿ƒ</h4>
<ol>
<li>
<p>å‰åºï¼šå…ˆæ“ä½œå½“å‰èŠ‚ç‚¹ï¼Œå†é€’å½’å­èŠ‚ç‚¹ï¼Œé€‚åˆéå†ã€ç¿»è½¬ã€è¿æ¥ç­‰æ“ä½œï¼›</p>
</li>
<li>
<p>ä¸­åºï¼šä»…é€‚åˆäºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰çš„æœ‰åºéå†ï¼Œæ™®é€šäºŒå‰æ ‘åº”ç”¨æå°‘ï¼›</p>
</li>
<li>
<p>ååºï¼šèƒ½è·å–å­æ ‘è¿”å›å€¼ï¼Œæ˜¯åˆ†è§£é—®é¢˜ã€å­æ ‘ç›¸å…³é—®é¢˜çš„é»„é‡‘ä½ç½®ï¼›</p>
</li>
<li>
<p>å±‚åºï¼šæŒ‰å±‚è®¿é—®ï¼Œå·¥ç¨‹å¸¸ç”¨ï¼Œé€‚åˆå±‚åºéå†ã€å±‚åºåºåˆ—åŒ–ç­‰é—®é¢˜ã€‚</p>
</li>
</ol>
<h4 data-id="heading-30">å¿ƒæ³•3ï¼šæ„é€ ä¸åºåˆ—åŒ–ï¼Œå„æœ‰é€šç”¨æ¡†æ¶</h4>
<ol>
<li>
<p>æ„é€ é—®é¢˜ï¼šå®šæ ¹â†’æ‰¾è¾¹ç•Œâ†’ç®—å¤§å°â†’åˆ†æ²»æ„å»ºï¼Œç´¢å¼•åˆ†æ²»+Mapä¼˜åŒ–æ˜¯æœ€ä¼˜è§£ï¼›</p>
</li>
<li>
<p>åºåˆ—åŒ–é—®é¢˜ï¼šç©ºèŠ‚ç‚¹æ ‡è®°+åˆ†éš”ç¬¦+ä¸€è‡´éå†é¡ºåºï¼Œå‰/å/å±‚åºå‡å¯å®ç°ï¼Œå±‚åºå·¥ç¨‹é¦–é€‰ï¼›</p>
</li>
<li>
<p>å­æ ‘åºåˆ—åŒ–ï¼šå·¦â†’å³â†’æ ¹æ ‡å‡†ååºï¼Œä¿è¯æ ‡è¯†å”¯ä¸€ï¼Œé¿å…ç»“æ„æ­§ä¹‰ã€‚</p>
</li>
</ol>
<h3 data-id="heading-31">æœ€å</h3>
<p>äºŒå‰æ ‘çš„æ‰€æœ‰é—®é¢˜ï¼Œæœ¬è´¨éƒ½æ˜¯<strong>é€’å½’åˆ†æ²»</strong>çš„åº”ç”¨ï¼Œè€Œé€’å½’çš„æ ¸å¿ƒæ˜¯ã€Œç›¸ä¿¡é€’å½’å‡½æ•°çš„å®šä¹‰ï¼Œèšç„¦å½“å‰èŠ‚ç‚¹ã€ã€‚æœ¬æ–‡çš„æ‰€æœ‰è§£æ³•å’Œæ¡†æ¶ï¼Œéƒ½å»ºç«‹åœ¨ã€ŒäºŒå‰æ ‘è§£é¢˜æ€»çº²ã€ä¹‹ä¸Šï¼Œåªè¦ä½ èƒ½ç†è§£å¹¶çµæ´»è¿ç”¨ã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´ï¼ŒæŒæ¡å‰/ä¸­/ååºçš„æ ¸å¿ƒä½œç”¨ï¼Œå°±èƒ½è½»æ¾åº”å¯¹å„ç±»äºŒå‰æ ‘é—®é¢˜ã€‚</p>
<p>å»ºè®®å¤§å®¶ç»“åˆæœ¬æ–‡çš„ä»£ç ï¼Œåœ¨LeetCodeä¸ŠåŠ¨æ‰‹å®ç°ä¸€éï¼Œä»ç®€å•é¢˜åˆ°å¤æ‚é¢˜ï¼Œé€æ­¥å½¢æˆè‡ªå·±çš„è§£é¢˜ä½“ç³»â€”â€”äºŒå‰æ ‘çš„åŸºç¡€æ‰“ç‰¢äº†ï¼Œåç»­çš„äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰ã€å¹³è¡¡äºŒå‰æ ‘ï¼ˆAVLï¼‰ã€çº¢é»‘æ ‘ç­‰é«˜çº§æ•°æ®ç»“æ„ï¼Œéƒ½ä¼šè¿åˆƒè€Œè§£ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰æ ¸å¿ƒå¿ƒæ³•ï¼šä»ç‰¹æ€§åˆ°å®æˆ˜ï¼Œç†è§£é«˜é¢‘è€ƒç‚¹]]></title>    <link>https://juejin.cn/post/7602420156397158443</link>    <guid>https://juejin.cn/post/7602420156397158443</guid>    <pubDate>2026-02-03T10:21:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602420156397158443" data-draft-id="7602411521072136211" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰æ ¸å¿ƒå¿ƒæ³•ï¼šä»ç‰¹æ€§åˆ°å®æˆ˜ï¼Œç†è§£é«˜é¢‘è€ƒç‚¹"/> <meta itemprop="keywords" content="åç«¯,JavaScript,ç®—æ³•"/> <meta itemprop="datePublished" content="2026-02-03T10:21:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¢œé…±"/> <meta itemprop="url" content="https://juejin.cn/user/905653309941495"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰æ ¸å¿ƒå¿ƒæ³•ï¼šä»ç‰¹æ€§åˆ°å®æˆ˜ï¼Œç†è§£é«˜é¢‘è€ƒç‚¹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/905653309941495/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¢œé…±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T10:21:20.000Z" title="Tue Feb 03 2026 10:21:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»42åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰æ ¸å¿ƒå¿ƒæ³•ï¼šä»ç‰¹æ€§åˆ°å®æˆ˜ï¼Œç†è§£é«˜é¢‘è€ƒç‚¹</h2>
<p>äºŒå‰æœç´¢æ ‘ï¼ˆBinary Search Treeï¼Œç®€ç§°BSTï¼‰æ˜¯ç®—æ³•é¢†åŸŸæœ€åŸºç¡€ã€æœ€å¸¸ç”¨çš„æ ‘å½¢æ•°æ®ç»“æ„ä¹‹ä¸€ï¼Œå…¶ã€Œå·¦å°å³å¤§ã€çš„æ ¸å¿ƒç‰¹æ€§èµ‹äºˆäº†å®ƒé«˜æ•ˆçš„æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤èƒ½åŠ›ï¼Œæ—¶é—´å¤æ‚åº¦å‡ä¸ºO(logN)ï¼ˆå¹³è¡¡BSTä¸‹ï¼‰ã€‚åŒæ—¶ï¼ŒBSTçš„ä¸­åºéå†å¤©ç„¶å‡åºçš„ç‰¹æ€§ï¼Œä½¿å…¶èƒ½è½»æ¾è§£å†³æœ‰åºæ€§ç›¸å…³é—®é¢˜ã€‚æœ¬æ–‡å°†ä»<strong>BSTæ ¸å¿ƒç‰¹æ€§</strong>å‡ºå‘ï¼Œå¾ªåºæ¸è¿›è®²è§£<strong>åŸºç¡€æ“ä½œã€ç»å…¸é¢˜å‹ã€è¿›é˜¶å®æˆ˜</strong>ï¼Œæç‚¼é€šç”¨è§£é¢˜å¿ƒæ³•ï¼Œå¸®ä½ å½»åº•åƒé€BSTæ‰€æœ‰é«˜é¢‘è€ƒç‚¹ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€BSTæ ¸å¿ƒç‰¹æ€§ï¼šä¸€åˆ‡æ“ä½œçš„åŸºç¡€</h3>
<p>BSTçš„å®šä¹‰çœ‹ä¼¼ç®€å•ï¼Œå´æ˜¯æ‰€æœ‰è§£é¢˜æ€è·¯çš„æºå¤´ï¼Œå¿…é¡»ç‰¢ç‰¢æŒæ¡<strong>ä¸¥æ ¼å®šä¹‰</strong>å’Œ<strong>è¡ç”Ÿæ€§è´¨</strong>ï¼Œé¿å…å› ç†è§£åå·®å¯¼è‡´è§£é¢˜é”™è¯¯ã€‚</p>
<h4 data-id="heading-2">1.1 ä¸¥æ ¼å®šä¹‰ï¼ˆ3æ¡æ ¸å¿ƒè§„åˆ™ï¼‰</h4>
<p>å¯¹äºBSTçš„ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹<code>node</code>ï¼Œå¿…é¡»åŒæ—¶æ»¡è¶³ï¼š</p>
<ol>
<li>
<p>å·¦å­æ ‘çš„<strong>æ‰€æœ‰èŠ‚ç‚¹</strong>å€¼éƒ½<strong>ä¸¥æ ¼å°äº</strong><code>node.val</code>ï¼›</p>
</li>
<li>
<p>å³å­æ ‘çš„<strong>æ‰€æœ‰èŠ‚ç‚¹</strong>å€¼éƒ½<strong>ä¸¥æ ¼å¤§äº</strong><code>node.val</code>ï¼›</p>
</li>
<li>
<p>å·¦å­æ ‘å’Œå³å­æ ‘è‡ªèº«ä¹Ÿå¿…é¡»æ˜¯åˆæ³•çš„BSTã€‚</p>
</li>
</ol>
<p><strong>å…³é”®è¯¯åŒº</strong>ï¼šåˆ‡å‹¿ç®€åŒ–ä¸ºã€Œä»…å½“å‰èŠ‚ç‚¹å¤§äºå·¦å­èŠ‚ç‚¹ã€å°äºå³å­èŠ‚ç‚¹ã€ï¼Œæ·±å±‚å­èŠ‚ç‚¹çš„çº¦æŸä¼šè¢«å¿½ç•¥ï¼Œå¯¼è‡´BSTåˆæ³•æ€§åˆ¤æ–­ã€éå†ç­‰æ“ä½œå‡ºé”™ã€‚</p>
<h4 data-id="heading-3">1.2 æ ¸å¿ƒè¡ç”Ÿæ€§è´¨ï¼ˆç®—æ³•è§£é¢˜çš„å…³é”®ï¼‰</h4>
<p>ä»ä¸¥æ ¼å®šä¹‰å¯æ¨å¯¼å‡º2ä¸ªæœ€å¸¸ç”¨çš„æ€§è´¨ï¼Œå‡ ä¹æ‰€æœ‰BSTé¢˜ç›®éƒ½å›´ç»•è¿™ä¸¤ä¸ªæ€§è´¨å±•å¼€ï¼š</p>
<ol>
<li>
<p><strong>é«˜æ•ˆæŸ¥æ‰¾æ€§</strong>ï¼šæ ¹æ®ã€Œå·¦å°å³å¤§ã€ï¼ŒæŸ¥æ‰¾ç›®æ ‡èŠ‚ç‚¹æ—¶å¯ä¸€æ¬¡æ€§æ’é™¤ä¸€åŠå­æ ‘ï¼Œæ— éœ€éå†æ‰€æœ‰èŠ‚ç‚¹ï¼ŒåŸºç¡€æŸ¥æ‰¾/æ’å…¥/åˆ é™¤çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(logN)ï¼ˆå¹³è¡¡BSTï¼‰ï¼Œè¿œä¼˜äºæ™®é€šäºŒå‰æ ‘çš„O(N)ï¼›</p>
</li>
<li>
<p><strong>ä¸­åºéå†æœ‰åºæ€§</strong>ï¼šBSTçš„ä¸­åºéå†ï¼ˆå·¦â†’æ ¹â†’å³ï¼‰ç»“æœä¸º<strong>ä¸¥æ ¼å‡åº</strong>ï¼Œé€†åºä¸­åºéå†ï¼ˆå³â†’æ ¹â†’å·¦ï¼‰ç»“æœä¸º<strong>ä¸¥æ ¼é™åº</strong>ã€‚è¿™ä¸€æ€§è´¨æ˜¯è§£å†³ã€Œç¬¬Kå°å…ƒç´ ã€ã€Œç´¯åŠ æ ‘è½¬æ¢ã€ç­‰æœ‰åºæ€§é—®é¢˜çš„æ ¸å¿ƒã€‚</p>
</li>
</ol>
<h4 data-id="heading-4">1.3 BSTä¸æ™®é€šäºŒå‰æ ‘çš„æ ¸å¿ƒåŒºåˆ«</h4>
<p>æ™®é€šäºŒå‰æ ‘çš„æ“ä½œä»…èƒ½é€šè¿‡<strong>å…¨éå†</strong>ï¼ˆå‰/ä¸­/ååºï¼‰å®ç°ï¼Œè€ŒBSTå¯é€šè¿‡<strong>ç‰¹æ€§å¼•å¯¼éå†</strong>ï¼ˆæ ¹æ®ç›®æ ‡å€¼ä¸å½“å‰èŠ‚ç‚¹å€¼çš„å¤§å°ï¼Œå†³å®šå·¦/å³å­æ ‘éå†ï¼‰ï¼Œå¤§å¹…æå‡æ•ˆç‡ï¼›åŒæ—¶ï¼ŒBSTçš„æœ‰åºæ€§æ˜¯æ™®é€šäºŒå‰æ ‘ä¸å…·å¤‡çš„ï¼Œè¿™æ˜¯è§£å†³å„ç±»æœ‰åºé—®é¢˜çš„å¤©ç„¶ä¼˜åŠ¿ã€‚</p>
<h3 data-id="heading-5">äºŒã€BSTåŸºç¡€æ“ä½œï¼šæŸ¥ã€å¢ã€åˆ ã€éªŒï¼ˆé«˜é¢‘é¢è¯•é¢˜ï¼‰</h3>
<p>BSTçš„åŸºç¡€æ“ä½œæ˜¯æ‰€æœ‰è¿›é˜¶é¢˜å‹çš„é“ºå«ï¼Œæ ¸å¿ƒæ€è·¯æ˜¯**ã€Œç‰¹æ€§å¼•å¯¼éå†æ‰¾ä½ç½® + é’ˆå¯¹æ€§ä¿®æ”¹ã€**ï¼Œå…¶ä¸­ã€Œåˆ é™¤ã€å’Œã€Œåˆæ³•æ€§éªŒè¯ã€ç•¥å¤æ‚ï¼Œéœ€é‡ç‚¹æŒæ¡ã€‚</p>
<h4 data-id="heading-6">2.1 æŸ¥æ‰¾èŠ‚ç‚¹ï¼ˆåŠ›æ‰£700é¢˜ï¼‰</h4>
<h5 data-id="heading-7">æ ¸å¿ƒæ€è·¯</h5>
<p>åˆ©ç”¨ã€Œå·¦å°å³å¤§ã€ç‰¹æ€§ï¼Œé€’å½’/è¿­ä»£å¼•å¯¼éå†ï¼šç›®æ ‡å€¼å¤§äºå½“å‰èŠ‚ç‚¹å€¼åˆ™èµ°å³å­æ ‘ï¼Œå°äºåˆ™èµ°å·¦å­æ ‘ï¼Œç­‰äºåˆ™æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œç©ºèŠ‚ç‚¹åˆ™è¡¨ç¤ºæœªæ‰¾åˆ°ã€‚</p>
<h5 data-id="heading-8">å®ç°ä»£ç ï¼ˆé€’å½’ç‰ˆï¼Œç®€æ´é«˜æ•ˆï¼‰</h5>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">/**
 * æŸ¥æ‰¾BSTä¸­å€¼ä¸ºtargetçš„èŠ‚ç‚¹ï¼Œæ‰¾åˆ°è¿”å›èŠ‚ç‚¹ï¼Œæœªæ‰¾åˆ°è¿”å›null
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">TreeNode</span>} root BSTæ ¹èŠ‚ç‚¹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} target ç›®æ ‡å€¼
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">TreeNode</span>} ç›®æ ‡èŠ‚ç‚¹/null
 */</span>
<span class="hljs-keyword">var</span> searchBST = <span class="hljs-keyword">function</span>(<span class="hljs-params">root, target</span>) {
    <span class="hljs-comment">// é€’å½’ç»ˆæ­¢ï¼šç©ºèŠ‚ç‚¹æœªæ‰¾åˆ°ï¼Œç›´æ¥è¿”å›null</span>
    <span class="hljs-keyword">if</span> (root === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-comment">// ç›®æ ‡å€¼æ›´å¤§ï¼Œå»å³å­æ ‘æŸ¥æ‰¾</span>
    <span class="hljs-keyword">if</span> (target &gt; root.<span class="hljs-property">val</span>) <span class="hljs-keyword">return</span> <span class="hljs-title function_">searchBST</span>(root.<span class="hljs-property">right</span>, target);
    <span class="hljs-comment">// ç›®æ ‡å€¼æ›´å°ï¼Œå»å·¦å­æ ‘æŸ¥æ‰¾</span>
    <span class="hljs-keyword">if</span> (target &lt; root.<span class="hljs-property">val</span>) <span class="hljs-keyword">return</span> <span class="hljs-title function_">searchBST</span>(root.<span class="hljs-property">left</span>, target);
    <span class="hljs-comment">// æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œè¿”å›å½“å‰èŠ‚ç‚¹</span>
    <span class="hljs-keyword">return</span> root
};
</code></pre>
<h5 data-id="heading-9">å¤æ‚åº¦</h5>
<p>æ—¶é—´ï¼šO(logN)ï¼ˆå¹³è¡¡BSTï¼‰/ O(N)ï¼ˆé“¾çŠ¶BSTï¼‰ï¼Œç©ºé—´ï¼šO(logN)ï¼ˆé€’å½’æ ˆï¼‰ã€‚</p>
<h4 data-id="heading-10">2.2 æ’å…¥èŠ‚ç‚¹ï¼ˆåŠ›æ‰£701é¢˜ï¼‰</h4>
<h5 data-id="heading-11">æ ¸å¿ƒæ€è·¯</h5>
<ol>
<li>
<p>BSTæ’å…¥çš„<strong>å…³é”®æ€§è´¨</strong>ï¼šæ–°èŠ‚ç‚¹æœ€ç»ˆå¿…ä½œä¸º<strong>å¶å­èŠ‚ç‚¹</strong>æ’å…¥ï¼Œæ— éœ€è°ƒæ•´åŸæœ‰æ ‘ç»“æ„ï¼ˆè¾“å…¥ä¿è¯æ–°å€¼å”¯ä¸€ï¼‰ï¼›</p>
</li>
<li>
<p>åˆ©ç”¨ç‰¹æ€§æ‰¾åˆ°ç©ºèŠ‚ç‚¹ï¼ˆæ’å…¥ä½ç½®ï¼‰ï¼Œåˆ›å»ºæ–°èŠ‚ç‚¹å¹¶è¿”å›ï¼Œå›æº¯æ—¶å®Œæˆçˆ¶èŠ‚ç‚¹ä¸æ–°èŠ‚ç‚¹çš„é“¾æ¥ã€‚</p>
</li>
</ol>
<h5 data-id="heading-12">å®ç°ä»£ç </h5>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">/**
 * å‘BSTæ’å…¥æ–°å€¼ï¼Œä¿æŒBSTæ€§è´¨ï¼Œè¿”å›æ’å…¥åçš„æ ¹èŠ‚ç‚¹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">TreeNode</span>} root BSTæ ¹èŠ‚ç‚¹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} value æ–°å€¼ï¼ˆä¿è¯å”¯ä¸€ï¼‰
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">TreeNode</span>} æ’å…¥åçš„æ ¹èŠ‚ç‚¹
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">insertIntoBST</span>(<span class="hljs-params">root, value</span>) {
    <span class="hljs-comment">// é€’å½’ç»ˆæ­¢ï¼šæ‰¾åˆ°ç©ºèŠ‚ç‚¹ï¼Œåˆ›å»ºæ–°èŠ‚ç‚¹ä½œä¸ºæ’å…¥ä½ç½®</span>
    <span class="hljs-keyword">if</span> (root === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(value);
    <span class="hljs-comment">// æ–°å€¼æ›´å¤§ï¼Œå»å³å­æ ‘æ’å…¥ï¼Œæ›´æ–°å³å­æ ‘é“¾æ¥</span>
    <span class="hljs-keyword">if</span> (value &gt; root.<span class="hljs-property">val</span>) {
        root.<span class="hljs-property">right</span> = <span class="hljs-title function_">insertIntoBST</span>(root.<span class="hljs-property">right</span>, value);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// æ–°å€¼æ›´å°ï¼Œå»å·¦å­æ ‘æ’å…¥ï¼Œæ›´æ–°å·¦å­æ ‘é“¾æ¥</span>
        root.<span class="hljs-property">left</span> = <span class="hljs-title function_">insertIntoBST</span>(root.<span class="hljs-property">left</span>, value);
    }
    <span class="hljs-comment">// å›æº¯è¿”å›å½“å‰èŠ‚ç‚¹ï¼Œä¿è¯æ ‘ç»“æ„è¿ç»­</span>
    <span class="hljs-keyword">return</span> root;
}
</code></pre>
<h5 data-id="heading-13">å¤æ‚åº¦</h5>
<p>æ—¶é—´ï¼šO(logN)ï¼Œç©ºé—´ï¼šO(logN)ï¼ˆé€’å½’æ ˆï¼‰ã€‚</p>
<h4 data-id="heading-14">2.3 éªŒè¯BSTåˆæ³•æ€§ï¼ˆåŠ›æ‰£98é¢˜ï¼‰</h4>
<h5 data-id="heading-15">æ ¸å¿ƒæ€è·¯</h5>
<ol>
<li>
<p>å…³é”®é—®é¢˜ï¼šå•ä¸ªèŠ‚ç‚¹çš„åˆæ³•å€¼èŒƒå›´ç”±<strong>æ‰€æœ‰ç¥–å…ˆèŠ‚ç‚¹</strong>å…±åŒå†³å®šï¼Œè€Œéä»…çˆ¶èŠ‚ç‚¹ï¼›</p>
</li>
<li>
<p>è§£å†³æ–¹æ¡ˆï¼šé€’å½’ä¼ é€’<strong>åŠ¨æ€ä¸Šä¸‹ç•Œ</strong>ï¼Œä¸ºæ¯ä¸ªèŠ‚ç‚¹åˆ’å®šå¼€åŒºé—´åˆæ³•èŒƒå›´<code>(min, max)</code>ï¼ŒèŠ‚ç‚¹å€¼å¿…é¡»ä¸¥æ ¼åœ¨åŒºé—´å†…ï¼ŒåŒæ—¶å·¦å³å­æ ‘ä¹Ÿéœ€åˆæ³•ã€‚</p>
</li>
</ol>
<h5 data-id="heading-16">å®ç°ä»£ç </h5>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">/**
 * éªŒè¯äºŒå‰æ ‘æ˜¯å¦ä¸ºåˆæ³•BST
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">TreeNode</span>} root äºŒå‰æ ‘æ ¹èŠ‚ç‚¹
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">boolean</span>} æ˜¯å¦ä¸ºåˆæ³•BST
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isValidBST</span>(<span class="hljs-params">root</span>) {
    <span class="hljs-comment">// ç©ºæ ‘è§†ä¸ºåˆæ³•BSTï¼Œæ ¹èŠ‚ç‚¹åˆå§‹ä¸Šä¸‹ç•Œä¸ºè´Ÿæ— ç©·/æ­£æ— ç©·</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">traverse</span>(root, -<span class="hljs-title class_">Infinity</span>, <span class="hljs-title class_">Infinity</span>);
    
    <span class="hljs-comment">// é€’å½’è¾…åŠ©ï¼šéªŒè¯å½“å‰èŠ‚ç‚¹æ˜¯å¦åœ¨(min, max)åŒºé—´å†…</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">traverse</span>(<span class="hljs-params">node, min, max</span>) {
        <span class="hljs-keyword">if</span> (node === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-comment">// èŠ‚ç‚¹å€¼è¶…å‡ºå¼€åŒºé—´ï¼Œç›´æ¥åˆ¤å®šéæ³•</span>
        <span class="hljs-keyword">if</span> (node.<span class="hljs-property">val</span> &lt;= min || node.<span class="hljs-property">val</span> &gt;= max) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-comment">// éªŒè¯å·¦å­æ ‘ï¼šä¸Šç•Œæ›´æ–°ä¸ºå½“å‰èŠ‚ç‚¹å€¼ï¼Œä¸‹ç•Œç»§æ‰¿</span>
        <span class="hljs-keyword">const</span> leftValid = <span class="hljs-title function_">traverse</span>(node.<span class="hljs-property">left</span>, min, node.<span class="hljs-property">val</span>);
        <span class="hljs-comment">// éªŒè¯å³å­æ ‘ï¼šä¸‹ç•Œæ›´æ–°ä¸ºå½“å‰èŠ‚ç‚¹å€¼ï¼Œä¸Šç•Œç»§æ‰¿</span>
        <span class="hljs-keyword">const</span> rightValid = <span class="hljs-title function_">traverse</span>(node.<span class="hljs-property">right</span>, node.<span class="hljs-property">val</span>, max);
        <span class="hljs-comment">// å·¦å³å­æ ‘éƒ½åˆæ³•ï¼Œå½“å‰å­æ ‘æ‰åˆæ³•</span>
        <span class="hljs-keyword">return</span> leftValid &amp;&amp; rightValid;
    }
}
</code></pre>
<h5 data-id="heading-17">å…³é”®æ˜“é”™ç‚¹</h5>
<ul>
<li>
<p>åˆå§‹ä¸Šä¸‹ç•Œå¿…é¡»ä¸º<code>(-Infinity, Infinity)</code>ï¼Œæ ¹èŠ‚ç‚¹æ— ç¥–å…ˆçº¦æŸï¼›</p>
</li>
<li>
<p>å¿…é¡»ç”¨<strong>å¼€åŒºé—´</strong>ï¼ˆ<code>&lt;= / &gt;=</code>ï¼‰ï¼Œé¿å…èŠ‚ç‚¹å€¼ç­‰äºè¾¹ç•Œï¼ˆå¦‚<code>[2,2,2]</code>è¯¯åˆ¤ä¸ºåˆæ³•ï¼‰ã€‚</p>
</li>
</ul>
<h4 data-id="heading-18">2.4 åˆ é™¤èŠ‚ç‚¹ï¼ˆåŠ›æ‰£450é¢˜ï¼Œæ ¸å¿ƒéš¾ç‚¹ï¼‰</h4>
<h5 data-id="heading-19">æ ¸å¿ƒæ€è·¯</h5>
<p>å…ˆé€šè¿‡ç‰¹æ€§æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œå†åˆ†<strong>4ç§æƒ…å†µ</strong>å¤„ç†åˆ é™¤ï¼Œæ ¸å¿ƒæ˜¯ã€Œåˆ é™¤åä¿æŒBSTæ€§è´¨ã€ï¼Œå…¶ä¸­ã€Œæœ‰å·¦å³åŒå­©å­ã€çš„æƒ…å†µæ˜¯éš¾ç‚¹ã€‚</p>
<h5 data-id="heading-20">4ç§åˆ é™¤æƒ…å†µ</h5>
<ol>
<li>
<p>ç›®æ ‡èŠ‚ç‚¹æ˜¯<strong>å¶å­èŠ‚ç‚¹</strong>ï¼ˆå·¦å³å­æ ‘å‡ç©ºï¼‰ï¼šç›´æ¥åˆ é™¤ï¼Œè¿”å›nullè®©çˆ¶èŠ‚ç‚¹ç½®ç©ºè¯¥å­æ ‘ï¼›</p>
</li>
<li>
<p>åªæœ‰å³å­æ ‘ï¼šç”¨å³å­æ ‘æ›¿æ¢å½“å‰èŠ‚ç‚¹ï¼Œè¿”å›å³å­æ ‘æ ¹èŠ‚ç‚¹ï¼›</p>
</li>
<li>
<p>åªæœ‰å·¦å­æ ‘ï¼šç”¨å·¦å­æ ‘æ›¿æ¢å½“å‰èŠ‚ç‚¹ï¼Œè¿”å›å·¦å­æ ‘æ ¹èŠ‚ç‚¹ï¼›</p>
</li>
<li>
<p>æœ‰<strong>å·¦å³åŒå­©å­</strong>ï¼ˆæ ¸å¿ƒï¼‰ï¼šé€‰æ‹©ã€Œå·¦å­æ ‘æœ€å¤§å€¼èŠ‚ç‚¹ï¼ˆå‰é©±ï¼‰ã€æˆ–ã€Œå³å­æ ‘æœ€å°å€¼èŠ‚ç‚¹ï¼ˆåç»§ï¼‰ã€æ›¿æ¢å½“å‰èŠ‚ç‚¹ï¼Œå†åˆ é™¤è¯¥æ›¿æ¢èŠ‚ç‚¹ï¼ˆä¿è¯BSTæ€§è´¨ä¸å˜ï¼‰ã€‚</p>
</li>
</ol>
<h5 data-id="heading-21">å®ç°ä»£ç ï¼ˆå‰é©±èŠ‚ç‚¹æ›¿æ¢æ³•ï¼Œä¸ä¿®æ”¹èŠ‚ç‚¹å€¼ï¼Œä»…è°ƒæ•´æŒ‡é’ˆï¼‰</h5>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">/**
 * åˆ é™¤BSTä¸­å€¼ä¸ºkeyçš„èŠ‚ç‚¹ï¼Œä¿æŒBSTæ€§è´¨ï¼Œè¿”å›åˆ é™¤åçš„æ ¹èŠ‚ç‚¹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">TreeNode</span>} root BSTæ ¹èŠ‚ç‚¹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} key è¦åˆ é™¤çš„èŠ‚ç‚¹å€¼
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">TreeNode</span>} åˆ é™¤åçš„æ ¹èŠ‚ç‚¹
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">deleteNode</span>(<span class="hljs-params">root, key</span>) {
    <span class="hljs-comment">// é€’å½’ç»ˆæ­¢ï¼šç©ºæ ‘/æœªæ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œè¿”å›null</span>
    <span class="hljs-keyword">if</span> (root === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;

    <span class="hljs-comment">// ç›®æ ‡å€¼æ›´å¤§ï¼Œå»å³å­æ ‘é€’å½’åˆ é™¤ï¼Œæ›´æ–°å³å­æ ‘é“¾æ¥</span>
    <span class="hljs-keyword">if</span> (key &gt; root.<span class="hljs-property">val</span>) {
        root.<span class="hljs-property">right</span> = <span class="hljs-title function_">deleteNode</span>(root.<span class="hljs-property">right</span>, key);
        <span class="hljs-keyword">return</span> root;
    }
    <span class="hljs-comment">// ç›®æ ‡å€¼æ›´å°ï¼Œå»å·¦å­æ ‘é€’å½’åˆ é™¤ï¼Œæ›´æ–°å·¦å­æ ‘é“¾æ¥</span>
    <span class="hljs-keyword">if</span> (key &lt; root.<span class="hljs-property">val</span>) {
        root.<span class="hljs-property">left</span> = <span class="hljs-title function_">deleteNode</span>(root.<span class="hljs-property">left</span>, key);
        <span class="hljs-keyword">return</span> root;
    }

    <span class="hljs-comment">// æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œåˆ†æƒ…å†µå¤„ç†</span>
    <span class="hljs-keyword">if</span> (key === root.<span class="hljs-property">val</span>) {
        <span class="hljs-comment">// æƒ…å†µ1ï¼šå¶å­èŠ‚ç‚¹ï¼Œç›´æ¥åˆ é™¤</span>
        <span class="hljs-keyword">if</span> (!root.<span class="hljs-property">left</span> &amp;&amp; !root.<span class="hljs-property">right</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        <span class="hljs-comment">// æƒ…å†µ2ï¼šåªæœ‰å³å­æ ‘ï¼Œç”¨å³å­æ ‘æ›¿æ¢</span>
        <span class="hljs-keyword">if</span> (!root.<span class="hljs-property">left</span>) <span class="hljs-keyword">return</span> root.<span class="hljs-property">right</span>;
        <span class="hljs-comment">// æƒ…å†µ3ï¼šåªæœ‰å·¦å­æ ‘ï¼Œç”¨å·¦å­æ ‘æ›¿æ¢</span>
        <span class="hljs-keyword">if</span> (!root.<span class="hljs-property">right</span>) <span class="hljs-keyword">return</span> root.<span class="hljs-property">left</span>;
        <span class="hljs-comment">// æƒ…å†µ4ï¼šæœ‰åŒå­©å­ï¼Œå·¦å­æ ‘æœ€å¤§å€¼ï¼ˆå‰é©±ï¼‰æ›¿æ¢</span>
        <span class="hljs-keyword">let</span> maxLeft = root.<span class="hljs-property">left</span>;
        <span class="hljs-comment">// æ‰¾åˆ°å·¦å­æ ‘æœ€å³ä¾§èŠ‚ç‚¹ï¼ˆæœ€å¤§å€¼ï¼‰</span>
        <span class="hljs-keyword">while</span> (maxLeft.<span class="hljs-property">right</span>) maxLeft = maxLeft.<span class="hljs-property">right</span>;
        <span class="hljs-comment">// å…ˆåˆ é™¤å·¦å­æ ‘çš„æœ€å¤§å€¼èŠ‚ç‚¹</span>
        root.<span class="hljs-property">left</span> = <span class="hljs-title function_">deleteNode</span>(root.<span class="hljs-property">left</span>, maxLeft.<span class="hljs-property">val</span>);
        <span class="hljs-comment">// ç”¨å‰é©±èŠ‚ç‚¹æ›¿æ¢å½“å‰èŠ‚ç‚¹ï¼Œè°ƒæ•´æŒ‡é’ˆ</span>
        maxLeft.<span class="hljs-property">left</span> = root.<span class="hljs-property">left</span>;
        maxLeft.<span class="hljs-property">right</span> = root.<span class="hljs-property">right</span>;
        <span class="hljs-keyword">return</span> maxLeft;
    }

    <span class="hljs-keyword">return</span> root;
}
</code></pre>
<h5 data-id="heading-22">å¤æ‚åº¦</h5>
<p>æ—¶é—´ï¼šO(logN)ï¼Œç©ºé—´ï¼šO(logN)ï¼ˆé€’å½’æ ˆï¼‰ã€‚</p>
<h3 data-id="heading-23">ä¸‰ã€BSTç»å…¸é¢˜å‹ï¼šåˆ©ç”¨æœ‰åºæ€§è§£å†³é—®é¢˜</h3>
<p>BSTçš„ä¸­åºéå†æœ‰åºæ€§æ˜¯è§£å†³è¿™ç±»é—®é¢˜çš„ã€Œé»„é‡‘é’¥åŒ™ã€ï¼Œæ ¸å¿ƒæ€è·¯æ˜¯**ã€Œé€šè¿‡ä¸­åºéå†å°†BSTè½¬åŒ–ä¸ºæœ‰åºåºåˆ—ï¼Œå†é’ˆå¯¹æ€§å¤„ç†ã€**ï¼Œæ— éœ€é¢å¤–æ’åºï¼Œæ—¶é—´å¤æ‚åº¦æœ€ä¼˜ã€‚</p>
<h4 data-id="heading-24">3.1 å¯»æ‰¾ç¬¬Kå°çš„å…ƒç´ ï¼ˆåŠ›æ‰£230é¢˜ï¼‰</h4>
<h5 data-id="heading-25">é¢˜ç›®è¦æ±‚</h5>
<p>ç»™å®šBSTï¼ŒæŸ¥æ‰¾å…¶ä¸­ç¬¬Kå°çš„å…ƒç´ ï¼ˆä»1å¼€å§‹è®¡æ•°ï¼‰ã€‚</p>
<h5 data-id="heading-26">æ ¸å¿ƒæ€è·¯</h5>
<p>åˆ©ç”¨BST<strong>ä¸­åºéå†å‡åº</strong>çš„ç‰¹æ€§ï¼Œä¸­åºéå†è¿‡ç¨‹ä¸­ç»´æŠ¤å…¨å±€è®¡æ•°ï¼Œéå†åˆ°ç¬¬Kä¸ªèŠ‚ç‚¹æ—¶å³ä¸ºç­”æ¡ˆï¼Œæ‰¾åˆ°åç«‹å³ç»ˆæ­¢éå†ï¼ˆå‰ªæï¼‰ã€‚</p>
<h5 data-id="heading-27">å®ç°ä»£ç </h5>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">/**
 * æŸ¥æ‰¾BSTä¸­ç¬¬Kå°çš„å…ƒç´ 
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">TreeNode</span>} root BSTæ ¹èŠ‚ç‚¹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} k ç¬¬kå°ï¼ˆ1&lt;=k&lt;=èŠ‚ç‚¹æ€»æ•°ï¼‰
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">number</span>} ç¬¬kå°èŠ‚ç‚¹å€¼
 */</span>
<span class="hljs-keyword">var</span> kthSmallest = <span class="hljs-keyword">function</span>(<span class="hljs-params">root, k</span>) {
    <span class="hljs-keyword">let</span> res = <span class="hljs-literal">null</span>; <span class="hljs-comment">// å­˜å‚¨ç»“æœ</span>
    <span class="hljs-keyword">let</span> rank = <span class="hljs-number">0</span>;   <span class="hljs-comment">// å…¨å±€è®¡æ•°ï¼Œè®°å½•å½“å‰éå†èŠ‚ç‚¹çš„æ’å</span>

    <span class="hljs-comment">// ä¸­åºéå†ï¼šå·¦â†’æ ¹â†’å³</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">traverse</span>(<span class="hljs-params">node</span>) {
        <span class="hljs-comment">// é€’å½’ç»ˆæ­¢ï¼šç©ºèŠ‚ç‚¹/å·²æ‰¾åˆ°ç›®æ ‡ï¼Œç›´æ¥è¿”å›</span>
        <span class="hljs-keyword">if</span> (node === <span class="hljs-literal">null</span> || res !== <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span>;
        <span class="hljs-comment">// éå†å·¦å­æ ‘</span>
        <span class="hljs-title function_">traverse</span>(node.<span class="hljs-property">left</span>);
        <span class="hljs-comment">// å¤„ç†å½“å‰èŠ‚ç‚¹ï¼šè®¡æ•°+åˆ¤æ–­æ˜¯å¦ä¸ºç¬¬kå°</span>
        rank++;
        <span class="hljs-keyword">if</span> (rank === k) {
            res = node.<span class="hljs-property">val</span>;
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-comment">// éå†å³å­æ ‘</span>
        <span class="hljs-title function_">traverse</span>(node.<span class="hljs-property">right</span>);
    }

    <span class="hljs-title function_">traverse</span>(root);
    <span class="hljs-keyword">return</span> res;
};
</code></pre>
<h5 data-id="heading-28">å…³é”®ä¼˜åŒ–</h5>
<p>æ‰¾åˆ°ç›®æ ‡åç«‹å³ç»ˆæ­¢éå†ï¼Œé¿å…æ— æ•ˆçš„åç»­é€’å½’ï¼Œæå‡å®é™…æ‰§è¡Œæ•ˆç‡ã€‚</p>
<h4 data-id="heading-29">3.2 BSTè½¬åŒ–ä¸ºç´¯åŠ æ ‘ï¼ˆåŠ›æ‰£538/1038é¢˜ï¼‰</h4>
<h5 data-id="heading-30">é¢˜ç›®è¦æ±‚</h5>
<p>å°†BSTè½¬åŒ–ä¸ºç´¯åŠ æ ‘ï¼Œä½¿æ¯ä¸ªèŠ‚ç‚¹çš„æ–°å€¼ç­‰äºåŸæ ‘ä¸­<strong>å¤§äºæˆ–ç­‰äº</strong>è¯¥èŠ‚ç‚¹å€¼çš„æ‰€æœ‰èŠ‚ç‚¹å€¼ä¹‹å’Œã€‚</p>
<h5 data-id="heading-31">æ ¸å¿ƒæ€è·¯</h5>
<ol>
<li>
<p>BSTä¸­åºéå†ï¼ˆå·¦â†’æ ¹â†’å³ï¼‰ä¸ºå‡åº â†’ <strong>é€†åºä¸­åºéå†ï¼ˆå³â†’æ ¹â†’å·¦ï¼‰ä¸ºé™åº</strong>ï¼›</p>
</li>
<li>
<p>é€†åºéå†è¿‡ç¨‹ä¸­ç»´æŠ¤å…¨å±€ç´¯åŠ å’Œ<code>sum</code>ï¼Œå…ˆéå†çš„èŠ‚ç‚¹å€¼ä¸€å®šæ›´å¤§ï¼Œç´¯åŠ åèµ‹å€¼ç»™å½“å‰èŠ‚ç‚¹ï¼Œè‡ªç„¶å¾—åˆ°ã€Œæ‰€æœ‰å¤§äºç­‰äºå½“å‰èŠ‚ç‚¹å€¼çš„å’Œã€ã€‚</p>
</li>
</ol>
<h5 data-id="heading-32">å®ç°ä»£ç </h5>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">/**
 * å°†BSTè½¬åŒ–ä¸ºç´¯åŠ æ ‘ï¼Œç›´æ¥ä¿®æ”¹åŸæ ‘ï¼Œè¿”å›æ ¹èŠ‚ç‚¹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">TreeNode</span>} root BSTæ ¹èŠ‚ç‚¹
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">TreeNode</span>} ç´¯åŠ æ ‘æ ¹èŠ‚ç‚¹
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">convertBST</span>(<span class="hljs-params">root</span>) {
    <span class="hljs-keyword">if</span> (root === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">let</span> sum = <span class="hljs-number">0</span>; <span class="hljs-comment">// å…¨å±€ç´¯åŠ å’Œï¼Œè®°å½•æ‰€æœ‰å·²éå†èŠ‚ç‚¹å€¼çš„å’Œ</span>

    <span class="hljs-comment">// é€†åºä¸­åºéå†ï¼šå³â†’æ ¹â†’å·¦</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">traverse</span>(<span class="hljs-params">node</span>) {
        <span class="hljs-keyword">if</span> (node === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span>;
        <span class="hljs-comment">// å…ˆéå†å³å­æ ‘ï¼ˆæ›´å¤§çš„èŠ‚ç‚¹ï¼‰</span>
        <span class="hljs-title function_">traverse</span>(node.<span class="hljs-property">right</span>);
        <span class="hljs-comment">// å¤„ç†å½“å‰èŠ‚ç‚¹ï¼šç´¯åŠ +æ›´æ–°å€¼</span>
        sum += node.<span class="hljs-property">val</span>;
        node.<span class="hljs-property">val</span> = sum;
        <span class="hljs-comment">// å†éå†å·¦å­æ ‘ï¼ˆæ›´å°çš„èŠ‚ç‚¹ï¼‰</span>
        <span class="hljs-title function_">traverse</span>(node.<span class="hljs-property">left</span>);
    }

    <span class="hljs-title function_">traverse</span>(root);
    <span class="hljs-keyword">return</span> root;
}
</code></pre>
<h5 data-id="heading-33">ä¼˜åŠ¿</h5>
<p>ç›´æ¥ä¿®æ”¹åŸæ ‘èŠ‚ç‚¹å€¼ï¼Œç©ºé—´å¤æ‚åº¦ä»…ä¸ºO(logN)ï¼ˆé€’å½’æ ˆï¼‰ï¼Œæ— éœ€é¢å¤–åˆ›å»ºèŠ‚ç‚¹ï¼Œä¸ºæœ€ä¼˜è§£ã€‚</p>
<h3 data-id="heading-34">å››ã€BSTè¿›é˜¶é¢˜å‹ï¼šæ„é€ ä¸å­æ ‘é—®é¢˜</h3>
<p>è¿™ç±»é¢˜ç›®å±äºBSTçš„é«˜é¢‘éš¾é¢˜ï¼Œæ ¸å¿ƒè€ƒå¯Ÿ<strong>åŠ¨æ€è§„åˆ’</strong>å’Œ<strong>ååºéå†çš„ä¿¡æ¯æ”¶é›†èƒ½åŠ›</strong>ï¼Œå…¶ä¸­ã€ŒäºŒå‰æœç´¢å­æ ‘çš„æœ€å¤§é”®å€¼å’Œã€æ˜¯ç»¼åˆè€ƒå¯Ÿçš„å…¸å‹ä»£è¡¨ã€‚</p>
<h4 data-id="heading-35">4.1 æ„é€ ä¸åŒçš„BSTï¼ˆåŠ›æ‰£96/95é¢˜ï¼‰</h4>
<p>è¿™ç±»é¢˜ç›®è€ƒå¯ŸBSTçš„ç»„åˆç‰¹æ€§ï¼Œæ ¸å¿ƒæ˜¯**ã€Œä»¥ä»»æ„èŠ‚ç‚¹ä¸ºæ ¹ï¼Œæ‹†åˆ†å·¦å³å­æ ‘èŠ‚ç‚¹æ•°ï¼Œåˆ©ç”¨ä¹˜æ³•åŸç†è®¡ç®—ç»„åˆæ•°/ç”Ÿæˆç»„åˆã€**ã€‚</p>
<h5 data-id="heading-36">4.1.1 è®¡ç®—BSTç§æ•°ï¼ˆåŠ›æ‰£96é¢˜ï¼ŒåŠ¨æ€è§„åˆ’+å¡ç‰¹å…°æ•°ï¼‰</h5>
<h6 data-id="heading-37">æ ¸å¿ƒæ€è·¯</h6>
<ol>
<li>
<p>å…³é”®æ€§è´¨ï¼šBSTçš„ç§æ•°ä»…ä¸<strong>èŠ‚ç‚¹æ•°é‡</strong>æœ‰å…³ï¼Œä¸èŠ‚ç‚¹å…·ä½“å€¼æ— å…³ï¼›</p>
</li>
<li>
<p>åŠ¨æ€è§„åˆ’å®šä¹‰ï¼š<code>dp[i]</code>è¡¨ç¤º<code>i</code>ä¸ªèŠ‚ç‚¹èƒ½ç»„æˆçš„ä¸åŒBSTç§æ•°ï¼›</p>
</li>
<li>
<p>çŠ¶æ€è½¬ç§»ï¼šé€‰<code>j</code>ä¸ºæ ¹èŠ‚ç‚¹ï¼Œå·¦å­æ ‘æœ‰<code>j-1</code>ä¸ªèŠ‚ç‚¹ï¼Œå³å­æ ‘æœ‰<code>i-j</code>ä¸ªèŠ‚ç‚¹ï¼Œæ€»ç§æ•°ä¸º<code>dp[j-1] * dp[i-j]</code>ï¼ˆä¹˜æ³•åŸç†ï¼‰ã€‚</p>
</li>
</ol>
<h6 data-id="heading-38">å®ç°ä»£ç </h6>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">/**
 * è®¡ç®—nä¸ªèŠ‚ç‚¹ï¼ˆ1~nï¼‰èƒ½ç»„æˆçš„ä¸åŒBSTç§æ•°
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} n èŠ‚ç‚¹æ€»æ•°
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">number</span>} BSTç§æ•°
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">numTrees</span>(<span class="hljs-params">n</span>) {
    <span class="hljs-keyword">const</span> dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(n + <span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>);
    <span class="hljs-comment">// è¾¹ç•Œæ¡ä»¶ï¼š0ä¸ª/1ä¸ªèŠ‚ç‚¹ï¼Œä»…1ç§BST</span>
    dp[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;
    dp[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;

    <span class="hljs-comment">// è®¡ç®—2~nä¸ªèŠ‚ç‚¹çš„ç§æ•°</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++) {
        <span class="hljs-keyword">let</span> total = <span class="hljs-number">0</span>;
        <span class="hljs-comment">// æšä¸¾æ ¹èŠ‚ç‚¹jï¼Œæ‹†åˆ†å·¦å³å­æ ‘</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">1</span>; j &lt;= i; j++) {
            total += dp[j - <span class="hljs-number">1</span>] * dp[i - j];
        }
        dp[i] = total;
    }

    <span class="hljs-keyword">return</span> dp[n];
}
</code></pre>
<h6 data-id="heading-39">æœ¬è´¨</h6>
<p>è¯¥é—®é¢˜çš„è§£ä¸º<strong>å¡ç‰¹å…°æ•°</strong>ï¼Œé€‚ç”¨äºæ‰€æœ‰ã€Œåˆæ³•ç»„åˆæ•°ã€é—®é¢˜ï¼ˆå¦‚æ‹¬å·ç”Ÿæˆã€å‡ºæ ˆé¡ºåºç­‰ï¼‰ã€‚</p>
<h5 data-id="heading-40">4.1.2 ç”Ÿæˆæ‰€æœ‰BSTï¼ˆåŠ›æ‰£95é¢˜ï¼Œé€’å½’+å­é—®é¢˜å¤ç”¨ï¼‰</h5>
<h6 data-id="heading-41">æ ¸å¿ƒæ€è·¯</h6>
<p>é€’å½’æ„é€ é—­åŒºé—´<code>[lo, hi]</code>çš„æ‰€æœ‰BSTï¼šæšä¸¾åŒºé—´å†…æ¯ä¸ªæ•°ä¸ºæ ¹èŠ‚ç‚¹ï¼Œé€’å½’ç”Ÿæˆå·¦å³å­æ ‘çš„æ‰€æœ‰ç»„åˆï¼Œå†é€šè¿‡ç¬›å¡å°”ç§¯ç»„åˆå·¦å³å­æ ‘ä¸æ ¹èŠ‚ç‚¹ã€‚</p>
<h6 data-id="heading-42">å®ç°ä»£ç </h6>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">/**
 * ç”Ÿæˆnä¸ªèŠ‚ç‚¹ï¼ˆ1~nï¼‰çš„æ‰€æœ‰ä¸åŒBSTï¼Œè¿”å›æ ¹èŠ‚ç‚¹æ•°ç»„
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} n èŠ‚ç‚¹æ€»æ•°
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">TreeNode[]</span>} æ‰€æœ‰BSTæ ¹èŠ‚ç‚¹æ•°ç»„
 */</span>
<span class="hljs-keyword">var</span> generateTrees = <span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>) {
    <span class="hljs-keyword">if</span> (n === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> [];
    <span class="hljs-comment">// æ„é€ é—­åŒºé—´[1, n]çš„æ‰€æœ‰BST</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">build</span>(<span class="hljs-number">1</span>, n);

    <span class="hljs-comment">// é€’å½’æ„é€ é—­åŒºé—´[lo, hi]çš„æ‰€æœ‰BST</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">build</span>(<span class="hljs-params">lo, hi</span>) {
        <span class="hljs-keyword">const</span> res = [];
        <span class="hljs-comment">// è¾¹ç•Œæ¡ä»¶ï¼šlo&gt;hiï¼Œæ·»åŠ nullï¼ˆä¿è¯å¶å­èŠ‚ç‚¹èƒ½è¢«æ­£ç¡®åˆ›å»ºï¼‰</span>
        <span class="hljs-keyword">if</span> (lo &gt; hi) {
            res.<span class="hljs-title function_">push</span>(<span class="hljs-literal">null</span>);
            <span class="hljs-keyword">return</span> res;
        }
        <span class="hljs-comment">// æšä¸¾æ ¹èŠ‚ç‚¹</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = lo; i &lt;= hi; i++) {
            <span class="hljs-comment">// é€’å½’ç”Ÿæˆå·¦å³å­æ ‘çš„æ‰€æœ‰ç»„åˆ</span>
            <span class="hljs-keyword">const</span> leftTrees = <span class="hljs-title function_">build</span>(lo, i - <span class="hljs-number">1</span>);
            <span class="hljs-keyword">const</span> rightTrees = <span class="hljs-title function_">build</span>(i + <span class="hljs-number">1</span>, hi);
            <span class="hljs-comment">// ç»„åˆå·¦å³å­æ ‘ä¸æ ¹èŠ‚ç‚¹</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> left <span class="hljs-keyword">of</span> leftTrees) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> right <span class="hljs-keyword">of</span> rightTrees) {
                    <span class="hljs-keyword">const</span> root = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(i);
                    root.<span class="hljs-property">left</span> = left;
                    root.<span class="hljs-property">right</span> = right;
                    res.<span class="hljs-title function_">push</span>(root);
                }
            }
        }
        <span class="hljs-keyword">return</span> res;
    }
};
</code></pre>
<h4 data-id="heading-43">4.2 äºŒå‰æœç´¢å­æ ‘çš„æœ€å¤§é”®å€¼å’Œï¼ˆåŠ›æ‰£1373é¢˜ï¼ŒBSTç»¼åˆå®æˆ˜ï¼‰</h4>
<p>è¯¥é¢˜æ˜¯BSTååºéå†çš„ç»å…¸ä»£è¡¨ï¼Œè€ƒå¯Ÿ**ã€Œå­æ ‘ä¿¡æ¯æ”¶é›†ä¸ä¼ é€’ã€**èƒ½åŠ›ï¼Œæ˜¯å¤§å‚é¢è¯•çš„é«˜é¢‘éš¾é¢˜ã€‚</p>
<h5 data-id="heading-44">é¢˜ç›®è¦æ±‚</h5>
<p>ç»™å®šä¸€æ£µäºŒå‰æ ‘ï¼Œæ‰¾åˆ°å…¶ä¸­<strong>æ‰€æœ‰åˆæ³•BSTå­æ ‘</strong>çš„æœ€å¤§é”®å€¼å’Œï¼ˆè‹¥æ‰€æœ‰BSTå­æ ‘å’Œä¸ºè´Ÿï¼Œè¿”å›0ï¼‰ã€‚</p>
<h5 data-id="heading-45">æ ¸å¿ƒæ€è·¯</h5>
<ol>
<li>
<p>é—®é¢˜æ‹†è§£ï¼šéœ€è¦åŒæ—¶å®Œæˆã€Œåˆ¤æ–­å­æ ‘æ˜¯å¦ä¸ºBSTã€å’Œã€Œè®¡ç®—BSTå­æ ‘å’Œã€ï¼Œä¸¤ä¸ªéœ€æ±‚éƒ½éœ€è¦<strong>å­æ ‘çš„ä¿¡æ¯æ”¯æ’‘</strong>ï¼›</p>
</li>
<li>
<p>ååºéå†çš„ä¼˜åŠ¿ï¼šååºä½ç½®å¯è·å–å­æ ‘çš„è¿”å›ä¿¡æ¯ï¼Œèƒ½åŸºäºå­æ ‘ç»“æœåˆ¤æ–­å½“å‰å­æ ‘æ˜¯å¦ä¸ºBSTã€è®¡ç®—å’Œå€¼ï¼›</p>
</li>
<li>
<p>å››å…ƒä¿¡æ¯æ¨å¯¼ï¼šä»éœ€æ±‚å€’æ¨é€’å½’éœ€è¦è¿”å›çš„4ä¸ªå…³é”®ä¿¡æ¯ï¼ˆç¼ºä¸€ä¸å¯ï¼‰ï¼š</p>
<ul>
<li>
<p><code>isBST</code>ï¼šå½“å‰å­æ ‘æ˜¯å¦ä¸ºåˆæ³•BSTï¼›</p>
</li>
<li>
<p><code>minVal</code>ï¼šå½“å‰å­æ ‘çš„æœ€å°å€¼ï¼ˆBSTåˆ¤æ–­çš„å…³é”®ï¼‰ï¼›</p>
</li>
<li>
<p><code>maxVal</code>ï¼šå½“å‰å­æ ‘çš„æœ€å¤§å€¼ï¼ˆBSTåˆ¤æ–­çš„å…³é”®ï¼‰ï¼›</p>
</li>
<li>
<p><code>sumVal</code>ï¼šå½“å‰å­æ ‘çš„èŠ‚ç‚¹å’Œï¼ˆè®¡ç®—æœ€å¤§å’Œçš„å…³é”®ï¼‰ã€‚</p>
</li>
</ul>
</li>
<li>
<p>éBSTéš”ç¦»ï¼šéBSTå­æ ‘è¿”å›æ— æ•ˆæœ€å€¼ï¼ˆ<code>Infinity/-Infinity</code>ï¼‰ï¼Œé¿å…çˆ¶èŠ‚ç‚¹è¯¯åˆ¤ã€‚</p>
</li>
</ol>
<h5 data-id="heading-46">ä¼˜åŒ–ç‰ˆå®ç°ä»£ç ï¼ˆ100%é€šè¿‡æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ï¼‰</h5>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">/**
 * æ‰¾åˆ°äºŒå‰æ ‘ä¸­åˆæ³•BSTå­æ ‘çš„æœ€å¤§é”®å€¼å’Œï¼Œè´Ÿå’Œè¿”å›0
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">TreeNode</span>} root äºŒå‰æ ‘æ ¹èŠ‚ç‚¹
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">number</span>} æœ€å¤§é”®å€¼å’Œ/0
 */</span>
<span class="hljs-keyword">var</span> maxSumBST = <span class="hljs-keyword">function</span>(<span class="hljs-params">root</span>) {
    <span class="hljs-keyword">let</span> maxSum = -<span class="hljs-title class_">Infinity</span>; <span class="hljs-comment">// åˆå§‹è´Ÿæ— ç©·ï¼Œå…¼å®¹è´Ÿæƒå€¼BST</span>

    <span class="hljs-comment">// ååºéå†ï¼Œè¿”å›å››å…ƒä¿¡æ¯[isBST, minVal, maxVal, sumVal]</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">postOrder</span> = (<span class="hljs-params">node</span>) =&gt; {
        <span class="hljs-keyword">if</span> (!node) <span class="hljs-keyword">return</span> [<span class="hljs-literal">true</span>, <span class="hljs-title class_">Infinity</span>, -<span class="hljs-title class_">Infinity</span>, <span class="hljs-number">0</span>]; <span class="hljs-comment">// ç©ºèŠ‚ç‚¹å›ºå®šè¿”å›</span>
        <span class="hljs-comment">// é€’å½’è·å–å·¦å³å­æ ‘ä¿¡æ¯</span>
        <span class="hljs-keyword">const</span> [lBST, lMin, lMax, lSum] = <span class="hljs-title function_">postOrder</span>(node.<span class="hljs-property">left</span>);
        <span class="hljs-keyword">const</span> [rBST, rMin, rMax, rSum] = <span class="hljs-title function_">postOrder</span>(node.<span class="hljs-property">right</span>);

        <span class="hljs-comment">// ä»…åˆæ³•BSTæ—¶å¤„ç†ï¼Œå¦åˆ™è¿”å›æ— æ•ˆä¿¡æ¯</span>
        <span class="hljs-keyword">if</span> (lBST &amp;&amp; rBST &amp;&amp; node.<span class="hljs-property">val</span> &gt; lMax &amp;&amp; node.<span class="hljs-property">val</span> &lt; rMin) {
            <span class="hljs-keyword">const</span> curSum = lSum + node.<span class="hljs-property">val</span> + rSum;
            maxSum = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(maxSum, curSum);
            <span class="hljs-keyword">return</span> [<span class="hljs-literal">true</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(lMin, node.<span class="hljs-property">val</span>), <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(rMax, node.<span class="hljs-property">val</span>), curSum];
        }

        <span class="hljs-comment">// éBSTè¿”å›æ— æ•ˆä¿¡æ¯ï¼Œå½»åº•éš”ç¦»</span>
        <span class="hljs-keyword">return</span> [<span class="hljs-literal">false</span>, <span class="hljs-title class_">Infinity</span>, -<span class="hljs-title class_">Infinity</span>, <span class="hljs-number">0</span>];
    };

    <span class="hljs-title function_">postOrder</span>(root);
    <span class="hljs-comment">// æœ‰åˆæ³•BSTåˆ™å–max(maxSum,0)ï¼Œæ— åˆ™è¿”å›0</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(maxSum, <span class="hljs-number">0</span>);
};
</code></pre>
<h5 data-id="heading-47">æ ¸å¿ƒè§£é¢˜å¿ƒæ³•</h5>
<p><strong>ã€Œä»éœ€æ±‚å€’æ¨æ¡ä»¶ï¼Œä»æ¡ä»¶å€’æ¨æ•°æ®ï¼Œè®©å­é—®é¢˜çš„è¿”å›å€¼æ”¯æ’‘çˆ¶é—®é¢˜çš„æ‰€æœ‰æ“ä½œã€</strong>ï¼Œè¿™ä¸€æ€è·¯é€‚ç”¨äºæ‰€æœ‰æ ‘çš„å­æ ‘é—®é¢˜ã€‚</p>
<h3 data-id="heading-48">äº”ã€BSTé€šç”¨è§£é¢˜å¿ƒæ³•ï¼ˆç²¾åæ€»ç»“ï¼‰</h3>
<p>é€šè¿‡ä»¥ä¸ŠçŸ¥è¯†ç‚¹å’Œé¢˜å‹åˆ†æï¼Œæç‚¼å‡º3æ¡BSTé€šç”¨è§£é¢˜å¿ƒæ³•ï¼ŒæŒæ¡åå¯åº”å¯¹99%çš„BSTé¢˜ç›®ï¼š</p>
<h4 data-id="heading-49">å¿ƒæ³•1ï¼šç´§æŠ“ã€Œå·¦å°å³å¤§ã€å’Œã€Œä¸­åºæœ‰åºã€ä¸¤å¤§æ ¸å¿ƒç‰¹æ€§</h4>
<ul>
<li>
<p>æ¶‰åŠ<strong>æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤ã€åˆæ³•æ€§éªŒè¯</strong>ç­‰åŸºç¡€æ“ä½œï¼Œä¼˜å…ˆç”¨ã€Œå·¦å°å³å¤§ã€ç‰¹æ€§å¼•å¯¼éå†ï¼Œå‡å°‘æ— æ•ˆæ“ä½œï¼›</p>
</li>
<li>
<p>æ¶‰åŠ<strong>æœ‰åºæ€§é—®é¢˜</strong>ï¼ˆç¬¬Kå°ã€ç´¯åŠ ã€æ’åºã€åŒºé—´æŸ¥è¯¢ç­‰ï¼‰ï¼Œä¼˜å…ˆåˆ©ç”¨ã€Œä¸­åºéå†æœ‰åºã€ç‰¹æ€§ï¼Œå°†BSTè½¬åŒ–ä¸ºæœ‰åºåºåˆ—å¤„ç†ã€‚</p>
</li>
</ul>
<h4 data-id="heading-50">å¿ƒæ³•2ï¼šæ ‘çš„å­æ ‘é—®é¢˜ï¼Œä¼˜å…ˆè€ƒè™‘ååºéå†+è‡ªå®šä¹‰è¿”å›ä¿¡æ¯</h4>
<ul>
<li>
<p>ä¸€æ—¦é¢˜ç›®è¦æ±‚ã€ŒåŸºäºå­æ ‘ç»“æœåˆ¤æ–­å½“å‰èŠ‚ç‚¹/å­æ ‘ã€ï¼ˆå¦‚1373é¢˜ã€å¹³è¡¡æ ‘åˆ¤æ–­ï¼‰ï¼Œå¿…é¡»ç”¨ååºéå†ï¼›</p>
</li>
<li>
<p>è‡ªå®šä¹‰è¿”å›ä¿¡æ¯çš„æ¨å¯¼é€»è¾‘ï¼š<strong>éœ€æ±‚â†’åˆ¤æ–­æ¡ä»¶â†’æ‰€éœ€æ•°æ®</strong>ï¼Œç¡®ä¿å­é—®é¢˜çš„è¿”å›å€¼èƒ½æ”¯æ’‘çˆ¶é—®é¢˜çš„æ‰€æœ‰åˆ¤æ–­å’Œè®¡ç®—ï¼Œæ— å†—ä½™ã€æ— ç¼ºå¤±ã€‚</p>
</li>
</ul>
<h4 data-id="heading-51">å¿ƒæ³•3ï¼šBSTçš„æ„é€ /ç»„åˆé—®é¢˜ï¼Œåˆ©ç”¨ã€Œæ ¹èŠ‚ç‚¹æ‹†åˆ†+ä¹˜æ³•åŸç†ã€</h4>
<ul>
<li>
<p>æ„é€ BSTæ—¶ï¼Œä»»æ„èŠ‚ç‚¹éƒ½å¯ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œåªéœ€æ‹†åˆ†å·¦å³å­æ ‘çš„èŠ‚ç‚¹æ•°/å€¼èŒƒå›´ï¼›</p>
</li>
<li>
<p>ç»„åˆæ•°è®¡ç®—ç”¨åŠ¨æ€è§„åˆ’ï¼ˆå¡ç‰¹å…°æ•°ï¼‰ï¼Œç»„åˆç”Ÿæˆç”¨é€’å½’+ç¬›å¡å°”ç§¯ï¼Œå¤ç”¨å­é—®é¢˜ç»“æœé¿å…é‡å¤è®¡ç®—ã€‚</p>
</li>
</ul>
<h3 data-id="heading-52">æ€»ç»“</h3>
<p>äºŒå‰æœç´¢æ ‘æ˜¯ç®—æ³•å­¦ä¹ çš„é‡ç‚¹ï¼Œå…¶æ ¸å¿ƒä»·å€¼åœ¨äºã€Œ<strong>é«˜æ•ˆçš„æœ‰åºæ“ä½œèƒ½åŠ›</strong>ã€ã€‚ä»åŸºç¡€çš„ã€Œå·¦å°å³å¤§ã€å®šä¹‰ï¼Œåˆ°ä¸­åºéå†çš„æœ‰åºæ€§ï¼Œå†åˆ°ååºéå†çš„ä¿¡æ¯æ”¶é›†ï¼Œæ‰€æœ‰çŸ¥è¯†ç‚¹å’Œé¢˜å‹éƒ½å›´ç»•è¿™ä¸¤ä¸ªæ ¸å¿ƒç‰¹æ€§å±•å¼€ã€‚</p>
<p>å­¦ä¹ BSTçš„å…³é”®ä¸æ˜¯æ­»è®°ç¡¬èƒŒä»£ç ï¼Œè€Œæ˜¯<strong>ç†è§£ç‰¹æ€§èƒŒåçš„é€»è¾‘ï¼ŒæŒæ¡è§£é¢˜å¿ƒæ³•çš„æ¨å¯¼è¿‡ç¨‹</strong>ï¼šæ¯”å¦‚ä»éœ€æ±‚å€’æ¨é€’å½’çš„è¿”å›ä¿¡æ¯ï¼Œä»ç‰¹æ€§å¼•å¯¼éå†çš„æ–¹å‘ã€‚é€šè¿‡ç»ƒä¹ åŸºç¡€æ“ä½œã€ç»å…¸æœ‰åºé—®é¢˜ã€è¿›é˜¶æ„é€ å’Œå­æ ‘é—®é¢˜ï¼Œé€æ­¥å½¢æˆBSTçš„è§£é¢˜æ€ç»´ï¼Œæœ€ç»ˆèƒ½çµæ´»åº”å¯¹å„ç±»é«˜é¢‘è€ƒç‚¹å’Œé¢è¯•éš¾é¢˜ã€‚</p>
<p>æŒæ¡BSTåï¼Œåç»­å¯æ·±å…¥å­¦ä¹ <strong>å¹³è¡¡äºŒå‰æ ‘</strong>ï¼ˆçº¢é»‘æ ‘ã€AVLæ ‘ï¼‰ï¼Œç†è§£å¦‚ä½•è§£å†³BSTé“¾çŠ¶åŒ–å¯¼è‡´çš„æ•ˆç‡é™ä½é—®é¢˜ï¼Œè¿›ä¸€æ­¥å®Œå–„æ ‘å½¢æ•°æ®ç»“æ„çš„çŸ¥è¯†ä½“ç³»ã€‚</p>
</div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»â€œå›ç­”è€…â€è¿›åŒ–ä¸ºâ€œç ”ç©¶å‘˜â€ï¼šå…¨é¢è§£æ Deep Research]]></title>    <link>https://juejin.cn/post/7602216700747956224</link>    <guid>https://juejin.cn/post/7602216700747956224</guid>    <pubDate>2026-02-03T10:20:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602216700747956224" data-draft-id="7602246300453322787" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»â€œå›ç­”è€…â€è¿›åŒ–ä¸ºâ€œç ”ç©¶å‘˜â€ï¼šå…¨é¢è§£æ Deep Research"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-02-03T10:20:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¬ä¸œäº‘å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2634854380340008"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»â€œå›ç­”è€…â€è¿›åŒ–ä¸ºâ€œç ”ç©¶å‘˜â€ï¼šå…¨é¢è§£æ Deep Research
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2634854380340008/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¬ä¸œäº‘å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T10:20:58.000Z" title="Tue Feb 03 2026 10:20:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1ã€èƒŒæ™¯</h2>
<p>åœ¨ AI é—®ä¸–çš„ä¸¤å¹´é‡Œï¼Œæˆ‘ä»¬ä¹ æƒ¯äº†æŠŠå®ƒå½“ä½œä¸€ä¸ªè¶…çº§ç™¾ç§‘å…¨ä¹¦ï¼šå¦‚æœä½ é—®å®ƒä¸€ä¸ªäº‹å®ï¼Œå®ƒä¼šç»™å‡ºç­”æ¡ˆï¼›å¦‚æœä½ ç»™å®ƒä¸€æ®µæ–‡å­—ï¼Œå®ƒä¼šå¸®ä½ æ€»ç»“ã€‚ç„¶è€Œï¼Œå½“æˆ‘ä»¬é¢å¯¹â€œåˆ†ææŸè¡Œä¸šæœªæ¥äº”å¹´çš„è¶‹åŠ¿â€æˆ–â€œæ’°å†™ä¸€ä»½è¯¦å°½çš„æŠ€æœ¯ç«å“è°ƒç ”æŠ¥å‘Šâ€è¿™æ ·å¤æ‚çš„ä»»åŠ¡æ—¶ï¼Œä¼ ç»Ÿçš„ LLM å¾€å¾€æ˜¾å¾—åŠ›ä¸ä»å¿ƒâ€”â€”å®ƒä»¬ç¼ºä¹æ·±åº¦ï¼Œå®¹æ˜“äº§ç”Ÿå¹»è§‰ï¼Œä¸”å—é™äºä¸Šä¸‹æ–‡é•¿åº¦ã€‚</p>
<p>Deep Researchæ­£æ˜¯ä¸ºäº†è§£å†³è¿™ä¸€ç—›ç‚¹è€Œç”Ÿã€‚å®ƒä¸å†æ˜¯ä¸€ä¸ªç®€å•çš„èŠå¤©æœºå™¨äººï¼Œè€Œæ˜¯å…·å¤‡è‡ªä¸»æ¨ç†èƒ½åŠ›çš„â€œAI ç ”ç©¶å‘˜â€ã€‚</p>
<p>æˆ‘å°†ä¼šåœ¨ä¸‹é¢çš„å†…å®¹ä¸­æ·±å…¥å‰–æ Deep Research çš„è¿è¡Œæœºåˆ¶ã€å…¶èƒŒåçš„å·¥ç¨‹æŒ‘æˆ˜ä»¥åŠå®ƒå¦‚ä½•é€šè¿‡â€œReAct èŒƒå¼â€é‡å¡‘ä¿¡æ¯è·å–çš„æ–¹å¼ã€‚</p>
<h2 data-id="heading-1">2ã€ä»€ä¹ˆæ˜¯ Deep Research</h2>
<p>Deep Research æ˜¯ ä¸“ä¸ºç½‘é¡µæµè§ˆã€æ•°æ®åˆ†æå’Œå¤æ‚ä»»åŠ¡å¤„ç†è€Œä¼˜åŒ–çš„å…¨æ–°åŠŸèƒ½ã€‚ä¸æ™®é€š LLM â€œé—®ä»€ä¹ˆç­”ä»€ä¹ˆâ€çš„è¢«åŠ¨æ¨¡å¼ä¸åŒï¼ŒDeep Research å…·å¤‡<strong>ä¸»åŠ¨è§„åˆ’</strong>å’Œ<strong>æ·±åº¦æ¨ç†</strong>çš„èƒ½åŠ›ã€‚</p>
<p><strong>å®ƒçš„æ ¸å¿ƒç‰¹å¾å¯ä»¥æ¦‚æ‹¬ä¸ºï¼š</strong></p>
<p>1.è‡ªä¸»æ€§ï¼ˆAutonomyï¼‰ï¼š å®ƒå¯ä»¥ä¸€è¾¹æ€è€ƒï¼Œä¸€è¾¹â€œæŸ¥èµ„æ–™â€ã€‚å®ƒä¸ä»…æ˜¯æ£€ç´¢ä¿¡æ¯ï¼Œè¿˜èƒ½è‡ªä¸»åˆ¤æ–­ä¿¡æ¯æ˜¯å¦è¶³å¤Ÿï¼Œå¦‚æœä¸è¶³ï¼Œå®ƒä¼šä¸»åŠ¨è°ƒæ•´æœç´¢å…³é”®è¯å†æ¬¡æ£€ç´¢ã€‚</p>
<p>2.é•¿é“¾æ¡æ¨ç†ï¼ˆLong-chain Reasoningï¼‰ï¼š åŸºäº LLMçš„æ¨ç†èƒ½åŠ›ï¼Œå®ƒèƒ½å°†ä¸€ä¸ªæ¨¡ç³Šçš„åºå¤§éœ€æ±‚æ‹†è§£ä¸ºå¤šä¸ªå­æ­¥éª¤ï¼Œåˆ†é˜¶æ®µæ‰§è¡Œã€‚</p>
<p>3.ä¸“ä¸šæŠ¥å‘Šç”Ÿæˆï¼š æœ€ç»ˆè¾“å‡ºçš„ä¸æ˜¯é›¶æ•£çš„å¯¹è¯ï¼Œè€Œæ˜¯åŒ…å«é€»è¾‘æ‘˜è¦ã€æ¸…æ™°å¼•ç”¨æ¥æºå’Œå®Œæ•´æ–‡æ¡£çš„ä¸“ä¸šçº§ç ”ç©¶æŠ¥å‘Šã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å®ƒï¼Ÿ</strong> å½“å‰çš„ä¿¡æ¯éœ€æ±‚å¾€å¾€éœ€è¦è·¨è¶Šå¤šä¸ªæ¥æºã€é˜…è¯»å¤§é‡éç»“æ„åŒ–æ•°æ®ã€‚Deep Research å®é™…ä¸Šé™ä½äº†â€œæµ·é‡ä¿¡æ¯æ”¶é›†â€<strong>ä¸</strong>â€œé«˜è´¨é‡æ¨ç†æ•´åˆâ€ä¹‹é—´çš„å£å’ï¼Œå°¤å…¶æ“…é•¿æŒ–æ˜é‚£äº›éœ€è¦æµè§ˆæ•°åä¸ªç½‘é¡µæ‰èƒ½æ‹¼å‡‘å‡ºçš„å°ä¼—æˆ–éç›´è§‚ä¿¡æ¯ã€‚</p>
<h2 data-id="heading-2">3ã€æ ¸å¿ƒåŸç†ï¼šä» DeepSearch åˆ° DeepResearch</h2>
<p>è¦ç†è§£ Deep Researchï¼Œé€šè¿‡ä¸¤ä¸ªå±‚çº§æ¥çœ‹ï¼šåº•å±‚çš„æœç´¢å¾ªç¯ï¼ˆDeepSearchï¼‰å’Œä¸Šå±‚çš„æŠ¥å‘Šæ¡†æ¶ï¼ˆDeepResearchï¼‰ã€‚</p>
<h3 data-id="heading-3">3.1 æ ¸å¿ƒå¼•æ“ï¼šDeepSearchï¼ˆå¾ªç¯ä¸è¿­ä»£ï¼‰</h3>
<p>DeepSearch çš„æœ¬è´¨æ˜¯ä¸€ä¸ªâ€œæœç´¢ - é˜…è¯» - æ¨ç†â€çš„æ— é™å¾ªç¯ã€‚è¿™ä¸æˆ‘ä»¬ç†Ÿæ‚‰çš„ <strong>ReAct Agent</strong> èŒƒå¼é«˜åº¦ç›¸ä¼¼ï¼Œä½†é€šè¿‡å¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰ä¸ä»…å­¦ä¼šäº†æ¨ç†ï¼Œæ›´å­¦ä¼šäº†â€œæœç´¢ç­–ç•¥â€ï¼š</p>
<p>â€¢æœç´¢ï¼ˆSearchï¼‰ï¼š æ¢ç´¢äº’è”ç½‘ï¼Œè·å–åŸå§‹ä¿¡æ¯ã€‚</p>
<p>â€¢é˜…è¯»ï¼ˆReadï¼‰ï¼š å¯¹ç‰¹å®šç½‘é¡µè¿›è¡Œè¯¦å°½åˆ†æï¼Œæå–å…³é”®ç‰‡æ®µã€‚</p>
<p>â€¢æ¨ç†ï¼ˆThinkï¼‰ï¼š è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚æ¨¡å‹ä¼šè¯„ä¼°å½“å‰æ”¶é›†åˆ°çš„ä¿¡æ¯æ˜¯å¦è¶³ä»¥å›ç­”é—®é¢˜ã€‚å¦‚æœä¸å¤Ÿï¼Œå®ƒä¼šå†³å®šæ˜¯å°†é—®é¢˜æ‹†è§£ä¸ºæ›´å°çš„å­é—®é¢˜ï¼Œè¿˜æ˜¯å°è¯•å…¨æ–°çš„æœç´¢å…³é”®è¯ã€‚</p>
<p>è¿™ç§  â†’  â†’  â†’  â†’  çš„æ¨¡å¼ï¼Œè®© AI å…·å¤‡äº†â€œè‡ªæˆ‘çº é”™â€å’Œâ€œè¿½æ ¹ç©¶åº•â€çš„èƒ½åŠ›ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e6b379a54fc4d3f9432aaaf2fc12943~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770718858&amp;x-signature=ph%2BGqOLgE3Oj%2BLSW1%2Bvjo%2BNq1Vk%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<h3 data-id="heading-4">3.2 ä¸Šå±‚æ¡†æ¶ï¼šDeepResearchï¼ˆç»“æ„åŒ–è¾“å‡ºï¼‰</h3>
<p>DeepSearch è´Ÿè´£æ‰¾ç­”æ¡ˆï¼Œè€Œ DeepResearch è´Ÿè´£å†™æŠ¥å‘Šã€‚å®ƒåœ¨ DeepSearch çš„åŸºç¡€ä¸Šå¢åŠ äº†ä¸€ä¸ª<strong>ç»“æ„åŒ–æ¡†æ¶</strong>ï¼š</p>
<p>1.ç”¨æˆ·æ„å›¾ç†è§£ &amp; ç›®å½•ç”Ÿæˆï¼ˆTOCï¼‰ï¼š æ¥æ”¶æŒ‡ä»¤åï¼Œé¦–å…ˆç”ŸæˆæŠ¥å‘Šç›®å½•ï¼ˆå¦‚å¼•è¨€ã€æ–¹æ³•è®ºã€ç›¸å…³å·¥ä½œã€ç»“è®ºï¼‰ã€‚</p>
<p>2.åˆ†ç« èŠ‚æ‰§è¡Œï¼š ç³»ç»Ÿæ€§åœ°å°† DeepSearch å¼•æ“åº”ç”¨åˆ°æŠ¥å‘Šçš„æ¯ä¸€ä¸ªç« èŠ‚ä¸­ã€‚æ¯ä¸ªç« èŠ‚éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç ”ç©¶ä»»åŠ¡ã€‚</p>
<p>3.å…¨å±€æ•´åˆï¼š æœ€åå°†æ‰€æœ‰ç« èŠ‚å†…å®¹æ•´åˆï¼Œè¿›è¡Œè¿è´¯æ€§æ¶¦è‰²ï¼Œç”Ÿæˆæœ€ç»ˆæŠ¥å‘Šã€‚</p>
<p>æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹é€šå¸¸è€—æ—¶ 5 åˆ° 30 åˆ†é’Ÿï¼Œè¿™åœ¨ä»¥å‰çš„å³æ—¶é—®ç­”ä¸­æ˜¯ä¸å¯æƒ³è±¡çš„ï¼Œä½†å¯¹äºæ·±åº¦ç ”ç©¶æ¥è¯´ï¼Œå´æ˜¯æé«˜çš„æ•ˆç‡ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ea07a0788d040fc9bf941dcaa476acb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770718858&amp;x-signature=Hy4jUl8GoCzFUsA6qwpXQF7N%2F14%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>è®© LLM åœ¨è‡ªèº«æ¨ç†è¿‡ç¨‹ä¸­ä¸æœç´¢å¼•æ“äº¤æ›¿äº¤äº’ã€‚ç”¨æˆ·è¾“å…¥queryï¼ŒLLMäº§ç”ŸTOCï¼Œç„¶åè¿›å…¥å¾ªç¯ï¼šæŸ¥æ‰¾ã€è¯»å–å’Œæ¨ç†ï¼Œç›´åˆ°è¾¾åˆ°ç»“æŸçš„æ¡ä»¶ï¼Œç„¶åå†é€šè¿‡LLMåšæ€»ç»“ï¼Œæœ€ç»ˆç»™ç”¨æˆ·è¾“å‡ºå®Œæ•´çš„ç ”ç©¶æŠ¥å‘Šï¼ˆ â†’  â†’  â†’  â†’  ï¼‰çš„æ¨¡å¼ï¼Œå·²ç»éå¸¸æ¥è¿‘æˆ‘ä»¬ç†Ÿæ‚‰çš„ ReAct Agent èŒƒå¼ã€‚ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œçš„ Agent ä¸ä¾èµ–æç¤ºè¯ï¼Œè€Œæ˜¯é€šè¿‡ RL çœŸæ­£â€œå­¦ä¼šäº†â€æœç´¢ç­–ç•¥ã€‚å®è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª â€œå¸¦æœç´¢èƒ½åŠ›çš„ ReAct Agentâ€ï¼Œåªä¸è¿‡ä¸å†ä¾èµ–æç¤ºè¯å·¥ç¨‹ï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡å¼ºåŒ–å­¦ä¹ å­¦ä¼šä½•æ—¶æœç´¢ã€ä½•æ—¶æ¨ç†ã€‚æ³¨æ„ï¼Œå®ƒæ˜¯ä¸»åŠ¨è®¤çŸ¥åˆ°ä½•æ—¶éœ€è¦æ£€ç´¢ä¿¡æ¯ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸æ˜¾è‘—çš„ç‰¹ç‚¹å’Œä¸åŒã€‚</p>
<h2 data-id="heading-5">4ã€ å·¥ç¨‹åŒ–æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7fc47547a948485ca5dfb41326ce9987~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770718858&amp;x-signature=xEyHaOumuSZuUPpoLpFHBxsjSuY%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>Deep Research ä¹‹æ‰€ä»¥èƒ½è¶…è¶Šæ™®é€šçš„ RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ï¼Œåœ¨äºå®ƒè§£å†³äº†ä¸€ç³»åˆ—æ£˜æ‰‹çš„å·¥ç¨‹é—®é¢˜ã€‚é€šè¿‡å¯¹æŠ€æœ¯ç»†èŠ‚çš„å¤ç›˜ï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£åˆ°å…¶èƒŒåçš„æŠ€æœ¯å®ç°ã€‚</p>
<h3 data-id="heading-6">4.1 è§£å†³â€œåƒåœ¾è¿›ï¼Œåƒåœ¾å‡ºâ€ï¼šURL æ’åºä¸æ¸…æ´—</h3>
<h4 data-id="heading-7">4.1.1 é—®é¢˜</h4>
<p>Deep Research åœ¨ä¸€æ¬¡ä»»åŠ¡ä¸­å¯èƒ½æ‰«ææ•°ç™¾ä¸ª URLã€‚å¦‚æœæŠŠè¿™äº›å†…å®¹ä¸€è‚¡è„‘å¡ç»™ LLMï¼Œä¸ä»…æµªè´¹ Tokenï¼Œè¿˜ä¼šå¯¼è‡´æ¨¡å‹â€œçé€‰â€ç­”æ¡ˆã€‚åœ¨æ¯ä¸€æ¬¡ DeepReSearch æ¼«é•¿è¿‡ç¨‹ä¸­ï¼Œä½ å¯èƒ½ä¼šä»æœç´¢å¼•æ“ç»“æœé¡µï¼ˆSERPï¼‰é‡Œæ”¶é›†ä¸€å † URLï¼Œæ¯æ‰“å¼€ä¸€ä¸ªç½‘é¡µï¼Œåˆèƒ½é¡ºè—¤æ‘¸ç“œæ‰¾å‡ºä¸å°‘æ–°é“¾æ¥ï¼Œå°±ç®—æ˜¯å»é‡åï¼Œä¹Ÿæ˜¯è½»è½»æ¾æ¾å‡ ç™¾ä¸ªç½‘å€ã€‚åŒæ ·çš„ï¼Œä¸€è‚¡è„‘å„¿å…¨å¡ç»™ LLM è‚¯å®šä¸è¡Œï¼Œæµªè´¹å®è´µçš„ä¸Šä¸‹æ–‡é•¿åº¦ä¸è¯´ï¼Œæ›´è¦å‘½çš„æ˜¯ï¼Œæˆ‘ä»¬å‘ç° LLM åŸºæœ¬ä¸Šå°±æ˜¯çé€‰ã€‚æ‰€ä»¥ï¼Œå¾—æƒ³åŠæ³•å¼•å¯¼ LLM å»æŒ‘å‡ºé‚£äº›æœ€æœ‰å¯èƒ½åŒ…å«ç­”æ¡ˆçš„ URLã€‚</p>
<h4 data-id="heading-8">4.1.2 è§£å†³æ–¹æ¡ˆï¼šä¸¤é˜¶æ®µé‡æ’åºï¼ˆRe-rankingï¼‰</h4>
<p>URL æ’åºæ‰“åˆ†è¯„æµ‹æ˜¯ Deep Research ç³»ç»Ÿä¸­çš„å…³é”®æŠ€æœ¯ç¯èŠ‚ï¼Œå®ƒç›´æ¥å½±å“åˆ°ä¿¡æ¯è·å–çš„æ•ˆç‡å’Œè´¨é‡ã€‚ç³»ç»Ÿé‡‡ç”¨äº†å¤šå±‚æ¬¡ã€å¤šç»´åº¦çš„æ’åºç­–ç•¥ï¼Œç¡®ä¿èƒ½å¤Ÿä»æµ·é‡çš„æœç´¢ç»“æœä¸­å¿«é€Ÿå®šä½æœ€æœ‰ä»·å€¼çš„ä¿¡æ¯æºã€‚â€‹</p>
<p>ç»¼åˆè¯„åˆ†æœºåˆ¶æ˜¯ URL æ’åºçš„æ ¸å¿ƒã€‚ç³»ç»Ÿä¼šç»¼åˆè€ƒè™‘å¤šä¸ªå› ç´ ï¼šæœ€åæ›´æ–°æ—¶é—´ã€åŸŸåå‡ºç°çš„é¢‘ç‡ã€ç½‘é¡µè·¯å¾„ç»“æ„ï¼Œä»¥åŠæœ€é‡è¦çš„ä¸é—®é¢˜çš„è¯­ä¹‰ç›¸å…³æ€§ï¼Œç®—å‡ºä¸€ä¸ªç»¼åˆè¯„åˆ†â€‹ã€‚è¿™ç§å¤šç»´åº¦çš„è¯„åˆ†æœºåˆ¶èƒ½å¤Ÿå…¨é¢è¯„ä¼° URL çš„ä»·å€¼ï¼Œé¿å…äº†å•ä¸€ç»´åº¦æ’åºçš„å±€é™æ€§ã€‚â€‹</p>
<p>å…·ä½“çš„è¯„åˆ†å› ç´ åŒ…æ‹¬ï¼šâ€‹</p>
<p>1.<strong>é¢‘ç‡ä¿¡å·ï¼š</strong> å¦‚æœæŸä¸ª URL åœ¨ä¸åŒçš„ä¿¡æ¯æºä¸­å¤šæ¬¡å‡ºç°ï¼Œå®ƒçš„æƒé‡å°±ä¼šæ›´é«˜ã€‚å¦å¤–ï¼Œå¦‚æœæŸä¸ªåŸŸååœ¨æœç´¢ç»“æœä¸­ç»å¸¸å‡ºç°ï¼Œæ¥è‡ªè¿™ä¸ªåŸŸåçš„ URL ä¹Ÿä¼šè¢«åŠ åˆ†ã€‚å› ä¸ºä¸€èˆ¬æ¥è¯´ï¼Œçƒ­é—¨åŸŸåå¾€å¾€åŒ…å«æ›´æƒå¨çš„å†…å®¹ã€‚â€‹</p>
<p>2.<strong>è·¯å¾„ç»“æ„ï¼š</strong> ä¼šåˆ†æ URL çš„è·¯å¾„ç»“æ„ï¼Œæ¥åˆ¤æ–­å“ªäº›å†…å®¹æ˜¯èšé›†åœ¨ä¸€èµ·çš„ã€‚å¦‚æœå¤šä¸ªç½‘å€éƒ½å±äºåŒä¸€ä¸ªè·¯å¾„å±‚çº§ï¼Œå®ƒä»¬çš„åˆ†æ•°ä¼šæ›´é«˜ï¼›ä½†è·¯å¾„è¶Šæ·±ï¼Œåˆ†æ•°åŠ æˆä¼šé€æ¸å‡å°‘ã€‚â€‹</p>
<p>3.<strong>è¯­ä¹‰ç›¸å…³æ€§ï¼š</strong> ä½¿ç”¨ å°æ¨¡å‹ï¼ˆä¾‹å¦‚ï¼šjina-reranker-v2-base-multilingualï¼‰æˆ–è€…å¤§æ¨¡å‹ æ¥è¯„ä¼°é—®é¢˜å’Œæ¯ä¸ª URL çš„æ–‡æœ¬ä¿¡æ¯ï¼ˆä¾‹å¦‚æ ‡é¢˜å’Œæ‘˜è¦ï¼‰çš„è¯­ä¹‰ç›¸å…³æ€§ï¼Œè¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„é‡æ’åºé—®é¢˜â€‹ã€‚æ¯ä¸ª URL çš„æ–‡æœ¬ä¿¡æ¯æ¥è‡ªæœç´¢å¼•æ“ç»“æœé¡µï¼ˆSERPï¼‰API è¿”å›çš„æ ‡é¢˜å’Œæ‘˜è¦ï¼Œä»¥åŠé¡µé¢ä¸Š URL çš„é”šæ–‡æœ¬ã€‚â€‹</p>
<p>4.<strong>æœ€åæ›´æ–°æ—¶é—´ï¼š</strong> æœ‰äº›æŸ¥è¯¢å¯¹æ—¶æ•ˆæ€§è¦æ±‚å¾ˆé«˜ï¼Œæ‰€ä»¥ä¸€èˆ¬æ¥è¯´ï¼Œè¶Šæ–°çš„ URL ä»·å€¼è¶Šé«˜ã€‚ç³»ç»Ÿé‡‡ç”¨ä¸€å¥—ç»„åˆæ‹³ï¼Œç»¼åˆè€ƒè™‘ SERP API æä¾›çš„ç­›é€‰åŠŸèƒ½ã€HTTP Header ä¿¡æ¯åˆ†æã€å…ƒæ•°æ®æå–ã€å†…å®¹æ¨¡å¼è¯†åˆ«ç­‰ï¼Œæœ€ç»ˆç»™å‡ºä¸€ä¸ªå¸¦æœ‰ç½®ä¿¡åº¦è¯„åˆ†çš„æ—¶é—´æˆ³ã€‚â€‹</p>
<p>5.<strong>å—é™å†…å®¹è¯†åˆ«ï¼š</strong> æŸäº›ç¤¾äº¤åª’ä½“å¹³å°çš„å†…å®¹æ˜¯å—é™çš„ï¼Œæˆ–è€…éœ€è¦ä»˜è´¹æ‰èƒ½è®¿é—®ã€‚ç³»ç»Ÿä¼šç§¯æç»´æŠ¤ä¸€ä»½é»‘åå•ï¼ŒæŠŠè¿™äº›æœ‰é—®é¢˜çš„ URL å’ŒåŸŸåéƒ½è®°å½•ä¸‹æ¥ï¼Œé™ä½å®ƒä»¬çš„æ’åï¼Œé¿å…åœ¨è¿™äº›æ— æ³•è®¿é—®çš„å†…å®¹ä¸Šæµªè´¹è®¡ç®—èµ„æºã€‚â€‹</p>
<p>6.<strong>åŸŸåå¤šæ ·æ€§ï¼š</strong> ä¸ºäº†æé«˜ç»“æœçš„å¤šæ ·æ€§ï¼Œé¿å…é™·å…¥ "å±€éƒ¨æœ€ä¼˜"ï¼Œç³»ç»Ÿé‡‡ç”¨ "æ¢ç´¢ - åˆ©ç”¨" çš„ç­–ç•¥ï¼šä»æ¯ä¸ªåŸŸåä¸‹é€‰æ‹©æ’å Top K çš„ URLã€‚</p>
<p><strong>ç²—æ’å’Œç²¾æ’ï¼š</strong></p>
<p>â€¢ç²—æ’ï¼š å¿«é€Ÿç­›é€‰ï¼Œè¿½æ±‚å¬å›ç‡ã€‚</p>
<p>â€¢ç²¾æ’ï¼š é’ˆå¯¹ç²—æ’ç»“æœè¿›è¡Œæ·±åº¦è¯„ä¼°ã€‚è¿™é‡Œé€šå¸¸é‡‡ç”¨åŸºäºé‡æ’æ¨¡å‹ï¼ˆCross-Encoderï¼‰æˆ–åŸºäº LLM çš„é‡æ’åºã€‚åˆ©ç”¨ LLM çš„è¯­ä¹‰ç†è§£èƒ½åŠ›ï¼Œç”šè‡³ä½¿ç”¨æ»‘åŠ¨çª—å£ç®—æ³•ï¼ˆä»åå‘å‰æ»‘åŠ¨ï¼‰ï¼Œå¯¹å€™é€‰æ®µè½è¿›è¡Œç›¸å…³æ€§æ‰“åˆ†ï¼Œç¡®ä¿åªæœ‰å«é‡‘é‡æœ€é«˜çš„ä¿¡æ¯è¿›å…¥ä¸‹ä¸€æ­¥ã€‚</p>
<p>ç²—æ’æ£€ç´¢æ•ˆç‡è¾ƒå¿«ï¼Œä½†æ˜¯å¬å›çš„å†…å®¹å¹¶ä¸ä¸€å®šå¼ºç›¸å…³ã€‚è€Œç²¾æ’æ•ˆç‡è¾ƒä½ï¼Œå› æ­¤é€‚åˆåœ¨ç²—æ’çš„åŸºç¡€ä¸Šè¿›è¡Œè¿›ä¸€æ­¥ä¼˜åŒ–ã€‚é‡æ’çš„ä»»åŠ¡å°±æ˜¯è¯„ä¼°è¿™äº›ä¸Šä¸‹æ–‡çš„ç›¸å…³æ€§ï¼Œä¼˜å…ˆè€ƒè™‘é‚£äº›æœ€æœ‰å¯èƒ½æä¾›å‡†ç¡®å’Œç›¸å…³ä¿¡æ¯çš„å†…å®¹ã€‚</p>
<p>é‡æ’æ–¹æ³•ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸¤ç±»ï¼š</p>
<p><strong>åŸºäºé‡æ’æ¨¡å‹ï¼š</strong> è¿™äº›æ¨¡å‹å¯ä»¥è¾“å‡ºæ–‡æ¡£ä¸æŸ¥è¯¢ä¹‹é—´çš„ç›¸å…³æ€§ï¼›å¤Ÿé’ˆå¯¹ä¸€ä¸ªæŸ¥è¯¢å’Œæ–‡æ¡£å¯¹ï¼Œè¾“å‡ºå®ƒä»¬çš„ç›¸ä¼¼åº¦åˆ†æ•°ã€‚æˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªåˆ†æ•°å¯¹æ–‡æ¡£æŒ‰ç…§ä¸æŸ¥è¯¢çš„ç›¸å…³æ€§è¿›è¡Œé‡æ–°æ’åºã€‚è§£å†³ä¼ ç»Ÿæ£€ç´¢æ–¹æ³•ï¼ˆå¦‚BM25ã€å‘é‡æ£€ç´¢ï¼‰çš„å±€é™æ€§ï¼Œä¾‹å¦‚è¯­ä¹‰æ¨¡ç³Šæ€§ã€é•¿å°¾å…³é”®è¯æ¼æ£€ã€å¤šæ¨¡æ€æ„å›¾ç†è§£ä¸è¶³ç­‰é—®é¢˜ã€‚ä¼˜åŒ–æ£€ç´¢ç»“æœçš„Top-Kæ’åºï¼Œæå‡åç»­LLMç”Ÿæˆç­”æ¡ˆçš„å‡†ç¡®æ€§å’Œæ•ˆç‡</p>
<p><strong>åŸºäº LLMï¼š</strong> ç”±äºå¤§æ¨¡å‹å¯ä»¥æ›´å…¨é¢åœ°æ•æ‰è¯­ä¹‰ä¿¡æ¯ï¼Œä¹Ÿå¯è¢«ç”¨äºé‡æ’åºã€‚ä½¿ç”¨ Prompt çš„æ–¹å¼å¼•å¯¼ LLM è¿›è¡Œé‡æ’åºã€‚ç›´æ¥åˆ©ç”¨ LLM çš„è¯­ä¹‰ç†è§£èƒ½åŠ›å¯¹æ‰€æœ‰å€™é€‰æ®µè½è¿›è¡Œç›¸å…³æ€§ç¨‹åº¦æ’åã€‚å¦‚æœæ–‡æ¡£çš„æ•°é‡é€šå¸¸éå¸¸å¤§ï¼Œè€Œ LLM å¯èƒ½æ— æ³•ä¸€æ¬¡æ€§å¤„ç†æ‰€æœ‰çš„æ–‡æœ¬æ•°æ®ã€‚ä½¿ç”¨æ»‘åŠ¨çª—å£ç®—æ³•åŸç†ï¼Œæ»‘é¡ºåºæ˜¯ä»åå‘å‰çš„ï¼Œå°†å‰ä¸€ä¸ªçª—å£ä¸­çš„å‰ä¸¤ä¸ªæ®µè½å‚ä¸ä¸‹ä¸€ä¸ªçª—å£çš„é‡æ’åºã€‚</p>
<h3 data-id="heading-9">4.2 è§£å†³â€œå¤§æµ·æé’ˆâ€ä¸â€œä¸Šä¸‹æ–‡ä¸¢å¤±â€ï¼šé•¿ç½‘é¡µå†…å®¹æå–</h3>
<h4 data-id="heading-10">4.2.1 é—®é¢˜</h4>
<p>è¯»å–ç½‘é¡µå†…å®¹åï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒä½œä¸ºä¸€æ¡çŸ¥è¯†ï¼Œæ”¾åˆ° Agent çš„ä¸Šä¸‹æ–‡é‡Œï¼Œä¾›å®ƒæ¨ç†ã€‚è™½ç„¶æŠŠå…¨éƒ¨å†…å®¹ä¸€è‚¡è„‘å¡è¿› LLM çš„ä¸Šä¸‹æ–‡æ˜¯æœ€çœäº‹çš„åŠæ³•ï¼Œä½†è€ƒè™‘åˆ° Token æˆæœ¬å’Œç”Ÿæˆé€Ÿåº¦ï¼Œè¿™è‚¯å®šä¸æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚åœ¨å®é™…åº”ç”¨é‡Œï¼Œæˆ‘ä»¬éœ€è¦æ‰¾å‡ºå†…å®¹ä¸­ä¸é—®é¢˜æœ€ç›¸å…³çš„éƒ¨åˆ†ï¼ŒåªæŠŠè¿™äº›éƒ¨åˆ†ä½œä¸ºçŸ¥è¯†æ·»åŠ åˆ° Agent çš„ä¸Šä¸‹æ–‡é‡Œã€‚</p>
<p>æˆ‘ä»¬ä¸€è¾¹æ˜¯é—®é¢˜ï¼ˆåŸå§‹æŸ¥è¯¢æˆ–â€œä¿¡æ¯å·®â€é—®é¢˜ï¼‰ï¼Œå¦ä¸€è¾¹æ˜¯å¤§é‡çš„ Markdown å†…å®¹ï¼Œå…¶ä¸­å¤§éƒ¨åˆ†å†…å®¹éƒ½æ˜¯æ— å…³ç´§è¦çš„ã€‚æˆ‘ä»¬éœ€è¦é€‰å‡ºä¸é—®é¢˜æœ€ç›¸å…³çš„ç‰‡æ®µã€‚</p>
<p><strong>æœ‰é™æ•°é‡æ–‡æ¡£ä¸­çš„æœ‰é™æ•°é‡çš„æ–‡æœ¬å—ï¼š</strong> å‡è®¾æ¯ä¸ªå—å¤§çº¦æœ‰ 500 ä¸ª Tokenï¼Œé‚£ä¹ˆä¸€ä¸ªå…¸å‹çš„é•¿ç½‘é¡µæ–‡æ¡£å¤§çº¦æœ‰ 20 ä¸‡ Tokenï¼ˆä¸­ä½æ•°ï¼‰åˆ° 100 ä¸‡ Tokenã€‚æˆ‘ä»¬æ¯ä¸€æ­¥æŠ“å– 4-5 ä¸ª URLï¼Œè¿™æ ·å¤§æ¦‚ä¼šäº§ç”Ÿå‡ ç™¾ä¸ªæ–‡æœ¬å—ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå‡ ç™¾ä¸ªå‘é‡å’Œå‡ ç™¾ä¸ªä½™å¼¦ç›¸ä¼¼åº¦ã€‚åœ¨å†…å­˜é‡Œå°±èƒ½è½»æ¾å¤„ç†ï¼Œæ ¹æœ¬ä¸éœ€è¦å‘é‡æ•°æ®åº“ã€‚</p>
<p><strong>æˆ‘ä»¬éœ€è¦è¿ç»­çš„æ–‡æœ¬å—æ¥å½¢æˆæœ‰æ•ˆçš„çŸ¥è¯†æ‘˜è¦ï¼š</strong> æˆ‘ä»¬ä¸èƒ½æ¥å—ç”±åˆ†æ•£çš„å¥å­ç»„æˆçš„æ‘˜è¦ã€‚æ›´æœ‰ç”¨çš„çŸ¥è¯†æ‘˜è¦ï¼Œæ›´èƒ½ä¿æŒæ–‡æœ¬çš„è¿è´¯æ€§ã€‚è¿™æ · LLM æ›´å®¹æ˜“ä»çŸ¥è¯†æºä¸­å¤åˆ¶å’Œå¼•ç”¨ï¼Œä¹Ÿèƒ½å‡å°‘â€œå¹»è§‰â€ã€‚</p>
<p>ç½‘é¡µå†…å®¹åŠ¨è¾„æ•°ä¸‡ Tokenï¼Œä¸”å……æ»¡å™ªéŸ³ã€‚å¦‚ä½•æå–æœ‰æ•ˆä¿¡æ¯ä¸”ä¿æŒä¸Šä¸‹æ–‡è¿è´¯ï¼Ÿ</p>
<h4 data-id="heading-11">4.2.2 è§£å†³æ–¹æ¡ˆï¼šè¿Ÿåˆ†ç®—æ³•ï¼ˆLate Chunkingï¼‰</h4>
<p>ä¼ ç»Ÿçš„ RAG ä¼šç›´æ¥æŠŠæ–‡æ¡£åˆ‡å—ï¼ˆChunkingï¼‰ç„¶åå‘é‡åŒ–ï¼Œä½†è¿™ä¼šå¯¼è‡´åˆ‡å—ä¸¢å¤±å…¨å±€ä¸Šä¸‹æ–‡ï¼ˆä¾‹å¦‚ä¸€ä¸ªä»£è¯â€œå®ƒâ€åœ¨åˆ‡å—åä¸çŸ¥é“æŒ‡ä»£è°ï¼‰ã€‚</p>
<p>â€¢<strong>Late Chunkingï¼ˆè¿Ÿåˆ†ï¼‰ï¼š</strong> è¿™æ˜¯ä¸€ä¸ªæå…¶ç²¾å¦™çš„ä¼˜åŒ–ã€‚å®ƒä¸æ€¥ç€åˆ‡å—ï¼Œè€Œæ˜¯å…ˆç”¨æ”¯æŒè¶…é•¿ä¸Šä¸‹æ–‡çš„æ¨¡å‹ï¼ˆå¦‚ jina-embeddings-v3ï¼‰å¯¹æ•´ä¸ªæ–‡æ¡£è¿›è¡Œç¼–ç ï¼Œä¿ç•™å…¨å±€è¯­ä¹‰ã€‚</p>
<p>é•¿æ–‡æ¡£åˆ‡å—ï¼Œæœ‰ä¿©ä¸ªé—®é¢˜ï¼Œç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šæ–‡æœ¬å—åˆ†å‰²å¾—å‡†ä¸å‡†ï¼Œè¿™ä¸ä»…å…³ç³»åˆ°æœç´¢ç»“æœå¥½ä¸å¥½è¯»ï¼Œè¿˜å…³ç³»åˆ°åš RAG çš„æ—¶å€™ï¼Œç»™ LLM å–‚è¿›å»çš„æ–‡æœ¬å—æ˜¯ä¸æ˜¯æ­£å¥½ï¼Œä¸å¤šä¸å°‘ï¼›ç¬¬äºŒä¸ªé—®é¢˜æ˜¯ï¼šæ¯ä¸ªåˆ†å—é‡Œçš„ä¸Šä¸‹æ–‡ä¿¡æ¯å®¹æ˜“ä¸¢å¤±ã€‚æ–‡æ¡£åˆ‡å®Œä¹‹åï¼Œä¸‹ä¸€æ­¥å°±æ˜¯æŠŠæ¯ä¸ªåˆ†å—æ‹¿å»æ‰¹é‡å‘é‡åŒ–ã€‚ä½†è¿™ä¹ˆåšå®¹æ˜“æŠŠåŸæ–‡æ¡£é‡Œçš„å…¨å±€ä¸Šä¸‹æ–‡ä¿¡æ¯ç»™ä¸¢äº†ã€‚</p>
<p>è¿Ÿåˆ†ï¼ˆLate Chunkingï¼‰ä¸»è¦å°±æ˜¯è§£å†³ç¬¬äºŒä¸ªé—®é¢˜ â€”â€” ä¸Šä¸‹æ–‡ä¸¢å¤±ã€‚å®ƒä¸æ˜¯ç”¨æ¥æ‰¾æœ€ä½³æ–­ç‚¹æˆ–è€…è¯­ä¹‰è¾¹ç•Œçš„ã€‚è¯¥ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¯å‘å¼æ–¹æ³•ï¼Œæˆ–è€…å…¶ä»–æŠ€æœ¯æ¥åˆ†å—ï¼Œè¿˜æ˜¯å¾—ç”¨ã€‚</p>
<p>ä½†è¿Ÿåˆ†ä¸ä¸€æ ·çš„åœ°æ–¹æ˜¯ï¼Œå®ƒä¸æ˜¯ä¸€åˆ‡å®Œå°±ç«‹é©¬æŠŠæ¯ä¸ªå—æ‹¿å»å‘é‡åŒ–ï¼Œè€Œæ˜¯å…ˆæŠŠæ•´ä¸ªæ–‡æ¡£åœ¨ä¸€ä¸ªä¸Šä¸‹æ–‡çª—å£é‡Œç¼–ç äº†ï¼ˆjina-embeddings-v3æœ€æ–° SOTA å‘é‡æ¨¡å‹ï¼Œæ”¯æŒ 8192 Token çš„é•¿è¾“å…¥ï¼‰ï¼Œç„¶åå†æ ¹æ®è¾¹ç•Œçº¿ç´¢å»è¿›è¡Œå‡å€¼æ± åŒ–æ“ä½œã€‚</p>
<p>å®ƒçš„å·¥ä½œåŸç†ç±»ä¼¼äºä¸€ç»´å·ç§¯ï¼ˆConv1Dï¼‰ã€‚è¿™ä¸ªè¿‡ç¨‹é¦–å…ˆæŠŠä¸€ä¸ªé•¿æ–‡æ¡£åˆ†å‰²æˆå›ºå®šé•¿åº¦çš„å—ï¼Œç„¶åç”¨å¼€å¯äº†è¿Ÿåˆ†çš„ jina-embeddings-v3 å‘é‡åŒ–è¿™äº›æ–‡æœ¬å—ã€‚è®¡ç®—å®Œæ¯ä¸ªå—å’Œé—®é¢˜ä¹‹é—´çš„ç›¸ä¼¼åº¦åˆ†æ•°åï¼Œä¸€ä¸ªæ»‘åŠ¨çª—å£ä¼šåœ¨è¿™äº›ç›¸ä¼¼åº¦åˆ†æ•°ä¸Šç§»åŠ¨ï¼Œä»¥æ‰¾åˆ°å¹³å‡å€¼æœ€é«˜çš„çª—å£ã€‚</p>
<p>ç”¨è¿Ÿåˆ†å’Œç±»ä¼¼â€œä¸€ç»´å·ç§¯â€çš„å¹³å‡æ± åŒ–ï¼ŒæŒ‘å‡ºè·Ÿé—®é¢˜æœ€ç›¸å…³çš„æ®µè½ã€‚</p>
<p>â€¢<strong>å‡å€¼æ± åŒ–ï¼š</strong> åœ¨ç”Ÿæˆå‘é‡åï¼Œå†æ ¹æ®è¾¹ç•Œçº¿ç´¢è¿›è¡Œåˆ‡åˆ†å’Œå‡å€¼æ± åŒ–ã€‚ è¿™å°±åƒæ˜¯å…ˆè¯»å®Œä¸€æ•´æœ¬ä¹¦ç†è§£äº†å…¨æ„ï¼Œå†å›è¿‡å¤´å»æ‘˜å½•æ®µè½ï¼Œè€Œä¸æ˜¯æ¯è¯»ä¸€æ®µå°±æ‘˜å½•ä¸€æ®µã€‚è¿™æ ·æå–å‡ºçš„â€œçŸ¥è¯†å—â€æ—¢ç²¾å‡†åˆä¿ç•™äº†ä¸Šä¸‹æ–‡ï¼Œæå¤§å‡å°‘äº† LLM çš„å¹»è§‰ã€‚</p>
<h3 data-id="heading-12">4.3 è§£å†³â€œå†™ä¸é•¿â€ï¼šçªç ´ Token è¾“å‡ºé™åˆ¶</h3>
<h4 data-id="heading-13">4.3.1 é—®é¢˜</h4>
<p><strong>ä¸Šä¸‹æ–‡çª—å£çš„æ ¹æœ¬æ€§é™åˆ¶ï¼š</strong> å¤§éƒ¨åˆ†æ¨¡å‹ï¼Œä¾‹å¦‚ï¼šDeepSeek-V3ï¼Œå•æ¬¡è¾“å‡ºé€šå¸¸é™åˆ¶åœ¨ 8K Tokenï¼ˆçº¦ 8000 å­—ï¼‰ä»¥å†…ï¼Œéš¾ä»¥ä¸€æ¬¡æ€§ç”Ÿæˆæ•°ä¸‡å­—çš„è¯¦å°½æŠ¥å‘Šã€‚ï¼ˆå¯èƒ½æœ‰äººä¼šæå‡ºå¥½å¤šæ¨¡å‹è¾“å‡ºå‡ ä¸‡å­—æˆ–è€…å‡ åä¸‡å­—ï¼Œä¾‹å¦‚GPT-5å’ŒClaude Opusç­‰ï¼Œä½†æ˜¯åˆä¼šå‡ºç°ä¸‹é¢"ä¸Šä¸‹æ–‡è…çƒ‚" ç°è±¡çš„é—®é¢˜ï¼‰ã€‚</p>
<p><strong>"ä¸Šä¸‹æ–‡è…çƒ‚" ç°è±¡ï¼š</strong> å½“æ™ºèƒ½ä½“å¼€å§‹é¢‘ç¹è°ƒç”¨å¤šæ¬¡å·¥å…·ï¼Œæ¯æ¬¡è°ƒç”¨è¿”å›çš„ "è§‚å¯Ÿç»“æœ" éƒ½ä¼šè¿½åŠ åˆ°å¯¹è¯å†å²ä¸­ï¼Œå¯¼è‡´ä¸Šä¸‹æ–‡é•¿åº¦çˆ†ç‚¸å¼å¢é•¿ã€‚è¿™ä¸ä»…å¸¦æ¥é«˜æ˜‚çš„è®¡ç®—æˆæœ¬ï¼Œæ›´ä¼šå¯¼è‡´ "ä¸Šä¸‹æ–‡è…çƒ‚" (Context Rot)â€”â€” éšç€ä¸Šä¸‹æ–‡å˜é•¿ï¼Œæ¨¡å‹æ€§èƒ½åè€Œä¸‹é™ã€‚â€‹</p>
<p>å…·ä½“è¡¨ç°ä¸ºï¼šâ€‹</p>
<p>1.æ€§èƒ½ä¸‹é™ï¼šéšç€ä¸Šä¸‹æ–‡é•¿åº¦å¢åŠ ï¼Œæ¨¡å‹æ€§èƒ½ä¼šæ˜æ˜¾ä¸‹é™ã€‚Anthropic æŠŠè¿™ä¸ªç°è±¡ç§°ä¸º "ä¸Šä¸‹æ–‡è…çƒ‚"ï¼ˆcontext rotï¼‰ã€‚å…·ä½“è¡¨ç°æ˜¯æ¨¡å‹å¼€å§‹é‡å¤è¾“å‡ºã€æ¨ç†é€Ÿåº¦å˜æ…¢ã€å›ç­”è´¨é‡ä¸‹é™â€‹ã€‚â€‹</p>
<p>2.æ³¨æ„åŠ›åˆ†æ•£ï¼šAgent çš„ä¸Šä¸‹æ–‡éšæ—¶é—´æ¨ç§»å¿…ç„¶ç†µå¢ï¼Œå¯¼è‡´æ³¨æ„åŠ›æœºåˆ¶åˆ†æ•£ã€‚â€‹</p>
<p>3.ä¿¡æ¯åˆ©ç”¨æ•ˆç‡é™ä½ï¼šç ”ç©¶å‘ç°ï¼Œå½“ç›¸å…³ä¿¡æ¯ä½äºé•¿è¾“å…¥ä¸Šä¸‹æ–‡çš„å¼€å¤´æˆ–ç»“å°¾æ—¶ï¼Œæ¨¡å‹çš„æ€§èƒ½è¡¨ç°æœ€ä½³ï¼Œè€Œå½“ä¿¡æ¯è¢«æ”¾ç½®åœ¨ä¸­é—´ä½ç½®æ—¶ï¼Œæ€§èƒ½ä¼šæ˜¾è‘—ä¸‹é™ã€‚æ­¤å¤–ï¼Œåœ¨é•¿ä¸Šä¸‹æ–‡ä»»åŠ¡ä¸­ï¼Œæ¨¡å‹æœ‰æ—¶ä¼šå€¾å‘äºç›´æ¥ä¾èµ–å…¶é¢„è®­ç»ƒçš„å‚æ•°çŸ¥è¯†æ¥å›ç­”é—®é¢˜ï¼Œè€Œä¸æ˜¯æœ‰æ•ˆåˆ©ç”¨æ‰€æä¾›çš„å¤–éƒ¨é•¿æ–‡æœ¬ï¼Œè¿™è¿›ä¸€æ­¥åŠ å‰§äº†æ€§èƒ½çš„ä¸‹é™â€‹ã€‚</p>
<h4 data-id="heading-14">4.3.2 è§£å†³æ–¹æ¡ˆï¼šåŒå±‚çº§ Agent æ¶æ„ï¼ˆPlanner + Workersï¼‰</h4>
<p>Deep Research å®é™…ä¸Šé‡‡ç”¨äº†ä¸€ç§â€œè§„åˆ’-æ‰§è¡Œâ€çš„åˆ†ç¦»æ¶æ„ï¼š</p>
<p>â€¢è§„åˆ’ Agent (Planner)ï¼š å®ƒæ˜¯â€œåŒ…å·¥å¤´â€ã€‚è´Ÿè´£ç†è§£ä»»åŠ¡ï¼Œç”Ÿæˆè¯¦ç»†çš„ JSON æ ¼å¼å¤§çº²ï¼Œå¹¶åˆ†é…æ¯ä¸ªç« èŠ‚çš„å­—æ•°é¢„ç®—ã€‚</p>
<p>â€¢æ‰§è¡Œ Agent é›†ç¾¤ (Workers)ï¼š å®ƒæ˜¯â€œå»ºç­‘å·¥â€ã€‚å¤šä¸ª Agent å¹¶è¡Œå·¥ä½œï¼Œæ¯ä¸ª Agent è®¤é¢†ä¸€ä¸ªç« èŠ‚çš„æ ‡é¢˜ï¼Œç‹¬ç«‹å»æœç´¢ã€é˜…è¯»å’Œå†™ä½œã€‚</p>
<p>â€¢èšåˆå™¨ï¼š æœ€åç”±ä¸€ä¸ªæ¨¡å—åƒæ‹¼ç§¯æœ¨ä¸€æ ·å°†å„ç« èŠ‚æ‹¼æ¥ï¼Œå¹¶è¿›è¡Œé€»è¾‘é¡ºæ»‘å’Œé•¿åº¦æ§åˆ¶ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5f949f5fa5b49d39c36d8af8eb0e9d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770718858&amp;x-signature=m3NX1YnrKG%2BnlYhrOL4F0rEDe0w%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p><strong>åŒå±‚æ¶æ„çš„æ ¸å¿ƒè®¾è®¡åŒ…æ‹¬ï¼šâ€‹</strong></p>
<p>1.ç›‘ç£è€…å±‚çº§ï¼šä½œä¸ºç³»ç»Ÿçš„ "å¤§è„‘"ï¼Œè´Ÿè´£å°†æ¨¡ç³Šéœ€æ±‚è½¬åŒ–ä¸ºå¯æ‰§è¡Œè®¡åˆ’ã€‚åœ¨ prompts.py ä¸­å®šä¹‰çš„ç»“æ„åŒ–æç¤ºæ¨¡æ¿æŒ‡å¯¼è§„åˆ’å™¨å®Œæˆä¸‰é¡¹æ ¸å¿ƒä»»åŠ¡ï¼šéœ€æ±‚æ¾„æ¸…ï¼ˆé€šè¿‡ clarify_with_user èŠ‚ç‚¹å®ç°ï¼‰ã€å­ä¸»é¢˜åˆ†è§£ï¼ˆæœ€å¤§æ”¯æŒ 5 ä¸ªå¹¶è¡Œå­ä»»åŠ¡ï¼‰ã€ä»¥åŠèµ„æºåˆ†é…ï¼ˆæ ¹æ®ä¸»é¢˜å¤æ‚åº¦é€‰æ‹©æ¨¡å‹ä¸å·¥å…·ï¼‰ã€‚â€‹</p>
<p>2.æ‰§è¡Œè€…å±‚çº§ï¼šè´Ÿè´£å…·ä½“çš„ä¿¡æ¯æ£€ç´¢ã€å†…å®¹æå–å’Œåˆæ­¥åˆ†æå·¥ä½œã€‚æ‰§è¡Œè€…å±‚çº§åŒ…å«å¤šä¸ªä¸“é—¨çš„ Agentï¼Œå¦‚æœç´¢ Agentã€é˜…è¯» Agentã€åˆ†æ Agent ç­‰ï¼Œæ¯ä¸ª Agent è´Ÿè´£ç‰¹å®šçš„ä»»åŠ¡ã€‚â€‹</p>
<p>3.çŠ¶æ€æœºæ§åˆ¶ï¼šåŸºäº LangGraph æ„å»ºçš„çŠ¶æ€æœºå®ç°äº†å¤æ‚æµç¨‹çš„ç²¾ç¡®æ§åˆ¶ã€‚çŠ¶æ€æœºèƒ½å¤Ÿè·Ÿè¸ªç ”ç©¶è¿‡ç¨‹çš„æ¯ä¸ªæ­¥éª¤ï¼Œç¡®ä¿ä»»åŠ¡æ‰§è¡Œçš„æœ‰åºæ€§å’Œå®Œæ•´æ€§ã€‚â€‹</p>
<p><strong>ä¸Šä¸‹æ–‡ç®¡ç†çš„åˆ›æ–°æ–¹æ¡ˆï¼šâ€‹</strong></p>
<p>ä¸ºäº†ç¼“è§£ä¸Šä¸‹æ–‡è…çƒ‚é—®é¢˜ï¼Œç³»ç»Ÿé‡‡ç”¨äº†å¤šç§ä¸Šä¸‹æ–‡ç®¡ç†ç­–ç•¥ï¼šâ€‹</p>
<p>1.ä¸Šä¸‹æ–‡å¸è½½æŠ€æœ¯ï¼šç³»ç»Ÿé‡‡ç”¨ "ä¸Šä¸‹æ–‡å¸è½½"æ¥ç¼“è§£ä¸Šä¸‹æ–‡æ±¡æŸ“ï¼Œè¿™èƒ½å¸® agent ä¿æŒåœ¨æ­£ç¡®è½¨é“ä¸Šã€‚ä¸Šä¸‹æ–‡å¸è½½å°±æ˜¯æŠŠä¿¡æ¯å­˜åœ¨è¯­è¨€æ¨¡å‹çš„ "æ´»è·ƒä¸Šä¸‹æ–‡çª—å£" ä¹‹å¤–ã€‚æŠŠå…³é”®ä¿¡æ¯å¸è½½å‡ºå»ï¼Œåªåœ¨éœ€è¦æ—¶æ£€ç´¢ï¼Œæˆ‘ä»¬å°±é¿å…äº†æ¨¡å‹å·¥ä½œå†…å­˜çš„ "è¿‡è½½"â€‹ã€‚â€‹</p>
<p>2.åˆ†çº§å­˜å‚¨æ¶æ„ï¼šåœ¨äºå¼•å…¥åˆ†çº§å­˜å‚¨æ¶æ„ã€‚é€šè¿‡å°†ä¿¡æ¯æŒ‰ç…§é‡è¦æ€§å’Œä½¿ç”¨é¢‘ç‡è¿›è¡Œåˆ†çº§å­˜å‚¨ï¼Œç³»ç»Ÿèƒ½å¤Ÿåœ¨æœ‰é™çš„ä¸Šä¸‹æ–‡ä¸­ä¿ç•™æœ€é‡è¦çš„ä¿¡æ¯ï¼ŒåŒæ—¶åœ¨éœ€è¦æ—¶å¿«é€Ÿæ£€ç´¢å…¶ä»–ä¿¡æ¯ã€‚â€‹</p>
<p>3.æ™ºèƒ½å‰ªæç­–ç•¥ï¼šç³»ç»Ÿé‡‡ç”¨ä¸Šä¸‹æ–‡å‰ªææŠ€æœ¯ã€‚è¿™ä¸ªæŠ€å·§æ˜¯åœ¨ RAG çš„åŸºç¡€ä¸Šåšçš„ä¼˜åŒ–ã€‚å®ƒçš„æ ¸å¿ƒæ˜¯åœ¨å°†æ£€ç´¢åˆ°çš„ä¿¡æ¯äº¤ç»™ä¸»æ¨¡å‹ä¹‹å‰ï¼Œå…ˆè¿›è¡Œä¸€æ¬¡ "å‰ªæ"ã€‚å…·ä½“åšæ³•æ˜¯ï¼šå…ˆæ£€ç´¢å‡ºç›¸å…³æ–‡æ¡£ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªæ›´å°ã€æ›´å¿«çš„æ¨¡å‹ï¼Œè®©å®ƒè¯»ä¸€éè¿™äº›æ–‡æ¡£ï¼Œè¿™ä¸ªå°æ¨¡å‹çš„ä»»åŠ¡æ˜¯ï¼Œæ ¹æ®ç”¨æˆ·çš„åŸå§‹é—®é¢˜ï¼Œåªä»æ–‡æ¡£ä¸­æå–æœ€æ ¸å¿ƒã€æœ€ç›¸å…³çš„ä¿¡æ¯â€‹ã€‚</p>
<p><strong>é•¿æ–‡æ¡£å¤„ç†çš„æŠ€æœ¯çªç ´ï¼šâ€‹</strong>â€‹</p>
<p>1.åˆ†æ®µå¤„ç†ç­–ç•¥ï¼šç³»ç»Ÿå°†é•¿æ–‡æ¡£åˆ†æˆå¤šä¸ªæ®µè½æˆ–ç« èŠ‚ï¼Œæ¯ä¸ªéƒ¨åˆ†ç‹¬ç«‹å¤„ç†ï¼Œç„¶åé€šè¿‡ç›‘ç£è€…å±‚çº§è¿›è¡Œæ•´åˆã€‚è¿™ç§æ–¹æ³•é¿å…äº†ä¸€æ¬¡æ€§å¤„ç†æ•´ä¸ªé•¿æ–‡æ¡£å¸¦æ¥çš„ä¸Šä¸‹æ–‡é™åˆ¶é—®é¢˜ã€‚â€‹</p>
<p>2.å¢é‡ç”Ÿæˆæœºåˆ¶ï¼šç³»ç»Ÿé‡‡ç”¨å¢é‡ç”Ÿæˆçš„æ–¹å¼å¤„ç†é•¿ç¯‡æŠ¥å‘Šã€‚ç›‘ç£è€…å±‚çº§è´Ÿè´£åˆ¶å®šæ•´ä½“ç»“æ„å’Œå„éƒ¨åˆ†çš„ç”Ÿæˆé¡ºåºï¼Œæ‰§è¡Œè€…å±‚çº§æŒ‰ç…§é¡ºåºé€æ­¥ç”Ÿæˆå„éƒ¨åˆ†å†…å®¹ã€‚è¿™ç§æ–¹å¼ä¸ä»…é¿å…äº†è¾“å‡ºé•¿åº¦é™åˆ¶ï¼Œè¿˜æé«˜äº†ç”Ÿæˆå†…å®¹çš„è¿è´¯æ€§ã€‚â€‹</p>
<p>3.æ™ºèƒ½æ•´åˆç®—æ³•ï¼šåœ¨å„éƒ¨åˆ†å†…å®¹ç”Ÿæˆåï¼Œç›‘ç£è€…å±‚çº§ä¼šå¯¹å†…å®¹è¿›è¡Œæ™ºèƒ½æ•´åˆã€‚è¿™åŒ…æ‹¬æ£€æŸ¥é€»è¾‘ä¸€è‡´æ€§ã€æ¶ˆé™¤é‡å¤å†…å®¹ã€ä¼˜åŒ–ç« èŠ‚é¡ºåºç­‰ï¼Œç¡®ä¿æœ€ç»ˆæŠ¥å‘Šçš„è´¨é‡ã€‚</p>
<h3 data-id="heading-15">4.4 ç”Ÿæˆå†…å®¹æ‰“åˆ†</h3>
<p>Deep Research åœ¨ç”Ÿæˆå†…å®¹çš„è´¨é‡æ§åˆ¶æ–¹é¢é‡‡ç”¨äº†å¤šå±‚æ¬¡ã€å¤šç»´åº¦çš„è¯„åˆ†å’Œä¼˜åŒ–æœºåˆ¶ï¼Œç¡®ä¿æœ€ç»ˆè¾“å‡ºçš„å†…å®¹æ—¢å‡†ç¡®åˆæœ‰ä»·å€¼ã€‚â€‹</p>
<p>è‡ªé€‚åº”è¯„ä¼°æ¡†æ¶æ˜¯å†…å®¹è¯„åˆ†çš„åŸºç¡€ã€‚åŒ…æ‹¬ä¸¤ä¸ªäº’è¡¥çš„è¯„ä¼°æ¡†æ¶æ¥è¯„ä¼° DRA èƒ½åŠ›ï¼šRACEï¼ˆåŸºäºå‚è€ƒçš„è‡ªé€‚åº”æ ‡å‡†é©±åŠ¨è¯„ä¼°æ¡†æ¶ï¼Œå…·æœ‰åŠ¨æ€åŠ æƒï¼‰ç”¨äºè¯„ä¼°ç”Ÿæˆç ”ç©¶æŠ¥å‘Šçš„è´¨é‡ï¼ŒFACTï¼ˆäº‹å®ä¸°å¯Œæ€§å’Œå¼•ç”¨å¯ä¿¡åº¦æ¡†æ¶ï¼‰ç”¨äºè¯„ä¼°ä¿¡æ¯æ£€ç´¢æœ‰æ•ˆæ€§å’Œå¼•ç”¨å‡†ç¡®æ€§â€‹ã€‚â€‹</p>
<p><strong>RACE æ¡†æ¶çš„æ ¸å¿ƒç‰¹ç‚¹åŒ…æ‹¬ï¼šâ€‹</strong></p>
<p>1.åŠ¨æ€æƒé‡åˆ†é…ï¼šå¯¹äºæ¯ä¸ªä»»åŠ¡ï¼Œè¯„åˆ¤ LLM é€šè¿‡å¤šæ¬¡è¯•éªŒè·å¾—æ¯ä¸ªç»´åº¦çš„æƒé‡ï¼Œå¹¶å–å¹³å‡å€¼ä½œä¸ºæœ€ç»ˆæƒé‡ï¼Œç¡®ä¿è¯„ä¼°ä¸ä»»åŠ¡æ„å›¾ä¸€è‡´â€‹ã€‚æ‰€æœ‰ç»´åº¦çš„ç”Ÿæˆæ ‡å‡†è¢«èšåˆåˆ°ä¸€ä¸ªç»¼åˆåˆ—è¡¨ä¸­ï¼Œè¯„åˆ¤ LLM ç„¶åæ ¹æ®æ¯ä¸ªæ ‡å‡†åˆ†æç›®æ ‡æŠ¥å‘Šå’Œå‚è€ƒæŠ¥å‘Šï¼Œä¸ºä¸¤ä»½æŠ¥å‘Šç”Ÿæˆæ¯ä¸ªæ ‡å‡†çš„åˆ†æ•°åˆ—è¡¨ï¼Œç”¨äºæœ€ç»ˆå¾—åˆ†è®¡ç®—ã€‚â€‹</p>
<p>2.å¤šç»´åº¦è¯„ä¼°ï¼šæ¡†æ¶é¦–å…ˆåŸºäºé¢†åŸŸçŸ¥è¯†ç¡®ç«‹å››ä¸ªé¡¶å±‚è¯„æµ‹ç»´åº¦ï¼šå…¨é¢æ€§ï¼ˆCOMPï¼‰ã€æ´å¯ŸåŠ› / æ·±åº¦ï¼ˆDEPTHï¼‰ã€æŒ‡ä»¤éµå¾ªï¼ˆINSTï¼‰å’Œå¯è¯»æ€§ï¼ˆREADï¼‰ã€‚å¯¹äºæ¯ä¸ªå…·ä½“ä»»åŠ¡ï¼Œè¯„åˆ¤ LLM ä¼šåŠ¨æ€è®¡ç®—å„ç»´åº¦çš„æƒé‡ï¼Œå¹¶ä¸ºæ¯ä¸ªç»´åº¦ç”Ÿæˆä¸€ç»„å®šåˆ¶åŒ–çš„è¯„æµ‹æ ‡å‡†ã€‚â€‹</p>
<p>3.è‡ªé€‚åº”é€ç‚¹è´¨é‡è¯„ä¼°ï¼šè¯„ä¼°æ¨¡å—åŒ…å«è‡ªé€‚åº”é€ç‚¹è´¨é‡è¯„ä¼°å’Œä¸»åŠ¨äº‹å®æ ¸æŸ¥ä¸¤å¤§æ ¸å¿ƒç»„ä»¶ï¼Œæ—¢è§£å†³äº† "åˆ¤åˆ†æ­»æ¿" çš„é—®é¢˜ï¼Œåˆå®ç°äº† "å…¨é¢æŸ¥é”™" çš„ç›®æ ‡ã€‚è‡ªé€‚åº”é€ç‚¹è´¨é‡è¯„ä¼°æ‰“ç ´äº†å›ºå®šç»´åº¦çš„é™åˆ¶ï¼Œä¸ºæ¯ä¸ªä»»åŠ¡é‡èº«å®šåˆ¶è¯„åˆ†æ ‡å‡†ã€‚è¯¥ç»„ä»¶é¦–å…ˆä¿ç•™ 4 ä¸ªé€šç”¨è¯„ä¼°ç»´åº¦ï¼ŒåŒæ—¶é’ˆå¯¹æ¯ä¸ªå…·ä½“ä»»åŠ¡è‡ªåŠ¨ç”Ÿæˆ 1-3 ä¸ªä¸“å±è¯„ä¼°ç»´åº¦ã€‚â€‹</p>
<p>ä¸»åŠ¨äº‹å®æ ¸æŸ¥æœºåˆ¶ç¡®ä¿äº†å†…å®¹çš„å‡†ç¡®æ€§ã€‚ç³»ç»Ÿä¸ä¼šåªå‚»å‚»åœ°æ£€æŸ¥æŠ¥å‘Šé‡Œæ ‡å‡ºæ¥çš„å¼•ç”¨æ¥æºï¼Œè€Œæ˜¯ä¼šåƒä¸€ä¸ªä¾¦æ¢ä¸€æ ·ä¸»åŠ¨å»ç½‘ä¸Šæœç´¢äº¤å‰éªŒè¯æŠ¥å‘Šé‡Œçš„æ¯ä¸€ä¸ªè¯´æ³•ï¼Œä¸ç®¡ä½ æœ‰æ²¡æœ‰ç»™å‡ºå¤„ï¼Œè¿™å°±ä¿è¯äº†è¯„åˆ†çš„ç»å¯¹ä¸¥æ ¼â€‹ã€‚â€‹</p>
<p><strong>è¿™ç§æœºåˆ¶çš„å®ç°åŒ…æ‹¬ï¼š</strong> â€‹</p>
<p>1.è‡ªåŠ¨è¯†åˆ«å…³é”®é™ˆè¿°ï¼šç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«æŠ¥å‘Šä¸­çš„å…³é”®é™ˆè¿°å’Œæ•°æ®ï¼ŒåŒ…æ‹¬äº‹å®æ€§æè¿°ã€æ•°å€¼æ•°æ®ã€å› æœå…³ç³»ç­‰ã€‚â€‹</p>
<p>2.å¤šæºäº¤å‰éªŒè¯ï¼šå¯¹äºæ¯ä¸ªå…³é”®é™ˆè¿°ï¼Œç³»ç»Ÿä¼šä»å¤šä¸ªç‹¬ç«‹æ¥æºè¿›è¡ŒéªŒè¯ï¼Œç¡®ä¿å…¶å‡†ç¡®æ€§ã€‚â€‹</p>
<p>3.ç½®ä¿¡åº¦è¯„ä¼°ï¼šç³»ç»Ÿä¼šä¸ºæ¯ä¸ªéªŒè¯ç»“æœç»™å‡ºç½®ä¿¡åº¦è¯„åˆ†ï¼Œé«˜ç½®ä¿¡åº¦çš„å†…å®¹ä¼šè¢«ä¿ç•™ï¼Œä½ç½®ä¿¡åº¦çš„å†…å®¹ä¼šè¢«æ ‡è®°ä¸ºéœ€è¦è¿›ä¸€æ­¥æ ¸å®ã€‚â€‹</p>
<p><strong>å†…å®¹ä¿®æ”¹ä¸ä¼˜åŒ–ç­–ç•¥ï¼š</strong> åŸºäºè¯„åˆ†ç»“æœï¼Œç³»ç»Ÿä¼šé‡‡ç”¨å¤šç§ç­–ç•¥å¯¹å†…å®¹è¿›è¡Œä¿®æ”¹å’Œä¼˜åŒ–ï¼šâ€‹</p>
<p>1.åŸºäºè¯„åˆ†çš„è‡ªåŠ¨ä¿®æ­£ï¼šå½“ç³»ç»Ÿå‘ç°å†…å®¹å­˜åœ¨äº‹å®é”™è¯¯æˆ–é€»è¾‘é—®é¢˜æ—¶ï¼Œä¼šè‡ªåŠ¨è¿›è¡Œä¿®æ­£ã€‚è¿™ç§ä¿®æ­£ä¸æ˜¯ç®€å•çš„æ›¿æ¢ï¼Œè€Œæ˜¯åŸºäºå¤šä¸ªå¯é æ¥æºçš„ä¿¡æ¯è¿›è¡Œç»¼åˆåˆ¤æ–­ã€‚â€‹</p>
<p>2.äººå·¥å¹²é¢„æœºåˆ¶ï¼šå¯¹äºå¤æ‚çš„é—®é¢˜æˆ–å­˜åœ¨äº‰è®®çš„å†…å®¹ï¼Œç³»ç»Ÿä¼šæç¤ºç”¨æˆ·è¿›è¡Œäººå·¥å¹²é¢„ï¼Œç¡®ä¿æœ€ç»ˆå†…å®¹çš„å‡†ç¡®æ€§å’Œå®¢è§‚æ€§ã€‚â€‹</p>
<p>3.é£æ ¼ä¸€è‡´æ€§ä¼˜åŒ–ï¼šç³»ç»Ÿä¼šæ£€æŸ¥æ•´ç¯‡æŠ¥å‘Šçš„è¯­è¨€é£æ ¼ã€æœ¯è¯­ä½¿ç”¨ã€æ ¼å¼è§„èŒƒç­‰ï¼Œç¡®ä¿å…¨æ–‡çš„ä¸€è‡´æ€§å’Œä¸“ä¸šæ€§ã€‚â€‹</p>
<p>4.ç»“æ„ä¼˜åŒ–ï¼šæ ¹æ®å†…å®¹çš„é€»è¾‘å…³ç³»ï¼Œç³»ç»Ÿä¼šå¯¹æŠ¥å‘Šçš„ç»“æ„è¿›è¡Œä¼˜åŒ–ï¼Œç¡®ä¿ç« èŠ‚å®‰æ’åˆç†ã€å±‚æ¬¡åˆ†æ˜ã€‚</p>
<h2 data-id="heading-16">5ã€ Deep Research vs Manus</h2>
<p>Manus æ›´åƒæ˜¯ä¸€ä¸ªé«˜åº¦å·¥ç¨‹åŒ–çš„ Agent å¹³å°ï¼Œå®ƒæ•´åˆäº†å¤§é‡å·¥å…·ï¼ˆæµè§ˆå™¨ã€ä»£ç è§£é‡Šå™¨ç­‰ï¼‰ï¼Œå¼ºåœ¨â€œè°ƒåº¦â€ã€‚è€Œ Deep Research æ˜¯æ¨¡å‹å±‚é¢å’Œæ¶æ„å±‚é¢çš„è¿›åŒ–ï¼Œå®ƒé€šè¿‡å¼ºåŒ–å­¦ä¹ æˆ–è€…æ¶æ„ä¼˜åŒ–è®©æ¨¡å‹äº†è§£â€œå¦‚ä½•æœç´¢â€å’Œâ€œå¦‚ä½•æ¨ç†â€çš„ç­–ç•¥ï¼Œæ˜¯ä¸€ç§æ›´åŸç”Ÿå’Œè‡ªä¸»çš„æ™ºèƒ½ã€‚æ‰€ä»¥Deep Researchå¯ä»¥è¿›è¡Œæ’°å†™æ–‡çŒ®ç»¼è¿°ã€å¸‚åœºä¸ç«å“åˆ†æã€è¡Œä¸šç ”æŠ¥ã€æŠ•èèµ„ç ”æŠ¥ã€å¸‚åœºè°ƒç ”ã€æ–°é—»çƒ­ç‚¹è¿½è¸ªã€ç”Ÿæ´»å†³ç­–ç­‰ï¼Œä¹Ÿå¯ä»¥åœ¨æ£€ç´¢æ—¶æ²‰æ·€æœ‰ç”¨ä¿¡æ¯ã€‚</p>
<h2 data-id="heading-17">6ã€æ€»ç»“</h2>
<p>Deep Researchæ˜¯æˆ‘åœ¨25å¹´å¹´ä¸­æ¥è§¦çš„ï¼Œå½“æ—¶æ„Ÿè§‰å°±å¾ˆæƒŠè‰³ï¼Œæ„Ÿè§‰æ­£åœ¨è·¨è¶Šåˆ°ä¸€ä¸ªæ–°çš„é—¨æ§›ï¼šä»ä¿¡æ¯çš„æ¬è¿å·¥ï¼Œå˜æˆäº†ä¿¡æ¯çš„åŠ å·¥è€…ã€‚å®ƒä¸å†éœ€è¦ç”¨æˆ·è´¹å°½å¿ƒæ€æƒ³ Promptï¼Œä¹Ÿä¸éœ€è¦ç”¨æˆ·å»ç‚¹å‡»ä¸€ä¸ªä¸ªçš„é“¾æ¥ã€‚å®ƒå±•ç¤ºäº† AI ä½œä¸ºä¸€ä¸ªâ€œæ€è€ƒè€…â€çš„æ½œåŠ›â€”â€”å®ƒçŸ¥é“è‡ªå·±ä¸çŸ¥é“ä»€ä¹ˆï¼Œå¹¶ä¸”çŸ¥é“å»å“ªé‡Œæ‰¾åˆ°ç­”æ¡ˆã€‚å¯¹äºä½¿ç”¨è€…è€Œè¨€ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥å°†æœ€è€—æ—¶çš„â€œä¿¡æ¯æ”¶é›†ä¸æ•´ç†â€é˜¶æ®µå¤–åŒ…ç»™ AIï¼Œä»è€Œä¸“æ³¨äºæ›´é«˜ç»´åº¦çš„å†³ç­–ä¸åˆ›æ–°ã€‚</p>
<p>åé¢ä¼šç»§ç»­å†™æˆ‘æ€ä¹ˆåœ¨çœŸå®ä¸šåŠ¡ä¸­åˆ©ç”¨DeepResearchçš„èƒ½åŠ›ï¼Œæœ€åç¥å¤§å®¶æ—©å®‰ã€åˆå®‰ã€æ™šå®‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android ViewModel çš„ç®€å•ç”¨æ³•]]></title>    <link>https://juejin.cn/post/7602205524719009826</link>    <guid>https://juejin.cn/post/7602205524719009826</guid>    <pubDate>2026-02-03T10:31:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602205524719009826" data-draft-id="7602246300452995107" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android ViewModel çš„ç®€å•ç”¨æ³•"/> <meta itemprop="keywords" content="Android,Android Jetpack"/> <meta itemprop="datePublished" content="2026-02-03T10:31:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Yen"/> <meta itemprop="url" content="https://juejin.cn/user/4037062426633214"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android ViewModel çš„ç®€å•ç”¨æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4037062426633214/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Yen
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T10:31:09.000Z" title="Tue Feb 03 2026 10:31:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ViewModel æ¦‚è¿°</h2>
<h3 data-id="heading-1">1.1 ä»€ä¹ˆæ˜¯ ViewModel</h3>
<p>ViewModel æ˜¯ Android Jetpack æ¶æ„ç»„ä»¶ä¹‹ä¸€ï¼Œç”¨äº<strong>ä»¥ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥çš„æ–¹å¼å­˜å‚¨å’Œç®¡ç† UI ç›¸å…³æ•°æ®</strong>ã€‚</p>
<h3 data-id="heading-2">1.2 ä¸»è¦ç‰¹æ€§</h3>
<ul>
<li><strong>ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥</strong>ï¼šè‡ªåŠ¨ç®¡ç†æ•°æ®ç”Ÿå‘½å‘¨æœŸ</li>
<li><strong>é…ç½®å˜æ›´å­˜æ´»</strong>ï¼šå±å¹•æ—‹è½¬ç­‰é…ç½®å˜æ›´æ—¶æ•°æ®ä¸ä¼šä¸¢å¤±</li>
<li><strong>UI æ•°æ®å­˜å‚¨</strong>ï¼šä¸“é—¨ä¸º UI å‡†å¤‡å’Œç®¡ç†æ•°æ®</li>
<li><strong>åˆ†ç¦»å…³æ³¨ç‚¹</strong>ï¼šå¸®åŠ©å®ç° MVVM æ¶æ„æ¨¡å¼</li>
</ul>
<h2 data-id="heading-3">äºŒã€ViewModel çš„æ ¸å¿ƒä½œç”¨</h2>
<h3 data-id="heading-4">2.1 è§£å†³çš„ä¸»è¦é—®é¢˜</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜ï¼šæ•°æ®åœ¨é…ç½®å˜æ›´æ—¶ä¸¢å¤±</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> counter = <span class="hljs-number">0</span>  <span class="hljs-comment">// æ—‹è½¬å±å¹•æ—¶ä¼šé‡ç½®ï¼</span>
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-comment">// ...</span>
    }
}
</code></pre>
<h3 data-id="heading-5">2.2 ViewModel çš„ä¼˜åŠ¿</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th>ä¼ ç»Ÿæ–¹å¼</th><th>ViewModel</th></tr></thead><tbody><tr><td>é…ç½®å˜æ›´</td><td>æ•°æ®ä¸¢å¤±</td><td><strong>æ•°æ®ä¿ç•™</strong></td></tr><tr><td>ç”Ÿå‘½å‘¨æœŸ</td><td>æ‰‹åŠ¨ç®¡ç†</td><td><strong>è‡ªåŠ¨ç®¡ç†</strong></td></tr><tr><td>å†…å­˜æ³„æ¼</td><td>æ˜“å‘ç”Ÿ</td><td><strong>ä¸æ˜“å‘ç”Ÿ</strong></td></tr><tr><td>æµ‹è¯•éš¾åº¦</td><td>å›°éš¾</td><td><strong>å®¹æ˜“æµ‹è¯•</strong></td></tr></tbody></table>
<h2 data-id="heading-6">ä¸‰ã€åŸºæœ¬ç”¨æ³•</h2>
<h3 data-id="heading-7">3.1 æ·»åŠ ä¾èµ–</h3>
<pre><code class="hljs language-gradle" lang="gradle">// build.gradle (app)
dependencies {
    implementation "androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.0"
    // æˆ–ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬
}
</code></pre>
<h3 data-id="heading-8">3.2 åˆ›å»º ViewModel</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// 1. ç®€å• ViewModel</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyViewModel</span> : <span class="hljs-type">ViewModel</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _counter = MutableLiveData(<span class="hljs-number">0</span>)
    <span class="hljs-keyword">val</span> counter: LiveData&lt;<span class="hljs-built_in">Int</span>&gt; = _counter
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">increment</span><span class="hljs-params">()</span></span> {
        _counter.value = (_counter.value ?: <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>
    }
    
    <span class="hljs-comment">// ViewModel é”€æ¯æ—¶çš„æ¸…ç†å·¥ä½œ</span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCleared</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onCleared()
        <span class="hljs-comment">// é‡Šæ”¾èµ„æº</span>
    }
}

<span class="hljs-comment">// 2. å¸¦å‚æ•°çš„ ViewModelï¼ˆéœ€è¦ä½¿ç”¨ Factoryï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserViewModel</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> userId: String) : ViewModel() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _user = MutableLiveData&lt;User&gt;()
    <span class="hljs-keyword">val</span> user: LiveData&lt;User&gt; = _user
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadUser</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// åŠ è½½ç”¨æˆ·æ•°æ®</span>
    }
}
</code></pre>
<h3 data-id="heading-9">3.3 åœ¨ Activity/Fragment ä¸­ä½¿ç”¨</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Activity ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> viewModel: MyViewModel
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        
        <span class="hljs-comment">// è·å– ViewModel å®ä¾‹</span>
        viewModel = ViewModelProvider(<span class="hljs-keyword">this</span>).<span class="hljs-keyword">get</span>(MyViewModel::<span class="hljs-keyword">class</span>.java)
        
        <span class="hljs-comment">// è§‚å¯Ÿ LiveData</span>
        viewModel.counter.observe(<span class="hljs-keyword">this</span>) { count -&gt;
            updateCounterUI(count)
        }
        
        <span class="hljs-comment">// è§¦å‘æ•°æ®å˜åŒ–</span>
        button.setOnClickListener {
            viewModel.increment()
        }
    }
}

<span class="hljs-comment">// Fragment ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyFragment</span> : <span class="hljs-type">Fragment</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> viewModel: MyViewModel <span class="hljs-keyword">by</span> viewModels()  <span class="hljs-comment">// Kotlin æ‰©å±•æ–¹å¼</span>
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onViewCreated</span><span class="hljs-params">(view: <span class="hljs-type">View</span>, savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onViewCreated(view, savedInstanceState)
        
        viewModel.counter.observe(viewLifecycleOwner) { count -&gt;
            <span class="hljs-comment">// æ›´æ–° UI</span>
        }
    }
}
</code></pre>
<h2 data-id="heading-10">å››ã€ViewModel ç”Ÿå‘½å‘¨æœŸ</h2>
<h3 data-id="heading-11">4.1 ç”Ÿå‘½å‘¨æœŸç¤ºæ„å›¾</h3>
<pre><code class="hljs language-text" lang="text">Activity/Fragment Created
        â†“
ViewModel Created (é¦–æ¬¡åˆ›å»º)
        â†“
Activity/Fragment Started
        â†“
Activity/Fragment Resumed
        â†“
â† å±å¹•æ—‹è½¬ç­‰é…ç½®å˜æ›´ â†’
ï¼ˆActivity/Fragment é”€æ¯é‡å»ºï¼Œä½† ViewModel ä¿ç•™ï¼‰
        â†“
Activity/Fragment Destroyedï¼ˆéé…ç½®å˜æ›´ï¼‰
        â†“
ViewModel onCleared() è°ƒç”¨
</code></pre>
<h3 data-id="heading-12">4.2 ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥ç¤ºä¾‹</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyViewModel</span> : <span class="hljs-type">ViewModel</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _state = MutableLiveData(ViewModelState.IDLE)
    
    <span class="hljs-keyword">init</span> {
        <span class="hljs-comment">// ViewModel åˆ›å»ºæ—¶è°ƒç”¨</span>
        loadInitialData()
    }
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCleared</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// ViewModel é”€æ¯æ—¶è°ƒç”¨ï¼ˆå½“ Activity/Fragment æ°¸ä¹…é”€æ¯æ—¶ï¼‰</span>
        cleanupResources()
        <span class="hljs-keyword">super</span>.onCleared()
    }
}
</code></pre>
<h2 data-id="heading-13">äº”ã€ViewModelFactory</h2>
<h3 data-id="heading-14">5.1 ä¸ºä»€ä¹ˆéœ€è¦ Factory</h3>
<p>å½“ ViewModel éœ€è¦å‚æ•°æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ ViewModelProvider.Factory</p>
<h3 data-id="heading-15">5.2 è‡ªå®šä¹‰ Factory</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// 1. åˆ›å»º Factory</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserViewModelFactory</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> userId: String,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> repository: UserRepository
) : ViewModelProvider.Factory {
    
    <span class="hljs-meta">@Suppress(<span class="hljs-string">"UNCHECKED_CAST"</span>)</span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T : ViewModel&gt;</span> <span class="hljs-title">create</span><span class="hljs-params">(modelClass: <span class="hljs-type">Class</span>&lt;<span class="hljs-type">T</span>&gt;)</span></span>: T {
        <span class="hljs-keyword">if</span> (modelClass.isAssignableFrom(UserViewModel::<span class="hljs-keyword">class</span>.java)) {
            <span class="hljs-keyword">return</span> UserViewModel(userId, repository) <span class="hljs-keyword">as</span> T
        }
        <span class="hljs-keyword">throw</span> IllegalArgumentException(<span class="hljs-string">"Unknown ViewModel class"</span>)
    }
}

<span class="hljs-comment">// 2. ä½¿ç”¨ Factory</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> viewModel: UserViewModel
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        
        <span class="hljs-keyword">val</span> userId = intent.getStringExtra(<span class="hljs-string">"USER_ID"</span>) ?: <span class="hljs-string">""</span>
        <span class="hljs-keyword">val</span> repository = UserRepository()
        <span class="hljs-keyword">val</span> factory = UserViewModelFactory(userId, repository)
        
        viewModel = ViewModelProvider(<span class="hljs-keyword">this</span>, factory).<span class="hljs-keyword">get</span>(UserViewModel::<span class="hljs-keyword">class</span>.java)
    }
}
</code></pre>
<h2 data-id="heading-16">å…­ã€ViewModel çš„ä½œç”¨åŸŸ</h2>
<h3 data-id="heading-17">6.1 ä¸åŒçš„ä½œç”¨åŸŸ</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// 1. Activity ä½œç”¨åŸŸ - åŒä¸€ä¸ª Activity çš„å¤šä¸ª Fragment å…±äº«</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SharedActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">val</span> sharedViewModel: SharedViewModel <span class="hljs-keyword">by</span> viewModels()
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">FragmentA</span> : <span class="hljs-type">Fragment</span>() {
    <span class="hljs-comment">// è·å– Activity çº§åˆ«çš„ ViewModel</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> activityViewModel: SharedViewModel <span class="hljs-keyword">by</span> activityViewModels()
}

<span class="hljs-comment">// 2. Fragment ä½œç”¨åŸŸ - ä»…é™äºå•ä¸ª Fragment</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyFragment</span> : <span class="hljs-type">Fragment</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> fragmentViewModel: MyViewModel <span class="hljs-keyword">by</span> viewModels()
}

<span class="hljs-comment">// 3. Navigation Graph ä½œç”¨åŸŸ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">NavFragment</span> : <span class="hljs-type">Fragment</span>() {
    <span class="hljs-comment">// éœ€è¦åœ¨ nav_graph.xml ä¸­å£°æ˜</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> navViewModel: NavViewModel <span class="hljs-keyword">by</span> navGraphViewModels(R.id.nav_graph)
}
</code></pre>
<h3 data-id="heading-18">6.2 Navigation ç»„ä»¶ä¸­çš„ ViewModel</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- navigation/nav_graph.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">navigation</span> 
    <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>
    <span class="hljs-attr">xmlns:app</span>=<span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span>
    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/nav_graph"</span>
    <span class="hljs-attr">app:viewModelScope</span>=<span class="hljs-string">"true"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ... --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">navigation</span>&gt;</span>
</code></pre>
<h2 data-id="heading-19">ä¸ƒã€ViewModel ä¸ LiveData/StateFlow ç»“åˆ</h2>
<h3 data-id="heading-20">7.1 é…åˆ LiveData</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">UserViewModel</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> repository: UserRepository) : ViewModel() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _users = MutableLiveData&lt;List&lt;User&gt;&gt;()
    <span class="hljs-keyword">val</span> users: LiveData&lt;List&lt;User&gt;&gt; = _users
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _loading = MutableLiveData(<span class="hljs-literal">false</span>)
    <span class="hljs-keyword">val</span> loading: LiveData&lt;<span class="hljs-built_in">Boolean</span>&gt; = _loading
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _error = MutableLiveData&lt;String?&gt;()
    <span class="hljs-keyword">val</span> error: LiveData&lt;String?&gt; = _error
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadUsers</span><span class="hljs-params">()</span></span> {
        _loading.value = <span class="hljs-literal">true</span>
        viewModelScope.launch {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">val</span> result = repository.getUsers()
                _users.value = result
                _error.value = <span class="hljs-literal">null</span>
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                _error.value = e.message
            } <span class="hljs-keyword">finally</span> {
                _loading.value = <span class="hljs-literal">false</span>
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-21">7.2 é…åˆ StateFlowï¼ˆæ¨èï¼‰</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">UserViewModel</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> repository: UserRepository) : ViewModel() {
    <span class="hljs-comment">// ç§æœ‰å¯å˜çš„ StateFlow</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _uiState = MutableStateFlow(UserUiState())
    <span class="hljs-comment">// å…¬å¼€åªè¯»çš„ StateFlow</span>
    <span class="hljs-keyword">val</span> uiState: StateFlow&lt;UserUiState&gt; = _uiState.asStateFlow()
    
    <span class="hljs-comment">// å¯†å°ç±»å®šä¹‰ UI çŠ¶æ€</span>
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserUiState</span>(
        <span class="hljs-keyword">val</span> users: List&lt;User&gt; = emptyList(),
        <span class="hljs-keyword">val</span> loading: <span class="hljs-built_in">Boolean</span> = <span class="hljs-literal">false</span>,
        <span class="hljs-keyword">val</span> error: String? = <span class="hljs-literal">null</span>
    )
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadUsers</span><span class="hljs-params">()</span></span> {
        _uiState.update { it.copy(loading = <span class="hljs-literal">true</span>, error = <span class="hljs-literal">null</span>) }
        viewModelScope.launch {
            repository.getUsers()
                .onSuccess { users -&gt;
                    _uiState.update { it.copy(users = users, loading = <span class="hljs-literal">false</span>) }
                }
                .onFailure { error -&gt;
                    _uiState.update { 
                        it.copy(error = error.message, loading = <span class="hljs-literal">false</span>) 
                    }
                }
        }
    }
}
</code></pre>
<h2 data-id="heading-22">å…«ã€æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-23">8.1 æ¨èçš„æ¶æ„æ¨¡å¼</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// 1. ViewModel è´Ÿè´£ä¸šåŠ¡é€»è¾‘</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductViewModel</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> getProductsUseCase: GetProductsUseCase,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> savedStateHandle: SavedStateHandle
) : ViewModel() {
    
    <span class="hljs-comment">// 2. ä½¿ç”¨ StateFlow ç®¡ç†çŠ¶æ€</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _state = MutableStateFlow(ProductState())
    <span class="hljs-keyword">val</span> state = _state.asStateFlow()
    
    <span class="hljs-comment">// 3. ä½¿ç”¨ SavedStateHandle ä¿å­˜ä¸´æ—¶çŠ¶æ€</span>
    <span class="hljs-keyword">var</span> searchQuery: String
        <span class="hljs-keyword">get</span>() = savedStateHandle[<span class="hljs-string">"search_query"</span>] ?: <span class="hljs-string">""</span>
        <span class="hljs-keyword">set</span>(value) { savedStateHandle[<span class="hljs-string">"search_query"</span>] = value }
    
    <span class="hljs-comment">// 4. ä½¿ç”¨åç¨‹å¤„ç†å¼‚æ­¥æ“ä½œ</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadProducts</span><span class="hljs-params">()</span></span> {
        viewModelScope.launch {
            _state.update { it.copy(isLoading = <span class="hljs-literal">true</span>) }
            <span class="hljs-keyword">val</span> result = getProductsUseCase(searchQuery)
            _state.update { it.copy(
                products = result,
                isLoading = <span class="hljs-literal">false</span>
            ) }
        }
    }
}

<span class="hljs-comment">// 5. æ•°æ®ç±»å®šä¹‰çŠ¶æ€</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductState</span>(
    <span class="hljs-keyword">val</span> products: List&lt;Product&gt; = emptyList(),
    <span class="hljs-keyword">val</span> isLoading: <span class="hljs-built_in">Boolean</span> = <span class="hljs-literal">false</span>,
    <span class="hljs-keyword">val</span> error: String? = <span class="hljs-literal">null</span>
)
</code></pre>
<h3 data-id="heading-24">8.2 æ³¨æ„äº‹é¡¹</h3>
<ol>
<li><strong>ä¸è¦æŒæœ‰ Context å¼•ç”¨</strong>ï¼ˆå¦‚æœéœ€è¦ï¼Œä½¿ç”¨ AndroidViewModelï¼‰</li>
<li><strong>é¿å…ç›´æ¥æš´éœ² MutableLiveData/MutableStateFlow</strong></li>
<li><strong>ä½¿ç”¨å•å‘æ•°æ®æµ</strong>ï¼ˆUI â†’ ViewModel â†’ Repositoryï¼‰</li>
<li><strong>æ­£ç¡®å¤„ç†é…ç½®å˜æ›´</strong>ï¼ˆä½¿ç”¨ SavedStateHandleï¼‰</li>
<li><strong>åŠæ—¶æ¸…ç†èµ„æº</strong>ï¼ˆé‡å†™ onCleared æ–¹æ³•ï¼‰</li>
</ol>
<h3 data-id="heading-25">8.3 ä½¿ç”¨ AndroidViewModelï¼ˆéœ€è¦ Context æ—¶ï¼‰</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAndroidViewModel</span>(
    application: Application,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> repository: MyRepository
) : AndroidViewModel(application) {
    
    <span class="hljs-comment">// å¯ä»¥å®‰å…¨åœ°ä½¿ç”¨ application context</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> context = getApplication&lt;Application&gt;().applicationContext
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">doSomething</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// ä½¿ç”¨ context</span>
        <span class="hljs-keyword">val</span> packageName = context.packageName
    }
}
</code></pre>
<h2 data-id="heading-26">ä¹ã€æµ‹è¯• ViewModel</h2>
<h3 data-id="heading-27">9.1 å•å…ƒæµ‹è¯•ç¤ºä¾‹</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@RunWith(JUnit4::class)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserViewModelTest</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> viewModel: UserViewModel
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> mockRepository = mockk&lt;UserRepository&gt;()
    
    <span class="hljs-meta">@Before</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span></span> {
        viewModel = UserViewModel(mockRepository)
    }
    
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> myTest = runTest {</span>
        <span class="hljs-comment">// Given</span>
        <span class="hljs-keyword">val</span> mockUsers = listOf(User(<span class="hljs-string">"1"</span>, <span class="hljs-string">"John"</span>))
        coEvery { mockRepository.getUsers() } returns Result.success(mockUsers)
        
        <span class="hljs-comment">// When</span>
        viewModel.loadUsers()
        
        <span class="hljs-comment">// Then</span>
        viewModel.uiState.test {
            <span class="hljs-keyword">val</span> initialState = awaitItem()
            assertTrue(initialState.loading)
            
            <span class="hljs-keyword">val</span> finalState = awaitItem()
            assertFalse(finalState.loading)
            assertEquals(mockUsers, finalState.users)
        }
    }
}
</code></pre>
<h2 data-id="heading-28">åã€æ€»ç»“</h2>
<p>ViewModel æ˜¯ Android æ¶æ„çš„æ ¸å¿ƒç»„ä»¶ï¼š</p>
<ol>
<li><strong>ç®¡ç† UI æ•°æ®</strong>çš„ç”Ÿå‘½å‘¨æœŸ</li>
<li><strong>åœ¨é…ç½®å˜æ›´æ—¶ä¿ç•™æ•°æ®</strong></li>
<li><strong>ä¿ƒè¿›å…³æ³¨ç‚¹åˆ†ç¦»</strong>ï¼ˆUI é€»è¾‘ vs ä¸šåŠ¡é€»è¾‘ï¼‰</li>
<li><strong>ä¾¿äºæµ‹è¯•</strong>ï¼ˆä¸ä¾èµ– Android ç»„ä»¶ï¼‰</li>
<li><strong>æ”¯æŒæ•°æ®å…±äº«</strong>ï¼ˆåœ¨ Fragment ä¹‹é—´ï¼‰</li>
</ol>
<p>æ­£ç¡®ä½¿ç”¨ ViewModel å¯ä»¥å¤§å¤§æé«˜åº”ç”¨çš„å¯ç»´æŠ¤æ€§ã€å¯æµ‹è¯•æ€§å’Œç¨³å®šæ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸­æ–­çš„ç†è§£ä¸ä»£ç å®ç°]]></title>    <link>https://juejin.cn/post/7602440800295813166</link>    <guid>https://juejin.cn/post/7602440800295813166</guid>    <pubDate>2026-02-03T10:24:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602440800295813166" data-draft-id="7601144981171372082" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸­æ–­çš„ç†è§£ä¸ä»£ç å®ç°"/> <meta itemprop="keywords" content="åµŒå…¥å¼"/> <meta itemprop="datePublished" content="2026-02-03T10:24:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RobotMu"/> <meta itemprop="url" content="https://juejin.cn/user/2684353293115578"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸­æ–­çš„ç†è§£ä¸ä»£ç å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2684353293115578/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RobotMu
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T10:24:25.000Z" title="Tue Feb 03 2026 10:24:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ä¸­æ–­</h2>
<h3 data-id="heading-1">ä¸­æ–­å®šä¹‰</h3>
<p>ä¸­æ–­æ˜¯æŒ‡åœ¨ä¸»ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå‡ºç°äº†ç‰¹å®šçš„ä¸­æ–­è§¦å‘æ¡ä»¶ï¼ˆ<strong>ä¸­æ–­æº</strong>ï¼‰ï¼Œä½¿å¾— CPU æš‚åœå½“å‰æ­£åœ¨è¿è¡Œçš„ç¨‹åºï¼Œè½¬è€Œå»å¤„ç†ä¸­æ–­ç¨‹åºï¼Œå¤„ç†å®Œæˆååˆè¿”å›åŸæ¥è¢«æš‚åœçš„ä½ç½®ç»§ç»­è¿è¡Œã€‚</p>
<h3 data-id="heading-2">å…·è±¡ç†è§£</h3>
<p>ä¸­æ–­å’Œç”Ÿæ´»ä¸­çš„ä¸­æ–­å·®ä¸å¤šï¼Œæ¯”å¦‚æˆ‘ä»¬æ­£åœ¨é—²é€‚åœ°çœ‹ä¹¦å‘¢ï¼ˆ<code>ä¸»ç¨‹åº</code>ï¼‰ï¼Œçªç„¶å¯¼å¸ˆå‘æ¥ä¸€æ¡æ¶ˆæ¯ï¼ˆ<code>ä¸­æ–­æº</code>ï¼‰ï¼Œè¯´è®ºæ–‡å†™æ€ä¹ˆæ ·äº†ï¼Œè¿™æ—¶å€™å°±ä¸å¾—ä¸æ”¾ä¸‹ä¹¦æœ¬å¤¹å¥½ä¹¦ç­¾ï¼Œèµ¶ç´§è½¬å»å†™è®ºæ–‡ï¼ˆ<code>å¤„ç†ä¸­æ–­</code>ï¼‰å¥½è·Ÿè€å¸ˆäº¤å·®ï¼Œç„¶åå†é‡æ–°äº«å—è¯»ä¹¦æ—¶å…‰ï¼ˆ<code>è¿”å›ä¸»ç¨‹åºç»§ç»­æ‰§è¡Œ</code>ï¼‰ã€‚</p>
<p>ä¸­æ–­ç³»ç»Ÿçš„å¥½å¤„æ˜¯æ•ˆç‡æ›´é«˜ï¼Œ<strong>åªæœ‰å‡ºç°ä¸­æ–­è§¦å‘æ¡ä»¶</strong>ï¼Œæ‰ä¼šå»æ‰§è¡Œä¸­æ–­ã€‚</p>
<p>è¿˜æ˜¯ä¸Šé¢çš„ä¾‹å­ï¼Œä½ çš„è®¡åˆ’æ˜¯åœ¨å¯¼å¸ˆå‚¬ä¿ƒå†™è®ºæ–‡ä¹‹å‰çœ‹ä¼šä¹¦ï¼Œæ²¡æœ‰ä¸­æ–­æœºåˆ¶çš„ç³»ç»Ÿ belikeï¼š</p>
<blockquote>
<p>åªèƒ½è¾¹çœ‹ä¹¦è¾¹æ§ç€æ‰‹æœºæ‰“å¼€èŠå¤©æ¡†ï¼Œç›¯ç€è€å¸ˆçš„å¤´åƒåå¤æŸ¥çœ‹æœ‰æ²¡æœ‰æ¶ˆæ¯è¿‡æ¥ï¼ˆ<strong>è½®è¯¢</strong>ï¼‰</p>
</blockquote>
<p>ä½†æ˜¯æœ‰ä¸­æ–­å°±ä¸ä¸€æ ·å•¦ï¼Œåªç®¡çœ‹ä¹¦å°±è¡Œï¼Œæ”¶åˆ°å¯¼å¸ˆæ¶ˆæ¯å†å¤„ç†å°±å¯ä»¥å•¦ã€‚</p>
<h3 data-id="heading-3">ä¸­æ–­ä¼˜å…ˆçº§</h3>
<p>ä¸­æ–­ä¹Ÿæ˜¯æœ‰ä¼˜å…ˆçº§çš„ï¼Œå¥½æ¯”çœ‹ä¹¦çš„æ—¶å€™åŒæ—¶æ¥äº†ä¸¤ä»¶äº‹ï¼Œ<em>ä¸€è¾¹æ˜¯å¯¼å¸ˆçš„Pushä¿¡æ¯ï¼Œä¸€è¾¹æ˜¯å¥½å“¥ä»¬çš„æµ·å…‹æ–¯å¤§ä¹±æ–—é‚€è¯·</em>ï¼Œä½ é€‰å“ªä¸ªå…ˆå¤„ç†ï¼Ÿåœ¨è¿™ä¸ªä¾‹å­ä¸­å‰è€…çš„<strong>ä¼˜å…ˆçº§æ˜æ˜¾æ›´é«˜ï¼Œæ‰€ä»¥ä¼šä¼˜å…ˆå¤„ç†</strong>ã€‚è¿™å°±æ˜¯ä¼˜å…ˆçš„æ¦‚å¿µã€‚</p>
<h4 data-id="heading-4">æŠ¢å  / å“åº”ä¼˜å…ˆçº§</h4>
<p>ä¼˜å…ˆçº§åˆ†ä¸ºä¸¤ç§ï¼šæŠ¢å ä¼˜å…ˆçº§å’Œå“åº”ä¼˜å…ˆçº§ï¼Œ<strong>æŠ¢å å¯ä»¥ç†è§£æˆèƒ½ä¸èƒ½æ’é˜Ÿï¼Œå“åº”åˆ™æ˜¯æ€ä¹ˆæ’é˜Ÿ</strong>ã€‚ä¸¤ç§ä¼˜å…ˆçº§éƒ½éµå¾ª<strong>æ•°å­—è¶Šå°ï¼Œä¼˜å…ˆçº§è¶Šé«˜</strong>çš„è§„å¾‹ï¼Œä¸”<strong>æŠ¢å ä¼˜å…ˆçº§é«˜äºå“åº”ä¼˜å…ˆçº§</strong>ï¼Œæˆ–è€…è¯´å…ˆæ¯”è¾ƒæŠ¢å å†æ¯”è¾ƒå“åº”ã€‚</p>
<p><strong>åœ¨<code>CPU</code>çš„ä¸–ç•Œé‡Œæ²¡æœ‰å…ˆæ¥ååˆ°ï¼Œå®Œå…¨æŒ‰è½»é‡ç¼“æ€¥æ¥å†³å®šæ‰§è¡Œé¡ºåºã€‚</strong></p>
<blockquote>
<p>è¿™é‡Œæˆ‘ä»¬ä»¥åŒ»é™¢å«å·çš„ä¾‹å­æ¥ç†è§£ï¼Œæ¯ä¸€ä½æ¥åŒ»é™¢å°±è¯Šçš„ç—…äººåœ¨ç³»ç»Ÿä¸­éƒ½æœ‰ä¸¤ç§ä¿¡æ¯ï¼Œç¬¬ä¸€æ¡ä¿¡æ¯è¡¨ç¤ºæ‚£è€…æ˜¯æ€¥è¯Šè¿˜æ˜¯å¸¸è§„å°±è¯Šï¼ˆ<strong>æŠ¢å ä¼˜å…ˆçº§</strong>ï¼‰ï¼Œç¬¬äºŒæ¡ä¿¡æ¯è¡¨ç¤ºæ‚£è€…çš„å…·ä½“ç—…æƒ…ï¼ˆ<strong>å“åº”ä¼˜å…ˆçº§</strong>ï¼‰ã€‚</p>
<p>è¯Šå®¤é‡Œæœ‰ä½ç—…äººæ­£åœ¨å°±è¯Šä¸­ï¼Œèµ°çš„å¸¸è§„å°±è¯Šé€šé“ï¼Œä½†è¿™æ—¶å€™çªç„¶é€æ¥äº†ä¸€ä½æ€¥è¯Šæ‚£è€…ï¼Œ<strong>æƒ…å†µæ›´åŠ ç´§æ€¥</strong>ï¼Œå°±ä¼šæ‰“æ–­å½“å‰æ‚£è€…çš„å°±è¯Šè¿‡ç¨‹ä¼˜å…ˆæ²»ç–—ï¼›å½“å¤šåæ‚£è€…éƒ½æ˜¯æ€¥è¯Šæˆ–å¸¸è§„å°±è¯Šæ—¶ï¼Œå…·ä½“çš„å°±è¯Šé¡ºåºå°±ç”±ç¬¬äºŒæ¡ä¿¡æ¯å†³å®šï¼Œæ¯”å¦‚ä¸€ä½æ‚£è€…æ„Ÿå†’ä¸€ä½æ‚£è€…éª¨æŠ˜ï¼Œåˆ™éª¨æŠ˜æ‚£è€…ä¼˜å…ˆå«å·ã€‚ä½†æ˜¯å¦‚æœæ„Ÿå†’æ‚£è€…å·²ç»åœ¨å°±è¯Šä¸­ï¼Œéª¨æŠ˜æ‚£è€…æ˜¯<strong>æ²¡æ³•æ’é˜Ÿ</strong>çš„ã€‚</p>
</blockquote>
<h3 data-id="heading-5">ä¸­æ–­åµŒå¥—</h3>
<p>è¿˜æœ‰ä¸€ç§ç°è±¡å«ä¸­æ–­åµŒå¥—ï¼Œä¸­æ–­åµŒå¥—å°±æ˜¯ä½ æ­£çœ‹ä¹¦å‘¢ï¼Œç„¶åæ”¶åˆ°äº†å¥½å“¥ä»¬çš„å¤§ä¹±æ–—é‚€è¯·ï¼Œè½¬åˆ°ç©æ¸¸æˆä¸­å»äº†ï¼Œæ‰“ç€æ‰“ç€æ”¶åˆ°äº†è€å¸ˆçš„æ¶ˆæ¯ ...</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05121ae673e040c09f425fc60f299e74~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ib3RNdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770719067&amp;x-signature=PAlLnUGusn9%2FUnAtb3z26ynskic%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-6">EXTI å¤–éƒ¨ä¸­æ–­å­¦ä¹ ç¬”è®°</h2>
<h3 data-id="heading-7">EXTI ç®€ä»‹</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a0a173dc3d049b2836bc6cfc527a7c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ib3RNdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770719067&amp;x-signature=gcUT%2BzVPfEw9PFODtSGHrN2IEHM%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>
<p>ç¬¬ä¸‰ç‚¹ï¼šä¸Šå‡æ²¿æŒ‡ä½ç”µå¹³å˜ä¸ºé«˜ç”µå¹³è§¦å‘ä¸­æ–­ï¼ˆä¸‹é™æ²¿ç›¸åï¼‰ï¼›åŒè¾¹æ²¿æŒ‡åªè¦ç”µå¹³å‘ç”Ÿå˜åŒ–ï¼Œå°±è§¦å‘ä¸­æ–­ï¼›<strong>è½¯ä»¶è§¦å‘</strong>æ˜¯æŒ‡<code>CPU</code>ä¸»åŠ¨è®©<code>EXTI</code>å‡è£…è¢«è§¦å‘äº†ä¸€æ¬¡ï¼Œç„¶å<strong>å®Œæ•´åœ°èµ°ä¸€éæ­£å¸¸è§¦å‘ä¸­æ–­</strong>çš„æµç¨‹ï¼ŒåŒºåˆ«å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>æ­£å¸¸æµç¨‹ï¼šç”µå¹³å˜åŒ– --- è§¦å‘ä¸­æ–­ --- æ‰§è¡Œä¸­æ–­ç¨‹åº</p>
<p>è½¯ä»¶è§¦å‘ï¼šä»£ç è®¾ç½® --- è§¦å‘ä¸­æ–­ --- æ‰§è¡Œä¸­æ–­ç¨‹åº</p>
</blockquote>
</li>
<li>
<p>ç¬¬å››ç‚¹ï¼šç›¸åŒçš„<code>Pin</code>ä¸èƒ½åŒæ—¶è§¦å‘ä¸­æ–­æ˜¯ç”±å†…éƒ¨ç¡¬ä»¶ç»“æ„å†³å®šçš„ï¼ŒSTM32é‡Œåªæœ‰<code>16</code>æ¡<code>EXTI</code>çº¿ï¼Œä¸æ˜¯<code>PA0</code>ä¸€æ¡ï¼Œ<code>PB0</code>ä¸€æ¡ï¼Œè€Œæ˜¯æ‰€æœ‰çš„<code>x0</code>å¼•è„šå…±ç”¨<code>EXTI0</code>ã€‚<em>å°±åƒåªæœ‰ä¸€ä¸ªæ’åº§ï¼Œä½†æ˜¯æœ‰å¤šä¸ªæ’å¤´éƒ½å¯ä»¥æ’</em>ã€‚</p>
</li>
<li>
<p>ç¬¬å…­ç‚¹ï¼šå½“ä¸­æ–­æ¡ä»¶è§¦å‘æ—¶ï¼Œæ—¢å¯ä»¥é€‰æ‹©è§¦å‘ä¸­æ–­ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©è§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œæ­¤æ—¶å¤–éƒ¨ä¸­æ–­çš„ä¿¡å·ä¸ä¼šé€šå‘<code>CPU</code>ï¼Œè€Œæ˜¯é€šå‘å…¶ä»–å¤–è®¾ï¼Œç”¨æ¥è§¦å‘å…¶ä»–å¤–è®¾çš„æ“ä½œã€‚</p>
<blockquote>
<p>è¿™é‡Œçš„äº‹ä»¶æ˜¯ä»€ä¹ˆè¿˜æ²¡ææ¸…æ¥šï¼ŒåªçŸ¥é“<strong>ä¸æ˜¯æˆ‘ä»¬æƒ³çš„è‡ªå·±ç¼–å†™çš„å‡½æ•°</strong></p>
</blockquote>
</li>
</ul>
<hr/>
<h3 data-id="heading-8">STM32ä¹‹ç¼–å†™ä¸­æ–­å‡½æ•°</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/197364c363b8482a9e66ae7ffc044e87~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ib3RNdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770719067&amp;x-signature=zyeO1b1LVNnY%2BCF40rua7C0EIXA%3D" alt="image-20260202194433449.png" loading="lazy"/></p>
<p>åœ¨ç¼–å†™ä¸­æ–­å‡½æ•°æ—¶ï¼Œå€ŸåŠ©å†…éƒ¨çš„ç»“æ„å›¾å¯ä»¥æ›´å¥½åœ°ç†æ¸…æ€ç»ªï¼Œ<strong>é€»è¾‘ä¸Šå°±æ˜¯æ­å»ºä¸€ä¸ªå®Œæ•´çš„ä»<code>GPIO</code>å¤–è®¾åˆ°<code>NVIC</code>çš„é“¾è·¯ã€‚</strong></p>
<h4 data-id="heading-9">å…·ä½“æ­¥éª¤</h4>
<blockquote>
<ol>
<li>é…ç½®RCCï¼ŒæŠŠæˆ‘ä»¬è¿™é‡Œæ¶‰åŠçš„å¤–è®¾çš„æ—¶é’Ÿéƒ½æ‰“å¼€ï¼›</li>
<li>é…ç½®GPIOï¼Œé€‰æ‹©æˆ‘ä»¬çš„ç«¯å£ä¸ºè¾“å…¥æ¨¡å¼ï¼›</li>
<li>é…ç½®AFIOï¼Œé€‰æ‹©æˆ‘ä»¬ç”¨çš„è¿™ä¸€è·¯GPIOï¼Œè¿æ¥åˆ°åé¢çš„EXTIï¼›</li>
<li>é…ç½®EXTIï¼Œé€‰æ‹©è¾¹æ²¿è§¦å‘æ–¹å¼ï¼Œæ¯”å¦‚ä¸Šå‡æ²¿ï¼Œä¸‹é™æ²¿æˆ–è€…åŒè¾¹æ²¿ï¼›è¿˜æœ‰é€‰æ‹©è§¦å‘ç›¸åº”æ–¹å¼ï¼Œå¯ä»¥é€‰æ‹©<strong>ä¸­æ–­å“åº”ï¼ˆä¸€èˆ¬éƒ½æ˜¯è¿™ä¸ªï¼‰</strong> å’Œäº‹ä»¶å“åº”ï¼›</li>
<li>é…ç½®NVICï¼Œç»™æˆ‘ä»¬è¿™ä¸ªä¸­æ–­é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ä¼˜å…ˆçº§ï¼›</li>
</ol>
<p>æœ€åé€šè¿‡NVICï¼Œå¤–éƒ¨ä¸­æ–­ä¿¡å·å°±èƒ½è¿›å…¥CPUäº†ï¼›</p>
</blockquote>
<p>é€šè¿‡<strong>å¯¹å°„å¼çº¢å¤–ä¼ æ„Ÿå™¨è®¡æ¬¡</strong>çš„å…·ä½“ä»£ç å®ç°å¯ä»¥çœ‹å¾—æ›´æ¸…æ¥šï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"stm32f10x.h"</span>                  <span class="hljs-comment">// Device header</span></span>

<span class="hljs-type">uint16_t</span> CountSensor_Count;

<span class="hljs-type">void</span> <span class="hljs-title function_">CountSensor_Init</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>
{
	<span class="hljs-comment">// 1ã€é…ç½®RCCï¼ŒæŠŠæˆ‘ä»¬è¿™é‡Œæ¶‰åŠçš„å¤–è®¾çš„æ—¶é’Ÿéƒ½æ‰“å¼€ï¼ˆGPIO AFIO EXTI NVIC)</span>
    RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB, ENABLE);
	RCC_APB2PeriphClockCmd(RCC_APB2Periph_AFIO, ENABLE);
	<span class="hljs-comment">// EXTIå’ŒNVICä¸¤ä¸ªå¤–è®¾çš„æ—¶é’Ÿæ˜¯ä¸€ç›´å¼€ç€çš„ï¼Œä¸éœ€è¦è®¾ç½®</span>
	
    <span class="hljs-comment">// 2ã€é…ç½®GPIOï¼Œå’Œå‰é¢ä¸€æ ·</span>
	GPIO_InitTypeDef GPIO_InitStruct;
	GPIO_InitStruct.GPIO_Mode = GPIO_Mode_IPU;
	GPIO_InitStruct.GPIO_Pin = GPIO_Pin_14;
	GPIO_InitStruct.GPIO_Speed = GPIO_Speed_50MHz;
	GPIO_Init(GPIOB, &amp;GPIO_InitStruct);
	
    <span class="hljs-comment">// 3ã€é…ç½®AFIOï¼Œé€‰æ‹©æˆ‘ä»¬ç”¨çš„è¿™ä¸€è·¯GPIOï¼Œè¿æ¥åˆ°åé¢çš„EXTI</span>
	GPIO_EXTILineConfig(GPIO_PortSourceGPIOB, GPIO_PinSource14);
	
    <span class="hljs-comment">// 4ã€é…ç½®EXTIï¼Œé€‰æ‹©è¾¹æ²¿è§¦å‘æ–¹å¼ï¼Œé€‰æ‹©è§¦å‘å“åº”æ–¹å¼ç­‰</span>
	EXTI_InitTypeDef EXTI_InitStruct;
	EXTI_InitStruct.EXTI_Line = EXTI_Line14; 				<span class="hljs-comment">//	EXTI14å·çº¿ </span>
	EXTI_InitStruct.EXTI_LineCmd = ENABLE; 					<span class="hljs-comment">// 	å¼€å¯ä¸­æ–­</span>
	EXTI_InitStruct.EXTI_Mode = EXTI_Mode_Interrupt; 		<span class="hljs-comment">// 	å“åº”æ–¹å¼ä¸ºä¸­æ–­å“åº”</span>
	EXTI_InitStruct.EXTI_Trigger = EXTI_Trigger_Falling; 	<span class="hljs-comment">// 	ä¸‹é™æ²¿</span>
	EXTI_Init(&amp;EXTI_InitStruct);
	
    <span class="hljs-comment">// 5ã€é…ç½®NVICï¼Œç»™æˆ‘ä»¬è¿™ä¸ªä¸­æ–­é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ä¼˜å…ˆçº§</span>
	
	<span class="hljs-comment">// åœ¨é…ç½®ä¸­æ–­ä¹‹å‰ï¼Œå…ˆæŒ‡å®šä¸€ä¸‹ä¸­æ–­çš„åˆ†ç»„ï¼Œè¿™é‡Œé€‰äº†2ä½æŠ¢å 2ä½å“åº”</span>
	NVIC_PriorityGroupConfig(NVIC_PriorityGroup_2);
	
	NVIC_InitTypeDef  NVIC_InitStruct;
	NVIC_InitStruct.NVIC_IRQChannel = EXTI15_10_IRQn; <span class="hljs-comment">// å› ä¸ºæˆ‘ä»¬è®¾ç½®çš„EXTI14</span>
	NVIC_InitStruct.NVIC_IRQChannelCmd = ENABLE;
	NVIC_InitStruct.NVIC_IRQChannelPreemptionPriority = <span class="hljs-number">1</span>; <span class="hljs-comment">// æŠ¢å ä¼˜å…ˆçº§</span>
	NVIC_InitStruct.NVIC_IRQChannelSubPriority = <span class="hljs-number">1</span>; <span class="hljs-comment">// å“åº”ä¼˜å…ˆçº§</span>
	NVIC_Init(&amp;NVIC_InitStruct);
	
}

<span class="hljs-type">uint16_t</span> <span class="hljs-title function_">CountSensor_Get</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>
{
	<span class="hljs-keyword">return</span> CountSensor_Count;
}


<span class="hljs-comment">// ä¸­æ–­å‡½æ•°çš„åå­—éƒ½æ˜¯å›ºå®šï¼Œå»ºè®®ç›´æ¥ä»å¯åŠ¨æ–‡ä»¶ï¼ˆStartç¬¬ä¸€ä¸ªï¼‰å¤åˆ¶</span>
<span class="hljs-type">void</span> <span class="hljs-title function_">EXTI15_10_IRQHandler</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>
{
	<span class="hljs-keyword">if</span>(EXTI_GetITStatus(EXTI_Line14) == SET) <span class="hljs-comment">// åˆ¤æ–­æ ‡å¿—ä½</span>
	{
		CountSensor_Count++;
		EXTI_ClearITPendingBit(EXTI_Line14); <span class="hljs-comment">// æ¸…é™¤æ ‡å¿—ä½</span>
	}
}

</code></pre>
<h4 data-id="heading-10">ä»£ç å°è®°</h4>
<ul>
<li>
<p>å’Œä½¿ç”¨<code>GPIO</code>å¤–è®¾æ˜¯ä¸€æ ·çš„æµç¨‹ï¼Œéƒ½æ˜¯<strong>æ‰“å¼€æ—¶é’Ÿç„¶ååˆå§‹åŒ–</strong>ï¼Œè€Œ<code>EXTI</code>å’Œ<code>NVIC</code>çš„æ—¶é’Ÿæœ¬æ¥å°±æ˜¯å¼€ç€çš„ï¼Œæ‰€ä»¥æ²¡æœ‰æ‰“å¼€æ—¶é’Ÿè¿™ä¸€æ­¥ï¼›</p>
</li>
<li>
<p>åˆå§‹åŒ–éƒ½æ˜¯åŒæ ·çš„å¥—è·¯ï¼Œç”šè‡³åå­—å½¢å¼ä¸Šä¹Ÿæ˜¯ç»Ÿä¸€çš„ï¼Œ<strong>é™¤äº†<code>AFIO</code>çš„é…ç½®å¤–ï¼Œå¦å¤–<code>NVIC</code>åˆå§‹åŒ–ä¹‹å‰</strong>éœ€è¦æŒ‡å®šä¼˜å…ˆçº§çš„åˆ†ç»„ç±»å‹ã€‚å…¶å¥—è·¯å¦‚ä¸‹ï¼š</p>
</li>
</ul>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// æ ¹æ®è¦é…ç½®çš„å¤–è®¾æ¥å®šä¹‰ç»“æ„ä½“å˜é‡</span>
Which__InitTypeDef  Which_InitStruct;

<span class="hljs-comment">// ç”¨.çš„æ–¹å¼è®¿é—®ç»“æ„ä½“æ•°æ®ï¼ˆè¿™é‡Œä¼šè‡ªåŠ¨å¼¹å‡ºï¼Œä¸ç”¨æ­»è®°ï¼‰</span>
Which_InitStruct.Which = ... ;
...
Which_InitStruct.Which = ... ;

<span class="hljs-comment">// å¯¹ç»“æ„ä½“å˜é‡å–å€¼ä½œä¸ºå‚æ•°ä¼ å…¥Initå‡½æ•°ï¼ˆè¿™é‡Œçš„å‚æ•°æ ¹æ®è‡ªåŠ¨å¼¹å‡ºçš„æç¤ºæ¥å¡«å°±è¡Œï¼Œæœ‰æ—¶å€™ä¸æ­¢ä¸€ä¸ªï¼Œæ¯”å¦‚GPIOï¼‰</span>
Which_Init(&amp;Which_InitStruct);
</code></pre>
<ul>
<li>
<p>é…ç½®å®Œå„ä¸ªå¤–è®¾ä¹‹åå°±æ˜¯å†™ä¸­æ–­å‡½æ•°ï¼Œéœ€è¦æ³¨æ„ä¸­æ–­å‡½æ•°çš„å¤´æ˜¯å›ºå®šçš„ï¼ˆä¸¤ä¸ª<code>void</code>ï¼‰ï¼Œå¯¹åº”çš„<strong>å‡½æ•°åä¹Ÿæ˜¯å›ºå®š</strong>çš„ï¼Œéœ€è¦æ ¹æ®æˆ‘ä»¬ä½¿ç”¨çš„<code>EXTI</code>çº¿è·¯æ¥å¯¹åº”é€‰æ‹©ï¼Œæ¯”å¦‚æˆ‘ä»¬ä½¿ç”¨äº†<code>EXTI14</code>å·çº¿ï¼Œå¯¹åº”çš„å°±æ˜¯<code>EXTI15_10_IRQHandler</code>;</p>
</li>
<li>
<p>å’Œæ ‡å¿—ä½æœ‰å…³çš„å››ä¸ªå‡½æ•°</p>
</li>
</ul>
<pre><code class="hljs language-c" lang="c">FlagStatus <span class="hljs-title function_">EXTI_GetFlagStatus</span><span class="hljs-params">(<span class="hljs-type">uint32_t</span> EXTI_Line)</span>;
<span class="hljs-type">void</span> <span class="hljs-title function_">EXTI_ClearFlag</span><span class="hljs-params">(<span class="hljs-type">uint32_t</span> EXTI_Line)</span>;
ITStatus <span class="hljs-title function_">EXTI_GetITStatus</span><span class="hljs-params">(<span class="hljs-type">uint32_t</span> EXTI_Line)</span>;
<span class="hljs-type">void</span> <span class="hljs-title function_">EXTI_ClearITPendingBit</span><span class="hljs-params">(<span class="hljs-type">uint32_t</span> EXTI_Line)</span>;
</code></pre>
<blockquote>
<p><code>EXTI</code>çº¿è§¦å‘ä¹‹åï¼ˆ<code>Flag</code>æ ‡å¿—ä½ï¼‰ï¼Œä¼šåˆ†æˆä¸¤æ¡è·¯å¾„èµ°ï¼Œ<strong>ä¸€ç§æ˜¯äº‹ä»¶ï¼Œä¸€ç§æ˜¯ä¸­æ–­</strong>ï¼›</p>
<p>å‰ä¸¤ä¸ªå‡½æ•°å¤„ç†çš„æ ‡å¿—ä½æ˜¯ç”¨äºè¯´æ˜æŸæ¡<code>EXTI</code>çº¿æ˜¯å¦è¢«è§¦å‘è¿‡ï¼Œåä¸¤ä¸ªå‡½æ•°å¤„ç†çš„æ ‡å¿—ä½æ˜¯ç”¨äºè¯´æ˜æŸæ¡<code>EXTI</code>çº¿æ˜¯å¦è¢«é…ç½®ä¸ºä¸­æ–­ï¼Œå¹¶ä¸”çœŸçš„èµ°äº†ä¸­æ–­è¿™æ¡è·¯ï¼›</p>
<p><strong>ç»éªŒæ³•åˆ™</strong>ï¼šåœ¨ä¸­æ–­å‡½æ•°ä¸­æ¨èç”¨åä¸¤ä¸ªå‡½æ•°ã€‚</p>
</blockquote>
<ul>
<li>å…³äºä¸­æ–­å‡½æ•°</li>
</ul>

<pre><code class="hljs language-scss" lang="scss">void <span class="hljs-built_in">EXTI15_10_IRQHandler</span>(void)
{
    <span class="hljs-built_in">if</span>(EXTI_GetITStatus(EXTI_Line14) == SET) <span class="hljs-comment">// åˆ¤æ–­æ ‡å¿—ä½</span>
    {
        CountSensor_Count++;
        <span class="hljs-built_in">EXTI_ClearITPendingBit</span>(EXTI_Line14); <span class="hljs-comment">// æ¸…é™¤æ ‡å¿—ä½</span>
    }
}
</code></pre>
<p>ä¸ºä»€ä¹ˆè¿™é‡Œè¦åˆ¤æ–­ä¸€ä¸‹ä¸­æ–­æ ‡å¿—ä½å‘¢ï¼Ÿå› ä¸º<code>EXTI 10 ~ 15</code>å·çº¿ï¼Œå…±ç”¨åŒä¸€ä¸ªä¸­æ–­å…¥å£ï¼Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­æ˜¯ä¸æ˜¯14å·çº¿è§¦å‘çš„ï¼Œç„¶åæ‰§è¡Œç›¸åº”çš„é€»è¾‘ï¼Œ<strong>å†æ¸…é™¤å¯¹åº”çš„æ ‡å¿—ä½</strong>ï¼ˆä¸æ¸…é™¤å°±å¡æ­»åœ¨ä¸­æ–­é‡Œäº†ï¼ï¼ï¼‰ã€‚</p>
<p>å…¶å†…éƒ¨æ´»åŠ¨ç±»ä¼¼ä¸‹é¢ï¼š</p>
<blockquote>
<p>CPUï¼šæˆ‘è¢«å«è¿› EXTI15_10 ä¸­æ–­äº†</p>
<p>CPUï¼šå…ˆçœ‹çœ‹æ˜¯ä¸æ˜¯ 14 å·çº¿åœ¨å«æˆ‘</p>
<p>å¦‚æœæ˜¯ï¼šæ‰§è¡Œå’Œ 14 å·çº¿ç›¸å…³çš„é€»è¾‘ + æŠŠ 14 å·çº¿çš„å°çº¢ç¯å…³æ‰</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OoderAgentå®æˆ˜æŒ‡å—ï¼šå…¥å¢ƒæ¸¸æ—…è¡Œç¤¾æ¸¸å®¢é›†åˆé€šçŸ¥é‚®ä»¶å‘é€å…¨æµç¨‹]]></title>    <link>https://juejin.cn/post/7602401081265700900</link>    <guid>https://juejin.cn/post/7602401081265700900</guid>    <pubDate>2026-02-03T10:44:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602401081265700900" data-draft-id="7602411521072168979" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OoderAgentå®æˆ˜æŒ‡å—ï¼šå…¥å¢ƒæ¸¸æ—…è¡Œç¤¾æ¸¸å®¢é›†åˆé€šçŸ¥é‚®ä»¶å‘é€å…¨æµç¨‹"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-03T10:44:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OneCodeCN"/> <meta itemprop="url" content="https://juejin.cn/user/1427583415622366"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OoderAgentå®æˆ˜æŒ‡å—ï¼šå…¥å¢ƒæ¸¸æ—…è¡Œç¤¾æ¸¸å®¢é›†åˆé€šçŸ¥é‚®ä»¶å‘é€å…¨æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1427583415622366/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OneCodeCN
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T10:44:41.000Z" title="Tue Feb 03 2026 10:44:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æŒ‡å—ä»¥å…¥å¢ƒæ¸¸æ—…è¡Œç¤¾æ¸¸å®¢é›†åˆé€šçŸ¥é‚®ä»¶è‡ªåŠ¨å‘é€ä¸ºçœŸå®ä¸šåŠ¡åœºæ™¯ï¼Œä»åŸºç¡€ç¨‹åºå¼€å‘åˆ°AI AgentåŒ–éƒ¨ç½²ã€æŠ€èƒ½æ¡¥æ¥å…¨é“¾è·¯æ‹†è§£OoderAgentçš„è½åœ°æ–¹æ³•ï¼Œå……åˆ†å‘æŒ¥å…¶ä½ä»£ç ã€é«˜é€‚é…ã€è½»é‡åŒ–éƒ¨ç½²çš„ä¼˜åŠ¿ï¼Œé€‚é…æ—…è¡Œç¤¾æ— ä¸“ä¸šæœåŠ¡å™¨ã€ä¾èµ–ç®€æ˜“è®¾å¤‡ï¼ˆNAS/å…¬å…±åŠå…¬ç”µè„‘ï¼‰çš„å®é™…åŠå…¬ç¯å¢ƒï¼Œå®ç°é«˜é¢‘ä¸šåŠ¡æ“ä½œçš„AIåŒ–ææ•ˆã€‚</p>
<h2 data-id="heading-0">æ ¸å¿ƒä¸šåŠ¡éœ€æ±‚</h2>
<p>ä¸ºæ—…è¡Œç¤¾å½“å¤©æŠ¥å›¢çš„å…¥å¢ƒæ¸¸æ•£å®¢å‘é€é›†åˆé€šçŸ¥é‚®ä»¶ï¼Œæ»¡è¶³ä»¥ä¸‹æ ¸å¿ƒè¦æ±‚ï¼š</p>
<ol>
<li>é‚®ä»¶æ¥æ”¶äººï¼šä»Excelè¡¨æ ¼ä¸­è¯»å–æ¸¸å®¢é‚®ç®±åˆ—æ•°æ®ï¼›</li>
<li>æ ¸å¿ƒä¿¡æ¯ï¼šæ”¯æŒè‡ªç„¶è¯­è¨€è¾“å…¥é›†åˆåœ°ç‚¹ã€æ—¶é—´ï¼Œæ— éœ€å›ºå®šæ ¼å¼ï¼›</li>
<li>å‘ä»¶è§„èŒƒï¼šå¼ºåˆ¶ä½¿ç”¨æ—…è¡Œç¤¾ç»Ÿä¸€å¯¹å¤–é‚®ç®±ï¼Œä¿éšœå“ç‰Œä¸€è‡´æ€§ï¼›</li>
<li>æ“ä½œä¾¿æ·ï¼šä¸€çº¿å·¥ä½œäººå‘˜æ— éœ€æŠ€æœ¯èƒŒæ™¯ï¼Œè‡ªç„¶è¯­è¨€æŒ‡ä»¤å³å¯è§¦å‘æ‰§è¡Œã€‚</li>
</ol>
<p>æ’­æ”¾</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.tencent.com%2Fdeveloper%2Fvideo%2F85033" target="_blank" title="https://cloud.tencent.com/developer/video/85033" ref="nofollow noopener noreferrer">OoderAgent å®æˆ˜æŒ‡å—ï¼Œ10åˆ†é’Ÿåšä¸€ä¸ªçœŸå®åº”ç”¨ï¼ŒP2PæœåŠ¡ï¼Œé›¶æœåŠ¡ä¾èµ–</a></p>
<p>OneCode çš„è§†é¢‘</p>
<p>è§†é¢‘å†…å®¹</p>
<h2 data-id="heading-1">å®æˆ˜å››æ­¥èµ°ï¼šä»ç¨‹åºå¼€å‘åˆ°AI Agentè½åœ°</h2>
<h3 data-id="heading-2">ç¬¬ä¸€æ­¥ï¼šåŸºç¡€é‚®ä»¶å‘é€ç¨‹åºå¼€å‘&amp;æœ¬åœ°æµ‹è¯•å¯åŠ¨</h3>
<h4 data-id="heading-3">æ ¸å¿ƒå¼€å‘è¦ç‚¹</h4>
<ol>
<li>Excelæ•°æ®è§£æï¼šå¼€å‘è¡¨æ ¼è¯»å–æ¨¡å—ï¼ŒæŒ‡å®šæ¸¸å®¢é‚®ç®±åˆ—çš„è§£æè§„åˆ™ï¼Œå…¼å®¹xlsx/csvç­‰å¸¸ç”¨æ ¼å¼ï¼Œæ”¯æŒç©ºå€¼è¿‡æ»¤ã€æ ¼å¼æ ¡éªŒï¼›</li>
<li>è‡ªç„¶è¯­è¨€ä¿¡æ¯æå–ï¼šåµŒå…¥åŸºç¡€è¯­ä¹‰è§£æé€»è¾‘ï¼Œä»è¾“å…¥ä¸­æå–åœ°ç‚¹ã€æ—¶é—´æ ¸å¿ƒå­—æ®µï¼Œæ— éœ€å›ºå®šå…³é”®è¯æ’åºï¼›</li>
<li>ä¼ä¸šé‚®ç®±å¯¹æ¥ï¼šé…ç½®æ—…è¡Œç¤¾ç»Ÿä¸€é‚®ç®±çš„SMTP/IMAPåè®®ï¼Œå®Œæˆå‘ä»¶äººèº«ä»½è®¤è¯ã€é‚®ä»¶æ¨¡æ¿ï¼ˆæ ‡é¢˜/æ­£æ–‡ï¼‰æ ‡å‡†åŒ–ï¼›</li>
<li>æ‰¹é‡å‘é€åŠŸèƒ½ï¼šå®ç°é‚®ä»¶æ‰¹é‡æ¨é€ï¼Œé™„å¸¦å‘é€çŠ¶æ€åé¦ˆï¼ˆæˆåŠŸ/å¤±è´¥/æ•°é‡ï¼‰ã€‚</li>
</ol>
<h4 data-id="heading-4">æœ¬åœ°æµ‹è¯•éªŒè¯</h4>
<p>å¼€å‘å®Œæˆåæœ¬åœ°è¿è¡Œç¨‹åºï¼Œè¾“å…¥æµ‹è¯•æŒ‡ä»¤éªŒè¯æ ¸å¿ƒåŠŸèƒ½ï¼š</p>
<p>æµ‹è¯•æŒ‡ä»¤ï¼šä¸ºæˆ‘çš„æ¸¸å®¢å‘é€é›†åˆé€šçŸ¥é‚®ä»¶ï¼Œæ¸¸å®¢wxlï¼Œåœ°ç‚¹é¢å’Œå›­ä¸œå®«é—¨ï¼Œæ—¶é—´ä¸‹åˆä¸¤ç‚¹</p>
<p>éªŒè¯ç»“æœï¼šæˆåŠŸè¯†åˆ«é‚®ç®±ã€åœ°ç‚¹ã€æ—¶é—´ï¼Œå®Œæˆæ‰¹é‡é‚®ä»¶å‘é€ï¼ˆç¤ºä¾‹ä¸­æˆåŠŸå‘é€5å°ï¼‰ï¼Œæ— å‘é€å¼‚å¸¸ã€ä¿¡æ¯è§£æé”™è¯¯ã€‚</p>
<h4 data-id="heading-5">å¼€å‘ä»·å€¼</h4>
<p>å®Œæˆä¸šåŠ¡åŠŸèƒ½çš„åŸºç¡€é—­ç¯ï¼Œç†Ÿæ‰‹å¼€å‘+æµ‹è¯•ä»…éœ€5åˆ†é’Ÿï¼Œå¿«é€ŸéªŒè¯æŠ€æœ¯å¯è¡Œæ€§ï¼Œä¸ºåç»­AgentåŒ–éƒ¨ç½²æ‰“åŸºç¡€ã€‚</p>
<h3 data-id="heading-6">ç¬¬äºŒæ­¥ï¼šç¨‹åºè°ƒæ•´ä¸ºã€Œè¿œç¨‹Exceléƒ¨ç½²ã€</h3>
<h4 data-id="heading-7">æ ¸å¿ƒè°ƒæ•´å†…å®¹</h4>
<ol>
<li>å–æ¶ˆæœ¬åœ°Excelæ–‡ä»¶ä¾èµ–ï¼Œå¼€å‘è¿œç¨‹æ–‡ä»¶è®¿é—®æ¨¡å—ï¼Œæ”¯æŒæ—…è¡Œç¤¾å¸¸ç”¨çš„äº‘å­˜å‚¨ï¼ˆç™¾åº¦ç½‘ç›˜/ä¼ä¸šå¾®ä¿¡äº‘ç›˜/OneDriveï¼‰ã€å±€åŸŸç½‘å…±äº«æ–‡ä»¶å¤¹ï¼ˆNAS/åŠå…¬ç”µè„‘ï¼‰çš„Excelæ–‡ä»¶è¯»å–ï¼›</li>
<li>å¢åŠ è¿œç¨‹æ–‡ä»¶å®æ—¶åŒæ­¥&amp;ç‰ˆæœ¬æ ¡éªŒï¼Œç¡®ä¿è¯»å–çš„æ˜¯æœ€æ–°çš„æ¸¸å®¢æŠ¥åè¡¨æ ¼ï¼Œé¿å…æ•°æ®æ»åï¼›</li>
<li>é…ç½®è¿œç¨‹æ–‡ä»¶è®¿é—®æƒé™ï¼Œä»…æˆæƒæŒ‡å®šå·¥ä½œäººå‘˜æ“ä½œï¼Œä¿éšœæ¸¸å®¢ä¿¡æ¯éšç§å®‰å…¨ã€‚</li>
</ol>
<h4 data-id="heading-8">è°ƒæ•´æ„ä¹‰</h4>
<p>è§£å†³æ—…è¡Œç¤¾ã€Œå¤šäººåä½œã€è·¨è®¾å¤‡åŠå…¬ã€çš„ç—›ç‚¹ï¼Œä¸€çº¿é”€å”®/è®¡è°ƒæ— éœ€å°†Excelè¡¨æ ¼æ‹·è´åˆ°æŒ‡å®šè®¾å¤‡ï¼Œè¿œç¨‹æ›´æ–°è¡¨æ ¼åç¨‹åºå¯ç›´æ¥è¯»å–ï¼Œæå‡æ•°æ®åŒæ­¥æ•ˆç‡ã€‚</p>
<h3 data-id="heading-9">ç¬¬ä¸‰æ­¥ï¼šæœåŠ¡å‘å¸ƒåˆ°SkillCenter&amp;è¿œç¨‹éƒ¨ç½²</h3>
<h4 data-id="heading-10">æ ¸å¿ƒéƒ¨ç½²æ“ä½œ</h4>
<ol>
<li>SkillCenteré€‚é…ï¼šå°†é‚®ä»¶å‘é€ç¨‹åºå°è£…ä¸ºæ ‡å‡†åŒ–æŠ€èƒ½æœåŠ¡ï¼ˆSkillï¼‰ï¼ŒæŒ‰ç…§OoderAgentçš„Skillå¼€å‘è§„èŒƒï¼Œå®šä¹‰æœåŠ¡å…¥å£ã€å‚æ•°æ ¼å¼ï¼ˆè‡ªç„¶è¯­è¨€/ç»“æ„åŒ–ï¼‰ã€è¿”å›ç»“æœç±»å‹ï¼›</li>
<li>è½»é‡åŒ–éƒ¨ç½²ï¼šä¾æ‰˜æ—…è¡Œç¤¾ç°æœ‰ç®€æ˜“è®¾å¤‡ï¼ˆNASè®¾å¤‡ã€å…¬å…±æ‰“å°æœºç”µè„‘/åŠå…¬ä¸»æœºï¼‰å®ŒæˆSkillCenteréƒ¨ç½²ï¼Œæ— éœ€ä¸“ä¸šæœåŠ¡å™¨ï¼Œæ»¡è¶³ä½ç¡¬ä»¶æˆæœ¬è¦æ±‚ï¼›</li>
<li>æœåŠ¡æ³¨å†Œä¸é…ç½®ï¼šå°†é‚®ä»¶å‘é€Skillæ³¨å†Œåˆ°SkillCenterï¼Œé…ç½®æœåŠ¡åç§°ã€è§¦å‘å…³é”®è¯ã€æƒé™ç®¡ç†è§„åˆ™ã€‚</li>
</ol>
<h4 data-id="heading-11">éƒ¨ç½²æ ¸å¿ƒç›®çš„</h4>
<ol>
<li>æ»¡è¶³ä¼ä¸šç»Ÿä¸€é‚®ç®±å¤šäººæ“ä½œéœ€æ±‚ï¼šå°†å‘ä»¶ç¨‹åºé›†ä¸­éƒ¨ç½²åï¼Œæ‰€æœ‰å·¥ä½œäººå‘˜é€šè¿‡ç»Ÿä¸€å…¥å£è°ƒç”¨ï¼Œé¿å…ä¸ªäººé…ç½®ä¼ä¸šé‚®ç®±å¯¼è‡´çš„è´¦å·æ³„éœ²ã€å‘ä»¶æ ¼å¼ä¸ç»Ÿä¸€é—®é¢˜ï¼›</li>
<li>ä¿éšœé«˜é¢‘æ“ä½œç¨³å®šæ€§ï¼šé›†åˆé€šçŸ¥å‘é€ä¸ºæ—…è¡Œç¤¾é«˜é¢‘ä¸šåŠ¡ï¼Œé›†ä¸­éƒ¨ç½²åå¯å®ç°7*24å°æ—¶æœåŠ¡å¯ç”¨ï¼Œé¿å…æœ¬åœ°ç¨‹åºå› è®¾å¤‡æ•…éšœã€å…³æœºå¯¼è‡´çš„æœåŠ¡ä¸­æ–­ï¼›</li>
<li>å®ç°é›†ä¸­åŒ–ç®¡ç†ï¼šç®¡ç†å‘˜å¯åœ¨SkillCenterç»Ÿä¸€ç›‘æ§æœåŠ¡è¿è¡ŒçŠ¶æ€ã€è°ƒç”¨è®°å½•ã€å‘é€æ•°æ®ï¼Œä¾¿äºä¸šåŠ¡ç»Ÿè®¡å’Œé—®é¢˜æ’æŸ¥ã€‚</li>
</ol>
<h3 data-id="heading-12">ç¬¬å››æ­¥ï¼šæœ¬åœ°Skillsæ¡¥æ¥ç¨‹åºå¼€å‘+æ¸¸å®¢åé¦ˆè¡¨å•åˆ¶ä½œ</h3>
<h4 data-id="heading-13">æ¨¡å—1ï¼šæœ¬åœ°Skillsæ¡¥æ¥ç¨‹åºå¼€å‘</h4>
<ol>
<li>æ ¸å¿ƒåŠŸèƒ½ï¼šå®ç°æœ¬åœ°æ“ä½œç«¯ï¼ˆç”µè„‘/å¹³æ¿ï¼‰ä¸è¿œç¨‹SkillCenterçš„æ— ç¼æ¡¥æ¥ï¼Œæ”¯æŒIDEã€CLIã€ç½‘é¡µç«¯å¤šæ–¹å¼è°ƒç”¨ï¼Œæ¡¥æ¥è¿‡ç¨‹é›¶é…ç½®ã€é›¶æˆæœ¬ï¼›</li>
<li>è‡ªç„¶è¯­è¨€è§¦å‘é€‚é…ï¼šæ¡¥æ¥ç¨‹åºåµŒå…¥OoderAgentçš„è¯­ä¹‰äº¤äº’èƒ½åŠ›ï¼Œå·¥ä½œäººå‘˜æ— éœ€è¾“å…¥ä»£ç /æŒ‡ä»¤æ ¼å¼ï¼Œç›´æ¥ç”¨è‡ªç„¶è¯­è¨€å¯¹è¯å³å¯è§¦å‘SkillCenterçš„é‚®ä»¶å‘é€æœåŠ¡ï¼›</li>
<li>æ“ä½œåé¦ˆåŒæ­¥ï¼šå°†SkillCenterçš„é‚®ä»¶å‘é€çŠ¶æ€ï¼ˆæˆåŠŸ/å¤±è´¥/æ•°é‡ï¼‰å®æ—¶åŒæ­¥åˆ°æœ¬åœ°æ“ä½œç«¯ï¼Œå·¥ä½œäººå‘˜å¯å³æ—¶ç¡®è®¤æ‰§è¡Œç»“æœã€‚</li>
</ol>
<h4 data-id="heading-14">æ¨¡å—2ï¼šæ¸¸å®¢åé¦ˆè¡¨å•åˆ¶ä½œ</h4>
<ol>
<li>è¡¨å•è®¾è®¡ï¼šå›´ç»•å…¥å¢ƒæ¸¸æ¸¸å®¢éœ€æ±‚ï¼Œè®¾è®¡ç®€æ˜“åé¦ˆè¡¨å•ï¼ŒåŒ…å«æ˜¯å¦æ”¶åˆ°é‚®ä»¶ã€é›†åˆä¿¡æ¯æ˜¯å¦æ¸…æ™°ã€æ˜¯å¦æœ‰è¡Œç¨‹ç–‘é—®ã€å…¶ä»–éœ€æ±‚ç­‰æ ¸å¿ƒé—®é¢˜ï¼Œæ”¯æŒå¤šè¯­è¨€ï¼ˆä¸­/è‹±/æ—¥/éŸ©ç­‰ï¼‰é€‚é…ï¼›</li>
<li>è¡¨å•æŒ‚è½½ï¼šå°†åé¦ˆè¡¨å•é“¾æ¥åµŒå…¥é›†åˆé€šçŸ¥é‚®ä»¶çš„æ­£æ–‡æœ«å°¾ï¼Œæ–¹ä¾¿æ¸¸å®¢ä¸€é”®æ‰“å¼€å¡«å†™ï¼›</li>
<li>åé¦ˆæ•°æ®åŒæ­¥ï¼šå¼€å‘è¡¨å•æ•°æ®æ”¶é›†æ¨¡å—ï¼Œå°†æ¸¸å®¢åé¦ˆå®æ—¶åŒæ­¥åˆ°æ—…è¡Œç¤¾çš„ä¸šåŠ¡ç®¡ç†è¡¨ï¼ˆExcel/å°ç¨‹åºï¼‰ï¼Œä¾¿äºè®¡è°ƒåŠæ—¶å¤„ç†æ¸¸å®¢ç–‘é—®ã€‚</li>
</ol>
<h4 data-id="heading-15">æœ€ç»ˆè½åœ°æ•ˆæœ</h4>
<p>ä¸€çº¿å·¥ä½œäººå‘˜ä»…éœ€åœ¨å¯¹è¯æ¡†è¾“å…¥è‡ªç„¶è¯­è¨€æŒ‡ä»¤ï¼Œå³å¯å®Œæˆã€Œè¿œç¨‹è¯»å–æ¸¸å®¢é‚®ç®±â†’è‡ªåŠ¨å‘é€é›†åˆé€šçŸ¥â†’å®æ—¶è·å–å‘é€çŠ¶æ€ã€å…¨æµç¨‹ï¼Œæ— éœ€ä»»ä½•æŠ€æœ¯æ“ä½œï¼ŒçœŸæ­£å®ç°AIææ•ˆã€é›¶é—¨æ§›ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-16">åœºæ™¯æ ¸å¿ƒä»·å€¼ï¼šOoderAgentä¸ºä½•é€‚é…æ—…è¡Œç¤¾è¡Œä¸šï¼Ÿ</h2>
<h3 data-id="heading-17">1. è´´åˆå…¥å¢ƒæ¸¸è¡Œä¸šé€šè®¯åˆšéœ€</h3>
<p>å…¥å¢ƒæ¸¸æ¸¸å®¢çš„äº’è”ç½‘è´¦å·ä½“ç³»ä»¥é‚®ä»¶ä¸ºæ ¸å¿ƒï¼Œæ˜¯æµ·å¤–æ¸¸å®¢æœ€å¸¸ç”¨ã€æœ€ä¿¡ä»»çš„é€šè®¯æ–¹å¼ï¼Œç›¸æ¯”å¾®ä¿¡/çŸ­ä¿¡ï¼Œé‚®ä»¶é€šçŸ¥çš„è§¦è¾¾ç‡ã€æ­£å¼æ€§æ›´é«˜ï¼Œå¥‘åˆæ•£å®¢é¢„è®¢çš„ä¸šåŠ¡åœºæ™¯ã€‚</p>
<h3 data-id="heading-18">2. æœ€ä½æˆæœ¬çš„AIè½åœ°æ–¹æ¡ˆ</h3>
<p>æ— éœ€é‡‡è´­ä¸“ä¸šæœåŠ¡å™¨ã€æ— éœ€æ‹›è˜ä¸“èŒæŠ€æœ¯äººå‘˜ï¼Œä¾æ‰˜æ—…è¡Œç¤¾ç°æœ‰NAS/åŠå…¬ç”µè„‘å³å¯å®Œæˆå…¨é“¾è·¯éƒ¨ç½²ï¼ŒSkillæ¡¥æ¥è¿‡ç¨‹é›¶æˆæœ¬ï¼Œä¸€çº¿äººå‘˜æ— éœ€åŸ¹è®­å³å¯ä¸Šæ‰‹ï¼Œè§£å†³ä¸­å°æ—…è¡Œç¤¾ã€Œæƒ³åšAIææ•ˆä½†é¢„ç®—æœ‰é™ã€æŠ€æœ¯èƒ½åŠ›ä¸è¶³ã€çš„ç—›ç‚¹ã€‚</p>
<h3 data-id="heading-19">3. é«˜é¢‘ä¸šåŠ¡çš„æ ‡å‡†åŒ–&amp;ç¨³å®šæ€§ææ•ˆ</h3>
<p>é›†åˆé€šçŸ¥å‘é€ã€è¡Œç¨‹æé†’ç­‰å±äºæ—…è¡Œç¤¾é«˜é¢‘é‡å¤æ“ä½œï¼Œé€šè¿‡OoderAgentå®ç°ç¨‹åºæ ‡å‡†åŒ–+éƒ¨ç½²é›†ä¸­åŒ–+æ“ä½œè½»é‡åŒ–ï¼Œæ—¢é¿å…äº†äººå·¥å‘é€çš„æ¼å‘ã€é”™å‘é—®é¢˜ï¼Œåˆè§£æ”¾äº†å·¥ä½œäººå‘˜çš„æ—¶é—´ï¼Œä½¿å…¶èšç„¦äºæ¸¸å®¢æœåŠ¡ç­‰æ ¸å¿ƒå·¥ä½œã€‚</p>
<h2 data-id="heading-20">OoderAgentçš„æŠ€æœ¯ä»·å€¼ï¼šä¸æ­¢äºã€Œä½ä»£ç ææ•ˆã€</h2>
<p>æœ¬æ¬¡å®æˆ˜çš„æ ¸å¿ƒæ˜¯ä¸šåŠ¡åœºæ™¯çš„AI AgentåŒ–è½åœ°ï¼Œä½†OoderAgentçš„æŠ€æœ¯ä»·å€¼è¿œä¸æ­¢äºä½æˆæœ¬çš„æ“ä½œææ•ˆï¼Œå…¶æ ¸å¿ƒç«äº‰åŠ›ä½“ç°åœ¨ä¸¤å¤§åº•å±‚èƒ½åŠ›ï¼š</p>
<ol>
<li>P2Pæ ¸å¿ƒé€šè®¯èƒ½åŠ›ï¼šä¸ºSkillCenterä¸æœ¬åœ°æ“ä½œç«¯ã€è¿œç¨‹è®¾å¤‡ä¸æœåŠ¡ç«¯çš„è¿æ¥æä¾›ç¨³å®šã€é«˜é€Ÿçš„é€šè®¯æ”¯æŒï¼Œä¿éšœè½»é‡åŒ–éƒ¨ç½²ä¸‹çš„æœåŠ¡ç¨³å®šæ€§ï¼Œæ— éœ€ä¾èµ–ç¬¬ä¸‰æ–¹äº‘æœåŠ¡ï¼›</li>
<li>å‰æ²¿SkillsæŠ€æœ¯ç”Ÿæ€ï¼šå°†å¸¸ç”¨ä¸šåŠ¡å­—æ®µï¼ˆåœ°ç‚¹ã€æ—¶é—´ã€æ¸¸å®¢ä¿¡æ¯ç­‰ï¼‰æŠ½è±¡é…ç½®åˆ°Skillsæ¨¡æ¿ä¸­ï¼Œæ”¯æŒç½‘é¡µç«¯å¯è§†åŒ–é…ç½®ï¼Œåç»­å¯å¿«é€Ÿé€‚é…æ—…è¡Œç¤¾å…¶ä»–ä¸šåŠ¡ï¼ˆå¦‚è¡Œç¨‹å˜æ›´é€šçŸ¥ã€ç­¾è¯ææ–™æé†’ï¼‰ï¼Œä»…éœ€ä¿®æ”¹æ¨¡æ¿å‚æ•°å³å¯å®ç°æ–°Skillçš„å¿«é€Ÿå¼€å‘ï¼Œå…·å¤‡æå¼ºçš„ä¸šåŠ¡æ‰©å±•æ€§ã€‚</li>
</ol>
<h2 data-id="heading-21">æœ€ç»ˆæµ‹è¯•éªŒè¯ï¼šå…¨æµç¨‹è‡ªç„¶è¯­è¨€è§¦å‘</h2>
<p>æµ‹è¯•æŒ‡ä»¤ï¼šä¸ºæˆ‘çš„æ¸¸å®¢å‘é€é›†åˆé€šçŸ¥é‚®ä»¶ï¼Œæ¸¸å®¢wxlï¼Œåœ°ç‚¹é¢å’Œå›­ä¸œå®«é—¨ï¼Œæ—¶é—´ä¸‹åˆä¸¤ç‚¹</p>
<p>å…¨æµç¨‹æ‰§è¡Œç»“æœï¼š</p>
<ol>
<li>è‡ªåŠ¨ä»è¿œç¨‹Excelä¸­è¯»å–æ¸¸å®¢wxlçš„é‚®ç®±æ•°æ®ï¼›</li>
<li>ç²¾å‡†æå–ã€Œé¢å’Œå›­ä¸œå®«é—¨ã€ä¸‹åˆä¸¤ç‚¹ã€æ ¸å¿ƒä¿¡æ¯ï¼›</li>
<li>é€šè¿‡æ—…è¡Œç¤¾ç»Ÿä¸€é‚®ç®±æ‰¹é‡å‘é€5å°é›†åˆé€šçŸ¥é‚®ä»¶ï¼›</li>
<li>æœ¬åœ°æ“ä½œç«¯å®æ—¶åé¦ˆã€Œå‘é€æˆåŠŸã€çŠ¶æ€ï¼›</li>
<li>æ¸¸å®¢å¯é€šè¿‡é‚®ä»¶å†…é“¾æ¥å¡«å†™åé¦ˆè¡¨å•ï¼Œæ•°æ®åŒæ­¥è‡³æ—…è¡Œç¤¾ä¸šåŠ¡è¡¨ã€‚</li>
</ol>
<p>æ‰§è¡Œæ•ˆç‡ï¼šæŒ‡ä»¤è¾“å…¥åç§’çº§è§¦å‘ï¼Œå…¨ç¨‹æ— éœ€äººå·¥å¹²é¢„ï¼Œç›¸æ¯”äººå·¥é€å°å‘é€é‚®ä»¶ï¼Œæ•ˆç‡æå‡10å€ä»¥ä¸Šã€‚</p>
<h2 data-id="heading-22">è¡Œä¸šå»¶ä¼¸é€‚é…</h2>
<p>æœ¬å®æˆ˜æ–¹æ¡ˆå¯å¿«é€Ÿé€‚é…æ—…è¡Œç¤¾å…¶ä»–é«˜é¢‘é‚®ä»¶é€šçŸ¥åœºæ™¯ï¼š</p>
<ul>
<li>ç­¾è¯ææ–™è¡¥äº¤é€šçŸ¥</li>
<li>è¡Œç¨‹å˜æ›´/å¤©æ°”æé†’é€šçŸ¥</li>
<li>å›¢è´¹å°¾æ¬¾ç¼´çº³é€šçŸ¥</li>
<li>è¿”ç¨‹èˆªç­ç¡®è®¤é€šçŸ¥</li>
</ul>
<p>ä»…éœ€åœ¨SkillCenterä¸­ä¿®æ”¹Skillsæ¨¡æ¿çš„æ ¸å¿ƒå­—æ®µå’Œé‚®ä»¶æ¨¡æ¿ï¼Œå³å¯å®ç°æ–°åœºæ™¯çš„å¿«é€Ÿè½åœ°ï¼ŒçœŸæ­£å®ç°ã€Œä¸€æ¬¡å¼€å‘ã€å¤šæ¬¡å¤ç”¨ã€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ç§è½»é‡çº§è¿›ç¨‹é—´æœåŠ¡éš”ç¦»æ–¹æ³•å®è·µ]]></title>    <link>https://juejin.cn/post/7602188264115306511</link>    <guid>https://juejin.cn/post/7602188264115306511</guid>    <pubDate>2026-02-03T10:45:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602188264115306511" data-draft-id="7602216700747972608" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ç§è½»é‡çº§è¿›ç¨‹é—´æœåŠ¡éš”ç¦»æ–¹æ³•å®è·µ"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-02-03T10:45:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¬ä¸œäº‘å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2634854380340008"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ç§è½»é‡çº§è¿›ç¨‹é—´æœåŠ¡éš”ç¦»æ–¹æ³•å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2634854380340008/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¬ä¸œäº‘å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T10:45:11.000Z" title="Tue Feb 03 2026 10:45:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç³»ç»Ÿçš„å¤æ‚æ€§</h2>
<p>æˆ‘ä»¬å›¢é˜Ÿè´Ÿè´£çš„ç³»ç»Ÿæ˜¯åˆ†å¸ƒå¼å¾®æœåŠ¡éƒ¨ç½²æ¶æ„ï¼Œéšç€ä¸šåŠ¡çš„ä¸æ–­å‘å±•å£®å¤§å’Œå¤šæ¡çº¿åœºæ™¯åŒ–çš„æŒç»­å»ºè®¾ä¸°å¯Œï¼Œç³»ç»Ÿçš„ä¸šåŠ¡é€»è¾‘è¶Šæ¥è¶Šå¤šï¼ŒåŠŸèƒ½é€»è¾‘ä¹Ÿè¶Šæ¥è¶Šå¤æ‚ã€‚</p>
<p>ï»¿</p>
<h3 data-id="heading-1">ç³»ç»Ÿæ—©æœŸå•ä¸ªåº”ç”¨çš„ä¸€ä¸ªç”¨æˆ·æ•…äº‹åœ°å›¾</h3>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/77eb8d5b7a5b499eb0a68f2bba921796~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=punYw5iRhe8%2FhxgLLoqj947jGSs%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<h3 data-id="heading-2">ç³»ç»Ÿäº¤äº’</h3>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed397964ee1f42ccadf1ca50ace0e55f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=Tq9T1jyCXWgXoEBwDLP9UepAVyo%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e505874bd1d469ba518d3b180e30cfe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=LfbGMb3ZkYMBiFOJM%2Byk%2BOPspOU%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<h3 data-id="heading-3">ç‰©ç†æ¨¡å‹ï¼ˆåº“è¡¨ï¼‰çš„å¤æ‚æ€§</h3>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c6ef7725857482f80ad2e298c3dd60f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=EQ3%2FbJKCZtaZ67ZvUscJW65ZfQk%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<h3 data-id="heading-4">ä¸€ä¸ªå­ç³»ç»Ÿçš„ä»£ç æ²‰æ·€</h3>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d783aa32b3294b5a8cb2cc440d3c45ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=dOUD5lqX6WFreOGRrh7%2BLa%2BX8y0%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b896831ad0a40fba2779abbc35f4c53~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=zV9qYM7pFqfd0xAbM0gyI0Orc%2Bo%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>åœ¨åº”ç”¨éƒ¨ç½²æ–¹é¢ï¼Œç›®å‰ç°çŠ¶æˆ‘ä»¬çš„ä¸€ä¸ªåº”ç”¨å¯¹åº”ä¸€ä¸ªcodingä»£ç åœ°å€ï¼Œéƒ¨ç½²ä»¥ä¸€ä¸ªåº”ç”¨ä¸ºå•ä½å‘èµ·éƒ¨ç½²ç”³è¯·ï¼Œåº”ç”¨ä¸‹æœ‰å¤šä¸ªé›†ç¾¤ï¼Œé›†ç¾¤ä¸‹æœ‰å¤šä¸ªåˆ†ç»„ï¼Œä¹ŸåŒºåˆ†ç°åº¦ç¯å¢ƒã€æ­£å¼çº¿ä¸Šç¯å¢ƒã€‚é€šè¿‡ä¸åŒçš„éƒ¨ç½²ç¼–æ’ï¼Œä½¿ç”¨ä¸åŒçš„ä»£ç ç‰ˆæœ¬éƒ¨ç½²ä¸åŒçš„ç¯å¢ƒã€‚</p>
<p>ï»¿</p>
<p>ç³»ç»Ÿçš„å¤æ‚æ€§æ¥è‡ªå¤šä¸ªæ–¹é¢ï¼šä¸šåŠ¡æµç¨‹å¤æ‚æ€§ã€æ¶æ„å¤æ‚æ€§ã€ä»£ç å®ç°å¤æ‚æ€§ã€ç‰©ç†æ¨¡å‹ï¼ˆåº“è¡¨ï¼‰çš„å¤æ‚æ€§ã€ç›‘æ§è¿ç»´çš„å¤æ‚æ€§ç­‰ã€‚æœ¬æ–‡é‡ç‚¹ä¸æ˜¯ç³»ç»Ÿå¤æ‚æ€§çš„æ²»ç†ï¼Œè€Œæ˜¯åœ¨ç°æœ‰åŸºç¡€ä¸Šï¼Œå¦‚ä½•ä½æˆæœ¬è½»é‡çº§æ–¹å¼æœåŠ¡éš”ç¦»ï¼Œåœ¨å¤§ä¿ƒä¸ºç³»ç»Ÿçš„ç¨³å®šæ€§ä¸­å‘æŒ¥ä½œç”¨ã€‚</p>
<p>ï»¿</p>
<p>ä¸€ä¸ªå®¹å™¨ä¸­éƒ¨ç½²çš„åº”ç”¨è¿›ç¨‹å†…ï¼Œæä¾›äº†å„ç§å„æ ·çš„æœåŠ¡ï¼Œä»¥åœ¨åº“åº”ç”¨ä¸ºä¾‹ï¼ŒåŒ…å«äº†ç›˜ç‚¹ã€å˜æ›´ã€è¡¥è´§ã€ç§»åº“ã€ç›˜ç›ˆäºã€é¢„åŒ…ç­‰ç›¸å¯¹ç‹¬ç«‹çš„åŠŸèƒ½ï¼Œæ¯ä¸ªåŠŸèƒ½åˆæœ‰è‡ªå·±çš„å•æ®-ä»»åŠ¡-ç»“æœæ•´å¥—ä¸šåŠ¡æµç¨‹ã€‚æ—¢æœ‰RESTfulæœåŠ¡ï¼Œä¹Ÿæœ‰JSFæœåŠ¡ï¼Œè¿˜æœ‰MQæ¶ˆæ¯å¤„ç†ï¼Œå¦å¤–è¿˜æœ‰å®šæ—¶ä»»åŠ¡ã€‚è¿™äº›èµ„æºè™½æœ‰çº¿ç¨‹æ± éš”ç¦»ï¼Œä½†CPUã€å†…å­˜ç­‰èµ„æºä»æ˜¯å…±äº«èµ„æºï¼Œåœ¨è´Ÿè½½é«˜çš„æ—¶å€™ï¼Œæ¯”å¦‚CPUæ»¡è½½æˆ–å†…å­˜OOMæ—¶ï¼Œä¼šé€ æˆæœåŠ¡å¡é¡¿ï¼ŒRTæ—¶é—´é•¿ï¼Œå½±å“æœåŠ¡å“åº”å’ŒåŠŸèƒ½ä½¿ç”¨ã€‚</p>
<p>ï»¿</p>
<h2 data-id="heading-5">æ–¹æ¡ˆ</h2>
<h3 data-id="heading-6">æ–¹æ¡ˆä¸€ï¼šåº”ç”¨æ‹†åˆ†</h3>
<p>æŒ‰ä¸šåŠ¡åŸŸã€æŠ€æœ¯åŸŸå¯¹è¿›è¡Œæ‹†åˆ†ï¼Œæ¯”å¦‚åœ¨åº“åº”ç”¨æŒ‰ç›˜ç‚¹ã€å˜æ›´ã€ç§»åº“ã€è¡¥è´§ç­‰æ‹†åˆ†ä¸ºå•ç‹¬çš„åº”ç”¨ï¼Œä¸ä»…åº”ç”¨éƒ¨ç½²åšäº†æ‹†åˆ†ï¼Œå¯¹åº”çš„æ•°æ®åº“å±‚é¢ä¹ŸæŒ‰åŸŸè¿›è¡Œæ‹†åˆ†ï¼Œç›˜ç‚¹ç›¸å…³çš„è¡¨ï¼Œä¾‹å¦‚ç›˜ç‚¹å•ä¸»æ¡£ã€ç›˜ç‚¹å•æ˜ç»†ã€ç›˜ç‚¹ä»»åŠ¡ä¸»æ¡£ã€ç›˜ç‚¹ä»»åŠ¡æ˜ç»†ã€ç›˜ç‚¹ç»“æœç‹¬ç«‹åˆ°å•ç‹¬çš„åº“ä¸­ï¼Œå¯ä»¥æŒ‰é€»è¾‘åº“ç‹¬ç«‹ï¼Œä¹Ÿå¯ä»¥ç‹¬ç«‹åˆ°å•ç‹¬çš„æ•°æ®åº“å®ä¾‹ä¸­ï¼Œåè€…çš„éš”ç¦»æ•ˆæœæ›´å¥½ã€‚åœ¨ä»£ç å±‚é¢ï¼Œå¯ä»¥å°†åœ¨åº“codingæŒ‰åŸŸæ‹†åˆ†å‡ºæ¥å•ç‹¬çš„ä»£ç åº“ï¼Œä¹Ÿå¯ä»¥ä¸ç‹¬ç«‹ï¼Œä¿æŒå…±äº«ä»£ç åº“ï¼Œåªæ˜¯åœ¨ç¼–è¯‘æ—¶æŒ‰moudleè¿›è¡ŒæŒ‰éœ€é›†æˆï¼Œä¾‹å¦‚ä¸ºç›˜ç‚¹åº”ç”¨ç¼–è¯‘æ—¶ï¼ŒåŒ…å«ç›˜ç‚¹moudleã€å…¬å…±moduleï¼Œå…¶ä»–ä¸éœ€è¦çš„moudleï¼Œæ¯”å¦‚å˜æ›´moduleã€è¡¥è´§moduleåˆ™ä¸éœ€è¦å‚ä¸ç¼–è¯‘é›†æˆã€‚</p>
<p>ï»¿</p>
<h3 data-id="heading-7">æ–¹æ¡ˆäºŒï¼šä½¿ç”¨Hystrixè¿›è¡ŒæœåŠ¡éš”ç¦»</h3>
<p>Hystrix ä¸»è¦å®ç°çš„æ˜¯â€Œè¿›ç¨‹å†…éš”ç¦»â€Œï¼Œå…·ä½“æ¥è¯´ï¼Œå®ƒé€šè¿‡çº¿ç¨‹æ± éš”ç¦»å’Œä¿¡å·é‡éš”ç¦»ä¸¤ç§æœºåˆ¶ï¼Œåœ¨å•ä¸ªåº”ç”¨è¿›ç¨‹å†…éƒ¨å¯¹ä¾èµ–æœåŠ¡çš„è°ƒç”¨è¿›è¡Œèµ„æºéš”ç¦»å’Œæ•…éšœæ§åˆ¶â€Œã€‚</p>
<h4 data-id="heading-8">â€Œçº¿ç¨‹æ± éš”ç¦»â€Œ</h4>
<p>Hystrix ä¸ºæ¯ä¸ªä¾èµ–æœåŠ¡åˆ†é…ç‹¬ç«‹çš„çº¿ç¨‹æ± ï¼Œä¸åŒæœåŠ¡çš„è°ƒç”¨è¯·æ±‚åœ¨å„è‡ªçš„çº¿ç¨‹æ± ä¸­æ‰§è¡Œï¼Œé¿å…å› æŸä¸ªæœåŠ¡æ•…éšœæˆ–å»¶è¿Ÿè€—å°½æ•´ä¸ªåº”ç”¨çš„çº¿ç¨‹èµ„æºâ€Œï¼Œè¿™ç§éš”ç¦»æ–¹å¼ç±»ä¼¼äºâ€œèˆ±å£éš”ç¦»â€ï¼Œå°†æ•…éšœé™åˆ¶åœ¨ç‰¹å®šèŒƒå›´å†…â€Œã€‚</p>
<p>ï»¿</p>
<h4 data-id="heading-9">â€Œä¿¡å·é‡éš”ç¦»â€Œ</h4>
<p>é€šè¿‡æ§åˆ¶å¹¶å‘è¯·æ±‚çš„çº¿ç¨‹æ•°ï¼ˆä¿¡å·é‡é˜ˆå€¼ï¼‰å®ç°éš”ç¦»ï¼Œé€‚ç”¨äºè€—æ—¶çŸ­ã€å¹¶å‘é‡é«˜çš„åœºæ™¯ï¼ˆå¦‚è¯»ç¼“å­˜ï¼‰â€Œã€‚ä¿¡å·é‡éš”ç¦»æ˜¯åŒæ­¥é˜»å¡æ–¹å¼ï¼Œä¸æ¶‰åŠçº¿ç¨‹åˆ‡æ¢ï¼Œå¼€é”€è¾ƒä½â€Œã€‚</p>
<p>ï»¿</p>
<h3 data-id="heading-10">æ–¹æ¡ˆä¸‰ï¼šè½»é‡çº§è¿›ç¨‹é—´æœåŠ¡æœåŠ¡éš”ç¦»</h3>
<p>æ—¢ä¸æ‹†åˆ†åº”ç”¨ï¼Œä¹Ÿä¸éœ€è¦å¼•å…¥Sping Cloud Hystrixç»„ä»¶ï¼Œä¸ä¾µå…¥ä¸šåŠ¡ä»£ç ï¼Œåœ¨éƒ¨ç½²å±‚é¢å®ç°æœåŠ¡éš”ç¦»ï¼Œå±äºåº”ç”¨å†…åˆ†ç»„æœºå™¨å®ä¾‹éš”ç¦»ï¼Œä¹Ÿæ˜¯è¿›ç¨‹é—´æœåŠ¡éš”ç¦»ã€‚æ•°æ®åº“å’Œä»£ç åº“å±‚é¢ä¸éœ€è¦éš”ç¦»ï¼Œä»é‡‡ç”¨å…±äº«æ¨¡å¼ã€‚</p>
<p>ä»¥åœ¨åº“ä¸ºä¾‹ï¼Œä¸ºç›˜ç‚¹ã€è¡¥è´§ã€å˜æ›´ç­‰åˆ›å»ºä¸åŒçš„ä¸šåŠ¡åˆ†ç»„ï¼Œå½“ç„¶å¤„äºé«˜å¯ç”¨è€ƒè™‘ï¼Œä¼šä¸ºç›˜ç‚¹ã€è¡¥è´§ã€å˜æ›´ç­‰æ¯ä¸ªä¸šåŠ¡åˆ†ç»„ï¼Œåˆä¼šæ¨ªè·¨å¤šä¸ªæœºæˆ¿åˆ†ç»„ï¼Œä¸å¦‚ä¸­äº‘ä¿¡æœºæˆ¿åˆ†ç»„ã€æœ‰å­šæœºæˆ¿åˆ†ç»„ã€‚</p>
<p>ï»¿</p>
<p>æœ¬æ–‡æ¢ç´¢å®è·µçš„æ–¹æ¡ˆä¸‰ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/841edfbd0b3647318728cdbc4be9cbd1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=qGPtxKg26wGmApf0IcSIleJRo%2FQ%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<h3 data-id="heading-11">æ–¹æ¡ˆç®€å•å¯¹æ¯”å’Œé€‰æ‹©</h3>









































<table><thead><tr><th><strong>æ–¹æ¡ˆ</strong></th><th><strong>éš”ç¦»ç²’åº¦</strong></th><th><strong>éš”ç¦»æ•ˆæœ</strong></th><th><strong>ä»£ç ä¾µå…¥æ€§</strong></th><th><strong>å®ç°æˆæœ¬</strong></th><th><strong>è½åœ°é£é™©</strong></th><th><strong>è½åœ°é€Ÿåº¦</strong></th></tr></thead><tbody><tr><td>æ–¹æ¡ˆä¸€ï¼šåº”ç”¨æ‹†åˆ†</td><td>åº”ç”¨é—´éš”ç¦»</td><td>é«˜</td><td>é«˜</td><td>é«˜</td><td>é«˜</td><td>æ…¢</td></tr><tr><td>æ–¹æ¡ˆäºŒï¼šä½¿ç”¨Hystrixè¿›è¡ŒæœåŠ¡éš”ç¦»</td><td>çº¿ç¨‹é—´éš”ç¦»</td><td>ä½</td><td>ä¸­</td><td>ä¸­</td><td>ä¸­</td><td>ä¸­</td></tr><tr><td>æ–¹æ¡ˆä¸‰ï¼šè½»é‡çº§è¿›ç¨‹é—´æœåŠ¡æœåŠ¡éš”ç¦»</td><td>è¿›ç¨‹é—´éš”ç¦»</td><td>ä¸­</td><td>ä½</td><td>ä½</td><td>ä½</td><td>å¿«</td></tr></tbody></table>
<p>ï»¿</p>
<p>æœ¬æ–‡æ—¨åœ¨æ¢ç´¢ä¸€ä¸ªè½»é‡çº§çš„è¿›ç¨‹çº§æœåŠ¡éš”ç¦»æ–¹æ³•ï¼ŒçŸ­å¹³å¿«ï¼Œæ˜“è½åœ°ï¼Œè§æ•ˆå¿«ï¼Œå¯ä»¥åœ¨å¤§ä¿ƒä¸­å¿«é€Ÿå‘æŒ¥ä½œç”¨ï¼Œä¿éšœç³»ç»Ÿçš„ç¨³å®šæ€§ã€‚</p>
<p>åœ¨æ–¹æ¡ˆé€‰æ‹©ä¸Šï¼Œæœ¬æ–‡é€‰æ‹©æ–¹æ¡ˆä¸‰è¿›è¡Œå®æ“è½åœ°ã€‚é€‰æ‹©æ–¹æ¡ˆä¸‰ï¼Œæ˜¯å› ä¸ºæ–¹æ¡ˆä¸‰å¾ˆç‰›å—ï¼Ÿä¸æ˜¯çš„ï¼Œç›¸æ¯”ä¹‹ä¸‹æ–¹æ¡ˆä¸€å’Œæ–¹æ¡ˆäºŒæ–¹æ¡ˆæ›´ä¸ºæˆç†Ÿï¼Œè¡Œä¸šè½åœ°ç»éªŒæ›´ä¸ºä¸°å¯Œã€‚</p>
<p>ä¹‹æ‰€ä»¥é€‰æ‹©æ–¹æ¡ˆä¸‰ï¼Œæ˜¯åœ¨ä¼—å¤šçš„å› ç´ è€ƒé‡ä¸­æŠ˜ä¸­é€‰æ‹©ï¼Œåœ¨ä¸åŒçš„åœºæ™¯ä¸‹ï¼Œé‡‡ç”¨åˆé€‚çš„æ–¹æ¡ˆè§£å†³ç›¸åº”çš„ç—›ç‚¹ï¼Œå¤Ÿç”¨ + 1ï¼Œeasy + 1ã€‚</p>
<p>æ–¹æ¡ˆäºŒå’Œä¸‰ä¹‹é—´å¹¶æ— å†²çªï¼Œå…¶å®å¯ä»¥ç»“åˆæ­é…ä½¿ç”¨ã€‚</p>
<p>ï»¿</p>
<h2 data-id="heading-12">å®æ“</h2>
<h3 data-id="heading-13">éš”ç¦»éƒ¨ç½²åˆ†ç»„</h3>
<p>é…ç½®é›†åˆ</p>
<p>é€šè¿‡é…ç½®é›†åˆï¼Œå®ç°åˆ†ç»„é—´å…±äº«é…ç½®ï¼Œæ–¹ä¾¿å¤šåˆ†ç»„ç®¡ç†ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/412c1f699fb3488095955e8f6414e9da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=5TUJzy6rLn9gWLfvATZdRJQG13g%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p>è·¨æœºæˆ¿å¤šæœºæˆ¿éƒ¨ç½²</p>
<p>é€šè¿‡å¤šæœºæˆ¿éƒ¨ç½²å®ç°æœåŠ¡é«˜å¯ç”¨ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b8b2f77310045f68e35841fe3af0cb1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=aarBbL%2FJT1FG6Rcyto%2FiI2LpNhw%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<h3 data-id="heading-14">éš”ç¦»NPåŸŸå</h3>
<p>æŒ‰åŸŸéš”ç¦»çš„RESTfulï¼Œåˆ›å»ºå•ç‹¬çš„NPåŸŸåã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6df1f7d96c9a463e8642d0582324900b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=AslAPY9D2n2Gs30%2BQvIYp3NFSJU%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ddc01c0d0f1446c1aaa3ee518ce56089~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=VEJSFrMrcT%2F5FbUv950l4cP1ipY%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4307c2a34ade48d48c3d50c462c4c5e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=Or32upHCJa4Zewo5meEYViVpEnY%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<h3 data-id="heading-15">NGINXæ‹†åˆ†æµé‡</h3>
<p>æ‹†åˆ†upstreamï¼ŒæŒ‰ç…§ä¸åŒåŸŸRESTfulæ–¹æ³•çš„è§„åˆ™è¿›è¡Œè·¯ç”±æ‹†åˆ†é…ç½®ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22f3b762331e4b2691fbf3814f86c10e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=2KPYiQiRb4BBTeCMsufutHl0gNA%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6914810603d4b3ba8434e283afa7648~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=%2FziMn5f89QrQFU%2FF3s3jVTiqZL4%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<h3 data-id="heading-16">JSFæœåŠ¡éš”ç¦»</h3>
<p>åˆ«åæ‹†åˆ†ï¼Œé€šè¿‡åˆ«åéš”ç¦»æœåŠ¡ï¼Œè°ƒç”¨æ–¹æ— éœ€æ”¹åŠ¨ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bff9677f0ac4033903756c3ca05afc0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=FMtvOgHDkWieTs7%2F%2F0L8jqRbBsk%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/740ff0c882694018bed1aee648d11e98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=TZ87O9Gw8EaKFTxGAsiMKJXCsGY%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a02b702d21b41468bf310d6baef270b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=k8UiNVGRShgJVYYmU%2BPTsfncZ%2Fs%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>éšç€æœåŠ¡éš”ç¦»ï¼ŒåŒæ—¶å…¼é¡¾æœºå™¨èµ„æºåˆ©ç”¨ç‡ï¼Œæ‹†åˆ†åçš„å•åŸŸå†…æœºå™¨æ•°é‡å°‘äºæ‹†åˆ†å‰æœºå™¨æ•°é‡ï¼ŒJSFä¸šåŠ¡çº¿ç¨‹æ± å¤§å°å¯é€‚å½“è°ƒå¤§ï¼ŒJSFçš„å•æœºé™æµé˜ˆå€¼ä¹Ÿé€‚å½“è°ƒå¤§ã€‚</p>
<p>ï»¿</p>
<h3 data-id="heading-17">MQæ¶ˆæ¯é˜Ÿåˆ—éš”ç¦»</h3>
<p>åœ¨å˜æ›´çš„ymlä¸­ï¼Œåªä¿ç•™å˜æ›´ç›¸å…³çš„TOPICï¼Œå…¶ä»–ç½®ä¸ºNONEã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c3aebfe1b1b47fda66540a08aa3bcf9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=otDvQ0LECL2jXh3S1A2%2FdgY%2BGdY%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>åœ¨ç›˜ç‚¹çš„ymlä¸­ï¼Œåªä¿ç•™ç›˜ç‚¹ç›¸å…³çš„TOPICï¼Œå…¶ä»–ç½®ä¸ºNONEã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a67f64be9dc48ab9ea27f6ab0be64eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=oE3y06n9NAI3s0sBwR7BN7wMFu0%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>å…¶ä»–åˆ†ç»„æŒ‰æ­¤è°ƒæ•´é…ç½®ã€‚</p>
<p>ï»¿</p>
<h2 data-id="heading-18">è½åœ°æ•ˆæœ</h2>
<h3 data-id="heading-19">RESTFulæœåŠ¡</h3>
<p>å¯¹åº”çš„logbookè‡ªç„¶åœ°æŒ‰åŸŸæ‹†åˆ†ï¼Œæ–¹ä¾¿æŸ¥è¯¢å®šä½æµé‡æœºå™¨ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5421c33b9cf04d0099a1036d0abf5b18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=SbgoyT0A2ZYXLjHIm4ePzTzKe7w%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38e1a7c58722454bb669ee6dd4ceb24b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=MrfaLsz6EGrEktWnzbWeQy%2BCiJE%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<h3 data-id="heading-20">JSFæœåŠ¡</h3>
<p>é€šè¿‡éš”ç¦»çš„JSFåˆ«åå®ç°æµé‡è·¯ç”±åˆ°çš„æœºå™¨ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed47ad3963f1473aaa1dab8687758578~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=ZhbNuPq9oAld7B4i4WORAspQqPA%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<h2 data-id="heading-21">æœªæ¥æ¼”è¿›</h2>
<p>ç›®å‰ï¼Œåœ¨åº”ç”¨ç¨³å®šæ–¹é¢ï¼Œæ¢ç´¢å¹¶å®è·µè½åœ°äº†ä¸€ç§è½»é‡çº§è¿›ç¨‹é—´æœåŠ¡éš”ç¦»å•å…ƒåŒ–éƒ¨ç½²æ–¹æ³•ï¼Œåœ¨åº“å’Œåº“å­˜æŒ‰ä¸šåŠ¡åŸŸæ‹†åˆ†æœåŠ¡éƒ¨ç½²å•å…ƒåŒ–åˆ†ç»„ï¼Œåœ¨åº“æŒ‰ç›˜ç‚¹ã€è¡¥è´§ã€å˜æ›´ã€å¯¼å‡ºå¯¼å‡ºã€é€šç”¨æœåŠ¡éƒ¨ç½²ï¼Œåº“å­˜æŒ‰åº“å­˜æŸ¥è¯¢ã€åº“å®¹æœåŠ¡ã€é«˜æ—¶æ•ˆã€workeræœåŠ¡ç­‰ä½œä¸ºç‹¬ç«‹éƒ¨ç½²çš„éƒ¨ç½²å•å…ƒï¼Œæ§åˆ¶çˆ†ç‚¸åŠå¾„ï¼Œæ¯ä¸ªéƒ¨ç½²å•å…ƒéƒ½æ˜¯åŒæœºæˆ¿é«˜å¯ç”¨ï¼Œä¿éšœç³»ç»Ÿçš„ç¨³å®šæ€§ã€‚</p>
<p>æœªæ¥ï¼Œéšç€ç³»ç»Ÿçš„é•¿æœŸå‘å±•ï¼Œç³»ç»Ÿå¤æ‚æ€§éœ€æŒ‰åŸŸåˆç†æ‹†åˆ†æ²»ç†ï¼Œä¸šåŠ¡å•å…ƒåŒ–ï¼ŒæœåŠ¡å•å…ƒåŒ–ï¼Œç³»ç»Ÿæ¼”è¿›ä¸ä¸šåŠ¡å‘å±•é½å¤´å¹¶è¿›ï¼Œç›¸äº’ä¿ƒè¿›ï¼Œä½¿ç³»ç»Ÿå§‹ç»ˆä¿æŒåœ¨å¥åº·çš„æ°´ä½ï¼Œå¯æŒç»­å‘å±•</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Amazon Kinesis vs. SQS: Differences & Comparison]]></title>    <link>https://juejin.cn/post/7602225961096052770</link>    <guid>https://juejin.cn/post/7602225961096052770</guid>    <pubDate>2026-02-03T10:49:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602225961096052770" data-draft-id="7602188264115372047" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Amazon Kinesis vs. SQS: Differences &amp; Comparison"/> <meta itemprop="keywords" content="AWS"/> <meta itemprop="datePublished" content="2026-02-03T10:49:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AutoMQ"/> <meta itemprop="url" content="https://juejin.cn/user/2878958479084707"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Amazon Kinesis vs. SQS: Differences &amp; Comparison
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2878958479084707/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AutoMQ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T10:49:37.000Z" title="Tue Feb 03 2026 10:49:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p># Amazon Kinesis vs. SQS: Differences &amp; Comparison</p>
<p>## Overview</p>
<p>Amazon Web Services \(AWS) offers multiple messaging and streaming services, with Amazon Kinesis and Amazon Simple Queue Service \(SQS) being two of the most widely used options. While both facilitate data movement between application components, they serve fundamentally different purposes and excel in different scenarios. This comprehensive comparison explores their key differences, use cases, and technical considerations.</p>
<p>Before diving into the detailed comparison, the key finding is that Kinesis is optimized for real-time, high-volume data streaming with multiple consumers, while SQS excels at reliable message queuing for decoupling application components with simpler operational requirements.</p>
<p>## Core Concepts and Architecture</p>
<p>### Amazon Kinesis</p>
<p>Kinesis is a platform for streaming data on AWS, allowing real-time processing of high-volume data streams. It's built on the concept of persistent data streams composed of shards, which represent the base throughput unit.</p>
<p>Key components include:</p>
<p>- **Data Streams** : Core service for capturing and storing streaming data</p>
<p>- **Shards** : Base throughput units \(1MB/sec input, 2MB/sec output per shard)</p>
<p>- **Records** : Data units with partition keys for distribution across shards</p>
<p>- **Retention** : Data persists for 24 hours by default, configurable up to 365 days</p>
<p>![](./amazon-kinesis-vs-sqs-differences-comparison/1.webp)</p>
<p>### Amazon SQS</p>
<p>SQS is a fully managed message queuing service designed to decouple and scale microservices, distributed systems, and serverless applications. It provides a simple queue model with guaranteed at-least-once delivery.</p>
<p>Key components include:</p>
<p>- **Queues** : Standard \(high throughput) or FIFO \(ordered delivery)</p>
<p>- **Messages** : Individual data units \(up to 256KB each)</p>
<p>- **Visibility Timeout** : Period during which messages are invisible after being retrieved</p>
<p>- **Retention** : Messages persist up to 4 days by default, configurable from 1 minute to 14 days</p>
<p>![](./amazon-kinesis-vs-sqs-differences-comparison/2.webp)</p>
<p>## Key Differences</p>
<p>### Purpose and Design Philosophy</p>
<p>| **Aspect**| **Kinesis**| **SQS**|</p>
<p>| - | - | - |</p>
<p>| Primary Purpose| Real-time data streaming and analytics| Message queuing and application decoupling|</p>
<p>| Design Focus| High-volume streaming data processing| Reliable message delivery between components|</p>
<p>| Processing Model| Stream processing with multiple consumers| Queue processing with individual consumers|</p>
<p>| Data Lifecycle| Persistent with configurable retention| Deleted after successful processing|</p>
<p>Kinesis is primarily designed for real-time data streaming applications that need to process and analyze large volumes of continuous data. SQS, on the other hand, focuses on reliable message queuing to decouple application components and ensure message delivery.</p>
<p>### Data Model and Consumption Patterns</p>
<p>Kinesis maintains data streams that can be read by multiple consumers simultaneously, allowing for different applications to process the same data independently. With SQS, each message is typically processed by a single consumer and then deleted from the queue.</p>
<p>### Message Ordering and Delivery Guarantees</p>
<p>Kinesis preserves the ordering of records at the shard level, meaning records with the same partition key will be processed in order. SQS offers two queue types:</p>
<p>- **Standard queues** : High throughput with at-least-once delivery but no guaranteed order</p>
<p>- **FIFO queues** : Exactly-once processing with guaranteed ordering but lower throughput</p>
<p>### Scalability Characteristics</p>
<p>| **Feature**| **Kinesis**| **SQS**|</p>
<p>| - | - | - |</p>
<p>| Scaling Model| Manual provisioning or on-demand| Fully automatic|</p>
<p>| Throughput Limits| 1MB/s in, 2MB/s out per shard| 3,000 msgs/sec standard, 30,000 msgs/sec high throughput|</p>
<p>| Maximum Message Size| 1MB| 256KB|</p>
<p>| Operational Overhead| Higher \(shard management)| Lower \(fully managed)|</p>
<p>Kinesis requires explicit capacity planning through shard provisioning, whereas SQS scales automatically to match demand. However, Kinesis can achieve higher overall throughput with appropriate shard allocation.</p>
<p>## Use Cases</p>
<p>### When to Use Kinesis</p>
<p>- **Real-time Analytics** : Processing streaming data for immediate insights</p>
<p>- **IoT Data Processing** : Handling large-scale data from IoT devices</p>
<p>- **Log and Event Data Collection** : Centralized collection of logs and events</p>
<p>- **Clickstream Analysis** : Processing website user activity in real-time</p>
<p>- **Multiple Consumer Applications** : When multiple applications need to process the same data</p>
<p>### When to Use SQS</p>
<p>- **Application Decoupling** : Separating components of distributed applications</p>
<p>- **Task Queues** : Managing job processing and workload distribution</p>
<p>- **Batch Processing** : Queuing items for batch processing workflows</p>
<p>- **Microservice Communication** : Reliable messaging between microservices</p>
<p>- **Load Leveling** : Smoothing out traffic spikes to backend systems</p>
<p>### Hybrid Approaches</p>
<p>Some architectures benefit from using both services together:</p>
<p>- Using Kinesis for initial high-volume data capture and SQS for specific processing tasks</p>
<p>- Implementing Kinesis for real-time processing and SQS for task distribution to workers</p>
<p>## Implementation Details</p>
<p>### Configuration and Management</p>
<p>#### Kinesis Configuration</p>
<p>```</p>
<p># AWS CLI example for creating a Kinesis stream</p>
<p>aws kinesis create-stream --stream-name MyDataStream --shard-count 5</p>
<p>```</p>
<p>Considerations:</p>
<p>- Shard count determines throughput capacity and cost</p>
<p>- Partition key design affects data distribution across shards</p>
<p>- Enhanced fan-out for high-demand consumers requires explicit configuration</p>
<p>- Consumer applications often use Kinesis Client Library \(KCL) with DynamoDB for checkpointing</p>
<p>#### SQS Configuration</p>
<p>```</p>
<p># AWS CLI example for creating an SQS queue</p>
<p>aws sqs create-queue --queue-name MyQueue --attributes DelaySeconds=0,MaximumMessageSize=262144</p>
<p>```</p>
<p>Considerations:</p>
<p>- Queue type selection \(Standard vs. FIFO) based on ordering requirements</p>
<p>- Appropriate visibility timeout to prevent duplicate processing</p>
<p>- Dead-letter queue configuration for handling failed message processing</p>
<p>- Message retention period based on application requirements</p>
<p>### Integration with AWS Ecosystem</p>
<p>#### Kinesis Integrations</p>
<p>Kinesis integrates seamlessly with many AWS services:</p>
<p>- **Lambda** : For serverless stream processing</p>
<p>- **Firehose** : For delivery to S3, Redshift, Elasticsearch, or Splunk</p>
<p>- **Analytics** : For SQL queries against streaming data</p>
<p>- **Data Warehouse Services** : Direct integration with Redshift and S3</p>
<p>#### SQS Integrations</p>
<p>SQS works well with:</p>
<p>- **Lambda** : Direct invocation when messages arrive</p>
<p>- **EC2/ECS** : For traditional worker patterns</p>
<p>- **Step Functions** : For complex workflows</p>
<p>- **EventBridge** : For event-driven architectures</p>
<p>### Best Practices</p>
<p>#### Kinesis Best Practices</p>
<p>- Use shard-level metrics to monitor performance and identify hotspots</p>
<p>- Monitor IteratorAge metric to prevent data loss from expired iterators</p>
<p>- Implement proper exception handling for "poison messages" that can cause batch failures</p>
<p>- Design partition keys to distribute data evenly across shards</p>
<p>- Consider enhanced fan-out for high-throughput consumers</p>
<p>#### SQS Best Practices</p>
<p>- Configure appropriate visibility timeout based on expected processing time</p>
<p>- Implement dead-letter queues to capture and analyze failed messages</p>
<p>- Use batch operations \(SendMessageBatch, ReceiveMessage with MaxNumberOfMessages) for efficiency</p>
<p>- Implement exponential backoff for handling throttling conditions</p>
<p>- Consider long polling to reduce empty responses and API calls</p>
<p>## Cost and Comparison</p>
<p>### Pricing and Cost Optimization</p>
<p>| **Aspect**| **Kinesis**| **SQS**|</p>
<p>| - | - | - |</p>
<p>| Pricing Model| Pay per shard-hour or on-demand| Pay per million requests|</p>
<p>| Small Volume Cost| Higher cost floor| More cost-effective|</p>
<p>| Large Volume Cost| More efficient at very high throughput| Can become expensive at extreme scales|</p>
<p>| Cost Estimation| Based on shard count and data volume| Based on request count and retention|</p>
<p>At small data volumes \(1GB/day), SQS is significantly less expensive \(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.20</mn><mi mathvariant="normal">/</mi><mi>m</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>h</mi><mi>v</mi><mi>s</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">0.20/month vs. </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">0.20/</span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">s</span><span class="mord">.</span></span></span></span></span>10.82/month for Kinesis). However, as volume increases to 1TB/day, Kinesis becomes more cost-effective \(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>158</mn><mi mathvariant="normal">/</mi><mi>m</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>h</mi><mi>v</mi><mi>s</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">158/month vs. </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">158/</span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">s</span><span class="mord">.</span></span></span></span></span>201/month for SQS).</p>
<p>### Comparison with Alternative Solutions</p>
<p>#### Kinesis vs. Confluent \(Kafka)</p>
<p>| **Aspect**| **Kinesis**| **Confluent**|</p>
<p>| - | - | - |</p>
<p>| Focus| Streaming data service| Complete streaming platform|</p>
<p>| Data Model| Streams &amp; Shards| Distributed commit logs \(topics)|</p>
<p>| Retention| Up to 365 days| Unlimited potential retention|</p>
<p>| Ecosystem| AWS services integration| Rich connector ecosystem|</p>
<p>| Management| Fully managed by AWS| Self-managed or Confluent Cloud|</p>
<p>Confluent offers greater flexibility and unlimited retention compared to Kinesis' maximum 365-day retention. However, Kinesis provides tighter integration with AWS services and lower operational overhead.</p>
<p>#### Kinesis vs. Redpanda</p>
<p>Redpanda offers higher performance than Kinesis with fewer resources due to its C\+\+ foundation and efficient design. It excels in self-hosted environments with three times fewer nodes than traditional Kafka setups. However, Kinesis benefits from being a fully managed AWS service with automatic scaling and tight AWS ecosystem integration.</p>
<p>## Decision Framework</p>
<p>When choosing between these services, consider:</p>
<p>1. **Data Characteristics** :</p>
<p>Â  Â  - Volume: High-volume streaming data favors Kinesis</p>
<p>Â  Â  - Ordering: If strict ordering is required, use Kinesis or SQS FIFO</p>
<p>Â  Â  - Retention: Long retention needs favor Kinesis</p>
<p>2. **Consumption Pattern** :</p>
<p>Â  Â  - Single consumer: SQS is simpler</p>
<p>Â  Â  - Multiple consumers: Kinesis allows multiple applications to process the same data</p>
<p>3. **Operational Preferences** :</p>
<p>Â  Â  - Fully managed with minimal configuration: SQS</p>
<p>Â  Â  - Control over scaling and processing: Kinesis</p>
<p>4. **Integration Requirements** :</p>
<p>Â  Â  - Deep AWS integration: Both work well</p>
<p>Â  Â  - Event-driven architectures: SQS often simpler</p>
<p>Â  Â  - Real-time analytics pipeline: Kinesis preferred</p>
<p>## Conclusion</p>
<p>Amazon Kinesis and SQS serve different but complementary purposes in distributed architectures. Kinesis excels at high-volume, real-time data streaming with multiple consumers, while SQS provides simple, reliable message queuing for decoupling application components.</p>
<p>Many modern architectures leverage both: Kinesis for capturing and processing high-volume streaming data and SQS for reliable task distribution and application decoupling. Understanding their distinct characteristics and selecting the right service \(or combination) for your specific use case is essential for building efficient, scalable, and cost-effective cloud-native applications.</p>
<p>If you find this content helpful, you might also be interested in our product [AutoMQ](<a href="https://link.juejin.cn?target=https%3A%2F%2Fautomq.com%2F" target="_blank" title="https://automq.com/" ref="nofollow noopener noreferrer">automq.com/</a>). AutoMQ is a cloud-native alternative to Kafka by decoupling durability to S3 and EBS. 10x Cost-Effective. No Cross-AZ Traffic Cost. Autoscale in seconds. Single-digit ms latency. AutoMQ now is [source code available](<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FAutoMQ%2Fautomq" target="_blank" title="https://github.com/AutoMQ/automq" ref="nofollow noopener noreferrer">github.com/AutoMQ/autoâ€¦</a>) on github. Big Companies Worldwide are Using AutoMQ. Check the following case studies to learn more:</p>
<p>- [Grab: Driving Efficiency with AutoMQ in DataStreaming Platform](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DIB8sh639Rsg" target="_blank" title="https://www.youtube.com/watch?v=IB8sh639Rsg" ref="nofollow noopener noreferrer">www.youtube.com/watch?v=IB8â€¦</a>)</p>
<p>- [Palmpay Uses AutoMQ to Replace Kafka, Optimizing Costs by 50%\+](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fpalmpay-uses-automq-to-replace-kafka" target="_blank" title="https://www.automq.com/blog/palmpay-uses-automq-to-replace-kafka" ref="nofollow noopener noreferrer">www.automq.com/blog/palmpaâ€¦</a>)</p>
<p>- [AutoMQ help Geely Auto\(Fortune Global 500) solve the pain points of Kafka elasticity in the V2X scenario](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fautomq-help-geely-auto-solve-the-pain-points-of-kafka-elasticity-in-the-v2x-scenario" target="_blank" title="https://www.automq.com/blog/automq-help-geely-auto-solve-the-pain-points-of-kafka-elasticity-in-the-v2x-scenario" ref="nofollow noopener noreferrer">www.automq.com/blog/automqâ€¦</a>)</p>
<p>- [How Asiaâ€™s Quora Zhihu uses AutoMQ to reduce Kafka cost and maintenance complexity](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fhow-asias-quora-zhihu-use-automq-to-reduce-kafka-cost-and-maintenance-complexity" target="_blank" title="https://www.automq.com/blog/how-asias-quora-zhihu-use-automq-to-reduce-kafka-cost-and-maintenance-complexity" ref="nofollow noopener noreferrer">www.automq.com/blog/how-asâ€¦</a>)</p>
<p>- [XPENG Motors Reduces Costs by 50%\+ by Replacing Kafka with AutoMQ](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fxpeng-motors-reduces-costs-by-50-by-replacing-kafka-with-automq" target="_blank" title="https://www.automq.com/blog/xpeng-motors-reduces-costs-by-50-by-replacing-kafka-with-automq" ref="nofollow noopener noreferrer">www.automq.com/blog/xpeng-â€¦</a>)</p>
<p>- [Asia's GOAT, Poizon uses AutoMQ Kafka to build observability platform for massive data\(30 GB/s)](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fasiax27s-goat-poizon-uses-automq-kafka-to-build-a-new-generation-observability-platform-for-massive-data" target="_blank" title="https://www.automq.com/blog/asiax27s-goat-poizon-uses-automq-kafka-to-build-a-new-generation-observability-platform-for-massive-data" ref="nofollow noopener noreferrer">www.automq.com/blog/asiax2â€¦</a>)</p>
<p>- [AutoMQ Helps CaoCao Mobility Address Kafka Scalability During Holidays](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fautomq-helps-caocao-mobility-address-kafka-scalability-issues-during-mid-autumn-and-national-day" target="_blank" title="https://www.automq.com/blog/automq-helps-caocao-mobility-address-kafka-scalability-issues-during-mid-autumn-and-national-day" ref="nofollow noopener noreferrer">www.automq.com/blog/automqâ€¦</a>)</p>
<p>- [JD.com](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fjdcom-automq-cubefs-trillion-scale-kafka-messaging)%255C%255B" target="_blank" title="https://www.automq.com/blog/jdcom-automq-cubefs-trillion-scale-kafka-messaging)%5C%5B" ref="nofollow noopener noreferrer">www.automq.com/blog/jdcom-â€¦</a> x AutoMQ x CubeFS: A Cost-Effective Journey at Trillion-Scale Kafka Messaging](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fjdcom-automq-cubefs-trillion-scale-kafka-messaging" target="_blank" title="https://www.automq.com/blog/jdcom-automq-cubefs-trillion-scale-kafka-messaging" ref="nofollow noopener noreferrer">www.automq.com/blog/jdcom-â€¦</a>)</p>
<p>![](./amazon-kinesis-vs-sqs-differences-comparison/3.webp)</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Amazon Kinesis vs. SQS: Differences & Comparison]]></title>    <link>https://juejin.cn/post/7602225961096069154</link>    <guid>https://juejin.cn/post/7602225961096069154</guid>    <pubDate>2026-02-03T10:50:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602225961096069154" data-draft-id="7602246300453716003" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Amazon Kinesis vs. SQS: Differences &amp; Comparison"/> <meta itemprop="keywords" content="AWS"/> <meta itemprop="datePublished" content="2026-02-03T10:50:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AutoMQ"/> <meta itemprop="url" content="https://juejin.cn/user/2878958479084707"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Amazon Kinesis vs. SQS: Differences &amp; Comparison
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2878958479084707/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AutoMQ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T10:50:44.000Z" title="Tue Feb 03 2026 10:50:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p># Amazon Kinesis vs. SQS: Differences &amp; Comparison</p>
<p>## Overview</p>
<p>Amazon Web Services \(AWS) offers multiple messaging and streaming services, with Amazon Kinesis and Amazon Simple Queue Service \(SQS) being two of the most widely used options. While both facilitate data movement between application components, they serve fundamentally different purposes and excel in different scenarios. This comprehensive comparison explores their key differences, use cases, and technical considerations.</p>
<p>Before diving into the detailed comparison, the key finding is that Kinesis is optimized for real-time, high-volume data streaming with multiple consumers, while SQS excels at reliable message queuing for decoupling application components with simpler operational requirements.</p>
<p>## Core Concepts and Architecture</p>
<p>### Amazon Kinesis</p>
<p>Kinesis is a platform for streaming data on AWS, allowing real-time processing of high-volume data streams. It's built on the concept of persistent data streams composed of shards, which represent the base throughput unit.</p>
<p>Key components include:</p>
<p>- **Data Streams** : Core service for capturing and storing streaming data</p>
<p>- **Shards** : Base throughput units \(1MB/sec input, 2MB/sec output per shard)</p>
<p>- **Records** : Data units with partition keys for distribution across shards</p>
<p>- **Retention** : Data persists for 24 hours by default, configurable up to 365 days</p>
<p>![](./amazon-kinesis-vs-sqs-differences-comparison/1.webp)</p>
<p>### Amazon SQS</p>
<p>SQS is a fully managed message queuing service designed to decouple and scale microservices, distributed systems, and serverless applications. It provides a simple queue model with guaranteed at-least-once delivery.</p>
<p>Key components include:</p>
<p>- **Queues** : Standard \(high throughput) or FIFO \(ordered delivery)</p>
<p>- **Messages** : Individual data units \(up to 256KB each)</p>
<p>- **Visibility Timeout** : Period during which messages are invisible after being retrieved</p>
<p>- **Retention** : Messages persist up to 4 days by default, configurable from 1 minute to 14 days</p>
<p>![](./amazon-kinesis-vs-sqs-differences-comparison/2.webp)</p>
<p>## Key Differences</p>
<p>### Purpose and Design Philosophy</p>
<p>| **Aspect**| **Kinesis**| **SQS**|</p>
<p>| - | - | - |</p>
<p>| Primary Purpose| Real-time data streaming and analytics| Message queuing and application decoupling|</p>
<p>| Design Focus| High-volume streaming data processing| Reliable message delivery between components|</p>
<p>| Processing Model| Stream processing with multiple consumers| Queue processing with individual consumers|</p>
<p>| Data Lifecycle| Persistent with configurable retention| Deleted after successful processing|</p>
<p>Kinesis is primarily designed for real-time data streaming applications that need to process and analyze large volumes of continuous data. SQS, on the other hand, focuses on reliable message queuing to decouple application components and ensure message delivery.</p>
<p>### Data Model and Consumption Patterns</p>
<p>Kinesis maintains data streams that can be read by multiple consumers simultaneously, allowing for different applications to process the same data independently. With SQS, each message is typically processed by a single consumer and then deleted from the queue.</p>
<p>### Message Ordering and Delivery Guarantees</p>
<p>Kinesis preserves the ordering of records at the shard level, meaning records with the same partition key will be processed in order. SQS offers two queue types:</p>
<p>- **Standard queues** : High throughput with at-least-once delivery but no guaranteed order</p>
<p>- **FIFO queues** : Exactly-once processing with guaranteed ordering but lower throughput</p>
<p>### Scalability Characteristics</p>
<p>| **Feature**| **Kinesis**| **SQS**|</p>
<p>| - | - | - |</p>
<p>| Scaling Model| Manual provisioning or on-demand| Fully automatic|</p>
<p>| Throughput Limits| 1MB/s in, 2MB/s out per shard| 3,000 msgs/sec standard, 30,000 msgs/sec high throughput|</p>
<p>| Maximum Message Size| 1MB| 256KB|</p>
<p>| Operational Overhead| Higher \(shard management)| Lower \(fully managed)|</p>
<p>Kinesis requires explicit capacity planning through shard provisioning, whereas SQS scales automatically to match demand. However, Kinesis can achieve higher overall throughput with appropriate shard allocation.</p>
<p>## Use Cases</p>
<p>### When to Use Kinesis</p>
<p>- **Real-time Analytics** : Processing streaming data for immediate insights</p>
<p>- **IoT Data Processing** : Handling large-scale data from IoT devices</p>
<p>- **Log and Event Data Collection** : Centralized collection of logs and events</p>
<p>- **Clickstream Analysis** : Processing website user activity in real-time</p>
<p>- **Multiple Consumer Applications** : When multiple applications need to process the same data</p>
<p>### When to Use SQS</p>
<p>- **Application Decoupling** : Separating components of distributed applications</p>
<p>- **Task Queues** : Managing job processing and workload distribution</p>
<p>- **Batch Processing** : Queuing items for batch processing workflows</p>
<p>- **Microservice Communication** : Reliable messaging between microservices</p>
<p>- **Load Leveling** : Smoothing out traffic spikes to backend systems</p>
<p>### Hybrid Approaches</p>
<p>Some architectures benefit from using both services together:</p>
<p>- Using Kinesis for initial high-volume data capture and SQS for specific processing tasks</p>
<p>- Implementing Kinesis for real-time processing and SQS for task distribution to workers</p>
<p>## Implementation Details</p>
<p>### Configuration and Management</p>
<p>#### Kinesis Configuration</p>
<p>```</p>
<p># AWS CLI example for creating a Kinesis stream</p>
<p>aws kinesis create-stream --stream-name MyDataStream --shard-count 5</p>
<p>```</p>
<p>Considerations:</p>
<p>- Shard count determines throughput capacity and cost</p>
<p>- Partition key design affects data distribution across shards</p>
<p>- Enhanced fan-out for high-demand consumers requires explicit configuration</p>
<p>- Consumer applications often use Kinesis Client Library \(KCL) with DynamoDB for checkpointing</p>
<p>#### SQS Configuration</p>
<p>```</p>
<p># AWS CLI example for creating an SQS queue</p>
<p>aws sqs create-queue --queue-name MyQueue --attributes DelaySeconds=0,MaximumMessageSize=262144</p>
<p>```</p>
<p>Considerations:</p>
<p>- Queue type selection \(Standard vs. FIFO) based on ordering requirements</p>
<p>- Appropriate visibility timeout to prevent duplicate processing</p>
<p>- Dead-letter queue configuration for handling failed message processing</p>
<p>- Message retention period based on application requirements</p>
<p>### Integration with AWS Ecosystem</p>
<p>#### Kinesis Integrations</p>
<p>Kinesis integrates seamlessly with many AWS services:</p>
<p>- **Lambda** : For serverless stream processing</p>
<p>- **Firehose** : For delivery to S3, Redshift, Elasticsearch, or Splunk</p>
<p>- **Analytics** : For SQL queries against streaming data</p>
<p>- **Data Warehouse Services** : Direct integration with Redshift and S3</p>
<p>#### SQS Integrations</p>
<p>SQS works well with:</p>
<p>- **Lambda** : Direct invocation when messages arrive</p>
<p>- **EC2/ECS** : For traditional worker patterns</p>
<p>- **Step Functions** : For complex workflows</p>
<p>- **EventBridge** : For event-driven architectures</p>
<p>### Best Practices</p>
<p>#### Kinesis Best Practices</p>
<p>- Use shard-level metrics to monitor performance and identify hotspots</p>
<p>- Monitor IteratorAge metric to prevent data loss from expired iterators</p>
<p>- Implement proper exception handling for "poison messages" that can cause batch failures</p>
<p>- Design partition keys to distribute data evenly across shards</p>
<p>- Consider enhanced fan-out for high-throughput consumers</p>
<p>#### SQS Best Practices</p>
<p>- Configure appropriate visibility timeout based on expected processing time</p>
<p>- Implement dead-letter queues to capture and analyze failed messages</p>
<p>- Use batch operations \(SendMessageBatch, ReceiveMessage with MaxNumberOfMessages) for efficiency</p>
<p>- Implement exponential backoff for handling throttling conditions</p>
<p>- Consider long polling to reduce empty responses and API calls</p>
<p>## Cost and Comparison</p>
<p>### Pricing and Cost Optimization</p>
<p>| **Aspect**| **Kinesis**| **SQS**|</p>
<p>| - | - | - |</p>
<p>| Pricing Model| Pay per shard-hour or on-demand| Pay per million requests|</p>
<p>| Small Volume Cost| Higher cost floor| More cost-effective|</p>
<p>| Large Volume Cost| More efficient at very high throughput| Can become expensive at extreme scales|</p>
<p>| Cost Estimation| Based on shard count and data volume| Based on request count and retention|</p>
<p>At small data volumes \(1GB/day), SQS is significantly less expensive \(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.20</mn><mi mathvariant="normal">/</mi><mi>m</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>h</mi><mi>v</mi><mi>s</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">0.20/month vs. </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">0.20/</span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">s</span><span class="mord">.</span></span></span></span></span>10.82/month for Kinesis). However, as volume increases to 1TB/day, Kinesis becomes more cost-effective \(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>158</mn><mi mathvariant="normal">/</mi><mi>m</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>h</mi><mi>v</mi><mi>s</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">158/month vs. </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">158/</span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">s</span><span class="mord">.</span></span></span></span></span>201/month for SQS).</p>
<p>### Comparison with Alternative Solutions</p>
<p>#### Kinesis vs. Confluent \(Kafka)</p>
<p>| **Aspect**| **Kinesis**| **Confluent**|</p>
<p>| - | - | - |</p>
<p>| Focus| Streaming data service| Complete streaming platform|</p>
<p>| Data Model| Streams &amp; Shards| Distributed commit logs \(topics)|</p>
<p>| Retention| Up to 365 days| Unlimited potential retention|</p>
<p>| Ecosystem| AWS services integration| Rich connector ecosystem|</p>
<p>| Management| Fully managed by AWS| Self-managed or Confluent Cloud|</p>
<p>Confluent offers greater flexibility and unlimited retention compared to Kinesis' maximum 365-day retention. However, Kinesis provides tighter integration with AWS services and lower operational overhead.</p>
<p>#### Kinesis vs. Redpanda</p>
<p>Redpanda offers higher performance than Kinesis with fewer resources due to its C\+\+ foundation and efficient design. It excels in self-hosted environments with three times fewer nodes than traditional Kafka setups. However, Kinesis benefits from being a fully managed AWS service with automatic scaling and tight AWS ecosystem integration.</p>
<p>## Decision Framework</p>
<p>When choosing between these services, consider:</p>
<p>1. **Data Characteristics** :</p>
<p>Â  Â  - Volume: High-volume streaming data favors Kinesis</p>
<p>Â  Â  - Ordering: If strict ordering is required, use Kinesis or SQS FIFO</p>
<p>Â  Â  - Retention: Long retention needs favor Kinesis</p>
<p>2. **Consumption Pattern** :</p>
<p>Â  Â  - Single consumer: SQS is simpler</p>
<p>Â  Â  - Multiple consumers: Kinesis allows multiple applications to process the same data</p>
<p>3. **Operational Preferences** :</p>
<p>Â  Â  - Fully managed with minimal configuration: SQS</p>
<p>Â  Â  - Control over scaling and processing: Kinesis</p>
<p>4. **Integration Requirements** :</p>
<p>Â  Â  - Deep AWS integration: Both work well</p>
<p>Â  Â  - Event-driven architectures: SQS often simpler</p>
<p>Â  Â  - Real-time analytics pipeline: Kinesis preferred</p>
<p>## Conclusion</p>
<p>Amazon Kinesis and SQS serve different but complementary purposes in distributed architectures. Kinesis excels at high-volume, real-time data streaming with multiple consumers, while SQS provides simple, reliable message queuing for decoupling application components.</p>
<p>Many modern architectures leverage both: Kinesis for capturing and processing high-volume streaming data and SQS for reliable task distribution and application decoupling. Understanding their distinct characteristics and selecting the right service \(or combination) for your specific use case is essential for building efficient, scalable, and cost-effective cloud-native applications.</p>
<p>If you find this content helpful, you might also be interested in our product [AutoMQ](<a href="https://link.juejin.cn?target=https%3A%2F%2Fautomq.com%2F" target="_blank" title="https://automq.com/" ref="nofollow noopener noreferrer">automq.com/</a>). AutoMQ is a cloud-native alternative to Kafka by decoupling durability to S3 and EBS. 10x Cost-Effective. No Cross-AZ Traffic Cost. Autoscale in seconds. Single-digit ms latency. AutoMQ now is [source code available](<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FAutoMQ%2Fautomq" target="_blank" title="https://github.com/AutoMQ/automq" ref="nofollow noopener noreferrer">github.com/AutoMQ/autoâ€¦</a>) on github. Big Companies Worldwide are Using AutoMQ. Check the following case studies to learn more:</p>
<p>- [Grab: Driving Efficiency with AutoMQ in DataStreaming Platform](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DIB8sh639Rsg" target="_blank" title="https://www.youtube.com/watch?v=IB8sh639Rsg" ref="nofollow noopener noreferrer">www.youtube.com/watch?v=IB8â€¦</a>)</p>
<p>- [Palmpay Uses AutoMQ to Replace Kafka, Optimizing Costs by 50%\+](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fpalmpay-uses-automq-to-replace-kafka" target="_blank" title="https://www.automq.com/blog/palmpay-uses-automq-to-replace-kafka" ref="nofollow noopener noreferrer">www.automq.com/blog/palmpaâ€¦</a>)</p>
<p>- [AutoMQ help Geely Auto\(Fortune Global 500) solve the pain points of Kafka elasticity in the V2X scenario](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fautomq-help-geely-auto-solve-the-pain-points-of-kafka-elasticity-in-the-v2x-scenario" target="_blank" title="https://www.automq.com/blog/automq-help-geely-auto-solve-the-pain-points-of-kafka-elasticity-in-the-v2x-scenario" ref="nofollow noopener noreferrer">www.automq.com/blog/automqâ€¦</a>)</p>
<p>- [How Asiaâ€™s Quora Zhihu uses AutoMQ to reduce Kafka cost and maintenance complexity](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fhow-asias-quora-zhihu-use-automq-to-reduce-kafka-cost-and-maintenance-complexity" target="_blank" title="https://www.automq.com/blog/how-asias-quora-zhihu-use-automq-to-reduce-kafka-cost-and-maintenance-complexity" ref="nofollow noopener noreferrer">www.automq.com/blog/how-asâ€¦</a>)</p>
<p>- [XPENG Motors Reduces Costs by 50%\+ by Replacing Kafka with AutoMQ](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fxpeng-motors-reduces-costs-by-50-by-replacing-kafka-with-automq" target="_blank" title="https://www.automq.com/blog/xpeng-motors-reduces-costs-by-50-by-replacing-kafka-with-automq" ref="nofollow noopener noreferrer">www.automq.com/blog/xpeng-â€¦</a>)</p>
<p>- [Asia's GOAT, Poizon uses AutoMQ Kafka to build observability platform for massive data\(30 GB/s)](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fasiax27s-goat-poizon-uses-automq-kafka-to-build-a-new-generation-observability-platform-for-massive-data" target="_blank" title="https://www.automq.com/blog/asiax27s-goat-poizon-uses-automq-kafka-to-build-a-new-generation-observability-platform-for-massive-data" ref="nofollow noopener noreferrer">www.automq.com/blog/asiax2â€¦</a>)</p>
<p>- [AutoMQ Helps CaoCao Mobility Address Kafka Scalability During Holidays](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fautomq-helps-caocao-mobility-address-kafka-scalability-issues-during-mid-autumn-and-national-day" target="_blank" title="https://www.automq.com/blog/automq-helps-caocao-mobility-address-kafka-scalability-issues-during-mid-autumn-and-national-day" ref="nofollow noopener noreferrer">www.automq.com/blog/automqâ€¦</a>)</p>
<p>- [JD.com](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fjdcom-automq-cubefs-trillion-scale-kafka-messaging)%255C%255B" target="_blank" title="https://www.automq.com/blog/jdcom-automq-cubefs-trillion-scale-kafka-messaging)%5C%5B" ref="nofollow noopener noreferrer">www.automq.com/blog/jdcom-â€¦</a> x AutoMQ x CubeFS: A Cost-Effective Journey at Trillion-Scale Kafka Messaging](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fjdcom-automq-cubefs-trillion-scale-kafka-messaging" target="_blank" title="https://www.automq.com/blog/jdcom-automq-cubefs-trillion-scale-kafka-messaging" ref="nofollow noopener noreferrer">www.automq.com/blog/jdcom-â€¦</a>)</p>
<p>![](./amazon-kinesis-vs-sqs-differences-comparison/3.webp)</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Amazon Kinesis vs. SQS: Differences & Comparison]]></title>    <link>https://juejin.cn/post/7602188264115388431</link>    <guid>https://juejin.cn/post/7602188264115388431</guid>    <pubDate>2026-02-03T10:52:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602188264115388431" data-draft-id="7602246300453732387" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Amazon Kinesis vs. SQS: Differences &amp; Comparison"/> <meta itemprop="keywords" content="AWS"/> <meta itemprop="datePublished" content="2026-02-03T10:52:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AutoMQ"/> <meta itemprop="url" content="https://juejin.cn/user/2878958479084707"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Amazon Kinesis vs. SQS: Differences &amp; Comparison
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2878958479084707/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AutoMQ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T10:52:22.000Z" title="Tue Feb 03 2026 10:52:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p># Amazon Kinesis vs. SQS: Differences &amp; Comparison</p>
<p>## Overview</p>
<p>Amazon Web Services \(AWS) offers multiple messaging and streaming services, with Amazon Kinesis and Amazon Simple Queue Service \(SQS) being two of the most widely used options. While both facilitate data movement between application components, they serve fundamentally different purposes and excel in different scenarios. This comprehensive comparison explores their key differences, use cases, and technical considerations.</p>
<p>Before diving into the detailed comparison, the key finding is that Kinesis is optimized for real-time, high-volume data streaming with multiple consumers, while SQS excels at reliable message queuing for decoupling application components with simpler operational requirements.</p>
<p>## Core Concepts and Architecture</p>
<p>### Amazon Kinesis</p>
<p>Kinesis is a platform for streaming data on AWS, allowing real-time processing of high-volume data streams. It's built on the concept of persistent data streams composed of shards, which represent the base throughput unit.</p>
<p>Key components include:</p>
<p>- **Data Streams** : Core service for capturing and storing streaming data</p>
<p>- **Shards** : Base throughput units \(1MB/sec input, 2MB/sec output per shard)</p>
<p>- **Records** : Data units with partition keys for distribution across shards</p>
<p>- **Retention** : Data persists for 24 hours by default, configurable up to 365 days</p>
<p>![](./amazon-kinesis-vs-sqs-differences-comparison/1.webp)</p>
<p>### Amazon SQS</p>
<p>SQS is a fully managed message queuing service designed to decouple and scale microservices, distributed systems, and serverless applications. It provides a simple queue model with guaranteed at-least-once delivery.</p>
<p>Key components include:</p>
<p>- **Queues** : Standard \(high throughput) or FIFO \(ordered delivery)</p>
<p>- **Messages** : Individual data units \(up to 256KB each)</p>
<p>- **Visibility Timeout** : Period during which messages are invisible after being retrieved</p>
<p>- **Retention** : Messages persist up to 4 days by default, configurable from 1 minute to 14 days</p>
<p>![](./amazon-kinesis-vs-sqs-differences-comparison/2.webp)</p>
<p>## Key Differences</p>
<p>### Purpose and Design Philosophy</p>
<p>| **Aspect**| **Kinesis**| **SQS**|</p>
<p>| - | - | - |</p>
<p>| Primary Purpose| Real-time data streaming and analytics| Message queuing and application decoupling|</p>
<p>| Design Focus| High-volume streaming data processing| Reliable message delivery between components|</p>
<p>| Processing Model| Stream processing with multiple consumers| Queue processing with individual consumers|</p>
<p>| Data Lifecycle| Persistent with configurable retention| Deleted after successful processing|</p>
<p>Kinesis is primarily designed for real-time data streaming applications that need to process and analyze large volumes of continuous data. SQS, on the other hand, focuses on reliable message queuing to decouple application components and ensure message delivery.</p>
<p>### Data Model and Consumption Patterns</p>
<p>Kinesis maintains data streams that can be read by multiple consumers simultaneously, allowing for different applications to process the same data independently. With SQS, each message is typically processed by a single consumer and then deleted from the queue.</p>
<p>### Message Ordering and Delivery Guarantees</p>
<p>Kinesis preserves the ordering of records at the shard level, meaning records with the same partition key will be processed in order. SQS offers two queue types:</p>
<p>- **Standard queues** : High throughput with at-least-once delivery but no guaranteed order</p>
<p>- **FIFO queues** : Exactly-once processing with guaranteed ordering but lower throughput</p>
<p>### Scalability Characteristics</p>
<p>| **Feature**| **Kinesis**| **SQS**|</p>
<p>| - | - | - |</p>
<p>| Scaling Model| Manual provisioning or on-demand| Fully automatic|</p>
<p>| Throughput Limits| 1MB/s in, 2MB/s out per shard| 3,000 msgs/sec standard, 30,000 msgs/sec high throughput|</p>
<p>| Maximum Message Size| 1MB| 256KB|</p>
<p>| Operational Overhead| Higher \(shard management)| Lower \(fully managed)|</p>
<p>Kinesis requires explicit capacity planning through shard provisioning, whereas SQS scales automatically to match demand. However, Kinesis can achieve higher overall throughput with appropriate shard allocation.</p>
<p>## Use Cases</p>
<p>### When to Use Kinesis</p>
<p>- **Real-time Analytics** : Processing streaming data for immediate insights</p>
<p>- **IoT Data Processing** : Handling large-scale data from IoT devices</p>
<p>- **Log and Event Data Collection** : Centralized collection of logs and events</p>
<p>- **Clickstream Analysis** : Processing website user activity in real-time</p>
<p>- **Multiple Consumer Applications** : When multiple applications need to process the same data</p>
<p>### When to Use SQS</p>
<p>- **Application Decoupling** : Separating components of distributed applications</p>
<p>- **Task Queues** : Managing job processing and workload distribution</p>
<p>- **Batch Processing** : Queuing items for batch processing workflows</p>
<p>- **Microservice Communication** : Reliable messaging between microservices</p>
<p>- **Load Leveling** : Smoothing out traffic spikes to backend systems</p>
<p>### Hybrid Approaches</p>
<p>Some architectures benefit from using both services together:</p>
<p>- Using Kinesis for initial high-volume data capture and SQS for specific processing tasks</p>
<p>- Implementing Kinesis for real-time processing and SQS for task distribution to workers</p>
<p>## Implementation Details</p>
<p>### Configuration and Management</p>
<p>#### Kinesis Configuration</p>
<p>```</p>
<p># AWS CLI example for creating a Kinesis stream</p>
<p>aws kinesis create-stream --stream-name MyDataStream --shard-count 5</p>
<p>```</p>
<p>Considerations:</p>
<p>- Shard count determines throughput capacity and cost</p>
<p>- Partition key design affects data distribution across shards</p>
<p>- Enhanced fan-out for high-demand consumers requires explicit configuration</p>
<p>- Consumer applications often use Kinesis Client Library \(KCL) with DynamoDB for checkpointing</p>
<p>#### SQS Configuration</p>
<p>```</p>
<p># AWS CLI example for creating an SQS queue</p>
<p>aws sqs create-queue --queue-name MyQueue --attributes DelaySeconds=0,MaximumMessageSize=262144</p>
<p>```</p>
<p>Considerations:</p>
<p>- Queue type selection \(Standard vs. FIFO) based on ordering requirements</p>
<p>- Appropriate visibility timeout to prevent duplicate processing</p>
<p>- Dead-letter queue configuration for handling failed message processing</p>
<p>- Message retention period based on application requirements</p>
<p>### Integration with AWS Ecosystem</p>
<p>#### Kinesis Integrations</p>
<p>Kinesis integrates seamlessly with many AWS services:</p>
<p>- **Lambda** : For serverless stream processing</p>
<p>- **Firehose** : For delivery to S3, Redshift, Elasticsearch, or Splunk</p>
<p>- **Analytics** : For SQL queries against streaming data</p>
<p>- **Data Warehouse Services** : Direct integration with Redshift and S3</p>
<p>#### SQS Integrations</p>
<p>SQS works well with:</p>
<p>- **Lambda** : Direct invocation when messages arrive</p>
<p>- **EC2/ECS** : For traditional worker patterns</p>
<p>- **Step Functions** : For complex workflows</p>
<p>- **EventBridge** : For event-driven architectures</p>
<p>### Best Practices</p>
<p>#### Kinesis Best Practices</p>
<p>- Use shard-level metrics to monitor performance and identify hotspots</p>
<p>- Monitor IteratorAge metric to prevent data loss from expired iterators</p>
<p>- Implement proper exception handling for "poison messages" that can cause batch failures</p>
<p>- Design partition keys to distribute data evenly across shards</p>
<p>- Consider enhanced fan-out for high-throughput consumers</p>
<p>#### SQS Best Practices</p>
<p>- Configure appropriate visibility timeout based on expected processing time</p>
<p>- Implement dead-letter queues to capture and analyze failed messages</p>
<p>- Use batch operations \(SendMessageBatch, ReceiveMessage with MaxNumberOfMessages) for efficiency</p>
<p>- Implement exponential backoff for handling throttling conditions</p>
<p>- Consider long polling to reduce empty responses and API calls</p>
<p>## Cost and Comparison</p>
<p>### Pricing and Cost Optimization</p>
<p>| **Aspect**| **Kinesis**| **SQS**|</p>
<p>| - | - | - |</p>
<p>| Pricing Model| Pay per shard-hour or on-demand| Pay per million requests|</p>
<p>| Small Volume Cost| Higher cost floor| More cost-effective|</p>
<p>| Large Volume Cost| More efficient at very high throughput| Can become expensive at extreme scales|</p>
<p>| Cost Estimation| Based on shard count and data volume| Based on request count and retention|</p>
<p>At small data volumes \(1GB/day), SQS is significantly less expensive \(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.20</mn><mi mathvariant="normal">/</mi><mi>m</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>h</mi><mi>v</mi><mi>s</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">0.20/month vs. </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">0.20/</span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">s</span><span class="mord">.</span></span></span></span></span>10.82/month for Kinesis). However, as volume increases to 1TB/day, Kinesis becomes more cost-effective \(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>158</mn><mi mathvariant="normal">/</mi><mi>m</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>h</mi><mi>v</mi><mi>s</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">158/month vs. </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">158/</span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">s</span><span class="mord">.</span></span></span></span></span>201/month for SQS).</p>
<p>### Comparison with Alternative Solutions</p>
<p>#### Kinesis vs. Confluent \(Kafka)</p>
<p>| **Aspect**| **Kinesis**| **Confluent**|</p>
<p>| - | - | - |</p>
<p>| Focus| Streaming data service| Complete streaming platform|</p>
<p>| Data Model| Streams &amp; Shards| Distributed commit logs \(topics)|</p>
<p>| Retention| Up to 365 days| Unlimited potential retention|</p>
<p>| Ecosystem| AWS services integration| Rich connector ecosystem|</p>
<p>| Management| Fully managed by AWS| Self-managed or Confluent Cloud|</p>
<p>Confluent offers greater flexibility and unlimited retention compared to Kinesis' maximum 365-day retention. However, Kinesis provides tighter integration with AWS services and lower operational overhead.</p>
<p>#### Kinesis vs. Redpanda</p>
<p>Redpanda offers higher performance than Kinesis with fewer resources due to its C\+\+ foundation and efficient design. It excels in self-hosted environments with three times fewer nodes than traditional Kafka setups. However, Kinesis benefits from being a fully managed AWS service with automatic scaling and tight AWS ecosystem integration.</p>
<p>## Decision Framework</p>
<p>When choosing between these services, consider:</p>
<p>1. **Data Characteristics** :</p>
<p>Â  Â  - Volume: High-volume streaming data favors Kinesis</p>
<p>Â  Â  - Ordering: If strict ordering is required, use Kinesis or SQS FIFO</p>
<p>Â  Â  - Retention: Long retention needs favor Kinesis</p>
<p>2. **Consumption Pattern** :</p>
<p>Â  Â  - Single consumer: SQS is simpler</p>
<p>Â  Â  - Multiple consumers: Kinesis allows multiple applications to process the same data</p>
<p>3. **Operational Preferences** :</p>
<p>Â  Â  - Fully managed with minimal configuration: SQS</p>
<p>Â  Â  - Control over scaling and processing: Kinesis</p>
<p>4. **Integration Requirements** :</p>
<p>Â  Â  - Deep AWS integration: Both work well</p>
<p>Â  Â  - Event-driven architectures: SQS often simpler</p>
<p>Â  Â  - Real-time analytics pipeline: Kinesis preferred</p>
<p>## Conclusion</p>
<p>Amazon Kinesis and SQS serve different but complementary purposes in distributed architectures. Kinesis excels at high-volume, real-time data streaming with multiple consumers, while SQS provides simple, reliable message queuing for decoupling application components.</p>
<p>Many modern architectures leverage both: Kinesis for capturing and processing high-volume streaming data and SQS for reliable task distribution and application decoupling. Understanding their distinct characteristics and selecting the right service \(or combination) for your specific use case is essential for building efficient, scalable, and cost-effective cloud-native applications.</p>
<p>If you find this content helpful, you might also be interested in our product [AutoMQ](<a href="https://link.juejin.cn?target=https%3A%2F%2Fautomq.com%2F" target="_blank" title="https://automq.com/" ref="nofollow noopener noreferrer">automq.com/</a>). AutoMQ is a cloud-native alternative to Kafka by decoupling durability to S3 and EBS. 10x Cost-Effective. No Cross-AZ Traffic Cost. Autoscale in seconds. Single-digit ms latency. AutoMQ now is [source code available](<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FAutoMQ%2Fautomq" target="_blank" title="https://github.com/AutoMQ/automq" ref="nofollow noopener noreferrer">github.com/AutoMQ/autoâ€¦</a>) on github. Big Companies Worldwide are Using AutoMQ. Check the following case studies to learn more:</p>
<p>- [Grab: Driving Efficiency with AutoMQ in DataStreaming Platform](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DIB8sh639Rsg" target="_blank" title="https://www.youtube.com/watch?v=IB8sh639Rsg" ref="nofollow noopener noreferrer">www.youtube.com/watch?v=IB8â€¦</a>)</p>
<p>- [Palmpay Uses AutoMQ to Replace Kafka, Optimizing Costs by 50%\+](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fpalmpay-uses-automq-to-replace-kafka" target="_blank" title="https://www.automq.com/blog/palmpay-uses-automq-to-replace-kafka" ref="nofollow noopener noreferrer">www.automq.com/blog/palmpaâ€¦</a>)</p>
<p>- [AutoMQ help Geely Auto\(Fortune Global 500) solve the pain points of Kafka elasticity in the V2X scenario](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fautomq-help-geely-auto-solve-the-pain-points-of-kafka-elasticity-in-the-v2x-scenario" target="_blank" title="https://www.automq.com/blog/automq-help-geely-auto-solve-the-pain-points-of-kafka-elasticity-in-the-v2x-scenario" ref="nofollow noopener noreferrer">www.automq.com/blog/automqâ€¦</a>)</p>
<p>- [How Asiaâ€™s Quora Zhihu uses AutoMQ to reduce Kafka cost and maintenance complexity](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fhow-asias-quora-zhihu-use-automq-to-reduce-kafka-cost-and-maintenance-complexity" target="_blank" title="https://www.automq.com/blog/how-asias-quora-zhihu-use-automq-to-reduce-kafka-cost-and-maintenance-complexity" ref="nofollow noopener noreferrer">www.automq.com/blog/how-asâ€¦</a>)</p>
<p>- [XPENG Motors Reduces Costs by 50%\+ by Replacing Kafka with AutoMQ](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fxpeng-motors-reduces-costs-by-50-by-replacing-kafka-with-automq" target="_blank" title="https://www.automq.com/blog/xpeng-motors-reduces-costs-by-50-by-replacing-kafka-with-automq" ref="nofollow noopener noreferrer">www.automq.com/blog/xpeng-â€¦</a>)</p>
<p>- [Asia's GOAT, Poizon uses AutoMQ Kafka to build observability platform for massive data\(30 GB/s)](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fasiax27s-goat-poizon-uses-automq-kafka-to-build-a-new-generation-observability-platform-for-massive-data" target="_blank" title="https://www.automq.com/blog/asiax27s-goat-poizon-uses-automq-kafka-to-build-a-new-generation-observability-platform-for-massive-data" ref="nofollow noopener noreferrer">www.automq.com/blog/asiax2â€¦</a>)</p>
<p>- [AutoMQ Helps CaoCao Mobility Address Kafka Scalability During Holidays](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fautomq-helps-caocao-mobility-address-kafka-scalability-issues-during-mid-autumn-and-national-day" target="_blank" title="https://www.automq.com/blog/automq-helps-caocao-mobility-address-kafka-scalability-issues-during-mid-autumn-and-national-day" ref="nofollow noopener noreferrer">www.automq.com/blog/automqâ€¦</a>)</p>
<p>- [JD.com](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fjdcom-automq-cubefs-trillion-scale-kafka-messaging)%255C%255B" target="_blank" title="https://www.automq.com/blog/jdcom-automq-cubefs-trillion-scale-kafka-messaging)%5C%5B" ref="nofollow noopener noreferrer">www.automq.com/blog/jdcom-â€¦</a> x AutoMQ x CubeFS: A Cost-Effective Journey at Trillion-Scale Kafka Messaging](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2Fblog%2Fjdcom-automq-cubefs-trillion-scale-kafka-messaging" target="_blank" title="https://www.automq.com/blog/jdcom-automq-cubefs-trillion-scale-kafka-messaging" ref="nofollow noopener noreferrer">www.automq.com/blog/jdcom-â€¦</a>)</p>
<p>![](./amazon-kinesis-vs-sqs-differences-comparison/3.webp)</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨ AgentScope Java å¼€å®¶ AI å¥¶èŒ¶åº—]]></title>    <link>https://juejin.cn/post/7602057555451822134</link>    <guid>https://juejin.cn/post/7602057555451822134</guid>    <pubDate>2026-02-02T07:17:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602057555451822134" data-draft-id="7601728622824898603" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨ AgentScope Java å¼€å®¶ AI å¥¶èŒ¶åº—"/> <meta itemprop="keywords" content="Agent"/> <meta itemprop="datePublished" content="2026-02-02T07:17:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨ AgentScope Java å¼€å®¶ AI å¥¶èŒ¶åº—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T07:17:41.000Z" title="Mon Feb 02 2026 07:17:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šå±¿å±±</p>
<p>AgentScope æ˜¯é˜¿é‡Œäº‘æ¨å‡ºçš„ä¸€æ¬¾ä»¥å¼€å‘è€…ä¸ºæ ¸å¿ƒï¼Œä¸“æ³¨äºæ™ºèƒ½ä½“å¼€å‘çš„å¼€æºæ¡†æ¶ <strong>ã€‚</strong> å®ƒçš„æ ¸å¿ƒç›®æ ‡æ˜¯è§£å†³æ™ºèƒ½ä½“åœ¨æ„å»ºã€è¿è¡Œå’Œç®¡ç†ä¸­çš„éš¾é¢˜ï¼Œæä¾›ä¸€å¥—è¦†ç›–â€œå¼€å‘ã€éƒ¨ç½²ã€è°ƒä¼˜â€å…¨ç”Ÿå‘½å‘¨æœŸçš„ç”Ÿäº§çº§è§£å†³æ–¹æ¡ˆï¼Œè®©æ™ºèƒ½ä½“åº”ç”¨çš„å¼€å‘æ›´ç®€å•ã€è¿è¡Œæ›´ç¨³å®šã€æ•ˆæœæŒç»­ä¼˜åŒ–ã€‚</p>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>å»å¹´ 12 æœˆä»½ï¼Œç¤¾åŒºæ­£å¼å‘å¸ƒäº† AgentScope Java 1.0 ç‰ˆæœ¬ï¼Œé¢å‘ Java å¼€å‘è€…æä¾›ä¼ä¸šçº§ Agentic åº”ç”¨æ„å»ºçš„èƒ½åŠ›ã€‚åœ¨è¿‡å»çš„ä¸€ä¸ªå¤šæœˆï¼Œç¤¾åŒºå¿«é€Ÿè¿­ä»£åˆ°äº†Â 1.0.7Â ç‰ˆæœ¬ï¼Œåœ¨è¿™ 7 ä¸ªå°ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬æ›´æ–°äº†å¾ˆå¤šå®ç”¨çš„èƒ½åŠ›ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>æ·»åŠ å…¨é¢çš„ Ollama é›†æˆï¼Œæ”¯æŒèŠå¤©å’Œ embedding åŠŸèƒ½</li>
<li>æ–°å¢äº†å¯¹ Agent Skill çš„æ”¯æŒ</li>
<li>å†…ç½®çš„æ–‡ä»¶æ“ä½œå·¥å…·å’Œå¤šæ¨¡æ€å·¥å…·</li>
<li>å·¥å…·è°ƒç”¨Â HITLÂ </li>
<li>ä¸Šä¸‹æ–‡è‡ªåŠ¨å‹ç¼©</li>
<li>HTTP è¯·æ±‚å’Œå“åº”å†…å®¹å‹ç¼©</li>
<li>MySQL ä¼šè¯å­˜å‚¨</li>
<li>é›†æˆ Nacos çš„ A2A æ¶æ„</li>
<li>é›†æˆ Higress çš„å·¥å…·æœç´¢</li>
<li>â€¦â€¦</li>
</ul>
<p>è‡³æ­¤ AgentScope Java ä»¥ ReActAgent ä¸ºæ ¸å¿ƒï¼Œé…åˆä¼—å¤šå¼ºå¤§çš„èƒ½åŠ›ï¼Œå·²ç»èƒ½å¤Ÿèƒœä»»å¤§å¤šæ•°åœºæ™¯çš„ä»»åŠ¡ã€‚é¢å¯¹å¦‚æ­¤å¤šçš„èƒ½åŠ›ï¼Œå¾ˆå¤šåŒå­¦åœ¨ç¤¾åŒºåé¦ˆå…‰çœ‹æ–‡æ¡£å’Œå•ä¸€åŠŸèƒ½çš„ Example è¿˜æ˜¯ä¸å¤Ÿæ•ˆç‡ï¼Œä¸èƒ½å¿«é€Ÿåœ°ç”¨å¥½è¿™äº›èƒ½åŠ›ã€‚ä¸ºæ­¤æˆ‘ä»¬ç”¨ AgentScope Java å¼€äº†ä¸€å®¶å¥¶èŒ¶åº—ï¼Œæ¥ä½œä¸ºä¸€ä¸ªç»¼åˆçš„ Exampleï¼Œä¸ºå¤§å®¶æ¼”ç¤ºå¦‚ä½•æ›´å¥½åœ°ä½¿ç”¨ AgentScope Javaã€‚</p>
<h2 data-id="heading-1">è¿™å®¶åº—èƒ½å¹²å•¥ï¼Ÿ</h2>
<p>é¦–å…ˆæˆ‘ä»¬å…ˆä¸€èµ·çœ‹çœ‹è¿™å®¶åº—èƒ½å¹²å•¥ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16d7969383f640c1aa2087a4d22f8586~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770621461&amp;x-signature=cdkj6EWfzYlJTaC0lxKBwHZxVmM%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><strong>å¥¶èŒ¶æ¨è</strong>ï¼šåŸºäº RAG çŸ¥è¯†åº“æ£€ç´¢å¹¶ç»“åˆç”¨æˆ·åå¥½åˆ†æï¼Œå›ç­”æœ‰ç†æœ‰æ®ï¼ŒçŒœä½ å–œæ¬¢ã€‚</li>
<li><strong>æ™ºèƒ½ä¸‹å•</strong>ï¼šä¸éœ€è¦ç¹ççš„è¡¨å•ï¼Œè‡ªç„¶è¯­è¨€ç›´æ¥ä¸‹å•ï¼ŒAgent è‡ªåŠ¨è¯†åˆ«äº§å“ã€ç”œåº¦ã€å†°é‡ã€‚</li>
<li><strong>è®¢å•æŸ¥è¯¢ &amp; ç”¨æˆ·åé¦ˆ</strong>ï¼šæŸ¥å•ã€æŠ•è¯‰ã€å»ºè®®ï¼Œä¸€ç«™å¼æå®šã€‚</li>
<li><strong>è®°ä½ä½ çš„å–œå¥½</strong>ï¼šé›†æˆ Mem0 é•¿æœŸè®°å¿†æœåŠ¡ï¼Œç†Ÿå®¢æ— é¡»å¤šè¨€ï¼Œåšæ›´æ‡‚ä½ çš„å¥¶èŒ¶åº—ã€‚</li>
</ul>
<h2 data-id="heading-2">è¿™å®¶åº—æ€ä¹ˆåšçš„ï¼Ÿ</h2>
<h3 data-id="heading-3">æ¶æ„è§£æ</h3>
<p>é¦–å…ˆåœ¨æ€»ä½“ç»“æ„ä¸Šæˆ‘ä»¬é‡‡ç”¨äº†Â <strong>Supervisor-Worker</strong>Â æ¶æ„ï¼ŒåŒæ—¶é›†æˆäº†ä¸€äº›ç”Ÿæ€ç»„ä»¶æ¥è¾¾åˆ°æœ€ç»ˆçš„æ•ˆæœã€‚</p>
<p>å…¶ä¸­ AgentScope å¤šæ™ºèƒ½ä½“æœåŠ¡å±‚æ˜¯ç”±ä¸€ä¸ª Supervisor Agent å’Œä¸¤ä¸ª Sub Agent æ„æˆçš„æ™ºèƒ½ä½“ç³»ç»Ÿï¼Œè´Ÿè´£å¤„ç†åº—å†…å¤§å¤§å°å°çš„äº‹é¡¹ï¼›MCP Server è´Ÿè´£å¤„ç†å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ï¼Œå¯ä»¥ç›´æ¥åŸºäºä¼ ç»Ÿçš„ä¸šåŠ¡ç³»ç»Ÿæ”¹é€ ï¼›Nacos è´Ÿè´£ Agent å’Œ MCP çš„åŠ¨æ€æ³¨å†Œå’Œå‘ç°ï¼›æ•°æ®æŒä¹…å±‚è´Ÿè´£æ•°æ®çš„æŒä¹…åŒ–ï¼ŒåŒ…æ‹¬çŸ¥è¯†åº“ã€ä¼šè¯ã€è®°å¿†ã€ä¸šåŠ¡æ•°æ®ç­‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32f07a081f16470a8cde91ea6c40f043~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770621461&amp;x-signature=9UIuRmMm9XisBgZ9cIEvtmymA6w%3D" alt="image.png" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ä¸€ç‚¹ä¸€ç‚¹åœ°æ¥æ‹†è§£è¿™å®¶åº—ï¼Œç‰¹åˆ«æ˜¯å¤šæ™ºèƒ½ä½“æœåŠ¡å±‚ã€‚</p>
<ul>
<li><strong>Supervisor Agent</strong>ï¼šç›¸å½“äºé—¨åº—ç»ç†ï¼Œè´Ÿè´£æ¥å¾…å®¢æˆ·ï¼Œåˆ¤æ–­å®¢æˆ·æ„å›¾ï¼ˆç‚¹å•ï¼Ÿå’¨è¯¢ï¼ŸæŠ•è¯‰ï¼Ÿï¼‰ï¼Œç„¶åæŠŠæ´»æ´¾ç»™å¯¹åº”çš„å­ Agentã€‚</li>
<li><strong>Business Sub Agent</strong>ï¼šå‹¤åŠ³çš„åº—å‘˜ï¼Œä¸“é—¨å¤„ç†è®¢å•åˆ›å»ºã€æŸ¥è¯¢ã€ä¿®æ”¹ä»¥åŠæŠ•è¯‰ç­‰ä¸šåŠ¡äº‹é¡¹ã€‚</li>
<li><strong>Consult Sub Agent</strong>ï¼šè´´å¿ƒçš„å®¢æœï¼Œæ¥å…¥äº† RAG çŸ¥è¯†åº“ï¼Œèƒ½å¤Ÿè¿›è¡Œäº§å“æ¨èï¼Œé—®å•¥ç­”å•¥ã€‚</li>
</ul>
<h3 data-id="heading-4">èƒ½åŠ›è§£æ</h3>
<p>åœ¨è¿™ä¸€éƒ¨åˆ†æˆ‘ä»¬æ¥ä»‹ç»ä¸ºäº†å®ç°ä¸Šè¿°çš„æ•ˆæœï¼Œæˆ‘ä»¬è¦ç”¨åˆ°å“ªäº›èƒ½åŠ›ï¼Œä»¥åŠè¦å¦‚ä½•è¿›è¡Œå¼€å‘ã€‚å½“ç„¶è¿™è¾¹æˆ‘ä»¬åªèƒ½å±•ç¤ºä¸€äº›å…³é”®éƒ¨åˆ†çš„ä»£ç ç‰‡æ®µï¼Œå®Œæ•´å®ç°å¯ä»¥ç§»æ­¥Â agentscope-java/agentscope-examples/boba-tea-shop <strong>[</strong> <strong>1]</strong> ã€‚</p>
<h4 data-id="heading-5">ReActAgentï¼šèƒ½æ€è€ƒä¼šè¡ŒåŠ¨</h4>
<p>ä¸ºäº†èƒ½å¤„ç†åº—å†…å¤§å¤§å°å°çš„äº‹é¡¹ï¼Œæˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ªèƒ½æ€è€ƒä¼šè¡ŒåŠ¨çš„ Agentï¼Œè€Œä¸€ä¸ªç¬¦åˆ Reasoning and Acting èŒƒå¼çš„ Agent èƒ½å¾ˆå¥½åœ°å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚ä¸ºäº†æ„å»ºè¿™ä¸ª Agent å¦‚æœä¸å€ŸåŠ©æ¡†æ¶çš„è¯æˆ‘ä»¬éœ€è¦è‡³å°‘å®Œæˆä»¥ä¸‹äº‹é¡¹ï¼š</p>
<ul>
<li>å¯¹æ¥é€‚é…å„ä¸ªæ¨¡å‹å‚å•†çš„ API</li>
<li>æ„å»º Reasoning å’Œ Acting è°ƒç”¨çš„å¾ªç¯</li>
<li>æ”¯æŒå·¥å…·çš„æ³¨å†Œå’Œè°ƒç”¨</li>
</ul>
<p>è€Œåœ¨ AgentScope Java ä¸­æˆ‘ä»¬åªéœ€è¦è¿›è¡Œä¸€äº›é…ç½®ä¾¿å¯ä»¥ç»„è£…å‡ºä¸€ä¸ª ReActAgentï¼Œç”± AgentScope å®Œæˆä¸Šè¿°çš„äº‹é¡¹ï¼ŒåŒæ—¶æˆ‘ä»¬åŸç”Ÿæ”¯æŒäº†å¤šå®¶å‚å•†çš„åè®®ï¼ŒåŒ…æ‹¬ DashScopeã€Anthropicã€Geminiã€OpenAIã€‚</p>
<pre><code class="hljs language-scss" lang="scss">DashScopeChatModel<span class="hljs-selector-class">.Builder</span>Â builderÂ =
Â  Â  DashScopeChatModel<span class="hljs-selector-class">.builder</span>()
Â  Â  Â  Â  Â  Â  <span class="hljs-selector-class">.apiKey</span>(dashscopeApiKey)
Â  Â  Â  Â  Â  Â  <span class="hljs-selector-class">.modelName</span>(dashscopeModelName)
Â  Â  Â  Â  Â  Â  <span class="hljs-selector-class">.formatter</span>(newÂ DashScopeChatFormatter());
DashScopeChatModelÂ modelÂ =Â builder<span class="hljs-selector-class">.build</span>();
ReActAgentÂ agentÂ =Â ReActAgent<span class="hljs-selector-class">.builder</span>()
Â  Â  <span class="hljs-selector-class">.name</span>("supervisor_agent")
Â  Â  <span class="hljs-selector-class">.sysPrompt</span>(sysPrompt)
Â  Â  <span class="hljs-selector-class">.toolkit</span>(toolkit) Â  Â  Â <span class="hljs-comment">// æŒ‚è½½å·¥å…·</span>
Â  Â  <span class="hljs-selector-class">.model</span>(model) Â  Â  Â  Â  Â <span class="hljs-comment">// é…ç½®å¤§æ¨¡å‹</span>
Â  Â  <span class="hljs-selector-class">.memory</span>(memory) Â  Â  Â  Â <span class="hljs-comment">// çŸ­æœŸè®°å¿†æ¨¡å—</span>
Â  Â  <span class="hljs-selector-class">.longTermMemory</span>(longTermMemory) Â <span class="hljs-comment">//é•¿æœŸè®°å¿†æ¨¡å—</span>
Â  Â  <span class="hljs-selector-class">.build</span>();
</code></pre>
<h4 data-id="heading-6">é›†æˆ Nacos çš„ A2A æ¶æ„ï¼šä¸“ä¸šçš„äº‹æƒ…è®©ä¸“ä¸šçš„ Agent æ¥åš</h4>
<p>å½“æˆ‘ä»¬å¯¹ AI åº”ç”¨çš„éœ€æ±‚ä»å•ä¸€çš„å¯¹è¯äº¤äº’è½¬å‘å¤æ‚çš„ç°å®ä¸–ç•Œé—®é¢˜è§£å†³ï¼Œå•ä½“æ™ºèƒ½ç³»ç»Ÿï¼ˆSingle-Agent Systemsï¼‰çš„å±€é™æ€§æ—¥ç›Šå‡¸æ˜¾ã€‚</p>
<ul>
<li>ä¸Šä¸‹æ–‡çª—å£å¤§å°å’Œæ³¨æ„åŠ›ç¨€é‡Š</li>
<li>å¹»è§‰éš¾ä»¥è‡ªæˆ‘è§‰å¯Ÿå’Œçº æ­£</li>
<li>ä¸“ä¸šåŒ–èƒ½åŠ›ä¸è¶³</li>
<li>â€¦â€¦</li>
</ul>
<p>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜å¤§å®¶éƒ½åœ¨é€æ­¥æ¢ç´¢å¤šæ™ºèƒ½ä½“æ¶æ„ï¼Œæˆ‘ä»¬ä¹Ÿå€Ÿå¥¶èŒ¶åº—è¿™ä¸ªåœºæ™¯ä¸ºå¤§å®¶æ¼”ç¤ºå¦‚ä½•ç”¨ AgentScope Java å¼€å‘å¤šæ™ºèƒ½ä½“ç³»ç»Ÿä¸­ Agent AS Tool çš„æ¨¡å¼ã€‚ä¸ºäº†å®ç°è¿™ä¸ªæ•ˆæœï¼Œæˆ‘ä»¬åŸæœ¬éœ€è¦åŸºäº A2A Java SDK æ¥æ„å»ºå¯¹åº”çš„ Client å’Œ Serverï¼ŒåŒæ—¶è¿˜éœ€è¦è¿›è¡Œä¸€äº›äº‹ä»¶å’Œé€šè®¯çš„é€‚é…ä¸å¯¹æ¥ï¼Œç¹ç¢çš„åŒæ—¶è¿˜æ²¡æœ‰åŠ¨æ€æ³¨å†Œå‘ç°çš„èƒ½åŠ›ã€‚</p>
<p>æ‰€ä»¥ä¸ºäº†æ›´åŠ ä¾¿æ·åœ°è½åœ° A2A æ¶æ„ï¼ŒAgentScope æä¾›äº† A2A extension æ¥å®Œæˆ A2A Java SDK é€‚é…å’Œå¯¹æ¥ï¼Œå¹¶ä¸”é›†æˆäº† Nacos æ¥å®ç°åŠ¨æ€çš„ Agent æ³¨å†Œå’Œå‘ç°ã€‚äºæ˜¯ç°åœ¨åœ¨ AgentScope Java ä¸­åªéœ€è¦å°‘é‡ä»£ç å°±å¯ä»¥å®Œæˆ A2A æ¶æ„çš„è½åœ°ã€‚</p>
<p>é¦–å…ˆæ˜¯å­ Agent çš„æ³¨å†Œï¼Œåªéœ€è¦å®šä¹‰å®¢åˆ¶åŒ–çš„å†…å®¹å³å¯ï¼Œä¸»è¦æ˜¯å­ Agent è‡ªèº«æ‰€éœ€è¦çš„æ¨¡å‹ã€å·¥å…·ç­‰ç»„ä»¶çš„é…ç½®ï¼Œå…¶ä»–éƒ¨åˆ†ç”±æ¡†æ¶æå®šã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-keyword">@Bean</span>
publicÂ AgentRunnerÂ agentRunner(
Â  Â  Â  Â  AgentPromptConfig promptConfig,
Â  Â  Â  Â  ConsultTools consultTools,
Â  Â  Â  Â  Knowledge knowledge,
Â  Â  Â  Â  Model model) {
Â  Â Â ToolkitÂ toolkitÂ =Â newÂ <span class="hljs-built_in">NacosToolkit</span>();
Â  Â  toolkit<span class="hljs-selector-class">.registerTool</span>(consultTools);
Â  Â Â AutoContextConfigÂ autoContextConfigÂ =
Â  Â  Â  Â  Â  Â  AutoContextConfig<span class="hljs-selector-class">.builder</span>()<span class="hljs-selector-class">.tokenRatio</span>(<span class="hljs-number">0.4</span>)<span class="hljs-selector-class">.lastKeep</span>(<span class="hljs-number">10</span>)<span class="hljs-selector-class">.build</span>();
Â  Â Â <span class="hljs-comment">// Use AutoContextMemory, support context auto compression</span>
Â  Â Â AutoContextMemoryÂ memoryÂ =Â newÂ <span class="hljs-built_in">AutoContextMemory</span>(autoContextConfig, model);
Â  Â  ReActAgent<span class="hljs-selector-class">.Builder</span>Â builderÂ =
Â  Â  Â  Â  Â  Â  ReActAgent<span class="hljs-selector-class">.builder</span>()
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-selector-class">.name</span>("consult_agent")
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-selector-class">.sysPrompt</span>(promptConfig.getConsultAgentInstruction())
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-selector-class">.memory</span>(memory)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-selector-class">.hooks</span>(List.of(newÂ MonitoringHook()))
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-selector-class">.model</span>(model)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-selector-class">.toolkit</span>(toolkit)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-selector-class">.knowledge</span>(knowledge)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-selector-class">.ragMode</span>(RAGMode.AGENTIC);
Â  Â Â returnÂ newÂ <span class="hljs-built_in">CustomAgentRunner</span>(builder);
}
</code></pre>
<p>è€Œå¯¹äº Supervisor Agent æ¥è¯´ç”±äºé›†æˆäº† Nacosï¼Œåªéœ€è¦æ„å»ºä¸€ä¸ª AiService ç„¶ååšä¸€äº›ç®€å•çš„é…ç½®å°±å¯ä»¥å®Œæˆå­ Agent çš„å‘ç°ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Bean</span>
<span class="hljs-keyword">public</span>Â AiServiceÂ <span class="hljs-title function_">nacosA2aService</span><span class="hljs-params">()</span>Â <span class="hljs-keyword">throws</span>Â NacosException {
Â  Â Â <span class="hljs-type">Properties</span>Â <span class="hljs-variable">properties</span>Â <span class="hljs-operator">=</span>Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">Properties</span>();
Â  Â  properties.put(PropertyKeyConst.SERVER_ADDR, serverAddress);
Â  Â  properties.put(PropertyKeyConst.NAMESPACE, namespace);
Â  Â Â <span class="hljs-keyword">return</span>Â AiFactory.createAiService(properties);
}
<span class="hljs-meta">@Bean</span>
<span class="hljs-keyword">public</span>Â A2aAgentÂ <span class="hljs-title function_">consultAgent</span><span class="hljs-params">(AiService a2aService)</span>Â {
Â  Â Â <span class="hljs-keyword">return</span>Â A2aAgent.builder()
Â  Â  Â  Â  Â  Â  .name(<span class="hljs-string">"consult_agent"</span>)
Â  Â  Â  Â  Â  Â  .agentCardResolver(<span class="hljs-keyword">new</span>Â <span class="hljs-title class_">NacosAgentCardResolver</span>(a2aService))
Â  Â  Â  Â  Â  Â  .build();
}
</code></pre>
<p>ç„¶åå†æŠŠå­ Agent æ³¨å†Œæˆä¸€ä¸ªå·¥å…·ï¼Œä¾¿å¯ä»¥åƒä½¿ç”¨æ™®é€šå·¥å…·ä¸€æ ·è°ƒç”¨å­ Agentã€‚</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Tool</span>(description =
Â  Â Â <span class="hljs-string">"Agent for handling consultation-related requests, can process all"</span>
Â  Â  Â  Â  +Â <span class="hljs-string">" consultation-related requests, requires passing the complete context in"</span>
Â  Â  Â  Â  +Â <span class="hljs-string">" the context parameter"</span>)
publicÂ StringÂ <span class="hljs-built_in">callConsultAgent</span>(
Â  Â  Â  Â Â <span class="hljs-variable">@ToolParam</span>(name =Â <span class="hljs-string">"context"</span>, description =Â <span class="hljs-string">"Complete context"</span>)Â StringÂ context,
Â  Â  Â  Â Â <span class="hljs-variable">@ToolParam</span>(name =Â <span class="hljs-string">"userId"</span>, description =Â <span class="hljs-string">"User's UserId"</span>)Â StringÂ userId) {
Â  Â Â <span class="hljs-selector-tag">Msg</span>Â <span class="hljs-selector-tag">msg</span> =Â <span class="hljs-selector-tag">Msg</span><span class="hljs-selector-class">.builder</span>()<span class="hljs-selector-class">.content</span>(TextBlock.<span class="hljs-built_in">builder</span>().<span class="hljs-built_in">text</span>(context).<span class="hljs-built_in">build</span>())<span class="hljs-selector-class">.build</span>();
Â  Â  <span class="hljs-selector-tag">A2aAgent</span> <span class="hljs-selector-tag">consultAgent</span> = <span class="hljs-selector-tag">consultAgentProvider</span><span class="hljs-selector-class">.getObject</span>();
Â  Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">combineAgentResponse</span>(consultAgent.<span class="hljs-built_in">call</span>(msg).<span class="hljs-built_in">block</span>());
}
</code></pre>
<h4 data-id="heading-7">é›†æˆ Nacos çš„ MCP è°ƒç”¨ï¼šåŠ¨æ€æ³¨å†Œ&amp;å‘ç°</h4>
<p>MCP å‡ ä¹å·²ç»æˆä¸ºäº†è¿œç¨‹å·¥å…·è°ƒç”¨çš„äº‹å®æ ‡å‡†ï¼Œå¾ˆå¤šä¼ ç»Ÿçš„ä¸šåŠ¡ç³»ç»Ÿä¹Ÿä¼šæä¾› MCP çš„ Endpoint æ¥ä½¿ Agent èƒ½å¤Ÿè§¦è¾¾çœŸå®ä¸šåŠ¡åœºæ™¯ã€‚ä¼ ç»Ÿçš„ MCP å·¥å…·çš„æ³¨å†Œæ–¹å¼æ˜¯ä¸€ä¸ªå›ºå®šçš„ Endpointï¼Œåœ¨çµæ´»æ€§å’Œé«˜å¯ç”¨ä¸Šéƒ½ä¸èƒ½å®Œå…¨æ»¡è¶³éœ€æ±‚ã€‚æ‰€ä»¥ AgentScope åœ¨ä¼ ç»Ÿæ³¨å†Œæ–¹å¼çš„åŸºç¡€ä¸Šä¹Ÿé›†æˆäº† Nacos æ¥å®ç° MCP çš„åŠ¨æ€å‘ç°ã€‚åªéœ€è¦åœ¨Business Sub Agent ä¸­é€šè¿‡é›†æˆçš„ NacosMcpServerManager åŠ ä¸Šå‡ è¡Œä»£ç ä¾¿å¯ä»¥è½»æ¾å®Œæˆ MCP å·¥å…·çš„æ³¨å†Œã€‚</p>
<pre><code class="hljs language-ini" lang="ini">ToolkitÂ <span class="hljs-attr">toolkit</span>Â =Â newÂ NacosToolkit()<span class="hljs-comment">;</span>
NacosMcpServerManagerÂ <span class="hljs-attr">mcpServerManager</span>Â =Â newÂ NacosMcpServerManager(aiService)<span class="hljs-comment">;</span>
NacosMcpClientWrapperÂ <span class="hljs-attr">mcpClientWrapper</span>Â =
Â  Â  Â  Â  NacosMcpClientBuilder.create("business-mcp-server", mcpServerManager).build()<span class="hljs-comment">;</span>
toolkit.registerMcpClient(mcpClientWrapper).block()<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-8">ä¼šè¯æŒä¹…åŒ–ï¼šé‡å¯ä¸ä¸¢å¤±</h4>
<p>ä¼šè¯é€šå¸¸åŒ…å«äº†å’Œæ¨¡å‹çš„å¤šè½®å¯¹è¯ï¼Œä¸è®°å¿†ç­‰æœ‰çŠ¶æ€çš„å†…å®¹ç»‘å®šï¼Œå¦‚æœåªå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œåœ¨å¤šå®ä¾‹éƒ¨ç½²æˆ–è€…é‡å¯åœºæ™¯ä¸‹éƒ½ä¼šå¯¼è‡´ä¸¢å¤±æˆ–è€…é”™ä¹±ã€‚æ‰€ä»¥ AgentScope æä¾›äº†åŸºäº MySQL çš„ä¼šè¯å­˜å‚¨èƒ½åŠ›ï¼Œèƒ½å¤Ÿéšæ—¶æ¥ç€ä¸Šæ¬¡èŠå¤©ç»§ç»­èŠï¼ŒåŒä¸€ä¼šè¯æ— ç¼è¡”æ¥ï¼Œä¸åŒä¼šè¯äº’ç›¸éš”ç¦»ã€‚è¦åœ¨ AgentScope ä¸­å¯ç”¨è¿™ä¸ªèƒ½åŠ›åªéœ€è¦éƒ¨ç½²ä¸€ä¸ª MySql æ•°æ®åº“ï¼Œç„¶ååˆ›å»º MysqlSession å®ä¾‹ï¼Œåœ¨éœ€è¦çš„åœ°æ–¹ load å³å¯æ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€ï¼Œç»§ç»­å¯¹è¯ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">MysqlSessionÂ <span class="hljs-attr">mysqlSession</span>Â =
Â  Â  Â  Â Â newÂ MysqlSession(dataSource, System.getenv("DB_NAME"),Â null,Â true)<span class="hljs-comment">;</span>
ReActAgentÂ <span class="hljs-attr">agent</span>Â =Â createAgent(toolkit, memory)<span class="hljs-comment">;</span>
agent.loadIfExists(mysqlSession, sessionId)<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-9">Mem0 é•¿æœŸè®°å¿†ï¼šè®°ä½æ¯ä¸€ä½é¡¾å®¢</h4>
<p>Mem0 æ˜¯ä¸€ä¸ªé•¿æœŸè®°å¿†æœåŠ¡æ¡†æ¶ï¼Œå¸®åŠ© Agent æŒç»­ä¼˜åŒ–é•¿æœŸè®°å¿†ï¼Œå¯ä»¥ä½¿ç”¨å•†ä¸šåŒ–ç‰ˆæœ¬ä¹Ÿå¯ä»¥è‡ªè¡Œéƒ¨ç½²ã€‚åœ¨å¥¶èŒ¶åº—çš„åœºæ™¯ä¸‹ï¼Œä»–èƒ½å¤Ÿå¸®åŠ© Agent ä¸åªæ‹¥æœ‰å½“å‰ä¼šè¯çš„è®°å¿†ï¼Œè¿˜èƒ½è·¨ä¼šè¯è®°ä½ç”¨æˆ·å…³äºé¥®å“ã€ç”œåº¦ã€å†°é‡ç­‰åå¥½ã€‚è‡ªè¡Œå¯¹æ¥ Mem0 éœ€è¦ç»´æŠ¤ä¸å®ƒçš„é€šè®¯ä»¥åŠæ³¨å…¥ Agent çš„æ–¹å¼å’Œæ—¶æœºã€‚åœ¨ AgentScope ä¸­ï¼Œåˆ™åªéœ€è¦é…ç½® Mem0 çš„BaseUrl ä»¥åŠ apiKey å³å¯ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">Mem0LongTermMemoryÂ longTermMemoryÂ =
Â  Â  Mem0LongTermMemory<span class="hljs-selector-class">.builder</span>()
Â  Â  Â  Â  Â  Â  <span class="hljs-selector-class">.agentName</span>("BusinessAgent")
Â  Â  Â  Â  Â  Â  <span class="hljs-selector-class">.userId</span>(userId)
Â  Â  Â  Â  Â  Â  <span class="hljs-selector-class">.apiBaseUrl</span>("https://api.mem0.ai")
Â  Â  Â  Â  Â  Â  <span class="hljs-selector-class">.apiKey</span>(System.getenv("MEM0_API_KEY"))
Â  Â  Â  Â  Â  Â  <span class="hljs-selector-class">.build</span>();
</code></pre>
<h4 data-id="heading-10">AutoContextMemoryï¼šä¸Šä¸‹æ–‡å‹ç¼©</h4>
<p>ç°åœ¨çš„å¤§æ¨¡å‹çš„ä¸Šä¸‹æ–‡çª—å£å¤§å°å·²ç»ä»æ—©æœŸçš„ 4k æ‰©å±•è‡³ 100k ç”šè‡³ 1Mï¼Œä½†å…¶ä¸­è¦å­˜æ”¾å†å²äº¤äº’ã€å¤–éƒ¨çŸ¥è¯†åº“æ£€ç´¢ç»“æœã€å¤æ‚çš„ä»»åŠ¡æŒ‡ä»¤ã€ä¸­é—´æ¨ç†æ­¥éª¤ä»¥åŠå·¥å…·è°ƒç”¨çš„è¿”å›ç»“æœç­‰ç­‰ï¼Œåœ¨å¤æ‚çš„åœºæ™¯ä¸­ä¾æ—§å­˜åœ¨ç€ä¸Šä¸‹æ–‡å¤§å°ç„¦è™‘ã€‚åŒæ—¶éšç€ä¸Šä¸‹æ–‡çª—å£çš„æš´æ¶¨ï¼Œæ¨¡å‹åœ¨æ£€ç´¢å’Œåˆ©ç”¨ä¸­é—´ä½ç½®å…³é”®ä¿¡æ¯çš„æ•ˆæœå’Œæ€§èƒ½ä¼šæ˜¾è‘—ä¸‹é™ã€‚æ‰€ä»¥æˆ‘ä»¬å¾€å¾€ä¼šè€ƒè™‘å¯¹ä¸Šä¸‹æ–‡è¿›è¡Œå‹ç¼©ï¼Œä½†æ˜¯å¦‚æœæ˜¯ç®€å•çš„å‹ç¼©å¾ˆæœ‰å¯èƒ½ä¼šå¯¼è‡´æœ‰æ•ˆä¿¡æ¯çš„æŸå¤±ï¼Œä¸ºäº†å‹ç¼©è€ŒæŸå¤±äº†å‡†ç¡®æ€§æ˜¯ä¸å¯å–çš„ã€‚æ‰€ä»¥ AgentScope æ¨å‡ºäº†AutoContextMemoryï¼Œå®ƒæ˜¯æ¡†æ¶æä¾›çš„æ™ºèƒ½ä¸Šä¸‹æ–‡å†…å­˜ç®¡ç†ç»„ä»¶ï¼Œé€šè¿‡è‡ªåŠ¨å‹ç¼©ã€å¸è½½å’Œæ‘˜è¦å¯¹è¯å†å²ï¼Œåœ¨æˆæœ¬æ§åˆ¶å’Œä¿¡æ¯ä¿ç•™ä¹‹é—´æ‰¾åˆ°æœ€ä½³å¹³è¡¡ï¼Œå…·ä½“çš„åŸç†å¯ä»¥å‚è€ƒæˆ‘ä»¬ä¹‹å‰å‘å¸ƒçš„æ–‡ç« <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzIzOTU0NTQ0MA%3D%3D%26mid%3D2247556750%26idx%3D1%26sn%3D65b82a8da8595494dd6e1adbe605e649%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzIzOTU0NTQ0MA==&amp;mid=2247556750&amp;idx=1&amp;sn=65b82a8da8595494dd6e1adbe605e649&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ã€ŠAgentScope AutoContextMemoryï¼šå‘Šåˆ«Agentä¸Šä¸‹æ–‡ç„¦è™‘ã€‹</a>ã€‚è¦ä½¿ç”¨è¯¥èƒ½åŠ›åŒæ ·åªéœ€è¦é…ç½®ä¸€äº›ç®€å•å‚æ•°å³å¯ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">AutoContextConfigÂ autoContextConfigÂ =
Â  Â  Â  Â  AutoContextConfig<span class="hljs-selector-class">.builder</span>()<span class="hljs-selector-class">.tokenRatio</span>(<span class="hljs-number">0.4</span>)<span class="hljs-selector-class">.lastKeep</span>(<span class="hljs-number">10</span>)<span class="hljs-selector-class">.build</span>();
<span class="hljs-comment">// Use AutoContextMemory, support context auto compression</span>
AutoContextMemoryÂ memoryÂ =Â newÂ <span class="hljs-built_in">AutoContextMemory</span>(autoContextConfig, model);
</code></pre>
<h3 data-id="heading-11">å¿«é€Ÿå¼€å§‹</h3>
<p>ä¸ºäº†è®©å¤§å®¶èƒ½å¤Ÿå¿«é€Ÿä½“éªŒï¼ŒåŒæ—¶æ–¹ä¾¿å¤§å®¶æ‹¿å¥¶èŒ¶åº—ç»ƒæ‰‹ï¼Œæˆ‘ä»¬æä¾›äº†å¤šç§ä¾¿æ·çš„éƒ¨ç½²æ–¹å¼ï¼š</p>
<h4 data-id="heading-12">æœ¬åœ°å¼€å‘æ¨è</h4>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># é…ç½®ç¯å¢ƒå˜é‡</span>
cpÂ <span class="hljs-keyword">local</span>-env.exampleÂ <span class="hljs-keyword">local</span>-env.sh
vimÂ <span class="hljs-keyword">local</span>-env.sh
<span class="hljs-comment"># ä¸€é”®å¯åŠ¨</span>
sourceÂ <span class="hljs-keyword">local</span>-env.sh &amp;&amp; ./<span class="hljs-keyword">local</span>-deploy.sh start
</code></pre>
<h4 data-id="heading-13">K8s ç”Ÿäº§æ¨è</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># é…ç½®å˜é‡</span>
vim values.yaml
<span class="hljs-meta"># Helm ä¸€é”®éƒ¨ç½²</span>
helm install agentscope helm/ --<span class="hljs-keyword">namespace</span>Â <span class="hljs-title">agentscope</span>
</code></pre>
<h4 data-id="heading-14">Docker æç®€</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é…ç½®ç¯å¢ƒå˜é‡</span>
<span class="hljs-built_in">cp</span>Â docker-env.example .<span class="hljs-built_in">env</span>
<span class="hljs-comment"># å®¹å™¨ä¸€æŠŠæ¢­</span>
docker-compose up -d
</code></pre>
<h4 data-id="heading-15">äº‘äº§å“ï¼ˆAgentRunï¼‰éƒ¨ç½²</h4>
<p>å¦‚æœæƒ³ä½¿ç”¨äº‘äº§å“éƒ¨ç½²ï¼Œå¯ä»¥ä½¿ç”¨ AgentRunï¼Œç›´æ¥æ‹‰å–é•œåƒéƒ¨ç½²ï¼Œæ‰€éœ€è¦é…ç½®çš„ç¯å¢ƒå˜é‡å‚è€ƒ README.md æ–‡æ¡£ã€‚</p>
<h2 data-id="heading-16">æœ€åçš„æœ€å</h2>
<p>è¿™ä¸ªå¥¶èŒ¶åº—çš„ä¾‹å­åªæ˜¯ AgentScope Java èƒ½åŠ›çš„å†°å±±ä¸€è§’ï¼Œç”¨æ¥å¸¦å¤§å®¶å¿«é€Ÿå…¥é—¨ã€‚AgentScope Java æ¡†æ¶è¿˜æ”¯æŒæ›´å¤šç©æ³•ï¼Œæ‰€æœ‰çš„æ ¸å¿ƒèƒ½åŠ›éƒ½æœ‰å¯¹åº”çš„ Exampleï¼Œæ¬¢è¿å¤§å®¶ä½“éªŒï¼š</p>
<ul>
<li>å®æ—¶äººç±»ä»‹å…¥</li>
<li>PlanNotebookï¼Œå…ˆè§„åˆ’åæ‰§è¡Œ</li>
<li>ç»“æ„åŒ–è¾“å‡º</li>
<li>AI ç‹¼äººæ€</li>
<li>â€¦â€¦</li>
</ul>
<p>åŒæ—¶ç¤¾åŒºä¹Ÿåœ¨å¿«é€Ÿæ¼”è¿›ä¸­ï¼Œæ¬¢è¿å¤§å®¶å‚ä¸è®¨è®ºå’Œè´¡çŒ®Â ğŸš€</p>
<p><strong>Star ä¸€ä¸‹ä¸è¿·è·¯ï¼</strong> â­</p>
<p>é¡¹ç›®åœ°å€ï¼šAgentScope Java <strong>[</strong> <strong>2]</strong></p>
<p>Demo åœ°å€ï¼š<code>agentscope-examples/boba-tea-shop</code></p>
<p>"Talk is cheap, show me the agents."</p>
<p>å¿«æ¥ Clone ä¸‹æ¥è·‘ä¸€æŠŠï¼Œä½“éªŒä¸€ä¸‹ AI ç»™ä½ ç‚¹å¥¶èŒ¶çš„å¿«æ„Ÿå§ï¼</p>
<p><strong>ç›¸å…³é“¾æ¥ï¼š</strong></p>
<p>[1]Â agentscope-java/agentscope-examples/boba-tea-shop</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fagentscope-ai%2Fagentscope-java%2Ftree%2Fmain%2Fagentscope-examples%2Fboba-tea-shop" target="_blank" title="https://github.com/agentscope-ai/agentscope-java/tree/main/agentscope-examples/boba-tea-shop" ref="nofollow noopener noreferrer">github.com/agentscope-â€¦</a></p>
<p>[2]Â AgentScope Java</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fagentscope-ai%2Fagentscope-java" target="_blank" title="https://github.com/agentscope-ai/agentscope-java" ref="nofollow noopener noreferrer">github.com/agentscope-â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Next.jsç¬¬äºŒåäº”ç« (CSSæ–¹æ¡ˆ)]]></title>    <link>https://juejin.cn/post/7601715462921535498</link>    <guid>https://juejin.cn/post/7601715462921535498</guid>    <pubDate>2026-02-01T21:58:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601715462921535498" data-draft-id="7601441797118443571" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Next.jsç¬¬äºŒåäº”ç« (CSSæ–¹æ¡ˆ)"/> <meta itemprop="keywords" content="å‰ç«¯,Next.js"/> <meta itemprop="datePublished" content="2026-02-01T21:58:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°æ»¡zs"/> <meta itemprop="url" content="https://juejin.cn/user/2463384809252397"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Next.jsç¬¬äºŒåäº”ç« (CSSæ–¹æ¡ˆ)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2463384809252397/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°æ»¡zs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-01T21:58:39.000Z" title="Sun Feb 01 2026 21:58:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Next.js CSSæ–¹æ¡ˆ</h2>
<p>åœ¨Next.jså¯ä»¥ä½¿ç”¨å¤šç§Cssæ–¹æ¡ˆï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>Tailwind CSS(ä¸ªäººæ¨è)</li>
<li>CSS Modules(åˆ›å»ºcssæ¨¡å—åŒ–ï¼Œç±»ä¼¼äºVueçš„å•æ–‡ä»¶ç»„ä»¶)</li>
<li>Next.jså†…ç½®Sass(cssé¢„å¤„ç†å™¨)</li>
<li>å…¨å±€Css(å…¨å±€çš„cssï¼Œå¯ä»¥å…¨å±€ä½¿ç”¨)</li>
<li>Style(å†…è”æ ·å¼)</li>
<li>css-in-js(ç±»ä¼¼äºReactçš„styled-componentsï¼Œä¸æ¨è)</li>
</ul>
<h4 data-id="heading-1">Tailwind CSS</h4>
<p>Tailwind CSS(cssåŸå­åŒ–)ï¼Œä»–æ˜¯ä¸€ä¸ªcssæ¡†æ¶ï¼Œå¯ä»¥è®©ä½ å¿«é€Ÿæ„å»ºç½‘é¡µï¼Œä»–æä¾›äº†å¤§é‡çš„cssç±»ï¼Œä½ åªéœ€è¦ä½¿ç”¨è¿™äº›ç±»ï¼Œå°±å¯ä»¥å¿«é€Ÿæ„å»ºç½‘é¡µã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Ftailwindcss.com%2F" target="_blank" title="https://tailwindcss.com/" ref="nofollow noopener noreferrer">Tailwind CSS</a></p>
<h5 data-id="heading-2">å®‰è£…æ•™ç¨‹</h5>
<pre><code class="hljs language-bash" lang="bash">npx create-next-app@latest my-project
</code></pre>
<p>å½“æˆ‘ä»¬å»åˆ›å»º<code>Next.js</code>é¡¹ç›®çš„æ—¶å€™ï¼Œé€‰æ‹©<code>customize settings(è‡ªå®šä¹‰é€‰é¡¹)</code> é‚£ä¹ˆå°±ä¼šå‡ºç°<code>Tailwind CSS</code>çš„é€‰é¡¹ï¼Œæˆ‘ä»¬é€‰æ‹©<code>Yes</code>å³å¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eccfac37d4584e6ca81bef570e16f0d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5ruhenM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770588077&amp;x-signature=bSPfhdHEHQDVvUeo%2FJa2ZKlvy4k%3D" alt="image.png" loading="lazy"/></p>
<p>é‚£ä¹ˆå¦‚æœæˆ‘åœ¨å½“æ—¶å¿˜è®°é€‰æ‹©<code>Tailwind CSS</code>ï¼Œæˆ‘è¯¥æ€ä¹ˆå®‰è£…å‘¢ï¼Ÿ</p>
<h5 data-id="heading-3">åœ¨ Next.js ä¸­å®‰è£…å¹¶ä½¿ç”¨ Tailwind CSS</h5>
<p>ä¸‹é¢æ˜¯å¦‚ä½•åœ¨ Next.js é¡¹ç›®ä¸­é›†æˆ Tailwind CSS çš„è¯¦ç»†æµç¨‹ï¼š</p>
<h6 data-id="heading-4">1. åˆ›å»ºä½ çš„ Next.js é¡¹ç›®</h6>
<p>å¦‚æœè¿˜æ²¡æœ‰é¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨ Create Next App å¿«é€Ÿåˆå§‹åŒ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npx create-next-app@latest my-project --typescript --eslint --app
<span class="hljs-built_in">cd</span> my-project
</code></pre>
<h6 data-id="heading-5">2. å®‰è£… Tailwind CSS åŠç›¸å…³ä¾èµ–</h6>
<p>é€šè¿‡ npm å®‰è£… <code>tailwindcss</code>ã€<code>@tailwindcss/postcss</code> ä»¥åŠ <code>postcss</code> ä¾èµ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install tailwindcss @tailwindcss/postcss postcss
</code></pre>
<h6 data-id="heading-6">3. é…ç½® PostCSS æ’ä»¶</h6>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º <code>postcss.config.mjs</code> æ–‡ä»¶ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> config = {
  <span class="hljs-attr">plugins</span>: {
    <span class="hljs-string">"@tailwindcss/postcss"</span>: {},
  },
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> config;
</code></pre>
<h6 data-id="heading-7">4. å¯¼å…¥ Tailwind CSS</h6>
<p>åœ¨ <code>./app/globals.css</code> æ–‡ä»¶ä¸­æ·»åŠ  Tailwind CSS çš„å¯¼å…¥ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-keyword">@import</span> <span class="hljs-string">"tailwindcss"</span>;
</code></pre>
<h6 data-id="heading-8">5. å¯åŠ¨å¼€å‘æœåŠ¡</h6>
<p>è¿è¡Œå¼€å‘æœåŠ¡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm run dev
</code></pre>
<h6 data-id="heading-9">6. åœ¨é¡¹ç›®ä¸­å¼€å§‹ä½¿ç”¨ Tailwind</h6>
<p>ç°åœ¨å¯ä»¥ç›´æ¥åœ¨ç»„ä»¶æˆ–é¡µé¢ä¸­ä½¿ç”¨ Tailwind CSS çš„å·¥å…·ç±»æ¥è¿›è¡Œæ ·å¼ç¼–å†™ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Home</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-3xl font-bold underline"</span>&gt;</span>
      Hello world!
    <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
  )
}
</code></pre>
<p>è¿™æ ·å³å¯åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ Tailwind CSS åŸå­ç±»æ¥å¿«é€Ÿå¼€å‘æ ·å¼ã€‚</p>
<h5 data-id="heading-10">FAQ</h5>
<p>è¿™ä¹ˆå¤šç±»åæˆ‘è®°ä¸ä½æ€ä¹ˆåŠï¼Ÿ</p>
<p>ç­”ï¼šä½ ä¸éœ€è¦ç‰¹æ„å»è®°å¿†ï¼ŒtailwindCssçš„ç±»åéƒ½æ˜¯ç®€ç§°ï¼Œä¾‹å¦‚<code>backdround-color:red</code> ä½ å¯ä»¥ç®€å†™ä¸º<code>bg-red-500</code>ã€‚å¦å¤–å°±æ˜¯å®˜ç½‘ä¹Ÿæä¾›æ–‡æ¡£å¯ä»¥æŸ¥è¯¢ï¼Œå†å…¶æ¬¡å°±æ˜¯è¿˜æä¾›äº†<code>vscode</code>æ’ä»¶ï¼Œå¯ä»¥è‡ªåŠ¨è¡¥å…¨ç±»åã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e4548071e9747ff9e76261c8ae40d7a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5ruhenM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770588077&amp;x-signature=j4D5qszb2BQMyV9Ox87vsxjWFT8%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-11">CSS Modules</h4>
<p>CSS Modules æ˜¯ä¸€ç§ CSS æ¨¡å—åŒ–æ–¹æ¡ˆï¼Œå¯ä»¥è®©ä½ åœ¨ç»„ä»¶ä¸­ä½¿ç”¨CSSæ¨¡å—åŒ–ï¼Œç±»ä¼¼äºVueçš„å•æ–‡ä»¶ç»„ä»¶(scoped)ã€‚</p>
<p>Next.jså·²ç»å†…ç½®äº†å¯¹CSS Modulesçš„æ”¯æŒï¼Œä½ åªéœ€è¦åœ¨åˆ›å»ºæ–‡ä»¶çš„æ—¶å€™æ–°å¢<code>.module.css</code>åç¼€å³å¯ã€‚ä¾‹å¦‚<code>index.module.css</code>ã€‚</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/** index.module.css */</span>
<span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">background-color</span>: red;
}
</code></pre>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">/** index.tsx */</span>
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">'./index.module.css'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Home</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.container}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p>ä½ ä¼šå‘ç°ä»–ç¼–è¯‘å‡ºæ¥çš„ç±»åï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„hashå€¼ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…ç±»åå†²çªã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"index-module__ifV0vq__test"</span>&gt;</span>å°æ»¡zs Page<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
</code></pre>
<h4 data-id="heading-12">Next.jså†…ç½®Sass</h4>
<p>Next.jså·²ç»å†…ç½®äº†å¯¹Sassçš„æ”¯æŒï¼Œä½†æ˜¯ä¾èµ–è¿˜éœ€è¦æ‰‹åŠ¨å®‰è£…ï¼Œä¸è¿‡é…ç½®é¡¹å®ƒéƒ½å†…ç½®äº†ï¼Œåªéœ€è¦å®‰è£…ä¸€ä¸‹å³å¯ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">npm install --save-dev sass
</code></pre>
<p>å¦å¤–Next.jsè¿˜æ”¯æŒé…ç½®å…¨å±€sasså˜é‡ï¼Œåªéœ€è¦åœ¨<code>next.config.js</code>ä¸­é…ç½®å³å¯ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">NextConfig</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next'</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">config</span>: <span class="hljs-title class_">NextConfig</span> = {
  <span class="hljs-attr">reactCompiler</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">reactStrictMode</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">cacheComponents</span>:<span class="hljs-literal">false</span>,
  <span class="hljs-attr">sassOptions</span>:{
    <span class="hljs-attr">additionalData</span>: <span class="hljs-string">`$color: blue;`</span>, <span class="hljs-comment">// å…¨å±€å˜é‡</span>
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> config
</code></pre>
<h4 data-id="heading-13">å…¨å±€Css</h4>
<p>å…¨å±€CSSï¼Œå°±æ˜¯æŠŠæ‰€æœ‰æ ·å¼åº”ç”¨åˆ°å…¨å±€è·¯ç”±/ç»„ä»¶ï¼Œé‚£åº”è¯¥æ€ä¹ˆæå‘¢?</p>
<p>åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º<code>globals.css</code>æ–‡ä»¶ï¼Œç„¶åæ·»åŠ å…¨å±€æ ·å¼ã€‚</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/** app/globals.css */</span>
<span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">background-color</span>: red;
}
<span class="hljs-selector-class">.flex</span>{
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">justify-content</span>: center;
    <span class="hljs-attribute">align-items</span>: center;
}
</code></pre>
<p>åœ¨<code>layout.tsx</code>æ–‡ä»¶ä¸­å¼•å…¥<code>globals.css</code>æ–‡ä»¶ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">//app/layout.tsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./globals.css'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">RootLayout</span>(<span class="hljs-params">{ children }: { children: React.ReactNode }</span>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span>
  )
}
</code></pre>
<h4 data-id="heading-14">Style</h4>
<p>Styleï¼Œå°±æ˜¯å†…è”æ ·å¼ï¼Œå°±æ˜¯ç›´æ¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨styleå±æ€§æ¥å®šä¹‰æ ·å¼ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Home</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">backgroundColor:</span> '<span class="hljs-attr">red</span>' }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<h4 data-id="heading-15">css-in-js</h4>
<p>css-in-jsï¼Œå°±æ˜¯æŠŠcss + js + htmlæ··åˆåœ¨ä¸€èµ·ï¼Œæ‹¨å…¥styled-componentsï¼Œä¸æ¨èå¾ˆå¤šäººæ¥å—ä¸äº†è¿™ç§å†™æ³•ã€‚</p>
<h5 data-id="heading-16">1.å®‰è£…å¯ç”¨styled-components</h5>
<pre><code class="hljs language-bash" lang="bash">npm install styled-components
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">NextConfig</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next'</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">config</span>: <span class="hljs-title class_">NextConfig</span> = {
  <span class="hljs-attr">compiler</span>:{
    <span class="hljs-attr">styledComponents</span>:<span class="hljs-literal">true</span> <span class="hljs-comment">// å¯ç”¨styled-components</span>
  }
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> config
</code></pre>
<h5 data-id="heading-17">2.åˆ›å»ºstyle-componentæ³¨å†Œè¡¨</h5>
<p>ä½¿ç”¨styled-componentsAPI åˆ›å»ºä¸€ä¸ªå…¨å±€æ³¨å†Œè¡¨ç»„ä»¶ï¼Œç”¨äºæ”¶é›†æ¸²æŸ“è¿‡ç¨‹ä¸­ç”Ÿæˆçš„æ‰€æœ‰ CSS æ ·å¼è§„åˆ™ï¼Œä»¥åŠä¸€ä¸ªè¿”å›è¿™äº›è§„åˆ™çš„å‡½æ•°ã€‚æœ€åï¼Œä½¿ç”¨è¯¥useServerInsertedHTMLé’©å­å°†æ³¨å†Œè¡¨ä¸­æ”¶é›†çš„æ ·å¼æ³¨å…¥åˆ°<code>&lt;head&gt;</code>æ ¹å¸ƒå±€çš„ HTML æ ‡ç­¾ä¸­ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">//lib/registry.ts</span>
<span class="hljs-string">'use client'</span>
 
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useServerInsertedHTML } <span class="hljs-keyword">from</span> <span class="hljs-string">'next/navigation'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ServerStyleSheet</span>, <span class="hljs-title class_">StyleSheetManager</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'styled-components'</span>
 
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">StyledComponentsRegistry</span>(<span class="hljs-params">{
  children,
}: {
  children: React.ReactNode
}</span>) {
  <span class="hljs-comment">// Only create stylesheet once with lazy initial state</span>
  <span class="hljs-comment">// x-ref: https://reactjs.org/docs/hooks-reference.html#lazy-initial-state</span>
  <span class="hljs-keyword">const</span> [styledComponentsStyleSheet] = <span class="hljs-title function_">useState</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServerStyleSheet</span>())
 
  <span class="hljs-title function_">useServerInsertedHTML</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> styles = styledComponentsStyleSheet.<span class="hljs-title function_">getStyleElement</span>()
    styledComponentsStyleSheet.<span class="hljs-property">instance</span>.<span class="hljs-title function_">clearTag</span>()
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;&gt;</span>{styles}<span class="hljs-tag">&lt;/&gt;</span></span>
  })
 
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> !== <span class="hljs-string">'undefined'</span>) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;&gt;</span>{children}<span class="hljs-tag">&lt;/&gt;</span></span>
 
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">StyleSheetManager</span> <span class="hljs-attr">sheet</span>=<span class="hljs-string">{styledComponentsStyleSheet.instance}</span>&gt;</span>
      {children}
    <span class="hljs-tag">&lt;/<span class="hljs-name">StyleSheetManager</span>&gt;</span></span>
  )
}
</code></pre>
<h5 data-id="heading-18">3.æ³¨å†Œstyle-componentæ³¨å†Œè¡¨</h5>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">//app/layout.tsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">StyledComponentsRegistry</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./lib/registry'</span>
 
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">RootLayout</span>(<span class="hljs-params">{
  children,
}: {
  children: React.ReactNode
}</span>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">StyledComponentsRegistry</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">StyledComponentsRegistry</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span>
  )
}
</code></pre>
<h5 data-id="heading-19">4.ä½¿ç”¨styled-components</h5>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-string">'use client'</span>;
<span class="hljs-keyword">import</span> styled <span class="hljs-keyword">from</span> <span class="hljs-string">'styled-components'</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title class_">StyledButton</span> = styled.<span class="hljs-property">button</span><span class="hljs-string">`
  background-color: red;
  color: white;
  padding: 10px 20px;
  border-radius: 5px;
`</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Home</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">StyledButton</span>&gt;</span>Click me<span class="hljs-tag">&lt;/<span class="hljs-name">StyledButton</span>&gt;</span></span>
  )
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Agent Skillsï¼šæ„å»ºå¯å¤ç”¨ AI ç¼–ç¨‹çŸ¥è¯†åº“çš„æœ€ä½³å®è·µ]]></title>    <link>https://juejin.cn/post/7602100217656229930</link>    <guid>https://juejin.cn/post/7602100217656229930</guid>    <pubDate>2026-02-02T09:22:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602100217656229930" data-draft-id="7602069205467709486" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Agent Skillsï¼šæ„å»ºå¯å¤ç”¨ AI ç¼–ç¨‹çŸ¥è¯†åº“çš„æœ€ä½³å®è·µ"/> <meta itemprop="keywords" content="Agent"/> <meta itemprop="datePublished" content="2026-02-02T09:22:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="unravel2025"/> <meta itemprop="url" content="https://juejin.cn/user/1116759541421880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Agent Skillsï¼šæ„å»ºå¯å¤ç”¨ AI ç¼–ç¨‹çŸ¥è¯†åº“çš„æœ€ä½³å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759541421880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    unravel2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T09:22:11.000Z" title="Mon Feb 02 2026 09:22:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    43
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ AI è¾…åŠ©ç¼–ç¨‹çš„æ—¶ä»£ï¼Œ<code>AGENTS.md</code> å·²æˆä¸ºå¼€å‘è€…å‘ AI å·¥å…·ä¼ é€’é¡¹ç›®ä¸Šä¸‹æ–‡çš„é‡è¦æ–‡ä»¶ã€‚
ç„¶è€Œï¼Œéšç€é¡¹ç›®å¢å¤šï¼Œç»´æŠ¤å¤šä¸ªé¡¹ç›®çš„ <code>AGENTS.md</code> æ–‡ä»¶å˜å¾—æ„ˆå‘å›°éš¾â€”â€”é‡å¤çš„çŸ¥è¯†ã€åˆ†æ•£çš„æ›´æ–°ã€éš¾ä»¥åŒæ­¥ã€‚æ–°çš„Agent Skillså¼€æ”¾æ ‡å‡†é’ˆå¯¹è¿™äº›é—®é¢˜æœ‰å¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆ</p>
<h2 data-id="heading-0">AGENTS.md çš„ç—›ç‚¹ä¸ Agent Skills çš„è¯ç”Ÿ</h2>
<h3 data-id="heading-1">AGENTS.md çš„å›°å¢ƒ</h3>
<p>ä¼ ç»Ÿä¸Šï¼Œå¼€å‘è€…ä¼šåœ¨æ¯ä¸ªé¡¹ç›®ä¸­åˆ›å»º <code>AGENTS.md</code> æ–‡ä»¶ï¼Œç”¨äºè®°å½•ï¼š</p>
<ul>
<li>é¡¹ç›®ç‰¹å®šçš„ç¼–ç è§„èŒƒ</li>
<li>é¦–é€‰çš„ Swift/SwiftUI æ–¹æ³•</li>
<li>é‡æ„ç­–ç•¥</li>
<li>Swift Concurrency ä½¿ç”¨æ¨¡å¼</li>
</ul>
<p>åœ¨å®è·µä¸­å­˜åœ¨ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š</p>
<p>ç¬¬ä¸€ï¼ŒçŸ¥è¯†åŒæ­¥æˆæœ¬é«˜ã€‚å½“åœ¨ A é¡¹ç›®ä¸­å‘ç° AI ç”Ÿæˆäº†é”™è¯¯ä»£ç å¹¶æ›´æ–° <code>AGENTS.md</code> åï¼Œç›¸åŒçš„é—®é¢˜ä¿®å¤éœ€è¦æ‰‹åŠ¨åŒæ­¥åˆ° Bã€Cã€D é¡¹ç›®ï¼Œç»´æŠ¤æˆæœ¬çº¿æ€§å¢é•¿ã€‚</p>
<p>ç¬¬äºŒï¼Œé€šç”¨çŸ¥è¯†ä¸é¡¹ç›®çŸ¥è¯†æ··æ‚ã€‚<code>AGENTS.md</code> æœ¬åº”èšç„¦é¡¹ç›®ç‰¹æœ‰é€»è¾‘ï¼Œå´ä¸å¾—ä¸åŒ…å«å¤§é‡é€šç”¨ç¼–ç¨‹æœ€ä½³å®è·µï¼ˆå¦‚ Swift Concurrency ä½¿ç”¨è§„èŒƒï¼‰ï¼Œå¯¼è‡´æ–‡ä»¶è‡ƒè‚¿ã€‚</p>
<p>ç¬¬ä¸‰ï¼Œç¼ºä¹æ ‡å‡†åŒ–åˆ†äº«æœºåˆ¶ã€‚å³ä½¿æƒ³å¼€æºè‡ªå·±çš„ <code>AGENTS.md</code> å¸®åŠ©ä»–äººï¼Œå…¶æ ¼å¼ä¹Ÿä¸é€‚åˆç›´æ¥åˆ†äº«â€”â€”å®ƒå¤©ç„¶ä¸ºé¡¹ç›®ç‰¹å®šè€Œè®¾è®¡ï¼Œè€Œéé¢†åŸŸé€šç”¨ã€‚</p>
<h3 data-id="heading-2">Agent Skills çš„æ ¸å¿ƒç†å¿µ</h3>
<p>Agent Skills æ˜¯ä¸€ä¸ªå¼€æ”¾æ ¼å¼ï¼ˆopen formatï¼‰ï¼Œæ—¨åœ¨å°† AI Agent çš„èƒ½åŠ›æ¨¡å—åŒ–ã€å¯å¤ç”¨åŒ–ã€‚å®˜æ–¹å®šä¹‰ä¸ºï¼š</p>
<blockquote>
<p>Agent Skills æ˜¯ä¸€ç§ä¸º AI Agent æä¾›æ–°èƒ½åŠ›å’Œä¸“ä¸šçŸ¥è¯†çš„å¼€æ”¾æ ¼å¼ã€‚å•ä¸ª Skill å¯åŒ…å«æŒ‡ä»¤ã€è„šæœ¬å’Œèµ„æºæ–‡ä»¶å¤¹ï¼Œä½¿ Agent èƒ½æ›´å‡†ç¡®åœ°æ‰§è¡Œç‰¹å®šä»»åŠ¡ã€‚</p>
</blockquote>
<p>å…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºé¢†åŸŸä¸“ä¸šçŸ¥è¯†çš„å°è£…ä¸å¤ç”¨ã€‚ä½ å¯ä»¥å°† Swift Concurrencyã€SwiftUI æ¶æ„ã€ä»£ç é‡æ„ç­‰é¢†åŸŸçš„æœ€ä½³å®è·µæ‰“åŒ…æˆç‹¬ç«‹ Skillï¼Œåœ¨æ‰€æœ‰é¡¹ç›®ä¸­å…±äº«ã€‚</p>
<p>ä¸€å¥è¯æ€»ç»“ï¼š<code>AGENTS.md</code> æ˜¯é¡¹ç›®çº§çŸ¥è¯†åº“ï¼Œè€Œ Agent Skills æ˜¯è·¨é¡¹ç›®ã€é¢†åŸŸçº§çš„çŸ¥è¯†åº“ã€‚</p>
<h2 data-id="heading-3">Agent Skills æ ¸å¿ƒæ¦‚å¿µè¯¦è§£</h2>
<h3 data-id="heading-4">ä»€ä¹ˆæ˜¯ Agent Skillsï¼Ÿ</h3>
<p>Agent Skills ç”±ä¸‰ä¸ªæ ¸å¿ƒè¦ç´ æ„æˆï¼š</p>
<ol>
<li>æŒ‡ä»¤ç³»ç»Ÿï¼ˆInstructionsï¼‰ï¼šæŒ‡å¯¼ Agent ä½•æ—¶ã€å¦‚ä½•ä½¿ç”¨è¯¥ Skill</li>
<li>å‚è€ƒèµ„æºï¼ˆReferencesï¼‰ï¼šè¯¦ç»†çš„é¢†åŸŸçŸ¥è¯†æ–‡æ¡£</li>
<li>å¯æ‰§è¡Œè„šæœ¬ï¼ˆScriptsï¼‰ï¼šè‡ªåŠ¨åŒ–å·¥å…·æˆ–å·¥ä½œæµ</li>
</ol>
<p>è¿™ç§ç»“æ„ä½¿ Skill å…·å¤‡ï¼š</p>
<ul>
<li>é¢†åŸŸä¸“ä¸šæ€§ï¼šæ·±åº¦è¦†ç›–ç‰¹å®šæŠ€æœ¯æ ˆ</li>
<li>å¯å¤ç”¨æ€§ï¼šä¸€æ¬¡åˆ›å»ºï¼Œå¤šé¡¹ç›®ä½¿ç”¨</li>
<li>å·¥å…·å…¼å®¹æ€§ï¼šå·²è¢« Codexã€Geminiã€Claudeã€Cursor ç­‰ä¸»æµå·¥å…·æ”¯æŒ</li>
</ul>
<h3 data-id="heading-5">æŠ€æœ¯ç”Ÿæ€ç°çŠ¶</h3>
<p>Agent Skills å·²è¢«å¹¿æ³›é‡‡çº³ï¼š</p>
<ul>
<li>Codex CLIï¼šé€šè¿‡ <code>/skills</code> å‘½ä»¤ç®¡ç†</li>
<li>Cursor AIï¼šé›†æˆ openskills CLI</li>
<li>Gemini/Claudeï¼šåŸç”Ÿæ”¯æŒ Skill æ ¼å¼</li>
</ul>
<p>è¿™æ„å‘³ç€å¼€å‘è€…å¯ä»¥ç«‹å³æŠ•å…¥ä½¿ç”¨ï¼Œæ— éœ€ç­‰å¾…ç”Ÿæ€æˆç†Ÿã€‚</p>
<h2 data-id="heading-6">å®æˆ˜æ¡ˆä¾‹ï¼šSwift Concurrency Skill æ·±åº¦å‰–æ</h2>
<h3 data-id="heading-7">Skill ç»“æ„è®¾è®¡</h3>
<pre><code class="hljs language-bash" lang="bash">swift-concurrency/
â”œâ”€â”€ SKILL.md                    <span class="hljs-comment"># ä¸»æŠ€èƒ½æ–‡ä»¶ï¼šå†³ç­–æ ‘å…¥å£</span>
â””â”€â”€ references/
    â”œâ”€â”€ async-await-basics.md   <span class="hljs-comment"># async/await åŸºç¡€è¯­æ³•</span>
    â”œâ”€â”€ tasks.md                <span class="hljs-comment"># Task ç”Ÿå‘½å‘¨æœŸã€å–æ¶ˆæœºåˆ¶ã€ä¼˜å…ˆçº§</span>
    â”œâ”€â”€ sendable.md             <span class="hljs-comment"># éš”ç¦»åŸŸä¸ Sendable åè®®</span>
    â”œâ”€â”€ actors.md               <span class="hljs-comment"># Actor éš”ç¦»ã€å…¨å±€ Actorã€å¯é‡å…¥æ€§</span>
    â”œâ”€â”€ async-sequences.md      <span class="hljs-comment"># AsyncSequence ä¸ AsyncStream æ¨¡å¼</span>
    â”œâ”€â”€ threading.md            <span class="hljs-comment"># çº¿ç¨‹ä¸ Task å¯¹æ¯”ã€æŒ‚èµ·ç‚¹</span>
    â”œâ”€â”€ memory-management.md    <span class="hljs-comment"># å¾ªç¯å¼•ç”¨ã€weak selfã€éš”ç¦»ææ„</span>
    â”œâ”€â”€ core-data.md            <span class="hljs-comment"># Core Data é›†æˆæ¨¡å¼</span>
    â”œâ”€â”€ performance.md          <span class="hljs-comment"># ä½¿ç”¨ Xcode Instruments ä¼˜åŒ–</span>
    â”œâ”€â”€ testing.md              <span class="hljs-comment"># å¹¶å‘ä»£ç æµ‹è¯•ç­–ç•¥</span>
    â”œâ”€â”€ migration.md            <span class="hljs-comment"># Swift 6 è¿ç§»åˆ†æ­¥æŒ‡å—</span>
    â”œâ”€â”€ glossary.md             <span class="hljs-comment"># æœ¯è¯­ä¸æ¦‚å¿µè¯æ±‡è¡¨</span>
    â””â”€â”€ linting.md              <span class="hljs-comment"># ä¸¥æ ¼å¹¶å‘ Lint è§„åˆ™</span>
</code></pre>
<p>ç»“æ„è§£æï¼š</p>
<ul>
<li><code>SKILL.md</code> æ˜¯æ™ºèƒ½è·¯ç”±å±‚ï¼Œç±»ä¼¼ API Gatewayï¼Œæ ¹æ®é—®é¢˜ç±»å‹åˆ†å‘åˆ°å¯¹åº”çš„å‚è€ƒæ–‡æ¡£</li>
<li><code>references/</code> æ˜¯çŸ¥è¯†åº“å±‚ï¼Œæ¯ç¯‡æ–‡æ¡£èšç„¦å•ä¸€ä¸»é¢˜ï¼Œæ·±åº¦è®²è§£</li>
<li>è¿™ç§åˆ†å±‚è®¾è®¡ä½¿ Agent èƒ½ç²¾å‡†å®šä½æ‰€éœ€çŸ¥è¯†ï¼Œé¿å…ä¸Šä¸‹æ–‡è¿‡è½½</li>
</ul>
<h3 data-id="heading-8">ä»£ç ç¤ºä¾‹ï¼šå†³ç­–æ ‘å®ç°</h3>
<p><code>SKILL.md</code> ä¸­çš„å†³ç­–æ ‘æ˜¯ Skill çš„æ ¸å¿ƒæ™ºèƒ½ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€åŒ–çš„å®ç°ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Swift Concurrency Skill - ä¸»å†³ç­–æ ‘</span>

<span class="hljs-section">## ä½•æ—¶ä½¿ç”¨è¯¥ Skill</span>
å½“å¼€å‘è€…æåŠä»¥ä¸‹å…³é”®è¯æ—¶æ¿€æ´»ï¼š
<span class="hljs-bullet">-</span> "Swift Concurrency", "async/await", "actors", "tasks"
<span class="hljs-bullet">-</span> "è¿ç§»åˆ° Swift 6"
<span class="hljs-bullet">-</span> "æ•°æ®ç«äº‰" æˆ– "çº¿ç¨‹å®‰å…¨"
<span class="hljs-bullet">-</span> "@MainActor", "Sendable"
<span class="hljs-bullet">-</span> "å¹¶å‘ä»£ç æ¶æ„" æˆ– "æ€§èƒ½ä¼˜åŒ–"

<span class="hljs-section">## å†³ç­–è·¯å¾„</span>

<span class="hljs-section">### 1. åˆšå¼€å§‹ç¼–å†™å¼‚æ­¥ä»£ç ï¼Ÿ</span>
<span class="hljs-code">```bash
# Agent æ‰§è¡ŒåŠ¨ä½œï¼šè¯»å–åŸºç¡€æ–‡æ¡£
openskills read swift-concurrency/references/async-await-basics.md
</span></code></pre>
<ul>
<li>éœ€è¦å¹¶è¡Œæ“ä½œï¼Ÿâ†’ è¯»å– <code>tasks.md</code> (async let, TaskGroup)</li>
</ul>
<ol start="2">
<li>éœ€è¦ä¿æŠ¤å…±äº«å¯å˜çŠ¶æ€ï¼Ÿ</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¯„ä¼°é¡¹ç›®ç±»å‹</span>
<span class="hljs-keyword">if</span> é¡¹ç›®ä½¿ç”¨ç±»ï¼ˆclassï¼‰ç®¡ç†çŠ¶æ€:
    openskills <span class="hljs-built_in">read</span> swift-concurrency/references/actors.md
<span class="hljs-keyword">else</span>:
    openskills <span class="hljs-built_in">read</span> swift-concurrency/references/sendable.md
</code></pre>
<ol start="3">
<li>ç®¡ç†å¼‚æ­¥æ“ä½œç”Ÿå‘½å‘¨æœŸï¼Ÿ</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åŒºåˆ†ç»“æ„åŒ–å¹¶å‘ä¸æµå¼æ•°æ®</span>
<span class="hljs-keyword">if</span> éœ€æ±‚æ˜¯ç»“æ„åŒ–ä»»åŠ¡ç®¡ç†:
    openskills <span class="hljs-built_in">read</span> swift-concurrency/references/tasks.md
<span class="hljs-keyword">elif</span> éœ€æ±‚æ˜¯æµå¼æ•°æ®å¤„ç†:
    openskills <span class="hljs-built_in">read</span> swift-concurrency/references/async-sequences.md
</code></pre>
<ol start="4">
<li>æ€§èƒ½åˆ†æä¸è°ƒè¯•ï¼Ÿ</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¼•å¯¼ä½¿ç”¨ Instruments</span>
openskills <span class="hljs-built_in">read</span> swift-concurrency/references/performance.md
</code></pre>
<p>é¡¹ç›®é…ç½®æ£€æŸ¥æ¸…å•
åœ¨åº”ç”¨å»ºè®®å‰ï¼ŒAgent å¿…é¡»æ£€æŸ¥ï¼š</p>
<ul>
<li>Swift ç‰ˆæœ¬ï¼ˆ6.0+ï¼Ÿï¼‰</li>
<li>æ˜¯å¦å¯ç”¨ <code>StrictConcurrency=complete</code></li>
<li>æ˜¯å¦è®¾ç½® <code>nonisolatednonsendingbydefault</code></li>
<li>é»˜è®¤ Actor éš”ç¦»ç­–ç•¥</li>
</ul>
<pre><code class="hljs language-markdown" lang="markdown">
<span class="hljs-strong">**æ³¨é‡Šè¯´æ˜**</span>ï¼š
<span class="hljs-bullet">-</span> å†³ç­–æ ‘æœ¬è´¨æ˜¯<span class="hljs-strong">**æ¡ä»¶è·¯ç”±è¡¨**</span>ï¼Œå°†è‡ªç„¶è¯­è¨€é—®é¢˜æ˜ å°„åˆ°å…·ä½“æ–‡æ¡£
<span class="hljs-bullet">-</span> <span class="hljs-code">`openskills read`</span> æ˜¯ Agent ä¸ Skill çš„<span class="hljs-strong">**æ ‡å‡†äº¤äº’æ¥å£**</span>
<span class="hljs-bullet">-</span> é¡¹ç›®é…ç½®æ£€æŸ¥ç¡®ä¿å»ºè®®<span class="hljs-strong">**å› åœ°åˆ¶å®œ**</span>ï¼Œé¿å…ç”Ÿæ¬ç¡¬å¥—

<span class="hljs-section">## Agent å¦‚ä½•ä½¿ç”¨ Skillsï¼šæŠ€æœ¯å®ç°åŸç†</span>

<span class="hljs-section">### å®‰è£…ä¸åŒæ­¥æœºåˆ¶</span>

Agent Skills é€šè¿‡ <span class="hljs-code">`openskills`</span> CLI å·¥å…·ç®¡ç†ï¼Œå…¶å·¥ä½œæµç¨‹åˆ†ä¸ºä¸‰æ­¥ï¼š

<span class="hljs-strong">**æ­¥éª¤ 1ï¼šå®‰è£… Skill**</span>
<span class="hljs-code">```bash
# ä» GitHub å®‰è£…å…¬å¼€ Skill
openskills install avdlee/Swift-Concurrency-Agent-Skill
</span></code></pre>
<p>æŠ€æœ¯åŸç†ï¼šè¯¥å‘½ä»¤ä¼šï¼š</p>
<ol>
<li>å…‹éš† GitHub ä»“åº“åˆ°æœ¬åœ° Skill å­˜å‚¨ç›®å½•ï¼ˆ<code>~/.skills</code> æˆ–é¡¹ç›® <code>.skills</code>ï¼‰</li>
<li>è§£æ <code>SKILL.md</code> æå–å…ƒæ•°æ®ï¼ˆåç§°ã€æè¿°ã€è§¦å‘å…³é”®è¯ï¼‰</li>
<li>æ³¨å†Œ Skill åˆ°å…¨å±€ç´¢å¼•</li>
</ol>
<p>æ­¥éª¤ 2ï¼šåŒæ­¥åˆ° AGENTS.md</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å°†å·²å®‰è£… Skills æ³¨å…¥é¡¹ç›® AGENTS.md</span>
openskills <span class="hljs-built_in">sync</span>
</code></pre>
<p>è¯¥å‘½ä»¤ä¼šè‡ªåŠ¨åŒ–ä¿®æ”¹ <code>AGENTS.md</code>ï¼Œæ’å…¥ Skill å¼•ç”¨åŒºå—ã€‚ç”Ÿæˆçš„å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">skills_system</span> <span class="hljs-attr">priority</span>=<span class="hljs-string">"1"</span>&gt;</span>

## å¯ç”¨ Skills

<span class="hljs-comment">&lt;!-- SKILLS_TABLE_START --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">usage</span>&gt;</span>
å½“ç”¨æˆ·è¯·æ±‚ä»»åŠ¡æ—¶ï¼Œæ£€æŸ¥ä»¥ä¸‹å¯ç”¨ Skills æ˜¯å¦èƒ½æ›´æœ‰æ•ˆå®Œæˆå·¥ä½œã€‚Skills æä¾›ä¸“ä¸šèƒ½åŠ›å’Œé¢†åŸŸçŸ¥è¯†ã€‚

ä½¿ç”¨æ–¹æ³•ï¼š
- è°ƒç”¨ï¼šBash("openskills read <span class="hljs-tag">&lt;<span class="hljs-name">skill-name</span>&gt;</span>")
- Skill å†…å®¹å°†åŠ è½½ï¼ŒåŒ…å«å®Œæˆä»»åŠ¡çš„å…·ä½“æŒ‡ä»¤
- è¾“å‡ºä¸­æä¾›åŸºç¡€ç›®å½•ï¼Œç”¨äºè§£ææ†ç»‘èµ„æºï¼ˆreferences/, scripts/, assets/ï¼‰

ä½¿ç”¨æ³¨æ„ï¼š
- ä»…ä½¿ç”¨ <span class="hljs-tag">&lt;<span class="hljs-name">available_skills</span>&gt;</span> ä¸‹åˆ—å‡ºçš„ Skills
- ä¸è¦è°ƒç”¨å·²åŠ è½½åˆ°ä¸Šä¸‹æ–‡çš„ Skill
- æ¯æ¬¡ Skill è°ƒç”¨æ˜¯æ— çŠ¶æ€çš„
<span class="hljs-tag">&lt;/<span class="hljs-name">usage</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">available_skills</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">skill</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>swift-concurrency<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>'Swift Concurrency æœ€ä½³å®è·µã€æ¨¡å¼å’Œå®ç°çš„ä¸“å®¶æŒ‡å¯¼ã€‚ä½¿ç”¨åœºæ™¯ï¼š(1) æåŠ Swift Concurrencyã€async/awaitã€actors æˆ– tasksï¼Œ(2) "ä½¿ç”¨ Swift Concurrency" æˆ– "ç°ä»£å¹¶å‘æ¨¡å¼"ï¼Œ(3) è¿ç§»åˆ° Swift 6ï¼Œ(4) æ•°æ®ç«äº‰æˆ–çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œ(5) å°†é—­åŒ…é‡æ„ä¸º async/awaitï¼Œ(6) @MainActorã€Sendable æˆ– Actor éš”ç¦»ï¼Œ(7) å¹¶å‘ä»£ç æ¶æ„æˆ–æ€§èƒ½ä¼˜åŒ–ï¼Œ(8) å¹¶å‘ç›¸å…³ Lint è­¦å‘Šï¼ˆSwiftLint ç­‰ï¼‰'<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">location</span>&gt;</span>project<span class="hljs-tag">&lt;/<span class="hljs-name">location</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">skill</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">available_skills</span>&gt;</span>
<span class="hljs-comment">&lt;!-- SKILLS_TABLE_END --&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">skills_system</span>&gt;</span>
</code></pre>
<p>æŠ€æœ¯è§£æï¼š</p>
<ul>
<li>ä½¿ç”¨ XML æ ¼å¼ æ˜¯ä¸ºäº†å…¼å®¹ä¸åŒ Agent çš„è§£æå™¨</li>
<li><code>priority="1"</code> ç¡®ä¿ Skill ç³»ç»Ÿè¢«ä¼˜å…ˆè¯„ä¼°</li>
<li><code>&lt;description&gt;</code> æ˜¯è§¦å‘å™¨ï¼ˆTriggerï¼‰ï¼ŒAgent é€šè¿‡è‡ªç„¶è¯­è¨€åŒ¹é…å†³å®šæ˜¯å¦è°ƒç”¨</li>
<li><code>Bash("openskills read ...")</code> æ˜¯æ ‡å‡†è°ƒç”¨æ¥å£ï¼Œè§£è€¦ Agent ä¸ Skill å®ç°</li>
</ul>
<h3 data-id="heading-9">Agent çš„å†³ç­–æµç¨‹</h3>
<p>å½“ç”¨æˆ·æé—®æ—¶ï¼ŒAgent çš„å†…éƒ¨å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä¼ªä»£ç ï¼šAgent å†³ç­–é€»è¾‘</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_user_prompt</span>(<span class="hljs-params">prompt: <span class="hljs-built_in">str</span>, skills: <span class="hljs-type">List</span>[Skill]</span>):
    <span class="hljs-comment"># 1. è§£æç”¨æˆ·æ„å›¾ï¼ˆEmbedding + å…³é”®è¯åŒ¹é…ï¼‰</span>
    intent = extract_intent(prompt)
    
    <span class="hljs-comment"># 2. éå†å¯ç”¨ Skillsï¼Œè®¡ç®—ç›¸å…³æ€§å¾—åˆ†</span>
    <span class="hljs-keyword">for</span> skill <span class="hljs-keyword">in</span> skills:
        <span class="hljs-comment"># åŒ¹é… Skill æè¿°ä¸­çš„å…³é”®è¯</span>
        <span class="hljs-keyword">if</span> skill.description.contains_any(intent.keywords):
            score = calculate_relevance(skill.description, intent)
            <span class="hljs-keyword">if</span> score &gt; THRESHOLD:
                <span class="hljs-comment"># 3. åŠ¨æ€åŠ è½½ Skill ä¸Šä¸‹æ–‡</span>
                skill_content = execute_bash(<span class="hljs-string">f"openskills read <span class="hljs-subst">{skill.name}</span>"</span>)
                
                <span class="hljs-comment"># 4. å†³ç­–æ ‘è·¯ç”±</span>
                decision_path = parse_decision_tree(skill_content.SKILL.md)
                target_doc = decision_path.evaluate(intent)
                
                <span class="hljs-comment"># 5. è¯»å–å…·ä½“çŸ¥è¯†æ–‡æ¡£</span>
                reference_doc = execute_bash(
                    <span class="hljs-string">f"openskills read <span class="hljs-subst">{skill.name}</span>/references/<span class="hljs-subst">{target_doc}</span>"</span>
                )
                
                <span class="hljs-comment"># 6. ç”Ÿæˆå¸¦å¼•ç”¨çš„å›ç­”</span>
                <span class="hljs-keyword">return</span> generate_answer(
                    prompt, 
                    context=reference_doc,
                    citations=[target_doc]  <span class="hljs-comment"># å¼•ç”¨æ¥æº</span>
                )
    
    <span class="hljs-comment"># æ— åŒ¹é… Skillï¼Œä½¿ç”¨é€šç”¨çŸ¥è¯†</span>
    <span class="hljs-keyword">return</span> generate_answer(prompt, context=general_knowledge)
</code></pre>
<p>å…³é”®è®¾è®¡äº®ç‚¹ï¼š</p>
<ul>
<li>å»¶è¿ŸåŠ è½½ï¼ˆLazy Loadingï¼‰ï¼šSkill å†…å®¹åœ¨éœ€è¦æ—¶æ‰åŠ è½½ï¼Œé¿å…ä¸Šä¸‹æ–‡çª—å£æµªè´¹</li>
<li>æ— çŠ¶æ€è°ƒç”¨ï¼šæ¯æ¬¡è°ƒç”¨éƒ½æ˜¯ç‹¬ç«‹çš„ï¼ŒSkill å†…éƒ¨æ— å¤æ‚çŠ¶æ€ç®¡ç†ï¼Œé™ä½è€¦åˆ</li>
<li>å¯æº¯æºæ€§ï¼šAgent å¿…é¡»æ˜ç¡®å¼•ç”¨å‚è€ƒæ–‡æ¡£ï¼Œå®ç°çŸ¥è¯†å®¡è®¡</li>
</ul>
<h2 data-id="heading-10">é¢†åŸŸä¸“ä¸šçŸ¥è¯†çš„é‡è¦æ€§ï¼šSkill è´¨é‡çš„åŸºçŸ³</h2>
<h3 data-id="heading-11">ä¸ºä»€ä¹ˆéœ€è¦é¢†åŸŸä¸“å®¶ï¼Ÿ</h3>
<p>Agent Skills çš„è´¨é‡å–å†³äºåˆ›å»ºè€…çš„é¢†åŸŸæ·±åº¦ã€‚å…¶ Swift Concurrency Skill çš„ä¼˜åŠ¿æºäºï¼š</p>
<ul>
<li>å¯¹ Swift 6 æ–°ç‰¹æ€§çš„æ·±åº¦ç†è§£ï¼ˆå¦‚ Default Actor Isolationï¼‰</li>
<li>å®é™…é¡¹ç›®ä¸­çš„è¸©å‘ç»éªŒï¼ˆå¦‚ä¸å¿…è¦çš„ <code>@MainActor</code>ï¼‰</li>
</ul>
<h3 data-id="heading-12">åæ¨¡å¼ï¼šæµ…å±‚çŸ¥è¯†ä¸è¿‡åº¦è®¾è®¡</h3>
<p>ä¸€äº›å¼€æº Skill çš„é—®é¢˜ï¼š</p>
<p>é—®é¢˜ 1ï¼šç¼ºä¹æ·±åº¦</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># åä¾‹ï¼šæµ…å±‚ Skill</span>
<span class="hljs-section">## ä½¿ç”¨ async/await</span>
<span class="hljs-bullet">-</span> ç”¨ async æ ‡è®°å¼‚æ­¥å‡½æ•°
<span class="hljs-bullet">-</span> ç”¨ await è°ƒç”¨å¼‚æ­¥å‡½æ•°
</code></pre>
<p>è¿™ç§ Skill åªæ˜¯è¯­æ³•å¤è¿°ï¼Œæ— æ³•è§£å†³å®é™…é—®é¢˜ï¼ˆå¦‚çº¿ç¨‹å®‰å…¨ã€æ€§èƒ½ä¼˜åŒ–ï¼‰ã€‚</p>
<p>é—®é¢˜ 2ï¼šè¿‡åº¦æ­¦æ–­</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åä¾‹ï¼šå¼ºåˆ¶æ¶æ„é£æ ¼</span>
<span class="hljs-comment">// Skill å»ºè®®ï¼šæ‰€æœ‰ ViewModel å¿…é¡»éµå¾ª MVVM</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyViewModel</span>: <span class="hljs-title class_">ObservableObject</span> { <span class="hljs-comment">/* ... */</span> } 
<span class="hljs-comment">// ä½†å¦‚æœç”¨æˆ·é¡¹ç›®ä½¿ç”¨ TCA æˆ– Elmï¼Œæ­¤å»ºè®®å°±æ˜¯é”™è¯¯çš„</span>
</code></pre>
<p>æœ€ä½³å®è·µåŸåˆ™ï¼š</p>
<ul>
<li>Skill åº”èšç„¦ "æœ€ä½³å®è·µ" è€Œé "ä¸ªäººåå¥½"</li>
<li>åº”è§£å†³ "How to do it right" è€Œé "How I do it"</li>
<li>æä¾› "é…ç½®æ„ŸçŸ¥" èƒ½åŠ›ï¼Œæ ¹æ®é¡¹ç›®å®é™…è®¾ç½®è°ƒæ•´å»ºè®®</li>
</ul>
<h3 data-id="heading-13">é…ç½®æ„ŸçŸ¥çš„å®ç°</h3>
<p>Swift Concurrency Skill ä¼šå…ˆè¯„ä¼°é¡¹ç›®é…ç½®ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// Skill å†³ç­–é€»è¾‘ç¤ºä¾‹ï¼šè¯„ä¼°é¡¹ç›® Swift ç‰ˆæœ¬</span>
<span class="hljs-keyword">func</span> <span class="hljs-title function_">evaluateProjectSettings</span>() -&gt; <span class="hljs-type">ConcurrencyStrategy</span> {
    <span class="hljs-keyword">let</span> swiftVersion <span class="hljs-operator">=</span> readSwiftVersion() <span class="hljs-comment">// è¯»å– // swift-tools-version: 6.0</span>
    <span class="hljs-keyword">let</span> concurrencyChecks <span class="hljs-operator">=</span> buildSettings[<span class="hljs-string">"SWIFT_STRICT_CONCURRENCY"</span>] <span class="hljs-comment">// ä¸¥æ ¼å¹¶å‘è®¾ç½®</span>
    <span class="hljs-keyword">let</span> actorIsolation <span class="hljs-operator">=</span> buildSettings[<span class="hljs-string">"SWIFT_DEFAULT_ACTOR_ISOLATION"</span>] <span class="hljs-comment">// é»˜è®¤ Actor éš”ç¦»</span>
    
    <span class="hljs-keyword">if</span> swiftVersion <span class="hljs-operator">&gt;=</span> .v6_0 <span class="hljs-operator">&amp;&amp;</span> concurrencyChecks <span class="hljs-operator">==</span> <span class="hljs-string">"complete"</span> {
        <span class="hljs-comment">// Swift 6 + å®Œæ•´ä¸¥æ ¼å¹¶å‘æ£€æŸ¥</span>
        <span class="hljs-keyword">return</span> .swift6Strict
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> actorIsolation <span class="hljs-operator">==</span> <span class="hljs-string">"mainActor"</span> {
        <span class="hljs-comment">// é»˜è®¤ä¸» Actor éš”ç¦»ï¼Œå¯çœç•¥å¤šä½™ @MainActor</span>
        <span class="hljs-keyword">return</span> .mainActorDefault
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> .legacy
    }
}

<span class="hljs-comment">// æ ¹æ®è¯„ä¼°ç»“æœï¼ŒSkill ä¼šç”Ÿæˆå·®å¼‚åŒ–å»ºè®®</span>
<span class="hljs-keyword">switch</span> evaluateProjectSettings() {
<span class="hljs-keyword">case</span> .swift6Strict:
    <span class="hljs-comment">// å»ºè®®ï¼šåˆ©ç”¨ç¼–è¯‘æ—¶æ£€æŸ¥ï¼Œå‡å°‘è¿è¡Œæ—¶ä¿æŠ¤</span>
    suggest(<span class="hljs-string">"ä¼˜å…ˆä½¿ç”¨ Sendable å’Œ Actor éš”ç¦»ï¼Œå‡å°‘ DispatchQueue"</span>)
<span class="hljs-keyword">case</span> .mainActorDefault:
    <span class="hljs-comment">// å»ºè®®ï¼šç§»é™¤å†—ä½™æ³¨è§£</span>
    suggest(<span class="hljs-string">"å…¨å±€å·²é»˜è®¤ @MainActorï¼Œå¯ç§»é™¤æ˜¾å¼æ ‡è®°"</span>)
<span class="hljs-keyword">case</span> .legacy:
    <span class="hljs-comment">// å»ºè®®ï¼šä¿å®ˆçš„å‘åå…¼å®¹æ–¹æ¡ˆ</span>
    suggest(<span class="hljs-string">"é€æ­¥è¿ç§»ï¼Œå…ˆå¯ç”¨ StrictConcurrency=minimal"</span>)
}
</code></pre>
<p>è¿™ç§ä¸Šä¸‹æ–‡æ„ŸçŸ¥èƒ½åŠ›ä½¿ Skill å»ºè®®ç²¾å‡†è€Œéæ•™æ¡ã€‚</p>
<h2 data-id="heading-14">å¦‚ä½•ä½¿ç”¨ Agent Skillsï¼šå¤šå·¥å…·å®è·µ</h2>
<h3 data-id="heading-15">ä½¿ç”¨ openskills CLIï¼ˆCursor AIï¼‰</h3>
<p>å®‰è£… Skillï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… Swift Concurrency Skill</span>
openskills install avdlee/Swift-Concurrency-Agent-Skill

<span class="hljs-comment"># æŸ¥çœ‹å·²å®‰è£… Skills</span>
openskills list
</code></pre>
<p>åŒæ­¥åˆ°é¡¹ç›®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è‡ªåŠ¨æ›´æ–° AGENTS.md</span>
openskills <span class="hljs-built_in">sync</span>

<span class="hljs-comment"># å¯æŒ‡å®šè¾“å‡ºæ–‡ä»¶</span>
openskills <span class="hljs-built_in">sync</span> --output .cursor/agents.md
</code></pre>
<p>åœ¨å¯¹è¯ä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·ï¼šå¸®æˆ‘åˆ†æå½“å‰é¡¹ç›®çš„ Swift Concurrency ä½¿ç”¨æ˜¯å¦åˆç†  

Agent å†…éƒ¨ï¼š
<span class="hljs-bullet">1.</span> åŒ¹é…åˆ°å…³é”®è¯ "Swift Concurrency" â†’ è§¦å‘ swift-concurrency Skill
<span class="hljs-bullet">2.</span> æ‰§è¡Œ <span class="hljs-code">`openskills read swift-concurrency`</span>
<span class="hljs-bullet">3.</span> è¯»å– SKILL.mdï¼Œå†³ç­–æ ‘æŒ‡å‘ "analyze-project"
<span class="hljs-bullet">4.</span> æ‰§è¡Œåˆ†æè„šæœ¬ï¼ˆå¦‚æœ‰ï¼‰
<span class="hljs-bullet">5.</span> ç”Ÿæˆå¸¦å¼•ç”¨çš„æŠ¥å‘Š
</code></pre>
<h3 data-id="heading-16">å®ç”¨ Prompt ç¤ºä¾‹</h3>
<p>ä»¥ä¸‹æ˜¯å¯ç›´æ¥ä½¿ç”¨çš„ Skill è°ƒç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¤ºä¾‹ 1ï¼šæ£€æŸ¥å†—ä½™ @MainActor</span>
<span class="hljs-string">"ä½¿ç”¨ swift-concurrency Skillï¼Œæ‰¾å‡ºé¡¹ç›®ä¸­ä¸å¿…è¦çš„ @MainActor ä½¿ç”¨"</span>

<span class="hljs-comment"># ç¤ºä¾‹ 2ï¼šåå°ä»»åŠ¡ä¼˜åŒ–</span>
<span class="hljs-string">"åˆ†æå½“å‰é¡¹ç›®ï¼Œè¯†åˆ«å¯ç§»åŠ¨åˆ°åå°çº¿ç¨‹çš„åŒæ­¥ä»£ç ï¼Œä½¿ç”¨ Swift Concurrency é‡æ„"</span>

<span class="hljs-comment"># ç¤ºä¾‹ 3ï¼šè¿ç§»è¾…åŠ©</span>
<span class="hljs-string">"å¸®æˆ‘å°†æ–‡ä»¶ NetworkManager.swift ä» GCD è¿ç§»åˆ° Swift Concurrencyï¼Œä½¿ç”¨ Skill æŒ‡å¯¼"</span>

<span class="hljs-comment"># ç¤ºä¾‹ 4ï¼šæ€§èƒ½åˆ†æ</span>
<span class="hljs-string">"ä½¿ç”¨ Skill çš„æ€§èƒ½æ¨¡å—ï¼Œåˆ†æ async let å’Œ TaskGroup çš„ä½¿ç”¨æ•ˆç‡"</span>

<span class="hljs-comment"># ç¤ºä¾‹ 5ï¼šLint è§„åˆ™</span>
<span class="hljs-string">"æ ¹æ® Skill çš„ linting.mdï¼Œæ£€æŸ¥é¡¹ç›®æ˜¯å¦ç¬¦åˆä¸¥æ ¼å¹¶å‘ Lint è§„åˆ™"</span>
</code></pre>
<h2 data-id="heading-17">æ·±å…¥åŸç†æ€§åˆ†æ</h2>
<h3 data-id="heading-18">Agent Skills çš„æ¶æ„è®¾è®¡å“²å­¦</h3>
<p>Agent Skills çš„è®¾è®¡éµå¾ªä¸‰å¤§åŸåˆ™ï¼š</p>
<p>åŸåˆ™ä¸€ï¼šå…³æ³¨ç‚¹åˆ†ç¦»ï¼ˆSeparation of Concernsï¼‰</p>
<ul>
<li><code>AGENTS.md</code> = é¡¹ç›®ç‰¹å®šä¸Šä¸‹æ–‡ï¼ˆå¦‚ä¸šåŠ¡é€»è¾‘ã€æ¶æ„å†³ç­–ï¼‰</li>
<li><code>Skill</code> = é¢†åŸŸé€šç”¨çŸ¥è¯†ï¼ˆå¦‚è¯­è¨€ç‰¹æ€§ã€æ¡†æ¶æœ€ä½³å®è·µï¼‰</li>
</ul>
<p>åŸåˆ™äºŒï¼šçŸ¥è¯†çš„å±‚æ¬¡åŒ–å°è£…</p>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·æé—®
<span class="hljs-code">    â†“
æ„å›¾è¯†åˆ«ï¼ˆAgent é€šç”¨èƒ½åŠ›ï¼‰
    â†“
Skill è·¯ç”±ï¼ˆSKILL.md å†³ç­–æ ‘ï¼‰
    â†“
çŸ¥è¯†æ£€ç´¢ï¼ˆReferences æ–‡æ¡£ï¼‰
    â†“
ç­”æ¡ˆç”Ÿæˆï¼ˆå¸¦å¼•ç”¨ï¼‰
</span></code></pre>
<p>è¿™ç§åˆ†å±‚ä½¿çŸ¥è¯†ä»æ‰å¹³æ–‡æœ¬å‡çº§ä¸ºç»“æ„åŒ–çŸ¥è¯†å›¾è°±ã€‚</p>
<p>åŸåˆ™ä¸‰ï¼šå·¥å…·æ— å…³æ€§ï¼ˆTool Agnosticï¼‰</p>
<p>é€šè¿‡æ ‡å‡†åŒ– <code>openskills read</code> æ¥å£ï¼ŒSkill åˆ›å»ºè€…æ— éœ€å…³å¿ƒ Agent å®ç°ç»†èŠ‚ã€‚è¿™æ˜¯ç±» Unix å“²å­¦ï¼šåšä¸€ä»¶äº‹ï¼Œåšå¥½ï¼Œå¹¶èƒ½ä¸å…¶ä»–å·¥å…·ç»„åˆã€‚</p>
<h3 data-id="heading-19">ä¸ RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰çš„å¯¹æ¯”</h3>
<p>Agent Skills æœ¬è´¨ä¸Šæ˜¯ä¸€ç§æ‰‹åŠ¨ä¼˜åŒ–çš„ RAG ç³»ç»Ÿï¼š</p>








































<table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">ä¼ ç»Ÿ RAG</th><th align="left">Agent Skills</th></tr></thead><tbody><tr><td align="left">çŸ¥è¯†ç»„ç»‡</td><td align="left">è‡ªåŠ¨åˆ†å—ï¼Œå¯èƒ½ä¸è¿è´¯</td><td align="left">äººå·¥ç»“æ„åŒ–ï¼Œé€»è¾‘æ¸…æ™°</td></tr><tr><td align="left">æ£€ç´¢æ–¹å¼</td><td align="left">å‘é‡ç›¸ä¼¼åº¦æœç´¢</td><td align="left">è§„åˆ™/å†³ç­–æ ‘è·¯ç”±</td></tr><tr><td align="left">ä¸Šä¸‹æ–‡æ§åˆ¶</td><td align="left">è‡ªåŠ¨æ³¨å…¥ï¼Œå¯èƒ½å†—ä½™</td><td align="left">æŒ‰éœ€åŠ è½½ï¼Œç²¾ç¡®æ§åˆ¶</td></tr><tr><td align="left">å¯è§£é‡Šæ€§</td><td align="left">é»‘ç›’ï¼Œéš¾ä»¥è¿½æº¯</td><td align="left">æ˜¾å¼å¼•ç”¨ï¼Œå¯å®¡è®¡</td></tr><tr><td align="left">ç»´æŠ¤æˆæœ¬</td><td align="left">ä½ï¼ˆè‡ªåŠ¨åŒ–ï¼‰</td><td align="left">ä¸­ç­‰ï¼ˆéœ€äººå·¥ç»´æŠ¤ï¼‰</td></tr><tr><td align="left">å›ç­”è´¨é‡</td><td align="left">ä¸€èˆ¬ï¼Œå¯èƒ½ hallucinate</td><td align="left">é«˜ï¼Œä¸“å®¶çº§æ·±åº¦</td></tr></tbody></table>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>RAGï¼šé€šç”¨çŸ¥è¯†ã€å¿«é€ŸåŸå‹</li>
<li>Agent Skillsï¼šä¸“ä¸šé¢†åŸŸã€ç”Ÿäº§ç¯å¢ƒã€å›¢é˜Ÿåä½œ</li>
</ul>
<h2 data-id="heading-20">ä¸ªäººè§è§£ä¸æ€»ç»“</h2>
<h3 data-id="heading-21">æ ¸å¿ƒè§‚ç‚¹</h3>
<p>Agent Skills ä¸ä»…æ˜¯æŠ€æœ¯å·¥å…·ï¼Œæ›´æ˜¯ç¼–ç¨‹çŸ¥è¯†ç®¡ç†çš„èŒƒå¼å‡çº§ã€‚å®ƒè§£å†³äº† AI è¾…åŠ©å¼€å‘ä¸­çš„ä¸‰ä¸ªæ ¹æœ¬çŸ›ç›¾ï¼š</p>
<ol>
<li>
<p>é€šç”¨æ€§ä¸ç‰¹å¼‚æ€§çš„çŸ›ç›¾</p>
<ul>
<li><code>AGENTS.md</code> è¯•å›¾ä¸¤è€…å…¼é¡¾ï¼Œç»“æœä¸¤å¤´ä¸è®¨å¥½</li>
<li>Skill å°†é€šç”¨çŸ¥è¯†æå–ã€å°è£…ã€å¤ç”¨ï¼Œè®©é¡¹ç›®æ–‡ä»¶å›å½’æœ¬è´¨</li>
</ul>
</li>
<li>
<p>æ·±åº¦ä¸å¹¿åº¦çš„çŸ›ç›¾</p>
<ul>
<li>å¤§æ¨¡å‹è™½æœ‰å¹¿åº¦ï¼Œä½†ç¼ºä¹é¢†åŸŸæ·±åº¦</li>
<li>Skill å¼•å…¥äººç±»ä¸“å®¶çŸ¥è¯†ï¼Œå¼¥è¡¥æ¨¡å‹èƒ½åŠ›è¾¹ç•Œ</li>
</ul>
</li>
<li>
<p>ä¸ªäººä¸å›¢é˜Ÿçš„çŸ›ç›¾</p>
<ul>
<li>ä¸ªäºº <code>AGENTS.md</code> éš¾ä»¥å›¢é˜Ÿåä½œ</li>
<li>Skill å¯ç‰ˆæœ¬åŒ–ã€å…±äº«ã€å…±å»ºï¼Œå½¢æˆå›¢é˜ŸçŸ¥è¯†èµ„äº§</li>
</ul>
</li>
</ol>
<h3 data-id="heading-22">æœ€ä½³å®è·µå»ºè®®</h3>
<p>æ€»ç»“å¦‚ä¸‹å®è·µæŒ‡å—ï¼š</p>
<p>å¯¹äº Skill ä½¿ç”¨è€…ï¼š</p>
<ul>
<li>ä¼˜å…ˆä½¿ç”¨å®˜æ–¹/ä¸“å®¶ Skillï¼šå¦‚è‹¹æœå·¥ç¨‹å¸ˆç»´æŠ¤çš„ Swift  Skillï¼Œæ¯”ç¤¾åŒºç‰ˆæ›´å¯é </li>
<li>å®šæœŸæ›´æ–° Skillsï¼š<code>openskills update avdlee/Swift-Concurrency-Agent-Skill</code></li>
<li>å°æ­¥éªŒè¯ï¼šå…ˆè®© Skill åˆ†æå•ä¸ªæ–‡ä»¶ï¼Œå†æ‰©å±•åˆ°æ•´ä¸ªé¡¹ç›®</li>
<li>å®¡æŸ¥å¼•ç”¨ï¼šæ£€æŸ¥ Skill å»ºè®®çš„å¼•ç”¨æ–‡æ¡£ï¼Œç†è§£å…¶é€»è¾‘ï¼Œè€Œéç›²ä¿¡</li>
</ul>
<p>å¯¹äº Skill åˆ›å»ºè€…ï¼š</p>
<ul>
<li>èšç„¦å•ä¸€é¢†åŸŸï¼šä¸€ä¸ª Skill åªè§£å†³ä¸€ä¸ªé—®é¢˜ï¼ˆå¦‚åªåšå¹¶å‘ï¼Œä¸åšæ¶æ„ï¼‰</li>
<li>ç¼–å†™å†³ç­–æ ‘ï¼šSKILL.md å¿…é¡»æ˜¯å†³ç­–æŒ‡å—ï¼Œè€Œéå¹³é“ºæ–‡æ¡£</li>
<li>æä¾›å¯è¿è¡Œç¤ºä¾‹ï¼šåœ¨ <code>scripts/</code> ç›®å½•æä¾›éªŒè¯è„šæœ¬ï¼Œå¦‚ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">  <span class="hljs-comment"># scripts/validate-actor-isolation.sh</span>
  <span class="hljs-comment"># è‡ªåŠ¨æ‰«æ @MainActor å†—ä½™æƒ…å†µ</span>
</code></pre>
<ul>
<li>ç‰ˆæœ¬å…¼å®¹ï¼šæ˜ç¡® Skill æ”¯æŒçš„ Swift/Xcode ç‰ˆæœ¬èŒƒå›´</li>
</ul>
<p>å¯¹äºå›¢é˜Ÿè´Ÿè´£äººï¼š</p>
<ul>
<li>å»ºç«‹å†…éƒ¨ Skill å¸‚åœºï¼šå°†å›¢é˜Ÿç¼–ç è§„èŒƒå°è£…ä¸º Skill</li>
<li>CI é›†æˆï¼šåœ¨ PR æ£€æŸ¥ä¸­è¿è¡Œ Skill åˆ†æï¼Œå¦‚ï¼š</li>
</ul>
<pre><code class="hljs language-yaml" lang="yaml">  <span class="hljs-comment"># .github/workflows/ai-review.yml</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Run</span> <span class="hljs-string">Swift</span> <span class="hljs-string">Concurrency</span> <span class="hljs-string">Skill</span> <span class="hljs-string">Audit</span>
    <span class="hljs-attr">run:</span> <span class="hljs-string">|
      openskills install team/swift-concurrency-skill
      openskills run audit --skill swift-concurrency --path Sources/
</span></code></pre>
<h3 data-id="heading-23">ä¸ä¼ ç»Ÿæ–‡æ¡£çš„å¯¹æ¯”</h3>
<p>Agent Skills ä¸æ˜¯å–ä»£æ–‡æ¡£ï¼Œè€Œæ˜¯å¢å¼ºï¼š</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">- ä¼ ç»Ÿæ–‡æ¡£ï¼šäººè¯» â†’ ç†è§£ â†’ åº”ç”¨ï¼ˆæ…¢ã€æ˜“é”™ï¼‰</span>
<span class="hljs-addition">+ Agent Skillsï¼šAgent è¯» â†’ ç›´æ¥åº”ç”¨ + äººè¯» â†’ å­¦ä¹ ï¼ˆå¿«ã€å‡†ç¡®ï¼‰</span>
</code></pre>
<p>Skill çš„åŒé‡ä»·å€¼ï¼š</p>
<ol>
<li>è¿è¡Œæ—¶ï¼šAgent å®æ—¶æŒ‡å¯¼ç¼–ç </li>
<li>å­¦ä¹ æ—¶ï¼šå¼€å‘è€…é˜…è¯»å‚è€ƒæ–‡æ¡£ï¼Œæå‡æŠ€èƒ½</li>
</ol>
<h2 data-id="heading-24">æ‰©å±•åœºæ™¯ä¸åˆ›æ–°åº”ç”¨</h2>
<h3 data-id="heading-25">å¤š Skill ååŒå·¥ä½œ</h3>
<p>çœŸå®é¡¹ç›®ä¸­å¸¸éœ€å¤šä¸ª Skills ååŒï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># å¤æ‚åœºæ™¯ï¼šé‡æ„é—ç•™ä»£ç </span>
ç”¨æˆ·ï¼š"å°†è¿™ä¸ª VIPER æ¨¡å—é‡æ„ä¸º SwiftUI + Concurrency"

Agent å·¥ä½œæµï¼š
<span class="hljs-bullet">1.</span> åŠ è½½ swift-architecture-skill (ç†è§£ VIPER)
<span class="hljs-bullet">2.</span> åŠ è½½ swiftui-skill (ç†è§£ SwiftUI æœ€ä½³å®è·µ)
<span class="hljs-bullet">3.</span> åŠ è½½ swift-concurrency-skill (ç†è§£å¹¶å‘è¿ç§»)
<span class="hljs-bullet">4.</span> åŠ è½½ testing-skill (ç¡®ä¿é‡æ„åè¦†ç›–æµ‹è¯•)

ååŒå†³ç­–ï¼š
<span class="hljs-bullet">-</span> Architecture Skill: "VIPER â†’ TCA æˆ– MVVM"
<span class="hljs-bullet">-</span> SwiftUI Skill: "ä½¿ç”¨ @StateObject å’Œ @EnvironmentObject"
<span class="hljs-bullet">-</span> Concurrency Skill: "å°† Interactor çš„å›è°ƒæ”¹ä¸º async/await"
<span class="hljs-bullet">-</span> Testing Skill: "ä¸ºæ–°çš„ ViewModel ç¼–å†™å¼‚æ­¥æµ‹è¯•"

æœ€ç»ˆè¾“å‡ºï¼šé›†æˆå„ Skill å»ºè®®çš„ç»¼åˆé‡æ„æ–¹æ¡ˆ
</code></pre>
<p>æŠ€æœ¯æŒ‘æˆ˜ï¼šå¤š Skill å¯èƒ½å†²çªã€‚è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>Skill ä¼˜å…ˆçº§ï¼š<code>&lt;skills_system priority="1"&gt;</code> æ§åˆ¶åŠ è½½é¡ºåº</li>
<li>å†²çªä»²è£ï¼šAgent éœ€è¯†åˆ«çŸ›ç›¾å»ºè®®ï¼Œè¯·æ±‚äººå·¥æ¾„æ¸…</li>
</ul>
<h3 data-id="heading-26">ä¼ä¸šçº§åº”ç”¨åœºæ™¯</h3>
<p>åœºæ™¯ä¸€ï¼šé‡‘è App åˆè§„æ£€æŸ¥</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºå†…éƒ¨ Skillï¼šfinancial-compliance-skill</span>
/references
  â”œâ”€â”€ data-encryption.md      <span class="hljs-comment"># æ•°æ®åŠ å¯†è§„èŒƒ</span>
  â”œâ”€â”€ audit-logging.md        <span class="hljs-comment"># å®¡è®¡æ—¥å¿—è¦æ±‚</span>
  â””â”€â”€ api-security.md         <span class="hljs-comment"># API å®‰å…¨æ ‡å‡†</span>

<span class="hljs-comment"># åœ¨ CI ä¸­å¼ºåˆ¶æ£€æŸ¥</span>
openskills run compliance-check --skill financial-compliance
<span class="hljs-comment"># ä¸é€šè¿‡åˆ™é˜»æ–­ PR åˆå¹¶</span>
</code></pre>
<p>åœºæ™¯äºŒï¼šè·¨å¹³å°çŸ¥è¯†åº“</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># multi-platform-skill.yaml</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">multi-platform-ui</span>
<span class="hljs-attr">references:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">shared-state-management.md</span>  <span class="hljs-comment"># é€šç”¨çŠ¶æ€ç®¡ç†</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">ios/</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">swiftui-patterns.md</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">android/</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">composable-patterns.md</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">web/</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">react-patterns.md</span>

<span class="hljs-comment"># Agent æ ¹æ®é¡¹ç›®ç±»å‹è‡ªåŠ¨è·¯ç”±</span>
</code></pre>
<p>åœºæ™¯ä¸‰ï¼šåŠ¨æ€ Skill ç”Ÿæˆ</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä»å†…éƒ¨æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ Skill</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_skill_from_docs</span>(<span class="hljs-params">doc_path: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-comment"># 1. è§£æ Markdown æ–‡æ¡£</span>
    <span class="hljs-comment"># 2. æå–å†³ç­–æ ‘ï¼ˆåŸºäºæ ‡é¢˜å±‚æ¬¡ï¼‰</span>
    <span class="hljs-comment"># 3. ç”Ÿæˆ SKILL.md</span>
    <span class="hljs-comment"># 4. æ‰“åŒ…ä¸º GitHub ä»“åº“</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-comment"># ä¾‹å¦‚ï¼šå°†å›¢é˜Ÿ Notion çŸ¥è¯†åº“è½¬ä¸º Skill</span>
generate_skill_from_docs(<span class="hljs-string">"https://notion.so/team-guide"</span>)
</code></pre>
<h3 data-id="heading-27">AI åŸç”Ÿå¼€å‘å·¥ä½œæµ</h3>
<p>å±•æœ›æœªæ¥ï¼ŒSkill å¯èƒ½æˆä¸ºå¯äº¤æ˜“çš„ç¼–ç¨‹çŸ¥è¯†èµ„äº§ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"skill_marketplace"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"swift-concurrency-expert"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Apple Engineer"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$9.99/month"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"metrics"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"accuracy"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">98.5</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"adoption"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12000</span>+<span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"reviews"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4.9</span>/<span class="hljs-number">5</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"updates"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä¸ Swift ç‰ˆæœ¬åŒæ­¥å‘å¸ƒ"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"rxswift-migration-kit"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ReactiveX Team"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Free"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"purpose"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä» RxSwift è¿ç§»åˆ° Combine/Swift Concurrency"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿™ç§æ¨¡å¼å°†äººç±»ä¸“å®¶çŸ¥è¯†ä¸AI æ•ˆç‡ç»“åˆï¼Œåˆ›é€ æ–°çš„çŸ¥è¯†ç»æµå½¢æ€ã€‚</p>
<h2 data-id="heading-28">å‚è€ƒèµ„æ–™ä¸è¿›ä¸€æ­¥å­¦ä¹ </h2>
<h3 data-id="heading-29">å®˜æ–¹èµ„æº</h3>
<ol>
<li>
<p>Agent Skills å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fagentskills.io%2Fhome" target="_blank" title="https://agentskills.io/home" ref="nofollow noopener noreferrer">agentskills.io/home</a></p>
<ul>
<li>å®˜æ–¹è§„èŒƒã€ç¤ºä¾‹å’Œå·¥å…·é“¾</li>
</ul>
</li>
<li>
<p>openskills CLIï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnumman-ali%2Fopenskills" target="_blank" title="https://github.com/numman-ali/openskills" ref="nofollow noopener noreferrer">github.com/numman-ali/â€¦</a></p>
<ul>
<li>Skill ç®¡ç†å‘½ä»¤è¡Œå·¥å…·</li>
</ul>
</li>
<li>
<p>Swift Concurrency Skillï¼š</p>
<ul>
<li>GitHubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FAvdLee%2FSwift-Concurrency-Agent-Skill" target="_blank" title="https://github.com/AvdLee/Swift-Concurrency-Agent-Skill" ref="nofollow noopener noreferrer">github.com/AvdLee/Swifâ€¦</a></li>
</ul>
</li>
</ol>
<h3 data-id="heading-30">ç›¸å…³æŠ€æœ¯æ–‡æ¡£</h3>
<ol>
<li>
<p>Swift Concurrencyï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fswiftlang%2Fswift-evolution%2Fblob%2Fmain%2Fproposals%2F0296-async-await.md" target="_blank" title="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0296-async-await.md" ref="nofollow noopener noreferrer">SE-0296: async/await</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fswiftlang%2Fswift-evolution%2Fblob%2Fmain%2Fproposals%2F0306-actors.md" target="_blank" title="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0306-actors.md" ref="nofollow noopener noreferrer">SE-0306: Actors</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fswiftlang%2Fswift-evolution%2Fblob%2Fmain%2Fproposals%2F0337-support-incremental-migration-to-concurrency-checking.md" target="_blank" title="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0337-support-incremental-migration-to-concurrency-checking.md" ref="nofollow noopener noreferrer">SE-0337: Strict Concurrency</a></li>
</ul>
</li>
<li>
<p>Default Actor Isolation in Swift 6ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.avanderlee.com%2Fconcurrency%2Fdefault-actor-isolation-in-swift-6-2%2F" target="_blank" title="https://www.avanderlee.com/concurrency/default-actor-isolation-in-swift-6-2/" ref="nofollow noopener noreferrer">www.avanderlee.com/concurrencyâ€¦</a></p>
</li>
</ol>
<h3 data-id="heading-31">ç¤¾åŒºèµ„æº</h3>
<ul>
<li>Cursor AI æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcursor.com%2Fcn" target="_blank" title="https://cursor.com/cn" ref="nofollow noopener noreferrer">cursor.com/cn</a></li>
<li>Codex CLI æŒ‡å—ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopenai%2Fcodex" target="_blank" title="https://github.com/openai/codex" ref="nofollow noopener noreferrer">github.com/openai/codeâ€¦</a></li>
<li>AI Development Blogï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.avanderlee.com%2Fai-development%2F" target="_blank" title="https://www.avanderlee.com/ai-development/" ref="nofollow noopener noreferrer">www.avanderlee.com/ai-developmâ€¦</a></li>
</ul>
<h2 data-id="heading-32">æœ€ç»ˆæ€»ç»“</h2>
<p>Agent Skills æ ‡å¿—ç€ AI è¾…åŠ©ç¼–ç¨‹ä»æ‰‹å·¥æç¤ºå·¥ç¨‹è¿ˆå‘ç³»ç»ŸåŒ–çŸ¥è¯†å·¥ç¨‹ã€‚å®ƒä¸ä»…æ˜¯æ–‡ä»¶æ ¼å¼çš„é©æ–°ï¼Œæ›´æ˜¯å¼€å‘èŒƒå¼çš„è¿›åŒ–ï¼š</p>
<ol>
<li>å¯¹å¼€å‘è€…ï¼šä»é‡å¤æ•™ AI åŸºç¡€çŸ¥è¯†ï¼Œåˆ°ä¸“æ³¨é¡¹ç›®é€»è¾‘</li>
<li>å¯¹å›¢é˜Ÿï¼šä»å£å¤´è§„èŒƒï¼Œåˆ°å¯æ‰§è¡Œã€å¯éªŒè¯çš„çŸ¥è¯†èµ„äº§</li>
<li>å¯¹ç¤¾åŒºï¼šä»æ•£è½åšå®¢ï¼Œåˆ°æ ‡å‡†åŒ–ã€å¯ç»„åˆçš„ä¸“å®¶ç³»ç»Ÿ</li>
</ol>
<p>è¡ŒåŠ¨æ¸…å•</p>
<p>ç«‹å³å¼€å§‹å°è¯• Agent Skillsï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å®‰è£… openskills</span>
pip install openskills

<span class="hljs-comment"># 2. å®‰è£…ç¬¬ä¸€ä¸ª Skill</span>
openskills install avdlee/Swift-Concurrency-Agent-Skill

<span class="hljs-comment"># 3. åŒæ­¥åˆ°ä½ çš„é¡¹ç›®</span>
<span class="hljs-built_in">cd</span> your-project
openskills <span class="hljs-built_in">sync</span>

<span class="hljs-comment"># 4. åœ¨ Cursor/Codex ä¸­æé—®</span>
<span class="hljs-string">"ä½¿ç”¨ Skill ä¼˜åŒ–æˆ‘çš„å¹¶å‘ä»£ç "</span>

<span class="hljs-comment"># 5. è§‚å¯Ÿæ•ˆæœï¼Œé€æ­¥æ„å»ºè‡ªå·±çš„ Skills</span>
</code></pre>
<p>æœªæ¥å·²æ¥ï¼ŒAgent Skills è®© AI çœŸæ­£ç†è§£ä½ çš„é¢†åŸŸï¼Œè€Œéä»…ä»…æ˜¯æ¨¡å¼åŒ¹é…ã€‚</p>
<h2 data-id="heading-33">å­¦ä¹ èµ„æ–™</h2>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.avanderlee.com%2Fai-development%2Fagent-skills-replacing-agents-md-with-reusable-ai-knowledge%2F" target="_blank" title="https://www.avanderlee.com/ai-development/agent-skills-replacing-agents-md-with-reusable-ai-knowledge/" ref="nofollow noopener noreferrer">www.avanderlee.com/ai-developmâ€¦</a></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨ä¸€ä¸ªå° Demoï¼Œå¸¦ä½ å…¥é—¨å®‰å“ Clean Architecture]]></title>    <link>https://juejin.cn/post/7601486204174123058</link>    <guid>https://juejin.cn/post/7601486204174123058</guid>    <pubDate>2026-02-02T00:10:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601486204174123058" data-draft-id="7601028900886462510" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨ä¸€ä¸ªå° Demoï¼Œå¸¦ä½ å…¥é—¨å®‰å“ Clean Architecture"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-02-02T00:10:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ½œé¾™å‹¿ç”¨ä¹‹åŒ–éª¨é¾™"/> <meta itemprop="url" content="https://juejin.cn/user/2313028195058471"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨ä¸€ä¸ªå° Demoï¼Œå¸¦ä½ å…¥é—¨å®‰å“ Clean Architecture
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2313028195058471/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ½œé¾™å‹¿ç”¨ä¹‹åŒ–éª¨é¾™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T00:10:42.000Z" title="Mon Feb 02 2026 00:10:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€ï¼šä¸ºä»€ä¹ˆä½ çš„ä»£ç è¶Šæ¥è¶Šéš¾ç»´æŠ¤ï¼Ÿ</h2>
<p>ä½ æ˜¯å¦é‡åˆ°è¿‡è¿™äº›é—®é¢˜ï¼š</p>
<ul>
<li>ä¸šåŠ¡é€»è¾‘ç›´æ¥å†™åœ¨ <code>Activity / Fragment</code> é‡Œ</li>
<li>UIã€ç½‘ç»œã€æ•°æ®åº“ä»£ç æ··åœ¨ä¸€èµ·ï¼Œç‰µä¸€å‘è€ŒåŠ¨å…¨èº«</li>
<li>ä¸€ä¸ªæ¥å£å­—æ®µæ”¹åŠ¨ï¼Œæ•´ä¸ªé¡¹ç›®åˆ°å¤„æŠ¥é”™</li>
<li>æƒ³å†™å•å…ƒæµ‹è¯•ï¼Œå´å‘ç°ä¸¥é‡ä¾èµ– Android Framework</li>
</ul>
<p>å¦‚æœä½ å¯¹ä»¥ä¸Šæƒ…å†µå¹¶ä¸é™Œç”Ÿï¼Œé‚£ä¹ˆé—®é¢˜å¾€å¾€ä¸æ˜¯ä½ å†™å¾—ä¸å¤ŸåŠªåŠ›ï¼Œè€Œæ˜¯<strong>é¡¹ç›®ç¼ºä¹æ¸…æ™°çš„æ¶æ„è®¾è®¡</strong>ã€‚</p>
<p><strong>Clean Architectureï¼ˆæ•´æ´æ¶æ„ï¼‰</strong>ï¼Œæ­£æ˜¯ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜è€Œæå‡ºçš„ä¸€ç§æ¶æ„æ€æƒ³ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä»€ä¹ˆæ˜¯ Clean Architectureï¼Ÿ</h2>
<p><strong>Clean Architecture ä¸æ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œè€Œæ˜¯ä¸€ç§è®¾è®¡åŸåˆ™ã€‚</strong></p>
<p>å®ƒçš„æ ¸å¿ƒç›®æ ‡å¯ä»¥æ€»ç»“ä¸ºä¸€å¥è¯ï¼š</p>
<blockquote>
<p><strong>è®©æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ç‹¬ç«‹äº UIã€æ¡†æ¶å’Œå®ç°ç»†èŠ‚ã€‚</strong></p>
</blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼š</p>
<ul>
<li>UI å¯ä»¥éšæ„æ›´æ¢ï¼ˆXML â†’ Composeï¼‰</li>
<li>ç½‘ç»œåº“å¯ä»¥æ›¿æ¢ï¼ˆRetrofit â†’ Ktorï¼‰</li>
<li>æ•°æ®æ¥æºå¯ä»¥å˜åŒ–ï¼ˆAPI â†’ æœ¬åœ°æ•°æ®åº“ï¼‰</li>
</ul>
<p>ğŸ‘‰ <strong>ä½†ä¸šåŠ¡é€»è¾‘å‡ ä¹ä¸ç”¨æ”¹åŠ¨ã€‚</strong></p>
<h3 data-id="heading-2">æ ¸å¿ƒåŸåˆ™ï¼šä¾èµ–å€’ç½®ï¼ˆDependency Ruleï¼‰</h3>
<p>Clean Architecture æœ€é‡è¦çš„ä¸€æ¡è§„åˆ™æ˜¯ï¼š</p>
<blockquote>
<p><strong>ä»£ç çš„ä¾èµ–æ–¹å‘ï¼Œåªèƒ½ä»å¤–å±‚æŒ‡å‘å†…å±‚ã€‚</strong></p>
</blockquote>
<ul>
<li>å†…å±‚ï¼šä¸šåŠ¡è§„åˆ™ï¼ˆæœ€ç¨³å®šï¼‰</li>
<li>å¤–å±‚ï¼šUIã€ç½‘ç»œã€æ•°æ®åº“ï¼ˆæœ€å®¹æ˜“å˜åŒ–ï¼‰</li>
</ul>
<p>ğŸ“Œ å†…å±‚æ°¸è¿œä¸çŸ¥é“å¤–å±‚çš„å­˜åœ¨</p>
<hr/>
<h2 data-id="heading-3">Clean Architecture çš„åˆ†å±‚ç»“æ„</h2>
<p>åœ¨ Android é¡¹ç›®ä¸­ï¼ŒClean Architecture é€šå¸¸å¯ä»¥æ‹†åˆ†ä¸ºä¸‰å±‚ï¼š</p>
<h3 data-id="heading-4">1ï¸âƒ£ Presentationï¼ˆè¡¨ç°å±‚ï¼‰</h3>
<p><strong>èŒè´£ï¼šè´Ÿè´£ UI å±•ç¤ºå’Œç”¨æˆ·äº¤äº’</strong></p>
<p>å¸¸è§ç»„ä»¶ï¼š</p>
<ul>
<li>Activity / Fragment</li>
<li>Jetpack Compose</li>
<li>ViewModel</li>
</ul>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>ä¸åŒ…å«ä¸šåŠ¡è§„åˆ™</li>
<li>åªè´Ÿè´£ç®¡ç† UI State</li>
<li>é€šè¿‡ UseCase è°ƒç”¨ä¸šåŠ¡é€»è¾‘</li>
</ul>
<hr/>
<h3 data-id="heading-5">2ï¸âƒ£ Domainï¼ˆé¢†åŸŸå±‚ï¼‰â­ æ ¸å¿ƒå±‚</h3>
<p><strong>èŒè´£ï¼šå®šä¹‰ä¸šåŠ¡è§„åˆ™å’Œä¸šåŠ¡æ¨¡å‹</strong></p>
<p>åŒ…å«å†…å®¹ï¼š</p>
<ul>
<li>Entity / Model</li>
<li>UseCase</li>
<li>Repository æ¥å£ï¼ˆæŠ½è±¡ï¼‰</li>
</ul>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>çº¯ Kotlin</li>
<li>ä¸ä¾èµ– Android</li>
<li>ä¸ä¾èµ–ä»»ä½•ç¬¬ä¸‰æ–¹åº“</li>
<li>æ˜¯æ•´ä¸ªé¡¹ç›®ä¸­æœ€ç¨³å®šçš„ä¸€å±‚</li>
</ul>
<p>ğŸ“Œ è¿™ä¸€å±‚æ‰¿è½½äº†é¡¹ç›®çœŸæ­£çš„â€œä¸šåŠ¡ä»·å€¼â€ã€‚</p>
<hr/>
<h3 data-id="heading-6">3ï¸âƒ£ Dataï¼ˆæ•°æ®å±‚ï¼‰</h3>
<p><strong>èŒè´£ï¼šè´Ÿè´£æ•°æ®ä»å“ªé‡Œæ¥ã€å¦‚ä½•è·å–</strong></p>
<p>åŒ…å«å†…å®¹ï¼š</p>
<ul>
<li>ç½‘ç»œè¯·æ±‚ï¼ˆAPIï¼‰</li>
<li>æœ¬åœ°æ•°æ®åº“</li>
<li>Repository çš„å…·ä½“å®ç°</li>
</ul>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>å®ç° Domain å±‚å®šä¹‰çš„æ¥å£</li>
<li>å¯ä»¥è‡ªç”±åˆ‡æ¢æ•°æ®æ¥æº</li>
<li>æ˜¯å˜åŒ–æœ€é¢‘ç¹çš„ä¸€å±‚</li>
</ul>
<hr/>
<h2 data-id="heading-7"><code>CleanArc</code> é¡¹ç›®å®è·µ</h2>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹é¡¹ç›® <strong>CleanArc</strong>ï¼Œæ¥çœ‹çœ‹ Clean Architecture åœ¨çœŸå® Android é¡¹ç›®ä¸­æ˜¯å¦‚ä½•è½åœ°çš„ã€‚</p>
<p>ğŸ¯ é¡¹ç›®ç›®æ ‡å¾ˆç®€å•ï¼š</p>
<blockquote>
<p><strong>ä»æœåŠ¡å™¨è·å–ç”¨æˆ·åˆ—è¡¨ï¼Œå¹¶å°†å…¶å±•ç¤ºåœ¨ç•Œé¢ä¸Š</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-8">Data å±‚ï¼šæ•°æ®çš„æ¥æºï¼ˆHowï¼‰</h2>
<p>Data å±‚åªå…³å¿ƒä¸€ä»¶äº‹ï¼š</p>
<blockquote>
<p><strong>æˆ‘å¦‚ä½•æŠŠæ•°æ®æ‹¿åˆ°ï¼Ÿ</strong></p>
</blockquote>
<h3 data-id="heading-9">Repository å®ç°</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fef8074fe1054699ac8efe7c6a05d763~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5r2c6b6Z5Yu_55So5LmL5YyW6aqo6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770595842&amp;x-signature=lqKvt7SKd04u0kQeYPBAAW20%2B5A%3D" alt="image.png" loading="lazy"/></p>
<p>ğŸ“Œ åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œ<strong>å¼‚å¸¸æ˜¯åœ¨ Repository å±‚ä¸­è¢«å¤„ç†çš„</strong>ã€‚
Repository æœ€æ¸…æ¥šå¼‚å¸¸çš„æ¥æºï¼Œå› æ­¤åœ¨è¿™é‡Œå°†æŠ€æœ¯å¼‚å¸¸è½¬æ¢ä¸ºä¸šåŠ¡å¯ç†è§£çš„ç»“æœã€‚</p>
<hr/>
<h2 data-id="heading-10">Domain å±‚ï¼šæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆWhatï¼‰</h2>
<p>Domain å±‚åªå…³å¿ƒï¼š</p>
<blockquote>
<p><strong>æˆ‘è¦åšä»€ä¹ˆï¼Œè€Œä¸æ˜¯æ€ä¹ˆåš</strong></p>
</blockquote>
<h3 data-id="heading-11">Repository æ¥å£ï¼ˆå¥‘çº¦ï¼‰</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f08b4c0205348018e7c1292f2088c0d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5r2c6b6Z5Yu_55So5LmL5YyW6aqo6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770595842&amp;x-signature=e8Bqwbao19ASJKDPPyrIur3mgwE%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-12">UseCaseï¼šä¸šåŠ¡è¡Œä¸ºçš„å°è£…</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae2d99513b8241d5924ace93bb3ce7a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5r2c6b6Z5Yu_55So5LmL5YyW6aqo6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770595842&amp;x-signature=pvp%2BCgOUrf4hLr1BrFR%2Ffvdo6Vs%3D" alt="image.png" loading="lazy"/></p>
<p>ğŸ“Œ UseCase ä¸è´Ÿè´£æ•è·å¼‚å¸¸
ğŸ“Œ å®ƒåªç»„åˆå’Œæ‰§è¡Œä¸šåŠ¡è§„åˆ™
ğŸ“Œ Domain å±‚å› æ­¤ä¿æŒé«˜åº¦çº¯å‡€</p>
<hr/>
<h2 data-id="heading-13">Presentation å±‚ï¼šUI å±•ç¤ºï¼ˆShowï¼‰</h2>
<p>Presentation å±‚è´Ÿè´£å°†æ•°æ®è½¬æ¢ä¸ºç”¨æˆ·å¯æ„ŸçŸ¥çš„ç•Œé¢çŠ¶æ€ã€‚</p>
<h3 data-id="heading-14">ViewModel</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9bbd9eaec32c4841a6c79bb816acd6d6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5r2c6b6Z5Yu_55So5LmL5YyW6aqo6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770595842&amp;x-signature=euHVIi8Y1TQ8ErOtOU6iLEY10Tw%3D" alt="image.png" loading="lazy"/></p>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>ViewModel ä¸ç›´æ¥ä¾èµ– Repository</li>
<li>åªé€šè¿‡ UseCase ä¸ Domain å±‚äº¤äº’</li>
<li>ä¸“æ³¨äº UI State ç®¡ç†</li>
</ul>
<p>UIï¼ˆCompose / XMLï¼‰åªéœ€æ ¹æ® State æ¸²æŸ“ç•Œé¢ã€‚</p>
<hr/>
<h2 data-id="heading-15">å…³äºå¼‚å¸¸å¤„ç†ï¼šä¸ºä»€ä¹ˆæ”¾åœ¨ Repository å±‚ï¼Ÿ</h2>
<p>åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œ<strong>å¼‚å¸¸å¤„ç†ä¸»è¦é›†ä¸­åœ¨ Repositoryï¼ˆData å±‚ï¼‰ä¸­å®Œæˆ</strong>ï¼Œè€Œä¸æ˜¯åœ¨ UseCase å±‚ç»Ÿä¸€ try-catchã€‚</p>
<p>åŸå› åŒ…æ‹¬ï¼š</p>
<ul>
<li>Repository æœ€äº†è§£å¼‚å¸¸çš„çœŸå®æ¥æºï¼ˆç½‘ç»œã€æ•°æ®åº“ã€è§£æï¼‰</li>
<li>å¯ä»¥åœ¨è¿™é‡Œå°†æŠ€æœ¯å¼‚å¸¸è½¬æ¢ä¸ºä¸šåŠ¡é”™è¯¯</li>
<li>é¿å…å°† Retrofitã€HTTP Code ç­‰ç»†èŠ‚æ³„éœ²åˆ° Domain å±‚</li>
<li>ä¿æŒ Domain å±‚çš„çº¯å‡€å’Œç¨³å®š</li>
</ul>
<p>è¿™ç§åšæ³•åœ¨ Android å·¥ç¨‹å®è·µä¸­éå¸¸å¸¸è§ï¼Œä¹Ÿæ›´åˆ©äºé•¿æœŸç»´æŠ¤ã€‚</p>
<hr/>
<h2 data-id="heading-16">ä¾èµ–æ³¨å…¥ï¼šå°†å„å±‚è¿æ¥èµ·æ¥</h2>
<p>ä¸ºäº†å°†æ¥å£å’Œå®ç°è§£è€¦ï¼Œæœ¬é¡¹ç›®ä½¿ç”¨ <strong>Koin</strong> è¿›è¡Œä¾èµ–æ³¨å…¥ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63423494b6e641cdb2a498afcff35225~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5r2c6b6Z5Yu_55So5LmL5YyW6aqo6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770595842&amp;x-signature=LqcB7EogJ0HZofg2eX1uyv2YdY0%3D" alt="image.png" loading="lazy"/></p>
<p>é€šè¿‡ä¾èµ–æ³¨å…¥ï¼š</p>
<ul>
<li>Domain å±‚åªå®šä¹‰æ¥å£</li>
<li>Data å±‚æä¾›å®ç°</li>
<li>Presentation å±‚åªæ¶ˆè´¹èƒ½åŠ›</li>
<li>å„å±‚ä¹‹é—´æ— ç›´æ¥è€¦åˆ</li>
</ul>
<hr/>
<h2 data-id="heading-17">æ€»ç»“</h2>
<p>é€šè¿‡ <code>CleanArc</code> è¿™ä¸ªç¤ºä¾‹é¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° Clean Architecture å¸¦æ¥çš„ä»·å€¼ï¼š</p>
<ul>
<li>âœ… <strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong>ï¼šUIã€ä¸šåŠ¡ã€æ•°æ®å„å¸å…¶èŒ</li>
<li>âœ… <strong>å¯æµ‹è¯•æ€§å¼º</strong>ï¼šUseCase å’Œ ViewModel æ˜“äºå•å…ƒæµ‹è¯•</li>
<li>âœ… <strong>é«˜å¯ç»´æŠ¤æ€§</strong>ï¼šä¿®æ”¹æ•°æ®æ¥æºä¸ä¼šå½±å“ä¸šåŠ¡å±‚</li>
<li>âœ… <strong>é€‚åˆé•¿æœŸæ¼”è¿›çš„é¡¹ç›®</strong></li>
</ul>
<p>Clean Architecture å¯¹äºä¸­å¤§å‹é¡¹ç›®æ¥è¯´ï¼Œå®ƒèƒ½æ˜¾è‘—é™ä½ç»´æŠ¤æˆæœ¬ï¼Œè®©ä»£ç ç»“æ„æ›´åŠ æ¸…æ™°ã€å¯æ§ã€‚</p>
<hr/>
<h2 data-id="heading-18">ç¤ºä¾‹ä»£ç </h2>
<p>ğŸ“¦ é¡¹ç›®å®Œæ•´ä»£ç å·²ä¸Šä¼ è‡³ GitHubï¼š</p>
<p>ğŸ‘‰ <strong>CleanArc ç¤ºä¾‹é¡¹ç›®</strong>
ğŸ”— <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FThirdPrince%2FCleanArc" target="_blank" title="https://github.com/ThirdPrince/CleanArc" ref="nofollow noopener noreferrer">github.com/yourname/Clâ€¦</a></p>
<p>æ¬¢è¿ Star â­ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¯»å®Œä¹¦å®¹æ˜“å¿˜ï¼Ÿè¿™ä¸ªå¼€æº AI åº”ç”¨èƒ½å¸®ä½ ï¼]]></title>    <link>https://juejin.cn/post/7601706140200108095</link>    <guid>https://juejin.cn/post/7601706140200108095</guid>    <pubDate>2026-02-02T02:17:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601706140200108095" data-draft-id="7601464318409785386" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¯»å®Œä¹¦å®¹æ˜“å¿˜ï¼Ÿè¿™ä¸ªå¼€æº AI åº”ç”¨èƒ½å¸®ä½ ï¼"/> <meta itemprop="keywords" content="å‰ç«¯,ç¨‹åºå‘˜,å¼€æº"/> <meta itemprop="datePublished" content="2026-02-02T02:17:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ssshooter"/> <meta itemprop="url" content="https://juejin.cn/user/3122268751795101"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¯»å®Œä¹¦å®¹æ˜“å¿˜ï¼Ÿè¿™ä¸ªå¼€æº AI åº”ç”¨èƒ½å¸®ä½ ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3122268751795101/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ssshooter
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T02:17:52.000Z" title="Mon Feb 02 2026 02:17:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å…¶å®æˆ‘ä»¬ä¸å¿…å›é¿çœ‹å®Œä¹¦å°±å¿˜çš„é—®é¢˜ï¼Œå› ä¸ºå¤§å¤šæ•°äººçœ‹ä¹¦éƒ½æ˜¯ä¼šå¿˜çš„ã€‚å…¶å®äººç±»çš„å¤§è„‘å°±æ˜¯è¿™ä¹ˆè®¾è®¡çš„ï¼Œå®ƒä¼šè¿‡æ»¤æ‰å¤§éƒ¨åˆ†ä¸é‡è¦çš„ä¿¡æ¯ï¼Œåªä¿ç•™ä¸‹é‡è¦çš„ä¿¡æ¯ã€‚å¦‚æœçœŸçš„æƒ³è¦è®°ä½ä¸€æœ¬ä¹¦é‡è¦çš„çŸ¥è¯†ï¼Œéœ€è¦åå¤é˜…è¯»ï¼Œåå¤æ€è€ƒï¼Œåå¤ç»ƒä¹ ã€‚</p>
<p>åœ¨å‰ AI æ—¶ä»£ï¼Œåšè¯»ä¹¦ç¬”è®°æ˜¯ä¸€ä»¶éå¸¸è€—è´¹ç²¾åŠ›çš„äº‹æƒ…ï¼Œä½†æ˜¯æœ‰å¤§æ¨¡å‹ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åšç¬”è®°è¿™ä»¶äº‹ä¸Šå·å·æ‡’ã€‚</p>
<p><strong>æ³¨æ„ï¼šåšç¬”è®°å¯ä»¥å·æ‡’ï¼Œä½†æ˜¯æ€è€ƒå’Œåå¤å›çœ‹æ˜¯ç»å¯¹ä¸èƒ½å·æ‡’çš„ã€‚</strong></p>
<p>é‚£ä¹ˆæœ‰ä»€ä¹ˆå¥½ç”¨çš„å·¥å…·å‘¢ï¼Ÿæœ‹å‹ä»¬ï¼Œæœ‰çš„ï¼æ¬¢è¿ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSSShooter%2Febook-to-mindmap" target="_blank" title="https://github.com/SSShooter/ebook-to-mindmap" ref="nofollow noopener noreferrer">ebook-to-mindmap</a>ï¼ç®€å•æ¥è¯´ï¼Œä½ å¯ä»¥é€šè¿‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSSShooter%2Febook-to-mindmap" target="_blank" title="https://github.com/SSShooter/ebook-to-mindmap" ref="nofollow noopener noreferrer">ebook-to-mindmap</a> æŠŠ pdf æˆ– epub æ ¼å¼çš„ç”µå­ä¹¦è½¬æ¢ä¸ºåˆ†ç« èŠ‚çš„æ€ç»´å¯¼å›¾æˆ–è€…æ–‡å­—æ€»ç»“ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae8178b399294c2aaf146488bd9c4d41~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc3NzaG9vdGVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770603472&amp;x-signature=NEDv08BQW0EsCQIDi4Sp%2FUQFIiA%3D" alt="æ€ç»´å¯¼å›¾æ¨¡å¼" loading="lazy"/></p>
<p>ç‚¹å‡»<a href="https://link.juejin.cn?target=https%3A%2F%2Febook2me-next.mind-elixir.com%2F" target="_blank" title="https://ebook2me-next.mind-elixir.com/" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>å³å¯ç«‹å³ä½“éªŒã€‚æ•´ä¸ªç½‘é¡µåº”ç”¨åŠŸèƒ½æ¯”è¾ƒç®€æ´ï¼Œå¤§å®¶å¯ä»¥ç›´æ¥ä¸Šæ‰‹ï¼Œå½“ç„¶ï¼Œä¸‹é¢æˆ‘ä¹Ÿä¼šæ¯”è¾ƒè¯¦ç»†åœ°ä»‹ç»ä¸€ä¸‹è¿™ä¸ªåº”ç”¨çš„ä½¿ç”¨æ–¹æ³•ğŸ¤—</p>
<h2 data-id="heading-0">æ¨¡å‹é…ç½®</h2>
<p>ä½¿ç”¨ ebook-to-mindmap çš„ç¬¬ä¸€æ­¥æ˜¯é…ç½®æ¨¡å‹ã€‚å®ƒå’Œå¾ˆå¤š AI åº”ç”¨ä¸€æ ·ï¼Œéƒ½æ˜¯é€‰æ‹© <strong>byok</strong>ï¼ˆBring Your Own Keyï¼‰çš„æ¨¡å¼ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œé…ç½®ä½ è‡ªå·±çš„å¤§æ¨¡å‹ã€‚</p>
<p>è¿™é‡Œè¿˜æ˜¯è¦å¼ºè°ƒä¸€ä¸‹ï¼Œåœ¨ ebook-to-mindmap å¡«å†™ Key æ—¶ä¸å¿…æ‹…å¿ƒ Key æ³„éœ²ï¼Œå› ä¸º <strong>Key åªæ˜¯ä¿å­˜åœ¨ä½ è‡ªå·±çš„æµè§ˆå™¨é‡Œ</strong>ï¼Œè¯·æ±‚ä¹Ÿæ˜¯ç›´æ¥ä»ä½ çš„æµè§ˆå™¨å‘é€åˆ°å¤§æ¨¡å‹æä¾›å•†çš„æœåŠ¡å™¨çš„ã€‚ä½ å¯ä»¥åœ¨æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·é‡ŒæŸ¥çœ‹ç½‘ç»œè¯·æ±‚ï¼Œç¡®è®¤è¿™ä¸€ç‚¹ã€‚åŒæ—¶ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSSShooter%2Febook-to-mindmap" target="_blank" title="https://github.com/SSShooter/ebook-to-mindmap" ref="nofollow noopener noreferrer">ebook-to-mindmap</a> ä½œä¸ºä¸€ä¸ªå¼€æºé¡¹ç›®ä½ å¯ä»¥éšæ—¶æ£€è§†å®ƒçš„ä»£ç ï¼Œè¿˜å¯ä»¥è‡ªå·±éƒ¨ç½²ä¸€ä¸ªå±äºä½ çš„ ebook-to-mindmapã€‚</p>
<p>è¯´å›æ¨¡å‹çš„é€‰æ‹©ï¼Œå¯èƒ½å¾ˆå¤šäººä¼šæ‹…å¿ƒä½¿ç”¨ ebook-to-mindmap çš„èŠ±è´¹å¤ªé«˜ï¼Œå…¶å®å€’ä¹Ÿä¸å¿…ï¼Œæ¯•ç«Ÿç°é˜¶æ®µè¿˜æ˜¯èƒ½æ‰¾åˆ°å¾ˆå¤šå…è´¹æˆ–è€…ä½ä»·çš„å¤§æ¨¡å‹ã€‚æˆ‘çš„é¦–æ¨è¿˜æ˜¯ <a href="https://link.juejin.cn?target=https%3A%2F%2Fopenrouter.ai%2F" target="_blank" title="https://openrouter.ai/" ref="nofollow noopener noreferrer"><strong>openrouter</strong></a>ï¼Œä½ åªéœ€è¦å……å€¼ 10 åˆ€ï¼Œå°±èƒ½è·å¾—ä¸€ä¸ªè¾ƒå¤§çš„å…è´¹æ¨¡å‹ï¼ˆå…¶ä¸­åŒ…æ‹¬ä¸€äº› deepseek å˜ä½“ã€æœ€è¿‘å°ç±³çš„æ–°æ¨¡å‹ã€ä¹‹å‰ä¸€æ®µæ—¶é—´è¿˜æœ‰ grokï¼‰ä½¿ç”¨é¢åº¦ï¼ŒåŸºæœ¬ä¸Šä¸€å¤©è®©å®ƒå¤„ç†å¥½å‡ æœ¬ä¹¦éƒ½æ²¡é—®é¢˜äº†ã€‚å…¶ä»–è¯¦ç»†æ¨èå¯ä»¥å‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fssshooter.com%2Fai-services-guide%2F" target="_blank" title="https://ssshooter.com/ai-services-guide/" ref="nofollow noopener noreferrer">å…è´¹å’Œä»˜è´¹ AI API é€‰æ‹©æŒ‡å—</a>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7df7825c97547888d450112acbe2869~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc3NzaG9vdGVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770603472&amp;x-signature=S1Rf%2FUOaLRPoqInIfZ2pREa8UJ4%3D" alt="model list" loading="lazy"/></p>
<p>åœ¨è·å–åˆ° Key åå¦‚ä¸Šå›¾å¡«å†™ä¿¡æ¯å³å¯ã€‚</p>
<p>ä½ è¿˜å¯ä»¥é…ç½®å¤šä¸ªæ¨¡å‹ï¼Œç‚¹å‡»å·¦ä¾§çš„æ˜Ÿæ˜Ÿåä¼šæˆä¸ºé»˜è®¤æ¨¡å‹ï¼Œåç»­å¤„ç†æ—¶é»˜è®¤ä½¿ç”¨æ˜Ÿæ ‡çš„æ¨¡å‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb539405ba5f4eb4838d981a0a99f21a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc3NzaG9vdGVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770603472&amp;x-signature=xT%2BODB72MtLSA3KS3iUt12ABcf4%3D" alt="model list" loading="lazy"/></p>
<h2 data-id="heading-1">ç”Ÿæˆç¬”è®°</h2>
<p>é…ç½®æ¨¡å‹åï¼Œåœ¨ä¸»é¡µé€‰æ‹©ç”µå­ä¹¦å³å¯ã€‚ä¹‹å ebook-to-mindmap ä¼šè‡ªåŠ¨è¯†åˆ«ç”µå­ä¹¦çš„æ ¼å¼ï¼Œç„¶åå¼€å§‹è¯†åˆ«ç« èŠ‚ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5bb41bd7f5f241f08b87cebb770c4d64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc3NzaG9vdGVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770603472&amp;x-signature=74t4%2B3dFb9pX1NN098zcbdcp4GU%3D" alt="AI æ€»ç»“é¡µé¢" loading="lazy"/></p>
<blockquote>
<p>[!TIP]
æç¤ºï¼šå¦‚æœ epub æ— æ³•è·å–åˆ°ç« èŠ‚ï¼Œå¯ä»¥åœ¨è®¾ç½®é‡Œå‹¾é€‰ä½¿ç”¨ Spine è·å–ç« èŠ‚</p>
</blockquote>
<p>ç« èŠ‚è¯†åˆ«æˆåŠŸåï¼Œé€‰æ‹©ä½ éœ€è¦æ€»ç»“çš„ç« èŠ‚ï¼Œæˆ–è€…ä½¿ç”¨åˆ†ç»„åŠŸèƒ½ï¼ˆå¯ä»¥ä½¿ç”¨å¿«æ·é”® Ctrl + Gï¼‰æŠŠé›¶ç¢çš„ç« èŠ‚ç»„åˆæˆåˆ†ç»„ä¸€èµ·å‘é€ç»™ AI å¤„ç†ã€‚</p>
<p>ä¸€åˆ‡å‡†å¤‡å¥½åï¼Œç‚¹å‡»å¼€å§‹è§£é‡ŠæŒ‰é’®å³å¯å¼€å§‹ç”Ÿæˆç¬”è®°ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œebook-to-mindmap ä¼šç”Ÿæˆ<strong>æ€ç»´å¯¼å›¾</strong>ï¼Œä½ ä¹Ÿå¯ä»¥ç‚¹å‡»å°é½¿è½®åˆ‡æ¢åˆ°<strong>æ–‡å­—æ€»ç»“</strong>æ¨¡å¼ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3406b66a9484e2dae227d066545f242~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc3NzaG9vdGVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770603472&amp;x-signature=hUmw%2FJq3eIlmjk4MvzKt63STog8%3D" alt="æ¨¡å¼åˆ‡æ¢" loading="lazy"/></p>
<blockquote>
<p>[!TIP]
è™½ç„¶æœ‰æ•´ä¹¦æ€ç»´å¯¼å›¾ç”ŸæˆåŠŸèƒ½ï¼Œä½†æ˜¯å¦‚æœä¹¦çš„å†…å®¹æ¯”è¾ƒé•¿ï¼ŒAI å¯èƒ½åƒä¸ä¸‹è¿™ä¹ˆé•¿çš„ä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥å»ºè®®è¿˜æ˜¯åˆ†ç« èŠ‚ç”Ÿæˆï¼Œæœ€åç³»ç»Ÿä¼šè‡ªåŠ¨æ‹¼æ¥</p>
</blockquote>
<p>ç”Ÿæˆç¬”è®°å¦‚æœæƒ³è¦ä¸­é€”å–æ¶ˆï¼Œæ”¾å¿ƒç‚¹å–æ¶ˆå°±å¥½ï¼Œ<strong>ä¹‹å‰å¤„äºå®ŒæˆçŠ¶æ€çš„ç« èŠ‚ä¼šè¢«ç¼“å­˜</strong>ï¼Œä¸ç”¨æ‹…å¿ƒä¹‹åéœ€è¦å†æµªè´¹ Token é‡æ–°ç”Ÿæˆã€‚</p>
<h2 data-id="heading-2">æç¤ºè¯</h2>
<p>ä¸¾ä¸ªä¾‹å­å§ï¼Œä½ åœ¨æç¤ºè¯åˆ—è¡¨é‡Œæ·»åŠ ä¸€ä¸ªâ€œå°Â·çº¢ä¹¦é£æ ¼â€æç¤ºè¯ï¼Œåœ¨ç”Ÿæˆç¯èŠ‚é€‰æ‹©è¿™ä¸ªæç¤ºè¯ï¼Œå°±èƒ½ç›´æ¥ç”Ÿæˆå°çº¢ä¹¦é£æ ¼çš„ç¬”è®°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9977cb633e3f4ef685ba3dd47198c004~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc3NzaG9vdGVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770603472&amp;x-signature=5joPgw9qpFUe8rY1R4mM8CfCpyA%3D" alt="å°çº¢ä¹¦é£æ ¼" loading="lazy"/></p>
<p>ä¸æ­¢å°çº¢ä¹¦é£æ ¼ï¼Œä½ ä¹Ÿå¯ä»¥è®© AI åªç®€å•åœ°æå–è¯¥ç« èŠ‚æœ€é‡è¦çš„ 5 ä¸ªè§‚ç‚¹ï¼Œå¸®åŠ©ä½ å¯¹æ•´æœ¬ä¹¦çš„ä¸»è¦å†…å®¹æœ‰ä¸€ä¸ªç®€è¦çš„äº†è§£ã€‚</p>
<p>ä½ è¿˜å¯ä»¥ä½¿ç”¨â€œåè®ºæ³•â€æç¤ºè¯ï¼š</p>
<pre><code class="hljs">é€‰å–æœ¬ç« çš„æ ¸å¿ƒè®ºç‚¹æˆ–æ€æƒ³ï¼Œå¹¶æ¢ç´¢å®ƒçš„å¯¹ç«‹é¢ã€‚å¦‚æœä½œè€…è¦ä¸ºç›¸åçš„è§‚ç‚¹è¾©æŠ¤ï¼Œä»–ä»¬éœ€è¦è¯æ˜ä»€ä¹ˆï¼Ÿæ–‡æœ¬ä¸­æ˜¯å¦æœ‰æ— æ„é—´æ”¯æŒåé¢è§‚ç‚¹çš„è››ä¸é©¬è¿¹ï¼Ÿ
</code></pre>
<p>å‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fssshooter.com%2Fnotebooklm-prompt%2F" target="_blank" title="https://ssshooter.com/notebooklm-prompt/" ref="nofollow noopener noreferrer">åˆ†äº«å‡ æ¡æœ‰æ„æ€çš„ NotebookLM æç¤ºè¯</a>è¿™ç¯‡æ–‡ç« ï¼Œé‡Œé¢æœ‰å‡ ä¸ªæœ‰è¶£çš„æç¤ºè¯ï¼Œæˆ–è®¸èƒ½è®©ä½ çœ¼å‰ä¸€äº®ã€‚</p>
<h2 data-id="heading-3">å†…å®¹ç®¡ç†</h2>
<p>ebook-to-mindmap å……æ»¡äº†ä¸‹è½½æŒ‰é’®ï¼Œæ˜¯çš„ï¼Œä½ ç”Ÿæˆçš„æ•°æ®å¿…é¡»è¿˜æ˜¯å±äºä½ çš„ï¼ä½ å¯ä»¥å¾ˆè½»æ˜“åœ°æŠŠæ•°æ®æ‹¿å‡ºæ¥ï¼</p>
<p>å¯¼å‡ºçš„æ–‡å­—å†…å®¹å¯èƒ½æ˜¯ markdown æ–‡ä»¶æˆ–æ˜¯æ€ç»´å¯¼å›¾ json æ–‡ä»¶ã€‚</p>
<p>markdown æ–‡ä»¶å¯ä»¥ç›´æ¥é˜…è¯»ï¼Œæˆ–è€…å¯¼å…¥åˆ° Obsidianã€Notion ç­‰ç¬”è®°è½¯ä»¶å†ç»†åŒ–ä¿®æ”¹ã€‚</p>
<p>æ€ç»´å¯¼å›¾ json æ–‡ä»¶å¯ä»¥ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSSShooter%2Fmind-elixir-core" target="_blank" title="https://github.com/SSShooter/mind-elixir-core" ref="nofollow noopener noreferrer">mind-elixir-core</a> ç­‰å‰ç«¯åº“æ¸²æŸ“ï¼Œå½“ç„¶ï¼Œå¦‚æœä½ æ˜¯æŠ€æœ¯äººå‘˜ï¼Œç†è§£ json æ•°æ®çš„ç»“æ„ä½ ä¹Ÿå¯ä»¥éšæ„ä¿®æ”¹å’Œæ¸²æŸ“ã€‚</p>
<p>æ€ç»´å¯¼å›¾äº¦å¯å¯¼å‡ºä¸ºå›¾ç‰‡ï¼Œç‚¹å‡»æ€ç»´å¯¼å›¾é¡µé¢å³ä¸Šè§’çš„ä¸‹è½½æŒ‰é’®å³å¯ã€‚</p>
<h2 data-id="heading-4">æ ¼å¼é€‰æ‹©</h2>
<p>æœ€åè°ˆè°ˆç”µå­ä¹¦æ ¼å¼çš„é—®é¢˜ï¼Œebook-to-mindmap æ”¯æŒ pdf å’Œ epub æ ¼å¼çš„ç”µå­ä¹¦ï¼Œä½†æ˜¯è¿™ä¸¤ç§æ ¼å¼å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿ</p>
<p>æˆ–è®¸å¤§å®¶éƒ½ä¼šæ¯”è¾ƒå–œæ¬¢çœ‹ pdfï¼Œå› ä¸ºçœ‹èµ·æ¥æ¯”è¾ƒå·¥æ•´ï¼Œä½†æ˜¯ä½¿ç”¨ ebook-to-mindmapï¼Œæˆ‘è¿˜æ˜¯æ¯”è¾ƒ<strong>æ¨è epub æ ¼å¼</strong>çš„ç”µå­ä¹¦ã€‚</p>
<p>ç¨å¾®è®²ä¸€ä¸‹ pdf å’Œ epub çš„åŸç†å§ã€‚</p>
<p>pdf çš„ç‰¹ç‚¹æ˜¯åœ¨ä»»ä½•è®¾å¤‡ä¸Šçœ‹èµ·æ¥éƒ½ä¸€æ ·ï¼Œè¿™å°±å¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œå…¶å® pdf çš„æ’ç‰ˆæ˜¯éå¸¸å›ºå®šçš„ï¼Œè€Œä¸”æ›´é‡è¦çš„æ˜¯ï¼Œpdf çš„æ’ç‰ˆæ˜¯æ²¡æœ‰è¯­ä¹‰çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œäººç±»èƒ½çœ‹åˆ°ä¸€ä¸ªæ ‡é¢˜æ˜¯åŠ ç²—é»‘å­—ï¼Œä½†æ˜¯ pdf æœ¬èº«å¹¶ä¸çŸ¥é“è¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜ï¼Œå®ƒåªæ˜¯çŸ¥é“è¿™ä¸€å—åŒºåŸŸçš„æ–‡å­—æ˜¯åŠ ç²—é»‘å­—çš„ã€‚</p>
<p>æ›´ä¸¥é‡çš„é—®é¢˜æ˜¯ pdf å¦‚æœæœ‰ä¸€äº›å¤æ‚çš„æ’ç‰ˆï¼Œä¾‹å¦‚åœ¨è§’è½åµŒå…¥ä¸€æ®µæ–‡å­—ï¼Œåœ¨è§£é‡Šçš„æ—¶å€™å°±å¾ˆéš¾ç†è§£é‚£æ®µæ–‡å­—çš„æ„ä¹‰ã€‚æ‰€ä»¥ï¼Œå¤§æ¨¡å‹ç†è§£ pdf çš„éš¾åº¦ä¼šæ¯”è¾ƒå¤§ã€‚</p>
<p>è€Œ epub æ ¼å¼å°±ä¸ä¸€æ ·ï¼Œå®ƒæ›´åƒæ˜¯ä¸€å¼ ç½‘é¡µï¼Œæœ‰è¯­ä¹‰ï¼Œæœ‰ç»“æ„ï¼Œæœ‰å±‚æ¬¡ï¼Œå°±è·Ÿ HTML å·®ä¸å¤šã€‚ä½†ç¼ºç‚¹å°±æ˜¯äººç±»çœ‹æ¥è¿™æ ·çš„æ’ç‰ˆæœ‰ç‚¹ç²—ç³™ï¼Œåœ¨ä¸åŒçš„é˜…è¯»å™¨ä¸Šæ˜¾ç¤ºæ•ˆæœä¹Ÿä¸åŒã€‚åœ¨æŸäº›è½åçš„ epub é˜…è¯»å™¨ä¸Šé˜…è¯»æ—¶å¯èƒ½ä¼šè§‰å¾—æ’ç‰ˆå¾ˆæœ‰å¹´ä»£æ„Ÿã€‚ä½†æ˜¯å¤§æ¨¡å‹ä¸åœ¨ä¹æ’ç‰ˆï¼Œæœ‰æ¸…æ™°çš„ç»“æ„å°±èƒ½å¾—åˆ°å¥½çš„è¾“å‡ºç»“æœã€‚</p>
<h2 data-id="heading-5">å†™åœ¨æœ€å</h2>
<p>æ€»çš„æ¥è¯´ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSSShooter%2Febook-to-mindmap" target="_blank" title="https://github.com/SSShooter/ebook-to-mindmap" ref="nofollow noopener noreferrer">ebook-to-mindmap</a> æ˜¯ä¸€ä¸ªèƒ½å¸®ä½ å¿«é€Ÿå¤ä¹ æˆ–è€…æŠŠä¹¦æœ¬å˜è–„çš„å·¥å…·ã€‚åœ¨è¿™ä¸ªä¿¡æ¯çˆ†ç‚¸çš„æ—¶ä»£ï¼Œé«˜æ•ˆåœ°è·å–å’Œæ•´ç†çŸ¥è¯†å˜å¾—è¶Šæ¥è¶Šé‡è¦ã€‚å¸Œæœ›è¿™ä¸ªå°å·¥å…·èƒ½æˆä¸ºä½ é˜…è¯»è·¯ä¸Šçš„å¾—åŠ›åŠ©æ‰‹ï¼Œè®©ä½ æŠŠæ›´å¤šçš„æ—¶é—´èŠ±åœ¨æ·±åº¦æ€è€ƒå’Œç†è§£ä¸Šï¼Œè€Œä¸æ˜¯æœºæ¢°åœ°æ‘˜æŠ„ã€‚</p>
<p>å¦‚æœä½ è§‰å¾—è¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSSShooter%2Febook-to-mindmap" target="_blank" title="https://github.com/SSShooter/ebook-to-mindmap" ref="nofollow noopener noreferrer">GitHub</a> ä¸Šç‚¹ä¸ª Star â­ï¸ æ”¯æŒä¸€ä¸‹ï¼å¦‚æœä½ æœ‰ä»»ä½•å»ºè®®æˆ–å‘ç°äº† bugï¼Œä¹Ÿæ¬¢è¿æ Issue æˆ–è€…åŠ å…¥è®¨è®ºã€‚</p>
<p>Happy Reading!</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘ä¸ºä»€ä¹ˆè®¨åŒç»§æ‰¿ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7601384029611425807</link>    <guid>https://juejin.cn/post/7601384029611425807</guid>    <pubDate>2026-02-02T01:26:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601384029611425807" data-draft-id="7597722671084699682" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘ä¸ºä»€ä¹ˆè®¨åŒç»§æ‰¿ï¼Ÿ"/> <meta itemprop="keywords" content="Android,Kotlin,è®¾è®¡æ¨¡å¼"/> <meta itemprop="datePublished" content="2026-02-02T01:26:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RockByte"/> <meta itemprop="url" content="https://juejin.cn/user/1046390797768519"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘ä¸ºä»€ä¹ˆè®¨åŒç»§æ‰¿ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1046390797768519/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RockByte
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T01:26:08.000Z" title="Mon Feb 02 2026 01:26:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:2;font-weight:400;font-size:15px;overflow-x:hidden;color:#333;letter-spacing:1.2px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:.5rem solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c;margin:0 5px}.markdown-body a:active,.markdown-body a:hover{text-decoration:none;border-bottom:1.5px solid #3eaf7c}.markdown-body a[href^=http]:after{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04MzIgMTI4SDY0MHY2NGgxNDYuNzUyTDUyMS4zNzYgNDU3LjM3Nmw0NS4yNDggNDUuMjQ4TDgzMiAyMzcuMjQ4VjM4NGg2NFYxMjh6IiBmaWxsPSIjM2VhZjdjIi8+PHBhdGggZD0iTTc2OCA4MzJIMTkyVjI1NmgzNTJ2LTY0SDE2MGEzMiAzMiAwIDAwLTMyIDMydjY0MGEzMiAzMiAwIDAwMzIgMzJoNjQwYTMyIDMyIDAgMDAzMi0zMlY0ODBoLTY0djM1MnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");margin-left:2px}.markdown-body a[href^="#"]:before{content:"#"}.markdown-body table{display:inline-block!important;font-size:13px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c;border-collapse:collapse}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:4px 8px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#7b7878;padding:1px 23px;border-left:.5rem solid;border-color:#42b983;background-color:rgba(66,184,131,.1);position:relative;margin:14px 8px 0}.markdown-body blockquote:before{display:inline-block;position:absolute;content:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNyAyNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjg2MiAxLjg2MikiIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGNpcmNsZSBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS43MjQiIGZpbGw9IiM0MkI5ODMiIGN4PSIxMS42MzgiIGN5PSIxMS42MzgiIHI9IjExLjYzOCIvPjxwYXRoIGQ9Ik0xNC45NzggNi4yN0E1LjAwNiA1LjAwNiAwIDAwNi42NyA5LjQ2OGE0LjkwMSA0LjkwMSAwIDAwMS43NzMgNC4zNjJjLjMyMy4yNTguNTE0LjY0Ny41MjIgMS4wNnYxLjA2YTIuNjg1IDIuNjg1IDAgMDA1LjM3IDB2LTEuMDA4Yy4wMDItLjM5OC4xNzMtLjc3Ny40Ny0xLjA0MmE1LjAyMyA1LjAyMyAwIDAwLjE3My03LjYzem0tMy4zMzcgMTAuOTY3YTEuMzA0IDEuMzA0IDAgMDEtMS4yODYtMS4yODd2LS4yNzhoMi41NzJ2LjI2MWMwIC43MTMtLjU3MyAxLjI5NC0xLjI4NiAxLjMwNHptMi4yNi00LjQxNWMtLjQ0LjM4My0uNzUuODkzLS44ODcgMS40NmgtMi43NDZhMi44NjggMi44NjggMCAwMC0uOTM4LTEuNTNoLS4wMThhMy40NzYgMy40NzYgMCAwMS0xLjI2OS0zLjE0NSAzLjYxNSAzLjYxNSAwIDAxNy4xOTYuNCAzLjY1IDMuNjUgMCAwMS0xLjMzOCAyLjgxNXoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+");width:25px;height:25px;left:-16px;top:12px}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none;padding-left:10px}.markdown-body ul li::marker{content:"â€¢";color:#3eaf7c}.markdown-body ul li.task-list-item:before{content:"";margin-right:0}.markdown-body input[type=checkbox]{vertical-align:text-bottom;box-shadow:inset 0 0 0 10px #fff}.markdown-body input[type=checkbox]:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04NzcuMDU2IDE0Ni45NDR2NzMwLjExMkgxNDYuOTQ0VjE0Ni45NDRoNzMwLjExMnptMC0xMDQuMjc3SDE0Ni45NDRjLTU3LjYyOCAwLTEwNC4yNzcgNDYuNjQ5LTEwNC4yNzcgMTA0LjI3N3Y3MzAuMTEyYzAgNTcuNjI4IDQ2LjY0OSAxMDQuMjc3IDEwNC4yNzcgMTA0LjI3N2g3MzAuMTEyYzU3LjYyOCAwIDEwNC4yNzctNDYuNjQ5IDEwNC4yNzctMTA0LjI3N1YxNDYuOTQ0YzAtNTcuNjI4LTQ2LjY0OS0xMDQuMjc3LTEwNC4yNzctMTA0LjI3N3oiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}.markdown-body input[type=checkbox]:checked:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik05MTAuMjA4IDBIMTEzLjc2QTExNC4xMTIgMTE0LjExMiAwIDAwLS4wMzIgMTEzLjc5MlY5MTAuMjRjMCA2Mi41OTIgNTEuMiAxMTMuNzkyIDExMy43OTIgMTEzLjc5Mmg3OTYuNDQ4YzYyLjU5MiAwIDExMy43OTItNTEuMiAxMTMuNzkyLTExMy43OTJWMTEzLjc5MkMxMDI0IDUxLjIgOTcyLjggMCA5MTAuMjA4IDB6bS01MTIgNzk2LjQ0OEwxMTMuNzYgNTEybDc5LjY0OC03OS42NDggMjA0LjggMjA0LjhMODMwLjU2IDIwNC44bDc5LjY0OCA3OS42NDgtNTEyIDUxMnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="xcode">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#000}.xml .hljs-meta{color:silver}.hljs-comment,.hljs-quote{color:#007400}.hljs-attribute,.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-tag{color:#aa0d91}.hljs-template-variable,.hljs-variable{color:#3f6e74}.hljs-code,.hljs-meta-string,.hljs-string{color:#c41a16}.hljs-link,.hljs-regexp{color:#0e0eff}.hljs-bullet,.hljs-number,.hljs-symbol,.hljs-title{color:#1c00cf}.hljs-meta,.hljs-section{color:#643820}.hljs-built_in,.hljs-builtin-name,.hljs-class .hljs-title,.hljs-params,.hljs-type{color:#5c2699}.hljs-attr{color:#836c28}.hljs-subst{color:#000}.hljs-formula{background-color:#eee;font-style:italic}.hljs-addition{background-color:#baeeba}.hljs-deletion{background-color:#ffc8bd}.hljs-selector-class,.hljs-selector-id{color:#9b703f}.hljs-doctag,.hljs-strong{font-weight:700}.hljs-emphasis{font-style:italic}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc52bda5809d440d95f07706efade322~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770600367&amp;x-signature=ZyRqsw2fw2gZi2bCF8Q3zCyZp0s%3D" alt="a.png" loading="lazy"/></p>
<p>æˆ‘åœ¨ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« <a href="https://juejin.cn/post/7599910677578874880" target="_blank" title="https://juejin.cn/post/7599910677578874880">ç²¾é€š Rust å® â€” ç¬¬ä¸€ä¸ªå®</a>ä¸­æåˆ°è¿‡ï¼Œæˆ‘è®¨åŒç»§æ‰¿ã€‚</p>
<p>ç¬¬äºŒå¤©ä¸­åˆæˆ‘åŒäº‹è·‘è¿‡æ¥é—®æˆ‘ï¼Œè¿™ä¸œè¥¿ç°åœ¨è¯­è¨€éƒ½æœ‰ï¼Œä½ æœ‰ä»€ä¹ˆè®¨åŒçš„ï¼Ÿ</p>
<p>æˆ‘é—®ä»–ï¼Œä½ è¿˜è®°å¾—é¢å‘å¯¹è±¡çš„ä¸‰è¦ç´ å—ï¼Ÿ</p>
<p>ä»–è¯´ï¼šå°è£…ï¼Œç»§æ‰¿...ï¼Œç„¶å...ï¼Œå¤šæ€ï¼</p>
<p>æˆ‘ä¸Šå¤§å­¦å­¦ä¹  Java çš„æ—¶å€™ï¼Œå¾ˆå¤šç›¸å…³ä¹¦ç±éƒ½ä¼šè®²è§£è¿™ä¸‰è¦ç´ ï¼Œä»¥ç°åœ¨çš„æˆ‘çœ‹æ¥ï¼Œå°è£…å’Œå¤šæ€æ˜¯å¿…è¦çš„ã€‚</p>
<p>ä½†æ˜¯ç»§æ‰¿...</p>
<h2 data-id="heading-0">ç»§æ‰¿æœ‰ä»€ä¹ˆé—®é¢˜</h2>
<p>åœ¨æˆ‘åˆšå‚åŠ å·¥ä½œçš„ç¬¬ä¸‰å¹´ï¼Œæˆ‘å‚ä¸åˆ°äº†ä¸­å›½ç§»åŠ¨å’Œåœ°å›¾ App çš„å¼€å‘å·¥ä½œä¸­ï¼Œå½“æ—¶æˆ‘è´Ÿè´£æ”¹é€ è¯¥ App çš„æ ¸å¿ƒç½‘ç»œè¯·æ±‚æ¨¡å—ã€‚</p>
<p>é‚£ä¸ªæ—¶å€™è¿˜æ²¡æœ‰æµè¡Œä½¿ç”¨ <strong>OkHttp</strong> ï¼Œæ›´æ²¡æœ‰ <strong>Retrofit</strong> è¿™ç§ä¼˜ç§€çš„ç½‘ç»œå¼€æºåº“ï¼Œæ•´ä½“è¿˜æ˜¯ä½¿ç”¨åŸå§‹çš„ <strong>HttpConnection</strong> å»å®Œæˆç½‘ç»œè¯·æ±‚ï¼Œè‡ªå·±å°è£…é‡Œé¢çš„å®ç°é€»è¾‘ã€‚</p>
<p>æˆ‘å½“æ—¶ç†è§£å®Œéœ€æ±‚ä¹‹åï¼Œæ•´ç†äº†ç½‘ç»œåº“éœ€è¦æ»¡è¶³çš„åŠŸèƒ½ï¼Œå¤§æ¦‚å¦‚ä¸‹ï¼š</p>
<ol>
<li>å®Œæˆå¯¹æ•°æ®çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚</li>
<li>å®Œæˆå¯¹æ•°æ®çš„åŠ å¯†è§£å¯†ã€‚</li>
<li>è¿”å›çº¯æ–‡æœ¬çš„æ•°æ®ç»“æ„ã€‚</li>
<li>è¿”å› <strong>JSONObject</strong> çš„æ•°æ®ç»“æ„ã€‚</li>
<li>è¿”å›åŸºäº Java å¯¹è±¡çš„æ•°æ®ç»“æ„ã€‚</li>
</ol>
<p>è‡ªç„¶è€Œç„¶ï¼Œæˆ‘æƒ³åˆ°äº†è¿™ç§æ–¹æ¡ˆï¼Œ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9df7fb263a9e461783f7fc1d063d6c53~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770600367&amp;x-signature=ztQz%2Bhn6xW3F3SsPMMju1nbSdqQ%3D" alt="0.png" loading="lazy"/></p>
<ol>
<li>é¦–å…ˆï¼Œ<code>BaseHttp</code> ä½œä¸ºåŸºç±»ï¼Œè´Ÿè´£åºåˆ—åŒ–å’Œååºåˆ—åŒ–å’ŒåŠ è§£å¯†ï¼Œå› ä¸ºä»ç›®å‰çœ‹æ¥ï¼Œä¸€ä¸ªè¯·æ±‚ä¸€å®šä¼šæœ‰è¿™ä¸¤ä¸ªéœ€æ±‚ã€‚</li>
<li><code>TextHttp</code> ç»§æ‰¿ <code>BaseHttp</code>ï¼Œå°†å…¶å­—èŠ‚ç è½¬æ¢æˆæ–‡æœ¬ã€‚</li>
<li><code>JsonHttp</code> ç»§æ‰¿ <code>TextHttp</code>ï¼Œå°†æ–‡æœ¬è½¬æ¢æˆ <code>JSONObject</code> ç»“æ„ã€‚</li>
<li>ä»¥æ­¤ç±»æ¨ã€‚ã€‚ã€‚</li>
</ol>
<p>ä¸€å¼€å§‹ï¼Œè¿™æ ·åšéå¸¸æ–¹ä¾¿ï¼Œä¾‹å¦‚ï¼šå¦‚æœä¸€ä¸ªè¯·æ±‚åªéœ€è¦è·å–æ–‡æœ¬å†…å®¹ï¼Œé‚£ä¹ˆå°±ç›´æ¥ç»§æ‰¿ <code>TextHttp</code>ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªè¯·æ±‚éœ€è¦å®ç°å“ªäº›èƒ½åŠ›ï¼Œé‚£ä¹ˆå°±ç»§æ‰¿é‚£ä¸ªåŸºç±»å°±å¥½äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c539669eb55469188b91007dca066fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770600367&amp;x-signature=v4mDSqZMlKuOBHMc64o12DtnOM0%3D" alt="1.png" loading="lazy"/></p>
<p>è€Œä½¿ç”¨è¿™ä¸ªç½‘ç»œåº“çš„äººï¼Œåªéœ€è¦æŒ‰ç…§ API æ–‡æ¡£ä¸­çš„ API åç§°ï¼Œç”¨è¿™ä¸ªè¯·æ±‚å°±è¡Œäº†ï¼Œä¾‹å¦‚ <code>Sell</code> -&gt; <code>SellHttp</code>ï¼Œ<code>Login</code> -&gt; <code>LoginHttp</code>ï¼Œç”¨èµ·æ¥ä¼šéå¸¸æ–¹ä¾¿ï¼</p>
<p>ä½†æ˜¯åç»­æ”¹åŠ¨ï¼Œè®©æˆ‘è¶Šæ¥è¶Š Hold ä¸ä½è¿™ç§ç»§æ‰¿é“¾äº†ï¼šæœ‰çš„ API éœ€è¦é‰´æƒï¼Œæœ‰çš„ä¸éœ€è¦ï¼›éƒ¨åˆ† API ä¼šæœ‰ä¸åŒçš„ Headerï¼›æœ‰çš„ API è¿”å›ç»“æœåŠ å¯†æ–¹å¼å’Œä¹‹å‰çš„ä¸ä¸€æ ·ã€‚</p>
<p>æ…¢æ…¢çš„ï¼Œæˆ‘å‘ç°æˆ‘çš„ç»§æ‰¿é“¾è¶Šæ¥è¶Šé•¿ï¼Œä¸ºäº†è®©æˆ‘çš„ API ä½¿ç”¨ä¿æŒç®€æ´ï¼Œç”šè‡³å‡ºç°äº†ç±»ä¼¼è±å½¢ç»§æ‰¿çš„æƒ…å†µï¼ˆè¿™é‡Œä¸æ˜¯è¯´ Java å¯ä»¥è±å½¢ç»§æ‰¿ï¼‰ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce3846fd44c94469a6115242e3c0464b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770600367&amp;x-signature=uniKjDNCZDHCXM0ScheHQB6xABc%3D" alt="2.png" loading="lazy"/></p>
<p>å®é™…ä¸Š <code>SHACryptJsonHttp</code> åŒ…æ‹¬å…¶åŸºç±»æœ‰å¤§é‡ç›¸ä¼¼çš„ä»£ç ï¼Œåªæ˜¯é‰´æƒæ–¹å¼é—®é¢˜ï¼Œå¯¼è‡´æˆ‘ä¸å¾—ä¸é‡æ–°æ”¹å†™æ•´ä¸ªç»§æ‰¿é“¾ï¼ˆè¿™é‡Œåªæ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼ŒçœŸå®æƒ…å†µæ¯”è¿™ä¸ªå¤æ‚çš„å¤šï¼‰ã€‚</p>
<p>åé¢è¿™ç§é—®é¢˜è¶Šæ¥è¶Šå¤šï¼Œè™½ç„¶åŒäº‹ä»¬ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼ˆå¯¹ç…§æ–‡æ¡£ç›´æ¥ <code>new</code> å³å¯ï¼‰ï¼Œä½†æ˜¯å¯¹æˆ‘çš„ç»´æŠ¤é€ æˆäº†å·¨å¤§è´Ÿæ‹…ï¼ŒåŒæ—¶ä¹Ÿä¼šçŠ¯ä¸€äº›éå¸¸ä½çº§çš„é”™è¯¯ï¼Œä¾‹å¦‚æé”™äº†é‰´æƒæ–¹å¼ï¼</p>
<p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿ</p>
<h2 data-id="heading-1">ä¸€å¥è¯æ€»ç»“</h2>
<p>â€œç»§æ‰¿â€è¿™ä¸ªç‰¹æ€§ï¼Œæœ¬æ¥æƒ³å¹²ä¸‰ä»¶äº‹ï¼Œç»“æœä¸‰ä»¶äº‹äº’ç›¸æ‰“æ¶ï¼Œæœ€åæå¾—è°éƒ½ä¸å¼€å¿ƒã€‚</p>
<p>å¥½çš„ï¼Œæˆ‘æ¥æ¢ä¸ªæ€è·¯è§£é‡Šï¼Œä»¥ Java è¿™ç§è¯­è¨€ä¸ºä¾‹ï¼š</p>
<p>æ¯”å¦‚ä½ å†™ä¸€ä¸ª <code>Animal</code> ç±»ï¼Œå†å†™ä¸€ä¸ª <code>Dog</code> ç±»ç»§æ‰¿å®ƒï¼Œè¿™æ · <code>Dog</code> å°±è‡ªåŠ¨æœ‰äº† <code>Animal</code> çš„æ‰€æœ‰æ–¹æ³•å’Œå±æ€§ã€‚</p>
<p>å¬èµ·æ¥å¾ˆç¾å¥½ï¼Œå¯¹å§ï¼Ÿï¼ˆå½“æ—¶æˆ‘å°±æ˜¯è¿™ä¹ˆè®¤ä¸ºçš„ï¼‰</p>
<p>ä½†é—®é¢˜æ¥äº†â€”â€”<strong>æˆ‘ä»¬å…¶å®ç”¨â€œç»§æ‰¿â€åšäº†ä¸‰ä»¶å®Œå…¨ä¸åŒçš„äº‹</strong>ï¼Œè€Œè¿™ä¸‰ä»¶äº‹æ ¹æœ¬ä¸æ˜¯ä¸€å›äº‹ï¼</p>
<h3 data-id="heading-2">ç¬¬ä¸€ä»¶äº‹ï¼šåˆ†ç±» â€”â€” è¿™ä¸œè¥¿å±äºå“ªä¸€ç±»</h3>
<p>æ¯”å¦‚ï¼šâ€œæ­£æ–¹å½¢æ˜¯ä¸€ç§çŸ©å½¢â€ï¼Œâ€œç‹—æ˜¯ä¸€ç§åŠ¨ç‰©â€ã€‚</p>
<p>è¿™æ˜¯ä»<strong>ç°å®ä¸–ç•Œé€»è¾‘</strong>å‡ºå‘çš„ï¼Œå«â€œæœ¬ä½“è®ºâ€ï¼ˆåˆ«è¢«åå­—å“åˆ°ï¼Œå°±æ˜¯â€œåˆ†ç±»â€çš„æ„æ€ï¼‰ã€‚</p>
<p>è¿™åˆç†å•Šï¼Œæ­£æ–¹å½¢ç¡®å®æ˜¯çŸ©å½¢çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µã€‚</p>
<h3 data-id="heading-3">ç¬¬äºŒä»¶äº‹ï¼š èƒ½æ›¿æ¢å— â€”â€” ç¨‹åºèƒ½ä¸èƒ½å½“åŒä¸€ç§ä¸œè¥¿ç”¨</h3>
<p>æ¯”å¦‚ï¼šå¦‚æœä¸€ä¸ªå‡½æ•°è¦æ±‚ä¼ å…¥ä¸€ä¸ª <code>Rectangle</code>ï¼ˆçŸ©å½¢ï¼‰ï¼Œé‚£æˆ‘èƒ½ä¼ ä¸€ä¸ª <code>Square</code>ï¼ˆæ­£æ–¹å½¢ï¼‰è¿›å»å—ï¼Ÿ</p>
<p>å¦‚æœå¯ä»¥ï¼Œå°±å«â€œå¯æ›¿æ¢â€ï¼Œè¿™æ˜¯<strong>ç¨‹åºæ­£ç¡®æ€§</strong>çš„é—®é¢˜ã€‚</p>
<p>ä½†ç°å®ä¸­ä¸è¡Œï¼å› ä¸ºçŸ©å½¢å¯ä»¥æ”¹å®½é«˜ï¼Œè€Œæ­£æ–¹å½¢ä¸€æ”¹å®½é«˜å°±ä¸æ˜¯æ­£æ–¹å½¢äº†ã€‚</p>
<p>æ‰€ä»¥ï¼š<strong>è™½ç„¶â€œæ­£æ–¹å½¢æ˜¯çŸ©å½¢â€åœ¨æ•°å­¦ä¸Šæˆç«‹ï¼Œä½†åœ¨ä»£ç é‡Œä¸èƒ½éšä¾¿æ›¿æ¢ï¼</strong></p>
<blockquote>
<p>è¿™å°±æ˜¯è‘—åçš„ <strong>â€œæ­£æ–¹å½¢-çŸ©å½¢æ‚–è®ºâ€</strong> â€”â€” çœ‹ä¼¼åˆç†ï¼Œå®åˆ™å‘äººã€‚</p>
</blockquote>
<h3 data-id="heading-4">ç¬¬ä¸‰ä»¶äº‹ï¼š  çœä»£ç  â€”â€” åˆ«é‡å¤å†™ä¸€æ ·çš„ä»£ç </h3>
<p>æ¯”å¦‚ï¼š<code>Dog</code> å’Œ <code>Cat</code> éƒ½æœ‰ <code>eat()</code> æ–¹æ³•ï¼Œäºæ˜¯è®©å®ƒä»¬éƒ½ç»§æ‰¿ <code>Animal</code>ï¼ŒæŠŠ <code>eat()</code> å†™åœ¨çˆ¶ç±»é‡Œã€‚</p>
<p>è¿™çº¯ç²¹æ˜¯ä¸ºäº†<strong>å·æ‡’/å¤ç”¨ä»£ç </strong>ï¼Œè·Ÿâ€œæ˜¯ä¸æ˜¯åŠ¨ç‰©â€æ²¡å…³ç³»ã€‚</p>
<p>å¥½å¤„ï¼šå°‘å†™ä»£ç ã€‚</p>
<p>é£é™©ï¼šä¸‡ä¸€ä»¥åæŸä¸ªâ€œåŠ¨ç‰©â€ä¸åƒä¸œè¥¿ï¼ˆæ¯”å¦‚æœºå™¨äººå® ç‰©ï¼‰ï¼Œä½ å°±å¾—ç¡¬æ”¹ï¼Œæˆ–è€…æä¸€ä¸ªæ–°çš„ç»§æ‰¿é“¾ï¼Œç ´åè®¾è®¡ã€‚</p>
<h2 data-id="heading-5">é—®é¢˜æ¥äº†</h2>
<p>Java <strong>åªç»™äº†ä½ ä¸€ä¸ªâ€œç»§æ‰¿â€å…³é”®å­—</strong>ï¼Œå´è®©ä½ åŒæ—¶å¹²è¿™ä¸‰ä»¶äº‹ã€‚</p>
<p>ç»“æœï¼š</p>
<ul>
<li>ä½ ä»¥ä¸ºä½ åœ¨â€œåˆ†ç±»â€ï¼ˆæ­£æ–¹å½¢æ˜¯çŸ©å½¢ï¼‰ï¼Œ</li>
<li>ä½†ç¨‹åºè¦æ±‚ä½ â€œèƒ½æ›¿æ¢â€ï¼ˆæ­£æ–¹å½¢å¿…é¡»èƒ½å½“çŸ©å½¢ç”¨ï¼‰ï¼Œ</li>
<li>è€Œä½ å®é™…åªæ˜¯ä¸ºäº†â€œçœä»£ç â€ï¼ˆä¸æƒ³é‡å¤å†™å®½é«˜è®¾ç½®ï¼‰ã€‚</li>
</ul>
<p><strong>ä¸‰ä»¶äº‹æ··åœ¨ä¸€èµ·ï¼Œå¿…ç„¶å‡ºé—®é¢˜ï¼</strong></p>
<p>å°±åƒå…¬å¸é‡Œé¢çš„å›¢é˜Ÿï¼Œè™½ç„¶å¤§å®¶éƒ½å±äºåŒä¸€ä¸ªç»„ï¼Œä½†æ˜¯å¦‚æœç›®æ ‡ä¸ä¸€è‡´ï¼Œè¿™å¿…ç„¶å¯¼è‡´å¼€å‘é—®é¢˜ï¼</p>
<h2 data-id="heading-6">é‚£æ€ä¹ˆåŠ</h2>
<p>è¿™æ˜¯æˆ‘åæ¥ï¼Œæ‰å­¦åˆ°çš„çŸ¥è¯†ã€‚</p>
<p><strong>åˆ«ç”¨â€œç»§æ‰¿â€å¹²æ‰€æœ‰äº‹ï¼åˆ†å¼€å¤„ç†ï¼š</strong></p>





















<table><thead><tr><th>ä½ æƒ³å¹²å•¥</th><th>æ­£ç¡®åšæ³•</th></tr></thead><tbody><tr><td><strong>æƒ³åˆ†ç±»ï¼Ÿ</strong></td><td>ç”¨<strong>é¢†åŸŸæ¨¡å‹</strong>ç”»å›¾å°±è¡Œï¼Œåˆ«éå¡è¿›ä»£ç ç»§æ‰¿æ ‘é‡Œã€‚</td></tr><tr><td><strong>æƒ³ä¿è¯èƒ½æ›¿æ¢ï¼Ÿ</strong></td><td>ç”¨<strong>æ¥å£ï¼ˆInterfaceï¼‰</strong> æˆ– <strong>åè®®ï¼ˆProtocolï¼‰</strong> ï¼Œæ˜ç¡®çº¦å®šè¡Œä¸ºã€‚</td></tr><tr><td><strong>æƒ³çœä»£ç ï¼Ÿ</strong></td><td>ç”¨<strong>ç»„åˆï¼ˆCompositionï¼‰</strong> + <strong>å§”æ‰˜ï¼ˆDelegationï¼‰</strong> ï¼Œæ¯”å¦‚è®© <code>Dog</code> é‡Œé¢â€œåŒ…å«â€ä¸€ä¸ª <code>Eater</code> å¯¹è±¡ï¼Œè€Œä¸æ˜¯ç»§æ‰¿ <code>Animal</code>ã€‚</td></tr></tbody></table>
<p>è¿˜è®°å¾—é‚£å¥ç»å…¸çš„å»ºè®®å—ï¼šâ€œ<strong>ä¼˜å…ˆä½¿ç”¨ç»„åˆï¼Œè€Œä¸æ˜¯ç»§æ‰¿ã€‚</strong> â€</p>
<p>æ¥ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾ä½ è¦åšâ€œäº¤é€šå·¥å…·â€ç³»ç»Ÿï¼š</p>
<ul>
<li>
<p><strong>é”™è¯¯åšæ³•ï¼ˆç”¨ç»§æ‰¿å¹²ä¸‰ä»¶äº‹ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Vehicle</span> { <span class="hljs-keyword">void</span> <span class="hljs-title function_">move</span><span class="hljs-params">()</span> {} }
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Vehicle</span> { }      <span class="hljs-comment">// æ˜¯Vehicleï¼Œèƒ½æ›¿æ¢ï¼Œè¿˜å¤ç”¨äº†move()</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Airplane</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Vehicle</span> { } <span class="hljs-comment">// åŒä¸Š</span>
</code></pre>
<p>â†’ è¿™å°±æ˜¯æˆ‘æ—©æœŸå¼€å‘ Http æ¡†æ¶æ—¶å€™çš„åšæ³•ã€‚é—®é¢˜æ¥äº†ï¼Œå¦‚æœä»¥ååŠ ä¸ª <code>Hovercraft</code>ï¼ˆæ°”å«èˆ¹ï¼‰ï¼Œå®ƒæ—¢èƒ½èµ°é™†åœ°åˆèƒ½èµ°æ°´ï¼Œç»§æ‰¿å“ªä¸ªï¼Ÿ</p>
</li>
<li>
<p><strong>æ­£ç¡®åšæ³•ï¼ˆåˆ†å¼€å¤„ç†ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Drivable</span> { <span class="hljs-keyword">void</span> <span class="hljs-title function_">drive</span><span class="hljs-params">()</span>; }
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Flyable</span> { <span class="hljs-keyword">void</span> <span class="hljs-title function_">fly</span><span class="hljs-params">()</span>; }

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Drivable</span> { ... }
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Airplane</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Flyable</span> { ... }
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Hovercraft</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Drivable</span>, Floatable { ... } <span class="hljs-comment">// å¤šå®ç°ï¼Œçµæ´»ï¼</span>
</code></pre>
<p>â†’ åˆ†ç±»å½’åˆ†ç±»ï¼ˆä½ æ˜¯è½¦è¿˜æ˜¯é£æœºï¼‰ï¼Œè¡Œä¸ºå½’è¡Œä¸ºï¼ˆä½ ä¼šå¼€è¿˜æ˜¯ä¼šé£ï¼‰ï¼Œä»£ç å¤ç”¨é ç»„åˆ</p>
<p><em>Java å®ç°å§”æ´¾ä¼šæœ‰äº›éº»çƒ¦ï¼Œå¦‚æœæ˜¯ Kotlinï¼Œå°±æ–¹ä¾¿å¤šäº†ï¼</em></p>
</li>
</ul>
<h2 data-id="heading-7">æ€»ç»“</h2>
<p>â€œç»§æ‰¿â€å°±åƒä¸€æŠŠç‘å£«å†›åˆ€ï¼Œæœ¬æ¥æƒ³åˆ‡èœã€å¼€ç“¶ã€å‰ªçº¿éƒ½è¡Œï¼Œç»“æœå‘ç°ï¼š<strong>åˆ‡èœæ—¶åˆ€ç‰‡ä¼šå¼¹å‡ºæ¥å‰²æ‰‹ï¼Œå¼€ç“¶æ—¶èºä¸åˆ€åˆç¢äº‹ã€‚</strong></p>
<p>æ‰€ä»¥èªæ˜äººæ€ä¹ˆåšï¼Ÿ</p>
<p><strong>åˆ‡èœç”¨èœåˆ€ï¼Œå¼€ç“¶ç”¨å¼€ç“¶å™¨ï¼Œå‰ªçº¿ç”¨å‰ªåˆ€ã€‚å„å¹²å„çš„ï¼Œäº’ä¸å¹²æ‰°ã€‚</strong></p>
<p>ç¼–ç¨‹ä¹Ÿä¸€æ ·ï¼š</p>
<p><strong>åˆ«æŒ‡æœ›â€œç»§æ‰¿â€è§£å†³æ‰€æœ‰é—®é¢˜ï¼Œè¯¥ç”¨æ¥å£ç”¨æ¥å£ï¼Œè¯¥ç”¨ç»„åˆç”¨ç»„åˆã€‚</strong></p>
<p>è¿™æ ·ï¼Œä»£ç æ‰æ¸…çˆ½ï¼Œbug æ‰å°‘ï¼Œè€Œä½ ï¼Œæˆ‘çš„æœ‹å‹ï¼Œæ‰ç¡å¾—ç€è§‰ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[1ä¸ªæœˆåŒçº¿ä½œæˆ˜ï¼šAIå…¬æ–‡åŠ©æ‰‹ä»0åˆ°1å¼€å‘ï¼Œä¸å›½äº§åŒ–é€‚é…çš„"è¸©å‘"å…¨è®°å½•]]></title>    <link>https://juejin.cn/post/7601576716016058431</link>    <guid>https://juejin.cn/post/7601576716016058431</guid>    <pubDate>2026-02-02T02:18:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601576716016058431" data-draft-id="7601419065128943635" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="1ä¸ªæœˆåŒçº¿ä½œæˆ˜ï¼šAIå…¬æ–‡åŠ©æ‰‹ä»0åˆ°1å¼€å‘ï¼Œä¸å›½äº§åŒ–é€‚é…çš„&quot;è¸©å‘&quot;å…¨è®°å½•"/> <meta itemprop="keywords" content="å‰ç«¯,GitHub,Vue.js"/> <meta itemprop="datePublished" content="2026-02-02T02:18:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾å°å¤•"/> <meta itemprop="url" content="https://juejin.cn/user/3808363978429613"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            1ä¸ªæœˆåŒçº¿ä½œæˆ˜ï¼šAIå…¬æ–‡åŠ©æ‰‹ä»0åˆ°1å¼€å‘ï¼Œä¸å›½äº§åŒ–é€‚é…çš„"è¸©å‘"å…¨è®°å½•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363978429613/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾å°å¤•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T02:18:37.000Z" title="Mon Feb 02 2026 02:18:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å…¨èŒåˆ›ä¸š2å¹´é›¶1ä¸ªæœˆï¼Œæ¥ä¸‹æ¥å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹æˆ‘ä»¬æœ€è¿‘åšäº†AIååŒäº§å“ <strong>JitWord</strong> çš„ç ”å‘å†ç¨‹ã€‚</p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆè¦åœ¨1ä¸ªæœˆå†…æ”»åšä¸¤ä¸ªç¡¬éª¨å¤´ï¼Ÿ</h2>
<p>è¯´å®è¯ï¼Œå¯åŠ¨è¿™æ¬¡è¿­ä»£å‰ï¼Œå›¢é˜Ÿå†…éƒ¨æ˜¯æœ‰åˆ†æ­§çš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4574c195c39540fe937a3b5930f3092e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770603516&amp;x-signature=0F7DqBttEtLHbG50wfrtyqfpMmY%3D" alt="2026-01-30 21.09.31.gif" loading="lazy"/></p>
<p>ä¸€æ–¹é¢ï¼Œ<strong>AIå…¬æ–‡åŠ©æ‰‹</strong> æ˜¯å¾ˆå¤šæ”¿ä¼å®¢æˆ·åå¤æçš„éœ€æ±‚â€”â€”ä»–ä»¬æƒ³è¦ Word é‚£ç§ä¸¥è°¨çš„å…¬æ–‡æ’ç‰ˆï¼Œåˆæƒ³è¦AIçš„ç”Ÿæˆèƒ½åŠ›ï¼Œè¿˜è¦èƒ½åœ¨çº¿ååŒï¼›å¦ä¸€æ–¹é¢ï¼Œ<strong>å›½äº§åŒ–é€‚é…</strong>æ˜¯ä¿¡åˆ›å¤§èƒŒæ™¯ä¸‹çš„å¿…é€‰é¡¹ï¼Œæ¶‰åŠå›½äº§æ“ä½œç³»ç»Ÿã€å›½äº§æµè§ˆå™¨ã€ç”šè‡³å›½äº§èŠ¯ç‰‡çš„å…¼å®¹æ€§é—®é¢˜ã€‚</p>
<p>è¿™ä¸¤ä¸ªéœ€æ±‚ï¼Œä»»ä½•ä¸€ä¸ªå•ç‹¬åšéƒ½è¦æ‰’å±‚çš®ã€‚ä½†å¸‚åœºä¸ç­‰äººï¼Œæˆ‘ä»¬å†³å®šåœ¨1ä¸ªæœˆå†…"åŒçº¿ä½œæˆ˜"ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« è®°å½•äº†æˆ‘ä»¬å¦‚ä½•ä»0æ­å»ºAIå…¬æ–‡åŠ©æ‰‹æ¨¡å—ï¼Œä»¥åŠåœ¨å›½äº§åŒ–é€‚é…è¿‡ç¨‹ä¸­é‡åˆ°çš„é‚£äº›è®©äººå¤´ç§ƒçš„å‘ã€‚å¸Œæœ›èƒ½ç»™åŒæ ·é¢ä¸´ä¿¡åˆ›æ”¹é€ æˆ–å¯Œæ–‡æœ¬æŠ€æœ¯é€‰å‹çš„åŒå­¦ä¸€äº›å‚è€ƒã€‚</p>
<hr/>
<h2 data-id="heading-1">JitWord æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆå¦‚æœä½ ç¬¬ä¸€æ¬¡å¬è¯´ï¼‰</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c27c99c39e2041bea6a4299a63de9bbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770603516&amp;x-signature=TvYn4Hgg2QXp8TsnOLgNm%2FdFK5Q%3D" alt="2026-01-29 11.02.48.gif" loading="lazy"/></p>
<p>ç®€å•ç»™æ–°æœ‹å‹ä»‹ç»ä¸€ä¸‹ã€‚<strong>JitWord</strong> æ˜¯æˆ‘ä»¬å›¢é˜Ÿå¼€å‘çš„<strong>ååŒAIæ–‡æ¡£å¼•æ“</strong>ï¼Œå®šä½æ˜¯"<strong>è®©Webæ–‡æ¡£æ‹¥æœ‰æ¡Œé¢çº§ä½“éªŒ</strong>"ï¼Œæ‰“é€ â€œ<strong>äº‘ç«¯Office</strong>â€åŠå…¬ä½“éªŒã€‚</p>
<p>æ ¸å¿ƒèƒ½åŠ›åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>å¤šäººå®æ—¶ååŒ</strong>ï¼šåŸºäºCRDTç®—æ³•ï¼Œæ”¯æŒWordçº§åˆ«çš„å†²çªè§£å†³</li>
<li><strong>AIè¾…åŠ©åˆ›ä½œ</strong>ï¼šå†…ç½®AIç»­å†™ã€æ¶¦è‰²ã€æ€»ç»“ï¼Œæ”¯æŒè‡ªå®šä¹‰Prompt</li>
<li><strong>æ•°å­¦å…¬å¼æ¸²æŸ“</strong>ï¼šè‡ªç ”å…¬å¼å¼•æ“ï¼Œæ”¯æŒLaTeXåˆ°Wordçš„æ— æŸè½¬æ¢ï¼ˆä¹‹å‰æ–‡ç« æœ‰è¯¦ç»†è®²è¿‡ï¼‰</li>
<li><strong>ä¸€é”®å¯¼å‡ºWord</strong>ï¼šä¸åªæ˜¯PDFï¼Œæ˜¯çœŸæ­£çš„<code>.docx</code>æ ¼å¼ï¼Œå¯¼å‡ºåè¿˜èƒ½åœ¨Officeé‡ŒäºŒæ¬¡ç¼–è¾‘</li>
</ul>





























<table><thead><tr><th>é¡¹ç›®</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong>äº§å“åç§°</strong></td><td>JitWord ååŒAIæ–‡æ¡£</td></tr><tr><td><strong>æŠ€æœ¯æ ˆ</strong></td><td>Vue3 + NestJS + CRDT + WebSocket</td></tr><tr><td><strong>æ ¸å¿ƒåŠŸèƒ½</strong></td><td>å®æ—¶ååŒã€AIå†™ä½œã€å…¬æ–‡å¤„ç†ã€Wordå¯¼å‡º</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>ä¼ä¸šæ–‡æ¡£ä¸­å°ã€ç§‘ç ”åä½œã€æ”¿åŠ¡åŠå…¬</td></tr><tr><td><strong>ç‰ˆæœ¬çŠ¶æ€</strong></td><td>V2.1ï¼ˆAIå…¬æ–‡åŠ©æ‰‹ + å›½äº§åŒ–é€‚é…ç‰ˆï¼‰</td></tr></tbody></table>
<p>æœ€è¿‘æˆ‘ä»¬ä¹Ÿå¼€æºäº†ä¸€ç‰ˆsdkï¼Œå¤§å®¶å¯ä»¥è½»æ¾æœ¬åœ°ä½¿ç”¨å’Œé›†æˆï¼š</p>
<p>githubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMrXujiang%2Fjitword-sdk" target="_blank" title="https://github.com/MrXujiang/jitword-sdk" ref="nofollow noopener noreferrer">github.com/MrXujiang/jâ€¦</a></p>
<hr/>
<h2 data-id="heading-2">ç¬¬ä¸€éƒ¨åˆ†ï¼šAIå…¬æ–‡åŠ©æ‰‹ä»0åˆ°1</h2>
<h3 data-id="heading-3">1.1 éœ€æ±‚æ‹†è§£ï¼šå…¬æ–‡åœºæ™¯çš„æ®‹é…·ç°å®</h3>
<p>åšä¼ ç»Ÿå¯Œæ–‡æœ¬ç¼–è¾‘å™¨çš„æœ‹å‹å¯èƒ½ä¸çŸ¥é“ï¼Œ<strong>å…¬æ–‡æ’ç‰ˆæ˜¯ä¸­æ–‡æ’ç‰ˆçš„åœ°ç‹±æ¨¡å¼</strong>ã€‚</p>
<ul>
<li><strong>çº¢å¤´æ–‡ä»¶</strong>ï¼šè¦ä¸¥æ ¼éµå¾ª GB/T 9704-2012 å›½å®¶æ ‡å‡†ï¼Œç‰ˆå¤´ã€å‘æ–‡å­—å·ã€ç­¾å‘äººéƒ½æœ‰å›ºå®šä½ç½®</li>
<li><strong>å¤šå±‚åµŒå¥—ç»“æ„</strong>ï¼šä¸€ã€ï¼ˆä¸€ï¼‰ã€1.ï¼ˆ1ï¼‰ã€â‘ ï¼Œè¿™äº”ç§å±‚çº§æ ¼å¼ä¸èƒ½ä¹±</li>
<li><strong>è¡¨æ ¼ä¸é™„ä»¶</strong>ï¼šå…¬æ–‡é‡Œçš„è¡¨æ ¼å¿…é¡»èƒ½è·¨é¡µé‡å¤è¡¨å¤´ï¼Œé™„ä»¶è¯´æ˜æœ‰ç‰¹å®šæ ¼å¼</li>
<li><strong>ä¸¥æ ¼çš„é¡µé¢è®¾ç½®</strong>ï¼šA4çº¸å¼ ã€ä¸Šç™½è¾¹37mmÂ±1mmã€ä¸‹ç™½è¾¹35mmÂ±1mm...</li>
</ul>
<p>æˆ‘ä»¬è°ƒç ”äº†å¸‚é¢ä¸Šå‡ ä¹æ‰€æœ‰çš„Web Officeæ–¹æ¡ˆï¼Œå‘ç°è¦ä¹ˆæ˜¯ç®€å•çš„è¡¨å•æ¨¡æ¿ï¼ˆçµæ´»æ€§ä¸å¤Ÿï¼‰ï¼Œè¦ä¹ˆæ˜¯æŠŠPDFè½¬å›¾ç‰‡ï¼ˆæ— æ³•äºŒæ¬¡ç¼–è¾‘ï¼‰ã€‚æ‰€ä»¥å†³å®šè‡ªå·±å®ç°ä¸€å¥—<strong>ç»“æ„åŒ–å…¬æ–‡å¼•æ“</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5dd37f0f375143758977f135091c3e3f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770603516&amp;x-signature=H9Y9GhCVMjioaPSdYBUILLGByOE%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">1.2 æŠ€æœ¯æ¶æ„ï¼šå¦‚ä½•æŠŠAIå¡è¿›å…¬æ–‡æµç¨‹ï¼Ÿ</h3>
<p>æˆ‘ä»¬é‡‡ç”¨äº† <strong>æ¨¡æ¿å¼•æ“ + AIç”Ÿæˆ + äººå·¥è°ƒæ•´</strong> çš„ä¸‰æ®µå¼æ¶æ„ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å…¬æ–‡æ¨¡æ¿åº“  â”‚â”€â”€â”€â”€â–¶â”‚  AIè§£æå±‚   â”‚â”€â”€â”€â”€â–¶â”‚ ç¼–è¾‘æ¸²æŸ“å±‚  â”‚
â”‚ (.docxè§£æ) â”‚     â”‚ (LLM+è§„åˆ™)  â”‚     â”‚ (ç»“æ„åŒ–ç¼–è¾‘)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                        â”‚
       â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
       â”‚â—„â”€â”€â”€â”‚  å¯¼å‡ºå¼•æ“   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚    â”‚(Word/PDF)   â”‚
       â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>å…³é”®æŠ€æœ¯å†³ç­–ï¼š</strong></p>
<ul>
<li><strong>æ¨¡æ¿è§£æ</strong>ï¼šç›®å‰äº†å¤ç”¨ mammoth.jsï¼Œä½†æ˜¯å®ƒçš„æ ·å¼æ˜ å°„å¤ªç²—ç²’åº¦ï¼Œåé¢è§„åˆ’é‡å†™ã€‚</li>
<li><strong>AIæç¤ºè¯å·¥ç¨‹</strong>ï¼šå…¬æ–‡å†™ä½œä¸æ˜¯ Creative Writingï¼Œè€Œæ˜¯ Constraint Writingã€‚æˆ‘ä»¬è®©AIå…ˆåˆ†ææ¨¡æ¿ç»“æ„ï¼Œå†å¡«å……å†…å®¹ï¼Œæœ€ååš<strong>æ ¼å¼åˆè§„æ€§æ£€æŸ¥</strong>ï¼ˆæ¯”å¦‚æ£€æŸ¥å‘æ–‡å­—å·æ˜¯å¦ç¬¦åˆ"å›½å‘ã€”2024ã€•1å·"è¿™ç§æ ¼å¼ï¼‰ã€‚</li>
<li><strong>ç¼–è¾‘å™¨é€‰å‹</strong>ï¼šåŸºç¡€è¿˜æ˜¯ProseMirrorï¼Œä½†é‡å†™äº†NodeSpecæ¥æ”¯æŒ"å…¬æ–‡å—"ï¼ˆOfficialBlockï¼‰æ¦‚å¿µã€‚æ¯ä¸ªå…¬æ–‡å—æ˜¯ä¸€ä¸ªä¸å¯éšæ„æ‹†åˆ†çš„é€»è¾‘å•å…ƒï¼Œæ¯”å¦‚"ä¸»é€æœºå…³"æ˜¯ä¸€ä¸ªå—ï¼Œ"æ­£æ–‡"æ˜¯ä¸€ä¸ªå—ã€‚</li>
</ul>
<h3 data-id="heading-5">1.3 æ ¸å¿ƒä»£ç ï¼šå…¬æ–‡æ¨¡æ¿çš„JSON Schemaè®¾è®¡</h3>
<p>è¿™æ˜¯æˆ‘ä»¬å®šä¹‰çš„å…¬æ–‡ç»“æ„è§„èŒƒï¼ˆèŠ‚é€‰ï¼‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// types/document.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">OfficialDocument</span> {
  <span class="hljs-attr">version</span>: <span class="hljs-string">'GB/T-9704-2012'</span>;
  <span class="hljs-attr">header</span>: {
    <span class="hljs-attr">issuingBody</span>: <span class="hljs-built_in">string</span>;     <span class="hljs-comment">// å‘æ–‡æœºå…³</span>
    <span class="hljs-attr">documentNumber</span>: <span class="hljs-built_in">string</span>;  <span class="hljs-comment">// å‘æ–‡å­—å·</span>
    <span class="hljs-attr">urgencyLevel</span>: <span class="hljs-string">'ç‰¹æ€¥'</span> | <span class="hljs-string">'åŠ æ€¥'</span> | <span class="hljs-string">'å¹³æ€¥'</span>;
  };
  <span class="hljs-attr">body</span>: <span class="hljs-title class_">OfficialBlock</span>[];  <span class="hljs-comment">// æ­£æ–‡ï¼Œç”±å¤šä¸ªå…¬æ–‡å—ç»„æˆ</span>
  attachments?: <span class="hljs-title class_">Attachment</span>[];
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">OfficialBlock</span> {
  <span class="hljs-attr">type</span>: <span class="hljs-string">'redHeader'</span> | <span class="hljs-string">'recipient'</span> | <span class="hljs-string">'text'</span> | <span class="hljs-string">'level1'</span> | <span class="hljs-string">'level2'</span> | <span class="hljs-string">'table'</span>;
  <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span> | <span class="hljs-title class_">TableContent</span>;
  <span class="hljs-attr">style</span>: {
    <span class="hljs-attr">fontFamily</span>: <span class="hljs-string">'ä»¿å®‹_GB2312'</span> | <span class="hljs-string">'é»‘ä½“'</span> | <span class="hljs-string">'æ¥·ä½“_GB2312'</span>;  <span class="hljs-comment">// ä¿¡åˆ›å­—ä½“</span>
    <span class="hljs-attr">fontSize</span>: <span class="hljs-built_in">number</span>;       <span class="hljs-comment">// ä¸‰å·=16ptï¼Œå°ä¸‰=15pt...</span>
    <span class="hljs-attr">lineHeight</span>: <span class="hljs-built_in">number</span>;     <span class="hljs-comment">// 28-30ç£…å›ºå®šå€¼</span>
  };
}
</code></pre>
<p><strong>é‡åˆ°çš„å‘ï¼š</strong> ä»¿å®‹_GB2312 è¿™ä¸ªå­—ä½“åœ¨Macå’ŒLinuxä¸Šè¡¨ç°å·®å¼‚å·¨å¤§ã€‚Windowsä¸Šçœ‹ç€å¥½å¥½çš„æ–‡æ¡£ï¼Œåœ¨å›½äº§ç³»ç»Ÿï¼ˆåŸºäºLinuxï¼‰ä¸Šæ‰“å¼€åè¡Œé«˜ä¼šä¹±æ‰ã€‚è§£å†³æ–¹æ¡ˆæ˜¯<strong>ç”¨CSSçš„<code>line-height: fixed</code> + å­—ä½“fallbackæ ˆ</strong>ï¼Œå¹¶ä¸”åœ¨å¯¼å‡ºWordæ—¶é‡æ–°è®¡ç®—è¡Œé«˜ã€‚</p>
<h3 data-id="heading-6">1.4 AIç”Ÿæˆæµç¨‹çš„ä¼˜åŒ–</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/693d88b4a428488d80064f9e3dd43b7c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770603516&amp;x-signature=lTmc3Igu8KhHzPB1AvBZAWYONZs%3D" alt="image.png" loading="lazy"/></p>
<p>æœ€åˆæˆ‘ä»¬ç›´æ¥æŠŠ"å†™ä¸€ç¯‡å…³äºXXçš„é€šçŸ¥"æ‰”ç»™GPT-5ï¼Œç»“æœç”Ÿæˆçš„å†…å®¹æ€»æ˜¯<strong>å¤ªå£è¯­åŒ–</strong>ï¼Œè€Œä¸”æ ¼å¼ç»å¸¸å‡ºé”™ã€‚</p>
<p>ä¼˜åŒ–åçš„æµç¨‹æ˜¯ï¼š</p>
<ol>
<li><strong>æ¨¡æ¿åŒ¹é…</strong>ï¼šå…ˆæ ¹æ®ç”¨æˆ·é€‰æ‹©çš„å…¬æ–‡ç±»å‹ï¼ˆé€šçŸ¥ã€é€šæŠ¥ã€è¯·ç¤ºã€æŠ¥å‘Šç­‰ï¼‰ï¼ŒåŠ è½½å¯¹åº”çš„Promptæ¨¡æ¿</li>
<li><strong>ç»“æ„åŒ–ç”Ÿæˆ</strong>ï¼šè¦æ±‚AIè¾“å‡ºJSONæ ¼å¼ï¼Œè€Œä¸æ˜¯Markdown</li>
<li><strong>è§„åˆ™æ ¡éªŒå±‚</strong>ï¼šç”¨æ­£åˆ™è¡¨è¾¾å¼æ ¡éªŒå…¬æ–‡è¦ç´ æ˜¯å¦é½å…¨ï¼ˆæ¯”å¦‚é€šçŸ¥å¿…é¡»æœ‰"ç‰¹æ­¤é€šçŸ¥"ç»“å°¾ï¼Œè¯·ç¤ºå¿…é¡»æœ‰"å¦¥å¦ï¼Œè¯·æ‰¹å¤"ï¼‰</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ai/officialWriter.ts</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">generateOfficialDoc</span>(<span class="hljs-params">params: GenerationParams</span>) {
  <span class="hljs-keyword">const</span> template = <span class="hljs-title function_">loadTemplate</span>(params.<span class="hljs-property">type</span>);
  
  <span class="hljs-keyword">const</span> structuredPrompt = <span class="hljs-string">`
  ä½ æ˜¯ä¸€ä¸ªä¸¥è°¨çš„å…¬æ–‡å†™ä½œåŠ©æ‰‹ã€‚è¯·æ ¹æ®ä»¥ä¸‹ä¿¡æ¯ï¼Œç”Ÿæˆç¬¦åˆGB/T 9704-2012çš„å…¬æ–‡å†…å®¹ã€‚
  å¿…é¡»è¾“å‡ºä¸ºJSONæ ¼å¼ï¼Œå­—æ®µå®šä¹‰å¦‚ä¸‹ï¼š<span class="hljs-subst">${JSON_SCHEMA}</span>
  
  ç”¨æˆ·è¾“å…¥ï¼š<span class="hljs-subst">${params.topic}</span>
  è¦æ±‚ï¼š<span class="hljs-subst">${params.requirements}</span>
  `</span>;
  
  <span class="hljs-keyword">const</span> raw = <span class="hljs-keyword">await</span> llm.<span class="hljs-title function_">generate</span>(structuredPrompt);
  <span class="hljs-keyword">const</span> doc = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(raw);
  
  <span class="hljs-comment">// è§„åˆ™æ ¡éªŒ</span>
  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">validateOfficialFormat</span>(doc)) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'ç”Ÿæˆå†…å®¹ä¸ç¬¦åˆå…¬æ–‡è§„èŒƒï¼Œè¯·é‡è¯•'</span>);
  }
  
  <span class="hljs-keyword">return</span> doc;
}
</code></pre>
<p><strong>æ•ˆæœï¼š</strong> ç”Ÿæˆä¸€ä»½æ ‡å‡†é€šçŸ¥çš„æ—¶é—´ä»äººå·¥30åˆ†é’Ÿç¼©çŸ­åˆ°AI 10ç§’ + äººå·¥å®¡æ ¸2åˆ†é’Ÿï¼Œ<strong>æ•ˆç‡æå‡90%</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-7">ç¬¬äºŒéƒ¨åˆ†ï¼šå›½äº§åŒ–é€‚é…çš„"è¸©å‘"å…¨è®°å½•</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/167b10c864d34b5c985e00c026bbfb87~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770603516&amp;x-signature=cZmP%2BjqFSi63bH9GLxIkXEeK7MI%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æœè¯´AIå…¬æ–‡åŠ©æ‰‹æ˜¯"ä»0åˆ°1çš„åˆ›é€ "ï¼Œé‚£å›½äº§åŒ–é€‚é…å°±æ˜¯"ä»èƒ½ç”¨åˆ°å¥½ç”¨çš„ç£¨ç º"ã€‚</p>
<p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯è®© <strong>JitWord</strong> èƒ½åœ¨<strong>ç»Ÿä¿¡UOS</strong>ã€<strong>éº’éºŸOS</strong>ç­‰å›½äº§æ“ä½œç³»ç»Ÿï¼Œä»¥åŠ<strong>360å®‰å…¨æµè§ˆå™¨</strong>ã€<strong>å¥‡å®‰ä¿¡å¯ä¿¡æµè§ˆå™¨</strong>ç­‰å›½äº§Chromiumå†…æ ¸æµè§ˆå™¨ä¸Šç¨³å®šè¿è¡Œã€‚</p>
<h3 data-id="heading-8">2.1 è¸©å‘ä¸€ï¼šWebSocketè¿æ¥çš„è¯¡å¼‚æ–­å¼€</h3>
<p><strong>ç°è±¡ï¼š</strong> åœ¨éº’éºŸV10ç³»ç»Ÿä¸Šï¼ŒååŒç¼–è¾‘æ€»æ˜¯è¿‡å‡ åˆ†é’Ÿå°±æ–­å¼€ï¼Œæç¤º"ç½‘ç»œå¼‚å¸¸"ï¼Œä½†ç”¨æˆ·æ˜æ˜èƒ½æ­£å¸¸åˆ·ç½‘é¡µã€‚</p>
<p><strong>æ’æŸ¥è¿‡ç¨‹ï¼š</strong></p>
<ol>
<li>é¦–å…ˆæ’æŸ¥Nginxé…ç½®ï¼Œä»¥ä¸ºæ˜¯<code>proxy_read_timeout</code>å¤ªçŸ­ï¼Œæ”¹æˆ3600ç§’ï¼Œæ— æ•ˆã€‚</li>
<li>æ£€æŸ¥æµè§ˆå™¨Networké¢æ¿ï¼Œå‘ç°å›½äº§æµè§ˆå™¨çš„æŸäº›å®‰å…¨ç­–ç•¥ä¼š<strong>ä¸»åŠ¨æ–­å¼€é™é»˜çš„WebSocketè¿æ¥</strong>ã€‚</li>
<li>æœ€åå‘ç°æ˜¯<strong>å¥‡å®‰ä¿¡å¯ä¿¡æµè§ˆå™¨</strong>å†…ç½®äº†"é•¿è¿æ¥ä¿æŠ¤"ç­–ç•¥ï¼Œè¶…è¿‡5åˆ†é’Ÿæ²¡æœ‰æ•°æ®äº¤äº’å°±ä¼šè‡ªåŠ¨æ–­å¼€ã€‚</li>
</ol>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¿ƒè·³æœºåˆ¶åŠ å¼ºç‰ˆ</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ReliableWebSocket</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">ws</span>: <span class="hljs-title class_">WebSocket</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">heartbeatInterval</span>: <span class="hljs-title class_">NodeJS</span>.<span class="hljs-property">Timer</span>;
  
  <span class="hljs-comment">// å›½äº§æµè§ˆå™¨çš„å¿ƒè·³é—´éš”è¦æ›´çŸ­</span>
  <span class="hljs-keyword">private</span> heartbeatDelay = <span class="hljs-title function_">isDomesticBrowser</span>() ? <span class="hljs-number">10000</span> : <span class="hljs-number">30000</span>; 
  
  <span class="hljs-title function_">connect</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ws</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>(url);
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">heartbeatInterval</span> = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// å‘é€ç©ºæ“ä½œæˆ–pingå¸§ï¼Œä¿æŒè¿æ¥æ´»æ€§</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">send</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'heartbeat'</span>, <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() });
    }, <span class="hljs-variable language_">this</span>.<span class="hljs-property">heartbeatDelay</span>);
  }
}
</code></pre>
<h3 data-id="heading-9">2.2 è¸©å‘äºŒï¼šå¯Œæ–‡æœ¬ç¼–è¾‘å™¨çš„è¾“å…¥æ³•å†²çª</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81e820b56dfb4f80a49f33a48b9d9297~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770603516&amp;x-signature=8oVyUX2qMJJqURsbadkubgoLO3E%3D" alt="ååŒ.png" loading="lazy"/></p>
<p>è¿™æ˜¯è®©æˆ‘æœ€æƒ³éª‚è¡—çš„å‘ã€‚</p>
<p><strong>ç°è±¡ï¼š</strong> åœ¨ç»Ÿä¿¡UOS + æœç‹—è¾“å…¥æ³•ï¼ˆå›½äº§ç‰ˆï¼‰ä¸‹ï¼Œè¾“å…¥ä¸­æ–‡æ—¶ï¼Œç¼–è¾‘å™¨å…‰æ ‡ä¼šä¹±è·³ï¼Œç”šè‡³åå­—ã€‚</p>
<p><strong>æ ¹å› åˆ†æï¼š</strong>
å›½äº§æ“ä½œç³»ç»Ÿçš„è¾“å…¥æ³•æ¶æ„å’ŒWindowså·®å¼‚å¾ˆå¤§ã€‚æˆ‘ä»¬ç”¨çš„ProseMirroråœ¨å¤„ç†<code>beforeinput</code>äº‹ä»¶æ—¶ï¼Œå’Œä¸€äº›å›½äº§è¾“å…¥æ³•çš„Compositionäº‹ä»¶å†²çªã€‚å…·ä½“è¡¨ç°ä¸ºï¼šè¾“å…¥æ³•å¼€å§‹åˆæˆï¼ˆcompositionstartï¼‰æ—¶ï¼ŒProseMirrorå°è¯•æ›´æ–°é€‰åŒºï¼Œå¯¼è‡´è¾“å…¥æ³•ä¸¢å¤±äº†ä¸Šä¸‹æ–‡ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong>
ä¸å¾—ä¸patchäº†ProseMirrorçš„viewæ¨¡å—ï¼Œåœ¨åˆæˆè¾“å…¥æœŸé—´<strong>æš‚åœæ‰€æœ‰è¿œç¨‹ååŒæ›´æ–°</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// patches/prosemirror-view.ts</span>
<span class="hljs-keyword">let</span> isComposing = <span class="hljs-literal">false</span>;

editorView.<span class="hljs-property">dom</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'compositionstart'</span>, <span class="hljs-function">() =&gt;</span> {
  isComposing = <span class="hljs-literal">true</span>;
  <span class="hljs-comment">// æš‚åœæ¥æ”¶è¿œç¨‹æ“ä½œï¼Œé¿å…å…‰æ ‡è·³åŠ¨</span>
  collaboration.<span class="hljs-title function_">pauseSync</span>();
});

editorView.<span class="hljs-property">dom</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'compositionend'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  isComposing = <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">const</span> finalData = e.<span class="hljs-property">data</span>;
  
  <span class="hljs-comment">// å»¶è¿Ÿæ¢å¤åŒæ­¥ï¼Œç­‰å¾…è¾“å…¥æ³•æ’å…¥å®Œæˆ</span>
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    collaboration.<span class="hljs-title function_">resumeSync</span>();
  }, <span class="hljs-number">100</span>);
});
</code></pre>
<h3 data-id="heading-10">2.3 è¸©å‘ä¸‰ï¼šå­—ä½“æ¸²æŸ“ä¸å¯¼å‡º</h3>
<p><strong>ç°è±¡ï¼š</strong> åŒæ ·çš„"ä»¿å®‹"ï¼Œåœ¨Windowsä¸Šå«"ä»¿å®‹"ï¼Œåœ¨å›½äº§ç³»ç»Ÿä¸Šå¯èƒ½å«"FangSong"ã€"Fangsong"ã€æˆ–è€…"Source Han Serif CN"ã€‚å…¬æ–‡è¦æ±‚å¿…é¡»ç”¨ä»¿å®‹_GB2312ï¼Œä½†è¿™ä¸ªå­—ä½“åœ¨æŸäº›å›½äº§ç³»ç»Ÿä¸Šæ²¡æœ‰é¢„è£…ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆä¸‰éƒ¨æ›²ï¼š</strong></p>
<ol>
<li><strong>å‰ç«¯é™çº§æ–¹æ¡ˆ</strong>ï¼šCSSè®¾ç½®<code>font-family: 'FangSong_GB2312', 'Source Han Serif CN', 'Noto Serif CJK SC', serif;</code></li>
<li><strong>åç«¯å­—ä½“åµŒå…¥</strong>ï¼šå¯¼å‡ºWordæ—¶ï¼Œå¦‚æœæ£€æµ‹ç›®æ ‡ç³»ç»Ÿç¼ºå°‘å­—ä½“ï¼Œç”¨Javaæ“ä½œPOIæŠŠå­—ä½“æ–‡ä»¶åµŒå…¥åˆ°ç”Ÿæˆçš„docxä¸­</li>
<li><strong>Webå­—ä½“é¢„åŠ è½½</strong>ï¼šåœ¨ç¼–è¾‘å™¨åˆå§‹åŒ–æ—¶ï¼Œå¼‚æ­¥åŠ è½½WOFF2æ ¼å¼çš„ä»¿å®‹å­—ä½“æ–‡ä»¶ï¼Œç¡®ä¿æ‰€è§å³æ‰€å¾—</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å¯¼å‡ºWordæ—¶çš„å­—ä½“åµŒå…¥é€»è¾‘ï¼ˆJavaå®ç°ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">embedFonts</span><span class="hljs-params">(XWPFDocument doc, String[] requiredFonts)</span> {
    <span class="hljs-keyword">for</span> (String fontName : requiredFonts) {
        <span class="hljs-keyword">if</span> (!systemHasFont(fontName)) {
            <span class="hljs-type">InputStream</span> <span class="hljs-variable">fontStream</span> <span class="hljs-operator">=</span> getClass().getResourceAsStream(<span class="hljs-string">"/fonts/"</span> + fontName + <span class="hljs-string">".ttf"</span>);
            doc.embedFont(fontName, fontStream);
        }
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-11">æ€§èƒ½ä¼˜åŒ–ï¼šè®©å›½äº§ç¡¬ä»¶ä¹Ÿèƒ½æµç•…è¿è¡Œ</h2>
<p>è¯´å®è¯ï¼Œå¾ˆå¤šå›½äº§ç»ˆç«¯çš„ç¡¬ä»¶é…ç½®ï¼ˆç‰¹åˆ«æ˜¯ä¿¡åˆ›ç¬”è®°æœ¬ï¼‰ä¸å¦‚ä¸»æµWindowsæœ¬ã€‚æˆ‘ä»¬åœ¨1ä¸ªæœˆå†…åšäº†ä»¥ä¸‹é’ˆå¯¹æ€§ä¼˜åŒ–ï¼š</p>
<h3 data-id="heading-12">è™šæ‹Ÿæ»šåŠ¨ + åˆ†å±‚æ¸²æŸ“</h3>
<p>å…¬æ–‡é€šå¸¸å¾ˆé•¿ï¼ˆå‡ åé¡µå¾ˆæ­£å¸¸ï¼‰ï¼Œæˆ‘ä»¬åœ¨ProseMirroråŸºç¡€ä¸Šå®ç°äº†<strong>è™šæ‹Ÿæ»šåŠ¨</strong>ï¼Œåªæ¸²æŸ“å¯è§†åŒºåŸŸå†…çš„DOMèŠ‚ç‚¹ã€‚åŒæ—¶æŠŠé™æ€å†…å®¹ï¼ˆå·²ç»å®šç¨¿çš„æ®µè½ï¼‰æ ‡è®°ä¸º<code>contenteditable: false</code>ï¼Œå‡å°‘MutationObserverçš„å¼€é”€ã€‚</p>
<h3 data-id="heading-13">AIç”Ÿæˆçš„é˜²æŠ–å¤„ç†</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/50c819b59c114b23ad6a9f4c5c9262e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770603516&amp;x-signature=hPXZ%2BjQN2bm0AyFTdOWiymRsTsQ%3D" alt="02.gif" loading="lazy"/></p>
<p>å½“AIç”Ÿæˆå¤§æ®µæ–‡æœ¬æ—¶ï¼Œä¸èƒ½ç›´æ¥ä¸€æ¬¡æ€§æ’å…¥ç¼–è¾‘å™¨ï¼ˆä¼šå¯¼è‡´å¡é¡¿ï¼‰ã€‚æˆ‘ä»¬æ”¹æˆäº†<strong>é€å¥æ’å…¥ + requestAnimationFrame</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">insertAIGeneratedContent</span>(<span class="hljs-params">content: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">const</span> sentences = content.<span class="hljs-title function_">split</span>(<span class="hljs-regexp">/([ã€‚ï¼ï¼Ÿ])/</span>);  <span class="hljs-comment">// æŒ‰å¥åˆ†å‰²</span>
  
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; sentences.<span class="hljs-property">length</span>; i += <span class="hljs-number">2</span>) {
    <span class="hljs-keyword">const</span> sentence = sentences[i] + (sentences[i+<span class="hljs-number">1</span>] || <span class="hljs-string">''</span>);
    
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> {
      <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
        editor.<span class="hljs-title function_">insertText</span>(sentence);
        <span class="hljs-title function_">resolve</span>(<span class="hljs-literal">null</span>);
      });
    });
    
    <span class="hljs-comment">// æ¯5å¥æš‚åœä¸€ä¸‹ï¼Œè®©UIçº¿ç¨‹å–˜æ¯</span>
    <span class="hljs-keyword">if</span> (i % <span class="hljs-number">5</span> === <span class="hljs-number">0</span>) <span class="hljs-keyword">await</span> <span class="hljs-title function_">sleep</span>(<span class="hljs-number">10</span>);
  }
}
</code></pre>
<hr/>
<h2 data-id="heading-14">æœ€ç»ˆæ•ˆæœä¸åœºæ™¯å±•ç¤º</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c7f8d77799e4421faf9ed181c0d61178~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770603516&amp;x-signature=X8RxFKvtlJ7fbU0n%2FocY3YDX39U%3D" alt="2026-01-15 10.52.12.gif" loading="lazy"/></p>
<h3 data-id="heading-15">å…¬æ–‡åŠ©æ‰‹å®é™…åº”ç”¨åœºæ™¯</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8647f345b8fc4ff081a7824a206b87a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770603516&amp;x-signature=OESMbmwDRP7ot7YAUZOidCFwnX8%3D" alt="jitword-gw.png" loading="lazy"/></p>
<p><strong>åœºæ™¯1ï¼šæ”¿åºœæœºå…³çš„è¯·ç¤ºæŠ¥å‘Š</strong></p>
<ul>
<li>è¾“å…¥ï¼š"å…³äºç”³è¯·ä¿¡æ¯åŒ–å»ºè®¾ç»è´¹çš„è¯·ç¤º"</li>
<li>AIç”Ÿæˆï¼šè‡ªåŠ¨åŒ¹é…"è¯·ç¤º"æ¨¡æ¿ï¼Œç”Ÿæˆçº¢å¤´ã€å‘æ–‡å­—å·ã€æ­£æ–‡ã€ç»“å°¾è¯­</li>
<li>äººå·¥è°ƒæ•´ï¼šåªéœ€å¡«å†™å…·ä½“é‡‘é¢å’Œé¡¹ç›®æ˜ç»†</li>
<li>å¯¼å‡ºï¼šç›´æ¥ç”Ÿæˆç¬¦åˆçœçº§åŠå…¬å…æ ¼å¼è¦æ±‚çš„Wordæ–‡ä»¶</li>
</ul>
<p><strong>åœºæ™¯2ï¼šå›½ä¼çš„å‘æ–‡é€šçŸ¥</strong></p>
<ul>
<li>ååŒï¼šåŠå…¬å®¤ä¸»ä»»èµ·è‰ï¼Œåˆ†ç®¡é¢†å¯¼åœ¨çº¿æ‰¹æ³¨ä¿®æ”¹ï¼Œæ³•åŠ¡å®¡æ ¸åˆè§„æ€§</li>
<li>ç•™ç—•ï¼šæ‰€æœ‰ä¿®æ”¹è®°å½•ä¿å­˜ï¼Œæ»¡è¶³å…¬æ–‡å½’æ¡£çš„å®¡è®¡è¦æ±‚</li>
<li>å¥—çº¢ï¼šä¸€é”®ç”Ÿæˆå¸¦çº¢è‰²æŠ¬å¤´çš„æ­£å¼å…¬æ–‡ç‰ˆå¼</li>
</ul>
<h3 data-id="heading-16">å›½äº§åŒ–é€‚é…éªŒè¯ç¯å¢ƒ</h3>
<p>æˆ‘ä»¬åœ¨ä»¥ä¸‹ç¯å¢ƒå®Œæˆäº†å®Œæ•´æµ‹è¯•ï¼š</p>
<ul>
<li><strong>æ“ä½œç³»ç»Ÿ</strong>ï¼šç»Ÿä¿¡UOS 1060ã€éº’éºŸV10 SP1ã€ä¸­ç§‘æ–¹å¾·</li>
<li><strong>CPUæ¶æ„</strong>ï¼šx86_64ã€ARM64ï¼ˆé²²é¹920ã€é£è…¾2000ï¼‰</li>
<li><strong>æµè§ˆå™¨</strong>ï¼š360å®‰å…¨æµè§ˆå™¨v13ã€å¥‡å®‰ä¿¡å¯ä¿¡æµè§ˆå™¨ã€ç«ç‹ä¸­å›½æµè§ˆå™¨</li>
</ul>
<hr/>
<h2 data-id="heading-17">æŠ€æœ¯æ€»ç»“ä¸åæ€</h2>
<p>è¿™1ä¸ªæœˆçš„"åŒçº¿ä½œæˆ˜"ï¼Œæœ€å¤§çš„æ”¶è·ä¸æ˜¯åŠŸèƒ½æœ¬èº«ï¼Œè€Œæ˜¯å¯¹<strong>ä¿¡åˆ›ç¯å¢ƒä¸‹çš„Webå¼€å‘</strong>æœ‰äº†æ›´æ·±ç†è§£ï¼š</p>
<ol>
<li>
<p><strong>ä¸è¦ç›¸ä¿¡æµè§ˆå™¨çš„UserAgent</strong>ï¼šå›½äº§æµè§ˆå™¨éƒ½ä¼ªè£…æˆChromeï¼Œä½†è¡Œä¸ºå¯èƒ½å®Œå…¨ä¸åŒã€‚å¿…é¡»åšç‰¹æ€§æ£€æµ‹ï¼ˆfeature detectionï¼‰è€Œéæµè§ˆå™¨å—…æ¢ã€‚</p>
</li>
<li>
<p><strong>å¯Œæ–‡æœ¬ç¼–è¾‘å™¨è¦"é˜²å¾¡æ€§ç¼–ç¨‹"</strong>ï¼šè¾“å…¥æ³•ã€é€‰åŒºã€æ»šåŠ¨è¿™äº›åœ¨æ ‡å‡†æµè§ˆå™¨ä¸Šç¨³å®šçš„åŠŸèƒ½ï¼Œåœ¨ç‰¹æ®Šç¯å¢ƒä¸‹å¯èƒ½æœ‰å„ç§å¥‡å¥‡æ€ªæ€ªçš„è¡¨ç°ã€‚ä»£ç è¦æ›´ä¿å®ˆï¼Œtry-catchè¦æ›´å¯†é›†ã€‚</p>
</li>
<li>
<p><strong>AIç”Ÿæˆå¿…é¡»åæ¥è§„åˆ™æ ¡éªŒ</strong>ï¼šå¤§æ¨¡å‹æœ‰å¹»è§‰ï¼Œå…¬æ–‡åˆæ˜¯æå…¶ä¸¥è°¨çš„ä½“è£ã€‚AIè´Ÿè´£"å¿«"ï¼Œè§„åˆ™å¼•æ“è´Ÿè´£"å‡†"ï¼Œä¸¤è€…ç»“åˆæ‰èƒ½å®ç”¨ã€‚</p>
</li>
<li>
<p><strong>å­—ä½“å’Œæ’ç‰ˆæ˜¯ä¿¡åˆ›éšå½¢å¤§å‘</strong>ï¼šä¸­è¥¿æ–‡æ··æ’ã€è¡Œé«˜è®¡ç®—ã€å­—ä½“å›é€€ï¼Œè¿™äº›ç»†èŠ‚å†³å®šäº†äº§å“çœ‹èµ·æ¥æ˜¯"ä¸šä½™demo"è¿˜æ˜¯"æ­£å¼äº§å“"ã€‚</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-18">å¦‚ä½•é›†æˆå’Œä½“éªŒï¼Ÿ</h2>
<p><strong>JitWord</strong> ç›®å‰ä¸»è¦é¢å‘<strong>ä¼ä¸šçº§ç”¨æˆ·</strong>å’Œ<strong>å¼€å‘è€…é›†æˆ</strong>ã€‚</p>
<ul>
<li><strong>åœ¨çº¿æ¼”ç¤º</strong>ï¼šå¦‚æœä½ æƒ³çœ‹çœ‹AIå…¬æ–‡åŠ©æ‰‹çš„å®é™…æ•ˆæœï¼Œå¯ä»¥è®¿é—®æˆ‘ä»¬çš„æ¼”ç¤ºç¯å¢ƒï¼ˆæ–‡ä¸­ä¸æ”¾é“¾æ¥äº†ï¼Œæ˜é‡‘ç§ä¿¡æˆ‘æˆ–è¯„è®ºè·å–ï¼‰</li>
<li><strong>ç§æœ‰åŒ–éƒ¨ç½²</strong>ï¼šæ”¯æŒå›½äº§æœåŠ¡å™¨ç§æœ‰åŒ–éƒ¨ç½²ï¼Œé€‚é…ä¿¡åˆ›ç¯å¢ƒ</li>
<li><strong>SDKé›†æˆ</strong>ï¼šæä¾›JavaScript SDKï¼Œå¯ä»¥Embedåˆ°ä½ çš„ä¸šåŠ¡ç³»ç»Ÿä¸­</li>
</ul>
<p>å¦‚æœä½ ä¹Ÿæ˜¯<strong>æ­£åœ¨åšä¿¡åˆ›æ”¹é€ çš„æŠ€æœ¯è´Ÿè´£äºº</strong>ï¼Œæˆ–è€…<strong>éœ€è¦å…¬æ–‡å¤„ç†èƒ½åŠ›çš„äº§å“ç»ç†</strong>ï¼Œæ¬¢è¿è¯„è®ºåŒºäº¤æµè¸©å‘ç»éªŒã€‚å›½äº§åŒ–è¿™æ¡è·¯ï¼Œå¤§å®¶äº’ç›¸æ€æ‰¶æ‰èƒ½èµ°å¾—å¿«ä¸€ç‚¹ã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿå¼€æºäº†ä¸€ç‰ˆsdkï¼Œå¤§å®¶å¯ä»¥è½»æ¾æœ¬åœ°ä½¿ç”¨å’Œé›†æˆï¼š</p>
<p>githubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMrXujiang%2Fjitword-sdk" target="_blank" title="https://github.com/MrXujiang/jitword-sdk" ref="nofollow noopener noreferrer">github.com/MrXujiang/jâ€¦</a></p>
<hr/>
<h2 data-id="heading-19">æœªæ¥è§„åˆ’</h2>
<p>è¿™1ä¸ªæœˆçš„æ”»åšåªæ˜¯å¼€å§‹ï¼Œæ¥ä¸‹æ¥çš„ roadmap åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>æ™ºèƒ½æ ¡å¯¹</strong>ï¼šæ¥å…¥NLPæ¨¡å‹ï¼Œè‡ªåŠ¨æ£€æŸ¥å…¬æ–‡ä¸­çš„æ”¿æ²»æœ¯è¯­å‡†ç¡®æ€§ã€æ•°å­—é€»è¾‘ä¸€è‡´æ€§ï¼ˆæ¯”å¦‚"2024å¹´"ä¸èƒ½å†™æˆ"2024å¹´åº¦"åœ¨æŸäº›è¯­å¢ƒä¸‹ï¼‰</li>
<li><strong>æ‰‹å†™ç­¾æ‰¹</strong>ï¼šå¯¹æ¥å›½äº§æ‰‹å†™æ¿å’Œç­¾ç« ç³»ç»Ÿï¼Œå®ç°ç§»åŠ¨ç«¯æ‰¹å…¬æ–‡</li>
<li><strong>æ›´å¤šå…¬æ–‡ç±»å‹</strong>ï¼šä»ç°åœ¨çš„é€šçŸ¥ã€è¯·ç¤ºã€æŠ¥å‘Šï¼Œæ‰©å±•åˆ°ä¼šè®®çºªè¦ã€å‡½ã€è®®æ¡ˆç­‰15ç§æ³•å®šå…¬æ–‡</li>
</ul>
<hr/>
<p><strong>æŠ€æœ¯æ ˆå½©è›‹</strong> ğŸ¯</p>
<p>å¦‚æœä½ åœ¨å…³æ³¨ç›¸å…³æŠ€æœ¯æ–¹å‘ï¼Œè¿™æ˜¯æˆ‘ä»¬ç”¨çš„æ ¸å¿ƒæ ˆï¼Œä¹Ÿæ˜¯ç›®å‰å¸‚é¢ä¸Šæ¯”è¾ƒçƒ­é—¨çš„æŠ€æœ¯æ–¹å‘ï¼š</p>
<ul>
<li><strong>Vue3</strong> + <strong>Vite</strong> + <strong>TypeScript</strong>ï¼ˆå‰ç«¯ï¼‰</li>
<li><strong>NestJS</strong> + <strong>TypeORM</strong>ï¼ˆåç«¯ï¼Œæ”¯æŒå›½äº§æ•°æ®åº“é€‚é…ï¼‰ğŸš€</li>
<li><strong>ProseMirror</strong>ï¼ˆç¼–è¾‘å™¨å†…æ ¸ï¼Œæ·±åº¦å®šåˆ¶ï¼‰</li>
<li><strong>Yjs</strong>ï¼ˆCRDTååŒç®—æ³•ï¼‰ğŸ§©</li>
<li><strong>Docker</strong> + <strong>K8s</strong>ï¼ˆéƒ¨ç½²ï¼‰</li>
</ul>
<hr/>
<p>è§‰å¾—æœ‰ç”¨çš„è¯ï¼Œç‚¹ä¸ªèµæˆ–è€…æ”¶è—å§ã€‚ä¿¡åˆ›é€‚é…è¿™æ¡è·¯å¾ˆé•¿ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®ä½ å°‘èµ°äº›å¼¯è·¯ã€‚æœ‰ä»»ä½•æŠ€æœ¯é—®é¢˜ï¼Œè¯„è®ºåŒºç•™è¨€ï¼Œæˆ‘çœ‹åˆ°éƒ½ä¼šå›å¤ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ˜¥å“¥çš„Agenté€šå…³ç§˜ç±02ï¼šæ­å»ºç¯å¢ƒåŠè¯­è¨€é€‰æ‹©]]></title>    <link>https://juejin.cn/post/7601419065128239123</link>    <guid>https://juejin.cn/post/7601419065128239123</guid>    <pubDate>2026-02-02T00:07:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601419065128239123" data-draft-id="7601419065128222739" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ˜¥å“¥çš„Agenté€šå…³ç§˜ç±02ï¼šæ­å»ºç¯å¢ƒåŠè¯­è¨€é€‰æ‹©"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,Python"/> <meta itemprop="datePublished" content="2026-02-02T00:07:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‘¸é±¼çš„æ˜¥å“¥"/> <meta itemprop="url" content="https://juejin.cn/user/1714893870865303"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ˜¥å“¥çš„Agenté€šå…³ç§˜ç±02ï¼šæ­å»ºç¯å¢ƒåŠè¯­è¨€é€‰æ‹©
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1714893870865303/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‘¸é±¼çš„æ˜¥å“¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T00:07:51.000Z" title="Mon Feb 02 2026 00:07:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;font-weight:400;line-height:2;font-size:17px;overflow-x:hidden;color:#000}.markdown-body strong{padding:1px;color:#ee3f4d}.markdown-body em{padding:0 2px;color:#f33b1f}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{position:relative;margin-top:30px;margin-bottom:20px;line-height:1.5;font-weight:700}.markdown-body h1{text-align:center;padding-bottom:5px;font-size:32px;color:#ac1f18}.markdown-body h1:after{content:"";display:block;margin:4px auto 0;width:100px;height:2px;border-bottom:2px solid #f33b1f}.markdown-body h2{font-size:28px;border-bottom:1px solid #f33b1f}.markdown-body h2:before{content:"# "!important;color:#f33b1f}.markdown-body h3{font-size:24px;padding-left:9px;border-left:6px solid #f33b1f}.markdown-body h4{font-size:20px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #bbb;margin:16px 0}.markdown-body code{word-break:break-word;overflow-x:auto;background-color:#f9f1db;color:#ee2746;border-radius:2px;font-size:16px;padding:1px 2px}.markdown-body code,.markdown-body pre{font-family:-apple-system,-apple-system-body,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,PingFang SC,æ€æºé»‘ä½“ CN,æ€æºé»‘ä½“,JetBrains Mono,Fira Code,Menlo,Ubuntu Mono,Consolas,sans-serif}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{margin:12px 0!important;border-radius:3px;font-size:15px;padding:16px 12px;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f7f7f7}.markdown-body a{text-decoration:none;color:#1781b5;padding:0 2px;border-bottom:1px solid #1781b5}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #f33b1f;color:#ac1f18}.markdown-body blockquote{color:#3d3d3d;background-color:#fff9f9;padding:6px 16px;margin:16px 0;border-left:3px solid #f07c82}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:6px 0}.markdown-body ol,.markdown-body ul{padding-left:30px}.markdown-body ol li,.markdown-body ul li{margin-bottom:6px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:6px}.markdown-body ol li{padding-left:6px}.markdown-body ::marker{color:#f33b1f}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body .task-list-item input[type=checkbox]{position:relative}.markdown-body .task-list-item input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:#fff;border:1px solid #f07c82;border-radius:3px;box-sizing:border-box;z-index:1}.markdown-body .task-list-item input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-5px;left:0;right:0;bottom:0;width:0;height:0;color:#f33b1f;font-size:16px;font-weight:700;z-index:2}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border-spacing:0;border-collapse:collapse}.markdown-body table thead{background:#fff9f9;color:#000;text-align:left;font-size:15px}.markdown-body table tr:nth-child(2n){background-color:#fcfcfc}.markdown-body table tr:hover{background-color:#fff9f9}.markdown-body table td,.markdown-body table th{padding:12px 7px;line-height:24px;border:1px solid #f9f1db}.markdown-body table td{min-width:120px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="monokai">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#272822;color:#ddd}.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-strong,.hljs-tag{color:#f92672}.hljs-code{color:#66d9ef}.hljs-class .hljs-title{color:#fff}.hljs-attribute,.hljs-link,.hljs-regexp,.hljs-symbol{color:#bf79db}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-emphasis,.hljs-section,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-string,.hljs-subst,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type,.hljs-variable{color:#a6e22e}.hljs-comment,.hljs-deletion,.hljs-meta,.hljs-quote{color:#75715e}.hljs-doctag,.hljs-keyword,.hljs-literal,.hljs-section,.hljs-selector-id,.hljs-selector-tag,.hljs-title,.hljs-type{font-weight:700}</style><p>å¾ˆå¤šæƒ³å­¦ AI å¼€å‘çš„æœ‹å‹ï¼Œå¾€å¾€å€’åœ¨äº†ç¬¬ä¸€æ­¥ï¼šé…ç¯å¢ƒã€‚</p>
<p>æˆ‘ä»¬è¦åšçš„ä¸æ˜¯ç®€å•çš„â€œå®‰è£…è½¯ä»¶â€ï¼Œè€Œæ˜¯æ„å»ºä¸€ä¸ªä¸“ä¸šçš„æ•°å­—åŒ–å·¥ä½œå°ã€‚</p>
<p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†è§£é‡Šä¸ºä»€ä¹ˆ Python æ˜¯ä¸äºŒä¹‹é€‰ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ Condaï¼Œå¹¶å¸¦ä½ ä»é›¶å¼€å§‹è·‘é€šç¬¬ä¸€è¡Œ AI ä»£ç ï¼ˆä»¥ DeepSeek ä¸ºä¾‹ï¼‰ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆæ˜¯ Python</h2>
<p>è™½ç„¶ Javaã€Goã€JavaScript ä¹Ÿèƒ½å†™ AI åº”ç”¨ï¼Œä½†æ˜¯ã€‚</p>
<p>åœ¨ AI Agent å¼€å‘é¢†åŸŸï¼ŒPython æ˜¯ç»å¯¹çš„â€œç¬¬ä¸€å…¬æ°‘â€ï¼Œå®ƒæ‹¥æœ‰æ— æ³•æ’¼åŠ¨çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>
<p>ç»Ÿæ²»çº§çš„ç”Ÿæ€ï¼šå‡ ä¹æ‰€æœ‰ä¸»æµ AI æ¡†æ¶ï¼ˆPyTorch, LangChain, CrewAIï¼‰éƒ½ä¼˜å…ˆå‘å¸ƒ Python ç‰ˆã€‚</p>
</li>
<li>
<p>èƒ¶æ°´è¯­è¨€ï¼šAgent çš„æ ¸å¿ƒæ˜¯â€œè¿æ¥â€â€”â€”è¿æ¥å¤§æ¨¡å‹ã€è¿æ¥ APIã€è¿æ¥æœ¬åœ°æ–‡ä»¶ã€‚Python å†™è¿™ç§è¿æ¥é€»è¾‘æœ€å¿«ã€‚</p>
</li>
<li>
<p>é—¨æ§›ä½ï¼šå®ƒçš„è¯­æ³•æ¥è¿‘è‹±è¯­ï¼Œè®©ä½ èƒ½æŠŠç²¾åŠ›é›†ä¸­åœ¨â€œè®¾è®¡æ™ºèƒ½ä½“é€»è¾‘â€ä¸Šï¼Œè€Œä¸æ˜¯çº ç»“è¯­æ³•ç»†èŠ‚ã€‚</p>
</li>
</ul>
<p>ç»“è®ºï¼šæƒ³åš AI Agentï¼Œé¦–é€‰ Pythonã€‚</p>
<p>å°¤å…¶æ˜¯å­¦ä¹ çš„è¯ï¼Œå…ˆå­¦ pythonï¼Œé¢å‘æœ€å…ˆè¿›æœ€å…¨é¢çš„å·¥å…·é“¾æ˜¯æœ€ä¼˜é€‰ï¼Œç­‰pythonè¿™å—ç†Ÿæ‚‰åŸç†äº†ï¼Œå†æŒ‰è¯‰æ±‚è¾å°„åˆ°è‡ªå·±éœ€è¦çš„åœºæ™¯å’Œè¯­è¨€ä¹Ÿæ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚</p>
<p><img src="https://pic.zhangshichun.top/pic/20260131131848180.png" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">äºŒã€ ä¸ºä»€ä¹ˆè¦ç”¨ Minicondaï¼Ÿ</h2>
<p>å¾ˆå¤šæ–°æ‰‹ä¼šç›´æ¥å» Python å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…ï¼Œè¿™å…¶å®æ˜¯ä¸ªâ€œå¤§å‘â€ã€‚</p>
<p>åœ¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ç®¡ç†å„ç§å¤æ‚çš„åº“ï¼ˆä¾èµ–ï¼‰ã€‚ä¸ºäº†é˜²æ­¢é¡¹ç›® A çš„åº“å’Œé¡¹ç›® B çš„åº“æ‰“æ¶ï¼ˆç‰ˆæœ¬å†²çªï¼‰ï¼Œæˆ‘ä»¬éœ€è¦ <strong>â€œè™šæ‹Ÿç¯å¢ƒâ€</strong>ã€‚</p>
<p>ä¸ºä»€ä¹ˆä¸ç”¨ <code>Docker</code> ï¼Ÿ</p>
<ul>
<li>Dockerè™½ç„¶éš”ç¦»æ€§æœ€å¥½ï¼Œä½†å¯¹åˆå­¦è€…æ¥è¯´ï¼Œæ“ä½œæ–‡ä»¶å’Œè°ƒè¯•å¤ªéº»çƒ¦ï¼Œé˜»ç¢å­¦ä¹ å¿ƒæµã€‚</li>
<li>ä¹±ä¸ƒå…«ç³Ÿçš„ç¯å¢ƒé—®é¢˜ä¼šè®©åˆå­¦è€…ä¿¡å¿ƒå—æŒ«ï¼Œå®¹æ˜“è¢«æ‰“æ–­å­¦ä¹ è¿›ç¨‹ã€‚</li>
</ul>
<p><code>Miniconda</code> æœ‰å“ªäº›ä¼˜åŠ¿ï¼Ÿ</p>
<p><code>Miniconda</code> æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ç¯å¢ƒç®¡ç†å·¥å…·ã€‚</p>
<ul>
<li>
<p>å®ƒå¯ä»¥å¸®ä½ ä¸€é”®åˆ‡æ¢ Python ç‰ˆæœ¬ï¼ˆ3.10, 3.11, 3.12 éšæ„åˆ‡ï¼‰ã€‚</p>
</li>
<li>
<p>å®ƒèƒ½åˆ›å»ºç‹¬ç«‹çš„â€œæ²™ç›’â€ï¼Œè®©ä½ éšæ„æŠ˜è…¾è€Œä¸ç ´åç”µè„‘ç³»ç»Ÿã€‚</p>
</li>
<li>
<p>å®ƒå¯¹æ–‡ä»¶ç³»ç»Ÿçš„æ“ä½œæ¯” <code>docker</code> æ–¹ä¾¿ä¸€ä¸‡å€ï¼Œä¸éœ€è¦æŒ‚è½½ä»€ä¹ˆ<code>volumes</code>æ˜ å°„ï¼Œå¯¹åˆå­¦è€…è¿è´¯å­¦ä¹ æ›´æ–¹ä¾¿ã€‚</p>
</li>
</ul>
<p><img src="https://pic.zhangshichun.top/pic/20260131133124958.png" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">ä¸‰ã€ æ‰‹æŠŠæ‰‹æ­å»ºç¯å¢ƒ</h2>
<h3 data-id="heading-3">ç¬¬ä¸€æ­¥ï¼šå®‰è£… MinicondaåŠç¯å¢ƒå˜é‡</h3>
<p>è®¿é—® Miniconda å®˜ç½‘ ä¸‹è½½å¯¹åº”ç³»ç»Ÿçš„å®‰è£…åŒ…ã€‚åœ°å€ï¼š<a href="https://link.juejin.cn?target=docs.conda.io%2Fen%2Flatest%2Fminiconda.html" target="_blank" title="docs.conda.io/en/latest/miniconda.html" ref="nofollow noopener noreferrer">docs.conda.io/en/latest/mâ€¦</a></p>
<p>å®‰è£…ä¹‹åï¼Œè®°å¾—æŠŠå®‰è£…æ–‡ä»¶å¤¹ä¸‹<code>condabin</code>ç›®å½•åŠ å…¥åˆ°ç¯å¢ƒå˜é‡é‡Œã€‚ï¼ˆé’ˆå¯¹windowsç”¨æˆ·å“ˆï¼‰</p>
<p>æ¯”å¦‚æˆ‘çš„ï¼Œå°±æ˜¯æŠŠ <code>D:\miniconda\condabin</code> åŠ å…¥åˆ°ç¯å¢ƒå˜é‡ã€‚</p>
<p><img src="https://pic.zhangshichun.top/pic/20260131155507332.png" alt="" loading="lazy"/></p>
<p>ä»¥ <code>cmd</code> èƒ½æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">conda --version
</code></pre>
<p><img src="https://pic.zhangshichun.top/pic/20260201093046760.png" alt="" loading="lazy"/></p>
<p>è¾“å‡º<code>25.11.1</code>è¿™æ ·çš„ç‰ˆæœ¬å·å°±ä»£è¡¨ç¯å¢ƒå˜é‡é…ç½®okã€‚</p>
<h3 data-id="heading-4">ç¬¬äºŒæ­¥ï¼šåˆ›å»º AI ä¸“å±ç¯å¢ƒ</h3>
<p>æ‰“å¼€ä½ çš„ç»ˆç«¯ï¼ˆWindows ç”¨æˆ·æ¨è PowerShellï¼ŒMac ç”¨æˆ·ç”¨ Terminalï¼‰ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. åˆ›å»ºä¸€ä¸ªåä¸º ai_agent çš„ç¯å¢ƒï¼ŒæŒ‡å®šä½¿ç”¨ Python 3.11ï¼ˆç¨³å®šæ€§æœ€ä½³ï¼‰</span>
conda create -n ai_agent python=3.11 -y

<span class="hljs-comment"># 2. æ¿€æ´»ç¯å¢ƒï¼ˆçœ‹åˆ°å‘½ä»¤è¡Œå‰ç¼€å˜æˆ (ai_agent) å³æˆåŠŸï¼‰</span>
conda activate ai_agent
</code></pre>
<p>è¿™é‡Œ <code>powerShell</code> å¯èƒ½ä¼šé‡åˆ°ä¸€ä¸ªå‘ï¼šæ‰§è¡Œå®Œ <code>conda activate ai_agent</code> åæ²¡ååº”ã€‚</p>
<ul>
<li>
<p>åŸå› ï¼šPowerShell çš„å®‰å…¨ç­–ç•¥é»˜è®¤æ¯”è¾ƒä¸¥æ ¼ï¼Œç¦æ­¢è¿è¡Œæœªç­¾åçš„è„šæœ¬ï¼ˆConda çš„æ¿€æ´»è„šæœ¬æœ¬è´¨ä¸Šæ˜¯ä¸€æ®µ PowerShell è„šæœ¬ï¼‰ã€‚</p>
</li>
<li>
<p>è§£å†³æ–¹æ³•ï¼šä½ éœ€è¦èµ‹äºˆ PowerShell æ‰§è¡Œæƒé™ã€‚</p>
<ul>
<li>
<p>ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ PowerShellã€‚</p>
</li>
<li>
<p>è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
</code></pre>
<ul>
<li>è¾“å…¥ Y ç¡®è®¤</li>
<li>é‡æ–°è¿è¡Œ <code>conda init powershell</code>ï¼Œç„¶åé‡å¯ PowerShell çª—å£ã€‚</li>
</ul>
</li>
</ul>
<p>åˆ†åˆ«æ‰§è¡Œä»¥ä¸‹ä»£ç åï¼š</p>
<pre><code class="hljs language-css" lang="css">conda activate ai_agent
python <span class="hljs-attr">--version</span>
</code></pre>
<p><img src="https://pic.zhangshichun.top/pic/20260201093259212.png" alt="" loading="lazy"/>
å¦‚æœèƒ½æˆåŠŸæ˜¾ç¤ºpythonçš„ç‰ˆæœ¬å·ä»£è¡¨okã€‚</p>
<h2 data-id="heading-5">å››ã€æ¥å…¥Deepseekå¤§æ¨¡å‹</h2>
<p><code>deepseek</code> è¢«ç§°ä¸ºæ€§ä»·æ¯”ä¹‹ç‹ã€‚åŸå› åœ¨äºtokenå•ä»·éå¸¸åˆ’ç®—ï¼Œè€Œä¸”å¯¹äºå›½å†…ç”¨æˆ·æ¥è¯´ç½‘ç»œæ¡ä»¶æ”¯æŒä¹Ÿæ˜¯æå¥½çš„ï¼Œæ‰€ä»¥éå¸¸é€‚åˆå­¦ä¹ é€‰æ‹©ã€‚</p>
<p>è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.deepseek.com%2Fusage" target="_blank" title="https://platform.deepseek.com/usage" ref="nofollow noopener noreferrer">platform.deepseek.com/usage</a> å¯ä»¥éå¸¸ä¾¿æ·åœ°å®Œæˆæ³¨å†Œå’Œå……å€¼ï¼Œ2-3å—é’±å°±è¶³å¤Ÿç”¨å¾ˆä¹…å¾ˆä¹…äº†ã€‚</p>
<p>ç„¶ååœ¨ <code>api keys</code> é¡µé¢åˆ›å»ºä¸€ä¸ª <code>API Key</code>ï¼Œå¤åˆ¶è¿™ä¸ªkeyï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥ä¼šç”¨åˆ°ã€‚</p>
<h3 data-id="heading-6">4.1 å®‰è£…æ ¸å¿ƒåº“</h3>
<p>éšä¾¿åˆ›å»ºä¸€ä¸ªå­¦ä¹ ç”¨çš„æ–‡ä»¶å¤¹ï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹é‡Œæ‰“å¼€å‘½ä»¤è¡Œï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">conda activate ai_agent
pip install openai python-dotenv pydantic
</code></pre>
<h3 data-id="heading-7">4.2 é…ç½®ä½ çš„key</h3>
<p>æ°¸è¿œä¸è¦æŠŠ API Key ç›´æ¥å†™åœ¨ä»£ç é‡Œï¼ ä¸€æ—¦ä½ ä¸å°å¿ƒæˆªå›¾æˆ–æŠŠä»£ç ä¸Šä¼  GitHubï¼ŒKey å°±ä¼šæ³„éœ²ã€‚</p>
<p>æˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º .env çš„æ–‡ä»¶ï¼ˆæ³¨æ„å‰é¢æœ‰ä¸ªç‚¹ï¼‰ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-.env" lang=".env"># è¿™é‡Œçš„ Key ä»…ä½œç¤ºä¾‹ï¼Œè¯·æ›¿æ¢ä¸ºä½ è‡ªå·±çš„
DEEP_SEEK_API_KEY=sk-xxxx
DEEP_SEEK_API_URL=https://api.deepseek.com
</code></pre>
<h3 data-id="heading-8">4.3 3. ç¼–å†™â€œHello Worldâ€æµ‹è¯•è„šæœ¬</h3>
<p>æ–°å»ºä¸€ä¸ªæ–‡ä»¶ check_env.pyï¼Œç²˜è´´ä»¥ä¸‹ä»£ç ã€‚è¿™æ®µä»£ç ä¼šè‡ªåŠ¨è¯»å– .env é‡Œçš„é…ç½®æ¥è¿æ¥ DeepSeekã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv
<span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI

<span class="hljs-comment"># 1. åŠ è½½ç¯å¢ƒå˜é‡</span>
load_dotenv()

<span class="hljs-comment"># 2. ä»ç¯å¢ƒè¯»å–é…ç½®</span>
api_key = os.getenv(<span class="hljs-string">"DEEP_SEEK_API_KEY"</span>)
base_url = os.getenv(<span class="hljs-string">"DEEP_SEEK_API_URL"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ­£åœ¨æ£€æŸ¥ç¯å¢ƒé…ç½®..."</span>)

<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> api_key:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ é”™è¯¯ï¼šæœªæ‰¾åˆ° API KEYï¼Œè¯·æ£€æŸ¥ .env æ–‡ä»¶"</span>)
<span class="hljs-keyword">else</span>:
    <span class="hljs-comment"># ä¸ºäº†å®‰å…¨ï¼Œåªæ‰“å°å‰å‡ ä½å’Œåå‡ ä½</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… API Key è¯»å–æˆåŠŸ: <span class="hljs-subst">{api_key[:<span class="hljs-number">6</span>]}</span>******<span class="hljs-subst">{api_key[-<span class="hljs-number">4</span>:]}</span>"</span>)

<span class="hljs-comment"># 3. å°è¯•å‘èµ·ä¸€æ¬¡çœŸå®çš„å¯¹è¯è¯·æ±‚</span>
<span class="hljs-keyword">try</span>:
    <span class="hljs-comment"># DeepSeek å…¼å®¹ OpenAI SDKï¼Œåªéœ€æ›¿æ¢ base_url</span>
    client = OpenAI(api_key=api_key, base_url=base_url)
    
    response = client.chat.completions.create(
        model=<span class="hljs-string">"deepseek-chat"</span>,  <span class="hljs-comment"># DeepSeek çš„æ¨¡å‹åç§°</span>
        messages=[
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„AIåŠ©æ‰‹"</span>},
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ å¥½ï¼Œè¯·ç”¨ä¸€å¥è¯è¯æ˜ä½ å·²ç»è¿æ¥æˆåŠŸäº†ã€‚"</span>},
        ]
    )
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸ‰ è¿æ¥æˆåŠŸï¼å¤§æ¨¡å‹å›å¤ï¼š"</span>)
    <span class="hljs-built_in">print</span>(response.choices[<span class="hljs-number">0</span>].message.content)
    
<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nâŒ è¿æ¥å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
</code></pre>
<h3 data-id="heading-9">4.4 è¿è¡ŒéªŒè¯</h3>
<p>åœ¨ç»ˆç«¯è¿è¡Œï¼š</p>
<pre><code class="hljs">python check_env.py
</code></pre>
<p>å¦‚æœä½ çœ‹åˆ° â€œğŸ‰ è¿æ¥æˆåŠŸï¼â€ ä»¥åŠ DeepSeek çš„å›å¤ï¼Œæ­å–œä½ ï¼ä½ å·²ç»æ‹¥æœ‰äº†ä¸€ä¸ªå¯ä»¥éšæ—¶è°ƒç”¨çš„ AI å¤§è„‘ï¼Œå¹¶ä¸”æ­å»ºå¥½äº†ä¸“ä¸šçš„ Python å¼€å‘ç¯å¢ƒã€‚
<img src="https://pic.zhangshichun.top/pic/20260201093415136.png" alt="" loading="lazy"/></p>
<h2 data-id="heading-10">ä¸‹ä¸€æ­¥é¢„å‘Š</h2>
<p>ç¯å¢ƒæ­å¥½äº†ï¼Œåªä¼šèŠå¤©å¯ä¸è¡Œã€‚</p>
<p>åœ¨ä¸‹ä¸€ç¯‡ ã€ŠAI Agent ç¼–ç¨‹å…¥é—¨ 03ï¼šç»“æ„åŒ–è¾“å‡ºã€‹ ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•é€šè¿‡ Prompt å·¥ç¨‹ å’Œ ç»“æ„åŒ–æ•°æ®ï¼ˆJSONï¼‰ï¼Œå¼ºè¿« AI ä¸å†â€œèƒ¡è¨€ä¹±è¯­â€ï¼Œè€Œæ˜¯åƒç¨‹åºä¸€æ ·ç²¾å‡†è¾“å‡ºæˆ‘ä»¬éœ€è¦çš„æ•°æ®æ ¼å¼ã€‚</p>
<p>æ•¬è¯·æœŸå¾…ï¼</p>
<p><img src="https://pic.zhangshichun.top/pic/ScreenShot_2026-01-26_082327_821.png" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»æ¨¡æ¿åˆ°å®æˆ˜ï¼šå†™ä¸€ä¸ª IntelliJ å¹³å°æ’ä»¶ï¼ˆä»¥ I18n Toolkit ä¸ºä¾‹ï¼‰]]></title>    <link>https://juejin.cn/post/7601435429409456162</link>    <guid>https://juejin.cn/post/7601435429409456162</guid>    <pubDate>2026-02-02T01:59:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601435429409456162" data-draft-id="7601313474720579619" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»æ¨¡æ¿åˆ°å®æˆ˜ï¼šå†™ä¸€ä¸ª IntelliJ å¹³å°æ’ä»¶ï¼ˆä»¥ I18n Toolkit ä¸ºä¾‹ï¼‰"/> <meta itemprop="keywords" content="IntelliJ IDEA,WebStorm,Vue.js"/> <meta itemprop="datePublished" content="2026-02-02T01:59:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¶è½é˜ä¸»"/> <meta itemprop="url" content="https://juejin.cn/user/2189882891714206"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»æ¨¡æ¿åˆ°å®æˆ˜ï¼šå†™ä¸€ä¸ª IntelliJ å¹³å°æ’ä»¶ï¼ˆä»¥ I18n Toolkit ä¸ºä¾‹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2189882891714206/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¶è½é˜ä¸»
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T01:59:28.000Z" title="Mon Feb 02 2026 01:59:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»æ¨¡æ¿åˆ°å®æˆ˜ï¼šå†™ä¸€ä¸ª IntelliJ å¹³å°æ’ä»¶ï¼ˆä»¥ I18n Toolkit ä¸ºä¾‹ï¼‰</h2>
<p>å¦‚æœä½ æƒ³ä¸º JetBrains IDEï¼ˆIntelliJ IDEAã€WebStormã€Rider ç­‰ï¼‰å†™ä¸€ä¸ªæ’ä»¶ï¼Œæœ€çœå¿ƒçš„èµ·ç‚¹å°±æ˜¯å®˜æ–¹æ¨¡æ¿ <code>intellij-platform-plugin-template</code>ã€‚æœ¬æ–‡ä»¥å¼€æºæ’ä»¶ <strong>I18n Toolkit</strong> ä¸ºä¾‹ï¼Œç»“åˆçœŸå®ä»£ç ï¼Œè®²æ¸…æ¥šä»å…‹éš†æ¨¡æ¿ã€è·‘èµ·æ¥ï¼Œåˆ°å®ç°æ ¸å¿ƒåŠŸèƒ½çš„å®Œæ•´è·¯å¾„ã€‚</p>
<blockquote>
<p>ç¤ºä¾‹ä»“åº“ï¼šI18n Toolkitï¼ˆå¼€æºï¼‰
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyelog%2Fi18n-toolkit" target="_blank" title="https://github.com/yelog/i18n-toolkit" ref="nofollow noopener noreferrer">github.com/yelog/i18n-â€¦</a></p>
<p>æ¨¡æ¿ä»“åº“ï¼šIntelliJ Platform Plugin Template
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FJetBrains%2Fintellij-platform-plugin-template" target="_blank" title="https://github.com/JetBrains/intellij-platform-plugin-template" ref="nofollow noopener noreferrer">github.com/JetBrains/iâ€¦</a></p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ä¸€ã€å‡†å¤‡ç¯å¢ƒ</h3>
<p>åœ¨æ’ä»¶å¼€å‘ä¸­ï¼ŒIDE ç‰ˆæœ¬ã€JDK ç‰ˆæœ¬å’Œ Gradle ç‰ˆæœ¬å¼ºç›¸å…³ã€‚I18n Toolkit çš„çº¦æŸæ¥è‡ªé¡¹ç›®é…ç½®ï¼š</p>
<ul>
<li><strong>JDK</strong>ï¼š21</li>
<li><strong>Gradle</strong>ï¼š9.2.1ï¼ˆå¿…é¡»ä½¿ç”¨ <code>./gradlew</code>ï¼‰</li>
<li><strong>IntelliJ Platform</strong>ï¼š2025.2.5</li>
</ul>
<p>å»ºè®®ï¼š<strong>å§‹ç»ˆä½¿ç”¨ Gradle Wrapper</strong>ï¼Œé¿å…æœ¬æœº Gradle ç‰ˆæœ¬ä¸é¡¹ç›®ä¸ä¸€è‡´ã€‚</p>
<hr/>
<h3 data-id="heading-2">äºŒã€ä»æ¨¡æ¿å¼€å§‹ï¼šå…‹éš† + åˆå§‹åŒ–</h3>
<h4 data-id="heading-3">1. å…‹éš†æ¨¡æ¿</h4>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://github.com/JetBrains/intellij-platform-plugin-template
<span class="hljs-built_in">cd</span> intellij-platform-plugin-template
</code></pre>
<h4 data-id="heading-4">2. åˆå§‹åŒ–é¡¹ç›®ä¿¡æ¯</h4>
<p>ä½ éœ€è¦ä¿®æ”¹å‡ ä¸ªå…³é”®æ–‡ä»¶ï¼š</p>
<ul>
<li><code>settings.gradle.kts</code>ï¼šé¡¹ç›®åç§°</li>
<li><code>gradle.properties</code>ï¼šæ’ä»¶åã€ç‰ˆæœ¬ã€IDã€å¹³å°ç‰ˆæœ¬ç­‰</li>
<li><code>src/main/resources/META-INF/plugin.xml</code>ï¼šæ’ä»¶ IDã€åç§°ã€æè¿°ã€æ‰©å±•ç‚¹</li>
<li><code>README.md</code>ï¼šä¿ç•™ <code>&lt;!-- Plugin description --&gt;</code> æ ‡è®°åŒºåŸŸ</li>
</ul>
<p>æ¨¡æ¿è‡ªå¸¦è„šæœ¬ä¹Ÿèƒ½ä¸€é”®æ›¿æ¢å˜é‡ï¼Œä½†æ‰‹å·¥æ”¹æ›´ç›´è§‚ã€‚</p>
<h4 data-id="heading-5">3. å¯åŠ¨å¼€å‘ IDE</h4>
<pre><code class="hljs language-bash" lang="bash">./gradlew runIde
</code></pre>
<p>æ­¤å‘½ä»¤ä¼šå¯åŠ¨ä¸€ä¸ª <strong>IDE æ²™ç®±ç¯å¢ƒ</strong>ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨åŠ è½½åœ¨è¿™ä¸ªæµ‹è¯• IDE ä¸­ã€‚</p>
<hr/>
<h3 data-id="heading-6">ä¸‰ã€é¡¹ç›®ç»“æ„é€Ÿè§ˆ</h3>
<p>æ’ä»¶ä¸»è¦ç»“æ„æ˜¯å›ºå®šçš„ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">src/
â”œâ”€â”€ main/
â”‚   â”œâ”€â”€ kotlin/â€¦                 <span class="hljs-comment"># Kotlin æºç </span>
â”‚   â””â”€â”€ resources/
â”‚       â””â”€â”€ META-INF/plugin.xml  <span class="hljs-comment"># æ’ä»¶æè¿°æ–‡ä»¶</span>
â””â”€â”€ <span class="hljs-built_in">test</span>/                         <span class="hljs-comment"># æµ‹è¯•</span>
</code></pre>
<p>I18n Toolkit çš„ä»£ç åˆ’åˆ†æ›´ç»†ï¼ŒæŒ‰åŠŸèƒ½åˆ†åŒ…ï¼š</p>
<ul>
<li><code>service/</code>ï¼šç¼“å­˜ä¸æ ¸å¿ƒæ•°æ®</li>
<li><code>scanner/</code>ï¼šç¿»è¯‘æ–‡ä»¶æ‰«æ</li>
<li><code>parser/</code>ï¼šå¤šæ ¼å¼è§£æ</li>
<li><code>completion/</code> / <code>annotator/</code> / <code>reference/</code>ï¼šè¡¥å…¨ã€è¯Šæ–­ã€å¯¼èˆª</li>
<li><code>searcheverywhere/</code> / <code>statusbar/</code>ï¼šæœç´¢ä¸çŠ¶æ€æ </li>
</ul>
<p>è¿™æ ·çš„ç»“æ„éå¸¸é€‚åˆæ’ä»¶ç±»é¡¹ç›®ï¼šå…¥å£æ¸…æ™°ã€æ‰©å±•ç‚¹æ˜ å°„æ˜ç¡®ã€‚</p>
<hr/>
<h3 data-id="heading-7">å››ã€æ ¸å¿ƒåŠŸèƒ½å¦‚ä½•å®ç°ï¼šI18n Toolkit ä»£ç æ‹†è§£</h3>
<p>ä¸‹é¢ä»æ ¸å¿ƒåŠŸèƒ½è§†è§’ï¼Œæ‹†è§£è¿™æ¬¾æ’ä»¶çš„å®ç°æ–¹å¼ï¼Œå¹¶è¡¥å……å…³é”®ç±»ä¸å…³é”®æµç¨‹çš„å®ç°ç»†èŠ‚ï¼Œæ–¹ä¾¿ä½ å¯¹ IntelliJ å¹³å° API çš„è½ç‚¹æœ‰æ›´æ¸…æ™°çš„æ˜ å°„ã€‚</p>
<h4 data-id="heading-8">0. å¯åŠ¨ä¸æ›´æ–°é“¾è·¯ï¼šProjectActivity + VFS ç›‘å¬</h4>
<p>æ’ä»¶è¿è¡ŒæœŸçš„â€œæ•°æ®ç”Ÿå‘½å‘¨æœŸâ€ç”±ä¸¤æ¡é“¾è·¯ä¿è¯ç¨³å®šï¼š</p>
<ul>
<li><strong>å¯åŠ¨åˆå§‹åŒ–</strong>ï¼š<code>I18nProjectActivity</code> å®ç° <code>ProjectActivity</code>ï¼Œåœ¨é¡¹ç›®æ‰“å¼€æ—¶åˆå§‹åŒ–ç¼“å­˜ï¼›åŒæ—¶æ›¿æ¢ <code>QuickJavaDoc</code> Actionï¼Œç¡®ä¿ i18n key æ‚¬åœ/å¿«æ·æ–‡æ¡£ä½“éªŒä¸€è‡´ã€‚</li>
<li><strong>åŠ¨æ€åŠ è½½</strong>ï¼š<code>I18nDynamicPluginListener</code> æ”¯æŒæ’ä»¶åŠ¨æ€åŠ è½½/å¸è½½ï¼Œæ— éœ€é‡å¯ IDEï¼›åŠ è½½æ—¶å¯¹æ‰€æœ‰å·²æ‰“å¼€é¡¹ç›®åˆå§‹åŒ–ç¼“å­˜å¹¶åˆ·æ–° UIã€‚</li>
<li><strong>VFS å˜æ›´ç›‘å¬</strong>ï¼š<code>I18nFileListener</code> åŸºäº <code>AsyncFileListener</code> ç›‘å¬åˆ›å»º/ä¿®æ”¹/åˆ é™¤/ç§»åŠ¨/å¤åˆ¶äº‹ä»¶ï¼Œä»…å¤„ç† i18n ç¿»è¯‘æ–‡ä»¶ï¼Œè§¦å‘ <code>I18nCacheService.invalidateFile()</code> â†’ <code>refresh()</code> â†’ <code>I18nUiRefresher.refresh()</code> çš„åˆ·æ–°é“¾è·¯ã€‚</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼ˆå¯åŠ¨ä¸ç›‘å¬ï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">I18nProjectActivity</span> : <span class="hljs-type">ProjectActivity</span> {
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">execute</span><span class="hljs-params">(project: <span class="hljs-type">Project</span>)</span></span> {
        I18nCacheService.getInstance(project).initialize()
        installQuickDocOverride()
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">I18nFileListener</span> : <span class="hljs-type">AsyncFileListener</span> {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">prepareChange</span><span class="hljs-params">(events: <span class="hljs-type">MutableList</span>&lt;<span class="hljs-type">out</span> <span class="hljs-type">VFileEvent</span>&gt;)</span></span>: AsyncFileListener.ChangeApplier? {
        <span class="hljs-keyword">val</span> relevantEvents = events.filter { e -&gt;
            <span class="hljs-keyword">val</span> file = e.file ?: <span class="hljs-keyword">return</span><span class="hljs-symbol">@filter</span> <span class="hljs-literal">false</span>
            e <span class="hljs-keyword">is</span> VFileContentChangeEvent || e <span class="hljs-keyword">is</span> VFileCreateEvent ||
                e <span class="hljs-keyword">is</span> VFileDeleteEvent || e <span class="hljs-keyword">is</span> VFileMoveEvent || e <span class="hljs-keyword">is</span> VFileCopyEvent
        }.filter { e -&gt; e.file?.let(I18nDirectoryScanner::isTranslationFile) == <span class="hljs-literal">true</span> }
        <span class="hljs-keyword">if</span> (relevantEvents.isEmpty()) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">object</span> : AsyncFileListener.ChangeApplier {
            <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">afterVfsChange</span><span class="hljs-params">()</span></span> {
                ProjectManager.getInstance().openProjects.forEach { project -&gt;
                    relevantEvents.forEach { it.file?.let { f -&gt;
                        I18nCacheService.getInstance(project).invalidateFile(f)
                    } }
                }
            }
        }
    }
}
</code></pre>
<h4 data-id="heading-9">1. ç»Ÿä¸€ç¼“å­˜ä¸­å¿ƒï¼šI18nCacheService</h4>
<p>æ’ä»¶éœ€è¦é¢‘ç¹è·å–ç¿»è¯‘æ•°æ®ï¼Œ<strong>ç¼“å­˜æœåŠ¡</strong>æ˜¯ç¬¬ä¸€ä¼˜å…ˆçº§ï¼š</p>
<ul>
<li>é¡¹ç›®å¯åŠ¨æ—¶åˆå§‹åŒ–</li>
<li>æ‰«æç›®å½• â†’ è§£ææ–‡ä»¶ â†’ ç”Ÿæˆ TranslationData</li>
<li>æä¾› APIï¼šæŒ‰ key æŸ¥æ‰¾ã€æŒ‰è¯­è¨€è¿‡æ»¤ã€æŸ¥æ‰¾æ‰€æœ‰ç¿»è¯‘</li>
<li>æ–‡ä»¶å˜æ›´æ—¶åˆ·æ–°ç¼“å­˜å¹¶åˆ·æ–° UI</li>
</ul>
<p>è¿™è®©è¡¥å…¨ã€å¯¼èˆªã€æœç´¢ç­‰åŠŸèƒ½éƒ½èƒ½åŸºäºåŒä¸€ä»½æ•°æ®æºã€‚</p>
<p>å®ç°ç»†èŠ‚è¡¥å……ï¼š</p>
<ul>
<li><code>initialize()</code> ç”¨ <code>initialized</code> æ ‡è®°é¿å…é‡å¤åˆå§‹åŒ–ï¼Œå®é™…æ ¸å¿ƒé€»è¾‘åœ¨ <code>refresh()</code>ã€‚</li>
<li><code>refresh()</code> åŒ…è£¹åœ¨ <code>ReadAction.compute</code> ä¸­ï¼Œç¡®ä¿ PSI è¯»å–å®‰å…¨ï¼›åŒæ—¶ç»´æŠ¤ <code>keyToFiles</code> æ–¹ä¾¿åç»­ quick fix å¿«é€Ÿå®šä½ã€‚</li>
<li><code>TranslationData</code> å†…éƒ¨ç»“æ„æ˜¯ <code>key -&gt; locale -&gt; TranslationEntry</code>ï¼Œå¹¶æä¾› <code>getTranslation()</code> é»˜è®¤å›é€€ç­–ç•¥ï¼ˆ<code>zh_CN</code> â†’ <code>zh</code> â†’ <code>en</code> â†’ é¦–ä¸ªå¯ç”¨å€¼ï¼‰ã€‚</li>
<li><code>getTranslationStrict()</code> åŸºäº <code>I18nLocaleUtils.buildLocaleCandidates()</code> è¿›è¡Œä¸¥æ ¼ locale åŒ¹é…ï¼Œä¸åšå…¨å±€å›é€€ã€‚</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼ˆç¼“å­˜åˆ·æ–°æ ¸å¿ƒæµç¨‹ï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">refresh</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> translationFiles = I18nDirectoryScanner.scanForTranslationFiles(project)
    keyToFiles.clear()
    <span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span> = ReadAction.compute&lt;TranslationData, RuntimeException&gt; {
        <span class="hljs-keyword">val</span> result = TranslationData(I18nFrameworkDetector.detect(project))
        translationFiles.forEach { file -&gt;
            <span class="hljs-keyword">val</span> pathInfo = I18nKeyGenerator.parseFilePath(file, project.basePath ?: <span class="hljs-string">""</span>)
            <span class="hljs-keyword">val</span> entries = TranslationFileParser.parse(project, file, pathInfo.keyPrefix, pathInfo.locale)
            entries.forEach { (key, entry) -&gt;
                result.addEntry(entry)
                keyToFiles.getOrPut(key) { mutableSetOf() }.add(entry)
            }
        }
        result
    }
    translationData = <span class="hljs-keyword">data</span>
}
</code></pre>
<h4 data-id="heading-10">2. ç›®å½•æ‰«æï¼šI18nDirectoryScanner</h4>
<p>æ‰«æé€»è¾‘æœ‰ä¸¤ä¸ªé‡ç‚¹ï¼š</p>
<ul>
<li>åªæ‰«ææ ‡å‡† i18n ç›®å½•ï¼š<code>locales</code> / <code>i18n</code> / <code>messages</code> / <code>lang</code> ç­‰</li>
<li>æ’é™¤ç›®å½•ï¼š<code>node_modules</code>ã€<code>dist</code>ã€<code>build</code>ã€éšè—ç›®å½•</li>
</ul>
<p>è¿™æ ·å¯ä»¥æœ‰æ•ˆé¿å…æ— å…³æ–‡ä»¶çš„è§£ææˆæœ¬ã€‚</p>
<p>å®ç°ç»†èŠ‚è¡¥å……ï¼š</p>
<ul>
<li><code>I18nDirectories.STANDARD_DIRS</code> ç»´æŠ¤æ ‡å‡†ç›®å½•ç™½åå•ï¼›æ‰«æä½¿ç”¨ <code>VfsUtil.iterateChildrenRecursively</code>ã€‚</li>
<li>ç›®å½•è¿‡æ»¤é€»è¾‘åŒæ—¶è·³è¿‡éšè—ç›®å½•ï¼ˆä»¥ <code>.</code> å¼€å¤´ï¼‰ä»¥åŠ <code>node_modules</code>ã€<code>dist</code>ã€<code>build</code>ã€‚</li>
<li>è¯†åˆ«æ–‡ä»¶ç±»å‹æ¥è‡ª <code>TranslationFileType</code>ï¼Œæ”¯æŒ <code>json/yaml/yml/toml/js/mjs/cjs/ts/mts/cts/properties</code>ã€‚</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼ˆæ‰«æä¸ç±»å‹è¯†åˆ«ï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">object</span> I18nDirectoryScanner {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> excludedDirNames = setOf(<span class="hljs-string">"node_modules"</span>, <span class="hljs-string">"dist"</span>, <span class="hljs-string">"build"</span>)
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">scanForTranslationFiles</span><span class="hljs-params">(project: <span class="hljs-type">Project</span>)</span></span>: List&lt;VirtualFile&gt; {
        <span class="hljs-keyword">val</span> baseDir = project.guessProjectDir() ?: <span class="hljs-keyword">return</span> emptyList()
        <span class="hljs-keyword">val</span> translationFiles = mutableListOf&lt;VirtualFile&gt;()
        findI18nDirectories(baseDir).forEach { dir -&gt;
            VfsUtil.iterateChildrenRecursively(dir, ::shouldTraverse) { file -&gt;
                <span class="hljs-keyword">val</span> ext = file.extension?.lowercase()
                <span class="hljs-keyword">if</span> (!file.isDirectory &amp;&amp; ext <span class="hljs-keyword">in</span> TranslationFileType.allExtensions()) {
                    translationFiles.add(file)
                }
                <span class="hljs-literal">true</span>
            }
        }
        <span class="hljs-keyword">return</span> translationFiles
    }
}
</code></pre>
<h4 data-id="heading-11">3. å¤šæ ¼å¼è§£æï¼šTranslationFileParser</h4>
<p>æ’ä»¶æ”¯æŒï¼š</p>
<ul>
<li>JSON / YAML / TOML</li>
<li>Properties</li>
<li>JS / TSï¼ˆå¯¹è±¡å­—é¢é‡ï¼‰</li>
</ul>
<p>è§£ææ–¹å¼æ˜¯â€œ<strong>å°½å¯èƒ½åˆ©ç”¨ PSI</strong>â€ï¼š</p>
<ul>
<li>JSON / JS / TSï¼šèµ° PSI ç»“æ„ï¼Œèƒ½æ‹¿åˆ°ç²¾ç¡® offset</li>
<li>YAML / TOMLï¼šç”¨ç¬¬ä¸‰æ–¹ parserï¼Œoffset ä¸ºä¼°ç®—å€¼</li>
</ul>
<p>è¿™è§£é‡Šäº†ä¸ºä»€ä¹ˆ YAML / TOML çš„å®šä½å¯èƒ½ç¨æœ‰åå·®ï¼Œä½†å®é™…æ•ˆæœå¯æ¥å—ã€‚</p>
<p>å®ç°ç»†èŠ‚è¡¥å……ï¼š</p>
<ul>
<li><strong>JSON</strong>ï¼šç”¨ <code>JsonFile</code> / <code>JsonObject</code> é€’å½’è§£æï¼Œ<code>TranslationEntry.offset</code> ç²¾ç¡®å®šä½åˆ° key çš„ <code>textOffset</code>ã€‚</li>
<li><strong>JS/TS</strong>ï¼šè§£æ <code>export default</code>ã€å˜é‡å£°æ˜ä¸è¡¨è¾¾å¼è¯­å¥ï¼Œæå–å¯¹è±¡å­—é¢é‡ä¸­çš„å­—ç¬¦ä¸²å€¼ã€‚</li>
<li><strong>YAML/TOML</strong>ï¼šä½¿ç”¨ SnakeYAML / toml4j è§£æç»“æ„ï¼Œoffset é€šè¿‡ç´¯åŠ é•¿åº¦ä¼°ç®—ã€‚</li>
<li><strong>Properties</strong>ï¼šæŒ‰è¡Œæ‰«æ <code>key=value</code>ï¼Œè¿‡æ»¤æ³¨é‡Šè¡Œå¹¶è®°å½•è¡Œå†… offsetã€‚</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼ˆJSON / JS/TS è§£æç‰‡æ®µï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">parseJsonObject</span><span class="hljs-params">(obj: <span class="hljs-type">JsonObject</span>, prefix: <span class="hljs-type">String</span>, locale: <span class="hljs-type">String</span>, file: <span class="hljs-type">VirtualFile</span>, <span class="hljs-keyword">out</span>: <span class="hljs-type">MutableMap</span>&lt;<span class="hljs-type">String</span>, TranslationEntry&gt;)</span></span> {
    obj.propertyList.forEach { prop -&gt;
        <span class="hljs-keyword">val</span> key = prop.name
        <span class="hljs-keyword">val</span> fullKey = <span class="hljs-keyword">if</span> (prefix.isEmpty()) key <span class="hljs-keyword">else</span> <span class="hljs-string">"<span class="hljs-variable">$prefix</span><span class="hljs-variable">$key</span>"</span>
        <span class="hljs-keyword">when</span> (<span class="hljs-keyword">val</span> value = prop.value) {
            <span class="hljs-keyword">is</span> JsonStringLiteral -&gt; <span class="hljs-keyword">out</span>[fullKey] = TranslationEntry(fullKey, value.value, locale, file, prop.nameElement.textOffset, prop.nameElement.textLength)
            <span class="hljs-keyword">is</span> JsonObject -&gt; parseJsonObject(value, <span class="hljs-string">"<span class="hljs-variable">$fullKey</span>."</span>, locale, file, <span class="hljs-keyword">out</span>)
        }
    }
}

<span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">parseJsExpression</span><span class="hljs-params">(expr: <span class="hljs-type">JSExpression</span>?, prefix: <span class="hljs-type">String</span>, locale: <span class="hljs-type">String</span>, file: <span class="hljs-type">VirtualFile</span>, <span class="hljs-keyword">out</span>: <span class="hljs-type">MutableMap</span>&lt;<span class="hljs-type">String</span>, TranslationEntry&gt;)</span></span> {
    <span class="hljs-keyword">if</span> (expr <span class="hljs-keyword">is</span> JSObjectLiteralExpression) {
        expr.properties.forEach { prop -&gt;
            <span class="hljs-keyword">val</span> key = prop.name ?: <span class="hljs-keyword">return</span><span class="hljs-symbol">@forEach</span>
            <span class="hljs-keyword">val</span> fullKey = <span class="hljs-keyword">if</span> (prefix.isEmpty()) key <span class="hljs-keyword">else</span> <span class="hljs-string">"<span class="hljs-variable">$prefix</span><span class="hljs-variable">$key</span>"</span>
            <span class="hljs-keyword">val</span> value = prop.value <span class="hljs-keyword">as</span>? JSLiteralExpression
            value?.stringValue?.let { <span class="hljs-keyword">out</span>[fullKey] = TranslationEntry(fullKey, it, locale, file, prop.textOffset, key.length) }
        }
    }
}
</code></pre>
<h4 data-id="heading-12">4. Key å‰ç¼€ç”Ÿæˆï¼šI18nKeyGenerator</h4>
<p>i18n ç›®å½•ç»“æ„é€šå¸¸ä½“ç°æ¨¡å—æˆ–ä¸šåŠ¡å±‚çº§ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">src/views/mes/locales/lang/zh_CN/order.ts
</code></pre>
<p>æ’ä»¶é€šè¿‡è·¯å¾„è‡ªåŠ¨æ¨å¯¼ï¼š</p>
<ul>
<li>localeï¼š<code>zh_CN</code></li>
<li>keyPrefixï¼š<code>mes.order.</code></li>
</ul>
<p>è¿™æ ·åœ¨ä»£ç é‡Œå†™ <code>t('create')</code>ï¼Œä¹Ÿèƒ½æ­£ç¡®å®šä½åˆ° <code>mes.order.create</code>ã€‚</p>
<p>å®ç°ç»†èŠ‚è¡¥å……ï¼š</p>
<ul>
<li><code>parseFilePath()</code> åŒºåˆ† <strong>views æ¨¡å¼</strong> ä¸ <strong>æ ‡å‡†æ¨¡å¼</strong>ï¼šviews æ¨¡å¼ä¼šæŠŠä¸šåŠ¡å•å…ƒä¸æ¨¡å—ç»„åˆä¸ºå‰ç¼€ã€‚</li>
<li>å¯¹ <code>message/messages</code> ç›®å½•è¿›è¡Œç‰¹æ®Šå¤„ç†ï¼šé¿å…æŠŠå®ƒä½œä¸º module å‰ç¼€ï¼ˆå¸¸è§äº Spring Messageï¼‰ã€‚</li>
<li>å½“è·¯å¾„é‡Œæ‰¾ä¸åˆ° locale æ—¶ï¼Œä¼šå›é€€åˆ°æ–‡ä»¶ååˆ¤æ–­ localeã€‚</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼ˆè·¯å¾„è§£æä¸å‰ç¼€ç”Ÿæˆï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">parseFilePath</span><span class="hljs-params">(file: <span class="hljs-type">VirtualFile</span>, projectBasePath: <span class="hljs-type">String</span>)</span></span>: PathInfo {
    <span class="hljs-keyword">val</span> relativePath = file.path.removePrefix(projectBasePath).removePrefix(<span class="hljs-string">"/"</span>)
    <span class="hljs-keyword">val</span> parts = relativePath.split(<span class="hljs-string">"/"</span>)
    <span class="hljs-keyword">val</span> fileName = file.nameWithoutExtension
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> {
        isViewsLocalePattern(parts) -&gt; parseViewsLocalePattern(parts, fileName)
        isStandardLocalePattern(parts) -&gt; parseStandardLocalePattern(parts, fileName)
        <span class="hljs-keyword">else</span> -&gt; PathInfo(locale = extractLocale(parts, fileName), module = <span class="hljs-literal">null</span>, businessUnit = <span class="hljs-literal">null</span>, keyPrefix = <span class="hljs-string">""</span>)
    }
}
</code></pre>
<h4 data-id="heading-13">5. æ¡†æ¶æ£€æµ‹ï¼šI18nFrameworkDetector</h4>
<p>æ’ä»¶ä¼šè‡ªåŠ¨è¯†åˆ« i18n æ¡†æ¶ï¼š</p>
<ul>
<li>vue-i18n</li>
<li>react-i18next</li>
<li>next-intl</li>
<li>@nuxtjs/i18n</li>
<li>react-intl</li>
<li>Spring Messageï¼ˆæ£€æµ‹ <code>pom.xml</code> æˆ– <code>build.gradle</code>ï¼‰</li>
</ul>
<p>å¦‚æœè¯†åˆ«æˆåŠŸï¼Œå¯è‡ªåŠ¨å†³å®šè¯­ä¹‰è§„åˆ™å’Œå‡½æ•°ä¹ æƒ¯ï¼Œå‡å°‘é…ç½®ã€‚</p>
<p>å®ç°ç»†èŠ‚è¡¥å……ï¼š</p>
<ul>
<li><strong>Spring æ£€æµ‹</strong>ï¼šç›´æ¥è¯»å– <code>pom.xml</code> / <code>build.gradle(.kts)</code> æ–‡æœ¬ï¼Œåˆ¤æ–­å…³é”®ä¾èµ–å­—ç¬¦ä¸²ã€‚</li>
<li><strong>JS/TS æ£€æµ‹</strong>ï¼šé€šè¿‡ PSI è§£æ <code>package.json</code>ï¼Œéå† <code>dependencies / devDependencies / peerDependencies</code>ã€‚</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼ˆä¾èµ–æ£€æµ‹ï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">parsePackageJson</span><span class="hljs-params">(project: <span class="hljs-type">Project</span>, file: <span class="hljs-type">VirtualFile</span>)</span></span>: I18nFramework {
    <span class="hljs-keyword">val</span> psiFile = PsiManager.getInstance(project).findFile(file) <span class="hljs-keyword">as</span>? JsonFile ?: <span class="hljs-keyword">return</span> I18nFramework.UNKNOWN
    <span class="hljs-keyword">val</span> rootObject = psiFile.topLevelValue <span class="hljs-keyword">as</span>? JsonObject ?: <span class="hljs-keyword">return</span> I18nFramework.UNKNOWN
    <span class="hljs-keyword">val</span> deps = mutableSetOf&lt;String&gt;()
    listOf(<span class="hljs-string">"dependencies"</span>, <span class="hljs-string">"devDependencies"</span>, <span class="hljs-string">"peerDependencies"</span>).forEach { depType -&gt;
        (rootObject.findProperty(depType)?.value <span class="hljs-keyword">as</span>? JsonObject)?.propertyList?.forEach { deps.add(it.name) }
    }
    <span class="hljs-keyword">return</span> I18N_PACKAGES.firstOrNull { deps.contains(it) }?.let(I18nFramework::fromPackageName) ?: I18nFramework.UNKNOWN
}
</code></pre>
<h4 data-id="heading-14">6. Inlay æç¤ºï¼šI18nInlayHintsProvider</h4>
<p>è¿™ç±»ä½“éªŒæ˜¯æ’ä»¶â€œå¯æ„ŸçŸ¥åº¦â€æœ€é«˜çš„éƒ¨åˆ†ï¼š</p>
<ul>
<li>åœ¨ <code>t('key')</code> åé¢æ˜¾ç¤ºç¿»è¯‘å†…å®¹</li>
<li>æ”¯æŒ Vue template çš„æ³¨å…¥ä»£ç </li>
<li>ç¼“å­˜å·²å¤„ç†ä½ç½®ï¼Œé¿å…é‡å¤æ’å…¥</li>
<li>å¯è®¾ç½®ä¸ºâ€œä»…æ˜¾ç¤ºç¿»è¯‘â€æˆ–â€œkey + ç¿»è¯‘â€æ¨¡å¼</li>
</ul>
<p>è¿™å¥—é€»è¾‘ç»“åˆäº† PSI + Inlay API + InjectedLanguageManagerã€‚</p>
<p>å®ç°ç»†èŠ‚è¡¥å……ï¼š</p>
<ul>
<li><code>globalProcessedHints</code> ä»¥ <code>filePath:modStamp:offset</code> ä¸º key å»é‡ï¼Œé¿å…å¤šè¯­è¨€å®ä¾‹é‡å¤æ’å…¥æç¤ºã€‚</li>
<li>Vue æ¨¡æ¿æ’å€¼ä¸­çš„ <code>{{ t('key') }}</code> ä½¿ç”¨ <code>InjectedLanguageManager</code> å¤„ç† injected PSIã€‚</li>
<li>å…ˆç”¨ <code>I18nNamespaceResolver.getFullKey()</code> æ‹¼æ¥å‘½åç©ºé—´ï¼Œå†åšç¿»è¯‘åŒ¹é…ã€‚</li>
<li>è‹¥æ˜¾ç¤ºè¯­è¨€å­˜åœ¨ä½†ç¼ºå¤±è¯¥ keyï¼Œä¼šæ˜¾ç¤º <code>Missing translation for 'locale'</code> çš„æç¤ºæ–‡æ¡ˆã€‚</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼ˆInlay å»é‡ä¸æ¸²æŸ“ï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> hintKey = <span class="hljs-string">"<span class="hljs-variable">$filePath</span>:<span class="hljs-variable">$modStamp</span>:<span class="hljs-variable">$offset</span>"</span>
<span class="hljs-keyword">if</span> (globalProcessedHints.putIfAbsent(hintKey, <span class="hljs-literal">true</span>) != <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span>

<span class="hljs-keyword">val</span> presentation = factory.roundWithBackground(
    factory.smallText(<span class="hljs-string">" â†’ <span class="hljs-variable">$translationText</span>"</span>)
)
sink.addInlineElement(offset, <span class="hljs-literal">true</span>, presentation, <span class="hljs-literal">false</span>)
</code></pre>
<h4 data-id="heading-15">7. ç¼ºå¤± Key è¯Šæ–­ + å¿«é€Ÿä¿®å¤</h4>
<p>ç¼ºå¤± key ä¼šè¢«æ ‡çº¢ï¼Œå¹¶æä¾›ä¸€é”®åˆ›å»ºï¼š</p>
<ul>
<li><code>I18nKeyAnnotator</code> è´Ÿè´£æç¤ºé”™è¯¯</li>
<li><code>CreateI18nKeyQuickFix</code> æ ¹æ® key è‡ªåŠ¨é€‰æ‹©ç›®æ ‡æ–‡ä»¶</li>
<li>æ”¯æŒ JSON / JS / TS / Properties ç›´æ¥å†™å…¥</li>
</ul>
<p>å°¤å…¶æ˜¯â€œæ ¹æ® key å‰ç¼€å’Œå…„å¼Ÿ key è‡ªåŠ¨é€‰æ‹©æ–‡ä»¶â€çš„é€»è¾‘ï¼Œæå¤§æå‡äº†ä½“éªŒã€‚</p>
<p>å®ç°ç»†èŠ‚è¡¥å……ï¼š</p>
<ul>
<li><code>I18nKeyAnnotator</code> ä½¿ç”¨ <code>I18nFunctionResolver</code> è·å–å¯é…ç½®çš„ i18n å‡½æ•°åï¼ˆé»˜è®¤ <code>t/$t/i18n/translate/...</code>ï¼‰ã€‚</li>
<li>åªé«˜äº®å­—ç¬¦ä¸²å†…å®¹æœ¬èº«ï¼ˆæ’é™¤å¼•å·ï¼‰ï¼Œå¹¶æŒ‚è½½ <code>CreateI18nKeyQuickFix</code>ã€‚</li>
<li><code>CreateI18nKeyQuickFix</code> å…ˆå°è¯• <strong>æœ€é•¿å‰ç¼€åŒ¹é…</strong>ï¼Œå¤±è´¥åå†ç”¨ <strong>å…„å¼Ÿ key</strong> åæ¨æ–‡ä»¶ã€‚</li>
<li>å®é™…å†™å…¥é€šè¿‡ <code>WriteCommandAction</code> + PSI æ“ä½œå®Œæˆï¼Œå†™å…¥åç”¨ <code>OpenFileDescriptor</code> å®šä½å¹¶æŠŠå…‰æ ‡æ”¾åœ¨å¼•å·ä¹‹é—´ã€‚</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼ˆç¼ºå¤± Key é«˜äº®èŒƒå›´ï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> elementRange = literalExpr.textRange
<span class="hljs-keyword">val</span> keyStartOffset = elementRange.startOffset + <span class="hljs-number">1</span>
<span class="hljs-keyword">val</span> keyEndOffset = keyStartOffset + partialKey.length
<span class="hljs-keyword">val</span> highlightRange = TextRange(keyStartOffset, keyEndOffset)
holder.newAnnotation(HighlightSeverity.ERROR, <span class="hljs-string">"Unresolved i18n key: '<span class="hljs-variable">$fullKey</span>'"</span>)
    .range(highlightRange)
    .textAttributes(DefaultLanguageHighlighterColors.INVALID_STRING_ESCAPE)
    .withFix(CreateI18nKeyQuickFix(fullKey))
    .create()
</code></pre>
<h4 data-id="heading-16">8. Search Everywhere é›†æˆ</h4>
<p>æ’ä»¶åœ¨ Search Everywhere ä¸­æ–°å¢ <strong>I18n</strong> æ ‡ç­¾ï¼š</p>
<ul>
<li>key å’Œç¿»è¯‘éƒ½æ”¯æŒæ¨¡ç³Šæœç´¢</li>
<li>Enterï¼šå¤åˆ¶ key</li>
<li>Ctrl+Enterï¼šè·³è½¬åˆ°ç¿»è¯‘æ–‡ä»¶</li>
<li>ç»“æœæ’åºæœ‰è¯„åˆ†ç­–ç•¥ï¼ˆå‰ç¼€åŒ¹é… &gt; åŒ…å«åŒ¹é…ï¼‰</li>
</ul>
<p>è¿™è®©ç¿»è¯‘æœç´¢çœŸæ­£æˆä¸ºâ€œIDE çº§åˆ«â€çš„èƒ½åŠ›ã€‚</p>
<p>å®ç°ç»†èŠ‚è¡¥å……ï¼š</p>
<ul>
<li>æœç´¢ç»“æœä»¥ â€œkey + å¤šè¯­è¨€ç¿»è¯‘â€ åˆå¹¶ä¸ºä¸€ä¸ªæ¡ç›®ã€‚</li>
<li>è¯„åˆ†ç­–ç•¥åœ¨ <code>calculateMatchScore()</code> ä¸­å®ç°ï¼šå‰ç¼€åŒ¹é…æœ€é«˜ï¼Œå…¶æ¬¡æ˜¯åŒ…å«åŒ¹é…ä¸ value åŒ¹é…ã€‚</li>
<li>Enter å¤åˆ¶ keyï¼ŒCtrl+Enter ç›´æ¥æ‰“å¼€ç¿»è¯‘æ–‡ä»¶ï¼Œè¡Œä¸ºæ˜ç¡®ä¸”ç¨³å®šã€‚</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼ˆæœç´¢è¯„åˆ†ç‰‡æ®µï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">calculateMatchScore</span><span class="hljs-params">(key: <span class="hljs-type">String</span>, entries: <span class="hljs-type">Collection</span>&lt;<span class="hljs-type">TranslationEntry</span>&gt;, tokens: <span class="hljs-type">List</span>&lt;<span class="hljs-type">String</span>&gt;, compactQuery: <span class="hljs-type">String</span>)</span></span>: <span class="hljs-built_in">Int</span> {
    <span class="hljs-keyword">val</span> keyLower = key.lowercase()
    <span class="hljs-keyword">val</span> keyMatchesAll = tokens.isNotEmpty() &amp;&amp; tokens.all { keyLower.contains(it) }
    <span class="hljs-keyword">var</span> score = <span class="hljs-number">0</span>
    <span class="hljs-keyword">if</span> (keyMatchesAll) score += <span class="hljs-number">100</span>
    <span class="hljs-keyword">if</span> (tokens.isNotEmpty() &amp;&amp; keyLower.startsWith(tokens.first())) score += <span class="hljs-number">1000</span>
    <span class="hljs-keyword">return</span> score
}
</code></pre>
<h4 data-id="heading-17">9. çŠ¶æ€æ è¯­è¨€åˆ‡æ¢ + ç¿»è¯‘ç¼–è¾‘</h4>
<ul>
<li>çŠ¶æ€æ å°éƒ¨ä»¶æ”¯æŒæ˜¾ç¤ºä¸åˆ‡æ¢å½“å‰è¯­è¨€</li>
<li>ç¿»è¯‘å¼¹çª—æ”¯æŒå¤šè¯­è¨€ç¼–è¾‘ï¼Œå¹¶å¯å®æ—¶å†™å…¥æ–‡ä»¶</li>
</ul>
<p>è¿™äº› UI åŠŸèƒ½ç”¨åˆ° <code>StatusBarWidget</code> å’Œ <code>JBPopupFactory</code>ï¼Œæ˜¯å…¸å‹æ’ä»¶ UI æŠ€æœ¯ã€‚</p>
<p>å®ç°ç»†èŠ‚è¡¥å……ï¼š</p>
<ul>
<li><code>I18nStatusBarWidget</code> é€šè¿‡ <code>ListPopup</code> æä¾›è¯­è¨€åˆ—è¡¨ä¸â€œGo to Settingsâ€å…¥å£ï¼Œåˆ‡æ¢è¯­è¨€åè§¦å‘ UI refreshã€‚</li>
<li><code>I18nTranslationEditPopup</code> ä½¿ç”¨ <code>Alarm</code> åš 300ms é˜²æŠ–ï¼Œç¼–è¾‘åå®æ—¶å†™å›æ–‡ä»¶ã€‚</li>
<li><code>I18nTranslationWriter</code> æ ¹æ®æ–‡ä»¶ç±»å‹åˆ†åˆ«æ›¿æ¢ JSON/JS/Properties å†…å®¹ï¼Œå¹¶å¤„ç†å¼•å·ä¸è½¬ä¹‰ã€‚</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼ˆçŠ¶æ€æ åˆ‡æ¢ä¸å†™å›ï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> step = <span class="hljs-keyword">object</span> : BaseListPopupStep&lt;PopupItem&gt;(<span class="hljs-string">"I18n Toolkit"</span>, allItems) {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onChosen</span><span class="hljs-params">(selectedValue: <span class="hljs-type">PopupItem</span>?, finalChoice: <span class="hljs-type">Boolean</span>)</span></span>: PopupStep&lt;*&gt;? {
        <span class="hljs-keyword">if</span> (selectedValue <span class="hljs-keyword">is</span> PopupItem.LocaleItem) {
            settings.state.displayLocale = selectedValue.locale
            I18nUiRefresher.refresh(project)
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">super</span>.onChosen(selectedValue, finalChoice)
    }
}

WriteCommandAction.runWriteCommandAction(project, <span class="hljs-string">"Update i18n Translation"</span>, <span class="hljs-literal">null</span>, Runnable {
    <span class="hljs-keyword">val</span> document = FileDocumentManager.getInstance().getDocument(entry.file) ?: <span class="hljs-keyword">return</span><span class="hljs-symbol">@Runnable</span>
    document.replaceString(valueStart, lineEnd, newValue)
})
</code></pre>
<hr/>
<h3 data-id="heading-18">äº”ã€æ’ä»¶åŠŸèƒ½å¦‚ä½•æŒ‚è½½ï¼šplugin.xml æ‰©å±•ç‚¹</h3>
<p>æ‰€æœ‰åŠŸèƒ½éƒ½éœ€è¦é€šè¿‡ <code>plugin.xml</code> æ³¨å†Œï¼š</p>
<ul>
<li><code>projectService</code>ï¼šç¼“å­˜æœåŠ¡</li>
<li><code>inlayProvider</code>ï¼šå†…è”æç¤º</li>
<li><code>annotator</code>ï¼šé”™è¯¯æç¤º</li>
<li><code>completion.contributor</code>ï¼šè¡¥å…¨</li>
<li><code>psi.referenceContributor</code>ï¼šå¯¼èˆª</li>
<li><code>searchEverywhereContributor</code>ï¼šæœç´¢</li>
<li><code>statusBarWidgetFactory</code>ï¼šçŠ¶æ€æ </li>
</ul>
<p>è¿™é‡Œæ˜¯ IntelliJ å¹³å°æ’ä»¶å¼€å‘çš„æ ¸å¿ƒï¼š</p>
<blockquote>
<p><strong>ä¸€åˆ‡åŠŸèƒ½éƒ½æ˜¯â€œæ‰©å±•ç‚¹ + å®ç°ç±»â€çš„ç»„åˆã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-19">å…­ã€æ„å»ºã€æµ‹è¯•ä¸å‘å¸ƒ</h3>
<p>å¸¸ç”¨å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">./gradlew runIde          <span class="hljs-comment"># æœ¬åœ°è¿è¡Œ</span>
./gradlew buildPlugin     <span class="hljs-comment"># æ„å»ºåˆ†å‘åŒ…</span>
./gradlew <span class="hljs-built_in">test</span>            <span class="hljs-comment"># è¿è¡Œæµ‹è¯•</span>
./gradlew check           <span class="hljs-comment"># æµ‹è¯• + è¦†ç›–ç‡</span>
./gradlew verifyPlugin    <span class="hljs-comment"># æ’ä»¶å…¼å®¹æ€§éªŒè¯</span>
</code></pre>
<p>å¦‚æœè¦å‘å¸ƒåˆ° JetBrains Marketplaceï¼Œè¡¥é½ç­¾åé…ç½®å³å¯ã€‚</p>
<hr/>
<h3 data-id="heading-20">ä¸ƒã€æ€»ç»“ï¼šä»æ¨¡æ¿åˆ°å¯ç”¨æ’ä»¶çš„å…³é”®è·¯å¾„</h3>
<p><strong>æ¨¡æ¿ç»™ä½ éª¨æ¶ï¼ŒçœŸæ­£çš„ä»·å€¼æ¥è‡ªä½ çš„â€œåŠŸèƒ½è®¾è®¡â€ä¸â€œç”¨æˆ·ä½“éªŒâ€ã€‚</strong></p>
<p>I18n Toolkit çš„å®ç°å‘Šè¯‰æˆ‘ä»¬ï¼š</p>
<ul>
<li>ç¼“å­˜ä¸è§£ææ˜¯æ’ä»¶æ€§èƒ½çš„æ ¸å¿ƒ</li>
<li>IntelliJ æ‰©å±•ç‚¹ä½“ç³»å†³å®šåŠŸèƒ½è¾¹ç•Œ</li>
<li>ä½“éªŒè¦è¶³å¤Ÿâ€œIDE çº§â€ï¼Œæ‰èƒ½çœŸæ­£æå‡å¼€å‘æ•ˆç‡</li>
</ul>
<p>å¦‚æœä½ ä¹Ÿæƒ³å†™ä¸€ä¸ªç”Ÿäº§åŠ›æ’ä»¶ï¼Œä¸å¦¨ä»è¿™ä¸ªå¼€æºé¡¹ç›®å…¥æ‰‹ï¼Œè¯»ä¸€éæ ¸å¿ƒç±»ï¼Œè·‘ä¸€é <code>runIde</code>ï¼Œå°±èƒ½å¿«é€Ÿè¿›å…¥å®æˆ˜çŠ¶æ€ã€‚</p>
<hr/>
<p>å¦‚æœä½ å¯¹è¯¥æ’ä»¶æ„Ÿå…´è¶£æˆ–æƒ³å‚ä¸è´¡çŒ®ï¼š</p>
<ul>
<li>æ¨¡æ¿é¡¹ç›®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FJetBrains%2Fintellij-platform-plugin-template" target="_blank" title="https://github.com/JetBrains/intellij-platform-plugin-template" ref="nofollow noopener noreferrer">github.com/JetBrains/iâ€¦</a></li>
<li>æ’ä»¶ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyelog%2Fi18n-toolkit" target="_blank" title="https://github.com/yelog/i18n-toolkit" ref="nofollow noopener noreferrer">github.com/yelog/i18n-â€¦</a></li>
</ul>
<p>ç¥ä½ ç©å¾—å¼€å¿ƒï¼Œå†™å‡ºå±äºè‡ªå·±çš„ JetBrains æ’ä»¶ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é€Ÿé€š-å¾®ä¿¡å°ç¨‹åº]]></title>    <link>https://juejin.cn/post/7601822421609889819</link>    <guid>https://juejin.cn/post/7601822421609889819</guid>    <pubDate>2026-02-02T08:07:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601822421609889819" data-draft-id="7602069205467185198" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é€Ÿé€š-å¾®ä¿¡å°ç¨‹åº"/> <meta itemprop="keywords" content="å‰ç«¯,å¾®ä¿¡å°ç¨‹åº,å¾®ä¿¡"/> <meta itemprop="datePublished" content="2026-02-02T08:07:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ…ˆæ§˜ya"/> <meta itemprop="url" content="https://juejin.cn/user/3281384295639245"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é€Ÿé€š-å¾®ä¿¡å°ç¨‹åº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3281384295639245/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ…ˆæ§˜ya
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T08:07:47.000Z" title="Mon Feb 02 2026 08:07:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é€Ÿé€š-å¾®ä¿¡å°ç¨‹åºğŸŸ¢</h2>
<p>2026å¹´1æœˆï¼Œæœ€è¿‘åˆç©ºé—²äº†ï¼Œæ²¡é”™æˆ‘ <code>å’å’</code> æ²¡æœ‰å·¥ä½œäº†ï¼Œæœ€è¿‘ä¸€æ®µæ—¶é—´å¥½è¿·èŒ«å•Šï¼Œ</p>
<p>å› ä¸ºå­¦å†é—®é¢˜ï¼Œå¤–é¢å¤§åŸå¸‚ä¸å¥½æ‰¾å·¥ä½œ(æ²¡æœ‰é¢è¯•æœºä¼š)ï¼Œè¿™ä¸ªä¸‰çº¿å°åŸå¸‚åŸºæœ¬ä¸Šæœ¬äººé¢è¯•æˆåŠŸç‡80%</p>
<p>ç›®å‰å°åœ°æ–¹å…¬å¸ï¼Œåˆå‡ºç°å‘ä¸èµ·å·¥èµ„çš„æƒ…å†µï¼Œæ‰€ä»¥ â€¦â€¦â€¦â€¦ ç§ç§åŸå› ï¼Œåé¢è¿˜æ˜¯è¦è®¡åˆ’ï¼Œå‡ºå»æ‰¾ä¸€ä¸‹ï¼</p>
<p><strong>æ­£å¥½ï¼Œ</strong> æœ€è¿‘å°±åˆ©ç”¨ç©ºé—²æ—¶é—´å­¦ä¹ ä¸€ä¸‹ <code>å¾®ä¿¡å°ç¨‹åºå§ï¼</code> æ€»ä¸èƒ½ä¸€ç›´æ‘¸é±¼ï¼Œç©åˆ°è¿‡å¹´å§ï¼Œblog ä¹Ÿå¥½ä¹…æ²¡ğŸ†™ğŸ†™ğŸ†™</p>
<ul>
<li>ä¸€æ–¹é¢ï¼Œæ˜¯å› ä¸ºAI çš„å‡ºç°ï¼Œä¸å¾—ä¸è¯´ï¼ŒAIçœŸçš„å¾ˆå‰å®³ï¼Œä»»ä½•é—®é¢˜éƒ½èƒ½è½»æ¾çš„è§£å†³ï¼Œçœå»äº†å¾ˆå¤šæ—¶é—´ï¼</li>
<li>å¦ä¸€æ–¹é¢ï¼Œæœ€è¿‘åœ¨å‡†å¤‡è‡ªè€ƒç›¸å…³çš„å­¦å†æå‡ï¼Œå·¥ä½œï¼Œç”Ÿæ´»ï¼Œç­‰åé¢ï¼Œå†™ä¸ªå¹´æ€»å§â€¦â€¦</li>
</ul>
<p><strong>è¿æ°”ä¸é”™ï¼Œ</strong> æœ€è¿‘æœ‰å¹¸æ¥äº†ä¸€ä¸ªç§æ´»ï¼Œ<code>WXå°ç¨‹åºç›¸å…³çš„</code> ä»”ç»†æƒ³æƒ³ï¼Œä¹Ÿæ˜¯å°ç¨‹åº</p>
<ul>
<li>æ›´æ–¹ä¾¿ï¼Œè¢«å¤§ä¼—å¸‚åœºéœ€æ±‚ï¼Œèƒ½æ¥åˆ°æ›´å¤šéœ€æ±‚ï¼Œè§‰å¾—æ˜¯ä¸€ä¸ªæ–¹å‘ï¼Œå¯¹äºä¸ªä½“å¼€å‘è€…ï¼ï¼å¼€å§‹å­¦ä¹ ï¼ï¼ï¼</li>
</ul>
<hr/>
<p><strong>æœ¬ç¯‡æ–‡ç« åŠåç»­å­¦ä¹ å‚è€ƒï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1834y1676P%3Fspm_id_from%3D333.788.videopod.episodes%26vd_source%3D19e007a1660dfd5c8f1744e56d027bf4%26p%3D2" target="_blank" title="https://www.bilibili.com/video/BV1834y1676P?spm_id_from=333.788.videopod.episodes&amp;vd_source=19e007a1660dfd5c8f1744e56d027bf4&amp;p=2" ref="nofollow noopener noreferrer">é»‘é©¬â€”å¾®ä¿¡å°ç¨‹åºç®€ä»‹</a></p>
<h2 data-id="heading-1">WXå°ç¨‹åº-ç®€ä»‹</h2>
<p><strong>å°ç¨‹åºä¸æ™®é€šç½‘é¡µå¼€å‘çš„åŒºåˆ«ï¼š</strong></p>
<p><strong>è¿è¡Œç¯å¢ƒä¸åŒï¼š</strong></p>
<ul>
<li>
<p><strong>æ™®é€šç½‘é¡µ</strong>ï¼šè¿è¡Œåœ¨ Chrome ç­‰æµè§ˆå™¨å†…æ ¸ä¸­ï¼Œ</p>
<p>ä¾èµ–å®Œæ•´çš„ DOMï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰å’Œ BOMï¼ˆæµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼‰</p>
<p>è·¨æµè§ˆå™¨å…¼å®¹æ€§æ˜¯æ ¸å¿ƒç—›ç‚¹ï¼ˆæ¯”å¦‚ä¸åŒæµè§ˆå™¨å¯¹ CSS å±æ€§çš„æ”¯æŒå·®å¼‚ï¼‰</p>
</li>
<li>
<p><strong>å°ç¨‹åº</strong>ï¼šè¿è¡Œåœ¨å¾®ä¿¡å†…ç½®çš„åŒçº¿ç¨‹ç¯å¢ƒï¼Œæ—  DOM/BOMï¼Œ</p>
<p>æ‰€æœ‰èƒ½åŠ›ç”±å¾®ä¿¡æ¡¥æ¥å±‚æä¾›ï¼Œå…¼å®¹æ€§å®Œå…¨ç”±å¾®ä¿¡ä¿éšœï¼Œæ— éœ€é€‚é…å¤šæµè§ˆå™¨</p>
</li>
</ul>
<p><strong>å¼€å‘æ¨¡å¼ä¸åŒï¼š</strong></p>
<ul>
<li>
<p><strong>æ™®é€šç½‘é¡µ</strong>ï¼šå¯è°ƒç”¨æµè§ˆå™¨æä¾›çš„ DOM/BOM API</p>
<p>å¦‚ï¼š<code>document.getElementById</code>ã€<code>window.location</code>ï¼Œä¹Ÿèƒ½ä½¿ç”¨å‰ç«¯æ¡†æ¶çš„API</p>
</li>
<li>
<p><strong>å°ç¨‹åº</strong>ï¼š<strong>å®Œå…¨ç¦æ­¢ DOM/BOM API</strong>ï¼Œåªèƒ½ä½¿ç”¨å¾®ä¿¡ä¸“å± API</p>
<p>å¦‚ï¼š<code>wx.request</code>å‘èµ·ç½‘ç»œè¯·æ±‚ã€<code>wx.scanCode</code>è°ƒç”¨æ‰«ç ã€<code>wx.pay</code>å‘èµ·æ”¯ä»˜</p>
<p>è¿™äº› API ç›´æ¥å¯¹æ¥å¾®ä¿¡ç”Ÿæ€èƒ½åŠ›ï¼Œä½“éªŒæ¥è¿‘åŸç”Ÿ Appï¼Œ<code>å°ç¨‹åºå¼€å‘éœ€è¦ç†Ÿæ‚‰å¾®ä¿¡ API æ–‡æ¡£</code>ï¼›</p>
</li>
</ul>
<p><strong>API ä¸åŒï¼š</strong></p>
<ul>
<li>
<p><strong>æ™®é€šç½‘é¡µ</strong>ï¼šå¼€å‘å·¥å…·ä»…éœ€ <code>æµè§ˆå™¨ + ä»£ç ç¼–è¾‘å™¨ å¦‚ VS Code</code></p>
<p>è°ƒè¯•ç”¨æµè§ˆå™¨ F12ï¼Œä¸Šçº¿åªéœ€å°†æ–‡ä»¶ä¸Šä¼ è‡³æœåŠ¡å™¨ï¼Œæ— å¹³å°å®¡æ ¸ï¼›</p>
</li>
<li>
<p><strong>å°ç¨‹åº</strong>ï¼šå¿…é¡»éµå¾ªå¾®ä¿¡çš„æ ‡å‡†æµç¨‹ï¼š</p>
<p>ç”³è¯·å°ç¨‹åºå¼€å‘è´¦å·ã€å®‰è£…å¾®ä¿¡å¼€å‘è€…å·¥å…·ã€</p>
<p>åˆ›å»ºå¹¶é…ç½®å°ç¨‹åºé¡¹ç›®åˆ›å»ºå¹¶é…ç½®å°ç¨‹åºé¡¹ç›®ã€</p>
<p>è°ƒè¯•ä¾èµ–å¼€å‘è€…å·¥å…·çš„æ¨¡æ‹Ÿå™¨ / çœŸæœºé¢„è§ˆï¼Œä¸Šçº¿éœ€ç»è¿‡å¾®ä¿¡å¹³å°å®¡æ ¸(1-3 ä¸ªå·¥ä½œæ—¥)</p>
</li>
</ul>
<p><strong>ğŸ§Šä½“éªŒå°ç¨‹åºï¼š</strong> å¯ä½¿ç”¨æ‰‹æœºå¾®ä¿¡(6.7.2 åŠä»¥ä¸Šç‰ˆæœ¬)æ‰«ç ä¸‹æ–¹å°ç¨‹åºç ï¼Œä½“éªŒå°ç¨‹åºï¼Œç›¸å…³ç»„ä»¶æ¨¡å—ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fi-blog.csdnimg.cn%2Fdirect%2Fa6360f35808e4d6f919e03315f1e500c.png" target="_blank" title="https://i-blog.csdnimg.cn/direct/a6360f35808e4d6f919e03315f1e500c.png" ref="nofollow noopener noreferrer">i-blog.csdnimg.cn/direct/a636â€¦</a></p>
<h2 data-id="heading-2">ç¬¬ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºï¼š</h2>
<h3 data-id="heading-3">æ³¨å†Œå°ç¨‹åºå¼€å‘è´¦å·ï¼š</h3>
<p>ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2F" target="_blank" title="https://mp.weixin.qq.com/" ref="nofollow noopener noreferrer">mp.weixin.qq.com/</a> ç½‘å€ï¼Œ</p>
<p>ç‚¹å‡»å³ä¸Šè§’çš„â€œ<strong>ç«‹å³æ³¨å†Œ</strong>â€å³å¯è¿›å…¥åˆ°å°ç¨‹åºå¼€å‘è´¦å·çš„æ³¨å†Œæµç¨‹ï¼Œ<strong>æ­¤å¤„å°±ä¸è¯¦ç»†ä»‹ç»ï¼š</strong></p>
<ul>
<li>
<p><strong>é€‰æ‹©æ³¨å†Œè´¦å·çš„ç±»å‹ï¼š</strong> å°ç¨‹åºï¼›</p>
</li>
<li>
<p><strong>å¡«å†™è´¦å·ä¿¡æ¯ï¼Œé‚®ç®±æ³¨å†Œï¼š</strong> æ³¨æ„ï¼Œæ¯ä¸ªé‚®ç®±ä»…å¯ä»¥ç”³è¯·ä¸€ä¸ªå°ç¨‹åºï¼<code>é‚®ç®±è®¤è¯ï¼</code></p>
</li>
<li>
<p><strong>é€‰æ‹©å°ç¨‹åºä¸»ä½“ç±»å‹ï¼šä¿¡æ¯ç™»è®°</strong>  æŒ‰éœ€æ±‚å¡«å†™å³å¯ï¼Œå­¦ä¹ é˜¶æ®µå»ºè®®ï¼š<code>ä¸­å›½å¤§é™†</code> / <code>ä¸ªäºº</code></p>
<p>ä¸ªäººä¸ä¼ä¸šä¸»ä½“çš„å·®å¼‚ç›´æ¥å†³å®šäº†å°ç¨‹åºçš„ <strong>åŠŸèƒ½æƒé™ã€å®¡æ ¸éš¾åº¦ã€æ³•å¾‹è´£ä»»å’Œå•†ä¸šå˜ç°èƒ½åŠ›</strong></p>
</li>
</ul>
<p>ä¸ªäººä¸»ä½“ï¼šä»…éœ€ <strong>èº«ä»½è¯ + å¾®ä¿¡å®åè®¤è¯</strong>ï¼Œæ— éœ€è¥ä¸šæ‰§ç…§ï¼Œæµç¨‹ 5 åˆ†é’Ÿå®Œæˆï¼Œ<strong>é™åˆ¶å¤š</strong>ï¼š</p>
<ul>
<li>ä¸å¯å¼€é€š <strong>å¾®ä¿¡æ”¯ä»˜ã€äº‘å¼€å‘ã€æ•æ„Ÿæ¥å£</strong> <code>å¦‚æ‰‹æœºå·å¿«é€ŸéªŒè¯ã€unionID</code>  ç­‰â€¦â€¦â€¦â€¦</li>
<li>ä»… 1 ä¸ªç®¡ç†å‘˜è´¦å·ï¼ŒåŒä¸€èº«ä»½è¯æœ€å¤šæ³¨å†Œ <strong>5 ä¸ª</strong> å°ç¨‹åº</li>
</ul>
<p>ä¼ä¸šä¸»ä½“ï¼šéœ€ <strong>è¥ä¸šæ‰§ç…§ + æ³•äººèº«ä»½è¯ + å¯¹å…¬è´¦æˆ· / æ³•äººå¾®ä¿¡è®¤è¯</strong>ï¼Œ</p>
<ul>
<li>éƒ¨åˆ†è¡Œä¸šéœ€è¡Œä¸šèµ„è´¨ï¼Œå¦‚<code>é£Ÿå“</code>ã€<code>åŒ»ç–—</code>ï¼Œ <strong>å…¨åŠŸèƒ½ã€å®¡æ ¸ä¸¥æ ¼</strong>ï¼ŒåŒä¸€ä¼ä¸šæœ€å¤šæ³¨å†Œ <strong>50 ä¸ª</strong> å°ç¨‹åºï¼›</li>
</ul>
<hr/>
<p><strong>è·å–å°ç¨‹åºAPPIDï¼š</strong> ğŸ†—ç»è¿‡ä¸Šé¢çš„æ“ä½œï¼Œå·²ç»æˆåŠŸæ³¨å†Œäº†å°ç¨‹åºè´¦å·ï¼Œæ¥ä¸‹æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2F" target="_blank" title="https://mp.weixin.qq.com/" ref="nofollow noopener noreferrer">âŒ¨ï¸ç™»å½•ï¼Œå¾®ä¿¡å…¬ä¼—å¹³å°</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84e2c730ef1f456ab47a96dffb05bdf8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oWI5qeYeWE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770624503&amp;x-signature=K%2Besir5sRwNUfUf3jOeFIeh9Xd4%3D" alt="image-20260129153600067.png" loading="lazy"/>
<strong>å¼€å‘ä¸æœåŠ¡â€”â€”å¼€å‘è®¾ç½®ï¼š</strong> æ—¶é—´æ¨ç§»ï¼Œå¯èƒ½ä¼šæœ‰æ‰€å˜åŒ–ï¼Œå½±å“ä¸å¤§ï¼</p>
<p><strong>AppID å°ç¨‹åºå”¯ä¸€æ ‡è¯†ï¼š</strong></p>
<p>AppID æ˜¯å¾®ä¿¡ç»™æ¯ä¸ªå°ç¨‹åºåˆ†é…çš„<strong>å…¨çƒå”¯ä¸€å­—ç¬¦ä¸²</strong></p>
<p>å¦‚ <code>wx8407df8e55ebb60d</code> ç›¸å½“äºå°ç¨‹åºçš„ â€œèº«ä»½è¯å·â€ï¼Œ<strong>å…¬å¼€å¯æš´éœ²</strong></p>
<ul>
<li>
<p><strong>æ–°å»ºé¡¹ç›®å¿…å¤‡</strong>ï¼šåœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­åˆ›å»ºé¡¹ç›®æ—¶ï¼Œå¿…é¡»å¡«å…¥ AppIDï¼Œ</p>
<p>å·¥å…·ä¼šæ ¹æ® AppID å…³è”å¯¹åº”çš„å°ç¨‹åºè´¦å·ï¼ŒåŒºåˆ†<strong>æµ‹è¯•å·</strong>å’Œ<strong>æ­£å¼å·</strong>ï¼ŒåŠ è½½å¯¹åº”çš„æƒé™ä¸é…ç½®</p>
</li>
<li>
<p><strong>å¾®ä¿¡ç”Ÿæ€å”¯ä¸€æ ‡è¯†</strong>ï¼šå°ç¨‹åºè°ƒç”¨å¾®ä¿¡æ‰€æœ‰ API å¦‚ï¼šæ‰«ç ã€å®šä½ã€ç™»å½•æ—¶ï¼Œ</p>
<p>å¿…é¡»æºå¸¦ AppIDï¼Œå¾®ä¿¡æœåŠ¡å™¨é€šè¿‡ AppID è¯†åˆ« â€œæ˜¯å“ªä¸ªå°ç¨‹åºåœ¨è¯·æ±‚â€</p>
</li>
</ul>
<p><strong>AppSecret å°ç¨‹åºå¯†é’¥ï¼š</strong></p>
<p>AppSecret æ˜¯å°ç¨‹åºçš„ <strong>ç§å¯†é‰´æƒå¯†é’¥</strong>ï¼Œç›¸å½“äº â€œç™»å½•å¯†ç â€ï¼Œ<strong>ç»å¯¹ä¸å¯æš´éœ²</strong></p>
<p>ä»…å­˜å‚¨åœ¨ï¼Œåç«¯æœåŠ¡ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯<strong>èº«ä»½é‰´æƒ</strong>ï¼Œç”Ÿæˆï¼š<strong>è°ƒç”¨å¾®ä¿¡æ•æ„Ÿ API æ ¸å¿ƒå‡­è¯ <code>access_token</code></strong></p>
<h3 data-id="heading-4">å®‰è£…å¾®ä¿¡å¼€å‘è€…å·¥å…·ï¼š</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.weixin.qq.com%2Fminiprogram%2Fdev%2Fdevtools%2Fdownload.html" target="_blank" title="https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html" ref="nofollow noopener noreferrer">ä¸‹è½½|å®‰è£…å¼€å‘è€…å·¥å…·ï¼š</a> <strong>å®˜æ–¹æ¨èä½¿ç”¨çš„å°ç¨‹åºå¼€å‘å·¥å…·ğŸª„ğŸª„ğŸª„</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e485169645184332ab58db057e05e217~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oWI5qeYeWE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770624503&amp;x-signature=J8g3DwH1kmXaXDxyHX%2F9U5lMMXY%3D" alt="PixPin_2026-01-29_16-29-31.gif" loading="lazy"/></p>
<p><strong>â†—ï¸ç‚¹å‡»å³ä¸Šè§’ã€è®¾ç½®ã€‘</strong> å¯ä»¥å¯¹å¼€å‘å·¥å…·è¿›è¡Œè®¾ç½®ï¼šæ ·å¼ã€é»˜è®¤è·¯å¾„ã€æœåŠ¡ä»£ç†ç­‰ç­‰ï¼Œ</p>
<p><strong>ğŸŒä»£ç†è®¾ç½®ï¼š</strong> å»ºè®®ä½¿ç”¨ï¼š<code>ä¸ä½¿ç”¨ä»»ä½•ä»£ç†</code> å› ä¸ºï¼Œä¸åŒäººçš„ç”µè„‘å¯èƒ½å­˜åœ¨ä¸€äº›é…ç½®|é­”æ³•å·¥å…·ï¼ï¼</p>
<p>è€Œå¾®ä¿¡å°ç¨‹åºï¼Œå¼€å‘ä¸­æœ‰å¾ˆå¤šéœ€è¦å’Œå¾®ä¿¡è¿›è¡Œé€šä¿¡çš„ï¼Œå‹¾é€‰æ­¤é…ç½®ï¼Œæ›´èƒ½ä¿è¯ï¼Œå¾®ä¿¡API é€šçŸ¥ç¨³å®šï¼</p>
<h3 data-id="heading-5">åˆ›å»ºå¾®ä¿¡å°ç¨‹åºé¡¹ç›®ï¼š</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/590ba1700f804abeadd551f3aaef0eef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oWI5qeYeWE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770624503&amp;x-signature=zgfsdRirwB6i8ZpruKv7xqmvUWU%3D" alt="PixPin_2026-01-29_17-17-56.gif" loading="lazy"/></p>
<p><strong>AppIDå°ç¨‹åºå”¯ä¸€æ ‡è¯†ï¼ˆå¦‚æˆªå›¾ä¸­çš„<code>wx5ed...29d6</code>ï¼‰</strong></p>
<p><strong>åç«¯æœåŠ¡ + è¯­è¨€åç«¯æœåŠ¡é€‰ â€œä¸ä½¿ç”¨äº‘æœåŠ¡â€ï¼Œè¯­è¨€é€‰ <code>JavaScript</code></strong></p>
<ul>
<li>
<p><strong>ä¸ä½¿ç”¨äº‘æœåŠ¡</strong>ï¼šé€‚åˆåç«¯å¼€å‘è€…ï¼Œå› ä¸ºéœ€è¦ <strong>è‡ªå»ºåç«¯æœåŠ¡</strong> å¯¹æ¥å°ç¨‹åºï¼Œ</p>
<p>äº‘æœåŠ¡æ˜¯å¾®ä¿¡æä¾›çš„äº‘ç«¯åç«¯ï¼Œæ— éœ€è‡ªå»ºæœåŠ¡å™¨ï¼Œ <strong>é€‚åˆçº¯å‰ç«¯å¼€å‘è€…</strong></p>
</li>
<li>
<p><strong>JavaScript</strong>ï¼šå°ç¨‹åºåŸç”Ÿå¼€å‘çš„é»˜è®¤è¯­è¨€ï¼Œå…¥é—¨é—¨æ§›ä½ï¼Œé€‚åˆæ–°æ‰‹ï¼›<strong>é¡µé¢å¦‚æ­¤ï¼š</strong></p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89a888d55f524302b9779620ce4a2479~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oWI5qeYeWE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770624503&amp;x-signature=Q2UuMQwgAoBqWRBkus318KWpW7U%3D" alt="PixPin_2026-01-29_17-31-14.gif" loading="lazy"/>
<code>ä¸è¯¦ç»†ä»‹ç»äº†ï¼Œæ‘¸ç´¢ç€å»ä½“éªŒå§ï¼ï¼ï¼</code></p>
<h3 data-id="heading-6">å°ç¨‹åºä»£ç çš„æ„æˆï¼š</h3>
<pre><code class="hljs language-tcl" lang="tcl">WSM01/
â”œâ”€â”€ pages/                # é¡µé¢æ¨¡å—ç›®å½•ï¼ˆæ ¸å¿ƒï¼‰ï¼Œæ¯ä¸ªé¡µé¢ä¸€ä¸ªç‹¬ç«‹å­æ–‡ä»¶å¤¹
â”‚   â”œâ”€â”€ index/            # é¦–é¡µï¼ˆé»˜è®¤é¡µé¢ï¼‰ï¼ŒåŒ…å«4ä¸ªæ ¸å¿ƒæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ index.wxml    # é¡µé¢ç»“æ„
â”‚   â”‚   â”œâ”€â”€ index.wxss    # é¡µé¢æ ·å¼
â”‚   â”‚   â”œâ”€â”€ index.js      # é¡µé¢é€»è¾‘
â”‚   â”‚   â””â”€â”€ index.json    # é¡µé¢é…ç½®
â”‚   â””â”€â”€ logs/             # æ—¥å¿—é¡µé¢ï¼ˆé»˜è®¤ç”Ÿæˆï¼Œå¯åˆ é™¤/ä¿®æ”¹ï¼‰
â”œâ”€â”€ utils/                # é€šç”¨å·¥å…·ç±»ç›®å½•ï¼ˆå¯¹åº”Javaçš„utilsåŒ…ï¼‰
â”œâ”€â”€ app.js                # å…¨å±€é€»è¾‘æ–‡ä»¶ï¼ˆå¯¹åº”Javaçš„å…¨å±€å…¥å£ç±»ï¼‰
â”œâ”€â”€ app.json              # å…¨å±€é…ç½®æ–‡ä»¶ï¼ˆæ ¸å¿ƒï¼Œå¯¹åº”Javaçš„application.ymlï¼‰
â”œâ”€â”€ app.wxss              # å…¨å±€æ ·å¼æ–‡ä»¶ï¼ˆå¯¹åº”Javaçš„å…¨å±€æ ·å¼/å…¬å…±CSSï¼‰
â”œâ”€â”€ project.config.json   # å¼€å‘è€…å·¥å…·é¡¹ç›®é…ç½®ï¼ˆå¯¹åº”Javaçš„pom.xml/gradleé…ç½®ï¼‰
â”œâ”€â”€ project.private.config.json # ç§æœ‰é…ç½®ï¼ˆå¦‚ä¸ªäººå¼€å‘åå¥½ï¼Œæ— éœ€å…³æ³¨ï¼‰
â””â”€â”€ sitemap.json          # å¾®ä¿¡æœç´¢ç´¢å¼•é…ç½®ï¼ˆSEOç›¸å…³ï¼‰
</code></pre>
<h4 data-id="heading-7">å…¨å±€æ ¸å¿ƒæ–‡ä»¶</h4>
<p>å…¨å±€æ–‡ä»¶ä½äºé¡¹ç›®æ ¹ç›®å½•ï¼Œ<strong>ä½œç”¨äºæ•´ä¸ªå°ç¨‹åº</strong>ï¼Œæ˜¯é¡¹ç›®å¯åŠ¨å’Œè¿è¡Œçš„åŸºç¡€ï¼Œå¿…é¡»å­˜åœ¨ä¸”å‘½åå›ºå®šï¼›</p>
<p><strong>app.js</strong> é€»è¾‘æ–‡ä»¶</p>
<ul>
<li>
<p>å°ç¨‹åº<strong>å…¨å±€å…¥å£</strong>ï¼Œç®¡ç†å…¨å±€ç”Ÿå‘½å‘¨æœŸã€å…¨å±€æ•°æ®ã€å…¨å±€æ–¹æ³•</p>
</li>
<li>
<p>é€šè¿‡<code>App({})</code>å‡½æ•°å®šä¹‰å…¨å±€å®ä¾‹ï¼ŒåŒ…å«</p>
<p><code>onLaunch</code>ï¼ˆå°ç¨‹åºå¯åŠ¨æ—¶æ‰§è¡Œï¼Œä»… 1 æ¬¡ï¼‰<code>onShow</code>ï¼ˆå°ç¨‹åºå‰å°æ˜¾ç¤ºæ—¶æ‰§è¡Œï¼‰ç­‰ç”Ÿå‘½å‘¨æœŸï¼›</p>
<p>å­˜æ”¾å…¨å±€æ•°æ®ï¼Œå¦‚åç«¯æ¥å£åŸºç¡€åœ°å€ <code>globalData: { baseUrl: "https://xx.xx.x.xx:8080" }</code></p>
</li>
</ul>
<p><strong>app.json</strong> é…ç½®æ–‡ä»¶</p>
<ul>
<li>å°ç¨‹åº<strong>å…¨å±€é…ç½®æ ¸å¿ƒ</strong>ï¼Œå†³å®šé¡µé¢è·¯ç”±ã€çª—å£æ ·å¼ã€tabBar ç­‰ï¼Œ<strong>ä¸¥æ ¼ JSON æ ¼å¼</strong></li>
<li><code>pages</code>ï¼šé¡µé¢è·¯ç”±æ•°ç»„ <strong>ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºé»˜è®¤é¦–é¡µ</strong>ï¼Œæ–°å¢é¡µé¢<code>å¿…é¡»åœ¨è¿™é‡Œæ³¨å†Œï¼Œå·¥å…·ä¼šè‡ªåŠ¨ç”Ÿæˆé¡µé¢æ–‡ä»¶</code></li>
<li><code>window</code>ï¼šå…¨å±€çª—å£æ ·å¼ï¼šå¯¼èˆªæ æ ‡é¢˜ã€èƒŒæ™¯è‰²ã€æ–‡å­—é¢œè‰²ï¼›</li>
<li><code>sitemapLocationï¼š</code> ç”¨æ¥æŒ‡æ˜ <code>sitemap.json</code> æ–‡ä»¶ä½ç½®</li>
<li><code>tabBar</code>ï¼šåº•éƒ¨å¯¼èˆªæ ï¼šå¤šé¡µé¢åˆ‡æ¢æ—¶é…ç½®ï¼›</li>
</ul>
<p><strong>app.wxss</strong> æ ·å¼æ–‡ä»¶ï¼Œå…¨å±€æ ·å¼è¡¨ï¼Œæ‰€æœ‰é¡µé¢å‡å¯ç»§æ‰¿ä½¿ç”¨ï¼›</p>
<ul>
<li>è¯­æ³•ï¼šåŸºäº CSSï¼Œæ”¯æŒ<code>rpx</code>é€‚é…å•ä½ï¼Œ<strong>æ— ä½œç”¨åŸŸ</strong>ï¼Œæ‰€æœ‰é¡µé¢ç”Ÿæ•ˆï¼›</li>
<li>å­˜æ”¾å…¬å…±æ ·å¼ï¼Œå¦‚æŒ‰é’®é»˜è®¤æ ·å¼ã€å…¨å±€å­—ä½“ã€é¢œè‰²å˜é‡ï¼Œé¿å…é‡å¤ç¼–å†™æ ·å¼ï¼›</li>
</ul>
<h4 data-id="heading-8">é¡µé¢æ¨¡å—ç›®å½•</h4>
<p><strong><code>pages/</code></strong> ç›®å½•æ˜¯å°ç¨‹åºçš„<strong>é¡µé¢å®¹å™¨</strong>ï¼Œ<strong>æ¯ä¸ªé¡µé¢å¯¹åº”ä¸€ä¸ªç‹¬ç«‹å­æ–‡ä»¶å¤¹</strong> <code>å¦‚: æˆªå›¾ä¸­çš„indexã€logs</code></p>
<p>æ–‡ä»¶å¤¹åç§°å»ºè®®ä¸é¡µé¢åŠŸèƒ½ä¸€è‡´ å¦‚ï¼š<code>home</code>ã€<code>order</code> <strong>æ¯ä¸ªé¡µé¢å¿…é¡»åŒ…å« 1-4 ä¸ªæ ¸å¿ƒæ–‡ä»¶</strong></p>
<p><strong>xxx.wxml</strong> ç»“æ„æ–‡ä»¶ï¼Œé¡µé¢è§†å›¾å±‚ï¼Œå®šä¹‰é¡µé¢ç»“æ„ <code>å¯¹åº”HTML</code></p>
<p><strong>xxx.wxss</strong> æ ·å¼æ–‡ä»¶ï¼Œé¡µé¢è§†å›¾å±‚ï¼Œå®šä¹‰é¡µé¢ä¸“å±æ ·å¼ <code>å¯¹åº” CSS</code></p>
<p><strong>xxx.js</strong> é€»è¾‘æ–‡ä»¶ï¼Œé¡µé¢é€»è¾‘å±‚ï¼Œç®¡ç†é¡µé¢ç”Ÿå‘½å‘¨æœŸã€æ•°æ®ã€äº¤äº’ã€å“åº”ï¼›</p>
<p><strong>xxx.json</strong> é¡µé¢é…ç½®æ–‡ä»¶é¡µé¢ä¸“å±é…ç½®ï¼Œè¦†ç›–å…¨å±€é…ç½® app.jsonï¼Œä¼˜å…ˆçº§æœ€é«˜ï¼</p>
<h4 data-id="heading-9">é€šç”¨å·¥å…· / é…ç½®æ–‡ä»¶</h4>
<p><strong>å·¥å…·å°è£…ã€å¼€å‘è€…å·¥å…·é…ç½®ã€æœç´¢ä¼˜åŒ–</strong>ï¼Œéæ ¸å¿ƒä¸šåŠ¡æ–‡ä»¶ï¼Œä½†èƒ½æå‡å¼€å‘æ•ˆç‡å’Œé¡¹ç›®è§„èŒƒæ€§</p>
<p><strong>utils/</strong> é€šç”¨å·¥å…·ç±»ç›®å½•</p>
<ul>
<li>å­˜æ”¾å¯å¤ç”¨çš„ JS å·¥å…·å‡½æ•°</li>
<li>å¦‚ï¼š<code>æ—¥æœŸæ ¼å¼åŒ–ã€æ¥å£è¯·æ±‚å°è£…ã€æ•°æ®æ ¡éªŒ</code></li>
</ul>
<p><strong>sitemap.json</strong> å¾®ä¿¡æœç´¢ç´¢å¼•é…ç½®ï¼Œæ§åˆ¶å°ç¨‹åºæ˜¯å¦å…è®¸ï¼š<code>è¢«å¾®ä¿¡æœç´¢æ”¶å½•</code></p>
<p><strong>project.config.json</strong> å¼€å‘è€…å·¥å…·é¡¹ç›®é…ç½®ï¼šä¿å­˜ï¼Œå¼€å‘è€…å·¥å…·çš„ä¸ªæ€§åŒ–è®¾ç½®ğŸ”§</p>
<ul>
<li>å¦‚ AppIDã€é¡¹ç›®åç§°ã€ç¼–è¯‘æ¨¡å¼ï¼Œ<strong>æäº¤ä»£ç æ—¶å»ºè®®ä¿ç•™</strong>ï¼Œç¡®ä¿å›¢é˜Ÿå¼€å‘ç¯å¢ƒä¸€è‡´ï¼›</li>
</ul>
<p><strong>project.private.config.json</strong> ç§æœ‰é…ç½®ï¼Œå­˜æ”¾ä¸ªäººå¼€å‘åå¥½ï¼š<code>å¦‚ç¼–è¾‘å™¨ä¸»é¢˜ã€å¿«æ·é”®</code> <strong>æ— éœ€æäº¤ä»£ç </strong></p>
<h3 data-id="heading-10">å°ç¨‹åºåŸºæœ¬ä½¿ç”¨ï¼š</h3>
<h4 data-id="heading-11">app.json æ“ä½œï¼š</h4>
<p><strong>app.json</strong> åŸºç¡€æ“ä½œï¼Œå¤§è‡´å¦‚æ­¤ï¼Œä¸åŒç‰ˆæœ¬å¯èƒ½ä¼šå­˜åœ¨å·®å¼‚ï¼Œå½±å“ä¸å¤§ï¼</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"pages"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"pages/index/index"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"pages/logs/logs"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"window"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"navigationBarTextStyle"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"black"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"navigationBarTitleText"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Weixin"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"navigationBarBackgroundColor"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"#ffffff"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"style"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"v2"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"componentFramework"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"glass-easel"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"sitemapLocation"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"sitemap.json"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"lazyCodeLoading"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"requiredComponents"</span>
<span class="hljs-punctuation">}</span>

</code></pre>
<ul>
<li><strong>styleï¼š</strong> æŒ‡å®šå°ç¨‹åºçš„ <strong>æ ·å¼ç‰ˆæœ¬</strong>ï¼Œ<code>v2</code>æ˜¯å¾®ä¿¡æ¨å‡ºçš„ <strong>æ–°ç‰ˆæ ·å¼æ ‡å‡†</strong></li>
<li><strong>sitemapLocationï¼š</strong> æŒ‡å®šå°ç¨‹åº <strong>æœç´¢ç´¢å¼•é…ç½®æ–‡ä»¶</strong> è·¯å¾„ï¼Œæ§åˆ¶å°ç¨‹åºé¡µé¢å…è®¸è¢«å¾®ä¿¡æœç´¢æ”¶å½•ï¼›</li>
<li><strong>lazyCodeLoadingï¼š</strong> å°ç¨‹åºçš„ <strong>ä»£ç æ‡’åŠ è½½ç­–ç•¥</strong>ï¼Œ<code>requiredComponents</code> <strong>ä»…åœ¨è‡ªå®šä¹‰ç»„ä»¶æ—¶ä½¿ç”¨ï¼›</strong></li>
</ul>
<h5 data-id="heading-12">pagesï¼š</h5>
<p><strong>å°ç¨‹åºçš„é¡µé¢è·¯ç”±ç”±<code>app.json</code>çš„<code>pages</code>æ•°ç»„è‡ªåŠ¨ç®¡ç†</strong>ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®è·¯ç”±æ˜ å°„ï¼›</p>
<p><strong>é»˜è®¤é¦–é¡µ</strong>ï¼šæ•°ç»„<strong>ç¬¬ä¸€ä¸ªå…ƒç´ </strong>ï¼ˆ<code>pages/index/index</code>ï¼‰æ˜¯å°ç¨‹åºå¯åŠ¨æ—¶çš„é»˜è®¤é¦–é¡µï¼›</p>
<p><strong>è‡ªåŠ¨ç”Ÿæˆé¡µé¢</strong>ï¼šè‹¥åœ¨<code>pages</code>ä¸­æ–°å¢é¡µé¢è·¯å¾„ï¼Œå¾®ä¿¡å¼€å‘è€…å·¥å…·ä¼š <strong>è‡ªåŠ¨ç”Ÿæˆè¯¥é¡µé¢çš„ 4 ä¸ªæ ¸å¿ƒæ–‡ä»¶</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5d524a5708e443d8ce908f8cf1fbfe2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oWI5qeYeWE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770624503&amp;x-signature=40vKJmFVoOhfuZugQf4lOW2FDtE%3D" alt="PixPin_2026-01-29_21-06-29.gif" loading="lazy"/></p>
<h5 data-id="heading-13">window:</h5>
<p>æ§åˆ¶å°ç¨‹åº  <strong>é¡¶éƒ¨å¯¼èˆªæ ï¼ˆçª—å£ï¼‰</strong> çš„å…¨å±€æ ·å¼ï¼Œæ‰€æœ‰é¡µé¢é»˜è®¤ç»§æ‰¿è¯¥é…ç½®ï¼Œ</p>
<p>è‹¥é¡µé¢æœ‰å•ç‹¬çš„<code>xxx.json</code>é…ç½®ï¼Œä¼šè¦†ç›–æ­¤å¤„çš„å¯¹åº”å±æ€§ï¼›</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2343785272f14a0fb269452928cbcc9a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oWI5qeYeWE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770624503&amp;x-signature=g2Ktxotd4pn6r4pJb%2B%2F5RYDVWVk%3D" alt="PixPin_2026-01-29_21-52-24.gif" loading="lazy"/></p>
<h4 data-id="heading-14">project.config.json æ“ä½œï¼š</h4>
<p><code>project.config.json</code> æ˜¯é¡¹ç›®é…ç½®æ–‡ä»¶ï¼Œç”¨æ¥è®°å½•æˆ‘ä»¬å¯¹å°ç¨‹åºå¼€å‘å·¥å…·æ‰€åšçš„ä¸ªæ€§åŒ–é…ç½®ï¼›</p>
<p><strong>appidï¼š</strong> ä¿å­˜çš„æ˜¯å°ç¨‹åºçš„è´¦å· IDï¼Œ<code>å¦‚æœå¯¼å…¥çš„é¡¹ç›®ï¼Œéœ€è¦åˆ°è¿™è¾¹æ›´æ¢ï¼Œè‡ªå·±å°ç¨‹åºçš„IDï¼ï¼</code></p>
<p><strong>projectnameï¼š</strong> è®¾ç½®ä¿å­˜çš„æ˜¯é¡¹ç›®åç§°ï¼Œæ³¨æ„é¡¹ç›®åç§°ï¼Œ<code>å¹¶ä¸æ˜¯å°ç¨‹åºåç§°ï¼</code></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"compileType"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"miniprogram"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"libVersion"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"trial"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"packOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"ignore"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"include"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"setting"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-comment">//...çœç•¥å±•ç¤º...</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"condition"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"editorSetting"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"tabIndent"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"auto"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"tabSize"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"appid"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"wx8407df8e55ebb60d"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"simulatorPluginLibVersion"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h5 data-id="heading-15">settingï¼š</h5>
<p><strong>setting ä¸­ä¿å­˜äº†ç¼–è¯‘ç›¸å…³çš„é…ç½®ï¼š</strong> å¼€å‘è€…å·¥å…·çš„ä¸ªæ€§åŒ–è®¾ç½®ï¼›</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/61e11befdad3477cad927c14add47f33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oWI5qeYeWE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770624503&amp;x-signature=CpGWt%2Bj0D5HfnhudSQtcgGbQH7o%3D" alt="PixPin_2026-01-29_22-03-25.gif" loading="lazy"/></p>
<h3 data-id="heading-16">å°ç¨‹åºå®¿ä¸»ç¯å¢ƒï¼š</h3>
<p><strong>å®¿ä¸»ç¯å¢ƒ</strong>  <code>host environment</code> æŒ‡çš„æ˜¯ç¨‹åºè¿è¡Œæ‰€<strong>å¿…é¡»çš„ä¾èµ–ç¯å¢ƒ</strong></p>
<p><code>Androidç³»ç»Ÿ</code> å’Œ <code>iOSç³»ç»Ÿ</code>æ˜¯ä¸¤ä¸ªä¸åŒçš„å®¿ä¸»ç¯å¢ƒã€‚å®‰å“ç‰ˆçš„å¾®ä¿¡ App æ˜¯ä¸èƒ½åœ¨ iOS ç¯å¢ƒä¸‹è¿è¡Œçš„ï¼›</p>
<p><strong>å¾®ä¿¡</strong>æ˜¯å°ç¨‹åºçš„å®¿ä¸»ç¯å¢ƒï¼Œå°ç¨‹åºå€ŸåŠ©å®¿ä¸»ç¯å¢ƒæä¾›çš„èƒ½åŠ›ï¼Œå¯ä»¥å®Œæˆè®¸å¤šæ™®é€šç½‘é¡µæ— æ³•å®Œæˆçš„åŠŸèƒ½ï¼›</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e535c9d832aa42e882b67df899b73cf0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oWI5qeYeWE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770624503&amp;x-signature=3jDD9hLbvIub1pmIPKMbN915GYU%3D" alt="image-20260130010428829.png" loading="lazy"/></p>
<p><strong>å°ç¨‹åºå®¿ä¸»ç¯å¢ƒåŒ…å«çš„å†…å®¹ï¼š</strong> <code>é€šä¿¡æ¨¡å‹(äº†è§£)ã€è¿è¡Œæœºåˆ¶(äº†è§£)ã€ç»„ä»¶ã€API</code></p>
<h4 data-id="heading-17">é€šä¿¡æ¨¡å‹</h4>
<p><strong>å°ç¨‹åºä¸­ <code>é€šä¿¡çš„ä¸»ä½“</code> æ˜¯æ¸²æŸ“å±‚å’Œé€»è¾‘å±‚ï¼Œ</strong></p>
<p><strong>å…¶ä¸­ï¼š</strong> WXML æ¨¡æ¿å’Œ WXSS æ ·å¼å·¥ä½œåœ¨æ¸²æŸ“å±‚ã€JSè„šæœ¬å·¥ä½œåœ¨é€»è¾‘å±‚</p>
<p><strong>å°ç¨‹åºä¸­çš„é€šä¿¡æ¨¡å‹åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š</strong> æ¸²æŸ“å±‚å’Œé€»è¾‘å±‚ä¹‹é—´çš„é€šä¿¡ï¼Œç”±å¾®ä¿¡å®¢æˆ·ç«¯è¿›è¡Œè½¬å‘ï¼›</p>
<p>é€»è¾‘å±‚å’Œç¬¬ä¸‰æ–¹æœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®é€šä¿¡ï¼Œç”±ï¼Œå¾®ä¿¡å®¢æˆ·ç«¯è¿›è¡Œè½¬å‘ï¼›</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7387e7ce63246598a356cd926286bff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oWI5qeYeWE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770624503&amp;x-signature=SuvftzO12JUoGmSVQ1GV9MkyVKk%3D" alt="image-20260130015740435.png" loading="lazy"/></p>
<h4 data-id="heading-18">è¿è¡Œæœºåˆ¶</h4>
<p><strong>å°ç¨‹åºå¯åŠ¨çš„è¿‡ç¨‹</strong></p>
<pre><code class="hljs language-scss" lang="scss">æŠŠå°ç¨‹åºçš„ä»£ç åŒ…ä¸‹è½½åˆ°æœ¬åœ°
è§£æ app<span class="hljs-selector-class">.json</span> å…¨å±€é…ç½®æ–‡ä»¶
æ‰§è¡Œ app<span class="hljs-selector-class">.js</span> å°ç¨‹åºå…¥å£æ–‡ä»¶ï¼Œè°ƒç”¨ <span class="hljs-built_in">App</span>() åˆ›å»ºå°ç¨‹åºå®ä¾‹
æ¸²æŸ“å°ç¨‹åºé¦–é¡µ
å°ç¨‹åºå¯åŠ¨å®Œæˆ
</code></pre>
<p><strong>é¡µé¢æ¸²æŸ“çš„è¿‡ç¨‹</strong></p>
<pre><code class="hljs language-scss" lang="scss">åŠ è½½è§£æé¡µé¢çš„ <span class="hljs-selector-class">.json</span> é…ç½®æ–‡ä»¶
åŠ è½½é¡µé¢çš„ <span class="hljs-selector-class">.wxml</span> æ¨¡æ¿å’Œ <span class="hljs-selector-class">.wxss</span> æ ·å¼
æ‰§è¡Œé¡µé¢çš„ <span class="hljs-selector-class">.js</span> æ–‡ä»¶ï¼Œè°ƒç”¨ <span class="hljs-built_in">Page</span>() åˆ›å»ºé¡µé¢å®ä¾‹
é¡µé¢æ¸²æŸ“å®Œæˆ
</code></pre>
<h4 data-id="heading-19">ç»„ä»¶</h4>
<p>å°ç¨‹åºä¸­çš„ç»„ä»¶ä¹Ÿæ˜¯ç”± <strong>å®¿ä¸»ç¯å¢ƒæä¾›</strong> çš„ï¼Œå®˜æ–¹æŠŠå°ç¨‹åºçš„ç»„ä»¶åˆ†ä¸ºäº† <strong>9 å¤§ç±»</strong></p>
<p><code>è§†å›¾å®¹å™¨ã€åŸºç¡€å†…å®¹ã€è¡¨å•ç»„ä»¶ã€å¯¼èˆªç»„ä»¶ã€</code> åª’ä½“ç»„ä»¶ã€map åœ°å›¾ç»„ä»¶</p>
<p>canvas ç”»å¸ƒç»„ä»¶ã€å¼€æ”¾èƒ½åŠ›ã€æ— éšœç¢è®¿é—®ï¼›</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.weixin.qq.com%2Fminiprogram%2Fdev%2Fcomponent%2Fcover-image.html" target="_blank" title="https://developers.weixin.qq.com/miniprogram/dev/component/cover-image.html" ref="nofollow noopener noreferrer">å°ç¨‹åºç»„ä»¶ä»‹ç»ï¼ï¼ï¼</a></p>
<h5 data-id="heading-20">è§†å›¾å®¹å™¨ï¼š</h5>
<p><strong>view</strong> æ™®é€šè§†å›¾åŒºåŸŸï¼Œç±»ä¼¼äº HTML ä¸­çš„ divï¼Œæ˜¯ä¸€ä¸ªå—çº§å…ƒç´ ï¼Œå¸¸ç”¨æ¥ <code>å®ç°é¡µé¢çš„å¸ƒå±€æ•ˆæœ</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa277ede91cd4bbd9b5035bf6c735b37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oWI5qeYeWE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770624503&amp;x-signature=vhu1ZTZXOaH5uoN2l%2BanD44sulM%3D" alt="PixPin_2026-01-30_13-00-28.gif" loading="lazy"/></p>
<p><strong>scroll-view</strong>  å¯æ»šåŠ¨çš„è§†å›¾åŒºåŸŸï¼Œå¸¸ç”¨æ¥å®ç°æ»šåŠ¨åˆ—è¡¨æ•ˆæœï¼Œå¦‚ï¼šåˆ—è¡¨ã€èœå•â€¦â€¦â€¦â€¦</p>
<p>æ”¯æŒ<strong>æ¨ªå‘ / çºµå‘æ»šåŠ¨</strong>ã€æ»šåŠ¨åˆ°åº•éƒ¨ / é¡¶éƒ¨è§¦å‘äº‹ä»¶ï¼Œæ˜¯å®ç° â€œä¸Šæ‹‰åŠ è½½æ›´å¤šâ€ çš„æ ¸å¿ƒç»„ä»¶</p>
<p><code>scroll-x</code> <code>true</code>/<code>false</code>æ˜¯å¦å…è®¸æ¨ªå‘æ»šåŠ¨ï¼Œ<code>scroll-y</code> <code>true</code>/<code>false</code>æ˜¯å¦å…è®¸çºµå‘æ»šåŠ¨ï¼›</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee6c1fb8f4de455ea0b520fbb07c47cf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oWI5qeYeWE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770624503&amp;x-signature=0BeZsnRMvhUvZSVlR2opqWJTe9A%3D" alt="PixPin_2026-01-30_13-05-35.gif" loading="lazy"/></p>
<p><strong>swiper å’Œ swiper-item</strong> è½®æ’­å›¾å®¹å™¨ç»„ä»¶ å’Œ è½®æ’­å›¾ item ç»„ä»¶ï¼›</p>
<p><code>swiper</code>æ˜¯<strong>è½®æ’­å›¾å®¹å™¨</strong>ï¼Œ<code>swiper-item</code>æ˜¯<strong>è½®æ’­é¡¹</strong>ï¼ˆå¿…é¡»ä½œä¸º<code>swiper</code>çš„ç›´æ¥å­å…ƒç´ ï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/455df2c49e734d7e9d7466468865c0fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oWI5qeYeWE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770624503&amp;x-signature=O07LBUQ4F34jzyVONW1aB5nxSxQ%3D" alt="image-20260130131238374.png" loading="lazy"/></p>
<h5 data-id="heading-21"><strong>åŸºç¡€ç»„ä»¶ï¼š</strong></h5>
<p><strong>text æ–‡æœ¬ç»„ä»¶ï¼š</strong>  ç±»ä¼¼äº HTML ä¸­çš„ span æ ‡ç­¾ï¼Œæ˜¯ä¸€ä¸ªè¡Œå†…å…ƒç´ ï¼›</p>
<p><strong>rich-text å¯Œæ–‡æœ¬ç»„ä»¶ï¼š</strong> æ”¯æŒæŠŠ HTML å­—ç¬¦ä¸²æ¸²æŸ“ä¸º WXML ç»“æ„ï¼›</p>
<ul>
<li>é€šè¿‡ rich-text ç»„ä»¶çš„ nodes å±æ€§èŠ‚ç‚¹ï¼ŒæŠŠ HTML å­—ç¬¦ä¸²æ¸²æŸ“ä¸ºå¯¹åº”çš„ UI ç»“æ„ï¼›</li>
</ul>
<p><strong>image å›¾ç‰‡ç»„ä»¶ï¼š</strong> image ç»„ä»¶é»˜è®¤å®½åº¦çº¦ 300pxã€é«˜åº¦çº¦ 240px</p>
<p><strong>button æŒ‰é’®ç»„ä»¶ï¼š</strong> åŠŸèƒ½æ¯” HTML ä¸­çš„ button æŒ‰é’®ä¸°å¯Œï¼›type æŒ‡å®šä¸åŒç±»å‹ï¼›</p>
<ul>
<li>é€šè¿‡ open-type å±æ€§å¯ä»¥è°ƒç”¨å¾®ä¿¡æä¾›çš„å„ç§åŠŸèƒ½ï¼ˆå®¢æœã€è½¬å‘ã€è·å–ç”¨æˆ·æˆæƒã€è·å–ç”¨æˆ·ä¿¡æ¯ç­‰ï¼‰</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d337ce35fcf64152b71143ddf1990f09~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oWI5qeYeWE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770624503&amp;x-signature=dvabN4srSWk9mEUrH3B3rfzekeg%3D" alt="image-20260130132853264.png" loading="lazy"/></p>
<h4 data-id="heading-22">API</h4>
<p>å°ç¨‹åºä¸­çš„ API æ˜¯ç”±å®¿ä¸»ç¯å¢ƒæä¾›çš„ï¼Œé€šè¿‡è¿™äº›ä¸°å¯Œçš„å°ç¨‹åº APIï¼Œå¼€å‘è€…å¯ä»¥æ–¹ä¾¿è°ƒç”¨ <strong>å¾®ä¿¡èƒ½åŠ›</strong></p>
<p><strong>å°ç¨‹åºå®˜æ–¹æŠŠ API åˆ†ä¸ºäº†å¦‚ä¸‹ 3 å¤§ç±»ï¼š</strong> <code>äº‹ä»¶ç›‘å¬APIã€åŒæ­¥APIã€å¼‚æ­¥API</code></p>
<p><strong>äº‹ä»¶ç›‘å¬ APIï¼š</strong></p>
<ul>
<li>ç‰¹ç‚¹ï¼šä»¥ on å¼€å¤´ï¼Œç”¨æ¥ç›‘å¬æŸäº›äº‹ä»¶çš„è§¦å‘</li>
<li>ä¸¾ä¾‹ï¼š<code>wx.onWindowResize(function callback)</code> ç›‘å¬çª—å£å°ºå¯¸å˜åŒ–çš„äº‹ä»¶</li>
<li>ç±»ä¼¼äºHTMLä¸­çš„ï¼Œ<code>windows.onclick()</code> ç­‰å‡½æ•°ï¼Œæ˜¯ç»„ä»¶å’Œç”¨æˆ·äº¤äº’äº§ç”Ÿå¤„ç†çš„æ“ä½œï¼›</li>
</ul>
<p><strong>åŒæ­¥ APIï¼š</strong></p>
<ul>
<li>ç‰¹ç‚¹1ï¼šä»¥ <code>Sync ç»“å°¾çš„ API</code> éƒ½æ˜¯åŒæ­¥ API</li>
<li>åŒæ­¥ API çš„æ‰§è¡Œç»“æœï¼Œå¯ä»¥é€šè¿‡å‡½æ•°è¿”å›å€¼ç›´æ¥è·å–ï¼Œ</li>
<li>å¦‚æœæ‰§è¡Œå‡ºé”™ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œéœ€ç”¨<code>try-catch</code>æ•è·ï¼Œé€‚åˆè½»é‡ã€æ—  IO é˜»å¡çš„æœ¬åœ°æ“ä½œï¼›</li>
<li>ä¸¾ä¾‹ï¼š<code>wx.setStorageSync('key', 'value')</code> å‘æœ¬åœ°å­˜å‚¨ä¸­å†™å…¥å†…å®¹ï¼›</li>
<li><code>wx.clearStorageSync</code> æ¸…ç©ºæœ¬åœ°å­˜å‚¨</li>
</ul>
<p><strong>å¼‚æ­¥ APIï¼šå¤æ‚èƒ½åŠ›çš„ â€œæ ¸å¿ƒå…¥å£â€</strong></p>
<ul>
<li>æ— å›ºå®šåç¼€ï¼Œ<strong>å¼‚æ­¥æ‰§è¡Œ</strong>ï¼Œéœ€é€šè¿‡<code>success</code>/<code>fail</code>å›è°ƒã€<code>Promise</code> æˆ–<code>async/await</code>è·å–ç»“æœ</li>
<li>ä¸¾ä¾‹ï¼š<code>wx.request()</code> å‘èµ·ç½‘ç»œæ•°æ®è¯·æ±‚ï¼Œé€šè¿‡ <code>success å›è°ƒå‡½æ•°</code> æ¥æ”¶æ•°æ®ï¼›</li>
<li>ç±»ä¼¼äº jQuery ä¸­çš„ <code>$.ajax(options)</code> å‡½æ•°</li>
</ul>
<h2 data-id="heading-23"><strong>ååŒå·¥ä½œå’Œå‘å¸ƒ</strong></h2>
<p>åœ¨ä¸­å¤§å‹çš„å…¬å¸é‡Œï¼Œäººå‘˜çš„åˆ†å·¥éå¸¸ä»”ç»†ï¼š</p>
<p>åŒä¸€ä¸ªå°ç¨‹åºé¡¹ç›®ï¼Œä¸€èˆ¬ä¼šæœ‰ä¸åŒå²—ä½ã€ä¸åŒè§’è‰²çš„å‘˜å·¥åŒæ—¶å‚ä¸è®¾è®¡ä¸å¼€å‘</p>
<p>æ­¤æ—¶å‡ºäºç®¡ç†éœ€è¦ï¼Œæˆ‘ä»¬ <strong>è¿«åˆ‡éœ€è¦å¯¹</strong> ä¸åŒå²—ä½ã€ä¸åŒè§’è‰²çš„ <strong>å‘˜å·¥çš„æƒé™è¿›è¡Œè¾¹ç•Œçš„åˆ’åˆ†</strong></p>
<h3 data-id="heading-24"><strong>å°ç¨‹åºæˆå‘˜ç®¡ç†</strong></h3>
<p><strong>å°ç¨‹åºæˆå‘˜ç®¡ç†ä½“ç°åœ¨<code>ç®¡ç†å‘˜</code>å¯¹å°ç¨‹åº<code>é¡¹ç›®æˆå‘˜</code>åŠ<code>ä½“éªŒæˆå‘˜</code>çš„ç®¡ç†ï¼š</strong> åœ¨æ·»åŠ æˆå‘˜æ—¶å€™å¯ä»¥è¿›è¡Œåˆ†é…ï¼›</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe1825a6f3d3457cba2cafcade00ab00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oWI5qeYeWE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770624503&amp;x-signature=T0vRqomzWHm986qW8K%2BC%2F42J1M0%3D" alt="image-20260130142141197.png" loading="lazy"/></p>
<p>å¾®ä¿¡å°ç¨‹åºåå°çš„è§’è‰²ä½“ç³»æ˜¯ <strong>åˆ†çº§ç®¡æ§</strong> çš„ï¼Œä¸åŒè§’è‰²å¯¹åº”ä¸åŒçš„æ“ä½œæƒé™</p>
<p>æ ¸å¿ƒåˆ†ä¸º<code>ã€Œç®¡ç†å‘˜ã€</code> <code>ã€Œé¡¹ç›®æˆå‘˜ï¼ˆè¿è¥è€… / å¼€å‘è€… / æ•°æ®åˆ†æè€…ï¼‰ã€</code> <code>ã€Œä½“éªŒè€…ã€</code>ä¸‰å¤§ç±»ï¼›</p>
<p><strong>ç®¡ç†å‘˜ æœ€é«˜æƒé™ï¼ˆè¶…çº§ç®¡ç†å‘˜ï¼‰å…¨å¹³å°æ“ä½œ</strong></p>

























<table><thead><tr><th><strong>è§’è‰²æ ¸å¿ƒ</strong></th><th><strong>æƒé™ç­‰çº§</strong></th><th><strong>æ“ä½œèŒƒå›´</strong></th></tr></thead><tbody><tr><td><strong>è¿è¥è€…</strong></td><td>è¿è¥çº§æƒé™</td><td>æäº¤å®¡æ ¸ã€ç‰ˆæœ¬å‘å¸ƒï¼ˆéœ€ç®¡ç†å‘˜æˆæƒï¼‰<br/>ç”¨æˆ·åé¦ˆå¤„ç†ã€æ¨¡æ¿æ¶ˆæ¯é…ç½®<br/>æ¨å¹¿è®¾ç½®ã€å°ç¨‹åºç ç”Ÿæˆ</td></tr><tr><td><strong>å¼€å‘è€…</strong></td><td>å¼€å‘çº§æƒé™</td><td>ä»£ç ä¸Šä¼ ã€ç‰ˆæœ¬ç®¡ç†ã€å¼€å‘è®¾ç½®ï¼ˆåŸŸå / æœåŠ¡å™¨é…ç½®ï¼‰<br/>äº‘å¼€å‘ç®¡ç†ã€æ¥å£æƒé™é…ç½®ï¼Œä½“éªŒç‰ˆç®¡ç†ã€å¼€å‘è€…å·¥å…·ç»‘å®š</td></tr><tr><td><strong>æ•°æ®åˆ†æè€…</strong></td><td>åªè¯»æƒé™</td><td>ä»…æ•°æ®æŸ¥çœ‹æ“ä½œï¼ŒåŒ…æ‹¬ï¼šç”¨æˆ·è®¿é—®ç»Ÿè®¡ã€è¡Œä¸ºåˆ†æ<br/>äº¤æ˜“æ•°æ®ã€ç•™å­˜ç‡ç­‰æ ¸å¿ƒæŒ‡æ ‡ï¼Œæ— ä»»ä½•ä¿®æ”¹ / é…ç½®æƒé™</td></tr></tbody></table>
<p><strong>ä½“éªŒè€…</strong> æœ€ä½æƒé™ï¼ˆä»…ä½“éªŒï¼‰ä»…èƒ½æ‰«ç ä½“éªŒã€Œä½“éªŒç‰ˆã€å°ç¨‹åºï¼Œæ— ä»»ä½•åå°æ“ä½œæƒé™</p>
<h3 data-id="heading-25"><strong>å°ç¨‹åºçš„ç‰ˆæœ¬</strong></h3>
<p><strong>è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®æ—¶é—´èŠ‚ç‚¹çš„ä¸åŒï¼Œä¼šäº§å‡ºä¸åŒçš„è½¯ä»¶ç‰ˆæœ¬ï¼Œä¾‹å¦‚</strong></p>





















<table><thead><tr><th>å¼€å‘ç‰ˆæœ¬</th><th>ä½¿ç”¨å¼€å‘è€…å·¥å…·ï¼Œå¯å°†ä»£ç ä¸Šä¼ åˆ°å¼€å‘ç‰ˆæœ¬ä¸­ã€‚  <br/>å¼€å‘ç‰ˆæœ¬åªä¿ç•™æ¯äººæœ€æ–°çš„ä¸€ä»½ä¸Šä¼ çš„ä»£ç   ç‚¹å‡»æäº¤å®¡æ ¸ï¼Œ<br/>å¯å°†ä»£ç æäº¤å®¡æ ¸ã€‚å¼€å‘ç‰ˆæœ¬å¯åˆ é™¤ï¼Œä¸å½±å“çº¿ä¸Šç‰ˆæœ¬å’Œå®¡æ ¸ä¸­ç‰ˆæœ¬çš„ä»£ç ã€‚</th></tr></thead><tbody><tr><td>ä½“éªŒç‰ˆæœ¬</td><td>å¯ä»¥é€‰æ‹©æŸä¸ªå¼€å‘ç‰ˆæœ¬ä½œä¸ºä½“éªŒç‰ˆï¼Œå¹¶ä¸”é€‰å–ä¸€ä»½ä½“éªŒç‰ˆã€‚</td></tr><tr><td>å®¡æ ¸ä¸­çš„ç‰ˆæœ¬</td><td>åªèƒ½æœ‰ä¸€ä»½ä»£ç å¤„äºå®¡æ ¸ä¸­ã€‚<br/>æœ‰å®¡æ ¸ç»“æœåå¯ä»¥å‘å¸ƒåˆ°çº¿ä¸Šï¼Œä¹Ÿå¯ç›´æ¥é‡æ–°æäº¤å®¡æ ¸ï¼Œè¦†ç›–åŸå®¡æ ¸ç‰ˆæœ¬</td></tr><tr><td>çº¿ä¸Šç‰ˆæœ¬</td><td>çº¿ä¸Šæ‰€æœ‰ç”¨æˆ·ä½¿ç”¨çš„ä»£ç ç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬ä»£ç åœ¨æ–°ç‰ˆæœ¬ä»£ç å‘å¸ƒåè¢«è¦†ç›–æ›´æ–°</td></tr></tbody></table>
<p>ä¸€ä¸ªå°ç¨‹åºçš„å‘å¸ƒä¸Šçº¿ï¼Œä¸€èˆ¬è¦ç»è¿‡ <code>ä¸Šä¼ ä»£ç  -&gt; æäº¤å®¡æ ¸ -&gt; å‘å¸ƒ</code> è¿™ä¸‰ä¸ªæ­¥éª¤</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d158a94c11d4ba3a2a4bd718ece6e15~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oWI5qeYeWE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770624503&amp;x-signature=hX%2Bx3gCpZ0T%2FCXEg%2BXnACFpr5Yo%3D" alt="PixPin_2026-01-30_14-29-44.gif" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b09f66f9cc9144738e457b4a03f35d6f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oWI5qeYeWE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770624503&amp;x-signature=3XecpW88PQXcIA%2FR0qCCxJ6vnng%3D" alt="image-20260130143024732.png" loading="lazy"/></p>
<p><strong>ç™»å½•å°ç¨‹åºç®¡ç†åå° -&gt; ç®¡ç† -&gt; ç‰ˆæœ¬ç®¡ç† -&gt; å¼€å‘ç‰ˆæœ¬ï¼Œå³å¯æŸ¥çœ‹åˆšæ‰æäº¤ä¸Šä¼ çš„ç‰ˆæœ¬äº†ï¼š</strong></p>
<p><strong>é€‰æ‹©ç‰ˆæœ¬ï¼Œæäº¤ç”³è¯·ï¼š</strong> ç¬¬ä¸€æ¬¡æäº¤éœ€è¦å°ç¨‹åºè¿›è¡Œå¤‡æ¡ˆï¼Œæ­¤å¤„ä¸ªäººå­¦ä¹ å°±ä¸å±•ç¤ºäº†ï¼›</p>
<p><strong>å®¡æ ¸é€šè¿‡ä¹‹åï¼Œç®¡ç†å‘˜çš„å¾®ä¿¡ä¸­ä¼šæ”¶åˆ°å°ç¨‹åºé€šè¿‡å®¡æ ¸çš„é€šçŸ¥ï¼Œ</strong></p>
<ul>
<li>æ­¤æ—¶åœ¨å®¡æ ¸ç‰ˆæœ¬çš„åˆ—è¡¨ä¸­ï¼Œç‚¹å‡» <code>å‘å¸ƒ</code> æŒ‰é’®ä¹‹åï¼Œ</li>
<li>å³å¯æŠŠâ€œå®¡æ ¸é€šè¿‡â€çš„ç‰ˆæœ¬å‘å¸ƒä¸º<code>çº¿ä¸Šç‰ˆæœ¬</code></li>
<li>ä¾›æ‰€æœ‰å°ç¨‹åºç”¨æˆ·è®¿é—®å’Œä½¿ç”¨</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56c6efa7ce5344fdb9115e3ffb328130~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oWI5qeYeWE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770624503&amp;x-signature=AQOyeIp3brwcTxCz31qzLpT98ls%3D" alt="image-20260130143208905-1769756686277.png" loading="lazy"/></p>
<h3 data-id="heading-26">æ¨å¹¿ç ï¼š</h3>
<p><strong>å‘å¸ƒä¸Šçº¿ä¹‹åï¼Œå¯ä»¥ï¼Œé€‰æ‹©è®¾ç½®æ‰“å°å‡ºå°ç¨‹åºæ¨å¹¿ç ï¼š</strong></p>
<p>ç™»å½•å°ç¨‹åºç®¡ç†åå° -&gt; è®¾ç½® -&gt; åŸºæœ¬è®¾ç½® -&gt; åŸºæœ¬ä¿¡æ¯ -&gt; å°ç¨‹åºç åŠçº¿ä¸‹ç‰©æ–™ä¸‹è½½ï¼›</p>
<p><strong>å°ç¨‹åºè¿è¥æ•°æ®</strong></p>
<ul>
<li>
<p><strong>æ–¹å¼ä¸€ï¼š</strong> åœ¨<code>å°ç¨‹åºåå°</code> æŸ¥çœ‹ï¼Œç™»å½•å°ç¨‹åºç®¡ç†åå°ï¼Œ</p>
<p>ç‚¹å‡»ä¾§è¾¹æ çš„â€œç»Ÿè®¡â€ç‚¹å‡»ç›¸åº”çš„ tab å¯ä»¥çœ‹åˆ°ç›¸å…³çš„æ•°æ®</p>
</li>
<li>
<p><strong>æ–¹å¼äºŒï¼š</strong>  æœç´¢ <code>å°ç¨‹åºæ•°æ®åŠ©æ‰‹</code> ï¼ŒæŸ¥çœ‹å·²å‘å¸ƒçš„å°ç¨‹åºç›¸å…³çš„æ•°æ®ï¼›</p>
</li>
</ul>
<h2 data-id="heading-27">ç›¸å…³æ–‡æ¡£ï¼š</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1834y1676P%3Fspm_id_from%3D333.788.videopod.episodes%26vd_source%3D19e007a1660dfd5c8f1744e56d027bf4%26p%3D2" target="_blank" title="https://www.bilibili.com/video/BV1834y1676P?spm_id_from=333.788.videopod.episodes&amp;vd_source=19e007a1660dfd5c8f1744e56d027bf4&amp;p=2" ref="nofollow noopener noreferrer">é»‘é©¬â€”å°ç¨‹åºç®€ä»‹_å“”å“©å“”å“©_bilibili</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fm0_64875238%2Farticle%2Fdetails%2F127796691%3Fops_request_misc%3Delastic_search_misc%26request_id%3D4c6789a9299d3347e64d6c17839bce60%26biz_id%3D0%26utm_medium%3Ddistribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-127796691-null-null.142%255Ev102%255Epc_search_result_base8%26utm_term%3D%25E5%25BE%25AE%25E4%25BF%25A1%25E5%25B0%258F%25E7%25A8%258B%25E5%25BA%258F%26spm%3D1018.2226.3001.4187" target="_blank" title="https://blog.csdn.net/m0_64875238/article/details/127796691?ops_request_misc=elastic_search_misc&amp;request_id=4c6789a9299d3347e64d6c17839bce60&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-127796691-null-null.142%5Ev102%5Epc_search_result_base8&amp;utm_term=%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F&amp;spm=1018.2226.3001.4187" ref="nofollow noopener noreferrer">å¾®ä¿¡å°ç¨‹åºå¼€å‘ï¼ˆè¶…è¯¦ç»†ä¿å§†å¼æ•™ç¨‹ï¼‰-CSDNåšå®¢</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fweixin_53812239%2Farticle%2Fdetails%2F139720191%3Fops_request_misc%3Delastic_search_misc%26request_id%3Dc1a5e738633bd1e7da34a5b28a8351d0%26biz_id%3D0%26utm_medium%3Ddistribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-139720191-null-null.142%255Ev102%255Epc_search_result_base8%26utm_term%3D%25E5%25B0%258F%25E7%25A8%258B%25E5%25BA%258F%25E6%25B5%258B%25E8%25AF%2595%25E5%258F%25B7%25E5%25A6%2582%25E4%25BD%2595%25E6%25B3%25A8%25E9%2594%2580%26spm%3D1018.2226.3001.4187" target="_blank" title="https://blog.csdn.net/weixin_53812239/article/details/139720191?ops_request_misc=elastic_search_misc&amp;request_id=c1a5e738633bd1e7da34a5b28a8351d0&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-139720191-null-null.142%5Ev102%5Epc_search_result_base8&amp;utm_term=%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%B5%8B%E8%AF%95%E5%8F%B7%E5%A6%82%E4%BD%95%E6%B3%A8%E9%94%80&amp;spm=1018.2226.3001.4187" ref="nofollow noopener noreferrer">å…³äºå°ç¨‹åºæµ‹è¯•è´¦å·å¦‚ä½•ç§»é™¤_å°ç¨‹åºæµ‹è¯•å·æ€ä¹ˆåˆ é™¤-CSDNåšå®¢</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fweixin_43474701%2Farticle%2Fdetails%2F122213203%3Fops_request_misc%3Delastic_search_misc%26request_id%3Dc1a5e738633bd1e7da34a5b28a8351d0%26biz_id%3D0%26utm_medium%3Ddistribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-2-122213203-null-null.142%255Ev102%255Epc_search_result_base8%26utm_term%3D%25E5%25B0%258F%25E7%25A8%258B%25E5%25BA%258F%25E6%25B5%258B%25E8%25AF%2595%25E5%258F%25B7%25E5%25A6%2582%25E4%25BD%2595%25E6%25B3%25A8%25E9%2594%2580%26spm%3D1018.2226.3001.4187" target="_blank" title="https://blog.csdn.net/weixin_43474701/article/details/122213203?ops_request_misc=elastic_search_misc&amp;request_id=c1a5e738633bd1e7da34a5b28a8351d0&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-2-122213203-null-null.142%5Ev102%5Epc_search_result_base8&amp;utm_term=%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%B5%8B%E8%AF%95%E5%8F%B7%E5%A6%82%E4%BD%95%E6%B3%A8%E9%94%80&amp;spm=1018.2226.3001.4187" ref="nofollow noopener noreferrer">å¾®ä¿¡æ³¨é”€æ—¶æ²¡æœ‰è§£é™¤å°ç¨‹åºè¿è¥è€…èº«ä»½è€Œä¸è®©æ³¨é”€ï¼šè§£é™¤æ¥å£æµ‹è¯•å·_å¾®ä¿¡æ³¨é”€æç¤ºå°ç¨‹åºæ¥å£-CSDNåšå®¢</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter-å®ç°Tabså¸é¡¶çš„PageViewæ•ˆæœ]]></title>    <link>https://juejin.cn/post/7601728622824095787</link>    <guid>https://juejin.cn/post/7601728622824095787</guid>    <pubDate>2026-02-02T02:51:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601728622824095787" data-draft-id="7601464318410014762" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter-å®ç°Tabså¸é¡¶çš„PageViewæ•ˆæœ"/> <meta itemprop="keywords" content="å‰ç«¯,Flutter,Android"/> <meta itemprop="datePublished" content="2026-02-02T02:51:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¹å¤šå¤š"/> <meta itemprop="url" content="https://juejin.cn/user/747323639737191"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter-å®ç°Tabså¸é¡¶çš„PageViewæ•ˆæœ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/747323639737191/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¹å¤šå¤š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T02:51:02.000Z" title="Mon Feb 02 2026 02:51:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:2;font-weight:400;font-size:15px;overflow-x:hidden;color:#333;letter-spacing:1.2px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:.5rem solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c;margin:0 5px}.markdown-body a:active,.markdown-body a:hover{text-decoration:none;border-bottom:1.5px solid #3eaf7c}.markdown-body a[href^=http]:after{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04MzIgMTI4SDY0MHY2NGgxNDYuNzUyTDUyMS4zNzYgNDU3LjM3Nmw0NS4yNDggNDUuMjQ4TDgzMiAyMzcuMjQ4VjM4NGg2NFYxMjh6IiBmaWxsPSIjM2VhZjdjIi8+PHBhdGggZD0iTTc2OCA4MzJIMTkyVjI1NmgzNTJ2LTY0SDE2MGEzMiAzMiAwIDAwLTMyIDMydjY0MGEzMiAzMiAwIDAwMzIgMzJoNjQwYTMyIDMyIDAgMDAzMi0zMlY0ODBoLTY0djM1MnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");margin-left:2px}.markdown-body a[href^="#"]:before{content:"#"}.markdown-body table{display:inline-block!important;font-size:13px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c;border-collapse:collapse}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:4px 8px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#7b7878;padding:1px 23px;border-left:.5rem solid;border-color:#42b983;background-color:rgba(66,184,131,.1);position:relative;margin:14px 8px 0}.markdown-body blockquote:before{display:inline-block;position:absolute;content:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNyAyNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjg2MiAxLjg2MikiIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGNpcmNsZSBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS43MjQiIGZpbGw9IiM0MkI5ODMiIGN4PSIxMS42MzgiIGN5PSIxMS42MzgiIHI9IjExLjYzOCIvPjxwYXRoIGQ9Ik0xNC45NzggNi4yN0E1LjAwNiA1LjAwNiAwIDAwNi42NyA5LjQ2OGE0LjkwMSA0LjkwMSAwIDAwMS43NzMgNC4zNjJjLjMyMy4yNTguNTE0LjY0Ny41MjIgMS4wNnYxLjA2YTIuNjg1IDIuNjg1IDAgMDA1LjM3IDB2LTEuMDA4Yy4wMDItLjM5OC4xNzMtLjc3Ny40Ny0xLjA0MmE1LjAyMyA1LjAyMyAwIDAwLjE3My03LjYzem0tMy4zMzcgMTAuOTY3YTEuMzA0IDEuMzA0IDAgMDEtMS4yODYtMS4yODd2LS4yNzhoMi41NzJ2LjI2MWMwIC43MTMtLjU3MyAxLjI5NC0xLjI4NiAxLjMwNHptMi4yNi00LjQxNWMtLjQ0LjM4My0uNzUuODkzLS44ODcgMS40NmgtMi43NDZhMi44NjggMi44NjggMCAwMC0uOTM4LTEuNTNoLS4wMThhMy40NzYgMy40NzYgMCAwMS0xLjI2OS0zLjE0NSAzLjYxNSAzLjYxNSAwIDAxNy4xOTYuNCAzLjY1IDMuNjUgMCAwMS0xLjMzOCAyLjgxNXoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+");width:25px;height:25px;left:-16px;top:12px}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none;padding-left:10px}.markdown-body ul li::marker{content:"â€¢";color:#3eaf7c}.markdown-body ul li.task-list-item:before{content:"";margin-right:0}.markdown-body input[type=checkbox]{vertical-align:text-bottom;box-shadow:inset 0 0 0 10px #fff}.markdown-body input[type=checkbox]:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04NzcuMDU2IDE0Ni45NDR2NzMwLjExMkgxNDYuOTQ0VjE0Ni45NDRoNzMwLjExMnptMC0xMDQuMjc3SDE0Ni45NDRjLTU3LjYyOCAwLTEwNC4yNzcgNDYuNjQ5LTEwNC4yNzcgMTA0LjI3N3Y3MzAuMTEyYzAgNTcuNjI4IDQ2LjY0OSAxMDQuMjc3IDEwNC4yNzcgMTA0LjI3N2g3MzAuMTEyYzU3LjYyOCAwIDEwNC4yNzctNDYuNjQ5IDEwNC4yNzctMTA0LjI3N1YxNDYuOTQ0YzAtNTcuNjI4LTQ2LjY0OS0xMDQuMjc3LTEwNC4yNzctMTA0LjI3N3oiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}.markdown-body input[type=checkbox]:checked:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik05MTAuMjA4IDBIMTEzLjc2QTExNC4xMTIgMTE0LjExMiAwIDAwLS4wMzIgMTEzLjc5MlY5MTAuMjRjMCA2Mi41OTIgNTEuMiAxMTMuNzkyIDExMy43OTIgMTEzLjc5Mmg3OTYuNDQ4YzYyLjU5MiAwIDExMy43OTItNTEuMiAxMTMuNzkyLTExMy43OTJWMTEzLjc5MkMxMDI0IDUxLjIgOTcyLjggMCA5MTAuMjA4IDB6bS01MTIgNzk2LjQ0OEwxMTMuNzYgNTEybDc5LjY0OC03OS42NDggMjA0LjggMjA0LjhMODMwLjU2IDIwNC44bDc5LjY0OCA3OS42NDgtNTEyIDUxMnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="agate">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#333;color:#fff}.hljs-name,.hljs-strong{font-weight:700}.hljs-code,.hljs-emphasis{font-style:italic}.hljs-tag{color:#62c8f3}.hljs-selector-class,.hljs-selector-id,.hljs-template-variable,.hljs-variable{color:#ade5fc}.hljs-bullet,.hljs-string{color:#a2fca2}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-quote,.hljs-section,.hljs-title,.hljs-type{color:#ffa}.hljs-bullet,.hljs-number,.hljs-symbol{color:#d36363}.hljs-keyword,.hljs-literal,.hljs-selector-tag{color:#fcc28c}.hljs-code,.hljs-comment,.hljs-deletion{color:#888}.hljs-link,.hljs-regexp{color:#c6b4f0}.hljs-meta{color:#fc9b9b}.hljs-deletion{background-color:#fc9b9b;color:#333}.hljs-addition{background-color:#a2fca2;color:#333}.hljs a{color:inherit}.hljs a:focus,.hljs a:hover{color:inherit;text-decoration:underline}</style><h2 data-id="heading-0">1. æ•ˆæœé¢„è§ˆ</h2>
<p>åœ¨ Flutter å¼€å‘ä¸­ï¼Œåˆ›å»ºå…·æœ‰å¸é¡¶ Tabs çš„ PageView æ•ˆæœå¯ä»¥æå¤§åœ°æå‡ç”¨æˆ·ç•Œé¢çš„äº¤äº’æ€§å’Œç”¨æˆ·ä½“éªŒã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±é€šè¿‡ä¸€æ®µå…·ä½“çš„ä»£ç æ¥æ·±å…¥äº†è§£å¦‚ä½•å®ç°è¿™ä¸€åŠŸèƒ½ã€‚æ•ˆæœé¢„è§ˆå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e668bebeb3147a293aa730227c4e2dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bmP5aSa5aSa:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770605462&amp;x-signature=o%2FXaSEucD7rt17hi5dJSe3f%2BxEw%3D" alt="é¢„è§ˆå›¾" loading="lazy"/></p>
<h2 data-id="heading-1">2. ç»“æ„åˆ†æ</h2>
<p>æˆ‘ä»¬ä»æ•´ä½“ä¸Šçœ‹è¿™æ®µä»£ç ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªåä¸ºCeilingTabsPageViewçš„æœ‰çŠ¶æ€ç»„ä»¶ã€‚è¿™ä¸ªç»„ä»¶çš„ä½œç”¨å°±æ˜¯æ„å»ºå‡ºä¸€ä¸ªå¸¦æœ‰å¸é¡¶ Tabs çš„é¡µé¢ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡æ»‘åŠ¨ PageView åœ¨ä¸åŒçš„é¡µé¢å†…å®¹é—´åˆ‡æ¢ã€‚</p>
<ol>
<li>å¼•å…¥å¿…è¦çš„åº“</li>
</ol>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:extended_nested_scroll_view/extended_nested_scroll_view.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;
</code></pre>
<p>ä»£ç å¼€å¤´å¼•å…¥äº†ä¸¤ä¸ªé‡è¦çš„åº“ã€‚</p>
<ul>
<li>
<p>package:flutter/material.dartï¼šFlutter çš„æ ¸å¿ƒ UIåº“ï¼Œå®ƒæä¾›äº†å„ç§æ„å»ºç”¨æˆ·ç•Œé¢çš„åŸºæœ¬ç»„ä»¶å’Œå·¥å…·ï¼Œæ¯”å¦‚æˆ‘ä»¬åç»­ä¼šç”¨åˆ°çš„Containerã€Rowã€Textç­‰ã€‚</p>
</li>
<li>
<p>package:extended_nested_scroll_view/extended_nested_scroll_view.dartï¼šä¸ºæˆ‘ä»¬å®ç°å¸é¡¶æ•ˆæœæä¾›äº†å…³é”®æ”¯æŒï¼ŒExtendedNestedScrollViewè¿™ä¸ªç‰¹æ®Šçš„ç»„ä»¶å°±æ¥è‡ªäºå®ƒã€‚</p>
</li>
</ul>
<ol start="2">
<li>å®šä¹‰CeilingTabsPageViewç»„ä»¶</li>
</ol>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CeilingTabsPageView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-keyword">const</span> CeilingTabsPageView({Key? key}) : <span class="hljs-keyword">super</span>(key: key);

  <span class="hljs-meta">@override</span>
  State&lt;CeilingTabsPageView&gt; createState() =&gt; CeilingTabsPageViewState();
}
</code></pre>
<p>è¿™é‡Œå®šä¹‰äº†CeilingTabsPageViewç»„ä»¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªæœ‰çŠ¶æ€çš„ç»„ä»¶ã€‚æœ‰çŠ¶æ€ç»„ä»¶æ„å‘³ç€å®ƒåœ¨è¿è¡Œè¿‡ç¨‹ä¸­å¯ä»¥æ ¹æ®ç”¨æˆ·æ“ä½œæˆ–è€…å…¶ä»–äº‹ä»¶æ”¹å˜è‡ªèº«çŠ¶æ€ã€‚è€ŒcreateStateæ–¹æ³•è¿”å›äº†CeilingTabsPageViewStateå®ä¾‹ï¼Œè¿™ä¸ªå®ä¾‹è´Ÿè´£ç®¡ç†ç»„ä»¶çš„çŠ¶æ€å’Œæ„å»ºå…·ä½“çš„ UIã€‚</p>
<ol start="3">
<li>CeilingTabsPageViewStateç±»çš„è¯¦ç»†è§£æ</li>
</ol>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CeilingTabsPageViewState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">CeilingTabsPageView</span>&gt; </span>{
<span class="hljs-comment">/// <span class="markdown">æ§åˆ¶å™¨</span></span>
<span class="hljs-keyword">late</span> PageController _pageController;

<span class="hljs-built_in">int</span> pageIndex = <span class="hljs-number">0</span>;

 <span class="hljs-comment">/// <span class="markdown">å­—ä½“æ ·å¼</span></span>
TextStyle myTextStyle = <span class="hljs-keyword">const</span> TextStyle(
      color: Colors.white, fontWeight: FontWeight.w600, fontSize: <span class="hljs-number">20</span>);

  <span class="hljs-comment">/// <span class="markdown">ç”Ÿå‘½å‘¨æœŸ</span></span>
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> initState() {
    <span class="hljs-keyword">super</span>.initState();
    _pageController = PageController(initialPage: pageIndex);
  }

 <span class="hljs-comment">/// <span class="markdown">é¡µé¢æ»‘åŠ¨å›è°ƒ</span></span>
  <span class="hljs-keyword">void</span> handlePageChange(<span class="hljs-built_in">int</span> index) {
    setState(() {
      pageIndex = index;
    });
  }
 
<span class="hljs-comment">/// <span class="markdown">Tabsç‚¹å‡»</span></span>
  <span class="hljs-keyword">void</span> handleTabClick(<span class="hljs-built_in">int</span> index) {
    setState(() {
      pageIndex = index;
      _pageController.jumpToPage(index); <span class="hljs-comment">// ç›´æ¥è·³è½¬è‡³æŒ‡å®šé¡µé¢</span>
    });
  }
</code></pre>
<ul>
<li>ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼šinitStateæ–¹æ³•åœ¨ç»„ä»¶é¦–æ¬¡æ’å…¥åˆ° Widget æ ‘æ—¶è°ƒç”¨ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬åªæ˜¯ç®€å•åœ°è°ƒç”¨äº†çˆ¶ç±»çš„initStateæ–¹æ³•ï¼Œæš‚æ—¶æ²¡æœ‰é¢å¤–çš„åˆå§‹åŒ–æ“ä½œï¼Œä½†å®ƒä¸ºæˆ‘ä»¬åç»­å¯èƒ½éœ€è¦çš„åˆå§‹åŒ–å·¥ä½œæä¾›äº†ä½ç½®ã€‚</li>
<li>çŠ¶æ€å˜é‡ï¼špageIndexç”¨äºè®°å½•å½“å‰ PageView æ˜¾ç¤ºçš„é¡µé¢ç´¢å¼•ï¼Œåˆå§‹å€¼ä¸º 0ï¼Œè¡¨ç¤ºé»˜è®¤æ˜¾ç¤ºç¬¬ä¸€ä¸ªé¡µé¢ã€‚</li>
<li>æ§åˆ¶å™¨ï¼š_pageControlleræ˜¯PageViewçš„æ§åˆ¶å™¨</li>
<li>å­—ä½“æ ·å¼å®šä¹‰ï¼šmyTextStyleå®šä¹‰äº†ä¸€ç§å­—ä½“æ ·å¼ï¼ŒåŒ…æ‹¬ç™½è‰²å­—ä½“é¢œè‰²ã€ä¸­ç­‰åŠ ç²—çš„å­—é‡å’Œ 20 çš„å­—ä½“å¤§å°ï¼Œåç»­åœ¨å¤šä¸ªæ–‡æœ¬ç»„ä»¶ä¸­ä¼šä½¿ç”¨åˆ°è¿™ä¸ªæ ·å¼ã€‚</li>
<li>é¡µé¢æ»‘åŠ¨å›è°ƒå‡½æ•°ï¼šå½“ PageView å‘ç”Ÿæ»‘åŠ¨æ—¶ï¼ŒhandlePageChangeå‡½æ•°ä¼šè¢«è°ƒç”¨ã€‚å®ƒé€šè¿‡setStateæ–¹æ³•æ¥æ›´æ–°pageIndexçš„å€¼ï¼ŒsetStateæ–¹æ³•ä¼šè§¦å‘ç»„ä»¶çš„é‡æ–°æ„å»ºï¼Œä»è€Œç¡®ä¿ UI èƒ½å¤Ÿåæ˜ å‡ºé¡µé¢ç´¢å¼•çš„å˜åŒ–ã€‚</li>
<li>Tabsç‚¹å‡»ï¼šç‚¹å‡»Tabsçš„å›è°ƒå‡½æ•°</li>
</ul>
<ol start="4">
<li>æ„å»º UI çš„æ ¸å¿ƒæ–¹æ³•</li>
</ol>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-meta">@override</span>
Widget build(BuildContext context) {
  <span class="hljs-comment">/// <span class="markdown">æœ€å¤§å®½åº¦</span></span>
  <span class="hljs-built_in">double</span> maxW = MediaQuery.of(context).size.width;

  <span class="hljs-comment">/// <span class="markdown">æœ€å¤§é«˜åº¦</span></span>
  <span class="hljs-built_in">double</span> maxH = MediaQuery.of(context).size.height;

  <span class="hljs-keyword">return</span> SizedBox(
    width: maxW,
    height: maxH,
    child: ExtendedNestedScrollView(
        headerSliverBuilder: (BuildContext context, <span class="hljs-built_in">bool</span> innerBoxIsScrolled) {
          <span class="hljs-keyword">return</span> [
            SliverToBoxAdapter(
                child: Column(
                    crossAxisAlignment: CrossAxisAlignment.center,
                    children: [bannerWidget(maxW), tabsWidget(maxW)]))
          ];
        },
        <span class="hljs-comment">// éœ€è¦å›ºå®šå¸é¡¶çš„é«˜åº¦</span>
        pinnedHeaderSliverHeightBuilder: () {
          <span class="hljs-keyword">return</span> <span class="hljs-number">40</span>;
        },
        onlyOneScrollInBody: <span class="hljs-keyword">true</span>,
        body: SizedBox(
          width: maxW,
          height: maxH,
          child: pageViewWidget(maxW, maxH),
        )),
  );
}
</code></pre>
<ul>
<li>è·å–å±å¹•å°ºå¯¸ï¼šé€šè¿‡MediaQuery.of(context).size.widthå’ŒMediaQuery.of(context).size.heightè·å–å½“å‰è®¾å¤‡å±å¹•çš„å®½åº¦maxWå’Œé«˜åº¦maxHï¼Œè¿™ä¸¤ä¸ªå€¼å¯¹äºæ„å»ºé€‚é…ä¸åŒå±å¹•å°ºå¯¸çš„ UI éå¸¸é‡è¦ã€‚</li>
<li>ä½¿ç”¨ExtendedNestedScrollViewï¼šè¿™æ˜¯å®ç°å¸é¡¶æ•ˆæœçš„å…³é”®ç»„ä»¶ã€‚</li>
<li>headerSliverBuilderï¼šè¿™ä¸ªå›è°ƒå‡½æ•°ç”¨äºæ„å»ºé¡¶éƒ¨çš„å†…å®¹ã€‚å®ƒè¿”å›ä¸€ä¸ªåŒ…å«SliverToBoxAdapterçš„åˆ—è¡¨ï¼ŒSliverToBoxAdapteråˆåŒ…å«äº†ä¸€ä¸ªColumnï¼ŒColumnä¸­ä¾æ¬¡æ’åˆ—ç€bannerWidgetå’ŒtabsWidgetã€‚è¿™å°±å®šä¹‰äº†é¡¶éƒ¨çš„å¸ƒå±€ç»“æ„ï¼Œå…ˆæ˜¾ç¤ºä¸€ä¸ª Bannerï¼Œå†æ˜¾ç¤º Tabsã€‚</li>
<li>pinnedHeaderSliverHeightBuilderï¼šè¿™ä¸ªå›è°ƒå‡½æ•°æŒ‡å®šäº†éœ€è¦å›ºå®šå¸é¡¶çš„é«˜åº¦ä¸º 40ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒtabsWidgetéƒ¨åˆ†ä¼šåœ¨ç”¨æˆ·æ»šåŠ¨é¡µé¢æ—¶å›ºå®šåœ¨é¡¶éƒ¨ï¼Œä¸ä¼šéšç€é¡µé¢å†…å®¹ä¸€èµ·æ»šåŠ¨ã€‚</li>
<li>onlyOneScrollInBodyï¼šè®¾ç½®ä¸ºtrueè¡¨ç¤ºåœ¨é¡µé¢ä¸»ä½“éƒ¨åˆ†åªå…è®¸ä¸€ä¸ªæ»šåŠ¨è¡Œä¸ºï¼Œé¿å…äº†æ»šåŠ¨å†²çªã€‚
bodyï¼šè¿™é‡Œè®¾ç½®é¡µé¢çš„ä¸»ä½“å†…å®¹ä¸ºpageViewWidgetï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„ PageView éƒ¨åˆ†ã€‚</li>
</ul>
<ol start="5">
<li>å„ä¸ªéƒ¨ä»¶çš„æ„å»ºæ–¹æ³•</li>
</ol>
<p><strong>bannerWidget</strong></p>
<pre><code class="hljs language-dart" lang="dart">Widget bannerWidget(<span class="hljs-built_in">double</span> maxW) {
  <span class="hljs-keyword">return</span> Container(
      width: maxW,
      height: <span class="hljs-number">200</span>,
      alignment: Alignment.center,
      color: Colors.red.shade300,
      child: Text(<span class="hljs-string">'Banner'</span>, style: myTextStyle));
}
</code></pre>
<p>è¿™ä¸ªæ–¹æ³•æ„å»ºäº†ä¸€ä¸ªContainerä½œä¸º Bannerã€‚å®ƒçš„å®½åº¦ä¸ºå±å¹•å®½åº¦maxWï¼Œé«˜åº¦ä¸º 200ï¼ŒèƒŒæ™¯é¢œè‰²ä¸ºæµ…çº¢è‰²ï¼ˆColors.red.shade300ï¼‰ï¼Œå¹¶ä¸”åœ¨å®¹å™¨ä¸­å¿ƒæ˜¾ç¤ºäº† â€œBannerâ€ å­—æ ·ï¼Œä½¿ç”¨ä¹‹å‰å®šä¹‰å¥½çš„myTextStyleå­—ä½“æ ·å¼ã€‚</p>
<p><strong>tabsWidget</strong></p>
<pre><code class="hljs language-dart" lang="dart">Widget tabsWidget(<span class="hljs-built_in">double</span> maxW) {
  <span class="hljs-keyword">return</span> Container(
    width: maxW,
    height: <span class="hljs-number">40</span>,
    color: Colors.blue.shade400,
    child: Row(
      children: [
        Expanded(
            child: GestureDetector(
              onTap: () {
                handleTabClick(<span class="hljs-number">0</span>);
              },
              child: Container(
                alignment: Alignment.center,
                child: Text(<span class="hljs-string">'Tab 1'</span>, style: myTextStyle),
              ),
            ),
          ),
          Expanded(
            child: GestureDetector(
              onTap: () {
                handleTabClick(<span class="hljs-number">1</span>);
              },
              child: Container(
                alignment: Alignment.center,
                child: Text(<span class="hljs-string">'Tab 2'</span>, style: myTextStyle),
              ),
            ),
          )
      ],
    ),
  );
}
</code></pre>
<p>tabsWidgetæ„å»ºäº† Tabs éƒ¨åˆ†ã€‚åŒæ ·æ˜¯ä¸€ä¸ªå®½åº¦ä¸ºå±å¹•å®½åº¦maxWã€é«˜åº¦ä¸º 40 çš„Containerï¼ŒèƒŒæ™¯é¢œè‰²ä¸ºæµ…è“è‰²ï¼ˆColors.blue.shade400ï¼‰ã€‚åœ¨è¿™ä¸ªå®¹å™¨å†…éƒ¨ï¼Œé€šè¿‡Rowå¸ƒå±€å°†ç©ºé—´åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œæ¯éƒ¨åˆ†éƒ½åŒ…å«ä¸€ä¸ªExpandedåŒ…è£¹çš„Containerï¼Œåˆ†åˆ«æ˜¾ç¤º â€œTab 1â€ å’Œ â€œTab 2â€ï¼ŒåŒæ ·ä½¿ç”¨myTextStyleå­—ä½“æ ·å¼ã€‚Expandedç»„ä»¶çš„ä½œç”¨æ˜¯è®©ä¸¤ä¸ª Tab å¹³åˆ†å®¹å™¨çš„å®½åº¦ã€‚å¹¶ä¸”æ·»åŠ äº†GestureDetectoræ¥å¤„ç†ç‚¹å‡»äº‹ä»¶ã€‚</p>
<p><strong>pageViewWidget</strong></p>
<pre><code class="hljs language-dart" lang="dart">Widget pageViewWidget(<span class="hljs-built_in">double</span> maxW, <span class="hljs-built_in">double</span> maxH) {
  <span class="hljs-keyword">return</span> SingleChildScrollView(
      primary: <span class="hljs-keyword">true</span>,
      physics: <span class="hljs-keyword">const</span> BouncingScrollPhysics(),
      child: SizedBox(
        width: maxW,
        height: maxH,
        child: PageView(
        controller: _pageController,
            onPageChanged: (index) {
              setState(() {
                pageIndex = index;
              });
            },
          children: [
            Container(
                width: maxW,
                height: <span class="hljs-number">1000</span>,
                color: Colors.amberAccent,
                alignment: Alignment.topCenter,
                child: Text(<span class="hljs-string">'Page1'</span>, style: myTextStyle)),
            Container(
                width: maxW,
                height: <span class="hljs-number">1000</span>,
                color: Colors.deepPurpleAccent,
                alignment: Alignment.topCenter,
                child: Text(<span class="hljs-string">'Page2'</span>, style: myTextStyle))
          ],
        ),
      ));
}
</code></pre>
<p>pageViewWidgetæ„å»ºäº† PageViewã€‚å®ƒè¢«åŒ…è£¹åœ¨SingleChildScrollViewä¸­ï¼Œè®¾ç½®primaryä¸ºtrueè¡¨ç¤ºè¿™æ˜¯ä¸»è¦çš„æ»šåŠ¨è§†å›¾ï¼Œphysicsè®¾ç½®ä¸ºBouncingScrollPhysicsä»¥å®ç°ç±»ä¼¼äº iOS çš„å¼¹æ€§æ»šåŠ¨æ•ˆæœã€‚åœ¨SizedBoxå†…éƒ¨æ˜¯ä¸€ä¸ªPageViewï¼ŒåŒ…å«ä¸¤ä¸ªé¡µé¢ï¼Œæ¯ä¸ªé¡µé¢éƒ½æ˜¯ä¸€ä¸ªå®½åº¦ä¸ºå±å¹•å®½åº¦maxWã€é«˜åº¦ä¸º 1000 çš„Containerï¼Œåˆ†åˆ«æ˜¾ç¤º â€œPage1â€ å’Œ â€œPage2â€ï¼ŒèƒŒæ™¯é¢œè‰²ä¹Ÿå„ä¸ç›¸åŒï¼ŒåŒæ ·ä½¿ç”¨myTextStyleå­—ä½“æ ·å¼ã€‚å¹¶ä¸”æŠŠæ§åˆ¶å™¨ç»‘å®šä¸Šï¼Œæ·»åŠ äº†onPageChangedå›è°ƒäº‹ä»¶ã€‚</p>
<h2 data-id="heading-2">3. å®Œæ•´ä»£ç </h2>
<ul>
<li>main.dart</li>
</ul>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">const</span> CeilingTabsPageView()
</code></pre>
<ul>
<li>ceilingTabsPageView.dart</li>
</ul>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:extended_nested_scroll_view/extended_nested_scroll_view.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;

<span class="hljs-comment">/// <span class="markdown">å¸é¡¶Tabsçš„PageView</span></span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CeilingTabsPageView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-keyword">const</span> CeilingTabsPageView({Key? key}) : <span class="hljs-keyword">super</span>(key: key);

  <span class="hljs-meta">@override</span>
  State&lt;CeilingTabsPageView&gt; createState() =&gt; CeilingTabsPageViewState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CeilingTabsPageViewState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">CeilingTabsPageView</span>&gt; </span>{
  <span class="hljs-keyword">late</span> PageController _pageController;

  <span class="hljs-built_in">int</span> pageIndex = <span class="hljs-number">0</span>;

  <span class="hljs-comment">/// <span class="markdown">å­—ä½“æ ·å¼</span></span>
  TextStyle myTextStyle = <span class="hljs-keyword">const</span> TextStyle(
      color: Colors.white, fontWeight: FontWeight.w600, fontSize: <span class="hljs-number">20</span>);

  <span class="hljs-comment">/// <span class="markdown">ç”Ÿå‘½å‘¨æœŸ</span></span>
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> initState() {
    <span class="hljs-keyword">super</span>.initState();
    _pageController = PageController(initialPage: pageIndex);
  }

  <span class="hljs-comment">/// <span class="markdown">é¡µé¢æ»‘åŠ¨å›è°ƒ</span></span>
  <span class="hljs-keyword">void</span> handlePageChange(<span class="hljs-built_in">int</span> index) {
    setState(() {
      pageIndex = index;
    });
  }

  <span class="hljs-comment">/// <span class="markdown">Tabsç‚¹å‡»</span></span>
  <span class="hljs-keyword">void</span> handleTabClick(<span class="hljs-built_in">int</span> index) {
    setState(() {
      pageIndex = index;
      _pageController.jumpToPage(index); <span class="hljs-comment">// ç›´æ¥è·³è½¬è‡³æŒ‡å®šé¡µé¢</span>
    });
  }

  <span class="hljs-comment">/// <span class="markdown">æ„å»ºUI</span></span>
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-comment">/// <span class="markdown">æœ€å¤§å®½åº¦</span></span>
    <span class="hljs-built_in">double</span> maxW = MediaQuery.of(context).size.width;

    <span class="hljs-comment">/// <span class="markdown">æœ€å¤§é«˜åº¦</span></span>
    <span class="hljs-built_in">double</span> maxH = MediaQuery.of(context).size.height;

    <span class="hljs-keyword">return</span> SizedBox(
      width: maxW,
      height: maxH,
      child: ExtendedNestedScrollView(
          headerSliverBuilder: (BuildContext context, <span class="hljs-built_in">bool</span> innerBoxIsScrolled) {
            <span class="hljs-keyword">return</span> [
              SliverToBoxAdapter(
                  child: Column(
                      crossAxisAlignment: CrossAxisAlignment.center,
                      children: [bannerWidget(maxW), tabsWidget(maxW)]))
            ];
          },
          <span class="hljs-comment">// éœ€è¦å›ºå®šå¸é¡¶çš„é«˜åº¦</span>
          pinnedHeaderSliverHeightBuilder: () {
            <span class="hljs-keyword">return</span> <span class="hljs-number">40</span>;
          },
          onlyOneScrollInBody: <span class="hljs-keyword">true</span>,
          body: SizedBox(
            width: maxW,
            height: maxH,
            child: pageViewWidget(maxW, maxH),
          )),
    );
  }

  <span class="hljs-comment">/// <span class="markdown">Banneréƒ¨ä»¶</span></span>
  Widget bannerWidget(<span class="hljs-built_in">double</span> maxW) {
    <span class="hljs-keyword">return</span> Container(
        width: maxW,
        height: <span class="hljs-number">200</span>,
        alignment: Alignment.center,
        color: Colors.red.shade300,
        child: Text(<span class="hljs-string">'Banner'</span>, style: myTextStyle));
  }

  <span class="hljs-comment">/// <span class="markdown">Tabséƒ¨ä»¶</span></span>
  Widget tabsWidget(<span class="hljs-built_in">double</span> maxW) {
    <span class="hljs-keyword">return</span> Container(
      width: maxW,
      height: <span class="hljs-number">40</span>,
      color: Colors.blue.shade400,
      child: Row(
        children: [
          Expanded(
            child: GestureDetector(
              onTap: () {
                handleTabClick(<span class="hljs-number">0</span>);
              },
              child: Container(
                alignment: Alignment.center,
                child: Text(<span class="hljs-string">'Tab 1'</span>, style: myTextStyle),
              ),
            ),
          ),
          Expanded(
            child: GestureDetector(
              onTap: () {
                handleTabClick(<span class="hljs-number">1</span>);
              },
              child: Container(
                alignment: Alignment.center,
                child: Text(<span class="hljs-string">'Tab 2'</span>, style: myTextStyle),
              ),
            ),
          )
        ],
      ),
    );
  }

  <span class="hljs-comment">/// <span class="markdown">pageViewéƒ¨ä»¶</span></span>
  Widget pageViewWidget(<span class="hljs-built_in">double</span> maxW, <span class="hljs-built_in">double</span> maxH) {
    <span class="hljs-keyword">return</span> SingleChildScrollView(
        primary: <span class="hljs-keyword">true</span>,
        physics: <span class="hljs-keyword">const</span> BouncingScrollPhysics(),
        child: SizedBox(
          width: maxW,
          height: maxH,
          child: PageView(
            controller: _pageController,
            onPageChanged: (index) {
              setState(() {
                pageIndex = index;
              });
            },
            children: [
              Container(
                  width: maxW,
                  height: <span class="hljs-number">1000</span>,
                  color: Colors.amberAccent,
                  alignment: Alignment.topCenter,
                  child: Text(<span class="hljs-string">'Page1'</span>, style: myTextStyle)),
              Container(
                  width: maxW,
                  height: <span class="hljs-number">1000</span>,
                  color: Colors.deepPurpleAccent,
                  alignment: Alignment.topCenter,
                  child: Text(<span class="hljs-string">'Page2'</span>, style: myTextStyle))
            ],
          ),
        ));
  }
}
</code></pre>
<h2 data-id="heading-3">4. æ€»ç»“</h2>
<p>é€šè¿‡è¿™æ®µä»£ç ï¼Œæˆ‘ä»¬æˆåŠŸåœ°åœ¨ Flutter ä¸­å®ç°äº†ä¸€ä¸ªå…·æœ‰å¸é¡¶ Tabs çš„ PageView æ•ˆæœã€‚ä»å¼•å…¥å¿…è¦çš„åº“ï¼Œåˆ°å®šä¹‰ç»„ä»¶å’Œç®¡ç†çŠ¶æ€ï¼Œå†åˆ°æ„å»ºå…·ä½“çš„ UI éƒ¨ä»¶ï¼Œæ¯ä¸€æ­¥éƒ½ç´§å¯†é…åˆã€‚ExtendedNestedScrollViewç»„ä»¶çš„ä½¿ç”¨æ˜¯å®ç°å¸é¡¶æ•ˆæœçš„æ ¸å¿ƒï¼Œè€Œå„ä¸ªéƒ¨ä»¶çš„åˆç†å¸ƒå±€å’Œæ ·å¼è®¾ç½®åˆ™è®©æ•´ä¸ªé¡µé¢çœ‹èµ·æ¥æ›´åŠ ç¾è§‚å’Œæ˜“äºäº¤äº’ã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ ç†è§£å¹¶åœ¨è‡ªå·±çš„ Flutter é¡¹ç›®ä¸­è¿ç”¨ç±»ä¼¼çš„åŠŸèƒ½ã€‚</p>
<hr/>
<blockquote>
<p>æœ¬æ¬¡åˆ†äº«å°±åˆ°è¿™å„¿å•¦ï¼Œæˆ‘æ˜¯é¹å¤šå¤šï¼Œæ·±è€•å‰ç«¯çš„æŠ€æœ¯åˆ›ä½œè€…ï¼Œå¦‚æœæ‚¨çœ‹äº†è§‰å¾—æœ‰å¸®åŠ©ï¼Œæ¬¢è¿è¯„è®ºï¼Œå…³æ³¨ï¼Œç‚¹èµï¼Œè½¬å‘ï¼Œæˆ‘ä»¬ä¸‹æ¬¡è§~</p>
</blockquote>
<p>PSï¼šåœ¨æœ¬é¡µæŒ‰F12ï¼Œåœ¨consoleä¸­è¾“å…¥document.getElementsByClassName('panel-btn')[0].click();æœ‰æƒŠå–œå“¦~</p>
<p><code>å¾€æœŸæ–‡ç« </code></p>
<ul>
<li><a href="https://juejin.cn/post/7583910637958807571" target="_blank" title="https://juejin.cn/post/7583910637958807571">flutterä½¿ç”¨package_info_plusåº“è·å–åº”ç”¨ä¿¡æ¯çš„æ•™ç¨‹</a></li>
<li><a href="https://juejin.cn/post/7588680081327259690" target="_blank" title="https://juejin.cn/post/7588680081327259690">Flutterä¸‹æ‹‰åˆ·æ–°ä¸Šæ‹‰åŠ è½½ä¾§æ‹‰åˆ·æ–°æ’ä»¶ï¼šeasy_refreshå…¨é¢ä½¿ç”¨æŒ‡å—</a></li>
<li><a href="https://juejin.cn/post/7583226204036513833" target="_blank" title="https://juejin.cn/post/7583226204036513833">flutter-ä½¿ç”¨EventBuså®ç°ç»„ä»¶é—´æ•°æ®é€šä¿¡</a></li>
<li><a href="https://juejin.cn/post/7582808491582619684" target="_blank" title="https://juejin.cn/post/7582808491582619684">Flutterè¾“å…¥æ¡†TextFieldçš„å±æ€§ä¸å®æˆ˜ç”¨æ³•å…¨é¢è§£æ+ç¤ºä¾‹</a></li>
<li><a href="https://juejin.cn/post/7581693431740448831" target="_blank" title="https://juejin.cn/post/7581693431740448831">Flutterè‡ªå®šä¹‰æ—¥å†table_calendarå®Œå…¨æŒ‡å—+æ¡ˆä¾‹</a></li>
<li><a href="https://juejin.cn/post/7580389111921786943" target="_blank" title="https://juejin.cn/post/7580389111921786943">flutter-å±å¹•è‡ªé€‚åº”æ’ä»¶flutter_screenutilæ•™ç¨‹å…¨æŒ‡å—</a></li>
<li><a href="https://juejin.cn/post/7579101504289882166" target="_blank" title="https://juejin.cn/post/7579101504289882166">flutter-ä½¿ç”¨url_launcheræ‰“å¼€é“¾æ¥/åº”ç”¨/çŸ­ä¿¡/é‚®ä»¶å’Œè¯„åˆ†è·³è½¬ç­‰</a></li>
<li><a href="https://juejin.cn/post/7570923924365230143" target="_blank" title="https://juejin.cn/post/7570923924365230143">flutterå›¾ç‰‡é€‰æ‹©åº“multi_image_picker_pluså’Œimage_pickerçš„å¯¹æ¯”å’Œä½¿ç”¨è§£æ</a></li>
<li><a href="https://juejin.cn/post/7568136081302978623" target="_blank" title="https://juejin.cn/post/7568136081302978623">è§£é”flutterå¼¹çª—æ–°å§¿åŠ¿ï¼šdialog-flutter_smart_dialogæ’ä»¶è§£è¯»+æ¡ˆä¾‹</a></li>
<li><a href="https://juejin.cn/post/7559089440901545999" target="_blank" title="https://juejin.cn/post/7559089440901545999">flutter-åˆ‡æ¢çŠ¶æ€æ˜¾ç¤ºä¸åŒç»„ä»¶10ç§å®ç°æ–¹æ¡ˆå…¨è§£æ</a></li>
<li><a href="https://juejin.cn/post/7555079970491318308" target="_blank" title="https://juejin.cn/post/7555079970491318308">flutter-è¯¦è§£æ§åˆ¶ç»„ä»¶æ˜¾ç¤ºçš„ä¸¤ç§æ–¹å¼Offstageä¸Visibility</a></li>
<li><a href="https://juejin.cn/post/7535358416182788122" target="_blank" title="https://juejin.cn/post/7535358416182788122">flutter-ä½¿ç”¨AnimatedDefaultTextStyleå®ç°æ–‡æœ¬åŠ¨ç”»</a></li>
<li><a href="https://juejin.cn/post/7537339432291434496" target="_blank" title="https://juejin.cn/post/7537339432291434496">flutter-ä½¿ç”¨SafeAreaç»„ä»¶å¤„ç†å„æœºå‹çš„å®‰å…¨è·ç¦»</a></li>
<li><a href="https://juejin.cn/spost/7537593417099149321" target="_blank" title="https://juejin.cn/spost/7537593417099149321">flutter-å®ç°æ¸å˜è‰²è¾¹æ¡†èƒŒæ™¯ä»¥åŠæ¸å˜è‰²æ–‡å­—</a></li>
<li><a href="https://juejin.cn/post/7543474419240370185" target="_blank" title="https://juejin.cn/post/7543474419240370185">flutter-ä½¿ç”¨confettiåˆ¶ä½œç‚«é…·çº¸å±‘çˆ†ç‚¸ç²’å­åŠ¨ç”»</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue-æ€§èƒ½ä¼˜åŒ–åˆ©å™¨ï¼šKeep-Alive]]></title>    <link>https://juejin.cn/post/7601486204174581810</link>    <guid>https://juejin.cn/post/7601486204174581810</guid>    <pubDate>2026-02-02T01:35:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601486204174581810" data-draft-id="7601441797118853171" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue-æ€§èƒ½ä¼˜åŒ–åˆ©å™¨ï¼šKeep-Alive"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,Vue.js"/> <meta itemprop="datePublished" content="2026-02-02T01:35:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue-æ€§èƒ½ä¼˜åŒ–åˆ©å™¨ï¼šKeep-Alive
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T01:35:22.000Z" title="Mon Feb 02 2026 01:35:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨åå°ç®¡ç†ç³»ç»Ÿæˆ–é•¿åˆ—è¡¨é¡µé¢ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°è¿™æ ·çš„éœ€æ±‚ï¼šä»åˆ—è¡¨è¿›å…¥è¯¦æƒ…é¡µï¼Œè¿”å›æ—¶å¸Œæœ›åˆ—è¡¨æ»šåŠ¨ä½ç½®ã€æœç´¢æ¡ä»¶éƒ½èƒ½å®Œç¾ä¿ç•™ã€‚Vue å†…ç½®çš„ <code>&lt;KeepAlive&gt;</code> æ­£æ˜¯ä¸ºæ­¤è€Œç”Ÿã€‚æœ¬æ–‡å°†å¸¦ä½ ä»åŸºç¡€ç”¨æ³•å‡ºå‘ï¼Œç›´å‡»å…¶èƒŒåçš„ç¼“å­˜ç®—æ³•åŸç†ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€ ä»€ä¹ˆæ˜¯ Keep-Aliveï¼Ÿ</h2>
<p><code>&lt;KeepAlive&gt;</code> æ˜¯ä¸€ä¸ªå†…ç½®ç»„ä»¶ï¼Œç”¨äº<strong>ç¼“å­˜ä¸æ´»åŠ¨çš„ç»„ä»¶å®ä¾‹</strong>ï¼Œè€Œä¸æ˜¯é”€æ¯å®ƒä»¬ã€‚</p>
<ul>
<li><strong>æ ¸å¿ƒä»·å€¼</strong>ï¼šä¿ç•™ç»„ä»¶çŠ¶æ€ã€é¿å…é‡å¤æ¸²æŸ“ DOMã€æå‡ç”¨æˆ·ä½“éªŒã€‚</li>
<li><strong>åº”ç”¨åœºæ™¯</strong>ï¼šè¡¨å•å¤šæ­¥éª¤åˆ‡æ¢ã€åˆ—è¡¨é¡µè¿”å›æµã€è¯¦æƒ…é¡µé¡µç­¾åˆ‡æ¢ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-2">äºŒã€ åŸºç¡€å®æˆ˜ï¼šç»“åˆ Vue Router å®ç°æŒ‰éœ€ç¼“å­˜</h2>
<p>åœ¨ Vue ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ç»“åˆè·¯ç”±çš„ <code>meta</code> å­—æ®µå’Œ <code>&lt;router-view&gt;</code> çš„æ’æ§½è¯­æ³•æ¥å®ç°ã€‚</p>
<h3 data-id="heading-3">1. è·¯ç”±é…ç½®</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/router/index.ts</span>
<span class="hljs-keyword">import</span> { createRouter, createWebHistory, <span class="hljs-title class_">RouteRecordRaw</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-attr">routes</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">RouteRecordRaw</span>&gt; = [
    {
      <span class="hljs-attr">path</span>: <span class="hljs-string">'/your-path'</span>,
      <span class="hljs-attr">name</span>: <span class="hljs-string">'YourComponentName'</span>,
      <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./views/YourComponent.vue'</span>),
      <span class="hljs-attr">meta</span>: {
        <span class="hljs-attr">keepAlive</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// è®¾ç½®éœ€è¦ç¼“å­˜</span>
      }
    }
];
</code></pre>
<h3 data-id="heading-4">2. å®¿ä¸»å®¹å™¨é…ç½®</h3>
<p>åœ¨ <code>App.vue</code> æˆ–ä¸»å¸ƒå±€æ–‡ä»¶ä¸­ï¼Œæ¥ç€åœ¨å¯¹åº”<code>&lt;router-view&gt;</code>çš„ä¸­æ’å…¥<code>&lt;keep-alive&gt;</code>ï¼Œå¹¶è®¾ç½®<code>include</code>å±æ€§æ¥åŒ¹é…éœ€è¦ç¼“å­˜çš„ç»„ä»¶</p>
<p>ä»£ç æ®µ</p>
<pre><code class="hljs language-vue" lang="vue">  // includeComponentsä¸ºå¯¹åº”çš„ç»„ä»¶æ–‡ä»¶åç§°
  &lt;router-view v-slot="{ Component }"&gt;
    &lt;KeepAlive :include="includeComponents"&gt;
      &lt;component :is="Component" /&gt;
    &lt;/KeepAlive&gt;
  &lt;/router-view&gt;
</code></pre>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€ ç‰¹æœ‰çš„ç”Ÿå‘½å‘¨æœŸé’©å­</h2>
<p>ä¸€æ—¦ç»„ä»¶è¢«ç¼“å­˜ï¼Œå…¶æ­£å¸¸çš„é”€æ¯æµç¨‹å°†è¢«â€œå†»ç»“â€ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä¸¤ä¸ªä¸“å±é’©å­ï¼š</p>
<ul>
<li><strong><code>activated</code></strong>ï¼šç»„ä»¶<strong>è¢«æ¿€æ´»</strong>ï¼ˆåˆå§‹åŒ–æ¸²æŸ“æˆ–ä»ç¼“å­˜ä¸­æ¢å¤ï¼‰æ—¶è°ƒç”¨ã€‚æ­¤æ—¶å¯é‡æ–°è·å–æ•°æ®æˆ–é‡ç½®æ»šåŠ¨ä½ç½®ã€‚</li>
<li><strong><code>deactivated</code></strong>ï¼šç»„ä»¶<strong>è¢«åœç”¨</strong>ï¼ˆç¦»å¼€å½“å‰è·¯ç”±ï¼‰æ—¶è°ƒç”¨ã€‚æ­¤æ—¶å¯æ¸…ç†å®šæ—¶å™¨æˆ–å–æ¶ˆæœªå®Œæˆçš„è¯·æ±‚ã€‚</li>
</ul>
<blockquote>
<p><strong>âš ï¸ æ³¨æ„</strong>ï¼šç”±äºç»„ä»¶è¢«ç¼“å­˜ï¼Œ<code>onBeforeUnmount</code> å’Œ <code>onUnmounted</code>ï¼ˆVue 2 ä¸­çš„ <code>beforeDestroy</code> å’Œ <code>destroyed</code>ï¼‰<strong>ä¸ä¼š</strong>è¢«è§¦å‘ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-6">å››ã€ æ·±åº¦è¿›é˜¶ï¼šKeep-Alive çš„åº•å±‚åŸç†</h2>
<p><code>&lt;KeepAlive&gt;</code> æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªâ€œæ— æ¸²æŸ“ç»„ä»¶â€ï¼Œå®ƒä¸æ¸²æŸ“å¤šä½™çš„ DOMï¼Œè€Œæ˜¯ç›´æ¥æ“ä½œç»„ä»¶çš„ VNodeã€‚</p>
<h3 data-id="heading-7">1. å†…å­˜ä¸­çš„ Map ç¼“å­˜</h3>
<p><code>Keep-Alive</code> å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ª <code>cache</code> å¯¹è±¡ï¼ˆMap ç»“æ„ï¼‰å’Œä¸€ä¸ª <code>keys</code> é˜Ÿåˆ—ï¼ˆArray ç»“æ„ï¼‰ï¼š</p>
<ul>
<li><strong>Cache</strong>ï¼šé”®æ˜¯ç»„ä»¶çš„ <code>key</code>ï¼Œå€¼æ˜¯ç»„ä»¶çš„ <code>vnode</code> å®ä¾‹ã€‚</li>
<li><strong>Keys</strong>ï¼šè®°å½•ç¼“å­˜ç»„ä»¶çš„é¡ºåºã€‚</li>
</ul>
<h3 data-id="heading-8">2. æ¸²æŸ“å‡½æ•°é€»è¾‘</h3>
<p>å½“ <code>render</code> å‡½æ•°æ‰§è¡Œæ—¶ï¼š</p>
<ol>
<li>è·å–å†…éƒ¨åŒ…è£¹çš„ç»„ä»¶èŠ‚ç‚¹ã€‚</li>
<li>æŸ¥æ‰¾ <code>cache</code> ä¸­æ˜¯å¦å­˜åœ¨è¯¥ç»„ä»¶çš„å®ä¾‹ã€‚</li>
<li><strong>å­˜åœ¨</strong>ï¼šç›´æ¥ä»ç¼“å­˜ä¸­è·å–å®ä¾‹ï¼Œå¹¶æ›´æ–°è¯¥ key åœ¨ <code>keys</code> é˜Ÿåˆ—ä¸­çš„ä½ç½®ï¼ˆç§»åˆ°æœ€åï¼‰ã€‚</li>
<li><strong>ä¸å­˜åœ¨</strong>ï¼šå°†å…¶åŠ å…¥ç¼“å­˜ã€‚</li>
</ol>
<h3 data-id="heading-9">3. LRU ç¼“å­˜ç­–ç•¥</h3>
<p>å¦‚æœç¼“å­˜çš„ç»„ä»¶è¿‡å¤šï¼Œå†…å­˜ä¼šçˆ†ç‚¸å—ï¼Ÿä¸ä¼šã€‚ Vue ä½¿ç”¨äº† <strong>LRU (Least Recently Used) æœ€è¿‘æœ€å°‘ä½¿ç”¨</strong> ç®—æ³•ã€‚å½“ç¼“å­˜æ•°é‡è¶…è¿‡ <code>max</code> å±æ€§è®¾å®šçš„é˜ˆå€¼æ—¶ï¼ŒVue ä¼šè‡ªåŠ¨é”€æ¯ <code>keys</code> é˜Ÿåˆ—ä¸­æœ€ä¹…æ²¡è¢«è®¿é—®è¿‡çš„é‚£ä¸ªç»„ä»¶å®ä¾‹ã€‚</p>
<hr/>
<h2 data-id="heading-10">äº”ã€ æ€»ç»“</h2>
<ol>
<li><strong>ç»„ä»¶åç§° (name)</strong> ï¼š<code>include</code> åŒ¹é…çš„æ˜¯ç»„ä»¶å®šä¹‰çš„ <code>name</code> é€‰é¡¹ã€‚åœ¨ Vue 3 <code>&lt;script setup&gt;</code> ä¸­ï¼Œå¦‚æœä½ æ²¡æœ‰æ˜¾å¼å®šä¹‰ <code>name</code>ï¼ŒVue ä¼šæ ¹æ®æ–‡ä»¶åè‡ªåŠ¨ç”Ÿæˆï¼Œå»ºè®®æ˜¾å¼å®šä¹‰ä»¥é˜²åŒ¹é…å¤±æ•ˆã€‚</li>
<li><strong>å¤šçº§åµŒå¥—è·¯ç”±</strong>ï¼šå¦‚æœä½ çš„ <code>&lt;router-view&gt;</code> å±‚çº§å¾ˆæ·±ï¼Œæ¯ä¸€å±‚éƒ½éœ€è¦é…ç½® <code>&lt;KeepAlive&gt;</code> æ‰èƒ½ä¿è¯æ•´æ¡è·¯å¾„ä¸Šçš„çŠ¶æ€éƒ½è¢«ä¿ç•™ã€‚</li>
<li><strong>Key çš„é‡è¦æ€§</strong>ï¼šåœ¨ <code>&lt;component :is&gt;</code> ä¸Šç»‘å®šæ­£ç¡®çš„ <code>:key</code>ï¼Œèƒ½æœ‰æ•ˆé˜²æ­¢åœ¨åˆ‡æ¢ç›¸åŒç»„ä»¶ä¸åŒå‚æ•°ï¼ˆå¦‚ <code>/detail/1</code> åˆ° <code>/detail/2</code>ï¼‰æ—¶å‡ºç°ç¼“å­˜æ··ä¹±ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ€§èƒ½ä¼˜åŒ–ä¹‹â½¹ç»œå±‚â¾¯ä¼˜åŒ–--è®©ä½ çš„â½¹ç«™è·‘å¾—â½å¿«é€’å‘˜è¿˜å¿«]]></title>    <link>https://juejin.cn/post/7601606188618367014</link>    <guid>https://juejin.cn/post/7601606188618367014</guid>    <pubDate>2026-02-02T00:37:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601606188618367014" data-draft-id="7592622563546972195" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ€§èƒ½ä¼˜åŒ–ä¹‹â½¹ç»œå±‚â¾¯ä¼˜åŒ–--è®©ä½ çš„â½¹ç«™è·‘å¾—â½å¿«é€’å‘˜è¿˜å¿«"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,JavaScript"/> <meta itemprop="datePublished" content="2026-02-02T00:37:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="destinying"/> <meta itemprop="url" content="https://juejin.cn/user/896842287549703"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ€§èƒ½ä¼˜åŒ–ä¹‹â½¹ç»œå±‚â¾¯ä¼˜åŒ–--è®©ä½ çš„â½¹ç«™è·‘å¾—â½å¿«é€’å‘˜è¿˜å¿«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/896842287549703/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    destinying
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T00:37:32.000Z" title="Mon Feb 02 2026 00:37:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    44
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">â½¹ç»œå±‚â¾¯ä¼˜åŒ–ï¼šè®©ä½ çš„â½¹ç«™è·‘å¾—â½å¿«é€’å‘˜è¿˜å¿«</h2>
<blockquote>
<p>å‰è¨€ï¼šæœ¬â½‚çº¯å±çœŸå®ç»å†ï¼Œå¦‚æœ‰é›·åŒï¼Œçº¯å±ä½ ä¹Ÿè¸©è¿‡å‘ã€‚</p>
</blockquote>
<h3 data-id="heading-1">1. æµè§ˆå™¨ç¼“å­˜ï¼šåˆ«è®©â½¤æˆ·é‡å¤ä¸‹è½½ä½ çš„"ç¥–ä¼ ä»£ç "</h3>
<p>å…„å¼Ÿä»¬ï¼Œæœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™ç§æƒ…å†µï¼Ÿä½ æ˜æ˜å·²ç»ä¼˜åŒ–è¿‡ä»£ç äº†ï¼Œâ½¤æˆ·è¿˜æ˜¯è¯´"â½¹ç«™æ€ä¹ˆè¿˜æ˜¯é‚£ä¸ªæ ·â¼¦ï¼Ÿ"ç„¶åä½ â¼€è„¸æ‡µé€¼åœ°å‘ç°ï¼šæµè§ˆå™¨ç¼“å­˜è¿˜åœ¨ä½¿â½¤ä½ ä¸Šä¸ªæœˆå†™çš„"å±â¼­ä»£ç "ã€‚</p>
<p><strong>æµè§ˆå™¨ç¼“å­˜å°±åƒæ˜¯é‚£ä¸ªè®°æ€§è¶…å¥½çš„å‰å¥³å‹</strong>ï¼Œä½ æ”¹äº†ä»€ä¹ˆå¥¹éƒ½è®°å¾—ï¼Œä½†å°±æ˜¯ä¸æ„¿æ„æ‰¿è®¤ä½ å·²ç»å˜äº†ã€‚</p>
<h4 data-id="heading-2">1.1 LocalStorage â¼€æŠŠæ¢­ï¼Ÿå¿«ä½æ‰‹ï¼</h4>
<p>å¾ˆå¤šåŒå­¦å–œæ¬¢æŠŠä»€ä¹ˆä¸œè¥¿éƒ½å¾€ LocalStorage â¾¥å¡ï¼Œæ¨ä¸å¾—æŠŠæ•´ä¸ªé¡¹â½¬éƒ½å­˜è¿›å»ã€‚å¬æˆ‘â¼€å¥åŠï¼ŒLocalStorage å°±åƒä½ çš„é’±åŒ…ï¼Œåˆ«ä»€ä¹ˆéƒ½å¾€â¾¥å¡ï¼Œå¦åˆ™å“ªå¤©çˆ†äº†å°±å°´å°¬äº†ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ é”™è¯¯ç¤ºèŒƒ</span>
<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'æ•´ä¸ªé¡¹ç›®'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(yourProject))

<span class="hljs-comment">// âœ… æ­£ç¡®å§¿åŠ¿ï¼šå°è£…ä¸€ä¸‹ï¼ŒåŠ ä¸Šè¿‡æœŸæ—¶é—´</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Storage</span> {
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">set</span>(<span class="hljs-params">key, value, expire = <span class="hljs-number">7</span> * <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span></span>) {
    <span class="hljs-keyword">const</span> data = {
      value,
      <span class="hljs-attr">expire</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() + expire
    }
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(key, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data))
  }

  <span class="hljs-keyword">static</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">key</span>) {
    <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(key))
    <span class="hljs-keyword">if</span> (!data) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() &gt; data.<span class="hljs-property">expire</span>) {
      <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">removeItem</span>(key)
      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
    }
    <span class="hljs-keyword">return</span> data.<span class="hljs-property">value</span>
  }
}

<span class="hljs-comment">// ä½¿ç”¨èµ·æ¥æ›´ä¼˜é›…</span>
<span class="hljs-title class_">Storage</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'userInfo'</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> })
<span class="hljs-keyword">const</span> user = <span class="hljs-title class_">Storage</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'userInfo'</span>)
</code></pre>
<h4 data-id="heading-3">1.2 SessionStorage æ˜¯"éœ²â½”æƒ…ç¼˜"</h4>
<p>å…³æ‰æ ‡ç­¾é¡µå°±æ‹œæ‹œï¼Œä¸å¤šåºŸè¯ã€‚é€‚åˆå­˜é‚£äº›"â½¤å®Œå³å¼ƒ"çš„æ•°æ®ï¼Œâ½å¦‚è¡¨å•æš‚å­˜ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¡¨å•æš‚å­˜ç¤ºä¾‹ï¼Œé˜²æ­¢ç”¨æˆ·è¯¯æ“ä½œä¸¢å¤±æ•°æ®</span>
<span class="hljs-keyword">const</span> form = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'#myForm'</span>)

<span class="hljs-comment">// è¾“å…¥æ—¶è‡ªåŠ¨ä¿å­˜</span>
form.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'input'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>(form)
  sessionStorage.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'formData'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(formData)))
})

<span class="hljs-comment">// é¡µé¢åŠ è½½æ—¶æ¢å¤</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'load'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> saved = sessionStorage.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'formData'</span>)
  <span class="hljs-keyword">if</span> (saved) {
    <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(saved)
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(data).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {
      form.<span class="hljs-property">elements</span>[key].<span class="hljs-property">value</span> = data[key]
    })
  }
})

<span class="hljs-comment">// æäº¤åæ¸…é™¤</span>
form.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'submit'</span>, <span class="hljs-function">() =&gt;</span> {
  sessionStorage.<span class="hljs-title function_">removeItem</span>(<span class="hljs-string">'formData'</span>)
})
</code></pre>
<h4 data-id="heading-4">1.3 IndexedDBï¼Ÿé‚£æ˜¯çœŸçš„çŒ›</h4>
<p>å½“ä½ éœ€è¦å­˜ç‚¹â¼¤ä¸œè¥¿çš„æ—¶å€™ï¼Œâ½å¦‚ç¦»çº¿ç¼“å­˜ã€å›¾ç‰‡å•¥çš„ï¼ŒIndexedDB æ‰æ˜¯ä½ çš„èœã€‚è™½ç„¶ API è®¾è®¡å¾—åƒè¿·å®«ï¼Œä½†å¥½æ­¹æ˜¯ä¸ªè¿·å®«â¾¥æœ‰å®è—çš„é‚£ç§ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// â¼¿å†™ IndexedDB ç®€ç›´æŠ˜ç£¨ï¼Œæ¨èâ½¤ idb è¿™ä¸ªåº“</span>
<span class="hljs-keyword">import</span> { openDB } <span class="hljs-keyword">from</span> <span class="hljs-string">'idb'</span>

<span class="hljs-comment">// åˆå§‹åŒ–æ•°æ®åº“</span>
<span class="hljs-keyword">const</span> db = <span class="hljs-keyword">await</span> <span class="hljs-title function_">openDB</span>(<span class="hljs-string">'myDB'</span>, <span class="hljs-number">1</span>, {
  <span class="hljs-title function_">upgrade</span>(<span class="hljs-params">db</span>) {
    <span class="hljs-keyword">if</span> (!db.<span class="hljs-property">objectStoreNames</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">'images'</span>)) {
      db.<span class="hljs-title function_">createObjectStore</span>(<span class="hljs-string">'images'</span>, { <span class="hljs-attr">keyPath</span>: <span class="hljs-string">'id'</span> })
    }
  }
})

<span class="hljs-comment">// å­˜å‚¨å›¾ç‰‡</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">saveImage</span>(<span class="hljs-params">id, blob</span>) {
  <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">put</span>(<span class="hljs-string">'images'</span>, { id, blob, <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() })
}

<span class="hljs-comment">// è¯»å–å›¾ç‰‡</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getImage</span>(<span class="hljs-params">id</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">get</span>(<span class="hljs-string">'images'</span>, id)
}
</code></pre>
<h4 data-id="heading-5">1.4 Cache APIï¼šPWA çš„çµé­‚</h4>
<p>æƒ³åš PWAï¼ŸCache API å¿…é¡»å¾—ä¼šã€‚å®ƒèƒ½è®©ä½ åœ¨ç¦»çº¿çŠ¶æ€ä¸‹ä¹Ÿèƒ½è®¿é—®â½¹ç«™ï¼Œç®€ç›´æ˜¯â½¹ç»œå¼€â¼©å·®æ—¶çš„æ•‘å‘½ç¨»è‰ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// sw.js</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">CACHE_NAME</span> = <span class="hljs-string">'my-cache-v1'</span>
<span class="hljs-keyword">const</span> urlsToCache = [
  <span class="hljs-string">'/'</span>,
  <span class="hljs-string">'/styles/main.css'</span>,
  <span class="hljs-string">'/scripts/main.js'</span>,
  <span class="hljs-string">'/images/logo.png'</span>
]

<span class="hljs-comment">// å®‰è£…æ—¶ç¼“å­˜é™æ€èµ„æº</span>
self.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'install'</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  event.<span class="hljs-title function_">waitUntil</span>(
    caches.<span class="hljs-title function_">open</span>(<span class="hljs-variable constant_">CACHE_NAME</span>)
      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">cache</span>) =&gt;</span> cache.<span class="hljs-title function_">addAll</span>(urlsToCache))
      .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> self.<span class="hljs-title function_">skipWaiting</span>())
  )
})

<span class="hljs-comment">// æ‹¦æˆªè¯·æ±‚ï¼Œä¼˜å…ˆä»ç¼“å­˜è¯»å–</span>
self.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'fetch'</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  event.<span class="hljs-title function_">respondWith</span>(
    caches.<span class="hljs-title function_">match</span>(event.<span class="hljs-property">request</span>)
      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
        <span class="hljs-comment">// ç¼“å­˜å‘½ä¸­ç›´æ¥è¿”å›ï¼Œå¦åˆ™â¾›ç½‘ç»œ</span>
        <span class="hljs-keyword">return</span> response || <span class="hljs-title function_">fetch</span>(event.<span class="hljs-property">request</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
          <span class="hljs-comment">// æŠŠæ–°èµ„æºç¼“å­˜èµ·æ¥</span>
          <span class="hljs-keyword">return</span> caches.<span class="hljs-title function_">open</span>(<span class="hljs-variable constant_">CACHE_NAME</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">cache</span> =&gt;</span> {
            cache.<span class="hljs-title function_">put</span>(event.<span class="hljs-property">request</span>, response.<span class="hljs-title function_">clone</span>())
            <span class="hljs-keyword">return</span> response
          })
        })
      })
  )
})

<span class="hljs-comment">// æ›´æ–°ç¼“å­˜</span>
self.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'activate'</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> cacheWhitelist = [<span class="hljs-variable constant_">CACHE_NAME</span>]
  event.<span class="hljs-title function_">waitUntil</span>(
    caches.<span class="hljs-title function_">keys</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">cacheNames</span>) =&gt;</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(
        cacheNames.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">cacheName</span>) =&gt;</span> {
          <span class="hljs-keyword">if</span> (cacheWhitelist.<span class="hljs-title function_">indexOf</span>(cacheName) === -<span class="hljs-number">1</span>) {
            <span class="hljs-keyword">return</span> caches.<span class="hljs-title function_">delete</span>(cacheName)
          }
        })
      )
    })
  )
})
</code></pre>
<h4 data-id="heading-6">1.5 å°è´´å£«</h4>
<ul>
<li>ç»™ç¼“å­˜åŠ ç‚¹è¿‡æœŸæ—¶é—´ï¼Œåˆ«è®©â½¤æˆ·çš„æ‰‹æœºå˜æˆäº†ä½ çš„"åƒåœ¾åœº"</li>
<li>æ•æ„Ÿæ•°æ®åˆ«å­˜ç¼“å­˜ï¼Œä¸ç„¶å“ªå¤©è¢«æŠ“åŒ…äº†åˆ«æ€ªæˆ‘æ²¡æé†’ä½ </li>
<li>å®šæœŸæ¸…ç†ç¼“å­˜ï¼Œå°±åƒæ‰“æ‰«æˆ¿é—´â¼€æ ·é‡è¦</li>
</ul>
<h3 data-id="heading-7">2. èµ„æºå‹ç¼©ï¼šè®©ä½“ç§¯ç¼©â½”ï¼Œè®©é€Ÿåº¦èµ·é£</h3>
<p>è¯´çœŸçš„ï¼Œèµ„æºå‹ç¼©æ˜¯æœ€ç®€å•ä¹Ÿæœ€æœ‰æ•ˆçš„ä¼˜åŒ–æ‰‹æ®µã€‚â½¤å¥½äº†ï¼Œèƒ½å‡å°‘ 70%+ çš„ä¼ è¾“ä½“ç§¯ï¼›â½¤ä¸å¥½ï¼Œâ½¤æˆ·åŠ è½½æ—¶å°±åƒåœ¨ç­‰å¿«é€’ã€‚</p>
<h4 data-id="heading-8">2.1 Gzip/Brotli å‹ç¼©</h4>
<p>è¿™ä¸ªä¸»è¦æ˜¯åç«¯å’Œè¿ç»´é…ç½®çš„ï¼Œä½†å‰ç«¯ä¹Ÿè¦çŸ¥é“åŸç†ã€‚Gzip èƒ½å‹ç¼©åˆ°åŸä½“ç§¯çš„ 30-40%ï¼ŒBrotli æ›´å¼ºï¼Œèƒ½åˆ° 20-30%ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Vite å¼€å‘ç¯å¢ƒä¹Ÿå¼€å¯å‹ç¼©</span>
<span class="hljs-comment">// vite.config.js</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">server</span>: {
    <span class="hljs-attr">headers</span>: {
      <span class="hljs-string">'Content-Encoding'</span>: <span class="hljs-string">'gzip'</span>
    }
  }
})
</code></pre>
<p><strong>å‘Šè¯‰åç«¯å¤§ä½¬ï¼š</strong></p>
<ul>
<li>HTMLã€CSSã€JSã€JSON éƒ½è¦å¼€å¯ Gzip/Brotli</li>
<li>å›¾ç‰‡ã€è§†é¢‘è¿™ç±»å·²ç»å‹ç¼©è¿‡çš„æ–‡ä»¶å°±ä¸ç”¨å†å‹äº†</li>
<li>ç”Ÿäº§ç¯å¢ƒä¼˜å…ˆç”¨ Brotliï¼Œå…¼å®¹æ€§ç”¨ Gzip</li>
</ul>
<h4 data-id="heading-9">2.2 ä»£ç å‹ç¼©ï¼šTree Shaking + å‹ç¼©å·¥å…·</h4>
<p>ç°ä»£æ„å»ºå·¥å…·ï¼ˆViteã€Webpackï¼‰éƒ½å†…ç½®äº†è¿™äº›åŠŸèƒ½ï¼Œé…ç½®å¥½å°±è¡Œã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vite.config.js</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>
<span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [<span class="hljs-title function_">vue</span>()],

  <span class="hljs-attr">build</span>: {
    <span class="hljs-comment">// å¼€å¯ CSS ä»£ç åˆ†å‰²</span>
    <span class="hljs-attr">cssCodeSplit</span>: <span class="hljs-literal">true</span>,

    <span class="hljs-comment">// è®¾ç½® chunk å¤§å°è­¦å‘Šé˜ˆå€¼ï¼ˆkbï¼‰</span>
    <span class="hljs-attr">chunkSizeWarningLimit</span>: <span class="hljs-number">1000</span>,

    <span class="hljs-comment">// å‹ç¼©é…ç½®</span>
    <span class="hljs-attr">minify</span>: <span class="hljs-string">'terser'</span>,
    <span class="hljs-attr">terserOptions</span>: {
      <span class="hljs-attr">compress</span>: {
        <span class="hljs-attr">drop_console</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒå»æ‰ console</span>
        <span class="hljs-attr">drop_debugger</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒå»æ‰ debugger</span>
      }
    },

    <span class="hljs-attr">rollupOptions</span>: {
      <span class="hljs-attr">output</span>: {
        <span class="hljs-comment">// å¼€å¯ Tree Shaking</span>
        <span class="hljs-attr">treeshake</span>: <span class="hljs-literal">true</span>
      }
    }
  }
})
</code></pre>
<h4 data-id="heading-10">2.3 å›¾ç‰‡å‹ç¼©ï¼šä½“ç§¯å‡åŠï¼Œä½“éªŒç¿»å€</h4>
<p>å¾ˆå¤šåŒå­¦ç›´æ¥æŠŠè®¾è®¡å¸ˆç»™çš„åŸå›¾æ”¾ä¸Šå»ï¼Œä¸€å¼ å›¾å¥½å‡  MBï¼Œâ½¤æˆ·åŠ è½½è¦ç­‰åŠå¤©ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vite-plugin-imageminï¼šè‡ªåŠ¨å‹ç¼©å›¾ç‰‡</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>
<span class="hljs-keyword">import</span> viteImagemin <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-imagemin'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">viteImagemin</span>({
      <span class="hljs-attr">gifsicle</span>: { <span class="hljs-attr">optimizationLevel</span>: <span class="hljs-number">7</span> },
      <span class="hljs-attr">optipng</span>: { <span class="hljs-attr">optimizationLevel</span>: <span class="hljs-number">7</span> },
      <span class="hljs-attr">mozjpeg</span>: { <span class="hljs-attr">quality</span>: <span class="hljs-number">80</span> },
      <span class="hljs-attr">pngquant</span>: { <span class="hljs-attr">quality</span>: [<span class="hljs-number">0.8</span>, <span class="hljs-number">0.9</span>] },
      <span class="hljs-attr">svgo</span>: {
        <span class="hljs-attr">plugins</span>: [
          { <span class="hljs-attr">name</span>: <span class="hljs-string">'removeViewBox'</span> },
          { <span class="hljs-attr">name</span>: <span class="hljs-string">'removeEmptyAttrs'</span> }
        ]
      }
    })
  ]
})
</code></pre>
<p><strong>æ›´ç®€å•çš„æ–¹æ³•ï¼šç”¨åœ¨çº¿å·¥å…·</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftinypng.com%2F" target="_blank" title="https://tinypng.com/" ref="nofollow noopener noreferrer">TinyPNG</a>ï¼šå…è´¹ï¼Œå‹ç¼©æ•ˆæœå¥½</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fsquoosh.app%2F" target="_blank" title="https://squoosh.app/" ref="nofollow noopener noreferrer">Squoosh</a>ï¼šGoogle å‡ºå“ï¼ŒåŠŸèƒ½å¼ºå¤§</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fimageoptim.com%2F" target="_blank" title="https://imageoptim.com/" ref="nofollow noopener noreferrer">ImageOptim</a>ï¼šMac ä¸“ç”¨ï¼Œæ‹–è¿›å»å°±è¡Œ</li>
</ul>
<h4 data-id="heading-11">2.4 WebP æ ¼å¼ï¼šæ–°æ—¶ä»£çš„å›¾ç‰‡æ ¼å¼</h4>
<p>WebP æ¯”ä¼ ç»Ÿæ ¼å¼ï¼ˆJPGã€PNGï¼‰å° 25-35%ï¼Œè´¨é‡è¿˜æ›´å¥½ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- ä¼ ç»Ÿå†™æ³• --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"image.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"ç¤ºä¾‹å›¾ç‰‡"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ä¼˜åŒ–å†™æ³•ï¼šæ”¯æŒ WebP ç”¨ WebPï¼Œä¸æ”¯æŒé™çº§åˆ° JPG --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">picture</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">srcset</span>=<span class="hljs-string">"image.webp"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"image/webp"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"image.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"ç¤ºä¾‹å›¾ç‰‡"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">picture</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è‡ªåŠ¨è½¬ WebPï¼švite-plugin-webp</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>
<span class="hljs-keyword">import</span> webp <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-webp'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">webp</span>({
      <span class="hljs-attr">quality</span>: <span class="hljs-number">80</span>,
      <span class="hljs-attr">enablePlugin</span>: <span class="hljs-literal">true</span>
    })
  ]
})
</code></pre>
<h4 data-id="heading-12">2.5 é›ªç¢§å›¾ vs SVG Sprite</h4>
<p>è¿‡å»å¸¸ç”¨é›ªç¢§å›¾ï¼Œç°åœ¨æ›´æ¨è SVG Spriteã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vite-plugin-svg-icons</span>
<span class="hljs-keyword">import</span> { createSvgIconsPlugin } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-svg-icons'</span>
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">createSvgIconsPlugin</span>({
      <span class="hljs-attr">iconDirs</span>: [path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'src/assets/icons'</span>)],
      <span class="hljs-attr">symbolId</span>: <span class="hljs-string">'icon-[name]'</span>
    })
  ]
})
</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ --&gt;
&lt;svg&gt;
  &lt;use xlink:href="#icon-user" /&gt;
&lt;/svg&gt;
</code></pre>
<h4 data-id="heading-13">2.6 æŒ‰éœ€åŠ è½½ï¼šåªåŠ è½½éœ€è¦çš„</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰ç»„ä»¶</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Button</span>, <span class="hljs-title class_">Input</span>, <span class="hljs-title class_">Select</span>, <span class="hljs-title class_">Table</span>, <span class="hljs-title class_">Form</span>, ... } <span class="hljs-keyword">from</span> <span class="hljs-string">'element-ui'</span>

<span class="hljs-comment">// âœ… æŒ‰éœ€åŠ è½½</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Button</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'element-ui'</span>

<span class="hljs-comment">// æˆ–è€…ç”¨åŠ¨æ€å¯¼å…¥</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Table</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-string">'element-ui/lib/table'</span>)

<span class="hljs-comment">// Vue è·¯ç”±æ‡’åŠ è½½</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Home</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/Home.vue'</span>)
<span class="hljs-keyword">const</span> <span class="hljs-title function_">About</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/About.vue'</span>)

<span class="hljs-keyword">const</span> routes = [
  { <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>, <span class="hljs-attr">component</span>: <span class="hljs-title class_">Home</span> },
  { <span class="hljs-attr">path</span>: <span class="hljs-string">'/about'</span>, <span class="hljs-attr">component</span>: <span class="hljs-title class_">About</span> }
]
</code></pre>
<h3 data-id="heading-14">3. DNS ç¼“å­˜ï¼šè®©ä½ çš„â½¹å€è§£æâ½ç‚¹å¤–å–è¿˜å¿«</h3>
<p>DNS è§£æå°±åƒæ˜¯æŸ¥ç”µè¯æœ¬ï¼Œä½ æ¯æ¬¡è®¿é—®â½¹ç«™éƒ½è¦å…ˆæŸ¥â¼€ä¸‹ IP åœ°å€ã€‚ä½†å¦‚æœæ¯æ¬¡éƒ½è¦æŸ¥ï¼Œé‚£å°±å¤ªæ…¢äº†ã€‚</p>
<h4 data-id="heading-15">3.1 DNS é¢„å–ï¼ˆDNS Prefetchingï¼‰</h4>
<p>æå‰å‘Šè¯‰æµè§ˆå™¨"å˜¿ï¼Œç­‰ä¸‹â¼‰å¯èƒ½è¦å»è¿™ä¸ªåŸŸåï¼Œå…ˆæŠŠç”µè¯æŸ¥å¥½"ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- åœ¨ HTML head ä¸­æ·»åŠ  --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"dns-prefetch"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://cdn.example.com"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"dns-prefetch"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://api.example.com"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"dns-prefetch"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://static.example.com"</span>&gt;</span>
</code></pre>
<p><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>CDN åŸŸå</li>
<li>ç¬¬ä¸‰æ–¹ API åŸŸå</li>
<li>ç»Ÿè®¡åˆ†æåŸŸåï¼ˆå¦‚ Google Analyticsï¼‰</li>
<li>å­—ä½“æœåŠ¡åŸŸåï¼ˆå¦‚ Google Fontsï¼‰</li>
</ul>
<h4 data-id="heading-16">3.2 é¢„è¿æ¥ï¼ˆPreconnectï¼‰</h4>
<p>é¢„è¿æ¥æ¯” DNS é¢„å–æ›´è¿›ä¸€æ­¥ï¼Œå®ƒä¸ä»…è§£æ DNSï¼Œè¿˜ä¼šå»ºç«‹ TCP è¿æ¥å’Œ TLS æ¡æ‰‹ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- é€‚ç”¨äºå¿…å®šä¼šä½¿ç”¨çš„åŸŸå --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"preconnect"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://cdn.example.com"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"preconnect"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://api.example.com"</span>&gt;</span>
</code></pre>
<p><strong>æ³¨æ„ï¼š</strong> ä¸è¦æ»¥ç”¨ï¼Œæ¯ä¸ªé¢„è¿æ¥éƒ½ä¼šæ¶ˆè€—èµ„æºã€‚åªç”¨äºå¿…å®šä¼šåŠ è½½çš„åŸŸåã€‚</p>
<h4 data-id="heading-17">3.3 åŸŸåæ”¶æ•›</h4>
<p>ä¸€ä¸ªç½‘ç«™ç”¨å¤ªå¤šåŸŸåä¼šé™ä½æ€§èƒ½ã€‚HTTP/1.1 æ—¶ä»£éœ€è¦åŸŸååˆ†ç‰‡æ¥çªç ´æµè§ˆå™¨å¹¶å‘é™åˆ¶ï¼Œç°åœ¨ HTTP/2 å¤šè·¯å¤ç”¨åè€Œæ”¶æ•›æ›´å¥½ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ å¤ªå¤šåŸŸå</span>
&lt;img src=<span class="hljs-string">"https://cdn1.example.com/a.jpg"</span>&gt;
&lt;img src="https://cdn2.example.com/b.jpg"&gt;
&lt;img src="https://cdn3.example.com/c.jpg"&gt;

// âœ… æ”¶æ•›åˆ° 1-2 ä¸ªåŸŸå
&lt;img src="https://cdn.example.com/a.jpg"&gt;
&lt;img src="https://cdn.example.com/b.jpg"&gt;
&lt;img src="https://cdn.example.com/c.jpg"&gt;
</code></pre>
<p><strong>å®æˆ˜ç»éªŒï¼š</strong></p>
<ul>
<li>é™æ€èµ„æºç”¨ 1 ä¸ª CDN åŸŸå</li>
<li>API ç”¨ 1 ä¸ªåŸŸå</li>
<li>æ€»å…±ä¸è¶…è¿‡ 2-3 ä¸ªåŸŸå</li>
</ul>
<h3 data-id="heading-18">4. CDNï¼šè®©ä½ çš„â½¹ç«™éå¸ƒå…¨çƒ</h3>
<p>CDN æ˜¯ä»€ä¹ˆï¼Ÿç®€å•è¯´ï¼Œå°±æ˜¯æŠŠä½ çš„â½¹ç«™å¤åˆ¶åˆ°ä¸–ç•Œå„åœ°ï¼Œè®©â½¤æˆ·è®¿é—®æœ€è¿‘çš„èŠ‚ç‚¹ã€‚</p>
<h4 data-id="heading-19">4.1 CDN çš„å¥½å¤„</h4>
<ul>
<li><strong>é€Ÿåº¦æå‡</strong>ï¼šâ½¤æˆ·è®¿é—®å°±è¿‘èŠ‚ç‚¹ï¼Œå»¶è¿Ÿé™ä½</li>
<li><strong>å‡è½»æœåŠ¡å™¨å‹åŠ›</strong>ï¼šæµé‡åˆ†æ‘Šåˆ°å„ä¸ªèŠ‚ç‚¹</li>
<li><strong>æå‡å¯ç”¨æ€§</strong>ï¼šæŸä¸ªèŠ‚ç‚¹æŒ‚äº†ï¼Œå…¶ä»–èŠ‚ç‚¹è¿˜èƒ½â½¤</li>
</ul>
<h4 data-id="heading-20">4.2 å‰ç«¯èµ„æºæ–‡ä»¶å hash ç­–ç•¥</h4>
<p>è¿™æ˜¯å‰ç«¯ä½¿ç”¨ CDN çš„å…³é”®ï¼åªæœ‰æ–‡ä»¶åå¸¦äº† hashï¼Œæ‰èƒ½æ”¾å¿ƒè®¾ç½®é•¿æœŸç¼“å­˜ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// webpack.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">output</span>: {
    <span class="hljs-attr">filename</span>: <span class="hljs-string">'[name].[contenthash:8].js'</span>,
    <span class="hljs-attr">chunkFilename</span>: <span class="hljs-string">'[name].[contenthash:8].chunk.js'</span>
  },
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(png|jpg|gif)$/</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'asset/resource'</span>,
        <span class="hljs-attr">generator</span>: {
          <span class="hljs-attr">filename</span>: <span class="hljs-string">'images/[name].[contenthash:8][ext]'</span>
        }
      }
    ]
  }
}
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vite.config.js</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">build</span>: {
    <span class="hljs-attr">rollupOptions</span>: {
      <span class="hljs-attr">output</span>: {
        <span class="hljs-attr">entryFileNames</span>: <span class="hljs-string">'assets/[name].[hash].js'</span>,
        <span class="hljs-attr">chunkFileNames</span>: <span class="hljs-string">'assets/[name].[hash].js'</span>,
        <span class="hljs-attr">assetFileNames</span>: <span class="hljs-string">'assets/[name].[hash].[ext]'</span>
      }
    }
  }
})
</code></pre>
<h4 data-id="heading-21">4.3 Cloudflare Workers å‰ç«¯å®æˆ˜</h4>
<p>ç°åœ¨çš„ CDN ä¸æ­¢æ˜¯å­˜é™æ€èµ„æºï¼Œè¿˜èƒ½åœ¨è¾¹ç¼˜èŠ‚ç‚¹è¿â¾ä»£ç ã€‚Cloudflare Workers å’±ä»¬å‰ç«¯å¯ä»¥è‡ªå·±å†™ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Cloudflare Workers ç¤ºä¾‹ï¼šè¾¹ç¼˜å›¾ç‰‡å‹ç¼©</span>
<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'fetch'</span>, <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
  event.<span class="hljs-title function_">respondWith</span>(<span class="hljs-title function_">handleRequest</span>(event.<span class="hljs-property">request</span>))
})

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleRequest</span>(<span class="hljs-params">request</span>) {
  <span class="hljs-keyword">const</span> url = <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(request.<span class="hljs-property">url</span>)

  <span class="hljs-comment">// æ£€æµ‹æ˜¯å¦æ˜¯å›¾ç‰‡è¯·æ±‚</span>
  <span class="hljs-keyword">if</span> (url.<span class="hljs-property">pathname</span>.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\.(jpg|jpeg|png|webp)$/</span>)) {
    <span class="hljs-comment">// æ£€æŸ¥ URL å‚æ•°</span>
    <span class="hljs-keyword">const</span> quality = <span class="hljs-built_in">parseInt</span>(url.<span class="hljs-property">searchParams</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'quality'</span>)) || <span class="hljs-number">80</span>
    <span class="hljs-keyword">const</span> format = url.<span class="hljs-property">searchParams</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'format'</span>) || <span class="hljs-string">'webp'</span>

    <span class="hljs-comment">// ä»æºç«™è·å–å›¾ç‰‡</span>
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(request)

    <span class="hljs-comment">// è½¬æ¢å›¾ç‰‡æ ¼å¼å’Œå‹ç¼©ï¼ˆä½¿ç”¨ WebAssembly å®ç°çš„å›¾ç‰‡å¤„ç†åº“ï¼‰</span>
    <span class="hljs-keyword">const</span> image = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">arrayBuffer</span>()
    <span class="hljs-keyword">const</span> compressed = <span class="hljs-keyword">await</span> <span class="hljs-title function_">compressImage</span>(image, { quality, format })

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(compressed, {
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">`image/<span class="hljs-subst">${format}</span>`</span>,
        <span class="hljs-string">'Cache-Control'</span>: <span class="hljs-string">'public, max-age=31536000'</span>
      }
    })
  }

  <span class="hljs-keyword">return</span> <span class="hljs-title function_">fetch</span>(request)
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">compressImage</span>(<span class="hljs-params">imageBuffer, options</span>) {
  <span class="hljs-comment">// ä½¿ç”¨å‰ç«¯ç†Ÿæ‚‰çš„åº“ï¼ˆå¦‚ sharp-wasmï¼‰</span>
  <span class="hljs-keyword">const</span> sharp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'sharp-wasm'</span>)
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">sharp</span>(imageBuffer)
    .<span class="hljs-title function_">webp</span>({ <span class="hljs-attr">quality</span>: options.<span class="hljs-property">quality</span> })
    .<span class="hljs-title function_">toBuffer</span>()
}
</code></pre>
<h4 data-id="heading-22">4.4 å®æˆ˜æ¡ˆä¾‹</h4>
<p>ä¹‹å‰ä¸€ä¸ªè§†é¢‘â½¹ç«™ï¼Œâ½¤æˆ·éå¸ƒå…¨çƒã€‚æ²¡â½¤ CDN çš„æ—¶å€™ï¼Œå›½å¤–â½¤æˆ·åŠ è½½è¦ 30 ç§’ï¼›â½¤äº† CDN ä¹‹åï¼Œâ¼¤éƒ¨åˆ†åœ°åŒº 3 ç§’å†…åŠ è½½å®Œæˆã€‚è¿™æå‡ï¼Œâ¾¹ï¼</p>
<h4 data-id="heading-23">4.5 æ³¨æ„äº‹é¡¹</h4>
<ul>
<li>CDN èŠ‚ç‚¹çš„ç¼“å­˜è¦åŠæ—¶æ›´æ–°ï¼Œä¸ç„¶ä½ æ”¹äº† bug â½¤æˆ·è¿˜æ˜¯çœ‹æ—§ç‰ˆ</li>
<li>HTTPS è¯ä¹¦è¦é…å¥½ï¼ŒCDN å’Œæºç«™éƒ½è¦é…</li>
<li>â½‡å¿—æ”¶é›†è¦è€ƒè™‘ CDN çš„å½±å“ï¼Œä¸ç„¶ç»Ÿè®¡æ•°æ®ä¼šå</li>
<li>å‘Šè¯‰è¿ç»´å¤§ä½¬ï¼šé™æ€èµ„æºï¼ˆå¸¦ hash çš„ï¼‰å¯ä»¥è®¾ç½®é•¿æœŸç¼“å­˜ï¼Œindex.html ä¸è¦ç¼“å­˜</li>
</ul>
<h3 data-id="heading-24">5. æ¸²æŸ“å±‚â¾¯ä¼˜åŒ–ï¼šè®©é¡µâ¾¯æµç•…å¦‚ä¸</h3>
<p>ç½‘ç»œå±‚é¢çš„ä¼˜åŒ–è®©èµ„æºåŠ è½½æ›´å¿«ï¼Œä½†æ¸²æŸ“å±‚é¢çš„ä¼˜åŒ–è®©ç”¨æˆ·ä½“éªŒæ›´å¥½ã€‚</p>
<h4 data-id="heading-25">5.1 å…³é”®æ¸²æŸ“è·¯å¾„ä¼˜åŒ–</h4>
<p>æµè§ˆå™¨æ¸²æŸ“é¡µé¢çš„æµç¨‹ï¼šDOM â†’ CSSOM â†’ Render Tree â†’ Layout â†’ Paint</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- âŒ é˜»å¡æ¸²æŸ“çš„å†™æ³• --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"large.css"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"app.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span> <span class="hljs-comment">&lt;!-- é˜»å¡åç»­å†…å®¹ --&gt;</span>

<span class="hljs-comment">&lt;!-- âœ… ä¼˜åŒ–å†™æ³• --&gt;</span>
<span class="hljs-comment">&lt;!-- å†…è”å…³é”® CSS --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
  <span class="hljs-comment">/* é¦–å±å¿…éœ€çš„æ ·å¼ */</span>
  <span class="hljs-selector-class">.header</span> { <span class="hljs-attribute">height</span>: <span class="hljs-number">60px</span>; <span class="hljs-attribute">background</span>: <span class="hljs-number">#333</span>; }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

<span class="hljs-comment">&lt;!-- éå…³é”®æ ·å¼å¼‚æ­¥åŠ è½½ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"preload"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"non-critical.css"</span> <span class="hljs-attr">as</span>=<span class="hljs-string">"style"</span> <span class="hljs-attr">onload</span>=<span class="hljs-string">"this.onload=null;this.rel='stylesheet'"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">noscript</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"non-critical.css"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">noscript</span>&gt;</span>

<span class="hljs-comment">&lt;!-- JS æ”¾åˆ°åº•éƒ¨æˆ–å¼‚æ­¥åŠ è½½ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"app.js"</span> <span class="hljs-attr">defer</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"analytics.js"</span> <span class="hljs-attr">async</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h4 data-id="heading-26">5.2 å›¾ç‰‡æ‡’åŠ è½½ï¼šåªåŠ è½½ç”¨æˆ·èƒ½çœ‹åˆ°çš„</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Intersection Observer APIï¼ˆç°ä»£æµè§ˆå™¨æ”¯æŒï¼‰</span>
<span class="hljs-keyword">const</span> lazyImages = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'img.lazy'</span>)

<span class="hljs-keyword">const</span> imageObserver = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntersectionObserver</span>(<span class="hljs-function">(<span class="hljs-params">entries, observer</span>) =&gt;</span> {
  entries.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">entry</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">isIntersecting</span>) {
      <span class="hljs-keyword">const</span> img = entry.<span class="hljs-property">target</span>
      img.<span class="hljs-property">src</span> = img.<span class="hljs-property">dataset</span>.<span class="hljs-property">src</span>
      img.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">'lazy'</span>)
      observer.<span class="hljs-title function_">unobserve</span>(img)
    }
  })
})

lazyImages.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">img</span> =&gt;</span> imageObserver.<span class="hljs-title function_">observe</span>(img))
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- HTML ä½¿ç”¨æ–¹å¼ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"lazy"</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">"image.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"ç¤ºä¾‹å›¾ç‰‡"</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- Vue æ‡’åŠ è½½ç»„ä»¶ --&gt;
&lt;template&gt;
  &lt;img v-lazy="imageUrl" alt="ç¤ºä¾‹å›¾ç‰‡"&gt;
&lt;/template&gt;

&lt;script&gt;
import { lazyLoad } from '@/directives/lazyLoad'

export default {
  directives: {
    lazy: lazyLoad
  },
  data() {
    return {
      imageUrl: 'https://example.com/image.jpg'
    }
  }
}
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-27">5.3 è™šæ‹Ÿåˆ—è¡¨ï¼šé•¿åˆ—è¡¨æ€§èƒ½æ•‘æ˜Ÿ</h4>
<p>å¦‚æœåˆ—è¡¨æœ‰å‡ åƒæ¡æ•°æ®ï¼Œå…¨éƒ¨æ¸²æŸ“ä¼šè®©é¡µé¢å¡é¡¿ã€‚è™šæ‹Ÿåˆ—è¡¨åªæ¸²æŸ“å¯è§åŒºåŸŸçš„é¡¹ç›®ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vue-virtual-scroller ç¤ºä¾‹</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">RecycleScroller</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-virtual-scroller'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'vue-virtual-scroller/dist/vue-virtual-scroller.css'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">components</span>: {
    <span class="hljs-title class_">RecycleScroller</span>
  },
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">items</span>: <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: <span class="hljs-number">10000</span> }, <span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> ({
        <span class="hljs-attr">id</span>: i,
        <span class="hljs-attr">text</span>: <span class="hljs-string">`Item <span class="hljs-subst">${i}</span>`</span>
      }))
    }
  }
}
</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;RecycleScroller
    class="scroller"
    :items="items"
    :item-size="50"
    key-field="id"
  &gt;
    &lt;template #default="{ item }"&gt;
      &lt;div class="item"&gt;{{ item.text }}&lt;/div&gt;
    &lt;/template&gt;
  &lt;/RecycleScroller&gt;
&lt;/template&gt;

&lt;style&gt;
.scroller {
  height: 400px;
}

.item {
  height: 50px;
  line-height: 50px;
  border-bottom: 1px solid #eee;
}
&lt;/style&gt;
</code></pre>
<h4 data-id="heading-28">5.4 é˜²æŠ–å’ŒèŠ‚æµï¼šä¼˜åŒ–é«˜é¢‘äº‹ä»¶</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é˜²æŠ–ï¼šåªæ‰§è¡Œæœ€åä¸€æ¬¡</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">fn, delay</span>) {
  <span class="hljs-keyword">let</span> timer
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
    <span class="hljs-built_in">clearTimeout</span>(timer)
    timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args), delay)
  }
}

<span class="hljs-comment">// èŠ‚æµï¼šå›ºå®šæ—¶é—´æ‰§è¡Œä¸€æ¬¡</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">throttle</span>(<span class="hljs-params">fn, delay</span>) {
  <span class="hljs-keyword">let</span> lastTime = <span class="hljs-number">0</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
    <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
    <span class="hljs-keyword">if</span> (now - lastTime &gt;= delay) {
      lastTime = now
      fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args)
    }
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> searchInput = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'search'</span>)

<span class="hljs-comment">// æœç´¢è¾“å…¥é˜²æŠ–</span>
searchInput.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'input'</span>, <span class="hljs-title function_">debounce</span>(<span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æœç´¢:'</span>, e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>)
}, <span class="hljs-number">300</span>))

<span class="hljs-comment">// æ»šåŠ¨èŠ‚æµ</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>, <span class="hljs-title function_">throttle</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ»šåŠ¨ä½ç½®:'</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">scrollY</span>)
}, <span class="hljs-number">100</span>))
</code></pre>
<h4 data-id="heading-29">5.5 ä»£ç åˆ†å‰²ï¼šæŒ‰éœ€åŠ è½½</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è·¯ç”±æ‡’åŠ è½½</span>
<span class="hljs-keyword">const</span> routes = [
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/home'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/Home.vue'</span>)
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/about'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/About.vue'</span>)
  }
]

<span class="hljs-comment">// ç»„ä»¶æ‡’åŠ è½½</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">components</span>: {
    <span class="hljs-title class_">HeavyComponent</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/components/HeavyComponent.vue'</span>)
  }
}

<span class="hljs-comment">// æ¡ä»¶åŠ è½½</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loadModule</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (needsFeature) {
    <span class="hljs-keyword">const</span> <span class="hljs-variable language_">module</span> = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/features/advanced'</span>)
    <span class="hljs-variable language_">module</span>.<span class="hljs-title function_">doSomething</span>()
  }
}
</code></pre>
<h4 data-id="heading-30">5.6 å‡å°‘ DOM æ“ä½œ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ é¢‘ç¹æ“ä½œ DOM</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
  <span class="hljs-keyword">const</span> div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>)
  div.<span class="hljs-property">textContent</span> = <span class="hljs-string">`Item <span class="hljs-subst">${i}</span>`</span>
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(div)
}

<span class="hljs-comment">// âœ… ä½¿ç”¨ DocumentFragment</span>
<span class="hljs-keyword">const</span> fragment = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createDocumentFragment</span>()

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
  <span class="hljs-keyword">const</span> div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>)
  div.<span class="hljs-property">textContent</span> = <span class="hljs-string">`Item <span class="hljs-subst">${i}</span>`</span>
  fragment.<span class="hljs-title function_">appendChild</span>(div)
}

<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(fragment)

<span class="hljs-comment">// âœ… æˆ–è€…ä½¿ç”¨ innerHTML ä¸€æ¬¡æ€§æ’å…¥</span>
<span class="hljs-keyword">let</span> html = <span class="hljs-string">''</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
  html += <span class="hljs-string">`&lt;div&gt;Item <span class="hljs-subst">${i}</span>&lt;/div&gt;`</span>
}
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">innerHTML</span> = html
</code></pre>
<h4 data-id="heading-31">5.7 ä½¿ç”¨ CSS3 åŠ¨ç”»ä»£æ›¿ JS åŠ¨ç”»</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* âŒ JS åŠ¨ç”»ï¼ˆæ€§èƒ½å·®ï¼‰ */</span>
<span class="hljs-selector-class">.element</span> {
  <span class="hljs-attribute">transition</span>: none;
}

<span class="hljs-comment">/* âœ… CSS3 åŠ¨ç”»ï¼ˆæ€§èƒ½å¥½ï¼‰ */</span>
<span class="hljs-selector-class">.element</span> {
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateX</span>(<span class="hljs-number">100px</span>);
  <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">0.3s</span> ease;
}

<span class="hljs-comment">/* æ›´å¥½çš„ï¼šä½¿ç”¨ will-change æç¤ºæµè§ˆå™¨ä¼˜åŒ– */</span>
<span class="hljs-selector-class">.element</span> {
  <span class="hljs-attribute">will-change</span>: transform;
}
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ JS å®ç°åŠ¨ç”»</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">animate</span>(<span class="hljs-params">element</span>) {
  <span class="hljs-keyword">let</span> position = <span class="hljs-number">0</span>
  <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    position += <span class="hljs-number">10</span>
    element.<span class="hljs-property">style</span>.<span class="hljs-property">left</span> = position + <span class="hljs-string">'px'</span>
  }, <span class="hljs-number">16</span>)
}

<span class="hljs-comment">// âœ… ä½¿ç”¨ CSS3</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">animate</span>(<span class="hljs-params">element</span>) {
  element.<span class="hljs-property">style</span>.<span class="hljs-property">transform</span> = <span class="hljs-string">'translateX(100px)'</span>
  element.<span class="hljs-property">style</span>.<span class="hljs-property">transition</span> = <span class="hljs-string">'transform 0.3s ease'</span>
}
</code></pre>
<h4 data-id="heading-32">5.8 Web Workerï¼šæŠŠç¹é‡è®¡ç®—æ”¾åˆ°åå°çº¿ç¨‹</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// main.js</span>
<span class="hljs-keyword">const</span> worker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-string">'./worker.js'</span>)

worker.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">data</span>: largeData })

worker.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è®¡ç®—ç»“æœ:'</span>, e.<span class="hljs-property">data</span>.<span class="hljs-property">result</span>)
}
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// worker.js</span>
self.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">heavyCalculation</span>(e.<span class="hljs-property">data</span>.<span class="hljs-property">data</span>)
  self.<span class="hljs-title function_">postMessage</span>({ result })
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">heavyCalculation</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-comment">// è€—æ—¶è®¡ç®—</span>
  <span class="hljs-keyword">return</span> data.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b, <span class="hljs-number">0</span>)
}
</code></pre>
<h3 data-id="heading-33">ç»¼åˆå®æˆ˜ï¼šæ‰“é€ ä¸€å¥—å®Œæ•´çš„å‰ç«¯æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ</h3>
<p>è®²äº†è¿™ä¹ˆå¤šï¼Œæ€ä¹ˆç»„åˆèµ·æ¥ç”¨ï¼Ÿæ¥ä¸ªçœŸå®æ¡ˆä¾‹ï¼Œçº¯å‰ç«¯æ“ä½œï¼š</p>
<h4 data-id="heading-34">é¡¹ç›®ç»“æ„</h4>
<pre><code class="hljs language-arduino" lang="arduino">my-project/
â”œâ”€â”€ <span class="hljs-keyword">public</span>/
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ favicon.ico
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â””â”€â”€ styles/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ cache.js
â”‚   â”‚   â””â”€â”€ request.js
â”‚   â”œâ”€â”€ sw.js
â”‚   â””â”€â”€ main.js
â””â”€â”€ vite.config.js
</code></pre>
<h4 data-id="heading-35">å®Œæ•´é…ç½®ï¼ˆvite.config.jsï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>
<span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-vue'</span>
<span class="hljs-keyword">import</span> viteImagemin <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-imagemin'</span>
<span class="hljs-keyword">import</span> webp <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-webp'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">vue</span>(),
    <span class="hljs-title function_">viteImagemin</span>({
      <span class="hljs-attr">gifsicle</span>: { <span class="hljs-attr">optimizationLevel</span>: <span class="hljs-number">7</span> },
      <span class="hljs-attr">optipng</span>: { <span class="hljs-attr">optimizationLevel</span>: <span class="hljs-number">7</span> },
      <span class="hljs-attr">mozjpeg</span>: { <span class="hljs-attr">quality</span>: <span class="hljs-number">80</span> },
      <span class="hljs-attr">svgo</span>: {
        <span class="hljs-attr">plugins</span>: [
          { <span class="hljs-attr">name</span>: <span class="hljs-string">'removeViewBox'</span> },
          { <span class="hljs-attr">name</span>: <span class="hljs-string">'removeEmptyAttrs'</span> }
        ]
      }
    }),
    <span class="hljs-title function_">webp</span>({
      <span class="hljs-attr">quality</span>: <span class="hljs-number">80</span>
    })
  ],

  <span class="hljs-attr">build</span>: {
    <span class="hljs-attr">rollupOptions</span>: {
      <span class="hljs-attr">output</span>: {
        <span class="hljs-attr">entryFileNames</span>: <span class="hljs-string">'assets/[name].[hash].js'</span>,
        <span class="hljs-attr">chunkFileNames</span>: <span class="hljs-string">'assets/[name].[hash].js'</span>,
        <span class="hljs-attr">assetFileNames</span>: <span class="hljs-string">'assets/[name].[hash].[ext]'</span>
      }
    },
    <span class="hljs-attr">cssCodeSplit</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">minify</span>: <span class="hljs-string">'terser'</span>,
    <span class="hljs-attr">terserOptions</span>: {
      <span class="hljs-attr">compress</span>: {
        <span class="hljs-attr">drop_console</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">drop_debugger</span>: <span class="hljs-literal">true</span>
      }
    }
  }
})
</code></pre>
<h4 data-id="heading-36">HTML ä¼˜åŒ–ï¼ˆindex.htmlï¼‰</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- DNS é¢„å– --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"dns-prefetch"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://cdn.example.com"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"preconnect"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://cdn.example.com"</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- å†…è”å…³é”® CSS --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-comment">/* é¦–å±å¿…éœ€çš„æ ·å¼ */</span>
  <span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">font-family</span>: -apple-system, BlinkMacSystemFont, sans-serif; }
  <span class="hljs-selector-class">.header</span> { <span class="hljs-attribute">height</span>: <span class="hljs-number">60px</span>; <span class="hljs-attribute">background</span>: <span class="hljs-number">#333</span>; <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>; }
  <span class="hljs-selector-class">.loading</span> { <span class="hljs-attribute">position</span>: fixed; <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>; <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>; <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>); }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- éå…³é”®æ ·å¼å¼‚æ­¥åŠ è½½ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"preload"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/assets/style.[hash].css"</span> <span class="hljs-attr">as</span>=<span class="hljs-string">"style"</span> <span class="hljs-attr">onload</span>=<span class="hljs-string">"this.onload=null;this.rel='stylesheet'"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">noscript</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/assets/style.[hash].css"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">noscript</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading"</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- è„šæœ¬å¼‚æ­¥åŠ è½½ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/assets/main.[hash].js"</span> <span class="hljs-attr">defer</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h4 data-id="heading-37">æ€§èƒ½ç›‘æ§ï¼ˆutils/performance.jsï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">trackPerformance</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-string">'PerformanceObserver'</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">window</span>) {
    <span class="hljs-comment">// ç›‘æ§èµ„æºåŠ è½½</span>
    <span class="hljs-keyword">const</span> resourceObserver = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceObserver</span>(<span class="hljs-function">(<span class="hljs-params">list</span>) =&gt;</span> {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> entry <span class="hljs-keyword">of</span> list.<span class="hljs-title function_">getEntries</span>()) {
        <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">transferSize</span> === <span class="hljs-number">0</span>) {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`âœ“ ç¼“å­˜å‘½ä¸­: <span class="hljs-subst">${entry.name}</span>`</span>)
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`âœ— ç½‘ç»œåŠ è½½: <span class="hljs-subst">${entry.name}</span> (<span class="hljs-subst">${(entry.transferSize / <span class="hljs-number">1024</span>).toFixed(<span class="hljs-number">2</span>)}</span>KB)`</span>)
        }
      }
    })
    resourceObserver.<span class="hljs-title function_">observe</span>({ <span class="hljs-attr">entryTypes</span>: [<span class="hljs-string">'resource'</span>] })

    <span class="hljs-comment">// ç›‘æ§é•¿ä»»åŠ¡</span>
    <span class="hljs-keyword">const</span> longTaskObserver = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceObserver</span>(<span class="hljs-function">(<span class="hljs-params">list</span>) =&gt;</span> {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> entry <span class="hljs-keyword">of</span> list.<span class="hljs-title function_">getEntries</span>()) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`âš ï¸ é•¿ä»»åŠ¡: <span class="hljs-subst">${entry.name}</span> (<span class="hljs-subst">${entry.duration}</span>ms)`</span>)
      }
    })
    longTaskObserver.<span class="hljs-title function_">observe</span>({ <span class="hljs-attr">entryTypes</span>: [<span class="hljs-string">'longtask'</span>] })
  }
}

<span class="hljs-comment">// åœ¨ main.js ä¸­è°ƒç”¨</span>
<span class="hljs-title function_">trackPerformance</span>()
</code></pre>
<h3 data-id="heading-38">æ€»ç»“</h3>
<p>æ€§èƒ½ä¼˜åŒ–ä¸æ˜¯â¼€è¹´â½½å°±çš„ï¼Œéœ€è¦æŒç»­è¿­ä»£ã€‚è®°ä½â¼ä¸ªåŸåˆ™ï¼š</p>
<ol>
<li><strong>èƒ½ç¼“å­˜çš„å°½é‡ç¼“å­˜</strong>ï¼Œè®©â½¤æˆ·å°‘ç­‰â¼ç§’</li>
<li><strong>èƒ½å‹ç¼©çš„å°½é‡å‹ç¼©</strong>ï¼Œä½“ç§¯å°äº†ä¼ è¾“å°±å¿«</li>
<li><strong>DNS é¢„å–å’Œé¢„è¿æ¥</strong>ï¼Œæå‰åšå¥½å‡†å¤‡</li>
<li><strong>CDN æ˜¯ç¥å™¨</strong>ï¼Œè®©å…¨çƒç”¨æˆ·éƒ½èƒ½å¿«é€Ÿè®¿é—®</li>
<li><strong>æ¸²æŸ“ä¼˜åŒ–å¾ˆé‡è¦</strong>ï¼ŒåŠ è½½å¿«ä¸ç­‰äºä½“éªŒå¥½</li>
<li><strong>æ‡’åŠ è½½å’ŒæŒ‰éœ€åŠ è½½</strong>ï¼ŒåªåŠ è½½ç”¨æˆ·éœ€è¦çš„</li>
<li><strong>ç›‘æ§è¦è·Ÿä¸Š</strong>ï¼Œä¸ç„¶ä½ éƒ½ä¸çŸ¥é“ä¼˜åŒ–æœ‰æ²¡æœ‰â½¤</li>
</ol>
<p>æœ€åï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡â½‚ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œ<strong>ç‚¹ä¸ªèµå‘—</strong>ï¼å¦‚æœè§‰å¾—æœ‰é—®é¢˜ï¼Œ<strong>è¯„è®ºåŒºå–·æˆ‘</strong>ï¼Œæˆ‘æŠ—æã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å°ä¼™ä¼´ä»¬å¿ƒå¿ƒå¿µå¿µçš„å€’æ°´è§£è°œæ¸¸æˆå®æˆ˜ï¼Œç»ˆäºæ¥äº†...]]></title>    <link>https://juejin.cn/post/7601313474720153635</link>    <guid>https://juejin.cn/post/7601313474720153635</guid>    <pubDate>2026-02-02T00:48:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601313474720153635" data-draft-id="7601313474720137251" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å°ä¼™ä¼´ä»¬å¿ƒå¿ƒå¿µå¿µçš„å€’æ°´è§£è°œæ¸¸æˆå®æˆ˜ï¼Œç»ˆäºæ¥äº†..."/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-02T00:48:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¿å…ƒç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/1972988307323236"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å°ä¼™ä¼´ä»¬å¿ƒå¿ƒå¿µå¿µçš„å€’æ°´è§£è°œæ¸¸æˆå®æˆ˜ï¼Œç»ˆäºæ¥äº†...
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972988307323236/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¿å…ƒç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T00:48:34.000Z" title="Mon Feb 02 2026 00:48:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/29de9e6a984a4a4aa4df459288678379~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=G%2FXNaaGLi4TdRAs8FfKrk0gG4GI%3D" alt="æˆ‘å€’æˆ‘å€’æˆ‘å€’å€’å€’" loading="lazy"/></p>
<h2 data-id="heading-0">å¼•è¨€</h2>
<p><strong>å“ˆå–½å¤§å®¶å¥½</strong>ï¼Œæˆ‘æ˜¯äº¿å…ƒç¨‹åºå‘˜ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf088b4ce51345908d692577786c920c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=PnIKqmnheiGfbJyT7VvFI9iaTDs%3D" alt="äº¿å…ƒCocoså°æ¸¸æˆå®æˆ˜åˆé›†" loading="lazy"/></p>
<p><strong>ç¬”è€…çš„</strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FFOi5gCiGzF3LnT03DpPMXA" target="_blank" title="https://mp.weixin.qq.com/s/FOi5gCiGzF3LnT03DpPMXA" ref="nofollow noopener noreferrer">ã€Šäº¿å…ƒCocoså°æ¸¸æˆå®æˆ˜åˆé›†ã€‹</a>ï¼Œä»æ›´æ–°çš„ç¬¬ä¸€å¤©å¼€å§‹ï¼Œå°±æœ‰è®¸å¤šå°ä¼™ä¼´é—®åˆ°ï¼Œä»€ä¹ˆæ—¶å€™æ›´æ–°ä¸€æœŸå€’æ°´è§£è°œçš„æ¸¸æˆå®æˆ˜ï¼Ÿ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab9e7c3d6748450fa7490c5ffb4454cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=hKLeTWubroIfDcCYpjau81otyMo%3D" alt="å¿«æ›´æ–°ï¼Œåˆ«é€¼æˆ‘å‚¬ä½ " loading="lazy"/></p>
<p><strong>å…¶å®</strong>ç¬”è€…æ—©æœ‰è®¡åˆ’ï¼Œå†åŠ ä¸Šå°ä¼™ä¼´ä»¬çš„å¼ºçƒˆéœ€æ±‚ï¼Œè¿™ä¸€æœŸï¼Œ<strong>å°ä¼™ä¼´ä»¬å¿ƒå¿ƒå¿µå¿µçš„å€’æ°´è§£è°œæ¸¸æˆå®æˆ˜ï¼Œç»ˆäºæ¥äº†...</strong></p>
<p><strong>è¨€å½’æ­£ä¼ </strong>ï¼Œæœ¬æœŸå¸¦å¤§å®¶ä¸€èµ·æ¥çœ‹çœ‹ï¼Œåœ¨<code>Cocos</code>æ¸¸æˆå¼€å‘ä¸­ï¼Œ<strong>å€’æ°´è§£è°œæ¸¸æˆçš„æ ¸å¿ƒéƒ¨åˆ†</strong>ï¼Œå¹¶åŠ å…¥åˆ°æˆ‘çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FFOi5gCiGzF3LnT03DpPMXA" target="_blank" title="https://mp.weixin.qq.com/s/FOi5gCiGzF3LnT03DpPMXA" ref="nofollow noopener noreferrer">ã€Šäº¿å…ƒCocoså°æ¸¸æˆå®æˆ˜åˆé›†ã€‹</a>ä¸­å»ã€‚</p>
<p><strong>æœ¬æ–‡æºå·¥ç¨‹å¯åœ¨æ–‡æœ«è·å–ï¼Œå°ä¼™ä¼´ä»¬è‡ªè¡Œå‰å¾€ã€‚</strong></p>
<h2 data-id="heading-1">ä»€ä¹ˆæ˜¯å€’æ°´è§£è°œæ¸¸æˆï¼Ÿ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f0be8ff2226494b8fa12c8dc1dfb1aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=ODNeeAjVtQJarPM5ApbihZKQ2Lc%3D" alt="ç®€å•æ˜“ä¸Šæ‰‹ï¼Œçœ‹äº†å°±æƒ³ç©" loading="lazy"/></p>
<p><strong>å¯èƒ½</strong>æœ‰å¾ˆå¤šå°ä¼™ä¼´è¿˜ä¸çŸ¥é“è¿™ç±»æ¸¸æˆï¼Œç®€å•ä»‹ç»ä¸€ä¸‹:</p>
<blockquote>
<p><strong>å€’æ°´è§£è°œæ¸¸æˆ</strong>æ˜¯ä¸€ç±»ä»¥ â€œå€’æ°´ / æ¶²ä½“è½¬ç§»â€ ä¸ºæ ¸å¿ƒç©æ³•çš„ä¼‘é—²ç›Šæ™ºæ¸¸æˆã€‚</p>
<p><strong>ç©å®¶</strong>éœ€é€šè¿‡å®¹å™¨é—´çš„å€¾å€’æ“ä½œè¾¾æˆç‰¹å®šç›®æ ‡ï¼ˆå¦‚æ¶²ä½“é¢œè‰²ç»Ÿä¸€ã€ç²¾ç¡®å®¹é‡åˆ†é…ï¼‰ï¼Œæ ¸å¿ƒè€ƒéªŒé€»è¾‘æ¨ç†ä¸æ­¥éª¤è§„åˆ’èƒ½åŠ›ã€‚</p>
</blockquote>
<p><strong>é€šä¿—</strong>çš„ç†è§£ï¼Œå’Œæˆ‘ä»¬åœ¨å­¦æ ¡æ—¶ï¼Œé€šè¿‡æ°´æ¯å€’æ¥å€’å»å¾—åˆ°æŒ‡å®šæ¯«å‡æ•°çš„æ°´ç›¸ç±»ä¼¼(<strong>çæ°çš„</strong>)ã€‚</p>
<p><strong>æ—¢ç„¶æ˜¯å€’æ°´æ¸¸æˆï¼Œæ°´æ˜¯é‡è¦çš„ä¸€ä¸ªæ¸¸æˆå…ƒç´ ï¼Œé‚£å®ƒæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ</strong></p>
<h2 data-id="heading-2">æ°´çš„æ•ˆæœ</h2>
<p><strong>å…³äº</strong>æ°´çš„æ•ˆæœï¼Œå…¶å®æœ‰æ¯”è¾ƒå¤šçš„å®ç°æ–¹æ³•ï¼Œæ—¢å¯ä»¥é€šè¿‡ç¾æœ¯å¦¹å­å®ç°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡<code>Shader</code>å®ç°ï¼Œç”šè‡³è¿˜èƒ½ç”¨<code>Graphics</code>ç»„ä»¶ç”»ï¼</p>
<blockquote>
<p><strong>ç¾æœ¯å¦¹å­:</strong> â€œä¸€è¾¹å‡‰å¿«å»ã€‚â€</p>
</blockquote>
<p><strong>æ—¢ç„¶</strong>ä¸Šé¢çš„æ–¹æ³•è¡Œä¸é€šï¼Œæˆ‘ä»¬åªèƒ½é€šè¿‡<code>Shader</code>æ¥å®ç°äº†ï¼Œè‡³äº<code>Graphics</code>ï¼Œå°ä¼™ä¼´ä»¬å¯ä»¥è‡ªè¡ŒæŒ‘æˆ˜ä¸€ä¸‹ã€‚</p>
<p><strong>1. èµ„æºå‡†å¤‡</strong></p>
<p><strong>ç®€å•å‡†å¤‡</strong>ä¸€å¼ æ¯å­å½¢çŠ¶çš„å›¾ç‰‡å’Œå¯¹åº”æ¯å­å½¢çŠ¶çº¯ç™½<code>Mask</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf71a45c8ac64d048d31b17177d08ba4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=CDO4xmo1DmheVfBf6HE5B1oALYY%3D" alt="é“ç²‰å‹æƒ…åŠ©æ”»" loading="lazy"/></p>
<p><strong>ç®€å•</strong>æ‹¼ä¸€ä¸‹<code>UI</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa6d2bff3d1a4af5844bc33ae90ebab4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=pL%2B8RNzG3FL4ZXL2lZDaFU%2B5sz8%3D" alt="æœ€å–œæ¬¢æ‹¼UIäº†ï¼Œæ²¡æœ‰ä¹‹ä¸€" loading="lazy"/></p>
<p><strong>é€šè¿‡</strong>èµ„æºç®¡ç†å™¨é€šè¿‡<code>å³é”®-&gt;åˆ›å»º-&gt;ä¼ ç»Ÿæ— å…‰ç…§ç€è‰²å™¨(Effect)</code>åˆ›å»ºä¸€ä¸ª<code>Shader</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/03680798a0fd4b14ad594d52a0f49c5d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=tNcoUZQbyFJdUKZM%2FJTT0Lrjazw%3D" alt="æ‰‹æŠŠæ‰‹" loading="lazy"/></p>
<p><strong>å’Œä¸Šé¢ä¸€æ ·</strong>åˆ›å»ºä¸€ä¸ªæè´¨ï¼Œå°†å¯¹åº”çš„<code>Effect</code>æ”¹æˆæˆ‘ä»¬è‡ªå·±åˆ›å»ºçš„å¹¶ä¸”å‹¾é€‰<code>USE_TEXTURE</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e23eb2a414ea4f4980dcb44325ccc9ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=7%2FVEsals2pdHg6fl%2FDN2mKyJr9w%3D" alt="è„šæŠŠè„š" loading="lazy"/></p>
<p><strong>ç„¶å</strong>æŠŠæè´¨æ‹–åˆ°æˆ‘ä»¬æ¯å­çš„<code>Mask</code>çš„<code>Sprite</code>ä¸Šï¼Œå®é™…è¦åœ¨ä»£ç ä¸­åŠ¨æ€åˆ›å»ºï¼Œä¸ç„¶ä¼šå…±ç”¨åŒä¸€ä¸ªæè´¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e376e6f4dccd4daf99923ed0e00f58b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=lWBqdDcx6qz07mCY%2BnjSlIEZW00%3D" alt="æ¼”ç¤ºç”¨" loading="lazy"/></p>
<p><strong>2. æ°´çš„é¢œè‰²</strong></p>
<p><strong>æœç´¢</strong><code>sprite</code>æ‰¾åˆ°<code>builtin-sprite</code>ï¼ŒåŒå‡»æ‰“å¼€æŠŠå†…å®¹å¤åˆ¶åˆ°æˆ‘ä»¬åˆ›å»ºçš„<code>Shader</code>ä¸­å»å½“åšæ¨¡æ¿ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e71416a7877e4116a6f69e2b2b0e2ac2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=u8UpHItdjW3riX77udfCOfbTv0c%3D" alt="" loading="lazy"/></p>
<p><strong>æƒ³è¦ä¿®æ”¹</strong>æ°´çš„é¢œè‰²ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°æœ€ä¸‹é¢çš„ç‰‡æ®µç€è‰²å™¨ï¼Œå°†<code>color</code>æ”¹æˆçº¢è‰²<code>vec4(1,0,0,1);</code>ï¼Œåˆ†åˆ«å¯¹åº”<code>RGBA</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/367df1ec96394ccfb82a6760e4cc8b4e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=BvNTWo8kiKf30hP8culPvtrlrOk%3D" alt="ç¡¬ç¼–ç " loading="lazy"/></p>
<p><strong>æ•ˆæœå¦‚ä¸‹ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/295c29b774e648e6a829aa683040c3b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=O6Q%2F1vQyutTWAlgWwqw2TRv%2FOpY%3D" alt="ç«çº¢çš„çƒ§æ¯" loading="lazy"/></p>
<p><strong>3. æ°´çš„åˆ†å±‚</strong></p>
<p><strong>æƒ³è¦å®ç°</strong>æ°´çš„åˆ†å±‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç®€å•<code>UV</code>åˆ’åˆ†ï¼Œä¸‹åŠéƒ¨åˆ†ä¸ºè“è‰²ï¼Œä¸ŠåŠéƒ¨åˆ†ä¸ºçº¢è‰²ï¼Œå®é™…é¡¹ç›®å¯ä»¥é€šè¿‡å®é™…æ°´çš„é«˜åº¦å»åˆ’åˆ†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0238e81c8e8d4e0c9673093ee235a6d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=68cFqdwS2etEZs3ewyihOhoViHM%3D" alt="è¿˜æ˜¯ç¡¬ç¼–ç " loading="lazy"/></p>
<p><strong>æ•ˆæœå¦‚ä¸‹ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/925c4eb260814533b72413501194dbaf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=wgp2S%2FCssA04nH45Ky5hhOTGktE%3D" alt="è‡ªå¤çº¢è“å‡ºCP" loading="lazy"/></p>
<p><strong>4. æ°´çš„æ³¢çº¹</strong></p>
<p><strong>æ°´å€’ä¸‹æ—¶</strong>ï¼Œä¼šåœ¨æ¯å­ä¸­å½¢æˆæ³¢çº¹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„å…¬å¼æ¥å®ç°ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/50f60e03f62140e0b31544c2eb4996a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=%2BdYMAjEHuFnB6qremfz6cZt%2BNBw%3D" alt="éå¿…è¦æƒ…å†µä¸‹åˆ«è®°" loading="lazy"/></p>
<p><strong>æµ‹è¯•Shader</strong>å¦‚ä¸‹ï¼Œå½“<code>UV</code>é«˜äºæŒ‡å®šé«˜åº¦æ—¶ï¼Œå½¢æˆæ³¢çº¹ã€‚ä½¿ç”¨<code>cc_time</code>æ—¶ï¼Œéœ€è¦åœ¨ç‰‡æ®µå¼€å§‹æ—¶å¼•å…¥<code>#include &lt;cc-global&gt;</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4a575f1f74f41cdadb3155d90130059~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=x9aGLPekg1KQ6zDMjYH582kAs88%3D" alt="ä¾æ—§æ˜¯ç¡¬ç¼–ç " loading="lazy"/></p>
<p><strong>æ•ˆæœå¦‚ä¸‹ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc3e7ceea1eb4ee58554b22e2782a64b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=IhjzVt09G2FF0HSolUqJ63mDDrk%3D" alt="ç«è¾£è¾£çš„æ³¢çº¹" loading="lazy"/></p>
<p><strong>5. æ°´çš„å€¾æ–œ</strong></p>
<p><strong>æ°´çš„å€¾æ–œ</strong>å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‡½æ•°è¿›è¡Œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/48606754b5364293a23a049aed96f7c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=aRBZDVlrw6oqdSMoPT2wXnD8vqs%3D" alt="AIä¸€ä¸ªæ¥ä¸€ä¸ªä¸å±å£°" loading="lazy"/></p>
<p><strong>æ•ˆæœå¦‚ä¸‹ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b637f2323bee4affb877df0d24d7489a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=yeMrkQHCZrTtixGIT4upXUYxlJQ%3D" alt="è¿˜çœŸæœ‰æ•ˆæœ" loading="lazy"/></p>
<p><strong>ç›¸ä¿¡</strong>é€šè¿‡ä¸Šé¢çš„å†…å®¹ï¼Œå¤§å®¶éƒ½å·²ç»å­¦ä¼šäº†å¦‚ä½•åœ¨<code>Shader</code>ä¸­æ¨¡æ‹Ÿæ°´çš„æ•ˆæœã€‚</p>
<p><strong>é‚£æˆ‘ä»¬è¦æ€ä¹ˆæ ·åœ¨å®é™…æ¸¸æˆä¸­è¿›è¡Œé€šè¿‡ä»£ç æ§åˆ¶åŠ¨æ€ç»“åˆå‘¢ï¼Ÿ</strong></p>
<h2 data-id="heading-3">åŠ¨æ€ä¼ å€¼åˆ°Shader</h2>
<p><strong>æƒ³è¦</strong>é€šè¿‡ä»£ç åŠ¨æ€ä¼ å€¼åˆ°<code>Shader</code>ï¼Œæˆ‘ä»¬é€šå¸¸è¦é€šè¿‡ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ã€‚</p>
<p><strong>1.Properties</strong></p>
<blockquote>
<p><strong>properties</strong>ç”¨äºå°†<code>Shader</code>ä¸­å®šä¹‰çš„<code>uniform</code>è¿›è¡Œåˆ«åæ˜ å°„ã€‚</p>
<p><strong>è¿™ä¸ªæ˜ å°„</strong>å¯ä»¥æ˜¯æŸä¸ª<code>uniform</code>çš„å®Œæ•´æ˜ å°„ï¼Œä¹Ÿå¯ä»¥æ˜¯å…·ä½“æŸä¸ªåˆ†é‡çš„æ˜ å°„ï¼ˆä½¿ç”¨<code>target</code>å‚æ•°ï¼‰ã€‚</p>
</blockquote>
<p><strong>ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼Œ</strong><code>colors</code>å’Œ<code>heights</code>å¯ä»¥ä¼ <code>vec4</code>æ•°ç»„ï¼Œ<code>iResult</code>æ˜¯<code>vec2</code>ï¼Œå…¶ä½™æ˜¯æ•°å€¼ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/848fcd802eac4d1c995752d86dd5a4cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=LANbMk6hm3pO99gyHjGXmSR7%2FD0%3D" alt="å¾ˆç®€å•çš„" loading="lazy"/></p>
<p><strong>2.uniform</strong></p>
<p><strong>uniform</strong>æ˜¯<code>GLSL</code>ä¸­çš„å…³é”®å­—ï¼Œå£°æ˜çš„å˜é‡è¡¨ç¤ºå…¨å±€ç»Ÿä¸€å˜é‡:</p>
<ul>
<li>
<p><strong>å®ƒçš„å€¼</strong>åœ¨ä¸€æ¬¡ç»˜åˆ¶è°ƒç”¨ä¸­ä¿æŒä¸å˜ï¼ˆå¯¹æ‰€æœ‰åƒç´  / é¡¶ç‚¹éƒ½ç›¸åŒï¼‰ã€‚</p>
</li>
<li>
<p><strong>å¯ä»¥ä»</strong><code>CPU</code>ç«¯ï¼ˆæ¸¸æˆé€»è¾‘ä»£ç ï¼‰ç›´æ¥èµ‹å€¼ï¼Œ<code>GPU</code>ç«¯ï¼ˆç€è‰²å™¨ï¼‰åªè¯»ã€‚</p>
</li>
<li>
<p><strong>å¸¸ç”¨äº</strong>ä¼ é€’åŠ¨æ€å‚æ•°ï¼ˆå¦‚é¢œè‰²ã€è§’åº¦ã€çº¹ç†ç­‰ï¼‰ã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9226353ddc3048c3b8b196069663c573~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=IMwen5uFDf0ULJ0AqRoRtPqaKAM%3D" alt="ä¸€ä¸€å¯¹åº”" loading="lazy"/></p>
<p><strong>3.setProperty</strong></p>
<p><strong>åœ¨TypeScriptä¸­</strong>å¯ä»¥ä½¿ç”¨<code>Material</code>ç±»çš„<code>setProperty</code>æ–¹æ³•è¿›è¡Œè®¾ç½®ï¼Œä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cbdd1e18e2a74f7e83e89bf901d04467~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=Isf3Ov3nozgDzXcWSY4fZKSOXP4%3D" alt="è¿™åº”è¯¥æ˜¯å¾ˆç†Ÿæ‚‰äº†å§" loading="lazy"/></p>
<p><strong>4.ä½¿ç”¨</strong></p>
<p><strong>å®Œæˆ</strong>ä¸Šè¿°æ­¥éª¤åï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œéå¸¸ç®€å•ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e93b8a3929543e694f2c3f65ee6cbbc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=cdLdOMskN3LirW0MogtyuDrUOdg%3D" alt="ä½¿ç”¨å¾ˆç®€å•" loading="lazy"/></p>
<p><strong>ä»¥ä¸Š</strong>å°±æ˜¯å€’æ°´è§£è°œæ¸¸æˆçš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå…¶ä½™ç®€å•çš„ä»£ç é€»è¾‘ç”±äºç¯‡å¹…é—®é¢˜å°±ä¸å†èµ˜è¿°ï¼Œå¯ä»¥é€šè¿‡æºç æŸ¥çœ‹ã€‚</p>
<p><strong>ç›¸ä¿¡å°ä¼™ä¼´ä»¬å­¦åºŸä¹‹åï¼Œå¯ä»¥å®Œæˆåˆ°ä¸‹é¢çš„æ•ˆæœã€‚</strong></p>
<h2 data-id="heading-4">æ•ˆæœæ¼”ç¤º</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e9221acb85744e0991287e295114077~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770598115&amp;x-signature=5poLf1I0EM4Ui2PnlvZCFr1qbzY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">ç»“è¯­</h2>
<p>**é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œ**å€’æ°´è§£è°œç±»æ¸¸æˆå·²ç»è¿‡å»äº†è¿™ä¹ˆä¹…ï¼Œå…¶å˜ç§ä¾æ—§éå¸¸ç«çˆ†ã€‚</p>
<p><strong>å°ä¼™ä¼´ä»¬çŸ¥é“ä¸ºä»€ä¹ˆå—ï¼Ÿ</strong></p>
<p>æœ¬æ–‡<strong>å®æˆ˜å®Œæ•´æºç </strong>å·²é›†æˆåˆ°<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FFOi5gCiGzF3LnT03DpPMXA" target="_blank" title="https://mp.weixin.qq.com/s/FOi5gCiGzF3LnT03DpPMXA" ref="nofollow noopener noreferrer">äº¿å…ƒCocoså°æ¸¸æˆå®æˆ˜åˆé›†ï¼ˆ6/10ï¼‰</a>ï¼Œå†…å«ä½“éªŒé“¾æ¥ï¼Œæœ‰ç–‘é—®ç¬”è€…æ‰‹æŠŠæ‰‹è®²è§£ã€‚</p>
<hr/>
<p><strong>æˆ‘æ˜¯"äº¿å…ƒç¨‹åºå‘˜"ï¼Œä¸€ä½æœ‰ç€8å¹´æ¸¸æˆè¡Œä¸šç»éªŒçš„ä¸»ç¨‹ã€‚åœ¨æ¸¸æˆå¼€å‘ä¸­ï¼Œå¸Œæœ›èƒ½ç»™åˆ°æ‚¨å¸®åŠ©, ä¹Ÿå¸Œæœ›é€šè¿‡æ‚¨èƒ½å¸®åŠ©åˆ°å¤§å®¶ã€‚</strong></p>
<p>AD:ç¬”è€…çº¿ä¸Šçš„å°æ¸¸æˆã€Šæ‰“èºä¸é—¯å…³ã€‹ã€Šè´ªåƒè›‡æŒæœºç»å…¸ã€‹ã€Šé‡åŠ›è¿·å®«çƒã€‹ã€Šå¡«è‰²ä¹‹æ—…ã€‹ã€Šæ–¹å—æŒæœºç»å…¸ã€‹å¤§å®¶å¯ä»¥è‡ªè¡Œç‚¹å‡»æœç´¢ä½“éªŒã€‚</p>
<p>å®ä¸ç›¸ç’ï¼Œæƒ³è¦ä¸ª<strong>èµ</strong>å’Œ<strong>çˆ±å¿ƒ</strong>ï¼è¯·æŠŠè¯¥æ–‡ç« <strong>åˆ†äº«</strong>ç»™ä½ è§‰å¾—æœ‰éœ€è¦çš„å…¶ä»–å°ä¼™ä¼´ã€‚è°¢è°¢ï¼</p>
<p>æ¨èæ–‡ç« ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FFOi5gCiGzF3LnT03DpPMXA" target="_blank" title="https://mp.weixin.qq.com/s/FOi5gCiGzF3LnT03DpPMXA" ref="nofollow noopener noreferrer">äº¿å…ƒCocoså°æ¸¸æˆå®æˆ˜åˆé›†</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FXLCknL3fJDubec2GW6KLFA" target="_blank" title="https://mp.weixin.qq.com/s/XLCknL3fJDubec2GW6KLFA" ref="nofollow noopener noreferrer">Cocosæ¸¸æˆå¦‚ä½•æ¥å…¥å®‰å“ç©¿å±±ç”²å¹¿å‘Šå˜ç°ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F3_VrSld4KnDKY_7hxjSoKg" target="_blank" title="https://mp.weixin.qq.com/s/3_VrSld4KnDKY_7hxjSoKg" ref="nofollow noopener noreferrer">ä½ çŸ¥é“å’Œä¸çŸ¥é“çš„å¾®ä¿¡å°æ¸¸æˆå¸¸ç”¨APIæ•´ç†ï¼Œèµ¶ç´§æ”¶è—ç”¨èµ·æ¥~</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F0Lj24VHJ-pL8z82hHqQLiA" target="_blank" title="https://mp.weixin.qq.com/s/0Lj24VHJ-pL8z82hHqQLiA" ref="nofollow noopener noreferrer">Cocosæ¸¸æˆå¦‚ä½•å¿«é€Ÿæ¥å…¥æŠ–éŸ³å°æ¸¸æˆå¹¿å‘Šå˜ç°ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FZ7DusUJA2v1IFZDFtBsueg" target="_blank" title="https://mp.weixin.qq.com/s/Z7DusUJA2v1IFZDFtBsueg" ref="nofollow noopener noreferrer">å¦‚ä½•åœ¨CocosCreator3.8ä¸­å®ç°å‰²ç»³å­æ¸¸æˆæ•ˆæœ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F3BzzFBzeVAO-a6LPTeFTrA" target="_blank" title="https://mp.weixin.qq.com/s/3BzzFBzeVAO-a6LPTeFTrA" ref="nofollow noopener noreferrer">å¦‚ä½•åœ¨CocosCreator3.8ä¸­å®ç°åŠ¨æ€åˆ‡å‰²æ¨¡å‹ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FZIph332u_r24OTY4r6_jow" target="_blank" title="https://mp.weixin.qq.com/s/ZIph332u_r24OTY4r6_jow" ref="nofollow noopener noreferrer">Cocosæ¸¸æˆå¼€å‘ä¸­çš„è´´èŠ±æ•ˆæœ</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JFRï¼šSpring Boot åº”ç”¨çš„æ€§èƒ½è¯Šæ–­åˆ©å™¨]]></title>    <link>https://juejin.cn/post/7601486204174139442</link>    <guid>https://juejin.cn/post/7601486204174139442</guid>    <pubDate>2026-02-02T00:12:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601486204174139442" data-draft-id="7601374668961546290" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JFRï¼šSpring Boot åº”ç”¨çš„æ€§èƒ½è¯Šæ–­åˆ©å™¨"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-02T00:12:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£è±¡å—"/> <meta itemprop="url" content="https://juejin.cn/user/2524134428655159"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JFRï¼šSpring Boot åº”ç”¨çš„æ€§èƒ½è¯Šæ–­åˆ©å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2524134428655159/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£è±¡å—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T00:12:33.000Z" title="Mon Feb 02 2026 00:12:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    33
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>GC åœé¡¿ã€å†…å­˜æ³„æ¼ã€æ¥å£å“åº”å˜æ…¢â€”â€”çº¿ä¸ŠæœåŠ¡å‡ºé—®é¢˜çš„æ—¶å€™ï¼Œä½ æ˜¯å¦ä¹Ÿæ›¾å¯¹ç€ç›‘æ§é¢æ¿å‘å‘†ï¼Œä¸çŸ¥é“æ ¹å› åœ¨å“ªï¼Ÿ</p>
<p>ä»Šå¤©èŠèŠ Java è‡ªå¸¦çš„æ€§èƒ½è¯Šæ–­ç¥å™¨ JFRï¼ˆJava Flight Recorderï¼‰ï¼Œé…åˆ Spring Boot ä½¿ç”¨ï¼Œæ•ˆæœç¿»å€ã€‚</p>
<h2 data-id="heading-0">JFR æ˜¯ä»€ä¹ˆ</h2>
<p>JFR æ˜¯ JDK å†…ç½®çš„æ€§èƒ½é‡‡é›†å·¥å…·ï¼ŒçŸ¥é“çš„äººä¸å¤šï¼Œä½†ç”¨è¿‡çš„äººéƒ½è¯´æ˜¯ã€ŒçœŸé¦™ã€ã€‚</p>
<p>å‡ ä¸ªæ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>å¼€é”€å¯æ§</strong>ï¼šé€šè¿‡äº‹ä»¶å¼€å…³æ§åˆ¶é‡‡é›†ç²’åº¦ï¼Œç²¾å‡†åœºæ™¯ä¸‹å¼€é”€å¯å‹åˆ°æä½</li>
<li><strong>äº‹ä»¶ä¸°å¯Œ</strong>ï¼šGCã€çº¿ç¨‹ã€IOã€é”ã€CPUã€å¼‚å¸¸â€¦â€¦100+ ç§äº‹ä»¶ç±»å‹</li>
<li><strong>å†å²å›æº¯</strong>ï¼šå½•åˆ¶æ–‡ä»¶å¯ä»¥ç¦»çº¿åˆ†æï¼Œäº‹åå®šä½æ²¡é—®é¢˜</li>
<li><strong>æŒç»­å½•åˆ¶</strong>ï¼šæ”¯æŒåå°å¸¸é©»ï¼Œå‡ºé—®é¢˜éšæ—¶æœ‰æ•°æ®å…œåº•</li>
</ul>
<blockquote>
<p>JDK 8 åŠä¹‹å‰ JFR æ˜¯å•†ä¸šç‰¹æ€§ï¼ŒJDK 9+ å…è´¹å¼€æºã€‚</p>
</blockquote>
<p>ç”Ÿäº§ç¯å¢ƒå¯ç”¨å‰å»ºè®®ç¡®è®¤ï¼šç£ç›˜ç©ºé—´å……è¶³ã€å¼€å¯äº† JFR æƒé™æ§åˆ¶ã€é‡‡é›†çš„äº‹ä»¶èŒƒå›´ç¬¦åˆéœ€æ±‚ã€‚</p>
<h2 data-id="heading-1">Spring Boot å¯ç”¨ JFR</h2>
<h4 data-id="heading-2">æ–¹å¼ä¸€ï¼šå¯åŠ¨å‚æ•°ï¼ˆæœ€ç®€å•ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash">java -XX:StartFlightRecording:filename=recording.jfr,duration=60s -jar app.jar
</code></pre>
<p>æ›´å¤šå‚æ•°é…ç½®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">java -XX:StartFlightRecording=\
    filename=app-recording.jfr,\
    dumponexit=<span class="hljs-literal">true</span>,\
    maxsize=500M,\
    maxage=1d,\
    settings=profile -jar app.jar
</code></pre>
<p>å‚æ•°è¯´æ˜ï¼š</p>





























<table><thead><tr><th>å‚æ•°</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>filename</code></td><td>å½•åˆ¶æ–‡ä»¶ä¿å­˜è·¯å¾„</td></tr><tr><td><code>dumponexit</code></td><td>JVM é€€å‡ºæ—¶è‡ªåŠ¨ dump</td></tr><tr><td><code>maxsize</code></td><td>å•æ–‡ä»¶æœ€å¤§ size</td></tr><tr><td><code>maxage</code></td><td>æœ€è€æ•°æ®çš„ä¿ç•™æ—¶é—´</td></tr><tr><td><code>settings</code></td><td>æ¨¡æ¿ï¼ˆproduction/profileï¼‰</td></tr></tbody></table>
<h4 data-id="heading-3">æ–¹å¼äºŒï¼šAPI åŠ¨æ€æ§åˆ¶</h4>
<p>Spring Boot å¯ä»¥é€šè¿‡ JMX è¿œç¨‹æ§åˆ¶ JFR å¼€å§‹/åœæ­¢ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JfrController</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">MBeanServer</span> <span class="hljs-variable">mBeanServer</span> <span class="hljs-operator">=</span> ManagementFactory.getPlatformMBeanServer();
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">JFR_BEAN_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"com.oracle.jdk:jfrType=FlightRecorder"</span>;

    <span class="hljs-meta">@PostMapping("/jfr/start")</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">start</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam</span> String filename)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">ObjectName</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectName</span>(JFR_BEAN_NAME);
        Map&lt;String, String&gt; settings = Map.of(
            <span class="hljs-string">"jdk.JavaMonitorEnter#enabled"</span>, <span class="hljs-string">"true"</span>,
            <span class="hljs-string">"jdk.SocketRead#enabled"</span>, <span class="hljs-string">"true"</span>
        );
        mBeanServer.invoke(name, <span class="hljs-string">"startRecording"</span>,
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>[]{filename, settings},
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]{String.class.getName(), Map.class.getName()}
        );
        <span class="hljs-keyword">return</span> <span class="hljs-string">"started: "</span> + filename;
    }

    <span class="hljs-meta">@PostMapping("/jfr/stop")</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">stop</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">ObjectName</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectName</span>(JFR_BEAN_NAME);
        mBeanServer.invoke(name, <span class="hljs-string">"stopRecording"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>[]{}, <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]{});
        <span class="hljs-keyword">return</span> <span class="hljs-string">"stopped"</span>;
    }
}
</code></pre>
<h4 data-id="heading-4">æ–¹å¼ä¸‰ï¼šActuator é›†æˆ</h4>
<p>Spring Boot Actuator ä¹Ÿèƒ½æš´éœ² JFR ç«¯ç‚¹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">management:</span>
  <span class="hljs-attr">endpoints:</span>
    <span class="hljs-attr">web:</span>
      <span class="hljs-attr">exposure:</span>
        <span class="hljs-attr">include:</span> <span class="hljs-string">health,info,jfr</span>
  <span class="hljs-attr">jfr:</span>
    <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">directory:</span> <span class="hljs-string">/var/log/jfr</span>
</code></pre>
<hr/>
<h2 data-id="heading-5">å½•åˆ¶æ–‡ä»¶æ€ä¹ˆåˆ†æ</h2>
<h4 data-id="heading-6">JDK Mission Control (JMC)</h4>
<p>è¿™æ˜¯å®˜æ–¹æä¾›çš„ GUI åˆ†æå·¥å…·ï¼ŒJDK 11+ è‡ªå¸¦ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">jmc
</code></pre>
<p>æ‰“å¼€å½•åˆ¶æ–‡ä»¶åï¼Œé‡ç‚¹çœ‹è¿™å‡ ä¸ªè§†å›¾ï¼š</p>
<p><strong>1. Recording View</strong> - äº‹ä»¶åˆ—è¡¨å’Œåˆ†å¸ƒ
<strong>2. Code Path</strong> - çƒ­ç‚¹æ–¹æ³•è°ƒç”¨é“¾
<strong>3. Memory</strong> - GC å’Œå¯¹è±¡åˆ†é…
<strong>4. Threads</strong> - é”ç«äº‰ã€çº¿ç¨‹çŠ¶æ€
<strong>5. I/O</strong> - æ–‡ä»¶å’Œç½‘ç»œå»¶è¿Ÿ</p>
<h4 data-id="heading-7">å‘½ä»¤è¡Œå¿«é€Ÿåˆ†æ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¦‚è§ˆ</span>
jfr summary recording.jfr

<span class="hljs-comment"># åªçœ‹æŸç±»äº‹ä»¶</span>
jfr <span class="hljs-built_in">print</span> --events <span class="hljs-string">"jdk.GC*,jdk.JavaMonitorEnter"</span> recording.jfr

<span class="hljs-comment"># æ‰¾å‡ºè€—æ—¶æœ€é•¿çš„è°ƒç”¨</span>
jfr <span class="hljs-built_in">print</span> --events <span class="hljs-string">"jdk.ExecutionSample"</span> recording.jfr | <span class="hljs-built_in">head</span> -30
</code></pre>
<h4 data-id="heading-8">ä»£ç åˆ†æè„šæœ¬</h4>
<p>å†™ä¸ªè„šæœ¬æ‰¹é‡å¤„ç†å¤šä¸ªå½•åˆ¶æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JfrAnalyzer</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">var</span> <span class="hljs-variable">file</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(args[<span class="hljs-number">0</span>]);
        Map&lt;String, Long&gt; durations = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        Map&lt;String, Integer&gt; counts = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();

        <span class="hljs-keyword">try</span> (<span class="hljs-type">var</span> <span class="hljs-variable">rs</span> <span class="hljs-operator">=</span> RecordingFile.open(file)) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> event : rs) {
                <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> event.getEventType().getName();
                counts.merge(name, <span class="hljs-number">1</span>, Integer::sum);
                <span class="hljs-keyword">if</span> (event.hasValue(<span class="hljs-string">"duration"</span>)) {
                    <span class="hljs-type">long</span> <span class="hljs-variable">ns</span> <span class="hljs-operator">=</span> event.getDuration(<span class="hljs-string">"duration"</span>).toNanos();
                    durations.merge(name, ns, Long::sum);
                }
            }
        }

        <span class="hljs-comment">// æ‰“å°ç»“æœ</span>
        System.out.println(<span class="hljs-string">"=== Most Frequent ==="</span>);
        counts.entrySet().stream()
            .sorted((a, b) -&gt; b.getValue() - a.getValue())
            .limit(<span class="hljs-number">10</span>).forEach(e -&gt;
                System.out.printf(<span class="hljs-string">"  %s: %d%n"</span>, e.getKey(), e.getValue()));

        System.out.println(<span class="hljs-string">"=== Slowest ==="</span>);
        durations.entrySet().stream()
            .sorted((a, b) -&gt; (<span class="hljs-type">int</span>)(b.getValue() - a.getValue()))
            .limit(<span class="hljs-number">10</span>).forEach(e -&gt;
                System.out.printf(<span class="hljs-string">"  %s: %d ms%n"</span>, e.getKey(), e.getValue() / <span class="hljs-number">1_000_000</span>));
    }
}
</code></pre>
<h2 data-id="heading-9">å®æˆ˜åœºæ™¯</h2>
<h4 data-id="heading-10">GC åœé¡¿æ’æŸ¥</h4>
<pre><code class="hljs language-bash" lang="bash">java -XX:StartFlightRecording:\
    filename=gc.jfr,\
    events=<span class="hljs-string">"jdk.GC*,jdk.YoungGarbageCollection,jdk.OldGarbageCollection"</span> -jar app.jar
</code></pre>
<p>JMC é‡Œé‡ç‚¹çœ‹ï¼š</p>
<ul>
<li>GC Pause æ€»æ—¶é•¿å’Œé¢‘ç‡</li>
<li>Young GC é¢‘ç‡æ˜¯å¦è¿‡é«˜</li>
<li>å¯¹è±¡æ™‹å‡ï¼ˆPromotionï¼‰æ˜¯å¦é¢‘ç¹</li>
</ul>
<h4 data-id="heading-11">æ¥å£æ…¢è¯·æ±‚å®šä½</h4>
<p>å…ˆå†™ä¸ªç®€å•çš„è€—æ—¶æ—¥å¿— AOPï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Aspect</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TimingAspect</span> {

    <span class="hljs-meta">@Around("@annotation(GetMapping)")</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">trace</span><span class="hljs-params">(ProceedingJoinPoint p)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-type">var</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> p.proceed();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-type">var</span> <span class="hljs-variable">cost</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - start;
            <span class="hljs-keyword">if</span> (cost &gt; <span class="hljs-number">1000</span>) {
                System.out.printf(<span class="hljs-string">"[SLOW] %s: %d ms%n"</span>, p.getSignature(), cost);
            }
        }
    }
}
</code></pre>
<p>æ…¢è¯·æ±‚å‡ºç°åï¼Œé…åˆ JFR å®šä½å…·ä½“ç“¶é¢ˆï¼š</p>

























<table><thead><tr><th>JFR äº‹ä»¶</th><th>å¯¹åº”é—®é¢˜</th></tr></thead><tbody><tr><td><code>jdk.ExecutionSample</code></td><td>CPU çƒ­ç‚¹</td></tr><tr><td><code>jdk.FileRead/Write</code></td><td>ç£ç›˜ IO æ…¢</td></tr><tr><td><code>jdk.SocketRead/Write</code></td><td>ç½‘ç»œ IO æ…¢</td></tr><tr><td><code>jdk.JavaMonitorEnter</code></td><td>é”ç­‰å¾…</td></tr></tbody></table>
<h4 data-id="heading-12">å†…å­˜æ³„æ¼</h4>
<p>å¼€å¯å¯¹è±¡åˆ†é…äº‹ä»¶ï¼š</p>
<pre><code class="hljs">jdk.ObjectAllocationInNewTLAB
jdk.ObjectAllocationOutsideTLAB
jdk.OldGarbageCollection
</code></pre>
<p>è€å¹´ä»£å›æ”¶é¢‘ç‡å¼‚å¸¸å‡é«˜ + å †å¤§å°æŒç»­å¢é•¿ï¼ŒåŸºæœ¬å°±æ˜¯æ³„æ¼äº†ã€‚é…åˆ <code>jfr print --events "jdk.OldGarbageCollection"</code> çœ‹å›æ”¶æ¨¡å¼ï¼Œå†å¯¼å‡ºå † dump å®šä½æ³„æ¼å¯¹è±¡ã€‚</p>
<h2 data-id="heading-13">ç”Ÿäº§ç¯å¢ƒæ³¨æ„äº‹é¡¹</h2>
<h4 data-id="heading-14">1. èµ„æºé™åˆ¶</h4>
<pre><code class="hljs language-bash" lang="bash">-XX:FlightRecorderOptions=maxchunksize=100M,memorysize=50M
</code></pre>
<h4 data-id="heading-15">2. æŒç»­å½•åˆ¶ + è½®è½¬</h4>
<pre><code class="hljs language-bash" lang="bash">java -XX:StartFlightRecording=\
    filename=/opt/jfr/app.jfr,\
    dumponexit=<span class="hljs-literal">true</span>,\
    maxage=7d,\
    maxsize=1G,\
    settings=production -jar app.jar
</code></pre>
<h4 data-id="heading-16">3. æƒé™æ§åˆ¶</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">export</span> <span class="hljs-string">COM_SUN_JDK_JFR_OPTIONS="security-manager=true"</span>
</code></pre>
<h4 data-id="heading-17">4. å‘Šè­¦è”åŠ¨</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Scheduled(fixedRate = 60000)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">alertIfNeeded</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// è¯»å– JFR äº‹ä»¶ï¼Œå¼‚å¸¸æ—¶æ¨é€åˆ°å‘Šè­¦å¹³å°</span>
}
</code></pre>
<h2 data-id="heading-18">æ€»ç»“</h2>
<p>JFR ä¸æ˜¯ä»€ä¹ˆæ–°ä¸œè¥¿ï¼Œä½†ç¡®å®æ˜¯ã€Œå¹³æ—¶ç”¨ä¸ä¸Šï¼Œå‡ºäº‹èƒ½æ•‘å‘½ã€çš„å·¥å…·ã€‚</p>
<p>Spring Boot é›†æˆåï¼Œå¯ç”¨æˆæœ¬ä¸é«˜ã€‚ç”Ÿäº§ç¯å¢ƒæŒ‰éœ€å¼€å¯ï¼Œé…åˆèµ„æºé™åˆ¶å’Œè½®è½¬ç­–ç•¥ï¼Œé‡åˆ°é—®é¢˜ç›´æ¥çœ‹å½•åˆ¶æ–‡ä»¶ï¼Œæ¯”çŒœæ—¥å¿—é«˜æ•ˆå¾—å¤šã€‚</p>
<p>å‡ ä¸ªå»ºè®®ï¼š</p>
<ul>
<li>å…ˆè®°å‡ ä¸ªå¸¸ç”¨ JFR äº‹ä»¶åï¼Œç”¨åˆ°å†æŸ¥æ–‡æ¡£</li>
<li>æŒç»­å½•åˆ¶ + 7 å¤©è½®è½¬ï¼Œå‡ºé—®é¢˜æœ‰æ•°æ®å¯æŸ¥</li>
<li>é…åˆ JMC å¯è§†åŒ–ï¼Œåˆ†ææ•ˆç‡æ›´é«˜</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[@empjs/valtio - è®©ä½ åƒå†™ Vue å“åº”å¼ä¸€æ ·å†™ React çŠ¶æ€]]></title>    <link>https://juejin.cn/post/7601445395478593570</link>    <guid>https://juejin.cn/post/7601445395478593570</guid>    <pubDate>2026-02-02T02:18:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601445395478593570" data-draft-id="7601477334933192710" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="@empjs/valtio - è®©ä½ åƒå†™ Vue å“åº”å¼ä¸€æ ·å†™ React çŠ¶æ€"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-02T02:18:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="KenXu"/> <meta itemprop="url" content="https://juejin.cn/user/483440843559406"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            @empjs/valtio - è®©ä½ åƒå†™ Vue å“åº”å¼ä¸€æ ·å†™ React çŠ¶æ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/483440843559406/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    KenXu
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T02:18:18.000Z" title="Mon Feb 02 2026 02:18:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>å¦‚æœä½ æ­£åœ¨ç»å†ï¼š</strong> Zustand æ›¿ä»£äº† Redux çš„ç¹çï¼Œä½†è¿˜æ˜¯è§‰å¾—ä¸å¤Ÿ"ç›´è§‰"ï¼Ÿä» Vue è½¬ React åï¼Œæ€€å¿µ <code>data.count++</code> è¿™ç§è‡ªç„¶çš„å†™æ³•ï¼Ÿ <strong>@empjs/valtio</strong> å¯èƒ½æ˜¯ä½ çš„ç­”æ¡ˆã€‚å®ƒè®© React çŠ¶æ€ç®¡ç†å›å½’"æ”¹å˜æ•°æ®å°±è‡ªåŠ¨æ›´æ–°"çš„æœ¬èƒ½ï¼ŒåŒæ—¶æŠŠå¸¸ç”¨åŠŸèƒ½ï¼ˆæ’¤é”€/é‡åšã€è®¡ç®—å±æ€§ã€æœ¬åœ°å­˜å‚¨ï¼‰ä» <strong>4~5 ä¸ªå®‰è£…æ­¥éª¤ç®€åŒ–ä¸º 1 è¡Œé…ç½®</strong>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ğŸ“– ç›®å½•</h2>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fclaude.ai%2Fchat%2Fb05d6238-e287-40bb-b349-6f17a24857a9%231-%25E4%25B8%2589%25E5%2588%2586%25E9%2592%259F%25E7%2590%2586%25E8%25A7%25A3" target="_blank" title="https://claude.ai/chat/b05d6238-e287-40bb-b349-6f17a24857a9#1-%E4%B8%89%E5%88%86%E9%92%9F%E7%90%86%E8%A7%A3" ref="nofollow noopener noreferrer">ä¸‰åˆ†é’Ÿç†è§£ï¼šRedux â†’ Zustand â†’ Valtio çš„æ¼”å˜</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fclaude.ai%2Fchat%2Fb05d6238-e287-40bb-b349-6f17a24857a9%232-%25E6%25A0%25B8%25E5%25BF%2583%25E4%25BD%2593%25E9%25AA%258C" target="_blank" title="https://claude.ai/chat/b05d6238-e287-40bb-b349-6f17a24857a9#2-%E6%A0%B8%E5%BF%83%E4%BD%93%E9%AA%8C" ref="nofollow noopener noreferrer">æ ¸å¿ƒä½“éªŒï¼šä¸€ä¸ªè®¡æ•°å™¨çš„ä¸‰ç§å†™æ³•</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fclaude.ai%2Fchat%2Fb05d6238-e287-40bb-b349-6f17a24857a9%233-%25E4%25B8%25BA%25E4%25BB%2580%25E4%25B9%2588%25E9%259C%2580%25E8%25A6%2581%25E5%25A2%259E%25E5%25BC%25BA%25E7%2589%2588" target="_blank" title="https://claude.ai/chat/b05d6238-e287-40bb-b349-6f17a24857a9#3-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%A2%9E%E5%BC%BA%E7%89%88" ref="nofollow noopener noreferrer">ä¸ºä»€ä¹ˆéœ€è¦å¢å¼ºç‰ˆï¼ŸåŸç‰ˆ Valtio çš„"æœ€åä¸€å…¬é‡Œ"</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fclaude.ai%2Fchat%2Fb05d6238-e287-40bb-b349-6f17a24857a9%234-%25E5%25AE%259E%25E6%2588%2598%25E5%25AF%25B9%25E6%25AF%2594" target="_blank" title="https://claude.ai/chat/b05d6238-e287-40bb-b349-6f17a24857a9#4-%E5%AE%9E%E6%88%98%E5%AF%B9%E6%AF%94" ref="nofollow noopener noreferrer">å®æˆ˜å¯¹æ¯”ï¼šåŒä¸€ä¸ªåŠŸèƒ½ï¼Œä»£ç é‡å·®å¤šå°‘ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fclaude.ai%2Fchat%2Fb05d6238-e287-40bb-b349-6f17a24857a9%235-%25E8%25AF%25BB%25E5%2586%2599%25E9%2593%2581%25E5%25BE%258B" target="_blank" title="https://claude.ai/chat/b05d6238-e287-40bb-b349-6f17a24857a9#5-%E8%AF%BB%E5%86%99%E9%93%81%E5%BE%8B" ref="nofollow noopener noreferrer">è¯»å†™é“å¾‹ï¼šsnap å’Œ store ä¸èƒ½æ··ç”¨</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fclaude.ai%2Fchat%2Fb05d6238-e287-40bb-b349-6f17a24857a9%236-%25E5%2586%2585%25E5%25BB%25BA%25E6%25AD%25A6%25E5%2599%25A8%25E5%25BA%2593" target="_blank" title="https://claude.ai/chat/b05d6238-e287-40bb-b349-6f17a24857a9#6-%E5%86%85%E5%BB%BA%E6%AD%A6%E5%99%A8%E5%BA%93" ref="nofollow noopener noreferrer">å†…å»ºæ­¦å™¨åº“ï¼š17 ä¸ªæ–¹æ³•å…¨è§£æ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fclaude.ai%2Fchat%2Fb05d6238-e287-40bb-b349-6f17a24857a9%237-%25E5%2585%25A8%25E5%25B1%2580-vs-%25E5%25B1%2580%25E9%2583%25A8" target="_blank" title="https://claude.ai/chat/b05d6238-e287-40bb-b349-6f17a24857a9#7-%E5%85%A8%E5%B1%80-vs-%E5%B1%80%E9%83%A8" ref="nofollow noopener noreferrer">å…¨å±€ vs å±€éƒ¨ï¼šä»€ä¹ˆæ—¶å€™ç”¨å“ªä¸ªï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fclaude.ai%2Fchat%2Fb05d6238-e287-40bb-b349-6f17a24857a9%238-%25E5%25BE%25AE%25E5%2589%258D%25E7%25AB%25AF%25E5%259C%25BA%25E6%2599%25AF" target="_blank" title="https://claude.ai/chat/b05d6238-e287-40bb-b349-6f17a24857a9#8-%E5%BE%AE%E5%89%8D%E7%AB%AF%E5%9C%BA%E6%99%AF" ref="nofollow noopener noreferrer">å¾®å‰ç«¯åœºæ™¯ï¼šåƒä¼ æ™®é€š props ä¸€æ ·ä¼  store</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fclaude.ai%2Fchat%2Fb05d6238-e287-40bb-b349-6f17a24857a9%239-%25E9%2581%25BF%25E5%259D%2591%25E6%258C%2587%25E5%258D%2597" target="_blank" title="https://claude.ai/chat/b05d6238-e287-40bb-b349-6f17a24857a9#9-%E9%81%BF%E5%9D%91%E6%8C%87%E5%8D%97" ref="nofollow noopener noreferrer">é¿å‘æŒ‡å—ï¼š5 ä¸ªæ–°æ‰‹å¸¸çŠ¯é”™è¯¯</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fclaude.ai%2Fchat%2Fb05d6238-e287-40bb-b349-6f17a24857a9%2310-%25E5%25BF%25AB%25E9%2580%259F%25E5%2586%25B3%25E7%25AD%2596%25E8%25A1%25A8" target="_blank" title="https://claude.ai/chat/b05d6238-e287-40bb-b349-6f17a24857a9#10-%E5%BF%AB%E9%80%9F%E5%86%B3%E7%AD%96%E8%A1%A8" ref="nofollow noopener noreferrer">å¿«é€Ÿå†³ç­–è¡¨ï¼š30 ç§’é€‰å¯¹æ–¹æ¡ˆ</a></li>
</ol>
<hr/>
<h2 data-id="heading-1">1. ä¸‰åˆ†é’Ÿç†è§£</h2>
<h3 data-id="heading-2">React çŠ¶æ€ç®¡ç†çš„ä¸‰ä»£æ¼”å˜</h3>
<p>æƒ³è±¡ä½ åœ¨ç®¡ç†ä¸€å®¶å¥¶èŒ¶åº—çš„åº“å­˜ï¼š</p>
<p><strong>Reduxï¼ˆç¬¬ä¸€ä»£ï¼‰â€”â€” ä¸¥æ ¼çš„ä»“åº“ç®¡ç†åˆ¶åº¦</strong></p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// æ¯æ¬¡æ”¹åº“å­˜éƒ½è¦å¡«è¡¨ã€ç›–ç« ã€èµ°æµç¨‹</span>
<span class="hljs-title function_ invoke__">dispatch</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'UPDATE_MILK_TEA'</span>, <span class="hljs-attr">payload</span>: { <span class="hljs-attr">count</span>: <span class="hljs-number">10</span> } })
<span class="hljs-comment">// ä¼˜ç‚¹ï¼šæµç¨‹æ¸…æ™°ï¼Œé€‚åˆå¤§å›¢é˜Ÿåä½œ</span>
<span class="hljs-comment">// ç¼ºç‚¹ï¼šæ”¹ä¸ªæ•°å­—è¦å†™ä¸‰ä¸ªæ–‡ä»¶ï¼ˆactionã€reducerã€connectï¼‰</span>
</code></pre>
<p><strong>Zustandï¼ˆç¬¬äºŒä»£ï¼‰â€”â€” ç®€åŒ–çš„åº“å­˜æœ¬å­</strong></p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// æŠŠè¡¨æ ¼ç®€åŒ–æˆä¸€ä¸ªè®°è´¦æœ¬</span>
<span class="hljs-keyword">const</span> useStore = create(<span class="hljs-keyword">set</span> =&gt; ({
  count: <span class="hljs-number">0</span>,
  increase: () =&gt; <span class="hljs-keyword">set</span>(state =&gt; ({ count: state.count + <span class="hljs-number">1</span> }))
}))
<span class="hljs-comment">// ä¼˜ç‚¹ï¼šåªè¦ä¸€ä¸ªæ–‡ä»¶ï¼ŒAPI å¾ˆå°‘</span>
<span class="hljs-comment">// ç¼ºç‚¹ï¼šè¿˜æ˜¯è¦å®šä¹‰"åŠ¨ä½œå‡½æ•°"ï¼Œä¸èƒ½ç›´æ¥æ”¹æ•°å­—</span>
</code></pre>
<p><strong>Valtioï¼ˆç¬¬ä¸‰ä»£ï¼‰â€”â€” åƒæ”¹æ™®é€šå˜é‡ä¸€æ ·</strong></p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// å°±åƒåœ¨ç™½æ¿ä¸Šç›´æ¥æ“¦æ‰æ—§æ•°å­—å†™æ–°æ•°å­—</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">state</span> = <span class="hljs-title function_ invoke__">proxy</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> })
state.count++  <span class="hljs-comment">// å°±è¿™ä¹ˆç®€å•ï¼UI è‡ªåŠ¨æ›´æ–°</span>
<span class="hljs-comment">// ä¼˜ç‚¹ï¼šæœ€æ¥è¿‘ Vue çš„ reactiveï¼Œé›¶å­¦ä¹ æˆæœ¬</span>
<span class="hljs-comment">// ç¼ºç‚¹ï¼šå¤ª"è‡ªç”±"äº†ï¼Œç¼ºå°‘ç»Ÿä¸€ç®¡ç†</span>
</code></pre>
<h3 data-id="heading-3">ä¸ºä»€ä¹ˆ Vue å¼€å‘è€…ä¼šçˆ±ä¸Šå®ƒï¼Ÿ</h3>
<p>å¦‚æœä½ ç†Ÿæ‚‰ Vue 3 çš„ <code>reactive</code>ï¼Œé‚£ä¹ˆ Valtio çš„ <code>proxy</code> å‡ ä¹æ˜¯åŒä¸€ä¸ªæ¦‚å¿µï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Vue 3 --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> })
state.<span class="hljs-property">count</span>++  <span class="hljs-comment">// ç›´æ¥æ”¹ï¼Œè§†å›¾è‡ªåŠ¨æ›´æ–°</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// Valtio (React)</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">state</span> = <span class="hljs-title function_ invoke__">proxy</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> })
state.count++  <span class="hljs-comment">// åŒæ ·ç›´æ¥æ”¹ï¼Œç»„ä»¶è‡ªåŠ¨é‡æ¸²æŸ“</span>
</code></pre>
<p>ä¸¤è€…åº•å±‚éƒ½ç”¨äº† JavaScript çš„ <code>Proxy</code> æœºåˆ¶æ¥è¿½è¸ªå˜åŒ–ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Valtio å¸¸è¢«ç§°ä¸º"React ä¸–ç•Œçš„ Vue å“åº”å¼"ã€‚</p>
<hr/>
<h2 data-id="heading-4">2. æ ¸å¿ƒä½“éªŒ</h2>
<h3 data-id="heading-5">åŒä¸€ä¸ªè®¡æ•°å™¨ï¼Œä¸‰ç§åº“çš„å†™æ³•</h3>
<p><strong>Redux Toolkitï¼ˆçº¦ 20 è¡Œï¼‰</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// store.ts</span>
<span class="hljs-keyword">import</span> { createSlice } <span class="hljs-keyword">from</span> <span class="hljs-string">'@reduxjs/toolkit'</span>
<span class="hljs-keyword">const</span> counterSlice = <span class="hljs-title function_">createSlice</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'counter'</span>,
  <span class="hljs-attr">initialState</span>: { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> },
  <span class="hljs-attr">reducers</span>: { <span class="hljs-attr">increment</span>: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> { state.<span class="hljs-property">count</span> += <span class="hljs-number">1</span> } }
})

<span class="hljs-comment">// ç»„ä»¶</span>
<span class="hljs-keyword">import</span> { useSelector, useDispatch } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-redux'</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> count = <span class="hljs-title function_">useSelector</span>(<span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">counter</span>.<span class="hljs-property">count</span>)
  <span class="hljs-keyword">const</span> dispatch = <span class="hljs-title function_">useDispatch</span>()
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> dispatch(increment())}&gt;
    {count}
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
}
</code></pre>
<p><strong>Zustandï¼ˆçº¦ 12 è¡Œï¼‰</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { create } <span class="hljs-keyword">from</span> <span class="hljs-string">'zustand'</span>
<span class="hljs-keyword">const</span> useStore = <span class="hljs-title function_">create</span>(<span class="hljs-function"><span class="hljs-params">set</span> =&gt;</span> ({
  <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">increment</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>(<span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> ({ <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> }))
}))

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { count, increment } = <span class="hljs-title function_">useStore</span>()
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{increment}</span>&gt;</span>{count}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
}
</code></pre>
<p><strong>@empjs/valtioï¼ˆçº¦ 7 è¡Œï¼‰</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { createStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@empjs/valtio'</span>
<span class="hljs-keyword">const</span> store = <span class="hljs-title function_">createStore</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> })

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> snap = store.<span class="hljs-title function_">useSnapshot</span>()
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> store.set('count', snap.count + 1)}&gt;
    {snap.count}
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
}
</code></pre>
<h3 data-id="heading-6">é‡åŒ–å¯¹æ¯”</h3>



































<table><thead><tr><th>æŒ‡æ ‡</th><th align="center">Redux Toolkit</th><th align="center">Zustand</th><th align="center">@empjs/valtio</th></tr></thead><tbody><tr><td><strong>ä»£ç è¡Œæ•°</strong></td><td align="center">~20 è¡Œ</td><td align="center">~12 è¡Œ</td><td align="center"><strong>~7 è¡Œ</strong></td></tr><tr><td><strong>éœ€è¦å®šä¹‰"åŠ¨ä½œ"</strong></td><td align="center">æ˜¯ï¼ˆreducerï¼‰</td><td align="center">æ˜¯ï¼ˆå‡½æ•°ï¼‰</td><td align="center"><strong>å¦</strong></td></tr><tr><td><strong>TypeScript ç±»å‹æ¨æ–­</strong></td><td align="center">éœ€æ‰‹å†™ RootState</td><td align="center">éœ€æ‰‹å†™æ³›å‹</td><td align="center"><strong>è‡ªåŠ¨æ¨å¯¼</strong></td></tr><tr><td><strong>æ·»åŠ æ’¤é”€/é‡åš</strong></td><td align="center">è£… redux-undo</td><td align="center">è‡ªå·±å®ç°</td><td align="center"><strong>1 è¡Œé…ç½®</strong></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-7">3. ä¸ºä»€ä¹ˆéœ€è¦å¢å¼ºç‰ˆï¼Ÿ</h2>
<h3 data-id="heading-8">åŸç‰ˆ Valtio çš„ä¼˜åŠ¿ä¸è¾¹ç•Œ</h3>
<p>åŸç‰ˆ Valtio åªæœ‰ä¸¤ä¸ªæ ¸å¿ƒ APIï¼š</p>
<ul>
<li><code>proxy(data)</code> â€” åˆ›å»ºå“åº”å¼å¯¹è±¡</li>
<li><code>useSnapshot(state)</code> â€” åœ¨ç»„ä»¶é‡Œè¯»å–æ•°æ®</li>
</ul>
<p>è¿™ç§æç®€ä¸»ä¹‰æ˜¯ä¼˜ç‚¹ä¹Ÿæ˜¯å±€é™ï¼š</p>
<p><strong>ä¼˜ç‚¹ï¼š</strong> å­¦ä¹ æˆæœ¬å‡ ä¹ä¸ºé›¶ï¼Œå†™èµ·æ¥æœ€è‡ªç„¶<br/>
<strong>å±€é™ï¼š</strong> ç”Ÿäº§ç¯å¢ƒéœ€è¦çš„"å·¥ç¨‹åŒ–èƒ½åŠ›"éƒ½è¦è‡ªå·±åŠ </p>
<h3 data-id="heading-9">åŸç‰ˆç¼ºå¤±çš„"æœ€åä¸€å…¬é‡Œ"</h3>



































<table><thead><tr><th>ç¼ºå¤±çš„èƒ½åŠ›</th><th>åŸç‰ˆæ–¹æ¡ˆ</th><th>@empjs/valtio æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><strong>ç»Ÿä¸€å†™å…¥å£</strong></td><td>è‡ªå·±å°è£… <code>set</code>/<code>update</code> å‡½æ•°</td><td><code>createStore</code> å†…å»º 17 ä¸ªæ–¹æ³•</td></tr><tr><td><strong>æ’¤é”€/é‡åš</strong></td><td>è£… <code>valtio-history</code> å¹¶æ‰‹åŠ¨æ¥å…¥</td><td><code>createStore({ history })</code> ä¸€è¡Œå¼€å¯</td></tr><tr><td><strong>è®¡ç®—å±æ€§</strong></td><td>è£… <code>derive-valtio</code> å¹¶é…ç½®</td><td><code>createStore({ derive })</code> è‡ªåŠ¨è®¡ç®—</td></tr><tr><td><strong>æœ¬åœ°å­˜å‚¨</strong></td><td>è‡ªå·±å†™ <code>localStorage</code> é€»è¾‘</td><td><code>store.persist('key')</code> ä¸€è¡Œæå®š</td></tr><tr><td><strong>å¤šå®ä¾‹éš”ç¦»</strong></td><td><code>useRef(proxy(...))</code> + æ‰‹åŠ¨æ¸…ç†</td><td><code>useStore(init)</code> è‡ªåŠ¨ç®¡ç†ç”Ÿå‘½å‘¨æœŸ</td></tr></tbody></table>
<h3 data-id="heading-10">å…¸å‹ç—›ç‚¹åœºæ™¯</h3>
<p><strong>åœºæ™¯ 1ï¼šæƒ³åŠ ä¸ª"æ’¤é”€"åŠŸèƒ½</strong></p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// åŸç‰ˆï¼šéœ€è¦å®‰è£…æ–°åŒ… + å¤šå¤„æ”¹é€ </span>
npm install valtio-history
import { proxyWithHistory } <span class="hljs-keyword">from</span> <span class="hljs-string">'valtio-history'</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">state</span> = <span class="hljs-title function_ invoke__">proxyWithHistory</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> })
<span class="hljs-comment">// ç„¶ååœ¨ç»„ä»¶é‡Œæ‰‹åŠ¨è°ƒ state.value.countã€state.undo()</span>

<span class="hljs-comment">// å¢å¼ºç‰ˆï¼šé…ç½®ä¸€ä¸‹å°±è¡Œ</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">store</span> = <span class="hljs-title function_ invoke__">createStore</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> }, { <span class="hljs-attr">history</span>: <span class="hljs-literal">true</span> })
snap.<span class="hljs-title function_ invoke__">undo</span>()  <span class="hljs-comment">// ç›´æ¥ç”¨</span>
</code></pre>
<p><strong>åœºæ™¯ 2ï¼šè¡¨å•éœ€è¦"å…¨å"è‡ªåŠ¨æ‹¼æ¥</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŸç‰ˆï¼šéœ€è¦è£… derive-valtio + å•ç‹¬ç»´æŠ¤æ´¾ç”Ÿé€»è¾‘</span>
npm install derive-valtio
<span class="hljs-keyword">import</span> { derive } <span class="hljs-keyword">from</span> <span class="hljs-string">'derive-valtio'</span>
<span class="hljs-keyword">const</span> derived = <span class="hljs-title function_">derive</span>({ <span class="hljs-attr">fullName</span>: <span class="hljs-function"><span class="hljs-params">get</span> =&gt;</span> ... })

<span class="hljs-comment">// å¢å¼ºç‰ˆï¼šå†™åœ¨é…ç½®é‡Œ</span>
<span class="hljs-keyword">const</span> store = <span class="hljs-title function_">createStore</span>(
  { <span class="hljs-attr">firstName</span>: <span class="hljs-string">''</span>, <span class="hljs-attr">lastName</span>: <span class="hljs-string">''</span> },
  {
    <span class="hljs-attr">derive</span>: <span class="hljs-function">(<span class="hljs-params">get, p</span>) =&gt;</span> ({
      <span class="hljs-attr">fullName</span>: <span class="hljs-string">`<span class="hljs-subst">${get(p).firstName}</span> <span class="hljs-subst">${get(p).lastName}</span>`</span>.<span class="hljs-title function_">trim</span>()
    })
  }
)
</code></pre>
<hr/>
<h2 data-id="heading-11">4. å®æˆ˜å¯¹æ¯”</h2>
<h3 data-id="heading-12">æ¡ˆä¾‹ï¼šç”¨æˆ·ä¿¡æ¯è¡¨å•ï¼ˆå¸¦æ’¤é”€ã€è®¡ç®—å±æ€§ã€æŒä¹…åŒ–ï¼‰</h3>
<p><strong>åŸç‰ˆ Valtioï¼ˆçº¦ 35 è¡Œï¼‰</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// â‘  å®‰è£…ä¾èµ–</span>
<span class="hljs-comment">// npm install valtio valtio-history derive-valtio</span>

<span class="hljs-comment">// â‘¡ åˆ›å»ºçŠ¶æ€</span>
<span class="hljs-keyword">import</span> { proxy } <span class="hljs-keyword">from</span> <span class="hljs-string">'valtio'</span>
<span class="hljs-keyword">import</span> { proxyWithHistory } <span class="hljs-keyword">from</span> <span class="hljs-string">'valtio-history'</span>
<span class="hljs-keyword">const</span> state = <span class="hljs-title function_">proxyWithHistory</span>({ <span class="hljs-attr">firstName</span>: <span class="hljs-string">''</span>, <span class="hljs-attr">lastName</span>: <span class="hljs-string">''</span> })

<span class="hljs-comment">// â‘¢ æ‰‹å†™æ´¾ç”Ÿé€»è¾‘</span>
<span class="hljs-keyword">import</span> { derive } <span class="hljs-keyword">from</span> <span class="hljs-string">'derive-valtio'</span>
<span class="hljs-keyword">const</span> derived = <span class="hljs-title function_">derive</span>({
  <span class="hljs-attr">fullName</span>: <span class="hljs-function"><span class="hljs-params">get</span> =&gt;</span> 
    <span class="hljs-string">`<span class="hljs-subst">${get(state.value).firstName}</span> <span class="hljs-subst">${get(state.value).lastName}</span>`</span>.<span class="hljs-title function_">trim</span>()
})

<span class="hljs-comment">// â‘£ æ‰‹å†™æŒä¹…åŒ–</span>
<span class="hljs-keyword">import</span> { useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> saved = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'user'</span>)
  <span class="hljs-keyword">if</span> (saved) <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(state.<span class="hljs-property">value</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(saved))
  <span class="hljs-keyword">const</span> unsub = <span class="hljs-title function_">subscribe</span>(state, <span class="hljs-function">() =&gt;</span> 
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'user'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(state.<span class="hljs-property">value</span>))
  )
  <span class="hljs-keyword">return</span> unsub
}, [])

<span class="hljs-comment">// â‘¤ ç»„ä»¶ä½¿ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Form</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> snap = <span class="hljs-title function_">useSnapshot</span>(state)
  <span class="hljs-keyword">const</span> derivedSnap = <span class="hljs-title function_">useSnapshot</span>(derived)
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{snap.value.firstName}</span> 
             <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> state.value.firstName = e.target.value} /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å…¨åï¼š{derivedSnap.fullName}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> snap.undo()}&gt;æ’¤é”€<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}
</code></pre>
<p><strong>@empjs/valtioï¼ˆçº¦ 18 è¡Œï¼‰</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// â‘  ä¸€æ¬¡æ€§é…ç½®</span>
<span class="hljs-keyword">import</span> { createStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@empjs/valtio'</span>

<span class="hljs-keyword">const</span> store = <span class="hljs-title function_">createStore</span>(
  { <span class="hljs-attr">firstName</span>: <span class="hljs-string">''</span>, <span class="hljs-attr">lastName</span>: <span class="hljs-string">''</span> },
  {
    <span class="hljs-attr">history</span>: { <span class="hljs-attr">limit</span>: <span class="hljs-number">50</span> },  <span class="hljs-comment">// æ’¤é”€åŠŸèƒ½</span>
    <span class="hljs-attr">derive</span>: <span class="hljs-function">(<span class="hljs-params">get, p</span>) =&gt;</span> ({    <span class="hljs-comment">// è®¡ç®—å±æ€§</span>
      <span class="hljs-attr">fullName</span>: <span class="hljs-string">`<span class="hljs-subst">${get(p).firstName}</span> <span class="hljs-subst">${get(p).lastName}</span>`</span>.<span class="hljs-title function_">trim</span>()
    })
  }
)
store.<span class="hljs-title function_">persist</span>(<span class="hljs-string">'user-form'</span>)   <span class="hljs-comment">// æŒä¹…åŒ–</span>

<span class="hljs-comment">// â‘¡ ç›´æ¥ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Form</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> snap = store.<span class="hljs-title function_">useSnapshot</span>()
  <span class="hljs-keyword">const</span> derived = store.<span class="hljs-property">derived</span>.<span class="hljs-title function_">useSnapshot</span>()
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{snap.value.firstName}</span>
             <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> store.value.firstName = e.target.value} /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å…¨åï¼š{derived.fullName}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> snap.undo()}&gt;æ’¤é”€<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}
</code></pre>
<h3 data-id="heading-13">ä»£ç é‡å¯¹æ¯”</h3>





























<table><thead><tr><th>ç»´åº¦</th><th align="center">åŸç‰ˆ</th><th align="center">å¢å¼ºç‰ˆ</th><th align="center">å‡å°‘</th></tr></thead><tbody><tr><td><strong>æ€»è¡Œæ•°</strong></td><td align="center">~35 è¡Œ</td><td align="center">~18 è¡Œ</td><td align="center"><strong>48%</strong></td></tr><tr><td><strong>éœ€è¦å®‰è£…çš„åŒ…</strong></td><td align="center">3 ä¸ª</td><td align="center">1 ä¸ª</td><td align="center"><strong>66%</strong></td></tr><tr><td><strong>æ¥å…¥æ­¥éª¤</strong></td><td align="center">5 æ­¥</td><td align="center">1 æ­¥</td><td align="center"><strong>80%</strong></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-14">5. è¯»å†™é“å¾‹</h2>
<blockquote>
<p><strong>è®°ä½ä¸€å¥è¯ï¼šè¯»ç”¨ snapï¼Œå†™ç”¨ storeã€‚</strong> è¿™ä¸æ˜¯ä»£ç é£æ ¼ï¼Œæ˜¯å“åº”å¼ç³»ç»Ÿçš„ç¡¬æ€§è¦æ±‚ã€‚</p>
</blockquote>
<h3 data-id="heading-15">ä¸ºä»€ä¹ˆæœ‰è¿™ä¸ªè§„åˆ™ï¼Ÿ</h3>
<p>Valtio çš„å“åº”å¼ä¾èµ– React çš„ <code>useSnapshot</code> æ¥æ”¶é›†"è°ç”¨äº†å“ªäº›å­—æ®µ"ã€‚ç›´æ¥è¯» <code>store.xxx</code> ä¸ä¼šè§¦å‘è¿™ä¸ªæ”¶é›†æœºåˆ¶ï¼Œç»„ä»¶å°±ä¸ä¼šåœ¨æ•°æ®å˜åŒ–æ—¶é‡æ–°æ¸²æŸ“ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šè¯» store ä¸ä¼šè§¦å‘é‡æ¸²æŸ“</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Bad</span>(<span class="hljs-params"/>) {
  store.<span class="hljs-title function_">useSnapshot</span>()  <span class="hljs-comment">// è™½ç„¶è°ƒäº† hookï¼Œä½†æ²¡ç”¨è¿”å›å€¼</span>
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{store.count}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span>  <span class="hljs-comment">// è¯»çš„æ˜¯ proxyï¼Œä¸æ˜¯ snap</span>
  <span class="hljs-comment">// ç»“æœï¼šcount å˜äº†ï¼Œé¡µé¢ä¸æ›´æ–°</span>
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šè¯» snapï¼Œå†™ store</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Good</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> snap = store.<span class="hljs-title function_">useSnapshot</span>()
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{snap.count}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>  {/* è¯» snap */}
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> store.set('count', snap.count + 1)}&gt;  {/* å†™ store */}
        +1
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}
</code></pre>
<h3 data-id="heading-16">å¸¦å†å²åŠŸèƒ½æ—¶çš„è§„åˆ™</h3>
<p>å¦‚æœå¼€å¯äº† <code>history</code> é…ç½®ï¼ŒçŠ¶æ€ä¼šè¢«åŒ…åœ¨ <code>.value</code> é‡Œï¼š</p>

























<table><thead><tr><th>æ“ä½œ</th><th>å†™æ³•</th></tr></thead><tbody><tr><td><strong>è¯»å½“å‰å€¼</strong></td><td><code>snap.value.firstName</code></td></tr><tr><td><strong>å†™å…¥æ–°å€¼</strong></td><td><code>store.value.firstName = 'Alice'</code></td></tr><tr><td><strong>æ’¤é”€</strong></td><td><code>snap.undo()</code></td></tr><tr><td><strong>é‡åš</strong></td><td><code>snap.redo()</code></td></tr></tbody></table>
<h3 data-id="heading-17">ç”¨ç±»å‹ä¿è¯ä¸çŠ¯é”™</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { <span class="hljs-keyword">type</span> <span class="hljs-title class_">EmpStore</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@empjs/valtio'</span>

<span class="hljs-keyword">const</span> initialState = { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">''</span> }
<span class="hljs-keyword">type</span> <span class="hljs-title class_">State</span> = <span class="hljs-keyword">typeof</span> initialState

<span class="hljs-comment">// å­ç»„ä»¶åªä¾èµ–è¿™ä¸ªç±»å‹ï¼ŒTypeScript ä¼šå¼ºåˆ¶ä½ ç”¨ store çš„æ–¹æ³•</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Store</span> = <span class="hljs-title class_">EmpStore</span>&lt;<span class="hljs-title class_">State</span>&gt;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">ChildComponent</span>(<span class="hljs-params">{ store }: { store: Store }</span>) {
  <span class="hljs-keyword">const</span> snap = store.<span class="hljs-title function_">useSnapshot</span>()
  <span class="hljs-comment">// snap.count = 1  // âŒ TypeScript æŠ¥é”™ï¼šsnap æ˜¯åªè¯»çš„</span>
  store.<span class="hljs-title function_">set</span>(<span class="hljs-string">'count'</span>, <span class="hljs-number">1</span>)  <span class="hljs-comment">// âœ… å¿…é¡»é€šè¿‡ store çš„æ–¹æ³•</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-18">6. å†…å»ºæ­¦å™¨åº“</h2>
<p><code>createStore</code> / <code>useStore</code> è¿”å›çš„å¯¹è±¡æœ‰ <strong>17 ä¸ªæ–¹æ³•</strong>ï¼Œåˆ†å››å¤§ç±»ï¼š</p>
<h3 data-id="heading-19">ğŸ“– è¯»å–ç±»ï¼ˆ3 ä¸ªï¼‰</h3>

























<table><thead><tr><th>æ–¹æ³•</th><th>ç”¨é€”</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>useSnapshot()</code></td><td>ç»„ä»¶å†…è¯»å–æ•°æ®ï¼ˆHookï¼‰</td><td><code>const snap = store.useSnapshot()</code></td></tr><tr><td><code>getSnapshot()</code></td><td>éç»„ä»¶åœºæ™¯è¯»å–ï¼ˆå¦‚å›è°ƒï¼‰</td><td><code>console.log(store.getSnapshot())</code></td></tr><tr><td><code>toJSON()</code></td><td>åºåˆ—åŒ–ä¸ºçº¯å¯¹è±¡</td><td><code>const data = store.toJSON()</code></td></tr></tbody></table>
<h3 data-id="heading-20">âœï¸ å†™å…¥ç±»ï¼ˆ6 ä¸ªï¼‰</h3>








































<table><thead><tr><th>æ–¹æ³•</th><th>ç”¨é€”</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>set(key, value)</code></td><td>æ”¹å•ä¸ªå­—æ®µ</td><td><code>store.set('count', 10)</code></td></tr><tr><td><code>update(partial)</code></td><td>æ‰¹é‡æ”¹å¤šä¸ªå­—æ®µ</td><td><code>store.update({ count: 10, name: 'Alice' })</code></td></tr><tr><td><code>setNested(path, value)</code></td><td>æ”¹æ·±å±‚è·¯å¾„</td><td><code>store.setNested('user.address.city', 'åŒ—äº¬')</code></td></tr><tr><td><code>delete(key)</code></td><td>åˆ é™¤æŸä¸ªå­—æ®µ</td><td><code>store.delete('tempData')</code></td></tr><tr><td><code>reset(state?)</code></td><td>é‡ç½®ä¸ºåˆå§‹çŠ¶æ€</td><td><code>store.reset()</code></td></tr><tr><td><code>fromJSON(json)</code></td><td>ä»å¯¹è±¡æ¢å¤çŠ¶æ€</td><td><code>store.fromJSON(savedData)</code></td></tr></tbody></table>
<h3 data-id="heading-21">ğŸ‘‚ è®¢é˜…ç±»ï¼ˆ3 ä¸ªï¼‰</h3>

























<table><thead><tr><th>æ–¹æ³•</th><th>ç”¨é€”</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>subscribe(fn)</code></td><td>ç›‘å¬æ‰€æœ‰å˜åŒ–</td><td><code>store.subscribe(() =&gt; console.log('å˜äº†'))</code></td></tr><tr><td><code>subscribeKey(key, fn)</code></td><td>åªç›‘å¬æŸä¸ªå­—æ®µ</td><td><code>store.subscribeKey('count', val =&gt; ...)</code></td></tr><tr><td><code>subscribeKeys(keys, fn)</code></td><td>ç›‘å¬å¤šä¸ªå­—æ®µ</td><td><code>store.subscribeKeys(['a', 'b'], ...)</code></td></tr></tbody></table>
<h3 data-id="heading-22">ğŸ”§ å·¥å…·ç±»ï¼ˆ5 ä¸ªï¼‰</h3>



































<table><thead><tr><th>æ–¹æ³•</th><th>ç”¨é€”</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>ref(value)</code></td><td>æ ‡è®°ä¸ºéå“åº”å¼ï¼ˆå¦‚ DOMï¼‰</td><td><code>store.set('dom', store.ref(divElement))</code></td></tr><tr><td><code>batch(fn)</code></td><td>æ‰¹é‡æ›´æ–°ï¼Œåªè§¦å‘ä¸€æ¬¡æ¸²æŸ“</td><td><code>store.batch(() =&gt; { ... })</code></td></tr><tr><td><code>clone()</code></td><td>æ·±æ‹·è´å½“å‰çŠ¶æ€</td><td><code>const copy = store.clone()</code></td></tr><tr><td><code>persist(key)</code></td><td>å¼€å¯ localStorage æŒä¹…åŒ–</td><td><code>store.persist('my-data')</code></td></tr><tr><td><code>debug()</code></td><td>åœ¨æ§åˆ¶å°æ‰“å°æ¯æ¬¡å˜æ›´</td><td><code>store.debug()</code></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-23">7. å…¨å±€ vs å±€éƒ¨</h2>
<h3 data-id="heading-24">ä»€ä¹ˆæ—¶å€™ç”¨ <code>createStore</code>ï¼ˆå…¨å±€å•ä¾‹ï¼‰ï¼Ÿ</h3>
<p><strong>ç‰¹å¾ï¼š</strong> æ•°æ®éœ€è¦è·¨ç»„ä»¶å…±äº«ï¼Œæ•´ä¸ªåº”ç”¨ç”Ÿå‘½å‘¨æœŸå†…åªæœ‰ä¸€ä»½</p>
<p><strong>å…¸å‹åœºæ™¯ï¼š</strong></p>
<ul>
<li>å½“å‰ç™»å½•ç”¨æˆ·ä¿¡æ¯</li>
<li>ä¸»é¢˜é…ç½®ï¼ˆæ·±è‰²/æµ…è‰²æ¨¡å¼ï¼‰</li>
<li>å…¨å±€åŠ è½½çŠ¶æ€</li>
<li>è´­ç‰©è½¦æ•°æ®</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åœ¨å•ç‹¬æ–‡ä»¶é‡Œåˆ›å»º</span>
<span class="hljs-keyword">import</span> { createStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@empjs/valtio'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> themeStore = <span class="hljs-title function_">createStore</span>({
  <span class="hljs-attr">mode</span>: <span class="hljs-string">'light'</span>,
  <span class="hljs-attr">primaryColor</span>: <span class="hljs-string">'#1890ff'</span>
})

<span class="hljs-comment">// ä»»ä½•ç»„ä»¶éƒ½å¯ä»¥ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Header</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> snap = themeStore.<span class="hljs-title function_">useSnapshot</span>()
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">background:</span> <span class="hljs-attr">snap.primaryColor</span> }}&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}
</code></pre>
<h3 data-id="heading-25">ä»€ä¹ˆæ—¶å€™ç”¨ <code>useStore</code>ï¼ˆæ¯å®ä¾‹ç‹¬ç«‹ï¼‰ï¼Ÿ</h3>
<p><strong>ç‰¹å¾ï¼š</strong> æ¯ä¸ªç»„ä»¶å®ä¾‹éœ€è¦è‡ªå·±çš„ç‹¬ç«‹çŠ¶æ€ï¼Œäº’ä¸å¹²æ‰°</p>
<p><strong>å…¸å‹åœºæ™¯ï¼š</strong></p>
<ul>
<li>è¡¨å•ï¼ˆé¡µé¢ä¸Šå¯èƒ½æœ‰å¤šä¸ªè¡¨å•ï¼‰</li>
<li>ä»£ç ç¼–è¾‘å™¨ï¼ˆæ¯ä¸ª Tab ä¸€ä¸ªç¼–è¾‘å™¨ï¼‰</li>
<li>ç”»æ¿å·¥å…·ï¼ˆå¤šç”»å¸ƒåœºæ™¯ï¼‰</li>
<li>è®¡æ•°å™¨ç»„ä»¶ï¼ˆåŒé¡µé¢å¤šä¸ªå®ä¾‹ï¼‰</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@empjs/valtio'</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">FormBlock</span>(<span class="hljs-params">{ initialLabel }: { initialLabel: string }</span>) {
  <span class="hljs-comment">// æ¯ä¸ª &lt;FormBlock&gt; å®ä¾‹éƒ½æœ‰è‡ªå·±çš„ store</span>
  <span class="hljs-keyword">const</span> [snap, store] = <span class="hljs-title function_">useStore</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">label</span>: initialLabel })
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{snap.label}: {snap.count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> store.set('count', snap.count + 1)}&gt;
        +1
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> store.reset()}&gt;é‡ç½®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-comment">// ä¸¤ä¸ªå®ä¾‹ï¼ŒçŠ¶æ€å®Œå…¨éš”ç¦»</span>
&lt;<span class="hljs-title class_">FormBlock</span> initialLabel=<span class="hljs-string">"è¡¨å• A"</span> /&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">FormBlock</span> <span class="hljs-attr">initialLabel</span>=<span class="hljs-string">"è¡¨å• B"</span> /&gt;</span></span>
</code></pre>
<h3 data-id="heading-26">æƒ°æ€§åˆå§‹åŒ–ï¼ˆé€‚åˆæ˜‚è´µè®¡ç®—ï¼‰</h3>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// ä¼ å‡½æ•°è€Œä¸æ˜¯å¯¹è±¡ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶æ‰æ‰§è¡Œ</span>
<span class="hljs-selector-tag">const</span> <span class="hljs-selector-attr">[snap, store]</span> = <span class="hljs-selector-tag">useStore</span>(() =&gt; ({
  <span class="hljs-attribute">data</span>: <span class="hljs-built_in">expensiveComputation</span>(),  <span class="hljs-comment">// åªåœ¨ç»„ä»¶æŒ‚è½½æ—¶ç®—ä¸€æ¬¡</span>
  <span class="hljs-attribute">timestamp</span>: Date.<span class="hljs-built_in">now</span>()
}))
</code></pre>
<hr/>
<h2 data-id="heading-27">8. å¾®å‰ç«¯åœºæ™¯</h2>
<h3 data-id="heading-28">ä¼ ç»Ÿæ–¹æ¡ˆçš„é—®é¢˜</h3>





















<table><thead><tr><th>æ–¹æ¡ˆ</th><th>é—®é¢˜</th></tr></thead><tbody><tr><td><strong>å…¨å±€å•ä¾‹</strong></td><td>å­åº”ç”¨å’Œä¸»åº”ç”¨ç‰ˆæœ¬ä¸ä¸€è‡´å°±ç‚¸ï¼Œæ„å»ºé¡ºåºæœ‰ä¾èµ–</td></tr><tr><td><strong>äº‹ä»¶æ€»çº¿</strong></td><td>ç±»å‹å¼±ï¼Œè°ƒè¯•å›°éš¾ï¼Œè¾¹ç•Œä¸æ¸…æ™°</td></tr><tr><td><strong>postMessage</strong></td><td>åªèƒ½ä¼ åºåˆ—åŒ–æ•°æ®ï¼Œä¸¢å¤±ç±»å‹å’Œæ–¹æ³•</td></tr></tbody></table>
<h3 data-id="heading-29">@empjs/valtio çš„æ–¹æ¡ˆï¼šå½“æ™®é€š prop ä¼ </h3>
<p><strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong> store æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œå¯ä»¥åƒä»»ä½• React props ä¸€æ ·ä¼ é€’</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ===== å…±äº«ç±»å‹å®šä¹‰ï¼ˆæ”¾åœ¨ç‹¬ç«‹çš„ npm åŒ…é‡Œï¼‰ =====</span>
<span class="hljs-keyword">import</span> { <span class="hljs-keyword">type</span> <span class="hljs-title class_">EmpStore</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@empjs/valtio'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> initialState = { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'shared'</span>, <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span> }
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">State</span> = <span class="hljs-keyword">typeof</span> initialState
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">SharedStore</span> = <span class="hljs-title class_">EmpStore</span>&lt;<span class="hljs-title class_">State</span>&gt;

<span class="hljs-comment">// ===== ä¸»åº”ç”¨ï¼ˆä¸»æœºï¼‰ =====</span>
<span class="hljs-keyword">import</span> { useStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@empjs/valtio'</span>
<span class="hljs-keyword">import</span> { initialState, <span class="hljs-keyword">type</span> <span class="hljs-title class_">SharedStore</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@my-company/shared-types'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">RemoteChild</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'remote-app/Child'</span>  <span class="hljs-comment">// Module Federation</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Host</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [snap, store] = useStore&lt;<span class="hljs-title class_">State</span>&gt;(initialState)
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ä¸»åº”ç”¨<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä¸»åº”ç”¨çš„è®¡æ•°ï¼š{snap.count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      
      {/* åƒæ™®é€š prop ä¸€æ ·ä¼ ç»™å­åº”ç”¨ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">RemoteChild</span> <span class="hljs-attr">store</span>=<span class="hljs-string">{store}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-comment">// ===== å­åº”ç”¨ï¼ˆç‹¬ç«‹æ„å»ºï¼Œç‹¬ç«‹éƒ¨ç½²ï¼‰ =====</span>
<span class="hljs-keyword">import</span> { <span class="hljs-keyword">type</span> <span class="hljs-title class_">SharedStore</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@my-company/shared-types'</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">RemoteChild</span>(<span class="hljs-params">{ store }: { store: SharedStore }</span>) {
  <span class="hljs-keyword">const</span> snap = store.<span class="hljs-title function_">useSnapshot</span>()
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å­åº”ç”¨<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>çœ‹åˆ°çš„ä¸»åº”ç”¨æ•°æ®ï¼š{snap.count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> store.set('count', snap.count + 1)}&gt;
        å­åº”ç”¨ä¹Ÿèƒ½æ”¹
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<h3 data-id="heading-30">ä¸ºä»€ä¹ˆè¿™æ ·å¥½ï¼Ÿ</h3>

























<table><thead><tr><th>ä¼˜åŠ¿</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>é›¶è€¦åˆ</strong></td><td>å­åº”ç”¨ä¸éœ€è¦çŸ¥é“ä¸»åº”ç”¨çš„è¿è¡Œæ—¶ï¼Œåªä¾èµ–ç±»å‹å®šä¹‰</td></tr><tr><td><strong>ç±»å‹å®‰å…¨</strong></td><td>TypeScript å…¨ç¨‹ä¿æŠ¤ï¼Œæ”¹äº†ç±»å‹å®šä¹‰ï¼ŒåŒæ–¹éƒ½èƒ½æ„ŸçŸ¥</td></tr><tr><td><strong>è°ƒè¯•ç®€å•</strong></td><td>å°±æ˜¯æ™®é€šçš„ propsï¼ŒReact DevTools ç›´æ¥èƒ½çœ‹</td></tr><tr><td><strong>ç‰ˆæœ¬ç‹¬ç«‹</strong></td><td>ä¸»åº”ç”¨å‡çº§ä¸å½±å“å­åº”ç”¨ï¼Œå­åº”ç”¨å¯ä»¥ç‹¬ç«‹å‘ç‰ˆ</td></tr></tbody></table>
<h3 data-id="heading-31">çŠ¶æ€å±‚æ¬¡ç¤ºæ„å›¾</h3>
<pre><code class="hljs language-css" lang="css">ä¸»åº”ç”¨
â”œâ”€â”€ å…¨å±€ storeï¼ˆcreateStoreï¼‰
â”‚   â”œâ”€â”€ ç”¨æˆ·ä¿¡æ¯
â”‚   â””â”€â”€ ä¸»é¢˜é…ç½®
â”‚       â””â”€â”€ é€šè¿‡ props ä¼ ç»™å­åº”ç”¨ â”€â”€â”
â”‚                                   â†“
â””â”€â”€ å­åº”ç”¨ <span class="hljs-selector-tag">A</span>                     æ¥æ”¶ store
    â”œâ”€â”€ ä½¿ç”¨ä¸»åº”ç”¨çš„ storeï¼ˆå…±äº«çŠ¶æ€ï¼‰
    â””â”€â”€ è‡ªå·±çš„ storeï¼ˆuseStoreï¼‰
        â”œâ”€â”€ è¡¨å•æ•°æ®ï¼ˆå±€éƒ¨ï¼‰
        â””â”€â”€ ç¼–è¾‘å™¨çŠ¶æ€ï¼ˆå±€éƒ¨ï¼‰
</code></pre>
<hr/>
<h2 data-id="heading-32">9. é¿å‘æŒ‡å—</h2>
<h3 data-id="heading-33">âŒ é”™è¯¯ 1ï¼šè¯» store è€Œä¸æ˜¯ snap</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é”™è¯¯</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Bad</span>(<span class="hljs-params"/>) {
  store.<span class="hljs-title function_">useSnapshot</span>()  <span class="hljs-comment">// è™½ç„¶è°ƒäº†ï¼Œä½†æ²¡ç”¨è¿”å›å€¼</span>
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{store.count}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span>  <span class="hljs-comment">// ä¸ä¼šè§¦å‘é‡æ¸²æŸ“</span>
}

<span class="hljs-comment">// æ­£ç¡®</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Good</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> snap = store.<span class="hljs-title function_">useSnapshot</span>()
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{snap.count}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span>
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆé”™ï¼š</strong> Valtio çš„å“åº”å¼æœºåˆ¶ä¾èµ– <code>useSnapshot</code> çš„è¿”å›å€¼æ¥è¿½è¸ª"è°è¯»äº†å“ªäº›å­—æ®µ"ï¼Œç›´æ¥è¯» <code>store</code> ä¸ä¼šè¢«è¿½è¸ªã€‚</p>
<h3 data-id="heading-34">âŒ é”™è¯¯ 2ï¼šé”®åå’Œæ–¹æ³•é‡å</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// é”™è¯¯ï¼šé”®åå« setï¼Œå’Œ store.set() å†²çª</span>
<span class="hljs-keyword">const</span> store = createStore({
  <span class="hljs-keyword">set</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>(),  <span class="hljs-comment">// âŒ å†²çªï¼</span>
  update: <span class="hljs-number">123</span>      <span class="hljs-comment">// âŒ ä¹Ÿå†²çªï¼</span>
})

<span class="hljs-comment">// æ­£ç¡®ï¼šæ¢ä¸ªåå­—</span>
<span class="hljs-keyword">const</span> store = createStore({
  tagSet: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>(),  <span class="hljs-comment">// âœ…</span>
  version: <span class="hljs-number">123</span>        <span class="hljs-comment">// âœ…</span>
})
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆé”™ï¼š</strong> <code>store.set</code> / <code>store.update</code> æ˜¯å†…å»ºæ–¹æ³•ï¼Œç”¨åŒåé”®ä¼šè¢«è¦†ç›–ã€‚</p>
<h3 data-id="heading-35">âŒ é”™è¯¯ 3ï¼šä¼ é proxy å¯¹è±¡ç»™ useSnapshot</h3>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// é”™è¯¯</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">plainObj</span> = { count: <span class="hljs-number">0</span> }
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">snap</span> = <span class="hljs-title function_ invoke__">useSnapshot</span>(plainObj)  <span class="hljs-comment">// âŒ æŠ¥é”™</span>

<span class="hljs-comment">// æ­£ç¡®</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">store</span> = <span class="hljs-title function_ invoke__">createStore</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> })
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">snap</span> = store.<span class="hljs-title function_ invoke__">useSnapshot</span>()  <span class="hljs-comment">// âœ…</span>
</code></pre>
<p><strong>æŠ¥é”™ä¿¡æ¯ï¼š</strong> "Please use proxy object"</p>
<h3 data-id="heading-36">âŒ é”™è¯¯ 4ï¼šåœ¨ derive é‡Œå†™å‰¯ä½œç”¨</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// é”™è¯¯</span>
<span class="hljs-keyword">const</span> store = createStore(
  { a: <span class="hljs-number">1</span>, b: <span class="hljs-number">2</span> },
  {
    derive: (<span class="hljs-keyword">get</span>, p) =&gt; {
      console.log(<span class="hljs-string">'è®¡ç®—ä¸­'</span>)  <span class="hljs-comment">// âŒ å‰¯ä½œç”¨</span>
      fetch(<span class="hljs-string">'/api'</span>)          <span class="hljs-comment">// âŒ å¼‚æ­¥è¯·æ±‚</span>
      <span class="hljs-keyword">return</span> { sum: <span class="hljs-keyword">get</span>(p).a + <span class="hljs-keyword">get</span>(p).b }
    }
  }
)

<span class="hljs-comment">// æ­£ç¡®</span>
<span class="hljs-keyword">const</span> store = createStore(
  { a: <span class="hljs-number">1</span>, b: <span class="hljs-number">2</span> },
  {
    derive: (<span class="hljs-keyword">get</span>, p) =&gt; ({
      sum: <span class="hljs-keyword">get</span>(p).a + <span class="hljs-keyword">get</span>(p).b  <span class="hljs-comment">// âœ… çº¯è®¡ç®—</span>
    })
  }
)
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆé”™ï¼š</strong> <code>derive</code> ä¼šè¢«é¢‘ç¹è°ƒç”¨ï¼ˆæ¯æ¬¡ä¾èµ–å˜åŒ–éƒ½è°ƒï¼‰ï¼Œå‰¯ä½œç”¨ä¼šé‡å¤æ‰§è¡Œä¸”éš¾ä»¥æ§åˆ¶ã€‚</p>
<h3 data-id="heading-37">âŒ é”™è¯¯ 5ï¼šå¿˜è®° .valueï¼ˆå¼€å¯å†å²åŠŸèƒ½æ—¶ï¼‰</h3>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// å¼€å¯å†å²åï¼ŒçŠ¶æ€è¢«åŒ…åœ¨ .value é‡Œ</span>
<span class="hljs-type">const</span> store = <span class="hljs-built_in">createStore</span>({ count: <span class="hljs-number">0</span> }, { history: <span class="hljs-literal">true</span> })

<span class="hljs-comment">// é”™è¯¯</span>
<span class="hljs-type">const</span> snap = store.<span class="hljs-built_in">useSnapshot</span>()
console.<span class="hljs-built_in">log</span>(snap.count)  <span class="hljs-comment">// âŒ undefined</span>

<span class="hljs-comment">// æ­£ç¡®</span>
<span class="hljs-type">const</span> snap = store.<span class="hljs-built_in">useSnapshot</span>()
console.<span class="hljs-built_in">log</span>(snap.value.count)  <span class="hljs-comment">// âœ…</span>
store.value.count++             <span class="hljs-comment">// âœ… å†™å…¥ä¹Ÿè¦åŠ  .value</span>
</code></pre>
<hr/>
<h2 data-id="heading-38">10. å¿«é€Ÿå†³ç­–è¡¨</h2>























































<table><thead><tr><th>ä½ çš„åœºæ™¯</th><th>æ¨èæ–¹æ¡ˆ</th><th>ç¤ºä¾‹ä»£ç </th></tr></thead><tbody><tr><td><strong>å…¨å±€é…ç½®ï¼ˆä¸»é¢˜/è¯­è¨€/ç”¨æˆ·ï¼‰</strong></td><td><code>createStore</code></td><td><code>const themeStore = createStore({ mode: 'light' })</code></td></tr><tr><td><strong>å¤šä¸ªç‹¬ç«‹è¡¨å•</strong></td><td><code>useStore</code></td><td><code>const [snap, store] = useStore({ name: '' })</code></td></tr><tr><td><strong>éœ€è¦æ’¤é”€/é‡åš</strong></td><td><code>createStore</code> + <code>history</code></td><td><code>createStore(init, { history: { limit: 50 } })</code></td></tr><tr><td><strong>éœ€è¦è®¡ç®—å±æ€§ï¼ˆå¦‚å…¨åï¼‰</strong></td><td><code>createStore</code> + <code>derive</code></td><td><code>createStore(init, { derive: (get, p) =&gt; ({ ... }) })</code></td></tr><tr><td><strong>éœ€è¦æœ¬åœ°æŒä¹…åŒ–</strong></td><td>ä»»æ„ store + <code>.persist()</code></td><td><code>store.persist('my-data-key')</code></td></tr><tr><td><strong>å¾®å‰ç«¯ï¼šä¸»åº”ç”¨ â†’ å­åº”ç”¨</strong></td><td>ä¸»åº”ç”¨ <code>useStore</code>ï¼Œprops ä¼ å…¥</td><td><code>&lt;RemoteChild store={store} /&gt;</code></td></tr><tr><td><strong>å¾®å‰ç«¯ï¼šå­åº”ç”¨å†…éƒ¨</strong></td><td>å­åº”ç”¨è‡ªè¡Œ <code>useStore</code></td><td>ä¸ä¸»åº”ç”¨å®Œå…¨éš”ç¦»</td></tr><tr><td><strong>æ‰¹é‡æ›´æ–°é¿å…å¤šæ¬¡æ¸²æŸ“</strong></td><td><code>store.batch()</code></td><td><code>store.batch(() =&gt; { store.set(...); store.set(...) })</code></td></tr><tr><td><strong>è¡¨å•å¤šæ¬¡æ”¹å€¼å¡é¡¿</strong></td><td><code>store.batch()</code></td><td>è¾“å…¥æ¡† onChange é‡ŒåŒ…ä¸€å±‚ batch</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-39">æ€»ç»“ï¼šä¸‰å¥è¯è®°ä½ @empjs/valtio</h2>
<ol>
<li><strong>åƒ Vue ä¸€æ ·å†™ React çŠ¶æ€</strong> â€”â€” <code>state.count++</code> å°±èƒ½è‡ªåŠ¨æ›´æ–° UI</li>
<li><strong>ä» 4~5 æ­¥ç®€åŒ–åˆ° 1 æ­¥</strong> â€”â€” å†å²ã€è®¡ç®—å±æ€§ã€æŒä¹…åŒ–éƒ½æ˜¯ä¸€è¡Œé…ç½®</li>
<li><strong>å¾®å‰ç«¯å‹å¥½</strong> â€”â€” store å½“æ™®é€š props ä¼ ï¼Œæ— éœ€å…¨å±€å•ä¾‹å’Œäº‹ä»¶æ€»çº¿</li>
</ol>
<hr/>
<p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p>
<ul>
<li>ğŸ“š å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fvaltio.empjs.dev%2F" target="_blank" title="https://valtio.empjs.dev/" ref="nofollow noopener noreferrer">valtio.empjs.dev</a></li>
<li>ğŸ”§ API æ‰‹å†Œï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fvaltio.empjs.dev%2Fmanual" target="_blank" title="https://valtio.empjs.dev/manual" ref="nofollow noopener noreferrer">valtio.empjs.dev/manual</a></li>
<li>ğŸ™ GitHubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FefoxTeam%2Femp%2Ftree%2Fmain%2Fpackages%2Fvaltio" target="_blank" title="https://github.com/efoxTeam/emp/tree/main/packages/valtio" ref="nofollow noopener noreferrer">@empjs/valtio</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[PHP ç°åœ¨å¯ä»¥é›¶æˆæœ¬æ„å»ºåŸç”Ÿ iOS å’Œ Android åº”ç”¨ NativePHP for Mobile v3 å‘å¸ƒ]]></title>    <link>https://juejin.cn/post/7601843004958359598</link>    <guid>https://juejin.cn/post/7601843004958359598</guid>    <pubDate>2026-02-01T23:46:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601843004958359598" data-draft-id="7601444617695608842" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="PHP ç°åœ¨å¯ä»¥é›¶æˆæœ¬æ„å»ºåŸç”Ÿ iOS å’Œ Android åº”ç”¨ NativePHP for Mobile v3 å‘å¸ƒ"/> <meta itemprop="keywords" content="åç«¯,PHP"/> <meta itemprop="datePublished" content="2026-02-01T23:46:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BingoGo"/> <meta itemprop="url" content="https://juejin.cn/user/993614242266077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            PHP ç°åœ¨å¯ä»¥é›¶æˆæœ¬æ„å»ºåŸç”Ÿ iOS å’Œ Android åº”ç”¨ NativePHP for Mobile v3 å‘å¸ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/993614242266077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BingoGo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-01T23:46:49.000Z" title="Sun Feb 01 2026 23:46:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">PHP ç°åœ¨å¯ä»¥é›¶æˆæœ¬æ„å»ºåŸç”Ÿ iOS å’Œ Android åº”ç”¨ NativePHP for Mobile v3 å‘å¸ƒ</h2>
<p>NativePHP for Mobile ä» v3 ç‰ˆæœ¬å¼€å§‹ï¼Œæ ¸å¿ƒæ¡†æ¶é‡‡ç”¨ MIT åè®®å…è´¹å¼€æºã€‚Laravel/PHP å¼€å‘è€…ç°åœ¨å¯ä»¥é›¶æˆæœ¬æ„å»ºåŸç”Ÿ iOS å’Œ Android åº”ç”¨ã€‚</p>
<p>å¦‚æœä½¿ç”¨ nativePHP å¼€å‘ç§»åŠ¨åº”ç”¨çš„è¯ï¼Œå¯ä»¥çœ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fnativephp-doc.catchadmin.com" target="_blank" title="https://nativephp-doc.catchadmin.com" ref="nofollow noopener noreferrer">nativephp mobile v3 ä¸­æ–‡æ–‡æ¡£</a></p>
<h3 data-id="heading-1">æ’ä»¶åŒ–æ¶æ„</h3>
<p>v3 ç‰ˆæœ¬æœ€å¤§çš„å˜åŒ–æ˜¯å¼•å…¥äº†æ¨¡å—åŒ–æ’ä»¶ç³»ç»Ÿã€‚æ­¤å‰ç‰ˆæœ¬ä¸­é›†æˆåœ¨æ ¸å¿ƒåŒ…é‡Œçš„åŸç”ŸåŠŸèƒ½ï¼Œç°åœ¨è¢«æ‹†åˆ†æˆç‹¬ç«‹çš„æ’ä»¶ã€‚</p>
<p>æ¯ä¸ªæ’ä»¶éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ Composer åŒ…ï¼ŒåŒ…å« Swift å’Œ Kotlin ä»£ç ã€æƒé™æ¸…å•ä»¥åŠåŸç”Ÿä¾èµ–ã€‚å¼€å‘è€…åªéœ€å®‰è£…å®é™…ç”¨åˆ°çš„æ’ä»¶ï¼Œè¿™äº›æ’ä»¶ä¼šåœ¨æ„å»ºè¿‡ç¨‹ä¸­ç›´æ¥ç¼–è¯‘è¿›åº”ç”¨ã€‚</p>
<p>æ’ä»¶å®‰è£…éå¸¸ç®€å•ï¼Œé€šè¿‡ <code>composer require</code> å®‰è£…åŒ…åï¼Œåœ¨ <code>NativeServiceProvider</code> ä¸­æ³¨å†Œå³å¯ã€‚åªæœ‰æ³¨å†Œçš„æ’ä»¶æ‰ä¼šè¢«ç¼–è¯‘è¿›æœ€ç»ˆçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¿™æ ·å¯ä»¥ä¿æŒåº”ç”¨ä½“ç§¯ç²¾ç®€ï¼Œä¹Ÿæœ‰åŠ©äºé€šè¿‡åº”ç”¨å•†åº—å®¡æ ¸ã€‚</p>
<h4 data-id="heading-2">åˆ›å»ºæ’ä»¶</h4>
<p>æ’ä»¶æœ¬è´¨ä¸Šå°±æ˜¯ Composer åŒ…ï¼Œåªæ˜¯å¤šäº†ä¸€äº›é¢å¤–é…ç½®ã€‚é€šè¿‡æ·»åŠ  <code>nativephp.json</code> æ–‡ä»¶ï¼Œå¼€å‘è€…å¯ä»¥å®šä¹‰ PHP ç±»ã€è§†å›¾æ–‡ä»¶ã€æ¡¥æ¥å‡½æ•°ã€åŸç”Ÿä¾èµ–ï¼ˆCocoaPodsã€Swift Packagesã€Gradleï¼‰ã€æƒé™å£°æ˜ã€JavaScript æ–‡ä»¶ç­‰ã€‚</p>
<p>NativePHP æ ¸å¿ƒæä¾›äº†æ„å»ºé’©å­ã€ç”Ÿå‘½å‘¨æœŸé’©å­ã€æœåŠ¡æä¾›è€…æ³¨å†Œç­‰æœºåˆ¶ï¼Œè®©æ’ä»¶å¼€å‘ä½“éªŒæ›´åŠ é¡ºç•…ã€‚</p>
<p>æ’ä»¶å¯ä»¥å‘å¸ƒåˆ° Packagistï¼Œä¹Ÿå¯ä»¥ä½œä¸ºé¡¹ç›®å†…éƒ¨ä»£ç ä½¿ç”¨ï¼Œæ— éœ€å‘å¸ƒåˆ°å…¬å…±ä»“åº“ã€‚è¿™æ„å‘³ç€åº”ç”¨çš„ Laravel ä»£ç åº“å¯ä»¥åŒ…å«æ„å»ºåŸç”Ÿåº”ç”¨æ‰€éœ€çš„ä¸€åˆ‡ã€‚</p>
<h3 data-id="heading-3">å…è´¹æ ¸å¿ƒ</h3>
<p>æ–°æ¶æ„å°†æ ¸å¿ƒåŒ…ç²¾ç®€åˆ°æœ€å°åŒ–ï¼Œåº”ç”¨åªéœ€åŒ…å«å®é™…ä½¿ç”¨çš„åŠŸèƒ½ã€‚è¿™è®©åº”ç”¨é»˜è®¤å°±æ›´å°ã€æ›´é«˜æ•ˆï¼Œä¹Ÿé¿å…äº†åº”ç”¨å•†åº—å®¡æ ¸æ—¶å› åŒ…å«æœªä½¿ç”¨åŠŸèƒ½è€Œè¢«æ‹’çš„é—®é¢˜ã€‚</p>
<p>NativePHP å›¢é˜Ÿå°† v3 ç‰ˆæœ¬å‘½åä¸º NativePHP Airï¼Œå¹¶å°†å…¶è½¬ä¸º MIT å¼€æºåè®®ã€‚v3 ä¹‹å‰çš„ç‰ˆæœ¬ä»ç„¶éµå¾ªåŸæœ‰çš„ Business Source Licenseã€‚</p>
<p>æ ¸å¿ƒæ¡†æ¶å¼€æºåï¼Œç¤¾åŒºå¯ä»¥å‚ä¸è´¡çŒ®ï¼Œå›¢é˜Ÿæ¬¢è¿é’ˆå¯¹ iOS å’Œ Android æ ¸å¿ƒåº”ç”¨çš„ PRã€‚</p>
<h4 data-id="heading-4">å…è´¹æ’ä»¶</h4>
<p>ä»¥ä¸‹æ’ä»¶å®Œå…¨å…è´¹å¼€æºï¼ˆMIT åè®®ï¼‰ï¼š</p>
<ul>
<li><strong>Browser</strong> - æµè§ˆå™¨åŠŸèƒ½</li>
<li><strong>Camera</strong> - ç›¸æœºè°ƒç”¨</li>
<li><strong>Device</strong> - è®¾å¤‡ä¿¡æ¯è·å–</li>
<li><strong>Dialog</strong> - åŸç”Ÿå¯¹è¯æ¡†</li>
<li><strong>File</strong> - æ–‡ä»¶æ“ä½œ</li>
<li><strong>Microphone</strong> - éº¦å…‹é£è°ƒç”¨</li>
<li><strong>Network</strong> - ç½‘ç»œçŠ¶æ€æ£€æµ‹</li>
<li><strong>Share</strong> - ç³»ç»Ÿåˆ†äº«åŠŸèƒ½</li>
<li><strong>System</strong> - ç³»ç»Ÿä¿¡æ¯</li>
</ul>
<h4 data-id="heading-5">ä»˜è´¹æ’ä»¶</h4>
<p>ä»¥ä¸‹åŠŸèƒ½éœ€è¦å•ç‹¬è´­ä¹°æ’ä»¶ï¼ˆä¸€æ¬¡æ€§ä»˜è´¹ï¼Œå¯ç”¨äºæ— é™é¡¹ç›®ï¼‰ï¼š</p>
<ul>
<li><strong>Biometrics</strong> - ç”Ÿç‰©è¯†åˆ«ï¼ˆFace IDã€æŒ‡çº¹ï¼‰</li>
<li><strong>Geolocation</strong> - åœ°ç†ä½ç½®</li>
<li><strong>Push Notifications</strong> - æ¨é€é€šçŸ¥ï¼ˆåŸºäº Firebaseï¼‰</li>
<li><strong>Scanner</strong> - æ‰«æå™¨</li>
<li><strong>Secure Storage</strong> - å®‰å…¨å­˜å‚¨</li>
</ul>
<h3 data-id="heading-6">æ’ä»¶å¸‚åœº</h3>
<p>æ’ä»¶å¸‚åœºï¼ˆPlugin Marketplaceï¼‰å°†æ‰€æœ‰ NativePHP æ’ä»¶é›†ä¸­å±•ç¤ºï¼Œå¼€å‘è€…å¯ä»¥å‘ç°å…è´¹å’Œä»˜è´¹æ’ä»¶ã€‚</p>
<p>æœªæ¥å‡ å‘¨ï¼Œå¸‚åœºå°†å‘ç¬¬ä¸‰æ–¹å¼€å‘è€…å¼€æ”¾ï¼Œå±Šæ—¶å¼€å‘è€…å¯ä»¥åœ¨ nativephp.com ä¸Šæ¶è‡ªå·±çš„æ’ä»¶ï¼Œç”šè‡³å¯ä»¥é”€å”®è‡ªå·±å¼€å‘çš„æ’ä»¶ã€‚ä¾‹å¦‚ç›¸æœºæ»¤é•œæ’ä»¶ã€æ”¯ä»˜ç½‘å…³é›†æˆã€ç¤¾äº¤ç™»å½•åŒ…ç­‰ã€‚</p>
<h3 data-id="heading-7">Jumpï¼šå³æ—¶è®¾å¤‡æµ‹è¯•</h3>
<p>åœ¨çœŸæœºä¸Šæµ‹è¯•åº”ç”¨é€šå¸¸æ˜¯ä¸€ä¸ªç¼“æ…¢ä¸”ç¹ççš„è¿‡ç¨‹ï¼Œéœ€è¦å®‰è£…æ•° GB çš„è½¯ä»¶ã€æ¨¡æ‹Ÿå™¨å’Œæ¡†æ¶ã€‚è€Œä¸”ï¼Œæ²¡æœ‰ Mac å°±æ— æ³•ä¸º iPhone æ„å»ºå’Œæµ‹è¯•åº”ç”¨ã€‚</p>
<p>Jump æ”¹å˜äº†è¿™ä¸€åˆ‡ã€‚</p>
<p>Jump æ˜¯ä¸€ä¸ªå®‰è£…åœ¨æ‰‹æœºä¸Šçš„åº”ç”¨ï¼ˆæ”¯æŒ Android å’Œ iOSï¼‰ï¼Œå¯ä»¥åœ¨çœŸæœºä¸Šæµ‹è¯• NativePHP åº”ç”¨ï¼Œæ— éœ€ç¼–è¯‘ä»»ä½•ä¸œè¥¿ï¼Œä¹Ÿä¸éœ€è¦å¼€å¯å¼€å‘è€…æ¨¡å¼ã€‚</p>
<p>åªéœ€è¿è¡Œ <code>native:jump</code> Artisan å‘½ä»¤ï¼Œæ‰“å¼€æ‰‹æœºä¸Šçš„ Jump åº”ç”¨æ‰«æäºŒç»´ç ï¼ŒLaravel åº”ç”¨å°±ä¼šç›´æ¥åŠ è½½åˆ°è®¾å¤‡ä¸Šï¼Œè¿æ¥åˆ°æœ¬åœ°å¼€å‘æœåŠ¡å™¨ã€‚</p>
<pre><code class="hljs language-shell" lang="shell">php artisan native:jump
<span class="hljs-meta prompt_">
# </span><span class="bash">æˆ–è€…</span>

./native jump
</code></pre>
<p>NativePHP æ„å»ºé€Ÿåº¦å¾ˆå¿«ï¼Œæœ¬åœ°å¼€å‘ç¯å¢ƒçš„æ”¹åŠ¨å‡ ä¹å¯ä»¥å®æ—¶åæ˜ åˆ°è®¾å¤‡ä¸Šã€‚æœªæ¥è¿˜è®¡åˆ’æ”¯æŒå®Œæ•´çš„ HMRï¼ˆçƒ­æ¨¡å—æ›¿æ¢ï¼‰ã€‚</p>
<p>Jump åº”ç”¨å®Œå…¨å…è´¹ï¼Œ<code>nativephp/mobile</code> v3 å·²åŒ…å«è¿è¡Œ Jump æ‰€éœ€çš„ä¸€åˆ‡ã€‚</p>
<p>Jump åŒ…å«æ‰€æœ‰å®˜æ–¹ NativePHP æ’ä»¶ï¼ˆåŒ…æ‹¬ä»˜è´¹æ’ä»¶ï¼‰ï¼Œå¼€å‘è€…å¯ä»¥å…è´¹è¯•ç”¨å’Œå­¦ä¹ æ‰€æœ‰åŠŸèƒ½ã€‚å”¯ä¸€çš„é™åˆ¶æ˜¯ Jump æ— æ³•æµ‹è¯•ç¬¬ä¸‰æ–¹æ’ä»¶ã€‚</p>
<h3 data-id="heading-8">Mimiï¼šAI è¾…åŠ©ç¼–ç </h3>
<p>Mimiï¼ˆå–è‡ªåŒ—æ¬§æ™ºæ…§ä¹‹ç¥ Mimirï¼‰æ˜¯ NativePHP æä¾›çš„ AI è¾…åŠ©ç¼–ç åŠŸèƒ½ï¼Œå¯ä»¥è®© AI æ¨¡å‹å¸®åŠ©ç¼–å†™ NativePHP åº”ç”¨ï¼š</p>
<ul>
<li>ç›´æ¥åœ¨æµè§ˆå™¨ä¸­åˆ›å»ºæ–°çš„ NativePHP é¡¹ç›®ï¼ˆç§»åŠ¨ç«¯ä¹Ÿå¯ä»¥ï¼‰</li>
<li>ç”¨è‡ªç„¶è¯­è¨€æè¿°æƒ³è¦æ„å»ºçš„å†…å®¹ï¼Œæ”¯æŒè¯­éŸ³è¾“å…¥</li>
<li>ç›´æ¥åœ¨ Jump ä¸­æµ‹è¯•åº”ç”¨</li>
<li>è¿æ¥ GitHub ä»“åº“ï¼Œç«‹å³è·å–æ‰€æœ‰åº”ç”¨ä»£ç </li>
</ul>
<p>è¿™æ˜¯ä»æƒ³æ³•åˆ°å¯è¿è¡Œç§»åŠ¨åº”ç”¨çš„æœ€å¿«è·¯å¾„ï¼Œå®Œå…¨åŸºäº Laravelã€‚</p>
<h3 data-id="heading-9">å‡çº§æŒ‡å—</h3>
<p>å¦‚æœå·²ç»å®‰è£…äº† <code>nativephp/mobile</code>ï¼Œå‡çº§åˆ° v3 çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>ä» <code>composer.json</code> ä¸­ç§»é™¤ NativePHP ä»“åº“ï¼ˆ<code>https://nativephp.composer.sh</code>ï¼‰</li>
<li>è¿è¡Œ <code>composer remove nativephp/mobile</code> å¸è½½æ—§ç‰ˆæœ¬</li>
<li>è¿è¡Œ <code>composer require nativephp/mobile</code> ä» Packagist å®‰è£… v3</li>
<li>å®‰è£…åº”ç”¨ä¸­ä½¿ç”¨çš„åŠŸèƒ½å¯¹åº”çš„æ’ä»¶</li>
</ol>
<p>é™¤äº†æ³¨å†Œæ–°æ’ä»¶å¤–ï¼Œåº”ç”¨ä»£ç åŸºæœ¬ä¸éœ€è¦ä¿®æ”¹ã€‚å®‰è£…æ’ä»¶åå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ³¨å†Œï¼š</p>
<pre><code class="hljs language-shell" lang="shell">php artisan native:plugin:register vendor/plugin
<span class="hljs-meta prompt_">
# </span><span class="bash">æˆ–è€…</span>

./native plugin:register vendor/plugin
</code></pre>
<h3 data-id="heading-10">å¿«é€Ÿå¼€å§‹</h3>
<p>NativePHP for Mobile v3 ç°å·²å‘å¸ƒã€‚åœ¨æ‰‹æœºä¸Šå®‰è£… Jumpï¼Œç„¶ååœ¨å¼€å‘ç¯å¢ƒä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">laravel new my-mobile-app
cd my-mobile-app
composer require nativephp/mobile
php artisan native:jump
</code></pre>
<p>è¿™é‡Œé¢æœ‰å‡ ä¸ªå°å‘</p>
<ul>
<li>PHP è¦æ±‚ <code>&gt;=8.3</code></li>
<li>åœ¨ windows ä¸Šæµ‹è¯•ï¼Œéœ€è¦å…ˆå®‰è£… <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.7-zip.org%2F" target="_blank" title="https://www.7-zip.org/" ref="nofollow noopener noreferrer">7-zip</a></li>
<li>æˆ‘åœ¨ IOS æ‰‹æœºæµ‹è¯•å¾—ï¼Œä½¿ç”¨ <code>php artisan native:jump</code> ä¹‹åä¼šå¼¹å‡ºä¸€ä¸ªäºŒç»´ç ï¼Œç”¨æ‰‹æœºä¸Šçš„ Jump æ‰«æå³å¯ã€‚è¿™ä¸ª Jump ç›®å‰åªèƒ½åœ¨ <code>TestFlight</code> ä¸Šå®‰è£…ï¼Œæ‰“å¼€è¿™ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Ftestflight.apple.com%2Fjoin%2FRuzFs4rJ" target="_blank" title="https://testflight.apple.com/join/RuzFs4rJ" ref="nofollow noopener noreferrer">å®‰è£…é“¾æ¥</a>å³å¯ã€‚</li>
</ul>
<p>å¾ˆå®Œç¾ï¼Œè‡³å°‘ä»å®‰è£…ä¸Šåˆ°æµ‹è¯•æ•ˆæœéƒ½å¾ˆå¿«äº†ã€‚æ•ˆæœå›¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://image.catchadmin.com/202602011330904.png" alt="Laravel ç°åœ¨å¯ä»¥é›¶æˆæœ¬æ„å»ºåŸç”Ÿ iOS å’Œ Android åº”ç”¨ NativePHP for Mobile v3 å‘å¸ƒ" loading="lazy"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcatchadmin.com%2Fpost%2F2026-02%2Fnativephp-mobile-free" target="_blank" title="https://catchadmin.com/post/2026-02/nativephp-mobile-free" ref="nofollow noopener noreferrer">åŸæ–‡ PHP ç°åœ¨å¯ä»¥é›¶æˆæœ¬æ„å»ºåŸç”Ÿ iOS å’Œ Android åº”ç”¨ NativePHP for Mobile v3 å‘å¸ƒ</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶èµ·æ­¥å­¦ä¹ Redis || ç¬¬äº”ç« ï¼šåˆ©ç”¨Redisæ„é€ åˆ†å¸ƒå¼å…¨å±€å”¯ä¸€ID]]></title>    <link>https://juejin.cn/post/7602447286607462409</link>    <guid>https://juejin.cn/post/7602447286607462409</guid>    <pubDate>2026-02-03T09:20:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602447286607462409" data-draft-id="7602463463104905262" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶èµ·æ­¥å­¦ä¹ Redis || ç¬¬äº”ç« ï¼šåˆ©ç”¨Redisæ„é€ åˆ†å¸ƒå¼å…¨å±€å”¯ä¸€ID"/> <meta itemprop="keywords" content="Redis"/> <meta itemprop="datePublished" content="2026-02-03T09:20:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èŒ¶æ¯æ¢¦è½©"/> <meta itemprop="url" content="https://juejin.cn/user/195039473183699"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶èµ·æ­¥å­¦ä¹ Redis || ç¬¬äº”ç« ï¼šåˆ©ç”¨Redisæ„é€ åˆ†å¸ƒå¼å…¨å±€å”¯ä¸€ID
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/195039473183699/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èŒ¶æ¯æ¢¦è½©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T09:20:52.000Z" title="Tue Feb 03 2026 09:20:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<h3 data-id="heading-0">å‰è¨€ï¼š</h3>
<p>æœ€è¿‘å›½åº†å‡æœŸï¼Œæœ‰ç‚¹æ”¾æ¾äº†ï¼Œå¥½ä¹…æ²¡å†™åšå®¢ï¼Œä»Šå¤©å­¦ä¹ äº†åˆ©ç”¨Redisæ„é€ åˆ†å¸ƒå¼å…¨å±€å”¯ä¸€IDï¼Œæ­£å¥½æ•´ç†ä¸€ä¸‹æ‰€å­¦å†…å®¹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42f046c42c054f3b8883fad45debfcde~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Iy25p2v5qKm6L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770715252&amp;x-signature=wkwL4DcVGXIyY4xOPQVYYY22gY8%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
<h3 data-id="heading-1">é—®é¢˜åˆ†æï¼š</h3>
<p>åœ¨å¤æ‚åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œå¾€å¾€éœ€è¦å¯¹å¤§é‡çš„æ•°æ®å’Œæ¶ˆæ¯è¿›è¡Œå”¯ä¸€æ ‡è¯†ã€‚æ•°æ®æ—¥æ¸å¢é•¿ï¼Œå¯¹æ•°æ®åˆ†åº“åˆ†è¡¨åéœ€è¦æœ‰ä¸€ä¸ªå”¯ä¸€IDæ¥æ ‡è¯†ä¸€æ¡æ•°æ®æˆ–æ¶ˆæ¯ï¼Œæ•°æ®åº“çš„è‡ªå¢IDæ˜¾ç„¶ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼›ç‰¹åˆ«ä¸€ç‚¹çš„å¦‚è®¢å•ã€éª‘æ‰‹ã€ä¼˜æƒ åˆ¸ä¹Ÿéƒ½éœ€è¦æœ‰å”¯ä¸€IDåšæ ‡è¯†ã€‚æ­¤æ—¶ä¸€ä¸ªèƒ½å¤Ÿç”Ÿæˆå…¨å±€å”¯ä¸€IDçš„ç³»ç»Ÿæ˜¯éå¸¸å¿…è¦çš„ã€‚æ¦‚æ‹¬ä¸‹æ¥ï¼Œé‚£ä¸šåŠ¡ç³»ç»Ÿå¯¹IDå·çš„è¦æ±‚æœ‰å“ªäº›å‘¢ï¼Ÿ</p>
<ol>
<li><strong>å…¨å±€å”¯ä¸€æ€§ï¼š</strong>Â ç”Ÿæˆçš„IDå¿…é¡»åœ¨æ•´ä¸ªç³»ç»ŸèŒƒå›´å†…ç»å¯¹å”¯ä¸€ï¼Œä¸å…è®¸å‡ºç°ä»»ä½•é‡å¤ã€‚</li>
<li><strong>å†™å…¥æ€§èƒ½ä¼˜åŒ–ï¼ˆè¶‹åŠ¿é€’å¢ï¼‰ï¼š</strong>Â ä¸ºäº†åœ¨å¦‚MySQL InnoDBï¼ˆä½¿ç”¨B-treeç´¢å¼•ï¼‰ç­‰æ•°æ®åº“ä¸­-treeç´¢å¼•ï¼‰ç­‰æ•°æ®åº“ä¸­å®ç°é«˜æ•ˆçš„å†™å…¥æ€§èƒ½ï¼ŒIDåº”å…·å¤‡<strong>æ•´ä½“è¶‹åŠ¿é€’å¢</strong>çš„ç‰¹æ€§ï¼ˆæ–°IDé€šå¸¸æ¯”æ—§IDå¤§ï¼‰ï¼Œé¿å…æ’å…¥æ—¶ç´¢å¼•ç»“æ„çš„é¢‘ç¹åˆ†è£‚è°ƒæ•´ã€‚</li>
<li><strong>ä¸¥æ ¼é¡ºåºæ€§ï¼ˆå•è°ƒé€’å¢ï¼‰ï¼š</strong>Â åœ¨éœ€è¦ä¸¥æ ¼æ—¶é—´æˆ–é€»è¾‘é¡ºåºçš„åœºæ™¯ï¼ˆå¦‚äº‹åŠ¡ç‰ˆæœ¬å·ã€å¢é‡æ¶ˆæ¯ã€æ’åºç­‰ï¼‰ï¼ŒIDå¿…é¡»å…·å¤‡<strong>å•è°ƒé€’å¢</strong>çš„ç‰¹æ€§ï¼Œç¡®ä¿æ–°ç”Ÿæˆçš„IDä¸€å®šå¤§äºä¹‹å‰ç”Ÿæˆçš„æ‰€æœ‰IDã€‚</li>
<li><strong>ä¿¡æ¯å®‰å…¨ï¼ˆéè¿ç»­/æ— è§„å¾‹ï¼‰ï¼š</strong>Â ä¸ºäº†é˜²æ­¢æ¶æ„ç”¨æˆ·é€šè¿‡è¿ç»­IDæ¨æµ‹ä¸šåŠ¡é‡ã€çˆ¬å–æ•°æ®æˆ–è·å–æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚è®¢å•é‡ï¼‰ï¼ŒIDåº”è®¾è®¡æˆ<strong>éè¿ç»­ã€æ— æ˜æ˜¾è§„å¾‹ã€ä¸å¯é¢„æµ‹</strong>çš„å½¢å¼ã€‚</li>
</ol>
<p>ä¸Šè¿°123å¯¹åº”ä¸‰ç±»ä¸åŒçš„åœºæ™¯ï¼Œ3å’Œ4éœ€æ±‚è¿˜æ˜¯äº’æ–¥çš„ï¼Œæ— æ³•ä½¿ç”¨åŒä¸€ä¸ªæ–¹æ¡ˆæ»¡è¶³ã€‚</p>
<h3 data-id="heading-2">æ–¹æ¡ˆä¸€ï¼šUUIDç”Ÿæˆ</h3>
<p>UUID(Universally Unique Identifier)çš„æ ‡å‡†å‹å¼åŒ…å«32ä¸ª16è¿›åˆ¶æ•°å­—ï¼Œä»¥è¿å­—å·åˆ†ä¸ºäº”æ®µï¼Œå½¢å¼ä¸º8-4-4-4-12çš„36ä¸ªå­—ç¬¦ï¼Œç¤ºä¾‹ï¼š<code>550e8400-e29b-41d4-a716-446655440000</code></p>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>æ€§èƒ½éå¸¸é«˜ï¼šæœ¬åœ°ç”Ÿæˆï¼Œæ²¡æœ‰ç½‘ç»œæ¶ˆè€—ã€‚</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>ä¸æ˜“äºå­˜å‚¨ï¼šUUIDå¤ªé•¿ï¼Œ16å­—èŠ‚128ä½ï¼Œé€šå¸¸ä»¥36é•¿åº¦çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œå¾ˆå¤šåœºæ™¯ä¸é€‚ç”¨ã€‚</li>
<li>ä¿¡æ¯ä¸å®‰å…¨ï¼šåŸºäºMACåœ°å€ç”ŸæˆUUIDçš„ç®—æ³•å¯èƒ½ä¼šé€ æˆMACåœ°å€æ³„éœ²</li>
<li>IDä½œä¸ºä¸»é”®æ—¶åœ¨ç‰¹å®šçš„ç¯å¢ƒä¼šå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚åšDBä¸»é”®çš„åœºæ™¯ä¸‹ï¼ŒUUIDå°±éå¸¸ä¸é€‚ç”¨ï¼ˆMysqlä¸­çš„ä¸»é”®idè¦æ±‚å°½é‡è¦çŸ­ï¼‰</li>
</ul>
<h3 data-id="heading-3">æ–¹æ¡ˆäºŒï¼šåˆ©ç”¨Redisæ„é€ å…¨å±€å”¯ä¸€ID</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/efe2d39d36b74fa39d8d2786fca78085~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Iy25p2v5qKm6L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770715252&amp;x-signature=2nt1YFPHNwfiewoXNlkRud4T4S4%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
<p>ç”±å›¾å¯çœ‹å¾—ï¼Œæˆ‘ä»¬è®¾è®¡çš„IDä¸€å…±åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š</p>
<p>1.<strong>ç¬¦å·ä½</strong>ï¼šæ°¸è¿œä¸º0ï¼Œæ ‡è¯†æˆ‘ä»¬çš„IDæ˜¯ä¸€ä¸ªæ•´æ•°ã€‚</p>
<p>2.<strong>æ—¶é—´æˆ³</strong>ï¼šä»è‡ªå®šä¹‰æ—¶é—´å¼€å§‹ï¼ŒæŒ‰ç§’è®¡ç®—ã€‚é‚£ä¹ˆ32ä½æˆ‘ä»¬å¤§çº¦å¯ä»¥ä½¿ç”¨60å¤šå¹´ã€‚</p>
<p>3.<strong>åºåˆ—å·</strong>ï¼šåŒä¸€æ—¶é—´å†…ä¸‹å•è¿›è¡Œè‡ªå¢ã€‚åœ¨æ—¶é—´æˆ³ç›¸ç­‰çš„å½¢å†µä¸‹çš„åŒºåˆ†ä¸åŒçš„è®¢å•ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">    public long nextId(String keyPrefix) {
        //1.ç”Ÿæˆæ—¶é—´æˆ³
        LocalDateTime <span class="hljs-attr">now</span> = LocalDateTime.now()<span class="hljs-comment">;</span>
        long <span class="hljs-attr">nowhSecond</span> = now.toEpochSecond(Zone<span class="hljs-literal">Off</span>set.UTC)<span class="hljs-comment">;</span>
        long <span class="hljs-attr">timestamp</span> = nowhSecond - BEGIN_TIMESTAMP<span class="hljs-comment">;</span>
        //2.ç”Ÿæˆåºåˆ—å·
        //1.è·å–æ—¥æœŸï¼Œç²¾ç¡®åˆ°å¤©
        String <span class="hljs-attr">date</span> = now.format(DateTimeFormatter.ofPattern(<span class="hljs-string">"yyyy:MM:dd"</span>))<span class="hljs-comment">;</span>
        Long <span class="hljs-attr">count</span> = stringRedisTemplate.opsForValue().increment(<span class="hljs-string">"icr:"</span> + keyPrefix + <span class="hljs-string">":"</span> + date)<span class="hljs-comment">;</span>
      
        return (timestamp &lt;&lt; COUNT_BITS) | count<span class="hljs-comment">;</span>
    }
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>æœ€åçš„returnä¸ºäº†æé«˜æ•ˆç‡ï¼Œä½¿ç”¨äº†ä½è¿ç®—ã€‚</p>
<h4 data-id="heading-4">ä¼˜ç‚¹ï¼š</h4>
<p>é«˜ä½ä¸ºæ—¶é—´ï¼Œä½ä½ä¸ºåºåˆ—ï¼Œä¿è¯æ•´ä½“åœ¨é€’å¢</p>
<p>ä»¥æœåŠ¡çš„å½¢å¼ç”Ÿæˆidï¼Œå‡å°å¯¹æ•°æ®åº“çš„å‹åŠ›</p>
<h4 data-id="heading-5">ç¼ºç‚¹ï¼š</h4>
<p>å¦‚æœæœºå™¨çš„æ—¶é—´å›æ‹¨ï¼Œå¯èƒ½ä¼šå¯¼è‡´idå‡ºç°é‡å¤</p>
<h4 data-id="heading-6">è§£å†³æ–¹æ¡ˆï¼š</h4>
<p>é€šè¿‡Redisä¿å­˜<strong>æœ€åä¸€æ¬¡ç”ŸæˆIDçš„é€»è¾‘æ—¶é—´æˆ³</strong>ï¼ˆè€Œéä¾èµ–ç‰©ç†æ—¶é—´ï¼‰ï¼Œç¡®ä¿é€»è¾‘æ—¶é—´<strong>åªå¢ä¸å‡</strong>ã€‚å³ä½¿ç‰©ç†æ—¶é—´å›æ‹¨ï¼Œé€»è¾‘æ—¶é—´ä»å»¶ç»­ä¸Šæ¬¡çš„å€¼ï¼Œä»è€Œä¿è¯IDçš„å”¯ä¸€æ€§å’Œæœ‰åºæ€§ã€‚</p>
<p><strong>1. ä¼˜åŒ–IDç»“æ„ï¼ˆå¿…é€‰ï¼‰</strong></p>
<p>ä¸ºè§£å†³åˆ†å¸ƒå¼ç¯å¢ƒä¸‹çš„å”¯ä¸€æ€§ï¼ˆä¸åŒæœºå™¨å¯èƒ½ç”Ÿæˆç›¸åŒæ—¶é—´æˆ³+åºåˆ—å·ï¼‰ï¼Œéœ€åœ¨IDä¸­å¢åŠ <strong>æœºå™¨ID</strong>ï¼ˆæˆ–æ•°æ®ä¸­å¿ƒIDï¼‰ã€‚æ¨èç»“æ„ï¼ˆ64ä½Longç±»å‹ï¼Œå…¼å®¹Javaçš„<code>long</code>ï¼‰ï¼š</p>
<pre><code class="hljs">ç¬¦å·ä½ï¼ˆ1ä½ï¼‰ + æ—¶é—´æˆ³ï¼ˆ41ä½ï¼‰ + æœºå™¨IDï¼ˆ10ä½ï¼‰ + åºåˆ—å·ï¼ˆ12ä½ï¼‰
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<ul>
<li>ç¬¦å·ä½ï¼šå›ºå®šä¸º0ï¼ˆä¿è¯IDä¸ºæ­£æ•°ï¼‰ï¼›</li>
<li>æ—¶é—´æˆ³ï¼šç›¸å¯¹äºæŸä¸ªepochï¼ˆå¦‚2020-01-01ï¼‰çš„æ¯«ç§’æ•°ï¼Œå¯ä½¿ç”¨çº¦69å¹´ï¼›</li>
<li>æœºå™¨IDï¼šæ¯ä¸ªå®ä¾‹å”¯ä¸€ï¼ˆé€šè¿‡é…ç½®æ–‡ä»¶/ç¯å¢ƒå˜é‡/ZooKeeperè·å–ï¼‰ï¼›</li>
<li>åºåˆ—å·ï¼šæ¯æ¯«ç§’å†…çš„è‡ªå¢å€¼ï¼ˆ0-4095ï¼Œæ”¯æŒæ¯ç§’409.6ä¸‡æ¬¡IDç”Ÿæˆï¼‰ã€‚</li>
</ul>
<p><strong>2. å…³é”®ç»„ä»¶ï¼šRediså­˜å‚¨é€»è¾‘æ—¶é—´</strong></p>
<p>ç”¨Redisçš„<strong>Stringç±»å‹</strong>å­˜å‚¨ä¸¤ä¸ªå…³é”®å€¼ï¼š</p>
<ul>
<li><code>last_timestamp</code>ï¼šæœ€åä¸€æ¬¡ç”ŸæˆIDçš„é€»è¾‘æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰ï¼›</li>
<li><code>sequence</code>ï¼šå½“å‰æ¯«ç§’å†…çš„åºåˆ—å·ï¼ˆ0-4095ï¼‰ã€‚</li>
</ul>
<p>é€šè¿‡<strong>Luaè„šæœ¬</strong>ä¿è¯è¿™ä¸¤ä¸ªå€¼çš„åŸå­æ›´æ–°ï¼ˆé¿å…å¹¶å‘ race conditionï¼‰ã€‚</p>
<h4 data-id="heading-7"><strong>3. å…·ä½“å®ç°æ­¥éª¤ï¼ˆJava+Redisï¼‰</strong></h4>
<h5 data-id="heading-8"><strong>ï¼ˆ1ï¼‰Luaè„šæœ¬ï¼šåŸå­ç”Ÿæˆé€»è¾‘æ—¶é—´æˆ³å’Œåºåˆ—å·ï¼š</strong></h5>
<p>Luaè„šæœ¬æ˜¯RedisåŸå­æ“ä½œçš„æ ¸å¿ƒï¼Œç”¨äºå¤„ç†æ—¶é—´å›æ‹¨ã€åºåˆ—å·æº¢å‡ºç­‰åœºæ™¯ã€‚</p>
<h5 data-id="heading-9"><strong>ï¼ˆ2ï¼‰Javaå®¢æˆ·ç«¯å®ç°</strong></h5>
<p>é€šè¿‡Redissonæˆ–Jedisè°ƒç”¨Luaè„šæœ¬ï¼Œå¤„ç†è¿”å›ç»“æœï¼Œæ„é€ æœ€ç»ˆIDã€‚</p>
<ul>
<li>
<p><strong>é€»è¾‘æ—¶é—´æˆ³</strong>ï¼šRedisä¸­ä¿å­˜çš„<code>last_timestamp</code>æ˜¯<strong>é€»è¾‘æ—¶é—´</strong>ï¼Œä»…å¢ä¸å‡ã€‚å³ä½¿ç‰©ç†æ—¶é—´å›æ‹¨ï¼Œé€»è¾‘æ—¶é—´ä»å»¶ç»­ä¸Šæ¬¡çš„å€¼ï¼Œä¿è¯IDçš„æœ‰åºæ€§ã€‚</p>
</li>
<li>
<p><strong>æ—¶é—´å›æ‹¨å¤„ç†</strong>ï¼š</p>
<ul>
<li>å›æ‹¨æœªè¶…è¿‡é˜ˆå€¼ï¼ˆå¦‚1ç§’ï¼‰ï¼šä½¿ç”¨é€»è¾‘æ—¶é—´ç»§ç»­ç”ŸæˆIDï¼Œåºåˆ—å·é€’å¢ã€‚è‹¥åºåˆ—å·æº¢å‡ºï¼Œåˆ™é€’å¢é€»è¾‘æ—¶é—´ï¼ˆå¦‚<code>last_timestamp+1</code>ï¼‰ï¼Œé‡ç½®åºåˆ—å·ã€‚</li>
<li>å›æ‹¨è¶…è¿‡é˜ˆå€¼ï¼šæ‹’ç»ç”ŸæˆIDï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼ˆéœ€æŠ¥è­¦é€šçŸ¥ç®¡ç†å‘˜å¤„ç†ï¼Œå¦‚ç³»ç»Ÿæ—¶é—´è¢«æ¶æ„ä¿®æ”¹ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p>ç”±äºè¯¥é¡¹æ–¹æ¡ˆæŠ€æœ¯å®ç°è¾ƒä¸ºå¤æ‚ï¼Œæˆ‘è¿™é‡Œæ²¡æœ‰å®ç°</p>
<h3 data-id="heading-10">æ–¹æ¡ˆä¸‰ï¼šLeaf-segmentæ–¹æ¡ˆ</h3>
<p><strong>æ‰¹é‡è·å–IDè¿›è¡Œå¤„ç†</strong>ã€‚åœ¨ä¸Šæ–‡æˆ‘ä»¬ç®€å•çš„å¯¹æ•°æ®åº“è¿›è¡Œä¼˜åŒ–çš„æ—¶å€™ï¼Œ<strong>ä¼˜åŒ–é—®é¢˜åŸºæœ¬éƒ½æ¥æºäºé«˜å¹¶å‘ä¸‹æ•°æ®åº“é«˜é¢‘çš„è¯»å†™æ“ä½œã€‚è€ŒLEAFæ•°æ®åº“æ–¹æ¡ˆä¹Ÿæ˜¯é’ˆå¯¹è¿™ä¸ªæ–¹é¢è¿›è¡Œä¼˜åŒ–çš„</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e39ccc5c1e0419282d602f76c66fe36~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Iy25p2v5qKm6L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770715252&amp;x-signature=tTH2EgD7PiOfBJd6ljLq5O6%2BLvE%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
<p>æˆ‘ä»¬å¯ä»¥æŠŠå›¾ä¸­çš„leafç®€å•çš„ç†è§£ä¸ºæ˜¯ä¸€ä¸ªç”Ÿæˆå…¨å±€å”¯ä¸€IDçš„æœåŠ¡ã€‚é‚£ä¹ˆæ•´ä¸ªLEAFæ•°æ®åº“çš„æ€æƒ³å°±æ˜¯ï¼šleafæœåŠ¡æå‰å°±æ‹¿å¥½ä¸€æ‰¹å·ç«¯ï¼Œä¾‹å¦‚ä»0-1000ã€‚é‚£ä¹ˆæˆ‘åœ¨ç”Ÿæˆå”¯ä¸€IDçš„æ—¶å€™ï¼Œå‹åŠ›å°±ä»æ•°æ®åº“è½¬åˆ°äº†Leafè¿™ä¸ªæœåŠ¡é‡Œé¢ã€‚</p>
<p>ä¼˜ç‚¹ï¼š</p>
<p>å°†ç”Ÿæˆidçš„åŠŸèƒ½ä½œä¸ºæœåŠ¡ï¼Œæ–¹ä¾¿åç»­æ‰©å±•å’Œç»´æŠ¤</p>
<p>å®¹ç¾æ€§å¼ºï¼Œå³ä½¿æ•°æ®åº“æŒ‚æ‰ï¼ŒæœåŠ¡ä¸­å› ä¸ºä¿å­˜äº†ä¸€éƒ¨åˆ†å·æ®µï¼ŒçŸ­æ—¶é—´å†…ä»å¯è¿›è¡ŒæœåŠ¡</p>
<p>æ»¡è¶³é€’å¢è¦æ±‚</p>
<p>ç¼ºç‚¹ï¼š</p>
<p>åœ¨å·æ®µç”¨å®Œåï¼Œçªç„¶å‡ºç°å¤§é‡è¯·æ±‚ï¼ŒæœåŠ¡å™¨å‹åŠ›å¢å¤§</p>
<h4 data-id="heading-11">è§£å†³æ–¹æ¡ˆï¼šåŒbufferä¼˜åŒ–</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Ftech.meituan.com%2F2017%2F04%2F21%2Fmt-leaf.html" title="https://tech.meituan.com/2017/04/21/mt-leaf.html" target="_blank" ref="nofollow noopener noreferrer">Leafâ€”â€”ç¾å›¢ç‚¹è¯„åˆ†å¸ƒå¼IDç”Ÿæˆç³»ç»Ÿ - ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b8087b430384157b2c1894e3a89772b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Iy25p2v5qKm6L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770715252&amp;x-signature=1eDrko9fsdChGjBhVfl1MkpwkKc%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
<p>æˆ‘ä»¬å¹¶ä¸ä¼šç­‰åˆ°å·æ®µå…¨éƒ¨ç”¨å®Œä¹‹åå†å»è¯·æ±‚æ–°çš„å·æ®µã€‚ç¾å›¢ç»™å‡ºçš„æŠ€æœ¯æ–¹æ¡ˆæ˜¯å½“å·æ®µæ¶ˆè´¹åˆ°æŸä¸ªç‚¹æ—¶å°±å¼‚æ­¥çš„æŠŠä¸‹ä¸€ä¸ªå·æ®µåŠ è½½åˆ°å†…å­˜ä¸­ã€‚è€Œä¸éœ€è¦ç­‰åˆ°å·æ®µç”¨å°½çš„æ—¶å€™æ‰å»æ›´æ–°å·æ®µã€‚</p>
<p>ä¸€å¼€å§‹å…ˆç”¨Aå·æ®µï¼Œç­‰ Aå·æ®µæ¶ˆè€—10%çš„æ—¶å€™ï¼Œå°±å‘æ•°æ®åº“è¯·æ±‚æ–°å·æ®µã€‚ä¹‹åå½“å‰å·æ®µæ¶ˆè€—å®Œä¹‹åå°±å¯ä»¥è¿›è¡Œå¿«é€Ÿçš„åˆ‡æ¢ã€‚å¦‚æ­¤å¾ªç¯å¾€å¤ã€‚</p>
<h3 data-id="heading-12">æ€»ç»“ï¼š</h3>
<p>ä¸‰ä¸ªæ–¹æ¡ˆå„æœ‰åƒç§‹ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®ç»“åˆè‡ªèº«é¡¹ç›®çš„æƒ…å†µé€‰æ‹©åˆé€‚çš„æ–¹æ¡ˆä¸ºé¡¹ç›®èµ‹èƒ½</p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€LLMã€‘ä¸ºä»€ä¹ˆç°åœ¨çš„LLMéƒ½æ˜¯Decoder-onlyæ¶æ„]]></title>    <link>https://juejin.cn/post/7602420156396961835</link>    <guid>https://juejin.cn/post/7602420156396961835</guid>    <pubDate>2026-02-03T09:36:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602420156396961835" data-draft-id="7602059064521392171" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€LLMã€‘ä¸ºä»€ä¹ˆç°åœ¨çš„LLMéƒ½æ˜¯Decoder-onlyæ¶æ„"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2026-02-03T09:36:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="xincheng_q"/> <meta itemprop="url" content="https://juejin.cn/user/1240728657471079"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€LLMã€‘ä¸ºä»€ä¹ˆç°åœ¨çš„LLMéƒ½æ˜¯Decoder-onlyæ¶æ„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1240728657471079/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    xincheng_q
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T09:36:47.000Z" title="Tue Feb 03 2026 09:36:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atelier-lakeside-light">.hljs-comment,.hljs-quote{color:#5a7b8c}.hljs-attribute,.hljs-link,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d22d72}.hljs-built_in,.hljs-builtin-name,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#935c25}.hljs-bullet,.hljs-string,.hljs-symbol{color:#568c3b}.hljs-section,.hljs-title{color:#257fad}.hljs-keyword,.hljs-selector-tag{color:#6b6bb8}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#ebf8ff;color:#516d7b}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">LLMä¸ºä»€ä¹ˆDecoder onlyæ¶æ„</h2>
<blockquote>
<p>å‚è€ƒï¼š
è‹å‰‘æ—-<a href="https://link.juejin.cn?target=https%3A%2F%2Fkexue.fm%2Farchives%2F9529" target="_blank" title="https://kexue.fm/archives/9529" ref="nofollow noopener noreferrer">kexue.fm/archives/95â€¦</a></p>
</blockquote>
<p>å…ˆç»™å‡ºè‹ç¥çš„ç­”æ¡ˆï¼š</p>
<p>LLMä¹‹æ‰€ä»¥ä¸»è¦éƒ½ç”¨Decoder-onlyæ¶æ„ï¼Œé™¤äº†è®­ç»ƒæ•ˆç‡å’Œå·¥ç¨‹å®ç°ä¸Šçš„ä¼˜åŠ¿å¤–ï¼Œåœ¨ç†è®ºä¸Šæ˜¯å› ä¸ºEncoderçš„åŒå‘æ³¨æ„åŠ›ä¼šå­˜åœ¨ä½ç§©é—®é¢˜ï¼Œè¿™å¯èƒ½ä¼šå‰Šå¼±æ¨¡å‹è¡¨è¾¾èƒ½åŠ›ï¼Œå°±ç”Ÿæˆä»»åŠ¡è€Œè¨€ï¼Œå¼•å…¥åŒå‘æ³¨æ„åŠ›å¹¶æ— å®è´¨å¥½å¤„ã€‚è€ŒEncoder-Decoderæ¶æ„ä¹‹æ‰€ä»¥èƒ½å¤Ÿåœ¨æŸäº›åœºæ™¯ä¸‹è¡¨ç°æ›´å¥½ï¼Œå¤§æ¦‚åªæ˜¯å› ä¸ºå®ƒå¤šäº†ä¸€å€å‚æ•°ã€‚æ‰€ä»¥ï¼Œåœ¨åŒç­‰å‚æ•°é‡ã€åŒç­‰æ¨ç†æˆæœ¬ä¸‹ï¼ŒDecoder-onlyæ¶æ„å°±æ˜¯æœ€ä¼˜é€‰æ‹©äº†ã€‚</p>
<hr/>
<blockquote>
<p>è¿™é‡Œç»™å‡ºä¸‰ä¸ªç†ç”±ï¼Œæ›´å¤šçš„å¯ä»¥å‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2FTFATS%2Farticle%2Fdetails%2F133100383" target="_blank" title="https://blog.csdn.net/TFATS/article/details/133100383" ref="nofollow noopener noreferrer">ä¸ºä»€ä¹ˆç°åœ¨çš„LLMéƒ½æ˜¯Decoder onlyçš„æ¶æ„ï¼Ÿ_ä¸ºä»€ä¹ˆdecoder-onlyçš„æ¨¡å‹è¿™ä¹ˆç«-CSDNåšå®¢</a></p>
</blockquote>
<p><strong>1.Encoderçš„åŒå‘æ³¨æ„åŠ›ä¼šå­˜åœ¨ä½ç§©é—®é¢˜ï¼Œå¯èƒ½ä¼šå‰Šå¼±æ¨¡å‹çš„è¡¨è¾¾èƒ½åŠ›</strong></p>
<p><strong>2.decoder-onlyæ”¯æŒä¸€ç›´å¤ç”¨KV-Cacheï¼Œå¯¹å¤šè½®å¯¹è¯æ›´å‹å¥½ï¼Œå› ä¸ºæ¯ä¸ªtokençš„è¡¨ç¤ºåªå’Œå®ƒä¹‹å‰çš„è¾“å…¥æœ‰å…³ï¼Œè€Œencoder-decoderå’ŒPrefixLMå°±éš¾ä»¥åšåˆ°</strong></p>
<p><strong>3.decoder-only æ¨¡å‹åœ¨æ²¡æœ‰ä»»ä½• tuning æ•°æ®çš„æƒ…å†µä¸‹ã€zero-shot è¡¨ç°æœ€å¥½ï¼Œè€Œ encoder-decoder åˆ™éœ€è¦åœ¨ä¸€å®šé‡çš„æ ‡æ³¨æ•°æ®ä¸Šåš multitask finetuning æ‰èƒ½æ¿€å‘æœ€ä½³æ€§èƒ½ã€‚</strong></p>
<blockquote>
<p>Decoder-onlyè®­ç»ƒçš„æ—¶å€™åšçš„å°±æ˜¯ç”Ÿæˆä»»åŠ¡ï¼Œåœ¨ Zero-shot åœºæ™¯ä¸‹ï¼ŒPrompt å¾€å¾€ç¬¦åˆè‡ªç„¶è¯­è¨€çš„æµåŠ¨ä¹ æƒ¯ï¼Œå¤©ç”Ÿå°±æ˜¯ä¸ºäº†æŠŠè¯æ¥ä¸‹å»è€Œè®¾è®¡çš„ã€‚</p>
</blockquote>
<hr/>
<p>ç„¶åæˆ‘ä»¬è¿›è¡Œæ›´æœ¬è´¨åœ°æ¢ç´¢ï¼Œä¸ºä»€ä¹ˆè¯´Encoderçš„åŒå‘æ³¨æ„åŠ›ä¼šå­˜åœ¨ä½ç§©é—®é¢˜å‘¢ï¼Ÿ</p>
<h3 data-id="heading-1">ä½ç§©é—®é¢˜æ¢è®¨</h3>
<p>Transformerä¸€å¼€å§‹æ˜¯ç”¨äºåšseq2seqä»»åŠ¡çš„ï¼Œå³åŒ…å«Encoderå’ŒDecoderä¸¤ä¸ªéƒ¨åˆ†ã€‚Encoderåœ¨æŠ½å–åºåˆ—ä¸­æŸä¸€ä¸ªè¯çš„ç‰¹å¾æ—¶ï¼Œå¯ä»¥çœ‹åˆ°<strong>æ•´ä¸ªåºåˆ—ä¸­çš„ä¿¡æ¯</strong>ï¼ˆå®Œå½¢å¡«ç©ºï¼‰ã€‚è€ŒDecoderä¸­å› ä¸ºæœ‰maskæœºåˆ¶çš„å­˜åœ¨ï¼Œä½¿å¾—å…¶åœ¨ç¼–ç æŸä¸€ä¸ªè¯çš„ç‰¹ç§åŠŸèƒ½æ—¶ï¼Œåªèƒ½<strong>çœ‹åˆ°è‡ªèº«å’Œå®ƒä¹‹å‰çš„æ–‡æœ¬ä¿¡æ¯</strong>ï¼ˆç”Ÿæˆä»»åŠ¡ï¼‰ã€‚</p>
<blockquote>
<p>Decoder é‡‡ç”¨Causal Maskï¼ˆå› æœæ©ç ï¼‰æ–¹æ³•ï¼Œç¬¬ä¸€è¡Œåªèƒ½çœ‹1ä¸ªï¼Œç¬¬Nè¡Œçœ‹Nä¸ªï¼Œæ˜¯ä¸€ä¸ªä¸‹ä¸‰è§’çŸ©é˜µã€‚ï¼ˆæ»¡ç§©ï¼‰</p>
</blockquote>
<p>decoder-onlyæ¶æ„é€šè¿‡maskæœºåˆ¶ï¼Œåœ¨ç‰©ç†ä¸Šé”æ­»äº†çŸ©é˜µçš„ç§©ï¼Œé˜²æ­¢å®ƒ<strong>åå¡Œã€‚</strong></p>
<h3 data-id="heading-2">æ³¨æ„åŠ›</h3>
<p>ä¸‹é¢çš„å›¾ä¸ºæ³¨æ„åŠ›çš„çŸ©é˜µã€‚<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>t</mi><mi>t</mi><mi>n</mi><mtext>ï¼ˆ</mtext><mi>Q</mi><mo separator="true">,</mo><mi>K</mi><mo separator="true">,</mo><mi>V</mi><mtext>ï¼‰</mtext><mo>=</mo><mi>s</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>Q</mi><msup><mi>K</mi><mi>T</mi></msup><mi mathvariant="normal">/</mi><msqrt><mrow><mo stretchy="false">(</mo><msub><mi>d</mi><mi>k</mi></msub><mo stretchy="false">)</mo></mrow></msqrt><mo stretchy="false">)</mo><mo>âˆ—</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">Attnï¼ˆQ,K,Vï¼‰=softmax(QK^T/\sqrt{(d_k)})*V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"/><span class="mord mathnormal">A</span><span class="mord mathnormal">tt</span><span class="mord mathnormal">n</span><span class="mord cjk_fallback">ï¼ˆ</span><span class="mord mathnormal">Q</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mord cjk_fallback">ï¼‰</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.305em;"/><span class="mord mathnormal">so</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">Q</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord">/</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.935em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"/><span class="mord" style="padding-left:1em;"><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-2.895em;"><span class="pstrut" style="height:3.2em;"/><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewbox="0 0 400000 1296" preserveaspectratio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119&#10;c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120&#10;c340,-704.7,510.7,-1060.3,512,-1067&#10;l0 -0&#10;c4.7,-7.3,11,-11,19,-11&#10;H40000v40H1012.3&#10;s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232&#10;c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1&#10;s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26&#10;c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z&#10;M1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.305em;"><span/></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span></span> Q,Kéƒ½æ˜¯ä¸€ä¸ªä½ç§©çŸ©é˜µï¼Œå³<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo>=</mo><mi>n</mi><mo>Ã—</mo><mi>d</mi><mo separator="true">,</mo><mi>K</mi><mo>=</mo><mi>n</mi><mo>Ã—</mo><mi>d</mi></mrow><annotation encoding="application/x-tex">Q=n\times d, K=n\times d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"/><span class="mord mathnormal">Q</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal">d</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">d</span></span></span></span></span> =&gt; AttnçŸ©é˜µå¤§å°ä¸º<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>Ã—</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">n\times n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">n</span></span></span></span></span></p>
<blockquote>
<p>è¿™é‡Œçš„nå¯ä»¥ç†è§£ä¸ºseq_lenï¼Œdç†è§£ä¸ºhidden dimension, åœ¨ä»£ç å®ç°ä¸­ï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo separator="true">,</mo><mi>K</mi><mo separator="true">,</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">Q,K,V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"/><span class="mord mathnormal">Q</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span></span>éƒ½æ˜¯è¾“å…¥<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">x</span></span></span></span></span>é€šè¿‡Linearå˜æ¢å¾—åˆ°ï¼Œå³<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>e</mi><mi>l</mi><mi>f</mi><mi mathvariant="normal">.</mi><mi>q</mi><mo>=</mo><mi>L</mi><mi>i</mi><mi>n</mi><mi>e</mi><mi>a</mi><mi>r</mi><mo stretchy="false">(</mo><mi>d</mi><mo separator="true">,</mo><mi>d</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>Q</mi><mo>=</mo><mi>s</mi><mi>e</mi><mi>l</mi><mi>e</mi><mi mathvariant="normal">.</mi><mi>q</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>s</mi><mi>i</mi><mi>z</mi><mi>e</mi></mrow></msub><mo>=</mo><mo stretchy="false">[</mo><mi>B</mi><mo separator="true">,</mo><mi>L</mi><mo separator="true">,</mo><mi>d</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">self.q=Linear(d, d), Q=sele.q(x), (x_{size}=[B,L,d])</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal">se</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">L</span><span class="mord mathnormal">in</span><span class="mord mathnormal">e</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal">d</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal">d</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal">Q</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">se</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">ze</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal">L</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal">d</span><span class="mclose">])</span></span></span></span></span></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92c1689bcc0f4919ac382d2a4a44f821~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGluY2hlbmdfcQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770716206&amp;x-signature=2tlkmFiv%2B7WozkF1U4Vt%2Bo5TxYM%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>å¦‚ä½•ç†è§£è¿™å¼ å›¾ï¼Œè®¾ A ä¸º Decoder çš„ Attention æƒé‡çŸ©é˜µã€‚<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mrow><mi>i</mi><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">A_{ii}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ii</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span> ä»£è¡¨ç¬¬ i ä¸ª Token å¯¹è‡ªèº«çš„æ³¨æ„åŠ›ã€‚decoderçš„maskç­–ç•¥å°±æ˜¯æŠŠ j&gt;içš„éƒ¨åˆ†ï¼ˆä¸Šä¸‰è§’ï¼‰ç»™maskæ‰</p>
</blockquote>
<p>å¯¹äºDecoderçš„attnçŸ©é˜µæ¥è¯´ï¼Œæ˜¯ä¸€ä¸ªä¸‹ä¸‰è§’çŸ©é˜µã€‚è€Œä¸‰è§’çŸ©é˜µçš„è¡Œåˆ—å¼æ°¸è¿œç­‰äºå¯¹è§’çº¿ä¸Šçš„å…ƒç´ çš„ä¹˜ç§¯ã€‚</p>
<p>åˆAttentionçŸ©é˜µçš„å¯¹è§’çº¿å…ƒç´ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mrow><mi>i</mi><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">A_{ii}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ii</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>æ˜¯é€šè¿‡softmaxè®¡ç®—å¾—åˆ°çš„æ¦‚ç‡å€¼ã€‚å³<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>e</mi><mi>x</mi></msup><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">e^x&gt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7035em;vertical-align:-0.0391em;"/><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0</span></span></span></span></span>(softmaxçš„è¾“å‡ºæ’å¤§äº0)ï¼Œè¿™æ„å‘³ç€attnçŸ©é˜µçš„å¯¹è§’å…ƒç´ é0 =ã€‹ <strong>Decoder-only çš„ Attention çŸ©é˜µåœ¨æ•°å­¦ä¸Šå¿…ç„¶æ˜¯æ»¡ç§©çš„ã€‚</strong></p>
<p>è¡Œåˆ—å¼ä¸ä¸º0 =&gt; æ»¡ç§©çŸ©é˜µ <strong>=&gt; è¡¨å¾èƒ½åŠ›æ›´å¼º =&gt; ä¸ä¼šå‡ºç°ä½ç§©åå¡Œï¼ˆlow rankï¼‰</strong></p>
<blockquote>
<p>é‚£æ»¡ç§©æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</p>
</blockquote>
<p>æ»¡ç§©æ„å‘³ç€ï¼Œæ¯ä¸ªä½ç½®çš„tokenéƒ½èƒ½ä¿ç•™å…¶ç‹¬ç‰¹çš„å‡ ä½•ä½ç½®ä¿¡æ¯ï¼Œä¿¡æ¯æ²¡æœ‰æŸå¤±ï¼Œè¡¨å¾æ›´ä¸°å¯Œã€‚</p>
<blockquote>
<p><strong>æ»¡ç§©ï¼ˆRank</strong> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span> <strong>ï¼‰ï¼š</strong> è¡¨è¾¾èƒ½åŠ›æœ€å¼ºï¼Œèƒ½åŒºåˆ† <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span> ä¸ªä¸åŒçš„ç‰¹å¾ã€‚</p>
<p><strong>ä½ç§©ï¼ˆRank 1ï¼‰ï¼š</strong> æç«¯æƒ…å†µä¸‹ï¼Œæ‰€æœ‰è¡Œéƒ½ä¸€æ ·ï¼ŒçŸ©é˜µå˜æˆç§©ä¸º 1ã€‚è¿™æ„å‘³ç€æ¨¡å‹å¤±å»äº†åŒºåˆ†ä¸åŒä½ç½® Token çš„èƒ½åŠ›ï¼Œæ‰€æœ‰ Token çš„è¡¨ç¤ºè¶‹åŒ</p>
</blockquote>
<p>å¦‚æœæ˜¯bertè¿™ç§åŒå‘æ³¨æ„åŠ›ï¼Œå…¶attnçŸ©é˜µä¸ºç¨ å¯†çŸ©é˜µï¼ˆä¸‹å›¾ç¬¬ä¸€ä¸ªå­å›¾ï¼‰ã€‚åœ¨æ·±åº¦ç½‘ç»œä¸­ï¼ŒåŒå‘æ³¨æ„åŠ›æ˜“å‡ºç°åŒè´¨åŒ–smoothingã€‚å³éšç€å±‚æ•°çš„åŠ æ·±ï¼Œå¤§å®¶çœ‹åˆ°çš„ä¸Šä¸‹æ–‡è¶Šæ¥è¶Šåƒï¼ŒçŸ©é˜µAå¯èƒ½è¶‹å‘æ¯ä¸€è¡Œéƒ½å·®ä¸å¤šï¼ˆæ¯”å¦‚æ¯è¡Œéƒ½å…³æ³¨æŸä¸€ä¸ªç‰¹æ®Šçš„tokenï¼‰ã€‚ä¸€æ—¦è¡Œä¸è¡Œä¹‹é—´å˜å¾—ç›¸ä¼¼ï¼ˆçº¿æ€§ç›¸å…³ï¼‰çŸ©é˜µçš„ç§©å°±ä¼šä¸‹é™ï¼ˆlow rankï¼‰</p>
<blockquote>
<p>ä»ç¬¬ä¸€æ€§åŸç†æ¥çœ‹ï¼Œè¡¨è¾¾èƒ½åŠ›æœ¬è´¨ä¸Šæ˜¯<strong>æ¨¡å‹èƒ½å¤ŸåŒºåˆ†ä¸åŒè¾“å…¥çŠ¶æ€çš„èƒ½åŠ›</strong>ã€‚
æ»¡ç§©èƒ½å¤Ÿ æŠµæŠ—â€œè¡¨å¾åå¡Œâ€ (Preventing Rank Collapse)</p>
<ul>
<li><strong>Encoderï¼ˆåŒå‘ï¼‰ï¼š</strong> Â å®ƒæ˜¯å…¨è¿é€šå›¾ã€‚åœ¨æ·±åº¦ç½‘ç»œä¸­ï¼Œå¦‚æœæ²¡æœ‰æ®‹å·®è¿æ¥ï¼ŒåŒå‘æ³¨æ„åŠ›ä¼šå€¾å‘äºè®©æ‰€æœ‰ Token çš„ Embedding è¶‹åŒï¼ˆè¿‡å¹³æ»‘ï¼‰ã€‚ä»çŸ©é˜µè§’åº¦çœ‹ï¼Œå…¶æ¯ä¸€è¡Œè¶Šæ¥è¶Šåƒï¼ŒçŸ©é˜µçš„ç§©è¿…é€Ÿèç¼©ã€‚ä¸€æ—¦ç§©ä¸‹é™ï¼Œæ¨¡å‹å°±ä¼šä¸¢å¤±å±€éƒ¨ç»†èŠ‚ï¼Œåªèƒ½è®°ä½æ¨¡ç³Šçš„å…¨å±€ç»Ÿè®¡ç‰¹å¾ã€‚</li>
<li><strong>Decoderï¼ˆå•å‘ï¼‰ï¼š</strong> Â å¼ºåˆ¶æ€§çš„ä¸‹ä¸‰è§’ç»“æ„åƒä¸€é“â€œé˜²ç«å¢™â€ã€‚æ— è®ºç½‘ç»œå¤šæ·±ï¼Œç¬¬ 1 ä¸ªè¯æ°¸è¿œåªçœ‹è‡ªå·±ï¼Œç¬¬ 2 ä¸ªè¯çœ‹ 1 å’Œ 2â€¦â€¦è¿™ç§<strong>å±‚æ¬¡åŒ–çš„ä¿¡æ¯æµåŠ¨</strong>å¼ºåˆ¶ä¿è¯äº†æ¯ä¸ªä½ç½®çš„è¡¨å¾åœ¨æ•°å­¦ä¸Šå¿…é¡»æ˜¯ç‹¬ç«‹çš„ã€‚<strong>æ»¡ç§©ä¿è¯äº†æ¨¡å‹åœ¨æ¯ä¸€å±‚éƒ½ä¿ç•™äº†æœ€å¤§åŒ–çš„ä¿¡æ¯ç†µã€‚</strong></li>
</ul>
</blockquote>
<hr/>
<p>ä¸‹é¢é“¾æ¥ä¸€ä¸‹attn codingçš„å…·ä½“å®ç°ï¼š</p>
<h4 data-id="heading-3">ç¼©æ”¾ç‚¹ç§¯æ³¨æ„åŠ›(Pytorchå®ç°ï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> torch  
<span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn  
<span class="hljs-keyword">import</span> torch.nn.functional <span class="hljs-keyword">as</span> F  
<span class="hljs-keyword">import</span> math  

<span class="hljs-keyword">def</span> <span class="hljs-title function_">scaled_dot_product_attention</span>(<span class="hljs-params">query, key, value, mask=<span class="hljs-literal">None</span></span>):  
    <span class="hljs-string">"""  
    query: (batch, n_heads, seq_len, d_k)  
    key:   (batch, n_heads, seq_len, d_k)  
    value: (batch, n_heads, seq_len, d_v)  
    mask:  (batch, 1, seq_len, seq_len) - ç”¨äºé®ç›– Padding æˆ– Decoder çš„åç»­ Token  
    """</span>  
    d_k = query.size(-<span class="hljs-number">1</span>)  
    
    <span class="hljs-comment"># 1. è®¡ç®—æ³¨æ„åŠ›å¾—åˆ†: Q * K^T  </span>
    <span class="hljs-comment"># scores å½¢çŠ¶: (batch, n_heads, seq_len, seq_len)  </span>
    scores = torch.matmul(query, key.transpose(-<span class="hljs-number">2</span>, -<span class="hljs-number">1</span>)) / math.sqrt(d_k)  
    
    <span class="hljs-comment"># 2. å¦‚æœæœ‰ Maskï¼Œå°† Mask ä¸º 0 çš„ä½ç½®å¡«ä¸ºæå°å€¼ï¼ŒSoftmax åå˜ä¸º 0  </span>
    <span class="hljs-keyword">if</span> mask <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:  
        scores = scores.masked_fill(mask == <span class="hljs-number">0</span>, -<span class="hljs-number">1e9</span>)  
    
    <span class="hljs-comment"># 3. Softmax å½’ä¸€åŒ–å¾—åˆ°æ³¨æ„åŠ›æƒé‡  </span>
    p_attn = F.softmax(scores, dim=-<span class="hljs-number">1</span>)  
    
    <span class="hljs-comment"># 4. æƒé‡ä¹˜ä»¥ Value å‘é‡  </span>
    <span class="hljs-keyword">return</span> torch.matmul(p_attn, value), p_attn
</code></pre>
<h4 data-id="heading-4">å¤šå¤´æ³¨æ„åŠ› (Multi-Head Attention)</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MultiHeadAttention</span>(nn.Module):  
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, d_model, n_heads</span>):  
        <span class="hljs-built_in">super</span>(MultiHeadAttention, self).__init__()  
        <span class="hljs-keyword">assert</span> d_model % n_heads == <span class="hljs-number">0</span>  
        
        self.d_k = d_model // n_heads  
        self.n_heads = n_heads  
        
        <span class="hljs-comment"># å®šä¹‰å››ä¸ªçº¿æ€§å±‚ï¼šW_q, W_k, W_v å’Œ æœ€åçš„è¾“å‡ºæŠ•å½± W_o  </span>
        self.linears = nn.ModuleList([nn.Linear(d_model, d_model) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>)])  
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, query, key, value, mask=<span class="hljs-literal">None</span></span>):  
        batch_size = query.size(<span class="hljs-number">0</span>)  
        
        <span class="hljs-comment"># 1. çº¿æ€§å˜æ¢æŠ•å½±å¹¶åˆ‡åˆ†ä¸º n_heads ä¸ªå¤´  </span>
        <span class="hljs-comment"># (batch, seq_len, d_model) -&gt; (batch, n_heads, seq_len, d_k)  </span>
        query, key, value = [  
            l(x).view(batch_size, -<span class="hljs-number">1</span>, self.n_heads, self.d_k).transpose(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)  
            <span class="hljs-keyword">for</span> l, x <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(self.linears, (query, key, value))  
        ]  
        
        <span class="hljs-comment"># 2. åº”ç”¨ç¼©æ”¾ç‚¹ç§¯æ³¨æ„åŠ›  </span>
        x, self.attn = scaled_dot_product_attention(query, key, value, mask=mask)  
        
        <span class="hljs-comment"># 3. å°†å¤šå¤´åˆå¹¶ (Concat)  </span>
        <span class="hljs-comment"># (batch, n_heads, seq_len, d_k) -&gt; (batch, seq_len, d_model)  </span>
        x = x.transpose(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>).contiguous().view(batch_size, -<span class="hljs-number">1</span>, self.n_heads * self.d_k)  
        
        <span class="hljs-comment"># 4. æœ€åä¸€æ¬¡çº¿æ€§æŠ•å½±  </span>
        <span class="hljs-keyword">return</span> self.linears[-<span class="hljs-number">1</span>](x)
</code></pre>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆé™¤ä»¥Â <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><msub><mi>d</mi><mi>k</mi></msub></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{d_k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1828em;"/><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8572em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"/><span class="mord" style="padding-left:0.833em;"><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.8172em;"><span class="pstrut" style="height:3em;"/><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702&#10;c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14&#10;c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54&#10;c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10&#10;s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429&#10;c69,-144,104.5,-217.7,106.5,-221&#10;l0 -0&#10;c5.3,-9.3,12,-14,20,-14&#10;H400000v40H845.2724&#10;s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7&#10;c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z&#10;M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1828em;"><span/></span></span></span></span></span></span></span></span>ï¼Ÿ</strong><br/>
å¦‚æœÂ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">d_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>Â å¾ˆå¤§ï¼Œç‚¹ç§¯çš„ç»“æœä¼šå˜å¾—å¾ˆå¤§ï¼Œå¯¼è‡´ Softmax è¿›å…¥æ¢¯åº¦æå°çš„åŒºåŸŸï¼ˆé¥±å’ŒåŒºï¼‰ã€‚é™¤ä»¥æ ¹å·Â <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">d_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>Â å¯ä»¥è®©æ–¹å·®ä¿æŒåœ¨ 1 å·¦å³ï¼Œè®­ç»ƒæ›´ç¨³å®šã€‚</p>
</li>
<li>
<p><strong>Mask çš„å®ç°ï¼š</strong></p>
<ul>
<li>åœ¨Â <strong>Encoder</strong>Â ä¸­ï¼ŒMask ç”¨äºé®ç›–è¡¥é›¶çš„ Tokenï¼ˆPadding Maskï¼‰ã€‚</li>
<li>åœ¨Â <strong>Decoder</strong>Â ä¸­ï¼ŒMask æ˜¯ä¸€ä¸ªä¸‹ä¸‰è§’çŸ©é˜µï¼ˆCausal Maskï¼‰ï¼Œé˜²æ­¢æ¨¡å‹åœ¨é¢„æµ‹å½“å‰è¯æ—¶â€œå·çœ‹â€æœªæ¥çš„è¯ã€‚</li>
</ul>
</li>
<li>
<p><strong>Dimension é‡æ’ (View &amp; Transpose)ï¼š</strong><br/>
å¤šå¤´æ³¨æ„åŠ›çš„ç²¾é«“åœ¨äºå°†Â <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mrow><mi>m</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>l</mi></mrow></msub></mrow><annotation encoding="application/x-tex">d_{model}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>Â æ‹†å¼€ã€‚é€šè¿‡Â <code>transpose(1, 2)</code>ï¼Œæˆ‘ä»¬å°†Â <code>n_heads</code>Â ç»´åº¦æå‰ï¼Œè¿™æ ·åœ¨è®¡ç®—ç‚¹ç§¯æ—¶ï¼Œæ¯ä¸ªå¤´ä¹‹é—´æ˜¯å®Œå…¨ç‹¬ç«‹çš„å¹¶è¡Œè®¡ç®—ã€‚</p>
</li>
</ol>
<p>ä»£ç è°ƒç”¨æ–¹å¼ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å‡è®¾ d_model=512, 8ä¸ªå¤´, åºåˆ—é•¿åº¦ä¸º10, batchå¤§å°ä¸º2  </span>
mha = MultiHeadAttention(d_model=<span class="hljs-number">512</span>, n_heads=<span class="hljs-number">8</span>)  
x = torch.randn(<span class="hljs-number">2</span>, <span class="hljs-number">10</span>, <span class="hljs-number">512</span>)  

<span class="hljs-comment"># è‡ªæ³¨æ„åŠ›è®¡ç®— (Self-Attention)  </span>
output = mha(x, x, x, mask=<span class="hljs-literal">None</span>)  
<span class="hljs-built_in">print</span>(output.shape) <span class="hljs-comment"># è¾“å‡ºåº”ä¸º torch.Size([2, 10, 512])</span>
</code></pre>
<hr/>
<p>é‚£ä¸ºä»€ä¹ˆè¯´ä¸‹ä¸‰è§’çŸ©é˜µçš„è¡Œåˆ—å¼ä¸ä¸º0ï¼Œå°±æ„å‘³ç€æ»¡ç§©å‘¢ï¼Ÿè¿™é‡Œæ¶‰åŠåˆ°çº¿æ€§ä»£æ•°çš„ç›¸å…³åŸºç¡€è®¡ç®—ï¼Œè¿™é‡Œæ€»ç»“äº†çŸ©é˜µçš„ç§©å’Œè¡Œåˆ—å¼ä¹‹é—´çš„å…³è”ï¼š</p>
<h3 data-id="heading-5">çŸ©é˜µçš„ç§©å’Œè¡Œåˆ—å¼çš„å…³è”</h3>
<h4 data-id="heading-6">ç§©çš„å®šä¹‰</h4>
<p>çŸ©é˜µçš„ç§©ï¼šæœ¬è´¨ä¸Šæ˜¯åˆ—å‘é‡ï¼ˆæˆ–è¡Œå‘é‡ï¼‰çº¿æ€§æ— å…³å‘é‡çš„æœ€å¤§ä¸ªæ•°ã€‚åæ˜ äº†çŸ©é˜µæ‰€ä»£è¡¨çš„çº¿æ€§å˜æ¢å°†ç©ºé—´å‹ç¼©çš„ç¨‹åº¦ã€‚</p>
<p>å¦‚æœä¸€ä¸ªçŸ©é˜µçš„ç§©ç­‰äºè¡Œæ•°/åˆ—æ•°ï¼Œé‚£ä¹ˆå…¶ä»£è¡¨çš„å˜æ¢æ˜¯<strong>æ»¡ç§©</strong>çš„ï¼Œæ„å‘³ç€<strong>ä¸ä¼šå°†ç©ºé—´å‹ç¼©åˆ°æ›´ä½çš„ç»´åº¦</strong>ã€‚ï¼ˆè¡¨å¾æ›´ä¸°å¯Œï¼Œæ²¡æœ‰è¢«æ‹æ‰äº†ï¼‰</p>
<p><del>æ€ä¹ˆå’Œä¸‰ä½“é‡Œé¢çš„çŸ¥è¯†è”åŠ¨äº†</del></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec6041089d7c40aeb414089c63ca16f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGluY2hlbmdfcQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770716206&amp;x-signature=JRr%2Fx%2F8xjb7x0A1fOj2go9yqBK4%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-7">è®¡ç®—ç§©</h4>
<p>è¡Œé˜¶æ¢¯å½¢çŸ©é˜µä¸­éé›¶è¡Œçš„è¡Œæ•°å°±æ˜¯çŸ©é˜µçš„ç§©ã€‚</p>
<p>è€ŒçŸ©é˜µçš„ç§©çš„è®¡ç®—ï¼Œæœ€å¸¸ç”¨çš„æ˜¯é€šè¿‡è¡Œé˜¶æ¢¯çŸ©é˜µæ¥å®ç°ã€‚å³çŸ©é˜µé€šè¿‡åˆç­‰è¡Œå˜æ¢ï¼ˆäº¤æ¢ï¼ŒæŸè¡Œä¹˜ä»¥éé›¶å¸¸æ•°ï¼‰åŒ–ä¸ºè¡Œé˜¶æ¢¯çŸ©é˜µã€‚è¡Œé˜¶æ¢¯çŸ©é˜µçš„ç‰¹ç‚¹æ˜¯ï¼š</p>
<ul>
<li>éé›¶è¡Œéƒ½åœ¨é›¶è¡Œä¹‹ä¸Šã€‚</li>
<li>æ¯è¡Œç¬¬ä¸€ä¸ªéé›¶å…ƒç´ ï¼ˆç§°ä¸ºä¸»å…ƒæˆ–å…ˆå¯¼å…ƒç´ ï¼‰æ‰€åœ¨çš„åˆ—ï¼Œåœ¨è¯¥ä¸»å…ƒä¸‹æ–¹æ‰€æœ‰å…ƒç´ éƒ½æ˜¯é›¶ã€‚</li>
<li>ä¸»å…ƒæ‰€åœ¨çš„åˆ—ï¼Œå…¶å³ä¾§çš„è¡Œçš„ä¸»å…ƒå¿…é¡»åœ¨æ›´é å³çš„ä½ç½®ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c87abd1034b647dbb94550ad1c97613c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGluY2hlbmdfcQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770716206&amp;x-signature=cfm9h83YbXOpICoTLPM5YPkfRxs%3D" alt="" loading="lazy"/></p>
<p>è¡Œåˆ—å¼æ˜¯ä¸€ä¸ªæ ‡é‡å€¼ï¼Œå®ƒåæ˜ äº†æ–¹é˜µæ‰€ä»£è¡¨çš„çº¿æ€§å˜æ¢å¯¹ç©ºé—´ä½“ç§¯çš„ä¼¸ç¼©æ¯”ä¾‹ã€‚</p>
<ul>
<li>äºŒç»´ç©ºé—´ï¼š å¯¹äº 2Ã—22Ã—2 çŸ©é˜µï¼Œå…¶è¡Œåˆ—å¼çš„ç»å¯¹å€¼ä»£è¡¨äº†ç”±å…¶åˆ—å‘é‡ï¼ˆæˆ–è¡Œå‘é‡ï¼‰æ‰€å¼ æˆçš„å¹³è¡Œå››è¾¹å½¢çš„é¢ç§¯ã€‚</li>
<li>ä¸‰ç»´ç©ºé—´ï¼š å¯¹äº 3Ã—33Ã—3 çŸ©é˜µï¼Œå…¶è¡Œåˆ—å¼çš„ç»å¯¹å€¼ä»£è¡¨äº†ç”±å…¶åˆ—å‘é‡ï¼ˆæˆ–è¡Œå‘é‡ï¼‰æ‰€å¼ æˆçš„å¹³è¡Œå…­é¢ä½“çš„ä½“ç§¯ã€‚</li>
<li>æ›´é«˜ç»´åº¦ï¼š æ¨å¹¿åˆ° n ç»´ç©ºé—´ï¼Œè¡Œåˆ—å¼çš„ç»å¯¹å€¼ä»£è¡¨äº†ç”±å…¶åˆ—å‘é‡ï¼ˆæˆ–è¡Œå‘é‡ï¼‰æ‰€å¼ æˆçš„ n ç»´â€œå¹³è¡Œä½“â€çš„ä½“ç§¯ã€‚</li>
</ul>
<p>æ­¤å¤–ï¼Œè¡Œåˆ—å¼çš„æ­£è´Ÿè¡¨ç¤ºäº†å˜æ¢æ˜¯å¦æ”¹å˜äº†ç©ºé—´çš„å®šå‘ï¼ˆä¾‹å¦‚ï¼Œæ˜¯å¦å‘ç”Ÿäº†ç¿»è½¬ï¼‰ã€‚å¦‚æœè¡Œåˆ—å¼ä¸ºé›¶ï¼Œåˆ™æ„å‘³ç€å˜æ¢å°†ç©ºé—´å‹ç¼©åˆ°äº†æ›´ä½çš„ç»´åº¦ï¼Œä½“ç§¯å˜ä¸ºé›¶ã€‚</p>
<h4 data-id="heading-8"><strong>çŸ©é˜µçš„ç§©å’Œè¡Œåˆ—å¼ä¹‹é—´çš„å…³è”</strong></h4>
<ul>
<li>è¡Œåˆ—å¼ä¸ºé›¶ &lt;=&gt; çŸ©é˜µä¸å¯é€†</li>
</ul>
<p>å¦‚æœä¸€ä¸ªæ–¹é˜µçš„è¡Œåˆ—å¼ä¸ºé›¶æ„å‘³ç€å®ƒæ‰€ä»£è¡¨çš„çº¿æ€§å˜æ¢å°† n<em>n</em> ç»´ç©ºé—´å‹ç¼©åˆ°äº†ä¸€ä¸ªæ›´ä½çš„ç»´åº¦ï¼ˆä¾‹å¦‚ï¼Œå°†ä¸‰ç»´ç©ºé—´å‹ç¼©æˆä¸€ä¸ªå¹³é¢æˆ–ä¸€æ¡çº¿ï¼‰ã€‚å½“ç©ºé—´è¢«å‹ç¼©æ—¶ï¼Œä¸åŒçš„åŸå§‹å‘é‡å¯èƒ½ä¼šè¢«æ˜ å°„åˆ°ç›¸åŒçš„ç›®æ ‡å‘é‡ï¼Œå¯¼è‡´å˜æ¢æ˜¯ä¸å¯é€†çš„</p>
<ul>
<li>çŸ©é˜µä¸å¯é€† &lt;=&gt; çŸ©é˜µçš„åˆ—å‘é‡ï¼ˆæˆ–è¡Œå‘é‡ï¼‰çº¿æ€§ç›¸å…³</li>
</ul>
<p>å¦‚æœä¸€ä¸ªçŸ©é˜µçš„åˆ—å‘é‡æ˜¯çº¿æ€§ç›¸å…³çš„ï¼Œè¿™æ„å‘³ç€å…¶ä¸­è‡³å°‘æœ‰ä¸€ä¸ªåˆ—å‘é‡å¯ä»¥é€šè¿‡å…¶ä»–åˆ—å‘é‡çš„çº¿æ€§ç»„åˆæ¥è¡¨ç¤ºã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™äº›åˆ—å‘é‡æ— æ³•å¼ æˆæ•´ä¸ª n ç»´ç©ºé—´ï¼Œå®ƒä»¬åªèƒ½å¼ æˆä¸€ä¸ªæ›´ä½çš„å­ç©ºé—´ã€‚å½“å‘é‡æ— æ³•å¼ æˆæ•´ä¸ªç©ºé—´æ—¶ï¼Œå˜æ¢ä¼šâ€œä¸¢å¤±ä¿¡æ¯â€ï¼Œå¯¼è‡´ä¸å¯é€†</p>
<ul>
<li>çŸ©é˜µçš„åˆ—å‘é‡ï¼ˆæˆ–è¡Œå‘é‡ï¼‰çº¿æ€§ç›¸å…³ &lt;=&gt; çŸ©é˜µçš„ç§©å°äºå…¶ç»´æ•°</li>
</ul>
<p>çŸ©é˜µçš„ç§©å®šä¹‰ä¸ºçº¿æ€§æ— å…³åˆ—å‘é‡çš„æœ€å¤§ä¸ªæ•°ã€‚å¦‚æœåˆ—å‘é‡çº¿æ€§ç›¸å…³ï¼Œåˆ™çº¿æ€§æ— å…³çš„åˆ—å‘é‡æ•°é‡ä¼šå°‘äºçŸ©é˜µçš„åˆ—æ•°ï¼Œä»è€Œå¯¼è‡´ç§©å°äºçŸ©é˜µçš„ç»´æ•°ã€‚</p>
<p><strong>æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä»¥ä¸‹é‡è¦çš„ç­‰ä»·å…³ç³»ï¼ˆå¯¹äºÂ nÃ—nÂ æ–¹é˜µAï¼‰</strong></p>
<ol>
<li><strong>det(A)=0</strong>Â (è¡Œåˆ—å¼ä¸ºé›¶)</li>
<li><strong>çŸ©é˜µÂ AÂ ä¸å¯é€†</strong>Â (æ²¡æœ‰é€†çŸ©é˜µ)</li>
<li><strong>çŸ©é˜µÂ AÂ çš„åˆ—å‘é‡ï¼ˆæˆ–è¡Œå‘é‡ï¼‰çº¿æ€§ç›¸å…³</strong></li>
<li><strong>rank(A)&lt;n</strong>Â (ç§©å°äºçŸ©é˜µçš„ç»´æ•°ï¼Œå³ä¸æ»¡ç§©)</li>
<li><strong>çº¿æ€§æ–¹ç¨‹ç»„Â Ax=0Â æœ‰éé›¶è§£</strong>Â (é½æ¬¡çº¿æ€§æ–¹ç¨‹ç»„æœ‰æ— ç©·å¤šè§£)</li>
</ol>
<p><strong>åä¹‹ï¼Œå¦‚æœè¡Œåˆ—å¼ä¸ä¸ºé›¶ï¼Œåˆ™è¿™äº›æ¡ä»¶å…¨éƒ¨å–åï¼š</strong></p>
<ol>
<li><strong>det(A)â‰ 0</strong>Â (è¡Œåˆ—å¼ä¸ä¸ºé›¶)</li>
<li><strong>çŸ©é˜µÂ AÂ å¯é€†</strong>Â (å­˜åœ¨é€†çŸ©é˜µ)</li>
<li><strong>çŸ©é˜µÂ AÂ çš„åˆ—å‘é‡ï¼ˆæˆ–è¡Œå‘é‡ï¼‰çº¿æ€§æ— å…³</strong></li>
<li><strong>rank(A)=n</strong>Â (ç§©ç­‰äºçŸ©é˜µçš„ç»´æ•°ï¼Œå³æ»¡ç§©)</li>
<li><strong>çº¿æ€§æ–¹ç¨‹ç»„Â Ax=0Â åªæœ‰é›¶è§£</strong>Â (é½æ¬¡çº¿æ€§æ–¹ç¨‹ç»„åªæœ‰å”¯ä¸€é›¶è§£)</li>
</ol>
<p><strong>æ€»ç»“</strong>ï¼š</p>
<ul>
<li>è¡Œåˆ—å¼ä¸º0 &lt;=&gt; çŸ©é˜µä¸æ»¡ç§©</li>
<li>è¡Œåˆ—å¼ä¸ä¸º0 =&gt; æ»¡ç§©</li>
</ul>
<hr/>
<p>å¥½çš„ï¼Œäº†è§£å®Œè¡Œåˆ—å¼å’ŒçŸ©é˜µçš„ç§©çš„å…³è”ä¹‹åï¼Œä½ åº”è¯¥å½»åº•æ‡‚äº†ï¼Œè€Œä»€ä¹ˆEncoderçš„åŒå‘æ³¨æ„åŠ›ä¼šå¯¼è‡´ä½ç§©é—®é¢˜äº†ï¼Œè€Œdecoder-onlyçš„æ¶æ„å…·å¤‡æ›´å¼ºçš„è¡¨å¾èƒ½åŠ›ã€‚</p>
<p>è¿™é‡Œåœ¨è®¨è®ºä¸€ä¸‹æ›´å¹¿ä¹‰çš„ä½ç§©é—®é¢˜ï¼š</p>
<h3 data-id="heading-9">Low-Rank Bottleneck</h3>
<p>LLM ä¸­æ›´å¹¿ä¹‰çš„â€œä½ç§©é—®é¢˜â€ï¼ˆLow-Rank Bottleneckï¼‰é€šå¸¸æŒ‡çš„æ˜¯<strong>Softmax Bottleneck</strong>ï¼Œè¿™ç›´æ¥å½±å“æ¨¡å‹çš„èƒ½åŠ›ã€‚åœ¨LLMçš„è¾“å‡ºå±‚ï¼Œéœ€è¦ç”Ÿæˆä¸€ä¸ªè¯è¡¨å¤§å°(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span></span>)çš„æ¦‚ç‡åˆ†å¸ƒ, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mi>s</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>H</mi><mo>â‹…</mo><msup><mi>W</mi><mi>T</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p=softmax(H\cdot W^T)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"/><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">so</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>Hæ˜¯éšè—å±‚ï¼Œsizeä¸º<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>Ã—</mo><mi>d</mi><mo separator="true">,</mo><mi>d</mi><mtext>å³</mtext><mi>h</mi><mi>i</mi><mi>d</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>d</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>n</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mtext>ï¼Œå¦‚</mtext><mn>4096</mn></mrow><annotation encoding="application/x-tex">B\times d, då³hidden dimensionï¼Œå¦‚4096</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal">d</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal">d</span><span class="mord cjk_fallback">å³</span><span class="mord mathnormal">hi</span><span class="mord mathnormal">dd</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span><span class="mord mathnormal">im</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord cjk_fallback">ï¼Œå¦‚</span><span class="mord">4096</span></span></span></span></span></p>
<p>Wæ˜¯è¾“å‡ºåµŒå…¥çŸ©é˜µï¼Œsizeä¸º<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mo>Ã—</mo><mi>d</mi><mo separator="true">,</mo><mi>V</mi><mtext>å³è¯è¡¨å¤§å°ï¼Œå¦‚</mtext><mn>100</mn><mi>k</mi></mrow><annotation encoding="application/x-tex">V\times d, Vå³è¯è¡¨å¤§å°ï¼Œå¦‚100k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"/><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal">d</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mord cjk_fallback">å³è¯è¡¨å¤§å°ï¼Œå¦‚</span><span class="mord">100</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span></span></p>
<p>æœ€ç»ˆlogitsçŸ©é˜µçš„ç§©å—é™äºä¸­é—´ç»´åº¦ï¼Œå› ä¸º<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo>&lt;</mo><mo>&lt;</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">d &lt;&lt; V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em;"/><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">&lt;&lt;</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span></span>ï¼Œæ‰€ä»¥è¾“å‡ºçš„logitsçŸ©é˜µæ˜¯ä¸€ä¸ªä½ç§©çŸ©é˜µ</p>
<p>è€Œè‡ªç„¶è¯­è¨€çš„çœŸå®åˆ†å¸ƒæ˜¯éå¸¸å¤æ‚çš„ï¼Œç†è®ºä¸Šå¯èƒ½éœ€è¦æ»¡ç§©ï¼ˆRank Vï¼‰æ‰èƒ½å®Œç¾æ‹Ÿåˆã€‚ç”¨ä¸€ä¸ªä½ç§©çŸ©é˜µå»å¼ºè¡Œæ‹Ÿåˆä¸€ä¸ªé«˜ç§©çš„çœŸå®æ•°æ®åˆ†å¸ƒï¼Œå°±æ˜¯<strong>ä½ç§©ç“¶é¢ˆ</strong>ã€‚</p>
<p>å½“å‡ºç°ä½ç§©é—®é¢˜æ—¶ï¼ŒLLMä¸»è¦è¡¨ç°ä¸ºè¡¨è¾¾å¤šæ ·æ€§èƒ½åŠ›çš„ä¸‹é™ï¼š</p>
<ul>
<li><strong>å›°æƒ‘åº¦ï¼ˆPerplexityï¼‰æ— æ³•ç»§ç»­ä¸‹é™ï¼š</strong> æ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šå·²ç»æ‹Ÿåˆä¸åŠ¨äº†ï¼Œå› ä¸ºå®ƒçš„å‡ ä½•ç©ºé—´ä¸å¤Ÿå¤§ï¼Œæ— æ³•å°†å¤æ‚çš„è¯­è¨€æ¨¡å¼åŒºåˆ†å¼€ã€‚</li>
<li><strong>é€€åŒ–ä¸é‡å¤ï¼ˆDegeneracyï¼‰ï¼š</strong> æ¨¡å‹ç”Ÿæˆçš„æ–‡æœ¬å®¹æ˜“é™·å…¥å¾ªç¯æˆ–é‡å¤ã€‚å› ä¸ºåœ¨ä½ç§©æŠ•å½±ä¸‹ï¼ŒåŸæœ¬åº”è¯¥æœ‰ç»†å¾®å·®åˆ«çš„ä¸¤ä¸ªè¯ï¼ˆä¾‹å¦‚â€œé«˜å…´â€å’Œâ€œæ„‰æ‚¦â€ï¼‰ï¼Œåœ¨ä½ç»´ç©ºé—´é‡Œé‡å äº†ï¼Œæ¨¡å‹æ— æ³•åŒºåˆ†å®ƒä»¬çš„è¯­å¢ƒå·®å¼‚ã€‚</li>
<li><strong>å¤šä¹‰è¯ç†è§£å˜å·®ï¼š</strong> æ¯”å¦‚ context å˜äº†ï¼Œä½†æ¨¡å‹è¾“å‡ºçš„æ¦‚ç‡åˆ†å¸ƒæ²¡å˜ï¼Œå› ä¸ºå®ƒç¼ºä¹è¶³å¤Ÿçš„ç»´åº¦æ¥ç¼–ç è¿™ç§ä¸Šä¸‹æ–‡çš„å˜æ¢ã€‚</li>
</ul>
<blockquote>
<p>è¯´åˆ°å¤è¯»æœºé—®é¢˜ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆdecoder-onlyä¸­çš„attnçŸ©é˜µæ˜æ˜æ˜¯æ»¡ç§©çš„ï¼ŒæŒ‰é“ç†æ¥è¯´è¡¨å¾åº”è¯¥æ›´ä¸°å¯Œï¼Œä¸ä¼šé™·å…¥åˆ°ä½ç»´åå¡Œä¸­ï¼Œå¯æ˜¯æˆ‘ä»¬åˆæœŸåœ¨ä½¿ç”¨LLMçš„æ—¶å€™ï¼Œä¼šç»å¸¸çœ‹åˆ°ä»–é‡å¤è¾“å‡ºä¸€äº›æ— æ„ä¹‰çš„å†…å®¹ã€‚</p>
</blockquote>
<p>è¿™é‡Œç»™å‡ºGeminiçš„å›ç­”ï¼š</p>
<p><strong>AttentionçŸ©é˜µæ»¡ç§©ï¼ˆFull Rankï¼‰åªä»£è¡¨æ¨¡å‹å…·å¤‡â€œåŒºåˆ†ä¸åŒtokenä½ç½®â€çš„èƒ½åŠ›ï¼ˆè¡¨è¾¾èƒ½åŠ›ï¼‰ï¼Œå¹¶ä¸ä»£è¡¨æ¨¡å‹ä¼šâ€œä¸»åŠ¨é€‰æ‹©å¤šæ ·åŒ–â€çš„è¾“å‡ºï¼ˆè¡Œä¸ºç­–ç•¥ï¼‰ã€‚</strong></p>
<p>å¯ä»¥ä»ä»¥ä¸‹ä¸‰ä¸ªç»´åº¦æ¥åˆ†æï¼š</p>
<h4 data-id="heading-10">1. è‡ªå›å½’</h4>
<p>GPTçš„æœ¬è´¨æ˜¯ä¸€ä¸ªè‡ªå›å½’æ¨¡å‹ï¼ˆAutoregressive Modelï¼‰ï¼Œå…¶ç”Ÿæˆå…¬å¼ä¸ºï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>t</mi></msub><mi mathvariant="normal">âˆ£</mi><msub><mi>x</mi><mrow><mo>&lt;</mo><mi>t</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(x_t | x_{&lt;t})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight">&lt;</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1774em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<blockquote>
<p>è‡ªå›å½’ï¼ˆAuto + Regressionï¼‰,<strong>ç”¨â€œè‡ªå·±å·²ç»ç”Ÿæˆçš„ç»“æœâ€ï¼Œç»§ç»­é¢„æµ‹åé¢çš„ç»“æœ</strong></p>
</blockquote>
<blockquote>
<p>éè‡ªå›å½’æ¨¡å‹, <strong>BERT</strong>ã€‚ BERTæ˜¯ä¸€ä¸ªåŸºäºÂ TransformerÂ Encoder çš„é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹ã€‚å®ƒçš„æ ¸å¿ƒç›®æ ‡æ˜¯<strong>ç†è§£æ–‡æœ¬ï¼Œè€Œä¸æ˜¯ç”Ÿæˆæ–‡æœ¬</strong>ã€‚ï¼ˆåŒå‘æ³¨æ„åŠ›ï¼Œè®­ç»ƒçš„ç›®çš„æ˜¯ å¡«ç©ºï¼‰</p>
</blockquote>
<ul>
<li>
<p><strong>æ­£åé¦ˆå¾ªç¯ï¼ˆPositive Feedback Loopï¼‰ï¼š</strong></p>
<p>å½“ä½ ç”Ÿæˆäº†ä¸€ä¸ªtokenï¼ˆæ¯”å¦‚â€œæ˜¯â€ï¼‰ï¼Œè¿™ä¸ªtokenç«‹åˆ»å˜æˆäº†ä¸‹ä¸€ä¸ªæ—¶é—´æ­¥çš„<strong>è¾“å…¥</strong>ã€‚</p>
<p>å¦‚æœæ¨¡å‹åœ¨è®­ç»ƒæ•°æ®ä¸­è§è¿‡å¾ˆå¤šé‡å¤çš„æ¨¡å¼ï¼ˆæ¯”å¦‚åˆ—è¡¨ã€ä»£ç ç¼©è¿›ã€å¼ºè°ƒå¥ï¼‰ï¼Œæˆ–è€…æ¨¡å‹å¯¹å½“å‰è¯­å¢ƒçš„åˆ¤æ–­å‡ºç°äº†â€œä¸ç¡®å®šæ€§åç¼©â€ï¼Œå®ƒå¯èƒ½ä¼šè®¤ä¸ºâ€œé‡å¤ä¸Šä¸€ä¸ªè¯â€æ˜¯æ¦‚ç‡æœ€å®‰å…¨çš„é€‰æ‹©ã€‚</p>
</li>
<li>
<p><strong>å¸å¼•å­ï¼ˆAttractor Stateï¼‰ï¼š</strong></p>
<p>ä¸€æ—¦æ¨¡å‹ç”Ÿæˆäº† <code>A, A</code>ï¼Œè¾“å…¥å˜æˆäº† <code>...A, A</code>ã€‚</p>
<p>åœ¨Attentionæœºåˆ¶ä¸­ï¼ŒQuery (å½“å‰token) ä¼šå»å’Œ Keys (å†å²token) åšç‚¹ç§¯ã€‚å¦‚æœå†å²ä¸­å……æ–¥ç€å¤§é‡çš„ <code>A</code>ï¼ŒQuery <code>A</code> å’Œ Key <code>A</code> çš„ç›¸ä¼¼åº¦æé«˜ã€‚</p>
<p>è¿™å°†å¯¼è‡´ Attention Score æ›´åŠ é›†ä¸­åœ¨è¿™äº›é‡å¤çš„ token ä¸Šï¼Œè¾“å‡ºæ¦‚ç‡åˆ†å¸ƒ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>n</mi><mi>e</mi><mi>x</mi><mi>t</mi></mrow></msub><mo>=</mo><mi>A</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(x_{next}=A)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">x</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">A</span><span class="mclose">)</span></span></span></span></span> è¿›ä¸€æ­¥æ¥è¿‘ 1.0ã€‚</p>
<p>è¿™å°±å½¢æˆäº†ä¸€ä¸ªåŠ¨åŠ›å­¦ç³»ç»Ÿä¸­çš„<strong>å¼ºå¸å¼•å­</strong>â€”â€”ä¸€æ—¦æ‰è¿›å»ï¼Œå°±å‡ºä¸æ¥äº†ã€‚</p>
</li>
</ul>
<h4 data-id="heading-11">2. çº¿æ€§ä»£æ•°è§†è§’ï¼šæ»¡ç§©ä¸â€œå„å‘å¼‚æ€§â€</h4>
<p>â€œæ»¡ç§©â€æ˜¯æŒ‡ Decoder çš„ Masked Attention Matrixï¼ˆä¸‹ä¸‰è§’çŸ©é˜µï¼‰ç†è®ºä¸Šæ˜¯æ»¡ç§©çš„ï¼ˆå¯¹è§’çº¿éé›¶å³å¯é€†ï¼‰ã€‚</p>
<ul>
<li>
<p><strong>æ»¡ç§© <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo mathvariant="normal">â‰ </mo></mrow><annotation encoding="application/x-tex">\neq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="inner"><span class="mord"><span class="mrel">î€ </span></span></span><span class="fix"/></span></span></span></span><span class="mrel">=</span></span></span></span></span></span> å‡åŒ€åˆ†å¸ƒï¼š</strong></p>
<p>çŸ©é˜µæ»¡ç§©åªæ„å‘³ç€è¡Œå‘é‡çº¿æ€§æ— å…³ï¼Œæ„å‘³ç€æ¨¡å‹<strong>æœ‰èƒ½åŠ›</strong>å…³æ³¨åˆ°æ¯ä¸€ä¸ªå†å²æ—¶åˆ»ã€‚ä½†æ˜¯ï¼Œ<strong>Attention çš„æ ¸å¿ƒæ˜¯ Softmax</strong>ã€‚</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Attention</mtext><mo stretchy="false">(</mo><mi>Q</mi><mo separator="true">,</mo><mi>K</mi><mo separator="true">,</mo><mi>V</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>Softmax</mtext><mo stretchy="false">(</mo><mfrac><mrow><mi>Q</mi><msup><mi>K</mi><mi>T</mi></msup></mrow><msqrt><msub><mi>d</mi><mi>k</mi></msub></msqrt></mfrac><mo stretchy="false">)</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">\text{Attention}(Q, K, V) = \text{Softmax}(\frac{QK^T}{\sqrt{d_k}})V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord text"><span class="mord">Attention</span></span><span class="mopen">(</span><span class="mord mathnormal">Q</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.6275em;vertical-align:-0.538em;"/><span class="mord text"><span class="mord">Softmax</span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0895em;"><span style="top:-2.5864em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8622em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"/><span class="mord mtight" style="padding-left:0.833em;"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span/></span></span></span></span></span></span></span><span style="top:-2.8222em;"><span class="pstrut" style="height:3em;"/><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702&#10;c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14&#10;c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54&#10;c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10&#10;s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429&#10;c69,-144,104.5,-217.7,106.5,-221&#10;l0 -0&#10;c5.3,-9.3,12,-14,20,-14&#10;H400000v40H845.2724&#10;s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7&#10;c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z&#10;M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1778em;"><span/></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">Q</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9191em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.538em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span></span></p>
</li>
<li>
<p><strong>Softmax çš„ç¨€ç–åŒ–å€¾å‘ï¼š</strong></p>
<p>Softmax æ˜¯ä¸€ä¸ªæŒ‡æ•°å‡½æ•°ï¼Œå®ƒä¼šæå¤§åœ°æ”¾å¤§ Logits ä¹‹é—´çš„å¾®å°å·®å¼‚ã€‚</p>
<p>å‡è®¾ Context ä¸­æœ‰ 100 ä¸ª tokenï¼Œå¦‚æœç¬¬ 99 ä¸ª token å’Œå½“å‰çš„ Query ç›¸ä¼¼åº¦ç¨å¾®é«˜ä¸€ç‚¹ï¼ˆæ¯”å¦‚ç‚¹ç§¯æ˜¯ 10ï¼Œå…¶ä»–æ˜¯ 5ï¼‰ï¼Œç»è¿‡ Softmax åï¼Œç¬¬ 99 ä¸ª token çš„æƒé‡å¯èƒ½æ¥è¿‘ 0.99ï¼Œè€Œå…¶ä»– 99 ä¸ª token çš„æƒé‡ä¹‹å’Œä¸åˆ° 0.01ã€‚</p>
<p><strong>è™½ç„¶çŸ©é˜µåœ¨æ•°å­¦ä¸Šæ˜¯æ»¡ç§©çš„ï¼Œä½†åœ¨æ•°å€¼ä¸Šï¼Œå®ƒé€€åŒ–æˆäº†ä¸€ä¸ªæå…¶ç¨€ç–çš„çŸ©é˜µï¼ˆæ¥è¿‘ One-hotï¼‰ã€‚</strong> è¿™å¯¼è‡´æ¨¡å‹å®é™…ä¸Šâ€œçœ‹ä¸è§â€å…¶ä»–çš„ä¸Šä¸‹æ–‡ï¼Œåªèƒ½çœ‹åˆ°é‚£ä¸ªå¼•å‘å®ƒå¤è¯»çš„ tokenã€‚</p>
</li>
</ul>
<h4 data-id="heading-12">3. å‡ ä½•è§†è§’ï¼šè¡¨ç¤ºç©ºé—´çš„åç¼© (Representation Collapse)</h4>
<p>è¿™æ˜¯æ›´æ·±å±‚çš„è§£é‡Šï¼Œæ¶‰åŠåˆ° Embedding ç©ºé—´çš„å‡ ä½•å½¢çŠ¶ã€‚</p>
<ul>
<li>
<p><strong>é”¥å½¢æ•ˆåº” (The Cone Effect)ï¼š</strong></p>
<p>ç ”ç©¶å‘ç°ï¼Œæ·±å±‚ Transformer çš„ Token Embedding å¾€å¾€å­˜åœ¨<strong>å„å‘å¼‚æ€§ï¼ˆAnisotropyï¼‰</strong> ã€‚å³æ‰€æœ‰çš„ Token å‘é‡éƒ½æŒ¤åœ¨å‘é‡ç©ºé—´çš„ä¸€ä¸ªç‹­çª„åœ†é”¥ä½“å†…ã€‚</p>
</li>
<li>
<p><strong>ä½™å¼¦ç›¸ä¼¼åº¦çš„å¤±æ•ˆï¼š</strong></p>
<p>å½“æ‰€æœ‰å‘é‡éƒ½æŒ¤åœ¨ä¸€èµ·æ—¶ï¼Œå®ƒä»¬ä¹‹é—´çš„ä½™å¼¦ç›¸ä¼¼åº¦éƒ½å¾ˆé«˜ã€‚ä¸ºäº†åŒºåˆ†å®ƒä»¬ï¼Œæ¨¡å‹å¿…é¡»æåº¦ä¾èµ–å±€éƒ¨çš„æœ€è¿‘é‚»å…³ç³»ã€‚</p>
<p>å½“å‡ºç°é‡å¤æ—¶ï¼Œé‡å¤çš„ token åœ¨ç©ºé—´ä¸­æ˜¯é‡å çš„ã€‚æ¨¡å‹ä¸ºäº†â€œçœåŠ›â€ï¼ˆæœ€å°åŒ–æŸå¤±ï¼‰ï¼Œå€¾å‘äºç›´æ¥å¤åˆ¶æœ€è¿‘çš„å¼ºä¿¡å·ï¼Œè€Œä¸æ˜¯å»ä»é•¿è·ç¦»ä¸Šä¸‹æ–‡ä¸­æ¨ç†å¤æ‚çš„è¯­ä¹‰ã€‚</p>
</li>
</ul>
<p>æ‰€ä»¥ï¼Œå¤è¯»æœºä¸æ˜¯â€œç”±äºçŸ©é˜µç¼ºç§©å¯¼è‡´æ— æ³•è®¿é—®å†å²ä¿¡æ¯â€ï¼Œè€Œæ˜¯â€œ<strong>ç”±äºæ¦‚ç‡åˆ†å¸ƒçš„å³°å€¼åŒ–ï¼ˆPeakingï¼‰å’Œè‡ªå›å½’çš„æƒ¯æ€§ï¼Œå¯¼è‡´æ¨¡å‹ä¸»åŠ¨é€‰æ‹©äº†é‡å¤</strong>â€ã€‚</p>
<p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåœ¨æ¨ç†é˜¶æ®µï¼Œæˆ‘ä»¬å¿…é¡»å¼•å…¥<strong>å·¥ç¨‹æ‰‹æ®µ</strong>æ¥æ‰“ç ´è¿™ä¸ªå¾ªç¯ï¼Œä¾‹å¦‚ï¼š</p>
<ol>
<li><strong>Temperature &gt; 0ï¼š</strong> å¼ºåˆ¶å±•å¹³æ¦‚ç‡åˆ†å¸ƒï¼Œå¢åŠ éšæœºæ€§ã€‚</li>
<li><strong>Repetition Penaltyï¼ˆé‡å¤æƒ©ç½šï¼‰ï¼š</strong> äººä¸ºé™ä½å·²å‡ºç° token çš„ Logitsã€‚</li>
<li><strong>Top-P / Top-K Samplingï¼š</strong> æˆªæ–­é•¿å°¾ï¼Œä½†ä¹Ÿé˜²æ­¢å•çº¯çš„ Argmax é™·å…¥å±€éƒ¨æœ€ä¼˜ã€‚</li>
</ol>
<h3 data-id="heading-13">æ€»ç»“</h3>
<p>æ‰€ä»¥ï¼Œä¸ºä»€ä¹ˆç°åœ¨çš„LLMéƒ½æ˜¯Decoder-onlyæ¶æ„ï¼Ÿ</p>
<ol>
<li><strong>å› æœå¾‹ï¼ˆCausal Maskï¼‰</strong> Â å¯¼è‡´äº†Â <strong>æ•°å­¦ä¸Šçš„ä¸‹ä¸‰è§’ç»“æ„</strong>ã€‚</li>
<li><strong>ä¸‹ä¸‰è§’ç»“æ„ + Softmax</strong>Â ä¿è¯äº†Â <strong>çŸ©é˜µæ°¸è¿œæ»¡ç§©</strong>ã€‚</li>
<li><strong>æ»¡ç§©</strong>Â ç¡®ä¿äº†Â <strong>ç‰¹å¾ç©ºé—´çš„ç»´åº¦ä¸åå¡Œ</strong>ï¼Œä»è€Œè®©æ¨¡å‹èƒ½å¤Ÿæ‰¿è½½æ›´å¤§è§„æ¨¡çš„çŸ¥è¯†</li>
</ol>
<p>Encoder çš„åŒå‘æ³¨æ„åŠ›è™½ç„¶åœ¨â€œè·å–ä¸Šä¸‹æ–‡â€ä¸Šæ›´ç›´è§‚ï¼Œä½†ç”±äºç¼ºä¹ç»“æ„æ€§çº¦æŸï¼Œåœ¨å¤§è§„æ¨¡å‚æ•°ä¸‹å®¹æ˜“é™·å…¥ä½ç§©é™·é˜±ï¼ˆè¿‡å¹³æ»‘ï¼‰ã€‚è€ŒÂ <strong>Decoder-only æ¶æ„é€šè¿‡â€œèˆå¼ƒâ€æœªæ¥çš„è§†é‡ï¼Œæ¢å–äº†æ•°å­¦ä¸Šæ›´ç¨³å¥ã€ç§©æ›´é«˜ã€è¡¨è¾¾åŠ›æ›´æŒä¹…çš„è¡¨å¾ç©ºé—´ã€‚</strong> è¿™æ­£æ˜¯ä¸ºä»€ä¹ˆ GPT ç³»åˆ—ï¼ˆDecoder-onlyï¼‰èƒ½æ‰©å±•åˆ°åƒäº¿ã€ä¸‡äº¿å‚æ•°è€Œä¸æ–­è£‚ï¼Œè€Œ BERT ç³»åˆ—ï¼ˆEncoderï¼‰åœ¨æ‰©å¤§è§„æ¨¡æ—¶è¾¹é™…æ•ˆåº”é€’å‡æ›´å¿«çš„åŸå› ä¹‹ä¸€ã€‚</p>
<hr/>
<p>äº†è§£å®Œä½ç§©åå¡Œçš„é—®é¢˜ä¹‹åï¼Œä½ æ˜¯å¦ç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆä½ç§©çŸ©é˜µä¼šå‡ºç°åå¡Œï¼Œä½†æ˜¯LoRAï¼ˆä½ç§©çŸ©é˜µï¼‰åœ¨å¤§æ¨¡å‹å¾®è°ƒä¸­è¿˜é‚£ä¹ˆç«å‘¢ï¼Ÿè¯·å‚è€ƒ<a href="https://juejin.cn/post/7602064004317708351" target="_blank" title="https://juejin.cn/post/7602064004317708351">ã€LLMã€‘ä¸ºä»€ä¹ˆLoRAä¸­ä½ç§©çŸ©é˜µæ˜¯ä¸€ä¸ªä¼˜åŠ¿ï¼Ÿ</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ‡2025 AI/Vibe Coding å¯¹æˆ‘çš„å½±å“ | å¹´ç»ˆå¾æ–‡è·å¥–å…¬ç¤º]]></title>    <link>https://juejin.cn/post/7602216700747792384</link>    <guid>https://juejin.cn/post/7602216700747792384</guid>    <pubDate>2026-02-03T09:50:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602216700747792384" data-draft-id="7602205524718911522" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ‡2025 AI/Vibe Coding å¯¹æˆ‘çš„å½±å“ | å¹´ç»ˆå¾æ–‡è·å¥–å…¬ç¤º"/> <meta itemprop="keywords" content="å‰ç«¯,äººå·¥æ™ºèƒ½,Trae"/> <meta itemprop="datePublished" content="2026-02-03T09:50:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘é…±"/> <meta itemprop="url" content="https://juejin.cn/user/1556564194374926"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ‡2025 AI/Vibe Coding å¯¹æˆ‘çš„å½±å“ | å¹´ç»ˆå¾æ–‡è·å¥–å…¬ç¤º
            <!----> <!----></h1> <div class="container team-follow" data-v-d326b38e="" data-v-61fb5e44=""><div class="left" data-v-d326b38e=""><a href="/team/7255271989291450420/posts" data-v-d326b38e=""><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7b3e5e62bb3a4eff89269d51825c4a1f~tplv-k3u1fbpfcp-watermark.image?" class="icon" data-v-d326b38e=""/></a> <div class="content" data-v-d326b38e=""><div style="display: flex" data-v-d326b38e=""><a href="/team/7255271989291450420/posts" data-v-d326b38e=""><p class="title-line" data-v-d326b38e=""><span title="æ˜é‡‘è¿è¥å›¢é˜Ÿ" class="title" data-v-d326b38e="">æ˜é‡‘è¿è¥å›¢é˜Ÿ</span> <img src="//lf-web-assets.juejin.cn/obj/juejin-web/xitu_juejin_web/255e400027b783cbad76dc41527e7695.svg" alt="team icon" class="team-icon" data-v-d326b38e=""/></p></a></div> <div class="meta-box team" data-v-d326b38e="" data-v-61fb5e44=""><time datetime="2026-02-03T09:50:21.000Z" title="Tue Feb 03 2026 09:50:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-d326b38e="" data-v-61fb5e44="">
                2026-02-03
              </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-d326b38e="" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-d326b38e="" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-d326b38e="" data-v-61fb5e44=""/></svg> <span class="views-count" style="display:none;" data-v-d326b38e="" data-v-61fb5e44="">
                3
              </span> <span class="read-time" data-v-d326b38e="" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-d326b38e="" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-d326b38e="" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-d326b38e="" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-d326b38e="" data-v-61fb5e44=""/></svg>
                é˜…è¯»3åˆ†é’Ÿ
              </span> <!----> <!----></div></div></div> <button class="jj-follow-button follow-btn" style="display:none;" data-v-b60b2868="" data-v-d326b38e=""><span data-v-b60b2868="" data-v-d326b38e=""><i class="byte-icon byte-icon--plus" data-v-d326b38e=""><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 48 48"><path fill="none" d="M0 0h48v48H0z"/><path d="M24.7 4c.4 0 .6 0 .8.1.2.1.3.2.4.4.1.2.1.3.1.8V22h16.7c.4 0 .6 0 .8.1.2.1.3.2.4.4.1.2.1.3.1.8v1.4c0 .4 0 .6-.1.8-.1.2-.2.3-.4.4-.2.1-.3.1-.8.1H26v16.7c0 .4 0 .6-.1.8-.1.2-.2.3-.4.4-.2.1-.3.1-.8.1h-1.4c-.4 0-.6 0-.8-.1-.2-.1-.3-.2-.4-.4-.1-.2-.1-.3-.1-.8V26H5.3c-.4 0-.6 0-.8-.1-.2-.1-.3-.2-.4-.4-.1-.2-.1-.3-.1-.8v-1.4c0-.4 0-.6.1-.8.1-.2.2-.3.4-.4.2-.1.3-.1.8-.1H22V5.3c0-.4 0-.6.1-.8.1-.2.2-.3.4-.4.2-.1.3-.1.8-.1h1.4z"/></svg></i>
        å…³æ³¨
      </span></button></div> <div class="team-user block-hidden" data-v-61fb5e44=""><div class="avatar jj-avatar avatar" data-v-03256cc6="" data-v-61fb5e44=""><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="avatar" class="lazy avatar-img" data-v-5244ef91="" data-v-03256cc6=""/> </div> <!----> <span class="position ellipsis" data-v-61fb5e44="">
              â¤é¦–å¸­å®¢æœå› @æ˜é‡‘
            </span></div> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p>ğŸ‰2025å¹´ â€œAI/Vibe Coding å¯¹æˆ‘çš„å½±å“â€ å¹´ç»ˆå¾æ–‡ æ­£å¼è½å¹•å•¦ï¼</p>
<p>æœ¬æœŸæ´»åŠ¨å…±æœ‰ <strong>300ï¼‹</strong> ä½ç”¨æˆ·å‚ä¸è¿™åœºä¸“å±ç¤¾åŒºçš„å¹´ç»ˆâ€œå›´ç‚‰å¤œè¯â€ï¼Œæ„Ÿè°¢æ¯ä½æ˜å‹çš„ä»˜å‡ºï¼</p>
<p>ä»æ™ºèƒ½ä½“ï¼ˆAgentï¼‰çš„æ¨ªç©ºå‡ºä¸–åˆ°å¤šæ¨¡æ€æŠ€æœ¯çš„ç»éªŒçªç ´ï¼ŒæŠ€æœ¯æ„ˆåŠ æ·±å…¥åœ°æµæ·Œè¿›æˆ‘ä»¬çš„å·¥ä½œå’Œç”Ÿæ´»ã€‚æ˜å‹ä»¬æ¯ä¸€æ¬¡çš„è®°å½•ï¼Œéƒ½å…±åŒå¡‘é€ ç€ä¸“å±äºç¤¾åŒºçš„AIâ€œæ•°å­—å¹´è½®â€</p>
<blockquote>
<p>ç”±äºç“œåˆ†å¥–æ± ç”¨æˆ·è¾ƒå¤šï¼Œè¯¦ç»†çš„åå•å…¬ç¤ºå¦‚ä¸‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fbytedance.larkoffice.com%2Fsheets%2FK5WVsTzDYhXuevt0MTycORMpnDe%3Fsheet%3D7dUioD" target="_blank" title="https://bytedance.larkoffice.com/sheets/K5WVsTzDYhXuevt0MTycORMpnDe?sheet=7dUioD" ref="nofollow noopener noreferrer">2025å¹´åº¦æŠ€æœ¯æ€»ç»“å¾æ–‡æ´»åŠ¨_è·å¥–åå•</a></p>
</blockquote>
<blockquote>
<p>å¦‚ä½•å¿«é€Ÿæ‰¾åˆ°è‡ªå·±ï¼šè¿›å…¥é£ä¹¦è¡¨æ ¼åï¼Œä½¿ç”¨ Ctr+F æœç´¢è‡ªå·±çš„ç”¨æˆ·åæˆ– ç”¨æˆ·idï¼Œé€‰æ‹©â€œæ‰€æœ‰å·¥ä½œè¡¨â€ï¼ˆ ç”¨æˆ· id å³æ˜é‡‘ä¸»é¡µÂ <a href="https://juejin.cn/XXXXXX" title="https://juejin.cn/XXXXXX" target="_blank">juejin.cn/XXXXXX</a>Â æœ€åçš„ä¸€ä¸²æ•°å­—ï¼‰ã€‚ä¹‹å‰æ‰“å¼€è¿‡æœ¬è¡¨åŒå­¦è¯·åˆ·æ–°è¡¨å•ï¼Œå¥–é¡¹æˆ–æœ‰å¢è¡¥ï¼Œä»¥æœ€æ–°çš„è¡¨æ ¼ä¸ºå‡†ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d61cfa5b44d8423f8b052b03531f9e61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770717020&amp;x-signature=3dbGt%2BJueJkvGmME5EiiQ3Mtv%2Fs%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0">æ´»åŠ¨å¥–å“</h2>
<blockquote>
<p><em>æ–‡ç« å°†æ ¹æ®<strong>ä¸“å®¶è¯„å®¡å¾—åˆ†</strong>ï¼ˆå æ¯”70%ï¼‰å’Œ<strong>æ–‡ç« çƒ­åº¦</strong>ï¼ˆå æ¯”30%ï¼‰å¾—åˆ†åŠ æƒè®¡ç®—ã€‚<strong>æœªè·å¾—å®˜æ–¹æ¨è</strong>çš„æ–‡ç« ä¸å‚ä¸å¥–é¡¹è¯„é€‰ã€‚</em></p>
</blockquote>





























































<table><thead><tr><th>å¥–é¡¹åç§°</th><th>å¥–é¡¹è®¾ç½®</th><th>è·å¥–äººæ•°</th><th>å¥–å“åç§°</th><th>å¥–å“å›¾</th></tr></thead><tbody><tr><td><strong>ä¼˜ç§€æ–‡ç« å¥–</strong></td><td>æ–‡ç« Top 10</td><td>10å</td><td>å°ç†Šï¼ˆBearï¼‰ç”µçƒ§çƒ¤ç‚‰ å¤šåŠŸèƒ½æ–™ç†é”…ç”µçƒ¤ç‚‰ DKL-D12A1</td><td><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfe1f14ebbba4ef4b00c4f1c9f804a58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770717020&amp;x-signature=Fgdh9PCNn0n6eCu3r1BzH3m7UaE%3D" alt="image.png" loading="lazy"/></td></tr><tr><td><strong>æ˜é‡‘è¾¾äººå¥–</strong></td><td>æ–‡ç« Top 11-40</td><td>30å</td><td>ç¨€åœŸæ˜é‡‘ YoyoæŠ±æ•æ–°ç‰ˆ-450g</td><td><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0994f46b5f64a0983edcae0dcaf582b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770717020&amp;x-signature=Dtkb6BXzf2GkIr%2BhZWGezpph%2FD0%3D" alt="" loading="lazy"/></td></tr><tr><td><strong>é˜³å…‰æ™®ç…§å¥–</strong></td><td>æ–‡ç« Top 41-100</td><td>60å</td><td>ç¨€åœŸæ˜é‡‘ x ByteMall è”åç›²ç›’</td><td><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a503e8c6651439081513b9eebf0e548~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770717020&amp;x-signature=tBnvDswwowSpUXLvDpOZiAaQovI%3D" alt="" loading="lazy"/></td></tr><tr><td><strong>TRAEç‰¹åˆ«èµ›é“é¼“åŠ±å¥–ï¼ˆå åŠ ï¼‰</strong></td><td>TOP1-10</td><td>10å</td><td>ä»·å€¼200å…ƒ TRAEè¿å¸½å«è¡£+æŠ±æ•</td><td><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3df35e973e984ffabc678b056123c053~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770717020&amp;x-signature=%2FiZv%2FHVCGoQsRPOtgHHy5JEOTxw%3D" alt="" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9cdcce418454a83810d84be38fcfc78~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770717020&amp;x-signature=G9PFHdpe%2Ffs%2BbWW1FpuZZMbOu8g%3D" alt="" loading="lazy"/></td></tr><tr><td><strong>TRAEç‰¹åˆ«èµ›é“é¼“åŠ±å¥–ï¼ˆå åŠ ï¼‰</strong></td><td>TOP11-30</td><td>20å</td><td>ä»·å€¼100å…ƒ TRAEåœ†é¢†å«è¡£</td><td><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cea27183efa24e44b251b24b35ba9434~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770717020&amp;x-signature=kgBITZcwHe4pmsyqsM5OLs9LmN4%3D" alt="" loading="lazy"/></td></tr><tr><td><strong>TRAEç‰¹åˆ«èµ›é“é¼“åŠ±å¥–ï¼ˆå åŠ ï¼‰</strong></td><td>TOP31-50</td><td>20å</td><td>ä»·å€¼50å…ƒ TRAEå•è‚©åŒ…</td><td><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/148795305e4248a684ba2a4c95709a06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770717020&amp;x-signature=f6GeeqUoV19XppWnd44PqaPb5LU%3D" alt="" loading="lazy"/></td></tr><tr><td><strong>TRAEç‰¹åˆ«èµ›é“é¼“åŠ±å¥–ï¼ˆå åŠ ï¼‰</strong></td><td>TOP51-100</td><td>50å</td><td>TRAEå°é¼ æ ‡å«</td><td><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23f8a2ea09714ea1ac2d9b8a41ce3248~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770717020&amp;x-signature=xzAw7f1sal2tg6Rb4tJjBnqabWE%3D" alt="" loading="lazy"/></td></tr></tbody></table>
<h2 data-id="heading-1">é¢†å¥–æ–¹å¼</h2>
<ul>
<li>è·å¾—ä¸Šè¿°å¥–é¡¹çš„æ˜å‹è¿‘æœŸè¯·æ³¨æ„ <strong>[ç³»ç»Ÿæ¶ˆæ¯]</strong> ï¼ˆé¢„è®¡2026å¹´2æœˆ3æ—¥23:00å‰ä¸‹å‘ï¼‰ï¼Œè¯·äº <strong>2026 å¹´ 2 æœˆ 9 æ—¥ 23 ç‚¹</strong> ä¹‹å‰åœ¨ç›¸å…³é—®å·ä¸­å¡«å†™ä¿¡æ¯ï¼Œè¿‡æœŸå°†è§†ä¸ºæ”¾å¼ƒå¥–å“ã€‚</li>
<li>å¥–å“å°†äºé—®å·æˆªæ­¢æ—¥æœŸåçš„ 30 ä¸ªå·¥ä½œæ—¥å†…å®Œæˆå‘æ”¾ã€‚</li>
</ul>
<p><strong>è‹¥å¯¹è·å¥–åå•æœ‰ç–‘é—®ï¼Œè¯·å…ˆè‡ªæŸ¥æ–‡ç« ï¼Œç¡®è®¤æ— ä»¥ä¸‹åŸå› åï¼Œå¯ç‚¹å‡»è”ç³» <a href="https://juejin.cn/user/3806975299161875" target="_blank" title="https://juejin.cn/user/3806975299161875">Sweet_Ystar</a> è¿›è¡Œç”³è¯‰ã€‚</strong> ç”³è¯‰å¤„ç†æ—¶é—´2026å¹´2æœˆ3æ—¥-2026å¹´2æœˆ9æ—¥ï¼Œè¿‡æ—¶ç»´æŒåŸç»“æœã€‚</p>
<ol>
<li>
<p>æ–‡ç« é¡»ä¸º<strong>åŸåˆ›æ–‡ç« </strong>ï¼Œå†…å®¹ç¬¦åˆ<a href="https://juejin.cn/book/6844733795329900551/section/6844733795380232199" target="_blank" title="https://juejin.cn/book/6844733795329900551/section/6844733795380232199">æ˜é‡‘ç¤¾åŒºçš„å†…å®¹æ ‡å‡†å’Œè§„èŒƒ</a>ã€‚</p>
</li>
<li>
<p>æœ¬æ¬¡å¾æ–‡<strong>ä¸é™åˆ¶æ–‡ç« é¢˜æ</strong>ï¼Œå¯ä»¥æ˜¯ä½ å¯¹è¡Œä¸šçš„æ€»ç»“å’Œè§è§£ï¼Œä¹Ÿå¯ä»¥æ˜¯ä½ å¯¹è¡Œä¸šæœªæ¥å‘å±•çš„é¢„æµ‹ï¼Œæœ¬æ¬¡æ´»åŠ¨ä¸æ¥å—ä¸‹é¢å‡ ç§æ–‡ç« ï¼š</p>
<ol>
<li>èµ„æºèšåˆç±»æ–‡ç« ï¼Œä¾‹å¦‚ Awesome-Listï¼›</li>
<li>ç¿»è¯‘ç±»æ–‡ç« å’Œåˆ©ç”¨AIç”Ÿäº§æ–‡ç« ï¼›</li>
<li>ä¸æœ¬æ¬¡ä¸»é¢˜æ— å…³çš„æ–‡ç« ï¼›</li>
<li>å­¦ä¹ ç¬”è®°/çŸ¥è¯†ç‚¹æ±‡æ€»ç±»æ–‡ç« ï¼›</li>
<li>æœ‰å¤±ä¸­ç«‹æ€§ã€å…¬æ­£æ€§çš„å†…å®¹ï¼Œæ¯”å¦‚ç”±å…¬å¸æˆ–è€…å…¬å¸çš„ä»£ç†æœºæ„ï¼ˆå¦‚å…¬å…³å…¬å¸ï¼‰æ‰€æ’°å†™ï¼Œå•çº¯å¸Œæœ›å®£ä¼ è‡ªå·±çš„å•†ä¸šäº§å“æˆ–è€…å…¬å¸çš„å†…å®¹ï¼›</li>
<li>å†…å®¹ä¸æ´»åŠ¨ä¸»é¢˜ä¸ç¬¦ã€éåŸåˆ›å†…å®¹ï¼Œæœ‰æ´—ç¨¿ã€è¥é”€è½¯æ–‡ã€å¹¿å‘Šã€æŠ„è¢­å«Œç–‘çš„æ–‡ç« ã€‚</li>
</ol>
</li>
<li>
<p>åˆ·èµã€åˆ·é‡ç­‰æœ‰ä½œå¼Šè¡Œä¸ºçš„æ–‡ç« ï¼Œç›´æ¥å–æ¶ˆæ¯”èµ›èµ„æ ¼ï¼Œä¸å‚ä¸è¯„é€‰ï¼›</p>
</li>
<li>
<p>AIä»£å†™æ–‡ç« ã€AIèŠå¤©è®°å½•ç­‰ä¸è®¡å…¥æ´»åŠ¨ï¼ˆAIæ£€æµ‹è¶…è¿‡<strong>70%</strong> å–æ¶ˆæ–‡ç« è·å¥–èµ„æ ¼ï¼‰ï¼›</p>
</li>
<li>
<p>æ´»åŠ¨æ–‡ç« éœ€è¦é€‰æ‹©è¯é¢˜ï¼š<a href="https://juejin.cn/theme/detail/7586482726807535666?contentType=1" target="_blank" title="https://juejin.cn/theme/detail/7586482726807535666?contentType=1">juejin.cn/theme/detaiâ€¦</a></p>
</li>
<li>
<p>è·å¥–ä½œå“ï¼Œè‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ï¼Œæ˜é‡‘æ‹¥æœ‰ä½¿ç”¨æƒï¼›</p>
</li>
</ol>
<h5 data-id="heading-2"><em>æ´»åŠ¨æœŸé—´ï¼Œè‹¥å‘å¸ƒæ–‡ç« å†…å®¹ä¸é€‰æ‹©æ ‡ç­¾ä¸ç¬¦ï¼ˆæ— ç›¸å…³æ€§ï¼‰ã€AIæ’°ç¨¿ç—•è¿¹â‰¥50%ï¼Œåˆ™å–æ¶ˆè¯¥ç”¨æˆ·æ‰€æœ‰æ–‡ç« è·å¥–èµ„æ ¼ã€‚</em></h5></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScripté¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ¼”å˜]]></title>    <link>https://juejin.cn/post/7602259669730885659</link>    <guid>https://juejin.cn/post/7602259669730885659</guid>    <pubDate>2026-02-03T06:15:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602259669730885659" data-draft-id="7602252722373771315" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScripté¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ¼”å˜"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-02-03T06:15:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="wuhen_n"/> <meta itemprop="url" content="https://juejin.cn/user/4149996261738233"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScripté¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ¼”å˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4149996261738233/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    wuhen_n
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T06:15:59.000Z" title="Tue Feb 03 2026 06:15:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>JavaScript æ˜¯äº§ç”Ÿâ€œç±»â€çš„ï¼Ÿåˆæ˜¯å¦‚ä½•æ¼”å˜æˆâ€œé¢å‘å¯¹è±¡â€çš„ï¼ŸClassè¯­æ³•ç³–èƒŒåéšè—ç€ä»€ä¹ˆç§˜å¯†ï¼Ÿæœ¬ç¯‡æ–‡ç« å°†å®Œæ•´æ¢³ç† JavaScript é¢å‘å¯¹è±¡ç¼–ç¨‹çš„å‘å±•å†ç¨‹ã€‚</p>
</blockquote>
<h2 data-id="heading-0">å‰è¨€ï¼šä¸ºä»€ä¹ˆJavaScriptéœ€è¦é¢å‘å¯¹è±¡ï¼Ÿ</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">var</span> name = <span class="hljs-string">'å¼ ä¸‰'</span>;
<span class="hljs-keyword">var</span> age = <span class="hljs-number">25</span>;
<span class="hljs-keyword">var</span> job = <span class="hljs-string">'å·¥ç¨‹å¸ˆ'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">sayHello</span>(<span class="hljs-params">person</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½ å¥½ï¼Œæˆ‘æ˜¯'</span> + person.<span class="hljs-property">name</span>);
}
</code></pre>
<p>åœ¨æ—©æœŸçš„ JavaScript ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸é‡‡ç”¨çš„æ˜¯è¿‡ç¨‹å¼ç¼–ç¨‹ã€‚ä½†éšç€åº”ç”¨å¤æ‚åº¦å¢åŠ ï¼Œæˆ‘ä»¬éœ€è¦æ›´å¥½çš„ä»£ç ç»„ç»‡æ–¹å¼ï¼Œå› æ­¤é¢å‘å¯¹è±¡ç¼–ç¨‹åº”è¿è€Œç”Ÿã€‚</p>
<h2 data-id="heading-1">å·¥å‚æ¨¡å¼ï¼šé¢å‘å¯¹è±¡çš„é›å½¢</h2>
<h3 data-id="heading-2">ä»€ä¹ˆæ˜¯å·¥å‚æ¨¡å¼ï¼Ÿ</h3>
<p><strong>å·¥å‚æ¨¡å¼</strong> æ˜¯æœ€ç®€å•çš„åˆ›å»ºå¯¹è±¡çš„æ–¹å¼ï¼Œå®ƒå°±åƒä¸€ä¸ªâ€œå·¥å‚â€ä¸€æ ·æ‰¹é‡ç”Ÿäº§å¯¹è±¡ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„å·¥å‚æ¨¡å¼ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºPersonå¯¹è±¡çš„å·¥å‚</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createPerson</span>(<span class="hljs-params">name, age, job</span>) {
    <span class="hljs-comment">// 1. åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡</span>
    <span class="hljs-keyword">var</span> obj = {};
    
    <span class="hljs-comment">// 2. æ·»åŠ å±æ€§</span>
    obj.<span class="hljs-property">name</span> = name;
    obj.<span class="hljs-property">age</span> = age;
    obj.<span class="hljs-property">job</span> = job;
    
    <span class="hljs-comment">// 3. æ·»åŠ æ–¹æ³•</span>
    obj.<span class="hljs-property">sayHello</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½ å¥½ï¼Œæˆ‘æ˜¯'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">'ï¼Œä»Šå¹´'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> + <span class="hljs-string">'å²'</span>);
    };
    
    obj.<span class="hljs-property">work</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">'æ­£åœ¨å·¥ä½œï¼š'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">job</span>);
    };
    
    <span class="hljs-comment">// 4. è¿”å›å¯¹è±¡</span>
    <span class="hljs-keyword">return</span> obj;
}

<span class="hljs-comment">// ä½¿ç”¨å·¥å‚æ¨¡å¼åˆ›å»ºå¯¹è±¡</span>
<span class="hljs-keyword">var</span> person1 = <span class="hljs-title function_">createPerson</span>(<span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-number">25</span>, <span class="hljs-string">'å‰ç«¯å·¥ç¨‹å¸ˆ'</span>);
<span class="hljs-keyword">var</span> person2 = <span class="hljs-title function_">createPerson</span>(<span class="hljs-string">'æå››'</span>, <span class="hljs-number">30</span>, <span class="hljs-string">'åç«¯å·¥ç¨‹å¸ˆ'</span>);

person1.<span class="hljs-title function_">sayHello</span>(); <span class="hljs-comment">// ä½ å¥½ï¼Œæˆ‘æ˜¯å¼ ä¸‰ï¼Œä»Šå¹´25å²</span>
person2.<span class="hljs-title function_">work</span>();     <span class="hljs-comment">// æå››æ­£åœ¨å·¥ä½œï¼šåç«¯å·¥ç¨‹å¸ˆ</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person1.<span class="hljs-property">sayHello</span> === person2.<span class="hljs-property">sayHello</span>); <span class="hljs-comment">// false</span>
</code></pre>
<p>ä½†è¿™ç§æ–¹å¼å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ç‹¬ç«‹çš„æ–¹æ³•å‰¯æœ¬ï¼Œæµªè´¹å†…å­˜ã€‚</p>
<h3 data-id="heading-3">å·¥å‚æ¨¡å¼çš„ä¼˜ç‚¹</h3>
<ol>
<li>ç®€å•æ˜“æ‡‚</li>
<li>å¯ä»¥åˆ›å»ºå¤šä¸ªç›¸ä¼¼å¯¹è±¡</li>
<li>å°è£…äº†åˆ›å»ºè¿‡ç¨‹</li>
</ol>
<h3 data-id="heading-4">å·¥å‚æ¨¡å¼çš„ç¼ºç‚¹</h3>
<ol>
<li>æ— æ³•è¯†åˆ«å¯¹è±¡ç±»å‹ï¼š<code>person1 instanceof createPerson;  // false</code></li>
<li>æ–¹æ³•é‡å¤åˆ›å»ºï¼Œå†…å­˜æµªè´¹</li>
</ol>
<h2 data-id="heading-5">æ„é€ å‡½æ•°æ¨¡å¼ï¼šå¼•å…¥"ç±»å‹"æ¦‚å¿µ</h2>
<h3 data-id="heading-6">ä»€ä¹ˆæ˜¯æ„é€ å‡½æ•°ï¼Ÿ</h3>
<p><strong>æ„é€ å‡½æ•°</strong>é€šè¿‡ <code>new</code> å…³é”®å­—åˆ›å»ºå¯¹è±¡ï¼Œè§£å†³äº†å·¥å‚æ¨¡å¼çš„ç±»å‹è¯†åˆ«é—®é¢˜ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ„é€ å‡½æ•°æ¨¡å¼</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name, age, job</span>) {
    <span class="hljs-comment">// 1. åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼ˆéšå¼ï¼šthis = {}ï¼‰</span>
    <span class="hljs-comment">// 2. è®¾ç½®åŸå‹é“¾ï¼ˆéšå¼ï¼šthis.__proto__ = Person.prototypeï¼‰</span>
    <span class="hljs-comment">// 3. æ·»åŠ å±æ€§</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">job</span> = job;
    
    <span class="hljs-comment">// 4. æ·»åŠ æ–¹æ³•ï¼ˆä»ç„¶æœ‰é—®é¢˜ï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">sayHello</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½ å¥½ï¼Œæˆ‘æ˜¯'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
    };
    <span class="hljs-comment">// 5. è¿”å›thisï¼ˆéšå¼ï¼šreturn thisï¼‰</span>
}

<span class="hljs-comment">// ä½¿ç”¨newå…³é”®å­—åˆ›å»ºå¯¹è±¡ï¼ˆå®ä¾‹ï¼‰</span>
<span class="hljs-keyword">var</span> person1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-number">25</span>, <span class="hljs-string">'å·¥ç¨‹å¸ˆ'</span>);
<span class="hljs-keyword">var</span> person2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">'æå››'</span>, <span class="hljs-number">30</span>, <span class="hljs-string">'è®¾è®¡å¸ˆ'</span>);

person1.<span class="hljs-title function_">sayHello</span>(); <span class="hljs-comment">// ä½ å¥½ï¼Œæˆ‘æ˜¯å¼ ä¸‰</span>
person2.<span class="hljs-title function_">sayHello</span>(); <span class="hljs-comment">// ä½ å¥½ï¼Œæˆ‘æ˜¯æå››</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person1 <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Person</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person1 <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Object</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person1.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Person</span>); <span class="hljs-comment">// true</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person1.<span class="hljs-property">sayHello</span> === person2.<span class="hljs-property">sayHello</span>); <span class="hljs-comment">// false</span>
</code></pre>
<p>ä»ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼šæ„é€ å‡½æ•°æ¨¡å¼ä¸­ï¼Œå¯ä»¥è¯†åˆ«å¯¹è±¡ç±»å‹äº†ï¼›ä½†æ¯ä¸ªå®ä¾‹ä»æœ‰ç‹¬ç«‹çš„æ–¹æ³•å‰¯æœ¬ï¼Œå†…å­˜æµªè´¹é—®é¢˜ä»ç„¶å­˜åœ¨ã€‚</p>
<h3 data-id="heading-7">newæ“ä½œç¬¦çš„å·¥ä½œåŸç†</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">myNew</span>(<span class="hljs-params">constructor, ...args</span>) {
    <span class="hljs-comment">// 1. åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡</span>
    <span class="hljs-keyword">const</span> obj = {};
    <span class="hljs-comment">// 2. è®¾ç½®åŸå‹é“¾ï¼šå°†æ–°å¯¹è±¡çš„__proto__æŒ‡å‘æ„é€ å‡½æ•°çš„prototype</span>
    obj.<span class="hljs-property">__proto__</span> = constructor.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;
    <span class="hljs-comment">// const obj = Object.create(Constructor.prototype);  // è¿™ç§å†™æ³•ä¹Ÿæ˜¯å¯ä»¥çš„</span>
    
    <span class="hljs-comment">// 3. ç»‘å®šthiså¹¶æ‰§è¡Œæ„é€ å‡½æ•°</span>
    <span class="hljs-keyword">const</span> result = constructor.<span class="hljs-title function_">apply</span>(obj, args);
    
    <span class="hljs-comment">// 4. è¿”å›ç»“æœï¼ˆå¦‚æœæ„é€ å‡½æ•°è¿”å›å¯¹è±¡ï¼Œåˆ™è¿”å›è¯¥å¯¹è±¡ï¼Œå¦åˆ™è¿”å›æ–°å¯¹è±¡ï¼‰</span>
    <span class="hljs-keyword">return</span> result <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Object</span> ? result : obj;
}
</code></pre>
<h2 data-id="heading-8">åŸå‹æ¨¡å¼ï¼šè§£å†³æ–¹æ³•å…±äº«é—®é¢˜</h2>
<p>åŸå‹æ¨¡å¼çš„å¤„ç†æ–¹æ³•æ˜¯ï¼šå°†æ–¹æ³•å®šä¹‰åœ¨åŸå‹ä¸Šï¼Œå®ç°å…±äº«ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name, age</span>) {
    <span class="hljs-comment">// å±æ€§å®šä¹‰åœ¨å®ä¾‹ä¸Šï¼ˆæ¯ä¸ªå®ä¾‹ç‹¬ç«‹ï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
}

<span class="hljs-comment">// æ–¹æ³•å®šä¹‰åœ¨åŸå‹ä¸Šï¼ˆæ‰€æœ‰å®ä¾‹å…±äº«ï¼‰</span>
<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayHello</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½ å¥½ï¼Œæˆ‘æ˜¯'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">'ï¼Œä»Šå¹´'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> + <span class="hljs-string">'å²'</span>);
};

<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">work</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">'æ­£åœ¨å·¥ä½œ'</span>);
};

<span class="hljs-comment">// åˆ›å»ºå®ä¾‹</span>
<span class="hljs-keyword">const</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-number">25</span>);
<span class="hljs-keyword">const</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">'æå››'</span>, <span class="hljs-number">30</span>);

p1.<span class="hljs-title function_">sayHello</span>(); <span class="hljs-comment">// ä½ å¥½ï¼Œæˆ‘æ˜¯å¼ ä¸‰ï¼Œä»Šå¹´25å²</span>
p2.<span class="hljs-title function_">sayHello</span>(); <span class="hljs-comment">// ä½ å¥½ï¼Œæˆ‘æ˜¯æå››ï¼Œä»Šå¹´30å²</span>

<span class="hljs-comment">// ç°åœ¨æ–¹æ³•æ˜¯å…±äº«çš„ï¼</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p1.<span class="hljs-property">sayHello</span> === p2.<span class="hljs-property">sayHello</span>); <span class="hljs-comment">// true</span>
</code></pre>
<h3 data-id="heading-9">åŸå‹æ¨¡å¼å¸¦æ¥çš„é—®é¢˜</h3>
<ol>
<li>æ‰€æœ‰å®ä¾‹éƒ½ä¼šå…±äº«å¼•ç”¨ç±»å‹å±æ€§ï¼Œå¦‚æœåœ¨åŸå‹ä¸Šå®šä¹‰å¼•ç”¨ç±»å‹ï¼Œä¸€ä¸ªæ•°æ®ä¿®æ”¹æ—¶ï¼Œæ‰€æœ‰å¯¹è±¡å¯¹åº”çš„æ•°æ®éƒ½ä¼šä¿®æ”¹</li>
<li>æ‰€æœ‰å®ä¾‹å…±äº«ç›¸åŒçš„åŸå‹å±æ€§ï¼Œæ— æ³•åŠ¨æ€ä¼ é€’åˆå§‹åŒ–å‚æ•°</li>
</ol>
<h2 data-id="heading-10">ç»„åˆç»§æ‰¿ï¼šç»“åˆæ„é€ å‡½æ•°å’ŒåŸå‹çš„ä¼˜ç‚¹</h2>
<h3 data-id="heading-11">ç»„åˆç»§æ‰¿çš„å®ç°</h3>
<p>ç»„åˆç»§æ‰¿çš„å®ç°ï¼šä½¿ç”¨æ„é€ å‡½æ•°å®šä¹‰å®ä¾‹å±æ€§ï¼Œä½¿ç”¨åŸå‹å®šä¹‰å…±äº«æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Parent</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">colors</span> = [<span class="hljs-string">'red'</span>, <span class="hljs-string">'blue'</span>];
}

<span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayName</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Child</span>(<span class="hljs-params">name, age</span>) {
    <span class="hljs-title class_">Parent</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, name); <span class="hljs-comment">// ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼šç»§æ‰¿å®ä¾‹å±æ€§</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
}

<span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Parent</span>(); <span class="hljs-comment">// ç¬¬äºŒæ¬¡è°ƒç”¨ï¼šç»§æ‰¿åŸå‹æ–¹æ³•</span>
<span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Child</span>; <span class="hljs-comment">// ä¿®å¤constructoræŒ‡å‘</span>
</code></pre>
<blockquote>
<p>ç»„åˆç»§æ‰¿æ˜¯JavaScriptä¸­æœ€å¸¸ç”¨çš„ç»§æ‰¿æ¨¡å¼ã€‚</p>
</blockquote>
<h3 data-id="heading-12">ç»„åˆç»§æ‰¿çš„ç¼ºç‚¹</h3>
<p>çˆ¶ç±»æ„é€ å‡½æ•°è¢«è°ƒç”¨äº†ä¸¤æ¬¡ï¼š</p>
<ol>
<li><code>Parent.call(this, name);</code>  ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼šç»§æ‰¿å®ä¾‹å±æ€§</li>
<li><code>Child.prototype = new Parent();</code>  ç¬¬äºŒæ¬¡è°ƒç”¨ï¼šç»§æ‰¿åŸå‹æ–¹æ³•</li>
</ol>
<h2 data-id="heading-13">å¯„ç”Ÿç»„åˆç»§æ‰¿ï¼šæœ€ç†æƒ³çš„ç»§æ‰¿æ–¹å¼</h2>
<h3 data-id="heading-14">å¯„ç”Ÿç»„åˆç»§æ‰¿çš„å®ç°</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">inheritPrototype</span>(<span class="hljs-params">child, parent</span>) {
    <span class="hljs-comment">// åˆ›å»ºçˆ¶ç±»åŸå‹çš„å‰¯æœ¬</span>
    <span class="hljs-keyword">const</span> prototype = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(parent.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
    
    <span class="hljs-comment">// ä¿®å¤constructoræŒ‡å‘</span>
    prototype.<span class="hljs-property">constructor</span> = child;
    
    <span class="hljs-comment">// å°†å‰¯æœ¬è®¾ç½®ä¸ºå­ç±»çš„åŸå‹</span>
    child.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = prototype;
}

<span class="hljs-comment">// çˆ¶ç±»</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">colors</span> = [<span class="hljs-string">'red'</span>, <span class="hljs-string">'blue'</span>];
}

<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayName</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æˆ‘æ˜¯ï¼š'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
};

<span class="hljs-comment">// å­ç±»</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Dog</span>(<span class="hljs-params">name, age</span>) {
    <span class="hljs-comment">// ç»§æ‰¿å®ä¾‹å±æ€§ï¼ˆåªè°ƒç”¨ä¸€æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°ï¼‰</span>
    <span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, name);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
}

<span class="hljs-comment">// ç»§æ‰¿åŸå‹æ–¹æ³•ï¼ˆä¸ä½¿ç”¨new Parent()ï¼Œé¿å…ç¬¬äºŒæ¬¡è°ƒç”¨ï¼‰</span>
<span class="hljs-title function_">inheritPrototype</span>(<span class="hljs-title class_">Dog</span>, <span class="hljs-title class_">Animal</span>);

<span class="hljs-comment">// æ·»åŠ å­ç±»ç‰¹æœ‰æ–¹æ³•</span>
<span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">bark</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">'åœ¨å«ï¼šæ±ªæ±ªï¼'</span>);
};
</code></pre>
<h2 data-id="heading-15">Classè¯­æ³•ï¼šES6çš„è¯­æ³•ç³–</h2>
<h3 data-id="heading-16">Classçš„åŸºæœ¬è¯­æ³•</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
    <span class="hljs-comment">// æ„é€ å‡½æ•°ï¼ˆå¯¹åº”ES5çš„æ„é€ å‡½æ•°ï¼‰</span>
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, age</span>) {
        <span class="hljs-comment">// å®ä¾‹å±æ€§</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_secret</span> = <span class="hljs-string">'è¿™æ˜¯æˆ‘çš„ç§˜å¯†'</span>; <span class="hljs-comment">// çº¦å®šä¿—æˆçš„"ç§æœ‰"å±æ€§</span>
    }
    
    <span class="hljs-comment">// å®ä¾‹æ–¹æ³•ï¼ˆè‡ªåŠ¨æ·»åŠ åˆ°åŸå‹ä¸Šï¼‰</span>
    <span class="hljs-title function_">introduce</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>ï¼Œä»Šå¹´<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.age}</span>å²`</span>);
    }
    <span class="hljs-title function_">eat</span>(<span class="hljs-params">food</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>æ­£åœ¨åƒ<span class="hljs-subst">${food}</span>`</span>);
    }
    
    <span class="hljs-comment">// getterå’Œsetter</span>
    <span class="hljs-keyword">get</span> <span class="hljs-title function_">secret</span>() {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_secret</span>;
    }
    
    <span class="hljs-keyword">set</span> <span class="hljs-title function_">secret</span>(<span class="hljs-params">value</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_secret</span> = value;
    }
    
    <span class="hljs-comment">// é™æ€æ–¹æ³•ï¼ˆç±»æ–¹æ³•ï¼‰</span>
    <span class="hljs-keyword">static</span> <span class="hljs-title function_">createAnonymous</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">'åŒ¿å'</span>, <span class="hljs-number">0</span>);
    }
}
</code></pre>
<h3 data-id="heading-17">Classè¯­æ³•èƒŒåçš„åŸå‹åŸç†</h3>
<p>Class è¯­æ³•åªæ˜¯è¯­æ³•ç³–ï¼Œåº•å±‚ä»ç„¶æ˜¯åŸå‹ç»§æ‰¿ï¼Œå…¶æœ¬è´¨æ˜¯ä¸€ä¸ªå‡½æ•°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    }
    
    <span class="hljs-title function_">speak</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">' makes a noise.'</span>);
    }
}
<span class="hljs-comment">// Classå®é™…ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Animal</span>); <span class="hljs-comment">// function</span>
</code></pre>
<h3 data-id="heading-18">extends ç»§æ‰¿</h3>
<h4 data-id="heading-19">extends åŸºæœ¬è¯­æ³•</h4>
<p>åœ¨ ES6 çš„ <code>class</code> è¯­æ³•ç³–ä¸­ï¼Œé€šè¿‡ <code>extends</code> è¯­æ³•ç³–å®ç°ç»§æ‰¿ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
        <span class="hljs-variable language_">super</span>(name);
    }
    
    <span class="hljs-title function_">speak</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">' barks.'</span>);
    }
}
</code></pre>
<h4 data-id="heading-20">extends ç»§æ‰¿çš„æœ¬è´¨</h4>
<p><code>extends</code> ç»§æ‰¿çš„æœ¬è´¨ï¼Œå°±ç­‰ä»·äºES5çš„å¯„ç”Ÿç»„åˆç»§æ‰¿ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">AnimalES5</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
}

<span class="hljs-title class_">AnimalES5</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">speak</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">' makes a noise.'</span>);
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">DogES5</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-title class_">AnimalES5</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, name);
}

<span class="hljs-comment">// è®¾ç½®åŸå‹é“¾</span>
<span class="hljs-title class_">DogES5</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">AnimalES5</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
<span class="hljs-title class_">DogES5</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">DogES5</span>;

<span class="hljs-title class_">DogES5</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">speak</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">' barks.'</span>);
};
</code></pre>
<h3 data-id="heading-21">Classçš„é«˜çº§ç‰¹æ€§</h3>
<h4 data-id="heading-22">ç±»è¡¨è¾¾å¼</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">MyClass</span> = <span class="hljs-keyword">class</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">value</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = value;
    }
    
    <span class="hljs-title function_">getValue</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>;
    }
};

<span class="hljs-keyword">const</span> obj1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyClass</span>(<span class="hljs-number">42</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj1.<span class="hljs-title function_">getValue</span>()); <span class="hljs-comment">// 42</span>
</code></pre>
<h4 data-id="heading-23">ç§æœ‰å­—æ®µ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BankAccount</span> {
    <span class="hljs-comment">// ç§æœ‰å­—æ®µï¼ˆä»¥#å¼€å¤´ï¼‰</span>
    #balance = <span class="hljs-number">0</span>;
    
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">owner</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">owner</span> = owner;
    }
    
    <span class="hljs-comment">// é€šè¿‡å…¬å¼€æ–¹æ³•è®¿é—®ç§æœ‰å­—æ®µ</span>
    <span class="hljs-title function_">getBalance</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.#balance;
    }
}

<span class="hljs-keyword">const</span> account = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BankAccount</span>(<span class="hljs-string">'å¼ ä¸‰'</span>);

<span class="hljs-comment">// console.log(account.#balance); // SyntaxError: å±æ€§ "#balance" åœ¨ç±» "BankAccount" å¤–éƒ¨ä¸å¯è®¿é—®ã€‚</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(account.<span class="hljs-title function_">getBalance</span>()); <span class="hljs-comment">// 500</span>
</code></pre>
<h4 data-id="heading-24">é™æ€å—</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Config</span> {
    <span class="hljs-keyword">static</span> dbConfig;
    <span class="hljs-keyword">static</span> apiConfig;
    
    <span class="hljs-comment">// é™æ€åˆå§‹åŒ–å—</span>
    <span class="hljs-keyword">static</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'åˆå§‹åŒ–é™æ€é…ç½®...'</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">dbConfig</span> = {
            <span class="hljs-attr">host</span>: <span class="hljs-string">'localhost'</span>,
            <span class="hljs-attr">port</span>: <span class="hljs-number">3306</span>,
            <span class="hljs-attr">username</span>: <span class="hljs-string">'root'</span>
        };
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">apiConfig</span> = {
            <span class="hljs-attr">baseUrl</span>: <span class="hljs-string">'https://api.example.com'</span>,
            <span class="hljs-attr">timeout</span>: <span class="hljs-number">5000</span>
        };
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-title function_">getConfig</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">db</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">dbConfig</span>,
            <span class="hljs-attr">api</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">apiConfig</span>
        };
    }
}
</code></pre>
<h4 data-id="heading-25">ç±»çš„è®¿é—®å™¨å±æ€§</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Temperature</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">celsius</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">celsius</span> = celsius;
    }
    
    <span class="hljs-keyword">get</span> <span class="hljs-title function_">fahrenheit</span>() {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">celsius</span> * <span class="hljs-number">1.8</span> + <span class="hljs-number">32</span>;
    }
    
    <span class="hljs-keyword">set</span> <span class="hljs-title function_">fahrenheit</span>(<span class="hljs-params">value</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">celsius</span> = (value - <span class="hljs-number">32</span>) / <span class="hljs-number">1.8</span>;
    }
    
    <span class="hljs-comment">// åªè¯»å±æ€§</span>
    <span class="hljs-keyword">get</span> <span class="hljs-title function_">kelvin</span>() {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">celsius</span> + <span class="hljs-number">273.15</span>;
    }
}
</code></pre>
<h4 data-id="heading-26">Mixinæ¨¡å¼ï¼ˆå¤šé‡ç»§æ‰¿çš„æ›¿ä»£æ–¹æ¡ˆï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">FlyMixin</span> = (<span class="hljs-params">BaseClass</span>) =&gt; <span class="hljs-keyword">class</span> <span class="hljs-title class_">extends</span> <span class="hljs-title class_">BaseClass</span> {
    <span class="hljs-title function_">fly</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is flying!`</span>);
    }
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">SwimMixin</span> = (<span class="hljs-params">BaseClass</span>) =&gt; <span class="hljs-keyword">class</span> <span class="hljs-title class_">extends</span> <span class="hljs-title class_">BaseClass</span> {
    <span class="hljs-title function_">swim</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is swimming!`</span>);
    }
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    }
    
    <span class="hljs-title function_">eat</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is eating`</span>);
    }
}

<span class="hljs-comment">// åº”ç”¨Mixin</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Duck</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">SwimMixin</span>(<span class="hljs-title class_">FlyMixin</span>(<span class="hljs-title class_">Animal</span>)) {
    <span class="hljs-title function_">quack</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> says: Quack!`</span>);
    }
}
</code></pre>
<h2 data-id="heading-27">é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ¼”è¿›è·¯çº¿</h2>
<pre><code class="hljs language-text" lang="text">å·¥å‚æ¨¡å¼ â†’ æ„é€ å‡½æ•°æ¨¡å¼ â†’ åŸå‹æ¨¡å¼ â†’ ç»„åˆç»§æ‰¿ â†’ å¯„ç”Ÿç»„åˆç»§æ‰¿ â†’ Classè¯­æ³•
    â†“        â†“           â†“         â†“           â†“           â†“
åˆ›å»ºå¯¹è±¡    è¯†åˆ«ç±»å‹    å…±äº«æ–¹æ³•    ç»“åˆä¼˜ç‚¹     æœ€ä¼˜æ–¹æ¡ˆ       è¯­æ³•ç³–
</code></pre>
<h2 data-id="heading-28">ç»“è¯­</h2>
<p>é¢å‘å¯¹è±¡ç¼–ç¨‹æ˜¯ JavaScript å‘å±•çš„é‡è¦é‡Œç¨‹ç¢‘ã€‚ç†è§£ä»å·¥å‚æ¨¡å¼åˆ° Class è¯­æ³•çš„æ¼”è¿›è¿‡ç¨‹ï¼Œä¸ä»…èƒ½è®©æˆ‘ä»¬å†™å‡ºæ›´å¥½çš„ä»£ç ï¼Œè¿˜èƒ½åœ¨é‡åˆ°é—®é¢˜æ—¶å¿«é€Ÿå®šä½å’Œè§£å†³ã€‚å¯¹äºæ–‡ç« ä¸­é”™è¯¯çš„åœ°æ–¹æˆ–è€…æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>