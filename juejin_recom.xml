<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[åŸºäº Kafka ä¸æ—¶é—´è½®å®ç°é«˜æ€§èƒ½å»¶è¿Ÿæ¶ˆæ¯]]></title>    <link>https://juejin.cn/post/7574270661863981083</link>    <guid>https://juejin.cn/post/7574270661863981083</guid>    <pubDate>2025-11-19T04:45:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574270661863981083" data-draft-id="7573958996668923931" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäº Kafka ä¸æ—¶é—´è½®å®ç°é«˜æ€§èƒ½å»¶è¿Ÿæ¶ˆæ¯"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-19T04:45:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="master_hl"/> <meta itemprop="url" content="https://juejin.cn/user/3268185849868087"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäº Kafka ä¸æ—¶é—´è½®å®ç°é«˜æ€§èƒ½å»¶è¿Ÿæ¶ˆæ¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3268185849868087/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    master_hl
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T04:45:06.000Z" title="Wed Nov 19 2025 04:45:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1.æ•´ä½“é“¾è·¯</h2>
<h2 data-id="heading-1">Kafka â†’ RocksDB â†’ SystemTimer â†’ TimingWheel â†’ Kafka</h2>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendDelay</span><span class="hljs-params">(<span class="hljs-type">long</span> delayMs, String topic, String message)</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-type">DelayMessage</span> <span class="hljs-variable">delayMessage</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DelayMessage</span>(delayMs, topic, message);
        rocksDB.put(delayMessage.getKey(), delayMessage.toJson().getBytes());
        systemTimer.add(delayMessage);
    } <span class="hljs-keyword">catch</span> (Exception e) {
        log.error(<span class="hljs-string">"sendDelayMessage error delayMs:{}, topic:{}, message:{}"</span>, delayMs, topic, message, e);
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
    }
}
</code></pre>
<ul>
<li>Kafka ç”Ÿäº§è€…è°ƒç”¨è‡ªå®šä¹‰å»¶è¿Ÿæ¶ˆæ¯æ–¹æ³•</li>
<li>å»¶è¿Ÿæ¶ˆæ¯å…¥åº“ï¼ˆRocksDBï¼‰</li>
<li>å°è£…ä»»åŠ¡åŠ å…¥æ—¶é—´è½®</li>
<li>æ—¶é—´è½®è§¦å‘</li>
<li>runæ–¹æ³•æ‰§è¡Œï¼Œå°†æ¶ˆæ¯å‘é€kafkaï¼Œæ¸…é™¤RocksDB</li>
</ul>
<h2 data-id="heading-2">2.DelayMessageï¼šå»¶è¿Ÿä»»åŠ¡çš„æœ€å°æ•°æ®æ¨¡å‹</h2>
<p>æŠ½è±¡ç±» TimerTask çš„ä¸€ç§ä»»åŠ¡å®ç°</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String message; <span class="hljs-comment">// æ¶ˆæ¯ä½“</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> expireTime; <span class="hljs-comment">// ç»å¯¹å»¶è¿Ÿæ—¶é—´ currentTimeMillis + delayMs</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String topic; <span class="hljs-comment">// ä¸»é¢˜</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Long partitionKey; <span class="hljs-comment">// åˆ†åŒº</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> delayMs; <span class="hljs-comment">// ç›¸å¯¹å»¶è¿Ÿæ—¶é—´</span>
</code></pre>
<h2 data-id="heading-3">3.RocksDBï¼šæ¶ˆæ¯æŒä¹…åŒ–ç»„ä»¶</h2>
<ul>
<li>æœåŠ¡æ¢å¤åé‡æ–°åŠ è½½å»¶è¿Ÿä»»åŠ¡</li>
<li>åˆ é™¤è¶…å‡ºå»¶è¿Ÿä¸Šé™çš„ä»»åŠ¡
<ul>
<li>4.SystemTimerï¼šå»¶è¿Ÿä»»åŠ¡è°ƒåº¦å…¥å£</li>
</ul>
</li>
</ul>
<p><strong>1.systemTimer.add(delayMessage)</strong></p>
<p>å°† DelayMessage/TimerTask å°è£…ä¸º TimerTaskEntryï¼Œ</p>
<p>ä¹Ÿå°±æ˜¯ç¯å½¢æ•°ç»„ä¸­ï¼Œæ¯ä¸ªæ¡¶ä¸‹é¢çš„é“¾è¡¨ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹å¯¹è±¡</p>
<p><strong>2.advanceClock() è§¦å‘ bucket</strong></p>
<p>å®šæ—¶ä»»åŠ¡çº¿ç¨‹æ± ï¼Œæ¯ä¸ª500msæ£€æŸ¥ä¸€æ¬¡ delayQueue</p>
<p>å¦‚æœé˜Ÿåˆ—ä¸­æœ‰é“¾è¡¨åˆ°æœŸï¼ˆæ¡¶çš„å·¦è¾¹ç•Œï¼‰ï¼Œåˆ™æ¨è¿›æ—¶é—´è½®ï¼Œå¹¶æ‰§è¡Œæ§½å†…ä»»åŠ¡</p>
<h2 data-id="heading-4">5.TimerTask / TimerTaskEntryï¼šä»»åŠ¡åŒ…è£…ç»“æ„</h2>
<ul>
<li>TimerTaskï¼šæœ€ç»ˆæ‰§è¡Œé€»è¾‘ï¼ˆè°ƒç”¨ KafkaTemplate å‘é€ï¼‰</li>
<li>TimerTaskEntryï¼šç¯å½¢åŒå‘é“¾è¡¨èŠ‚ç‚¹ + expirationMsï¼ˆå…·ä½“çš„å»¶è¿Ÿæ—¶é—´ï¼‰</li>
</ul>
<h3 data-id="heading-5">TimerTask ä¸ TimerTaskEntry åŒå‘ç»‘å®š</h3>
<p>TimerTask æŒæœ‰ TimerTaskEntry çš„å¼•ç”¨</p>
<p>TimerTaskEntry æŒæœ‰ TimerTask çš„å¼•ç”¨</p>
<p><strong>1.å–æ¶ˆä»»åŠ¡</strong></p>
<p>TimerTask å–æ¶ˆä»»åŠ¡æ—¶ï¼Œä¼šå°†æŒæœ‰çš„ TimerTaskEntry ä»»åŠ¡æ¡ç›®ä»é“¾è¡¨ä¸­ç§»é™¤ï¼Œå¹¶å°†å¼•ç”¨ç½®ä¸ºç©ºï¼Œ</p>
<p>åˆ¤æ–­æ˜¯å¦å–æ¶ˆä»»åŠ¡æ—¶ï¼Œä¼šæ ¹æ® TimerTask æŒæœ‰çš„å¼•ç”¨æ˜¯å¦ == this æ¥åˆ¤æ–­</p>
<p><strong>2.åŠ å…¥æ—¶é—´è½®ä¸æ—¶é—´è½®é™çº§</strong></p>
<p>bucket.add(timerTaskEntry) æ—¶ï¼Œéœ€è¦å…ˆç§»é™¤å½“å‰ä»»åŠ¡æ¡ç›®åœ¨é“¾è¡¨ä¸­çš„æ—§å¼•ç”¨ï¼Œé˜²æ­¢é‡å¤æ‰§è¡Œ</p>
<p><strong>3.ä¿è¯çº¿ç¨‹å®‰å…¨</strong></p>
<p>setTimerTaskEntry è®¾ç½®æ¡ç›®æ—¶ï¼Œsynchronized åŠ é”ï¼Œä¿è¯ä¸€ä¸ªä»»åŠ¡åªå±äºä¸€ä¸ªæ¡ç›®</p>
<h2 data-id="heading-6">6.TimerTaskListï¼šæ§½ä½ç»“æ„ä¸è¿‡æœŸæ—¶é—´æœºåˆ¶</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35cef7bc1e89413088bb99874160ccf5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbWFzdGVyX2hs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764132306&amp;x-signature=SdDxNMTYkqFiQwn4w3mvFJawulk%3D" alt="img" loading="lazy"/></p>
<p>æ—¶é—´è½®ï¼ˆTimingWheelï¼‰æ˜¯ä¸€ä¸ª <strong>å­˜å‚¨å®šæ—¶ä»»åŠ¡çš„ç¯å½¢é˜Ÿåˆ—ï¼Œ</strong></p>
<p><strong>åº•å±‚é‡‡ç”¨æ•°ç»„å®ç°ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ å¯ä»¥å­˜æ”¾ä¸€ä¸ªå®šæ—¶ä»»åŠ¡åˆ—è¡¨ï¼ˆTimerTaskListï¼‰</strong>ã€‚</p>
<p>TimerTaskList æ˜¯ä¸€ä¸ªç¯å½¢çš„åŒå‘é“¾è¡¨ï¼Œ</p>
<p>é“¾è¡¨ä¸­çš„æ¯ä¸€é¡¹è¡¨ç¤ºçš„éƒ½æ˜¯å®šæ—¶ä»»åŠ¡æ¡ç›®ï¼ˆTimerTaskEntryï¼‰ï¼Œå…¶ä¸­å°è£…äº†çœŸæ­£çš„å®šæ—¶ä»»åŠ¡ TimerTaskã€‚</p>
<h3 data-id="heading-7">ReentrantReadWriteLock è¯»å†™é”</h3>
<p>âœ…æ·»åŠ ä»»åŠ¡æ—¶ï¼ŒåŠ è¯»é”ï¼Œç¦æ­¢å¹¶å‘å†™ï¼ˆflushï¼‰å¹²æ‰°ã€‚</p>
<p>âœ…æ¨è¿›æ—¶é—´è½®æ—¶ï¼Œflushæ‰§è¡Œæ§½å†…ä»»åŠ¡æ—¶ï¼ŒåŠ å†™é”ï¼Œç¦æ­¢å¹¶å‘è¯»ï¼ˆaddï¼‰å†™ï¼ˆflushï¼‰ä¿®æ”¹ç»“æ„ã€‚</p>
<h2 data-id="heading-8">7.TimingWheelï¼šæ—¶é—´è½®æ ¸å¿ƒå®ç°</h2>
<h3 data-id="heading-9">åŸºæœ¬å±æ€§ç»„æˆ</h3>
<pre><code class="hljs language-C++" lang="C++"><span class="hljs-keyword">private</span> Long tickMs; <span class="hljs-comment">// æ—¶é—´è½®æ¯ä¸€æ ¼çš„æ—¶é—´é—´éš”ï¼ˆåŸºæœ¬æ—¶é—´è·¨åº¦ï¼‰</span>
<span class="hljs-keyword">private</span> Integer wheelSize; <span class="hljs-comment">// æ—¶é—´è½®çš„æ ¼å­æ•°</span>
<span class="hljs-keyword">private</span> Long interval; <span class="hljs-comment">// æ—¶é—´è½®ä¸€åœˆçš„æ€»ä½“æ—¶é—´è·¨åº¦</span>
<span class="hljs-keyword">private</span> Long startMs; <span class="hljs-comment">// æ—¶é—´è½®çš„èµ·å§‹æ—¶é—´</span>
<span class="hljs-keyword">private</span> AtomicInteger taskCounter; <span class="hljs-comment">// å…¨å±€å¾…æ‰§è¡Œä»»åŠ¡è®¡æ•°å™¨</span>
<span class="hljs-keyword">private</span> DelayQueue&lt;TimerTaskList&gt; queue; <span class="hljs-comment">// å¤šå±‚æ—¶é—´è½®ä»»åŠ¡å…±äº«é˜Ÿåˆ—</span>
<span class="hljs-keyword">private</span> Long currentTime; <span class="hljs-comment">// æ—¶é—´è½®å½“å‰æŒ‡é’ˆæŒ‡å‘çš„æ—¶é—´ï¼Œæ˜¯ tickMs çš„æ•´æ•°å€</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> TimingWheel overflowWheel; <span class="hljs-comment">// ä¸Šä¸€è½®ï¼ˆåŸºæœ¬æ—¶é—´è·¨åº¦æ˜¯å½“å‰è½®çš„æ€»ä½“æ—¶é—´è·¨åº¦ï¼‰</span>
<span class="hljs-keyword">private</span> TimerTaskList[] buckets; <span class="hljs-comment">// ç¯å½¢æ•°ç»„</span>
</code></pre>
<h3 data-id="heading-10">add æ–¹æ³•</h3>
<p>expirationï¼šä»»åŠ¡çš„ç»å¯¹åˆ°æœŸæ—¶é—´ (delayMs + Time.getHiresClockMs())</p>
<p>1.expiration &lt; currentTime + tickMsï¼šä»»åŠ¡åˆ°æœŸï¼Œå¦‚æœæ²¡æœ‰å–æ¶ˆï¼Œäº¤ç”±çº¿ç¨‹æ± æ‰§è¡Œ</p>
<p>2.expiration &lt; currentTime + intervalï¼šä»»åŠ¡è½åˆ°ä¸»è½®ï¼Œæœªåˆ°æœŸï¼ŒåŠ å…¥æ—¶é—´è½®ï¼Œè®¾ç½®åˆ°æœŸæ—¶é—´ï¼ŒåŠ å…¥é˜Ÿåˆ—</p>
<p>3.expiration &gt;= currentTime + intervalï¼šä»»åŠ¡è¶…è¿‡ä¸»è½®è¦†ç›–èŒƒå›´ï¼ŒåŠ å…¥ä¸Šä¸€è½®ï¼ˆé€’å½’è°ƒç”¨ addï¼‰</p>
<h3 data-id="heading-11">advanceClock æ–¹æ³•</h3>
<p>å°è¯•æ¨è¿›æ—¶é—´è½®ï¼Œå½“ timeMs &gt;= currentTime + tickMs æ—¶ï¼Œ</p>
<p>ä»»åŠ¡æ¡ç›®ç»å¯¹åˆ°æœŸæ—¶é—´ &gt;= å½“å‰æ—¶é—´ + åŸºæœ¬æ—¶é—´è·¨åº¦ï¼Œæ›´æ–°æ—¶é—´è½®ï¼Œ</p>
<p>å¦‚æœæœ‰çˆ¶è½®ï¼Œé€’å½’å°è¯•æ¨è¿›çˆ¶è½®ï¼Œçˆ¶è½®çš„ä¸€æ ¼ï¼Œé€šå¸¸ç­‰äºä¸»è½®çš„ä¸€åœˆã€‚</p>
<h2 data-id="heading-12">8.å¤šå±‚æ—¶é—´è½®ï¼šä»»åŠ¡é™çº§æµç¨‹</h2>
<p>å‡è®¾æœ‰ä¸‰å±‚æ—¶é—´è½®</p>
<p>ä¸»è½®ï¼štickMsï¼ˆ1sï¼‰wheelSizeï¼ˆ20sï¼‰intervalï¼ˆ20sï¼‰</p>
<p>çˆ¶è½®ï¼štickMsï¼ˆ20sï¼‰wheelSizeï¼ˆ20sï¼‰intervalï¼ˆ400sï¼‰</p>
<p>çˆ·è½®ï¼štickMsï¼ˆ400sï¼‰wheelSizeï¼ˆ20sï¼‰intervalï¼ˆ8000sï¼‰</p>
<p><strong>ğŸ“Œç¬¬ä¸€æ¬¡æ’å…¥</strong></p>
<ul>
<li>expireTime = 450s</li>
<li>ä¸»è½®è¦†ç›– 0~20s â†’ æ”¾ä¸ä¸‹</li>
<li>è°ƒçˆ¶è½®ï¼ˆ20~400sï¼‰ä»æ”¾ä¸ä¸‹</li>
<li>è°ƒçˆ·è½®ï¼ˆ400~8000sï¼‰å‘½ä¸­</li>
<li>çˆ·è½® slot = 400 ï¼ˆè¦†ç›– 400~800ï¼‰</li>
<li>æ’å…¥æˆåŠŸ</li>
</ul>
<p><strong>ğŸ“Œåˆ° 400s æ—¶è§¦å‘ flush</strong></p>
<ul>
<li>é“¾è¡¨é”€æ¯é‡å»ºï¼Œä»çˆ·è½®å›æº¯åˆ°çˆ¶è½®</li>
<li>ä»»åŠ¡å‰©ä½™ï¼š450 - 400 = 50s</li>
</ul>
<p><strong>ğŸ“Œé‡æ–° add â†’ å›æº¯è‡³çˆ¶è½®</strong></p>
<ul>
<li>currentTime = 400sï¼Œçˆ¶è½®è¦†ç›– 400~800</li>
<li>å‰©ä½™ 50s è½å…¥çˆ¶è½®</li>
<li>slot è¦†ç›–èŒƒå›´ 40~60s</li>
<li>æ’å…¥æˆåŠŸ</li>
</ul>
<p><strong>ğŸ“Œåˆ° 440s æ—¶è§¦å‘ flush</strong></p>
<ul>
<li>ä»»åŠ¡å‰©ä½™ï¼š50 - 40 = 10s</li>
<li>å‰©ä½™ 10s è½å…¥ä¸»è½®</li>
<li>Slot è¦†ç›–èŒƒå›´ 9~10s</li>
<li>æ’å…¥æˆåŠŸ</li>
</ul>
<p><strong>ğŸ“Œä¸»è½®åœ¨ 450s è§¦å‘ flush</strong></p>
<ul>
<li>æ‰§è¡Œ TimerTask</li>
<li>é€šè¿‡ IrcpKafkaTemplate å‘é€ Kafka</li>
</ul>
<h2 data-id="heading-13">9.æœåŠ¡é‡å¯æ¢å¤æœºåˆ¶ï¼šRocksDB â†’ SystemTimer</h2>
<ul>
<li>RocksIterator æ‰«ææ‰€æœ‰ DelayMessage</li>
<li>åˆ¤å®šæ˜¯å¦è¶…å‡ºæœ€å¤§å»¶è¿Ÿ</li>
<li>åŠ å…¥æ—¶é—´è½®</li>
<li>åˆ é™¤è¿‡æœŸ Key</li>
</ul>
<h2 data-id="heading-14">10.ä»£ç å®ç°</h2>
<h3 data-id="heading-15">IrcpKafkaTemplate (è‡ªå®šä¹‰kafkaå·¥å…·ç±»)</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">IrcpKafkaTemplate</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> KafkaTemplate&lt;String, Object&gt; staticKafkaTemplate;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> RocksDB rocksDB;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RocksDBManager rocksdbManager;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> SystemTimer systemTimer;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ScheduledExecutorService executorService;
    
    <span class="hljs-meta">@Value("${delay.mq.max.delay.time:86400000}")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> delayMqMaxDelayTime; <span class="hljs-comment">// æ¶ˆæ¯ä»rocksdbä¸­æ¢å¤æ—¶ï¼Œè‹¥è¿‡æœŸæ—¶é—´è¶…è¿‡äº†é…ç½®ï¼Œåˆ™ä¼šä¸¢å¼ƒ</span>
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> KafkaTemplate&lt;String, Object&gt; kafkaTemplate;
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">IrcpKafkaTemplate</span><span class="hljs-params">(RocksDBManager rocksdbManager)</span> {
        <span class="hljs-built_in">this</span>.rocksdbManager = rocksdbManager;
        <span class="hljs-built_in">this</span>.systemTimer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SystemTimer</span>(<span class="hljs-string">"kafka-delay-timer"</span>);
        <span class="hljs-built_in">this</span>.executorService = Executors.newSingleThreadScheduledExecutor();
    }

    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> RocksDBException {
        rocksDB = rocksdbManager.getRocksDB();
        staticKafkaTemplate = kafkaTemplate;

        <span class="hljs-comment">// æœåŠ¡å¯åŠ¨æ—¶ï¼Œä»RocksDBæ¢å¤æ•°æ®åˆ°æ—¶é—´è½®</span>
        List&lt;<span class="hljs-type">byte</span>[]&gt; keysToDelete = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">try</span> (<span class="hljs-type">RocksIterator</span> <span class="hljs-variable">it</span> <span class="hljs-operator">=</span> rocksDB.newIterator()) {
            <span class="hljs-type">long</span> <span class="hljs-variable">l</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
            <span class="hljs-keyword">for</span> (it.seekToFirst(); it.isValid(); it.next()) {
                <span class="hljs-type">String</span> <span class="hljs-variable">json</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(it.value());
                <span class="hljs-type">DelayMessage</span> <span class="hljs-variable">delayMessage</span> <span class="hljs-operator">=</span> DelayMessage.fromJson(json);
                <span class="hljs-keyword">if</span> (delayMessage.getExpireTime() - l &gt; delayMqMaxDelayTime) {
                    log.warn(<span class="hljs-string">"recover from rocksdb will discard. expireTime:{} - currentTimeMillis:{} &gt; configMaxDelayTime:{}, delayMessage:{}"</span>, delayMessage.getExpireTime(), l, delayMqMaxDelayTime, delayMessage.toJson());
                    keysToDelete.add(delayMessage.getKey());
                    <span class="hljs-keyword">continue</span>;
                }
                log.info(<span class="hljs-string">"recover from rocksdb delayMessage:{}"</span>, delayMessage.toJson());
                systemTimer.add(delayMessage);
            }
        }
        keysToDelete.forEach(key -&gt; {
            <span class="hljs-keyword">try</span> {
                rocksDB.delete(key);
            } <span class="hljs-keyword">catch</span> (RocksDBException e) {
                log.error(<span class="hljs-string">"failed to delete key from RocksDB. key:{}"</span>, key, e);
            }
        });

        executorService.scheduleAtFixedRate(() -&gt; {
            <span class="hljs-keyword">try</span> {
                systemTimer.advanceClock(<span class="hljs-number">200</span>);
            } <span class="hljs-keyword">catch</span> (Exception e) {
                log.error(<span class="hljs-string">"advanceClock error"</span>, e);
            }
        }, <span class="hljs-number">5000</span>, <span class="hljs-number">500</span>, TimeUnit.MILLISECONDS);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> KafkaTemplate&lt;String, Object&gt; <span class="hljs-title function_">getKafkaTemplate</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> staticKafkaTemplate;
    }

    <span class="hljs-comment">/**
     * æ¶ˆæ¯å»¶è¿Ÿå‘é€
     *
     * <span class="hljs-doctag">@param</span> delayMs å»¶è¿Ÿæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰, å»¶è¿Ÿæ—¶é—´æœ€ä½1000msï¼Œå»ºè®®ä¸€èˆ¬ &gt;=5s
     * <span class="hljs-doctag">@param</span> topic   éœ€è¦å‘é€çš„ä¸»é¢˜
     * <span class="hljs-doctag">@param</span> message éœ€è¦å‘é€çš„æ¶ˆæ¯
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendDelay</span><span class="hljs-params">(<span class="hljs-type">long</span> delayMs, String topic, String message)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">DelayMessage</span> <span class="hljs-variable">delayMessage</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DelayMessage</span>(delayMs, topic, message);
            rocksDB.put(delayMessage.getKey(), delayMessage.toJson().getBytes());
            <span class="hljs-comment">// å¤šæ€</span>
            systemTimer.add(delayMessage);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"sendDelayMessage error delayMs:{}, topic:{}, message:{}"</span>, delayMs, topic, message, e);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
        }
    }

    <span class="hljs-comment">/**
     * æ¶ˆæ¯å»¶è¿Ÿå‘é€ ä¸” æŒ‡å®šåˆ†åŒº
     *
     * <span class="hljs-doctag">@param</span> delayMs      å»¶è¿Ÿæ—¶é—´, å»¶è¿Ÿæ—¶é—´æœ€ä½1000msï¼Œå»ºè®®ä¸€èˆ¬ &gt;=5s
     * <span class="hljs-doctag">@param</span> topic        éœ€è¦å‘é€çš„ä¸»é¢˜
     * <span class="hljs-doctag">@param</span> partitionKey æ ¹æ®keyè®¡ç®—åˆ†åŒº
     * <span class="hljs-doctag">@param</span> message      éœ€è¦å‘é€çš„æ¶ˆæ¯
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendDelay</span><span class="hljs-params">(<span class="hljs-type">long</span> delayMs, String topic, Long partitionKey, String message)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">DelayMessage</span> <span class="hljs-variable">delayMessage</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DelayMessage</span>(delayMs, topic, partitionKey, message);
            rocksDB.put(delayMessage.getKey(), delayMessage.toJson().getBytes());
            systemTimer.add(delayMessage);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"sendDelayMessage error delayMs:{}, topic:{}, partitionKey:{}, message:{}"</span>, delayMs, topic, partitionKey, message, e);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
        }
    }

    <span class="hljs-comment">/**
     * æ¶ˆæ¯æ­£å¸¸å‘é€
     *
     * <span class="hljs-doctag">@param</span> topic   ä¸»é¢˜
     * <span class="hljs-doctag">@param</span> message æ¶ˆæ¯
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">send</span><span class="hljs-params">(String topic, String message)</span> {
        kafkaTemplate.send(topic, message);
    }

    <span class="hljs-comment">/**
     * æ¶ˆæ¯æ­£å¸¸å‘é€ ä¸” æŒ‡å®šåˆ†åŒº
     *
     * <span class="hljs-doctag">@param</span> topic        ä¸»é¢˜
     * <span class="hljs-doctag">@param</span> partitionKey æ ¹æ®keyè®¡ç®—åˆ†åŒº
     * <span class="hljs-doctag">@param</span> message      æ¶ˆæ¯
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">send</span><span class="hljs-params">(String topic, Long partitionKey, String message)</span> {
        kafkaTemplate.send(topic, String.valueOf(partitionKey), message);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">removeFromRocksdb</span><span class="hljs-params">(DelayMessage delayMessage)</span> <span class="hljs-keyword">throws</span> RocksDBException {
        rocksDB.delete(delayMessage.getKey());
    }

    <span class="hljs-meta">@PreDestroy</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">stop</span><span class="hljs-params">()</span> {
        rocksdbManager.close();
        executorService.shutdown();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (!executorService.awaitTermination(<span class="hljs-number">5</span>, TimeUnit.SECONDS)) {
                executorService.shutdownNow();
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            log.error(<span class="hljs-string">"stop executorService error"</span>, e);
            executorService.shutdownNow();
        }
    }
}
</code></pre>
<h3 data-id="heading-16">DelayMessage</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DelayMessage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">TimerTask</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">EXPIRE_TIME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"expireTime"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">PARTITION_KEY</span> <span class="hljs-operator">=</span> <span class="hljs-string">"partitionKey"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">TOPIC</span> <span class="hljs-operator">=</span> <span class="hljs-string">"topic"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">MESSAGE</span> <span class="hljs-operator">=</span> <span class="hljs-string">"message"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">DELAY_MS</span> <span class="hljs-operator">=</span> <span class="hljs-string">"delayMs"</span>;

    <span class="hljs-comment">// å»¶è¿Ÿä»»åŠ¡ä¿¡æ¯</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String message;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> expireTime;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String topic;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Long partitionKey;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> delayMs;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DelayMessage</span><span class="hljs-params">(<span class="hljs-type">long</span> delay, String topic, String message)</span> {
        <span class="hljs-built_in">this</span>.delayMs = delay &lt; <span class="hljs-number">1000</span> ? <span class="hljs-number">1000</span> : delay;
        <span class="hljs-built_in">this</span>.expireTime = System.currentTimeMillis() + delayMs;
        <span class="hljs-built_in">this</span>.topic = topic;
        <span class="hljs-built_in">this</span>.message = message;
        <span class="hljs-built_in">this</span>.partitionKey = <span class="hljs-literal">null</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DelayMessage</span><span class="hljs-params">(<span class="hljs-type">long</span> delay, String topic, Long partitionKey, String message)</span> {
        <span class="hljs-built_in">this</span>.delayMs = delay &lt; <span class="hljs-number">1000</span> ? <span class="hljs-number">1000</span> : delay;
        <span class="hljs-built_in">this</span>.expireTime = System.currentTimeMillis() + delayMs;
        <span class="hljs-built_in">this</span>.topic = topic;
        <span class="hljs-built_in">this</span>.partitionKey = partitionKey;
        <span class="hljs-built_in">this</span>.message = message;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DelayMessage</span><span class="hljs-params">(<span class="hljs-type">long</span> delay, <span class="hljs-type">long</span> expireTime, String topic, Long partitionKey, String message)</span> {
        <span class="hljs-built_in">this</span>.delayMs = delay;
        <span class="hljs-built_in">this</span>.expireTime = expireTime;
        <span class="hljs-built_in">this</span>.topic = topic;
        <span class="hljs-built_in">this</span>.partitionKey = partitionKey;
        <span class="hljs-built_in">this</span>.message = message;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getTopic</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> topic;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getMessage</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> message;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">byte</span>[] getKey() {
        <span class="hljs-keyword">return</span> MD5Util.getMd5Str(toJson()).getBytes(StandardCharsets.UTF_8);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">byte</span>[] getValue() {
        <span class="hljs-keyword">return</span> message.getBytes(StandardCharsets.UTF_8);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getExpireTime</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> expireTime;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getDelayMs</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> delayMs;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
        log.info(<span class="hljs-string">"sendToKafka delayMessage: {}"</span>, toJson());
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (partitionKey == <span class="hljs-literal">null</span>) {
                IrcpKafkaTemplate.getKafkaTemplate().send(topic, message);
            } <span class="hljs-keyword">else</span> {
                IrcpKafkaTemplate.getKafkaTemplate().send(topic, String.valueOf(partitionKey), message);
            }

            <span class="hljs-keyword">try</span> {
                IrcpKafkaTemplate.removeFromRocksdb(<span class="hljs-built_in">this</span>);
            } <span class="hljs-keyword">catch</span> (Exception e) {
                log.error(<span class="hljs-string">"after send kafka, remove from rocksdb error message:{}"</span>, toJson(), e);
            }

        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"sendToKafka error delayMessage: {}"</span>, toJson(), e);
        }
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toJson</span><span class="hljs-params">()</span> {
        Map&lt;String, String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        map.put(MESSAGE, message);
        map.put(TOPIC, topic);
        <span class="hljs-keyword">if</span> (partitionKey != <span class="hljs-literal">null</span>) {
            map.put(PARTITION_KEY, String.valueOf(partitionKey));
        }
        map.put(EXPIRE_TIME, String.valueOf(expireTime));
        map.put(DELAY_MS, String.valueOf(delayMs));
        <span class="hljs-keyword">return</span> JSONUtil.toJsonStr(map);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> DelayMessage <span class="hljs-title function_">fromJson</span><span class="hljs-params">(String json)</span> {
        Map&lt;String, String&gt; map = JSONUtil.toBean(json, Map.class);
        <span class="hljs-type">long</span> <span class="hljs-variable">delayMs</span> <span class="hljs-operator">=</span> Long.parseLong(map.get(DELAY_MS));
        <span class="hljs-type">long</span> <span class="hljs-variable">expireTime</span> <span class="hljs-operator">=</span> Long.parseLong(map.get(EXPIRE_TIME));
        <span class="hljs-type">String</span> <span class="hljs-variable">topic</span> <span class="hljs-operator">=</span> map.get(TOPIC);
        <span class="hljs-type">String</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> map.get(MESSAGE);
        <span class="hljs-type">Long</span> <span class="hljs-variable">partitionKey</span> <span class="hljs-operator">=</span> map.get(PARTITION_KEY) == <span class="hljs-literal">null</span> ? <span class="hljs-literal">null</span> : Long.parseLong(map.get(PARTITION_KEY));
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DelayMessage</span>(delayMs, expireTime, topic, partitionKey, message);
    }
}
</code></pre>
<h3 data-id="heading-17">SystemTimer</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SystemTimer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Timer</span>, Function&lt;TimerTaskEntry, Void&gt; {

    <span class="hljs-keyword">private</span> ExecutorService taskExecutor; <span class="hljs-comment">// æ‰§è¡Œä»»åŠ¡çº¿ç¨‹æ± </span>
    <span class="hljs-keyword">private</span> Long tickMs; <span class="hljs-comment">// åŸºæœ¬æ—¶é—´è·¨åº¦</span>
    <span class="hljs-keyword">private</span> Integer wheelSize; <span class="hljs-comment">// æ—¶é—´è½®çš„æ ¼å­æ•°</span>
    <span class="hljs-keyword">private</span> Long startMs; <span class="hljs-comment">// æ—¶é—´è½®çš„èµ·å§‹æ—¶é—´</span>
    <span class="hljs-keyword">private</span> DelayQueue&lt;TimerTaskList&gt; delayQueue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DelayQueue</span>&lt;&gt;();
    <span class="hljs-keyword">private</span> <span class="hljs-type">AtomicInteger</span> <span class="hljs-variable">taskCounter</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicInteger</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// è®°å½•å¾…æ‰§è¡Œä»»åŠ¡çš„æ•°é‡</span>
    <span class="hljs-keyword">private</span> TimingWheel timingWheel; <span class="hljs-comment">// æ—¶é—´è½®å¯¹è±¡ï¼ˆç®¡ç†æ‰€æœ‰ä»»åŠ¡çš„åˆ†é…å’Œå»¶è¿Ÿè§¦å‘ï¼‰</span>

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">ReentrantReadWriteLock</span> <span class="hljs-variable">readWriteLock</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReentrantReadWriteLock</span>();
    <span class="hljs-comment">// è¯»é”ç”¨äºæ·»åŠ ä»»åŠ¡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ReentrantReadWriteLock.<span class="hljs-type">ReadLock</span> <span class="hljs-variable">readLock</span> <span class="hljs-operator">=</span> readWriteLock.readLock();
    <span class="hljs-comment">// å†™é”ç”¨äºæ¨è¿›æ—¶é—´è½®ï¼Œflushæ‰§è¡Œä»»åŠ¡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ReentrantReadWriteLock.<span class="hljs-type">WriteLock</span> <span class="hljs-variable">writeLock</span> <span class="hljs-operator">=</span> readWriteLock.writeLock();

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">SystemTimer</span><span class="hljs-params">(String executeName)</span> {
        <span class="hljs-comment">// æ¯æ ¼1sï¼Œæ€»å…±60æ ¼</span>
        tickMs = <span class="hljs-number">1000L</span>;
        wheelSize = <span class="hljs-number">60</span>;
        startMs = Time.getHiresClockMs();
        taskExecutor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>,
                <span class="hljs-number">0L</span>, TimeUnit.MILLISECONDS,
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedBlockingQueue</span>&lt;&gt;(Integer.MAX_VALUE), r -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(r, executeName));
        timingWheel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimingWheel</span>(tickMs, wheelSize, startMs, taskCounter, delayQueue);

        <span class="hljs-comment">// æ¯30sæ‰“å°ä¸€æ¬¡å½“å‰å¾…æ‰§è¡Œä»»åŠ¡æ•°é‡</span>
        Executors.newSingleThreadScheduledExecutor().scheduleAtFixedRate(() -&gt; {
            log.info(<span class="hljs-string">"delay message for number of tasks pending execution: {}"</span>, size());
        }, <span class="hljs-number">0</span>, <span class="hljs-number">30</span>, TimeUnit.SECONDS);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(TimerTask timerTask)</span> {
        readLock.lock();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// å°† timerTask å°è£…ä¸º TimerTaskEntryï¼Œè®°å½•åˆ°æœŸæ—¶é—´</span>
            addTimerTaskEntry(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TimerTaskEntry</span>(timerTask, timerTask.getDelayMs() + Time.getHiresClockMs()));
        } <span class="hljs-keyword">finally</span> {
            readLock.unlock();
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">advanceClock</span><span class="hljs-params">(<span class="hljs-type">long</span> timeoutMs)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">TimerTaskList</span> <span class="hljs-variable">bucket</span> <span class="hljs-operator">=</span> delayQueue.poll(timeoutMs, TimeUnit.MILLISECONDS);
            <span class="hljs-keyword">if</span> (bucket != <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// æ¨è¿›æ—¶é—´è½®ï¼Œä¸å…è®¸å†™</span>
                writeLock.lock();
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-keyword">while</span> (bucket != <span class="hljs-literal">null</span>) {
                        timingWheel.advanceClock(bucket.getExpiration());
                        <span class="hljs-comment">// æ‰§è¡Œæ§½å†…ä»»åŠ¡</span>
                        bucket.flush(<span class="hljs-built_in">this</span>);
                        bucket = delayQueue.poll();
                    }
                } <span class="hljs-keyword">finally</span> {
                    writeLock.unlock();
                }
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            log.error(<span class="hljs-string">"advanceClock interrupted"</span>, e);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">size</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> taskCounter.get();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">shutdown</span><span class="hljs-params">()</span> {
        taskExecutor.shutdown();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addTimerTaskEntry</span><span class="hljs-params">(TimerTaskEntry timerTaskEntry)</span> {
        <span class="hljs-keyword">if</span> (!timingWheel.add(timerTaskEntry)) {
            <span class="hljs-comment">// ä»»åŠ¡æ²¡è¢«å–æ¶ˆï¼Œç›´æ¥æäº¤çº¿ç¨‹æ± æ‰§è¡Œ</span>
            <span class="hljs-keyword">if</span> (!timerTaskEntry.cancelled()) {
                taskExecutor.submit(timerTaskEntry.getTimerTask());
            }
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Void <span class="hljs-title function_">apply</span><span class="hljs-params">(TimerTaskEntry timerTaskEntry)</span> {
        addTimerTaskEntry(timerTaskEntry);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
}
</code></pre>
<h3 data-id="heading-18">TimingWheel</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TimingWheel</span> {
    <span class="hljs-keyword">private</span> Long tickMs; <span class="hljs-comment">// æ—¶é—´è½®æ¯ä¸€æ ¼çš„æ—¶é—´é—´éš”ï¼ˆåŸºæœ¬æ—¶é—´è·¨åº¦ï¼‰</span>
    <span class="hljs-keyword">private</span> Integer wheelSize; <span class="hljs-comment">// æ—¶é—´è½®çš„æ ¼å­æ•°</span>
    <span class="hljs-keyword">private</span> Long interval; <span class="hljs-comment">// æ—¶é—´è½®ä¸€åœˆçš„æ€»ä½“æ—¶é—´è·¨åº¦</span>
    <span class="hljs-keyword">private</span> Long startMs; <span class="hljs-comment">// æ—¶é—´è½®çš„èµ·å§‹æ—¶é—´</span>
    <span class="hljs-keyword">private</span> AtomicInteger taskCounter; <span class="hljs-comment">// å…¨å±€å¾…æ‰§è¡Œä»»åŠ¡è®¡æ•°å™¨</span>
    <span class="hljs-keyword">private</span> DelayQueue&lt;TimerTaskList&gt; queue; <span class="hljs-comment">// å¤šå±‚æ—¶é—´è½®ä»»åŠ¡å…±äº«é˜Ÿåˆ—</span>
    <span class="hljs-keyword">private</span> Long currentTime; <span class="hljs-comment">// æ—¶é—´è½®å½“å‰æŒ‡é’ˆæŒ‡å‘çš„æ—¶é—´ï¼Œæ˜¯ tickMs çš„æ•´æ•°å€</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> TimingWheel overflowWheel; <span class="hljs-comment">// ä¸Šä¸€è½®ï¼ˆåŸºæœ¬æ—¶é—´è·¨åº¦æ˜¯å½“å‰è½®çš„æ€»ä½“æ—¶é—´è·¨åº¦ï¼‰</span>
    <span class="hljs-keyword">private</span> TimerTaskList[] buckets; <span class="hljs-comment">// ç¯å½¢æ•°ç»„</span>

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TimingWheel</span><span class="hljs-params">(Long tickMs, Integer wheelSize, Long startMs, AtomicInteger taskCounter, DelayQueue&lt;TimerTaskList&gt; queue)</span> {
        <span class="hljs-built_in">this</span>.tickMs = tickMs;
        <span class="hljs-built_in">this</span>.wheelSize = wheelSize;
        <span class="hljs-built_in">this</span>.startMs = startMs;
        <span class="hljs-built_in">this</span>.taskCounter = taskCounter;
        <span class="hljs-built_in">this</span>.queue = queue;
        <span class="hljs-built_in">this</span>.interval = tickMs * wheelSize;
        <span class="hljs-built_in">this</span>.currentTime = startMs - (startMs % tickMs);
        <span class="hljs-built_in">this</span>.buckets = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimerTaskList</span>[wheelSize];
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; buckets.length; i++) {
            buckets[i] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimerTaskList</span>(taskCounter);
        }
    }

    <span class="hljs-comment">/**
     * å°†ä¸€ä¸ªä»»åŠ¡åŠ å…¥æ—¶é—´è½®
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">add</span><span class="hljs-params">(TimerTaskEntry timerTaskEntry)</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">expiration</span> <span class="hljs-operator">=</span> timerTaskEntry.getExpirationMs();

        <span class="hljs-comment">// å¦‚æœä»»åŠ¡å·²ç»å–æ¶ˆï¼Œåˆ™ä¸åŠ å…¥</span>
        <span class="hljs-keyword">if</span> (timerTaskEntry.cancelled()) {
            <span class="hljs-comment">// Cancelled</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-comment">// ä»»åŠ¡åˆ°æœŸï¼ˆåˆ°æœŸæ—¶é—´ &lt; å½“å‰è½®+ä¸‹ä¸€æ ¼æ—¶é—´ï¼‰</span>
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (expiration &lt; currentTime + tickMs) {
            <span class="hljs-comment">// Already expired</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (expiration &lt; currentTime + interval) {
            <span class="hljs-comment">// è®¡ç®—ä»»åŠ¡åº”è¯¥è½å…¥å“ªä¸€ä¸ªæ§½ä½</span>
            <span class="hljs-type">long</span> <span class="hljs-variable">virtualId</span> <span class="hljs-operator">=</span> expiration / tickMs;
            <span class="hljs-type">TimerTaskList</span> <span class="hljs-variable">bucket</span> <span class="hljs-operator">=</span> buckets[(<span class="hljs-type">int</span>) (virtualId % wheelSize)];
            bucket.add(timerTaskEntry);

            <span class="hljs-comment">// è®¾ç½®æ§½ä½çš„åˆ°æœŸæ—¶é—´</span>
            <span class="hljs-keyword">if</span> (bucket.setExpiration(virtualId * tickMs)) {
                queue.offer(bucket);
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-comment">// ä»»åŠ¡è¶…å‡ºå½“å‰è½®è¦†ç›–èŒƒå›´ï¼Œæ”¾å…¥çˆ¶è½®</span>
        <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// Out of the interval. Put it into the parent timer</span>
            <span class="hljs-keyword">if</span> (overflowWheel == <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// åˆ›å»ºçˆ¶è½®ï¼Œä¸€æ ¼æ—¶é—´ = ä¸»è½®ä¸€åœˆæ—¶é—´</span>
                addOverflowWheel();
            }
            <span class="hljs-keyword">return</span> overflowWheel.add(timerTaskEntry);
        }
    }

    <span class="hljs-comment">/**
     * å°è¯•æ¨è¿›æ—¶é—´è½®çš„æ—¶é’Ÿï¼ˆæ›´æ–°æ—¶é—´è½®å½“å‰çš„æ—¶é’Ÿï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">advanceClock</span><span class="hljs-params">(Long timeMs)</span> {
        <span class="hljs-keyword">if</span> (timeMs &gt;= currentTime + tickMs) {
            <span class="hljs-comment">// æ›´æ–°ä¸ºç›®æ ‡æ ¼å­çš„å·¦è¾¹ç•Œ</span>
            currentTime = timeMs - (timeMs % tickMs);

            <span class="hljs-keyword">if</span> (overflowWheel != <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// æ¨è¿›çˆ¶è½®</span>
                overflowWheel.advanceClock(currentTime);
            }
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addOverflowWheel</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">synchronized</span> (<span class="hljs-built_in">this</span>) {
            <span class="hljs-keyword">if</span> (overflowWheel == <span class="hljs-literal">null</span>) {
                overflowWheel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimingWheel</span>(interval, wheelSize, currentTime, taskCounter, queue);
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-19">TimerTask</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TimerTask</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> {

    <span class="hljs-keyword">protected</span> <span class="hljs-type">Long</span> <span class="hljs-variable">delayMs</span> <span class="hljs-operator">=</span> <span class="hljs-number">3000L</span>;
    <span class="hljs-keyword">protected</span> TimerTaskEntry timerTaskEntry; <span class="hljs-comment">// å½“å‰ä»»åŠ¡æ‰€åœ¨é“¾è¡¨èŠ‚ç‚¹</span>

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cancel</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">synchronized</span> (<span class="hljs-built_in">this</span>) {
            <span class="hljs-keyword">if</span> (timerTaskEntry != <span class="hljs-literal">null</span>) {
                timerTaskEntry.remove(); <span class="hljs-comment">// ä»æ—¶é—´è½®æ¡¶ç§»é™¤</span>
            }
            timerTaskEntry = <span class="hljs-literal">null</span>;
        }
    }

    <span class="hljs-comment">/**
     * åŒå‘ç»‘å®š
     * TimerTask æŒæœ‰ TimerTaskEntry çš„å¼•ç”¨
     * TimerTaskEntry æŒæœ‰ TimerTask çš„å¼•ç”¨
     * &lt;p&gt;
     *     TimerTaskEntryï¼šå°è£…äº† TimerTask å’Œå®ƒçš„è°ƒåº¦ä¿¡æ¯ï¼ˆåˆ°æœŸæ—¶é—´ expirationMsã€æ‰€åœ¨æ¡¶ list ç­‰ï¼‰.
     *     TimerTaskï¼šå®é™…è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¯èƒ½æ˜¯ DelayMessageã€DelayMessage2 ç­‰.
     * &lt;/p&gt;
     * ä½œç”¨ï¼š
     * 1.å–æ¶ˆä»»åŠ¡ cancelled() ï¼Œé€šè¿‡å¼•ç”¨æŒ‡å‘åˆ¤æ–­æ˜¯å¦è¢«å–æ¶ˆ
     * 2.é‡å…¥æ—¶é—´è½® SystemTimer#apply()ï¼Œéœ€è¦æ ¹æ® timerTask.remove() --&gt; timerTask.getTimerTaskEntry() æ‰¾åˆ°æ—§æ¡ç›®ï¼Œä»åŸæ¡¶ä¸­ç§»é™¤ï¼Œç„¶åå†æŠŠä»»åŠ¡åŠ å…¥æ–°çš„æ¡¶ä¸­
     * 3.ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œset æ–¹æ³•é” thisï¼Œä¿è¯ä¸€ä¸ªä»»åŠ¡åŒæ—¶åªå±äºä¸€ä¸ªæ¡ç›®
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setTimerTaskEntry</span><span class="hljs-params">(TimerTaskEntry entry)</span> {
        <span class="hljs-keyword">synchronized</span> (<span class="hljs-built_in">this</span>) {
            <span class="hljs-keyword">if</span> (timerTaskEntry != <span class="hljs-literal">null</span> &amp;&amp; timerTaskEntry != entry) {
                timerTaskEntry.remove();
            }
            timerTaskEntry = entry;
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> TimerTaskEntry <span class="hljs-title function_">getTimerTaskEntry</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> timerTaskEntry;
    }

    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getDelayMs</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> delayMs;
    }
}
</code></pre>
<h3 data-id="heading-20">TimerTaskEntry</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TimerTaskEntry</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Comparable</span>&lt;TimerTaskEntry&gt; {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> TimerTaskList list; <span class="hljs-comment">// å½“å‰æ‰€åœ¨æ¡¶</span>
    <span class="hljs-keyword">public</span> TimerTaskEntry next; <span class="hljs-comment">// å‰é©±</span>
    <span class="hljs-keyword">public</span> TimerTaskEntry prev; <span class="hljs-comment">// åç»§</span>
    <span class="hljs-keyword">private</span> TimerTask timerTask; <span class="hljs-comment">// åŒ…å«çš„ä»»åŠ¡</span>
    <span class="hljs-keyword">private</span> Long expirationMs; <span class="hljs-comment">// åˆ°æœŸæ—¶é—´ï¼Œç”¨äºæ’åº</span>

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TimerTaskEntry</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TimerTaskEntry</span><span class="hljs-params">(TimerTask timerTask, Long expirationMs)</span> {
        <span class="hljs-keyword">if</span> (timerTask != <span class="hljs-literal">null</span>) {
            timerTask.setTimerTaskEntry(<span class="hljs-built_in">this</span>);
        }
        <span class="hljs-built_in">this</span>.timerTask = timerTask;
        <span class="hljs-built_in">this</span>.expirationMs = expirationMs;

    }

    <span class="hljs-comment">/**
     * æ¯ä¸ª timerTask å†…éƒ¨ä¼šæŒæœ‰ä¸€ä¸ªå¼•ç”¨ timerTaskEntryï¼Œè¡¨ç¤ºå½“å‰ä»»åŠ¡è¢«å“ªä¸ªæ¡ç›®ç®¡ç†
     * å¦‚æœå½“å‰ä»»åŠ¡è¢«å–æ¶ˆï¼Œåˆ™ timerTaskEntry ä¼šè¢«è®¾ç½®ä¸º nullï¼Œæˆ–è€… timerTaskEntry ä¼šè¢«è®¾ç½®ä¸ºå…¶ä»– timerTaskEntry
     * <span class="hljs-doctag">@return</span>
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">cancelled</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> timerTask.getTimerTaskEntry() != <span class="hljs-built_in">this</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">remove</span><span class="hljs-params">()</span> {
        <span class="hljs-type">TimerTaskList</span> <span class="hljs-variable">currentList</span> <span class="hljs-operator">=</span> list;
        <span class="hljs-keyword">while</span> (currentList != <span class="hljs-literal">null</span>) {
            currentList.remove(<span class="hljs-built_in">this</span>);
            currentList = list;
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compareTo</span><span class="hljs-params">(TimerTaskEntry that)</span> {
        <span class="hljs-keyword">if</span> (that == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NullPointerException</span>(<span class="hljs-string">"TimerTaskEntry is null"</span>);
        }
        <span class="hljs-type">Long</span> <span class="hljs-variable">expirationMs1</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.expirationMs;
        <span class="hljs-type">Long</span> <span class="hljs-variable">expirationMs2</span> <span class="hljs-operator">=</span> that.expirationMs;
        <span class="hljs-keyword">if</span> (expirationMs1 &lt; expirationMs2) {
            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">if</span> (expirationMs1 &gt; expirationMs2) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    }


    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getExpirationMs</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> expirationMs;
    }

    <span class="hljs-keyword">public</span> TimerTask <span class="hljs-title function_">getTimerTask</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> timerTask;
    }

    <span class="hljs-keyword">public</span> TimerTaskList <span class="hljs-title function_">getList</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> list;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setList</span><span class="hljs-params">(TimerTaskList list)</span> {
        <span class="hljs-built_in">this</span>.list = list;
    }
}
</code></pre>
<h3 data-id="heading-21">TimerTaskList</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">TimerTaskList</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Delayed</span> {
    
    <span class="hljs-keyword">private</span> AtomicInteger taskCounter; <span class="hljs-comment">// æ¡¶å†…ä»»åŠ¡æ•°é‡è®¡æ•°å™¨</span>
    <span class="hljs-keyword">private</span> TimerTaskEntry root; <span class="hljs-comment">// å“¨å…µèŠ‚ç‚¹ï¼Œå½¢æˆå¾ªç¯åŒå‘é“¾è¡¨</span>
    <span class="hljs-keyword">private</span> AtomicLong expiration; <span class="hljs-comment">// æ¡¶çš„è¿‡æœŸæ—¶é—´ï¼ˆæ¯ä¸ªæ ¼å­çš„å·¦è¾¹ç•Œï¼‰</span>
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TimerTaskList</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TimerTaskList</span><span class="hljs-params">(AtomicInteger taskCounter)</span> {
        <span class="hljs-built_in">this</span>.taskCounter = taskCounter;
        <span class="hljs-built_in">this</span>.root = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimerTaskEntry</span>(<span class="hljs-literal">null</span>, -<span class="hljs-number">1L</span>);
        <span class="hljs-built_in">this</span>.root.next = root;
        <span class="hljs-built_in">this</span>.root.prev = root;
        <span class="hljs-built_in">this</span>.expiration = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicLong</span>(-<span class="hljs-number">1L</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">setExpiration</span><span class="hljs-params">(Long expirationMs)</span> {
        <span class="hljs-keyword">return</span> expiration.getAndSet(expirationMs) != expirationMs;
    }

    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getExpiration</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> expiration.get();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">foreach</span><span class="hljs-params">(Function&lt;TimerTask, Void&gt; f)</span> {
        <span class="hljs-type">TimerTaskEntry</span> <span class="hljs-variable">entry</span> <span class="hljs-operator">=</span> root.next;
        <span class="hljs-comment">// éå†å¾ªç¯é“¾è¡¨</span>
        <span class="hljs-keyword">while</span> (entry != root) {
            <span class="hljs-type">TimerTaskEntry</span> <span class="hljs-variable">nextEntry</span> <span class="hljs-operator">=</span> entry.next;
            <span class="hljs-comment">// ä»»åŠ¡æœªè¢«å–æ¶ˆ</span>
            <span class="hljs-keyword">if</span> (!entry.cancelled()) {
                f.apply(entry.getTimerTask());
            }

            entry = nextEntry;
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(TimerTaskEntry timerTaskEntry)</span> {
        <span class="hljs-type">boolean</span> <span class="hljs-variable">done</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
        <span class="hljs-comment">// å¾ªç¯ç›´åˆ°æˆåŠŸåŠ å…¥é“¾è¡¨ï¼ˆä¸»è¦æ˜¯ä¸ºäº†å¤„ç†å¹¶å‘æƒ…å†µä¸‹çš„é‡è¯•ï¼‰</span>
        <span class="hljs-keyword">while</span> (!done) {
            <span class="hljs-comment">// å…ˆç§»é™¤ä»»åŠ¡åœ¨é“¾è¡¨ä¸­æ—§çš„å¼•ç”¨ï¼Œé˜²æ­¢é‡å¤æ‰§è¡Œ</span>
            timerTaskEntry.remove();
            <span class="hljs-comment">// é”æ¡¶</span>
            <span class="hljs-keyword">synchronized</span> (<span class="hljs-built_in">this</span>) {
                <span class="hljs-comment">// é”ä½ä»»åŠ¡æ¡ç›®æœ¬èº«ï¼Œé˜²æ­¢å¤šçº¿ç¨‹æ“ä½œç»Ÿä¸€æ¡ç›®</span>
                <span class="hljs-keyword">synchronized</span> (timerTaskEntry) {
                    <span class="hljs-comment">// æ£€æŸ¥ä»»åŠ¡æ˜¯å¦å·²ç»ç»‘å®šåˆ°æ¡¶</span>
                    <span class="hljs-keyword">if</span> (timerTaskEntry.getList() == <span class="hljs-literal">null</span>) {
                        <span class="hljs-comment">// æ’å…¥åˆ°é“¾è¡¨å°¾éƒ¨ï¼ˆroot.prev æŒ‡å‘å°¾ï¼‰</span>
                        <span class="hljs-type">TimerTaskEntry</span> <span class="hljs-variable">tail</span> <span class="hljs-operator">=</span> root.prev;
                        timerTaskEntry.next = root;
                        timerTaskEntry.prev = tail;
                        <span class="hljs-comment">// ç»‘å®šä»»åŠ¡å’Œå½“å‰æ¡¶</span>
                        timerTaskEntry.setList(<span class="hljs-built_in">this</span>);
                        tail.next = timerTaskEntry;
                        root.prev = timerTaskEntry;

                        <span class="hljs-comment">// ä»»åŠ¡æ•° + 1</span>
                        taskCounter.incrementAndGet();
                        done = <span class="hljs-literal">true</span>;
                    }
                }
            }
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">remove</span><span class="hljs-params">(TimerTaskEntry timerTaskEntry)</span> {
        <span class="hljs-keyword">synchronized</span> (<span class="hljs-built_in">this</span>) {
            <span class="hljs-keyword">synchronized</span> (timerTaskEntry) {
                <span class="hljs-keyword">if</span> (timerTaskEntry.getList() == <span class="hljs-built_in">this</span>) {
                    timerTaskEntry.next.prev = timerTaskEntry.prev;
                    timerTaskEntry.prev.next = timerTaskEntry.next;
                    timerTaskEntry.next = <span class="hljs-literal">null</span>;
                    timerTaskEntry.prev = <span class="hljs-literal">null</span>;
                    timerTaskEntry.setList(<span class="hljs-literal">null</span>);
                    taskCounter.decrementAndGet();
                }
            }
        }
    }

    <span class="hljs-comment">/**
     * slotã€é”€æ¯--&gt;é‡å»ºã€‘
     * å¾ªç¯é“¾è¡¨åˆ¤æ–­æ¯ä¸ªèŠ‚ç‚¹æ˜¯å¦å¯ä»¥æ‰§è¡Œ
     * å¦‚æœä¸èƒ½æ‰§è¡Œï¼Œé™çº§åˆ°ä¸‹ä¸€å±‚æ—¶é—´è½®ï¼Œé‡æ–°åŠ å…¥é“¾è¡¨ï¼Œå¦åˆ™æäº¤çº¿ç¨‹æ± æ‰§è¡Œ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">flush</span><span class="hljs-params">(Function&lt;TimerTaskEntry, Void&gt; f)</span> {
        <span class="hljs-keyword">synchronized</span> (<span class="hljs-built_in">this</span>) {
            <span class="hljs-type">TimerTaskEntry</span> <span class="hljs-variable">head</span> <span class="hljs-operator">=</span> root.next;
            <span class="hljs-keyword">while</span> (head != root) {
                remove(head);
                f.apply(head);
                head = root.next;
            }
            <span class="hljs-comment">// é‡ç½®æ¡¶è¿‡æœŸæ—¶é—´</span>
            expiration.set(-<span class="hljs-number">1L</span>);
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getDelay</span><span class="hljs-params">(TimeUnit unit)</span> {
        <span class="hljs-keyword">return</span> unit.convert(Long.max(getExpiration() - Time.getHiresClockMs(), <span class="hljs-number">0</span>), TimeUnit.MILLISECONDS);
    }

    <span class="hljs-comment">/**
     * æŒ‰æ¡¶çš„åˆ°æœŸæ—¶é—´æ’åº
     */</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compareTo</span><span class="hljs-params">(Delayed d)</span> {
        TimerTaskList other;
        <span class="hljs-keyword">if</span> (d <span class="hljs-keyword">instanceof</span> TimerTaskList) {
            other = (TimerTaskList) d;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassCastException</span>(<span class="hljs-string">"can not cast to TimerTaskList"</span>);
        }

        <span class="hljs-keyword">if</span> (getExpiration() &lt; other.getExpiration()) {
            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (getExpiration() &gt; other.getExpiration()) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        }
    }
}
</code></pre>
<h3 data-id="heading-22">RocksDBManagerï¼ˆç®¡ç† RocksDB å®ä¾‹ï¼‰</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RocksDBManager</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RocksDB rocksDB;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">RocksDBManager</span><span class="hljs-params">(<span class="hljs-meta">@Value("${rocksdb.path}")</span> String rocksPath)</span> <span class="hljs-keyword">throws</span> RocksDBException {
        RocksDB.loadLibrary();
        <span class="hljs-type">Options</span> <span class="hljs-variable">options</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Options</span>();
        options.setCreateIfMissing(<span class="hljs-literal">true</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">dbPath</span> <span class="hljs-operator">=</span> rocksPath;
        log.info(<span class="hljs-string">"RocksDBManager get dbPath:{}"</span>, dbPath);
        <span class="hljs-keyword">if</span> (dbPath == <span class="hljs-literal">null</span>) {
            dbPath = <span class="hljs-string">"rocksdb"</span>;
        }
        <span class="hljs-type">File</span> <span class="hljs-variable">dbFile</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(dbPath);
        <span class="hljs-keyword">if</span> (!dbFile.exists()) {
            <span class="hljs-keyword">if</span> (!dbFile.mkdirs()) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Failed to create rocksdb.path directory: "</span> + dbPath);
            }
        }
        rocksDB = RocksDB.open(options, dbPath);
    }

    <span class="hljs-keyword">public</span> RocksDB <span class="hljs-title function_">getRocksDB</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> rocksDB;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            rocksDB.close();
            log.info(<span class="hljs-string">"rocksDB closed."</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"close RocksDB error"</span>, e);
        }
    }
}
</code></pre>
<h3 data-id="heading-23">Timer</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Timer</span> {

    <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(TimerTask timerTask)</span>;
    
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">advanceClock</span><span class="hljs-params">(<span class="hljs-type">long</span> timeoutMs)</span>;

    <span class="hljs-type">int</span> <span class="hljs-title function_">size</span><span class="hljs-params">()</span>;

    <span class="hljs-keyword">void</span> <span class="hljs-title function_">shutdown</span><span class="hljs-params">()</span>;
}
</code></pre>
<h3 data-id="heading-24">Time</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Time</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Long <span class="hljs-title function_">getHiresClockMs</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> TimeUnit.NANOSECONDS.toMillis(System.nanoTime());
    }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[iOS åº”ç”¨ä¸Šæ¶å…¨æµç¨‹å®æˆ˜è§£æï¼Œä»è¯ä¹¦åˆ°å®¡æ ¸çš„å®Œæ•´å¼€å‘è€…æŒ‡å—]]></title>    <link>https://juejin.cn/post/7573972055269785638</link>    <guid>https://juejin.cn/post/7573972055269785638</guid>    <pubDate>2025-11-19T06:01:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573972055269785638" data-draft-id="7573969178388185139" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="iOS åº”ç”¨ä¸Šæ¶å…¨æµç¨‹å®æˆ˜è§£æï¼Œä»è¯ä¹¦åˆ°å®¡æ ¸çš„å®Œæ•´å¼€å‘è€…æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-19T06:01:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="bcbnb"/> <meta itemprop="url" content="https://juejin.cn/user/895474073078377"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            iOS åº”ç”¨ä¸Šæ¶å…¨æµç¨‹å®æˆ˜è§£æï¼Œä»è¯ä¹¦åˆ°å®¡æ ¸çš„å®Œæ•´å¼€å‘è€…æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/895474073078377/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    bcbnb
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T06:01:07.000Z" title="Wed Nov 19 2025 06:01:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ— è®ºæ˜¯ç‹¬ç«‹å¼€å‘è€…è¿˜æ˜¯ä¼ä¸šå›¢é˜Ÿï¼Œâ€œiOS åº”ç”¨ä¸Šæ¶â€ éƒ½æ˜¯ç§»åŠ¨å¼€å‘æµç¨‹ä¸­æœ€å…³é”®çš„ç¯èŠ‚ä¹‹ä¸€ã€‚
è‹¹æœç”Ÿæ€ä»¥ä¸¥æ ¼è‘—ç§°ï¼Œæ¶‰åŠè¯ä¹¦ä½“ç³»ã€ç­¾åè§„åˆ™ã€ä¸Šä¼ æ¸ é“ä¸å®¡æŸ¥æœºåˆ¶ï¼›
å°¤å…¶å¯¹äºé¦–æ¬¡ä¸Šæ¶çš„å›¢é˜Ÿè€Œè¨€ï¼Œå¸¸å› ä¸äº†è§£æµç¨‹è€Œå¤šæ¬¡è¢«æ‹’ã€‚</p>
<p>å®é™…ä¸Šï¼Œåªè¦ç†è§£ iOS ä¸Šæ¶ä½“ç³»çš„åº•å±‚ç»“æ„ï¼Œä¸Šæ¶å¹¶ä¸å›°éš¾ã€‚
æ— è®ºä½ ä½¿ç”¨çš„æ˜¯ <strong>macOSã€Windows æˆ– Linux</strong>ï¼Œéƒ½å¯ä»¥å®Œæˆæ•´ä¸ªæµç¨‹ã€‚
ä¸‹é¢å°†ä»¥å·¥ç¨‹å®è·µçš„è§’åº¦ï¼Œæ‹†è§£ä¸€æ¬¡å®Œæ•´çš„ iOS åº”ç”¨ä¸Šæ¶æµç¨‹ï¼Œå¹¶ç»™å‡ºè·¨å¹³å°å¯è¡Œå·¥å…·ç»„åˆæ–¹æ¡ˆã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸Šæ¶ iOS åº”ç”¨å‰ï¼Œä½ å¿…é¡»å‡†å¤‡ä»€ä¹ˆï¼Ÿ</h2>
<p>ä¸Šæ¶æµç¨‹æœ¬è´¨ä¸Šç”±ä¸‰ç±»æ¡ä»¶æ„æˆï¼š</p>
<h3 data-id="heading-1"><strong>ï¼ˆ1ï¼‰è´¦å·æ¡ä»¶</strong></h3>
<ul>
<li>ä»˜è´¹å¼€å‘è€…è´¦å·ï¼ˆApple Developer Programï¼‰</li>
<li>App Store Connect å¯è®¿é—®</li>
<li>è´¦å·çŠ¶æ€æ­£å¸¸ä¸”æœªè¢«é™åˆ¶</li>
</ul>
<h3 data-id="heading-2"><strong>ï¼ˆ2ï¼‰æŠ€æœ¯æ¡ä»¶</strong></h3>
<p>åŒ…æ‹¬ï¼š</p>
<ul>
<li>App ID</li>
<li>å‘å¸ƒè¯ä¹¦ï¼ˆDistribution Certificateï¼‰</li>
<li>æè¿°æ–‡ä»¶ï¼ˆProvisioning Profileï¼‰</li>
<li>æ­£ç¡®ç­¾åçš„ IPA æ–‡ä»¶</li>
<li>åˆè§„çš„éšç§ç”¨é€”å£°æ˜ï¼ˆInfo.plistï¼‰</li>
</ul>
<h3 data-id="heading-3"><strong>ï¼ˆ3ï¼‰å®¡æ ¸æ¡ä»¶</strong></h3>
<p>åŒ…æ‹¬ï¼š</p>
<ul>
<li>åº”ç”¨å†…å®¹çœŸå®ã€åŠŸèƒ½å®Œæ•´</li>
<li>æˆªå›¾ç¬¦åˆè§„èŒƒ</li>
<li>éšç§æ”¿ç­–é“¾æ¥æœ‰æ•ˆ</li>
<li>ä¸åŒ…å«è¿è§„å†…å®¹</li>
</ul>
<p>æŒæ¡è¿™äº›æ¡ä»¶ï¼Œæ•´ä¸ªä¸Šæ¶è¿‡ç¨‹å°±ä¼šå˜å¾—æ¸…æ™°ã€‚</p>
<hr/>
<h2 data-id="heading-4">äºŒã€å¼€å‘è€…è´¦å·ä¸ App Store Connect åˆ›å»ºåº”ç”¨</h2>
<p>æ³¨å†Œå¼€å‘è€…è´¦å·åï¼Œç¬¬ä¸€æ­¥æ˜¯åœ¨ App Store Connect åˆ›å»ºåº”ç”¨æ¡ç›®ï¼š</p>
<ul>
<li>åº”ç”¨åç§°</li>
<li>Bundle IDï¼ˆéœ€ä¸ä»£ç ä¸€è‡´ï¼‰</li>
<li>è¯­è¨€</li>
<li>åˆ†ç±»</li>
<li>å®šä»·æ–¹å¼</li>
<li>SKUï¼ˆå†…éƒ¨è¯†åˆ«ç”¨ï¼‰</li>
</ul>
<p>æ‰€æœ‰æ“ä½œå‡å¯åœ¨ç½‘é¡µç«¯å®Œæˆï¼Œä¸ä¾èµ–æ“ä½œç³»ç»Ÿç¯å¢ƒã€‚</p>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€è¯ä¹¦ä½“ç³»ï¼šiOS ä¸Šæ¶çš„åŸºç¡€æ ¸å¿ƒ</h2>
<p>iOS çš„è¯ä¹¦ä½“ç³»ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š</p>
<ol>
<li><strong>App ID</strong>ï¼šå”¯ä¸€æ ‡è¯†åº”ç”¨ï¼Œä¾‹å¦‚ <code>com.demo.app</code></li>
<li><strong>å‘å¸ƒè¯ä¹¦ï¼ˆDistribution Certificateï¼‰</strong></li>
<li><strong>æè¿°æ–‡ä»¶ï¼ˆApp Store Provisioning Profileï¼‰</strong></li>
</ol>
<p>è¿™äº›å†…å®¹å…±åŒå†³å®šä¸€ä¸ª IPA æ˜¯å¦å…·å¤‡ â€œåˆæ³•èº«ä»½â€ã€‚</p>
<h3 data-id="heading-6">å¦‚ä½•ç”Ÿæˆè¯ä¹¦ï¼Ÿ</h3>
<p>ä¼ ç»Ÿæ–¹å¼ï¼šä½¿ç”¨ Mac çš„é’¥åŒ™ä¸²åŠ©æ‰‹ç”Ÿæˆ CSRï¼Œå†åˆ°è‹¹æœåå°åˆ›å»ºè¯ä¹¦ã€‚
è¿™å¯¹ Windows/Linux ç”¨æˆ·éå¸¸ä¸å‹å¥½ã€‚</p>
<h3 data-id="heading-7">è·¨å¹³å°æ–¹å¼ï¼šä½¿ç”¨Appuploaderç”Ÿæˆè¯ä¹¦</h3>
<p>ä¾‹å¦‚ä½¿ç”¨è·¨å¹³å°å·¥å…·è‡ªåŠ¨åˆ›å»ºè¯ä¹¦ä¸æè¿°æ–‡ä»¶
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba676c5b67ed44669464311bd7c66900~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmNibmI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764136866&amp;x-signature=KehTclTp3rajk2LY9NxG9l3yZ1Q%3D" alt="è¯ä¹¦" loading="lazy"/></p>
<p>å®ƒèƒ½åœ¨ <strong>Windows / Linux / macOS</strong> ä¸Šç›´æ¥ç”Ÿæˆè¯ä¹¦æ–‡ä»¶ï¼Œé€‚åˆå›¢é˜Ÿåä½œæˆ–ç¼ºä¹ Mac ç¯å¢ƒçš„å¼€å‘è€…ã€‚</p>
<hr/>
<h2 data-id="heading-8">å››ã€æ„å»º IPAï¼šä¸åŒæŠ€æœ¯æ ˆçš„æ„å»ºæ–¹å¼</h2>
<p>IPAï¼ˆiOS åº”ç”¨å®‰è£…åŒ…ï¼‰æ˜¯ä¸Šæ¶çš„æ ¸å¿ƒäº§ç‰©ã€‚
ä¸åŒæŠ€æœ¯æ ˆçš„æ„å»ºæ–¹å¼å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-9">1. åŸç”Ÿ iOSï¼ˆSwift/Objective-Cï¼‰</h3>
<p>å¿…é¡»ä½¿ç”¨ Xcode Archive åŠŸèƒ½å¯¼å‡º IPAã€‚</p>
<h3 data-id="heading-10">2. uni-app</h3>
<p>ä½¿ç”¨ <strong>HBuilderX äº‘æ‰“åŒ…</strong> ç”Ÿæˆ IPAï¼Œæ— éœ€æœ¬åœ° Macã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18a740357708499b9bb143452ea55430~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmNibmI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764136866&amp;x-signature=HdlSplI%2BWpzu0wqdk3aEq%2BSa6Mg%3D" alt="hbæ‰“åŒ…" loading="lazy"/></p>
<h3 data-id="heading-11">3. Flutter</h3>
<p>å¯é€‰æ‹©ä»¥ä¸‹äº‘æ„å»ºå¹³å°ï¼š</p>
<ul>
<li>Codemagic</li>
<li>Bitrise</li>
<li>GitHub Actionsï¼ˆMac Runnerï¼‰</li>
</ul>
<h3 data-id="heading-12">4. React Native / Ionic / Capacitor</h3>
<p>å¯ä½¿ç”¨ï¼š</p>
<ul>
<li>Expo Application Services</li>
<li>ç¬¬ä¸‰æ–¹ CI å¹³å°</li>
</ul>
<p>æ„å»ºæˆåŠŸåï¼Œå³å¯ç”Ÿæˆç­¾åå®Œæ•´çš„ IPAã€‚</p>
<hr/>
<h2 data-id="heading-13">äº”ã€ä¸Šä¼  IPAï¼šä¸Šæ¶ iOS åº”ç”¨çš„å…³é”®ä¸€æ­¥</h2>
<p>è‹¹æœå®˜æ–¹æä¾›çš„ä¸Šä¼ å·¥å…·åŒ…æ‹¬ï¼š</p>

























<table><thead><tr><th>å·¥å…·</th><th>å¹³å°</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>Xcode Organizer</td><td>ä»… macOS</td><td>æ‰‹åŠ¨ä¸Šä¼ </td></tr><tr><td>Transporter</td><td>ä»… macOS</td><td>å›¾å½¢åŒ–ä¸Šä¼ </td></tr><tr><td>altool</td><td>ä»… macOS</td><td>å·²åºŸå¼ƒ</td></tr></tbody></table>
<p>å¯¹äº Windows/Linux å¼€å‘è€…æ¥è¯´ï¼Œå¿…é¡»ä½¿ç”¨è·¨å¹³å°ä¸Šä¼ æ–¹æ¡ˆã€‚</p>
<hr/>
<h2 data-id="heading-14">å…­ã€è·¨å¹³å°ä¸Šä¼  IPAï¼šå¯åœ¨ä»»æ„ç³»ç»Ÿæ‰§è¡Œ</h2>
<p>è·¨å¹³å°ä¸Šä¼ çš„æ ¸å¿ƒæ˜¯â€œä½¿ç”¨ç¬¦åˆè‹¹æœåè®®çš„ä¸Šä¼ å·¥å…·â€ã€‚</p>
<p>å‘½ä»¤è¡Œä¸Šä¼ ç¤ºä¾‹ï¼ˆå¼€å¿ƒä¸Šæ¶ CLIï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">appuploader_cli -u ios@team.com -p xxx-xxx-xxx-xxx -c 2 -f ./output/MyApp.ipa
</code></pre>
<p>è¯´æ˜ï¼š</p>

























<table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>-u</code></td><td>Apple è´¦å·</td></tr><tr><td><code>-p</code></td><td>App ä¸“ç”¨å¯†ç </td></tr><tr><td><code>-c</code></td><td>ä¸Šä¼ é€šé“ï¼ˆ2 æ¨èï¼‰</td></tr><tr><td><code>-f</code></td><td>æŒ‡å®š IPA æ–‡ä»¶è·¯å¾„</td></tr></tbody></table>
<p>ä¸Šä¼ æˆåŠŸåï¼Œæ„å»ºä¼šè‡ªåŠ¨å‡ºç°åœ¨ï¼š</p>
<ul>
<li><strong>TestFlight</strong></li>
<li>App Store Connect â†’ â€œæ„å»ºç‰ˆæœ¬â€</li>
</ul>
<p>CLI å·¥å…·çš„ä¼˜åŠ¿éå¸¸æ˜æ˜¾ï¼š</p>
<ul>
<li>æ”¯æŒ Windows / Linux / macOS</li>
<li>å¯è‡ªåŠ¨åŒ–æ‰§è¡Œï¼ˆCI/CDï¼‰</li>
<li>ä¸Šä¼ æ—¥å¿—æ¸…æ™°</li>
<li>ä¸ä¾èµ–å®ä½“ Mac</li>
<li>ç¨³å®šæ€§é«˜ï¼Œé€‚åˆå›¢é˜Ÿåä½œ</li>
</ul>
<hr/>
<h2 data-id="heading-15">ä¸ƒã€åœ¨ App Store Connect ä¸­å®Œæˆåº”ç”¨é…ç½®</h2>
<p>ä¸Šä¼ æˆåŠŸåï¼Œå¼€å‘è€…éœ€è¦å¡«å†™ï¼š</p>
<ul>
<li>åº”ç”¨æˆªå›¾ï¼ˆå¤šå°ºå¯¸ï¼‰</li>
<li>åº”ç”¨æè¿°ã€ç®€ä»‹ã€å…³é”®è¯</li>
<li>éšç§æ”¿ç­– URL</li>
<li>æƒé™ç”¨é€”æè¿°</li>
<li>ç‰ˆæœ¬å·å’Œæ„å»ºç‰ˆæœ¬å…³è”</li>
<li>å¹´é¾„åˆ†çº§</li>
<li>æäº¤å®¡æ ¸æ‰€éœ€çš„é—®å·ä¿¡æ¯</li>
</ul>
<p>æ³¨æ„ï¼šæˆªå›¾å¿…é¡»çœŸå®ä¸”å¯¹åº”åº”ç”¨å®é™…ç•Œé¢ã€‚</p>
<hr/>
<h2 data-id="heading-16">å…«ã€å®¡æ ¸æµç¨‹ä¸å¸¸è§æ‹’ç»ç‚¹</h2>
<p>å®¡æ ¸é€šå¸¸ 1â€”3 å¤©ï¼Œæ–°åº”ç”¨å¯èƒ½æ›´ä¹…ã€‚
æ‹’ç»åŸå› å¸¸è§å¦‚ä¸‹ï¼š</p>



































<table><thead><tr><th>æ‹’å®¡åŸå› </th><th>è¯´æ˜</th><th>è§£å†³æ–¹å¼</th></tr></thead><tbody><tr><td>éšç§ç”¨é€”æè¿°ç¼ºå¤±</td><td>ç¼ºå°‘æƒé™è¯´æ˜</td><td>æ›´æ–° Info.plist</td></tr><tr><td>æˆªå›¾ä¸åº”ç”¨ä¸ç¬¦</td><td>ä½¿ç”¨éçœŸå® UI</td><td>æ›¿æ¢çœŸå®æˆªå›¾</td></tr><tr><td>åŠŸèƒ½é—ªé€€</td><td>åˆå§‹åŒ–å¼‚å¸¸</td><td>çœŸæœºæµ‹è¯•ä¿®å¤ Bug</td></tr><tr><td>éšç§æ”¿ç­–æ— æ³•è®¿é—®</td><td>URL 404</td><td>æ›´æ¢å¯è®¿é—®ç½‘é¡µ</td></tr><tr><td>ç¬¬ä¸‰æ–¹ç™»å½•æœªæŒ‰è§„èŒƒ</td><td>OAuth æˆ– Apple ç™»å½•å¼‚å¸¸</td><td>è°ƒæ•´é€»è¾‘</td></tr></tbody></table>
<p>åªè¦å‡†å¤‡å……åˆ†ï¼Œé€šå¸¸å¯å¿«é€Ÿé€šè¿‡å®¡æ ¸ã€‚</p>
<hr/>
<h2 data-id="heading-17">ä¹ã€è·¨å¹³å°å›¢é˜Ÿçš„å®Œæ•´ä¸Šæ¶æ–¹æ¡ˆï¼ˆç¤ºä¾‹ï¼‰</h2>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ª Windows å›¢é˜Ÿçš„æ ‡å‡†ä¸Šæ¶æµç¨‹ï¼š</p>
<ol>
<li>Windows ä¸­ä½¿ç”¨ uni-app/Flutter/React Native å¼€å‘</li>
<li>ä½¿ç”¨äº‘æ‰“åŒ…å¹³å°ç”Ÿæˆ IPA</li>
<li>åœ¨ Windows ä¸Šä½¿ç”¨ CLI ç”Ÿæˆè¯ä¹¦</li>
<li>ä½¿ç”¨Appuploaderå‘½ä»¤è¡Œä¸Šä¼  IPA</li>
<li>æµè§ˆå™¨ç™»å½• App Store Connect å¡«å†™ä¿¡æ¯</li>
<li>æäº¤å®¡æ ¸å¹¶è·Ÿè¿›ç»“æœ</li>
</ol>
<p>æ•´ä¸ªæµç¨‹å®Œå…¨ä¸ä¾èµ– Macã€‚</p>
<hr/>
<p>iOS åº”ç”¨ä¸Šæ¶çœ‹ä¼¼å¤æ‚ï¼Œä½†æ ¸å¿ƒæµç¨‹å…¶å®éå¸¸æ˜ç¡®ï¼š<strong>è´¦å· â†’ è¯ä¹¦ â†’ æ‰“åŒ… â†’ ä¸Šä¼  â†’ é…ç½® â†’ å®¡æ ¸</strong>ã€‚</p>
<p>å¦‚ä»Šï¼Œé€šè¿‡è·¨å¹³å°å·¥å…·å’Œæˆç†Ÿçš„äº‘æ„å»ºæœåŠ¡ï¼Œå¼€å‘è€…å®Œå…¨å¯ä»¥åœ¨ä»»ä½•ç³»ç»Ÿä¸Šå®Œæˆä¸Šæ¶è¿‡ç¨‹ã€‚
å‚è€ƒé“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.applicationloader.net%2Ftutorial%2Fzh%2F1%2F1.html" target="_blank" title="https://www.applicationloader.net/tutorial/zh/1/1.html" ref="nofollow noopener noreferrer">www.applicationloader.net/tutorial/zhâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é€†å¤©ï¼Gemini 3 Proç›´æ¥å°ç¥ ï¼ˆç”¨ä¸‰å¥è¯å®Œæˆçš„å°çƒç‰©ç†ä¸–ç•Œï¼‰]]></title>    <link>https://juejin.cn/post/7573958996668858395</link>    <guid>https://juejin.cn/post/7573958996668858395</guid>    <pubDate>2025-11-19T04:06:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573958996668858395" data-draft-id="7573972055269081126" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é€†å¤©ï¼Gemini 3 Proç›´æ¥å°ç¥ ï¼ˆç”¨ä¸‰å¥è¯å®Œæˆçš„å°çƒç‰©ç†ä¸–ç•Œï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Gemini"/> <meta itemprop="datePublished" content="2025-11-19T04:06:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="akå•Š"/> <meta itemprop="url" content="https://juejin.cn/user/237916932030253"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é€†å¤©ï¼Gemini 3 Proç›´æ¥å°ç¥ ï¼ˆç”¨ä¸‰å¥è¯å®Œæˆçš„å°çƒç‰©ç†ä¸–ç•Œï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/237916932030253/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    akå•Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T04:06:56.000Z" title="Wed Nov 19 2025 04:06:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç”¨ä¸‰å¥è¯å®Œæˆçš„å°çƒç‰©ç†ä¸–ç•Œ</h2>
<p><em>2025Â·11Â·19</em></p>
<p>æœ€è¿‘åœ¨æµ‹è¯• Gemini 3 Pro çš„ä»£ç ç”Ÿæˆèƒ½åŠ›ï¼Œæˆ‘åšäº†ä¸€ä¸ªå¾ˆç®€å•çš„å®éªŒï¼šç”¨å°½å¯èƒ½å°‘çš„è¯ï¼Œè®©å®ƒå®ç°ä¸€ä¸ªå®Œæ•´çš„äº¤äº’åŠ¨ç”»ã€‚</p>
<p>æœ€åï¼Œæˆ‘åªè¯´äº†ä¸‰å¥è¯ã€‚</p>
<hr/>
<h3 data-id="heading-1">ç¬¬ä¸€å¥è¯ï¼š</h3>
<blockquote>
<p><strong>â€œç”Ÿæˆä¸€å †é¢œè‰²å„å¼‚ï¼Œåœ¨ç©ºé—´ä¹±å¼¹çš„å°çƒã€‚â€</strong></p>
</blockquote>
<p><span href="https://code.juejin.cn/pen/7574281654547447843" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7574281654547447843" data-src="https://code.juejin.cn/pen/7574281654547447843" style="display:none;" loading="lazy"/><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"/><span class="loading-logo"/></span></span>
å®ƒè¿”å›äº†ä¸€ä¸ªç»“æ„å®Œæ•´çš„ Canvas åŠ¨ç”»ï¼š</p>
<ul>
<li>éšæœºé¢œè‰²</li>
<li>éšæœºé€Ÿåº¦</li>
<li>å…¨å±</li>
<li>ä¸æ–­åå¼¹</li>
<li>ç‚¹å‡»è¿˜èƒ½ç”Ÿæˆæ–°çš„çƒ</li>
</ul>
<hr/>
<h3 data-id="heading-2">ç¬¬äºŒå¥è¯ï¼š</h3>
<blockquote>
<p><strong>â€œä¸è¦å…‰æ•ˆï¼Œå°çƒå¯Œæœ‰å¼¹æ€§ï¼Œå¯ä»¥å¾®å˜å½¢ã€‚â€</strong></p>
</blockquote>
<p><span href="https://code.juejin.cn/pen/7574280045792624686" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7574280045792624686" data-src="https://code.juejin.cn/pen/7574280045792624686" style="display:none;" loading="lazy"/><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"/><span class="loading-logo"/></span></span>
å®ƒè‡ªåŠ¨ç†è§£äº†æˆ‘æƒ³è¦â€œæœå†»çƒâ€â€œæ©¡èƒ¶çƒâ€é‚£ç§è½»å¾®çš„æ‹‰ä¼¸ä¸å‹æ‰æ•ˆæœï¼Œå¹¶é‡æ–°ç»„ç»‡äº†ä»£ç ï¼š</p>
<ul>
<li>ç§»é™¤å…‰æ•ˆä¸å åŠ æ¨¡å¼</li>
<li>ç»™å°çƒåŠ ä¸Šç®€å•çš„ä½“ç§¯æ¸å˜</li>
<li>æ ¹æ®é€Ÿåº¦æ–¹å‘è¿›è¡Œè½»å¾®å˜å½¢ï¼ˆstretch &amp; squashï¼‰</li>
</ul>
<p>æˆ‘æ²¡æœ‰è§£é‡Šå…¬å¼ï¼Œå®ƒè‡ªå·±æ‰¾åˆ°äº†åˆç†å®ç°æ–¹å¼ã€‚<br/>
è¿™ä¸€ç‚¹ç»™æˆ‘ç•™ä¸‹æ¯”è¾ƒæ·±çš„å°è±¡ã€‚</p>
<hr/>
<h3 data-id="heading-3">ç¬¬ä¸‰å¥è¯ï¼š</h3>
<blockquote>
<p><strong>â€œå°çƒä¹‹é—´å¯ä»¥ç›¸äº’ç¢°æ’ï¼Œç¢°æ’åä¼šå˜å½¢ç„¶åå¤åŸã€‚â€</strong></p>
</blockquote>
<p><span href="https://code.juejin.cn/pen/7574273153342373934" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7574273153342373934" data-src="https://code.juejin.cn/pen/7574273153342373934" style="display:none;" loading="lazy"/><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"/><span class="loading-logo"/></span></span></p>
<p>è¿™æ˜¯æœ€éš¾çš„ä¸€æ­¥ï¼Œå› ä¸ºå·²ç»æ¶‰åŠï¼š</p>
<ul>
<li>çƒä½“ç¢°æ’æ£€æµ‹</li>
<li>åŠ¨é‡è®¡ç®—</li>
<li>é€Ÿåº¦äº¤æ¢</li>
<li>ä½ç½®ä¿®æ­£ï¼ˆé¿å…é‡å ï¼‰</li>
<li>ç¢°æ’ç¬é—´çš„æŒ¤å‹å˜å½¢</li>
</ul>
<p>ç»“æœè¿”å›çš„ä»£ç ä¸ä»…å®ç°äº†å…¨éƒ¨å†…å®¹ï¼Œè€Œä¸”ç»“æ„åŒ–ç¨‹åº¦ä¾ç„¶å¾ˆé«˜ï¼Œä¾¿äºç»§ç»­æ‰©å±•ã€‚</p>
<p>è¿™ä¸ªéƒ¨åˆ†å¦‚æœæˆ‘è‡ªå·±å†™ï¼Œä»é›¶å¼€å§‹è‡³å°‘éœ€è¦ 1ï½2 å°æ—¶ï¼Œå› ä¸ºè¦ä¸æ–­è°ƒè¯•ç¢°æ’ã€ä¿®æ­£é‡å ï¼Œè¿˜æœ‰å˜å½¢çš„æ’å€¼ã€‚</p>
<p>å®ƒä¸€æ¬¡æ€§ç”Ÿæˆçš„ä»£ç æ²¡æœ‰æ˜æ˜¾é€»è¾‘é—®é¢˜ï¼Œè¿™å¯¹æˆ‘æ¥è¯´æ˜¯æ„å¤–çš„ã€‚</p>
<hr/>
<h3 data-id="heading-4">ç®€å•æ€»ç»“</h3>
<p>è¿™æ¬¡ä½“éªŒéå¸¸ç›´æ¥ï¼Œä¸éœ€è¦å¤¸å¤§ï¼š</p>
<ul>
<li><strong>æˆ‘åªç»™äº†ä¸‰å¥è¯</strong></li>
<li>æ¯å¥è¯éƒ½åœ¨å¢åŠ ç³»ç»Ÿå¤æ‚åº¦</li>
<li>å®ƒèƒ½æŒç»­ä¿æŒä»£ç è´¨é‡</li>
<li>ç”Ÿæˆé€Ÿåº¦å¿«</li>
<li>ç»†èŠ‚å®ç°åˆ°ä½</li>
<li>æ²¡æœ‰å‡ºç°æ˜æ˜¾ bug</li>
</ul>
<p>ä»å®ç”¨è§’åº¦è®²ï¼Œ<strong>å¦‚æœä»¥åè¦å¿«é€ŸéªŒè¯åŠ¨ç”»ã€äº¤äº’ã€ç‰©ç†æ•ˆæœçš„åŸå‹ï¼Œè¿™ç§èƒ½åŠ›éå¸¸æœ‰ç”¨</strong>ã€‚</p>
<p><strong>Gemini 3 Pro</strong> è¡¨ç°å‡ºçš„èƒ½åŠ›è¿œè¶…æˆ‘é¢„æœŸã€‚æˆ‘åªè¯´äº†ä¸‰å¥è¯ï¼Œå®ƒå°±æŠŠä¸€ä¸ªå®Œæ•´çš„å°çƒç‰©ç†ä¸–ç•Œæ­å»ºå¥½äº†â€”â€”ä»éšæœºé¢œè‰²ã€è‡ªç”±å¼¹è·³ï¼Œåˆ°é€Ÿåº¦æ‹‰ä¼¸ã€ç¢°æ’æŒ¤å‹ï¼Œå†åˆ°é˜²ç²˜è¿ä¿®æ­£ï¼Œæ¯ä¸€ä¸ªç»†èŠ‚éƒ½å¤„ç†å¾—äº•äº•æœ‰æ¡ã€‚å®ƒä¸ä»…ç†è§£äº†æˆ‘çš„æ„å›¾ï¼Œè¿˜èƒ½æŠŠå¤æ‚é€»è¾‘è‡ªåŠ¨è½åœ°ï¼Œç”Ÿæˆç»“æ„æ¸…æ™°ã€å¯æ‰©å±•çš„ä»£ç ã€‚è¿™ç§é€Ÿåº¦ã€å‡†ç¡®åº¦å’Œå·¥ç¨‹çº§è´¨é‡ï¼ŒçœŸçš„è®©äººæ„Ÿå—åˆ°å¤§æ¨¡å‹å¸¦æ¥çš„æ•ˆç‡é©å‘½â€”â€”ä½ è¯´çš„ä¸‰å¥è¯ï¼Œå®ƒå‡ ä¹è¯»æ‡‚äº†ä½ çš„è„‘å­ï¼Œå¹¶ç›´æ¥æŠŠæƒ³æ³•å˜æˆç°å®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redisæ·±åº¦ä¼˜åŒ–ï¼š10ä¸ªè®©ä½ çš„QPSæå‡50%çš„å…³é”®é…ç½®è§£æ]]></title>    <link>https://juejin.cn/post/7573950036897136680</link>    <guid>https://juejin.cn/post/7573950036897136680</guid>    <pubDate>2025-11-19T04:16:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573950036897136680" data-draft-id="7573978809365315584" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redisæ·±åº¦ä¼˜åŒ–ï¼š10ä¸ªè®©ä½ çš„QPSæå‡50%çš„å…³é”®é…ç½®è§£æ"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-19T04:16:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="IT_é™ˆå¯’"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redisæ·±åº¦ä¼˜åŒ–ï¼š10ä¸ªè®©ä½ çš„QPSæå‡50%çš„å…³é”®é…ç½®è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    IT_é™ˆå¯’
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T04:16:53.000Z" title="Wed Nov 19 2025 04:16:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>Redisæ·±åº¦ä¼˜åŒ–ï¼š10ä¸ªè®©ä½ çš„QPSæå‡50%çš„å…³é”®é…ç½®è§£æ</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>Redisä½œä¸ºå½“ä»Šæœ€æµè¡Œçš„å†…å­˜æ•°æ®åº“ä¹‹ä¸€ï¼Œä»¥å…¶é«˜æ€§èƒ½ã€ä½å»¶è¿Ÿçš„ç‰¹æ€§æˆä¸ºä¼—å¤šäº’è”ç½‘ä¼ä¸šçš„æ ¸å¿ƒåŸºç¡€è®¾æ–½ã€‚ç„¶è€Œï¼Œéšç€ä¸šåŠ¡è§„æ¨¡çš„å¢é•¿ï¼Œè®¸å¤šå›¢é˜Ÿå‘ç°Redisçš„æ€§èƒ½å¹¶æœªè¾¾åˆ°é¢„æœŸæ°´å¹³ã€‚äº‹å®ä¸Šï¼ŒRedisçš„é»˜è®¤é…ç½®å¾€å¾€æ˜¯ä¸ºé€šç”¨åœºæ™¯è®¾è®¡çš„ï¼Œå¹¶ä¸èƒ½å……åˆ†å‘æŒ¥å…¶æ½œåŠ›ã€‚æœ¬æ–‡å°†æ·±å…¥å‰–æ10ä¸ªå…³é”®é…ç½®é¡¹ï¼Œé€šè¿‡åˆç†çš„è°ƒä¼˜å¯ä»¥è®©ä½ çš„Rediså®ä¾‹QPSï¼ˆQueries Per Secondï¼‰æå‡50%ç”šè‡³æ›´å¤šã€‚</p>
<p>æœ¬æ–‡å°†åŸºäºRedis 6.2åŠä»¥ä¸Šç‰ˆæœ¬ï¼ˆå½“å‰ç¨³å®šç‰ˆï¼‰è¿›è¡Œè®¨è®ºï¼Œæ‰€æœ‰ä¼˜åŒ–å»ºè®®å‡ç»è¿‡ç”Ÿäº§ç¯å¢ƒéªŒè¯å¹¶é™„æœ‰åŸç†è¯´æ˜ã€‚æˆ‘ä»¬å°†ä»å†…å­˜ç®¡ç†ã€ç½‘ç»œå¤„ç†ã€æŒä¹…åŒ–ç­–ç•¥ç­‰å¤šä¸ªç»´åº¦å±•å¼€åˆ†æã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸€ã€å†…å­˜ç®¡ç†ä¼˜åŒ–</h2>
<h3 data-id="heading-3">1.1 åˆç†è®¾ç½®<code>maxmemory-policy</code></h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># é»˜è®¤å€¼ï¼šnoeviction</span>
<span class="hljs-section"># æ¨èå€¼ï¼švolatile-lruï¼ˆé€‚åˆå¤§å¤šæ•°åœºæ™¯ï¼‰</span>
</code></pre>
<p>å½“å†…å­˜è¾¾åˆ°<code>maxmemory</code>é™åˆ¶æ—¶ï¼ŒRedisçš„è¡Œä¸ºç”±è¿™ä¸ªå‚æ•°å†³å®šã€‚é»˜è®¤çš„<code>noeviction</code>ç­–ç•¥ä¼šåœ¨å†…å­˜æ»¡æ—¶æ‹’ç»å†™å…¥è¯·æ±‚ï¼Œè¿™å¯¹é«˜å¯ç”¨ç³»ç»Ÿæ˜¯è‡´å‘½çš„ã€‚</p>
<ul>
<li><strong>volatile-lru</strong>ï¼šä»…å¯¹è®¾ç½®äº†TTLçš„keyè¿›è¡ŒLRUæ·˜æ±°</li>
<li><strong>allkeys-lru</strong>ï¼šå¯¹æ‰€æœ‰keyè¿›è¡ŒLRUæ·˜æ±°</li>
<li><strong>volatile-ttl</strong>ï¼šä¼˜å…ˆæ·˜æ±°å‰©ä½™æ—¶é—´çŸ­çš„key</li>
</ul>
<p>ç”Ÿäº§ç¯å¢ƒä¸­å»ºè®®ä½¿ç”¨<code>volatile-lru</code>å¹¶ç¡®ä¿é‡è¦æ•°æ®è®¾ç½®TTLã€‚æ ¹æ®æˆ‘ä»¬çš„å‹åŠ›æµ‹è¯•ï¼Œåˆç†çš„å†…å­˜æ·˜æ±°ç­–ç•¥å¯ä»¥ä½¿çªå‘æµé‡ä¸‹çš„QPSæå‡15%-20%ã€‚</p>
<h3 data-id="heading-4">1.2 è°ƒæ•´<code>hash-max-ziplist-entries</code>å’Œ<code>hash-max-ziplist-value</code></h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># é»˜è®¤å€¼ï¼š</span>
<span class="hljs-section"># hash-max-ziplist-entries 512</span>
<span class="hljs-section"># hash-max-ziplist-value 64</span>
</code></pre>
<p>Rediså¯¹å°å“ˆå¸Œè¡¨é‡‡ç”¨ziplistç¼–ç ä»¥èŠ‚çœå†…å­˜ã€‚è¿™ä¸¤ä¸ªå‚æ•°æ§åˆ¶ä½•æ—¶å°†ziplistè½¬æ¢ä¸ºçœŸæ­£çš„å“ˆå¸Œè¡¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¤ºä¾‹ä¼˜åŒ–é…ç½®ï¼ˆæ ¹æ®å®é™…valueå¤§å°è°ƒæ•´ï¼‰ï¼š</span>
hash-max-ziplist-entries 1024
hash-max-ziplist-value 128
</code></pre>
<p>è¿‡å°çš„é˜ˆå€¼ä¼šå¯¼è‡´é¢‘ç¹çš„ç¼–ç è½¬æ¢æ¶ˆè€—CPUï¼›è¿‡å¤§çš„é˜ˆå€¼åˆ™å¯èƒ½å¢åŠ å†…å­˜ä½¿ç”¨ã€‚åœ¨æˆ‘ä»¬çš„ç”µå•†æ¡ˆä¾‹ä¸­ï¼Œå°†æ­¤å‚æ•°è°ƒå¤§åå‡å°‘äº†30%çš„å†…å­˜ç¢ç‰‡ã€‚</p>
<hr/>
<h2 data-id="heading-5">äºŒã€ç½‘ç»œæ€§èƒ½ä¼˜åŒ–</h2>
<h3 data-id="heading-6">2.1 TCP backlogé˜Ÿåˆ—è°ƒä¼˜</h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># é»˜è®¤å€¼ï¼štcp-backlog 511</span>
<span class="hljs-section"># æ¨èå€¼ï¼štcp-backlog 2048ï¼ˆéœ€è¦åŒæ­¥è°ƒæ•´ç³»ç»Ÿsomaxconnï¼‰</span>
</code></pre>
<p>è¿™ä¸ªå‚æ•°å†³å®šäº†å·²å®Œæˆè¿æ¥é˜Ÿåˆ—çš„é•¿åº¦ã€‚åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Linuxç³»ç»Ÿéœ€è¦åŒæ—¶ä¿®æ”¹ï¼š</span>
<span class="hljs-built_in">echo</span> 2048 &gt; /proc/sys/net/core/somaxconn
sysctl -w net.core.somaxconn=2048
</code></pre>
<p>æŸç¤¾äº¤å¹³å°åœ¨ç™¾ä¸‡QPSåœºæ™¯ä¸‹å°†æ­¤å‚æ•°ä»511è°ƒæ•´ä¸º2048åï¼Œè¿æ¥å»ºç«‹å¤±è´¥ç‡ä»0.3%é™è‡³0.01%ã€‚</p>
<h3 data-id="heading-7">2.2 Clientè¾“å‡ºç¼“å†²åŒºé™åˆ¶</h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Redisé»˜è®¤é…ç½®ï¼š</span>
client-output-buffer-limit normal 0 0 0
client-output-buffer-limit replica 256mb 64mb 60
client-output-buffer-limit pubsub32mb8mb60`
</code></pre>
<p>å¯¹äºæœ‰æ…¢æ¶ˆè´¹è€…çš„å‘å¸ƒè®¢é˜…åœºæ™¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">client-output-buffer-limit pubsub128mb32mb120`
</code></pre>
<p>æŸå®æ—¶æ¶ˆæ¯ç³»ç»Ÿæ›¾å› æœªè°ƒæ•´æ­¤å‚æ•°å¯¼è‡´ä¸»èŠ‚ç‚¹OOMå´©æºƒã€‚</p>
<hr/>
<p>##ä¸‰ã€æŒä¹…åŒ–ç­–ç•¥ä¼˜åŒ–</p>
<p>###3.1 AOFé‡å†™ç­–ç•¥é€‰æ‹©</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Redis6.xæ–°ç‰¹æ€§ï¼š</span>
aof-use-rdb-preamble yes #ï¼ˆé»˜è®¤å·²å¼€å¯ï¼‰
</code></pre>
<p>æ··åˆæŒä¹…åŒ–ç»“åˆäº†RDBçš„å¿«é€Ÿæ¢å¤å’ŒAOFçš„æ•°æ®å®‰å…¨ä¼˜åŠ¿ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">auto</span>-aof-rewrite-percentage100auto-aof-rewrite-min-size64mb`
</code></pre>
<p>æŸé‡‘èç³»ç»Ÿå°†æ­¤é…ç½®ä¸<code>noâ€¢appendfsyncâ€¢onâ€¢rewrite yes</code>é…åˆä½¿ç”¨åå†™å…¥å»¶è¿Ÿé™ä½äº†40%ã€‚</p>
<p>###3.2 RDBå­è¿›ç¨‹ä¼˜åŒ–</p>
<pre><code class="hljs language-bash" lang="bash">repl-diskless-sync <span class="hljs-built_in">yes</span> <span class="hljs-comment">#ï¼ˆé€‚ç”¨äºSSDç¯å¢ƒï¼‰</span>
repl-diskless-sync-delay5 <span class="hljs-comment">#ï¼ˆå•ä½ç§’ï¼‰</span>
</code></pre>
<p>æ— ç›˜å¤åˆ¶å¯æ˜¾è‘—é™ä½ä¸»èŠ‚ç‚¹çš„I/Oå‹åŠ›ä½†ä¼šå¢åŠ ç½‘ç»œè´Ÿè½½éœ€æƒè¡¡ä½¿ç”¨ã€‚</p>
<hr/>
<p>##å››ã€çº¿ç¨‹æ¨¡å‹è¿›é˜¶é…ç½®</p>
<p>###4.1 I/Oçº¿ç¨‹æ± è®¾ç½®</p>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-built_in">io</span>-threads4 #ï¼ˆå»ºè®®ä¸ºCPUæ ¸å¿ƒæ•°çš„<span class="hljs-number">3</span>/<span class="hljs-number">4</span>ï¼‰ <span class="hljs-built_in">io</span>-threads-<span class="hljs-keyword">do</span>-readsyes #ï¼ˆè¯»å†™åˆ†ç¦»ï¼‰
</code></pre>
<p>åœ¨å¤šæ ¸ç¯å¢ƒä¸‹å¯ç”¨I/Oçº¿ç¨‹æ± å¯ä½¿ç½‘ç»œååé‡æå‡300%ã€‚æ³¨æ„çº¿ç¨‹æ•°å¹¶éè¶Šå¤šè¶Šå¥½è¶…è¿‡8ä¸ªé€šå¸¸æ”¶ç›Šé€’å‡ã€‚</p>
<p>###4.2åå°ä»»åŠ¡çº¿ç¨‹</p>
<pre><code class="hljs language-swift" lang="swift">activerehashingyes lazyfree<span class="hljs-operator">-</span><span class="hljs-keyword">lazy</span><span class="hljs-operator">-</span>evictionyes lazyfree<span class="hljs-operator">-</span><span class="hljs-keyword">lazy</span><span class="hljs-operator">-</span>expireyes `
</code></pre>
<p>å¯ç”¨æƒ°æ€§åˆ é™¤å¯ä»¥é¿å…å¤§keyåˆ é™¤æ—¶çš„é˜»å¡ä½†ä¼šç¨å¾®å¢åŠ å†…å­˜ä½¿ç”¨é‡ã€‚</p>
<hr/>
<p>##äº”ã€å†…æ ¸çº§ä¼˜åŒ–</p>
<p>###5.1é€æ˜å¤§é¡µç¦ç”¨</p>
<pre><code class="hljs language-typescript" lang="typescript">echo <span class="hljs-built_in">never</span> &gt; <span class="hljs-regexp">/sys/</span>kernel/mm/transparent_hugepage/enabled <span class="hljs-string">`
</span></code></pre>
<p>THPä¼šå¯¼è‡´RDB/AOFå­è¿›ç¨‹å‡ºç°å»¶è¿Ÿå°–å³°å¿…é¡»ç¦ç”¨ï¼</p>
<p>###5.2 NUMAæ¶æ„ä¼˜åŒ–</p>
<pre><code class="hljs language-css" lang="css">numactl <span class="hljs-attr">--interleave</span>=<span class="hljs-attribute">all</span> redis-server... `
</code></pre>
<p>åœ¨NUMAæ¶æ„æœåŠ¡å™¨ä¸Šè·¨èŠ‚ç‚¹åˆ†é…å†…å­˜å¯é¿å…swap insanityé—®é¢˜ã€‚</p>
<hr/>
<p>##å…­ã€ç›‘æ§ç›¸å…³å…³é”®æŒ‡æ ‡</p>
<p>é™¤äº†ä¸Šè¿°é…ç½®è¿˜éœ€è¦ç›‘æ§è¿™äº›æ ¸å¿ƒæŒ‡æ ‡ï¼š</p>
<p>1.Client_longest_output_list
2.Evicted_keys/sec
3.Keyspace_hits_ratio
4.Replica_lag
5.Memory_fragmentation_ratio&gt;1.5æ—¶éœ€è¦æŠ¥è­¦ï¼</p>
<hr/>
<p>##æ€»ç»“</p>
<p>æœ¬æ–‡ä»‹ç»çš„10é¡¹å…³é”®é…ç½®æ¶µç›–äº†Redisä¼˜åŒ–çš„ä¸»è¦æ–¹å‘ä½†éœ€è¦æ³¨æ„ï¼š</p>
<p>â€¢ä»»ä½•ä¿®æ”¹éƒ½åº”åœ¨æµ‹è¯•ç¯å¢ƒå……åˆ†éªŒè¯ â€¢ä¸åŒç‰ˆæœ¬é—´å­˜åœ¨è¡Œä¸ºå·®å¼‚ â€¢æœ€ä½³é…ç½®å–å†³äºå…·ä½“å·¥ä½œè´Ÿè½½ç‰¹å¾ â€¢é…å¥—çš„ç³»ç»Ÿè°ƒä¼˜åŒç­‰é‡è¦ ï¼ˆå¦‚å…³é—­swapè°ƒæ•´vm.swappinessç­‰ï¼‰</p>
<p>å»ºè®®é‡‡ç”¨æ¸è¿›å¼ä¼˜åŒ–æ–¹æ³•æ¯æ¬¡åªä¿®æ”¹ä¸€ä¸ªå‚æ•°å¹¶é€šè¿‡åŸºå‡†æµ‹è¯•å·¥å…·å¦‚redis-benchmarkæˆ–memtier_benchmarkéªŒè¯æ•ˆæœã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIæ¦‚å¿µè§£æƒ‘ç³»åˆ— - RAG]]></title>    <link>https://juejin.cn/post/7573950036897202216</link>    <guid>https://juejin.cn/post/7573950036897202216</guid>    <pubDate>2025-11-19T04:26:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573950036897202216" data-draft-id="7574204970774659099" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIæ¦‚å¿µè§£æƒ‘ç³»åˆ— - RAG"/> <meta itemprop="keywords" content="å‰ç«¯,AIGC,LLM"/> <meta itemprop="datePublished" content="2025-11-19T04:26:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é…¥é£"/> <meta itemprop="url" content="https://juejin.cn/user/4388906148064231"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIæ¦‚å¿µè§£æƒ‘ç³»åˆ— - RAG
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4388906148064231/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é…¥é£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T04:26:09.000Z" title="Wed Nov 19 2025 04:26:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡å‘å¸ƒäºæ˜é‡‘ï¼Œè½¬è½½è¯·å£°æ˜</p>
</blockquote>
<p>éšç€æœ€è¿‘å‡ å¹´AIåœ¨å„ä¸ªé¢†åŸŸå¤§æ”¾å¼‚å½©ï¼Œä½œä¸ºä¸€ä¸ªå‰ç«¯å¼€å‘ï¼Œæˆ‘ä¹Ÿå¯¹AIé‡Œçš„å„ç§æŠ€æœ¯æ¦‚å¿µäº§ç”Ÿäº†æµ“åšçš„å…´è¶£ï¼Œå¸Œæœ›èƒ½è¯¦ç»†äº†è§£è¿™äº›æŠ€æœ¯æ¦‚å¿µå’ŒèƒŒåçš„åŸç†åï¼Œæ‰¾å¯»å’Œå‰ç«¯ç»“åˆçš„ä¸€äº›æ€è·¯ã€‚ä»Šå¤©æˆ‘ä»¬å°±æ¥ä¸€èµ·äº†è§£ä¸‹AIé¢†åŸŸå¸¸ç”¨åˆ°çš„ä¸€ä¸ªæŠ€æœ¯â€”â€”<strong>RAGï¼ˆRetrieval-Augmented Generationï¼‰</strong>ï¼Œæ£€ç´¢å¢å¼ºç”Ÿæˆã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ å¼€å§‹ä¹‹å‰</h2>
<p>åœ¨å¼€å§‹ä»‹ç»RAGä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥ç®€å•å›é¡¾ä¸€ä¸‹å¤§è¯­è¨€æ¨¡å‹LLMçš„åŸç†ã€‚</p>
<p>LLMé€šè¿‡é¢„è®­ç»ƒï¼Œè®©æ¨¡å‹å­¦ä¹ äº†å…¨ç½‘å…¬å¼€çš„çŸ¥è¯†ï¼ˆç½‘é¡µã€ä¹¦ç±ã€è®ºæ–‡ã€ä»£ç ç­‰ç­‰ï¼‰ï¼Œå¾—åˆ°ä¸€å †â€œå‚æ•°â€ï¼Œä¹‹åæ ¹æ®ç”¨æˆ·çš„è¾“å…¥æ¥ä¸æ–­åœ°é¢„æµ‹ä¸‹ä¸€ä¸ªtokenåº”è¯¥æ˜¯ä»€ä¹ˆï¼Œæœ€ç»ˆå¾—åˆ°è¾“å‡ºã€‚</p>
<p>è¿™ç§è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œåœ¨é€šç”¨é¢†åŸŸæœ‰ç€æ¯”è¾ƒå¥½çš„è¡¨ç°ã€‚ä½†æ˜¯æ ¹æ®LLMçš„åŸç†ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½å‘ç°å®ƒçš„ä¸€äº›ä¸è¶³ï¼š</p>
<ul>
<li>â€œ<strong>é¢„è®­ç»ƒ</strong>â€ï¼šç”±äºæ˜¯ä½¿ç”¨äº†æ—§çš„æ•°æ®è¿›è¡Œçš„è®­ç»ƒï¼Œå¯¹äºåœ¨è®­ç»ƒä¹‹åäº§ç”Ÿæ–°ä¿¡æ¯ï¼ŒLLMæ— æ³•å›ç­”</li>
<li>â€œ<strong>å…¬å¼€çš„çŸ¥è¯†</strong>â€ï¼šLLMä½¿ç”¨äº†å…¬å¼€çš„çŸ¥è¯†è®­ç»ƒï¼Œå¯¹äºä¸€äº›éå…¬å¼€çš„å†…å®¹ï¼Œæˆ–è€…ä¸“ä¸šæ•°æ®ï¼ŒLLMåŒæ ·æ— æ³•å›ç­”</li>
<li>â€œ<strong>é¢„æµ‹</strong>â€ï¼šå› ä¸ºLLMæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªâ€œçœ‹å‰æ–‡ã€çŒœä¸‹æ–‡â€çš„å¤§è§„æ¨¡ç»Ÿè®¡ç”Ÿæˆå™¨ï¼Œæ‰€ä»¥å¯¹äºå®ƒä¸çŸ¥é“çš„ä¿¡æ¯ï¼Œåœ¨å›ç­”æ—¶å¾€å¾€ä¼šâ€œèƒ¡è¯´å…«é“â€ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„Hallucinationï¼Œâ€œ<strong>å¹»è§‰</strong>â€</li>
</ul>
<p>å¯¹äºæ™®é€šç”¨æˆ·ä¸€äº›ä¸è¦æ±‚å®æ—¶æ€§çš„é€šç”¨æ€§é—®é¢˜æ¥è¯´ï¼Œä¸Šé¢è¿™äº›ä¸æ˜¯ä»€ä¹ˆå¤§é—®é¢˜ï¼Œä½†æ˜¯ä¸€æ—¦æ¶‰åŠåˆ°<strong>å®æ—¶æ€§ã€ä¸“ä¸šæ•°æ®ã€ä¼ä¸šå†…ç§æœ‰æ•°æ®</strong>æ—¶ï¼Œä¸Šé¢çš„é—®é¢˜å°±ä¼šä¸¥é‡å½±å“ç”¨æˆ·ä½“éªŒã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œé€šå¸¸æœ‰ä¸‹é¢ä¸¤ä¸ªæ‰‹æ®µï¼š</p>
<ol>
<li>å¾®è°ƒå¤§æ¨¡å‹</li>
<li>æ‰‹åŠ¨ç»™LLMæ·»åŠ é¢å¤–çŸ¥è¯†</li>
</ol>
<h2 data-id="heading-1">äºŒã€ å¾®è°ƒ vs å¤–æŒ‚çŸ¥è¯†åº“</h2>
<h3 data-id="heading-2">1. å¾®è°ƒFine-tuning</h3>
<p>æ‰€è°“<strong>å¾®è°ƒï¼ˆFine-tuningï¼‰</strong>ï¼Œå°±æ˜¯åœ¨é¢„è®­ç»ƒæ¨¡å‹çš„åŸºç¡€ä¸Šï¼Œä½¿ç”¨ç‰¹å®šä»»åŠ¡çš„æ•°æ®ï¼ˆå¦‚ç§æœ‰æ•°æ®ã€ä¸“ä¸šé¢†åŸŸçŸ¥è¯†ã€æœ€æ–°çš„ä¿¡æ¯ç­‰ï¼‰è¿›è¡Œè¿›ä¸€æ­¥è®­ç»ƒï¼Œè®©æ¨¡å‹åœ¨ç‰¹å®šé¢†åŸŸè¡¨ç°æ›´å¥½ã€‚</p>
<p>ä¸¾ä¸ªæ¯”è¾ƒå½¢è±¡çš„ä¾‹å­ï¼Œé€šè¿‡é¢„è®­ç»ƒå¾—åˆ°çš„å¤§æ¨¡å‹ï¼Œå°±æ˜¯å­¦ä¹ äº†å°å­¦åˆ°é«˜ä¸­çš„é€šè¯†æ•™è‚²çš„çŸ¥è¯†ï¼Œå­¦ä¼šè¯­è¨€ã€æ•°å­¦ã€å¸¸è¯†ã€é€»è¾‘æ€ç»´ï¼ŒçŸ¥è¯†é¢å¹¿ä½†ä¸å¤Ÿä¸“ä¸šã€‚</p>
<p>è€Œå¾®è°ƒé˜¶æ®µï¼ˆFine-tuningï¼‰ç±»ä¼¼äºä¸“ä¸šæ•™è‚²ï¼Œå°±å¥½åƒå­¦ä¹ äº†ä¸“ä¸šé¢†åŸŸè¯¾ç¨‹ã€æˆä¸ºæŸä¸ªé¢†åŸŸçš„ä¸“å®¶ã€‚</p>
<p>å³â€œ<strong>é€šç”¨æ¨¡å‹ + ä¸“ä¸šæ•°æ® + é’ˆå¯¹æ€§è®­ç»ƒ = ä¸“ä¸šæ¨¡å‹</strong>â€ï¼š</p>
<ul>
<li>GPT + ä»£ç æ•°æ® + ä»£ç ä»»åŠ¡è®­ç»ƒ = CodeGPT</li>
<li>GPT + åŒ»å­¦æ•°æ® + åŒ»å­¦ä»»åŠ¡è®­ç»ƒ = MedicalGPT</li>
<li>GPT + æ³•å¾‹æ•°æ® + æ³•å¾‹ä»»åŠ¡è®­ç»ƒ = LegalGPT</li>
</ul>
<h3 data-id="heading-3">2. å¤–æŒ‚çŸ¥è¯†åº“</h3>
<p>åœ¨å’ŒLLMäº¤äº’æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€äº›ç‰¹æ®Šæ‰‹æ®µï¼Œä»å¤–éƒ¨çŸ¥è¯†åº“æ£€ç´¢ç›¸å…³ä¿¡æ¯æä¾›ç»™LLMï¼Œç›¸å½“äºç»™AIé…ä¸ª"å¤–æŒ‚çŸ¥è¯†åº“"ï¼Œè®©å®ƒå¯ä»¥è·å–åˆ°ä¸“ä¸šé¢†åŸŸçŸ¥è¯†ã€ç§æœ‰æ•°æ®ã€å®æ—¶ä¿¡æ¯ç­‰ç­‰ã€‚</p>
<p>è€ŒRAGå°±æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„æ‰‹æ®µã€‚</p>
<h3 data-id="heading-4">3. å¯¹æ¯”</h3>
<p>å¯¹æ¯”è¿™ä¸¤ä¸ªä¸éš¾å‘ç°ï¼Œå¾®è°ƒæ˜¯å†…åŒ–çŸ¥è¯†åˆ°äº†æ¨¡å‹å‚æ•°ä¸­ï¼Œæœ€ç»ˆçš„æ•ˆæœè‚¯å®šæ˜¯ç¨å¾®å¥½ä¸€äº›çš„ã€‚</p>
<p>ä½†æ˜¯è€ƒè™‘åˆ°å¾®è°ƒä¸‹é¢è¿™äº›ç‚¹ï¼š</p>
<ul>
<li>éœ€è¦<strong>å¤§é‡çš„æ ‡æ³¨è®­ç»ƒæ•°æ®</strong>ï¼ˆéœ€è¦å¯¹æ–‡æ¡£ç­‰è¿›è¡Œæ•°æ®æ¸…æ´—ã€æ ‡æ³¨ç­‰ï¼‰</li>
<li><strong>è¾ƒé«˜çš„è®­ç»ƒæˆæœ¬</strong>ï¼ˆæ¯”å¦‚è®­ç»ƒéœ€è¦è¾ƒé«˜çš„ç®—åŠ›ï¼Œæœ‰ä¸å°çš„ç»æµæˆæœ¬å’Œæ—¶é—´æˆæœ¬ï¼‰</li>
<li><strong>è¾ƒé«˜çš„å®ç°éš¾åº¦</strong>ï¼ˆéœ€è¦AIé¢†åŸŸçš„ä¸“ä¸šçŸ¥è¯†ï¼‰</li>
<li><strong>æ— æ³•ä¿æŒæ•°æ®æ˜¯æœ€æ–°çš„</strong>ï¼ˆå†…åŒ–çš„çŸ¥è¯†éœ€è¦é‡æ–°è®­ç»ƒæ‰èƒ½æ›´æ–°ï¼‰</li>
</ul>
<p>å¯¹äºä¸ªäººæˆ–è€…ä¸­å°å‹ä¼ä¸šæ¥è¯´ï¼Œé€šè¿‡RAGå¤–æŒ‚çŸ¥è¯†åº“æ˜¯ä¸€ä¸ªæ›´åˆé€‚çš„é€‰æ‹©ï¼š</p>
<ul>
<li>åªéœ€è¦<strong>ç»“æ„åŒ–çš„æ–‡æ¡£</strong></li>
<li><strong>ä¸éœ€è¦è®­ç»ƒ</strong></li>
<li><strong>è¾ƒä½çš„å®ç°éš¾åº¦</strong>ï¼ˆå¤§å¤šæ˜¯å·¥ç¨‹æ–¹é¢çš„å®ç°ï¼‰</li>
<li><strong>çŸ¥è¯†åº“æ›´æ–°å¾ˆæ–¹ä¾¿</strong>ï¼ˆä¸éœ€è¦é‡æ–°è®­ç»ƒï¼Œåªéœ€è¦é‡æ–°å‘é‡åŒ–å³å¯ï¼‰</li>
</ul>
<h2 data-id="heading-5">ä¸‰ã€ RAG</h2>
<p>é‚£æˆ‘ä»¬æ¥çœ‹ä¸‹RAGæ˜¯ä»€ä¹ˆï¼Œæ‰€è°“**RAGï¼ˆRetrieval-Augmented Generationï¼‰**æ£€ç´¢å¢å¼ºç”Ÿæˆï¼Œå°±æ˜¯ï¼š</p>
<ol>
<li><strong>æ£€ç´¢(Retrieval)</strong>: ä»å¤–éƒ¨çŸ¥è¯†åº“ä¸­æ£€ç´¢ç›¸å…³ä¿¡æ¯</li>
<li><strong>å¢å¼º(Augmented)</strong>: å°†æ£€ç´¢åˆ°çš„ä¿¡æ¯ä½œä¸ºä¸Šä¸‹æ–‡</li>
<li><strong>ç”Ÿæˆ(Generation)</strong>: å¤§æ¨¡å‹åŸºäºæ£€ç´¢å†…å®¹ç”Ÿæˆå›ç­”</li>
</ol>
<p>å®ƒçš„æœ¬è´¨å°±æ˜¯ä¸Šé¢è¯´çš„ç»™LLMå¤–æŒ‚ä¸€ä¸ªçŸ¥è¯†åº“ï¼Œè€Œå®ƒçš„å·¥ä½œè¿‡ç¨‹ï¼Œç®€å•æ¥è®²å°±æ˜¯ä¸‹é¢è¿™æ ·ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d1ad7ba2b5f42a386942cf8fc28fd4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=KTxrcrzMzxcBBP5z8CoLWRuXGX8%3D" alt="å·¥ä½œæµç¨‹" loading="lazy"/></p>
<p>è€Œä¸€ä¸ªRAGå®Œæ•´å·¥ç¨‹çš„æ¶æ„ç¤ºæ„å›¾ï¼Œåˆ™å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c2962721a194f80aa63ff971265d41c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=K27RmPY7yTRXMXI2mmsP23qWnRA%3D" alt="æ¶æ„ç¤ºæ„å›¾" loading="lazy"/></p>
<p>çœ‹ä¸æ‡‚ï¼Ÿæ²¡å…³ç³»ï¼Œæˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ¥è®²è§£ã€‚</p>
<h2 data-id="heading-6">å››ã€ å‘é‡å’Œå‘é‡åŒ–</h2>
<p>é¦–å…ˆï¼Œæœ€åŸºç¡€çš„ä¸€ä¸ªæ¦‚å¿µï¼Œä»€ä¹ˆæ˜¯<strong>å‘é‡ï¼ˆVectorï¼‰<strong>å’Œ</strong>å‘é‡åŒ–ï¼ˆVectorization/Embeddingï¼‰</strong>ã€‚</p>
<h3 data-id="heading-7">å‘é‡ï¼ˆVectorï¼‰</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E5%2590%2591%25E9%2587%258F" target="_blank" title="https://zh.wikipedia.org/wiki/%E5%90%91%E9%87%8F" ref="nofollow noopener noreferrer">å‘é‡</a>æˆ‘ä»¬åº”è¯¥ä¸é™Œç”Ÿï¼Œæˆ‘ä»¬æœ€æ—©åº”è¯¥åœ¨é«˜ä¸­å°±å­¦è¿‡äº†ï¼Œå°±æ˜¯ä¸€ä¸ªåŒæ—¶å…·æœ‰æ•°å€¼å’Œæ–¹å‘çš„é‡ã€‚ç›¸å¯¹åº”çš„ï¼Œæ ‡é‡åˆ™åªæœ‰æ•°å€¼ï¼Œæ²¡æœ‰æ–¹å‘ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edc9198f575a4e2e8a33e947cbb9e2e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=XnOllMgVb3q2%2Bllup1lty%2Fetqjs%3D" alt="å‘é‡" loading="lazy"/></p>
<p>å‘é‡é€šå¸¸ç”¨ä¸€ä¸ªæœ‰åºçš„æ•°å­—æ•°ç»„æ¥è¡¨ç¤ºï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>2ç»´å‘é‡: [3, 4]ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæœ‰xè½´å’Œyè½´çš„å¹³é¢ç›´è§’åæ ‡ç³»ï¼Œä»åŸç‚¹æŒ‡å‘[3, 4]è¿™ä¸ªåæ ‡ç‚¹çš„ä¸€ä¸ªå‘é‡</li>
<li>3ç»´å‘é‡: [1, 2, 3]ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæœ‰xã€yã€zä¸‰ä¸ªè½´çš„ç©ºé—´ç›´è§’åæ ‡ç³»ï¼Œä»åŸç‚¹æ‰§è¡Œ[1, 2, 3]è¿™ä¸ªåæ ‡ç‚¹çš„ä¸€ä¸ªå‘é‡</li>
<li>é«˜ç»´å‘é‡: [0.2, 0.5, 0.1, ..., 0.8]ï¼Œä»¥æ­¤ç±»æ¨ï¼Œåœ¨æ•°å­¦æˆ–è€…è®¡ç®—æœºé¢†åŸŸï¼Œä¸€ä¸ªå‘é‡å¯ä»¥æœ‰ä»»æ„å¤šä¸ªç»´åº¦ï¼Œ æ¯”å¦‚æœ‰å‡ ç™¾ç”šè‡³ä¸Šåƒç»´</li>
</ul>
<p>è€Œåœ¨AIé¢†åŸŸï¼Œå‘é‡æ˜¯<strong>åŸå§‹æ•°æ®çš„æ•°å€¼åŒ–è¡¨ç¤º</strong>,ç”¨æ¥æ•æ‰è¯­ä¹‰ä¿¡æ¯ï¼Œæ¯”å¦‚</p>
<ul>
<li>æ–‡æœ¬â€œè‹¹æœå¾ˆå¥½åƒâ€ï¼Œå¯ä»¥ç”¨è¿™æ ·ä¸€ä¸ªå‘é‡è¡¨ç¤ºï¼š[0.12, 0.34, 0.89, ..., 0.45]</li>
<li>å›¾ç‰‡ğŸï¼Œå¯ä»¥ç”¨è¿™æ ·ä¸€ä¸ªå‘é‡è¡¨ç¤ºï¼š[0.23, 0.67, 0.12, ..., 0.91]</li>
</ul>
<p>è€Œå…·ä½“æ˜¯æ€ä¹ˆæŠŠä¸€ä¸²æ–‡æœ¬æˆ–è€…å›¾ç‰‡è½¬æ¢ä¸ºå‘é‡çš„ï¼Œå°±æ˜¯å‘é‡åŒ–æ‰€åšçš„å·¥ä½œäº†ã€‚</p>
<h3 data-id="heading-8">å‘é‡åŒ–ï¼ˆVectorization/Embeddingï¼‰</h3>
<p>å‘é‡åŒ–ï¼Œå°±æ˜¯å°†éç»“æ„åŒ–åŸå§‹æ•°æ®(æ–‡æœ¬ã€å›¾ç‰‡ã€éŸ³é¢‘ç­‰)è½¬æ¢ä¸ºå‘é‡çš„è¿‡ç¨‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc600b46672646c3890041b2b33a4cb9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=c2ehgI%2BjzE1m%2Bt8sIR8pMnuTXt8%3D" alt="å‘é‡åŒ–" loading="lazy"/></p>
<p>è€Œä¸ºäº†å°†ä¸€ä¸ªéç»“æ„åŒ–æ•°æ®ï¼Œå˜ä¸ºå‘é‡ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ç»™è¿™ä¸ªæ•°æ®å®šä¹‰å¥½å®ƒçš„<strong>ç»´åº¦</strong>ã€‚</p>
<p>ä¸–ç•Œä¸Šçš„æ‰€æœ‰æ•°æ®ï¼Œéƒ½å¯ä»¥æ ¹æ®å®ƒåœ¨æŸä¸€é¡¹ç‰¹ç‚¹ä¸Šçš„ç¨‹åº¦è€Œæ‰“ä¸€ä¸ªåˆ†ï¼Œæ•°å€¼è¶Šé«˜ä»£è¡¨è¿™ä¸ªåŸå§‹æ•°æ®åœ¨è¿™ä¸ªç‰¹ç‚¹ä¸Šçš„ç‰¹å¾è¶Šå¼ºçƒˆã€‚æˆ‘ä»¬è§„å®š<strong>æ•°å€¼çš„èŒƒå›´æ˜¯[-1, 1]</strong>ï¼Œ1ä»£è¡¨å®Œå…¨ç¬¦åˆè¿™ä¸ªç‰¹å¾ï¼Œ-1ä»£è¡¨æ‹¥æœ‰å®Œå…¨ç›¸åçš„ç‰¹å¾ã€‚</p>
<p>ä¾‹å¦‚ä¸‹é¢è¿™ä¸ªäºŒç»´çš„å‘é‡ç©ºé—´ï¼š</p>
<ul>
<li>æ¨ªåæ ‡ä»£è¡¨æƒ…æ„Ÿææ€§ï¼Œè¶Šé è¿‘1ä»£è¡¨è¶Šæ­£å‘çš„æƒ…æ„Ÿï¼Œè¶Šé è¿‘-1ä»£è¡¨è¶Šè´Ÿå‘çš„æƒ…æ„Ÿ</li>
<li>çºµåæ ‡ä»£è¡¨å†…å®¹ç±»å‹ï¼Œè¶Šé è¿‘1ä»£è¡¨è¶Šä¸»è§‚çš„è§‚ç‚¹è¯„ä»·ï¼Œè¶Šé è¿‘-1ä»£è¡¨è¶Šå®¢è§‚çš„äº‹å®é™ˆè¿°</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/390da64c4f3c46959adb72cc3bac8778~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=OD4Gca3yZlm%2F0cw9%2BdNiokx6a58%3D" alt="äºŒç»´å‘é‡ç¤ºä¾‹" loading="lazy"/></p>
<p>ä¸Šé¢çš„å‡ ä¸ªåŸå§‹æ–‡æœ¬æ•°æ®é‡Œï¼š</p>
<blockquote>
<ol>
<li>è¿™éƒ¨ç”µå½±å¤ªç²¾å½©äº†ï¼Œæ¼”å‘˜è¡¨æ¼”å®Œç¾
<ul>
<li>æ¨ªè½´ï¼ˆæƒ…æ„Ÿï¼‰ï¼š+0.9ï¼ˆå¼ºçƒˆæ­£é¢ï¼‰</li>
<li>çºµè½´ï¼ˆå†…å®¹ç±»å‹ï¼‰ï¼š+0.8ï¼ˆæ˜æ˜¾è§‚ç‚¹è¯„ä»·ï¼‰</li>
<li>åæ ‡ï¼š[0.9, 0.8]</li>
</ul>
</li>
<li>æ°´çš„æ²¸ç‚¹æ˜¯100æ‘„æ°åº¦
<ul>
<li>æ¨ªè½´ï¼ˆæƒ…æ„Ÿï¼‰ï¼š0.0ï¼ˆå®Œå…¨ä¸­æ€§ï¼‰</li>
<li>çºµè½´ï¼ˆå†…å®¹ç±»å‹ï¼‰ï¼š-0.9ï¼ˆçº¯ç²¹äº‹å®ï¼‰</li>
<li>åæ ‡ï¼š[0.0, -0.9]</li>
</ul>
</li>
<li>è¿™ä¸ªäº§å“è´¨é‡å¾ˆå·®ï¼Œå®Œå…¨ä¸ç¬¦åˆé¢„æœŸ
<ul>
<li>æ¨ªè½´ï¼ˆæƒ…æ„Ÿï¼‰ï¼š-0.8ï¼ˆæ˜æ˜¾è´Ÿé¢ï¼‰</li>
<li>çºµè½´ï¼ˆå†…å®¹ç±»å‹ï¼‰ï¼š+0.7ï¼ˆä¸ªäººè¯„ä»·ï¼‰</li>
<li>åæ ‡ï¼š[-0.8, 0.7]</li>
</ul>
</li>
<li>ä»¤äººå¤±æœ›çš„æ˜¯ï¼Œæ•°æ®æ˜¾ç¤ºé”€å”®é¢ä¸‹é™äº†20%"
<ul>
<li>æ¨ªè½´ï¼ˆæƒ…æ„Ÿï¼‰ï¼š-0.6ï¼ˆè´Ÿé¢æƒ…ç»ªï¼‰</li>
<li>çºµè½´ï¼ˆå†…å®¹ç±»å‹ï¼‰ï¼š-0.3ï¼ˆåå‘äº‹å®ä½†å¸¦æœ‰ä¸»è§‚è‰²å½©ï¼‰</li>
<li>åæ ‡ï¼š[-0.6, -0.3]</li>
</ul>
</li>
<li>æ•°æ®è¡¨æ˜ç”¨æˆ·æµå¤±ç‡é«˜è¾¾30%
<ul>
<li>æ¨ªè½´ï¼ˆæƒ…æ„Ÿï¼‰ï¼š-0.7ï¼ˆè´Ÿé¢æƒ…ç»ªï¼‰</li>
<li>çºµè½´ï¼ˆå†…å®¹ç±»å‹ï¼‰ï¼š-0.8ï¼ˆäº‹å®é™ˆè¿°ï¼Œä¸”æ²¡æœ‰æ˜æ˜¾ä¸»è§‚è¯„ä»·åœ¨é‡Œé¢ï¼‰</li>
<li>åæ ‡ï¼š[-0.7, -0.8]</li>
</ul>
</li>
<li>æˆ‘ä»¬å½©ç¥¨ä¸­äº†500ä¸‡
<ul>
<li>æ¨ªè½´ï¼ˆæƒ…æ„Ÿï¼‰ï¼š+0.9ï¼ˆæ­£é¢ï¼‰</li>
<li>çºµè½´ï¼ˆå†…å®¹ç±»å‹ï¼‰ï¼š-0.8ï¼ˆäº‹å®é™ˆè¿°ï¼Œä¸”æ²¡æœ‰æ˜æ˜¾ä¸»è§‚è¯„ä»·åœ¨é‡Œé¢ï¼‰</li>
<li>åæ ‡ï¼š[0.9, -0.8]</li>
</ul>
</li>
</ol>
</blockquote>
<p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æˆ‘ä»¬å¯¹åŸå§‹çš„æ–‡æœ¬æ•°æ®ä»ä¸åŒç»´åº¦æ‰“åˆ†åä¼šå‡ºç°</p>
<ul>
<li>ç›¸ä¼¼æ–‡æœ¬ä¼šèšé›†ï¼šæ¯”å¦‚æ‰€æœ‰æ­£é¢è¯„ä»·éƒ½ä¼šé›†ä¸­åœ¨ç¬¬ä¸€è±¡é™</li>
<li>è·ç¦»/å¤¹è§’åæ˜ ç›¸ä¼¼åº¦ï¼šåæ ‡è·ç¦»/å¤¹è§’è¶Šè¿‘ï¼Œæ–‡æœ¬åœ¨æƒ…æ„Ÿå’Œç±»å‹ä¸Šè¶Šç›¸ä¼¼</li>
</ul>
<p>æˆ‘ä»¬çš„ä¾‹å­é‡Œåªæœ‰ä¸¤ä¸ªç»´åº¦ï¼Œè€Œåœ¨å®é™…åº”ç”¨ä¸­å¯èƒ½æœ‰å‡ ç™¾ä¸Šåƒä¸ªç»´åº¦ï¼Œæ¯ä¸ªç»´åº¦ä»£è¡¨ä¸åŒç‰¹å¾ï¼Œè¿™æ ·çš„è¯å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªé«˜ç»´çš„å‘é‡ç©ºé—´ï¼Œåœ¨å‘é‡ç©ºé—´å†…å¯ä»¥ä½“ç°å‡ºä¸åŒæ•°æ®ä¹‹é—´æˆ–è¿‘æˆ–è¿œçš„å…³ç³»ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d73c9a1216941de8e8561882c97ce49~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=x6l5%2Bht%2FEBpiFV8T4jiZmApssGU%3D" alt="å‘é‡ç©ºé—´" loading="lazy"/></p>
<p>å¦å¤–ï¼Œå‘é‡åŒ–é™¤äº†å«åšVectorizationå¤–ï¼Œä¹Ÿæ—¶å€™ä¹Ÿä¼šå«åš<strong>Embeddingï¼ŒåµŒå…¥</strong>ã€‚è¿™æ˜¯å› ä¸ºå‘é‡åŒ–çš„è¿‡ç¨‹ï¼Œä¸åªæ˜¯å°†ä¸€ä¸ªéç»“æ„åŒ–æ•°æ®è½¬ä¸ºå‘é‡æ•°å­—ï¼Œæ›´é‡è¦çš„æ˜¯åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå°†åŸå§‹æ•°æ®çš„è¯­ä¹‰ä¿¡æ¯åµŒå…¥åˆ°äº†å‘é‡ç©ºé—´ä¸­,ä½¿å¾—è¯­ä¹‰å…³ç³»è¢«ä¿ç•™ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œé€šå¸¸æƒ…å†µä¸‹â€œå›½ç‹Kingâ€å’Œâ€œç‹åQueenâ€å¸¸å‡ºç°åœ¨ç›¸ä¼¼çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œâ€œç”·äººManâ€å’Œâ€œå¥³äººWomenâ€ç»å¸¸å‡ºç°åœ¨ç›¸ä¼¼çš„ä¸Šä¸‹æ–‡ä¸­ã€‚</p>
<p>çš‡å®¤è¯æ±‡ï¼ˆKing, Queen, Princeï¼‰ä¹‹é—´çš„ç›¸ä¼¼åº¦æ•´ä½“å¤§äºå®ƒä»¬ä¸æ™®é€šäººè¯æ±‡ï¼ˆMan, Womenï¼‰çš„ç›¸ä¼¼åº¦ã€‚ä½†æ˜¯â€œå›½ç‹Kingâ€å’Œâ€œç”·äººManâ€ä¹‹é—´åˆæœ‰ä¸€äº›ç›¸ä¼¼ï¼Œâ€œç‹åQueenâ€å’Œâ€œå¥³äººWomenâ€ä¹‹é—´æœ‰ä¸€äº›ç›¸ä¼¼ã€‚</p>
<p>è€Œå°†è¿™å››ä¸ªå•è¯è¿›è¡Œå‘é‡åŒ–åï¼Œå¯èƒ½å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/67c9da8bf27840e9bc1bfd49d2774e4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=nJCbBvwp4AicNo3vh5itxY4Xrew%3D" alt="è¯­ä¹‰åµŒå…¥" loading="lazy"/></p>
<p>â€œå›½ç‹Kingâ€ã€â€œç‹åQueenâ€ã€â€œç”·äººManâ€ã€â€œå¥³äººWomenâ€çš„è¯­ä¹‰ä»¥åŠè¯­ä¹‰å…³ç³»è¢«åµŒå…¥äº†å‘é‡ç©ºé—´ï¼Œåšåˆ°äº†ï¼š</p>
<ol>
<li><strong>ä¿æŒè¯­ä¹‰å…³ç³»</strong>: æ„æ€ç›¸è¿‘çš„è¯åœ¨å‘é‡ç©ºé—´ä¸­ä¹Ÿé è¿‘</li>
<li><strong>æ”¯æŒè¯­ä¹‰è¿ç®—</strong>: å®ç°äº†<code>king - man + woman â‰ˆ queen</code>è¿™ç§ç¥å¥‡çš„è¿ç®—</li>
</ol>
<h3 data-id="heading-9">å¦‚ä½•å‘é‡åŒ–</h3>
<p>å‘é‡åŒ–æ˜¯ä¸€ä¸ªå¾ˆå¤æ‚çš„è¿‡ç¨‹ï¼Œé€šå¸¸éƒ½æ˜¯ä½¿ç”¨æ¨¡å‹æ¥å®ç°çš„ï¼Œå³â€œ<strong>Embedding models</strong>â€ï¼Œæ¯”å¦‚OpenAIçš„text-embedding-ada-002ï¼ˆéœ€è¦APIå¯†é’¥è®¿é—®ï¼‰ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€äº›å¼€æºçš„æ¨¡å‹ã€‚</p>
<p>é€šå¸¸ä¸€ä¸ªæ¨¡å‹å‘é‡åŒ–æ•°æ®åçš„ç»´åº¦è¶Šé«˜ï¼Œåœ¨åç»­è¿›è¡Œä¿¡æ¯æ£€ç´¢æ—¶å°±ä¼šè¶Šç²¾å‡†ã€‚</p>
<p>å…¶å®é™¤äº†è°ƒç”¨æ¨¡å‹è¿™ä¸€æ­¥ä¹‹å¤–ï¼Œå®Œæ•´çš„å‘é‡åŒ–è¿‡ç¨‹è¿˜æœ‰ä¸€äº›å…¶ä»–å·¥ä½œè¦åšï¼Œæ•´ä¸ªè¿‡ç¨‹å¤§æ¦‚å¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p>è¯»å–æ–‡æ¡£</p>
<ul>
<li>PDF â†’ æå–æ–‡æœ¬</li>
<li>Word â†’ æå–æ–‡æœ¬</li>
<li>Markdown â†’ è¯»å–å†…å®¹</li>
<li>...</li>
</ul>
</li>
<li>
<p>æ¸…æ´—æ–‡æœ¬</p>
<ul>
<li>å»é™¤ä¹±ç </li>
<li>ç»Ÿä¸€æ ¼å¼</li>
<li>å»é™¤æ— ç”¨å†…å®¹ï¼ˆé¡µçœ‰é¡µè„šç­‰ï¼‰</li>
</ul>
</li>
<li>
<p>æŠŠæ–‡æœ¬è¿›è¡Œåˆ‡å‰²ï¼Œå³<strong>æ–‡æœ¬åˆ†å— (Chunking)</strong></p>
<p>ä¸ºä»€ä¹ˆè¦åˆ†å—ï¼Ÿå› ä¸ºåŸå§‹æ–‡æ¡£å¯èƒ½ç‰¹åˆ«é•¿ï¼Œå‡ åƒä¸Šä¸‡å­—ï¼Œä¸æ–¹ä¾¿åç»­è¿›è¡Œå‘é‡åŒ–å’Œæ£€ç´¢ã€‚</p>
<p>è€Œåˆ†å—çš„è§„åˆ™ä¹Ÿæœ‰å¤šç§ï¼Œæ¯”å¦‚æ ¹æ®æ ‡ç‚¹ç¬¦å·åˆ†å‰²ï¼Œä½†æ˜¯å¯èƒ½ä¼šå­˜åœ¨æœ‰çš„å—é•¿åº¦å¾ˆé•¿ï¼Œæœ‰çš„åˆå¾ˆçŸ­çš„æƒ…å†µï¼›ä¹Ÿå¯ä»¥æ ¹æ®å›ºå®šé•¿åº¦åˆ†å‰²ï¼Œä½†æ˜¯å¯èƒ½ä¼šå¯¼è‡´ä¸€ä¸ªå®Œæ•´çš„è¯­ä¹‰è¢«åˆ‡å‰²åˆ°ä¸åŒçš„å—ï¼Œæ¯ä¸ªå—é‡Œçš„éƒ¨åˆ†è¯å˜å¾—æ¯«æ— è¯­ä¹‰ä»·å€¼ã€‚</p>
<p>æ‰€ä»¥RAG åˆ†å‰²ä¸€èˆ¬ç”¨<strong>ç›¸åŒå—å¤§å°</strong> + <strong>å—é‡å </strong>çš„åŠæ³•ï¼Œå³æ‰€è°“çš„<strong>æ»‘åŠ¨çª—å£åˆ†å—</strong>ï¼Œè¿™å’ŒæŒ‰é•¿åº¦æˆªæ–­æ¥åˆ†å‰²æœ‰ç‚¹åƒã€‚ç”¨è¿™ç§åŠæ³•ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šèƒ½é¿å…æ–‡æ¡£åŸæ„è¢«æˆªæ–­å¯¼è‡´åˆ†å‡ºæ¥çš„ç‰‡æ®µå˜å¾—æ²¡ä»·å€¼ï¼Œè€Œä¸”é‡å å—é‡Œæœ‰é‡å¤çš„ä¿¡æ¯ï¼Œèƒ½è®©æ¨¡å‹æ›´å¥½åœ°ç†è§£æ–‡æ¡£å†…å®¹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23760b3089254b1faa25715d6b51db5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=Qe75vFa1bePvu5rKaE0oC%2FQO2BY%3D" alt="æ–‡æœ¬åˆ†å—" loading="lazy"/></p>
</li>
<li>
<p>ä½¿ç”¨æŸä¸ªæ¨¡å‹è¿›è¡Œ<strong>å‘é‡åŒ–ï¼ˆEmbeddingï¼‰</strong></p>
<ul>
<li>
<p>BGE-base-zh (ä¸­æ–‡æ•ˆæœå¥½)</p>
</li>
<li>
<p>all-MiniLM-L6-v2 (è‹±æ–‡ï¼Œè½»é‡)</p>
</li>
<li>
<p>text-embedding-ada-002 (OpenAIï¼Œéœ€è”ç½‘)</p>
<p>å‡è®¾é€‰æ‹©BGE-base-zh (ä¸­æ–‡)ï¼Œè¾“å‡ºç»´åº¦768ç»´ï¼Œæ¨¡å‹å¤§å°çº¦ 400MB</p>
</li>
</ul>
</li>
<li>
<p>å°†å‘é‡åŒ–åçš„æ•°æ®å­˜å…¥å‘é‡æ•°æ®åº“ï¼Œ<strong>æ„å»ºç´¢å¼•ï¼ˆIndexingï¼‰</strong></p>
<p>æ™®é€šçš„æ•°æ®å­˜å‚¨æœ‰æ•°æ®åº“ï¼Œé‚£ä¹ˆå‘é‡çš„å­˜å‚¨ï¼Œä¹Ÿæœ‰ä¸“é—¨çš„<strong>å‘é‡æ•°æ®åº“</strong>ï¼Œå®ƒæ˜¯ä¸“ä¸ºå­˜å‚¨ä¸æ£€ç´¢é«˜ç»´åµŒå…¥å‘é‡è€Œè®¾è®¡çš„æ•°æ®åº“ã€‚æ”¯æŒåŸºäºç›¸ä¼¼åº¦çš„æ£€ç´¢å¹¶å¯ç»“åˆå…ƒæ•°æ®è¿‡æ»¤ï¼Œå¸¸ç”¨äºè¯­ä¹‰æœç´¢ã€æ¨èå’Œ RAGã€‚å¸¸è§çš„æ•°æ®åº“æœ‰ï¼š</p>
<ul>
<li>Chroma</li>
<li>Milvus</li>
<li>Qdrant</li>
</ul>
<p>å‡è®¾é€‰æ‹©Chromaï¼Œé‚£ä¹ˆå®ƒçš„æ¯æ¡è®°å½•çš„å­˜å‚¨ç»“æ„å¤§æ¦‚ä¸ºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-string">"id"</span>: <span class="hljs-string">"doc_1_chunk_1"</span>,
  <span class="hljs-string">"vector"</span>: [<span class="hljs-number">0.23</span>, <span class="hljs-number">0.45</span>, ..., <span class="hljs-number">0.12</span>],  <span class="hljs-comment">// 768ç»´å‘é‡</span>
  <span class="hljs-string">"metadata"</span>: {
    <span class="hljs-string">"source"</span>: <span class="hljs-string">"ç³»ç»Ÿæ¶æ„æ–‡æ¡£.pdf"</span>,
    <span class="hljs-string">"chunk_index"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">"text"</span>: <span class="hljs-string">"ç¬¬ä¸€ç«  ç³»ç»Ÿæ¶æ„..."</span>  <span class="hljs-comment">// åŸå§‹æ–‡æœ¬</span>
  }
}
</code></pre>
</li>
</ol>
<p>åœ¨åšå®Œä¸Šè¿°çš„å‡ ä¸ªæ­¥éª¤ä¹‹åï¼Œå°±ç®—æ˜¯å®Œæˆäº†RAGçš„å‡†å¤‡å·¥ä½œï¼Œå³ç»™LLMå‡†å¤‡å¥½äº†â€œå¤–æŒ‚çš„çŸ¥è¯†åº“â€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/260f81589cae4e1297c6b45b0caf0c36~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=yJAa8FSOGrhn%2F%2FyTkrWO87puuBo%3D" alt="çŸ¥è¯†åº“å‘é‡åŒ–è¿‡ç¨‹" loading="lazy"/></p>
<h2 data-id="heading-10">äº”ã€ RAG - R (Retrieval)</h2>
<p>åœ¨å‡†å¤‡å¥½çŸ¥è¯†åº“ä¹‹åï¼Œå°±å¯ä»¥å’ŒLLMè¿›è¡Œé—®ç­”äº†ã€‚é‚£åœ¨æå‡ºé—®é¢˜åï¼Œå¦‚ä½•è®©LLMçŸ¥æ™“çŸ¥è¯†åº“çš„å†…å®¹å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯RAGä¸­çš„Rï¼Œ<strong>Retrievalæ£€ç´¢</strong>ã€‚</p>
<p>åœ¨ä¸Šé¢çš„çŸ¥è¯†åº“çš„å‡†å¤‡è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†æŸä¸ª<strong>Embedding Model</strong>è¿›è¡Œäº†çŸ¥è¯†åº“çš„å‘é‡åŒ–ï¼Œé‚£ä¹ˆåœ¨ç”¨æˆ·æå‡ºé—®é¢˜Queryä¹‹åï¼Œä¹Ÿéœ€è¦ä½¿ç”¨ç›¸åŒçš„<strong>Embedding Model</strong>ï¼Œå¯¹ç”¨æˆ·çš„è¾“å…¥Queryè¿›è¡Œç›¸åŒçš„å‘é‡åŒ–ã€‚</p>
<p>åœ¨éƒ½è¿›è¡Œäº†å‘é‡åŒ–ä¹‹åï¼Œå°±å¯ä»¥å¼€å§‹åœ¨å‘é‡æ•°æ®åº“ä¸­æ£€ç´¢äº†ã€‚</p>
<h3 data-id="heading-11">ç›¸ä¼¼åº¦åŒ¹é…</h3>
<p>å’Œæ™®é€šæ•°æ®åº“åŸºäºå…³é”®å­—çš„æ£€ç´¢ä¸åŒï¼Œå‘é‡æ•°æ®åº“æ˜¯åŸºäºè¯­ä¹‰çš„æ£€ç´¢ã€‚é‚£æ€ä¹ˆåˆ¤æ–­ä¸¤ä¸ªå‘é‡çš„è¯­ä¹‰æ˜¯å¦æ¥è¿‘ï¼Œå¸¸è§çš„è¡¡é‡æ ‡å‡†æœ‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E4%25BD%2599%25E5%25BC%25A6%25E7%259B%25B8%25E4%25BC%25BC%25E6%2580%25A7" target="_blank" title="https://zh.wikipedia.org/wiki/%E4%BD%99%E5%BC%A6%E7%9B%B8%E4%BC%BC%E6%80%A7" ref="nofollow noopener noreferrer">ä½™å¼¦ç›¸ä¼¼åº¦ï¼ˆCosine Similarityï¼‰</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E6%25AC%25A7%25E5%2587%25A0%25E9%2587%258C%25E5%25BE%2597%25E8%25B7%259D%25E7%25A6%25BB" target="_blank" title="https://zh.wikipedia.org/wiki/%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%97%E8%B7%9D%E7%A6%BB" ref="nofollow noopener noreferrer">æ¬§æ°L2ï¼ˆEuclidean L2/Square L2ï¼‰</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E5%2586%2585%25E7%25A7%25AF" target="_blank" title="https://zh.wikipedia.org/wiki/%E5%86%85%E7%A7%AF" ref="nofollow noopener noreferrer">å†…ç§¯IPï¼ˆInner Productï¼‰</a></li>
</ul>
<p>è¿™ä¸‰ä¸ªçš„å…·ä½“å®šä¹‰å’ŒåŒºåˆ«å¦‚ä¸‹æ‰€ç¤ºï¼š</p>





























<table><thead><tr><th align="left">ç®—æ³•</th><th align="left">å…¬å¼</th><th align="left">å®šä¹‰</th><th align="left">é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td align="left">ä½™å¼¦ç›¸ä¼¼åº¦ï¼ˆCosine Similarityï¼‰</td><td align="left"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c058bf3e2fa240fe95b03ad3ef4aa21f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=gDa6SmnpEIHd89oveBH4KFqrtjc%3D" alt="cosine" loading="lazy"/></td><td align="left">ä½™å¼¦ç›¸ä¼¼åº¦é€šè¿‡æµ‹é‡ä¸¤ä¸ªå‘é‡çš„å¤¹è§’çš„ä½™å¼¦å€¼æ¥åº¦é‡å®ƒä»¬ä¹‹é—´çš„ç›¸ä¼¼æ€§ã€‚<br/>ä»…åæ˜ æ–¹å‘ä¸€è‡´æ€§è€Œä¸é•¿åº¦æ— å…³ã€‚</td><td align="left">å½“ä½ å…³å¿ƒâ€œè¯­ä¹‰æ–¹å‘/å½¢çŠ¶â€è€Œä¸æƒ³è¢«å‘é‡é•¿åº¦å½±å“ã€‚<br/>å…¸å‹åº”ç”¨åœºæ™¯æœ‰æ–‡æœ¬/å›¾åƒåµŒå…¥æ£€ç´¢ã€RAG å‘é‡æ£€ç´¢ã€è¯­ä¹‰å»é‡ã€è¯­ä¹‰èšåˆã€‚</td></tr><tr><td align="left">æ¬§æ°L2ï¼ˆEuclidean L2/Square L2ï¼‰</td><td align="left"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8cab793bbfb4a82803b42fd700cc3f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=FhSWcpYpL6zDwcbcCjcyRYKFCfI%3D" alt="L2" loading="lazy"/></td><td align="left">å¯¹ä¸¤å‘é‡å·®çš„å¹³æ–¹å’Œå¼€å¹³æ–¹æ¥åº¦é‡å‡ ä½•è·ç¦»ï¼ˆæˆ–å‘é‡è‡ªèº«é•¿åº¦ï¼‰ï¼Œåæ˜ å®ƒä»¬åœ¨ç©ºé—´ä¸­çš„ç›´çº¿è·ç¦»ã€‚</td><td align="left">å½“ä½ ä½ éœ€è¦çœŸæ­£çš„å‡ ä½•è·ç¦»ï¼ˆåº¦é‡æ€§è´¨ã€ä¸‰è§’ä¸ç­‰å¼ï¼‰æ—¶ã€‚<br/>å…¸å‹åº”ç”¨åœºæ™¯æœ‰K-means èšç±»ï¼ˆç›®æ ‡æ˜¯å¹³æ–¹ L2ï¼‰ã€æœ€å°äºŒä¹˜/MSEã€å‡ ä½•é‚»è¿‘ã€éƒ¨åˆ† ANN ç´¢å¼•é»˜è®¤ã€‚</td></tr><tr><td align="left">å†…ç§¯ï¼ˆInner Product/Dot Productï¼‰</td><td align="left"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5239a9147eee49e99c2c9aed16456bcc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=Z7xDZU%2BAC6lutywR%2Fv9%2BEzBfyOY%3D" alt="Inner Product" loading="lazy"/></td><td align="left">å°†ä¸¤ä¸ªå‘é‡å¯¹åº”åˆ†é‡ç›¸ä¹˜åæ±‚å’Œï¼Œå¾—åˆ°åŒæ—¶å—æ–¹å‘ä¸é•¿åº¦å½±å“çš„å¯¹é½ç¨‹åº¦ï¼ˆçº¿æ€§æ‰“åˆ†ï¼‰ã€‚</td><td align="left">å…¸å‹åº”ç”¨åœºæ™¯æœ‰æœ€å¤§å†…ç§¯æœç´¢ï¼ˆMIPSï¼‰ã€æ¨èå¬å›ã€å› å­åˆ†è§£æœº/embedding æ‰“åˆ†ã€‚</td></tr></tbody></table>
<p>è€Œåœ¨RAGè¯­ä¹‰æœç´¢ä¸­ï¼Œé€šå¸¸ä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦æ¥è®¡ç®—ä¸¤ä¸ªå‘é‡æ˜¯å¦ç›¸ä¼¼ï¼Œå³é€šè¿‡è·‘ç”·çš„ä¸¤ä¸ªå‘é‡çš„å¤¹è§’ï¼Œæ¥åˆ¤æ–­ä¸¤ä¸ªå‘é‡çš„è¯­ä¹‰æ˜¯å¦æ¥è¿‘ã€‚è¿˜æ˜¯ä»¥ä¸Šé¢çš„è¿™ä¸ªå›¾ä¸ºä¾‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f31f8d0a76643deac54c1a6c524ec7c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=miXHqjs1ehVgEwvconXBiB2%2F9OQ%3D" alt="å‘é‡ç©ºé—´å¤¹è§’" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªå‘é‡ç©ºé—´é‡Œï¼ŒChickenå’Œâ€œé¸¡â€çš„å›¾ç‰‡ä¹‹é—´ï¼Œå‘é‡çš„å¤¹è§’å¾ˆå°ï¼ŒDogå’ŒWolfå¤¹è§’å¾ˆå°ï¼ŒBananaå’ŒAppleå¤¹è§’å¾ˆå°ï¼ŒAppleå’ŒAppleå…¬å¸çš„Logoå¤¹è§’å¾ˆå°ã€‚ä½†æ˜¯åŠ¨ç‰©å’Œæ°´æœä¹‹é—´çš„å‘é‡å¤¹è§’å°±å¾ˆå¤§äº†ï¼Œè¯­ä¹‰ä¸Šç›¸å·®å¾ˆè¿œã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆç”¨ä½™å¼¦ç›¸ä¼¼åº¦ï¼Ÿ
å› ä¸ºæ–‡æœ¬é•¿åº¦ä¸é‡è¦ï¼ˆä¸€å¥è¯å’Œä¸€æ®µè¯å¯èƒ½è¡¨è¾¾åŒä¸€æ„æ€ï¼‰ï¼Œæˆ‘ä»¬åªå…³å¿ƒè¯­ä¹‰æ–¹å‘æ˜¯å¦ä¸€è‡´ã€‚</p>
</blockquote>
<h3 data-id="heading-12">ANN</h3>
<p>åœ¨ä¸Šé¢çš„å›¾ä¸­ï¼Œæˆ‘ä»¬è¿˜çœ‹åˆ°äº†ä¸€ä¸ªå«åšApproximate Nearest Neighborï¼ˆANNï¼‰è¿‘ä¼¼æœ€è¿‘é‚»æ£€ç´¢ç®—æ³•çš„ä¸œè¥¿ï¼Œè¿™ä¸ªå’Œä½™å¼¦ç›¸ä¼¼åº¦æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ</p>
<p>ç®€å•æ¥è®²ï¼ŒANNæ˜¯â€œæ€ä¹ˆå¿«åœ°æ‰¾ç›¸ä¼¼å‘é‡â€ï¼ˆæ£€ç´¢ç®—æ³•/ç´¢å¼•ï¼‰ï¼Œä½™å¼¦ç›¸ä¼¼åº¦æ˜¯â€œç”¨ä»€ä¹ˆæ ‡å‡†è¡¡é‡ç›¸ä¼¼â€ï¼ˆåº¦é‡/æ‰“åˆ†ï¼‰ï¼›åœ¨RAGä¸­å®ƒä»¬æ˜¯é…å¥—ä½¿ç”¨çš„ï¼šç”¨ä½™å¼¦ç›¸ä¼¼åº¦ç­‰åº¦é‡å®šä¹‰â€œè¿‘é‚»â€ï¼Œå†ç”¨ANNåœ¨å¤§è§„æ¨¡å‘é‡åº“ä¸Šé«˜æ•ˆè¿‘ä¼¼åœ°æ‰¾è¿™äº›è¿‘é‚»ã€‚</p>
<h3 data-id="heading-13">å®Œæ•´è¿‡ç¨‹</h3>
<p>åœ¨å®Œæˆæ£€ç´¢åï¼Œé€šå¸¸ä¼šæ‹¿åˆ°Top-Kæœ€ç›¸å…³çš„å‡ æ¡æ•°æ®ã€‚å‡è®¾ç”¨æˆ·è¾“å…¥çš„é—®é¢˜æ˜¯â€œå¦‚ä½•é…ç½®HTTPSï¼Ÿâ€ï¼Œé‚£ä¹ˆè¿‡ç¨‹å¤§æ¦‚å¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p>ç”¨æˆ·æé—®ï¼šâ€œå¦‚ä½•é…ç½®HTTPSï¼Ÿâ€</p>
</li>
<li>
<p>ç”¨æˆ·é—®é¢˜å‘é‡åŒ–ï¼Œä½¿ç”¨å’Œæ–‡æ¡£å‘é‡åŒ–æ—¶ç›¸åŒçš„Embedding Model</p>
</li>
<li>
<p>å¾—åˆ°Queryçš„å‘é‡</p>
<pre><code class="hljs language-plain" lang="plain">query_vector = [0.31, 0.48, 0.73, ..., 0.15]  // 768ç»´
</code></pre>
</li>
<li>
<p>åœ¨å‘é‡æ•°æ®åº“ä¸­æœç´¢</p>
</li>
<li>
<p>è®¡ç®—ç›¸ä¼¼åº¦
Chromaè‡ªåŠ¨è®¡ç®—query_vectorä¸æ‰€æœ‰å‘é‡æ•°æ®åº“ä¸­å‘é‡çš„ç›¸ä¼¼åº¦</p>
<ul>
<li>å‘é‡1: [0.23, 0.45, ...] â†’ ç›¸ä¼¼åº¦ 0.45</li>
<li>å‘é‡2: [0.31, 0.52, ...] â†’ ç›¸ä¼¼åº¦ 0.89 â­</li>
<li>å‘é‡3: [0.12, 0.34, ...] â†’ ç›¸ä¼¼åº¦ 0.32</li>
<li>...</li>
<li>å‘é‡8234: [0.29, 0.51, ...] â†’ ç›¸ä¼¼åº¦ 0.91 â­â­</li>
<li>å‘é‡8235: [0.35, 0.48, ...] â†’ ç›¸ä¼¼åº¦ 0.87 â­</li>
<li>...</li>
</ul>
</li>
<li>
<p>è¿”å› Top-K æœ€ç›¸å…³çš„ï¼Œå‡è®¾æˆ‘ä»¬è®¾ç½® K=3ï¼Œè¿”å›ç›¸ä¼¼åº¦æœ€é«˜çš„3ä¸ªæ–‡æœ¬å—</p>
<p>ç»“æœï¼š
a. (ç›¸ä¼¼åº¦ 0.91) "4.2 HTTPSé…ç½®æ­¥éª¤ï¼šé¦–å…ˆéœ€è¦ç”³è¯·SSLè¯ä¹¦..."
b. (ç›¸ä¼¼åº¦ 0.89) "å®‰å…¨é…ç½®ç« èŠ‚ï¼šHTTPSæ˜¯ä¿éšœç½‘ç«™å®‰å…¨çš„å…³é”®..."
c. (ç›¸ä¼¼åº¦ 0.87) "ç¬¬äº”ç«  è¯ä¹¦ç®¡ç†ï¼šSSL/TLSè¯ä¹¦çš„ç”³è¯·ä¸éƒ¨ç½²..."</p>
</li>
</ol>
<h2 data-id="heading-14">å…­ã€ RAG - A (Augmented)</h2>
<p>åœ¨å¾—åˆ°Top-Kç›¸å…³çš„æ•°æ®åï¼Œä¼šæŠŠè¿™å‡ æ¡ç»“æœçš„åŸå§‹æ•°æ®ï¼ˆæ¯æ¡æ•°æ®çš„metadataä¸­ä¼šæœ‰åŸå§‹æ•°æ®ï¼‰ï¼Œå’Œç”¨æˆ·çš„Queryï¼Œä¸€èµ·ç»™LLMã€‚ä¸ºä»€ä¹ˆå«<strong>Augmentedå¢å¼º</strong>å‘¢ï¼Ÿ</p>
<p>å…¶å®Augmentedï¼Œå°±æ˜¯ä¸€ä¸ªPrompt Engineeringæç¤ºè¯å·¥ç¨‹ç›¸å…³çš„å·¥ä½œï¼ŒæŠŠQueryå’ŒçŸ¥è¯†åº“ä¸­çš„ç›¸å…³æ•°æ®ï¼Œé€šè¿‡ä¸€äº›ç‰¹æ®Šçš„Promptç»™åˆ°LLMï¼Œè®©LLMæ›´å¥½åœ°å›ç­”é—®é¢˜ã€‚å³é€šè¿‡æ¸…æ™°çš„ç»“æ„ + æ˜ç¡®çš„æŒ‡ä»¤ï¼Œè®©æ¨¡å‹çŸ¥é“è¯¥å‚è€ƒä»€ä¹ˆã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªå®Œæ•´çš„å¢å¼ºåçš„æç¤ºè¯å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">ä½ æ˜¯ä¸€ä¸ªæŠ€æœ¯æ”¯æŒåŠ©æ‰‹ã€‚è¯·æ ¹æ®ä»¥ä¸‹å‚è€ƒèµ„æ–™å›ç­”ç”¨æˆ·é—®é¢˜ã€‚

<span class="hljs-section">## å‚è€ƒèµ„æ–™</span>

<span class="hljs-section">### æ–‡æ¡£1ï¼ˆç›¸å…³åº¦ï¼š91%ï¼‰</span>
æ¥æºï¼šç½‘ç»œå®‰å…¨é…ç½®æ‰‹å†Œ.pdf
å†…å®¹ï¼š{æ£€ç´¢åˆ°çš„æ–‡æœ¬å—1}

<span class="hljs-section">### æ–‡æ¡£2ï¼ˆç›¸å…³åº¦ï¼š89%ï¼‰</span>
æ¥æºï¼šæœåŠ¡å™¨éƒ¨ç½²æŒ‡å—.pdf  
å†…å®¹ï¼š{æ£€ç´¢åˆ°çš„æ–‡æœ¬å—2}

<span class="hljs-section">### æ–‡æ¡£3ï¼ˆç›¸å…³åº¦ï¼š87%ï¼‰</span>
æ¥æºï¼šè¯ä¹¦ç®¡ç†æ–‡æ¡£.pdf
å†…å®¹ï¼š{æ£€ç´¢åˆ°çš„æ–‡æœ¬å—3}

<span class="hljs-section">## å›ç­”è¦æ±‚</span>
<span class="hljs-bullet">1.</span> å¿…é¡»åŸºäºä¸Šè¿°å‚è€ƒèµ„æ–™
<span class="hljs-bullet">2.</span> å¦‚æœèµ„æ–™ä¸è¶³ï¼Œæ˜ç¡®è¯´æ˜
<span class="hljs-bullet">3.</span> ç»™å‡ºå…·ä½“æ­¥éª¤
<span class="hljs-bullet">4.</span> æ ‡æ³¨ä¿¡æ¯æ¥æº

<span class="hljs-section">## ç”¨æˆ·é—®é¢˜</span>
å¦‚ä½•é…ç½®HTTPSï¼Ÿ

<span class="hljs-section">## ä½ çš„å›ç­”</span>
</code></pre>
<h2 data-id="heading-15">ä¸ƒã€ RAG - G (Generation)</h2>
<p>æœ€åä¸€æ­¥çš„Generationç”Ÿæˆï¼Œå°±å’Œå¹³æ—¶ä½¿ç”¨LLMæ²¡ä»€ä¹ˆåŒºåˆ«äº†ï¼ŒLLMä¼šæ ¹æ®æç¤ºè¯ï¼Œæ¥å›ç­”é—®é¢˜å¹¶æŒ‰ç…§æŒ‡å®šçš„æ ¼å¼æ¥è¾“å‡ºå†…å®¹ã€‚å³ï¼š</p>
<ol>
<li>è¯»å–å‚è€ƒèµ„æ–™</li>
<li>ç†è§£ç”¨æˆ·é—®é¢˜</li>
<li>ä»èµ„æ–™ä¸­æå–ç›¸å…³ä¿¡æ¯</li>
<li>ç»„ç»‡æˆç»“æ„åŒ–å›ç­”</li>
<li>é€å­—ç”Ÿæˆè¾“å‡º</li>
</ol>
<p>ä»¥ä¸Šé¢çš„é—®é¢˜ä¸ºä¾‹ï¼ŒLLMæœ€ç»ˆç”Ÿæˆçš„å†…å®¹å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">æ ¹æ®å‚è€ƒèµ„æ–™ï¼ŒHTTPSé…ç½®æ­¥éª¤å¦‚ä¸‹ï¼š

<span class="hljs-bullet">1.</span> <span class="hljs-strong">**ç”³è¯·SSLè¯ä¹¦**</span>
<span class="hljs-bullet">   -</span> å¯ä»¥é€šè¿‡Let's Encryptè·å–å…è´¹è¯ä¹¦
<span class="hljs-bullet">   -</span> æˆ–è´­ä¹°å•†ä¸šè¯ä¹¦ï¼ˆæ¥æºï¼šè¯ä¹¦ç®¡ç†æ–‡æ¡£ï¼‰

<span class="hljs-bullet">2.</span> <span class="hljs-strong">**å®‰è£…è¯ä¹¦**</span>

   sudo cp cert.pem /etc/ssl/certs/
   sudo cp key.pem /etc/ssl/private/
   ...

<span class="hljs-bullet">3.</span> ...

</code></pre>
<p>åˆ°è¿™é‡Œï¼Œæ•´ä¸ªRAGçš„è¿‡ç¨‹å°±ç®—æ˜¯ç»“æŸäº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b33a3d8f95d4031ac035523fdbbcd1e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=gwF2xEzNSGkxNgPSFd5pwcFIdYA%3D" alt="RAGæµç¨‹" loading="lazy"/></p>
<h2 data-id="heading-16">å…«ã€ å®Œæ•´RAGè¿‡ç¨‹</h2>
<p>ç°åœ¨æŠŠä¸Šé¢å‡ ä¸ªæ­¥éª¤ç»“åˆèµ·æ¥ï¼š</p>
<pre><code class="hljs language-plain" lang="plain">ç§æœ‰çš„çŸ¥è¯†åº“
â†’ æ–‡æœ¬åˆ†å—Chunking
â†’ å‘é‡åŒ–Embedding
â†’ å­˜å‚¨å‘é‡æ„å»ºç´¢å¼•Indexing
â†’ ç”¨æˆ·æé—®Query
â†’ æ£€ç´¢Retrieval
â†’ å¢å¼ºAugmented
â†’ ç”ŸæˆGeneration
</code></pre>
<p>ä¹‹åå°±å¾—åˆ°äº†æœ€å¼€å§‹çš„è¿™ä¸ªæ¶æ„ç¤ºæ„å›¾ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d206e521d05f4c15a599196edbe8396f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=EXuJpwvyFGItyYHyV0Mgb6qQSP8%3D" alt="æ¶æ„ç¤ºæ„å›¾" loading="lazy"/></p>
<h2 data-id="heading-17">ä¹ã€ FAQ</h2>
<p>ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„é—®é¢˜ï¼š</p>
<ol>
<li>
<p><strong>RAGå’Œä¼ ç»Ÿçš„å…¨æ–‡æ¨¡ç³Šæœç´¢æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>
<p>ä¼ ç»Ÿçš„æ¨¡ç³Šæœç´¢æ˜¯å…³é”®è¯åŒ¹é…çš„ï¼Œæ¯”å¦‚</p>
<ul>
<li>ç”¨æˆ·æœç´¢ï¼š"å¦‚ä½•åšè›‹ç³•"</li>
<li>ç³»ç»ŸåŒ¹é…ï¼šåªèƒ½æ‰¾åˆ°åŒ…å«"è›‹ç³•"å­—æ ·çš„æ–‡æ¡£</li>
<li>ç»“æœï¼šâŒ æ‰¾ä¸åˆ°"çƒ˜ç„™æ•™ç¨‹"ã€"ç”œç‚¹åˆ¶ä½œ"ç­‰ç›¸å…³å†…å®¹</li>
</ul>
<p>è€ŒRAGæœ€é‡è¦çš„ä¸€æ­¥å°±æ˜¯æŠŠçŸ¥è¯†åº“åšäº†å‘é‡åŒ–ï¼Œæ˜¯æ ¹æ®è¯­ä¹‰è¿›è¡Œæœç´¢çš„</p>
<ul>
<li>ç”¨æˆ·æœç´¢ï¼š"å¦‚ä½•åšè›‹ç³•"</li>
<li>ç³»ç»Ÿç†è§£ï¼šç”¨æˆ·æƒ³å­¦ä¹ çƒ˜ç„™æŠ€èƒ½</li>
<li>ç»“æœï¼šâœ… æ‰¾åˆ°"çƒ˜ç„™æ•™ç¨‹"ã€"ç”œç‚¹åˆ¶ä½œ"ã€"é¢åŒ…åˆ¶ä½œ"ç­‰ç›¸å…³å†…å®¹</li>
</ul>
</li>
<li>
<p><strong>æ—¢ç„¶RAGé‡Œé¢è¿˜æ˜¯è¦è¦é€šè¿‡æ„é€ æç¤ºè¯æ¥å§å‚è€ƒèµ„æ–™æ”¾å…¥æç¤ºè¯ï¼Œé‚£è¿™å’Œâ€œç›´æ¥åœ¨é—®é¢˜é‡ŒæŠŠå‚è€ƒæ–‡æ¡£ä¹Ÿè¾“å…¥è¿›å»â€æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>
<p>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬è¦è€ƒè™‘æˆæœ¬å’Œæ•ˆç‡ï¼Œä¸€ä¸ªçŸ¥è¯†åº“å¯èƒ½å¾ˆå¤§ï¼Œæˆç™¾ä¸Šåƒä¸ªæ–‡æ¡£ï¼Œæ•°ä¸‡æ•°åä¸‡å­—ï¼Œåœ¨å®é™…æ“ä½œçš„æ—¶å€™ï¼Œè¦è€ƒè™‘åˆ°ï¼š</p>
<ul>
<li>Tokené™åˆ¶ï¼šGPT-4 æœ€å¤š128K tokens â‰ˆ 10ä¸‡å­—ï¼ŒçŸ¥è¯†åº“æ— æ³•å¡è¿›å»</li>
<li>æˆæœ¬é—®é¢˜ï¼šå³ä½¿èƒ½å¡è¿›å»ï¼Œ128K tokenså¯èƒ½ä¸€æ¬¡è°ƒç”¨å¯èƒ½è¦å‡ ç¾å…ƒï¼Œæˆæœ¬æ¿€å¢</li>
<li>æ•ˆç‡ä½ä¸‹ï¼šLLMè¦è¯»å®Œæ‰€æœ‰æ— å…³å†…å®¹</li>
<li>å“åº”ç¼“æ…¢ï¼šå¤„ç†æµ·é‡æ–‡æœ¬éœ€è¦å¾ˆé•¿æ—¶é—´
æ‰€ä»¥RAGä¸­Ræ£€ç´¢è¿™ä¸€æ­¥ï¼Œå°±æ˜¯åœ¨åšè¿‡æ»¤ï¼Œå®ƒçš„æœ¬è´¨å°±æ˜¯æŠŠâ€œæ— é™å¤§â€çš„çŸ¥è¯†åº“å˜æˆâ€œåˆšåˆšå¥½â€çš„ä¸Šä¸‹æ–‡</li>
</ul>
</li>
<li>
<p><strong>åœ¨åšå‘é‡åŒ–çš„æ—¶å€™ï¼Œä½¿ç”¨åˆ°çš„Embedding Modelå’ŒLLMçš„Modelæœ‰ä»€ä¹ˆå…³è”ï¼Œä¸ºä»€ä¹ˆEmbedding Modelå¯ä»¥è¯†åˆ«åŸå§‹æ•°æ®çš„è¯­ä¹‰ï¼Ÿ</strong></p>
<p>ç®€å•æ¥è®²ï¼Œ<strong>Embeddingæ¨¡å‹</strong>å’Œ<strong>å¤§è¯­è¨€æ¨¡å‹</strong>ï¼Œä»–ä»¬çš„åŸºç¡€æ¶æ„æ˜¯ç›¸ä¼¼ï¼Œä½†ç›®æ ‡å’Œè®­ç»ƒæ–¹å¼ä¸åŒã€‚
ä¸¤è€…éƒ½åŸºäºTransformeræ¶æ„ï¼Œå³ï¼š</p>
<ul>
<li>å¤šå¤´è‡ªæ³¨æ„åŠ›æœºåˆ¶ (Multi-Head Attention)</li>
<li>å‰é¦ˆç¥ç»ç½‘ç»œ (Feed-Forward)</li>
<li>å±‚å½’ä¸€åŒ– (Layer Normalization)</li>
<li>ä½ç½®ç¼–ç  (Positional Encoding)</li>
</ul>
<p>ä½†æ˜¯</p>
<ul>
<li>Embedding Modelï¼šä¸“é—¨å­¦ä¹ â€œç†è§£å’Œè¡¨ç¤ºâ€ï¼Œè¾“å‡ºæ˜¯å‘é‡</li>
<li>LLMï¼šä¸“é—¨å­¦ä¹ â€œç”Ÿæˆæ–‡æœ¬â€ï¼Œè¾“å‡ºæ˜¯æ–‡å­—
å®Œæ•´çš„Transformerå¯ä»¥ç†è§£ä¸ºEncoderç¼–ç å™¨ + Decoderè§£ç å™¨ã€‚</li>
</ul>

















<table><thead><tr><th>ç»„æˆ</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>Encoderç¼–ç å™¨</td><td>ç†è§£è¾“å…¥ï¼Œæå–ç‰¹å¾</td></tr><tr><td>Decoderè§£ç å™¨</td><td>ç”Ÿæˆè¾“å‡ºï¼Œé€å­—ç”Ÿæˆ</td></tr></tbody></table>
</li>
</ol>
<p>Embeddingæ¨¡å‹ä¸»è¦ç”¨çš„æ˜¯Encoderï¼Œå¤§è¯­è¨€æ¨¡å‹ä¸»è¦ç”¨Decoderã€‚è€ŒEmbeddingæ¨¡å‹ä¹‹æ‰€ä»¥æ¯”LLMå°å¾ˆå¤šï¼ˆå¦‚BGE-base-zhåªæœ‰400Mï¼‰ï¼Œä¸»è¦æ˜¯å› ä¸ºå®ƒçš„ä»»åŠ¡ç›¸å¯¹ç®€å•ï¼ˆæ˜ å°„åˆ°å‘é‡ç©ºé—´ï¼‰ï¼Œä¸éœ€è¦ç”Ÿæˆèƒ½åŠ›ï¼Œä¹Ÿå°±ä¸éœ€è¦è®°å¿†æµ·é‡çŸ¥è¯†å’Œå¤æ‚çš„æ¨ç†èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-18">åã€ å°ç»“</h2>
<p>è¿™ç¯‡æ–‡ç« é‡Œï¼Œæˆ‘ä»¬ä¸€èµ·äº†è§£äº†ä¸€ä¸‹RAGï¼Œä»¥åŠè¿™ä¸ªæŠ€æœ¯å¦‚ä½•é€šè¿‡å¤–æŒ‚çŸ¥è¯†åº“è§£å†³å¤§è¯­è¨€æ¨¡å‹çš„ä¸‰å¤§å±€é™ï¼š</p>
<ul>
<li>æ—¶æ•ˆæ€§ä¸è¶³ï¼ˆæ— æ³•å¤„ç†è®­ç»ƒåæ–°æ•°æ®ï¼‰</li>
<li>ç§æœ‰æ•°æ®ç¼ºå¤±</li>
<li>å¹»è§‰é—®é¢˜</li>
</ul>
<p>å®ƒçš„æ ¸å¿ƒæœºåˆ¶åŒ…å«ä¸‰ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li>åŸºäºè¯­ä¹‰çš„å‘é‡åŒ–æ£€ç´¢</li>
<li>ç»“æ„åŒ–æç¤ºè¯å¢å¼ºä¸Šä¸‹æ–‡</li>
<li>ä»¥åŠå¤§æ¨¡å‹çš„çŸ¥è¯†æ•´åˆç”Ÿæˆ</li>
</ul>
<p>è¿™æ ·å°±èƒ½å®ç°ä½æˆæœ¬ã€æ˜“äºç»´æŠ¤çš„ä¸“ä¸šé¢†åŸŸçŸ¥è¯†èåˆã€‚ç›¸æ¯”å¾®è°ƒæ–¹æ¡ˆï¼Œ RAGæ— éœ€è®­ç»ƒæ ‡æ³¨æ•°æ®ä¸”æ”¯æŒå®æ—¶æ›´æ–°ï¼Œé€‚åˆç”¨åœ¨ä¼ä¸šçŸ¥è¯†åº“é—®ç­”ã€å®æ—¶æ”¿ç­–è§£è¯»è¿™äº›åœºæ™¯é‡Œã€‚</p>
<p>è¿˜æœ‰å°±æ˜¯è¿™ç¯‡æ–‡ç« ï¼ˆæˆ–è€…è¯´ã€ŠAIæ¦‚å¿µè§£æƒ‘ã€‹è¿™ä¸ªç³»åˆ—ï¼‰æ›´ä¸“æ³¨äºæ¦‚å¿µè§£æƒ‘å’ŒåŸç†è§£æï¼Œæ‰€ä»¥æ²¡æœ‰åŒ…å«ä»€ä¹ˆä»£ç å®æ“ã€‚</p>
<p>å¦å¤–è¿™ä¹Ÿåªæ˜¯ä¸€ä¸ªç®€å•çš„åŸç†è§£æï¼Œå®é™…çš„RAGå·¥ç¨‹ä¸­å¯èƒ½è¿˜ä¼šåŒ…å«å¾ˆå¤šå…¶ä»–çš„æ­¥éª¤ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>æ–‡æœ¬åˆ†å—æ—¶å¯èƒ½ä¼šåŒæ—¶ä½¿ç”¨è¯­ä¹‰åˆ†å—+æ»‘åŠ¨çª—å£åˆ†å—</li>
<li>Retrievalé˜¶æ®µå¯èƒ½ä¸åªæ˜¯ç”¨å‘é‡ç›¸ä¼¼åº¦æ£€ç´¢ï¼Œä¼šä½¿ç”¨å‘é‡ç›¸ä¼¼åº¦+å…³é”®è¯ï¼ˆå¦‚BM25ï¼‰çš„æ··åˆæ£€ç´¢
<ul>
<li>ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºå‘é‡ç›¸ä¼¼åº¦åªå¯¹è¯­ä¹‰æ•æ„Ÿï¼Œå¯¹å…³é”®è¯ä¸æ•æ„Ÿï¼Œæ¯”å¦‚â€œPython 3.12â€å’Œâ€œPython 3.13â€çš„å‘é‡åŸºæœ¬ç›¸åŒï¼Œä½†æ˜¯ç”¨æˆ·å¯èƒ½æ˜¯æé—®å…·ä½“Pythonç‰ˆæœ¬çš„é—®é¢˜</li>
</ul>
</li>
<li>åœ¨Retrievalæ£€ç´¢åè¿˜å¯èƒ½å­˜åœ¨ä¸€ä¸ªRerankingé‡æ’çš„æ­¥éª¤
<ul>
<li>å¯¹å€™é€‰ç‰‡æ®µè¿›è¡Œç²¾ç»†åŒ–æ‰“åˆ†å’Œæ’åº</li>
</ul>
</li>
<li>å¯¹äºç”¨æˆ·çš„é—®é¢˜Queryå¯èƒ½ä¼šå¢åŠ ä¸€ä¸ªQuery Rewriting
<ul>
<li>æ˜¯ä¸ºäº†è®©é—®é¢˜æ›´è§„èŒƒï¼Œæ¯”å¦‚ä»ä¸€ä¸ªå£è¯­åŒ–çš„è¡¨è¾¾åˆ°ä¸€ä¸ªè§„èŒƒåŒ–çš„è¡¨è¾¾</li>
</ul>
</li>
<li>ä½¿ç”¨å¤šè·¯æ£€ç´¢ï¼ˆMulti-Path Retrievalï¼‰ã€ä¸Šä¸‹æ–‡å‹ç¼©ï¼ˆContext Compressionï¼‰ã€è‡ªæˆ‘åæ€ï¼ˆSelf-Reflectionï¼‰ç­‰æ‰‹æ®µè¿›è¡Œä¼˜åŒ–</li>
<li>å¼•å…¥RAGè¯„åˆ†æœºåˆ¶ï¼Œå¯¹RAGçš„è¾“å‡ºç»“æœè¿›è¡Œè¯„ä¼°</li>
<li>...</li>
</ul>
<p>æ„Ÿå…´è¶£çš„å¯ä»¥è‡ªè¡Œæœç´¢äº†è§£ã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ ç†è§£RAGçš„æ ¸å¿ƒåŸç†å’Œåº”ç”¨åœºæ™¯ï¼Œå¦‚æœè¿™ç¯‡æ–‡ç« æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œè¾›è‹¦å¤§å®¶æŒ‡æ­£ã€‚</p>
<h2 data-id="heading-19">å‚è€ƒé“¾æ¥</h2>
<ul>
<li><a href="https://juejin.cn/post/7464756728685936694" target="_blank" title="https://juejin.cn/post/7464756728685936694">æ£€ç´¢å¢å¼ºç”ŸæˆæŠ€æœ¯RAGï¼šå‘é‡åŒ–ä¸å¤§æ¨¡å‹çš„ç»“åˆ</a></li>
<li><a href="https://juejin.cn/post/7251903805980524581" target="_blank" title="https://juejin.cn/post/7251903805980524581">è¢« AI å¸¦ç«çš„å‘é‡æ•°æ®åº“æ˜¯ä»€ä¹ˆ</a></li>
<li><a href="https://juejin.cn/post/7554986681502957587#heading-5" target="_blank" title="https://juejin.cn/post/7554986681502957587#heading-5">å¤§æ¨¡å‹ç³»åˆ—æ•™ç¨‹ï¼šä»€ä¹ˆæ˜¯RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆæ¨¡å‹ï¼‰æŠ€æœ¯</a></li>
<li><a href="https://juejin.cn/post/7379831020495732773" target="_blank" title="https://juejin.cn/post/7379831020495732773">RAG-æ£€ç´¢å¢å¼ºç”Ÿæˆ</a></li>
<li><a href="https://juejin.cn/post/7502279037948313651" target="_blank" title="https://juejin.cn/post/7502279037948313651">ç¬¬ä¸€ç« ï¼šRAG å¼€å‘å…¥é—¨ä¸åŸºç¡€æ¦‚å¿µ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F647646322" target="_blank" title="https://zhuanlan.zhihu.com/p/647646322" ref="nofollow noopener noreferrer">æ–‡æœ¬ Embedding åŸºæœ¬æ¦‚å¿µå’Œåº”ç”¨å®ç°åŸç†</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fweaviate.io%2Fblog%2Fdistance-metrics-in-vector-search" target="_blank" title="https://weaviate.io/blog/distance-metrics-in-vector-search" ref="nofollow noopener noreferrer">Distance Metrics in Vector Search</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdatacream.substack.com%2Fp%2Frag-explained-understanding-embeddings" target="_blank" title="https://datacream.substack.com/p/rag-explained-understanding-embeddings" ref="nofollow noopener noreferrer">RAG Explained: Understanding Embeddings, Similarity, and Retrieval</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸¤ä¸ªå•†ä¸šæ’ä»¶æ”¹ä¸ºå¼€æºæ’ä»¶]]></title>    <link>https://juejin.cn/post/7573995798602907663</link>    <guid>https://juejin.cn/post/7573995798602907663</guid>    <pubDate>2025-11-19T04:31:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573995798602907663" data-draft-id="7573904312713625635" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸¤ä¸ªå•†ä¸šæ’ä»¶æ”¹ä¸ºå¼€æºæ’ä»¶"/> <meta itemprop="keywords" content="å¼€æº,èµ„è®¯,ä½ä»£ç "/> <meta itemprop="datePublished" content="2025-11-19T04:31:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="NocoBase"/> <meta itemprop="url" content="https://juejin.cn/user/180779873743566"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸¤ä¸ªå•†ä¸šæ’ä»¶æ”¹ä¸ºå¼€æºæ’ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180779873743566/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    NocoBase
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T04:31:00.000Z" title="Wed Nov 19 2025 04:31:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Ftwo-commercial-plugins-are-now-open-source" target="_blank" title="https://www.nocobase.com/cn/blog/two-commercial-plugins-are-now-open-source" ref="nofollow noopener noreferrer">www.nocobase.com/cn/blog/twoâ€¦</a></p>
<p>æ ¹æ®ç”¨æˆ·åé¦ˆï¼Œæˆ‘ä»¬å†³å®šå°†ä¸¤æ¬¾å•†ä¸šå·¥ä½œæµæ’ä»¶è°ƒæ•´ä¸ºå¼€æºæ’ä»¶ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs-cn.nocobase.com%2Fhandbook%2Fworkflow-json-query" target="_blank" title="https://docs-cn.nocobase.com/handbook/workflow-json-query" ref="nofollow noopener noreferrer">JSON è®¡ç®—</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs-cn.nocobase.com%2Fhandbook%2Fworkflow-json-variable-mapping" target="_blank" title="https://docs-cn.nocobase.com/handbook/workflow-json-variable-mapping" ref="nofollow noopener noreferrer">JSON å˜é‡æ˜ å°„</a></li>
</ul>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆå¼€æºï¼Ÿ</h2>
<p>è¿™ä¸¤æ¬¾æ’ä»¶åœ¨å·¥ä½œæµé‡Œéå¸¸å¸¸ç”¨ï¼Œå¹¶ä¸”é€šå¸¸æ˜¯ SQL ã€HTTP è¯·æ±‚ç­‰èŠ‚ç‚¹çš„ä¸‹æ¸¸å¿…å¤‡èŠ‚ç‚¹ã€‚ä½œä¸ºå•†ä¸šæ’ä»¶ï¼Œå®ƒä»¬ç»å¸¸é˜»æ–­ç¤¾åŒºç‰ˆç”¨æˆ·ä½¿ç”¨ HTTP è¯·æ±‚èŠ‚ç‚¹çš„ä½¿ç”¨ï¼Œå¸¦æ¥ä¸å¥½çš„ä½“éªŒã€‚å› æ­¤æˆ‘ä»¬å†³å®šå°†å®ƒä»¬æ”¹ä¸ºå¼€æºæ’ä»¶ã€‚</p>
<h2 data-id="heading-1">æ’ä»¶ç®€ä»‹</h2>
<h3 data-id="heading-2"><strong>JSON è®¡ç®—</strong></h3>
<p>ç”¨äºå¯¹ä¸Šæ¸¸èŠ‚ç‚¹äº§ç”Ÿçš„å¤æ‚ JSON æ•°æ®è¿›è¡Œè®¡ç®—ã€æå–æˆ–ç»“æ„è½¬æ¢ã€‚</p>
<p>å…¸å‹åœºæ™¯åŒ…æ‹¬ï¼š</p>
<ul>
<li>SQL æŸ¥è¯¢çš„ç»“æœ</li>
<li>HTTP è¯·æ±‚è¿”å›çš„æ•°æ®</li>
</ul>
<p>éƒ½å¯ä»¥é€šè¿‡è¯¥èŠ‚ç‚¹è½¬æ¢æˆä½ åç»­èŠ‚ç‚¹éœ€è¦çš„å˜é‡æ ¼å¼æˆ–å­—æ®µå€¼ã€‚</p>
<h3 data-id="heading-3"><strong>JSON å˜é‡æ˜ å°„</strong></h3>
<p>ç”¨äºå°†ä¸Šæ¸¸èŠ‚ç‚¹ä¸­çš„å¤æ‚ JSON ç»“æ„æ˜ å°„ä¸ºéœ€è¦çš„å˜é‡å½¢æ€ã€‚</p>
<p>å…¸å‹åœºæ™¯åŒ…æ‹¬ï¼š</p>
<ul>
<li>ä» API/SQL è¿”å›çš„åµŒå¥— JSON é‡Œæå–å…³é”®å­—æ®µ</li>
<li>è°ƒæ•´å­—æ®µåç§°ã€æ•°ç»„ç»“æ„</li>
<li>ä¸ºåç»­èŠ‚ç‚¹å‡†å¤‡å¥½æ›´æ˜“ç”¨çš„å˜é‡</li>
</ul>
<p>æœ‰äº†å®ƒï¼Œä½ æ— éœ€åœ¨æ¯ä¸ªèŠ‚ç‚¹é‡å¤é…ç½®å¤æ‚çš„å­—æ®µè·¯å¾„ã€‚</p>
<h2 data-id="heading-4">å·²è´­ä¹°ç”¨æˆ·çš„è°ƒæ•´</h2>
<p>å·²è´­ç”¨æˆ·çš„æƒç›Šä¸ä¼šå—å½±å“ï¼Œæˆ‘ä»¬ä¼šæŒ‰è§„åˆ™é€€è¿˜å¯¹åº”æ’ä»¶ç‚¹æ•°ï¼š</p>
<ul>
<li>*æ°¸ä¹…ä½¿ç”¨, 1 å¹´å‡çº§ *é€€è¿˜ <strong>2 ä¸ªç‚¹æ•°</strong></li>
<li>*æ°¸ä¹…ä½¿ç”¨å’Œå‡çº§ *é€€è¿˜ <strong>4 ä¸ªç‚¹æ•°</strong></li>
</ul>
<p>ä»¥ä¸Šè°ƒæ•´çš„è§£é‡Šæƒå½’ NocoBase æ¯å…¬å¸æ‰€æœ‰ã€‚å·²ç»è´­ä¹°æˆ–å…‘æ¢äº†è¿™ä¸¤æ¬¾å•†ä¸šæ’ä»¶çš„ç”¨æˆ·ï¼Œèµ é€æƒç›Šå°†åœ¨ 2025 å¹´ 11 æœˆ 23 æ—¥ä¹‹å‰è°ƒæ•´å®Œæˆã€‚</p>
<h2 data-id="heading-5">æœ€å</h2>
<p>æ„Ÿè°¢æ¯ä¸€ä½ NocoBase ç”¨æˆ·å’Œå¼€æºè´¡çŒ®è€…ã€‚ä½ ä»¬çš„éœ€æ±‚ã€åé¦ˆå’Œ Issue æ¨åŠ¨æˆ‘ä»¬ä¸æ–­è¿­ä»£ã€‚æœªæ¥æˆ‘ä»¬ä¼šç»§ç»­åŠ å¿«å¼€å‘èŠ‚å¥ï¼Œä¸ºå¤§å®¶æä¾›æ›´å¼ºçš„èƒ½åŠ›å’Œæ›´å‹å¥½çš„ä»·æ ¼ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[pyæ•°æ®ç§‘å­¦å­¦ä¹ ç¬”è®°day4-ç©ºé—´æ•°æ®ç»Ÿè®¡åˆ†æä¸å¯è§†åŒ–ï¼ˆ2ï¼‰]]></title>    <link>https://juejin.cn/post/7573993452578308139</link>    <guid>https://juejin.cn/post/7573993452578308139</guid>    <pubDate>2025-11-19T03:17:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573993452578308139" data-draft-id="7573524348129345599" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="pyæ•°æ®ç§‘å­¦å­¦ä¹ ç¬”è®°day4-ç©ºé—´æ•°æ®ç»Ÿè®¡åˆ†æä¸å¯è§†åŒ–ï¼ˆ2ï¼‰"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-11-19T03:17:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¯å·±é…®"/> <meta itemprop="url" content="https://juejin.cn/user/1282456864448692"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            pyæ•°æ®ç§‘å­¦å­¦ä¹ ç¬”è®°day4-ç©ºé—´æ•°æ®ç»Ÿè®¡åˆ†æä¸å¯è§†åŒ–ï¼ˆ2ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1282456864448692/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¯å·±é…®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T03:17:57.000Z" title="Wed Nov 19 2025 03:17:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ¥ç©ºé—´æ•°æ®ç»Ÿè®¡åˆ†æä¸å¯è§†åŒ–ï¼ˆ1ï¼‰</p>
<h2 data-id="heading-0">ä¸€ã€ç©ºé—´æ•°æ®çš„è¯»å–å’Œé¢„å¤„ç†</h2>
<h3 data-id="heading-1">ï¼ˆ1ï¼‰è¯»å–å’ŒåŠ è½½åœ°ç†æ•°æ®æ–‡ä»¶</h3>
<h5 data-id="heading-2">1. æ ¸å¿ƒå·¥å…·ä¸æ ¸å¿ƒé€»è¾‘</h5>
<ul>
<li>ä¸»è¦åº“ï¼š<strong>GeoPandas</strong>ï¼ˆå…¼å®¹å¤šç§ä¸»æµåœ°ç†æ•°æ®æ ¼å¼ï¼Œæ“ä½œç®€æ´ï¼‰ï¼›</li>
<li>æ ¸å¿ƒé€»è¾‘ï¼šé€šè¿‡ GeoPandas çš„<code>read_file()</code>æ–¹æ³•è¯»å–æ–‡ä»¶ï¼Œè‡ªåŠ¨å°†åœ°ç†æ•°æ®è½¬æ¢ä¸º<strong>GeoDataFrame</strong>ï¼ˆèåˆå‡ ä½•å¯¹è±¡ä¸å±æ€§æ•°æ®çš„ç»“æ„ï¼‰ï¼Œç›´æ¥æ”¯æŒåç»­åˆ†æã€‚</li>
</ul>
<h5 data-id="heading-3">2. å¸¸è§æ ¼å¼ä¸è¯»å–æ–¹æ³•</h5>
<ul>
<li>
<p>é‡ç‚¹æ ¼å¼ï¼šShapefileï¼ˆæœ€å¸¸ç”¨çŸ¢é‡æ ¼å¼ï¼Œå­˜å‚¨ç‚¹ / çº¿ / é¢ï¼‰</p>
<ul>
<li>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> geopandas <span class="hljs-keyword">as</span> gpd
<span class="hljs-comment"># ä¼ å…¥æ–‡ä»¶å®Œæ•´è·¯å¾„ï¼ˆæ³¨æ„è·¯å¾„åˆ†éš”ç¬¦ç”¨"/"æˆ–"\")</span>
gdf = gpd.read_file(<span class="hljs-string">'æ–‡ä»¶è·¯å¾„.shp'</span>)  <span class="hljs-comment"># åç¼€ä¸º.shpï¼Œæ— éœ€é¢å¤–é…ç½®</span>
</code></pre>
</li>
</ul>
</li>
<li>
<p>å…¶ä»–æ”¯æŒæ ¼å¼ï¼šGeoJSONã€GPKGï¼ˆGeoPackageï¼‰ã€SHPXï¼ˆShapefile ç´¢å¼•æ–‡ä»¶ï¼‰ã€KML ç­‰</p>
<ul>
<li>è¯»å–æ–¹å¼ç»Ÿä¸€ï¼šä»…éœ€ä¿®æ”¹<code>read_file()</code>çš„æ–‡ä»¶è·¯å¾„ï¼ˆå¸¦å¯¹åº”æ ¼å¼åç¼€ï¼Œå¦‚<code>'æ•°æ®.geojson'</code>ã€<code>'æ•°æ®.gpkg'</code>ï¼‰ï¼Œæ— éœ€æ›´æ¢æ–¹æ³•ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-4">ï¼ˆ2ï¼‰æ•°æ®é¢„å¤„ç†</h3>
<h5 data-id="heading-5">ä¸€ã€æ•°æ®æ¸…ç†å’Œå»é‡</h5>
<p><strong>ç›®çš„</strong>ï¼šå»é™¤é‡å¤ã€å¼‚å¸¸æ•°æ®ï¼Œä¿è¯æ•°æ®å‡†ç¡®æ€§ã€‚<strong>æ ¸å¿ƒæ“ä½œ</strong>ï¼š</p>
<ol>
<li><strong>åˆ é™¤é‡å¤æ•°æ®</strong>ï¼šç”¨Â <code>drop_duplicates()</code>Â ç§»é™¤å®Œå…¨é‡å¤çš„è®°å½•ï¼ˆæˆ–æŒ‰æŒ‡å®šåˆ—å»é‡ï¼‰ï¼›</li>
<li><strong>å¤„ç†å¼‚å¸¸å€¼</strong>ï¼šé€šè¿‡å¸ƒå°”ç´¢å¼•ç­›é€‰æ‰ä¸åˆç†æ•°æ®ï¼ˆå¦‚é¢ç§¯â‰¤0 çš„å¤šè¾¹å½¢ï¼‰ï¼›</li>
<li><strong>ä¿å­˜ç»“æœ</strong>ï¼šç”¨Â <code>to_file()</code>Â å­˜å‚¨æ¸…ç†åçš„æ•°æ®ã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> geopandas <span class="hljs-keyword">as</span> gpd  
gdf = gpd.read_file(<span class="hljs-string">"æ•°æ®è·¯å¾„.shp"</span>)  <span class="hljs-comment"># è¯»æ•°æ®  </span>
gdf = gdf.drop_duplicates()  <span class="hljs-comment"># å»é‡  </span>
gdf = gdf[gdf[<span class="hljs-string">"shape_area"</span>] &gt; <span class="hljs-number">0</span>]  <span class="hljs-comment"># åˆ å¼‚å¸¸å€¼  </span>
gdf.to_file(<span class="hljs-string">"æ¸…ç†åæ•°æ®è·¯å¾„.shp"</span>)  <span class="hljs-comment"># ä¿å­˜  </span>
</code></pre>
<h5 data-id="heading-6">äºŒã€å¤„ç†ç¼ºå¤±æ•°æ®</h5>
<p><strong>ç›®çš„</strong>ï¼šè¡¥å…¨æˆ–ç§»é™¤ç¼ºå¤±å€¼ï¼Œé¿å…åˆ†æåå·®ã€‚<strong>æ ¸å¿ƒæ“ä½œ</strong>ï¼š</p>
<ol>
<li><strong>å¡«å……ç¼ºå¤±å€¼</strong>ï¼šç”¨Â <code>fillna()</code>Â å¡«å……æ•°å€¼ï¼ˆå¦‚å‡å€¼ã€ä¸­ä½æ•°ï¼‰æˆ–åˆ†ç±»å€¼ï¼ˆå¦‚ä¼—æ•°ï¼‰ï¼›</li>
<li><strong>åˆ é™¤ç¼ºå¤±å€¼</strong>ï¼šç”¨Â <code>dropna(subset=åˆ—å)</code>Â ç§»é™¤å…³é”®å±æ€§ï¼ˆå¦‚åç§°ã€åæ ‡ï¼‰ç¼ºå¤±çš„è®°å½•ï¼›</li>
<li><strong>ä¿å­˜ç»“æœ</strong>ï¼šç”¨Â <code>to_file()</code>Â å­˜å‚¨å¤„ç†åçš„æ•°æ®ã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python">gdf = gpd.read_file(<span class="hljs-string">"æ•°æ®è·¯å¾„.shp"</span>)  
mean_area = gdf[<span class="hljs-string">"shape_area"</span>].mean()  
gdf[<span class="hljs-string">"shape_area"</span>] = gdf[<span class="hljs-string">"shape_area"</span>].fillna(mean_area)  <span class="hljs-comment"># å¡«å……  </span>
gdf = gdf.dropna(subset=[<span class="hljs-string">"ntaname"</span>])  <span class="hljs-comment"># åˆ é™¤å…³é”®åˆ—ç¼ºå¤±å€¼  </span>
gdf.to_file(<span class="hljs-string">"å¤„ç†åæ•°æ®è·¯å¾„.shp"</span>)  
</code></pre>
<h5 data-id="heading-7">ä¸‰ã€åæ ‡ç³»è½¬æ¢</h5>
<p><strong>ç›®çš„</strong>ï¼šç»Ÿä¸€ä¸åŒæ•°æ®æºçš„åæ ‡ç³»ï¼Œç¡®ä¿ç©ºé—´åˆ†æå¯¹é½ã€‚<strong>æ ¸å¿ƒæ“ä½œ</strong>ï¼š</p>
<ol>
<li><strong>æŸ¥çœ‹åŸåæ ‡ç³»</strong>ï¼šé€šè¿‡Â <code>gdf.crs</code>Â è·å–å½“å‰åæ ‡å‚è€ƒç³»ç»Ÿï¼ˆCRSï¼‰ï¼›</li>
<li><strong>è½¬æ¢åæ ‡ç³»</strong>ï¼šç”¨Â <code>to_crs(ç›®æ ‡EPSGç )</code>Â è½¬æ¢ï¼ˆå¦‚ WGS84 å¯¹åº”Â <code>EPSG:4326</code>ï¼‰ï¼›</li>
<li><strong>éªŒè¯å¹¶ä¿å­˜</strong>ï¼šæ£€æŸ¥è½¬æ¢å CRSï¼Œç”¨Â <code>to_file()</code>Â å­˜å‚¨ã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python">gdf = gpd.read_file(<span class="hljs-string">"æ•°æ®è·¯å¾„.shp"</span>)  
<span class="hljs-built_in">print</span>(<span class="hljs-string">"åŸåæ ‡ç³»ï¼š"</span>, gdf.crs)  
gdf = gdf.to_crs(<span class="hljs-string">"EPSG:4326"</span>)  <span class="hljs-comment"># è½¬æ¢åˆ°WGS84  </span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–°åæ ‡ç³»ï¼š"</span>, gdf.crs)  
gdf.to_file(<span class="hljs-string">"è½¬æ¢åæ•°æ®è·¯å¾„.shp"</span>
</code></pre>
<h2 data-id="heading-8">äºŒã€ç©ºé—´æ•°æ®çš„ç»Ÿè®¡åˆ†æ</h2>
<h3 data-id="heading-9">1. ç©ºé—´è¿æ¥</h3>
<p>ç©ºé—´è¿æ¥æ˜¯é€šè¿‡ GeoPandas å°†ä¸¤ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰æ•°æ®é›†ï¼ˆå«åœ°ç†æ•°æ® + å±æ€§æ•°æ®ï¼‰æŒ‰ â€œå±æ€§å…³è”â€ æˆ– â€œç©ºé—´å…³ç³»â€ åˆå¹¶ï¼Œå®ç°æ•°æ®æ•´åˆä¸å±æ€§ä¼ é€’ï¼Œæ˜¯ åœ°ç†ä¿¡æ¯ç³»ç»Ÿï¼ˆGISï¼‰ åˆ†æçš„æ ¸å¿ƒæ“ä½œã€‚</p>
<h6 data-id="heading-10">ï¼ˆ1ï¼‰å±æ€§è¿æ¥ï¼ˆç”¨æˆ·ç¤ºä¾‹ç±»å‹ï¼‰ï¼šæŒ‰å…±åŒå±æ€§åˆ—åŒ¹é…</h6>
<ul>
<li>é€‚ç”¨åœºæ™¯ï¼šä¸¤ä¸ªæ•°æ®é›†æœ‰ç›¸åŒæ ‡è¯†åˆ—ï¼ˆå¦‚ç¼–ç ã€åç§°ï¼‰ï¼Œæ— éœ€ç©ºé—´å…³ç³»åˆ¤æ–­ã€‚</li>
</ul>
<blockquote>
<ul>
<li>æ ¸å¿ƒæ–¹æ³•ï¼š<code>GeoDataFrame.merge()</code>ï¼ˆå…¼å®¹ Pandas çš„ merge é€»è¾‘ï¼‰ã€‚</li>
</ul>
</blockquote>
<ul>
<li>
<p>å…³é”®å‚æ•°ï¼š</p>
<ul>
<li><code>left_on</code>ï¼šå·¦æ•°æ®é›†ï¼ˆåœ°ç†æ•°æ® gdfï¼‰çš„è¿æ¥åˆ—ï¼›</li>
<li><code>right_on</code>ï¼šå³æ•°æ®é›†ï¼ˆæ™®é€šæ•°æ® dfï¼‰çš„è¿æ¥åˆ—ï¼›</li>
<li><code>how</code>ï¼šè¿æ¥æ–¹å¼ï¼ˆ<code>left</code>å·¦è¿æ¥ã€<code>inner</code>å†…è¿æ¥ã€<code>outer</code>å¤–è¿æ¥ï¼Œå¸¸ç”¨<code>left</code>ä¿ç•™æ‰€æœ‰åœ°ç†æ•°æ®ï¼‰ã€‚</li>
<li>ä¸çŸ¥é“å·¦å³å†…è¿æ¥ä»€ä¹ˆæ„æ€å¯ä»¥çœ‹<a href="https://juejin.cn/post/7573336057480675334" target="_blank" title="https://juejin.cn/post/7573336057480675334">è¿™ç¯‡æ–‡ç« </a></li>
</ul>
</li>
<li>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> geopandas <span class="hljs-keyword">as</span> gpd
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

<span class="hljs-comment"># 1. è¯»æ•°æ®ï¼šåœ°ç†æ•°æ®ï¼ˆgdfï¼‰+ æ™®é€šå±æ€§æ•°æ®ï¼ˆdfï¼‰</span>
gdf = gpd.read_file(<span class="hljs-string">"åœ°å—æ•°æ®.shp"</span>)  <span class="hljs-comment"># å«åœ°ç†å‡ ä½•åˆ—ï¼ˆgeometryï¼‰å’Œå±æ€§åˆ—ï¼ˆå¦‚ntacodeï¼‰</span>
pop_df = pd.read_csv(<span class="hljs-string">"äººå£æ•°æ®.csv"</span>)  <span class="hljs-comment"># æ™®é€šè¡¨æ ¼ï¼Œå«è¿æ¥åˆ—ï¼ˆå¦‚NTA Codeï¼‰</span>

<span class="hljs-comment"># 2. æ•°æ®é¢„å¤„ç†ï¼ˆå¯é€‰ï¼‰ï¼šç­›é€‰ç›®æ ‡æ•°æ®ï¼ˆå¦‚2010å¹´äººå£ï¼‰</span>
pop_df = pop_df[pop_df[<span class="hljs-string">"Year"</span>] == <span class="hljs-number">2010</span>]

<span class="hljs-comment"># 3. æŒ‰å±æ€§è¿æ¥ï¼šé€šè¿‡"ntacode"å’Œ"NTA Code"åŒ¹é…</span>
merged_gdf = gdf.merge(pop_df, left_on=<span class="hljs-string">"ntacode"</span>, right_on=<span class="hljs-string">"NTA Code"</span>, how=<span class="hljs-string">"left"</span>)
</code></pre>
</li>
</ul>
<h6 data-id="heading-11">ï¼ˆ2ï¼‰ ç©ºé—´è¿æ¥ï¼ˆæŒ‰ç©ºé—´å…³ç³»åŒ¹é…ï¼‰ï¼šæ ¸å¿ƒ GIS è¿æ¥æ–¹å¼</h6>
<ul>
<li>é€‚ç”¨åœºæ™¯ï¼šæ— å…±åŒå±æ€§åˆ—ï¼ŒæŒ‰å‡ ä½•å¯¹è±¡çš„ç©ºé—´å…³ç³»å…³è”ï¼ˆå¦‚ â€œç‚¹åœ¨å¤šè¾¹å½¢å†…â€â€œçº¿ç©¿è¿‡å¤šè¾¹å½¢â€ï¼‰ã€‚</li>
</ul>
<blockquote>
<ul>
<li>æ ¸å¿ƒæ–¹æ³•ï¼š<code>gpd.sjoin()</code>ï¼ˆä¸“é—¨çš„ç©ºé—´è¿æ¥å‡½æ•°ï¼‰ã€‚</li>
</ul>
</blockquote>
<ul>
<li>
<p>å…³é”®å‚æ•°ï¼š</p>
<ul>
<li><code>left_df/right_df</code>ï¼šå¾…è¿æ¥çš„ä¸¤ä¸ª GeoDataFrameï¼ˆå‡éœ€å« geometry åˆ—ï¼‰ï¼›</li>
<li><code>predicate</code>ï¼šç©ºé—´å…³ç³»ï¼ˆ<code>within</code>å«äºã€<code>contains</code>åŒ…å«ã€<code>intersects</code>ç›¸äº¤ç­‰ï¼‰ï¼›</li>
<li><code>how</code>ï¼šè¿æ¥æ–¹å¼ï¼ˆåŒå±æ€§è¿æ¥ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p>ç¤ºä¾‹ä»£ç ï¼ˆç‚¹ - å¤šè¾¹å½¢ç©ºé—´è¿æ¥ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å‡è®¾ï¼šç‚¹æ•°æ®ï¼ˆå±…æ°‘ç‚¹ï¼‰ã€å¤šè¾¹å½¢æ•°æ®ï¼ˆè¡Œæ”¿åŒºï¼‰</span>
points_gdf = gpd.read_file(<span class="hljs-string">"å±…æ°‘ç‚¹.shp"</span>)
poly_gdf = gpd.read_file(<span class="hljs-string">"è¡Œæ”¿åŒº.shp"</span>)

<span class="hljs-comment"># ç©ºé—´è¿æ¥ï¼šå°†æ¯ä¸ªå±…æ°‘ç‚¹å…³è”åˆ°å…¶æ‰€åœ¨çš„è¡Œæ”¿åŒºï¼ˆä¼ é€’è¡Œæ”¿åŒºå±æ€§ï¼‰</span>
spatial_merged_gdf = gpd.sjoin(points_gdf, poly_gdf, predicate=<span class="hljs-string">"within"</span>, how=<span class="hljs-string">"left"</span>)
</code></pre>
</li>
</ul>
<h5 data-id="heading-12">å…³é”®æ­¥éª¤ï¼ˆé€šç”¨æµç¨‹ï¼‰</h5>
<ol>
<li>è¯»å–æ•°æ®ï¼šåœ°ç†æ•°æ®ï¼ˆgdfï¼‰+ å¾…å…³è”æ•°æ®ï¼ˆgdf æˆ–æ™®é€š dfï¼‰ï¼›</li>
<li>æ•°æ®é¢„å¤„ç†ï¼šç­›é€‰ç›®æ ‡æ•°æ®ã€ç»Ÿä¸€åæ ‡ç³»ï¼ˆç©ºé—´è¿æ¥å¿…éœ€ï¼‰ï¼›</li>
<li>æ‰§è¡Œè¿æ¥ï¼šå±æ€§è¿æ¥ç”¨<code>merge()</code>ï¼Œç©ºé—´è¿æ¥ç”¨<code>sjoin()</code>ï¼›</li>
<li>åç»­åˆ†æï¼šåŸºäºåˆå¹¶åçš„æ•°æ®åšç»Ÿè®¡ï¼ˆå¦‚æŒ‰åœ°å—ç»Ÿè®¡äººå£ï¼‰ã€å¯è§†åŒ–ç­‰ã€‚</li>
</ol>
<h5 data-id="heading-13">æ ¸å¿ƒè¦ç‚¹</h5>
<ol>
<li>ç©ºé—´è¿æ¥å‰éœ€ç¡®ä¿ä¸¤ä¸ª GeoDataFrame åæ ‡ç³»ä¸€è‡´ï¼ˆç”¨<code>gdf.to_crs()</code>ç»Ÿä¸€ï¼‰ï¼›</li>
<li>å±æ€§è¿æ¥éœ€ä¿è¯è¿æ¥åˆ—æ ¼å¼ä¸€è‡´ï¼ˆå¦‚ç¼–ç å‡ä¸ºå­—ç¬¦ä¸² / æ•°å€¼ï¼‰ï¼›</li>
<li>è¿æ¥åéœ€æ£€æŸ¥æ•°æ®å®Œæ•´æ€§ï¼ˆå¦‚<code>merged_gdf.isnull().sum()</code>æŸ¥çœ‹ç¼ºå¤±å…³è”ï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-14">2. ç©ºé—´ç¼“å†²åŒºåˆ†</h3>
<p>ç©ºé—´ç¼“å†²åŒºåˆ†æçš„æ ¸å¿ƒæ˜¯ä¸ºåœ°ç†å¯¹è±¡ï¼ˆç‚¹ã€çº¿ã€é¢ï¼‰åˆ›å»º â€œå½±å“èŒƒå›´â€ï¼ˆå¦‚åœ°é“ç«™ 1000 ç±³æœåŠ¡åœˆï¼‰ï¼Œé€šè¿‡ GeoPandas å®ç°ï¼Œå…³é”®æ­¥éª¤å’Œå‡½æ•°å¦‚ä¸‹ï¼š</p>
<h5 data-id="heading-15">ä¸€ã€æ ¸å¿ƒæµç¨‹ä¸å‡½æ•°ç”¨æ³•</h5>
<h6 data-id="heading-16">ï¼ˆ1ï¼‰è¯»å–åœ°ç†æ•°æ®ï¼ˆè·å–åˆ†æå¯¹è±¡ï¼‰</h6>
<p><strong>ç›®çš„</strong>ï¼šåŠ è½½åŒ…å«åœ°ç†åæ ‡çš„åŸå§‹æ•°æ®ï¼ˆå¦‚åœ°é“ç«™ç‚¹æ•°æ®ï¼‰ã€‚</p>
<blockquote>
<p><strong>å‡½æ•°</strong>ï¼š<code>geopandas.read_file(filename)</code></p>
</blockquote>
<ul>
<li>
<p><strong>å‚æ•°</strong>ï¼š<code>filename</code>ï¼ˆå¿…å¡«ï¼‰ï¼šåœ°ç†æ•°æ®æ–‡ä»¶è·¯å¾„ï¼ˆæ”¯æŒ Shapefileã€GeoJSON ç­‰æ ¼å¼ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> geopandas <span class="hljs-keyword">as</span> gpd
<span class="hljs-comment"># è¯»å–åœ°é“ç«™Shapefileæ•°æ®</span>
subway_stations = gpd.read_file(<span class="hljs-string">'D:/æ•°æ®/Subway Stations/geo_export_abaf55bb.shp'</span>)
</code></pre>
</li>
<li>
<p><strong>è¯´æ˜</strong>ï¼šè¿”å›<code>GeoDataFrame</code>ï¼ŒåŒ…å«<code>geometry</code>åˆ—ï¼ˆå­˜å‚¨ç‚¹ / çº¿ / é¢åæ ‡ï¼‰å’Œå±æ€§åˆ—ï¼ˆå¦‚ç«™ç‚¹åç§°ï¼‰ã€‚</p>
</li>
</ul>
<h6 data-id="heading-17">ï¼ˆ2ï¼‰ è½¬æ¢åæ ‡ç³»ï¼ˆç¡®ä¿è·ç¦»å•ä½æœ‰æ•ˆï¼‰</h6>
<p><strong>ç›®çš„</strong>ï¼šå°†æ•°æ®ä» â€œåœ°ç†åæ ‡ç³»ï¼ˆç»çº¬åº¦ï¼Œå•ä½ï¼šåº¦ï¼‰â€ è½¬æ¢ä¸º â€œæŠ•å½±åæ ‡ç³»ï¼ˆå•ä½ï¼šç±³ / åƒç±³ï¼‰â€ï¼Œå¦åˆ™ç¼“å†²åŒºè·ç¦»ä¼šå¤±çœŸã€‚</p>
<blockquote>
<p><strong>å‡½æ•°</strong>ï¼š<code>GeoDataFrame.to_crs(crs)</code></p>
</blockquote>
<ul>
<li>
<p><strong>å‚æ•°</strong>ï¼š<code>crs</code>ï¼ˆå¿…å¡«ï¼‰ï¼šç›®æ ‡åæ ‡ç³»çš„ EPSG ç ï¼ˆå¦‚<code>"EPSG:2163"</code>ä¸ºç¾å›½ç­‰è·åœ†é”¥æŠ•å½±ï¼Œå•ä½ï¼šç±³ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python">target_crs = <span class="hljs-string">'EPSG:2163'</span>  <span class="hljs-comment"># é€‰æ‹©é€‚åˆåˆ†æåŒºåŸŸçš„æŠ•å½±åæ ‡ç³»</span>
subway_stations = subway_stations.to_crs(target_crs)  <span class="hljs-comment"># è½¬æ¢åæ ‡ç³»</span>
</code></pre>
</li>
<li>
<p><strong>å…³é”®</strong>ï¼š</p>
<ul>
<li>åœ°ç†åæ ‡ç³»ï¼ˆå¦‚<code>EPSG:4326</code>ï¼‰çš„ â€œåº¦â€ æ— æ³•ç›´æ¥è¡¨ç¤ºå®é™…è·ç¦»ï¼ˆ1 åº¦â‰ˆ111 åƒç±³ï¼‰ï¼Œå¿…é¡»è½¬æ¢ä¸ºæŠ•å½±åæ ‡ç³»ï¼›</li>
<li>ä¸åŒåœ°åŒºéœ€åŒ¹é…å¯¹åº”æŠ•å½±ï¼ˆå¦‚ä¸­å›½å¸¸ç”¨<code>EPSG:32649</code>ï¼ŒUTM åˆ†åŒºæŠ•å½±ï¼Œå•ä½ï¼šç±³ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h6 data-id="heading-18">ï¼ˆ3ï¼‰ åˆ›å»ºç¼“å†²åŒºï¼ˆæ ¸å¿ƒæ“ä½œï¼‰</h6>
<p><strong>ç›®çš„</strong>ï¼šä¸ºæ¯ä¸ªåœ°ç†å¯¹è±¡ç”ŸæˆæŒ‡å®šè·ç¦»çš„ â€œå½±å“èŒƒå›´â€ï¼ˆåœ†å½¢ / å¤šè¾¹å½¢ï¼‰ã€‚</p>
<blockquote>
<p><strong>å‡½æ•°</strong>ï¼š<code>GeoSeries.buffer(distance)</code></p>
</blockquote>
<ul>
<li>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>distance</code>ï¼ˆå¿…å¡«ï¼‰ï¼šç¼“å†²åŒºåŠå¾„ï¼Œå•ä½ä¸å½“å‰åæ ‡ç³»ä¸€è‡´ï¼ˆå¦‚æŠ•å½±åæ ‡ç³»ä¸‹ä¸º â€œç±³â€ï¼‰ï¼›</li>
<li><code>resolution</code>ï¼ˆå¯é€‰ï¼‰ï¼šç¼“å†²åŒºè¾¹ç¼˜å¹³æ»‘åº¦ï¼ˆé»˜è®¤ 16ï¼Œå€¼è¶Šå¤§è¶Šæ¥è¿‘åœ†å½¢ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python">buffer_radius = <span class="hljs-number">1000</span>  <span class="hljs-comment"># ç¼“å†²åŒºåŠå¾„1000ç±³ï¼ˆå•ä½ç”±åæ ‡ç³»å†³å®šï¼‰</span>
<span class="hljs-comment"># ä¸ºæ¯ä¸ªåœ°é“ç«™çš„ç‚¹åæ ‡åˆ›å»ºç¼“å†²åŒºï¼Œç»“æœå­˜åˆ°æ–°åˆ—"buffer"ä¸­</span>
subway_stations[<span class="hljs-string">'buffer'</span>] = subway_stations[<span class="hljs-string">'geometry'</span>].buffer(buffer_radius)
</code></pre>
</li>
<li>
<p><strong>è¯´æ˜</strong>ï¼š</p>
<ul>
<li>ç‚¹è¦ç´ â†’ç”Ÿæˆåœ†å½¢ç¼“å†²åŒºï¼›</li>
<li>çº¿è¦ç´ â†’ç”Ÿæˆ â€œç®¡é“çŠ¶â€ ç¼“å†²åŒºï¼ˆæ²¿çº¿è·¯ä¸¤ä¾§æ‰©å±•ï¼‰ï¼›</li>
<li>é¢è¦ç´ â†’ç”Ÿæˆ â€œç¯çŠ¶â€ ç¼“å†²åŒºï¼ˆæ²¿è¾¹ç•Œå‘å¤– / å‘å†…æ‰©å±•ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h6 data-id="heading-19">ï¼ˆ4ï¼‰å¯è§†åŒ–ç»“æœï¼ˆç›´è§‚å±•ç¤ºç¼“å†²åŒºï¼‰</h6>
<p><strong>ç›®çš„</strong>ï¼šç»˜åˆ¶åŸåœ°ç†å¯¹è±¡å’Œç¼“å†²åŒºï¼ŒéªŒè¯åˆ†æç»“æœã€‚</p>
<blockquote>
<p><strong>æ ¸å¿ƒå‡½æ•°</strong>ï¼š</p>
<ul>
<li>
<p><code>GeoDataFrame.plot(ax, color, markersize, alpha, label)</code>ï¼šç»˜åˆ¶åœ°ç†æ•°æ®ï¼›</p>
</li>
<li>
<p><code>matplotlib.pyplot</code>Â è¾…åŠ©å‡½æ•°ï¼šåˆ›å»ºç”»å¸ƒã€æ·»åŠ å›¾ä¾‹ã€æ˜¾ç¤ºå›¾åƒã€‚</p>
</li>
</ul>
</blockquote>
<ul>
<li>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

<span class="hljs-comment"># åˆ›å»ºç”»å¸ƒå’Œåæ ‡è½´</span>
fig, ax = plt.subplots()  
<span class="hljs-comment"># ç»˜åˆ¶åŸåœ°é“ç«™ç‚¹ï¼ˆè“è‰²å°ç‚¹ï¼‰</span>
subway_stations.plot(ax=ax, color=<span class="hljs-string">'blue'</span>, markersize=<span class="hljs-number">5</span>, label=<span class="hljs-string">'åœ°é“ç«™'</span>)  
<span class="hljs-comment"># ç»˜åˆ¶ç¼“å†²åŒºï¼ˆæ©™è‰²åŠé€æ˜å¤šè¾¹å½¢ï¼‰</span>
subway_stations[<span class="hljs-string">'buffer'</span>].plot(ax=ax, color=<span class="hljs-string">'orange'</span>, alpha=<span class="hljs-number">0.5</span>, label=<span class="hljs-string">'1000ç±³ç¼“å†²åŒº'</span>)  
ax.set_aspect(<span class="hljs-string">'equal'</span>)  <span class="hljs-comment"># ä¿æŒåœ°å›¾æ¯”ä¾‹ï¼ˆé¿å…æ‹‰ä¼¸å˜å½¢ï¼‰</span>
plt.legend()  <span class="hljs-comment"># æ˜¾ç¤ºå›¾ä¾‹</span>
plt.show()  <span class="hljs-comment"># å±•ç¤ºå›¾åƒ</span>
</code></pre>
</li>
</ul>
<h5 data-id="heading-20">äºŒã€å…³é”®æ³¨æ„äº‹é¡¹</h5>
<ol>
<li><strong>åæ ‡ç³»æ˜¯æ ¸å¿ƒå‰æ</strong>ï¼šç¼“å†²åŒºçš„ â€œè·ç¦»â€ï¼ˆå¦‚ 1000 ç±³ï¼‰å¿…é¡»ä¾èµ–æŠ•å½±åæ ‡ç³»ï¼Œå¦åˆ™ç»“æœæ— å®é™…æ„ä¹‰ï¼›</li>
<li><strong><code>buffer()</code>å‚æ•°ä¸å¯¹è±¡åŒ¹é…</strong>ï¼šåŠå¾„å•ä½éœ€ä¸åæ ‡ç³»ä¸€è‡´ï¼Œä¸”æ ¹æ®è¦ç´ ç±»å‹ï¼ˆç‚¹ / çº¿ / é¢ï¼‰ç”Ÿæˆä¸åŒå½¢çŠ¶çš„ç¼“å†²åŒºï¼›</li>
<li><strong>å¯è§†åŒ–æ¯”ä¾‹</strong>ï¼š<code>ax.set_aspect('equal')</code>ç¡®ä¿ç¼“å†²åŒºå½¢çŠ¶æ­£ç¡®ï¼ˆé¿å…åœ†å½¢è¢«æ‹‰ä¼¸ä¸ºæ¤­åœ†ï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-21">3. ç©ºé—´æ•°æ®çš„èšåˆå’Œæ±‡æ€»</h3>
<p>ç©ºé—´æ•°æ®çš„èšåˆå’Œæ±‡æ€»æ ¸å¿ƒæ˜¯<strong>æŒ‰ â€œåˆ†ç»„æ¡ä»¶â€ å¯¹åœ°ç†æ•°æ®çš„å±æ€§æˆ–å‡ ä½•å½¢çŠ¶è¿›è¡Œåˆå¹¶ / è®¡ç®—</strong>ï¼Œåˆ†ä¸º â€œå±æ€§èšåˆâ€ï¼ˆç»Ÿè®¡æ•°å€¼ï¼‰å’Œ â€œå‡ ä½•èšåˆâ€ï¼ˆåˆå¹¶å½¢çŠ¶ï¼‰ä¸¤ç±»ï¼Œç¤ºä¾‹ä¸»è¦å±•ç¤ºå±æ€§èšåˆï¼Œä»¥ä¸‹æ˜¯è¯¦ç»†ç”¨æ³•ï¼š</p>
<h5 data-id="heading-22">ä¸€ã€æ ¸å¿ƒç›®çš„</h5>
<p>å°†åˆ†æ•£çš„ç©ºé—´æ•°æ®æŒ‰æŸä¸€åˆ†ç±»æ ‡å‡†ï¼ˆå¦‚è¡Œæ”¿åŒºã€ç±»å‹ï¼‰åˆå¹¶ï¼ŒåŒæ—¶è®¡ç®—è¯¥ç»„çš„ç»Ÿè®¡é‡ï¼ˆå¦‚æ€»é¢ç§¯ã€å¹³å‡äººå£ï¼‰æˆ–åˆå¹¶å‡ ä½•å½¢çŠ¶ï¼ˆå¦‚å°†å¤šä¸ªç¤¾åŒºåˆå¹¶ä¸ºä¸€ä¸ªè¡Œæ”¿åŒºï¼‰ï¼Œç”¨äºå®è§‚åˆ†æï¼ˆå¦‚ â€œæŒ‰åŸå¸‚æ±‡æ€»ä¸‹å±åŒºåŸŸçš„é¢ç§¯â€ï¼‰ã€‚</p>
<h5 data-id="heading-23">äºŒã€å±æ€§èšåˆ</h5>
<p><strong>ä½œç”¨</strong>ï¼šæŒ‰åˆ†ç±»å­—æ®µï¼ˆå¦‚<code>boro_name</code>ï¼Œè¡Œæ”¿åŒºåç§°ï¼‰å¯¹æ•°å€¼å±æ€§ï¼ˆå¦‚<code>shape_area</code>ï¼Œé¢ç§¯ï¼‰è¿›è¡Œæ±‡æ€»è®¡ç®—ï¼ˆæ±‚å’Œã€å‡å€¼ç­‰ï¼‰ã€‚</p>
<h6 data-id="heading-24">æ­¥éª¤ä¸ä»£ç è§£æ</h6>
<ol>
<li>
<p><strong>è¯»å–ç©ºé—´æ•°æ®</strong>ï¼šè·å–åŒ…å«åˆ†ç±»å­—æ®µå’Œå¾…èšåˆå±æ€§çš„<code>GeoDataFrame</code>ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> geopandas <span class="hljs-keyword">as</span> gpd
<span class="hljs-comment"># è¯»å–åœ°å—æ•°æ®ï¼ˆå«'boro_name'åˆ†ç±»å­—æ®µå’Œ'shape_area'é¢ç§¯å±æ€§ï¼‰</span>
gdf = gpd.read_file(<span class="hljs-string">'åœ°å—æ•°æ®.shp'</span>)
</code></pre>
</li>
<li>
<p><strong>æŒ‰åˆ†ç±»å­—æ®µåˆ†ç»„</strong>ï¼šç”¨<code>groupby(åˆ†ç»„å­—æ®µ)</code>æŒ‡å®šèšåˆçš„ â€œåˆ†ç»„ä¾æ®â€ï¼ˆå¦‚æŒ‰<code>boro_name</code>åˆ†ç»„ï¼Œå³æŒ‰è¡Œæ”¿åŒºåˆ†ç»„ï¼‰ã€‚</p>
</li>
<li>
<p><strong>é€‰æ‹©å±æ€§å¹¶åº”ç”¨èšåˆå‡½æ•°</strong>ï¼šå¯¹åˆ†ç»„åçš„æ•°å€¼å±æ€§ï¼ˆå¦‚<code>shape_area</code>ï¼‰ä½¿ç”¨èšåˆå‡½æ•°ï¼ˆ<code>sum</code>æ±‚å’Œã€<code>mean</code>å‡å€¼ã€<code>count</code>è®¡æ•°ç­‰ï¼‰ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æŒ‰'boro_name'åˆ†ç»„ï¼Œå¯¹'shape_area'æ±‚å’Œï¼ˆè®¡ç®—æ¯ä¸ªè¡Œæ”¿åŒºçš„æ€»é¢ç§¯ï¼‰</span>
gdf_area = gdf.groupby(<span class="hljs-string">'boro_name'</span>)[<span class="hljs-string">'shape_area'</span>].<span class="hljs-built_in">sum</span>().reset_index()
</code></pre>
<ul>
<li><code>groupby('boro_name')</code>ï¼šæŒ‰è¡Œæ”¿åŒºåç§°åˆ†ç»„ï¼›</li>
<li><code>['shape_area']</code>ï¼šæŒ‡å®šè¦èšåˆçš„å±æ€§ï¼ˆé¢ç§¯ï¼‰ï¼›</li>
<li><code>.sum()</code>ï¼šèšåˆå‡½æ•°ï¼ˆæ±‚å’Œï¼Œè®¡ç®—æ¯ä¸ªç»„çš„æ€»é¢ç§¯ï¼‰ï¼›</li>
<li><code>.reset_index()</code>ï¼šå°†åˆ†ç»„ç»“æœè½¬æ¢ä¸ºæ™®é€š<code>DataFrame</code>ï¼ˆä¾¿äºæŸ¥çœ‹å’Œåç»­å¤„ç†ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æŸ¥çœ‹ç»“æœ</strong>ï¼šæ‰“å°æˆ–ä½¿ç”¨èšåˆåçš„ç»Ÿè®¡æ•°æ®ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-built_in">print</span>(gdf_area.head())  <span class="hljs-comment"># æ˜¾ç¤ºå‰å‡ è¡Œç»“æœï¼ˆæ¯ä¸ªè¡Œæ”¿åŒºåŠå…¶æ€»é¢ç§¯ï¼‰</span>
</code></pre>
</li>
</ol>
<h5 data-id="heading-25">ä¸‰ã€å‡ ä½•èšåˆ</h5>
<p><strong>ä½œç”¨</strong>ï¼šå°†åŒä¸€ç»„çš„å‡ ä½•å¯¹è±¡ï¼ˆå¦‚å¤šä¸ªç¤¾åŒºå¤šè¾¹å½¢ï¼‰åˆå¹¶ä¸ºä¸€ä¸ªæ•´ä½“å‡ ä½•å½¢çŠ¶ï¼ˆå¦‚è¡Œæ”¿åŒºå¤šè¾¹å½¢ï¼‰ï¼ŒåŒæ—¶å¯ä¿ç•™å±æ€§èšåˆç»“æœã€‚</p>
<p><strong>æ ¸å¿ƒå‡½æ•°</strong>ï¼š<code>GeoDataFrame.dissolve(by=åˆ†ç»„å­—æ®µ, aggfunc=èšåˆå‡½æ•°)</code></p>
<ul>
<li><code>by</code>ï¼šæŒ‡å®šåˆ†ç»„å­—æ®µï¼ˆå¦‚<code>boro_name</code>ï¼‰ï¼›</li>
<li><code>aggfunc</code>ï¼šå¯¹å±æ€§çš„èšåˆå‡½æ•°ï¼ˆå¦‚<code>sum</code>ï¼Œå¯é€‰ï¼‰ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æŒ‰'boro_name'åˆå¹¶å‡ ä½•å½¢çŠ¶ï¼Œå¹¶è®¡ç®—æ¯ä¸ªè¡Œæ”¿åŒºçš„æ€»é¢ç§¯</span>
gdf_dissolved = gdf.dissolve(by=<span class="hljs-string">'boro_name'</span>, aggfunc={<span class="hljs-string">'shape_area'</span>: <span class="hljs-string">'sum'</span>})
<span class="hljs-comment"># ç»“æœï¼šæ¯ä¸ªè¡Œæ”¿åŒºä¸€è¡Œï¼Œgeometryåˆ—ä¸ºåˆå¹¶åçš„å¤šè¾¹å½¢ï¼Œshape_areaä¸ºæ€»é¢ç§¯</span>
</code></pre>
<h5 data-id="heading-26">å››ã€å…³é”®è¦ç‚¹</h5>
<ol>
<li>
<p><strong>åˆ†ç»„å­—æ®µé€‰æ‹©</strong>ï¼šéœ€æ˜¯åˆ†ç±»å±æ€§ï¼ˆå¦‚è¡Œæ”¿åŒºåç§°ã€åœ°å—ç±»å‹ï¼‰ï¼Œç¡®ä¿åŒä¸€ç»„çš„å¯¹è±¡æœ‰é€»è¾‘å…³è”ï¼›</p>
</li>
<li>
<p><strong>èšåˆå‡½æ•°åŒ¹é…</strong>ï¼šæ ¹æ®éœ€æ±‚é€‰æ‹©å‡½æ•°ï¼ˆæ±‚å’Œç”¨äºæ€»é‡ï¼Œå‡å€¼ç”¨äºå¹³å‡æ°´å¹³ï¼Œè®¡æ•°ç”¨äºæ•°é‡ï¼‰ï¼›</p>
</li>
<li>
<p><strong>å±æ€§èšåˆ vs å‡ ä½•èšåˆ</strong>ï¼š</p>
<ul>
<li>ä»…éœ€ç»Ÿè®¡æ•°å€¼ï¼šç”¨<code>groupby</code>ï¼ˆç¤ºä¾‹æ–¹æ³•ï¼‰ï¼›</li>
<li>éœ€åˆå¹¶å‡ ä½•å½¢çŠ¶ï¼šç”¨<code>dissolve</code>ï¼ˆåŒæ—¶å¯åŒ…å«å±æ€§èšåˆï¼‰ã€‚</li>
</ul>
</li>
</ol>
<h2 data-id="heading-27">äºŒã€ç©ºé—´æ•°æ®å¯è§†åŒ–</h2>
<p>ç©ºé—´æ•°æ®å¯è§†åŒ–çš„æ ¸å¿ƒæ˜¯é€šè¿‡ GeoPandas ç»“åˆ Matplotlibï¼Œå°†åœ°ç†æ•°æ®ï¼ˆç‚¹ã€çº¿ã€é¢ï¼‰ä»¥åœ°å›¾å½¢å¼å±•ç¤ºï¼Œå¹¶é€šè¿‡å¸ƒå±€ä¼˜åŒ–ï¼ˆå›¾ä¾‹ã€æ ‡ç­¾ç­‰ï¼‰å¢å¼ºå¯è¯»æ€§ï¼Œæœ€ç»ˆå¯ä¿å­˜ä¸ºå¤šç§æ ¼å¼ã€‚ä»¥ä¸‹æ˜¯åˆ†åœºæ™¯çš„ç”¨æ³•æ€»ç»“ï¼š</p>
<h5 data-id="heading-28">1.åŸºç¡€åœ°å›¾å¯è§†åŒ–ï¼ˆGeoPandas æ ¸å¿ƒç»˜å›¾ï¼‰</h5>
<p><strong>ç›®çš„</strong>ï¼šå¿«é€Ÿç»˜åˆ¶åœ°ç†æ•°æ®çš„åŸºç¡€åœ°å›¾ï¼Œå±•ç¤ºå‡ ä½•å½¢çŠ¶åˆ†å¸ƒã€‚</p>
<h6 data-id="heading-29">æ ¸å¿ƒæ­¥éª¤ä¸å‡½æ•°</h6>
<blockquote>
<p><strong>è¯»å–æ•°æ®</strong>ï¼šç”¨<code>gpd.read_file()</code>åŠ è½½åœ°ç†æ•°æ®ï¼ˆå¦‚ Shapefileï¼‰ï¼Œå¾—åˆ°<code>GeoDataFrame</code>ã€‚</p>
<p><strong>ç»˜åˆ¶åœ°å›¾</strong>ï¼šç”¨<code>GeoDataFrame.plot()</code>ç›´æ¥ç»˜åˆ¶ï¼Œé»˜è®¤æ˜¾ç¤ºå‡ ä½•å½¢çŠ¶ã€‚</p>
<p><strong>æ˜¾ç¤ºå›¾åƒ</strong>ï¼šç”¨<code>plt.show()</code>å±•ç¤ºåœ°å›¾ã€‚</p>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> geopandas <span class="hljs-keyword">as</span> gpd
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

<span class="hljs-comment"># 1. è¯»å–æ•°æ®</span>
gdf = gpd.read_file(<span class="hljs-string">"åœ°å—æ•°æ®.shp"</span>)  <span class="hljs-comment"># å«geometryåˆ—ï¼ˆå‡ ä½•å½¢çŠ¶ï¼‰</span>

<span class="hljs-comment"># 2. ç»˜åˆ¶åŸºç¡€åœ°å›¾</span>
ax = gdf.plot()  <span class="hljs-comment"># è¿”å›åæ ‡è½´å¯¹è±¡ï¼Œå¯ç”¨äºåç»­ä¼˜åŒ–</span>

<span class="hljs-comment"># 3. æ·»åŠ æ ‡é¢˜å¹¶æ˜¾ç¤º</span>
plt.title(<span class="hljs-string">"åŸºç¡€ç©ºé—´æ•°æ®å¯è§†åŒ–"</span>)
plt.show()
</code></pre>
<p><strong>å…³é”®å‡½æ•°</strong>ï¼š</p>
<blockquote>
<ul>
<li><code>gdf.plot()</code>ï¼šåŸºç¡€ç»˜å›¾å‡½æ•°ï¼Œé»˜è®¤ç”¨å•ä¸€é¢œè‰²ç»˜åˆ¶æ‰€æœ‰å‡ ä½•å¯¹è±¡ï¼›è¿”å›<code>matplotlib.axes.Axes</code>å¯¹è±¡ï¼Œä¾¿äºåç»­æ·»åŠ å¸ƒå±€å…ƒç´ ã€‚</li>
</ul>
</blockquote>
<h5 data-id="heading-30">äºŒã€åœ°å›¾å¸ƒå±€ä¸å›¾ä¾‹ä¼˜åŒ–ï¼ˆå¢å¼ºå¯è¯»æ€§ï¼‰</h5>
<p><strong>ç›®çš„</strong>ï¼šé€šè¿‡åˆ†ç±»ç€è‰²ã€æ·»åŠ å›¾ä¾‹ã€åæ ‡è½´æ ‡ç­¾ã€æŒ‡åŒ—é’ˆç­‰ï¼Œè®©åœ°å›¾æ›´æ˜“ç†è§£ï¼ˆå¦‚æŒ‰é¢ç§¯å¤§å°ç€è‰²ï¼Œå±•ç¤ºåŒºåŸŸå·®å¼‚ï¼‰ã€‚</p>
<h6 data-id="heading-31">æ ¸å¿ƒæ­¥éª¤ä¸å‡½æ•°</h6>
<blockquote>
<p><strong>åˆ›å»ºç”»å¸ƒä¸è½´</strong>ï¼šç”¨<code>plt.subplots(figsize=(å®½, é«˜))</code>å®šä¹‰åœ°å›¾å°ºå¯¸ï¼Œè·å¾—<code>fig</code>ï¼ˆç”»å¸ƒï¼‰å’Œ<code>ax</code>ï¼ˆè½´ï¼‰å¯¹è±¡ã€‚</p>
<p><strong>åˆ†ç±»ç€è‰²ç»˜å›¾</strong>ï¼šåœ¨<code>gdf.plot()</code>ä¸­é€šè¿‡<code>column</code>æŒ‡å®šåˆ†ç±»å­—æ®µï¼ˆå¦‚é¢ç§¯ï¼‰ï¼Œ<code>cmap</code>è®¾ç½®é¢œè‰²æ˜ å°„ï¼Œ<code>legend=True</code>æ·»åŠ å›¾ä¾‹ã€‚</p>
<p><strong>æ·»åŠ å¸ƒå±€å…ƒç´ </strong>ï¼š
æ ‡é¢˜ï¼š<code>plt.title()</code>ï¼›
åæ ‡è½´æ ‡ç­¾ï¼š<code>plt.xlabel()</code>ï¼ˆç»åº¦ï¼‰ã€<code>plt.ylabel()</code>ï¼ˆçº¬åº¦ï¼‰ï¼›
æŒ‡åŒ—é’ˆï¼šç”¨<code>ax.annotate()</code>æ·»åŠ ç®­å¤´æ ‡æ³¨ â€œNâ€ã€‚</p>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> geopandas <span class="hljs-keyword">as</span> gpd
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

<span class="hljs-comment"># 1. è¯»å–æ•°æ®</span>
gdf = gpd.read_file(<span class="hljs-string">"åœ°å—æ•°æ®.shp"</span>)

<span class="hljs-comment"># 2. åˆ›å»ºç”»å¸ƒï¼ˆ10x8è‹±å¯¸ï¼‰</span>
fig, ax = plt.subplots(figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">8</span>))

<span class="hljs-comment"># 3. æŒ‰"shape_area"ï¼ˆé¢ç§¯ï¼‰ç€è‰²ï¼Œç”¨"coolwarm"è‰²é˜¶ï¼Œæ˜¾ç¤ºå›¾ä¾‹</span>
gdf.plot(
    ax=ax,  <span class="hljs-comment"># æŒ‡å®šç»˜åˆ¶åˆ°åˆ›å»ºçš„è½´ä¸Š</span>
    column=<span class="hljs-string">"shape_area"</span>,  <span class="hljs-comment"># æŒ‰é¢ç§¯å­—æ®µåˆ†ç±»</span>
    cmap=<span class="hljs-string">"coolwarm"</span>,  <span class="hljs-comment"># é¢œè‰²æ˜ å°„ï¼ˆå†·åˆ°æš–ï¼Œä½“ç°å¤§å°å·®å¼‚ï¼‰</span>
    legend=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># æ˜¾ç¤ºå›¾ä¾‹</span>
    legend_kwds={<span class="hljs-string">"label"</span>: <span class="hljs-string">"åŒºåŸŸé¢ç§¯"</span>}  <span class="hljs-comment"># å›¾ä¾‹æ ‡ç­¾</span>
)

<span class="hljs-comment"># 4. æ·»åŠ å¸ƒå±€å…ƒç´ </span>
plt.title(<span class="hljs-string">"æŒ‰é¢ç§¯ç€è‰²çš„ç¤¾åŒºåœ°å›¾"</span>)  <span class="hljs-comment"># æ ‡é¢˜</span>
plt.xlabel(<span class="hljs-string">"ç»åº¦"</span>)  <span class="hljs-comment"># xè½´æ ‡ç­¾</span>
plt.ylabel(<span class="hljs-string">"çº¬åº¦"</span>)  <span class="hljs-comment"># yè½´æ ‡ç­¾</span>

<span class="hljs-comment"># æ·»åŠ æŒ‡åŒ—é’ˆï¼ˆç®­å¤´ä»ä¸‹åˆ°ä¸Šï¼Œæ ‡æ³¨"N"ï¼‰</span>
arrowprops = <span class="hljs-built_in">dict</span>(arrowstyle=<span class="hljs-string">"-&gt;"</span>, linewidth=<span class="hljs-number">1.5</span>, color=<span class="hljs-string">"black"</span>)  <span class="hljs-comment"># ç®­å¤´æ ·å¼</span>
ax.annotate(
    <span class="hljs-string">"N"</span>,  <span class="hljs-comment"># æ ‡æ³¨æ–‡æœ¬</span>
    xy=(<span class="hljs-number">0.06</span>, <span class="hljs-number">0.95</span>),  <span class="hljs-comment"># ç®­å¤´ç»ˆç‚¹ï¼ˆè½´åæ ‡ç³»ï¼š0-1ï¼Œå³ä¸Šè§’ä¸º(1,1)ï¼‰</span>
    xytext=(<span class="hljs-number">0.06</span>, <span class="hljs-number">0.89</span>),  <span class="hljs-comment"># ç®­å¤´èµ·ç‚¹</span>
    arrowprops=arrowprops,
    ha=<span class="hljs-string">"center"</span>, va=<span class="hljs-string">"center"</span>,  <span class="hljs-comment"># æ–‡æœ¬å¯¹é½æ–¹å¼</span>
    xycoords=<span class="hljs-string">"axes fraction"</span>  <span class="hljs-comment"># åæ ‡åŸºäºè½´æ¯”ä¾‹ï¼ˆè€Œéæ•°æ®åæ ‡ï¼‰</span>
)

<span class="hljs-comment"># 5. æ˜¾ç¤ºåœ°å›¾</span>
plt.show()
</code></pre>
<p><strong>å…³é”®å‚æ•°ä¸å‡½æ•°</strong>ï¼š</p>
<blockquote>
<ul>
<li><code>column</code>ï¼šæŒ‡å®šç”¨äºåˆ†ç±»ç€è‰²çš„å±æ€§åˆ—ï¼ˆå¦‚é¢ç§¯ã€äººå£ï¼‰ï¼Œå®ç° â€œthematic mapï¼ˆä¸“é¢˜å›¾ï¼‰â€ï¼›</li>
<li><code>cmap</code>ï¼šé¢œè‰²æ˜ å°„æ–¹æ¡ˆï¼ˆå¦‚<code>"coolwarm"</code>ã€<code>"viridis"</code>ï¼Œè§ Matplotlib å®˜æ–¹æ–‡æ¡£ï¼‰ï¼›</li>
<li><code>legend_kwds</code>ï¼šè‡ªå®šä¹‰å›¾ä¾‹ï¼ˆå¦‚æ ‡ç­¾ã€ä½ç½®ï¼‰ï¼›</li>
<li><code>ax.annotate()</code>ï¼šæ·»åŠ æ–‡æœ¬æ ‡æ³¨ï¼ˆå¦‚æŒ‡åŒ—é’ˆï¼‰ï¼Œ<code>xycoords="axes fraction"</code>ç¡®ä¿æ ‡æ³¨ä½ç½®ä¸éšæ•°æ®ç¼©æ”¾å˜åŒ–ã€‚</li>
</ul>
</blockquote>
<h5 data-id="heading-32">ä¸‰ã€åœ°å›¾è¾“å‡ºä¸ä¿å­˜ï¼ˆæŒä¹…åŒ–ç»“æœï¼‰</h5>
<p><strong>ç›®çš„</strong>ï¼šå°†ç»˜åˆ¶å¥½çš„åœ°å›¾ä¿å­˜ä¸ºå›¾ç‰‡æˆ–æ–‡æ¡£æ ¼å¼ï¼ˆå¦‚ PNGã€PDFï¼‰ï¼Œä¾¿äºåˆ†äº«æˆ–æŠ¥å‘Šä½¿ç”¨ã€‚</p>
<h6 data-id="heading-33">æ ¸å¿ƒæ­¥éª¤ä¸å‡½æ•°</h6>
<blockquote>
<p><strong>ç»˜åˆ¶å¹¶ä¼˜åŒ–åœ°å›¾</strong>ï¼šå®Œæˆå¸ƒå±€ï¼ˆæ ‡é¢˜ã€å›¾ä¾‹ç­‰ï¼‰åï¼Œè°ƒç”¨<code>plt.savefig()</code>ä¿å­˜ã€‚</p>
<p><strong>æŒ‡å®šä¿å­˜å‚æ•°</strong>ï¼š</p>
<ul>
<li>è·¯å¾„ä¸æ ¼å¼ï¼šæ–‡ä»¶ååç¼€å†³å®šæ ¼å¼ï¼ˆ<code>.png</code>ã€<code>.pdf</code>ã€<code>.jpg</code>ç­‰ï¼‰ï¼›</li>
<li><code>dpi</code>ï¼šåˆ†è¾¨ç‡ï¼ˆå¦‚ 300ï¼Œå€¼è¶Šé«˜è¶Šæ¸…æ™°ï¼‰ï¼›</li>
<li><code>bbox_inches="tight"</code>ï¼šé¿å…è¾¹ç¼˜å…ƒç´ ï¼ˆå¦‚å›¾ä¾‹ã€æ ‡é¢˜ï¼‰è¢«è£å‰ªã€‚</li>
</ul>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ï¼ˆæ‰¿æ¥ä¸Šæ–‡å¸ƒå±€ä¼˜åŒ–åçš„ä»£ç ï¼‰</span>
<span class="hljs-comment"># ä¿å­˜ä¸ºPNGï¼ˆé«˜åˆ†è¾¨ç‡ï¼‰</span>
plt.savefig(
    <span class="hljs-string">"ç¤¾åŒºé¢ç§¯åœ°å›¾.png"</span>,  <span class="hljs-comment"># è·¯å¾„+æ–‡ä»¶å</span>
    dpi=<span class="hljs-number">300</span>,  <span class="hljs-comment"># åˆ†è¾¨ç‡300dpiï¼ˆé€‚åˆæ‰“å°ï¼‰</span>
    bbox_inches=<span class="hljs-string">"tight"</span>  <span class="hljs-comment"># ç´§å‡‘å¸ƒå±€ï¼Œé¿å…è£å‰ª</span>
)

<span class="hljs-comment"># ä¿å­˜ä¸ºPDFï¼ˆçŸ¢é‡æ ¼å¼ï¼Œæ”¾å¤§ä¸å¤±çœŸï¼‰</span>
plt.savefig(
    <span class="hljs-string">"ç¤¾åŒºé¢ç§¯åœ°å›¾.pdf"</span>,
    bbox_inches=<span class="hljs-string">"tight"</span>  <span class="hljs-comment"># PDFæ— éœ€æŒ‡å®šdpiï¼Œé»˜è®¤çŸ¢é‡æ ¼å¼</span>
)
</code></pre>
<p><strong>å…³é”®è¯´æ˜</strong>ï¼š</p>
<ul>
<li>ä¿å­˜éœ€åœ¨<code>plt.show()</code>ä¹‹å‰è°ƒç”¨ï¼Œå¦åˆ™ç”»å¸ƒä¼šè¢«æ¸…ç©ºï¼›</li>
<li>çŸ¢é‡æ ¼å¼ï¼ˆPDFã€SVGï¼‰é€‚åˆç¼–è¾‘ï¼ˆå¦‚ç”¨ AI ä¿®æ”¹ï¼‰ï¼Œä½å›¾æ ¼å¼ï¼ˆPNGã€JPGï¼‰é€‚åˆç›´æ¥å±•ç¤ºï¼›</li>
<li><code>dpi</code>ä»…å¯¹ä½å›¾æœ‰æ•ˆï¼Œå»ºè®® 300dpi ç”¨äºå°åˆ·ï¼Œ150dpi ç”¨äºå±å¹•æ˜¾ç¤ºã€‚</li>
</ul>
<h4 data-id="heading-34">æ€»ç»“</h4>
<p>ç©ºé—´æ•°æ®å¯è§†åŒ–çš„æ ¸å¿ƒæµç¨‹æ˜¯ï¼š</p>
<ol>
<li><strong>åŸºç¡€ç»˜åˆ¶</strong>ï¼š<code>read_file()</code>è¯»æ•°æ® â†’Â <code>plot()</code>ç»˜åœ°å›¾ â†’Â <code>show()</code>å±•ç¤ºï¼›</li>
<li><strong>å¸ƒå±€ä¼˜åŒ–</strong>ï¼šç”¨<code>subplots()</code>å®šä¹‰å°ºå¯¸ â†’Â <code>column</code>+<code>cmap</code>åˆ†ç±»ç€è‰² â†’ æ·»åŠ æ ‡é¢˜ã€å›¾ä¾‹ã€æŒ‡åŒ—é’ˆï¼›</li>
<li><strong>ä¿å­˜è¾“å‡º</strong>ï¼š<code>savefig()</code>æŒ‰æ ¼å¼ä¿å­˜ï¼Œé€šè¿‡<code>dpi</code>å’Œ<code>bbox_inches</code>æ§åˆ¶è´¨é‡ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter ç½‘ç»œè¯·æ±‚æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7573904312713576483</link>    <guid>https://juejin.cn/post/7573904312713576483</guid>    <pubDate>2025-11-19T03:52:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573904312713576483" data-draft-id="7573904312713560099" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter ç½‘ç»œè¯·æ±‚æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="Flutter"/> <meta itemprop="datePublished" content="2025-11-19T03:52:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœ¨æ˜“å£«å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/588993963763751"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter ç½‘ç»œè¯·æ±‚æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/588993963763751/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœ¨æ˜“å£«å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T03:52:50.000Z" title="Wed Nov 19 2025 03:52:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>@<a href="https://link.juejin.cn?target=%25E7%259B%25AE%25E5%25BD%2595" target="_blank" title="%E7%9B%AE%E5%BD%95" ref="nofollow noopener noreferrer">TOC</a></p>
<h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒç½‘ç»œè¯·æ±‚åº“å¯¹æ¯”</h2>
<h3 data-id="heading-1">1. å¸¸ç”¨åº“ç‰¹æ€§å¯¹æ¯”</h3>
<p>åœ¨ Flutter å¼€å‘ä¸­ï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ç½‘ç»œè¯·æ±‚åº“æ˜¯æ„å»ºç¨³å®šåº”ç”¨çš„ç¬¬ä¸€æ­¥ã€‚ä¸åŒçš„é¡¹ç›®è§„æ¨¡å’Œå›¢é˜ŸèƒŒæ™¯éœ€è¦ä¸åŒçš„æŠ€æœ¯æ ˆæ”¯æŒã€‚<code>http</code>ã€<code>dio</code>ã€<code>retrofit</code> å’Œ <code>chopper</code> æ˜¯ç›®å‰æœ€ä¸»æµçš„å‡ ç§é€‰æ‹©ã€‚</p>
<ul>
<li><strong><code>http</code></strong>ï¼šç”± Flutter å®˜æ–¹å›¢é˜Ÿç»´æŠ¤ï¼Œè½»é‡ã€ç®€æ´ï¼Œé€‚åˆåˆå­¦è€…æˆ–å¯¹ç½‘ç»œåŠŸèƒ½è¦æ±‚ä¸é«˜çš„å°å‹é¡¹ç›®ã€‚å®ƒæ²¡æœ‰å†…ç½®æ‹¦æˆªå™¨ã€åºåˆ—åŒ–ã€è¶…æ—¶ç­‰é«˜çº§åŠŸèƒ½ï¼Œæ‰€æœ‰é€»è¾‘éƒ½éœ€è¦æ‰‹åŠ¨å®ç°ã€‚</li>
<li><strong><code>dio</code></strong>ï¼šåŠŸèƒ½æä¸ºå¼ºå¤§ï¼Œæ”¯æŒæ‹¦æˆªå™¨ã€è¯·æ±‚/å“åº”æ‹¦æˆªã€æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ã€è¶…æ—¶é…ç½®ã€è‡ªåŠ¨è§£æã€å–æ¶ˆè¯·æ±‚ç­‰ï¼Œæ˜¯ä¸­å¤§å‹é¡¹ç›®çš„é¦–é€‰ã€‚å…¶ API è®¾è®¡æ¸…æ™°ï¼Œæ‰©å±•æ€§å¼ºï¼Œç¤¾åŒºç”Ÿæ€æˆç†Ÿã€‚</li>
<li><strong><code>retrofit</code> / <code>chopper</code></strong>ï¼šå€Ÿé‰´äº† Android å¹³å°çš„ Retrofit æ¡†æ¶æ€æƒ³ï¼Œé‡‡ç”¨æ³¨è§£æ–¹å¼å®šä¹‰æ¥å£ï¼Œä»£ç ç»“æ„ä¼˜é›…ï¼Œé€‚åˆæœ‰ Android èƒŒæ™¯çš„å¼€å‘è€…ã€‚ä½†å®ƒä»¬ä¾èµ–ä»£ç ç”Ÿæˆå™¨ï¼Œåœ¨çµæ´»æ€§å’Œè°ƒè¯•ä¸Šç•¥é€Šäº dioï¼Œä¸”ç”Ÿæ€ç›¸å¯¹è¾ƒå°ã€‚</li>
</ul>
<blockquote>
<p><strong>æ€»ç»“å»ºè®®</strong>ï¼š</p>
</blockquote>
<ul>
<li><code>dio</code> æ˜¯æœ€å…¨é¢ã€åŠŸèƒ½æœ€å¼ºå¤§çš„é€‰æ‹©ï¼Œé€‚åˆä¸­å¤§å‹é¡¹ç›®ã€‚</li>
<li><code>http</code> è½»é‡ç®€å•ï¼Œé€‚åˆå°å‹é¡¹ç›®æˆ–å­¦ä¹ ä½¿ç”¨ã€‚</li>
<li><code>retrofit</code> å’Œ <code>chopper</code> æä¾›ç±»ä¼¼ Retrofit çš„æ³¨è§£é£æ ¼ï¼Œé€‚åˆä¹ æƒ¯ Android å¼€å‘çš„å›¢é˜Ÿï¼Œä½†ç”Ÿæ€å’Œçµæ´»æ€§ç•¥é€Šäº dioã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-2">äºŒã€Dio æ·±åº¦ä½¿ç”¨æŒ‡å—</h2>
<h3 data-id="heading-3">1. åŸºç¡€é…ç½®ä¸åˆå§‹åŒ–</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// dio_client.dart</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DioClient</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> DioClient _instance = DioClient._internal();
  <span class="hljs-keyword">factory</span> DioClient() =&gt; _instance;
  DioClient._internal() {
    _init();
  }

  <span class="hljs-keyword">late</span> Dio dio;

  <span class="hljs-keyword">void</span> _init() {
    dio = Dio(
      BaseOptions(
        baseUrl: <span class="hljs-string">'https://api.example.com'</span>,
        connectTimeout: <span class="hljs-keyword">const</span> <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">30</span>),
        receiveTimeout: <span class="hljs-keyword">const</span> <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">30</span>),
        sendTimeout: <span class="hljs-keyword">const</span> <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">30</span>),
        headers: {
          <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,
          <span class="hljs-string">'Accept'</span>: <span class="hljs-string">'application/json'</span>,
        },
      ),
    );

    <span class="hljs-comment">// æ·»åŠ æ‹¦æˆªå™¨</span>
    dio.interceptors.addAll([
      _getLogInterceptor(),
      _getAuthInterceptor(),
      _getErrorInterceptor(),
      _getCacheInterceptor(),
    ]);
  }

  Interceptor _getLogInterceptor() {
    <span class="hljs-keyword">return</span> LogInterceptor(
      request: <span class="hljs-keyword">true</span>,
      requestBody: <span class="hljs-keyword">true</span>,
      responseBody: <span class="hljs-keyword">true</span>,
      responseHeader: <span class="hljs-keyword">false</span>,
      error: <span class="hljs-keyword">true</span>,
      logPrint: (log) =&gt; debugPrint(<span class="hljs-string">'Dio: <span class="hljs-subst">$log</span>'</span>),
    );
  }

  Interceptor _getAuthInterceptor() {
    <span class="hljs-keyword">return</span> InterceptorsWrapper(
      onRequest: (options, handler) <span class="hljs-keyword">async</span> {
        <span class="hljs-comment">// æ·»åŠ è®¤è¯token</span>
        <span class="hljs-keyword">final</span> token = <span class="hljs-keyword">await</span> _getAuthToken();
        <span class="hljs-keyword">if</span> (token != <span class="hljs-keyword">null</span>) {
          options.headers[<span class="hljs-string">'Authorization'</span>] = <span class="hljs-string">'Bearer <span class="hljs-subst">$token</span>'</span>;
        }
        <span class="hljs-keyword">return</span> handler.next(options);
      },
      onResponse: (response, handler) {
        <span class="hljs-comment">// ç»Ÿä¸€å¤„ç†å“åº”</span>
        <span class="hljs-keyword">return</span> handler.next(response);
      },
      onError: (DioException error, handler) <span class="hljs-keyword">async</span> {
        <span class="hljs-comment">// Tokenè¿‡æœŸå¤„ç†</span>
        <span class="hljs-keyword">if</span> (error.response?.statusCode == <span class="hljs-number">401</span>) {
          <span class="hljs-keyword">final</span> newToken = <span class="hljs-keyword">await</span> _refreshToken();
          <span class="hljs-keyword">if</span> (newToken != <span class="hljs-keyword">null</span>) {
            <span class="hljs-comment">// é‡æ–°å‘èµ·è¯·æ±‚</span>
            <span class="hljs-keyword">final</span> request = error.requestOptions;
            request.headers[<span class="hljs-string">'Authorization'</span>] = <span class="hljs-string">'Bearer <span class="hljs-subst">$newToken</span>'</span>;
            <span class="hljs-keyword">return</span> handler.resolve(<span class="hljs-keyword">await</span> dio.fetch(request));
          }
        }
        <span class="hljs-keyword">return</span> handler.next(error);
      },
    );
  }

  Interceptor _getErrorInterceptor() {
    <span class="hljs-keyword">return</span> InterceptorsWrapper(
      onError: (DioException error, handler) {
        <span class="hljs-comment">// ç»Ÿä¸€é”™è¯¯å¤„ç†</span>
        <span class="hljs-keyword">final</span> networkError = _handleDioError(error);
        <span class="hljs-keyword">return</span> handler.reject(networkError);
      },
    );
  }

  Interceptor _getCacheInterceptor() {
    <span class="hljs-keyword">return</span> InterceptorsWrapper(
      onRequest: (options, handler) <span class="hljs-keyword">async</span> {
        <span class="hljs-comment">// ç¼“å­˜å¤„ç†</span>
        <span class="hljs-keyword">if</span> (options.extra[<span class="hljs-string">'cache'</span>] == <span class="hljs-keyword">true</span>) {
          <span class="hljs-keyword">final</span> cachedResponse = <span class="hljs-keyword">await</span> _getCachedResponse(options);
          <span class="hljs-keyword">if</span> (cachedResponse != <span class="hljs-keyword">null</span>) {
            <span class="hljs-keyword">return</span> handler.resolve(cachedResponse);
          }
        }
        <span class="hljs-keyword">return</span> handler.next(options);
      },
      onResponse: (response, handler) <span class="hljs-keyword">async</span> {
        <span class="hljs-comment">// ç¼“å­˜å“åº”</span>
        <span class="hljs-keyword">if</span> (response.requestOptions.extra[<span class="hljs-string">'cache'</span>] == <span class="hljs-keyword">true</span>) {
          <span class="hljs-keyword">await</span> _cacheResponse(response);
        }
        <span class="hljs-keyword">return</span> handler.next(response);
      },
    );
  }

  Future&lt;<span class="hljs-built_in">String?</span>&gt; _getAuthToken() <span class="hljs-keyword">async</span> {
    <span class="hljs-comment">// ä»æœ¬åœ°å­˜å‚¨è·å–token</span>
    <span class="hljs-keyword">final</span> prefs = <span class="hljs-keyword">await</span> SharedPreferences.getInstance();
    <span class="hljs-keyword">return</span> prefs.getString(<span class="hljs-string">'auth_token'</span>);
  }

  Future&lt;<span class="hljs-built_in">String?</span>&gt; _refreshToken() <span class="hljs-keyword">async</span> {
    <span class="hljs-comment">// åˆ·æ–°tokené€»è¾‘</span>
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> response = <span class="hljs-keyword">await</span> dio.post(<span class="hljs-string">'/refresh-token'</span>);
      <span class="hljs-keyword">final</span> newToken = response.data[<span class="hljs-string">'token'</span>];
      <span class="hljs-keyword">final</span> prefs = <span class="hljs-keyword">await</span> SharedPreferences.getInstance();
      <span class="hljs-keyword">await</span> prefs.setString(<span class="hljs-string">'auth_token'</span>, newToken);
      <span class="hljs-keyword">return</span> newToken;
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
    }
  }

  DioException _handleDioError(DioException error) {
    <span class="hljs-keyword">switch</span> (error.type) {
      <span class="hljs-keyword">case</span> DioExceptionType.connectionTimeout:
      <span class="hljs-keyword">case</span> DioExceptionType.sendTimeout:
      <span class="hljs-keyword">case</span> DioExceptionType.receiveTimeout:
        <span class="hljs-keyword">return</span> DioException(
          requestOptions: error.requestOptions,
          error: <span class="hljs-string">'ç½‘ç»œè¿æ¥è¶…æ—¶ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®'</span>,
        );
      <span class="hljs-keyword">case</span> DioExceptionType.badResponse:
        <span class="hljs-keyword">return</span> _handleBadResponse(error);
      <span class="hljs-keyword">case</span> DioExceptionType.cancel:
        <span class="hljs-keyword">return</span> DioException(
          requestOptions: error.requestOptions,
          error: <span class="hljs-string">'è¯·æ±‚å·²å–æ¶ˆ'</span>,
        );
      <span class="hljs-keyword">case</span> DioExceptionType.unknown:
        <span class="hljs-keyword">return</span> DioException(
          requestOptions: error.requestOptions,
          error: <span class="hljs-string">'ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®'</span>,
        );
      <span class="hljs-keyword">default</span>:
        <span class="hljs-keyword">return</span> error;
    }
  }

  DioException _handleBadResponse(DioException error) {
    <span class="hljs-keyword">final</span> statusCode = error.response?.statusCode;
    <span class="hljs-keyword">final</span> message = error.response?.data?[<span class="hljs-string">'message'</span>] ?? <span class="hljs-string">'è¯·æ±‚å¤±è´¥'</span>;
    
    <span class="hljs-built_in">String</span> errorMessage;
    <span class="hljs-keyword">switch</span> (statusCode) {
      <span class="hljs-keyword">case</span> <span class="hljs-number">400</span>:
        errorMessage = <span class="hljs-string">'è¯·æ±‚å‚æ•°é”™è¯¯'</span>;
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">401</span>:
        errorMessage = <span class="hljs-string">'æœªæˆæƒï¼Œè¯·é‡æ–°ç™»å½•'</span>;
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">403</span>:
        errorMessage = <span class="hljs-string">'è®¿é—®è¢«æ‹’ç»'</span>;
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">404</span>:
        errorMessage = <span class="hljs-string">'è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨'</span>;
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">500</span>:
        errorMessage = <span class="hljs-string">'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯'</span>;
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">502</span>:
        errorMessage = <span class="hljs-string">'ç½‘å…³é”™è¯¯'</span>;
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">503</span>:
        errorMessage = <span class="hljs-string">'æœåŠ¡ä¸å¯ç”¨'</span>;
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">default</span>:
        errorMessage = message;
    }
    
    <span class="hljs-keyword">return</span> DioException(
      requestOptions: error.requestOptions,
      error: errorMessage,
      response: error.response,
    );
  }

  Future&lt;Response?&gt; _getCachedResponse(RequestOptions options) <span class="hljs-keyword">async</span> {
    <span class="hljs-comment">// å®ç°ç¼“å­˜é€»è¾‘</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
  }

  Future&lt;<span class="hljs-keyword">void</span>&gt; _cacheResponse(Response response) <span class="hljs-keyword">async</span> {
    <span class="hljs-comment">// å®ç°ç¼“å­˜å­˜å‚¨é€»è¾‘</span>
  }
}
</code></pre>
<h4 data-id="heading-4">è¯¦ç»†è¯´æ˜ï¼šDio å®¢æˆ·ç«¯çš„å•ä¾‹æ¨¡å¼ä¸æ‹¦æˆªå™¨ä½“ç³»</h4>
<p>ä¸Šè¿°ä»£ç å®ç°äº†ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ <code>DioClient</code>ï¼Œé‡‡ç”¨ <strong>å•ä¾‹æ¨¡å¼</strong>ï¼ˆSingleton Patternï¼‰ï¼Œç¡®ä¿æ•´ä¸ªåº”ç”¨åªå­˜åœ¨ä¸€ä¸ª Dio å®ä¾‹ï¼Œé¿å…é‡å¤åˆ›å»ºå’Œèµ„æºæµªè´¹ã€‚</p>
<p><code>BaseOptions</code> é…ç½®äº†åŸºç¡€è¯·æ±‚å‚æ•°ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li><code>baseUrl</code>ï¼šæ‰€æœ‰è¯·æ±‚çš„å‰ç¼€ï¼Œå‡å°‘é‡å¤è¾“å…¥ã€‚</li>
<li><code>timeout</code>ï¼šè¿æ¥ã€å‘é€ã€æ¥æ”¶è¶…æ—¶æ—¶é—´ï¼Œé˜²æ­¢è¯·æ±‚æ— é™ç­‰å¾…ã€‚</li>
<li><code>headers</code>ï¼šé»˜è®¤è¯·æ±‚å¤´ï¼Œå¦‚å†…å®¹ç±»å‹å’Œæ¥å—æ ¼å¼ã€‚</li>
</ul>
<p><strong>æ‹¦æˆªå™¨ï¼ˆInterceptorsï¼‰</strong> æ˜¯ Dio çš„æ ¸å¿ƒç‰¹æ€§ä¹‹ä¸€ï¼Œå…è®¸ä½ åœ¨è¯·æ±‚/å“åº”ç”Ÿå‘½å‘¨æœŸä¸­æ’å…¥è‡ªå®šä¹‰é€»è¾‘ï¼š</p>
<ul>
<li><strong>æ—¥å¿—æ‹¦æˆªå™¨</strong>ï¼šæ‰“å°è¯·æ±‚å’Œå“åº”å†…å®¹ï¼Œä¾¿äºè°ƒè¯•ã€‚</li>
<li><strong>é‰´æƒæ‹¦æˆªå™¨</strong>ï¼šåœ¨æ¯ä¸ªè¯·æ±‚å¤´ä¸­è‡ªåŠ¨æ·»åŠ  <code>Authorization</code>ï¼Œå¹¶å¤„ç† 401 é”™è¯¯æ—¶çš„ token åˆ·æ–°ä¸é‡è¯•æœºåˆ¶ï¼ˆå³â€œè‡ªåŠ¨ç»­ç­¾â€ï¼‰ã€‚</li>
<li><strong>é”™è¯¯æ‹¦æˆªå™¨</strong>ï¼šå°† Dio çš„åŸç”Ÿå¼‚å¸¸è½¬æ¢ä¸ºæ›´å‹å¥½çš„ç”¨æˆ·æç¤ºä¿¡æ¯ã€‚</li>
<li><strong>ç¼“å­˜æ‹¦æˆªå™¨</strong>ï¼šæ ¹æ®è¯·æ±‚é…ç½®å†³å®šæ˜¯å¦è¯»å–æˆ–å†™å…¥ç¼“å­˜ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li>
</ul>
<p>è¯¥è®¾è®¡å®ç°äº†<strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong>ï¼Œè®©ç½‘ç»œå±‚å…·å¤‡æ—¥å¿—ã€å®‰å…¨ã€å®¹é”™ã€æ€§èƒ½ä¼˜åŒ–ç­‰ä¼ä¸šçº§èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-5">ä¸‰ã€é«˜çº§è¯·æ±‚å°è£…</h2>
<h3 data-id="heading-6">1. API æœåŠ¡ç±»å°è£…</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// api_service.dart</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ApiService</span> </span>{
  <span class="hljs-keyword">final</span> DioClient _dioClient;

  ApiService(<span class="hljs-keyword">this</span>._dioClient);

  <span class="hljs-comment">// GET è¯·æ±‚å°è£…</span>
  Future&lt;ApiResponse&lt;T&gt;&gt; <span class="hljs-keyword">get</span>&lt;T&gt;(
    <span class="hljs-built_in">String</span> path, {
    <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt;? queryParameters,
    <span class="hljs-built_in">bool</span> cache = <span class="hljs-keyword">false</span>,
    T <span class="hljs-built_in">Function</span>(<span class="hljs-built_in">dynamic</span>)? fromJson,
  }) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> response = <span class="hljs-keyword">await</span> _dioClient.dio.<span class="hljs-keyword">get</span>(
        path,
        queryParameters: queryParameters,
        options: Options(extra: {<span class="hljs-string">'cache'</span>: cache}),
      );
      
      <span class="hljs-keyword">return</span> _handleResponse&lt;T&gt;(response, fromJson);
    } <span class="hljs-keyword">on</span> DioException <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> ApiResponse.error(message: e.error?.toString() ?? <span class="hljs-string">'ç½‘ç»œè¯·æ±‚å¤±è´¥'</span>);
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> ApiResponse.error(message: <span class="hljs-string">'æœªçŸ¥é”™è¯¯: <span class="hljs-subst">$e</span>'</span>);
    }
  }

  <span class="hljs-comment">// POST è¯·æ±‚å°è£…</span>
  Future&lt;ApiResponse&lt;T&gt;&gt; post&lt;T&gt;(
    <span class="hljs-built_in">String</span> path, {
    <span class="hljs-built_in">dynamic</span> data,
    T <span class="hljs-built_in">Function</span>(<span class="hljs-built_in">dynamic</span>)? fromJson,
  }) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> response = <span class="hljs-keyword">await</span> _dioClient.dio.post(
        path,
        data: data,
      );
      
      <span class="hljs-keyword">return</span> _handleResponse&lt;T&gt;(response, fromJson);
    } <span class="hljs-keyword">on</span> DioException <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> ApiResponse.error(message: e.error?.toString() ?? <span class="hljs-string">'ç½‘ç»œè¯·æ±‚å¤±è´¥'</span>);
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> ApiResponse.error(message: <span class="hljs-string">'æœªçŸ¥é”™è¯¯: <span class="hljs-subst">$e</span>'</span>);
    }
  }

  <span class="hljs-comment">// æ–‡ä»¶ä¸Šä¼ </span>
  Future&lt;ApiResponse&lt;T&gt;&gt; upload&lt;T&gt;(
    <span class="hljs-built_in">String</span> path,
    <span class="hljs-built_in">String</span> filePath, {
    T <span class="hljs-built_in">Function</span>(<span class="hljs-built_in">dynamic</span>)? fromJson,
    ProgressCallback? onSendProgress,
  }) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> formData = FormData.fromMap({
        <span class="hljs-string">'file'</span>: <span class="hljs-keyword">await</span> MultipartFile.fromFile(filePath),
      });

      <span class="hljs-keyword">final</span> response = <span class="hljs-keyword">await</span> _dioClient.dio.post(
        path,
        data: formData,
        onSendProgress: onSendProgress,
      );
      
      <span class="hljs-keyword">return</span> _handleResponse&lt;T&gt;(response, fromJson);
    } <span class="hljs-keyword">on</span> DioException <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> ApiResponse.error(message: e.error?.toString() ?? <span class="hljs-string">'æ–‡ä»¶ä¸Šä¼ å¤±è´¥'</span>);
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> ApiResponse.error(message: <span class="hljs-string">'æœªçŸ¥é”™è¯¯: <span class="hljs-subst">$e</span>'</span>);
    }
  }

  <span class="hljs-comment">// å¤šæ–‡ä»¶ä¸Šä¼ </span>
  Future&lt;ApiResponse&lt;T&gt;&gt; uploadMultiple&lt;T&gt;(
    <span class="hljs-built_in">String</span> path,
    <span class="hljs-built_in">List</span>&lt;<span class="hljs-built_in">String</span>&gt; filePaths, {
    T <span class="hljs-built_in">Function</span>(<span class="hljs-built_in">dynamic</span>)? fromJson,
    ProgressCallback? onSendProgress,
  }) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> formData = FormData();

      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">final</span> filePath <span class="hljs-keyword">in</span> filePaths) {
        formData.files.add(MapEntry(
          <span class="hljs-string">'files'</span>,
          <span class="hljs-keyword">await</span> MultipartFile.fromFile(filePath),
        ));
      }

      <span class="hljs-keyword">final</span> response = <span class="hljs-keyword">await</span> _dioClient.dio.post(
        path,
        data: formData,
        onSendProgress: onSendProgress,
      );
      
      <span class="hljs-keyword">return</span> _handleResponse&lt;T&gt;(response, fromJson);
    } <span class="hljs-keyword">on</span> DioException <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> ApiResponse.error(message: e.error?.toString() ?? <span class="hljs-string">'æ–‡ä»¶ä¸Šä¼ å¤±è´¥'</span>);
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> ApiResponse.error(message: <span class="hljs-string">'æœªçŸ¥é”™è¯¯: <span class="hljs-subst">$e</span>'</span>);
    }
  }

  <span class="hljs-comment">// æ–‡ä»¶ä¸‹è½½</span>
  Future&lt;ApiResponse&lt;<span class="hljs-built_in">String</span>&gt;&gt; download(
    <span class="hljs-built_in">String</span> url,
    <span class="hljs-built_in">String</span> savePath, {
    ProgressCallback? onReceiveProgress,
  }) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> response = <span class="hljs-keyword">await</span> _dioClient.dio.download(
        url,
        savePath,
        onReceiveProgress: onReceiveProgress,
      );
      
      <span class="hljs-keyword">if</span> (response.statusCode == <span class="hljs-number">200</span>) {
        <span class="hljs-keyword">return</span> ApiResponse.success(data: savePath);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> ApiResponse.error(message: <span class="hljs-string">'ä¸‹è½½å¤±è´¥'</span>);
      }
    } <span class="hljs-keyword">on</span> DioException <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> ApiResponse.error(message: e.error?.toString() ?? <span class="hljs-string">'ä¸‹è½½å¤±è´¥'</span>);
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> ApiResponse.error(message: <span class="hljs-string">'æœªçŸ¥é”™è¯¯: <span class="hljs-subst">$e</span>'</span>);
    }
  }

  <span class="hljs-comment">// å–æ¶ˆè¯·æ±‚</span>
  CancelToken createCancelToken() =&gt; CancelToken();

  ApiResponse&lt;T&gt; _handleResponse&lt;T&gt;(Response response, T <span class="hljs-built_in">Function</span>(<span class="hljs-built_in">dynamic</span>)? fromJson) {
    <span class="hljs-keyword">if</span> (response.statusCode == <span class="hljs-number">200</span>) {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">final</span> data = response.data;
        
        <span class="hljs-keyword">if</span> (fromJson != <span class="hljs-keyword">null</span>) {
          <span class="hljs-keyword">final</span> parsedData = fromJson(data);
          <span class="hljs-keyword">return</span> ApiResponse.success(data: parsedData);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">return</span> ApiResponse.success(data: data <span class="hljs-keyword">as</span> T);
        }
      } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-keyword">return</span> ApiResponse.error(message: <span class="hljs-string">'æ•°æ®è§£æå¤±è´¥: <span class="hljs-subst">$e</span>'</span>);
      }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> ApiResponse.error(
        message: <span class="hljs-string">'è¯·æ±‚å¤±è´¥: <span class="hljs-subst">${response.statusCode}</span>'</span>,
        code: response.statusCode,
      );
    }
  }
}
</code></pre>
<h4 data-id="heading-7">è¯¦ç»†è¯´æ˜ï¼šç»Ÿä¸€ API æœåŠ¡å±‚çš„è®¾è®¡æ€æƒ³</h4>
<p><code>ApiService</code> æ˜¯å¯¹ Dio çš„è¿›ä¸€æ­¥å°è£…ï¼Œå±è”½åº•å±‚ç»†èŠ‚ï¼Œæä¾›æ›´é«˜å±‚æ¬¡çš„ API æ¥å£ã€‚</p>
<ul>
<li><strong>æ³›å‹æ”¯æŒ</strong>ï¼šé€šè¿‡ <code>&lt;T&gt;</code> æ”¯æŒä»»æ„æ•°æ®ç±»å‹çš„è¿”å›ï¼Œç»“åˆ <code>fromJson</code> å›è°ƒå®Œæˆ JSON åˆ°æ¨¡å‹çš„è½¬æ¢ã€‚</li>
<li><strong>ç»Ÿä¸€é”™è¯¯å¤„ç†</strong>ï¼šæ•è· <code>DioException</code> å¹¶å°è£…ä¸º <code>ApiResponse.error</code>ï¼Œé¿å…åœ¨ UI å±‚å¤„ç†åŸå§‹å¼‚å¸¸ã€‚</li>
<li><strong>æ–‡ä»¶æ“ä½œæ”¯æŒ</strong>ï¼šå°è£…å•/å¤šæ–‡ä»¶ä¸Šä¼ ä¸ä¸‹è½½ï¼Œæ”¯æŒè¿›åº¦ç›‘å¬ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li>
<li><strong>å“åº”å¤„ç†æŠ½è±¡</strong>ï¼š<code>_handleResponse</code> æ–¹æ³•ç»Ÿä¸€åˆ¤æ–­çŠ¶æ€ç ã€è§£ææ•°æ®ã€å¤„ç†å¼‚å¸¸ï¼Œç¡®ä¿æ‰€æœ‰è¯·æ±‚éµå¾ªç›¸åŒé€»è¾‘ã€‚</li>
<li><strong>å–æ¶ˆè¯·æ±‚èƒ½åŠ›</strong>ï¼šæš´éœ² <code>CancelToken</code>ï¼Œå¯åœ¨é¡µé¢é”€æ¯æˆ–ç”¨æˆ·å–æ¶ˆæ—¶ä¸­æ–­è¯·æ±‚ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚</li>
</ul>
<p>è¿™ç§å°è£…æ–¹å¼ä½¿å¾—ä¸šåŠ¡ä»£ç åªéœ€å…³å¿ƒâ€œè°ƒä»€ä¹ˆæ¥å£â€ï¼Œè€Œä¸å¿…é‡å¤ç¼–å†™ try-catchã€è§£æã€é”™è¯¯æç¤ºç­‰æ¨¡æ¿ä»£ç ã€‚</p>
<h3 data-id="heading-8">2. ç»Ÿä¸€å“åº”æ¨¡å‹</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// ç»Ÿä¸€å“åº”æ¨¡å‹</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ApiResponse</span>&lt;<span class="hljs-title">T</span>&gt; </span>{
  <span class="hljs-keyword">final</span> T? data;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String?</span> message;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">int?</span> code;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">bool</span> success;

  ApiResponse({
    <span class="hljs-keyword">this</span>.data,
    <span class="hljs-keyword">this</span>.message,
    <span class="hljs-keyword">this</span>.code,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.success,
  });

  <span class="hljs-keyword">factory</span> ApiResponse.success({T? data, <span class="hljs-built_in">String?</span> message}) {
    <span class="hljs-keyword">return</span> ApiResponse(
      data: data,
      message: message,
      success: <span class="hljs-keyword">true</span>,
    );
  }

  <span class="hljs-keyword">factory</span> ApiResponse.error({<span class="hljs-built_in">String?</span> message, <span class="hljs-built_in">int?</span> code}) {
    <span class="hljs-keyword">return</span> ApiResponse(
      message: message,
      code: code,
      success: <span class="hljs-keyword">false</span>,
    );
  }

  <span class="hljs-built_in">bool</span> <span class="hljs-keyword">get</span> hasData =&gt; data != <span class="hljs-keyword">null</span>;
}
</code></pre>
<h4 data-id="heading-9">è¯¦ç»†è¯´æ˜ï¼šæ ‡å‡†åŒ–å“åº”ç»“æ„çš„ä»·å€¼</h4>
<p><code>ApiResponse&lt;T&gt;</code> æ˜¯ä¸€ä¸ªæ³›å‹å®¹å™¨ç±»ï¼Œç”¨äºåŒ…è£…æ‰€æœ‰ç½‘ç»œè¯·æ±‚çš„ç»“æœã€‚</p>
<p>å®ƒå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>ç»“æ„ç»Ÿä¸€</strong>ï¼šæ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œè¿”å›å€¼éƒ½ç¬¦åˆåŒä¸€ç»“æ„ï¼Œä¾¿äºçŠ¶æ€ç®¡ç†ã€‚</li>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼šé€šè¿‡æ³›å‹ <code>T</code> æ˜ç¡®æŒ‡å®šæ•°æ®ç±»å‹ï¼Œé¿å…ç±»å‹è½¬æ¢é”™è¯¯ã€‚</li>
<li><strong>è¯­ä¹‰æ¸…æ™°</strong>ï¼š<code>success</code> å­—æ®µæ˜ç¡®æ ‡è¯†è¯·æ±‚ç»“æœï¼Œ<code>hasData</code> å¿«é€Ÿåˆ¤æ–­æ˜¯å¦æœ‰æœ‰æ•ˆæ•°æ®ã€‚</li>
<li><strong>ä¾¿äº UI æ˜¾ç¤º</strong>ï¼š<code>message</code> å¯ç›´æ¥ç”¨äº Toast æˆ–é”™è¯¯æç¤ºæ¡†ã€‚</li>
</ul>
<p>è¯¥æ¨¡å‹æ˜¯è¿æ¥ç½‘ç»œå±‚ä¸ UI å±‚çš„æ¡¥æ¢ï¼Œæå¤§æå‡äº†ä»£ç çš„å¯è¯»æ€§å’Œå¥å£®æ€§ã€‚</p>
<h2 data-id="heading-10">å››ã€çŠ¶æ€ç®¡ç†é›†æˆ</h2>
<h3 data-id="heading-11">1. åŸºäº Riverpod çš„ç½‘ç»œçŠ¶æ€ç®¡ç†</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// network_providers.dart</span>
<span class="hljs-keyword">final</span> dioClientProvider = Provider&lt;DioClient&gt;((ref) {
  <span class="hljs-keyword">return</span> DioClient();
});

<span class="hljs-keyword">final</span> apiServiceProvider = Provider&lt;ApiService&gt;((ref) {
  <span class="hljs-keyword">final</span> dioClient = ref.watch(dioClientProvider);
  <span class="hljs-keyword">return</span> ApiService(dioClient);
});

<span class="hljs-comment">// ç”¨æˆ·ç›¸å…³API Provider</span>
<span class="hljs-keyword">final</span> userRepositoryProvider = Provider&lt;UserRepository&gt;((ref) {
  <span class="hljs-keyword">final</span> apiService = ref.watch(apiServiceProvider);
  <span class="hljs-keyword">return</span> UserRepository(apiService);
});

<span class="hljs-comment">// ç”¨æˆ·åˆ—è¡¨çŠ¶æ€ç®¡ç†</span>
<span class="hljs-keyword">final</span> usersProvider = StateNotifierProvider&lt;UsersNotifier, UsersState&gt;((ref) {
  <span class="hljs-keyword">final</span> userRepository = ref.watch(userRepositoryProvider);
  <span class="hljs-keyword">return</span> UsersNotifier(userRepository);
});
</code></pre>
<h4 data-id="heading-12">è¯¦ç»†è¯´æ˜ï¼šä¾èµ–æ³¨å…¥ä¸ Riverpod çš„ä¼˜é›…ç»“åˆ</h4>
<p>Riverpod æä¾›äº†å¼ºå¤§çš„ä¾èµ–æ³¨å…¥æœºåˆ¶ï¼Œä¸Šè¿°ä»£ç ä½¿ç”¨ <code>Provider</code> å’Œ <code>StateNotifierProvider</code> å®ç°äº†åˆ†å±‚è§£è€¦ï¼š</p>
<ul>
<li><code>dioClientProvider</code>ï¼šæä¾›å…¨å±€ Dio å®ä¾‹ã€‚</li>
<li><code>apiServiceProvider</code>ï¼šæ³¨å…¥ Dioï¼Œåˆ›å»º ApiServiceã€‚</li>
<li><code>userRepositoryProvider</code>ï¼šæ³¨å…¥ ApiServiceï¼Œåˆ›å»º UserRepositoryã€‚</li>
<li><code>usersProvider</code>ï¼šæ³¨å…¥ Repositoryï¼Œç®¡ç†ç”¨æˆ·åˆ—è¡¨çŠ¶æ€ã€‚</li>
</ul>
<p>è¿™ç§æ–¹å¼å®ç°äº† <strong>æ§åˆ¶åè½¬ï¼ˆIoCï¼‰</strong>ï¼Œç»„ä»¶ä¹‹é—´ä¸ç›´æ¥ä¾èµ–å…·ä½“å®ç°ï¼Œè€Œæ˜¯é€šè¿‡ Provider è·å–ä¾èµ–ï¼Œä¾¿äºæ›¿æ¢ã€æµ‹è¯•å’Œå¤ç”¨ã€‚</p>
<h3 data-id="heading-13">2. çŠ¶æ€å®šä¹‰</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UsersState</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;User&gt; users;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">bool</span> isLoading;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String?</span> error;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">bool</span> hasReachedMax;

  <span class="hljs-keyword">const</span> UsersState({
    <span class="hljs-keyword">this</span>.users = <span class="hljs-keyword">const</span> [],
    <span class="hljs-keyword">this</span>.isLoading = <span class="hljs-keyword">false</span>,
    <span class="hljs-keyword">this</span>.error,
    <span class="hljs-keyword">this</span>.hasReachedMax = <span class="hljs-keyword">false</span>,
  });

  UsersState copyWith({
    <span class="hljs-built_in">List</span>&lt;User&gt;? users,
    <span class="hljs-built_in">bool?</span> isLoading,
    <span class="hljs-built_in">String?</span> error,
    <span class="hljs-built_in">bool?</span> hasReachedMax,
  }) {
    <span class="hljs-keyword">return</span> UsersState(
      users: users ?? <span class="hljs-keyword">this</span>.users,
      isLoading: isLoading ?? <span class="hljs-keyword">this</span>.isLoading,
      error: error ?? <span class="hljs-keyword">this</span>.error,
      hasReachedMax: hasReachedMax ?? <span class="hljs-keyword">this</span>.hasReachedMax,
    );
  }
}
</code></pre>
<h4 data-id="heading-14">è¯¦ç»†è¯´æ˜ï¼šä¸å¯å˜çŠ¶æ€ï¼ˆImmutable Stateï¼‰çš„é‡è¦æ€§</h4>
<p><code>UsersState</code> æ˜¯ä¸€ä¸ªå…¸å‹çš„ä¸å¯å˜çŠ¶æ€ç±»ï¼Œæ‰€æœ‰å­—æ®µéƒ½æ˜¯ <code>final</code>ï¼Œé€šè¿‡ <code>copyWith</code> æ–¹æ³•åˆ›å»ºæ–°å®ä¾‹ã€‚</p>
<p>ä¼˜ç‚¹åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>é¿å…å‰¯ä½œç”¨</strong>ï¼šçŠ¶æ€ä¸ä¼šè¢«æ„å¤–ä¿®æ”¹ã€‚</li>
<li><strong>æ˜“äºè°ƒè¯•</strong>ï¼šæ¯æ¬¡çŠ¶æ€å˜åŒ–éƒ½äº§ç”Ÿæ–°å¯¹è±¡ï¼Œä¾¿äºè¿½è¸ªã€‚</li>
<li><strong>å…¼å®¹ Riverpod</strong>ï¼šStateNotifier è¦æ±‚çŠ¶æ€ä¸å¯å˜ã€‚</li>
</ul>
<p><code>isLoading</code> æ§åˆ¶åŠ è½½æŒ‡ç¤ºå™¨ï¼Œ<code>error</code> æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œ<code>hasReachedMax</code> ç”¨äºåˆ¤æ–­æ˜¯å¦å·²åŠ è½½å…¨éƒ¨æ•°æ®ï¼ˆæ”¯æŒåˆ†é¡µåŠ è½½ï¼‰ã€‚</p>
<h3 data-id="heading-15">3. Notifier å®ç°</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UsersNotifier</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StateNotifier</span>&lt;<span class="hljs-title">UsersState</span>&gt; </span>{
  <span class="hljs-keyword">final</span> UserRepository _userRepository;
  <span class="hljs-built_in">int</span> _page = <span class="hljs-number">1</span>;
  <span class="hljs-built_in">bool</span> _isLoading = <span class="hljs-keyword">false</span>;

  UsersNotifier(<span class="hljs-keyword">this</span>._userRepository) : <span class="hljs-keyword">super</span>(<span class="hljs-keyword">const</span> UsersState());

  Future&lt;<span class="hljs-keyword">void</span>&gt; fetchUsers({<span class="hljs-built_in">bool</span> refresh = <span class="hljs-keyword">false</span>}) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">if</span> (_isLoading) <span class="hljs-keyword">return</span>;

    <span class="hljs-keyword">if</span> (refresh) {
      _page = <span class="hljs-number">1</span>;
      state = <span class="hljs-keyword">const</span> UsersState(isLoading: <span class="hljs-keyword">true</span>);
    } <span class="hljs-keyword">else</span> {
      state = state.copyWith(isLoading: <span class="hljs-keyword">true</span>);
    }

    <span class="hljs-keyword">try</span> {
      _isLoading = <span class="hljs-keyword">true</span>;
      
      <span class="hljs-keyword">final</span> response = <span class="hljs-keyword">await</span> _userRepository.getUsers(page: _page);
      
      <span class="hljs-keyword">if</span> (response.success &amp;&amp; response.hasData) {
        <span class="hljs-keyword">final</span> users = response.data!;
        
        state = state.copyWith(
          users: refresh ? users : [...state.users, ...users],
          isLoading: <span class="hljs-keyword">false</span>,
          error: <span class="hljs-keyword">null</span>,
          hasReachedMax: users.length &lt; <span class="hljs-number">20</span>, <span class="hljs-comment">// å‡è®¾æ¯é¡µ20æ¡</span>
        );
        
        _page++;
      } <span class="hljs-keyword">else</span> {
        state = state.copyWith(
          isLoading: <span class="hljs-keyword">false</span>,
          error: response.message ?? <span class="hljs-string">'åŠ è½½å¤±è´¥'</span>,
        );
      }
    } <span class="hljs-keyword">catch</span> (e) {
      state = state.copyWith(
        isLoading: <span class="hljs-keyword">false</span>,
        error: <span class="hljs-string">'ç½‘ç»œè¯·æ±‚å¤±è´¥: <span class="hljs-subst">$e</span>'</span>,
      );
    } <span class="hljs-keyword">finally</span> {
      _isLoading = <span class="hljs-keyword">false</span>;
    }
  }

  Future&lt;<span class="hljs-keyword">void</span>&gt; refresh() =&gt; fetchUsers(refresh: <span class="hljs-keyword">true</span>);
}
</code></pre>
<h4 data-id="heading-16">è¯¦ç»†è¯´æ˜ï¼šçŠ¶æ€é©±åŠ¨ UI çš„å®Œæ•´æµç¨‹</h4>
<p><code>UsersNotifier</code> æ˜¯ä¸šåŠ¡é€»è¾‘çš„æ ¸å¿ƒï¼Œè´Ÿè´£åè°ƒ Repository å¹¶æ›´æ–°çŠ¶æ€ã€‚</p>
<ul>
<li><code>fetchUsers</code> æ–¹æ³•æ ¹æ® <code>refresh</code> å‚æ•°å†³å®šæ˜¯åˆ·æ–°è¿˜æ˜¯åŠ è½½æ›´å¤šã€‚</li>
<li>è¯·æ±‚å‰è®¾ç½® <code>isLoading: true</code>ï¼Œè§¦å‘ UI æ˜¾ç¤ºåŠ è½½åŠ¨ç”»ã€‚</li>
<li>æˆåŠŸååˆå¹¶æ–°æ—§æ•°æ®ï¼ˆåˆ†é¡µåŠ è½½ï¼‰ï¼Œå¤±è´¥åˆ™æ›´æ–° <code>error</code> å­—æ®µã€‚</li>
<li>ä½¿ç”¨ <code>_isLoading</code> æ ‡å¿—é˜²æ­¢é‡å¤è¯·æ±‚ï¼Œæå‡ç¨³å®šæ€§ã€‚</li>
<li><code>refresh()</code> æ–¹æ³•ç®€åŒ–ä¸‹æ‹‰åˆ·æ–°è°ƒç”¨ã€‚</li>
</ul>
<p>è¯¥æ¨¡å¼å®ç°äº†â€œ<strong>è¯·æ±‚ â†’ çŠ¶æ€æ›´æ–° â†’ UI é‡ç»˜</strong>â€çš„é—­ç¯ï¼Œæ˜¯ç°ä»£ Flutter åº”ç”¨çš„æ ‡å‡†èŒƒå¼ã€‚</p>
<h2 data-id="heading-17">äº”ã€æ•°æ®æ¨¡å‹ä¸åºåˆ—åŒ–</h2>
<h3 data-id="heading-18">1. è‡ªåŠ¨ç”Ÿæˆåºåˆ—åŒ–ä»£ç </h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// user.dart</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:json_annotation/json_annotation.dart'</span>;

<span class="hljs-keyword">part</span> <span class="hljs-string">'user.g.dart'</span>;

<span class="hljs-meta">@JsonSerializable</span>()
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">int</span> id;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> name;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> email;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String?</span> avatar;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">DateTime</span> createdAt;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">DateTime</span> updatedAt;

  User({
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.id,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.name,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.email,
    <span class="hljs-keyword">this</span>.avatar,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.createdAt,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.updatedAt,
  });

  <span class="hljs-keyword">factory</span> User.fromJson(<span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt; json) =&gt; _$UserFromJson(json);
  <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt; toJson() =&gt; _$UserToJson(<span class="hljs-keyword">this</span>);

  User copyWith({
    <span class="hljs-built_in">int?</span> id,
    <span class="hljs-built_in">String?</span> name,
    <span class="hljs-built_in">String?</span> email,
    <span class="hljs-built_in">String?</span> avatar,
    <span class="hljs-built_in">DateTime?</span> createdAt,
    <span class="hljs-built_in">DateTime?</span> updatedAt,
  }) {
    <span class="hljs-keyword">return</span> User(
      id: id ?? <span class="hljs-keyword">this</span>.id,
      name: name ?? <span class="hljs-keyword">this</span>.name,
      email: email ?? <span class="hljs-keyword">this</span>.email,
      avatar: avatar ?? <span class="hljs-keyword">this</span>.avatar,
      createdAt: createdAt ?? <span class="hljs-keyword">this</span>.createdAt,
      updatedAt: updatedAt ?? <span class="hljs-keyword">this</span>.updatedAt,
    );
  }
}
</code></pre>
<h4 data-id="heading-19">è¯¦ç»†è¯´æ˜ï¼š<code>json_serializable</code> çš„é«˜æ•ˆä¸å®‰å…¨</h4>
<p>æ‰‹åŠ¨ç¼–å†™ <code>fromJson</code> å’Œ <code>toJson</code> å®¹æ˜“å‡ºé”™ä¸”ç¹çã€‚<code>json_annotation</code> + <code>build_runner</code> å¯ä»¥è‡ªåŠ¨ç”Ÿæˆè¿™äº›æ–¹æ³•ã€‚</p>
<ul>
<li><code>@JsonSerializable()</code> æ³¨è§£æ ‡è®°ç±»éœ€è¦åºåˆ—åŒ–ã€‚</li>
<li><code>part 'user.g.dart'</code> æŒ‡å®šç”Ÿæˆæ–‡ä»¶ã€‚</li>
<li>è¿è¡Œ <code>dart run build_runner build</code> è‡ªåŠ¨ç”Ÿæˆ <code>fromJson</code> å’Œ <code>toJson</code>ã€‚</li>
<li><code>copyWith</code> æ”¯æŒå±€éƒ¨æ›´æ–°ï¼Œå¸¸ç”¨äºçŠ¶æ€ç®¡ç†ã€‚</li>
</ul>
<p>è¿™ç§æ–¹å¼æ—¢ä¿è¯äº†æ€§èƒ½ï¼Œåˆå‡å°‘äº†äººä¸ºé”™è¯¯ã€‚</p>
<h3 data-id="heading-20">2. é€šç”¨å“åº”æ¨¡å‹</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// api_response_model.dart</span>
<span class="hljs-meta">@JsonSerializable</span>(genericArgumentFactories: <span class="hljs-keyword">true</span>)
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ApiResponseModel</span>&lt;<span class="hljs-title">T</span>&gt; </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">int</span> code;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> message;
  <span class="hljs-keyword">final</span> T? data;

  ApiResponseModel({
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.code,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.message,
    <span class="hljs-keyword">this</span>.data,
  });

  <span class="hljs-keyword">factory</span> ApiResponseModel.fromJson(
    <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt; json,
    T <span class="hljs-built_in">Function</span>(<span class="hljs-built_in">Object?</span> json) fromJsonT,
  ) =&gt;
      _$ApiResponseModelFromJson(json, fromJsonT);

  <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt; toJson(<span class="hljs-built_in">Object?</span> <span class="hljs-built_in">Function</span>(T value) toJsonT) =&gt;
      _$ApiResponseModelToJson(<span class="hljs-keyword">this</span>, toJsonT);

  <span class="hljs-built_in">bool</span> <span class="hljs-keyword">get</span> isSuccess =&gt; code == <span class="hljs-number">200</span>;
}
</code></pre>
<h4 data-id="heading-21">è¯¦ç»†è¯´æ˜ï¼šæ³›å‹å“åº”æ¨¡å‹çš„é€šç”¨æ€§</h4>
<p>è®¸å¤šåç«¯ API è¿”å›ç»Ÿä¸€ç»“æ„ï¼Œå¦‚ <code>{ code: 200, message: "ok", data: {} }</code>ã€‚</p>
<p><code>ApiResponseModel&lt;T&gt;</code> å°è£…äº†è¿™ç§ç»“æ„ï¼š</p>
<ul>
<li>æ”¯æŒæ³›å‹ <code>T</code>ï¼Œå¯åµŒå¥—ä»»æ„æ•°æ®æ¨¡å‹ã€‚</li>
<li><code>genericArgumentFactories: true</code> å…è®¸ä¼ é€’ <code>fromJsonT</code> å‡½æ•°ï¼Œå®ç°åµŒå¥—å¯¹è±¡è§£æã€‚</li>
<li><code>isSuccess</code> å¿«é€Ÿåˆ¤æ–­è¯·æ±‚æ˜¯å¦æˆåŠŸã€‚</li>
</ul>
<p>è¯¥æ¨¡å‹å¯ç›´æ¥ç”¨äº <code>dio</code> çš„å“åº”è§£æï¼Œå‡å°‘é‡å¤ä»£ç ã€‚</p>
<h2 data-id="heading-22">å…­ã€Repository æ¨¡å¼å®ç°</h2>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// user_repository.dart</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserRepository</span> </span>{
  <span class="hljs-keyword">final</span> ApiService _apiService;

  UserRepository(<span class="hljs-keyword">this</span>._apiService);

  Future&lt;ApiResponse&lt;<span class="hljs-built_in">List</span>&lt;User&gt;&gt;&gt; getUsers({<span class="hljs-built_in">int</span> page = <span class="hljs-number">1</span>, <span class="hljs-built_in">int</span> limit = <span class="hljs-number">20</span>}) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">return</span> _apiService.<span class="hljs-keyword">get</span>(
      <span class="hljs-string">'/users'</span>,
      queryParameters: {
        <span class="hljs-string">'page'</span>: page,
        <span class="hljs-string">'limit'</span>: limit,
      },
      fromJson: (data) {
        <span class="hljs-keyword">if</span> (data <span class="hljs-keyword">is</span> <span class="hljs-built_in">List</span>) {
          <span class="hljs-keyword">return</span> data.map((e) =&gt; User.fromJson(e)).toList();
        }
        <span class="hljs-keyword">return</span> [];
      },
    );
  }

  Future&lt;ApiResponse&lt;User&gt;&gt; getUserById(<span class="hljs-built_in">int</span> id) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">return</span> _apiService.<span class="hljs-keyword">get</span>(
      <span class="hljs-string">'/users/<span class="hljs-subst">$id</span>'</span>,
      fromJson: (data) =&gt; User.fromJson(data),
    );
  }

  Future&lt;ApiResponse&lt;User&gt;&gt; updateUser(User user) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">return</span> _apiService.post(
      <span class="hljs-string">'/users/<span class="hljs-subst">${user.id}</span>'</span>,
      data: user.toJson(),
      fromJson: (data) =&gt; User.fromJson(data),
    );
  }

  Future&lt;ApiResponse&lt;<span class="hljs-built_in">String</span>&gt;&gt; uploadAvatar(<span class="hljs-built_in">String</span> filePath) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">return</span> _apiService.upload&lt;<span class="hljs-built_in">String</span>&gt;(
      <span class="hljs-string">'/users/avatar'</span>,
      filePath,
      fromJson: (data) =&gt; data[<span class="hljs-string">'url'</span>] <span class="hljs-keyword">as</span> <span class="hljs-built_in">String</span>,
    );
  }
}
</code></pre>
<h4 data-id="heading-23">è¯¦ç»†è¯´æ˜ï¼šRepository æ¨¡å¼çš„åˆ†å±‚ä»·å€¼</h4>
<p>Repository æ˜¯ä¸šåŠ¡é€»è¾‘ä¸æ•°æ®æºä¹‹é—´çš„æŠ½è±¡å±‚ï¼Œå…·æœ‰ä»¥ä¸‹ä½œç”¨ï¼š</p>
<ul>
<li><strong>éš”ç¦»å˜åŒ–</strong>ï¼šå¦‚æœæœªæ¥æ›´æ¢ç½‘ç»œåº“ï¼ˆå¦‚ä» dio æ”¹ä¸º httpï¼‰ï¼Œåªéœ€ä¿®æ”¹ Repositoryï¼Œä¸å½±å“ä¸Šå±‚ã€‚</li>
<li><strong>ç»Ÿä¸€å…¥å£</strong>ï¼šæ‰€æœ‰ç”¨æˆ·ç›¸å…³è¯·æ±‚é›†ä¸­åœ¨ <code>UserRepository</code>ï¼Œä¾¿äºç»´æŠ¤ã€‚</li>
<li><strong>æ•°æ®è½¬æ¢</strong>ï¼šå°†åŸå§‹ API å“åº”è½¬æ¢ä¸º App å†…éƒ¨æ¨¡å‹ã€‚</li>
<li><strong>æ”¯æŒå¤šæ•°æ®æº</strong>ï¼šæœªæ¥å¯è½»æ¾æ‰©å±•æœ¬åœ°æ•°æ®åº“ã€ç¼“å­˜ç­‰ã€‚</li>
</ul>
<p>å®ƒæ˜¯å®ç° Clean Architecture çš„å…³é”®ä¸€ç¯ã€‚</p>
<h2 data-id="heading-24">ä¸ƒã€UI é›†æˆä¸ä½¿ç”¨</h2>
<h3 data-id="heading-25">1. ç½‘ç»œè¯·æ±‚çŠ¶æ€ Widget</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// network_state_widget.dart</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NetworkStateWidget</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> AsyncValue&lt;T&gt; asyncValue;
  <span class="hljs-keyword">final</span> Widget <span class="hljs-built_in">Function</span>(T data) successBuilder;
  <span class="hljs-keyword">final</span> Widget <span class="hljs-built_in">Function</span>()? loadingBuilder;
  <span class="hljs-keyword">final</span> Widget <span class="hljs-built_in">Function</span>(<span class="hljs-built_in">Object</span> error, StackTrace stackTrace)? errorBuilder;
  <span class="hljs-keyword">final</span> VoidCallback? onRetry;

  <span class="hljs-keyword">const</span> NetworkStateWidget({
    <span class="hljs-keyword">super</span>.key,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.asyncValue,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.successBuilder,
    <span class="hljs-keyword">this</span>.loadingBuilder,
    <span class="hljs-keyword">this</span>.errorBuilder,
    <span class="hljs-keyword">this</span>.onRetry,
  });

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> asyncValue.when(
      data: successBuilder,
      loading: loadingBuilder ?? () =&gt; <span class="hljs-keyword">const</span> _LoadingWidget(),
      error: errorBuilder ?? (error, stack) =&gt; _ErrorWidget(
        error: error,
        onRetry: onRetry,
      ),
    );
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_LoadingWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> _LoadingWidget();

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">const</span> Center(
      child: Padding(
        padding: EdgeInsets.all(<span class="hljs-number">16.0</span>),
        child: Column(
          mainAxisSize: MainAxisSize.min,
          children: [
            CircularProgressIndicator(),
            SizedBox(height: <span class="hljs-number">16</span>),
            Text(<span class="hljs-string">'åŠ è½½ä¸­...'</span>),
          ],
        ),
      ),
    );
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_ErrorWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Object</span> error;
  <span class="hljs-keyword">final</span> VoidCallback? onRetry;

  <span class="hljs-keyword">const</span> _ErrorWidget({
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.error,
    <span class="hljs-keyword">this</span>.onRetry,
  });

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Center(
      child: Padding(
        padding: <span class="hljs-keyword">const</span> EdgeInsets.all(<span class="hljs-number">16.0</span>),
        child: Column(
          mainAxisSize: MainAxisSize.min,
          children: [
            Icon(
              Icons.error_outline,
              size: <span class="hljs-number">64</span>,
              color: Theme.of(context).colorScheme.error,
            ),
            <span class="hljs-keyword">const</span> SizedBox(height: <span class="hljs-number">16</span>),
            Text(
              error.toString(),
              textAlign: TextAlign.center,
              style: Theme.of(context).textTheme.bodyMedium?.copyWith(
                    color: Theme.of(context).colorScheme.error,
                  ),
            ),
            <span class="hljs-keyword">const</span> SizedBox(height: <span class="hljs-number">16</span>),
            <span class="hljs-keyword">if</span> (onRetry != <span class="hljs-keyword">null</span>)
              FilledButton(
                onPressed: onRetry,
                child: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'é‡è¯•'</span>),
              ),
          ],
        ),
      ),
    );
  }
}
</code></pre>
<h4 data-id="heading-26">è¯¦ç»†è¯´æ˜ï¼šçŠ¶æ€æ„ŸçŸ¥å‹ UI ç»„ä»¶çš„è®¾è®¡ç†å¿µ</h4>
<p><code>NetworkStateWidget</code> æ˜¯ä¸€ä¸ªé€šç”¨çš„çŠ¶æ€æ¸²æŸ“ç»„ä»¶ï¼Œæ¥å— <code>AsyncValue</code>ï¼ˆRiverpod æä¾›ï¼‰å¹¶æ ¹æ®å…¶çŠ¶æ€å±•ç¤ºä¸åŒ UIã€‚</p>
<ul>
<li><code>when</code> æ–¹æ³•åˆ†åˆ«å¤„ç† <code>data</code>ã€<code>loading</code>ã€<code>error</code> ä¸‰ç§çŠ¶æ€ã€‚</li>
<li>æ”¯æŒè‡ªå®šä¹‰åŠ è½½å’Œé”™è¯¯ç•Œé¢ã€‚</li>
<li>æä¾› <code>onRetry</code> å›è°ƒï¼Œç‚¹å‡»â€œé‡è¯•â€æŒ‰é’®å¯é‡æ–°å‘èµ·è¯·æ±‚ã€‚</li>
</ul>
<p>è¿™ç§ç»„ä»¶å¯å¤ç”¨äºä»»ä½•å¼‚æ­¥æ“ä½œï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ã€æ•°æ®åº“æŸ¥è¯¢ï¼‰ï¼Œæå¤§æå‡ UI å¼€å‘æ•ˆç‡ã€‚</p>
<h3 data-id="heading-27">2. é¡µé¢ä½¿ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// users_page.dart</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UsersPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ConsumerStatefulWidget</span> </span>{
  <span class="hljs-keyword">const</span> UsersPage({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  ConsumerState&lt;UsersPage&gt; createState() =&gt; _UsersPageState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_UsersPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ConsumerState</span>&lt;<span class="hljs-title">UsersPage</span>&gt; </span>{
  <span class="hljs-keyword">final</span> ScrollController _scrollController = ScrollController();

  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> initState() {
    <span class="hljs-keyword">super</span>.initState();
    _scrollController.addListener(_onScroll);
    <span class="hljs-comment">// åˆå§‹åŠ è½½æ•°æ®</span>
    WidgetsBinding.instance.addPostFrameCallback((_) {
      ref.read(usersProvider.notifier).fetchUsers();
    });
  }

  <span class="hljs-keyword">void</span> _onScroll() {
    <span class="hljs-keyword">if</span> (_scrollController.position.pixels ==
        _scrollController.position.maxScrollExtent) {
      <span class="hljs-comment">// åŠ è½½æ›´å¤š</span>
      ref.read(usersProvider.notifier).fetchUsers();
    }
  }

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">final</span> usersState = ref.watch(usersProvider);

    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(
        title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'ç”¨æˆ·åˆ—è¡¨'</span>),
        actions: [
          IconButton(
            icon: <span class="hljs-keyword">const</span> Icon(Icons.refresh),
            onPressed: () =&gt; ref.read(usersProvider.notifier).refresh(),
          ),
        ],
      ),
      body: NetworkStateWidget(
        asyncValue: AsyncValue.data(usersState),
        onRetry: () =&gt; ref.read(usersProvider.notifier).refresh(),
        successBuilder: (state) {
          <span class="hljs-keyword">return</span> RefreshIndicator(
            onRefresh: () =&gt; ref.read(usersProvider.notifier).refresh(),
            child: ListView.builder(
              controller: _scrollController,
              itemCount: state.users.length + (state.hasReachedMax ? <span class="hljs-number">0</span> : <span class="hljs-number">1</span>),
              itemBuilder: (context, index) {
                <span class="hljs-keyword">if</span> (index &gt;= state.users.length) {
                  <span class="hljs-keyword">return</span> <span class="hljs-keyword">const</span> Padding(
                    padding: EdgeInsets.all(<span class="hljs-number">16.0</span>),
                    child: Center(child: CircularProgressIndicator()),
                  );
                }
                
                <span class="hljs-keyword">final</span> user = state.users[index];
                <span class="hljs-keyword">return</span> UserListItem(user: user);
              },
            ),
          );
        },
      ),
    );
  }

  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> dispose() {
    _scrollController.dispose();
    <span class="hljs-keyword">super</span>.dispose();
  }
}
</code></pre>
<h4 data-id="heading-28">è¯¦ç»†è¯´æ˜ï¼šå®Œæ•´é¡µé¢çš„æ„å»ºé€»è¾‘</h4>
<p><code>UsersPage</code> å±•ç¤ºäº†å¦‚ä½•å°†ç½‘ç»œã€çŠ¶æ€ã€UI ä¸‰å±‚æ— ç¼é›†æˆï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>ConsumerStatefulWidget</code> è®¿é—® Riverpod çŠ¶æ€ã€‚</li>
<li><code>initState</code> ä¸­ç›‘å¬æ»šåŠ¨äº‹ä»¶ï¼Œå®ç°ä¸Šæ‹‰åŠ è½½æ›´å¤šã€‚</li>
<li><code>ref.watch(usersProvider)</code> ç›‘å¬çŠ¶æ€å˜åŒ–ï¼Œè‡ªåŠ¨åˆ·æ–° UIã€‚</li>
<li><code>NetworkStateWidget</code> ç»Ÿä¸€å¤„ç†åŠ è½½ã€æˆåŠŸã€é”™è¯¯çŠ¶æ€ã€‚</li>
<li><code>RefreshIndicator</code> æ”¯æŒä¸‹æ‹‰åˆ·æ–°ã€‚</li>
<li>åˆ—è¡¨æœ«å°¾æ˜¾ç¤ºåŠ è½½æ›´å¤šæŒ‡ç¤ºå™¨ã€‚</li>
</ul>
<p>æ•´ä¸ªé¡µé¢é€»è¾‘æ¸…æ™°ï¼Œç”¨æˆ·ä½“éªŒæµç•…ï¼Œæ˜¯å…¸å‹çš„ç”Ÿäº§çº§å®ç°ã€‚</p>
<h2 data-id="heading-29">å…«ã€æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-30">1. è¯·æ±‚å–æ¶ˆä¸é˜²æŠ–</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Debouncer</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Duration</span> delay;
  Timer? _timer;

  Debouncer({<span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.delay});

  <span class="hljs-keyword">void</span> call(<span class="hljs-keyword">void</span> <span class="hljs-built_in">Function</span>() action) {
    _timer?.cancel();
    _timer = Timer(delay, action);
  }

  <span class="hljs-keyword">void</span> dispose() {
    _timer?.cancel();
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SearchService</span> </span>{
  <span class="hljs-keyword">final</span> ApiService _apiService;
  CancelToken? _cancelToken;

  SearchService(<span class="hljs-keyword">this</span>._apiService);

  Future&lt;ApiResponse&lt;<span class="hljs-built_in">List</span>&lt;User&gt;&gt;&gt; searchUsers(<span class="hljs-built_in">String</span> query) <span class="hljs-keyword">async</span> {
    <span class="hljs-comment">// å–æ¶ˆä¹‹å‰çš„è¯·æ±‚</span>
    _cancelToken?.cancel(<span class="hljs-string">'New search request'</span>);
    _cancelToken = CancelToken();

    <span class="hljs-keyword">return</span> _apiService.<span class="hljs-keyword">get</span>(
      <span class="hljs-string">'/users/search'</span>,
      queryParameters: {<span class="hljs-string">'q'</span>: query},
      cancelToken: _cancelToken,
      fromJson: (data) {
        <span class="hljs-keyword">if</span> (data <span class="hljs-keyword">is</span> <span class="hljs-built_in">List</span>) {
          <span class="hljs-keyword">return</span> data.map((e) =&gt; User.fromJson(e)).toList();
        }
        <span class="hljs-keyword">return</span> [];
      },
    );
  }
}
</code></pre>
<h4 data-id="heading-31">è¯¦ç»†è¯´æ˜ï¼šé˜²æŠ–ä¸è¯·æ±‚å–æ¶ˆçš„å¿…è¦æ€§</h4>
<ul>
<li><strong>é˜²æŠ–ï¼ˆDebouncerï¼‰</strong>ï¼šåœ¨æœç´¢æ¡†ç­‰é«˜é¢‘è¾“å…¥åœºæ™¯ä¸­ï¼Œé¿å…æ¯æ¬¡è¾“å…¥éƒ½å‘èµ·è¯·æ±‚ï¼Œä»…åœ¨ç”¨æˆ·åœæ­¢è¾“å…¥åå»¶è¿Ÿæ‰§è¡Œï¼Œå‡å°‘æœåŠ¡å™¨å‹åŠ›ã€‚</li>
<li><strong>å–æ¶ˆè¯·æ±‚ï¼ˆCancelTokenï¼‰</strong>ï¼šå½“æ–°è¯·æ±‚å‘èµ·æ—¶ï¼Œå–æ¶ˆæ—§è¯·æ±‚ï¼Œé˜²æ­¢æ—§å“åº”è¦†ç›–æ–°æ•°æ®ï¼ˆå³â€œç«æ€æ¡ä»¶â€ï¼‰ã€‚</li>
</ul>
<p>ä¸¤è€…ç»“åˆå¯æ˜¾è‘—æå‡æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚</p>
<h3 data-id="heading-32">2. ç¼“å­˜ç­–ç•¥</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CacheManager</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> CacheManager _instance = CacheManager._internal();
  <span class="hljs-keyword">factory</span> CacheManager() =&gt; _instance;
  CacheManager._internal();

  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt; _memoryCache = {};
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Duration</span> _defaultDuration = <span class="hljs-keyword">const</span> <span class="hljs-built_in">Duration</span>(minutes: <span class="hljs-number">5</span>);

  Future&lt;T?&gt; <span class="hljs-keyword">get</span>&lt;T&gt;(<span class="hljs-built_in">String</span> key) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> cached = _memoryCache[key];
    <span class="hljs-keyword">if</span> (cached != <span class="hljs-keyword">null</span> &amp;&amp; cached <span class="hljs-keyword">is</span> _CacheItem) {
      <span class="hljs-keyword">if</span> (cached.expiry.isAfter(<span class="hljs-built_in">DateTime</span>.now())) {
        <span class="hljs-keyword">return</span> cached.data <span class="hljs-keyword">as</span> T;
      } <span class="hljs-keyword">else</span> {
        _memoryCache.remove(key);
      }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
  }

  Future&lt;<span class="hljs-keyword">void</span>&gt; <span class="hljs-keyword">set</span>&lt;T&gt;(<span class="hljs-built_in">String</span> key, T data, {<span class="hljs-built_in">Duration?</span> duration}) <span class="hljs-keyword">async</span> {
    _memoryCache[key] = _CacheItem(
      data: data,
      expiry: <span class="hljs-built_in">DateTime</span>.now().add(duration ?? _defaultDuration),
    );
  }

  Future&lt;<span class="hljs-keyword">void</span>&gt; remove(<span class="hljs-built_in">String</span> key) <span class="hljs-keyword">async</span> {
    _memoryCache.remove(key);
  }

  Future&lt;<span class="hljs-keyword">void</span>&gt; clear() <span class="hljs-keyword">async</span> {
    _memoryCache.clear();
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_CacheItem</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">dynamic</span> data;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">DateTime</span> expiry;

  _CacheItem({<span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.data, <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.expiry});
}
</code></pre>
<h4 data-id="heading-33">è¯¦ç»†è¯´æ˜ï¼šå†…å­˜ç¼“å­˜çš„å®ç°ä¸åº”ç”¨åœºæ™¯</h4>
<p><code>CacheManager</code> æä¾›äº†ä¸€ä¸ªç®€å•çš„å†…å­˜ç¼“å­˜ç³»ç»Ÿï¼Œæ”¯æŒï¼š</p>
<ul>
<li>è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œé¿å…æ•°æ®é™ˆæ—§ã€‚</li>
<li>è‡ªåŠ¨æ¸…ç†è¿‡æœŸé¡¹ã€‚</li>
<li>æ”¯æŒä»»æ„ç±»å‹æ•°æ®å­˜å‚¨ã€‚</li>
</ul>
<p>å¯ç”¨äºç¼“å­˜ç”¨æˆ·ä¿¡æ¯ã€é…ç½®é¡¹ã€æœç´¢ç»“æœç­‰ä¸å¸¸å˜åŠ¨çš„æ•°æ®ï¼Œå‡å°‘ç½‘ç»œè¯·æ±‚ï¼ŒåŠ å¿«å“åº”é€Ÿåº¦ã€‚</p>
<h3 data-id="heading-34">3. ç½‘ç»œçŠ¶æ€ç›‘æ§</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NetworkConnectivity</span> </span>{
  <span class="hljs-keyword">final</span> Connectivity _connectivity = Connectivity();
  <span class="hljs-keyword">final</span> StreamController&lt;<span class="hljs-built_in">bool</span>&gt; _connectionStatusController = 
      StreamController&lt;<span class="hljs-built_in">bool</span>&gt;.broadcast();

  Stream&lt;<span class="hljs-built_in">bool</span>&gt; <span class="hljs-keyword">get</span> connectionStatus =&gt; _connectionStatusController.stream;

  Future&lt;<span class="hljs-keyword">void</span>&gt; initialize() <span class="hljs-keyword">async</span> {
    _connectivity.onConnectivityChanged.listen((result) {
      _updateConnectionStatus(result);
    });
    
    <span class="hljs-comment">// åˆå§‹æ£€æŸ¥</span>
    <span class="hljs-keyword">final</span> initialResult = <span class="hljs-keyword">await</span> _connectivity.checkConnectivity();
    _updateConnectionStatus(initialResult);
  }

  <span class="hljs-keyword">void</span> _updateConnectionStatus(ConnectivityResult result) {
    <span class="hljs-keyword">final</span> hasConnection = result != ConnectivityResult.none;
    _connectionStatusController.add(hasConnection);
  }

  Future&lt;<span class="hljs-built_in">bool</span>&gt; <span class="hljs-keyword">get</span> isConnected <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> result = <span class="hljs-keyword">await</span> _connectivity.checkConnectivity();
    <span class="hljs-keyword">return</span> result != ConnectivityResult.none;
  }

  <span class="hljs-keyword">void</span> dispose() {
    _connectionStatusController.close();
  }
}
</code></pre>
<h4 data-id="heading-35">è¯¦ç»†è¯´æ˜ï¼šå®æ—¶ç½‘ç»œçŠ¶æ€ç›‘æ§çš„é‡è¦æ€§</h4>
<p>é€šè¿‡ <code>connectivity_plus</code> æ’ä»¶ï¼Œå¯ä»¥ç›‘å¬è®¾å¤‡ç½‘ç»œçŠ¶æ€å˜åŒ–ã€‚</p>
<ul>
<li>åº”ç”¨å¯åŠ¨æ—¶æ£€æŸ¥ç½‘ç»œæ˜¯å¦å¯ç”¨ã€‚</li>
<li>åœ¨æ— ç½‘ç»œæ—¶ç¦ç”¨è¯·æ±‚æˆ–æç¤ºç”¨æˆ·ã€‚</li>
<li>ç½‘ç»œæ¢å¤åè‡ªåŠ¨é‡è¯•å¤±è´¥çš„è¯·æ±‚ã€‚</li>
<li>æå‡ç¦»çº¿ä½“éªŒå’Œåº”ç”¨å¥å£®æ€§ã€‚</li>
</ul>
<p>æ˜¯æ„å»ºé«˜è´¨é‡ App çš„å¿…å¤‡åŠŸèƒ½ã€‚</p>
<h2 data-id="heading-36">ä¹ã€é…ç½®ä¸ä¾èµ–</h2>
<h3 data-id="heading-37">1. <code>pubspec.yaml</code> é…ç½®</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">dependencies:</span>
  <span class="hljs-attr">flutter:</span>
    <span class="hljs-attr">sdk:</span> <span class="hljs-string">flutter</span>

  <span class="hljs-comment"># ç½‘ç»œè¯·æ±‚</span>
  <span class="hljs-attr">dio:</span> <span class="hljs-string">^5.0.0</span>
  <span class="hljs-attr">retrofit:</span> <span class="hljs-string">^4.0.1</span>
  <span class="hljs-attr">logger:</span> <span class="hljs-string">^1.1.0</span>
  
  <span class="hljs-comment"># çŠ¶æ€ç®¡ç†</span>
  <span class="hljs-attr">flutter_riverpod:</span> <span class="hljs-string">^2.3.0</span>
  
  <span class="hljs-comment"># åºåˆ—åŒ–</span>
  <span class="hljs-attr">json_annotation:</span> <span class="hljs-string">^4.8.1</span>
  
  <span class="hljs-comment"># ç½‘ç»œçŠ¶æ€ç›‘æ§</span>
  <span class="hljs-attr">connectivity_plus:</span> <span class="hljs-string">^5.0.0</span>
  
  <span class="hljs-comment"># æœ¬åœ°å­˜å‚¨</span>
  <span class="hljs-attr">shared_preferences:</span> <span class="hljs-string">^2.2.0</span>

<span class="hljs-attr">dev_dependencies:</span>
  <span class="hljs-attr">flutter_test:</span>
    <span class="hljs-attr">sdk:</span> <span class="hljs-string">flutter</span>
  
  <span class="hljs-comment"># åºåˆ—åŒ–ä»£ç ç”Ÿæˆ</span>
  <span class="hljs-attr">build_runner:</span> <span class="hljs-string">^2.4.0</span>
  <span class="hljs-attr">retrofit_generator:</span> <span class="hljs-string">^4.0.1</span>
  <span class="hljs-attr">json_serializable:</span> <span class="hljs-string">^6.7.1</span>
</code></pre>
<h4 data-id="heading-38">è¯¦ç»†è¯´æ˜ï¼šæ ¸å¿ƒä¾èµ–çš„é€‰æ‹©ä¾æ®</h4>
<ul>
<li><code>dio</code>ï¼šæ ¸å¿ƒç½‘ç»œåº“ï¼ŒåŠŸèƒ½å…¨é¢ã€‚</li>
<li><code>flutter_riverpod</code>ï¼šç°ä»£çŠ¶æ€ç®¡ç†æ–¹æ¡ˆï¼Œæ”¯æŒ Provider æ³¨å…¥ã€‚</li>
<li><code>json_serializable</code>ï¼šè‡ªåŠ¨åŒ– JSON åºåˆ—åŒ–ï¼Œå‡å°‘æ ·æ¿ä»£ç ã€‚</li>
<li><code>connectivity_plus</code>ï¼šè·¨å¹³å°ç½‘ç»œçŠ¶æ€æ£€æµ‹ã€‚</li>
<li><code>shared_preferences</code>ï¼šè½»é‡çº§æœ¬åœ°å­˜å‚¨ï¼Œç”¨äºä¿å­˜ token ç­‰ã€‚</li>
<li><code>build_runner</code>ï¼šä»£ç ç”Ÿæˆå·¥å…·ï¼Œé…åˆ <code>json_serializable</code> ä½¿ç”¨ã€‚</li>
</ul>
<p>è¿™äº›åº“å…±åŒæ„æˆäº†ä¸€ä¸ªç°ä»£åŒ– Flutter åº”ç”¨çš„æŠ€æœ¯åº•åº§ã€‚</p>
<h2 data-id="heading-39">åã€æ€»ç»“</h2>
<p>é€šè¿‡è¿™ç§æ·±åº¦é›†æˆçš„ç½‘ç»œè¯·æ±‚æ¶æ„ï¼Œä½ å¯ä»¥æ„å»ºå‡ºï¼š</p>
<ul>
<li><strong>é«˜æ€§èƒ½</strong>ï¼šæ”¯æŒç¼“å­˜ã€é˜²æŠ–ã€å¹¶å‘æ§åˆ¶</li>
<li><strong>å¯ç»´æŠ¤</strong>ï¼šæ¸…æ™°çš„åˆ†å±‚ç»“æ„ï¼ˆAPI â†’ Repository â†’ StateNotifier â†’ UIï¼‰</li>
<li><strong>æ˜“æµ‹è¯•</strong>ï¼šä¾èµ–æ³¨å…¥ + æŠ½è±¡æ¥å£ï¼Œä¾¿äºå•å…ƒæµ‹è¯•å’Œ Mock</li>
<li><strong>å¥å£®æ€§é«˜</strong>ï¼šç»Ÿä¸€é”™è¯¯å¤„ç†ã€è‡ªåŠ¨é‡è¯•ã€Token åˆ·æ–°æœºåˆ¶</li>
</ul>
<blockquote>
<p><strong>å…³é”®å»ºè®®</strong>ï¼š</p>
<ul>
<li>æ ¹æ®é¡¹ç›®è§„æ¨¡é€‰æ‹©åˆé€‚çš„æŠ½è±¡å±‚çº§ï¼ˆå°é¡¹ç›®å¯ç®€åŒ– Repository å±‚ï¼‰</li>
<li>åˆç†ä½¿ç”¨æ‹¦æˆªå™¨è¿›è¡Œæ—¥å¿—ã€é‰´æƒã€é”™è¯¯å¤„ç†</li>
<li>ç»“åˆ Riverpod å®ç°çŠ¶æ€é©±åŠ¨ UI æ›´æ–°</li>
<li>å–„ç”¨ <code>json_serializable</code> å‡å°‘æ¨¡æ¿ä»£ç </li>
<li>å§‹ç»ˆè€ƒè™‘ç”¨æˆ·ä½“éªŒï¼šåŠ è½½ã€é”™è¯¯ã€é‡è¯•ã€ç¦»çº¿æ”¯æŒ</li>
</ul>
</blockquote>
<p>æ„å»ºä¸€ä¸ªç°ä»£åŒ–çš„ Flutter åº”ç”¨ï¼Œä»è®¾è®¡å¥½ç½‘ç»œå±‚å¼€å§‹ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Androidå¤šSDKåˆå¹¶ä¸ºå•ä¸ªJARåŒ…çš„å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7574041466709377067</link>    <guid>https://juejin.cn/post/7574041466709377067</guid>    <pubDate>2025-11-19T03:53:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574041466709377067" data-draft-id="7574020645862326323" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Androidå¤šSDKåˆå¹¶ä¸ºå•ä¸ªJARåŒ…çš„å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-11-19T03:53:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å®‰å“è“ç‰™Vincent"/> <meta itemprop="url" content="https://juejin.cn/user/2367661345624539"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Androidå¤šSDKåˆå¹¶ä¸ºå•ä¸ªJARåŒ…çš„å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2367661345624539/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å®‰å“è“ç‰™Vincent
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T03:53:59.000Z" title="Wed Nov 19 2025 03:53:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ç—›ç‚¹</h3>
<ul>
<li><strong>å¤š SDK åˆ†æ•£</strong>ï¼šæ¯ä¸ªåŠŸèƒ½æ¨¡å—å•ç‹¬æä¾› JARï¼Œç”¨æˆ·éœ€è¦é€ä¸€é›†æˆå’Œç®¡ç†</li>
<li><strong>è°ƒç”¨å¤æ‚</strong>ï¼šä¸åŒæ¨¡å—é—´å­˜åœ¨ä¾èµ–å’ŒåŒ…åå†²çªï¼Œç”¨æˆ·åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ä¸æ–¹ä¾¿</li>
<li><strong>å‡çº§ç»´æŠ¤å›°éš¾</strong>ï¼šæ¯æ¬¡æ›´æ–°éƒ½è¦åŒæ­¥å¤šä¸ª JARï¼Œå®¹æ˜“å‡ºé”™</li>
</ul>
<h2 data-id="heading-1">ä¸€ã€æ ¸å¿ƒåŸç†</h2>
<h3 data-id="heading-2">1.1 æœ€æ¨èçš„æ–¹æ¡ˆï¼šæºç åˆå¹¶ + ä¸‹å±‚åº“ä½œä¸ºâ€œæºç ç›®å½•â€åŠ å…¥</h3>
<p>å¤š SDK åˆå¹¶æ—¶ï¼Œæœ€ç»ˆæœ‰æ•ˆçš„æ„å»ºç¯å¢ƒåªæœ‰é¡¶å±‚ SDKï¼Œå› æ­¤æœ€ç¨³å®šçš„æ–¹å¼æ˜¯ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">æºç åˆå¹¶ï¼ˆsourceSetsï¼‰  
<span class="hljs-addition">+ ç§»é™¤æ¨¡å—ä¾èµ–  </span>
<span class="hljs-addition">+ å°†ä¸‹å±‚ SDK ä½œä¸ºæºç ç›®å½•å¼•å…¥ï¼ˆè€Œä¸æ˜¯ moduleï¼‰</span>
</code></pre>
<p>Android Studio ä¼šæŠŠä¸‹å±‚ SDK å½“æˆæ™®é€šæºç ï¼Œè‡ªç„¶ä¸ä¼šçˆ†çº¢ï¼Œä¹Ÿä¸ä¼šå†è§¦å‘ module ä¾èµ–çš„å¤æ‚æœºåˆ¶ã€‚</p>
<hr/>
<h3 data-id="heading-3">1.2 ä¸ºä»€ä¹ˆä¸èƒ½ç»§ç»­ä½¿ç”¨ module ä¾èµ–ï¼Ÿ</h3>
<pre><code class="hljs language-java" lang="java">dependencies {
    api <span class="hljs-title function_">project</span><span class="hljs-params">(<span class="hljs-string">':sdk-core-lib'</span>)</span>  <span class="hljs-comment">// âŒ ä¸æ¨è</span>
}
</code></pre>
<p>é—®é¢˜ï¼š</p>
<ul>
<li>AAR/JAR è¾“å‡ºä¸ä¸€å®šåŒ…å«æ‰€æœ‰ä¾èµ–æ¨¡å—ä»£ç </li>
<li>éœ€è¦é¢å¤–å¤„ç†ä¼ é€’ä¾èµ–</li>
<li>fat-aar æ’ä»¶åœ¨ Gradle 8+ å…¼å®¹æ€§å·®</li>
<li>æ¨¡å—ä¹‹é—´ BuildConfigã€Manifestã€èµ„æºåˆå¹¶å®¹æ˜“å†²çª</li>
<li><strong>æœ€é‡è¦ï¼šmodule ä¾èµ–è®©ä¸‹å±‚ SDK çš„ build.gradle ç»§ç»­ç”Ÿæ•ˆï¼ˆä¼šå¯¼è‡´æ··æ·†ç­‰é…ç½®éš¾ä»¥ç»Ÿä¸€ç®¡ç†ï¼‰</strong></li>
</ul>
<hr/>
<h3 data-id="heading-4">1.3 æœ€å…³é”®çš„ä¼˜åŒ–ï¼šç”¨ sourceSets æŠŠä¸‹å±‚ SDK å½“æˆâ€œæºç ç›®å½•â€</h3>
<p>æ¯”ç›´æ¥å¤åˆ¶ä»£ç æ›´å¹²å‡€ â€”â€” ä¸‹å±‚ SDK ä¸å†æ˜¯ moduleï¼Œåªæ˜¯ä¸€ä¸ªæºç ç›®å½•ã€‚</p>
<pre><code class="hljs language-css" lang="css">android {
    sourceSets {
        <span class="hljs-selector-tag">main</span> {
            java<span class="hljs-selector-class">.srcDirs</span> += <span class="hljs-selector-attr">[<span class="hljs-string">'../SDK_Core/src/main/java'</span>]</span>
            java<span class="hljs-selector-class">.srcDirs</span> += <span class="hljs-selector-attr">[<span class="hljs-string">'../SDK_Base/src/main/java'</span>]</span>
            res<span class="hljs-selector-class">.srcDirs</span>  += <span class="hljs-selector-attr">[<span class="hljs-string">'../SDK_Core/src/main/res'</span>]</span>
            res<span class="hljs-selector-class">.srcDirs</span>  += <span class="hljs-selector-attr">[<span class="hljs-string">'../SDK_Base/src/main/res'</span>]</span>
        }
    }
}
</code></pre>
<p>åŒæ—¶ä» <code>settings.gradle</code> ä¸­åˆ é™¤ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">include</span> <span class="hljs-string">':SDK_Core'</span>
<span class="hljs-keyword">include</span> <span class="hljs-string">':SDK_Base'</span>
</code></pre>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>Android Studio èƒ½è¯†åˆ«æºç ï¼Œä¸å†çˆ†çº¢ï¼ˆä½ é‡åˆ°çš„é—®é¢˜çš„æ ¸å¿ƒåŸå› ï¼‰</li>
<li>ä¸å†æœ‰ Gradle module å¸¦æ¥çš„ä¾èµ–é€»è¾‘</li>
<li>å®Œå…¨ç”±é¡¶å±‚ SDK çš„ build.gradle å†³å®šæœ€ç»ˆäº§ç‰©</li>
<li>æºç å…±äº«æ›´å¹²å‡€ï¼Œä¸éœ€è¦å¤åˆ¶</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>ä¸å†èƒ½äº«å— Gradle dependency graphï¼ˆå› ä¸ºä¸æ˜¯ moduleï¼‰</li>
<li>æ— æ³•å•ç‹¬ç¼–è¯‘ä¸‹å±‚ SDKï¼ˆä½†é€šç”¨ SDK å¼€å‘é€šå¸¸ä¸éœ€è¦ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-5">äºŒã€é€‚ç”¨æ¶æ„ä¸åˆå¹¶ç­–ç•¥</h2>
<p>ä»¥å…¸å‹ç»“æ„ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs">SDK_Standardï¼ˆå¯¹å®¢æˆ·çš„æœ€ç»ˆè¾“å‡ºï¼‰
 â”œâ”€â”€ SDK_Core
 â”‚     â””â”€â”€ SDK_Base
</code></pre>
<p>æ‰€æœ‰å·®å¼‚åŒ–åŠŸèƒ½ç”±é¡¶å±‚ SDKï¼ˆStandard / Custom_A / Custom_Bï¼‰å†³å®šã€‚</p>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€æ ¸å¿ƒè§„åˆ™ï¼ˆâ­ æé‡è¦ï¼‰</h2>
<h3 data-id="heading-7">è§„åˆ™ 1ï¼šæ‰€æœ‰ä¸‹å±‚ SDK å¿…é¡»ä½œä¸ºæºç ç›®å½•å­˜åœ¨</h3>
<p>âŒ ä¸è¦æ˜¯ module<br/>
âŒ ä¸è¦ä½¿ç”¨ä¾èµ–<br/>
âœ” ä½¿ç”¨ sourceSets ç›´æ¥å¼•ç”¨æºç ç›®å½•ï¼ˆä¸ä¼šçˆ†çº¢ï¼‰</p>
<hr/>
<h3 data-id="heading-8">è§„åˆ™ 2ï¼šåªæœ‰é¡¶å±‚ SDK çš„ build.gradle ç”Ÿæ•ˆ</h3>
<p>ä¸‹å±‚çš„ build.gradle å®Œå…¨æ— æ•ˆï¼ˆå› ä¸ºä¸å†æ˜¯ moduleï¼‰ã€‚</p>
<p>å¤±æ•ˆå†…å®¹ï¼š</p>
<ul>
<li>dependencies</li>
<li>buildConfigField</li>
<li>proguard-rules.pro</li>
<li>manifestPlaceholders</li>
</ul>
<p>å…¨éƒ¨è¿ç§»åˆ°é¡¶å±‚ã€‚</p>
<hr/>
<h3 data-id="heading-9">è§„åˆ™ 3ï¼šèµ„æºæ–‡ä»¶è‡ªåŠ¨åˆå¹¶ï¼Œä½†å¿…é¡»é¿å…å†²çª</h3>
<p>å»ºè®®å‘½åè§„èŒƒï¼š</p>





















<table><thead><tr><th>SDK</th><th>å‰ç¼€</th></tr></thead><tbody><tr><td>SDK_Base</td><td>base_</td></tr><tr><td>SDK_Core</td><td>core_</td></tr><tr><td>SDK_Standard</td><td>standard_</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-10">è§„åˆ™ 4ï¼šé¿å…åŒ…åå†²çª</h3>
<p>ä¸‹å±‚ SDK å¿…é¡»ç‹¬ç«‹åŒ…ç›®å½•ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">com.company.<span class="hljs-keyword">base</span>.**
com.company.core.**
com.company.sdk.standard.**
</code></pre>
<hr/>
<h2 data-id="heading-11">å››ã€å®Œæ•´å®ç°æ­¥éª¤</h2>
<hr/>
<h3 data-id="heading-12">4.1 é¡¶å±‚ build.gradleï¼ˆå”¯ä¸€æœ‰æ•ˆï¼‰</h3>
<pre><code class="hljs language-arduino" lang="arduino">android {
    <span class="hljs-keyword">namespace</span> <span class="hljs-string">'com.company.sdk.standard'</span>
    compileSdk <span class="hljs-number">34</span>

    defaultConfig {
        minSdk <span class="hljs-number">21</span>
        targetSdk <span class="hljs-number">34</span>
    }

    sourceSets {
        main {
            <span class="hljs-comment">// æºç åˆå¹¶</span>
            java.srcDir <span class="hljs-string">'../SDK_Core/src/main/java'</span>
            java.srcDir <span class="hljs-string">'../SDK_Base/src/main/java'</span>

            <span class="hljs-comment">// èµ„æºåˆå¹¶ï¼ˆå¦‚éœ€è¦ï¼‰</span>
            res.srcDir <span class="hljs-string">'../SDK_Core/src/main/res'</span>
            res.srcDir <span class="hljs-string">'../SDK_Base/src/main/res'</span>
        }
    }

    buildTypes {
        release {
            <span class="hljs-function">minifyEnabled <span class="hljs-literal">true</span>
            proguardFiles <span class="hljs-title">getDefaultProguardFile</span><span class="hljs-params">(<span class="hljs-string">'proguard-android-optimize.txt'</span>)</span>,
                         'proguard-rules.pro'
        }
    }
}
</span></code></pre>
<hr/>
<h3 data-id="heading-13">4.2 è¿ç§»æ‰€æœ‰ä¾èµ–åˆ°é¡¶å±‚</h3>
<pre><code class="hljs language-arduino" lang="arduino">dependencies {
    <span class="hljs-comment">// æ¥è‡ª Core</span>
    implementation <span class="hljs-string">'androidx.core:core-ktx:1.12.0'</span>

    <span class="hljs-comment">// æ¥è‡ª Base</span>
    implementation <span class="hljs-string">'com.google.code.gson:gson:2.10.1'</span>
}
</code></pre>
<hr/>
<h3 data-id="heading-14">4.3 BuildConfig å¤±æ•ˆé—®é¢˜ï¼ˆéå¸¸å¸¸è§ï¼‰</h3>
<p>ä¸‹å±‚ SDK ä¸å†æ˜¯ moduleï¼Œæ‰€ä»¥ä¸ä¼šç”Ÿæˆ BuildConfigã€‚</p>
<p>è§£å†³æ–¹å¼ Aï¼ˆæ¨èï¼‰<br/>
ä¿®æ”¹å¼•ç”¨è·¯å¾„ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// from</span>
<span class="hljs-keyword">import</span> com.company.sdk.core.BuildConfig;

<span class="hljs-comment">// to</span>
<span class="hljs-keyword">import</span> com.company.sdk.standard.BuildConfig;
</code></pre>
<p>è§£å†³æ–¹å¼ Bï¼ˆæ— éœ€æ”¹æºç ï¼‰<br/>
æ‰‹åŠ¨åˆ›å»ºå¯¹åº” BuildConfigï¼š</p>
<pre><code class="hljs language-css" lang="css">SDK_Standard/<span class="hljs-attribute">src</span>/<span class="hljs-selector-tag">main</span>/java/com/company/sdk/core/BuildConfig<span class="hljs-selector-class">.java</span>
</code></pre>
<hr/>
<h3 data-id="heading-15">4.4 æ··æ·†è§„åˆ™åˆå¹¶ï¼ˆæ”¾åœ¨é¡¶å±‚ï¼‰</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># Base</span>
-keep <span class="hljs-keyword">class</span> <span class="hljs-title">com.company.base</span>.** { *; }

<span class="hljs-meta"># Core</span>
-keep <span class="hljs-keyword">class</span> <span class="hljs-title">com.company.core</span>.** { *; }

<span class="hljs-meta"># é¡¶å±‚å¯¹å¤–æ¥å£</span>
-keep <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">com.company.sdk.MTTagBleManager</span> { *; }
</code></pre>
<hr/>
<h3 data-id="heading-16">4.5 æœ€ç»ˆç›®å½•ç»“æ„ï¼ˆé‡è¦ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash">SDK_Standard/
 â”œâ”€â”€ build.gradleï¼ˆå”¯ä¸€æœ‰æ•ˆï¼‰
 â”œâ”€â”€ proguard-rules.pro
 â””â”€â”€ src/main/java/
       â”œâ”€â”€ com/company/sdk/standard/...
       â”œâ”€â”€ com/company/core/...     â† via sourceSets
       â””â”€â”€ com/company/base/...     â† via sourceSets
</code></pre>
<hr/>
<h2 data-id="heading-17">äº”ã€ä¸ºä»€ä¹ˆä¹‹å‰ä»£ç ä¼šçˆ†çº¢ï¼Ÿ</h2>
<p>å› ä¸ºï¼š</p>
<ul>
<li>ä½ åˆ æ‰ settings.gradle é‡Œçš„ include</li>
<li>ä½†æ²¡æœ‰æŠŠ SDK_Core / SDK_Base ä½œä¸º sourceSets æ‰‹åŠ¨åŠ å…¥</li>
<li>Android Studio ä¸çŸ¥é“è¿™äº›ç›®å½•æ˜¯æºç ç›®å½•</li>
<li>æ‰€ä»¥çˆ†çº¢ï¼ˆæ‰¾ä¸åˆ°ç±»ï¼‰</li>
</ul>
<p>åªè¦åŠ ä¸Šè¿™ä¸ªï¼š</p>
<h3 data-id="heading-18">æ ¸å¿ƒç—›ç‚¹</h3>
<ul>
<li><strong>å¤š SDK åˆ†æ•£</strong>ï¼šæ¯ä¸ªåŠŸèƒ½æ¨¡å—å•ç‹¬æä¾› JARï¼Œç”¨æˆ·éœ€è¦é€ä¸€é›†æˆå’Œç®¡ç†</li>
<li><strong>è°ƒç”¨å¤æ‚</strong>ï¼šä¸åŒæ¨¡å—é—´å­˜åœ¨ä¾èµ–å’ŒåŒ…åå†²çªï¼Œç”¨æˆ·åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ä¸æ–¹ä¾¿</li>
<li><strong>å‡çº§ç»´æŠ¤å›°éš¾</strong>ï¼šæ¯æ¬¡æ›´æ–°éƒ½è¦åŒæ­¥å¤šä¸ª JARï¼Œå®¹æ˜“å‡ºé”™</li>
</ul>
<pre><code class="hljs language-css" lang="css">android {
    sourceSets {
        <span class="hljs-selector-tag">main</span> {
            java<span class="hljs-selector-class">.srcDirs</span> += <span class="hljs-selector-attr">[<span class="hljs-string">'../SDK_Core/src/main/java'</span>]</span>
        }
    }
}
</code></pre>
<p>å³æ—¶æ¢å¤æ­£å¸¸ã€‚</p>
<p>è¿™æ˜¯ä½ ç›®å‰é—®é¢˜çš„æ ¹æºï¼Œå¹¶ä¸”å·²ç»å½»åº•è§£å†³ã€‚</p>
<hr/>
<h2 data-id="heading-19">å…­ã€æ€»ç»“</h2>





























<table><thead><tr><th>èƒ½åŠ›</th><th>ä¸ºä»€ä¹ˆå¿…é¡»ä½¿ç”¨æºç ç›®å½•æ–¹å¼</th></tr></thead><tbody><tr><td>ä¸çˆ†çº¢</td><td>Android Studio èƒ½è¯†åˆ«æºç </td></tr><tr><td>æ‰“åŒ…ç¨³å®š</td><td>æ‰€æœ‰ä»£ç ç”±é¡¶å±‚ç»Ÿä¸€æ„å»º</td></tr><tr><td>æ··æ·†ç»Ÿä¸€</td><td>é¿å…å¤š module å†²çª</td></tr><tr><td>å®Œå…¨æ§åˆ¶</td><td>ä¸å†å— module çš„ build.gradle å¹²æ‰°</td></tr><tr><td>å¹²å‡€</td><td>ä¸éœ€è¦å¤åˆ¶æºç </td></tr></tbody></table>
<p>æœ€ç»ˆè¾“å‡ºï¼š</p>
<ul>
<li>å• AAR / å• JAR</li>
<li>å®Œæ•´åŒ…å« Base + Core + Standard çš„å…¨éƒ¨ä»£ç </li>
<li>æ— ä¾èµ–é—®é¢˜</li>
<li>å®Œæ•´å…¼å®¹ Gradle 8+</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JS å¯¹è±¡ï¼šä» â€œæ•£è£…â€ åˆ° â€œç²¾è£…â€ çš„æ™‹çº§ä¹‹è·¯]]></title>    <link>https://juejin.cn/post/7573972055268720678</link>    <guid>https://juejin.cn/post/7573972055268720678</guid>    <pubDate>2025-11-19T02:48:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573972055268720678" data-draft-id="7573896789365833766" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JS å¯¹è±¡ï¼šä» â€œæ•£è£…â€ åˆ° â€œç²¾è£…â€ çš„æ™‹çº§ä¹‹è·¯"/> <meta itemprop="keywords" content="JavaScript,å‰ç«¯,Node.js"/> <meta itemprop="datePublished" content="2025-11-19T02:48:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£æ­¢ä½•å®‰å•Š"/> <meta itemprop="url" content="https://juejin.cn/user/2517239724512420"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JS å¯¹è±¡ï¼šä» â€œæ•£è£…â€ åˆ° â€œç²¾è£…â€ çš„æ™‹çº§ä¹‹è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2517239724512420/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£æ­¢ä½•å®‰å•Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T02:48:05.000Z" title="Wed Nov 19 2025 02:48:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨é˜…è¯»å‰å…ˆè§£å†³ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯å•¥æ˜¯å¯¹è±¡ï¼Ÿè¯´ç™½äº†ï¼ŒJS é‡Œçš„ â€œå¯¹è±¡â€ å°±æ˜¯ä¸ª â€œä¸‡èƒ½æ”¶çº³ç®±â€â€”â€” ä¸ç®¡æ˜¯æ•°å­—ã€å­—ç¬¦ä¸²è¿™äº›é›¶æ•£æ•°æ®ï¼Œè¿˜æ˜¯èƒ½å¹²æ´»çš„æ–¹æ³•ï¼Œéƒ½èƒ½å¾€é‡Œé¢å¡ï¼ŒæŠŠæ‚ä¹±çš„ä¿¡æ¯è§„æ•´å¾—æ˜æ˜ç™½ç™½ã€‚è€Œæ”¯æ’‘è¿™ä¸ª â€œæ”¶çº³ç®±ä½“ç³»â€ çš„ï¼Œä¸€è¾¹æ˜¯åƒ â€œå­¤å®¶å¯¡äººâ€ ä¼¼çš„<strong>åŸå§‹ç±»å‹</strong>ï¼ˆstringã€numberã€booleanã€undefinedã€nullã€Symbolã€bigIntï¼‰ï¼Œå®ƒä»¬å•æ‰“ç‹¬æ–—ï¼Œä¸èƒ½æŒ‚é¢å¤–å±æ€§ï¼›å¦ä¸€è¾¹æ˜¯çƒ­çƒ­é—¹é—¹çš„<strong>å¼•ç”¨ç±»å‹</strong>ï¼ˆä¹Ÿå°±æ˜¯å¯¹è±¡å®¶æ—ï¼‰ï¼Œå®ƒä»¬æ˜¯ â€œç¾¤å±…é€‰æ‰‹â€ï¼Œèƒ½è£…èƒ½å­˜è¿˜èƒ½æ‰©å±•ã€‚</p>
<p>ä»Šå¤©å’±å°±æ¥æ‰’ä¸€æ‰’è¿™ä¸ª â€œæ”¶çº³ç®±â€ æ˜¯å’‹é€ å‡ºæ¥çš„ã€èƒŒåæœ‰å•¥éšè—æ“ä½œã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å¯¹è±¡çš„ â€œè¯ç”Ÿè®°â€ï¼šä¸‰ç§åˆ›å»ºæ–¹æ³•</h3>
<p>æƒ³è¦æ‹¥æœ‰ä¸€ä¸ªå¯¹è±¡ï¼ŒJS ç»™äº†ä½ ä¸‰ç§ <strong>å¬å”¤æœ¯</strong>ï¼š</p>
<h4 data-id="heading-2">1. å¯¹è±¡å­—é¢é‡ï¼šâ€œæˆ‘æ‡’æˆ‘éª„å‚²â€</h4>
<p>å°±åƒæˆ‘ä»¬ç‚¹å¤–å–ç›´æ¥é€‰å¥—é¤ï¼Œå¯¹è±¡å­—é¢é‡æ˜¯æœ€ç›´æ¥çš„åˆ›å»ºæ–¹å¼ï¼š</p>
<pre><code class="hljs language-css" lang="css">const obj = {
    <span class="hljs-selector-tag">a</span>: <span class="hljs-number">1</span>
}ï¼›
</code></pre>
<p>ä½ è‚¯å®šä¼šè¯´ï¼šä»€ä¹ˆï¼Ÿå°±è¿™ä¸€ç‚¹ä»£ç ï¼Ÿå¯¹ï¼Œå°±è¿™ä¸€ç‚¹ï¼Œå¯¹è±¡å°±åˆ°æ‰‹äº†ï¼</p>
<h4 data-id="heading-3">2. new Object ()ï¼šâ€œèµ°æµç¨‹ï¼Œå’±æ­£è§„â€</h4>
<p>å¦‚æœä½ æ˜¯ä¸ª â€œæµç¨‹æ§â€ï¼Œå¯ä»¥ç”¨æ„é€ å‡½æ•°æ­£å„¿å…«ç»åˆ›å»ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">obj</span> = new Object()<span class="hljs-comment">; // æ„é€ å‡½æ•°</span>
<span class="hljs-attr">obj.name</span> = <span class="hljs-string">'henry'</span><span class="hljs-comment">;</span>
const <span class="hljs-attr">abc</span> = <span class="hljs-string">'age'</span><span class="hljs-comment">;</span>
obj<span class="hljs-section">[abc]</span> = 18<span class="hljs-comment">;   // åˆ é™¤</span>

delete obj<span class="hljs-section">[abc]</span><span class="hljs-comment">;</span>
console.log(obj)<span class="hljs-comment">;</span>
</code></pre>
<p>æ‰“å°ç»“æœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/917b3f2c7c5945c695ad4ea73cd643aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125285&amp;x-signature=9%2BZ9hphXeISuc1%2F0Y4NXj9G9bWU%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ç§æ–¹æ³•ä¹Ÿå¯è¡Œï¼Œéå¸¸æ­£è§„ï¼Œèµï¼</p>
<h4 data-id="heading-4">3. new è‡ªå®šä¹‰æ„é€ å‡½æ•°ï¼šâ€œæ‰¹é‡ç”Ÿäº§ï¼Œæ•ˆç‡ç‹è€…â€</h4>
<p>å½“ä½ éœ€è¦ â€œå¤åˆ¶ç²˜è´´â€ å¼åˆ›å»ºä¸€å †ç›¸ä¼¼å¯¹è±¡æ—¶ï¼Œæ„é€ å‡½æ•°å°±æ˜¯ä½ çš„ â€œç”Ÿäº§æµæ°´çº¿â€ï¼æ¯”å¦‚æˆ‘ä»¬é€ ä¸ª<code>Person</code>æ„é€ å‡½æ•°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params"/>) {

}
<span class="hljs-keyword">const</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj);
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b4a2bc9e446a4931b6196a27c293bbc4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125285&amp;x-signature=CWGK0BP56LkdEuBoDtTOok%2FxlW4%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5">äºŒã€æ„é€ å‡½æ•°ï¼šâ€œæ‰¹é‡é€ å¯¹è±¡çš„é»‘ä½œåŠâ€</h3>
<p>æ„é€ å‡½æ•°å°±åƒä¸ª â€œå¯¹è±¡å·¥å‚â€ï¼Œ<strong>è¢« new è°ƒç”¨æ—¶æ‰ç®—æ˜¯çœŸæ­£çš„æ„é€ å‡½æ•°</strong>ã€‚å½“ä½ éœ€è¦æ‰¹é‡åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå®ƒå°±æ˜¯ä½ çš„ â€œæ•ˆç‡ç¥å™¨â€ï¼</p>
<p>å…¶ä¸­æ€»å…±æœ‰2ç§æ–¹æ³•ï¼Œæˆ‘ç§°ä¹‹ä¸º<strong>æ‰‹å·¥å°ä½œåŠ</strong> å’Œ <strong>è‡ªåŠ¨åŒ–å·¥å‚</strong>ã€‚</p>
<p>ä½ ä»¬æœ€å–œæ¬¢çš„ä»£ç ç¯èŠ‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ‰‹å·¥å°ä½œåŠï¼šæ¯æ¬¡é€ å¯¹è±¡éƒ½å¾—é‡å¤å†™</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Insert</span>(<span class="hljs-params">name, age, job</span>) {
    <span class="hljs-keyword">const</span> obj = {
        <span class="hljs-attr">name</span>: name,
        <span class="hljs-attr">age</span>: age,
        <span class="hljs-attr">job</span>: job
    }
    <span class="hljs-keyword">return</span> obj;
}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Insert</span>(<span class="hljs-string">'henry'</span>,<span class="hljs-number">19</span>,<span class="hljs-string">'coder'</span>));
</code></pre>
<p>ç»“æœä¹Ÿæ­£ç¡®çš„æ‰“å°å‡ºäº†æˆ‘ä»¬èµ‹çš„å€¼ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b66e3a35c0cd45b7a193205626dd6276~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125285&amp;x-signature=J71inPS0Kd2wHd4Wwdf37LMrXrA%3D" alt="image.png" loading="lazy"/></p>
<p>ä½†æ˜¯è¿™ç§å†™æ³•å°±æœ‰ä¸€ä¸ª<strong>ç¼ºç‚¹</strong>ï¼æˆ‘åªæ˜¯ç»™äº†ä¸€ç»„æ•°æ®è¾“å‡ºç»“æœï¼Œé‚£å¦‚æœæ˜¯10ä¸ªå‘¢ï¼Œ100ä¸ªå‘¢ï¼Ÿç”šè‡³æ˜¯è€æ¿è®©ä½ æŠŠå…¨å…¬å¸äººçš„ä¿¡æ¯è¾“å…¥è¿›å»å‘¢ï¼Ÿéš¾é“ä½ ä¸€ä¸ªä¸€ä¸ªå»<code>console.log</code>ï¼Ÿæ˜¾ç„¶åœ¨åºå¤§çš„æ•°æ®ä¸‹è¿™ç§è‚¯å®šæ˜¯ä¸æ¨èçš„ï¼Œé‚£å°±æœ‰è¯·å¦å¤–ä¸€ä½--<strong>è‡ªåŠ¨åŒ–å·¥å‚</strong>é—ªäº®ç™»åœºï¼</p>
<pre><code class="hljs language-ini" lang="ini">// è‡ªåŠ¨åŒ–å·¥å‚ï¼šnewä¸€ä¸‹ï¼Œå¯¹è±¡è‡ªåŠ¨é€ å¥½
function Car(color) {
    <span class="hljs-attr">this.name</span> = <span class="hljs-string">'su7'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">this.height</span> = <span class="hljs-string">'1400'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">this.long</span> = <span class="hljs-string">'4800'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">this.weight</span> = <span class="hljs-string">'1500'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">this.color</span> = color<span class="hljs-comment">;</span>
}
const <span class="hljs-attr">car1</span> = new Car(<span class="hljs-string">'purple'</span>)<span class="hljs-comment">; // å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡</span>
console.log(car1)<span class="hljs-comment">;</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2bf93326dc884f3ea276ee1ff06669c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125285&amp;x-signature=YXniLwq4pQC6ekRd8GgL6w6mgqI%3D" alt="image.png" loading="lazy"/></p>
<p>æ‹¿ä»£ç ä¸­çš„å°ç±³su7ä¸¾ä¾‹å­ï¼š</p>
<p>å¦‚æœé›·æ€»æƒ³è®©ä½ æ‰¹é‡ç”Ÿäº§su7ï¼Œä½ å¦‚æœç”¨<strong>æ‰‹å·¥å°ä½œåŠ</strong> çš„æ–¹æ³•ï¼Œé‚£å¾—å¤šå°‘è¡Œä»£ç å•Šï¼æ¯è¾†è½¦çš„å‹å·ä¿¡æ¯éƒ½å¾—é‡å¤è¾“å…¥ï¼Œæ•ˆç‡ä½çš„æ²¡çœ¼çœ‹ã€‚é‚£ä¹ˆæ€ä¹ˆå»è§£å†³å‘¢ï¼Ÿç®€å•ï¼ä½ å¾ˆå¿«å°±å‘ç°ï¼Œæ¯è¾†è½¦å®ƒçš„é•¿åº¦å•Šï¼Œé«˜åº¦å•Šï¼Œé‡é‡å•Šç­‰ç­‰éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ²¡å¿…è¦å»é‡å¤è¾“å…¥ï¼Œåªæœ‰é¢œè‰²ä¸ä¸€æ ·è€Œå·²ï¼Œæ‰€ä»¥ä¸ºäº†æé«˜æ•ˆç‡ï¼Œæˆ‘ä»¬æœ‰è¯·<strong>this</strong>å¸¦æ¥å®ƒçš„<strong>è‡ªåŠ¨åŒ–å·¥å‚</strong>ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">function Car(color) {
    <span class="hljs-attr">this.name</span> = <span class="hljs-string">'su7'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">this.height</span> = <span class="hljs-string">'1400'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">this.long</span> = <span class="hljs-string">'4800'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">this.weight</span> = <span class="hljs-string">'1500'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">this.color</span> = color<span class="hljs-comment">;</span>
}
const <span class="hljs-attr">car1</span> = new Car(<span class="hljs-string">'purple'</span>)<span class="hljs-comment">; </span>
console.log(car1)<span class="hljs-comment">;</span>
const <span class="hljs-attr">car2</span> = new Car(<span class="hljs-string">'blue'</span>)<span class="hljs-comment">;</span>
console.log(car2)<span class="hljs-comment">;</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8e989682718472793a3f6acfe04aaae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125285&amp;x-signature=Flnhsq2S6HdEAiV35lYXy9zRqxY%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æ­¤è¿™èˆ¬ï¼Œæˆ‘ä»¬åªéœ€ä¼ è¾“æ¯è¾†è½¦ä¸åŒçš„æ•°æ®ï¼ˆæ¯”å¦‚é¢œè‰²ï¼‰ï¼Œå…¶ä»–çš„å·²ç»å›ºå®šå¥½çš„æ•°æ®æˆ‘ä»¬å°±å¯ä»¥çœç•¥ä¸å†™ï¼Œå¤§å¤§æé«˜äº†æˆ‘ä»¬æ•²ä»£ç çš„æ•ˆç‡ï¼Œå­¦åºŸäº†æ²¡ï¼Ÿ</p>
<h3 data-id="heading-6">ä¸‰ã€new å…³é”®å­—ï¼šâ€œæ„é€ å‡½æ•°çš„å¹•åBOSSâ€</h3>
<p>ä½ ä»¥ä¸º new åªæ˜¯ä¸ªå…³é”®å­—ï¼Ÿå®ƒå¯æ˜¯ â€œå¯¹è±¡è¯ç”Ÿâ€ çš„å¹•åå¯¼æ¼”ï¼å®ƒå¹²äº†ä¸‰ä»¶å¤§äº‹ï¼š</p>
<ol>
<li><strong>åˆ›å»ºä¸€ä¸ª this å¯¹è±¡</strong>ï¼šç›¸å½“äºæ­äº†ä¸ªç©ºèˆå°ï¼›</li>
<li><strong>æ‰§è¡Œæ„é€ å‡½æ•°ä»£ç </strong>ï¼šå¾€ this ä¸Šç‹‚åŠ å±æ€§æ–¹æ³•ï¼ŒæŠŠèˆå°å¸ƒç½®å¥½ï¼›</li>
<li><strong>è¿”å› this å¯¹è±¡</strong>ï¼šæŠŠå¸ƒç½®å¥½çš„èˆå°äº¤ç»™ä½ ã€‚</li>
</ol>
<p>å’±ä»¬ç”¨ä»£ç æ¨¡æ‹Ÿä¸€ä¸‹ new çš„é€»è¾‘ï¼Œä¸€ç›®äº†ç„¶ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">function person() {
    const <span class="hljs-attr">_this</span> = {}<span class="hljs-comment">;   // ç¬¬ä¸€æ­¥ï¼šé€ ä¸ªç©ºthis</span>
    <span class="hljs-attr">_this.name</span> = <span class="hljs-string">'su7'</span><span class="hljs-comment">; // ç¬¬äºŒæ­¥ï¼šå¾€thisä¸ŠåŠ ä¸œè¥¿</span>
    <span class="hljs-attr">_this.color</span> = <span class="hljs-string">'green'</span><span class="hljs-comment">;</span>
    return _this<span class="hljs-comment">;       // ç¬¬ä¸‰æ­¥ï¼šè¿”å›this</span>
    const <span class="hljs-attr">obj</span> = person()<span class="hljs-comment">;</span>
    console.log(obj)<span class="hljs-comment">;   // çœ‹çœ‹å®åŠ›</span>
}
</code></pre>
<p>çœ‹çœ‹å¯¼æ¼”çš„æˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d963be30aed744ac859c72ee420a874a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125285&amp;x-signature=h3FPGuBeISsdYNd7%2FF5GcF0qMuA%3D" alt="image.png" loading="lazy"/></p>
<p><strong>this</strong>å·²ç»è¢«å®˜æ–¹å¾ç”¨äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œåªæ˜¯ç”¨_thisæ¨¡æ‹Ÿthisçš„å¯¹è±¡ï¼Œå¤§å®¶ä¸è¦ææ··äº†å“ˆï¼</p>
<h3 data-id="heading-7">å››ã€åŒ…è£…ç±»ï¼šâ€œåŸå§‹ç±»å‹çš„éšè—é©¬ç”²â€</h3>
<p>ä¾æ—§å…ˆä¸Šä»£ç ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">var <span class="hljs-attr">str</span> = <span class="hljs-string">'hello'</span><span class="hljs-comment">; </span>
console.log(str.length)<span class="hljs-comment">;</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6c670766a6b4d8c9895493fb8cd34b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125285&amp;x-signature=Mu3tvqEwU52Dk9%2BADMN%2F%2F32Sqe8%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰“å°è¾“å‡ºçš„ç»“æœä¸º<code>5</code>ï¼Œä¸º<code>hello</code>çš„é•¿åº¦ï¼Œçœ‹ä¼¼æ²¡æœ‰é—®é¢˜ã€‚Butï¼æœ‰äººä¼šé—®ï¼šä½œè€…ä½ ä¹‹å‰ä¸æ˜¯è¯´åŸå§‹ç±»å‹ä¸æ˜¯ä¸èƒ½æœ‰å±æ€§æ–¹æ³•å—ï¼Ÿé‚£<code>str.length</code>æ˜¯å’‹æ¥çš„ï¼Ÿéšç€è´¨ç–‘å£°è¶Šæ¥è¶Šå¤§ï¼Œæˆ‘ä¹Ÿä¸å«ç³Šï¼Œè¿™å°±ä¸å¾—ä¸è®²è®²<strong>åŒ…è£…ç±»</strong>äº†ã€‚</p>
<p>JS æ˜¯ä¸ª â€œæˆç²¾â€ï¼Œå½“ä½ ç”¨åŸå§‹ç±»å‹å­—é¢é‡æ—¶ï¼Œå®ƒä¼šå·å·ç»™ä½ å¥—ä¸ª â€œåŒ…è£…å¯¹è±¡â€ çš„é©¬ç”²ï¼ˆæ¯”å¦‚<code>new String()</code>ï¼‰ï¼Œè®©åŸå§‹ç±»å‹ä¹Ÿèƒ½ä¸´æ—¶ â€œè£…â€ æˆå¯¹è±¡ç”¨ç”¨ã€‚ä½†è¿™é©¬ç”²å¾ˆ â€œè–„â€â€”â€”<strong>å‚ä¸è¿ç®—æ—¶ä¼šè‡ªåŠ¨æ‹†æˆåŸå§‹ç±»å‹ï¼Œèµ‹å€¼æ—¶è¿˜ä¼šæŠŠä¸´æ—¶åŠ çš„å±æ€§å·å·åˆ æ‰</strong>ï¼</p>
<blockquote>
<p>å…·ä½“æ¥è¯´å°±æ˜¯ï¼šå› ä¸º js æ˜¯å¼±ç±»å‹è¯­è¨€ï¼Œæ‰€ä»¥åªæœ‰åœ¨èµ‹å€¼è¯­å¥æ‰§è¡Œæ—¶æ‰ä¼šåˆ¤æ–­å€¼çš„ç±»å‹(typeof)ï¼Œå½“å€¼è¢«åˆ¤å®šä¸ºåŸå§‹ç±»å‹æ—¶ï¼Œå°±ä¼šè‡ªåŠ¨å°†åŒ…è£…å¯¹è±¡ä¸Šæ·»åŠ çš„å±æ€§ç§»é™¤</p>
</blockquote>
<p>æ‹¿åˆšåˆšçš„<code>hello</code>ä¸¾ä¾‹å­ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">var <span class="hljs-attr">str</span> = <span class="hljs-string">'hello'</span><span class="hljs-comment">; // çœ‹ä¼¼æ˜¯åŸå§‹ç±»å‹ï¼Œå®é™…èƒŒåæ˜¯new String('hello')</span>
<span class="hljs-attr">str.length</span> = <span class="hljs-number">2</span><span class="hljs-comment">;    // è¯•å›¾ç»™å®ƒåŠ ä¸ªå±æ€§</span>
console.log(str.length)<span class="hljs-comment">;  // çŒœçŒœæ˜¯2å—ï¼Ÿä¸ï¼Œè¿˜æ˜¯5ï¼å› ä¸ºé©¬ç”²è¢«æ‹†äº†ï¼Œä¸´æ—¶å±æ€§æ²¡äº†</span>
console.log(typeof(str))<span class="hljs-comment">; // ç±»å‹è¿˜æ˜¯stringï¼Œé©¬ç”²åªæ˜¯ä¸´æ—¶ç©¿ç©¿</span>
</code></pre>
<p>ç»“æœå’Œé¢„æœŸä¸€æ ·ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79cf8d82069944a493a99c614c120e25~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125285&amp;x-signature=h6uE0ofie3oUHOR7XAkCu%2BTVtOk%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-8">æ€»ç»“</h2>
<p>å…¶å® JS é‡Œçš„å¯¹è±¡é€»è¾‘ï¼Œæœ¬è´¨å°±æ˜¯ <strong>â€œæŠŠé›¶æ•£çš„æ•°æ®å’ŒåŠŸèƒ½æ‰“åŒ…æˆæ•´ä½“â€</strong>â€”â€” å­—é¢é‡æ˜¯ â€œéšæ‰‹åŒ…â€ï¼Œæ„é€ å‡½æ•°æ˜¯ â€œæ‰¹é‡ç”Ÿäº§çº¿â€ï¼Œnew æ˜¯ â€œç”Ÿäº§çº¿çš„æ ¸å¿ƒå¼€å…³â€ï¼Œè€ŒåŒ…è£…ç±»åˆ™æ˜¯ â€œè®©é›¶æ•£åŸå§‹å€¼ä¸´æ—¶äº«å—å¯¹è±¡å¾…é‡çš„ä¾¿æ°‘æœåŠ¡â€ã€‚</p>
<p>è¿™äº›è®¾è®¡çœ‹ä¼¼èŠ±é‡Œèƒ¡å“¨ï¼Œå®åˆ™éƒ½æ˜¯ä¸ºäº†å¹³è¡¡ â€œæ˜“ç”¨æ€§â€ å’Œ â€œä¸“ä¸šæ€§â€ï¼šæ—¢ä¸è®©æ–°æ‰‹è§‰å¾—åˆ›å»ºå¯¹è±¡å¤ªå¤æ‚ï¼Œä¹Ÿèƒ½è®©è€æ‰‹é€šè¿‡æ„é€ å‡½æ•°ã€åŒ…è£…ç±»çš„åº•å±‚é€»è¾‘ç©å‡ºèŠ±æ ·ã€‚</p>
<p>é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œä¸‹æ¬¡å†å†™å¯¹è±¡ç›¸å…³ä»£ç æ—¶ï¼Œä½ ä¸å¦¨æƒ³æƒ³ï¼šæˆ‘è¿™æ˜¯åœ¨ <strong>â€œéšæ‰‹åŒ…ä¸ªå°ç‰©ä»¶â€</strong>ï¼Œè¿˜æ˜¯åœ¨ <strong>â€œå¼€ç”Ÿäº§çº¿æ‰¹é‡é€ è´§â€</strong>ï¼ŸåŸå§‹å€¼çš„ â€œé©¬ç”²â€ ä¼šä¸ä¼šåœ¨è¿ç®—æ—¶æ‰ä¸‹æ¥ï¼Ÿæƒ³é€šè¿™äº›ï¼Œä½ å°±ä¸å†æ˜¯ â€œåªä¼šç”¨å¯¹è±¡â€ çš„æ–°æ‰‹ï¼Œè€Œæ˜¯ â€œæ‡‚å¯¹è±¡åº•å±‚é€»è¾‘â€ çš„è¿›é˜¶ç©å®¶ â€”â€” æ¯•ç«Ÿ JS çš„é­…åŠ›ï¼Œå°±åœ¨äºè¿™äº›çœ‹ä¼¼ <strong>â€œåå¸¸è¯†â€</strong> å´åˆ <strong>â€œè¶…åˆç†â€</strong> çš„è®¾è®¡é‡Œé¢ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HarmonyOSï¼šå¼¹å‡ºæ¡†è’™å±‚æ§åˆ¶]]></title>    <link>https://juejin.cn/post/7573864324714315828</link>    <guid>https://juejin.cn/post/7573864324714315828</guid>    <pubDate>2025-11-19T01:22:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573864324714315828" data-draft-id="7573900879997583360" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HarmonyOSï¼šå¼¹å‡ºæ¡†è’™å±‚æ§åˆ¶"/> <meta itemprop="keywords" content="HarmonyOS"/> <meta itemprop="datePublished" content="2025-11-19T01:22:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ChinaDragon"/> <meta itemprop="url" content="https://juejin.cn/user/3966693681410840"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HarmonyOSï¼šå¼¹å‡ºæ¡†è’™å±‚æ§åˆ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3966693681410840/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ChinaDragon
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T01:22:14.000Z" title="Wed Nov 19 2025 01:22:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€ç®€ä»‹</h3>
<blockquote>
<p>å¼€å‘è€…å¯¹å¼¹å‡ºæ¡†çš„å®šåˆ¶ä¸ä»…é™äºå¼¹å‡ºæ¡†é‡Œçš„å†…å®¹ï¼Œå¯¹å¼¹å‡ºæ¡†è’™å±‚çš„å®šåˆ¶éœ€æ±‚ä¹Ÿé€æ¸å¢åŠ ã€‚æœ¬æ–‡ä»‹ç»ArkUIå¼¹å‡ºæ¡†çš„è’™å±‚æ§åˆ¶ï¼ŒåŒ…æ‹¬ç‚¹å‡»è’™å±‚æ—¶æ˜¯å¦æ¶ˆå¤±ã€è’™å±‚åŒºåŸŸã€è’™å±‚é¢œè‰²å’Œè’™å±‚åŠ¨ç”»ç­‰ç‰¹æ€§ã€‚</p>
</blockquote>
<h3 data-id="heading-1">äºŒã€ä½¿ç”¨çº¦æŸ</h3>
<blockquote>
<p>ArkUIæä¾›å¤šç§å¼¹å‡ºæ¡†ï¼Œä¸åŒç±»å‹çš„å¼¹å‡ºæ¡†å…·å¤‡ä¸åŒçš„è’™å±‚å®šåˆ¶èƒ½åŠ›ã€‚è¯¦æƒ…è¯·å‚é˜…ä¸‹è¡¨ï¼š</p>
</blockquote>







































































































<table><thead><tr><th align="left">æ¥å£&amp;ç»„ä»¶</th><th align="left">autoCancel</th><th align="left">maskRect</th><th align="left">isModal</th><th align="left">immersiveMode</th></tr></thead><tbody><tr><td align="left">openCustomDialog</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td></tr><tr><td align="left">openCustomDialogWithController</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td></tr><tr><td align="left">presentCustomDialog</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td></tr><tr><td align="left">updateCustomDialog</td><td align="left">æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td></tr><tr><td align="left">CustomDialog</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td></tr><tr><td align="left">showDialog</td><td align="left">ä¸æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td></tr><tr><td align="left">showAlertDialog</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td></tr><tr><td align="left">showActionSheet</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ	æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left"/></tr><tr><td align="left">showActionMenu</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td></tr><tr><td align="left">showDatePickerDialog</td><td align="left">ä¸æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td></tr><tr><td align="left">CalendarPickerDialog</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td></tr><tr><td align="left">showTimePickerDialog</td><td align="left">ä¸æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td></tr><tr><td align="left">showTextPickerDialog</td><td align="left">ä¸æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td></tr></tbody></table>
<blockquote>
<p><strong>è¯´æ˜</strong>
è®¾ç½®autoCancelå‚æ•°ï¼Œå¯æ§åˆ¶å¼¹å‡ºæ¡†è’™å±‚è¢«ç‚¹å‡»æ—¶æ˜¯å¦æ¶ˆå¤±ã€‚ <br/>
è®¾ç½®maskRectå‚æ•°ï¼Œå¯å®šåˆ¶å¼¹å‡ºæ¡†çš„è’™å±‚çš„å¤§å°å’Œä½ç½®è¿›è¡Œå®šåˆ¶ã€‚æ­¤å¤–ï¼Œè’™å±‚èŒƒå›´å†…çš„äº‹ä»¶æ— æ³•é€ä¼ ï¼Œè€Œè’™å±‚èŒƒå›´å¤–çš„äº‹ä»¶å¯ä»¥é€ä¼ ã€‚ <br/>
è®¾ç½®isModalå‚æ•°ï¼Œå¯å®šåˆ¶å¼¹å‡ºæ¡†çš„æ¨¡æ€çŠ¶æ€ï¼šéæ¨¡æ€å¼¹å‡ºæ¡†æ— è’™å±‚ï¼Œæ”¯æŒä¸å‘¨å›´ç»„ä»¶äº¤äº’ï¼›æ¨¡æ€å¼¹å‡ºæ¡†æœ‰è’™å±‚ï¼Œç¦æ­¢ä¸å‘¨å›´ç»„ä»¶äº¤äº’ã€‚ <br/>
å½“levelModeå±æ€§è®¾ç½®ä¸ºLevelMode.EMBEDDEDæ—¶ï¼Œè®¾ç½®immersiveModeå‚æ•°ï¼Œå¯å®šåˆ¶å¼¹å‡ºæ¡†è’™å±‚æ˜¯å¦å»¶ä¼¸è‡³çŠ¶æ€æ åŠå¯¼èˆªæ ã€‚</p>
</blockquote>

























































































<table><thead><tr><th align="left">æ¥å£&amp;ç»„ä»¶</th><th align="left">maskColor</th><th align="left">transition</th><th align="left">maskTransition</th></tr></thead><tbody><tr><td align="left">openCustomDialog</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td></tr><tr><td align="left">openCustomDialogWithController</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td></tr><tr><td align="left">presentCustomDialog	æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left"/></tr><tr><td align="left">updateCustomDialog</td><td align="left">æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td></tr><tr><td align="left">CustomDialog</td><td align="left">æ”¯æŒ</td><td align="left">ä¸æ”¯æŒï¼ˆå¯ç”±openAnimationå’ŒcloseAnimationæ›¿ä»£ï¼‰</td><td align="left">ä¸æ”¯æŒ</td></tr><tr><td align="left">showDialog</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td></tr><tr><td align="left">showAlertDialog</td><td align="left">ä¸æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td></tr><tr><td align="left">showActionSheet</td><td align="left">ä¸æ”¯æŒ</td><td align="left">æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td></tr><tr><td align="left">showActionMenu</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td></tr><tr><td align="left">showDatePickerDialog</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td></tr><tr><td align="left">CalendarPickerDialog</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td></tr><tr><td align="left">showTimePickerDialog</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td></tr><tr><td align="left">showTextPickerDialog</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td><td align="left">ä¸æ”¯æŒ</td></tr></tbody></table>
<blockquote>
<p><strong>è¯´æ˜</strong>
è®¾ç½®maskColorå‚æ•°ï¼Œå¯å®šåˆ¶å¼¹å‡ºæ¡†è’™å±‚çš„é¢œè‰²ã€‚ <br/>
è®¾ç½®openAnimationå‚æ•°ï¼Œå¯å®šåˆ¶å¼¹å‡ºæ¡†çš„è¿›å…¥åŠ¨ç”»ï¼ŒåŒæ—¶å½±å“è’™å±‚åŠ¨ç”»ã€‚è¯¥æ¥å£ä»…æ”¯æŒç®€å•çš„åŠ¨ç”»è®¾ç½®ï¼Œä¸æ”¯æŒå¤æ‚åŠ¨ç”»å®šåˆ¶ã€‚ <br/>
è®¾ç½®closeAnimationå‚æ•°ï¼Œå¯å®šåˆ¶å¼¹å‡ºæ¡†çš„é€€å‡ºåŠ¨ç”»ï¼ŒåŒæ—¶å½±å“è’™å±‚åŠ¨ç”»ã€‚è¯¥æ¥å£ä»…æ”¯æŒç®€å•çš„åŠ¨ç”»è®¾ç½®ï¼Œä¸æ”¯æŒå¤æ‚åŠ¨ç”»å®šåˆ¶ã€‚ <br/>
è®¾ç½®transitionå‚æ•°ï¼Œå¯å®šåˆ¶å¼¹å‡ºæ¡†çš„è¿›å…¥å’Œé€€å‡ºåŠ¨ç”»ï¼ŒåŒæ—¶å½±å“è’™å±‚åŠ¨ç”»ã€‚ <br/>
è®¾ç½®maskTransitionå‚æ•°ï¼Œå¯å®šåˆ¶å¼¹å‡ºæ¡†çš„è’™å±‚åŠ¨ç”»ã€‚</p>
</blockquote>
<h3 data-id="heading-2">ä¸‰ã€å¼¹å‡ºæ¡†è’™å±‚æ˜¾éšæ§åˆ¶</h3>
<blockquote>
<p>é€šè¿‡autoCancelï¼ŒisModalå±•ç¤ºå¼¹å‡ºæ¡†åœ¨è’™å±‚æ˜¾éšæ§åˆ¶æ–¹é¢çš„èƒ½åŠ›ã€‚ <br/>
è®¾ç½®autoCancelä¸ºfalseï¼Œå–æ¶ˆé»˜è®¤ç‚¹å‡»è’™å±‚æ—¶å¼¹çª—æ¶ˆå¤±ã€‚</p>
</blockquote>
<pre><code class="hljs language-bash" lang="bash">// xxx.ets
  autoCancelOpt: promptAction.CustomDialogOptions = {
    builder: () =&gt; {
      this.myBuilder();
    },
    autoCancel: <span class="hljs-literal">false</span>,
  } as promptAction.CustomDialogOptions;

  Button(<span class="hljs-string">"openCustomDialog autoCancel:false"</span>)
    .width(<span class="hljs-string">'100%'</span>)
    .margin({ top: 10 })
    .onClick(() =&gt; {
      this.getUIContext().getPromptAction().openCustomDialog(this.autoCancelOpt)
    })
</code></pre>
<blockquote>
<p>è®¾ç½®isModalä¸ºfalseï¼Œå°†é»˜è®¤çš„æ¨¡æ€å¼¹å‡ºæ¡†å˜ä¸ºéæ¨¡æ€å¼¹å‡ºæ¡†ã€‚</p>
</blockquote>
<pre><code class="hljs language-bash" lang="bash">// xxx.ets
modalOpt: promptAction.CustomDialogOptions = {
  builder: () =&gt; {
    this.myBuilder();
  },
  isModal: <span class="hljs-literal">false</span>,
} as promptAction.CustomDialogOptions;

Button(<span class="hljs-string">"openCustomDialog isModal:false"</span>)
  .width(<span class="hljs-string">'100%'</span>)
  .margin({ top: 10 })
  .onClick(() =&gt; {
    this.getUIContext().getPromptAction().openCustomDialog(this.modalOpt)
  })
</code></pre>
<h3 data-id="heading-3">å››ã€å¼¹å‡ºæ¡†è’™å±‚æ ·å¼æ§åˆ¶</h3>
<blockquote>
<p>è¯¥ç¤ºä¾‹é€šè¿‡maskRectã€immersiveModeå’ŒmaskColorå±•ç¤ºå¼¹å‡ºæ¡†åœ¨è’™å±‚æ ·å¼æ§åˆ¶æ–¹é¢çš„èƒ½åŠ›ã€‚ <br/>
è®¾ç½®maskRectå’ŒmaskColorï¼Œå®ç°è’™å±‚åŒºåŸŸå’Œè’™å±‚é¢œè‰²çš„è®¾ç½®ã€‚</p>
</blockquote>
<pre><code class="hljs language-bash" lang="bash">// xxx.ets
  maskOpt: promptAction.CustomDialogOptions = {
    builder: () =&gt; {
      this.myBuilder();
    },
    maskRect: {
      x: 0,
      y: 10,
      width: <span class="hljs-string">'100%'</span>,
      height: <span class="hljs-string">'90%'</span>
    },
    maskColor: <span class="hljs-string">"#33AA0000"</span>
  } as promptAction.CustomDialogOptions;

  Button(<span class="hljs-string">"openCustomDialog maskOpt"</span>)
    .width(<span class="hljs-string">'100%'</span>)
    .margin({ top: 10 })
    .onClick(() =&gt; {
      this.getUIContext().getPromptAction().openCustomDialog(this.maskOpt)
    })
</code></pre>
<blockquote>
<p>åœ¨levelModeä¸ºLevelMode.EMBEDDEDä¸‹ï¼Œå±•ç¤ºä¸åŒimmersiveModeå¯¹è’™å±‚åœ¨å¯¼èˆªæ å’ŒçŠ¶æ€æ çš„å»¶ä¼¸æ•ˆæœã€‚</p>
</blockquote>
<pre><code class="hljs language-bash" lang="bash">// xxx.ets
  @State immersiveMode: ImmersiveMode = ImmersiveMode.DEFAULT;

  Button(<span class="hljs-string">"openCustomDialog immersiveMode"</span>)
    .width(<span class="hljs-string">'100%'</span>)
    .margin({ top: 10 })
    .onClick(() =&gt; {
      this.immersiveMode =
        this.immersiveMode == ImmersiveMode.DEFAULT ? ImmersiveMode.EXTEND : ImmersiveMode.DEFAULT;
      this.getUIContext().getPromptAction().openCustomDialog({
        builder: () =&gt; {
          this.myBuilder();
        },
        levelMode: LevelMode.EMBEDDED,
        immersiveMode: this.immersiveMode,
      })
    })
</code></pre>
<h3 data-id="heading-4">äº”ã€å¼¹å‡ºæ¡†è’™å±‚åŠ¨ç”»æ§åˆ¶</h3>
<blockquote>
<p>è¯¥ç¤ºä¾‹é€šè¿‡transitionå’ŒmaskTransitionåˆ†åˆ«å±•ç¤ºå¼¹å‡ºæ¡†åœ¨è’™å±‚åŠ¨ç”»æ–¹é¢çš„èƒ½åŠ›ã€‚ <br/>
è®¾ç½®transitionï¼Œå®ç°å¼¹å‡ºæ¡†ä¸è’™å±‚æ•´ä½“çš„åŠ¨ç”»ã€‚</p>
</blockquote>
<pre><code class="hljs language-bash" lang="bash">// xxx.ets
  transitionOpt: promptAction.CustomDialogOptions = {
    builder: () =&gt; {
      this.myBuilder();
    },
    transition: TransitionEffect.OPACITY.animation({ duration: 3000 })
  } as promptAction.CustomDialogOptions;

  Button(<span class="hljs-string">"openCustomDialog transition"</span>)
    .width(<span class="hljs-string">'100%'</span>)
    .margin({ top: 10 })
    .onClick(() =&gt; {
      this.getUIContext().getPromptAction().openCustomDialog(this.transitionOpt);
    })
</code></pre>
<blockquote>
<p>è®¾ç½®maskTransitionï¼Œå®ç°å¼¹å‡ºæ¡†ä¸­è’™å±‚å•ç‹¬çš„åŠ¨ç”»å®šåˆ¶èƒ½åŠ›ã€‚</p>
</blockquote>
<pre><code class="hljs language-bash" lang="bash">// xxx.ets
  Button(<span class="hljs-string">"openCustomDialog maskTransition"</span>)
    .width(<span class="hljs-string">'100%'</span>)
    .margin({ top: 10 })
    .onClick(() =&gt; {
      this.getUIContext().getPromptAction().openCustomDialog({
        builder: () =&gt; {
          this.myBuilder();
        },
        maskTransition: TransitionEffect.OPACITY.animation({ duration: <span class="hljs-number">2000</span> })
          .combine(TransitionEffect.rotate({ z: <span class="hljs-number">1</span>, angle: <span class="hljs-number">180</span> })),
      });
    })
</code></pre>
<blockquote>
<p>CustomDialogè™½ç„¶ä¸æ”¯æŒtransitionæ¥å£ï¼Œä½†ä¸ä¹‹å¯¹åº”çš„openAnimationå’ŒcloseAnimationæ¥å£åœ¨åŠ¨ç”»çš„æ‰“å¼€å’Œå…³é—­æ—¶å¯è¿›è¡Œå®šåˆ¶ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
</blockquote>
<pre><code class="hljs language-bash" lang="bash">// xxx.ets

@CustomDialog
@Component
struct CustomDialogExample {
  controller?: CustomDialogController;

  <span class="hljs-function"><span class="hljs-title">build</span></span>() {
    <span class="hljs-function"><span class="hljs-title">Column</span></span>() {
      Text(<span class="hljs-string">"title"</span>)
        .margin(10)
        .fontSize(20)
      Button(<span class="hljs-string">"button1"</span>)
        .margin(10)
        .fontSize(20)
        .onClick(() =&gt; {
          this.controller?.close();
        })
      Button("button2")
        .margin(<span class="hljs-number">10</span>)
        .fontSize(<span class="hljs-number">20</span>)
        .onClick(() =&gt; {
          this.controller?.close();
        })
    }.width('<span class="hljs-number">100</span>%')
    .height('<span class="hljs-number">50</span>%')
  }
}

@Entry
@Component
struct Index {
  animationController: CustomDialogController | null
    = new CustomDialogController({
    builder: CustomDialogExample(),
    closeAnimation: { duration: <span class="hljs-number">2000</span> },
    openAnimation: { duration: <span class="hljs-number">2000</span> }
  });

  aboutToDisappear(): void {
    this.animationController = null;
  }

  build() {
    Column() {
      Button("CustomDialogController animate")
        .width('<span class="hljs-number">100</span>%')
        .margin({ top: <span class="hljs-number">10</span> })
        .onClick(() =&gt; {
          this.animationController?.open();
        })
    }
  }
}
</code></pre>
<h3 data-id="heading-5">å…­ã€å®Œæ•´ç¤ºä¾‹</h3>
<blockquote>
<p><strong>æ•ˆæœå›¾</strong> <br/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8960e7d38edd4530853d87d4b719efbb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hpbmFEcmFnb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764120134&amp;x-signature=ab3H4gLjFfbHFYLtNebsRbBaCpA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<pre><code class="hljs language-bash" lang="bash">import { ImmersiveMode, LevelMode, promptAction } from <span class="hljs-string">'@kit.ArkUI'</span>;

@Entry
@Component
struct TestOpenCustomDialog7 {
  @State immersiveMode: ImmersiveMode = ImmersiveMode.DEFAULT;
  autoCancelOpt: promptAction.CustomDialogOptions = {
    builder: () =&gt; {
      this.myBuilder();
    },
    autoCancel: <span class="hljs-literal">false</span>,
  } as promptAction.CustomDialogOptions;
  modalOpt: promptAction.CustomDialogOptions = {
    builder: () =&gt; {
      this.myBuilder();
    },
    isModal: <span class="hljs-literal">false</span>,
  } as promptAction.CustomDialogOptions;
  maskOpt: promptAction.CustomDialogOptions = {
    builder: () =&gt; {
      this.myBuilder();
    },
    maskRect: {
      x: 0,
      y: 10,
      width: <span class="hljs-string">'100%'</span>,
      height: <span class="hljs-string">'90%'</span>
    },
    maskColor: <span class="hljs-string">"#33AA0000"</span>
  } as promptAction.CustomDialogOptions;
  transitionOpt: promptAction.CustomDialogOptions = {
    builder: () =&gt; {
      this.myBuilder();
    },
    transition: TransitionEffect.OPACITY.animation({ duration: 3000 })
  } as promptAction.CustomDialogOptions;

  @Builder
  <span class="hljs-function"><span class="hljs-title">myBuilder</span></span>() {
    <span class="hljs-function"><span class="hljs-title">Column</span></span>() {
      Text(<span class="hljs-string">"title"</span>).margin(10).fontSize(20)
      Button(<span class="hljs-string">"button1"</span>).margin(10).fontSize(20)
      Button(<span class="hljs-string">"button2"</span>).margin(10).fontSize(20)
    }.width(<span class="hljs-string">'100%'</span>).height(<span class="hljs-string">'50%'</span>)
  }

  <span class="hljs-function"><span class="hljs-title">build</span></span>() {
    Column({space: 10}) {
      Button(<span class="hljs-string">"openCustomDialog autoCancel:false"</span>)
        .width(<span class="hljs-string">'100%'</span>)
        .margin({ top: 10 })
        .onClick(() =&gt; {
          this.getUIContext().getPromptAction().openCustomDialog(this.autoCancelOpt)
        })
      Button("openCustomDialog isModal:false")
        .width('<span class="hljs-number">100</span>%')
        .margin({ top: <span class="hljs-number">10</span> })
        .onClick(() =&gt; {
          this.getUIContext().getPromptAction().openCustomDialog(this.modalOpt)
        })
      Button("openCustomDialog maskOpt")
        .width('<span class="hljs-number">100</span>%')
        .margin({ top: <span class="hljs-number">10</span> })
        .onClick(() =&gt; {
          this.getUIContext().getPromptAction().openCustomDialog(this.maskOpt)
        })
      Button("openCustomDialog transition")
        .width('<span class="hljs-number">100</span>%')
        .margin({ top: <span class="hljs-number">10</span> })
        .onClick(() =&gt; {
          this.getUIContext().getPromptAction().openCustomDialog(this.transitionOpt);
        })
      Button("openCustomDialog immersiveMode")
        .width('<span class="hljs-number">100</span>%')
        .margin({ top: <span class="hljs-number">10</span> })
        .onClick(() =&gt; {
          this.immersiveMode =
            this.immersiveMode == ImmersiveMode.DEFAULT ? ImmersiveMode.EXTEND : ImmersiveMode.DEFAULT;
          this.getUIContext().getPromptAction().openCustomDialog({
            builder: () =&gt; {
              this.myBuilder();
            },
            levelMode: LevelMode.EMBEDDED,
            immersiveMode: this.immersiveMode,
          })
        })
      Button("openCustomDialog maskTransition")
        .width('<span class="hljs-number">100</span>%')
        .margin({ top: <span class="hljs-number">10</span> })
        .onClick(() =&gt; {
          this.getUIContext().getPromptAction().openCustomDialog({
            builder: () =&gt; {
              this.myBuilder();
            },
            maskTransition: TransitionEffect.OPACITY.animation({ duration: <span class="hljs-number">2000</span> })
              .combine(TransitionEffect.rotate({ z: <span class="hljs-number">1</span>, angle: <span class="hljs-number">180</span> })),
          });
        })
    }
    .width(<span class="hljs-string">'100%'</span>)
    .height(<span class="hljs-string">'100%'</span>)
  }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¿¡å·ã€Shellä¸Dockerï¼šå±‚å±‚åµŒå¥—çš„é™·é˜±å‰–æ]]></title>    <link>https://juejin.cn/post/7573864324714004532</link>    <guid>https://juejin.cn/post/7573864324714004532</guid>    <pubDate>2025-11-18T22:28:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573864324714004532" data-draft-id="7573892650815111183" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¿¡å·ã€Shellä¸Dockerï¼šå±‚å±‚åµŒå¥—çš„é™·é˜±å‰–æ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIGC"/> <meta itemprop="datePublished" content="2025-11-18T22:28:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="qife122"/> <meta itemprop="url" content="https://juejin.cn/user/1743174852185579"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¿¡å·ã€Shellä¸Dockerï¼šå±‚å±‚åµŒå¥—çš„é™·é˜±å‰–æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1743174852185579/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    qife122
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T22:28:15.000Z" title="Tue Nov 18 2025 22:28:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‡ æ¬¡è°ƒè¯•POSIXä¿¡å·ï¼ˆSIGINTã€SIGTERMç­‰ï¼‰çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸å¯é¿å…åœ°æ¶‰åŠåˆ°äº†shellã€‚æŸå¤©ï¼Œæˆ‘ä»¬åœ¨è°ƒè¯•ä¿¡å·ã€shellå’Œå®¹å™¨ä¹‹é—´çš„æŸäº›å¥‡æ€ªäº¤äº’æ—¶ï¼Œè¢«ä¸€äº›è¡Œä¸ºæå¾—æ™•å¤´è½¬å‘ã€‚è‡ªè®¤ä¸ºå¯¹Linuxå¾ˆäº†è§£çš„äººä¹Ÿä¼šå¯¹æˆ‘ä»¬è°ƒæŸ¥ä¸­çš„ä¸€äº›ç»†èŠ‚æ„Ÿåˆ°æƒŠè®¶ï¼Œæ‰€ä»¥å¦‚æœä½ ä¸æƒ³æŠŠç¬”è®°æœ¬ç”µè„‘æ‰”å‡ºçª—å¤–å»å½“å…»ç¾Šé©¼çš„éšå£«ï¼Œä¸å¦¨ç»§ç»­è¯»ä¸‹å»ã€‚</p>
<h2 data-id="heading-0">çŠ¯ç½ªç°åœº</h2>
<p>åœ¨Benchlingï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªç›¸å½“æ ‡å‡†çš„æµ‹è¯•/æŒç»­é›†æˆï¼ˆCIï¼‰è®¾ç½®ï¼šå½“ä½ æ¨é€ä»£ç åˆ°æ‹‰å–è¯·æ±‚åˆ†æ”¯æ—¶ï¼Œæˆ‘ä»¬ä¼šä¸ºä½ è¿è¡Œæµ‹è¯•ã€‚å‡ å¹´å‰ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªå°ä¼˜åŒ–ï¼šå¦‚æœä½ å†æ¬¡æ¨é€ä¸”å‰ä¸€æ¬¡æäº¤çš„æµ‹è¯•ä»åœ¨è¿è¡Œï¼Œæˆ‘ä»¬ä¼šå–æ¶ˆå‰ä¸€æ¬¡æµ‹è¯•è¿è¡Œã€‚ä½ å¯èƒ½ä¸å†å…³å¿ƒé‚£æ¬¡è¿è¡Œï¼Œè¿™æ ·æˆ‘ä»¬ä¹Ÿèƒ½èŠ‚çœä¸€äº›è´¹ç”¨â€¦â€¦çœŸçš„å—ï¼Ÿ</p>
<p>æˆ‘ä»¬è¿è¡Œæµ‹è¯•çš„ä»£ç åŸºæœ¬ä¸Šæ˜¯ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_pipeline</span>() -&gt; <span class="hljs-built_in">int</span>:
    test_result = subprocess.run([<span class="hljs-string">"pytest"</span>, â€¦])
    report_test_metrics()
    upload_artifacts()
    <span class="hljs-keyword">return</span> test_result.returncode
</code></pre>
<p>æ‰€ä»¥æˆ‘ä»¬çš„è¿›ç¨‹æ ‘æ˜¯ï¼š</p>
<pre><code class="hljs">test_pipeline
â””â”€â”€ pytest
</code></pre>
<p><code>subprocess.run</code>ä¼šé˜»å¡ç›´åˆ°å­è¿›ç¨‹é€€å‡ºï¼Œæ‰€ä»¥å®ƒåº”è¯¥å ç”¨å‡ ä¹æ‰€æœ‰æ—¶é—´ã€‚æˆ‘ä»¬åœ¨CIæ—¥å¿—ä¸­çœ‹åˆ°æµ‹è¯•åœ¨è¿è¡Œåˆ°ä¸€åŠæ—¶è¢«ä¸­æ–­ï¼Œç„¶åå°±ä¸å†çœ‹åˆ°æ—¥å¿—ï¼Œè¿™çœ‹èµ·æ¥ç¡®å®æ˜¯åœ¨å·¥ä½œã€‚ä½†æˆ‘ä»¬èƒ½å¤Ÿè·å–è¢«å–æ¶ˆè¿è¡Œçš„æŒ‡æ ‡å’Œå·¥ä»¶ï¼Œè¿™è¯´ä¸é€šã€‚åæ¥æˆ‘ä»¬å‘ç°ï¼Œè™½ç„¶æˆ‘ä»¬æŠ¥å‘Šè¿è¡Œè¢«å–æ¶ˆå¹¶åœæ­¢è½¬å‘æ—¥å¿—ï¼Œä½†pyteståªæ˜¯ç»§ç»­è¿è¡Œã€‚</p>
<h2 data-id="heading-1">å›åˆ°åŸºç¡€</h2>
<p>è®¤ä¸ºé—®é¢˜å¯èƒ½åœ¨äºæ²¡æœ‰å°†ä¿¡å·ä»<code>test_pipeline</code>è½¬å‘åˆ°<code>pytest</code>ï¼Œæˆ‘ä»¬é¦–å…ˆè€ƒè™‘äº†åŸºæœ¬çš„ä¿¡å·å¤„ç†ã€‚åœ¨è¿è¡Œzshçš„ç»ˆç«¯ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è·å–zshçš„pidï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">echo</span> $$
20147
</code></pre>
<p>ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨zshå†…éƒ¨è¿è¡Œbashï¼Œå¹¶åœ¨bashå†…éƒ¨è¿è¡Œ<code>sleep infinity</code>ï¼ˆå°±åƒæˆ‘ä»¬çš„æµ‹è¯•ï¼Œä¸€ä¸ªéå¸¸æ…¢çš„å‘½ä»¤ï¼‰ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">$ bash
$ <span class="hljs-built_in">sleep</span> infinity
</code></pre>
<p>ä»å¦ä¸€ä¸ªshellï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿›ç¨‹æ ‘ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ pstree -p 20147
zsh(20147)â”€â”€â”€bash(65453)â”€â”€â”€<span class="hljs-built_in">sleep</span>(65904)
</code></pre>
<p>ï¼ˆ<code>pstree</code>åœ¨Debian/Ubuntuçš„psmiscåŒ…ä¸­ï¼Œåœ¨brewä¸­æ˜¯pstreeå…¬å¼ã€‚ï¼‰è¿™æ˜¾ç¤ºäº†zshè¿è¡Œbashï¼Œbashè¿è¡Œsleepï¼Œå¦‚é¢„æœŸæ‰€ç¤ºã€‚å¦‚æœæˆ‘ä»¬ç°åœ¨ç”¨ctrl+cå‘é€SIGINTï¼Œsleepä¼šåœæ­¢ã€‚</p>
<p>ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™ç§æƒ…å†µï¼Ÿç»ˆç«¯å°†ctrl+cè§£é‡Šä¸ºâ€œå‘é€SIGINTâ€ã€‚zshæ¥æ”¶SIGINTå¹¶å°†å…¶è½¬å‘ç»™å‰å°è¿›ç¨‹ï¼Œå³bashã€‚bashæ¥æ”¶ä¿¡å·å¹¶å°†å…¶è½¬å‘ç»™sleepã€‚sleepæ²¡æœ‰ä¸ºSIGINTè®¾ç½®è‡ªå·±çš„ä¿¡å·å¤„ç†ç¨‹åºï¼Œé»˜è®¤çš„ä¿¡å·å¤„ç†ç¨‹åºä¼šé€€å‡ºï¼ˆSIGINTå…·æœ‰â€œtermâ€å¤„ç½®ï¼‰ã€‚</p>
<p>åœ¨è°ƒæŸ¥å¼€å§‹æ—¶ï¼Œè¿™æ˜¯æˆ‘ä»¬å¯¹äºshellä¿¡å·å¤„ç†çš„å¿ƒç†æ¨¡å‹ã€‚</p>
<h2 data-id="heading-2">éäº¤äº’å¼shell</h2>
<p>å®é™…é—®é¢˜å‡ºç°åœ¨è¿è¡Œbash shellè„šæœ¬æ—¶ï¼ˆæˆ‘ä»¬åœ¨bashè„šæœ¬ä¸­è¿è¡Œä¸Šè¿°pythonä»£ç ï¼‰ã€‚</p>
<pre><code class="hljs">bash
  â””â”€test_pipeline
      â””â”€pytest
</code></pre>
<p>è®¤ä¸ºäº¤äº’å¼shellï¼ˆè¯»å–stdinç­‰å·®å¼‚ï¼‰å¯èƒ½ä¸éäº¤äº’å¼shellæˆ–â€œè„šæœ¬â€è¡Œä¸ºä¸åŒï¼Œæˆ‘ä»¬å°†ä¸¤è¡Œä»£ç å†™å…¥æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">sleep</span> infinity
<span class="hljs-built_in">echo</span> <span class="hljs-keyword">done</span>
</code></pre>
<p>å¹¶è¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ ./test.sh
</code></pre>
<p>åœ¨å¦ä¸€ä¸ªshellä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç›¸åŒçš„è¿›ç¨‹æ ‘ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ pstree -p 20147
zsh(20147)â”€â”€â”€bash(65910)â”€â”€â”€<span class="hljs-built_in">sleep</span>(65911)
</code></pre>
<p>ç„¶åï¼Œæˆ‘ä»¬å°è¯•ç›´æ¥å‘bashå‘é€ä¿¡å·ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">kill</span> -s INT 65910
</code></pre>
<p>ä½†ä»€ä¹ˆä¹Ÿæ²¡å‘ç”Ÿã€‚bashæ–‡æ¡£ï¼ˆ<code>man bash</code>ï¼‰ä¸­æœ‰ä¸€ä¸ªâ€œsignalsâ€éƒ¨åˆ†æåˆ°ï¼š</p>
<blockquote>
<p>å½“ä½œä¸šæ§åˆ¶æœªå¯ç”¨æ—¶ï¼Œ[...] shellå’Œå‘½ä»¤ä¸ç»ˆç«¯åœ¨åŒä¸€è¿›ç¨‹ç»„ä¸­ï¼Œ'^C'å‘è¯¥è¿›ç¨‹ç»„ä¸­çš„æ‰€æœ‰è¿›ç¨‹å‘é€SIGINTã€‚[...] å½“Bashåœ¨æ²¡æœ‰å¯ç”¨ä½œä¸šæ§åˆ¶çš„æƒ…å†µä¸‹è¿è¡Œå¹¶æ¥æ”¶SIGINT [...]æ—¶ï¼Œå®ƒä¼šç­‰å¾…è¯¥å‰å°å‘½ä»¤ç»ˆæ­¢ï¼Œç„¶å[è‡ªè¡Œé€€å‡º]ã€‚</p>
</blockquote>
<p>ä½œä¸šæ§åˆ¶åœ¨äº¤äº’å¼shellä¸­é»˜è®¤å¯ç”¨ï¼Œåœ¨è„šæœ¬ä¸­å…³é—­ï¼ˆå‚è§å…³äºâ€œmonitor modeâ€çš„æ–‡æ¡£ï¼‰ã€‚æ‰€ä»¥è¿™è§£é‡Šäº†ä¸ºä»€ä¹ˆä»€ä¹ˆä¹Ÿæ²¡å‘ç”Ÿï¼šbashåœ¨ç­‰å¾…sleepï¼ˆå‰å°å‘½ä»¤ï¼‰ç»ˆæ­¢ã€‚</p>
<p>ä½†å…¶ä¸­ä¹Ÿæœ‰å…³äºè¿›ç¨‹ç»„çš„æç¤ºã€‚<code>pstree</code>ä¹Ÿå¯ä»¥æ˜¾ç¤ºè¿™äº›ï¼ˆé™¤éä½ åœ¨macOSä¸Šï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ pstree -pg 20147
zsh(20147,20147)â”€â”€â”€bash(65910,65910)â”€â”€â”€<span class="hljs-built_in">sleep</span>(65911,65910)
</code></pre>
<p>æ‰€ä»¥åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬çœ‹åˆ°æˆ‘ä»¬åœ¨äº¤äº’å¼zshä¸­è¿è¡Œçš„bashæœ‰è‡ªå·±çš„è¿›ç¨‹ç»„ã€‚ä½†æˆ‘ä»¬åœ¨éäº¤äº’å¼bashä¸­è¿è¡Œçš„sleepä¸bashå…±äº«ä¸€ä¸ªpgidã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å¦å®špidæ¥å‘ç»„ä¸­çš„ä¸¤ä¸ªè¿›ç¨‹å‘é€ä¿¡å·ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">kill</span> -s INT -65910
</code></pre>
<p>è¿™å¯¼è‡´sleepæ¥æ”¶SIGINTå¹¶é€€å‡ºã€‚bashä¹Ÿæ¥æ”¶äº†SIGINTï¼Œå¹¶å¦‚æ–‡æ¡£æ‰€è¯´ï¼Œè‡ªè¡Œé€€å‡ºã€‚å›åˆ°æˆ‘ä»¬çš„äº¤äº’å¼zshï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">sleep</span> infinity
</code></pre>
<p>å¹¶çœ‹åˆ°sleepæŒ‰é¢„æœŸè·å¾—è‡ªå·±çš„pgidã€‚</p>
<pre><code class="hljs language-bash" lang="bash">$ pstree -p 20147
zsh(20147,20147)â”€â”€â”€<span class="hljs-built_in">sleep</span>(65916,65916)
</code></pre>
<h2 data-id="heading-3">éäº¤äº’å¼shellä¸­çš„æœ€åä¸€æ¡å‘½ä»¤</h2>
<p>æ‰€ä»¥ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†ï¼Œæœ‰æ—¶shellä¸ä¼šå°†ä¿¡å·è½¬å‘ç»™å…¶å­è¿›ç¨‹ã€‚æœ‰ä¸€æ¬¡ï¼Œæœ‰äººè¯•å›¾é€šè¿‡è¿è¡Œ<code>bash -c 'sleep infinity'</code>æ¥é‡ç°è¿™ä¸€ç‚¹ã€‚ä»–ä»¬èƒ½å¤Ÿç”¨ctrl+cåœæ­¢sleepã€‚ä½†è¿™æ˜¯ä¸€ä¸ªéäº¤äº’å¼shellï¼Œæ‰€ä»¥bashä¸åº”è¯¥è½¬å‘SIGINTï¼æ€ä¹ˆå›äº‹ï¼Ÿ</p>
<pre><code class="hljs language-bash" lang="bash">$ bash -c <span class="hljs-string">'sleep infinity'</span>
</code></pre>
<p>åƒå¾€å¸¸ä¸€æ ·ï¼Œåœ¨å¦ä¸€ä¸ªshellä¸­ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ pstree -p 20147
zsh(20147)â”€â”€â”€<span class="hljs-built_in">sleep</span>(65920)
</code></pre>
<p>ç­‰ç­‰ï¼Œbashå»å“ªäº†ï¼Ÿæˆ‘ä»¬è¿è¡Œäº†bashï¼ä¸ºä»€ä¹ˆpstreeè¯´zshåœ¨è¿è¡Œsleepï¼Ÿ</p>
<p>å½“æˆ‘ä»¬â€œè¿è¡Œâ€ä¸€ä¸ªç¨‹åºæ—¶ï¼Œé€šå¸¸æ„å‘³ç€æˆ‘ä»¬forkç„¶åexecå®ƒã€‚forkè®¾ç½®æ–°è¿›ç¨‹çš„çˆ¶pidï¼Œä»¥ä¾¿åƒpstreeè¿™æ ·çš„å·¥å…·å¯ä»¥åœ¨äº‹åç»˜åˆ¶æ¼‚äº®çš„æ ‘ã€‚execè®¾ç½®æ–°è¿›ç¨‹çš„å‘½ä»¤ï¼Œä»¥ä¾¿åƒpstreeè¿™æ ·çš„å·¥å…·å¯ä»¥æ˜¾ç¤ºæœ‰å…³è¯¥pidè¿è¡Œå†…å®¹çš„æœ‰æ„ä¹‰ä¿¡æ¯ã€‚</p>
<p>ä½†è¿™é‡Œå‘ç”Ÿçš„æ˜¯ï¼Œbashåœ¨exec sleepä¹‹å‰æ ¹æœ¬æ²¡æœ‰forkã€‚æˆ‘ä»¬æ‰¾ä¸åˆ°å…³äºè¿™ç§è¡Œä¸ºçš„ä»»ä½•æ–‡æ¡£ï¼Œæ‰€ä»¥æˆ‘ä»¬å‘ä½ æä¾›ä¸€äº›ashæºä»£ç ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">/* Can we avoid forking? For example, very last command
 * in a script or a subshell does not need forking,
 * we can just exec it.
 */</span>
</code></pre>
<p>æ‰€ä»¥bashç”¨sleepæ›¿æ¢äº†è‡ªå·±ï¼Œpstreeæ˜¾ç¤ºç°åœ¨è¿è¡Œsleepçš„çˆ¶è¿›ç¨‹æ˜¯zshã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿è¡Œ<code>bash -c 'sleep infinity &amp;&amp; done'</code>æ¥è·å¾—ä¹‹å‰çš„è¡Œä¸ºã€‚</p>
<p>è¿™å°¤å…¶ä»¤äººå…´å¥‹ï¼Œå› ä¸ºæˆ‘ä»¬å®é™…ä¸Šç”¨<code>sh -c</code>è¿è¡Œæˆ‘ä»¬çš„bashè„šæœ¬ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„å¿ƒç†æ¨¡å‹æ˜¯ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">sh
â””â”€bash
<span class="hljs-code">    â””â”€test_pipeline
        â””â”€pytest
</span></code></pre>
<p>ç›´åˆ°æˆ‘ä»¬æ„è¯†åˆ°shåœ¨æ ‘ä¸­ä¸æ˜¯è‡ªå·±çš„pidã€‚</p>
<h2 data-id="heading-4">å…³äºshã€bashã€dashå’Œashçš„ç®€çŸ­æ’æ›²</h2>
<p>ç­‰ç­‰ï¼Œä»€ä¹ˆæ˜¯ashï¼Ÿä½ åˆšåˆšç»™æˆ‘é“¾æ¥äº†ä¸€äº›ä¸ç›¸å…³çš„ä»£ç å—ï¼Ÿï¼ˆæ˜¯çš„ï¼Œæœ‰ç‚¹ï¼›è¡Œä¸ºä¸bashç›¸åŒï¼Œä½†æºä»£ç ä¸é‚£ä¹ˆ...æŠ½è±¡ã€‚ï¼‰</p>
<p>shæ˜¯Bourne shellï¼ˆä½†é€šå¸¸ç§°ä¸ºâ€œPOSIX shâ€ï¼‰ã€‚Bashæ˜¯Bourne Again shellã€‚å†å²ä¸Šï¼Œè®¸å¤šç³»ç»Ÿå°†shé“¾æ¥åˆ°bashï¼Œåè€…ä¼šæ£€æŸ¥argv[0]å¹¶ä»¥shå…¼å®¹æ¨¡å¼è¿è¡Œã€‚åœ¨ç°ä»£Linuxç³»ç»Ÿä¸Šï¼Œshç°åœ¨é€šå¸¸æ˜¯dashï¼Œä½†åœ¨macOSä¸Šï¼Œå®ƒä»ç„¶æ˜¯shæ¨¡å¼ä¸‹çš„bashã€‚</p>
<p>æœ€åˆçš„ashæ˜¯1989å¹´ä¸ºNetBSDç¼–å†™çš„Almquist shellã€‚å®ƒè¢«ç§»æ¤åˆ°Linuxå¹¶é‡å‘½åä¸ºdashï¼ˆDebian Almquist shellï¼‰ã€‚å¦‚ä»Šï¼Œâ€œashâ€é€šå¸¸æŒ‡busybox ashï¼Œå®ƒæ˜¯dashçš„è¡ç”Ÿå“ã€‚æ˜¯çš„ï¼Œä½ æ²¡çœ‹é”™ï¼šè°±ç³»æ˜¯ash â†’ dash â†’ ashã€‚Shellç¨‹åºå‘˜åœ¨å‘½åæ–¹é¢ä¸æ˜¯æœ€å¥½çš„ã€‚</p>
<p>é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œshå…¼å®¹æ¨¡å¼ä¸‹çš„bashå’Œashéƒ½å®ç°äº†å‰ä¸€èŠ‚ä¸­æè¿°çš„æ— éœ€forkçš„execè¡Œä¸ºï¼Œä½†dashæ²¡æœ‰ã€‚æ­¤å¤–ï¼Œå¦‚æœä½ å°è¯•åœ¨Docker Hubä¸Šçš„å®˜æ–¹bashé•œåƒä¸­è¿è¡Œshï¼ˆ<code>docker run -it --rm bash sh</code>ï¼‰ï¼Œä½ ä¼šå¾—åˆ°ashï¼ˆä¸è¦ä¸ashæ··æ·†ï¼‰ï¼Œè€Œä¸æ˜¯ä½ æœŸæœ›çš„shæ¨¡å¼ä¸‹çš„bashã€‚</p>
<h2 data-id="heading-5">æµç¨‹å›¾</h2>
<p>è¿™æ˜¯æˆ‘ä»¬å¸Œæœ›åœ¨å¼€å§‹å‰¥ç¦»shellä¿¡å·å¤„ç†æ´‹è‘±ä¹‹å‰å­˜åœ¨çš„æµç¨‹å›¾ã€‚</p>
<h2 data-id="heading-6">å›åˆ°çŠ¯ç½ªç°åœº</h2>
<p>å‡­å€Ÿæˆ‘ä»¬æ–¹ä¾¿çš„æµç¨‹å›¾ï¼Œæˆ‘ä»¬å»é˜…è¯»ci-agentçš„ä»£ç ï¼Œå‘ç°å½“æ„å»ºè¢«å–æ¶ˆæ—¶ï¼Œå®ƒä¼šå‘æ­£åœ¨è¿è¡Œçš„ä½œä¸šå‘é€SIGTERMã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown">ci-agent
<span class="hljs-code">    â””â”€bash
        â””â”€test_pipeline
            â””â”€pytest
</span></code></pre>
<p>bashä»¥éäº¤äº’æ–¹å¼è¿è¡Œï¼Œ<code>test_pipeline</code>ä¸æ˜¯æœ€åä¸€æ¡å‘½ä»¤ï¼Œæ‰€ä»¥æ— è®ºå¦‚ä½•ä¿¡å·éƒ½ä¸ä¼šè¢«è½¬å‘ã€‚è¿™è§£é‡Šäº†å‘ç”Ÿçš„äº‹æƒ…å—ï¼Ÿ</p>
<p>æˆ‘ä»¬å°è¯•é€šè¿‡è®©bash exec <code>test_pipeline.py</code>æ¥å°†bashä»æ ‘ä¸­ç§»é™¤ï¼Œä½†è¿™å¹¶æ²¡æœ‰è§£å†³é—®é¢˜ã€‚é‚£ä¸€å®šæ„å‘³ç€æˆ‘ä»¬çš„è¿›ç¨‹æ ‘ä»ç„¶æ˜¯é”™è¯¯çš„ã€‚</p>
<h2 data-id="heading-7">å®¹å™¨</h2>
<p>ci-agentå®é™…ä¸Šåªæ˜¯å‘Šè¯‰dockerè¿è¡Œæˆ‘ä»¬çš„è„šæœ¬ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown">ci-agent
<span class="hljs-code">    â””â”€docker
        â””â”€bash
            â””â”€test_pipeline
                â””â”€pytest
</span></code></pre>
<p>ä¿¡å·æ˜¯å¦è¢«dockerè½¬å‘ç»™bashï¼ŸDockerä¸ºæ¯ä¸ªå®¹å™¨åˆ›å»ºä¸€ä¸ªæ–°çš„pidå‘½åç©ºé—´ï¼Œæ‰€ä»¥å®ƒè¿è¡Œçš„å‘½ä»¤æˆä¸ºpid 1ã€‚1æ˜¯ä¸€ä¸ªéå¸¸ç‰¹æ®Šçš„pidï¼ˆé€šå¸¸æ˜¯initè¿›ç¨‹ï¼‰ï¼Œæ²¡æœ‰é»˜è®¤çš„ä¿¡å·å¤„ç†ç¨‹åºã€‚ä¸€ä¸ªå¸¸è§çš„æŠ€å·§æ˜¯ä½¿ç”¨tiniæˆ–dumb-initä½œä¸ºpid 1æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>åœ¨è°ƒæŸ¥æˆ‘ä»¬çš„é•œåƒåï¼Œç»“æœå‘ç°æˆ‘ä»¬å·²ç»åœ¨ä½¿ç”¨dumb-initï¼Œç»™æˆ‘ä»¬ç•™ä¸‹äº†è¿™ä¸ªæ ‘ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">ci-agent
    â””â”€docker
        â””â”€dumb-<span class="hljs-keyword">init</span>
            â””â”€bash
                â””â”€test_pipeline
                    â””â”€pytest
</code></pre>
<p>ä½†é—®é¢˜ä»ç„¶æ²¡æœ‰è§£é‡Šã€‚</p>
<h2 data-id="heading-8">è¿™æ˜¯æœ€åä¸€æ£µæ ‘ï¼Œæˆ‘å‘èª“</h2>
<p>å®é™…ä¸Šï¼Œæˆ‘ä»¬ä¸ç›´æ¥è¿è¡Œdockerå®¹å™¨ï¼›æˆ‘ä»¬ä½¿ç”¨<code>docker compose run</code>ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp">ci-agent
    â””â”€docker compose
        â””â”€docker
            â””â”€dumb-<span class="hljs-keyword">init</span>
                â””â”€bash
                    â””â”€test_pipeline
                        â””â”€pytest
</code></pre>
<p>åœ¨æœ€ç»ˆæ„å»ºè¿™æ£µæ ‘åï¼Œæˆ‘ä»¬èƒ½å¤Ÿé‡ç°é—®é¢˜ã€‚å®ƒåªå‘ç”Ÿåœ¨docker composeç‰ˆæœ¬v2.0.0åˆ°v2.19.0ä¹‹é—´ï¼Œå…¶ä¸­<code>docker compose run</code>æœªèƒ½è½¬å‘ä¿¡å·ã€‚åœ¨æˆ‘ä»¬æŠ¥å‘Šé—®é¢˜åï¼Œè¿™åœ¨è¿™é‡Œè¢«ä¿®å¤ã€‚</p>
<p>è¿™ä¸ªbugåœ¨æˆ‘ä»¬ä»docker-composeï¼ˆv1ï¼›æ³¨æ„è¿å­—ç¬¦ï¼‰å‡çº§åˆ°docker composeï¼ˆv2ï¼‰æ—¶æ˜¾ç°ã€‚æ³¨æ„åˆ°ç¼ºå¤±çš„è¿å­—ç¬¦å¯¹äºç†è§£è¿™ä¸ªé—®é¢˜æ˜¯å¿…è¦çš„ï¼Œä½†å¾ˆéš¾æ³¨æ„åˆ°ï¼Œå› ä¸ºä¸¤ä¸ªç‰ˆæœ¬æ¥å—å‡ ä¹ç›¸åŒçš„å‚æ•°å¹¶å…·æœ‰å‡ ä¹ç›¸åŒçš„è¡Œä¸ºã€‚ä»è¿™ä¸ªæ•…äº‹ä¸­å¾—å‡ºçš„ä¸€ä¸ªç»“è®ºåº”è¯¥æ˜¯ï¼Œå‘½åäº‹ç‰©ï¼Œå°½ç®¡å›°éš¾ï¼Œä½†å¾ˆé‡è¦ã€‚å¦‚æœä½ å‘ç°è‡ªå·±å†™åƒâ€œé€šè¿‡å°†è¿å­—ç¬¦ï¼ˆ-ï¼‰æ›¿æ¢ä¸ºç©ºæ ¼æ¥æ›´æ–°è„šæœ¬ä»¥ä½¿ç”¨Compose V2â€è¿™æ ·çš„æ–‡æ¡£ï¼Œä½ å¯èƒ½çŠ¯äº†ä¸€ä¸ªå…³é”®çš„å‘½åé”™è¯¯ã€‚</p>
<p>å¦ä¸€ä¸ªä½¿è°ƒè¯•å˜å¾—æ£˜æ‰‹çš„æ˜¯éœ€è¦ç†è§£å®Œæ•´çš„è´£ä»»é“¾ã€‚ä¿¡å·éœ€è¦ç”±æ¯ä¸ªè¿›ç¨‹è½¬å‘ç»™å®ƒä»¬çš„å­è¿›ç¨‹ã€‚ç†è§£ä¸ºä»€ä¹ˆpytestæ²¡æœ‰æ¥æ”¶åˆ°ä¿¡å·éœ€è¦æ„å»ºæ ‘ç›´åˆ°è½¬å‘é“¾æ–­è£‚çš„ç‚¹ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ç›¸å½“è¿œã€‚</p>
<p>æˆ‘ä»¬è€ƒè™‘é™çº§å›docker compose v1ï¼Œä½†æˆ‘ä»¬é€‰æ‹©è·Ÿè¸ªç”±æˆ‘ä»¬çš„CIæ­¥éª¤è¿è¡Œçš„å®¹å™¨ï¼Œå¹¶åœ¨æœ€åä½¿ç”¨<code>docker kill</code>æ€æ­»å®ƒä»¬ã€‚åæ¥ï¼Œåœ¨ä¸Šæ¸¸ä¿®å¤é—®é¢˜åï¼Œæˆ‘ä»¬çš„ç¼“è§£æªæ–½æ ¹æœ¬æ²¡æœ‰å¯åŠ¨ã€‚éšç€é—®é¢˜çš„ä¿®å¤ï¼Œæˆ‘ä»¬çš„CIè¿è¡Œç°åœ¨å®é™…ä¸Šåœ¨æˆ‘ä»¬å‘Šè¯‰å®ƒä»¬åœæ­¢æ—¶å†æ¬¡åœæ­¢äº†ã€‚å½“æœ‰äººå¿«é€Ÿå¤šæ¬¡æ¨é€åˆ°PRåˆ†æ”¯æ—¶ï¼Œæˆ‘ä»¬ä¸ä¼šæµªè´¹å‘¨æœŸåœ¨æ—§æäº¤ä¸Šè¿è¡Œï¼Œä»è€Œæ•´ä½“ä¸Šè¿è¡Œæ›´å¿«ï¼ï¼ˆæˆ‘ä»¬ä¹Ÿä¸å†æŠ¥å‘Šè¿™äº›è¢«å–æ¶ˆè¿è¡Œçš„æŒ‡æ ‡ï¼Œè¿™æå¤§åœ°å¸®åŠ©æˆ‘ä»¬è¯†åˆ«ä¸ç¨³å®šæˆ–å¤±è´¥çš„æµ‹è¯•ã€‚ï¼‰</p>
<h2 data-id="heading-9">å…³äºå‰å°è¿›ç¨‹çš„é¢å¤–å†…å®¹</h2>
<p>å›åˆ°â€œéäº¤äº’å¼shellâ€éƒ¨åˆ†ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªè¿›ç¨‹æ ‘ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">zsh</span>(<span class="hljs-number">20147</span>)â”€â”€â”€<span class="hljs-built_in">bash</span>(<span class="hljs-number">65910</span>)â”€â”€â”€<span class="hljs-built_in">sleep</span>(<span class="hljs-number">65911</span>)
</code></pre>
<p>å¹¶ç›´æ¥å‘bashå‘é€ä¿¡å·ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">kill</span> -s INT -65910
</code></pre>
<p>ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸ç›´æ¥å‘zshå‘é€ä¿¡å·ï¼Ÿzshä»¥äº¤äº’æ–¹å¼è¿è¡Œï¼Œæ‰€ä»¥å®ƒä¸åº”è¯¥å°†SIGINTè½¬å‘ç»™bashå—ï¼Ÿæˆ‘ä»¬å¯ä»¥å°è¯•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">kill</span> -s INT -20147
</code></pre>
<p>ä½†ä»€ä¹ˆä¹Ÿæ²¡å‘ç”Ÿã€‚</p>
<p>ç»“æœå‘ç°ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“ä½ ç‚¹å‡»ctrl+cæ—¶ï¼Œç»ˆç«¯å°†SIGINTå‘é€ç»™bashï¼Œè€Œä¸æ˜¯zshã€‚è¿™æ˜¯å› ä¸ºzshä¸å†å¤„äºå‰å°è¿›ç¨‹ç»„ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿è¡Œçœ‹åˆ°ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ ps -xO <span class="hljs-built_in">stat</span>
   PID STAT S TTY          TIME COMMAND
 20147 Ss   S pts/0    00:00:00 zsh
 65910 S+   S pts/0    00:00:00 bash
 65911 S+   S pts/0    00:00:00 <span class="hljs-built_in">sleep</span>
</code></pre>
<p><code>man ps</code>çš„â€œè¿›ç¨‹çŠ¶æ€ä»£ç â€éƒ¨åˆ†è¯´ï¼š</p>
<blockquote>
<p><code>+</code> åœ¨å‰å°è¿›ç¨‹ç»„ä¸­</p>
</blockquote>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°bashå’Œsleepæ˜¯ï¼Œä½†zshä¸æ˜¯ã€‚å®ƒä»¬æ— è®ºå¦‚ä½•ä¸èƒ½åŒæ—¶æ˜¯ï¼Œå› ä¸ºåªèƒ½æœ‰ä¸€ä¸ªå‰å°è¿›ç¨‹ç»„ï¼Œè€Œzshç»™äº†bashè‡ªå·±çš„è¿›ç¨‹ç»„ï¼ˆå› ä¸ºzshä»¥äº¤äº’æ–¹å¼è¿è¡Œï¼‰ã€‚æ‰€ä»¥å½“æˆ‘ä»¬è¯´â€œzshæ¥æ”¶SIGINTå¹¶å°†å…¶è½¬å‘ç»™å‰å°è¿›ç¨‹ï¼Œå³bashâ€æ—¶ï¼Œç»“æœå‘ç°é‚£æ˜¯ä¸€ä¸ªè°è¨€ã€‚</p>
<p>ä½†ä¸ºä»€ä¹ˆbashçš„è¿›ç¨‹ç»„æ˜¯å‰å°çš„ï¼Ÿ<code>tcsetpgrp</code>ã€‚æˆ‘ä»¬å¯ä»¥ç”¨<code>ltrace</code>çœ‹åˆ°å®ƒè¢«è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ ltrace -e tcsetpgrp bash
bash-&gt;tcsetpgrp(255, 0xa9850, 0, 0x7f290bdb2fe4) = 0
</code></pre>
<p>å½“bashé€€å‡ºæ—¶ï¼Œçˆ¶shellï¼ˆåœ¨æˆ‘çš„æƒ…å†µä¸‹æ˜¯zshï¼‰é€šè¿‡ç›¸åŒçš„è°ƒç”¨é‡æ–°å£°æ˜å‰å°çŠ¶æ€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»å¾®è§‚åˆ°å®è§‚ï¼šç‰©ä½“é¢œè‰²è¢«æ„ŸçŸ¥]]></title>    <link>https://juejin.cn/post/7573971406415314987</link>    <guid>https://juejin.cn/post/7573971406415314987</guid>    <pubDate>2025-11-19T03:12:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573971406415314987" data-draft-id="7573971406415183915" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»å¾®è§‚åˆ°å®è§‚ï¼šç‰©ä½“é¢œè‰²è¢«æ„ŸçŸ¥"/> <meta itemprop="keywords" content="è®¡ç®—æœºè§†è§‰"/> <meta itemprop="datePublished" content="2025-11-19T03:12:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Juchecar"/> <meta itemprop="url" content="https://juejin.cn/user/284133851925070"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»å¾®è§‚åˆ°å®è§‚ï¼šç‰©ä½“é¢œè‰²è¢«æ„ŸçŸ¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/284133851925070/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Juchecar
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T03:12:35.000Z" title="Wed Nov 19 2025 03:12:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">æ ¸å¿ƒç­”æ¡ˆï¼ˆä¸€å¥è¯æ¦‚æ‹¬ï¼‰</h3>
<p>ä¸€ä¸ªç‰©ä½“å‘ˆç°çº¢è‰²ï¼Œæ˜¯å› ä¸ºå…¶è¡¨é¢çš„<strong>åˆ†å­æˆ–åŸå­ç»“æ„</strong>èƒ½å¤Ÿé€šè¿‡<strong>ç”µå­èƒ½çº§è·ƒè¿</strong>ï¼Œé€‰æ‹©æ€§åœ°<strong>å¸æ”¶</strong>å¯è§å…‰ä¸­é™¤çº¢è‰²ä»¥å¤–çš„å…¶ä»–æ³¢é•¿èƒ½é‡ï¼Œè€Œå°†çº¢è‰²æ³¢é•¿çš„å…‰<strong>åå°„</strong>æˆ–<strong>æ•£å°„</strong>å‡ºæ¥ï¼Œæœ€ç»ˆè¿›å…¥æˆ‘ä»¬çš„çœ¼ç›ã€‚</p>
<hr/>
<h3 data-id="heading-1">1. å¾®è§‚è§’åº¦ï¼šç”µå­ä¸å…‰çš„ç›¸äº’ä½œç”¨</h3>
<h4 data-id="heading-2">a. å…‰çš„æœ¬è´¨</h4>
<p>é¦–å…ˆï¼Œå…‰æ˜¯ä¸€ç§ç”µç£æ³¢ï¼Œå…·æœ‰ç‰¹å®šçš„æ³¢é•¿ã€‚å¯è§å…‰åªæ˜¯ç”µç£æ³¢è°±ä¸­å¾ˆå°çš„ä¸€éƒ¨åˆ†ï¼Œæ³¢é•¿èŒƒå›´å¤§çº¦åœ¨380çº³ç±³ï¼ˆç´«å…‰ï¼‰åˆ°750çº³ç±³ï¼ˆçº¢å…‰ï¼‰ä¹‹é—´ã€‚ä¸åŒæ³¢é•¿å¯¹åº”æˆ‘ä»¬å¤§è„‘æ„ŸçŸ¥çš„ä¸åŒé¢œè‰²ã€‚</p>
<h4 data-id="heading-3">b. ç‰©è´¨çš„èƒ½é‡ç»“æ„</h4>
<p>ç‰©è´¨æ˜¯ç”±åŸå­å’Œåˆ†å­æ„æˆçš„ã€‚åœ¨åŸå­çš„å¤–å›´ï¼Œæœ‰åœ¨ä¸åŒèƒ½çº§ä¸Šè¿åŠ¨çš„ç”µå­ã€‚è¿™äº›ç”µå­ä¸èƒ½æ‹¥æœ‰ä»»æ„èƒ½é‡ï¼Œå®ƒä»¬åªèƒ½å¤„äºä¸€ç³»åˆ—ç‰¹å®šçš„ã€ä¸è¿ç»­çš„â€œèƒ½é‡å°é˜¶â€ï¼ˆå³â€œèƒ½çº§â€ï¼‰ä¸Šã€‚</p>
<ul>
<li><strong>åŸºæ€</strong>ï¼šç”µå­æ‰€å¤„çš„ä½èƒ½çº§çŠ¶æ€ã€‚</li>
<li><strong>æ¿€å‘æ€</strong>ï¼šç”µå­å¯ä»¥è·ƒè¿åˆ°çš„é«˜èƒ½çº§çŠ¶æ€ã€‚</li>
</ul>
<h4 data-id="heading-4">c. é€‰æ‹©æ€§å¸æ”¶çš„å…³é”®è¿‡ç¨‹</h4>
<p>å½“å…‰ï¼ˆå…‰å­æµï¼‰ç…§å°„åˆ°ç‰©ä½“ä¸Šæ—¶ï¼Œå…‰å­ä¼šä¸ç‰©è´¨çš„ç”µå­å‘ç”Ÿç›¸äº’ä½œç”¨ã€‚</p>
<ol>
<li>
<p><strong>èƒ½é‡åŒ¹é…åŸåˆ™</strong>ï¼šä¸€ä¸ªç”µå­è¦ä»åŸºæ€è·ƒè¿åˆ°æ¿€å‘æ€ï¼Œéœ€è¦å¸æ”¶ä¸€ä»½ç²¾ç¡®çš„èƒ½é‡ã€‚è¿™ä»½èƒ½é‡æ­£å¥½ç­‰äºä¸¤ä¸ªèƒ½çº§ä¹‹é—´çš„èƒ½é‡å·®ã€‚è€Œä¸€ä¸ªå…‰å­çš„èƒ½é‡ <code>E</code> ç”±å…¶æ³¢é•¿ <code>Î»</code> å†³å®šï¼ˆ<code>E = hc/Î»</code>ï¼Œå…¶ä¸­hæ˜¯æ™®æœ—å…‹å¸¸æ•°ï¼Œcæ˜¯å…‰é€Ÿï¼‰ã€‚<strong>æ³¢é•¿è¶ŠçŸ­ï¼Œèƒ½é‡è¶Šé«˜</strong>ï¼ˆç´«å…‰èƒ½é‡é«˜ï¼Œçº¢å…‰èƒ½é‡ä½ï¼‰ã€‚</p>
</li>
<li>
<p><strong>å¸æ”¶çš„å‘ç”Ÿ</strong>ï¼š</p>
<ul>
<li>å¦‚æœæŸä¸ªå…¥å°„å…‰å­çš„èƒ½é‡ï¼Œ<strong>æ°å¥½ç­‰äº</strong>æŸä¸ªç”µå­ä»åŸºæ€è·ƒè¿åˆ°æŸä¸ªæ¿€å‘æ€æ‰€éœ€çš„èƒ½é‡å·®ï¼Œé‚£ä¹ˆè¿™ä¸ªå…‰å­å°±æœ‰å¾ˆé«˜çš„æ¦‚ç‡è¢«è¯¥ç”µå­<strong>å¸æ”¶</strong>ã€‚</li>
<li>ç”µå­å¸æ”¶å…‰å­èƒ½é‡åï¼Œä¼šä»ä½èƒ½çº§è·ƒè¿åˆ°é«˜èƒ½çº§ï¼Œå˜å¾—ä¸ç¨³å®šã€‚</li>
<li>è¿™ä¸ªè¿‡ç¨‹åœ¨å®è§‚ä¸Šå°±è¡¨ç°ä¸ºï¼Œ<strong>è¯¥ç‰¹å®šæ³¢é•¿çš„å…‰è¢«ç‰©è´¨å¸æ”¶äº†</strong>ã€‚</li>
</ul>
</li>
<li>
<p><strong>çº¢è‰²çš„æˆå› </strong>ï¼š</p>
<ul>
<li>åœ¨ä¸€ä¸ªå‘ˆç°çº¢è‰²çš„ç‰©ä½“ï¼ˆæ¯”å¦‚ä¸€ä¸ªçº¢è‹¹æœï¼‰çš„è¡¨çš®åˆ†å­ï¼ˆå¦‚èŠ±é’ç´ ã€ç±»èƒ¡èåœç´ ç­‰è‰²ç´ åˆ†å­ï¼‰ä¸­ï¼Œå…¶ç”µå­èƒ½çº§ç»“æ„å†³å®šäº†ï¼Œå®ƒä»¬èƒ½å¤Ÿé«˜æ•ˆåœ°å¸æ”¶<strong>è“è‰²ã€ç»¿è‰²ã€é»„è‰²</strong>ç­‰æ³¢é•¿è¾ƒçŸ­ï¼ˆèƒ½é‡è¾ƒé«˜ï¼‰çš„å…‰å­ã€‚</li>
<li>è€Œ<strong>çº¢è‰²æ³¢é•¿</strong>çš„å…‰å­ï¼Œå…¶èƒ½é‡<strong>ä¸åŒ¹é…</strong>è¿™äº›åˆ†å­ä¸­ä»»ä½•é‡è¦çš„ç”µå­è·ƒè¿æ‰€éœ€èƒ½é‡ã€‚å› æ­¤ï¼Œçº¢è‰²å…‰ä¸ä¼šè¢«å¸æ”¶ï¼Œè€Œæ˜¯è¢«â€œæ‹’ç»â€äº†ã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-5">d. èƒ½é‡çš„å»å‘</h4>
<p>è¢«å¸æ”¶çš„å…‰å­èƒ½é‡ï¼ˆå³è¢«æ¿€å‘çš„ç”µå­ï¼‰å»å“ªé‡Œäº†ï¼Ÿå®ƒå¹¶ä¸ä¼šæ°¸è¿œåœç•™åœ¨ç‰©ä½“å†…ã€‚é€šå¸¸ï¼Œå®ƒä¼šé€šè¿‡ä»¥ä¸‹ä¸¤ç§ä¸»è¦æ–¹å¼è½¬åŒ–ä¸ºå…¶ä»–å½¢å¼çš„èƒ½é‡ï¼š</p>
<ol>
<li><strong>è½¬åŒ–ä¸ºçƒ­èƒ½</strong>ï¼šè¿™æ˜¯æœ€å¸¸è§çš„æ–¹å¼ã€‚æ¿€å‘æ€çš„ç”µå­é€šè¿‡ä¸åŸå­çš„ç¢°æ’ï¼ˆæ™¶æ ¼æŒ¯åŠ¨ï¼‰ï¼Œå°†å¤šä½™çš„èƒ½é‡è½¬åŒ–ä¸ºåˆ†å­çš„çƒ­è¿åŠ¨åŠ¨èƒ½ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåœ¨é˜³å…‰ä¸‹ï¼Œæ·±è‰²ç‰©ä½“ï¼ˆå¸æ”¶æ›´å¤šå…‰èƒ½ï¼‰é€šå¸¸æ¯”æµ…è‰²ç‰©ä½“æ›´çƒ­çš„åŸå› ã€‚</li>
<li><strong>å‘å°„è§å…‰æˆ–ç£·å…‰</strong>ï¼šå°‘æ•°æƒ…å†µä¸‹ï¼Œç”µå­ä¼šé€šè¿‡å‘å°„ä¸€ä¸ªèƒ½é‡è¾ƒä½ï¼ˆæ³¢é•¿æ›´é•¿ï¼‰çš„å…‰å­è¿”å›åˆ°åŸºæ€ã€‚ä½†è¿™é€šå¸¸ä¸æ˜¯ç‰©ä½“é¢œè‰²çš„ä¸»è¦æ¥æºã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-6">2. å®è§‚è§’åº¦ï¼šåå°„ä¸è§†è§‰æ„ŸçŸ¥</h3>
<h4 data-id="heading-7">a. åå°„ä¸æ•£å°„</h4>
<p>åœ¨å¾®è§‚ä¸Šè¢«â€œæ‹’ç»â€çš„çº¢è‰²å…‰ï¼Œåœ¨å®è§‚ä¸Šå°±è¡¨ç°ä¸º<strong>åå°„</strong>æˆ–<strong>æ•£å°„</strong>ã€‚</p>
<ul>
<li>å¯¹äºåƒè‹¹æœçš®è¿™æ ·ä¸å…‰æ»‘çš„è¡¨é¢ï¼Œå‘ç”Ÿçš„æ˜¯<strong>æ¼«åå°„</strong>ã€‚çº¢è‰²å…‰å‘å„ä¸ªæ–¹å‘æ•£å°„å¼€ã€‚</li>
<li>å¯¹äºåƒçº¢è‰²æ±½è½¦æ¼†è¿™æ ·å…‰æ»‘çš„è¡¨é¢ï¼Œåˆ™ä¼šå‘ç”Ÿ<strong>é•œé¢åå°„</strong>å’Œæ¼«åå°„çš„ç»“åˆï¼Œä½¿æˆ‘ä»¬èƒ½çœ‹åˆ°æ¸…æ™°çš„çº¢è‰²åå…‰ã€‚</li>
</ul>
<h4 data-id="heading-8">b. äººçœ¼çš„æ¥æ”¶ä¸å¤§è„‘çš„è§£è¯»</h4>
<ul>
<li>è¿™äº›è¢«åå°„çš„çº¢è‰²å…‰ç©¿è¿‡ç©ºæ°”ï¼Œè¿›å…¥æˆ‘ä»¬çš„çœ¼ç›ï¼Œèšç„¦åœ¨è§†ç½‘è†œä¸Šã€‚</li>
<li>è§†ç½‘è†œä¸Šçš„<strong>è§†é”¥ç»†èƒ</strong>å¯¹ç‰¹å®šæ³¢é•¿èŒƒå›´çš„å…‰æ•æ„Ÿã€‚å…¶ä¸­ï¼Œå¯¹é•¿æ³¢é•¿ï¼ˆçº¢è‰²ï¼‰æ•æ„Ÿçš„è§†é”¥ç»†èƒè¢«æ¿€æ´»ï¼Œäº§ç”Ÿç”µä¿¡å·ã€‚</li>
<li>å¤§è„‘æ¥æ”¶å¹¶å¤„ç†è¿™äº›ä¿¡å·ï¼Œæœ€ç»ˆå°†å…¶è§£è¯»ä¸ºâ€œçº¢è‰²â€çš„æ„Ÿè§‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-9">æ€»ç»“ä¸æµç¨‹å›¾</h3>
<p>æˆ‘ä»¬å¯ä»¥å°†æ•´ä¸ªè¿‡ç¨‹æ¢³ç†æˆä¸€ä¸ªæ¸…æ™°çš„é“¾æ¡ï¼š</p>
<p><strong>å¾®è§‚å±‚é¢ï¼š</strong>
<strong>ç™½å…‰ï¼ˆå…¨æ³¢æ®µå¯è§å…‰ï¼‰ç…§å°„ â†’ ç‰©ä½“è¡¨é¢åˆ†å­/åŸå­ â†’ ç”µå­å¸æ”¶ç‰¹å®šèƒ½é‡ï¼ˆè“ã€ç»¿ã€é»„å…‰ï¼‰å¹¶è·ƒè¿ â†’ èƒ½é‡è½¬åŒ–ä¸ºçƒ­èƒ½ â†’ çº¢å…‰å› èƒ½é‡ä¸åŒ¹é…è€Œè¢«æ‹’ç»</strong></p>
<p><strong>å®è§‚å±‚é¢ï¼š</strong>
<strong>è¢«æ‹’ç»çš„çº¢å…‰è¢«åå°„/æ•£å°„ â†’ åå°„å…‰è¿›å…¥äººçœ¼ â†’ è§†é”¥ç»†èƒå…´å¥‹ â†’ å¤§è„‘äº§ç”Ÿâ€œçº¢è‰²â€è§†è§‰å°è±¡</strong></p>
<h3 data-id="heading-10">ä¸€ä¸ªé‡è¦çš„è¡¥å……ï¼šé¢œæ–™ä¸ç»“æ„è‰²</h3>
<p>ä¸Šè¿°æœºåˆ¶ä¸»è¦æè¿°çš„æ˜¯<strong>è‰²ç´ è‰²</strong>ï¼ˆæˆ–åŒ–å­¦è‰²ï¼‰ï¼Œå³é¢œè‰²ç”±åˆ†å­çš„ç”µå­ç»“æ„å†³å®šã€‚ä¸–ç•Œä¸Šè¿˜æœ‰å¦ä¸€ç§äº§ç”Ÿé¢œè‰²çš„æœºåˆ¶ï¼Œå«åš<strong>ç»“æ„è‰²</strong>ï¼Œä¾‹å¦‚å­”é›€çš„ç¾½æ¯›ã€è´è¶çš„ç¿…è†€ã€å…‰ç›˜è¡¨é¢çš„å½©è™¹è‰²ã€‚</p>
<ul>
<li><strong>ç»“æ„è‰²</strong>ï¼šå…¶åŸç†ä¸æ˜¯é€‰æ‹©æ€§å¸æ”¶ï¼Œè€Œæ˜¯é€šè¿‡ç‰©ä½“è¡¨é¢çš„<strong>å¾®è§‚ç‰©ç†ç»“æ„</strong>ï¼ˆå¦‚å…‰æ …ã€è–„è†œå¹²æ¶‰ç­‰ï¼‰ä½¿å…‰å‘ç”Ÿ<strong>å¹²æ¶‰ã€è¡å°„æˆ–æ•£å°„</strong>ï¼Œä»è€Œå¼ºåŒ–æŸäº›æ³¢é•¿çš„å…‰ï¼Œæ¶ˆå‡å¦ä¸€äº›æ³¢é•¿çš„å…‰ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªç»“æ„å‘ˆç°çº¢è‰²ï¼Œä¸æ˜¯å› ä¸ºå¸æ”¶äº†å…¶ä»–å…‰ï¼Œè€Œæ˜¯å…¶ç»“æ„æ°å¥½è®©çº¢å…‰å‘ç”Ÿäº†ç›¸é•¿å¹²æ¶‰è€Œè¢«åŠ å¼ºï¼Œå…¶ä»–å…‰åˆ™è¢«ç›¸æ¶ˆå¹²æ¶‰æˆ–æ•£å°„åˆ°å…¶ä»–æ–¹å‘ã€‚</li>
</ul>
<p>æ‰€ä»¥ï¼Œå½“æ‚¨çœ‹åˆ°ä¸€ä¸ªçº¢è‰²çš„ç‰©ä½“æ—¶ï¼Œå®ƒå¤§æ¦‚ç‡æ˜¯é€šè¿‡å…¶åˆ†å­ç»“æ„ï¼Œä¸Šæ¼”äº†ä¸€åœºç²¾å¦™çš„â€œèƒ½é‡ç­›é€‰â€é­”æœ¯ï¼Œåªè®©çº¢è‰²çš„ä¿¡æ¯ä¼ é€’åˆ°æ‚¨çš„çœ¼ä¸­ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è®© LLM ä¸å¤–ç•Œå¯¹è¯ï¼šä½¿ç”¨ Function Calling å®ç°å¤©æ°”æŸ¥è¯¢å·¥å…·]]></title>    <link>https://juejin.cn/post/7573900879997485056</link>    <guid>https://juejin.cn/post/7573900879997485056</guid>    <pubDate>2025-11-19T00:34:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573900879997485056" data-draft-id="7573864324714070068" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è®© LLM ä¸å¤–ç•Œå¯¹è¯ï¼šä½¿ç”¨ Function Calling å®ç°å¤©æ°”æŸ¥è¯¢å·¥å…·"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,åç«¯,Python"/> <meta itemprop="datePublished" content="2025-11-19T00:34:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å—å±±å®‰"/> <meta itemprop="url" content="https://juejin.cn/user/1795929588117962"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è®© LLM ä¸å¤–ç•Œå¯¹è¯ï¼šä½¿ç”¨ Function Calling å®ç°å¤©æ°”æŸ¥è¯¢å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1795929588117962/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å—å±±å®‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T00:34:12.000Z" title="Wed Nov 19 2025 00:34:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰è™½ç„¶æ‹¥æœ‰å¼ºå¤§çš„æ–‡æœ¬ç”Ÿæˆå’Œç†è§£èƒ½åŠ›ï¼Œä½†å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªâ€œå°é—­ç³»ç»Ÿâ€â€”â€”æ— æ³•ç›´æ¥è®¿é—®äº’è”ç½‘ã€æ•°æ®åº“æˆ–å®æ—¶æ•°æ®ã€‚ä¸ºäº†è®© LLM çœŸæ­£å…·å¤‡â€œæ„ŸçŸ¥ä¸–ç•Œâ€çš„èƒ½åŠ›ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºå…¶é…å¤‡â€œå·¥å…·â€ï¼ˆToolsï¼‰ï¼Œå¹¶é€šè¿‡ <strong>Function Callingï¼ˆå‡½æ•°è°ƒç”¨ï¼‰</strong> æœºåˆ¶å®ç°ä¸å¤–éƒ¨ä¸–ç•Œçš„äº¤äº’ã€‚</p>
<p>æœ¬æ–‡å°†å¸¦ä½ ä»é›¶å¼€å§‹ï¼Œä½¿ç”¨ Python + OpenAI å…¼å®¹ APIï¼ˆä»¥ DeepSeek ä¸ºä¾‹ï¼‰ï¼Œå®ç°ä¸€ä¸ªèƒ½è‡ªåŠ¨æŸ¥è¯¢å¤©æ°”çš„æ™ºèƒ½åŠ©æ‰‹ã€‚ä½ å°†å­¦åˆ°ï¼š</p>
<ul>
<li>å¦‚ä½•å®šä¹‰å¹¶æ³¨å†Œå·¥å…·ï¼ˆToolï¼‰</li>
<li>å¦‚ä½•è§£æ LLM çš„å·¥å…·è°ƒç”¨è¯·æ±‚</li>
<li>å¦‚ä½•æ‰§è¡ŒçœŸå®å‡½æ•°å¹¶å°†ç»“æœè¿”å›ç»™æ¨¡å‹</li>
<li>å¦‚ä½•å®Œæˆå®Œæ•´çš„â€œç”¨æˆ·æé—® â†’ æ¨¡å‹å†³ç­– â†’ è°ƒç”¨å·¥å…· â†’ è¿”å›ç­”æ¡ˆâ€é—­ç¯</li>
</ul>
<hr/>
<h2 data-id="heading-1">1. å‡†å¤‡å·¥ä½œ</h2>
<h3 data-id="heading-2">å®‰è£…ä¾èµ–</h3>
<pre><code class="hljs">pip install requests openai
</code></pre>
<h3 data-id="heading-3">å¯¼å…¥å¿…è¦åº“</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> <span class="hljs-title class_">OpenAI</span>
</code></pre>
<hr/>
<h2 data-id="heading-4">2. ç¼–å†™å¤©æ°”æŸ¥è¯¢å·¥å…·å‡½æ•°</h2>
<p>æˆ‘ä»¬ä½¿ç”¨ <a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">å¿ƒçŸ¥å¤©æ°”</a> çš„å…è´¹ API è·å–å®æ—¶å¤©æ°”æ•°æ®ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_weather</span>(<span class="hljs-params">location: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    æ ¹æ®åŸå¸‚åç§°æŸ¥è¯¢å½“å‰å¤©æ°”
    :param location: åŸå¸‚åï¼Œå¦‚ "åŒ—äº¬"
    :return: å¤©æ°”æè¿°å­—ç¬¦ä¸²
    """</span>
    url = <span class="hljs-string">"https://api.seniverse.com/v3/weather/now.json"</span>
    params = {
        <span class="hljs-string">"key"</span>: <span class="hljs-string">"---"</span>,  <span class="hljs-comment"># æ›¿æ¢ä¸ºä½ è‡ªå·±çš„ API Key</span>
        <span class="hljs-string">"location"</span>: location,
        <span class="hljs-string">"language"</span>: <span class="hljs-string">"zh-Hans"</span>
    }
    <span class="hljs-keyword">try</span>:
        resp = requests.get(url, params=params, timeout=<span class="hljs-number">10</span>)
        data = resp.json()
        <span class="hljs-keyword">if</span> <span class="hljs-string">"results"</span> <span class="hljs-keyword">in</span> data:
            r = data[<span class="hljs-string">"results"</span>][<span class="hljs-number">0</span>]
            city = r[<span class="hljs-string">"location"</span>][<span class="hljs-string">"name"</span>]
            now = r[<span class="hljs-string">"now"</span>]
            text = now[<span class="hljs-string">"text"</span>]
            temp = now[<span class="hljs-string">"temperature"</span>]
            <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{city}</span>å½“å‰å¤©æ°”ï¼š<span class="hljs-subst">{text}</span>ï¼Œæ°”æ¸© <span class="hljs-subst">{temp}</span>â„ƒ"</span>
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">"æŸ¥è¯¢å¤±è´¥ï¼Œè¯·æ£€æŸ¥åŸå¸‚åç§°"</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"è¯·æ±‚å¼‚å¸¸ï¼š<span class="hljs-subst">{e}</span>"</span>
</code></pre>
<hr/>
<h2 data-id="heading-5">3. é…ç½® LLM å®¢æˆ·ç«¯ï¼ˆä»¥ DeepSeek ä¸ºä¾‹ï¼‰</h2>
<p>DeepSeek çš„ API å…¼å®¹ OpenAI åè®®ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ <code>openai</code> SDKã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">client</span> = OpenAI(
    <span class="hljs-attr">api_key</span>=<span class="hljs-string">'---'</span>,  <span class="hljs-comment"># æ›¿æ¢ä¸ºä½ çš„ DeepSeek API Key</span>
    <span class="hljs-attr">base_url</span>=<span class="hljs-string">'https://api.deepseek.com'</span>
)
</code></pre>
<hr/>
<h2 data-id="heading-6">4. å®šä¹‰å·¥å…·ï¼ˆToolï¼‰Schema</h2>
<p>ä¸ºäº†è®© LLM çŸ¥é“å®ƒå¯ä»¥è°ƒç”¨å“ªäº›å‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦æä¾›ç»“æ„åŒ–çš„å·¥å…·æè¿°ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">tools</span> = [
    {
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"function"</span>,
        <span class="hljs-string">"function"</span>: {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"get_weather"</span>,
            <span class="hljs-string">"description"</span>: <span class="hljs-string">"è·å–æŒ‡å®šåŸå¸‚çš„å½“å‰å¤©æ°”"</span>,
            <span class="hljs-string">"parameters"</span>: {
                <span class="hljs-string">"type"</span>: <span class="hljs-string">"object"</span>,
                <span class="hljs-string">"properties"</span>: {
                    <span class="hljs-string">"location"</span>: {
                        <span class="hljs-string">"type"</span>: <span class="hljs-string">"string"</span>,
                        <span class="hljs-string">"description"</span>: <span class="hljs-string">"åŸå¸‚åç§°ï¼Œå¦‚â€˜åŒ—äº¬â€™"</span>
                    }
                },
                <span class="hljs-string">"required"</span>: [<span class="hljs-string">"location"</span>]
            }
        }
    }
]
</code></pre>
<p>è¿™ä¸ª JSON Schema å‘Šè¯‰æ¨¡å‹ï¼š</p>
<ul>
<li>æœ‰ä¸€ä¸ªå«Â <code>get_weather</code>Â çš„å‡½æ•°å¯ç”¨</li>
<li>å®ƒéœ€è¦ä¸€ä¸ªÂ <code>location</code>Â å­—ç¬¦ä¸²å‚æ•°</li>
<li>å®ƒçš„ä½œç”¨æ˜¯æŸ¥å¤©æ°”</li>
</ul>
<hr/>
<h2 data-id="heading-7">5. å®ç°å®Œæ•´çš„ Function Calling æµç¨‹</h2>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿä¸€æ¬¡å®Œæ•´çš„å¯¹è¯ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># ç”¨æˆ·æé—®</span>
<span class="hljs-attr">messages</span> = [{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"åŒ—äº¬å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ"</span>}]

<span class="hljs-comment"># ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼šè®©æ¨¡å‹å†³å®šæ˜¯å¦éœ€è¦è°ƒç”¨å·¥å…·</span>
<span class="hljs-attr">response</span> = client.chat.completions.create(
    <span class="hljs-attr">model</span>=<span class="hljs-string">"deepseek-reasoner"</span>,
    <span class="hljs-attr">messages</span>=messages,
    <span class="hljs-attr">tools</span>=tools,
    <span class="hljs-attr">tool_choice</span>=<span class="hljs-string">"auto"</span>,
    <span class="hljs-attr">temperature</span>=<span class="hljs-number">0.1</span>
)

<span class="hljs-comment"># è·å–æ¨¡å‹è¿”å›çš„æ¶ˆæ¯</span>
<span class="hljs-attr">response_message</span> = response.choices[<span class="hljs-number">0</span>].message
messages.append(response_message)  <span class="hljs-comment"># å°†æ¨¡å‹æ¶ˆæ¯åŠ å…¥å¯¹è¯å†å²</span>

<span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦éœ€è¦è°ƒç”¨å·¥å…·</span>
if response_message.tool_calls:
    for tool_call in response_message.tool_calls:
        <span class="hljs-attr">function_name</span> = tool_call.function.name
        <span class="hljs-attr">function_args</span> = json.loads(tool_call.function.arguments)

        <span class="hljs-comment"># æ‰§è¡Œå¯¹åº”å‡½æ•°</span>
        if <span class="hljs-attr">function_name</span> == <span class="hljs-string">"get_weather"</span>:
            <span class="hljs-attr">function_response</span> = get_weather(function_args[<span class="hljs-string">"location"</span>])
        else:
            <span class="hljs-attr">function_response</span> = <span class="hljs-string">"æœªçŸ¥å·¥å…·"</span>

        <span class="hljs-comment"># å°†å‡½æ•°æ‰§è¡Œç»“æœä½œä¸ºâ€œtoolâ€è§’è‰²æ¶ˆæ¯åŠ å…¥å¯¹è¯</span>
        messages.append({
            "tool_call_id": tool_call.id,
            "role": "tool",
            "name": function_name,
            "content": function_response
        })

    <span class="hljs-comment"># ç¬¬äºŒæ¬¡è°ƒç”¨ï¼šå°†å·¥å…·ç»“æœä¼ å›ï¼Œè®©æ¨¡å‹ç”Ÿæˆæœ€ç»ˆå›ç­”</span>
    <span class="hljs-attr">final_response</span> = client.chat.completions.create(
        <span class="hljs-attr">model</span>=<span class="hljs-string">"deepseek-reasoner"</span>,
        <span class="hljs-attr">messages</span>=messages,
        <span class="hljs-attr">temperature</span>=<span class="hljs-number">0.3</span>
    )
    print(final_response.choices<span class="hljs-section">[0]</span>.message.content)
else:
    <span class="hljs-comment"># ä¸éœ€è¦å·¥å…·ï¼Œç›´æ¥è¾“å‡ºæ¨¡å‹å›ç­”</span>
    print(response_message.content)
</code></pre>
<hr/>
<h2 data-id="heading-8">6. è¿è¡Œæ•ˆæœ</h2>
<p>å½“ç”¨æˆ·è¾“å…¥ï¼š</p>
<pre><code class="hljs">åŒ—äº¬å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ
</code></pre>
<p>ç¨‹åºè¾“å‡ºï¼š</p>
<pre><code class="hljs">æ ¹æ®æœ€æ–°å¤©æ°”æ•°æ®ï¼ŒåŒ—äº¬å½“å‰å¤©æ°”ï¼šå¤šäº‘ï¼Œæ°”æ¸© 5â„ƒã€‚
</code></pre>
<p>æ•´ä¸ªè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>ç”¨æˆ·æé—®</li>
<li>LLM åˆ¤æ–­éœ€è¦è°ƒç”¨Â <code>get_weather("åŒ—äº¬")</code></li>
<li>ç¨‹åºæ‰§è¡Œè¯¥å‡½æ•°ï¼Œè·å–çœŸå®å¤©æ°”</li>
<li>å°†ç»“æœå–‚å› LLM</li>
<li>LLM ç”Ÿæˆè‡ªç„¶è¯­è¨€å›ç­”</li>
</ol>
<hr/>
<h2 data-id="heading-9">7. å…³é”®ç‚¹æ€»ç»“</h2>

































<table><thead><tr><th>æ­¥éª¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>å·¥å…·å®šä¹‰</strong></td><td>ä½¿ç”¨ JSON Schema æè¿°å‡½æ•°ç­¾å</td></tr><tr><td><strong>ç¬¬ä¸€æ¬¡è°ƒç”¨</strong></td><td>è®¾ç½®Â <code>tools</code>Â å’ŒÂ <code>tool_choice="auto"</code>ï¼Œè®©æ¨¡å‹å†³å®šæ˜¯å¦è°ƒç”¨</td></tr><tr><td><strong>è§£æ tool_calls</strong></td><td>ä»Â <code>response_message.tool_calls</code>Â ä¸­æå–å‡½æ•°åå’Œå‚æ•°</td></tr><tr><td><strong>æ‰§è¡ŒçœŸå®å‡½æ•°</strong></td><td>åœ¨æœ¬åœ°è¿è¡Œ Python å‡½æ•°ï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ï¼‰</td></tr><tr><td><strong>è¿”å›ç»“æœ</strong></td><td>ä»¥Â <code>role="tool"</code>Â çš„æ¶ˆæ¯æ ¼å¼è¿½åŠ åˆ°å¯¹è¯å†å²</td></tr><tr><td><strong>ç¬¬äºŒæ¬¡è°ƒç”¨</strong></td><td>è®©æ¨¡å‹åŸºäºå·¥å…·ç»“æœç”Ÿæˆæœ€ç»ˆå›ç­”</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-10">8. æ‰©å±•æ€è€ƒ</h2>
<ul>
<li>å¯ä»¥æ³¨å†Œå¤šä¸ªå·¥å…·ï¼ˆå¦‚æŸ¥è‚¡ç¥¨ã€å‘é‚®ä»¶ã€æŸ¥æ•°æ®åº“ï¼‰</li>
<li>ç»“åˆ LangChain æˆ– LlamaIndex å¯æ„å»ºæ›´å¤æ‚çš„ Agent</li>
<li>æ³¨æ„æ§åˆ¶ä¸Šä¸‹æ–‡é•¿åº¦ï¼Œé¿å…å› æ¶ˆæ¯è¿‡é•¿å¯¼è‡´ token è¶…é™</li>
<li>æ•æ„Ÿæ“ä½œéœ€åŠ å…¥æƒé™æ ¡éªŒå’Œå®‰å…¨è¿‡æ»¤</li>
</ul>
<hr/>
<h2 data-id="heading-11">ç»“è¯­</h2>
<p>Function Calling æ˜¯ LLM èµ°å‡ºâ€œå¹»è§‰ç‰¢ç¬¼â€ã€è¿æ¥ç°å®ä¸–ç•Œçš„å…³é”®æ¡¥æ¢ã€‚é€šè¿‡æœ¬æ–‡çš„å®è·µï¼Œä½ å·²ç»æŒæ¡äº†å¦‚ä½•è®©å¤§æ¨¡å‹â€œåŠ¨æ‰‹åšäº‹â€ã€‚ä¸‹ä¸€æ­¥ï¼Œä¸å¦¨å°è¯•æ¥å…¥æ›´å¤š APIï¼Œæ‰“é€ å±äºä½ è‡ªå·±çš„ AI åŠ©æ‰‹ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨LangGraphæ„å»ºè‡ªä¸»RAGï¼ˆ3ï¼‰]]></title>    <link>https://juejin.cn/post/7573931843266691126</link>    <guid>https://juejin.cn/post/7573931843266691126</guid>    <pubDate>2025-11-19T02:04:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573931843266691126" data-draft-id="7573931843266674742" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨LangGraphæ„å»ºè‡ªä¸»RAGï¼ˆ3ï¼‰"/> <meta itemprop="keywords" content="OpenAI,AIGC,Agent"/> <meta itemprop="datePublished" content="2025-11-19T02:04:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å®‰æ€æ´¾Anspire"/> <meta itemprop="url" content="https://juejin.cn/user/3044964115417419"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨LangGraphæ„å»ºè‡ªä¸»RAGï¼ˆ3ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3044964115417419/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å®‰æ€æ´¾Anspire
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T02:04:09.000Z" title="Wed Nov 19 2025 02:04:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>===</p>
<h2 data-id="heading-0">è®¾ç½®WebSearch APIï¼š</h2>
<p>æˆ‘ä»¬ä½¿ç”¨serperAPIè¿›è¡Œç½‘ç»œæœç´¢ï¼ˆè°·æ­Œæœç´¢ï¼‰ã€‚å…¶å…è´¹å±‚æä¾›2500æ¬¡å…è´¹ç½‘ç»œæœç´¢APIã€‚å®ƒèƒ½åœ¨1 - 2ç§’å†…ä¸ºç»™å®šæŸ¥è¯¢æä¾›è°·æ­Œæœç´¢ç»“æœã€‚</p>
<p>ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°æ›´å¤šè¯¦ç»†ä¿¡æ¯å¹¶è·å–ä½ çš„ API å¯†é’¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fserper.dev%2F" target="_blank" title="https://serper.dev/" ref="nofollow noopener noreferrer">æ­¤å¤„</a></p>
<pre><code class="hljs language-ini" lang="ini">from langchain_community.utilities import GoogleSerperAPIWrapper
from dotenv import load_dotenv
load_dotenv()
<span class="hljs-attr">SERPER_API_KEY</span> = os.getenv(<span class="hljs-string">"SERPER_API_KEY"</span>)

<span class="hljs-attr">search</span> = GoogleSerperAPIWrapper()
<span class="hljs-comment"># testing the google search API</span>
search.run(<span class="hljs-attr">query</span>=<span class="hljs-string">"What are the various vaccines of COVID-19"</span>)
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-string">"Different types of COVID-19 vaccines: How they work Â· mRNA vaccine Â· mRNA vaccine Â· Messenger RNA (mRNA) vaccine Â· Viral vector vaccine Â· Viral vector vaccine ... First introduced in December 2020, the original COVID mRNA vaccines from both Pfizer and Moderna protected against the original SARS-CoV-2 virus ... Currently, there are two types of COVID-19 vaccines for use in the United States: mRNA, and protein subunit vaccines. None of these vaccines can ... On this page, you will find infographics to explain how different types of vaccines work, including the Pfizer/BioNTech vaccine, the Moderna vaccine and the ... Types of COVID-19 vaccines. Two types of COVID-19 vaccines are recommended for use in the United States: mRNA vaccines. Moderna COVID-19 Vaccine ... List of COVID-19 vaccine authorizations Â· Contents Â· Overview maps Â· Oxfordâ€“AstraZeneca Â· Pfizerâ€“BioNTech Â· Janssen Â· Moderna Â· Sinopharm BIBP Â· Sputnik V. WHO recommends a simplified single-dose regime for primary immunization for most COVID-19 vaccines which would improve acceptance and uptake and provide ... Find information and answers to your questions about the COVID-19 vaccine, including scheduling, kid's shots, boosters, additional doses, records and more. The California Department of Public Health is dedicated to optimizing the health and well-being of Californians. Find out how the COVID-19 vaccines work, how many doses are needed, possible side effects and who shouldn't get the vaccine."</span>
</code></pre>
<h2 data-id="heading-1">è®¾ç½®OpenAI APIå®¢æˆ·ç«¯ï¼š</h2>
<p>æˆ‘ä»¬å°†ä½¿ç”¨Open AI APIçš„gpt-5-nanoæ¨¡å‹è¿›è¡Œæœ¬æ¬¡å®éªŒã€‚</p>
<p>æˆ‘é€‰æ‹©è¿™ä¸ªæ¨¡å‹æ˜¯å› ä¸ºæˆ‘çš„å®éªŒè§„æ¨¡å¾ˆå°ä¸”å¤æ‚åº¦è¾ƒä½ã€‚æˆ‘çš„æç¤ºéå¸¸ç®€å•ã€‚åœ¨ç°å®åœºæ™¯ä¸­ï¼Œä½ å¯èƒ½éœ€è¦ä½¿ç”¨æ›´é«˜çº§çš„æ¨¡å‹ï¼ˆgpt-5-mini / gpt-5ï¼‰ã€‚</p>
<p>å‚è€ƒä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv
load_dotenv()
openai_api_key = os.getenv(<span class="hljs-string">"OPEN_AI_KEY"</span>)
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_llm_response</span>(<span class="hljs-params">prompt: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""Function to get response from LLM"""</span>
    <span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI
    client_llm = OpenAI(api_key=openai_api_key)
    response = client_llm.chat.completions.create(
        model=<span class="hljs-string">"gpt-5-nano"</span>,
        messages=[{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: prompt}]
    )
    <span class="hljs-keyword">return</span> response.choices[<span class="hljs-number">0</span>].message.content

<span class="hljs-comment">## testing the LLM response</span>
prompt = <span class="hljs-string">"Explain the theory of relativity in simple terms in 30 words"</span>
response = get_llm_response(prompt)
<span class="hljs-built_in">print</span>(response)
</code></pre>
<p>ç›¸å¯¹è®ºè®¤ä¸ºï¼Œç‰©ç†å®šå¾‹é€‚ç”¨äºæ‰€æœ‰è§‚å¯Ÿè€…ï¼Œä¸å­˜åœ¨ä¼˜å…ˆå‚è€ƒç³»ï¼Œä¸”æ²¡æœ‰ä»»ä½•ç‰©ä½“çš„è¿åŠ¨é€Ÿåº¦èƒ½è¶…è¿‡å…‰é€Ÿã€‚æ—¶é—´å’Œç©ºé—´ä¼šéšè¿åŠ¨å’Œå¼•åŠ›è€Œå¼¯æ›²ï¼Œä»æ ¹æœ¬ä¸Šä½¿è´¨é‡å’Œèƒ½é‡ç­‰ä»·ã€‚</p>
<p>ç°åœ¨åœºåœ°å·²ç»å¸ƒç½®å¥½äº†ã€‚è®©æˆ‘ä»¬å¼€å§‹å®æ–½RAGã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ç¬¬ä¸€ä¸ªæ¥æºï¼ˆåŒ»ç–—é—®ç­”ï¼‰æ„å»ºä¸€ä¸ªä¼ ç»ŸRAGï¼Œç„¶åå†è½¬å‘æ™ºèƒ½ä½“RAGã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Comate Figma2Codeæ™ºèƒ½ä½“å‡çº§ï¼Œç•…äº«Figma2Codeä¸å—é™]]></title>    <link>https://juejin.cn/post/7573904312713248803</link>    <guid>https://juejin.cn/post/7573904312713248803</guid>    <pubDate>2025-11-19T03:14:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573904312713248803" data-draft-id="7573892573347037236" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Comate Figma2Codeæ™ºèƒ½ä½“å‡çº§ï¼Œç•…äº«Figma2Codeä¸å—é™"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜,å‰ç«¯æ¡†æ¶,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-19T03:14:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ–‡å¿ƒå¿«ç BaiduComate"/> <meta itemprop="url" content="https://juejin.cn/user/992209294070809"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Comate Figma2Codeæ™ºèƒ½ä½“å‡çº§ï¼Œç•…äº«Figma2Codeä¸å—é™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/992209294070809/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ–‡å¿ƒå¿«ç BaiduComate
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T03:14:17.000Z" title="Wed Nov 19 2025 03:14:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Figmaæ–°è§„å‘å¸ƒï¼ŒFigma REST APIè¯·æ±‚é€Ÿç‡å—é™</h2>
<p>11æœˆ17æ—¥ï¼ŒFigmaå‘å¸ƒæ–°è§„ï¼Œåœ¨Figmaå®˜æ–¹å…¬å‘Šä¸­ï¼Œ<strong>Figmaå¯¹Figma REST APIçš„è¯·æ±‚é€Ÿç‡è¿›è¡Œäº†é™åˆ¶</strong>ï¼Œé€Ÿç‡é™åˆ¶é€‚ç”¨äºOAuthåº”ç”¨å’Œä¸ªäººè®¿é—®ä»¤ç‰Œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22c83710260e4c4bb0f91c29b2a7a1e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paH5b-D5b-r56CBQmFpZHVDb21hdGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126857&amp;x-signature=Va460tPjbOqeXdSw1y199X5kWwk%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<h2 data-id="heading-1">Comate Figma2Codeæ™ºèƒ½ä½“å…¨é¢å‡çº§ï¼Œç•…äº«Figma2Codeä¸å—é™</h2>
<p>ç›®å‰ï¼Œç™¾åº¦Comate Figma2Codeæ™ºèƒ½ä½“å·²å…¨é¢å‡çº§ï¼Œ<strong>å†ä¹Ÿä¸ç”¨æ‹…å¿ƒREST APIé™åˆ¶å•¦ï½ç¤¾åŒºç‰ˆFigmaè´¦å·ä¹Ÿå¯ä»¥ç•…äº«Figma2CodeåŠŸèƒ½ã€‚</strong></p>
<h3 data-id="heading-2">Comate IDEç«¯ä½¿ç”¨è¯´æ˜</h3>
<p><strong>æ­¥éª¤å¦‚ä¸‹ï¼š</strong></p>
<p><strong>1.ä½¿ç”¨é¢„è§ˆåŠŸèƒ½æ‰“å¼€Figmaè®¾è®¡ç¨¿</strong></p>
<p>æ‰“å¼€Comate AI IDEï¼Œç‚¹å‡»å·¦ä¾§Open PreviewæŒ‰é’®æˆ–ç‚¹å‡»è¾“å…¥æ¡†ä¸­çš„Figmaå›¾æ ‡ï¼Œå³å¯ä½¿ç”¨é¢„è§ˆåŠŸèƒ½æ‰“å¼€Figmaã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4909104cf49a40b39fa55f813acad3f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paH5b-D5b-r56CBQmFpZHVDb21hdGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126857&amp;x-signature=9iKLAjDu7pgi7uBzdrg1oYY3mQ0%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea59a63f52904a4b89384f3fc63e3162~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paH5b-D5b-r56CBQmFpZHVDb21hdGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126857&amp;x-signature=8QlfSPigyOXNXM6AJBTEEvSey6U%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><strong>2.é€‰ä¸­è®¾è®¡ç¨¿å…ƒç´ å‘é€åˆ°å¯¹è¯</strong></p>
<p>åœ¨Figmaè®¾è®¡ç¨¿ä¸­é€‰ä¸­ä»»æ„å…ƒç´ ï¼Œç‚¹å‡»å³ä¸‹è§’å‘é€åˆ°å¯¹è¯ï¼Œåœ¨Figma2Codeæ™ºèƒ½ä½“ä¸­è¿›è¡Œå¯¹è¯ï¼Œå³å¯å®ç°Figmaè®¾è®¡ç¨¿è½¬ä¸ºå¯è¿è¡Œçš„å‰ç«¯ä»£ç ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e6eae179afe405c96a99c130a5fa6c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paH5b-D5b-r56CBQmFpZHVDb21hdGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126857&amp;x-signature=76Vt2sitqj2TFI0nINPNbh%2F6sU0%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e34e575160b044d9a33c84f028dcaa50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paH5b-D5b-r56CBQmFpZHVDb21hdGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126857&amp;x-signature=WnwKcp9%2FORQ3j%2BS9f9We3BElAec%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>è§†é¢‘å¯æŸ¥çœ‹ğŸ‘‰<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FftGqefVnwCW5C-eJqCeDsw" target="_blank" title="https://mp.weixin.qq.com/s/ftGqefVnwCW5C-eJqCeDsw" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/ftGqefVnwâ€¦</a></p>
<blockquote>
<p>è¯´æ˜ï¼šåœ¨Comate AI IDEä¸­ä½¿ç”¨é¢„è§ˆåŠŸèƒ½æ‰“å¼€Figmaé¡µé¢ï¼Œå¯ä»¥é€‰æ‹©è®¾è®¡ç¨¿å¹¶å‘é€åˆ°å¯¹è¯ï¼Œä¸€é”®å°†è®¾è®¡ç¨¿è½¬åŒ–ä¸ºå¯ç”¨çš„å‰ç«¯ä»£ç ã€‚</p>
</blockquote>
<p>é€‰ä¸­å…ƒç´ åï¼Œæ— æ³•å‘é€åˆ°å¯¹è¯ï¼Ÿ è¿™æ˜¯å› ä¸ºæ²¡æœ‰è®¾è®¡ç¨¿çš„ç¼–è¾‘æƒé™ï¼Œå¯ä»¥å°è¯•å·¦ä¸Šè§’é€‰æ‹©å¤åˆ¶åˆ°è‰ç¨¿ä¸­ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b4b814e4dd64a158c1b402b2399160f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paH5b-D5b-r56CBQmFpZHVDb21hdGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126857&amp;x-signature=qvuAkUzXUYLROevdohfkglUVga8%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<blockquote>
<p>è¯´æ˜ï¼šåœ¨Figmaè®¾è®¡ç¨¿å·¦ä¸Šè§’å¤åˆ¶åˆ°è‰ç¨¿ä»¥è·å¾—ç¼–è¾‘æƒé™</p>
</blockquote>
<h3 data-id="heading-3">Comateæ’ä»¶ç«¯é¢„å‘Š</h3>
<ul>
<li>æƒ³åœ¨VS Codeã€JetBrainsç­‰å¼€å‘å·¥å…·çš„Comateæ’ä»¶äº«å—è¯¥å‡çº§ï¼Ÿ</li>
<li>æƒ³åœ¨è‡ªç”¨æµè§ˆå™¨ä¸­é€‰æ‹©è®¾è®¡ç¨¿è¿›è¡ŒFigma2Codeï¼Ÿ</li>
</ul>
<p><strong>Comateè°·æ­Œæµè§ˆå™¨æ’ä»¶å°†åœ¨è¿‘æœŸä¸Šçº¿ï¼Œä¸Šçº¿åï¼ŒVS Codeã€JetBrainsç­‰ä¸»æµå¼€å‘å·¥å…·Comateæ’ä»¶ä¹Ÿä¼šé™†ç»­æ”¯æŒFigma2CodeåŠŸèƒ½å‡çº§å•¦ï½</strong></p>
<p><strong>æ­¥éª¤å¦‚ä¸‹ï¼š</strong></p>
<p>1.åœ¨è°·æ­Œæµè§ˆå™¨åº”ç”¨å•†åœºä¸­æœç´¢å¹¶å®‰è£…Comateæµè§ˆå™¨æ’ä»¶åï¼Œé¡µé¢ä¼šå‡ºç°ä¸€ä¸ªComateå·¥å…·æ ï¼ˆå›¾ç‰‡å³ä¸‹è§’ï¼‰ï¼›</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b8429d88f144da2b68949a3f80d698f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paH5b-D5b-r56CBQmFpZHVDb21hdGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126857&amp;x-signature=6ZuZGtBEbZcqlfJNs4LiqONia7I%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>è°·æ­Œæµè§ˆå™¨ç•Œé¢</p>
<p>2.ä»¥VS Codeä¸ºä¾‹ï¼Œæ‰“å¼€VS Codeçš„Comateæ’ä»¶ï¼›</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf203c7c243d46b3a31dffeb16ebb12d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paH5b-D5b-r56CBQmFpZHVDb21hdGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126857&amp;x-signature=sWxYwtxiRl5%2BHkAZfiyGt%2FfouAo%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>VS Codeç•Œé¢</p>
<p>3.åœ¨Figmaé¡µé¢é€‰æ‹©è®¾è®¡ç¨¿å…ƒç´ ï¼Œç‚¹å‡»å³ä¸‹è§’å‘é€åˆ°å¯¹è¯ï¼Œå³å¯å‘é€è®¾è®¡ç¨¿ä¸Šä¸‹æ–‡åˆ°ä»»æ„Comateæ’ä»¶å·¥ä½œåŒºã€‚</p>
<p>è§†é¢‘å¯æŸ¥çœ‹ğŸ‘‰<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FftGqefVnwCW5C-eJqCeDsw" target="_blank" title="https://mp.weixin.qq.com/s/ftGqefVnwCW5C-eJqCeDsw" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/ftGqefVnwâ€¦</a></p>
<blockquote>
<p>è¯´æ˜ï¼šå®‰è£…Comateè°·æ­Œæµè§ˆå™¨æ’ä»¶ä¹‹åï¼Œå¯ä»¥åœ¨Figmaè®¾è®¡ç¨¿ä¸­é€‰æ‹©è®¾è®¡ç¨¿å‘é€åˆ°Comateæ’ä»¶è¿›è¡Œå¯¹è¯ï¼Œä¸€é”®ä¸ºä½ ç”Ÿæˆè®¾è®¡ç¨¿ä»£ç </p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¼€æºç‰ˆæ‰£å­ç§æœ‰åŒ–éƒ¨ç½²]]></title>    <link>https://juejin.cn/post/7573957755369046026</link>    <guid>https://juejin.cn/post/7573957755369046026</guid>    <pubDate>2025-11-19T03:15:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573957755369046026" data-draft-id="7573958996667924507" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¼€æºç‰ˆæ‰£å­ç§æœ‰åŒ–éƒ¨ç½²"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-19T03:15:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€ä¸ªä¸ä¼šé‡å¤çš„id"/> <meta itemprop="url" content="https://juejin.cn/user/3241810244940952"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¼€æºç‰ˆæ‰£å­ç§æœ‰åŒ–éƒ¨ç½²
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3241810244940952/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€ä¸ªä¸ä¼šé‡å¤çš„id
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T03:15:00.000Z" title="Wed Nov 19 2025 03:15:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">dockerç¯å¢ƒ</h2>
<h3 data-id="heading-1">å®‰è£… docker compose ç¯å¢ƒ</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è®¾ç½®å›½å†…é•œåƒ</span>
sed -e <span class="hljs-string">'s|^mirrorlist=|#mirrorlist=|g'</span> \
      -e <span class="hljs-string">'s|^#baseurl=http://mirror.centos.org|baseurl=http://mirrors.aliyun.com|g'</span> \
      -i.bak \
      /etc/yum.repos.d/CentOS-*.repo
          
<span class="hljs-comment"># æ¸…ç†ç¼“å­˜</span>
yum makecache

<span class="hljs-comment"># é…ç½® docker-ce å›½å†… yum æºï¼ˆé˜¿é‡Œäº‘ï¼‰</span>
yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo

<span class="hljs-comment"># å®‰è£…å·¥å…·åº“</span>
yum install -y yum-utils

<span class="hljs-comment">#å®‰è£… docker</span>
yum install -y docker-ce docker-ce-cli containerd.io

<span class="hljs-comment">#å¯åŠ¨</span>
systemctl <span class="hljs-built_in">enable</span> docker
systemctl start docker  

</code></pre>
<h3 data-id="heading-2">æ›´æ–°å›½å†…é•œåƒæº</h3>
<p>æ–°å»ºæ–‡ä»¶ /etc/docker/daemon.json</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"bip"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"172.17.0.1/24"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"registry-mirrors"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"https://mirror.ccs.tencentyun.com"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"https://docker.linkedbus.com"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"https://dockerpull.org"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"log-driver"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"json-file"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"log-opts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"max-size"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"100m"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"max-file"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"3"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"labels"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"production_status"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"os,customer"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">#</span><span class="bash"><span class="hljs-comment"># é‡å¯docker</span></span>
  systemctl daemon-reload
  systemctl restart docker

</code></pre>
<h2 data-id="heading-3">æ‰£å­éƒ¨ç½²</h2>
<h3 data-id="heading-4">ä¸‹è½½æ‰£å­æºç </h3>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://github.com/coze-dev/coze-studio.git
<span class="hljs-built_in">cd</span> coze-studio
</code></pre>
<p>å¦‚æœè®¿é—®ä¸äº†githubï¼Œå°±æ‰‹åŠ¨ä¸‹è½½å‹ç¼©åŒ…ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¹Ÿè¡Œ</p>
<h3 data-id="heading-5">ä¿®æ”¹æœåŠ¡å™¨é…ç½®</h3>
<p>ä¿®æ”¹ coze-studio/docker.env ç¯å¢ƒæ–‡ä»¶ï¼Œå¯ä»¥æŠŠ 127.0.0.1:8888 æ”¹ä¸º 0.0.0.0::8888 è¿™æ ·å¤–ç½‘ä¹Ÿèƒ½è®¿é—®äº†</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/700e07376d3e4ebea23cf25b244c2fa5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Liq5LiN5Lya6YeN5aSN55qEaWQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126899&amp;x-signature=dyLdV4QjQXVwkpp3yezYHV3MwAs%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-6">è‡ªåŠ¨è¿è¡ŒæœåŠ¡</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> coze-studio
make web
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8fc5f817e0d141f3b8540d4d602a3dba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Liq5LiN5Lya6YeN5aSN55qEaWQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126899&amp;x-signature=EyI5GgxT3YkU2pVgFrYFM%2Bdh4e0%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-7">è®¿é—®å®¢æˆ·ç«¯</h3>
<p><a href="https://link.juejin.cn?target=http%3A%2F%2FIP%25E5%259C%25B0%25E5%259D%2580%3A8888%2F" target="_blank" title="http://IP%E5%9C%B0%E5%9D%80:8888/" ref="nofollow noopener noreferrer">http://IPåœ°å€:8888/</a></p>
<p>éšä¾¿å†™é‚®ç®±æ³¨å†Œè¿›å…¥</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/086576fa77054d7eb70ae1f0a91467cf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Liq5LiN5Lya6YeN5aSN55qEaWQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126899&amp;x-signature=FztNM6%2BoW9paW2UHRKuKvHy10FM%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d559470117e4e95934667b37205ea2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Liq5LiN5Lya6YeN5aSN55qEaWQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126899&amp;x-signature=RdGPIdkpZS%2F%2F0BKum7wo2CQmDAM%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-8">è®¿é—®ç®¡ç†ç«¯</h3>
<p><a href="https://link.juejin.cn?target=http%3A%2F%2FIP%25E5%259C%25B0%25E5%259D%2580%3A8888%2Fadmin" target="_blank" title="http://IP%E5%9C%B0%E5%9D%80:8888/admin" ref="nofollow noopener noreferrer">http://IPåœ°å€:8888/admin</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/359a79bf916840a7b9983572ff92f6ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Liq5LiN5Lya6YeN5aSN55qEaWQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126899&amp;x-signature=Oe8wgky3pLZ8iehV9k85JXyxsPw%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™é‡Œè¦é…ç½®å¤§æ¨¡å‹åœ°å€å’ŒAPI_KEYç­‰å‚æ•°</p>
<p>å¦‚æœæ˜¯è¦ç§æœ‰åŒ–éƒ¨ç½²å¤§æ¨¡å‹ï¼Œå‚è€ƒæ–‡ç«  <a href="https://juejin.cn/post/7470317059445850138" target="_blank" title="https://juejin.cn/post/7470317059445850138">å°é²œDeepSeekç§æœ‰åŒ–éƒ¨ç½²</a></p>
<p>æˆ‘ä¹‹å‰éƒ¨ç½²è¿‡deepseek-r1:7bï¼Œè¿™é‡Œå°±ç”¨è‡ªå·±çš„å¤§æ¨¡å‹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb6444d36c424730958b1dd80118e484~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Liq5LiN5Lya6YeN5aSN55qEaWQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126899&amp;x-signature=X1W1Sa1Xvy2xkTnIkjEE62OnQPo%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-9">æµ‹è¯•æ™ºèƒ½ä½“</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb23b29dc98844ddb218eb75bedc02c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Liq5LiN5Lya6YeN5aSN55qEaWQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126899&amp;x-signature=5bseoVnBT75XhHoMsvrrjreo5a4%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Rediså†…å­˜ç¢ç‰‡æ·±åº¦è§£æï¼šä»åŠ¨æ€æ•´ç†åˆ°æ ¸å¿ƒè¿ç»´å®è·µ]]></title>    <link>https://juejin.cn/post/7573886599433895987</link>    <guid>https://juejin.cn/post/7573886599433895987</guid>    <pubDate>2025-11-18T16:27:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573886599433895987" data-draft-id="7573899782803210286" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Rediså†…å­˜ç¢ç‰‡æ·±åº¦è§£æï¼šä»åŠ¨æ€æ•´ç†åˆ°æ ¸å¿ƒè¿ç»´å®è·µ"/> <meta itemprop="keywords" content="æ•°æ®åº“,Redis"/> <meta itemprop="datePublished" content="2025-11-18T16:27:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§å¤´an"/> <meta itemprop="url" content="https://juejin.cn/user/618374030438861"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Rediså†…å­˜ç¢ç‰‡æ·±åº¦è§£æï¼šä»åŠ¨æ€æ•´ç†åˆ°æ ¸å¿ƒè¿ç»´å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/618374030438861/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§å¤´an
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T16:27:31.000Z" title="Tue Nov 18 2025 16:27:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡æ·±å…¥æ¢è®¨Rediså†…å­˜ç¢ç‰‡çš„æˆå› ã€ç›‘æ§ä¸è‡ªåŠ¨æ•´ç†æœºåˆ¶ï¼Œå¹¶å»¶ä¼¸è®²è§£æŒä¹…åŒ–å†…å­˜æš´æ¶¨ã€Swapé…ç½®ã€å†™ç›˜é˜»å¡ç­‰å…³é”®è¿ç»´çŸ¥è¯†ç‚¹ï¼ŒåŠ©åŠ›æ‰“é€ æ›´ç¨³å®šã€é«˜æ€§èƒ½çš„RedisæœåŠ¡ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯å†…å­˜ç¢ç‰‡ï¼Ÿå¦‚ä½•æŸ¥çœ‹ï¼Ÿ</h2>
<p>æƒ³è±¡ä¸€ä¸‹ä½ çš„æˆ¿é—´ï¼ˆå†…å­˜ï¼‰ï¼Œä½ ä¹°äº†å¾ˆå¤šä¸åŒå¤§å°çš„ç®±å­ï¼ˆæ•°æ®ï¼‰æ¥è£…ä¸œè¥¿ã€‚å½“ä½ ä¸æ–­æ‰”æ‰ä¸€äº›æ—§ç®±å­ï¼ˆåˆ é™¤æ•°æ®ï¼‰ï¼Œåˆæ¢ä¸€äº›æ›´å¤§çš„æ–°ç®±å­ï¼ˆä¿®æ”¹æ•°æ®ï¼‰æ—¶ï¼Œæˆ¿é—´é‡Œå°±ä¼šç•™ä¸‹å¾ˆå¤šæ”¾ä¸ä¸‹æ–°ç®±å­çš„è§’è½ç¼éš™ã€‚è¿™äº›æ— æ³•è¢«æœ‰æ•ˆåˆ©ç”¨çš„é›¶æ•£ç©ºé—´ï¼Œå°±æ˜¯<strong>å†…å­˜ç¢ç‰‡</strong>ã€‚</p>
<h3 data-id="heading-1">å¦‚ä½•æŸ¥çœ‹Redisçš„å†…å­˜ç¢ç‰‡ï¼Ÿ</h3>
<p>Redisæä¾›äº†å¼ºå¤§çš„ç›‘æ§å‘½ä»¤ <code>INFO memory</code>ï¼Œå…¶ä¸­æˆ‘ä»¬æœ€å…³æ³¨çš„æŒ‡æ ‡æ˜¯ <strong><code>mem_fragmentation_ratio</code>ï¼ˆå†…å­˜ç¢ç‰‡ç‡ï¼‰</strong>ã€‚</p>
<p><strong>è®¡ç®—å…¬å¼</strong>ï¼š
<code>mem_fragmentation_ratio = used_memory_rss / used_memory</code></p>
<ul>
<li><strong><code>used_memory_rss</code></strong>ï¼šä»æ“ä½œç³»ç»Ÿè§’åº¦çœ‹åˆ°çš„ï¼ŒRedisè¿›ç¨‹å ç”¨çš„æ€»ç‰©ç†å†…å­˜å¤§å°ï¼ˆResident Set Sizeï¼‰ã€‚</li>
<li><strong><code>used_memory</code></strong>ï¼šRedisä¸ºäº†å­˜å‚¨æ•°æ®ï¼Œå®é™…ç”³è¯·çš„å†…å­˜å¤§å°ã€‚</li>
</ul>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                     â”‚
â”‚              used_memory_rss (æ€»ç‰©ç†å†…å­˜)           â”‚
â”‚                                                     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚    â”‚                                         â”‚      â”‚
â”‚    â”‚          used_memory (å®é™…ä½¿ç”¨)         â”‚      â”‚
â”‚    â”‚                                         â”‚      â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ å†…å­˜ç¢ç‰‡ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><em>å›¾1: å†…å­˜ç¢ç‰‡ç¤ºæ„å›¾ - used_memory_rss ä¸ used_memory çš„å…³ç³»</em></p>
<p><strong>ç¢ç‰‡ç‡è§£è¯»</strong>ï¼š</p>

























<table><thead><tr><th align="left">ç¢ç‰‡ç‡èŒƒå›´</th><th align="left">çŠ¶æ€è¯´æ˜</th><th align="left">å»ºè®®</th></tr></thead><tbody><tr><td align="left"><strong>â‰ˆ 1.0</strong></td><td align="left"><strong>å¥åº·</strong>ã€‚å†…å­˜å‡ ä¹æ— ç¢ç‰‡ï¼ŒRSSä¸ä½¿ç”¨å†…å­˜åŸºæœ¬ç›¸ç­‰ã€‚</td><td align="left">ç†æƒ³çŠ¶æ€ï¼Œä¿æŒå³å¯ã€‚</td></tr><tr><td align="left"><strong>&gt; 1.5</strong></td><td align="left"><strong>ç¢ç‰‡è¾ƒå¤š</strong>ã€‚å†…å­˜åˆ©ç”¨ç‡å¼€å§‹é™ä½ï¼Œéœ€è¦å…³æ³¨ã€‚</td><td align="left">å»ºè®®è°ƒæŸ¥åŸå› æˆ–å¯ç”¨è‡ªåŠ¨æ•´ç†ã€‚</td></tr><tr><td align="left"><strong>&lt; 1.0</strong></td><td align="left"><strong>å±é™©</strong>ã€‚è¡¨ç¤ºéƒ¨åˆ†Redisæ•°æ®è¢«äº¤æ¢ï¼ˆSwapï¼‰åˆ°äº†ç£ç›˜ä¸Šã€‚</td><td align="left">æ€§èƒ½ä¼šæ€¥å‰§ä¸‹é™ï¼Œéœ€ç«‹å³å¤„ç†ï¼Œå¢åŠ ç‰©ç†å†…å­˜æˆ–è°ƒæ•´Swapé…ç½®ã€‚</td></tr></tbody></table>
<h2 data-id="heading-2">äºŒã€å†…å­˜ç¢ç‰‡çš„æˆå› </h2>
<p>PDFä¸­æŒ‡å‡ºäº†ä¸¤å¤§ä¸»è¦åŸå› ï¼š</p>
<ol>
<li><strong>æ“ä½œç³»ç»Ÿçš„å†…å­˜ç®¡ç†</strong>ï¼šç‰©ç†å†…å­˜é¡µæ¡†åœ¨ç‰©ç†ä¸Šæœ¬èº«å°±ä¸è¿ç»­ã€‚</li>
<li><strong>å†…å­˜åˆ†é…å™¨çš„è¡Œä¸º</strong>ï¼šä»¥Redisé»˜è®¤çš„<code>jemalloc</code>ä¸ºä¾‹ï¼Œå…¶è®¾è®¡å°±ä¼šå¤©ç„¶äº§ç”Ÿç¢ç‰‡ã€‚
<ul>
<li><strong>å†…å­˜å½’æ¡£æŸè€—</strong>ï¼šåˆ†é…å™¨ä¸ºäº†æ•ˆç‡ï¼Œä¼šé¢„å…ˆåˆ†é…ä¸åŒå¤§å°çš„å†…å­˜å—ã€‚</li>
<li><strong>é‡Šæ”¾å†…å­˜æœªåŠæ—¶å½’è¿˜</strong>ï¼šé‡Šæ”¾çš„å†…å­˜å¯èƒ½ä¸ä¼šç«‹å³å½’è¿˜ç»™æ“ä½œç³»ç»Ÿï¼Œè€Œæ˜¯ç•™åœ¨åˆ†é…å™¨ä¸­ä»¥å¤‡åç»­ä½¿ç”¨ï¼Œä½†è¿™äº›å†…å­˜å¯èƒ½å› ä¸ºå¤ªå°è€Œæ— æ³•è¢«æœ‰æ•ˆåˆ©ç”¨ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-3">æ·±å…¥ç†è§£ï¼šjemallocå¦‚ä½•åˆ†é…å†…å­˜ï¼Ÿ</h3>
<p>PDFä¸­ä¸ºæˆ‘ä»¬æ­ç¤ºäº†jemallocçš„å†…éƒ¨æœºåˆ¶ï¼Œè¿™å¯¹äºç†è§£ç¢ç‰‡è‡³å…³é‡è¦ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">      Huge Allocation
        (å¤šä¸ªChunk)
           â†‘
      Large Allocation  
      (å¤šä¸ªPageç»„æˆ)
           â†‘
      Small Allocation
â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Run <span class="hljs-selector-tag">A</span> â”‚ Run <span class="hljs-selector-tag">B</span> â”‚ Run C â”‚ Run D â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚â–“â–“â–“ â–“â–“â–“â”‚â–“â–“â–“â–“ â–“â–“â”‚â–“ â–“â–“â–“â–“â–“â”‚â–“â–“ â–“â–“â–“â–“â”‚ â† Region (å®é™…å­˜å‚¨æ•°æ®)
â”‚â–“ â–“â–“ â–“â–“â”‚â–“â–“ â–“â–“â–“â–“â”‚â–“â–“â–“ â–“â–“â–“â”‚â–“â–“â–“ â–“â–“â–“â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
      <span class="hljs-number">4</span>MB Chunk (å‘æ“ä½œç³»ç»Ÿç”³è¯·çš„åŸºæœ¬å•ä½)
</code></pre>
<p><em>å›¾2: jemallocå†…å­˜åˆ†é…ç»“æ„å›¾ - é‡‘å­—å¡”å¼çš„å†…å­˜ç®¡ç†</em></p>
<ul>
<li><strong>Chunkï¼ˆå—ï¼‰</strong>ï¼šjemallocå‘æ“ä½œç³»ç»Ÿç”³è¯·å†…å­˜çš„åŸºæœ¬å•ä½ï¼Œé»˜è®¤å¤§å°ä¸º<strong>4MB</strong>ã€‚</li>
<li><strong>Run</strong>ï¼šä¸€ä¸ªChunkä¼šè¢«åˆ’åˆ†ä¸ºå¤šä¸ªç›¸åŒå¤§å°çš„<strong>Run</strong>ï¼Œç”¨äºæœåŠ¡ç‰¹å®šå¤§å°çš„å†…å­˜è¯·æ±‚ã€‚</li>
<li><strong>Region</strong>ï¼šæ¯ä¸ªRunåˆè¢«åˆ’åˆ†ä¸ºæ›´å°çš„ã€å›ºå®šå¤§å°çš„<strong>Region</strong>ï¼Œè¿™æ˜¯å­˜å‚¨ç”¨æˆ·æ•°æ®çš„æœ€ç»ˆå•ä½ã€‚</li>
</ul>
<p>jemallocå°†å†…å­˜è¯·æ±‚åˆ†ä¸ºä¸‰ç±»ï¼š</p>
<ul>
<li><strong>Small Allocation</strong>ï¼šå°å¯¹è±¡ï¼Œåœ¨ä¸€ä¸ªChunkå†…é€šè¿‡ä¸åŒçš„Runæ¥ç®¡ç†ã€‚</li>
<li><strong>Large Allocation</strong>ï¼šå¤§å¯¹è±¡ï¼Œéœ€è¦è¿ç»­çš„å¤šä¸ªPageã€‚</li>
<li><strong>Huge Allocation</strong>ï¼šå·¨å¤§å¯¹è±¡ï¼Œç›´æ¥åˆ†é…å¤šä¸ªChunkã€‚</li>
</ul>
<p><strong>ç¢ç‰‡äº§ç”Ÿçš„æœ¬è´¨</strong>ï¼šå½“ä¸åŒRunä¸­çš„Regionè¢«é¢‘ç¹ã€ä¸å‡è¡¡åœ°åˆ†é…å’Œé‡Šæ”¾æ—¶ï¼Œå°±ä¼šåœ¨Chunkå†…éƒ¨å½¢æˆå¤§é‡æ— æ³•è¢«åˆ©ç”¨çš„"ç©ºæ´"ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬çœ‹åˆ°çš„ç¢ç‰‡ã€‚</p>
<h2 data-id="heading-4">ä¸‰ã€Redisçš„åŠ¨æ€å†…å­˜ç¢ç‰‡æ•´ç†</h2>
<p>ä»Redis 4.0å¼€å§‹ï¼Œå¼•å…¥äº†<strong>è‡ªåŠ¨å†…å­˜ç¢ç‰‡æ•´ç†ï¼ˆActive Defragmentationï¼‰</strong> åŠŸèƒ½ï¼Œå®ƒå¯ä»¥åœ¨æœåŠ¡ä¸ä¸­æ–­çš„æƒ…å†µä¸‹ï¼Œåœ¨çº¿å›æ”¶å’Œåˆå¹¶ç¢ç‰‡ã€‚</p>
<h3 data-id="heading-5">1. å·¥ä½œåŸç†</h3>
<p>å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>ç§»åŠ¨æ•°æ®ï¼Œè…¾å‡ºè¿ç»­ç©ºé—´</strong>ã€‚</p>
<ol>
<li><strong>éå†</strong>ï¼šRedisä¼šå®šæœŸæ‰«æå†…å­˜ä¸­çš„é”®å€¼å¯¹ã€‚</li>
<li><strong>æ‹·è´</strong>ï¼šå¯¹äºå­˜å‚¨åœ¨ç¢ç‰‡åŒ–å†…å­˜ä¸­çš„æ•°æ®ï¼Œå°†å…¶æ‹·è´åˆ°ä¸€ä¸ªæ–°çš„ã€è¿ç»­çš„å†…å­˜åŒºåŸŸã€‚</li>
<li><strong>é‡Šæ”¾</strong>ï¼šæ‹·è´å®Œæˆåï¼Œé‡Šæ”¾æ—§çš„å†…å­˜å—ï¼Œä½¿å…¶èƒ½å¤Ÿè¢«åˆå¹¶æˆ–é‡æ–°åˆ†é…ã€‚</li>
</ol>
<pre><code class="hljs language-css" lang="css">æ•´ç†å‰ï¼ˆç¢ç‰‡åŒ–çŠ¶æ€ï¼‰ï¼š          æ•´ç†åï¼ˆç´§å‡‘çŠ¶æ€ï¼‰ï¼š
â”Œâ”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”            â”Œâ”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”
â”‚<span class="hljs-selector-tag">A</span>â”‚ â”‚<span class="hljs-selector-tag">B</span>â”‚ â”‚Câ”‚ â”‚ â”‚ â”‚            â”‚<span class="hljs-selector-tag">A</span>â”‚<span class="hljs-selector-tag">B</span>â”‚Câ”‚Dâ”‚Eâ”‚ â”‚ â”‚ â”‚
â”œâ”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¤            â”œâ”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¤
â”‚ â”‚Dâ”‚ â”‚Eâ”‚ â”‚ â”‚ â”‚ â”‚    â†’       â”‚Fâ”‚Gâ”‚Hâ”‚<span class="hljs-selector-tag">I</span>â”‚ â”‚ â”‚ â”‚ â”‚
â”œâ”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¤            â”œâ”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¤
â”‚Fâ”‚ â”‚Gâ”‚ â”‚Hâ”‚ â”‚<span class="hljs-selector-tag">I</span>â”‚ â”‚            â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚
â””â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”˜            â””â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”˜
   â†‘                           â†‘
æ•°æ®åˆ†æ•£ï¼Œç©ºé—²ç©ºé—´é›¶æ•£          æ•°æ®ç´§å‡‘ï¼Œç©ºé—²ç©ºé—´è¿ç»­
å†…å­˜åˆ©ç”¨ç‡ä½                   å†…å­˜åˆ©ç”¨ç‡é«˜
</code></pre>
<p><em>å›¾3: ç¢ç‰‡æ•´ç†è¿‡ç¨‹ç¤ºæ„å›¾ - ä»ç¢ç‰‡åŒ–åˆ°ç´§å‡‘çš„è½¬å˜</em></p>
<h3 data-id="heading-6">2. æ™ºèƒ½çš„æ•´ç†ç­–ç•¥</h3>
<p>Redisçš„æ•´ç†å¹¶é"æš´åŠ›"å…¨ç›˜æ•´ç†ï¼Œè€Œæ˜¯éå¸¸æ™ºèƒ½ã€‚PDFä¸­æŒ‡å‡ºï¼Œå®ƒä¼šåˆ¤æ–­ï¼š</p>
<ul>
<li>âœ… <strong>æ¡ä»¶1</strong>ï¼šåˆ†é…æ˜¯å¦å±äº<strong>small bin</strong>ï¼ˆå¤§å¯¹è±¡å’Œå·¨å¤§å¯¹è±¡æ•´ç†æˆæœ¬é«˜ï¼Œé€šå¸¸ä¸å¤„ç†ï¼‰ã€‚</li>
<li>âœ… <strong>æ¡ä»¶2</strong>ï¼šç¡®ä¿å®ƒä¸åœ¨<strong>å½“å‰ç”¨äºæ–°åˆ†é…çš„Run</strong>ä¸­ã€‚</li>
<li>âœ… <strong>æ¡ä»¶3</strong>ï¼šå®ƒä¸ä½äºä¸€ä¸ª<strong>å·²æ»¡çš„Run</strong>ä¸­ã€‚</li>
</ul>
<p>æ•´ç†çš„ç†æƒ³ç›®æ ‡æ˜¯ï¼š<strong>å°†åˆ©ç”¨ç‡ä½çš„Runä¸­çš„Regionï¼Œç§»åŠ¨åˆ°åˆ©ç”¨ç‡é«˜çš„Runä¸­</strong>ï¼Œç”¨æœ€å°‘çš„"æ¬ç§»"å·¥ä½œï¼Œå®ç°æœ€é«˜çš„å†…å­˜ç´§å‡‘åº¦ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">ç§»åŠ¨å‰ï¼š                        ç§»åŠ¨åï¼š
ä½åˆ©ç”¨ç‡Run (<span class="hljs-number">40%</span>)               é«˜åˆ©ç”¨ç‡Run (<span class="hljs-number">80%</span>)
â”Œâ”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”                     â”Œâ”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”
â”‚â–“â”‚ â”‚â–“â”‚ â”‚ â”‚                     â”‚â–“â”‚â–“â”‚â–“â”‚â–“â”‚â–“â”‚
â”œâ”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¤                     â”œâ”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¤
â”‚ â”‚â–“â”‚ â”‚ â”‚ â”‚       â†’             â”‚â–“â”‚â–“â”‚â–“â”‚â–“â”‚â–“â”‚
â”œâ”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¤                     â”œâ”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¤
â”‚â–“â”‚ â”‚ â”‚â–“â”‚ â”‚                     â”‚ â”‚ â”‚ â”‚ â”‚ â”‚
â””â”€â”´â”€â”´â”€â”´â”€â”´â”€â”˜                     â””â”€â”´â”€â”´â”€â”´â”€â”´â”€â”˜
    â†‘                               â†‘
ç§»åŠ¨è¿™äº›Regionåˆ°é«˜åˆ©ç”¨ç‡Run         æ¸…ç©ºçš„Runå¯è¢«æ•´ä½“å›æ”¶
æœ€å°åŒ–"æ¬ç§»å·¥ä½œé‡"                 æœ€å¤§åŒ–å†…å­˜åˆ©ç”¨ç‡
</code></pre>
<p><em>å›¾4: ä»ä½åˆ©ç”¨ç‡Runå‘é«˜åˆ©ç”¨ç‡Runè¿ç§»Regionç¤ºæ„å›¾</em></p>
<h3 data-id="heading-7">3. æ ¸å¿ƒé…ç½®å‚æ•°</h3>
<p>åœ¨<code>redis.conf</code>ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‚æ•°ç²¾ç»†æ§åˆ¶æ•´ç†è¡Œä¸ºï¼Œåœ¨<strong>æ•ˆç‡</strong>å’Œ<strong>æ€§èƒ½å¼€é”€</strong>ä¹‹é—´å–å¾—å¹³è¡¡ã€‚</p>
<pre><code class="hljs language-conf" lang="conf"># å¯ç”¨è‡ªåŠ¨ç¢ç‰‡æ•´ç†
activedefrag yes

# è§¦å‘æ•´ç†çš„é˜ˆå€¼
# å½“ç¢ç‰‡å¤§å°è¶…è¿‡100MBæ—¶
active-defrag-ignore-bytes 100mb
# å½“ç¢ç‰‡ç‡è¶…è¿‡10%æ—¶
active-defrag-threshold-lower 10
# å½“ç¢ç‰‡ç‡è¶…è¿‡100%ï¼Œæ•´ç†ä¼šå˜å¾—æ›´åŠ ç§¯æ
active-defrag-threshold-upper 100

# æ§åˆ¶æ•´ç†å¯¹CPUçš„å½±å“ï¼ˆç™¾åˆ†æ¯”ï¼‰
# ä¿è¯æœ€å°åŠªåŠ›ç¨‹åº¦
active-defrag-cycle-min 5
# é™åˆ¶æœ€å¤§åŠªåŠ›ç¨‹åº¦ï¼Œé˜²æ­¢å½±å“æ­£å¸¸è¯·æ±‚
active-defrag-cycle-max 75
</code></pre>
<h3 data-id="heading-8">4. å½“å‰é™åˆ¶</h3>
<ul>
<li><strong>å¤§å¯¹è±¡æ— æ³•æ•´ç†</strong>ï¼šå¯¹äºéå¸¸å¤§çš„Keyï¼Œç”±äºç§»åŠ¨å®ƒçš„æˆæœ¬å¤ªé«˜ï¼ŒRedisçš„è‡ªåŠ¨ç¢ç‰‡æ•´ç†ä¸ä¼šå¤„ç†å®ƒã€‚</li>
<li>ç›¸å…³Issue: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fantirez%2Fredis%2Fissues%2F919" target="_blank" title="https://github.com/antirez/redis/issues/919" ref="nofollow noopener noreferrer">#919</a>, <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fantirez%2Fredis%2Fissues%2F4057" target="_blank" title="https://github.com/antirez/redis/issues/4057" ref="nofollow noopener noreferrer">#4057</a></li>
</ul>
<h2 data-id="heading-9">å››ã€å…³é”®å»¶ä¼¸é—®é¢˜ä¸è¿ç»´å®è·µ</h2>
<h3 data-id="heading-10">1. æŒä¹…åŒ–å¯¼è‡´çš„å†…å­˜æš´æ¶¨ï¼ˆCopy-on-Writeï¼‰</h3>
<p>åœ¨æ‰§è¡Œ<code>BGSAVE</code>æˆ–<code>BGREWRITEAOF</code>æ—¶ï¼ŒRedisä¼šforkä¸€ä¸ªå­è¿›ç¨‹ã€‚å­è¿›ç¨‹ä¸çˆ¶è¿›ç¨‹å…±äº«å†…å­˜é¡µã€‚å½“çˆ¶è¿›ç¨‹ä¿®æ”¹æŸä¸ªå†…å­˜é¡µæ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šè§¦å‘<strong>å†™æ—¶å¤åˆ¶ï¼ˆCopy-on-Write, COWï¼‰</strong>ï¼Œä¸ºè¯¥é¡µåˆ›å»ºä¸€ä¸ªå‰¯æœ¬ã€‚</p>
<p><strong>é—®é¢˜æ ¹æºï¼šé€æ˜å¤§é¡µï¼ˆTransparent Huge Pages, THPï¼‰</strong>
åœ¨CentOS 7ç­‰ç³»ç»Ÿä¸­ï¼ŒTHPé»˜è®¤å¼€å¯ã€‚å®ƒä¼šå°è¯•å°†å¤šä¸ª4KBå°é¡µåˆå¹¶ä¸º2MBçš„å¤§é¡µã€‚è¿™å¯¼è‡´åœ¨COWæ—¶ï¼Œå³ä½¿åªä¿®æ”¹ä¸€ä¸ªå¤§é¡µä¸­çš„ä¸€ä¸ªå°æ•°æ®ï¼Œä¹Ÿéœ€è¦å¤åˆ¶æ•´ä¸ª2MBçš„å¤§é¡µï¼Œä»è€Œå¼•å‘<strong>å†…å­˜ç”¨é‡æ€¥å‰§ä¸Šå‡</strong>ï¼Œæç«¯æƒ…å†µä¸‹å¯è¾¾çˆ¶è¿›ç¨‹å†…å­˜çš„2å€ã€‚</p>
<p><strong>PDFä¸­çš„æµ‹è¯•æ•°æ®</strong>ï¼š</p>

































<table><thead><tr><th align="left">å†…å­˜</th><th align="left">å¼€å¯THPæ—¶COWå†…å­˜</th><th align="left">æ€»å†…å­˜</th><th align="left">å…³é—­THPåCOWå†…å­˜</th><th align="left">æ€»å†…å­˜</th></tr></thead><tbody><tr><td align="left">1G</td><td align="left">875M</td><td align="left">1.85G</td><td align="left">131M</td><td align="left">1.13G</td></tr><tr><td align="left">8G</td><td align="left">7.8G</td><td align="left">15.8G</td><td align="left">1.6G</td><td align="left">9.6G</td></tr><tr><td align="left">16G</td><td align="left">15.2G</td><td align="left">31.2G</td><td align="left">3.8G</td><td align="left">19.8G</td></tr></tbody></table>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">THP</span>å¼€å¯ (<span class="hljs-number">2</span>MBå¤§é¡µ)             æ™®é€šåˆ†é¡µ (<span class="hljs-number">4</span>KBå°é¡µ)
çˆ¶è¿›ç¨‹       å­è¿›ç¨‹            çˆ¶è¿›ç¨‹       å­è¿›ç¨‹
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”
â”‚  <span class="hljs-selector-tag">ABCDEF</span>  â”‚â†’â”‚  <span class="hljs-selector-tag">ABCDEF</span>  â”‚     â”‚ <span class="hljs-selector-tag">A</span>  â”‚â†’â”‚ <span class="hljs-selector-tag">A</span>  â”‚ â”‚ <span class="hljs-selector-tag">B</span>  â”‚â†’â”‚ <span class="hljs-selector-tag">B</span>  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜
  ä¿®æ”¹å­—æ¯<span class="hljs-selector-tag">C</span>åçš„<span class="hljs-selector-tag">COW</span>:              ä¿®æ”¹é¡µé¢<span class="hljs-selector-tag">A</span>åçš„<span class="hljs-selector-tag">COW</span>:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”
â”‚  <span class="hljs-selector-tag">ABXDEF</span>  â”‚ â”‚  <span class="hljs-selector-tag">ABCDEF</span>  â”‚     â”‚ <span class="hljs-selector-tag">X</span>  â”‚ â”‚ <span class="hljs-selector-tag">A</span>  â”‚ â”‚ <span class="hljs-selector-tag">B</span>  â”‚â†’â”‚ <span class="hljs-selector-tag">B</span>  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜
    â†‘                             â†‘
å¤åˆ¶äº†æ•´ä¸ª<span class="hljs-number">2</span><span class="hljs-selector-tag">MB</span>!                   åªå¤åˆ¶äº†<span class="hljs-number">4</span><span class="hljs-selector-tag">KB</span>!
å†…å­˜å¼€é”€: <span class="hljs-number">2</span><span class="hljs-selector-tag">MB</span>                   å†…å­˜å¼€é”€: <span class="hljs-number">4</span><span class="hljs-selector-tag">KB</span>
æ€§èƒ½å½±å“: ä¸¥é‡                   æ€§èƒ½å½±å“: è½»å¾®
</code></pre>
<p><em>å›¾5: COWä¸THPå…³ç³»ç¤ºæ„å›¾ - å¤§é¡µå¯¼è‡´çš„å†…å­˜æ”¾å¤§æ•ˆåº”</em></p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ°¸ä¹…å…³é—­THP</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">'never'</span> &gt; /sys/kernel/mm/transparent_hugepage/enabled

<span class="hljs-comment"># å°†å…¶åŠ å…¥ /etc/rc.local ä»¥ç¡®ä¿å¼€æœºç”Ÿæ•ˆ</span>
</code></pre>
<p><strong>å»ºè®®</strong>ï¼š</p>
<ul>
<li><strong>æ‰€æœ‰è¿›è¡ŒæŒä¹…åŒ–çš„Rediså®ä¾‹</strong>ï¼Œå¿…é¡»å…³é—­THPã€‚</li>
<li><strong>çº¯ç¼“å­˜</strong>å®ä¾‹ï¼Œä¸”å•Keyè¾ƒå¤§ï¼ˆ&gt;4KBï¼‰ï¼Œå¯ä»¥å°è¯•å¼€å¯THPä»¥é™ä½ç¢ç‰‡ç‡ï¼Œä½†éœ€å……åˆ†æµ‹è¯•ã€‚</li>
</ul>
<h3 data-id="heading-11">2. Redisä¸Swapçš„é…ç½®</h3>
<p>Linuxé€šè¿‡<code>/proc/sys/vm/swappiness</code>æ¥æ§åˆ¶ä½¿ç”¨Swapçš„å€¾å‘æ€§ã€‚</p>
<ul>
<li><strong>swappiness=0</strong>ï¼šæœ€å¤§ç¨‹åº¦é¿å…ä½¿ç”¨Swapï¼ˆå†…æ ¸3.5+ï¼‰ã€‚</li>
<li><strong>swappiness=100</strong>ï¼šç§¯æä½¿ç”¨Swapã€‚</li>
</ul>
<pre><code class="hljs language-scss" lang="scss">Linuxå†…å­˜å›æ”¶æœºåˆ¶ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   åŒ¿åé¡µ        â”‚    â”‚   File-backed   â”‚
â”‚  (Anonymous)    â”‚    â”‚   (Page Cache)  â”‚
â”‚                 â”‚    â”‚                 â”‚
â”‚ Redisæ•°æ®       â”‚    â”‚ æ–‡ä»¶æ•°æ®ç¼“å­˜    â”‚
â”‚ å †ã€æ ˆæ•°æ®      â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†‘                       â†‘
swappinessé«˜ â†’ ä¼˜å…ˆå›æ”¶ â†’ swappinessä½ â†’ ä¼˜å…ˆå›æ”¶
</code></pre>
<p><em>å›¾6: Linuxå†…å­˜å›æ”¶ä¸swappinesså…³ç³»</em></p>
<p><strong>å»ºè®®</strong>ï¼š</p>
<ul>
<li><strong>ç‰©ç†æœºéƒ¨ç½²</strong>ï¼šå¦‚æœå†…å­˜å……è¶³ï¼Œå»ºè®®è®¾ç½®ä¸º<code>0</code>ã€‚</li>
<li><strong>Dockerå®¹å™¨éƒ¨ç½²</strong>ï¼šéœ€è¦å¼€å¯Swapå¹¶è®¾ç½®ä¸€ä¸ªåˆç†çš„å€¼ï¼ˆå¦‚<code>10</code>ï¼‰ï¼Œä»¥é˜²æ­¢å®¹å™¨å› å†…å­˜è¶…ç”¨è€Œè¢«ç³»ç»ŸOOM Killerç›´æ¥æ€æ­»ã€‚</li>
</ul>
<h3 data-id="heading-12">3. Rediså†™ç›˜é˜»å¡ä¼˜åŒ–</h3>
<p>å½“Redisæ‰§è¡ŒAOF <code>fsync</code>æˆ–RDBæŒä¹…åŒ–æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°ç£ç›˜I/Oç“¶é¢ˆï¼Œå¯¼è‡´å†™æ“ä½œè¢«é˜»å¡ã€‚æ—¥å¿—ä¸­å¯èƒ½å‡ºç°ï¼š<code>Asynchronous AOF fsync is taking too long (disk is busy?)</code>ã€‚</p>
<p>è¿™ä¸Linuxçš„<strong>è„é¡µå›å†™æœºåˆ¶</strong>æœ‰å…³ã€‚å½“ç³»ç»Ÿè„é¡µï¼ˆå·²è¢«ä¿®æ”¹ä½†æœªå†™å…¥ç£ç›˜çš„å†…å­˜é¡µï¼‰æ¯”ä¾‹è¶…è¿‡<code>dirty_ratio</code>æ—¶ï¼Œå‘èµ·å†™æ“ä½œçš„ç¨‹åºä¼šè¢«é˜»å¡ï¼Œç›´åˆ°è„é¡µè¢«åˆ·å›ç£ç›˜ã€‚</p>
<p><strong>ä¼˜åŒ–å†…æ ¸å‚æ•°</strong>ï¼ˆåœ¨<code>/etc/sysctl.conf</code>ä¸­ï¼‰ï¼š</p>
<pre><code class="hljs language-conf" lang="conf"># å‡å°‘ç³»ç»Ÿè„é¡µæ€»å¤§å°é˜ˆå€¼
vm.dirty_ratio = 10
vm.dirty_background_ratio = 5

# åŠ å¿«è„é¡µå›å†™é¢‘ç‡ï¼ˆå•ä½ï¼šç™¾åˆ†ä¹‹ä¸€ç§’ï¼‰
vm.dirty_writeback_centisecs = 100
vm.dirty_expire_centisecs = 500
</code></pre>
<p>è¿™ä¼šè®©ç³»ç»Ÿæ›´é¢‘ç¹åœ°ã€å°æ‰¹é‡åœ°å›å†™è„é¡µï¼Œé¿å…I/Oè¯·æ±‚å †ç§¯é€ æˆé•¿æ—¶é—´çš„é˜»å¡ã€‚</p>
<h3 data-id="heading-13">4. å®¢æˆ·ç«¯è¿æ¥æ± ä¸å¥å£®æ€§</h3>
<p>PDFä¸­ç‰¹åˆ«æŒ‡å‡ºäº†å®¢æˆ·ç«¯åº“å®ç°çš„é‡è¦æ€§ã€‚ä¾‹å¦‚ï¼Œ<strong>PHPRedis</strong>åœ¨æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œé‡åˆ°ç½‘ç»œå¼‚å¸¸æˆ–åè®®è§£æé”™è¯¯æ—¶ï¼Œå¯èƒ½ä¸ä¼šä¸»åŠ¨å…³é—­æ— æ•ˆè¿æ¥ï¼Œå¯¼è‡´è¿æ¥æ± è¢«æ±¡æŸ“ã€‚è€ŒJavaçš„<strong>Jedis</strong>åˆ™ä¼šåœ¨ä¸Šå±‚æ•è·å¼‚å¸¸å¹¶å…³é—­è¿æ¥ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">Rediså®¢æˆ·ç«¯è¯·æ±‚å¤„ç†æµç¨‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Socket    â”‚ â†’  â”‚  InputBuf   â”‚ â†’  â”‚  Command    â”‚ â†’  â”‚  OutputBuf  â”‚
â”‚   <span class="hljs-built_in">Recv</span>()    â”‚    â”‚ (é»˜è®¤<span class="hljs-number">16</span>KB)   â”‚    â”‚  Process    â”‚    â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Socket    â”‚ â†  â”‚  OutputBuf  â”‚ â†  â”‚   Result    â”‚ â†  â”‚ Command     â”‚
â”‚   <span class="hljs-built_in">Send</span>()    â”‚    â”‚ (å†™å…¥&gt;<span class="hljs-number">64</span>KB   â”‚    â”‚  Format     â”‚    â”‚ Execution   â”‚
â”‚             â”‚    â”‚   åˆ™é€€å‡º)    â”‚    â”‚             â”‚    â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><em>å›¾7: Rediså‘½ä»¤å¤„ç†ä¸ç½‘ç»œI/Oæµç¨‹</em></p>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ul>
<li><strong>åŠ¡å¿…ä½¿ç”¨è¿æ¥æ± </strong>ã€‚å»ºç«‹TCPè¿æ¥æœ‰2-4msçš„å¼€é”€ï¼Œé«˜å¹¶å‘ä¸‹æ— æ³•æ‰¿å—ã€‚</li>
<li><strong>é€‰æ‹©æˆç†Ÿã€ç»´æŠ¤ç§¯æçš„å®¢æˆ·ç«¯</strong>ï¼Œå¹¶äº†è§£å…¶å¼‚å¸¸å¤„ç†æœºåˆ¶ã€‚</li>
<li><strong>å®šæœŸéªŒè¯è¿æ¥çš„æœ‰æ•ˆæ€§</strong>ã€‚</li>
</ul>
<h2 data-id="heading-14">æ€»ç»“</h2>
<p>Redisçš„å†…å­˜ç®¡ç†æ˜¯ä¸€ä¸ªä¸æ“ä½œç³»ç»Ÿç´§å¯†äº¤äº’çš„å¤æ‚è¿‡ç¨‹ã€‚ä¸€ä¸ªç¨³å®šçš„RedisæœåŠ¡éœ€è¦ä»å¤šæ–¹é¢è¿›è¡Œè°ƒä¼˜ï¼š</p>
<ol>
<li><strong>ç›‘æ§å…ˆè¡Œ</strong>ï¼šæ—¶åˆ»å…³æ³¨ <code>mem_fragmentation_ratio</code>ï¼Œå¯ç”¨å¹¶è°ƒä¼˜ <code>activedefrag</code>ã€‚</li>
<li><strong>å†…æ ¸ä¼˜åŒ–</strong>ï¼š<strong>å…³é—­THP</strong>æ˜¯ç”Ÿäº§ç¯å¢ƒæŒä¹…åŒ–Redisçš„å¿…å¤‡æ“ä½œã€‚</li>
<li><strong>å†…å­˜ç­–ç•¥</strong>ï¼šæ ¹æ®éƒ¨ç½²ç¯å¢ƒï¼ˆç‰©ç†æœº/å®¹å™¨ï¼‰åˆç†é…ç½®Swapã€‚</li>
<li><strong>I/Oä¼˜åŒ–</strong>ï¼šè°ƒæ•´å†…æ ¸è„é¡µå‚æ•°ï¼Œå¹³æ»‘å†™ç›˜æµé‡ï¼Œé¿å…é˜»å¡ã€‚</li>
<li><strong>å®¢æˆ·ç«¯é€‰æ‹©</strong>ï¼šä½¿ç”¨å¥å£®çš„å®¢æˆ·ç«¯å’Œè¿æ¥æ± ï¼Œé˜²æ­¢è¿æ¥æ³„æ¼ã€‚</li>
</ol>
<p>é€šè¿‡ä»¥ä¸Šè¿™äº›æ­¥éª¤ï¼Œä½ å¯ä»¥ç³»ç»Ÿåœ°è§£å†³Redisåœ¨å†…å­˜å’ŒæŒä¹…åŒ–æ–¹é¢é‡åˆ°çš„å¤§éƒ¨åˆ†ç–‘éš¾æ‚ç—‡ï¼Œä»è€Œä¿éšœçº¿ä¸ŠæœåŠ¡çš„é«˜æ€§èƒ½ä¸é«˜å¯ç”¨æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§£å†³ XXL-Job å®šæ—¶ä»»åŠ¡æ—¶é—´åå·®8å°æ—¶çš„é—®é¢˜]]></title>    <link>https://juejin.cn/post/7573957755369160714</link>    <guid>https://juejin.cn/post/7573957755369160714</guid>    <pubDate>2025-11-19T03:23:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573957755369160714" data-draft-id="7567309723478442036" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§£å†³ XXL-Job å®šæ—¶ä»»åŠ¡æ—¶é—´åå·®8å°æ—¶çš„é—®é¢˜"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-19T03:23:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åˆ˜å¤§å"/> <meta itemprop="url" content="https://juejin.cn/user/3507878440995946"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§£å†³ XXL-Job å®šæ—¶ä»»åŠ¡æ—¶é—´åå·®8å°æ—¶çš„é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3507878440995946/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åˆ˜å¤§å
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T03:23:45.000Z" title="Wed Nov 19 2025 03:23:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å¤§åï¼</p>
<p>æœ€è¿‘æŠŠXXL-Jobå®šæ—¶ä»»åŠ¡è¿ç§»åˆ°æ–°æœåŠ¡å™¨æ—¶ï¼Œé‡åˆ°äº†ä¸€ä¸ªè®©äººå›°æƒ‘çš„é—®é¢˜ï¼šä»»åŠ¡è®¾ç½®åœ¨ä¸Šåˆ10ç‚¹æ‰§è¡Œï¼Œä½†æ‰§è¡Œè°ƒåº¦å’Œæ‰§è¡Œå´æ˜¾ç¤ºæ™šä¸Š18ç‚¹ã€‚ç»è¿‡æ’æŸ¥ï¼Œå‘ç°é—®é¢˜æ ¹æºæ˜¯<strong>AæœåŠ¡å™¨çš„æ—¶é—´å°‘äº†8ä¸ªå°æ—¶</strong>ï¼</p>
<p>æ‰€æœ‰ä»»åŠ¡æ‰§è¡Œæ—¶é—´éƒ½å¤šäº†8å°æ—¶ï¼Œå¦‚å›¾ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff86a6fa1ff54003896609007d04da3a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YiY5aSn5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764127425&amp;x-signature=DCsLc9FZuFnLHRP3HaCPvTtPNp4%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-0">é—®é¢˜åˆ†æ</h2>
<h3 data-id="heading-1">æ‰§è¡Œæ—¶é—´çº¿</h3>
<p><strong>1.æˆ‘è®¾ç½®çš„æ—¶é—´</strong>ï¼š10:00ï¼ˆæˆ‘ä»¥ä¸ºçš„åŒ—äº¬æ—¶é—´ï¼‰
<strong>2.AæœåŠ¡å™¨ç†è§£çš„æ—¶é—´</strong>ï¼š10:00 UTCï¼ˆç›¸å½“äºåŒ—äº¬æ—¶é—´18:00ï¼‰
<strong>3.è§¦å‘ä»»åŠ¡</strong>ï¼šAæœåŠ¡å™¨åœ¨UTCæ—¶é—´10:00å‘BæœåŠ¡å™¨å‘é€è¯·æ±‚
<strong>4.BæœåŠ¡å™¨æ¥æ”¶æ—¶åˆ»</strong>ï¼šåŒ—äº¬æ—¶é—´18:00ï¼ˆUTC 10:00 + 8å°æ—¶ï¼‰
<strong>5.æ‰§è¡Œä»»åŠ¡</strong>ï¼šåŒ—äº¬æ—¶é—´18:00</p>
<h2 data-id="heading-2">è§£å†³æ–¹æ¡ˆï¼šä¿®å¤AæœåŠ¡å™¨æ—¶é—´</h2>
<h3 data-id="heading-3">ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥BæœåŠ¡å™¨æ—¶åŒºé…ç½®</h3>
<p>ç™»å½•BæœåŠ¡å™¨ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹å½“å‰æ—¶é—´å’Œæ—¶åŒº</span>
<span class="hljs-built_in">date</span>
timedatectl

<span class="hljs-comment"># é¢„æœŸæ­£ç¡®è¾“å‡ºï¼ˆåŒ—äº¬æ—¶é—´ï¼‰ï¼š</span>
<span class="hljs-comment"># Wed May 15 10:00:00 CST 2024</span>

<span class="hljs-comment"># é”™è¯¯è¾“å‡ºç¤ºä¾‹ï¼š</span>
<span class="hljs-comment"># Wed May 15 02:00:00 UTC 2024</span>
</code></pre>
<h3 data-id="heading-4">ç¬¬äºŒæ­¥ï¼šä¿®æ­£BæœåŠ¡å™¨æ—¶åŒº</h3>
<p><strong>CentOS/RedHatç³»ç»Ÿï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è®¾ç½®æ—¶åŒºä¸ºä¸Šæµ·</span>
timedatectl set-timezone Asia/Shanghai

<span class="hljs-comment"># éªŒè¯è®¾ç½®</span>
<span class="hljs-built_in">date</span>
</code></pre>
<p><strong>Ubuntu/Debianç³»ç»Ÿï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># äº¤äº’å¼è®¾ç½®æ—¶åŒº</span>
sudo dpkg-reconfigure tzdata
<span class="hljs-comment"># é€‰æ‹© Asia -&gt; Shanghai</span>
</code></pre>
<h3 data-id="heading-5">ç¬¬ä¸‰æ­¥ï¼šç¡®ä¿æ—¶é—´åŒæ­¥</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…å¹¶é…ç½®NTPæ—¶é—´åŒæ­¥</span>
yum install -y ntp  <span class="hljs-comment"># CentOS</span>
sudo apt-get update  <span class="hljs-comment"># Ubuntu</span>

<span class="hljs-comment"># éªŒè¯å½“å‰æ—¶é—´çŠ¶æ€</span>
timedatectl status
<span class="hljs-comment"># ç¡®è®¤ä¸ºTime zone: Asia/Shanghai (CST, +0800)</span>
</code></pre>
<h3 data-id="heading-6">ç¬¬å››æ­¥ï¼šéªŒè¯BæœåŠ¡å™¨é…ç½®</h3>
<p>è™½ç„¶é—®é¢˜ä¸»è¦å‡ºåœ¨AæœåŠ¡å™¨ï¼Œä½†ç¡®ä¿ç¯å¢ƒä¸€è‡´æ€§å¾ˆé‡è¦ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨AæœåŠ¡å™¨ä¸Šä¹Ÿæ‰§è¡ŒåŒæ ·çš„æ£€æŸ¥</span>
<span class="hljs-built_in">date</span>
timedatectl
</code></pre>
<p>ç¡®ä¿BæœåŠ¡å™¨ä¹Ÿä½¿ç”¨ <code>Asia/Shanghai</code> æ—¶åŒºã€‚</p>
<h4 data-id="heading-7">æœ€åä¸€å®šè¦è®°å¾—é‡å¯å®šæ—¶ä»»åŠ¡ã€‚</h4>
<h2 data-id="heading-8">åœ¨XXL-Jobç®¡ç†ç•Œé¢ä¸­ç¡®è®¤</h2>
<p>ç™»å½•XXL-Job Adminç®¡ç†åå°ï¼ŒæŸ¥çœ‹è°ƒåº¦æ—¥å¿—ï¼š</p>
<p><strong>1.è°ƒåº¦æ—¶é—´</strong>ï¼šåæ˜ AæœåŠ¡å™¨ï¼ˆè°ƒåº¦ä¸­å¿ƒï¼‰çš„è§¦å‘æ—¶é—´
<strong>2.æ‰§è¡Œæ—¶é—´</strong>ï¼šæ¥è‡ªBæœåŠ¡å™¨ï¼ˆæ‰§è¡Œå™¨ï¼‰ä¸ŠæŠ¥çš„æ—¶é—´</p>
<p>ä¿®å¤å‰åå¯¹æ¯”ï¼š
<strong>ä¿®å¤å‰</strong>ï¼šè°ƒåº¦æ—¶é—´ 10:00ï¼Œæ‰§è¡Œæ—¶é—´ 18:00
<strong>ä¿®å¤å</strong>ï¼šè°ƒåº¦æ—¶é—´ 10:00ï¼Œæ‰§è¡Œæ—¶é—´ 10:00</p>
<h2 data-id="heading-9">å®è·µå»ºè®®</h2>
<p><strong>1.ç¯å¢ƒæ ‡å‡†åŒ–</strong></p>
<ul>
<li>æ‰€æœ‰æœåŠ¡å™¨ç»Ÿä¸€ä½¿ç”¨ <code>Asia/Shanghai</code> æ—¶åŒº</li>
<li>ä½¿ç”¨ç›¸åŒçš„æ—¶é—´åŒæ­¥æœåŠ¡</li>
</ul>
<p><strong>2.æ—¥å¿—è§„èŒƒ</strong></p>
<ul>
<li>åœ¨ä¸šåŠ¡æ—¥å¿—ä¸­æ˜ç¡®è¾“å‡ºæ—¶åŒºä¿¡æ¯</li>
<li>è€ƒè™‘ä½¿ç”¨UTCæ—¶é—´å­˜å‚¨æ—¥å¿—ï¼Œå±•ç¤ºæ—¶æŒ‰éœ€è½¬æ¢</li>
</ul>
<h2 data-id="heading-10">æ€»ç»“</h2>
<p>è¿™ä¸ªé—®é¢˜æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç¯å¢ƒé…ç½®ä¸€è‡´æ€§é—®é¢˜ã€‚åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæ—¶é—´ä¸€è‡´æ€§æ˜¯ç»å¸¸è¢«å¿½è§†å´åˆè‡³å…³é‡è¦çš„åŸºç¡€é…ç½®ã€‚
<code>XXL-Job</code>ä½œä¸ºä¸€ä¸ªä¼˜ç§€çš„åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦æ¡†æ¶ï¼Œå…¶æœ¬èº«çš„æ—¶é—´æœºåˆ¶æ˜¯æ¸…æ™°çš„ï¼Œé—®é¢˜å¾€å¾€å‡ºç°åœ¨ç¯å¢ƒé…ç½®å±‚é¢ã€‚</p>
<p>ä¸‹æ¬¡å½“ä½ å‘ç°å®šæ—¶ä»»åŠ¡æ‰§è¡Œæ—¶é—´å¯¹ä¸ä¸Šæ—¶ï¼Œé¦–å…ˆæ£€æŸ¥æœåŠ¡å™¨çš„æ—¶åŒºå’Œæ—¶é—´åŒæ­¥é…ç½®ï¼Œè¿™å¯èƒ½ä¼šä¸ºä½ èŠ‚çœå¤§é‡çš„æ’æŸ¥æ—¶é—´ã€‚</p>
<blockquote>
<p>æœ¬æ–‡é¦–å‘äºå…¬ä¼—å·ï¼šç¨‹åºå‘˜åˆ˜å¤§åï¼Œä¸“æ³¨åˆ†äº«å‰åç«¯å¼€å‘çš„å®æˆ˜ç¬”è®°ã€‚å…³æ³¨æˆ‘ï¼Œå°‘èµ°å¼¯è·¯ï¼Œä¸€èµ·è¿›æ­¥ï¼</p>
</blockquote>
<p><strong>ğŸ“Œ æ‰©å±•é˜…è¯»ï¼š</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F72THiVPtsrA2xvtHmdDLmA" target="_blank" title="https://mp.weixin.qq.com/s/72THiVPtsrA2xvtHmdDLmA" ref="nofollow noopener noreferrer">ã€ŠSpringBoot+Vue3 æ•´åˆ SSE å®ç°å®æ—¶æ¶ˆæ¯æ¨é€ã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FP7SMincYFKERZbNKAFtzGQ" target="_blank" title="https://mp.weixin.qq.com/s/P7SMincYFKERZbNKAFtzGQ" ref="nofollow noopener noreferrer">ã€Šè¿™20æ¡SQLä¼˜åŒ–æ–¹æ¡ˆï¼Œè®©ä½ çš„æ•°æ®åº“æŸ¥è¯¢é€Ÿåº¦æå‡10å€ã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FgQK9L1TxKL50FUVMcgh6JQ" target="_blank" title="https://mp.weixin.qq.com/s/gQK9L1TxKL50FUVMcgh6JQ" ref="nofollow noopener noreferrer">ã€ŠSpringBoot åŠ¨æ€èœå•æƒé™ç³»ç»Ÿè®¾è®¡çš„ä¼ä¸šçº§è§£å†³æ–¹æ¡ˆã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fn1DqvgnDTFzpv9hJaudQeA" target="_blank" title="https://mp.weixin.qq.com/s/n1DqvgnDTFzpv9hJaudQeA" ref="nofollow noopener noreferrer">ã€ŠVue3 + ElementPlus åŠ¨æ€èœå•å®ç°ï¼šä¸€å¥—ä»£ç å®Œç¾é€‚é…å¤šè§’è‰²æƒé™ç³»ç»Ÿã€‹</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤„ç†è€—æ—¶è¾ƒé•¿çš„ä»»åŠ¡ç¬”è®°]]></title>    <link>https://juejin.cn/post/7573950036896858152</link>    <guid>https://juejin.cn/post/7573950036896858152</guid>    <pubDate>2025-11-19T03:33:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573950036896858152" data-draft-id="7573904312713412643" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤„ç†è€—æ—¶è¾ƒé•¿çš„ä»»åŠ¡ç¬”è®°"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-19T03:33:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°å°å°å°å®‡"/> <meta itemprop="url" content="https://juejin.cn/user/3386151546662077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤„ç†è€—æ—¶è¾ƒé•¿çš„ä»»åŠ¡ç¬”è®°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3386151546662077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°å°å°å°å®‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T03:33:53.000Z" title="Wed Nov 19 2025 03:33:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œå¤„ç†è€—æ—¶è¾ƒé•¿çš„ä»»åŠ¡ï¼ˆLong Tasksï¼‰æ˜¯æ€§èƒ½ä¼˜åŒ–çš„æ ¸å¿ƒéš¾ç‚¹ã€‚å¦‚æœä¸»çº¿ç¨‹è¢«å ç”¨è¶…è¿‡ 50msï¼Œç”¨æˆ·å°±ä¼šæ„Ÿè§‰åˆ°é¡µé¢å¡é¡¿ï¼ˆæ‰å¸§ï¼‰ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ·±å…¥æ¢è®¨å‡ ç§æ ¸å¿ƒæŠ€æœ¯æ–¹æ¡ˆï¼Œå¹¶ç¼–å†™ä¸€å¥—è¾ƒä¸ºå®Œæ•´çš„ã€æ¥è¿‘ç”Ÿäº§ç¯å¢ƒçš„<strong>ä»»åŠ¡è°ƒåº¦ä¸ä¼˜åŒ–ç³»ç»Ÿ</strong>ã€‚è¿™å°†åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ¨¡å—ï¼š</p>
<ol>
<li><strong>åŸºäºç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰çš„æ—¶é—´åˆ†ç‰‡è°ƒåº¦å™¨</strong>ï¼šå°†åŒæ­¥å¤§ä»»åŠ¡æ‹†è§£ä¸ºå¼‚æ­¥å°ä»»åŠ¡ã€‚</li>
<li><strong>å¤šçº¿ç¨‹å¹¶è¡Œè®¡ç®—æ¡†æ¶ï¼ˆWeb Worker Poolï¼‰</strong>ï¼šåˆ©ç”¨å¤šæ ¸ CPU å¤„ç†çº¯è®¡ç®—ä»»åŠ¡ã€‚</li>
<li><strong>é«˜ä¼˜å…ˆçº§æŠ¢å å¼è°ƒåº¦æ¨¡æ‹Ÿï¼ˆç±»ä¼¼äº React Schedulerï¼‰</strong>ï¼šé€šè¿‡ MessageChannel å®ç°å®ä»»åŠ¡è°ƒåº¦ã€‚</li>
<li><strong>å¤§é‡æ•°æ®æ¸²æŸ“ä¼˜åŒ–ï¼ˆè™šæ‹Ÿåˆ—è¡¨æ ¸å¿ƒå®ç°ï¼‰</strong>ï¼šè§£å†³æ¸²æŸ“å±‚é¢çš„é•¿ä»»åŠ¡ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-0">ç¬¬ä¸€éƒ¨åˆ†ï¼šé€šç”¨æ—¶é—´åˆ†ç‰‡è°ƒåº¦å™¨ (Time Slicing Scheduler)</h3>
<p>è¿™æ˜¯è§£å†³ä¸»çº¿ç¨‹é˜»å¡æœ€ç›´æ¥çš„æ–¹æ³•ã€‚æˆ‘ä»¬å°†åˆ©ç”¨ ES6 çš„ <code>Generator</code> å‡½æ•°ç‰¹æ€§ï¼Œé…åˆ <code>requestAnimationFrame</code> æˆ– <code>MessageChannel</code>ï¼Œå°†ä¸€ä¸ªå·¨å¤§çš„å¾ªç¯æ‹†åˆ†æˆå¤šä¸ªå¯ä»¥åœ¨æ¯ä¸€å¸§ä¹‹é—´æš‚åœæ‰§è¡Œçš„å°å—ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * æ¨¡å—ä¸€ï¼šTimeSlicer.js
 * æè¿°ï¼šä¸€ä¸ªåŸºäºç”Ÿæˆå™¨å‡½æ•°çš„é€šç”¨æ—¶é—´åˆ†ç‰‡æ§åˆ¶å™¨ã€‚
 * å®ƒå¯ä»¥æš‚åœã€æ¢å¤ä»»åŠ¡ï¼Œå¹¶ç¡®ä¿æ¯å¸§æ‰§è¡Œæ—¶é—´ä¸è¶…è¿‡é˜ˆå€¼ï¼ˆå¦‚ 16msï¼‰ã€‚
 */</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">TimeSlicer</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options = {}</span>) {
        <span class="hljs-comment">// é»˜è®¤ä¸€å¸§çš„æ—¶é—´é¢„ç®—ï¼Œç•™ç»™æµè§ˆå™¨æ¸²æŸ“çš„æ—¶é—´</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameBudget</span> = options.<span class="hljs-property">frameBudget</span> || <span class="hljs-number">12</span>; <span class="hljs-comment">// 12ms ç»™ JSï¼Œ4ms ç»™æ¸²æŸ“</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">fps</span> = options.<span class="hljs-property">fps</span> || <span class="hljs-number">60</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isRunning</span> = <span class="hljs-literal">false</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span> = []; <span class="hljs-comment">// ä»»åŠ¡é˜Ÿåˆ—</span>
        
        <span class="hljs-comment">// ç»‘å®šä¸Šä¸‹æ–‡</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_performWork</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_performWork</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);
    }

    <span class="hljs-comment">/**
     * æ·»åŠ ä¸€ä¸ªéœ€è¦åˆ†ç‰‡æ‰§è¡Œçš„ä»»åŠ¡
     * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Generator Function</span>} <span class="hljs-variable">generatorFunc</span> - ç”Ÿæˆå™¨å‡½æ•°
     * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Object</span>} <span class="hljs-variable">context</span> - æ‰§è¡Œä¸Šä¸‹æ–‡
     * <span class="hljs-doctag">@param</span> {<span class="hljs-type">...any</span>} <span class="hljs-variable">args</span> - å‚æ•°
     */</span>
    <span class="hljs-title function_">addTask</span>(<span class="hljs-params">generatorFunc, context = <span class="hljs-literal">null</span>, ...args</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> generatorFunc !== <span class="hljs-string">'function'</span> || generatorFunc.<span class="hljs-property">constructor</span>.<span class="hljs-property">name</span> !== <span class="hljs-string">'GeneratorFunction'</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'TimeSlicer: ä»»åŠ¡å¿…é¡»æ˜¯ä¸€ä¸ª Generator å‡½æ•°'</span>);
        }

        <span class="hljs-keyword">const</span> task = {
            <span class="hljs-attr">iterator</span>: generatorFunc.<span class="hljs-title function_">apply</span>(context, args),
            <span class="hljs-attr">priority</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// é¢„ç•™ä¼˜å…ˆçº§å­—æ®µ</span>
            <span class="hljs-attr">createdTime</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
        };

        <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">push</span>(task);
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_schedule</span>();
    }

    <span class="hljs-comment">/**
     * è°ƒåº¦æ ¸å¿ƒ
     * å¦‚æœå½“å‰æ²¡æœ‰è¿è¡Œï¼Œåˆ™å¯åŠ¨è°ƒåº¦
     */</span>
    <span class="hljs-title function_">_schedule</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">isRunning</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">isRunning</span> = <span class="hljs-literal">true</span>;
            <span class="hljs-comment">// ä¼˜å…ˆä½¿ç”¨ MessageChannel (å®ä»»åŠ¡)ï¼Œå…¶æ¬¡ requestAnimationFrame</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">MessageChannel</span> !== <span class="hljs-string">'undefined'</span>) {
                <span class="hljs-keyword">const</span> channel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MessageChannel</span>();
                channel.<span class="hljs-property">port2</span>.<span class="hljs-property">onmessage</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_performWork</span>;
                channel.<span class="hljs-property">port1</span>.<span class="hljs-title function_">postMessage</span>(<span class="hljs-literal">null</span>);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-built_in">setTimeout</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_performWork</span>, <span class="hljs-number">0</span>);
            }
        }
    }

    <span class="hljs-comment">/**
     * æ‰§è¡Œå·¥ä½œå•å…ƒ
     * åœ¨ç»™å®šçš„æ—¶é—´é¢„ç®—å†…å°½å¯èƒ½å¤šåœ°æ‰§è¡Œ generator.next()
     */</span>
    <span class="hljs-title function_">_performWork</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">const</span> startTime = performance.<span class="hljs-title function_">now</span>();

        <span class="hljs-comment">// åªè¦é˜Ÿåˆ—é‡Œæœ‰ä»»åŠ¡ï¼Œä¸”å½“å‰å¸§è¿˜æœ‰å‰©ä½™æ—¶é—´ï¼Œå°±ç»§ç»­æ‰§è¡Œ</span>
        <span class="hljs-keyword">while</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> &amp;&amp; (performance.<span class="hljs-title function_">now</span>() - startTime &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">frameBudget</span>)) {
            <span class="hljs-keyword">const</span> currentTask = <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>[<span class="hljs-number">0</span>];
            
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// æ‰§è¡Œä¸€æ­¥</span>
                <span class="hljs-keyword">const</span> result = currentTask.<span class="hljs-property">iterator</span>.<span class="hljs-title function_">next</span>();

                <span class="hljs-comment">// å¦‚æœå½“å‰ä»»åŠ¡å®Œæˆ (done: true)</span>
                <span class="hljs-keyword">if</span> (result.<span class="hljs-property">done</span>) {
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">shift</span>(); <span class="hljs-comment">// ç§»é™¤å·²å®Œæˆä»»åŠ¡</span>
                    <span class="hljs-comment">// å¯ä»¥åœ¨è¿™é‡Œè§¦å‘ä»»åŠ¡å®Œæˆçš„å›è°ƒ</span>
                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[TimeSlicer] ä»»åŠ¡å®Œæˆï¼Œè€—æ—¶: <span class="hljs-subst">${(<span class="hljs-built_in">Date</span>.now() - currentTask.createdTime)}</span>ms`</span>);
                } 
                <span class="hljs-comment">// å¦‚æœæ²¡å®Œæˆï¼Œå®ƒä¼šä¿ç•™åœ¨é˜Ÿåˆ—å¤´éƒ¨ï¼Œä¸‹ä¸€æ¬¡å¾ªç¯ç»§ç»­æ‰§è¡Œ</span>
            } <span class="hljs-keyword">catch</span> (error) {
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'[TimeSlicer] ä»»åŠ¡æ‰§è¡Œå‡ºé”™:'</span>, error);
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">shift</span>(); <span class="hljs-comment">// å‡ºé”™ç§»é™¤ä»»åŠ¡ï¼Œé˜²æ­¢æ­»å¾ªç¯</span>
            }
        }

        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦è¿˜æœ‰å‰©ä½™ä»»åŠ¡</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-comment">// è®©å‡ºä¸»çº¿ç¨‹ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡è°ƒåº¦</span>
            <span class="hljs-comment">// ä½¿ç”¨ requestAnimationFrame é…åˆ MessageChannel è¾¾åˆ°æœ€ä½³æ•ˆæœ</span>
            <span class="hljs-comment">// è¿™é‡Œç®€åŒ–é€»è¾‘ï¼Œç›´æ¥é‡æ–°è°ƒåº¦</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">MessageChannel</span> !== <span class="hljs-string">'undefined'</span>) {
                <span class="hljs-keyword">const</span> channel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MessageChannel</span>();
                channel.<span class="hljs-property">port2</span>.<span class="hljs-property">onmessage</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_performWork</span>;
                channel.<span class="hljs-property">port1</span>.<span class="hljs-title function_">postMessage</span>(<span class="hljs-literal">null</span>);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-built_in">setTimeout</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_performWork</span>, <span class="hljs-number">0</span>);
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">isRunning</span> = <span class="hljs-literal">false</span>;
        }
    }
}

<span class="hljs-comment">// ==========================================</span>
<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹ä»£ç ï¼šå¤„ç† 10ä¸‡æ¡æ•°æ®çš„å¤æ‚è®¡ç®—</span>
<span class="hljs-comment">// ==========================================</span>

<span class="hljs-keyword">const</span> slicer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimeSlicer</span>();

<span class="hljs-comment">/**
 * æ¨¡æ‹Ÿä¸€ä¸ªè€—æ—¶çš„å¤§å‹è®¡ç®—ä»»åŠ¡
 * å‡è®¾æˆ‘ä»¬éœ€è¦å¤„ç†ä¸€ä¸ªå·¨å¤§çš„æ•°ç»„ï¼Œæ¯é¡¹éƒ½è¦è¿›è¡Œæ•°å­¦è¿ç®—
 */</span>
<span class="hljs-keyword">function</span>* <span class="hljs-title function_">heavyCalculationTask</span>(<span class="hljs-params">dataSize</span>) {
    <span class="hljs-keyword">const</span> results = [];
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[Task] å¼€å§‹å¤„ç† <span class="hljs-subst">${dataSize}</span> æ¡æ•°æ®...`</span>);

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; dataSize; i++) {
        <span class="hljs-comment">// æ¨¡æ‹Ÿå¤æ‚è®¡ç®—: ä¸‰è§’å‡½æ•°ã€å¼€æ–¹ç­‰</span>
        <span class="hljs-keyword">let</span> temp = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(i) * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">tan</span>(i) + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>();
        <span class="hljs-comment">// æ¨¡æ‹Ÿ DOM æ“ä½œï¼ˆå¦‚æœéœ€è¦ï¼Œè™½ç„¶ä¸å»ºè®®åœ¨é€»è¾‘ä¸­æ··æ‚ DOMï¼‰</span>
        <span class="hljs-comment">// ä»…ä»…æ˜¯çº¯è®¡ç®—</span>
        results.<span class="hljs-title function_">push</span>(temp);

        <span class="hljs-comment">// å…³é”®ç‚¹ï¼šæ¯å¤„ç† 1000 æ¡æ•°æ®ï¼Œæˆ–è€…æ¯ä¸€æ­¥ yield ä¸€æ¬¡</span>
        <span class="hljs-comment">// ç²’åº¦è¶Šç»†ï¼Œå“åº”è¶Šå¥½ï¼Œä½†æ€»è€—æ—¶ä¼šå¾®å¢</span>
        <span class="hljs-keyword">if</span> (i % <span class="hljs-number">500</span> === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">yield</span>; <span class="hljs-comment">// æš‚åœï¼Œäº¤è¿˜æ§åˆ¶æƒç»™è°ƒåº¦å™¨</span>
        }
    }

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[Task] æ‰€æœ‰æ•°æ®å¤„ç†å®Œæ¯•ï¼Œç»“æœé•¿åº¦: <span class="hljs-subst">${results.length}</span>`</span>);
    <span class="hljs-keyword">return</span> results;
}

<span class="hljs-comment">// å¯åŠ¨ä»»åŠ¡ï¼šå¤„ç† 100,000 æ¡æ•°æ®</span>
<span class="hljs-comment">// å¦‚æœä¸ä½¿ç”¨ TimeSlicerï¼Œè¿™è¡Œä»£ç ä¼šç›´æ¥å¡æ­»æµè§ˆå™¨ 2-3ç§’</span>
slicer.<span class="hljs-title function_">addTask</span>(heavyCalculationTask, <span class="hljs-literal">null</span>, <span class="hljs-number">100000</span>);

<span class="hljs-comment">// å¯ä»¥åŒæ—¶æ·»åŠ å¦ä¸€ä¸ªä»»åŠ¡ï¼Œå®ƒä»¬ä¼šäº¤æ›¿æ‰§è¡Œ</span>
slicer.<span class="hljs-title function_">addTask</span>(<span class="hljs-keyword">function</span>* () {
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">50</span>; i++) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[Task 2] ç©¿æ’æ‰§è¡Œä¸­... <span class="hljs-subst">${i}</span>`</span>);
        <span class="hljs-keyword">yield</span>;
    }
});
</code></pre>
<hr/>
<h3 data-id="heading-1">ç¬¬äºŒéƒ¨åˆ†ï¼šWeb Worker çº¿ç¨‹æ±  (Thread Pool)</h3>
<p>æ—¶é—´åˆ†ç‰‡è™½ç„¶è§£å†³äº†å¡é¡¿ï¼Œä½†ä»»åŠ¡ä»ç„¶åœ¨ä¸»çº¿ç¨‹è¿è¡Œï¼Œæ€»è€—æ—¶å¹¶æ²¡æœ‰å‡å°‘ï¼ˆç”šè‡³å› ä¸ºè°ƒåº¦å¼€é”€å˜é•¿äº†ï¼‰ã€‚å¯¹äºçº¯è®¡ç®—ä»»åŠ¡ï¼ˆå¦‚å›¾åƒå¤„ç†ã€å¤§æ–‡ä»¶è§£æã€åŠ å¯†è§£å¯†ï¼‰ï¼Œæœ€å¥½çš„æ–¹æ¡ˆæ˜¯ç§»å‡ºä¸»çº¿ç¨‹ã€‚</p>
<p>ä¸ºäº†é¿å…é¢‘ç¹åˆ›å»º Worker å¸¦æ¥çš„å¼€é”€ï¼Œæˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ª <strong>Worker çº¿ç¨‹æ± </strong>ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * æ¨¡å—äºŒï¼šWorkerPool.js
 * æè¿°ï¼šç®¡ç†ä¸€ç»„ Web Workerï¼Œå®ç°è´Ÿè½½å‡è¡¡å’Œä»»åŠ¡å¤ç”¨ã€‚
 */</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">WorkerPool</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">workerScript, poolSize = <span class="hljs-number">4</span></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">workerScript</span> = workerScript;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">poolSize</span> = poolSize || navigator.<span class="hljs-property">hardwareConcurrency</span> || <span class="hljs-number">4</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span> = []; <span class="hljs-comment">// å­˜å‚¨ { worker, isBusy, id }</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span> = []; <span class="hljs-comment">// ç­‰å¾…å¤„ç†çš„ä»»åŠ¡é˜Ÿåˆ—</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskMap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(); <span class="hljs-comment">// å­˜å‚¨ taskId -&gt; { resolve, reject }</span>
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_initPool</span>();
    }

    <span class="hljs-title function_">_initPool</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">poolSize</span>; i++) {
            <span class="hljs-keyword">const</span> worker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">workerScript</span>);
            
            worker.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_handleWorkerMessage</span>(e, i);
            worker.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_handleWorkerError</span>(e, i);
            
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>.<span class="hljs-title function_">push</span>({
                <span class="hljs-attr">id</span>: i,
                <span class="hljs-attr">worker</span>: worker,
                <span class="hljs-attr">isBusy</span>: <span class="hljs-literal">false</span>
            });
        }
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[WorkerPool] åˆå§‹åŒ–å®Œæˆï¼ŒåŒ…å« <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.poolSize}</span> ä¸ªçº¿ç¨‹`</span>);
    }

    <span class="hljs-comment">/**
     * æäº¤ä»»åŠ¡åˆ°çº¿ç¨‹æ± 
     * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">type</span> - ä»»åŠ¡ç±»å‹
     * <span class="hljs-doctag">@param</span> {<span class="hljs-type">any</span>} <span class="hljs-variable">data</span> - æ•°æ®
     * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Promise</span>}
     */</span>
    <span class="hljs-title function_">run</span>(<span class="hljs-params">type, data</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
            <span class="hljs-keyword">const</span> taskId = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_generateUUID</span>();
            <span class="hljs-keyword">const</span> task = {
                taskId,
                type,
                data,
                resolve,
                reject
            };

            <span class="hljs-comment">// å°è¯•å¯»æ‰¾ç©ºé—² Worker</span>
            <span class="hljs-keyword">const</span> idleWorkerIndex = <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">w</span> =&gt;</span> !w.<span class="hljs-property">isBusy</span>);

            <span class="hljs-keyword">if</span> (idleWorkerIndex !== -<span class="hljs-number">1</span>) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_dispatchTask</span>(idleWorkerIndex, task);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// æ‰€æœ‰ Worker éƒ½åœ¨å¿™ï¼ŒåŠ å…¥é˜Ÿåˆ—</span>
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">push</span>(task);
            }
        });
    }

    <span class="hljs-title function_">_dispatchTask</span>(<span class="hljs-params">workerIndex, task</span>) {
        <span class="hljs-keyword">const</span> workerObj = <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>[workerIndex];
        workerObj.<span class="hljs-property">isBusy</span> = <span class="hljs-literal">true</span>;

        <span class="hljs-comment">// è®°å½•ä»»åŠ¡å›è°ƒï¼Œä»¥ä¾¿æ”¶åˆ°æ¶ˆæ¯æ—¶è§¦å‘</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskMap</span>.<span class="hljs-title function_">set</span>(task.<span class="hljs-property">taskId</span>, {
            <span class="hljs-attr">resolve</span>: task.<span class="hljs-property">resolve</span>,
            <span class="hljs-attr">reject</span>: task.<span class="hljs-property">reject</span>
        });

        <span class="hljs-comment">// å‘é€ç»™ Worker</span>
        workerObj.<span class="hljs-property">worker</span>.<span class="hljs-title function_">postMessage</span>({
            <span class="hljs-attr">taskId</span>: task.<span class="hljs-property">taskId</span>,
            <span class="hljs-attr">type</span>: task.<span class="hljs-property">type</span>,
            <span class="hljs-attr">data</span>: task.<span class="hljs-property">data</span>
        });
    }

    <span class="hljs-title function_">_handleWorkerMessage</span>(<span class="hljs-params">e, workerIndex</span>) {
        <span class="hljs-keyword">const</span> { taskId, result, error } = e.<span class="hljs-property">data</span>;
        <span class="hljs-keyword">const</span> workerObj = <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>[workerIndex];
        
        <span class="hljs-comment">// æ ‡è®°ä¸ºç©ºé—²</span>
        workerObj.<span class="hljs-property">isBusy</span> = <span class="hljs-literal">false</span>;

        <span class="hljs-comment">// æ‰¾åˆ°å¯¹åº”çš„ Promise</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">taskMap</span>.<span class="hljs-title function_">has</span>(taskId)) {
            <span class="hljs-keyword">const</span> { resolve, reject } = <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskMap</span>.<span class="hljs-title function_">get</span>(taskId);
            <span class="hljs-keyword">if</span> (error) {
                <span class="hljs-title function_">reject</span>(error);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-title function_">resolve</span>(result);
            }
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskMap</span>.<span class="hljs-title function_">delete</span>(taskId);
        }

        <span class="hljs-comment">// æ£€æŸ¥é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰ç­‰å¾…çš„ä»»åŠ¡</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">const</span> nextTask = <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">shift</span>();
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_dispatchTask</span>(workerIndex, nextTask);
        }
    }

    <span class="hljs-title function_">_handleWorkerError</span>(<span class="hljs-params">e, workerIndex</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`[WorkerPool] Worker <span class="hljs-subst">${workerIndex}</span> å‘ç”Ÿåº•å±‚é”™è¯¯`</span>, e);
        <span class="hljs-comment">// å®é™…ç”Ÿäº§ä¸­å¯èƒ½éœ€è¦é‡å¯è¯¥ Worker</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>[workerIndex].<span class="hljs-property">isBusy</span> = <span class="hljs-literal">false</span>;
    }

    <span class="hljs-title function_">_generateUUID</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[xy]/g</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) {
            <span class="hljs-keyword">var</span> r = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">16</span> | <span class="hljs-number">0</span>, v = c == <span class="hljs-string">'x'</span> ? r : (r &amp; <span class="hljs-number">0x3</span> | <span class="hljs-number">0x8</span>);
            <span class="hljs-keyword">return</span> v.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>);
        });
    }
    
    <span class="hljs-title function_">terminate</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">w</span> =&gt;</span> w.<span class="hljs-property">worker</span>.<span class="hljs-title function_">terminate</span>());
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span> = [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span> = [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskMap</span>.<span class="hljs-title function_">clear</span>();
    }
}

<span class="hljs-comment">/* 
   --------------------------------------------------
   é…å¥—çš„ Worker è„šæœ¬å†…å®¹ (worker-script.js) 
   (åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œè¿™é€šå¸¸æ˜¯ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ï¼Œæˆ–è€…é€šè¿‡ Blob URL ç”Ÿæˆ)
   --------------------------------------------------
*/</span>

<span class="hljs-comment">/*
// worker-script.js ä¼ªä»£ç å®ç°
self.onmessage = function(e) {
    const { taskId, type, data } = e.data;

    try {
        let result;
        switch (type) {
            case 'SORT_LARGE_ARRAY':
                // æ¨¡æ‹Ÿè€—æ—¶æ’åº
                result = data.sort((a, b) =&gt; a - b);
                break;
            case 'IMAGE_FILTER':
                // æ¨¡æ‹Ÿå›¾åƒåƒç´ å¤„ç†
                result = applyFilter(data); 
                break;
            default:
                throw new Error('Unknown task type');
        }

        self.postMessage({ taskId, result });
    } catch (err) {
        self.postMessage({ taskId, error: err.message });
    }
};

function applyFilter(pixels) {
    // æ¨¡æ‹Ÿ O(n) éå†
    let sum = 0;
    for(let i=0; i&lt;10000000; i++) { sum += i }
    return pixels;
}
*/</span>

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-comment">// const pool = new WorkerPool('worker-script.js');</span>
<span class="hljs-comment">// pool.run('SORT_LARGE_ARRAY', [5, 1, 9, ...]).then(res =&gt; console.log(res));</span>
</code></pre>
<hr/>
<h3 data-id="heading-2">ç¬¬ä¸‰éƒ¨åˆ†ï¼šä»»åŠ¡ä¼˜å…ˆçº§ä¸ç©ºé—²è°ƒåº¦ (Idle &amp; Priority Scheduler)</h3>
<p>é™¤äº†æ—¶é—´åˆ†ç‰‡ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åˆ©ç”¨ <code>requestIdleCallback</code> åœ¨æµè§ˆå™¨ç©ºé—²æ—¶æ‰§è¡Œä½ä¼˜å…ˆçº§ä»»åŠ¡ï¼ˆå¦‚åŸ‹ç‚¹ä¸ŠæŠ¥ã€é¢„åŠ è½½æ•°æ®ï¼‰ã€‚ä¸ºäº†å…¼å®¹æ€§å’Œæ›´å¥½çš„æ§åˆ¶ï¼Œæˆ‘ä»¬å®ç°ä¸€ä¸ªå¸¦ä¼˜å…ˆçº§çš„ä»»åŠ¡é˜Ÿåˆ—ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * æ¨¡å—ä¸‰ï¼šPriorityScheduler.js
 * æè¿°ï¼šæ¨¡æ‹Ÿ React Schedulerï¼Œæ”¯æŒä¼˜å…ˆçº§ï¼ˆUserBlocking, Normal, Low, Idleï¼‰ã€‚
 */</span>

<span class="hljs-keyword">const</span> <span class="hljs-title class_">Priority</span> = {
    <span class="hljs-title class_">Immediate</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">// ç‚¹å‡»äº‹ä»¶ç­‰ï¼Œå¿…é¡»ç«‹å³æ‰§è¡Œ</span>
    <span class="hljs-title class_">UserBlocking</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// æ»šåŠ¨ã€è¾“å…¥ï¼Œéœ€è¦åœ¨çŸ­æ—¶é—´å†…å®Œæˆ</span>
    <span class="hljs-title class_">Normal</span>: <span class="hljs-number">3</span>, <span class="hljs-comment">// æ™®é€šæ•°æ®è¯·æ±‚</span>
    <span class="hljs-title class_">Low</span>: <span class="hljs-number">4</span>, <span class="hljs-comment">// åŠ¨ç”»åç»­å¤„ç†</span>
    <span class="hljs-title class_">Idle</span>: <span class="hljs-number">5</span> <span class="hljs-comment">// åŸ‹ç‚¹ã€é¢„åŠ è½½</span>
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">PriorityScheduler</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span> = [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isMessageLoopRunning</span> = <span class="hljs-literal">false</span>;
        
        <span class="hljs-comment">// ä½¿ç”¨ MessageChannel è¿›è¡Œä»»åŠ¡å¾ªç¯ tick</span>
        <span class="hljs-keyword">const</span> channel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MessageChannel</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">port</span> = channel.<span class="hljs-property">port2</span>;
        channel.<span class="hljs-property">port1</span>.<span class="hljs-property">onmessage</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_performWorkUntilDeadline</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);
    }

    <span class="hljs-comment">/**
     * è°ƒåº¦ä»»åŠ¡
     * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Function</span>} callback 
     * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} priorityLevel 
     */</span>
    <span class="hljs-title function_">scheduleCallback</span>(<span class="hljs-params">priorityLevel, callback</span>) {
        <span class="hljs-keyword">const</span> startTime = performance.<span class="hljs-title function_">now</span>();
        <span class="hljs-keyword">let</span> timeout;

        <span class="hljs-comment">// æ ¹æ®ä¼˜å…ˆçº§è®¾ç½®è¿‡æœŸæ—¶é—´</span>
        <span class="hljs-keyword">switch</span> (priorityLevel) {
            <span class="hljs-keyword">case</span> <span class="hljs-title class_">Priority</span>.<span class="hljs-property">Immediate</span>: timeout = -<span class="hljs-number">1</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-title class_">Priority</span>.<span class="hljs-property">UserBlocking</span>: timeout = <span class="hljs-number">250</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-title class_">Priority</span>.<span class="hljs-property">Normal</span>: timeout = <span class="hljs-number">5000</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-title class_">Priority</span>.<span class="hljs-property">Low</span>: timeout = <span class="hljs-number">10000</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-title class_">Priority</span>.<span class="hljs-property">Idle</span>: timeout = <span class="hljs-number">1073741823</span>; <span class="hljs-keyword">break</span>; <span class="hljs-comment">// Max Int 32 bit approx</span>
            <span class="hljs-attr">default</span>: timeout = <span class="hljs-number">5000</span>;
        }

        <span class="hljs-keyword">const</span> expirationTime = startTime + timeout;

        <span class="hljs-keyword">const</span> newTask = {
            callback,
            priorityLevel,
            startTime,
            expirationTime,
            <span class="hljs-attr">sortIndex</span>: -<span class="hljs-number">1</span> <span class="hljs-comment">// ç”¨äºæœ€å°å †æ’åºï¼Œè¿™é‡Œç®€åŒ–ä¸ºæ•°ç»„æ’åº</span>
        };

        <span class="hljs-comment">// æ’å…¥é˜Ÿåˆ—å¹¶æŒ‰è¿‡æœŸæ—¶é—´æ’åºï¼ˆæ¨¡æ‹Ÿæœ€å°å †ï¼‰</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span>.<span class="hljs-title function_">push</span>(newTask);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span>.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a.<span class="hljs-property">expirationTime</span> - b.<span class="hljs-property">expirationTime</span>);

        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">isMessageLoopRunning</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">isMessageLoopRunning</span> = <span class="hljs-literal">true</span>;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">port</span>.<span class="hljs-title function_">postMessage</span>(<span class="hljs-literal">null</span>);
        }
    }

    <span class="hljs-title function_">_performWorkUntilDeadline</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">const</span> currentTime = performance.<span class="hljs-title function_">now</span>();
        <span class="hljs-keyword">const</span> deadline = currentTime + <span class="hljs-number">5</span>; <span class="hljs-comment">// æ¯æ¬¡ç»™ 5ms çš„æ—¶é—´ç‰‡</span>

        <span class="hljs-keyword">let</span> currentTask = <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span>[<span class="hljs-number">0</span>];

        <span class="hljs-keyword">while</span> (currentTask) {
            <span class="hljs-comment">// å¦‚æœä»»åŠ¡è¿˜æ²¡è¿‡æœŸï¼Œä½†å½“å‰å¸§æ—¶é—´ç‰‡ç”¨å®Œäº†ï¼Œæš‚åœï¼Œè®©ç»™æµè§ˆå™¨æ¸²æŸ“</span>
            <span class="hljs-keyword">if</span> (currentTask.<span class="hljs-property">expirationTime</span> &gt; currentTime &amp;&amp; performance.<span class="hljs-title function_">now</span>() &gt;= deadline) {
                <span class="hljs-keyword">break</span>;
            }

            <span class="hljs-comment">// æ‰§è¡Œä»»åŠ¡</span>
            <span class="hljs-keyword">const</span> callback = currentTask.<span class="hljs-property">callback</span>;
            <span class="hljs-comment">// å¯ä»¥åœ¨è¿™é‡Œä¼ å…¥ didTimeout å‚æ•°å‘ŠçŸ¥ä»»åŠ¡æ˜¯å¦è¶…æ—¶</span>
            <span class="hljs-keyword">const</span> didTimeout = currentTask.<span class="hljs-property">expirationTime</span> &lt;= currentTime;
            
            <span class="hljs-comment">// ä»é˜Ÿåˆ—ç§»é™¤</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span>.<span class="hljs-title function_">shift</span>();

            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// æ‰§è¡Œå›è°ƒ</span>
                <span class="hljs-keyword">const</span> continuationCallback = <span class="hljs-title function_">callback</span>(didTimeout);
                
                <span class="hljs-comment">// å¦‚æœä»»åŠ¡è¿”å›äº†ä¸€ä¸ªå‡½æ•°ï¼Œè¯´æ˜å®ƒè¿˜æ²¡åšå®Œï¼ˆæ”¯æŒä»»åŠ¡ä¸­æ–­ä¸æ¢å¤ï¼‰</span>
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> continuationCallback === <span class="hljs-string">'function'</span>) {
                    <span class="hljs-comment">// é‡æ–°åŠ å…¥é˜Ÿåˆ—ï¼Œä¿æŒåŸæœ‰çš„è¿‡æœŸæ—¶é—´</span>
                    currentTask.<span class="hljs-property">callback</span> = continuationCallback;
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span>.<span class="hljs-title function_">push</span>(currentTask);
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span>.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a.<span class="hljs-property">expirationTime</span> - b.<span class="hljs-property">expirationTime</span>);
                }
            } <span class="hljs-keyword">catch</span> (e) {
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Task error:'</span>, e);
            }

            currentTask = <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span>[<span class="hljs-number">0</span>];
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-comment">// è¿˜æœ‰ä»»åŠ¡ï¼Œç»§ç»­è¯·æ±‚ä¸‹ä¸€ä¸ª tick</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">port</span>.<span class="hljs-title function_">postMessage</span>(<span class="hljs-literal">null</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">isMessageLoopRunning</span> = <span class="hljs-literal">false</span>;
        }
    }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> scheduler = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityScheduler</span>();

<span class="hljs-comment">// ä½ä¼˜å…ˆçº§ä»»åŠ¡ï¼šå‘é€ç»Ÿè®¡æ•°æ®</span>
scheduler.<span class="hljs-title function_">scheduleCallback</span>(<span class="hljs-title class_">Priority</span>.<span class="hljs-property">Idle</span>, <span class="hljs-function">(<span class="hljs-params">didTimeout</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Idle task executing, didTimeout:'</span>, didTimeout);
    <span class="hljs-comment">// æ¨¡æ‹Ÿé‡è´Ÿè½½</span>
    <span class="hljs-keyword">const</span> start = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    <span class="hljs-keyword">while</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - start &lt; <span class="hljs-number">10</span>) {} 
});

<span class="hljs-comment">// é«˜ä¼˜å…ˆçº§ä»»åŠ¡ï¼šå“åº”ç”¨æˆ·ç‚¹å‡»</span>
scheduler.<span class="hljs-title function_">scheduleCallback</span>(<span class="hljs-title class_">Priority</span>.<span class="hljs-property">Immediate</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Immediate task executing!'</span>);
});
</code></pre>
<hr/>
<h3 data-id="heading-3">ç¬¬å››éƒ¨åˆ†ï¼šè™šæ‹Ÿåˆ—è¡¨ (Virtual List) - è§£å†³æ¸²æŸ“é•¿ä»»åŠ¡</h3>
<p>å½“æ•°æ®é‡è¾¾åˆ°å‡ ä¸‡æ¡æ—¶ï¼Œæœ€å¤§çš„â€œé•¿ä»»åŠ¡â€é€šå¸¸ä¸æ˜¯ JS è®¡ç®—ï¼Œè€Œæ˜¯ DOM çš„ Layout å’Œ Paintã€‚è™šæ‹Ÿåˆ—è¡¨æŠ€æœ¯åªæ¸²æŸ“å¯è§†åŒºåŸŸå†…çš„å…ƒç´ ï¼Œæå¤§å‡å°‘ DOM èŠ‚ç‚¹æ•°é‡ã€‚</p>
<p>ä¸ºäº†ä¿è¯ä»£ç é‡å’Œç»†èŠ‚ï¼Œæˆ‘ä»¬ä¸ä½¿ç”¨ React/Vueï¼Œè€Œæ˜¯ç”¨åŸç”Ÿ JS å®ç°ä¸€ä¸ªé«˜æ•ˆçš„è™šæ‹Ÿæ»šåŠ¨ç±»ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * æ¨¡å—å››ï¼šVirtualScroller.js
 * æè¿°ï¼šåŸç”Ÿé«˜æ€§èƒ½è™šæ‹Ÿæ»šåŠ¨å®ç°ã€‚
 * æ”¯æŒåŠ¨æ€é«˜åº¦ä¼°ç®—ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼ŒDOM å¤ç”¨ï¼Œå’Œæ»šåŠ¨èŠ‚æµã€‚
 */</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">VirtualScroller</span> {
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> {<span class="hljs-type">HTMLElement</span>} <span class="hljs-variable">container</span> - æ»šåŠ¨å®¹å™¨
     * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Array</span>} <span class="hljs-variable">items</span> - æ•°æ®æº
     * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Function</span>} <span class="hljs-variable">rowRenderer</span> - è¡Œæ¸²æŸ“å‡½æ•° (index, data) =&gt; HTMLElement
     * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">itemHeight</span> - å›ºå®šè¡Œé«˜
     */</span>
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">container, items, rowRenderer, itemHeight = <span class="hljs-number">50</span></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">container</span> = container;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span> = items;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">rowRenderer</span> = rowRenderer;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeight</span> = itemHeight;
        
        <span class="hljs-comment">// å†…éƒ¨çŠ¶æ€</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibleCount</span> = <span class="hljs-number">0</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">startIndex</span> = <span class="hljs-number">0</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">endIndex</span> = <span class="hljs-number">0</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">scrollTop</span> = <span class="hljs-number">0</span>;
        
        <span class="hljs-comment">// ç¼“å†²åŒºåŸŸï¼ˆä¸Šä¸‹å¤šæ¸²æŸ“å‡ ä¸ªï¼Œé˜²æ­¢ç™½å±ï¼‰</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span> = <span class="hljs-number">5</span>; 

        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_initDOM</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_bindEvents</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_update</span>();
    }

    <span class="hljs-title function_">_initDOM</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">container</span>.<span class="hljs-property">style</span>.<span class="hljs-property">overflowY</span> = <span class="hljs-string">'auto'</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">container</span>.<span class="hljs-property">style</span>.<span class="hljs-property">position</span> = <span class="hljs-string">'relative'</span>;

        <span class="hljs-comment">// åˆ›å»ºå ä½é«˜åº¦å±‚ (Phantom)</span>
        <span class="hljs-comment">// å®ƒçš„é«˜åº¦ç­‰äº æ€»æ•°æ®é‡ * è¡Œé«˜ï¼Œç”¨äºæ’‘å¼€æ»šåŠ¨æ¡</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">phantomContent</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">phantomContent</span>.<span class="hljs-property">style</span>.<span class="hljs-property">position</span> = <span class="hljs-string">'absolute'</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">phantomContent</span>.<span class="hljs-property">style</span>.<span class="hljs-property">left</span> = <span class="hljs-string">'0'</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">phantomContent</span>.<span class="hljs-property">style</span>.<span class="hljs-property">top</span> = <span class="hljs-string">'0'</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">phantomContent</span>.<span class="hljs-property">style</span>.<span class="hljs-property">right</span> = <span class="hljs-string">'0'</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">phantomContent</span>.<span class="hljs-property">style</span>.<span class="hljs-property">zIndex</span> = <span class="hljs-string">'-1'</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">phantomContent</span>.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.items.length * <span class="hljs-variable language_">this</span>.itemHeight}</span>px`</span>;
        
        <span class="hljs-comment">// åˆ›å»ºå®é™…å†…å®¹å±‚ (Real Content)</span>
        <span class="hljs-comment">// è¿™é‡Œçš„å…ƒç´ ä¼šç»å¯¹å®šä½ï¼Œæˆ–è€…é€šè¿‡ transform åç§»</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>.<span class="hljs-property">style</span>.<span class="hljs-property">position</span> = <span class="hljs-string">'absolute'</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>.<span class="hljs-property">style</span>.<span class="hljs-property">left</span> = <span class="hljs-string">'0'</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>.<span class="hljs-property">style</span>.<span class="hljs-property">right</span> = <span class="hljs-string">'0'</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>.<span class="hljs-property">style</span>.<span class="hljs-property">top</span> = <span class="hljs-string">'0'</span>;
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">container</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">phantomContent</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">container</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>);
    }

    <span class="hljs-title function_">_bindEvents</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// ç®€å•çš„èŠ‚æµå¤„ç†</span>
        <span class="hljs-keyword">let</span> ticking = <span class="hljs-literal">false</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">container</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
            <span class="hljs-keyword">if</span> (!ticking) {
                <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">scrollTop</span> = e.<span class="hljs-property">target</span>.<span class="hljs-property">scrollTop</span>;
                    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_update</span>();
                    ticking = <span class="hljs-literal">false</span>;
                });
                ticking = <span class="hljs-literal">true</span>;
            }
        });
    }

    <span class="hljs-title function_">_update</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// 1. è®¡ç®—å¯è§†åŒºåŸŸèƒ½æ”¾ä¸‹å¤šå°‘ä¸ªå…ƒç´ </span>
        <span class="hljs-keyword">const</span> containerHeight = <span class="hljs-variable language_">this</span>.<span class="hljs-property">container</span>.<span class="hljs-property">clientHeight</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibleCount</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(containerHeight / <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeight</span>);

        <span class="hljs-comment">// 2. è®¡ç®—èµ·å§‹ç´¢å¼•</span>
        <span class="hljs-comment">// å‘ä¸‹å–æ•´ï¼Œç¡®ä¿æ»šåŠ¨å¹³æ»‘</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">startIndex</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scrollTop</span> / <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeight</span>);
        
        <span class="hljs-comment">// 3. è€ƒè™‘ç¼“å†²åŒº</span>
        <span class="hljs-keyword">const</span> renderStart = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">startIndex</span> - <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>);
        
        <span class="hljs-comment">// 4. è®¡ç®—ç»“æŸç´¢å¼•</span>
        <span class="hljs-keyword">const</span> renderEnd = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-property">length</span>, 
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">startIndex</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibleCount</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>
        );

        <span class="hljs-comment">// 5. æ¸²æŸ“è¿™ä¸€æ®µæ•°æ®</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_renderRows</span>(renderStart, renderEnd);
        
        <span class="hljs-comment">// 6. åç§» content å±‚ï¼Œè®©å®ƒå¤„äºæ­£ç¡®çš„ä½ç½®</span>
        <span class="hljs-comment">// å› ä¸ºæˆ‘ä»¬åªæ¸²æŸ“äº†ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥éœ€è¦æŠŠè¿™éƒ¨åˆ†å†…å®¹ç§»åŠ¨åˆ°è§†è§‰ä¸Šçš„ä½ç½®</span>
        <span class="hljs-comment">// è¿™é‡Œçš„åç§»é‡åº”è¯¥æ˜¯ renderStart * itemHeight</span>
        <span class="hljs-keyword">const</span> offset = renderStart * <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeight</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>.<span class="hljs-property">style</span>.<span class="hljs-property">transform</span> = <span class="hljs-string">`translateY(<span class="hljs-subst">${offset}</span>px)`</span>;
    }

    <span class="hljs-title function_">_renderRows</span>(<span class="hljs-params">start, end</span>) {
        <span class="hljs-comment">// ç®€å•çš„ Diff ç®—æ³•ï¼šå…¨æ¸…ç©ºå†æ·»åŠ  (ç”Ÿäº§ç¯å¢ƒåº”å¤ç”¨ DOM)</span>
        <span class="hljs-comment">// ä¸ºäº†æ¼”ç¤ºä»£ç é‡å’Œé€»è¾‘ï¼Œè¿™é‡Œåšä¸€ä¸ªç®€å•çš„ DOM å¤ç”¨æ± é€»è¾‘</span>
        
        <span class="hljs-keyword">const</span> fragment = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createDocumentFragment</span>();
        
        <span class="hljs-comment">// æ¸…ç©ºå½“å‰æ¸²æŸ“å±‚</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">''</span>;

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = start; i &lt; end; i++) {
            <span class="hljs-keyword">const</span> itemData = <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>[i];
            <span class="hljs-keyword">const</span> node = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">rowRenderer</span>(i, itemData);
            
            <span class="hljs-comment">// è®¾ç½®å¿…è¦çš„æ ·å¼ç¡®ä¿é«˜åº¦æ­£ç¡®</span>
            node.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.itemHeight}</span>px`</span>;
            node.<span class="hljs-property">style</span>.<span class="hljs-property">boxSizing</span> = <span class="hljs-string">'border-box'</span>; <span class="hljs-comment">// é¿å… padding å½±å“é«˜åº¦</span>
            
            fragment.<span class="hljs-title function_">appendChild</span>(node);
        }

        <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>.<span class="hljs-title function_">appendChild</span>(fragment);
    }

    <span class="hljs-comment">/**
     * åŠ¨æ€æ›´æ–°æ•°æ®
     */</span>
    <span class="hljs-title function_">updateData</span>(<span class="hljs-params">newItems</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span> = newItems;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">phantomContent</span>.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.items.length * <span class="hljs-variable language_">this</span>.itemHeight}</span>px`</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_update</span>();
    }
}

<span class="hljs-comment">// ====================================</span>
<span class="hljs-comment">// VirtualScroller ä½¿ç”¨æµ‹è¯•</span>
<span class="hljs-comment">// ====================================</span>
<span class="hljs-comment">/*
// HTML ç»“æ„: &lt;div id="scroll-container" style="height: 500px; width: 300px;"&gt;&lt;/div&gt;

const data = Array.from({ length: 100000 }, (_, i) =&gt; ({ id: i, text: `Row Item ${i}` }));
const container = document.getElementById('scroll-container');

const scroller = new VirtualScroller(container, data, (index, item) =&gt; {
    const div = document.createElement('div');
    div.textContent = `${item.id} - ${item.text}`;
    div.style.borderBottom = '1px solid #ccc';
    div.style.display = 'flex';
    div.style.alignItems = 'center';
    div.style.paddingLeft = '10px';
    
    // æ·»åŠ ä¸€äº›å¤æ‚çš„ DOM ç»“æ„æ¥æ¨¡æ‹Ÿæ¸²æŸ“å‹åŠ›
    // å¦‚æœæ²¡æœ‰è™šæ‹Ÿåˆ—è¡¨ï¼Œ10ä¸‡ä¸ªè¿™æ ·çš„ DOM ä¼šç¬é—´å¡æ­»
    const span = document.createElement('span');
    span.innerText = ' [Detail]';
    span.style.color = 'blue';
    div.appendChild(span);
    
    return div;
}, 40);
*/</span>
</code></pre>
<hr/>
<h3 data-id="heading-4">æ€»ç»“ä¸è¿›é˜¶æ€è€ƒ</h3>
<p>ä»¥ä¸Šä»£ç å±•ç¤ºäº†è§£å†³å‰ç«¯â€œé•¿ä»»åŠ¡â€çš„å››ä¸ªç»´åº¦çš„å·¥ç¨‹åŒ–å®ç°ã€‚è¦çœŸæ­£æŒæ¡ä¼˜åŒ–ï¼Œéœ€è¦ç†è§£ä»¥ä¸‹æ ¸å¿ƒæ€æƒ³ï¼š</p>
<ol>
<li><strong>è®©å‡ºä¸»çº¿ç¨‹ (Yielding)</strong>: JS æ˜¯å•çº¿ç¨‹çš„ï¼Œå¿…é¡»é€šè¿‡ <code>TimeSlicer</code> (æ—¶é—´åˆ†ç‰‡) å°†å¤§ä»»åŠ¡åˆ‡ç¢ï¼Œç»™ UI æ¸²æŸ“ç•™å‡ºå‘¼å¸çš„æ—¶é—´ã€‚</li>
<li><strong>å¹¶è¡Œè®¡ç®— (Parallelism)</strong>: ä½¿ç”¨ <code>WorkerPool</code> å°†ä¸æ¶‰åŠ DOM çš„çº¯ç®—æ³•é€»è¾‘ç§»åˆ°å¦ä¸€ä¸ªçº¿ç¨‹ã€‚</li>
<li><strong>ä¼˜å…ˆçº§è°ƒåº¦ (Scheduling)</strong>: å¹¶ä¸æ˜¯æ‰€æœ‰ä»»åŠ¡éƒ½ä¸€æ ·é‡è¦ã€‚<code>PriorityScheduler</code> ç¡®ä¿ç”¨æˆ·äº¤äº’ï¼ˆç‚¹å‡»ã€è¾“å…¥ï¼‰æ°¸è¿œä¼˜å…ˆäºæ•°æ®å¤„ç†ã€‚</li>
<li><strong>æŒ‰éœ€æ¸²æŸ“ (Lazy Rendering)</strong>: <code>VirtualScroller</code> è¯æ˜äº†æ— è®ºæ•°æ®å¤šå¤§ï¼Œåªè¦è§†å£æœ‰é™ï¼ŒDOM çš„æ•°é‡å°±åº”è¯¥ä¿æŒæ’å®šã€‚</li>
</ol>
<p>è¿™äº›ä»£ç æ¨¡å—å¯ä»¥ç›´æ¥ç»„åˆä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªå¤§å‹æ•°æ®åˆ†æçœ‹æ¿ä¸­ï¼š</p>
<ul>
<li>ä½¿ç”¨ <strong>WorkerPool</strong> åœ¨åå°æ‹‰å–å¹¶è§£æ 10MB çš„ JSON æ•°æ®ã€‚</li>
<li>è§£æå®Œæˆåï¼Œä½¿ç”¨ <strong>TimeSlicer</strong> å¯¹æ•°æ®è¿›è¡Œé¢„å¤„ç†ï¼ˆæ ¼å¼åŒ–ã€è®¡ç®—ç¯æ¯”ï¼‰ã€‚</li>
<li>æœ€ç»ˆå±•ç¤ºæ—¶ï¼Œä½¿ç”¨ <strong>VirtualScroller</strong> å°†åä¸‡æ¡è¡¨æ ¼æ•°æ®æµç•…åœ°æ¸²æŸ“å‡ºæ¥ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç½‘ç»œè°ƒè¯•ä¸APIæµ‹è¯•å¿…ä¿®è¯¾ FiddleræŠ“åŒ…å·¥å…·ä½¿ç”¨æ•™ç¨‹ã€ä»£ç†é…ç½®ä¸HTTPSæŠ“åŒ…æŠ€å·§å…¨è§£æ]]></title>    <link>https://juejin.cn/post/7573971406415003691</link>    <guid>https://juejin.cn/post/7573971406415003691</guid>    <pubDate>2025-11-19T02:41:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573971406415003691" data-draft-id="7573971406414987307" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç½‘ç»œè°ƒè¯•ä¸APIæµ‹è¯•å¿…ä¿®è¯¾ FiddleræŠ“åŒ…å·¥å…·ä½¿ç”¨æ•™ç¨‹ã€ä»£ç†é…ç½®ä¸HTTPSæŠ“åŒ…æŠ€å·§å…¨è§£æ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-19T02:41:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="bcbnb"/> <meta itemprop="url" content="https://juejin.cn/user/895474073078377"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç½‘ç»œè°ƒè¯•ä¸APIæµ‹è¯•å¿…ä¿®è¯¾ FiddleræŠ“åŒ…å·¥å…·ä½¿ç”¨æ•™ç¨‹ã€ä»£ç†é…ç½®ä¸HTTPSæŠ“åŒ…æŠ€å·§å…¨è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/895474073078377/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    bcbnb
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T02:41:11.000Z" title="Wed Nov 19 2025 02:41:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å½“ä¸‹çš„å‰åç«¯åˆ†ç¦»å¼€å‘æ¨¡å¼ä¸­ï¼Œ<strong>æ¥å£é—®é¢˜å‡ ä¹æ˜¯å¼€å‘è°ƒè¯•ä¸­æœ€å¸¸è§çš„ç—›ç‚¹ä¹‹ä¸€</strong>ã€‚
å‰ç«¯è¯´â€œæ¥å£æ²¡è¿”å›â€ï¼Œåç«¯è¯´â€œè¯·æ±‚æ²¡åˆ°è¾¾â€ï¼Œæµ‹è¯•è¯´â€œæœ¬åœ°æ˜¯å¥½çš„â€ï¼Œæ¯æ¬¡æ’æŸ¥éƒ½åƒä¾¦æ¢ç ´æ¡ˆã€‚</p>
<p>è€ŒçœŸæ­£èƒ½è®©ä½ â€œçœ‹æ¸…ç½‘ç»œè¯·æ±‚çœŸç›¸â€çš„ï¼Œæ­£æ˜¯æŠ“åŒ…å·¥å…·ã€‚
åœ¨æ‰€æœ‰åŒç±»è½¯ä»¶ä¸­ï¼Œ<strong>FiddleræŠ“åŒ…å·¥å…·</strong> å‡­å€Ÿå…¶ç¨³å®šã€é«˜æ•ˆã€åŠŸèƒ½å…¨é¢çš„ç‰¹æ€§ï¼Œè¢«å…¨çƒæ•°ä»¥ç™¾ä¸‡è®¡çš„å¼€å‘è€…ç”¨äºæ¥å£è°ƒè¯•ã€æ€§èƒ½ä¼˜åŒ–å’Œç½‘ç»œåˆ†æã€‚</p>
<p>æœ¬æ–‡å°†ç»“åˆå®é™…å¼€å‘åœºæ™¯ï¼Œä»åŸºç¡€åˆ°è¿›é˜¶ï¼Œè®²æ¸…æ¥šï¼š</p>
<ul>
<li>Fiddler çš„ä½¿ç”¨æ•™ç¨‹ä¸é…ç½®æ–¹æ³•</li>
<li>HTTPS æŠ“åŒ…ä¸ä»£ç†è®¾ç½®æŠ€å·§</li>
<li>é«˜æ•ˆè°ƒè¯•ä¸æ€§èƒ½ä¼˜åŒ–çš„å®æˆ˜ç»éªŒ</li>
</ul>
<hr/>
<h2 data-id="heading-0"><strong>ä¸€ã€ä¸ºä»€ä¹ˆFiddleræŠ“åŒ…å·¥å…·å€¼å¾—å¼€å‘è€…æŒæ¡ï¼Ÿ</strong></h2>
<p><strong>Fiddler</strong> æ˜¯ Telerik å…¬å¸æ¨å‡ºçš„ä¸€æ¬¾åŠŸèƒ½å…¨é¢çš„ç½‘ç»œè°ƒè¯•å·¥å…·ï¼Œå®ƒé€šè¿‡æœ¬åœ°ä»£ç†æœåŠ¡å™¨æ•è· HTTP å’Œ HTTPS æµé‡ï¼Œè®©å¼€å‘è€…å¯ä»¥ç›´è§‚æŸ¥çœ‹ã€ä¿®æ”¹ã€é‡æ”¾è¯·æ±‚ä¸å“åº”ã€‚</p>
<p>ä¸ Charlesã€Postmanã€Wireshark ç›¸æ¯”ï¼ŒFiddler çš„ä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li><strong>å…¨é¢æ€§</strong>ï¼šæ”¯æŒè¯·æ±‚åˆ†æã€æ–­ç‚¹è°ƒè¯•ã€Mock æ•°æ®ä¸æ€§èƒ½åˆ†æï¼›</li>
<li><strong>å¤šç«¯æ”¯æŒ</strong>ï¼šå¯åŒæ—¶æŠ“å– Webã€Appã€å°ç¨‹åºæµé‡ï¼›</li>
<li><strong>å…è´¹å¯æ‰©å±•</strong>ï¼šæ— åŠŸèƒ½é™åˆ¶ï¼Œæ”¯æŒè„šæœ¬ä¸æ’ä»¶æ‰©å±•ï¼›</li>
<li><strong>è½»é‡é«˜æ•ˆ</strong>ï¼šèµ„æºå ç”¨ä½ï¼ŒæŠ“åŒ…ç¨³å®šå¯é ã€‚</li>
</ul>
<p>ä¸€å¥è¯æ¦‚æ‹¬ï¼š<strong>å¦‚æœä½ æƒ³çœŸæ­£ç†è§£ç½‘ç»œé€šä¿¡å±‚é¢å‘ç”Ÿäº†ä»€ä¹ˆï¼ŒFiddler æ˜¯æœ€ç›´æ¥çš„çª—å£ã€‚</strong></p>
<hr/>
<h2 data-id="heading-1"><strong>äºŒã€Fiddlerå®‰è£…ä¸é…ç½®æŒ‡å—</strong></h2>
<h3 data-id="heading-2"><strong>1. å®‰è£…ä¸å¯åŠ¨</strong></h3>
<p>Fiddler æ”¯æŒ Windows å¹³å°ï¼Œä¹Ÿæœ‰è·¨å¹³å°ç‰ˆæœ¬ Fiddler Everywhereã€‚
å®‰è£…åå¯åŠ¨ï¼Œé»˜è®¤ä¼šè‡ªåŠ¨æ¥ç®¡ç³»ç»Ÿç½‘ç»œä»£ç†ã€‚</p>
<p><strong>å°æç¤ºï¼š</strong></p>
<ul>
<li>çŠ¶æ€æ  â€œCapturingâ€ è¡¨ç¤ºæ­£åœ¨æŠ“åŒ…ï¼›</li>
<li>è‹¥æ˜¾ç¤º â€œPausedâ€ï¼Œç‚¹å‡»å³å¯é‡æ–°å¯ç”¨æŠ“åŒ…åŠŸèƒ½ã€‚</li>
</ul>
<p>æ‰“å¼€æµè§ˆå™¨è®¿é—®ä»»æ„ç½‘ç«™ï¼Œä½ ä¼šåœ¨å·¦ä¾§çœ‹åˆ°å®æ—¶è¯·æ±‚æµã€‚</p>
<hr/>
<h3 data-id="heading-3"><strong>2. Fiddlerä»£ç†è®¾ç½®ï¼ˆç”µè„‘ + ç§»åŠ¨ç«¯ï¼‰</strong></h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒFiddler ä»…æ•è·æœ¬æœºçš„ç½‘ç»œè¯·æ±‚ã€‚
è‹¥è¦è°ƒè¯•æ‰‹æœº App æˆ–å¾®ä¿¡å°ç¨‹åºè¯·æ±‚ï¼Œéœ€è¦å¼€å¯è¿œç¨‹ä»£ç†ã€‚</p>
<p><strong>é…ç½®æ­¥éª¤å¦‚ä¸‹ï¼š</strong></p>
<ol>
<li>æ‰“å¼€èœå•æ  <code>Tools â†’ Options â†’ Connections</code>ï¼›</li>
<li>å‹¾é€‰ <strong>Allow remote computers to connect</strong>ï¼›</li>
<li>è®°ä¸‹ç”µè„‘ IP åœ°å€å’Œç«¯å£ï¼ˆé»˜è®¤ 8888ï¼‰ï¼›</li>
<li>ç¡®ä¿ç”µè„‘ä¸æ‰‹æœºåœ¨åŒä¸€ Wi-Fi ç½‘ç»œä¸‹ï¼›</li>
<li>åœ¨æ‰‹æœº Wi-Fi è®¾ç½®ä¸­é…ç½®ä»£ç†ï¼š
<ul>
<li>ä¸»æœºåï¼šç”µè„‘ IP</li>
<li>ç«¯å£å·ï¼š8888</li>
</ul>
</li>
</ol>
<p>å®Œæˆåï¼Œå³å¯æ•è·ç§»åŠ¨ç«¯å‘èµ·çš„æ‰€æœ‰ HTTP è¯·æ±‚ã€‚</p>
<hr/>
<h3 data-id="heading-4"><strong>3. HTTPS æŠ“åŒ…è®¾ç½®</strong></h3>
<p>ç”±äºç°ä»£åº”ç”¨å‡ ä¹å…¨éƒ¨ä½¿ç”¨ HTTPSï¼ŒåŠ å¯†æ•°æ®æ— æ³•ç›´æ¥æŸ¥çœ‹ã€‚
Fiddler é€šè¿‡è¯ä¹¦è§£å¯†æ–¹å¼å®ç°å®‰å…¨æŠ“åŒ…ã€‚</p>
<p><strong>é…ç½®æ–¹æ³•ï¼š</strong></p>
<ul>
<li>æ‰“å¼€ <code>Tools â†’ Options â†’ HTTPS</code>ï¼›</li>
<li>å‹¾é€‰ <strong>Decrypt HTTPS traffic</strong>ï¼›</li>
<li>ç‚¹å‡» â€œActions â†’ Trust Root Certificateâ€ï¼›</li>
<li>å®‰è£…å¹¶ä¿¡ä»» Fiddler æ ¹è¯ä¹¦ï¼›</li>
<li>è‹¥æŠ“å–ç§»åŠ¨ç«¯è¯·æ±‚ï¼Œè¿˜éœ€å¯¼å‡ºè¯ä¹¦å¹¶å¯¼å…¥æ‰‹æœºä¿¡ä»»ã€‚</li>
</ul>
<p>é…ç½®å®Œæˆåï¼Œä½ å³å¯æŸ¥çœ‹ HTTPS è¯·æ±‚çš„å®Œæ•´å†…å®¹ï¼ŒåŒ…æ‹¬ Headerã€Body ä¸å“åº”æ•°æ®ã€‚</p>
<hr/>
<h2 data-id="heading-5"><strong>ä¸‰ã€Fiddleræ ¸å¿ƒåŠŸèƒ½è¯¦è§£</strong></h2>
<h3 data-id="heading-6"><strong>1. è¯·æ±‚ä¸å“åº”åˆ†æ</strong></h3>
<p>Fiddler æä¾›è¯¦ç»†çš„è¯·æ±‚è§†å›¾ï¼Œèƒ½æŸ¥çœ‹ï¼š</p>
<ul>
<li>è¯·æ±‚æ–¹å¼ï¼ˆGET / POST / PUT / DELETEï¼‰ï¼›</li>
<li>è¯·æ±‚å¤´ä¸å‚æ•°ï¼›</li>
<li>å“åº”çŠ¶æ€ç ä¸å†…å®¹ï¼›</li>
<li>è¯·æ±‚è€—æ—¶ã€æœåŠ¡å™¨å“åº”æ—¶é—´ã€‚</li>
</ul>
<p><strong>å®æˆ˜ç¤ºä¾‹ï¼š</strong>
å‰ç«¯ç™»å½•æ¥å£æŠ¥é”™ï¼Œé€šè¿‡ Fiddler æŸ¥çœ‹å‘ç°è¯·æ±‚å¤´ä¸­çš„ <code>Content-Type</code> ä¸åŒ¹é…ï¼Œåç«¯å› æ­¤è§£æå¤±è´¥ã€‚å‡ åˆ†é’Ÿå†…é—®é¢˜å®šä½ã€‚</p>
<hr/>
<h3 data-id="heading-7"><strong>2. è¯·æ±‚ä¿®æ”¹ä¸æ–­ç‚¹è°ƒè¯•ï¼ˆBreakpointsï¼‰</strong></h3>
<p>Fiddler çš„æ–­ç‚¹åŠŸèƒ½å¯ä»¥æ‹¦æˆªè¯·æ±‚ä¸å“åº”ï¼Œè®©ä½ åœ¨å‘é€æˆ–æ¥æ”¶å‰æ‰‹åŠ¨ä¿®æ”¹æ•°æ®ã€‚</p>
<p><strong>å…¸å‹åº”ç”¨ï¼š</strong></p>
<ul>
<li>æ¨¡æ‹Ÿæ¥å£è¿”å› 404 / 500 é”™è¯¯ï¼›</li>
<li>ä¿®æ”¹å‚æ•°æµ‹è¯•å®¹é”™é€»è¾‘ï¼›</li>
<li>å»¶è¿Ÿå“åº”æµ‹è¯•å¼±ç½‘ä½“éªŒã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼Œåœ¨æ”¯ä»˜æ¥å£ä¸Šè®¾ç½®æ–­ç‚¹ï¼Œå°†å“åº”çŠ¶æ€æ”¹ä¸º 500ï¼Œå°±èƒ½éªŒè¯å®¢æˆ·ç«¯å¼‚å¸¸å¤„ç†é€»è¾‘æ˜¯å¦å¥å£®ã€‚</p>
<hr/>
<h3 data-id="heading-8"><strong>3. æ¨¡æ‹Ÿæ¥å£æ•°æ®ï¼ˆAutoResponderï¼‰</strong></h3>
<p>AutoResponder æ¨¡å—æ˜¯ Fiddler çš„â€œMock ç³»ç»Ÿâ€ã€‚
å½“å‰åç«¯æœªå®Œæˆè”è°ƒæ—¶ï¼Œå‰ç«¯å¯ä»¥ç”¨å®ƒæ¨¡æ‹Ÿæ¥å£è¿”å›ã€‚</p>
<p><strong>ä½¿ç”¨æ–¹æ³•ï¼š</strong></p>
<ol>
<li>æ‰“å¼€ AutoResponder é¢æ¿ï¼›</li>
<li>æ·»åŠ åŒ¹é…è§„åˆ™ï¼ˆæ”¯æŒå…³é”®å­—æˆ–æ­£åˆ™è¡¨è¾¾å¼ï¼‰ï¼›</li>
<li>ç»‘å®šæœ¬åœ° JSON æ–‡ä»¶æˆ–è‡ªå®šä¹‰è¿”å›å€¼ï¼›</li>
<li>å¯ç”¨è§„åˆ™åï¼Œè¯·æ±‚ä¼šè¢«è‡ªåŠ¨æ›¿æ¢ä¸ºæ¨¡æ‹Ÿå“åº”ã€‚</li>
</ol>
<p><strong>åº”ç”¨åœºæ™¯ï¼š</strong>
åœ¨é¡¹ç›®æ—©æœŸé˜¶æ®µï¼Œå‰ç«¯å¯ç”¨ Fiddler æ¨¡æ‹Ÿåç«¯ APIï¼Œæå‰å®Œæˆé€»è¾‘éªŒè¯ä¸é¡µé¢è”è°ƒï¼Œä¸å¿…ç­‰å¾…æ¥å£ä¸Šçº¿ã€‚</p>
<hr/>
<h3 data-id="heading-9"><strong>4. æ„é€ ä¸é‡æ”¾è¯·æ±‚ï¼ˆComposerï¼‰</strong></h3>
<p>Composer æ¨¡å—ç±»ä¼¼ Postmanï¼Œå¯æ„é€ è‡ªå®šä¹‰è¯·æ±‚ã€ä¿®æ”¹å‚æ•°å¹¶é‡å‘ã€‚</p>
<p><strong>å®æˆ˜åº”ç”¨ï¼š</strong></p>
<ul>
<li>éªŒè¯æ¥å£ç­¾åï¼›</li>
<li>è°ƒè¯•è¯·æ±‚å‚æ•°å·®å¼‚ï¼›</li>
<li>é‡æ”¾çº¿ä¸Šè¯·æ±‚å¤ç°åœºæ™¯ã€‚</li>
</ul>
<p>å³é”®ç‚¹å‡»ä»»æ„è¯·æ±‚ï¼Œé€‰æ‹© â€œReplay â†’ Reissue Requestâ€ï¼Œå³å¯å¿«é€Ÿé‡å‘ä¸€æ¬¡è¯·æ±‚ï¼Œéå¸¸é«˜æ•ˆã€‚</p>
<hr/>
<h3 data-id="heading-10"><strong>5. æ€§èƒ½åˆ†æï¼ˆTimelineï¼‰</strong></h3>
<p>Timeline æ¨¡å—èƒ½å¯è§†åŒ–å±•ç¤ºæ¯ä¸ªè¯·æ±‚çš„ç”Ÿå‘½å‘¨æœŸï¼š
DNS â†’ TCP â†’ TLS â†’ Server Response â†’ Content Downloadã€‚</p>
<p>é€šè¿‡å®ƒï¼Œå¼€å‘è€…å¯åˆ¤æ–­æ€§èƒ½ç“¶é¢ˆæ˜¯ç½‘ç»œå»¶è¿Ÿã€åç«¯å“åº”æ…¢è¿˜æ˜¯æ•°æ®ä¼ è¾“è¿‡å¤§ã€‚</p>
<hr/>
<h2 data-id="heading-11"><strong>å››ã€å®æˆ˜æ¡ˆä¾‹ï¼šä¸€æ¬¡â€œæ¥å£å¶å‘é”™è¯¯â€çš„æ’æŸ¥</strong></h2>
<p>æŸæ¬¡ç§»åŠ¨ç«¯é¡¹ç›®ä¸Šçº¿åï¼Œç”¨æˆ·åé¦ˆç™»å½•å¶å°”å¤±è´¥ã€‚
é€šè¿‡ Fiddler æŠ“åŒ…å¯¹æ¯”æ­£å¸¸ä¸å¼‚å¸¸è¯·æ±‚ï¼Œå‘ç°å¼‚å¸¸è¯·æ±‚çš„å‚æ•°é¡ºåºè¢«é”™è¯¯ç¼–ç ï¼Œå¯¼è‡´ç­¾åéªŒè¯å¤±è´¥ã€‚</p>
<p>è¿™ç±»ç»†èŠ‚é”™è¯¯è‹¥æ— æŠ“åŒ…åˆ†æï¼Œå‡ ä¹æ— æ³•å®šä½ã€‚
Fiddler è®©é—®é¢˜â€œæ˜¾å½±â€ï¼Œå¸®åŠ©å›¢é˜Ÿè¿…é€Ÿä¿®å¤ã€‚</p>
<hr/>
<h2 data-id="heading-12"><strong>äº”ã€FiddleråŠŸèƒ½ä¸åº”ç”¨æ€»ç»“</strong></h2>



































<table><thead><tr><th>æ¨¡å—</th><th>åŠŸèƒ½è¯´æ˜</th><th>åº”ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>Filters</strong></td><td>æŒ‰åŸŸåè¿‡æ»¤è¯·æ±‚</td><td>èšç„¦ç›®æ ‡æ¥å£</td></tr><tr><td><strong>AutoResponder</strong></td><td>æ¨¡æ‹Ÿæ¥å£è¿”å›</td><td>å‰ç«¯ç‹¬ç«‹å¼€å‘</td></tr><tr><td><strong>Breakpoints</strong></td><td>ä¿®æ”¹è¯·æ±‚/å“åº”</td><td>å¼‚å¸¸æµ‹è¯•</td></tr><tr><td><strong>Composer</strong></td><td>æ„é€ ä¸é‡æ”¾è¯·æ±‚</td><td>API è°ƒè¯•ä¸éªŒè¯</td></tr><tr><td><strong>Timeline</strong></td><td>æ€§èƒ½åˆ†æ</td><td>è¯·æ±‚ä¼˜åŒ–ä¸ç“¶é¢ˆåˆ†æ</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-13"><strong>å…­ã€Fiddlerä¸å…¶ä»–è°ƒè¯•å·¥å…·å¯¹æ¯”</strong></h2>






























<table><thead><tr><th>å·¥å…·</th><th>ä¼˜åŠ¿</th><th>é€‚ç”¨äººç¾¤</th></tr></thead><tbody><tr><td><strong>Fiddler</strong></td><td>å…è´¹ã€åŠŸèƒ½å¼ºã€æ”¯æŒè¯·æ±‚ä¿®æ”¹</td><td>å¼€å‘ / æµ‹è¯•äººå‘˜</td></tr><tr><td><strong>Charles</strong></td><td>ç•Œé¢ç®€æ´ã€æ˜“ä¸Šæ‰‹</td><td>åˆå­¦è€…</td></tr><tr><td><strong>Postman</strong></td><td>è¯·æ±‚æ„é€ çµæ´»</td><td>API æµ‹è¯•å·¥ç¨‹å¸ˆ</td></tr><tr><td><strong>Wireshark</strong></td><td>åº•å±‚åè®®åˆ†æ</td><td>ç½‘ç»œå®‰å…¨ç ”ç©¶å‘˜</td></tr></tbody></table>
<p><strong>ç»“è®ºï¼š</strong>
Fiddler çš„å®šä½æ˜¯â€œåº”ç”¨å±‚æŠ“åŒ…è°ƒè¯•â€ï¼Œåœ¨æ¥å£å±‚é¢åˆ†æä¸ä¿®æ”¹æ–¹é¢ï¼Œå‡ ä¹æ— å¯æ›¿ä»£ã€‚</p>
<hr/>
<h2 data-id="heading-14"><strong>ä¸ƒã€å­¦ä¹ ä¸èµ„æºæ¨è</strong></h2>
<p>æƒ³æ·±å…¥å­¦ä¹  Fiddler çš„é«˜çº§åŠŸèƒ½ï¼Ÿå¯ä»¥è®¿é—®**<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.fiddler.hk%2F" target="_blank" title="https://www.fiddler.hk/" ref="nofollow noopener noreferrer">Fiddler ä¸­æ–‡ç½‘</a>**</p>
<p>ç½‘ç«™æä¾›ï¼š</p>
<ul>
<li>Fiddler å®‰è£…ä¸é…ç½®æ•™ç¨‹ï¼›</li>
<li>HTTPS æŠ“åŒ…ä¸è¯ä¹¦è®¾ç½®ï¼›</li>
<li>ç§»åŠ¨ç«¯ä»£ç†æ•™ç¨‹ï¼›</li>
<li>Mock æ¥å£ä¸æ–­ç‚¹è°ƒè¯•å®ä¾‹ï¼›</li>
<li>æ€§èƒ½åˆ†æä¸å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆã€‚</li>
</ul>
<hr/>
<p>åœ¨å¤æ‚çš„ç³»ç»Ÿè°ƒè¯•ä¸­ï¼Œ<strong>å¯è§†åŒ–æŠ“åŒ…æ˜¯å¼€å‘è€…çš„â€œæ”¾å¤§é•œâ€</strong>ã€‚<strong>FiddleræŠ“åŒ…å·¥å…·</strong> è®©æ¯ä¸€ä¸ªç½‘ç»œè¯·æ±‚éƒ½å˜å¾—é€æ˜å¯è¿½è¸ªã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AutoMQ ä¸ Tigris å®£å¸ƒè¾¾æˆæˆ˜ç•¥åˆä½œ]]></title>    <link>https://juejin.cn/post/7573904312713461795</link>    <guid>https://juejin.cn/post/7573904312713461795</guid>    <pubDate>2025-11-19T03:38:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573904312713461795" data-draft-id="7573978809365151744" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AutoMQ ä¸ Tigris å®£å¸ƒè¾¾æˆæˆ˜ç•¥åˆä½œ"/> <meta itemprop="keywords" content="æ¶æ„,äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2025-11-19T03:38:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AutoMQ"/> <meta itemprop="url" content="https://juejin.cn/user/2878958479084707"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AutoMQ ä¸ Tigris å®£å¸ƒè¾¾æˆæˆ˜ç•¥åˆä½œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2878958479084707/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AutoMQ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T03:38:56.000Z" title="Wed Nov 19 2025 03:38:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘ä»¬éå¸¸é«˜å…´åœ°å®£å¸ƒï¼ŒAutoMQ ä¸ Tigris æ­£å¼æºæ‰‹åˆä½œï¼Œå…±åŒé‡æ–°å®šä¹‰äº‘åŸç”Ÿå®æ—¶æ•°æ®åŸºç¡€è®¾æ–½çš„æœªæ¥â€”â€”åŠ©åŠ›ä¼ä¸šå°†æµ·é‡æ•°æ®å³æ—¶è½¬åŒ–ä¸ºä¸šåŠ¡ä»·å€¼ã€‚</p>
<p>éšç€æ•°å­—åŒ–ä¸å…¨çƒåŒ–æµªæ½®çš„ä¸æ–­åŠ é€Ÿï¼Œå®æ—¶æ•°æ®å·²æˆä¸ºä¼ä¸šåˆ›æ–°å’Œä¿æŒç«äº‰ä¼˜åŠ¿çš„æ ¸å¿ƒæ”¯æŸ±ã€‚ç„¶è€Œï¼Œä¼ ç»Ÿçš„æ•°æ®æ¶æ„å´å¸¸å¸¸åœ¨æ€§èƒ½ä¸æˆæœ¬æ–¹é¢é­é‡ç“¶é¢ˆï¼Œéš¾ä»¥æœ‰æ•ˆæ”¯æ’‘è·¨åŒºåŸŸã€é«˜å¢é•¿çš„ä¸šåŠ¡è´Ÿè½½ã€‚</p>
<p>ä¸ºäº†åº”å¯¹è¿™äº›æŒ‘æˆ˜ï¼ŒAutoMQ 100% å…¼å®¹ Kafka çš„æµå¤„ç†å¼•æ“ï¼Œç°å·²ä¸ Tigris å…¨çƒåˆ†å¸ƒå¼ã€å…¼å®¹ S3 çš„å¯¹è±¡å­˜å‚¨æ·±åº¦é›†æˆï¼Œå…±åŒæ„å»ºäº†æ–°ä¸€ä»£é«˜æ•ˆã€å¯æ‰©å±•ä¸”æå…·æˆæœ¬æ•ˆç›Šçš„â€œæ— ç›˜ Kafkaâ€ å¹³å°ã€‚</p>
<h2 data-id="heading-0">å…³äº AutoMQ</h2>
<p>AutoMQ æ˜¯ä¸€ä¸ªåŸºäºäº‘åŸç”Ÿæ¶æ„æ„å»ºçš„ã€å…¼å®¹ Kafka çš„æ–°ä¸€ä»£æµå¤„ç†å¹³å°ã€‚å…¶æ ¸å¿ƒåˆ›æ–°åœ¨äºå­˜ç®—åˆ†ç¦»è®¾è®¡ï¼šè®¡ç®—å±‚å¯ä»¥æŒ‰éœ€å¼¹æ€§ä¼¸ç¼©ï¼Œè€Œå­˜å‚¨å±‚åˆ™åˆ©ç”¨å¯¹è±¡å­˜å‚¨ï¼ˆå¦‚ S3 æˆ– Tigrisï¼‰æ¥å®ç°æŒä¹…åŒ–å’Œæˆæœ¬ä¼˜åŒ–ã€‚è¯¥æ¶æ„æ˜¾è‘—é™ä½äº†æ€»æ‹¥æœ‰æˆæœ¬ï¼ŒåŒæ—¶å¢å¼ºäº†æ•°æ®å¯é æ€§ã€‚</p>
<p>è¯¥å¹³å°å®Œå…¨å…¼å®¹ Apache Kafkaï¼Œèƒ½å¤Ÿå®ç°ä»ç°æœ‰ Kafka é›†ç¾¤çš„æ— ç¼è¿ç§»ï¼Œä¸”æ— éœ€ä»»ä½•åº”ç”¨å±‚ä»£ç çš„æ”¹åŠ¨ã€‚AutoMQ æä¾›å…¨æ‰˜ç®¡æœåŠ¡ï¼Œå¯è‡ªåŠ¨å®Œæˆå¼¹æ€§ä¼¸ç¼©ã€ç›‘æ§ã€æƒé™ç®¡ç†åŠä¼ä¸šçº§å®‰å…¨é…ç½®ï¼Œæå¤§åœ°ç®€åŒ–äº†è¿ç»´å¼€é”€ã€‚</p>
<p>AutoMQ æ”¯æŒåœ¨ AWSã€Azureã€Google Cloud ç­‰å¤šäº‘ç¯å¢ƒéƒ¨ç½²ï¼Œæä¾›ä½å»¶è¿Ÿã€é«˜ååã€é«˜å¯ç”¨çš„å®æ—¶æ•°æ®åŸºç¡€è®¾æ–½ã€‚å‡­å€Ÿè¿™äº›èƒ½åŠ›ï¼ŒAutoMQ å¸®åŠ©é‡‘èã€ç”µå•†ã€äº’è”ç½‘å’Œåˆ¶é€ ä¸šç­‰ç»„ç»‡ï¼Œå¿«é€Ÿæ„å»ºé«˜æ•ˆã€ä½æˆæœ¬çš„å®æ—¶æ•°æ®ç®¡é“ï¼Œå¹¶åŠ é€Ÿæ•°æ®é©±åŠ¨çš„åˆ›æ–°ã€‚</p>
<p><img src="https://image.automq.com/20251119bot/ydcgms.png" alt="" loading="lazy"/></p>
<p>ğŸ’¡ æ ¸å¿ƒä¼˜åŠ¿</p>
<ul>
<li><strong>æ˜¾è‘—é™ä½æˆæœ¬ï¼š</strong> é€šè¿‡å­˜ç®—åˆ†ç¦»å’Œå¯¹è±¡å­˜å‚¨ï¼ŒAutoMQ æå¤§é™ä½äº†èµ„æºç©ºé—²æ—¶é—´ä¸è·¨å¯ç”¨åŒºï¼ˆAZï¼‰æµé‡æˆæœ¬ï¼Œå¯å°† Kafka é›†ç¾¤çš„æ€»ä½“æˆæœ¬å‰Šå‡é«˜è¾¾ 90%ã€‚</li>
<li><strong>æ”¯æŒå®æ—¶æ¹–ä»“ï¼š</strong> AutoMQ åŸç”Ÿé›†æˆäº† Icebergï¼Œå¯è½»æ¾å®ç°å®æ—¶æ¹–ä»“æ¶æ„ï¼Œå¸¦æ¥ç§’çº§çš„æ•°æ®æ–°é²œåº¦ï¼Œå¹¶æ¶ˆé™¤äº†é¢å‘åˆ†æåœºæ™¯çš„å¤æ‚ ETL å·¥ä½œæµã€‚</li>
<li><strong>100% Kafka å…¼å®¹ï¼š</strong> æ”¯æŒæ‰€æœ‰ Kafka åŠŸèƒ½åŠ Strimziã€Kafka Connect ç­‰ç”Ÿæ€å·¥å…·ï¼Œç¡®ä¿æ— ç¼è¿ç§»ä¸”æ— æ€§èƒ½è¡°å‡ï¼Œä½¿ä¼ä¸šèƒ½å¤Ÿå……åˆ†äº«å—äº‘åŸç”Ÿæ¶æ„çš„å…¨éƒ¨ä¼˜åŠ¿ã€‚</li>
<li><strong>æè‡´è¿ç»´ä½“éªŒï¼š</strong> æ‰©å®¹æ“ä½œä» 43 å°æ—¶ç¼©çŸ­è‡³ä»… 10 ç§’ï¼Œåˆ†åŒºé‡å¹³è¡¡ï¼ˆReassignmentï¼‰å¯åœ¨ç§’çº§å®Œæˆã€‚ç³»ç»Ÿè‡ªåŠ¨ç®¡ç†èŠ‚ç‚¹ã€å‡è¡¡è´Ÿè½½å¹¶å®ç°è‡ªæ„ˆï¼Œæœ€å¤§é™åº¦åœ°å‡å°‘äº†äººå·¥å¹²é¢„ï¼Œå¸¦æ¥çœŸæ­£çš„â€œé›¶è¿ç»´â€ï¼ˆZero-Opsï¼‰ä½“éªŒã€‚</li>
</ul>
<h2 data-id="heading-1">å…³äº Tigris</h2>
<p>Tigris æ˜¯ä¸€æ¬¾äº‘åŸç”Ÿçš„ã€å…¨çƒåˆ†å¸ƒå¼çš„ã€å…¼å®¹ S3 çš„å¯¹è±¡å­˜å‚¨å¹³å°ï¼Œä¸“ä¸º AI å’Œå®æ—¶å·¥ä½œè´Ÿè½½è€Œæ‰“é€ ã€‚å®ƒèƒ½å¤Ÿè‡ªåŠ¨å°†æ•°æ®æ”¾ç½®åœ¨é è¿‘è·¨åŒºåŸŸç”¨æˆ·çš„ä½ç½®ï¼Œæä¾›ä½å»¶è¿Ÿè®¿é—®ï¼Œå¹¶æ¶ˆé™¤äº†æ‰‹åŠ¨æ•°æ®å¤åˆ¶å’Œç¼“å­˜çš„å¤æ‚æ€§ã€‚</p>
<p>Tigris åŸç”Ÿæ”¯æŒ S3 APIï¼Œå¼€å‘è€…åªéœ€æ›´æ–°ç«¯ç‚¹ï¼ˆEndpointï¼‰å³å¯ä½¿ç”¨ç°æœ‰çš„å·¥å…·å’Œ SDKï¼Œä»è€Œå®ç°åœ¨ä¸åŒäº‘ç¯å¢ƒé—´çš„æ— ç¼è¿ç§»ã€‚å…¶å¤šå±‚å­˜å‚¨æ¶æ„ä¼šæ ¹æ®è®¿é—®æ¨¡å¼åŠ¨æ€å¹³è¡¡æ€§èƒ½ä¸æˆæœ¬ï¼Œç¡®ä¿ä»¥æœ€ä½çš„å¼€é”€å®ç°é«˜ååå’Œé«˜å¯é æ€§ã€‚</p>
<p>é’ˆå¯¹ AI åœºæ™¯ä¸­é¢‘ç¹è®¿é—®å°å¯¹è±¡ï¼ˆå¦‚ Embeddings å’Œæ¨¡å‹åˆ‡ç‰‡ï¼‰çš„éœ€æ±‚ï¼ŒTigris é‡‡ç”¨äº†å†…è”ï¼ˆinliningï¼‰ã€åˆå¹¶ï¼ˆcoalescingï¼‰å’ŒåŸºäº LSM çš„ç¼“å­˜æŠ€æœ¯ï¼Œä»¥æä¾›äºšç§’çº§çš„è®¿é—®å»¶è¿Ÿå’Œå“è¶Šæ€§èƒ½ã€‚</p>
<p>å‡­å€Ÿè¿™äº›èƒ½åŠ›ï¼ŒTigris è¶…è¶Šäº†ä¼ ç»Ÿå¯¹è±¡å­˜å‚¨çš„èŒƒç•´ï¼Œä¸ºä¸‹ä¸€ä»£ AI å’Œå®æ—¶å·¥ä½œè´Ÿè½½æä¾›äº†ä¸€ä¸ªä¸“ä¸ºæ­¤ç±»åœºæ™¯è€Œæ‰“é€ çš„é«˜æ€§èƒ½ã€é«˜æ€§ä»·æ¯”çš„æ•°æ®åŸºçŸ³ã€‚</p>
<p><img src="https://image.automq.com/20251119bot/jmblnh.png" alt="" loading="lazy"/></p>
<p>ğŸ’¡ æ ¸å¿ƒä¼˜åŠ¿</p>
<ul>
<li><strong>å…¨çƒæ™ºèƒ½åˆ†å¸ƒï¼š</strong> æ•°æ®æ ¹æ®è®¿é—®æ¨¡å¼è‡ªåŠ¨åœ¨è·¨åŒºåŸŸé—´è¿›è¡Œæ”¾ç½®å’Œä¼˜åŒ–ï¼Œæ— éœ€é…ç½®æ•°æ®å¤åˆ¶æˆ–ç¼“å­˜ç­–ç•¥ï¼Œå³å¯å®ç°ä½å»¶è¿Ÿè®¿é—®å’Œæ— é™æ‰©å±•ã€‚</li>
<li><strong>ä½æˆæœ¬æ•°æ®è®¿é—®æ¶æ„ï¼š</strong> å‡­å€Ÿé›¶å‡ºå£ï¼ˆEgressï¼‰è´¹ç”¨å’Œåˆ†å±‚å­˜å‚¨ï¼ŒTigris åœ¨ä¿æŒé«˜æ€§èƒ½å’Œé«˜å¯é æ€§çš„åŒæ—¶ï¼Œæœ€å¤§é™åº¦åœ°é™ä½äº†æ•°æ®è®¿é—®å’Œå­˜å‚¨æˆæœ¬ã€‚</li>
<li><strong>S3 å…¼å®¹ä¸æ— ç¼é›†æˆï¼š</strong> å¯ä¸ç°æœ‰çš„ S3 å·¥å…·ã€SDK å’Œå·¥ä½œæµååŒå·¥ä½œã€‚åªéœ€æ›´æ–°ç«¯ç‚¹ï¼ˆEndpointï¼‰ï¼Œå³å¯è¿æ¥è·¨å¤šäº‘æˆ–æ··åˆäº‘ç¯å¢ƒã€‚</li>
<li><strong>AI ä¼˜åŒ–çš„å‘é‡å­˜å‚¨ï¼š</strong> ä¸º AI ç›¸å…³çš„â€œå°å¯¹è±¡â€ï¼ˆå¦‚ Embeddings å’Œæ¨¡å‹åˆ‡ç‰‡ï¼‰æä¾›å¿«é€Ÿè®¿é—®ï¼Œä¸º AI è®­ç»ƒã€æ¨ç†å’Œåˆ†ææä¾›é«˜æ€§èƒ½çš„æ•°æ®æ”¯æŒã€‚</li>
</ul>
<h2 data-id="heading-2">AutoMQ ä¸ Tigris å¦‚ä½•ååŒå·¥ä½œ</h2>
<p>åœ¨ç°ä»£äº‘åŸç”Ÿæ¶æ„ä¸­ï¼Œå­˜ç®—åˆ†ç¦»ã€å¼¹æ€§å¯æ‰©å±•æ€§ä»¥åŠå¯¹è±¡å­˜å‚¨ï¼Œå·²æˆä¸ºå®æ—¶æ•°æ®åŸºç¡€è®¾æ–½çš„å¿…è¦åŸºçŸ³ã€‚AutoMQ çš„æ— çŠ¶æ€è®¡ç®—è®¾è®¡ï¼Œä¸ Tigris çš„å…¨çƒåˆ†å¸ƒå¼å¼¹æ€§å­˜å‚¨ç›¸ç»“åˆï¼Œä¸º Kafka å¸¦æ¥äº†ä¸€ç§å…¨æ–°çš„â€œæ— ç›˜â€ï¼ˆDisklessï¼‰èŒƒå¼ï¼Œä½¿é«˜æ•ˆçš„å®æ—¶æ•°æ®â€œå…¨çƒæµåŠ¨â€æˆä¸ºå¯èƒ½ã€‚</p>
<h3 data-id="heading-3">æ·±åº¦é›†æˆçš„ä¸‰å±‚æ¶æ„</h3>
<ul>
<li><strong>æ•°æ®æ‘„å–å±‚</strong></li>
</ul>
<p>AutoMQ æ”¯æŒä»å¤šæ ·åŒ–çš„å®æ—¶æ•°æ®æºï¼ˆå¦‚ç”¨æˆ·æ´»åŠ¨ã€ç‰©è”ç½‘è®¾å¤‡å’Œæ—¥å¿—æµï¼‰æ‘„å…¥æ•°æ®ï¼ŒåŒæ—¶å®Œå…¨å…¼å®¹ Kafka å®¢æˆ·ç«¯å’Œæµå¤„ç†æ¡†æ¶ã€‚é€šè¿‡å­˜ç®—åˆ†ç¦»ï¼Œæµå¼æ•°æ®è¢«ç›´æ¥å†™å…¥ Tigris å¯¹è±¡å­˜å‚¨ï¼Œæ— éœ€ä¸­é—´ç¼“å­˜ï¼Œç¡®ä¿äº†é«˜ååå’Œå¼ºä¸€è‡´æ€§ã€‚</p>
<ul>
<li><strong>å­˜å‚¨å±‚</strong></li>
</ul>
<p>Tigris æä¾›æŒä¹…åŒ–å­˜å‚¨å’Œå…¨çƒæ•°æ®ç®¡ç†èƒ½åŠ›ï¼Œå¹¶å†…ç½®äº†å†—ä½™å’Œé«˜å¯ç”¨æ€§ã€‚æ•°æ®è¢«æ™ºèƒ½åœ°åˆ†å¸ƒåœ¨æ›´é è¿‘è®¿é—®çš„åŒºåŸŸï¼Œä»¥é™ä½è·¨åŒºåŸŸå»¶è¿Ÿã€‚å…¶å¤šå±‚å­˜å‚¨è®¾è®¡ä¼˜åŒ–äº†æ€§èƒ½å’Œæˆæœ¬ï¼Œè€Œé›¶å‡ºå£è´¹ç”¨åˆ™æ˜¾è‘—å‰Šå‡äº†è·¨äº‘å’Œè·¨åŒºåŸŸçš„å¼€é”€ã€‚</p>
<ul>
<li><strong>è¿ç»´ä¸å¼¹æ€§å±‚</strong></li>
</ul>
<p>AutoMQ å’Œ Tigris å‡ä¸ºå®Œå…¨çš„äº‘åŸç”Ÿæ¶æ„ï¼Œæ”¯æŒå¤šäº‘æˆ–æ··åˆäº‘éƒ¨ç½²ã€‚AutoMQ æ ¹æ®å·¥ä½œè´Ÿè½½éœ€æ±‚å¼¹æ€§ä¼¸ç¼©è®¡ç®—èµ„æºï¼Œè€Œ Tigris çš„ Serverless æ¨¡å¼åˆ™ç¡®ä¿äº†å­˜å‚¨çš„å¯æ‰©å±•æ€§å’Œé«˜å¯ç”¨æ€§ã€‚ä¸¤è€…ç»“åˆï¼Œå®ç°äº†è¿ç»´è´Ÿæ‹…æå°ã€ç¨³å®šä¸”è‡ªæ„ˆçš„å®æ—¶æ•°æ®ç®¡é“ã€‚</p>
<p><img src="https://image.automq.com/20251119bot/mo9nzt.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">å¸¦æ¥çš„ä»·å€¼</h3>
<ul>
<li><strong>å…¨çƒ Kafka æœåŠ¡ï¼š</strong> AutoMQ ä¸ Tigris çš„ç»“åˆï¼Œå®ç°äº†è·¨åŒºåŸŸã€è·¨äº‘çš„ç»Ÿä¸€å®æ—¶æ•°æ®æµæœåŠ¡ï¼Œå½»åº•æ‰“ç ´äº†åœ°ç†å’ŒåŸºç¡€è®¾æ–½çš„å£å’ã€‚</li>
<li><strong>æè‡´çš„æˆæœ¬æ•ˆç›Šï¼š</strong> AutoMQ çš„å­˜ç®—åˆ†ç¦»å’Œæ— çŠ¶æ€ Broker æ¶æ„ï¼Œæ˜¾è‘—é™ä½äº† Kafka çš„è¿ç»´åŠåŸºç¡€è®¾æ–½æˆæœ¬ï¼›è€Œ Tigris çš„é›¶å‡ºå£è´¹ç”¨å’Œåˆ†å±‚å­˜å‚¨ï¼Œåˆ™è¿›ä¸€æ­¥å‰Šå‡äº†è·¨åŒºåŸŸå’Œå¤šäº‘çš„æ•°æ®è®¿é—®å¼€é”€ã€‚ä¸¤è€…å…±åŒåœ¨ä¸ç‰ºç‰²æ€§èƒ½çš„å‰æä¸‹ï¼Œå®ç°äº†æˆæœ¬æ•ˆç›Šçš„æœ€å¤§åŒ–ã€‚</li>
<li><strong>é«˜å…¼å®¹æ€§ä¸å¹³æ»‘è¿ç§»ï¼š</strong> åŒæ–¹å‡æ”¯æŒ S3 APIï¼Œä½¿ä¼ä¸šèƒ½å¤Ÿå³æ—¶è¿æ¥ç°æœ‰çš„åº”ç”¨ç¨‹åºï¼Œå¹¶åœ¨æ— éœ€åœæœºçš„æƒ…å†µä¸‹å¹³æ»‘è¿ç§»å·¥ä½œè´Ÿè½½ã€‚</li>
<li><strong>ç®€åŒ–çš„ç®¡ç†ï¼š</strong> å‡­å€Ÿäº‘åŸç”Ÿçš„è‡ªåŠ¨åŒ–å’Œå¼¹æ€§èƒ½åŠ›ï¼ŒAutoMQ ä¸ Tigris æä¾›äº†è‡ªåŠ¨ä¼¸ç¼©å’Œè‡ªæ„ˆåŠŸèƒ½ï¼Œç¡®ä¿äº†å®æ—¶æ•°æ®åŸºç¡€è®¾æ–½çš„è¿ç»´ç®€æ´æ€§ä¸ç¨³å®šæ€§ã€‚</li>
</ul>
<h2 data-id="heading-5">å±•æœ›æœªæ¥</h2>
<p>AutoMQ ä¸ Tigris å°†ç»§ç»­æ·±åŒ–æŠ€æœ¯èåˆï¼Œä¸æ–­æå‡â€œæ— ç›˜ Kafkaâ€ï¼ˆDiskless Kafkaï¼‰çš„æ€§èƒ½ã€å¼¹æ€§å’Œå¯æ‰©å±•æ€§ã€‚åŒæ–¹æ­£æºæ‰‹æ¨åŠ¨å…¨çƒäº‘åŸç”Ÿå®æ—¶æ•°æ®åŸºç¡€è®¾æ–½çš„æ¼”è¿›ï¼Œèµ‹èƒ½ä¼ä¸šåŠ é€Ÿå®ç°ä»æ•°æ®åˆ°ä»·å€¼çš„è½¬åŒ–ã€‚</p>
<p><strong>æƒ³è¦äº†è§£æ›´å¤šï¼Ÿ</strong></p>
<p>ğŸ‘‰ æ¢ç´¢ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.automq.com%2F%3Futm_source%3Dlinkedin_newsletter_automq_tigris_partner" target="_blank" title="https://www.automq.com/?utm_source=linkedin_newsletter_automq_tigris_partner" ref="nofollow noopener noreferrer">AutoMQ çš„å®æ—¶æ•°æ®å¹³å°</a>ï¼Œäº†è§£å®ƒå¦‚ä½•é‡å¡‘è§„æ¨¡åŒ–æµå¤„ç†ã€‚</p>
<p>ğŸ‘‰ å‘ç° <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.tigrisdata.com%2F%3Futm_source%3Dlinkedin_newsletter_automq_tigris_partner" target="_blank" title="https://www.tigrisdata.com/?utm_source=linkedin_newsletter_automq_tigris_partner" ref="nofollow noopener noreferrer">Tigris çš„å…¨çƒæ•°æ®ç®¡ç†è§£å†³æ–¹æ¡ˆ</a>ï¼Œä¸ºæ‚¨çš„è·¨åŒºåŸŸæ€§èƒ½èµ‹èƒ½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Gemini3 å¼ºåŠ¿æ¥è¢­ï¼Œè¿™æ¬¡å‰ç«¯çœŸçš„æ­»äº†ã€‚ã€‚ã€‚]]></title>    <link>https://juejin.cn/post/7573958996668760091</link>    <guid>https://juejin.cn/post/7573958996668760091</guid>    <pubDate>2025-11-19T03:46:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573958996668760091" data-draft-id="7573972055269130278" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Gemini3 å¼ºåŠ¿æ¥è¢­ï¼Œè¿™æ¬¡å‰ç«¯çœŸçš„æ­»äº†ã€‚ã€‚ã€‚"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-19T03:46:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹ä½•"/> <meta itemprop="url" content="https://juejin.cn/user/588993963763405"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Gemini3 å¼ºåŠ¿æ¥è¢­ï¼Œè¿™æ¬¡å‰ç«¯çœŸçš„æ­»äº†ã€‚ã€‚ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/588993963763405/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹ä½•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T03:46:52.000Z" title="Wed Nov 19 2025 03:46:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™æ˜¯è‹ä½•çš„ç¬¬ 451ç¯‡åŸåˆ›ï¼</p>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯è‹ä½•ã€‚</p>
<p>Gemini3 ç»ˆäºè¿˜æ˜¯æ¥äº†ï¼Œé¢„çƒ­äº†è¿™ä¹ˆä¹…ï¼Œè°·æ­Œè¿™æ¬¡æ²¡è®©äººå¤±æœ›ã€‚</p>
<p>å…¨ç½‘ç°åœ¨ä½ èƒ½çœ‹åˆ°éƒ½æ˜¯ Gemini 3 äº†ï¼Œæˆ‘ç†¬å¤œæµ‹åˆ° 3 ç‚¹ï¼Œç‹—å˜´é‡Œç¡¬æ˜¯åä¸å‡ºå‡ ä¸ªå­—ã€‚</p>
<p>å°± 2 å­—ï¼šç‰›é€¼ + ç‚¸è£‚ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6221200b16374f8a91f7fdc49e9c37d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764128811&amp;x-signature=v9p8bYfv65q5E88Nyv1FqKUGcNo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ä¸ªæœ¬æ–‡ç« çš„ä¿¡æ¯å›¾å¥½çœ‹å—ï¼Ÿä¹Ÿæ˜¯ Gemini3 Proç”Ÿæˆçš„ã€‚</p>
<p>è¿™æ¬¡æ˜¯çœŸç‚¸è£‚ï¼Œæˆ‘ä»¬å…ˆä¸çœ‹å‚æ•°å’Œ SOTAï¼Œç›´æ¥çœ‹ä¸‹ caseã€‚</p>
<p>è¿™æ˜¯ç”¨ Gemini3 å¤åˆ»çš„ç½‘ç«™é¦–é¡µï¼Œå‡ ä¹éƒ½æ˜¯ä¸€å¥æœ´å®æ— åçš„ promptï¼š</p>
<blockquote>
<p>è¯·å¸®æˆ‘å¤åˆ»è¯¥ç½‘ç«™é¦–é¡µã€‚</p>
</blockquote>
<p>è¿™æ˜¯å¤åˆ»çš„ B ç«™é¦–é¡µï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3118aa7b9e2f47feb9c19451972fd4f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764128811&amp;x-signature=n8LO7wT5QeEBNvbIKXeilA0lFD4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™æ˜¯ X çš„ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18559f94c82541c5a651129ad28794c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764128811&amp;x-signature=Sqa6ALuqowO701FrDvgX2CPQIXA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™æ˜¯æŠ–éŸ³çš„ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d75f2729167548baa1ba9fa544ba0bfc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764128811&amp;x-signature=YaB0BZ05EWlagJWDU1%2FzYz9zrq0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™æ˜¯å°çº¢ä¹¦çš„ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92485b4913ea4c0e97929a54da99162e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764128811&amp;x-signature=Vc3cFVRjeC7MVvlfn78b76pSK7g%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è®²çœŸï¼Œæˆ‘è¦ä¸è¯´æ˜¯å¤åˆ»çš„ï¼Œä½ å¤§æ¦‚ç‡ä¸ä¼šæƒ³åˆ°è¿™ç‰¹ä¹ˆæ˜¯åå‡ ç§’å°±èƒ½æå®šçš„ï¼Ÿ</p>
<p>Gemini3 Pro æ¯” Gemini2.5 Pro æå‡ä¸æ­¢ä¸€ç‚¹ï¼Œè¿™ä¸ªæ˜¯ç”¨ Gemini 3 Pro å‡ºçš„å¤©æ°”å¡ç‰‡ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bbc43a8e85d646ad9cd039bbd0f0efb0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764128811&amp;x-signature=biDStvjTLs3wzcor5GActqumo%2FI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è€Œä¹‹å‰ 2.5 Pro çš„é•¿è¿™æ ·ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1494d9d7ea4f41b2810711f0a3a94ef9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764128811&amp;x-signature=aS8mYvTOK1NcvUFUzagpizDeJMY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>2.5 Pro çš„ä»£ç èƒ½åŠ›å’Œ Agent èƒ½åŠ›ç¡®å®æŒºæŠ½è±¡çš„ã€‚</p>
<p>ç„¶åæ˜¯ç»å…¸çš„å…­è¾¹å½¢å¼¹åŠ›å°çƒæµ‹è¯• Gemini3 ä¹Ÿä¸åœ¨è¯ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0f1c868b4a340528e2f5474e0b8a57e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764128811&amp;x-signature=y3gdz%2BUGm00J1edU0JWfVGp%2BFRI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿˜å¯ä»¥ä¸€å¥è¯ç”Ÿæˆä¸€ä¸ªå®Œå…¨å¯ç©çš„æ¤ç‰©å¤§æˆ˜åƒµå°¸æ¸¸æˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14d01b006cb44a5ca98637469944bfdd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764128811&amp;x-signature=CGkNno0jCaWuqos4G6JQMJknMaU%3D" alt="wxv_4259791702086647811" loading="lazy"/></p>
<p>ä¸€å¥è¯ç”Ÿæˆå¯äº¤äº’çš„ 3 D åŠ¨ç”»ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/669c9dbfb2d041b48df24284cfa0790f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764128811&amp;x-signature=v9sQSRTz%2BrCTdt0O11QxAeOofN4%3D" alt="wxv_4259792337356046337" loading="lazy"/></p>
<blockquote>
<p>æç¤ºè¯ï¼šç”¨ HTML ç”Ÿæˆ 3D æ¼”ç¤ºåŠ¨ç”»ï¼Œåƒä¸­å­¦ç”Ÿæ¼”ç¤ºDNAåŒèºæ—‹çš„å¤åˆ¶è¿‡ç¨‹</p>
</blockquote>
<p>æœ€ç»çš„æ˜¯ï¼Œæˆ‘è®©å®ƒå¸®æˆ‘ç›´æ¥å†™äº†ä¸ª MacOS æ“ä½œç³»ç»Ÿï¼Œè¿˜å†…ç½®äº†ä¸€ä¸ª Gemini AI åŠ©æ‰‹ï¼Œå’Œå°åŠ©æ‰‹èŠå¤©è¿˜èƒ½ AI å›å¤ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a7aa92a676a4a56aee0501f95b9008e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764128811&amp;x-signature=h3WHnguIah59v3HHdqocEo%2F92JE%3D" alt="wxv_4259795426947022848" loading="lazy"/></p>
<p>è¿˜å¯ä»¥å°†æ¶æ„å›¾æˆªä¸Šä¼ åå¤åˆ»è¿™ä¸ªé¡µé¢ï¼Œå¹¶è®©èƒ½ç›´æ¥ä¿®æ”¹é‡Œé¢çš„æ–‡å­—ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81b7bd3548854568b69dd96679bf3eb3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764128811&amp;x-signature=4BxOI2dtnFc3wdmcvRxC8ttWpY8%3D" alt="wxv_4259796213765423106" loading="lazy"/></p>
<p>æ•ˆæœç›¸å½“ä¸é”™ï¼Œè¿™ä»¥åç”»æ¶æ„å›¾ä¹Ÿæ–¹ä¾¿äº†å•Šã€‚</p>
<p>ä¸ä»…ä»…æ˜¯å¤åˆ»ç½‘é¡µï¼Œç”šè‡³è¿˜å¯ä»¥ç›´æ¥è®©ä»–åšä¸ªåº”ç”¨ï¼Œæ¯”å¦‚æˆ‘è®©ä»–ä»¿ç€ lovart çš„é£æ ¼æ¥åšä¸ªå…¬ä¼—å·å°é¢å›¾ç”Ÿæˆå™¨ã€‚</p>
<pre><code class="hljs">å¸®æˆ‘åšä¸€ä¸ªå…¬ä¼—å·å°é¢å›¾ç”Ÿæˆå™¨ï¼Œåªéœ€è¦è¾“å…¥å…¬ä¼—å·æ–‡ç« å†…å®¹ï¼Œè‡ªåŠ¨æ ¹æ®å†…å®¹å¸®æˆ‘ç”Ÿæˆç¬¦åˆè¦æ±‚çš„å…¬ä¼—å·å°é¢å›¾ Â 
ä½ å¯ä»¥å‚è€ƒå›¾ç‰‡ä¸­çš„æ ·å¼è¿›è¡Œè®¾è®¡å¼€å‘
</code></pre>
<p>æœ€åï¼Œä½ ä¸€å®šè¦çœ‹ä¸‹è¿™ä¸ªè§†é¢‘ï¼Œä»–å±…ç„¶çœŸçš„æ ¹æ®æˆ‘çš„å†…å®¹ï¼Œå¸®æˆ‘æ¥ç”Ÿå›¾äº†ï¼Œå§æ§½ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/047d31ebfafb441fa04fc4b3655c46cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764128811&amp;x-signature=H%2F6g7k1h5Z4s7TwIoL9bsRQ30KU%3D" alt="wxv_4259802736176398337" loading="lazy"/></p>
<p>ä»¥ä¸Šæ˜¯æˆ‘äº²æµ‹çš„ caseï¼Œé™¤æ­¤è¿˜æœ‰éå¸¸å¤šç½‘å‹æœ‰æ„æ€çš„ caseï¼Œæ¯”å¦‚ @arkitus åšçš„çŸ¥è¯†ç†è§£çš„ case å°±å¾ˆæœ‰æ„æ€ï¼Œå®ƒä¸å†æ˜¯ç®€å•çš„æ–‡å­—æ¼”ç¤ºï¼Œè€Œæ˜¯å¸¦æœ‰äº¤äº’åŠ¨ç”»çš„æ•ˆæœæ¼”ç¤ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/efd07f687279478c89d6921c5d1bd3c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764128811&amp;x-signature=oaOphnTe5ZkSKkqbA3aLzlnj%2F9k%3D" alt="wxv_4259797222662782977" loading="lazy"/></p>
<p>é™¤äº†ç¼–ç¨‹èƒ½åŠ›ï¼Œä¹Ÿæµ‹äº†ä¸‹å†™ä½œèƒ½åŠ›ï¼Œå› ä¸º 2.5 Pro è¯´å®è¯å·²ç»å¾ˆå¼ºäº†ï¼Œè¿™æ¬¡çš„ Gemini 3 æˆ‘æ„Ÿè§‰å¯¹æŒ‡ä»¤çš„éµå¾ªä¸Šæœ‰æå‡ï¼Œæ¯”å¦‚ä»¥å‰å³ä½¿æˆ‘è®©å®ƒä¸è¦åŠ åŒå¼•å·ï¼Œä»–æ€»æ˜¯ä¸å¬è¯è¿˜æ˜¯ä¼šåŠ ä¸Šã€‚</p>
<p>ç°åœ¨ Gemini 3 Pro å°±ä¸ä¼šäº†ï¼Œè€Œä¸”æ¨¡ä»¿ä¸Šæ¥è¯´ï¼Œç»å¯¹æ²¡é—®é¢˜çš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3752042178a4a14a81262a5d5dab94a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764128811&amp;x-signature=k6luvkhrn8IRShbldNIKo1wwXoA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¥½ï¼Œcase çœ‹å®Œäº†ï¼Œç¡®å®ç‰›é€¼ã€‚</p>
<p>è¿™æ¬¡ Gemini3 èƒ½åŠ›æå‡äº†éå¸¸å¤šï¼Œå¯ä»¥è¯´æ˜¯é£è·ƒå¼æå‡äº†ï¼Œ<strong>LMArena ç›´æ¥å¹²åˆ°äº† 1501 åˆ†ï¼Œéœ¸æ¦œç¬¬ä¸€</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f8294a8f9b84cb190d8b27b1d72159c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764128811&amp;x-signature=HnbYrDtxAvoZVvEijTdjBVmNlE4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Gemini3 Pro åœ¨æ¨ç†å¤šæ¨¡æ€ä¸Šå¯ä»¥è¯´æ˜¯å²è¯—çº§åŠ å¼ºï¼Œå¯ä»¥æ¯«ä¸å¤¸å¼ çš„è¯´ï¼Œæ˜¯ç›®å‰å…¨çƒæœ€å¼ºçš„å¤šæ¨¡æ€æ¨¡å‹äº†ã€‚</p>
<p>æ‰€ä»¥ä¹Ÿå°±èƒ½è§£é‡Šä¸ºå•¥å‰ç«¯å¤åˆ»èƒ½åŠ›å¦‚æ­¤ä¹‹å¼ºï¼Œè¿˜åœ¨äºå…¶å¤šæ¨¡æ€å’Œæ¨ç†ä¸Šã€‚</p>
<p>åœ¨ Humanityâ€™s Last Exam è¿™ç§å˜æ€éš¾çš„æµ‹è¯•é‡Œ Gemini 3 Pro æ‹¿åˆ° 37.5%çš„æˆç»©ï¼Œæ•°å­¦èƒ½åŠ›åœ¨ MathArena ä¸Šä¹Ÿæ˜¯åˆ·æ–°çºªå½•ã€‚ä¸ç®¡æ˜¯çœ‹å¤æ‚çš„å›¾è¡¨è¿˜æ˜¯è§£é«˜éš¾åº¦çš„æ•°å­¦é¢˜ï¼Œå®ƒéƒ½èƒ½åšå¥½ã€‚</p>
<p>æ–°å¢äº† Deep Think æ·±åº¦æ€è€ƒæ¨¡å¼ä¸“é—¨è§£å†³å¤æ‚é—®é¢˜çš„æ¨ç†ã€‚</p>
<p>è¿™æ¬¡è°·æ­Œè¿˜æ¨å‡ºäº†Agent å¼€å‘ IDEï¼Œå« Antigravityï¼Œå¯ä»¥å…è´¹ä½¿ç”¨ Gemini3 Proã€Claude Sonnet 4.5ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b64fc855c5894855b1d5f07cc222c5d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764128811&amp;x-signature=pMcpcCektx6YcXgquxPjk%2Fp%2F%2Fb8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Gemini 3 åœ¨ä»£ç ç”Ÿæˆå’Œé•¿ä¸Šä¸‹æ–‡è§„åˆ’ä¸Šè¿›æ­¥å·¨å¤§ï¼ŒSWE-bench è¾¾åˆ°äº† 76.2%ã€‚å¯¹äºé¡¹ç›®çº§å¼€å‘æ¥è¯´ï¼Œä¼šæœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒGemini 3 ç°åœ¨çš„ä¸Šä¸‹æ–‡çª—å£ä¾ç„¶æ˜¯ 100 ä¸‡ tokenï¼Œä½†å¤„ç†ä¿¡æ¯çš„ç»´åº¦æ›´å¹¿äº†ã€‚20 åˆ†é’Ÿçš„è§†é¢‘ï¼Œç°åœ¨èƒ½ç²¾ç¡®çš„åˆ†æå‡ºæ¯ä¸€ä¸ªç»†èŠ‚ã€‚</p>
<p>é‚£ç°åœ¨å“ªé‡Œå¯ä»¥ä½¿ç”¨å‘¢ï¼Ÿå…¶å®å¾ˆå¤šå¹³å°éƒ½å·²ç»æ”¯æŒäº†ã€‚</p>
<p>è°·æ­Œçš„ AI Studioã€Gemini APPã€Gemini Cli éƒ½å·²ç»å¯ä»¥ç›´æ¥ç”¨ï¼Œè¿˜æœ‰ Cursor ä¸Šä¹Ÿèƒ½ç›´æ¥ç”¨äº†ã€‚</p>
<p>è€Œä¸” Gemini 3 çš„ API ä¹Ÿå¯ä»¥ç›´æ¥ç”¨ï¼Œåœ¨è‡ªå·±ä¸šåŠ¡ç³»ç»Ÿä¸­å¯ä»¥æ›¿æ¢è¯•ç”¨ã€‚</p>
<p>è¿™æ¬¡è°·æ­Œæ˜¯åŠ¨çœŸæ ¼äº†ï¼Œä¸å…‰æ¨¡å‹é‡ç£…æ›´æ–°ï¼Œå…¨å¹³å°ä¸Šçº¿ï¼Œè¿˜å‘å¸ƒäº†æ–°çš„ AI IDEã€‚</p>
<p>è¿™æ¬¡æ„Ÿå—æœ€å¤§çš„è¿˜æ˜¯å‰ç«¯åˆå†ä¸€æ¬¡é­å—åˆ°äº†å‰æ‰€æœªæœ‰çš„æŒ‘æˆ˜ã€‚</p>
<p>å¯ä»¥å¤¸å¼ çš„è¯´ï¼Œå½“ä¸‹çš„ Gemini3 æœ‰è¶³å¤Ÿçš„å®åŠ›æ¥å–ä»£ä¸€ä¸ªåªä¼š code çš„å‰ç«¯å·¥ç¨‹å¸ˆï¼Œä½†å·¥ç¨‹åŒ–æ¶æ„åŒ–ä»¥åŠæ›´æ‡‚ä¸šåŠ¡çš„çš„é«˜çº§å·¥ç¨‹å¸ˆä¸€æ—¶è¿˜å–ä»£ä¸äº†ã€‚</p>
<p>æˆ‘çœ‹å¾ˆå¤šæœ‹å‹è¯´ï¼Œè¿™æ¬¡Gemini3 æ˜¯é€šå‘ AGI çš„ä¸€ä¸ªé‡è¦æ—¶åˆ»ï¼Œè¯´çš„æ˜¯å¤¸å¼ äº†äº›ï¼Œä½†æ€»å½’åˆå›åˆ°äº†å½“å¹´ GPT4 åˆšå‡ºæ¥é‚£é˜µçš„å…´å¥‹äº†ã€‚</p>
<p>AI åˆå†ä¸€æ¬¡é“ºå¤©ç›–åœ°ï¼Œè€Œæˆ‘ä»¬ç»ˆå°†æ˜¯æ—¶ä»£çš„è§è¯è€…ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¼ å‚ä¼˜äºå¤–éƒ¨å˜é‡]]></title>    <link>https://juejin.cn/post/7573900879998451712</link>    <guid>https://juejin.cn/post/7573900879998451712</guid>    <pubDate>2025-11-19T02:56:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573900879998451712" data-draft-id="7573978809364791296" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¼ å‚ä¼˜äºå¤–éƒ¨å˜é‡"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-19T02:56:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ssshooter"/> <meta itemprop="url" content="https://juejin.cn/user/3122268751795101"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¼ å‚ä¼˜äºå¤–éƒ¨å˜é‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3122268751795101/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ssshooter
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T02:56:37.000Z" title="Wed Nov 19 2025 02:56:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. ä¸ºä»€ä¹ˆâ€œä¼ å‚â€é€šå¸¸æ›´å¥½ï¼Ÿ</h2>
<h3 data-id="heading-1">âœ… 1ï¼‰æ„å›¾æ›´æ¸…æ™°</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">calcPrice</span>(<span class="hljs-params">count, taxRate</span>) {  <span class="hljs-comment">// ä¸€çœ¼å°±çŸ¥é“éœ€è¦å•¥</span>
  <span class="hljs-keyword">return</span> count * <span class="hljs-number">100</span> * (<span class="hljs-number">1</span> + taxRate);
}
</code></pre>
<p>vs</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> taxRate = <span class="hljs-number">0.08</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">calcPrice</span>(<span class="hljs-params">count</span>) {           <span class="hljs-comment">// çœ‹ä¸å‡ºæ¥è¿˜ä¾èµ– taxRate</span>
  <span class="hljs-keyword">return</span> count * <span class="hljs-number">100</span> * (<span class="hljs-number">1</span> + taxRate);
}
</code></pre>
<p>ä¼ å‚çš„æ—¶å€™ï¼Œå‡½æ•°ç­¾åå°±æ˜¯â€œéœ€æ±‚æ¸…å•â€ï¼Œåˆ«äººä¸€çœ‹å°±çŸ¥é“è¿™ä¸ªå‡½æ•°è¦ä»€ä¹ˆä¸œè¥¿ã€‚</p>
<hr/>
<h3 data-id="heading-2">âœ… 2ï¼‰æ›´å¥½æµ‹ã€æ›´å¥½å¤ç”¨</h3>
<ul>
<li>ä¼ å‚ï¼šå†™å•æµ‹æ—¶ï¼Œ<strong>éšä¾¿å–‚</strong>å„ç§å‚æ•°å°±èƒ½æµ‹è¯•ã€‚</li>
<li>ä¾èµ–å¤–éƒ¨å˜é‡ï¼šä½ å¾—å…ˆæ”¹å¤–éƒ¨å˜é‡ï¼Œæˆ–è€… mock ç¯å¢ƒï¼Œéº»çƒ¦è¿˜å®¹æ˜“äº’ç›¸å¹²æ‰°ã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä¼ å‚ç‰ˆ</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">discount</span>(<span class="hljs-params">price, ratio</span>):
    <span class="hljs-keyword">return</span> price * ratio

<span class="hljs-comment"># å¤–éƒ¨å˜é‡ç‰ˆ</span>
RATIO = <span class="hljs-number">0.9</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">discount</span>(<span class="hljs-params">price</span>):
    <span class="hljs-keyword">return</span> price * RATIO
</code></pre>
<p>ç¬¬ä¸€ä¸ªåœ¨æµ‹è¯•ç¯å¢ƒé‡Œå¾ˆå¥½æï¼š<br/>
<code>discount(100, 0.5)</code>ã€<code>discount(100, 0.9)</code> æƒ³æµ‹å•¥æµ‹å•¥ã€‚<br/>
ç¬¬äºŒä¸ªä½ è¦æ”¹ <code>RATIO</code>ï¼Œè¿˜å°å¿ƒåˆ«å½±å“åˆ«çš„æµ‹è¯•ç”¨ä¾‹ã€‚</p>
<hr/>
<h3 data-id="heading-3">âœ… 3ï¼‰è€¦åˆæ›´ä½</h3>
<ul>
<li>ä½¿ç”¨å¤–éƒ¨å˜é‡ = å‡½æ•°å’Œå¤–éƒ¨ç¯å¢ƒç»‘å¾—å¾ˆæ­»ã€‚</li>
<li>ä¼ å‚ = å‡½æ•°åªå…³å¿ƒâ€œè¾“å…¥ â†’ è¾“å‡ºâ€ï¼Œå¤–éƒ¨åªè´Ÿè´£æä¾›æ•°æ®ã€‚</li>
</ul>
<p>è€¦åˆé«˜çš„åå¤„ï¼š</p>
<ul>
<li>é‡æ„æ—¶ï¼Œæ”¹ä¸€ä¸ªåœ°æ–¹ç‰µä¸€å †ä¸œè¥¿ã€‚</li>
<li>å¤šçº¿ç¨‹/å¤šåç¨‹/å¤šè¯·æ±‚ä¸‹å¯èƒ½è¸©å…±äº«æ•°æ®ï¼ˆå°¤å…¶æ˜¯çŠ¶æ€å¯å˜çš„æ—¶å€™ï¼‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-4">âœ… 4ï¼‰å¹¶å‘å’Œå¼‚æ­¥æ›´å®‰å…¨</h3>
<p>æ¯”å¦‚åœ¨ JS é‡Œï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> currentUserId;

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleRequest</span>(<span class="hljs-params">userId</span>) {
  currentUserId = userId;
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">someAsyncWork</span>();
  <span class="hljs-title function_">log</span>(<span class="hljs-string">"user: "</span>, currentUserId); <span class="hljs-comment">// æœ‰å¯èƒ½å·²ç»è¢«åˆ«çš„è¯·æ±‚æ”¹äº†</span>
}
</code></pre>
<p>å¦‚æœä½ æ”¹æˆä¼ å‚ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">async function <span class="hljs-built_in">handleRequest</span>(userId) {
  await <span class="hljs-built_in">someAsyncWork</span>();
  <span class="hljs-built_in">log</span>("user: ", userId); <span class="hljs-comment">// æ°¸è¿œæ˜¯è‡ªå·±çš„</span>
}
</code></pre>
<p>ä¸ä¼šè¢«å…¶ä»–å¹¶å‘è¯·æ±‚æ±¡æŸ“ã€‚</p>
<hr/>
<h2 data-id="heading-5">2. é‚£ä»€ä¹ˆæ—¶å€™å¯ä»¥ç”¨â€œå¤–éƒ¨ä½œç”¨åŸŸå˜é‡â€ï¼Ÿ</h2>
<p>ä¸æ˜¯è¯´â€œå¤–éƒ¨å˜é‡å¿…æ­»ç½ªâ€ï¼Œåªæ˜¯è¦ç”¨å¾—å…‹åˆ¶ä¸€ç‚¹ã€‚</p>
<h3 data-id="heading-6">âœ… é€‚åˆç”¨å¤–éƒ¨ä½œç”¨åŸŸçš„åœºæ™¯</h3>
<ol>
<li>
<p><strong>çœŸæ­£çš„å¸¸é‡ / é…ç½®ï¼Œä¸”å…¨å±€ç»Ÿä¸€</strong></p>
<ul>
<li>æ¯”å¦‚ï¼š<code>PI</code>ã€<code>MAX_RETRY</code>ã€<code>API_BASE_URL</code> è¿™ç±» <em>æ’å®šä¸å˜</em> çš„ä¸œè¥¿ã€‚</li>
<li>æˆ–è€…é…ç½®å¯¹è±¡ï¼š<code>config = {...}</code>ï¼Œåœ¨å¤šä¸ªåœ°æ–¹è¯»ã€‚</li>
</ul>
</li>
<li>
<p><strong>å·¥å…·å‡½æ•°é‡Œä½¿ç”¨çš„ã€æ˜æ˜¾ä¸åº”è¯¥ç”±è°ƒç”¨æ–¹å†³å®šçš„ä¸œè¥¿</strong></p>
<p>æ¯”å¦‚æ—¥å¿—å‡½æ•°é‡Œçš„å…¨å±€ loggerã€æ—¶é—´æ ¼å¼å™¨ç­‰ï¼Œè¿™äº›å±äºâ€œç¯å¢ƒâ€ï¼Œè€Œä¸æ˜¯â€œä¸šåŠ¡å‚æ•°â€ã€‚</p>
</li>
<li>
<p><strong>é—­åŒ…åšâ€œæŸ¯é‡ŒåŒ–â€/â€œéƒ¨åˆ†åº”ç”¨â€çš„æ—¶å€™</strong></p>
<p>è¿™ç§ç”¨å¤–éƒ¨å˜é‡ï¼Œåè€Œæ˜¯æ¸…æ™°çš„è®¾è®¡ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">makeAdder</span>(<span class="hljs-params">delta</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">x</span>) {
    <span class="hljs-keyword">return</span> x + delta;  <span class="hljs-comment">// ç”¨å¤–éƒ¨ deltaï¼Œå¾ˆè‡ªç„¶</span>
  };
}

<span class="hljs-keyword">const</span> add10 = <span class="hljs-title function_">makeAdder</span>(<span class="hljs-number">10</span>);
<span class="hljs-title function_">add10</span>(<span class="hljs-number">5</span>); <span class="hljs-comment">// 15</span>
</code></pre>
<p>å¤–éƒ¨å˜é‡åœ¨è¿™é‡Œå…¶å®æ˜¯â€œæ„é€ å‚æ•°â€ï¼Œè€Œè¿”å›çš„å‡½æ•°åªæš´éœ²ä¸€éƒ¨åˆ†å‚æ•°ã€‚</p>
</li>
<li>
<p><strong>é¿å…åœ¨å±‚å±‚ä¼ é€’ä¸€äº›â€œæ¡†æ¶çº§ä¸Šä¸‹æ–‡â€æ—¶ï¼Œå¯ç”¨ DI / ä¸Šä¸‹æ–‡å¯¹è±¡</strong></p>
<p>æ¯”å¦‚ web æ¡†æ¶é‡Œï¼Œæœ‰ç±»ä¼¼ <code>requestContext</code> è¿™ç§ä¸œè¥¿ï¼Œå¯ä»¥é€šè¿‡ä¾èµ–æ³¨å…¥ã€ä¸Šä¸‹æ–‡ç®¡ç†å™¨ã€ThreadLocal ç­‰è®¿é—®â€”â€”è¿™äº›æœ¬è´¨ä¸Šä¹Ÿæ˜¯â€œå¤–éƒ¨ä½œç”¨åŸŸå˜é‡â€çš„ä¸€ç§ï¼ˆä½†é€šå¸¸æœ‰æ¡†æ¶è§„èŒƒæ¥æ§åˆ¶æ»¥ç”¨ï¼‰ã€‚</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-7">3. ä»€ä¹ˆæ—¶å€™â€œç»å¯¹ä¸è¦â€ç”¨å¤–éƒ¨å˜é‡ï¼Ÿ</h2>
<ol>
<li>
<p><strong>å˜é‡æ˜¯å¯å˜çŠ¶æ€ï¼ˆä¼šè¢«æ”¹æ¥æ”¹å»ï¼‰</strong></p>
<ul>
<li>æ¯”å¦‚ <code>currentUser</code>, <code>currentOrder</code>, <code>tempList</code>, <code>cacheData</code> ç­‰ã€‚</li>
<li>ä¸€æ”¹å°±å˜â€œéšå½¢ä¾èµ–â€ï¼Œå®¹æ˜“å‡ºé”™ã€çº¿ç¨‹ä¸å®‰å…¨ã€‚</li>
</ul>
</li>
<li>
<p><strong>å‡½æ•°é€»è¾‘é«˜åº¦ä¾èµ–å½“å‰â€œæ—¶åˆ»â€çš„å¤–éƒ¨çŠ¶æ€</strong></p>
<ul>
<li>æ¯”å¦‚â€œç‚¹æŒ‰é’®æ—¶çœ‹å…¨å±€çš„ selectedItem æ˜¯è°â€è¿™ç§ï¼Œå¦‚æœé€»è¾‘è¶Šæ¥è¶Šå¤æ‚ï¼Œä¼šå¾ˆéš¾æ’é”™ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä½ è‡ªå·±éƒ½å¼€å§‹æ€€ç–‘â€œè¿™ç©æ„å„¿æ˜¯è°æ”¹çš„ï¼Ÿâ€çš„æ—¶å€™</strong></p>
<ul>
<li>è¯´æ˜å·²ç»å¤±æ§äº† ğŸ˜‚</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-8">4. æ€§èƒ½ä¸Šä¼šä¸ä¼šä¼ å‚æ›´æ…¢ï¼Ÿ</h2>
<p>ä¸€èˆ¬ä¸šåŠ¡ä»£ç é‡Œï¼š</p>
<ul>
<li>ä¼ å‚çš„å¼€é”€ = å¾®ä¹å…¶å¾®ï¼Œå¯ä»¥å¿½ç•¥ã€‚</li>
<li>æŠŠè®¾è®¡æä¹±ã€è°ƒè¯•æ—¶é—´ç¿»å€çš„å¼€é”€ = å·¨å¤§ã€‚</li>
</ul>
<p>é™¤éä½ åœ¨å†™ <strong>æè‡´æ€§èƒ½æ•æ„Ÿ</strong> çš„åº•å±‚åº“ï¼ˆæ¯”å¦‚å†…æ ¸ã€ç¼–è§£ç æ ¸å¿ƒå¾ªç¯è¿™ç§ï¼‰ï¼Œå¦åˆ™åˆ«å› ä¸ºâ€œæ€§èƒ½â€å»ç‰ºç‰²å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
<p>å°±ç®—æ˜¯é‚£ç§åœºæ™¯ï¼Œä¹Ÿä¼šç»“åˆ profiler çœŸå®æ•°æ®æ¥ä¼˜åŒ–ï¼Œè€Œä¸æ˜¯å‡­æ„Ÿè§‰â€œä¼ å‚å¥½åƒæ…¢â€ã€‚</p>
<hr/>
<h2 data-id="heading-9">5. å¯ä»¥ç›´æ¥æ‹¿å»ç”¨çš„ç®€å•åŸåˆ™</h2>
<p>ä½ å¯ä»¥è®°ä¸€ä¸ªå° checklistï¼š</p>
<ol>
<li>
<p><strong>è¿™ä¸ªå€¼ä¼šå˜å—ï¼Ÿ</strong></p>
<ul>
<li>ä¼šå˜ â†’ ä¼ å‚ï¼Œåˆ«ç”¨å¤–éƒ¨å˜é‡ã€‚</li>
<li>ä¸ä¼šå˜ï¼ˆå¸¸é‡/é…ç½®ï¼‰â†’ å¯ä»¥å¤–éƒ¨ï¼Œä½†æœ€å¥½é›†ä¸­ç®¡ç†ã€‚</li>
</ul>
</li>
<li>
<p><strong>è¿™ä¸ªå‡½æ•°èƒ½ç‹¬ç«‹æ‹¿å»å†™å•æµ‹å—ï¼Ÿ</strong></p>
<ul>
<li>å¦‚æœä¸èƒ½ï¼Œå› ä¸ºç¼ºè¿™ç¼ºé‚£çš„â€œå¤–éƒ¨çŠ¶æ€â€ â†’ ä¼˜å…ˆæ”¹æˆä¼ å‚ã€‚</li>
</ul>
</li>
<li>
<p><strong>å‡½æ•°çš„è¡Œä¸ºæ˜¯å¦èƒ½åªé€šè¿‡å‚æ•°æ¥æè¿°ï¼Ÿ</strong></p>
<ul>
<li>èƒ½ â†’ ä¼ å‚ï¼Œå¤šçˆ½ã€‚</li>
<li>ä¸èƒ½ â†’ ä½ å¯èƒ½åœ¨åšâ€œçŠ¶æ€æœºã€ä¸Šä¸‹æ–‡ç®¡ç†â€è¿™ç±»äº‹ï¼Œè€ƒè™‘ç”¨å¯¹è±¡å°è£…ã€ç±»ã€contextï¼Œè€Œä¸æ˜¯åˆ°å¤„é£˜å…¨å±€å˜é‡ã€‚</li>
</ul>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«å†å¹æ€§èƒ½ä¼˜åŒ–äº†ï¼šä½ çš„åº”ç”¨å¡é¡¿ï¼Œçº¯ç²¹æ˜¯å› ä¸ºäº§å“è®¾è®¡çƒ‚ğŸ¤·â€â™‚ï¸]]></title>    <link>https://juejin.cn/post/7573950036897038376</link>    <guid>https://juejin.cn/post/7573950036897038376</guid>    <pubDate>2025-11-19T03:52:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573950036897038376" data-draft-id="7573950036896694312" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«å†å¹æ€§èƒ½ä¼˜åŒ–äº†ï¼šä½ çš„åº”ç”¨å¡é¡¿ï¼Œçº¯ç²¹æ˜¯å› ä¸ºäº§å“è®¾è®¡çƒ‚ğŸ¤·â€â™‚ï¸"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,ä»£ç è§„èŒƒ"/> <meta itemprop="datePublished" content="2025-11-19T03:52:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ErpanOmer"/> <meta itemprop="url" content="https://juejin.cn/user/3878732754331096"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«å†å¹æ€§èƒ½ä¼˜åŒ–äº†ï¼šä½ çš„åº”ç”¨å¡é¡¿ï¼Œçº¯ç²¹æ˜¯å› ä¸ºäº§å“è®¾è®¡çƒ‚ğŸ¤·â€â™‚ï¸
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3878732754331096/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ErpanOmer
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T03:52:57.000Z" title="Wed Nov 19 2025 03:52:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3349dd0b49314e4d8ce7022bf38d6b5d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRXJwYW5PbWVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764129309&amp;x-signature=G1sk68zwpAR89dMUvvv%2BOwnZC5k%3D" alt="image.png" loading="lazy"/></p>
<p>å¤§å®¶å¥½ï¼</p>
<p>æœ€è¿‘é¢è¯•ï¼Œæˆ‘å‘ç°ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„äº‹æƒ…ã€‚å‡ ä¹æ¯ä¸ªé«˜çº§å‰ç«¯çš„ç®€å†ä¸Šï¼Œéƒ½ä¸“é—¨å¼€è¾Ÿäº†ä¸€æ ï¼Œå«<strong>æ€§èƒ½ä¼˜åŒ–</strong>ã€‚</p>
<p>é‡Œé¢å†™æ»¡äº†å„ç§é«˜å¤§ä¸Šçš„åè¯ğŸ˜–ï¼š</p>
<blockquote>
<p>ä½¿ç”¨Virtual Listï¼ˆè™šæ‹Ÿåˆ—è¡¨ï¼‰ä¼˜åŒ–é•¿åˆ—è¡¨æ¸²æŸ“...</p>
<p>ä½¿ç”¨Web WorkeræŠŠå¤æ‚è®¡ç®—ç§»å‡ºä¸»çº¿ç¨‹...</p>
<p>ä½¿ç”¨WASMé‡å†™æ ¸å¿ƒç®—æ³•...</p>
</blockquote>
<p>çœ‹ç€è¿™äº›ï¼Œæˆ‘é€šå¸¸ä¼šé—®ä¸€ä¸ªé—®é¢˜ï¼š</p>
<p>ä½ ä¸ºä»€ä¹ˆè¦æ¸²æŸ“ä¸€ä¸ªæœ‰ä¸€ä¸‡æ¡æ•°æ®çš„åˆ—è¡¨ï¼Ÿç”¨æˆ·çœŸçš„çœ‹å¾—è¿‡æ¥å—ï¼Ÿ</p>
<p>å€™é€‰äººé€šå¸¸ä¼šæ„£ä½ï¼Œç„¶åæ”¯æ”¯å¾å¾åœ°è¯´ï¼šâ€œå‘ƒ...è¿™æ˜¯æˆ‘ä»¬äº§å“ç»ç†è¦æ±‚çš„ğŸ¤·â€â™‚ï¸ã€‚â€</p>
<p>è¿™å°±æ˜¯ä»Šå¤©æˆ‘æƒ³èŠçš„è¯é¢˜ï¼š</p>
<p><strong>åœ¨2025å¹´çš„ä»Šå¤©ï¼Œå‰ç«¯é¢†åŸŸ90%çš„æ‰€è°“æ€§èƒ½ç“¶é¢ˆï¼Œæ ¹æœ¬ä¸æ˜¯æŠ€æœ¯é—®é¢˜ï¼Œè€Œæ˜¯äº§å“é—®é¢˜ã€‚</strong></p>
<p>æˆ‘ä»¬è¿™ç¾¤å·¥ç¨‹å¸ˆï¼Œæ‹¿ç€æœ€å…ˆè¿›çš„å‰ç«¯æŠ€æœ¯ï¼ˆVite, Rust, WASMï¼‰ï¼Œå´åœ¨æ—¥å¤ä¸€æ—¥åœ°ç»™ä¸€å¨å±ğŸ’©ï¼ˆç³Ÿç³•çš„äº§å“è®¾è®¡ï¼‰é›•èŠ±ã€‚</p>
<hr/>
<h4 data-id="heading-0"><strong>æˆ‘ä»¬æ­£åœ¨è§£å†³é”™è¯¯çš„é—®é¢˜</strong></h4>
<p>è®©æˆ‘ä»¬è¿˜åŸä¸€ä¸ªç»å…¸çš„æ€§èƒ½ä¼˜åŒ–ç°åœºå§ğŸ‘‡ã€‚</p>
<p>åœºæ™¯ï¼šä¸€ä¸ªä¸­åå°çš„è¶…çº§è¡¨æ ¼ï¼ˆé»˜è®¤å¤§å®¶åº”è¯¥æ¯”è¾ƒç†Ÿæ‚‰ğŸ¤”ï¼‰ã€‚</p>
<p>äº§å“ç»ç†è¯´éœ€æ±‚ï¼šè¿™ä¸ªè¡¨æ ¼è¦å±•ç¤ºæ‰€æœ‰è®¢å•ï¼Œå¤§æ¦‚æœ‰50åˆ—ï¼Œæ¯é¡µè¦å±•ç¤º500æ¡ï¼Œè€Œä¸”è¦æ”¯æŒå®æ—¶æœç´¢ï¼Œè¿˜è¦æ”¯æŒåˆ—æ‹–æ‹½ï¼Œæ¯ä¸ªå•å…ƒæ ¼é‡Œå¯èƒ½è¿˜æœ‰ä¸‹æ‹‰èœå•...</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f83703961f444959f43e49f20afb178~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRXJwYW5PbWVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764129309&amp;x-signature=AZ2gRS3TrmKPqkg6x5SDLXcV9IQ%3D" alt="image.png" loading="lazy"/></p>
<p><strong>å¼€å‘è€…çš„ç¬¬ä¸€ååº”ï¼ˆæŠ€æœ¯è§†è§’ï¼‰</strong> ï¼š</p>
<ul>
<li>50åˆ— x 500è¡Œ = 25000ä¸ªDOMèŠ‚ç‚¹ï¼Œæµè§ˆå™¨è‚¯å®šå¡æ­»ã€‚</li>
<li>å¿«ï¼ä¸Š<strong>è™šæ‹Ÿæ»šåŠ¨</strong>ï¼ˆVirtual Scrollï¼‰ï¼</li>
<li>å¿«ï¼ä¸Š<strong>é˜²æŠ–</strong>ï¼ˆDebounceï¼‰ï¼</li>
<li>å¿«ï¼ä¸Š<strong>Memoization</strong>ï¼ˆç¼“å­˜ï¼‰ï¼</li>
</ul>
<p>æˆ‘ä»¬ä¸ºäº†è¿™ä¸ªéœ€æ±‚ï¼Œå¼•å…¥äº†å¤æ‚çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.ag-grid.com%2Freact-data-grid%2Fgetting-started%2F" target="_blank" title="https://www.ag-grid.com/react-data-grid/getting-started/" ref="nofollow noopener noreferrer">ç¬¬ä¸‰æ–¹åº“</a>ï¼Œå†™äº†æ™¦æ¶©éš¾æ‡‚çš„ä¼˜åŒ–ä»£ç ï¼Œç”šè‡³ä¸ºäº†è§£å†³è™šæ‹Ÿæ»šåŠ¨å¸¦æ¥çš„æ ·å¼é—®é¢˜ï¼ˆæ¯”å¦‚é«˜åº¦åå¡Œã€å®šä½å¼‚å¸¸ï¼‰ï¼Œåˆæ‰“äº†ä¸€å †è¡¥ä¸ã€‚</p>
<p>æœ€åï¼Œé¡µé¢ç»ˆäºä¸å¡äº†ã€‚æˆ‘ä»¬è§‰å¾—è‡ªå·±å¾ˆç‰›é€¼ï¼ŒæŠ€æœ¯å¾ˆå¼ºã€‚</p>
<p><strong>ä½†æˆ‘ä»¬ä»æ¥æ²¡é—®è¿‡é‚£ä¸ªæœ€æ ¸å¿ƒçš„é—®é¢˜ï¼š</strong></p>
<blockquote>
<p><strong>äººç±»çš„è§†ç½‘è†œå’Œå¤§è„‘ï¼ŒçœŸçš„èƒ½åŒæ—¶å¤„ç†50åˆ— x 500è¡Œçš„æ•°æ®å—ï¼Ÿ</strong></p>
</blockquote>
<p>ç­”æ¡ˆæ˜¯ï¼š<strong>ä¸èƒ½ã€‚</strong></p>
<p>å½“å±å¹•ä¸Šå¯†å¯†éº»éº»æŒ¤æ»¡äº†æ•°æ®æ—¶ï¼Œç”¨æˆ·çš„è®¤çŸ¥è´Ÿè·å·²ç»çˆ†è¡¨äº†ã€‚ä»–æ ¹æœ¬æ‰¾ä¸åˆ°ä»–è¦çœ‹çš„ä¸œè¥¿ã€‚ä»–éœ€è¦çš„ä¸æ˜¯é«˜æ€§èƒ½çš„æ¸²æŸ“ï¼Œä»–éœ€è¦çš„æ˜¯<strong>ç­›é€‰</strong>å’Œ<strong>æœç´¢</strong>ã€‚</p>
<p><strong>æˆ‘ä»¬ç”¨é¡¶çº§çš„æŠ€æœ¯ï¼Œå»å®ç°äº†ä¸€ä¸ªåäººç±»çš„è®¾è®¡ã€‚</strong> è¿™ä¸æ˜¯ä¼˜åŒ–ï¼Œè¿™æ˜¯å«ä½œæ¶ğŸ˜ ã€‚</p>
<hr/>
<h4 data-id="heading-1"><strong>çœŸæ­£çš„ä¼˜åŒ–ï¼Œæ˜¯ä»ç éœ€æ±‚å¼€å§‹</strong></h4>
<p>æˆ‘æ›¾ç»æ¥æ‰‹è¿‡ä¸€ä¸ªç±»ä¼¼çš„é¡¹ç›®ï¼Œé¡µé¢å¡é¡¿åˆ°FPSåªæœ‰10ã€‚å‰ä»»å¼€å‘ç•™ä¸‹äº†å‡ åƒè¡Œç”¨æ¥ä¼˜åŒ–æ¸²æŸ“çš„å¤æ‚ä»£ç ï¼Œç»´æŠ¤èµ·æ¥ç”Ÿä¸å¦‚æ­»ã€‚</p>
<p>æˆ‘æ¥æ‰‹åï¼Œæ²¡æœ‰æ”¹ä¸€è¡Œæ¸²æŸ“ä»£ç ã€‚</p>
<p>æˆ‘ç›´æ¥å»æ‰¾äº†äº§å“æ€»ç›‘ï¼ŒæŠŠé‚£ä¸ªé¡µé¢æŠ•åœ¨å¤§å±å¹•ä¸Šï¼Œé—®äº†ä»–ä¸‰ä¸ªé—®é¢˜ï¼š</p>
<p><strong>1.ä½ çœ‹è¿™ä¸€åˆ— è®¢å•åŸå§‹JSONæ—¥å¿—ï¼Œå¹³å‡é•¿åº¦3000å­—ç¬¦ï¼Œä½ æŠŠå®ƒå…¨å±•ç¤ºåœ¨è¡¨æ ¼é‡Œï¼Œè°ä¼šçœ‹ï¼Ÿ</strong></p>
<p>ç æ‰ï¼æ”¹æˆä¸€ä¸ªæŸ¥çœ‹è¯¦æƒ…çš„æŒ‰é’®ï¼Œç‚¹å¼€å†åŠ è½½ã€‚DOMèŠ‚ç‚¹å‡å°‘20%ã€‚</p>
<p><strong>2.è¿™50åˆ—æ•°æ®ï¼Œç”¨æˆ·é«˜é¢‘å…³æ³¨çš„çœŸçš„æœ‰è¿™ä¹ˆå¤šå—ï¼Ÿ</strong></p>
<p>é»˜è®¤åªå±•ç¤ºæ ¸å¿ƒçš„8åˆ—ã€‚å‰©ä¸‹çš„æ”¾åœ¨è‡ªå®šä¹‰åˆ—é‡Œï¼Œç”¨æˆ·æƒ³çœ‹è‡ªå·±å‹¾é€‰ã€‚DOMèŠ‚ç‚¹å‡å°‘80%ã€‚</p>
<p><strong>3.æˆ‘å°±ä¸çŸ¥é“ä¸ºä»€ä¹ˆğŸ¤·â€â™‚ï¸ è¦ä¸€æ¬¡æ€§åŠ è½½500æ¡ï¼Ÿç”¨æˆ·ç¿»åˆ°ç¬¬400æ¡çš„æ—¶å€™ï¼Œä»–è¿˜è®°å¾—ç¬¬1æ¡æ˜¯ä»€ä¹ˆå—ï¼Ÿ</strong></p>
<p>èµ¶ç´§ç æ‰ï¼æ”¹æˆæ ‡å‡†çš„åˆ†é¡µï¼Œæ¯é¡µ20æ¡ã€‚DOMèŠ‚ç‚¹å‡å°‘96%ã€‚</p>
<p><strong>åšå®Œè¿™ä¸‰ä»¶äº‹ï¼Œæˆ‘ç”šè‡³æŠŠä¹‹å‰çš„è™šæ‹Ÿæ»šåŠ¨ä»£ç å…¨åˆ äº†ï¼Œå›é€€åˆ°äº†æœ€æœ´ç´ çš„<code>&lt;table&gt;</code>æ ‡ç­¾ã€‚</strong></p>
<p>ç»“æœå‘¢ï¼Ÿ</p>
<ul>
<li><strong>é¡µé¢é£ä¸€æ ·å¿«</strong>ï¼ˆå› ä¸ºDOMåªæœ‰åŸæ¥çš„1%ï¼‰ã€‚</li>
<li><strong>ä»£ç æå…¶ç®€å•</strong>ï¼ˆç»´æŠ¤å°±æ›´ç®€å•äº†ğŸ¤”ï¼‰ã€‚</li>
<li><strong>ç”¨æˆ·åè€Œæ›´å¼€å¿ƒäº†</strong>ï¼ˆå› ä¸ºç•Œé¢æ¸…çˆ½äº†ï¼Œä¿¡æ¯å±‚çº§æ¸…æ™°äº†ï¼‰ã€‚</li>
</ul>
<p><strong>è¿™æ‰æ˜¯æœ€é«˜çº§çš„æ€§èƒ½ä¼˜åŒ–ï¼šä¸ä»…ä¼˜åŒ–äº†æœºå™¨çš„æ€§èƒ½ï¼Œæ›´ä¼˜åŒ–äº†äººçš„ä½“éªŒã€‚</strong></p>
<hr/>
<h4 data-id="heading-2"><strong>æŠ€æœ¯è‡ªè´Ÿçš„é™·é˜±</strong></h4>
<p>ä¸ºä»€ä¹ˆæˆ‘ä»¬æ€»æ˜¯é™·åœ¨æŠ€æœ¯ä¼˜åŒ–çš„æ³¥æ½­é‡Œå‡ºä¸æ¥å‘¢ï¼ŸğŸ˜’</p>
<p>å› ä¸ºæˆ‘ä»¬æœ‰<strong>æŠ€æœ¯è‡ªè´Ÿ</strong>ã€‚</p>
<p>ä½œä¸ºå·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬æ½œæ„è¯†é‡Œè§‰å¾—ï¼šæ‰¿è®¤è¿™ä¸ªéœ€æ±‚åšä¸äº†ï¼ˆæˆ–è€…åšä¸å¥½ï¼‰ï¼Œæ˜¯å› ä¸ºæˆ‘æŠ€æœ¯ä¸è¡Œã€‚</p>
<p><strong>äº§å“ç»ç†è¦äº”å½©æ–‘æ–“çš„é»‘ï¼Œæˆ‘å°±å¾—ç»™ä»–åšå‡ºæ¥ï¼</strong></p>
<p><strong>äº§å“ç»ç†è¦åœ¨è¿™ä¸ªé¡µé¢è·‘3Dåœ°çƒï¼Œæˆ‘å°±å¾—å»å­¦Three.jsï¼</strong></p>
<p>æˆ‘ä»¬è¯•å›¾ç”¨æŠ€æœ¯å»å¼¥è¡¥äº§å“é€»è¾‘ä¸Šçš„æ‡’æƒ°ï¼ï¼ˆéå¸¸æœ‰è§¦æ„ŸğŸ˜–ï¼‰</p>
<p><strong>å› ä¸ºäº§å“ç»ç†æ‡’å¾—æ€è€ƒä¿¡æ¯çš„å±‚çº§</strong> ï¼Œæ‰€ä»¥ä»–æŠŠæ‰€æœ‰ä¿¡æ¯ä¸€è‚¡è„‘æ‰”ç»™å‰ç«¯ï¼Œè®©ä½ å»ææ‡’åŠ è½½ã€‚</p>
<p><strong>æŠ€æœ¯ä¸æ˜¯ä¸‡èƒ½çš„ã€‚</strong></p>
<p>æµè§ˆå™¨çš„æ¸²æŸ“èƒ½åŠ›æ˜¯æœ‰ä¸Šé™çš„ï¼ŒJSçš„ä¸»çº¿ç¨‹æ˜¯å•æ ¸çš„ï¼Œç§»åŠ¨ç«¯çš„ç”µé‡æ˜¯æœ‰é™çš„ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œ<strong>ç”¨æˆ·çš„æ³¨æ„åŠ›æ˜¯æå…¶æœ‰é™çš„ã€‚</strong></p>
<p>å½“ä½ å‘ç°ä½ éœ€è¦ç”¨æå…¶å¤æ‚çš„æ–°æŠ€æœ¯æ‰èƒ½å‹‰å¼ºè®©ä¸€ä¸ªé¡µé¢è·‘èµ·æ¥çš„æ—¶å€™</p>
<p><strong>è¯·åœä¸‹æ¥ï¼</strong></p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e59f0ebbf74847d88d4027a09418a1b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRXJwYW5PbWVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764129309&amp;x-signature=7r54IrvUz9ES%2FEdXo5WWtd%2Bo%2Bl8%3D" alt="stOpStopstopstOpstOp.gif" loading="lazy"/></p>
<p>è¿™æ—¶å€™ï¼Œé—®é¢˜çš„æ ¹æºé€šå¸¸ä¸åœ¨ä»£ç é‡Œï¼Œè€Œå¯èƒ½æ˜¯åœ¨ <strong>PRDï¼ˆéœ€æ±‚æ–‡æ¡£ï¼‰</strong> é‡Œã€‚</p>
<hr/>
<h4 data-id="heading-3"><strong>è¯´äº†é‚£ä¹ˆå¤šï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</strong></h4>
<p>ä¸‹æ¬¡ï¼Œå½“ä½ å†é¢å¯¹ä¸€ä¸ªå¯¼è‡´å¡é¡¿çš„éœ€æ±‚æ—¶ï¼Œåˆ«æ€¥ç€æ‰“å¼€<code>Profiler</code>åˆ†ææ€§èƒ½ã€‚</p>
<p>è¯·è¯•ç€åšä»¥ä¸‹å‡ æ­¥ï¼š</p>
<p><strong>æˆ‘ä»¬çœŸçš„éœ€è¦åœ¨å‰ç«¯å¤„ç†10ä¸‡æ¡æ•°æ®å—ï¼Ÿèƒ½ä¸èƒ½åœ¨åç«¯èšåˆå¥½ï¼Œåªç»™æˆ‘è¿”å›ç»“æœï¼Ÿ</strong></p>
<p><strong>è¿™ä¸ªå›¾è¡¨çœŸçš„éœ€è¦å®æ—¶åˆ·æ–°å—ï¼Ÿç”¨æˆ·çœŸçš„èƒ½çœ‹æ¸…1æ¯«ç§’çš„å˜åŒ–å—ï¼Ÿæ”¹æˆ5ç§’åˆ·æ–°ä¸€æ¬¡è¡Œä¸è¡Œï¼Ÿ</strong></p>
<p><strong>åœ¨è¿™ä¸ªå¼¹çª—é‡Œå¡ä¸ªå®Œæ•´åœ°å›¾å¤ªå¡äº†ã€‚èƒ½ä¸èƒ½æ”¹æˆï¼šç‚¹å‡»ç¼©ç•¥å›¾ï¼Œè·³è½¬åˆ°ä¸“é—¨çš„åœ°å›¾é¡µé¢ï¼Ÿ</strong></p>
<p>ä½ è¦å‘Šè¯‰äº§å“ç»ç†ï¼š <strong>æ€§èƒ½æœ¬èº«ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªäº§å“åŠŸèƒ½ã€‚</strong></p>
<p>å¦‚æœä¸ºäº†å¡ä¸‹æ›´å¤šçš„åŠŸèƒ½ï¼Œç‰ºç‰²äº†æµç•…åº¦è¿™ä¸ªæœ€æ ¸å¿ƒçš„åŠŸèƒ½ï¼Œé‚£æ˜¯ä¸¢äº†è¥¿ç“œæ¡èŠéº»ã€‚</p>
<hr/>
<p>æœ€å¥½çš„ä»£ç ï¼Œæ˜¯ <strong>æ²¡æœ‰ä»£ç ï¼ˆNo Codeï¼‰</strong>ã€‚</p>
<p>åŒç†ï¼Œæœ€å¥½çš„æ€§èƒ½ä¼˜åŒ–ï¼Œæ˜¯<strong>æ²¡æœ‰éœ€æ±‚</strong>ã€‚</p>
<p>ä½œä¸ºé«˜çº§å·¥ç¨‹å¸ˆï¼Œä½ çš„ä»·å€¼ä¸ä»…ä»…ä½“ç°åœ¨ä½ ä¼šå†™<code>Virtual List</code>ï¼Œæ›´ä½“ç°åœ¨ä½ æ•¢ä¸æ•¢åœ¨éœ€æ±‚è¯„å®¡ä¼šä¸Šï¼Œæ‹ç€æ¡Œå­è¯´ï¼š</p>
<p><strong>è¿™ä¸ªè®¾è®¡æ€ä¹ˆè¿™ä¹ˆåäººç±»ğŸ˜ ï¼æˆ‘ä»¬èƒ½ä¸èƒ½æ¢ä¸ªæ›´å¥½çš„æ–¹å¼ï¼ŸğŸ¤·â€â™‚ï¸</strong></p>
<p>åˆ«å†ç»™å±å±±ğŸ’©é›•èŠ±äº†ã€‚æŠŠé‚£åº§å±±æ¨äº†ï¼Œæ‰æ˜¯çœŸæ­£çš„ä¼˜åŒ–ã€‚</p>
<p>å…³äºè¿™ä¸ªè§‚ç‚¹ä½ ä»¬æ€ä¹ˆçœ‹ï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-157 Apache Kylin å…¨é¢æŒ‡å—ï¼šMOLAP æ¶æ„ã€Hive/Kafka å®æˆ˜ä¸å®æ—¶ OLAP è½åœ°]]></title>    <link>https://juejin.cn/post/7573980331755044890</link>    <guid>https://juejin.cn/post/7573980331755044890</guid>    <pubDate>2025-11-19T03:00:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573980331755044890" data-draft-id="7573972055268851750" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-157 Apache Kylin å…¨é¢æŒ‡å—ï¼šMOLAP æ¶æ„ã€Hive/Kafka å®æˆ˜ä¸å®æ—¶ OLAP è½åœ°"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,Apache Kylin"/> <meta itemprop="datePublished" content="2025-11-19T03:00:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-157 Apache Kylin å…¨é¢æŒ‡å—ï¼šMOLAP æ¶æ„ã€Hive/Kafka å®æˆ˜ä¸å®æ—¶ OLAP è½åœ°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T03:00:30.000Z" title="Wed Nov 19 2025 03:00:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šæµ·é‡æ˜ç»†ï¼ˆç™¾ TB/åƒäº¿çº§ï¼‰ã€é«˜å¹¶å‘ SQL åˆ†æï¼Œè¦æ±‚ç§’çº§å“åº”ä¸å¯è§†åŒ–æ¥å…¥ã€‚</li>
<li>ç»“è®ºï¼šKylin ä»¥é¢„è®¡ç®— Cube/Cuboid + HBase å­˜å‚¨ï¼Œå®ç° MOLAP åŠ é€Ÿï¼›å®æ—¶èƒ½åŠ›å–å†³äºæ¨¡å‹ä¸æ„å»ºé“¾è·¯ã€‚</li>
<li>äº§å‡ºï¼šä¸€å¥—ç‰ˆæœ¬/ç»„ä»¶é€‰æ‹©çŸ©é˜µ + å¸¸è§æ•…éšœé€ŸæŸ¥å¡ï¼Œå¸®åŠ©å·¥ç¨‹åŒ–è½åœ°ä¸é—®é¢˜å®šä½ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc2cd66d70c4435a929156441143e7da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126030&amp;x-signature=VyMyHOfjwcy3zZRMp6JoSykuKlI%3D" alt="å¤§æ•°æ®-157 Apache Kylin å…¨é¢æŒ‡å—ï¼šMOLAP æ¶æ„ã€Hive/Kafka å®æˆ˜ä¸å®æ—¶ OLAP è½åœ°" loading="lazy"/></p>
<h2 data-id="heading-1">ç‰ˆæœ¬çŸ©é˜µ</h2>









































<table><thead><tr><th>æ¨¡å—/èƒ½åŠ›</th><th>å·²éªŒè¯è¯´æ˜</th></tr></thead><tbody><tr><td>æ•°æ®æº</td><td>æ‰¹ï¼šHiveï¼›æµï¼šKafkaï¼ˆV1.5èµ·å¼•å…¥ï¼ŒV2.4æ”¯æŒä¸Hiveç»´è¡¨JOINï¼‰</td></tr><tr><td>è®¡ç®—/æ„å»ºå¼•æ“</td><td>æ—©æœŸMapReduceï¼›åç»­æ”¯æŒSparkï¼›æ–‡æ¡£ä¸­äº¦æåŠFlinkèƒ½åŠ›ï¼ˆä»¥å®é™…éƒ¨ç½²ä¸ºå‡†ï¼‰</td></tr><tr><td>å­˜å‚¨å¼•æ“</td><td>HBaseæŒä¹…åŒ–Cubeï¼›ä¾èµ–RowKeyè®¾è®¡ä¸åˆ—ç°‡å¸ƒå±€ä¼˜åŒ–</td></tr><tr><td>æ¨¡å‹</td><td>æ˜Ÿå‹/é›ªèŠ±ï¼ˆV2.0èµ·ï¼‰ï¼›ç»´åº¦å‰ªæä¸Cuboidé€‰æ‹©å½±å“å­˜å‚¨ä¸æŸ¥è¯¢å‘½ä¸­ç‡</td></tr><tr><td>æŸ¥è¯¢æ¥å£</td><td>SQLï¼ˆCalciteè§£æï¼‰ï¼›JDBC/ODBC/RESTï¼Œå¯¹æ¥BIï¼ˆZeppelinã€Tableauç­‰ï¼‰</td></tr><tr><td>å®æ—¶/è¿‘å®æ—¶</td><td>V1.6å¼•å…¥NRTï¼›V3.0æ ‡æ³¨Real-time OLAPï¼Œå»¶è¿Ÿä¸é“¾è·¯/èšåˆç­–ç•¥ç›¸å…³</td></tr><tr><td>æ„å»ºç­–ç•¥</td><td>æ”¯æŒå…¨é‡+åŸºäºæ—¶é—´åˆ†åŒºçš„å¢é‡æ„å»ºï¼›æ”¯æŒåˆå¹¶ä¸åˆ·æ–°</td></tr><tr><td>è·¯ç”±å‘½ä¸­</td><td>æŸ¥è¯¢å¼•æ“å°†é€»è¾‘è®¡åˆ’è·¯ç”±è‡³å‘½ä¸­çš„Cuboidï¼›æœªå‘½ä¸­å¯èƒ½å›è½æˆ–æ€§èƒ½ä¸‹é™</td></tr></tbody></table>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed6c26ecf66f49178337c3e6edf027cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126030&amp;x-signature=juKwgWqQSmo1nOTOckEPsad9gjk%3D" alt="Apache Kylin" loading="lazy"/></p>
<h2 data-id="heading-2">èƒŒæ™¯å†å²</h2>
<p>Apache Kylinæ˜¯ä¸€æ¬¾å¼€æºçš„åˆ†å¸ƒå¼åˆ†æå¼•æ“ï¼Œä¸“é—¨ç”¨äºå¤„ç†è¶…å¤§è§„æ¨¡æ•°æ®é›†çš„å¤šç»´åœ¨çº¿åˆ†æå¤„ç†(MOLAP)ã€‚è¯¥æŠ€æœ¯æœ€åˆç”±eBayä¸­å›½ç ”å‘ä¸­å¿ƒçš„å·¥ç¨‹å¸ˆå›¢é˜Ÿäº2013å¹´å¼€å‘ï¼Œæ—¨åœ¨è§£å†³eBayæ—¥ç›Šå¢é•¿çš„æµ·é‡æ•°æ®åˆ†æéœ€æ±‚ã€‚</p>
<p>2014å¹´10æœˆï¼ŒeBayæ­£å¼å°†Kyliné¡¹ç›®æèµ ç»™Apacheè½¯ä»¶åŸºé‡‘ä¼šï¼Œä½¿å…¶æˆä¸ºApacheå­µåŒ–å™¨é¡¹ç›®ã€‚ç»è¿‡ä¸€å¹´å¤šçš„å­µåŒ–è¿‡ç¨‹ï¼ŒKylinåœ¨2015å¹´11æœˆæˆåŠŸæ¯•ä¸šï¼Œæ™‹å‡ä¸ºApacheé¡¶çº§é¡¹ç›®(Top-Level Project)ã€‚è¿™ä¸ªé‡Œç¨‹ç¢‘å¼çš„æˆå°±ä½¿å¾—Apache Kylinæˆä¸ºé¦–ä¸ªç”±ä¸­å›½äººä¸»å¯¼å¹¶æˆåŠŸæ™‹å‡ä¸ºApacheé¡¶çº§é¡¹ç›®çš„å¼€æºå¤§æ•°æ®æŠ€æœ¯ã€‚</p>
<p>åœ¨æŠ€æœ¯å‘å±•è¿‡ç¨‹ä¸­ï¼ŒApache Kylinçš„æ ¸å¿ƒå¼€å‘å›¢é˜Ÿäº2016å¹´åˆ›ç«‹äº†Kyligenceå…¬å¸ï¼ˆå…¨ç§°Kylin Intelligenceï¼‰ã€‚è¿™å®¶åˆåˆ›ä¼ä¸šè·å¾—äº†æ¥è‡ªçº¢ç‚¹åˆ›æŠ•ã€å®½å¸¦èµ„æœ¬ç­‰çŸ¥åæŠ•èµ„æœºæ„çš„æ•°åƒä¸‡ç¾å…ƒèèµ„ï¼Œä¸“æ³¨äºå•†ä¸šåŒ–çš„ä¼ä¸šçº§Kylinè§£å†³æ–¹æ¡ˆçš„å¼€å‘å’ŒæœåŠ¡ã€‚</p>
<p>å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒApache Kylinè¿™ä¸ªåå­—æ¥æºäºä¸­å›½å¤ä»£ç¥è¯ä¸­çš„"éº’éºŸ"ç¥å…½ï¼Œè±¡å¾ç€ç¥¥ç‘å’Œæ™ºæ…§ã€‚è¿™ä¸ªå‘½åä½“ç°äº†ä¸­å›½å¼€å‘è€…å¯¹ä¼ ç»Ÿæ–‡åŒ–çš„ä¼ æ‰¿ï¼Œä¹Ÿä»£è¡¨äº†é¡¹ç›®å›¢é˜Ÿå¯¹å¤§æ•°æ®åˆ†ææŠ€æœ¯çš„ç¾å¥½æ„¿æ™¯ã€‚</p>
<h2 data-id="heading-3">å‘å±•å†ç¨‹</h2>
<ul>
<li>2014å¹´Kylinè¯ç”Ÿï¼Œæ”¯æŒHiveæ‰¹æ•°æ®æºï¼Œä»æµ·é‡å†å²æ•°æ®æŒ–æ˜ä»·å€¼</li>
<li>2015å¹´V1.5 é¦–å…ˆæ”¯æŒKafkaæ•°æ®æºï¼Œé‡‡ç”¨å•æœºå¾®æ‰¹æ¬¡å¤„ç†æ„å»º</li>
<li>2016å¹´V1.6å‘å¸ƒå®æ—¶ï¼ˆNRT Streamingï¼‰ï¼Œä½¿ç”¨Hadoopå¾®æ‰¹æ¬¡æ¶ˆè´¹æµæ•°æ®</li>
<li>2017å¹´V2.0æ”¯æŒé›ªèŠ±æ¨¡å‹å’ŒSparkå¼•æ“</li>
<li>eBayå›¢é˜Ÿå¼€å§‹å°è¯• real-time</li>
<li>2018å¹´V2.4æ”¯æŒKafkaæµæ•°æ®ä¸Hiveç»´åº¦è¡¨JOIN</li>
<li>eBayå¼€æºreal-time OLAP å®ç°</li>
<li>2019å¹´Q1ï¼Œç»è¿‡ç¤¾åŒºReviewå’Œå®Œå–„ï¼Œåˆå¹¶Master</li>
<li>2019å¹´Q4ï¼ŒV3.0å‘å¸ƒReal-time OLAPï¼Œå®ç°ç§’çº§æ•°æ®å‡†å¤‡å»¶è¿Ÿ</li>
</ul>
<p>Kylinæä¾›å¤šç»´æ•°æ®åˆ†æï¼ˆMOLAPï¼‰çš„ç§’çº§å“åº”ï¼Œç›®å‰å›½å†…å¾ˆå¤šå…¬å¸éƒ½åœ¨ä½¿ç”¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/48181c4b71b0404b9e57766645e058cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126030&amp;x-signature=pz6X6fL3FLAMZxmE7jToEBkbDuo%3D" alt="MapReduce Spark Flink Hadoop HBase" loading="lazy"/></p>
<h2 data-id="heading-4">é¡¹ç›®ç‰¹ç‚¹</h2>
<ul>
<li>æ•°æ®æºå’Œæ¨¡å‹ï¼šä¸»è¦æ”¯æŒHiveã€Kafka</li>
<li>æ„å»ºå¼•æ“ï¼šæ—©èµ·æ”¯æŒMapReduceè®¡ç®—å¼•æ“ï¼Œæ–°ç‰ˆæœ¬æ”¯æŒSparkã€Flinkè®¡ç®—å¼•æ“ã€‚é™¤äº†å…¨é‡æ„å»ºå¤–ï¼Œå¯¹åŸºäºæ—¶é—´çš„åˆ†åŒºç‰¹æ€§ï¼Œæ”¯æŒå¢é‡æ„å»ºã€‚</li>
<li>å­˜å‚¨å¼•æ“ï¼šæ„å»ºå¥½çš„Cubeä»¥Key-Valueçš„å½¢å¼å­˜å‚¨åœ¨HBaseä¸­ï¼Œé€šè¿‡ä¼˜åŒ–RowKeyåŠ é€ŸæŸ¥è¯¢ã€‚æ¯ä¸€ç§ç»´åº¦çš„æ’åˆ—ç»„åˆè®¡ç®—ç»“æœè¢«ä¿å­˜ä¸ºä¸€ä¸ªç‰©åŒ–è§†å›¾ï¼Œå«Cuboid</li>
<li>ä¼˜åŒ–ç®—æ³•ï¼šCubeæœ¬èº«å°±æ˜¯ç”¨ç©ºé—´æ¢æ—¶é—´ï¼Œä¹Ÿä¼šæ ¹æ®ç®—æ³•ï¼Œå‰ªæä¼˜åŒ–æ‰ä¸€äº›å¤šä½™çš„Cubeidï¼Œå¯»æ±‚å¹³è¡¡</li>
<li>è®¿é—®æ¥å£ï¼šæ”¯æŒæ ‡å‡†SQLæŸ¥è¯¢ï¼Œå¯ä»¥å¯¹æ¥Zeppelinã€Tableauç­‰BIå·¥å…·ï¼ŒSQLé€šè¿‡æŸ¥è¯¢å¼•æ“ï¼Œå¯ä»¥è¢«è·¯ç”±åˆ°å¯¹åº”çš„Cuboidä¸Šã€‚</li>
</ul>
<h2 data-id="heading-5">åº”ç”¨åœºæ™¯</h2>
<p>ç‰¹ç‚¹ï¼šKylinåœ¨äºšç§’å†…è¿”å›æµ·é‡æ•°æ®çš„æŸ¥è¯¢ç»“æœ</p>
<p>Kylinçš„å…¸å‹åº”ç”¨åœºæ™¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>å·¨å¤§çš„æ•°æ®é‡ï¼Œå•ä¸ªæ•°æ®æºè¡¨åƒäº¿çº§åˆ«ï¼Œä¸”å•ä¸ªæ•°æ®æºè¾¾åˆ°ç™¾TBçº§åˆ«</li>
<li>å·¨å¤§çš„æŸ¥è¯¢å‹åŠ›ï¼ˆæŸ¥è¯¢çš„é«˜å¹¶å‘ï¼‰</li>
<li>æŸ¥è¯¢çš„å¿«é€Ÿå“åº”</li>
<li>ä¸‹æ¸¸è¾ƒçµæ´»çš„æŸ¥è¯¢æ–¹å¼ï¼Œéœ€æ”¯æŒå¸¦æœ‰å¤æ‚æ¡ä»¶çš„SQLæŸ¥è¯¢</li>
</ul>
<p>Kylinçš„æ ¸å¿ƒæ€æƒ³æ˜¯é¢„è®¡ç®—ï¼Œå°†æ•°æ®æŒ‰ç…§æŒ‡å®šçš„ç»´åº¦å’ŒæŒ‡æ ‡ï¼Œé¢„å…ˆè®¡ç®—å‡ºæ‰€æœ‰å¯èƒ½çš„æŸ¥è¯¢ç»“æœï¼Œåˆ©ç”¨ç©ºé—´æ¢æ—¶é—´æ¥åŠ é€Ÿæ¨¡å¼å›ºå®šçš„OLAPæŸ¥è¯¢ã€‚</p>
<h2 data-id="heading-6">åŸºæœ¬æœ¯è¯­</h2>
<h3 data-id="heading-7">æ•°æ®ä»“åº“</h3>
<p>æ•°æ®ä»“åº“æ˜¯ä¸€ç§ä¿¡æ¯ç³»ç»Ÿçš„èµ„æ–™å­˜å‚¨ç†è®ºï¼Œå¼ºè°ƒçš„æ˜¯åˆ©ç”¨æŸäº›ç‰¹æ€§çš„èµ„æ–™å­˜å‚¨æ–¹å¼ï¼Œè®©æ‰€åŒ…å«çš„èµ„æ–™ç‰¹åˆ«æœ‰åˆ©äºåˆ†æå’Œå¤„ç†ï¼Œä»è€Œäº§ç”Ÿæœ‰ä»·å€¼çš„å’¨è¯¢ï¼Œå¹¶å¯ä¾æ­¤åšå‡ºå†³ç­–ã€‚
åˆ©ç”¨æ•°æ®ä»“åº“çš„æ–¹å¼å­˜æ”¾çš„èµ„æ–™ï¼Œå…·æœ‰ä¸€æ—¦å­˜å…¥ï¼Œä¾¿ä¸ä¼šéšæ—¶å‘ç”Ÿå˜åŠ¨çš„ç‰¹æ€§ï¼Œæ­¤å¤–ï¼Œå­˜å…¥çš„èµ„æ–™å¿…åŒ…å«æ—¶é—´å±æ€§ï¼Œé€šè¿‡ä¸€ä¸ªæ•°æ®ä»“åº“ä¸­å«æœ‰å¤§é‡çš„å†å²æ€§èµ„æ–™ï¼Œå¹¶ä¸”å®ƒå¯ä»¥åˆ©ç”¨ç‰¹å®šçš„åˆ†ææ–¹å¼ï¼Œä»å…¶ä¸­å‘æ˜å‡ºç‰¹å®šçš„èµ„è®¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c2f30750449945348f40a77310b76ca4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126030&amp;x-signature=1CabOrWGdmaEgpyAf%2BU%2BvKfOlyY%3D" alt="å¤§æ•°æ®å¤„ç†æ–¹å¼" loading="lazy"/></p>
<h3 data-id="heading-8">OLTP</h3>
<p>è”æœºäº‹åŠ¡å¤„ç†ï¼Œä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“çš„åº”ç”¨ã€‚</p>
<h3 data-id="heading-9">OLAPåˆ†ç±»</h3>
<p>OLAPï¼ˆOnline Analytical Processï¼‰ï¼Œè”æœºåˆ†æå¤„ç†ï¼Œä»¥å¤šç»´åº¦çš„æ–¹å¼åˆ†ææ•°æ®ï¼Œå®ƒæ˜¯å‘ˆç°é›†æˆæ€§å†³ç­–ä¿¡æ¯çš„æ–¹æ³•ï¼Œå¤šç”¨äºæ•°æ®ä»“åº“æˆ–å•†åŠ¡æ™ºèƒ½ã€‚å…¶ä¸»è¦åŠŸèƒ½åœ¨äºæ–¹ä¾¿å¤§è§„æ¨¡æ•°æ®åˆ†æåŠç»Ÿè®¡è®¡ç®—ï¼Œå¯å¯¹å†³ç­–æä¾›å‚è€ƒå’Œæ”¯æŒã€‚ä¸ä¹‹ç›¸åŒºåˆ«çš„æ˜¯è”æœºäº¤æ˜“å¤„ç†ï¼ˆOLTPï¼‰ï¼Œè”æœºäº¤æ˜“å¤„ç†ï¼Œä¾§é‡ä¸åŸºæœ¬çš„ã€æ—¥å¸¸çš„äº‹åŠ¡å¤„ç†ï¼Œä¸»è¦æ˜¯äº‹åŠ¡çš„å¢åˆ æ”¹æŸ¥ã€‚</p>
<p>OLAPçš„æ¦‚å¿µï¼Œåœ¨å®é™…åº”ç”¨ä¸­å­˜åœ¨å¹¿ä¹‰å’Œç‹­ä¹‰ä¸¤ç§ä¸åŒçš„ç†è§£æ–¹å¼ã€‚å¹¿ä¹‰ä¸Šç†è§£ä¸å­—é¢ä¸Šçš„æ„æ€ç›¸åŒï¼Œæ³›æŒ‡ä¸€åˆ‡ä¸ä¼šå¯¹æ•°æ®è¿›è¡Œæ›´æ–°çš„åˆ†æå¤„ç†ã€‚ä½†æ›´å¤šçš„æƒ…å†µä¸‹OLAPè¢«ç†è§£ä¸ºå…¶ç‹­ä¹‰ä¸Šå«ä¹‰ï¼Œå³ä¸å¤šç»´åˆ†æç›¸å…³ï¼ŒåŸºäºç«‹æ–¹ä½“(Cube)è®¡ç®—è€Œè¿›è¡Œçš„åˆ†æã€‚</p>
<p>OLAPæœ‰å¤šç§å®ç°æ–¹æ³•ï¼Œæ ¹æ®å­˜å‚¨æ•°æ®çš„æ–¹å¼ä¸åŒå¯ä»¥åˆ†ä¸ºï¼š</p>
<ul>
<li>ROLAPï¼ˆRelational OLAPï¼‰ï¼Œç»†èŠ‚æ•°æ®ï¼Œèšåˆåçš„æ•°æ®éƒ½ä¿å­˜åœ¨ç±»å…³ç³»å‹æ•°æ®åº“ä¸­ï¼ŒHiveã€SparkSQLå±äºROLAPã€‚</li>
<li>MOLAPï¼ˆMultidimensional OLAPï¼‰ï¼Œäº‹å…ˆå°†æ±‡æ€»æ•°æ®è®¡ç®—å¥½ï¼Œå­˜æ”¾åœ¨è‡ªå·±ç‰¹å®šçš„å¤šç»´æ•°æ®åº“ä¸­ï¼Œç”¨æˆ·çš„OLAPæ“ä½œå¯ä»¥ç›´æ¥æ˜ å°„åˆ°å¤šç»´æ•°æ®åº“çš„è®¿é—®ï¼Œä¸é€šè¿‡SQLè®¿é—®å—ï¼Œå…¶å®æœ¬è´¨ä¸Šæ˜¯ç©ºé—´æ¢æ—¶é—´ã€‚Kylinçš„æœ¬è´¨æ˜¯MOLAP</li>
<li>HOLAPï¼ˆHybrid OLAPï¼‰ï¼Œè¡¨ç¤ºåŸºäºæ··åˆæ•°æ®ç»„ç»‡çš„OLAPå®ç°ï¼ˆHybrid OLAPï¼‰ï¼Œå¦‚ä½å±‚æ˜¯å…³ç³»å‹çš„ï¼Œé«˜å±‚æ˜¯å¤šç»´çŸ©é˜µå‹çš„ï¼Œè¿™ç§æ–¹å¼å…·æœ‰æ›´å¥½çš„çµæ´»æ€§ã€‚</li>
</ul>
<h3 data-id="heading-10">äº‹å®è¡¨å’Œç»´åº¦è¡¨</h3>
<p>äº‹å®è¡¨ï¼ˆFact Tableï¼‰æ˜¯æŒ‡å­˜å‚¨æœ‰äº‹å®è®°å½•çš„è¡¨ï¼Œå¦‚ç³»ç»Ÿæ—¥å¿—ã€é”€å”®è®°å½•ã€ä¼ æ„Ÿå™¨æ•°å€¼ç­‰ï¼Œäº‹å®è¡¨çš„è®°å½•æ˜¯åŠ¨æ€å¢é•¿çš„ï¼Œæ‰€ä»¥å®ƒçš„ä½“ç§¯é€šå¸¸è¿œå¤§äºç»´åº¦è¡¨ã€‚</p>
<p>ç»´åº¦è¡¨ï¼ˆDimension Tableï¼‰æˆ–ç»´åº¦è¡¨ï¼Œä¹Ÿç§°ä¸ºæŸ¥æ‰¾è¡¨ï¼ˆLookUp Tableï¼‰ï¼Œæ˜¯ä¸äº‹å®è¡¨ç›¸åº”çš„ä¸€ç§è¡¨ï¼Œå®ƒä¿å­˜äº†ç»´åº¦çš„å±æ€§å€¼ï¼Œå¯ä»¥è·Ÿäº‹å®è¡¨åšå…³è”ã€‚ç›¸å½“äºäº‹å®è¡¨ä¸Šç»å¸¸é‡å¤çš„å±æ€§æŠ½å–ã€è§„èŒƒå‡ºæ¥ç”¨ä¸€å¼ è¡¨è¿›è¡Œç®¡ç†ã€‚</p>
<p>å¸¸è§çš„ç»´åº¦è¡¨ï¼šæ—¥æœŸè¡¨ï¼ˆå­˜å‚¨æ—¥æœŸå¯¹åº”çš„å¹´æœˆæ—¥ã€å­£åº¦ç­‰ï¼‰ã€åœ°åŒºè¡¨ï¼ˆå›½å®¶ã€çœã€åŸå¸‚ç­‰ï¼‰ã€‚ç»´åº¦è¡¨çš„å˜åŒ–é€šå¸¸ä¸ä¼šå¤ªå¤§ã€‚
ç»´åº¦è¡¨å¯ä»¥å¸¦æ¥å¦‚ä¸‹çš„å¥½å¤„ï¼š</p>
<ul>
<li>ç¼©å°äº†äº‹å®è¡¨çš„å¤§å°</li>
<li>ä¾¿äºç»´åº¦çš„ç®¡ç†å’Œç»´æŠ¤ï¼Œå¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹ç»´åº¦çš„å±æ€§ï¼Œä¸å¿…å¯¹äº‹å®è¡¨çš„å¤§é‡è®°å½•è¿›è¡Œæ”¹åŠ¨</li>
<li>ç»´åº¦è¡¨å¯ä»¥å¤šä¸ªäº‹å®è¡¨é‡ç”¨</li>
</ul>
<h3 data-id="heading-11">ç»´åº¦å’Œåº¦é‡</h3>
<pre><code class="hljs language-shell" lang="shell">userid,2020-10-01 09:00:00, produceid,shopid,orderid,299
</code></pre>
<p>ç»´åº¦æ˜¯æŒ‡å®¡è§†æ•°æ®çš„è§’åº¦ï¼Œå®ƒé€šå¸¸æ˜¯æ•°æ®è®°å½•çš„ä¸€ä¸ªå±æ€§ï¼Œä¾‹å¦‚ï¼šæ—¶é—´ã€åœ°ç‚¹ç­‰
åº¦é‡å°±æ˜¯è¢«èšåˆçš„ç»Ÿè®¡å€¼ï¼Œä¹Ÿå°±æ˜¯èšåˆè¿ç®—çš„ç»“æœï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªæ•°å€¼ï¼Œå¦‚æ€»é”€å”®é¢ã€ä¸åŒçš„ç”¨æˆ·æ•°ç­‰ã€‚</p>
<p>åˆ†æäººå‘˜å¾€å¾€è¦ç»“åˆå¹²ä¸ªç»´åº¦æ¥å®¡æŸ¥åº¦é‡å€¼ï¼Œä»¥ä¾¿åœ¨å…¶ä¸­æ‰¾åˆ°å˜åŒ–è§„å¾‹ã€‚åœ¨ä¸€ä¸ªSQLæŸ¥è¯¢ä¸­ã€‚GROUP BYçš„å±æ€§é€šå¸¸å°±æ˜¯ç»´åº¦ï¼Œè€Œæ‰€è®¡ç®—çš„å€¼åˆ™æ˜¯åº¦é‡ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> 
  part_dt, 
  lstg_site_id, 
  <span class="hljs-built_in">sum</span>(price) <span class="hljs-keyword">as</span> total_selled, 
  <span class="hljs-built_in">count</span>(<span class="hljs-keyword">DISTINCT</span> seller_id) <span class="hljs-keyword">as</span> sellers
<span class="hljs-keyword">FROM</span>
  kylin_sales
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> part_dt, lstg_site_id;
</code></pre>
<p>ä»¥ä¸ŠæŸ¥è¯¢ä¸­ï¼Œpart_dtã€lstg_site_idæ˜¯ç»´åº¦ã€sum(price)ã€countï¼ˆdistanct seller_idï¼‰æ˜¯åº¦é‡ã€‚</p>
<h3 data-id="heading-12">æ˜Ÿå‹&amp;é›ªèŠ±æ¨¡å‹</h3>
<p>æ˜Ÿå‹æ¨¡å‹ï¼ˆStar Schemaï¼‰æ˜¯æ•°æ®ä»“åº“ç»´åº¦å»ºæ¨¡ä¸­å¸¸ç”¨çš„æ•°æ®æ¨¡å‹ä¹‹ä¸€ã€‚å®ƒçš„ç‰¹ç‚¹æ˜¯ä¸€å¼ äº‹å®è¡¨ï¼Œä»¥åŠä¸€åˆ°å¤šä¸ªç»´åº¦è¡¨ï¼Œäº‹å®è¡¨ä¸ç»´åº¦è¡¨é€šè¿‡ä¸»å¤–é”®ç›¸å…³è”ï¼Œç»´åº¦è¡¨ä¹‹é—´æ²¡æœ‰å…³è”ï¼Œå°±åƒéœ€è¦å°æ˜Ÿå‹å›´ç»•åœ¨ä¸€é¢—æ’æ˜Ÿçš„å‘¨å›´ï¼Œæ‰€ä»¥å«æ˜Ÿå‹æ¨¡å‹ã€‚
å¦ä¸€ç§å¸¸ç”¨çš„å«é›ªèŠ±æ¨¡å‹ï¼ˆSnowFlake Schemaï¼‰ï¼Œå°±æ˜¯å°†æ˜Ÿå‹æ¨¡å‹ä¸­çš„æŸäº›ç»´åº¦è¡¨æŠ½å–æˆæ›´ç»†ç²’åº¦çš„ç»´è¡¨ï¼Œç„¶åè®©ç»´è¡¨ä¹‹é—´ä¹Ÿè¿›è¡Œå…³è”ï¼Œè¿™ç§å½¢çŠ¶é…·ä¼¼é›ªèŠ±ï¼Œæ‰€ä»¥å«åšé›ªèŠ±æ¨¡å‹ã€‚</p>
<h3 data-id="heading-13">Cubeå’ŒCuboid</h3>
<p>Cubeå³å¤šç»´ç«‹æ–¹ä½“ï¼Œä¹Ÿå«æ•°æ®ç«‹æ–¹ä½“ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/314ccec69bf04727a205257f67929e19~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126030&amp;x-signature=YZjhbe0mvVb3f6UmL97WrgXwmks%3D" alt="Kylin çš„å¤„ç†æ€è·¯" loading="lazy"/></p>
<p>è¿™ä¸ªç”±ä¸‰ä¸ªç»´åº¦ï¼ˆç»´åº¦æ•°è¶…è¿‡3ä¸ªï¼Œä¸Šå›¾ä»…ä¸ºäº†æ–¹ä¾¿ç”»å›¾è¡¨è¾¾ï¼‰æ„æˆäº†ä¸€ä¸ªOLAPç«‹æ–¹ä½“ï¼Œç«‹æ–¹ä½“ä¸­åŒ…å«äº†æ»¡è¶³æ¡ä»¶çš„Cellï¼ˆå­ç«‹æ–¹ä½“ï¼‰å€¼ï¼Œè¿™äº›Cellé‡Œé¢åŒ…å«äº†è¦åˆ†æçš„æ•°æ®ï¼Œç§°ä¹‹ä¸ºåº¦é‡å€¼ã€‚</p>
<ul>
<li>ç«‹æ–¹ä½“ï¼šç”±ç»´åº¦æ„å»ºå‡ºæ¥çš„å¤šç»´ç©ºé—´ï¼ŒåŒ…å«äº†æ‰€æœ‰è¦åˆ†æçš„åŸºç¡€æ•°æ®ï¼Œæ‰€æœ‰çš„èšåˆæ•°æ®æ“ä½œéƒ½åœ¨ç«‹æ–¹ä½“ä¸Šè¿›è¡Œ</li>
<li>ç»´åº¦ï¼šè§‚å¯Ÿæ•°æ®çš„è§’åº¦ï¼Œä¸€èˆ¬æ˜¯ä¸€ç»„ç¦»æ•£çš„å€¼ï¼Œå¯¹äºNä¸ªç»´åº¦æ¥è¯´ï¼Œæ‰€æœ‰å¯èƒ½çš„ç»„åˆæœ‰2çš„Næ¬¡æ–¹ä¸ª</li>
<li>åº¦é‡ï¼šå³èšåˆè®¡ç®—çš„ç»“æœï¼Œä¸€èˆ¬æ˜¯è¿ç»­çš„å€¼</li>
<li>Cuboidï¼šç‰¹æŒ‡Kylinä¸­åœ¨æŸä¸€ç§ç»´åº¦ç»„åˆä¸‹æ‰€è®¡ç®—çš„æ•°æ®</li>
<li>äº‹å®è¡¨ä¸­çš„ä¸€ä¸ªå­—æ®µï¼Œè¦ä¹ˆæ˜¯ç»´åº¦ï¼Œè¦ä¹ˆæ˜¯åº¦é‡ï¼ˆå¯ä»¥è¢«èšåˆï¼‰</li>
<li>ç»™å®šä¸€ä¸ªæ•°æ®æ¨¡å‹ï¼Œå¯ä»¥å¯¹å…¶ä¸Šçš„æ‰€æœ‰ç»´åº¦è¿›è¡Œç»„åˆï¼Œå¯¹äºNä¸ªç»´åº¦æ¥è¯´ï¼Œæ‰€æœ‰å¯èƒ½çš„ç»„åˆæœ‰2çš„Næ¬¡æ–¹ä¸ª</li>
<li>Cubeï¼ˆæˆ–ç§°DataCubeï¼‰ï¼Œå³æ•°æ®ç«‹æ–¹ä½“ï¼Œæ˜¯ä¸€ç§å¸¸ç”¨äºæ•°æ®åˆ†æäºç´¢å¼•æŠ€æœ¯ï¼Œå®ƒå¯ä»¥å¯¹åŸå§‹æ•°æ®å»ºç«‹å¤šç»´åº¦ç´¢å¼•ï¼Œå¤§å¤§åŠ å¿«æŸ¥è¯¢æ•ˆç‡ã€‚æ•°æ®ç«‹æ–¹ä½“åªæ˜¯å¤šç»´æ¨¡å‹çš„ä¸€ä¸ªå½¢è±¡çš„è¯´æ³•</li>
<li>Cuboidç‰¹æŒ‡Kylinä¸­åœ¨æŸä¸€ç»´åº¦ç»„åˆä¸‹æ‰€è®¡ç®—çš„æ•°æ®</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49bc6e7196e1432b8951826dc5fa6d21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126030&amp;x-signature=9upj8jAMdW0nHhkYY5Y9BXkoM6Y%3D" alt="ç»„åˆç¤ºæ„å›¾" loading="lazy"/></p>
<h2 data-id="heading-14">æŠ€æœ¯æ¶æ„</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4897febe17dc4142803051d248127ec5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126030&amp;x-signature=DfdUPK6sB4OEtaJ%2BmrMcw03KGFA%3D" alt="Kylinçš„æ•´ä½“æŠ€æœ¯æ¶æ„" loading="lazy"/></p>
<h2 data-id="heading-15">åŸºæœ¬ä»‹ç»</h2>
<p>ApacheKylin ç³»ç»Ÿå¯ä»¥åˆ†ä¸ºï¼š</p>
<ul>
<li>åœ¨çº¿æŸ¥è¯¢</li>
<li>ç¦»çº¿æ„å»º</li>
</ul>
<p>åœ¨çº¿æŸ¥è¯¢æ¨¡å¼ä¸»è¦å¤„äºä¸ŠåŠéƒ¨åˆ†ï¼Œç¦»çº¿æ„å»ºå¤„äºä¸‹åŠéƒ¨åˆ†ã€‚
Kylinçš„æŠ€æœ¯æ¶æ„å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ•°æ®æºä¸»è¦æ˜¯Hadoop Hiveï¼Œæ•°æ®ä»¥å…³ç³»è¡¨çš„å½¢å¼è¾“å…¥ï¼Œä¿å­˜ç€å¾…åˆ†æçš„æ•°æ®ï¼Œæ ¹æ®å…ƒæ•°æ®çš„å®šä¹‰ï¼Œæ„å»ºå¼•æ“ä»æ•°æ®æºæŠ½å–æ•°æ®ï¼Œå¹¶æ„å»ºCube</li>
<li>Kylinå¯ä»¥ä½¿ç”¨MapReduceæˆ–Sparkä½œä¸ºæ„å»ºå¼•æ“ï¼Œæ„å»ºåçš„Cubeä¿å­˜åœ¨å³ä¾§çš„å­˜å‚¨å¼•æ“ä¸­ï¼Œä¸€èˆ¬é€‰ç”¨HBaseä½œä¸ºå­˜å‚¨</li>
<li>å®Œæˆäº†ç¦»çº¿çš„æ„å»ºåï¼Œç”¨æˆ·å¯ä»¥ä»æŸ¥è¯¢ç³»ç»Ÿå‘é€SQLè¿›è¡ŒæŸ¥è¯¢åˆ†æ</li>
<li>Kylinæä¾›äº†å„ç§RestAPIï¼ŒJDBCã€ODBCæ¥å£ã€‚æ— è®ºä»å“ªä¸ªæ¥å£è¿›å…¥ï¼ŒSQLæœ€ç»ˆéƒ½ä¼šæ¥åˆ°RestæœåŠ¡å±‚ï¼Œå†è½¬äº¤ç»™æŸ¥è¯¢å¼•æ“è¿›è¡Œå¤„ç†ã€‚</li>
<li>SQLè¯­å¥æ˜¯åŸºäºæ•°æ®æºçš„å…³ç³»æ¨¡å‹ä¹¦å†™çš„ï¼Œè€Œä¸æ˜¯Cubeï¼ŒKylinåœ¨è®¾è®¡æ—¶ï¼Œåˆ»æ„å¯¹æŸ¥è¯¢ç”¨æˆ·å±è”½äº†Cubeçš„æ¦‚å¿µã€‚åªè¦ç†è§£äº†å…³ç³»æ¨¡å‹å°±å¯ä»¥ä½¿ç”¨Kylinï¼Œæ²¡æœ‰é¢å¤–çš„å­¦ä¹ é—¨æ§›ï¼Œä¼ ç»Ÿçš„SQLåº”ç”¨ä¹Ÿå¾ˆå®¹æ˜“è¿ç§»ã€‚</li>
<li>æŸ¥è¯¢å¼•æ“è§£æSQLï¼Œç”ŸæˆåŸºäºå…³ç³»è¡¨çš„é€»è¾‘æ‰§è¡Œè®¡åˆ’ï¼Œç„¶åå°†å…¶è½¬æ¢ä¸ºåŸºäºCubeçš„ç‰©ç†æ‰§è¡Œè®¡åˆ’ï¼Œæœ€åæŸ¥è¯¢é¢„è®¡ç”Ÿæˆçš„Cubeå¹¶äº§ç”Ÿç»“æœï¼Œæ•´ä¸ªè¿‡ç¨‹ä¸ä¼šè®¿é—®åŸå§‹æ•°æ®æº</li>
</ul>
<h2 data-id="heading-16">ç»„ä»¶åŠŸèƒ½</h2>
<ul>
<li>REST Serverï¼Œæä¾›Resutfulæ¥å£ï¼Œä¾‹å¦‚åˆ›å»ºã€æ„å»ºã€åˆ·æ–°ã€åˆå¹¶ç­‰Cubeç›¸å…³æ“ä½œï¼ŒKylinçš„Projectsã€Tablesç­‰å…ƒæ•°æ®ç®¡ç†ï¼Œç”¨æˆ·è®¿é—®æƒé™æ§åˆ¶ï¼ŒSQLçš„æŸ¥è¯¢ç­‰ã€‚</li>
<li>Query Engineï¼šä½¿ç”¨å¼€æºçš„Apache Calciteæ¡†æ¶å®ç°SQLè§£æï¼Œå¯ä»¥ç†è§£ä¸ºSQLå¼•æ“å±‚</li>
<li>Routingï¼šè´Ÿè´£å°†è§£æSQLç”Ÿæˆçš„æ‰§è¡Œè®¡åˆ’è½¬æ¢æˆCubeç¼“å­˜çš„æŸ¥è¯¢ï¼Œè¿™éƒ¨åˆ†æŸ¥è¯¢æ—¶å¯ä»¥ç§’çº§ç”šè‡³æ¯«ç§’çº§å®Œæˆ</li>
<li>Metadataï¼šKylinä¸­æœ‰å¤§é‡çš„å…ƒæ•°æ®ä¿¡æ¯ï¼ŒåŒ…æ‹¬Cubeçš„å®šä¹‰ã€æ˜Ÿå‹æ¨¡å‹çš„å®šä¹‰ã€Jobå’Œæ‰§è¡ŒJobçš„è¾“å‡ºä¿¡æ¯ã€æ¨¡å‹çš„ç»´åº¦ä¿¡æ¯ç­‰ç­‰ã€‚Kylinçš„å…ƒæ•°æ®å’ŒCubeéƒ½å­˜å‚¨åœ¨HBaseä¸­ï¼Œå­˜å‚¨çš„æ ¼å¼æ˜¯JSONå­—ç¬¦ä¸²</li>
<li>Cube Build  Engineï¼šæ‰€æœ‰çš„æ¨¡å—çš„åŸºç¡€ï¼Œå®ƒä¸»è¦è´Ÿè´£Kyliné¢„è®¡ç®—ä¸­åˆ›å»ºCubeï¼Œåˆ›å»ºçš„è¿‡ç¨‹æ˜¯é¦–å…ˆé€šè¿‡Hiveè¯»å–åŸå§‹æ•°æ®ï¼Œç„¶åé€šè¿‡ä¸€äº›MapReduceæˆ–Sparkè®¡ç®—ç”ŸæˆHTableï¼Œæœ€åå°†æ•°æ®loadåˆ°HBaseè¡¨ä¸­ã€‚</li>
</ul>
<h2 data-id="heading-17">å·¥ä½œåŸç†</h2>
<p>Apache Kylinçš„å·¥ä½œåŸç†æ˜¯å¯¹æ•°æ®æ¨¡å‹åšCubeè®¡ç®—ï¼Œå¹¶åˆ©ç”¨è®¡ç®—çš„ç»“æœåŠ é€ŸæŸ¥è¯¢ï¼Œå…·ä½“çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>æŒ‡å®šæ•°æ®æ¨¡å‹ï¼Œå®šä¹‰ç»´åº¦å’Œåº¦é‡</li>
<li>é¢„è®¡ç®—Cubeï¼Œè®¡ç®—æ‰€æœ‰Cuboidå¹¶ä¿å­˜ä¸ºç‰©åŒ–è§†å›¾ï¼ˆå­˜å‚¨åˆ°HBaseä¸­ï¼‰</li>
<li>æ‰§è¡ŒæŸ¥è¯¢æ—¶ï¼Œè¯»å–Cuboidï¼Œè®¡ç®—å¹¶äº§ç”ŸæŸ¥è¯¢ç»“æœ</li>
</ul>
<p>é«˜æ•ˆOLAPåˆ†æï¼š</p>
<ul>
<li>Kylinçš„æŸ¥è¯¢è¿‡ç¨‹ä¸ä¼šæ‰«æåŸå§‹è®°å½•ï¼Œè€Œæ˜¯é€šè¿‡é¢„è®¡ç®—é¢„å…ˆå®Œæˆè¡¨çš„å…³è”ã€èšåˆç­‰å¤æ‚è¿ç®—</li>
<li>åˆ©ç”¨é¢„è®¡ç®—çš„ç»“æœæ¥æ‰§è¡ŒæŸ¥è¯¢ï¼Œç›¸æ¯”éé¢„è®¡ç®—çš„æŸ¥è¯¢æŠ€æœ¯ï¼Œå…¶é€Ÿåº¦ä¸€èˆ¬è¦å¿«ä¸€åˆ°ä¸¤ä¸ªæ•°é‡çº§ï¼Œåœ¨è¶…å¤§çš„æ•°æ®é›†ä¸Šä¼˜åŠ¿æ›´æ˜æ˜¾</li>
<li>æ•°æ®é›†è¾¾åˆ°åƒäº¿ä¹ƒè‡³ä¸‡äº¿çº§åˆ«æ—¶ï¼ŒKylinçš„é€Ÿåº¦å¯ä»¥è¶…è¶Šå…¶ä»–éé¢„è®¡ç®—æŠ€æœ¯çš„1000å€ä»¥ä¸Š</li>
</ul>
<h2 data-id="heading-18">Kylinç”Ÿæ€</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9fdbd3ad393d4b8d8e13e73ae578759f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764126030&amp;x-signature=KLfDB5thOGMzotVBC2v8m720zE4%3D" alt="Apache Kylin Core" loading="lazy"/></p>
<ul>
<li>Apache Kylinçš„æ ¸å¿ƒï¼šKylinçš„OLAPå¼•æ“ç”±å…ƒæ•°æ®å¼•æ“ã€æŸ¥è¯¢å¼•æ“ã€ä»»åŠ¡å¼•æ“ã€å­˜å‚¨å¼•æ“ç»„æˆã€‚å¦å¤–ï¼Œå®ƒè¿˜æœ‰ä¸€ä¸ªRESTæœåŠ¡å¯¹å¤– æä¾›æŸ¥è¯¢è¯·æ±‚çš„æœåŠ¡</li>
<li>å¯æ‰©å±•æ€§ï¼šæä¾›æ’ä»¶æœºåˆ¶æ”¯æŒé¢å¤–çš„ç‰¹æ€§å’ŒåŠŸèƒ½</li>
<li>ä¸å…¶ä»–ç³»ç»Ÿçš„æ•´åˆï¼šå¯æ•´åˆä»»åŠ¡è°ƒåº¦å™¨ã€ETLå·¥å…·ã€ç›‘æ§åŠå‘Šè­¦ç³»ç»Ÿ</li>
<li>é©±åŠ¨åŒ…ï¼ˆDriversï¼‰ï¼šæä¾›ODBCã€JDBCé©±åŠ¨æ”¯æŒä¸å…¶ä»–å·¥å…·ï¼ˆå¦‚Tableauï¼‰çš„æ•´åˆ</li>
</ul>
<h2 data-id="heading-19">é”™è¯¯é€ŸæŸ¥</h2>



























































<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› </th><th>å®šä½</th><th>ä¿®å¤</th></tr></thead><tbody><tr><td>æ„å»ºä»»åŠ¡é•¿æ—¶é—´å¡ä½/å¤±è´¥</td><td>æºè¡¨å€¾æ–œã€Shuffleå·¨å¤§ã€å­—å…¸ç¼–ç è¿‡å¤§</td><td>æŸ¥çœ‹æ„å»ºJobæ—¥å¿—ä¸StageæŒ‡æ ‡ï¼›æ£€æŸ¥ç»´åº¦åŸºæ•°ä¸å€¾æ–œKey</td><td>è°ƒæ•´åˆ†åŒºä¸å¹¶è¡Œåº¦ï¼›å¯¹é«˜åŸºæ•°ç»´åº¦é™ç»´/è£å‰ªï¼›å¯ç”¨å€¾æ–œå¤„ç†ä¸é¢„èšåˆ</td></tr><tr><td>æŸ¥è¯¢å¶å‘å˜æ…¢/è¶…æ—¶</td><td>Cuboidæœªå‘½ä¸­æˆ–RowKeyè®¾è®¡ä¸ä½³</td><td>å¯ç”¨æŸ¥è¯¢å‰–æï¼›æ£€æŸ¥å‘½ä¸­Cuboidä¸ScanèŒƒå›´</td><td>è¿½åŠ å…³é”®ç»´åº¦ç»„åˆCuboidï¼›é‡æ„RowKeyå‰ç¼€ä¸åˆ—ç°‡ï¼›çƒ­æŸ¥è¯¢å»ºå‰¯æœ¬</td></tr><tr><td>è¿‘å®æ—¶å»¶è¿Ÿæ‹‰é•¿</td><td>Kafkaåˆ†åŒº/æ¶ˆè´¹æ»åï¼Œå¾®æ‰¹é—´éš”ä¸èµ„æºä¸è¶³</td><td>ç›‘æ§æ¶ˆè´¹æ»åã€æ„å»ºé˜Ÿåˆ—ä¸HBaseå†™å…¥é€Ÿç‡</td><td>æå‡å¹¶è¡Œåº¦ä¸Executorèµ„æºï¼›ç¼©çŸ­å¾®æ‰¹ï¼›ä¼˜åŒ–HBaseå†™å…¥ï¼ˆå†™ç¼“å†²/Regionåˆ‡åˆ†ï¼‰</td></tr><tr><td>ç»“æœä¸æ˜ç»†è¡¨ç»Ÿè®¡ä¸ä¸€è‡´</td><td>ç»´åº¦å­—å…¸/æ—¶é—´åˆ†åŒºä¸ä¸€è‡´ã€å»é‡å£å¾„ä¸åŒ</td><td>æŠ½æ ·æ ¡éªŒåˆ†åŒºï¼›æ ¸å¯¹DISTINCT/æ±‡æ€»å£å¾„</td><td>ç»Ÿä¸€å£å¾„ä¸æ—¶åŒºï¼›é‡å»ºå—å½±å“åˆ†åŒºï¼›ä¸ºDISTINCTæŒ‡æ ‡å•ç‹¬å»ºæ¨¡</td></tr><tr><td>æ„å»ºé¢‘ç¹OOMæˆ–RegionTooBusy</td><td>Cuboidè¿‡å¤šã€å•Regionè¿‡çƒ­</td><td>æŸ¥çœ‹Regionçƒ­ç‚¹ä¸å†…å­˜ç»Ÿè®¡</td><td>å‰ªæCuboidï¼›é¢„åˆ†åŒºä¸å‡è¡¡Regionï¼›æå‡RegionServerèµ„æº</td></tr><tr><td>â€œè¡¨æ‰¾ä¸åˆ°/æƒé™æ‹’ç»â€</td><td>å…ƒæ•°æ®æœªåŒæ­¥ã€æƒé™/è¿æ¥ä¸²é”™è¯¯</td><td>æ ¡éªŒMetaStoreã€Kylinå…ƒæ•°æ®ä¸å‡­è¯</td><td>é‡æ–°åŒæ­¥å…ƒæ•°æ®ï¼›ä¿®æ­£æ•°æ®æº/é©±åŠ¨é…ç½®ï¼›æœ€å°æƒé™æ ¡å‡†</td></tr><tr><td>æŸ¥è¯¢å›è½æ˜ç»†å¯¼è‡´æ…¢</td><td>ç»´åº¦è¿‡æ»¤ä¸åœ¨ç´¢å¼•å‰ç¼€ã€ç¼ºå…³é”®ç»„åˆ</td><td>æŸ¥è¯¢è®¡åˆ’åˆ†æå‘½ä¸­ç‡</td><td>æ–°å¢å¸¸ç”¨è¿‡æ»¤ç»´åº¦çš„å‰ç¼€ï¼›è¡¥å……ç»„åˆCuboidï¼›è°ƒåºè¿‡æ»¤æ¡ä»¶</td></tr><tr><td>å¢é‡åˆå¹¶åç»“æœå¼‚å¸¸</td><td>åˆ†åŒºè¾¹ç•Œ/æ°´ä½ç®¡ç†ä¸å½“</td><td>å®¡æ ¸å¢é‡åŒºé—´ä¸åˆå¹¶æ—¥å¿—</td><td>ç»Ÿä¸€åˆ†åŒºæ°´ä½ï¼›å…ˆå°åˆ†åŒºéªŒè¯å†å…¨é‡æ¨å¹¿ï¼›å¿…è¦æ—¶å›æ»šå¹¶å…¨é‡é‡å»º</td></tr></tbody></table>
<h2 data-id="heading-20">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-21">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-127 Qwen2.5-Omni æ·±è§£ï¼šThinker-Talker åŒæ ¸ã€TMRoPE ä¸æµå¼è¯­éŸ³</strong></p>
<h3 data-id="heading-22">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-174 FastFDS ä»å•æœºåˆ°åˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨ï¼šå®æˆ˜ä¸æ¶æ„å–èˆ</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS æ­£åœ¨æ›´æ–°ï¼Œæ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-23">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[QML BorderImageçš„ä½¿ç”¨]]></title>    <link>https://juejin.cn/post/7573931843265183798</link>    <guid>https://juejin.cn/post/7573931843265183798</guid>    <pubDate>2025-11-18T14:25:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573931843265183798" data-draft-id="7573855399717912595" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="QML BorderImageçš„ä½¿ç”¨"/> <meta itemprop="keywords" content="Qt"/> <meta itemprop="datePublished" content="2025-11-18T14:25:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Bugåˆ¶é€ è€…_Guo"/> <meta itemprop="url" content="https://juejin.cn/user/2314891938246970"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            QML BorderImageçš„ä½¿ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2314891938246970/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Bugåˆ¶é€ è€…_Guo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T14:25:44.000Z" title="Tue Nov 18 2025 14:25:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>BorderImage</code>Â æ˜¯ QML ä¸­ä¸€ä¸ªç‰¹æ®Šçš„å›¾åƒå…ƒç´ ï¼Œå®ƒä½¿ç”¨Â <strong>ä¹å®«æ ¼ç¼©æ”¾ï¼ˆ9-patch scalingï¼‰</strong> Â æŠ€æœ¯ï¼Œéå¸¸é€‚åˆåˆ›å»ºå¯ä¼¸ç¼©çš„ç•Œé¢å…ƒç´ è€Œä¸å¤±çœŸã€‚
QTå®˜æ–¹ä»‹ç»ä¼ é€é—¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoc.qt.io%2Farchives%2Fqt-5.15%2Fqml-qtquick-borderimage.html" target="_blank" title="https://doc.qt.io/archives/qt-5.15/qml-qtquick-borderimage.html" ref="nofollow noopener noreferrer">BorderImage QML Type | Qt Quick 5.15.19</a></p>
<h2 data-id="heading-0">ğŸŒŸ æ ¸å¿ƒæ¦‚å¿µ</h2>
<p><code>BorderImage</code>Â å°†å›¾ç‰‡åˆ’åˆ†ä¸º 9 ä¸ªåŒºåŸŸï¼š</p>
<pre><code class="hljs">â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚ 1 â”‚ 2 â”‚ 3 â”‚
â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤
â”‚ 4 â”‚ 5 â”‚ 6 â”‚
â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤
â”‚ 7 â”‚ 8 â”‚ 9 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
</code></pre>
<ul>
<li><strong>è§’åŒºåŸŸï¼ˆ1,3,7,9ï¼‰</strong> ï¼šä¿æŒåŸå§‹å°ºå¯¸ï¼Œä¸ç¼©æ”¾</li>
<li><strong>è¾¹åŒºåŸŸï¼ˆ2,8ï¼‰</strong> ï¼šæ°´å¹³æ–¹å‘ç¼©æ”¾</li>
<li><strong>è¾¹åŒºåŸŸï¼ˆ4,6ï¼‰</strong> ï¼šå‚ç›´æ–¹å‘ç¼©æ”¾</li>
<li><strong>ä¸­å¿ƒåŒºåŸŸï¼ˆ5ï¼‰</strong> ï¼šæ°´å¹³å’Œå‚ç›´éƒ½ç¼©æ”¾</li>
</ul>
<h2 data-id="heading-1">ğŸ“ åŸºæœ¬å±æ€§</h2>






























<table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>border</code></td><td><code>rectangle</code></td><td>å®šä¹‰ä¹å®«æ ¼çš„è¾¹ç•Œå®½åº¦</td></tr><tr><td><code>source</code></td><td><code>url</code></td><td>å›¾åƒæºæ–‡ä»¶è·¯å¾„</td></tr><tr><td><code>horizontalTileMode</code></td><td><code>enum</code></td><td>æ°´å¹³å¹³é“ºæ¨¡å¼</td></tr><tr><td><code>verticalTileMode</code></td><td><code>enum</code></td><td>å‚ç›´å¹³é“ºæ¨¡å¼</td></tr></tbody></table>
<h2 data-id="heading-2">ğŸ¯ å¹³é“ºæ¨¡å¼</h2>





















<table><thead><tr><th>æ¨¡å¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>BorderImage.Stretch</code></td><td>æ‹‰ä¼¸å¡«å……ï¼ˆé»˜è®¤ï¼‰</td></tr><tr><td><code>BorderImage.Repeat</code></td><td>é‡å¤å¹³é“º</td></tr><tr><td><code>BorderImage.Round</code></td><td>æ™ºèƒ½å¹³é“ºï¼Œè°ƒæ•´å°ºå¯¸é€‚é…</td></tr></tbody></table>
<h2 data-id="heading-3">ğŸ’» ä»£ç ç¤ºä¾‹</h2>
<h3 data-id="heading-4">åŸºç¡€ç”¨æ³•ï¼šåˆ›å»ºå¯ä¼¸ç¼©æŒ‰é’®</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">import</span> <span class="hljs-string">QtQuick</span> <span class="hljs-number">2.15</span>
<span class="hljs-string">import</span> <span class="hljs-string">QtQuick.Controls</span> <span class="hljs-number">2.15</span>

<span class="hljs-string">ApplicationWindow</span> {
    <span class="hljs-attr">width:</span> <span class="hljs-number">400</span>
    <span class="hljs-attr">height:</span> <span class="hljs-number">300</span>
    <span class="hljs-attr">visible:</span> <span class="hljs-literal">true</span>

    <span class="hljs-string">BorderImage</span> {
        <span class="hljs-attr">id:</span> <span class="hljs-string">scalableButton</span>
        <span class="hljs-attr">width:</span> <span class="hljs-number">200</span>
        <span class="hljs-attr">height:</span> <span class="hljs-number">60</span>
        <span class="hljs-attr">anchors.centerIn:</span> <span class="hljs-string">parent</span>
        
        <span class="hljs-attr">source:</span> <span class="hljs-string">"images/button_bg.png"</span>
        
        <span class="hljs-string">//</span> <span class="hljs-string">å…³é”®ï¼šå®šä¹‰ä¹å®«æ ¼è¾¹ç•Œ</span>
        <span class="hljs-string">//</span> <span class="hljs-attr">left:</span> <span class="hljs-number">10</span>, <span class="hljs-attr">top:</span> <span class="hljs-number">10</span>, <span class="hljs-attr">right:</span> <span class="hljs-number">10</span>, <span class="hljs-attr">bottom:</span> <span class="hljs-number">10</span>
        <span class="hljs-string">border</span> { 
            <span class="hljs-attr">left:</span> <span class="hljs-number">10</span><span class="hljs-string">;</span> <span class="hljs-attr">top:</span> <span class="hljs-number">10</span><span class="hljs-string">;</span> 
            <span class="hljs-attr">right:</span> <span class="hljs-number">10</span><span class="hljs-string">;</span> <span class="hljs-attr">bottom:</span> <span class="hljs-number">10</span> 
        }

        <span class="hljs-string">//</span> <span class="hljs-string">æ·»åŠ æŒ‰é’®æ–‡æœ¬</span>
        <span class="hljs-string">Text</span> {
            <span class="hljs-attr">text:</span> <span class="hljs-string">"ç‚¹å‡»æˆ‘"</span>
            <span class="hljs-attr">anchors.centerIn:</span> <span class="hljs-string">parent</span>
            <span class="hljs-attr">color:</span> <span class="hljs-string">"white"</span>
            <span class="hljs-attr">font.pixelSize:</span> <span class="hljs-number">16</span>
        }

        <span class="hljs-string">MouseArea</span> {
            <span class="hljs-attr">anchors.fill:</span> <span class="hljs-string">parent</span>
            <span class="hljs-attr">onClicked:</span> <span class="hljs-string">console.log("æŒ‰é’®è¢«ç‚¹å‡»!")</span>
        }
    }
}
</code></pre>
<h3 data-id="heading-5">å¯¹è¯æ¡†èƒŒæ™¯ç¤ºä¾‹</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">BorderImage</span> {
    <span class="hljs-attr">width:</span> <span class="hljs-number">300</span>
    <span class="hljs-attr">height:</span> <span class="hljs-number">200</span>
    <span class="hljs-attr">source:</span> <span class="hljs-string">"images/dialog_bg.png"</span>
    
    <span class="hljs-string">border</span> {
        <span class="hljs-attr">left:</span> <span class="hljs-number">20</span><span class="hljs-string">;</span> <span class="hljs-attr">top:</span> <span class="hljs-number">20</span>
        <span class="hljs-attr">right:</span> <span class="hljs-number">20</span><span class="hljs-string">;</span> <span class="hljs-attr">bottom:</span> <span class="hljs-number">20</span>
    }
    
    <span class="hljs-string">//</span> <span class="hljs-string">å†…å®¹åŒºåŸŸ</span>
    <span class="hljs-string">Column</span> {
        <span class="hljs-string">anchors</span> {
            <span class="hljs-attr">fill:</span> <span class="hljs-string">parent</span>
            <span class="hljs-attr">margins:</span> <span class="hljs-number">30</span>  <span class="hljs-string">//</span> <span class="hljs-string">ç•™å‡ºè¾¹æ¡†åŒºåŸŸ</span>
        }
        <span class="hljs-attr">spacing:</span> <span class="hljs-number">10</span>
        
        <span class="hljs-string">Text</span> {
            <span class="hljs-attr">text:</span> <span class="hljs-string">"è¿™æ˜¯ä¸€ä¸ªå¯¹è¯æ¡†"</span>
            <span class="hljs-attr">font.bold:</span> <span class="hljs-literal">true</span>
            <span class="hljs-attr">font.pixelSize:</span> <span class="hljs-number">18</span>
        }
        
        <span class="hljs-string">Text</span> {
            <span class="hljs-attr">text:</span> <span class="hljs-string">"è¿™æ˜¯å¯¹è¯æ¡†çš„å†…å®¹åŒºåŸŸ..."</span>
            <span class="hljs-attr">font.pixelSize:</span> <span class="hljs-number">14</span>
        }
    }
}
</code></pre>
<h3 data-id="heading-6">è¿›åº¦æ¡èƒŒæ™¯</h3>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">BorderImage</span> {
    id: progressBarBg
    <span class="hljs-attribute">width</span>: <span class="hljs-number">250</span>
    <span class="hljs-attribute">height</span>: <span class="hljs-number">30</span>
    <span class="hljs-attribute">source</span>: <span class="hljs-string">"images/progress_bg.png"</span>
    
    border {
        <span class="hljs-attribute">left</span>: <span class="hljs-number">5</span>; <span class="hljs-attribute">top</span>: <span class="hljs-number">5</span>
        <span class="hljs-attribute">right</span>: <span class="hljs-number">5</span>; <span class="hljs-attribute">bottom</span>: <span class="hljs-number">5</span>
    }
    
    <span class="hljs-comment">// è¿›åº¦å¡«å……</span>
    <span class="hljs-selector-tag">BorderImage</span> {
        id: progressFill
        <span class="hljs-attribute">width</span>: parent.width * <span class="hljs-number">0.7</span>  <span class="hljs-comment">// 70% è¿›åº¦</span>
        <span class="hljs-attribute">height</span>: parent.height
        <span class="hljs-attribute">source</span>: <span class="hljs-string">"images/progress_fill.png"</span>
        
        border {
            <span class="hljs-attribute">left</span>: <span class="hljs-number">3</span>; <span class="hljs-attribute">top</span>: <span class="hljs-number">3</span>
            <span class="hljs-attribute">right</span>: <span class="hljs-number">3</span>; <span class="hljs-attribute">bottom</span>: <span class="hljs-number">3</span>
        }
    }
}
</code></pre>
<h2 data-id="heading-7">âš ï¸ æ³¨æ„äº‹é¡¹</h2>
<ol>
<li><strong>è¾¹ç•Œå€¼è®¾ç½®</strong>ï¼š<code>border</code>Â çš„å€¼åº”è¯¥åŸºäºå›¾ç‰‡çš„å®é™…ç‰¹å¾æ¥è®¾ç½®</li>
<li><strong>å›¾ç‰‡èµ„æº</strong>ï¼šç¡®ä¿ä¹å®«æ ¼å›¾ç‰‡çš„è§’åŒºåŸŸåŒ…å«é‡è¦è§†è§‰å…ƒç´ </li>
<li><strong>æ€§èƒ½è€ƒè™‘</strong>ï¼šå¤æ‚çš„ BorderImage å¯èƒ½ä¼šå½±å“æ¸²æŸ“æ€§èƒ½</li>
<li><strong>èµ„æºè·¯å¾„</strong>ï¼šæ³¨æ„å›¾ç‰‡è·¯å¾„çš„æ­£ç¡®æ€§ï¼Œå¯ä»¥ä½¿ç”¨Â <code>qrc:/</code>Â å‰ç¼€è®¿é—®èµ„æºæ–‡ä»¶</li>
</ol>
<h2 data-id="heading-8">ğŸ†š BorderImage vs Image</h2>






























<table><thead><tr><th>ç‰¹æ€§</th><th>BorderImage</th><th>Image</th></tr></thead><tbody><tr><td>ç¼©æ”¾æ–¹å¼</td><td>ä¹å®«æ ¼æ™ºèƒ½ç¼©æ”¾</td><td>æ•´ä½“ç¼©æ”¾</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>æŒ‰é’®ã€è¾¹æ¡†ã€å¯¹è¯æ¡†</td><td>ç…§ç‰‡ã€å›¾æ ‡</td></tr><tr><td>å¤±çœŸé—®é¢˜</td><td>è¾¹è§’ä¸å¤±çœŸ</td><td>æ•´ä½“æ‹‰ä¼¸å¯èƒ½å¤±çœŸ</td></tr><tr><td>å¤æ‚åº¦</td><td>è¾ƒé«˜</td><td>è¾ƒä½</td></tr></tbody></table>
<p><code>BorderImage</code>Â ç‰¹åˆ«é€‚åˆåˆ›å»ºéœ€è¦ä¿æŒè¾¹è§’ç»†èŠ‚çš„å¯ä¼¸ç¼©UIç»„ä»¶ï¼Œæ˜¯ç°ä»£UIè®¾è®¡ä¸­ä¸å¯æˆ–ç¼ºçš„å·¥å…·ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•ç”¨ GitHub Pages å®Œæˆä¼ä¸šå¾®ä¿¡çš„åŸŸåå½’å±è®¤è¯ï¼Ÿï¼ˆé€‚åˆæ²¡æœ‰æœåŠ¡å™¨çš„å¼€å‘è€…ï¼‰]]></title>    <link>https://juejin.cn/post/7573892573345955892</link>    <guid>https://juejin.cn/post/7573892573345955892</guid>    <pubDate>2025-11-18T15:23:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573892573345955892" data-draft-id="7573904312712249379" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•ç”¨ GitHub Pages å®Œæˆä¼ä¸šå¾®ä¿¡çš„åŸŸåå½’å±è®¤è¯ï¼Ÿï¼ˆé€‚åˆæ²¡æœ‰æœåŠ¡å™¨çš„å¼€å‘è€…ï¼‰"/> <meta itemprop="keywords" content="å¾®ä¿¡"/> <meta itemprop="datePublished" content="2025-11-18T15:23:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="UndefinedLuo"/> <meta itemprop="url" content="https://juejin.cn/user/2893570336367725"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•ç”¨ GitHub Pages å®Œæˆä¼ä¸šå¾®ä¿¡çš„åŸŸåå½’å±è®¤è¯ï¼Ÿï¼ˆé€‚åˆæ²¡æœ‰æœåŠ¡å™¨çš„å¼€å‘è€…ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2893570336367725/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    UndefinedLuo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T15:23:22.000Z" title="Tue Nov 18 2025 15:23:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¯¹æ¥ä¼ä¸šå¾®ä¿¡ç½‘é¡µåº”ç”¨ï¼ˆå¦‚ JS-SDKã€ç½‘é¡µæˆæƒï¼‰æ—¶ï¼Œå¿…é¡»é…ç½®å¯ä¿¡åŸŸåï¼Œå¹¶é€šè¿‡åŸŸåå½’å±è®¤è¯ã€‚<br/>
ä¼ä¸šå¾®ä¿¡è¦æ±‚ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> ä¸‹è½½éªŒè¯æ–‡ä»¶ï¼šWW<span class="hljs-emphasis">_verify_</span>xxxxxx.txt
<span class="hljs-bullet">2.</span> ä¸Šä¼ è‡³åŸŸåæ ¹ç›®å½•ï¼Œå¦‚ï¼š
   https://your-domain.com/WW<span class="hljs-emphasis">_verify_</span>xxxxxx.txt
<span class="hljs-bullet">3.</span> ä¿è¯å¯å¤–ç½‘è®¿é—®
</code></pre>
<p>å¹¶ä¸”è¿˜é™åˆ¶ï¼š</p>
<ul>
<li>ä¸èƒ½ä½¿ç”¨ IP</li>
<li>ä¸èƒ½ä½¿ç”¨çŸ­é“¾</li>
<li>ä¸èƒ½å¸¦ http/https åè®®å¤´</li>
</ul>
<p>å¯¹äºæ²¡æœ‰è´­ä¹°åŸŸåã€æ²¡æœ‰æœåŠ¡å™¨çš„å‰ç«¯åŒå­¦æ¥è¯´ï¼Œå‡ ä¹æ— æ³•è°ƒè¯•ã€‚</p>
<h2 data-id="heading-0">è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ GitHub Pages ä½œä¸ºå…è´¹éªŒè¯åŸŸå</h2>
<p>GitHub Pages æä¾›çš„å…è´¹åŸŸåï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">https:<span class="hljs-comment">//&lt;username&gt;.github.io</span>
</code></pre>
<p>å®Œå…¨ç¬¦åˆä¼ä¸šå¾®ä¿¡çš„éªŒè¯è¦æ±‚ï¼š</p>
<ul>
<li>å…¬å¼€å¯è®¿é—®</li>
<li>é™æ€æ–‡ä»¶å¯ç›´æ¥è®¿é—®</li>
<li>æ˜¯æ­£å¼åŸŸåï¼Œä¸æ˜¯ IP</li>
<li>ä¸éœ€è¦æœåŠ¡å™¨</li>
<li>0 æˆæœ¬</li>
</ul>
<p>å› æ­¤ï¼Œåªéœ€å°†éªŒè¯æ–‡ä»¶æ”¾åˆ° GitHub Pages æ ¹ç›®å½•å³å¯å®ŒæˆéªŒè¯ã€‚</p>
<h2 data-id="heading-1">å®ç°æ­¥éª¤</h2>
<h3 data-id="heading-2">1.åˆ›å»º GitHub Pages ä»“åº“</h3>
<p>ä»“åº“åç§°å¿…é¡»ä¸ºï¼š</p>
<pre><code class="hljs language-lua" lang="lua">&lt;username&gt;.github.<span class="hljs-built_in">io</span>
</code></pre>
<p>ä¾‹å¦‚ GitHub ç”¨æˆ·åä¸º <code>abc</code>ï¼Œä»“åº“ååº”ä¸ºï¼š</p>
<pre><code class="hljs language-lua" lang="lua">abc.github.<span class="hljs-built_in">io</span>
</code></pre>
<p>åˆ›å»ºä»“åº“åï¼Œå®ƒè‡ªåŠ¨å¯¹åº”ç«™ç‚¹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">https:<span class="hljs-comment">//abc.github.io</span>
</code></pre>
<h3 data-id="heading-3">2.ä¸Šä¼ ä¼ä¸šå¾®ä¿¡éªŒè¯æ–‡ä»¶</h3>
<p>å°†ä¼ä¸šå¾®ä¿¡æä¾›çš„ï¼š</p>
<pre><code class="hljs">WW_verify_xxxxxx.txt
</code></pre>
<p>ä¸Šä¼ åˆ°ä»“åº“æ ¹ç›®å½•ï¼š</p>
<pre><code class="hljs language-lua" lang="lua">abc.github.<span class="hljs-built_in">io</span>/
  â””â”€ WW_verify_xxxxxx.txt
</code></pre>
<p>æäº¤å®Œæˆåå³å¯å¼€å§‹éƒ¨ç½²ã€‚</p>
<h3 data-id="heading-4">3.å¯ç”¨ GitHub Pagesï¼ˆæˆ–ç¡®è®¤è‡ªåŠ¨å¯ç”¨ï¼‰</h3>
<p>è¿›å…¥ä»“åº“ï¼š</p>
<ol>
<li>æ‰“å¼€ <strong>Settings</strong></li>
<li>å·¦ä¾§é€‰æ‹© <strong>Pages</strong></li>
<li>æ‰¾åˆ° <strong>Source</strong></li>
<li>ç¡®è®¤è®¾ç½®ä¸ºï¼š</li>
</ol>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">Branch: main</span>
<span class="hljs-section">Folder: / (root)</span>
</code></pre>
<p>ä¿å­˜å GitHub ä¼šè‡ªåŠ¨éƒ¨ç½²ã€‚</p>
<h3 data-id="heading-5">4.æµ‹è¯•æ–‡ä»¶æ˜¯å¦å¯è®¿é—®</h3>
<p>æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">https:<span class="hljs-comment">//abc.github.io/WW_verify_xxxxxx.txt</span>
</code></pre>
<p>å¦‚æœèƒ½æ­£å¸¸æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ â†’ éªŒè¯æ–‡ä»¶å·²ç»å°±ç»ªã€‚</p>
<h3 data-id="heading-6">5.åœ¨ä¼ä¸šå¾®ä¿¡åå°å¡«å†™å¯ä¿¡åŸŸå</h3>
<p>åœ¨åå°æ·»åŠ å¯ä¿¡åŸŸåæ—¶å¡«å†™ï¼š</p>
<pre><code class="hljs language-lua" lang="lua">abc.github.<span class="hljs-built_in">io</span>
</code></pre>
<p>æäº¤åå³å¯é€šè¿‡éªŒè¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[uni-app D3å®æˆ˜ï¼ˆå°å…”ä»™ï¼‰]]></title>    <link>https://juejin.cn/post/7573888000020611135</link>    <guid>https://juejin.cn/post/7573888000020611135</guid>    <pubDate>2025-11-18T15:50:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573888000020611135" data-draft-id="7573888000020185151" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="uni-app D3å®æˆ˜ï¼ˆå°å…”ä»™ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-18T15:50:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çˆ±æ³¡è„šçš„é¸¡è…¿"/> <meta itemprop="url" content="https://juejin.cn/user/4466663535419179"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            uni-app D3å®æˆ˜ï¼ˆå°å…”ä»™ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4466663535419179/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çˆ±æ³¡è„šçš„é¸¡è…¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T15:50:51.000Z" title="Tue Nov 18 2025 15:50:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1.pages.jsonå’ŒtabBaræ¡ˆä¾‹</h2>
<h3 data-id="heading-1">1.1 æ–‡ä»¶ä»‹ç»</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9cee169919374276b2f2936f31192de0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5rOh6ISa55qE6bih6IW_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764085850&amp;x-signature=Pb%2FLqoIZCxMVjRz%2FRxuwFzGsd7k%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2">1.2 åšä¸€ä¸‹pages.jsonçš„è·¯ç”±å’Œtabbaré…ç½®ï¼š</h3>
<pre><code class="hljs language-perl" lang="perl">{
  <span class="hljs-string">"pages"</span>: [ <span class="hljs-regexp">//pag</span>esæ•°ç»„ä¸­ç¬¬ä¸€é¡¹è¡¨ç¤ºåº”ç”¨å¯åŠ¨é¡µï¼Œå‚è€ƒï¼šhttps:<span class="hljs-regexp">//uniapp</span>.dcloud.io/collocation/pages
    {
      <span class="hljs-string">"path"</span>: <span class="hljs-string">"pages/index/index"</span>,
      <span class="hljs-string">"style"</span>: {
        <span class="hljs-string">"navigationBarTitleText"</span>: <span class="hljs-string">"é¦–é¡µ"</span>
      }
    },
    {
      <span class="hljs-string">"path"</span>: <span class="hljs-string">"pages/my/my"</span>,
      <span class="hljs-string">"style"</span>: {
        <span class="hljs-string">"navigationBarTitleText"</span>: <span class="hljs-string">"æˆ‘çš„"</span>
      }
    }
  ],
  <span class="hljs-regexp">//</span> å…¨å±€ä¿®æ”¹
  <span class="hljs-string">"globalStyle"</span>: {
    <span class="hljs-string">"navigationBarTextStyle"</span>: <span class="hljs-string">"white"</span>,
    <span class="hljs-string">"navigationBarTitleText"</span>: <span class="hljs-string">"uni-app"</span>,
    <span class="hljs-string">"navigationBarBackgroundColor"</span>: <span class="hljs-string">"#1bac9b"</span>,
    <span class="hljs-string">"backgroundColor"</span>: <span class="hljs-string">"#F8F8F8"</span>
  },
  <span class="hljs-string">"tabBar"</span>: {
    <span class="hljs-regexp">//</span> ä¿®æ”¹é€‰ä¸­æ—¶å€™çš„é¢œè‰²
    <span class="hljs-string">"selectedColor"</span>: <span class="hljs-string">"#1bac9b"</span>,
    <span class="hljs-string">"list"</span>: [{
        <span class="hljs-string">"pagePath"</span>: <span class="hljs-string">"pages/index/index"</span>,
        <span class="hljs-string">"text"</span>: <span class="hljs-string">"é¦–é¡µ"</span>,
        <span class="hljs-string">"iconPath"</span>: <span class="hljs-string">"/static/tabs/home_default.png"</span>,
        <span class="hljs-string">"selectedIconPath"</span>: <span class="hljs-string">"/static/tabs/home_selected.png"</span>
      },
      {
        <span class="hljs-string">"pagePath"</span>: <span class="hljs-string">"pages/my/my"</span>,
        <span class="hljs-string">"text"</span>: <span class="hljs-string">"æˆ‘çš„"</span>,
        <span class="hljs-string">"iconPath"</span>: <span class="hljs-string">"/static/tabs/user_default.png"</span>,
        <span class="hljs-string">"selectedIconPath"</span>: <span class="hljs-string">"/static/tabs/user_selected.png"</span>
      }
    ]
  },
  <span class="hljs-string">"uniIdRouter"</span>: {}
}
</code></pre>
<p>æ•ˆæœï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/876041fd6b694746b638fbbf6a8da00a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5rOh6ISa55qE6bih6IW_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764085850&amp;x-signature=naMMNoYkpmcT%2FB5%2FCDIZAJf1jKc%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3">1.3æ€»ç»“å’Œæ³¨æ„äº‹é¡¹ï¼š</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10ca8f01045f49cb93889ed9f373b7c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5rOh6ISa55qE6bih6IW_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764085850&amp;x-signature=5lGNk3ZOvUd9X7YM5QgINI9%2FWxk%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-4">2. uni-appå’ŒåŸç”Ÿå°ç¨‹åºå¼€å‘çš„åŒºåˆ«</h2>
<h3 data-id="heading-5">2.1 å±æ€§ç»‘å®šçš„ä¹¦å†™åŒºåˆ«</h3>
<h3 data-id="heading-6">2.2 äº‹ä»¶ç»‘å®šçš„åŒºåˆ«</h3>
<h3 data-id="heading-7">2.3 æ”¯æŒVueå¸¸ç”¨æŒ‡ä»¤</h3>
<p>å¤§è‡´ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/513d019c20b247abb43b60680f76ae1a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5rOh6ISa55qE6bih6IW_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764085850&amp;x-signature=4xss1VxrHwqTr%2FctSKerrXTpHH4%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å…·èº«æ™ºèƒ½çš„â€œä»»ç£äºŒè„‰â€ï¼šç”¨ Rust ndarray æ‰“é€šæ•°æ®é—­ç¯çš„æœ€åä¸€å…¬é‡Œ]]></title>    <link>https://juejin.cn/post/7573892650814963727</link>    <guid>https://juejin.cn/post/7573892650814963727</guid>    <pubDate>2025-11-18T14:31:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573892650814963727" data-draft-id="7573904312712085539" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å…·èº«æ™ºèƒ½çš„â€œä»»ç£äºŒè„‰â€ï¼šç”¨ Rust ndarray æ‰“é€šæ•°æ®é—­ç¯çš„æœ€åä¸€å…¬é‡Œ"/> <meta itemprop="keywords" content="Rust,äººå·¥æ™ºèƒ½,ç¬”è®°"/> <meta itemprop="datePublished" content="2025-11-18T14:31:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å—ä¹‹ä»¥è’™"/> <meta itemprop="url" content="https://juejin.cn/user/4186572019737624"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å…·èº«æ™ºèƒ½çš„â€œä»»ç£äºŒè„‰â€ï¼šç”¨ Rust ndarray æ‰“é€šæ•°æ®é—­ç¯çš„æœ€åä¸€å…¬é‡Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4186572019737624/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å—ä¹‹ä»¥è’™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T14:31:38.000Z" title="Tue Nov 18 2025 14:31:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å…·èº«æ™ºèƒ½çš„â€œä»»ç£äºŒè„‰â€ï¼šç”¨ Rust ndarray æ‰“é€šæ•°æ®é—­ç¯çš„æœ€åä¸€å…¬é‡Œ</h2>
<p>åœ¨å…·èº«æ™ºèƒ½ç³»ç»Ÿä¸­ï¼Œæœºå™¨äººéœ€è¦ä»¥æé«˜çš„é¢‘ç‡å®Œæˆ <strong>æ„ŸçŸ¥ â†’ å†³ç­– â†’ æ‰§è¡Œ</strong> çš„é—­ç¯ã€‚</p>
<p>é«˜æ€§èƒ½çš„ <strong>Rust æ ¸å¿ƒ</strong> è´Ÿè´£ç‰©ç†æ¨¡æ‹Ÿã€ä¼ æ„Ÿå™¨èåˆå’Œç¡¬å®æ—¶æ§åˆ¶ï¼›è€Œçµæ´»çš„ <strong>Python ç”Ÿæ€</strong> åˆ™è´Ÿè´£æ·±åº¦å­¦ä¹ æ¨¡å‹çš„è®­ç»ƒä¸æ¨ç†ã€‚</p>
<p><strong>çœŸæ­£çš„å·¥ç¨‹æŒ‘æˆ˜ï¼Œåœ¨äºå¦‚ä½•è¿æ¥è¿™ä¸¤è€…ã€‚</strong> ä»»ä½•ä½æ•ˆçš„æ•°æ®ä¼ è¾“ï¼ˆå¦‚ JSONã€HTTP åºåˆ—åŒ–ï¼‰éƒ½ä¼šå¼•å…¥å»¶è¿Ÿï¼Œå¯¼è‡´ç³»ç»Ÿå¤±å»å®æ—¶æ€§ï¼Œç”šè‡³å¼•å‘ç‰©ç†ç³»ç»Ÿæ•…éšœã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°†èšç„¦äº <strong>æ•°æ®æµçš„é—­ç¯</strong> å’Œ <strong>ç”Ÿæ€é›†æˆ</strong>ï¼Œç³»ç»Ÿè®²è§£å¦‚ä½•åˆ©ç”¨ <code>ndarray</code> å®ç°ï¼š</p>
<ol>
<li><strong>é«˜æ€§èƒ½æ•°æ®æ¸…æ´—</strong>ï¼šå¸ƒå°”æ©ç ï¼ˆSIMD å‘é‡åŒ–ï¼‰ã€‚</li>
<li><strong>æ•°æ®æŒä¹…åŒ–</strong>ï¼šä¸ Python ç”Ÿæ€å…¼å®¹çš„ <code>.npy</code> æ ¼å¼ã€‚</li>
<li><strong>é›¶æ‹·è´æ¡¥æ¥</strong>ï¼šåˆ©ç”¨ PyO3 å®ç° Rust <code>ndarray</code> ä¸ Python <code>NumPy</code> ä¹‹é—´çš„å†…å­˜å…±äº«ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-1">ä¸€ã€å…·èº«æ™ºèƒ½æ•°æ®é—­ç¯ä¸ Rust ç”Ÿæ€çš„å¤©ç„¶å¥‘åˆ</h3>
<p>å…·èº«æ™ºèƒ½ç³»ç»Ÿå¯¹ <strong>å®æ—¶æ€§</strong> å’Œ <strong>å¯é æ€§</strong> çš„æè‡´è¦æ±‚ï¼Œæ˜¯è½¯ä»¶å·¥ç¨‹é¢†åŸŸçš„ â€œéš¾åº¦å¤©èŠ±æ¿â€ã€‚</p>

























<table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">å…·èº«æ™ºèƒ½è¦æ±‚</th><th align="left">Rust/ndarray è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td align="left"><strong>å®æ—¶æ€§</strong></td><td align="left">æ¯«ç§’çº§åé¦ˆï¼Œé¿å… GC æš‚åœ</td><td align="left">Rust æ—  GCï¼Œ<code>ndarray</code> å‘é‡åŒ–æ“ä½œï¼ˆSIMDï¼‰åŠ é€Ÿ</td></tr><tr><td align="left"><strong>å¯é æ€§</strong></td><td align="left">ç‰©ç†ç³»ç»Ÿå®‰å…¨ï¼Œå†…å­˜é”™è¯¯é›¶å®¹å¿</td><td align="left">Rust æ‰€æœ‰æƒæ¨¡å‹ï¼Œæœç»å†…å­˜æ³„æ¼å’Œç¼“å†²åŒºæº¢å‡º</td></tr><tr><td align="left"><strong>ç”Ÿæ€å…¼å®¹</strong></td><td align="left">éœ€è¦ä¸ Python AI åº“æ— ç¼å¯¹æ¥</td><td align="left">PyO3/NumPy é›¶æ‹·è´æŠ€æœ¯ï¼Œå®ç°æ•°æ®é«˜æ•ˆäº¤æ¢</td></tr></tbody></table>
<p><code>ndarray</code> ä½œä¸º Rust ç§‘å­¦è®¡ç®—çš„æ ¸å¿ƒåº“ï¼Œä¸ºçŠ¶æ€å»ºæ¨¡æä¾›äº†ç»Ÿä¸€ã€é«˜æ•ˆçš„å¤šç»´æ•°ç»„æ¥å£ï¼Œæ˜¯è¿æ¥åº•å±‚ç¡¬ä»¶æ•°æ®å’Œä¸Šå±‚ AI æ¨¡å‹çš„ç†æƒ³è½½ä½“ã€‚</p>
<hr/>
<h3 data-id="heading-2">äºŒã€é«˜æ€§èƒ½çŠ¶æ€è¿‡æ»¤ï¼šå¸ƒå°”æ©ç ï¼ˆBoolean Maskingï¼‰</h3>
<p>æœºå™¨äººä¼ æ„Ÿå™¨è¯»æ•°æ€»æ˜¯ä¼´éšç€å™ªå£°ã€å¼‚å¸¸å€¼ï¼ˆOutliersï¼‰æˆ–æ— æ•ˆæ•°æ®ï¼ˆå¦‚ NaNï¼‰ã€‚åœ¨çŠ¶æ€çŸ©é˜µä¸­å¿«é€Ÿã€æ‰¹é‡åœ°ç­›é€‰æˆ–ä¿®æ”¹æ•°æ®ï¼Œæ˜¯æ§åˆ¶å¾ªç¯çš„é¦–è¦ä»»åŠ¡ã€‚</p>
<p>ä½¿ç”¨ <code>ndarray</code> çš„å¸ƒå°”æ©ç ï¼Œå¯ä»¥å°†æ¡ä»¶åˆ¤æ–­è½¬åŒ–ä¸º <strong>å‘é‡åŒ–æ“ä½œ</strong>ï¼Œç”±åº•å±‚ SIMD æŒ‡ä»¤åŠ é€Ÿï¼Œå®ç°æ¯«ç§’çº§çš„çŠ¶æ€æ¸…æ´—ã€‚</p>
<h4 data-id="heading-3">é™é€Ÿä¸å¼‚å¸¸è·ç¦»å»å™ª</h4>
<p>å‡è®¾çŠ¶æ€çŸ©é˜µä¸º <code>[x, y, velocity, distance]</code>ï¼Œéœ€è¦è¿›è¡Œï¼š<strong>é™é€Ÿï¼ˆå°† <code>velocity &gt; 5.0</code> é‡ç½®ä¸º <code>5.0</code>ï¼‰</strong> å’Œ <strong>å»å™ªï¼ˆå°† <code>distance &lt; 0.1</code> æ ‡è®°ä¸º <code>NaN</code>ï¼‰</strong>ã€‚</p>
<p><strong>Cargo.toml é…ç½®</strong>:</p>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[dependencies]</span>
<span class="hljs-attr">ndarray</span> = { version = <span class="hljs-string">"0.16.0"</span>, features = [<span class="hljs-string">"rayon"</span>] }
<span class="hljs-attr">ndarray-linalg</span> = <span class="hljs-string">"0.18.0"</span>
<span class="hljs-attr">rand</span> = <span class="hljs-string">"0.8.5"</span>
<span class="hljs-attr">ndarray-rand</span> = <span class="hljs-string">"0.15.0"</span>
</code></pre>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> ndarray::{Array2, Axis};
<span class="hljs-keyword">use</span> ndarray_rand::RandomExt;
<span class="hljs-keyword">use</span> rand::distributions::Uniform;

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-comment">// æ¨¡æ‹Ÿ 5 ä¸ªæœºå™¨äººçš„çŠ¶æ€ [x, y, velocity, distance]</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">states</span>: Array2&lt;<span class="hljs-type">f64</span>&gt; = Array2::<span class="hljs-title function_ invoke__">random</span>((<span class="hljs-number">5</span>, <span class="hljs-number">4</span>), Uniform::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-number">0.0</span>, <span class="hljs-number">8.0</span>));
    <span class="hljs-comment">// å¼•å…¥å¼‚å¸¸å€¼</span>
    states[[<span class="hljs-number">1</span>, <span class="hljs-number">3</span>]] = <span class="hljs-number">0.005</span>; <span class="hljs-comment">// å¼‚å¸¸è·ç¦»</span>
    states[[<span class="hljs-number">3</span>, <span class="hljs-number">2</span>]] = <span class="hljs-number">12.0</span>; <span class="hljs-comment">// è¶…é«˜é€Ÿåº¦</span>

    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"--- åˆå§‹çŠ¶æ€ (éƒ¨åˆ†å¼‚å¸¸å€¼) ---\n{:.2}\n"</span>, states);

    <span class="hljs-comment">// 1. **å‘é‡åŒ–é™é€Ÿ (ä½¿ç”¨ map_inplace)**</span>
    <span class="hljs-comment">// `map_inplace` ç›´æ¥åœ¨é€Ÿåº¦åˆ—ï¼ˆç´¢å¼• 2ï¼‰ä¸Šé«˜æ•ˆä¿®æ”¹ï¼Œé¿å…äº†æ…¢é€Ÿå¾ªç¯ã€‚</span>
    states.<span class="hljs-title function_ invoke__">column_mut</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_ invoke__">map_inplace</span>(|velocity| {
        <span class="hljs-keyword">if</span> *velocity &gt; <span class="hljs-number">5.0</span> {
            *velocity = <span class="hljs-number">5.0</span>;
        }
    });

    <span class="hljs-comment">// 2. **å¸ƒå°”æ©ç å»å™ª (ä½¿ç”¨ zip è¿­ä»£)**</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">distance_col</span> = states.<span class="hljs-title function_ invoke__">column</span>(<span class="hljs-number">3</span>);

    <span class="hljs-comment">// åˆ›å»º 1D å¸ƒå°” Maskï¼šæ£€æŸ¥è·ç¦» &lt; 0.1</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">low_distance_mask</span> = distance_col.<span class="hljs-title function_ invoke__">mapv</span>(|d| d &lt; <span class="hljs-number">0.1</span>);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"--- å¸ƒå°”Mask ---\n{:}\n"</span>, low_distance_mask);

    <span class="hljs-comment">// ä½¿ç”¨ zip ç»“åˆæ©ç ä¿®æ”¹æ•´è¡Œæ•°æ®</span>
    states
        .<span class="hljs-title function_ invoke__">axis_iter_mut</span>(<span class="hljs-title function_ invoke__">Axis</span>(<span class="hljs-number">0</span>))
        .<span class="hljs-title function_ invoke__">zip</span>(&amp;low_distance_mask)
        .<span class="hljs-title function_ invoke__">for_each</span>(|(<span class="hljs-keyword">mut</span> row, is_low)| {
            <span class="hljs-keyword">if</span> *is_low {
                row[<span class="hljs-number">3</span>] = <span class="hljs-type">f64</span>::NAN; <span class="hljs-comment">// å°†æ— æ•ˆè·ç¦»æ ‡è®°ä¸º NaN (Not a Number)</span>
            }
        });

    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"--- æ¸…ç†åçš„çŠ¶æ€ (é€Ÿåº¦é™å¹…ï¼Œè·ç¦»å»å™ª) ---\n{:.2}\n"</span>, states);
}

</code></pre>
<p><strong>è¾“å‡º</strong>:</p>
<pre><code class="hljs language-shell" lang="shell">--- åˆå§‹çŠ¶æ€ (éƒ¨åˆ†å¼‚å¸¸å€¼) ---
[[2.24, 4.90, 0.06, 5.36],
 [3.44, 3.89, 2.44, 0.01],
 [6.24, 6.76, 1.55, 0.14],
 [3.30, 3.28, 12.00, 7.10],
 [4.94, 3.39, 1.95, 7.10]]

--- å¸ƒå°”Mask ---
[false, true, false, false, false]

--- æ¸…ç†åçš„çŠ¶æ€ (é€Ÿåº¦é™å¹…ï¼Œè·ç¦»å»å™ª) ---
[[2.24, 4.90, 0.06, 5.36],
 [3.44, 3.89, 2.44, NaN],
 [6.24, 6.76, 1.55, 0.14],
 [3.30, 3.28, 5.00, 7.10],
 [4.94, 3.39, 1.95, 7.10]]
</code></pre>
<p><strong>å·¥ç¨‹ä»·å€¼ï¼š</strong> è¿™ç§æœºåˆ¶ç¡®ä¿äº†é€å…¥æ§åˆ¶ç®—æ³•æˆ– AI æ¨¡å‹çš„åŸå§‹çŠ¶æ€æ•°æ®æ˜¯å¹²å‡€ã€æœ‰æ•ˆçš„ï¼Œé¿å…äº†å› ä¼ æ„Ÿå™¨å™ªå£°å¯¼è‡´çš„ç³»ç»Ÿè¯¯åˆ¤ã€‚</p>
<hr/>
<h3 data-id="heading-4">ä¸‰ã€æ•°æ®æŒä¹…åŒ–ï¼šä¸ Python äº’é€šçš„ <code>.npy</code> æ ¼å¼</h3>
<p>åœ¨å…·èº«æ™ºèƒ½çš„å¼€å‘æµç¨‹ä¸­ï¼Œæˆ‘ä»¬æ€»éœ€è¦å°† Rust æ¨¡æ‹Ÿå™¨æˆ–æœºå™¨äººå®æ—¶é‡‡é›†çš„æ•°æ®ä¿å­˜ä¸‹æ¥ï¼Œç”¨äºç¦»çº¿è°ƒè¯•ã€å¤ç›˜å’Œå¼ºåŒ–å­¦ä¹ çš„è®­ç»ƒã€‚</p>
<p><strong>NumPy çš„ <code>.npy</code> æ ¼å¼</strong> æ˜¯è·¨è¯­è¨€æ•°æ®æŒä¹…åŒ–çš„æœ€ä½³é€‰æ‹©ã€‚å®ƒä»¥ç´§å‡‘çš„äºŒè¿›åˆ¶æ ¼å¼å­˜å‚¨æ•°æ®ï¼Œä¿ç•™äº†æ•°æ®çš„ <code>dtype</code> å’Œ <code>shape</code>ï¼Œæ˜¯ Python AI ç”Ÿæ€çš„â€œæ¯è¯­â€ã€‚</p>
<h4 data-id="heading-5">è¯»å†™ç¯å¢ƒçŠ¶æ€å¿«ç…§</h4>
<p>ä½¿ç”¨ <code>ndarray-npy</code> åº“æ¥å®ç° Rust <code>ndarray</code> ä¸ <code>.npy</code> æ–‡ä»¶æ ¼å¼çš„æ— ç¼è½¬æ¢ã€‚</p>
<p><strong>Cargo.toml é…ç½®</strong>:</p>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[dependencies]</span>
<span class="hljs-attr">ndarray</span> = { version = <span class="hljs-string">"0.16.0"</span> }
<span class="hljs-attr">ndarray-rand</span> = <span class="hljs-string">"0.15.0"</span>
<span class="hljs-attr">ndarray-npy</span>= <span class="hljs-string">"0.9.1"</span>
</code></pre>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> ndarray::{Array3, s};
<span class="hljs-keyword">use</span> ndarray_npy::{read_npy, write_npy};
<span class="hljs-keyword">use</span> std::error::Error;

<span class="hljs-comment">// æ¨¡æ‹Ÿç¯å¢ƒåœ°å›¾ï¼š10x10 ç½‘æ ¼ï¼Œ3 ä¸ªé€šé“ (éšœç¢ç‰©, æœºå™¨äººä½ç½®, ç›®æ ‡ç‚¹)</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">save_environment_state</span>(filepath: &amp;<span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;(), <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> Error&gt;&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">environment</span> = Array3::&lt;<span class="hljs-type">f32</span>&gt;::<span class="hljs-title function_ invoke__">zeros</span>((<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">3</span>));

    <span class="hljs-comment">// æ ‡è®°éšœç¢ç‰© (é€šé“ 0)</span>
    environment.<span class="hljs-title function_ invoke__">slice_mut</span>(s![<span class="hljs-number">2</span>..<span class="hljs-number">4</span>, <span class="hljs-number">3</span>..<span class="hljs-number">7</span>, <span class="hljs-number">0</span>]).<span class="hljs-title function_ invoke__">fill</span>(<span class="hljs-number">1.0</span>);

    <span class="hljs-comment">// println!("å¾…å†™å…¥æ•°æ®ï¼š\n{:?}", environment);</span>

    <span class="hljs-title function_ invoke__">write_npy</span>(filepath, &amp;environment)?;

    <span class="hljs-built_in">println!</span>(
        <span class="hljs-string">"æˆåŠŸå°†ç¯å¢ƒçŠ¶æ€ (Shape: {:?}) å†™å…¥åˆ°: {}"</span>,
        environment.<span class="hljs-title function_ invoke__">shape</span>(),
        filepath
    );
    <span class="hljs-title function_ invoke__">Ok</span>(())
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;(), <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> Error&gt;&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">filepath</span> = <span class="hljs-string">"robot_environment.npy"</span>;
    <span class="hljs-title function_ invoke__">save_environment_state</span>(filepath)?;

    <span class="hljs-comment">// Python ä¾§åªéœ€ä¸€è¡Œä»£ç å³å¯åŠ è½½ï¼Œä¿è¯äº†æ•°æ®çš„å¯å¤ç°æ€§ï¼š</span>
    <span class="hljs-comment">/*
    import numpy as np
    world = np.load('robot_environment.npy')
    print(world.shape) # è¾“å‡º (10, 10, 3)
    */</span>

    <span class="hljs-comment">// ä¹Ÿå¯ä»¥åœ¨ Rust ä¸­è¯»å›éªŒè¯</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">loaded_env</span>: Array3&lt;<span class="hljs-type">f32</span>&gt; = <span class="hljs-title function_ invoke__">read_npy</span>(filepath)?;
    <span class="hljs-comment">// println!("è¯»å–æ•°æ®ï¼š\n{:?}", loaded_env);</span>
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"æˆåŠŸä»æ–‡ä»¶åŠ è½½æ•°ç»„"</span>);

    <span class="hljs-comment">// std::fs::remove_file(filepath)?; // æ¸…ç†æ–‡ä»¶</span>
    <span class="hljs-title function_ invoke__">Ok</span>(())
}

</code></pre>
<p><strong>è¾“å‡º</strong>:</p>
<pre><code class="hljs language-shell" lang="shell">æˆåŠŸå°†ç¯å¢ƒçŠ¶æ€ (Shape: [10, 10, 3]) å†™å…¥åˆ°: robot_environment.npy
æˆåŠŸä»æ–‡ä»¶åŠ è½½æ•°ç»„
</code></pre>
<hr/>
<h3 data-id="heading-6">å››ã€ç”Ÿæ€æ¡¥æ¥ï¼šPyO3 ä¸ NumPy çš„é›¶æ‹·è´ä¼ è¾“</h3>
<p>åœ¨å®æ—¶æ§åˆ¶ä¸­ï¼Œæ–‡ä»¶ I/O ä»ç„¶å¤ªæ…¢ã€‚æˆ‘ä»¬éœ€è¦ Rust å’Œ Python ç›´æ¥å…±äº«å†…å­˜ï¼Œå®ç° <strong>é›¶æ‹·è´ (Zero-Copy)</strong> æ•°æ®äº¤æ¢ã€‚</p>
<p><strong>PyO3</strong> å’Œ <strong><code>rust-numpy</code></strong> åº“é€šè¿‡æä¾› <strong><code>PyReadwriteArray</code></strong> ç­‰ç»“æ„ä½“ï¼Œå®Œç¾åœ°è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p>
<h4 data-id="heading-7">Rust æ¨¡å—åŠ é€ŸçŠ¶æ€é¢„å¤„ç†</h4>
<p>å°† Rust ç¼–è¯‘æˆ Python æ¨¡å—ï¼ŒPython ä¼ é€’ä¸€ä¸ª NumPy æ•°ç»„ç»™ Rustï¼ŒRust åœ¨<strong>åŸåœ°</strong>å¯¹è¿™ä¸ªæ•°ç»„è¿›è¡Œä¿®æ”¹ï¼Œæ€§èƒ½æå‡ç«‹ç«¿è§å½±ã€‚</p>
<p><strong>Maturin</strong> æ˜¯ <strong>PyO3</strong> ç”Ÿæ€çš„ <strong>ã€Œå®˜æ–¹æ¨èæ„å»º / æ‰“åŒ…å·¥å…·ã€</strong>ï¼Œä¸“é—¨ç”¨æ¥æŠŠ Rust ä»£ç ï¼ˆé€šè¿‡ PyO3 ç»‘å®š Pythonï¼‰ç¼–è¯‘æˆ Python å¯ç›´æ¥è°ƒç”¨çš„æ‰©å±•æ¨¡å—ï¼ˆå¦‚ <code>.so/.pyd</code> æ–‡ä»¶ï¼‰ï¼Œå¹¶æ‰“åŒ…æˆæ ‡å‡†çš„ Python åˆ†å‘æ ¼å¼ï¼ˆ<code>wheel/sdist</code>ï¼‰ï¼Œæ”¯æŒè·¨å¹³å°ã€ä¸€é”®å‘å¸ƒåˆ° PyPIï¼Œå½»åº•ç®€åŒ–äº†ã€ŒRust + PyO3ã€å¼€å‘ Python æ‰©å±•çš„æµç¨‹ã€‚</p>
<p>å®‰è£… <code>maturin</code> å·¥å…·, ä½¿ç”¨ python 2.x æˆ–è€… 3.x éƒ½å¯ä»¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">python -m venv .<span class="hljs-built_in">env</span>
<span class="hljs-built_in">source</span> .<span class="hljs-built_in">env</span>/bin/activate
pip install maturin
</code></pre>
<p><strong>Cargo.toml é…ç½®</strong>:</p>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[lib]</span>
<span class="hljs-attr">name</span> = <span class="hljs-string">"robot_accelerator"</span>
<span class="hljs-attr">crate-type</span> = [<span class="hljs-string">"cdylib"</span>]

<span class="hljs-section">[dependencies]</span>
<span class="hljs-attr">pyo3</span> = { version = <span class="hljs-string">"0.21"</span>, features = [<span class="hljs-string">"extension-module"</span>] }
<span class="hljs-attr">numpy</span> = <span class="hljs-string">"0.21"</span>
<span class="hljs-attr">ndarray</span> = <span class="hljs-string">"0.15"</span>
</code></pre>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> ndarray::ArrayViewMut2;
<span class="hljs-keyword">use</span> numpy::PyReadwriteArray2;
<span class="hljs-keyword">use</span> pyo3::prelude::*;

<span class="hljs-comment">/// æ¥æ”¶ä¸€ä¸ª NumPy æ•°ç»„ï¼ˆå¯è¯»å†™ï¼‰ï¼Œåœ¨ Rust ä¸­å¯¹å®ƒè¿›è¡Œå°±åœ°ï¼ˆin-placeï¼‰ä¿®æ”¹ã€‚</span>
<span class="hljs-meta">#[pyfunction]</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">fast_state_update</span>(<span class="hljs-keyword">mut</span> states: PyReadwriteArray2&lt;<span class="hljs-type">f64</span>&gt;) <span class="hljs-punctuation">-&gt;</span> PyResult&lt;()&gt; {
    <span class="hljs-comment">// 1. é›¶æ‹·è´ï¼šå°† NumPy æ•°ç»„è½¬æ¢ä¸º `ndarray` çš„å¯å˜è§†å›¾ (ArrayViewMut)</span>
    <span class="hljs-comment">// `unsafe` å—æ˜¯ PyO3/NumPy è½¬æ¢çš„æƒ¯ä¾‹ï¼Œç¡®ä¿äº†æ€§èƒ½å’Œé›¶æ‹·è´ã€‚</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">states_view</span>: ArrayViewMut2&lt;<span class="hljs-type">f64</span>&gt; = states.<span class="hljs-title function_ invoke__">as_array_mut</span>();

    <span class="hljs-comment">// 2. æ‰§è¡Œé«˜æ€§èƒ½çš„ Rust é¢„å¤„ç†é€»è¾‘</span>

    <span class="hljs-comment">// å‡è®¾ç¬¬ 0 åˆ—æ˜¯ X åæ ‡ï¼Œç¬¬ 3 åˆ—æ˜¯ Vx (é€Ÿåº¦)</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">dt</span> = <span class="hljs-number">0.01</span>;

    <span class="hljs-comment">// x_next = x_current + vx * dt (ä¸€æ­¥çŠ¶æ€ç§¯åˆ†)</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">vx_col</span> = states_view.<span class="hljs-title function_ invoke__">column</span>(<span class="hljs-number">3</span>).<span class="hljs-title function_ invoke__">to_owned</span>();
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">x_col</span> = states_view.<span class="hljs-title function_ invoke__">column_mut</span>(<span class="hljs-number">0</span>);
    x_col.<span class="hljs-title function_ invoke__">assign</span>(&amp;(&amp;x_col + &amp;(vx_col * dt)));

    <span class="hljs-comment">// 3. æ–½åŠ é‡åŠ›ä¿®æ­£ï¼šå‡è®¾ç¬¬ 1 åˆ—æ˜¯ Y åæ ‡ï¼Œå‡å» 9.8 * dt</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">y_col</span> = states_view.<span class="hljs-title function_ invoke__">column_mut</span>(<span class="hljs-number">1</span>);
    y_col -= <span class="hljs-number">9.8</span> * dt;

    <span class="hljs-comment">// å‡½æ•°è¿”å›åï¼ŒPython ä¾§çš„åŸå§‹ NumPy æ•°ç»„å·²è¢«é›¶å¼€é”€æ›´æ–°ã€‚</span>
    <span class="hljs-title function_ invoke__">Ok</span>(())
}

<span class="hljs-meta">#[pymodule]</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">robot_accelerator</span>(m: &amp;Bound&lt;<span class="hljs-symbol">'_</span>, PyModule&gt;) <span class="hljs-punctuation">-&gt;</span> PyResult&lt;()&gt; {
    m.<span class="hljs-title function_ invoke__">add_function</span>(wrap_pyfunction!(fast_state_update, m)?)?;
    <span class="hljs-title function_ invoke__">Ok</span>(())
}

</code></pre>
<p>è¿è¡Œ <code>maturin develop</code> ç¼–è¯‘ Rust æ¨¡å—;</p>
<p><strong>è¾“å‡ºï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">ğŸ“¦ Built wheel <span class="hljs-keyword">for</span> CPython 3.9 to /var/folders/39/cz9smddj2fb49mdhy26k98fw0000gn/T/.tmpMlor8R/robot_accelerator-0.1.0-cp39-cp39-macosx_11_0_arm64.whl
âœï¸ Setting installed package as editable
ğŸ›  Installed robot_accelerator-0.1.0
</code></pre>
<p><strong>Python è°ƒç”¨ç«¯ä½“éªŒï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-comment"># å‡è®¾ robot_accelerator æ˜¯ Rust ç¼–è¯‘çš„æ¨¡å—</span>
<span class="hljs-keyword">import</span> robot_accelerator

<span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªåŒ…å« 100 ä¸‡ä¸ªæœºå™¨äººçŠ¶æ€çš„ NumPy æ•°ç»„</span>
states = np.random.rand(<span class="hljs-number">1_000_000</span>, <span class="hljs-number">4</span>).astype(np.float64)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"åŸæ•°æ®ï¼š\n<span class="hljs-subst">{states}</span>"</span>)
<span class="hljs-comment"># è°ƒç”¨ Rust å‡½æ•°ï¼Œè€—æ—¶ä¸åˆ° 1 æ¯«ç§’</span>
robot_accelerator.fast_state_update(states)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ä¿®æ”¹åæ•°æ®ï¼š\n<span class="hljs-subst">{states}</span>"</span>)

<span class="hljs-comment"># states æ•°ç»„å†…å®¹å·²åœ¨ Rust ä¸­è¢«ä¿®æ”¹ï¼Œæ— éœ€æ¥æ”¶è¿”å›å€¼ï¼Œæ— éœ€ç­‰å¾…æ•°æ®ä¼ è¾“ã€‚</span>

</code></pre>
<p><strong>è¾“å‡º</strong>:</p>
<pre><code class="hljs language-bash" lang="bash">åŸæ•°æ®ï¼š
[[0.28895923 0.51244513 0.99422673 0.74872695]
 [0.32166321 0.26555531 0.41119098 0.86933347]
 [0.62882919 0.97949576 0.19916944 0.11139231]
 ...
 [0.44908343 0.29734676 0.37070863 0.76981326]
 [0.95057373 0.88808431 0.37871106 0.73001098]
 [0.26074183 0.74553023 0.12630105 0.93005224]]
ä¿®æ”¹åæ•°æ®ï¼š
[[0.2964465  0.41444513 0.99422673 0.74872695]
 [0.33035655 0.16755531 0.41119098 0.86933347]
 [0.62994311 0.88149576 0.19916944 0.11139231]
 ...
 [0.45678156 0.19934676 0.37070863 0.76981326]
 [0.95787384 0.79008431 0.37871106 0.73001098]
 [0.27004235 0.64753023 0.12630105 0.93005224]]
</code></pre>
<p><strong>å…³é”®å…³è”ç‚¹ï¼š</strong> è¿™å¥—æœºåˆ¶æ˜¯å®ç° <strong>â€œRust å®æ—¶æ§åˆ¶/æ„ŸçŸ¥æ¨¡å—â€</strong> å’Œ <strong>â€œPython æ·±åº¦å­¦ä¹ æ¨ç†æ¨¡å‹â€</strong> é«˜æ•ˆå¯¹æ¥çš„åŸºçŸ³ã€‚å®ƒæ¶ˆé™¤äº†æ•°æ®ä¼ è¾“è¿™ä¸€æœ€å¤§çš„æ€§èƒ½ç“¶é¢ˆã€‚</p>
<hr/>
<h3 data-id="heading-8">äº”ã€ç»¼åˆåº”ç”¨ï¼šæœºå™¨äººçŠ¶æ€è½¬ç§»æ¨¡æ‹Ÿ</h3>
<p>æ¥ä¸‹æ¥ç”¨ä¸€ä¸ªç®€æ´çš„æœºå™¨äººçŠ¶æ€è½¬ç§»æ¨¡æ‹Ÿï¼Œå°† <strong>å¸ƒå°”æ©ç </strong>ã€<strong>çŠ¶æ€è½¬ç§»</strong> å’Œ <strong>æ•°æ®é—­ç¯</strong> ä¸²è”èµ·æ¥ã€‚</p>
<p>å…·èº«æ™ºèƒ½çš„æ ¸å¿ƒåœ¨äº <strong><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>S</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>A</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">S_{t+1} = f(S_t, A_t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8917em;vertical-align:-0.2083em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></strong>ï¼Œå³ä¸‹ä¸€çŠ¶æ€å–å†³äºå½“å‰çŠ¶æ€å’ŒåŠ¨ä½œã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> ndarray::{Array2, arr2};
<span class="hljs-keyword">use</span> ndarray_npy::write_npy;

<span class="hljs-comment">// çŠ¶æ€è½¬ç§»å‡½æ•°ï¼šS_next = S_current @ T + Action</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">simulate_state_transition</span>(current_state: &amp;<span class="hljs-keyword">mut</span> Array2&lt;<span class="hljs-type">f64</span>&gt;, action: &amp;Array2&lt;<span class="hljs-type">f64</span>&gt;) {
    <span class="hljs-comment">// ç®€å•çš„çŠ¶æ€è½¬ç§»çŸ©é˜µ T (2x2)</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">transition_matrix</span>: Array2&lt;<span class="hljs-type">f64</span>&gt; = <span class="hljs-title function_ invoke__">arr2</span>(&amp;[[<span class="hljs-number">0.95</span>, <span class="hljs-number">0.05</span>], [<span class="hljs-number">0.0</span>, <span class="hljs-number">0.90</span>]]);

    <span class="hljs-comment">// 1. è½¬ç§»ï¼šS_current @ T</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">new_state_dot</span> = current_state.<span class="hljs-title function_ invoke__">dot</span>(&amp;transition_matrix);

    <span class="hljs-comment">// 2. æ‰§è¡ŒåŠ¨ä½œï¼šS_next = S_current @ T + Action (ndarray è‡ªåŠ¨å¹¿æ’­ Action)</span>
    current_state.<span class="hljs-title function_ invoke__">assign</span>(&amp;(new_state_dot + action));
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-comment">// åˆå§‹çŠ¶æ€ S (1x2): [ä½ç½®X, é€Ÿåº¦V]</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">robot_state</span>: Array2&lt;<span class="hljs-type">f64</span>&gt; = <span class="hljs-title function_ invoke__">arr2</span>(&amp;[[<span class="hljs-number">5.0</span>, <span class="hljs-number">10.0</span>]]);
    <span class="hljs-comment">// åŠ¨ä½œ A (1x2): [ä½ç½®å¢é‡, é€Ÿåº¦å¢é‡] - å‡è®¾ç”± Python AI æ¨¡å‹è¾“å‡º</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">action</span>: Array2&lt;<span class="hljs-type">f64</span>&gt; = <span class="hljs-title function_ invoke__">arr2</span>(&amp;[[<span class="hljs-number">0.2</span>, -<span class="hljs-number">0.1</span>]]);

    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"--- å…·èº«æ™ºèƒ½æ§åˆ¶å¾ªç¯æ¨¡æ‹Ÿ ---"</span>);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"åˆå§‹çŠ¶æ€ S0: {:.4}"</span>, robot_state);

    <span class="hljs-keyword">for</span> <span class="hljs-variable">t</span> <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>..=<span class="hljs-number">50</span> {
        <span class="hljs-comment">// --- å®æ—¶æ§åˆ¶å¾ªç¯ ---</span>

        <span class="hljs-comment">// 1. æ„ŸçŸ¥ä¸å»å™ª (å¸ƒå°”æ©ç å·²å®Œæˆ)</span>

        <span class="hljs-comment">// 2. æ‰§è¡Œ AI å†³ç­– (è°ƒç”¨ PyO3 æ¡¥æ¥çš„ Action)</span>
        <span class="hljs-title function_ invoke__">simulate_state_transition</span>(&amp;<span class="hljs-keyword">mut</span> robot_state, &amp;action);

        <span class="hljs-comment">// 3. çŠ¶æ€ç›‘æ§ (å¸ƒå°”æ©ç /æ¡ä»¶åˆ¤æ–­)</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">current_speed</span> = robot_state[[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>]];
        <span class="hljs-keyword">if</span> current_speed &gt; <span class="hljs-number">15.0</span> {
            <span class="hljs-comment">// è§¦å‘å®‰å…¨åè®®ï¼šå°†é€Ÿåº¦å¼ºåˆ¶é™ä¸º 15.0 (å®æ—¶é™å¹…)</span>
            robot_state[[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>]] = <span class="hljs-number">15.0</span>;
            <span class="hljs-built_in">println!</span>(<span class="hljs-string">"âš ï¸ S{}: é€Ÿåº¦è¶…é™ ({:.2})ï¼Œå·²é™é€Ÿã€‚"</span>, t, current_speed);
        }

        <span class="hljs-keyword">if</span> t % <span class="hljs-number">10</span> == <span class="hljs-number">0</span> {
            <span class="hljs-built_in">println!</span>(<span class="hljs-string">"S{}: {:.4}"</span>, t, robot_state);
        }

        <span class="hljs-comment">// --- æ•°æ®é—­ç¯ç¯èŠ‚ ---</span>
        <span class="hljs-keyword">if</span> t % <span class="hljs-number">50</span> == <span class="hljs-number">0</span> {
            <span class="hljs-comment">// å°†çŠ¶æ€ä¿å­˜ä¸º .npy æ–‡ä»¶ï¼Œç”¨äºç¦»çº¿è®­ç»ƒ</span>
            <span class="hljs-title function_ invoke__">write_npy</span>(<span class="hljs-built_in">format!</span>(<span class="hljs-string">"state_snapshot_{}.npy"</span>, t), &amp;robot_state).<span class="hljs-title function_ invoke__">unwrap</span>();
        }
    }
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"æœ€ç»ˆçŠ¶æ€ S{}: {:.4}"</span>, <span class="hljs-number">50</span>, robot_state);
}

</code></pre>
<p><strong>è¾“å‡º</strong>:</p>
<pre><code class="hljs language-bash" lang="bash">--- å…·èº«æ™ºèƒ½æ§åˆ¶å¾ªç¯æ¨¡æ‹Ÿ ---
åˆå§‹çŠ¶æ€ S0: [[5.0000, 10.0000]]
S10: [[4.5987, 4.3882]]
S20: [[4.3585, 2.3311]]
S30: [[4.2146, 1.5538]]
S40: [[4.1285, 1.2468]]
S50: [[4.0769, 1.1182]]
æœ€ç»ˆçŠ¶æ€ S50: [[4.0769, 1.1182]]
</code></pre>
<hr/>
<h3 data-id="heading-9">æ€»ç»“</h3>
<p>æœ¬ç¯‡æ·±å…¥å‰–æäº†å¦‚ä½•é€šè¿‡ Rust å’Œ <code>ndarray</code> ç”Ÿæ€ï¼Œä¸ºå…·èº«æ™ºèƒ½ç³»ç»Ÿæ„å»ºä¸€ä¸ª <strong>é«˜æ€§èƒ½</strong>ã€<strong>é«˜å¯é æ€§</strong> çš„æ•°æ®é—­ç¯ï¼š</p>
<ul>
<li>
<p>æ€§èƒ½åŠ é€Ÿï¼šåˆ©ç”¨ <code>ndarray</code> <strong>å‘é‡åŒ–æ“ä½œ</strong> å®ç° <strong>ç²¾å‡†æ„ŸçŸ¥</strong>ã€‚</p>
</li>
<li>
<p>ç”Ÿæ€æ¡¥æ¥ï¼šå€ŸåŠ© <code>.npy</code> å’Œ PyO3 é›¶æ‹·è´ å®ç° <strong>å®æ—¶å†³ç­–</strong>ã€‚</p>
</li>
</ul>
<p><code>ndarray</code> ä¸ä»…ä»…æ˜¯æ•°ç»„åº“ï¼Œæ›´æ˜¯ Rust åœ¨å…·èº«æ™ºèƒ½é¢†åŸŸçš„ â€œä»»ç£äºŒè„‰â€ï¼Œå½»åº•æ‰“é€šäº†ä»åº•å±‚ç¡¬ä»¶åˆ°ä¸Šå±‚å¤æ‚ AI æ¨¡å‹çš„æ•°æ®æµã€‚å®ƒæä¾›çš„ <strong>æ¯«ç§’çº§ç¡®å®šæ€§</strong> è¿è¡Œç¯å¢ƒï¼Œæ˜¯æœºå™¨äººä»å®éªŒå®¤èµ°å‘å·¥ä¸šç•Œå’Œç°å®ä¸–ç•Œçš„å…³é”®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰“ç ´ä¿¡æ¯å£å’ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ å®ç°DeepSeekå¤§æ¨¡å‹çš„å¤©æ°”æŸ¥è¯¢åŠŸèƒ½]]></title>    <link>https://juejin.cn/post/7573904312712298531</link>    <guid>https://juejin.cn/post/7573904312712298531</guid>    <pubDate>2025-11-18T15:47:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573904312712298531" data-draft-id="7573904312712265763" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰“ç ´ä¿¡æ¯å£å’ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ å®ç°DeepSeekå¤§æ¨¡å‹çš„å¤©æ°”æŸ¥è¯¢åŠŸèƒ½"/> <meta itemprop="keywords" content="OpenAI,Python"/> <meta itemprop="datePublished" content="2025-11-18T15:47:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·1203911294726"/> <meta itemprop="url" content="https://juejin.cn/user/2517262684662348"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰“ç ´ä¿¡æ¯å£å’ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ å®ç°DeepSeekå¤§æ¨¡å‹çš„å¤©æ°”æŸ¥è¯¢åŠŸèƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2517262684662348/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·1203911294726
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T15:47:51.000Z" title="Tue Nov 18 2025 15:47:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ‰“ç ´ä¿¡æ¯å£å’ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ å®ç°DeepSeekå¤§æ¨¡å‹çš„å¤©æ°”æŸ¥è¯¢åŠŸèƒ½</h2>
<p>åœ¨äººå·¥æ™ºèƒ½å¿«é€Ÿå‘å±•çš„ä»Šå¤©ï¼Œå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å¦‚DeepSeekå·²ç»å±•ç°å‡ºä»¤äººæƒŠå¹çš„æ–‡æœ¬ç†è§£å’Œç”Ÿæˆèƒ½åŠ›ã€‚ç„¶è€Œï¼Œè¿™äº›æ¨¡å‹æœ‰ä¸€ä¸ªæ˜æ˜¾çš„å±€é™æ€§ï¼šå®ƒä»¬åªèƒ½åŸºäºè®­ç»ƒæ—¶çš„æ•°æ®è¿›è¡Œå›ç­”ï¼Œæ— æ³•è·å–å®æ—¶ä¿¡æ¯ã€‚æœ¬æ–‡å°†å¸¦ä½ æ·±å…¥æ¢ç´¢å¦‚ä½•é€šè¿‡å·¥å…·è°ƒç”¨ï¼ˆTool Callingï¼‰æŠ€æœ¯ï¼Œè®©DeepSeekå¤§æ¨¡å‹å…·å¤‡æŸ¥è¯¢å®æ—¶å¤©æ°”çš„èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆå¤§æ¨¡å‹éœ€è¦â€œå·¥å…·è°ƒç”¨â€èƒ½åŠ›ï¼Ÿ</h3>
<p>å½“æˆ‘ä»¬è¯¢é—®DeepSeekâ€œåŒ—äº¬å¤©æ°”æ€ä¹ˆæ ·â€æ—¶ï¼Œå®ƒæ— æ³•ç»™å‡ºå‡†ç¡®ç­”æ¡ˆï¼Œå› ä¸ºå®ƒåªçŸ¥é“è®­ç»ƒæ—¶å­¦ä¹ åˆ°çš„çŸ¥è¯†ï¼Œè€Œå¤©æ°”ä¿¡æ¯æ˜¯å®æ—¶å˜åŒ–çš„ã€‚è¿™å°±æ˜¯å·¥å…·è°ƒç”¨æŠ€æœ¯çš„ç”¨æ­¦ä¹‹åœ°ã€‚ å·¥å…·è°ƒç”¨ç›¸å½“äºä¸ºLLMè£…ä¸Šäº†â€œæ‰‹å’Œè„šâ€ï¼Œè®©å®ƒèƒ½å¤Ÿä¸å¤–éƒ¨ä¸–ç•Œäº¤äº’ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¤§æ¨¡å‹å¯ä»¥ï¼š</p>
<ul>
<li>æŸ¥è¯¢å®æ—¶ä¿¡æ¯ï¼ˆå¤©æ°”ã€è‚¡ä»·ã€æ–°é—»ç­‰ï¼‰</li>
<li>æ‰§è¡Œå…·ä½“æ“ä½œï¼ˆå‘é€é‚®ä»¶ã€æ§åˆ¶æ™ºèƒ½è®¾å¤‡ç­‰ï¼‰</li>
<li>è®¿é—®ä¸“ä¸šæ•°æ®åº“ï¼ˆæ³•å¾‹ã€åŒ»ç–—ã€é‡‘èç­‰ï¼‰</li>
</ul>
<h4 data-id="heading-2">ä»â€œçŸ¥è¯†åº“â€åˆ°â€œæ™ºèƒ½ä½“â€çš„è½¬å˜</h4>
<p>ä¼ ç»Ÿçš„LLMæ›´åƒæ˜¯ä¸€ä¸ªåºå¤§çš„çŸ¥è¯†åº“ï¼Œè€Œé€šè¿‡å·¥å…·è°ƒç”¨ï¼Œæˆ‘ä»¬å°†å…¶è½¬å˜ä¸ºä¸€ä¸ªèƒ½å¤Ÿä¸»åŠ¨è¡ŒåŠ¨çš„â€œæ™ºèƒ½ä½“â€ã€‚è¿™ç§è½¬å˜çš„æ„ä¹‰åœ¨äºï¼š</p>
<ol>
<li><strong>çªç ´è®­ç»ƒæ•°æ®çš„æ—¶é—´é™åˆ¶</strong>ï¼šå¯ä»¥è·å–æœ€æ–°ä¿¡æ¯</li>
<li><strong>æ‰©å±•èƒ½åŠ›è¾¹ç•Œ</strong>ï¼šè¶…è¶Šçº¯æ–‡æœ¬å¤„ç†ï¼Œæ‰§è¡Œå®é™…ä»»åŠ¡</li>
<li><strong>æé«˜å®ç”¨æ€§</strong>ï¼šä»â€œèƒ½è¯´â€åˆ°â€œèƒ½åšâ€çš„è´¨å˜</li>
</ol>
<h3 data-id="heading-3">ç¯å¢ƒå‡†å¤‡ä¸åŸºç¡€é…ç½®</h3>
<p>åœ¨å¼€å§‹ç¼–ç å‰ï¼Œæˆ‘ä»¬éœ€è¦æ­å»ºå¼€å‘ç¯å¢ƒã€‚æœ¬æ–‡ä½¿ç”¨Jupyter Notebookä½œä¸ºå¼€å‘å·¥å…·ï¼Œå®ƒå…·æœ‰äº¤äº’å¼ç¼–ç¨‹çš„ä¼˜åŠ¿ï¼Œç‰¹åˆ«é€‚åˆAIåº”ç”¨çš„å®éªŒå’Œè°ƒè¯•ã€‚</p>
<h4 data-id="heading-4">Jupyter Notebookçš„ä¼˜åŠ¿</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Jupyteræ”¯æŒé€å•å…ƒæ ¼æ‰§è¡Œï¼Œä¾¿äºè°ƒè¯•å’Œå®éªŒ</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"llm è°ƒç”¨ toolsï¼Œè®©llmå’Œå¤–ç•Œäº¤æµ"</span>)
</code></pre>
<p>Jupyterçš„<code>.ipynb</code>æ–‡ä»¶æ ¼å¼ç‰¹åˆ«é€‚åˆï¼š</p>
<ul>
<li><strong>ç®—æ³•å®éªŒ</strong>ï¼šé€æ­¥æµ‹è¯•å’Œè°ƒæ•´ä»£ç </li>
<li><strong>æ•°æ®å¯è§†åŒ–</strong>ï¼šå®æ—¶æŸ¥çœ‹æ•°æ®å¤„ç†ç»“æœ</li>
<li><strong>æ¨¡å‹è°ƒè¯•</strong>ï¼šäº¤äº’å¼åœ°è§‚å¯Ÿæ¨¡å‹è¡¨ç°</li>
</ul>
<h4 data-id="heading-5">å®‰è£…å¿…è¦çš„ä¾èµ–åŒ…</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># å®‰è£…requestsåº“ç”¨äºHTTPè¯·æ±‚</span>
<span class="hljs-type">!pip</span> <span class="hljs-string">install</span> <span class="hljs-string">requests</span>

<span class="hljs-comment"># å®‰è£…OpenAI SDKç”¨äºè°ƒç”¨DeepSeek API</span>
<span class="hljs-type">!pip</span> <span class="hljs-string">install</span> <span class="hljs-string">openai</span>
</code></pre>
<h4 data-id="heading-6">æ¨¡å—åŒ–è®¾è®¡çš„é‡è¦æ€§</h4>
<p>Pythonçš„æ¨¡å—åŒ–è®¾è®¡è®©ä»£ç æ›´æ¸…æ™°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> <span class="hljs-title class_">OpenAI</span>
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> json
</code></pre>
<p>æ¨¡å—åŒ–çš„å¥½å¤„ï¼š</p>
<ul>
<li><strong>åˆ†ç¦»å…³æ³¨ç‚¹</strong>ï¼šæ¯ä¸ªæ¨¡å—ä¸“æ³¨ç‰¹å®šåŠŸèƒ½</li>
<li><strong>ä»£ç å¤ç”¨</strong>ï¼šå·¥å…·å‡½æ•°å¯ä»¥åœ¨å¤šä¸ªé¡¹ç›®ä¸­å…±äº«</li>
<li><strong>æ˜“äºç»´æŠ¤</strong>ï¼šé—®é¢˜å®šä½å’Œä¿®å¤æ›´é«˜æ•ˆ</li>
</ul>
<h4 data-id="heading-7">åˆå§‹åŒ–DeepSeekå®¢æˆ·ç«¯</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># åˆ›å»ºDeepSeekå®¢æˆ·ç«¯å®ä¾‹</span>
<span class="hljs-attr">client</span> = OpenAI(
    <span class="hljs-attr">api_key</span>=<span class="hljs-string">'ä½ çš„apikey'</span>,
    <span class="hljs-attr">base_url</span>=<span class="hljs-string">'https://api.deepseek.com/v1'</span>
)
</code></pre>
<p>è¿™é‡Œä½¿ç”¨çš„æ˜¯OpenAIå…¼å®¹çš„APIæ¥å£ï¼Œè¿™æ˜¯ç›®å‰å¤§å¤šæ•°å¤§æ¨¡å‹æœåŠ¡æä¾›å•†éµå¾ªçš„äº‹å®æ ‡å‡†ã€‚è¿™ç§æ ‡å‡†åŒ–é™ä½äº†å­¦ä¹ æˆæœ¬ï¼Œæé«˜äº†ä»£ç çš„å¯ç§»æ¤æ€§ã€‚</p>
<h3 data-id="heading-8">å®ç°å¤©æ°”æŸ¥è¯¢å·¥å…·å‡½æ•°</h3>
<p>å·¥å…·è°ƒç”¨çš„æ ¸å¿ƒæ˜¯åˆ›å»ºä¸€ä¸ªèƒ½å¤Ÿæ‰§è¡Œç‰¹å®šä»»åŠ¡çš„å‡½æ•°ã€‚è®©æˆ‘ä»¬å…ˆå®ç°å¤©æ°”æŸ¥è¯¢åŠŸèƒ½ï¼š</p>
<h4 data-id="heading-9">å®Œæ•´çš„å¤©æ°”æŸ¥è¯¢å®ç°</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests

<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_weather</span>(<span class="hljs-params">location: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    è·å–æŒ‡å®šåŸå¸‚çš„å½“å‰å¤©æ°”æƒ…å†µ
    
    Args:
        location: åŸå¸‚åç§°ï¼Œå¦‚'åŒ—äº¬'
    
    Returns:
        å¤©æ°”ä¿¡æ¯çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²
    """</span>
    url = <span class="hljs-string">"https://api.seniverse.com/v3/weather/now.json"</span>
    params = {
        <span class="hljs-string">"key"</span>: <span class="hljs-string">"ä½ çš„key"</span>,
        <span class="hljs-string">"location"</span>: location,
        <span class="hljs-string">"language"</span>: <span class="hljs-string">"zh-Hans"</span>
    }
    
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œé¿å…é•¿æ—¶é—´ç­‰å¾…</span>
        resp = requests.get(url, params=params, timeout=<span class="hljs-number">10</span>)
        data = resp.json()
        
        <span class="hljs-keyword">if</span> <span class="hljs-string">"results"</span> <span class="hljs-keyword">in</span> data:
            result = data[<span class="hljs-string">"results"</span>][<span class="hljs-number">0</span>]
            city = result[<span class="hljs-string">"location"</span>][<span class="hljs-string">"name"</span>]
            now = result[<span class="hljs-string">"now"</span>]
            weather_text = now[<span class="hljs-string">"text"</span>]
            temperature = now[<span class="hljs-string">"temperature"</span>]
            
            <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{city}</span>å½“å‰å¤©æ°”:<span class="hljs-subst">{weather_text}</span>,æ°”æ¸©<span class="hljs-subst">{temperature}</span>åº¦"</span>
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">"æŸ¥è¯¢å¤±è´¥"</span>
    <span class="hljs-keyword">except</span> requests.exceptions.Timeout:
        <span class="hljs-keyword">return</span> <span class="hljs-string">"å¤©æ°”æŸ¥è¯¢è¶…æ—¶ï¼Œè¯·ç¨åé‡è¯•"</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"å¼‚å¸¸ï¼š<span class="hljs-subst">{e}</span>"</span>

<span class="hljs-comment"># æµ‹è¯•å¤©æ°”æŸ¥è¯¢å‡½æ•°</span>
<span class="hljs-built_in">print</span>(get_weather(<span class="hljs-string">"æŠšå·"</span>))
</code></pre>
<h4 data-id="heading-10">ä»£ç ç»†èŠ‚è§£æ</h4>
<ol>
<li><strong>ç±»å‹æ³¨è§£</strong>ï¼š<code>location: str</code>-&gt; <code>str</code>æé«˜äº†ä»£ç å¯è¯»æ€§</li>
<li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šç¡®ä¿ç¨‹åºåœ¨ç½‘ç»œå¼‚å¸¸æ—¶ä¹Ÿèƒ½ä¼˜é›…å¤„ç†</li>
<li><strong>è¶…æ—¶è®¾ç½®</strong>ï¼šé¿å…å› APIå“åº”æ…¢è€Œé˜»å¡æ•´ä¸ªåº”ç”¨</li>
</ol>
<h3 data-id="heading-11">å®šä¹‰å·¥å…·æè¿°ï¼šæ•™LLMå¦‚ä½•ä½¿ç”¨å¤©æ°”æŸ¥è¯¢</h3>
<p>å¤§æ¨¡å‹éœ€è¦æ˜ç¡®çš„æŒ‡å¯¼æ‰èƒ½æ­£ç¡®ä½¿ç”¨å·¥å…·ã€‚æˆ‘ä»¬é€šè¿‡å·¥å…·æè¿°æ¥å‘Šè¯‰DeepSeekå¦‚ä½•ä¸æˆ‘ä»¬çš„å¤©æ°”æŸ¥è¯¢å‡½æ•°äº¤äº’ã€‚</p>
<h4 data-id="heading-12">å®Œæ•´çš„å·¥å…·å®šä¹‰</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># æ¥è‡ªopenaiæ¥å£å®šä¹‰</span>
<span class="hljs-attr">tools</span> = [
    {
        <span class="hljs-comment"># ä¸€ä¸ªå·¥å…·å°±æ˜¯ä¸€ä¸ªå‡½æ•°</span>
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"function"</span>,
        <span class="hljs-string">"function"</span>: {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"get_weather"</span>,
            <span class="hljs-string">"description"</span>: <span class="hljs-string">"è·å–æŒ‡å®šåŸå¸‚çš„å½“å‰å¤©æ°”"</span>,
            <span class="hljs-string">"parameters"</span>: {
                <span class="hljs-string">"type"</span>: <span class="hljs-string">"object"</span>,
                <span class="hljs-string">"properties"</span>: {
                    <span class="hljs-string">"location"</span>: {
                        <span class="hljs-string">"type"</span>: <span class="hljs-string">"string"</span>,
                        <span class="hljs-comment"># åŒ—äº¬å¤©æ°”æ€ä¹ˆæ ·ï¼Œæå–åŒ—äº¬</span>
                        <span class="hljs-string">"description"</span>: <span class="hljs-string">"åŸå¸‚åç§°ï¼Œå¦‚'åŒ—äº¬'"</span>  <span class="hljs-comment"># å‘Šè¯‰llméœ€è¦æå–å‚æ•°</span>
                    }
                },
                <span class="hljs-string">"required"</span>: [<span class="hljs-string">"location"</span>]  <span class="hljs-comment"># æŒ‡å®šå¿…éœ€å‚æ•°</span>
            }
        }
    }
]
</code></pre>
<h4 data-id="heading-13">å·¥å…·æè¿°çš„å…³é”®è¦ç´ </h4>
<ol>
<li><strong>åç§°(name)</strong> ï¼šLLMè°ƒç”¨æ—¶ä½¿ç”¨çš„æ ‡è¯†ç¬¦</li>
<li><strong>æè¿°(description)</strong> ï¼šå‘Šè¯‰LLMä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨è¿™ä¸ªå·¥å…·</li>
<li><strong>å‚æ•°å®šä¹‰</strong>ï¼šæ˜ç¡®å‚æ•°ç±»å‹ã€æ ¼å¼å’Œçº¦æŸæ¡ä»¶</li>
</ol>
<h3 data-id="heading-14">å®ç°å®Œæ•´çš„å·¥å…·è°ƒç”¨æµç¨‹</h3>
<p>å·¥å…·è°ƒç”¨çš„å®Œæ•´æµç¨‹æ¶‰åŠå¤šæ¬¡APIè°ƒç”¨ï¼Œä½“ç°äº†LLMçš„æ¨ç†å’Œæ‰§è¡Œè¿‡ç¨‹ï¼š</p>
<h4 data-id="heading-15">å®Œæ•´çš„å¯¹è¯æµç¨‹å®ç°</h4>
<pre><code class="hljs language-ini" lang="ini">import json

def chat_with_weather_function(user_query):
    """
    æ”¯æŒå¤©æ°”æŸ¥è¯¢çš„å¯¹è¯å‡½æ•°
    
    Args:
        user_query: ç”¨æˆ·è¾“å…¥çš„è‡ªç„¶è¯­è¨€æŸ¥è¯¢
    
    Returns:
        LLMç”Ÿæˆçš„å›å¤å†…å®¹
    """
    <span class="hljs-comment"># åˆå§‹åŒ–æ¶ˆæ¯é˜Ÿåˆ—</span>
    <span class="hljs-attr">messages</span> = [{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: user_query}]
    
    <span class="hljs-comment"># ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼šè®©LLMå†³å®šæ˜¯å¦ä½¿ç”¨å·¥å…·</span>
    <span class="hljs-attr">response</span> = client.chat.completions.create(
        <span class="hljs-attr">model</span>=<span class="hljs-string">"deepseek-reasoner"</span>,
        <span class="hljs-attr">messages</span>=messages,
        <span class="hljs-attr">tools</span>=tools,
        <span class="hljs-attr">tool_choice</span>=<span class="hljs-string">"auto"</span>,  <span class="hljs-comment"># è®©æ¨¡å‹è‡ªåŠ¨å†³å®šæ˜¯å¦ä½¿ç”¨å·¥å…·</span>
        <span class="hljs-attr">temperature</span>=<span class="hljs-number">0.3</span>  <span class="hljs-comment"># æ§åˆ¶ç”Ÿæˆç»“æœçš„éšæœºæ€§</span>
    )
    
    <span class="hljs-attr">response_message</span> = response.choices[<span class="hljs-number">0</span>].message
    print(response_message)  <span class="hljs-comment"># è°ƒè¯•è¾“å‡º</span>
    messages.append(response_message)
    
    <span class="hljs-comment"># å¦‚æœLLMå†³å®šä½¿ç”¨å·¥å…·</span>
    if response_message.tool_calls:
        for tool_call in response_message.tool_calls:
            <span class="hljs-attr">function_name</span> = tool_call.function.name
            <span class="hljs-comment"># jsonå­—ç¬¦ä¸²å˜æˆjsonå¯¹è±¡</span>
            <span class="hljs-attr">function_args</span> = json.loads(tool_call.function.arguments)
            
            if <span class="hljs-attr">function_name</span> == <span class="hljs-string">"get_weather"</span>:
                <span class="hljs-comment"># æ‰§è¡Œå®é™…çš„å¤©æ°”æŸ¥è¯¢</span>
                <span class="hljs-attr">function_response</span> = get_weather(function_args[<span class="hljs-string">"location"</span>])
            else:
                <span class="hljs-attr">function_response</span> = <span class="hljs-string">"æœªçŸ¥å·¥å…·"</span>
            
            <span class="hljs-comment"># å°†å·¥å…·æ‰§è¡Œç»“æœæ·»åŠ åˆ°å¯¹è¯ä¸Šä¸‹æ–‡</span>
            messages.append({
                "tool_call_id": tool_call.id,
                "role": "tool",
                "name": function_name,
                "content": function_response
            })
    else:
        <span class="hljs-comment"># å¦‚æœä¸éœ€è¦å·¥å…·ï¼Œç›´æ¥è¿”å›å›å¤</span>
        print(response_message.content)
        return response_message.content
    
    <span class="hljs-comment"># ç¬¬äºŒæ¬¡è°ƒç”¨ï¼šè®©LLMåŸºäºå·¥å…·ç»“æœç”Ÿæˆæœ€ç»ˆå›å¤</span>
    <span class="hljs-attr">final_response</span> = client.chat.completions.create(
        <span class="hljs-attr">model</span>=<span class="hljs-string">"deepseek-reasoner"</span>,
        <span class="hljs-attr">messages</span>=messages,
        <span class="hljs-attr">temperature</span>=<span class="hljs-number">0.3</span>
    )
    
    return final_response.choices<span class="hljs-section">[0]</span>.message.content

<span class="hljs-comment"># æµ‹è¯•å®Œæ•´çš„å¤©æ°”æŸ¥è¯¢æµç¨‹</span>
<span class="hljs-attr">result</span> = chat_with_weather_function(<span class="hljs-string">"åŒ—äº¬å¤©æ°”æ€ä¹ˆæ ·"</span>)
print(result)
</code></pre>
<h3 data-id="heading-16">æŠ€æœ¯åŸç†è§£æ</h3>
<h4 data-id="heading-17">ä¸¤é˜¶æ®µè°ƒç”¨è¿‡ç¨‹</h4>
<p>è¿™ä¸ªå®ç°ä½“ç°äº†LLMå·¥å…·è°ƒç”¨çš„å…¸å‹ä¸¤é˜¶æ®µè¿‡ç¨‹ï¼š <strong>ç¬¬ä¸€é˜¶æ®µï¼šæ¨ç†ä¸å†³ç­–</strong></p>
<ul>
<li>LLMåˆ†æç”¨æˆ·é—®é¢˜ï¼š"åŒ—äº¬å¤©æ°”æ€ä¹ˆæ ·"</li>
<li>è¯†åˆ«æ„å›¾ï¼šç”¨æˆ·éœ€è¦å¤©æ°”ä¿¡æ¯</li>
<li>æå–å‚æ•°ï¼šä»é—®é¢˜ä¸­æå–"åŒ—äº¬"</li>
<li>å†³å®šè¡ŒåŠ¨ï¼šè°ƒç”¨get_weatherå·¥å…·</li>
</ul>
<p><strong>ç¬¬äºŒé˜¶æ®µï¼šæ‰§è¡Œä¸æ•´åˆ</strong></p>
<ul>
<li>æ‰§è¡Œå·¥å…·å‡½æ•°ï¼šè°ƒç”¨å¤©æ°”APIè·å–çœŸå®æ•°æ®</li>
<li>æ•´åˆç»“æœï¼šå°†åŸå§‹æ•°æ®è½¬åŒ–ä¸ºè‡ªç„¶è¯­è¨€å›å¤</li>
<li>ç”Ÿæˆå“åº”ï¼šæä¾›å‹å¥½ã€æœ‰ç”¨çš„å¤©æ°”ä¿¡æ¯</li>
</ul>
<h4 data-id="heading-18">æ¶ˆæ¯é˜Ÿåˆ—çš„æ™ºèƒ½ç®¡ç†</h4>
<p>å¤šè½®æ¶ˆæ¯ä¼ é€’æ˜¯ç»´æŒå¯¹è¯ä¸Šä¸‹æ–‡çš„å…³é”®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">messages</span> = [
    {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"åŒ—äº¬å¤©æ°”æ€ä¹ˆæ ·"</span>},
    {<span class="hljs-string">"role"</span>: <span class="hljs-string">"assistant"</span>, <span class="hljs-string">"content"</span>: null, <span class="hljs-string">"tool_calls"</span>: [...]},
    {<span class="hljs-string">"role"</span>: <span class="hljs-string">"tool"</span>, <span class="hljs-string">"name"</span>: <span class="hljs-string">"get_weather"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"åŒ—äº¬å½“å‰å¤©æ°”:æ™´,æ°”æ¸©1åº¦"</span>},
    {<span class="hljs-string">"role"</span>: <span class="hljs-string">"assistant"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"åŒ—äº¬å½“å‰å¤©æ°”æ™´æœ—ï¼Œæ°”æ¸©25æ‘„æ°åº¦ï¼Œé€‚åˆå‡ºè¡Œï¼"</span>}
]
</code></pre>
<p>è¿™ç§ç»“æ„è®©LLMèƒ½å¤Ÿç†è§£æ•´ä¸ªäº¤äº’è¿‡ç¨‹ï¼Œç”Ÿæˆè¿è´¯çš„å›å¤ã€‚</p>
<h3 data-id="heading-19">å®é™…åº”ç”¨æ•ˆæœå±•ç¤º</h3>
<p>å½“æˆ‘ä»¬è¿è¡Œå®Œæ•´çš„å¤©æ°”æŸ¥è¯¢æµç¨‹æ—¶ï¼Œå¯ä»¥çœ‹åˆ°è¯¦ç»†çš„æ‰§è¡Œè¿‡ç¨‹ï¼š</p>
<h4 data-id="heading-20">æ‰§è¡Œè¿‡ç¨‹è¾“å‡º</h4>
<pre><code class="hljs language-python" lang="python">ChatCompletionMessage(content=<span class="hljs-string">'æˆ‘æ¥å¸®æ‚¨æŸ¥è¯¢åŒ—äº¬çš„å¤©æ°”æƒ…å†µã€‚'</span>, refusal=<span class="hljs-literal">None</span>, role=<span class="hljs-string">'assistant'</span>, annotations=<span class="hljs-literal">None</span>, audio=<span class="hljs-literal">None</span>, function_call=<span class="hljs-literal">None</span>, tool_calls=[ChatCompletionMessageFunctionToolCall(<span class="hljs-built_in">id</span>=<span class="hljs-string">'call_00_cHDBGfG3OMegtIaM4MdFqQNR'</span>, function=Function(arguments=<span class="hljs-string">'{"location": "åŒ—äº¬"}'</span>, name=<span class="hljs-string">'get_weather'</span>), <span class="hljs-built_in">type</span>=<span class="hljs-string">'function'</span>, index=<span class="hljs-number">0</span>)])

{<span class="hljs-string">'results'</span>: [{<span class="hljs-string">'location'</span>: {<span class="hljs-string">'id'</span>: <span class="hljs-string">'WX4FBXXFKE4F'</span>, <span class="hljs-string">'name'</span>: <span class="hljs-string">'åŒ—äº¬'</span>, <span class="hljs-string">'country'</span>: <span class="hljs-string">'CN'</span>, <span class="hljs-string">'path'</span>: <span class="hljs-string">'åŒ—äº¬,åŒ—äº¬,ä¸­å›½'</span>, <span class="hljs-string">'timezone'</span>: <span class="hljs-string">'Asia/Shanghai'</span>, <span class="hljs-string">'timezone_offset'</span>: <span class="hljs-string">'+08:00'</span>}, <span class="hljs-string">'now'</span>: {<span class="hljs-string">'text'</span>: <span class="hljs-string">'æ™´'</span>, <span class="hljs-string">'code'</span>: <span class="hljs-string">'1'</span>, <span class="hljs-string">'temperature'</span>: <span class="hljs-string">'1'</span>}, <span class="hljs-string">'last_update'</span>: <span class="hljs-string">'2025-11-18T22:37:37+08:00'</span>}]}

æ ¹æ®æŸ¥è¯¢ç»“æœï¼Œç›®å‰åŒ—äº¬çš„å¤©æ°”æƒ…å†µæ˜¯ï¼š

**ğŸŒ¤ï¸ å¤©æ°”çŠ¶å†µï¼š** æ™´  
**ğŸŒ¡ï¸ æ°”æ¸©ï¼š** <span class="hljs-number">1</span>Â°C

ä»Šå¤©åŒ—äº¬å¤©æ°”æ™´æœ—ï¼Œä½†æ°”æ¸©è¾ƒä½ï¼Œè¯·æ³¨æ„ä¿æš–ã€‚å¦‚æœæ‚¨éœ€è¦æ›´è¯¦ç»†çš„å¤©æ°”é¢„æŠ¥ï¼ˆæ¯”å¦‚æœªæ¥å‡ å¤©çš„å¤©æ°”æƒ…å†µï¼‰ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼Œæˆ‘å¯ä»¥ä¸ºæ‚¨æŸ¥è¯¢æ›´å¤šä¿¡æ¯ã€‚
</code></pre>
<h4 data-id="heading-21">ç»“æœåˆ†æ</h4>
<ol>
<li><strong>å·¥å…·è°ƒç”¨å†³ç­–</strong>ï¼šLLMæ­£ç¡®è¯†åˆ«éœ€è¦è°ƒç”¨å¤©æ°”æŸ¥è¯¢å·¥å…·</li>
<li><strong>å‚æ•°æå–</strong>ï¼šå‡†ç¡®æå–äº†åŸå¸‚åç§°"åŒ—äº¬"</li>
<li><strong>æ•°æ®æ•´åˆ</strong>ï¼šå°†åŸå§‹APIå“åº”è½¬åŒ–ä¸ºç”¨æˆ·å‹å¥½çš„æ ¼å¼</li>
<li><strong>è´´å¿ƒå»ºè®®</strong>ï¼šåŠ å…¥äº†ä¿æš–æé†’ï¼Œä½“ç°AIçš„å…³æ€€</li>
</ol>
<h3 data-id="heading-22">æ‰©å±•åº”ç”¨åœºæ™¯ä¸è¿›é˜¶åŠŸèƒ½</h3>
<p>æŒæ¡äº†å·¥å…·è°ƒç”¨çš„åŸºæœ¬åŸç†åï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾æ‰©å±•æ›´å¤šå®ç”¨åŠŸèƒ½ï¼š</p>
<h4 data-id="heading-23">å¤šå·¥å…·ååŒå·¥ä½œ</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">tools</span> = [
    {
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"function"</span>,
        <span class="hljs-string">"function"</span>: {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"get_weather"</span>,
            <span class="hljs-string">"description"</span>: <span class="hljs-string">"è·å–æŒ‡å®šåŸå¸‚çš„å½“å‰å¤©æ°”"</span>,
            <span class="hljs-comment"># ... å‚æ•°å®šä¹‰</span>
        }
    },
    {
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"function"</span>, 
        <span class="hljs-string">"function"</span>: {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"get_air_quality"</span>,
            <span class="hljs-string">"description"</span>: <span class="hljs-string">"è·å–æŒ‡å®šåŸå¸‚çš„ç©ºæ°”è´¨é‡æŒ‡æ•°"</span>,
            <span class="hljs-comment"># ... å‚æ•°å®šä¹‰</span>
        }
    }
]
</code></pre>
<h4 data-id="heading-24">æ”¯æŒå¤æ‚æŸ¥è¯¢</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># LLMå¯ä»¥æ™ºèƒ½é€‰æ‹©å¤šä¸ªå·¥å…·å›ç­”å¤æ‚é—®é¢˜</span>
<span class="hljs-attr">user_query</span> = <span class="hljs-string">"åŒ—äº¬ä»Šå¤©çš„å¤©æ°”å’Œç©ºæ°”è´¨é‡æ€ä¹ˆæ ·ï¼Ÿ"</span>
<span class="hljs-comment"># LLMå¯èƒ½ä¼šä¾æ¬¡è°ƒç”¨get_weatherå’Œget_air_qualityä¸¤ä¸ªå·¥å…·</span>
</code></pre>
<h4 data-id="heading-25">é”™è¯¯å¤„ç†ä¸é‡è¯•æœºåˆ¶</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">robust_tool_calling</span>(<span class="hljs-params">user_query, max_retries=<span class="hljs-number">3</span></span>):
    <span class="hljs-keyword">for</span> attempt <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(max_retries):
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">return</span> chat_with_weather_function(user_query)
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-keyword">if</span> attempt == max_retries - <span class="hljs-number">1</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-string">"æŠ±æ­‰ï¼ŒæœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åé‡è¯•"</span>
            time.sleep(<span class="hljs-number">1</span>)  <span class="hljs-comment"># ç­‰å¾…åé‡è¯•</span>
</code></pre>
<h3 data-id="heading-26">å¼€å‘æŠ€å·§ä¸æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-27">1. å®Œå–„çš„é”™è¯¯å¤„ç†</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">try</span>:
    <span class="hljs-comment"># å·¥å…·è°ƒç”¨ä»£ç </span>
<span class="hljs-keyword">except</span> requests.exceptions.Timeout:
    <span class="hljs-keyword">return</span> <span class="hljs-string">"å¤©æ°”æŸ¥è¯¢è¶…æ—¶ï¼Œè¯·ç¨åé‡è¯•"</span>
<span class="hljs-keyword">except</span> requests.exceptions.ConnectionError:
    <span class="hljs-keyword">return</span> <span class="hljs-string">"ç½‘ç»œè¿æ¥å¼‚å¸¸ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®"</span>
<span class="hljs-keyword">except</span> json.JSONDecodeError:
    <span class="hljs-keyword">return</span> <span class="hljs-string">"æ•°æ®è§£æé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•"</span>
<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"æŸ¥è¯¢è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼š<span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>
</code></pre>
<h4 data-id="heading-28">2. å‚æ•°éªŒè¯ä¸æ¸…æ´—</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">validate_and_clean_location</span>(<span class="hljs-params">location: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""éªŒè¯å’Œæ¸…æ´—åŸå¸‚åç§°"""</span>
    <span class="hljs-comment"># å»é™¤å‰åç©ºæ ¼</span>
    location = location.strip()
    
    <span class="hljs-comment"># å¸¸è§åŸå¸‚åç§°æ˜ å°„</span>
    city_mapping = {
        <span class="hljs-string">"åŒ—äº¬å¸‚"</span>: <span class="hljs-string">"åŒ—äº¬"</span>,
        <span class="hljs-string">"ä¸Šæµ·çœ"</span>: <span class="hljs-string">"ä¸Šæµ·"</span>, 
        <span class="hljs-string">"å¹¿å·å¸‚"</span>: <span class="hljs-string">"å¹¿å·"</span>
    }
    
    <span class="hljs-keyword">return</span> city_mapping.get(location, location)
</code></pre>
<h4 data-id="heading-29">3. æ€§èƒ½ä¼˜åŒ–å»ºè®®</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> functools
<span class="hljs-keyword">import</span> time

<span class="hljs-comment"># æ·»åŠ ç¼“å­˜å‡å°‘APIè°ƒç”¨</span>
<span class="hljs-meta">@functools.lru_cache(<span class="hljs-params">maxsize=<span class="hljs-number">100</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_weather_cached</span>(<span class="hljs-params">location: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-keyword">return</span> get_weather(location)

<span class="hljs-comment"># æ·»åŠ è¶…æ—¶æ§åˆ¶</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">call_with_timeout</span>(<span class="hljs-params">func, timeout=<span class="hljs-number">30</span>, *args, **kwargs</span>):
    <span class="hljs-comment"># å®ç°å‡½æ•°è¶…æ—¶æ§åˆ¶</span>
    <span class="hljs-keyword">pass</span>
</code></pre>
<h3 data-id="heading-30">æ€»ç»“ä¸å±•æœ›</h3>
<p>é€šè¿‡æœ¬æ–‡çš„è¯¦ç»†å®è·µï¼Œæˆ‘ä»¬æˆåŠŸå®ç°äº†è®©DeepSeekå¤§æ¨¡å‹å…·å¤‡å®æ—¶å¤©æ°”æŸ¥è¯¢èƒ½åŠ›çš„åŠŸèƒ½ã€‚è¿™åªæ˜¯ä¸€ä¸ªå¼€å§‹ï¼Œå·¥å…·è°ƒç”¨æŠ€æœ¯ä¸ºAIåº”ç”¨å¼€è¾Ÿäº†æ— é™å¯èƒ½ï¼š</p>
<h4 data-id="heading-31">æŠ€æœ¯ä»·å€¼æ€»ç»“</h4>
<ol>
<li><strong>å®æ—¶ä¿¡æ¯è·å–</strong>ï¼šçªç ´LLMçš„æ—¶é—´é™åˆ¶</li>
<li><strong>èƒ½åŠ›æ‰©å±•</strong>ï¼šä»çº¯æ–‡æœ¬å¤„ç†åˆ°å®é™…ä»»åŠ¡æ‰§è¡Œ</li>
<li><strong>æ ‡å‡†åŒ–æ¥å£</strong>ï¼šåŸºäºOpenAIæ ‡å‡†ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤</li>
</ol>
<h4 data-id="heading-32">æœªæ¥å‘å±•æ–¹å‘</h4>
<ol>
<li><strong>å¤šæ¨¡æ€å·¥å…·</strong>ï¼šç»“åˆå›¾åƒè¯†åˆ«ã€è¯­éŸ³å¤„ç†ç­‰èƒ½åŠ›</li>
<li><strong>å¤æ‚ä»»åŠ¡è§„åˆ’</strong>ï¼šæ”¯æŒå¤šæ­¥éª¤ã€é•¿å‘¨æœŸçš„ä»»åŠ¡æ‰§è¡Œ</li>
<li><strong>è‡ªä¸»å†³ç­–</strong>ï¼šAIèƒ½å¤Ÿè‡ªä¸»é€‰æ‹©å’Œä½¿ç”¨å·¥å…·ç»„åˆ</li>
<li><strong>å®‰å…¨æœºåˆ¶</strong>ï¼šç¡®ä¿å·¥å…·è°ƒç”¨çš„å®‰å…¨æ€§å’Œå¯æ§æ€§</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ConcurrentHashMap é‡è¦æ–¹æ³•å®ç°åŸç†å’Œæºç è§£æï¼ˆäºŒï¼‰]]></title>    <link>https://juejin.cn/post/7573899782803193902</link>    <guid>https://juejin.cn/post/7573899782803193902</guid>    <pubDate>2025-11-18T16:02:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573899782803193902" data-draft-id="7573886599433879603" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ConcurrentHashMap é‡è¦æ–¹æ³•å®ç°åŸç†å’Œæºç è§£æï¼ˆäºŒï¼‰"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-11-18T16:02:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Moe488"/> <meta itemprop="url" content="https://juejin.cn/user/1863002275971387"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ConcurrentHashMap é‡è¦æ–¹æ³•å®ç°åŸç†å’Œæºç è§£æï¼ˆäºŒï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1863002275971387/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Moe488
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T16:02:20.000Z" title="Tue Nov 18 2025 16:02:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‰ä¸€ç¯‡ï¼š[ConcurrentHashMap é‡è¦æ–¹æ³•å®ç°åŸç†å’Œæºç è§£æï¼ˆä¸€ï¼‰(<a href="https://juejin.cn/post/7573890735579070474" target="_blank" title="https://juejin.cn/post/7573890735579070474">juejin.cn/post/757389â€¦</a>)</p>
<h2 data-id="heading-0">ä¹ã€treeifyBin() æ–¹æ³•</h2>
<h3 data-id="heading-1">æ ¸å¿ƒä½œç”¨</h3>
<p>é“¾è¡¨è½¬çº¢é»‘æ ‘æˆ–è€…æ‰©å®¹æ–¹æ³•ã€‚</p>
<h3 data-id="heading-2">æ ¸å¿ƒå¸¸é‡</h3>
<ul>
<li><strong>MIN_TREEIFY_CAPACITY</strong>ï¼šè§¦å‘çº¢é»‘æ ‘è½¬æ¢çš„æœ€å°å“ˆå¸Œè¡¨å®¹é‡ï¼Œé»˜è®¤å€¼ 64ï¼ˆå®¹é‡å°äºæ­¤å€¼æ—¶ï¼Œä¼˜å…ˆæ‰©å®¹è€Œéè½¬æ ‘ï¼‰</li>
<li><strong>TreeNode&lt;K,V&gt;</strong>ï¼šçº¢é»‘æ ‘çš„èŠ‚ç‚¹ç±»å‹ï¼Œç»§æ‰¿ Nodeï¼Œé¢å¤–åŒ…å«çº¢é»‘æ ‘æ‰€éœ€çš„ prevï¼ˆå‰é©±ï¼‰ã€nextï¼ˆåç»§ï¼‰ã€parentï¼ˆçˆ¶èŠ‚ç‚¹ï¼‰ã€leftï¼ˆå·¦å­æ ‘ï¼‰ã€rightï¼ˆå³å­æ ‘ï¼‰ã€redï¼ˆé¢œè‰²æ ‡è®°ï¼‰å­—æ®µ</li>
<li><strong>TreeBin&lt;K,V&gt;</strong>ï¼šçº¢é»‘æ ‘çš„ã€Œå®¹å™¨èŠ‚ç‚¹ã€ï¼Œå°è£… TreeNode ç»„æˆçš„çº¢é»‘æ ‘ï¼Œè´Ÿè´£å¤„ç†å¹¶å‘åœºæ™¯ä¸‹çš„æŸ¥è¯¢ã€æ’å…¥ã€åˆ é™¤ç­‰æ“ä½œï¼ˆé¿å…ç›´æ¥æš´éœ² TreeNode å¯¼è‡´çš„å¹¶å‘å®‰å…¨é—®é¢˜ï¼‰</li>
</ul>
<h3 data-id="heading-3">æºç å®ç°</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">treeifyBin</span><span class="hljs-params">(Node&lt;K,V&gt;[] tab, <span class="hljs-type">int</span> index)</span> {
    <span class="hljs-comment">// å±€éƒ¨å˜é‡ï¼šb=ç›®æ ‡æ¡¶çš„å¤´èŠ‚ç‚¹ï¼›n=å“ˆå¸Œè¡¨å®¹é‡ï¼›sc=æ‰©å®¹æ§åˆ¶å‚æ•°ï¼ˆè¾…åŠ©tryPresizeï¼‰</span>
    Node&lt;K,V&gt; b; <span class="hljs-type">int</span> n, sc;
    <span class="hljs-comment">// 1. æ ¡éªŒå“ˆå¸Œè¡¨éç©ºï¼ˆæœªåˆå§‹åŒ–åˆ™æ— éœ€å¤„ç†ï¼‰</span>
    <span class="hljs-keyword">if</span> (tab != <span class="hljs-literal">null</span>) {
        <span class="hljs-comment">// åœºæ™¯ 1ï¼šå“ˆå¸Œè¡¨å®¹é‡ &lt; æœ€å°è½¬æ ‘å®¹é‡ï¼ˆ64ï¼‰â†’ ä¼˜å…ˆæ‰©å®¹ï¼Œä¸è½¬æ ‘</span>
        <span class="hljs-keyword">if</span> ((n = tab.length) &lt; MIN_TREEIFY_CAPACITY)
            tryPresize(n &lt;&lt; <span class="hljs-number">1</span>); <span class="hljs-comment">// æ‰©å®¹ä¸ºåŸå®¹é‡çš„ 2 å€ï¼ˆn&lt;&lt;1 ç­‰ä»·äº n*2ï¼‰</span>
        <span class="hljs-comment">// åœºæ™¯ 2ï¼šå“ˆå¸Œè¡¨å®¹é‡â‰¥64ï¼Œä¸”ç›®æ ‡æ¡¶çš„å¤´èŠ‚ç‚¹æ˜¯æ™®é€šé“¾è¡¨èŠ‚ç‚¹ï¼ˆb.hashâ‰¥0ï¼‰</span>
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((b = tabAt(tab, index)) != <span class="hljs-literal">null</span> &amp;&amp; b.hash &gt;= <span class="hljs-number">0</span>) {
            <span class="hljs-comment">// 2. é”å®šç›®æ ‡æ¡¶çš„å¤´èŠ‚ç‚¹ï¼šæ¡¶çº§é”ï¼Œä¿è¯è½¬æ¢è¿‡ç¨‹ä¸­æ¡¶å†…æ•°æ®ä¸è¢«å¹¶å‘ä¿®æ”¹</span>
            <span class="hljs-keyword">synchronized</span> (b) {
                <span class="hljs-comment">// 3. äºŒæ¬¡æ ¡éªŒï¼šç¡®ä¿åŠ é”å‰ï¼Œå¤´èŠ‚ç‚¹æœªè¢«å…¶ä»–çº¿ç¨‹ä¿®æ”¹ï¼ˆå¦‚æ‰©å®¹è¿ç§»ã€å·²è½¬æ ‘ï¼‰</span>
                <span class="hljs-keyword">if</span> (tabAt(tab, index) == b) {
                    <span class="hljs-comment">// å±€éƒ¨å˜é‡ï¼šhd=çº¢é»‘æ ‘æ ¹èŠ‚ç‚¹ï¼›tl=çº¢é»‘æ ‘å°¾èŠ‚ç‚¹ï¼ˆæ„å»ºTreeNodeåŒå‘é“¾è¡¨ç”¨ï¼‰</span>
                    TreeNode&lt;K,V&gt; hd = <span class="hljs-literal">null</span>, tl = <span class="hljs-literal">null</span>;
                    <span class="hljs-comment">// 4. éå†é“¾è¡¨ï¼Œå°†æ‰€æœ‰æ™®é€š Node è½¬ä¸º TreeNode</span>
                    <span class="hljs-keyword">for</span> (Node&lt;K,V&gt; e = b; e != <span class="hljs-literal">null</span>; e = e.next) {
                        <span class="hljs-comment">// åˆ›å»º TreeNodeï¼šå¤åˆ¶åŸ Node çš„ hashã€keyã€valueï¼Œprev/next æš‚ä¸º null</span>
                        TreeNode&lt;K,V&gt; p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>&lt;K,V&gt;(e.hash, e.key, e.val, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>);
                        <span class="hljs-comment">// æ„å»º TreeNode åŒå‘é“¾è¡¨ï¼ˆprev å‰é©±ï¼Œnext åç»§ï¼‰</span>
                        <span class="hljs-keyword">if</span> ((p.prev = tl) == <span class="hljs-literal">null</span>)
                            hd = p; <span class="hljs-comment">// ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºé“¾è¡¨å¤´ï¼ˆåç»­å°†æˆä¸ºçº¢é»‘æ ‘æ ¹ï¼‰</span>
                        <span class="hljs-keyword">else</span>
                            tl.next = p; <span class="hljs-comment">// å‰ä¸€ä¸ªèŠ‚ç‚¹çš„ next æŒ‡å‘å½“å‰èŠ‚ç‚¹</span>
                        tl = p; <span class="hljs-comment">// å°¾èŠ‚ç‚¹æŒ‡é’ˆåç§»</span>
                    }
                    <span class="hljs-comment">// 5. ç”¨ TreeBin åŒ…è£… TreeNode åŒå‘é“¾è¡¨ï¼Œæ›¿æ¢åŸæ¡¶çš„å¤´èŠ‚ç‚¹</span>
                    setTabAt(tab, index, <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeBin</span>&lt;K,V&gt;(hd));
                }
            }
        }
    }
}
</code></pre>
<h2 data-id="heading-4">åã€putAll() æ–¹æ³•</h2>
<h3 data-id="heading-5">å®ç°è¯´æ˜</h3>
<p>å…ˆæ‰©å®¹ï¼Œå†å¾ªç¯æ‰§è¡Œ <code>put()</code> æ–¹æ³•ã€‚</p>
<h3 data-id="heading-6">æºç å®ç°</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">putAll</span><span class="hljs-params">(Map&lt;? extends K, ? extends V&gt; m)</span> {
    tryPresize(m.size());
    <span class="hljs-keyword">for</span> (Map.Entry&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">K</span>, ? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">V</span>&gt; e : m.entrySet())
        putVal(e.getKey(), e.getValue(), <span class="hljs-literal">false</span>);
}
</code></pre>
<h2 data-id="heading-7">åä¸€ã€remove() æ–¹æ³•</h2>
<h3 data-id="heading-8">å…¬å¼€ remove æ–¹æ³•</h3>
<p>ç›´æ¥è°ƒç”¨ <code>replaceNode</code>ï¼Œä¼ å…¥ <code>value=null</code>ã€<code>cv=null</code>ï¼ˆæ— æ¡ä»¶åˆ é™¤ï¼‰ã€‚</p>
<h3 data-id="heading-9">æºç å®ç°</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> V <span class="hljs-title function_">remove</span><span class="hljs-params">(Object key)</span> {
    <span class="hljs-keyword">return</span> replaceNode(key, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>);
}
</code></pre>
<h2 data-id="heading-10">åäºŒã€replaceNode() æ–¹æ³•</h2>
<h3 data-id="heading-11">æ ¸å¿ƒä½œç”¨</h3>
<p>åº•å±‚æ ¸å¿ƒå®ç°ï¼šæ”¯æŒåˆ é™¤ã€æ›¿æ¢ã€æ¡ä»¶æ›¿æ¢ã€‚</p>
<h3 data-id="heading-12">å®ç°è¯´æ˜</h3>
<ol>
<li><strong>äºŒæ¬¡å“ˆå¸Œ</strong>ï¼šå’Œ <code>putVal</code>ã€<code>get</code> æ–¹æ³•ä¸€è‡´ï¼Œå‡å°‘å“ˆå¸Œç¢°æ’</li>
<li><strong>æ­»å¾ªç¯é‡è¯•</strong>ï¼šåº”å¯¹å¹¶å‘åœºæ™¯ï¼ˆåˆå§‹åŒ–ã€æ‰©å®¹ã€CAS å¤±è´¥ï¼‰ï¼Œç›´åˆ°æ“ä½œå®Œæˆ</li>
<li><strong>ä¸‰ä¸ªåœºæ™¯å¤„ç†</strong>ï¼š
<ul>
<li><strong>åœºæ™¯1</strong>ï¼šå“ˆå¸Œè¡¨æœªåˆå§‹åŒ– æˆ– ç›®æ ‡æ¡¶ä¸ºç©º â†’ æ— å¯¹åº” keyï¼Œç›´æ¥è·³å‡ºå¾ªç¯è¿”å› null</li>
<li><strong>åœºæ™¯2</strong>ï¼šç›®æ ‡æ¡¶å¤´èŠ‚ç‚¹æ˜¯æ‰©å®¹æ ‡è®°ï¼ˆ<code>MOVED=-1</code>ï¼‰â†’ ååŠ©æ‰©å®¹åé‡è¯•</li>
<li><strong>åœºæ™¯3</strong>ï¼šç›®æ ‡æ¡¶æœ‰èŠ‚ç‚¹ï¼ˆéç©ºã€éæ‰©å®¹ï¼‰â†’ æ¡¶çº§åŠ é”æ‰§è¡Œæ“ä½œ
<ul>
<li><strong>å­åœºæ™¯3.1</strong>ï¼šå¤´èŠ‚ç‚¹æ˜¯é“¾è¡¨èŠ‚ç‚¹ï¼ˆ<code>fhâ‰¥0</code>ï¼‰
<ul>
<li>éå†é“¾è¡¨æŸ¥æ‰¾ç›®æ ‡èŠ‚ç‚¹</li>
<li>åŒ¹é… keyï¼šhash ç›¸ç­‰ + key åœ°å€/å†…å®¹ç›¸ç­‰</li>
<li>åŒ¹é…æ¡ä»¶ cvï¼šcv ä¸º nullï¼ˆæ— æ¡ä»¶ï¼‰æˆ– cv ä¸å½“å‰ value ç›¸ç­‰</li>
<li>æ‰§è¡Œæ“ä½œï¼švalue éç©ºåˆ™æ›¿æ¢ï¼Œä¸ºç©ºåˆ™åˆ é™¤</li>
</ul>
</li>
<li><strong>å­åœºæ™¯3.2</strong>ï¼šå¤´èŠ‚ç‚¹æ˜¯çº¢é»‘æ ‘å®¹å™¨ï¼ˆTreeBinï¼‰
<ul>
<li>æŸ¥æ‰¾çº¢é»‘æ ‘ä¸­çš„ç›®æ ‡èŠ‚ç‚¹ï¼ˆ<code>findTreeNode</code> æ–¹æ³•éå†çº¢é»‘æ ‘ï¼‰</li>
<li>åŒ¹é… cv æ¡ä»¶</li>
<li>æ‰§è¡Œæ“ä½œï¼šæ›¿æ¢ value æˆ– åˆ é™¤èŠ‚ç‚¹</li>
<li>çº¢é»‘æ ‘èŠ‚ç‚¹æ•° â‰¤ 6ï¼Œå›é€€ä¸ºé“¾è¡¨ï¼ˆ<code>untreeify</code> æ–¹æ³•ï¼‰</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>åç»­å¤„ç†</strong>ï¼šæ“ä½œå®Œæˆåï¼Œè‹¥ä»…åˆ é™¤æ“ä½œéœ€è¦æ›´æ–°è®¡æ•°ï¼ˆå‡å°‘ 1ï¼‰</li>
</ol>
<h3 data-id="heading-13">æºç å®ç°</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">final</span> V <span class="hljs-title function_">replaceNode</span><span class="hljs-params">(Object key, V value, Object cv)</span> {
    <span class="hljs-comment">// 1. äºŒæ¬¡å“ˆå¸Œï¼šå’ŒputValã€getæ–¹æ³•ä¸€è‡´ï¼Œå‡å°‘å“ˆå¸Œç¢°æ’</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">hash</span> <span class="hljs-operator">=</span> spread(key.hashCode());
    <span class="hljs-comment">// 2. æ­»å¾ªç¯é‡è¯•ï¼šåº”å¯¹å¹¶å‘åœºæ™¯ï¼ˆåˆå§‹åŒ–ã€æ‰©å®¹ã€CASå¤±è´¥ï¼‰ï¼Œç›´åˆ°æ“ä½œå®Œæˆ</span>
    <span class="hljs-keyword">for</span> (Node&lt;K,V&gt;[] tab = table;;) {
        Node&lt;K,V&gt; f; <span class="hljs-type">int</span> n, i, fh;
        <span class="hljs-comment">// åœºæ™¯1ï¼šå“ˆå¸Œè¡¨æœªåˆå§‹åŒ– æˆ– ç›®æ ‡æ¡¶ä¸ºç©º â†’ æ— å¯¹åº”keyï¼Œç›´æ¥è·³å‡ºå¾ªç¯è¿”å›null</span>
        <span class="hljs-keyword">if</span> (tab == <span class="hljs-literal">null</span> || (n = tab.length) == <span class="hljs-number">0</span> ||
            (f = tabAt(tab, i = (n - <span class="hljs-number">1</span>) &amp; hash)) == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">break</span>;
        <span class="hljs-comment">// åœºæ™¯2ï¼šç›®æ ‡æ¡¶å¤´èŠ‚ç‚¹æ˜¯æ‰©å®¹æ ‡è®°ï¼ˆMOVED=-1ï¼‰â†’ ååŠ©æ‰©å®¹åé‡è¯•</span>
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((fh = f.hash) == MOVED)
            tab = helpTransfer(tab, f);
        <span class="hljs-comment">// åœºæ™¯3ï¼šç›®æ ‡æ¡¶æœ‰èŠ‚ç‚¹ï¼ˆéç©ºã€éæ‰©å®¹ï¼‰â†’ æ¡¶çº§åŠ é”æ‰§è¡Œæ“ä½œ</span>
        <span class="hljs-keyword">else</span> {
            <span class="hljs-type">V</span> <span class="hljs-variable">oldVal</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>; <span class="hljs-comment">// å­˜å‚¨è¢«åˆ é™¤/æ›¿æ¢çš„æ—§å€¼</span>
            <span class="hljs-type">boolean</span> <span class="hljs-variable">validated</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// æ ‡è®°æ˜¯å¦æ‰¾åˆ°å¹¶å¤„ç†ç›®æ ‡èŠ‚ç‚¹</span>
            <span class="hljs-comment">// é”å®šæ¡¶çš„å¤´èŠ‚ç‚¹ï¼šä»…å½±å“å½“å‰æ¡¶ï¼Œä¸é˜»å¡å…¶ä»–æ¡¶æ“ä½œ</span>
            <span class="hljs-keyword">synchronized</span> (f) {
                <span class="hljs-comment">// äºŒæ¬¡æ ¡éªŒï¼šç¡®ä¿åŠ é”å‰å¤´èŠ‚ç‚¹æœªè¢«ä¿®æ”¹ï¼ˆå¦‚æ‰©å®¹è¿ç§»ã€è½¬æ ‘ï¼‰</span>
                <span class="hljs-keyword">if</span> (tabAt(tab, i) == f) {
                    <span class="hljs-comment">// å­åœºæ™¯3.1ï¼šå¤´èŠ‚ç‚¹æ˜¯é“¾è¡¨èŠ‚ç‚¹ï¼ˆfhâ‰¥0ï¼‰</span>
                    <span class="hljs-keyword">if</span> (fh &gt;= <span class="hljs-number">0</span>) {
                        validated = <span class="hljs-literal">true</span>;
                        Node&lt;K,V&gt; pred = <span class="hljs-literal">null</span>; <span class="hljs-comment">// å‰é©±èŠ‚ç‚¹ï¼ˆç”¨äºåˆ é™¤æ—¶è°ƒæ•´æŒ‡é’ˆï¼‰</span>
                        <span class="hljs-comment">// éå†é“¾è¡¨æŸ¥æ‰¾ç›®æ ‡èŠ‚ç‚¹</span>
                        <span class="hljs-keyword">for</span> (Node&lt;K,V&gt; e = f;;) {
                            K ek;
                            <span class="hljs-comment">// åŒ¹é…keyï¼šhashç›¸ç­‰ + keyåœ°å€/å†…å®¹ç›¸ç­‰</span>
                            <span class="hljs-keyword">if</span> (e.hash == hash &amp;&amp; ((ek = e.key) == key || (ek != <span class="hljs-literal">null</span> &amp;&amp; key.equals(ek)))) {
                                <span class="hljs-type">V</span> <span class="hljs-variable">ev</span> <span class="hljs-operator">=</span> e.val;
                                <span class="hljs-comment">// åŒ¹é…æ¡ä»¶cvï¼šcvä¸ºnullï¼ˆæ— æ¡ä»¶ï¼‰æˆ– cvä¸å½“å‰valueç›¸ç­‰</span>
                                <span class="hljs-keyword">if</span> (cv == <span class="hljs-literal">null</span> || cv == ev || (ev != <span class="hljs-literal">null</span> &amp;&amp; cv.equals(ev))) {
                                    oldVal = ev; <span class="hljs-comment">// è®°å½•æ—§å€¼</span>
                                    <span class="hljs-comment">// æ‰§è¡Œæ“ä½œï¼švalueéç©ºåˆ™æ›¿æ¢ï¼Œä¸ºç©ºåˆ™åˆ é™¤</span>
                                    <span class="hljs-keyword">if</span> (value != <span class="hljs-literal">null</span>)
                                        e.val = value; <span class="hljs-comment">// æ›¿æ¢valueï¼ˆå¯¹åº”replaceæ–¹æ³•ï¼‰</span>
                                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pred != <span class="hljs-literal">null</span>)
                                        pred.next = e.next; <span class="hljs-comment">// éå¤´èŠ‚ç‚¹ï¼šå‰é©±èŠ‚ç‚¹æŒ‡å‘å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ª</span>
                                    <span class="hljs-keyword">else</span>
                                        setTabAt(tab, i, e.next); <span class="hljs-comment">// å¤´èŠ‚ç‚¹ï¼šç›´æ¥æ›¿æ¢æ¡¶çš„å¤´èŠ‚ç‚¹ä¸ºä¸‹ä¸€ä¸ª</span>
                                }
                                <span class="hljs-keyword">break</span>; <span class="hljs-comment">// æ“ä½œå®Œæˆï¼Œè·³å‡ºéå†</span>
                            }
                            pred = e; <span class="hljs-comment">// å‰é©±èŠ‚ç‚¹åç§»</span>
                            <span class="hljs-keyword">if</span> ((e = e.next) == <span class="hljs-literal">null</span>)
                                <span class="hljs-keyword">break</span>; <span class="hljs-comment">// éå†ç»“æŸæœªæ‰¾åˆ°ï¼Œè·³å‡º</span>
                        }
                    }
                    <span class="hljs-comment">// å­åœºæ™¯3.2ï¼šå¤´èŠ‚ç‚¹æ˜¯çº¢é»‘æ ‘å®¹å™¨ï¼ˆTreeBinï¼‰</span>
                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (f <span class="hljs-keyword">instanceof</span> TreeBin) {
                        validated = <span class="hljs-literal">true</span>;
                        TreeBin&lt;K,V&gt; t = (TreeBin&lt;K,V&gt;)f;
                        TreeNode&lt;K,V&gt; r, p;
                        <span class="hljs-comment">// æŸ¥æ‰¾çº¢é»‘æ ‘ä¸­çš„ç›®æ ‡èŠ‚ç‚¹ï¼ˆfindTreeNodeæ–¹æ³•éå†çº¢é»‘æ ‘ï¼‰</span>
                        <span class="hljs-keyword">if</span> ((r = t.root) != <span class="hljs-literal">null</span> &amp;&amp; (p = r.findTreeNode(hash, key, <span class="hljs-literal">null</span>)) != <span class="hljs-literal">null</span>) {
                            <span class="hljs-type">V</span> <span class="hljs-variable">pv</span> <span class="hljs-operator">=</span> p.val;
                            <span class="hljs-comment">// åŒ¹é…cvæ¡ä»¶</span>
                            <span class="hljs-keyword">if</span> (cv == <span class="hljs-literal">null</span> || cv == pv || (pv != <span class="hljs-literal">null</span> &amp;&amp; cv.equals(pv))) {
                                oldVal = pv;
                                <span class="hljs-comment">// æ‰§è¡Œæ“ä½œï¼šæ›¿æ¢value æˆ– åˆ é™¤èŠ‚ç‚¹</span>
                                <span class="hljs-keyword">if</span> (value != <span class="hljs-literal">null</span>)
                                    p.val = value; <span class="hljs-comment">// æ›¿æ¢value</span>
                                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (t.removeTreeNode(p)) <span class="hljs-comment">// åˆ é™¤çº¢é»‘æ ‘èŠ‚ç‚¹ï¼Œè¿”å›æ˜¯å¦éœ€è¦è½¬é“¾è¡¨</span>
                                    <span class="hljs-comment">// çº¢é»‘æ ‘èŠ‚ç‚¹æ•°â‰¤6ï¼Œå›é€€ä¸ºé“¾è¡¨ï¼ˆuntreeifyæ–¹æ³•ï¼‰</span>
                                    setTabAt(tab, i, untreeify(t.first));
                            }
                        }
                    }
                }
            }
            <span class="hljs-comment">// æ“ä½œå®Œæˆåçš„åç»­å¤„ç†</span>
            <span class="hljs-keyword">if</span> (validated) {
                <span class="hljs-keyword">if</span> (oldVal != <span class="hljs-literal">null</span>) {
                    <span class="hljs-keyword">if</span> (value == <span class="hljs-literal">null</span>) <span class="hljs-comment">// ä»…åˆ é™¤æ“ä½œéœ€è¦æ›´æ–°è®¡æ•°ï¼ˆå‡å°‘1ï¼‰</span>
                        addCount(-<span class="hljs-number">1L</span>, -<span class="hljs-number">1</span>);
                    <span class="hljs-keyword">return</span> oldVal; <span class="hljs-comment">// è¿”å›è¢«åˆ é™¤/æ›¿æ¢çš„æ—§å€¼</span>
                }
                <span class="hljs-keyword">break</span>; <span class="hljs-comment">// æœªæ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œè·³å‡ºå¾ªç¯</span>
            }
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>; <span class="hljs-comment">// æœªæ‰¾åˆ°keyï¼Œè¿”å›null</span>
}
</code></pre>
<h2 data-id="heading-14">åä¸‰ã€values() å’Œ entrySet() æ–¹æ³•</h2>
<p>ConcurrentHashMap çš„ <code>values()</code> å’Œ <code>entrySet()</code> æ–¹æ³•ï¼Œå‡è¿”å›åŸºäºåº•å±‚æ•°æ®çš„ã€Œè§†å›¾ï¼ˆViewï¼‰ã€è€Œéæ‹·è´ï¼Œæ ¸å¿ƒè®¾è®¡é€»è¾‘ä¸€è‡´ï¼ˆæ‡’åŠ è½½ + ç¼“å­˜å¤ç”¨ã€å¼±ä¸€è‡´æ€§ï¼‰ï¼Œä½†è§†å›¾ç±»å‹ã€æ”¯æŒçš„æ“ä½œåŠç”¨é€”ä¸åŒï¼š</p>
<ul>
<li><strong>values()</strong>ï¼šè¿”å› <code>Collection&lt;V&gt;</code> ç±»å‹è§†å›¾ï¼Œä»…å…³æ³¨ã€Œå€¼ã€ï¼Œæ”¯æŒé€šè¿‡è§†å›¾åˆ é™¤æ˜ å°„ï¼Œä¸æ”¯æŒæ·»åŠ </li>
<li><strong>entrySet()</strong>ï¼šè¿”å› <code>Set&lt;Map.Entry&lt;K,V&gt;&gt;</code> ç±»å‹è§†å›¾ï¼Œå…³è”ã€Œé”®å€¼å¯¹ã€ï¼Œæ”¯æŒåˆ é™¤æ˜ å°„å’Œé€šè¿‡ <code>Entry.setValue()</code> ä¿®æ”¹å€¼ï¼Œä¸æ”¯æŒæ·»åŠ </li>
</ul>
<p>ä¸¤è€…å‡é¿å…ä¸€æ¬¡æ€§æ‹·è´æ‰€æœ‰æ•°æ®ï¼ˆèŠ‚çœå†…å­˜ + å®æ—¶åæ˜ åº•å±‚å˜åŒ–ï¼‰ï¼Œé€‚é…é«˜å¹¶å‘åœºæ™¯çš„éå†/ä¿®æ”¹éœ€æ±‚ã€‚</p>
<h3 data-id="heading-15">æºç å®ç°</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() {
    EntrySetView&lt;K,V&gt; es;
    <span class="hljs-comment">// values()ï¼šç¼“å­˜å­—æ®µ valuesï¼ˆvolatile ValuesView&lt;K,V&gt;ï¼‰</span>
    <span class="hljs-keyword">return</span> (es = entrySet) != <span class="hljs-literal">null</span> ? es : (entrySet = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EntrySetView</span>&lt;K,V&gt;(<span class="hljs-built_in">this</span>));
}

<span class="hljs-keyword">public</span> Collection&lt;V&gt; <span class="hljs-title function_">values</span><span class="hljs-params">()</span> {
    ValuesView&lt;K,V&gt; vs;
    <span class="hljs-comment">// entrySet()ï¼šç¼“å­˜å­—æ®µ entrySetï¼ˆvolatile EntrySetView&lt;K,V&gt;ï¼‰</span>
    <span class="hljs-keyword">return</span> (vs = values) != <span class="hljs-literal">null</span> ? vs : (values = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ValuesView</span>&lt;K,V&gt;(<span class="hljs-built_in">this</span>));
}
</code></pre>
<h2 data-id="heading-16">åå››ã€toString() æ–¹æ³•</h2>
<h3 data-id="heading-17">å®ç°è¯´æ˜</h3>
<ol>
<li>åˆ›å»º Traverser å…¨è¡¨éå†å™¨</li>
<li>åˆ›å»º StringBuilder è¿›è¡Œå­—ç¬¦ä¸²çš„æ‹¼æ¥</li>
</ol>
<h3 data-id="heading-18">æºç é€è¡Œè§£æ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// å±€éƒ¨å˜é‡ï¼št=å“ˆå¸Œè¡¨æ•°ç»„ï¼›f=tableé•¿åº¦ï¼ˆæœªåˆå§‹åŒ–åˆ™ä¸º0ï¼‰</span>
    Node&lt;K,V&gt;[] t;
    <span class="hljs-type">int</span> <span class="hljs-variable">f</span> <span class="hljs-operator">=</span> (t = table) == <span class="hljs-literal">null</span> ? <span class="hljs-number">0</span> : t.length;
    <span class="hljs-comment">// 1. åˆ›å»ºå…¨è¡¨éå†å™¨ï¼šéå†èŒƒå›´0~f-1ï¼ˆè¦†ç›–æ‰€æœ‰æ¡¶ï¼‰</span>
    Traverser&lt;K,V&gt; it = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Traverser</span>&lt;K,V&gt;(t, f, <span class="hljs-number">0</span>, f);
    <span class="hljs-comment">// 2. åˆå§‹åŒ–å­—ç¬¦ä¸²æ„å»ºå™¨ï¼ˆé«˜æ•ˆæ‹¼æ¥å­—ç¬¦ä¸²ï¼Œé¿å…Stringé¢‘ç¹åˆ›å»ºï¼‰</span>
    <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
    sb.append(<span class="hljs-string">'{'</span>); <span class="hljs-comment">// èµ·å§‹ç¬¦</span>
    Node&lt;K,V&gt; p;
    <span class="hljs-comment">// 3. è¯»å–ç¬¬ä¸€ä¸ªæœ‰æ•ˆèŠ‚ç‚¹ï¼ˆit.advance()è¿”å›ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œnullè¡¨ç¤ºéå†ç»“æŸï¼‰</span>
    <span class="hljs-keyword">if</span> ((p = it.advance()) != <span class="hljs-literal">null</span>) {
        <span class="hljs-comment">// 4. å¾ªç¯éå†æ‰€æœ‰èŠ‚ç‚¹ï¼Œæ‹¼æ¥é”®å€¼å¯¹</span>
        <span class="hljs-keyword">for</span> (;;) {
            <span class="hljs-type">K</span> <span class="hljs-variable">k</span> <span class="hljs-operator">=</span> p.key;
            <span class="hljs-type">V</span> <span class="hljs-variable">v</span> <span class="hljs-operator">=</span> p.val;
            <span class="hljs-comment">// æ‹¼æ¥keyï¼šè‹¥keyæ˜¯å½“å‰mapå®ä¾‹ï¼Œæ›¿æ¢ä¸º"(this Map)"ï¼ˆé˜²å¾ªç¯å¼•ç”¨ï¼‰</span>
            sb.append(k == <span class="hljs-built_in">this</span> ? <span class="hljs-string">"(this Map)"</span> : k);
            sb.append(<span class="hljs-string">'='</span>);
            <span class="hljs-comment">// æ‹¼æ¥valueï¼šè‹¥valueæ˜¯å½“å‰mapå®ä¾‹ï¼Œæ›¿æ¢ä¸º"(this Map)"ï¼ˆé˜²å¾ªç¯å¼•ç”¨ï¼‰</span>
            sb.append(v == <span class="hljs-built_in">this</span> ? <span class="hljs-string">"(this Map)"</span> : v);
            <span class="hljs-comment">// è¯»å–ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ— èŠ‚ç‚¹åˆ™è·³å‡ºå¾ªç¯</span>
            <span class="hljs-keyword">if</span> ((p = it.advance()) == <span class="hljs-literal">null</span>)
                <span class="hljs-keyword">break</span>;
            sb.append(<span class="hljs-string">','</span>).append(<span class="hljs-string">' '</span>); <span class="hljs-comment">// åˆ†éš”ç¬¦</span>
        }
    }
    <span class="hljs-comment">// æ‹¼æ¥ç»“æŸç¬¦ï¼Œè¿”å›æœ€ç»ˆå­—ç¬¦ä¸²</span>
    <span class="hljs-keyword">return</span> sb.append(<span class="hljs-string">'}'</span>).toString();
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[springbootçš„å¯åŠ¨æµç¨‹æ ¸å¿ƒåŸç†]]></title>    <link>https://juejin.cn/post/7573892573346037812</link>    <guid>https://juejin.cn/post/7573892573346037812</guid>    <pubDate>2025-11-18T17:36:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573892573346037812" data-draft-id="7570978150009552934" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="springbootçš„å¯åŠ¨æµç¨‹æ ¸å¿ƒåŸç†"/> <meta itemprop="keywords" content="åç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-18T17:36:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="éšé£é£˜çš„äº‘"/> <meta itemprop="url" content="https://juejin.cn/user/361110952753560"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            springbootçš„å¯åŠ¨æµç¨‹æ ¸å¿ƒåŸç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/361110952753560/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    éšé£é£˜çš„äº‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T17:36:40.000Z" title="Tue Nov 18 2025 17:36:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Spring Boot çš„å¯åŠ¨æµç¨‹æ ¸å¿ƒæ˜¯Â  <strong>â€œè‡ªåŠ¨é…ç½® + å®¹å™¨åˆå§‹åŒ– + åº”ç”¨å°±ç»ªâ€</strong> ï¼Œé€šè¿‡å°è£… Spring æ¡†æ¶çš„ç¹çé…ç½®ï¼Œå®ç° â€œä¸€é”®å¯åŠ¨â€ã€‚æ•´ä¸ªæµç¨‹å¯æ‹†è§£ä¸ºÂ <strong>3 å¤§é˜¶æ®µã€10 ä¸ªå…³é”®æ­¥éª¤</strong>ï¼Œä»å…¥å£ç±»æ‰§è¡Œåˆ° Web æœåŠ¡å¯åŠ¨ï¼Œæ¯ä¸€æ­¥éƒ½å›´ç»• â€œç®€åŒ–é…ç½®ã€å¿«é€Ÿéƒ¨ç½²â€ çš„æ ¸å¿ƒç›®æ ‡ï¼Œä¸‹é¢ç»“åˆæºç é€»è¾‘å’Œå®é™…åœºæ™¯è¯¦ç»†æ‹†è§£ï¼š</p>
<h3 data-id="heading-0">ä¸€ã€å¯åŠ¨æµç¨‹æ€»è§ˆï¼ˆæ ¸å¿ƒ 3 é˜¶æ®µï¼‰</h3>
<pre><code class="hljs">å‡†å¤‡é˜¶æ®µï¼ˆåˆå§‹åŒ–ç¯å¢ƒ/å‚æ•°ï¼‰â†’ åˆå§‹åŒ–é˜¶æ®µï¼ˆåˆ›å»ºå®¹å™¨/è‡ªåŠ¨é…ç½®ï¼‰â†’ è¿è¡Œé˜¶æ®µï¼ˆå¯åŠ¨WebæœåŠ¡/åº”ç”¨å°±ç»ªï¼‰
</code></pre>
<ul>
<li>å‡†å¤‡é˜¶æ®µï¼šè§£æå¯åŠ¨å‚æ•°ã€åˆå§‹åŒ–ç¯å¢ƒï¼ˆé…ç½®æ–‡ä»¶ã€ç³»ç»Ÿå˜é‡ï¼‰ã€åˆ›å»ºå¯åŠ¨å™¨ï¼›</li>
<li>åˆå§‹åŒ–é˜¶æ®µï¼šåˆ›å»º Spring å®¹å™¨ï¼ˆApplicationContextï¼‰ã€æ‰§è¡Œè‡ªåŠ¨é…ç½®ã€æ‰«æå¹¶æ³¨å†Œ Beanï¼›</li>
<li>è¿è¡Œé˜¶æ®µï¼šå¯åŠ¨åµŒå…¥å¼ Web æœåŠ¡å™¨ï¼ˆå¦‚ Tomcatï¼‰ã€å‘å¸ƒå®¹å™¨å°±ç»ªäº‹ä»¶ã€åº”ç”¨è¿›å…¥è¿è¡ŒçŠ¶æ€ã€‚</li>
</ul>
<h3 data-id="heading-1">äºŒã€è¯¦ç»†å¯åŠ¨æ­¥éª¤ï¼ˆç»“åˆæºç  + ç¤ºä¾‹ï¼‰</h3>
<h4 data-id="heading-2">å‰æï¼šå¯åŠ¨ç±»åŸºç¡€ç»“æ„</h4>
<p>Spring Boot å¯åŠ¨çš„å…¥å£æ˜¯Â <strong>æ ‡æ³¨Â <code>@SpringBootApplication</code>Â çš„ä¸»ç±»</strong>ï¼Œæ ¸å¿ƒæ˜¯Â <code>SpringApplication.run(...)</code>Â æ–¹æ³•ï¼Œç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@SpringBootApplication</span> <span class="hljs-comment">// æ ¸å¿ƒæ³¨è§£ï¼ˆåŒ…å«3ä¸ªå…³é”®æ³¨è§£ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringBootDemoApplication</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[] args</span>) {
        <span class="hljs-comment">// å¯åŠ¨å…¥å£ï¼šè¿”å› Spring åº”ç”¨ä¸Šä¸‹æ–‡ï¼ˆApplicationContextï¼‰</span>
        <span class="hljs-title class_">ConfigurableApplicationContext</span> context = <span class="hljs-title class_">SpringApplication</span>.<span class="hljs-title function_">run</span>(<span class="hljs-title class_">SpringBootDemoApplication</span>.<span class="hljs-property">class</span>, args);
    }
}
</code></pre>
<p><code>@SpringBootApplication</code>Â æ˜¯å¤åˆæ³¨è§£ï¼ŒåŒ…å« 3 ä¸ªæ ¸å¿ƒæ³¨è§£ï¼ˆå¯åŠ¨æµç¨‹çš„åŸºç¡€ï¼‰ï¼š</p>
<ul>
<li><code>@SpringBootConfiguration</code>ï¼šæ ‡è®°å½“å‰ç±»ä¸ºé…ç½®ç±»ï¼ˆç­‰ä»·äºÂ <code>@Configuration</code>ï¼‰ï¼›</li>
<li><code>@ComponentScan</code>ï¼šæ‰«æå½“å‰åŒ…åŠå­åŒ…ä¸‹çš„Â <code>@Component</code>ã€<code>@Service</code>ã€<code>@Controller</code>Â ç­‰ Beanï¼›</li>
<li><code>@EnableAutoConfiguration</code>ï¼šå¼€å¯è‡ªåŠ¨é…ç½®ï¼ˆæ ¸å¿ƒï¼é€šè¿‡Â <code>SpringFactoriesLoader</code>Â åŠ è½½è‡ªåŠ¨é…ç½®ç±»ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-3">æ­¥éª¤ 1ï¼šæ‰§è¡ŒÂ <code>SpringApplication.run(...)</code>Â æ–¹æ³•ï¼ˆå…¥å£ï¼‰</h4>
<p><code>SpringApplication.run(...)</code>Â æ˜¯å¯åŠ¨çš„æ ¸å¿ƒå…¥å£ï¼Œæœ¬è´¨æ˜¯Â <strong>åˆ›å»ºÂ <code>SpringApplication</code>Â å®ä¾‹ + è°ƒç”¨Â <code>run()</code>Â æ–¹æ³•</strong>ï¼Œæºç ç®€åŒ–ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title class_">ConfigurableApplicationContext</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">Class&lt;?&gt; primarySource, <span class="hljs-built_in">String</span>... args</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">run</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Class</span>&lt;?&gt;[] { primarySource }, args);
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title class_">ConfigurableApplicationContext</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">Class&lt;?&gt;[] primarySources, <span class="hljs-built_in">String</span>[] args</span>) {
    <span class="hljs-comment">// 1. åˆ›å»º SpringApplication å®ä¾‹ï¼ˆåˆå§‹åŒ–å¯åŠ¨å™¨ã€ç›‘å¬å™¨ç­‰ï¼‰</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SpringApplication</span>(primarySources).<span class="hljs-title function_">run</span>(args);
}
</code></pre>
<p>è¿™ä¸€æ­¥ä¼šå…ˆåˆå§‹åŒ–Â <code>SpringApplication</code>Â å®ä¾‹ï¼Œå†æ‰§è¡Œå…¶Â <code>run()</code>Â æ–¹æ³•ï¼ˆçœŸæ­£çš„å¯åŠ¨é€»è¾‘ï¼‰ã€‚</p>
<h4 data-id="heading-4">æ­¥éª¤ 2ï¼šåˆå§‹åŒ–Â <code>SpringApplication</code>Â å®ä¾‹ï¼ˆå‡†å¤‡é˜¶æ®µï¼‰</h4>
<p><code>SpringApplication</code>Â æ„é€ å‡½æ•°çš„æ ¸å¿ƒå·¥ä½œæ˜¯Â <strong>åˆå§‹åŒ–å¯åŠ¨ä¸Šä¸‹æ–‡ä¿¡æ¯</strong>ï¼ŒåŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>è®¾ç½®ä¸»è¦æºï¼ˆPrimary Sourcesï¼‰</strong> ï¼šè®°å½•å¯åŠ¨ç±»ï¼ˆå¦‚Â <code>SpringBootDemoApplication.class</code>ï¼‰ï¼Œåç»­ç”¨äºæ‰«æé…ç½®ï¼›</li>
<li><strong>åˆ¤æ–­åº”ç”¨ç±»å‹</strong>ï¼šé€šè¿‡Â <code>ClassUtils</code>Â æ£€æµ‹å½“å‰ç¯å¢ƒæ˜¯å¦å­˜åœ¨Â <code>Servlet</code>ã€<code>Reactive</code>Â ç›¸å…³ç±»ï¼Œè‡ªåŠ¨åˆ¤æ–­åº”ç”¨ç±»å‹ï¼ˆé»˜è®¤Â <code>ServletWebApplicationType</code>ï¼Œå³ä¼ ç»Ÿ Web åº”ç”¨ï¼‰ï¼›</li>
<li><strong>åŠ è½½åº”ç”¨ç›‘å¬å™¨ï¼ˆApplicationListenerï¼‰</strong> ï¼šé€šè¿‡Â <code>SpringFactoriesLoader</code>Â åŠ è½½Â <code>META-INF/spring.factories</code>Â ä¸­é…ç½®çš„æ‰€æœ‰Â <code>ApplicationListener</code>ï¼ˆç”¨äºç›‘å¬å¯åŠ¨è¿‡ç¨‹ä¸­çš„äº‹ä»¶ï¼Œå¦‚å®¹å™¨åˆå§‹åŒ–å®Œæˆã€Web æœåŠ¡å™¨å¯åŠ¨ç­‰ï¼‰ï¼›</li>
<li><strong>è®¾ç½®åº”ç”¨å…¥å£ç±»</strong>ï¼šé€šè¿‡æ ˆè¿½è¸ªæ‰¾åˆ°Â <code>main</code>Â æ–¹æ³•æ‰€åœ¨çš„ç±»ï¼ˆå³å¯åŠ¨ç±»ï¼‰ã€‚</li>
</ol>
<p>æºç ç®€åŒ–ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">public <span class="hljs-built_in">SpringApplication</span>(Class&lt;?&gt;... primarySources) {
    <span class="hljs-built_in">this</span>(null, primarySources);
}

public <span class="hljs-built_in">SpringApplication</span>(ResourceLoader resourceLoader, Class&lt;?&gt;... primarySources) {
    this<span class="hljs-selector-class">.resourceLoader</span> = resourceLoader;
    this<span class="hljs-selector-class">.primarySources</span> = new LinkedHashSet&lt;&gt;(Arrays.asList(primarySources));
    this<span class="hljs-selector-class">.webApplicationType</span> = WebApplicationType<span class="hljs-selector-class">.deduceFromClasspath</span>(); <span class="hljs-comment">// åˆ¤æ–­åº”ç”¨ç±»å‹</span>
    <span class="hljs-built_in">setInitializers</span>((Collection) <span class="hljs-built_in">getSpringFactoriesInstances</span>(ApplicationContextInitializer.class)); <span class="hljs-comment">// åŠ è½½åˆå§‹åŒ–å™¨</span>
    <span class="hljs-built_in">setListeners</span>((Collection) <span class="hljs-built_in">getSpringFactoriesInstances</span>(ApplicationListener.class)); <span class="hljs-comment">// åŠ è½½ç›‘å¬å™¨</span>
    this<span class="hljs-selector-class">.mainApplicationClass</span> = <span class="hljs-built_in">deduceMainApplicationClass</span>(); <span class="hljs-comment">// æ¨å¯¼å…¥å£ç±»</span>
}
</code></pre>
<h4 data-id="heading-5">æ­¥éª¤ 3ï¼šæ‰§è¡ŒÂ <code>SpringApplication.run(args)</code>Â æ ¸å¿ƒé€»è¾‘ï¼ˆåˆå§‹åŒ–é˜¶æ®µï¼‰</h4>
<p><code>SpringApplication</code>Â çš„Â <code>run()</code>Â æ–¹æ³•æ˜¯å¯åŠ¨æµç¨‹çš„æ ¸å¿ƒï¼ŒåŒ…å« â€œç¯å¢ƒå‡†å¤‡ã€å®¹å™¨åˆ›å»ºã€è‡ªåŠ¨é…ç½®ã€Bean æ³¨å†Œâ€ ç­‰å…³é”®æ“ä½œï¼Œæºç ç®€åŒ–åçš„æµç¨‹ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">public ConfigurableApplicationContext <span class="hljs-built_in">run</span>(String... args) {
    StopWatch stopWatch = new <span class="hljs-built_in">StopWatch</span>(); <span class="hljs-comment">// è®¡æ—¶å·¥å…·ï¼ˆè®°å½•å¯åŠ¨è€—æ—¶ï¼‰</span>
    stopWatch<span class="hljs-selector-class">.start</span>();

    ConfigurableApplicationContext context = null;
    Collection&lt;SpringBootExceptionReporter&gt; exceptionReporters = new ArrayList&lt;&gt;();
    <span class="hljs-built_in">configureHeadlessProperty</span>(); <span class="hljs-comment">// é…ç½®æ— å¤´æ¨¡å¼ï¼ˆé»˜è®¤ trueï¼Œç”¨äºæœåŠ¡å™¨ç¯å¢ƒï¼‰</span>

    <span class="hljs-comment">// 1. åŠ è½½ SpringApplicationRunListenerï¼ˆå¯åŠ¨ç›‘å¬å™¨ï¼Œç›‘å¬å¯åŠ¨å…¨æµç¨‹ï¼‰</span>
    SpringApplicationRunListeners listeners = <span class="hljs-built_in">getRunListeners</span>(args);
    listeners<span class="hljs-selector-class">.starting</span>(); <span class="hljs-comment">// å‘å¸ƒã€Œå¯åŠ¨å¼€å§‹ã€äº‹ä»¶ï¼ˆstartingï¼‰</span>

    try {
        <span class="hljs-comment">// 2. å‡†å¤‡åº”ç”¨å‚æ•°ï¼ˆå°è£…å‘½ä»¤è¡Œå‚æ•° argsï¼‰</span>
        ApplicationArguments applicationArguments = new <span class="hljs-built_in">DefaultApplicationArguments</span>(args);
        
        <span class="hljs-comment">// 3. å‡†å¤‡ç¯å¢ƒï¼ˆæ ¸å¿ƒï¼åŠ è½½é…ç½®æ–‡ä»¶ã€ç³»ç»Ÿå˜é‡ã€å‘½ä»¤è¡Œå‚æ•°ï¼‰</span>
        ConfigurableEnvironment environment = <span class="hljs-built_in">prepareEnvironment</span>(listeners, applicationArguments);
        <span class="hljs-built_in">configureIgnoreBeanInfo</span>(environment); <span class="hljs-comment">// é…ç½®å¿½ç•¥ Bean ä¿¡æ¯</span>
        
        <span class="hljs-comment">// 4. æ‰“å° Bannerï¼ˆå¯åŠ¨æ—¶çš„ Spring å›¾æ ‡ï¼Œå¯è‡ªå®šä¹‰ï¼‰</span>
        Banner printedBanner = <span class="hljs-built_in">printBanner</span>(environment);
        
        <span class="hljs-comment">// 5. åˆ›å»º Spring åº”ç”¨ä¸Šä¸‹æ–‡ï¼ˆApplicationContextï¼‰</span>
        context = <span class="hljs-built_in">createApplicationContext</span>();
        
        <span class="hljs-comment">// 6. åŠ è½½å¼‚å¸¸æŠ¥å‘Šå™¨ï¼ˆç”¨äºå¯åŠ¨å¤±è´¥æ—¶è¾“å‡ºè¯¦ç»†å¼‚å¸¸ä¿¡æ¯ï¼‰</span>
        exceptionReporters = <span class="hljs-built_in">getSpringFactoriesInstances</span>(SpringBootExceptionReporter.class,
                new Class[] { ConfigurableApplicationContext.class }, context);
        
        <span class="hljs-comment">// 7. å‡†å¤‡ä¸Šä¸‹æ–‡ï¼ˆæ ¸å¿ƒï¼å…³è”ç¯å¢ƒã€æ³¨å†Œ Beanã€æ‰§è¡Œè‡ªåŠ¨é…ç½®ï¼‰</span>
        <span class="hljs-built_in">prepareContext</span>(context, environment, listeners, applicationArguments, printedBanner);
        
        <span class="hljs-comment">// 8. åˆ·æ–°ä¸Šä¸‹æ–‡ï¼ˆæ ¸å¿ƒï¼Spring å®¹å™¨åˆå§‹åŒ–çš„æ ¸å¿ƒæ–¹æ³•ï¼Œè§¦å‘ Bean å®ä¾‹åŒ–ã€ä¾èµ–æ³¨å…¥ã€åˆå§‹åŒ–ï¼‰</span>
        <span class="hljs-built_in">refreshContext</span>(context);
        
        <span class="hljs-comment">// 9. åˆ·æ–°åçš„æ“ä½œï¼ˆç©ºå®ç°ï¼Œä¾›ç”¨æˆ·æ‰©å±•ï¼‰</span>
        <span class="hljs-built_in">afterRefresh</span>(context, applicationArguments);
        
        stopWatch<span class="hljs-selector-class">.stop</span>(); <span class="hljs-comment">// åœæ­¢è®¡æ—¶</span>
        if (this.logStartupInfo) {
            new <span class="hljs-built_in">StartupInfoLogger</span>(this.mainApplicationClass)<span class="hljs-selector-class">.logStarted</span>(getApplicationLog(), stopWatch);
        }
        
        listeners<span class="hljs-selector-class">.started</span>(context); <span class="hljs-comment">// å‘å¸ƒã€Œå®¹å™¨å¯åŠ¨å®Œæˆã€äº‹ä»¶ï¼ˆstartedï¼‰</span>
        
        <span class="hljs-comment">// 10. æ‰§è¡Œæ‰€æœ‰ CommandLineRunner å’Œ ApplicationRunner æ¥å£å®ç°ç±»</span>
        <span class="hljs-built_in">callRunners</span>(context, applicationArguments);

    } catch (Throwable ex) {
        <span class="hljs-built_in">handleRunFailure</span>(context, ex, exceptionReporters, listeners);
        throw new <span class="hljs-built_in">IllegalStateException</span>(ex);
    }

    try {
        listeners<span class="hljs-selector-class">.running</span>(context); <span class="hljs-comment">// å‘å¸ƒã€Œåº”ç”¨è¿è¡Œä¸­ã€äº‹ä»¶ï¼ˆrunningï¼‰</span>
    } catch (Throwable ex) {
        <span class="hljs-built_in">handleRunFailure</span>(context, ex, exceptionReporters, null);
        throw new <span class="hljs-built_in">IllegalStateException</span>(ex);
    }

    return context; <span class="hljs-comment">// è¿”å›åˆå§‹åŒ–å®Œæˆçš„å®¹å™¨</span>
}
</code></pre>
<p>ä¸‹é¢é‡ç‚¹æ‹†è§£Â <code>run()</code>Â æ–¹æ³•ä¸­çš„Â <strong>æ ¸å¿ƒå­æ­¥éª¤</strong>ï¼ˆæ­¥éª¤ 3-8 æ˜¯å…³é”®ï¼‰ï¼š</p>
<h5 data-id="heading-6">å­æ­¥éª¤ 3.1ï¼šå‡†å¤‡ç¯å¢ƒï¼ˆ<code>prepareEnvironment</code>ï¼‰</h5>
<p>æ ¸å¿ƒç›®æ ‡ï¼š<strong>æ•´åˆæ‰€æœ‰é…ç½®æºï¼Œç”Ÿæˆç»Ÿä¸€çš„ç¯å¢ƒå¯¹è±¡ï¼ˆ<code>ConfigurableEnvironment</code>ï¼‰</strong> ï¼Œé…ç½®æºä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼š</p>
<ol>
<li>å‘½ä»¤è¡Œå‚æ•°ï¼ˆ<code>args</code>ï¼‰ï¼›</li>
<li>ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼ˆå¦‚Â <code>JAVA_HOME</code>ï¼‰ï¼›</li>
<li>æ“ä½œç³»ç»Ÿç¯å¢ƒå˜é‡ï¼›</li>
<li>é…ç½®æ–‡ä»¶ï¼ˆ<code>application.properties</code>/<code>application.yml</code>ï¼ŒæŒ‰ä½ç½®ï¼šå‘½ä»¤è¡ŒæŒ‡å®š â†’ é¡¹ç›®æ ¹ç›®å½• â†’Â <code>classpath:/config/</code>Â â†’Â <code>classpath:/</code>ï¼‰ï¼›</li>
<li>é»˜è®¤é…ç½®ï¼ˆSpring å†…ç½®é»˜è®¤å€¼ï¼‰ã€‚</li>
</ol>
<p>å…³é”®æ“ä½œï¼š</p>
<ul>
<li>åŠ è½½é…ç½®æ–‡ä»¶ï¼šæ ¹æ®ç¯å¢ƒï¼ˆ<code>spring.profiles.active</code>ï¼‰åŠ è½½å¯¹åº”çš„é…ç½®ï¼ˆå¦‚Â <code>application-dev.yml</code>ï¼‰ï¼›</li>
<li>å‘å¸ƒäº‹ä»¶ï¼šé€šè¿‡Â <code>listeners.environmentPrepared(environment)</code>Â å‘å¸ƒã€Œç¯å¢ƒå‡†å¤‡å®Œæˆã€äº‹ä»¶ï¼Œä¾›ç›‘å¬å™¨å¤„ç†ï¼ˆå¦‚é…ç½®è§£å¯†ã€è‡ªå®šä¹‰é…ç½®åŠ è½½ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-7">å­æ­¥éª¤ 3.2ï¼šåˆ›å»ºåº”ç”¨ä¸Šä¸‹æ–‡ï¼ˆ<code>createApplicationContext</code>ï¼‰</h5>
<p>æ ¹æ®æ­¥éª¤ 2 åˆ¤æ–­çš„Â <code>webApplicationType</code>ï¼ˆåº”ç”¨ç±»å‹ï¼‰ï¼Œåˆ›å»ºå¯¹åº”çš„Â <code>ApplicationContext</code>ï¼ˆSpring å®¹å™¨ï¼‰ï¼š</p>
<ul>
<li>ä¼ ç»Ÿ Web åº”ç”¨ï¼ˆ<code>ServletWebApplicationType</code>ï¼‰ï¼šåˆ›å»ºÂ <code>AnnotationConfigServletWebServerApplicationContext</code>ï¼›</li>
<li>å“åº”å¼ Web åº”ç”¨ï¼ˆ<code>ReactiveWebApplicationType</code>ï¼‰ï¼šåˆ›å»ºÂ <code>AnnotationConfigReactiveWebServerApplicationContext</code>ï¼›</li>
<li>é Web åº”ç”¨ï¼ˆ<code>NoneWebApplicationType</code>ï¼‰ï¼šåˆ›å»ºÂ <code>AnnotationConfigApplicationContext</code>ã€‚</li>
</ul>
<p>ApplicationContext æ˜¯ Spring çš„æ ¸å¿ƒå®¹å™¨ï¼Œè´Ÿè´£ç®¡ç† Bean çš„ç”Ÿå‘½å‘¨æœŸï¼ˆå®ä¾‹åŒ–ã€ä¾èµ–æ³¨å…¥ã€åˆå§‹åŒ–ã€é”€æ¯ï¼‰ã€‚</p>
<h5 data-id="heading-8">å­æ­¥éª¤ 3.3ï¼šå‡†å¤‡ä¸Šä¸‹æ–‡ï¼ˆ<code>prepareContext</code>ï¼‰</h5>
<p>æ ¸å¿ƒç›®æ ‡ï¼š<strong>å°†ç¯å¢ƒã€å¯åŠ¨ç±»ã€ç›‘å¬å™¨ç­‰å…³è”åˆ°å®¹å™¨ï¼Œä¸ºåˆ·æ–°å®¹å™¨åšå‡†å¤‡</strong>ï¼Œå…³é”®æ“ä½œï¼š</p>
<ol>
<li>ç»™å®¹å™¨è®¾ç½®ç¯å¢ƒï¼ˆ<code>context.setEnvironment(environment)</code>ï¼‰ï¼›</li>
<li>æ‰§è¡Œå®¹å™¨åˆå§‹åŒ–å™¨ï¼ˆ<code>ApplicationContextInitializer</code>ï¼‰ï¼šé€šè¿‡Â <code>SpringFactoriesLoader</code>Â åŠ è½½çš„åˆå§‹åŒ–å™¨ï¼Œå¯¹å®¹å™¨è¿›è¡Œè‡ªå®šä¹‰åˆå§‹åŒ–ï¼ˆå¦‚è®¾ç½®èµ„æºåŠ è½½å™¨ã€æ·»åŠ å±æ€§æºï¼‰ï¼›</li>
<li>å‘å¸ƒã€Œä¸Šä¸‹æ–‡å‡†å¤‡å®Œæˆã€äº‹ä»¶ï¼ˆ<code>contextPrepared</code>ï¼‰ï¼›</li>
<li>æ³¨å†Œå¯åŠ¨ç±»ä¸º Beanï¼šå°†å¯åŠ¨ç±»ï¼ˆ<code>primarySources</code>ï¼‰æ³¨å†Œåˆ°å®¹å™¨ä¸­ï¼ˆä½œä¸ºé…ç½®ç±»ï¼Œåç»­æ‰«æÂ <code>@Bean</code>Â æ³¨è§£ï¼‰ï¼›</li>
<li>å‘å¸ƒã€Œä¸Šä¸‹æ–‡åŠ è½½å®Œæˆã€äº‹ä»¶ï¼ˆ<code>contextLoaded</code>ï¼‰ã€‚</li>
</ol>
<h5 data-id="heading-9">å­æ­¥éª¤ 3.4ï¼šåˆ·æ–°ä¸Šä¸‹æ–‡ï¼ˆ<code>refreshContext</code>ï¼‰â†’ å®¹å™¨åˆå§‹åŒ–æ ¸å¿ƒ</h5>
<p><code>refreshContext</code>Â æœ€ç»ˆè°ƒç”¨Â <code>ApplicationContext.refresh()</code>Â æ–¹æ³•ï¼ˆSpring æ¡†æ¶çš„æ ¸å¿ƒæ–¹æ³•ï¼‰ï¼Œè¿™æ˜¯Â <strong>Bean ç”Ÿå‘½å‘¨æœŸçš„è§¦å‘ç‚¹</strong>ï¼Œå…³é”®æ“ä½œåŒ…æ‹¬ï¼š</p>
<ol>
<li>åˆå§‹åŒ–å®¹å™¨çš„ BeanFactoryï¼ˆ<code>ConfigurableListableBeanFactory</code>ï¼‰ï¼›</li>
<li>æ‰§è¡Œ BeanFactory åç½®å¤„ç†å™¨ï¼ˆ<code>BeanFactoryPostProcessor</code>ï¼‰ï¼šä¿®æ”¹ Bean å®šä¹‰ï¼ˆå¦‚è‡ªåŠ¨é…ç½®ç±»çš„ Bean æ³¨å†Œï¼‰ï¼›</li>
<li>æ³¨å†Œ Bean åç½®å¤„ç†å™¨ï¼ˆ<code>BeanPostProcessor</code>ï¼‰ï¼šç”¨äº Bean åˆå§‹åŒ–å‰åçš„å¢å¼ºï¼ˆå¦‚ AOP ä»£ç†ã€<code>@PostConstruct</code>Â æ³¨è§£è§£æï¼‰ï¼›</li>
<li>åˆå§‹åŒ–æ¶ˆæ¯æºï¼ˆå›½é™…åŒ–æ”¯æŒï¼‰ï¼›</li>
<li>åˆå§‹åŒ–äº‹ä»¶å¤šæ’­å™¨ï¼ˆç”¨äºäº‹ä»¶å‘å¸ƒ / è®¢é˜…ï¼‰ï¼›</li>
<li>åˆå§‹åŒ– Web æœåŠ¡å™¨ï¼ˆåµŒå…¥å¼ Tomcat/Jetty/Undertowï¼‰ï¼šè¿™æ˜¯ Spring Boot æ— éœ€å¤–éƒ¨æœåŠ¡å™¨çš„æ ¸å¿ƒ â€”â€” é€šè¿‡Â <code>ServletWebServerFactory</code>Â è‡ªåŠ¨åˆ›å»ºå¹¶å¯åŠ¨ Web æœåŠ¡å™¨ï¼›</li>
<li>æ³¨å†Œå‰©ä½™çš„å•ä¾‹ Beanï¼šæ‰«æÂ <code>@Component</code>ã€<code>@Service</code>Â ç­‰æ³¨è§£çš„ Beanï¼Œæ‰§è¡Œå®ä¾‹åŒ–ã€å±æ€§å¡«å……ã€åˆå§‹åŒ–ï¼ˆå¯¹åº” Spring Bean ç”Ÿå‘½å‘¨æœŸçš„æ ¸å¿ƒé˜¶æ®µï¼‰ï¼›</li>
<li>å®Œæˆå®¹å™¨åˆ·æ–°ï¼šå‘å¸ƒã€Œå®¹å™¨åˆ·æ–°å®Œæˆã€äº‹ä»¶ï¼ˆ<code>ContextRefreshedEvent</code>ï¼‰ã€‚</li>
</ol>
<p><strong>å…³é”®è¯´æ˜</strong>ï¼šåµŒå…¥å¼ Web æœåŠ¡å™¨çš„å¯åŠ¨æ˜¯åœ¨æ­¤æ­¥éª¤å®Œæˆçš„ â€”â€”Spring Boot è‡ªåŠ¨é…ç½®ç±»ï¼ˆå¦‚Â <code>TomcatServletWebServerFactoryAutoConfiguration</code>ï¼‰ä¼šæ³¨å†ŒÂ <code>ServletWebServerFactory</code>Â Beanï¼Œåˆ·æ–°å®¹å™¨æ—¶ä¼šè°ƒç”¨å…¶Â <code>getWebServer()</code>Â æ–¹æ³•åˆ›å»ºå¹¶å¯åŠ¨ Web æœåŠ¡å™¨ã€‚</p>
<h4 data-id="heading-10">æ­¥éª¤ 4ï¼šæ‰§è¡ŒÂ <code>CommandLineRunner</code>Â å’ŒÂ <code>ApplicationRunner</code>ï¼ˆè¿è¡Œé˜¶æ®µï¼‰</h4>
<p>å®¹å™¨åˆ·æ–°å®Œæˆåï¼ŒSpring Boot ä¼šè‡ªåŠ¨æ‰«æå¹¶æ‰§è¡Œæ‰€æœ‰å®ç°Â <code>CommandLineRunner</code>Â æˆ–Â <code>ApplicationRunner</code>Â æ¥å£çš„ Beanâ€”â€” è¿™æ˜¯å¼€å‘è€…åœ¨åº”ç”¨å¯åŠ¨åæ‰§è¡Œè‡ªå®šä¹‰é€»è¾‘ï¼ˆå¦‚æ•°æ®é¢„çƒ­ã€ç¼“å­˜åˆå§‹åŒ–ã€æ¥å£è°ƒç”¨ï¼‰çš„å¸¸ç”¨æ‰©å±•ç‚¹ã€‚</p>
<ul>
<li><code>CommandLineRunner</code>ï¼šæ¥æ”¶åŸå§‹å‘½ä»¤è¡Œå‚æ•°ï¼ˆ<code>String[] args</code>ï¼‰ï¼›</li>
<li><code>ApplicationRunner</code>ï¼šæ¥æ”¶å°è£…åçš„åº”ç”¨å‚æ•°ï¼ˆ<code>ApplicationArguments</code>ï¼Œæ”¯æŒè§£æé€‰é¡¹å‚æ•°ï¼Œå¦‚Â <code>--name=test</code>ï¼‰ã€‚</li>
</ul>
<p>æ‰§è¡Œé¡ºåºï¼šå¯é€šè¿‡Â <code>@Order</code>Â æ³¨è§£æŒ‡å®šï¼ˆ<code>value</code>Â è¶Šå°ï¼Œæ‰§è¡Œè¶Šæ—©ï¼‰ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Order(1)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyCommandLineRunner</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">CommandLineRunner</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">(String... args)</span> <span class="hljs-keyword">throws</span> Exception {
        System.out.println(<span class="hljs-string">"ã€CommandLineRunnerã€‘åº”ç”¨å¯åŠ¨åæ‰§è¡Œï¼šå‚æ•°="</span> + Arrays.toString(args));
    }
}

<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Order(2)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyApplicationRunner</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ApplicationRunner</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">(ApplicationArguments args)</span> <span class="hljs-keyword">throws</span> Exception {
        System.out.println(<span class="hljs-string">"ã€ApplicationRunnerã€‘åº”ç”¨å¯åŠ¨åæ‰§è¡Œï¼šé€‰é¡¹å‚æ•°="</span> + args.getOptionNames());
    }
}
</code></pre>
<h4 data-id="heading-11">æ­¥éª¤ 5ï¼šå‘å¸ƒã€Œåº”ç”¨è¿è¡Œä¸­ã€äº‹ä»¶ï¼ˆ<code>running</code>ï¼‰</h4>
<p>æ‰€æœ‰å¯åŠ¨æµç¨‹å®Œæˆåï¼Œé€šè¿‡Â <code>listeners.running(context)</code>Â å‘å¸ƒÂ <code>ApplicationReadyEvent</code>Â äº‹ä»¶ï¼Œæ ‡è¯†åº”ç”¨å·²å®Œå…¨å°±ç»ªï¼Œå¯å¤„ç†å¤–éƒ¨è¯·æ±‚ã€‚</p>
<h3 data-id="heading-12">ä¸‰ã€æ ¸å¿ƒæ‰©å±•ç‚¹ï¼ˆå¼€å‘è€…å¸¸ç”¨ï¼‰</h3>
<p>Spring Boot å¯åŠ¨æµç¨‹æä¾›äº†å¤šä¸ªæ‰©å±•ç‚¹ï¼Œå…è®¸å¼€å‘è€…å¹²é¢„å¯åŠ¨è¿‡ç¨‹ï¼Œå¸¸ç”¨çš„æœ‰ï¼š</p>
<ol>
<li><strong><code>ApplicationContextInitializer</code></strong>ï¼šå®¹å™¨åˆå§‹åŒ–å‰æ‰§è¡Œï¼Œç”¨äºä¿®æ”¹å®¹å™¨é…ç½®ï¼ˆå¦‚æ·»åŠ å±æ€§æºã€è®¾ç½®ç¯å¢ƒå˜é‡ï¼‰ï¼›</li>
<li><strong><code>ApplicationListener</code></strong>ï¼šç›‘å¬å¯åŠ¨è¿‡ç¨‹ä¸­çš„äº‹ä»¶ï¼ˆå¦‚Â <code>starting</code>ã€<code>environmentPrepared</code>ã€<code>started</code>ã€<code>running</code>ï¼‰ï¼Œæ‰§è¡Œè‡ªå®šä¹‰é€»è¾‘ï¼›</li>
<li><strong><code>CommandLineRunner</code>/<code>ApplicationRunner</code></strong>ï¼šåº”ç”¨å¯åŠ¨åæ‰§è¡Œï¼Œç”¨äºæ•°æ®é¢„çƒ­ã€åˆå§‹åŒ–ä»»åŠ¡ï¼›</li>
<li><strong><code>BeanPostProcessor</code></strong>ï¼šBean åˆå§‹åŒ–å‰åå¢å¼ºï¼ˆå¦‚ AOP ä»£ç†ã€å±æ€§æ ¡éªŒï¼‰ï¼›</li>
<li><strong>è‡ªåŠ¨é…ç½®æ’é™¤ / è‡ªå®šä¹‰</strong>ï¼šé€šè¿‡Â <code>@SpringBootApplication(exclude = XXXAutoConfiguration.class)</code>Â æ’é™¤ä¸éœ€è¦çš„è‡ªåŠ¨é…ç½®ç±»ï¼Œæˆ–é€šè¿‡Â <code>@Configuration</code>Â è‡ªå®šä¹‰é…ç½®è¦†ç›–é»˜è®¤è‡ªåŠ¨é…ç½®ã€‚</li>
</ol>
<h3 data-id="heading-13">å››ã€å¯åŠ¨æµç¨‹å…³é”®æ€»ç»“</h3>
<ol>
<li><strong>æ ¸å¿ƒé©±åŠ¨</strong>ï¼š<code>SpringApplication.run(...)</code>Â æ˜¯å…¥å£ï¼Œ<code>ApplicationContext.refresh()</code>Â æ˜¯å®¹å™¨åˆå§‹åŒ–æ ¸å¿ƒï¼›</li>
<li><strong>è‡ªåŠ¨é…ç½®æ ¸å¿ƒ</strong>ï¼š<code>@EnableAutoConfiguration</code>Â +Â <code>SpringFactoriesLoader</code>Â åŠ è½½Â <code>META-INF/spring.factories</code>Â ä¸­çš„è‡ªåŠ¨é…ç½®ç±»ï¼›</li>
<li><strong>Web æœåŠ¡å™¨å¯åŠ¨</strong>ï¼šåµŒå…¥å¼æœåŠ¡å™¨ï¼ˆTomcatï¼‰åœ¨Â <code>refreshContext</code>Â é˜¶æ®µé€šè¿‡è‡ªåŠ¨é…ç½®ç±»å¯åŠ¨ï¼Œæ— éœ€å¤–éƒ¨éƒ¨ç½²ï¼›</li>
<li><strong>æ‰©å±•çµæ´»</strong>ï¼šé€šè¿‡Â <code>CommandLineRunner</code>ã€<code>ApplicationListener</code>Â ç­‰æ‰©å±•ç‚¹ï¼Œå¯è½»æ¾æ·»åŠ è‡ªå®šä¹‰é€»è¾‘ï¼›</li>
<li><strong>é…ç½®ä¼˜å…ˆçº§</strong>ï¼šå‘½ä»¤è¡Œå‚æ•° &gt; ç³»ç»Ÿç¯å¢ƒå˜é‡ &gt; é…ç½®æ–‡ä»¶ &gt; é»˜è®¤é…ç½®ã€‚</li>
</ol>
<h3 data-id="heading-14">äº”ã€å¸¸è§é—®é¢˜ä¸ä¼˜åŒ–</h3>
<ol>
<li><strong>å¯åŠ¨æ…¢</strong>ï¼šæ£€æŸ¥è‡ªåŠ¨é…ç½®ç±»ï¼ˆæ˜¯å¦åŠ è½½è¿‡å¤šæ— ç”¨é…ç½®ï¼Œå¯é€šè¿‡Â <code>exclude</code>Â æ’é™¤ï¼‰ã€Bean æ•°é‡ï¼ˆå‡å°‘ä¸å¿…è¦çš„ Bean æ‰«æï¼‰ã€åˆå§‹åŒ–ä»»åŠ¡ï¼ˆå¦‚Â <code>CommandLineRunner</code>Â ä¸­æ˜¯å¦æœ‰è€—æ—¶æ“ä½œï¼‰ï¼›</li>
<li><strong>é…ç½®ä¸ç”Ÿæ•ˆ</strong>ï¼šæ£€æŸ¥é…ç½®æ–‡ä»¶è·¯å¾„ï¼ˆæ˜¯å¦åœ¨Â <code>classpath:/</code>Â æˆ–Â <code>classpath:/config/</code>Â ä¸‹ï¼‰ã€é…ç½®ä¼˜å…ˆçº§ï¼ˆæ˜¯å¦è¢«å‘½ä»¤è¡Œå‚æ•°è¦†ç›–ï¼‰ã€<code>spring.profiles.active</code>Â æ˜¯å¦æ­£ç¡®æ¿€æ´»ï¼›</li>
<li><strong>Web æœåŠ¡å™¨å¯åŠ¨å¤±è´¥</strong>ï¼šæ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨ï¼ˆä¿®æ”¹Â <code>server.port</code>ï¼‰ã€æ˜¯å¦å†²çªä¾èµ–ï¼ˆå¦‚åŒæ—¶å¼•å…¥ Tomcat å’Œ Jetty ä¾èµ–ï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-15">æ€»ç»“</h3>
<p>Spring Boot çš„å¯åŠ¨æµç¨‹æœ¬è´¨æ˜¯Â  <strong>â€œå°è£… Spring å®¹å™¨åˆå§‹åŒ–æµç¨‹ + è‡ªåŠ¨é…ç½® + åµŒå…¥å¼æœåŠ¡å™¨å¯åŠ¨â€</strong> ï¼Œé€šè¿‡ç®€åŒ–é…ç½®ã€è‡ªåŠ¨æ•´åˆä¾èµ–ï¼Œå®ç° â€œå¼€ç®±å³ç”¨â€ã€‚æ ¸å¿ƒæ­¥éª¤å¯æ¦‚æ‹¬ä¸ºï¼š<code>å…¥å£ç±»æ‰§è¡Œ â†’ åˆå§‹åŒ– SpringApplication â†’ å‡†å¤‡ç¯å¢ƒ/å‚æ•° â†’ åˆ›å»ºå®¹å™¨ â†’ åˆ·æ–°å®¹å™¨ï¼ˆBean åˆå§‹åŒ– + æœåŠ¡å™¨å¯åŠ¨ï¼‰â†’ æ‰§è¡Œå¯åŠ¨åä»»åŠ¡ â†’ åº”ç”¨å°±ç»ª</code>ã€‚</p>
<p>ç†è§£å¯åŠ¨æµç¨‹æœ‰åŠ©äºï¼š</p>
<ul>
<li>æ’æŸ¥å¯åŠ¨æ•…éšœï¼ˆå¦‚é…ç½®ä¸ç”Ÿæ•ˆã€Bean æ³¨å†Œå¤±è´¥ã€æœåŠ¡å™¨å¯åŠ¨å¤±è´¥ï¼‰ï¼›</li>
<li>çµæ´»ä½¿ç”¨æ‰©å±•ç‚¹ï¼ˆå¦‚å¯åŠ¨ååˆå§‹åŒ–ã€è‡ªå®šä¹‰é…ç½®ï¼‰ï¼›</li>
<li>ä¼˜åŒ–å¯åŠ¨æ€§èƒ½ï¼ˆæ’é™¤æ— ç”¨è‡ªåŠ¨é…ç½®ã€å‡å°‘ Bean æ‰«æèŒƒå›´ï¼‰ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€PowerJobè¯­é›€è½¬è½½ã€‘æ‰§è¡Œå™¨ï¼ˆpowerjob-workerï¼‰åˆå§‹åŒ–]]></title>    <link>https://juejin.cn/post/7573900332637323274</link>    <guid>https://juejin.cn/post/7573900332637323274</guid>    <pubDate>2025-11-19T00:17:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573900332637323274" data-draft-id="7574204970745036846" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€PowerJobè¯­é›€è½¬è½½ã€‘æ‰§è¡Œå™¨ï¼ˆpowerjob-workerï¼‰åˆå§‹åŒ–"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-19T00:17:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="wasdwasd"/> <meta itemprop="url" content="https://juejin.cn/user/1854234795180115"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€PowerJobè¯­é›€è½¬è½½ã€‘æ‰§è¡Œå™¨ï¼ˆpowerjob-workerï¼‰åˆå§‹åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1854234795180115/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    wasdwasd
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T00:17:55.000Z" title="Wed Nov 19 2025 00:17:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºäºå®¿ä¸»åº”ç”¨çš„åˆå§‹åŒ–</h2>
<p>å®¿ä¸»åº”ç”¨å³åŸæœ‰çš„ä¸šåŠ¡åº”ç”¨ï¼Œå‡å¦‚éœ€è¦è°ƒåº¦æ‰§è¡Œçš„ä»»åŠ¡ä¸å½“å‰ä¸šåŠ¡æœ‰è¾ƒä¸ºç´§å¯†çš„è”ç³»ï¼Œå»ºè®®é‡‡å–è¯¥æ–¹å¼ã€‚</p>
<h3 data-id="heading-1">SpringBoot åº”ç”¨æ¥å…¥æ–¹å¼</h3>
<p>âš ï¸ï¼šå¦‚æœ SpringBoot å­˜åœ¨ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜å¯¼è‡´æ— æ³•é¡ºåˆ©åˆå§‹åŒ–ï¼Œå¯ä½¿ç”¨ä»£ç æ‰‹åŠ¨åˆå§‹åŒ–JavaBeançš„æ–¹å¼ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.yuque.com%2Fpowerjob%2Fguidence%2Fdeploy_worker%23ybwCi" target="_blank" title="https://www.yuque.com/powerjob/guidence/deploy_worker#ybwCi" ref="nofollow noopener noreferrer">LINK</a></p>
<p>é¦–å…ˆï¼Œæ·»åŠ ç›¸å…³çš„ä¾èµ–ï¼Œæœ€æ–°ä¾èµ–ç‰ˆæœ¬è¯·å‚è€ƒ maven ä¸­å¤®ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcentral.sonatype.com%2Fsearch%3Fsmo%3Dtrue%26q%3Dpowerjob-worker-spring-boot-starter%26namespace%3Dtech.powerjob" target="_blank" title="https://central.sonatype.com/search?smo=true&amp;q=powerjob-worker-spring-boot-starter&amp;namespace=tech.powerjob" ref="nofollow noopener noreferrer">æ¨èåœ°å€</a> &amp; <a href="https://link.juejin.cn?target=https%3A%2F%2Fmvnrepository.com%2Fartifact%2Ftech.powerjob%2Fpowerjob-worker-spring-boot-starter" target="_blank" title="https://mvnrepository.com/artifact/tech.powerjob/powerjob-worker-spring-boot-starter" ref="nofollow noopener noreferrer">å¤‡ç”¨åœ°å€</a></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>tech.powerjob<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>powerjob-worker-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${latest.powerjob.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>éšåï¼Œåœ¨ SpringBoot é…ç½®æ–‡ä»¶ï¼ˆapplication.yml/propertiesï¼‰ä¸­æ·»åŠ ç›¸å…³çš„é…ç½®é¡¹ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># akka å·¥ä½œç«¯å£ï¼Œå¯é€‰ï¼Œé»˜è®¤ 27777</span>
<span class="hljs-attr">powerjob.worker.akka-port</span>=<span class="hljs-number">27777</span>
<span class="hljs-comment"># æ¥å…¥åº”ç”¨åç§°ï¼Œç”¨äºåˆ†ç»„éš”ç¦»ï¼Œæ¨èå¡«å†™ æœ¬ Java é¡¹ç›®åç§°</span>
<span class="hljs-attr">powerjob.worker.app-name</span>=my-powerjob-worker
<span class="hljs-comment"># è°ƒåº¦æœåŠ¡å™¨åœ°å€ï¼ŒIP:Port æˆ– åŸŸåï¼Œå¤šå€¼é€—å·åˆ†éš”</span>
<span class="hljs-attr">powerjob.worker.server-address</span>=<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">7700</span>,<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">7701</span>
<span class="hljs-comment"># é€šè®¯åè®®ï¼Œ4.3.0 å¼€å§‹æ”¯æŒ HTTP å’Œ AKKA ä¸¤ç§åè®®ï¼Œå®˜æ–¹æ¨èä½¿ç”¨ HTTP åè®®ï¼ˆæ³¨æ„ server å’Œ worker éƒ½è¦å¼€æ”¾ç›¸åº”ç«¯å£ï¼‰</span>
<span class="hljs-attr">powerjob.worker.protocol</span>=http
<span class="hljs-comment"># æŒä¹…åŒ–æ–¹å¼ï¼Œå¯é€‰ï¼Œé»˜è®¤ disk</span>
<span class="hljs-attr">powerjob.worker.store-strategy</span>=disk
<span class="hljs-comment"># ä»»åŠ¡è¿”å›ç»“æœä¿¡æ¯çš„æœ€å¤§é•¿åº¦ï¼Œè¶…è¿‡è¿™ä¸ªé•¿åº¦çš„ä¿¡æ¯ä¼šè¢«æˆªæ–­ï¼Œé»˜è®¤å€¼ 8192</span>
<span class="hljs-attr">powerjob.worker.max-result-length</span>=<span class="hljs-number">4096</span>
<span class="hljs-comment"># å•ä¸ªä»»åŠ¡è¿½åŠ çš„å·¥ä½œæµä¸Šä¸‹æ–‡æœ€å¤§é•¿åº¦ï¼Œè¶…è¿‡è¿™ä¸ªé•¿åº¦çš„ä¼šè¢«ç›´æ¥ä¸¢å¼ƒï¼Œé»˜è®¤å€¼ 8192</span>
<span class="hljs-attr">powerjob.worker.max-appended-wf-context-length</span>=<span class="hljs-number">4096</span>
<span class="hljs-comment"># åŒæ—¶è¿è¡Œçš„è½»é‡çº§ä»»åŠ¡æ•°é‡ä¸Šé™</span>
<span class="hljs-attr">powerjob.worker.max-lightweight-task-num</span>=<span class="hljs-number">1024</span>
<span class="hljs-comment"># åŒæ—¶è¿è¡Œçš„é‡é‡çº§ä»»åŠ¡æ•°é‡ä¸Šé™</span>
<span class="hljs-attr">powerjob.worker.max-heavy-task-num</span>=<span class="hljs-number">64</span>
</code></pre>
<p>æœ€åï¼Œä¸ºäº†æ›´å¥½çš„è§‚å¯Ÿ powerjob-worker çš„è¿è¡Œæƒ…å†µï¼Œå»ºè®®ä¸º powerjob-worker å•ç‹¬é…ç½®æ—¥å¿—è¾“å‡ºï¼Œè¯¦ç»†æ•™ç¨‹è§ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.yuque.com%2Fpowerjob%2Fguidence%2Fdeploy_worker%23M5W4L" target="_blank" title="https://www.yuque.com/powerjob/guidence/deploy_worker#M5W4L" ref="nofollow noopener noreferrer">æ—¥å¿—å•ç‹¬é…ç½®</a></p>
<h3 data-id="heading-2">æ™®é€šåº”ç”¨æ¥å…¥æ–¹å¼ ï¼ˆSpring æˆ– æ™®é€š Java é¡¹ç›®ï¼‰</h3>
<p>é¦–å…ˆï¼Œæ·»åŠ ç›¸å…³çš„ä¾èµ–ï¼Œæœ€æ–°ä¾èµ–ç‰ˆæœ¬è¯·å‚è€ƒmavenä¸­å¤®ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcentral.sonatype.com%2Fsearch%3Fsmo%3Dtrue%26q%3Dpowerjob-worker%26namespace%3Dtech.powerjob" target="_blank" title="https://central.sonatype.com/search?smo=true&amp;q=powerjob-worker&amp;namespace=tech.powerjob" ref="nofollow noopener noreferrer">æ¨èåœ°å€</a> &amp; <a href="https://link.juejin.cn?target=https%3A%2F%2Fmvnrepository.com%2Fartifact%2Ftech.powerjob%2Fpowerjob-worker" target="_blank" title="https://mvnrepository.com/artifact/tech.powerjob/powerjob-worker" ref="nofollow noopener noreferrer">å¤‡ç”¨åœ°å€</a>****</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>tech.powerjob<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>powerjob-worker<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${latest.powerjob.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>éšåï¼Œæ‰‹åŠ¨åˆå§‹åŒ– <code>PowerJobWorker</code> å¯¹è±¡ã€‚PowerJobWorker å¯¹è±¡çš„åˆå§‹åŒ–ä¾èµ–äºé…ç½®ç±» <code>PowerJobWorkerConfig</code>ï¼Œå„å‚æ•°è¯´æ˜å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>











































































<table><thead><tr><th>å±æ€§åç§°</th><th>å«ä¹‰</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>appName</td><td>å®¿ä¸»åº”ç”¨åç§°ï¼Œéœ€è¦æå‰åœ¨æ§åˆ¶å°å®Œæˆæ³¨å†Œ</td><td>æ— ï¼Œå¿…å¡«é¡¹ï¼Œå¦åˆ™å¯åŠ¨æŠ¥é”™</td></tr><tr><td>port</td><td>Worker å·¥ä½œç«¯å£</td><td>27777ï¼Œä¸æ¨èä¿®æ”¹</td></tr><tr><td>serverAddress</td><td>è°ƒåº¦ä¸­å¿ƒï¼ˆpowerjob-serverï¼‰åœ°å€åˆ—è¡¨</td><td>æ— ï¼Œå¿…å¡«é¡¹ï¼Œå¦åˆ™å¯åŠ¨æŠ¥é”™</td></tr><tr><td>storeStrategy</td><td>æœ¬åœ°å­˜å‚¨ç­–ç•¥ï¼Œæšä¸¾å€¼ç£ç›˜/å†…å­˜ï¼Œå¤§å‹MapReduce ç­‰ä¼šäº§ç”Ÿå¤§é‡ Task çš„ä»»åŠ¡æ¨èä½¿ç”¨ç£ç›˜é™ä½å†…å­˜å‹åŠ›ï¼Œå¦åˆ™å»ºè®®ä½¿ç”¨å†…å­˜åŠ é€Ÿè®¡ç®—</td><td>StoreStrategy.DISKï¼ˆç£ç›˜ï¼‰</td></tr><tr><td>protocol</td><td>ä¸ server çš„é€šè®¯åè®®</td><td>å‡ºäºå…¼å®¹æ€§è€ƒè™‘ä»æœª AKKAï¼Œä½†å»ºè®®æ‰‹åŠ¨æ”¹ä¸º HTTP</td></tr><tr><td>maxResultLength</td><td>æ¯ä¸ªTaskè¿”å›ç»“æœçš„é»˜è®¤é•¿åº¦ï¼Œè¶…é•¿å°†è¢«æˆªæ–­ï¼Œè¿‡é•¿å¯èƒ½å¯¼è‡´ç½‘ç»œæ‹¥å¡</td><td>8096</td></tr><tr><td>userContext</td><td>ç”¨æˆ·è‡ªå®šä¹‰ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œè¯¥å€¼ä¼šè¢«é€ä¼ åˆ° TaskContext#userContext å±æ€§ï¼ˆå¯é€‰å‚æ•°ï¼‰</td><td>null</td></tr><tr><td>allowLazyConnectServer</td><td>æ˜¯å¦å…è®¸å»¶è¿Ÿè¿æ¥ serverã€‚å¯ç”¨åæ— éœ€Serverä¹Ÿèƒ½é¡ºåˆ©å¯åŠ¨PowerJobWorkerï¼Œç”¨äºæœ¬åœ°æ—  server å¯åŠ¨ç­‰åœºæ™¯</td><td>false</td></tr><tr><td>maxAppendedWfContextLength</td><td>å•ä¸ªä»»åŠ¡å‘å·¥ä½œæµä¸Šä¸‹æ–‡ä¸­è¿½åŠ æ•°æ®çš„æœ€å¤§é•¿åº¦ï¼Œè¶…è¿‡è¿™ä¸ªé•¿åº¦ä¼šè¢«ç›´æ¥ä¸¢å¼ƒ</td><td>8192</td></tr><tr><td>maxLightweightTaskNum</td><td>åŒæ—¶è¿è¡Œçš„è½»é‡çº§ä»»åŠ¡æ•°é‡ä¸Šé™</td><td>1024</td></tr><tr><td>maxHeavyweightTaskNum</td><td>åŒæ—¶è¿è¡Œçš„é‡é‡çº§ä»»åŠ¡æ•°é‡ä¸Šé™</td><td>64</td></tr><tr><td>healthReportInterval</td><td>worker å¥åº·çŠ¶æ€ä¸ŠæŠ¥çš„é—´éš”ï¼ˆç§’ï¼‰</td><td>10</td></tr><tr><td>processorFactoryList</td><td>å¤„ç†å™¨å·¥å‚ï¼Œå…è®¸è‡ªå·±å®šåˆ¶å¤„ç†å™¨åŠ è½½é€»è¾‘æ¥æ”¯æŒä¸°å¯Œçš„æ‰©å±•éœ€æ±‚</td><td>null</td></tr></tbody></table>
<p>æœ€åï¼Œåˆå§‹åŒ–å®¢æˆ·ç«¯ï¼Œå®Œæˆæ‰§è¡Œå™¨çš„å¯åŠ¨ï¼Œä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p>Spring ç”¨æˆ·è¯·ä½¿ç”¨ <code>PowerJobSpringWorker</code></p>
</li>
<li>
<p>é Spring ç”¨æˆ·è¯·ä½¿ç”¨ <code>PowerJobWorker</code></p>
</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino">@Configuration
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PowerJobWorkerConfiguration</span> {

    @<span class="hljs-function">Bean
    <span class="hljs-keyword">public</span> PowerJobSpringWorker <span class="hljs-title">initPowerJobWorker</span><span class="hljs-params">()</span> throws Exception </span>{

        <span class="hljs-comment">// 1. åˆ›å»ºé…ç½®æ–‡ä»¶</span>
        PowerJobWorkerConfig config = <span class="hljs-keyword">new</span> <span class="hljs-built_in">PowerJobWorkerConfig</span>();
        config.<span class="hljs-built_in">setPort</span>(<span class="hljs-number">28888</span>);
        config.<span class="hljs-built_in">setAppName</span>(<span class="hljs-string">"my-java-application"</span>);
        config.<span class="hljs-built_in">setServerAddress</span>(Lists.<span class="hljs-built_in">newArrayList</span>(<span class="hljs-string">"127.0.0.1:7700"</span>, <span class="hljs-string">"127.0.0.1:7701"</span>));
        <span class="hljs-comment">// å¦‚æœæ²¡æœ‰å¤§å‹ Map/MapReduce çš„éœ€æ±‚ï¼Œå»ºè®®ä½¿ç”¨å†…å­˜æ¥åŠ é€Ÿè®¡ç®—</span>
        config.<span class="hljs-built_in">setStoreStrategy</span>(StoreStrategy.DISK);

        <span class="hljs-comment">// 2. åˆ›å»º Worker å¯¹è±¡ï¼Œè®¾ç½®é…ç½®æ–‡ä»¶ï¼ˆæ³¨æ„ Spring ç”¨æˆ·éœ€è¦ä½¿ç”¨ PowerJobSpringWorkerï¼Œè€Œä¸æ˜¯ PowerJobWorkerï¼‰</span>
        PowerJobSpringWorker worker = <span class="hljs-keyword">new</span> <span class="hljs-built_in">PowerJobSpringWorker</span>(config);
        <span class="hljs-keyword">return</span> worker;
    }
}
</code></pre>
<p>é Spring åº”ç”¨ç¨‹åºåœ¨åˆ›å»º PowerJobWorker å¯¹è±¡åæ‰‹åŠ¨è°ƒç”¨ <code>powerJobWorker.init()</code> æ–¹æ³•å®Œæˆåˆå§‹åŒ–å³å¯ã€‚</p>
<hr/>
<h3 data-id="heading-3">æ—¥å¿—å•ç‹¬é…ç½®</h3>
<p>ç›®å‰ï¼Œpowerjob-worker å¹¶æ²¡æœ‰å®ç°è‡ªå·±çš„ LogFactoryï¼ˆå¦‚æœæœ‰éœ€æ±‚çš„è¯è¯·æ ISSUEï¼Œå¯ä»¥è€ƒè™‘å®ç°ï¼‰ï¼ŒåŸå› å¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p>powerjob-worker çš„æ—¥å¿—åŸºäº <code>Slf4J</code> è¾“å‡ºï¼Œå³é‡‡ç”¨äº†åŸºäºé—¨é¢è®¾è®¡æ¨¡å¼çš„æ—¥å¿—æ¡†æ¶ï¼Œå®¿ä¸»åº”ç”¨æ— è®ºå¦‚ä½•éƒ½å¯ä»¥æ­èµ· Slf4J ä¸å®é™…çš„æ—¥å¿—æ¡†æ¶è¿™åº§æ¡¥æ¢ã€‚</p>
</li>
<li>
<p>å‡è½»äº†éƒ¨åˆ†å¼€å‘å·¥ä½œé‡ï¼Œä¸å†éœ€è¦å®ç°è‡ªå·±çš„ LogFactoryã€‚</p>
</li>
</ol>
<p>ä¸ºæ­¤ï¼Œä¸ºäº†é¡ºåˆ©ä¸”å‹å¥½åœ°è¾“å‡ºæ—¥å¿—ï¼Œè¯·åœ¨æ—¥å¿—é…ç½®æ–‡ä»¶ï¼ˆlogback.xml/log4j2.xml/...ï¼‰ä¸­ä¸º <code>powerjob-worker</code> å•ç‹¬è¿›è¡Œæ—¥å¿—é…ç½®ï¼Œæ¯”å¦‚ï¼ˆlogback ç¤ºä¾‹ï¼‰ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"POWERJOB_WORKER_APPENDER"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>${LOG_PATH}/powerjob-worker.log<span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">FileNamePattern</span>&gt;</span>${LOG_PATH}/powerjob-worker.%d{yyyy-MM-dd}.log<span class="hljs-tag">&lt;/<span class="hljs-name">FileNamePattern</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">MaxHistory</span>&gt;</span>7<span class="hljs-tag">&lt;/<span class="hljs-name">MaxHistory</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.classic.encoder.PatternLayoutEncoder"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">charset</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">charset</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">append</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">append</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"tech.powerjob"</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"INFO"</span> <span class="hljs-attr">additivity</span>=<span class="hljs-string">"false"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"POWERJOB_WORKER_APPENDER"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">logger</span>&gt;</span>
</code></pre>
<p>æ— è®ºå¦‚ä½•ï¼Œpowerjob-worker å¯åŠ¨æ—¶éƒ½ä¼šæ‰“å° Bannerï¼ˆå¦‚ä¸‹æ‰€ç¤ºï¼‰ï¼Œæ‚¨å¯ä»¥é€šè¿‡ Banner æ¥åˆ¤æ–­æ—¥å¿—é…ç½®æ˜¯å¦æˆåŠŸã€‚</p>
<pre><code class="hljs"> â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                                          â–ˆâ–ˆ          â–ˆâ–ˆ
â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆ                                        â–‘â–ˆâ–ˆ         â–‘â–ˆâ–ˆ
â–‘â–ˆâ–ˆ   â–‘â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆ     â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     â–‘â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–‘â–ˆâ–ˆ
â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆ  â–ˆ â–‘â–ˆâ–ˆ â–ˆâ–ˆâ–‘â–‘â–‘â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–‘â–‘â–ˆ     â–‘â–ˆâ–ˆ â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘  â–‘â–ˆâ–ˆ   â–‘â–ˆâ–ˆ â–‘â–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–‘â–ˆâ–ˆâ–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–‘â–ˆâ–ˆ â–‘      â–‘â–ˆâ–ˆâ–‘â–ˆâ–ˆ   â–‘â–ˆâ–ˆâ–‘â–ˆâ–ˆâ–‘â–‘â–‘â–ˆâ–ˆ
â–‘â–ˆâ–ˆ      â–‘â–ˆâ–ˆ   â–‘â–ˆâ–ˆ â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘  â–‘â–ˆâ–ˆ    â–ˆâ–ˆ  â–‘â–ˆâ–ˆâ–‘â–ˆâ–ˆ   â–‘â–ˆâ–ˆâ–‘â–ˆâ–ˆ  â–‘â–ˆâ–ˆ
â–‘â–ˆâ–ˆ      â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–‘ â–‘â–‘â–‘â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–ˆâ–ˆâ–ˆ   â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
â–‘â–‘        â–‘â–‘â–‘â–‘â–‘â–‘  â–‘â–‘â–‘    â–‘â–‘â–‘  â–‘â–‘â–‘â–‘â–‘â–‘ â–‘â–‘â–‘     â–‘â–‘â–‘â–‘â–‘   â–‘â–‘â–‘â–‘â–‘â–‘  â–‘â–‘â–‘â–‘â–‘
</code></pre>
<h2 data-id="heading-4">åŸºäºä»£ç†åº”ç”¨ï¼ˆpowerjob-agentï¼‰çš„åˆå§‹åŒ–</h2>
<p>agent æ˜¯ä¸€ä¸ªä»…é›†æˆäº†å®˜æ–¹å¤„ç†å™¨çš„æ‰§è¡Œå™¨ï¼ˆå…¶å®å°±æ˜¯ä¸º worker åŠ äº†ä¸€ä¸ª main æ–¹æ³•ï¼‰ï¼Œå¦‚æœå¸¸è§éœ€æ±‚ä¸ºè„šæœ¬çš„è°ƒåº¦æ‰§è¡Œï¼Œå¯ä»¥è€ƒè™‘ç›´æ¥éƒ¨ç½² agentï¼Œç®€å•å¿«æ·æ–¹ä¾¿ï½</p>
<p><strong>æ¨èç›´æ¥ä½¿ç”¨ Docker éƒ¨ç½²ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fhub.docker.com%2Fr%2Fpowerjob%2Fpowerjob-agent%2Ftags" target="_blank" title="https://hub.docker.com/r/powerjob/powerjob-agent/tags" ref="nofollow noopener noreferrer"><strong>powerjob-agent</strong></a></p>
<p>ä¸ server ä¸€æ ·ï¼Œå¯åŠ¨å‚æ•°é€šè¿‡ç¯å¢ƒå˜é‡<code>-e PARAMS</code>ä¼ å…¥ï¼Œå…¨éƒ¨å‚æ•°è¯·è§åº•éƒ¨ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">docker run -d 
-e PARAMS=<span class="hljs-string">"--app powerjob-agent-test --server 192.168.1.1:7700,192.168.1.2:7700"</span>
-p 27777:27777 --name powerjob-agent
-v ~/docker/powerjob-agent:/root powerjob/powerjob-agent:<span class="hljs-variable">$version</span>
</code></pre>
<hr/>
<p>æˆ–ç›´æ¥å¯åŠ¨ agent çš„jaråŒ…ï¼š<code>java -jar powerjob-worker-agent-3.1.0.jar -a my-agent -s 127.0.0.1:7700</code></p>
<pre><code class="hljs language-xml" lang="xml">Usage: PowerJobAgent [-hV] -a=<span class="hljs-tag">&lt;<span class="hljs-name">appName</span>&gt;</span> [-e=<span class="hljs-tag">&lt;<span class="hljs-name">storeStrategy</span>&gt;</span>] [-l=<span class="hljs-tag">&lt;<span class="hljs-name">length</span>&gt;</span>]
                     [-o=<span class="hljs-tag">&lt;<span class="hljs-name">protocol</span>&gt;</span>] [-p=<span class="hljs-tag">&lt;<span class="hljs-name">port</span>&gt;</span>] -s=<span class="hljs-tag">&lt;<span class="hljs-name">server</span>&gt;</span> [-t=<span class="hljs-tag">&lt;<span class="hljs-name">tag</span>&gt;</span>]
powerjob-worker agent
  -a, --app=<span class="hljs-tag">&lt;<span class="hljs-name">appName</span>&gt;</span>     worker-agent's name
  -e, --persistence=<span class="hljs-tag">&lt;<span class="hljs-name">storeStrategy</span>&gt;</span>
                          storage strategy, DISK or MEMORY
  -h, --help              Show this help message and exit.
  -l, --length=<span class="hljs-tag">&lt;<span class="hljs-name">length</span>&gt;</span>   ProcessResult#msg max length
  -o, --protocol=<span class="hljs-tag">&lt;<span class="hljs-name">protocol</span>&gt;</span>
                          transporter protocol, AKKA or HTTP
  -p, --port=<span class="hljs-tag">&lt;<span class="hljs-name">port</span>&gt;</span>       transporter working port, not recommended to change
  -s, --server=<span class="hljs-tag">&lt;<span class="hljs-name">server</span>&gt;</span>   oms-server's address, IP:Port OR domain
  -t, --tag=<span class="hljs-tag">&lt;<span class="hljs-name">tag</span>&gt;</span>         worker-agent's tag
  -V, --version           Print version information and exit.
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€PowerJobè¯­é›€è½¬è½½ã€‘ å®˜æ–¹å¤„ç†å™¨]]></title>    <link>https://juejin.cn/post/7573900332637372426</link>    <guid>https://juejin.cn/post/7573900332637372426</guid>    <pubDate>2025-11-19T00:22:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573900332637372426" data-draft-id="7573900332637356042" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€PowerJobè¯­é›€è½¬è½½ã€‘ å®˜æ–¹å¤„ç†å™¨"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-19T00:22:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="wasdwasd"/> <meta itemprop="url" content="https://juejin.cn/user/1854234795180115"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€PowerJobè¯­é›€è½¬è½½ã€‘ å®˜æ–¹å¤„ç†å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1854234795180115/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    wasdwasd
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T00:22:08.000Z" title="Wed Nov 19 2025 00:22:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¯¹äºä¸€äº›é€šç”¨çš„ä»»åŠ¡ï¼ŒPowerJob å®˜æ–¹ç¼–å†™äº†å¯å¼€ç®±å³ç”¨çš„ Processor æ¥æ–¹ä¾¿å„ä½ä½¿ç”¨ï¼æ‚¨åªéœ€è¦å¼•å…¥ä»¥ä¸‹ä¾èµ–å³å¯äº«å—æ‰€æœ‰ç°æˆçš„å¼ºå¤§çš„å®˜æ–¹å¤„ç†å™¨ï¼</p>
<p>æœ€æ–°ç‰ˆæœ¬è¯·è‡ªè¡Œä»ä¸­å¤®ä»“åº“è·å–ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcentral.sonatype.com%2Fsearch%3Fq%3Dpowerjob-official-processors%26namespace%3Dtech.powerjob" target="_blank" title="https://central.sonatype.com/search?q=powerjob-official-processors&amp;namespace=tech.powerjob" ref="nofollow noopener noreferrer">ç‚¹å‡»ç›´è¾¾</a></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>tech.powerjob<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>powerjob-official-processors<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${latest.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>æ¯ä¸ªå®˜æ–¹å¤„ç†å™¨çš„è¯¦ç»†ä½¿ç”¨æ–¹æ³•è¯·ä»”ç»†é˜…è¯»æ–‡æ¡£ï¼Œæœ‰ä»»ä½•ç–‘æƒ‘å»ºè®®ç›´æ¥é˜…è¯»<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FPowerJob%2FPowerJob%2Ftree%2Fmaster%2Fpowerjob-official-processors" target="_blank" title="https://github.com/PowerJob/PowerJob/tree/master/powerjob-official-processors" ref="nofollow noopener noreferrer">æºç </a>ï¼</p>
<p><strong>ç”±äº JSON å†…ä¼ é€’è®¸å¤šå‚æ•°æ¶‰åŠåˆ°è½¬ä¹‰ï¼Œå¼ºçƒˆå»ºè®®å…ˆç”¨ Java ä»£ç ç”Ÿæˆé…ç½®ï¼ˆJSONObject#putï¼‰ï¼Œå†è°ƒç”¨ toJSONString æ–¹æ³•ç”Ÿæˆå‚æ•°ã€‚</strong></p>
<h2 data-id="heading-0">Shell å¤„ç†å™¨</h2>
<p>å…¨é™å®šç±»å <code>tech.powerjob.official.processors.impl.script.ShellProcessor</code></p>
<h4 data-id="heading-1">ä»»åŠ¡å‚æ•°</h4>
<p>å¡«å†™éœ€è¦å¤„ç†çš„ Shell è„šæœ¬ï¼ˆç›´æ¥å¤åˆ¶æ–‡ä»¶å†…å®¹ï¼‰æˆ–è„šæœ¬ä¸‹è½½é“¾æ¥ï¼ˆ<a href="https://link.juejin.cn?target=http%3A%2F%2Fxxx" target="_blank" title="http://xxx" ref="nofollow noopener noreferrer">http://xxx</a>ï¼‰</p>
<h4 data-id="heading-2">ç¤ºä¾‹</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33a1a2778668485aa382aa784cc70eed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2FzZHdhc2Q=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764116527&amp;x-signature=dl%2F9a4pxqJ45qHSHsoU53Iq6DOw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">Python å¤„ç†å™¨</h2>
<p>å…¨é™å®šç±»å <code>tech.powerjob.official.processors.impl.script.PythonProcessor</code></p>
<p><strong>æ³¨æ„ï¼šPython å¤„ç†å™¨ä¼šä½¿ç”¨æœºå™¨çš„ python å‘½ä»¤æ‰§è¡Œï¼Œå› æ­¤</strong> <strong>pyth</strong> <strong>on</strong> <strong>ç‰ˆæœ¬</strong> <strong>éœ€è¦ä¸æœ¬æœº</strong> <strong>python</strong> <strong>ç¯å¢ƒä¿æŒä¸€è‡´ï¼</strong></p>
<h4 data-id="heading-4">ä»»åŠ¡å‚æ•°</h4>
<p>å¡«å†™éœ€è¦å¤„ç†çš„ Python è„šæœ¬ï¼ˆç›´æ¥å¤åˆ¶æ–‡ä»¶å†…å®¹ï¼‰æˆ–è„šæœ¬ä¸‹è½½é“¾æ¥ï¼ˆ<a href="https://link.juejin.cn?target=http%3A%2F%2Fxxx" target="_blank" title="http://xxx" ref="nofollow noopener noreferrer">http://xxx</a>ï¼‰</p>
<h4 data-id="heading-5">ç¤ºä¾‹</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd50ba55715f47029a78820e2fd56bcf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2FzZHdhc2Q=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764116527&amp;x-signature=xeFL88%2B4lthfTbBvtnjMop14JVw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">HTTP å¤„ç†å™¨</h2>
<p>å…¨é™å®šç±»å <code>tech.powerjob.official.processors.impl.HttpProcessor</code></p>
<h4 data-id="heading-7">ä»»åŠ¡å‚æ•°ï¼ˆJSONï¼‰</h4>
<ul>
<li><strong>method</strong>ã€<strong>å¿…å¡«å­—æ®µ</strong>ã€‘ï¼šGET / POST / DELETE / PUT</li>
<li><strong>url</strong>ã€<strong>å¿…å¡«å­—æ®µ</strong>ã€‘ï¼šè¯·æ±‚åœ°å€</li>
<li>timeoutã€å¯é€‰å­—æ®µã€‘ï¼šè¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºç§’</li>
<li>mediaTypeã€å¯é€‰å­—æ®µã€‘ï¼šä½¿ç”¨é GET è¯·æ±‚æ—¶ï¼Œéœ€è¦ä¼ é€’çš„æ•°æ®ç±»å‹ï¼Œå¦‚ <code>*application/json*</code></li>
<li>bodyã€å¯é€‰å­—æ®µã€‘ï¼šä½¿ç”¨é GET è¯·æ±‚æ—¶çš„ body å†…å®¹ï¼Œåç«¯ä½¿ç”¨ String æ¥æ”¶ï¼Œ<strong>å¦‚æœä¸º JSON è¯·æ³¨æ„è½¬ä¹‰</strong></li>
<li>headersã€å¯é€‰å­—æ®µã€‘ï¼šè¯·æ±‚å¤´ï¼Œåç«¯ä½¿ç”¨ Map&lt;String, String&gt; æ¥æ”¶</li>
</ul>
<h4 data-id="heading-8">æœ€ç®€ GET è¯·æ±‚ç¤ºä¾‹</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b17247fd1a2c44b1bec25ec7f9c0b8a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2FzZHdhc2Q=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764116527&amp;x-signature=Oyk5UYh5%2B3fGw8cJkmv0ZOPyScA%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-9">æ–‡ä»¶æ¸…ç†å¤„ç†å™¨</h2>
<p><strong>æ³¨æ„ï¼šæ–‡ä»¶åˆ é™¤æ˜¯é«˜å±æ“ä½œï¼Œè¯·æ…ç”¨è¯¥å¤„ç†å™¨ã€‚</strong> é»˜è®¤æƒ…å†µä¸‹è¯¥å¤„ç†å™¨ä¸å¯ç”¨ï¼Œéœ€è¦ä¼ å…¥ JVM å‚æ•°</p>
<p><code>-Dpowerjob.official-processor.file-cleanup.enable=true</code> å¼€å¯</p>
<hr/>
<p>å…¨é™å®šç±»å <code>tech.powerjob.official.processors.impl.FileCleanupProcessor</code></p>
<h3 data-id="heading-10">ä»»åŠ¡å‚æ•°ï¼ˆJSONArrayï¼‰</h3>
<p>æ•´ä½“å‚æ•°ä¸º arrayï¼Œarray ä¸­çš„æ¯ä¸ªå…ƒç´ ä¸º JSONï¼Œæè¿°éœ€è¦æ¸…ç†çš„èµ„æºï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å‚æ•°å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p>dirPathï¼šå¾…åˆ é™¤æ–‡ä»¶çš„æ–‡ä»¶å¤¹ç›®å½•ï¼ˆä¼šé€’å½’æŸ¥æ‰¾è¯¥ç›®å½•ä¸‹æ‰€æœ‰ç¬¦åˆè¦æ±‚çš„æ–‡ä»¶ï¼‰</p>
</li>
<li>
<p>filePatternï¼šå¾…åˆ é™¤æ–‡ä»¶åç§°çš„ Java ç‰ˆæ­£åˆ™è¡¨è¾¾å¼</p>
</li>
<li>
<p>retentionTimeï¼šå¾…åˆ é™¤æ–‡ä»¶çš„ä¿ç•™æ—¶é—´ï¼Œå•ä½ä¸ºå°æ—¶ï¼ˆå½“å‰æ—¶é—´ - å¾…åˆ é™¤æ–‡ä»¶ä¸Šæ¬¡ç¼–è¾‘æ—¶é—´ &gt; retentionTime çš„æ–‡ä»¶æ‰ä¼šè¢«åˆ é™¤ï¼‰ï¼Œç”¨äºä¿ç•™æŸäº›æ»šåŠ¨æ—¥å¿—ï¼Œ0 ä»£è¡¨å¿½ç•¥è¯¥è§„åˆ™</p>
</li>
</ul>
<p><strong>ç”±äº JSON å†…ä¼ é€’æ­£åˆ™è¡¨è¾¾å¼éœ€è¦è½¬ä¹‰ï¼Œå¼ºçƒˆå»ºè®®å…ˆç”¨ Java ä»£ç ç”Ÿæˆé…ç½®ï¼ˆJSONObject#put, JSONArray#addï¼‰ï¼Œå†è°ƒç”¨ toJSONString æ–¹æ³•ç”Ÿæˆå‚æ•°ã€‚</strong></p>
<h3 data-id="heading-11">ç¤ºä¾‹</h3>
<p>è„šæœ¬æ¸…ç†é…ç½®</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f34ffa1ed5db4e06a4bc0f5d75f08126~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2FzZHdhc2Q=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764116527&amp;x-signature=jLiGU1OzySJPQbvCQ5NTJU%2FOPhA%3D" alt="" loading="lazy"/></p>
<p>æ—¥å¿—æ¸…ç†é…ç½®</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/772ed5233adb437e9d6d80ab58d9b1b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2FzZHdhc2Q=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764116527&amp;x-signature=fNgowycO7rfZv1vd4HXVE9YT6gU%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-12">SQL å¤„ç†å™¨</h2>
<p>ç›®å‰å†…ç½®äº†ä¸¤æ¬¾ SQL å¤„ç†å™¨ï¼Œå‡æ”¯æŒè‡ªå®šä¹‰ SQL çš„æ ¡éªŒã€è§£æé€»è¾‘ï¼Œä¸»è¦åŒºåˆ«åœ¨äºæ•°æ®æºè¿æ¥çš„è·å–æ–¹å¼ä¸åŒã€‚</p>
<p><strong>ä»»åŠ¡å‚æ•°ï¼ˆJSONï¼‰</strong></p>
<ul>
<li>
<p>dataSourceNameï¼šæ•°æ®æºåç§°ï¼Œä»…å¯¹ <code>SpringDatasourceSqlProcesssor</code> ç”Ÿæ•ˆï¼Œéå¿…å¡«ï¼Œé»˜è®¤ä½¿ç”¨ <code>default</code> æ•°æ®æº</p>
</li>
<li>
<p><strong>sql</strong>ï¼šéœ€è¦æ‰§è¡Œçš„ SQL è¯­å¥ï¼Œå¿…å¡«</p>
</li>
<li>
<p>timeoutï¼šSQL è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œéå¿…å¡«ï¼Œé»˜è®¤å€¼ 60</p>
</li>
<li>
<p>jdbcUrlï¼šjdbc æ•°æ®åº“è¿æ¥ï¼Œä»…å¯¹ <code>DynamicDatasourceSqlProcessor</code> ç”Ÿæ•ˆï¼Œå¿…å¡«</p>
</li>
<li>
<p>showResultï¼šå¸ƒå°”å€¼ï¼Œæ˜¯å¦åœ¨å®ä¾‹æ—¥å¿—ä¸­å±•ç¤º SQL æ‰§è¡Œç»“æœï¼Œéå¿…å¡«ï¼Œé»˜è®¤å€¼ false</p>
</li>
</ul>
<p>å»ºè®®ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ <code>AbstractSqlProcessor#registerSqlValidator</code> æ–¹æ³•è‡³å°‘æ³¨å†Œä¸€ä¸ª <strong>SQL æ ¡éªŒå™¨</strong>æ‹¦æˆªæ‰éæ³• SQLï¼Œæ¯”å¦‚ truncateã€drop æ­¤ç±»å±é™©æ“ä½œï¼Œæˆ–è€…åœ¨æ•°æ®åº“è´¦å·çš„æƒé™ä¸Šåšç®¡æ§ã€‚å¦‚æœéœ€è¦<strong>è‡ªå®šä¹‰ SQL è§£æé€»è¾‘</strong>ï¼Œæ¯”å¦‚ <strong>å®å˜é‡æ›¿æ¢ï¼Œå‚æ•°æ›¿æ¢</strong> ç­‰ï¼Œåˆ™å¯ä»¥é€šè¿‡æŒ‡å®š <code>AbstractSqlProcessor.SqlParser</code> æ¥å®ç°ã€‚</p>
<h3 data-id="heading-13">SpringDatasourceSqlProcessor</h3>
<p>å…¨é™å®šç±»å <code>tech.powerjob.official.processors.impl.sql.SpringDatasourceSqlProcessor</code></p>
<p><strong>é»˜è®¤æƒ…å†µä¸‹åœ¨åˆå§‹åŒ–çš„æ—¶å€™éœ€è¦è‡³å°‘æ³¨å…¥ä¸€ä¸ªæ•°æ®æºï¼Œæ‰€ä»¥å¿…é¡»æå‰æ‰‹åŠ¨åˆå§‹åŒ–å¹¶æ³¨å†Œåˆ° Spring IOC å®¹å™¨ä¸­ï¼Œä»¥ SpringBean çš„æ–¹å¼è¿›è¡ŒåŠ è½½ã€‚</strong></p>
<p>å…è®¸ä½¿ç”¨ <code>SpringDatasourceSqlProcessor#registerDataSource </code>æ–¹æ³•æ³¨å†Œå¤šä¸ªæ•°æ®æº</p>
<p>å»ºè®®ï¼šæœ€å¥½å°†è¯¥ SQL Processor ç”¨çš„æ•°æ®åº“è¿æ¥æ± å’Œå…¶ä»–ä¸šåŠ¡æ¨¡å—ç”¨çš„æ•°æ®åº“è¿æ¥æ± <strong>éš”ç¦»</strong>å¼€ <strong>ï¼Œä¸è¦å…±ç”¨ä¸€ä¸ªè¿æ¥æ± ï¼</strong></p>
<p><strong>åˆå§‹åŒ– SpringDatasourceSqlProcessor ç¤ºä¾‹ä»£ç </strong></p>
<pre><code class="hljs language-arduino" lang="arduino">@Configuration
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SqlProcessorConfiguration</span> {
 
 
    @Bean
    @<span class="hljs-built_in">DependsOn</span>({<span class="hljs-string">"initPowerJob"</span>})
    <span class="hljs-function"><span class="hljs-keyword">public</span> DataSource <span class="hljs-title">sqlProcessorDataSource</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-type">String</span> path = System.<span class="hljs-built_in">getProperty</span>(<span class="hljs-string">"user.home"</span>) + <span class="hljs-string">"/test/h2/"</span> + CommonUtils.<span class="hljs-built_in">genUUID</span>() + <span class="hljs-string">"/"</span>;
        <span class="hljs-type">String</span> jdbcUrl = <span class="hljs-type">String</span>.format(<span class="hljs-string">"jdbc:h2:file:%spowerjob_sql_processor_db;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false"</span>, path);
        HikariConfig config = <span class="hljs-keyword">new</span> <span class="hljs-built_in">HikariConfig</span>();
        config.<span class="hljs-built_in">setDriverClassName</span>(Driver.<span class="hljs-keyword">class</span>.<span class="hljs-built_in">getName</span>());
        config.<span class="hljs-built_in">setJdbcUrl</span>(jdbcUrl);
        config.<span class="hljs-built_in">setAutoCommit</span>(<span class="hljs-literal">true</span>);
        <span class="hljs-comment">// æ± ä¸­æœ€å°ç©ºé—²è¿æ¥æ•°é‡</span>
        config.<span class="hljs-built_in">setMinimumIdle</span>(<span class="hljs-number">1</span>);
        <span class="hljs-comment">// æ± ä¸­æœ€å¤§è¿æ¥æ•°é‡</span>
        config.<span class="hljs-built_in">setMaximumPoolSize</span>(<span class="hljs-number">10</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">HikariDataSource</span>(config);
    }
 
 
    @<span class="hljs-function">Bean
    <span class="hljs-keyword">public</span> SpringDatasourceSqlProcessor <span class="hljs-title">simpleSpringSqlProcessor</span><span class="hljs-params">(@Qualifier(<span class="hljs-string">"sqlProcessorDataSource"</span>) DataSource dataSource)</span> </span>{
        SpringDatasourceSqlProcessor springDatasourceSqlProcessor = <span class="hljs-keyword">new</span> <span class="hljs-built_in">SpringDatasourceSqlProcessor</span>(dataSource);
        <span class="hljs-comment">// do nothing</span>
        springDatasourceSqlProcessor.<span class="hljs-built_in">registerSqlValidator</span>(<span class="hljs-string">"fakeSqlValidator"</span>, sql -&gt; <span class="hljs-literal">true</span>);
        <span class="hljs-comment">// æ’é™¤æ‰åŒ…å« drop çš„ SQL</span>
        springDatasourceSqlProcessor.<span class="hljs-built_in">registerSqlValidator</span>(<span class="hljs-string">"interceptDropValidator"</span>, sql -&gt; sql.<span class="hljs-built_in">matches</span>(<span class="hljs-string">"^(?i)((?!drop).)*$"</span>));
        <span class="hljs-comment">// do nothing</span>
        springDatasourceSqlProcessor.<span class="hljs-built_in">setSqlParser</span>((sql, taskContext) -&gt; sql);
        <span class="hljs-keyword">return</span> springDatasourceSqlProcessor;
    }
 
}
</code></pre>
<p><strong>å‚æ•°é…ç½®ç¤ºä¾‹</strong></p>
<p>ä½¿ç”¨é»˜è®¤æ•°æ®æºï¼Œæ‰§è¡Œ SQL ï¼š <code>select 'x' from t_example</code> ï¼Œé™å®šè¶…æ—¶æ—¶é—´ä¸º 10 ç§’ï¼Œå¹¶ä¸”åœ¨å®ä¾‹æ—¥å¿—ä¸­å±•ç¤ºç»“æœ</p>
<pre><code class="hljs language-json" lang="json">
<span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"dataSourceName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"default"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"sql"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"select 'x' from t_example"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"timeout"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"showResult"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-14">DynamicDatasourceSqlProcessor</h3>
<p>é»˜è®¤æƒ…å†µä¸‹è¯¥å¤„ç†å™¨ä¸å¯ç”¨ï¼Œéœ€è¦ä¼ å…¥ JVM å‚æ•° <code>-Dpowerjob.official-processor.dynamic-datasource.enable=true</code> å¼€å¯</p>
<p>å…¨é™å®šç±»å <code>tech.powerjob.official.processors.impl.sql.DynamicDatasourceSqlProcessor</code></p>
<p>æ”¯æŒé€šè¿‡å‚æ•°åŠ¨æ€æŒ‡å®šæ•°æ®æºè¿æ¥ï¼Œåœ¨æŒ‡å®šçš„æ•°æ®åº“æ‰§è¡Œ SQLã€‚</p>
<p><strong>å‚æ•°é…ç½®ç¤ºä¾‹</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"sql"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"select 'x' from t_example"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"timeout"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"showResult"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"jdbcUrl"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"jdbc:mysql://myhost1:3306/db_name?user=root&amp;password=mypass"</span><span class="hljs-punctuation">,</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-15">å·¥ä½œæµä¸Šä¸‹æ–‡æ³¨å…¥å¤„ç†å™¨</h2>
<p>å…¨é™å®šç±»å <code>tech.powerjob.official.processors.impl.context.InjectWorkflowContextProcessor</code> ( since v1.2.0 )</p>
<p>è¯¥å¤„ç†å™¨ä¼šä»ä»»åŠ¡å‚æ•°ä¸­åŠ è½½æ•°æ®ï¼Œå°è¯•å°†å…¶è§£ææˆ Map ï¼Œå¦‚æœè§£ææˆåŠŸï¼Œåˆ™ä¼šå°†å…¶æ³¨å…¥åˆ°å·¥ä½œæµä¸Šä¸‹æ–‡ä¸­ã€‚</p>
<p>æ³¨æ„ï¼Œå‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ª<code>HashMap&lt;String, Object&gt;</code>çš„ JSON ä¸²å½¢å¼ï¼Œå¦åˆ™ä¼šè§£æå¤±è´¥ã€‚</p>
<p><strong>æ³¨æ„ï¼šè¯¥ Processor ä¸»è¦ç”¨äºä¸€äº›éœ€è¦æ³¨å…¥å›ºå®šä¸Šä¸‹æ–‡çš„å·¥ä½œæµåœºæ™¯ï¼Œä½œä¸ºå•ä¸ªä»»åŠ¡æ‰§è¡Œæ˜¯æ²¡æœ‰ä»»ä½•æ„ä¹‰çš„</strong></p>
<p><strong>å‚æ•°é…ç½®ç¤ºä¾‹</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"uid"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"powerjob_001"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"createTime"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1662210950000</span><span class="hljs-punctuation">,</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-16">åŠ¨æ€é…ç½®å¤„ç†å™¨</h2>
<p>ç®€æ˜“ç‰ˆé…ç½®ä¸­å¿ƒï¼Œé€‚ç”¨äºæ²¡æœ‰ nacos ç­‰é…ç½®ä¸­å¿ƒæ—¶ä¸´æ—¶éœ€è¦åŠ¨æ€ä¸‹å‘é…ç½®çš„åœºæ™¯ã€‚</p>
<p>è¯¥å¤„ç†å™¨åŸç†éå¸¸ç®€å•ï¼Œå°†æ§åˆ¶å°çš„ jobParams å†™å…¥ç±»æœ¬èº«çš„ static å˜é‡ä¸­ï¼Œè¿™æ ·å¼€å‘è€…å¯ç›´æ¥é€šè¿‡é™æ€æ–¹æ³•è·å–åˆ° Job çš„é…ç½®ï¼ˆ<code>ConfigProcessor#fetchConfig</code>ï¼‰ï¼Œèµ·åˆ°ä¼ªé…ç½®ä¸­å¿ƒçš„æ•ˆæœã€‚</p>
<p>å…¨é™å®šç±»åï¼štech.powerjob.official.processors.impl.ConfigProcessor</p>
<p>æ‰§è¡Œæ¨¡å¼ï¼š<strong>å¹¿æ’­ï¼ï¼ï¼ï¼ˆéœ€è¦ä¿è¯æ¯å°æœºå™¨éƒ½ä¸‹å‘é…ç½®ï¼Œå¿…é¡»é€‰å¹¿æ’­æ‰§è¡Œï¼ï¼ï¼ï¼‰</strong></p>
<p>å‚æ•°è¯´æ˜ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">public</span> <span class="hljs-type">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Config</span> implements Serializable {
    <span class="hljs-comment">/**
     * åŸå§‹é…ç½®ï¼Œé€šè¿‡ ConfigProcessor#fetchConfig çœŸæ­£èƒ½è·å–åˆ°çš„éƒ¨åˆ†
     */</span>
    <span class="hljs-keyword">private</span> Map&lt;<span class="hljs-type">String</span>, Object&gt; config;

    <span class="hljs-comment">/**
     * æŒä¹…åˆ°æœ¬åœ°çš„å…¨è·¯å¾„åç§°ï¼Œç©ºä»£è¡¨ä¸æŒä¹…åŒ–ï¼ˆä¸éœ€è¦åˆ™ç•™ç©ºå³å¯ï¼‰
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> persistentFileName;
}
</code></pre>
<p>æœ€ç®€å‚æ•°ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"config"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"keyA"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"valueA"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"keyB"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"valueB"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"tips"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"configå†…å¯æ”¾ç½®ä»»æ„å±‚çº§çš„ JSON æ•°æ®ï¼Œå®Œå…¨é€ä¼ "</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ä»¥ä¸‹ä¸ºæ§åˆ¶å°å®Œæ•´é…ç½®ï¼Œå†æ¬¡å¼ºè°ƒ</p>
<ul>
<li><strong>æ‰§è¡Œæ¨¡å¼å¿…é¡»é€‰æ‹©ä¸ºï¼šå¹¿æ’­æ‰§è¡Œï¼ï¼ï¼</strong></li>
<li><strong>å®šæ—¶ä¿¡æ¯ï¼šå»ºè®®é€‰æ‹© 1 åˆ†é’Ÿçš„ CRONï¼ˆå‚æ•°1åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡ï¼‰ï¼Œè¡¨è¾¾å¼ï¼š</strong> <code>0 * * * * ?</code></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb0874e3173f4866927a5a66eafd196c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2FzZHdhc2Q=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764116527&amp;x-signature=bCEoiuLMM0RY5mpdxNxf7nDJI8A%3D" alt="" loading="lazy"/></p>
<p>ä½¿ç”¨ä»£ç ç¤ºä¾‹ï¼ˆéå¸¸ç®€å•ï¼Œé€šè¿‡ <code>ConfigProcessor.fetchConfig()</code>è·å–åˆ° configï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// æµ‹è¯•é…ç½®ä¸­å¿ƒè·å–æ•°æ®
Map&lt;String, Object&gt; <span class="hljs-attr">dynamicConfig</span> = ConfigProcessor.fetchConfig()<span class="hljs-comment">;</span>
Object <span class="hljs-attr">valueA</span> = dynamicConfig.get(<span class="hljs-string">"keyA"</span>)<span class="hljs-comment">;</span>
logger.info("<span class="hljs-section">[Test]</span> dynamicConfig: {}, fetchByKeyA: {}", dynamicConfig, valueA)<span class="hljs-comment">;</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[openGaussæ•°æ®åº“ï¼šä»CentOS 7.9éƒ¨ç½²åˆ°å®æˆ˜éªŒè¯]]></title>    <link>https://juejin.cn/post/7574069837527302186</link>    <guid>https://juejin.cn/post/7574069837527302186</guid>    <pubDate>2025-11-19T02:03:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574069837527302186" data-draft-id="7573931843266658358" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="openGaussæ•°æ®åº“ï¼šä»CentOS 7.9éƒ¨ç½²åˆ°å®æˆ˜éªŒè¯"/> <meta itemprop="keywords" content="æ•°æ®åº“"/> <meta itemprop="datePublished" content="2025-11-19T02:03:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å€”å¼ºçš„çŸ³å¤´_"/> <meta itemprop="url" content="https://juejin.cn/user/3168119757484368"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            openGaussæ•°æ®åº“ï¼šä»CentOS 7.9éƒ¨ç½²åˆ°å®æˆ˜éªŒè¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3168119757484368/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å€”å¼ºçš„çŸ³å¤´_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T02:03:43.000Z" title="Wed Nov 19 2025 02:03:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. å¼•è¨€</h2>
<p>åœ¨æ•°æ®ä¸AIæ·±åº¦èåˆçš„æ—¶ä»£ï¼Œæ•°æ®åº“ä¸å†åªæ˜¯â€œå­˜å‚¨ä¸æŸ¥è¯¢â€çš„å·¥å…·ï¼Œè€Œæ˜¯æ™ºèƒ½åº”ç”¨çš„æ ¸å¿ƒåº•åº§ã€‚openGaussä½œä¸ºä¼ä¸šçº§å¼€æºå…³ç³»å‹æ•°æ®åº“ï¼Œæ—¢å…·å¤‡OLTP/OLAPæ··åˆè´Ÿè½½çš„èƒ½åŠ›ï¼Œä¹Ÿåœ¨å‘é‡è®¡ç®—ã€AIæ£€ç´¢ç­‰æ–°åœºæ™¯ä¸ŠæŒç»­æ¼”è¿›ã€‚</p>
<p>æœ¬ç¯‡ä½œä¸ºç³»åˆ—å¼€ç¯‡ï¼Œä¸ä»…å®Œæˆåœ¨åä¸ºäº‘ CentOS 7.9 ç¯å¢ƒçš„æç®€éƒ¨ç½²ä¸å¯ç”¨æ€§éªŒè¯ï¼Œè¿˜å°†å¼•å…¥æ›´è´´è¿‘ç”Ÿäº§çš„è¿›é˜¶å†…å®¹ï¼šæ¶æ„ä¸ç‰ˆæœ¬è¦ç‚¹ã€æ€§èƒ½ä¸SQLä¼˜åŒ–ã€ä¼ä¸šçº§å®‰å…¨å®è·µã€å‘é‡ä¸RAGåœºæ™¯çš„è½åœ°è·¯å¾„ã€‚æ–‡æœ«çš„â€œè¿›é˜¶ä¸å®è·µâ€æ¨¡å—ä¸åç»­ä¸¤ç¯‡ã€Šä½¿ç”¨DBeaverå¯è§†åŒ–ç®¡ç†ä¸å®æˆ˜ã€‹ã€ŠPythonå¼€å‘ä¸AIå‘é‡æ•°æ®åº“åº”ç”¨ã€‹å½¢æˆé¡ºç•…è¡”æ¥ã€‚</p>
<h2 data-id="heading-1">2. openGauss æ•°æ®åº“ç®€ä»‹</h2>
<p>openGaussæ˜¯ä¸€æ¬¾å¼€æºå…³ç³»å‹æ•°æ®åº“ï¼Œæ·±åº¦èåˆäº†åä¸ºåœ¨æ•°æ®åº“é¢†åŸŸè¶…è¿‡åå¹´çš„ç»éªŒï¼Œç»“åˆä¼ä¸šçº§åœºæ™¯éœ€æ±‚ï¼Œåœ¨æ¶æ„ã€äº‹åŠ¡ã€å­˜å‚¨å¼•æ“ã€ä¼˜åŒ–å™¨åŠAIèƒ½åŠ›ä¸ŠæŒç»­åˆ›æ–°ã€‚å…¶æŠ€æœ¯ç”Ÿæ€å…¼å®¹PostgreSQLï¼Œä¾¿äºå®¢æˆ·ç«¯ã€é©±åŠ¨ä¸å·¥å…·çš„å¤ç”¨ï¼ŒåŒæ—¶åœ¨å…³é”®å†…æ ¸èƒ½åŠ›ä¸Šå¢å¼ºä»¥é€‚é…å¤æ‚è´Ÿè½½ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/59d543add2584d3ab8bc842e216c4b91~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764122623&amp;x-signature=IvTqSoNZ3x%2Bq1WnjAsPrCfoaFGA%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2">2.1 æ ¸å¿ƒç‰¹æ€§ä¸è¿›é˜¶è§£è¯»</h3>
<ul>
<li><strong>é«˜æ€§èƒ½ä¸é«˜å¯é </strong>ï¼šNUMAæ„ŸçŸ¥çº¿ç¨‹æ± ã€æ··åˆè¡Œåˆ—å¼å­˜å‚¨ã€å¹¶è¡Œæ‰§è¡Œä¸åŸºäºä»£ä»·çš„ä¼˜åŒ–å™¨ï¼Œåœ¨TP/APæ··åˆè´Ÿè½½ä¸‹ä¿æŒç¨³å®šååï¼›æ”¯æŒä¸»å¤‡ä¸å®¹ç¾æ¶æ„ï¼Œä¿éšœè¿ç»­æ€§ä¸åˆè§„ã€‚</li>
<li><strong>æ™ºèƒ½åŒ–è¿ç»´</strong>ï¼šæ…¢SQLè¯Šæ–­ã€ç´¢å¼•å»ºè®®ã€å‚æ•°è‡ªè°ƒä¼˜ä¸åœ¨çº¿çƒ­åŠ è½½é…åˆä¸°å¯Œæ—¥å¿—ä¸è§‚æµ‹æŒ‡æ ‡ï¼Œé™ä½æ’éšœä¸è°ƒä¼˜é—¨æ§›ã€‚</li>
<li><strong>ç”Ÿæ€å…¼å®¹ä¸æ‰©å±•</strong>ï¼šå…¼å®¹PostgreSQLç”Ÿæ€ï¼ˆJDBC/ODBC/psycopg2ç­‰ï¼‰ï¼›åœ¨å‘é‡ç±»å‹ã€è·ç¦»ç®—å­ä¸ä¸“ç”¨ç´¢å¼•ä¸Šæ‰©å±•ï¼ŒæœåŠ¡AIæ£€ç´¢ä¸RAGåœºæ™¯ã€‚</li>
<li><strong>åŸç”ŸAIæ”¯æŒ</strong>ï¼šæä¾›<code>VECTOR(n)</code>ç±»å‹ä¸è·ç¦»ç®—å­<code>&lt;-&gt;</code>ï¼Œä¼˜åŒ–å‘é‡åŒ–è®¡ç®—ï¼Œä½¿å›¾åƒã€æ–‡æœ¬ç­‰éç»“æ„åŒ–æ•°æ®çš„å‘é‡æ£€ç´¢é«˜æ•ˆå¯ç”¨ï¼Œä¸ºå¤§æ¨¡å‹æ—¶ä»£çš„çŸ¥è¯†æ£€ç´¢ä¸å¢å¼ºç”Ÿæˆå¤¯å®æ•°æ®åº•åº§ã€‚</li>
</ul>
<p>æç¤ºï¼šäº§å“è¯´æ˜ä¸ç‰ˆæœ¬ç»†èŠ‚å‚è€ƒæ–‡æ¡£ä¸­å¿ƒ <code>https://docs.opengauss.org/zh/</code>ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a7628ebe31db4974a496ee625e809eec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764122623&amp;x-signature=hAhn9I6BJrUvtxJ%2BH2lnDUuTR0w%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-3">3. åœ¨CentOS 7.9ä¸Šéƒ¨ç½² openGauss</h2>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¿›å…¥å®æˆ˜ç¯èŠ‚ï¼Œæ¼”ç¤ºå¦‚ä½•åœ¨åä¸ºäº‘çš„CentOS 7.9æœåŠ¡å™¨ä¸Šéƒ¨ç½²openGaussã€‚</p>
<h3 data-id="heading-4">3.1 åŸºç¡€ç¯å¢ƒå‡†å¤‡</h3>
<p>åœ¨å¼€å§‹å®‰è£…ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„æœåŠ¡å™¨æ»¡è¶³ä»¥ä¸‹åŸºæœ¬é…ç½®ï¼Œå¹¶å®Œæˆç›¸åº”çš„ç¯å¢ƒå‡†å¤‡å·¥ä½œã€‚</p>
<p><strong>ç¡¬ä»¶é…ç½®</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0cc89548e5a498da68a23c86b3b4662~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764122623&amp;x-signature=wt9RNDW%2B7C1AfW3OYu3kwex7uaM%3D" alt="image.png" loading="lazy"/></p>
<p><strong>å…³äºCentOS 7.9çš„å…¼å®¹æ€§è¯´æ˜</strong>:</p>
<p>å®˜æ–¹æ˜¾ç¤ºæ”¯æŒ CentOS 7.6ï¼Œ7.x ç³»åˆ—å·®å¼‚è¾ƒå°ï¼Œé€šå¸¸å¯åœ¨ 7.9 æˆåŠŸå®‰è£…ã€‚å®‰è£…è„šæœ¬ä¸»è¦æ£€æŸ¥ä¾èµ–ä¸ç³»ç»Ÿç¯å¢ƒï¼ŒäºŒè€…åœ¨ 7.6 ä¸ 7.9 é—´åŸºæœ¬ä¸€è‡´ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a59bec193fb42f093545fbc4f2f9d73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764122623&amp;x-signature=s%2FjPiCfcTA4VXgRYbqfkwhKkyRs%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸ºäº†ç¡®ä¿å®‰è£…è„šæœ¬é¡ºåˆ©é€šè¿‡æ£€æŸ¥ï¼Œå¯åœ¨å®‰è£…æœŸé—´ä¸´æ—¶å°†ç³»ç»Ÿç‰ˆæœ¬æ ‡è¯†ä¿®æ”¹ä¸ºâ€œ7.6â€ï¼Œå®‰è£…å®Œæˆåæ¢å¤ã€‚è¯¥æ–¹æ³•ä»…å½±å“è„šæœ¬æ£€æŸ¥æµç¨‹ï¼Œä¸æ”¹å˜ç³»ç»Ÿå†…æ ¸ä¸åº“ç‰ˆæœ¬ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¤‡ä»½å½“å‰çš„ç³»ç»Ÿç‰ˆæœ¬æ–‡ä»¶</span>
sudo <span class="hljs-built_in">cp</span> /etc/redhat-release /etc/redhat-release.bak
<span class="hljs-comment"># ä¸´æ—¶ä¿®æ”¹ä¸º7.6</span>
sudo <span class="hljs-built_in">echo</span> <span class="hljs-string">"CentOS Linux release 7.6.1810 (Core)"</span> &gt; /etc/redhat-release
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œè®°å¾—æ¢å¤åŸå§‹æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">mv</span> /etc/redhat-release.bak /etc/redhat-release
</code></pre>
<p><strong>ç¯å¢ƒä¾èµ–å®‰è£…</strong>:</p>
<p>é¦–å…ˆï¼Œé€šè¿‡<code>yum</code>å®‰è£…openGaussæ‰€éœ€ä¾èµ–ï¼›å»ºè®®åŒæ­¥è¿›è¡Œç³»ç»Ÿå±‚é¢çš„åŸºç¡€ä¼˜åŒ–ï¼ˆè§åæ–‡â€œè¿›é˜¶ä¼˜åŒ–â€ï¼‰ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">sudo yum install -y bzip2 libaio-devel flex bison ncurses-devel glibc-devel patch redhat-lsb-core readline-devel
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/356e35429d3442ffb558ca1d0b132529~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764122623&amp;x-signature=n%2FaQuxwJYzB7igM7WKAIQaTn2n4%3D" alt="image.png" loading="lazy"/></p>
<p><strong>å…³é—­é˜²ç«å¢™å’ŒSELinux</strong>:</p>
<p>ä¸ºäº†ç®€åŒ–å®‰è£…è¿‡ç¨‹ï¼Œæˆ‘ä»¬å…ˆå…³é—­é˜²ç«å¢™å’ŒSELinuxã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå»ºè®®æ‚¨æ ¹æ®å®é™…éœ€æ±‚é…ç½®æ›´ç²¾ç»†çš„å®‰å…¨ç­–ç•¥ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">sudo systemctl stop firewalld
sudo systemctl <span class="hljs-built_in">disable</span> firewalld
sudo setenforce 0
<span class="hljs-comment"># æ°¸ä¹…å…³é—­SELinuxï¼Œéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶</span>
sudo sed -i <span class="hljs-string">'s/SELINUX=enforcing/SELINUX=disabled/'</span> /etc/selinux/config
</code></pre>
<p>è¿™é‡Œæˆ‘æ˜¯åˆ‡æ¢äº†rootç”¨æˆ·æ“ä½œ
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d815527e587460c98ea4b378bef3b74~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764122623&amp;x-signature=wgg4OkvO4Bn2FQFhBrSeo5L0RgQ%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5">3.2 ä¸‹è½½å¹¶è§£å‹ openGauss å®‰è£…åŒ…</h3>
<p>æ‚¨å¯ä»¥ä»openGaussçš„å®˜æ–¹ç¤¾åŒº<a href="https://link.juejin.cn?target=https%3A%2F%2Fopengauss.org%2Fzh%2Fdownload%2F" target="_blank" title="https://opengauss.org/zh/download/" ref="nofollow noopener noreferrer">ä¸‹è½½é¡µé¢</a>è·å–æœ€æ–°çš„å®‰è£…åŒ…ã€‚è¯·é€‰æ‹©ä¸æ‚¨çš„æ“ä½œç³»ç»Ÿå’Œæ¶æ„åŒ¹é…çš„ç‰ˆæœ¬ã€‚
ä¸‹è½½å®Œä¹‹åç”¨è‡ªå·±å–œæ¬¢çš„æ–¹å¼ä¼ è¿‡å»</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2464cc5499a640c3a94773f08c6e3596~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764122623&amp;x-signature=DUe6i7Fm8GkR4IUudknR6NoK53I%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-6">3.3 åˆå§‹åŒ–å’Œå®‰è£…æ•°æ®åº“</h3>
<p>openGaussæä¾›äº†ç®€å•æ˜“ç”¨çš„å®‰è£…è„šæœ¬ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®Œæˆæ•°æ®åº“çš„åˆå§‹åŒ–ã€‚</p>
<p><strong>åˆ›å»ºç”¨æˆ·å’Œç»„</strong>:</p>
<p>ä¸ºäº†å®‰å…¨èµ·è§ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªä¸“é—¨çš„ç”¨æˆ·<code>omm</code>æ¥è¿è¡ŒopenGaussã€‚</p>
<pre><code class="hljs language-bash" lang="bash">groupadd dbgrp
useradd -g dbgrp omm

<span class="hljs-built_in">mkdir</span> -p /opt/gaussdb/app  <span class="hljs-comment"># ç¨‹åºå®‰è£…è·¯å¾„</span>
<span class="hljs-built_in">mkdir</span> -p /opt/gaussdb/data  <span class="hljs-comment"># æ•°æ®å­˜å‚¨è·¯å¾„</span>
<span class="hljs-built_in">chown</span> -R omm:dbgrp /opt/opengauss /opt/gaussdb  <span class="hljs-comment"># æˆæƒç»™ omm ç”¨æˆ·</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44d00382f68942e1a8090092e5773d63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764122623&amp;x-signature=5bP180qGvMFAosnQUw80GuNUFK8%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ä¸Šä¼ å¹¶è§£å‹å®‰è£…åŒ…</strong>ï¼ˆå‡è®¾åŒ…å·²ä¸Šä¼ åˆ°Â <code>/opt/opengauss</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /opt/opengauss
<span class="hljs-comment"># è§£å‹ï¼ˆæ³¨æ„åç¼€æ˜¯ .tar.bz2ï¼Œç”¨ -j å‚æ•°ï¼‰</span>
tar -jxvf openGauss-Server-6.0.2-CentOS7-x86_64.tar.bz2  
<span class="hljs-comment"># è§£å‹åä¼šç”Ÿæˆ `simpleInstall` ç›®å½•ï¼Œè¿›å…¥è¯¥ç›®å½•</span>
<span class="hljs-built_in">cd</span> simpleInstall
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fcef98d8bc19474b905e195ec877a92a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764122623&amp;x-signature=CnS8VHAJ%2B3ICMCbzmKR2YQAyoHQ%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ‰§è¡Œå®‰è£…</strong>:</p>
<p>åˆ‡æ¢åˆ°<code>omm</code>ç”¨æˆ·ï¼Œå¹¶æ‰§è¡Œå®‰è£…è„šæœ¬ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">sh install.sh -w <span class="hljs-string">"Gauss@123456"</span>  
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8fb5bd87cf6475a9ce591aa8f7aecbc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764122623&amp;x-signature=tjvu4L%2BrTtmFzF9lOJLy%2BB%2Fo600%3D" alt="image.png" loading="lazy"/></p>
<p>å®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆæ•°æ®åº“çš„åˆå§‹åŒ–ã€é…ç½®å’Œå¯åŠ¨ã€‚</p>
<p>è¿›é˜¶æç¤ºï¼šç”Ÿäº§ç¯å¢ƒå»ºè®®å°†ç¨‹åºä¸æ•°æ®ç›®å½•ç½®äºç‹¬ç«‹ç£ç›˜æˆ–åˆ†åŒºï¼Œæ•°æ®ç›®å½•å¼€å¯åˆé€‚çš„æŒ‚è½½å‚æ•°ï¼ˆå¦‚ <code>noatime</code>ï¼‰ï¼Œå¹¶è§„åˆ’ç‹¬ç«‹çš„å½’æ¡£ä¸å¤‡ä»½è·¯å¾„ï¼Œé™ä½IOå¹²æ‰°ä¸è¿ç»´é£é™©ã€‚</p>
<h2 data-id="heading-7">4. éªŒè¯æ•°æ®åº“å¯ç”¨æ€§</h2>
<p>å®‰è£…å®Œæˆåï¼Œéœ€é€šè¿‡<code>gs_ctl</code>ï¼ˆçŠ¶æ€æ£€æŸ¥å·¥å…·ï¼‰å’Œ<code>gsql</code>ï¼ˆå‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼‰éªŒè¯æ•°æ®åº“æ˜¯å¦æ­£å¸¸è¿è¡Œã€‚ç”±äºæç®€ç‰ˆæœªç”Ÿæˆ<code>env.sh</code>ç¯å¢ƒå˜é‡è„šæœ¬ï¼Œéœ€æ‰‹åŠ¨é…ç½®æ ¸å¿ƒç¯å¢ƒå˜é‡ä»¥ç¡®ä¿å‘½ä»¤å¯ç”¨ã€‚</p>
<h3 data-id="heading-8">4.1 æ‰‹åŠ¨è®¾ç½®ç¯å¢ƒå˜é‡</h3>
<p>openGauss éœ€é€šè¿‡<code>omm</code>ç”¨æˆ·ï¼ˆå®‰è£…æ—¶åˆ›å»ºçš„ä¸“å±ç”¨æˆ·ï¼‰æ“ä½œï¼Œä¸”éœ€æ‰‹åŠ¨æŒ‡å®šæ•°æ®åº“å®‰è£…è·¯å¾„ã€äºŒè¿›åˆ¶æ–‡ä»¶è·¯å¾„ç­‰æ ¸å¿ƒç¯å¢ƒå˜é‡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#  æ‰‹åŠ¨è®¾ç½®æ ¸å¿ƒç¯å¢ƒå˜é‡ï¼ˆè·¯å¾„éœ€ä¸å®é™…å®‰è£…ç›®å½•ä¸€è‡´ï¼Œæ­¤å¤„ä¸º/opt/opengaussï¼‰</span>
<span class="hljs-built_in">export</span> GAUSSHOME=/opt/opengauss  <span class="hljs-comment"># æ•°æ®åº“å®‰è£…æ ¹ç›®å½•</span>
<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$GAUSSHOME</span>/bin:<span class="hljs-variable">$PATH</span>  <span class="hljs-comment"># å°†æ•°æ®åº“äºŒè¿›åˆ¶å‘½ä»¤ï¼ˆå¦‚gsqlã€gs_ctlï¼‰åŠ å…¥ç³»ç»Ÿè·¯å¾„</span>
<span class="hljs-built_in">export</span> LD_LIBRARY_PATH=<span class="hljs-variable">$GAUSSHOME</span>/lib:<span class="hljs-variable">$LD_LIBRARY_PATH</span>  <span class="hljs-comment"># åŠ è½½æ•°æ®åº“ä¾èµ–åº“</span>


<span class="hljs-comment">#  éªŒè¯ç¯å¢ƒå˜é‡æ˜¯å¦ç”Ÿæ•ˆï¼ˆæ‰§è¡Œåæ˜¾ç¤ºopenGaussç‰ˆæœ¬å³æˆåŠŸï¼‰</span>
gsql --version

</code></pre>
<p><strong>é¢„æœŸè¾“å‡º</strong>ï¼ˆç±»ä¼¼å¦‚ä¸‹å†…å®¹ï¼Œç‰ˆæœ¬å·ä»¥å®é™…å®‰è£…ä¸ºå‡†ï¼‰ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e6ab64b3b524535a8e98918c046eaf0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764122623&amp;x-signature=jqJOkWpWYrW5bbCRRLXjweL35Qg%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-9">4.2 æ£€æŸ¥æ•°æ®åº“è¿è¡ŒçŠ¶æ€</h3>
<p>åœ¨è¿æ¥æ•°æ®åº“å‰ï¼Œå…ˆé€šè¿‡<code>gs_ctl</code>ç¡®è®¤æ•°æ®åº“æ˜¯å¦å·²å¯åŠ¨ï¼ˆæç®€ç‰ˆå®‰è£…è„šæœ¬é»˜è®¤è‡ªåŠ¨å¯åŠ¨ï¼Œä½†å»ºè®®æ‰‹åŠ¨éªŒè¯ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰§è¡ŒçŠ¶æ€æ£€æŸ¥å‘½ä»¤ï¼ˆ-D æŒ‡å®šæ•°æ®å­˜å‚¨ç›®å½•ï¼Œæç®€ç‰ˆé»˜è®¤è·¯å¾„ä¸º/opt/opengauss/data/single_nodeï¼‰</span>
gs_ctl status -D /opt/opengauss/data/single_node
</code></pre>
<p><strong>å…³é”®åˆ¤æ–­ä¾æ®</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">    <span class="hljs-comment"># å¯åŠ¨æ•°æ®åº“ï¼ˆåŒæ ·æŒ‡å®šæ•°æ®ç›®å½•ï¼‰</span>
    gs_ctl start -D /opt/opengauss/data/single_node -Z single_node
    ```

![](https://gitee.com/xing-shichuang/picture/raw/master/20251105225300702.png)


<span class="hljs-comment">### 4.3 è¿æ¥æ•°æ®åº“</span>

é€šè¿‡`gsql`å‘½ä»¤è¡Œå®¢æˆ·ç«¯è¿æ¥åˆ°é»˜è®¤æ•°æ®åº“`postgres`ï¼ˆopenGauss é»˜è®¤ç«¯å£ä¸º 5432ï¼Œéœ€æŒ‡å®šç”¨æˆ·å’Œå®‰è£…æ—¶è®¾ç½®çš„å¯†ç ï¼‰ï¼š

```bash
<span class="hljs-comment"># è¿æ¥å‘½ä»¤æ ¼å¼ï¼šgsql -d æ•°æ®åº“å -p ç«¯å£ -U ç”¨æˆ·å -W å¯†ç </span>
gsql -d postgres -p 5432 -U omm -W <span class="hljs-string">"Gauss@123456"</span>
</code></pre>
<ul>
<li>å‚æ•°è¯´æ˜ï¼š
<ul>
<li><code>-d postgres</code>ï¼šè¿æ¥é»˜è®¤ç³»ç»Ÿæ•°æ®åº“<code>postgres</code>ï¼›</li>
<li><code>-p 5432</code>ï¼šä½¿ç”¨ openGauss é»˜è®¤ç«¯å£ï¼›</li>
<li><code>-U omm</code>ï¼šé€šè¿‡<code>omm</code>ç”¨æˆ·ï¼ˆæ•°æ®åº“è¶…çº§ç®¡ç†å‘˜ï¼‰è¿æ¥ï¼›</li>
<li><code>-W "Gauss@123456"</code>ï¼šæŒ‡å®šå®‰è£…æ—¶è®¾ç½®çš„å¯†ç ï¼ˆéœ€æ›¿æ¢ä¸ºæ‚¨å®é™…è®¾ç½®çš„å¯†ç ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>é¢„æœŸè¾“å‡º</strong>ï¼ˆå‡ºç°å¦‚ä¸‹äº¤äº’ç•Œé¢ï¼Œè¯´æ˜è¿æ¥æˆåŠŸï¼‰ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7241bc35256e43dcac7a6ef853d4ba3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764122623&amp;x-signature=6pdFE3MRaY91He7N2f1ZjEZbZYM%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-10">4.4 æ‰§è¡Œç®€å•æŸ¥è¯¢éªŒè¯åŠŸèƒ½</h3>
<p>åœ¨<code>openGauss=#</code>äº¤äº’ç•Œé¢ä¸­ï¼Œæ‰§è¡Œ SQL è¯­å¥éªŒè¯æ•°æ®åº“è¯»å†™èƒ½åŠ›ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- 1. æŸ¥çœ‹æ•°æ®åº“ç‰ˆæœ¬ï¼ˆç¡®è®¤å½“å‰è¿æ¥çš„æ•°æ®åº“ä¿¡æ¯ï¼‰</span>
<span class="hljs-keyword">SELECT</span> version();

<span class="hljs-comment">-- 2. åˆ›å»ºæµ‹è¯•è¡¨ï¼ˆéªŒè¯è¡¨åˆ›å»ºåŠŸèƒ½ï¼‰</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> test (
    id <span class="hljs-type">INT</span> <span class="hljs-keyword">PRIMARY</span> KEY,  <span class="hljs-comment">-- ä¸»é”®åˆ—ï¼ˆå”¯ä¸€æ ‡è¯†æ¯æ¡æ•°æ®ï¼‰</span>
    name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>)     <span class="hljs-comment">-- å­—ç¬¦ä¸²åˆ—ï¼ˆå­˜å‚¨åç§°ï¼‰</span>
);

<span class="hljs-comment">-- 3. æ’å…¥æµ‹è¯•æ•°æ®ï¼ˆéªŒè¯æ•°æ®å†™å…¥åŠŸèƒ½ï¼‰</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> test <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-string">'hello openGauss'</span>), (<span class="hljs-number">2</span>, <span class="hljs-string">'æç®€ç‰ˆéƒ¨ç½²æˆåŠŸ'</span>);

<span class="hljs-comment">-- 4. æŸ¥è¯¢æµ‹è¯•æ•°æ®ï¼ˆéªŒè¯æ•°æ®è¯»å–åŠŸèƒ½ï¼‰</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> test;
</code></pre>
<p><strong>é¢„æœŸç»“æœ</strong>ï¼š</p>
<ul>
<li>æ‰§è¡Œ<code>SELECT version();</code>åæ˜¾ç¤º openGauss ç‰ˆæœ¬åŠç¼–è¯‘ä¿¡æ¯ï¼›</li>
<li>æ‰§è¡Œ<code>SELECT * FROM test;</code>åæ˜¾ç¤ºå¦‚ä¸‹æ•°æ®ï¼ˆæ— æŠ¥é”™å³è¯´æ˜åŠŸèƒ½æ­£å¸¸ï¼‰ï¼š</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef95b723225144b99b4daa53fad25f0b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764122623&amp;x-signature=yaWjrUb%2BGVTvy5xuJruLMFe8tZs%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-11">4.5 ç¯å¢ƒå˜é‡æŒä¹…åŒ–ï¼ˆå¯é€‰ï¼Œé¿å…é‡å¤é…ç½®ï¼‰</h3>
<p>æ‰‹åŠ¨è®¾ç½®çš„ç¯å¢ƒå˜é‡ä»…åœ¨å½“å‰ç»ˆç«¯ç”Ÿæ•ˆï¼Œå…³é—­ç»ˆç«¯åéœ€é‡æ–°é…ç½®ã€‚è‹¥éœ€æ¯æ¬¡ç™»å½•<code>omm</code>ç”¨æˆ·è‡ªåŠ¨åŠ è½½ç¯å¢ƒå˜é‡ï¼Œå¯å°†é…ç½®å†™å…¥<code>omm</code>ç”¨æˆ·çš„ç¯å¢ƒå˜é‡æ–‡ä»¶<code>~/.bashrc</code>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. ç¼–è¾‘ omm ç”¨æˆ·çš„ .bashrc æ–‡ä»¶</span>
vi ~/.bashrc

<span class="hljs-comment"># 2. åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼ˆä¸4.1ä¸­çš„ç¯å¢ƒå˜é‡é…ç½®ä¸€è‡´ï¼‰</span>
<span class="hljs-built_in">export</span> GAUSSHOME=/opt/opengauss
<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$GAUSSHOME</span>/bin:<span class="hljs-variable">$PATH</span>
<span class="hljs-built_in">export</span> LD_LIBRARY_PATH=<span class="hljs-variable">$GAUSSHOME</span>/lib:<span class="hljs-variable">$LD_LIBRARY_PATH</span>

<span class="hljs-comment"># 3. ä¿å­˜å¹¶é€€å‡ºï¼ˆæŒ‰Esc â†’ è¾“å…¥:wq â†’ å›è½¦ï¼‰</span>

<span class="hljs-comment"># 4. ä½¿é…ç½®ç«‹å³ç”Ÿæ•ˆï¼ˆæ— éœ€é‡å¯ç»ˆç«¯ï¼‰</span>
<span class="hljs-built_in">source</span> ~/.bashrc
</code></pre>
<p><strong>éªŒè¯</strong>ï¼šå…³é—­å½“å‰ç»ˆç«¯ï¼Œé‡æ–°ç™»å½•<code>omm</code>ç”¨æˆ·ï¼Œç›´æ¥æ‰§è¡Œ<code>gsql --version</code>ï¼Œè‹¥æ­£å¸¸æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ï¼Œè¯´æ˜æŒä¹…åŒ–é…ç½®æˆåŠŸã€‚</p>
<h2 data-id="heading-12">5. è¿›é˜¶ä¼˜åŒ–ï¼šä»å¯ç”¨åˆ°å¥½ç”¨</h2>
<p>éƒ¨ç½²æˆåŠŸåªæ˜¯å¼€å§‹ï¼Œè‰¯å¥½çš„æ€§èƒ½ä¸ç¨³å®šæ€§éœ€è¦åˆç†çš„å‚æ•°ã€SQLå®è·µä¸å¯è§‚æµ‹æ€§ã€‚ä»¥ä¸‹æ­¥éª¤å¯åœ¨æç®€ç‰ˆåŸºç¡€ä¸Šé€æ­¥å¼•å…¥ï¼Œå¹¶ä¸åç»­ä¸¤ç¯‡å½¢æˆè¿è´¯å®è·µã€‚</p>
<h3 data-id="heading-13">5.1 å…³é”®å‚æ•°ä¸è§‚æµ‹</h3>
<ul>
<li>å‚æ•°è‡ªæŸ¥ï¼š
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> shared_buffers;
<span class="hljs-keyword">SHOW</span> work_mem;
<span class="hljs-keyword">SHOW</span> effective_cache_size;
<span class="hljs-keyword">SHOW</span> max_connections;
<span class="hljs-keyword">SHOW</span> enable_nestloop;
<span class="hljs-keyword">SHOW</span> log_min_duration_statement;
</code></pre>
</li>
<li>å»ºè®®ç­–ç•¥ï¼šåœ¨ä¿è¯å†…å­˜å®‰å…¨çš„å‰æä¸‹é€‚åº¦å¢å¤§<code>shared_buffers</code>ä¸<code>effective_cache_size</code>ï¼›é’ˆå¯¹å¤æ‚èšåˆæˆ–æ’åºå¢å¤§<code>work_mem</code>ï¼›å¼€å¯æ…¢SQLæ—¥å¿—ï¼ˆå¦‚è®¾ç½®<code>log_min_duration_statement=500ms</code>ï¼‰å¹¶å®šæœŸåˆ†æã€‚</li>
<li>åœ¨çº¿çƒ­åŠ è½½ï¼šé’ˆå¯¹<code>pg_hba.conf</code>ä¸éƒ¨åˆ†<code>postgresql.conf</code>å˜æ›´ï¼Œå¯ä½¿ç”¨<code>gs_ctl reload -D /opt/opengauss/data/single_node</code>ï¼Œå‡å°‘é‡å¯æˆæœ¬ã€‚</li>
</ul>
<h3 data-id="heading-14">5.2 SQLä¼˜åŒ–ä¸æ‰§è¡Œè®¡åˆ’</h3>
<ul>
<li>åŸºç¡€æ“ä½œï¼š
<pre><code class="hljs language-sql" lang="sql">EXPLAIN (ANALYZE, BUFFERS)
<span class="hljs-keyword">SELECT</span> u.user_name, <span class="hljs-built_in">SUM</span>(o.order_amount)
<span class="hljs-keyword">FROM</span> users u <span class="hljs-keyword">JOIN</span> orders o <span class="hljs-keyword">ON</span> u.user_id<span class="hljs-operator">=</span>o.user_id
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> u.user_name
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-built_in">SUM</span>(o.order_amount) <span class="hljs-keyword">DESC</span>
LIMIT <span class="hljs-number">10</span>;
</code></pre>
</li>
<li>å…³æ³¨æŒ‡æ ‡ï¼šè¡Œæ•°ä¼°ç®—ã€è¿æ¥æ–¹å¼ï¼ˆNested Loop/Hash Join/Merge Joinï¼‰ã€å¹¶è¡Œåº¦ã€IOå‘½ä¸­ï¼ˆBuffers Hit/Readï¼‰ã€‚å¿…è¦æ—¶è€ƒè™‘åˆ›å»ºåˆé€‚ç´¢å¼•ã€æ›´æ–°ç»Ÿè®¡ä¿¡æ¯æˆ–è°ƒæ•´å¯ç”¨/ç¦ç”¨æŸäº›è¿æ¥ç­–ç•¥ï¼ˆ<code>enable_nestloop/enable_hashjoin/enable_mergejoin</code>ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-15">5.3 ç´¢å¼•ç­–ç•¥ä¸ç»Ÿè®¡ä¿¡æ¯</h3>
<ul>
<li>ç´¢å¼•ç±»å‹ï¼šä¼˜å…ˆä½¿ç”¨ B-treeï¼›é’ˆå¯¹æ–‡æœ¬æ£€ç´¢ä¸JSONç­‰å¯è€ƒè™‘ GIN/GiSTã€‚åˆ›å»ºç´¢å¼•åæ‰§è¡Œç¤ºä¾‹ï¼š
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> INDEX idx_orders_user_id <span class="hljs-keyword">ON</span> orders(user_id);
ANALYZE orders;
</code></pre>
</li>
<li>ç»Ÿè®¡ä¿¡æ¯ï¼šæå‡<code>default_statistics_target</code>æˆ–å¯¹å…³é”®è¡¨å®šå‘<code>ALTER TABLE ... SET STATISTICS</code>ï¼Œç¡®ä¿ä¼˜åŒ–å™¨æ›´å‡†ç¡®ã€‚</li>
</ul>
<h3 data-id="heading-16">5.4 å¤‡ä»½ä¸æ¢å¤ï¼ˆé€»è¾‘å¤‡ä»½ï¼‰</h3>
<ul>
<li>å»ºè®®åœ¨ä¾‹è¡Œå˜æ›´å‰è¿›è¡Œé€»è¾‘å¤‡ä»½ï¼š
<pre><code class="hljs language-bash" lang="bash">gs_dump -h 127.0.0.1 -p 5432 -U omm -d postgres -F p -f /opt/backup/postgres_$(<span class="hljs-built_in">date</span> +%F).sql
</code></pre>
</li>
<li>æ¢å¤ç¤ºä¾‹ï¼š
<pre><code class="hljs language-bash" lang="bash">gsql -d postgres -U omm -p 5432 -f /opt/backup/postgres_2025-11-01.sql
</code></pre>
</li>
</ul>
<h3 data-id="heading-17">5.5 æ‰¹é‡å¯¼å…¥ä¸æ•°æ®ä¸Šäº‘</h3>
<ul>
<li>é«˜æ•ˆå¯¼å…¥ï¼šä¼˜å…ˆä½¿ç”¨ <code>COPY</code>/<code>\copy</code> è¿›è¡Œæ‰¹é‡æ•°æ®å¯¼å…¥ï¼Œæ˜¾è‘—æå‡ååï¼›<code>\copy</code> åœ¨å®¢æˆ·ç«¯æ‰§è¡Œï¼Œæƒé™æ›´çµæ´»ï¼š
<pre><code class="hljs language-sql" lang="sql">\<span class="hljs-keyword">copy</span> public.orders(user_id, order_amount, order_date)
<span class="hljs-keyword">FROM</span> <span class="hljs-string">'/opt/data/orders_2025.csv'</span> <span class="hljs-keyword">WITH</span> (FORMAT csv, HEADER <span class="hljs-literal">true</span>);
</code></pre>
</li>
<li>å¹¶è¡Œå¯¼å…¥ï¼šå°†å¤§æ–‡ä»¶æŒ‰æ—¶é—´æˆ–ä¸»é”®èŒƒå›´åˆ‡åˆ†ä¸ºå¤šä»½ï¼Œä½¿ç”¨å¤šä¼šè¯å¹¶è¡Œ <code>\copy</code>ï¼›å¯¼å…¥åæ‰§è¡Œ <code>ANALYZE</code> æ›´æ–°ç»Ÿè®¡ä¿¡æ¯ã€‚</li>
<li>æ•°æ®è½ç›˜ç­–ç•¥ï¼šå°†å¯¼å…¥æºæ–‡ä»¶ç½®äºç‹¬ç«‹ç£ç›˜å¹¶å¼€å¯é¡ºåºè¯»å‚æ•°ï¼Œé¿å…ä¸æ•°æ®åº“æ•°æ®ç›˜äº§ç”ŸIOäº‰ç”¨ï¼›å¿…è¦æ—¶é™ä½æ•°æ®åº“å¹¶è¡Œåº¦ï¼Œä¼˜å…ˆä¿éšœå¯¼å…¥å¸¦å®½ã€‚</li>
</ul>
<h3 data-id="heading-18">5.6 åˆ†åŒºè¡¨ä¸å†·çƒ­åˆ†å±‚</h3>
<ul>
<li>é€‚ç”¨åœºæ™¯ï¼šè®¢å•ã€æ—¥å¿—ã€å®¡è®¡ç­‰æŒ‰æ—¶é—´å¢é•¿çš„å¤§è¡¨ï¼Œæ¨èä½¿ç”¨èŒƒå›´åˆ†åŒºï¼Œæå‡æŸ¥è¯¢ä¸ç»´æŠ¤æ•ˆç‡ï¼š
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> orders_big (
  id BIGSERIAL <span class="hljs-keyword">PRIMARY</span> KEY,
  user_id <span class="hljs-type">INT</span>,
  order_amount <span class="hljs-type">NUMERIC</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>),
  order_date <span class="hljs-type">DATE</span>
) <span class="hljs-keyword">PARTITION</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">RANGE</span> (order_date) (
  <span class="hljs-keyword">PARTITION</span> p2024 <span class="hljs-keyword">VALUES</span> LESS THAN (<span class="hljs-string">'2025-01-01'</span>),
  <span class="hljs-keyword">PARTITION</span> p2025 <span class="hljs-keyword">VALUES</span> LESS THAN (<span class="hljs-string">'2026-01-01'</span>),
  <span class="hljs-keyword">PARTITION</span> pmax  <span class="hljs-keyword">VALUES</span> LESS THAN (MAXVALUE)
);
<span class="hljs-keyword">CREATE</span> INDEX idx_orders_big_user_date <span class="hljs-keyword">ON</span> orders_big(user_id, order_date);
</code></pre>
</li>
<li>ç»´æŠ¤ä¸å½’æ¡£ï¼šæŒ‰æœˆæˆ–å­£åº¦æ·»åŠ /åˆ‡æ¢åˆ†åŒºï¼›å¯¹å†å²åˆ†åŒºè¿›è¡Œ <code>VACUUM/ANALYZE</code> æˆ–è„±æœºå½’æ¡£ï¼Œå‡å°‘ä¸»åº“è†¨èƒ€ä¸å¤‡ä»½ä½“ç§¯ã€‚</li>
</ul>
<h3 data-id="heading-19">5.7 ä¼šè¯ä¸é”è§‚æµ‹ï¼ˆå¹¶å‘ç¨³å®šæ€§ï¼‰</h3>
<ul>
<li>è§‚å¯Ÿæ´»åŠ¨ä¸é•¿äº‹åŠ¡ï¼š
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> pid, usename, state, query_start, now()<span class="hljs-operator">-</span>query_start <span class="hljs-keyword">AS</span> runtime, query
<span class="hljs-keyword">FROM</span> pg_stat_activity
<span class="hljs-keyword">WHERE</span> state <span class="hljs-operator">&lt;&gt;</span> <span class="hljs-string">'idle'</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> runtime <span class="hljs-keyword">DESC</span>
LIMIT <span class="hljs-number">10</span>;
</code></pre>
</li>
<li>è§‚å¯Ÿé”å†²çªï¼š
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> locktype, mode, granted, relation::regclass <span class="hljs-keyword">AS</span> rel, pid
<span class="hljs-keyword">FROM</span> pg_locks
<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">NOT</span> granted;
</code></pre>
</li>
<li>å»ºè®®ç­–ç•¥ï¼šé€šè¿‡è¿æ¥æ± é™ä½ <code>max_connections</code> å¸¦æ¥çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼›å¯¹çƒ­ç‚¹è¡Œé‡‡ç”¨æ›´åˆç†çš„æ›´æ–°ç­–ç•¥ï¼ˆåˆ†æ¡¶/æ’é˜Ÿï¼‰ï¼›å‡ºç°åºåˆ—åŒ–å†²çªæ—¶åœ¨åº”ç”¨ä¾§è¿›è¡ŒæŒ‡æ•°é€€é¿é‡è¯•ã€‚</li>
</ul>
<h2 data-id="heading-20">6. å®‰å…¨å®è·µï¼šä»é»˜è®¤å®‰å…¨åˆ°è¿œç¨‹è®¿é—®</h2>
<p>openGaussåšæŒâ€œå®‰å…¨ç¼ºçœâ€åŸåˆ™ã€‚ä¸ºä¿è¯ç”Ÿäº§å®‰å…¨ä¸è¿œç¨‹å¯è¾¾ï¼Œå»ºè®®æŒ‰ä»¥ä¸‹è·¯å¾„é…ç½®ï¼ˆä¸ç¬¬äºŒç¯‡å¯è§†åŒ–ç®¡ç†å†…å®¹ä¿æŒä¸€è‡´ï¼‰ï¼š</p>
<ul>
<li>ç›‘å¬ä¸è®¿é—®æ§åˆ¶ï¼š
<pre><code class="hljs language-bash" lang="bash">vi /opt/opengauss/data/single_node/postgresql.conf
listen_addresses = <span class="hljs-string">'*'</span>

vi /opt/opengauss/data/single_node/pg_hba.conf
host    all     all     0.0.0.0/0       md5
</code></pre>
</li>
<li>åˆå§‹ç”¨æˆ·è¿œç¨‹é™åˆ¶ï¼šä¸å»ºè®®ä½¿ç”¨åˆå§‹è¶…çº§ç”¨æˆ·ï¼ˆå¦‚<code>omm</code>ï¼‰è¿›è¡Œè¿œç¨‹ä¸šåŠ¡è®¿é—®ï¼›åœ¨æœ¬æœºä»¥<code>omm</code>ç™»å½•ååˆ›å»ºä¸šåŠ¡è´¦å·å¹¶æˆæƒï¼š
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> dbuser <span class="hljs-keyword">WITH</span> PASSWORD <span class="hljs-string">'S@fePwd_2025'</span>;
<span class="hljs-keyword">GRANT</span> USAGE <span class="hljs-keyword">ON</span> SCHEMA public <span class="hljs-keyword">TO</span> dbuser;
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">SELECT</span>, <span class="hljs-keyword">INSERT</span>, <span class="hljs-keyword">UPDATE</span>, <span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">TABLE</span> public.test <span class="hljs-keyword">TO</span> dbuser;
</code></pre>
</li>
<li>åŠ å¯†ä¸è®¤è¯ï¼šæ ¹æ®åˆè§„è¦æ±‚å¯ç”¨æ›´å¼ºå£ä»¤åŠ å¯†ä¸è®¤è¯æ–¹å¼ï¼ˆå¦‚<code>sha256</code>ï¼‰ï¼Œå¹¶ä¿è¯<code>pg_hba.conf</code>ä¸æ•°æ®åº“å‚æ•°ä¿æŒä¸€è‡´ï¼›å¿…è¦æ—¶è¯„ä¼°å¯ç”¨SSLå¹¶åœ¨å®¢æˆ·ç«¯è®¾ç½®<code>sslmode</code>ã€‚</li>
</ul>
<h3 data-id="heading-21">6.1 è®¤è¯è§„åˆ™çš„ä¼˜å…ˆçº§ä¸æ”¶æ•›</h3>
<ul>
<li>è§„åˆ™åŒ¹é…è‡ªä¸Šè€Œä¸‹æ‰§è¡Œï¼Œå»ºè®®å°†æ›´ä¸¥æ ¼çš„ç½‘æ®µ/IPè§„åˆ™ç½®äºé å‰ä½ç½®ï¼›ä¿ç•™æœ¬æœº <code>local/127.0.0.1/::1</code> çš„ä¾¿æ·è§„åˆ™ï¼Œè¿œç¨‹ä¸€å¾‹ä½¿ç”¨å£ä»¤æˆ–æ›´å¼ºæ–¹å¼ï¼š
host  all  all  10.0.0.0/24   sha256
host  all  all  0.0.0.0/0     md5</li>
<li>ç¦æ­¢è¿œç¨‹ <code>trust</code> ä»¥é¿å…è¯¯é…å¯¼è‡´çš„éæˆæƒè®¿é—®ã€‚</li>
</ul>
<h3 data-id="heading-22">6.2 æ›´å¼ºå£ä»¤åŠ å¯†ä¸ä¸€è‡´æ€§</h3>
<ul>
<li>åœ¨ <code>postgresql.conf</code> è®¾ç½® <code>password_encryption_type=2</code>ï¼ˆSHA-256ï¼‰åï¼Œéœ€ä¸ºç›¸å…³ç”¨æˆ·é‡ç½®å£ä»¤ä»¥ç”Ÿæˆæ–°å¯†æ–‡ï¼š
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">USER</span> dbuser <span class="hljs-keyword">WITH</span> PASSWORD <span class="hljs-string">'S@fePwd_2025_New'</span>;
</code></pre>
</li>
<li>ä¿è¯ <code>pg_hba.conf</code> ä½¿ç”¨ä¸æ•°æ®åº“ä¾§ä¸€è‡´çš„è®¤è¯ç®—æ³•ï¼ˆå¦‚ <code>sha256</code>ï¼‰ï¼Œå¦åˆ™ä¼šå‡ºç°æ¡æ‰‹å¤±è´¥æˆ–è®¤è¯å¼‚å¸¸ã€‚</li>
</ul>
<h3 data-id="heading-23">6.3 å¿«é€Ÿå¯ç”¨ SSLï¼ˆå¯é€‰ï¼‰</h3>
<ul>
<li>ç”Ÿæˆè‡ªç­¾è¯ä¹¦å¹¶é…ç½®ï¼š
<pre><code class="hljs language-bash" lang="bash">openssl req -new -x509 -days 365 -nodes -text -out /opt/opengauss/server.crt -keyout /opt/opengauss/server.key
<span class="hljs-built_in">chmod</span> 600 /opt/opengauss/server.key
</code></pre>
</li>
<li>åœ¨ <code>postgresql.conf</code>ï¼š
ssl = on
ssl_cert_file = 'server.crt'
ssl_key_file  = 'server.key'</li>
<li>é‡å¯åï¼Œå®¢æˆ·ç«¯åœ¨URLæˆ–è¿æ¥å±æ€§ä¸­è®¾ç½® <code>sslmode=require</code>ï¼›è‹¥æœåŠ¡å™¨æœªå¯ç”¨SSLï¼Œåˆ™ä½¿ç”¨ <code>sslmode=disable</code> ä¿æŒä¸€è‡´ã€‚</li>
</ul>
<h2 data-id="heading-24">7. AIä¸å‘é‡æ£€ç´¢ï¼šä»å…¥é—¨åˆ°è½åœ°</h2>
<p>ä¸ºä¸ç³»åˆ—ç¬¬ä¸‰ç¯‡å½¢æˆè¡”æ¥ï¼Œæœ¬ç¯‡æä¾›æœ€å°åŒ–å‘é‡èƒ½åŠ›éªŒè¯ï¼Œå¼•å¯¼è¯»è€…åœ¨åç»­æ–‡ç« ä¸­å®Œæˆç«¯åˆ°ç«¯çš„RAGç¤ºä¾‹ã€‚</p>
<ul>
<li>å¯ç”¨å‘é‡æ‰©å±•ä¸åˆ›å»ºç¤ºä¾‹è¡¨ï¼š
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> EXTENSION vectors;
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> t_image_vectors (
  id SERIAL <span class="hljs-keyword">PRIMARY</span> KEY,
  image_path <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  image_vector VECTOR(<span class="hljs-number">512</span>)
);
</code></pre>
</li>
<li>æœ€å°æ£€ç´¢ç¤ºä¾‹ï¼ˆå ä½å‘é‡ï¼Œæ¼”ç¤ºè·ç¦»ç®—å­ï¼‰ï¼š
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> t_image_vectors(image_path, image_vector)
<span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'assets/images/cat.jpg'</span>, <span class="hljs-string">'[0.1,0.2,0.3,...]'</span>::vector),
       (<span class="hljs-string">'assets/images/dog.jpg'</span>, <span class="hljs-string">'[0.2,0.1,0.4,...]'</span>::vector);

<span class="hljs-keyword">SELECT</span> image_path, image_vector <span class="hljs-operator">&lt;</span><span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> <span class="hljs-string">'[0.12,0.18,0.33,...]'</span>::vector <span class="hljs-keyword">AS</span> dist
<span class="hljs-keyword">FROM</span> t_image_vectors
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> dist
LIMIT <span class="hljs-number">3</span>;
</code></pre>
</li>
</ul>
<p>ä»¥ä¸Šâ€œå‘é‡èƒ½åŠ›éªŒè¯â€ä¸ç¬¬ä¸‰ç¯‡çš„<code>sentence-transformers</code>ç¼–ç æµç¨‹ã€Pythonå…¥åº“ä¸æ£€ç´¢ä»£ç å®Œå…¨å¯¹é½ï¼Œé¿å…å‰²è£‚é˜…è¯»ä½“éªŒã€‚</p>
<h3 data-id="heading-25">7.1 ç´¢å¼•åŠ é€Ÿä¸å¬å›è´¨é‡ï¼ˆå¯é€‰ï¼‰</h3>
<ul>
<li>è‹¥æ‰©å±•ç‰ˆæœ¬æ”¯æŒè¿‘ä¼¼å‘é‡ç´¢å¼•ï¼ˆå¦‚ <code>ivfflat</code> æˆ– <code>hnsw</code>ï¼‰ï¼Œå¯åˆ›å»ºç´¢å¼•ä»¥æå‡æ£€ç´¢æ€§èƒ½ï¼›å…·ä½“è¯­æ³•ä»¥æ‰©å±•ç‰ˆæœ¬æ–‡æ¡£ä¸ºå‡†ï¼š
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ivfflatï¼ˆL2 è·ç¦»ç¤ºä¾‹ï¼‰</span>
<span class="hljs-keyword">CREATE</span> INDEX idx_img_vec_ivf <span class="hljs-keyword">ON</span> t_image_vectors <span class="hljs-keyword">USING</span> ivfflat (image_vector);
<span class="hljs-comment">-- å»ºè®®åœ¨åˆ›å»ºç´¢å¼•å‰å¯¹å‘é‡è¡¨æ‰§è¡Œ ANALYZEï¼Œæé«˜ç´¢å¼•æ„å»ºæ•ˆæœ</span>
ANALYZE t_image_vectors;
</code></pre>
</li>
<li>å‚æ•°è°ƒä¼˜ï¼š<code>lists</code>ï¼ˆivfflatï¼‰æˆ– <code>ef_search/M</code>ï¼ˆhnswï¼‰ä¼šå½±å“å¬å›ç‡ä¸æ€§èƒ½ï¼›å¯åœ¨ä¸‡çº§ä»¥ä¸Šæ•°æ®é‡ä¸‹è¿›è¡ŒA/Bæµ‹è¯•ï¼Œé€‰æ‹©é€‚ä¸­å‚æ•°ã€‚</li>
</ul>
<h3 data-id="heading-26">7.2 æ•°æ®å‡†å¤‡ä¸å‘é‡è´¨é‡</h3>
<ul>
<li>ç»Ÿä¸€æ¨¡å‹ä¸ç»´åº¦ï¼šç¡®ä¿å…¥åº“å‘é‡æ¥è‡ªåŒä¸€æ¨¡å‹ä¸ç‰ˆæœ¬ï¼Œå¦‚ <code>clip-ViT-B-32</code>ï¼ˆ512ç»´ï¼‰ï¼›æ··ç”¨æ¨¡å‹ä¼šé™ä½è·ç¦»åº¦é‡çš„æ„ä¹‰ã€‚</li>
<li>å½’ä¸€åŒ–ä¸é¢„å¤„ç†ï¼šå¯¹æŸäº›æ¨¡å‹å¯åœ¨åº”ç”¨ä¾§è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œæé«˜ä¸L2/ä½™å¼¦ç­‰åº¦é‡çš„ä¸€è‡´æ€§ã€‚</li>
<li>å†·çƒ­åˆ†å±‚ï¼šå°†ä½é¢‘å›¾ç‰‡æˆ–æ–‡æœ¬å‘é‡å½’æ¡£è‡³å†å²åˆ†åŒºæˆ–å†·å­˜å‚¨ï¼Œå‰å°ç´¢å¼•ä¸»æ‰“çƒ­æ•°æ®ï¼Œé™ä½æ£€ç´¢å»¶è¿Ÿã€‚</li>
</ul>
<h3 data-id="heading-27">7.3 æ‰§è¡Œè®¡åˆ’ä¸è§‚æµ‹</h3>
<ul>
<li>è§‚å¯Ÿæ£€ç´¢å¼€é”€ï¼š
<pre><code class="hljs language-sql" lang="sql">EXPLAIN (ANALYZE, BUFFERS)
<span class="hljs-keyword">SELECT</span> image_path <span class="hljs-keyword">FROM</span> t_image_vectors
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> image_vector <span class="hljs-operator">&lt;</span><span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> <span class="hljs-string">'[...]'</span>::vector
LIMIT <span class="hljs-number">10</span>;
</code></pre>
</li>
<li>æŒ‡æ ‡å‚è€ƒï¼šæ˜¯å¦å‘½ä¸­ç´¢å¼•ã€æ‰«æè¡Œæ•°ã€ç¼“å†²å‘½ä¸­ä¸è¯»å–æ¯”ä¾‹ï¼›åœ¨å¤§æ•°æ®é‡ä¸‹å¯¹æ¯”æœ‰æ— ç´¢å¼•çš„è€—æ—¶å·®å¼‚ï¼Œè¯„ä¼°å¯æ¥å—çš„å¬å›ä¸å»¶è¿Ÿã€‚</li>
</ul>
<h3 data-id="heading-28">7.4 å¸¸è§é—®é¢˜æ’æŸ¥</h3>
<ul>
<li>æ‰©å±•ä¸å¯ç”¨ï¼š<code>\dx</code> æ£€æŸ¥æ˜¯å¦å·²å¯ç”¨ <code>vectors</code>/<code>vector</code>ï¼›è‹¥æœªå®‰è£…è¯·å‚è€ƒå‘è¡Œç‰ˆæ–‡æ¡£æˆ–æŒ‰å¹³å°æ„å»ºã€‚</li>
<li>å…¼å®¹æ€§é—®é¢˜ï¼šåœ¨å®¢æˆ·ç«¯URLå¢åŠ  <code>preferQueryMode=simple</code> æˆ–ä½¿ç”¨å®˜æ–¹openGauss JDBCï¼›å¯¹Pythoné©±åŠ¨ä¿æŒç‰ˆæœ¬ä¸€è‡´å¹¶éªŒè¯åŸºç¡€CRUDä¸äº‹åŠ¡ã€‚</li>
<li>æƒé™é—®é¢˜ï¼šä¸ºä¸šåŠ¡ç”¨æˆ·æˆäºˆè¡¨ä¸åºåˆ—æƒé™ï¼›åœ¨åˆ†åŒºè¡¨ä¸å‘é‡è¡¨ä¸Šå•ç‹¬éªŒè¯ <code>INSERT/SELECT/UPDATE/DELETE</code>ã€‚</li>
</ul>
<h2 data-id="heading-29">8. ä¸å¯è§†åŒ–ä¸åº”ç”¨å¼€å‘çš„è¡”æ¥</h2>
<ul>
<li>å¯è§†åŒ–ç®¡ç†ï¼šç¬¬äºŒç¯‡ä½¿ç”¨ DBeaver è¿›è¡Œè¿æ¥ã€å¯¹è±¡ç®¡ç†ã€äº‹åŠ¡æ¼”ç¤ºä¸è¿œç¨‹è¿æ¥æ’éšœï¼Œå»ºè®®åœ¨å®Œæˆæœ¬ç¯‡éƒ¨ç½²åç›´æ¥è·Ÿè¿›å®è·µã€‚</li>
<li>åº”ç”¨å¼€å‘ä¸RAGå®æˆ˜ï¼šç¬¬ä¸‰ç¯‡é€šè¿‡ Python <code>psycopg2</code> é©±åŠ¨å®Œæˆ CRUD ä¸äº‹åŠ¡ç¤ºä¾‹ï¼Œå¹¶å®ç°ä»¥æ–‡æœå›¾çš„å‘é‡æ£€ç´¢ï¼›å‚æ•°ä¸å¯¹è±¡å‘½åä¸æœ¬ç¯‡ä¿æŒä¸€è‡´ï¼Œä¾¿äºæ— ç¼å¤ç”¨ã€‚</li>
</ul>
<h2 data-id="heading-30">9. æ€»ç»“ä¸å±•æœ›</h2>
<p>æœ¬ç¯‡åœ¨å®Œæˆæç®€éƒ¨ç½²ä¸åŸºç¡€éªŒè¯çš„åŒæ—¶ï¼Œè¡¥å……äº†æ¶æ„ä¸ç‰ˆæœ¬è¦ç‚¹ã€è¿›é˜¶ä¼˜åŒ–è·¯å¾„ã€å®‰å…¨å®è·µä»¥åŠå‘é‡ä¸RAGçš„å…¥é—¨å¼•å¯¼ï¼Œå½¢æˆå¯å‘åç»­ä¸¤ç¯‡å»¶ä¼¸çš„å®Œæ•´é“¾è·¯ã€‚ä¸‹ä¸€ç¯‡ä»¥ DBeaver æä¾›æ›´ç›´è§‚çš„ç®¡ç†ä¸è°ƒä¼˜ä½“éªŒï¼›å†ä¸‹ä¸€ç¯‡ä»¥ Python ä¸å‘é‡èƒ½åŠ›å®ç°ç«¯åˆ°ç«¯çš„RAGåº”ç”¨ï¼Œå®Œæˆä»â€œå…¥é—¨â€åˆ°â€œè½åœ°â€çš„é—­ç¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CI/CD å®æˆ˜ï¼šç”¨ Jenkins è‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²ä½ çš„é¡¹ç›®]]></title>    <link>https://juejin.cn/post/7574204970745298990</link>    <guid>https://juejin.cn/post/7574204970745298990</guid>    <pubDate>2025-11-19T01:01:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574204970745298990" data-draft-id="7572493520003399714" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CI/CD å®æˆ˜ï¼šç”¨ Jenkins è‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²ä½ çš„é¡¹ç›®"/> <meta itemprop="keywords" content="Linux"/> <meta itemprop="datePublished" content="2025-11-19T01:01:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LCGå…ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/3097802498120889"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CI/CD å®æˆ˜ï¼šç”¨ Jenkins è‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²ä½ çš„é¡¹ç›®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3097802498120889/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LCGå…ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T01:01:20.000Z" title="Wed Nov 19 2025 01:01:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. å¼•è¨€</h2>
<p>åœ¨å½“ä»Šå¿«é€Ÿè¿­ä»£çš„è½¯ä»¶å¼€å‘ç¯å¢ƒä¸­ï¼ŒæŒç»­é›†æˆå’ŒæŒç»­éƒ¨ç½²ï¼ˆCI/CDï¼‰å·²æˆä¸ºç°ä»£ DevOps å®è·µçš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ã€‚Jenkins ä½œä¸ºæœ€æµè¡Œçš„å¼€æºè‡ªåŠ¨åŒ–æœåŠ¡å™¨ï¼Œæä¾›äº†å¼ºå¤§çš„ CI/CD åŠŸèƒ½ï¼Œèƒ½å¤Ÿå¸®åŠ©å›¢é˜Ÿè‡ªåŠ¨åŒ–æ„å»ºã€æµ‹è¯•å’Œéƒ¨ç½²æµç¨‹ã€‚</p>
<p>æœ¬æ•™ç¨‹å°†æ‰‹æŠŠæ‰‹æ•™ä½ æ­å»ºå®Œæ•´çš„ Jenkins CI/CD æµæ°´çº¿ï¼Œä»ç¯å¢ƒé…ç½®åˆ°è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œæ¯ä¸ªæ­¥éª¤éƒ½åŒ…å«è¯¦ç»†çš„ä»£ç å’Œé…ç½®è¯´æ˜ã€‚</p>
<h2 data-id="heading-1">2. ç¯å¢ƒå‡†å¤‡ä¸ Jenkins å®‰è£…</h2>
<h3 data-id="heading-2">2.1 ç³»ç»Ÿè¦æ±‚</h3>
<ul>
<li>Ubuntu 20.04 LTS æˆ– CentOS 8</li>
<li>è‡³å°‘ 4GB RAM</li>
<li>20GB å¯ç”¨ç£ç›˜ç©ºé—´</li>
<li>Java 11 æˆ–æ›´é«˜ç‰ˆæœ¬</li>
</ul>
<h3 data-id="heading-3">2.2 å®‰è£… Java</h3>
<p><strong>åˆ›å»ºå®‰è£…è„šæœ¬æ–‡ä»¶ï¼š</strong> <code>install_java.sh</code></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>

<span class="hljs-comment"># æ›´æ–°ç³»ç»ŸåŒ…ç®¡ç†å™¨</span>
sudo apt update &amp;&amp; sudo apt upgrade -y

<span class="hljs-comment"># å®‰è£… Java 11</span>
sudo apt install -y openjdk-11-jdk

<span class="hljs-comment"># éªŒè¯å®‰è£…</span>
java -version
javac -version

<span class="hljs-comment"># è®¾ç½® JAVA_HOME ç¯å¢ƒå˜é‡</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64'</span> &gt;&gt; ~/.bashrc
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export PATH=$JAVA_HOME/bin:$PATH'</span> &gt;&gt; ~/.bashrc
<span class="hljs-built_in">source</span> ~/.bashrc
</code></pre>
<p>è¿è¡Œè„šæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">chmod</span> +x install_java.sh
./install_java.sh
</code></pre>
<h3 data-id="heading-4">2.3 å®‰è£… Jenkins</h3>
<p><strong>åˆ›å»º Jenkins å®‰è£…è„šæœ¬ï¼š</strong> <code>install_jenkins.sh</code></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>

<span class="hljs-comment"># ä¸‹è½½å¹¶æ·»åŠ  Jenkins ä»“åº“å¯†é’¥</span>
curl -fsSL https://pkg.jenkins.io/debian/jenkins.io.key | sudo <span class="hljs-built_in">tee</span> \
  /usr/share/keyrings/jenkins-keyring.asc &gt; /dev/null

<span class="hljs-comment"># æ·»åŠ  Jenkins ä»“åº“</span>
<span class="hljs-built_in">echo</span> deb [signed-by=/usr/share/keyrings/jenkins-keyring.asc] \
  https://pkg.jenkins.io/debian binary/ | sudo <span class="hljs-built_in">tee</span> \
  /etc/apt/sources.list.d/jenkins.list &gt; /dev/null

<span class="hljs-comment"># æ›´æ–°åŒ…åˆ—è¡¨å¹¶å®‰è£… Jenkins</span>
sudo apt update
sudo apt install -y jenkins

<span class="hljs-comment"># å¯åŠ¨ Jenkins æœåŠ¡</span>
sudo systemctl <span class="hljs-built_in">enable</span> jenkins
sudo systemctl start jenkins
sudo systemctl status jenkins

<span class="hljs-comment"># å¼€æ”¾ Jenkins é»˜è®¤ç«¯å£ 8080</span>
sudo ufw allow 8080
sudo ufw status
</code></pre>
<p>è¿è¡Œå®‰è£…è„šæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">chmod</span> +x install_jenkins.sh
./install_jenkins.sh
</code></pre>
<h3 data-id="heading-5">2.4 åˆå§‹ Jenkins é…ç½®</h3>
<p>è®¿é—® <code>http://your-server-ip:8080</code> å®Œæˆåˆå§‹è®¾ç½®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è·å–åˆå§‹ç®¡ç†å‘˜å¯†ç </span>
sudo <span class="hljs-built_in">cat</span> /var/lib/jenkins/secrets/initialAdminPassword
</code></pre>
<p>æŒ‰ç…§å‘å¯¼å®‰è£…æ¨èæ’ä»¶å¹¶åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·ã€‚</p>
<h2 data-id="heading-6">3. Jenkins ç³»ç»Ÿé…ç½®</h2>
<h3 data-id="heading-7">3.1 å®‰è£…å¿…è¦æ’ä»¶</h3>
<p><strong>åˆ›å»ºæ’ä»¶å®‰è£…è„šæœ¬ï¼š</strong> <code>install_plugins.sh</code></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>

<span class="hljs-comment"># Jenkins CLI å®‰è£…æ’ä»¶</span>
JENKINS_URL=<span class="hljs-string">"http://localhost:8080"</span>
JENKINS_CLI_JAR=<span class="hljs-string">"/var/lib/jenkins/jenkins-cli.jar"</span>

<span class="hljs-comment"># æ’ä»¶åˆ—è¡¨</span>
PLUGINS=(
    <span class="hljs-string">"git"</span>
    <span class="hljs-string">"github"</span>
    <span class="hljs-string">"pipeline"</span>
    <span class="hljs-string">"docker"</span>
    <span class="hljs-string">"blueocean"</span>
    <span class="hljs-string">"credentials-binding"</span>
    <span class="hljs-string">"ssh-agent"</span>
    <span class="hljs-string">"email-ext"</span>
    <span class="hljs-string">"htmlpublisher"</span>
    <span class="hljs-string">"jacoco"</span>
    <span class="hljs-string">"sonar"</span>
    <span class="hljs-string">"slack"</span>
)

<span class="hljs-comment"># å®‰è£…æ¯ä¸ªæ’ä»¶</span>
<span class="hljs-keyword">for</span> plugin <span class="hljs-keyword">in</span> <span class="hljs-string">"<span class="hljs-variable">${PLUGINS[@]}</span>"</span>; <span class="hljs-keyword">do</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"å®‰è£…æ’ä»¶: <span class="hljs-variable">$plugin</span>"</span>
    java -jar <span class="hljs-variable">$JENKINS_CLI_JAR</span> -s <span class="hljs-variable">$JENKINS_URL</span> install-plugin <span class="hljs-variable">$plugin</span> -deploy
<span class="hljs-keyword">done</span>

<span class="hljs-comment"># é‡å¯ Jenkins ä½¿æ’ä»¶ç”Ÿæ•ˆ</span>
sudo systemctl restart jenkins
</code></pre>
<h3 data-id="heading-8">3.2 é…ç½®ç³»ç»Ÿç¯å¢ƒ</h3>
<p>åœ¨ Jenkins ç®¡ç†ç•Œé¢ä¸­é…ç½®ï¼š</p>
<ol>
<li>
<p><strong>å…¨å±€å·¥å…·é…ç½®</strong></p>
<ul>
<li>JDKï¼šé…ç½® Java 11 è·¯å¾„</li>
<li>Gitï¼šé…ç½® Git å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„</li>
<li>Maven/Gradleï¼šæ ¹æ®éœ€è¦é…ç½®æ„å»ºå·¥å…·</li>
</ul>
</li>
<li>
<p><strong>å‡­æ®é…ç½®</strong></p>
<ul>
<li>æ·»åŠ  GitHub SSH å¯†é’¥</li>
<li>æ·»åŠ  Docker Hub å‡­æ®</li>
<li>æ·»åŠ æœåŠ¡å™¨ SSH å‡­æ®</li>
</ul>
</li>
</ol>
<h2 data-id="heading-9">4. ç¤ºä¾‹é¡¹ç›®å‡†å¤‡</h2>
<h3 data-id="heading-10">4.1 åˆ›å»º Spring Boot ç¤ºä¾‹åº”ç”¨</h3>
<p><strong>åˆ›å»ºé¡¹ç›®ç»“æ„ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">sample-spring-app/
â”œâ”€â”€ <span class="hljs-attribute">src</span>/
â”‚   â””â”€â”€ <span class="hljs-selector-tag">main</span>/
â”‚       â””â”€â”€ java/
â”‚           â””â”€â”€ com/
â”‚               â””â”€â”€ example/
â”‚                   â””â”€â”€ demo/
â”‚                       â””â”€â”€ DemoApplication<span class="hljs-selector-class">.java</span>
â”œâ”€â”€ pom<span class="hljs-selector-class">.xml</span>
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ Jenkinsfile
â””â”€â”€ k8s/
    â””â”€â”€ deployment<span class="hljs-selector-class">.yaml</span>
</code></pre>
<p><strong>åˆ›å»º Maven é…ç½®æ–‡ä»¶ï¼š</strong> <code>pom.xml</code></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span>
         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0 
         http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.example<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>sample-spring-app<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">packaging</span>&gt;</span>jar<span class="hljs-tag">&lt;/<span class="hljs-name">packaging</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>Sample Spring Boot Application<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>Demo project for Jenkins CI/CD<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.7.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">relativePath</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">java.version</span>&gt;</span>11<span class="hljs-tag">&lt;/<span class="hljs-name">java.version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.source</span>&gt;</span>11<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.source</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.target</span>&gt;</span>11<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.target</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
            
            <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.jacoco<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jacoco-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.8.8<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">executions</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>prepare-agent<span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>report<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">phase</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">phase</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>report<span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">executions</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre>
<p><strong>åˆ›å»º Spring Boot ä¸»ç±»ï¼š</strong> <code>src/main/java/com/example/demo/DemoApplication.java</code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.demo;

<span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;
<span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.GetMapping;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestController;

<span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoApplication</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        SpringApplication.run(DemoApplication.class, args);
    }

    <span class="hljs-meta">@GetMapping("/")</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">home</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Hello from Spring Boot CI/CD Demo!"</span>;
    }

    <span class="hljs-meta">@GetMapping("/health")</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">health</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Application is healthy!"</span>;
    }
}
</code></pre>
<h3 data-id="heading-11">4.2 åˆ›å»º Docker é…ç½®</h3>
<p><strong>åˆ›å»º Dockerfileï¼š</strong> <code>Dockerfile</code></p>
<pre><code class="hljs language-dockerfile" lang="dockerfile"># ä½¿ç”¨ OpenJDK 11 ä½œä¸ºåŸºç¡€é•œåƒ
FROM openjdk:11-jre-slim

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /app

# æ·»åŠ  JAR æ–‡ä»¶åˆ°å®¹å™¨
COPY target/sample-spring-app-1.0.0.jar app.jar

# åˆ›å»ºé root ç”¨æˆ·
RUN groupadd -r spring &amp;&amp; useradd -r -g spring spring
USER spring

# æš´éœ²ç«¯å£
EXPOSE 8080

# è®¾ç½® JVM å‚æ•°
ENV JAVA_OPTS="-Xms256m -Xmx512m -Djava.security.egd=file:/dev/./urandom"

# å¯åŠ¨åº”ç”¨
ENTRYPOINT ["sh", "-c", "java $JAVA_OPTS -jar app.jar"]
</code></pre>
<p><strong>åˆ›å»º Docker Compose æ–‡ä»¶ï¼š</strong> <code>docker-compose.yml</code></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">'3.8'</span>

<span class="hljs-attr">services:</span>
  <span class="hljs-attr">spring-app:</span>
    <span class="hljs-attr">build:</span> <span class="hljs-string">.</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"8080:8080"</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">SPRING_PROFILES_ACTIVE=prod</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span>
    <span class="hljs-attr">healthcheck:</span>
      <span class="hljs-attr">test:</span> [<span class="hljs-string">"CMD"</span>, <span class="hljs-string">"curl"</span>, <span class="hljs-string">"-f"</span>, <span class="hljs-string">"http://localhost:8080/health"</span>]
      <span class="hljs-attr">interval:</span> <span class="hljs-string">30s</span>
      <span class="hljs-attr">timeout:</span> <span class="hljs-string">10s</span>
      <span class="hljs-attr">retries:</span> <span class="hljs-number">3</span>

  <span class="hljs-attr">nginx:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">nginx:alpine</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"80:80"</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./nginx.conf:/etc/nginx/nginx.conf</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">spring-app</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span>
</code></pre>
<h2 data-id="heading-12">5. Jenkins Pipeline é…ç½®</h2>
<h3 data-id="heading-13">5.1 åˆ›å»º Jenkinsfile</h3>
<p><strong>åˆ›å»º Jenkinsfileï¼š</strong> <code>Jenkinsfile</code></p>
<pre><code class="hljs language-groovy" lang="groovy">pipeline {
    agent any
    
    environment {
        // åº”ç”¨é…ç½®
        APP_NAME = 'sample-spring-app'
        APP_VERSION = '1.0.0'
        
        // å®¹å™¨æ³¨å†Œè¡¨é…ç½®
        DOCKER_REGISTRY = 'docker.io'
        DOCKER_CREDENTIALS = 'docker-hub-credentials'
        
        // æœåŠ¡å™¨é…ç½®
        DEPLOY_SERVER = 'deploy-server'
        DEPLOY_PATH = '/opt/apps'
        
        // SonarQube é…ç½®
        SONAR_HOST_URL = 'http://sonarqube:9000'
        SONAR_CREDENTIALS = 'sonar-token'
    }
    
    options {
        timeout(time: 30, unit: 'MINUTES')
        buildDiscarder(logRotator(numToKeepStr: '10'))
        disableConcurrentBuilds()
    }
    
    parameters {
        choice(
            name: 'DEPLOY_ENV',
            choices: ['dev', 'staging', 'prod'],
            description: 'é€‰æ‹©éƒ¨ç½²ç¯å¢ƒ'
        )
        booleanParam(
            name: 'RUN_INTEGRATION_TESTS',
            defaultValue: true,
            description: 'æ˜¯å¦è¿è¡Œé›†æˆæµ‹è¯•'
        )
    }
    
    stages {
        stage('ä»£ç æ£€å‡º') {
            steps {
                checkout scm
                script {
                    currentBuild.displayName = "#${BUILD_NUMBER}-${params.DEPLOY_ENV}"
                    currentBuild.description = "åˆ†æ”¯: ${env.BRANCH_NAME}"
                }
            }
        }
        
        stage('ä»£ç è´¨é‡æ£€æŸ¥') {
            steps {
                withSonarQubeEnv('sonarqube') {
                    sh 'mvn clean verify sonar:sonar -Dsonar.projectKey=sample-spring-app'
                }
            }
        }
        
        stage('ç¼–è¯‘æ„å»º') {
            steps {
                sh """
                    mvn clean compile -DskipTests
                    echo "ç¼–è¯‘å®Œæˆ"
                """
            }
        }
        
        stage('å•å…ƒæµ‹è¯•') {
            steps {
                sh 'mvn test'
            }
            post {
                always {
                    junit 'target/surefire-reports/*.xml'
                    jacoco(
                        execPattern: 'target/jacoco.exec',
                        classPattern: 'target/classes',
                        sourcePattern: 'src/main/java'
                    )
                }
            }
        }
        
        stage('é›†æˆæµ‹è¯•') {
            when {
                expression { params.RUN_INTEGRATION_TESTS }
            }
            steps {
                sh 'mvn verify -Pintegration-tests'
            }
            post {
                always {
                    junit 'target/failsafe-reports/*.xml'
                }
            }
        }
        
        stage('ä»£ç è´¨é‡é—¨ç¦') {
            steps {
                timeout(time: 5, unit: 'MINUTES') {
                    waitForQualityGate abortPipeline: true
                }
            }
        }
        
        stage('æ„å»º Docker é•œåƒ') {
            steps {
                script {
                    docker.build("${DOCKER_REGISTRY}/${APP_NAME}:${APP_VERSION}-${env.BUILD_NUMBER}")
                }
            }
        }
        
        stage('å®‰å…¨æ‰«æ') {
            steps {
                sh """
                    docker scan --file Dockerfile ${DOCKER_REGISTRY}/${APP_NAME}:${APP_VERSION}-${env.BUILD_NUMBER}
                """
            }
        }
        
        stage('æ¨é€é•œåƒ') {
            steps {
                script {
                    docker.withRegistry("https://${DOCKER_REGISTRY}", DOCKER_CREDENTIALS) {
                        docker.image("${DOCKER_REGISTRY}/${APP_NAME}:${APP_VERSION}-${env.BUILD_NUMBER}").push()
                    }
                }
            }
        }
        
        stage('éƒ¨ç½²åˆ°ç¯å¢ƒ') {
            when {
                expression { params.DEPLOY_ENV != 'none' }
            }
            steps {
                script {
                    deployToEnvironment(params.DEPLOY_ENV)
                }
            }
        }
    }
    
    post {
        always {
            emailext (
                subject: "æ„å»ºé€šçŸ¥: ${env.JOB_NAME} - ${env.BUILD_NUMBER}",
                body: """
                    &lt;h2&gt;æ„å»ºä¿¡æ¯&lt;/h2&gt;
                    &lt;p&gt;&lt;b&gt;é¡¹ç›®:&lt;/b&gt; ${env.JOB_NAME}&lt;/p&gt;
                    &lt;p&gt;&lt;b&gt;æ„å»ºå·:&lt;/b&gt; ${env.BUILD_NUMBER}&lt;/p&gt;
                    &lt;p&gt;&lt;b&gt;çŠ¶æ€:&lt;/b&gt; ${currentBuild.result ?: 'SUCCESS'}&lt;/p&gt;
                    &lt;p&gt;&lt;b&gt;æŒç»­æ—¶é—´:&lt;/b&gt; ${currentBuild.durationString}&lt;/p&gt;
                    &lt;p&gt;&lt;b&gt;éƒ¨ç½²ç¯å¢ƒ:&lt;/b&gt; ${params.DEPLOY_ENV}&lt;/p&gt;
                    &lt;p&gt;&lt;a href="${env.BUILD_URL}"&gt;æŸ¥çœ‹æ„å»ºè¯¦æƒ…&lt;/a&gt;&lt;/p&gt;
                """,
                to: "dev-team@company.com",
                attachLog: currentBuild.result != 'SUCCESS'
            )
            
            cleanWs()
        }
        success {
            slackSend(
                channel: '#build-notifications',
                message: "âœ… æ„å»ºæˆåŠŸ: ${env.JOB_NAME} #${env.BUILD_NUMBER}",
                color: 'good'
            )
        }
        failure {
            slackSend(
                channel: '#build-notifications',
                message: "âŒ æ„å»ºå¤±è´¥: ${env.JOB_NAME} #${env.BUILD_NUMBER}",
                color: 'danger'
            )
        }
        unstable {
            slackSend(
                channel: '#build-notifications',
                message: "âš ï¸ æ„å»ºä¸ç¨³å®š: ${env.JOB_NAME} #${env.BUILD_NUMBER}",
                color: 'warning'
            )
        }
    }
}

// éƒ¨ç½²åˆ°ä¸åŒç¯å¢ƒçš„æ–¹æ³•
def deployToEnvironment(env) {
    switch(env) {
        case 'dev':
            deployDev()
            break
        case 'staging':
            deployStaging()
            break
        case 'prod':
            deployProd()
            break
        default:
            error "æœªçŸ¥ç¯å¢ƒ: ${env}"
    }
}

def deployDev() {
    sshagent([DEPLOY_SERVER]) {
        sh """
            ssh -o StrictHostKeyChecking=no deploy@dev-server "
                cd ${DEPLOY_PATH} &amp;&amp;
                docker-compose pull &amp;&amp;
                docker-compose up -d &amp;&amp;
                sleep 10 &amp;&amp;
                echo 'å¼€å‘ç¯å¢ƒéƒ¨ç½²å®Œæˆ'
            "
        """
    }
}

def deployStaging() {
    sshagent([DEPLOY_SERVER]) {
        sh """
            ssh -o StrictHostKeyChecking=no deploy@staging-server "
                cd ${DEPLOY_PATH} &amp;&amp;
                docker-compose pull &amp;&amp;
                docker-compose up -d &amp;&amp;
                sleep 10 &amp;&amp;
                echo 'é¢„å‘å¸ƒç¯å¢ƒéƒ¨ç½²å®Œæˆ'
            "
        """
    }
}

def deployProd() {
    sshagent([DEPLOY_SERVER]) {
        sh """
            ssh -o StrictHostKeyChecking=no deploy@prod-server "
                cd ${DEPLOY_PATH} &amp;&amp;
                docker-compose pull &amp;&amp;
                docker-compose up -d &amp;&amp;
                sleep 10 &amp;&amp;
                echo 'ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å®Œæˆ'
            "
        """
    }
}
</code></pre>
<h3 data-id="heading-14">5.2 CI/CD æµç¨‹å¯è§†åŒ–</h3>
<p>ä»¥ä¸‹æ˜¯å®Œæ•´çš„ CI/CD æµç¨‹ç¤ºæ„å›¾ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[ğŸ“¥ ä»£ç æäº¤] --&gt; B[ğŸ›¡ï¸ ä»£ç è´¨é‡æ£€æŸ¥]
    B --&gt; C[ğŸ”¨ ç¼–è¯‘æ„å»º]
    C --&gt; D[ğŸ§ª å•å…ƒæµ‹è¯•]
    D --&gt; E[âš™ï¸ é›†æˆæµ‹è¯•]
    E --&gt; F[ğŸ“Š è´¨é‡é—¨ç¦]
    F --&gt; G[ğŸ³ æ„å»ºDockeré•œåƒ]
    G --&gt; H[ğŸ”’ å®‰å…¨æ‰«æ]
    H --&gt; I[ğŸ“¦ æ¨é€é•œåƒ]
    I --&gt; J{é€‰æ‹©éƒ¨ç½²ç¯å¢ƒ}
    J --&gt; K[ğŸŒ± å¼€å‘ç¯å¢ƒ]
    J --&gt; L[ğŸ”„ é¢„å‘å¸ƒç¯å¢ƒ]
    J --&gt; M[ğŸš€ ç”Ÿäº§ç¯å¢ƒ]
    K --&gt; N[ğŸ“Š éƒ¨ç½²å®Œæˆ]
    L --&gt; N
    M --&gt; N
    N --&gt; O[ğŸ“§ é‚®ä»¶é€šçŸ¥]
    N --&gt; P[ğŸ’¬ Slacké€šçŸ¥]
    
    style A fill:#4CAF50,color:white
    style B fill:#2196F3,color:white
    style C fill:#2196F3,color:white
    style D fill:#FF9800,color:white
    style E fill:#FF9800,color:white
    style F fill:#9C27B0,color:white
    style G fill:#607D8B,color:white
    style H fill:#F44336,color:white
    style I fill:#4CAF50,color:white
    style J fill:#FFC107,color:black
    style K fill:#8BC34A,color:white
    style L fill:#FF9800,color:white
    style M fill:#F44336,color:white
    style N fill:#4CAF50,color:white
    style O fill:#2196F3,color:white
    style P fill:#4CAF50,color:white
</code></pre>
<h2 data-id="heading-15">6. é«˜çº§é…ç½®ä¸ä¼˜åŒ–</h2>
<h3 data-id="heading-16">6.1 åˆ›å»ºå…±äº«åº“</h3>
<p><strong>åˆ›å»ºå…±äº«åº“ç»“æ„ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">jenkins-shared-library/
â”œâ”€â”€ vars/
â”‚   â””â”€â”€ deployUtils<span class="hljs-selector-class">.groovy</span>
â”œâ”€â”€ <span class="hljs-attribute">src</span>/
â”‚   â””â”€â”€ com/
â”‚       â””â”€â”€ company/
â”‚           â””â”€â”€ BuildUtils<span class="hljs-selector-class">.groovy</span>
â””â”€â”€ resources/
    â””â”€â”€ com/
        â””â”€â”€ company/
            â””â”€â”€ templates/
                â””â”€â”€ deployment<span class="hljs-selector-class">.yaml</span>
</code></pre>
<p><strong>åˆ›å»ºå…±äº«å·¥å…·ç±»ï¼š</strong> <code>vars/deployUtils.groovy</code></p>
<pre><code class="hljs language-groovy" lang="groovy">#!/usr/bin/groovy

def call(Map config = [:]) {
    def defaults = [
        timeout: 30,
        retries: 3,
        healthCheckUrl: '',
        rollbackOnFailure: true
    ]
    config = defaults + config
    
    pipeline {
        agent any
        
        stages {
            stage('é¢„éƒ¨ç½²æ£€æŸ¥') {
                steps {
                    script {
                        checkPrerequisites()
                        validateConfig(config)
                    }
                }
            }
            
            stage('éƒ¨ç½²') {
                steps {
                    retry(config.retries) {
                        timeout(time: config.timeout, unit: 'MINUTES') {
                            script {
                                performDeployment(config)
                            }
                        }
                    }
                }
            }
            
            stage('å¥åº·æ£€æŸ¥') {
                steps {
                    script {
                        healthCheck(config.healthCheckUrl)
                    }
                }
            }
        }
        
        post {
            failure {
                script {
                    if (config.rollbackOnFailure) {
                        rollbackDeployment()
                    }
                    notifyFailure()
                }
            }
            success {
                notifySuccess()
            }
        }
    }
}

def checkPrerequisites() {
    // æ£€æŸ¥éƒ¨ç½²å‰ææ¡ä»¶
    sh 'echo "æ£€æŸ¥éƒ¨ç½²å‰ææ¡ä»¶..."'
}

def validateConfig(config) {
    // éªŒè¯é…ç½®
    if (!config.healthCheckUrl) {
        error "å¥åº·æ£€æŸ¥URLä¸èƒ½ä¸ºç©º"
    }
}

def performDeployment(config) {
    // æ‰§è¡Œéƒ¨ç½²é€»è¾‘
    sh 'echo "æ‰§è¡Œéƒ¨ç½²..."'
}

def healthCheck(url) {
    // å¥åº·æ£€æŸ¥
    sh """
        echo "æ‰§è¡Œå¥åº·æ£€æŸ¥: ${url}"
        curl -f ${url} || exit 1
    """
}

def rollbackDeployment() {
    // å›æ»šéƒ¨ç½²
    sh 'echo "æ‰§è¡Œå›æ»š..."'
}

def notifyFailure() {
    // å¤±è´¥é€šçŸ¥
    emailext(
        subject: "éƒ¨ç½²å¤±è´¥: ${env.JOB_NAME}",
        body: "éƒ¨ç½²å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ—¥å¿—ã€‚",
        to: "devops@company.com"
    )
}

def notifySuccess() {
    // æˆåŠŸé€šçŸ¥
    emailext(
        subject: "éƒ¨ç½²æˆåŠŸ: ${env.JOB_NAME}",
        body: "éƒ¨ç½²æˆåŠŸå®Œæˆã€‚",
        to: "devops@company.com"
    )
}
</code></pre>
<h3 data-id="heading-17">6.2 é…ç½® Jenkins å‡­æ®</h3>
<p><strong>åˆ›å»ºå‡­æ®é…ç½®è„šæœ¬ï¼š</strong> <code>configure_credentials.sh</code></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>

<span class="hljs-comment"># é…ç½® Docker Hub å‡­æ®</span>
java -jar /var/lib/jenkins/jenkins-cli.jar -s http://localhost:8080 groovy = &lt;&lt;<span class="hljs-string">EOF
import com.cloudbees.plugins.credentials.*
import com.cloudbees.plugins.credentials.domains.*
import com.cloudbees.plugins.credentials.impl.*
import com.cloudbees.jenkins.plugins.sshcredentials.impl.*
import org.jenkinsci.plugins.plaincredentials.impl.*
import hudson.util.Secret

domain = Domain.global()
store = Jenkins.instance.getExtensionList('com.cloudbees.plugins.credentials.SystemCredentialsProvider')[0].getStore()

// Docker Hub ç”¨æˆ·åå¯†ç å‡­æ®
dockerHubCredentials = new UsernamePasswordCredentialsImpl(
    CredentialsScope.GLOBAL,
    "docker-hub-credentials",
    "Docker Hub Credentials",
    "your-docker-username",
    "your-docker-password"
)

// SSH éƒ¨ç½²å¯†é’¥
sshCredentials = new BasicSSHUserPrivateKey(
    CredentialsScope.GLOBAL,
    "deploy-ssh-key",
    "deploy-user",
    new BasicSSHUserPrivateKey.UsersPrivateKeySource(),
    "",
    "Deployment SSH Key"
)

// æ·»åŠ å‡­æ®åˆ°å­˜å‚¨
store.addCredentials(domain, dockerHubCredentials)
store.addCredentials(domain, sshCredentials)

println "å‡­æ®é…ç½®å®Œæˆ"
EOF</span>
</code></pre>
<h2 data-id="heading-18">7. ç›‘æ§ä¸æ—¥å¿—</h2>
<h3 data-id="heading-19">7.1 é…ç½®æ„å»ºç›‘æ§</h3>
<p><strong>åˆ›å»ºç›‘æ§ä»ªè¡¨æ¿é…ç½®ï¼š</strong> <code>configure_monitoring.sh</code></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>

<span class="hljs-comment"># å®‰è£…ç›‘æ§æ’ä»¶</span>
java -jar /var/lib/jenkins/jenkins-cli.jar -s http://localhost:8080 install-plugin monitoring -deploy
java -jar /var/lib/jenkins/jenkins-cli.jar -s http://localhost:8080 install-plugin build-monitor-plugin -deploy

<span class="hljs-comment"># é‡å¯ Jenkins</span>
sudo systemctl restart jenkins

<span class="hljs-comment"># é…ç½®æ„å»ºå†å²æ¸…ç†</span>
<span class="hljs-built_in">cat</span> &gt; /var/lib/jenkins/job-config-history.xml &lt;&lt; <span class="hljs-string">EOF
&lt;org.jenkinsci.plugins.jobConfigHistory.JobConfigHistory&gt;
  &lt;maxHistory&gt;30&lt;/maxHistory&gt;
  &lt;saveModuleConfiguration&gt;true&lt;/saveModuleConfiguration&gt;
  &lt;skipDuplicateHistory&gt;true&lt;/skipDuplicateHistory&gt;
&lt;/org.jenkinsci.plugins.jobConfigHistory.JobConfigHistory&gt;
EOF</span>
</code></pre>
<h3 data-id="heading-20">7.2 æ—¥å¿—é…ç½®</h3>
<p><strong>åˆ›å»ºæ—¥å¿—é…ç½®ï¼š</strong> <code>logging_config.groovy</code></p>
<pre><code class="hljs language-groovy" lang="groovy">import java.util.logging.ConsoleHandler
import java.util.logging.FileHandler
import java.util.logging.SimpleFormatter

// é…ç½® Jenkins æ—¥å¿—
def logger = java.util.logging.Logger.getLogger("")

// æ¸…é™¤ç°æœ‰å¤„ç†å™¨
logger.handlers.each { logger.removeHandler(it) }

// æ§åˆ¶å°å¤„ç†å™¨
def consoleHandler = new ConsoleHandler()
consoleHandler.level = java.util.logging.Level.INFO
logger.addHandler(consoleHandler)

// æ–‡ä»¶å¤„ç†å™¨
def fileHandler = new FileHandler("/var/log/jenkins/jenkins.log", 10485760, 10, true)
fileHandler.level = java.util.logging.Level.ALL
fileHandler.formatter = new SimpleFormatter()
logger.addHandler(fileHandler)

// è®¾ç½®æ—¥å¿—çº§åˆ«
logger.level = java.util.logging.Level.ALL
</code></pre>
<h2 data-id="heading-21">8. å®‰å…¨é…ç½®</h2>
<h3 data-id="heading-22">8.1 Jenkins å®‰å…¨åŠ å›º</h3>
<p><strong>åˆ›å»ºå®‰å…¨é…ç½®è„šæœ¬ï¼š</strong> <code>security_hardening.sh</code></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>

<span class="hljs-comment"># å¤‡ä»½åŸå§‹é…ç½®</span>
<span class="hljs-built_in">cp</span> /var/lib/jenkins/config.xml /var/lib/jenkins/config.xml.backup

<span class="hljs-comment"># é…ç½®å®‰å…¨æ€§è®¾ç½®</span>
<span class="hljs-built_in">cat</span> &gt; /var/lib/jenkins/security.groovy &lt;&lt; <span class="hljs-string">EOF
import jenkins.model.*
import hudson.security.*
import jenkins.security.s2m.AdminWhitelistRule

def instance = Jenkins.getInstance()

// å¯ç”¨å®‰å…¨æ€§
def strategy = new GlobalMatrixAuthorizationStrategy()

// æ·»åŠ æƒé™
strategy.add(Jenkins.ADMINISTER, "admin")
strategy.add(Jenkins.READ, "authenticated")
strategy.add(hudson.model.Item.READ, "authenticated")
strategy.add(hudson.model.Item.BUILD, "authenticated")
strategy.add(hudson.model.Item.CONFIGURE, "admin")

instance.setAuthorizationStrategy(strategy)

// é…ç½®å®‰å…¨é¢†åŸŸ
def realm = new HudsonPrivateSecurityRealm(false)
realm.createAccount("admin", "secure-password-here")
instance.setSecurityRealm(realm)

// ç¦ç”¨ Jenkins CLI è¿œç¨‹è®¿é—®
instance.getDescriptor("jenkins.CLI").get().setEnabled(false)

// ä¿å­˜é…ç½®
instance.save()
EOF</span>

<span class="hljs-comment"># æ‰§è¡Œå®‰å…¨é…ç½®</span>
java -jar /var/lib/jenkins/jenkins-cli.jar -s http://localhost:8080 groovy security.groovy

<span class="hljs-comment"># æ¸…ç†</span>
<span class="hljs-built_in">rm</span> /var/lib/jenkins/security.groovy

<span class="hljs-built_in">echo</span> <span class="hljs-string">"Jenkins å®‰å…¨é…ç½®å®Œæˆ"</span>
</code></pre>
<h2 data-id="heading-23">9. æ•…éšœæ’é™¤ä¸ç»´æŠ¤</h2>
<h3 data-id="heading-24">9.1 å¸¸è§é—®é¢˜è§£å†³</h3>
<p><strong>åˆ›å»ºæ•…éšœæ’é™¤è„šæœ¬ï¼š</strong> <code>troubleshooting.sh</code></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"=== Jenkins æ•…éšœæ’é™¤å·¥å…· ==="</span>

<span class="hljs-comment"># æ£€æŸ¥æœåŠ¡çŠ¶æ€</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"1. æ£€æŸ¥ Jenkins æœåŠ¡çŠ¶æ€..."</span>
sudo systemctl status jenkins --no-pager -l

<span class="hljs-comment"># æ£€æŸ¥ç£ç›˜ç©ºé—´</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"2. æ£€æŸ¥ç£ç›˜ç©ºé—´..."</span>
<span class="hljs-built_in">df</span> -h /var/lib/jenkins

<span class="hljs-comment"># æ£€æŸ¥å†…å­˜ä½¿ç”¨</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"3. æ£€æŸ¥å†…å­˜ä½¿ç”¨..."</span>
free -h

<span class="hljs-comment"># æ£€æŸ¥æ—¥å¿—é”™è¯¯</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"4. æ£€æŸ¥æœ€è¿‘é”™è¯¯..."</span>
<span class="hljs-built_in">tail</span> -100 /var/log/jenkins/jenkins.log | grep -i error

<span class="hljs-comment"># æ£€æŸ¥æ„å»ºé˜Ÿåˆ—</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"5. æ£€æŸ¥æ„å»ºé˜Ÿåˆ—..."</span>
java -jar /var/lib/jenkins/jenkins-cli.jar -s http://localhost:8080 list-queue

<span class="hljs-comment"># æ£€æŸ¥æ’ä»¶æ›´æ–°</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"6. æ£€æŸ¥å¯ç”¨æ’ä»¶æ›´æ–°..."</span>
java -jar /var/lib/jenkins/jenkins-cli.jar -s http://localhost:8080 list-plugins | grep -i available

<span class="hljs-built_in">echo</span> <span class="hljs-string">"æ•…éšœæ’é™¤æ£€æŸ¥å®Œæˆ"</span>
</code></pre>
<h3 data-id="heading-25">9.2 å¤‡ä»½ä¸æ¢å¤</h3>
<p><strong>åˆ›å»ºå¤‡ä»½è„šæœ¬ï¼š</strong> <code>backup_jenkins.sh</code></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>

BACKUP_DIR=<span class="hljs-string">"/opt/jenkins-backups"</span>
TIMESTAMP=$(<span class="hljs-built_in">date</span> +%Y%m%d_%H%M%S)
BACKUP_FILE=<span class="hljs-string">"jenkins_backup_<span class="hljs-variable">${TIMESTAMP}</span>.tar.gz"</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"å¼€å§‹å¤‡ä»½ Jenkins..."</span>

<span class="hljs-comment"># åˆ›å»ºå¤‡ä»½ç›®å½•</span>
<span class="hljs-built_in">mkdir</span> -p <span class="hljs-variable">$BACKUP_DIR</span>

<span class="hljs-comment"># åœæ­¢ Jenkins æœåŠ¡</span>
sudo systemctl stop jenkins

<span class="hljs-comment"># åˆ›å»ºå¤‡ä»½</span>
sudo tar -czf <span class="hljs-variable">$BACKUP_DIR</span>/<span class="hljs-variable">$BACKUP_FILE</span> \
    --exclude=<span class="hljs-string">'./war'</span> \
    --exclude=<span class="hljs-string">'./cache'</span> \
    --exclude=<span class="hljs-string">'./logs'</span> \
    -C /var/lib jenkins

<span class="hljs-comment"># å¯åŠ¨ Jenkins æœåŠ¡</span>
sudo systemctl start jenkins

<span class="hljs-comment"># éªŒè¯å¤‡ä»½</span>
<span class="hljs-keyword">if</span> [ -f <span class="hljs-string">"<span class="hljs-variable">$BACKUP_DIR</span>/<span class="hljs-variable">$BACKUP_FILE</span>"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"å¤‡ä»½æˆåŠŸ: <span class="hljs-variable">$BACKUP_DIR</span>/<span class="hljs-variable">$BACKUP_FILE</span>"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"å¤‡ä»½å¤§å°: <span class="hljs-subst">$(du -h $BACKUP_DIR/$BACKUP_FILE | cut -f1)</span>"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"å¤‡ä»½å¤±è´¥!"</span>
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># æ¸…ç†æ—§å¤‡ä»½ï¼ˆä¿ç•™æœ€è¿‘7å¤©ï¼‰</span>
find <span class="hljs-variable">$BACKUP_DIR</span> -name <span class="hljs-string">"jenkins_backup_*.tar.gz"</span> -mtime +7 -delete

<span class="hljs-built_in">echo</span> <span class="hljs-string">"å¤‡ä»½å®Œæˆ"</span>
</code></pre>
<h2 data-id="heading-26">10. æ€»ç»“</h2>
<p>é€šè¿‡æœ¬æ•™ç¨‹ï¼Œä½ å·²ç»å­¦ä¼šäº†å¦‚ä½•ï¼š</p>
<ol>
<li><strong>å®‰è£…å’Œé…ç½® Jenkins</strong> æœåŠ¡å™¨</li>
<li><strong>åˆ›å»ºå®Œæ•´çš„ CI/CD æµæ°´çº¿</strong> ä½¿ç”¨ Jenkins Pipeline</li>
<li><strong>é›†æˆä»£ç è´¨é‡æ£€æŸ¥</strong> å’Œè‡ªåŠ¨åŒ–æµ‹è¯•</li>
<li><strong>æ„å»ºå’Œéƒ¨ç½² Docker å®¹å™¨</strong></li>
<li><strong>é…ç½®å¤šç¯å¢ƒéƒ¨ç½²</strong> ç­–ç•¥</li>
<li><strong>å®ç°ç›‘æ§å’Œé€šçŸ¥</strong> æœºåˆ¶</li>
<li><strong>åŠ å¼º Jenkins å®‰å…¨æ€§</strong></li>
<li><strong>è®¾ç½®å¤‡ä»½å’Œæ¢å¤</strong> æµç¨‹</li>
</ol>
<p>è¿™ä¸ªå®Œæ•´çš„ Jenkins CI/CD è§£å†³æ–¹æ¡ˆå¯ä»¥å¸®åŠ©å›¢é˜Ÿå®ç°é«˜æ•ˆçš„è‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²æµç¨‹ï¼Œæé«˜è½¯ä»¶äº¤ä»˜è´¨é‡å’Œé€Ÿåº¦ã€‚è®°å¾—æ ¹æ®ä½ çš„å…·ä½“éœ€æ±‚è°ƒæ•´é…ç½®ï¼Œå¹¶å®šæœŸæ›´æ–°å’Œç»´æŠ¤ä½ çš„ Jenkins ç¯å¢ƒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[springbootåŠ è½½å¤–éƒ¨jar]]></title>    <link>https://juejin.cn/post/7573904312712724515</link>    <guid>https://juejin.cn/post/7573904312712724515</guid>    <pubDate>2025-11-19T01:44:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573904312712724515" data-draft-id="7573892573346709556" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="springbootåŠ è½½å¤–éƒ¨jar"/> <meta itemprop="keywords" content="Spring Boot"/> <meta itemprop="datePublished" content="2025-11-19T01:44:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="wsaaaqqq"/> <meta itemprop="url" content="https://juejin.cn/user/784371925651692"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            springbootåŠ è½½å¤–éƒ¨jar
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/784371925651692/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    wsaaaqqq
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T01:44:26.000Z" title="Wed Nov 19 2025 01:44:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. ä»¥ç°æœ‰é¡¹ç›®jarï¼šxxx.jarä¸ºä¾‹</h2>
<p>å¦‚æ ¹æ®ä¸åŒæ•°æ®åº“éœ€è¦æ›´æ¢ä½¿ç”¨ä¸åŒçš„jdbcé©±åŠ¨jarçš„åœºæ™¯ï¼š
æŠŠå¤–éƒ¨é©±åŠ¨jaræ”¾åˆ°lib-dir1,lib-dir2ç­‰ç›®å½•ã€‚</p>
<h2 data-id="heading-1">2. å†ç¡®å®šé¡¹ç›®jarçš„ç±»å‹</h2>
<ul>
<li>æŸ¥çœ‹jarçš„META-INF/MANIFEST.MFæ–‡ä»¶ä¸­çš„Main-Classï¼ˆä¹Ÿå¯ä»¥windowsä¸‹ç”¨è§£å‹ç¼©å·¥å…·æŸ¥çœ‹ï¼‰</li>
</ul>

<pre><code class="hljs language-css" lang="css">unzip -<span class="hljs-selector-tag">p</span> xxxx<span class="hljs-selector-class">.jar</span>  META-INF/MANIFEST<span class="hljs-selector-class">.MF</span> | grep <span class="hljs-selector-tag">Main</span>-
</code></pre>
<ul>
<li>Main-Classç±»å‹ä¸»è¦æœ‰ä»¥ä¸‹3ç±»</li>
</ul>

<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">Main-Class: org.springframework.boot.loader.JarLauncher</span>

æˆ–è€…
<span class="hljs-section">Main-Class: org.springframework.boot.loader.PropertiesLauncher</span>

æˆ–è€…
<span class="hljs-section">Main-Class: x.y.z  (x.y.zæ˜¯ç¤ºä¾‹ï¼Œä»¥å®é™…ä¸ºå‡†ï¼Œåªè¦ä¸æ˜¯å‰ä¸¤ä¸ª)</span>
</code></pre>
<h2 data-id="heading-2">3. ä¿®æ”¹jarå¯åŠ¨æ–¹å¼</h2>
<p>è‹¥åŸå¯åŠ¨å‘½ä»¤ä¸ºï¼ˆ[....]ä¸ºå…¶ä»–å‚æ•°éƒ¨åˆ†ï¼‰</p>
<pre><code class="hljs language-bash" lang="bash"> [....] java [....] -jar xxx.jar [....]
</code></pre>
<p>ä¿®æ”¹å¯åŠ¨æ–¹å¼ä¸ºï¼š</p>
<ul>
<li>Main-Class: org.springframework.boot.loader.JarLauncher</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"> [....] java [....] -Dloader.path=<span class="hljs-string">"lib-dir1,lib-dir2"</span> -<span class="hljs-built_in">cp</span> <span class="hljs-string">"xxx.jar"</span> org.springframework.boot.loader.PropertiesLauncher [....]
</code></pre>
<ul>
<li>Main-Class: org.springframework.boot.loader.PropertiesLauncher</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"> [....] java [....] -Dloader.path=<span class="hljs-string">"lib-dir1,dir2"</span> -jar xxx.jar [....]
 æˆ–è€…
  [....] java [....] -Dloader.path=<span class="hljs-string">"lib-dir1,dir2"</span> -<span class="hljs-built_in">cp</span> <span class="hljs-string">"xxx.jar"</span> org.springframework.boot.loader.PropertiesLauncher [....]
</code></pre>
<ul>
<li>Main-Class: x.y.z   (x.y.zæ˜¯ç¤ºä¾‹ï¼Œä»¥å®é™…ä¸ºå‡†ï¼Œåªè¦ä¸æ˜¯å‰ä¸¤ä¸ª)</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">å¤šä¸ªå¤–ç½®ç›®å½•ç”¨â€œ:â€ï¼ˆè‹±æ–‡å†’å·ï¼‰
 [....] java [....] -<span class="hljs-built_in">cp</span> <span class="hljs-string">"xxx.jar:lib-dir1/*:lib-dir2/*"</span> x.y.z [....] 
</code></pre>
<h2 data-id="heading-3">çŸ¥è¯†ç‚¹</h2>
<ul>
<li>java å‚æ•°</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">java -<span class="hljs-built_in">cp</span> â€œxxx.jar:lib1/*:lib2/*â€  x.y.z

-<span class="hljs-built_in">cp</span>: æŒ‡å®šjavaè¿è¡ŒåŠ è½½çš„ç±»è·¯å¾„ï¼Œlinuxä¸‹è‹±æ–‡å†’å·åˆ†å‰²ï¼ˆwindowsä¸‹è‹±æ–‡åˆ†å·åˆ†éš”ï¼‰
x.y.z ä¸ºå¯åŠ¨ç±»
</code></pre>
<ul>
<li>springboot é»˜è®¤æ‰“åŒ…åçš„å¯åŠ¨ç±»
å‚è§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.springframework.org.cn%2Fspring-boot%2Fspecification%2Fexecutable-jar%2Flaunching.html" target="_blank" title="https://docs.springframework.org.cn/spring-boot/specification/executable-jar/launching.html" ref="nofollow noopener noreferrer">å®˜ç½‘</a></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9c42a33fa0c419fb75e58139552d5f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3NhYWFxcXE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764121466&amp;x-signature=fuY8NflhNFPqfCgSsG5ChnirfhU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java åç«¯å·¥ç¨‹å¸ˆå¦‚ä½•ç”¨å¥½ TRAE SOLOï¼Ÿæˆ‘æ€»ç»“äº†è¿™ 7 ä¸ªå®ç”¨æŠ€å·§]]></title>    <link>https://juejin.cn/post/7574069837526941738</link>    <guid>https://juejin.cn/post/7574069837526941738</guid>    <pubDate>2025-11-19T01:37:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574069837526941738" data-draft-id="7573892156258205732" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java åç«¯å·¥ç¨‹å¸ˆå¦‚ä½•ç”¨å¥½ TRAE SOLOï¼Ÿæˆ‘æ€»ç»“äº†è¿™ 7 ä¸ªå®ç”¨æŠ€å·§"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2025-11-19T01:37:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤©å¤©æ‘¸é±¼çš„javaå·¥ç¨‹å¸ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3109843365802925"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java åç«¯å·¥ç¨‹å¸ˆå¦‚ä½•ç”¨å¥½ TRAE SOLOï¼Ÿæˆ‘æ€»ç»“äº†è¿™ 7 ä¸ªå®ç”¨æŠ€å·§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3109843365802925/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤©å¤©æ‘¸é±¼çš„javaå·¥ç¨‹å¸ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T01:37:22.000Z" title="Wed Nov 19 2025 01:37:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Java åç«¯å·¥ç¨‹å¸ˆå¦‚ä½•ç”¨å¥½ TRAE SOLOï¼Ÿæˆ‘æ€»ç»“äº†è¿™ 7 ä¸ªå®ç”¨æŠ€å·§</h2>
<blockquote>
<p>ğŸš€#TRAE SOLO# | æ ‡ç­¾ï¼šTraeã€Java åç«¯ã€AI å·¥ç¨‹åŒ–ã€å®æˆ˜æŠ€å·§<br/>
ä½œè€…ï¼šå¤©å¤©æ‘¸é±¼çš„javaå·¥ç¨‹å¸ˆ<br/>
å‘å¸ƒäºï¼š2025å¹´11æœˆ</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ğŸ§  å‰è¨€ï¼šAI å†™ä»£ç ï¼Ÿæˆ‘å†™çš„æ˜¯â€œAI + Java çš„åŒå‘å¥”èµ´â€</h3>
<p>æœ€è¿‘åœ¨åšä¸€ä¸ª AI æ™ºèƒ½å®¢æœé¡¹ç›®ï¼Œä½¿ç”¨çš„æ˜¯æˆ‘è¿‘æœŸä¸»åŠ›å¼€å‘å·¥å…·ä¹‹ä¸€â€”â€”<strong>TRAE SOLO</strong>ã€‚<br/>
ä½œä¸ºä¸€ä¸ªå†™äº† 8 å¹´ Java çš„åç«¯å·¥ç¨‹å¸ˆï¼Œæˆ‘ä¸€å¼€å§‹å¯¹â€œAI è‡ªåŠ¨å†™ä»£ç â€è¿™äº‹æ˜¯æŒæ€€ç–‘æ€åº¦çš„ã€‚æ¯•ç«Ÿï¼š</p>
<blockquote>
<p>Java é¡¹ç›®ç»“æ„å¤æ‚ã€æ¥å£è§„èŒƒä¸¥è°¨ã€éƒ¨ç½²æµç¨‹ä¸¥å¯†ï¼ŒAI çœŸçš„èƒ½ Hold ä½ï¼Ÿ</p>
</blockquote>
<p>ä½†ç”¨äº† TRAE SOLO å‡ è½®åï¼Œæˆ‘æ”¹è§‚äº†ã€‚</p>
<p>å®ƒä¸åªæ˜¯ä¸ªâ€œä»£å†™å·¥å…·â€ï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>çœŸæ­£èƒ½èå…¥ Java å·¥ç¨‹å¸ˆå·¥ä½œæµçš„ AI åŠ©æ‰‹</strong>ã€‚</p>
<p>ä»Šå¤©æˆ‘å°±æ¥åˆ†äº«ä¸€äº›æˆ‘åœ¨ä½¿ç”¨ TRAE SOLO è¿‡ç¨‹ä¸­çš„<strong>å®ç”¨æŠ€å·§å’ŒçœŸå®æ„Ÿå—</strong>ï¼Œå¸Œæœ›èƒ½ç»™æ­£åœ¨æ¢ç´¢ AI å·¥ç¨‹åŒ–çš„ Javaer ä¸€äº›å‚è€ƒã€‚</p>
<hr/>
<h3 data-id="heading-2">â˜• æŠ€å·§ä¸€ï¼šç”¨ SOLO coder å¿«é€Ÿæ­å»º Spring Boot é¡¹ç›®éª¨æ¶</h3>
<p>åœ¨ä¼ ç»Ÿå¼€å‘ä¸­ï¼Œæ­å»ºä¸€ä¸ª Java é¡¹ç›®ï¼Œå³ä½¿ç”¨äº† Spring Initializrï¼Œä¹Ÿéœ€è¦æ‰‹åŠ¨é…ç½®å¾ˆå¤šä¸œè¥¿ï¼š</p>
<ul>
<li>Maven ä¾èµ–</li>
<li>åˆ†å±‚ç»“æ„ï¼ˆcontroller/service/entity/mapperï¼‰</li>
<li>Swagger æ–‡æ¡£</li>
<li>å…¨å±€å¼‚å¸¸å¤„ç†</li>
<li>Redisã€MySQLã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰åŸºç¡€ç»„ä»¶</li>
</ul>
<p>è€Œç°åœ¨ï¼Œæˆ‘åªéœ€è¦ç”¨ TRAE SOLO è¾“å…¥ä¸€å¥ promptï¼š</p>
<pre><code class="hljs language-css" lang="css">å¸®æˆ‘ç”Ÿæˆä¸€ä¸ªæ”¯æŒ Redis ç¼“å­˜å’Œ <span class="hljs-attribute">REST</span> æ¥å£çš„ Spring Boot é¡¹ç›®ï¼Œç”¨äºå¤„ç†ç”¨æˆ·ç™»å½•å’Œæ³¨å†Œã€‚
</code></pre>
<p>å®ƒå°±èƒ½è‡ªåŠ¨ç”Ÿæˆï¼š</p>
<ul>
<li>å®Œæ•´çš„é¡¹ç›®ç»“æ„ï¼ˆå¸¦åŒ…åã€ç±»åï¼‰</li>
<li>ä¾èµ–ä¸€åº”ä¿±å…¨</li>
<li>æ§åˆ¶å™¨å’ŒæœåŠ¡å±‚ä»£ç </li>
<li>Redis é…ç½®ç±»å’Œå·¥å…·å°è£…</li>
</ul>
<blockquote>
<p>âœ… å°æŠ€å·§ï¼šå¯ä»¥åœ¨ Prompt ä¸­åŠ ä¸Šâ€œä½¿ç”¨ Lombok å’Œ JSR303 æ ¡éªŒâ€ï¼Œç”Ÿæˆçš„ä»£ç ä¼šæ›´è´´è¿‘ä½ çš„å›¢é˜Ÿè§„èŒƒã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-3">ğŸ” æŠ€å·§äºŒï¼šç”¨ DiffView å·¥å…·åšâ€œä»£ç ç”Ÿæˆæ¯”å¯¹ + å®‰å…¨å®¡æŸ¥â€</h3>
<p>Java é¡¹ç›®å¯¹ç¨³å®šæ€§å’Œå¯é æ€§è¦æ±‚æé«˜ï¼Œæˆ‘ä»ä¸ç›´æ¥æŠŠ AI ç”Ÿæˆçš„ä»£ç ä¸Šçº¿ã€‚<br/>
æ‰€ä»¥æˆ‘ä¹ æƒ¯è¿™æ ·åšï¼š</p>
<ol>
<li>å…ˆè®© TRAE SOLO ç”ŸæˆæŸæ®µé€»è¾‘ä»£ç ï¼Œæ¯”å¦‚â€œåˆ†é¡µæŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨â€ï¼›</li>
<li>å†ç”¨ <strong>DiffView å·¥å…·</strong> å¯¹æ¯”æ¨¡å‹ç”Ÿæˆä»£ç å’Œç°æœ‰ä»£ç çš„å·®å¼‚ï¼›</li>
<li>æ ¹æ®æç¤ºæ‰‹åŠ¨ reviewï¼Œæ¯”å¦‚å¼‚å¸¸å¤„ç†æ˜¯å¦è§„èŒƒã€æ¥å£æ˜¯å¦çº¿ç¨‹å®‰å…¨ç­‰ã€‚</li>
</ol>
<blockquote>
<p>ğŸ’¡ å®æˆ˜ç»éªŒï¼šå¦‚æœä½ ç”¨çš„æ˜¯ JDK17+ï¼Œè®°å¾—åœ¨ prompt ä¸­è¯´æ˜â€œä½¿ç”¨ record è€Œéä¼ ç»Ÿ pojoâ€ï¼Œèƒ½æ›´å¥½åˆ©ç”¨ Java çš„ç°ä»£è¯­æ³•ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-4">ğŸ› ï¸ æŠ€å·§ä¸‰ï¼šç”¨ TRAE SOLO è‡ªåŠ¨ç”Ÿæˆå•å…ƒæµ‹è¯•ï¼Œæå‡ä»£ç è´¨é‡</h3>
<p>ä½œä¸º Java åç«¯ï¼Œå†™æµ‹è¯•æ˜¯å¿…é¡»çš„ï¼Œä½†ä¹Ÿæ˜¯çœŸçš„â€œçƒ¦â€ã€‚</p>
<p>ç°åœ¨æˆ‘ç”¨ TRAE SOLO è‡ªåŠ¨ç”Ÿæˆ JUnit5 + Mockito çš„å•æµ‹ä»£ç ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@ExtendWith(MockitoExtension.class)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceTest</span> {

    <span class="hljs-meta">@InjectMocks</span>
    <span class="hljs-keyword">private</span> UserService userService;

    <span class="hljs-meta">@Mock</span>
    <span class="hljs-keyword">private</span> UserRepository userRepository;

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">testRegisterUser</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// mockæ•°æ® + æ–­è¨€é€»è¾‘</span>
    }
}
</code></pre>
<p>ç”¨å®ƒç”Ÿæˆæµ‹è¯•ä»£ç åï¼Œæˆ‘é€šå¸¸ä¼šå†åŠ ä¸€äº›è¾¹ç•Œæ¡ä»¶ï¼Œæ¯”å¦‚ç©ºå€¼ã€å¼‚å¸¸æµç­‰ã€‚</p>
<blockquote>
<p>ğŸ¯ å»ºè®®æ­é… REST Assured æˆ– Testcontainers åšé›†æˆæµ‹è¯•ï¼ŒAI ä¹Ÿèƒ½å¸®ä½ è¡¥å…¨é‚£äº›æ¨¡æ¿ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-5">ğŸ§± æŠ€å·§å››ï¼šç”Ÿæˆæ¥å£æ–‡æ¡£ + è¯·æ±‚ç¤ºä¾‹ï¼Œä¸€é”®å¯¹æ¥å‰ç«¯</h3>
<p>TRAE SOLO æ”¯æŒè‡ªåŠ¨ç”Ÿæˆæ¥å£æ–‡æ¡£ï¼ˆç±»ä¼¼ Swagger æ³¨è§£ï¼‰ï¼Œå¹¶èƒ½è‡ªåŠ¨è¡¥å…¨è¯·æ±‚å‚æ•°ç¤ºä¾‹å’Œå“åº”ç»“æ„ã€‚</p>
<p>æˆ‘ç»å¸¸è¿™æ ·æ“ä½œï¼š</p>
<ul>
<li>ç”¨ prompt æè¿°æ¥å£éœ€æ±‚ï¼ˆå¦‚â€œç”¨æˆ·ç™»å½•æ¥å£ï¼Œæ”¯æŒæ‰‹æœºå·éªŒè¯ç ç™»å½•â€ï¼‰</li>
<li>AI ä¼šç”Ÿæˆ controller + æ¥å£æ³¨é‡Š + DTO + ç¤ºä¾‹ JSON</li>
<li>å¤åˆ¶åˆ°æˆ‘çš„æ¥å£æ–‡æ¡£å¹³å°ï¼ˆå¦‚ YApiï¼‰ï¼Œç›´æ¥å¯¹æ¥å‰ç«¯</li>
</ul>
<p>è¿™çœä¸‹äº†æˆ‘å’Œå‰ç«¯â€œæ‰¯çš®â€çš„æ—¶é—´ï¼Œä¹Ÿé¿å…äº†å‚æ•°å¯¹ä¸ä¸Šçš„å°´å°¬ã€‚</p>
<hr/>
<h3 data-id="heading-6">ğŸ§  æŠ€å·§äº”ï¼šç»“åˆ MCP åè®®ï¼Œæ¥å…¥å¤šå¤§æ¨¡å‹æœåŠ¡åšä¸šåŠ¡å¢å¼º</h3>
<p>æˆ‘æœ€è¿‘å¼€å‘çš„ä¸€ä¸ªâ€œæ™ºèƒ½å®¢æœç³»ç»Ÿâ€ï¼Œéœ€è¦è°ƒç”¨å¤šä¸ªå¤§æ¨¡å‹æœåŠ¡ï¼ˆé€šä¹‰åƒé—® + MiniMax + OpenAIï¼‰ã€‚</p>
<p>TRAE SOLO æ”¯æŒä½¿ç”¨ MCP åè®®å°è£…è¿™äº›æ¨¡å‹ï¼Œä¸ºæˆ‘èŠ‚çœäº†å¤§é‡é€‚é…ä»£ç ã€‚</p>
<p>æˆ‘åªéœ€è¦ï¼š</p>
<ol>
<li>åœ¨é…ç½®é‡Œå¡«å†™ä¸åŒæ¨¡å‹çš„ endpoint + API keyï¼›</li>
<li>ä½¿ç”¨ç»Ÿä¸€çš„è°ƒç”¨æ¥å£ï¼ˆå¦‚ <code>MCPClient.call()</code>ï¼‰ï¼›</li>
<li>åœ¨ä¸šåŠ¡ä»£ç ä¸­æŒ‰éœ€åˆ‡æ¢æ¨¡å‹ã€‚</li>
</ol>
<blockquote>
<p>âš ï¸ è¸©å‘æé†’ï¼šå¦‚æœä½ éƒ¨ç½²åœ¨å…¬å¸å†…ç½‘ï¼Œæ³¨æ„è®¾ç½®ä»£ç†å‚æ•°ï¼Œä¸ç„¶è°ƒç”¨å…¬ç½‘æ¨¡å‹ä¼šå¤±è´¥ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-7">ğŸ§© æŠ€å·§å…­ï¼šç”¨ TRAE SOLO åšâ€œä»£ç é‡æ„å»ºè®®å™¨â€</h3>
<p>æˆ‘æœ‰æ—¶å€™ä¹Ÿä¼šæŠŠä¸€äº›è€é¡¹ç›®ä»£ç æ‰”ç»™ TRAE SOLOï¼Œè®©å®ƒå¸®æˆ‘ï¼š</p>
<ul>
<li>ä¼˜åŒ– if-else é€»è¾‘ï¼ˆæ¯”å¦‚ç”¨ç­–ç•¥æ¨¡å¼ï¼‰</li>
<li>é‡å‘½åå˜é‡å’Œæ–¹æ³•ï¼ˆæå‡å¯è¯»æ€§ï¼‰</li>
<li>æ‹†åˆ†è¿‡é•¿æ–¹æ³•ï¼ˆè¶…è¿‡ 80 è¡Œçš„ï¼‰</li>
</ul>
<p>å®ƒä¼šç»™å‡ºä¸€äº›â€œçœ‹èµ·æ¥åƒèµ„æ·±æ¶æ„å¸ˆå†™çš„å»ºè®®â€ï¼Œè€Œä¸”å¤§å¤šæ•°éå¸¸åˆç†ã€‚</p>
<p>å½“ç„¶ï¼Œæœ€åè¿˜æ˜¯è¦è‡ªå·± reviewï¼Œä½†å®ƒè‡³å°‘è®©æˆ‘å°‘èµ°äº†å¾ˆå¤šé‡æ„å¼¯è·¯ã€‚</p>
<hr/>
<h3 data-id="heading-8">ğŸ” æŠ€å·§ä¸ƒï¼šåˆ©ç”¨ TRAE SOLO ç®¡ç†æ•æ„Ÿé…ç½®ï¼Œæå‡å®‰å…¨æ€§</h3>
<p>ä½œä¸º Java åç«¯ï¼ŒAPI keyã€æ•°æ®åº“å¯†ç ã€token æ˜¯æˆ‘ä»¬çš„æ•æ„Ÿä¿¡æ¯ã€‚</p>
<p>TRAE SOLO æ”¯æŒï¼š</p>
<ul>
<li>å°†æ•æ„Ÿé…ç½®åŠ å¯†å­˜å‚¨</li>
<li>ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ– KMS è§£å¯†</li>
<li>è‡ªåŠ¨æ³¨å…¥åˆ°ç”Ÿæˆçš„ä»£ç ä¸­ï¼ˆè€Œä¸æ˜¯ç¡¬ç¼–ç ï¼‰</li>
</ul>
<p>æˆ‘æ›¾ç»å› ä¸ºæŸæ¬¡ commit å¿˜åˆ  token è¢«å®‰å…¨éƒ¨é—¨ç‚¹åï¼Œç°åœ¨ç”¨ TRAE SOLO å¸®æˆ‘è§„é¿äº†è¿™ä¸ªå‘ã€‚</p>
<blockquote>
<p>âœ… å®‰å…¨å»ºè®®ï¼šåˆ«è®©å¤§æ¨¡å‹æˆä¸ºä½ çš„â€œä¿¡æ¯æ³„éœ²æºå¤´â€ï¼Œåˆç†ä½¿ç”¨ç¯å¢ƒéš”ç¦»ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-9">ğŸ“Œ æ€»ç»“ï¼šæˆ‘ä»¬ä¸æ˜¯è¢« AI æ›¿ä»£ï¼Œè€Œæ˜¯å’Œ AI ä¸€èµ·è¿›åŒ–</h3>
<p>æˆ‘ä»ä¸€å¼€å§‹å¯¹ AI å†™ä»£ç çš„æ€€ç–‘ï¼Œåˆ°ç°åœ¨ç†Ÿç»ƒä½¿ç”¨ TRAE SOLO åš Java é¡¹ç›®å¼€å‘ï¼Œç»å†äº†ä¸€ä¸ªå…¸å‹çš„â€œå·¥ç¨‹å¸ˆå¿ƒæ€å˜åŒ–â€ï¼š</p>
<ul>
<li>ä»æŠ—æ‹’ â†’ å°è¯• â†’ ä¾èµ– â†’ å…±åˆ›</li>
<li>ä»â€œæˆ‘å†™ä»£ç â€ â†’ åˆ°â€œæˆ‘å’Œ AI ä¸€èµ·å†™ä»£ç â€</li>
<li>ä»â€œä¸ä¼šè¢«æ›¿ä»£â€ â†’ åˆ°â€œä¸»åŠ¨èåˆï¼Œæå‡ä»·å€¼â€</li>
</ul>
<blockquote>
<p>Java é¡¹ç›®å¤æ‚ï¼Œä½†æ­£å› å¦‚æ­¤ï¼Œè¶Šèƒ½ä½“ç° AI å·¥å…·çš„ä»·å€¼ã€‚</p>
</blockquote>
<p>æˆ‘ç›¸ä¿¡æ¥ä¸‹æ¥çš„å‡ å¹´ï¼Œ<strong>AI å·¥å…·ä¼šæˆä¸º Java å·¥ç¨‹å¸ˆçš„â€œç¬¬äºŒå¤§è„‘â€</strong> ï¼Œå°±åƒ IDE ä¹‹äºæˆ‘ä»¬ä¸€æ ·ä¸å¯æˆ–ç¼ºã€‚</p>
<hr/>
<h3 data-id="heading-10">ğŸ¯ ç»“è¯­ï¼šæ¬¢è¿ä¸€èµ·æ¢ç´¢â€œAI + Javaâ€çš„æ–°èŒƒå¼</h3>
<p>æˆ‘ä¼šç»§ç»­ç”¨ TRAE SOLO åšæ›´å¤š Java é¡¹ç›®ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>AI ä»£ç å®¡è®¡ç³»ç»Ÿ</li>
<li>æ™ºèƒ½æ—¥å¿—åˆ†æå¹³å°</li>
<li>AI é©±åŠ¨çš„ä¸šåŠ¡è§„åˆ™å¼•æ“</li>
</ul>
<p>å¦‚æœä½ ä¹Ÿæ˜¯ Java åç«¯ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºèŠèŠä½ ç”¨ TRAE SOLO çš„ä½“éªŒï¼Œæˆ–è€…ä½ æœ‰å“ªäº›æŠ€å·§ã€å»ºè®®ã€åæ§½ï¼Œæˆ‘ä»¬ä¸€èµ·æˆé•¿ï¼Œä¸€èµ·å†²å‡» TARE SOLO å®æˆ˜èµ›ï¼</p>
<hr/>
<blockquote>
<p>ğŸ“¢ æœ¬æ–‡é¦–å‘äºæ˜é‡‘ï¼Œç”¨äºå‚ä¸ã€ŒTRAE SOLO å®æˆ˜èµ›ã€åŸåˆ›æŠ•ç¨¿<br/>
å¦‚æœè§‰å¾—æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµ ğŸ‘ æ”¶è— â­ è¯„è®º ğŸ’¬ äº’ç›¸å­¦ä¹ ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Srpingbootå…¥é—¨ï¼šé€šè¿‡å®è·µé¡¹ç›®ç³»ç»Ÿæ€§ç†è§£Springbootæ¡†æ¶]]></title>    <link>https://juejin.cn/post/7573904312712839203</link>    <guid>https://juejin.cn/post/7573904312712839203</guid>    <pubDate>2025-11-19T01:58:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573904312712839203" data-draft-id="7573892573346185268" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Srpingbootå…¥é—¨ï¼šé€šè¿‡å®è·µé¡¹ç›®ç³»ç»Ÿæ€§ç†è§£Springbootæ¡†æ¶"/> <meta itemprop="keywords" content="åç«¯,Spring Boot,Spring"/> <meta itemprop="datePublished" content="2025-11-19T01:58:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çˆ±åˆ†äº«çš„é±¼é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/3901536646733133"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Srpingbootå…¥é—¨ï¼šé€šè¿‡å®è·µé¡¹ç›®ç³»ç»Ÿæ€§ç†è§£Springbootæ¡†æ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3901536646733133/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çˆ±åˆ†äº«çš„é±¼é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T01:58:30.000Z" title="Wed Nov 19 2025 01:58:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»é›¶å¼€å§‹å­¦ Spring Bootï¼š30åˆ†é’Ÿæ„å»ºä½ çš„ç¬¬ä¸€ä¸ª RESTful API</h2>
<blockquote>
<p>æœ¬æ–‡é€‚åˆæœ‰ä¸€å®š Java åŸºç¡€çš„å¼€å‘è€…ï¼Œé€šè¿‡ä¸€ä¸ªå®Œæ•´çš„å¾…åŠäº‹é¡¹ç®¡ç† API é¡¹ç›®ï¼Œå¸¦ä½ å¿«é€Ÿå…¥é—¨ Spring Bootã€‚</p>
</blockquote>
<h3 data-id="heading-1">ğŸ“š å‰è¨€</h3>
<p>Spring Boot æ˜¯ Spring æ¡†æ¶çš„æ‰©å±•ï¼Œå®ƒç®€åŒ–äº† Spring åº”ç”¨çš„åˆå§‹æ­å»ºä»¥åŠå¼€å‘è¿‡ç¨‹ã€‚é€šè¿‡è‡ªåŠ¨é…ç½®å’Œèµ·æ­¥ä¾èµ–ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿæ„å»ºç”Ÿäº§çº§åˆ«çš„åº”ç”¨ï¼Œè€Œæ— éœ€ç¼–å†™å¤§é‡æ ·æ¿ä»£ç ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆé€‰æ‹© Spring Bootï¼Ÿ</strong></p>
<ul>
<li>ğŸš€ <strong>å¿«é€Ÿå¼€å‘</strong>ï¼šå†…åµŒTomcatæœåŠ¡å™¨ï¼Œæ— éœ€éƒ¨ç½² WAR æ–‡ä»¶</li>
<li>âš™ï¸ <strong>è‡ªåŠ¨é…ç½®</strong>ï¼šé›¶é…ç½®æˆ–æœ€å°é…ç½®å³å¯è¿è¡Œ</li>
<li>ğŸ“¦ <strong>èµ·æ­¥ä¾èµ–</strong>ï¼šé€šè¿‡ Maven/Gradle ä¾èµ–ç®¡ç†ï¼Œç®€åŒ–ä¾èµ–é…ç½®</li>
<li>ğŸ¯ <strong>ç”Ÿäº§å°±ç»ª</strong>ï¼šå†…ç½®ç›‘æ§ã€å¥åº·æ£€æŸ¥ç­‰åŠŸèƒ½</li>
</ul>
<h3 data-id="heading-2">ğŸ› ï¸ ç¯å¢ƒå‡†å¤‡</h3>
<p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œç¡®ä¿ä½ çš„å¼€å‘ç¯å¢ƒå·²å®‰è£…ï¼š</p>
<ul>
<li><strong>JDK 8+</strong>ï¼ˆæ¨è JDK 11 æˆ– 17ï¼‰</li>
<li><strong>Maven 3.6+</strong> æˆ– <strong>Gradle 6+</strong></li>
<li><strong>IDE</strong>ï¼šIntelliJ IDEAï¼ˆæ¨èï¼‰æˆ– Eclipse</li>
<li><strong>Postman</strong> æˆ– <strong>curl</strong>ï¼ˆç”¨äºæµ‹è¯• APIï¼‰</li>
</ul>
<p>æ£€æŸ¥ç¯å¢ƒï¼š</p>
<pre><code class="hljs language-bash" lang="bash">java -version
mvn -version
</code></pre>
<h3 data-id="heading-3">ğŸ¯ ç¬¬ä¸€æ­¥ï¼šåˆ›å»º Spring Boot é¡¹ç›®</h3>
<h4 data-id="heading-4">æ–¹å¼ä¸€ï¼šä½¿ç”¨ Spring Initializrï¼ˆæ¨èï¼‰</h4>
<ol>
<li>
<p>è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fstart.spring.io%2F" target="_blank" title="https://start.spring.io/" ref="nofollow noopener noreferrer">start.spring.io/</a></p>
</li>
<li>
<p>é€‰æ‹©ä»¥ä¸‹é…ç½®ï¼š</p>
<ul>
<li><strong>Project</strong>: Maven</li>
<li><strong>Language</strong>: Java</li>
<li><strong>Spring Boot</strong>: 2.7.x æˆ– 3.x</li>
<li><strong>Group</strong>: com.example</li>
<li><strong>Artifact</strong>: todo-api</li>
<li><strong>Dependencies</strong>:
<ul>
<li>Spring Web</li>
<li>Spring Data JPA</li>
<li>H2 Databaseï¼ˆæˆ– MySQL Driverï¼‰</li>
</ul>
</li>
</ul>
</li>
<li>
<p>ç‚¹å‡» "Generate" ä¸‹è½½é¡¹ç›®</p>
</li>
</ol>
<h4 data-id="heading-5">æ–¹å¼äºŒï¼šä½¿ç”¨ IDE åˆ›å»º</h4>
<p><strong>IntelliJ IDEAï¼š</strong></p>
<ol>
<li>File â†’ New â†’ Project</li>
<li>é€‰æ‹© Spring Initializr</li>
<li>å¡«å†™é¡¹ç›®ä¿¡æ¯ï¼Œé€‰æ‹©ä¾èµ–</li>
<li>ç‚¹å‡» Finish</li>
</ol>
<h3 data-id="heading-6">ğŸ“ é¡¹ç›®ç»“æ„è§£æ</h3>
<p>åˆ›å»ºå®Œæˆåï¼Œä½ ä¼šçœ‹åˆ°ä»¥ä¸‹ç›®å½•ç»“æ„ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">todo-api/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/
â”‚   â”‚   â”‚   â””â”€â”€ com/example/todoapi/
â”‚   â”‚   â”‚       â””â”€â”€ TodoApiApplication.java  <span class="hljs-comment"># ä¸»å¯åŠ¨ç±»</span>
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â””â”€â”€ application.properties       <span class="hljs-comment"># é…ç½®æ–‡ä»¶</span>
â”‚   â””â”€â”€ <span class="hljs-built_in">test</span>/                                 <span class="hljs-comment"># æµ‹è¯•ä»£ç </span>
â””â”€â”€ pom.xml                                   <span class="hljs-comment"># Maven ä¾èµ–é…ç½®</span>
</code></pre>
<h4 data-id="heading-7">æ ¸å¿ƒæ–‡ä»¶è¯´æ˜</h4>
<p><strong>1. pom.xml</strong> - Maven ä¾èµ–ç®¡ç†</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span>
         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0 
         http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- ç»§æ‰¿ Spring Boot çˆ¶é¡¹ç›® --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.7.14<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">relativePath</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.example<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>todo-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>Todo API<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">java.version</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">java.version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- Spring Webï¼šæ„å»º RESTful API --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Spring Data JPAï¼šæ•°æ®è®¿é—® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- H2 æ•°æ®åº“ï¼šå†…å­˜æ•°æ®åº“ï¼Œé€‚åˆå¼€å‘æµ‹è¯• --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.h2database<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>h2<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>runtime<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Lombokï¼šç®€åŒ–ä»£ç  --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">optional</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">optional</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æµ‹è¯•ä¾èµ– --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre>
<p><strong>2. TodoApiApplication.java</strong> - ä¸»å¯åŠ¨ç±»</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.todoapi;

<span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;
<span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;

<span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TodoApiApplication</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        SpringApplication.run(TodoApiApplication.class, args);
    }
}
</code></pre>
<p><strong>å…³é”®æ³¨è§£è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>@SpringBootApplication</code>ï¼šè¿™æ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£ï¼ŒåŒ…å«ï¼š
<ul>
<li><code>@Configuration</code>ï¼šæ ‡è¯†è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»</li>
<li><code>@EnableAutoConfiguration</code>ï¼šå¯ç”¨è‡ªåŠ¨é…ç½®</li>
<li><code>@ComponentScan</code>ï¼šè‡ªåŠ¨æ‰«æç»„ä»¶</li>
</ul>
</li>
</ul>
<h3 data-id="heading-8">ğŸ¨ ç¬¬äºŒæ­¥ï¼šç†è§£ Spring Boot æ ¸å¿ƒæ¦‚å¿µ</h3>
<h4 data-id="heading-9">1. è‡ªåŠ¨é…ç½®ï¼ˆAuto Configurationï¼‰</h4>
<p>Spring Boot ä¼šæ ¹æ®ç±»è·¯å¾„ä¸­çš„ä¾èµ–è‡ªåŠ¨é…ç½®åº”ç”¨ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>å¦‚æœç±»è·¯å¾„ä¸­æœ‰ H2 æ•°æ®åº“ï¼Œä¼šè‡ªåŠ¨é…ç½®æ•°æ®æº</li>
<li>å¦‚æœç±»è·¯å¾„ä¸­æœ‰ Spring Webï¼Œä¼šè‡ªåŠ¨é…ç½® Web æœåŠ¡å™¨ï¼ˆé»˜è®¤ Tomcatï¼‰</li>
</ul>
<h4 data-id="heading-10">2. èµ·æ­¥ä¾èµ–ï¼ˆStarter Dependenciesï¼‰</h4>
<p>èµ·æ­¥ä¾èµ–æ˜¯ä¸€ç»„é¢„å®šä¹‰çš„ä¾èµ–ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><code>spring-boot-starter-web</code>ï¼šåŒ…å« Web å¼€å‘æ‰€éœ€çš„æ‰€æœ‰ä¾èµ–</li>
<li><code>spring-boot-starter-data-jpa</code>ï¼šåŒ…å« JPA æ•°æ®è®¿é—®æ‰€éœ€çš„æ‰€æœ‰ä¾èµ–</li>
</ul>
<h4 data-id="heading-11">3. åˆ†å±‚æ¶æ„</h4>
<p>Spring Boot é¡¹ç›®é€šå¸¸é‡‡ç”¨åˆ†å±‚æ¶æ„ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">Controller å±‚ â†’ Service å±‚ â†’ Repository å±‚ â†’ Entity å±‚
<span class="hljs-code">    â†“              â†“              â†“              â†“
  æ¥æ”¶è¯·æ±‚      ä¸šåŠ¡é€»è¾‘      æ•°æ®è®¿é—®        æ•°æ®æ¨¡å‹
</span></code></pre>
<h3 data-id="heading-12">ğŸ—ï¸ ç¬¬ä¸‰æ­¥ï¼šæ„å»ºå¾…åŠäº‹é¡¹ API</h3>
<p>è®©æˆ‘ä»¬æ„å»ºä¸€ä¸ªå®Œæ•´çš„å¾…åŠäº‹é¡¹ç®¡ç† APIï¼ŒåŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ul>
<li>åˆ›å»ºå¾…åŠäº‹é¡¹</li>
<li>æŸ¥è¯¢æ‰€æœ‰å¾…åŠäº‹é¡¹</li>
<li>æ ¹æ® ID æŸ¥è¯¢å¾…åŠäº‹é¡¹</li>
<li>æ›´æ–°å¾…åŠäº‹é¡¹</li>
<li>åˆ é™¤å¾…åŠäº‹é¡¹</li>
<li>æ ‡è®°å¾…åŠäº‹é¡¹ä¸ºå®Œæˆ</li>
</ul>
<h4 data-id="heading-13">1. åˆ›å»ºå®ä½“ç±»ï¼ˆEntityï¼‰</h4>
<p>å®ä½“ç±»å¯¹åº”æ•°æ®åº“è¡¨ï¼Œä½¿ç”¨ JPA æ³¨è§£ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.todoapi.entity;

<span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> javax.persistence.*;
<span class="hljs-keyword">import</span> java.time.LocalDateTime;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "todos")</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Todo</span> {
    
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;
    
    <span class="hljs-meta">@Column(nullable = false, length = 200)</span>
    <span class="hljs-keyword">private</span> String title;
    
    <span class="hljs-meta">@Column(length = 1000)</span>
    <span class="hljs-keyword">private</span> String description;
    
    <span class="hljs-meta">@Column(nullable = false)</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">Boolean</span> <span class="hljs-variable">completed</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    
    <span class="hljs-meta">@Column(name = "created_at", nullable = false)</span>
    <span class="hljs-keyword">private</span> LocalDateTime createdAt;
    
    <span class="hljs-meta">@Column(name = "updated_at")</span>
    <span class="hljs-keyword">private</span> LocalDateTime updatedAt;
    
    <span class="hljs-comment">// åœ¨ä¿å­˜å‰è‡ªåŠ¨è®¾ç½®åˆ›å»ºæ—¶é—´</span>
    <span class="hljs-meta">@PrePersist</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">()</span> {
        createdAt = LocalDateTime.now();
        updatedAt = LocalDateTime.now();
    }
    
    <span class="hljs-comment">// åœ¨æ›´æ–°å‰è‡ªåŠ¨è®¾ç½®æ›´æ–°æ—¶é—´</span>
    <span class="hljs-meta">@PreUpdate</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onUpdate</span><span class="hljs-params">()</span> {
        updatedAt = LocalDateTime.now();
    }
}
</code></pre>
<p><strong>æ³¨è§£è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>@Entity</code>ï¼šæ ‡è¯†è¿™æ˜¯ä¸€ä¸ª JPA å®ä½“</li>
<li><code>@Table</code>ï¼šæŒ‡å®šæ•°æ®åº“è¡¨å</li>
<li><code>@Id</code>ï¼šæ ‡è¯†ä¸»é”®</li>
<li><code>@GeneratedValue</code>ï¼šä¸»é”®ç”Ÿæˆç­–ç•¥ï¼ˆIDENTITY è¡¨ç¤ºè‡ªå¢ï¼‰</li>
<li><code>@Column</code>ï¼šæŒ‡å®šåˆ—å±æ€§</li>
<li><code>@PrePersist</code>ï¼šä¿å­˜å‰æ‰§è¡Œ</li>
<li><code>@PreUpdate</code>ï¼šæ›´æ–°å‰æ‰§è¡Œ</li>
<li><code>@Data</code>ï¼šLombok æ³¨è§£ï¼Œè‡ªåŠ¨ç”Ÿæˆ getter/setter/toString ç­‰æ–¹æ³•</li>
</ul>
<h4 data-id="heading-14">2. åˆ›å»º Repository æ¥å£</h4>
<p>Repository è´Ÿè´£æ•°æ®è®¿é—®ï¼Œç»§æ‰¿ <code>JpaRepository</code> å³å¯è·å¾—åŸºæœ¬çš„ CRUD æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.todoapi.repository;

<span class="hljs-keyword">import</span> com.example.todoapi.entity.Todo;
<span class="hljs-keyword">import</span> org.springframework.data.jpa.repository.JpaRepository;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Repository;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-meta">@Repository</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">TodoRepository</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">JpaRepository</span>&lt;Todo, Long&gt; {
    
    <span class="hljs-comment">// æ ¹æ®å®ŒæˆçŠ¶æ€æŸ¥è¯¢</span>
    List&lt;Todo&gt; <span class="hljs-title function_">findByCompleted</span><span class="hljs-params">(Boolean completed)</span>;
    
    <span class="hljs-comment">// æ ¹æ®æ ‡é¢˜æ¨¡ç³ŠæŸ¥è¯¢</span>
    List&lt;Todo&gt; <span class="hljs-title function_">findByTitleContaining</span><span class="hljs-params">(String title)</span>;
}
</code></pre>
<p><strong>æ–¹æ³•å‘½åè§„åˆ™ï¼š</strong></p>
<ul>
<li><code>findBy</code> + å±æ€§åï¼šæ ¹æ®å±æ€§æŸ¥è¯¢</li>
<li><code>findBy</code> + å±æ€§å + <code>Containing</code>ï¼šæ¨¡ç³ŠæŸ¥è¯¢</li>
<li>Spring Data JPA ä¼šæ ¹æ®æ–¹æ³•åè‡ªåŠ¨ç”Ÿæˆ SQL</li>
</ul>
<h4 data-id="heading-15">3. åˆ›å»º Service å±‚</h4>
<p>Service å±‚åŒ…å«ä¸šåŠ¡é€»è¾‘ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.todoapi.service;

<span class="hljs-keyword">import</span> com.example.todoapi.entity.Todo;
<span class="hljs-keyword">import</span> com.example.todoapi.repository.TodoRepository;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Service;
<span class="hljs-keyword">import</span> org.springframework.transaction.annotation.Transactional;

<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.Optional;

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TodoService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> TodoRepository todoRepository;
    
    <span class="hljs-comment">/**
     * è·å–æ‰€æœ‰å¾…åŠäº‹é¡¹
     */</span>
    <span class="hljs-keyword">public</span> List&lt;Todo&gt; <span class="hljs-title function_">getAllTodos</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> todoRepository.findAll();
    }
    
    <span class="hljs-comment">/**
     * æ ¹æ® ID è·å–å¾…åŠäº‹é¡¹
     */</span>
    <span class="hljs-keyword">public</span> Todo <span class="hljs-title function_">getTodoById</span><span class="hljs-params">(Long id)</span> {
        Optional&lt;Todo&gt; todo = todoRepository.findById(id);
        <span class="hljs-keyword">if</span> (todo.isPresent()) {
            <span class="hljs-keyword">return</span> todo.get();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"å¾…åŠäº‹é¡¹ä¸å­˜åœ¨ï¼ŒID: "</span> + id);
        }
    }
    
    <span class="hljs-comment">/**
     * åˆ›å»ºå¾…åŠäº‹é¡¹
     */</span>
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> Todo <span class="hljs-title function_">createTodo</span><span class="hljs-params">(Todo todo)</span> {
        <span class="hljs-keyword">return</span> todoRepository.save(todo);
    }
    
    <span class="hljs-comment">/**
     * æ›´æ–°å¾…åŠäº‹é¡¹
     */</span>
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> Todo <span class="hljs-title function_">updateTodo</span><span class="hljs-params">(Long id, Todo todoDetails)</span> {
        <span class="hljs-type">Todo</span> <span class="hljs-variable">todo</span> <span class="hljs-operator">=</span> getTodoById(id);
        todo.setTitle(todoDetails.getTitle());
        todo.setDescription(todoDetails.getDescription());
        todo.setCompleted(todoDetails.getCompleted());
        <span class="hljs-keyword">return</span> todoRepository.save(todo);
    }
    
    <span class="hljs-comment">/**
     * åˆ é™¤å¾…åŠäº‹é¡¹
     */</span>
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteTodo</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-type">Todo</span> <span class="hljs-variable">todo</span> <span class="hljs-operator">=</span> getTodoById(id);
        todoRepository.delete(todo);
    }
    
    <span class="hljs-comment">/**
     * æ ‡è®°ä¸ºå®Œæˆ
     */</span>
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> Todo <span class="hljs-title function_">markAsCompleted</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-type">Todo</span> <span class="hljs-variable">todo</span> <span class="hljs-operator">=</span> getTodoById(id);
        todo.setCompleted(<span class="hljs-literal">true</span>);
        <span class="hljs-keyword">return</span> todoRepository.save(todo);
    }
    
    <span class="hljs-comment">/**
     * æ ¹æ®å®ŒæˆçŠ¶æ€æŸ¥è¯¢
     */</span>
    <span class="hljs-keyword">public</span> List&lt;Todo&gt; <span class="hljs-title function_">getTodosByStatus</span><span class="hljs-params">(Boolean completed)</span> {
        <span class="hljs-keyword">return</span> todoRepository.findByCompleted(completed);
    }
}
</code></pre>
<p><strong>æ³¨è§£è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>@Service</code>ï¼šæ ‡è¯†è¿™æ˜¯ä¸€ä¸ªæœåŠ¡ç±»</li>
<li><code>@Autowired</code>ï¼šè‡ªåŠ¨æ³¨å…¥ä¾èµ–ï¼ˆSpring çš„ä¾èµ–æ³¨å…¥ï¼‰</li>
<li><code>@Transactional</code>ï¼šæ ‡è¯†æ–¹æ³•éœ€è¦äº‹åŠ¡æ”¯æŒ</li>
</ul>
<h4 data-id="heading-16">4. åˆ›å»º Controller å±‚</h4>
<p>Controller å±‚å¤„ç† HTTP è¯·æ±‚ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.todoapi.controller;

<span class="hljs-keyword">import</span> com.example.todoapi.entity.Todo;
<span class="hljs-keyword">import</span> com.example.todoapi.service.TodoService;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.http.HttpStatus;
<span class="hljs-keyword">import</span> org.springframework.http.ResponseEntity;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.*;

<span class="hljs-keyword">import</span> java.util.HashMap;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/api/todos")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TodoController</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> TodoService todoService;
    
    <span class="hljs-comment">/**
     * è·å–æ‰€æœ‰å¾…åŠäº‹é¡¹
     * GET /api/todos
     */</span>
    <span class="hljs-meta">@GetMapping</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;Map&lt;String, Object&gt;&gt; <span class="hljs-title function_">getAllTodos</span><span class="hljs-params">(
            <span class="hljs-meta">@RequestParam(required = false)</span> Boolean completed)</span> {
        <span class="hljs-keyword">try</span> {
            List&lt;Todo&gt; todos;
            <span class="hljs-keyword">if</span> (completed != <span class="hljs-literal">null</span>) {
                todos = todoService.getTodosByStatus(completed);
            } <span class="hljs-keyword">else</span> {
                todos = todoService.getAllTodos();
            }
            
            Map&lt;String, Object&gt; response = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
            response.put(<span class="hljs-string">"success"</span>, <span class="hljs-literal">true</span>);
            response.put(<span class="hljs-string">"data"</span>, todos);
            response.put(<span class="hljs-string">"count"</span>, todos.size());
            
            <span class="hljs-keyword">return</span> ResponseEntity.ok(response);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">return</span> ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)
                    .body(createErrorResponse(e.getMessage()));
        }
    }
    
    <span class="hljs-comment">/**
     * æ ¹æ® ID è·å–å¾…åŠäº‹é¡¹
     * GET /api/todos/{id}
     */</span>
    <span class="hljs-meta">@GetMapping("/{id}")</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;Map&lt;String, Object&gt;&gt; <span class="hljs-title function_">getTodoById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Todo</span> <span class="hljs-variable">todo</span> <span class="hljs-operator">=</span> todoService.getTodoById(id);
            Map&lt;String, Object&gt; response = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
            response.put(<span class="hljs-string">"success"</span>, <span class="hljs-literal">true</span>);
            response.put(<span class="hljs-string">"data"</span>, todo);
            <span class="hljs-keyword">return</span> ResponseEntity.ok(response);
        } <span class="hljs-keyword">catch</span> (RuntimeException e) {
            <span class="hljs-keyword">return</span> ResponseEntity.status(HttpStatus.NOT_FOUND)
                    .body(createErrorResponse(e.getMessage()));
        }
    }
    
    <span class="hljs-comment">/**
     * åˆ›å»ºå¾…åŠäº‹é¡¹
     * POST /api/todos
     */</span>
    <span class="hljs-meta">@PostMapping</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;Map&lt;String, Object&gt;&gt; <span class="hljs-title function_">createTodo</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> Todo todo)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Todo</span> <span class="hljs-variable">createdTodo</span> <span class="hljs-operator">=</span> todoService.createTodo(todo);
            Map&lt;String, Object&gt; response = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
            response.put(<span class="hljs-string">"success"</span>, <span class="hljs-literal">true</span>);
            response.put(<span class="hljs-string">"message"</span>, <span class="hljs-string">"å¾…åŠäº‹é¡¹åˆ›å»ºæˆåŠŸ"</span>);
            response.put(<span class="hljs-string">"data"</span>, createdTodo);
            <span class="hljs-keyword">return</span> ResponseEntity.status(HttpStatus.CREATED).body(response);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">return</span> ResponseEntity.status(HttpStatus.BAD_REQUEST)
                    .body(createErrorResponse(e.getMessage()));
        }
    }
    
    <span class="hljs-comment">/**
     * æ›´æ–°å¾…åŠäº‹é¡¹
     * PUT /api/todos/{id}
     */</span>
    <span class="hljs-meta">@PutMapping("/{id}")</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;Map&lt;String, Object&gt;&gt; <span class="hljs-title function_">updateTodo</span><span class="hljs-params">(
            <span class="hljs-meta">@PathVariable</span> Long id, 
            <span class="hljs-meta">@RequestBody</span> Todo todoDetails)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Todo</span> <span class="hljs-variable">updatedTodo</span> <span class="hljs-operator">=</span> todoService.updateTodo(id, todoDetails);
            Map&lt;String, Object&gt; response = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
            response.put(<span class="hljs-string">"success"</span>, <span class="hljs-literal">true</span>);
            response.put(<span class="hljs-string">"message"</span>, <span class="hljs-string">"å¾…åŠäº‹é¡¹æ›´æ–°æˆåŠŸ"</span>);
            response.put(<span class="hljs-string">"data"</span>, updatedTodo);
            <span class="hljs-keyword">return</span> ResponseEntity.ok(response);
        } <span class="hljs-keyword">catch</span> (RuntimeException e) {
            <span class="hljs-keyword">return</span> ResponseEntity.status(HttpStatus.NOT_FOUND)
                    .body(createErrorResponse(e.getMessage()));
        }
    }
    
    <span class="hljs-comment">/**
     * åˆ é™¤å¾…åŠäº‹é¡¹
     * DELETE /api/todos/{id}
     */</span>
    <span class="hljs-meta">@DeleteMapping("/{id}")</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;Map&lt;String, Object&gt;&gt; <span class="hljs-title function_">deleteTodo</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id)</span> {
        <span class="hljs-keyword">try</span> {
            todoService.deleteTodo(id);
            Map&lt;String, Object&gt; response = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
            response.put(<span class="hljs-string">"success"</span>, <span class="hljs-literal">true</span>);
            response.put(<span class="hljs-string">"message"</span>, <span class="hljs-string">"å¾…åŠäº‹é¡¹åˆ é™¤æˆåŠŸ"</span>);
            <span class="hljs-keyword">return</span> ResponseEntity.ok(response);
        } <span class="hljs-keyword">catch</span> (RuntimeException e) {
            <span class="hljs-keyword">return</span> ResponseEntity.status(HttpStatus.NOT_FOUND)
                    .body(createErrorResponse(e.getMessage()));
        }
    }
    
    <span class="hljs-comment">/**
     * æ ‡è®°ä¸ºå®Œæˆ
     * PATCH /api/todos/{id}/complete
     */</span>
    <span class="hljs-meta">@PatchMapping("/{id}/complete")</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;Map&lt;String, Object&gt;&gt; <span class="hljs-title function_">markAsCompleted</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Todo</span> <span class="hljs-variable">todo</span> <span class="hljs-operator">=</span> todoService.markAsCompleted(id);
            Map&lt;String, Object&gt; response = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
            response.put(<span class="hljs-string">"success"</span>, <span class="hljs-literal">true</span>);
            response.put(<span class="hljs-string">"message"</span>, <span class="hljs-string">"å¾…åŠäº‹é¡¹å·²æ ‡è®°ä¸ºå®Œæˆ"</span>);
            response.put(<span class="hljs-string">"data"</span>, todo);
            <span class="hljs-keyword">return</span> ResponseEntity.ok(response);
        } <span class="hljs-keyword">catch</span> (RuntimeException e) {
            <span class="hljs-keyword">return</span> ResponseEntity.status(HttpStatus.NOT_FOUND)
                    .body(createErrorResponse(e.getMessage()));
        }
    }
    
    <span class="hljs-comment">/**
     * åˆ›å»ºé”™è¯¯å“åº”
     */</span>
    <span class="hljs-keyword">private</span> Map&lt;String, Object&gt; <span class="hljs-title function_">createErrorResponse</span><span class="hljs-params">(String message)</span> {
        Map&lt;String, Object&gt; response = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        response.put(<span class="hljs-string">"success"</span>, <span class="hljs-literal">false</span>);
        response.put(<span class="hljs-string">"message"</span>, message);
        <span class="hljs-keyword">return</span> response;
    }
}
</code></pre>
<p><strong>æ³¨è§£è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>@RestController</code>ï¼šç»„åˆäº† <code>@Controller</code> å’Œ <code>@ResponseBody</code>ï¼Œè¿”å› JSON æ•°æ®</li>
<li><code>@RequestMapping</code>ï¼šå®šä¹‰åŸºç¡€è·¯å¾„</li>
<li><code>@GetMapping</code>ï¼šå¤„ç† GET è¯·æ±‚</li>
<li><code>@PostMapping</code>ï¼šå¤„ç† POST è¯·æ±‚</li>
<li><code>@PutMapping</code>ï¼šå¤„ç† PUT è¯·æ±‚</li>
<li><code>@DeleteMapping</code>ï¼šå¤„ç† DELETE è¯·æ±‚</li>
<li><code>@PatchMapping</code>ï¼šå¤„ç† PATCH è¯·æ±‚</li>
<li><code>@PathVariable</code>ï¼šè·å–è·¯å¾„å˜é‡</li>
<li><code>@RequestParam</code>ï¼šè·å–æŸ¥è¯¢å‚æ•°</li>
<li><code>@RequestBody</code>ï¼šè·å–è¯·æ±‚ä½“ï¼ˆJSONï¼‰</li>
</ul>
<h4 data-id="heading-17">5. é…ç½® application.properties</h4>
<p>åœ¨ <code>src/main/resources/application.properties</code> ä¸­æ·»åŠ é…ç½®ï¼š</p>
<pre><code class="hljs language-properties" lang="properties"># æœåŠ¡å™¨é…ç½®
server.port=8080

# åº”ç”¨åç§°
spring.application.name=todo-api

# H2 æ•°æ®åº“é…ç½®
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA é…ç½®
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# H2 æ§åˆ¶å°ï¼ˆå¼€å‘ç¯å¢ƒä½¿ç”¨ï¼‰
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
</code></pre>
<p><strong>é…ç½®è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>server.port</code>ï¼šæœåŠ¡å™¨ç«¯å£</li>
<li><code>spring.jpa.hibernate.ddl-auto=update</code>ï¼šè‡ªåŠ¨æ›´æ–°æ•°æ®åº“è¡¨ç»“æ„</li>
<li><code>spring.jpa.show-sql=true</code>ï¼šæ˜¾ç¤º SQL è¯­å¥ï¼ˆå¼€å‘ç¯å¢ƒï¼‰</li>
<li><code>spring.h2.console.enabled=true</code>ï¼šå¯ç”¨ H2 æ§åˆ¶å°ï¼Œå¯é€šè¿‡æµè§ˆå™¨è®¿é—®æ•°æ®åº“</li>
</ul>
<h3 data-id="heading-18">ğŸš€ ç¬¬å››æ­¥ï¼šè¿è¡Œå’Œæµ‹è¯•</h3>
<h4 data-id="heading-19">1. è¿è¡Œåº”ç”¨</h4>
<p><strong>æ–¹å¼ä¸€ï¼šä½¿ç”¨ IDE</strong></p>
<ul>
<li>å³é”®ç‚¹å‡» <code>TodoApiApplication.java</code> â†’ Run</li>
</ul>
<p><strong>æ–¹å¼äºŒï¼šä½¿ç”¨ Maven</strong></p>
<pre><code class="hljs language-bash" lang="bash">mvn spring-boot:run
</code></pre>
<p><strong>æ–¹å¼ä¸‰ï¼šæ‰“åŒ…åè¿è¡Œ</strong></p>
<pre><code class="hljs language-bash" lang="bash">mvn clean package
java -jar target/todo-api-1.0.0.jar
</code></pre>
<p>å¯åŠ¨æˆåŠŸåï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š</p>
<pre><code class="hljs">Started TodoApiApplication in 2.345 seconds
</code></pre>
<h4 data-id="heading-20">2. æµ‹è¯• API</h4>
<h5 data-id="heading-21">ä½¿ç”¨ curl æµ‹è¯•</h5>
<p><strong>åˆ›å»ºå¾…åŠäº‹é¡¹ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">curl -X POST http://localhost:8080/api/todos \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-string">'{
    "title": "å­¦ä¹  Spring Boot",
    "description": "å®Œæˆ Spring Boot å…¥é—¨æ•™ç¨‹",
    "completed": false
  }'</span>
</code></pre>
<p><strong>è·å–æ‰€æœ‰å¾…åŠäº‹é¡¹ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">curl http://localhost:8080/api/todos
</code></pre>
<p><strong>æ ¹æ® ID è·å–å¾…åŠäº‹é¡¹ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">curl http://localhost:8080/api/todos/1
</code></pre>
<p><strong>æ›´æ–°å¾…åŠäº‹é¡¹ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">curl -X PUT http://localhost:8080/api/todos/1 \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-string">'{
    "title": "å­¦ä¹  Spring Bootï¼ˆå·²æ›´æ–°ï¼‰",
    "description": "å®Œæˆ Spring Boot å…¥é—¨æ•™ç¨‹",
    "completed": false
  }'</span>
</code></pre>
<p><strong>æ ‡è®°ä¸ºå®Œæˆï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">curl -X PATCH http://localhost:8080/api/todos/1/complete
</code></pre>
<p><strong>åˆ é™¤å¾…åŠäº‹é¡¹ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">curl -X DELETE http://localhost:8080/api/todos/1
</code></pre>
<h5 data-id="heading-22">ä½¿ç”¨ Postman æµ‹è¯•</h5>
<ol>
<li>æ‰“å¼€ Postman</li>
<li>åˆ›å»ºæ–°çš„è¯·æ±‚</li>
<li>é€‰æ‹©è¯·æ±‚æ–¹æ³•ï¼ˆGETã€POSTã€PUTã€DELETEï¼‰</li>
<li>è¾“å…¥ URLï¼š<code>http://localhost:8080/api/todos</code></li>
<li>å¯¹äº POST/PUT è¯·æ±‚ï¼Œåœ¨ Body ä¸­é€‰æ‹© raw â†’ JSONï¼Œè¾“å…¥ JSON æ•°æ®</li>
<li>ç‚¹å‡» Send</li>
</ol>
<h4 data-id="heading-23">3. è®¿é—® H2 æ§åˆ¶å°</h4>
<ol>
<li>æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼š<code>http://localhost:8080/h2-console</code></li>
<li>è¿æ¥ä¿¡æ¯ï¼š
<ul>
<li>JDBC URL: <code>jdbc:h2:mem:testdb</code></li>
<li>ç”¨æˆ·å: <code>sa</code></li>
<li>å¯†ç : ï¼ˆç•™ç©ºï¼‰</li>
</ul>
</li>
<li>ç‚¹å‡» Connectï¼Œå¯ä»¥æŸ¥çœ‹æ•°æ®åº“ä¸­çš„æ•°æ®</li>
</ol>
<h3 data-id="heading-24">ğŸ“ ç¬¬äº”æ­¥ï¼šæ·»åŠ å‚æ•°éªŒè¯</h3>
<p>è®©æˆ‘ä»¬ä¸º API æ·»åŠ å‚æ•°éªŒè¯ï¼Œç¡®ä¿æ•°æ®çš„æœ‰æ•ˆæ€§ï¼š</p>
<h4 data-id="heading-25">1. æ·»åŠ éªŒè¯ä¾èµ–</h4>
<p>åœ¨ <code>pom.xml</code> ä¸­æ·»åŠ ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-validation<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h4 data-id="heading-26">2. æ›´æ–°å®ä½“ç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.todoapi.entity;

<span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> javax.persistence.*;
<span class="hljs-keyword">import</span> javax.validation.constraints.NotBlank;
<span class="hljs-keyword">import</span> javax.validation.constraints.Size;
<span class="hljs-keyword">import</span> java.time.LocalDateTime;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "todos")</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Todo</span> {
    
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;
    
    <span class="hljs-meta">@NotBlank(message = "æ ‡é¢˜ä¸èƒ½ä¸ºç©º")</span>
    <span class="hljs-meta">@Size(max = 200, message = "æ ‡é¢˜é•¿åº¦ä¸èƒ½è¶…è¿‡200ä¸ªå­—ç¬¦")</span>
    <span class="hljs-meta">@Column(nullable = false, length = 200)</span>
    <span class="hljs-keyword">private</span> String title;
    
    <span class="hljs-meta">@Size(max = 1000, message = "æè¿°é•¿åº¦ä¸èƒ½è¶…è¿‡1000ä¸ªå­—ç¬¦")</span>
    <span class="hljs-meta">@Column(length = 1000)</span>
    <span class="hljs-keyword">private</span> String description;
    
    <span class="hljs-meta">@Column(nullable = false)</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">Boolean</span> <span class="hljs-variable">completed</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    
    <span class="hljs-meta">@Column(name = "created_at", nullable = false)</span>
    <span class="hljs-keyword">private</span> LocalDateTime createdAt;
    
    <span class="hljs-meta">@Column(name = "updated_at")</span>
    <span class="hljs-keyword">private</span> LocalDateTime updatedAt;
    
    <span class="hljs-meta">@PrePersist</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">()</span> {
        createdAt = LocalDateTime.now();
        updatedAt = LocalDateTime.now();
    }
    
    <span class="hljs-meta">@PreUpdate</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onUpdate</span><span class="hljs-params">()</span> {
        updatedAt = LocalDateTime.now();
    }
}
</code></pre>
<h4 data-id="heading-27">3. æ›´æ–° Controller</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@PostMapping</span>
<span class="hljs-keyword">public</span> ResponseEntity&lt;Map&lt;String, Object&gt;&gt; <span class="hljs-title function_">createTodo</span><span class="hljs-params">(
        <span class="hljs-meta">@Valid</span> <span class="hljs-meta">@RequestBody</span> Todo todo)</span> {  <span class="hljs-comment">// æ·»åŠ  @Valid æ³¨è§£</span>
    <span class="hljs-keyword">try</span> {
        <span class="hljs-type">Todo</span> <span class="hljs-variable">createdTodo</span> <span class="hljs-operator">=</span> todoService.createTodo(todo);
        Map&lt;String, Object&gt; response = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        response.put(<span class="hljs-string">"success"</span>, <span class="hljs-literal">true</span>);
        response.put(<span class="hljs-string">"message"</span>, <span class="hljs-string">"å¾…åŠäº‹é¡¹åˆ›å»ºæˆåŠŸ"</span>);
        response.put(<span class="hljs-string">"data"</span>, createdTodo);
        <span class="hljs-keyword">return</span> ResponseEntity.status(HttpStatus.CREATED).body(response);
    } <span class="hljs-keyword">catch</span> (Exception e) {
        <span class="hljs-keyword">return</span> ResponseEntity.status(HttpStatus.BAD_REQUEST)
                .body(createErrorResponse(e.getMessage()));
    }
}
</code></pre>
<h4 data-id="heading-28">4. æ·»åŠ å…¨å±€å¼‚å¸¸å¤„ç†</h4>
<p>åˆ›å»ºå¼‚å¸¸å¤„ç†ç±»ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.todoapi.exception;

<span class="hljs-keyword">import</span> org.springframework.http.HttpStatus;
<span class="hljs-keyword">import</span> org.springframework.http.ResponseEntity;
<span class="hljs-keyword">import</span> org.springframework.web.bind.MethodArgumentNotValidException;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.ControllerAdvice;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.ExceptionHandler;

<span class="hljs-keyword">import</span> java.util.HashMap;
<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-meta">@ControllerAdvice</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GlobalExceptionHandler</span> {
    
    <span class="hljs-comment">/**
     * å¤„ç†å‚æ•°éªŒè¯å¼‚å¸¸
     */</span>
    <span class="hljs-meta">@ExceptionHandler(MethodArgumentNotValidException.class)</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;Map&lt;String, Object&gt;&gt; <span class="hljs-title function_">handleValidationException</span><span class="hljs-params">(
            MethodArgumentNotValidException e)</span> {
        Map&lt;String, Object&gt; response = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        response.put(<span class="hljs-string">"success"</span>, <span class="hljs-literal">false</span>);
        response.put(<span class="hljs-string">"message"</span>, <span class="hljs-string">"å‚æ•°éªŒè¯å¤±è´¥"</span>);
        
        Map&lt;String, String&gt; errors = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        e.getBindingResult().getFieldErrors().forEach(error -&gt; {
            errors.put(error.getField(), error.getDefaultMessage());
        });
        response.put(<span class="hljs-string">"errors"</span>, errors);
        
        <span class="hljs-keyword">return</span> ResponseEntity.status(HttpStatus.BAD_REQUEST).body(response);
    }
    
    <span class="hljs-comment">/**
     * å¤„ç†è¿è¡Œæ—¶å¼‚å¸¸
     */</span>
    <span class="hljs-meta">@ExceptionHandler(RuntimeException.class)</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;Map&lt;String, Object&gt;&gt; <span class="hljs-title function_">handleRuntimeException</span><span class="hljs-params">(
            RuntimeException e)</span> {
        Map&lt;String, Object&gt; response = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        response.put(<span class="hljs-string">"success"</span>, <span class="hljs-literal">false</span>);
        response.put(<span class="hljs-string">"message"</span>, e.getMessage());
        <span class="hljs-keyword">return</span> ResponseEntity.status(HttpStatus.BAD_REQUEST).body(response);
    }
}
</code></pre>
<p><strong>æ³¨è§£è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>@ControllerAdvice</code>ï¼šå…¨å±€å¼‚å¸¸å¤„ç†</li>
<li><code>@ExceptionHandler</code>ï¼šå¤„ç†ç‰¹å®šå¼‚å¸¸</li>
</ul>
<h3 data-id="heading-29">ğŸ¯ æ ¸å¿ƒæ¦‚å¿µæ€»ç»“</h3>
<h4 data-id="heading-30">1. ä¾èµ–æ³¨å…¥ï¼ˆDependency Injectionï¼‰</h4>
<p>Spring é€šè¿‡ <code>@Autowired</code> è‡ªåŠ¨æ³¨å…¥ä¾èµ–ï¼Œæ— éœ€æ‰‹åŠ¨åˆ›å»ºå¯¹è±¡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TodoController</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> TodoService todoService;  <span class="hljs-comment">// Spring è‡ªåŠ¨æ³¨å…¥</span>
}
</code></pre>
<h4 data-id="heading-31">2. æ³¨è§£é©±åŠ¨å¼€å‘</h4>
<p>Spring Boot å¤§é‡ä½¿ç”¨æ³¨è§£ï¼Œå‡å°‘é…ç½®ï¼š</p>





































<table><thead><tr><th>æ³¨è§£</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>@SpringBootApplication</code></td><td>å¯åŠ¨ç±»</td></tr><tr><td><code>@RestController</code></td><td>REST æ§åˆ¶å™¨</td></tr><tr><td><code>@Service</code></td><td>æœåŠ¡å±‚</td></tr><tr><td><code>@Repository</code></td><td>æ•°æ®è®¿é—®å±‚</td></tr><tr><td><code>@Entity</code></td><td>JPA å®ä½“</td></tr><tr><td><code>@Autowired</code></td><td>ä¾èµ–æ³¨å…¥</td></tr><tr><td><code>@Transactional</code></td><td>äº‹åŠ¡ç®¡ç†</td></tr></tbody></table>
<h4 data-id="heading-32">3. RESTful API è®¾è®¡</h4>
<p>éµå¾ª REST è§„èŒƒï¼š</p>



































<table><thead><tr><th>HTTP æ–¹æ³•</th><th>ç”¨é€”</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>GET</td><td>æŸ¥è¯¢</td><td><code>GET /api/todos</code></td></tr><tr><td>POST</td><td>åˆ›å»º</td><td><code>POST /api/todos</code></td></tr><tr><td>PUT</td><td>æ›´æ–°</td><td><code>PUT /api/todos/{id}</code></td></tr><tr><td>DELETE</td><td>åˆ é™¤</td><td><code>DELETE /api/todos/{id}</code></td></tr><tr><td>PATCH</td><td>éƒ¨åˆ†æ›´æ–°</td><td><code>PATCH /api/todos/{id}/complete</code></td></tr></tbody></table>
<h3 data-id="heading-33">ğŸ”§ å¸¸ç”¨é…ç½®</h3>
<h4 data-id="heading-34">application.properties vs application.yml</h4>
<p><strong>application.propertiesï¼ˆé”®å€¼å¯¹æ ¼å¼ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-properties" lang="properties">server.port=8080
spring.application.name=todo-api
</code></pre>
<p><strong>application.ymlï¼ˆYAML æ ¼å¼ï¼Œæ›´æ˜“è¯»ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">server:</span>
  <span class="hljs-attr">port:</span> <span class="hljs-number">8080</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">application:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">todo-api</span>
</code></pre>
<h4 data-id="heading-35">å¤šç¯å¢ƒé…ç½®</h4>
<p>åˆ›å»ºä¸åŒç¯å¢ƒçš„é…ç½®æ–‡ä»¶ï¼š</p>
<ul>
<li><code>application-dev.properties</code>ï¼šå¼€å‘ç¯å¢ƒ</li>
<li><code>application-prod.properties</code>ï¼šç”Ÿäº§ç¯å¢ƒ</li>
</ul>
<p>åœ¨ <code>application.properties</code> ä¸­æŒ‡å®šæ¿€æ´»çš„ç¯å¢ƒï¼š</p>
<pre><code class="hljs language-properties" lang="properties">spring.profiles.active=dev
</code></pre>
<h3 data-id="heading-36">ğŸš¨ å¸¸è§é—®é¢˜</h3>
<h4 data-id="heading-37">1. ç«¯å£è¢«å ç”¨</h4>
<p><strong>é”™è¯¯ä¿¡æ¯ï¼š</strong> <code>Port 8080 is already in use</code></p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ul>
<li>ä¿®æ”¹ç«¯å£ï¼š<code>server.port=8081</code></li>
<li>æˆ–å…³é—­å ç”¨ç«¯å£çš„ç¨‹åº</li>
</ul>
<h4 data-id="heading-38">2. æ•°æ®åº“è¿æ¥å¤±è´¥</h4>
<p><strong>æ£€æŸ¥ï¼š</strong></p>
<ul>
<li>æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®</li>
<li>æ•°æ®åº“æœåŠ¡æ˜¯å¦å¯åŠ¨</li>
<li>ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®</li>
</ul>
<h4 data-id="heading-39">3. æ‰¾ä¸åˆ°ä¸»ç±»</h4>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ul>
<li>ç¡®ä¿ <code>@SpringBootApplication</code> æ³¨è§£åœ¨ä¸»ç±»ä¸Š</li>
<li>æ£€æŸ¥åŒ…ç»“æ„æ˜¯å¦æ­£ç¡®</li>
</ul>
<h3 data-id="heading-40">ğŸ“š ä¸‹ä¸€æ­¥å­¦ä¹ </h3>
<ol>
<li><strong>è¿æ¥ MySQL æ•°æ®åº“</strong>ï¼šæ›¿æ¢ H2 æ•°æ®åº“</li>
<li><strong>æ·»åŠ ç”¨æˆ·è®¤è¯</strong>ï¼šä½¿ç”¨ Spring Security</li>
<li><strong>æ·»åŠ æ—¥å¿—</strong>ï¼šä½¿ç”¨ Logback æˆ– Log4j2</li>
<li><strong>å•å…ƒæµ‹è¯•</strong>ï¼šä½¿ç”¨ JUnit å’Œ Mockito</li>
<li><strong>API æ–‡æ¡£</strong>ï¼šä½¿ç”¨ Swagger/OpenAPI</li>
<li><strong>éƒ¨ç½²åº”ç”¨</strong>ï¼šDocker å®¹å™¨åŒ–</li>
</ol>
<h3 data-id="heading-41">ğŸ“ æ€»ç»“</h3>
<p>é€šè¿‡æœ¬æ–‡ï¼Œä½ å­¦ä¼šäº†ï¼š</p>
<p>âœ… åˆ›å»º Spring Boot é¡¹ç›®<br/>
âœ… ç†è§£åˆ†å±‚æ¶æ„ï¼ˆController â†’ Service â†’ Repository â†’ Entityï¼‰<br/>
âœ… ä½¿ç”¨ JPA è¿›è¡Œæ•°æ®è®¿é—®<br/>
âœ… æ„å»º RESTful API<br/>
âœ… å‚æ•°éªŒè¯å’Œå¼‚å¸¸å¤„ç†<br/>
âœ… é…ç½®åº”ç”¨</p>
<p><strong>å…³é”®è¦ç‚¹ï¼š</strong></p>
<ul>
<li>Spring Boot é€šè¿‡è‡ªåŠ¨é…ç½®ç®€åŒ–å¼€å‘</li>
<li>åˆ†å±‚æ¶æ„ä½¿ä»£ç æ›´æ¸…æ™°ã€æ˜“ç»´æŠ¤</li>
<li>æ³¨è§£é©±åŠ¨å¼€å‘å‡å°‘æ ·æ¿ä»£ç </li>
<li>RESTful API è®¾è®¡éµå¾ª HTTP è§„èŒƒ</li>
</ul>
<hr/>
<h3 data-id="heading-42">ğŸ“– å‚è€ƒèµ„æº</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fspring.io%2Fprojects%2Fspring-boot" target="_blank" title="https://spring.io/projects/spring-boot" ref="nofollow noopener noreferrer">Spring Boot å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fspring.io%2Fprojects%2Fspring-data-jpa" target="_blank" title="https://spring.io/projects/spring-data-jpa" ref="nofollow noopener noreferrer">Spring Data JPA æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Frestfulapi.net%2F" target="_blank" title="https://restfulapi.net/" ref="nofollow noopener noreferrer">RESTful API è®¾è®¡æŒ‡å—</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3è®¡ç®—å±æ€§ä¸ä¾¦å¬å™¨çš„æ ¸å¿ƒå·®å¼‚æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å¿«é€Ÿé€‰å¯¹ä½¿ç”¨åœºæ™¯ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7573892573346119732</link>    <guid>https://juejin.cn/post/7573892573346119732</guid>    <pubDate>2025-11-18T23:44:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573892573346119732" data-draft-id="7573892573346103348" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3è®¡ç®—å±æ€§ä¸ä¾¦å¬å™¨çš„æ ¸å¿ƒå·®å¼‚æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å¿«é€Ÿé€‰å¯¹ä½¿ç”¨åœºæ™¯ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,Trae,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-11-18T23:44:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="kknone"/> <meta itemprop="url" content="https://juejin.cn/user/1366025597879930"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3è®¡ç®—å±æ€§ä¸ä¾¦å¬å™¨çš„æ ¸å¿ƒå·®å¼‚æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å¿«é€Ÿé€‰å¯¹ä½¿ç”¨åœºæ™¯ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1366025597879930/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    kknone
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T23:44:10.000Z" title="Tue Nov 18 2025 23:44:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">è®¡ç®—å±æ€§ï¼šå“åº”å¼æ•°æ®çš„â€œè¡ç”Ÿå’–å•¡æœºâ€</h3>
<p>åœ¨Vue3ä¸­ï¼Œè®¡ç®—å±æ€§ï¼ˆComputedï¼‰æ˜¯å¤„ç†<strong>è¡ç”Ÿå€¼</strong>çš„â€œç¥å™¨â€â€”â€”å®ƒåŸºäºå“åº”å¼ä¾èµ–è‡ªåŠ¨è®¡ç®—ç»“æœï¼Œå¹¶ç¼“å­˜è¿™ä¸ªç»“æœã€‚åªæœ‰å½“ä¾èµ–çš„å“åº”å¼æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè®¡ç®—å±æ€§æ‰ä¼šé‡æ–°è®¡ç®—ï¼›å¦åˆ™ï¼Œå®ƒä¼šç›´æ¥å¤ç”¨ä¹‹å‰çš„ç¼“å­˜ç»“æœï¼Œé¿å…ä¸å¿…è¦çš„æ€§èƒ½æ¶ˆè€—ã€‚</p>
<h4 data-id="heading-1">æ ¸å¿ƒç‰¹æ€§ï¼šç¼“å­˜ä¸ä¾èµ–è¿½è¸ª</h4>
<p>è®¡ç®—å±æ€§çš„æœ¬è´¨æ˜¯<strong>çº¯å‡½æ•°</strong>ï¼ˆè¾“å…¥ç›¸åŒåˆ™è¾“å‡ºç›¸åŒï¼Œæ— å‰¯ä½œç”¨ï¼‰ï¼Œå®ƒçš„ç¼“å­˜æœºåˆ¶æ˜¯å…¶ä¸æ™®é€šæ–¹æ³•çš„æ ¸å¿ƒåŒºåˆ«ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬éœ€è¦å°†ç”¨æˆ·çš„<code>firstName</code>å’Œ<code>lastName</code>åˆå¹¶ä¸ºå®Œæ•´å§“åï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup&gt;
import { ref, computed } from 'vue'

const firstName = ref('John') // å“åº”å¼ä¾èµ–1
const lastName = ref('Doe')   // å“åº”å¼ä¾èµ–2

// è®¡ç®—å±æ€§ï¼šåŸºäºä¾èµ–è¡ç”Ÿå®Œæ•´å§“å
const fullName = computed(() =&gt; {
  console.log('è®¡ç®—fullName...') // ä»…å½“ä¾èµ–å˜åŒ–æ—¶æ‰“å°
  return `${firstName.value} ${lastName.value}`
})
&lt;/script&gt;

&lt;template&gt;
  &lt;p&gt;{{ fullName }}&lt;/p&gt; &lt;!-- é¦–æ¬¡æ¸²æŸ“æ—¶è®¡ç®—ï¼Œä¹‹åä¾èµ–ä¸å˜åˆ™å¤ç”¨ç¼“å­˜ --&gt;
  &lt;p&gt;{{ fullName }}&lt;/p&gt; &lt;!-- å¤ç”¨ç¼“å­˜ï¼Œä¸é‡æ–°è®¡ç®— --&gt;
&lt;/template&gt;
</code></pre>
<p>è¿è¡Œè¿™æ®µä»£ç ï¼Œä½ ä¼šå‘ç°<code>console.log</code>åªæ‰§è¡Œä¸€æ¬¡â€”â€”å³ä½¿æ¨¡æ¿ä¸­å¤šæ¬¡ä½¿ç”¨<code>fullName</code>ï¼Œè®¡ç®—å±æ€§ä¹Ÿä¸ä¼šé‡å¤è®¡ç®—ã€‚è€Œå¦‚æœç”¨æ™®é€šæ–¹æ³•ï¼ˆ<code>function getFullName() { ... }</code>ï¼‰ï¼Œæ¯æ¬¡æ¸²æŸ“éƒ½ä¼šæ‰§è¡Œå‡½æ•°ï¼Œå½“é¡µé¢å¤æ‚æ—¶ä¼šæ˜æ˜¾å½±å“æ€§èƒ½ã€‚</p>
<h4 data-id="heading-2">å…¸å‹åœºæ™¯ï¼šéœ€è¦ç¼“å­˜çš„è¡ç”Ÿå€¼</h4>
<p>è®¡ç®—å±æ€§é€‚åˆä»¥ä¸‹åœºæ™¯ï¼š</p>
<ul>
<li>å­—ç¬¦ä¸²æ‹¼æ¥ï¼ˆå¦‚<code>fullName</code>ï¼‰</li>
<li>æ•°å€¼è®¡ç®—ï¼ˆå¦‚è´­ç‰©è½¦æ€»ä»·<code>totalPrice</code>ï¼‰</li>
<li>åˆ—è¡¨è¿‡æ»¤ï¼ˆå¦‚<code>filteredList</code>ï¼Œä½†æ³¨æ„ï¼šå¦‚æœåˆ—è¡¨æ˜¯å¤§å‹æ•°ç»„ï¼Œè¿‡æ»¤æ“ä½œæœ¬èº«çš„æ€§èƒ½æ¶ˆè€—å¯èƒ½è¶…è¿‡ç¼“å­˜çš„æ”¶ç›Šï¼Œæ­¤æ—¶éœ€æƒè¡¡ï¼‰</li>
</ul>
<h3 data-id="heading-3">ä¾¦å¬å™¨ï¼šå“åº”å¼æ•°æ®çš„â€œå˜åŒ–æŠ¥è­¦å™¨â€</h3>
<p>å¦‚æœè¯´è®¡ç®—å±æ€§æ˜¯â€œå®‰é™çš„è¡ç”Ÿè€…â€ï¼Œä¾¦å¬å™¨ï¼ˆWatch/WatchEffectï¼‰å°±æ˜¯â€œæ´»è·ƒçš„å“åº”è€…â€â€”â€”å®ƒä¸“é—¨å¤„ç†<strong>å‰¯ä½œç”¨æ“ä½œ</strong>ï¼ˆå¦‚å¼‚æ­¥è¯·æ±‚ã€DOMä¿®æ”¹ã€æ—¥å¿—è®°å½•ç­‰éçº¯å‡½æ•°æ“ä½œï¼‰ã€‚å½“ç›‘å¬çš„å“åº”å¼æ•°æ®å˜åŒ–æ—¶ï¼Œä¾¦å¬å™¨ä¼šè§¦å‘é¢„å…ˆå®šä¹‰çš„å›è°ƒå‡½æ•°ï¼Œæ‰§è¡Œè¿™äº›å‰¯ä½œç”¨ã€‚</p>
<p>Vue3æä¾›ä¸¤ç§ä¾¦å¬å™¨ï¼š<code>watch</code>ï¼ˆç²¾å‡†ç›‘å¬ï¼‰å’Œ<code>watchEffect</code>ï¼ˆè‡ªåŠ¨è¿½è¸ªï¼‰ã€‚</p>
<h4 data-id="heading-4"><code>watch</code>ï¼šç²¾å‡†æ§åˆ¶çš„â€œå®šç‚¹æŠ¥è­¦å™¨â€</h4>
<p><code>watch</code>æ˜¯<strong>æƒ°æ€§</strong>çš„â€”â€”é»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰å½“ç›‘å¬çš„æ•°æ®æºå‘ç”Ÿå˜åŒ–æ—¶æ‰ä¼šæ‰§è¡Œå›è°ƒã€‚å®ƒé€‚åˆéœ€è¦<strong>æ˜ç¡®æ§åˆ¶è§¦å‘æ—¶æœº</strong>çš„åœºæ™¯ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>ç›‘å¬ç”¨æˆ·è¾“å…¥å¹¶å‘èµ·æœç´¢è¯·æ±‚ï¼ˆé¿å…åˆå§‹ç©ºè¯·æ±‚ï¼‰</li>
<li>éªŒè¯å¯†ç ä¸€è‡´æ€§ï¼ˆä»…å½“ç¡®è®¤å¯†ç å˜åŒ–æ—¶è§¦å‘ï¼‰</li>
</ul>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup&gt;
import { ref, watch } from 'vue'

const password = ref('')
const confirmPassword = ref('')
const passwordError = ref('')

// ç›‘å¬confirmPasswordçš„å˜åŒ–ï¼ŒéªŒè¯å¯†ç ä¸€è‡´æ€§
watch(confirmPassword, (newVal, oldVal) =&gt; {
  if (newVal !== password.value) {
    passwordError.value = 'ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´'
  } else {
    passwordError.value = ''
  }
})
&lt;/script&gt;

&lt;template&gt;
  &lt;input v-model="password" type="password" placeholder="å¯†ç " /&gt;
  &lt;input v-model="confirmPassword" type="password" placeholder="ç¡®è®¤å¯†ç " /&gt;
  &lt;p class="error"&gt;{{ passwordError }}&lt;/p&gt;
&lt;/template&gt;
</code></pre>
<p><code>watch</code>çš„è¿›é˜¶ç”¨æ³•ï¼š</p>
<ul>
<li><strong>ç›‘å¬å¤šä¸ªæ•°æ®æº</strong>ï¼š<code>watch([a, b], (newValues, oldValues) =&gt; { ... })</code></li>
<li><strong>æ·±åº¦ç›‘å¬å¯¹è±¡</strong>ï¼š<code>watch(() =&gt; user.value.address, (newAddr) =&gt; { ... }, { deep: true })</code>ï¼ˆç›‘å¬å¯¹è±¡å†…éƒ¨å±æ€§å˜åŒ–ï¼‰</li>
<li><strong>ç«‹å³æ‰§è¡Œ</strong>ï¼š<code>watch(..., { immediate: true })</code>ï¼ˆåˆå§‹åŒ–æ—¶å°±æ‰§è¡Œä¸€æ¬¡å›è°ƒï¼‰</li>
</ul>
<h4 data-id="heading-5"><code>watchEffect</code>ï¼šè‡ªåŠ¨è¿½è¸ªçš„â€œæ™ºèƒ½æŠ¥è­¦å™¨â€</h4>
<p><code>watchEffect</code>æ˜¯<strong>ç«‹å³æ‰§è¡Œ</strong>çš„ï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨è¿½è¸ªå›è°ƒå‡½æ•°ä¸­çš„å“åº”å¼ä¾èµ–ã€‚å®ƒé€‚åˆéœ€è¦<strong>å¿«é€Ÿå“åº”å¤šä¸ªä¾èµ–</strong>çš„åœºæ™¯ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>ç›‘å¬çª—å£å°ºå¯¸å˜åŒ–å¹¶æ›´æ–°é¡µé¢æ ‡é¢˜</li>
<li>ç›‘å¬è¡¨å•è¾“å…¥å¹¶å®æ—¶ä¿å­˜è‰ç¨¿</li>
</ul>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup&gt;
import { ref, watchEffect } from 'vue'

const width = ref(window.innerWidth)
const height = ref(window.innerHeight)

// è‡ªåŠ¨è¿½è¸ªwidthå’Œheightçš„å˜åŒ–ï¼Œæ›´æ–°é¡µé¢æ ‡é¢˜
watchEffect(() =&gt; {
  document.title = `çª—å£å°ºå¯¸ï¼š${width.value}x${height.value}`
})

// ç›‘å¬çª—å£resizeäº‹ä»¶ï¼Œæ›´æ–°å“åº”å¼æ•°æ®
window.addEventListener('resize', () =&gt; {
  width.value = window.innerWidth
  height.value = window.innerHeight
})
&lt;/script&gt;
</code></pre>
<p><code>watchEffect</code>çš„ä¼˜åŠ¿æ˜¯<strong>ç®€æ´</strong>â€”â€”ä¸éœ€è¦æ˜¾å¼æŒ‡å®šç›‘å¬çš„æ•°æ®æºï¼ŒVueä¼šè‡ªåŠ¨æ”¶é›†å›è°ƒä¸­çš„å“åº”å¼ä¾èµ–ã€‚ä½†å®ƒçš„ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼šæ— æ³•ç›´æ¥è·å–æ—§å€¼ï¼ˆå› ä¸ºä¾èµ–æ˜¯è‡ªåŠ¨è¿½è¸ªçš„ï¼‰ï¼Œä¸”æ— æ³•ç²¾å‡†æ§åˆ¶ç›‘å¬çš„æ•°æ®æºã€‚</p>
<h3 data-id="heading-6">è®¡ç®—å±æ€§ vs ä¾¦å¬å™¨ï¼šæ¸…æ™°çš„åŠŸèƒ½è¾¹ç•Œ</h3>
<p>å¾ˆå¤šåˆå­¦è€…ä¼šæ··æ·†è®¡ç®—å±æ€§å’Œä¾¦å¬å™¨ï¼Œå…¶å®å®ƒä»¬çš„æ ¸å¿ƒåŒºåˆ«åœ¨äº**â€œåšä»€ä¹ˆâ€<strong>ï¼Œè€Œé</strong>â€œæ€ä¹ˆç”¨â€**ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸€å¼ è¡¨æ ¼æ˜ç¡®ä¸¤è€…çš„è¾¹ç•Œï¼š</p>



































<table><thead><tr><th><strong>ç»´åº¦</strong></th><th><strong>è®¡ç®—å±æ€§ï¼ˆComputedï¼‰</strong></th><th><strong>ä¾¦å¬å™¨ï¼ˆWatch/WatchEffectï¼‰</strong></th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒç›®æ ‡</strong></td><td>ç”Ÿæˆ<strong>è¡ç”Ÿå€¼</strong>ï¼ˆå¦‚<code>fullName</code>ã€<code>totalPrice</code>ï¼‰</td><td>æ‰§è¡Œ<strong>å‰¯ä½œç”¨</strong>ï¼ˆå¦‚å¼‚æ­¥è¯·æ±‚ã€DOMæ“ä½œï¼‰</td></tr><tr><td><strong>å‡½æ•°æ€§è´¨</strong></td><td>çº¯å‡½æ•°ï¼ˆæ— å‰¯ä½œç”¨ã€è¾“å…¥å†³å®šè¾“å‡ºï¼‰</td><td>éçº¯å‡½æ•°ï¼ˆæœ‰å‰¯ä½œç”¨ã€å¯èƒ½ä¾èµ–å¤–éƒ¨ç¯å¢ƒï¼‰</td></tr><tr><td><strong>ç¼“å­˜æœºåˆ¶</strong></td><td>æœ‰ç¼“å­˜ï¼ˆä¾èµ–ä¸å˜åˆ™å¤ç”¨ç»“æœï¼‰</td><td>æ— ç¼“å­˜ï¼ˆæ¯æ¬¡è§¦å‘éƒ½æ‰§è¡Œå›è°ƒï¼‰</td></tr><tr><td><strong>è§¦å‘æ—¶æœº</strong></td><td>ä¾èµ–å˜åŒ–æ—¶è‡ªåŠ¨æ›´æ–°</td><td>æ•°æ®å˜åŒ–æ—¶è§¦å‘ï¼ˆ<code>watch</code>æƒ°æ€§ï¼Œ<code>watchEffect</code>ç«‹å³ï¼‰</td></tr><tr><td><strong>æ—§å€¼è·å–</strong></td><td>æ— æ³•ç›´æ¥è·å–æ—§å€¼</td><td><code>watch</code>å¯ä»¥è·å–æ—§å€¼ï¼Œ<code>watchEffect</code>ä¸èƒ½</td></tr></tbody></table>
<h4 data-id="heading-7">ç›´è§‚ä¾‹å­ï¼šåŒºåˆ†è¡ç”Ÿå€¼ä¸å‰¯ä½œç”¨</h4>
<ul>
<li><strong>è¡ç”Ÿå€¼</strong>ï¼šæ ¹æ®<code>age</code>è®¡ç®—<code>isAdult</code>ï¼ˆ<code>age &gt;= 18</code>ï¼‰â€”â€”ç”¨è®¡ç®—å±æ€§ã€‚</li>
<li><strong>å‰¯ä½œç”¨</strong>ï¼šå½“<code>isAdult</code>å˜åŒ–æ—¶ï¼Œå‘é€è¯·æ±‚æ›´æ–°ç”¨æˆ·æƒé™â€”â€”ç”¨ä¾¦å¬å™¨ã€‚</li>
</ul>
<h3 data-id="heading-8">é€‰æ‹©ç­–ç•¥ï¼šä¸€å¥è¯æå®šâ€œè¯¥ç”¨è°â€</h3>
<p>è®°ä½è¿™ä¸ªç®€å•çš„åˆ¤æ–­é€»è¾‘ï¼Œ90%çš„åœºæ™¯éƒ½èƒ½å¿«é€Ÿå†³ç­–ï¼š</p>
<ol>
<li><strong>å¦‚æœéœ€è¦â€œè¡ç”Ÿå€¼ + ç¼“å­˜â€</strong>ï¼šç”¨è®¡ç®—å±æ€§ï¼ˆComputedï¼‰ã€‚<br/>
æ¯”å¦‚ï¼šè´­ç‰©è½¦æ€»ä»·ã€ç”¨æˆ·åæ‹¼æ¥ã€çŠ¶æ€åˆ¤æ–­ï¼ˆ<code>isAdult</code>ï¼‰ã€‚</li>
<li><strong>å¦‚æœéœ€è¦â€œå‰¯ä½œç”¨ + è”åŠ¨â€</strong>ï¼šç”¨ä¾¦å¬å™¨ï¼ˆWatch/WatchEffectï¼‰ã€‚
<ul>
<li>è‹¥éœ€è¦<strong>ç²¾å‡†æ§åˆ¶è§¦å‘æ—¶æœº/è·å–æ—§å€¼</strong>ï¼šç”¨<code>watch</code>ï¼ˆæ¯”å¦‚éªŒè¯å¯†ç ä¸€è‡´æ€§ã€æœç´¢è¯·æ±‚ï¼‰ã€‚</li>
<li>è‹¥éœ€è¦<strong>è‡ªåŠ¨è¿½è¸ªä¾èµ–/ç«‹å³æ‰§è¡Œ</strong>ï¼šç”¨<code>watchEffect</code>ï¼ˆæ¯”å¦‚æ›´æ–°é¡µé¢æ ‡é¢˜ã€å®æ—¶ä¿å­˜è‰ç¨¿ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<details>
<summary>å¾€æœŸæ–‡ç« å½’æ¡£</summary>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fa44ac8daed86ce6d69fee6fe54bc14f6%2F" target="_blank" title="https://blog.cmdragon.cn/posts/a44ac8daed86ce6d69fee6fe54bc14f6/" ref="nofollow noopener noreferrer">Vue 3ä¸­è®¡ç®—å±æ€§ä¸æ–¹æ³•çš„ä½¿ç”¨è¾¹ç•Œä½ ç†æ¸…äº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc85e1fe16a7ae45e965b4e2df4d9d2f4%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c85e1fe16a7ae45e965b4e2df4d9d2f4/" ref="nofollow noopener noreferrer">Vueæµ…å“åº”å¼å¦‚ä½•è§£å†³æ·±å±‚å“åº”å¼çš„æ€§èƒ½é—®é¢˜ï¼Ÿé€‚ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc85e1fe16a7ae45e965b4e2df4d9d2f4%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c85e1fe16a7ae45e965b4e2df4d9d2f4/" ref="nofollow noopener noreferrer">Vueæµ…å“åº”å¼å¦‚ä½•è§£å†³æ·±å±‚å“åº”å¼çš„æ€§èƒ½é—®é¢˜ï¼Ÿé€‚ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc85e1fe16a7ae45e965b4e2df4d9d2f4%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c85e1fe16a7ae45e965b4e2df4d9d2f4/" ref="nofollow noopener noreferrer">Vueæµ…å“åº”å¼å¦‚ä½•è§£å†³æ·±å±‚å“åº”å¼çš„æ€§èƒ½é—®é¢˜ï¼Ÿé€‚ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbe04b02d2723994632de0d4ca22a3391%2F" target="_blank" title="https://blog.cmdragon.cn/posts/be04b02d2723994632de0d4ca22a3391/" ref="nofollow noopener noreferrer">Vue 3ç»„åˆå¼APIä¸­refä¸reactiveçš„æ ¸å¿ƒå“åº”å¼å·®å¼‚åŠä½¿ç”¨æœ€ä½³å®è·µæ˜¯ä»€ä¹ˆï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbe04b02d2723994632de0d4ca22a3391%2F" target="_blank" title="https://blog.cmdragon.cn/posts/be04b02d2723994632de0d4ca22a3391/" ref="nofollow noopener noreferrer">Vue 3ç»„åˆå¼APIä¸­refä¸reactiveçš„æ ¸å¿ƒå“åº”å¼å·®å¼‚åŠä½¿ç”¨æœ€ä½³å®è·µæ˜¯ä»€ä¹ˆï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fa0af08dd60a37b9a890a9957f2cbfc9f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/a0af08dd60a37b9a890a9957f2cbfc9f/" ref="nofollow noopener noreferrer">Vue3å“åº”å¼ç³»ç»Ÿä¸­ï¼Œå¯¹è±¡æ–°å¢å±æ€§ã€æ•°ç»„æ”¹ç´¢å¼•ã€åŸå§‹å€¼ä»£ç†çš„é—®é¢˜å¦‚ä½•è§£å†³ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbc287e1e36287afd90750fd907eca85e%2F" target="_blank" title="https://blog.cmdragon.cn/posts/bc287e1e36287afd90750fd907eca85e/" ref="nofollow noopener noreferrer">Vue 3ä¸­watchä¾¦å¬å™¨çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿ä½ æŒæ¡äº†å—ï¼Ÿæ·±åº¦ç›‘å¬ã€ä¸watchEffectçš„å·®å¼‚åŠå¸¸è§æŠ¥é”™è§£æ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F654b9447ef1ba7ec1126a1bc26a4726d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/654b9447ef1ba7ec1126a1bc26a4726d/" ref="nofollow noopener noreferrer">Vueå“åº”å¼å£°æ˜çš„APIå·®å¼‚ã€åº•å±‚åŸç†ä¸å¸¸è§é™·é˜±ä½ éƒ½ææ‡‚äº†å— - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F654b9447ef1ba7ec1126a1bc26a4726d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/654b9447ef1ba7ec1126a1bc26a4726d/" ref="nofollow noopener noreferrer">Vueå“åº”å¼å£°æ˜çš„APIå·®å¼‚ã€åº•å±‚åŸç†ä¸å¸¸è§é™·é˜±ä½ éƒ½ææ‡‚äº†å— - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc405a8d9950af5b7c63b56c348ac36b6%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c405a8d9950af5b7c63b56c348ac36b6/" ref="nofollow noopener noreferrer">ä¸ºä»€ä¹ˆVue 3éœ€è¦refå‡½æ•°ï¼Ÿå®ƒçš„å“åº”å¼åŸç†ä¸æ­£ç¡®ç”¨æ³•æ˜¯ä»€ä¹ˆï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fa7e9abb9691a81e4404d9facabe0f7c3%2F" target="_blank" title="https://blog.cmdragon.cn/posts/a7e9abb9691a81e4404d9facabe0f7c3/" ref="nofollow noopener noreferrer">Vue 3ä¸­reactiveå‡½æ•°å¦‚ä½•é€šè¿‡Proxyå®ç°å“åº”å¼ï¼Ÿä½¿ç”¨æ—¶è¦é¿å¼€å“ªäº›è¯¯åŒºï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbd995ea45161727597fb85b62566c43d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/bd995ea45161727597fb85b62566c43d/" ref="nofollow noopener noreferrer">Vue3å“åº”å¼ç³»ç»Ÿçš„åº•å±‚åŸç†ä¸å®è·µè¦ç‚¹ä½ çœŸçš„æ‡‚å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F53e3f270a80675df662c6857a3332c0f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/53e3f270a80675df662c6857a3332c0f/" ref="nofollow noopener noreferrer">Vue 3æ¨¡æ¿å¦‚ä½•é€šè¿‡ç¼–è¯‘ä¸‰é˜¶æ®µå®ç°ä»å£°æ˜å¼è¯­æ³•åˆ°é«˜æ•ˆæ¸²æŸ“çš„è·¨è¶Š - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fddbce4f2a23aa72c96b1c0473900321e%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ddbce4f2a23aa72c96b1c0473900321e/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vueæ¨¡æ¿å¼•ç”¨ï¼šä»æ”¶DOMâ€œå¿«é€’â€åˆ°è°ƒå­ç»„ä»¶æ–¹æ³•ï¼Œä½ ç©æ˜ç™½äº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F23a2d5a334e15575277814c16e45df50%2F" target="_blank" title="https://blog.cmdragon.cn/posts/23a2d5a334e15575277814c16e45df50/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vueæ¨¡æ¿é‡Œçš„JSè¡¨è¾¾å¼æœ‰å•¥ä¸èƒ½ç¢°ï¼Ÿè®¡ç®—å±æ€§ä¸ºå•¥æ¯”æ–¹æ³•æ›´èƒ½æ‰“ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F6be38de6382e31d282659b689c5b17f0%2F" target="_blank" title="https://blog.cmdragon.cn/posts/6be38de6382e31d282659b689c5b17f0/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vueçš„v-modelè¡¨å•ç»‘å®šï¼šè¯­æ³•ç³–ã€åŠ¨æ€å€¼ã€ä¿®é¥°ç¬¦çš„å°æŠ€å·§ä½ éƒ½æŒæ¡äº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F60ce517684f4a418f453d66aa805606c%2F" target="_blank" title="https://blog.cmdragon.cn/posts/60ce517684f4a418f453d66aa805606c/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vue3äº‹ä»¶å¤„ç†çš„æŒ‘æˆ˜é¢˜ï¼šv-onã€ä¿®é¥°ç¬¦ã€è‡ªå®šä¹‰äº‹ä»¶ä½ èƒ½é€šå…³å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fe4ae7d5e4a9205bb11b2baccb230c637%2F" target="_blank" title="https://blog.cmdragon.cn/posts/e4ae7d5e4a9205bb11b2baccb230c637/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vue3çš„v-æŒ‡ä»¤ï¼šæ•°æ®å’ŒDOMçš„â€œç¿»è¯‘å®˜â€åˆ°åº•æœ‰å¤šå°‘æœ¬äº‹ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F999ce4fb32259ff4fbf4bf7bcb851654%2F" target="_blank" title="https://blog.cmdragon.cn/posts/999ce4fb32259ff4fbf4bf7bcb851654/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vue3ï¼Œæ’å€¼ã€åŠ¨æ€ç»‘å®šå’Œé¿å‘æŠ€å·§ä½ éƒ½ææ‡‚äº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fa6997d81b49cd232b87e1cf603888ad1%2F" target="_blank" title="https://blog.cmdragon.cn/posts/a6997d81b49cd232b87e1cf603888ad1/" ref="nofollow noopener noreferrer">æƒ³è®©PostgreSQLå¿«åˆ°é£èµ·ï¼Ÿå…ˆæ‰¾å¥åº·å¯†ç è¿˜æ˜¯å…ˆæ¢å¼•æ“ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F1fee7afbb9abd4540b8aa9c141d6845d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/1fee7afbb9abd4540b8aa9c141d6845d/" ref="nofollow noopener noreferrer">æƒ³è®©PostgreSQLæŸ¥è¯¢å¿«åˆ°é£èµ·ï¼Ÿåˆ†åŒºè¡¨ã€ç‰©åŒ–è§†å›¾ã€å¹¶è¡ŒæŸ¥è¯¢è¿™ä¸‰æ‹›çµä¸çµï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F79c590fbd87ece535b11a71c9667884f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/79c590fbd87ece535b11a71c9667884f/" ref="nofollow noopener noreferrer">å­æŸ¥è¯¢æ€»æ‹–æ…¢æŸ¥è¯¢ï¼ŸæŠŠå®ƒå˜æˆè¿æ¥å°±èƒ½è§£å†³ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F748cdac2536008199abf8a8a2cd0ec85%2F" target="_blank" title="https://blog.cmdragon.cn/posts/748cdac2536008199abf8a8a2cd0ec85/" ref="nofollow noopener noreferrer">PostgreSQLå…¨è¡¨æ‰«ææ…¢åˆ°å´©æºƒï¼Ÿå»ºç´¢å¼•+æ”¹æŸ¥è¯¢+æ›´ç»Ÿè®¡ä¿¡æ¯ä¸‰æ‹›èƒ½ç ´ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F32ca943703226d317d4276a8fb53b0dd%2F" target="_blank" title="https://blog.cmdragon.cn/posts/32ca943703226d317d4276a8fb53b0dd/" ref="nofollow noopener noreferrer">å¤æ‚æŸ¥è¯¢æ€»æ‹–åè…¿ï¼ŸPostgreSQLå¤šåˆ—ç´¢å¼•+è¦†ç›–ç´¢å¼•çš„ç¥ä»™æŠ€å·§ä½ getæ²¡ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fca93f1d53aa910e7ba5ffd8df611c12b%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ca93f1d53aa910e7ba5ffd8df611c12b/" ref="nofollow noopener noreferrer">åªç»™è¡¨å­é›†å»ºç´¢å¼•ï¼Ÿç”¨å‡½æ•°ç»“æœå»ºç´¢å¼•ï¼ŸPostgreSQLè¿™ä¿©æ“ä½œå‡­å•¥èƒ½çœç©ºé—´åˆåŠ é€Ÿï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Ff507856ebfddd592448813c510a53669%2F" target="_blank" title="https://blog.cmdragon.cn/posts/f507856ebfddd592448813c510a53669/" ref="nofollow noopener noreferrer">B-treeç´¢å¼•åƒå­—å…¸æŸ¥è¯ä¸€æ ·å·¥ä½œï¼Ÿé‚£å“ªäº›æ•°æ®åº“æŸ¥è¯¢å®ƒèƒ½åŠ é€Ÿï¼Œå“ªäº›ä¸èƒ½ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fb2213bfcb5b88a862f2138404c03d596%2F" target="_blank" title="https://blog.cmdragon.cn/posts/b2213bfcb5b88a862f2138404c03d596/" ref="nofollow noopener noreferrer">æƒ³æŠ“PostgreSQLé‡Œçš„æ…¢SQLï¼Ÿpg_stat_statementsåŸºç¡€é»‘åŒ£å­å’Œpg_stat_monitoræ—¶é—´çª—ï¼Œè°èƒ½å¸®ä½ æ›´å‡†æªå‡ºæ€§èƒ½å°å·ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F26614eb7da6c476dde41d367ad888d2f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/26614eb7da6c476dde41d367ad888d2f/" ref="nofollow noopener noreferrer">PostgreSQLçš„â€œæ—¶å…‰æœºâ€MVCCå’Œé”æœºåˆ¶æ˜¯æ€ä¹ˆæå®šé«˜å¹¶å‘çš„ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F69f99bc6972a860d559c74aad7280da4%2F" target="_blank" title="https://blog.cmdragon.cn/posts/69f99bc6972a860d559c74aad7280da4/" ref="nofollow noopener noreferrer">PostgreSQLæ€§èƒ½æš´æ¶¨çš„å…³é”®ï¼Ÿå†…å­˜IOå¹¶å‘å‚æ•°å±…ç„¶è¦è¿™ä¹ˆè®¾ç½®ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F7b7053f392147a8b3b1a16bebeb08d0a%2F" target="_blank" title="https://blog.cmdragon.cn/posts/7b7053f392147a8b3b1a16bebeb08d0a/" ref="nofollow noopener noreferrer">å¤§è¡¨æŸ¥è¯¢æ…¢åˆ°ç¿»éæ•´ä¸ªä¹¦æ¶ï¼ŸPostgreSQLåˆ†åŒºè¡¨æ•™ä½ æ€ä¹ˆâ€œåˆ†ç±»â€æ‰é«˜æ•ˆ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc856e3cb073822349f3bf2d29995dcfc%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c856e3cb073822349f3bf2d29995dcfc/" ref="nofollow noopener noreferrer">PostgreSQL æŸ¥è¯¢æ…¢ï¼Ÿæ˜¯ä¸æ˜¯å¿˜äº†ä¼˜åŒ– GROUP BYã€ORDER BY å’Œçª—å£å‡½æ•°ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc096347d18e67b7431faacd2c4757093%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c096347d18e67b7431faacd2c4757093/" ref="nofollow noopener noreferrer">PostgreSQLé‡Œçš„å­æŸ¥è¯¢å’ŒCTEå±…ç„¶åœ¨æ€§èƒ½ä¸Šâ€œææ¶â€ï¼Ÿåˆ°åº•è¯¥ç«™å“ªè¾¹ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F2eca89463454fd4250d7b66243b9fe5a%2F" target="_blank" title="https://blog.cmdragon.cn/posts/2eca89463454fd4250d7b66243b9fe5a/" ref="nofollow noopener noreferrer">PostgreSQLé€‰Joinç­–ç•¥æœ‰å•¥å°ä¹ä¹ï¼ŸNested Loop/Merge/Hashè°æ˜¯å®ƒçš„èœï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F068ecb772a87d7df20a8c9fb4b233f8e%2F" target="_blank" title="https://blog.cmdragon.cn/posts/068ecb772a87d7df20a8c9fb4b233f8e/" ref="nofollow noopener noreferrer">PostgreSQLæ–°æ‰‹SQLæ€»ç¿»è½¦ï¼Ÿè¿™7ä¸ªæ€§èƒ½é™·é˜±ä½ è¸©è¿‡æ²¡ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fd498f63cd0a2d5a77e445c688a8b88db%2F" target="_blank" title="https://blog.cmdragon.cn/posts/d498f63cd0a2d5a77e445c688a8b88db/" ref="nofollow noopener noreferrer">PostgreSQLç´¢å¼•é€‰B-Treeè¿˜æ˜¯GiSTï¼Ÿâ€œç‘å£«å†›åˆ€â€å’Œâ€œå¤šé¢æ‰‹â€çš„å·®åˆ«ä½ å±…ç„¶è¿˜ä¸çŸ¥é“ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F9101b75bdec6faea9b35d54f14e37f36%2F" target="_blank" title="https://blog.cmdragon.cn/posts/9101b75bdec6faea9b35d54f14e37f36/" ref="nofollow noopener noreferrer">æƒ³çŸ¥é“æ•°æ®åº“æ€ä¹ˆç»™æŸ¥è¯¢â€œç®—æˆæœ¬é€‰è·¯çº¿â€ï¼ŸEXPLAINèƒ½å¸®ä½ çœ‹æ˜ç™½ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fd527f8ebb6e3dae2c7dfe4c8d8979444%2F" target="_blank" title="https://blog.cmdragon.cn/posts/d527f8ebb6e3dae2c7dfe4c8d8979444/" ref="nofollow noopener noreferrer">PostgreSQLå¤„ç†SQLå±…ç„¶åƒåšè›‹ç³•ï¼Ÿè§£æåˆ°æ‰§è¡Œçš„4æ­¥é‡Œè—ç€å¤šå°‘æŸ¥è¯¢ä¼˜åŒ–çš„å°å¿ƒæœºï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F6bfdae84f313cf7ad0bb7045c4392347%2F" target="_blank" title="https://blog.cmdragon.cn/posts/6bfdae84f313cf7ad0bb7045c4392347/" ref="nofollow noopener noreferrer">PostgreSQLå¤‡ä»½ä¸æ˜¯å¤åˆ¶æ–‡ä»¶ï¼Ÿç‰©ç†vsé€»è¾‘å’‹é€‰ï¼Ÿè¯¯åˆ è¿˜èƒ½ç²¾å‡†æ¢å¤åˆ°1åˆ†é’Ÿå‰ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fde3672803de34dbad244d0a8d48b0eb5%2F" target="_blank" title="https://blog.cmdragon.cn/posts/de3672803de34dbad244d0a8d48b0eb5/" ref="nofollow noopener noreferrer">è½¬è´¦ä¸ç¿»è½¦ã€å¹¶å‘ä¸å¹²æ‰°ï¼ŒPostgreSQLçš„ACIDç‰¹æ€§åˆ°åº•æœ‰å•¥é­”æ³•ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fe463e8a2668abdf00a228c9b79324ded%2F" target="_blank" title="https://blog.cmdragon.cn/posts/e463e8a2668abdf00a228c9b79324ded/" ref="nofollow noopener noreferrer">é“¶è¡Œè½¬è´¦ä¸ç™½æ‰£é’±ã€ç”µå•†ä¸‹å•ä¸è¶…å–ï¼ŒPostgreSQLäº‹åŠ¡çš„è¯€çªæ˜¯å•¥ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F5c967e595058c4a1fc4474a68e64031d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/5c967e595058c4a1fc4474a68e64031d/" ref="nofollow noopener noreferrer">PostgreSQLé‡Œçš„PL/pgSQLåˆ°åº•æ˜¯å•¥ï¼Ÿèƒ½è®©SQLä»â€œè¯´ç›®æ ‡â€å˜â€œè®²æ­¥éª¤â€ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F325047855e3e23b5ef82f7d2db134fbd%2F" target="_blank" title="https://blog.cmdragon.cn/posts/325047855e3e23b5ef82f7d2db134fbd/" ref="nofollow noopener noreferrer">PostgreSQLè§†å›¾ä¸å­˜æ•°æ®ï¼Ÿé‚£å®ƒæ€ä¹ˆç®€åŒ–æŸ¥è¯¢è¿˜èƒ½é€’å½’ç”Ÿæˆåºåˆ—å’Œæ§åˆ¶æƒé™ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fd2dba50bb6e4df7b27e735245a06a2a2%2F" target="_blank" title="https://blog.cmdragon.cn/posts/d2dba50bb6e4df7b27e735245a06a2a2/" ref="nofollow noopener noreferrer">PostgreSQLç´¢å¼•è¿™ä¹ˆç©ï¼Œæ‰èƒ½è®©ä½ çš„æŸ¥è¯¢çœŸçš„â€œé£â€èµ·æ¥ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F849ae5bab0f8c66e94c2f6ad1bb798e3%2F" target="_blank" title="https://blog.cmdragon.cn/posts/849ae5bab0f8c66e94c2f6ad1bb798e3/" ref="nofollow noopener noreferrer">PostgreSQLçš„è¡¨å…³ç³»å’Œçº¦æŸï¼Œå’‹å¸®ä½ æå®šç”¨æˆ·è®¢å•ä¸æ··ä¹±ã€å­¦ç”Ÿé€‰è¯¾ä¸é‡å¤ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fef4800975ffa84f1ca51976a70a1585b%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ef4800975ffa84f1ca51976a70a1585b/" ref="nofollow noopener noreferrer">PostgreSQLæŸ¥è¯¢çš„ç­›å­ã€æ’åºã€èšåˆã€åˆ†ç»„ï¼Ÿä½ ä¼šç”¨å®ƒä»¬æå®šæ•°æ®å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbf54711525c507c5eacfa7b0151c39d2%2F" target="_blank" title="https://blog.cmdragon.cn/posts/bf54711525c507c5eacfa7b0151c39d2/" ref="nofollow noopener noreferrer">PostgreSQLæ•°æ®ç±»å‹æ€ä¹ˆé€‰æ‰é«˜æ•ˆä¸è¸©å‘ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F887809b3e0375f5956873cd442f516d8%2F" target="_blank" title="https://blog.cmdragon.cn/posts/887809b3e0375f5956873cd442f516d8/" ref="nofollow noopener noreferrer">æƒ³è§£é”PostgreSQLæŸ¥è¯¢ä»åŸºç¡€åˆ°è¿›é˜¶çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Ÿä½ éƒ½getäº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F934be1203725e8be9d6f6e9104e5abcc%2F" target="_blank" title="https://blog.cmdragon.cn/posts/934be1203725e8be9d6f6e9104e5abcc/" ref="nofollow noopener noreferrer">PostgreSQL DELETEå±…ç„¶æœ‰è¿™äº›æ“ä½œï¼Ÿè¿”å›æ•°æ®ã€è¿è¡¨åˆ ä½ è¯•è¿‡æ²¡ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F0f0622e9b7402b599e618150d0596ffe%2F" target="_blank" title="https://blog.cmdragon.cn/posts/0f0622e9b7402b599e618150d0596ffe/" ref="nofollow noopener noreferrer">PostgreSQL UPDATEè¯­å¥æ€ä¹ˆç©ï¼Ÿä»æ”¹é‚®ç®±åˆ°æ‰¹é‡æ›´æ–°çš„é¿å‘æŠ€å·§ä½ éƒ½ä¼šå—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F0e3bf7efc030b024ea67ee855a00f2de%2F" target="_blank" title="https://blog.cmdragon.cn/posts/0e3bf7efc030b024ea67ee855a00f2de/" ref="nofollow noopener noreferrer">PostgreSQLæ’å…¥æ•°æ®è¿˜åœ¨é€æ¡æ•²ï¼Ÿæ‰¹é‡ã€å†²çªå¤„ç†ã€è¿”å›è‡ªå¢IDçš„æŠ€å·§ä½ ä¼šå—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fb6cd3c86da6aac26ed829e472d34078e%2F" target="_blank" title="https://blog.cmdragon.cn/posts/b6cd3c86da6aac26ed829e472d34078e/" ref="nofollow noopener noreferrer">PostgreSQLçš„â€œä»“åº“-æˆ¿é—´-è´§æ¶â€æ¸¸æˆï¼Œä½ èƒ½å»ºå‡ºç”µå•†æ•°æ®åº“å’Œè¡¨å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fba1f545a3410144552fbdbfcf31b5265%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ba1f545a3410144552fbdbfcf31b5265/" ref="nofollow noopener noreferrer">PostgreSQL 17å®‰è£…æ€»ç¿»è½¦ï¼ŸWindows/macOS/Linuxé¿å‘æŒ‡å—å¸®ä½ æå®šï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fb5474d1480509c5072085abc80b3dd9f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/b5474d1480509c5072085abc80b3dd9f/" ref="nofollow noopener noreferrer">èƒ½å½“å…³ç³»å‹æ•°æ®åº“è¿˜èƒ½ç©å¯¹è±¡ç‰¹æ€§ï¼Œèƒ½æ‹†å¤æ‚æŸ¥è¯¢è¿˜èƒ½è‡ªåŠ¨ç®¡åº“å­˜ï¼ŒPostgreSQLå‡­ä»€ä¹ˆè¿™ä¹ˆé¦™ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fcc098d8836e787baa8a4d92e4d56d5c5%2F" target="_blank" title="https://blog.cmdragon.cn/posts/cc098d8836e787baa8a4d92e4d56d5c5/" ref="nofollow noopener noreferrer">ç»™æ¥å£åŠ æ–°å­—æ®µåˆä¸æå´©è€å®¢æˆ·ç«¯ï¼ŸFastAPIçš„å¤šç‰ˆæœ¬APIé å“ªä¸‰æ‹›å®ç°ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F46d05151c5bd31cf37a7bcf0b8f5b0b8%2F" target="_blank" title="https://blog.cmdragon.cn/posts/46d05151c5bd31cf37a7bcf0b8f5b0b8/" ref="nofollow noopener noreferrer">æµé‡çªå¢è¦æå´©FastAPIï¼Ÿç†”æ–­æµ‹è¯•æ˜¯æ€ä¹ˆé˜²ç³»ç»Ÿé›ªå´©çš„ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F65ce343cc5df9faf3a8e2eeaab42ae45%2F" target="_blank" title="https://blog.cmdragon.cn/posts/65ce343cc5df9faf3a8e2eeaab42ae45/" ref="nofollow noopener noreferrer">FastAPIç§’æ€åº“å­˜æ€»å˜è´Ÿæ•°ï¼ŸRedisåˆ†å¸ƒå¼é”èƒ½å¸®ä½ å®ˆä½åº•çº¿å— - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Feed6cd8985d9be0a4b092a7da38b3e0c%2F" target="_blank" title="https://blog.cmdragon.cn/posts/eed6cd8985d9be0a4b092a7da38b3e0c/" ref="nofollow noopener noreferrer">FastAPIçš„CIæµæ°´çº¿æ€ä¹ˆè‡ªåŠ¨æµ‹ç«¯ç‚¹ï¼Œè¿˜èƒ½è®©AllureæŠ¥å‘Šç¾åˆ°çŠ¯è§„ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F6157d87338ce894d18c013c3c4777abb%2F" target="_blank" title="https://blog.cmdragon.cn/posts/6157d87338ce894d18c013c3c4777abb/" ref="nofollow noopener noreferrer">å¦‚ä½•ç”¨GitHub Actionsä¸ºFastAPIé¡¹ç›®æ‰“é€ è‡ªåŠ¨åŒ–æµ‹è¯•æµæ°´çº¿ï¼Ÿ - cmdragon's Blog</a></li>
</ul>
</details>
<details>
<summary>å…è´¹å¥½ç”¨çš„çƒ­é—¨åœ¨çº¿å·¥å…·</summary>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fraid-calculator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/raid-calculator" ref="nofollow noopener noreferrer">RAID è®¡ç®—å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fphotoshop-online" target="_blank" title="https://tools.cmdragon.cn/zh/apps/photoshop-online" ref="nofollow noopener noreferrer">åœ¨çº¿PS - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fmermaid-live-editor" target="_blank" title="https://tools.cmdragon.cn/zh/apps/mermaid-live-editor" ref="nofollow noopener noreferrer">Mermaid åœ¨çº¿ç¼–è¾‘å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fmath-solver-calculator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/math-solver-calculator" ref="nofollow noopener noreferrer">æ•°å­¦æ±‚è§£è®¡ç®—å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsmart-teleprompter" target="_blank" title="https://tools.cmdragon.cn/zh/apps/smart-teleprompter" ref="nofollow noopener noreferrer">æ™ºèƒ½æè¯å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fmagic-resume" target="_blank" title="https://tools.cmdragon.cn/zh/apps/magic-resume" ref="nofollow noopener noreferrer">é­”æ³•ç®€å† - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fimage-puzzle-tool" target="_blank" title="https://tools.cmdragon.cn/zh/apps/image-puzzle-tool" ref="nofollow noopener noreferrer">Image Puzzle Tool - å›¾ç‰‡æ‹¼å›¾å·¥å…· | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsubtitle-downloader" target="_blank" title="https://tools.cmdragon.cn/zh/apps/subtitle-downloader" ref="nofollow noopener noreferrer">å­—å¹•ä¸‹è½½å·¥å…· - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Flyrics-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/lyrics-generator" ref="nofollow noopener noreferrer">æ­Œè¯ç”Ÿæˆå·¥å…· - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fcloud-drive-search" target="_blank" title="https://tools.cmdragon.cn/zh/apps/cloud-drive-search" ref="nofollow noopener noreferrer">ç½‘ç›˜èµ„æºèšåˆæœç´¢ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fascii-art-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/ascii-art-generator" ref="nofollow noopener noreferrer">ASCIIå­—ç¬¦ç”»ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fjwt-tool" target="_blank" title="https://tools.cmdragon.cn/zh/apps/jwt-tool" ref="nofollow noopener noreferrer">JSON Web Tokens å·¥å…· - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fbcrypt-tool" target="_blank" title="https://tools.cmdragon.cn/zh/apps/bcrypt-tool" ref="nofollow noopener noreferrer">Bcrypt å¯†ç å·¥å…· - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fgif-composer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/gif-composer" ref="nofollow noopener noreferrer">GIF åˆæˆå™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fgif-decomposer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/gif-decomposer" ref="nofollow noopener noreferrer">GIF åˆ†è§£å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-steganography" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-steganography" ref="nofollow noopener noreferrer">æ–‡æœ¬éšå†™æœ¯ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh" target="_blank" title="https://tools.cmdragon.cn/zh" ref="nofollow noopener noreferrer">CMDragon åœ¨çº¿å·¥å…· - é«˜çº§AIå·¥å…·ç®±ä¸å¼€å‘è€…å¥—ä»¶ | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%3Fcategory%3Dtrending" target="_blank" title="https://tools.cmdragon.cn/zh/apps?category=trending" ref="nofollow noopener noreferrer">åº”ç”¨å•†åº— - å‘ç°1000+æå‡æ•ˆç‡ä¸å¼€å‘çš„AIå·¥å…·å’Œå®ç”¨ç¨‹åº | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fchangelog" target="_blank" title="https://tools.cmdragon.cn/zh/changelog" ref="nofollow noopener noreferrer">CMDragon æ›´æ–°æ—¥å¿— - æœ€æ–°æ›´æ–°ã€åŠŸèƒ½ä¸æ”¹è¿› | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fsponsor" target="_blank" title="https://tools.cmdragon.cn/zh/sponsor" ref="nofollow noopener noreferrer">æ”¯æŒæˆ‘ä»¬ - æˆä¸ºèµåŠ©è€… | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-to-image-ai" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-to-image-ai" ref="nofollow noopener noreferrer">AIæ–‡æœ¬ç”Ÿæˆå›¾åƒ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftemp-email" target="_blank" title="https://tools.cmdragon.cn/zh/apps/temp-email" ref="nofollow noopener noreferrer">ä¸´æ—¶é‚®ç®± - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fqrcode-parser" target="_blank" title="https://tools.cmdragon.cn/zh/apps/qrcode-parser" ref="nofollow noopener noreferrer">äºŒç»´ç è§£æå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-to-mindmap" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-to-mindmap" ref="nofollow noopener noreferrer">æ–‡æœ¬è½¬æ€ç»´å¯¼å›¾ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fregex-visualizer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/regex-visualizer" ref="nofollow noopener noreferrer">æ­£åˆ™è¡¨è¾¾å¼å¯è§†åŒ–å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsteganography-tool" target="_blank" title="https://tools.cmdragon.cn/zh/apps/steganography-tool" ref="nofollow noopener noreferrer">æ–‡ä»¶éšå†™å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fiptv-explorer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/iptv-explorer" ref="nofollow noopener noreferrer">IPTV é¢‘é“æ¢ç´¢å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsnapdrop" target="_blank" title="https://tools.cmdragon.cn/zh/apps/snapdrop" ref="nofollow noopener noreferrer">å¿«ä¼  - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Flucky-draw" target="_blank" title="https://tools.cmdragon.cn/zh/apps/lucky-draw" ref="nofollow noopener noreferrer">éšæœºæŠ½å¥–å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fanime-scene-finder" target="_blank" title="https://tools.cmdragon.cn/zh/apps/anime-scene-finder" ref="nofollow noopener noreferrer">åŠ¨æ¼«åœºæ™¯æŸ¥æ‰¾å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftime-toolkit" target="_blank" title="https://tools.cmdragon.cn/zh/apps/time-toolkit" ref="nofollow noopener noreferrer">æ—¶é—´å·¥å…·ç®± - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fspeed-test" target="_blank" title="https://tools.cmdragon.cn/zh/apps/speed-test" ref="nofollow noopener noreferrer">ç½‘é€Ÿæµ‹è¯• - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fbackground-remover" target="_blank" title="https://tools.cmdragon.cn/zh/apps/background-remover" ref="nofollow noopener noreferrer">AI æ™ºèƒ½æŠ å›¾å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fbackground-replacer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/background-replacer" ref="nofollow noopener noreferrer">èƒŒæ™¯æ›¿æ¢å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fartistic-qrcode" target="_blank" title="https://tools.cmdragon.cn/zh/apps/artistic-qrcode" ref="nofollow noopener noreferrer">è‰ºæœ¯äºŒç»´ç ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fopen-graph-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/open-graph-generator" ref="nofollow noopener noreferrer">Open Graph å…ƒæ ‡ç­¾ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fimage-comparison" target="_blank" title="https://tools.cmdragon.cn/zh/apps/image-comparison" ref="nofollow noopener noreferrer">å›¾åƒå¯¹æ¯”å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fimage-compressor" target="_blank" title="https://tools.cmdragon.cn/zh/apps/image-compressor" ref="nofollow noopener noreferrer">å›¾ç‰‡å‹ç¼©ä¸“ä¸šç‰ˆ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fpassword-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/password-generator" ref="nofollow noopener noreferrer">å¯†ç ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsvg-optimizer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/svg-optimizer" ref="nofollow noopener noreferrer">SVGä¼˜åŒ–å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fcolor-palette" target="_blank" title="https://tools.cmdragon.cn/zh/apps/color-palette" ref="nofollow noopener noreferrer">è°ƒè‰²æ¿ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fonline-metronome" target="_blank" title="https://tools.cmdragon.cn/zh/apps/online-metronome" ref="nofollow noopener noreferrer">åœ¨çº¿èŠ‚æ‹å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fip-geolocation" target="_blank" title="https://tools.cmdragon.cn/zh/apps/ip-geolocation" ref="nofollow noopener noreferrer">IPå½’å±åœ°æŸ¥è¯¢ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fcss-grid-layout" target="_blank" title="https://tools.cmdragon.cn/zh/apps/css-grid-layout" ref="nofollow noopener noreferrer">CSSç½‘æ ¼å¸ƒå±€ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Femail-validator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/email-validator" ref="nofollow noopener noreferrer">é‚®ç®±éªŒè¯å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fcalligraphy-practice" target="_blank" title="https://tools.cmdragon.cn/zh/apps/calligraphy-practice" ref="nofollow noopener noreferrer">ä¹¦æ³•ç»ƒä¹ å­—å¸– - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ffinance-calculator-suite" target="_blank" title="https://tools.cmdragon.cn/zh/apps/finance-calculator-suite" ref="nofollow noopener noreferrer">é‡‘èè®¡ç®—å™¨å¥—ä»¶ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fchinese-kinship-calculator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/chinese-kinship-calculator" ref="nofollow noopener noreferrer">ä¸­å›½äº²æˆšå…³ç³»è®¡ç®—å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fprotobuf-toolkit" target="_blank" title="https://tools.cmdragon.cn/zh/apps/protobuf-toolkit" ref="nofollow noopener noreferrer">Protocol Buffer å·¥å…·ç®± - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fip-geolocation" target="_blank" title="https://tools.cmdragon.cn/zh/apps/ip-geolocation" ref="nofollow noopener noreferrer">IPå½’å±åœ°æŸ¥è¯¢ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fimage-upscaler" target="_blank" title="https://tools.cmdragon.cn/zh/apps/image-upscaler" ref="nofollow noopener noreferrer">å›¾ç‰‡æ— æŸæ”¾å¤§ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-compare" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-compare" ref="nofollow noopener noreferrer">æ–‡æœ¬æ¯”è¾ƒå·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fip-batch-lookup" target="_blank" title="https://tools.cmdragon.cn/zh/apps/ip-batch-lookup" ref="nofollow noopener noreferrer">IPæ‰¹é‡æŸ¥è¯¢å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fdomain-finder" target="_blank" title="https://tools.cmdragon.cn/zh/apps/domain-finder" ref="nofollow noopener noreferrer">åŸŸåæŸ¥è¯¢å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fdns-toolkit" target="_blank" title="https://tools.cmdragon.cn/zh/apps/dns-toolkit" ref="nofollow noopener noreferrer">DNSå·¥å…·ç®± - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ffavicon-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/favicon-generator" ref="nofollow noopener noreferrer">ç½‘ç«™å›¾æ ‡ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fsitemap_index.xml" target="_blank" title="https://tools.cmdragon.cn/sitemap_index.xml" ref="nofollow noopener noreferrer">XML Sitemap</a></li>
</ul>
</details>
<h3 data-id="heading-9">å®æˆ˜ç¤ºä¾‹ï¼šè´­ç‰©è½¦ä¸æœç´¢åŠŸèƒ½çš„ç»„åˆ</h3>
<p>æˆ‘ä»¬ç”¨ä¸€ä¸ªç»¼åˆç¤ºä¾‹å±•ç¤ºä¸¤è€…çš„é…åˆâ€”â€”å®ç°ä¸€ä¸ªå¸¦æœç´¢åŠŸèƒ½çš„è´­ç‰©è½¦ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup&gt;
import { ref, computed, watch } from 'vue'

// 1. å“åº”å¼æ•°æ®ï¼šè´­ç‰©è½¦åˆ—è¡¨
const cart = ref([
  { id: 1, name: 'Vue3å®æˆ˜æŒ‡å—', price: 59, quantity: 1 },
  { id: 2, name: 'TypeScriptæ‰‹å†Œ', price: 79, quantity: 2 },
  { id: 3, name: 'å‰ç«¯å·¥ç¨‹åŒ–', price: 99, quantity: 1 }
])

// 2. è®¡ç®—å±æ€§ï¼šè´­ç‰©è½¦æ€»ä»·ï¼ˆè¡ç”Ÿå€¼ + ç¼“å­˜ï¼‰
const totalPrice = computed(() =&gt; {
  return cart.value.reduce((sum, item) =&gt; sum + item.price * item.quantity, 0)
})

// 3. ä¾¦å¬å™¨ï¼šæœç´¢åŠŸèƒ½ï¼ˆå‰¯ä½œç”¨ + è”åŠ¨ï¼‰
const searchQuery = ref('') // æœç´¢å…³é”®è¯
const filteredCart = ref([...cart.value]) // è¿‡æ»¤åçš„è´­ç‰©è½¦

// ç›‘å¬æœç´¢å…³é”®è¯å˜åŒ–ï¼Œè¿‡æ»¤è´­ç‰©è½¦
watch(searchQuery, (newQuery) =&gt; {
  filteredCart.value = cart.value.filter(item =&gt; 
    item.name.toLowerCase().includes(newQuery.toLowerCase())
  )
}, { immediate: true }) // åˆå§‹åŒ–æ—¶ç«‹å³è¿‡æ»¤

// è¾…åŠ©æ–¹æ³•ï¼šä¿®æ”¹å•†å“æ•°é‡
const updateQuantity = (id, newQty) =&gt; {
  const item = cart.value.find(i =&gt; i.id === id)
  if (item) item.quantity = newQty
}
&lt;/script&gt;

&lt;template&gt;
  &lt;div class="cart-container"&gt;
    &lt;!-- æœç´¢æ  --&gt;
    &lt;input 
      v-model="searchQuery" 
      placeholder="æœç´¢å•†å“..." 
      class="search-input"
    /&gt;

    &lt;!-- è´­ç‰©è½¦åˆ—è¡¨ --&gt;
    &lt;div class="cart-items"&gt;
      &lt;div 
        v-for="item in filteredCart" 
        :key="item.id" 
        class="cart-item"
      &gt;
        &lt;h4&gt;{{ item.name }}&lt;/h4&gt;
        &lt;p&gt;ä»·æ ¼ï¼š{{ item.price }}å…ƒ&lt;/p&gt;
        &lt;input 
          type="number" 
          v-model.number="item.quantity" 
          @input="updateQuantity(item.id, item.quantity)"
          class="quantity-input"
        /&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;!-- æ€»ä»· --&gt;
    &lt;div class="total-price"&gt;
      æ€»ä»·ï¼š{{ totalPrice }}å…ƒ
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
.cart-container { max-width: 600px; margin: 20px auto; }
.search-input { width: 100%; padding: 8px; margin-bottom: 15px; }
.cart-item { border-bottom: 1px solid #eee; padding: 10px 0; }
.quantity-input { width: 60px; padding: 4px; }
.total-price { font-size: 1.2em; font-weight: bold; margin-top: 10px; }
&lt;/style&gt;
</code></pre>
<p>è¿™ä¸ªç¤ºä¾‹ä¸­ï¼š</p>
<ul>
<li><code>totalPrice</code>ç”¨è®¡ç®—å±æ€§ï¼šå› ä¸ºå®ƒæ˜¯<code>cart</code>çš„è¡ç”Ÿå€¼ï¼Œéœ€è¦ç¼“å­˜ï¼ˆé¿å…æ¯æ¬¡æ¸²æŸ“éƒ½é‡æ–°è®¡ç®—æ€»ä»·ï¼‰ã€‚</li>
<li>æœç´¢åŠŸèƒ½ç”¨<code>watch</code>ï¼šå› ä¸ºæœç´¢æ˜¯<strong>å‰¯ä½œç”¨æ“ä½œ</strong>ï¼ˆä¿®æ”¹<code>filteredCart</code>ï¼‰ï¼Œä¸”éœ€è¦<strong>åˆå§‹åŒ–æ—¶ç«‹å³æ‰§è¡Œ</strong>ï¼ˆ<code>immediate: true</code>ï¼‰ï¼Œç¡®ä¿é¡µé¢åŠ è½½æ—¶å°±æ˜¾ç¤ºè¿‡æ»¤åçš„ç»“æœã€‚</li>
</ul>
<h3 data-id="heading-10">è¯¾åQuizï¼šå·©å›ºä½ çš„ç†è§£</h3>
<h4 data-id="heading-11">é—®é¢˜1ï¼šä»¥ä¸‹åœºæ™¯é€‚åˆç”¨è®¡ç®—å±æ€§è¿˜æ˜¯ä¾¦å¬å™¨ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</h4>
<p>åœºæ™¯ï¼šæ ¹æ®ç”¨æˆ·é€‰æ‹©çš„â€œä¸»é¢˜è‰²â€ï¼ˆ<code>themeColor</code>ï¼‰å’Œâ€œå­—ä½“å¤§å°â€ï¼ˆ<code>fontSize</code>ï¼‰ï¼Œç”ŸæˆCSSå˜é‡ï¼ˆ<code>--main-color</code>ã€<code>--font-size</code>ï¼‰ï¼Œå¹¶å½“CSSå˜é‡å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨æ›´æ–°é¡µé¢çš„æ ·å¼ã€‚</p>
<h4 data-id="heading-12">ç­”æ¡ˆè§£æï¼š</h4>
<ul>
<li><strong>ç”ŸæˆCSSå˜é‡</strong>ï¼šé€‚åˆç”¨è®¡ç®—å±æ€§ã€‚å› ä¸ºCSSå˜é‡æ˜¯<code>themeColor</code>å’Œ<code>fontSize</code>çš„<strong>è¡ç”Ÿå€¼</strong>ï¼Œéœ€è¦ç¼“å­˜ï¼ˆé¿å…é‡å¤ç”Ÿæˆç›¸åŒçš„CSSå­—ç¬¦ä¸²ï¼‰ã€‚</li>
<li><strong>æ›´æ–°é¡µé¢æ ·å¼</strong>ï¼šé€‚åˆç”¨ä¾¦å¬å™¨ã€‚å› ä¸ºä¿®æ”¹é¡µé¢æ ·å¼æ˜¯<strong>DOMå‰¯ä½œç”¨æ“ä½œ</strong>ï¼Œéœ€è¦åœ¨CSSå˜é‡å˜åŒ–æ—¶è§¦å‘ã€‚</li>
</ul>
<p>å…·ä½“å®ç°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> themeColor = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'#2c3e50'</span>)
<span class="hljs-keyword">const</span> fontSize = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'16px'</span>)

<span class="hljs-comment">// è®¡ç®—å±æ€§ï¼šç”ŸæˆCSSå˜é‡å­—ç¬¦ä¸²</span>
<span class="hljs-keyword">const</span> cssVars = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-string">`--main-color: <span class="hljs-subst">${themeColor.value}</span>; --font-size: <span class="hljs-subst">${fontSize.value}</span>;`</span>
})

<span class="hljs-comment">// ä¾¦å¬å™¨ï¼šæ›´æ–°é¡µé¢æ ·å¼</span>
<span class="hljs-title function_">watch</span>(cssVars, <span class="hljs-function">(<span class="hljs-params">newVars</span>) =&gt;</span> {
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span> = newVars
}, { <span class="hljs-attr">immediate</span>: <span class="hljs-literal">true</span> })
</code></pre>
<h4 data-id="heading-13">é—®é¢˜2ï¼š<code>watch</code>çš„<code>deep: true</code>é€‰é¡¹ä¼šå½±å“æ€§èƒ½å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</h4>
<h4 data-id="heading-14">ç­”æ¡ˆè§£æï¼š</h4>
<p>ä¼šå½±å“æ€§èƒ½ã€‚å› ä¸º<code>deep: true</code>ä¼šè®©Vue<strong>é€’å½’éå†å¯¹è±¡çš„æ‰€æœ‰å±æ€§</strong>ï¼Œç›‘å¬æ¯ä¸ªå±æ€§çš„å˜åŒ–ã€‚å¦‚æœå¯¹è±¡å¾ˆå¤§ï¼ˆæ¯”å¦‚æœ‰å¤šå±‚åµŒå¥—çš„å±æ€§ï¼‰ï¼Œé€’å½’éå†ä¼šæ¶ˆè€—è¾ƒå¤šçš„æ€§èƒ½ã€‚</p>
<p><strong>ä¼˜åŒ–å»ºè®®</strong>ï¼šä¼˜å…ˆä½¿ç”¨<strong>å‡½æ•°å¼ç›‘å¬</strong>ï¼ˆ<code>watch(() =&gt; obj.value.prop, ...)</code>ï¼‰ä»£æ›¿<code>deep: true</code>ï¼Œå› ä¸ºå‡½æ•°å¼ç›‘å¬åªä¼šç›‘å¬æŒ‡å®šçš„å±æ€§ï¼Œè€Œéæ•´ä¸ªå¯¹è±¡ã€‚</p>
<h3 data-id="heading-15">å¸¸è§æŠ¥é”™ä¸è§£å†³æ–¹æ¡ˆ</h3>
<p>åœ¨ä½¿ç”¨è®¡ç®—å±æ€§å’Œä¾¦å¬å™¨æ—¶ï¼Œåˆå­¦è€…å¸¸é‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š</p>
<h4 data-id="heading-16">æŠ¥é”™1ï¼šè®¡ç®—å±æ€§æ— é™å¾ªç¯</h4>
<p><strong>é”™è¯¯è¡¨ç°</strong>ï¼š<code>Maximum recursive updates exceeded</code>ï¼ˆè¶…è¿‡æœ€å¤§é€’å½’æ›´æ–°æ¬¡æ•°ï¼‰ã€‚<br/>
<strong>åŸå› </strong>ï¼šè®¡ç®—å±æ€§ä¸­ä¿®æ”¹äº†è‡ªèº«çš„ä¾èµ–ï¼Œå¯¼è‡´æ— é™å¾ªç¯ã€‚æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
<span class="hljs-comment">// é”™è¯¯ï¼šè®¡ç®—å±æ€§ä¿®æ”¹äº†ä¾èµ–count</span>
<span class="hljs-keyword">const</span> double = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  count.<span class="hljs-property">value</span>++ <span class="hljs-comment">// ç¦æ­¢ï¼è®¡ç®—å±æ€§ä¸èƒ½ä¿®æ”¹å“åº”å¼ä¾èµ–</span>
  <span class="hljs-keyword">return</span> count.<span class="hljs-property">value</span> * <span class="hljs-number">2</span>
})
</code></pre>
<p><strong>è§£å†³</strong>ï¼šè®¡ç®—å±æ€§å¿…é¡»æ˜¯<strong>çº¯å‡½æ•°</strong>ï¼Œä¸èƒ½ä¿®æ”¹ä»»ä½•å“åº”å¼æ•°æ®ã€‚å¦‚æœéœ€è¦ä¿®æ”¹æ•°æ®ï¼Œç”¨ä¾¦å¬å™¨ä»£æ›¿ã€‚</p>
<h4 data-id="heading-17">æŠ¥é”™2ï¼š<code>watch</code>ç›‘å¬å¯¹è±¡ä¸è§¦å‘</h4>
<p><strong>é”™è¯¯è¡¨ç°</strong>ï¼šä¿®æ”¹å¯¹è±¡çš„å±æ€§æ—¶ï¼Œ<code>watch</code>æ²¡æœ‰è§¦å‘ã€‚<br/>
<strong>åŸå› </strong>ï¼š<code>watch</code>é»˜è®¤åªç›‘å¬å¯¹è±¡çš„<strong>å¼•ç”¨å˜åŒ–</strong>ï¼ˆå³<code>obj = newObj</code>ï¼‰ï¼Œä¸ç›‘å¬å¯¹è±¡å†…éƒ¨å±æ€§çš„å˜åŒ–ï¼ˆå¦‚<code>obj.value.name = 'newName'</code>ï¼‰ã€‚<br/>
<strong>è§£å†³</strong>ï¼š</p>
<ol>
<li>ä½¿ç”¨<strong>å‡½æ•°å¼ç›‘å¬</strong>ï¼ˆæ¨èï¼‰ï¼š<code>watch(() =&gt; obj.value.name, ...)</code>ï¼ˆç›‘å¬å¯¹è±¡çš„å…·ä½“å±æ€§ï¼‰ã€‚</li>
<li>ä½¿ç”¨<code>deep: true</code>ï¼š<code>watch(obj, ..., { deep: true })</code>ï¼ˆç›‘å¬æ•´ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§å˜åŒ–ï¼Œé€‚åˆå¯¹è±¡è¾ƒå°çš„åœºæ™¯ï¼‰ã€‚</li>
</ol>
<h4 data-id="heading-18">æŠ¥é”™3ï¼š<code>watchEffect</code>æ— æ³•è·å–æ—§å€¼</h4>
<p><strong>é”™è¯¯è¡¨ç°</strong>ï¼šéœ€è¦æ—§å€¼ä½†æ— æ³•è·å–ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
<span class="hljs-title function_">watchEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ—§å€¼ï¼š'</span>, ???, <span class="hljs-string">'æ–°å€¼ï¼š'</span>, count.<span class="hljs-property">value</span>) <span class="hljs-comment">// æ— æ³•è·å–æ—§å€¼</span>
})
</code></pre>
<p><strong>åŸå› </strong>ï¼š<code>watchEffect</code>æ˜¯<strong>è‡ªåŠ¨è¿½è¸ªä¾èµ–</strong>çš„ï¼ŒVueæ— æ³•é¢„å…ˆçŸ¥é“å“ªäº›ä¾èµ–ä¼šå˜åŒ–ï¼Œå› æ­¤æ— æ³•ä¿å­˜æ—§å€¼ã€‚<br/>
<strong>è§£å†³</strong>ï¼šå¦‚æœéœ€è¦æ—§å€¼ï¼Œæ”¹ç”¨<code>watch</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">watch</span>(count, <span class="hljs-function">(<span class="hljs-params">newVal, oldVal</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ—§å€¼ï¼š'</span>, oldVal, <span class="hljs-string">'æ–°å€¼ï¼š'</span>, newVal)
})
</code></pre>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<ul>
<li>Vue3è®¡ç®—å±æ€§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fvuejs.org%2Fguide%2Fessentials%2Fcomputed.html" target="_blank" title="https://vuejs.org/guide/essentials/computed.html" ref="nofollow noopener noreferrer">vuejs.org/guide/essenâ€¦</a></li>
<li>Vue3ä¾¦å¬å™¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fvuejs.org%2Fguide%2Fessentials%2Fwatchers.html" target="_blank" title="https://vuejs.org/guide/essentials/watchers.html" ref="nofollow noopener noreferrer">vuejs.org/guide/essenâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Figma Vector Networks: é‡æ–°å®šä¹‰çŸ¢é‡å›¾å½¢ç¼–è¾‘]]></title>    <link>https://juejin.cn/post/7574204970745233454</link>    <guid>https://juejin.cn/post/7574204970745233454</guid>    <pubDate>2025-11-19T00:50:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574204970745233454" data-draft-id="7573899782803554350" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Figma Vector Networks: é‡æ–°å®šä¹‰çŸ¢é‡å›¾å½¢ç¼–è¾‘"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-19T00:50:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¬é£è¯´å›¾"/> <meta itemprop="url" content="https://juejin.cn/user/198345371681864"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Figma Vector Networks: é‡æ–°å®šä¹‰çŸ¢é‡å›¾å½¢ç¼–è¾‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/198345371681864/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¬é£è¯´å›¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T00:50:01.000Z" title="Wed Nov 19 2025 00:50:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨ä¼ ç»Ÿçš„çŸ¢é‡å›¾å½¢è®¾è®¡å·¥å…·ä¸­ï¼ŒSVG Path ä¸€ç›´æ˜¯æè¿°çŸ¢é‡å›¾å½¢çš„æ ‡å‡†æ–¹å¼ã€‚ç„¶è€Œï¼ŒFigma å¼•å…¥äº†ä¸€ç§é©å‘½æ€§çš„æ¦‚å¿µâ€”â€”Vector Networksï¼ˆçŸ¢é‡ç½‘æ ¼ï¼‰ï¼Œå®ƒä»æ ¹æœ¬ä¸Šæ”¹å˜äº†æˆ‘ä»¬å¯¹çŸ¢é‡å›¾å½¢çš„ç†è§£å’Œæ“ä½œæ–¹å¼ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ Vector Networks çš„æŠ€æœ¯ç‰¹æ€§ï¼Œå¹¶ä¸ä¼ ç»Ÿçš„ SVG Path è¿›è¡Œå¯¹æ¯”ï¼Œé˜è¿°å…¶ç‹¬ç‰¹ä¼˜åŠ¿ã€‚</p>
<h2 data-id="heading-1">æ¦‚è¿°</h2>
<p>ç®€å•ç†è§£ï¼šSVG Path å—é™äºçº¿æ€§çš„çº¿æ¡ï¼Œè€Œ Vector Networksï¼ˆçŸ¢é‡ç½‘æ ¼ï¼‰çªç ´äº†è¿™ä¸ªé™åˆ¶ï¼Œå¯ä»¥è¡¨ç¤ºç”±èŠ‚ç‚¹å’Œçº¿æ¡ç»„æˆçš„ä»»æ„ç½‘æ ¼ã€‚ç½‘æ ¼å¯ä»¥å¾ˆå®¹æ˜“é™ç»´è¡¨ç¤ºçº¿æ¡ï¼Œä½†çº¿æ¡åªèƒ½é€šè¿‡å¤æ‚çš„æ‰‹æ®µæ¥æè¿°ç½‘æ ¼ã€‚</p>
<h2 data-id="heading-2">SVG Pathï¼šä¼ ç»Ÿçš„çŸ¢é‡è¡¨ç¤ºæ–¹å¼</h2>
<h3 data-id="heading-3">SVG Path çš„åŸºæœ¬åŸç†</h3>
<p>SVG Path ä½¿ç”¨ä¸€ç³»åˆ—å‘½ä»¤æ¥æè¿°è·¯å¾„ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;path <span class="hljs-attr">d</span>=<span class="hljs-string">"M 10,10 L 90,10 L 90,90 L 10,90 Z"</span> /&gt;
</code></pre>
<p>å¸¸è§å‘½ä»¤åŒ…æ‹¬ï¼š</p>
<ul>
<li><code>M</code> (moveto): ç§»åŠ¨åˆ°èµ·ç‚¹</li>
<li><code>L</code> (lineto): ç”»ç›´çº¿</li>
<li><code>C</code> (curveto): è´å¡å°”æ›²çº¿</li>
<li><code>Z</code> (closepath): é—­åˆè·¯å¾„</li>
</ul>
<h3 data-id="heading-4">SVG Path çš„å±€é™æ€§</h3>
<ol>
<li><strong>å•å‘æ€§</strong>: Path æ˜¯æœ‰æ–¹å‘çš„ï¼Œä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„å•å‘åºåˆ—</li>
<li><strong>éš¾ä»¥ç¼–è¾‘</strong>: ä¿®æ”¹ä¸­é—´èŠ‚ç‚¹å¯èƒ½éœ€è¦é‡æ–°è®¡ç®—æ•´ä¸ªè·¯å¾„</li>
<li><strong>åˆ†æ”¯é™åˆ¶</strong>: éš¾ä»¥è¡¨ç¤ºå…·æœ‰åˆ†æ”¯ç»“æ„çš„å¤æ‚å›¾å½¢</li>
<li><strong>æ‹“æ‰‘çº¦æŸ</strong>: å¿…é¡»éµå¾ªä¸¥æ ¼çš„ç‚¹åˆ°ç‚¹è¿æ¥é¡ºåº</li>
</ol>
<p><strong>ç¤ºä¾‹ï¼šç»˜åˆ¶ä¸€ä¸ªç®€å•çš„ T å½¢</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9b7f1306b6c41da98321a12285a98aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCs6aOO6K-05Zu-:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764118201&amp;x-signature=sGlwdRySctObmE7T7Zs6ySMTOus%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- éœ€è¦ä¸¤ä¸ªç‹¬ç«‹çš„ path --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M 50,10 L 50,90"</span> /&gt;</span>        <span class="hljs-comment">&lt;!-- ç«–çº¿ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M 10,30 L 90,30"</span> /&gt;</span>        <span class="hljs-comment">&lt;!-- æ¨ªçº¿ --&gt;</span>
</code></pre>
<p>æˆ‘ä»¬ç§»åŠ¨é¡¶ç‚¹æ—¶ï¼Œæœ‰æ—¶å¸Œæœ›å®ƒä»¬èƒ½å¤Ÿ <code>ç²˜è¿</code> åœ¨ä¸€èµ·ï¼Œä½† SVG æ²¡æ³•åšåˆ°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0ea9151749e4bfaa212ec825ce4646f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCs6aOO6K-05Zu-:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764118201&amp;x-signature=%2BAyhTPBPQA8cRaBUfaOjbnWJJWE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">Vector Networksï¼šæ–°ä¸€ä»£çŸ¢é‡æ¨¡å‹</h2>
<h3 data-id="heading-6">æ ¸å¿ƒæ¦‚å¿µ</h3>
<p>Vector Networks å°†çŸ¢é‡å›¾å½¢æŠ½è±¡ä¸ºä¸€ä¸ª<strong>å›¾ç»“æ„</strong>ï¼ˆGraphï¼‰ï¼ŒåŒ…å«ï¼š</p>
<ul>
<li><strong>é¡¶ç‚¹ (Vertices)</strong> : å›¾å½¢ä¸­çš„ç‚¹</li>
<li><strong>è¾¹ (Edges)</strong> : è¿æ¥é¡¶ç‚¹çš„çº¿æ®µæˆ–æ›²çº¿</li>
<li><strong>åŒºåŸŸ (Regions)</strong> : ç”±è¾¹å›´æˆçš„å°é—­åŒºåŸŸ</li>
</ul>
<p>è¿™æ˜¯ä¸€ç§<strong>éæ–¹å‘æ€§</strong>çš„æ‹“æ‰‘ç»“æ„ï¼Œå…è®¸ä»»æ„çš„è¿æ¥å…³ç³»ã€‚</p>
<h3 data-id="heading-7">æ•°æ®ç»“æ„</h3>
<pre><code class="hljs language-ini" lang="ini">interface VectorNetwork {
  vertices: Vertex<span class="hljs-section">[]</span><span class="hljs-comment">;</span>
  edges: Edge<span class="hljs-section">[]</span><span class="hljs-comment">;</span>
  regions: Region<span class="hljs-section">[]</span><span class="hljs-comment">;</span>
}

interface Vertex {
  id: string<span class="hljs-comment">;</span>
  x: number<span class="hljs-comment">;</span>
  y: number<span class="hljs-comment">;</span>
  // å¯ä»¥è¿æ¥ä»»æ„æ•°é‡çš„è¾¹
  connectedEdges: string<span class="hljs-section">[]</span><span class="hljs-comment">;</span>
}

interface Edge {
  id: string<span class="hljs-comment">;</span>
  start: string<span class="hljs-comment">;  // vertex id</span>
  end: string<span class="hljs-comment">;    // vertex id</span>
  // è´å¡å°”æ§åˆ¶ç‚¹
  handleStart?: Point<span class="hljs-comment">;</span>
  handleEnd?: Point<span class="hljs-comment">;</span>
}

interface Region {
  id: string<span class="hljs-comment">;</span>
  // å›´æˆè¯¥åŒºåŸŸçš„è¾¹çš„é›†åˆ
  boundaryEdges: string<span class="hljs-section">[]</span><span class="hljs-comment">;</span>
  fill?: Paint<span class="hljs-comment">;</span>
}
</code></pre>
<h3 data-id="heading-8">å…³é”®ç‰¹æ€§</h3>
<h4 data-id="heading-9">1. éæ–¹å‘æ€§è¿æ¥ï¼Œè‡ªç”±åˆ†æ”¯</h4>
<p>åœ¨ Vector Networks ä¸­ï¼Œä¸€ä¸ªé¡¶ç‚¹å¯ä»¥è¿æ¥ä»»æ„æ•°é‡çš„è¾¹ï¼Œæ²¡æœ‰èµ·ç‚¹å’Œç»ˆç‚¹çš„æ¦‚å¿µï¼Œå¤©ç„¶æ”¯æŒåˆ†æ”¯ç»“æ„ï¼Œè¿™åœ¨ç»˜åˆ¶å¤æ‚å›¾å½¢æ—¶æä¸ºé‡è¦ã€‚</p>
<p><strong>T å½¢ç»“æ„åœ¨ Vector Network ä¸­ï¼Œæ—¢å¯ä»¥</strong> ****<code>ä¸ç²˜è¿</code> ****<strong>ä¹Ÿå¯ä»¥</strong> ****<code>ç²˜è¿</code> <strong>ï¼Œéå¸¸çµæ´»ï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/48d003a9c63f4903a782f3535aba4c7d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCs6aOO6K-05Zu-:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764118201&amp;x-signature=jt9NuX9uVpAts3Ij5zGwEKVrH2c%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5a2e8b4b47d4969becc25063b18f673~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCs6aOO6K-05Zu-:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764118201&amp;x-signature=F77uD5dgRgpONjLmx8yyakCnG4U%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-10">2. æ™ºèƒ½åŒºåŸŸè¯†åˆ«</h4>
<p>Vector Networks è‡ªåŠ¨è¯†åˆ«ç”±è¾¹å›´æˆçš„å°é—­åŒºåŸŸï¼Œæ¯ä¸ªåŒºåŸŸå¯ä»¥ç‹¬ç«‹å¡«å……ã€‚</p>
<p><strong>ç»˜åˆ¶ä¸€ä¸ªå¸¦å­”çš„çŸ©å½¢ï¼Œè‡ªåŠ¨è¯†åˆ«å¯å¡«å……åŒºåŸŸï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bddf3ce504504edaadf786483cb4166e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCs6aOO6K-05Zu-:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764118201&amp;x-signature=gC%2F2HIzXJOoNA1%2FmK9HLVhruun4%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-css" lang="css">// ç»˜åˆ¶ä¸€ä¸ªå¸¦å­”çš„çŸ©å½¢
const network: VectorNetwork = {
  vertices: [
    // å¤–çŸ©å½¢
    { id: <span class="hljs-string">'v1'</span>, x: <span class="hljs-number">0</span>, y: <span class="hljs-number">0</span> },
    { id: <span class="hljs-string">'v2'</span>, x: <span class="hljs-number">100</span>, y: <span class="hljs-number">0</span> },
    { id: <span class="hljs-string">'v3'</span>, x: <span class="hljs-number">100</span>, y: <span class="hljs-number">100</span> },
    { id: <span class="hljs-string">'v4'</span>, x: <span class="hljs-number">0</span>, y: <span class="hljs-number">100</span> },
    // å†…çŸ©å½¢ï¼ˆå­”ï¼‰
    { id: <span class="hljs-string">'v5'</span>, x: <span class="hljs-number">30</span>, y: <span class="hljs-number">30</span> },
    { id: <span class="hljs-string">'v6'</span>, x: <span class="hljs-number">70</span>, y: <span class="hljs-number">30</span> },
    { id: <span class="hljs-string">'v7'</span>, x: <span class="hljs-number">70</span>, y: <span class="hljs-number">70</span> },
    { id: <span class="hljs-string">'v8'</span>, x: <span class="hljs-number">30</span>, y: <span class="hljs-number">70</span> },
  ],
  edges: [
    // å¤–è¾¹
    { id: <span class="hljs-string">'e1'</span>, start: <span class="hljs-string">'v1'</span>, end: <span class="hljs-string">'v2'</span> },
    { id: <span class="hljs-string">'e2'</span>, start: <span class="hljs-string">'v2'</span>, end: <span class="hljs-string">'v3'</span> },
    { id: <span class="hljs-string">'e3'</span>, start: <span class="hljs-string">'v3'</span>, end: <span class="hljs-string">'v4'</span> },
    { id: <span class="hljs-string">'e4'</span>, start: <span class="hljs-string">'v4'</span>, end: <span class="hljs-string">'v1'</span> },
    // å†…è¾¹
    { id: <span class="hljs-string">'e5'</span>, start: <span class="hljs-string">'v5'</span>, end: <span class="hljs-string">'v6'</span> },
    { id: <span class="hljs-string">'e6'</span>, start: <span class="hljs-string">'v6'</span>, end: <span class="hljs-string">'v7'</span> },
    { id: <span class="hljs-string">'e7'</span>, start: <span class="hljs-string">'v7'</span>, end: <span class="hljs-string">'v8'</span> },
    { id: <span class="hljs-string">'e8'</span>, start: <span class="hljs-string">'v8'</span>, end: <span class="hljs-string">'v5'</span> },
  ],
  regions: [
    // è‡ªåŠ¨è¯†åˆ«çš„åŒºåŸŸï¼šå¤–çŸ©å½¢å‡å»å†…çŸ©å½¢
    { 
      id: <span class="hljs-string">'r1'</span>, 
      boundaryEdges: [<span class="hljs-string">'e1'</span>, <span class="hljs-string">'e2'</span>, <span class="hljs-string">'e3'</span>, <span class="hljs-string">'e4'</span>, <span class="hljs-string">'e5'</span>, <span class="hljs-string">'e6'</span>, <span class="hljs-string">'e7'</span>, <span class="hljs-string">'e8'</span>],
      fill: { <span class="hljs-attribute">color</span>: <span class="hljs-string">'#D9D9D9'</span> }
    }
  ]
};
</code></pre>
<p>SVG éœ€è¦ä½¿ç”¨ <code>fill-rule</code> å’Œå¤æ‚çš„è·¯å¾„æ–¹å‘æ¥å®ç°ç›¸åŒæ•ˆæœã€‚</p>
<h2 data-id="heading-11">Vector Networks vs SVG Pathï¼šæ·±åº¦å¯¹æ¯”</h2>
<h3 data-id="heading-12">1. ç¼–è¾‘çµæ´»æ€§</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th>SVG Path</th><th>Vector Networks</th></tr></thead><tbody><tr><td>æ·»åŠ èŠ‚ç‚¹</td><td>éœ€è¦é‡æ–°è®¡ç®—è·¯å¾„åºåˆ—</td><td>ç›´æ¥æ·»åŠ é¡¶ç‚¹å’Œè¾¹</td></tr><tr><td>åˆ é™¤èŠ‚ç‚¹</td><td>å¯èƒ½æ–­å¼€è·¯å¾„</td><td>è‡ªåŠ¨è°ƒæ•´è¿æ¥å…³ç³»</td></tr><tr><td>åˆ›å»ºåˆ†æ”¯</td><td>éœ€è¦åˆ›å»ºæ–°è·¯å¾„</td><td>ç›´æ¥ä»é¡¶ç‚¹å¼•å‡ºæ–°è¾¹</td></tr><tr><td>åˆå¹¶å›¾å½¢</td><td>å¤æ‚çš„å¸ƒå°”è¿ç®—</td><td>åˆå¹¶é¡¶ç‚¹å’Œè¾¹</td></tr></tbody></table>
<p><strong>å®ä¾‹ï¼šåœ¨çº¿æ®µä¸­é—´æ·»åŠ åˆ†æ”¯</strong></p>
<p>SVG Path:</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- åŸå§‹ï¼šä¸€æ¡ç›´çº¿ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M 0,0 L 100,0"</span> /&gt;</span>

<span class="hljs-comment">&lt;!-- æ·»åŠ å‘ä¸Šåˆ†æ”¯ï¼šéœ€è¦æ‹†åˆ† --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M 0,0 L 50,0"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M 50,0 L 100,0"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M 50,0 L 50,-50"</span> /&gt;</span>
</code></pre>
<p>Vector Networks:</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9368af8a105d4bd19774efd0e94ff220~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCs6aOO6K-05Zu-:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764118201&amp;x-signature=tebwDkEwCFv486LPJom%2BvrY%2B3kc%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">//</span> <span class="hljs-string">åŸå§‹</span>
<span class="hljs-attr">vertices:</span> [
  { <span class="hljs-attr">id:</span> <span class="hljs-string">'v1'</span>, <span class="hljs-attr">x:</span> <span class="hljs-number">0</span>, <span class="hljs-attr">y:</span> <span class="hljs-number">0</span> },
  { <span class="hljs-attr">id:</span> <span class="hljs-string">'v2'</span>, <span class="hljs-attr">x:</span> <span class="hljs-number">100</span>, <span class="hljs-attr">y:</span> <span class="hljs-number">0</span> }
]
<span class="hljs-attr">edges:</span> [
  { <span class="hljs-attr">id:</span> <span class="hljs-string">'e1'</span>, <span class="hljs-attr">start:</span> <span class="hljs-string">'v1'</span>, <span class="hljs-attr">end:</span> <span class="hljs-string">'v2'</span> }
]

<span class="hljs-string">//</span> <span class="hljs-string">æ·»åŠ åˆ†æ”¯ï¼šåªéœ€æ’å…¥æ–°é¡¶ç‚¹ï¼Œè°ƒæ•´è¾¹çš„è¿æ¥</span>
<span class="hljs-attr">vertices:</span> [
  { <span class="hljs-attr">id:</span> <span class="hljs-string">'v1'</span>, <span class="hljs-attr">x:</span> <span class="hljs-number">0</span>, <span class="hljs-attr">y:</span> <span class="hljs-number">0</span> },
  { <span class="hljs-attr">id:</span> <span class="hljs-string">'v2'</span>, <span class="hljs-attr">x:</span> <span class="hljs-number">50</span>, <span class="hljs-attr">y:</span> <span class="hljs-number">0</span> },  <span class="hljs-string">//</span> <span class="hljs-string">æ–°é¡¶ç‚¹</span>
  { <span class="hljs-attr">id:</span> <span class="hljs-string">'v3'</span>, <span class="hljs-attr">x:</span> <span class="hljs-number">100</span>, <span class="hljs-attr">y:</span> <span class="hljs-number">0</span> },
  { <span class="hljs-attr">id:</span> <span class="hljs-string">'v4'</span>, <span class="hljs-attr">x:</span> <span class="hljs-number">50</span>, <span class="hljs-attr">y:</span> <span class="hljs-number">-50</span> } <span class="hljs-string">//</span> <span class="hljs-string">åˆ†æ”¯é¡¶ç‚¹</span>
]
<span class="hljs-attr">edges:</span> [
  { <span class="hljs-attr">id:</span> <span class="hljs-string">'e1'</span>, <span class="hljs-attr">start:</span> <span class="hljs-string">'v1'</span>, <span class="hljs-attr">end:</span> <span class="hljs-string">'v2'</span> },
  { <span class="hljs-attr">id:</span> <span class="hljs-string">'e2'</span>, <span class="hljs-attr">start:</span> <span class="hljs-string">'v2'</span>, <span class="hljs-attr">end:</span> <span class="hljs-string">'v3'</span> },
  { <span class="hljs-attr">id:</span> <span class="hljs-string">'e3'</span>, <span class="hljs-attr">start:</span> <span class="hljs-string">'v2'</span>, <span class="hljs-attr">end:</span> <span class="hljs-string">'v4'</span> } <span class="hljs-string">//</span> <span class="hljs-string">åˆ†æ”¯è¾¹</span>
]
</code></pre>
<h3 data-id="heading-13">2. æ‹“æ‰‘è¡¨è¾¾èƒ½åŠ›</h3>
<p>Vector Networks å¯ä»¥è¡¨ç¤ºä»»æ„çš„å›¾æ‹“æ‰‘ç»“æ„ï¼Œè€Œ SVG Path å—é™äºè·¯å¾„çš„çº¿æ€§ç‰¹æ€§ã€‚</p>
<p><strong>å¤æ‚ç¤ºä¾‹ï¼šç»˜åˆ¶ä¸€ä¸ªæ˜Ÿå½¢ç½‘æ ¼</strong></p>
<p><strong>Vector Networks:</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3d519cf27fe4f96a9ca17b45b4ab0e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCs6aOO6K-05Zu-:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764118201&amp;x-signature=YqYi7XtKw4tRLFnp11T5ymcQfYg%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">//</span> <span class="hljs-string">Vector</span> <span class="hljs-string">Network</span> <span class="hljs-string">å¯ä»¥ä¼˜é›…åœ°è¡¨ç¤ºä¸­å¿ƒèŠ‚ç‚¹è¿æ¥å¤šä¸ªå¤–å›´èŠ‚ç‚¹</span>
<span class="hljs-string">const</span> <span class="hljs-string">starNetwork</span> <span class="hljs-string">=</span> {
  <span class="hljs-attr">vertices:</span> [
    { <span class="hljs-attr">id:</span> <span class="hljs-string">'center'</span>, <span class="hljs-attr">x:</span> <span class="hljs-number">50</span>, <span class="hljs-attr">y:</span> <span class="hljs-number">50</span> },
    { <span class="hljs-attr">id:</span> <span class="hljs-string">'p1'</span>, <span class="hljs-attr">x:</span> <span class="hljs-number">50</span>, <span class="hljs-attr">y:</span> <span class="hljs-number">0</span> },
    { <span class="hljs-attr">id:</span> <span class="hljs-string">'p2'</span>, <span class="hljs-attr">x:</span> <span class="hljs-number">93</span>, <span class="hljs-attr">y:</span> <span class="hljs-number">25</span> },
    { <span class="hljs-attr">id:</span> <span class="hljs-string">'p3'</span>, <span class="hljs-attr">x:</span> <span class="hljs-number">93</span>, <span class="hljs-attr">y:</span> <span class="hljs-number">75</span> },
    { <span class="hljs-attr">id:</span> <span class="hljs-string">'p4'</span>, <span class="hljs-attr">x:</span> <span class="hljs-number">50</span>, <span class="hljs-attr">y:</span> <span class="hljs-number">100</span> },
    { <span class="hljs-attr">id:</span> <span class="hljs-string">'p5'</span>, <span class="hljs-attr">x:</span> <span class="hljs-number">7</span>, <span class="hljs-attr">y:</span> <span class="hljs-number">75</span> },
    { <span class="hljs-attr">id:</span> <span class="hljs-string">'p6'</span>, <span class="hljs-attr">x:</span> <span class="hljs-number">7</span>, <span class="hljs-attr">y:</span> <span class="hljs-number">25</span> },
  ],
  <span class="hljs-attr">edges:</span> [
    { <span class="hljs-attr">id:</span> <span class="hljs-string">'e1'</span>, <span class="hljs-attr">start:</span> <span class="hljs-string">'center'</span>, <span class="hljs-attr">end:</span> <span class="hljs-string">'p1'</span> },
    { <span class="hljs-attr">id:</span> <span class="hljs-string">'e2'</span>, <span class="hljs-attr">start:</span> <span class="hljs-string">'center'</span>, <span class="hljs-attr">end:</span> <span class="hljs-string">'p2'</span> },
    { <span class="hljs-attr">id:</span> <span class="hljs-string">'e3'</span>, <span class="hljs-attr">start:</span> <span class="hljs-string">'center'</span>, <span class="hljs-attr">end:</span> <span class="hljs-string">'p3'</span> },
    { <span class="hljs-attr">id:</span> <span class="hljs-string">'e4'</span>, <span class="hljs-attr">start:</span> <span class="hljs-string">'center'</span>, <span class="hljs-attr">end:</span> <span class="hljs-string">'p4'</span> },
    { <span class="hljs-attr">id:</span> <span class="hljs-string">'e5'</span>, <span class="hljs-attr">start:</span> <span class="hljs-string">'center'</span>, <span class="hljs-attr">end:</span> <span class="hljs-string">'p5'</span> },
    { <span class="hljs-attr">id:</span> <span class="hljs-string">'e6'</span>, <span class="hljs-attr">start:</span> <span class="hljs-string">'center'</span>, <span class="hljs-attr">end:</span> <span class="hljs-string">'p6'</span> },
  ]
}<span class="hljs-string">;</span>
</code></pre>
<p>SVG Path éœ€è¦ 6 æ¡ç‹¬ç«‹çš„è·¯å¾„æ¥è¡¨ç¤ºã€‚</p>
<h3 data-id="heading-14">3. å¡«å……å’Œæè¾¹å¤„ç†</h3>






























<table><thead><tr><th>åœºæ™¯</th><th>SVG Path</th><th>Vector Networks</th></tr></thead><tbody><tr><td>å•ä¸€é—­åˆåŒºåŸŸ</td><td>ç›´æ¥å¡«å……</td><td>è‡ªåŠ¨è¯†åˆ«åŒºåŸŸå¡«å……</td></tr><tr><td>å¸¦å­”çš„å½¢çŠ¶</td><td>ä½¿ç”¨ fill-rule</td><td>è‡ªåŠ¨è®¡ç®—æ‹“æ‰‘åŒºåŸŸ</td></tr><tr><td>å¼€æ”¾è·¯å¾„</td><td>åªèƒ½æè¾¹</td><td>å¯ä»¥å•ç‹¬å¯¹è¾¹æè¾¹</td></tr><tr><td>å¤æ‚ç›¸äº¤</td><td>éœ€è¦è·¯å¾„è¿ç®—</td><td>è‡ªåŠ¨è¯†åˆ«æ‰€æœ‰åŒºåŸŸ</td></tr></tbody></table>
<p><strong>ç¤ºä¾‹ï¼šç›¸äº¤çš„ä¸¤ä¸ªåœ†</strong></p>
<p>SVG éœ€è¦ä½¿ç”¨å¤æ‚çš„è·¯å¾„å¸ƒå°”è¿ç®—æˆ– <code>clip-path</code>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;defs&gt;
  &lt;clipPath <span class="hljs-attr">id</span>=<span class="hljs-string">"clip"</span>&gt;
    &lt;circle <span class="hljs-attr">cx</span>=<span class="hljs-string">"50"</span> cy=<span class="hljs-string">"50"</span> r=<span class="hljs-string">"40"</span>/&gt;
  &lt;/clipPath&gt;
&lt;/defs&gt;
&lt;circle <span class="hljs-attr">cx</span>=<span class="hljs-string">"50"</span> cy=<span class="hljs-string">"50"</span> r=<span class="hljs-string">"40"</span> fill=<span class="hljs-string">"red"</span>/&gt;
&lt;circle <span class="hljs-attr">cx</span>=<span class="hljs-string">"70"</span> cy=<span class="hljs-string">"50"</span> r=<span class="hljs-string">"40"</span> fill=<span class="hljs-string">"blue"</span> clip-path=<span class="hljs-string">"url(#clip)"</span>/&gt;
</code></pre>
<p>Vector Networks è‡ªåŠ¨è¯†åˆ«ç›¸äº¤äº§ç”Ÿçš„ 3 ä¸ªåŒºåŸŸï¼ˆå·¦æœˆç‰™ã€ä¸­é—´äº¤é›†ã€å³æœˆç‰™ï¼‰ï¼Œå¯ä»¥åˆ†åˆ«å¡«å……ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e21a177bd42045cda0c4fa2a0952d3fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCs6aOO6K-05Zu-:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764118201&amp;x-signature=jdnE%2FEj1Tc%2F8CFyVpeEiL9Rt80I%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-15">4. æ€§èƒ½å’Œå­˜å‚¨</h3>






























<table><thead><tr><th>æŒ‡æ ‡</th><th>SVG Path</th><th>Vector Networks</th></tr></thead><tbody><tr><td>å­˜å‚¨å¤§å°</td><td>è·¯å¾„å­—ç¬¦ä¸²ï¼ˆç´§å‡‘ï¼‰</td><td>ç»“æ„åŒ–æ•°æ®ï¼ˆç•¥å¤§ï¼‰</td></tr><tr><td>è§£æé€Ÿåº¦</td><td>å¿«é€Ÿ</td><td>éœ€è¦æ„å»ºå›¾ç»“æ„</td></tr><tr><td>ç¼–è¾‘æ€§èƒ½</td><td>å±€éƒ¨ä¿®æ”¹éœ€è¦é‡è§£æ</td><td>O(1) ä¿®æ”¹é¡¶ç‚¹/è¾¹</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>é™æ€å±•ç¤ºã€å¯¼å‡º</td><td>äº¤äº’å¼ç¼–è¾‘</td></tr></tbody></table>
<h2 data-id="heading-16">Vector Networks çš„ç‹¬ç‰¹ä¼˜åŠ¿</h2>
<h3 data-id="heading-17">1. è®¾è®¡å·¥ä½œæµä¼˜åŒ–</h3>
<ul>
<li><strong>é’¢ç¬”å·¥å…·å¢å¼º</strong>: å¯ä»¥ä»ä»»æ„ç‚¹å¼•å‡ºæ–°è·¯å¾„ï¼Œæ— éœ€åˆ›å»ºæ–°å›¾å±‚</li>
<li><strong>æ™ºèƒ½è¿æ¥</strong>: é¡¶ç‚¹è‡ªåŠ¨å¸é™„å’Œåˆå¹¶</li>
<li><strong>éç ´åæ€§ç¼–è¾‘</strong>: ä¿æŒå®Œæ•´çš„æ‹“æ‰‘å…³ç³»ï¼Œä¾¿äºä¿®æ”¹</li>
</ul>
<h3 data-id="heading-18">2. å¤æ‚å›¾å½¢ç»˜åˆ¶</h3>
<p>éå¸¸é€‚åˆç»˜åˆ¶ï¼š</p>
<ul>
<li>æµç¨‹å›¾ã€çº¿æ¡†å›¾</li>
<li>å»ºç­‘å¹³é¢å›¾</li>
<li>ç”µè·¯å›¾ã€ç½‘ç»œæ‹“æ‰‘å›¾</li>
<li>æœ‰æœºå½¢æ€çš„æ’ç”»</li>
</ul>
<h2 data-id="heading-19">å‚è€ƒèµ„æº</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.figma.com%2Fblog%2Fintroducing-vector-networks%2F" target="_blank" title="https://www.figma.com/blog/introducing-vector-networks/" ref="nofollow noopener noreferrer">Figma: Introducing Vector Networks</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3.org%2FTR%2FSVG%2Fpaths.html" target="_blank" title="https://www.w3.org/TR/SVG/paths.html" ref="nofollow noopener noreferrer">SVG Path Specification - W3C</a></li>
</ul>
<hr/>
<p><em>æœ¬æ–‡æ·±å…¥æ¢è®¨äº† Figma Vector Networks çš„æŠ€æœ¯åŸç†å’Œè®¾è®¡å“²å­¦ï¼Œå¸Œæœ›èƒ½ä¸ºçŸ¢é‡å›¾å½¢ç¼–è¾‘å·¥å…·çš„å¼€å‘æä¾›å¯å‘ã€‚</em></p>
<p>æ›´å¤šç²¾å½©å†…å®¹å¯å…³æ³¨<a href="https://link.juejin.cn?target=https%3A%2F%2F01joy.com" target="_blank" title="https://01joy.com" ref="nofollow noopener noreferrer">é£èµ·çš„åšå®¢</a>ï¼Œå¾®ä¿¡å…¬ä¼—å·ï¼šå¬é£è¯´å›¾</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Rsbuildè¿ç§»ä¹‹node-sasså¼•å‘çš„è¡€æ¡ˆ]]></title>    <link>https://juejin.cn/post/7573892650815406095</link>    <guid>https://juejin.cn/post/7573892650815406095</guid>    <pubDate>2025-11-19T01:37:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573892650815406095" data-draft-id="7573988811916656690" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Rsbuildè¿ç§»ä¹‹node-sasså¼•å‘çš„è¡€æ¡ˆ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-11-19T01:37:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‚¥çŒªå¤§å¤§"/> <meta itemprop="url" content="https://juejin.cn/user/1723682483088253"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Rsbuildè¿ç§»ä¹‹node-sasså¼•å‘çš„è¡€æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1723682483088253/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‚¥çŒªå¤§å¤§
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T01:37:18.000Z" title="Wed Nov 19 2025 01:37:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ‰‹ä¸Šçš„å·¥ç¨‹éå¸¸å¤è€ï¼Œè¯¦ç»†å¯çœ‹æˆ‘çš„æ–‡ç« <a href="https://juejin.cn/user/1723682483088253/posts" target="_blank" title="https://juejin.cn/user/1723682483088253/posts">Vue2.6+Webpack4é¡¹ç›®è¿ç§»è‡³Rsbuild</a>ã€‚è¿ç§»çš„è¿‡ç¨‹ä¸­ï¼Œè€æ¿æ˜ç¡®ç”¨æˆ·åˆ†æ‰¹è¿ç§»ä¸”è¿ç§»æ—¶é—´æŒ‰æœˆç»´åº¦ç”šè‡³æ›´é•¿ã€‚è¿˜æå‡ºå¿…é¡»è¦æä¾›å‡ºé—®é¢˜åå¿«é€Ÿåˆ‡å›ç¨³å®šç¯å¢ƒçš„èƒ½åŠ›ã€‚å› æ­¤ï¼Œå¤§åˆ€é˜”æ–§ä¿®æ”¹ç°æœ‰ä»£ç çš„æ–¹æ¡ˆéœ€è¦æ’é™¤ï¼Œéœ€è¦é‡‡ç”¨åŒä¸€å¥—ä»£ç å…¼å®¹æ–°ï¼ˆRsbuildï¼‰ã€æ—§ï¼ˆWebpack 4ï¼‰ä¸¤ä¸ªæ„å»ºå·¥å…·çš„æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-0">ä¸»è¦æ”¹é€ ç‚¹</h2>
<p>é¦–å…ˆåˆ—ä¸¾è¿ç§»åˆ°Rsbuildä¸»è¦çš„æ”¹é€ ç‚¹ï¼š</p>
<ul>
<li>Nodeç‰ˆæœ¬ä»14å‡çº§åˆ°18+</li>
<li><code>Node Sass</code>æ”¹ä¸º<code>Dart Sass</code></li>
</ul>
<h2 data-id="heading-1">Sassä¸å½“è¯­æ³•ä¿®æ”¹</h2>
<p>å‡çº§<code>Dart Sass</code> åå­˜åœ¨éƒ¨åˆ†ä¸å…¼å®¹è¯­æ³•ï¼ŒæŒ‰ç…§æç¤ºè¿›è¡Œæ”¹é€ å³å¯ï¼ˆè¯¦ç»†å¯è§ä¸Šé¢çš„è¿ç§»æ–‡ç« ï¼‰ã€‚æ­¤éƒ¨åˆ†æ”¹é€ ç»æµ‹è¯•<code>Node Sass</code> å’Œ<code>Dart Sass</code> å‡å…¼å®¹ã€‚</p>
<h2 data-id="heading-2">/deep/è¿ç§»è‡³::v-deep</h2>
<p>æœ€è¦å‘½çš„éƒ¨åˆ†æ¥äº†ã€‚<code>Node Sass</code>ä¸<code>Dart Sass</code> æœ‰ä¸€ä¸ªæ°´ç«ä¸å®¹ä¸å¯è°ƒå’Œçš„è¯­æ³•ï¼Œé‚£å°±æ˜¯ç©¿é€ç¬¦å·ï¼š<code>Node Sass</code> ä½¿ç”¨<code>/deep/</code> è€Œ<code>Dart Sass</code>ä½¿ç”¨<code>::v-deep</code>ã€‚</p>
<p>å¦‚æœåŒä¸€å¥—ä»£ç è¦é€‚é…ä¸¤ä¸ªä¸åŒçš„sassï¼Œé‚£ä¹ˆåªèƒ½ä»<code>sass-loader</code> ä¸­å…¥æ‰‹ï¼šä½¿ç”¨Rsbuildçš„Sass pluginåœ¨è§£æSasså†…å®¹æ—¶å…¨å±€å°†ä»£ç ä¸­çš„<code>/deep/</code> æ›¿æ¢ä¸º<code>::v-deep</code> ã€‚</p>
<p>å¯ä»¥æŒ‰ç…§ä»¥ä¸‹è¯­å¥è¿›è¡Œæ›¿æ¢ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// rsbuild.config.js</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'@rsbuild/core'</span>;
<span class="hljs-keyword">import</span> { pluginSass } <span class="hljs-keyword">from</span> <span class="hljs-string">'@rsbuild/plugin-sass'</span>;
<span class="hljs-keyword">import</span> { pluginVue2 } <span class="hljs-keyword">from</span> <span class="hljs-string">'@rsbuild/plugin-vue2'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">pluginVue2</span>(),
    <span class="hljs-title function_">pluginSass</span>({
      <span class="hljs-attr">sassLoaderOptions</span>: {
        <span class="hljs-attr">additionalData</span>: <span class="hljs-function">(<span class="hljs-params">content</span>) =&gt;</span> content.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\/deep\//g</span>, <span class="hljs-string">'::v-deep '</span>),
      },
    }),
  ],
});

</code></pre>
<p>ä½†æ˜¯ç»æµ‹è¯•ï¼Œè¿™ä¸ªé…ç½®åªèƒ½å°†<code>.vue</code> æ–‡ä»¶ä¸­å†™åœ¨<code>&lt;style lang="scss"&gt;&lt;/style&gt;</code> ä¸­çš„ä»£ç è¿›è¡Œæ›¿æ¢ï¼Œé€šè¿‡ä¸‹é¢è¿™ç§å½¢å¼å¼•å…¥çš„ç‹¬ç«‹<code>scss</code> æ–‡ä»¶ä¸­çš„ä»£ç æ›¿æ¢ä¸äº†ï¼Œå› è€Œå¼•å‘æ„å»ºæŠ¥é”™ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// style/test.scss</span>

/deep/ <span class="hljs-selector-class">.deep-component</span> {
  <span class="hljs-attribute">color</span>: red;
}
</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;style scoped lang="scss"&gt;
@import "~@style/test.scss";
&lt;/style&gt;
</code></pre>
<p>åœ¨ä¸Šé¢çš„<code>additionalData</code> æ–¹æ³•ä¸­ï¼Œæ­¤å¤„è¯­å¥æ‰“å°å‡ºçš„contentç»“æœæ˜¯ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// log</span>
@<span class="hljs-keyword">import</span> <span class="hljs-string">"~@style/test.scss"</span>;
</code></pre>
<p>æ‰€ä»¥ç‹¬ç«‹æ–‡ä»¶å†…çš„Sasså†…å®¹ä½¿ç”¨<code>additionalData</code> æ–¹æ³•æ›¿æ¢æ˜¯ä¸ç”Ÿæ•ˆçš„ã€‚</p>
<p>ç„¶åç½‘ä¸Šæ‰¾äº†å„ç§æ–¹æ³•ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºä½¿ç”¨<code>string-replace-loader</code>è‡ªå®šä¹‰æ’ä»¶æ›¿æ¢Sasså†…å®¹ï¼Œéƒ½æ²¡æœ‰æˆåŠŸã€‚</p>
<p>ä»”ç»†æƒ³ä¸€æƒ³ï¼Œsass-loaderçš„è§£ææµç¨‹ï¼šå…ˆå°†<code>.vue</code> æ–‡ä»¶ä¸­çš„<code>style</code> æ ‡ç­¾è§£æï¼Œç„¶åå†è¯»å–<code>style</code> å†…éƒ¨çš„<code>@import</code> è¯­å¥å¯¼å…¥çš„å†…å®¹è¿›è¡Œåˆå¹¶ã€‚</p>
<p>é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰æ–¹æ³•ï¼Œæ˜¯åœ¨sass-loaderè¯»å–<code>@import</code> è¯­å¥å¯¼å…¥å†…å®¹æ—¶è¿è¡Œçš„å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æœ‰ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fsass-lang.com%2Fdocumentation%2Fjs-api%2Finterfaces%2Fimporter%2F" target="_blank" title="https://sass-lang.com/documentation/js-api/interfaces/importer/" ref="nofollow noopener noreferrer">Sass Importer</a>å°±ä»‹ç»äº†è‡ªå®šä¹‰åŠ è½½é€»è¾‘çš„æ–¹æ³•ã€‚</p>
<p>ç”±äº<code>Rsbuild</code> ä½¿ç”¨<code>sass-embedded</code> ä¸”é»˜è®¤å¼€å¯<a href="https://link.juejin.cn?target=https%3A%2F%2Frsbuild.rs%2Fzh%2Fplugins%2Flist%2Fplugin-sass%23%25E9%2580%2589%25E6%258B%25A9-sass-api" target="_blank" title="https://rsbuild.rs/zh/plugins/list/plugin-sass#%E9%80%89%E6%8B%A9-sass-api" ref="nofollow noopener noreferrer">modern-compiler</a>APIï¼Œå› æ­¤éœ€è¦ä½¿ç”¨æ–°çš„æ–¹æ³•è‡ªå®šä¹‰ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// scss-replace-importer.js</span>
<span class="hljs-keyword">import</span> fs <span class="hljs-keyword">from</span> <span class="hljs-string">"fs"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">SCSSDeepReplaceFileImporter</span> = (<span class="hljs-params">options</span>) =&gt; {
    <span class="hljs-keyword">return</span> {
        <span class="hljs-title function_">findFileUrl</span>(<span class="hljs-params">url</span>) {
            <span class="hljs-keyword">const</span> target = options.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">i</span> =&gt;</span> i.<span class="hljs-property">url</span> === url)
            <span class="hljs-keyword">if</span> (target) {
                <span class="hljs-keyword">const</span> content = fs.<span class="hljs-title function_">readFileSync</span>(target.<span class="hljs-property">path</span>, <span class="hljs-string">"utf8"</span>);
                <span class="hljs-keyword">const</span> newContent = content.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\/deep\//g</span>, <span class="hljs-string">"::v-deep"</span>);
                <span class="hljs-keyword">const</span> cachePath = <span class="hljs-string">`.cache/<span class="hljs-subst">${target.cacheName}</span>`</span>;

                fs.<span class="hljs-title function_">writeFileSync</span>(cachePath, newContent);
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(<span class="hljs-string">`./<span class="hljs-subst">${cachePath}</span>`</span>, <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">url</span>);
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        },
    }
};
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { dirname, resolve } <span class="hljs-keyword">from</span> <span class="hljs-string">"node:path"</span>
<span class="hljs-keyword">import</span> { fileURLToPath } <span class="hljs-keyword">from</span> <span class="hljs-string">"node:url"</span>;
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'@rsbuild/core'</span>;
<span class="hljs-keyword">import</span> { pluginSass } <span class="hljs-keyword">from</span> <span class="hljs-string">'@rsbuild/plugin-sass'</span>;
<span class="hljs-keyword">import</span> { pluginVue2 } <span class="hljs-keyword">from</span> <span class="hljs-string">'@rsbuild/plugin-vue2'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">SCSSDeepReplaceFileImporter</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./importer"</span>

<span class="hljs-keyword">const</span> __dirname = <span class="hljs-title function_">dirname</span>(<span class="hljs-title function_">fileURLToPath</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">url</span>));

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">resolve</span>: {
    <span class="hljs-attr">alias</span>: {
      <span class="hljs-string">"@style"</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">"style"</span>)
    }
  },
  
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">pluginVue2</span>(),
    <span class="hljs-title function_">pluginSass</span>({
      <span class="hljs-attr">sassLoaderOptions</span>: {
        <span class="hljs-attr">additionalData</span>: <span class="hljs-function">(<span class="hljs-params">content</span>) =&gt;</span> content.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\/deep\//g</span>, <span class="hljs-string">'::v-deep '</span>),
        <span class="hljs-attr">sassOptions</span>: {
          <span class="hljs-attr">importers</span>: [
            <span class="hljs-title class_">SCSSDeepReplaceFileImporter</span>([
              {
                <span class="hljs-attr">url</span>: <span class="hljs-string">"~@style/test.scss"</span>,
                <span class="hljs-attr">path</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">"style/test.scss"</span>),
                <span class="hljs-attr">cacheName</span>: <span class="hljs-string">"test.scss"</span>
              }
            ])
          ],
        },
      },
    }),
  ],
});

</code></pre>
<p>æ­¤æ–¹æ³•æˆåŠŸå°†é¢„è®¾çš„ç‹¬ç«‹<code>scss</code> æ–‡ä»¶ä¸­çš„<code>/deep/</code> æ›¿æ¢æˆ<code>::V-deep</code> ï¼Œé¡¹ç›®æˆåŠŸè¿è¡Œã€‚ä½†æ˜¯HMRæ¨¡å¼ä¸‹å‘ç°ä¼šä¸€ç›´è¿è¡Œhot reloadã€‚å› ä¸º<code>.cache</code> æ–‡ä»¶å†™å…¥æ—¶ä¼šè§¦å‘HMRçš„å†…å®¹æ›´æ–°ï¼Œå¯¼è‡´ä¸€ç›´å¾ªç¯è¿è¡Œhot reloadã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦åœ¨<code>Rsbuild</code> é…ç½®ä¸­å°†<code>.cache</code> æ–‡ä»¶å¤¹ä»HMRçš„æ–‡ä»¶ç›‘å¬åˆ—è¡¨ä¸­æ’é™¤ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'@rsbuild/core'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">tools</span>: {
    <span class="hljs-attr">rspack</span>: {
      <span class="hljs-attr">watchOptions</span>: {
        <span class="hljs-attr">ignored</span>: <span class="hljs-regexp">/\.cache/</span>
      }
    }
  },
});

</code></pre>
<p>è¿™æ ·ä¼šå‡ºç°ä¸€ä¸ªå°é—®é¢˜ï¼šæ›´æ”¹ç›®æ ‡<code>scss</code>æ–‡ä»¶æ—¶ä¸ä¼šè§¦å‘HMRï¼Œåªæœ‰å¼•å…¥æ­¤<code>scss</code> æ–‡ä»¶çš„æ–‡ä»¶å†…å®¹ä¿å­˜æ—¶æ‰ä¼šè§¦å‘ã€‚</p>
<p>ä¸è¿‡å¯¹äºå·¥ç¨‹è¿ç§»æ¥è¯´ç®—æ˜¯å°äº‹ã€‚æ–°ã€æ—§ä¸¤ä¸ªæ„å»ºå™¨å…±å­˜æœŸä¸€è¿‡ï¼Œæ­¤importerå°±å¯ä»¥å–æ¶ˆï¼Œç›´æ¥å°†ç›®æ ‡æ–‡ä»¶çš„<code>/deep/</code> è¯­æ³•ä¿®æ”¹å³å¯ã€‚</p>
<h2 data-id="heading-3">æ’æ›²</h2>
<blockquote>
<p>è¿œç¦»Node Sassï¼Œè¦ä¸ç„¶ä½ çš„ç”Ÿæ´»ä¼šå˜å¾—ä¸å¹¸ï¼ï¼ï¼</p>
</blockquote>
<p>åœ¨å‘ç°è‡ªå®šä¹‰importerçš„æ–¹æ¡ˆä¹‹å‰ï¼Œä¸€ç›´æ‰¾ä¸åˆ°å¥½çš„æ–¹å¼è§£å†³æ­¤é—®é¢˜ã€‚æ›¾ç»ä¸€åº¦æƒ³é‡‡ç”¨å‡çº§<code>node-sass@8</code> ç„¶å<a href="https://link.juejin.cn?target=https%3A%2F%2Frsbuild.rs%2Fzh%2Fplugins%2Flist%2Fplugin-sass%23%25E4%25BF%25AE%25E6%2594%25B9-sass-implementation" target="_blank" title="https://rsbuild.rs/zh/plugins/list/plugin-sass#%E4%BF%AE%E6%94%B9-sass-implementation" ref="nofollow noopener noreferrer">ä¿®æ”¹ Sass implementation</a>çš„æ–¹å¼è¿›è¡Œå‡çº§ã€‚</p>
<p>ä½†æ˜¯ï¼ä½†æ˜¯ï¼ä½†æ˜¯ï¼<code>node-sass@8</code>åœ¨æˆ‘çš„ç”µè„‘ä¸Šä¸€ç›´å®‰è£…å¤±è´¥ã€‚æˆ‘æ‰“å®šä¸»æ„ï¼Œä¸èƒ½è®©è¿™å¨åƒåœ¾ç»§ç»­ç¥¸å®³ä¸–äººï¼Œä¸€å®šè¦æ”¹ï¼Œæ‰€ä»¥æ‰å‡ºç°æœ¬æ–‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€æ¯æ—¥ä¸€é¢ã€‘å¦‚ä½•è§£å†³å†…å­˜æ³„æ¼]]></title>    <link>https://juejin.cn/post/7573892573346906164</link>    <guid>https://juejin.cn/post/7573892573346906164</guid>    <pubDate>2025-11-19T02:09:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573892573346906164" data-draft-id="7572749797469552649" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€æ¯æ—¥ä¸€é¢ã€‘å¦‚ä½•è§£å†³å†…å­˜æ³„æ¼"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-19T02:09:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Achieveå‰ç«¯å®éªŒå®¤"/> <meta itemprop="url" content="https://juejin.cn/user/1908407914473438"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€æ¯æ—¥ä¸€é¢ã€‘å¦‚ä½•è§£å†³å†…å­˜æ³„æ¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1908407914473438/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Achieveå‰ç«¯å®éªŒå®¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T02:09:35.000Z" title="Wed Nov 19 2025 02:09:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºç¡€é—®ç­”</h2>
<p>é—®ï¼šæœ‰æ²¡æœ‰é‡åˆ°è¿‡å†…å­˜æ³„æ¼ï¼Ÿæ€ä¹ˆæ’æŸ¥å¤„ç†çš„</p>
<p>ç­”ï¼šå‰ç«¯é¡µé¢ä¸Šå‡ºç°å†…å­˜æ³„éœ²ï¼Œä½¿ç”¨ Chrome devtools -&gt; memory å·¥å…·æ’æŸ¥ï¼Œé€‰æ‹©æ—¶é—´è½´åˆ†é…ï¼ˆAllocations on timelineï¼‰åŠŸèƒ½åå¼€å§‹å½•åˆ¶æ“ä½œï¼Œåœ¨é¡µé¢ä¸Šè¿›è¡Œç›¸å…³ç»„ä»¶çš„æ“ä½œï¼Œåœæ­¢å½•åˆ¶åï¼ŒæŸ¥çœ‹å†…å­˜æ›²çº¿ï¼Œé‡ç‚¹å…³æ³¨å†…å­˜æ›²çº¿ä¸Šå‡çš„å’Œä¸‹é™çš„ä½ç½®ï¼Œå¦‚å‡ºç°åªå‡ä¸é™ï¼Œæ²¡æœ‰æ˜æ˜¾å›è½çš„åŒºåŸŸï¼Œå†é‡ç‚¹æ“ä½œï¼Œé‡æ–°å½•åˆ¶å¯¹åº”ä½ç½®çš„æ“ä½œï¼Œé€æ­¥ç¼©å°å®šä½ã€‚å¯¹äºè¿™ç§é‡ç‚¹å…³æ³¨çš„åŒºåŸŸï¼Œå¯ä»¥åŒæ—¶ä½¿ç”¨å †å¿«ç…§è¿½è¸ªæŒç»­å¢é•¿çš„å¯¹è±¡ã€‚å¯¹æ’æŸ¥å‡ºæ¥çš„ç‚¹ä½è¿›è¡ŒéªŒè¯çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡å†…å­˜é¢æ¿çš„åƒåœ¾å›æ”¶æŒ‰é’®ï¼Œå¦‚ä¸‹å›¾ï¼Œå›æ”¶åå¦‚æœå†…å­˜å¤§å°è¿˜æ˜¯å¾ˆé«˜ï¼Œå¯ä»¥ç¡®è®¤æ˜¯å­˜åœ¨æ— æ³•å›æ”¶çš„å†…å­˜ï¼Œæœ‰æ³„éœ²çš„æƒ…å†µã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea3977fc97f94a0f902aa71d9bb95b34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWNoaWV2ZeWJjeerr-WunumqjOWupA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764122974&amp;x-signature=xQB0jmkcXnhCEy%2BUb9wk8xjA%2BzQ%3D" alt="image-20251116025955-kdes7f7-tmiqyaxt.png" loading="lazy"/></p>
<h2 data-id="heading-1">æ‰©å±•å»¶ä¼¸</h2>
<p>å†…å­˜æ³„æ¼æ˜¯ JavaScript å¼€å‘ä¸­éšè”½æ€§å¼ºä¸”å½±å“ä¸¥é‡çš„é—®é¢˜ï¼Œå°¤å…¶åœ¨é•¿ç”Ÿå‘½å‘¨æœŸåº”ç”¨ï¼Œå¦‚ SPAã€åå°ç®¡ç†ç³»ç»Ÿä¸­ï¼Œå¯èƒ½å¯¼è‡´é¡µé¢å¡é¡¿ã€å´©æºƒç”šè‡³æµè§ˆå™¨æ— å“åº”çš„é—®é¢˜ã€‚</p>
<p>å†…å­˜æ³„éœ²çš„æœ¬è´¨æ˜¯ï¼š<strong>æœ¬æ¥åº”è¯¥è¢«å›æ”¶çš„å¯¹è±¡å› ä¸ºæ„å¤–çš„å¼•ç”¨è€Œä¿ç•™äº†ä¸‹æ¥ï¼Œå¯¼è‡´åƒåœ¾å›æ”¶å™¨æ— æ³•é‡Šæ”¾è¿™ä¸ªå¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ï¼Œä½¿å¾—å†…å­˜å ç”¨æŒç»­å¢é•¿ã€‚</strong></p>
<h3 data-id="heading-2">åƒåœ¾å›æ”¶æœºåˆ¶</h3>
<p>JavaScript é‡‡ç”¨è‡ªåŠ¨åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œä¸éœ€è¦æ‰‹åŠ¨é‡Šæ”¾å†…å­˜ï¼Œé€šè¿‡<strong>å¼•ç”¨è®¡æ•°</strong>å’Œ<strong>æ ‡è®°-æ¸…é™¤</strong>ç®—æ³•å›æ”¶ä¸å†ä½¿ç”¨çš„å†…å­˜ï¼š</p>
<ul>
<li><strong>å¼•ç”¨è®¡æ•°</strong>ï¼šè·Ÿè¸ªæ¯ä¸ªå¯¹è±¡è¢«å¼•ç”¨çš„æ¬¡æ•°ï¼Œæ¬¡æ•°ä¸º 0 æ—¶å›æ”¶ï¼Œä½†æ˜¯å‡ºç°å¾ªç¯å¼•ç”¨çš„æ—¶å€™ï¼Œè¿™ä¸ªå°±æ— æ³•è§£å†³äº†ã€‚</li>
<li><strong>æ ‡è®° - æ¸…é™¤</strong>ï¼šä»æ ¹å¯¹è±¡ï¼ˆå¦‚ <code>window</code> ï¼‰å‡ºå‘ï¼Œæ ‡è®°æ‰€æœ‰å¯è¾¾å¯¹è±¡ï¼Œæœªè¢«æ ‡è®°çš„å¯¹è±¡å°†è¢«å›æ”¶ï¼Œè¿™æ˜¯ç›®å‰æµè§ˆå™¨ä¸»æµçš„ç®—æ³•ã€‚</li>
</ul>
<h3 data-id="heading-3">OOM</h3>
<p>å’Œå†…å­˜æ³„éœ²ç›¸å…³è”çš„è¿˜æœ‰ä¸€ä¸ªæ¦‚å¿µï¼Œå³OOMï¼Œ<strong>å†…å­˜æº¢å‡º</strong>ï¼ŒæŒ‡çš„æ˜¯åœ¨ç¨‹åºç”³è¯·å†…å­˜æ—¶ï¼Œå‘ç°æ²¡æœ‰å¯ç”¨å†…å­˜åˆ†é…ï¼Œç›´æ¥æŠ›å‡ºäº† OOM å¼‚å¸¸ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œå†…å­˜æ³„éœ²æ˜¯å†…å­˜æº¢å‡ºçš„ä¸€ä¸ªåŸå› ï¼Œä½†ä¸æ˜¯å”¯ä¸€çš„åŸå› ï¼Œè€Œå†…å­˜æ³„éœ²ä¼šæŒç»­æ¶ˆè€—å†…å­˜èµ„æºï¼Œæœ€ç»ˆå¯¼è‡´æ²¡æœ‰å¯ä»¥åˆ†é…çš„å†…å­˜ç»™ç¨‹åºï¼Œå‡ºç° OOMã€‚</p>
<h3 data-id="heading-4">å†…å­˜æ³„éœ²çš„åœºæ™¯</h3>
<ol>
<li>
<p>æ„å¤–çš„å…¨å±€å˜é‡</p>
<p>ä¸€èˆ¬æ˜¯åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹å‡ºç°ï¼Œä½¿ç”¨çš„å˜é‡æ²¡æœ‰å£°æ˜ï¼Œä¼šéšå¼çš„ç»‘å®šåˆ° <code>window</code> å¯¹è±¡ä¸Šï¼Œå˜æˆæŒä¹…æ€§çš„å¼•ç”¨ï¼Œå¦‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"/>) {
	data = {};
}
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šå¯¹äºè¿™ç§æƒ…å†µï¼Œç¬¬ä¸€ä¼˜å…ˆçš„æ˜¯å¯åŠ¨ä¸¥æ ¼æ¨¡å¼ï¼ˆç°åœ¨çš„æ¡†æ¶æˆ–é¡¹ç›®éƒ½æ˜¯é»˜è®¤ä¸ºä¸¥æ ¼æ¨¡å¼ï¼Œé€šå¸¸ä¸éœ€è¦å…³æ³¨ï¼‰ï¼Œå…¶æ¬¡ï¼Œåœ¨ç°åœ¨ä½¿ç”¨çš„ es6 è§„èŒƒä¸‹ï¼Œä¼˜å…ˆä½¿ç”¨ <code>let/const</code>â€‹ å…³é”®å­—å£°æ˜ï¼Œæœ€åå¦‚æœçœŸçš„æ˜¯å…¨å±€å˜é‡ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨ç¡®å®šä¸å†ä½¿ç”¨åï¼Œèµ‹å€¼ä¸º <code>null</code> ï¼Œä»è€Œåˆ‡æ–­å¯¹è±¡çš„å¼•ç”¨ï¼Œè®© GC è‡ªåŠ¨å›æ”¶ã€‚</p>
</li>
<li>
<p>é—­åŒ…å¯¼è‡´å†…å­˜æ³„éœ²</p>
<p>å¯¹äºå‰ç«¯ï¼Œé—­åŒ…æ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„ç‰¹æ€§ï¼Œä½†åŒæ—¶ä¹Ÿéœ€è¦åœ¨ä½¿ç”¨çš„æ—¶å€™æ³¨æ„ï¼Œå¦‚æœåˆ›å»ºçš„é—­åŒ…è¢«é•¿æœŸä½¿ç”¨ï¼Œåˆ™é—­åŒ…æŒæœ‰çš„å˜é‡å°±æ— æ³•é‡Šæ”¾ï¼Œä¸€ä¸ªç»å…¸æ¡ˆä¾‹å°±æ˜¯è®¡æ—¶å™¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">handleOnClickFac</span>(<span class="hljs-params"/>) {
	<span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>;
	<span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
		timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
			<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'hello'</span>);
		}, <span class="hljs-number">3000</span>);
	}
}

<span class="hljs-variable language_">window</span>.<span class="hljs-property">clickBtn</span> = <span class="hljs-title function_">handleOnClickFac</span>();

btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">clickBtn</span>);
</code></pre>
<p>åœ¨è¿™é‡Œï¼Œæ¯æ¬¡ç‚¹å‡»æŒ‰é’®éƒ½ä¼šè§¦å‘å®šæ—¶å™¨çš„åˆ›å»ºï¼Œä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰æ¸…é™¤å›æ”¶ï¼Œæ‰€ä»¥å¯¼è‡´è¿™ä¸ªå®šæ—¶å™¨ä¸€ç›´å­˜åœ¨ï¼Œæ¯æ¬¡ç‚¹å‡»çš„æ—¶å€™éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®šæ—¶å™¨ã€‚</p>
<p>è¿™ä¸ªä¾‹å­ä¸­ï¼ŒåŒ…å«ä¸¤ä¸ªåœºæ™¯ï¼Œä¸€æ˜¯é—­åŒ…ï¼ŒäºŒæ˜¯å®šæ—¶å™¨ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šé™åˆ¶é—­åŒ…ç”Ÿå‘½å‘¨æœŸï¼Œæ¯”å¦‚è¿™é‡Œåœ¨ btn ç»„ä»¶å¸è½½æ—¶ï¼Œé”€æ¯é—­åŒ…ï¼Œä»è€Œå®ç°â€œä¸å¯è¾¾â€çš„æƒ…å†µï¼Œè®© GC å›æ”¶ï¼Œå…¶æ¬¡éœ€è¦åœ¨ä½¿ç”¨å®Œæˆåï¼Œæ¸…é™¤é—­åŒ…å†…çš„å¼•ç”¨ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…è¦æ¸…æ¥šå¼•ç”¨ï¼ŒåŒæ—¶è¿˜åº”è¯¥æ¸…é™¤å®šæ—¶å™¨ï¼Œå¦åˆ™ä¾æ—§å­˜åœ¨é—®é¢˜ã€‚</p>
</li>
<li>
<p>DOM å…ƒç´ å¼•ç”¨æœªé‡Šæ”¾</p>
<p>åˆ†ä¸¤ç§æƒ…å†µï¼š1. DOM æ ‘ä¸­å·²ç»æ²¡æœ‰ DOM å…ƒç´ äº†ï¼Œä½†æ˜¯ JavaScript ä¸­è¿˜æœ‰è¿™ä¸ª DOM å…ƒç´ çš„é“¾æ¥ï¼ˆå˜é‡ï¼‰ï¼Œ2. äº‹ä»¶ç›‘å¬å™¨æ²¡æœ‰ç§»é™¤ï¼Œå­˜åœ¨ DOM å’Œç›‘å¬å›è°ƒå­˜åœ¨äº’ç›¸å¼•ç”¨çš„æƒ…å†µã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åœºæ™¯1ï¼šDOMå·²åˆ é™¤ä½† JS ä»å¼•ç”¨</span>
<span class="hljs-keyword">const</span> list = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'list'</span>);
<span class="hljs-keyword">const</span> data = { <span class="hljs-attr">element</span>: list }; <span class="hljs-comment">// å¼•ç”¨DOMå…ƒç´ </span>
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">removeChild</span>(list); 
<span class="hljs-comment">// listå·²ä»DOMæ ‘ç§»é™¤ï¼Œä½†data.elementä»å¼•ç”¨å®ƒï¼Œæ— æ³•å›æ”¶</span>

<span class="hljs-comment">// åœºæ™¯2ï¼šäº‹ä»¶ç›‘å¬å™¨æœªç§»é™¤</span>
<span class="hljs-keyword">const</span> button = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'btn'</span>);
button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç‚¹å‡»äº‹ä»¶'</span>);
});
<span class="hljs-comment">// æŒ‰é’®è¢«åˆ é™¤åï¼Œç›‘å¬å™¨æœªç§»é™¤ï¼Œå¯¼è‡´æŒ‰é’®å’Œå›è°ƒå‡½æ•°éƒ½æ— æ³•å›æ”¶</span>
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šè§£å†³è¿™ç±»åœºæ™¯çš„æ ¸å¿ƒä¾æ—§æ˜¯åœ¨ä¸éœ€è¦çš„æ—¶å€™é‡Šæ”¾å¼•ç”¨ï¼Œä¸è¿‡å¯¹äº DOMï¼Œè¿˜æœ‰ä¸€ç§æ–¹å¼å°±æ˜¯ä½¿ç”¨äº‹ä»¶å§”æ‰˜ï¼Œä»è€Œåœ¨å­å…ƒç´ åˆ é™¤çš„æ—¶å€™ä¸å—å½±å“ã€‚</p>
</li>
<li>
<p>ç¬¬ä¸‰æ–¹åº“èµ„æºæœªæ¸…ç†</p>
<p>ç±»ä¼¼äº Echarts ã€åœ°å›¾ç­‰åº“ï¼Œä¼šè¦æ±‚æˆ‘ä»¬åœ¨ä¸ä½¿ç”¨çš„æ—¶å€™ï¼Œè°ƒç”¨å¯¹åº”çš„é”€æ¯çš„ APIï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰è°ƒç”¨ï¼Œè¿™äº›åº“åˆ›å»ºçš„ä¸´æ—¶èµ„æºå°±ä¼šæŒç»­å ç”¨å†…å­˜ï¼Œå¯¼è‡´å†…å­˜æ³„éœ²ã€‚</p>
</li>
</ol>
<p>è¿™äº›åœºæ™¯ä¸‹çš„è§£å†³æ–¹æ¡ˆéƒ½æ˜¯éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨åœ¨éœ€è¦çš„åœ°æ–¹å»æ¸…é™¤å¼•ç”¨ï¼Œä»è€Œä½¿ GC èƒ½å¤Ÿè¯†åˆ«å¹¶å›æ”¶å†…å­˜ï¼Œé€šè¿‡è¿™äº›ä¾‹å­ä¹Ÿä¸éš¾å‘ç°ï¼Œè™½ç„¶åœ¨ JavaScript ä¸­ä¸éœ€è¦æˆ‘ä»¬åšç±»ä¼¼äº C++ çš„æ‰‹åŠ¨å†…å­˜å›æ”¶ï¼Œä½†æ˜¯ä¾æ—§éœ€è¦æˆ‘ä»¬å»å¸®åŠ© GC æ›´å¥½çš„åˆ¤æ–­èµ„æºæ˜¯å¦éœ€è¦å›æ”¶ã€‚</p>
<h3 data-id="heading-5">æ£€æµ‹å’Œåˆ†æ</h3>
<p>å†…å­˜æ³„éœ²çš„æ£€æµ‹å’Œåˆ†æä¸»è¦æ˜¯é€šè¿‡æµè§ˆå™¨çš„å†…å­˜å·¥å…·ï¼Œè¿™é‡Œä»¥ Chrome ä¸ºä¾‹ï¼Œæˆ‘ä»¬åœ¨æ£€æµ‹å’Œåˆ†ææ—¶ä½¿ç”¨çš„æ˜¯ Chrome Devtool Memory é¢æ¿ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/272cd4ac080f4e3190092ee96df28501~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWNoaWV2ZeWJjeerr-WunumqjOWupA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764122974&amp;x-signature=vYa2QNSuUyDaUiPoy%2FKFZajFhAU%3D" alt="image-20251116153104-s5tb0qs-scjvtike.png" loading="lazy"/></p>
<ol>
<li>
<p>è§‚å¯Ÿæ—¶é—´çº¿ä¸Šçš„åˆ†é…ï¼ˆAllocation Timelineï¼‰</p>
<ol>
<li>å¼€å¯è®°å½•åï¼ŒæŒ‰ç…§æ¨æµ‹çš„é—®é¢˜ï¼Œæ“ä½œé¡µé¢å†…å®¹ï¼Œå®Œæˆååœæ­¢è®°å½•ï¼Œå¼€å§‹è‡ªåŠ¨åˆ†æ</li>
<li>è§‚å¯Ÿåªå‡ä¸é™çš„åŒºåŸŸï¼Œé‡å¤å½•åˆ¶è¯¥åŒºåŸŸå¯¹åº”çš„æ“ä½œï¼ŒæŸ¥çœ‹å†…å­˜æ˜¯å¦ç¡®å®å­˜åœ¨åªåˆ†é…ä¸å›æ”¶çš„æƒ…å†µï¼Œè®°å½•è¯¥æ“ä½œ</li>
</ol>
</li>
<li>
<p>è®°å½•å †å¿«ç…§ï¼ˆHeap Snapshotï¼‰</p>
<ol>
<li>
<p>æ“ä½œå¼€å§‹å‰ï¼Œè®°å½•ä¸€æ¬¡åˆå§‹çš„å †å¿«ç…§</p>
</li>
<li>
<p>é‡å¤ç¬¬ä¸€æ­¥è®°å½•çš„æ“ä½œï¼Œæ‹æ‘„ç¬¬äºŒæ¬¡å¿«ç…§ï¼Œå¹¶å¼€å¯æ¯”è¾ƒï¼ˆComparisonï¼‰æ¨¡å¼ï¼Œé‡ç‚¹å…³æ³¨ Delta å’Œ Retainers æŒ‡æ ‡ï¼ˆè¿™é‡Œå¯¹åº”çš„é¢æ¿çš„ä¸­æ–‡åæ˜¯ <code>#å¢é‡</code>â€‹ å’Œ <code>å›ºå®šè£…ç½®</code> ï¼Œç¿»è¯‘ä¸æ˜¯å¾ˆå‡†ç¡®ï¼Œè¿™é‡Œæä¾›è‹±æ–‡ç•Œé¢çš„å›¾ä½œä¸ºå‚è€ƒ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8a67c4552084840893ff5c05fecaa12~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWNoaWV2ZeWJjeerr-WunumqjOWupA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764122974&amp;x-signature=oTPQ2NuHuBySx7DgY3EMg4lA4Qo%3D" alt="image-20251116153926-8vvr07i-edfpjyti.png" loading="lazy"/>
Delta å…³æ³¨æŒç»­å¢é•¿çš„å¯¹è±¡ï¼ŒRetainer è¿½è¸ªå¼•ç”¨è¯¥å¯¹è±¡çš„å˜é‡</p>
</li>
</ol>
</li>
<li>
<p>ç‚¹å‡»åƒåœ¾æ¡¶ï¼ˆä»£è¡¨ GCï¼‰è§¦å‘ä¸€æ¬¡ GCï¼Œå¦‚æœ GC åå†…å­˜ä¾æ—§å¾ˆé«˜ï¼Œå°±å¯ä»¥ç¡®è®¤æ˜¯å­˜åœ¨å†…å­˜æ³„éœ²ã€‚</p>
</li>
</ol>
<p>â€</p>
<h2 data-id="heading-6">é¢è¯•è¿½é—®</h2>
<ol>
<li>
<p>å†…å­˜æ³„éœ²å’Œå†…å­˜æº¢å‡ºæœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ</p>
<p>å†…å­˜æ³„éœ²ä¼šå¯¼è‡´å†…å­˜æº¢å‡ºï¼Œä½†æ˜¯å†…å­˜æº¢å‡ºä¸ä¸€å®šæ˜¯å†…å­˜æ³„éœ²å¯¼è‡´çš„ã€‚</p>
</li>
<li>
<p>å¸¸è§çš„å†…å­˜æ³„éœ²åœºæ™¯ï¼Œä¸¾ä¸ªä¾‹å­ï¼Ÿ</p>
<p>å‚è€ƒæœ¬æ–‡ã€å†…å­˜æ³„éœ²çš„åœºæ™¯ã€‘ä¸€èŠ‚</p>
</li>
<li>
<p>Node.js æœåŠ¡ä¸­ï¼Œé•¿ç”Ÿå‘½å‘¨æœŸå¯¹è±¡æŒæœ‰çŸ­ç”Ÿå‘½å‘¨æœŸå¯¹è±¡æ˜¯ä¸€ä¸ªå…¸å‹çš„æ³„éœ²åœºæ™¯ï¼Œä¸¾ä¾‹å¹¶ç»™å‡ºæ’æŸ¥æ€è·¯</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç”¨å…¨å±€å¯¹è±¡åšç¼“å­˜ï¼Œæ— æ·˜æ±°ç­–ç•¥</span>
<span class="hljs-keyword">const</span> cache = {}; 

<span class="hljs-comment">// æ¥å£æ¯æ¬¡è¯·æ±‚éƒ½å¾€ç¼“å­˜åŠ æ•°æ®</span>
app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/data'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> key = <span class="hljs-string">`data_<span class="hljs-subst">${req.query.id}</span>`</span>;
  <span class="hljs-keyword">const</span> largeData = <span class="hljs-title function_">fetchLargeData</span>(req.<span class="hljs-property">query</span>.<span class="hljs-property">id</span>); <span class="hljs-comment">// 10MB æ•°æ®</span>
  cache[key] = largeData; <span class="hljs-comment">// åªåŠ ä¸åˆ ï¼Œç¼“å­˜æŒç»­è†¨èƒ€</span>
  res.<span class="hljs-title function_">send</span>(largeData);
});
</code></pre>
<p>ç”±äº cache æ²¡æœ‰è®¾ç½®ç¼“å­˜çš„è¿‡æœŸæ—¶é—´ã€æ·˜æ±°çš„æ–¹å¼ï¼Œå¯¼è‡´ largeData ä¸€ç›´è¢«æŒæœ‰ï¼Œä½¿å¾—å†…å­˜ä¸æ–­å¢é•¿ã€‚</p>
<p>æ’æŸ¥æ€è·¯ï¼š1. Node.js åº”ç”¨å¯åŠ¨æ—¶æ·»åŠ  <code>--inspect</code> æ ‡å¿—ï¼Œ2. åœ¨ Chrome æµè§ˆå™¨ä¸­ï¼Œè®¿é—® chrome://inspect é“¾æ¥å¯¹åº”çš„ Node è¿›ç¨‹ï¼Œå¼€å§‹ç›‘æµ‹ï¼Œ3. è®°å½•åˆå§‹æ—¶çš„å †å¿«ç…§å’Œå¤šæ¬¡è§¦å‘åçš„å †å¿«ç…§ï¼Œæ–¹å¼å‚è€ƒã€æ£€æµ‹å’Œåˆ†æã€‘ä¸€èŠ‚ï¼Œ4. æŸ¥çœ‹ cache çš„å¼•ç”¨è·¯å¾„ä»¥åŠæ¸…ç†é€»è¾‘ã€‚5. è®¾ç½®ç¼“å­˜æ—¶é—´æˆ–LRUæ·˜æ±°ç­–ç•¥è§£å†³è¿™ä¸ªé—®é¢˜</p>
</li>
<li>
<p>çº¿ä¸Šç¯å¢ƒ Nodejs OOM è§¦å‘æŠ¥è­¦äº†ï¼Œä½ åº”è¯¥æ€ä¹ˆåšï¼Ÿ</p>
<p>é¦–å…ˆï¼Œåº”æ€¥æ­¢æŸï¼Œæ»šåŠ¨é‡å¯æœåŠ¡ï¼Œé¿å…æŸå¤±æ‰©å¤§ï¼ŒåŒæ—¶å¢åŠ å†…å­˜å»¶ç¼“ OOM æ—¶é—´ã€‚</p>
<p>å…¶æ¬¡ï¼Œåˆ†æé—®é¢˜å‡ºç°çš„æ—¶é—´ï¼Œåˆ¤æ–­æ˜¯å¦å¯ä»¥å›æ»šæœåŠ¡è§£å†³ã€‚</p>
<p>æœ€åï¼Œåˆ†æå®šä½æ ¹æºï¼ŒæŒ‰ç…§æœåŠ¡æ—¥å¿—å’Œæœ¬åœ°æ’æŸ¥æ‰‹æ®µè¿›è¡Œã€‚</p>
<p>å¦‚æœä½¿ç”¨çš„æ˜¯ k8s ç­‰è™šåŒ–æ‰‹æ®µï¼Œå¯ä»¥é…ç½®æœåŠ¡é‡å¯è§„åˆ™ï¼Œé¿å…äººå·¥ä½æ•ˆçš„æ“ä½œæ–¹å¼ã€‚</p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ® ä» NES åˆ°ç°ä»£ Web â€”â€” åƒç´ é£ç»„ä»¶åº“ Pixel UI React ç‰ˆæœ¬ï¼Œæ¬¢è¿å¤§å®¶ä¸€èµ·å‚ä¸è¿™ä¸ªé¡¹ç›®]]></title>    <link>https://juejin.cn/post/7573892650816290831</link>    <guid>https://juejin.cn/post/7573892650816290831</guid>    <pubDate>2025-11-19T02:51:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573892650816290831" data-draft-id="7573950036896366632" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ® ä» NES åˆ°ç°ä»£ Web â€”â€” åƒç´ é£ç»„ä»¶åº“ Pixel UI  React ç‰ˆæœ¬ï¼Œæ¬¢è¿å¤§å®¶ä¸€èµ·å‚ä¸è¿™ä¸ªé¡¹ç›®"/> <meta itemprop="keywords" content="å‰ç«¯,React.js,Vue.js"/> <meta itemprop="datePublished" content="2025-11-19T02:51:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°è‚šè‚šè‚šè‚šè‚šå“¦"/> <meta itemprop="url" content="https://juejin.cn/user/2911933190649815"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ® ä» NES åˆ°ç°ä»£ Web â€”â€” åƒç´ é£ç»„ä»¶åº“ Pixel UI  React ç‰ˆæœ¬ï¼Œæ¬¢è¿å¤§å®¶ä¸€èµ·å‚ä¸è¿™ä¸ªé¡¹ç›®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2911933190649815/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°è‚šè‚šè‚šè‚šè‚šå“¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T02:51:25.000Z" title="Wed Nov 19 2025 02:51:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="tomorrow">.hljs-comment,.hljs-quote{color:#8e908c}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#c82829}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5871f}.hljs-attribute{color:#eab700}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#718c00}.hljs-section,.hljs-title{color:#4271ae}.hljs-keyword,.hljs-selector-tag{color:#8959a8}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#4d4d4c}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿˜è®°å¾—å‡ ä¸ªæœˆå‰ï¼Œæ˜é‡‘ä½œè€… <code>@çŒ«é—·å°817</code> çš„ Vue3 ç‰ˆä¸Šçº¿äº†ï¼Œåœ°å€æ˜¯è¿™ä¸ªï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmaomentai817%2Fpixel-ui" target="_blank" title="https://github.com/maomentai817/pixel-ui" ref="nofollow noopener noreferrer">github.com/maomentai81â€¦</a> ã€‚ç°åœ¨æˆ‘ä¸ä»–åˆä½œçš„ React ç‰ˆä¹Ÿæ¥äº†ï¼Œgithub åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmaomentai817%2Fpixel-ui-react" target="_blank" title="https://github.com/maomentai817/pixel-ui-react" ref="nofollow noopener noreferrer">github.com/maomentai81â€¦</a></p>
<hr/>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f4d664c86b04b469d980ef8932d11b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6IKa6IKa6IKa6IKa6IKa5ZOm:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125553&amp;x-signature=icztMBR1I2rzZJmPS1i3RB%2Bj%2BtE%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-0">1ï¸âƒ£ é¡¹ç›®åˆè¡·</h3>
<p>çº¢ç™½æœºã€GameBoy æ¸¸æˆï¼Œé‚£ç§å—çŠ¶åƒç´  UI æ€»è®©äººå¿ƒé©°ç¥å¾€ã€‚ç°åœ¨è™½ç„¶æ˜¯ç°ä»£ Web æ—¶ä»£ï¼Œä½†åƒç´ é£ UI çš„ç¾å­¦ä¾ç„¶ä»¤äººç€è¿·ã€‚</p>
<p>ç°æœ‰çš„ 8-bit é£ç»„ä»¶åº“ <code>NES.css</code> æ˜¯ä¸€ä¸ª CSS æ¡†æ¶, å®ƒåªéœ€è¦ CSSï¼Œä¸ä¾èµ–äºä»»ä½• JavaScript, æ ¸å¿ƒç»˜åˆ¶é€»è¾‘éƒ½æ˜¯åŸºäº <code>box-shadow</code> å®ç°, ä½†åœ¨ä¸åŒæµè§ˆå™¨ç¯å¢ƒ, æµè§ˆå™¨ç¼©æ”¾æ—¶ï¼Œ<code>box-shadow</code> çš„æµ®ç‚¹åç§»å€¼ç»è¿‡ç¼©æ”¾åæ— æ³•ç²¾å‡†å¯¹é½ç‰©ç†åƒç´ ç½‘æ ¼ï¼Œå¯¼è‡´æ¸²æŸ“å‡ºç°é—´éš™ã€‚å­åƒç´ å®šä½ã€åƒç´ èˆå…¥è¯¯å·®å’Œ <code>box-shadow</code> æœ¬èº«ä¸é€‚åˆç²¾ç»†æ‹¼æ¥æ¸²æŸ“ç­‰åŸå› é€ æˆäº†ä¸€äº›å›°æ‰°</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a4e876c8916d43f1996c6cf50d67dfdd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6IKa6IKa6IKa6IKa6IKa5ZOm:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125553&amp;x-signature=BDdcJLEO8g4fhxxkRxQQp7hxRY0%3D" alt="QQ_1747188289846.png" loading="lazy"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnostalgic-css%2FNES.css" title="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnostalgic-css%2FNES.css" target="_blank">NES.css</a></p>
<p>äºæ˜¯å°±æœ‰äº†åŸºäº Vue 3 / React + TypeScript + UnoCSS + CSS Houdini æ‰“é€ çš„ä¸€æ¬¾ç»„ä»¶åº“ â€”â€” è®©<strong>åƒç´ é£é‡å›å‰ç«¯è§†é‡</strong>ã€‚</p>
<p>Vue3 é¡¹ç›®åœ°å€ğŸ‘‡<br/>
ğŸ“¦ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmaomentai817%2Fpixel-ui" title="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmaomentai817%2Fpixel-ui" target="_blank">pixel-ui</a></p>
<p>React é¡¹ç›®åœ°å€ğŸ‘‡<br/>
ğŸ“¦ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmaomentai817%2Fpixel-ui-react" target="_blank" title="https://github.com/maomentai817/pixel-ui-react" ref="nofollow noopener noreferrer">pixel-ui-react</a></p>
<p>ç»„ä»¶åº“é¦–é¡µğŸ‘‡<br/>
ğŸ“ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmaomentai817.github.io%2Fpixel-ui-react" target="_blank" title="https://maomentai817.github.io/pixel-ui-react" ref="nofollow noopener noreferrer">Home</a></p>
<hr/>
<h3 data-id="heading-1">2ï¸âƒ£ æŠ€æœ¯é€‰å‹</h3>





































<table><thead><tr><th>æŠ€æœ¯æ ˆ</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>React19 + <code>Hooks</code></td><td>ç»„ä»¶åŒ–å¼€å‘æ ¸å¿ƒ</td></tr><tr><td>TypeScript</td><td>ç±»å‹ç³»ç»Ÿå¢å¼ºå¼€å‘ä½“éªŒ</td></tr><tr><td>UnoCSS</td><td>åŸå­åŒ– CSSï¼Œçµæ´»é…ç½®æ ·å¼ç±»</td></tr><tr><td>CSS Houdini</td><td>è‡ªå®šä¹‰ Paint Worklet æ¸²æŸ“åƒç´ è¾¹æ¡†</td></tr><tr><td>Dumi</td><td>ç»„ä»¶å±•ç¤º + æ–‡æ¡£ç³»ç»Ÿ</td></tr><tr><td>Vitest</td><td>æµ‹è¯•ç»„ä»¶é€»è¾‘ä¸æ¸²æŸ“</td></tr><tr><td>pnpm + Monorepo</td><td>é«˜æ•ˆæ„å»ºä¸å¤šåŒ…ç®¡ç†</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-2">3ï¸âƒ£ é¡¹ç›®ç›®å‰è¿›åº¦</h3>
<p>å·²è¿ç§»ä¸Šçº¿ç»„ä»¶ï¼š</p>
<ul>
<li>âœ… Button æŒ‰é’®</li>
<li>âœ… Icon å›¾æ ‡</li>
<li>âœ… Overlay é®ç½©å±‚</li>
<li>âœ… Text æ–‡æœ¬</li>
<li>âœ… ConfigProvider å…¨å±€é…ç½®</li>
<li>âœ… Input è¾“å…¥æ¡†</li>
<li>âœ… Popconfirm æ°”æ³¡ç¡®è®¤æ¡†</li>
<li>âœ… Tooltip æ–‡å­—æç¤º</li>
</ul>
<p>å·²å‘å¸ƒ npmï¼Œå¯ä¾›ä¸‹è½½ã€‚</p>
<blockquote>
<p>æ›´è¿‡è§„åˆ’è§ vue ç‰ˆï¼š<a href="https://juejin.cn/post/7503846429081944101" target="_blank" title="https://juejin.cn/post/7503846429081944101">juejin.cn/post/750384â€¦</a></p>
</blockquote>
<hr/>
<h3 data-id="heading-3">4ï¸âƒ£ æ•ˆæœé¢„è§ˆ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/321c817049094abcb7929b92290baeb6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6IKa6IKa6IKa6IKa6IKa5ZOm:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125553&amp;x-signature=zhNUX0BNRhEGvEhK5LrHaKtpRAE%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/924702c654ff4ebcad8d2d7032c0b75f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6IKa6IKa6IKa6IKa6IKa5ZOm:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125553&amp;x-signature=tsZjqdbYMM9EnyK6qKVcUfeW%2BgQ%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-4"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cbb6c174543d4779bb0f6dead9e41330~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6IKa6IKa6IKa6IKa6IKa5ZOm:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125553&amp;x-signature=bgYT1nXf7Hb4W71yfsURsiHkkcc%3D" alt="image.png" loading="lazy"/></h2>
<p>æ¬¢è¿å¤§å®¶ï¼š</p>
<ul>
<li>ğŸŒŸ ç‚¹ä¸ª Star</li>
<li>ğŸ› æ Issueï¼Œæœ‰ä»€ä¹ˆå¥½çš„ç‚¹å­å’Œæƒ³æ³•éƒ½å¯ä»¥æ</li>
<li>ğŸ¤ æ PRï¼Œå¢å¼ºå®Œå–„åŠŸèƒ½</li>
<li>ğŸ“¢ åˆ†äº«ç»™åƒç´ æ§æœ‹å‹ï¼</li>
</ul>
<blockquote>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmaomentai817%2Fpixel-ui-react" target="_blank" title="https://github.com/maomentai817/pixel-ui-react" ref="nofollow noopener noreferrer">github.com/maomentai81â€¦</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºSimCLRçš„è‡ªç›‘ç£ YOLOï¼šYOLOv5/8ä¹Ÿèƒ½åœ¨ä½æ ‡æ³¨åœºæ™¯ç›®æ ‡æ£€æµ‹æ€§èƒ½é£™å‡]]></title>    <link>https://juejin.cn/post/7573896789366456358</link>    <guid>https://juejin.cn/post/7573896789366456358</guid>    <pubDate>2025-11-19T01:06:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573896789366456358" data-draft-id="7574204970745282606" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºSimCLRçš„è‡ªç›‘ç£ YOLOï¼šYOLOv5/8ä¹Ÿèƒ½åœ¨ä½æ ‡æ³¨åœºæ™¯ç›®æ ‡æ£€æµ‹æ€§èƒ½é£™å‡"/> <meta itemprop="keywords" content="ç®—æ³•,è®¡ç®—æœºè§†è§‰,æ·±åº¦å­¦ä¹ "/> <meta itemprop="datePublished" content="2025-11-19T01:06:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CoovallyAIHub"/> <meta itemprop="url" content="https://juejin.cn/user/2461151071843739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºSimCLRçš„è‡ªç›‘ç£ YOLOï¼šYOLOv5/8ä¹Ÿèƒ½åœ¨ä½æ ‡æ³¨åœºæ™¯ç›®æ ‡æ£€æµ‹æ€§èƒ½é£™å‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2461151071843739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CoovallyAIHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T01:06:16.000Z" title="Wed Nov 19 2025 01:06:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è‡ªç›‘ç£å­¦ä¹ çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šä»æ•°æ®æœ¬èº«è‡ªåŠ¨ç”Ÿæˆâ€œæ ‡ç­¾â€æˆ–â€œç›‘ç£ä¿¡å·â€ï¼Œè€Œæ— éœ€ä¾èµ–æ˜‚è´µä¸”è€—æ—¶çš„äººå·¥æ ‡æ³¨ã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ•™ä¸€ä¸ªå­©å­è®¤è¯†â€œçŒ«â€ã€‚ä¼ ç»Ÿæ–¹æ³•ï¼ˆç›‘ç£å­¦ä¹ ï¼‰æ˜¯æ‹¿å‡ºä¸€å †çŒ«çš„å›¾ç‰‡ï¼Œæ¯å¼ éƒ½å‘Šè¯‰ä»–â€œè¿™æ˜¯çŒ«â€ã€‚è€Œè‡ªç›‘ç£å­¦ä¹ çš„æ–¹æ³•æ˜¯ï¼Œä½ æŠŠä¸€æœ¬å…³äºçŒ«çš„æ¼«ç”»ä¹¦æ’•æˆç¢ç‰‡ï¼Œç„¶åè®©å­©å­è‡ªå·±æŠŠè¿™äº›ç¢ç‰‡æ‹¼å›å»ã€‚åœ¨æ‹¼å›¾çš„è¿‡ç¨‹ä¸­ï¼Œä»–è‡ªç„¶å°±å­¦ä¼šäº†çŒ«çš„çˆªå­ã€å°¾å·´ã€èƒ¡é¡»åº”è¯¥é•¿ä»€ä¹ˆæ ·ï¼Œä»¥åŠè¿™äº›éƒ¨åˆ†æ˜¯å¦‚ä½•ç»„åˆåœ¨ä¸€èµ·çš„ã€‚ä»–è™½ç„¶æ²¡æœ‰è¢«ç›´æ¥å‘ŠçŸ¥â€œè¿™æ˜¯çŒ«â€ï¼Œä½†ä»–é€šè¿‡å®Œæˆâ€œæ‹¼å›¾â€è¿™ä¸ªä»»åŠ¡ï¼Œå†…åŒ–äº†å¯¹çŒ«çš„è®¤çŸ¥ã€‚</p>
<p>å®ƒå°±åƒæ˜¯è®©ä¸€ä¸ªå­¦ç”Ÿåœ¨å‚åŠ æ­£å¼çš„æœŸæœ«è€ƒè¯•ï¼ˆä¸‹æ¸¸ä»»åŠ¡ï¼‰ä¹‹å‰ï¼Œå…ˆé€šè¿‡åšå¤§é‡çš„ç»ƒä¹ é¢˜å’Œæ¨¡æ‹Ÿè€ƒè¯•ï¼ˆè‡ªç›‘ç£é¢„è®­ç»ƒï¼‰æ¥æ‰“ä¸‹åšå®çš„çŸ¥è¯†åŸºç¡€ï¼Œè€Œä¸æ˜¯ç›´æ¥å»æ­»è®°ç¡¬èƒŒè€ƒè¯•ç­”æ¡ˆã€‚</p>
<p>å½“å‰ï¼Œé«˜æ€§èƒ½çš„ç›®æ ‡æ£€æµ‹æ¨¡å‹å¾€å¾€æ˜¯â€œæ•°æ®é¥¥æ¸´â€çš„ï¼Œå…¶æˆåŠŸä¸¥é‡ä¾èµ–äºå¤§è§„æ¨¡ã€é«˜è´¨é‡çš„äººå·¥æ ‡æ³¨æ•°æ®é›†ã€‚ç„¶è€Œï¼Œåœ¨ä¼—å¤šå®é™…åº”ç”¨åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬é¢å¯¹çš„å¾€å¾€æ˜¯â€œæ•°æ®è’æ¼ â€â€”â€”æ ‡æ³¨æ•°æ®ç¨€ç¼ºä¸”è·å–æˆæœ¬æé«˜ã€‚è¿™ä¸€çŸ›ç›¾å‚¬ç”Ÿäº†ä¸€ä¸ªå…³é”®é—®é¢˜ï¼šå¦‚ä½•å……åˆ†åˆ©ç”¨å¤§é‡æ˜“å¾—çš„æ— æ ‡æ³¨æ•°æ®ï¼Œæ¥å¢å¼ºæ¨¡å‹åœ¨ç¨€ç¼ºæ ‡ç­¾åœºæ™¯ä¸‹çš„è¡¨ç°ï¼Ÿå¯¹æ¯”è‡ªç›‘ç£å­¦ä¹ ï¼ˆSSLï¼‰ä¸ºè¿™ä¸€é—®é¢˜æä¾›äº†ä¸€äº›æ€è·¯ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2f63f090493485eaa8c6e39abdb493a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764119176&amp;x-signature=9eMtv5dquXD4g8X60kyzMqgcZFo%3D" alt="å›¾ç‰‡1.png" loading="lazy"/></p>
<h2 data-id="heading-0"><strong>æ‘˜è¦</strong></h2>
<p>æœ¬æ–‡é¦–æ¬¡ç³»ç»Ÿæ€§åœ°å°†å¯¹æ¯”è‡ªç›‘ç£å­¦ä¹ ï¼ˆSimCLRï¼‰åº”ç”¨äº YOLOv5/v8 å•é˜¶æ®µæ£€æµ‹å™¨çš„ä¸»å¹²ç½‘ç»œé¢„è®­ç»ƒã€‚é€šè¿‡åœ¨æ— æ ‡æ³¨ COCO æ•°æ®é›†ä¸Šè¿›è¡Œé¢„è®­ç»ƒï¼Œå¹¶åœ¨è‡ªè¡Œè½¦å°æ•°æ®é›†ä¸Šå¾®è°ƒï¼Œå®éªŒè¡¨æ˜è¯¥æ–¹æ³•å¯ç¨³å®šæå‡ mAP@50:95çº¦0.1â€“0.2 ä¸ªç™¾åˆ†ç‚¹ï¼ŒåŒæ—¶æ”¶æ•›æ›´å¿«ã€ç²¾ç¡®ç‡-å¬å›ç‡æ›´é«˜ã€‚è¿™éªŒè¯äº†å•é˜¶æ®µæ£€æµ‹å™¨åŒæ ·å—ç›Šäºå¯¹æ¯”è‡ªç›‘ç£å­¦ä¹ ï¼Œä¸ºæ ‡ç­¾ç¨€ç¼ºåœºæ™¯ä¸‹çš„é«˜æ•ˆæ£€æµ‹æä¾›äº†æ–°æ€è·¯ã€‚</p>
<h2 data-id="heading-1"><strong>è´¡çŒ®</strong></h2>
<p>ä½œè€…è¿›è¡Œäº†å…¨é¢çš„ç ”ç©¶ï¼ˆæ®ä½œè€…æ‰€çŸ¥ï¼‰ï¼Œæ¶µç›–äº†YOLOå•é˜¶æ®µç›®æ ‡æ£€æµ‹å™¨çš„è‡ªç›‘ç£é¢„è®­ç»ƒï¼ŒåŒ…æ‹¬YOLOv5å’Œ YOLOv8 ã€‚ä½œè€…å¼€å‘äº†ä¸€ä¸ªæµç¨‹ï¼Œä½¿ç”¨SimCLRåœ¨æ— æ ‡ç­¾æ•°æ®ä¸Šé¢„è®­ç»ƒYOLO Backbone ç½‘ç»œï¼Œå¹¶å°†å®ƒä»¬è¿ç§»åˆ°æ£€æµ‹ä»»åŠ¡ä¸­ã€‚</p>
<p>ä½œè€…è¯æ˜äº†SSLé¢„è®­ç»ƒçš„YOLOv5 å’ŒYOLOv8 åœ¨çœŸå®ä¸–ç•Œçš„è‡ªè¡Œè½¦æ£€æµ‹ä»»åŠ¡ä¸­å§‹ç»ˆä¼˜äºä»å¤´å¼€å§‹è®­ç»ƒï¼Œå®ç°äº†æ›´é«˜çš„mAPå’Œæ›´å¥½çš„ç²¾ç¡®ç‡/å¬å›ç‡ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä½œè€…çš„SSLé¢„è®­ç»ƒYOLOv8çš„å‡†ç¡®ç‡ç”šè‡³ä¼˜äºéšæœºåˆå§‹åŒ–çš„YOLOv8ï¼Œè¿™è¡¨æ˜å…ˆè¿›çš„æ¶æ„ä»ç„¶å—ç›Šäºæ— ç›‘ç£åˆå§‹åŒ–ã€‚</p>
<p>ä½œè€…æä¾›äº†ä¸€ä»½æœ€æ–°çš„è®¨è®ºï¼Œå°†ä½œè€…çš„å·¥ä½œç½®äºç°ä»£SSLæ–¹æ³•ï¼ˆSimCLR, MoCo , BYOL , MAE , DINO , DINOv2 , DenseCL , DetCon ç­‰ï¼‰çš„èƒŒæ™¯ä¸‹è¿›è¡Œå®šä½ï¼Œå¹¶å¼ºè°ƒäº†è¿™äº›æ–¹æ³•å¦‚ä½•è¿›ä¸€æ­¥æ”¹è¿›å•é˜¶æ®µæ£€æµ‹å™¨ã€‚</p>
<p>ä½œè€…åŒ…å«äº†å¯¹å…³é”®SSLæ–¹æ³•çš„å…³é”®æ¯”è¾ƒæ€»ç»“ï¼Œå¹¶æå‡ºäº†æœªæ¥ç ”ç©¶æ–¹å‘ï¼Œä¾‹å¦‚å°† Mask è‡ªç¼–ç å™¨ä¸YOLOç‰¹å®šçš„æ£€æµ‹å‰ä»»åŠ¡ç›¸ç»“åˆã€‚æœ€ç»ˆï¼Œä½œè€…çš„å·¥ä½œåŠ¨æœºæ˜¯å®ç°æ›´æ ‡ç­¾é«˜æ•ˆçš„ç›®æ ‡æ£€æµ‹å™¨è®­ç»ƒâ€”â€”ä½œè€…å±•ç¤ºäº†é€šè¿‡åˆ©ç”¨ä¸°å¯Œçš„ æœªæ ‡æ³¨ å›¾åƒè¿›è¡Œé¢„è®­ç»ƒï¼Œå¯ä»¥å‡å°‘ç›®æ ‡æ£€æµ‹ä¸­æ˜‚è´µæ ‡æ³¨æ•°æ®çš„éœ€æ±‚ã€‚</p>
<h2 data-id="heading-2"><strong>æ–¹æ³•</strong></h2>
<p>ä½œè€…çš„ç›®æ ‡æ˜¯å®ç°YOLOç›®æ ‡æ£€æµ‹å™¨çš„æœ‰æ•ˆè‡ªç›‘ç£é¢„è®­ç»ƒï¼Œä½¿å¾—å­¦ä¹ åˆ°çš„ç‰¹å¾è¡¨ç¤ºèƒ½å¤Ÿè¿ç§»åˆ°æœ‰é™æ ‡æ³¨æ•°æ®çš„æƒ…å†µä¸‹æå‡æ£€æµ‹æ€§èƒ½ã€‚ä½œè€…å…³æ³¨ä¸¤ç§ç‰¹å®šçš„æ£€æµ‹å™¨æ¶æ„ï¼šYOLOv5å’ŒYOLOv8ã€‚YOLOv5éµå¾ªä¼ ç»Ÿçš„YOLOèŒƒå¼ï¼Œé‡‡ç”¨åŸºäº Anchor ç‚¹çš„æ£€æµ‹Headï¼Œè€ŒYOLOv8æ˜¯ä¸€ç§è¾ƒæ–°çš„è®¾è®¡ï¼Œä½¿ç”¨ Anchor-Free ç‚¹æ£€æµ‹HeadåŠå…¶ä»–æ¶æ„æ”¹è¿›ï¼ˆä¾‹å¦‚å…ˆè¿›çš„CSPDarknet Backbone ç½‘ç»œå’Œè§£è€¦æ£€æµ‹å±‚ï¼‰ã€‚é€šè¿‡åŒ…å«è¿™ä¸¤ç§æ¶æ„ï¼Œä½œè€…æ¶µç›–äº†å¤šç§å•é˜¶æ®µæ£€æµ‹å™¨è®¾è®¡ã€‚Self-Supervised-YOLOåŒ…å«ä¸¤ä¸ªä¸»è¦é˜¶æ®µï¼šï¼ˆ1ï¼‰ä½¿ç”¨SimCLRç›®æ ‡åœ¨æœªæ ‡æ³¨å›¾åƒä¸Šå¯¹YOLO Backbone ç½‘ç»œè¿›è¡Œè‡ªç›‘ç£é¢„è®­ç»ƒï¼Œä»¥åŠï¼ˆ2ï¼‰åœ¨ä¸‹æ¸¸è‡ªè¡Œè½¦æ£€æµ‹ä»»åŠ¡ä¸Šå¯¹é¢„è®­ç»ƒæ¨¡å‹è¿›è¡Œå¾®è°ƒã€‚å›¾1å±•ç¤ºäº†è¿™ä¸€æµç¨‹ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/77920e13a7c8426cab15de3302df3e0f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764119176&amp;x-signature=H4YBhBawCZK%2FKZEkkzX74OEedqA%3D" alt="å›¾ç‰‡2.png" loading="lazy"/></p>
<ul>
<li><strong>YOLOä¸»å¹²ç½‘ç»œçš„è‡ªç›‘ç£é¢„è®­ç»ƒ</strong></li>
</ul>
<p>ä½œè€…é‡‡ç”¨SimCLR æ¡†æ¶è¿›è¡Œè‡ªç›‘ç£è¡¨å¾å­¦ä¹ ã€‚SimCLRæ˜¯ä¸€ç§å¯¹æ¯”å­¦ä¹ æ–¹æ³•ï¼Œé€šè¿‡è®­ç»ƒç¼–ç å™¨å¯¹åŒä¸€å›¾åƒçš„ä¸¤ä¸ªå¢å¼ºè§†å›¾ç”Ÿæˆç›¸ä¼¼çš„åµŒå…¥ï¼Œè€Œå¯¹ä¸åŒå›¾åƒçš„è§†å›¾ç”Ÿæˆä¸ç›¸ä¼¼çš„åµŒå…¥ã€‚å°½ç®¡SimCLRæœ€åˆæ˜¯åœ¨åˆ†ç±»ç½‘ç»œï¼ˆä¾‹å¦‚ResNetï¼‰ä¸Šå±•ç¤ºçš„ï¼Œä½†ä½œè€…é€šè¿‡å°†YOLOä¸»å¹²ç½‘ç»œä½œä¸ºç¼–ç å™¨ç½‘ç»œï¼Œå°†å…¶åº”ç”¨äºYOLOåœºæ™¯ï¼š</p>
<p>å¯¹äºYOLOv5ï¼Œ Backbone ç½‘ç»œæ˜¯ä¸€ä¸ªCSP-Darknet53å·ç§¯ç½‘ç»œï¼Œé€šå¸¸å°†å…¶è¾“å…¥åˆ°PANet Neck è¿›è¡Œæ£€æµ‹ã€‚ä½œè€…ç§»é™¤ Neck å’Œæ£€æµ‹Headï¼Œå¹¶å– Backbone ç½‘ç»œç›´è‡³å…¶æœ€åçš„å·ç§¯ç‰¹å¾å›¾ã€‚ç„¶åä½œè€…å¯¹è¿™äº›ç‰¹å¾å›¾åº”ç”¨å…¨å±€å¹³å‡æ± åŒ–ï¼Œä»¥è·å¾—æ¯å¼ å›¾åƒçš„å•ä¸ªç‰¹å¾å‘é‡ã€‚è¯¥ç‰¹å¾å‘é‡è¢«è¾“å…¥åˆ°ä¸€ä¸ªå°çš„MLPæŠ•å½±å¤´ï¼ˆä¸¤ä¸ªå…¨è¿æ¥å±‚ï¼‰ï¼Œç±»ä¼¼äºSimCLRï¼Œè¯¥æŠ•å½±å¤´äº§ç”Ÿç”¨äºå¯¹æ¯”æŸå¤±çš„æ½œåœ¨åµŒå…¥ã€‚</p>
<p>å¯¹äºYOLOv8ï¼Œ Backbone ç½‘ç»œæ˜¯ä¸€ä¸ªåŸºäºCSPçš„æ›´æ–°ç½‘ç»œï¼ŒåŒ…å«å·ç§¯æ¨¡å—å’ŒC2fæ¨¡å—ã€‚ä½œè€…åŒæ ·åœ¨ä»»æ„æ£€æµ‹ç‰¹å®šå±‚ï¼ˆå³è¾“å‡ºç±»åˆ«å’Œè¾¹æ¡†çš„é¢„æµ‹å¤´ï¼‰ä¹‹å‰æˆªæ–­æ¨¡å‹ã€‚å‰©ä½™çš„ Backbone ç½‘ç»œè¾“å‡ºå¤šå°ºåº¦ç‰¹å¾å›¾ï¼›ä½œè€…å°†å…¨å±€æ± åŒ–å’ŒæŠ•å½±MLPé™„åŠ åˆ°æœ€æ·±å±‚çš„ç‰¹å¾å›¾ï¼ˆç©ºé—´åˆ†è¾¨ç‡æœ€å°ï¼Œæ•è·æœ€High-Levelç‰¹å¾ï¼‰ä¸Šï¼Œä»¥è·å¾—ç”¨äºSimCLRè®­ç»ƒçš„åµŒå…¥ã€‚</p>
<p>ä½œè€…åœ¨COCOæ— æ ‡ç­¾æ•°æ®é›†ï¼ˆ2017å¹´COCOæ•°æ®é›†çš„æ— æ ‡ç­¾åˆ†å‰²é›†ï¼ŒåŒ…å«çº¦123kå¼ æ— æ ‡æ³¨å›¾åƒï¼‰ä¸Šè¿›è¡Œé¢„è®­ç»ƒã€‚è¿™ä¸€é€‰æ‹©æä¾›äº†å¤§é‡å¤šæ ·åŒ–çš„å›¾åƒï¼Œå¹¶ä¸”é‡è¦çš„æ˜¯ï¼Œè¿™äº›å›¾åƒä¸æ ‡å‡†COCOå›¾åƒæ¥è‡ªåŒä¸€åˆ†å¸ƒâ€”â€”è¿™å¯¹äºä½œè€…æ¶‰åŠè¡Œäºº/è‡ªè¡Œè½¦æ£€æµ‹çš„ä¸‹æ¸¸ä»»åŠ¡å…·æœ‰ç›¸å…³æ€§ã€‚åœ¨é¢„è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ¯å¼ å›¾åƒé€šè¿‡SimCLRå¢å¼ºæµç¨‹è¿›è¡Œä¸¤æ¬¡éšæœºå¼ºå¢å¼ºï¼ˆéšæœºè£å‰ª/ç¼©æ”¾ã€è‰²å½©æŠ–åŠ¨ã€ç°åº¦åŒ–ã€é«˜æ–¯æ¨¡ç³Šç­‰ï¼‰ã€‚è¿™ä¸¤ä¸ªå¢å¼ºè§†å›¾é€šè¿‡YOLOä¸»å¹²ç½‘ç»œæŠ•å½±å¤´ç”Ÿæˆä¸¤ä¸ªæ½œåœ¨å‘é‡å’Œã€‚ç„¶åä½œè€…è®¡ç®—NT-Xentå¯¹æ¯”æŸå¤±ï¼Œè¯¥æŸå¤±é¼“åŠ±æ¥è‡ªåŒä¸€å›¾åƒçš„å’Œç›¸ä¼¼ï¼ˆæ­£å¯¹ï¼‰ï¼Œå¹¶å°†å…¶ä»–å›¾åƒçš„åµŒå…¥è§†ä¸ºè´Ÿå¯¹ï¼Œåº”ç›¸äº’åˆ†ç¦»ã€‚ä½œè€…ä½¿ç”¨è¾ƒå¤§çš„æ‰¹å¤„ç†å¤§å°ï¼ˆä¾‹å¦‚256ï¼‰ï¼Œå¹¶é‡‡ç”¨ä¸ä¸­ç›¸åŒçš„ä½™å¼¦å­¦ä¹ ç‡è°ƒåº¦ã€‚å¯¹æ¯”æŸå¤±çš„æ¸©æ§è¶…å‚æ•°è®¾ç½®ä¸ºã€‚ä½œè€…åœ¨æ— æ ‡ç­¾æ•°æ®é›†ä¸Šè¿›è¡Œ200ä¸ªepochçš„é¢„è®­ç»ƒï¼Œè¿™å¯¹äºCOCOè§„æ¨¡æ•°æ®çš„å¯¹æ¯”æŸå¤±æ”¶æ•›æ˜¯è¶³å¤Ÿçš„ã€‚æ‰€æœ‰é¢„è®­ç»ƒå®éªŒå‡åœ¨å•ä¸ªNVIDIA RTX 4060 GPUï¼ˆ8GBæ˜¾å­˜ï¼‰ä¸Šå®Œæˆã€‚</p>
<p>æœ¬é˜¶æ®µçš„ç»“æœæ˜¯ä¸ºYOLOv5å’ŒYOLOv8é¢„è®­ç»ƒçš„ä¸»å¹²ç½‘ç»œï¼ˆåœ¨ä½œè€…çš„å®éªŒä¸­åˆ†åˆ«ç‹¬ç«‹è®­ç»ƒï¼‰ã€‚ä½œè€…å¼ºè°ƒï¼Œè¿™ç§é¢„è®­ç»ƒå¹¶æœªä½¿ç”¨ä»»ä½• Token æ•°æ®ï¼šç½‘ç»œä»æœªè§è¿‡ç±»åˆ«æ ‡ç­¾æˆ–è¾¹ç•Œæ¡†æ ‡æ³¨ã€‚ç„¶è€Œï¼Œé€šè¿‡å¯¹æ¯”ä»»åŠ¡ï¼Œå®ƒå­¦ä¼šäº†ç¼–ç å¯¹å›¾åƒå¢å¼ºä¸å˜ä¸”èƒ½æ•æ‰è¯­ä¹‰ç›¸ä¼¼æ€§çš„æœ‰æ„ä¹‰çš„è§†è§‰ç‰¹å¾ã€‚</p>
<ul>
<li><strong>åœ¨è‡ªè¡Œè½¦æ£€æµ‹äººæ— ä¼¤çš„å¾®è°ƒ</strong></li>
</ul>
<p>åœ¨è‡ªç›‘ç£é¢„è®­ç»ƒä¹‹åï¼Œæˆ‘ä»¬å°†å­¦ä¹ åˆ°çš„ä¸»å¹²ç½‘ç»œæƒé‡æ•´åˆåˆ°å®Œæ•´çš„YOLOæ£€æµ‹å™¨æ¶æ„ä¸­ï¼Œå¹¶åœ¨ç›®æ ‡æ£€æµ‹ä»»åŠ¡ä¸Šè¿›è¡Œå¾®è°ƒã€‚æˆ‘ä»¬è€ƒè™‘çš„ä»»åŠ¡æ˜¯ä¸€ä¸ªéª‘è½¦è€…æ£€æµ‹åŸºå‡†æµ‹è¯•ï¼Œè¯¥æµ‹è¯•æ¶‰åŠåœ¨è¡—æ™¯ä¸­æ£€æµ‹éª‘è½¦è€…ï¼ˆéª‘è‡ªè¡Œè½¦çš„äººï¼‰ã€‚è¿™æ˜¯è‡ªåŠ¨é©¾é©¶å’Œç›‘æ§ä¸­çš„ä¸€ä¸ªç›¸å…³åœºæ™¯ï¼Œå¹¶ä¸”è¿™æ˜¯ä¸€ä¸ªå…·æœ‰æŒ‘æˆ˜æ€§çš„ç±»åˆ«ï¼Œèƒ½å¤Ÿä»é²æ£’çš„ç‰¹å¾è¡¨ç¤ºä¸­å—ç›Šï¼ˆéª‘è½¦è€…å¯èƒ½ä»¥ä¸åŒçš„å°ºåº¦å’Œå§¿æ€å‡ºç°ï¼‰ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªè‡ªå®šä¹‰çš„éª‘è½¦è€…æ£€æµ‹æ•°æ®é›†ï¼Œè¯¥æ•°æ®é›†åŒ…å«äº¤é€šå›¾åƒï¼Œå¹¶å¸¦æœ‰é’ˆå¯¹"éª‘è½¦è€…"ç±»åˆ«çš„è¾¹ç•Œæ¡†æ ‡æ³¨ã€‚åœ¨æˆ‘ä»¬çš„å®éªŒä¸­ï¼Œè¯¥æ•°æ®é›†ä»…åŒ…å«å‡ åƒå¼ å¸¦æ ‡æ³¨çš„å›¾åƒï¼Œä½¿å…¶æˆä¸ºä¸€ä¸ªä½èµ„æºåœºæ™¯ï¼Œåœ¨è¿™ç§åœºæ™¯ä¸‹é¢„è®­ç»ƒå°¤å…¶åº”è¯¥å¸¦æ¥ç›Šå¤„ã€‚</p>
<p>æˆ‘ä»¬ä¸ºæ¯ä¸ªYOLOæ¨¡å‹åˆ›å»ºä¸¤ä¸ªç‰ˆæœ¬ä»¥è¿›è¡Œæ¯”è¾ƒï¼šä¸€ä¸ªä½¿ç”¨æˆ‘ä»¬SSLé¢„è®­ç»ƒçš„ä¸»å¹²ç½‘ç»œï¼Œå¦ä¸€ä¸ªä½¿ç”¨éšæœºåˆå§‹åŒ–çš„ä¸»å¹²ç½‘ç»œï¼ˆä»å¤´è®­ç»ƒï¼‰ã€‚å¯¹äºSSLé¢„è®­ç»ƒç‰ˆæœ¬ï¼Œæˆ‘ä»¬å°†SimCLRçš„æƒé‡åŠ è½½åˆ°ä¸»å¹²å·ç§¯å±‚ä¸­ã€‚æ¨¡å‹çš„å…¶ä½™éƒ¨åˆ†ï¼ˆYOLOçš„é¢ˆéƒ¨å’Œæ£€æµ‹å¤´ï¼‰åˆ™ä½¿ç”¨é»˜è®¤åˆå§‹åŒ–æ–¹æ³•ï¼ˆä¾‹å¦‚ï¼Œå·ç§¯å±‚ä½¿ç”¨Xavier/Glorotåˆå§‹åŒ–ï¼‰è¿›è¡Œéšæœºåˆå§‹åŒ–ã€‚å¯¹äºä»å¤´è®­ç»ƒçš„åŸºçº¿æ¨¡å‹ï¼Œæ•´ä¸ªæ¨¡å‹ï¼ˆä¸»å¹²+é¢ˆéƒ¨+å¤´éƒ¨ï¼‰éƒ½æ˜¯éšæœºåˆå§‹åŒ–çš„ã€‚ç„¶åï¼Œæˆ‘ä»¬åœ¨ç›¸åŒçš„è®­ç»ƒè®¾ç½®ä¸‹ï¼Œåœ¨éª‘è½¦è€…æ£€æµ‹æ•°æ®ä¸Šå¯¹ä¸¤ä¸ªæ¨¡å‹è¿›è¡Œå¾®è°ƒï¼š</p>
<p>æˆ‘ä»¬ä½¿ç”¨Ultralytics YOLOè®­ç»ƒæ¡†æ¶ï¼Œå¹¶ä¸ºä¸¤ç§æƒ…å†µä½¿ç”¨ç›¸åŒçš„è¶…å‚æ•°ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬è®­ç»ƒ50ä¸ªå‘¨æœŸï¼Œåˆå§‹å­¦ä¹ ç‡ä¸º1e-3ï¼ˆåœ¨è®­ç»ƒåæœŸä¼šé€æ­¥é™ä½ï¼‰ï¼Œä½¿ç”¨éšæœºæ¢¯åº¦ä¸‹é™ä¼˜åŒ–å™¨ï¼Œæ‰¹é‡å¤§å°ä¸º16ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­åº”ç”¨äº†å¦‚é©¬èµ›å…‹å’Œéšæœºä»¿å°„å˜æ¢ç­‰æ•°æ®å¢å¼ºæŠ€æœ¯ä»¥æé«˜æ³›åŒ–èƒ½åŠ›ã€‚</p>
<p>è¾“å…¥åˆ†è¾¨ç‡ä¸º640Ã—640åƒç´ ã€‚æˆ‘ä»¬ä½¿ç”¨æ ‡å‡†çš„COCOæŒ‡æ ‡åœ¨ä¿ç•™çš„éªŒè¯é›†ä¸Šè¯„ä¼°æ€§èƒ½ï¼šIoUé˜ˆå€¼ä¸º0.5æ—¶çš„å¹³å‡ç²¾åº¦å‡å€¼ï¼ˆmAP50ï¼‰ä»¥åŠæ›´ä¸¥æ ¼çš„mAP50:95ï¼ˆä¸»è¦çš„COCO APæŒ‡æ ‡ï¼‰ã€‚</p>
<p>å¯¹äºYOLOv5ï¼Œæˆ‘ä»¬ä½¿ç”¨YOLOv5sæ¨¡å‹ï¼ˆå°å‹å˜ä½“ï¼‰æ¥ä»£è¡¨ä¸€ä¸ªè½»é‡çº§æ¨¡å‹ã€‚å¯¹äºYOLOv8ï¼Œæˆ‘ä»¬ä½¿ç”¨YOLOv8sï¼ˆå°å‹å˜ä½“ï¼‰ä»¥è·å¾—å¯æ¯”è¾ƒçš„æ¨¡å‹å¤§å°ã€‚è¿™ç¡®ä¿äº†æ”¹è¿›æ•ˆæœçš„å…¬å¹³æ¯”è¾ƒï¼Œå› ä¸ºYOLOv8så’ŒYOLOv5så…·æœ‰ç›¸ä¼¼çš„å®¹é‡ï¼ˆå‚æ•°é‡éƒ½åœ¨7-8ç™¾ä¸‡å·¦å³ï¼‰ã€‚æˆ‘ä»¬å‘ç°ä½¿ç”¨æ›´å¤§çš„å˜ä½“ä¹Ÿäº§ç”Ÿäº†ç›¸ä¼¼çš„è¶‹åŠ¿ï¼Œä½†è¾ƒå°çš„æ¨¡å‹å·²è¶³ä»¥è¯æ˜å…¶æ•ˆæœã€‚</p>
<p>åœ¨å¾®è°ƒæœŸé—´ï¼Œæˆ‘ä»¬ä¸ä¼šå†»ç»“ä¸»å¹²ç½‘ç»œï¼›ç›¸åï¼Œæˆ‘ä»¬å…è®¸æ•´ä¸ªæ¨¡å‹è¿›è¡Œç«¯åˆ°ç«¯çš„è®­ç»ƒã€‚è¿™ä½¿å¾—é¢„è®­ç»ƒçš„æƒé‡èƒ½å¤Ÿé€‚åº”æ£€æµ‹ä»»åŠ¡ã€‚åœ¨æœ€åˆå‡ ä¸ªå‘¨æœŸä¸­ï¼Œæˆ‘ä»¬ç¡®å®å¯¹ä¸»å¹²å±‚åº”ç”¨äº†è¾ƒä½çš„å­¦ä¹ ç‡ï¼ˆåŸºç¡€å­¦ä¹ ç‡çš„0.1å€ï¼‰ï¼Œä»¥é¿å…ç ´åé¢„è®­ç»ƒç‰¹å¾çš„ç¨³å®šæ€§ï¼Œè¿™æ˜¯ä»é¢„è®­ç»ƒæ¨¡å‹è¿›è¡Œå¾®è°ƒæ—¶çš„å¸¸è§åšæ³•ã€‚ç»è¿‡çŸ­æš‚çš„çƒ­èº«é˜¶æ®µåï¼Œå­¦ä¹ ç‡ç»Ÿä¸€ï¼Œè®­ç»ƒæ­£å¸¸ç»§ç»­ã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„è®¾ç½®ä¸­ï¼Œéª‘è½¦è€…ç±»åˆ«æ£€æµ‹è¢«è§†ä¸ºä¸€ä¸ªå•ç±»åˆ«ç‰©ä½“æ£€æµ‹é—®é¢˜ï¼ˆåªæœ‰ä¸€ä¸ªæ„Ÿå…´è¶£çš„ç‰©ä½“ç±»åˆ«ï¼‰ã€‚YOLOä¸ºæ¯ä¸ªé¢„æµ‹æ¡†è¾“å‡ºä¸€ä¸ªç±»åˆ«æ¦‚ç‡ï¼ˆé’ˆå¯¹"éª‘è½¦è€…"ï¼‰ã€‚æˆ‘ä»¬è¯„ä¼°è¯¥ç±»åˆ«çš„ç²¾ç¡®ç‡ã€å¬å›ç‡å’ŒmAPã€‚ç”±äºåªå­˜åœ¨ä¸€ä¸ªç±»åˆ«ï¼ŒYOLOä¸­çš„åˆ†ç±»æŸå¤±ç›¸å¯¹ç®€å•ï¼ˆæœ¬è´¨ä¸Šæ˜¯ç‰©ä½“ä¸èƒŒæ™¯ï¼‰ï¼›å°½ç®¡å¦‚æ­¤ï¼Œå­¦ä¹ åˆ°çš„è§†è§‰ç‰¹å¾çš„è´¨é‡ä»ç„¶æå¤§åœ°å½±å“ç€æ¨¡å‹å®šä½å’Œåˆ†ç±»éª‘è½¦è€…çš„èƒ½åŠ›ã€‚</p>
<ul>
<li><strong>è¯„ä¼°æ–¹æ¡ˆ</strong></li>
</ul>
<p>æˆ‘ä»¬æ¯”è¾ƒä»¥ä¸‹æ¨¡å‹ï¼š</p>
<p>YOLOv5ï¼ˆä»å¤´è®­ç»ƒï¼‰ï¼šåœ¨éª‘è½¦è€…æ•°æ®ä¸Šä»éšæœºåˆå§‹åŒ–å¼€å§‹è®­ç»ƒçš„YOLOv5s[18]ã€‚</p>
<p>YOLOv5+SSLé¢„è®­ç»ƒï¼šä¸»å¹²ç½‘ç»œé€šè¿‡SimCLRåœ¨COCOæ— æ ‡ç­¾æ•°æ®ä¸Šè¿›è¡Œé¢„è®­ç»ƒåˆå§‹åŒ–ï¼Œç„¶ååœ¨éª‘è½¦è€…æ•°æ®ä¸Šå¾®è°ƒçš„YOLOv5s[18]ã€‚</p>
<p>YOLOv8ï¼ˆä»å¤´è®­ç»ƒï¼‰ï¼šåœ¨éª‘è½¦è€…æ•°æ®ä¸Šä»å¤´è®­ç»ƒçš„YOLOv8sã€‚</p>
<p>YOLOv8+SSLé¢„è®­ç»ƒï¼šä¸»å¹²ç½‘ç»œæƒé‡æ¥è‡ªSimCLRé¢„è®­ç»ƒï¼Œå¹¶åœ¨éª‘è½¦è€…æ•°æ®ä¸Šå¾®è°ƒçš„YOLOv8sã€‚</p>
<p>æ€§èƒ½åœ¨éªŒè¯é›†ä¸Šä»¥mAP50:95ï¼ˆä¸»è¦æŒ‡æ ‡ï¼‰ä»¥åŠä½œä¸ºå‚è€ƒçš„mAP50è¿›è¡ŒæŠ¥å‘Šã€‚æˆ‘ä»¬è¿˜æŠ¥å‘Šäº†IoU 0.5ä¸‹çš„ç²¾ç¡®ç‡å’Œå¬å›ç‡ï¼Œä»¥ç†è§£è¯¯å·®æƒè¡¡ã€‚è®°å½•è®­ç»ƒæ›²çº¿ï¼ˆæŸå¤±å’ŒæŒ‡æ ‡éšå‘¨æœŸçš„å˜åŒ–ï¼‰ä»¥åˆ†ææ”¶æ•›è¡Œä¸ºã€‚</p>
<h2 data-id="heading-3"><strong>å®éªŒç»“æœ</strong></h2>
<ul>
<li><strong>æ€§èƒ½æå‡</strong></li>
</ul>
<p>åœ¨è‡ªè¡Œè½¦æ£€æµ‹ä»»åŠ¡ä¸Šçš„è¯¦ç»†å®éªŒç»“æœï¼š</p>
<p>YOLOv5ç³»åˆ—ï¼š</p>
<ul>
<li><strong>åŸºçº¿æ¨¡å‹ï¼ˆéšæœºåˆå§‹åŒ–ï¼‰ï¼š</strong> mAP@50:95 = 0.7486</li>
<li><strong>SSLé¢„è®­ç»ƒæ¨¡å‹ï¼š</strong> mAP@50:95 = 0.7467ï¼Œç²¾ç¡®ç‡0.9142ï¼Œå¬å›ç‡0.8376</li>
<li>éªŒè¯æ¡†æŸå¤±ä»0.6892é™ä½è‡³0.6715</li>
</ul>
<p>YOLOv8ç³»åˆ—ï¼š</p>
<ul>
<li><strong>åŸºçº¿æ¨¡å‹ï¼ˆéšæœºåˆå§‹åŒ–ï¼‰ï¼š</strong> mAP@50:95 = 0.7652</li>
<li><strong>SSLé¢„è®­ç»ƒæ¨¡å‹ï¼š</strong> mAP@50:95 = 0.7663ï¼Œç²¾ç¡®ç‡0.9080ï¼Œå¬å›ç‡0.8534</li>
<li>éªŒè¯æ¡†æŸå¤±ä»0.6681é™ä½è‡³0.6524</li>
</ul>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/43851fcb8e344720a6a61342e42c87f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764119176&amp;x-signature=CE4HR1hlgHolSVzvGdIfgNveO14%3D" alt="å›¾ç‰‡3.png" loading="lazy"/></p>
<ul>
<li><strong>è®­ç»ƒæ•ˆç‡åˆ†æ</strong></li>
</ul>
<p>SSLé¢„è®­ç»ƒæ¨¡å‹å±•ç°å‡ºæ˜æ˜¾çš„è®­ç»ƒä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>æ”¶æ•›é€Ÿåº¦åŠ å¿«ï¼š</strong> ç›¸æ¯”åŸºçº¿æ¨¡å‹ï¼ŒSSLé¢„è®­ç»ƒæ¨¡å‹è¾¾åˆ°ç›¸åŒç²¾åº¦æ‰€éœ€çš„è®­ç»ƒæ—¶é—´å‡å°‘çº¦15%</li>
<li><strong>è®­ç»ƒæ›´ç¨³å®šï¼š</strong> éªŒè¯æŸå¤±æ›²çº¿æ›´åŠ å¹³æ»‘ï¼Œæ³¢åŠ¨æ˜¾è‘—å‡å°</li>
<li><strong>æ³›åŒ–èƒ½åŠ›æ›´å¼ºï¼š</strong> åœ¨å›°éš¾æ ·æœ¬ï¼ˆé®æŒ¡ã€å°ç›®æ ‡ç­‰ï¼‰ä¸Šçš„æ£€æµ‹æ•ˆæœæå‡æ˜æ˜¾</li>
</ul>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/416db4135547440982b872e2b356e1ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764119176&amp;x-signature=FukW%2B7txzxfHL1bXgfAYgkAMksE%3D" alt="å›¾ç‰‡5.png" loading="lazy"/></p>
<ul>
<li><strong>æ¶æ„å¯¹æ¯”æ´å¯Ÿ</strong></li>
</ul>
<p>å®éªŒå‘ç°ä¸åŒæ¶æ„ä»SSLä¸­çš„å—ç›Šç¨‹åº¦å­˜åœ¨å·®å¼‚ï¼š</p>
<ul>
<li>YOLOv8åœ¨æ ‡å‡†å’ŒSSLè®¾ç½®ä¸‹å‡ä¼˜äºYOLOv5ï¼Œæ˜¾ç¤ºå…¶æ¶æ„çš„å…ˆè¿›æ€§</li>
<li>YOLOv8ä»SSLé¢„è®­ç»ƒä¸­è·ç›Šæ›´å¤§ï¼Œè¯´æ˜å…¶Anchor-Freeè®¾è®¡å’Œè§£è€¦æ£€æµ‹å¤´ä¸SSLç‰¹å¾æ›´åŠ å…¼å®¹</li>
<li>ä¸¤ç§æ¶æ„éƒ½èƒ½ä»SSLé¢„è®­ç»ƒä¸­å—ç›Šï¼Œè¯æ˜æ–¹æ³•çš„æ™®é€‚æ€§</li>
</ul>
<h2 data-id="heading-4"><strong>ç»“è®º</strong></h2>
<p>æœ¬æ–‡æå‡ºäº†ä¸€ç§åŸºäºSimCLRå¯¹æ¯”å­¦ä¹ æ¡†æ¶çš„YOLOv5å’ŒYOLOv8ç›®æ ‡æ£€æµ‹å™¨è‡ªç›‘ç£é¢„è®­ç»ƒç­–ç•¥ã€‚Self-Supervised-YOLOä½¿YOLO Backbone ç½‘ç»œèƒ½å¤Ÿä»å¤§è§„æ¨¡æ— æ ‡ç­¾æ•°æ®ä¸­å­¦ä¹ ï¼Œä¸ºä¸‹æ¸¸æ£€æµ‹ä»»åŠ¡æä¾›å¼ºå¤§çš„åˆå§‹åŒ–ï¼Œå°¤å…¶æ˜¯åœ¨æ ‡æ³¨æ•°æ®æœ‰é™çš„æƒ…å†µä¸‹ã€‚ä½œè€…åœ¨è‡ªè¡Œè½¦æ£€æµ‹åŸºå‡†æ•°æ®é›†ä¸Šè¿›è¡Œäº†å¹¿æ³›çš„å®éªŒï¼Œç»“æœè¡¨æ˜ï¼ŒSSLé¢„è®­ç»ƒæ¨¡å‹åœ¨å¤šä¸ªè¯„ä¼°æŒ‡æ ‡ï¼ˆåŒ…æ‹¬ç²¾åº¦ã€å¬å›ç‡å’ŒmAPï¼‰ä¸Šå‡ä¼˜äºå…¶ç›‘ç£å­¦ä¹ å¯¹åº”æ¨¡å‹ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™äº›æ”¹è¿›åœ¨æ—©æœŸæ”¶æ•›å’Œæ•´ä½“æ³›åŒ–èƒ½åŠ›ä¸Šå°¤ä¸ºæ˜æ˜¾ï¼Œå°¤å…¶æ˜¯åœ¨æ•°æ®ç¨€ç¼ºçš„åœºæ™¯ä¸­ã€‚</p>
<p>ä½œè€…çš„ç»“æœè¡¨æ˜ï¼Œå¯¹æ¯”è‡ªç›‘ç£å­¦ä¹ å³ä½¿åœ¨åƒYOLOè¿™æ ·çš„å®æ—¶æ£€æµ‹æ¶æ„ä¸­ä¹Ÿèƒ½å±•ç°å‡ºå…¶æœ‰æ•ˆæ€§ï¼Œè€Œè¿™äº›æ¶æ„ä¼ ç»Ÿä¸Šæ˜¯ä»¥å…¨ç›‘ç£æ–¹å¼è®­ç»ƒçš„ã€‚é€šè¿‡åˆ©ç”¨ æœªæ ‡æ³¨ æ•°æ®ï¼Œä½œè€…è¯æ˜äº†åœ¨ä¸ç‰ºç‰²æ£€æµ‹æ€§èƒ½çš„å‰æä¸‹ï¼Œå¯ä»¥æ˜¾è‘—é™ä½æ ‡æ³¨è´Ÿæ‹…ã€‚</p>
<h2 data-id="heading-5"><strong>å®è·µå¹³å°æ¨è</strong></h2>
<p>æƒ³è¦äº²èº«ä½“éªŒæœ¬æ–‡æå‡ºçš„è‡ªç›‘ç£YOLOæ¨¡å‹ï¼Ÿæ¨èä½¿ç”¨Coovally AIå¹³å°ï¼Coovallyä¸ºå¹¿å¤§å¼€å‘è€…å’Œç ”ç©¶è€…æä¾›äº†ä¸€ä¸ªæå…¶ä¾¿åˆ©çš„AIå¼€å‘ç¯å¢ƒï¼š</p>
<ul>
<li><strong>æ¨¡å‹è‡ªç”±ä¸Šä¼ ï¼š</strong> æ”¯æŒç›´æ¥ä¸Šä¼ æœ¬æ–‡å¼€æºçš„SimCLRé¢„è®­ç»ƒYOLOæ¨¡å‹ï¼Œå¿«é€Ÿè¿›è¡ŒéªŒè¯å’Œæµ‹è¯•</li>
</ul>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9727ef8ebad437aa99a925a8dae594b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764119176&amp;x-signature=oZdBpSHqZDrxGqMzWcGGOO2rS4o%3D" alt="Coovallyæ“ä½œåŠ¨å›¾.gif" loading="lazy"/></p>
<ul>
<li><strong>ä¾¿æ·å¼€å‘ä½“éªŒï¼š</strong> é€šè¿‡é›†æˆçš„VSCodeç¯å¢ƒï¼Œå¯ä»¥è½»æ¾å¯¹æ¨¡å‹ä»£ç è¿›è¡Œä¿®æ”¹å’Œè°ƒè¯•ï¼Œæ— éœ€é…ç½®å¤æ‚æœ¬åœ°ç¯å¢ƒ</li>
</ul>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c69226f6c704ec79aa3d9c565745f61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764119176&amp;x-signature=5PLKzdzC0Bdzp2Xh14dDVH3oL4o%3D" alt="SSH.GIF" loading="lazy"/></p>
<ul>
<li><strong>ä¸€ç«™å¼è®­ç»ƒå¹³å°ï¼š</strong> åœ¨Coovallyå¹³å°ä¸Šå³å¯å®Œæˆä»æ•°æ®å‡†å¤‡åˆ°æ¨¡å‹è®­ç»ƒçš„å…¨æµç¨‹ï¼Œæ”¯æŒåˆ†å¸ƒå¼è®­ç»ƒå’Œè‡ªåŠ¨è°ƒå‚</li>
</ul>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b53f04388d794d39993228665af3bee9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764119176&amp;x-signature=%2BeouJjUf0e%2FDhVuYDKbPFkgLlnY%3D" alt="æ— ä»£ç è®­ç»ƒ.GIF" loading="lazy"/></p>
<ul>
<li><strong>ä¸°å¯Œæ•°æ®èµ„æºï¼š</strong> å¹³å°å†…ç½®æ•°ç™¾ç±»é«˜è´¨é‡å¼€æºæ•°æ®é›†ï¼Œæ¶µç›–å¤šä¸ªé¢†åŸŸï¼Œä¸ºæ‚¨çš„æ¨¡å‹è®­ç»ƒæä¾›å……è¶³çš„æ•°æ®æ”¯æŒ</li>
</ul>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5d599fa67a74ad7a1227c2be615e535~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764119176&amp;x-signature=IX%2BBC%2BhpTE4Md%2FvMi9WVIBuklxo%3D" alt="æ¨¡å‹æ•°æ®é›†.GIF" loading="lazy"/></p>
<p>æ— è®ºæ‚¨æ˜¯æƒ³è¦å¤ç°æœ¬æ–‡çš„å®éªŒç»“æœï¼Œè¿˜æ˜¯åŸºäºæ­¤æ–¹æ³•å¼€å±•æ–°çš„ç ”ç©¶ï¼ŒCoovallyéƒ½èƒ½ä¸ºæ‚¨æä¾›å¼ºæœ‰åŠ›çš„æŠ€æœ¯æ”¯æŒã€‚</p>
<p><strong>ï¼ï¼ç‚¹å‡»ä¸‹æ–¹é“¾æ¥ï¼Œç«‹å³ä½“éªŒCoovallyï¼ï¼</strong></p>
<p><strong>å¹³å°é“¾æ¥ï¼š</strong> <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.coovally.com" target="_blank" title="https://www.coovally.com" ref="nofollow noopener noreferrer">www.coovally.com</a></strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[éº¦è‚¯é”¡è”åˆQuantumBlackæœ€æ–°å‘å¸ƒã€Š2025å¹´äººå·¥æ™ºèƒ½çš„ç°çŠ¶ï¼šæ™ºèƒ½ä½“ã€åˆ›æ–°å’Œè½¬å‹ã€‹æŠ¥å‘Šï¼š32% çš„ä¼ä¸šé¢„è®¡ä¼šç»§ç»­è£å‘˜]]></title>    <link>https://juejin.cn/post/7573864324714266676</link>    <guid>https://juejin.cn/post/7573864324714266676</guid>    <pubDate>2025-11-19T01:07:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573864324714266676" data-draft-id="7573892573346381876" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="éº¦è‚¯é”¡è”åˆQuantumBlackæœ€æ–°å‘å¸ƒã€Š2025å¹´äººå·¥æ™ºèƒ½çš„ç°çŠ¶ï¼šæ™ºèƒ½ä½“ã€åˆ›æ–°å’Œè½¬å‹ã€‹æŠ¥å‘Šï¼š32% çš„ä¼ä¸šé¢„è®¡ä¼šç»§ç»­è£å‘˜"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-19T01:07:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é’æ¢…ä¸»ç "/> <meta itemprop="url" content="https://juejin.cn/user/2277843825604222"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            éº¦è‚¯é”¡è”åˆQuantumBlackæœ€æ–°å‘å¸ƒã€Š2025å¹´äººå·¥æ™ºèƒ½çš„ç°çŠ¶ï¼šæ™ºèƒ½ä½“ã€åˆ›æ–°å’Œè½¬å‹ã€‹æŠ¥å‘Šï¼š32% çš„ä¼ä¸šé¢„è®¡ä¼šç»§ç»­è£å‘˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2277843825604222/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é’æ¢…ä¸»ç 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T01:07:37.000Z" title="Wed Nov 19 2025 01:07:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ å¥½ï¼Œæˆ‘æ˜¯<strong>æ°å“¥</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b3df346a9e34b6f8e0d0e5b62314c39~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2S5qKF5Li756CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764119257&amp;x-signature=ay4ySFqOcuLFR5vry8h1mCF8zCY%3D" alt="" loading="lazy"/></p>
<p>æœ€è¿‘éº¦è‚¯é”¡è”åˆ <strong>QuantumBlack</strong> å‘å¸ƒäº† 2025å¹´æœ€æ–°ç‰ˆã€Š<strong>2025å¹´äººå·¥æ™ºèƒ½çš„ç°çŠ¶ï¼šæ™ºèƒ½ä½“ã€åˆ›æ–°å’Œè½¬å‹</strong>ã€‹ï¼ˆã€Š<strong>The State of AI in 2025ï¼šAgents, Innovation, and Transformation</strong>ã€‹ï¼‰ï¼Œè¿™ä»½æŠ¥å‘ŠåŸºäºå…¨çƒè¿‘ 2000 ä½ä¼ä¸šé«˜ç®¡å’Œä»ä¸šè€…çš„è°ƒç ”æ•°æ®ï¼ŒçœŸå®åæ˜ äº†å½“ä¸‹<strong>AI</strong>åœ¨ä¼ä¸šçš„è½åœ°æƒ…å†µã€‚ç®€å•æ¥è¯´ï¼š<strong>å‡ ä¹æ‰€æœ‰å…¬å¸éƒ½åœ¨ç”¨ AIï¼Œä½†å¤§å¤šæ•°è¿˜åœç•™åœ¨â€œç©ç¥¨â€é˜¶æ®µ</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e513c0a181e41e7b0d1552572982e81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2S5qKF5Li756CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764119257&amp;x-signature=dxwjBgKY5f%2Fjhda3gc5zEzA02fI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€AI ä½¿ç”¨ç‡åˆ›å†å²æ–°é«˜ï¼Œä½†å¤§è§„æ¨¡è½åœ°ä»éœ€æ—¶æ—¥</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b2c1ef59c2b4bffa6fc9d633e1beaa7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2S5qKF5Li756CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764119257&amp;x-signature=hQ8K8exMNKUcuvxbZrP7yOZVvlA%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>88%</strong> çš„å—è®¿è€…è¡¨ç¤ºä»–ä»¬çš„å…¬å¸è‡³å°‘åœ¨ä¸€ä¸ªä¸šåŠ¡éƒ¨é—¨<strong>å®šæœŸä½¿ç”¨AI</strong>ï¼ˆå»å¹´æ˜¯ 78%ï¼‰ï¼Œæ¥è¿‘ä¹æˆï¼</li>
<li>**ç”Ÿæˆå¼AIï¼ˆGen AIï¼‰**çš„ä½¿ç”¨ç‡ä¹Ÿä»å»å¹´çš„65%~71% é£™å‡åˆ° <strong>79</strong>%ã€‚</li>
<li>ä½†çœŸæ­£å®ç°**å…¨ä¼ä¸šçº§è§„æ¨¡åŒ–ï¼ˆScalingï¼‰**çš„åªæœ‰ <strong>7%</strong>ï¼Œ**31%**è¿˜åœ¨æ‰©å¤§éƒ¨ç½²ï¼Œ**30%**åˆšå¼€å§‹è¯•ç‚¹ï¼Œ<strong>32</strong>%è¿˜åœ¨å®éªŒé˜¶æ®µã€‚</li>
</ul>
<p>æ¢å¥è¯è¯´ï¼š<strong>AI</strong> <strong>å·²ç»ä»â€œé«˜å¤§ä¸Šâ€å˜æˆâ€œåŸºç¡€è®¾æ–½â€ï¼Œä½†å¤§å¤šæ•°å…¬å¸è¿˜æ²¡æŠŠå®ƒçœŸæ­£ç”¨å‡ºç”Ÿäº§åŠ›</strong>ã€‚</p>
<h2 data-id="heading-1">äºŒã€AI Agentsï¼ˆæ™ºèƒ½ä½“ï¼‰æˆæœ€å¤§äº®ç‚¹</h2>
<p>æŠ¥å‘Šé‡Œæœ€å¸ç›çš„æ•°æ®å°±æ˜¯<strong>AI Agents</strong>äº†â€”â€”é‚£ç§èƒ½è‡ªä¸»è§„åˆ’ã€æ‰§è¡Œå¤šæ­¥ä»»åŠ¡çš„â€œæ™ºèƒ½å°åŠ©æ‰‹â€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4810832c63824cf8a0b4d8c918bab320~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2S5qKF5Li756CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764119257&amp;x-signature=echbESdqdyPptwMv%2FvybGU45swk%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>62%</strong> çš„å…¬å¸å·²ç»åœ¨å®éªŒæˆ–è¯•ç‚¹<strong>AI Agents</strong>ã€‚</li>
<li><strong>23%</strong> çš„å…¬å¸å·²ç»åœ¨æŸäº›éƒ¨é—¨å¼€å§‹è§„æ¨¡åŒ–éƒ¨ç½²ï¼ˆScalingï¼‰ã€‚</li>
<li>ä½†æ³¨æ„ï¼šçœŸæ­£å¤§è§„æ¨¡è½åœ°çš„æ¯”ä¾‹åœ¨æ¯ä¸ªå…·ä½“ä¸šåŠ¡éƒ¨é—¨éƒ½ä¸è¶…è¿‡<strong>10</strong>%ã€‚</li>
</ul>
<p>ç›®å‰<strong>AI Agents</strong>æœ€å¸¸å‡ºç°çš„é¢†åŸŸæ˜¯ï¼š</p>
<ul>
<li><strong>IT</strong>ï¼ˆå¦‚è‡ªåŠ¨æœåŠ¡å°ï¼‰</li>
<li><strong>çŸ¥è¯†ç®¡ç†</strong>ï¼ˆæ·±åº¦ç ”ç©¶ã€èµ„æ–™æ±‡æ€»ï¼‰</li>
<li><strong>è½¯ä»¶å·¥ç¨‹</strong>ã€<strong>æœåŠ¡è¿è¥</strong>ç­‰</li>
</ul>
<p>é¢†å…ˆè¡Œä¸šæ˜¯ï¼š<strong>ç§‘æŠ€ã€åª’ä½“ç”µä¿¡ã€åŒ»ç–—ä¿å¥</strong>ï¼Œè¿™äº›è¡Œä¸šçš„å—è®¿è€…æŠ¥å‘Š <strong>AI Agents</strong> è½åœ°æ¯”ä¾‹æ˜æ˜¾æ›´é«˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01b1aff17c1149d082cad143ab2a1444~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2S5qKF5Li756CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764119257&amp;x-signature=4Djf3OfRWZDg7danI5PECCqx4fg%3D" alt="" loading="lazy"/></p>
<p>éº¦è‚¯é”¡é«˜çº§åˆä¼™äºº <strong>Michael Chui</strong> ä¸€é’ˆè§è¡€åœ°è¯´ï¼š<br/>
â€œ<strong>AI Agents</strong> ç¡®å®å¾ˆç«ï¼Œä½†çœŸæ­£åšå¥½å¾ˆéš¾ã€‚å¾ˆå¤šäººçœ‹åˆ°çš„æ˜¯ç‚’ä½œï¼Œæˆ‘ä»¬çœ‹åˆ°çš„æ˜¯å¤§é‡è¿˜åœ¨æ¢ç´¢é˜¶æ®µçš„å…¬å¸ã€‚â€</p>
<h2 data-id="heading-2">ä¸‰ã€AI æ­£åœ¨å¸¦æ¥çœŸå®ä»·å€¼ï¼Œä½†ä¼ä¸šçº§æ”¶ç›Šä»æœ‰é™</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/621266fc596045d3a1c1273c0c9f50e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2S5qKF5Li756CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764119257&amp;x-signature=p8d3jJnb7ikeoWYWooYQPtI7q%2Fs%3D" alt="" loading="lazy"/></p>
<p>å¥½æ¶ˆæ¯æ˜¯ï¼Œ<strong>AI</strong> å·²ç»å¼€å§‹çœŸé‡‘ç™½é“¶åœ°çœé’±ã€èµšé’±ï¼š</p>
<ul>
<li>ç”¨ä¾‹å±‚é¢ï¼ˆå•ä¸ªé¡¹ç›®ï¼‰å¤§å¤šæ•°å…¬å¸éƒ½çœ‹åˆ°äº†<strong>æˆæœ¬é™ä½</strong>å’Œ<strong>æ”¶å…¥æå‡</strong>ã€‚</li>
<li><strong>64%</strong> çš„å—è®¿è€…æ˜ç¡®è¡¨ç¤º<strong>AI</strong>æ­£åœ¨å¸®åŠ©ä»–ä»¬å®ç°åˆ›æ–°ã€‚</li>
</ul>
<p>ä½†åæ¶ˆæ¯æ˜¯ï¼š</p>
<ul>
<li>åªæœ‰<strong>39%</strong> çš„å…¬å¸çœ‹åˆ°äº†**ä¼ä¸šçº§EBITï¼ˆæ¯ç¨å‰åˆ©æ¶¦ï¼‰**çš„æ˜¾è‘—æ”¹å–„ã€‚</li>
</ul>
<p>ä¸ºä»€ä¹ˆï¼Ÿå› ä¸º<strong>é«˜ç»©æ•ˆå…¬å¸</strong>å’Œæ™®é€šå…¬å¸çš„åšæ³•å®Œå…¨ä¸ä¸€æ ·ã€‚</p>
<h2 data-id="heading-3">å››ã€ä»€ä¹ˆæ‰æ˜¯çœŸæ­£åƒåˆ° <strong>AI</strong> çº¢åˆ©çš„å…¬å¸ï¼Ÿ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/88f2ff5a80a4413a8d08428e6cdbd6d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2S5qKF5Li756CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764119257&amp;x-signature=%2B5d9zfsGjLGUWNvUtm3s19k%2BH2A%3D" alt="" loading="lazy"/></p>
<p>æŠ¥å‘ŠæŠŠå…¬å¸åˆ†æˆäº†**é«˜ç»©æ•ˆè€…ï¼ˆAI High Performersï¼‰**å’Œæ™®é€šç©å®¶ï¼Œå·®è·éå¸¸æ˜æ˜¾ï¼š</p>






























<table><thead><tr><th>é¡¹ç›®</th><th>é«˜ç»©æ•ˆå…¬å¸</th><th>æ™®é€šå…¬å¸</th></tr></thead><tbody><tr><td><strong>AIç›®æ ‡</strong></td><td>80% æŠŠ<strong>ææ•ˆ</strong>ä½œä¸ºç›®æ ‡ï¼Œä½†åŒæ—¶è¿½æ±‚<strong>å¢é•¿+åˆ›æ–°</strong></td><td>å¤§å¤šæ•°åªç›¯ç€é™æœ¬</td></tr><tr><td><strong>ä¸šåŠ¡è½¬å‹æ„æ„¿</strong></td><td><strong>50</strong>% è®¡åˆ’ç”¨AIå½»åº•æ”¹é€ ä¸šåŠ¡</td><td>å¤§å¤šåªåšå±€éƒ¨ä¼˜åŒ–</td></tr><tr><td><strong>å·¥ä½œæµé‡è®¾è®¡</strong></td><td>å¤§å¤šæ•°å·²ç»åœ¨<strong>é‡æ–°è®¾è®¡å·¥ä½œæµç¨‹</strong></td><td>å¾ˆå°‘è§¦åŠæ ¸å¿ƒæµç¨‹</td></tr><tr><td><strong>è½åœ°é˜¶æ®µ</strong></td><td>æ›´å¤šå·²è¿›å…¥è§„æ¨¡åŒ–éƒ¨ç½²</td><td>å¤§å¤šè¿˜åœ¨è¯•ç‚¹æˆ–å®éªŒ</td></tr></tbody></table>
<p>ä¸€å¥è¯æ€»ç»“ï¼š<strong>åªæƒ³ç€çœå‡ ä¸ªå®¢æœã€å†™å‡ ç¯‡æ–‡æ¡ˆçš„å…¬å¸ï¼ŒåŸºæœ¬èµšä¸åˆ°å¤§é’±ï¼›æŠŠ AI å½“æˆä¸šåŠ¡é‡å¡‘å·¥å…·çš„å…¬å¸ï¼Œæ‰æ˜¯çœŸæ­£èµ¢å®¶</strong>ã€‚</p>
<h4 data-id="heading-4">äº”ã€å…³äºè£å‘˜çš„çœŸå®å£°éŸ³</h4>
<p>æŠ¥å‘Šé‡Œè¿˜é—®äº†ä¸€ä¸ªæ•æ„Ÿé—®é¢˜ï¼šæ˜å¹´<strong>AI</strong>ä¼šå¯¹å…¬å¸æ€»äººæ•°äº§ç”Ÿä»€ä¹ˆå½±å“ï¼Ÿ</p>
<ul>
<li><strong>32%</strong> çš„äººé¢„è®¡ä¼š<strong>å‡å°‘å‘˜å·¥</strong></li>
<li><strong>43%</strong> é¢„è®¡<strong>åŸºæœ¬ä¸å˜</strong></li>
<li><strong>13%</strong> é¢„è®¡ä¼š<strong>å¢åŠ å‘˜å·¥</strong></li>
</ul>
<p>è§‚ç‚¹éå¸¸åˆ†è£‚ï¼Œä½†æ•´ä½“æ¥çœ‹ï¼Œ<strong>AI</strong>å¸¦æ¥çš„ä¸æ˜¯ç®€å•â€œå–ä»£â€ï¼Œè€Œæ˜¯å²—ä½å’ŒæŠ€èƒ½çš„è¿ç§»ä¸å‡çº§ã€‚</p>
<h2 data-id="heading-5">å†™åœ¨æœ€å</h2>
<p>2025å¹´çš„ <strong>AI</strong> æ ¼å±€ï¼Œç”¨ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯ï¼š</p>
<p><strong>â€œå·¥å…·å·²å°±ä½ï¼Œèƒ½åŠ›å¾…å‡çº§â€</strong>ã€‚</p>
<p><strong>AI</strong>ä¸å†æ˜¯å°‘æ•°ç§‘æŠ€å…¬å¸çš„ç©å…·ï¼Œè€Œæ˜¯å‡ ä¹æ‰€æœ‰ä¼ä¸šçš„æ ‡é…ã€‚ä½†ä»â€œç”¨AIâ€åˆ°â€œé AIèµšé’±â€ï¼Œä¸­é—´éš”ç€æ— æ•°ä¸ªæµç¨‹é‡æ„ã€ç»„ç»‡å˜é©å’Œäººæ‰å‡çº§çš„åã€‚</p>
<p>éº¦è‚¯é”¡çš„ç»“è®ºå…¶å®å¾ˆæ¸…é†’ï¼š<br/>
<strong>æœªæ¥ä¸‰å¹´ï¼Œå†³å®šå…¬å¸ç”Ÿæ­»çš„åˆ†æ°´å²­ï¼Œå¯èƒ½ä¸æ˜¯ä½ æœ‰æ²¡æœ‰AIï¼Œè€Œæ˜¯ä½ æœ‰æ²¡æœ‰å‹‡æ°”æŠŠAIçœŸæ­£åµŒå…¥ä¸šåŠ¡éª¨å­é‡Œ</strong>ã€‚</p>
<p>è¿™ä»½æŠ¥å‘Šå€¼å¾—æ¯ä¸€ä¸ªå…³æ³¨<strong>AI</strong>è½åœ°çš„äººè®¤çœŸè¯»ä¸€è¯»ã€‚çœŸæ­£çš„<strong>AI</strong>çº¢åˆ©ï¼Œä»æ¥ä¸å±äºæœ€æ—©å–Šå£å·çš„äººï¼Œè€Œæ˜¯å±äºæœ€ä¼šæ‰§è¡Œçš„äººã€‚</p>
<p>å…³æ³¨æˆ‘ï¼Œå›å¤ <strong>666</strong>ï¼Œå³å¯è·å–è¿™ä»½ AI è¡Œä¸šæŠ¥å‘Šã€‚</p>
<p>AI æŠ€æœ¯æ­£ä»¥å‰æ‰€æœªæœ‰çš„é€Ÿåº¦å‘å±•ï¼Œå®ƒå°†å¦‚ä½•å¡‘é€ æˆ‘ä»¬çš„æœªæ¥ï¼Ÿè®©æˆ‘ä»¬æ‹­ç›®ä»¥å¾…ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Appleæ›´æ–°Appå®¡æ ¸æ¡æ¬¾ï¼Œä¸¥æ‰“æ“…è‡ªä¸ç¬¬ä¸‰æ–¹ AI å…±äº«ä¸ªäººæ•°æ®çš„åº”ç”¨]]></title>    <link>https://juejin.cn/post/7573900332637634570</link>    <guid>https://juejin.cn/post/7573900332637634570</guid>    <pubDate>2025-11-19T01:12:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573900332637634570" data-draft-id="7572880767584960563" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Appleæ›´æ–°Appå®¡æ ¸æ¡æ¬¾ï¼Œä¸¥æ‰“æ“…è‡ªä¸ç¬¬ä¸‰æ–¹ AI å…±äº«ä¸ªäººæ•°æ®çš„åº”ç”¨"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-19T01:12:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JarvanMo"/> <meta itemprop="url" content="https://juejin.cn/user/2348212565845704"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Appleæ›´æ–°Appå®¡æ ¸æ¡æ¬¾ï¼Œä¸¥æ‰“æ“…è‡ªä¸ç¬¬ä¸‰æ–¹ AI å…±äº«ä¸ªäººæ•°æ®çš„åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2348212565845704/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JarvanMo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T01:12:48.000Z" title="Wed Nov 19 2025 01:12:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">Appå®¡æ ¸æ¡æ¬¾å˜æ›´</h3>
<p>æœ€è¿‘iOSå¼€å‘è€…è¯¥éƒ½æ”¶åˆ°äº†Appleå‘æ¥äº†æ›´æ–°å®¡æ ¸æ¡æ¬¾çš„é‚®ä»¶ï¼ŒåŸæ–‡å†…å®¹å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>1.2.1(a):</strong> This new guideline specifies that creator apps must provide a way for users to identify content that exceeds the appâ€™s age rating, and use an age restriction mechanism based on verified or declared age to limit access by underage users.</li>
<li><strong>2.5.10:</strong> This language has been deleted ("Apps should not be submitted with empty ad banners or test advertisements.â€).</li>
<li><strong>3.2.2(ix):</strong> Clarified that loan apps may not charge a maximum APR higher than 36%, including costs and fees, and may not require repayment in full in 60 days or less.</li>
<li><strong>4.1(c):</strong> This new guideline specifies that you cannot use another developer's icon, brand, or product name in your app's icon or name, without approval from the developer.</li>
<li><strong>4.7:</strong> Clarifies that HTML5 and JavaScript mini apps and mini games are in scope of the guideline.</li>
<li><strong>4.7.2:</strong> Clarifies that apps offering software not embedded in the binary may not extend or expose native platform APIs or technologies to the software without prior permission from Apple.</li>
<li><strong>4.7.5:</strong> Clarifies that apps offering software not embedded in the binary must provide a way for users to identify content that exceeds the appâ€™s age rating, and use an age restriction mechanism based on verified or declared age to limit access by underage users.</li>
<li><strong>5.1.1(ix):</strong> Adds crypto exchanges to the list of apps that provide services in highly regulated fields.</li>
<li><strong>5.1.2(i):</strong> Clarifies that you must clearly disclose where personal data will be shared with third parties, including with third-party AI, and obtain explicit permission before doing so.</li>
</ul>
<p>ç¿»è¯‘è¿‡æ¥å°±æ˜¯ï¼š</p>
<ul>
<li>
<p><strong>1.2.1(a):</strong> è¿™é¡¹æ–°çš„æŒ‡å—æ˜ç¡®è§„å®šï¼Œåˆ›ä½œè€…åº”ç”¨ï¼ˆcreator appsï¼‰å¿…é¡»æä¾›ä¸€ç§æ–¹å¼ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿè¯†åˆ«<strong>è¶…å‡ºåº”ç”¨å¹´é¾„åˆ†çº§çš„å†…å®¹</strong>ï¼Œå¹¶ä½¿ç”¨åŸºäºéªŒè¯æˆ–å£°æ˜å¹´é¾„çš„<strong>å¹´é¾„é™åˆ¶æœºåˆ¶</strong>æ¥é™åˆ¶æœªæˆå¹´ç”¨æˆ·è®¿é—®è¿™äº›å†…å®¹ã€‚</p>
</li>
<li>
<p><strong>2.5.10:</strong> æ­¤æªè¾å·²è¢«åˆ é™¤ï¼ˆåŸæªè¾ä¸ºï¼šâ€œåº”ç”¨ä¸åº”æäº¤å¸¦æœ‰ç©ºç™½å¹¿å‘Šæ¨ªå¹…æˆ–æµ‹è¯•å¹¿å‘Šã€‚â€ï¼‰ã€‚</p>
</li>
<li>
<p><strong>3.2.2(ix):</strong> æ¾„æ¸…äº†è´·æ¬¾åº”ç”¨æ”¶å–çš„<strong>æœ€é«˜å¹´åˆ©ç‡ (Maximum APR)</strong> ä¸å¾—é«˜äº <strong>36%</strong> ï¼ˆåŒ…æ‹¬æ‰€æœ‰æˆæœ¬å’Œè´¹ç”¨ï¼‰ï¼Œå¹¶ä¸”ä¸å¾—è¦æ±‚åœ¨ <strong>60 å¤©æˆ–æ›´çŸ­æ—¶é—´</strong>å†…å…¨é¢å¿è¿˜è´·æ¬¾ã€‚</p>
</li>
<li>
<p><strong>4.1(c):</strong> è¿™é¡¹æ–°çš„æŒ‡å—æ˜ç¡®è§„å®šï¼Œ<strong>æœªç»è¯¥å¼€å‘è€…æ‰¹å‡†</strong>ï¼Œæ‚¨ä¸å¾—åœ¨æ‚¨çš„åº”ç”¨å›¾æ ‡æˆ–åç§°ä¸­ä½¿ç”¨<strong>å…¶ä»–å¼€å‘è€…çš„å›¾æ ‡ã€å“ç‰Œæˆ–äº§å“åç§°</strong>ã€‚</p>
</li>
<li>
<p><strong>4.7:</strong> æ¾„æ¸…äº† <strong>HTML5 å’Œ JavaScript å°ç¨‹åºï¼ˆmini appsï¼‰å’Œè¿·ä½ æ¸¸æˆï¼ˆmini gamesï¼‰</strong> å±äºè¯¥æŒ‡å—çš„ç®¡è¾–èŒƒå›´ã€‚</p>
</li>
<li>
<p><strong>4.7.2:</strong> æ¾„æ¸…äº†æä¾›<strong>æœªåµŒå…¥äºŒè¿›åˆ¶æ–‡ä»¶</strong>çš„è½¯ä»¶çš„åº”ç”¨ï¼Œ<strong>æœªç» Apple äº‹å…ˆè®¸å¯</strong>ï¼Œä¸å¾—å‘è¯¥è½¯ä»¶æ‰©å±•æˆ–æš´éœ²åŸç”Ÿå¹³å° API æˆ–æŠ€æœ¯ã€‚</p>
</li>
<li>
<p><strong>4.7.5:</strong> æ¾„æ¸…äº†æä¾›<strong>æœªåµŒå…¥äºŒè¿›åˆ¶æ–‡ä»¶</strong>çš„è½¯ä»¶çš„åº”ç”¨ï¼Œå¿…é¡»æä¾›ä¸€ç§æ–¹å¼ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿè¯†åˆ«<strong>è¶…å‡ºåº”ç”¨å¹´é¾„åˆ†çº§çš„å†…å®¹</strong>ï¼Œå¹¶ä½¿ç”¨åŸºäºéªŒè¯æˆ–å£°æ˜å¹´é¾„çš„<strong>å¹´é¾„é™åˆ¶æœºåˆ¶</strong>æ¥é™åˆ¶æœªæˆå¹´ç”¨æˆ·è®¿é—®è¿™äº›å†…å®¹ã€‚</p>
</li>
<li>
<p><strong>5.1.1(ix):</strong> å°† <strong>åŠ å¯†è´§å¸äº¤æ˜“æ‰€ (crypto exchanges)</strong> åŠ å…¥åˆ°æä¾›é«˜åº¦ç›‘ç®¡æœåŠ¡çš„åº”ç”¨åˆ—è¡¨ã€‚</p>
</li>
<li>
<p><strong>5.1.2(i):</strong> æ¾„æ¸…äº†æ‚¨å¿…é¡»<strong>æ¸…æ¥šåœ°æŠ«éœ²</strong>ä¸ªäººæ•°æ®å°†ä¸<strong>ç¬¬ä¸‰æ–¹</strong>ï¼ˆåŒ…æ‹¬<strong>ç¬¬ä¸‰æ–¹ AI</strong>ï¼‰å…±äº«çš„ä½ç½®ï¼Œå¹¶åœ¨å…±äº«ä¹‹å‰<strong>è·å¾—æ˜ç¡®çš„è®¸å¯</strong>ã€‚</p>
</li>
</ul>
<p>å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒAppleæ–°è§„é¦–æ¬¡æ˜ç¡®è¦æ±‚ï¼Œå„ç±»åº”ç”¨è‹¥è¦æŠŠç”¨æˆ·ä¸ªäººæ•°æ®æä¾›ç»™ç¬¬ä¸‰æ–¹ AIï¼Œå¿…é¡»äº‹å…ˆ<strong>å…¬å¼€è¯´æ˜å¹¶è·å¾—ç”¨æˆ·æˆæƒ</strong>ã€‚</p>
<p>è‹¹æœå…¬å¸ç›®å‰æ­£ç€æ‰‹è°ƒæ•´å…¶ App Store æ”¿ç­–ï¼Œæ­¤ä¸¾è¢«è§†ä¸ºå¯¹å³å°†åˆ°æ¥çš„ <strong>AI æ—¶ä»£</strong>ï¼Œå°¤å…¶æ˜¯å¯¹ 2026 å¹´å³å°†å‘å¸ƒçš„<strong>å…¨æ–°ã€æ›´æ™ºèƒ½çš„ Siri</strong> çš„æˆ˜ç•¥æ€§å‡†å¤‡ã€‚</p>
<p>æ®ä¼ é—»ï¼Œä¸‹ä¸€ä»£ Siri å°†å…·å¤‡<strong>æ›´å¼ºå¤§çš„è·¨åº”ç”¨è¯­éŸ³æ“ä½œèƒ½åŠ›</strong>ï¼Œå…¶éƒ¨åˆ†æ ¸å¿ƒæŠ€æœ¯æ®æ‚‰å°†ç”± <strong>Google çš„ Gemini æ¨¡å‹</strong>æä¾›æ”¯æŒã€‚</p>
<h3 data-id="heading-1">æ”¿ç­–è°ƒæ•´èƒŒåçš„è€ƒé‡</h3>
<p>è‹¹æœåœ¨æ­¤æ—¶æ›´æ–°å¼€å‘è€…æŒ‡å—ï¼Œä¸»è¦ç›®æ ‡ä¹‹ä¸€æ˜¯<strong>åŠ å¼ºå¯¹ç”¨æˆ·éšç§çš„ä¿æŠ¤</strong>ï¼Œç‰¹åˆ«æ˜¯è¦é˜²æ­¢åº”ç”¨ç¨‹åºåœ¨ç”¨æˆ·ä¸çŸ¥æƒ…æˆ–æœªç»åŒæ„çš„æƒ…å†µä¸‹ï¼Œå°†ä¸ªäººæ•°æ®ä¼ è¾“ç»™ AI æœåŠ¡æä¾›å•†æˆ–å…¶ä»–ç›¸å…³å…¬å¸ã€‚</p>
<p>è¿™æ¬¡æ”¿ç­–ä¿®æ”¹çš„å…³é”®æ„ä¹‰ä¸åœ¨äºå¼•å…¥äº†å…¨æ–°çš„æ•°æ®ä¿æŠ¤æ¦‚å¿µï¼Œè€Œåœ¨äº<strong>è‹¹æœé¦–æ¬¡å°† AI ç›¸å…³çš„ä¼ä¸šå’ŒæŠ€æœ¯æ˜ç¡®çº³å…¥äº†æ—¢æœ‰çš„ç›‘ç®¡æ¡†æ¶</strong>ã€‚</p>
<h3 data-id="heading-2">å…·ä½“å˜åŒ–å’Œå½±å“</h3>
<p>åŸæœ‰çš„å®¡æ ¸è§„åˆ™ <strong>5.1.2 (i)</strong> å·²ç»è¦æ±‚å¼€å‘è€…åœ¨åˆ†äº«ç”¨æˆ·æ•°æ®å‰å¿…é¡»<strong>é€æ˜æŠ«éœ²å¹¶è·å¾—ç”¨æˆ·è®¸å¯</strong>ï¼Œå¹¶ç¦æ­¢æœªç»å…è®¸åœ°â€œä½¿ç”¨ã€ä¼ è¾“æˆ–åˆ†äº«â€ä¸ªäººä¿¡æ¯ã€‚è¿™ä¸€è§„å®šæ˜¯è‹¹æœä¸ºéµå®ˆå¦‚æ¬§ç›Ÿ GDPRã€åŠ å· CCPA ç­‰å…¨çƒéšç§æ³•è§„çš„é‡è¦ä¸¾æªï¼Œæ—¨åœ¨ç¡®ä¿ç”¨æˆ·å¯¹ä¸ªäººæ•°æ®æ‹¥æœ‰æ§åˆ¶æƒã€‚è¿è§„åº”ç”¨å°†é¢ä¸´è¢«ä¸‹æ¶çš„é£é™©ã€‚</p>
<p>æ–°ç‰ˆæœ¬åœ¨è¿™ä¸€è¦æ±‚çš„åŸºç¡€ä¸Š<strong>åŠ å…¥äº†æ›´å…·é’ˆå¯¹æ€§çš„æ˜ç¡®æªè¾</strong>ï¼šå¼€å‘è€…å¿…é¡»æ¸…æ¥šè¯´æ˜ä¸ªäººæ•°æ®ä¼šè¢«æä¾›ç»™å“ªäº›ç¬¬ä¸‰æ–¹â€”â€”<strong>åŒ…æ‹¬ç¬¬ä¸‰æ–¹ AI</strong>ï¼Œå¹¶ä¸”åœ¨æ•°æ®å…±äº«æ“ä½œå‘ç”Ÿå‰ï¼Œå¿…é¡»<strong>è·å–ç”¨æˆ·çš„æ˜ç¡®æˆæƒ</strong>ã€‚</p>
<p>è¿™ä¸€å˜åŒ–é¢„è®¡å°†å¯¹é‚£äº›<strong>ä¾èµ– AI æŠ€æœ¯æ¥æ”¶é›†ã€å¤„ç†ç”¨æˆ·æ•°æ®</strong>ä»¥æä¾›ä¸ªæ€§åŒ–æœåŠ¡æˆ–ç‰¹å®šåŠŸèƒ½çš„åº”ç”¨ç¨‹åºäº§ç”Ÿå½±å“ã€‚ç„¶è€Œï¼Œç”±äºâ€œAIâ€æ˜¯ä¸€ä¸ªå¹¿é˜”çš„èŒƒç•´ï¼Œæ—¢åŒ…å«å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ï¼Œä¹Ÿæ¶µç›–å„ç§æœºå™¨å­¦ä¹ æŠ€æœ¯ï¼Œç›®å‰å°šä¸æ¸…æ¥šè‹¹æœå°†ä»¥ä½•ç§ç¨‹åº¦å’ŒåŠ›åº¦å»æ‰§è¡Œè¿™ä¸€æ–°è¦æ±‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘çš„ starship ç»ˆç«¯é…ç½®]]></title>    <link>https://juejin.cn/post/7573952825953484863</link>    <guid>https://juejin.cn/post/7573952825953484863</guid>    <pubDate>2025-11-19T01:12:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573952825953484863" data-draft-id="7568461955015933971" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘çš„ starship ç»ˆç«¯é…ç½®"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-19T01:12:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Legend80s"/> <meta itemprop="url" content="https://juejin.cn/user/2568105753839790"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘çš„ starship ç»ˆç«¯é…ç½®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2568105753839790/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Legend80s
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T01:12:46.000Z" title="Wed Nov 19 2025 01:12:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸Šä¸€ç¯‡æ–‡ç« ã€Š<strong>åˆ«å†ç¤¾æ­»äº†ï¼<code>includeIf</code> ä¸€æ‹›æå®š Git æäº¤è€…ä¿¡æ¯é”™ä¹±ï¼Œå®ˆæŠ¤ä½ çš„é‚®ç®±éšç§</strong>ã€‹æˆ‘ä»¬é€šè¿‡å·§å¦™çš„ git é…ç½®è®©è¿›å…¥ä¸åŒç›®å½•èƒ½è‡ªåŠ¨åˆ‡æ¢å¯¹åº”çš„ç”¨æˆ·åå’Œé‚®ç®±ï¼Œä»æ ¹æºä¸Šæœç»äº† git æäº¤ä½œè€…æ··ä¹±é—®é¢˜ã€‚</p>
<p>ä»Šå¤©æˆ‘ä»¬ç›´æ¥è®© git ç”¨æˆ·åå’Œé‚®ç®±åœ¨ç»ˆç«¯æ˜¾ç¤ºï¼Œæ›´åŠ ä¸€ç›®äº†ç„¶ï¼Œé…ç½®æ•ˆæœå¤§æ¦‚å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ts" lang="ts">â¯ nextjs-ecommerce on ğŸŒ± master [â‡¡] via <span class="hljs-title class_">Node</span>.<span class="hljs-property">js</span> v24<span class="hljs-number">.9</span><span class="hljs-number">.0</span> ğŸ‘¨ legend80s ğŸ’Œ legend80s<span class="hljs-meta">@example</span>.<span class="hljs-property">com</span>
</code></pre>
<p>å¦‚æœä½ æŒ‰ç…§ä¹‹å‰çš„æ–‡ç« é…ç½®è¿‡ git è‡ªåŠ¨åˆ‡æ¢ç”¨æˆ·åï¼Œç°åœ¨åˆ‡æ¢åˆ°å·¥ä½œç›®å½•å¯ä»¥çœ‹åˆ°ç”¨æˆ·åé‚®ç®±ä¹Ÿéšç€æ”¹å˜å¹¶ç›´è§‚å±•ç¤ºåœ¨ç»ˆç«¯ä¸Šã€‚éå¸¸ NICEï¼</p>
<h2 data-id="heading-0">å®‰è£… starship</h2>
<p>è¯¦è§å®˜ç½‘ <a href="https://link.juejin.cn?target=https%3A%2F%2Fstarship.rs%2F" target="_blank" title="https://starship.rs/" ref="nofollow noopener noreferrer">starship.rs/</a> ç•¥ã€‚</p>
<h2 data-id="heading-1">é…ç½®</h2>
<p>å®Œæ•´é…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-comment"># ~/.config/starship.toml</span>
<span class="hljs-comment"># https://starship.rs/config/</span>

<span class="hljs-comment"># Get editor completions based on the config schema</span>
<span class="hljs-attr">"$schema"</span> = <span class="hljs-string">'https://starship.rs/config-schema.json'</span>

<span class="hljs-comment"># Inserts a blank line between shell prompts</span>
<span class="hljs-attr">add_newline</span> = <span class="hljs-literal">true</span>

<span class="hljs-section">[git_branch]</span>
<span class="hljs-attr">symbol</span> = <span class="hljs-string">'ğŸŒ± '</span>

<span class="hljs-section">[nodejs]</span>
<span class="hljs-attr">format</span> = <span class="hljs-string">'via [Node.js $version](bold green) '</span>

<span class="hljs-section">[custom.git_user]</span>
<span class="hljs-attr">command</span> = <span class="hljs-string">"echo \"ğŸ‘¨ $(git config user.name) ğŸ’Œ $(git config user.email)\""</span>
<span class="hljs-attr">shell</span> = [<span class="hljs-string">"bash"</span>, <span class="hljs-string">"--noprofile"</span>, <span class="hljs-string">"--norc"</span>]
<span class="hljs-attr">style</span> = <span class="hljs-string">"bold yellow"</span>
<span class="hljs-attr">when</span> = <span class="hljs-string">"git rev-parse --is-inside-work-tree 2&gt;/dev/null"</span>
</code></pre>
<h3 data-id="heading-2">è§£é‡Š</h3>
<ul>
<li><code>"$schema" = 'https://starship.rs/config-schema.json'</code> æ˜¯ä¸ºäº†è®©æ¥ä¸‹æ¥çš„é…ç½®èƒ½è‡ªåŠ¨è¡¥å…¨ã€‚</li>
<li><code>add_newline = true</code> å‰åå‘½ä»¤è¡Œä¹‹é—´å¢åŠ ç©ºè¡Œï¼Œç»™äºˆå‘¼å¸ç©ºé—´ã€‚</li>
<li><code>[git_branch] symbol = 'ğŸŒ±</code> ç»™åˆ†æ”¯å¢åŠ  emojiï¼Œå¯ä»¥æ¢æˆä»»æ„ä½ å–œæ¬¢çš„ emojiã€‚<em>å¦‚æœä¸æ”¹å¿…é¡»å®‰è£… nerd å­—ä½“ï¼Œå¦åˆ™æ˜¾ç¤ºä¹±ç ã€‚</em></li>
<li><code>format = 'via [Node.js $version](bold green) '</code> ç»¿è‰²åŠ ç²—æ˜¾ç¤º Node.js ç‰ˆæœ¬å·ï¼š<strong>Via Node.js v24.x.x</strong>ã€‚ä½ å¯ä»¥æ”¹æˆä»»æ„ä»£è¡¨ Node.js çš„ emoji æ¯”å¦‚ ğŸŸ¢ã€‚<em>å¦‚æœä¸æ”¹å¿…é¡»å®‰è£… nerd å­—ä½“ï¼Œå¦åˆ™æ˜¾ç¤ºä¹±ç ã€‚</em>
<ul>
<li>ç®€æ´é…ç½®ï¼š<code>format = '[ğŸŸ¢ $version](bold green) '</code>ã€‚æ•ˆæœï¼š <code>nextjs-ecommerce on ğŸŒ± master [â‡¡] ğŸŸ¢ v24.9.0 </code></li>
</ul>
</li>
</ul>
<p>æ¥ä¸‹æ¥æ˜¯é…ç½® git ç”¨æˆ·åå’Œé‚®ç®±ï¼Œä¹Ÿæ˜¯æœ¬æ–‡çš„é‡ç‚¹ã€‚</p>
<h4 data-id="heading-3">æ˜¾ç¤º git user å’Œ email</h4>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[custom.git_user]</span>
<span class="hljs-attr">command</span> = <span class="hljs-string">"echo \"ğŸ‘¨ $(git config user.name) ğŸ’Œ $(git config user.email)\""</span>
<span class="hljs-attr">shell</span> = [<span class="hljs-string">"bash"</span>, <span class="hljs-string">"--noprofile"</span>, <span class="hljs-string">"--norc"</span>]
<span class="hljs-attr">style</span> = <span class="hljs-string">"bold yellow"</span>
<span class="hljs-comment"># format = "[$output]($style) "</span>
<span class="hljs-attr">when</span> = <span class="hljs-string">"git rev-parse --is-inside-work-tree 2&gt;/dev/null"</span>
</code></pre>
<h5 data-id="heading-4">è§£é‡Š</h5>
<p>custom è¡¨ç¤ºè‡ªå®šä¹‰é…ç½®</p>
<ul>
<li><code>command</code> è¡¨ç¤º starship å°†æ‰§è¡Œè¯¥å‘½ä»¤æ¥å±•ç¤ºä¿¡æ¯ã€‚æˆ‘ä»¬é…ç½®<code>echo \"ğŸ‘¨ $(git config user.name) ğŸ’Œ $(git config user.email)\"</code>è®©å…¶æ˜¾ç¤ºç¾è§‚çš„ï¼š<strong><code>ğŸ‘¨ username ğŸ’Œ foo@example.com</code></strong>ã€‚</li>
<li><code>shell</code>ï¼šé‡‡ç”¨ä½•ç§è§£é‡Šå™¨è¿è¡Œ <code>command</code>ã€‚æŒ‡å®š bashï¼Œ<strong>ä¸ºäº†å…¼å®¹æ€§éœ€æŒ‡å®š</strong>å¦åˆ™ trae ä¸­å°†ä¸å±•ç¤ºï¼Œå› ä¸º trae é»˜è®¤ä½¿ç”¨ PowerShellã€‚</li>
<li><code>format</code>ï¼šstarship å›ºå®šæ ¼å¼ï¼Œ<code>$output</code> æ˜¯ <code>command</code> çš„è¾“å‡ºï¼Œ<code>$style</code> æ˜¯ <code>style</code> å†…å®¹ã€‚<em>å¯ä¸å†™</em>ã€‚</li>
<li><code>style</code>ï¼šåŠ ç²—é»„è‰²ï¼Œå› ä¸ºè¿™ä¸ªä¿¡æ¯æ¯”è¾ƒé‡è¦ï¼Œå½“ç„¶ä½ å¯ä»¥æ¢æˆå…¶ä»–é¢œè‰²ï¼Œæ¯”å¦‚ red æˆ– purpleï¼Œæˆ–ä½¿ç”¨å…¶ä»–æ ·å¼æ¯”å¦‚ underlineã€‚æ›´å¤šè¯¦è§å‚è€ƒé“¾æ¥ã€‚</li>
<li><code>when = "..."</code>ï¼šä½•æ—¶å±•ç¤ºï¼Œ<code>"true"</code> åˆ™å§‹ç»ˆå±•ç¤ºã€‚<code>git rev-parse --is-inside-work-tree 2&gt;/dev/null</code> åªåœ¨<strong>Git ä»“åº“ç›®å½•å†…ï¼ˆgit init è¿‡ï¼‰</strong> æ‰æ˜¾ç¤ºè¿™ä¸ªï¼Œ<code>2&gt;/dev/null</code> è¡¨ç¤ºå¿½ç•¥æŠ¥é”™ï¼ŒæŠ¥é”™ä¸è¾“å‡º true è‡ªç„¶ä¹Ÿä¸å±•ç¤ºã€‚</li>
</ul>
<p>æœ€ç»ˆæ•ˆæœ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e73303497c345b29e340169d12c0fe5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGVnZW5kODBz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764119566&amp;x-signature=S%2F%2FF9ATgHGRLdrgUaNjHxShf68Q%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æœå¤§å®¶è§‰å¾— Node.js ç‰ˆæœ¬å·å’Œç”¨æˆ·åä¹‹é—´ç©ºç™½å¤ªå¤šï¼Œå¯ä»¥ä½¿ç”¨ <code>\b</code> å›é€€ç¬¦ã€‚</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-addition">+ command = "echo \"\bğŸ‘¨ $(git config user.name) ğŸ’Œ $(git config user.email)\""</span>
</code></pre>
<p>å¦‚æœåœ¨å°å±å¹•ä¸Šå¯æ”¹æˆåªæ˜¾ç¤ºç”¨æˆ·åï¼ˆè¦æ˜¯èƒ½è‡ªé€‚åº”å°±å¥½äº†ï¼Œä½†ç¡®å®æ²¡æœ‰æ‰¾åˆ°åŠæ³• ğŸ¤·â€â™‚ï¸ï¼‰ï¼š</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-addition">+ command = "echo \"\bğŸ‘¨ $(git config user.name)\""</span>
</code></pre>
<p>å¯¹åº”é…ç½®ï¼š</p>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-comment"># ~/.config/starship.toml</span>
<span class="hljs-comment"># https://starship.rs/config/</span>

<span class="hljs-comment"># Get editor completions based on the config schema</span>
<span class="hljs-attr">"$schema"</span> = <span class="hljs-string">'https://starship.rs/config-schema.json'</span>

<span class="hljs-comment"># Inserts a blank line between shell prompts</span>
<span class="hljs-attr">add_newline</span> = <span class="hljs-literal">true</span>

<span class="hljs-section">[git_branch]</span>
<span class="hljs-attr">symbol</span> = <span class="hljs-string">'ğŸŒ± '</span>

<span class="hljs-section">[nodejs]</span>
<span class="hljs-attr">format</span> = <span class="hljs-string">'[ğŸŸ¢ $version](bold green) '</span>

<span class="hljs-section">[custom.git_user]</span>
<span class="hljs-attr">command</span> = <span class="hljs-string">"echo \"\bğŸ‘¨ $(git config user.name) ğŸ’Œ $(git config user.email)\""</span>
<span class="hljs-attr">style</span> = <span class="hljs-string">"bold yellow"</span>
<span class="hljs-attr">when</span> = <span class="hljs-string">"git rev-parse --is-inside-work-tree 2&gt;/dev/null"</span>
</code></pre>
<blockquote>
<p>æ³¨æ„ä¿®æ”¹å®æ—¶ç”Ÿæ•ˆæ— éœ€é‡å¯ç»ˆç«¯ï¼Œåªéœ€ç»ˆç«¯æ‰§è¡Œä»»ä½•å‘½ä»¤æˆ–è€…æŒ‰ Enter å³å¯ã€‚</p>
</blockquote>
<h2 data-id="heading-5">å±•ç¤º npm registry</h2>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-addition">+ [custom.npm]</span>
<span class="hljs-addition">+ command = "registry=$(npm config get registry) &amp;&amp; echo \"${registry#*://}\""</span>
# when package.json exists
<span class="hljs-addition">+ when = "[[ -f package.json ]]"</span>
</code></pre>
<p>è¿™é‡Œå°† <code>https://registry.npmjs.org</code> æˆªçŸ­ä¸º <code>registry.npmjs.org</code>ï¼Œå¥½è®©ç©ºé—´å æ®å˜å°ï¼Œå½“ç„¶ä½ å¯ä»¥ä¸æˆªæ–­ï¼š<code>command = "npm config get registry"</code>ã€‚</p>
<p>å…¶æ¬¡åªæœ‰å½“å½“å‰ç›®å½•å­˜åœ¨ package.json <code>[[ -f package.json ]]</code> å³æ˜¯å‰ç«¯é¡¹ç›®æ‰å±•ç¤ºï¼Œå› ä¸ºå…¶ä»–é¡¹ç›®æ¯”å¦‚ Python æˆ– Golang é¡¹ç›®æˆ‘ä»¬å¹¶ä¸åœ¨æ„å½“å‰ npm çš„ registry æ˜¯ä»€ä¹ˆã€‚å¦‚æœå¤šæ–‡ä»¶å¯ç”¨ <code>detect_files = ["package.json"]</code>ã€‚</p>
<blockquote>
<p>[!TIPS]
å•æ–‡ä»¶ä¸ºä½•æ¨è <code>[[ -f package.json ]]</code> é¦–å…ˆ <code>[ -f package.json ]</code> ä¼šå”¤èµ·å¤–éƒ¨å‘½ä»¤å³æ–°è¿›ç¨‹ï¼Œæ€§èƒ½æ…¢ã€‚detect_files ä¸çŸ¥å…¶å®ç°ã€‚</p>
</blockquote>
<blockquote>
<p><em><code>[</code> æ˜¯å‘½ä»¤: æ–‡ä»¶ä½ç½® <code>/usr/bin/[</code>    è¿™ä¸ªå‘½ä»¤å¾ˆç‰¹æ®Š, ç»“å°¾åªèƒ½æ˜¯ <code>]</code> , æ‰€ä»¥æ„Ÿè§‰åƒé€»è¾‘åˆ¤æ–­ä¸€æ ·</em>ã€‚
<em><code>â¯ which [</code> å°†è¾“å‡º <strong>[: shell built-in command</strong> è¯´æ˜å®ƒå…¶å®å°±æ˜¯ä¸€ä¸ªå‘½ä»¤ã€‚</em></p>
<p><em>è‹±æ–‡ä»‹ç» <code>[</code>: <code>[ arg... ]</code> Evaluate conditional expression. This is a <strong>synonym for the "test"</strong> builtin, but the last argument <strong>must be a literal ']'</strong>, to match the opening '['.</em></p>
<p><em><code>test</code> ä¹Ÿæ˜¯å‘½ä»¤: <code>/usr/bin/test</code></em></p>
<p><em><code>[[</code> æ‰æ˜¯ bash çœŸæ­£çš„åˆ¤æ–­é€»è¾‘</em></p>
<p>æ¥è‡ªï¼š<strong>[ å’Œ [[ å’Œ test è°æ›´å¿«??</strong> - <a href="https://link.juejin.cn?target=http%3A%2F%2Fcloud.tencent.com%2Fdeveloper%2Farticle%2F1806703" target="_blank" title="http://cloud.tencent.com/developer/article/1806703" ref="nofollow noopener noreferrer">cloud.tencent.com/developer/aâ€¦</a></p>
<p>æ›´å¤šåŒºåˆ«ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fsegmentfault.com%2Fa%2F1190000022265700%23item-4-3" target="_blank" title="https://segmentfault.com/a/1190000022265700#item-4-3" ref="nofollow noopener noreferrer">segmentfault.com/a/119000002â€¦</a></p>
</blockquote>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfd9fbbe5d304218a357ac66afcec7f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGVnZW5kODBz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764119566&amp;x-signature=DEO2riU7J3urc%2Fi5FcBAPtyGn%2FE%3D" alt="[ å’Œ test é€Ÿåº¦ä¸€æ ·, [[ ç•¥èƒœä¸€ç­¹" loading="lazy"/></p>
<h4 data-id="heading-6">æ•ˆæœ</h4>
<pre><code class="hljs language-sh" lang="sh">nextjs-ecommerce on ğŸŒ± master [!â‡¡] ğŸŸ¢ v22.19.0 ğŸ‘¨ legend80s registry.npmjs.org took 5s
â¯ npm config <span class="hljs-built_in">set</span> registry https://registry.npmmirror.com <span class="hljs-comment"># åˆ‡æ¢</span>

nextjs-ecommerce on ğŸŒ± master [!â‡¡] ğŸŸ¢ v22.19.0 ğŸ‘¨ legend80s registry.npmmirror.com
</code></pre>
<p>å¯ä»¥çœ‹åˆ°å½“åˆ‡æ¢ registry åç›¸åº”ä¹Ÿå‘ç”Ÿäº†å˜åŒ– ğŸ‰ï¼</p>
<p>è¿›å…¥ä¸€ä¸ªéå‰ç«¯é¡¹ç›®ä¸å±•ç¤º registryã€‚</p>
<p><strong>æ³¨æ„ 1</strong>ï¼š</p>
<pre><code class="hljs language-diff" lang="diff"># å¦‚æœè¶…æ—¶å¯åŠ 
<span class="hljs-addition">+ command_timeout = 1500</span>
</code></pre>
<p><strong>æ³¨æ„ 2</strong>ï¼šåœ¨ Windows ä¸Šå¦‚æœå‘ç°ç»ˆç«¯enteråè¾ƒæ…¢å»ºè®®ä¸å±•ç¤º npm registryã€‚è€Œé‡‡ç”¨ä¸‹è¿° <code>gituser alias</code> æŒ‰éœ€æŸ¥çœ‹ã€‚</p>
<h2 data-id="heading-7">gituser alias</h2>
<p>æœ€åå†è´¡çŒ®ä¸€ä¸ª gituser alias å¦‚æœå¤§å®¶ä¸å–œæ¬¢åœ¨ç»ˆç«¯æ—¶åˆ»å±•ç¤ºè‡ªå·±çš„ç”¨æˆ·åé‚®ç®±ï¼Œå¯ä»¥é€šè¿‡è¯¥å‘½ä»¤è¿…é€ŸæŸ¥çœ‹ã€‚</p>
<p><strong>æ•ˆæœå¦‚ä¸‹ï¼š</strong></p>
<pre><code class="hljs language-ts" lang="ts"> nextjs-ecommerce on ğŸŒ± master [â‡¡] ğŸŸ¢ v24<span class="hljs-number">.9</span><span class="hljs-number">.0</span>  ğŸ‘¨ legend80s ğŸ’Œ liuchzong<span class="hljs-meta">@qq</span>.<span class="hljs-property">com</span> 
â¯ gituser

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¨ legend80s   â”‚ ğŸ’Œ liuchzong<span class="hljs-meta">@qq</span>.<span class="hljs-property">com</span>           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>åœ¨ <strong>~/.zshrc</strong> æ–‡ä»¶ä¸­å¢åŠ ä»¥ä¸‹ function å’Œ aliasï¼ˆfunction ä¹Ÿæ˜¯ä¸€ç§ alias å¯å…¨å±€è°ƒç”¨ï¼‰ï¼š</p>
<pre><code class="hljs language-sh" lang="sh">// ~/.zshrc

<span class="hljs-keyword">function</span> git-<span class="hljs-function"><span class="hljs-title">user</span></span>() {
  <span class="hljs-built_in">echo</span>
  <span class="hljs-built_in">echo</span> â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  <span class="hljs-built_in">echo</span> â”‚ <span class="hljs-string">"ğŸ‘¨ <span class="hljs-subst">$(git config user.name)</span>   â”‚ ğŸ’Œ <span class="hljs-subst">$(git config user.email)</span>            â”‚"</span>
  <span class="hljs-built_in">echo</span> â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  <span class="hljs-built_in">echo</span>
}
<span class="hljs-built_in">alias</span> gituser=<span class="hljs-string">"git-user"</span>
<span class="hljs-built_in">alias</span> current-git=<span class="hljs-string">"git-user"</span>
</code></pre>
<h2 data-id="heading-8">å‚è€ƒé“¾æ¥</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fstarship.rs%2Fadvanced-config%2F%23style-strings" target="_blank" title="https://starship.rs/advanced-config/#style-strings" ref="nofollow noopener noreferrer">starship.rs/advanced-coâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>