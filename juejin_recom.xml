<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[ä¸ºä»€ä¹ˆ"DevOps"èƒ½æé«˜è½¯ä»¶å¼€å‘æ•ˆç‡ï¼Ÿâ€”â€”ä»å¼€å‘åˆ°è¿ç»´çš„èåˆ]]></title>    <link>https://juejin.cn/post/7591075684065263631</link>    <guid>https://juejin.cn/post/7591075684065263631</guid>    <pubDate>2026-01-04T08:10:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591075684065263631" data-draft-id="7591130604428886056" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆ&quot;DevOps&quot;èƒ½æé«˜è½¯ä»¶å¼€å‘æ•ˆç‡ï¼Ÿâ€”â€”ä»å¼€å‘åˆ°è¿ç»´çš„èåˆ"/> <meta itemprop="keywords" content="åç«¯,æ¶æ„,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-04T08:10:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ— é™å¤§6"/> <meta itemprop="url" content="https://juejin.cn/user/2865758605422890"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆ"DevOps"èƒ½æé«˜è½¯ä»¶å¼€å‘æ•ˆç‡ï¼Ÿâ€”â€”ä»å¼€å‘åˆ°è¿ç»´çš„èåˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2865758605422890/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ— é™å¤§6
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T08:10:41.000Z" title="Sun Jan 04 2026 08:10:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ”„ ä¸ºä»€ä¹ˆ"DevOps"èƒ½æé«˜è½¯ä»¶å¼€å‘æ•ˆç‡ï¼Ÿâ€”â€”ä»å¼€å‘åˆ°è¿ç»´çš„èåˆ ğŸš€</h2>
<blockquote>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ— é™å¤§ï¼Œæ¬¢è¿æ”¶çœ‹åä¸‡ä¸ªä¸ºä»€ä¹ˆç³»åˆ—æ–‡ç« </p>
<p>å¸Œæœ›ä»Šå¤©çš„å†…å®¹èƒ½å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©</p>
</blockquote>
<p>æƒ³è±¡ä¸€ä¸‹ï¼šä½ æ˜¯ä¸€åå¼€å‘å·¥ç¨‹å¸ˆï¼Œè¾›è¾›è‹¦è‹¦å†™äº†ä¸‰ä¸ªæœˆçš„ä»£ç ï¼Œç»“æœä¸Šçº¿æ—¶å› ä¸ºè¿ç»´é…ç½®é—®é¢˜ï¼Œå¯¼è‡´ç³»ç»Ÿå´©æºƒï¼Œè¢«è€æ¿éª‚å¾—ç‹—è¡€æ·‹å¤´â€¦â€¦ğŸ˜±</p>
<p>è¿™ç§"å¼€å‘å’Œè¿ç»´äº’ç›¸ç”©é”…"çš„åœºæ™¯ï¼Œåœ¨ä»¥å‰çš„è½¯ä»¶å…¬å¸é‡Œå±¡è§ä¸é²œï¼è€Œè§£å†³è¿™ä¸ªé—®é¢˜çš„"ç¥å™¨"ï¼Œæ­£æ˜¯ç°åœ¨æœ€ç«çš„<strong>DevOps</strong>ï¼</p>
<h3 data-id="heading-1">ğŸ¤” æ ¸å¿ƒé—®é¢˜ï¼šDevOps çš„æ ¸å¿ƒæ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°å¼€å‘å’Œè¿ç»´çš„åä½œï¼Ÿ</h3>
<p>å¾ˆå¤šäººè§‰å¾—DevOpsæ˜¯"ä¸€å †å·¥å…·çš„é›†åˆ"ï¼Œå…¶å®DevOpsçš„æœ¬è´¨æ˜¯<strong>ä¸€ç§æ–‡åŒ–ã€ä¸€ç§ç†å¿µ</strong>â€”â€”å®ƒæ‰“ç ´äº†å¼€å‘ï¼ˆDevï¼‰å’Œè¿ç»´ï¼ˆOpsï¼‰ä¹‹é—´çš„å£å’ï¼Œè®©ä¸¤ä¸ªå›¢é˜Ÿåƒ"å¥½æœ‹å‹"ä¸€æ ·åä½œï¼</p>
<h4 data-id="heading-2">DevOpsçš„"çµé­‚"æ˜¯ä»€ä¹ˆï¼Ÿ</h4>
<ul>
<li>ğŸ¤ <strong>åä½œæ–‡åŒ–</strong>ï¼šå¼€å‘å’Œè¿ç»´ä¸å†æ˜¯"å¯¹ç«‹å…³ç³»"ï¼Œè€Œæ˜¯"åˆä½œä¼™ä¼´"</li>
<li>ğŸš€ <strong>è‡ªåŠ¨åŒ–</strong>ï¼šç”¨å·¥å…·æ›¿ä»£äººå·¥ï¼Œå‡å°‘é‡å¤åŠ³åŠ¨å’Œäººä¸ºé”™è¯¯</li>
<li>âš¡ <strong>å¿«é€Ÿè¿­ä»£</strong>ï¼šå°æ­¥å¿«è·‘ï¼Œå¿«é€Ÿäº¤ä»˜ï¼ŒåŠæ—¶åé¦ˆ</li>
<li>ğŸ“Š <strong>æ•°æ®é©±åŠ¨</strong>ï¼šç”¨ç›‘æ§æ•°æ®æŒ‡å¯¼å†³ç­–ï¼ŒæŒç»­æ”¹è¿›</li>
<li>ğŸ›¡ï¸ <strong>å®‰å…¨å·¦ç§»</strong>ï¼šæŠŠå®‰å…¨æ£€æŸ¥èå…¥å¼€å‘æµç¨‹çš„æ—©æœŸé˜¶æ®µ</li>
</ul>
<h3 data-id="heading-3">ğŸ“œ ä»"å¯¹ç«‹"åˆ°"èåˆ"ï¼šDevOpsçš„è¿›åŒ–å²</h3>
<h4 data-id="heading-4">1. ğŸ›ï¸ ä¼ ç»Ÿå¼€å‘è¿ç»´åˆ†ç¦»ï¼š"ä¸¤ä¸ªä¸–ç•Œçš„æˆ˜äº‰"</h4>
<p>åœ¨è¿‡å»ï¼Œå¼€å‘å’Œè¿ç»´æ˜¯<strong>å®Œå…¨åˆ†ç¦»çš„ä¸¤ä¸ªéƒ¨é—¨</strong>ï¼Œå°±åƒ"ä¸¤ä¸ªäº’ä¸å¾€æ¥çš„é‚»å±…"ï¼š</p>
<ul>
<li><strong>å¼€å‘å›¢é˜Ÿ</strong>ï¼šåªè´Ÿè´£å†™ä»£ç ï¼Œä¸ç®¡éƒ¨ç½²å’Œç»´æŠ¤</li>
<li><strong>è¿ç»´å›¢é˜Ÿ</strong>ï¼šåªè´Ÿè´£éƒ¨ç½²å’Œç»´æŠ¤ï¼Œä¸ç®¡ä»£ç æ€ä¹ˆå†™</li>
<li><strong>æ²Ÿé€šæ–¹å¼</strong>ï¼šé é‚®ä»¶å’Œæ–‡æ¡£ï¼Œç»å¸¸"é¸¡åŒé¸­è®²"</li>
<li><strong>é—®é¢˜å¤„ç†</strong>ï¼šä¸Šçº¿å‡ºé—®é¢˜ï¼Œäº’ç›¸ç”©é”…ï¼Œ"å¼€å‘è¯´è¿ç»´é…ç½®æœ‰é—®é¢˜ï¼Œè¿ç»´è¯´å¼€å‘ä»£ç æœ‰bug"</li>
</ul>
<p><strong>ç»“æœ</strong>ï¼š</p>
<ul>
<li>ğŸŒ ä¸Šçº¿å‘¨æœŸé•¿ï¼ˆå‡ ä¸ªæœˆç”šè‡³åŠå¹´ï¼‰</li>
<li>ğŸ”¥ ä¸Šçº¿é£é™©å¤§ï¼ˆç»å¸¸å´©æºƒï¼‰</li>
<li>ğŸ’£ æ•…éšœæ¢å¤æ…¢ï¼ˆå‡ å°æ—¶ç”šè‡³å‡ å¤©ï¼‰</li>
<li>ğŸ˜  å›¢é˜Ÿå…³ç³»ç´§å¼ ï¼ˆäº’ç›¸æŠ±æ€¨ï¼‰</li>
</ul>
<h4 data-id="heading-5">2. ğŸ¤ DevOpsæ¦‚å¿µæå‡ºï¼š"æˆ‘ä»¬å’Œå¥½å§ï¼"</h4>
<p>2009å¹´ï¼ŒDevOpsæ¦‚å¿µæ­£å¼æå‡ºï¼Œå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>å¼€å‘å’Œè¿ç»´åº”è¯¥ç´§å¯†åä½œï¼Œå…±åŒå¯¹è½¯ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸè´Ÿè´£</strong>ï¼</p>
<p>å°±åƒ"å¤«å¦»åˆä¼™å¼€é¤å…"ï¼š</p>
<ul>
<li>å¼€å‘æ˜¯"å¨å¸ˆ"ï¼Œè´Ÿè´£åšå‡ºç¾å‘³çš„"èœå“"ï¼ˆä»£ç ï¼‰</li>
<li>è¿ç»´æ˜¯"æœåŠ¡å‘˜"ï¼Œè´Ÿè´£æŠŠ"èœå“"ç«¯ç»™"é¡¾å®¢"ï¼ˆç”¨æˆ·ï¼‰</li>
<li>ä¸¤è€…éœ€è¦å¯†åˆ‡é…åˆï¼Œæ‰èƒ½è®©"é¡¾å®¢"æ»¡æ„</li>
</ul>
<h4 data-id="heading-6">3. âš¡ CI/CDå…´èµ·ï¼š"è‡ªåŠ¨åŒ–æµæ°´çº¿"</h4>
<p>CI/CDæ˜¯DevOpsçš„<strong>æ ¸å¿ƒå®è·µ</strong>ï¼Œå®ƒå°±åƒä¸€æ¡"è‡ªåŠ¨åŒ–æµæ°´çº¿"ï¼š</p>
<ul>
<li><strong>CIï¼ˆæŒç»­é›†æˆï¼‰</strong>ï¼šä»£ç æäº¤åï¼Œè‡ªåŠ¨è¿è¡Œæµ‹è¯•å’Œæ„å»º</li>
<li><strong>CDï¼ˆæŒç»­äº¤ä»˜/éƒ¨ç½²ï¼‰</strong>ï¼šæ„å»ºæˆåŠŸåï¼Œè‡ªåŠ¨éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒæˆ–ç”Ÿäº§ç¯å¢ƒ</li>
</ul>
<p><strong>æ•ˆæœ</strong>ï¼š</p>
<ul>
<li>ä»£ç ä¸€æäº¤ï¼Œå°±èƒ½çŸ¥é“æœ‰æ²¡æœ‰bug</li>
<li>éƒ¨ç½²è¿‡ç¨‹å®Œå…¨è‡ªåŠ¨åŒ–ï¼Œä¸ç”¨æ‰‹åŠ¨æ“ä½œ</li>
<li>ä¸Šçº¿å‘¨æœŸä»"æœˆçº§"ç¼©çŸ­åˆ°"å¤©çº§"ç”šè‡³"å°æ—¶çº§"</li>
</ul>
<h4 data-id="heading-7">4. ğŸ›¡ï¸ DevSecOpsï¼š"å®‰å…¨ä¹Ÿè¦è‡ªåŠ¨åŒ–"</h4>
<p>éšç€ç½‘ç»œå®‰å…¨é—®é¢˜è¶Šæ¥è¶Šä¸¥é‡ï¼Œ<strong>å®‰å…¨</strong>ä¹Ÿè¢«èå…¥äº†DevOpsæµç¨‹ï¼Œå½¢æˆäº†"DevSecOps"ï¼š</p>
<ul>
<li>æŠŠå®‰å…¨æ£€æŸ¥èå…¥CI/CDæµæ°´çº¿</li>
<li>å¼€å‘äººå‘˜ä¹Ÿè¦å­¦ä¹ å®‰å…¨çŸ¥è¯†</li>
<li>è‡ªåŠ¨åŒ–å®‰å…¨æ‰«æï¼ŒåŠæ—¶å‘ç°æ¼æ´</li>
</ul>
<h3 data-id="heading-8">ğŸ”§ æŠ€æœ¯åŸç†ï¼šDevOpsçš„"å››å¤§ç¥å™¨"</h3>
<h4 data-id="heading-9">1. ğŸ”„ æŒç»­é›†æˆï¼ˆCIï¼‰ï¼š"ä»£ç æäº¤å°±æµ‹è¯•"</h4>
<p><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šå¼€å‘äººå‘˜æ¯æ¬¡æäº¤ä»£ç ï¼Œéƒ½ä¼šè‡ªåŠ¨è§¦å‘æ„å»ºå’Œæµ‹è¯•æµç¨‹ï¼Œç¡®ä¿ä»£ç è´¨é‡ã€‚</p>
<p><strong>CIçš„å·¥ä½œæµç¨‹</strong>ï¼š</p>
<ol>
<li>å¼€å‘äººå‘˜æäº¤ä»£ç åˆ°Gitä»“åº“</li>
<li>CIå·¥å…·ï¼ˆå¦‚Jenkinsã€GitHub Actionsï¼‰è‡ªåŠ¨æ£€æµ‹åˆ°ä»£ç å˜æ›´</li>
<li>è‡ªåŠ¨å®‰è£…ä¾èµ–ã€æ„å»ºé¡¹ç›®</li>
<li>è‡ªåŠ¨è¿è¡Œå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•</li>
<li>ç”Ÿæˆæµ‹è¯•æŠ¥å‘Šï¼Œé€šçŸ¥å¼€å‘äººå‘˜</li>
</ol>
<p><strong>ä»£ç å®ä¾‹</strong>ï¼šGitHub Actions CIé…ç½®</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">CI</span> <span class="hljs-string">Pipeline</span>

<span class="hljs-attr">on:</span>
  <span class="hljs-attr">push:</span>
    <span class="hljs-attr">branches:</span> [ <span class="hljs-string">main</span>, <span class="hljs-string">develop</span> ]
  <span class="hljs-attr">pull_request:</span>
    <span class="hljs-attr">branches:</span> [ <span class="hljs-string">main</span> ]

<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">build-and-test:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    <span class="hljs-attr">steps:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v3</span>
  
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Set</span> <span class="hljs-string">up</span> <span class="hljs-string">Python</span>
      <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-python@v4</span>
      <span class="hljs-attr">with:</span>
        <span class="hljs-attr">python-version:</span> <span class="hljs-string">'3.10'</span>
  
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">dependencies</span>
      <span class="hljs-attr">run:</span> <span class="hljs-string">|
        python -m pip install --upgrade pip
        pip install -r requirements.txt
</span>  
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Lint</span> <span class="hljs-string">code</span>
      <span class="hljs-attr">run:</span> <span class="hljs-string">|
        pip install flake8
        flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics
        flake8 . --count --exit-zero --max-complexity=10 --max-line-length=127 --statistics
</span>  
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Run</span> <span class="hljs-string">tests</span>
      <span class="hljs-attr">run:</span> <span class="hljs-string">|
        pip install pytest
        pytest tests/ --verbose
</span>  
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">project</span>
      <span class="hljs-attr">run:</span> <span class="hljs-string">|
        python setup.py build
</span></code></pre>
<h4 data-id="heading-10">2. ğŸš€ æŒç»­äº¤ä»˜/éƒ¨ç½²ï¼ˆCDï¼‰ï¼š"éšæ—¶å¯ä»¥ä¸Šçº¿"</h4>
<p><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šæ„å»ºæˆåŠŸçš„ä»£ç ï¼Œå¯ä»¥è‡ªåŠ¨éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒæˆ–ç”Ÿäº§ç¯å¢ƒï¼Œéšæ—¶å‡†å¤‡ä¸Šçº¿ã€‚</p>
<p><strong>CDçš„ä¸¤ç§æ¨¡å¼</strong>ï¼š</p>
<ul>
<li><strong>æŒç»­äº¤ä»˜</strong>ï¼šè‡ªåŠ¨éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒï¼Œç”Ÿäº§ç¯å¢ƒéœ€è¦æ‰‹åŠ¨è§¦å‘</li>
<li><strong>æŒç»­éƒ¨ç½²</strong>ï¼šè‡ªåŠ¨éƒ¨ç½²åˆ°æ‰€æœ‰ç¯å¢ƒï¼ŒåŒ…æ‹¬ç”Ÿäº§ç¯å¢ƒ</li>
</ul>
<p><strong>CDçš„ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>ğŸ”§ éƒ¨ç½²è¿‡ç¨‹å®Œå…¨è‡ªåŠ¨åŒ–ï¼Œå‡å°‘äººä¸ºé”™è¯¯</li>
<li>âš¡ ä¸Šçº¿é€Ÿåº¦å¿«ï¼Œå“åº”å¸‚åœºéœ€æ±‚åŠæ—¶</li>
<li>ğŸ“Š éƒ¨ç½²è¿‡ç¨‹å¯è¿½è¸ªï¼Œä¾¿äºé—®é¢˜å®šä½</li>
</ul>
<h4 data-id="heading-11">3. ğŸ“¦ åŸºç¡€è®¾æ–½å³ä»£ç ï¼ˆIaCï¼‰ï¼š"æŠŠæœåŠ¡å™¨å½“ä»£ç å†™"</h4>
<p><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šç”¨ä»£ç æ¥å®šä¹‰å’Œç®¡ç†åŸºç¡€è®¾æ–½ï¼Œå°±åƒå†™è½¯ä»¶ä»£ç ä¸€æ ·ã€‚</p>
<p><strong>IaCçš„å¥½å¤„</strong>ï¼š</p>
<ul>
<li>ğŸ”„ åŸºç¡€è®¾æ–½å¯ä»¥ç‰ˆæœ¬æ§åˆ¶ï¼Œä¾¿äºå›æ»š</li>
<li>ğŸš€ å¿«é€Ÿåˆ›å»ºå’Œé”€æ¯ç¯å¢ƒï¼ˆå‡ åˆ†é’Ÿæå®šï¼‰</li>
<li>âœ… ç¯å¢ƒä¸€è‡´æ€§ï¼ˆå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒå®Œå…¨ä¸€æ ·ï¼‰</li>
<li>ğŸ’° é™ä½æˆæœ¬ï¼ˆæŒ‰éœ€åˆ›å»ºèµ„æºï¼Œä¸ç”¨ä¸€ç›´å¼€ç€æœåŠ¡å™¨ï¼‰</li>
</ul>
<p><strong>ä»£ç å®ä¾‹</strong>ï¼šAnsible IaCé…ç½®ï¼ˆéƒ¨ç½²WebæœåŠ¡å™¨ï¼‰</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">Web</span> <span class="hljs-string">Server</span>
  <span class="hljs-attr">hosts:</span> <span class="hljs-string">web_servers</span>
  <span class="hljs-attr">become:</span> <span class="hljs-literal">yes</span>
  <span class="hljs-attr">tasks:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">Nginx</span>
      <span class="hljs-attr">apt:</span> 
        <span class="hljs-attr">name:</span> <span class="hljs-string">nginx</span> 
        <span class="hljs-attr">state:</span> <span class="hljs-string">latest</span>
        <span class="hljs-attr">update_cache:</span> <span class="hljs-literal">yes</span>
  
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Copy</span> <span class="hljs-string">Nginx</span> <span class="hljs-string">config</span> <span class="hljs-string">file</span>
      <span class="hljs-attr">copy:</span> 
        <span class="hljs-attr">src:</span> <span class="hljs-string">./nginx.conf</span> 
        <span class="hljs-attr">dest:</span> <span class="hljs-string">/etc/nginx/nginx.conf</span>
      <span class="hljs-attr">notify:</span> <span class="hljs-string">Restart</span> <span class="hljs-string">Nginx</span>
  
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Copy</span> <span class="hljs-string">website</span> <span class="hljs-string">files</span>
      <span class="hljs-attr">copy:</span> 
        <span class="hljs-attr">src:</span> <span class="hljs-string">./website/</span> 
        <span class="hljs-attr">dest:</span> <span class="hljs-string">/var/www/html/</span>
      <span class="hljs-attr">notify:</span> <span class="hljs-string">Restart</span> <span class="hljs-string">Nginx</span>
  
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Start</span> <span class="hljs-string">Nginx</span> <span class="hljs-string">service</span>
      <span class="hljs-attr">service:</span> 
        <span class="hljs-attr">name:</span> <span class="hljs-string">nginx</span> 
        <span class="hljs-attr">state:</span> <span class="hljs-string">started</span> 
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">yes</span>
  
  <span class="hljs-attr">handlers:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Restart</span> <span class="hljs-string">Nginx</span>
      <span class="hljs-attr">service:</span> 
        <span class="hljs-attr">name:</span> <span class="hljs-string">nginx</span> 
        <span class="hljs-attr">state:</span> <span class="hljs-string">restarted</span>
</code></pre>
<h4 data-id="heading-12">4. ğŸ“Š ç›‘æ§å’Œæ—¥å¿—ï¼š"ç³»ç»Ÿçš„å¥åº·ä½“æ£€"</h4>
<p><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šå®æ—¶ç›‘æ§ç³»ç»Ÿçš„è¿è¡ŒçŠ¶æ€ï¼Œæ”¶é›†å’Œåˆ†ææ—¥å¿—ï¼ŒåŠæ—¶å‘ç°å’Œè§£å†³é—®é¢˜ã€‚</p>
<p><strong>ç›‘æ§çš„æ ¸å¿ƒæŒ‡æ ‡</strong>ï¼š</p>
<ul>
<li>ğŸš¦ <strong>å¯ç”¨æ€§</strong>ï¼šç³»ç»Ÿæ˜¯å¦æ­£å¸¸è¿è¡Œ</li>
<li>âš¡ <strong>æ€§èƒ½</strong>ï¼šå“åº”æ—¶é—´ã€ååé‡</li>
<li>ğŸ“ˆ <strong>èµ„æºåˆ©ç”¨ç‡</strong>ï¼šCPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œ</li>
<li>ğŸ› <strong>é”™è¯¯ç‡</strong>ï¼šè¯·æ±‚å¤±è´¥ç‡ã€å¼‚å¸¸æ•°é‡</li>
</ul>
<p><strong>æ—¥å¿—ç®¡ç†çš„ä½œç”¨</strong>ï¼š</p>
<ul>
<li>ğŸ•µï¸ é—®é¢˜å®šä½ï¼šé€šè¿‡æ—¥å¿—æ‰¾åˆ°é”™è¯¯åŸå› </li>
<li>ğŸ“Š æ•°æ®åˆ†æï¼šåˆ†æç”¨æˆ·è¡Œä¸ºã€ç³»ç»Ÿæ€§èƒ½</li>
<li>ğŸš¨ å¼‚å¸¸å‘Šè­¦ï¼šå‘ç°å¼‚å¸¸æƒ…å†µåŠæ—¶é€šçŸ¥</li>
</ul>
<h3 data-id="heading-13">ğŸ“Š è¶£å‘³å¯¹æ¯”ï¼šä¼ ç»Ÿå¼€å‘æ¨¡å¼ vs DevOps æ¨¡å¼</h3>


















































<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>ä¼ ç»Ÿå¼€å‘æ¨¡å¼</th><th>DevOps æ¨¡å¼</th></tr></thead><tbody><tr><td><strong>å›¢é˜Ÿå…³ç³»</strong></td><td>å¼€å‘å’Œè¿ç»´å¯¹ç«‹ï¼Œäº’ç›¸ç”©é”…</td><td>å¼€å‘å’Œè¿ç»´åä½œï¼Œå…±åŒè´Ÿè´£</td></tr><tr><td><strong>ä¸Šçº¿å‘¨æœŸ</strong></td><td>å‡ ä¸ªæœˆç”šè‡³åŠå¹´</td><td>å‡ å¤©ã€å‡ å°æ—¶ç”šè‡³å‡ åˆ†é’Ÿ</td></tr><tr><td><strong>éƒ¨ç½²æ–¹å¼</strong></td><td>æ‰‹åŠ¨éƒ¨ç½²ï¼Œå®¹æ˜“å‡ºé”™</td><td>è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œå¯é ç¨³å®š</td></tr><tr><td><strong>ç¯å¢ƒä¸€è‡´æ€§</strong></td><td>å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒä¸ä¸€è‡´</td><td>ç¯å¢ƒå®Œå…¨ä¸€è‡´ï¼ˆIaCï¼‰</td></tr><tr><td><strong>æ•…éšœæ¢å¤æ—¶é—´</strong></td><td>å‡ å°æ—¶ç”šè‡³å‡ å¤©</td><td>å‡ åˆ†é’Ÿç”šè‡³å‡ ç§’é’Ÿ</td></tr><tr><td><strong>ä¸Šçº¿é£é™©</strong></td><td>é£é™©å¤§ï¼Œç»å¸¸å´©æºƒ</td><td>é£é™©å°ï¼Œé€æ­¥å‘å¸ƒ</td></tr><tr><td><strong>åé¦ˆé€Ÿåº¦</strong></td><td>æ…¢ï¼Œç”¨æˆ·åé¦ˆéœ€è¦å¾ˆä¹…æ‰èƒ½å“åº”</td><td>å¿«ï¼Œç”¨æˆ·åé¦ˆå¯ä»¥å¿«é€Ÿè¿­ä»£</td></tr><tr><td><strong>å›¢é˜Ÿå£«æ°”</strong></td><td>ä½ï¼Œç»å¸¸åŠ ç­ï¼ŒæŠ±æ€¨å¤š</td><td>é«˜ï¼Œå·¥ä½œæ•ˆç‡é«˜ï¼Œæˆå°±æ„Ÿå¼º</td></tr></tbody></table>
<h3 data-id="heading-14">ğŸ¢ DevOpsçš„åº”ç”¨åœºæ™¯ï¼šå“ªé‡Œé€‚åˆç”¨DevOpsï¼Ÿ</h3>








































<table><thead><tr><th>åº”ç”¨åœºæ™¯</th><th>ä¸¾ä¾‹</th><th>ä¸ºä»€ä¹ˆé€‚åˆDevOpsï¼Ÿ</th></tr></thead><tbody><tr><td>ğŸ›’ ç”µå•†å¹³å°</td><td>æ·˜å®ã€äº¬ä¸œ</td><td>ä¸šåŠ¡å˜åŒ–å¿«ï¼Œéœ€è¦å¿«é€Ÿä¸Šçº¿æ–°åŠŸèƒ½</td></tr><tr><td>ğŸ“± ç§»åŠ¨åº”ç”¨</td><td>å¾®ä¿¡ã€æŠ–éŸ³</td><td>ç”¨æˆ·é‡å¤§ï¼Œç³»ç»Ÿå¤æ‚ï¼Œéœ€è¦é«˜å¯ç”¨æ€§</td></tr><tr><td>â˜ï¸ äº‘æœåŠ¡</td><td>AWSã€é˜¿é‡Œäº‘</td><td>åŸºç¡€è®¾æ–½è§„æ¨¡å¤§ï¼Œéœ€è¦è‡ªåŠ¨åŒ–ç®¡ç†</td></tr><tr><td>ğŸš€ äº’è”ç½‘åˆ›ä¸šå…¬å¸</td><td>å„ç§åˆ›ä¸šé¡¹ç›®</td><td>å›¢é˜Ÿå°ï¼Œéœ€è¦å¿«é€Ÿè¯•é”™ï¼Œè¿­ä»£å¿«</td></tr><tr><td>ğŸ¦ é‡‘èç§‘æŠ€</td><td>æ”¯ä»˜å®ã€å¾®ä¿¡æ”¯ä»˜</td><td>å®‰å…¨è¦æ±‚é«˜ï¼Œéœ€è¦è‡ªåŠ¨åŒ–å®‰å…¨æ£€æŸ¥</td></tr><tr><td>ğŸ¥ åŒ»ç–—å¥åº·</td><td>åœ¨çº¿é—®è¯Šå¹³å°</td><td>ç³»ç»Ÿå¯é æ€§è¦æ±‚é«˜ï¼Œéœ€è¦å¿«é€Ÿæ•…éšœæ¢å¤</td></tr></tbody></table>
<h3 data-id="heading-15">ğŸ“ˆ æ•°æ®æ”¯æ’‘ï¼šDevOpsçš„"ç¡¬æ ¸å®åŠ›"</h3>
<p>æ ¹æ®æƒå¨æœºæ„çš„è°ƒç ”æ•°æ®ï¼š</p>
<ul>
<li>ğŸš€ <strong>éƒ¨ç½²é¢‘ç‡æé«˜200å€</strong>ï¼šä»æ¯å¹´å‡ æ¬¡åˆ°æ¯å¤©ç”šè‡³æ¯å°æ—¶å‡ æ¬¡</li>
<li>â±ï¸ <strong>æ•…éšœæ¢å¤æ—¶é—´ç¼©çŸ­24å€</strong>ï¼šä»å‡ å°æ—¶åˆ°å‡ åˆ†é’Ÿ</li>
<li>âœ… <strong>å˜æ›´å¤±è´¥ç‡é™ä½70%</strong>ï¼šä¸Šçº¿é£é™©å¤§å¹…é™ä½</li>
<li>ğŸ˜€ <strong>å›¢é˜Ÿæ»¡æ„åº¦æé«˜60%</strong>ï¼šå‡å°‘åŠ ç­ï¼Œæé«˜å·¥ä½œæ•ˆç‡</li>
<li>ğŸ’° <strong>ITæˆæœ¬é™ä½30%</strong>ï¼šè‡ªåŠ¨åŒ–å‡å°‘äººå·¥æˆæœ¬ï¼Œèµ„æºåˆ©ç”¨ç‡æé«˜</li>
</ul>
<h3 data-id="heading-16">âš ï¸ å¸¸è§è¯¯åŒºçº æ­£ï¼šDevOpsä¸æ˜¯"é“¶å¼¹"ï¼</h3>
<h4 data-id="heading-17">1. "DevOpså°±æ˜¯ä¹°ä¸€å †å·¥å…·ï¼Ÿ"</h4>
<p><strong>é”™ï¼</strong> DevOpsçš„æ ¸å¿ƒæ˜¯<strong>æ–‡åŒ–å’Œæµç¨‹</strong>ï¼Œå·¥å…·åªæ˜¯è¾…åŠ©ã€‚</p>
<p><strong>æ­£ç¡®åšæ³•</strong>ï¼šå…ˆå»ºç«‹åä½œæ–‡åŒ–ï¼Œå†é€‰æ‹©åˆé€‚çš„å·¥å…·ã€‚</p>
<h4 data-id="heading-18">2. "DevOpså°±æ˜¯è®©å¼€å‘åšè¿ç»´çš„å·¥ä½œï¼Ÿ"</h4>
<p><strong>é”™ï¼</strong> DevOpsæ˜¯<strong>åä½œ</strong>ï¼Œä¸æ˜¯"å¼€å‘æ›¿ä»£è¿ç»´"ã€‚</p>
<p><strong>æ­£ç¡®åšæ³•</strong>ï¼šå¼€å‘å’Œè¿ç»´å„å¸å…¶èŒï¼Œå¯†åˆ‡é…åˆï¼Œå…±åŒå¯¹è½¯ä»¶è´Ÿè´£ã€‚</p>
<h4 data-id="heading-19">3. "å°å…¬å¸ä¸éœ€è¦DevOpsï¼Ÿ"</h4>
<p><strong>é”™ï¼</strong> å°å…¬å¸æ›´éœ€è¦DevOpsï¼Œå› ä¸ºï¼š</p>
<ul>
<li>å›¢é˜Ÿäººæ•°å°‘ï¼Œæ²Ÿé€šæˆæœ¬ä½ï¼Œæ›´å®¹æ˜“æ¨è¡Œåä½œæ–‡åŒ–</li>
<li>èµ„æºæœ‰é™ï¼Œéœ€è¦æé«˜æ•ˆç‡ï¼Œå‡å°‘æµªè´¹</li>
<li>å¸‚åœºç«äº‰æ¿€çƒˆï¼Œéœ€è¦å¿«é€Ÿè¿­ä»£ï¼Œå“åº”å¸‚åœºéœ€æ±‚</li>
</ul>
<h4 data-id="heading-20">4. "DevOpsé€‚åˆæ‰€æœ‰é¡¹ç›®ï¼Ÿ"</h4>
<p><strong>ä¸ä¸€å®šï¼</strong> DevOpsæ›´é€‚åˆ<strong>é¢‘ç¹å˜æ›´</strong>çš„é¡¹ç›®ï¼Œæ¯”å¦‚äº’è”ç½‘åº”ç”¨ã€‚</p>
<p><strong>ä¸é€‚åˆçš„åœºæ™¯</strong>ï¼š</p>
<ul>
<li>ç¡¬ä»¶ç›¸å…³çš„é¡¹ç›®ï¼ˆæ¯”å¦‚èŠ¯ç‰‡è®¾è®¡ï¼‰</li>
<li>ä¸¥æ ¼è¦æ±‚åˆè§„çš„é¡¹ç›®ï¼ˆæ¯”å¦‚èˆªç©ºèˆªå¤©è½¯ä»¶ï¼‰</li>
<li>å¾ˆå°‘å˜æ›´çš„é¡¹ç›®ï¼ˆæ¯”å¦‚ legacy ç³»ç»Ÿï¼‰</li>
</ul>
<h3 data-id="heading-21">ğŸ”® æœªæ¥å±•æœ›ï¼šDevOpsçš„å‘å±•è¶‹åŠ¿</h3>
<h4 data-id="heading-22">1. ğŸ¤– AIé©±åŠ¨çš„DevOps</h4>
<p>AIå°†èå…¥DevOpsçš„å„ä¸ªç¯èŠ‚ï¼š</p>
<ul>
<li>æ™ºèƒ½ä»£ç å®¡æŸ¥ï¼ˆè‡ªåŠ¨å‘ç°bugå’Œå®‰å…¨æ¼æ´ï¼‰</li>
<li>æ™ºèƒ½ç›‘æ§å’Œå‘Šè­¦ï¼ˆé¢„æµ‹ç³»ç»Ÿæ•…éšœï¼‰</li>
<li>æ™ºèƒ½èµ„æºè°ƒåº¦ï¼ˆæ ¹æ®è´Ÿè½½è‡ªåŠ¨è°ƒæ•´èµ„æºï¼‰</li>
<li>æ™ºèƒ½æ•…éšœæ¢å¤ï¼ˆè‡ªåŠ¨ä¿®å¤å¸¸è§é—®é¢˜ï¼‰</li>
</ul>
<h4 data-id="heading-23">2. â˜ï¸ äº‘åŸç”ŸDevOps</h4>
<p>éšç€äº‘è®¡ç®—çš„æ™®åŠï¼ŒDevOpså°†ä¸<strong>äº‘åŸç”ŸæŠ€æœ¯</strong>æ·±åº¦èåˆï¼š</p>
<ul>
<li>Kubernetesæˆä¸ºå®¹å™¨ç¼–æ’çš„æ ‡å‡†</li>
<li>Serverlessæ¶æ„å‡å°‘è¿ç»´å·¥ä½œé‡</li>
<li>äº‘æœåŠ¡æä¾›å•†æä¾›æ›´å¤šDevOpså·¥å…·</li>
</ul>
<h4 data-id="heading-24">3. ğŸ”’ å®‰å…¨è‡ªåŠ¨åŒ–æ›´æ·±å…¥</h4>
<p>DevSecOpså°†æˆä¸ºæ ‡é…ï¼š</p>
<ul>
<li>å®‰å…¨æ£€æŸ¥èå…¥CI/CDæµæ°´çº¿çš„æ¯ä¸ªç¯èŠ‚</li>
<li>è‡ªåŠ¨åŒ–å®‰å…¨æµ‹è¯•è¦†ç›–ä»£ç ã€ä¾èµ–ã€å®¹å™¨ã€åŸºç¡€è®¾æ–½</li>
<li>å®‰å…¨å·¦ç§»åˆ°å¼€å‘çš„æœ€æ—©é˜¶æ®µï¼ˆéœ€æ±‚åˆ†æé˜¶æ®µï¼‰</li>
</ul>
<h4 data-id="heading-25">4. ğŸ“± ä½ä»£ç /æ— ä»£ç DevOps</h4>
<p>ä½ä»£ç /æ— ä»£ç å¹³å°å°†è®©éæŠ€æœ¯äººå‘˜ä¹Ÿèƒ½å‚ä¸DevOpsï¼š</p>
<ul>
<li>å¯è§†åŒ–çš„CI/CDé…ç½®</li>
<li>æ‹–æ‹½å¼çš„åŸºç¡€è®¾æ–½é…ç½®</li>
<li>è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹</li>
</ul>
<h3 data-id="heading-26">ğŸ“ äº’åŠ¨å°æµ‹éªŒï¼šä½ ç­”å¯¹äº†å—ï¼Ÿ</h3>



































<table><thead><tr><th>é—®é¢˜</th><th>ç­”æ¡ˆ</th><th>ä½ ç­”å¯¹äº†å—ï¼Ÿ</th></tr></thead><tbody><tr><td>DevOpsçš„æ ¸å¿ƒæ˜¯ä»€ä¹ˆï¼Ÿ</td><td>å¼€å‘å’Œè¿ç»´çš„ç´§å¯†åä½œ</td><td>âœ…/âŒ</td></tr><tr><td>CIçš„å…¨ç§°æ˜¯ä»€ä¹ˆï¼Ÿ</td><td>æŒç»­é›†æˆï¼ˆContinuous Integrationï¼‰</td><td>âœ…/âŒ</td></tr><tr><td>CDçš„å…¨ç§°æ˜¯ä»€ä¹ˆï¼Ÿ</td><td>æŒç»­äº¤ä»˜/éƒ¨ç½²ï¼ˆContinuous Delivery/Deploymentï¼‰</td><td>âœ…/âŒ</td></tr><tr><td>IaCçš„å…¨ç§°æ˜¯ä»€ä¹ˆï¼Ÿ</td><td>åŸºç¡€è®¾æ–½å³ä»£ç ï¼ˆInfrastructure as Codeï¼‰</td><td>âœ…/âŒ</td></tr><tr><td>DevOpsçš„ä¸‰å¤§æ ¸å¿ƒå®è·µæ˜¯ä»€ä¹ˆï¼Ÿ</td><td>CI/CDã€IaCã€ç›‘æ§å’Œæ—¥å¿—</td><td>âœ…/âŒ</td></tr></tbody></table>
<h3 data-id="heading-27">ğŸ¯ ç»“è¯­ï¼šDevOpsä¸æ˜¯"å·¥å…·"ï¼Œè€Œæ˜¯"æ€ç»´æ–¹å¼"</h3>
<p>DevOpsä¸æ˜¯"ä¸€å †å·¥å…·çš„é›†åˆ"ï¼Œè€Œæ˜¯ä¸€ç§<strong>å…¨æ–°çš„æ€ç»´æ–¹å¼</strong>ï¼š</p>
<ul>
<li>ğŸ”„ <strong>ä»"å¯¹ç«‹"åˆ°"åä½œ"</strong>ï¼šå¼€å‘å’Œè¿ç»´ä¸å†æ˜¯æ•Œäººï¼Œè€Œæ˜¯ä¼™ä¼´</li>
<li>ğŸš€ <strong>ä»"æ‰‹åŠ¨"åˆ°"è‡ªåŠ¨åŒ–"</strong>ï¼šç”¨å·¥å…·æ›¿ä»£é‡å¤åŠ³åŠ¨ï¼Œæé«˜æ•ˆç‡</li>
<li>âš¡ <strong>ä»"å¤§çˆ†ç‚¸"åˆ°"å°æ­¥å¿«è·‘"</strong>ï¼šé¢‘ç¹å°æ›´æ–°ï¼Œå‡å°‘é£é™©</li>
<li>ğŸ“Š <strong>ä»"ç»éªŒé©±åŠ¨"åˆ°"æ•°æ®é©±åŠ¨"</strong>ï¼šç”¨æ•°æ®æŒ‡å¯¼å†³ç­–ï¼ŒæŒç»­æ”¹è¿›</li>
</ul>
<p><strong>è®°ä½</strong>ï¼šDevOpsçš„ç›®æ ‡ä¸æ˜¯"æ›´å¿«çš„ä¸Šçº¿"ï¼Œè€Œæ˜¯"æ›´å¯é çš„ä¸Šçº¿"ï¼</p>
<h3 data-id="heading-28">ğŸ’¬ äº’åŠ¨è¯é¢˜</h3>
<ol>
<li>ä½ æ‰€åœ¨çš„å…¬å¸ä½¿ç”¨DevOpså—ï¼Ÿä½“éªŒå¦‚ä½•ï¼Ÿ</li>
<li>ä½ è®¤ä¸ºDevOpsæœ€å¤§çš„æŒ‘æˆ˜æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>å¦‚æœä½ æ˜¯è€æ¿ï¼Œä½ ä¼šå¦‚ä½•æ¨è¡ŒDevOpsï¼Ÿ</li>
</ol>
<p>å¿«æ¥è¯„è®ºåŒºèŠèŠä½ çš„æƒ³æ³•ï¼ğŸ’¬ ç‚¹èµæ”¶è—ä¸è¿·è·¯ï¼Œå’±ä»¬ä¸‹æœŸç»§ç»­æ¢ç´¢è®¡ç®—æœºçš„"åä¸‡ä¸ªä¸ºä»€ä¹ˆ"ï¼ğŸ‰</p>
<p><strong>å…³æ³¨æˆ‘</strong>ï¼Œä¸‹æœŸå¸¦ä½ è§£é”æ›´å¤šè®¡ç®—æœºçš„"å¥‡è‘©å†·çŸ¥è¯†"ï¼ğŸ¤“</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘çš„AIé©¯æœè®°ï¼šä»7640pxå¤§å±çš„æƒ¨è´¥ï¼Œåˆ°æ€»ç»“å‡ºä¸€å¥—é«˜æ•ˆåä½œSOP]]></title>    <link>https://juejin.cn/post/7590776324165238784</link>    <guid>https://juejin.cn/post/7590776324165238784</guid>    <pubDate>2026-01-04T08:18:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590776324165238784" data-draft-id="7590752433989107766" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" æˆ‘çš„AIé©¯æœè®°ï¼šä»7640pxå¤§å±çš„æƒ¨è´¥ï¼Œåˆ°æ€»ç»“å‡ºä¸€å¥—é«˜æ•ˆåä½œSOP"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-04T08:18:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æš–é˜³_"/> <meta itemprop="url" content="https://juejin.cn/user/1662117312465406"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             æˆ‘çš„AIé©¯æœè®°ï¼šä»7640pxå¤§å±çš„æƒ¨è´¥ï¼Œåˆ°æ€»ç»“å‡ºä¸€å¥—é«˜æ•ˆåä½œSOP
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1662117312465406/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æš–é˜³_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T08:18:39.000Z" title="Sun Jan 04 2026 08:18:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    38
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æˆ‘çš„AIé©¯æœè®°ï¼šä»7640pxå¤§å±çš„æƒ¨è´¥ï¼Œåˆ°æ€»ç»“å‡ºä¸€å¥—é«˜æ•ˆåä½œSOP</h2>
<p>æˆ‘è¯•è¿‡ Claudeã€Gemini ç­‰ä¸»æµ AI æ¨¡å‹ï¼Œç›´æ¥æŠŠè®¾è®¡ç¨¿ä¸¢ç»™ AI ç”Ÿæˆä»£ç ï¼Œç»“æœå±¡å±¡å¤±è´¥ã€‚</p>
<p>æœ€ç»ˆæˆ‘å›åˆ°æ‰‹å†™ä»£ç ï¼šä»å¤–å‘å†…æ­å»ºå¸ƒå±€éª¨æ¶ï¼Œé€æ­¥å¡«å……ç»„ä»¶ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°å¯ä»¥å°†æ¯ä¸ªå°æ­¥éª¤è§„èŒƒåŒ–ï¼Œæœ€ç»ˆå½¢æˆä¸€å¥—å‰ç«¯æŒ‰è®¾è®¡ç¨¿è¿˜åŸé¡µé¢çš„ SOP æµç¨‹ã€‚</p>
<p><strong>æ‘˜è¦ï¼š</strong> â€‹ æœ¬æ–‡è®°å½•äº†æˆ‘å°è¯•ç”¨AIè¾…åŠ©å¼€å‘ä¸€ä¸ª7640Ã—1080åƒç´ å¤æ‚å¤§å±çš„å®Œæ•´è¿‡ç¨‹ã€‚ä»ä¸€å¼€å§‹ç›´æ¥ä¸¢æˆªå›¾çš„è¡€æœ¬æ— å½’ï¼Œåˆ°å‘ç°é—®é¢˜æ ¸å¿ƒåœ¨äºâ€œäººæœºè¯­è¨€ä¸é€šâ€ï¼Œæœ€ç»ˆé€šè¿‡æ€»ç»“ï¼Œå¤æµ‹å½¢æˆäº†å…­ä¸ªæ­¥éª¤ï¼Œä¸AIå»ºç«‹äº†é«˜æ•ˆåä½œæµç¨‹ã€‚è¿™æ˜¯ä¸€æ¬¡å…¸å‹çš„ä»å¤±è´¥ä¸­å­¦ä¹ ï¼Œå¹¶å°†ç»éªŒå›ºåŒ–ä¸ºå¯å¤ç”¨æ–¹æ³•çš„å®è·µï¼Œæœ€ç»ˆé™æ€é¡µé¢å¤§çº¦èŠ±è´¹4å¤©æ—¶é—´å®Œæˆï¼ŒåŒ…å«echartså›¾ã€‚</p>
<h5 data-id="heading-1"/>
<h3 data-id="heading-2">é‚£äº›å¹´ï¼Œæˆ‘è¢«å¤§å±æŠ˜ç£¨çš„æ—¥å­</h3>
<p>æœ€è¿‘åœ¨åšä¸€ä¸ªæ•°æ®å¤§å±é¡¹ç›®ï¼Œä¸‰åˆ—å¸ƒå±€ã€10+ ä¸ªç»„ä»¶ã€å„ç§å°ºå¯¸å’Œé—´è·ã€‚èµ·åˆç›´æ¥å†™ä»£ç ï¼Œç»“æœï¼š</p>
<ul>
<li>æƒ³ç€ç›´æ¥ä¸¢ç»™claudeæˆ–è€…geminiè¿›è¡Œè¿˜åŸï¼Œå‘ç°æ•ˆæœæ ¹æœ¬ä¸è¡Œ</li>
<li>å°ºå¯¸å¯¹ä¸ä¸Šè®¾è®¡ç¨¿</li>
<li>å›¾å½¢è¢«å„ç§ç®€åŒ–ï¼Œå†…å®¹è¢«å‹ç¼©æˆäº†1920*1080å°‘äº†å¾ˆå¤š</li>
<li>è°ƒè¯•æ—¶æ‰¾ä¸åˆ°åŒºå—è¾¹ç•Œ</li>
<li>æ”¹ä¸€ä¸ªåœ°æ–¹ï¼Œå…¶ä»–åœ°æ–¹è·Ÿç€è¢«æ”¹åŠ¨</li>
</ul>
<p>åæ¥æ€»ç»“äº†ä¸€å¥— SOPï¼ŒæŠŠé—®é¢˜æ‹†è§£æˆ 6 ä¸ªæ­¥éª¤ï¼Œæ•ˆç‡æå‡æ˜æ˜¾ã€‚ä»Šå¤©åˆ†äº«è¿™å¥—æ–¹æ³•ã€‚</p>
<h3 data-id="heading-3">æ ¸å¿ƒæ–¹æ³•è®ºï¼šå…­æ­¥å¼€å‘æ³•</h3>
<h4 data-id="heading-4">ç¬¬ä¸€æ­¥ï¼šåŸå‹åˆ†æï¼ˆåˆ«æ€¥ç€å†™ä»£ç ï¼‰</h4>
<p>å…ˆçœ‹è®¾è®¡æ–‡æ¡£ï¼Œç†æ¸…æ¨¡å—å°ºå¯¸ã€åŒºå—æ•°é‡ã€å¸ƒå±€æ–¹å¼ã€‚ç”¨ ASCII è‰å›¾æ ‡æ³¨ä½ç½®å…³ç³»ï¼Œæˆ–ç”¨çº¢è‰²æ¡†çº¿è®© AI ç†è§£ç»“æ„ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">+----------+----------+----------------------+
|  block-<span class="hljs-number">1</span> | block-<span class="hljs-number">3</span>  |  block-<span class="hljs-number">5</span>  | block-<span class="hljs-number">7</span>  |
+----------+          +----------------------+
|          |          |  block-<span class="hljs-number">6</span>  | block-<span class="hljs-number">8</span>  |
|  block-<span class="hljs-number">2</span> +----------+----------------------+
|          | block-<span class="hljs-number">4</span>  |       block-<span class="hljs-number">9</span>        |
+----------+----------+----------------------+
</code></pre>
<h4 data-id="heading-5">ç¬¬äºŒæ­¥ï¼šåŒºå—å ä½ä¸å°ºå¯¸æ ‡æ³¨</h4>
<p>åœ¨ <code>ModuleX.vue</code> ä¸­åˆ›å»ºåŒºå—å®¹å™¨ï¼Œè®¾ç½®ï¼š</p>
<ul>
<li>çº¯è‰²åŠé€æ˜èƒŒæ™¯ï¼ˆä¾¿äºåŒºåˆ†ï¼‰</li>
<li>è™šçº¿è¾¹æ¡†å ä½ï¼ˆ<code>border: 2px dashed</code>ï¼‰</li>
<li>å›ºå®šå®½é«˜ï¼ˆæŒ‰è®¾è®¡æ–‡æ¡£ï¼‰</li>
<li>ä½¿ç”¨ <code>gap</code> è®¾ç½®é—´è·</li>
<li>åœ¨ DOM ä¸­æ˜¾ç¤ºå°ºå¯¸æ ‡æ³¨ï¼ˆå¦‚ï¼š<code>åŒºå— - ç¬¬ä¸€åˆ— (880Ã—860)</code>ï¼‰</li>
<li>è®¾ç½® <code>box-sizing: border-box</code></li>
</ul>
<h4 data-id="heading-6">ç¬¬ä¸‰æ­¥ï¼šåµŒå¥—åŒºå—ä¸ç»„ä»¶æ‹†åˆ†</h4>
<p>ç»†åŒ–åŒºå—å†…éƒ¨ç»“æ„ï¼Œä¸ºæ¯ä¸ªç»„ä»¶è®¾ç½®ï¼š</p>
<ul>
<li>è™šçº¿å ä½æ¡†ï¼ˆ<code>border: 1px dashed</code>ï¼‰</li>
<li>å›ºå®šå®½é«˜</li>
<li>ä½¿ç”¨ <code>gap</code> è®¾ç½®é—´è·</li>
<li>å°ºå¯¸æ ‡æ³¨</li>
<li><code>box-sizing: border-box</code></li>
</ul>
<h4 data-id="heading-7">ç¬¬å››æ­¥ï¼šå¡«å……çœŸå®å†…å®¹</h4>
<p>æŒ‰åŒºå—ç»„ä»¶å¼€å‘ SOP åˆ›å»ºç»„ä»¶ï¼š</p>
<ol>
<li>åˆ›å»ºç›®å½•ï¼š<code>src/components/moduleX/block-X/component-X/</code></li>
<li>å¤åˆ¶é™æ€èµ„æºåˆ° <code>assets/</code></li>
<li>åˆ›å»º <code>index.vue</code>ï¼Œå®ç°å†…å®¹</li>
<li>åœ¨ <code>ModuleX.vue</code> ä¸­å¼•å…¥å¹¶ä½¿ç”¨</li>
</ol>
<h4 data-id="heading-8">ç¬¬äº”æ­¥ï¼šå»é™¤è°ƒè¯•æ ·å¼</h4>
<ul>
<li>å»æ‰çº¯è‰²è°ƒè¯•èƒŒæ™¯</li>
<li>å»æ‰è™šçº¿å ä½æ¡†</li>
<li>å»æ‰å°ºå¯¸æ ‡æ³¨æ–‡å­—</li>
<li>ç”¨çœŸå®å†…å®¹æ’‘èµ·é«˜åº¦ï¼ˆç§»é™¤å›ºå®šé«˜åº¦ï¼Œæ”¹ä¸º <code>auto</code>ï¼‰</li>
</ul>
<h3 data-id="heading-9">ä¸ªäººç†è§£ï¼šä¸ºä»€ä¹ˆè¿™å¥—æ–¹æ³•æœ‰æ•ˆ</h3>
<h4 data-id="heading-10">1. å…ˆå ä½å†å¡«å……ï¼Œé¿å…è¿”å·¥</h4>
<p>å…ˆæ­æ¡†æ¶ï¼Œå†å¡«å†…å®¹ï¼Œå‡å°‘åæœŸå¤§æ”¹ã€‚</p>
<h4 data-id="heading-11">2. å°ºå¯¸æ ‡æ³¨å¯è§†åŒ–ï¼Œå‡å°‘æ²Ÿé€šæˆæœ¬</h4>
<p>åœ¨é¡µé¢ä¸Šç›´æ¥æ˜¾ç¤ºå°ºå¯¸ï¼Œä¾¿äºå¯¹é½ä¸æ£€æŸ¥ã€‚</p>
<h4 data-id="heading-12">3. è°ƒè¯•æ ·å¼åˆ†å±‚ï¼Œé—®é¢˜å®šä½æ›´å¿«</h4>
<p>çº¯è‰²èƒŒæ™¯å’Œè™šçº¿è¾¹æ¡†èƒ½å¿«é€Ÿå®šä½è¾¹ç•Œå’Œé‡å ã€‚</p>
<h4 data-id="heading-13">4. ç»Ÿä¸€ä½¿ç”¨ gapï¼Œé¿å… margin é™·é˜±</h4>
<p>ç”¨ <code>gap</code> ç»Ÿä¸€é—´è·ï¼Œé¿å… <code>margin</code> å åŠ å¯¼è‡´çš„å¸ƒå±€é—®é¢˜ã€‚</p>
<h3 data-id="heading-14">å®æˆ˜å»ºè®®ï¼šä¸‰ä¸ªå…³é”®æŠ€å·§</h3>
<h4 data-id="heading-15">æŠ€å·§ä¸€ï¼šASCII è‰å›¾å…ˆè¡Œ</h4>
<p>åœ¨å†™ä»£ç å‰ï¼Œå…ˆç”¨ ASCII è‰å›¾ç¡®è®¤å¸ƒå±€ç†è§£ï¼Œé¿å…è¿”å·¥ã€‚</p>
<h4 data-id="heading-16">æŠ€å·§äºŒï¼šè°ƒè¯•æ ·å¼åˆ†å±‚ç®¡ç†</h4>
<ul>
<li>åŒºå—ï¼š<code>border: 2px dashed</code> + åŠé€æ˜èƒŒæ™¯</li>
<li>ç»„ä»¶ï¼š<code>border: 1px dashed</code> + åŠé€æ˜èƒŒæ™¯</li>
<li>å®Œæˆåç»Ÿä¸€æ¸…ç†</li>
</ul>
<h4 data-id="heading-17">æŠ€å·§ä¸‰ï¼šå°ºå¯¸æ ‡æ³¨æ ‡å‡†åŒ–</h4>
<p>æ ¼å¼ï¼š<code>å±‚çº§åç§° - æè¿° (å®½Ã—é«˜)</code></p>
<ul>
<li>åŒºå—ï¼š<code>åŒºå— - ç¬¬ä¸€åˆ— (880Ã—860)</code></li>
<li>ç»„ä»¶ï¼š<code>ç»„ä»¶1 - æŒ‰å¸‚åœºåŒºåŸŸåˆ†å¸ƒåŠå æ¯”æƒ…å†µ (880Ã—347)</code></li>
</ul>
<h3 data-id="heading-18">å†™åœ¨æœ€å</h3>
<p>è¿™å¥—æ–¹æ³•çš„æ ¸å¿ƒæ˜¯ï¼šå…ˆè§„åˆ’ã€å†å ä½ã€åå¡«å……ã€æœ€åä¼˜åŒ–ã€‚æŠŠå¤æ‚é—®é¢˜æ‹†è§£æˆå¯æ‰§è¡Œçš„æ­¥éª¤ï¼Œæ¯ä¸€æ­¥éƒ½æœ‰æ˜ç¡®çš„è¾“å‡ºå’ŒéªŒè¯æ ‡å‡†ã€‚</p>
<p>å¦‚æœä½ ä¹Ÿåœ¨åšå¤§å±å¼€å‘ï¼Œå»ºè®®ï¼š</p>
<ol>
<li>å…ˆç”» ASCII è‰å›¾ç¡®è®¤å¸ƒå±€</li>
<li>ç”¨è°ƒè¯•æ ·å¼å¯è§†åŒ–ç»“æ„</li>
<li>ç»Ÿä¸€ä½¿ç”¨ <code>gap</code> å’Œ <code>box-sizing: border-box</code></li>
<li>å®Œæˆåç»Ÿä¸€æ¸…ç†è°ƒè¯•æ ·å¼</li>
</ol>
<p>å¸Œæœ›è¿™å¥—æ–¹æ³•èƒ½å¸®ä½ å‡å°‘å¸ƒå±€è°ƒè¯•çš„å›°æ‰°ã€‚å¦‚æœä½ æœ‰æ›´å¥½çš„å®è·µï¼Œæ¬¢è¿åˆ†äº«ã€‚</p>
<hr/>
<p><strong>P.S.</strong> è¿™å¥— SOP æ¥è‡ªå®é™…é¡¹ç›®æ€»ç»“ï¼Œå·²åœ¨å®é™…é¡¹ç›®ä¸­éªŒè¯ã€‚å¦‚æœä½ åœ¨å®è·µè¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œæ¬¢è¿äº¤æµè®¨è®ºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœæ­¢ç¼–å†™Excelè§„æ ¼æ–‡æ¡£ï¼šä¼ä¸šçº§Javaå¼€å‘çš„Markdownå…ˆè¡Œæ–¹æ³•]]></title>    <link>https://juejin.cn/post/7591207451778842650</link>    <guid>https://juejin.cn/post/7591207451778842650</guid>    <pubDate>2026-01-04T08:36:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591207451778842650" data-draft-id="7591301294298759195" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœæ­¢ç¼–å†™Excelè§„æ ¼æ–‡æ¡£ï¼šä¼ä¸šçº§Javaå¼€å‘çš„Markdownå…ˆè¡Œæ–¹æ³•"/> <meta itemprop="keywords" content="Java,Markdown,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-04T08:36:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿¡ç ç”±ç¼°"/> <meta itemprop="url" content="https://juejin.cn/user/2110664941509214"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœæ­¢ç¼–å†™Excelè§„æ ¼æ–‡æ¡£ï¼šä¼ä¸šçº§Javaå¼€å‘çš„Markdownå…ˆè¡Œæ–¹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2110664941509214/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿¡ç ç”±ç¼°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T08:36:48.000Z" title="Sun Jan 04 2026 08:36:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å°†è®¾è®¡è§„æ ¼ä»Excelè½¬ç§»åˆ°Markdownï¼Œåˆ©ç”¨AIç”ŸæˆJavaä»£ç ï¼Œä»è€Œé˜²æ­¢è®¾è®¡ä¸ä»£ç è„±èŠ‚ï¼Œå¹¶å°†å¼€å‘æ—¶é—´ç¼©çŸ­55%ã€‚</p>
</blockquote>
<p>åœ¨ä¼ä¸šçº§Javaå¼€å‘ä¸­ï¼Œè®¾è®¡æ–‡æ¡£é€šå¸¸è¢«å›°åœ¨è¯¸å¦‚Excelæˆ–Wordä¹‹ç±»çš„äºŒè¿›åˆ¶å­¤å²›ä¸­ï¼Œå¯¼è‡´å®ƒä»¬ä¸å®é™…ä»£ç æ¸è¡Œæ¸è¿œã€‚æœ¬æ–‡å±•ç¤ºäº†ä¸€ç§æ¨¡å¼ï¼Œå³é€šè¿‡ä½¿ç”¨ç»“æ„åŒ–çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fdzone.com%2Farticles%2Fwriting-in-markdown-an-introduction" target="_blank" title="https://dzone.com/articles/writing-in-markdown-an-introduction" ref="nofollow noopener noreferrer">Markdown</a>å’Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdzone.com%2Farticles%2Fdemystifying-generative-text-ai" target="_blank" title="https://dzone.com/articles/demystifying-generative-text-ai" ref="nofollow noopener noreferrer">ç”Ÿæˆå¼AI</a>ï¼Œå°†è®¾è®¡æ–‡æ¡£è§†ä¸ºæºä»£ç ã€‚</p>
<p><img src="https://cf-blog.icodebuddy.com/image/100/100-0.png" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬éƒ½ç»å†è¿‡è¿™ç§æƒ…å†µï¼šæ¶æ„å›¢é˜Ÿå‘å¼€å‘å›¢é˜Ÿäº¤ä»˜ä¸€ä»½<strong>è¯¦ç»†è®¾è®¡æ–‡æ¡£ï¼ˆ[Detailed Design Document]DDDï¼‰</strong>ã€‚å®ƒæ˜¯ä¸€ä¸ª50é¡µçš„Wordæ–‡ä»¶ï¼Œæˆ–è€…æ›´ç³Ÿï¼Œæ˜¯ä¸€ä¸ªåŒ…å«å¤šä¸ªæ ‡ç­¾é¡µã€ç”¨äºå®šä¹‰Javaç±»ã€å­—æ®µå’ŒéªŒè¯è§„åˆ™çš„å¤§å‹Excelç”µå­è¡¨æ ¼ã€‚</p>
<p>å½“ä½ å†™ä¸‹ç¬¬ä¸€è¡Œä»£ç æ—¶ï¼Œè¿™ä»½æ–‡æ¡£å°±å·²ç»è¿‡æ—¶äº†ã€‚</p>
<p>äºŒè¿›åˆ¶æ–‡ä»¶å‡ ä¹æ— æ³•è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œå·®å¼‚å¯¹æ¯”ä¸åˆ‡å®é™…ï¼Œå¹¶ä¸”å°†å®šä¹‰å¤åˆ¶ç²˜è´´åˆ°Javadocä¸­éå¸¸ç¹çã€‚åœ¨ä¼ä¸šçº§è§„æ¨¡ä¸‹ï¼Œè¿™ç§"ä»£ç æ¼‚ç§»"ï¼ˆå³å®ç°ä¸è®¾è®¡è„±èŠ‚ï¼‰æˆä¸ºäº†æŠ€æœ¯å€ºåŠ¡çš„ä¸»è¦æ¥æºã€‚</p>
<p>é€šè¿‡å°†è®¾è®¡æ–‡æ¡£è½¬ç§»åˆ°ç»“æ„åŒ–çš„Markdownå¹¶åˆ©ç”¨ç”Ÿæˆå¼AIï¼Œæˆ‘ä»¬å¯ä»¥å°†æ–‡æ¡£å®Œå…¨è§†ä¸ºæºä»£ç ã€‚è¿™åœ¨æ¶æ„å¸ˆçš„æ„å›¾å’Œå¼€å‘äººå‘˜çš„**é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰**ä¹‹é—´æ¶èµ·äº†ä¸€åº§æ¡¥æ¢ã€‚</p>
<h2 data-id="heading-0">é—®é¢˜ï¼šäºŒè¿›åˆ¶å£å’</h2>
<p>åœ¨ä¼ ç»Ÿçš„ç€‘å¸ƒæ¨¡å‹æˆ–æ··åˆå¼€å‘ç¯å¢ƒä¸­ï¼Œè®¾è®¡å­˜åœ¨äºOfficeæ–‡æ¡£ï¼ˆWord/Excelï¼‰ä¸­ï¼Œè€Œä»£ç åˆ™ä»¥æ–‡æœ¬æ ¼å¼ï¼ˆJava/YAMLï¼‰å­˜åœ¨ã€‚ç”±äºæ ¼å¼ä¸å…¼å®¹ï¼Œè‡ªåŠ¨åŒ–æµç¨‹ä¸­æ–­ã€‚ä½ æ— æ³•è½»æ˜“åœ°å°†Excelè¡¨æ ¼"ç¼–è¯‘"æˆJava POJOï¼Œå½“ç„¶ä¹Ÿæ— æ³•å¯¹Wordæ–‡æ¡£è¿›è¡Œå•å…ƒæµ‹è¯•ã€‚</p>
<p>ä¸ºäº†å¼¥åˆè¿™ä¸€å·®è·ï¼Œè®¾è®¡ä¿¡æ¯éœ€è¦å…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>
<p><strong>åŸºäºæ–‡æœ¬</strong>ï¼ˆä»¥ä¾¿äºGitç‰ˆæœ¬æ§åˆ¶ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ç»“æ„åŒ–</strong>ï¼ˆä»¥ä¾¿äºæœºå™¨è§£æï¼‰ã€‚</p>
</li>
<li>
<p><strong>äººç±»å¯è¯»</strong>ï¼ˆä»¥ä¾¿äºå®¡æŸ¥å’Œåä½œï¼‰ã€‚</p>
</li>
</ul>
<p>è§£å†³æ–¹æ¡ˆå°±æ˜¯ä½¿ç”¨<strong>ç»“æ„åŒ–Markdown</strong>ã€‚</p>
<h2 data-id="heading-1">è§£å†³æ–¹æ¡ˆï¼šå°†Markdownä½œä¸ºæ•°æ®æº</h2>
<p>æˆ‘ä»¬ä¸åº”ä»…å°†Markdownè§†ä¸ºç¼–å†™READMEæ–‡ä»¶çš„æ–¹å¼ï¼Œè€Œåº”å°†å…¶ä½œä¸ºä¸€ç§ç»“æ„åŒ–çš„è§„æ ¼è¯´æ˜æ ¼å¼ã€‚é€šè¿‡æ ‡å‡†åŒ–æ ‡é¢˜å’Œå¸ƒå±€ï¼ŒMarkdownæ–‡ä»¶å°±æˆä¸ºä¸€ç§ä¸€è‡´ä¸”å¯¹æœºå™¨å‹å¥½çš„æ•°æ®æºï¼Œç”Ÿæˆå¼AIå·¥å…·ï¼ˆGitHub Copilotã€ChatGPTç­‰ï¼‰å¯ä»¥è§£æå®ƒæ¥ç”Ÿæˆæ ·æ¿ä»£ç ã€å›¾è¡¨ï¼Œç”šè‡³ä¸ºåˆ©ç›Šç›¸å…³è€…ç”Ÿæˆé—ç•™çš„ExcelæŠ¥å‘Šã€‚</p>
<h3 data-id="heading-2">1. ç›®å½•ç»“æ„</h3>
<p>ä¸ºä½¿æ­¤æ–¹æ³•æœ‰æ•ˆï¼Œè®¾è®¡æ–‡æ¡£å¿…é¡»ä¸ä»£ç å­˜æ”¾åœ¨ä¸€èµ·ï¼Œå¹¶é•œåƒåŒ…ç»“æ„ï¼Œä»¥ä¾¿å®ƒä»¬åŒæ­¥æ¼”è¿›ã€‚</p>
<p>æ¨¡å¼ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">
/project-root

/src

/main/java/com/app/backend/RegisteredUser.java

/design-docs

/backend

RegisteredUser.md

OrderService.md

/diagrams

architecture.mermaid

</code></pre>
<p>é€šè¿‡å°†.mdæ–‡ä»¶ä¸.javaæ–‡ä»¶ä¿å­˜åœ¨ç›¸åŒçš„ä»“åº“ç»“æ„ä¸­ï¼Œæˆ‘ä»¬åœ¨è§„æ ¼è¯´æ˜å’Œå®ç°ä¹‹é—´å»ºç«‹äº†ç›´æ¥ã€å¯è¿½æº¯çš„è”ç³»ã€‚</p>
<h3 data-id="heading-3">2. ç»“æ„åŒ–è§„æ ¼è¯´æ˜</h3>
<p>å…³é”®åœ¨äºå°†Markdownå†™æˆå®é™…çš„è§„æ ¼è¯´æ˜ï¼Œè€Œä¸æ˜¯åšå®¢æ–‡ç« ã€‚æˆ‘ä»¬ä½¿ç”¨ç‰¹å®šçš„æ ‡é¢˜ï¼ˆä¾‹å¦‚<code>## Class Summary</code>, <code>## Members</code>ï¼‰ä½œä¸ºè‡ªåŠ¨åŒ–å·¥å…·çš„æŒ‚é’©ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹</strong>ï¼š<code>RegisteredUser.md</code></p>
<pre><code class="hljs language-markdown" lang="markdown">
<span class="hljs-section"># RegisteredUser</span>

  


<span class="hljs-section">## Class Summary</span>

Represents a user who has completed the registration process.

Manages user credentials and validation status.

  


<span class="hljs-section">## Members</span>

| Name | Type | Description |

| :--- | :--- | :--- |

| userId | String | Unique identifier for the user. |

| userPassword | String | Encrypted password string. |

  


<span class="hljs-section">## Methods</span>

<span class="hljs-bullet">+</span> fn isValidUserId(): bool

<span class="hljs-bullet">-</span> Logic: Returns true if userId length &gt;= 3.

<span class="hljs-bullet">+</span> fn isValidUserPassword(): bool

<span class="hljs-bullet">-</span> Logic: Returns true if password length &gt;= 8.

</code></pre>
<p>è¿™ç§æ ¼å¼å¯¹äº§å“è´Ÿè´£äººæ˜¯å¯è¯»çš„ï¼ŒåŒæ—¶å¯¹å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰æ¥è¯´ä¹Ÿè¶³å¤Ÿç»“æ„åŒ–ï¼Œè¶³ä»¥è§£é‡Šç±»å‹å®šä¹‰å’Œé€»è¾‘çº¦æŸã€‚</p>
<h2 data-id="heading-4">å®æ–½ï¼šä»æ–‡æœ¬åˆ°Java</h2>
<p>ä¸€æ—¦æˆ‘ä»¬ç”¨ç»“æ„åŒ–çš„Markdownè¡¨è¾¾äº†è®¾è®¡ï¼Œç”Ÿæˆå¼AIå°±å¯ä»¥å¼¥åˆä¸Javaä»£ç ä¹‹é—´çš„é¸¿æ²Ÿã€‚åœ¨å¯Œå£«é€šçš„æ¡ˆä¾‹ç ”ç©¶ä¸­ï¼Œä»–ä»¬åˆ©ç”¨ä¸€ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fdzone.com%2Farticles%2Fthe-best-vs-code-extensions-to-supercharge-git" target="_blank" title="https://dzone.com/articles/the-best-vs-code-extensions-to-supercharge-git" ref="nofollow noopener noreferrer">VS Codeæ‰©å±•</a>å’ŒOpenAI APIæ¥è¯»å–è¿™äº›Markdownè§„æ ¼è¯´æ˜ï¼Œå¹¶ç”Ÿæˆåˆå§‹çš„ç±»æ¡†æ¶ã€‚</p>
<p>ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•ç”Ÿæˆå¼AIç¼–ç åŠ©æ‰‹æ¥å¤åˆ¶è¿™ä¸ªå·¥ä½œæµã€‚ç”±äºæç¤ºä¸Šä¸‹æ–‡åŒ…å«ä¸€ä¸ªä¸¥æ ¼ã€å¯é¢„æµ‹çš„ç»“æ„ï¼Œå¹»è§‰ç‡ä¼šæ˜¾è‘—ä¸‹é™ã€‚</p>
<p><strong>æç¤ºä¸Šä¸‹æ–‡ç¤ºä¾‹ï¼š</strong></p>
<blockquote>
<p>"è¯·é˜…è¯»ä»¥ä¸‹Markdownè®¾è®¡æ–‡æ¡£ã€‚æ ¹æ®'Methods'éƒ¨åˆ†ä¸­çš„æè¿°ï¼Œç”Ÿæˆä¸€ä¸ªåŒ…å«Javadocã€å­—æ®µå’ŒéªŒè¯é€»è¾‘çš„Javaç±»ã€‚"</p>
</blockquote>
<p>ç”Ÿæˆè¾“å‡ºç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-keyword">package</span> com.app.backend;

  


<span class="hljs-comment">/**

* Represents a user who has completed the registration process.

* Manages user credentials and validation status.

*/</span>

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RegisteredUser</span> {

  


<span class="hljs-keyword">private</span> String userId;

<span class="hljs-keyword">private</span> String userPassword;

  


<span class="hljs-keyword">public</span> <span class="hljs-title function_">RegisteredUser</span><span class="hljs-params">(String userId, String userPassword)</span> {

<span class="hljs-built_in">this</span>.userId = userId;

<span class="hljs-built_in">this</span>.userPassword = userPassword;

}

  


<span class="hljs-comment">/**

* Logic: Returns true if userId length &gt;= 3.

*/</span>

<span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isValidUserId</span><span class="hljs-params">()</span> {

<span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.userId != <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-built_in">this</span>.userId.length() &gt;= <span class="hljs-number">3</span>;

}

  


<span class="hljs-comment">/**

* Logic: Returns true if password length &gt;= 8.

*/</span>

<span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isValidUserPassword</span><span class="hljs-params">()</span> {

<span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.userPassword != <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-built_in">this</span>.userPassword.length() &gt;= <span class="hljs-number">8</span>;

}

}

</code></pre>
<p>AIä¸ä¼šçŒœæµ‹ï¼›å®ƒä¼šä¸¥æ ¼æŒ‰ç…§ä¹¦é¢æè¿°å®ç°æŒ‡å®šçš„ä¸šåŠ¡è§„åˆ™ï¼ˆ&gt;=3, &gt;=8ï¼‰ã€‚å¦‚æœè®¾è®¡å‘ç”Ÿå˜æ›´ï¼Œä½ åªéœ€æ›´æ–°Markdownï¼Œç„¶åé‡æ–°ç”Ÿæˆä»£ç ã€‚</p>
<h2 data-id="heading-5">å¯è§†åŒ–æ¶æ„</h2>
<p>å½“ä¸å†ä½¿ç”¨Excelã€Visioæˆ–å…¶ä»–å›¾è¡¨å·¥å…·æ—¶ï¼Œä¸€ä¸ªå¸¸è§çš„æ‹…å¿§æ˜¯å¤±å»äº†"ç»˜åˆ¶"ç³»ç»Ÿçš„èƒ½åŠ›ã€‚ä½†æ—¢ç„¶æˆ‘ä»¬çš„è®¾è®¡ç°åœ¨å­˜åœ¨äºç»“æ„åŒ–çš„æ–‡æœ¬ä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†å…¶ç¼–è¯‘æˆå›¾è¡¨ã€‚</p>
<p>åˆ©ç”¨æ ‡å‡†åŒ–çš„Markdownæ ‡é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç®€å•åœ°æ‰«æç›®å½•æ¥è‡ªåŠ¨ç”Ÿæˆ<strong>Mermaid.js</strong>ç±»å›¾ã€‚</p>
<p><strong>è¾“å…¥ï¼ˆMarkdownæ ‡é¢˜ï¼‰ï¼š</strong></p>
<p><code>Class: RegisteredUser</code> depends on <code>Class: UserProfile</code></p>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
#<span class="hljs-title class_">Mermaid</span> <span class="hljs-title class_">Diagram</span>

classDiagram

<span class="hljs-keyword">class</span> <span class="hljs-title class_">RegisteredUser</span> {

+<span class="hljs-title class_">String</span> userId

+<span class="hljs-title class_">String</span> userPassword

+<span class="hljs-title function_">isValidUserId</span>()

}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserProfile</span> {

+<span class="hljs-title class_">String</span> email

}

<span class="hljs-title class_">RegisteredUser</span> --&gt; <span class="hljs-title class_">UserProfile</span>

</code></pre>
<p>è¿™ç¡®ä¿äº†ä½ çš„æ¶æ„å›¾å§‹ç»ˆåæ˜ è®¾è®¡æ–‡æ¡£çš„å½“å‰çŠ¶æ€ï¼Œè€Œä¸æ˜¯æ¶æ„å¸ˆä¸‰ä¸ªæœˆå‰ç»˜åˆ¶çš„å†…å®¹ã€‚</p>
<h3 data-id="heading-6">"Excel"éœ€æ±‚</h3>
<p>è®¸å¤šä¼ä¸šä»ç„¶éœ€è¦Excelæ–‡ä»¶ç”¨äºæ­£å¼ç­¾æ ¸æˆ–éæŠ€æœ¯åˆ©ç›Šç›¸å…³è€…ã€‚</p>
<p>ä½†ç°åœ¨ï¼Œæ—¢ç„¶çœŸå®æ¥æºæ˜¯ç»“æ„åŒ–çš„æ–‡æœ¬ï¼ˆMarkdownï¼‰ï¼Œç”ŸæˆExcelå°±å˜å¾—å¾®ä¸è¶³é“ã€‚ä¸€ä¸ªç®€å•çš„è„šæœ¬ï¼ˆç”šè‡³ä¸€ä¸ªAIæç¤ºï¼‰å°±å¯ä»¥è§£ææ ‡é¢˜å¹¶è‡ªåŠ¨å¡«å……CSVæˆ–XLSXæ¨¡æ¿ã€‚</p>
<ul>
<li>
<p><strong>æ—§æ–¹å¼</strong>ï¼šä¸»æ–‡ä»¶æ˜¯Excel -&gt; å¼€å‘äººå‘˜æ‰‹åŠ¨ç¼–å†™Javaã€‚</p>
</li>
<li>
<p><strong>æ–°æ–¹å¼</strong>ï¼šä¸»æ–‡ä»¶æ˜¯Markdown -&gt; è‡ªåŠ¨ç”ŸæˆJavaå¹¶ä¸ºç®¡ç†å±‚è‡ªåŠ¨ç”ŸæˆExcelã€‚</p>
</li>
</ul>
<h2 data-id="heading-7">ç»“æœä¸æŠ•èµ„å›æŠ¥ç‡</h2>
<p>è½¬å‘Markdownå…ˆè¡Œæ–¹æ³•ä¸ä»…ä»…æ˜¯æ•´ç†ä½ çš„ä»“åº“ã€‚åœ¨åˆ†æçš„æ¡ˆä¾‹ç ”ç©¶ä¸­ï¼Œå›¢é˜Ÿçœ‹åˆ°äº†æ˜ç¡®çš„ç”Ÿäº§åŠ›æå‡ï¼š</p>
<ul>
<li>
<p><strong>å¼€å‘é€Ÿåº¦åŠ å¿«55%</strong>ï¼šæ ·æ¿ä»£ç ï¼ˆç±»ã€æµ‹è¯•ï¼‰ç›´æ¥ä»Markdownè§„æ ¼è¯´æ˜ç”Ÿæˆã€‚</p>
</li>
<li>
<p><strong>å‡å°‘æ²Ÿé€šå¼€é”€</strong>ï¼šAIè¾…åŠ©çš„Markdownè½¬æ¢æ¯”å¤„ç†Excelå•å…ƒæ ¼æ›´å¿«ã€æ›´å‡†ç¡®ã€‚</p>
</li>
<li>
<p><strong>çœŸæ­£çš„å·®å¼‚å¯¹æ¯”èƒ½åŠ›</strong>ï¼šGitç°åœ¨èƒ½å‡†ç¡®æ˜¾ç¤ºè°åœ¨ä½•æ—¶æ›´æ”¹äº†ä¸šåŠ¡è§„åˆ™ï¼ˆé€šè¿‡Gitæäº¤å†å²ï¼‰ã€‚</p>
</li>
</ul>
<h2 data-id="heading-8">ç»“è®º</h2>
<p>æ–‡æ¡£å¸¸å¸¸æ²¦ä¸ºäº‹åçš„è¡¥æ•‘æªæ–½ï¼Œå› ä¸ºæˆ‘ä»¬ç”¨äºè®¾è®¡çš„å·¥å…·ï¼ˆOfficeå¥—ä»¶ï¼‰ä¸æˆ‘ä»¬ç”¨äºå¼€å‘çš„å·¥å…·ï¼ˆIDEï¼‰æ ¼æ ¼ä¸å…¥ã€‚é€šè¿‡é‡‡ç”¨Markdownä½œä¸ºä¸€ç§æ­£å¼çš„è§„èŒƒè¯­è¨€ï¼Œæˆ‘ä»¬å°†è®¾è®¡å·¥ä½œç›´æ¥æ‹‰å…¥äº†DevOpsæµç¨‹ã€‚</p>
<p>æ‰€ä»¥ï¼Œä¸‹æ¬¡å½“ä½ è¢«è¦æ±‚ç¼–å†™è¯¦ç»†è®¾è®¡æ—¶ï¼Œè¯·è·³è¿‡ç”µå­è¡¨æ ¼ã€‚æ‰“å¼€ä¸€ä¸ª<code>.md</code>æ–‡ä»¶ï¼Œå®šä¹‰ä¸€ä¸ªæ¸…æ™°çš„ç»“æ„ï¼Œç„¶åè®©ä»£ç ä»ä¸­æµæ·Œè€Œå‡ºã€‚</p>
<hr/>
<p>ã€æ³¨ã€‘æœ¬æ–‡è¯‘è‡ªï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdzone.com%2Farticles%2Fstop-writing-excel-specs-markdown-first-approach" target="_blank" title="https://dzone.com/articles/stop-writing-excel-specs-markdown-first-approach" ref="nofollow noopener noreferrer">Markdown-First Approach to Enterprise Java</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é•¿æ–‡æ¡£ä¹Ÿèƒ½ç¨³å¥æ¨ç†ï¼šQwenLong-L1.5 çš„è®°å¿†å¢å¼ºæ¶æ„ä¸å®æˆ˜éƒ¨ç½²æŒ‡å—]]></title>    <link>https://juejin.cn/post/7591301294298775579</link>    <guid>https://juejin.cn/post/7591301294298775579</guid>    <pubDate>2026-01-04T08:44:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591301294298775579" data-draft-id="7591322050239021094" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é•¿æ–‡æ¡£ä¹Ÿèƒ½ç¨³å¥æ¨ç†ï¼šQwenLong-L1.5 çš„è®°å¿†å¢å¼ºæ¶æ„ä¸å®æˆ˜éƒ¨ç½²æŒ‡å—"/> <meta itemprop="keywords" content="AIGC,LLM"/> <meta itemprop="datePublished" content="2026-01-04T08:44:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="DigitalOcean"/> <meta itemprop="url" content="https://juejin.cn/user/2031553217827127"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é•¿æ–‡æ¡£ä¹Ÿèƒ½ç¨³å¥æ¨ç†ï¼šQwenLong-L1.5 çš„è®°å¿†å¢å¼ºæ¶æ„ä¸å®æˆ˜éƒ¨ç½²æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2031553217827127/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    DigitalOcean
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T08:44:44.000Z" title="Sun Jan 04 2026 08:44:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰åœ¨æ¨ç†èƒ½åŠ›æ–¹é¢æ­£åœ¨è¿…é€Ÿè¿›æ­¥ï¼Œä½†<strong>é•¿ä¸Šä¸‹æ–‡æ¨ç†</strong>ä»ç„¶æ˜¯æœ€æ£˜æ‰‹çš„æŒ‘æˆ˜ä¹‹ä¸€ã€‚å°½ç®¡é¢„è®­ç»ƒå·²ç»å°†ä¸Šä¸‹æ–‡çª—å£æ‰©å±•åˆ°æ•°åä¸‡ tokenï¼ŒçœŸæ­£é¢å‘è¶…å¤§æ–‡æ¡£çš„åè®­ç»ƒæ¨ç†æŠ€æœ¯ä»ç„¶ç›¸å½“ä¸æˆç†Ÿã€‚</p>
<p>é˜¿é‡Œé€šä¹‰å®éªŒå®¤å‘å¸ƒçš„ <strong>QwenLong-L1.5</strong> æ­£æ˜¯ä¸ºäº†è§£å†³è¿™ä¸€ç©ºç™½ï¼Œæå‡ºäº†ä¸€å¥—å®Œæ•´çš„åè®­ç»ƒæ–¹æ¡ˆï¼Œç»“åˆäº†ï¼š</p>
<ul>
<li>é•¿ä¸Šä¸‹æ–‡æ•°æ®åˆæˆ</li>
<li>é¢å‘è¶…é•¿åºåˆ—è®¾è®¡çš„å¼ºåŒ–å­¦ä¹ </li>
<li>ä¸€ä¸ªè¶…è¶Šæ¨¡å‹ç‰©ç†ä¸Šä¸‹æ–‡çª—å£çš„å†…å­˜ç®¡ç†æ¡†æ¶</li>
</ul>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨ï¼š</p>
<ul>
<li>QwenLong-L1.5 æœ‰å“ªäº›ä¸ä¼—ä¸åŒä¹‹å¤„</li>
<li>å®ƒçš„â€œè®°å¿†å¢å¼ºæ¨ç†â€æ¶æ„</li>
<li>å¦‚ä½•åœ¨ DigitalOcean GPU Droplet ä¸Šè¿è¡Œ QwenLong-L1.5</li>
<li>é¢å‘é•¿ä¸Šä¸‹æ–‡ä»»åŠ¡çš„å®ç”¨æ¨ç†ä»£ç </li>
</ul>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ QwenLong-L1.5ï¼Ÿ</h2>
<p><strong>QwenLong-L1.5</strong> æ˜¯ä¸€ä¸ªåŸºäº <strong>Qwen3-30B-A3B-Thinking</strong> æ„å»ºçš„é•¿ä¸Šä¸‹æ–‡æ¨ç†æ¨¡å‹ã€‚å®ƒé€šè¿‡å…ˆè¿›çš„åè®­ç»ƒæŠ€æœ¯ï¼Œå¯¹åŸºç¡€æ¨¡å‹è¿›è¡Œäº†æ‰©å±•ï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨è¿œè¶… 256K token çš„è¶…å¤§æ–‡æ¡£ä¸Šè¿›è¡Œæ¨ç†ï¼Œæ”¯æŒè·¨å…¨å±€åˆ†å¸ƒä¿¡æ¯çš„å¤šè·³æ¨ç†ï¼Œå¹¶åœ¨æé•¿è¾“å…¥åºåˆ—ä¸‹ä¾ç„¶ä¿æŒç¨³å®šçš„è®­ç»ƒè¿‡ç¨‹ã€‚</p>
<h2 data-id="heading-1">ä¸ºä»€ä¹ˆé•¿ä¸Šä¸‹æ–‡åè®­ç»ƒå¦‚æ­¤é‡è¦</h2>
<p><img src="https://www.digitaloceans.cn/wp-content/uploads/2026/01/image-2-1024x480.png" alt="" loading="lazy"/></p>
<p>å¤§å¤šæ•°å¤§è¯­è¨€æ¨¡å‹å¤±è´¥ï¼Œå¹¶ä¸æ˜¯å› ä¸ºç¼ºå°‘ä¿¡æ¯ï¼Œè€Œæ˜¯å› ä¸ºå®ƒä»¬ï¼š</p>
<ul>
<li>æ— æ³•æŒç»­è·Ÿè¸ªæ—©æœŸäº‹å®</li>
<li>éš¾ä»¥å®Œæˆå¤šè·³æ¨ç†</li>
<li>åœ¨é•¿åºåˆ—å¼ºåŒ–å­¦ä¹ ä¸­å‡ºç°æ¢¯åº¦å´©å¡Œ</li>
</ul>
<h2 data-id="heading-2">QwenLong-L1.5 çš„æ ¸å¿ƒåˆ›æ–°</h2>
<h3 data-id="heading-3">é•¿ä¸Šä¸‹æ–‡æ•°æ®åˆæˆæµæ°´çº¿</h3>
<p>QwenLong-L1.5 é€šè¿‡ä¸‰é¡¹å…³é”®æ”¹è¿›æå‡äº†é•¿ä¸Šä¸‹æ–‡æ¨ç†èƒ½åŠ›ï¼š</p>
<p>é¦–å…ˆï¼Œå®ƒä¸å†ä½¿ç”¨ç®€å•çš„â€œæ‰¾ä¸€ä¸ªäº‹å®â€å¼è®­ç»ƒä»»åŠ¡ï¼Œè€Œæ˜¯å°†æ–‡æ¡£æ‹†è§£ä¸ºç»†ç²’åº¦äº‹å®å•å…ƒï¼Œå¹¶æ„é€ éœ€è¦æ¨¡å‹è·¨è¶Šå¤šä¸ªæ–‡æœ¬ç‰‡æ®µè¿›è¡Œä¿¡æ¯å…³è”çš„é—®é¢˜ï¼Œä»è€Œç”Ÿæˆæ›´æ™ºèƒ½ã€æ›´è´´è¿‘çœŸå®åœºæ™¯çš„è®­ç»ƒæ•°æ®ã€‚</p>
<p>å…¶æ¬¡ï¼Œå®ƒå¼•å…¥äº†ä¸“é—¨ä¸ºè¶…é•¿è¾“å…¥è®¾è®¡çš„å¼ºåŒ–å­¦ä¹ æ–¹æ³•ï¼Œä»¥ä¿è¯è®­ç»ƒè¿‡ç¨‹çš„ç¨³å®šæ€§ï¼Œå…¶ä¸­åŒ…æ‹¬ä¸€ç§åä¸º <strong>AEPO</strong> çš„æŠ€æœ¯ï¼Œç”¨äºåœ¨æ–‡æœ¬é•¿åº¦ä¸æ–­å¢åŠ æ—¶ç²¾ç»†æ§åˆ¶æ¨¡å‹çš„å­¦ä¹ æ–¹å¼ã€‚</p>
<p>æœ€åï¼Œé’ˆå¯¹å•æ¬¡å¯è¯»å†…å®¹è¶…è¿‡æ¨¡å‹ä¸Šä¸‹æ–‡çª—å£çš„åœºæ™¯ï¼ŒQwenLong-L1.5 å¢åŠ äº†ä¸€å¥—è®°å¿†ç³»ç»Ÿï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿåœ¨å¤šä¸ªæ¨ç†æ­¥éª¤ä¸­å¯¹å…³é”®ä¿¡æ¯è¿›è¡Œæ€»ç»“ã€å­˜å‚¨å’Œå¤ç”¨ï¼Œä»è€Œå³ä½¿åœ¨è¶…å‡ºåŸç”Ÿä¸Šä¸‹æ–‡é•¿åº¦çš„æƒ…å†µä¸‹ï¼Œä»èƒ½ä¿æŒæœ‰æ•ˆæ¨ç†ã€‚</p>
<h3 data-id="heading-4">è‡ªé€‚åº”ç†µæ§åˆ¶ç­–ç•¥ä¼˜åŒ–</h3>
<p>åœ¨é•¿åºåˆ—ä¸Šè¿›è¡Œè®­ç»ƒä¼šå¯¼è‡´ä¼ ç»Ÿå¼ºåŒ–å­¦ä¹ ä¸­çš„ç­–ç•¥å´©å¡Œé—®é¢˜ã€‚QwenLong-L1.5 å¼•å…¥äº† AEPOï¼Œå…¶ä¸»è¦ä½œç”¨åŒ…æ‹¬ï¼š</p>
<ul>
<li>åŠ¨æ€è°ƒæ•´ç†µçº¦æŸ</li>
<li>é˜²æ­¢æ¢¯åº¦çˆ†ç‚¸</li>
<li>æ”¯æŒåœ¨ä¸æ–­å¢é•¿çš„åºåˆ—é•¿åº¦ä¸Šè¿›è¡Œè¯¾ç¨‹å¼å­¦ä¹ </li>
</ul>
<p><img src="https://www.digitaloceans.cn/wp-content/uploads/2026/01/image-1-1024x457.png" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">è¶…è¶Šä¸Šä¸‹æ–‡çª—å£çš„å†…å­˜ç®¡ç†</h2>
<p>QwenLong-L1.5 æå‡ºäº†ä¸€ç§â€‹<strong>å¤šé˜¶æ®µè®°å¿†èåˆæ¡†æ¶</strong>â€‹ï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿå¯¹è¿œè¶…å…¶åŸç”Ÿ 256K token ä¸Šä¸‹æ–‡çª—å£çš„ä¿¡æ¯è¿›è¡Œæ¨ç†ã€‚</p>
<p>åœ¨ç¬¬ä¸€é˜¶æ®µï¼Œæ¨¡å‹ä¼šåœ¨å¯ç”¨ä¸Šä¸‹æ–‡å†…å¯¹å¤§æ®µæ–‡æœ¬è¿›è¡Œä¸€æ¬¡æ€§æ¨ç†ï¼Œæå–å…³é”®ä¿¡å·å’Œä¸­é—´æ¨ç†ç»“æœã€‚éšåï¼Œè¿™äº›é‡è¦ä¿¡æ¯ä¼šè¢«æ€»ç»“å¹¶å‹ç¼©ä¸ºç»“æ„åŒ–çš„è®°å¿†è¡¨ç¤ºï¼Œåœ¨ä¿ç•™æ ¸å¿ƒäº‹å®çš„åŒæ—¶å»é™¤å†—ä½™å†…å®¹ã€‚</p>
<p>åœ¨ç¬¬äºŒé˜¶æ®µï¼Œæ¨¡å‹åœ¨å¤„ç†æ–‡æ¡£çš„æ–°ç‰‡æ®µæ—¶ï¼Œä¼šä¸æ–­è¿­ä»£æ›´æ–°è¿™ä»½è®°å¿†ï¼Œä½¿å…ˆå‰è·å¾—çš„ä¿¡æ¯å¾—ä»¥é€æ­¥ç»†åŒ–ã€æ‰©å±•æˆ–ä¿®æ­£ã€‚</p>
<p>åœ¨æœ€åé˜¶æ®µï¼Œé€šè¿‡ä¸€ç§åŸºäºèåˆçš„å¼ºåŒ–å­¦ä¹ æ–¹æ³•ï¼Œå°†æ¨¡å‹çš„æ¨ç†è¿‡ç¨‹ä¸è®°å¿†æ›´æ–°è¿‡ç¨‹å¯¹é½ï¼Œç¡®ä¿å­˜å‚¨ä¸‹æ¥çš„è®°å¿†çœŸæ­£æœåŠ¡äºæ¨ç†ä»»åŠ¡ï¼Œè€Œä¸ä¼šå‘ç”Ÿæ¼‚ç§»æˆ–å¤±æ•ˆã€‚</p>
<p>é€šè¿‡ä¸Šè¿°å¤šé˜¶æ®µæµç¨‹ï¼ŒQwenLong-L1.5 èƒ½å¤Ÿè¯»å–æµ·é‡æ–‡æ¡£æµï¼Œåœ¨é•¿æ—¶é—´è·¨åº¦å†…ä¿æŒä¸Šä¸‹æ–‡ä¸€è‡´æ€§ï¼Œå¹¶æ‰§è¡Œå¤šæ­¥ã€å¾ªç¯å¼çš„æ¨ç†è¿‡ç¨‹â€”â€”è¿™äº›éƒ½æ˜¯å•ä¸€ä¸Šä¸‹æ–‡çª—å£å†…æ— æ³•å®Œæˆçš„ä»»åŠ¡ã€‚</p>
<h2 data-id="heading-6">QwenLong-L1.5 çš„æ€§èƒ½è¡¨ç°</h2>
<p><img src="https://www.digitaloceans.cn/wp-content/uploads/2026/01/image-1024x459.png" alt="" loading="lazy"/></p>
<p>è¯¥åŸºå‡†æµ‹è¯•ç»“æœæ˜¾ç¤ºï¼Œ<strong>QwenLong-L1.5-30B-A3B</strong> åœ¨å„é¡¹è¯„æµ‹ä¸­æŒç»­ä¼˜äºå…¶åŸºç¡€æ¨¡å‹ Qwen3-30B-A3B-Thinkingï¼Œå¹¶ä¸”åœ¨æ•´ä½“è¡¨ç°ä¸Šå¯ä¸ Gemini-2.5-Proã€Gemini-2.5-Flash-Thinkingã€DeepSeek-R1 ä»¥åŠ Qwen3-Max-Thinking ç­‰é¢†å…ˆçš„é•¿ä¸Šä¸‹æ–‡æ¨¡å‹ç›¸åª²ç¾ã€‚</p>
<p>åœ¨å¤šæ–‡æ¡£é˜…è¯»ç†è§£ï¼ˆMRCRï¼‰ã€CorpusQAã€æ–‡æ¡£çº§æ•°å­¦æ¨ç†ï¼ˆDocMathï¼‰ä»¥åŠ LongBench ç­‰å¤šç§é•¿ä¸Šä¸‹æ–‡ä»»åŠ¡ä¸Šï¼ŒQwenLong-L1.5 éƒ½å±•ç°äº†ç¨³å®šè€Œå…¨é¢çš„æ€§èƒ½ä¼˜åŠ¿ã€‚å°¤å…¶åœ¨ LongBench-V1ã€Framesã€LongBench-V2 ç­‰å¼ºè°ƒæ¨ç†èƒ½åŠ›ä¸è®°å¿†å®¹é‡çš„åŸºå‡†æµ‹è¯•ä¸­ï¼Œè¯¥æ¨¡å‹å–å¾—äº†æ˜¾è‘—æå‡ï¼Œæ•´ä½“å¹³å‡å‡†ç¡®ç‡è¾¾åˆ°æœ€é«˜æˆ–æ¥è¿‘æœ€é«˜æ°´å¹³ã€‚</p>
<p>è¿™äº›ç»“æœè¡¨æ˜ï¼ŒQwenLong-L1.5 çš„åè®­ç»ƒç­–ç•¥ä¸è®°å¿†èåˆæ¡†æ¶å¸¦æ¥çš„æ”¹è¿›ï¼Œèƒ½å¤Ÿåœ¨çœŸå®ä¸–ç•Œçš„é•¿ä¸Šä¸‹æ–‡æ¨ç†ä»»åŠ¡ä¸­ç¨³å®šå‘æŒ¥ä½œç”¨ï¼Œè€Œä¸æ˜¯ä»…ä»…åœ¨æŸä¸€ä¸ªç‰¹å®šåŸºå‡†ä¸Šâ€œåˆ·åˆ†â€ã€‚</p>
<h2 data-id="heading-7">ä¸ºä»€ä¹ˆè¦åœ¨ DigitalOcean GPU ä¸Šè¿è¡Œ QwenLong-L1.5ï¼Ÿ</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aidroplet.com%2Fproduct%2Fgpu%2F" target="_blank" title="https://www.aidroplet.com/product/gpu/" ref="nofollow noopener noreferrer">DigitalOcean çš„ GPU Droplet </a>éå¸¸é€‚åˆé•¿ä¸Šä¸‹æ–‡æ¨ç†åœºæ™¯ï¼Œå› ä¸ºå®ƒä»¬æä¾›ï¼š</p>
<ul>
<li>é«˜æ˜¾å­˜çš„ NVIDIA GPUï¼Œå¦‚ H100ã€H200ï¼Œä»¥åŠå³å°†ä¸Šå¸‚çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aidroplet.com%2Fproduct%2Fb300%2F" target="_blank" title="https://www.aidroplet.com/product/b300/" ref="nofollow noopener noreferrer">B300 GPU</a></li>
<li>å¯é¢„æµ‹ã€é€æ˜çš„å®šä»·ï¼ŒDigitalOcean æ¯” AWSã€GCP æ›´ä¾¿å®œå’Œé€æ˜</li>
<li>é«˜æ•ˆã€æ— è´Ÿæ‹…çš„ GPU åˆå§‹åŒ–ä½“éªŒï¼Œæ”¯æŒä¸€é”®éƒ¨ç½²å¤šç§å¼€æºå¤§æ¨¡å‹</li>
<li>å®Œæ•´çš„ SSH ä¸ CUDA æ§åˆ¶èƒ½åŠ›</li>
</ul>
<p><strong>æ¨èéƒ¨ç½² QwenLong-L1.5 çš„ â€‹GPU</strong>â€‹<strong>â€‹ é…ç½®ï¼š</strong></p>
<ul>
<li>æ™®é€šæ¨ç†ï¼šA100 / H100</li>
<li>é•¿ä¸Šä¸‹æ–‡æ¨ç†ï¼šH100ï¼ˆæ¨èï¼‰</li>
</ul>
<h2 data-id="heading-8">ç¬¬ä¸€æ­¥ï¼šåˆ›å»º DigitalOcean GPU Droplet</h2>
<p>é¦–å…ˆåœ¨ DigitalOcean ä¸Šåˆ›å»ºä¸€ä¸ª GPU Dropletï¼Œä¸ºæ¨¡å‹è¿è¡Œæä¾›æ‰€éœ€ç®—åŠ›èµ„æºã€‚</p>
<p>é€‰æ‹©ï¼š</p>
<ul>
<li>é•œåƒï¼šUbuntu 22.04</li>
<li>GPUï¼šH100 æˆ– A100</li>
<li>æ˜¾å­˜ï¼š80GBï¼ˆé•¿ä¸Šä¸‹æ–‡ä»»åŠ¡éå¸¸æ¶ˆè€—æ˜¾å­˜ï¼‰</li>
</ul>
<h2 data-id="heading-9">ç¬¬äºŒæ­¥ï¼šç¯å¢ƒé…ç½®</h2>
<p>é€šè¿‡å®‰è£…æ‰€éœ€çš„é©±åŠ¨ç¨‹åºã€åº“å’Œä¾èµ–é¡¹æ¥é…ç½®ç³»ç»Ÿç¯å¢ƒï¼Œç¡®ä¿æ‚¨çš„ GPU Droplet å·²å‡†å¤‡å°±ç»ª</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ›´æ–°ç³»ç»Ÿ</span>
sudo apt update &amp;&amp; sudo apt upgrade -y

<span class="hljs-comment"># å®‰è£… Python å·¥å…·</span>
sudo apt install -y python3-pip git

<span class="hljs-comment"># åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</span>
python3 -m venv .venv
<span class="hljs-built_in">source</span> .venv/bin/activate
</code></pre>
<h2 data-id="heading-10">ç¬¬ä¸‰æ­¥ï¼šå®‰è£…ä¾èµ–</h2>
<pre><code class="hljs language-perl" lang="perl">pip install torch torchvision torchaudio --<span class="hljs-keyword">index</span>-url https:<span class="hljs-regexp">//d</span>ownload.pytorch.org/whl/cu121
</code></pre>
<h3 data-id="heading-11">éªŒè¯å®‰è£…</h3>
<pre><code class="hljs language-go" lang="go">python - &lt;&lt;EOF
<span class="hljs-keyword">import</span> torch
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Torch version:"</span>, torch.__version__)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"CUDA available:"</span>, torch.cuda.is_available())
EOF
</code></pre>
<h2 data-id="heading-12">ç¬¬å››æ­¥ï¼šç™»å½• Hugging Face</h2>
<p>é€šè¿‡ Hugging Face è¿›è¡Œèº«ä»½éªŒè¯ï¼Œä»¥è®¿é—®ä¸‹è½½å’Œè¿è¡Œé¢„è®­ç»ƒæ¨¡å‹æ‰€éœ€çš„æ¨¡å‹ã€æ•°æ®é›†åŠè®¿é—® tokenã€‚</p>
<pre><code class="hljs">pip install -U huggingface_hub
hf auth login
</code></pre>
<p>åœ¨æç¤ºæ—¶ç²˜è´´ä½ çš„ Hugging Face Access Token</p>
<p>ï¼ˆç”Ÿæˆè·¯å¾„ï¼šHugging Face â†’ Settings â†’ Access Tokensï¼‰</p>
<h2 data-id="heading-13">ç¬¬äº”æ­¥ï¼šåœ¨ DigitalOcean GPU ä¸Šä¸‹è½½ QwenLong-L1.5</h2>
<pre><code class="hljs">hf download Tongyi-Zhiwen/QwenLong-L1.5-30B-A3B
</code></pre>
<h2 data-id="heading-14">ç¬¬å…­æ­¥ï¼šå®‰è£… verl</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… verlï¼Œè¿™é‡Œä½¿ç”¨ 0.4 ç‰ˆæœ¬</span>
git <span class="hljs-built_in">clone</span> --branch v0.4 https://github.com/volcengine/verl.git
<span class="hljs-built_in">cd</span> verl
pip3 install -e .
</code></pre>
<h2 data-id="heading-15">ç¬¬ä¸ƒæ­¥ï¼šå¼€å§‹ä½¿ç”¨æ¨¡å‹</h2>
<p>åŠ è½½ QwenLong-L1.5 æ¨¡å‹ï¼Œå¼€å§‹è¿›è¡Œæ¨ç†æˆ–å®éªŒã€‚</p>
<pre><code class="hljs language-ini" lang="ini">from transformers import AutoModelForCausalLM, AutoTokenizer
import torch

<span class="hljs-attr">model_name</span> = <span class="hljs-string">"Tongyi-Zhiwen/QwenLong-L1.5-30B-A3B"</span>

<span class="hljs-attr">tokenizer</span> = AutoTokenizer.from_pretrained(model_name)

<span class="hljs-attr">model</span> = AutoModelForCausalLM.from_pretrained(
    model_name,
    <span class="hljs-attr">torch_dtype</span>=torch.float16,
    <span class="hljs-attr">device_map</span>=<span class="hljs-string">"auto"</span>
)
</code></pre>
<p>ä½¿ç”¨ device_map="auto" è®©æƒé‡åœ¨ GPU æ˜¾å­˜ä¸­è‡ªåŠ¨é«˜æ•ˆåˆ†é…ã€‚</p>
<h2 data-id="heading-16">ç¬¬å…«æ­¥ï¼šé•¿ä¸Šä¸‹æ–‡æ¨ç†ç¤ºä¾‹</h2>
<p>è¿è¡Œæ¨ç†ä»»åŠ¡ï¼Œè¾“å…¥é•¿åºåˆ—æ–‡æœ¬ï¼Œå¯ä»¥çœ‹åˆ° QwenLong-L1.5 åœ¨é•¿ä¸Šä¸‹æ–‡å¤„ç†å’Œå¤šè·³æ¨ç†æ–¹é¢çš„è¡¨ç°ã€‚æˆ‘ä»¬å¯ä»¥åšå¾ˆå¤šäº‹æƒ…ï¼Œæˆ‘ä»¬ç®€å•ä¸¾ä¸ªä¾‹å­ã€‚</p>
<h3 data-id="heading-17">ä¸‹è½½ä¸€éƒ¨é•¿ç¯‡å°è¯´</h3>
<pre><code class="hljs language-ini" lang="ini">import requests

<span class="hljs-attr">url</span> = <span class="hljs-string">"https://www.gutenberg.org/files/1342/1342-0.txt"</span>
<span class="hljs-attr">output_file</span> = <span class="hljs-string">"novel.txt"</span>

<span class="hljs-attr">response</span> = requests.get(url)
response.raise_for_status()

with open(output_file, "w", <span class="hljs-attr">encoding</span>=<span class="hljs-string">"utf-8"</span>) as f:
    f.write(response.text)

print("Novel downloaded successfully.")
</code></pre>
<p>æŠŠ URL æ›¿æ¢æˆä½ çš„æ•°æ®æ¥æºå³å¯ã€‚</p>
<h3 data-id="heading-18">åŠ è½½å¹¶é¢„å¤„ç†æ–‡æœ¬ï¼ˆå¯é€‰ï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini">def load_novel(path):
    with open(path, "r", <span class="hljs-attr">encoding</span>=<span class="hljs-string">"utf-8"</span>) as f:
        <span class="hljs-attr">text</span> = f.read()

    <span class="hljs-attr">start_marker</span> = <span class="hljs-string">"*** START OF"</span>
    <span class="hljs-attr">end_marker</span> = <span class="hljs-string">"*** END OF"</span>

    if start_marker in text:
        <span class="hljs-attr">text</span> = text.split(start_marker)[-<span class="hljs-number">1</span>]
    if end_marker in text:
        <span class="hljs-attr">text</span> = text.split(end_marker)[<span class="hljs-number">0</span>]

    return text.strip()

<span class="hljs-attr">novel_text</span> = load_novel(<span class="hljs-string">"novel.txt"</span>)
print(f"Novel length (characters): {len(novel_text)}")
</code></pre>
<h3 data-id="heading-19">æ„å»ºé•¿ä¸Šä¸‹æ–‡ Prompt</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">question</span> = (
    "Who is the main protagonist of the novel, "
    "and how does her personality evolve throughout the story?"
)

<span class="hljs-attr">template</span> = <span class="hljs-string">"""
Please read the following novel and answer the question below.

&lt;novel&gt;
{novel}
&lt;/novel&gt;

Question:
{question}

Format your response as:
"Therefore, the answer is (your answer here)"
"""</span>

<span class="hljs-attr">prompt</span> = template.format(
    <span class="hljs-attr">novel</span>=novel_text,
    <span class="hljs-attr">question</span>=question
)
</code></pre>
<h3 data-id="heading-20">åˆ†è¯å¹¶è¿è¡Œæ¨ç†</h3>
<p>é•¿ä¸Šä¸‹æ–‡æ¨ç†å¯¹ GPU èµ„æºæ¶ˆè€—è¾ƒå¤§ï¼Œå› æ­¤è¯·ç¡®ä¿æ‚¨æ‹¥æœ‰å……è¶³çš„ GPU æ˜¾å­˜ã€‚å¦‚æœ H100 GPU Droplet ä¸å¤Ÿç”¨ï¼Œå¯ä»¥è€ƒè™‘æ›¿æ¢æˆ DigitalOcean äº‘å¹³å°ä¸Šçš„å…¶å®ƒ GPU ï¼Œæ¯”å¦‚ H200ã€MI325 X ç­‰ã€‚ç”±äº GPU Droplet çš„å¸‚åœºéœ€æ±‚è¾ƒå¤§ï¼Œå¦‚éœ€äº†è§£å®é™…çš„ GPU å‰©ä½™åº“å­˜ï¼Œå¯å’¨è¯¢ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aidroplet.com%2F" target="_blank" title="https://www.aidroplet.com/" ref="nofollow noopener noreferrer">DigitalOcean ä¸­å›½åŒºç‹¬å®¶æˆ˜ç•¥åˆä½œä¼™ä¼´å“æ™®äº‘ AI Droplet</a>ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">messages</span> = [
    {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: prompt}
]

<span class="hljs-attr">text</span> = tokenizer.apply_chat_template(
    messages,
    <span class="hljs-attr">tokenize</span>=<span class="hljs-literal">False</span>,
    <span class="hljs-attr">add_generation_prompt</span>=<span class="hljs-literal">True</span>
)

<span class="hljs-attr">inputs</span> = tokenizer(
    <span class="hljs-section">[text]</span>,
    <span class="hljs-attr">return_tensors</span>=<span class="hljs-string">"pt"</span>
).to(model.device)

with torch.no_grad():
    <span class="hljs-attr">outputs</span> = model.generate(
        **inputs,
        <span class="hljs-attr">max_new_tokens</span>=<span class="hljs-number">2000</span>,
        <span class="hljs-attr">temperature</span>=<span class="hljs-number">0.7</span>,
        <span class="hljs-attr">top_p</span>=<span class="hljs-number">0.95</span>
    )
</code></pre>
<h3 data-id="heading-21">æå–æ¨ç†è¿‡ç¨‹ä¸æœ€ç»ˆç­”æ¡ˆ</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">output_ids</span> = outputs[<span class="hljs-number">0</span>][len(inputs.input_ids[<span class="hljs-number">0</span>]):].tolist()

try:
    <span class="hljs-comment"># &lt;/think&gt; çš„ token id</span>
    <span class="hljs-attr">end_think_idx</span> = len(output_ids) - output_ids[::-<span class="hljs-number">1</span>].index(<span class="hljs-number">151668</span>)
except ValueError:
    <span class="hljs-attr">end_think_idx</span> = <span class="hljs-number">0</span>

<span class="hljs-attr">thinking</span> = tokenizer.decode(
    output_ids<span class="hljs-section">[:end_think_idx]</span>,
    <span class="hljs-attr">skip_special_tokens</span>=<span class="hljs-literal">True</span>
).strip()

<span class="hljs-attr">final_answer</span> = tokenizer.decode(
    output_ids<span class="hljs-section">[end_think_idx:]</span>,
    <span class="hljs-attr">skip_special_tokens</span>=<span class="hljs-literal">True</span>
).strip()

print("Reasoning:\n", thinking)
print("\nAnswer:\n", final_answer)
</code></pre>
<p>å¦‚æœå°è¯´å†…å®¹å¤§åˆ°è¿ 256K token ä¹Ÿæ”¾ä¸ä¸‹ï¼Œå¯ä»¥è¿™æ ·åšï¼š</p>
<ul>
<li>å°†æ–‡æœ¬åˆ‡åˆ†ä¸ºå¤šä¸ªå—ï¼ˆå¦‚æŒ‰ç« èŠ‚ï¼‰</li>
<li>ä¾æ¬¡è¾“å…¥æ¨¡å‹</li>
<li>è®© QwenLong-L1.5 åœ¨å†…éƒ¨æ›´æ–°è®°å¿†</li>
<li>åœ¨å¤„ç†å®Œæ‰€æœ‰å—åå†æé—®</li>
</ul>
<h2 data-id="heading-22">ç°å®ä¸­å·²æœ‰çš„åº”ç”¨åœºæ™¯</h2>
<p>QwenLong-L1.5 éå¸¸é€‚åˆéœ€è¦ç†è§£å’Œæ¨ç†æµ·é‡ä¿¡æ¯çš„åº”ç”¨ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>è¯„ä¼°å†—é•¿çš„æ³•å¾‹æˆ–è´¢åŠ¡æ–‡ä»¶</li>
<li>æ€»ç»“ä¸ç»¼åˆå¤§é‡ç ”ç©¶è®ºæ–‡</li>
<li>æ„å»ºéœ€è¦åœ¨é•¿æ—¶é—´äº¤äº’ä¸­ä¿æŒä¸Šä¸‹æ–‡çš„å¯¹è¯å¼æ™ºèƒ½ä½“</li>
</ul>
<p>å®ƒåŒæ ·é€‚ç”¨äºä¼ä¸šçº§çŸ¥è¯†åŠ©æ‰‹ï¼Œå°†å¤šä¸ªæ–‡æ¡£çš„æ•°æ®æ•´åˆåè¾“å‡ºç²¾ç¡®ä¸”å…·å¤‡ä¸Šä¸‹æ–‡æ„ŸçŸ¥èƒ½åŠ›çš„ç­”æ¡ˆï¼Œä¹Ÿé€‚åˆéœ€è¦è·¨å¤šæ­¥éª¤ç›‘æ§æŒ‡ä»¤ä¸æ‰§è¡Œç»“æœçš„å·¥å…·å‹ AI Agentã€‚</p>
<h2 data-id="heading-23">å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰</h2>
<p><strong>ä»€ä¹ˆæ˜¯ QwenLong-L1.5ï¼Ÿ</strong> QwenLong-L1.5 æ˜¯ç”±é˜¿é‡Œé€šä¹‰å®éªŒå®¤å¼€å‘çš„ä¸€æ¬¾é•¿ä¸Šä¸‹æ–‡æ¨ç†æ¨¡å‹ï¼ŒåŸºäº Qwen3-30B-A3B-Thinking æ„å»ºï¼Œå¹¶é€šè¿‡èšç„¦äºè®°å¿†ç®¡ç†ä¸å¼ºåŒ–å­¦ä¹ çš„åè®­ç»ƒæŠ€æœ¯è¿›è¡Œå¢å¼ºã€‚</p>
<p><strong>QwenLong-L1.5 ä¸æ ‡å‡†å¤§æ¨¡å‹</strong>â€‹<strong>æœ‰ä½•ä¸åŒï¼Ÿ</strong> ä¸åœ¨è¶…é•¿è¾“å…¥åœºæ™¯ä¸‹è¡¨ç°åƒåŠ›çš„ä¼ ç»Ÿå¤§æ¨¡å‹ä¸åŒï¼ŒQwenLong-L1.5 å€ŸåŠ©è®°å¿†æ¡†æ¶ä¸ä¸“é—¨è®¾è®¡çš„è®­ç»ƒç­–ç•¥ï¼Œèƒ½å¤Ÿåœ¨è¶…è¿‡å…¶ç‰©ç†ä¸Šä¸‹æ–‡çª—å£é•¿åº¦çš„æ–‡æ¡£ä¸Šè¿›è¡Œæ¨ç†ã€‚</p>
<p><strong>QwenLong-L1.5 çš„æœ€å¤§ä¸Šä¸‹æ–‡é•¿åº¦æ˜¯å¤šå°‘ï¼Ÿ</strong> è¯¥æ¨¡å‹åŸç”Ÿä¸Šä¸‹æ–‡çª—å£ä¸º 256K tokenï¼Œä½†å…¶å†…å­˜ç®¡ç†æ¡†æ¶ä½¿å…¶èƒ½å¤Ÿæœ‰æ•ˆå¤„ç†è¿œè¶…è¿™ä¸€ä¸Šé™çš„ä¿¡æ¯ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ DigitalOcean â€‹GPU</strong>â€‹<strong>â€‹â€‹ è¿è¡Œ QwenLong-L1.5ï¼Ÿâ€‹</strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aidroplet.com%2Fproduct%2Fgpu%2F" target="_blank" title="https://www.aidroplet.com/product/gpu/" ref="nofollow noopener noreferrer">DigitalOcean GPU Droplet</a> æä¾›é«˜æ€§èƒ½ GPUã€å¯é¢„æµ‹çš„å®šä»·ä»¥åŠä¾¿æ·çš„éƒ¨ç½²æµç¨‹ï¼Œéå¸¸é€‚åˆåœ¨ç”Ÿäº§æˆ–ç ”ç©¶ç¯å¢ƒä¸­è¿è¡Œåƒ QwenLong-L1.5 è¿™æ ·çš„å¤§æ¨¡å‹ã€‚</p>
<p><strong>QwenLong-L1.5 æ˜¯å¦ä¹Ÿé€‚ç”¨äºé€šç”¨æ¨ç†ä»»åŠ¡ï¼Ÿ</strong> æ˜¯çš„ã€‚é•¿ä¸Šä¸‹æ–‡èƒ½åŠ›çš„æå‡ä¹Ÿä¼šå¸¦æ¥åœ¨æ•°å­¦ã€å·¥å…·è°ƒç”¨ä»¥åŠé•¿å¯¹è¯ç­‰é€šç”¨é¢†åŸŸçš„æ•´ä½“æ€§èƒ½æå‡ã€‚</p>
<h2 data-id="heading-24">å†™åœ¨æœ€å</h2>
<p>QwenLong-L1.5 æ‰€å±•ç°çš„å¼ºå¤§é•¿ä¸Šä¸‹æ–‡æ¨ç†èƒ½åŠ›ï¼Œå¹¶ä¸ä»…å–å†³äºä¸Šä¸‹æ–‡çª—å£çš„å¤§å°ï¼Œæ›´ä¾èµ–äºæ¨¡å‹åœ¨â€œå¦‚ä½•æ¨ç†ã€å¦‚ä½•ä¿ç•™ä¿¡æ¯ä»¥åŠå¦‚ä½•éšæ—¶é—´æ›´æ–°ä¿¡æ¯â€æ–¹é¢çš„è®­ç»ƒæ–¹å¼ã€‚é€šè¿‡ç»“åˆç»“æ„åŒ–æ•°æ®åˆæˆã€ä¸“é—¨é¢å‘é•¿åºåˆ—çš„å¼ºåŒ–å­¦ä¹ æŠ€æœ¯ä»¥åŠå¤šé˜¶æ®µå†…å­˜ç®¡ç†æ¡†æ¶ï¼ŒQwenLong-L1.5 èƒ½å¤Ÿèƒœä»»æ¶‰åŠè¶…å¤§æ–‡æ¡£ä¸é•¿æ—¶é—´äº¤äº’çš„å¤æ‚ä»»åŠ¡ã€‚</p>
<p>å½“éƒ¨ç½²åœ¨ DigitalOcean GPU Droplet ä¸Šæ—¶ï¼Œå®ƒå¯ä»¥æˆä¸ºæ–‡æ¡£åˆ†æã€ç ”ç©¶ç»¼è¿°ä¸ä¼ä¸šçŸ¥è¯†åŠ©æ‰‹ç­‰å®é™…åœºæ™¯ä¸­å¯è¡Œä¸”å¯æ‰©å±•çš„è§£å†³æ–¹æ¡ˆã€‚æ€»ä½“æ¥çœ‹ï¼ŒQwenLong-L1.5 æä¾›äº†ä¸€ç§å¼ºå¤§è€Œé€æ˜çš„é•¿ä¸Šä¸‹æ–‡æ¨ç†æ–¹æ³•ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å…¼å…·å‡ºè‰²æ€§èƒ½ä¸è‰¯å¥½å®ç”¨æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»ç»å…¸é—®é¢˜å…¥æ‰‹ï¼Œåƒé€åŠ¨æ€è§„åˆ’æ ¸å¿ƒï¼ˆDPäº”éƒ¨æ›²å®æˆ˜ï¼‰]]></title>    <link>https://juejin.cn/post/7591207451778875418</link>    <guid>https://juejin.cn/post/7591207451778875418</guid>    <pubDate>2026-01-04T08:47:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591207451778875418" data-draft-id="7591322050239234086" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»ç»å…¸é—®é¢˜å…¥æ‰‹ï¼Œåƒé€åŠ¨æ€è§„åˆ’æ ¸å¿ƒï¼ˆDPäº”éƒ¨æ›²å®æˆ˜ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-04T08:47:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¢œé…±"/> <meta itemprop="url" content="https://juejin.cn/user/905653309941495"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»ç»å…¸é—®é¢˜å…¥æ‰‹ï¼Œåƒé€åŠ¨æ€è§„åˆ’æ ¸å¿ƒï¼ˆDPäº”éƒ¨æ›²å®æˆ˜ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/905653309941495/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¢œé…±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T08:47:09.000Z" title="Sun Jan 04 2026 08:47:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»27åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»ç»å…¸é—®é¢˜å…¥æ‰‹ï¼Œåƒé€åŠ¨æ€è§„åˆ’æ ¸å¿ƒï¼ˆDPäº”éƒ¨æ›²å®æˆ˜ï¼‰</h2>
<p>åŠ¨æ€è§„åˆ’ï¼ˆDynamic Programmingï¼Œç®€ç§°DPï¼‰æ˜¯ç®—æ³•é¢è¯•ä¸­çš„é«˜é¢‘è€ƒç‚¹ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ã€Œå°†å¤æ‚é—®é¢˜æ‹†è§£ä¸ºé‡å å­é—®é¢˜ï¼Œé€šè¿‡å­˜å‚¨å­é—®é¢˜çš„è§£é¿å…é‡å¤è®¡ç®—ã€ã€‚æƒ³è¦æŒæ¡DPï¼Œæœ€æœ‰æ•ˆçš„æ–¹å¼æ˜¯ä»ç»å…¸é—®é¢˜å‡ºå‘ï¼Œç”¨ã€ŒDPäº”éƒ¨æ›²ã€çš„æ¡†æ¶æ‹†è§£é—®é¢˜â€”â€”è¿™æ˜¯ä¸€å¥—æ ‡å‡†åŒ–çš„åˆ†ææ–¹æ³•ï¼Œèƒ½å¸®æˆ‘ä»¬å¿«é€Ÿç†æ¸…æ€è·¯ã€å†™å‡ºæ­£ç¡®ä»£ç ã€‚</p>
<p>æœ¬æ–‡å°†ç»“åˆ<strong>æ–æ³¢é‚£å¥‘æ•°ã€çˆ¬æ¥¼æ¢¯ã€æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯ã€æœºå™¨äººè·¯å¾„ï¼ˆå«éšœç¢ç‰©ï¼‰ã€æ•´æ•°æ‹†åˆ†ã€ä¸åŒçš„BSTã€01èƒŒåŒ…</strong>ç­‰8ä¸ªç»å…¸é—®é¢˜ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ã€ŒDPäº”éƒ¨æ›²ã€åˆ†æå’Œå®ç°åŠ¨æ€è§„åˆ’è§£æ³•ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€åŠ¨æ€è§„åˆ’äº”éƒ¨æ›²ï¼ˆæ ¸å¿ƒæ¡†æ¶ï¼‰</h3>
<p>æ— è®ºä»€ä¹ˆDPé—®é¢˜ï¼Œéƒ½å¯ä»¥æŒ‰ä»¥ä¸‹5ä¸ªæ­¥éª¤æ‹†è§£ï¼Œè¿™æ˜¯è§£å†³DPé—®é¢˜çš„ã€Œä¸‡èƒ½é’¥åŒ™ã€ï¼š</p>
<ol>
<li>
<p><strong>ç¡®å®šdpæ•°ç»„åŠä¸‹æ ‡çš„å«ä¹‰</strong>ï¼šæ˜ç¡®<code>dp[i]</code>ï¼ˆæˆ–äºŒç»´<code>dp[i][j]</code>ï¼‰ä»£è¡¨ä»€ä¹ˆç‰©ç†æ„ä¹‰ï¼ˆæ¯”å¦‚"ç¬¬ié˜¶å°é˜¶çš„çˆ¬æ³•æ•°"ï¼‰ï¼›</p>
</li>
<li>
<p><strong>ç¡®å®šé€’æ¨å…¬å¼</strong>ï¼šæ‰¾åˆ°<code>dp[i]</code>ä¸å­é—®é¢˜<code>dp[i-1]</code>/<code>dp[i-2]</code>ç­‰çš„ä¾èµ–å…³ç³»ï¼ˆæ ¸å¿ƒï¼‰ï¼›</p>
</li>
<li>
<p><strong>dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–</strong>ï¼šæ ¹æ®é—®é¢˜è¾¹ç•Œæ¡ä»¶ï¼Œåˆå§‹åŒ–æ— æ³•é€šè¿‡é€’æ¨å¾—åˆ°çš„åŸºç¡€å€¼ï¼›</p>
</li>
<li>
<p><strong>ç¡®å®šéå†é¡ºåº</strong>ï¼šä¿è¯è®¡ç®—<code>dp[i]</code>æ—¶ï¼Œå…¶ä¾èµ–çš„å­é—®é¢˜å·²ç»è¢«è®¡ç®—å®Œæˆï¼›</p>
</li>
<li>
<p><strong>æ‰“å°dpæ•°ç»„ï¼ˆéªŒè¯ï¼‰</strong>ï¼šé€šè¿‡æ‰“å°ä¸­é—´ç»“æœï¼ŒéªŒè¯é€’æ¨é€»è¾‘æ˜¯å¦æ­£ç¡®ï¼ˆè°ƒè¯•å¿…å¤‡ï¼‰ã€‚</p>
</li>
</ol>
<p>ä¸‹é¢ç»“åˆå…·ä½“é—®é¢˜ï¼Œé€ä¸€å®æˆ˜è¿™å¥—æ¡†æ¶ã€‚</p>
<h3 data-id="heading-2">äºŒã€ç»å…¸é—®é¢˜å®æˆ˜ï¼šä»åŸºç¡€åˆ°è¿›é˜¶</h3>
<h4 data-id="heading-3">é—®é¢˜1ï¼šæ–æ³¢é‚£å¥‘æ•°ï¼ˆå…¥é—¨ï¼‰</h4>
<p><strong>LeetCode é“¾æ¥</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Ffibonacci-number%2F" target="_blank" title="https://leetcode.cn/problems/fibonacci-number/" ref="nofollow noopener noreferrer">509. æ–æ³¢é‚£å¥‘æ•°</a></p>
<h5 data-id="heading-4">é—®é¢˜æè¿°</h5>
<p>æ–æ³¢é‚£å¥‘æ•°é€šå¸¸ç”¨ <code>F(n)</code> è¡¨ç¤ºï¼Œå½¢æˆçš„åºåˆ—ç§°ä¸º<strong>æ–æ³¢é‚£å¥‘æ•°åˆ—</strong>ã€‚è¯¥æ•°åˆ—ç”± <code>0</code> å’Œ <code>1</code> å¼€å§‹ï¼Œåé¢çš„æ¯ä¸€é¡¹æ•°å­—éƒ½æ˜¯å‰é¢ä¸¤é¡¹æ•°å­—çš„å’Œã€‚ä¹Ÿå°±æ˜¯ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">F</span>(<span class="hljs-number">0</span>) = <span class="hljs-number">0</span>ï¼Œ<span class="hljs-built_in">F</span>(<span class="hljs-number">1</span>) = <span class="hljs-number">1</span>
<span class="hljs-built_in">F</span>(n) = <span class="hljs-built_in">F</span>(n - <span class="hljs-number">1</span>) + <span class="hljs-built_in">F</span>(n - <span class="hljs-number">2</span>)ï¼Œå…¶ä¸­ n &gt; <span class="hljs-number">1</span>
</code></pre>
<p>ç»™å®š <code>n</code>ï¼Œè¯·è®¡ç®— <code>F(n)</code>ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">è¾“å…¥ï¼šn = <span class="hljs-number">2</span>
è¾“å‡ºï¼š<span class="hljs-number">1</span>
è§£é‡Šï¼š<span class="hljs-built_in">F</span>(<span class="hljs-number">2</span>) = <span class="hljs-built_in">F</span>(<span class="hljs-number">1</span>) + <span class="hljs-built_in">F</span>(<span class="hljs-number">0</span>) = <span class="hljs-number">1</span> + <span class="hljs-number">0</span> = <span class="hljs-number">1</span>
</code></pre>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">è¾“å…¥ï¼šn = <span class="hljs-number">3</span>
è¾“å‡ºï¼š<span class="hljs-number">2</span>
è§£é‡Šï¼š<span class="hljs-built_in">F</span>(<span class="hljs-number">3</span>) = <span class="hljs-built_in">F</span>(<span class="hljs-number">2</span>) + <span class="hljs-built_in">F</span>(<span class="hljs-number">1</span>) = <span class="hljs-number">1</span> + <span class="hljs-number">1</span> = <span class="hljs-number">2</span>
</code></pre>
<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">è¾“å…¥ï¼šn = <span class="hljs-number">4</span>
è¾“å‡ºï¼š<span class="hljs-number">3</span>
è§£é‡Šï¼š<span class="hljs-built_in">F</span>(<span class="hljs-number">4</span>) = <span class="hljs-built_in">F</span>(<span class="hljs-number">3</span>) + <span class="hljs-built_in">F</span>(<span class="hljs-number">2</span>) = <span class="hljs-number">2</span> + <span class="hljs-number">1</span> = <span class="hljs-number">3</span>
</code></pre>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>0 &lt;= n &lt;= 30</code></li>
</ul>
<h5 data-id="heading-5">DPäº”éƒ¨æ›²åˆ†æ</h5>
<ol>
<li>
<p><strong>dpæ•°ç»„å«ä¹‰</strong>ï¼š<code>dp[i]</code> è¡¨ç¤ºç¬¬iä¸ªæ–æ³¢é‚£å¥‘æ•°ï¼Œä¸‹æ ‡iå¯¹åº”æ–æ³¢é‚£å¥‘æ•°çš„åºå·ï¼›</p>
</li>
<li>
<p><strong>é€’æ¨å…¬å¼</strong>ï¼š<code>dp[i] = dp[i-1] + dp[i-2]</code>ï¼›</p>
</li>
<li>
<p><strong>åˆå§‹åŒ–</strong>ï¼š<code>dp[0] = 0</code>ï¼Œ<code>dp[1] = 1</code>ï¼›</p>
</li>
<li>
<p><strong>éå†é¡ºåº</strong>ï¼šä»å·¦åˆ°å³ï¼ˆiä»2åˆ°nï¼‰ï¼Œä¿è¯è®¡ç®—<code>dp[i]</code>æ—¶ï¼Œ<code>dp[i-1]</code>å’Œ<code>dp[i-2]</code>å·²è®¡ç®—ï¼›</p>
</li>
<li>
<p><strong>æ‰“å°éªŒè¯</strong>ï¼šéå†è¿‡ç¨‹ä¸­æ‰“å°dpæ•°ç»„ï¼ŒéªŒè¯æ¯ä¸€æ­¥çš„å’Œæ˜¯å¦æ­£ç¡®ã€‚</p>
</li>
</ol>
<h5 data-id="heading-6">å…·ä½“åˆ†æ</h5>
<p><strong>ä¸ºä»€ä¹ˆç”¨åŠ¨æ€è§„åˆ’ï¼Ÿ</strong></p>
<p>æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å®šä¹‰æœ¬èº«å°±æ˜¯é€’å½’çš„ï¼š<code>F(n) = F(n-1) + F(n-2)</code>ã€‚å¦‚æœç”¨é€’å½’ç›´æ¥è®¡ç®—ï¼Œä¼šæœ‰å¤§é‡é‡å¤è®¡ç®—ï¼ˆå¦‚è®¡ç®— F(5) æ—¶ä¼šé‡å¤è®¡ç®— F(3)ã€F(2) ç­‰ï¼‰ã€‚</p>
<p><strong>æ€è·¯æ¨å¯¼ï¼š</strong></p>
<ol>
<li>
<p><strong>è¯†åˆ«é‡å å­é—®é¢˜</strong>ï¼šè®¡ç®— F(n) éœ€è¦ F(n-1) å’Œ F(n-2)ï¼Œè€Œè®¡ç®— F(n-1) åˆéœ€è¦ F(n-2) å’Œ F(n-3)ï¼Œå­˜åœ¨é‡å ã€‚</p>
</li>
<li>
<p><strong>çŠ¶æ€å®šä¹‰</strong>ï¼š<code>dp[i]</code> è¡¨ç¤ºç¬¬ i ä¸ªæ–æ³¢é‚£å¥‘æ•°ï¼Œè¿™æ˜¯æœ€ç›´è§‚çš„å®šä¹‰ã€‚</p>
</li>
<li>
<p><strong>çŠ¶æ€è½¬ç§»</strong>ï¼šé¢˜ç›®å·²ç»ç»™å‡ºäº†é€’æ¨å…³ç³»ï¼š<code>F(n) = F(n-1) + F(n-2)</code>ï¼Œç›´æ¥å¥—ç”¨å³å¯ã€‚</p>
</li>
<li>
<p><strong>è¾¹ç•Œæ¡ä»¶</strong>ï¼šé¢˜ç›®æ˜ç¡®ç»™å‡º F(0) = 0ï¼ŒF(1) = 1ï¼Œè¿™å°±æ˜¯åˆå§‹åŒ–ã€‚</p>
</li>
</ol>
<p><strong>æ‰§è¡Œè¿‡ç¨‹ç¤ºä¾‹ï¼ˆn=5ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">dp<span class="hljs-section">[0]</span> = 0  (åˆå§‹åŒ–)
dp<span class="hljs-section">[1]</span> = 1  (åˆå§‹åŒ–)
dp<span class="hljs-section">[2]</span> = dp<span class="hljs-section">[1]</span> + dp<span class="hljs-section">[0]</span> = 1 + <span class="hljs-attr">0</span> = <span class="hljs-number">1</span>
dp<span class="hljs-section">[3]</span> = dp<span class="hljs-section">[2]</span> + dp<span class="hljs-section">[1]</span> = 1 + <span class="hljs-attr">1</span> = <span class="hljs-number">2</span>
dp<span class="hljs-section">[4]</span> = dp<span class="hljs-section">[3]</span> + dp<span class="hljs-section">[2]</span> = 2 + <span class="hljs-attr">1</span> = <span class="hljs-number">3</span>
dp<span class="hljs-section">[5]</span> = dp<span class="hljs-section">[4]</span> + dp<span class="hljs-section">[3]</span> = 3 + <span class="hljs-attr">2</span> = <span class="hljs-number">5</span>
</code></pre>
<h5 data-id="heading-7">å®ç°ä»£ç ï¼ˆä¸¤ç§ç‰ˆæœ¬ï¼‰</h5>
<h6 data-id="heading-8">ç‰ˆæœ¬1ï¼šæ•°ç»„ç‰ˆï¼ˆç›´è§‚ï¼Œç©ºé—´O(n)ï¼‰</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fibo</span>(<span class="hljs-params">n</span>) {
  <span class="hljs-keyword">if</span> (n === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">if</span> (n === <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
  <span class="hljs-keyword">const</span> dp = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++) {
    dp[i] = dp[i - <span class="hljs-number">1</span>] + dp[i - <span class="hljs-number">2</span>];
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`dpæ•°ç»„æ›´æ–°ï¼š<span class="hljs-subst">${dp}</span>`</span>); <span class="hljs-comment">// æ‰“å°éªŒè¯</span>
  }
  <span class="hljs-keyword">return</span> dp[n];
}
</code></pre>
<h6 data-id="heading-9">ç‰ˆæœ¬2ï¼šç©ºé—´ä¼˜åŒ–ç‰ˆï¼ˆç©ºé—´O(1)ï¼‰</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fibo</span>(<span class="hljs-params">n</span>) {
  <span class="hljs-keyword">if</span> (n === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">if</span> (n === <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
  <span class="hljs-keyword">let</span> prevPrev = <span class="hljs-number">0</span>; <span class="hljs-comment">// å¯¹åº”dp[i-2]</span>
  <span class="hljs-keyword">let</span> prev = <span class="hljs-number">1</span>; <span class="hljs-comment">// å¯¹åº”dp[i-1]</span>
  <span class="hljs-keyword">let</span> current = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++) {
    current = prevPrev + prev;
    prevPrev = prev;
    prev = current;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç¬¬<span class="hljs-subst">${i}</span>ä¸ªæ–æ³¢é‚£å¥‘æ•°ï¼š<span class="hljs-subst">${current}</span>`</span>); <span class="hljs-comment">// æ‰“å°éªŒè¯</span>
  }
  <span class="hljs-keyword">return</span> current;
}
</code></pre>
<h4 data-id="heading-10">é—®é¢˜2ï¼šçˆ¬æ¥¼æ¢¯ï¼ˆåŸºç¡€ï¼‰</h4>
<p><strong>LeetCode é“¾æ¥</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fclimbing-stairs%2F" target="_blank" title="https://leetcode.cn/problems/climbing-stairs/" ref="nofollow noopener noreferrer">70. çˆ¬æ¥¼æ¢¯</a></p>
<h5 data-id="heading-11">é—®é¢˜æè¿°</h5>
<p>å‡è®¾ä½ æ­£åœ¨çˆ¬æ¥¼æ¢¯ã€‚éœ€è¦ <code>n</code> é˜¶ä½ æ‰èƒ½åˆ°è¾¾æ¥¼é¡¶ã€‚</p>
<p>æ¯æ¬¡ä½ å¯ä»¥çˆ¬ <code>1</code> æˆ– <code>2</code> ä¸ªå°é˜¶ã€‚ä½ æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶å‘¢ï¼Ÿ</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">è¾“å…¥ï¼š<span class="hljs-attr">n</span> = <span class="hljs-number">2</span>
è¾“å‡ºï¼š2
è§£é‡Šï¼šæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚
1. 1 é˜¶ + 1 é˜¶
2. 2 é˜¶
</code></pre>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">è¾“å…¥ï¼šn = 3
è¾“å‡ºï¼š3
è§£é‡Šï¼šæœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚
<span class="hljs-bullet">1.</span> 1 é˜¶ + 1 é˜¶ + 1 é˜¶
<span class="hljs-bullet">2.</span> 1 é˜¶ + 2 é˜¶
<span class="hljs-bullet">3.</span> 2 é˜¶ + 1 é˜¶
</code></pre>
<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">è¾“å…¥ï¼šn = 4
è¾“å‡ºï¼š5
è§£é‡Šï¼šæœ‰äº”ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚
<span class="hljs-bullet">1.</span> 1 é˜¶ + 1 é˜¶ + 1 é˜¶ + 1 é˜¶
<span class="hljs-bullet">2.</span> 1 é˜¶ + 1 é˜¶ + 2 é˜¶
<span class="hljs-bullet">3.</span> 1 é˜¶ + 2 é˜¶ + 1 é˜¶
<span class="hljs-bullet">4.</span> 2 é˜¶ + 1 é˜¶ + 1 é˜¶
<span class="hljs-bullet">5.</span> 2 é˜¶ + 2 é˜¶
</code></pre>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= n &lt;= 45</code></li>
</ul>
<h5 data-id="heading-12">DPäº”éƒ¨æ›²åˆ†æ</h5>
<ol>
<li>
<p><strong>dpæ•°ç»„å«ä¹‰</strong>ï¼š<code>dp[i]</code> è¡¨ç¤ºçˆ¬åˆ°ç¬¬ié˜¶å°é˜¶çš„ä¸åŒæ–¹æ³•æ•°ï¼›</p>
</li>
<li>
<p><strong>é€’æ¨å…¬å¼</strong>ï¼š<code>dp[i] = dp[i-1] + dp[i-2]</code>ï¼ˆåˆ°ç¬¬ié˜¶çš„æ–¹æ³•=åˆ°i-1é˜¶çˆ¬1æ­¥ + åˆ°i-2é˜¶çˆ¬2æ­¥ï¼‰ï¼›</p>
</li>
<li>
<p><strong>åˆå§‹åŒ–</strong>ï¼š<code>dp[1] = 1</code>ï¼ˆ1é˜¶åªæœ‰1ç§æ–¹æ³•ï¼‰ï¼Œ<code>dp[2] = 2</code>ï¼ˆ2é˜¶æœ‰2ç§æ–¹æ³•ï¼‰ï¼›</p>
</li>
<li>
<p><strong>éå†é¡ºåº</strong>ï¼šä»å·¦åˆ°å³ï¼ˆiä»3åˆ°nï¼‰ï¼›</p>
</li>
<li>
<p><strong>æ‰“å°éªŒè¯</strong>ï¼šéå†è¿‡ç¨‹ä¸­æ‰“å°<code>dp[i]</code>ï¼ŒéªŒè¯æ–¹æ³•æ•°æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚</p>
</li>
</ol>
<h5 data-id="heading-13">å…·ä½“åˆ†æ</h5>
<p><strong>ä¸ºä»€ä¹ˆç”¨åŠ¨æ€è§„åˆ’ï¼Ÿ</strong></p>
<p>è¦åˆ°è¾¾ç¬¬ n é˜¶ï¼Œæœ€åä¸€æ­¥å¯èƒ½æ˜¯ä»ç¬¬ n-1 é˜¶çˆ¬ 1 æ­¥ï¼Œæˆ–è€…ä»ç¬¬ n-2 é˜¶çˆ¬ 2 æ­¥ã€‚è¿™ä¸¤ç§æƒ…å†µæ˜¯<strong>äº’æ–¥ä¸”å®Œå¤‡</strong>çš„ï¼ˆè¦†ç›–æ‰€æœ‰å¯èƒ½ï¼‰ï¼Œæ‰€ä»¥åˆ°è¾¾ç¬¬ n é˜¶çš„æ–¹æ³•æ•° = åˆ°è¾¾ç¬¬ n-1 é˜¶çš„æ–¹æ³•æ•° + åˆ°è¾¾ç¬¬ n-2 é˜¶çš„æ–¹æ³•æ•°ã€‚</p>
<p><strong>æ€è·¯æ¨å¯¼ï¼š</strong></p>
<ol>
<li>
<p><strong>æœ€åä¸€æ­¥åˆ†æ</strong>ï¼š</p>
<ul>
<li>å¦‚æœæœ€åä¸€æ­¥æ˜¯çˆ¬ 1 é˜¶ï¼Œé‚£ä¹ˆä¹‹å‰å¿…é¡»åˆ°è¾¾ç¬¬ n-1 é˜¶</li>
<li>å¦‚æœæœ€åä¸€æ­¥æ˜¯çˆ¬ 2 é˜¶ï¼Œé‚£ä¹ˆä¹‹å‰å¿…é¡»åˆ°è¾¾ç¬¬ n-2 é˜¶</li>
<li>è¿™ä¸¤ç§æƒ…å†µäº’ä¸é‡å ï¼Œä¸”è¦†ç›–æ‰€æœ‰å¯èƒ½</li>
</ul>
</li>
<li>
<p><strong>çŠ¶æ€å®šä¹‰</strong>ï¼š<code>dp[i]</code> è¡¨ç¤ºåˆ°è¾¾ç¬¬ i é˜¶çš„æ–¹æ³•æ•°ã€‚</p>
</li>
<li>
<p><strong>çŠ¶æ€è½¬ç§»</strong>ï¼š<code>dp[i] = dp[i-1] + dp[i-2]</code></p>
<ul>
<li><code>dp[i-1]</code>ï¼šä»ç¬¬ i-1 é˜¶çˆ¬ 1 æ­¥åˆ°è¾¾ç¬¬ i é˜¶çš„æ–¹æ³•æ•°</li>
<li><code>dp[i-2]</code>ï¼šä»ç¬¬ i-2 é˜¶çˆ¬ 2 æ­¥åˆ°è¾¾ç¬¬ i é˜¶çš„æ–¹æ³•æ•°</li>
</ul>
</li>
<li>
<p><strong>è¾¹ç•Œæ¡ä»¶</strong>ï¼š</p>
<ul>
<li><code>dp[1] = 1</code>ï¼šåªæœ‰ 1 ç§æ–¹æ³•ï¼ˆç›´æ¥çˆ¬ 1 é˜¶ï¼‰</li>
<li><code>dp[2] = 2</code>ï¼šæœ‰ 2 ç§æ–¹æ³•ï¼ˆ1+1 æˆ– 2ï¼‰</li>
</ul>
</li>
</ol>
<p><strong>æ‰§è¡Œè¿‡ç¨‹ç¤ºä¾‹ï¼ˆn=5ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">dp<span class="hljs-section">[1]</span> = 1  (åˆå§‹åŒ–ï¼š1é˜¶åªæœ‰1ç§æ–¹æ³•)
dp<span class="hljs-section">[2]</span> = 2  (åˆå§‹åŒ–ï¼š2é˜¶æœ‰2ç§æ–¹æ³•ï¼š1+1 æˆ– 2)
dp<span class="hljs-section">[3]</span> = dp<span class="hljs-section">[2]</span> + dp<span class="hljs-section">[1]</span> = 2 + <span class="hljs-attr">1</span> = <span class="hljs-number">3</span>  (ä»<span class="hljs-number">2</span>é˜¶çˆ¬<span class="hljs-number">1</span>æ­¥ + ä»<span class="hljs-number">1</span>é˜¶çˆ¬<span class="hljs-number">2</span>æ­¥)
dp<span class="hljs-section">[4]</span> = dp<span class="hljs-section">[3]</span> + dp<span class="hljs-section">[2]</span> = 3 + <span class="hljs-attr">2</span> = <span class="hljs-number">5</span>  (ä»<span class="hljs-number">3</span>é˜¶çˆ¬<span class="hljs-number">1</span>æ­¥ + ä»<span class="hljs-number">2</span>é˜¶çˆ¬<span class="hljs-number">2</span>æ­¥)
dp<span class="hljs-section">[5]</span> = dp<span class="hljs-section">[4]</span> + dp<span class="hljs-section">[3]</span> = 5 + <span class="hljs-attr">3</span> = <span class="hljs-number">8</span>  (ä»<span class="hljs-number">4</span>é˜¶çˆ¬<span class="hljs-number">1</span>æ­¥ + ä»<span class="hljs-number">3</span>é˜¶çˆ¬<span class="hljs-number">2</span>æ­¥)
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼šè¿™ä¸ªé—®é¢˜æœ¬è´¨ä¸Šå°±æ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼<code>dp[1]=1, dp[2]=2, dp[3]=3, dp[4]=5, dp[5]=8...</code></p>
<h5 data-id="heading-14">å®ç°ä»£ç ï¼ˆç©ºé—´ä¼˜åŒ–ç‰ˆï¼‰</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">climbStairs</span>(<span class="hljs-params">n</span>) {
  <span class="hljs-keyword">if</span> (n === <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
  <span class="hljs-keyword">if</span> (n === <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;
  <span class="hljs-keyword">let</span> prevPrev = <span class="hljs-number">1</span>; <span class="hljs-comment">// dp[i-2]</span>
  <span class="hljs-keyword">let</span> prev = <span class="hljs-number">2</span>; <span class="hljs-comment">// dp[i-1]</span>
  <span class="hljs-keyword">let</span> cur;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">3</span>; i &lt;= n; i++) {
    cur = prevPrev + prev;
    prevPrev = prev;
    prev = cur;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`çˆ¬åˆ°ç¬¬<span class="hljs-subst">${i}</span>é˜¶çš„æ–¹æ³•æ•°ï¼š<span class="hljs-subst">${cur}</span>`</span>); <span class="hljs-comment">// æ‰“å°éªŒè¯</span>
  }
  <span class="hljs-keyword">return</span> cur;
}
</code></pre>
<h4 data-id="heading-15">é—®é¢˜3ï¼šæœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯ï¼ˆè¿›é˜¶ï¼‰</h4>
<p><strong>LeetCode é“¾æ¥</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fmin-cost-climbing-stairs%2F" target="_blank" title="https://leetcode.cn/problems/min-cost-climbing-stairs/" ref="nofollow noopener noreferrer">746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯</a></p>
<h5 data-id="heading-16">é—®é¢˜æè¿°</h5>
<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>cost</code>ï¼Œå…¶ä¸­ <code>cost[i]</code> æ˜¯ä»æ¥¼æ¢¯ç¬¬ <code>i</code> ä¸ªå°é˜¶å‘ä¸Šçˆ¬éœ€è¦æ”¯ä»˜çš„è´¹ç”¨ã€‚ä¸€æ—¦ä½ æ”¯ä»˜æ­¤è´¹ç”¨ï¼Œå³å¯é€‰æ‹©å‘ä¸Šçˆ¬ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ªå°é˜¶ã€‚</p>
<p>ä½ å¯ä»¥é€‰æ‹©ä»ä¸‹æ ‡ä¸º <code>0</code> æˆ–ä¸‹æ ‡ä¸º <code>1</code> çš„å°é˜¶å¼€å§‹çˆ¬æ¥¼æ¢¯ã€‚</p>
<p>è¯·ä½ è®¡ç®—å¹¶è¿”å›è¾¾åˆ°æ¥¼æ¢¯é¡¶éƒ¨çš„æœ€ä½èŠ±è´¹ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">è¾“å…¥ï¼š<span class="hljs-attr">cost</span> = [<span class="hljs-number">10</span>,<span class="hljs-number">15</span>,<span class="hljs-number">20</span>]
è¾“å‡ºï¼š15
è§£é‡Šï¼šä½ å°†ä»ä¸‹æ ‡ä¸º 1 çš„å°é˜¶å¼€å§‹ã€‚
- æ”¯ä»˜ 15 ï¼Œå‘ä¸Šçˆ¬ä¸¤ä¸ªå°é˜¶ï¼Œåˆ°è¾¾æ¥¼æ¢¯é¡¶éƒ¨ã€‚
æ€»èŠ±è´¹ä¸º 15 ã€‚
</code></pre>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<pre><code class="hljs language-diff" lang="diff">è¾“å…¥ï¼šcost = [1,100,1,1,1,100,1,1,100,1]
è¾“å‡ºï¼š6
è§£é‡Šï¼šä½ å°†ä»ä¸‹æ ‡ä¸º 0 çš„å°é˜¶å¼€å§‹ã€‚
<span class="hljs-deletion">- æ”¯ä»˜ 1 ï¼Œå‘ä¸Šçˆ¬ä¸¤ä¸ªå°é˜¶ï¼Œåˆ°è¾¾ä¸‹æ ‡ä¸º 2 çš„å°é˜¶ã€‚</span>
<span class="hljs-deletion">- æ”¯ä»˜ 1 ï¼Œå‘ä¸Šçˆ¬ä¸¤ä¸ªå°é˜¶ï¼Œåˆ°è¾¾ä¸‹æ ‡ä¸º 4 çš„å°é˜¶ã€‚</span>
<span class="hljs-deletion">- æ”¯ä»˜ 1 ï¼Œå‘ä¸Šçˆ¬ä¸¤ä¸ªå°é˜¶ï¼Œåˆ°è¾¾ä¸‹æ ‡ä¸º 6 çš„å°é˜¶ã€‚</span>
<span class="hljs-deletion">- æ”¯ä»˜ 1 ï¼Œå‘ä¸Šçˆ¬ä¸€ä¸ªå°é˜¶ï¼Œåˆ°è¾¾ä¸‹æ ‡ä¸º 7 çš„å°é˜¶ã€‚</span>
<span class="hljs-deletion">- æ”¯ä»˜ 1 ï¼Œå‘ä¸Šçˆ¬ä¸¤ä¸ªå°é˜¶ï¼Œåˆ°è¾¾ä¸‹æ ‡ä¸º 9 çš„å°é˜¶ã€‚</span>
<span class="hljs-deletion">- æ”¯ä»˜ 1 ï¼Œå‘ä¸Šçˆ¬ä¸€ä¸ªå°é˜¶ï¼Œåˆ°è¾¾æ¥¼æ¢¯é¡¶éƒ¨ã€‚</span>
æ€»èŠ±è´¹ä¸º 6 ã€‚
</code></pre>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>2 &lt;= cost.length &lt;= 1000</code></li>
<li><code>0 &lt;= cost[i] &lt;= 999</code></li>
</ul>
<h5 data-id="heading-17">DPäº”éƒ¨æ›²åˆ†æ</h5>
<ol>
<li>
<p><strong>dpæ•°ç»„å«ä¹‰</strong>ï¼š<code>dp[i]</code> è¡¨ç¤ºåˆ°è¾¾ç¬¬ié˜¶é¡¶éƒ¨çš„æœ€ä½èŠ±è´¹ï¼ˆiä¸ºé¡¶éƒ¨ä¸‹æ ‡ï¼Œå¯¹åº”è¶…å‡ºæœ€åä¸€ä¸ªå°é˜¶çš„ä½ç½®ï¼‰ï¼›</p>
</li>
<li>
<p><strong>é€’æ¨å…¬å¼</strong>ï¼š<code>dp[i] = Math.min(dp[i-2] + cost[i-2], dp[i-1] + cost[i-1])</code>ï¼ˆä»i-2é˜¶çˆ¬2æ­¥ æˆ– ä»i-1é˜¶çˆ¬1æ­¥ï¼Œå–æœ€å°å€¼ï¼‰ï¼›</p>
</li>
<li>
<p><strong>åˆå§‹åŒ–</strong>ï¼š<code>dp[0] = 0</code>ï¼ˆåˆå§‹ä½ç½®ï¼Œæ— èŠ±è´¹ï¼‰ï¼Œ<code>dp[1] = 0</code>ï¼ˆç«™åœ¨1é˜¶å°é˜¶å…è´¹ï¼‰ï¼›</p>
</li>
<li>
<p><strong>éå†é¡ºåº</strong>ï¼šä»å·¦åˆ°å³ï¼ˆiä»2åˆ°nï¼Œnä¸º<code>cost</code>é•¿åº¦ï¼‰ï¼›</p>
</li>
<li>
<p><strong>æ‰“å°éªŒè¯</strong>ï¼šéå†è¿‡ç¨‹ä¸­æ‰“å°<code>dp[i]</code>ï¼ŒéªŒè¯æœ€ä½èŠ±è´¹æ˜¯å¦æ­£ç¡®ã€‚</p>
</li>
</ol>
<h5 data-id="heading-18">å…·ä½“åˆ†æ</h5>
<p><strong>ä¸ºä»€ä¹ˆç”¨åŠ¨æ€è§„åˆ’ï¼Ÿ</strong></p>
<p>è¦åˆ°è¾¾ç¬¬ i é˜¶é¡¶éƒ¨ï¼Œæœ€åä¸€æ­¥å¯èƒ½æ˜¯ä»ç¬¬ i-2 é˜¶çˆ¬ 2 æ­¥ï¼ˆèŠ±è´¹ cost[i-2]ï¼‰ï¼Œæˆ–è€…ä»ç¬¬ i-1 é˜¶çˆ¬ 1 æ­¥ï¼ˆèŠ±è´¹ cost[i-1]ï¼‰ã€‚æˆ‘ä»¬éœ€è¦é€‰æ‹©<strong>èŠ±è´¹æ›´å°‘</strong>çš„é‚£æ¡è·¯å¾„ã€‚</p>
<p><strong>æ€è·¯æ¨å¯¼ï¼š</strong></p>
<ol>
<li>
<p><strong>æœ€åä¸€æ­¥åˆ†æ</strong>ï¼š</p>
<ul>
<li>å¦‚æœæœ€åä¸€æ­¥æ˜¯ä»ç¬¬ i-2 é˜¶çˆ¬ 2 æ­¥ï¼Œæ€»èŠ±è´¹ = åˆ°è¾¾ç¬¬ i-2 é˜¶çš„èŠ±è´¹ + cost[i-2]</li>
<li>å¦‚æœæœ€åä¸€æ­¥æ˜¯ä»ç¬¬ i-1 é˜¶çˆ¬ 1 æ­¥ï¼Œæ€»èŠ±è´¹ = åˆ°è¾¾ç¬¬ i-1 é˜¶çš„èŠ±è´¹ + cost[i-1]</li>
<li>å–ä¸¤è€…çš„æœ€å°å€¼</li>
</ul>
</li>
<li>
<p><strong>çŠ¶æ€å®šä¹‰</strong>ï¼š<code>dp[i]</code> è¡¨ç¤ºåˆ°è¾¾ç¬¬ i é˜¶é¡¶éƒ¨çš„æœ€ä½èŠ±è´¹ã€‚</p>
<ul>
<li><strong>æ³¨æ„</strong>ï¼ši æ˜¯"é¡¶éƒ¨"çš„ä¸‹æ ‡ï¼Œå¦‚æœ cost æ•°ç»„é•¿åº¦ä¸º nï¼Œé‚£ä¹ˆé¡¶éƒ¨æ˜¯ç¬¬ n é˜¶ï¼ˆä¸‹æ ‡ nï¼‰</li>
</ul>
</li>
<li>
<p><strong>çŠ¶æ€è½¬ç§»</strong>ï¼š<code>dp[i] = Math.min(dp[i-2] + cost[i-2], dp[i-1] + cost[i-1])</code></p>
<ul>
<li><code>dp[i-2] + cost[i-2]</code>ï¼šä»ç¬¬ i-2 é˜¶çˆ¬ 2 æ­¥åˆ°é¡¶éƒ¨</li>
<li><code>dp[i-1] + cost[i-1]</code>ï¼šä»ç¬¬ i-1 é˜¶çˆ¬ 1 æ­¥åˆ°é¡¶éƒ¨</li>
</ul>
</li>
<li>
<p><strong>è¾¹ç•Œæ¡ä»¶</strong>ï¼š</p>
<ul>
<li><code>dp[0] = 0</code>ï¼šç«™åœ¨ç¬¬ 0 é˜¶ï¼ˆèµ·å§‹ä½ç½®ï¼‰ï¼Œå…è´¹</li>
<li><code>dp[1] = 0</code>ï¼šç«™åœ¨ç¬¬ 1 é˜¶ï¼Œå…è´¹ï¼ˆé¢˜ç›®è¯´å¯ä»¥ä»ä¸‹æ ‡ 0 æˆ– 1 å¼€å§‹ï¼‰</li>
</ul>
</li>
</ol>
<p><strong>æ‰§è¡Œè¿‡ç¨‹ç¤ºä¾‹ï¼ˆcost = [10, 15, 20]ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">cost = <span class="hljs-selector-attr">[10, 15, 20]</span>ï¼Œé•¿åº¦ä¸º <span class="hljs-number">3</span>ï¼Œé¡¶éƒ¨æ˜¯ç¬¬ <span class="hljs-number">3</span> é˜¶

dp<span class="hljs-selector-attr">[0]</span> = <span class="hljs-number">0</span>  (åˆå§‹åŒ–ï¼šç«™åœ¨<span class="hljs-number">0</span>é˜¶å…è´¹)
dp<span class="hljs-selector-attr">[1]</span> = <span class="hljs-number">0</span>  (åˆå§‹åŒ–ï¼šç«™åœ¨<span class="hljs-number">1</span>é˜¶å…è´¹)
dp<span class="hljs-selector-attr">[2]</span> = <span class="hljs-built_in">min</span>(dp[<span class="hljs-number">0</span>] + cost[<span class="hljs-number">0</span>], dp[<span class="hljs-number">1</span>] + cost[<span class="hljs-number">1</span>])
      = <span class="hljs-built_in">min</span>(<span class="hljs-number">0</span> + <span class="hljs-number">10</span>, <span class="hljs-number">0</span> + <span class="hljs-number">15</span>) = <span class="hljs-built_in">min</span>(<span class="hljs-number">10</span>, <span class="hljs-number">15</span>) = <span class="hljs-number">10</span>
      (ä»<span class="hljs-number">0</span>é˜¶çˆ¬<span class="hljs-number">2</span>æ­¥èŠ±è´¹<span class="hljs-number">10</span>ï¼Œä»<span class="hljs-number">1</span>é˜¶çˆ¬<span class="hljs-number">1</span>æ­¥èŠ±è´¹<span class="hljs-number">15</span>ï¼Œé€‰<span class="hljs-number">10</span>)
dp<span class="hljs-selector-attr">[3]</span> = <span class="hljs-built_in">min</span>(dp[<span class="hljs-number">1</span>] + cost[<span class="hljs-number">1</span>], dp[<span class="hljs-number">2</span>] + cost[<span class="hljs-number">2</span>])
      = <span class="hljs-built_in">min</span>(<span class="hljs-number">0</span> + <span class="hljs-number">15</span>, <span class="hljs-number">10</span> + <span class="hljs-number">20</span>) = <span class="hljs-built_in">min</span>(<span class="hljs-number">15</span>, <span class="hljs-number">30</span>) = <span class="hljs-number">15</span>
      (ä»<span class="hljs-number">1</span>é˜¶çˆ¬<span class="hljs-number">2</span>æ­¥èŠ±è´¹<span class="hljs-number">15</span>ï¼Œä»<span class="hljs-number">2</span>é˜¶çˆ¬<span class="hljs-number">1</span>æ­¥èŠ±è´¹<span class="hljs-number">30</span>ï¼Œé€‰<span class="hljs-number">15</span>)
</code></pre>
<h5 data-id="heading-19">å®ç°ä»£ç </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">minCost</span>(<span class="hljs-params">cost</span>) {
  <span class="hljs-keyword">const</span> n = cost.<span class="hljs-property">length</span>;
  <span class="hljs-comment">// è¾¹ç•Œï¼šåªæœ‰1é˜¶å°é˜¶ï¼Œå¿…é¡»æ”¯ä»˜cost[0]æ‰èƒ½åˆ°é¡¶éƒ¨</span>
  <span class="hljs-keyword">if</span> (n === <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> cost[<span class="hljs-number">0</span>];
  <span class="hljs-comment">// 2é˜¶å°é˜¶ï¼šå–ä»0é˜¶æˆ–1é˜¶çˆ¬çš„æœ€å°èŠ±è´¹</span>
  <span class="hljs-keyword">if</span> (n === <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(cost[<span class="hljs-number">0</span>], cost[<span class="hljs-number">1</span>]);

  <span class="hljs-keyword">let</span> prevPrev = <span class="hljs-number">0</span>; <span class="hljs-comment">// åˆ°è¾¾i-2é˜¶çš„èŠ±è´¹</span>
  <span class="hljs-keyword">let</span> prev = <span class="hljs-number">0</span>; <span class="hljs-comment">// åˆ°è¾¾i-1é˜¶çš„èŠ±è´¹</span>
  <span class="hljs-keyword">let</span> cur;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++) {
    cur = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(prevPrev + cost[i - <span class="hljs-number">2</span>], prev + cost[i - <span class="hljs-number">1</span>]);
    prevPrev = prev;
    prev = cur;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`åˆ°è¾¾ç¬¬<span class="hljs-subst">${i}</span>é˜¶é¡¶éƒ¨çš„æœ€ä½èŠ±è´¹ï¼š<span class="hljs-subst">${cur}</span>`</span>); <span class="hljs-comment">// æ‰“å°éªŒè¯</span>
  }
  <span class="hljs-keyword">return</span> cur;
}
</code></pre>
<h4 data-id="heading-20">é—®é¢˜4ï¼šæœºå™¨äººèµ°ç½‘æ ¼ï¼ˆåŸºç¡€â†’è¿›é˜¶ï¼šå«éšœç¢ç‰©ï¼‰</h4>
<h5 data-id="heading-21">å­é—®é¢˜4.1ï¼šæ— éšœç¢ç‰©çš„ä¸åŒè·¯å¾„</h5>
<p><strong>LeetCode é“¾æ¥</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Funique-paths%2F" target="_blank" title="https://leetcode.cn/problems/unique-paths/" ref="nofollow noopener noreferrer">62. ä¸åŒè·¯å¾„</a></p>
<h6 data-id="heading-22">é—®é¢˜æè¿°</h6>
<p>ä¸€ä¸ªæœºå™¨äººä½äºä¸€ä¸ª <code>m x n</code> ç½‘æ ¼çš„å·¦ä¸Šè§’ï¼ˆèµ·å§‹ç‚¹åœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º "Start"ï¼‰ã€‚</p>
<p>æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚æœºå™¨äººè¯•å›¾è¾¾åˆ°ç½‘æ ¼çš„å³ä¸‹è§’ï¼ˆåœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º "Finish"ï¼‰ã€‚</p>
<p>é—®æ€»å…±æœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ï¼Ÿ</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">è¾“å…¥ï¼š<span class="hljs-attr">m</span> = <span class="hljs-number">3</span>, n = <span class="hljs-number">7</span>
è¾“å‡ºï¼š28
</code></pre>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<pre><code class="hljs language-rust" lang="rust">è¾“å…¥ï¼šm = <span class="hljs-number">3</span>, n = <span class="hljs-number">2</span>
è¾“å‡ºï¼š<span class="hljs-number">3</span>
è§£é‡Šï¼š
ä»å·¦ä¸Šè§’å¼€å§‹ï¼Œæ€»å…±æœ‰ <span class="hljs-number">3</span> æ¡è·¯å¾„å¯ä»¥åˆ°è¾¾å³ä¸‹è§’ã€‚
<span class="hljs-number">1</span>. å‘å³ <span class="hljs-punctuation">-&gt;</span> å‘ä¸‹ <span class="hljs-punctuation">-&gt;</span> å‘ä¸‹
<span class="hljs-number">2</span>. å‘ä¸‹ <span class="hljs-punctuation">-&gt;</span> å‘ä¸‹ <span class="hljs-punctuation">-&gt;</span> å‘å³
<span class="hljs-number">3</span>. å‘ä¸‹ <span class="hljs-punctuation">-&gt;</span> å‘å³ <span class="hljs-punctuation">-&gt;</span> å‘ä¸‹
</code></pre>
<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">è¾“å…¥ï¼š<span class="hljs-attr">m</span> = <span class="hljs-number">7</span>, n = <span class="hljs-number">3</span>
è¾“å‡ºï¼š28
</code></pre>
<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">è¾“å…¥ï¼š<span class="hljs-attr">m</span> = <span class="hljs-number">3</span>, n = <span class="hljs-number">3</span>
è¾“å‡ºï¼š6
</code></pre>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= m, n &lt;= 100</code></li>
<li>é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆå°äºç­‰äº <code>2 * 10^9</code></li>
</ul>
<h6 data-id="heading-23">DPäº”éƒ¨æ›²åˆ†æ</h6>
<ol>
<li>
<p><strong>dpæ•°ç»„å«ä¹‰</strong>ï¼š<code>dp[i][j]</code> è¡¨ç¤ºä»å·¦ä¸Šè§’åˆ°(i,j)çš„ä¸åŒè·¯å¾„æ•°ï¼ˆäºŒç»´ï¼‰ï¼›ä¼˜åŒ–åä¸€ç»´<code>dp[x]</code>è¡¨ç¤ºå½“å‰è¡Œç¬¬xåˆ—çš„è·¯å¾„æ•°ï¼›</p>
</li>
<li>
<p><strong>é€’æ¨å…¬å¼</strong>ï¼š<code>dp[i][j] = dp[i-1][j] + dp[i][j-1]</code>ï¼ˆä¸€ç»´ä¼˜åŒ–ï¼š<code>dp[x] = dp[x] + dp[x-1]</code>ï¼‰ï¼›</p>
</li>
<li>
<p><strong>åˆå§‹åŒ–</strong>ï¼šç¬¬ä¸€è¡Œ/ç¬¬ä¸€åˆ—è·¯å¾„æ•°ä¸º1ï¼ˆåªèƒ½æ²¿ä¸€ä¸ªæ–¹å‘èµ°ï¼‰ï¼›</p>
</li>
<li>
<p><strong>éå†é¡ºåº</strong>ï¼šä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³ï¼›</p>
</li>
<li>
<p><strong>æ‰“å°éªŒè¯</strong>ï¼šæ‰“å°æ¯è¡Œdpæ•°ç»„ï¼ŒéªŒè¯è·¯å¾„æ•°æ˜¯å¦æ­£ç¡®ã€‚</p>
</li>
</ol>
<h6 data-id="heading-24">å…·ä½“åˆ†æ</h6>
<p><strong>ä¸ºä»€ä¹ˆç”¨åŠ¨æ€è§„åˆ’ï¼Ÿ</strong></p>
<p>è¦åˆ°è¾¾ä½ç½® (i, j)ï¼Œæœ€åä¸€æ­¥å¯èƒ½æ˜¯ä»ä¸Šæ–¹ (i-1, j) å‘ä¸‹ç§»åŠ¨ï¼Œæˆ–è€…ä»å·¦æ–¹ (i, j-1) å‘å³ç§»åŠ¨ã€‚è¿™ä¸¤ç§æƒ…å†µäº’æ–¥ä¸”å®Œå¤‡ï¼Œæ‰€ä»¥åˆ°è¾¾ (i, j) çš„è·¯å¾„æ•° = åˆ°è¾¾ (i-1, j) çš„è·¯å¾„æ•° + åˆ°è¾¾ (i, j-1) çš„è·¯å¾„æ•°ã€‚</p>
<p><strong>æ€è·¯æ¨å¯¼ï¼š</strong></p>
<ol>
<li>
<p><strong>æœ€åä¸€æ­¥åˆ†æ</strong>ï¼š</p>
<ul>
<li>å¦‚æœæœ€åä¸€æ­¥æ˜¯å‘ä¸‹ï¼Œé‚£ä¹ˆä¹‹å‰å¿…é¡»åœ¨ (i-1, j)</li>
<li>å¦‚æœæœ€åä¸€æ­¥æ˜¯å‘å³ï¼Œé‚£ä¹ˆä¹‹å‰å¿…é¡»åœ¨ (i, j-1)</li>
<li>è¿™ä¸¤ç§æƒ…å†µäº’ä¸é‡å ï¼Œä¸”è¦†ç›–æ‰€æœ‰å¯èƒ½</li>
</ul>
</li>
<li>
<p><strong>çŠ¶æ€å®šä¹‰</strong>ï¼š<code>dp[i][j]</code> è¡¨ç¤ºä» (0, 0) åˆ°è¾¾ (i, j) çš„ä¸åŒè·¯å¾„æ•°ã€‚</p>
</li>
<li>
<p><strong>çŠ¶æ€è½¬ç§»</strong>ï¼š<code>dp[i][j] = dp[i-1][j] + dp[i][j-1]</code></p>
<ul>
<li><code>dp[i-1][j]</code>ï¼šä»ä¸Šæ–¹åˆ°è¾¾çš„è·¯å¾„æ•°</li>
<li><code>dp[i][j-1]</code>ï¼šä»å·¦æ–¹åˆ°è¾¾çš„è·¯å¾„æ•°</li>
</ul>
</li>
<li>
<p><strong>è¾¹ç•Œæ¡ä»¶</strong>ï¼š</p>
<ul>
<li>ç¬¬ä¸€è¡Œ <code>dp[0][j] = 1</code>ï¼šåªèƒ½ä¸€ç›´å‘å³èµ°</li>
<li>ç¬¬ä¸€åˆ— <code>dp[i][0] = 1</code>ï¼šåªèƒ½ä¸€ç›´å‘ä¸‹èµ°</li>
</ul>
</li>
<li>
<p><strong>ç©ºé—´ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li>äºŒç»´æ•°ç»„å¯ä»¥ä¼˜åŒ–ä¸ºä¸€ç»´æ•°ç»„</li>
<li><code>dp[x]</code> è¡¨ç¤ºå½“å‰è¡Œç¬¬ x åˆ—çš„è·¯å¾„æ•°</li>
<li>æ›´æ–°æ—¶ï¼š<code>dp[x] = dp[x] + dp[x-1]</code>ï¼ˆä¸Šä¸€è¡ŒåŒåˆ— + å½“å‰è¡Œå‰ä¸€åˆ—ï¼‰</li>
</ul>
</li>
</ol>
<p><strong>æ‰§è¡Œè¿‡ç¨‹ç¤ºä¾‹ï¼ˆm=3, n=3ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">åˆå§‹çŠ¶æ€ï¼ˆç¬¬ä¸€è¡Œï¼‰ï¼š
<span class="hljs-attr">dp</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>]  (ç¬¬ä¸€è¡Œåªèƒ½å‘å³ï¼Œè·¯å¾„æ•°éƒ½æ˜¯<span class="hljs-number">1</span>)

ç¬¬2è¡Œï¼š
dp<span class="hljs-section">[0]</span> = 1  (ç¬¬ä¸€åˆ—åªèƒ½å‘ä¸‹ï¼Œä¿æŒ1)
dp<span class="hljs-section">[1]</span> = dp<span class="hljs-section">[1]</span> + dp<span class="hljs-section">[0]</span> = 1 + <span class="hljs-attr">1</span> = <span class="hljs-number">2</span>  (ä»ä¸Šæ–¹<span class="hljs-number">1</span> + ä»å·¦æ–¹<span class="hljs-number">1</span>)
dp<span class="hljs-section">[2]</span> = dp<span class="hljs-section">[2]</span> + dp<span class="hljs-section">[1]</span> = 1 + <span class="hljs-attr">2</span> = <span class="hljs-number">3</span>  (ä»ä¸Šæ–¹<span class="hljs-number">1</span> + ä»å·¦æ–¹<span class="hljs-number">2</span>)
<span class="hljs-attr">dp</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]

ç¬¬3è¡Œï¼š
dp<span class="hljs-section">[0]</span> = 1  (ç¬¬ä¸€åˆ—åªèƒ½å‘ä¸‹ï¼Œä¿æŒ1)
dp<span class="hljs-section">[1]</span> = dp<span class="hljs-section">[1]</span> + dp<span class="hljs-section">[0]</span> = 2 + <span class="hljs-attr">1</span> = <span class="hljs-number">3</span>  (ä»ä¸Šæ–¹<span class="hljs-number">2</span> + ä»å·¦æ–¹<span class="hljs-number">1</span>)
dp<span class="hljs-section">[2]</span> = dp<span class="hljs-section">[2]</span> + dp<span class="hljs-section">[1]</span> = 3 + <span class="hljs-attr">3</span> = <span class="hljs-number">6</span>  (ä»ä¸Šæ–¹<span class="hljs-number">3</span> + ä»å·¦æ–¹<span class="hljs-number">3</span>)
<span class="hljs-attr">dp</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>]

æœ€ç»ˆç­”æ¡ˆï¼šdp<span class="hljs-section">[2]</span> = 6
</code></pre>
<h6 data-id="heading-25">å®ç°ä»£ç ï¼ˆä¸€ç»´ä¼˜åŒ–ç‰ˆï¼Œ0-basedï¼‰</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">ways</span>(<span class="hljs-params">countX, countY</span>) {
  <span class="hljs-keyword">const</span> dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(countX).<span class="hljs-title function_">fill</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">// åˆå§‹åŒ–ç¬¬ä¸€è¡Œ</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> y = <span class="hljs-number">1</span>; y &lt;= countY - <span class="hljs-number">1</span>; y++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> x = <span class="hljs-number">1</span>; x &lt;= countX - <span class="hljs-number">1</span>; x++) {
      dp[x] = dp[x] + dp[x - <span class="hljs-number">1</span>]; <span class="hljs-comment">// ä¸Šä¸€è¡ŒåŒåˆ— + å½“å‰è¡Œå‰ä¸€åˆ—</span>
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç¬¬<span class="hljs-subst">${y}</span>è¡Œç¬¬<span class="hljs-subst">${x}</span>åˆ—è·¯å¾„æ•°ï¼š<span class="hljs-subst">${dp[x]}</span>`</span>); <span class="hljs-comment">// æ‰“å°éªŒè¯</span>
    }
  }
  <span class="hljs-keyword">return</span> dp[countX - <span class="hljs-number">1</span>];
}
</code></pre>
<h5 data-id="heading-26">å­é—®é¢˜4.2ï¼šæœ‰éšœç¢ç‰©çš„ä¸åŒè·¯å¾„</h5>
<p><strong>LeetCode é“¾æ¥</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Funique-paths-ii%2F" target="_blank" title="https://leetcode.cn/problems/unique-paths-ii/" ref="nofollow noopener noreferrer">63. ä¸åŒè·¯å¾„ II</a></p>
<h6 data-id="heading-27">é—®é¢˜æè¿°</h6>
<p>ä¸€ä¸ªæœºå™¨äººä½äºä¸€ä¸ª <code>m x n</code> ç½‘æ ¼çš„å·¦ä¸Šè§’ï¼ˆèµ·å§‹ç‚¹åœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º "Start"ï¼‰ã€‚</p>
<p>æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚æœºå™¨äººè¯•å›¾è¾¾åˆ°ç½‘æ ¼çš„å³ä¸‹è§’ï¼ˆåœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º "Finish"ï¼‰ã€‚</p>
<p>ç°åœ¨è€ƒè™‘ç½‘æ ¼ä¸­æœ‰éšœç¢ç‰©ã€‚é‚£ä¹ˆä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’å°†ä¼šæœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ï¼Ÿ</p>
<p>ç½‘æ ¼ä¸­çš„éšœç¢ç‰©å’Œç©ºä½ç½®åˆ†åˆ«ç”¨ <code>1</code> å’Œ <code>0</code> æ¥è¡¨ç¤ºã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<pre><code class="hljs language-rust" lang="rust">è¾“å…¥ï¼šobstacleGrid = [[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]]
è¾“å‡ºï¼š<span class="hljs-number">2</span>
è§£é‡Šï¼š<span class="hljs-number">3</span>x3 ç½‘æ ¼çš„æ­£ä¸­é—´æœ‰ä¸€ä¸ªéšœç¢ç‰©ã€‚
ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’ä¸€å…±æœ‰ <span class="hljs-number">2</span> æ¡ä¸åŒçš„è·¯å¾„ï¼š
<span class="hljs-number">1</span>. å‘å³ <span class="hljs-punctuation">-&gt;</span> å‘å³ <span class="hljs-punctuation">-&gt;</span> å‘ä¸‹ <span class="hljs-punctuation">-&gt;</span> å‘ä¸‹
<span class="hljs-number">2</span>. å‘ä¸‹ <span class="hljs-punctuation">-&gt;</span> å‘ä¸‹ <span class="hljs-punctuation">-&gt;</span> å‘å³ <span class="hljs-punctuation">-&gt;</span> å‘å³
</code></pre>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<pre><code class="hljs language-lua" lang="lua">è¾“å…¥ï¼šobstacleGrid = <span class="hljs-string">[[0,1],[0,0]]</span>
è¾“å‡ºï¼š<span class="hljs-number">1</span>
</code></pre>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>m == obstacleGrid.length</code></li>
<li><code>n == obstacleGrid[i].length</code></li>
<li><code>1 &lt;= m, n &lt;= 100</code></li>
<li><code>obstacleGrid[i][j]</code> ä¸º <code>0</code> æˆ– <code>1</code></li>
</ul>
<h6 data-id="heading-28">DPäº”éƒ¨æ›²åˆ†æï¼ˆæ ¸å¿ƒå·®å¼‚ï¼‰</h6>
<ol>
<li>
<p><strong>dpæ•°ç»„å«ä¹‰</strong>ï¼šåŒæ— éšœç¢ç‰©ç‰ˆæœ¬ï¼Œä½†éšœç¢ç‰©ä½ç½®<code>dp[x] = 0</code>ï¼›</p>
</li>
<li>
<p><strong>é€’æ¨å…¬å¼</strong>ï¼šæ— éšœç¢ç‰©æ—¶åŒåŸå…¬å¼ï¼Œæœ‰éšœç¢ç‰©åˆ™ç½®0ï¼›</p>
</li>
<li>
<p><strong>åˆå§‹åŒ–</strong>ï¼šç¬¬ä¸€è¡Œé‡åˆ°éšœç¢ç‰©åï¼Œåç»­ä½ç½®å…¨éƒ¨ç½®0ï¼ˆæ— æ³•ç»•å¼€ï¼‰ï¼›</p>
</li>
<li>
<p><strong>éå†é¡ºåº</strong>ï¼šåŒä¸Šï¼Œä½†éœ€å…ˆå¤„ç†æ¯ä¸€è¡Œçš„ç¬¬ä¸€åˆ—ï¼ˆéšœç¢ç‰©ç½®0ï¼‰ï¼›</p>
</li>
<li>
<p><strong>æ‰“å°éªŒè¯</strong>ï¼šæ‰“å°æ¯è¡Œdpæ•°ç»„ï¼ŒéªŒè¯éšœç¢ç‰©ä½ç½®è·¯å¾„æ•°æ˜¯å¦ä¸º0ã€‚</p>
</li>
</ol>
<h6 data-id="heading-29">å…·ä½“åˆ†æ</h6>
<p><strong>ä¸ºä»€ä¹ˆç”¨åŠ¨æ€è§„åˆ’ï¼Ÿ</strong></p>
<p>æ€è·¯ä¸æ— éšœç¢ç‰©ç‰ˆæœ¬ç›¸åŒï¼Œä½†éœ€è¦ç‰¹æ®Šå¤„ç†éšœç¢ç‰©ï¼šéšœç¢ç‰©ä½ç½®æ— æ³•åˆ°è¾¾ï¼Œè·¯å¾„æ•°ä¸º 0ã€‚</p>
<p><strong>æ€è·¯æ¨å¯¼ï¼š</strong></p>
<ol>
<li>
<p><strong>éšœç¢ç‰©çš„å½±å“</strong>ï¼š</p>
<ul>
<li>å¦‚æœ (i, j) æ˜¯éšœç¢ç‰©ï¼Œåˆ™ <code>dp[i][j] = 0</code>ï¼ˆæ— æ³•åˆ°è¾¾ï¼‰</li>
<li>å¦‚æœ (i, j) ä¸æ˜¯éšœç¢ç‰©ï¼Œåˆ™ <code>dp[i][j] = dp[i-1][j] + dp[i][j-1]</code></li>
</ul>
</li>
<li>
<p><strong>åˆå§‹åŒ–ç‰¹æ®Šå¤„ç†</strong>ï¼š</p>
<ul>
<li>ç¬¬ä¸€è¡Œï¼šé‡åˆ°éšœç¢ç‰©åï¼Œåç»­æ‰€æœ‰ä½ç½®è·¯å¾„æ•°éƒ½æ˜¯ 0ï¼ˆæ— æ³•ç»•å¼€ï¼‰</li>
<li>ç¬¬ä¸€åˆ—ï¼šæ¯è¡Œéƒ½è¦æ£€æŸ¥ç¬¬ä¸€åˆ—æ˜¯å¦æœ‰éšœç¢ç‰©</li>
</ul>
</li>
<li>
<p><strong>çŠ¶æ€è½¬ç§»</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (gridArr[y][x] === <span class="hljs-number">1</span>) {
  dp[x] = <span class="hljs-number">0</span>; <span class="hljs-comment">// éšœç¢ç‰©ï¼Œæ— æ³•åˆ°è¾¾</span>
} <span class="hljs-keyword">else</span> {
  dp[x] = dp[x] + dp[x - <span class="hljs-number">1</span>]; <span class="hljs-comment">// æ­£å¸¸è·¯å¾„è®¡ç®—</span>
}
</code></pre>
</li>
</ol>
<p><strong>æ‰§è¡Œè¿‡ç¨‹ç¤ºä¾‹ï¼ˆgridArr = [[0,0,0],[0,1,0],[0,0,0]]ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">åˆå§‹çŠ¶æ€ï¼ˆç¬¬ä¸€è¡Œï¼‰ï¼š
<span class="hljs-attr">dp</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>]  (æ— éšœç¢ç‰©ï¼Œæ­£å¸¸åˆå§‹åŒ–)

ç¬¬2è¡Œï¼ˆ<span class="hljs-attr">y</span>=<span class="hljs-number">1</span>ï¼‰ï¼š
- gridArr<span class="hljs-section">[1]</span><span class="hljs-section">[0]</span> = 0ï¼Œæ— éšœç¢ç‰©ï¼Œdp<span class="hljs-section">[0]</span> = 1ï¼ˆä¿æŒï¼‰
- gridArr<span class="hljs-section">[1]</span><span class="hljs-section">[1]</span> = 1ï¼Œæœ‰éšœç¢ç‰©ï¼dp<span class="hljs-section">[1]</span> = 0
- gridArr<span class="hljs-section">[1]</span><span class="hljs-section">[2]</span> = 0ï¼Œæ— éšœç¢ç‰©ï¼Œdp<span class="hljs-section">[2]</span> = dp<span class="hljs-section">[2]</span> + dp<span class="hljs-section">[1]</span> = 1 + <span class="hljs-attr">0</span> = <span class="hljs-number">1</span>
<span class="hljs-attr">dp</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]

ç¬¬3è¡Œï¼ˆ<span class="hljs-attr">y</span>=<span class="hljs-number">2</span>ï¼‰ï¼š
- gridArr<span class="hljs-section">[2]</span><span class="hljs-section">[0]</span> = 0ï¼Œæ— éšœç¢ç‰©ï¼Œdp<span class="hljs-section">[0]</span> = 1ï¼ˆä¿æŒï¼‰
- gridArr<span class="hljs-section">[2]</span><span class="hljs-section">[1]</span> = 0ï¼Œæ— éšœç¢ç‰©ï¼Œdp<span class="hljs-section">[1]</span> = dp<span class="hljs-section">[1]</span> + dp<span class="hljs-section">[0]</span> = 0 + <span class="hljs-attr">1</span> = <span class="hljs-number">1</span>
- gridArr<span class="hljs-section">[2]</span><span class="hljs-section">[2]</span> = 0ï¼Œæ— éšœç¢ç‰©ï¼Œdp<span class="hljs-section">[2]</span> = dp<span class="hljs-section">[2]</span> + dp<span class="hljs-section">[1]</span> = 1 + <span class="hljs-attr">1</span> = <span class="hljs-number">2</span>
<span class="hljs-attr">dp</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>]

æœ€ç»ˆç­”æ¡ˆï¼šdp<span class="hljs-section">[2]</span> = 2
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼šéšœç¢ç‰©ä¼š"é˜»æ–­"è·¯å¾„ï¼Œå¯¼è‡´åç»­ä½ç½®æ— æ³•é€šè¿‡è¯¥ä½ç½®åˆ°è¾¾ã€‚</p>
<h6 data-id="heading-30">å®ç°ä»£ç </h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getWays</span>(<span class="hljs-params">gridArr</span>) {
  <span class="hljs-keyword">const</span> m = gridArr.<span class="hljs-property">length</span>; <span class="hljs-comment">// è¡Œæ•°</span>
  <span class="hljs-keyword">const</span> n = gridArr[<span class="hljs-number">0</span>].<span class="hljs-property">length</span>; <span class="hljs-comment">// åˆ—æ•°</span>
  <span class="hljs-keyword">const</span> dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(n).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>);

  <span class="hljs-comment">// åˆå§‹åŒ–ç¬¬ä¸€è¡Œï¼šé‡åˆ°éšœç¢ç‰©åˆ™åç»­å…¨ä¸º0</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> x = <span class="hljs-number">0</span>; x &lt; n; x++) {
    <span class="hljs-keyword">if</span> (gridArr[<span class="hljs-number">0</span>][x] === <span class="hljs-number">1</span>) <span class="hljs-keyword">break</span>;
    dp[x] = <span class="hljs-number">1</span>;
  }

  <span class="hljs-comment">// éå†å‰©ä½™è¡Œ</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> y = <span class="hljs-number">1</span>; y &lt; m; y++) {
    <span class="hljs-comment">// å¤„ç†å½“å‰è¡Œç¬¬ä¸€åˆ—</span>
    <span class="hljs-keyword">if</span> (gridArr[y][<span class="hljs-number">0</span>] === <span class="hljs-number">1</span>) dp[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;
    <span class="hljs-comment">// å¤„ç†å‰©ä½™åˆ—</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> x = <span class="hljs-number">1</span>; x &lt; n; x++) {
      <span class="hljs-keyword">if</span> (gridArr[y][x] === <span class="hljs-number">1</span>) {
        dp[x] = <span class="hljs-number">0</span>;
      } <span class="hljs-keyword">else</span> {
        dp[x] = dp[x] + dp[x - <span class="hljs-number">1</span>];
      }
    }
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç¬¬<span class="hljs-subst">${y}</span>è¡Œdpæ•°ç»„ï¼š<span class="hljs-subst">${dp}</span>`</span>); <span class="hljs-comment">// æ‰“å°éªŒè¯</span>
  }

  <span class="hljs-keyword">return</span> dp[n - <span class="hljs-number">1</span>];
}
</code></pre>
<h4 data-id="heading-31">é—®é¢˜5ï¼šæ•´æ•°æ‹†åˆ†ï¼ˆè¿›é˜¶ï¼‰</h4>
<p><strong>LeetCode é“¾æ¥</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Finteger-break%2F" target="_blank" title="https://leetcode.cn/problems/integer-break/" ref="nofollow noopener noreferrer">343. æ•´æ•°æ‹†åˆ†</a></p>
<h5 data-id="heading-32">é—®é¢˜æè¿°</h5>
<p>ç»™å®šä¸€ä¸ªæ­£æ•´æ•° <code>n</code>ï¼Œå°†å…¶æ‹†åˆ†ä¸º<strong>è‡³å°‘ä¸¤ä¸ªæ­£æ•´æ•°çš„å’Œ</strong>ï¼Œå¹¶ä½¿è¿™äº›æ•´æ•°çš„ä¹˜ç§¯æœ€å¤§åŒ–ã€‚è¿”å›ä½ å¯ä»¥è·å¾—çš„æœ€å¤§ä¹˜ç§¯ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">è¾“å…¥: <span class="hljs-attr">n</span> = <span class="hljs-number">2</span>
è¾“å‡º: 1
è§£é‡Š: <span class="hljs-attr">2</span> = <span class="hljs-number">1</span> + <span class="hljs-number">1</span>, <span class="hljs-number">1</span> Ã— <span class="hljs-number">1</span> = <span class="hljs-number">1</span>ã€‚
</code></pre>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">è¾“å…¥: <span class="hljs-attr">n</span> = <span class="hljs-number">10</span>
è¾“å‡º: 36
è§£é‡Š: <span class="hljs-attr">10</span> = <span class="hljs-number">3</span> + <span class="hljs-number">3</span> + <span class="hljs-number">4</span>, <span class="hljs-number">3</span> Ã— <span class="hljs-number">3</span> Ã— <span class="hljs-number">4</span> = <span class="hljs-number">36</span>ã€‚
</code></pre>
<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">è¾“å…¥: <span class="hljs-attr">n</span> = <span class="hljs-number">8</span>
è¾“å‡º: 18
è§£é‡Š: <span class="hljs-attr">8</span> = <span class="hljs-number">2</span> + <span class="hljs-number">3</span> + <span class="hljs-number">3</span>, <span class="hljs-number">2</span> Ã— <span class="hljs-number">3</span> Ã— <span class="hljs-number">3</span> = <span class="hljs-number">18</span>ã€‚
</code></pre>
<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">è¾“å…¥: <span class="hljs-attr">n</span> = <span class="hljs-number">7</span>
è¾“å‡º: 12
è§£é‡Š: <span class="hljs-attr">7</span> = <span class="hljs-number">3</span> + <span class="hljs-number">4</span>, <span class="hljs-number">3</span> Ã— <span class="hljs-number">4</span> = <span class="hljs-number">12</span>ã€‚
</code></pre>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>2 &lt;= n &lt;= 58</code></li>
</ul>
<h5 data-id="heading-33">DPäº”éƒ¨æ›²åˆ†æ</h5>
<ol>
<li>
<p><strong>dpæ•°ç»„å«ä¹‰</strong>ï¼š<code>dp[i]</code> è¡¨ç¤ºå°†æ­£æ•´æ•°iæ‹†åˆ†ä¸ºè‡³å°‘ä¸¤ä¸ªæ•°çš„å’Œï¼Œèƒ½å¾—åˆ°çš„æœ€å¤§ä¹˜ç§¯ï¼›</p>
</li>
<li>
<p><strong>é€’æ¨å…¬å¼</strong>ï¼š<code>dp[i] = max(å½“å‰æœ€å¤§å€¼, j*(i-j), j*dp[i-j])</code>ï¼ˆjä»1åˆ°i-1ï¼Œæ‹†åˆ†ä¸ºjå’Œi-jï¼Œi-jå¯æ‹†æˆ–ä¸æ‹†ï¼‰ï¼›</p>
</li>
<li>
<p><strong>åˆå§‹åŒ–</strong>ï¼š<code>dp[2] = 1</code>ï¼ˆ2åªèƒ½æ‹†1+1ï¼Œä¹˜ç§¯1ï¼‰ï¼›</p>
</li>
<li>
<p><strong>éå†é¡ºåº</strong>ï¼šä»å·¦åˆ°å³ï¼ˆiä»3åˆ°nï¼‰ï¼›</p>
</li>
<li>
<p><strong>æ‰“å°éªŒè¯</strong>ï¼šæ‰“å°æ¯ä¸ª<code>dp[i]</code>ï¼ŒéªŒè¯æ˜¯å¦ç¬¦åˆé¢„æœŸï¼ˆå¦‚dp[10]=36ï¼‰ã€‚</p>
</li>
</ol>
<h5 data-id="heading-34">å…·ä½“åˆ†æ</h5>
<p><strong>ä¸ºä»€ä¹ˆç”¨åŠ¨æ€è§„åˆ’ï¼Ÿ</strong></p>
<p>è¦æ‹†åˆ† nï¼Œå¯ä»¥å…ˆå°† n æ‹†æˆ j å’Œ (n-j)ï¼Œç„¶å (n-j) å¯ä»¥ç»§ç»­æ‹†åˆ†ï¼Œä¹Ÿå¯ä»¥ä¸æ‹†åˆ†ã€‚æˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ‰€æœ‰æ‹†åˆ†æ–¹å¼ä¸­ä¹˜ç§¯æœ€å¤§çš„ã€‚</p>
<p><strong>æ€è·¯æ¨å¯¼ï¼š</strong></p>
<ol>
<li>
<p><strong>æ‹†åˆ†ç­–ç•¥</strong>ï¼š</p>
<ul>
<li>å°† n æ‹†æˆ j å’Œ (n-j) ä¸¤éƒ¨åˆ†ï¼ˆj ä» 1 åˆ° n-1ï¼‰</li>
<li>å¯¹äº (n-j)ï¼Œæœ‰ä¸¤ç§é€‰æ‹©ï¼š
<ul>
<li><strong>ä¸ç»§ç»­æ‹†åˆ†</strong>ï¼šä¹˜ç§¯ = j Ã— (n-j)</li>
<li><strong>ç»§ç»­æ‹†åˆ†</strong>ï¼šä¹˜ç§¯ = j Ã— dp[n-j]ï¼ˆdp[n-j] æ˜¯ n-j æ‹†åˆ†åçš„æœ€å¤§ä¹˜ç§¯ï¼‰</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>çŠ¶æ€å®šä¹‰</strong>ï¼š<code>dp[i]</code> è¡¨ç¤ºå°† i æ‹†åˆ†ä¸ºè‡³å°‘ä¸¤ä¸ªæ­£æ•´æ•°çš„å’Œï¼Œèƒ½å¾—åˆ°çš„æœ€å¤§ä¹˜ç§¯ã€‚</p>
</li>
<li>
<p><strong>çŠ¶æ€è½¬ç§»</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">1</span>; j &lt; i; j++) {
  curMax = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(curMax, j * (i - j), j * dp[i - j]);
}
</code></pre>
<ul>
<li><code>j * (i - j)</code>ï¼šåªæ‹†æˆä¸¤éƒ¨åˆ†ï¼Œä¸ç»§ç»­æ‹†åˆ†</li>
<li><code>j * dp[i - j]</code>ï¼šj ä¸æ‹†åˆ†ï¼Œi-j ç»§ç»­æ‹†åˆ†</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆ j ä¸æ‹†åˆ†ï¼Ÿ</strong></p>
<ul>
<li>å®é™…ä¸Šï¼Œj ä¹Ÿå¯ä»¥æ‹†åˆ†ï¼Œä½†å¦‚æœæˆ‘ä»¬éå†æ‰€æœ‰ jï¼Œj çš„æ‹†åˆ†æƒ…å†µä¼šåœ¨è®¡ç®— <code>dp[j]</code> æ—¶å·²ç»è€ƒè™‘è¿‡äº†</li>
<li>ä¾‹å¦‚ï¼šè®¡ç®— dp[5] æ—¶ï¼Œj=2 çš„æƒ…å†µä¼šåœ¨è®¡ç®— dp[3] æ—¶è€ƒè™‘ï¼ˆ3=2+1ï¼Œ2 å¯ä»¥æ‹†åˆ†ï¼‰</li>
</ul>
</li>
<li>
<p><strong>è¾¹ç•Œæ¡ä»¶</strong>ï¼š<code>dp[2] = 1</code>ï¼ˆ2 åªèƒ½æ‹†æˆ 1+1ï¼‰</p>
</li>
</ol>
<p><strong>æ‰§è¡Œè¿‡ç¨‹ç¤ºä¾‹ï¼ˆn=10ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">dp<span class="hljs-section">[2]</span> = 1  (åˆå§‹åŒ–ï¼š<span class="hljs-attr">2</span> = <span class="hljs-number">1</span>+<span class="hljs-number">1</span>ï¼Œä¹˜ç§¯<span class="hljs-number">1</span>)

dp<span class="hljs-section">[3]</span>ï¼š
  <span class="hljs-attr">j</span>=<span class="hljs-number">1</span>: max(<span class="hljs-number">1</span>*<span class="hljs-number">2</span>, <span class="hljs-number">1</span>*dp[<span class="hljs-number">2</span>]) = max(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>) = <span class="hljs-number">2</span>
  dp<span class="hljs-section">[3]</span> = 2

dp<span class="hljs-section">[4]</span>ï¼š
  <span class="hljs-attr">j</span>=<span class="hljs-number">1</span>: max(<span class="hljs-number">1</span>*<span class="hljs-number">3</span>, <span class="hljs-number">1</span>*dp[<span class="hljs-number">3</span>]) = max(<span class="hljs-number">3</span>, <span class="hljs-number">2</span>) = <span class="hljs-number">3</span>
  <span class="hljs-attr">j</span>=<span class="hljs-number">2</span>: max(<span class="hljs-number">2</span>*<span class="hljs-number">2</span>, <span class="hljs-number">2</span>*dp[<span class="hljs-number">2</span>]) = max(<span class="hljs-number">4</span>, <span class="hljs-number">2</span>) = <span class="hljs-number">4</span>
  dp<span class="hljs-section">[4]</span> = 4

dp<span class="hljs-section">[5]</span>ï¼š
  <span class="hljs-attr">j</span>=<span class="hljs-number">1</span>: max(<span class="hljs-number">1</span>*<span class="hljs-number">4</span>, <span class="hljs-number">1</span>*dp[<span class="hljs-number">4</span>]) = max(<span class="hljs-number">4</span>, <span class="hljs-number">4</span>) = <span class="hljs-number">4</span>
  <span class="hljs-attr">j</span>=<span class="hljs-number">2</span>: max(<span class="hljs-number">2</span>*<span class="hljs-number">3</span>, <span class="hljs-number">2</span>*dp[<span class="hljs-number">3</span>]) = max(<span class="hljs-number">6</span>, <span class="hljs-number">4</span>) = <span class="hljs-number">6</span>
  <span class="hljs-attr">j</span>=<span class="hljs-number">3</span>: max(<span class="hljs-number">3</span>*<span class="hljs-number">2</span>, <span class="hljs-number">3</span>*dp[<span class="hljs-number">2</span>]) = max(<span class="hljs-number">6</span>, <span class="hljs-number">3</span>) = <span class="hljs-number">6</span>
  <span class="hljs-attr">j</span>=<span class="hljs-number">4</span>: max(<span class="hljs-number">4</span>*<span class="hljs-number">1</span>, <span class="hljs-number">4</span>*dp[<span class="hljs-number">1</span>]) = <span class="hljs-number">4</span>  (dp[<span class="hljs-number">1</span>]æ— æ„ä¹‰ï¼Œä¸è€ƒè™‘)
  dp<span class="hljs-section">[5]</span> = 6

...ç»§ç»­è®¡ç®—åˆ° dp<span class="hljs-section">[10]</span> = 36
</code></pre>
<p><strong>å…³é”®æ´å¯Ÿ</strong>ï¼šå¯¹äºæ¯ä¸ªæ‹†åˆ† j å’Œ (i-j)ï¼Œæˆ‘ä»¬åªéœ€è¦è€ƒè™‘ (i-j) æ˜¯å¦ç»§ç»­æ‹†åˆ†ï¼Œå› ä¸º j çš„æ‰€æœ‰æ‹†åˆ†æƒ…å†µåœ¨ä¹‹å‰è®¡ç®— <code>dp[j]</code> æ—¶å·²ç»è€ƒè™‘è¿‡äº†ã€‚</p>
<h5 data-id="heading-35">å®ç°ä»£ç </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">integerBreak</span>(<span class="hljs-params">n</span>) {
  <span class="hljs-keyword">const</span> dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(n + <span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>);
  dp[<span class="hljs-number">2</span>] = <span class="hljs-number">1</span>; <span class="hljs-comment">// åˆå§‹åŒ–è¾¹ç•Œ</span>

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> curN = <span class="hljs-number">3</span>; curN &lt;= n; curN++) {
    <span class="hljs-keyword">let</span> curMax = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; curN; i++) {
      <span class="hljs-keyword">const</span> j = curN - i;
      curMax = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(curMax, i * j, i * dp[j]);
    }
    dp[curN] = curMax;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`dp[<span class="hljs-subst">${curN}</span>] = <span class="hljs-subst">${dp[curN]}</span>`</span>); <span class="hljs-comment">// æ‰“å°éªŒè¯</span>
  }

  <span class="hljs-keyword">return</span> dp[n];
}
</code></pre>
<h4 data-id="heading-36">é—®é¢˜6ï¼šä¸åŒçš„äºŒå‰æœç´¢æ ‘ï¼ˆè¿›é˜¶ï¼‰</h4>
<p><strong>LeetCode é“¾æ¥</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Funique-binary-search-trees%2F" target="_blank" title="https://leetcode.cn/problems/unique-binary-search-trees/" ref="nofollow noopener noreferrer">96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘</a></p>
<h5 data-id="heading-37">é—®é¢˜æè¿°</h5>
<p>ç»™ä½ ä¸€ä¸ªæ•´æ•° <code>n</code>ï¼Œæ±‚æ°ç”± <code>n</code> ä¸ªèŠ‚ç‚¹ç»„æˆä¸”èŠ‚ç‚¹å€¼ä» <code>1</code> åˆ° <code>n</code> äº’ä¸ç›¸åŒçš„<strong>äºŒå‰æœç´¢æ ‘</strong>æœ‰å¤šå°‘ç§ï¼Ÿè¿”å›æ»¡è¶³é¢˜æ„çš„äºŒå‰æœç´¢æ ‘çš„ç§æ•°ã€‚</p>
<p><strong>äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰çš„æ ¸å¿ƒè§„åˆ™ï¼š</strong></p>
<p>å¯¹ä»»æ„èŠ‚ç‚¹ï¼Œæ»¡è¶³ï¼š</p>
<ul>
<li>å·¦å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹å€¼ &lt; è¯¥èŠ‚ç‚¹å€¼ï¼›</li>
<li>å³å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹å€¼ &gt; è¯¥èŠ‚ç‚¹å€¼ï¼›</li>
<li>å·¦å³å­æ ‘ä¹Ÿå¿…é¡»æ˜¯BSTã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">è¾“å…¥ï¼š<span class="hljs-attr">n</span> = <span class="hljs-number">3</span>
è¾“å‡ºï¼š5
è§£é‡Šï¼šç»™å®š <span class="hljs-attr">n</span> = <span class="hljs-number">3</span>, ä¸€å…±æœ‰ <span class="hljs-number">5</span> ç§ä¸åŒç»“æ„çš„äºŒå‰æœç´¢æ ‘:

   1         3     3      2      1
    \       /     /      / \      \
     3     2     1      1   3      2
    /     /       \                 \
   2     1         2                 3
</code></pre>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">è¾“å…¥ï¼š<span class="hljs-attr">n</span> = <span class="hljs-number">1</span>
è¾“å‡ºï¼š1
</code></pre>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= n &lt;= 19</code></li>
</ul>
<h5 data-id="heading-38">DPäº”éƒ¨æ›²åˆ†æ</h5>
<ol>
<li>
<p><strong>dpæ•°ç»„å«ä¹‰</strong>ï¼š<code>dp[i]</code> è¡¨ç¤ºç”± i ä¸ªèŠ‚ç‚¹ç»„æˆçš„äºŒå‰æœç´¢æ ‘çš„ä¸åŒå½¢æ€æ•°é‡ï¼›</p>
</li>
<li>
<p><strong>é€’æ¨å…¬å¼</strong>ï¼š<code>dp[i] = Î£(dp[j-1] Ã— dp[i-j])</code>ï¼ˆj ä» 1 åˆ° iï¼Œj ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œå·¦å­æ ‘ j-1 ä¸ªèŠ‚ç‚¹ï¼Œå³å­æ ‘ i-j ä¸ªèŠ‚ç‚¹ï¼‰ï¼›</p>
</li>
<li>
<p><strong>åˆå§‹åŒ–</strong>ï¼š<code>dp[0] = 1</code>ï¼ˆç©ºæ ‘ç®—1ç§å½¢æ€ï¼‰ï¼Œ<code>dp[1] = 1</code>ï¼ˆ1ä¸ªèŠ‚ç‚¹åªæœ‰1ç§å½¢æ€ï¼‰ï¼›</p>
</li>
<li>
<p><strong>éå†é¡ºåº</strong>ï¼šä»å·¦åˆ°å³ï¼ˆi ä» 2 åˆ° nï¼‰ï¼Œå†…å±‚å¾ªç¯æšä¸¾æ ¹èŠ‚ç‚¹ä½ç½® jï¼ˆä» 1 åˆ° iï¼‰ï¼›</p>
</li>
<li>
<p><strong>æ‰“å°éªŒè¯</strong>ï¼šæ‰“å°æ¯ä¸ª <code>dp[i]</code>ï¼ŒéªŒè¯æ˜¯å¦ç¬¦åˆå¡ç‰¹å…°æ•°è§„å¾‹ï¼ˆå¦‚ dp[3]=5ï¼Œdp[4]=14ï¼‰ã€‚</p>
</li>
</ol>
<h5 data-id="heading-39">å…·ä½“åˆ†æ</h5>
<p><strong>ä¸ºä»€ä¹ˆç”¨åŠ¨æ€è§„åˆ’ï¼Ÿ</strong></p>
<p>è¦æ„é€  n ä¸ªèŠ‚ç‚¹çš„ BSTï¼Œæˆ‘ä»¬éœ€è¦é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºæ ¹ï¼Œç„¶åå°†å‰©ä½™çš„èŠ‚ç‚¹åˆ†é…åˆ°å·¦å­æ ‘å’Œå³å­æ ‘ã€‚ç”±äº BST çš„æ€§è´¨ï¼Œä¸€æ—¦æ ¹èŠ‚ç‚¹ç¡®å®šï¼Œå·¦å³å­æ ‘çš„èŠ‚ç‚¹é›†åˆä¹Ÿå°±ç¡®å®šäº†ï¼ˆæ¯”æ ¹å°çš„åœ¨å·¦ï¼Œæ¯”æ ¹å¤§çš„åœ¨å³ï¼‰ã€‚è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„<strong>é‡å å­é—®é¢˜</strong>ï¼šä¸åŒæ ¹èŠ‚ç‚¹é€‰æ‹©ä¸‹ï¼Œå·¦å³å­æ ‘çš„æ„é€ é—®é¢˜ä¼šé‡å¤å‡ºç°ã€‚</p>
<p><strong>æ€è·¯æ¨å¯¼ï¼š</strong></p>
<ol>
<li>
<p><strong>æ ¹èŠ‚ç‚¹é€‰æ‹©ç­–ç•¥</strong>ï¼š</p>
<ul>
<li>å¯¹äº n ä¸ªèŠ‚ç‚¹ï¼ˆå€¼ä¸º 1 åˆ° nï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ iï¼ˆ1 â‰¤ i â‰¤ nï¼‰ä½œä¸ºæ ¹</li>
<li>é€‰æ‹© i ä½œä¸ºæ ¹åï¼š
<ul>
<li>å·¦å­æ ‘å¿…é¡»åŒ…å«æ‰€æœ‰å°äº i çš„èŠ‚ç‚¹ï¼ˆ1 åˆ° i-1ï¼‰ï¼Œå…± i-1 ä¸ªèŠ‚ç‚¹</li>
<li>å³å­æ ‘å¿…é¡»åŒ…å«æ‰€æœ‰å¤§äº i çš„èŠ‚ç‚¹ï¼ˆi+1 åˆ° nï¼‰ï¼Œå…± n-i ä¸ªèŠ‚ç‚¹</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>çŠ¶æ€å®šä¹‰</strong>ï¼š<code>dp[i]</code> è¡¨ç¤ºç”± i ä¸ªèŠ‚ç‚¹ç»„æˆçš„ BST çš„ä¸åŒå½¢æ€æ•°é‡ã€‚</p>
</li>
<li>
<p><strong>çŠ¶æ€è½¬ç§»</strong>ï¼š</p>
<ul>
<li>å¯¹äº n ä¸ªèŠ‚ç‚¹ï¼Œæšä¸¾æ ¹èŠ‚ç‚¹ jï¼ˆ1 â‰¤ j â‰¤ nï¼‰</li>
<li>ä»¥ j ä¸ºæ ¹çš„ BST æ•°é‡ = å·¦å­æ ‘å½¢æ€æ•° Ã— å³å­æ ‘å½¢æ€æ•° = <code>dp[j-1] Ã— dp[n-j]</code></li>
<li>æ€»æ•°é‡ = æ‰€æœ‰æ ¹èŠ‚ç‚¹å¯¹åº”çš„æ–¹æ¡ˆæ•°ä¹‹å’Œï¼š<code>dp[n] = Î£(dp[j-1] Ã— dp[n-j])</code>ï¼ˆj ä» 1 åˆ° nï¼‰</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆ dp[0] = 1ï¼Ÿ</strong></p>
<ul>
<li>ç©ºæ ‘ä¹Ÿæ˜¯ä¸€ç§åˆæ³•çš„ BST å½¢æ€</li>
<li>å½“æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘æˆ–å³å­æ ‘ä¸ºç©ºæ—¶ï¼Œéœ€è¦ç”¨åˆ° <code>dp[0]</code></li>
<li>ä¾‹å¦‚ï¼šn=1 æ—¶ï¼Œé€‰ 1 å½“æ ¹ï¼Œå·¦å³å­æ ‘éƒ½æ˜¯ç©ºæ ‘ï¼Œæ–¹æ¡ˆæ•° = <code>dp[0] Ã— dp[0] = 1 Ã— 1 = 1</code></li>
</ul>
</li>
<li>
<p><strong>å¡ç‰¹å…°æ•°å…³ç³»</strong>ï¼š</p>
<ul>
<li>è¿™ä¸ªé—®é¢˜çš„ç»“æœæ°å¥½æ˜¯ç¬¬ n ä¸ª<a href="https://juejin.cn/post/7590712589297123334" target="_blank" title="https://juejin.cn/post/7590712589297123334">å¡ç‰¹å…°æ•°</a></li>
<li>å¡ç‰¹å…°æ•°çš„é€’æ¨å…¬å¼ï¼š<code>C(n) = Î£(C(i-1) Ã— C(n-i))</code>ï¼ˆi ä» 1 åˆ° nï¼‰</li>
<li>è¿™ä¸æˆ‘ä»¬çš„ DP é€’æ¨å…¬å¼å®Œå…¨ä¸€è‡´</li>
</ul>
</li>
</ol>
<p><strong>æ‰§è¡Œè¿‡ç¨‹ç¤ºä¾‹ï¼ˆn=4ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">dp<span class="hljs-section">[0]</span> = 1  (åˆå§‹åŒ–ï¼šç©ºæ ‘ç®—1ç§)
dp<span class="hljs-section">[1]</span> = 1  (åˆå§‹åŒ–ï¼š1ä¸ªèŠ‚ç‚¹åªæœ‰1ç§å½¢æ€)

dp<span class="hljs-section">[2]</span>ï¼š
  <span class="hljs-attr">j</span>=<span class="hljs-number">1</span>: dp[<span class="hljs-number">0</span>] Ã— dp[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span> Ã— <span class="hljs-number">1</span> = <span class="hljs-number">1</span>  (<span class="hljs-number">1</span>ä¸ºæ ¹ï¼Œå·¦ç©ºå³<span class="hljs-number">1</span>ä¸ªèŠ‚ç‚¹)
  <span class="hljs-attr">j</span>=<span class="hljs-number">2</span>: dp[<span class="hljs-number">1</span>] Ã— dp[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span> Ã— <span class="hljs-number">1</span> = <span class="hljs-number">1</span>  (<span class="hljs-number">2</span>ä¸ºæ ¹ï¼Œå·¦<span class="hljs-number">1</span>ä¸ªèŠ‚ç‚¹å³ç©º)
  dp<span class="hljs-section">[2]</span> = 1 + <span class="hljs-attr">1</span> = <span class="hljs-number">2</span>

dp<span class="hljs-section">[3]</span>ï¼š
  <span class="hljs-attr">j</span>=<span class="hljs-number">1</span>: dp[<span class="hljs-number">0</span>] Ã— dp[<span class="hljs-number">2</span>] = <span class="hljs-number">1</span> Ã— <span class="hljs-number">2</span> = <span class="hljs-number">2</span>  (<span class="hljs-number">1</span>ä¸ºæ ¹ï¼Œå·¦ç©ºå³<span class="hljs-number">2</span>ä¸ªèŠ‚ç‚¹)
  <span class="hljs-attr">j</span>=<span class="hljs-number">2</span>: dp[<span class="hljs-number">1</span>] Ã— dp[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span> Ã— <span class="hljs-number">1</span> = <span class="hljs-number">1</span>  (<span class="hljs-number">2</span>ä¸ºæ ¹ï¼Œå·¦<span class="hljs-number">1</span>ä¸ªèŠ‚ç‚¹å³<span class="hljs-number">1</span>ä¸ªèŠ‚ç‚¹)
  <span class="hljs-attr">j</span>=<span class="hljs-number">3</span>: dp[<span class="hljs-number">2</span>] Ã— dp[<span class="hljs-number">0</span>] = <span class="hljs-number">2</span> Ã— <span class="hljs-number">1</span> = <span class="hljs-number">2</span>  (<span class="hljs-number">3</span>ä¸ºæ ¹ï¼Œå·¦<span class="hljs-number">2</span>ä¸ªèŠ‚ç‚¹å³ç©º)
  dp<span class="hljs-section">[3]</span> = 2 + 1 + <span class="hljs-attr">2</span> = <span class="hljs-number">5</span>

dp<span class="hljs-section">[4]</span>ï¼š
  <span class="hljs-attr">j</span>=<span class="hljs-number">1</span>: dp[<span class="hljs-number">0</span>] Ã— dp[<span class="hljs-number">3</span>] = <span class="hljs-number">1</span> Ã— <span class="hljs-number">5</span> = <span class="hljs-number">5</span>
  <span class="hljs-attr">j</span>=<span class="hljs-number">2</span>: dp[<span class="hljs-number">1</span>] Ã— dp[<span class="hljs-number">2</span>] = <span class="hljs-number">1</span> Ã— <span class="hljs-number">2</span> = <span class="hljs-number">2</span>
  <span class="hljs-attr">j</span>=<span class="hljs-number">3</span>: dp[<span class="hljs-number">2</span>] Ã— dp[<span class="hljs-number">1</span>] = <span class="hljs-number">2</span> Ã— <span class="hljs-number">1</span> = <span class="hljs-number">2</span>
  <span class="hljs-attr">j</span>=<span class="hljs-number">4</span>: dp[<span class="hljs-number">3</span>] Ã— dp[<span class="hljs-number">0</span>] = <span class="hljs-number">5</span> Ã— <span class="hljs-number">1</span> = <span class="hljs-number">5</span>
  dp<span class="hljs-section">[4]</span> = 5 + 2 + 2 + <span class="hljs-attr">5</span> = <span class="hljs-number">14</span>
</code></pre>
<p><strong>å…³é”®æ´å¯Ÿ</strong>ï¼š</p>
<ul>
<li>BST çš„æ€§è´¨å†³å®šäº†"æ ¹èŠ‚ç‚¹é€‰æ‹©"åï¼Œå·¦å³å­æ ‘çš„èŠ‚ç‚¹é›†åˆæ˜¯<strong>å”¯ä¸€ç¡®å®š</strong>çš„</li>
<li>ä¸åŒæ ¹èŠ‚ç‚¹å¯¹åº”çš„å·¦å³å­æ ‘å¤§å°ä¸åŒï¼Œä½†æ„é€ æ–¹å¼ç›¸åŒï¼ˆéƒ½æ˜¯ BST æ„é€ é—®é¢˜ï¼‰</li>
<li>è¿™å½¢æˆäº†é‡å å­é—®é¢˜ï¼Œé€‚åˆç”¨åŠ¨æ€è§„åˆ’è§£å†³</li>
</ul>
<h5 data-id="heading-40">å®ç°ä»£ç </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">numTrees</span>(<span class="hljs-params">n</span>) {
  <span class="hljs-comment">// dp[i]ï¼šç”± i ä¸ªèŠ‚ç‚¹ç»„æˆçš„äºŒå‰æœç´¢æ ‘çš„ä¸åŒå½¢æ€æ•°é‡</span>
  <span class="hljs-keyword">const</span> dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(n + <span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>);

  <span class="hljs-comment">// åˆå§‹åŒ–ï¼šç©ºæ ‘ç®—1ç§ï¼Œ1ä¸ªèŠ‚ç‚¹ç®—1ç§</span>
  dp[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;
  dp[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;

  <span class="hljs-comment">// éå†è®¡ç®— 2~n ä¸ªèŠ‚ç‚¹çš„ BST æ•°é‡</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++) {
    <span class="hljs-keyword">let</span> sum = <span class="hljs-number">0</span>;
    <span class="hljs-comment">// æšä¸¾æ‰€æœ‰å¯èƒ½çš„æ ¹èŠ‚ç‚¹ä½ç½® j</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">1</span>; j &lt;= i; j++) {
      <span class="hljs-keyword">const</span> leftCount = j - <span class="hljs-number">1</span>; <span class="hljs-comment">// å·¦å­æ ‘èŠ‚ç‚¹æ•°</span>
      <span class="hljs-keyword">const</span> rightCount = i - j; <span class="hljs-comment">// å³å­æ ‘èŠ‚ç‚¹æ•°</span>
      sum += dp[leftCount] * dp[rightCount];
    }
    dp[i] = sum;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`dp[<span class="hljs-subst">${i}</span>] = <span class="hljs-subst">${dp[i]}</span>`</span>); <span class="hljs-comment">// æ‰“å°éªŒè¯</span>
  }

  <span class="hljs-keyword">return</span> dp[n];
}
</code></pre>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(nÂ²)ï¼Œå¤–å±‚å¾ªç¯ n æ¬¡ï¼Œå†…å±‚å¾ªç¯æœ€å¤š n æ¬¡</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(n)ï¼Œdp æ•°ç»„å­˜å‚¨ n+1 ä¸ªå€¼</li>
</ul>
<h4 data-id="heading-41">é—®é¢˜7ï¼š01èƒŒåŒ…é—®é¢˜ï¼ˆç»å…¸ï¼‰</h4>
<p><strong>LeetCode ç›¸å…³é¢˜ç›®</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fpartition-equal-subset-sum%2F" target="_blank" title="https://leetcode.cn/problems/partition-equal-subset-sum/" ref="nofollow noopener noreferrer">416. åˆ†å‰²ç­‰å’Œå­é›†</a>ï¼ˆ01èƒŒåŒ…å˜ç§ï¼‰</p>
<h5 data-id="heading-42">é—®é¢˜æè¿°</h5>
<p>æœ‰ <code>n</code> ä»¶ç‰©å“å’Œä¸€ä¸ªæœ€å¤šèƒ½èƒŒé‡é‡ä¸º <code>w</code> çš„èƒŒåŒ…ã€‚ç¬¬ <code>i</code> ä»¶ç‰©å“çš„é‡é‡æ˜¯ <code>weight[i]</code>ï¼Œå¾—åˆ°çš„ä»·å€¼æ˜¯ <code>value[i]</code>ã€‚<strong>æ¯ä»¶ç‰©å“åªèƒ½ç”¨ä¸€æ¬¡</strong>ï¼Œæ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…é‡Œç‰©å“ä»·å€¼æ€»å’Œæœ€å¤§ã€‚</p>
<p><strong>01èƒŒåŒ…çš„æ ¸å¿ƒç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li><strong>0</strong>ï¼šä¸é€‰å½“å‰ç‰©å“</li>
<li><strong>1</strong>ï¼šé€‰å½“å‰ç‰©å“ï¼ˆåªèƒ½ç”¨ä¸€æ¬¡ï¼‰</li>
<li>æ¯ä¸ªç‰©å“åªæœ‰"é€‰"æˆ–"ä¸é€‰"ä¸¤ç§çŠ¶æ€</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">è¾“å…¥ï¼š
<span class="hljs-attr">n</span> = <span class="hljs-number">2</span>ï¼ˆç‰©å“æ•°é‡ï¼‰
<span class="hljs-attr">w</span> = <span class="hljs-number">5</span>ï¼ˆèƒŒåŒ…å®¹é‡ï¼‰
<span class="hljs-attr">weight</span> = [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>]ï¼ˆç‰©å“é‡é‡ï¼‰
<span class="hljs-attr">value</span> = [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]ï¼ˆç‰©å“ä»·å€¼ï¼‰

è¾“å‡ºï¼š7
è§£é‡Šï¼šé€‰æ‹©ç‰©å“1ï¼ˆé‡é‡2ï¼Œä»·å€¼3ï¼‰å’Œç‰©å“2ï¼ˆé‡é‡3ï¼Œä»·å€¼4ï¼‰ï¼Œæ€»é‡é‡5ï¼Œæ€»ä»·å€¼7ã€‚
</code></pre>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">è¾“å…¥ï¼š
<span class="hljs-attr">n</span> = <span class="hljs-number">3</span>
<span class="hljs-attr">w</span> = <span class="hljs-number">4</span>
<span class="hljs-attr">weight</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]
<span class="hljs-attr">value</span> = [<span class="hljs-number">15</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>]

è¾“å‡ºï¼š35
è§£é‡Šï¼šé€‰æ‹©ç‰©å“1ï¼ˆé‡é‡1ï¼Œä»·å€¼15ï¼‰å’Œç‰©å“2ï¼ˆé‡é‡3ï¼Œä»·å€¼20ï¼‰ï¼Œæ€»é‡é‡4ï¼Œæ€»ä»·å€¼35ã€‚
</code></pre>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= n &lt;= 100</code></li>
<li><code>1 &lt;= w &lt;= 1000</code></li>
<li><code>1 &lt;= weight[i] &lt;= w</code></li>
<li><code>0 &lt;= value[i] &lt;= 1000</code></li>
</ul>
<h5 data-id="heading-43">DPäº”éƒ¨æ›²åˆ†æ</h5>
<ol>
<li>
<p><strong>dpæ•°ç»„å«ä¹‰</strong>ï¼š<code>dp[i][j]</code> è¡¨ç¤ºä»å‰ <code>i</code> ä»¶ç‰©å“ä¸­é€‰æ‹©ï¼Œåœ¨å®¹é‡ä¸º <code>j</code> çš„èƒŒåŒ…ä¸­èƒ½è·å¾—çš„æœ€å¤§ä»·å€¼ï¼›</p>
</li>
<li>
<p><strong>é€’æ¨å…¬å¼</strong>ï¼š</p>
<ul>
<li>ä¸é€‰ç¬¬ i ä»¶ç‰©å“ï¼š<code>dp[i][j] = dp[i-1][j]</code>ï¼ˆç»§æ‰¿ä¸Šä¸€è¡Œçš„ç»“æœï¼‰</li>
<li>é€‰ç¬¬ i ä»¶ç‰©å“ï¼š<code>dp[i][j] = dp[i-1][j-weight[i-1]] + value[i-1]</code>ï¼ˆéœ€è¦å®¹é‡è¶³å¤Ÿï¼‰</li>
<li>å–æœ€å¤§å€¼ï¼š<code>dp[i][j] = Math.max(dp[i-1][j], dp[i-1][j-weight[i-1]] + value[i-1])</code></li>
</ul>
</li>
<li>
<p><strong>åˆå§‹åŒ–</strong>ï¼š</p>
<ul>
<li><code>dp[0][j] = 0</code>ï¼ˆ0ä»¶ç‰©å“ï¼Œä»»ä½•å®¹é‡çš„ä»·å€¼éƒ½æ˜¯0ï¼‰</li>
<li><code>dp[i][0] = 0</code>ï¼ˆå®¹é‡ä¸º0ï¼Œä»»ä½•ç‰©å“éƒ½æ— æ³•è£…å…¥ï¼‰</li>
</ul>
</li>
<li>
<p><strong>éå†é¡ºåº</strong>ï¼šå¤–å±‚éå†ç‰©å“ï¼ˆi ä» 1 åˆ° nï¼‰ï¼Œå†…å±‚éå†å®¹é‡ï¼ˆj ä» 1 åˆ° wï¼‰ï¼›</p>
</li>
<li>
<p><strong>æ‰“å°éªŒè¯</strong>ï¼šæ‰“å° dp æ•°ç»„ï¼ŒéªŒè¯æ¯ä¸€æ­¥çš„è®¡ç®—æ˜¯å¦æ­£ç¡®ï¼ˆç‰¹åˆ«æ˜¯è¾¹ç•Œæƒ…å†µå’Œæœ€å¤§å€¼çš„é€‰æ‹©ï¼‰ã€‚</p>
</li>
</ol>
<h5 data-id="heading-44">å…·ä½“åˆ†æ</h5>
<p><strong>ä¸ºä»€ä¹ˆç”¨åŠ¨æ€è§„åˆ’ï¼Ÿ</strong></p>
<p>01èƒŒåŒ…é—®é¢˜å…·æœ‰<strong>é‡å å­é—®é¢˜</strong>å’Œ<strong>æœ€ä¼˜å­ç»“æ„</strong>çš„ç‰¹å¾ï¼š</p>
<ul>
<li><strong>é‡å å­é—®é¢˜</strong>ï¼šè®¡ç®— <code>dp[i][j]</code> æ—¶ï¼Œéœ€è¦ç”¨åˆ° <code>dp[i-1][j]</code> å’Œ <code>dp[i-1][j-weight[i-1]]</code>ï¼Œè¿™äº›å­é—®é¢˜ä¼šè¢«é‡å¤è®¡ç®—</li>
<li><strong>æœ€ä¼˜å­ç»“æ„</strong>ï¼šå‰ i ä»¶ç‰©å“åœ¨å®¹é‡ j ä¸‹çš„æœ€ä¼˜è§£ï¼ŒåŒ…å«äº†å‰ i-1 ä»¶ç‰©å“åœ¨æ›´å°å®¹é‡ä¸‹çš„æœ€ä¼˜è§£</li>
</ul>
<p><strong>æ€è·¯æ¨å¯¼ï¼š</strong></p>
<ol>
<li>
<p><strong>çŠ¶æ€å®šä¹‰</strong>ï¼š</p>
<ul>
<li><code>dp[i][j]</code> è¡¨ç¤ºä»å‰ i ä»¶ç‰©å“ä¸­é€‰æ‹©ï¼Œåœ¨å®¹é‡ä¸º j çš„èƒŒåŒ…ä¸­èƒ½è·å¾—çš„æœ€å¤§ä»·å€¼</li>
<li>è¿™æ˜¯ä¸€ä¸ª<strong>äºŒç»´DP</strong>é—®é¢˜ï¼Œå› ä¸ºéœ€è¦è€ƒè™‘ä¸¤ä¸ªç»´åº¦ï¼šç‰©å“æ•°é‡å’ŒèƒŒåŒ…å®¹é‡</li>
</ul>
</li>
<li>
<p><strong>çŠ¶æ€è½¬ç§»çš„æ ¸å¿ƒæ€æƒ³</strong>ï¼š</p>
<ul>
<li>å¯¹äºç¬¬ i ä»¶ç‰©å“ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§é€‰æ‹©ï¼š
<ul>
<li><strong>ä¸é€‰</strong>ï¼š<code>dp[i][j] = dp[i-1][j]</code>ï¼ˆå®¹é‡ä¸å˜ï¼Œä»·å€¼ä¸å˜ï¼‰</li>
<li><strong>é€‰</strong>ï¼š<code>dp[i][j] = dp[i-1][j-weight[i-1]] + value[i-1]</code>ï¼ˆéœ€è¦å…ˆè…¾å‡º weight[i-1] çš„å®¹é‡ï¼Œç„¶ååŠ ä¸Šå½“å‰ç‰©å“çš„ä»·å€¼ï¼‰</li>
</ul>
</li>
<li>å–ä¸¤è€…çš„æœ€å¤§å€¼</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆæ˜¯ <code>dp[i-1][j-weight[i-1]]</code>ï¼Ÿ</strong></p>
<ul>
<li>å› ä¸ºæ¯ä¸ªç‰©å“åªèƒ½ç”¨ä¸€æ¬¡ï¼Œæ‰€ä»¥é€‰æ‹©ç¬¬ i ä»¶ç‰©å“æ—¶ï¼Œå¿…é¡»åŸºäº"å‰ i-1 ä»¶ç‰©å“"çš„çŠ¶æ€</li>
<li><code>j-weight[i-1]</code> è¡¨ç¤ºé€‰æ‹©å½“å‰ç‰©å“åï¼Œå‰©ä½™çš„å®¹é‡</li>
<li><code>dp[i-1][j-weight[i-1]]</code> è¡¨ç¤ºåœ¨å‰©ä½™å®¹é‡ä¸‹ï¼Œå‰ i-1 ä»¶ç‰©å“èƒ½è·å¾—çš„æœ€å¤§ä»·å€¼</li>
</ul>
</li>
<li>
<p><strong>è¾¹ç•Œæ¡ä»¶å¤„ç†</strong>ï¼š</p>
<ul>
<li>å½“ <code>j &lt; weight[i-1]</code> æ—¶ï¼Œå½“å‰ç‰©å“è£…ä¸ä¸‹ï¼Œåªèƒ½ä¸é€‰ï¼š<code>dp[i][j] = dp[i-1][j]</code></li>
</ul>
</li>
</ol>
<p><strong>æ‰§è¡Œè¿‡ç¨‹ç¤ºä¾‹ï¼ˆn=2, w=5, weight=[2,3], value=[3,4]ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">åˆå§‹åŒ– dp æ•°ç»„ï¼ˆ3è¡Œ6åˆ—ï¼Œå…¨0ï¼‰ï¼š
| i\j | 0 | 1 | 2 | 3 | 4 | 5 |
| --- |---|---|---|---|---|---|
| 0   | 0 | 0 | 0 | 0 | 0 | 0 |
| 1   | 0 | 0 | 0 | 0 | 0 | 0 |
| 2   | 0 | 0 | 0 | 0 | 0 | 0 |

è®¡ç®— <span class="hljs-attr">i</span>=<span class="hljs-number">1</span>ï¼ˆè€ƒè™‘ç‰©å“<span class="hljs-number">1</span>ï¼Œé‡é‡<span class="hljs-number">2</span>ï¼Œä»·å€¼<span class="hljs-number">3</span>ï¼‰ï¼š
<span class="hljs-attr">j</span>=<span class="hljs-number">1</span>: å®¹é‡<span class="hljs-number">1</span> &lt; é‡é‡<span class="hljs-number">2</span>ï¼Œè£…ä¸ä¸‹ â†’ dp[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = dp[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>
<span class="hljs-attr">j</span>=<span class="hljs-number">2</span>: å®¹é‡<span class="hljs-number">2</span> â‰¥ é‡é‡<span class="hljs-number">2</span>ï¼Œå¯ä»¥è£…
     - ä¸é€‰ï¼šdp<span class="hljs-section">[0]</span><span class="hljs-section">[2]</span> = 0
     - é€‰ï¼šdp<span class="hljs-section">[0]</span><span class="hljs-section">[2-2]</span> + <span class="hljs-attr">3</span> = dp[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] + <span class="hljs-number">3</span> = <span class="hljs-number">0</span> + <span class="hljs-number">3</span> = <span class="hljs-number">3</span>
     - å–maxï¼šdp<span class="hljs-section">[1]</span><span class="hljs-section">[2]</span> = 3
<span class="hljs-attr">j</span>=<span class="hljs-number">3</span>: å®¹é‡<span class="hljs-number">3</span> â‰¥ é‡é‡<span class="hljs-number">2</span>ï¼Œå¯ä»¥è£…
     - ä¸é€‰ï¼šdp<span class="hljs-section">[0]</span><span class="hljs-section">[3]</span> = 0
     - é€‰ï¼šdp<span class="hljs-section">[0]</span><span class="hljs-section">[3-2]</span> + <span class="hljs-attr">3</span> = dp[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] + <span class="hljs-number">3</span> = <span class="hljs-number">0</span> + <span class="hljs-number">3</span> = <span class="hljs-number">3</span>
     - å–maxï¼šdp<span class="hljs-section">[1]</span><span class="hljs-section">[3]</span> = 3
<span class="hljs-attr">j</span>=<span class="hljs-number">4</span>: åŒç†ï¼Œdp[<span class="hljs-number">1</span>][<span class="hljs-number">4</span>] = <span class="hljs-number">3</span>
<span class="hljs-attr">j</span>=<span class="hljs-number">5</span>: åŒç†ï¼Œdp[<span class="hljs-number">1</span>][<span class="hljs-number">5</span>] = <span class="hljs-number">3</span>

æ­¤æ—¶ dp æ•°ç»„ï¼š
| i\j | 0 | 1 | 2 | 3 | 4 | 5 |
| --- |---|---|---|---|---|---|
| 0   | 0 | 0 | 0 | 0 | 0 | 0 |
| 1   | 0 | 0 | 3 | 3 | 3 | 3 |
| 2   | 0 | 0 | 0 | 0 | 0 | 0 |

è®¡ç®— <span class="hljs-attr">i</span>=<span class="hljs-number">2</span>ï¼ˆè€ƒè™‘ç‰©å“<span class="hljs-number">2</span>ï¼Œé‡é‡<span class="hljs-number">3</span>ï¼Œä»·å€¼<span class="hljs-number">4</span>ï¼‰ï¼š
<span class="hljs-attr">j</span>=<span class="hljs-number">1</span>: å®¹é‡<span class="hljs-number">1</span> &lt; é‡é‡<span class="hljs-number">3</span>ï¼Œè£…ä¸ä¸‹ â†’ dp[<span class="hljs-number">2</span>][<span class="hljs-number">1</span>] = dp[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>
<span class="hljs-attr">j</span>=<span class="hljs-number">2</span>: å®¹é‡<span class="hljs-number">2</span> &lt; é‡é‡<span class="hljs-number">3</span>ï¼Œè£…ä¸ä¸‹ â†’ dp[<span class="hljs-number">2</span>][<span class="hljs-number">2</span>] = dp[<span class="hljs-number">1</span>][<span class="hljs-number">2</span>] = <span class="hljs-number">3</span>
<span class="hljs-attr">j</span>=<span class="hljs-number">3</span>: å®¹é‡<span class="hljs-number">3</span> â‰¥ é‡é‡<span class="hljs-number">3</span>ï¼Œå¯ä»¥è£…
     - ä¸é€‰ï¼šdp<span class="hljs-section">[1]</span><span class="hljs-section">[3]</span> = 3
     - é€‰ï¼šdp<span class="hljs-section">[1]</span><span class="hljs-section">[3-3]</span> + <span class="hljs-attr">4</span> = dp[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] + <span class="hljs-number">4</span> = <span class="hljs-number">0</span> + <span class="hljs-number">4</span> = <span class="hljs-number">4</span>
     - å–maxï¼šdp<span class="hljs-section">[2]</span><span class="hljs-section">[3]</span> = 4
<span class="hljs-attr">j</span>=<span class="hljs-number">4</span>: å®¹é‡<span class="hljs-number">4</span> â‰¥ é‡é‡<span class="hljs-number">3</span>ï¼Œå¯ä»¥è£…
     - ä¸é€‰ï¼šdp<span class="hljs-section">[1]</span><span class="hljs-section">[4]</span> = 3
     - é€‰ï¼šdp<span class="hljs-section">[1]</span><span class="hljs-section">[4-3]</span> + <span class="hljs-attr">4</span> = dp[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] + <span class="hljs-number">4</span> = <span class="hljs-number">0</span> + <span class="hljs-number">4</span> = <span class="hljs-number">4</span>
     - å–maxï¼šdp<span class="hljs-section">[2]</span><span class="hljs-section">[4]</span> = 4
<span class="hljs-attr">j</span>=<span class="hljs-number">5</span>: å®¹é‡<span class="hljs-number">5</span> â‰¥ é‡é‡<span class="hljs-number">3</span>ï¼Œå¯ä»¥è£…
     - ä¸é€‰ï¼šdp<span class="hljs-section">[1]</span><span class="hljs-section">[5]</span> = 3
     - é€‰ï¼šdp<span class="hljs-section">[1]</span><span class="hljs-section">[5-3]</span> + <span class="hljs-attr">4</span> = dp[<span class="hljs-number">1</span>][<span class="hljs-number">2</span>] + <span class="hljs-number">4</span> = <span class="hljs-number">3</span> + <span class="hljs-number">4</span> = <span class="hljs-number">7</span>
     - å–maxï¼šdp<span class="hljs-section">[2]</span><span class="hljs-section">[5]</span> = 7

æœ€ç»ˆ dp æ•°ç»„ï¼š
| i\j | 0 | 1 | 2 | 3 | 4 | 5 |
| --- |---|---|---|---|---|---|
| 0   | 0 | 0 | 0 | 0 | 0 | 0 |
| 1   | 0 | 0 | 3 | 3 | 3 | 3 |
| 2   | 0 | 0 | 3 | 4 | 4 | 7 |

æœ€ç»ˆç­”æ¡ˆï¼šdp<span class="hljs-section">[2]</span><span class="hljs-section">[5]</span> = 7ï¼ˆé€‰æ‹©ç‰©å“1å’Œç‰©å“2ï¼Œæ€»ä»·å€¼3+<span class="hljs-attr">4</span>=<span class="hljs-number">7</span>ï¼‰
</code></pre>
<p><strong>å…³é”®æ´å¯Ÿ</strong>ï¼š</p>
<ul>
<li>01èƒŒåŒ…çš„æ ¸å¿ƒæ˜¯"é€‰æˆ–ä¸é€‰"çš„å†³ç­–ï¼Œæ¯ä¸ªç‰©å“åªæœ‰ä¸€æ¬¡æœºä¼š</li>
<li>çŠ¶æ€è½¬ç§»æ—¶ï¼Œå¿…é¡»åŸºäº"å‰ i-1 ä»¶ç‰©å“"çš„çŠ¶æ€ï¼Œä½“ç°"åªèƒ½ç”¨ä¸€æ¬¡"çš„çº¦æŸ</li>
<li>äºŒç»´DPå¯ä»¥æ¸…æ™°åœ°è¡¨è¾¾"ç‰©å“æ•°é‡"å’Œ"å®¹é‡"ä¸¤ä¸ªç»´åº¦çš„å…³ç³»</li>
</ul>
<h5 data-id="heading-45">å®ç°ä»£ç </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * 01èƒŒåŒ…æœ€å¤§ä»·å€¼è®¡ç®—ï¼ˆäºŒç»´DPç‰ˆæœ¬ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">n</span> - ç‰©å“æ€»æ•°
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">w</span> - èƒŒåŒ…æœ€å¤§å®¹é‡
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number[]</span>} <span class="hljs-variable">weightArr</span> - ç‰©å“é‡é‡æ•°ç»„ï¼ˆ0-basedï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number[]</span>} <span class="hljs-variable">valueArr</span> - ç‰©å“ä»·å€¼æ•°ç»„ï¼ˆ0-basedï¼‰
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">number</span>} - æœ€å¤§ä»·å€¼
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">maxValue</span>(<span class="hljs-params">n, w, weightArr, valueArr</span>) {
  <span class="hljs-comment">// dp[i][k]ï¼šä»å‰ i ä»¶ç‰©å“ä¸­é€‰æ‹©ï¼Œå®¹é‡ä¸º k æ—¶çš„æœ€å¤§ä»·å€¼</span>
  <span class="hljs-keyword">const</span> dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(n + <span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(w + <span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>));

  <span class="hljs-comment">// å¤–å±‚å¾ªç¯ï¼šéå†ç‰©å“ï¼ˆ1~nï¼‰</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) {
    <span class="hljs-comment">// å†…å±‚å¾ªç¯ï¼šéå†å®¹é‡ï¼ˆ1~wï¼‰</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> k = <span class="hljs-number">1</span>; k &lt;= w; k++) {
      <span class="hljs-keyword">const</span> curWeight = weightArr[i - <span class="hljs-number">1</span>]; <span class="hljs-comment">// å½“å‰ç‰©å“é‡é‡</span>
      <span class="hljs-keyword">const</span> curValue = valueArr[i - <span class="hljs-number">1</span>]; <span class="hljs-comment">// å½“å‰ç‰©å“ä»·å€¼</span>

      <span class="hljs-comment">// ä¸é€‰å½“å‰ç‰©å“ï¼šç»§æ‰¿ä¸Šä¸€è¡Œçš„ç»“æœ</span>
      <span class="hljs-keyword">const</span> valueNotChoose = dp[i - <span class="hljs-number">1</span>][k];

      <span class="hljs-keyword">if</span> (curWeight &gt; k) {
        <span class="hljs-comment">// å½“å‰ç‰©å“è¶…é‡ï¼Œåªèƒ½ä¸é€‰</span>
        dp[i][k] = valueNotChoose;
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// é€‰å½“å‰ç‰©å“ï¼šå½“å‰ä»·å€¼ + å‰©ä½™å®¹é‡çš„æœ€å¤§ä»·å€¼</span>
        <span class="hljs-keyword">const</span> valueChoose = curValue + dp[i - <span class="hljs-number">1</span>][k - curWeight];
        <span class="hljs-comment">// å–é€‰/ä¸é€‰çš„æœ€å¤§å€¼</span>
        dp[i][k] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(valueNotChoose, valueChoose);
      }
    }
  }

  <span class="hljs-comment">// æ‰“å°dpæ•°ç»„ï¼Œæ–¹ä¾¿éªŒè¯ï¼ˆå¯é€‰ï¼‰</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'dpæ•°ç»„ï¼š'</span>, dp);
  <span class="hljs-comment">// æœ€ç»ˆç»“æœï¼šå‰ n ä»¶ç‰©å“ï¼Œå®¹é‡ w æ—¶çš„æœ€å¤§ä»·å€¼</span>
  <span class="hljs-keyword">return</span> dp[n][w];
}

<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹</span>
<span class="hljs-keyword">const</span> n = <span class="hljs-number">2</span>;
<span class="hljs-keyword">const</span> w = <span class="hljs-number">5</span>;
<span class="hljs-keyword">const</span> weightArr = [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
<span class="hljs-keyword">const</span> valueArr = [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>];
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æœ€å¤§ä»·å€¼ï¼š'</span>, <span class="hljs-title function_">maxValue</span>(n, w, weightArr, valueArr)); <span class="hljs-comment">// è¾“å‡ºï¼š7</span>
</code></pre>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(n Ã— w)ï¼Œéœ€è¦å¡«å…… nÃ—w çš„äºŒç»´æ•°ç»„</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(n Ã— w)ï¼ŒäºŒç»´DPæ•°ç»„çš„ç©ºé—´</li>
</ul>
<p><strong>ç©ºé—´ä¼˜åŒ–ï¼šäºŒç»´DP â†’ ä¸€ç»´DP</strong></p>
<p>äºŒç»´ DP ä¸­ï¼Œè®¡ç®— <code>dp[i][k]</code>ï¼ˆå‰ i ä»¶ã€å®¹é‡ kï¼‰åªä¾èµ–ã€Œä¸Šä¸€è¡Œã€çš„ä¸¤ä¸ªå€¼ï¼š</p>
<ul>
<li><code>dp[i-1][k]</code>ï¼ˆä¸é€‰å½“å‰ç‰©å“ï¼Œä¸Šä¸€è¡ŒåŒåˆ—ï¼‰</li>
<li><code>dp[i-1][k-weight]</code>ï¼ˆé€‰å½“å‰ç‰©å“ï¼Œä¸Šä¸€è¡Œå·¦ä¾§åˆ—ï¼‰</li>
</ul>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“å‰è¡Œçš„å€¼åªå’Œä¸Šä¸€è¡Œæœ‰å…³ï¼Œä¸éœ€è¦ä¿å­˜æ‰€æœ‰è¡Œçš„å†å²æ•°æ® â€”â€” åªç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„ <code>dp[k]</code> è®°å½•ã€Œä¸Šä¸€è¡Œã€çš„ç»“æœï¼Œå°±èƒ½æ¨å¯¼å‡ºå½“å‰è¡Œã€‚</p>
<p><strong>å…³é”®ï¼šä¸ºä»€ä¹ˆå¿…é¡»å€’åºéå†å®¹é‡ï¼Ÿ</strong></p>
<p>ä¸€ç»´æ•°ç»„ <code>dp[k]</code> çš„æœ¬è´¨æ˜¯<strong>å¤ç”¨åŒä¸€ä¸ªæ•°ç»„</strong>ï¼Œæ—¢å­˜ã€Œä¸Šä¸€è¡Œï¼ˆå‰ i-1 ä»¶ç‰©å“ï¼‰ã€çš„ç»“æœï¼Œåˆå­˜ã€Œå½“å‰è¡Œï¼ˆå‰ i ä»¶ç‰©å“ï¼‰ã€çš„ç»“æœã€‚</p>
<ul>
<li><strong>å€’åºéå†ï¼ˆk ä» w åˆ° 1ï¼‰</strong>ï¼šè®¡ç®— <code>dp[k]</code> æ—¶ï¼Œ<code>dp[k-weight]</code> è¿˜æ˜¯ä¸Šä¸€è¡Œçš„æ—§å€¼ï¼Œä¿è¯æ¯ä¸ªç‰©å“åªé€‰ä¸€æ¬¡ âœ…</li>
<li><strong>æ­£åºéå†ï¼ˆk ä» 1 åˆ° wï¼‰</strong>ï¼šè®¡ç®— <code>dp[k]</code> æ—¶ï¼Œ<code>dp[k-weight]</code> å¯èƒ½å·²ç»è¢«å½“å‰è½®ä¿®æ”¹è¿‡ï¼Œå¯¼è‡´ç‰©å“è¢«é‡å¤é€‰æ‹© âŒ</li>
</ul>
<p><strong>ç¤ºä¾‹è¯´æ˜</strong>ï¼ˆæ­£åºéå†çš„é”™è¯¯ï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">å‡è®¾ç‰©å“1ï¼šé‡é‡1ï¼Œä»·å€¼10ï¼›èƒŒåŒ…å®¹é‡2

æ­£åºéå†ï¼ˆé”™è¯¯ï¼‰ï¼š
<span class="hljs-attr">k</span>=<span class="hljs-number">1</span>: dp[<span class="hljs-number">1</span>] = max(dp[<span class="hljs-number">1</span>], dp[<span class="hljs-number">0</span>] + <span class="hljs-number">10</span>) = max(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>) = <span class="hljs-number">10</span>  âœ…
<span class="hljs-attr">k</span>=<span class="hljs-number">2</span>: dp[<span class="hljs-number">2</span>] = max(dp[<span class="hljs-number">2</span>], dp[<span class="hljs-number">1</span>] + <span class="hljs-number">10</span>) = max(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>+<span class="hljs-number">10</span>) = <span class="hljs-number">20</span>  âŒ
     è¿™é‡Œ dp<span class="hljs-section">[1]</span> å·²ç»è¢«å½“å‰è½®ä¿®æ”¹ä¸º10ï¼Œå¯¼è‡´ç‰©å“1è¢«é€‰äº†2æ¬¡ï¼

å€’åºéå†ï¼ˆæ­£ç¡®ï¼‰ï¼š
<span class="hljs-attr">k</span>=<span class="hljs-number">2</span>: dp[<span class="hljs-number">2</span>] = max(dp[<span class="hljs-number">2</span>], dp[<span class="hljs-number">1</span>] + <span class="hljs-number">10</span>) = max(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>+<span class="hljs-number">10</span>) = <span class="hljs-number">10</span>  âœ…
<span class="hljs-attr">k</span>=<span class="hljs-number">1</span>: dp[<span class="hljs-number">1</span>] = max(dp[<span class="hljs-number">1</span>], dp[<span class="hljs-number">0</span>] + <span class="hljs-number">10</span>) = max(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>) = <span class="hljs-number">10</span>  âœ…
     è¿™é‡Œ dp<span class="hljs-section">[1]</span> è¿˜æ˜¯ä¸Šä¸€è¡Œçš„æ—§å€¼0ï¼Œç‰©å“1åªé€‰ä¸€æ¬¡ï¼
</code></pre>
<p><strong>ç‰ˆæœ¬1ï¼šåŸºç¡€ä¸€ç»´DPï¼ˆå€’åºéå†ï¼‰</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">maxValue</span>(<span class="hljs-params">n, w, weightArr, valueArr</span>) {
  <span class="hljs-comment">// dp[k]ï¼šå®¹é‡ä¸º k æ—¶çš„æœ€å¤§ä»·å€¼</span>
  <span class="hljs-keyword">const</span> dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(w + <span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>);

  <span class="hljs-comment">// å¤–å±‚å¾ªç¯ï¼šéå†ç‰©å“ï¼ˆ1~nï¼‰</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) {
    <span class="hljs-keyword">const</span> curWeight = weightArr[i - <span class="hljs-number">1</span>];
    <span class="hljs-keyword">const</span> curValue = valueArr[i - <span class="hljs-number">1</span>];

    <span class="hljs-comment">// å†…å±‚å¾ªç¯ï¼šå€’åºéå†å®¹é‡ï¼ˆw~1ï¼‰</span>
    <span class="hljs-comment">// å€’åºä¿è¯ dp[k-weight] æ˜¯ä¸Šä¸€è¡Œçš„æ—§å€¼</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> k = w; k &gt;= <span class="hljs-number">1</span>; k--) {
      <span class="hljs-keyword">if</span> (curWeight &lt;= k) {
        <span class="hljs-comment">// é€‰å½“å‰ç‰©å“ï¼šå½“å‰ä»·å€¼ + å‰©ä½™å®¹é‡çš„æœ€å¤§ä»·å€¼</span>
        <span class="hljs-keyword">const</span> valueChoose = curValue + dp[k - curWeight];
        <span class="hljs-comment">// ä¸é€‰å½“å‰ç‰©å“ï¼šdp[k]ï¼ˆä¸Šä¸€è¡Œçš„æ—§å€¼ï¼‰</span>
        <span class="hljs-comment">// å–ä¸¤è€…æœ€å¤§å€¼</span>
        dp[k] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(dp[k], valueChoose);
      }
      <span class="hljs-comment">// å¦‚æœ curWeight &gt; kï¼Œdp[k] ä¿æŒä¸å˜ï¼ˆå·²ç»æ˜¯ä¸Šä¸€è¡Œçš„å€¼ï¼‰</span>
    }
  }

  <span class="hljs-keyword">return</span> dp[w];
}
</code></pre>
<p><strong>ç‰ˆæœ¬2ï¼šè¿›ä¸€æ­¥ä¼˜åŒ–ï¼ˆè·³è¿‡æ— æ•ˆå®¹é‡ï¼‰</strong></p>
<p>å†…å±‚å¾ªç¯çš„ä¸‹é™å¯ä»¥ä» 1 æ”¹æˆ <code>curWeight</code>ï¼ˆå½“å‰ç‰©å“çš„é‡é‡ï¼‰â€”â€” å› ä¸ºå¦‚æœ <code>k &lt; curWeight</code>ï¼Œç‰©å“è‚¯å®šè£…ä¸ä¸‹ï¼Œæ²¡å¿…è¦éå†è¿™äº›å®¹é‡ï¼Œç›´æ¥è·³è¿‡èƒ½å‡å°‘å¾ªç¯æ¬¡æ•°ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">maxValue</span>(<span class="hljs-params">n, w, weightArr, valueArr</span>) {
  <span class="hljs-comment">// dp[k]ï¼šå®¹é‡ä¸º k æ—¶çš„æœ€å¤§ä»·å€¼</span>
  <span class="hljs-keyword">const</span> dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(w + <span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>);

  <span class="hljs-comment">// å¤–å±‚å¾ªç¯ï¼šéå†ç‰©å“ï¼ˆ1~nï¼‰</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) {
    <span class="hljs-keyword">const</span> curWeight = weightArr[i - <span class="hljs-number">1</span>];
    <span class="hljs-keyword">const</span> curValue = valueArr[i - <span class="hljs-number">1</span>];

    <span class="hljs-comment">// è·³è¿‡è¶…é‡ç‰©å“ï¼ˆé‡é‡è¶…è¿‡èƒŒåŒ…æœ€å¤§å®¹é‡ï¼Œä¸å¯èƒ½è¢«é€‰ï¼‰</span>
    <span class="hljs-keyword">if</span> (curWeight &gt; w) <span class="hljs-keyword">continue</span>;

    <span class="hljs-comment">// å†…å±‚å¾ªç¯ï¼šå€’åºéå†å®¹é‡ï¼ˆä» w åˆ° curWeightï¼‰</span>
    <span class="hljs-comment">// ä¼˜åŒ–ï¼šåªéå† k &gt;= curWeight çš„å®¹é‡ï¼Œè·³è¿‡è£…ä¸ä¸‹çš„æƒ…å†µ</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> k = w; k &gt;= curWeight; k--) {
      <span class="hljs-comment">// é€‰å½“å‰ç‰©å“ï¼šå½“å‰ä»·å€¼ + å‰©ä½™å®¹é‡çš„æœ€å¤§ä»·å€¼</span>
      <span class="hljs-keyword">const</span> valueChoose = curValue + dp[k - curWeight];
      <span class="hljs-comment">// ä¸é€‰å½“å‰ç‰©å“ï¼šdp[k]ï¼ˆä¸Šä¸€è¡Œçš„æ—§å€¼ï¼‰</span>
      <span class="hljs-comment">// å–ä¸¤è€…æœ€å¤§å€¼</span>
      dp[k] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(dp[k], valueChoose);
    }
  }

  <span class="hljs-keyword">return</span> dp[w];
}
</code></pre>
<p><strong>ä¸¤ä¸ªç‰ˆæœ¬çš„å¯¹æ¯”</strong>ï¼š</p>



































<table><thead><tr><th>ç‰¹æ€§</th><th>ç‰ˆæœ¬1ï¼ˆåŸºç¡€ï¼‰</th><th>ç‰ˆæœ¬2ï¼ˆä¼˜åŒ–ï¼‰</th></tr></thead><tbody><tr><td>å†…å±‚å¾ªç¯èŒƒå›´</td><td><code>k = w; k &gt;= 1</code></td><td><code>k = w; k &gt;= curWeight</code></td></tr><tr><td>è¶…é‡åˆ¤æ–­</td><td>åœ¨å¾ªç¯å†…åˆ¤æ–­ <code>if (curWeight &lt;= k)</code></td><td>å¾ªç¯å‰åˆ¤æ–­ <code>if (curWeight &gt; w) continue</code></td></tr><tr><td>å¾ªç¯æ¬¡æ•°</td><td>æ¯æ¬¡éå†æ‰€æœ‰å®¹é‡</td><td>è·³è¿‡ <code>k &lt; curWeight</code> çš„å®¹é‡</td></tr><tr><td>æ€§èƒ½</td><td>åŸºç¡€ç‰ˆæœ¬</td><td>æ›´ä¼˜ï¼ˆå‡å°‘æ— æ•ˆå¾ªç¯ï¼‰</td></tr><tr><td>æ¨èä½¿ç”¨</td><td>ç†è§£åŸç†</td><td>å®é™…åº”ç”¨ âœ…</td></tr></tbody></table>
<h3 data-id="heading-46">ä¸‰ã€åŠ¨æ€è§„åˆ’æ ¸å¿ƒæ€»ç»“</h3>
<h4 data-id="heading-47">3.1 æ ¸å¿ƒæ€æƒ³</h4>
<p>åŠ¨æ€è§„åˆ’çš„æœ¬è´¨æ˜¯<strong>ç”¨ç©ºé—´æ¢æ—¶é—´</strong>ï¼Œé€šè¿‡å­˜å‚¨å­é—®é¢˜çš„è§£é¿å…é‡å¤è®¡ç®—ï¼Œå°†æ—¶é—´å¤æ‚åº¦ä»æŒ‡æ•°çº§é™ä½åˆ°å¤šé¡¹å¼çº§ã€‚</p>
<p><strong>ä¸¤ä¸ªæ ¸å¿ƒç‰¹å¾</strong>ï¼š</p>
<ul>
<li><strong>é‡å å­é—®é¢˜</strong>ï¼šé€’å½’è¿‡ç¨‹ä¸­ä¼šé‡å¤è®¡ç®—ç›¸åŒçš„å­é—®é¢˜</li>
<li><strong>æœ€ä¼˜å­ç»“æ„</strong>ï¼šé—®é¢˜çš„æœ€ä¼˜è§£åŒ…å«å­é—®é¢˜çš„æœ€ä¼˜è§£</li>
</ul>
<h4 data-id="heading-48">3.2 DPäº”éƒ¨æ›²æ¡†æ¶ï¼ˆä¸‡èƒ½é’¥åŒ™ï¼‰</h4>
<p>æ— è®ºä»€ä¹ˆDPé—®é¢˜ï¼Œéƒ½å¯ä»¥æŒ‰ä»¥ä¸‹5ä¸ªæ­¥éª¤æ‹†è§£ï¼š</p>
<ol>
<li><strong>ç¡®å®šdpæ•°ç»„åŠä¸‹æ ‡çš„å«ä¹‰</strong>ï¼šæ˜ç¡® <code>dp[i]</code>ï¼ˆæˆ–äºŒç»´ <code>dp[i][j]</code>ï¼‰ä»£è¡¨ä»€ä¹ˆç‰©ç†æ„ä¹‰</li>
<li><strong>ç¡®å®šé€’æ¨å…¬å¼</strong>ï¼šæ‰¾åˆ° <code>dp[i]</code> ä¸å­é—®é¢˜ <code>dp[i-1]</code>/<code>dp[i-2]</code> ç­‰çš„ä¾èµ–å…³ç³»ï¼ˆæ ¸å¿ƒï¼‰</li>
<li><strong>dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–</strong>ï¼šæ ¹æ®é—®é¢˜è¾¹ç•Œæ¡ä»¶ï¼Œåˆå§‹åŒ–æ— æ³•é€šè¿‡é€’æ¨å¾—åˆ°çš„åŸºç¡€å€¼</li>
<li><strong>ç¡®å®šéå†é¡ºåº</strong>ï¼šä¿è¯è®¡ç®— <code>dp[i]</code> æ—¶ï¼Œå…¶ä¾èµ–çš„å­é—®é¢˜å·²ç»è¢«è®¡ç®—å®Œæˆ</li>
<li><strong>æ‰“å°dpæ•°ç»„ï¼ˆéªŒè¯ï¼‰</strong>ï¼šé€šè¿‡æ‰“å°ä¸­é—´ç»“æœï¼ŒéªŒè¯é€’æ¨é€»è¾‘æ˜¯å¦æ­£ç¡®ï¼ˆè°ƒè¯•å¿…å¤‡ï¼‰</li>
</ol>
<h4 data-id="heading-49">3.3 å·²æŒæ¡çš„ç»å…¸é—®é¢˜</h4>
<p>æœ¬æ–‡é€šè¿‡DPäº”éƒ¨æ›²æ¡†æ¶ï¼Œè¯¦ç»†è®²è§£äº†ä»¥ä¸‹7ä¸ªç»å…¸DPé—®é¢˜ï¼š</p>



























































<table><thead><tr><th>é—®é¢˜</th><th>ç±»å‹</th><th>æ ¸å¿ƒç‰¹ç‚¹</th><th>LeetCode</th></tr></thead><tbody><tr><td>1. æ–æ³¢é‚£å¥‘æ•°</td><td>ä¸€ç»´DP</td><td>åŸºç¡€é€’æ¨ï¼Œç©ºé—´å¯ä¼˜åŒ–</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Ffibonacci-number%2F" target="_blank" title="https://leetcode.cn/problems/fibonacci-number/" ref="nofollow noopener noreferrer">509</a></td></tr><tr><td>2. çˆ¬æ¥¼æ¢¯</td><td>ä¸€ç»´DP</td><td>ä¸æ–æ³¢é‚£å¥‘æ•°æœ¬è´¨ç›¸åŒ</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fclimbing-stairs%2F" target="_blank" title="https://leetcode.cn/problems/climbing-stairs/" ref="nofollow noopener noreferrer">70</a></td></tr><tr><td>3. æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯</td><td>ä¸€ç»´DP</td><td>å¸¦æƒé‡çš„çˆ¬æ¥¼æ¢¯é—®é¢˜</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fmin-cost-climbing-stairs%2F" target="_blank" title="https://leetcode.cn/problems/min-cost-climbing-stairs/" ref="nofollow noopener noreferrer">746</a></td></tr><tr><td>4. æœºå™¨äººè·¯å¾„ï¼ˆæ— éšœç¢ï¼‰</td><td>äºŒç»´DP</td><td>äºŒç»´çŠ¶æ€è½¬ç§»ï¼Œå¯ç©ºé—´ä¼˜åŒ–</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Funique-paths%2F" target="_blank" title="https://leetcode.cn/problems/unique-paths/" ref="nofollow noopener noreferrer">62</a></td></tr><tr><td>5. æœºå™¨äººè·¯å¾„ï¼ˆæœ‰éšœç¢ï¼‰</td><td>äºŒç»´DP</td><td>éšœç¢ç‰©å¤„ç†ï¼Œè¾¹ç•Œæ¡ä»¶å¤æ‚</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Funique-paths-ii%2F" target="_blank" title="https://leetcode.cn/problems/unique-paths-ii/" ref="nofollow noopener noreferrer">63</a></td></tr><tr><td>6. æ•´æ•°æ‹†åˆ†</td><td>ä¸€ç»´DP</td><td>åŒé‡å¾ªç¯ï¼Œæšä¸¾æ‹†åˆ†ç‚¹</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Finteger-break%2F" target="_blank" title="https://leetcode.cn/problems/integer-break/" ref="nofollow noopener noreferrer">343</a></td></tr><tr><td>7. ä¸åŒçš„BST</td><td>ä¸€ç»´DP</td><td>å¡ç‰¹å…°æ•°ï¼Œä¹˜æ³•åŸç†</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Funique-binary-search-trees%2F" target="_blank" title="https://leetcode.cn/problems/unique-binary-search-trees/" ref="nofollow noopener noreferrer">96</a></td></tr><tr><td>8. 01èƒŒåŒ…é—®é¢˜</td><td>äºŒç»´DP</td><td>é€‰æˆ–ä¸é€‰ï¼Œå¯ç©ºé—´ä¼˜åŒ–ï¼ˆå€’åºï¼‰</td><td>ç»å…¸é—®é¢˜</td></tr></tbody></table>
<h4 data-id="heading-50">3.4 å¸¸è§ä¼˜åŒ–æŠ€å·§</h4>
<ol>
<li>
<p><strong>ç©ºé—´ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li><strong>ä¸€ç»´DPä¼˜åŒ–</strong>ï¼šæ–æ³¢é‚£å¥‘æ•°ã€çˆ¬æ¥¼æ¢¯ç­‰ï¼Œåªéœ€ä¿å­˜å‰ä¸¤ä¸ªçŠ¶æ€</li>
<li><strong>äºŒç»´DP â†’ ä¸€ç»´DP</strong>ï¼šæœºå™¨äººè·¯å¾„ã€01èƒŒåŒ…ç­‰ï¼Œç”¨æ»šåŠ¨æ•°ç»„ä¼˜åŒ–</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šæ³¨æ„éå†é¡ºåºï¼ˆ01èƒŒåŒ…å¿…é¡»å€’åºï¼‰</li>
</ul>
</li>
<li>
<p><strong>å¾ªç¯ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li><strong>å‡å°‘æ— æ•ˆéå†</strong>ï¼šæ•´æ•°æ‹†åˆ†ä¸­ j åªéœ€éå†åˆ° i/2</li>
<li><strong>æå‰ç»ˆæ­¢</strong>ï¼š01èƒŒåŒ…ä¸­è·³è¿‡è¶…é‡ç‰©å“ï¼Œå†…å±‚å¾ªç¯ä» <code>curWeight</code> å¼€å§‹</li>
</ul>
</li>
<li>
<p><strong>è¾¹ç•Œæ¡ä»¶å¤„ç†</strong>ï¼š</p>
<ul>
<li><strong>åˆå§‹åŒ–æŠ€å·§</strong>ï¼š<code>dp[0] = 1</code>ï¼ˆç©ºæ ‘ã€ç©ºé›†ç­‰ç‰¹æ®Šæƒ…å†µï¼‰</li>
<li><strong>æ•°ç»„è¶Šç•Œ</strong>ï¼šæ³¨æ„ä¸‹æ ‡è½¬æ¢ï¼ˆ0-based vs 1-basedï¼‰</li>
</ul>
</li>
</ol>
<h4 data-id="heading-51">3.5 è°ƒè¯•æŠ€å·§</h4>
<ol>
<li><strong>æ‰“å°dpæ•°ç»„</strong>ï¼šåœ¨å…³é”®ä½ç½®æ‰“å°ä¸­é—´ç»“æœï¼ŒéªŒè¯é€’æ¨é€»è¾‘</li>
<li><strong>å°æ•°æ®éªŒè¯</strong>ï¼šå…ˆç”¨å°è§„æ¨¡æ•°æ®æ‰‹åŠ¨è®¡ç®—ï¼ŒéªŒè¯ä»£ç æ­£ç¡®æ€§</li>
<li><strong>è¾¹ç•Œæµ‹è¯•</strong>ï¼šæµ‹è¯• n=0ã€n=1ã€ç©ºæ•°ç»„ç­‰è¾¹ç•Œæƒ…å†µ</li>
<li><strong>å¯¹æ¯”äºŒç»´å’Œä¸€ç»´</strong>ï¼šç©ºé—´ä¼˜åŒ–æ—¶ï¼Œå…ˆç”¨äºŒç»´DPéªŒè¯ï¼Œå†ä¼˜åŒ–ä¸ºä¸€ç»´</li>
</ol>
<h4 data-id="heading-52">3.6 è§£é¢˜æ€è·¯æ€»ç»“</h4>
<p><strong>å¦‚ä½•å¿«é€Ÿè¯†åˆ«DPé—®é¢˜ï¼Ÿ</strong></p>
<ul>
<li>æ±‚æœ€å€¼ã€è®¡æ•°ã€å¯è¡Œæ€§é—®é¢˜</li>
<li>é—®é¢˜å¯ä»¥æ‹†è§£ä¸ºé‡å å­é—®é¢˜</li>
<li>æœ‰æ˜ç¡®çš„"çŠ¶æ€"å’Œ"é€‰æ‹©"</li>
</ul>
<p><strong>å¦‚ä½•å¿«é€Ÿç¡®å®šdpæ•°ç»„å«ä¹‰ï¼Ÿ</strong></p>
<ul>
<li>çœ‹é—®é¢˜é—®ä»€ä¹ˆï¼Œdpå°±å­˜ä»€ä¹ˆï¼ˆæœ€å¤§ä»·å€¼ã€æ–¹æ¡ˆæ•°ç­‰ï¼‰</li>
<li>çœ‹çŠ¶æ€æœ‰å‡ ä¸ªç»´åº¦ï¼ˆä¸€ç»´ï¼šä½ç½®/æ•°é‡ï¼›äºŒç»´ï¼šä½ç½®+å®¹é‡/ä½ç½®+ä½ç½®ï¼‰</li>
</ul>
<p><strong>å¦‚ä½•æ¨å¯¼é€’æ¨å…¬å¼ï¼Ÿ</strong></p>
<ul>
<li><strong>æœ€åä¸€æ­¥åˆ†æ</strong>ï¼šè€ƒè™‘æœ€åä¸€æ­¥çš„é€‰æ‹©ï¼ˆé€‰/ä¸é€‰ã€èµ°å“ªæ¡è·¯ç­‰ï¼‰</li>
<li><strong>çŠ¶æ€è½¬ç§»</strong>ï¼šå½“å‰çŠ¶æ€ = å­çŠ¶æ€ + å½“å‰é€‰æ‹©çš„å½±å“</li>
<li><strong>å–æœ€å€¼/æ±‚å’Œ</strong>ï¼šæ ¹æ®é—®é¢˜ç±»å‹é€‰æ‹© maxã€minã€sum ç­‰æ“ä½œ</li>
</ul>
</div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è°·æ­Œæœ‰æ²¡æœ‰ç”»é¥¼ï¼ŸFlutter 2025 è·¯çº¿å›¾å®Œæˆåº¦æ ¸éªŒ]]></title>    <link>https://juejin.cn/post/7591243363086139430</link>    <guid>https://juejin.cn/post/7591243363086139430</guid>    <pubDate>2026-01-04T08:59:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591243363086139430" data-draft-id="7591243363086073894" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è°·æ­Œæœ‰æ²¡æœ‰ç”»é¥¼ï¼ŸFlutter 2025 è·¯çº¿å›¾å®Œæˆåº¦æ ¸éªŒ"/> <meta itemprop="keywords" content="Flutter,å®¢æˆ·ç«¯"/> <meta itemprop="datePublished" content="2026-01-04T08:59:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜è€åˆ˜"/> <meta itemprop="url" content="https://juejin.cn/user/662360127965769"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è°·æ­Œæœ‰æ²¡æœ‰ç”»é¥¼ï¼ŸFlutter 2025 è·¯çº¿å›¾å®Œæˆåº¦æ ¸éªŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/662360127965769/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜è€åˆ˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T08:59:00.000Z" title="Sun Jan 04 2026 08:59:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯è€åˆ˜</strong></p>
<p>ä»Šå¤©æ˜¯2025å¹´çš„æœ€åä¸€å¤©ã€‚</p>
<p>æ˜¯æ—¶å€™æ‹¿å‡ºå¹´åˆ Google ç”»çš„é‚£å¼ å¤§é¥¼ï¼Œæ‘Šåœ¨æ¡Œä¸Šå¥½å¥½éªŒéªŒè´§äº†ã€‚</p>
<p>2025 å¹´å¯¹äº Flutter è€Œè¨€æ˜¯è‡³å…³é‡è¦çš„ä¸€å¹´ã€‚å›é¡¾å¹´åˆå‘å¸ƒçš„è·¯çº¿å›¾ï¼ŒGoogle Flutter å›¢é˜Ÿå°†é‡ç‚¹æ”¾åœ¨äº†<strong>æ¸²æŸ“å¼•æ“çš„å…¨é¢å‡çº§ï¼ˆImpellerï¼‰</strong>ã€<strong>Web å¹³å°çš„æ€§èƒ½è´¨å˜ï¼ˆWasmï¼‰<strong>ä»¥åŠ</strong>åŸç”Ÿç”Ÿæ€çš„æ·±åº¦èåˆ</strong>ä¸Šã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fblob%2Fmaster%2Fdocs%2Froadmap%2FRoadmap.md" target="_blank" title="https://github.com/flutter/flutter/blob/master/docs/roadmap/Roadmap.md" ref="nofollow noopener noreferrer">github.com/flutter/fluâ€¦</a></p>
<p>æˆªè‡³ 2025 å¹´åº•ï¼Œæˆ‘ä»¬é€šè¿‡æ¢³ç†å®˜æ–¹å‘å¸ƒæ—¥å¿—ä¸ç¤¾åŒºåŠ¨æ€ï¼Œå¯¹è¿™ä»½è·¯çº¿å›¾çš„å®Œæˆæƒ…å†µè¿›è¡Œäº†é€ä¸€æ ¸éªŒã€‚</p>
<p>è¯·å¤§å®¶æ¥åˆ¤æ–­å¹´åˆç”»çš„é¥¼Googleå…‘ç°äº†æ²¡æœ‰ï¼Ÿ</p>
<hr/>
<h2 data-id="heading-0">1. æ ¸å¿ƒæ¸²æŸ“ï¼šImpeller å¼•æ“å…¨é¢é»˜è®¤</h2>
<p>Impeller æ—¨åœ¨å½»åº•è§£å†³ Skia æ—¶ä»£çš„ç€è‰²å™¨ç¼–è¯‘å¡é¡¿ï¼ˆJankï¼‰é—®é¢˜ï¼Œæä¾›å¯é¢„æµ‹çš„æè‡´æ€§èƒ½ã€‚</p>
<ul>
<li><strong>è·¯çº¿å›¾ç›®æ ‡</strong>ï¼š
<ul>
<li>iOSï¼šå½»åº•è¿ç§»è‡³ Impellerï¼Œç§»é™¤ Skia åç«¯ã€‚</li>
<li>Androidï¼šåœ¨ Android 10 (API 29+) åŠä»¥ä¸Šè®¾å¤‡é»˜è®¤å¯ç”¨ã€‚</li>
</ul>
</li>
<li><strong>2025 å®Œæˆæƒ…å†µ</strong>ï¼šâœ… <strong>å·²è¾¾æˆ</strong>
<ul>
<li><strong>iOS</strong>ï¼šImpeller å·²æˆä¸º iOS å¹³å°çš„é»˜è®¤ä¸”å”¯ä¸€æ¸²æŸ“å¼•æ“ï¼ˆè‡ª Flutter 3.10 èµ·é»˜è®¤ï¼Œåç»­ç‰ˆæœ¬å½»åº•ç§»é™¤ Skia å›é€€é€‰é¡¹ï¼‰ã€‚</li>
<li><strong>Android</strong>ï¼šè‡ª <strong>Flutter 3.27</strong> ç‰ˆæœ¬èµ·ï¼ŒImpeller æ­£å¼æˆä¸º Android API 29+ è®¾å¤‡çš„é»˜è®¤æ¸²æŸ“å¼•æ“ã€‚å¯¹äºä¸æ”¯æŒ Vulkan çš„è€æ—§è®¾å¤‡ï¼ŒFlutter ä¾ç„¶ä¿ç•™äº† Skia ä½œä¸ºå…¼å®¹æ–¹æ¡ˆï¼Œç¡®ä¿äº†è¦†ç›–ç‡ä¸æ€§èƒ½çš„å¹³è¡¡ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-1">2. Web å¹³å°ï¼šWasm ç¨³å®šä¸çƒ­é‡è½½</h2>
<p>Web ä¸€ç›´æ˜¯ Flutter è·¨å¹³å°æ„¿æ™¯ä¸­æå…·æŒ‘æˆ˜çš„ä¸€ç¯ã€‚</p>
<ul>
<li><strong>è·¯çº¿å›¾ç›®æ ‡</strong>ï¼š
<ul>
<li>åˆ©ç”¨ WebAssembly (Wasm) æå‡æ€§èƒ½ã€‚</li>
<li>ç§»é™¤æ—§ç‰ˆ HTML &amp; JS åº“ã€‚</li>
<li>æ”¯æŒ Web çƒ­é‡è½½ï¼ˆHot Reloadï¼‰ã€‚</li>
</ul>
</li>
<li><strong>2025 å®Œæˆæƒ…å†µ</strong>ï¼šâœ… <strong>å·²è¾¾æˆ</strong>
<ul>
<li><strong>WasmGC ç¨³å®šæ”¯æŒ</strong>ï¼šFlutter Web çš„ Wasm ç¼–è¯‘æ¨¡å¼å·²åœ¨ <strong>Flutter 3.22</strong> ä¸­è¿›å…¥ Stable é˜¶æ®µã€‚é…åˆæ”¯æŒ WasmGC çš„ç°ä»£æµè§ˆå™¨ï¼ˆChrome, Firefox ç­‰ï¼‰ï¼Œæ€§èƒ½æå‡æ˜¾è‘—ï¼ˆæœ€é«˜è¾¾ 3 å€ï¼‰ã€‚</li>
<li><strong>çƒ­é‡è½½ (Hot Reload)</strong>ï¼šè¿™æ˜¯ Web å¼€å‘è€…æœŸå¾…å·²ä¹…çš„åŠŸèƒ½ã€‚åœ¨ <strong>Flutter 3.32</strong> åŠåç»­ç‰ˆæœ¬ï¼ˆå¦‚ 3.35ï¼‰ä¸­ï¼ŒWeb çƒ­é‡è½½åŠŸèƒ½æ­£å¼è„±ç¦»å®éªŒçŠ¶æ€ï¼Œæå¤§æå‡äº† Web åº”ç”¨çš„å¼€å‘æ•ˆç‡ï¼Œä¸å†éœ€è¦é¢‘ç¹çš„å…¨é‡åˆ·æ–°ï¼ˆHot Restartï¼‰ã€‚</li>
<li><strong>ç§»é™¤ Legacy HTML</strong>ï¼šDart 3.7 åŠ Flutter 3.29 å‡å‘å‡ºäº†æ˜ç¡®çš„å¼ƒç”¨ä¿¡å·ï¼Œ<code>dart:html</code> ç­‰æ—§åº“å·²è¢«æ ‡è®°ä¸º Deprecatedï¼Œä¸º Wasm åŸç”ŸåŒ–é“ºå¹³äº†é“è·¯ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-2">3. ç§»åŠ¨ç«¯ç”Ÿæ€ä¸åŸç”Ÿèåˆ</h2>
<p>Flutter åœ¨ 2025 å¹´è‡´åŠ›äºè®©è‡ªå·±æ›´åƒä¸€ä¸ª"åŸç”Ÿ"æ¡†æ¶ï¼Œè€Œéå¤–æ¥è€…ã€‚</p>
<ul>
<li><strong>è·¯çº¿å›¾ç›®æ ‡</strong>ï¼š
<ul>
<li>iOSï¼šæ”¯æŒ Swift Package Manager (SwiftPM) å¹¶è®¾ä¸ºé»˜è®¤ã€‚</li>
<li>Androidï¼šæ”¯æŒ Android 16ï¼Œè¿ç§» Gradle è‡³ Kotlin DSLã€‚</li>
<li>äº’æ“ä½œæ€§ï¼šç›´æ¥è°ƒç”¨åŸç”Ÿä»£ç ï¼ˆObjective-C/Swift, Java/Kotlinï¼‰ã€‚</li>
</ul>
</li>
<li><strong>2025 å®Œæˆæƒ…å†µ</strong>ï¼šğŸ”„ <strong>å¤§éƒ¨åˆ†è¾¾æˆ/è¿›è¡Œä¸­</strong>
<ul>
<li><strong>iOS SwiftPM</strong>ï¼šè‡ª <strong>Flutter 3.24</strong> èµ·ï¼ŒFlutter æ­£å¼æ”¯æŒ Swift Package Manager ç®¡ç†åŸç”Ÿä¾èµ–ï¼Œé€æ­¥æ›¿ä»£ CocoaPodsã€‚è™½ç„¶ç›®å‰ä»å¤„äºè¿‡æ¸¡æœŸï¼ˆæ”¯æŒ Opt-inï¼‰ï¼Œä½†å·²æˆä¸ºæ¨èæ–¹æ¡ˆï¼Œæœªæ¥å°†å®Œå…¨å–ä»£ CocoaPodsã€‚</li>
<li><strong>Android ç°ä»£åŒ–</strong>ï¼š
<ul>
<li><strong>Android 16</strong>ï¼šå·²å®Œå…¨é€‚é…ï¼ˆAPI Level 36ï¼‰ï¼Œæ”¯æŒ Edge-to-Edge å¼ºåˆ¶ç‰¹æ€§ã€‚</li>
<li><strong>Kotlin DSL</strong>ï¼šè‡ª <strong>Flutter 3.29</strong> èµ·ï¼Œæ–°åˆ›å»ºçš„ Flutter é¡¹ç›®é»˜è®¤ä½¿ç”¨ Kotlin DSL (<code>.gradle.kts</code>) ç¼–å†™æ„å»ºè„šæœ¬ï¼Œå‘Šåˆ«äº† Groovyï¼Œä¸ Android åŸç”Ÿå¼€å‘æ ‡å‡†å®Œå…¨å¯¹é½ã€‚</li>
</ul>
</li>
<li><strong>Native Interop</strong>ï¼šé€šè¿‡ <code>FFIgen</code> (C/ObjC/Swift) å’Œ <code>JNIgen</code> (Java/Kotlin)ï¼ŒFlutter çš„åŸç”Ÿäº’æ“ä½œæ€§è¾¾åˆ°äº†æ–°é«˜åº¦ã€‚<strong>Flutter 3.38</strong> æ¨å‡ºäº†æ–°çš„ <code>package_ffi</code> æ¨¡æ¿ï¼Œä½¿å¾—ç›´æ¥è°ƒç”¨åŸç”Ÿ API å˜å¾—æ›´åŠ æ ‡å‡†åŒ–å’Œé«˜æ•ˆï¼Œå‡å°‘äº†å¯¹ MethodChannel çš„ä¾èµ–ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-3">4. æ¡Œé¢ç«¯ï¼šCanonical æŒç»­æ·±è€•</h2>
<p>è™½ç„¶ Google å›¢é˜Ÿçš„é‡å¿ƒåœ¨ç§»åŠ¨å’Œ Webï¼Œä½† Canonicalä½œä¸ºæ ¸å¿ƒåˆä½œä¼™ä¼´ï¼Œåœ¨ 2025 å¹´æ‰›èµ·äº†æ¡Œé¢ç«¯çš„å¤§æ——ã€‚</p>
<ul>
<li><strong>è·¯çº¿å›¾ç›®æ ‡</strong>ï¼š
<ul>
<li>å¤šçª—å£æ”¯æŒæ”¹è¿›ã€‚</li>
<li>æ— éšœç¢åŠŸèƒ½ã€é”®ç›˜è¾“å…¥ä¸æ–‡æœ¬è¾“å…¥ä½“éªŒä¼˜åŒ–ã€‚</li>
</ul>
</li>
<li><strong>2025 å®Œæˆæƒ…å†µ</strong>ï¼šğŸ”„ <strong>ç¨³æ­¥æ¨è¿›</strong>
<ul>
<li><strong>å¤šçª—å£æ”¯æŒ</strong>ï¼šè¿™æ˜¯æ¡Œé¢ç«¯æœ€å—å…³æ³¨çš„åŠŸèƒ½ã€‚2025 å¹´è™½ç„¶å®˜æ–¹å°šæœªå®Œå…¨å†…ç½®â€œå¼€ç®±å³ç”¨â€çš„å¤šçª—å£ APIï¼Œä½†é€šè¿‡ Canonical æ¨åŠ¨çš„åº•å±‚å¼•æ“æ”¹è¿›ä»¥åŠç¤¾åŒºæ’ä»¶ï¼ˆå¦‚ <code>window_manager_plus</code> å’Œ <code>desktop_multi_window</code>ï¼‰ï¼Œå¼€å‘è€…å·²ç»èƒ½å¤Ÿæ„å»ºå¤šçª—å£åº”ç”¨ã€‚</li>
<li><strong>ä¼ä¸šçº§è½åœ°</strong>ï¼šCanonical ç”¨å®é™…è¡ŒåŠ¨è¯æ˜äº† Flutter æ¡Œé¢ç«¯çš„æˆç†Ÿåº¦â€”â€”Ubuntu 25.10 çš„å…¨æ–°<strong>ç³»ç»Ÿå®‰è£…å™¨</strong>å’Œ<strong>åº”ç”¨ä¸­å¿ƒ</strong>å‡å®Œå…¨ç”± Flutter æ„å»ºï¼Œè¿è¡Œæµç•…ä¸”åŸç”Ÿæ„Ÿåè¶³ã€‚</li>
<li><strong>åŸºç¡€ä½“éªŒ</strong>ï¼šåœ¨é”®ç›˜ç„¦ç‚¹æ§åˆ¶ã€IME è¾“å…¥æ³•æ”¯æŒä»¥åŠå±å¹•é˜…è¯»å™¨é€‚é…ä¸Šï¼Œæ¡Œé¢ç«¯åœ¨ 2025 å¹´ä¿®å¤äº†å¤§é‡é•¿æœŸå­˜åœ¨çš„ Issueï¼Œä½¿å¾—ä½“éªŒä¸å†æœ‰â€œå‰²è£‚æ„Ÿâ€ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-4">5. Dart è¯­è¨€ï¼šæ•ˆç‡è‡³ä¸Šä¸è·¯çº¿è°ƒæ•´</h2>
<p>Dart è¯­è¨€åœ¨ 2025 å¹´ç»å†äº†ä¸€æ¬¡é‡è¦çš„æˆ˜ç•¥è°ƒæ•´ï¼ŒåŒæ—¶å¸¦æ¥äº†ä¸€ç³»åˆ—æå…·å¹¸ç¦æ„Ÿçš„æ–°ç‰¹æ€§ã€‚</p>
<ul>
<li><strong>è·¯çº¿å›¾ç›®æ ‡</strong>ï¼š
<ul>
<li>å®ç¼–ç¨‹ï¼ˆMacrosï¼‰åœæ­¢å¼€å‘ã€‚</li>
<li>æŒç»­æå‡å¼€å‘è€…æ•ˆç‡ï¼ˆè¯­è¨€ç‰¹æ€§ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>2025 å®Œæˆæƒ…å†µ</strong>ï¼šâš ï¸ <strong>è·¯çº¿è°ƒæ•´ / âœ… æ•ˆç‡æå‡</strong>
<ul>
<li><strong>Macros (å®) åœæ­¢å¼€å‘</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªé‡å¤§çš„è·¯çº¿ä¿®æ­£ã€‚åœ¨ 2025 å¹´åˆï¼ˆDart 3.7 å‘å¸ƒå‰åï¼‰ï¼ŒDart å›¢é˜Ÿå®£å¸ƒç”±äºæŠ€æœ¯å¤æ‚åº¦è¿‡é«˜ä¸”éš¾ä»¥åœ¨çŸ­æœŸå†…è¾¾åˆ°é¢„æœŸè´¨é‡ï¼Œ<strong>æ­£å¼åœæ­¢</strong>äº†å®éªŒæ€§ Macros åŠŸèƒ½çš„å¼€å‘ã€‚å›¢é˜Ÿè½¬è€Œé€šè¿‡æ”¹è¿› <code>build_runner</code> æ€§èƒ½å’Œæ¢ç´¢ <code>augmentations</code>ï¼ˆå¢å¼ºï¼‰æœºåˆ¶æ¥è§£å†³ä»£ç ç”Ÿæˆç—›ç‚¹ã€‚</li>
<li><strong>Dot Shorthands (ç‚¹å·ç®€å†™)</strong> ï¼šåœ¨ <strong>Dart 3.10</strong> ä¸­ï¼Œå¤‡å—æœŸå¾…çš„â€œç‚¹å·ç®€å†™â€ç»ˆäºè½åœ°ã€‚å¼€å‘è€…ç°åœ¨å¯ä»¥å†™ <code>color: .red</code> è€Œé <code>color: Colors.red</code>ï¼Œæˆ–è€… <code>alignment: .center</code> è€Œé <code>alignment: Alignment.center</code>ã€‚è¿™ä¸€æ”¹åŠ¨æå¤§å‡å°‘äº† UI ä»£ç çš„å†—ä½™ï¼Œæ·±å—ç¤¾åŒºå–œçˆ±ã€‚</li>
<li><strong>Wildcard Variables (é€šé…ç¬¦å˜é‡)</strong> ï¼šDart 3.7 å¼•å…¥äº† <code>_</code> ä½œä¸ºçœŸæ­£çš„é€šé…ç¬¦ï¼Œç”¨äºæ˜¾å¼å¿½ç•¥æœªä½¿ç”¨çš„å˜é‡ï¼Œä½¿ä»£ç æ„å›¾æ›´åŠ æ¸…æ™°ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-5">6. æ€»ç»“</h2>
<p>2025 å¹´æ˜¯ Flutter èµ°å‘<strong>æˆç†Ÿ</strong>çš„ä¸€å¹´ã€‚å¦‚æœè¯´ä»¥å‰çš„ Flutter è¿˜åœ¨ä¸º"è·¨å¹³å°æ˜¯å¦å¡é¡¿"è€Œäº‰è®ºï¼Œé‚£ä¹ˆ 2025 å¹´çš„ Flutter å·²ç»é€šè¿‡ <strong>Impeller</strong> å’Œ <strong>Wasm</strong> äº¤å‡ºäº†å®Œç¾çš„ç­”å·ã€‚</p>

































































<table><thead><tr><th align="left">åŠŸèƒ½æ¨¡å—</th><th align="left">ç›®æ ‡</th><th align="left">çŠ¶æ€</th><th align="left">å…³é”®ç‰ˆæœ¬</th></tr></thead><tbody><tr><td align="left"><strong>Rendering</strong></td><td align="left">Impeller (iOS)</td><td align="left">âœ… å®Œæˆ</td><td align="left">v3.10+</td></tr><tr><td align="left"><strong>Rendering</strong></td><td align="left">Impeller (Android)</td><td align="left">âœ… å®Œæˆ</td><td align="left">v3.27</td></tr><tr><td align="left"><strong>Web</strong></td><td align="left">WasmGC æ”¯æŒ</td><td align="left">âœ… å®Œæˆ</td><td align="left">v3.22</td></tr><tr><td align="left"><strong>Web</strong></td><td align="left">Hot Reload</td><td align="left">âœ… å®Œæˆ</td><td align="left">v3.32/3.35</td></tr><tr><td align="left"><strong>Build</strong></td><td align="left">Gradle Kotlin DSL</td><td align="left">âœ… å®Œæˆ</td><td align="left">v3.29</td></tr><tr><td align="left"><strong>Build</strong></td><td align="left">SwiftPM æ”¯æŒ</td><td align="left">ğŸ”„ æ¨è¿›ä¸­</td><td align="left">v3.24+</td></tr><tr><td align="left"><strong>Dart</strong></td><td align="left">æ•ˆç‡æå‡</td><td align="left">âœ… å®Œæˆ</td><td align="left">æŒç»­æ›´æ–°</td></tr><tr><td align="left"><strong>Dart</strong></td><td align="left">Macros (å®)</td><td align="left">âŒ å–æ¶ˆ</td><td align="left">v3.7 (å®£å¸ƒåœæ­¢)</td></tr><tr><td align="left"><strong>Desktop</strong></td><td align="left">å¤šçª—å£æ”¯æŒ</td><td align="left">ğŸ”„ æ¨è¿›ä¸­</td><td align="left">æŒç»­æ›´æ–°</td></tr></tbody></table>
<p>Flutter å›¢é˜Ÿåœ¨ 2025 å¹´ä¸ä»…å…‘ç°äº†æ€§èƒ½æ‰¿è¯ºï¼Œæ›´åœ¨å¼€å‘ä½“éªŒï¼ˆKotlin DSL, SwiftPM, Dot Shorthandsï¼‰ä¸Šåšå‡ºäº†å·¨å¤§çš„æ”¹è¿›ï¼Œè™½ç„¶ Macros çš„å–æ¶ˆä»¤äººé—æ†¾ï¼Œä½†åŠ¡å®çš„è·¯çº¿è°ƒæ•´ä¹Ÿé¿å…äº†ç”Ÿæ€çš„ç¢ç‰‡åŒ–ã€‚</p>
<blockquote>
<p>å¦‚æœçœ‹åˆ°è¿™é‡Œçš„åŒå­¦å¯¹å®¢æˆ·ç«¯æˆ–è€…Flutterå¼€å‘æ„Ÿå…´è¶£ï¼Œæ¬¢è¿è”ç³»è€åˆ˜ï¼Œæˆ‘ä»¬äº’ç›¸å­¦ä¹ ã€‚</p>
<p>ç§ä¿¡å…è´¹é¢†è€åˆ˜æ•´ç†çš„ã€ŠFlutterå¼€å‘æ‰‹å†Œã€‹ï¼Œè¦†ç›–90%åº”ç”¨å¼€å‘åœºæ™¯ã€‚</p>
<p>å¯ä»¥ä½œä¸ºFlutterå­¦ä¹ çš„çŸ¥è¯†åœ°å›¾ã€‚</p>
<p>â€”â€” laoliu_dev</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Javaã€‘IOæµå®Œå…¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7591013450525507636</link>    <guid>https://juejin.cn/post/7591013450525507636</guid>    <pubDate>2026-01-04T07:35:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591013450525507636" data-draft-id="7591013450525474868" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Javaã€‘IOæµå®Œå…¨æŒ‡å—"/> <meta itemprop="keywords" content="Java,åç«¯"/> <meta itemprop="datePublished" content="2026-01-04T07:35:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹Œæ—¥å°¼ä¹"/> <meta itemprop="url" content="https://juejin.cn/user/854736525882123"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Javaã€‘IOæµå®Œå…¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/854736525882123/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹Œæ—¥å°¼ä¹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T07:35:49.000Z" title="Sun Jan 04 2026 07:35:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Java IOæµå®Œå…¨æŒ‡å—</h2>
<h3 data-id="heading-1">æ‘˜è¦</h3>
<p>Java IOæµæ˜¯è¾“å…¥è¾“å‡ºæ“ä½œçš„æ ¸å¿ƒæŠ€æœ¯ï¼ŒåŒ…æ‹¬å­—èŠ‚æµå’Œå­—ç¬¦æµä¸¤å¤§ç±»ã€‚é€šè¿‡InputStreamã€OutputStreamã€Readerã€Writerå››å¤§æŠ½è±¡ç±»åŠå…¶å­ç±»ï¼Œå®ç°æ–‡ä»¶è¯»å†™ã€ç¼“å†²å¤„ç†ã€å¯¹è±¡åºåˆ—åŒ–ç­‰åŠŸèƒ½ã€‚</p>
<hr/>
<h3 data-id="heading-2">ç›®å½•</h3>
<ol>
<li><a href="#io%E6%B5%81%E6%A6%82%E8%BF%B0" title="#io%E6%B5%81%E6%A6%82%E8%BF%B0">IOæµæ¦‚è¿°</a></li>
<li><a href="#io%E5%9B%9B%E5%A4%A7%E6%8A%BD%E8%B1%A1%E7%B1%BB" title="#io%E5%9B%9B%E5%A4%A7%E6%8A%BD%E8%B1%A1%E7%B1%BB">IOå››å¤§æŠ½è±¡ç±»</a></li>
<li><a href="#%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99%E6%93%8D%E4%BD%9C" title="#%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99%E6%93%8D%E4%BD%9C">æ–‡ä»¶è¯»å†™æ“ä½œ</a></li>
<li><a href="#%E7%BC%93%E5%86%B2%E6%B5%81" title="#%E7%BC%93%E5%86%B2%E6%B5%81">ç¼“å†²æµ</a></li>
<li><a href="#%E8%BD%AC%E6%8D%A2%E6%B5%81" title="#%E8%BD%AC%E6%8D%A2%E6%B5%81">è½¬æ¢æµ</a></li>
<li><a href="#file%E7%B1%BB" title="#file%E7%B1%BB">Fileç±»</a></li>
<li><a href="#%E7%89%B9%E6%AE%8A%E6%B5%81%E7%B1%BB%E5%9E%8B" title="#%E7%89%B9%E6%AE%8A%E6%B5%81%E7%B1%BB%E5%9E%8B">ç‰¹æ®Šæµç±»å‹</a></li>
<li><a href="#io%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86" title="#io%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86">IOå¼‚å¸¸å¤„ç†</a></li>
</ol>
<hr/>
<h3 data-id="heading-3">IOæµæ¦‚è¿°</h3>
<h4 data-id="heading-4">IOæµåˆ†ç±»</h4>
<p><strong>æŒ‰æµçš„æ–¹å‘åˆ†ç±»ï¼š</strong></p>
<ul>
<li><strong>è¾“å…¥æµï¼ˆInputï¼‰</strong>ï¼šä»æ•°æ®æºè¯»å–æ•°æ®åˆ°ç¨‹åº</li>
<li><strong>è¾“å‡ºæµï¼ˆOutputï¼‰</strong>ï¼šä»ç¨‹åºå†™å…¥æ•°æ®åˆ°ç›®æ ‡</li>
</ul>
<p><strong>æŒ‰æ•°æ®å•ä½åˆ†ç±»ï¼š</strong></p>
<ul>
<li><strong>å­—èŠ‚æµï¼ˆByteï¼‰</strong>ï¼šä»¥å­—èŠ‚ä¸ºå•ä½å¤„ç†æ•°æ®ï¼Œé€‚ç”¨äºæ‰€æœ‰æ–‡ä»¶ç±»å‹</li>
<li><strong>å­—ç¬¦æµï¼ˆCharacterï¼‰</strong>ï¼šä»¥å­—ç¬¦ä¸ºå•ä½å¤„ç†æ•°æ®ï¼Œé€‚ç”¨äºæ–‡æœ¬æ–‡ä»¶</li>
</ul>
<h4 data-id="heading-5">IOæµä½“ç³»ç»“æ„</h4>
<pre><code class="hljs language-markdown" lang="markdown">IOæµä½“ç³»
â”œâ”€â”€ å­—èŠ‚æµ
â”‚   â”œâ”€â”€ InputStreamï¼ˆè¾“å…¥ï¼‰
â”‚   â””â”€â”€ OutputStreamï¼ˆè¾“å‡ºï¼‰
â””â”€â”€ å­—ç¬¦æµ
<span class="hljs-code">    â”œâ”€â”€ Readerï¼ˆè¾“å…¥ï¼‰
    â””â”€â”€ Writerï¼ˆè¾“å‡ºï¼‰
</span></code></pre>
<h3 data-id="heading-6"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22a80add3bb6454bb37be3ac6ebddb94~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmM5pel5bC85LmQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768117453&amp;x-signature=GdfrrKlSj3N%2BnZHEHtELMooyd7E%3D" alt="ioæµå®¶æ—ç±».jpg" loading="lazy"/></h3>
<h3 data-id="heading-7">IOå››å¤§æŠ½è±¡ç±»</h3>
<h4 data-id="heading-8">1. InputStreamï¼ˆå­—èŠ‚è¾“å…¥æµï¼‰</h4>
<p>æ‰€æœ‰å­—èŠ‚è¾“å…¥æµçš„æŠ½è±¡è¶…ç±»ã€‚</p>
<h5 data-id="heading-9">æ„é€ æ–¹æ³•</h5>
<pre><code class="hljs language-java" lang="java">InputStream()
</code></pre>
<h5 data-id="heading-10">ä¸»è¦æ–¹æ³•</h5>













































<table><thead><tr><th>æ–¹æ³•</th><th>è¿”å›ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>available()</code></td><td>int</td><td>è¿”å›å¯è¯»å–çš„å­—èŠ‚æ•°</td></tr><tr><td><code>close()</code></td><td>void</td><td>å…³é—­æµï¼Œé‡Šæ”¾èµ„æº</td></tr><tr><td><code>mark(int readlimit)</code></td><td>void</td><td>åœ¨æµä¸­æ ‡è®°å½“å‰ä½ç½®</td></tr><tr><td><code>read()</code></td><td>int</td><td>è¯»å–ä¸‹ä¸€ä¸ªå­—èŠ‚ï¼Œè¿”å›-1è¡¨ç¤ºç»“æŸ</td></tr><tr><td><code>read(byte[] b)</code></td><td>int</td><td>è¯»å–å­—èŠ‚åˆ°æ•°ç»„ä¸­</td></tr><tr><td><code>read(byte[] b, int off, int len)</code></td><td>int</td><td>è¯»å–æŒ‡å®šé•¿åº¦çš„å­—èŠ‚</td></tr><tr><td><code>reset()</code></td><td>void</td><td>é‡ç½®åˆ°æ ‡è®°ä½ç½®</td></tr></tbody></table>
<h4 data-id="heading-11">2. OutputStreamï¼ˆå­—èŠ‚è¾“å‡ºæµï¼‰</h4>
<p>æ‰€æœ‰å­—èŠ‚è¾“å‡ºæµçš„æŠ½è±¡è¶…ç±»ã€‚</p>
<h5 data-id="heading-12">æ„é€ æ–¹æ³•</h5>
<pre><code class="hljs language-java" lang="java">OutputStream()
</code></pre>
<h5 data-id="heading-13">ä¸»è¦æ–¹æ³•</h5>



































<table><thead><tr><th>æ–¹æ³•</th><th>è¿”å›ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>close()</code></td><td>void</td><td>å…³é—­æµ</td></tr><tr><td><code>flush()</code></td><td>void</td><td>åˆ·æ–°å¹¶å¼ºåˆ¶å†™å‡ºç¼“å†²çš„å­—èŠ‚</td></tr><tr><td><code>write(byte[] b)</code></td><td>void</td><td>å†™å…¥å­—èŠ‚æ•°ç»„</td></tr><tr><td><code>write(byte[] b, int off, int len)</code></td><td>void</td><td>å†™å…¥å­—èŠ‚æ•°ç»„çš„æŒ‡å®šéƒ¨åˆ†</td></tr><tr><td><code>write(int b)</code></td><td>void</td><td>å†™å…¥æŒ‡å®šå­—èŠ‚</td></tr></tbody></table>
<h4 data-id="heading-14">3. Readerï¼ˆå­—ç¬¦è¾“å…¥æµï¼‰</h4>
<p>è¯»å–å­—ç¬¦æµçš„æŠ½è±¡ç±»ã€‚</p>
<h5 data-id="heading-15">æ„é€ æ–¹æ³•</h5>
<pre><code class="hljs language-java" lang="java">Reader()
Reader(Object lock)  <span class="hljs-comment">// æŒ‡å®šåŒæ­¥é”</span>
</code></pre>
<h5 data-id="heading-16">ä¸»è¦æ–¹æ³•</h5>








































<table><thead><tr><th>æ–¹æ³•</th><th>è¿”å›ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>close()</code></td><td>void</td><td>å…³é—­æµ</td></tr><tr><td><code>read()</code></td><td>int</td><td>è¯»å–å•ä¸ªå­—ç¬¦</td></tr><tr><td><code>read(char[] cbuf)</code></td><td>int</td><td>è¯»å–å­—ç¬¦åˆ°æ•°ç»„</td></tr><tr><td><code>read(char[] cbuf, int off, int len)</code></td><td>int</td><td>è¯»å–å­—ç¬¦åˆ°æ•°ç»„æŒ‡å®šä½ç½®</td></tr><tr><td><code>ready()</code></td><td>boolean</td><td>åˆ¤æ–­æ˜¯å¦å‡†å¤‡å¥½è¯»å–</td></tr><tr><td><code>skip(long n)</code></td><td>long</td><td>è·³è¿‡æŒ‡å®šæ•°é‡çš„å­—ç¬¦</td></tr></tbody></table>
<h4 data-id="heading-17">4. Writerï¼ˆå­—ç¬¦è¾“å‡ºæµï¼‰</h4>
<p>å†™å…¥å­—ç¬¦æµçš„æŠ½è±¡ç±»ã€‚</p>
<h5 data-id="heading-18">æ„é€ æ–¹æ³•</h5>
<pre><code class="hljs language-java" lang="java">Writer()
Writer(Object lock)  <span class="hljs-comment">// æŒ‡å®šåŒæ­¥é”</span>
</code></pre>
<h5 data-id="heading-19">ä¸»è¦æ–¹æ³•</h5>



































<table><thead><tr><th>æ–¹æ³•</th><th>è¿”å›ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>close()</code></td><td>void</td><td>å…³é—­æµ</td></tr><tr><td><code>flush()</code></td><td>void</td><td>åˆ·æ–°æµ</td></tr><tr><td><code>write(char[] cbuf)</code></td><td>void</td><td>å†™å…¥å­—ç¬¦æ•°ç»„</td></tr><tr><td><code>write(int c)</code></td><td>void</td><td>å†™å…¥å•ä¸ªå­—ç¬¦</td></tr><tr><td><code>write(String str)</code></td><td>void</td><td>å†™å…¥å­—ç¬¦ä¸²</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-20">æ–‡ä»¶è¯»å†™æ“ä½œ</h3>
<h4 data-id="heading-21">å­—ç¬¦æ–‡ä»¶æ“ä½œ</h4>
<h5 data-id="heading-22">1. FileReader - å­—ç¬¦æ–‡ä»¶è¯»å–</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ„é€ æ–¹æ³•</span>
FileReader(File file)
FileReader(String fileName)
</code></pre>
<h5 data-id="heading-23">2. FileWriter - å­—ç¬¦æ–‡ä»¶å†™å…¥</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ„é€ æ–¹æ³•</span>
FileWriter(String fileName)              <span class="hljs-comment">// è¦†ç›–å†™å…¥</span>
FileWriter(String fileName, <span class="hljs-type">boolean</span> append)  <span class="hljs-comment">// append=trueè¡¨ç¤ºè¿½åŠ </span>
</code></pre>
<h5 data-id="heading-24">å­—ç¬¦æ–‡ä»¶å¤åˆ¶ç¤ºä¾‹</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CopyText</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">FileReader</span> <span class="hljs-variable">fr</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-type">FileWriter</span> <span class="hljs-variable">fw</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// åˆ›å»ºè¯»å–æµä¸æºæ–‡ä»¶å…³è”</span>
            fr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>(<span class="hljs-string">"source.txt"</span>);
            <span class="hljs-comment">// åˆ›å»ºå†™å…¥æµä¸ç›®æ ‡æ–‡ä»¶å…³è”</span>
            fw = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileWriter</span>(<span class="hljs-string">"target.txt"</span>);
            
            <span class="hljs-type">int</span> ch;
            <span class="hljs-comment">// å¾ªç¯è¯»å–å­—ç¬¦å¹¶å†™å…¥</span>
            <span class="hljs-keyword">while</span> ((ch = fr.read()) != -<span class="hljs-number">1</span>) {
                fw.write(ch);
            }
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// å…³é—­æµèµ„æº</span>
            <span class="hljs-keyword">if</span> (fw != <span class="hljs-literal">null</span>) fw.close();
            <span class="hljs-keyword">if</span> (fr != <span class="hljs-literal">null</span>) fr.close();
        }
    }
}
</code></pre>
<h4 data-id="heading-25">å­—èŠ‚æ–‡ä»¶æ“ä½œ</h4>
<h5 data-id="heading-26">1. FileInputStream - å­—èŠ‚æ–‡ä»¶è¯»å–</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ„é€ æ–¹æ³•</span>
FileInputStream(File file)
FileInputStream(String name)

<span class="hljs-comment">// ä¸»è¦æ–¹æ³•</span>
available()     <span class="hljs-comment">// è¿”å›å¯è¯»å­—èŠ‚æ•°</span>
read()         <span class="hljs-comment">// è¯»å–å•ä¸ªå­—èŠ‚</span>
read(<span class="hljs-type">byte</span>[] b) <span class="hljs-comment">// è¯»å–å­—èŠ‚åˆ°æ•°ç»„</span>
</code></pre>
<h5 data-id="heading-27">2. FileOutputStream - å­—èŠ‚æ–‡ä»¶å†™å…¥</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ„é€ æ–¹æ³•</span>
FileOutputStream(File file)
FileOutputStream(String name)

<span class="hljs-comment">// ä¸»è¦æ–¹æ³•</span>
write(<span class="hljs-type">byte</span>[] b)                    <span class="hljs-comment">// å†™å…¥å­—èŠ‚æ•°ç»„</span>
write(<span class="hljs-type">byte</span>[] b, <span class="hljs-type">int</span> off, <span class="hljs-type">int</span> len)  <span class="hljs-comment">// å†™å…¥å­—èŠ‚æ•°ç»„çš„éƒ¨åˆ†</span>
write(<span class="hljs-type">int</span> b)                       <span class="hljs-comment">// å†™å…¥å•ä¸ªå­—èŠ‚</span>
</code></pre>
<h5 data-id="heading-28">å­—èŠ‚æ–‡ä»¶å¤åˆ¶ç¤ºä¾‹ï¼ˆå›¾ç‰‡å¤åˆ¶ï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CopyImage</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">fos</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        
        <span class="hljs-keyword">try</span> {
            fis = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">"source.jpg"</span>);
            fos = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">"target.jpg"</span>);
            
            <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];
            <span class="hljs-type">int</span> len;
            
            <span class="hljs-keyword">while</span> ((len = fis.read(buffer)) != -<span class="hljs-number">1</span>) {
                fos.write(buffer, <span class="hljs-number">0</span>, len);
            }
        } <span class="hljs-keyword">catch</span> (IOException e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æ–‡ä»¶å¤åˆ¶å¤±è´¥"</span>, e);
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">if</span> (fis != <span class="hljs-literal">null</span>) fis.close();
                <span class="hljs-keyword">if</span> (fos != <span class="hljs-literal">null</span>) fos.close();
            } <span class="hljs-keyword">catch</span> (IOException e) {
                e.printStackTrace();
            }
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-29">ç¼“å†²æµ</h3>
<p>ç¼“å†²æµé€šè¿‡å†…ç½®ç¼“å†²åŒºæé«˜IOæ“ä½œæ•ˆç‡ï¼Œå‡å°‘å¯¹åº•å±‚ç³»ç»Ÿçš„è®¿é—®æ¬¡æ•°ã€‚</p>
<h4 data-id="heading-30">å­—ç¬¦ç¼“å†²æµ</h4>
<h5 data-id="heading-31">1. BufferedReader</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ„é€ æ–¹æ³•</span>
BufferedReader(Reader in)
BufferedReader(Reader in, <span class="hljs-type">int</span> sz)  <span class="hljs-comment">// æŒ‡å®šç¼“å†²åŒºå¤§å°</span>

<span class="hljs-comment">// ç‰¹æœ‰æ–¹æ³•</span>
readLine()  <span class="hljs-comment">// è¯»å–ä¸€è¡Œæ–‡æœ¬</span>
</code></pre>
<h5 data-id="heading-32">2. BufferedWriter</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ„é€ æ–¹æ³•</span>
BufferedWriter(Writer out)
BufferedWriter(Writer out, <span class="hljs-type">int</span> sz)

<span class="hljs-comment">// ç‰¹æœ‰æ–¹æ³•</span>
newLine()  <span class="hljs-comment">// å†™å…¥è¡Œåˆ†éš”ç¬¦</span>
</code></pre>
<h5 data-id="heading-33">å­—ç¬¦ç¼“å†²æµç¤ºä¾‹</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BufferedCopyText</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">BufferedReader</span> <span class="hljs-variable">bufr</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-type">BufferedWriter</span> <span class="hljs-variable">bufw</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        
        <span class="hljs-keyword">try</span> {
            bufr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedReader</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>(<span class="hljs-string">"source.txt"</span>));
            bufw = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedWriter</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileWriter</span>(<span class="hljs-string">"target.txt"</span>));
            
            String line;
            <span class="hljs-keyword">while</span> ((line = bufr.readLine()) != <span class="hljs-literal">null</span>) {
                bufw.write(line);
                bufw.newLine();  <span class="hljs-comment">// å†™å…¥æ¢è¡Œç¬¦</span>
                bufw.flush();    <span class="hljs-comment">// åˆ·æ–°ç¼“å†²åŒº</span>
            }
        } <span class="hljs-keyword">catch</span> (IOException e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"è¯»å†™å¤±è´¥"</span>, e);
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">if</span> (bufr != <span class="hljs-literal">null</span>) bufr.close();
                <span class="hljs-keyword">if</span> (bufw != <span class="hljs-literal">null</span>) bufw.close();
            } <span class="hljs-keyword">catch</span> (IOException e) {
                e.printStackTrace();
            }
        }
    }
}
</code></pre>
<h4 data-id="heading-34">å­—èŠ‚ç¼“å†²æµ</h4>
<h5 data-id="heading-35">1. BufferedInputStream</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ„é€ æ–¹æ³•</span>
BufferedInputStream(InputStream in)
BufferedInputStream(InputStream in, <span class="hljs-type">int</span> size)
</code></pre>
<h5 data-id="heading-36">2. BufferedOutputStream</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ„é€ æ–¹æ³•</span>
BufferedOutputStream(OutputStream out)
BufferedOutputStream(OutputStream out, <span class="hljs-type">int</span> size)
</code></pre>
<h5 data-id="heading-37">å­—èŠ‚ç¼“å†²æµç¤ºä¾‹ï¼ˆéŸ³é¢‘å¤åˆ¶ï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BufferedCopyAudio</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">BufferedInputStream</span> <span class="hljs-variable">bufis</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-type">BufferedOutputStream</span> <span class="hljs-variable">bufos</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        
        <span class="hljs-keyword">try</span> {
            bufis = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedInputStream</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">"source.mp3"</span>));
            bufos = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedOutputStream</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">"target.mp3"</span>));
            
            <span class="hljs-type">int</span> by;
            <span class="hljs-keyword">while</span> ((by = bufis.read()) != -<span class="hljs-number">1</span>) {
                bufos.write(by);
            }
        } <span class="hljs-keyword">catch</span> (IOException e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"å¤åˆ¶å¤±è´¥"</span>, e);
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">if</span> (bufis != <span class="hljs-literal">null</span>) bufis.close();
                <span class="hljs-keyword">if</span> (bufos != <span class="hljs-literal">null</span>) bufos.close();
            } <span class="hljs-keyword">catch</span> (IOException e) {
                e.printStackTrace();
            }
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-38">è½¬æ¢æµ</h3>
<p>è½¬æ¢æµæ˜¯å­—èŠ‚æµä¸å­—ç¬¦æµä¹‹é—´çš„æ¡¥æ¢ï¼Œä¸»è¦ç”¨äºå­—ç¬¦ç¼–ç è½¬æ¢ã€‚</p>
<h4 data-id="heading-39">1. InputStreamReaderï¼ˆå­—èŠ‚æµâ†’å­—ç¬¦æµï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ„é€ æ–¹æ³•</span>
InputStreamReader(InputStream in)                    <span class="hljs-comment">// ä½¿ç”¨é»˜è®¤å­—ç¬¦é›†</span>
InputStreamReader(InputStream in, String charsetName)  <span class="hljs-comment">// æŒ‡å®šå­—ç¬¦é›†</span>

<span class="hljs-comment">// ä¸»è¦æ–¹æ³•</span>
getEncoding()  <span class="hljs-comment">// è¿”å›å­—ç¬¦ç¼–ç åç§°</span>
</code></pre>
<h4 data-id="heading-40">2. OutputStreamWriterï¼ˆå­—ç¬¦æµâ†’å­—èŠ‚æµï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ„é€ æ–¹æ³•</span>
OutputStreamWriter(OutputStream out)                    <span class="hljs-comment">// ä½¿ç”¨é»˜è®¤å­—ç¬¦é›†</span>
OutputStreamWriter(OutputStream out, String charsetName)  <span class="hljs-comment">// æŒ‡å®šå­—ç¬¦é›†</span>

<span class="hljs-comment">// ä¸»è¦æ–¹æ³•</span>
getEncoding()  <span class="hljs-comment">// è¿”å›å­—ç¬¦ç¼–ç åç§°</span>
</code></pre>
<h4 data-id="heading-41">è½¬æ¢æµåº”ç”¨ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TransformStreamDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">BufferedReader</span> <span class="hljs-variable">bufr</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-type">BufferedWriter</span> <span class="hljs-variable">bufw</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ç³»ç»Ÿè¾“å…¥è½¬ä¸ºå­—ç¬¦æµï¼Œä½¿ç”¨UTF-8ç¼–ç </span>
            bufr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedReader</span>(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">InputStreamReader</span>(System.in, <span class="hljs-string">"UTF-8"</span>)
            );
            
            <span class="hljs-comment">// ç³»ç»Ÿè¾“å‡ºè½¬ä¸ºå­—ç¬¦æµï¼Œä½¿ç”¨UTF-8ç¼–ç </span>
            bufw = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedWriter</span>(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">OutputStreamWriter</span>(System.out, <span class="hljs-string">"UTF-8"</span>)
            );
            
            String line;
            <span class="hljs-keyword">while</span> ((line = bufr.readLine()) != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">if</span> (<span class="hljs-string">"exit"</span>.equals(line)) {
                    <span class="hljs-keyword">break</span>;
                }
                
                <span class="hljs-comment">// è½¬ä¸ºå¤§å†™å¹¶è¾“å‡º</span>
                bufw.write(line.toUpperCase());
                bufw.newLine();
                bufw.flush();
            }
        } <span class="hljs-keyword">catch</span> (IOException e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"å¤„ç†å¤±è´¥"</span>, e);
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">if</span> (bufr != <span class="hljs-literal">null</span>) bufr.close();
                <span class="hljs-keyword">if</span> (bufw != <span class="hljs-literal">null</span>) bufw.close();
            } <span class="hljs-keyword">catch</span> (IOException e) {
                e.printStackTrace();
            }
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-42">Fileç±»</h3>
<p>Fileç±»ç”¨äºå°è£…æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œæä¾›å¯¹æ–‡ä»¶ç³»ç»Ÿçš„æ“ä½œåŠŸèƒ½ã€‚</p>
<h4 data-id="heading-43">æ„é€ æ–¹æ³•</h4>
<pre><code class="hljs language-java" lang="java">File(String pathname)                    <span class="hljs-comment">// é€šè¿‡è·¯å¾„ååˆ›å»º</span>
File(String parent, String child)       <span class="hljs-comment">// é€šè¿‡çˆ¶ç›®å½•å’Œå­æ–‡ä»¶ååˆ›å»º</span>
File(File parent, String child)         <span class="hljs-comment">// é€šè¿‡çˆ¶Fileå¯¹è±¡å’Œå­æ–‡ä»¶ååˆ›å»º</span>
</code></pre>
<h4 data-id="heading-44">ä¸»è¦æ–¹æ³•</h4>
<h5 data-id="heading-45">åˆ›å»ºå’Œåˆ é™¤æ“ä½œ</h5>






























<table><thead><tr><th>æ–¹æ³•</th><th>è¿”å›ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>createNewFile()</code></td><td>boolean</td><td>åˆ›å»ºæ–°æ–‡ä»¶</td></tr><tr><td><code>mkdir()</code></td><td>boolean</td><td>åˆ›å»ºç›®å½•</td></tr><tr><td><code>mkdirs()</code></td><td>boolean</td><td>åˆ›å»ºç›®å½•ï¼ˆåŒ…æ‹¬å¿…éœ€çš„çˆ¶ç›®å½•ï¼‰</td></tr><tr><td><code>delete()</code></td><td>boolean</td><td>åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•</td></tr></tbody></table>
<h5 data-id="heading-46">åˆ¤æ–­æ“ä½œ</h5>



































<table><thead><tr><th>æ–¹æ³•</th><th>è¿”å›ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>exists()</code></td><td>boolean</td><td>åˆ¤æ–­æ˜¯å¦å­˜åœ¨</td></tr><tr><td><code>isFile()</code></td><td>boolean</td><td>åˆ¤æ–­æ˜¯å¦ä¸ºæ–‡ä»¶</td></tr><tr><td><code>isDirectory()</code></td><td>boolean</td><td>åˆ¤æ–­æ˜¯å¦ä¸ºç›®å½•</td></tr><tr><td><code>canRead()</code></td><td>boolean</td><td>åˆ¤æ–­æ˜¯å¦å¯è¯»</td></tr><tr><td><code>canWrite()</code></td><td>boolean</td><td>åˆ¤æ–­æ˜¯å¦å¯å†™</td></tr></tbody></table>
<h5 data-id="heading-47">è·å–ä¿¡æ¯</h5>



































<table><thead><tr><th>æ–¹æ³•</th><th>è¿”å›ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>getName()</code></td><td>String</td><td>è·å–æ–‡ä»¶å</td></tr><tr><td><code>getPath()</code></td><td>String</td><td>è·å–è·¯å¾„</td></tr><tr><td><code>getParent()</code></td><td>String</td><td>è·å–çˆ¶ç›®å½•</td></tr><tr><td><code>length()</code></td><td>long</td><td>è·å–æ–‡ä»¶å¤§å°</td></tr><tr><td><code>lastModified()</code></td><td>long</td><td>è·å–æœ€åä¿®æ”¹æ—¶é—´</td></tr></tbody></table>
<h5 data-id="heading-48">ç›®å½•æ“ä½œ</h5>




















<table><thead><tr><th>æ–¹æ³•</th><th>è¿”å›ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>list()</code></td><td>String[]</td><td>è·å–ç›®å½•ä¸­æ–‡ä»¶åæ•°ç»„</td></tr><tr><td><code>listFiles()</code></td><td>File[]</td><td>è·å–ç›®å½•ä¸­æ–‡ä»¶å¯¹è±¡æ•°ç»„</td></tr></tbody></table>
<h4 data-id="heading-49">Fileç±»åº”ç”¨ç¤ºä¾‹</h4>
<h5 data-id="heading-50">1. æ¡ä»¶æŸ¥æ‰¾æ–‡ä»¶</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FileFilterDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">File</span> <span class="hljs-variable">dir</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">"C:\\Users\\Desktop"</span>);
        
        <span class="hljs-comment">// ä½¿ç”¨FilenameFilterè¿‡æ»¤æ¡ä»¶</span>
        File[] jpgFiles = dir.listFiles(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FilenameFilter</span>() {
            <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">accept</span><span class="hljs-params">(File dir, String name)</span> {
                <span class="hljs-keyword">return</span> name.toLowerCase().endsWith(<span class="hljs-string">".jpg"</span>);
            }
        });
        
        <span class="hljs-comment">// è¾“å‡ºæ‰¾åˆ°çš„JPGæ–‡ä»¶</span>
        <span class="hljs-keyword">if</span> (jpgFiles != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">for</span> (File file : jpgFiles) {
                System.out.println(file.getName() + <span class="hljs-string">" - å¤§å°: "</span> + file.length() + <span class="hljs-string">" bytes"</span>);
            }
        }
    }
}
</code></pre>
<h5 data-id="heading-51">2. é€’å½’éå†ç›®å½•</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DirectoryTraversal</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">File</span> <span class="hljs-variable">dir</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">"C:\\Projects"</span>);
        traverseDirectory(dir, <span class="hljs-number">0</span>);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">traverseDirectory</span><span class="hljs-params">(File dir, <span class="hljs-type">int</span> level)</span> {
        <span class="hljs-keyword">if</span> (!dir.exists() || !dir.isDirectory()) {
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-comment">// æ‰“å°ç›®å½•åï¼ˆå¸¦ç¼©è¿›ï¼‰</span>
        printWithIndent(dir.getName() + <span class="hljs-string">"/"</span>, level);
        
        File[] files = dir.listFiles();
        <span class="hljs-keyword">if</span> (files != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">for</span> (File file : files) {
                <span class="hljs-keyword">if</span> (file.isDirectory()) {
                    traverseDirectory(file, level + <span class="hljs-number">1</span>);
                } <span class="hljs-keyword">else</span> {
                    printWithIndent(file.getName(), level + <span class="hljs-number">1</span>);
                }
            }
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printWithIndent</span><span class="hljs-params">(String text, <span class="hljs-type">int</span> level)</span> {
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; level; i++) {
            System.out.print(<span class="hljs-string">"  "</span>);
        }
        System.out.println(text);
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-52">ç‰¹æ®Šæµç±»å‹</h3>
<h4 data-id="heading-53">1. æ‰“å°æµ</h4>
<p>æ‰“å°æµæä¾›ä¾¿æ·çš„æ‰“å°åŠŸèƒ½ï¼Œå¯ä»¥æ‰“å°å„ç§æ•°æ®ç±»å‹ã€‚</p>
<h5 data-id="heading-54">PrintStreamï¼ˆå­—èŠ‚æ‰“å°æµï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ„é€ æ–¹æ³•</span>
PrintStream(File file)
PrintStream(OutputStream out)
PrintStream(String fileName)

<span class="hljs-comment">// ç‰¹æœ‰æ–¹æ³•</span>
print(Object obj)    <span class="hljs-comment">// æ‰“å°å¯¹è±¡</span>
println(Object obj)  <span class="hljs-comment">// æ‰“å°å¯¹è±¡å¹¶æ¢è¡Œ</span>
printf(String format, Object... args)  <span class="hljs-comment">// æ ¼å¼åŒ–æ‰“å°</span>
</code></pre>
<h5 data-id="heading-55">PrintWriterï¼ˆå­—ç¬¦æ‰“å°æµï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ„é€ æ–¹æ³•</span>
PrintWriter(File file)
PrintWriter(Writer out)
PrintWriter(String fileName)
</code></pre>
<h4 data-id="heading-56">2. å¯¹è±¡æµï¼ˆåºåˆ—åŒ–ï¼‰</h4>
<p>å¯¹è±¡æµç”¨äºå¯¹è±¡çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ“ä½œã€‚</p>
<h5 data-id="heading-57">å‰ææ¡ä»¶</h5>
<p>è¢«åºåˆ—åŒ–çš„ç±»å¿…é¡»å®ç°<code>Serializable</code>æ¥å£ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.Serializable;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;
    
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;
    
    <span class="hljs-comment">// æ„é€ æ–¹æ³•ã€getterã€setter...</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name + <span class="hljs-string">":"</span> + age;
    }
}
</code></pre>
<h5 data-id="heading-58">ObjectOutputStreamï¼ˆå¯¹è±¡è¾“å‡ºæµï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ObjectSerialize</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">ObjectOutputStream</span> <span class="hljs-variable">oos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectOutputStream</span>(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">"person.dat"</span>))) {
            
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">25</span>);
            oos.writeObject(person);
            System.out.println(<span class="hljs-string">"å¯¹è±¡åºåˆ—åŒ–å®Œæˆ"</span>);
            
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
<h5 data-id="heading-59">ObjectInputStreamï¼ˆå¯¹è±¡è¾“å…¥æµï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ObjectDeserialize</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">ObjectInputStream</span> <span class="hljs-variable">ois</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectInputStream</span>(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">"person.dat"</span>))) {
            
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> (Person) ois.readObject();
            System.out.println(<span class="hljs-string">"ååºåˆ—åŒ–å¯¹è±¡: "</span> + person);
            
        } <span class="hljs-keyword">catch</span> (IOException | ClassNotFoundException e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
<h4 data-id="heading-60">3. æ•°æ®æµ</h4>
<p>æ•°æ®æµç”¨äºè¯»å†™åŸºæœ¬æ•°æ®ç±»å‹ã€‚</p>
<h5 data-id="heading-61">DataOutputStream</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataStreamWrite</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">DataOutputStream</span> <span class="hljs-variable">dos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataOutputStream</span>(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">"data.dat"</span>))) {
            
            dos.writeInt(<span class="hljs-number">100</span>);
            dos.writeDouble(<span class="hljs-number">3.14</span>);
            dos.writeUTF(<span class="hljs-string">"Hello World"</span>);
            dos.writeBoolean(<span class="hljs-literal">true</span>);
            
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
<h5 data-id="heading-62">DataInputStream</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataStreamRead</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">DataInputStream</span> <span class="hljs-variable">dis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataInputStream</span>(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">"data.dat"</span>))) {
            
            <span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> dis.readInt();
            <span class="hljs-type">double</span> <span class="hljs-variable">pi</span> <span class="hljs-operator">=</span> dis.readDouble();
            <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> dis.readUTF();
            <span class="hljs-type">boolean</span> <span class="hljs-variable">flag</span> <span class="hljs-operator">=</span> dis.readBoolean();
            
            System.out.println(<span class="hljs-string">"int: "</span> + num);
            System.out.println(<span class="hljs-string">"double: "</span> + pi);
            System.out.println(<span class="hljs-string">"String: "</span> + str);
            System.out.println(<span class="hljs-string">"boolean: "</span> + flag);
            
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
<h4 data-id="heading-63">4. RandomAccessFile</h4>
<p>éšæœºè®¿é—®æ–‡ä»¶ç±»ï¼Œæ”¯æŒå¯¹æ–‡ä»¶çš„éšæœºè¯»å†™ã€‚</p>
<h5 data-id="heading-64">åŸºæœ¬ç”¨æ³•</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RandomAccessFileDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// å†™å…¥æ•°æ®</span>
            writeData();
            <span class="hljs-comment">// è¯»å–æ•°æ®</span>
            readData();
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">writeData</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">RandomAccessFile</span> <span class="hljs-variable">raf</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RandomAccessFile</span>(<span class="hljs-string">"random.dat"</span>, <span class="hljs-string">"rw"</span>)) {
            raf.writeUTF(<span class="hljs-string">"å¼ ä¸‰"</span>);
            raf.writeInt(<span class="hljs-number">25</span>);
            raf.writeUTF(<span class="hljs-string">"æå››"</span>);
            raf.writeInt(<span class="hljs-number">30</span>);
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">readData</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">RandomAccessFile</span> <span class="hljs-variable">raf</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RandomAccessFile</span>(<span class="hljs-string">"random.dat"</span>, <span class="hljs-string">"r"</span>)) {
            <span class="hljs-comment">// ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®è¯»å–</span>
            raf.seek(<span class="hljs-number">0</span>);
            <span class="hljs-type">String</span> <span class="hljs-variable">name1</span> <span class="hljs-operator">=</span> raf.readUTF();
            <span class="hljs-type">int</span> <span class="hljs-variable">age1</span> <span class="hljs-operator">=</span> raf.readInt();
            System.out.println(name1 + <span class="hljs-string">": "</span> + age1);
            
            <span class="hljs-type">String</span> <span class="hljs-variable">name2</span> <span class="hljs-operator">=</span> raf.readUTF();
            <span class="hljs-type">int</span> <span class="hljs-variable">age2</span> <span class="hljs-operator">=</span> raf.readInt();
            System.out.println(name2 + <span class="hljs-string">": "</span> + age2);
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-65">IOå¼‚å¸¸å¤„ç†</h3>
<h4 data-id="heading-66">å¸¸è§IOå¼‚å¸¸ç±»å‹</h4>





























<table><thead><tr><th>å¼‚å¸¸ç±»</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>IOException</code></td><td>IOæ“ä½œçš„é€šç”¨å¼‚å¸¸</td></tr><tr><td><code>FileNotFoundException</code></td><td>æ–‡ä»¶æœªæ‰¾åˆ°å¼‚å¸¸</td></tr><tr><td><code>EOFException</code></td><td>æ„å¤–åˆ°è¾¾æ–‡ä»¶æˆ–æµæœ«å°¾</td></tr><tr><td><code>UTFDataFormatException</code></td><td>UTFæ ¼å¼æ•°æ®å¼‚å¸¸</td></tr><tr><td><code>InvalidClassException</code></td><td>åºåˆ—åŒ–ç‰ˆæœ¬ä¸åŒ¹é…</td></tr></tbody></table>
<h4 data-id="heading-67">IOå¼‚å¸¸å¤„ç†æœ€ä½³å®è·µ</h4>
<h5 data-id="heading-68">1. try-with-resourcesï¼ˆæ¨èï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">IOExceptionHandling</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">copyFile</span><span class="hljs-params">(String source, String target)</span> {
        <span class="hljs-comment">// è‡ªåŠ¨èµ„æºç®¡ç†</span>
        <span class="hljs-keyword">try</span> (<span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(source);
             <span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">fos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(target)) {
            
            <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];
            <span class="hljs-type">int</span> len;
            <span class="hljs-keyword">while</span> ((len = fis.read(buffer)) != -<span class="hljs-number">1</span>) {
                fos.write(buffer, <span class="hljs-number">0</span>, len);
            }
            
        } <span class="hljs-keyword">catch</span> (FileNotFoundException e) {
            System.err.println(<span class="hljs-string">"æ–‡ä»¶æœªæ‰¾åˆ°: "</span> + e.getMessage());
        } <span class="hljs-keyword">catch</span> (IOException e) {
            System.err.println(<span class="hljs-string">"IOæ“ä½œå¤±è´¥: "</span> + e.getMessage());
        }
    }
}
</code></pre>
<h5 data-id="heading-69">2. ä¼ ç»Ÿå¼‚å¸¸å¤„ç†æ–¹å¼</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TraditionalExceptionHandling</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">copyFile</span><span class="hljs-params">(String source, String target)</span> {
        <span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">fos</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        
        <span class="hljs-keyword">try</span> {
            fis = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(source);
            fos = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(target);
            
            <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];
            <span class="hljs-type">int</span> len;
            <span class="hljs-keyword">while</span> ((len = fis.read(buffer)) != -<span class="hljs-number">1</span>) {
                fos.write(buffer, <span class="hljs-number">0</span>, len);
            }
            
        } <span class="hljs-keyword">catch</span> (FileNotFoundException e) {
            System.err.println(<span class="hljs-string">"æ–‡ä»¶æœªæ‰¾åˆ°: "</span> + e.getMessage());
        } <span class="hljs-keyword">catch</span> (IOException e) {
            System.err.println(<span class="hljs-string">"IOæ“ä½œå¤±è´¥: "</span> + e.getMessage());
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// ç¡®ä¿èµ„æºè¢«æ­£ç¡®å…³é—­</span>
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">if</span> (fis != <span class="hljs-literal">null</span>) fis.close();
            } <span class="hljs-keyword">catch</span> (IOException e) {
                System.err.println(<span class="hljs-string">"å…³é—­è¾“å…¥æµå¤±è´¥: "</span> + e.getMessage());
            }
            
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">if</span> (fos != <span class="hljs-literal">null</span>) fos.close();
            } <span class="hljs-keyword">catch</span> (IOException e) {
                System.err.println(<span class="hljs-string">"å…³é—­è¾“å‡ºæµå¤±è´¥: "</span> + e.getMessage());
            }
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-70">æ€»ç»“</h3>
<h4 data-id="heading-71">IOæµé€‰æ‹©æŒ‡å—</h4>








































<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæµç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æ–‡æœ¬æ–‡ä»¶è¯»å†™</td><td>FileReader/FileWriter + ç¼“å†²æµ</td><td>å­—ç¬¦æµå¤„ç†æ–‡æœ¬æ›´æ–¹ä¾¿</td></tr><tr><td>äºŒè¿›åˆ¶æ–‡ä»¶æ“ä½œ</td><td>FileInputStream/FileOutputStream + ç¼“å†²æµ</td><td>å­—èŠ‚æµå¤„ç†äºŒè¿›åˆ¶æ•°æ®</td></tr><tr><td>ç½‘ç»œæ•°æ®ä¼ è¾“</td><td>å­—èŠ‚æµ + è½¬æ¢æµ</td><td>ç½‘ç»œä¼ è¾“åŸºäºå­—èŠ‚</td></tr><tr><td>å¯¹è±¡æŒä¹…åŒ–</td><td>ObjectInputStream/ObjectOutputStream</td><td>åºåˆ—åŒ–å’Œååºåˆ—åŒ–</td></tr><tr><td>å¤§æ–‡ä»¶å¤„ç†</td><td>ç¼“å†²æµ</td><td>æé«˜æ•ˆç‡</td></tr><tr><td>éšæœºè®¿é—®</td><td>RandomAccessFile</td><td>æ”¯æŒéšæœºå®šä½</td></tr></tbody></table>
<h4 data-id="heading-72">æ€§èƒ½ä¼˜åŒ–å»ºè®®</h4>
<ol>
<li><strong>ä½¿ç”¨ç¼“å†²æµ</strong>ï¼šå‡å°‘ç³»ç»Ÿè°ƒç”¨æ¬¡æ•°ï¼Œæé«˜IOæ•ˆç‡</li>
<li><strong>åˆç†è®¾ç½®ç¼“å†²åŒºå¤§å°</strong>ï¼šæ ¹æ®æ–‡ä»¶å¤§å°å’Œå†…å­˜æƒ…å†µè°ƒæ•´</li>
<li><strong>åŠæ—¶å…³é—­æµ</strong>ï¼šä½¿ç”¨try-with-resourcesæˆ–finallyå—</li>
<li><strong>æ‰¹é‡æ“ä½œ</strong>ï¼šä½¿ç”¨æ•°ç»„è¯»å†™è€Œéå•ä¸ªå­—èŠ‚/å­—ç¬¦</li>
<li><strong>é¿å…é¢‘ç¹çš„å°æ•°æ®è¯»å†™</strong>ï¼šåˆå¹¶è¯»å†™æ“ä½œ</li>
</ol>
<h4 data-id="heading-73">æœ€ä½³å®è·µ</h4>
<ol>
<li><strong>èµ„æºç®¡ç†</strong>ï¼šå§‹ç»ˆç¡®ä¿æµè¢«æ­£ç¡®å…³é—­</li>
<li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šæ•è·å…·ä½“çš„å¼‚å¸¸ç±»å‹å¹¶æä¾›æœ‰æ„ä¹‰çš„é”™è¯¯ä¿¡æ¯</li>
<li><strong>ç¼–ç å¤„ç†</strong>ï¼šæ˜ç¡®æŒ‡å®šå­—ç¬¦ç¼–ç ï¼Œé¿å…ä¹±ç é—®é¢˜</li>
<li><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šIOæµé€šå¸¸ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¤šçº¿ç¨‹ç¯å¢ƒéœ€è¦åŒæ­¥</li>
<li><strong>å†…å­˜ç®¡ç†</strong>ï¼šå¤„ç†å¤§æ–‡ä»¶æ—¶æ³¨æ„å†…å­˜ä½¿ç”¨ï¼Œé¿å…ä¸€æ¬¡æ€§è¯»å–è¿‡å¤šæ•°æ®</li>
</ol>
<p>é€šè¿‡æŒæ¡Java IOæµçš„æ ¸å¿ƒæ¦‚å¿µå’Œå¸¸ç”¨ç±»ï¼Œå¯ä»¥é«˜æ•ˆåœ°å¤„ç†å„ç§è¾“å…¥è¾“å‡ºæ“ä½œï¼Œä¸ºJavaåº”ç”¨ç¨‹åºæä¾›å¼ºå¤§çš„æ–‡ä»¶å¤„ç†èƒ½åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜¿é‡Œäººçš„ 2025 å¹´ç»ˆæ€»ç»“ï¼šä¹°æˆ¿ã€æ™‹å‡ã€è®¢å©šã€æŠ•èµ„ï¼Œé‡è§æ›´æ¸…æ™°çš„è‡ªå·±]]></title>    <link>https://juejin.cn/post/7590699877630378022</link>    <guid>https://juejin.cn/post/7590699877630378022</guid>    <pubDate>2026-01-03T11:55:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590699877630378022" data-draft-id="7590699877630328870" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜¿é‡Œäººçš„ 2025 å¹´ç»ˆæ€»ç»“ï¼šä¹°æˆ¿ã€æ™‹å‡ã€è®¢å©šã€æŠ•èµ„ï¼Œé‡è§æ›´æ¸…æ™°çš„è‡ªå·±"/> <meta itemprop="keywords" content="åç«¯,é¢è¯•,æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-03T11:55:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çˆ±æ•²ä»£ç çš„å°é»„"/> <meta itemprop="url" content="https://juejin.cn/user/598584558627246"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜¿é‡Œäººçš„ 2025 å¹´ç»ˆæ€»ç»“ï¼šä¹°æˆ¿ã€æ™‹å‡ã€è®¢å©šã€æŠ•èµ„ï¼Œé‡è§æ›´æ¸…æ™°çš„è‡ªå·±
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/598584558627246/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çˆ±æ•²ä»£ç çš„å°é»„
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-03T11:55:59.000Z" title="Sat Jan 03 2026 11:55:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bdb9b40d45524053bfdc3e50beb9a6c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5pWy5Luj56CB55qE5bCP6buE:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768046158&amp;x-signature=SCWvo1D6E14W%2BrPgI7QETYVJSlI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€å¼•è¨€</h2>
<p>åˆåˆ°äº†ä¸€å¹´ä¸€åº¦çš„å¹´ç»ˆå¤ç›˜æ—¶åˆ»ã€‚</p>
<p>å¤ç›˜ï¼Œä»æ¥ä¸åªæ˜¯å›çœ‹å·²ç»å‘ç”Ÿçš„äº‹æƒ…ï¼Œæ›´é‡è¦çš„æ˜¯â€”â€”ä¸ºå°šæœªå‘ç”Ÿçš„æœªæ¥ï¼Œæå‰é“ºè·¯ã€æ ¡å‡†æ–¹å‘ã€‚</p>
<p>å›æœ› 2025 å¹´ï¼Œå…¶å®å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œï¼Œæˆ‘å§‹ç»ˆæ²¡æœ‰çœŸæ­£æ‰¾åˆ°è‡ªå·±çš„æ–¹å‘ã€‚å·¥ä½œä¹‹å¤–ï¼Œè°ˆä¸ä¸Šçƒ­çˆ±ï¼Œä¹Ÿè°ˆä¸ä¸Šç¬ƒå®šï¼Œåªæ˜¯åœ¨æƒ¯æ€§ä¸­å‰è¡Œã€‚</p>
<p>ç›´åˆ° 2025 å¹´çš„å°¾å£°ï¼Œæ‰ç»ˆäºçœ‹æ¸…äº†ä¸€äº›ä¸œè¥¿ï¼šå“ªäº›æ˜¯å¿…é¡»åšæŒçš„ï¼Œå“ªäº›æ˜¯å¯ä»¥æ”¾ä¸‹çš„ï¼Œä¹Ÿé€æ¸æ‘¸ç´¢å‡ºå‡ æ¡æ›´å±äºè‡ªå·±çš„è·¯å¾„ã€‚è¿™ä¸€å¹´ï¼Œå¹¶éçªç„¶å¼€æ‚Ÿï¼Œè€Œæ˜¯åå¤ç¢°å£åçš„æ²‰æ·€ä¸å–èˆã€‚</p>
<p>ä¾æ—§æŒ‰ç…§æƒ¯ä¾‹ï¼Œæ²¿ç€æ—¶é—´çš„è½¨è¿¹ï¼Œå›åˆ° 2025 å¹´çš„èµ·ç‚¹ï¼Œæ¢³ç†è¿™ä¸€æ•´å¹´é‡Œçš„å¾—ä¸å¤±ã€è¿›ä¸é€€ï¼Œä¹Ÿä¸ºä¸‹ä¸€é˜¶æ®µçš„è‡ªå·±ï¼Œç•™ä¸‹äº›ä»€ä¹ˆã€‚</p>
<h2 data-id="heading-1">äºŒã€æŠ€æœ¯ï¼ˆAIé©±åŠ¨ï¼‰</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9dd262c4e24e496fabdd11b579b4e447~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5pWy5Luj56CB55qE5bCP6buE:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768046158&amp;x-signature=bXK%2FP%2Bsa1ph7wID8PtEk0SNAOu0%3D" alt="" loading="lazy"/></p>
<p>2025 å¹´ï¼Œæ˜¯ AI åŠ é€Ÿæ¼”è¿›çš„ä¸€å¹´ã€‚</p>
<p>è¿™ä¸€å¹´é‡Œï¼Œæˆ‘å†™åšå®¢æ˜æ˜¾å°‘äº†ï¼Œæœ€ç›´æ¥çš„åŸå› ï¼Œæ­£æ˜¯ AI å¸¦æ¥çš„å†²å‡»ã€‚æ›¾ç»éœ€è¦ç†¬å¤œæŸ¥èµ„æ–™ã€ç¿»æ–‡æ¡£ã€å•ƒæºç çš„äº‹æƒ…ï¼Œåœ¨ä»Šå¤©çš„ AI é¢å‰æ˜¾å¾—å¼‚å¸¸é«˜æ•ˆâ€”â€”åªéœ€è¦ç»™å‡ºåˆé€‚çš„å…³é”®è¯ï¼Œç­”æ¡ˆå¾€å¾€å·²ç»è¢«ç³»ç»Ÿæ€§åœ°æ•´ç†å¥½ã€‚</p>
<p>ä»å®è§‚æ¥çœ‹ï¼Œ2025 å¹´çš„ä¸»æ—‹å¾‹ï¼Œå‡ ä¹å…¨éƒ¨å›´ç»•ç€<strong>å¤§æ¨¡å‹åŸºç¡€è®¾æ–½</strong>å±•å¼€ã€‚å„å¤§å‚å•†æŒç»­æŠ•å…¥å·¨é¢èµ„é‡‘ï¼Œç”¨äºæ¨¡å‹è§„æ¨¡ã€ç®—åŠ›å’Œè®­ç»ƒèƒ½åŠ›çš„è¿­ä»£å‡çº§ã€‚ä½†ä¸ä¹‹å½¢æˆé²œæ˜å¯¹æ¯”çš„æ˜¯ï¼šâ€‹<strong>å¤§æ¨¡å‹çš„åº”ç”¨è½åœ°ï¼Œä¾ç„¶æ˜¯ä¸€ä¸ªå°šæœªè¢«å½»åº•è§£å†³çš„é—®é¢˜</strong>â€‹ã€‚</p>
<p>è¿™å°±åƒé«˜é€Ÿå…¬è·¯å·²ç»ä¿®å¥½ï¼Œä½†çœŸæ­£å†³å®šèƒœè´Ÿçš„ï¼Œæ˜¯è°å®¶çš„è½¦æœ€å…ˆè·‘èµ·æ¥ã€è·‘å¾—æœ€ç¨³ã€‚</p>
<p>åŸºäºè¿™ä¸€åˆ¤æ–­ï¼Œæˆ‘è¶Šæ¥è¶Šåšå®šåœ°è®¤ä¸ºï¼š<strong>2026 å¹´çš„ä¸»æ—‹å¾‹ï¼Œä¸€å®šæ˜¯ AI çš„è½åœ°ä¸åº”ç”¨ã€‚</strong></p>
<p>å¯¹æŠ€æœ¯äººè€Œè¨€ï¼Œæœªæ¥ä¸å†åªæ˜¯æŠŠä¸šåŠ¡â€œåšæ·±åšç†Ÿâ€ï¼Œè€Œæ˜¯åœ¨æ—¢æœ‰ä¸šåŠ¡åŸºç¡€ä¸Šï¼Œæ€è€ƒå¦‚ä½•ä¸å¤§æ¨¡å‹æ›´å¥½åœ°ç»“åˆã€é€‚é…ã€æ”¾å¤§ä»·å€¼â€”â€”è¿™æˆ–è®¸æ‰æ˜¯æ›´é•¿è¿œçš„ç»ˆå±€ã€‚</p>
<p>çº¯ä¸šåŠ¡å‹æŠ€æœ¯è·¯çº¿ï¼ŒåŠ¿å¿…ä¼šé­é‡ä¸€å®šå†²å‡»ã€‚åŸå› å¹¶ä¸å¤æ‚ï¼šå½“ä¸šåŠ¡æ ¼å±€è¶‹äºç¨³å®šï¼Œå…¬å¸å¾€å¾€ä¸ä¼šå†åœ¨ä¼ ç»Ÿæ–¹å‘ä¸ŠæŠ•å…¥é‡èµ„äº§ã€‚åŠªåŠ›å½“ç„¶é‡è¦ï¼Œä½†åœ¨æŠ€æœ¯æµªæ½®é¢å‰ï¼Œâ€‹<strong>æ–¹å‘çš„ä¼˜å…ˆçº§ï¼Œæ°¸è¿œé«˜äºåŠªåŠ›æœ¬èº«</strong>â€‹ã€‚é£å£ä¹‹ä¸Šï¼Œé€‰æ‹©å¾€å¾€æ¯”åŸ‹å¤´è‹¦å¹²æ›´å…³é”®ã€‚</p>
<p>å¦ç™½è¯´ï¼Œæˆ‘æ›¾é•¿æœŸå¯¹ AI ä¿æŒè·ç¦»ã€‚å¹¶éå¦å®šå®ƒçš„ä»·å€¼ï¼Œè€Œæ˜¯å› ä¸ºå®ƒå¤ªæ–°â€”â€”æ ‡å‡†æœªå®šã€è·¯å¾„æœªæ˜ã€å˜é‡å¤ªå¤šã€‚è¿™ç§ä¸ç¡®å®šæ€§ï¼Œæœ¬èƒ½åœ°è®©äººæŠ—æ‹’ã€‚</p>
<p>çœŸæ­£çš„è½¬æŠ˜ï¼Œæ¥è‡ªä¸€æ¬¡å’Œè€æ¿çš„ç»©æ•ˆæ²Ÿé€šã€‚åœ¨ AI é£é€Ÿæ¼”è¿›çš„èŠ‚ç‚¹ï¼Œå¦‚æœåªæ˜¯ç«™åœ¨ä¸€æ—è§‚æœ›ï¼Œç­‰åˆ«äººæŠŠä½ç½®ç«™ç¨³ã€çº¢åˆ©åƒå®Œï¼Œå†å›å¤´è·Ÿè¿›ï¼Œæˆ‘ä»¬æ³¨å®šåªèƒ½å’€åš¼åˆ«äººå‰©ä¸‹çš„æˆæœï¼Œä¸”æ°¸è¿œæ…¢ä¸€æ­¥ã€‚</p>
<p>ä»é‚£æ¬¡è°ˆè¯ä¹‹åï¼Œæˆ‘é€æ¸æ¥å—äº†ä¸€ä¸ªäº‹å®ï¼š<strong>AI ä¸æ˜¯é€‰ä¿®ï¼Œè€Œæ˜¯å¿…é¡»æ­£è§†çš„æ–¹å‘ã€‚</strong></p>
<p>å®¢è§‚æ¥è¯´ï¼Œ2025 å¹´æˆ‘å¹¶æ²¡æœ‰ç³»ç»Ÿæ€§åœ°å­¦ä¹ å¤ªå¤š AI çŸ¥è¯†ã€‚ä½†æˆ‘ä¹Ÿè¶Šæ¥è¶Šç¡®ä¿¡ï¼Œå­¦ä¹ æœ¬èº«å¹¶ä¸æ˜¯æœ€éš¾çš„äº‹ï¼ŒçœŸæ­£é‡è¦çš„ï¼Œæ˜¯å…ˆé€‰å¯¹æ–¹å‘ã€‚</p>
<p>ç«‹ä¸‹ 2026 å¹´çš„ç¬¬ä¸€ä¸ª Flagï¼š<strong>æŒç»­ç³»ç»Ÿæ€§åœ°å­¦ä¹  AIï¼Œæ„å»ºå®Œæ•´çš„æŠ€æœ¯ä½“ç³»ï¼Œè‡³å°‘è®©è‡ªå·±å§‹ç»ˆç«™åœ¨è¡Œä¸šå‰åˆ—ã€‚</strong></p>
<h2 data-id="heading-2">ä¸‰ã€å·¥ä½œï¼ˆAgent/æ™‹å‡ï¼‰</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81797c49750b482bb9b4ff32fbe321ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5pWy5Luj56CB55qE5bCP6buE:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768046158&amp;x-signature=hTx7eH3BNbIJDpzCjHm79Rq6TRM%3D" alt="" loading="lazy"/></p>
<p>2025 å¹´ï¼Œå‡ ä¹å¯ä»¥è¢«è§†ä¸º â€‹<strong>Agent çš„å…ƒå¹´</strong>â€‹ã€‚</p>
<p>å¯¹é£æ§å·¥ç¨‹å¸ˆè€Œè¨€ï¼Œè¿™æ˜¯ä¸€ä¸ªéš¾å¾—çš„å†å²çª—å£æœŸã€‚å¤§æ¨¡å‹å¤©ç„¶æ“…é•¿å›¾æ–‡ç†è§£ï¼Œè€Œå†…å®¹é£æ§çš„æ ¸å¿ƒé£é™©ï¼Œæ°æ°é›†ä¸­åœ¨å›¾æ–‡ä¸å¤šæ¨¡æ€å±‚é¢ï¼ŒäºŒè€…ä¹‹é—´çš„å¥‘åˆåº¦ï¼Œå‡ ä¹æ˜¯ä¸ºå†…å®¹é£æ§é‡èº«å®šåšã€‚</p>
<p>åœ¨è¿‡å»ä¸€å¹´é‡Œï¼Œæˆ‘ä»¬æ›´å¤šæ˜¯åœ¨â€‹<strong>å¤¯å®åº•å±‚èƒ½åŠ›</strong>â€‹ï¼šåŒ…æ‹¬å¤§æ¨¡å‹ä¸å°æ¨¡å‹çš„ååŒã€å‘é‡æ£€ç´¢ä½“ç³»ã€æ•æ„Ÿè¯ä¸è§„åˆ™åŒ¹é…ç­‰åŸºç¡€è®¾æ–½å»ºè®¾ã€‚è€Œä»Šå¹´ï¼Œåˆ™é¡ºåº”æŠ€æœ¯æ¼”è¿›çš„æ–¹å‘ï¼Œåœ¨æ­¤ä¹‹ä¸Šï¼Œå¼€å§‹ç³»ç»Ÿæ€§åœ°æ¨è¿›â€‹<strong>å†…å®¹é£æ§ Agent çš„å»ºè®¾</strong>â€‹ã€‚</p>
<p>ä»ç³»ç»Ÿè®¾è®¡è§’åº¦çœ‹ï¼Œä¼ ç»Ÿæ¶æ„å¾€å¾€ä»¥åŒæ­¥æ¨¡å¼ä¸ºä¸»ã€‚ä½†åœ¨å¤§æ¨¡å‹æ—¶ä»£ï¼Œæ¨ç†å»¶è¿Ÿä¸å¯é¿å…åœ°æˆä¸ºæ•´ä½“æ¶æ„çš„ç“¶é¢ˆï¼Œåœ¨é«˜ QPS åœºæ™¯ä¸‹ï¼Œå•çº¯ä¾èµ–åŒæ­¥è°ƒç”¨å·²éš¾ä»¥æ”¯æ’‘è§„æ¨¡åŒ–è½åœ°ã€‚å› æ­¤ï¼Œæ¶æ„å½¢æ€ä¹Ÿä¸å¾—ä¸éšä¹‹æ¼”è¿›ï¼Œä»åŒæ­¥æ¨¡å¼é€æ­¥å‘<strong>å¼‚æ­¥åŒ–ã€ä»»åŠ¡åŒ–</strong>è½¬å˜ã€‚</p>
<p>ä¸è¿‡ï¼Œç›¸æ¯”æ¶æ„è°ƒæ•´ï¼ŒAgent æœ¬èº«é•¿æœŸå­˜åœ¨çš„ä¸¤ä¸ªæ ¸å¿ƒé—®é¢˜æ›´åŠ å…³é”®ï¼š<strong>å¹»è§‰é—®é¢˜</strong>ä¸â€‹<strong>æˆæœ¬é—®é¢˜</strong>â€‹ã€‚</p>
<p>å¯¹äºå¹»è§‰é—®é¢˜ï¼Œä¸šç•Œè¾ƒä¸ºæˆç†Ÿçš„åšæ³•ï¼Œæ˜¯é€šè¿‡ Workflow å¯¹å¤§æ¨¡å‹çš„è¡Œä¸ºè·¯å¾„è¿›è¡Œçº¦æŸï¼Œè®©å…¶åœ¨é¢„è®¾çš„æµç¨‹å’Œè¾¹ç•Œå†…å®Œæˆæ¨ç†ï¼Œä»è€Œé™ä½ä¸ç¡®å®šæ€§ã€‚</p>
<p>è€Œæˆæœ¬é—®é¢˜åˆ™æ›´å…·æŒ‘æˆ˜æ€§ã€‚ç›®å‰ä¸»æµæ€è·¯å¯ä»¥æ‹†è§£ä¸ºä¸¤ä¸ªæ–¹å‘ï¼šä¸€æ˜¯<strong>é™ä½å¤§æ¨¡å‹</strong>â€‹â€‹<strong>çš„è°ƒç”¨é¢‘æ¬¡</strong>â€‹ï¼ŒäºŒæ˜¯â€‹<strong>é™ä½å•æ¬¡è°ƒç”¨æˆæœ¬</strong>â€‹ã€‚å‰è€…å¾€å¾€å¼•å…¥æœå¹¿æ¨ä½“ç³»ä¸­çš„ç²—æ’ / ç²¾æ’æ¶æ„ï¼Œç”±å°æ¨¡å‹æˆ–è§„åˆ™å…ˆè¡Œè¿‡æ»¤ï¼Œä»…å°†å¿…è¦æ ·æœ¬äº¤ç”±å¤§æ¨¡å‹å¤„ç†ï¼›åè€…åˆ™æ›´å¤šä¾èµ–è‡ªå»ºæ¨ç†æœåŠ¡ï¼Œé€šè¿‡éƒ¨ç½²å¼€æºæ¨¡å‹ï¼ˆå¦‚åƒé—®ã€DeepSeek ç­‰ï¼‰æ¥é™ä½æ•´ä½“æˆæœ¬ã€‚</p>
<p>æ›´è¿›ä¸€æ­¥æ¥çœ‹ï¼Œè‡ªå»ºæ¨¡å‹è¿˜æœ‰ä¸€ä¸ªæ˜æ˜¾ä¼˜åŠ¿ï¼šå½“å‰å¼€æºæ¨¡å‹å¤§å¤šæ˜¯é€šç”¨åŸºæ¨¡ï¼Œè€ŒçœŸå®ä¸šåŠ¡æ›´éœ€è¦çš„æ˜¯â€‹<strong>é¢†åŸŸå¤§æ¨¡å‹</strong>â€‹ã€‚è¿™ä¹Ÿæ„å‘³ç€ï¼Œå¿…é¡»é€šè¿‡å¾®è°ƒã€è’¸é¦ç­‰æ‰‹æ®µï¼Œæ„å»ºå¹¶æŒç»­æ¼”è¿›çœŸæ­£è´´åˆä¸šåŠ¡çš„æ¨¡å‹ä½“ç³»ã€‚</p>
<p>æ•´ä½“æ¥çœ‹ï¼Œè¿™ä¸€é˜¶æ®µçš„å·¥ä½œï¼Œç›¸æ¯”ä¼ ç»Ÿå¼€å‘ï¼Œå¤šäº†æ›´å¤šçš„ä¸ç¡®å®šæ€§ï¼Œä½†ä¹Ÿå› æ­¤æ›´å…·æŒ‘æˆ˜æ€§å’Œæˆé•¿ç©ºé—´ï¼Œæ˜¯çœŸæ­£ä¸ AI æ·±åº¦æ¥è½¨çš„ä¸€æ®µç»å†ã€‚</p>
<p>ä¹Ÿå¹¸è¿åœ°å¾—åˆ°äº†è€æ¿çš„è®¤å¯ï¼Œæ‹¿åˆ°äº†æ¥ä¹‹ä¸æ˜“çš„æ™‹å‡åé¢ï¼Œå®Œæˆäº†èŒä¸šç”Ÿæ¶¯ä¸­çš„ç¬¬äºŒæ¬¡æ™‹å‡â€”â€”ä¸Šä¸€æ¬¡æ˜¯åœ¨ä¸Šä¸€å®¶å…¬å¸ã€‚å›å¤´çœ‹ï¼Œç¡®å®æœ‰è¿æ°”æˆåˆ†ï¼Œä¹Ÿæ›´éœ€è¦çæƒœã€‚</p>
<p>ç«‹ä¸‹æ–°å¹´çš„ç¬¬äºŒä¸ª Flagï¼š<strong>2026 å¹´ï¼ŒæŒç»­ç²¾è¿› Agent æ¶æ„èƒ½åŠ›ï¼Œä»æ•´ä½“è®¾è®¡åˆ°ç»†èŠ‚å®ç°å…¨é¢åƒé€ï¼Œå»ºç«‹çœŸæ­£çš„ä½“ç³»åŒ–æŒæ§åŠ›ï¼ŒåŒæ—¶å¯¹è‡ªå·±ä¿æŒè¶³å¤Ÿä¸¥æ ¼çš„æŠ€æœ¯è¦æ±‚ï¼Œå§‹ç»ˆå¿ƒå­˜æŠ€æœ¯æ•¬ç•ã€‚</strong></p>
<h2 data-id="heading-3">å››ã€å¥åº·ï¼ˆè¿åŠ¨/æ—…æ¸¸ï¼‰</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36bf0b698075439cb956a218b2300aa4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5pWy5Luj56CB55qE5bCP6buE:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768046158&amp;x-signature=Dbt23RYbuX%2FWfAMeVns%2BTfpRvJI%3D" alt="" loading="lazy"/></p>
<p>åˆåˆ°äº†è¿™ä¸ªå¤šå°‘æœ‰äº›è€ç”Ÿå¸¸è°ˆçš„æ ç›®ã€‚</p>
<p>å¦ç‡åœ°è¯´ï¼Œ2025 å¹´çš„è¿åŠ¨çŠ¶æ€å¯ä»¥ç”¨å…¨é¢å´©ç›˜æ¥å½¢å®¹ã€‚ä¸ä»…æ²¡æœ‰ç˜¦ä¸‹æ¥ï¼Œåè€Œç¨³æ­¥å¢é‡ï¼Œè¿™ä¸€é¡¹åªèƒ½æ¯«ä¸ç•™æƒ…åœ°ç»™è‡ªå·±æ‰“ä¸€ä¸ªæœ€ä½åˆ†ï¼Œç”šè‡³æœ‰ç‚¹ä¸å¿ç›´è§†ã€‚å”¯ä¸€èƒ½åšçš„ï¼Œå¤§æ¦‚åªèƒ½æŠŠå¸Œæœ›å¯„æ‰˜åœ¨ 2026 å¹´ï¼Œé‡æ–°åšäººã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œç”Ÿæ´»å¹¶éå…¨ç„¶å¤±å®ˆã€‚è¿™ä¸€å¹´ï¼Œè¿˜æ˜¯èµ°äº†ä¸å°‘åœ°æ–¹ã€‚å…¬å¸å›¢å»ºå»äº†æ˜†æ˜ã€å¤§ç†ï¼Œçœ‹åˆ°äº†å¿ƒå¿ƒå¿µå¿µçš„æ´±æµ·ï¼›ä¸ªäººä¹Ÿé™†ç»­å»äº†æ·±åœ³ã€é¦™æ¸¯ã€å¤©æ´¥ã€åŒ—æˆ´æ²³ã€å—äº¬ç­‰åŸå¸‚ï¼Œåœ¨ä¸åŒçš„èŠ‚å¥é‡Œåˆ‡æ¢è§†è§’ï¼Œå¤šå°‘ç®—æ˜¯ç»™è‡ªå·±ç•™äº†ä¸€äº›å–˜æ¯çš„ç©ºé—´ã€‚</p>
<p>ä¹ŸæœŸå¾…æ˜å¹´èƒ½ç»§ç»­æŠŠâ€œåœ¨è·¯ä¸Šâ€è¿™ä»¶äº‹å»¶ç»­ä¸‹å»â€”â€”æ›´é‡è¦çš„æ˜¯ï¼Œæ˜å¹´å¯¹è±¡ç»ˆäºæœ‰å¹´å‡äº†ã€‚</p>
<p>ç«‹ä¸‹æ–°å¹´çš„ç¬¬ä¸‰ä¸ª Flagï¼š<strong>åšæŒè¿åŠ¨ï¼Œè‡³å°‘åˆ«å†ç»§ç»­å‘èƒ–ï¼›åŒæ—¶èµ°è¿›å‡ ä¸ªå°šæœªæŠµè¾¾è¿‡çš„åŸå¸‚ï¼Œè®©ç”Ÿæ´»ä¿æŒä¸€ç‚¹æ–°çš„å˜é‡ã€‚</strong></p>
<h2 data-id="heading-4">äº”ã€å®¶åº­ï¼ˆä¹°æˆ¿/è®¢å©šï¼‰</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb4d32b143f04958a3e3fe5ead1bf0c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5pWy5Luj56CB55qE5bCP6buE:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768046158&amp;x-signature=CII2ImBQTkDqAkJ%2FrEUBkAYTSeo%3D" alt="" loading="lazy"/></p>
<p>å»å¹´çœ‹è¿‡çš„æˆ¿å­ï¼Œæœ€ç»ˆè¿˜æ˜¯å’Œå¯¹è±¡å•†é‡åå®šäº†ä¸‹æ¥ã€‚ä½ç½®åœ¨å¿åŸé‡Œç®—æ˜¯æ¯”è¾ƒæˆç†Ÿçš„å°åŒºï¼Œå››é¢éƒ½æœ‰å­¦æ ¡ï¼Œæ•´ä½“ä»·æ ¼ä¹Ÿåœ¨å¯æ‰¿å—èŒƒå›´å†…ã€‚æˆ¿è´·å·²ç»è¿˜äº†ä¸€å¹´ï¼Œå¯¹æ—¥å¸¸ç”Ÿæ´»çš„å½±å“å¹¶ä¸å¤§ã€‚</p>
<p>å”¯ä¸€çš„é—æ†¾æ˜¯äº¤ä»˜æ—¶é—´è¦åˆ° 2027 å¹´ï¼Œç›®å‰ä»åœ¨å»ºè®¾ä¸­ã€‚ä¸è¿‡å¥½åœ¨å¹¶ä¸ç€æ€¥ï¼Œæ…¢ä¸€ç‚¹ä¹Ÿæ— å¦¨ã€‚åœ°ç†ä½ç½®ä¹Ÿå’Œå»å¹´è®¾æƒ³çš„ä¸€æ ·â€”â€”æˆ‘å’Œäº²å§é€‰æ‹©äº†åŒä¸€ä¸ªå°åŒºã€åŒä¸€ä¸ªå•å…ƒã€ä¸Šä¸‹æ¥¼ï¼Œåªéœ€è¦ä¸€åˆ†é’Ÿï¼Œå°±èƒ½â€œä¼ é€â€åˆ°å¥¹å®¶è¹­é¥­ã€‚è€ƒè™‘åˆ°æˆ‘å’Œå¯¹è±¡éƒ½ä¸å¤ªæ“…é•¿åšé¥­ï¼Œè¿™ä¸ªé€‰æ‹©ç°åœ¨çœ‹èµ·æ¥ï¼Œæ ¼å¤–æ˜æ™ºã€‚</p>
<p>å¦ä¸€ä»¶é‡è¦çš„äº‹æƒ…ï¼Œæ˜¯è®¢å©šã€‚å’Œå¯¹è±¡è°ˆäº†ä¸ƒå¹´æ‹çˆ±ï¼Œæœ€ç»ˆè¿˜æ˜¯ç»™äº†å½¼æ­¤ä¸€ä¸ªç›¸å¯¹ç¬ƒå®šã€ä¹Ÿè®©åŒæ–¹å®¶åº­éƒ½æ»¡æ„çš„ç­”æ¡ˆã€‚æ•´ä¸ªè¿‡ç¨‹æ¯”é¢„æƒ³ä¸­é¡ºåˆ©å¾—å¤šï¼Œå‡ ä¹æ²¡æœ‰åœ¨æµç¨‹æˆ–è§‚å¿µä¸Šäº§ç”Ÿå¤§çš„åˆ†æ­§ã€‚è®¢å©šå‰å’Œè®¢å©šåï¼Œå¿ƒæ€ç¡®å®å‘ç”Ÿäº†ä¸€äº›å˜åŒ–â€”â€”ä¸€ç§æ›´æ˜ç¡®çš„â€œæˆ‘ä»¬å·²ç»æ˜¯ä¸€å®¶äººäº†â€çš„å¿ƒç†ç¡®è®¤ã€‚</p>
<p>å½“ç„¶ï¼Œç°å®å±‚é¢ä»ç„¶å­˜åœ¨å¼‚åœ°çš„é—®é¢˜ã€‚å¯¹è±¡åœ¨è€å®¶å¿åŒ»é™¢å·¥ä½œï¼Œæˆ‘åˆ™åœ¨åŒ—äº¬ä»äº‹äº’è”ç½‘ç›¸å…³å·¥ä½œã€‚æ‰€å¹¸çš„æ˜¯ï¼Œè€å®¶å¿åŸä»Šå¹´å°†å¼€é€šç›´è¾¾åŒ—äº¬çš„é«˜é“ï¼Œå¾€è¿”çš„æˆæœ¬å’Œéš¾åº¦éƒ½ä¼šé™ä½ï¼Œè¿™ä¹Ÿç®—æ˜¯ä¸€ä¸ªä¸å°çš„åˆ©å¥½ã€‚</p>
<p>æ•´ä½“æ¥çœ‹ï¼Œå®¶åº­è¿™ä¸€å—åœ¨ 2025 å¹´ç®—æ˜¯æ¯”è¾ƒç¨³å®šçš„ä¸€å¹´ï¼Œæ²¡æœ‰çªå‘çš„æ³¢æŠ˜ï¼Œä¸€åˆ‡éƒ½åœ¨é¢„æœŸå†…å‘å‰æ¨è¿›ã€‚</p>
<p>ç«‹ä¸‹æ–°å¹´çš„ç¬¬ä¸‰ä¸ª Flagï¼š<strong>å®¶åº­å±‚é¢ç»§ç»­é¡ºå…¶è‡ªç„¶ã€ç¨³æ­¥å‘å±•ï¼›å¦‚æœæˆ¿å­èƒ½æå‰äº¤ä»˜ï¼Œä¹Ÿä¸æ’é™¤æå‰å»æ‹ä¸ªå©šçº±ç…§â€”â€”ä¸å¼ºåˆ¶ï¼Œæ…¢æ…¢æ¥ã€‚</strong></p>
<h2 data-id="heading-5">å…­ã€æŠ•èµ„ï¼ˆç¾è‚¡/æ¸¯è‚¡/Aè‚¡ï¼‰</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c0c4aa816b54c2887c67f46ad0491a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5pWy5Luj56CB55qE5bCP6buE:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768046158&amp;x-signature=oUVrfCJ4rBH%2FYQjo1wDFpCqZNuk%3D" alt="" loading="lazy"/></p>
<p>2025 å¹´ï¼Œä¹Ÿç®—æ˜¯æˆ‘ä¸ªäººæŠ•èµ„ç”Ÿæ¶¯çš„èµ·ç‚¹ã€‚</p>
<p>åœ¨é•¿æ¡¥å…³é—¨å‰å¼€é€šäº†è´¦æˆ·ï¼Œåœ¨æ±‡ä¸°è°ƒæ•´æ”¿ç­–å‰åŠå¥½äº†é“¶è¡Œå¡ï¼Œæ—¶é—´ç‚¹åˆšå¥½å¡åœ¨ä¸€ä¸ªâ€œæ¥å¾—åŠâ€çš„çª—å£æœŸã€‚12 æœˆä»½æ­£å¼è¿›å…¥ç¾è‚¡å¸‚åœºåï¼Œæ‰çœŸæ­£æ„è¯†åˆ°ï¼šæŠ•èµ„è¿™ä»¶äº‹ï¼Œæœ¬èº«å°±åƒä¸€é—¨éœ€è¦é•¿æœŸä¿®ç‚¼çš„æŠ€æœ¯ã€‚</p>
<p>è¿™ä¸€é˜¶æ®µï¼Œæœ€å¤§çš„æ”¶è·å¹¶ä¸åœ¨äºç›ˆäºï¼Œè€Œæ˜¯å¯¹æŠ•èµ„è¿™ä»¶äº‹çš„â€‹<strong>è®¤çŸ¥é‡æ„</strong>â€‹ã€‚è‡³å°‘æœ‰å‡ ä»¶äº‹ï¼Œæ˜¯å¿…é¡»è¡¥ä¸Šçš„åŸºç¡€èƒ½åŠ›ã€‚</p>
<p>ç¬¬ä¸€ï¼Œæ˜¯â€‹<strong>ä»“ä½æ§åˆ¶</strong>â€‹ã€‚å¦‚ä½•åœ¨ä¸è¸ç©ºçš„å‰æä¸‹ï¼Œé¿å…ä¸€æ¬¡æ€§æ‰“å…‰å­å¼¹ï¼Œæ˜¯éå¸¸éš¾çš„ä¸€ä»¶äº‹ã€‚ä»“ä½è¿‡ä½ï¼Œè¡Œæƒ…æ¥äº†åªèƒ½æ—è§‚ï¼›ä»“ä½è¿‡é«˜ï¼Œä¸‹è·Œæ—¶å´å¤±å»è¡¥ä»“ç©ºé—´ã€‚åˆç†çš„ä»“ä½ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸ºäº†â€‹<strong>å°½å¯èƒ½é•¿æ—¶é—´åœ°ç•™åœ¨ç‰Œæ¡Œä¸Š</strong>â€‹ã€‚</p>
<p>ç¬¬äºŒï¼Œæ˜¯â€‹<strong>ä¹°å–ç­–ç•¥</strong>â€‹ã€‚ä¸åŒè‚¡ç¥¨å¯¹åº”ä¸åŒç­–ç•¥ï¼šæœ‰çš„é€‚åˆé•¿æœŸæŒæœ‰ï¼Œæœ‰çš„æ›´åäº¤æ˜“å±æ€§ã€‚å¯¹é™Œç”Ÿæ ‡çš„ï¼Œæ›´éœ€è¦åˆ†æ‰¹å»ºä»“ï¼ŒåŒºåˆ†è§‚å¯Ÿä»“ã€äº¤æ˜“ä»“ä¸æ ¸å¿ƒä»“ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§ä¸‹æ³¨ã€‚</p>
<p>ç¬¬ä¸‰ï¼Œæ˜¯â€‹<strong>æƒ…ç»ªç®¡ç†</strong>â€‹ã€‚è¿™ä¸€ç‚¹çš„å†²å‡»è¿œè¶…é¢„æœŸã€‚ä¸‹è·Œæ—¶å®¹æ˜“å†²åŠ¨è¡¥ä»“ï¼Œæƒ…ç»ªæŒç»­ä½è½ï¼›ä¸Šæ¶¨æ—¶åˆå®¹æ˜“è¿‡åº¦ä¹è§‚ï¼Œæ”¾æ¾çºªå¾‹ã€‚å›å¤´çœ‹ï¼Œç»å¤§å¤šæ•°é”™è¯¯æ“ä½œï¼Œéƒ½ä¸æ˜¯åˆ¤æ–­å¤±è¯¯ï¼Œè€Œæ˜¯å…¸å‹çš„â€œæƒ…ç»ªæ€â€ã€‚</p>
<p>ç¬¬å››ï¼Œæ˜¯â€‹<strong>äº¤æ˜“å¤ç›˜</strong>â€‹ã€‚ æ¯ä¸€ç¬”äº¤æ˜“éƒ½å€¼å¾—è¢«å¤ç›˜ï¼šç©¶ç«Ÿæ˜¯åŸºäºæ¸…æ™°é€»è¾‘åšå‡ºçš„å†³ç­–ï¼Œè¿˜æ˜¯éšå¸‚åœºæƒ…ç»ªè·Ÿé£çš„ç»“æœã€‚å¦‚æœè¿è‡ªå·±ä¸ºä»€ä¹ˆä¹°ã€ä¸ºä»€ä¹ˆå–éƒ½è¯´ä¸æ¸…æ¥šï¼Œé‚£ä¹ˆè¿™ç¬”äº¤æ˜“æœ¬èº«å°±æ˜¯ä¸åˆæ ¼çš„ã€‚</p>
<p>äº‹å®ä¸Šï¼Œè¿™äº›é—®é¢˜æœ€ç»ˆéƒ½å¯ä»¥å½’ç»“ä¸ºä¸€ä¸ªæ ¸å¿ƒï¼š<strong>æ˜¯å¦æ‹¥æœ‰ä¸€å¥—æˆç†Ÿã€å¯æ‰§è¡Œã€å¯å¤ç›˜çš„äº¤æ˜“ç³»ç»Ÿã€‚</strong></p>
<p>åªæœ‰åœ¨ç³»ç»Ÿçš„çº¦æŸä¸‹äº¤æ˜“ï¼Œæ‰èƒ½å°½å¯èƒ½å±è”½æƒ…ç»ªå¹²æ‰°ï¼Œè®©ç»“æœæ›´å¤šç”±æ¦‚ç‡è€Œéæƒ…ç»ªå†³å®šã€‚</p>
<p>æŸç§ç¨‹åº¦ä¸Šï¼Œè¿™å’Œå‰é¢æåˆ°çš„æŠ€æœ¯è·¯å¾„å¹¶æ— æœ¬è´¨åŒºåˆ«â€”â€”å°±åƒ 2026 å¹´æ˜¯ Agent çš„å…³é”®ä¸€å¹´ä¸€æ ·ï¼ŒæŠ•èµ„é¢†åŸŸåŒæ ·éœ€è¦ç³»ç»ŸåŒ–æ€ç»´ã€‚åœ¨ç¾è‚¡å¸‚åœºä¸­ï¼Œä¹Ÿæœ‰ä¸å°‘å€¼å¾—é•¿æœŸè§‚å¯Ÿçš„ä¼˜è´¨æ ‡çš„ï¼Œæ–°çš„ä¸€å¹´ï¼Œæˆ‘ä¼šé‡ç‚¹å…³æ³¨ï¼šâ€‹<strong>è°·æ­Œã€è‹±ä¼Ÿè¾¾ã€å°ç§¯ç”µã€ç‰¹æ–¯æ‹‰</strong>â€‹ã€‚</p>
<p>ç«‹ä¸‹æ–°å¹´çš„ç¬¬å››ä¸ª Flagï¼š<strong>å»ºç«‹å¹¶æŒç»­è¿­ä»£å±äºè‡ªå·±çš„äº¤æ˜“ç³»ç»Ÿï¼Œåœ¨æ§åˆ¶é£é™©çš„å‰æä¸‹ï¼Œäº‰å– 2026 å¹´å®ç° 10% çš„å¹´åº¦æ”¶ç›Šç›®æ ‡ã€‚</strong></p>
<h2 data-id="heading-6">ä¸ƒã€æ€»ç»“</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a693e4a41f7b4ef88b8e289db317bdb1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5pWy5Luj56CB55qE5bCP6buE:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768046158&amp;x-signature=yZS3xbyt6I%2BWBFnTO7XW4j5SvAc%3D" alt="" loading="lazy"/></p>
<p>2025 å¹´è¿‡å¾—å¾ˆå¿«ï¼Œä¸€è½¬çœ¼å°±åˆ°äº†å¹´æœ«ã€‚å›å¤´ç®—äº†ä¸€ä¸‹ï¼Œè‡ªå·±å·²ç»æ¯•ä¸šå››å¹´åŠäº†ã€‚</p>
<p>è¿˜è®°å¾—åˆšæ¯•ä¸šçš„æ—¶å€™ï¼Œå¯¹å‘¨å›´çš„ä¸€åˆ‡éƒ½å……æ»¡å¥½å¥‡ï¼Œå¯¹æŠ€æœ¯ä¿æŒç€æœ€çº¯ç²¹çš„çƒ­æƒ…ã€‚é‚£æ—¶çŸ¥é“çš„ä¸å¤šï¼Œéœ€è¦æ‰¿æ‹…çš„äº‹æƒ…ä¹Ÿä¸å¤šï¼Œåè€Œç®€å•ã€ä¸“æ³¨ï¼Œä¹Ÿæ›´å®¹æ˜“æ„Ÿåˆ°å¿«ä¹ã€‚</p>
<p>éšç€å¹´é¾„å’Œé˜…å†çš„å¢é•¿ï¼Œä¸å¾—ä¸è€ƒè™‘çš„äº‹æƒ…è¶Šæ¥è¶Šå¤šï¼Œè´£ä»»ä¸å‹åŠ›ä¹Ÿéšä¹‹è€Œæ¥ï¼Œè¿™æ˜¯æˆé•¿è¿‡ç¨‹ä¸­æ— æ³•å›é¿çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>å›çœ‹ä»æ¯•ä¸šåˆ°ç°åœ¨çš„è¿™å‡ å¹´ï¼Œå¤šå°‘è¿˜æ˜¯å¸¦ç€ä¸€äº›è¿æ°”ã€‚æ•´ä½“æ¥çœ‹ï¼Œå¾ˆå°‘åœ¨å…³é”®èŠ‚ç‚¹ä¸Šåšå‡ºé”™è¯¯é€‰æ‹©ï¼Œç”Ÿæ´»ä¸äº‹ä¸šä¹Ÿåœ¨æŒç»­å‘æ›´å¥½çš„æ–¹å‘æ¨è¿›ã€‚æ­£å› å¦‚æ­¤ï¼Œä¹Ÿæ„ˆå‘çæƒœå½“ä¸‹æ‰€æ‹¥æœ‰çš„ä¸€åˆ‡ã€‚</p>
<p>ä½†è¿æ°”ä»æ¥ä¸æ˜¯å…¨éƒ¨ã€‚å¯¹æˆ‘è€Œè¨€ï¼Œæ›´é‡è¦çš„æ˜¯å§‹ç»ˆä¿æŒä¸€ç§è¡ŒåŠ¨ä¸Šçš„è‡ªè§‰â€”<strong>æƒ³åˆ°å°±å»åšï¼Œå†³å®šäº†æ–¹å‘ï¼Œå°±å°½åŠ›æŠŠäº‹æƒ…åšæˆã€‚</strong></p>
<p>æ¥ä¸‹æ¥ï¼Œä¹Ÿå¯¹ 2025 å¹´å¹´åˆç«‹ä¸‹çš„ Flag åšä¸€æ¬¡å®Œæ•´å¤ç›˜ï¼Œç»™è‡ªå·±è¿™ä¸€å¹´çš„é€‰æ‹©ä¸æŠ•å…¥ï¼Œç•™ä¸‹ä¸€ä»½ç›¸å¯¹å¦è¯šçš„ç­”æ¡ˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7cd26e1988c3445589b73ee542e6c38c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5pWy5Luj56CB55qE5bCP6buE:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768046158&amp;x-signature=cPAs%2B64LwTL6WHzi1qqdjTKQ0jU%3D" alt="" loading="lazy"/></p>
<p>å›åˆ°ç»ˆç‚¹ï¼Œå†çœ‹èµ·ç‚¹ï¼Œä¼šå‘ç°å¾ˆå¤šäº‹æƒ…å¹¶éä¸€è¹´è€Œå°±ï¼Œè€Œæ˜¯åœ¨ä¸€æ¬¡æ¬¡é€‰æ‹©ä¸­é€æ¸å˜å¾—æ¸…æ™°ã€‚</p>
<p>è¿™ä¸€å¹´ï¼Œæ²¡æœ‰å¥‡è¿¹ï¼Œä¹Ÿæ²¡æœ‰åèˆªã€‚æœ‰çš„ï¼Œåªæ˜¯åœ¨å…³é”®é—®é¢˜ä¸Šç«™å¯¹æ–¹å‘ï¼Œåœ¨é‡è¦äº‹æƒ…ä¸ŠæŒç»­æŠ•å…¥ã€‚</p>
<p>èŠ±æœ‰é‡å¼€æ—¥ï¼Œäººæ— å†å°‘å¹´ã€‚<strong>2026ï¼Œè®©æˆ‘ä»¬é¡¶å³°ç›¸è§ã€‚</strong></p>
<p>å¦‚æœä½ ä¹Ÿå¯¹ <strong>åç«¯æ¶æ„</strong> å’Œ <strong>ä¸­é—´ä»¶æºç </strong> æ„Ÿå…´è¶£ï¼Œæ¬¢è¿æ·»åŠ åšä¸»å¾®ä¿¡ï¼šâ€‹<strong>hls1793929520</strong>â€‹ï¼Œä¸€èµ·å­¦ä¹ ï¼Œä¸€èµ·æˆé•¿ã€‚</p>
<p>æˆ‘æ˜¯ <strong>â€‹çˆ±æ•²ä»£ç çš„å°é»„ï¼Œâ€‹</strong>é˜¿é‡Œå·´å·´ Java å¼€å‘å·¥ç¨‹å¸ˆï¼ŒCSDN åšå®¢ä¸“å®¶ï¼Œä¸“æ³¨åç«¯æ¶æ„ä¸ä¸­é—´ä»¶æºç ã€‚</p>
<blockquote>
<p>æˆ‘ä»æ¸…æ™¨èµ°è¿‡ï¼Œä¹Ÿæ‹¥æŠ±å¤œæ™šçš„æ˜Ÿè¾°ã€‚äººç”Ÿæ²¡æœ‰æ·å¾„ï¼Œä½ æˆ‘çš†å¹³å‡¡ã€‚<strong>ä½ å¥½ï¼Œé™Œç”Ÿäººï¼Œä¸€èµ·å…±å‹‰ã€‚</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿˜åœ¨æ‰‹æ“æµç¨‹å›¾ï¼ŸDeepSeek+Draw.ioç‹ç‚¸ç»„åˆï¼Œä¸€å¥è¯ç§’å‡ºå¯ç¼–è¾‘æºæ–‡ä»¶ï¼]]></title>    <link>https://juejin.cn/post/7590309337861161001</link>    <guid>https://juejin.cn/post/7590309337861161001</guid>    <pubDate>2026-01-03T11:24:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590309337861161001" data-draft-id="7590654280900100139" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿˜åœ¨æ‰‹æ“æµç¨‹å›¾ï¼ŸDeepSeek+Draw.ioç‹ç‚¸ç»„åˆï¼Œä¸€å¥è¯ç§’å‡ºå¯ç¼–è¾‘æºæ–‡ä»¶ï¼"/> <meta itemprop="keywords" content="å¼€æº,AIGC,DeepSeek"/> <meta itemprop="datePublished" content="2026-01-03T11:24:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åç«¯å°è‚¥è‚ "/> <meta itemprop="url" content="https://juejin.cn/user/2966945320667536"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿˜åœ¨æ‰‹æ“æµç¨‹å›¾ï¼ŸDeepSeek+Draw.ioç‹ç‚¸ç»„åˆï¼Œä¸€å¥è¯ç§’å‡ºå¯ç¼–è¾‘æºæ–‡ä»¶ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2966945320667536/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åç«¯å°è‚¥è‚ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-03T11:24:34.000Z" title="Sat Jan 03 2026 11:24:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°è‚¥è‚ ï¼ä»Šå¤©ç»™å¤§å®¶åˆ†äº«ä¸€ä¸ªä¸€å¥è¯ç”Ÿæˆæµç¨‹å›¾çš„AIå·¥å…·ï¼Œæ”¯æŒåœ¨çº¿ç¼–è¾‘ï¼Œä½¿ç”¨æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œ5åˆ†é’Ÿå³å¯å®Œæˆéƒ¨ç½²è½»æ¾ä¸Šæ‰‹ï¼Œæ„Ÿå…´è¶£å°±é€Ÿé€Ÿç ä½å“¦~</p>
<h2 data-id="heading-0">1. æ•ˆæœå±•ç¤º</h2>
<p>æ˜¨å¤©å‰ªè¾‘AIæ¼«å‰§çš„ç©ºéš™åˆ·äº†ä¸€ä¸‹AIèµ„è®¯ï¼ˆè¶…ç»ä¸ç»æ„å±•ç¤ºæˆ‘åœ¨åšçš„AIæ¼«å‰§ï¼Œå˜»å˜»ï¼‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6335589a7fd14ae089d1ead42f1d9018~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768044273&amp;x-signature=gUwA1YzYm6UiM4H1%2BTdI6WYPmOc%3D" alt="" loading="lazy"/></p>
<p>å¶ç„¶å‘ç°äº†ä¸€ä¸ªè®©æˆ‘çœ¼å‰ä¸€äº®çš„é¡¹ç›®â€”<code>next-ai-draw-io</code>ã€‚å’±ä»¬çš„è€ç²‰åº”è¯¥è®°å¾—ï¼Œä¹‹å‰æˆ‘åˆ†äº«è¿‡ä¸€ç¯‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fpa23ntdf1gf.feishu.cn%2Fwiki%2FVZjZwnhLcimViBkJTVQcAipQnFR%3Ffrom%3Dfrom_copylink" target="_blank" title="https://pa23ntdf1gf.feishu.cn/wiki/VZjZwnhLcimViBkJTVQcAipQnFR?from=from_copylink" ref="nofollow noopener noreferrer">è®©Mermaidå¬æ‡‚äººè¯ï¼šç”¨Cozeç©ºé—´+MCPä¸€å¥è¯æå®šæ‰€æœ‰ä¸šåŠ¡å›¾</a>ã€‚é‚£ä¸ªæ–¹æ¡ˆè™½ç„¶å¥½ç”¨ï¼Œä½†æ˜¯æœ‰ä¸ªç¼ºç‚¹å°±æ˜¯ä¸èƒ½åœ¨çº¿ä¿®æ”¹ï¼Œè€Œä»Šå¤©è¿™ä¸ªå·¥å…·ï¼Œ<strong>ç›´æ¥æŠŠAIåµŒå…¥åˆ°äº†æˆ‘ä»¬æœ€ç†Ÿæ‚‰çš„ draw.io é‡Œï¼</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92a4f502842b4c7bb58724a5d17cd7bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768044273&amp;x-signature=73rXssncvw2GSjH%2F2Z5z1vpqXXA%3D" alt="" loading="lazy"/></p>
<p>ä»¥å‰ä¸Šç­ç”»æ¶æ„å›¾ã€æµç¨‹å›¾ï¼Œdraw.io æ˜¯ç»å¯¹çš„T0çº§åˆ«å·¥å…·ï¼Œç°åœ¨åŠ ä¸Šäº† AI çš„åŠ æŒï¼Œç®€ç›´æ˜¯å¦‚è™æ·»ç¿¼ã€‚æˆ‘èŠ±äº†5åˆ†é’Ÿåœ¨æœ¬åœ°éƒ¨ç½²äº†ä¸€å¥—ï¼Œæ¥å…¥äº† DeepSeek æ¨¡å‹ï¼Œæ•ˆæœç›´æ¥ç‚¸è£‚ï¼š<strong>ä¸€å¥è¯ç”Ÿæˆè§„èŒƒæµç¨‹å›¾ï¼Œä¸æ»¡æ„è¿˜èƒ½ç›´æ¥åœ¨å³ä¾§ UI ç•Œé¢æ‰‹åŠ¨å¾®è°ƒã€‚</strong></p>
<p>é¦–å…ˆæ˜¯æµç¨‹å›¾ï¼š</p>
<pre><code class="hljs">å¸®æˆ‘ç”»ä¸€ä¸ªç”µå•†ç”¨æˆ·çš„è´­ç‰©æµç¨‹å›¾ã€‚ä»ç”¨æˆ·æµè§ˆå•†å“å¼€å§‹ï¼ŒåŒ…æ‹¬åŠ å…¥è´­ç‰©è½¦ã€ç»“è´¦ã€æ”¯ä»˜æˆåŠŸ/å¤±è´¥çš„åˆ¤æ–­ï¼Œä¸€ç›´åˆ°å‘è´§å’Œç¡®è®¤æ”¶è´§
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d96d33f4650458a89f840308da40f36~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768044273&amp;x-signature=L%2FD%2FtfLa02JHDY75m7aahVIHmRw%3D" alt="" loading="lazy"/></p>
<p>åˆè¯•äº†ä¸€ä¸‹å¸¦åŠ¨æ€æ•ˆæœçš„æ¶æ„å›¾ï¼š</p>
<pre><code class="hljs">æˆ‘ç”»ä¸€ä¸ªç®€å•çš„ç½‘ç»œæ¶æ„å›¾ï¼ŒåŒ…å«ä¸€ä¸ªâ€˜å®¢æˆ·ç«¯â€™å›¾æ ‡å’Œä¸€ä¸ªâ€˜æœåŠ¡å™¨â€™å›¾æ ‡ã€‚è¯·ä½¿ç”¨å¸¦æœ‰æ˜æ˜¾åŠ¨ç”»æ•ˆæœçš„è¿æ¥çº¿ï¼ˆanimated connectorï¼‰å°†å®ƒä»¬è¿æ¥èµ·æ¥ï¼Œæ–¹å‘ä»å®¢æˆ·ç«¯æŒ‡å‘æœåŠ¡å™¨ï¼Œç”ŸåŠ¨åœ°å±•ç¤ºæ•°æ®æ­£åœ¨ä¼ è¾“çš„è¿‡ç¨‹ã€‚
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9a445ffd5d44f0487218c0a873b50d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768044273&amp;x-signature=JGweJWC9wAM7e1URAQtCWjCw8ww%3D" alt="" loading="lazy"/></p>
<p><strong>ç”Ÿæˆçš„æµç¨‹å›¾ç»è¿‡ä¿®æ”¹åï¼Œå¯ä»¥ç›´æ¥å°†æºæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ä½¿ç”¨ã€‚</strong> è¯ä¸å¤šè¯´ç›´æ¥æ•™å¤§å®¶æ¥éƒ¨ç½²ä½¿ç”¨ï¼Œ<strong>ç»“å°¾è¿˜é€å°è‚¥è‚ é…ç½®å¥½çš„next-ai-draw-ioå‹ç¼©åŒ…ï¼Œå¤§å®¶å¯ä»¥ç›´æ¥æ‹¿è¿‡å»éƒ¨ç½²ä½¿ç”¨~</strong></p>
<h2 data-id="heading-1">2. éƒ¨ç½²ä½¿ç”¨</h2>
<h3 data-id="heading-2">2.1. dockerå®‰è£…</h3>
<p><strong>1.</strong> <strong>å®‰è£… WSL 2ï¼ˆé€‚ç”¨äº Windows 10 ç‰ˆæœ¬ 2004 åŠä»¥ä¸Šï¼‰ï¼š</strong></p>
<p>Windows å­ç³»ç»Ÿ Linux 2ï¼ˆWSL 2ï¼‰æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„ Linux å†…æ ¸ï¼ŒDocker Desktop ä¾èµ–äºæ­¤ã€‚win+Ræ‰“å¼€å‘½ä»¤çª—å£ï¼Œè¾“å…¥winveræŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬ï¼Œç¡®ä¿å†…éƒ¨ç‰ˆæœ¬é«˜äº19041ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd2858af300e42c6b3e0f518f7cceba8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768044273&amp;x-signature=SwBkN9DIskESUhsbg2nXKEs89iI%3D" alt="" loading="lazy"/></p>
<p>ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ PowerShellï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-css" lang="css">wsl <span class="hljs-attr">--install</span>
</code></pre>
<p>å®‰è£…å®Œæˆåéœ€è¦é‡å¯ä¸€ä¸‹è®¡ç®—æœºã€‚</p>
<p><strong>2.</strong> <strong>å®‰è£…DockerDesktop</strong></p>
<p>å®‰è£… Docker Desktop ä¹‹å‰ï¼Œç¡®ä¿ä½ å·²ç»å®‰è£…å¹¶å¯ç”¨äº† WSL 2ã€‚å¯ä»¥é€šè¿‡åœ¨ <strong>PowerShell</strong> è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ£€æŸ¥ï¼š</p>
<pre><code class="hljs language-css" lang="css">wsl <span class="hljs-attr">--list</span> <span class="hljs-attr">--verbose</span>
</code></pre>
<p><strong>ä¸‹è½½ Docker Desktop</strong>ï¼šè®¿é—® Docker å®˜æ–¹ç½‘ç«™ï¼Œä¸‹è½½é€‚ç”¨äº Windows çš„ Docker Desktop å®‰è£…åŒ…ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd851de54ec942038f8dafd3cd70c5bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768044273&amp;x-signature=V%2Foy2yruAccrUDywZctVGJItARA%3D" alt="" loading="lazy"/></p>
<p><strong>å®‰è£… Docker Desktop</strong>ï¼š</p>
<ul>
<li>åŒå‡»ä¸‹è½½çš„å®‰è£…æ–‡ä»¶ <code>Docker Desktop Installer.exe</code>ã€‚</li>
<li>æŒ‰ç…§æç¤ºå®Œæˆå®‰è£…è¿‡ç¨‹ã€‚</li>
<li>å®‰è£…å®Œæˆåï¼Œç³»ç»Ÿå¯èƒ½æç¤ºé‡å¯è®¡ç®—æœºï¼Œå»ºè®®é‡å¯ä»¥ç¡®ä¿æ‰€æœ‰ç»„ä»¶æ­£å¸¸å·¥ä½œã€‚</li>
</ul>
<p><strong>å¯åŠ¨ Docker Desktop</strong>ï¼šç”µè„‘é‡å¯åï¼Œå¯åŠ¨<strong>Docker Desktopï¼Œ</strong> åˆæ¬¡å¯åŠ¨å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0861cd7ab92946d781353158bb2651aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768044273&amp;x-signature=%2Bd5G6JdqV0YaAPl3SWskH4Vg3LU%3D" alt="" loading="lazy"/></p>
<p>é…ç½®ä¸€ä¸‹dockeré•œåƒæºåœ°å€ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a258e9e948994b19bd85eff78e3084ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768044273&amp;x-signature=9SR7wY035L4%2BYCwN6WRl4%2BjdNDg%3D" alt="" loading="lazy"/></p>
<p>ä»¥ä¸‹é•œåƒæºåœ°å€ä¸ºå›½å†…åœ°å€ï¼Œä½ ä¸æƒ³ç”¨æˆ‘çš„ä¹Ÿå¯ä»¥è‡ªå·±æ‰¾ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"builder"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"gc"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"defaultKeepStorage"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"20GB"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"experimental"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"registry-mirrors"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"https://docker.1panel.live"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"https://hub.rat.dev"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"https://docker.chenby.cn"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"https://docker.m.daocloud.io"</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-3">2.2. next-ai-draw-ioå®‰è£…</h3>
<p>æ¥åˆ°next-ai-draw-ioä»“åº“é¡µé¢<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FDayuanJiang%2Fnext-ai-draw-io" target="_blank" title="https://github.com/DayuanJiang/next-ai-draw-io" ref="nofollow noopener noreferrer">github.com/DayuanJiangâ€¦</a> ç‚¹å‡»ä¸‹è½½å‹ç¼©åŒ…æŒ‰é’®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4541c8504a44a4194042006610b33a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768044273&amp;x-signature=o7DtHPegnav28wPQ%2FAZm2Cga2XY%3D" alt="" loading="lazy"/></p>
<p>å°†ä¸‹è½½å¥½çš„å‹ç¼©åŒ…è§£å‹åˆ°ä»»æ„ç›®å½•ï¼Œå¦‚æœ‰gitå¯ä»¥ç”¨git cloneå‘½ä»¤ç›´æ¥ä¸‹è½½é¡¹ç›®åˆ°æ–‡ä»¶å¤¹ä¸­ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://github.com/DayuanJiang/next-ai-draw-io
</code></pre>
<p>å¤åˆ¶ä¸€ä»½env.exampleæ–‡ä»¶å¹¶æ”¹åä¸º.envã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb9eb7a619764bee95a79cee1752c22e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768044273&amp;x-signature=PBX8kTSQ2XEZkqfSU1xaDxblWs4%3D" alt="" loading="lazy"/></p>
<p>åœ¨.envæ–‡ä»¶ä¸­è¿›è¡Œå¤§æ¨¡å‹é…ç½®ç”¨æ¥é©±åŠ¨drawioç»˜å›¾æ“ä½œï¼Œä¸‹å›¾ä¸­æˆ‘é…ç½®çš„æ˜¯deepseekï¼Œä½ ä¹Ÿå¯ä»¥é…ç½®å…¶ä»–æ¨¡å‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/48c50b785a2d4be2ad2e4e9f7fe8e547~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768044273&amp;x-signature=WaV5t3hFWerk0bBkyW2i24d2wOI%3D" alt="" loading="lazy"/></p>
<p>æ‰“å¼€docker-compose.ymæ–‡ä»¶åœ¨è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/04a509e96bb94405a272be038f13d225~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768044273&amp;x-signature=DJ9EsXRmHuToAh%2Bxhb2fiN3gaMo%3D" alt="" loading="lazy"/></p>
<p><strong>æ³¨æ„ï¼šä¸ºäº†é˜²æ­¢å’Œæœ¬åœ°å…¶ä»–æœåŠ¡å†²çªï¼Œæˆ‘å°† drawio çš„ç«¯å£ä¿®æ”¹ä¸ºäº† 8818ã€‚å¦‚æœä½ æœ¬åœ° 8080 æ²¡è¢«å ç”¨ï¼Œä¿æŒé»˜è®¤å³å¯ï¼›å¦‚æœå ç”¨äº†ï¼Œè®°å¾—åƒæˆ‘æˆªå›¾é‡Œä¸€æ ·ï¼ŒåŒæ—¶ä¿®æ”¹</strong> <code>ports</code> <strong>å’Œ</strong> <code>env</code> <strong>æ–‡ä»¶é‡Œçš„ç«¯å£å·ã€‚</strong></p>
<p>å›åˆ°next-ai-draw-ioæ–‡ä»¶ç›®å½•ï¼Œåœ¨æ–‡ä»¶è·¯å¾„å¤„è¾“å…¥cmdæ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥å‘½ä»¤docker-compose up -d --build</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/769e50497f7d4c59a4c04695601c3446~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768044273&amp;x-signature=G6d090tiqD%2FZp7OBVYSdyT8k1RY%3D" alt="" loading="lazy"/></p>
<p>ç­‰å¾…next-ai-draw-ioå®‰è£…ï¼ŒæˆåŠŸåæ‰“å¼€ç½‘å€<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A3000%2Fzh%25E5%258D%25B3%25E5%258F%25AF%25E8%25BF%259B%25E5%2585%25A5next-ai-draw-io%25E6%2593%258D%25E4%25BD%259C%25E7%2595%258C%25E9%259D%25A2%25EF%25BC%258C%25E6%2588%2591%25E4%25BB%25AC%25E5%258F%25AF%25E4%25BB%25A5%25E5%25BC%2580%25E5%25A7%258B%25E8%25BF%259B%25E8%25A1%258C%25E4%25B8%2580%25E5%258F%25A5%25E8%25AF%259D%25E7%2594%259F%25E6%2588%2590%25E6%25B5%2581%25E7%25A8%258B%25E5%259B%25BE%25E7%259A%2584%25E6%2593%258D%25E4%25BD%259C%25E4%25BA%2586%25EF%25BC%259A" target="_blank" title="http://localhost:3000/zh%E5%8D%B3%E5%8F%AF%E8%BF%9B%E5%85%A5next-ai-draw-io%E6%93%8D%E4%BD%9C%E7%95%8C%E9%9D%A2%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E5%BC%80%E5%A7%8B%E8%BF%9B%E8%A1%8C%E4%B8%80%E5%8F%A5%E8%AF%9D%E7%94%9F%E6%88%90%E6%B5%81%E7%A8%8B%E5%9B%BE%E7%9A%84%E6%93%8D%E4%BD%9C%E4%BA%86%EF%BC%9A" ref="nofollow noopener noreferrer">http://localhost:3000/zhå³å¯è¿›å…¥next-ai-draw-ioæ“ä½œç•Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹è¿›è¡Œä¸€å¥è¯ç”Ÿæˆæµç¨‹å›¾çš„æ“ä½œäº†ï¼š</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d5ac4fa217f4cdb85477953d96f87da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768044273&amp;x-signature=DcEIzm2SQaGhOFUc%2FSdGQFjXZgo%3D" alt="" loading="lazy"/></p>
<p>ä»¥ä¸Šå°±æ˜¯æœ¬æœŸæ•™ç¨‹çš„å®Œæ•´å†…å®¹ï¼Œæƒ³è·å–å°è‚¥è‚ å·²ç»é…ç½®å¥½çš„next-ai-draw-ioå‹ç¼©åŒ…å¯ä»¥è¯„è®ºåŒºè¯´æµç¨‹å›¾å“¦~</p>
<h2 data-id="heading-4">3. ç»“è¯­</h2>
<p>æ— è®ºä½ æ˜¯äº§å“ç»ç†ã€å¼€å‘äººå‘˜è¿˜æ˜¯æ¶æ„å¸ˆï¼Œè¿™å¥— <code>DeepSeek + next-ai-draw-io</code> çš„ç»„åˆï¼Œç»å¯¹èƒ½æˆä¸ºæé«˜å·¥ä½œæ•ˆç‡çš„ä¸€æŠŠåˆ©å™¨ã€‚</p>
<p><strong>å¦‚æœ¬æ¬¡åˆ†äº«å¯¹ä½ æœ‰å¸®åŠ©ï¼Œéº»çƒ¦ä¸€é”®ä¸‰è¿æ”¯æŒä¸€ä¸‹å°è‚¥è‚ ï¼Œæˆ‘ä»¬ä¸‹æœŸå†è§~</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/190eaed60f004d77b7c9d04831a96ae2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCO56uv5bCP6IKl6IKg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768044273&amp;x-signature=QqxprKbvQnRLGJi6Han3FANhcDM%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MiniMax Ã— Cursorï¼šTaroå°ç¨‹åºå¼€å‘ç»ˆææŒ‡å—]]></title>    <link>https://juejin.cn/post/7590421489997611027</link>    <guid>https://juejin.cn/post/7590421489997611027</guid>    <pubDate>2026-01-03T06:46:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590421489997611027" data-draft-id="7589919989039775807" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MiniMax Ã— Cursorï¼šTaroå°ç¨‹åºå¼€å‘ç»ˆææŒ‡å—"/> <meta itemprop="keywords" content="å°ç¨‹åºÂ·äº‘å¼€å‘,Cursor,LLM"/> <meta itemprop="datePublished" content="2026-01-03T06:46:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åœŸè±†1250"/> <meta itemprop="url" content="https://juejin.cn/user/3280598428302727"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MiniMax Ã— Cursorï¼šTaroå°ç¨‹åºå¼€å‘ç»ˆææŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3280598428302727/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åœŸè±†1250
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-03T06:46:49.000Z" title="Sat Jan 03 2026 06:46:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    30
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<a href="https://juejin.cn/user/3280598428302727" target="_blank" title="https://juejin.cn/user/3280598428302727">åœŸè±†</a>ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FlqarCYJSk-UlVhmzlZZpkA" target="_blank" title="https://mp.weixin.qq.com/s/lqarCYJSk-UlVhmzlZZpkA" ref="nofollow noopener noreferrer">å…¬ä¼—å·ï¼šåœŸè±†å­¦å‰ç«¯</a></p>
<blockquote>
<p>ä»"è¿™æ˜¯ä»€ä¹ˆç©æ„"åˆ°"å“‡è¿™ä¹Ÿå¤ªä¸æ»‘äº†å§" â€”â€” ä¸€ä¸ª AI è¾…åŠ©å¼€å‘çš„æˆé•¿æ—¥è®°</p>
</blockquote>
<h2 data-id="heading-0">ğŸ¯ å¼€ç¯‡ï¼šä¸ºä»€ä¹ˆä½ éœ€è¦è¿™å¥—ç»„åˆæ‹³</h2>
<h3 data-id="heading-1">Whyï¼šä¸‰ä¸ªè®©ä½ å¿ƒåŠ¨çš„ç†ç”±</h3>
<p><strong>ç—›ç‚¹ä¸€ï¼šBug è°ƒè¯•åƒåœ¨è¿·å®«é‡Œæ‰¾é’¥åŒ™</strong> ğŸ”‘<br/>
ä¼ ç»Ÿå¼€å‘ä¸­,é‡åˆ°é—®é¢˜åªèƒ½ç–¯ç‹‚ç¿»æ–‡æ¡£ã€æœ Stack Overflowã€é—® GPT ç„¶åå¤åˆ¶ç²˜è´´ã€‚é—®é¢˜æ˜¯â€”â€”ä½ æ€ä¹ˆçŸ¥é“æœåˆ°çš„ç­”æ¡ˆæ˜¯ä¸æ˜¯æœ€æ–°çš„?é€‚ä¸é€‚åˆä½ çš„é¡¹ç›®?</p>
<p><strong>ç—›ç‚¹äºŒ:è®¾è®¡ç¨¿è¿˜åŸåº¦å…¨é "ç›²çŒœ"</strong> ğŸ¨<br/>
UI ç»™äº†è®¾è®¡å›¾,ä½ å·¦çœ‹å³çœ‹ä¸Šçœ‹ä¸‹çœ‹,è¿™ä¸ªé—´è·æ˜¯ 16px è¿˜æ˜¯ 18px?è¿™ä¸ªé¢œè‰²æ˜¯#333 è¿˜æ˜¯#444?æ¥å›åˆ‡å±,çœ¼ç›éƒ½å¿«çäº†ã€‚</p>
<p><strong>ç—›ç‚¹ä¸‰:äº‘å‡½æ•°è°ƒè¯•åƒå¼€ç›²ç›’</strong> ğŸ“¦<br/>
äº‘å‡½æ•°æŠ¥é”™äº†?å…ˆç™»å½•æ§åˆ¶å°,æ‰¾åˆ°å‡½æ•°,ç‚¹å¼€æ—¥å¿—,ç¿»åŠå¤©...ç­‰ç­‰,è¿™ä¸ª error æ˜¯å“ªæ¬¡è°ƒç”¨çš„æ¥ç€?</p>
<h3 data-id="heading-2">Whatï¼šè¿™å¥—ç»„åˆæ‹³èƒ½ç»™ä½ ä»€ä¹ˆ</h3>
<ul>
<li><strong>MiniMax Coding Plan MCP</strong>: å†…ç½®<code>web_search</code>å’Œ<code>understand_image</code>å·¥å…·</li>
<li><strong>CloudBase MCP</strong>: ç›´æ¥åœ¨ IDE é‡ŒæŸ¥è¯¢äº‘å‡½æ•°æ—¥å¿—ã€ç®¡ç†æ•°æ®åº“</li>
<li><strong>Cursor + MCP</strong>: AI åŠ©æ‰‹æ‹¥æœ‰"åƒé‡Œçœ¼"å’Œ"é¡ºé£è€³"</li>
<li><strong>Taro + Tailwind CSS</strong>: æ‰€è§å³æ‰€å¾—çš„ UI å¼€å‘</li>
</ul>
<p>ç®€å•æ¥è¯´:<strong>è®© AI çœŸæ­£æ‡‚ä½ çš„é¡¹ç›®,è€Œä¸æ˜¯ççŒ«ç¢°æ­»è€—å­ã€‚</strong></p>
<h2 data-id="heading-3">ğŸš€ åŸºç¡€é…ç½®ï¼šå…ˆæŠŠè£…å¤‡é…é½</h2>
<h3 data-id="heading-4">ç¬¬ä¸€æ­¥:å®‰è£… Cursor</h3>
<p>å¦‚æœä½ è¿˜åœ¨ç”¨ VS Code,æ˜¯æ—¶å€™å‡çº§äº†ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fcursor.com" title="https://cursor.com" target="_blank" ref="nofollow noopener noreferrer">Cursor</a> æ˜¯ä¸“ä¸º AI ç¼–ç¨‹ä¼˜åŒ–çš„ IDE,åŸç”Ÿæ”¯æŒ MCP åè®®ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># macOS/Linux</span>
<span class="hljs-comment"># ç›´æ¥å»å®˜ç½‘ä¸‹è½½å³å¯: https://cursor.com</span>

<span class="hljs-comment"># ä¸‹è½½åé¦–æ¬¡å¯åŠ¨,ä¼šæç¤ºä½ å¯¼å…¥VS Codeè®¾ç½®</span>
<span class="hljs-comment"># å¼ºçƒˆå»ºè®®å¯¼å…¥,æ— ç¼è¿ç§»</span>
</code></pre>
<h3 data-id="heading-5">ç¬¬äºŒæ­¥:é…ç½® MiniMax Coding Plan MCP</h3>
<p><strong>ä»€ä¹ˆæ˜¯ Coding Plan?</strong><br/>
è¿™æ˜¯ MiniMax ä¸“é—¨ä¸ºå¼€å‘è€…æä¾›çš„è®¢é˜…æœåŠ¡,åŒ…å« web æœç´¢å’Œå›¾ç‰‡ç†è§£èƒ½åŠ›ã€‚ç®€å•è¯´å°±æ˜¯ç»™ AI è£…ä¸Šäº†"ç½‘ç»œæœç´¢"å’Œ"çœ‹å›¾è¯´è¯"ä¸¤ä¸ªæŠ€èƒ½ã€‚</p>
<h4 data-id="heading-6">è·å– API Key</h4>
<ol>
<li>è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.minimax.io" title="https://platform.minimax.io" target="_blank" ref="nofollow noopener noreferrer">MiniMax å¼€å‘è€…å¹³å°</a></li>
<li>æ³¨å†Œ/ç™»å½•è´¦å·</li>
<li>åœ¨"Coding Plan"é¡µé¢è®¢é˜…å¥—é¤</li>
<li>è·å–ä½ çš„ API Key</li>
</ol>
<h4 data-id="heading-7">é…ç½®åˆ° Cursor</h4>
<p>æ‰“å¼€ Cursor çš„ MCP é…ç½®æ–‡ä»¶:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># macOS/Linux</span>
~/.cursor/mcp.json

<span class="hljs-comment"># Windows</span>
%USERPROFILE%\.cursor\mcp.json
</code></pre>
<p>æ·»åŠ  MiniMax é…ç½®:</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"MiniMax"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"uvx"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"minimax-coding-plan-mcp"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"-y"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"MINIMAX_API_KEY"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ çš„API_KEY"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"MINIMAX_API_HOST"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://api.minimax.io"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹</strong> âš ï¸</p>
<ul>
<li>å›½å†…ç”¨æˆ·ä½¿ç”¨ <code>https://api.minimax.io</code></li>
<li>å›½é™…ç”¨æˆ·ä½¿ç”¨ <code>https://api.minimaxi.chat</code></li>
<li>API Key å¿…é¡»å’Œ Host åŒºåŸŸåŒ¹é…,å¦åˆ™ä¼šæŠ¥é”™</li>
</ul>
<p>é‡å¯ Cursor,æ‰“å¼€ Composer (Cmd/Ctrl+I),è¾“å…¥<code>/mcp</code>,å¦‚æœçœ‹åˆ°<code>web_search</code>å’Œ<code>understand_image</code>å°±è¯´æ˜é…ç½®æˆåŠŸäº†!</p>
<h3 data-id="heading-8">ç¬¬ä¸‰æ­¥:é…ç½® CloudBase MCP</h3>
<p>CloudBase æ˜¯è…¾è®¯äº‘å¼€å‘çš„ MCP å·¥å…·,ä¸“é—¨ç”¨äºç®¡ç†äº‘å¼€å‘èµ„æºã€‚</p>
<h4 data-id="heading-9">å®‰è£… CloudBase CLI</h4>
<pre><code class="hljs language-bash" lang="bash">npm install -g @cloudbase/cli@latest
</code></pre>
<h4 data-id="heading-10">ç™»å½• CloudBase</h4>
<pre><code class="hljs language-bash" lang="bash">tcb login
<span class="hljs-comment"># ä¼šæ‰“å¼€æµè§ˆå™¨è¿›è¡Œæˆæƒç™»å½•</span>
</code></pre>
<h4 data-id="heading-11">é…ç½®åˆ° Cursor</h4>
<p>åœ¨<code>~/.cursor/mcp.json</code>ä¸­æ·»åŠ :</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"MiniMax"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-comment">// ...å‰é¢çš„é…ç½®</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"cloudbase"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npx"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"@cloudbase/cloudbase-mcp@latest"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-12">ç¬¬å››æ­¥:åˆ›å»º Taro é¡¹ç›®å¹¶é›†æˆ Tailwind CSS</h3>
<h4 data-id="heading-13">åˆå§‹åŒ– Taro é¡¹ç›®</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…Taro CLI</span>
npm install -g @tarojs/cli

<span class="hljs-comment"># åˆ›å»ºé¡¹ç›®</span>
taro init myapp

<span class="hljs-comment"># é€‰æ‹©æ¨¡æ¿æ—¶æ¨è:</span>
<span class="hljs-comment"># - React (æ›´æˆç†Ÿçš„ç”Ÿæ€)</span>
<span class="hljs-comment"># - TypeScript (ç±»å‹å®‰å…¨)</span>
<span class="hljs-comment"># - å¾®ä¿¡å°ç¨‹åº</span>
</code></pre>
<h4 data-id="heading-14">é›†æˆ Tailwind CSS</h4>
<p>Tailwind CSS æ˜¯ç›®å‰æœ€å—æ¬¢è¿çš„åŸå­åŒ– CSS æ¡†æ¶,è€Œä¸”ç‰¹åˆ«é€‚åˆ AI ç¼–ç¨‹â€”â€”AI èƒ½ç›´æ¥"è¯´äººè¯"ç”Ÿæˆæ ·å¼ã€‚</p>
<p><strong>å®‰è£…ä¾èµ–:</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> myapp
npm install -D tailwindcss postcss autoprefixer
npm install -D weapp-tailwindcss
</code></pre>
<p><strong>åˆå§‹åŒ–é…ç½®:</strong></p>
<pre><code class="hljs language-bash" lang="bash">npx tailwindcss init
</code></pre>
<p><strong>é…ç½®<code>tailwind.config.js</code>:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">content</span>: [
    <span class="hljs-string">"./src/**/*.{js,jsx,ts,tsx}"</span>,
  ],
  <span class="hljs-comment">// å°ç¨‹åºä¸æ”¯æŒæŸäº›ç‰¹æ®Šå­—ç¬¦,éœ€è¦è‡ªå®šä¹‰åˆ†éš”ç¬¦</span>
  <span class="hljs-attr">separator</span>: <span class="hljs-string">'_'</span>,
  <span class="hljs-attr">corePlugins</span>: {
    <span class="hljs-comment">// å…³é—­preflight,é¿å…æ ·å¼å†²çª</span>
    <span class="hljs-attr">preflight</span>: <span class="hljs-literal">false</span>
  }
}
</code></pre>
<p><strong>é…ç½® Taro:</strong></p>
<p>åœ¨<code>config/index.js</code>ä¸­æ·»åŠ :</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> config = {
  <span class="hljs-comment">// ...å…¶ä»–é…ç½®</span>
  <span class="hljs-attr">plugins</span>: [
    [<span class="hljs-string">'@tarojs/plugin-html'</span>],
    [<span class="hljs-string">'weapp-tailwindcss/webpack'</span>, {
      <span class="hljs-comment">// é…ç½®é€‰é¡¹</span>
    }]
  ],
  <span class="hljs-attr">mini</span>: {
    <span class="hljs-attr">postcss</span>: {
      <span class="hljs-attr">pxtransform</span>: {
        <span class="hljs-attr">enable</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">config</span>: {}
      }
    }
  }
}
</code></pre>
<p><strong>åœ¨<code>app.css</code>ä¸­å¼•å…¥ Tailwind:</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-keyword">@tailwind</span> base;
<span class="hljs-keyword">@tailwind</span> components;
<span class="hljs-keyword">@tailwind</span> utilities;
</code></pre>
<p><strong>éªŒè¯å®‰è£…:</strong></p>
<p>åœ¨ä»»æ„é¡µé¢ç»„ä»¶ä¸­æµ‹è¯•:</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">View</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tarojs/components'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Index</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex items-center justify-center h-screen bg-blue-500"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-white text-2xl"</span>&gt;</span>Hello Tailwind!<span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</code></pre>
<p>è¿è¡Œ<code>npm run dev:weapp</code>,å¦‚æœçœ‹åˆ°è“è‰²èƒŒæ™¯å’Œç™½è‰²æ–‡å­—,è¯´æ˜é…ç½®æˆåŠŸ!</p>
<h2 data-id="heading-15">ğŸ’¡ å®æˆ˜æŠ€å·§ï¼šè®© AI æˆä¸ºä½ çš„è¶…çº§åŠ©æ‰‹</h2>
<h3 data-id="heading-16">æŠ€å·§ 1ï¼šç”¨ web_search è§£å†³ç–‘éš¾æ‚ç—‡</h3>
<p><strong>åœºæ™¯:</strong> Taro é¡¹ç›®ä¸­é‡åˆ°ä¸€ä¸ªå¥‡æ€ªçš„ API æŠ¥é”™ã€‚</p>
<p><strong>ä¼ ç»Ÿåšæ³•:</strong></p>
<ol>
<li>å¤åˆ¶é”™è¯¯ä¿¡æ¯</li>
<li>æ‰“å¼€æµè§ˆå™¨æœç´¢</li>
<li>ç¿»é˜… 5-10 ä¸ªé¡µé¢</li>
<li>å°è¯•æ¯ä¸ªè§£å†³æ–¹æ¡ˆ</li>
<li>ç¥ˆç¥·æœ‰ä¸€ä¸ªèƒ½ work</li>
</ol>
<p><strong>ä½¿ç”¨ MiniMax MCP:</strong></p>
<p>ç›´æ¥åœ¨ Cursor çš„ Composer ä¸­å‘Šè¯‰ AI:</p>
<pre><code class="hljs language-vbnet" lang="vbnet">è¿™ä¸ªé”™è¯¯ä¿¡æ¯æ˜¯ä»€ä¹ˆæ„æ€?å¸®æˆ‘ç”¨web_searchæœç´¢ä¸€ä¸‹Taroç¤¾åŒºæœ‰æ²¡æœ‰ç±»ä¼¼é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ:

[<span class="hljs-keyword">ERROR</span>] <span class="hljs-keyword">Error</span>: miniprogram-api-typings: <span class="hljs-keyword">Module</span> <span class="hljs-built_in">not</span> found
</code></pre>
<p>AI ä¼šè‡ªåŠ¨è°ƒç”¨<code>web_search</code>å·¥å…·,æœç´¢æœ€æ–°çš„è§£å†³æ–¹æ¡ˆ,å¹¶ç»™ä½ æ€»ç»“:</p>
<pre><code class="hljs language-markdown" lang="markdown">æ ¹æ®æœç´¢ç»“æœ,è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸º...

è§£å†³æ–¹æ¡ˆ:

<span class="hljs-bullet">1.</span> å‡çº§ Taro ç‰ˆæœ¬åˆ° 3.6+
<span class="hljs-bullet">2.</span> æˆ–è€…å®‰è£…ç¼ºå¤±çš„ç±»å‹å®šä¹‰: npm install -D miniprogram-api-typings

ç›¸å…³è®¨è®º:

<span class="hljs-bullet">-</span> https://github.com/NervJS/taro/issues/...
<span class="hljs-bullet">-</span> https://taro-docs.jd.com/...
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¿™ä¹ˆå‰å®³?</strong></p>
<ul>
<li>æœç´¢çš„æ˜¯<strong>å®æ—¶ä¿¡æ¯</strong>,ä¸æ˜¯è®­ç»ƒæ•°æ®</li>
<li>AI ä¼šå¸®ä½ <strong>ç­›é€‰å’Œæ€»ç»“</strong>,ä¸æ˜¯ç›´æ¥æ‰”ä¸€å †é“¾æ¥</li>
<li>è¿˜ä¼šç»™å‡º<strong>ç›¸å…³æœç´¢å»ºè®®</strong></li>
</ul>
<h3 data-id="heading-17">æŠ€å·§ 2ï¼šç”¨ understand_image å¿«é€Ÿè¿˜åŸè®¾è®¡ç¨¿</h3>
<p><strong>åœºæ™¯:</strong> UI ç»™äº†ä¸€å¼ è®¾è®¡ç¨¿,è¦æ±‚ 100%è¿˜åŸã€‚</p>
<p><strong>ä¼ ç»Ÿåšæ³•:</strong></p>
<ol>
<li>åˆ‡æ¢åˆ°è®¾è®¡å·¥å…·</li>
<li>æµ‹é‡æ¯ä¸ªå…ƒç´ çš„ä½ç½®ã€å¤§å°</li>
<li>è®°å½•é¢œè‰²å€¼</li>
<li>å›åˆ°ä»£ç ä¸€ç‚¹ç‚¹å†™</li>
<li>æ¥å›å¯¹æ¯”è°ƒæ•´</li>
</ol>
<p><strong>ä½¿ç”¨ MiniMax MCP:</strong></p>
<ol>
<li>æŠŠè®¾è®¡ç¨¿æˆªå›¾ä¿å­˜</li>
<li>åœ¨ Cursor ä¸­ç²˜è´´å›¾ç‰‡</li>
<li>å‘Šè¯‰ AI:</li>
</ol>
<pre><code class="hljs language-diff" lang="diff">å¸®æˆ‘åˆ†æè¿™å¼ è®¾è®¡ç¨¿,ç”¨Taro + Tailwind CSSå®ç°ã€‚
é‡ç‚¹å…³æ³¨:
<span class="hljs-deletion">- å¸ƒå±€ç»“æ„</span>
<span class="hljs-deletion">- é—´è·å’Œå¯¹é½</span>
<span class="hljs-deletion">- é¢œè‰²å’Œå­—å·</span>
<span class="hljs-deletion">- ç»„ä»¶å±‚æ¬¡</span>
</code></pre>
<p>AI ä¼šåˆ†æå›¾ç‰‡,ç„¶åç”Ÿæˆ:</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">View</span>, <span class="hljs-title class_">Text</span>, <span class="hljs-title class_">Image</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tarojs/components'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ProductCard</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"bg-white rounded-2xl p-4 shadow-lg"</span>&gt;</span>
      {/* å•†å“å›¾ç‰‡ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"relative mb-4"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Image</span>
          <span class="hljs-attr">src</span>=<span class="hljs-string">"xxx"</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"w-full h-48 rounded-xl object-cover"</span>
        /&gt;</span>
        {/* å³ä¸Šè§’æ ‡ç­¾ */}
        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"absolute top-2 right-2 bg-red-500 text-white px-3 py-1 rounded-full text-xs"</span>&gt;</span>
          çƒ­å–
        <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>

      {/* å•†å“ä¿¡æ¯ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"space-y-2"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-lg font-bold text-gray-800"</span>&gt;</span>
          å•†å“åç§°
        <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex items-center justify-between"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-2xl font-bold text-red-500"</span>&gt;</span>
            Â¥199
          <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-sm text-gray-400 line-through"</span>&gt;</span>
            Â¥299
          <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</code></pre>
<p><strong>Pro Tips:</strong></p>
<ul>
<li>å¯ä»¥åŒæ—¶ä¸Šä¼ å¤šå¼ å›¾ç‰‡å¯¹æ¯”åˆ†æ</li>
<li>è®© AI è§£é‡Šä¸ºä»€ä¹ˆä½¿ç”¨æŸä¸ª Tailwind ç±»</li>
<li>è¦æ±‚ AI ç”Ÿæˆä¸åŒå±å¹•å°ºå¯¸çš„å“åº”å¼ç‰ˆæœ¬</li>
</ul>
<h3 data-id="heading-18">æŠ€å·§ 3ï¼šç”¨ CloudBase MCP è°ƒè¯•äº‘å‡½æ•°</h3>
<p><strong>åœºæ™¯:</strong> äº‘å‡½æ•°è¿”å›äº†é”™è¯¯,éœ€è¦æŸ¥çœ‹æ—¥å¿—æ’æŸ¥é—®é¢˜ã€‚</p>
<p><strong>ä¼ ç»Ÿåšæ³•:</strong></p>
<ol>
<li>æ‰“å¼€è…¾è®¯äº‘æ§åˆ¶å°</li>
<li>æ‰¾åˆ°äº‘å¼€å‘ç¯å¢ƒ</li>
<li>è¿›å…¥äº‘å‡½æ•°ç®¡ç†</li>
<li>æ‰¾åˆ°å¯¹åº”å‡½æ•°</li>
<li>æŸ¥çœ‹æ—¥å¿—</li>
<li>åˆ†æé—®é¢˜</li>
<li>ä¿®æ”¹ä»£ç </li>
<li>é‡æ–°éƒ¨ç½²</li>
<li>å†æ¬¡æµ‹è¯•</li>
</ol>
<p><strong>ä½¿ç”¨ CloudBase MCP:</strong></p>
<p>ç›´æ¥åœ¨ Cursor ä¸­å‘Šè¯‰ AI:</p>
<pre><code class="hljs">æˆ‘çš„getUserInfoäº‘å‡½æ•°è¿”å›500é”™è¯¯,å¸®æˆ‘æŸ¥çœ‹æœ€è¿‘çš„æ—¥å¿—,æ‰¾å‡ºé—®é¢˜åŸå› å¹¶ä¿®å¤
</code></pre>
<p>AI ä¼š:</p>
<ol>
<li>è‡ªåŠ¨è°ƒç”¨ CloudBase MCP æŸ¥è¯¢æ—¥å¿—</li>
<li>åˆ†æé”™è¯¯å †æ ˆ</li>
<li>å®šä½é—®é¢˜ä»£ç </li>
<li>ç»™å‡ºä¿®å¤æ–¹æ¡ˆ</li>
<li>ç”šè‡³ç›´æ¥å¸®ä½ ä¿®æ”¹ä»£ç </li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// AIå‘ç°çš„é—®é¢˜:</span>
<span class="hljs-comment">// åŸä»£ç :</span>
<span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">collection</span>(<span class="hljs-string">'users'</span>).<span class="hljs-title function_">doc</span>(userId).<span class="hljs-title function_">get</span>()
<span class="hljs-keyword">return</span> user.<span class="hljs-property">data</span>.<span class="hljs-property">name</span> <span class="hljs-comment">// âŒ å½“ç”¨æˆ·ä¸å­˜åœ¨æ—¶,dataæ˜¯undefined</span>

<span class="hljs-comment">// AIçš„ä¿®å¤:</span>
<span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">collection</span>(<span class="hljs-string">'users'</span>).<span class="hljs-title function_">doc</span>(userId).<span class="hljs-title function_">get</span>()
<span class="hljs-keyword">if</span> (!user.<span class="hljs-property">data</span>) {
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">error</span>: <span class="hljs-string">'ç”¨æˆ·ä¸å­˜åœ¨'</span> }
}
<span class="hljs-keyword">return</span> user.<span class="hljs-property">data</span>.<span class="hljs-property">name</span> <span class="hljs-comment">// âœ… å¢åŠ äº†é”™è¯¯å¤„ç†</span>
</code></pre>
<p><strong>CloudBase MCP çš„å…¶ä»–ç¥å™¨åŠŸèƒ½:</strong></p>
<ul>
<li>æŸ¥è¯¢æ•°æ®åº“è®°å½•</li>
<li>éƒ¨ç½²æ–°çš„äº‘å‡½æ•°</li>
<li>ç®¡ç†é™æ€ç½‘ç«™æ‰˜ç®¡</li>
<li>é…ç½®å®‰å…¨è§„åˆ™</li>
</ul>
<h3 data-id="heading-19">æŠ€å·§ 4ï¼šåœ¨.cursorrules ä¸­å®šä¹‰é¡¹ç›®è§„èŒƒ</h3>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦.cursorrules?</strong></p>
<p>æƒ³è±¡ä¸€ä¸‹,ä½ æœ‰ä¸€ä¸ª 10 äººçš„å¼€å‘å›¢é˜Ÿ,æ¯ä¸ªäººçš„ä»£ç é£æ ¼éƒ½ä¸ä¸€æ ·:</p>
<ul>
<li>å¼ ä¸‰å–œæ¬¢ç”¨ class ç»„ä»¶</li>
<li>æå››å…¨ç”¨ function ç»„ä»¶</li>
<li>ç‹äº”æ ·å¼å†™åœ¨ CSS æ–‡ä»¶é‡Œ</li>
<li>èµµå…­å…¨éƒ¨ inline style</li>
</ul>
<p>é¡¹ç›®ä»£ç çœ‹èµ·æ¥åƒ"åƒåœ¾åœº"ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ:</strong></p>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º<code>.cursorrules</code>æˆ–<code>.cursorrules.md</code>æ–‡ä»¶:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Taro å°ç¨‹åºå¼€å‘è§„èŒƒ</span>

<span class="hljs-section">## æŠ€æœ¯æ ˆ</span>

<span class="hljs-bullet">-</span> Taro 3.x
<span class="hljs-bullet">-</span> React 18+ (function ç»„ä»¶ + Hooks)
<span class="hljs-bullet">-</span> TypeScript
<span class="hljs-bullet">-</span> Tailwind CSS

<span class="hljs-section">## ä»£ç é£æ ¼</span>

<span class="hljs-section">### ç»„ä»¶è§„èŒƒ</span>

<span class="hljs-bullet">-</span> æ‰€æœ‰ç»„ä»¶å¿…é¡»ä½¿ç”¨ Function Component
<span class="hljs-bullet">-</span> å¿…é¡»ä½¿ç”¨ TypeScript,å®šä¹‰å®Œæ•´çš„ Props ç±»å‹
<span class="hljs-bullet">-</span> ç»„ä»¶æ–‡ä»¶åä½¿ç”¨ PascalCase: <span class="hljs-code">`UserProfile.tsx`</span>

<span class="hljs-section">### æ ·å¼è§„èŒƒ</span>

<span class="hljs-bullet">-</span> ä¼˜å…ˆä½¿ç”¨ Tailwind CSS utility ç±»
<span class="hljs-bullet">-</span> ç¦æ­¢ä½¿ç”¨ inline style
<span class="hljs-bullet">-</span> è‡ªå®šä¹‰æ ·å¼ä½¿ç”¨ CSS Modules
<span class="hljs-bullet">-</span> å“åº”å¼è®¾è®¡ä½¿ç”¨ Tailwind çš„æ–­ç‚¹ç³»ç»Ÿ

ç¤ºä¾‹:

<span class="hljs-code">```jsx
import { View, Text } from '@tarojs/components'
import { FC } from 'react'

interface UserCardProps {
  name: string
  avatar: string
}

const UserCard: FC&lt;UserCardProps&gt; = ({ name, avatar }) =&gt; {
  return (
    &lt;View className="flex items-center p-4 bg-white rounded-lg shadow"&gt;
      &lt;Image src={avatar} className="w-12 h-12 rounded-full" /&gt;
      &lt;Text className="ml-3 text-base font-medium"&gt;{name}&lt;/Text&gt;
    &lt;/View&gt;
  )
}

export default UserCard
```</span>
</code></pre>
<h3 data-id="heading-20">äº‘å‡½æ•°è§„èŒƒ</h3>
<ul>
<li>ç»Ÿä¸€ä½¿ç”¨ async/await</li>
<li>å¿…é¡»æœ‰å®Œæ•´çš„é”™è¯¯å¤„ç†</li>
<li>è¿”å›å€¼æ ¼å¼ç»Ÿä¸€: <code>{ code, message, data }</code></li>
</ul>
<p>ç¤ºä¾‹:</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-built_in">exports</span>.<span class="hljs-property">main</span> = <span class="hljs-keyword">async</span> (event) =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> { userId } = event

    <span class="hljs-keyword">if</span> (!userId) {
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">code</span>: <span class="hljs-number">400</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'ç¼ºå°‘userIdå‚æ•°'</span> }
    }

    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">collection</span>(<span class="hljs-string">'users'</span>)
      .<span class="hljs-title function_">doc</span>(userId)
      .<span class="hljs-title function_">get</span>()

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">code</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">message</span>: <span class="hljs-string">'success'</span>,
      <span class="hljs-attr">data</span>: result.<span class="hljs-property">data</span>
    }
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'getUserInfo error:'</span>, error)
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">code</span>: <span class="hljs-number">500</span>,
      <span class="hljs-attr">message</span>: <span class="hljs-string">'æœåŠ¡å™¨é”™è¯¯'</span>,
      <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span>
    }
  }
}
</code></pre>
<h2 data-id="heading-21">å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-22">Taro API è°ƒç”¨é—®é¢˜</h3>
<ul>
<li>ä¼˜å…ˆæŸ¥é˜… Taro å®˜æ–¹æ–‡æ¡£: <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.taro.zone" target="_blank" title="https://docs.taro.zone" ref="nofollow noopener noreferrer">docs.taro.zone</a></li>
<li>ä½¿ç”¨ web_search æœç´¢ GitHub Issues</li>
</ul>
<h3 data-id="heading-23">äº‘å‡½æ•°è°ƒè¯•</h3>
<ul>
<li>ä½¿ç”¨ CloudBase MCP ç›´æ¥æŸ¥çœ‹æ—¥å¿—</li>
<li>ä¸è¦åœ¨ä»£ç é‡ŒåŠ  console.log åé‡æ–°éƒ¨ç½²</li>
</ul>
<h3 data-id="heading-24">æ ·å¼é—®é¢˜</h3>
<ul>
<li>ä½¿ç”¨ understand_image åˆ†æè®¾è®¡ç¨¿</li>
<li>è®°ä½å°ç¨‹åºä¸æ”¯æŒæŸäº› CSS ç‰¹æ€§</li>
</ul>
<p><strong>é…ç½®å¥½åçš„æ•ˆæœ:</strong></p>
<p>å½“ä½ è®©AIå†™ä»£ç æ—¶,å®ƒä¼šä¸¥æ ¼éµå®ˆè¿™äº›è§„èŒƒ:</p>
<pre><code class="hljs language-text" lang="text">
ä½ : å¸®æˆ‘å†™ä¸€ä¸ªç”¨æˆ·åˆ—è¡¨é¡µé¢

AI: å¥½çš„,æˆ‘ä¼šæŒ‰ç…§é¡¹ç›®è§„èŒƒ,ä½¿ç”¨ Function Component + TypeScript + Tailwind CSS æ¥å®ç°...

[ç”Ÿæˆçš„ä»£ç è‡ªåŠ¨ç¬¦åˆè§„èŒƒ]

</code></pre>
<h3 data-id="heading-25">æŠ€å·§5ï¼šå–„ç”¨Tailwindçš„"AIå‹å¥½"ç‰¹æ€§</h3>
<p><strong>ä¸ºä»€ä¹ˆè¯´Tailwind CSSæ˜¯AIå‹å¥½çš„?</strong></p>
<p>å› ä¸ºTailwindçš„ç±»åå°±æ˜¯**"äººç±»è¯­è¨€"**:</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// ä¼ ç»ŸCSS: AIéœ€è¦ç†è§£å¤æ‚çš„æ ·å¼è§„åˆ™</span>
&lt;<span class="hljs-title class_">View</span> style={{
  <span class="hljs-attr">display</span>: <span class="hljs-string">'flex'</span>,
  <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>,
  <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'space-between'</span>,
  <span class="hljs-attr">padding</span>: <span class="hljs-string">'16px'</span>,
  <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'#ffffff'</span>,
  <span class="hljs-attr">borderRadius</span>: <span class="hljs-string">'8px'</span>,
  <span class="hljs-attr">boxShadow</span>: <span class="hljs-string">'0 2px 8px rgba(0,0,0,0.1)'</span>
}}&gt;

<span class="hljs-comment">// Tailwind CSS: AIç›´æ¥"è¯´äººè¯"</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex items-center justify-between p-4 bg-white rounded-lg shadow-md"</span>&gt;</span>
</span></code></pre>
<p><strong>å®æˆ˜æ¡ˆä¾‹:</strong></p>
<p>ä½ å¯ä»¥è¿™æ ·å’Œ AI äº¤æµ:</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">ä½ : åšä¸€ä¸ªå¡ç‰‡ç»„ä»¶,è¦æœ‰åœ†è§’ã€é˜´å½±ã€å†…è¾¹è·16px,flexå¸ƒå±€,ä¸Šé¢æ˜¯å›¾ç‰‡,ä¸‹é¢æ˜¯æ–‡å­—</span>

<span class="hljs-section">AI: æ˜ç™½äº†!</span>
[ç›´æ¥ç”ŸæˆTailwindä»£ç ]
</code></pre>
<p><strong>å¸¸ç”¨çš„ Tailwind ç»„åˆ:</strong></p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// 1. æ°´å¹³å±…ä¸­çš„å®¹å™¨</span>
&lt;<span class="hljs-title class_">View</span> className=<span class="hljs-string">"flex items-center justify-center"</span>&gt;

<span class="hljs-comment">// 2. å‚ç›´å¸ƒå±€,é—´è·16px</span>
&lt;View className="flex flex-col space-y-4"&gt;

// 3. å¡ç‰‡æ ·å¼
&lt;View className="bg-white rounded-xl shadow-lg p-4"&gt;

// 4. å“åº”å¼æ–‡å­—
&lt;Text className="text-base md:text-lg lg:text-xl"&gt;

// 5. æŒ‰é’®æ ·å¼
&lt;View className="bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-full"&gt;
</code></pre>
<p><strong>âš ï¸ å°ç¨‹åºç‰¹æ®Šé™åˆ¶:</strong></p>
<p>å°ç¨‹åºä¸æ”¯æŒæŸäº›ç‰¹æ®Šå­—ç¬¦ä½œä¸ºç±»å,æ‰€ä»¥:</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// âŒ é”™è¯¯å†™æ³•</span>
&lt;<span class="hljs-title class_">View</span> className=<span class="hljs-string">"w-1/2"</span>&gt;  <span class="hljs-comment">// å°ç¨‹åºä¸æ”¯æŒ /</span>
&lt;View className="hover:bg-blue"&gt;  // å°ç¨‹åºä¸æ”¯æŒ :

// âœ… æ­£ç¡®å†™æ³• (é…ç½®separator: '_')
&lt;View className="w-1_2"&gt;
&lt;View className="hover_bg-blue"&gt;
</code></pre>
<h2 data-id="heading-26">ğŸ¨ æœ€ä½³å®è·µï¼šä»å…¥é—¨åˆ°ç²¾é€š</h2>
<h3 data-id="heading-27">å®è·µ 1ï¼šæ„å»ºä¸€ä¸ªå®Œæ•´çš„åŠŸèƒ½æ¨¡å—</h3>
<p><strong>éœ€æ±‚:</strong> å¼€å‘ä¸€ä¸ª"å¾…åŠäº‹é¡¹"åŠŸèƒ½,åŒ…å«:</p>
<ul>
<li>åˆ—è¡¨å±•ç¤º</li>
<li>æ·»åŠ å¾…åŠ</li>
<li>æ ‡è®°å®Œæˆ</li>
<li>åˆ é™¤å¾…åŠ</li>
<li>äº‘ç«¯åŒæ­¥</li>
</ul>
<p><strong>å¼€å‘æµç¨‹:</strong></p>
<h4 data-id="heading-28">Step 1: éœ€æ±‚åˆ†æ(è®© AI å¸®ä½ è§„åˆ’)</h4>
<pre><code class="hljs language-diff" lang="diff">ä½ : æˆ‘è¦åšä¸€ä¸ªå¾…åŠäº‹é¡¹åŠŸèƒ½,å¸®æˆ‘è§„åˆ’ä¸€ä¸‹æŠ€æœ¯æ–¹æ¡ˆ

AI: å¥½çš„!æˆ‘å»ºè®®:

å‰ç«¯:
<span class="hljs-deletion">- é¡µé¢ç»„ä»¶: TodoList.tsx, TodoItem.tsx, AddTodo.tsx</span>
<span class="hljs-deletion">- çŠ¶æ€ç®¡ç†: ä½¿ç”¨React Hooks (useState, useEffect)</span>
<span class="hljs-deletion">- æ ·å¼: Tailwind CSS</span>

åç«¯:
<span class="hljs-deletion">- äº‘æ•°æ®åº“é›†åˆ: todos</span>
  - _id: è‡ªåŠ¨ç”Ÿæˆ
  - content: string (å¾…åŠå†…å®¹)
  - completed: boolean
  - createdAt: timestamp
<span class="hljs-deletion">- äº‘å‡½æ•°: getTodos, addTodo, updateTodo, deleteTodo</span>

éœ€è¦æˆ‘å¸®ä½ å®ç°å—?
</code></pre>
<h4 data-id="heading-29">Step 2: UI è®¾è®¡(ç”¨ understand_image)</h4>
<p>å¦‚æœä½ æœ‰è®¾è®¡ç¨¿:</p>
<pre><code class="hljs language-diff" lang="diff">ä½ : [ç²˜è´´è®¾è®¡ç¨¿æˆªå›¾] å¸®æˆ‘åˆ†æè¿™ä¸ªå¾…åŠåˆ—è¡¨çš„è®¾è®¡,ç”¨Taro + Tailwindå®ç°

AI: æˆ‘çœ‹åˆ°çš„è®¾è®¡åŒ…æ‹¬:
<span class="hljs-deletion">- é¡¶éƒ¨æœ‰ä¸€ä¸ªè¾“å…¥æ¡†å’Œæ·»åŠ æŒ‰é’®</span>
<span class="hljs-deletion">- åˆ—è¡¨é¡¹å·¦è¾¹æ˜¯åœ†å½¢checkbox</span>
<span class="hljs-deletion">- ä¸­é—´æ˜¯å¾…åŠæ–‡å­—,å®Œæˆçš„æ–‡å­—æœ‰åˆ é™¤çº¿</span>
<span class="hljs-deletion">- å³è¾¹æ˜¯åˆ é™¤æŒ‰é’®</span>
<span class="hljs-deletion">- æ•´ä½“ä½¿ç”¨å¡ç‰‡å¸ƒå±€,åœ†è§’+é˜´å½±</span>

[ç”Ÿæˆä»£ç ...]
</code></pre>
<p>å¦‚æœæ²¡æœ‰è®¾è®¡ç¨¿:</p>
<pre><code class="hljs language-diff" lang="diff">ä½ : å¸®æˆ‘è®¾è®¡ä¸€ä¸ªç°ä»£é£æ ¼çš„å¾…åŠåˆ—è¡¨UI,ä½¿ç”¨Tailwind CSS

AI: å¥½çš„,æˆ‘ä¼šé‡‡ç”¨:
<span class="hljs-deletion">- æ¸å˜èƒŒæ™¯</span>
<span class="hljs-deletion">- æ¯›ç»ç’ƒæ•ˆæœçš„å¡ç‰‡</span>
<span class="hljs-deletion">- åŠ¨ç”»è¿‡æ¸¡æ•ˆæœ</span>
<span class="hljs-deletion">- å¾®äº¤äº’åé¦ˆ</span>

[ç”Ÿæˆä»£ç ...]
</code></pre>
<h4 data-id="heading-30">Step 3: å®ç°å‰ç«¯</h4>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// components/TodoList.tsx</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">View</span>, <span class="hljs-title class_">Text</span>, <span class="hljs-title class_">Input</span>, <span class="hljs-title class_">Button</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tarojs/components'</span>
<span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Taro</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@tarojs/taro'</span>

interface <span class="hljs-title class_">Todo</span> {
  <span class="hljs-attr">_id</span>: string
  <span class="hljs-attr">content</span>: string
  <span class="hljs-attr">completed</span>: boolean
  <span class="hljs-attr">createdAt</span>: number
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">TodoList</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> [todos, setTodos] = useState&lt;<span class="hljs-title class_">Todo</span>[]&gt;([])
  <span class="hljs-keyword">const</span> [input, setInput] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>)
  <span class="hljs-keyword">const</span> [loading, setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>)

  <span class="hljs-comment">// åŠ è½½å¾…åŠåˆ—è¡¨</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">loadTodos</span>()
  }, [])

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">loadTodos</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">true</span>)
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// è°ƒç”¨äº‘å‡½æ•°</span>
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Taro</span>.<span class="hljs-property">cloud</span>.<span class="hljs-title function_">callFunction</span>({
        <span class="hljs-attr">name</span>: <span class="hljs-string">'getTodos'</span>
      })
      <span class="hljs-title function_">setTodos</span>(res.<span class="hljs-property">result</span>.<span class="hljs-property">data</span>)
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-title class_">Taro</span>.<span class="hljs-title function_">showToast</span>({
        <span class="hljs-attr">title</span>: <span class="hljs-string">'åŠ è½½å¤±è´¥'</span>,
        <span class="hljs-attr">icon</span>: <span class="hljs-string">'none'</span>
      })
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>)
    }
  }

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">addTodo</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">if</span> (!input.<span class="hljs-title function_">trim</span>()) <span class="hljs-keyword">return</span>

    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> <span class="hljs-title class_">Taro</span>.<span class="hljs-property">cloud</span>.<span class="hljs-title function_">callFunction</span>({
        <span class="hljs-attr">name</span>: <span class="hljs-string">'addTodo'</span>,
        <span class="hljs-attr">data</span>: { <span class="hljs-attr">content</span>: input }
      })
      <span class="hljs-title function_">setInput</span>(<span class="hljs-string">''</span>)
      <span class="hljs-title function_">loadTodos</span>()
      <span class="hljs-title class_">Taro</span>.<span class="hljs-title function_">showToast</span>({
        <span class="hljs-attr">title</span>: <span class="hljs-string">'æ·»åŠ æˆåŠŸ'</span>,
        <span class="hljs-attr">icon</span>: <span class="hljs-string">'success'</span>
      })
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-title class_">Taro</span>.<span class="hljs-title function_">showToast</span>({
        <span class="hljs-attr">title</span>: <span class="hljs-string">'æ·»åŠ å¤±è´¥'</span>,
        <span class="hljs-attr">icon</span>: <span class="hljs-string">'none'</span>
      })
    }
  }

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">toggleTodo</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">id: string, completed: boolean</span>) =&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> <span class="hljs-title class_">Taro</span>.<span class="hljs-property">cloud</span>.<span class="hljs-title function_">callFunction</span>({
        <span class="hljs-attr">name</span>: <span class="hljs-string">'updateTodo'</span>,
        <span class="hljs-attr">data</span>: { id, <span class="hljs-attr">completed</span>: !completed }
      })
      <span class="hljs-title function_">loadTodos</span>()
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-title class_">Taro</span>.<span class="hljs-title function_">showToast</span>({
        <span class="hljs-attr">title</span>: <span class="hljs-string">'æ›´æ–°å¤±è´¥'</span>,
        <span class="hljs-attr">icon</span>: <span class="hljs-string">'none'</span>
      })
    }
  }

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">deleteTodo</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">id: string</span>) =&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> <span class="hljs-title class_">Taro</span>.<span class="hljs-title function_">showModal</span>({
        <span class="hljs-attr">title</span>: <span class="hljs-string">'ç¡®è®¤åˆ é™¤'</span>,
        <span class="hljs-attr">content</span>: <span class="hljs-string">'ç¡®å®šè¦åˆ é™¤è¿™æ¡å¾…åŠå—?'</span>
      })

      <span class="hljs-keyword">await</span> <span class="hljs-title class_">Taro</span>.<span class="hljs-property">cloud</span>.<span class="hljs-title function_">callFunction</span>({
        <span class="hljs-attr">name</span>: <span class="hljs-string">'deleteTodo'</span>,
        <span class="hljs-attr">data</span>: { id }
      })
      <span class="hljs-title function_">loadTodos</span>()
      <span class="hljs-title class_">Taro</span>.<span class="hljs-title function_">showToast</span>({
        <span class="hljs-attr">title</span>: <span class="hljs-string">'åˆ é™¤æˆåŠŸ'</span>,
        <span class="hljs-attr">icon</span>: <span class="hljs-string">'success'</span>
      })
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-comment">// ç”¨æˆ·å–æ¶ˆæˆ–åˆ é™¤å¤±è´¥</span>
    }
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4"</span>&gt;</span>
      {/* æ ‡é¢˜ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-center mb-6"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"</span>&gt;</span>
          æˆ‘çš„å¾…åŠ
        <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>

      {/* æ·»åŠ å¾…åŠ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"bg-white rounded-2xl shadow-lg p-4 mb-4"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex items-center space-x-2"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Input</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">"flex-1 px-4 py-2 bg-gray-100 rounded-full"</span>
            <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"æ·»åŠ æ–°å¾…åŠ..."</span>
            <span class="hljs-attr">value</span>=<span class="hljs-string">{input}</span>
            <span class="hljs-attr">onInput</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setInput(e.detail.value)}
          /&gt;
          <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">"bg-blue-500 text-white px-6 py-2 rounded-full"</span>
            <span class="hljs-attr">onClick</span>=<span class="hljs-string">{addTodo}</span>
          &gt;</span>
            æ·»åŠ 
          <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>

      {/* å¾…åŠåˆ—è¡¨ */}
      {loading ? (
        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-center py-8"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-gray-500"</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
      ) : todos.length === 0 ? (
        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-center py-8"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-gray-500"</span>&gt;</span>æš‚æ— å¾…åŠäº‹é¡¹<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
      ) : (
        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"space-y-2"</span>&gt;</span>
          {todos.map(todo =&gt; (
            <span class="hljs-tag">&lt;<span class="hljs-name">View</span>
              <span class="hljs-attr">key</span>=<span class="hljs-string">{todo._id}</span>
              <span class="hljs-attr">className</span>=<span class="hljs-string">"bg-white rounded-xl shadow p-4 flex items-center"</span>
            &gt;</span>
              {/* Checkbox */}
              <span class="hljs-tag">&lt;<span class="hljs-name">View</span>
                <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">w-6</span> <span class="hljs-attr">h-6</span> <span class="hljs-attr">rounded-full</span> <span class="hljs-attr">border-2</span> <span class="hljs-attr">mr-3</span> <span class="hljs-attr">flex</span> <span class="hljs-attr">items-center</span> <span class="hljs-attr">justify-center</span> ${
                  <span class="hljs-attr">todo.completed</span>
                    ? '<span class="hljs-attr">bg-blue-500</span> <span class="hljs-attr">border-blue-500</span>'
                    <span class="hljs-attr">:</span> '<span class="hljs-attr">border-gray-300</span>'
                }`}
                <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> toggleTodo(todo._id, todo.completed)}
              &gt;
                {todo.completed &amp;&amp; (
                  <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-white text-sm"</span>&gt;</span>âœ“<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
                )}
              <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>

              {/* å†…å®¹ */}
              <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>
                <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">flex-1</span> ${
                  <span class="hljs-attr">todo.completed</span>
                    ? '<span class="hljs-attr">line-through</span> <span class="hljs-attr">text-gray-400</span>'
                    <span class="hljs-attr">:</span> '<span class="hljs-attr">text-gray-800</span>'
                }`}
              &gt;</span>
                {todo.content}
              <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>

              {/* åˆ é™¤æŒ‰é’® */}
              <span class="hljs-tag">&lt;<span class="hljs-name">View</span>
                <span class="hljs-attr">className</span>=<span class="hljs-string">"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center"</span>
                <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> deleteTodo(todo._id)}
              &gt;
                <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-red-500 text-sm"</span>&gt;</span>âœ•<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
          ))}
        <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
      )}
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">TodoList</span>
</code></pre>
<h4 data-id="heading-31">Step 4: å®ç°äº‘å‡½æ•°(è®© CloudBase MCP å¸®ä½ )</h4>
<pre><code class="hljs language-ini" lang="ini">ä½ : å¸®æˆ‘åˆ›å»ºäº‘å‡½æ•°getTodos,æŸ¥è¯¢todosé›†åˆçš„æ‰€æœ‰æ•°æ®,æŒ‰åˆ›å»ºæ—¶é—´å€’åºæ’åˆ—

AI: <span class="hljs-section">[è‡ªåŠ¨è°ƒç”¨CloudBase MCPåˆ›å»ºäº‘å‡½æ•°]</span>

äº‘å‡½æ•°å·²åˆ›å»º! ä»£ç å¦‚ä¸‹:

<span class="hljs-section">[äº‘å‡½æ•°ä»£ç ...]</span>

éœ€è¦æˆ‘å¸®ä½ éƒ¨ç½²å—?
</code></pre>
<h4 data-id="heading-32">Step 5: è°ƒè¯•é—®é¢˜</h4>
<p>å¦‚æœé‡åˆ°é”™è¯¯:</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">ä½ : è°ƒç”¨addTodoäº‘å‡½æ•°æ—¶æŠ¥é”™: permission denied</span>

<span class="hljs-section">AI: è®©æˆ‘æŸ¥çœ‹ä¸€ä¸‹æ—¥å¿—... [è°ƒç”¨CloudBase MCP]</span>

<span class="hljs-section">åˆ†æç»“æœ:</span>
- é”™è¯¯åŸå› : äº‘æ•°æ®åº“å®‰å…¨è§„åˆ™é™åˆ¶äº†å†™å…¥æƒé™
- è§£å†³æ–¹æ¡ˆ: éœ€è¦åœ¨äº‘å¼€å‘æ§åˆ¶å°é…ç½®å®‰å…¨è§„åˆ™

<span class="hljs-section">æˆ‘å¯ä»¥å¸®ä½ ç”Ÿæˆå®‰å…¨è§„åˆ™é…ç½®:</span>

{
  <span class="hljs-string">"read"</span>: true,
  <span class="hljs-string">"write"</span>: <span class="hljs-string">"auth.uid != null"</span>  // ä»…ç™»å½•ç”¨æˆ·å¯å†™å…¥
}

<span class="hljs-section">æˆ–è€…å¦‚æœæ˜¯å¼€å‘æµ‹è¯•é˜¶æ®µ,å¯ä»¥ä¸´æ—¶è®¾ç½®ä¸º:</span>

{
  <span class="hljs-string">"read"</span>: true,
  <span class="hljs-string">"write"</span>: true
}
</code></pre>
<h3 data-id="heading-33">å®è·µ 2ï¼šé¿å…å¸¸è§è¯¯åŒº</h3>
<h4 data-id="heading-34">è¯¯åŒº 1ï¼šè¿‡åº¦ä¾èµ– AI,ä¸ç†è§£åŸç†</h4>
<p><strong>âŒ é”™è¯¯åšæ³•:</strong></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">ä½ : å¸®æˆ‘å†™ä¸€ä¸ªå•†åŸå°ç¨‹åº</span>
<span class="hljs-section">AI: [ç”Ÿæˆ2000è¡Œä»£ç ]</span>
<span class="hljs-section">ä½ : [ç›´æ¥å¤åˆ¶ç²˜è´´]</span>
</code></pre>
<p><strong>âœ… æ­£ç¡®åšæ³•:</strong></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">ä½ : æˆ‘è¦åšä¸€ä¸ªå•†åŸå°ç¨‹åº,å…ˆå¸®æˆ‘è§„åˆ’æ¶æ„</span>

<span class="hljs-section">AI: [ç»™å‡ºæŠ€æœ¯æ–¹æ¡ˆ]</span>

<span class="hljs-section">ä½ : ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªæ–¹æ¡ˆ?æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹?</span>

<span class="hljs-section">AI: [è¯¦ç»†è§£é‡Š]</span>

<span class="hljs-section">ä½ : å¥½çš„,é‚£æˆ‘ä»¬å…ˆä»é¦–é¡µå¼€å§‹,ä½ èƒ½ç»™æˆ‘è®²è§£ä¸€ä¸‹é¦–é¡µçš„å®ç°æ€è·¯å—?</span>

<span class="hljs-section">AI: [è®²è§£æ€è·¯]</span>

<span class="hljs-section">ä½ : æ˜ç™½äº†,é‚£ç°åœ¨å¸®æˆ‘å®ç°é¦–é¡µ</span>
</code></pre>
<p><strong>å…³é”®ç‚¹:</strong></p>
<ul>
<li>å…ˆç†è§£,åå®ç°</li>
<li>åˆ†æ¨¡å—å¼€å‘,ä¸è¦ä¸€æ¬¡ç”Ÿæˆæ‰€æœ‰ä»£ç </li>
<li>è®© AI è§£é‡Šä¸ºä»€ä¹ˆè¿™æ ·å†™</li>
</ul>
<h4 data-id="heading-35">è¯¯åŒº 2ï¼šå¿½ç•¥é¡¹ç›®è§„èŒƒ</h4>
<p><strong>âŒ é”™è¯¯åšæ³•:</strong></p>
<p>æ¯ä¸ªåŠŸèƒ½éƒ½æ˜¯ç‹¬ç«‹å¼€å‘,æ²¡æœ‰ç»Ÿä¸€è§„èŒƒ:</p>
<ul>
<li>A åŠŸèƒ½ç”¨ class ç»„ä»¶</li>
<li>B åŠŸèƒ½ç”¨ function ç»„ä»¶</li>
<li>C åŠŸèƒ½æ ·å¼å†™åœ¨ style é‡Œ</li>
<li>D åŠŸèƒ½ä½¿ç”¨ Tailwind</li>
</ul>
<p><strong>âœ… æ­£ç¡®åšæ³•:</strong></p>
<p>å»ºç«‹<code>.cursorrules</code>è§„èŒƒ,æ‰€æœ‰ä»£ç é£æ ¼ç»Ÿä¸€:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># å¿…é¡»ä½¿ç”¨ Function Component + Hooks</span>

<span class="hljs-section"># å¿…é¡»ä½¿ç”¨ TypeScript</span>

<span class="hljs-section"># æ ·å¼ä¼˜å…ˆä½¿ç”¨ Tailwind CSS</span>

<span class="hljs-section"># ç»„ä»¶å‘½åä½¿ç”¨ PascalCase</span>

<span class="hljs-section"># æ–‡ä»¶å‘½åä½¿ç”¨ camelCase</span>
</code></pre>
<h4 data-id="heading-36">è¯¯åŒº 3ï¼šä¸åšä»£ç å®¡æŸ¥</h4>
<p><strong>âŒ é”™è¯¯åšæ³•:</strong></p>
<p>AI ç”Ÿæˆä»£ç åç›´æ¥ä½¿ç”¨,ä¸æ£€æŸ¥:</p>
<ul>
<li>å¯èƒ½æœ‰æ€§èƒ½é—®é¢˜</li>
<li>å¯èƒ½æœ‰å®‰å…¨éšæ‚£</li>
<li>å¯èƒ½ä¸ç¬¦åˆæœ€ä½³å®è·µ</li>
</ul>
<p><strong>âœ… æ­£ç¡®åšæ³•:</strong></p>
<p>è®© AI åšä»£ç å®¡æŸ¥:</p>
<pre><code class="hljs language-markdown" lang="markdown">ä½ : å¸®æˆ‘å®¡æŸ¥è¿™æ®µä»£ç ,é‡ç‚¹å…³æ³¨:
<span class="hljs-bullet">1.</span> æ€§èƒ½é—®é¢˜
<span class="hljs-bullet">2.</span> å®‰å…¨éšæ‚£
<span class="hljs-bullet">3.</span> æœ€ä½³å®è·µ
<span class="hljs-bullet">4.</span> å¯ç»´æŠ¤æ€§

[ç²˜è´´ä»£ç ]

AI: å‘ç°ä»¥ä¸‹é—®é¢˜:

<span class="hljs-bullet">1.</span> æ€§èƒ½é—®é¢˜:
<span class="hljs-bullet">   -</span> useEffectæ²¡æœ‰ä¾èµ–é¡¹,ä¼šå¯¼è‡´æ— é™å¾ªç¯
<span class="hljs-bullet">   -</span> å»ºè®®æ·»åŠ ä¾èµ–æ•°ç»„

<span class="hljs-bullet">2.</span> å®‰å…¨é—®é¢˜:
<span class="hljs-bullet">   -</span> ç”¨æˆ·è¾“å…¥æ²¡æœ‰åšXSSé˜²æŠ¤
<span class="hljs-bullet">   -</span> å»ºè®®ä½¿ç”¨DOMPurifyåº“

<span class="hljs-bullet">3.</span> æœ€ä½³å®è·µ:
<span class="hljs-bullet">   -</span> å»ºè®®ä½¿ç”¨useCallbackä¼˜åŒ–å‡½æ•°
<span class="hljs-bullet">   -</span> å»ºè®®ä½¿ç”¨useMemoä¼˜åŒ–è®¡ç®—

æ”¹è¿›åçš„ä»£ç :
[ç»™å‡ºæ”¹è¿›æ–¹æ¡ˆ]
</code></pre>
<h4 data-id="heading-37">è¯¯åŒº 4ï¼šæ»¥ç”¨ MCP å·¥å…·</h4>
<p><strong>âŒ é”™è¯¯åšæ³•:</strong></p>
<p>æ¯æ¬¡éƒ½è®© AI æœç´¢,å³ä½¿æ˜¯å·²çŸ¥é—®é¢˜:</p>
<pre><code class="hljs language-ini" lang="ini">ä½ : Taroæ€ä¹ˆè°ƒç”¨å¾®ä¿¡API?
<span class="hljs-section">[è§¦å‘web_search]</span>

ä½ : Taroæ€ä¹ˆé…ç½®è·¯ç”±?
<span class="hljs-section">[åˆè§¦å‘web_search]</span>

ä½ : Taroæ€ä¹ˆä½¿ç”¨ç”Ÿå‘½å‘¨æœŸ?
<span class="hljs-section">[å†æ¬¡web_search]</span>
</code></pre>
<p>è¿™æ ·åšçš„é—®é¢˜:</p>
<ul>
<li>æµªè´¹æœç´¢æ¬¡æ•°(å¯èƒ½æœ‰é…é¢é™åˆ¶)</li>
<li>å¢åŠ å“åº”æ—¶é—´</li>
<li>é™ä½å¼€å‘æ•ˆç‡</li>
</ul>
<p><strong>âœ… æ­£ç¡®åšæ³•:</strong></p>
<p>å»ºç«‹çŸ¥è¯†åº“,æŠŠå¸¸ç”¨ä¿¡æ¯æ•´ç†åˆ°<code>.cursorrules</code>:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Taro å¸¸ç”¨ API é€ŸæŸ¥</span>

<span class="hljs-section">## é¡µé¢å¯¼èˆª</span>

Taro.navigateTo({ url: '/pages/index/index' })

<span class="hljs-section">## å¾®ä¿¡ API è°ƒç”¨</span>

Taro.getUserInfo()
Taro.chooseImage()
Taro.uploadFile()

<span class="hljs-section">## ç”Ÿå‘½å‘¨æœŸ</span>

useEffect(() =&gt; {}, []) // componentDidMount
useEffect(() =&gt; () =&gt; {}, []) // componentWillUnmount
</code></pre>
<p><strong>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ web_search:</strong></p>
<ul>
<li>é‡åˆ°æ–°çš„ bug æˆ–é”™è¯¯</li>
<li>æŸ¥è¯¢æœ€æ–°çš„ API å˜åŒ–</li>
<li>å¯»æ‰¾ç‰¹å®šé—®é¢˜çš„ç¤¾åŒºè§£å†³æ–¹æ¡ˆ</li>
</ul>
<p><strong>ä»€ä¹ˆæ—¶å€™ä¸éœ€è¦:</strong></p>
<ul>
<li>åŸºç¡€æ¦‚å¿µå’Œè¯­æ³•</li>
<li>é¡¹ç›®å·²æœ‰çš„ä»£ç æ¨¡å¼</li>
<li>æ–‡æ¡£ä¸­æ˜ç¡®è¯´æ˜çš„å†…å®¹</li>
</ul>
<h3 data-id="heading-38">å®è·µ 3ï¼šå»ºç«‹é«˜æ•ˆçš„å¼€å‘æµç¨‹</h3>
<p><strong>æ ‡å‡†å¼€å‘æµç¨‹:</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> éœ€æ±‚åˆ†æ (5åˆ†é’Ÿ)
   â””â”€ è®©AIå¸®ä½ åˆ†æéœ€æ±‚,æ‹†åˆ†ä»»åŠ¡

<span class="hljs-bullet">2.</span> æŠ€æœ¯è®¾è®¡ (10åˆ†é’Ÿ)
   â””â”€ ç¡®å®šæŠ€æœ¯æ–¹æ¡ˆ,æ•°æ®ç»“æ„,æ¥å£å®šä¹‰

<span class="hljs-bullet">3.</span> UIè®¾è®¡/è¿˜åŸ (15åˆ†é’Ÿ)
   â”œâ”€ æœ‰è®¾è®¡ç¨¿: ç”¨understand<span class="hljs-emphasis">_imageåˆ†æ
   â””â”€ æ— è®¾è®¡ç¨¿: è®©AIç”Ÿæˆç°ä»£åŒ–UI

4. å‰ç«¯å¼€å‘ (30åˆ†é’Ÿ)
   â”œâ”€ è®©AIç”Ÿæˆç»„ä»¶éª¨æ¶
   â”œâ”€ è¡¥å……ä¸šåŠ¡é€»è¾‘
   â””â”€ æ·»åŠ äº¤äº’æ•ˆæœ

5. åç«¯å¼€å‘ (20åˆ†é’Ÿ)
   â”œâ”€ ç”¨CloudBase MCPåˆ›å»ºäº‘å‡½æ•°
   â”œâ”€ é…ç½®æ•°æ®åº“è§„åˆ™
   â””â”€ éƒ¨ç½²å¹¶æµ‹è¯•

6. è”è°ƒæµ‹è¯• (15åˆ†é’Ÿ)
   â”œâ”€ å‘ç°é—®é¢˜ç”¨web_</span>searchæœç´¢
   â”œâ”€ ç”¨CloudBase MCPæŸ¥çœ‹æ—¥å¿—
   â””â”€ å¿«é€Ÿå®šä½å’Œä¿®å¤

<span class="hljs-bullet">7.</span> ä»£ç å®¡æŸ¥ (10åˆ†é’Ÿ)
   â”œâ”€ è®©AIå®¡æŸ¥ä»£ç è´¨é‡
   â”œâ”€ ä¼˜åŒ–æ€§èƒ½å’Œå®‰å…¨
   â””â”€ ç»Ÿä¸€ä»£ç é£æ ¼

æ€»è®¡: çº¦1-2å°æ—¶å®Œæˆä¸€ä¸ªå®Œæ•´åŠŸèƒ½
</code></pre>
<p><strong>å¯¹æ¯”ä¼ ç»Ÿå¼€å‘:</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">ä¼ ç»Ÿå¼€å‘æµç¨‹:

<span class="hljs-bullet">1.</span> éœ€æ±‚åˆ†æ (30åˆ†é’Ÿ)
<span class="hljs-bullet">2.</span> æŸ¥é˜…æ–‡æ¡£ (1å°æ—¶)
<span class="hljs-bullet">3.</span> UIè®¾è®¡/è¿˜åŸ (2å°æ—¶)
<span class="hljs-bullet">4.</span> å‰ç«¯å¼€å‘ (3å°æ—¶)
<span class="hljs-bullet">5.</span> åç«¯å¼€å‘ (2å°æ—¶)
<span class="hljs-bullet">6.</span> è”è°ƒæµ‹è¯• (2å°æ—¶)
   â””â”€ é‡åˆ°é—®é¢˜åå¤æœç´¢,è¯•é”™
<span class="hljs-bullet">7.</span> ä»£ç å®¡æŸ¥ (1å°æ—¶)

æ€»è®¡: 1-2å¤©
</code></pre>
<p><strong>æ•ˆç‡æå‡:</strong> 10-15 å€ ğŸš€</p>
<h2 data-id="heading-39">ğŸ”¥ è¿›é˜¶æŠ€å·§ï¼šæˆä¸ºé«˜æ‰‹çš„ç§˜è¯€</h2>
<h3 data-id="heading-40">é«˜æ‰‹æŠ€å·§ 1ï¼šè‡ªå®šä¹‰ MCP å·¥å…·</h3>
<p>å¦‚æœä½ çš„é¡¹ç›®æœ‰ç‰¹æ®Šéœ€æ±‚,å¯ä»¥å¼€å‘è‡ªå·±çš„ MCP æœåŠ¡å™¨ã€‚</p>
<p><strong>ç¤ºä¾‹åœºæ™¯:</strong> ä½ æœ‰ä¸€ä¸ªå†…éƒ¨ API æ–‡æ¡£ç³»ç»Ÿ,å¸Œæœ› AI èƒ½ç›´æ¥æŸ¥è¯¢ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ:</strong> åˆ›å»ºä¸€ä¸ª MCP æœåŠ¡å™¨,æš´éœ²<code>query_docs</code>å·¥å…·:</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// docs-mcp-server.js</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Server</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@modelcontextprotocol/sdk/server/index.js'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">StdioServerTransport</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@modelcontextprotocol/sdk/server/stdio.js'</span>;

<span class="hljs-keyword">const</span> server = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Server</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'docs-server'</span>,
  <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>
}, {
  <span class="hljs-attr">capabilities</span>: {
    <span class="hljs-attr">tools</span>: {}
  }
});

<span class="hljs-comment">// æ³¨å†Œå·¥å…·</span>
server.<span class="hljs-title function_">setRequestHandler</span>(<span class="hljs-string">'tools/list'</span>, <span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">tools</span>: [{
      <span class="hljs-attr">name</span>: <span class="hljs-string">'query_docs'</span>,
      <span class="hljs-attr">description</span>: <span class="hljs-string">'æŸ¥è¯¢å†…éƒ¨APIæ–‡æ¡£'</span>,
      <span class="hljs-attr">inputSchema</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'object'</span>,
        <span class="hljs-attr">properties</span>: {
          <span class="hljs-attr">keyword</span>: {
            <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>,
            <span class="hljs-attr">description</span>: <span class="hljs-string">'æœç´¢å…³é”®è¯'</span>
          }
        }
      }
    }]
  };
});

<span class="hljs-comment">// å®ç°å·¥å…·é€»è¾‘</span>
server.<span class="hljs-title function_">setRequestHandler</span>(<span class="hljs-string">'tools/call'</span>, <span class="hljs-keyword">async</span> (request) =&gt; {
  <span class="hljs-keyword">if</span> (request.<span class="hljs-property">params</span>.<span class="hljs-property">name</span> === <span class="hljs-string">'query_docs'</span>) {
    <span class="hljs-keyword">const</span> { keyword } = request.<span class="hljs-property">params</span>.<span class="hljs-property">arguments</span>;
    <span class="hljs-comment">// æŸ¥è¯¢ä½ çš„æ–‡æ¡£ç³»ç»Ÿ</span>
    <span class="hljs-keyword">const</span> results = <span class="hljs-keyword">await</span> <span class="hljs-title function_">queryInternalDocs</span>(keyword);
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">content</span>: [{
        <span class="hljs-attr">type</span>: <span class="hljs-string">'text'</span>,
        <span class="hljs-attr">text</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(results)
      }]
    };
  }
});

<span class="hljs-comment">// å¯åŠ¨æœåŠ¡å™¨</span>
<span class="hljs-keyword">const</span> transport = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StdioServerTransport</span>();
<span class="hljs-keyword">await</span> server.<span class="hljs-title function_">connect</span>(transport);
</code></pre>
<p><strong>é…ç½®åˆ° Cursor:</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"docs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"/path/to/docs-mcp-server.js"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-41">é«˜æ‰‹æŠ€å·§ 2ï¼šæ‰¹é‡ç”Ÿæˆé¡µé¢</h3>
<p>å¦‚æœä½ çš„é¡¹ç›®æœ‰å¤§é‡ç›¸ä¼¼é¡µé¢,å¯ä»¥è®© AI æ‰¹é‡ç”Ÿæˆ:</p>
<pre><code class="hljs language-markdown" lang="markdown">ä½ : æˆ‘æœ‰ä¸€ä¸ªå•†åŸé¡¹ç›®,éœ€è¦ç”Ÿæˆè¿™äº›é¡µé¢:
<span class="hljs-bullet">-</span> å•†å“åˆ—è¡¨
<span class="hljs-bullet">-</span> å•†å“è¯¦æƒ…
<span class="hljs-bullet">-</span> è´­ç‰©è½¦
<span class="hljs-bullet">-</span> è®¢å•åˆ—è¡¨
<span class="hljs-bullet">-</span> è®¢å•è¯¦æƒ…
<span class="hljs-bullet">-</span> ä¸ªäººä¸­å¿ƒ

å®ƒä»¬çš„UIé£æ ¼ç›¸ä¼¼,éƒ½ä½¿ç”¨å¡ç‰‡å¸ƒå±€+Tailwind CSSã€‚
å¸®æˆ‘ç”Ÿæˆé¡µé¢éª¨æ¶å’Œè·¯ç”±é…ç½®ã€‚

AI: å¥½çš„,æˆ‘ä¼šä¸ºä½ ç”Ÿæˆ:
<span class="hljs-bullet">1.</span> 6ä¸ªé¡µé¢ç»„ä»¶
<span class="hljs-bullet">2.</span> ç»Ÿä¸€çš„è·¯ç”±é…ç½®
<span class="hljs-bullet">3.</span> é€šç”¨çš„å¸ƒå±€ç»„ä»¶
<span class="hljs-bullet">4.</span> å…±äº«çš„æ ·å¼å®šä¹‰

[å¼€å§‹ç”Ÿæˆ...]
</code></pre>
<h3 data-id="heading-42">é«˜æ‰‹æŠ€å·§ 3ï¼šè‡ªåŠ¨åŒ–æµ‹è¯•</h3>
<p>è®© AI å¸®ä½ å†™æµ‹è¯•ç”¨ä¾‹:</p>
<pre><code class="hljs language-javascript" lang="javascript">ä½ : ä¸º<span class="hljs-title class_">TodoList</span>ç»„ä»¶å†™å•å…ƒæµ‹è¯•,è¦†ç›–:
<span class="hljs-number">1.</span> æ¸²æŸ“æµ‹è¯•
<span class="hljs-number">2.</span> æ·»åŠ å¾…åŠ
<span class="hljs-number">3.</span> å®Œæˆå¾…åŠ
<span class="hljs-number">4.</span> åˆ é™¤å¾…åŠ
<span class="hljs-number">5.</span> è¾¹ç•Œæƒ…å†µ(ç©ºè¾“å…¥,ç½‘ç»œé”™è¯¯ç­‰)

<span class="hljs-attr">AI</span>: [ç”Ÿæˆæµ‹è¯•ä»£ç ]

<span class="hljs-keyword">import</span> { render, fireEvent, waitFor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@testing-library/react'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">TodoList</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./TodoList'</span>

<span class="hljs-title function_">describe</span>(<span class="hljs-string">'TodoList'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">it</span>(<span class="hljs-string">'åº”è¯¥æ­£ç¡®æ¸²æŸ“'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> { getByText } = <span class="hljs-title function_">render</span>(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">TodoList</span> /&gt;</span></span>)
    <span class="hljs-title function_">expect</span>(<span class="hljs-title function_">getByText</span>(<span class="hljs-string">'æˆ‘çš„å¾…åŠ'</span>)).<span class="hljs-title function_">toBeInTheDocument</span>()
  })

  <span class="hljs-title function_">it</span>(<span class="hljs-string">'åº”è¯¥èƒ½æ·»åŠ å¾…åŠ'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-comment">// ... æµ‹è¯•ä»£ç </span>
  })

  <span class="hljs-comment">// ... æ›´å¤šæµ‹è¯•</span>
})
</code></pre>
<h3 data-id="heading-43">é«˜æ‰‹æŠ€å·§ 4ï¼šæ€§èƒ½ä¼˜åŒ–</h3>
<p>è®© AI åˆ†ææ€§èƒ½ç“¶é¢ˆ:</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">ä½ : æˆ‘çš„å¾…åŠåˆ—è¡¨é¡µé¢åŠ è½½å¾ˆæ…¢,å¸®æˆ‘åˆ†ææ€§èƒ½é—®é¢˜</span>

<span class="hljs-section">AI: è®©æˆ‘çœ‹çœ‹ä»£ç ...</span>

<span class="hljs-section">å‘ç°ä»¥ä¸‹é—®é¢˜:</span>

1. useEffectä¾èµ–é¡¹è®¾ç½®ä¸å½“,å¯¼è‡´é¢‘ç¹é‡æ–°æ¸²æŸ“
2. åˆ—è¡¨é¡¹æ²¡æœ‰ä½¿ç”¨React.memoä¼˜åŒ–
3. äº‘å‡½æ•°æŸ¥è¯¢æ²¡æœ‰åšç¼“å­˜

<span class="hljs-section">å»ºè®®ä¼˜åŒ–æ–¹æ¡ˆ:</span>
[ç»™å‡ºè¯¦ç»†çš„ä¼˜åŒ–ä»£ç ]
</code></pre>
<h2 data-id="heading-44">ğŸ“š èµ„æºæ¨è</h2>
<h3 data-id="heading-45">å¿…è¯»æ–‡æ¡£</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.taro.zone" title="https://docs.taro.zone" target="_blank" ref="nofollow noopener noreferrer">Taro å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftailwindcss.com" title="https://tailwindcss.com" target="_blank" ref="nofollow noopener noreferrer">Tailwind CSS æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelcontextprotocol.io" title="https://modelcontextprotocol.io" target="_blank" ref="nofollow noopener noreferrer">MCP å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.cloudbase.net" title="https://docs.cloudbase.net" target="_blank" ref="nofollow noopener noreferrer">CloudBase æ–‡æ¡£</a></li>
</ul>
<h3 data-id="heading-46">ç¤¾åŒºèµ„æº</h3>
<ul>
<li>Taro GitHub: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FNervJS%2Ftaro" target="_blank" title="https://github.com/NervJS/taro" ref="nofollow noopener noreferrer">github.com/NervJS/taro</a></li>
<li>Taro ç‰©æ–™å¸‚åœº: <a href="https://link.juejin.cn?target=https%3A%2F%2Ftaro-ext.jd.com" target="_blank" title="https://taro-ext.jd.com" ref="nofollow noopener noreferrer">taro-ext.jd.com</a></li>
<li>MCP Servers: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmodelcontextprotocol%2Fservers" target="_blank" title="https://github.com/modelcontextprotocol/servers" ref="nofollow noopener noreferrer">github.com/modelcontexâ€¦</a></li>
</ul>
<h3 data-id="heading-47">æ¨èå·¥å…·</h3>
<ul>
<li><strong>Cursor</strong>: AI ç¼–ç¨‹ IDE</li>
<li><strong>MiniMax Coding Plan</strong>: web_search + understand_image</li>
<li><strong>CloudBase</strong>: è…¾è®¯äº‘å¼€å‘å¹³å°</li>
<li><strong>Tailwind CSS IntelliSense</strong>: VS Code/Cursor æ’ä»¶</li>
</ul>
<h2 data-id="heading-48">ğŸ‰ ç»“è¯­</h2>
<p>ä½¿ç”¨ MiniMax + Cursor + Taro çš„ç»„åˆ,ä½ ä¼šå‘ç°å¼€å‘å°ç¨‹åºä¸å†æ˜¯ç—›è‹¦çš„è¿‡ç¨‹,è€Œæ˜¯å……æ»¡åˆ›é€ åŠ›çš„æ—…ç¨‹:</p>
<ul>
<li><strong>ä¸å†å®³æ€•é‡åˆ° bug</strong> - web_search å¸®ä½ æ‰¾åˆ°è§£å†³æ–¹æ¡ˆ</li>
<li><strong>ä¸å†æ‹…å¿ƒè¿˜åŸè®¾è®¡ç¨¿</strong> - understand_image ä¸€é”®åˆ†æ</li>
<li><strong>ä¸å†å¤´ç–¼è°ƒè¯•äº‘å‡½æ•°</strong> - CloudBase MCP ç›´æ¥æŸ¥çœ‹æ—¥å¿—</li>
<li><strong>ä¸å†çº ç»“æ ·å¼å®ç°</strong> - Tailwind CSS æ‰€è§å³æ‰€å¾—</li>
</ul>
<p>è®°ä½:<strong>AI æ˜¯ä½ çš„åŠ©æ‰‹,ä¸æ˜¯æ›¿ä»£å“ã€‚</strong></p>
<p>æœ€å¥½çš„å¼€å‘æ¨¡å¼æ˜¯:<strong>AI å¤„ç†é‡å¤åŠ³åŠ¨,ä½ ä¸“æ³¨åˆ›é€ ä»·å€¼ã€‚</strong></p>
<p>ç°åœ¨,æ‰“å¼€ Cursor,å¼€å§‹ä½ çš„ AI è¾…åŠ©å¼€å‘ä¹‹æ—…å§! ğŸš€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬4ç«  Nest.jsä¸šåŠ¡åˆå¹¶]]></title>    <link>https://juejin.cn/post/7590128405351596032</link>    <guid>https://juejin.cn/post/7590128405351596032</guid>    <pubDate>2026-01-03T05:40:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590128405351596032" data-draft-id="7590128405351579648" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬4ç«  Nest.jsä¸šåŠ¡åˆå¹¶"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-03T05:40:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="XiaoYu2002"/> <meta itemprop="url" content="https://juejin.cn/user/251124329220663"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬4ç«  Nest.jsä¸šåŠ¡åˆå¹¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/251124329220663/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    XiaoYu2002
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-03T05:40:08.000Z" title="Sat Jan 03 2026 05:40:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;color:rgba(46,36,36,.87);overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{margin-bottom:5px;font-size:30px;font-weight:500}.markdown-body h1:before{content:"#";margin-right:10px;color:#1976d2}.markdown-body h2{font-size:28px;font-weight:400;border-left:5px solid #454545;margin-top:20px;padding-left:10px;transition:all .3s ease-in-out}.markdown-body h2:hover{border-color:#1976d2}.markdown-body h3{font-size:24px;font-weight:400;margin-top:15px;padding-bottom:0}.markdown-body h4{font-size:20px;font-weight:500}.markdown-body h5{font-size:16px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h2:first-letter,.markdown-body h3:first-letter,.markdown-body p:first-letter{text-transform:capitalize}.markdown-body em{text-emphasis:dot;text-emphasis-position:under}.markdown-body img{display:block;margin:0 auto!important;max-width:100%;border-radius:2px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#ddd,#999,#ddd);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body code{font-weight:900;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:.87em;padding:.065em .4em;background-color:#fbe5e1;color:#c0341d}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:0 4px}.markdown-body pre&gt;code{font-weight:400;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{margin:0 4px;text-decoration:none;color:#027fff;transition:all .3s ease-in-out;padding-bottom:4px;border-bottom:2px solid transparent}.markdown-body a:after{content:"";display:inline-block;width:18px;height:18px;margin-left:4px;vertical-align:middle;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMjdGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTkuODE1IDYuNDQ4bDEuOTM2LTEuOTM2YzEuMzM3LTEuMzM2IDMuNTgtMS4yNTkgNS4wMTMuMTczIDEuNDMyIDEuNDMyIDEuNTEgMy42NzYuMTczIDUuMDEzbC0xLjQ1MiAxLjQ1Mi0uOTY4Ljk2OGMtMS4zMzcgMS4zMzYtMy41ODEgMS4yNTktNS4wMTMtLjE3MyIvPjxwYXRoIGQ9Ik0xMS4yNjcgMTUuMzY3bC0xLjkzNiAxLjkzNmMtMS4zMzYgMS4zMzctMy41OCAxLjI2LTUuMDEyLS4xNzMtMS40MzItMS40MzItMS41MS0zLjY3Ni0uMTczLTUuMDEybDEuNDUyLTEuNDUyLjk2OC0uOTY4YzEuMzM2LTEuMzM3IDMuNTgtMS4yNiA1LjAxMi4xNzMiLz48L2c+PC9zdmc+);background-size:cover;background-repeat:no-repeat}.markdown-body a:hover{border-color:#027fff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body a.footnote-backref:after,.markdown-body a.footnote-ref:after,.markdown-body sup a:after{display:none!important}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border:2px solid #c6c6c6}.markdown-body table img{box-shadow:none!important}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body del{color:rgba(0,0,0,.6)}.markdown-body blockquote{position:relative;color:#666;padding:5px 23px 1px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:hsla(0,0%,78.4%,.12);transition:all .2s ease-in-out}.markdown-body blockquote:hover{border-color:#1976d2}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;font-size:24px;font-weight:800;line-height:24px;color:#cbcbcb;opacity:.6}.markdown-body blockquote:before{content:"â€œ";top:4px;left:6px}.markdown-body blockquote:after{content:"â€";right:8px;bottom:-8px}.markdown-body blockquote&gt;p,.markdown-body blockquote blockquote{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body details{outline:none;border:none;border-left:4px solid #1976d2;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary:hover::-webkit-details-marker{color:#1976d2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬4ç«  Nest.jsä¸šåŠ¡åˆå¹¶</h2>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œä¸åŒçš„ä¸šåŠ¡æ“ä½œéœ€è¦æ˜ç¡®çš„åé¦ˆä¿¡æ¯ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>ç™»å½•æ“ä½œè¿”å›æ¶ˆæ¯ä¸ºã€Œç™»å½•æˆåŠŸã€ï¼ŒçŠ¶æ€ç ä¸º 1ã€‚</li>
<li>æ³¨å†Œæ“ä½œè¿”å›æ¶ˆæ¯ä¸ºã€Œæ³¨å†ŒæˆåŠŸã€ï¼ŒçŠ¶æ€ç ä¸º 2ã€‚</li>
</ul>
<p><strong>çŠ¶æ€ç </strong> ä½œä¸ºä¸šåŠ¡é€»è¾‘åˆ¤æ–­çš„æ“ä½œæ ‡è¯†ï¼Œæ˜¯ä¸€ä¸ªæ•°å­—æˆ–å­—ç¬¦ä¸²æ ‡è¯†ç¬¦ã€‚ä¸åŒæ•°å€¼ä»£è¡¨ä¸åŒçš„ä¸šåŠ¡å«ä¹‰ï¼ˆå¦‚1è¡¨ç¤ºç™»å½•æˆåŠŸã€2è¡¨ç¤ºæ³¨å†ŒæˆåŠŸï¼‰ï¼Œå‰ç«¯æˆ–è°ƒç”¨æ–¹å¯æ ¹æ®å…·ä½“æ•°å€¼æ‰§è¡Œç›¸åº”çš„é€»è¾‘åˆ†æ”¯ã€‚<strong>ä¸šåŠ¡æè¿°</strong> åˆ™é¢å‘ç”¨æˆ·æˆ–å¼€å‘è€…ï¼Œç”¨è‡ªç„¶è¯­è¨€æ¸…æ™°ä¼ è¾¾æ“ä½œç»“æœï¼Œæä¾›ç›´è§‚çš„åé¦ˆä¿¡æ¯ï¼Œè¾…åŠ©ç†è§£çŠ¶æ€ç å¯¹åº”çš„å…·ä½“ä¸šåŠ¡åœºæ™¯ã€‚</p>
<p>åœ¨å…¨å±€æ‹¦æˆªå™¨çš„ä½¿ç”¨ä¸­ï¼Œmessage å’Œ code è¿™ä¸¤ä¸ªå‚æ•°éœ€è¦æ ¹æ®ä¸šåŠ¡éœ€æ±‚è¿›è¡Œè‡ªå®šä¹‰ã€‚ä¸‹é¢å°†ä»‹ç»å¦‚ä½•åœ¨ Nest.js ä¸­å¯¹è¿™ä¸¤ä¸ªå‚æ•°ï¼Œä»¥åŠæ›´å¤šåŒç±»å‚æ•°è¿›è¡Œè§„èŒƒåŒ–ç®¡ç†ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/interceptor/interceptor.interceptor.ts</span>
<span class="hljs-keyword">return</span> {
  <span class="hljs-attr">timestmap</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>(),
  <span class="hljs-attr">data</span>: <span class="hljs-title function_">transformBigInt</span>(data),
  <span class="hljs-attr">path</span>: request.<span class="hljs-property">url</span>,
  <span class="hljs-attr">message</span>: <span class="hljs-string">'success'</span>,<span class="hljs-comment">//ä¸šåŠ¡é€»è¾‘è‡ªå®šä¹‰</span>
  <span class="hljs-attr">code</span>: <span class="hljs-number">200</span>,<span class="hljs-comment">//ä¸šåŠ¡é€»è¾‘è‡ªå®šä¹‰</span>
  <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>,
};
</code></pre>
<p>è¦å¯¹å…¨å±€æ‹¦æˆªå™¨çš„ç»Ÿä¸€è¿”å›æ•°æ®æ ¼å¼ä¸­çš„ message å’Œ code è¿›è¡Œè‡ªå®šä¹‰ï¼Œåº”ä»ä¸“é—¨çš„ä¸šåŠ¡å®šä¹‰æ–‡ä»¶ä¸­å¼•å…¥è‡ªå®šä¹‰çš„ä¸šåŠ¡çŠ¶æ€ç å’Œæè¿°ä¿¡æ¯ï¼Œç„¶åä¼ é€’ç»™ message å’Œ code å‚æ•°ã€‚</p>
<p>åœ¨è‡ªå®šä¹‰å‚æ•°æ—¶ï¼Œæœ‰ä¸€ä¸ªé‡è¦åŸåˆ™ï¼šmessage å’Œ code çš„è‡ªå®šä¹‰æ•°æ®éœ€è¦ä¸ä¸šåŠ¡é€»è¾‘å±‚åˆ†ç¦»ã€‚è¿™äº›æ•°æ®åº”ä½œä¸ºçº¯ç²¹çš„é…ç½®ä¿¡æ¯ä½¿ç”¨ï¼Œç±»ä¼¼äº JSON é…ç½®æ–‡ä»¶ã€‚ä¸šåŠ¡å±‚åˆ™å»ºç«‹åœ¨ç»Ÿä¸€çš„ä¸šåŠ¡è§„èŒƒåŸºç¡€ä¸Šè¿›è¡Œè¿›ä¸€æ­¥å°è£…ã€‚</p>
<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªå“åº”æ ¼å¼æ¨¡å—ï¼ˆresponse moduleï¼‰å’ŒæœåŠ¡ï¼ˆresponse serviceï¼‰ï¼Œç”¨äºç»Ÿä¸€å¤„ç†ä¸šåŠ¡å“åº”ã€‚é€šè¿‡ Nest CLI å‘½ä»¤ç”Ÿæˆçš„ response.service.ts æ–‡ä»¶ä¼šè‡ªåŠ¨å…³è”åˆ° response.module.ts æ–‡ä»¶ä¸­ã€‚</p>
<pre><code class="hljs language-ts" lang="ts">nest g mo response
nest g s response
</code></pre>
<p>åœ¨ src ç›®å½•ä¸‹åˆ›å»º business æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»º index.ts æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶ä¸“é—¨å­˜æ”¾è‡ªå®šä¹‰çš„ä¸šåŠ¡çŠ¶æ€ç å’Œæè¿°ä¿¡æ¯ï¼Œæˆ‘ä»¬åªå…³å¿ƒæ¯ä¸ªä¸šåŠ¡æ“ä½œå¯¹åº”çš„çŠ¶æ€ç å’Œæ¶ˆæ¯å†…å®¹ã€‚åç»­æ–°å¢ä¸šåŠ¡éœ€æ±‚æ—¶ï¼Œåªéœ€åœ¨æ­¤æ–‡ä»¶ä¸­æ·»åŠ ç›¸åº”çš„çŠ¶æ€ç å’Œæ¶ˆæ¯ã€‚</p>
<p>æ³¨æ„ï¼šä¸šåŠ¡å­—æ®µå‘½åé€šå¸¸é‡‡ç”¨å¤§å†™å­—æ¯å’Œä¸‹åˆ’çº¿ç»„åˆçš„æ ¼å¼ï¼Œå³ã€ŒåŠŸèƒ½_çŠ¶æ€ã€çš„è¡¨è¾¾æ–¹å¼ï¼Œå¦‚ LOGIN_SUCCESSã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/business/index.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> business = {
  <span class="hljs-attr">LOGIN_SUCCESS</span>: {
    <span class="hljs-attr">code</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">message</span>: <span class="hljs-string">'ç™»å½•æˆåŠŸ'</span>
  },
  <span class="hljs-attr">LOGIN_ERROR</span>: {
    <span class="hljs-attr">code</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">message</span>: <span class="hljs-string">'ç™»å½•å¤±è´¥'</span>
  },
  <span class="hljs-attr">REGISTER_SUCCESS</span>: {
    <span class="hljs-attr">code</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">message</span>: <span class="hljs-string">'æ³¨å†ŒæˆåŠŸ'</span>
  },
}
</code></pre>
<p>åœ¨ response ç›®å½•çš„ response.service.ts æ–‡ä»¶ä¸­ç¼–å†™å…·ä½“çš„å“åº”æ ¼å¼é€»è¾‘ï¼Œå®šä¹‰æ“ä½œæˆåŠŸå’Œæ“ä½œå¤±è´¥æ—¶éœ€è¦è¿”å›çš„æ•°æ®ç»“æ„ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/response/response.service.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Injectable</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>;

<span class="hljs-meta">@Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ResponseService</span> {
  <span class="hljs-title function_">success</span>(<span class="hljs-params">data: <span class="hljs-built_in">any</span> = <span class="hljs-literal">null</span>, message: <span class="hljs-built_in">string</span> = <span class="hljs-string">'æ“ä½œæˆåŠŸ'</span>, code: <span class="hljs-built_in">number</span> = <span class="hljs-number">200</span></span>) {
    <span class="hljs-keyword">return</span> {
      data,
      message,
      code
    }
  }
  <span class="hljs-title function_">error</span>(<span class="hljs-params">message: <span class="hljs-built_in">string</span> = <span class="hljs-string">'æ“ä½œå¤±è´¥'</span>, code: <span class="hljs-built_in">number</span> = <span class="hljs-number">500</span></span>) {
    <span class="hljs-keyword">return</span> {
      message,
      code
    }
  }
}
</code></pre>
<p>å¦‚æœæˆ‘ä»¬æƒ³è¦ä½¿ç”¨è‡ªå®šä¹‰çš„ä¸šåŠ¡çŠ¶æ€ç ï¼Œè¦å¦‚ä½•ä½¿ç”¨ï¼Ÿå‡è®¾è¦åœ¨useræ¨¡å—çš„ä¸šåŠ¡å±‚ä¸­ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/user/user.service.tsï¼ˆä¸šåŠ¡å±‚ï¼‰</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Injectable</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CreateUserDto</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./dto/create-user.dto'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">UpdateUserDto</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./dto/update-user.dto'</span>;

<span class="hljs-meta">@Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
  <span class="hljs-title function_">create</span>(<span class="hljs-params">createUserDto: CreateUserDto</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'This action adds a new user'</span>;
  }

  <span class="hljs-title function_">findAll</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`This action returns all user`</span>;
  }
 	<span class="hljs-comment">// çœç•¥...</span>
}
</code></pre>
<p>å‡è®¾éœ€è¦åœ¨ user æ¨¡å—çš„ä¸šåŠ¡å±‚ä¸­ä½¿ç”¨è‡ªå®šä¹‰ä¸šåŠ¡çŠ¶æ€ç ï¼Œæ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p>ï¼ˆ1ï¼‰å¼•å…¥ä¾èµ–æ–‡ä»¶ï¼šåŒæ—¶å¼•å…¥ä¸šåŠ¡å®šä¹‰æ–‡ä»¶å’Œå“åº”æ ¼å¼æ–‡ä»¶ã€‚</p>
<p>ï¼ˆ2ï¼‰ä¾èµ–æ³¨å…¥ï¼šåœ¨ UserService ç±»ä¸­æ³¨å…¥ ResponseService ç±»ã€‚</p>
<p>ï¼ˆ3ï¼‰ä½¿ç”¨å“åº”æ ¼å¼ï¼šåœ¨ findAll() æ–¹æ³•ä¸­ä½¿ç”¨ ResponseService ç±»ï¼ŒæŒ‰ç…§ dataã€message å’Œ code çš„é¡ºåºä¼ å…¥æ•°æ®ã€‚</p>
<p>ï¼ˆ4ï¼‰å¼•ç”¨ä¸šåŠ¡å®šä¹‰ï¼šmessage å’Œ code ä» business ä¸šåŠ¡æ–‡ä»¶ä¸­è¯»å–ï¼Œæœ¬æ¬¡ã€Œç™»å½•æˆåŠŸæ“ä½œã€ä½¿ç”¨ä¸šåŠ¡å­—æ®µ LOGIN_SUCCESSã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/user/user.service.tsï¼ˆä¸šåŠ¡å±‚ï¼‰</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Injectable</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CreateUserDto</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./dto/create-user.dto'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ResponseService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'src/response/response.service'</span>;
<span class="hljs-keyword">import</span> { business } <span class="hljs-keyword">from</span> <span class="hljs-string">'src/business'</span>;
<span class="hljs-meta">@Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> responseService: ResponseService</span>) { }
  <span class="hljs-title function_">create</span>(<span class="hljs-params">createUserDto: CreateUserDto</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'This action adds a new user'</span>;
  }

  <span class="hljs-title function_">findAll</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ç™»å½•æˆåŠŸçš„æ¶ˆæ¯å†…å®¹å’Œä¸šåŠ¡ç </span>
    <span class="hljs-keyword">const</span> message = business.<span class="hljs-property">LOGIN_SUCCESS</span>.<span class="hljs-property">message</span>;
    <span class="hljs-keyword">const</span> code = business.<span class="hljs-property">LOGIN_SUCCESS</span>.<span class="hljs-property">code</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">responseService</span>.<span class="hljs-title function_">success</span>(<span class="hljs-string">'This action returns all user'</span>, message, code);
  }
}
</code></pre>
<p>æ­¤æ—¶å¯åŠ¨é¡¹ç›®ï¼Œè®¿é—® localhost:3000/user è·¯ç”±åº”è¿”å›ç™»å½•æˆåŠŸçš„ä¸šåŠ¡çŠ¶æ€ç ã€‚ä½†å¯èƒ½å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š</p>
<p>RROR [ExceptionHandler] UnknownDependenciesException [Error]: Nest can't resolve dependencies of the UserService (?). Please make sure that the argument ResponseService at index [0] is available in the UserModule context.</p>
<p>é”™è¯¯ä¿¡æ¯è¡¨æ˜ Nest æ— æ³•è§£æ UserService çš„ä¾èµ–ï¼Œéœ€è¦ç¡®ä¿ ResponseService åœ¨ UserModule ä¸Šä¸‹æ–‡ä¸­å¯ç”¨ã€‚è¿™æ˜¯å› ä¸º ResponseService æœªè¢«æ­£ç¡®å¯¼å‡ºå’Œå¯¼å…¥ã€‚</p>
<p>è§£å†³ä¸Šè¿°é—®é¢˜éœ€è¦å¦‚ä¸‹3ä¸ªæ­¥éª¤ï¼š</p>
<p>ï¼ˆ1ï¼‰å¯¼å‡ºæœåŠ¡ï¼šåœ¨ response.module.ts æ–‡ä»¶ä¸­å°† ResponseService æ·»åŠ åˆ° exports æ•°ç»„ä¸­ã€‚</p>
<p>ï¼ˆ2ï¼‰å¯¼å…¥æ¨¡å—ï¼šåœ¨ user.module.ts æ–‡ä»¶ä¸­å¯¼å…¥ ResponseModule æ¨¡å—ã€‚</p>
<p>ï¼ˆ3ï¼‰å®Œæˆæ³¨å…¥ï¼šæ­¤æ—¶ UserModule å¯ä»¥è¯»å–åˆ° ResponseModule å¯¼å‡ºçš„ ResponseServiceï¼ŒUserService æ‰èƒ½æ­£å¸¸ä½¿ç”¨ ResponseServiceã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/response/response.module.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Module</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ResponseService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./response.service'</span>;

<span class="hljs-meta">@Module</span>({
  <span class="hljs-attr">providers</span>: [<span class="hljs-title class_">ResponseService</span>],
  <span class="hljs-attr">exports</span>: [<span class="hljs-title class_">ResponseService</span>]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ResponseModule</span> { }
</code></pre>
<p>åœ¨user.module.ts æ–‡ä»¶ä¸­å¯¼å…¥ ResponseModule æ¨¡å—ï¼Œå®Œæˆå¯¼å…¥æ¨¡å—ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/user/user.module.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Module</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">UserService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./user.service'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">UserController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./user.controller'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ResponseModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'src/response/response.module'</span>;
<span class="hljs-meta">@Module</span>({
  <span class="hljs-attr">imports</span>: [<span class="hljs-title class_">ResponseModule</span>],
  <span class="hljs-attr">controllers</span>: [<span class="hljs-title class_">UserController</span>],
  <span class="hljs-attr">providers</span>: [<span class="hljs-title class_">UserService</span>],
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserModule</span> {}
</code></pre>
<p>å®Œæˆä»¥ä¸Šé…ç½®åï¼Œé‡æ–°å¯åŠ¨é¡¹ç›®è®¿é—® <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A3000%2Fuser%25EF%25BC%258C%25E5%258F%25AF%25E8%25A7%2581" target="_blank" title="http://localhost:3000/user%EF%BC%8C%E5%8F%AF%E8%A7%81" ref="nofollow noopener noreferrer">http://localhost:3000/userï¼Œå¯è§</a> dataã€message å’Œ code ä¸‰ä¸ªä¸šåŠ¡å­—æ®µçš„ä¿¡æ¯éƒ½æˆåŠŸè¾“å‡ºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e493da6ae5644f4fb8f16e816d7ab870~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWGlhb1l1MjAwMg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768023608&amp;x-signature=w%2F7WSxTj0An%2BQq3PDYrLHbWmsGQ%3D" alt="image-20251213233534395" loading="lazy"/></p>
<p align="center">
 <b> å›¾4-1 ä¸šåŠ¡å­—æ®µä¿¡æ¯æ’å…¥</b>
</p>
<p>æ¥ä¸‹æ¥åªéœ€ä»å…¨å±€æ‹¦æˆªå™¨ä¸­é‡æ–°ç»Ÿä¸€æ•°æ®æ ¼å¼å³å¯ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/interceptor/interceptor.interceptor.ts</span>
<span class="hljs-keyword">return</span> {
  <span class="hljs-attr">timestmap</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>(),
  <span class="hljs-attr">data</span>: <span class="hljs-title function_">transformBigInt</span>(data.<span class="hljs-property">data</span>) ?? <span class="hljs-literal">null</span>,
  <span class="hljs-attr">path</span>: request.<span class="hljs-property">url</span>,
  <span class="hljs-attr">message</span>: data.<span class="hljs-property">message</span> ?? <span class="hljs-string">'success'</span>,<span class="hljs-comment">//ä¸šåŠ¡é€»è¾‘è‡ªå®šä¹‰</span>
  <span class="hljs-attr">code</span>: data.<span class="hljs-property">code</span> ?? <span class="hljs-number">200</span>,<span class="hljs-comment">//ä¸šåŠ¡é€»è¾‘è‡ªå®šä¹‰</span>
  <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>,
};
</code></pre>
<p>ç»Ÿä¸€ä¸šåŠ¡å­—æ®µæ ¼å¼å¦‚å›¾4-2æ‰€ç¤ºã€‚</p>
<p><img src="http://tuchuang.xiaoyu2002.cn/picture/image-20251213234031967.png" alt="image-20251213234031967" loading="lazy"/></p>
<p align="center">
 <b> å›¾4-2 ç»Ÿä¸€ä¸šåŠ¡å­—æ®µæ ¼å¼</b>
</p>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼ŒNest.js çš„ä¸šåŠ¡çŠ¶æ€ç å’Œä¸šåŠ¡çŠ¶æ€æè¿°å·²æˆåŠŸåº”ç”¨åˆ°å¯¹åº”çš„ user æ¨¡å—æ¥å£ä¸­ã€‚ä½†åœ¨å®ç°è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‘ç°æ¯ä¸ªä½¿ç”¨ ResponseService çš„æ¨¡å—éƒ½éœ€è¦ï¼š</p>
<p>ï¼ˆ1ï¼‰åœ¨æä¾›æ¨¡å—ä¸­å¯¼å‡ºæœåŠ¡ã€‚</p>
<p>ï¼ˆ2ï¼‰åœ¨ä½¿ç”¨æ¨¡å—ä¸­å¯¼å…¥æ¨¡å—ã€‚</p>
<p>å¦‚æœé¡¹ç›®æœ‰åå‡ ä¸ªæ¨¡å—éƒ½éœ€è¦ä½¿ç”¨ï¼Œè¿™ç§é‡å¤å¯¼å…¥å¯¼å‡ºçš„æ“ä½œä¼šå˜å¾—ç¹çã€‚ä¸ºæ­¤ï¼Œå¯ä»¥å°† response æ¨¡å—æ³¨å†Œä¸ºå…¨å±€æ¨¡å—ï¼Œè¿™æ ·åœ¨æ•´ä¸ªé¡¹ç›®ä¸­éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€åœ¨æ¯ä¸ªä½¿ç”¨æ¨¡å—çš„ module.ts æ–‡ä»¶ä¸­é‡å¤å¯¼å…¥ã€‚</p>
<p>å°† response æ¨¡å—æ³¨å†Œä¸ºå…¨å±€æ¨¡å—çš„æ–¹æ³•ä¸ºä»¥ä¸‹2æ­¥ï¼š</p>
<p>ï¼ˆ1ï¼‰ä» @nestjs/common ä¸­å¯¼å…¥ Global è£…é¥°å™¨</p>
<p>ï¼ˆ2ï¼‰å°† @Global() è£…é¥°å™¨åº”ç”¨åˆ° ResponseModule ä¸Š</p>
<p>æ³¨å†Œä¸ºå…¨å±€æ¨¡å—åï¼ŒResponseService å¯ä»¥åœ¨ä»»ä½•æ¨¡å—ä¸­ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€åœ¨å„ä½¿ç”¨æ¨¡å—ä¸­å¯¼å…¥ ResponseModuleã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/response/response.module.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Module</span>, <span class="hljs-title class_">Global</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ResponseService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./response.service'</span>;

<span class="hljs-meta">@Global</span>()
<span class="hljs-meta">@Module</span>({
  <span class="hljs-attr">providers</span>: [<span class="hljs-title class_">ResponseService</span>],
  <span class="hljs-attr">exports</span>: [<span class="hljs-title class_">ResponseService</span>]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ResponseModule</span> { }
</code></pre>
<p>æ­¤æ—¶å¦‚æœæˆ‘ä»¬å›åˆ°user.module.tsæ–‡ä»¶ä¸­ï¼Œå°†åˆšæ‰æ³¨å†Œçš„ResponseModuleåˆ é™¤ï¼Œé¡¹ç›®ä¹Ÿä¸ä¼šæŠ¥é”™ã€‚</p>
<p>å¯¹äºå…¨å±€æ¨¡å—çš„ä½¿ç”¨ï¼Œè‹¥æˆ‘æƒ³åœ¨xiaoyuæ¨¡å—ä¸­ä½¿ç”¨ResponseServiceï¼Œä¸»è¦æ­¥éª¤å¦‚ä¸‹ï¼Œæ— éœ€åœ¨XiaoyuModuleä¸­å¯¼å…¥ResponseModuleï¼š</p>
<p>ï¼ˆ1ï¼‰åœ¨ xiaoyu.service.ts æ–‡ä»¶ä¸­å¯¼å…¥ ResponseService æœåŠ¡ç±»å’Œ business ä¸šåŠ¡å¸¸é‡ã€‚</p>
<p>ï¼ˆ2ï¼‰åœ¨ XiaoyuService çš„æ„é€ å‡½æ•°ä¸­æ³¨å…¥ ResponseServiceï¼Œå¹¶ä½¿ç”¨å…¶æ–¹æ³•æŒ‰ç…§ä¸šåŠ¡æ•°æ®æ ¼å¼è§„èŒƒå¤„ç†æ•°æ®ã€‚</p>
<p>ï¼ˆ3ï¼‰åœ¨ xiaoyu.controller.ts æ–‡ä»¶çš„æ§åˆ¶å™¨ä¸­æ³¨å…¥ XiaoyuServiceï¼Œå¹¶åœ¨è·¯ç”±å¤„ç†å™¨ä¸­è°ƒç”¨å…¶ä¸šåŠ¡æ–¹æ³•è¿”å›å¤„ç†ç»“æœã€‚</p>
<p>æ³¨æ„ï¼šè™½ç„¶ ResponseService æ˜¯å…¨å±€æ¨¡å—æ— éœ€å¯¼å…¥ï¼Œä½† XiaoyuModule ä»éœ€è¦åœ¨è‡ªèº«çš„ providers ä¸­æ³¨å†Œ XiaoyuServiceï¼Œåœ¨ controllers ä¸­æ³¨å†Œ XiaoyuControllerã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/xiaoyu/xiaoyu.service.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Injectable</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ResponseService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'src/response/response.service'</span>;
<span class="hljs-keyword">import</span> { business } <span class="hljs-keyword">from</span> <span class="hljs-string">'src/business'</span>;
<span class="hljs-meta">@Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">XiaoyuService</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> responseService: ResponseService</span>) {}
  <span class="hljs-title function_">getHello</span>(): <span class="hljs-built_in">any</span> {
    <span class="hljs-keyword">const</span> message = business.<span class="hljs-property">LOGIN_SUCCESS</span>.<span class="hljs-property">message</span>;
    <span class="hljs-keyword">const</span> code = business.<span class="hljs-property">LOGIN_SUCCESS</span>.<span class="hljs-property">code</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">responseService</span>.<span class="hljs-title function_">success</span>(<span class="hljs-string">'This action returns all user'</span>, message, code);
  }
}
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/xiaoyu/xiaoyu.controller.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Controller</span>, <span class="hljs-title class_">Get</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">XiaoyuService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./xiaoyu.service'</span>;

<span class="hljs-meta">@Controller</span>(<span class="hljs-string">'xiaoyu'</span>)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">XiaoyuController</span> {
  <span class="hljs-comment">// ä¾èµ–æ³¨å…¥</span>
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> xiaoyuService: XiaoyuService</span>) {}
  <span class="hljs-meta">@Get</span>()
  <span class="hljs-title function_">getHello</span>(): <span class="hljs-built_in">any</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">xiaoyuService</span>.<span class="hljs-title function_">getHello</span>();
  }
}
</code></pre>
<p>xiaoyuæ¨¡å—ä¸šåŠ¡åˆå¹¶å¦‚å›¾4-3æ‰€ç¤ºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/645775c74ffc435c948ff37e77723d1a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWGlhb1l1MjAwMg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768023608&amp;x-signature=q5Re8lEqcDI%2BLazzUOvZRW0vCuo%3D" alt="image-20251214004117303" loading="lazy"/></p>
<p align="center">
 <b> å›¾4-3 xiaoyuæ¨¡å—ä¸šåŠ¡åˆå¹¶</b>
</p>
<p>ä»¥ä¸Šå°±æ˜¯Nest.jsä¸šåŠ¡å±‚çš„æ‰€æœ‰å†…å®¹ï¼Œæˆ‘ä»¬å›é¡¾ä¸€ä¸‹ï¼ŒNest.js çš„ä¸šåŠ¡å¤„ç†åˆ†ä¸º business å’Œ response ä¸¤ä¸ªéƒ¨åˆ†ï¼š</p>
<p>ï¼ˆ1ï¼‰business æ–‡ä»¶å¤¹ï¼šé›†ä¸­ç®¡ç†ä¸šåŠ¡çŠ¶æ€ç å’Œæè¿°ä¿¡æ¯ã€‚</p>
<p>ï¼ˆ2ï¼‰response æ¨¡å—ï¼šä¸“é—¨ç”¨äºæ„å»ºç»Ÿä¸€çš„å“åº”æ ¼å¼ã€‚</p>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œè¿™ä¸¤è€…çš„å˜åŒ–é¢‘ç‡ä¸åŒï¼šå“åº”æ ¼å¼é€šå¸¸ä¿æŒç¨³å®šï¼Œè€Œä¸šåŠ¡çŠ¶æ€ç ä¼šéšç€ä¸šåŠ¡å‘å±•ä¸æ–­æ–°å¢æˆ–è°ƒæ•´ã€‚å› æ­¤éœ€è¦å°†ä¸¤è€…åˆ†ç¦»ç®¡ç†ã€‚response æ¨¡å—çš„åŠŸèƒ½ä¸å…¨å±€æ‹¦æˆªå™¨ä¸­ç»Ÿä¸€è¿”å›å®¢æˆ·ç«¯å“åº”æ ¼å¼çš„åŠŸèƒ½æ˜¯ä¸€è‡´çš„ï¼ŒåŒºåˆ«åœ¨äºæˆ‘ä»¬å°†è‡ªå®šä¹‰éƒ¨åˆ†æ‹†åˆ†å‡ºæ¥ï¼Œæé«˜äº†çµæ´»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œæ›´ç¬¦åˆå®é™…é¡¹ç›®çš„éœ€æ±‚å˜åŒ–ã€‚</p>
<p>è¿™ç§æ¶æ„è®¾è®¡çš„ä¼˜åŠ¿åœ¨äºï¼šä¸šåŠ¡çŠ¶æ€å®šä¹‰ä¸å“åº”æ ¼å¼æ„å»ºèŒè´£æ˜ç¡®ï¼ˆå•ä¸€èŒè´£ï¼‰ï¼›ä¸šåŠ¡çŠ¶æ€å˜åŒ–ä¸å½±å“å“åº”æ ¼å¼ï¼Œå“åº”æ ¼å¼è°ƒæ•´ä¸å½±å“ä¸šåŠ¡é€»è¾‘ï¼›ç»Ÿä¸€çš„å“åº”æ ¼å¼å¯è·¨æ¨¡å—ã€è·¨é¡¹ç›®ä½¿ç”¨ï¼›æ–°å¢ä¸šåŠ¡çŠ¶æ€åªéœ€åœ¨ business æ–‡ä»¶ä¸­æ·»åŠ ï¼Œä¸å½±å“ç°æœ‰ç»“æ„ã€‚é€šè¿‡è¿™ç§è§„èŒƒåŒ–ç®¡ç†ï¼Œå¯ä»¥æ„å»ºå‡ºæ¸…æ™°ã€å¯ç»´æŠ¤ã€å¯æ‰©å±•çš„ä¸šåŠ¡å±‚æ¶æ„ï¼Œé€‚åº”å„ç§å¤æ‚çš„ä¸šåŠ¡åœºæ™¯éœ€æ±‚ã€‚</p>
<p>é™¤äº†messageå’Œcodeè¿™ä¸¤ä¸ªå­—æ®µï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æœ‰æƒé™ä¸å®‰å…¨æ§åˆ¶ï¼ˆä¾‹å¦‚IPç™½åå•ã€é¢‘ç‡é™åˆ¶ã€é»‘ç™½åå•ï¼‰ã€æ•°æ®æŒä¹…åŒ–ï¼ˆåˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤ä¸šåŠ¡æ•°æ®ï¼‰ã€ä¸šåŠ¡æµç¨‹ï¼ˆå¤šçº§å®¡æ‰¹ã€ä¼šç­¾ã€æˆ–ç­¾é€»è¾‘ï¼‰ã€ç¬¬ä¸‰æ–¹é›†æˆï¼ˆæ”¯ä»˜å®ã€å¾®ä¿¡æ”¯ä»˜å›è°ƒå¤„ç†ï¼‰ã€ç›‘æ§ä¸ç»Ÿè®¡ï¼ˆæ¥å£å“åº”æ—¶é—´ã€æˆåŠŸç‡ï¼‰ç­‰å¤šæ–¹é¢åŸºäºå®é™…ä¸šåŠ¡éœ€æ±‚å»å¢æ·»ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[RocketMQ ä¸ºä»€ä¹ˆè¯»å¾—è¿™ä¹ˆå¿«ï¼Ÿæ­ç§˜ ConsumeQueue çš„å¼‚æ­¥ç´¢å¼•è®¾è®¡]]></title>    <link>https://juejin.cn/post/7590403249560797199</link>    <guid>https://juejin.cn/post/7590403249560797199</guid>    <pubDate>2026-01-03T10:15:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590403249560797199" data-draft-id="7590213554798723107" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="RocketMQ ä¸ºä»€ä¹ˆè¯»å¾—è¿™ä¹ˆå¿«ï¼Ÿæ­ç§˜ ConsumeQueue çš„å¼‚æ­¥ç´¢å¼•è®¾è®¡"/> <meta itemprop="keywords" content="åç«¯,RocketMQ,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-03T10:15:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¸æµªæ— ç—•"/> <meta itemprop="url" content="https://juejin.cn/user/2834988091055719"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            RocketMQ ä¸ºä»€ä¹ˆè¯»å¾—è¿™ä¹ˆå¿«ï¼Ÿæ­ç§˜ ConsumeQueue çš„å¼‚æ­¥ç´¢å¼•è®¾è®¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2834988091055719/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¸æµªæ— ç—•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-03T10:15:04.000Z" title="Sat Jan 03 2026 10:15:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    60
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€ï¼šå†™å¾—å¿«ä¸å¤Ÿï¼Œè¿˜è¦è¯»å¾—å¿«</h2>
<p><a href="https://juejin.cn/post/7589962224795713574" target="_blank" title="https://juejin.cn/post/7589962224795713574">ä¸Šä¸€ç¯‡</a>æˆ‘ä»¬è§£å†³äº†å†™å…¥é—®é¢˜ï¼šCommitLogé¡ºåºå†™ï¼Œè®©RocketMQå†™å…¥TPSè¾¾åˆ°åä¸‡çº§åˆ«ã€‚</p>
<p>ä½†å†™å¾—å¿«åªæ˜¯ç¬¬ä¸€æ­¥ã€‚<strong>æ¶ˆè´¹è€…æ€ä¹ˆå¿«é€Ÿè¯»å–æ¶ˆæ¯ï¼Ÿ</strong></p>
<p>è®¾æƒ³ä¸€ä¸ªåœºæ™¯ï¼š</p>
<ul>
<li>CommitLogæœ‰100GBæ•°æ®ï¼ŒåŒ…å«1000ä¸ªTopic</li>
<li>Consumeråªå…³å¿ƒå…¶ä¸­ä¸€ä¸ªTopicï¼ˆ1GBæ•°æ®ï¼‰</li>
<li>ä»å¤´æ‰«æï¼Ÿè¯»å–100GBï¼Œä¸¢å¼ƒ99GBï¼Ÿ</li>
</ul>
<p>å®æµ‹æ•°æ®ï¼šæ‰«æ100MBçš„CommitLogæ‰¾2ä¸‡æ¡æ¶ˆæ¯ï¼Œè€—æ—¶102msã€‚å¦‚æœæ˜¯100GBï¼Ÿé‚£å°±æ˜¯10ä¸‡msï¼Œå³100ç§’ã€‚</p>
<p>å®Œå…¨ä¸å¯è¡Œã€‚</p>
<p><strong>RocketMQçš„ç­”æ¡ˆï¼šConsumeQueueå¼‚æ­¥ç´¢å¼•ã€‚</strong></p>
<ul>
<li>20å­—èŠ‚å®šé•¿ç»“æ„</li>
<li>æŸ¥è¯¢é€Ÿåº¦æå‡34å€ï¼ˆ102ms â†’ 3msï¼‰</li>
<li>æ•°æ®é‡å‡å°‘272å€ï¼ˆ100MB â†’ 0.37MBï¼‰</li>
</ul>
<p>ä»Šå¤©æ‹†è§£ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š</p>
<ol>
<li><strong>ConsumeQueueæ˜¯ä»€ä¹ˆï¼Ÿ</strong> - 20å­—èŠ‚ç´¢å¼•å¦‚ä½•è®¾è®¡</li>
<li><strong>ä¸ºä»€ä¹ˆå¼‚æ­¥æ„å»ºï¼Ÿ</strong> - å†™å…¥æ€§èƒ½å¦‚ä½•ä¿æŒ</li>
<li><strong>æ€ä¹ˆé…åˆå·¥ä½œï¼Ÿ</strong> - è¯»å†™å¦‚ä½•åˆ†ç¦»</li>
</ol>
<h2 data-id="heading-1">ä¸€ã€ConsumeQueueæ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<h3 data-id="heading-2">1.1 æ ¸å¿ƒè®¾è®¡</h3>
<p>ConsumeQueueæ˜¯CommitLogçš„ç´¢å¼•ï¼Œé‡‡ç”¨<strong>å®šé•¿ã€å¼‚æ­¥æ„å»º</strong>çš„è®¾è®¡ã€‚</p>
<p>æ¯ä¸ªTopicçš„æ¯ä¸ªQueueéƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ConsumeQueueæ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-variable">$ROCKETMQ_HOME</span>/store/consumequeue/
â”œâ”€â”€ TopicA/
â”‚   â”œâ”€â”€ 0/                    â† Queue-0çš„ç´¢å¼•
â”‚   â”‚   â””â”€â”€ 00000000000000000000
â”‚   â”œâ”€â”€ 1/                    â† Queue-1çš„ç´¢å¼•
â”‚   â”‚   â””â”€â”€ 00000000000000000000
â””â”€â”€ TopicB/
    â”œâ”€â”€ 0/
    â”‚   â””â”€â”€ 00000000000000000000
</code></pre>
<h3 data-id="heading-3">1.2 ç´¢å¼•æ¡ç›®ç»“æ„</h3>
<p>æ¯ä¸ªç´¢å¼•æ¡ç›®å›ºå®š20å­—èŠ‚ï¼ŒåŒ…å«3ä¸ªå­—æ®µï¼š</p>
<pre><code class="hljs language-scss" lang="scss">+-------------------+-------------------+-------------------+
|   CommitLogåç§»é‡  |     æ¶ˆæ¯å¤§å°       |      TagsCode     |
|      (<span class="hljs-number">8</span>å­—èŠ‚)       |     (<span class="hljs-number">4</span>å­—èŠ‚)       |      (<span class="hljs-number">8</span>å­—èŠ‚)      |
+-------------------+-------------------+-------------------+
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆæ˜¯20å­—èŠ‚ï¼Ÿ</strong></p>
<p>å®šé•¿è®¾è®¡çš„å¥½å¤„ï¼š</p>
<ol>
<li><strong>å¿«é€Ÿå®šä½</strong> - ç¬¬Næ¡ç´¢å¼•ä½ç½® = N Ã— 20ï¼ŒO(1)å¤æ‚åº¦</li>
<li><strong>ç©ºé—´é«˜æ•ˆ</strong> - 1KBæ¶ˆæ¯ â†’ 20å­—èŠ‚ç´¢å¼•ï¼Œå‹ç¼©æ¯”51:1</li>
<li><strong>æ‰¹é‡è¯»å–</strong> - è¿ç»­å­˜å‚¨ï¼ŒPageCacheå‹å¥½</li>
</ol>
<h3 data-id="heading-4">1.3 è¯»å†™åˆ†ç¦»çš„è®¾è®¡</h3>
<p>ConsumeQueueå’ŒCommitLogåˆ†å·¥æ˜ç¡®ï¼š</p>
<p><strong>CommitLogï¼šç‰©ç†å­˜å‚¨å±‚</strong></p>
<ul>
<li>æ‰€æœ‰æ¶ˆæ¯é¡ºåºå†™å…¥</li>
<li>ä¸å…³å¿ƒTopicå’ŒQueue</li>
<li>åªç®¡è¿½åŠ ï¼Œå†™å…¥æå¿«</li>
</ul>
<p><strong>ConsumeQueueï¼šé€»è¾‘ç´¢å¼•å±‚</strong></p>
<ul>
<li>æŒ‰Topic/Queueç»„ç»‡</li>
<li>åªå­˜20å­—èŠ‚ç´¢å¼•</li>
<li>å¿«é€Ÿå®šä½æ¶ˆæ¯</li>
</ul>
<p><strong>åä½œæ–¹å¼ï¼šå†™å…¥å¿«é€Ÿï¼Œè¯»å–ç²¾å‡†</strong></p>
<h2 data-id="heading-5">äºŒã€ä¸ºä»€ä¹ˆä¸ç›´æ¥æ‰«æCommitLogï¼Ÿ</h2>
<h3 data-id="heading-6">2.1 æ€§èƒ½å¯¹æ¯”æµ‹è¯•</h3>
<p>æˆ‘å†™äº†ä¸€ä¸ªç®€åŒ–ç‰ˆçš„å®ç°ï¼Œå¯¹æ¯”ä¸¤ç§æŸ¥è¯¢æ–¹å¼ï¼š</p>
<p><strong>æµ‹è¯•åœºæ™¯ï¼š</strong></p>
<ul>
<li>æ¶ˆæ¯æ€»æ•°ï¼š10ä¸‡æ¡ï¼Œæ¯æ¡1KB</li>
<li>Topicæ•°é‡ï¼š5ä¸ªï¼ˆæ¶ˆæ¯éšæœºåˆ†å¸ƒï¼‰</li>
<li>æŸ¥è¯¢ç›®æ ‡ï¼šæ‰¾å‡ºTopic-2çš„æ‰€æœ‰æ¶ˆæ¯ï¼ˆçº¦2ä¸‡æ¡ï¼‰</li>
</ul>
<p><strong>æ–¹å¼Aï¼šç›´æ¥æ‰«æCommitLog</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä»å¤´åˆ°å°¾æ‰«æï¼Œé€æ¡è§£æ</span>
<span class="hljs-keyword">for</span> (Message msg : commitLog.scanAll()) {
    <span class="hljs-keyword">if</span> (msg.getTopic().equals(<span class="hljs-string">"Topic-2"</span>)) {
        results.add(msg);
    }
}
</code></pre>
<p><strong>æ–¹å¼Bï¼šé€šè¿‡ConsumeQueueç´¢å¼•</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è¯»å–ç´¢å¼•ï¼Œç›´æ¥å®šä½</span>
<span class="hljs-type">ConsumeQueue</span> <span class="hljs-variable">queue</span> <span class="hljs-operator">=</span> getQueue(<span class="hljs-string">"Topic-2"</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">for</span> (IndexEntry entry : queue.getAll()) {
    <span class="hljs-type">Message</span> <span class="hljs-variable">msg</span> <span class="hljs-operator">=</span> commitLog.read(entry.offset, entry.size);
    results.add(msg);
}
</code></pre>
<h3 data-id="heading-7">2.2 æµ‹è¯•ç»“æœ</h3>





























<table><thead><tr><th>æŒ‡æ ‡</th><th>ç›´æ¥æ‰«æ</th><th>ç´¢å¼•æŸ¥è¯¢</th><th>å·®è·</th></tr></thead><tbody><tr><td>æŸ¥è¯¢è€—æ—¶</td><td>102 ms</td><td>3 ms</td><td><strong>34å€</strong></td></tr><tr><td>æ‰«ææ•°æ®é‡</td><td>100.00 MB</td><td>0.37 MB</td><td><strong>272å€</strong></td></tr><tr><td>æ‰¾åˆ°æ¶ˆæ¯æ•°</td><td>19,384æ¡</td><td>19,384æ¡</td><td>ç›¸åŒ</td></tr></tbody></table>
<p><strong>ä¸ºä»€ä¹ˆå·®è·è¿™ä¹ˆå¤§ï¼Ÿ</strong></p>
<ul>
<li><strong>æ•°æ®é‡å·®å¼‚</strong>ï¼š100MB vs 0.37MBï¼Œå‡å°‘272å€IO</li>
<li><strong>è§£æå¼€é”€</strong>ï¼šå…¨éƒ¨9.6ä¸‡æ¡ vs ç›®æ ‡1.9ä¸‡æ¡ï¼Œå‡å°‘5å€è§£æ</li>
<li><strong>ç¼“å­˜å‘½ä¸­</strong>ï¼šç´¢å¼•å°å…¨åœ¨å†…å­˜ï¼ŒCommitLogå¤ªå¤§å‘½ä¸­ç‡ä½</li>
</ul>
<h3 data-id="heading-8">2.3 ä¸åŒæ¶ˆæ¯æ•°é‡ä¸‹çš„æ€§èƒ½</h3>



































<table><thead><tr><th>æ¶ˆæ¯æ€»æ•°</th><th>ç›´æ¥æ‰«æ</th><th>ç´¢å¼•æŸ¥è¯¢</th><th>æ€§èƒ½æå‡</th></tr></thead><tbody><tr><td>1ä¸‡</td><td>14 ms</td><td>1 ms</td><td>14å€</td></tr><tr><td>5ä¸‡</td><td>55 ms</td><td>2 ms</td><td>27.5å€</td></tr><tr><td>10ä¸‡</td><td>76 ms</td><td>1 ms</td><td>76å€</td></tr><tr><td>20ä¸‡</td><td>59 ms</td><td>1 ms</td><td>59å€</td></tr></tbody></table>
<p><strong>è¶‹åŠ¿åˆ†æï¼š</strong></p>
<ul>
<li>ç›´æ¥æ‰«æï¼šè€—æ—¶éšæ¶ˆæ¯æ•°é‡çº¿æ€§å¢é•¿</li>
<li>ç´¢å¼•æŸ¥è¯¢ï¼šè€—æ—¶åŸºæœ¬æ’å®šï¼ˆ1-2msï¼‰</li>
<li>æ¶ˆæ¯è¶Šå¤šï¼Œç´¢å¼•ä¼˜åŠ¿è¶Šæ˜æ˜¾</li>
</ul>
<p><strong>å…³äº20ä¸‡æ¡æ•°æ®çš„è¯´æ˜ï¼š</strong>
ç»†å¿ƒçš„è¯»è€…ä¼šå‘ç°ï¼Œ20ä¸‡æ¡æ¶ˆæ¯çš„æ‰«æè€—æ—¶ï¼ˆ59msï¼‰åè€Œæ¯”10ä¸‡æ¡ï¼ˆ76msï¼‰å°‘ã€‚è¿™ä¸ç¬¦åˆçº¿æ€§å¢é•¿çš„é¢„æœŸã€‚</p>
<p>åŸå› æ˜¯<strong>PageCacheæ•ˆåº”</strong>ï¼š</p>
<ul>
<li>æµ‹è¯•æŒ‰1ä¸‡â†’5ä¸‡â†’10ä¸‡â†’20ä¸‡é¡ºåºæ‰§è¡Œ</li>
<li>å‰é¢çš„æµ‹è¯•è®©å¤§é‡æ•°æ®è¿›å…¥PageCache</li>
<li>20ä¸‡æµ‹è¯•æ—¶ï¼Œå¾ˆå¤šæ•°æ®å·²åœ¨å†…å­˜ä¸­</li>
<li>ç£ç›˜IOå¤§å¹…å‡å°‘ï¼Œè€—æ—¶åè€Œé™ä½</li>
</ul>
<p>è¿™ä¸ªç°è±¡æ°å¥½è¯´æ˜ï¼š</p>
<ol>
<li>PageCacheå¯¹é¡ºåºè¯»å–çš„ä¼˜åŒ–å¾ˆå¼º</li>
<li>çœŸå®ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå†·å¯åŠ¨æ—¶æ€§èƒ½ä¼šæ›´å·®</li>
<li>ç´¢å¼•æŸ¥è¯¢å› ä¸ºæ•°æ®é‡å°ï¼Œä¸å—PageCacheæ³¢åŠ¨å½±å“</li>
</ol>
<p><strong>ç»“è®ºï¼šç›´æ¥æ‰«æCommitLogæ˜¯ä¸å¯è¡Œçš„ã€‚ç”Ÿäº§ç¯å¢ƒç™¾ä¸‡ã€åƒä¸‡çº§æ¶ˆæ¯ï¼Œæ‰«æè€—æ—¶ä¼šè¾¾åˆ°ç§’çº§ç”šè‡³åˆ†é’Ÿçº§ï¼Œå®Œå…¨æ— æ³•æ¥å—ã€‚</strong></p>
<p><strong>ä¸¤ç§æŸ¥è¯¢æ–¹å¼å¯¹æ¯”ï¼š</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[ConsumeræŸ¥è¯¢Topic-2æ¶ˆæ¯] --&gt; B{é€‰æ‹©æ–¹å¼}
    B --&gt;|æ–¹å¼A| C[æ‰«æ100MB CommitLog]
    B --&gt;|æ–¹å¼B| D[è¯»å–0.37MBç´¢å¼•]
    C --&gt; E[è§£æ96,465æ¡æ¶ˆæ¯]
    D --&gt; F[è§£æ19,384æ¡æ¶ˆæ¯]
    E --&gt; G[è€—æ—¶102ms]
    F --&gt; H[è€—æ—¶3ms]
    
    style C fill:#ffe1e1
    style D fill:#e8f5e9
    style G fill:#ffe1e1
    style H fill:#e8f5e9
</code></pre>
<h2 data-id="heading-9">ä¸‰ã€å¼‚æ­¥æ„å»ºæœºåˆ¶</h2>
<h3 data-id="heading-10">3.1 ä¸ºä»€ä¹ˆè¦å¼‚æ­¥ï¼Ÿ</h3>
<p>åŒæ­¥æ„å»ºä¼šæ‹–ç´¯å†™å…¥æ€§èƒ½ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åŒæ­¥æ„å»ºï¼ˆæ€§èƒ½å·®ï¼‰</span>
commitLog.append(msg);
consumeQueue.buildIndex(msg);  <span class="hljs-comment">// â† é˜»å¡ç­‰å¾…</span>
<span class="hljs-keyword">return</span> success;

<span class="hljs-comment">// å¼‚æ­¥æ„å»ºï¼ˆé«˜æ€§èƒ½ï¼‰</span>
commitLog.append(msg);
<span class="hljs-keyword">return</span> success;  <span class="hljs-comment">// â† ç«‹å³è¿”å›ï¼Œåå°çº¿ç¨‹å¼‚æ­¥æ„å»º</span>
</code></pre>
<p><strong>é—®é¢˜ï¼š</strong></p>
<ul>
<li>åŒæ­¥æ„å»ºéœ€è¦ç­‰å¾…ç´¢å¼•å®Œæˆ</li>
<li>ç´¢å¼•æ–‡ä»¶åˆ†æ•£ï¼Œå†™å…¥å˜éšæœºIO</li>
<li>1000ä¸ªTopic = 1000ä¸ªç´¢å¼•æ–‡ä»¶åŒæ—¶å†™ï¼Œæ€§èƒ½å´©æºƒ</li>
</ul>
<p><strong>å¼‚æ­¥ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>å†™å…¥ç«‹å³è¿”å›ï¼Œä¸ç­‰ç´¢å¼•</li>
<li>åå°çº¿ç¨‹ç»Ÿä¸€å¤„ç†ï¼Œæ‰¹é‡é«˜æ•ˆ</li>
<li>å†™å…¥æ€§èƒ½100%ä¿ç•™</li>
</ul>
<h3 data-id="heading-11">3.2 ReputMessageServiceå®ç°</h3>
<p>RocketMQä½¿ç”¨ReputMessageServiceçº¿ç¨‹å¼‚æ­¥åˆ†å‘æ¶ˆæ¯åˆ°ConsumeQueueã€‚</p>
<p><strong>å¼‚æ­¥æ„å»ºæµç¨‹ï¼š</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[Producerå†™å…¥] --&gt; B[CommitLog]
    B -.-&gt;|ç«‹å³è¿”å›| A
    C[ReputServiceåå°çº¿ç¨‹] -.-&gt;|è½®è¯¢| B
    C --&gt; D[è¯»å–æ–°æ¶ˆæ¯]
    D --&gt; E[è§£ææ¶ˆæ¯]
    E --&gt; F[å†™å…¥ConsumeQueue]
    
    style B fill:#e1f5ff
    style C fill:#fff4e1
    style F fill:#ffe1e1
</code></pre>
<p><strong>æ ¸å¿ƒé€»è¾‘ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ReputMessageService</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> <span class="hljs-variable">reputFromOffset</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;  <span class="hljs-comment">// å·²å¤„ç†ä½ç½®</span>
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">while</span> (running) {
            <span class="hljs-type">long</span> <span class="hljs-variable">maxOffset</span> <span class="hljs-operator">=</span> commitLog.getMaxOffset();
            
            <span class="hljs-keyword">if</span> (reputFromOffset &lt; maxOffset) {
                <span class="hljs-comment">// è§£ææ¶ˆæ¯å¹¶åˆ†å‘åˆ°ConsumeQueue</span>
                <span class="hljs-type">DispatchRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> parseMessage(reputFromOffset);
                doDispatch(request);
                reputFromOffset += request.getMsgSize();
            } <span class="hljs-keyword">else</span> {
                Thread.sleep(<span class="hljs-number">1</span>);  <span class="hljs-comment">// æ— æ–°æ¶ˆæ¯ï¼Œä¼‘çœ 1ms</span>
            }
        }
    }
}
</code></pre>
<p><strong>å…³é”®å‚æ•°ï¼š</strong></p>
<ul>
<li>è½®è¯¢é—´éš”ï¼š1ms</li>
<li>æ¯æ¬¡å¤„ç†ï¼š1æ¡æ¶ˆæ¯</li>
<li>å»¶è¿Ÿçª—å£ï¼š&lt;10ms</li>
</ul>
<h3 data-id="heading-12">3.3 å»¶è¿Ÿçª—å£éªŒè¯</h3>
<p>å†™å…¥1000æ¡æ¶ˆæ¯çš„è¿‡ç¨‹ä¸­ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">å†™å…¥æœŸé—´ï¼ˆä¿æŒ20-50æ¡å»¶è¿Ÿï¼‰ï¼š</span>
  <span class="hljs-attr">CommitLog:</span>    <span class="hljs-number">200</span><span class="hljs-string">æ¡</span> <span class="hljs-string">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ</span>
  <span class="hljs-attr">ConsumeQueue:</span> <span class="hljs-number">180</span><span class="hljs-string">æ¡</span> <span class="hljs-string">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ</span>
  <span class="hljs-string">å»¶è¿Ÿ:</span> <span class="hljs-number">20</span><span class="hljs-string">æ¡</span> <span class="hljs-string">(~20ms)</span>

<span class="hljs-string">å†™å…¥åœæ­¢å10msï¼ˆå®Œå…¨è¿½ä¸Šï¼‰ï¼š</span>
  <span class="hljs-attr">CommitLog:</span>    <span class="hljs-number">1000</span><span class="hljs-string">æ¡</span> <span class="hljs-string">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ</span>
  <span class="hljs-attr">ConsumeQueue:</span> <span class="hljs-number">1000</span><span class="hljs-string">æ¡</span> <span class="hljs-string">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ</span>
  <span class="hljs-string">å»¶è¿Ÿ:</span> <span class="hljs-number">0</span><span class="hljs-string">æ¡</span>
</code></pre>
<p><strong>å»¶è¿Ÿç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>å†™å…¥æœŸé—´ä¿æŒå°å¹…å»¶è¿Ÿï¼ˆ20-50æ¡æ¶ˆæ¯ï¼‰</li>
<li>åœæ­¢å†™å…¥å10mså†…å®Œå…¨è¿½ä¸Š</li>
<li>å¯¹æ¶ˆè´¹è€…å½±å“å¯å¿½ç•¥ï¼ˆæ¶ˆè´¹è€…æœ¬èº«å¼‚æ­¥ï¼‰</li>
</ul>
<h2 data-id="heading-13">å››ã€è®¾è®¡æƒè¡¡</h2>
<h3 data-id="heading-14">4.1 ä¸‰ç§æ–¹æ¡ˆå¯¹æ¯”</h3>





































<table><thead><tr><th>æ–¹æ¡ˆ</th><th>å†™å…¥æ€§èƒ½</th><th>è¯»å–æ€§èƒ½</th><th>å¤æ‚åº¦</th><th>ä¸€è‡´æ€§</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>ç›´æ¥æ‰«æCommitLog</td><td>é«˜</td><td>æä½</td><td>ç®€å•</td><td>å¼ºä¸€è‡´</td><td>ä¸é€‚ç”¨</td></tr><tr><td>åŒæ­¥æ„å»ºConsumeQueue</td><td>ä½</td><td>é«˜</td><td>ä¸­ç­‰</td><td>å¼ºä¸€è‡´</td><td>å°è§„æ¨¡</td></tr><tr><td>å¼‚æ­¥æ„å»ºConsumeQueue</td><td>é«˜</td><td>é«˜</td><td>è¾ƒé«˜</td><td>æœ€ç»ˆä¸€è‡´</td><td>å¤§è§„æ¨¡ç”Ÿäº§</td></tr></tbody></table>
<p><strong>ä¸ºä»€ä¹ˆé€‰æ‹©å¼‚æ­¥æ„å»ºï¼Ÿ</strong></p>
<p>æ ¸å¿ƒæƒè¡¡ï¼š</p>
<ul>
<li>å†™å…¥æ€§èƒ½100%ä¿ç•™ï¼ˆä¸ç­‰ç´¢å¼•ï¼‰</li>
<li>æŸ¥è¯¢æ€§èƒ½34å€æå‡ï¼ˆé€šè¿‡ç´¢å¼•ï¼‰</li>
<li>å»¶è¿Ÿ&lt;10mså¯æ¥å—ï¼ˆæ¶ˆè´¹è€…æœ¬èº«å¼‚æ­¥ï¼‰</li>
</ul>
<p><strong>ä¸€è‡´æ€§é—®é¢˜ï¼š</strong></p>
<p>Consumerä¸ä¼šè¯»åˆ°ä¸ä¸€è‡´æ•°æ®ï¼Œå› ä¸ºï¼š</p>
<ol>
<li>Consumerå®šæœŸæ‹‰å–ï¼ˆé»˜è®¤æ¯ç§’1æ¬¡ï¼‰ï¼Œæ„ŸçŸ¥ä¸åˆ°10mså»¶è¿Ÿ</li>
<li>Offsetç®¡ç†ä¿è¯ä¸æ¼æ¶ˆæ¯ï¼Œåªæ˜¯æ–°æ¶ˆæ¯æ™šå‡ æ¯«ç§’å¯è§</li>
<li>Brokeré‡å¯åReputServiceä»æ–­ç‚¹ç»§ç»­æ„å»º</li>
</ol>
<p>æœ€åæƒ…å†µï¼šå®•æœºç¬é—´ä¸¢å¤±&lt;1msçš„ç´¢å¼•ï¼Œé‡å¯åé‡å»ºï¼Œå¯¹æ¶ˆè´¹è€…é€æ˜ã€‚</p>
<h2 data-id="heading-15">äº”ã€CommitLogä¸ConsumeQueueçš„åä½œ</h2>
<h3 data-id="heading-16">5.1 å®Œæ•´çš„æ¶ˆæ¯æµè½¬</h3>
<p><strong>å†™å…¥è·¯å¾„ï¼ˆProducer â†’ Brokerï¼‰ï¼š</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[Producer] --&gt;|1.å‘é€æ¶ˆæ¯| B[CommitLog]
    B --&gt;|2.ç«‹å³è¿”å›| A
    B -.-&gt;|3.å¼‚æ­¥é€šçŸ¥| C[ReputService]
    C --&gt;|4.æ„å»ºç´¢å¼•| D[ConsumeQueue]
    
    style B fill:#e1f5ff
    style C fill:#fff4e1
    style D fill:#ffe1e1
</code></pre>
<ol>
<li>Producerå‘é€æ¶ˆæ¯åˆ°Broker</li>
<li>Brokerå†™å…¥CommitLogï¼ˆé¡ºåºè¿½åŠ ï¼‰</li>
<li>è¿”å›æˆåŠŸç»™Producer</li>
<li>ReputServiceå¼‚æ­¥è¯»å–CommitLog</li>
<li>æ„å»ºConsumeQueueç´¢å¼•</li>
</ol>
<p><strong>è¯»å–è·¯å¾„ï¼ˆConsumer â†’ Brokerï¼‰ï¼š</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[Consumer] --&gt;|1.è¯·æ±‚æ¶ˆæ¯| B[ConsumeQueue]
    B --&gt;|2.è¿”å›offset| A
    A --&gt;|3.è¯»å–æ¶ˆæ¯| C[CommitLog]
    C --&gt;|4.è¿”å›æ•°æ®| A
    
    style B fill:#ffe1e1
    style C fill:#e1f5ff
</code></pre>
<ol>
<li>Consumerå‘Brokerè¯·æ±‚æ¶ˆæ¯</li>
<li>BrokeræŸ¥è¯¢ConsumeQueueç´¢å¼•</li>
<li>è·å¾—æ¶ˆæ¯åœ¨CommitLogçš„offsetå’Œsize</li>
<li>ä»CommitLogè¯»å–å®Œæ•´æ¶ˆæ¯</li>
<li>è¿”å›ç»™Consumer</li>
</ol>
<h3 data-id="heading-17">5.2 è®¾è®¡æ€æƒ³</h3>
<p><strong>CommitLogï¼ˆå†™å…¥ä¾§ï¼‰ï¼š</strong></p>
<ul>
<li>é¡ºåºå†™ï¼Œå……åˆ†åˆ©ç”¨ç£ç›˜æ€§èƒ½</li>
<li>ä¸å…³å¿ƒTopicå’ŒQueue</li>
<li>åªç®¡è¿½åŠ ï¼Œç®€å•é«˜æ•ˆ</li>
</ul>
<p><strong>ConsumeQueueï¼ˆè¯»å–ä¾§ï¼‰ï¼š</strong></p>
<ul>
<li>æŒ‰Topic/Queueç»„ç»‡</li>
<li>å®šé•¿ç´¢å¼•ï¼Œå¿«é€Ÿå®šä½</li>
<li>åªè¯»å…³å¿ƒçš„æ¶ˆæ¯</li>
</ul>
<p>æ ¸å¿ƒï¼š<strong>è¯»å†™åˆ†ç¦»ï¼Œå„è‡ªä¼˜åŒ–åˆ°æè‡´ã€‚</strong></p>
<h3 data-id="heading-18">5.3 æ–‡ä»¶å¸ƒå±€</h3>
<pre><code class="hljs language-perl" lang="perl">store/
â”œâ”€â”€ commitlog/
â”‚   â”œâ”€â”€ <span class="hljs-number">00000000000000000000</span>           <span class="hljs-comment"># 1GB</span>
â”‚   â””â”€â”€ <span class="hljs-number">00000001073741</span>824              <span class="hljs-comment"># 1GB</span>
â”‚
â”œâ”€â”€ consumequeue/
â”‚   â”œâ”€â”€ TopicA/
â”‚   â”‚   â”œâ”€â”€ <span class="hljs-number">0</span>/<span class="hljs-number">00000000000000000000</span>    <span class="hljs-comment"># 5.7MB (30ä¸‡æ¡)</span>
â”‚   â”‚   â””â”€â”€ <span class="hljs-number">1</span>/<span class="hljs-number">00000000000000000000</span>
â”‚   â””â”€â”€ TopicB/
â”‚       â”œâ”€â”€ <span class="hljs-number">0</span>/<span class="hljs-number">00000000000000000000</span>
â”‚       â””â”€â”€ <span class="hljs-number">1</span>/<span class="hljs-number">00000000000000000000</span>
â”‚
â””â”€â”€ <span class="hljs-keyword">index</span>/                             <span class="hljs-comment"># æŒ‰KeyæŸ¥è¯¢ï¼ˆå¯é€‰ï¼‰</span>
    â””â”€â”€ <span class="hljs-number">20250103120000000</span>
</code></pre>
<p><strong>ç©ºé—´å ç”¨ï¼ˆ10ä¸‡æ¡æ¶ˆæ¯ï¼‰ï¼š</strong></p>
<ul>
<li>CommitLogï¼š100 MBï¼ˆå®Œæ•´æ¶ˆæ¯ï¼‰</li>
<li>ConsumeQueueï¼š1.9 MBï¼ˆç´¢å¼•ï¼‰</li>
<li>ç´¢å¼•å¼€é”€ï¼šä»…1.9%</li>
</ul>
<h2 data-id="heading-19">å…­ã€å‡åï¼šä¸»æ•°æ® + å¼‚æ­¥ç´¢å¼•æ¨¡å¼</h2>
<p>ConsumeQueueçš„è®¾è®¡ï¼Œæœ¬è´¨æ˜¯<strong>ä¸»æ•°æ® + å¼‚æ­¥ç´¢å¼•</strong>æ¨¡å¼ã€‚</p>
<h3 data-id="heading-20">6.1 æ ¸å¿ƒæ¨¡å¼</h3>
<pre><code class="hljs">ä¸»æ•°æ®å±‚ï¼ˆå†™ä¼˜åŒ–ï¼‰ â†’ å¼‚æ­¥æ„å»º â†’ ç´¢å¼•å±‚ï¼ˆè¯»ä¼˜åŒ–ï¼‰
</code></pre>
<p><strong>è®¾è®¡åŸåˆ™ï¼š</strong></p>
<ol>
<li>ä¸»æ•°æ®ä¼˜å…ˆå†™å…¥ - ä¿è¯ä¸ä¸¢</li>
<li>ç´¢å¼•å¼‚æ­¥æ„å»º - ä¸é˜»å¡</li>
<li>è¯»å–èµ°ç´¢å¼• - å¿«é€Ÿå®šä½</li>
<li>æœ€ç»ˆä¸€è‡´ - å¯æ¥å—å»¶è¿Ÿ</li>
</ol>
<h3 data-id="heading-21">6.2 å…¸å‹åº”ç”¨</h3>
<p><strong>MySQLçš„äºŒçº§ç´¢å¼•ï¼š</strong></p>
<ul>
<li>ä¸»é”®ç´¢å¼• = CommitLogï¼ˆæ•°æ®å­˜å‚¨ï¼‰</li>
<li>äºŒçº§ç´¢å¼• = ConsumeQueueï¼ˆæŸ¥è¯¢åŠ é€Ÿï¼‰</li>
<li>Change Bufferå¼‚æ­¥åˆå¹¶ç´¢å¼•</li>
</ul>
<p><strong>Elasticsearchçš„å€’æ’ç´¢å¼•ï¼š</strong></p>
<ul>
<li>_sourceå­—æ®µ = åŸå§‹æ–‡æ¡£ï¼ˆCommitLogï¼‰</li>
<li>å€’æ’ç´¢å¼• = æŸ¥è¯¢ç´¢å¼•ï¼ˆConsumeQueueï¼‰</li>
<li>refreshé—´éš”æ§åˆ¶å»¶è¿Ÿï¼ˆé»˜è®¤1ç§’ï¼‰</li>
</ul>
<p><strong>æ•°æ®ä»“åº“çš„ç‰©åŒ–è§†å›¾ï¼š</strong></p>
<ul>
<li>æ˜ç»†è¡¨ = åŸå§‹æ•°æ®</li>
<li>èšåˆè¡¨ = æŸ¥è¯¢è§†å›¾</li>
<li>å®šæ—¶ä»»åŠ¡è®¡ç®—æ›´æ–°</li>
</ul>
<h3 data-id="heading-22">6.3 é€‚ç”¨æ¡ä»¶</h3>
<p><strong>é€‚åˆï¼š</strong></p>
<ul>
<li>å†™å¤šè¯»å°‘ï¼ŒæŸ¥è¯¢å¿…é¡»å¿«</li>
<li>å¯å®¹å¿ç§’çº§å»¶è¿Ÿ</li>
<li>ç´¢å¼•æ„å»ºä»£ä»·é«˜</li>
</ul>
<p><strong>ä¸é€‚åˆï¼š</strong></p>
<ul>
<li>å¼ºä¸€è‡´æ€§è¦æ±‚</li>
<li>æŸ¥è¯¢ç®€å•ï¼ˆå…¨è¡¨æ‰«æä¹Ÿèƒ½æ¥å—ï¼‰</li>
</ul>
<h2 data-id="heading-23">æ€»ç»“</h2>
<p>ConsumeQueueç”¨20å­—èŠ‚å®šé•¿ç´¢å¼• + å¼‚æ­¥æ„å»ºï¼Œè§£å†³äº†CommitLogçš„è¯»å–é—®é¢˜ã€‚</p>
<p><strong>æ ¸å¿ƒæ•°æ®ï¼š</strong></p>
<ul>
<li>æŸ¥è¯¢é€Ÿåº¦ï¼šæå‡34å€ï¼ˆ102ms â†’ 3msï¼‰</li>
<li>æ•°æ®é‡ï¼šå‡å°‘272å€ï¼ˆ100MB â†’ 0.37MBï¼‰</li>
<li>å¼‚æ­¥å»¶è¿Ÿï¼š&lt;10msï¼Œå¯¹æ¶ˆè´¹è€…é€æ˜</li>
</ul>
<p><strong>è®¾è®¡ç²¾é«“ï¼š</strong></p>
<ul>
<li>å®šé•¿ç´¢å¼•ï¼šoffset(8) + size(4) + tagsCode(8) = 20å­—èŠ‚</li>
<li>å¼‚æ­¥æ„å»ºï¼šå†™å…¥ä¸ç­‰å¾…ï¼Œåå°ReputServiceè½®è¯¢å¤„ç†</li>
<li>è¯»å†™åˆ†ç¦»ï¼šCommitLogå†™å…¥æè‡´ï¼ŒConsumeQueueæŸ¥è¯¢æè‡´</li>
</ul>
<p><strong>é€šç”¨æ¨¡å¼ï¼š</strong></p>
<p>ä¸»æ•°æ® + å¼‚æ­¥ç´¢å¼• = å†™å¿« + è¯»å¿« + æœ€ç»ˆä¸€è‡´</p>
<p>è¿™ä¸ªæ¨¡å¼åœ¨MySQLäºŒçº§ç´¢å¼•ã€ESå€’æ’ç´¢å¼•ã€æ•°æ®ä»“åº“ç‰©åŒ–è§†å›¾ä¸­éƒ½èƒ½çœ‹åˆ°ã€‚</p>
<p>æ ¸å¿ƒæ˜¯ï¼š<strong>ç”¨å¯æ¥å—çš„å»¶è¿Ÿï¼Œæ¢å–è¯»å†™æ€§èƒ½çš„æè‡´ã€‚</strong></p>
<p>ä¸‹ä¸€ç¯‡ï¼šåˆ·ç›˜ç­–ç•¥ â€”â€” SYNC_FLUSHå’ŒASYNC_FLUSHåˆ°åº•å·®å¤šå°‘æ€§èƒ½ï¼Ÿ</p>
<hr/>
<p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Frocketmq.apache.org%2F" target="_blank" title="https://rocketmq.apache.org/" ref="nofollow noopener noreferrer">RocketMQå®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fapache%2Frocketmq%2Fblob%2Fmaster%2Fdocs%2Fcn%2Fdesign.md" target="_blank" title="https://github.com/apache/rocketmq/blob/master/docs/cn/design.md" ref="nofollow noopener noreferrer">RocketMQ Design</a></li>
<li>ã€ŠRocketMQæŠ€æœ¯å†…å¹•ã€‹ç¬¬ä¸‰ç«  - æ¶ˆæ¯å­˜å‚¨</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MyBatisæ—¥å¿—æ¨¡å—è¯¦è§£]]></title>    <link>https://juejin.cn/post/7590452143016771622</link>    <guid>https://juejin.cn/post/7590452143016771622</guid>    <pubDate>2026-01-03T09:08:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590452143016771622" data-draft-id="7590503651115958322" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MyBatisæ—¥å¿—æ¨¡å—è¯¦è§£"/> <meta itemprop="keywords" content="MyBatis"/> <meta itemprop="datePublished" content="2026-01-03T09:08:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¨ä¸­é£˜è¡çš„è®°å¿†"/> <meta itemprop="url" content="https://juejin.cn/user/694547077666606"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MyBatisæ—¥å¿—æ¨¡å—è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/694547077666606/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¨ä¸­é£˜è¡çš„è®°å¿†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-03T09:08:19.000Z" title="Sat Jan 03 2026 09:08:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä½œä¸ºæŒä¹…å±‚æ¡†æ¶çš„ä½¼ä½¼è€…ï¼ŒMyBatisçš„æ—¥å¿—æ¨¡å—ä¸ºSQLè°ƒè¯•ã€æ€§èƒ½ä¼˜åŒ–æä¾›äº†å¼ºå¤§æ”¯æŒã€‚æœ¬æ–‡å°†å¸¦ä½ æ·±å…¥ç†è§£å…¶è®¾è®¡ç²¾é«“ä¸å®æˆ˜æŠ€å·§ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€æ•´ä½“æ¶æ„ï¼šæ—¥å¿—æ¨¡å—çš„æˆ˜ç•¥ä½ç½®</h2>
<p>åœ¨æ·±å…¥æ¢è®¨ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆä»å®è§‚è§†è§’ç†è§£MyBatisçš„åˆ†å±‚æ¶æ„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f6e674c197024d6f9435d89e6f9c2228~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768036099&amp;x-signature=9V53VHuzn71eO1CV%2BkAYk9Oe8bY%3D" alt="" loading="lazy"/></p>
<p>ä»æ¶æ„å›¾å¯ä»¥çœ‹å‡ºï¼Œæ—¥å¿—æ¨¡å—ä½äº<strong>åŸºç¡€æ”¯æ’‘å±‚</strong>ï¼Œå®ƒå°±åƒä¸€ä¸ªå¿ å®çš„è®°å½•å‘˜ï¼Œé»˜é»˜è®°å½•ç€ç³»ç»Ÿè¿è¡Œçš„æ¯ä¸€ä¸ªå…³é”®æ—¶åˆ»ã€‚</p>
<h2 data-id="heading-1">æ—¥å¿—æ¨¡å—çš„å…­å¤§æ ¸å¿ƒèŒè´£</h2>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> è®°å½•SQLæ‰§è¡Œæ—¥å¿— - å®Œæ•´æ•è·æ‰§è¡Œçš„SQLè¯­å¥
<span class="hljs-bullet">2.</span> è®°å½•å‚æ•°æ—¥å¿— - è¿½è¸ªSQLå‚æ•°çš„ä¼ é€’è¿‡ç¨‹
<span class="hljs-bullet">3.</span> è®°å½•ç»“æœæ—¥å¿— - å¯é€‰çš„æŸ¥è¯¢ç»“æœè®°å½•
<span class="hljs-bullet">4.</span> è®°å½•æ€§èƒ½æ—¥å¿— - ç²¾å‡†ç»Ÿè®¡SQLæ‰§è¡Œè€—æ—¶
<span class="hljs-bullet">5.</span> è®°å½•å¼‚å¸¸æ—¥å¿— - è¯¦å°½çš„é”™è¯¯ä¿¡æ¯æ•è·
<span class="hljs-bullet">6.</span> é›†æˆæ—¥å¿—æ¡†æ¶ - æ— ç¼é€‚é…ä¸»æµæ—¥å¿—ç»„ä»¶
</code></pre>
<h2 data-id="heading-2">ä¸ºä»€ä¹ˆæ—¥å¿—å¦‚æ­¤é‡è¦ï¼Ÿ</h2>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæ—¥å¿—æ‰®æ¼”ç€ä¸‰ä¸ªå…³é”®è§’è‰²ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-number">1</span>ã€å¼€å‘è°ƒè¯•é˜¶æ®µ
  <span class="hljs-number">1</span>ã€æŸ¥çœ‹å®é™…æ‰§è¡Œçš„<span class="hljs-keyword">SQL</span>è¯­å¥
  <span class="hljs-number">2</span>ã€æ£€æŸ¥å‚æ•°ç»‘å®šæ˜¯å¦æ­£ç¡®
  <span class="hljs-number">3</span>ã€å¿«é€Ÿæ’æŸ¥<span class="hljs-keyword">SQL</span>è¯­æ³•é”™è¯¯
<span class="hljs-number">2</span>ã€æ€§èƒ½ä¼˜åŒ–é˜¶æ®µ
  <span class="hljs-number">1</span>ã€è¯†åˆ«æ‰§è¡Œç¼“æ…¢çš„<span class="hljs-keyword">SQL</span>æŸ¥è¯¢
  <span class="hljs-number">2</span>ã€åˆ†æ<span class="hljs-keyword">SQL</span>æ‰§è¡Œé¢‘ç‡åˆ†å¸ƒ
  <span class="hljs-number">3</span>ã€æŒ‡å¯¼ç´¢å¼•ä¼˜åŒ–æ–¹å‘
<span class="hljs-number">3</span>ã€ç”Ÿäº§è¿ç»´é˜¶æ®µ
  <span class="hljs-number">1</span>ã€é—®é¢˜å¿«é€Ÿå®šä½ä¸è¿½è¸ª
  <span class="hljs-number">2</span>ã€æ•°æ®æ“ä½œè¡Œä¸ºå®¡è®¡
  <span class="hljs-number">3</span>ã€ä¸šåŠ¡æ•°æ®æ·±åº¦åˆ†æ
</code></pre>
<h2 data-id="heading-3">MyBatisæ—¥å¿—çš„äº”å¤§ç‰¹ç‚¹</h2>





























<table><thead><tr><th>ç‰¹æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>è‡ªåŠ¨é›†æˆ</td><td>æ™ºèƒ½æ£€æµ‹å¹¶ä½¿ç”¨é¡¹ç›®ä¸­çš„æ—¥å¿—æ¡†æ¶</td></tr><tr><td>å¤šæ¡†æ¶æ”¯æŒ</td><td>æ”¯æŒSLF4Jã€Log4jã€Log4j2ã€JDK Loggingç­‰</td></tr><tr><td>åˆ†çº§è®°å½•</td><td>æ”¯æŒDEBUGã€INFOã€WARNã€ERRORç­‰çº§åˆ«</td></tr><tr><td>æ€§èƒ½è€ƒè™‘</td><td>ä½¿ç”¨å»¶è¿ŸåŠ è½½ï¼Œé¿å…ä¸å¿…è¦çš„å­—ç¬¦ä¸²æ‹¼æ¥</td></tr><tr><td>JDBCæ—¥å¿—</td><td>ä¸“é—¨è®°å½•JDBCæ“ä½œçš„è¯¦ç»†æ—¥å¿—</td></tr></tbody></table>
<h2 data-id="heading-4">äºŒã€æ¥å£æ¶æ„ï¼šç»Ÿä¸€è€Œçµæ´»çš„è®¾è®¡</h2>
<p>MyBatisé‡‡ç”¨æ¥å£+é€‚é…å™¨çš„ç»å…¸è®¾è®¡æ¨¡å¼ï¼Œå®ç°äº†ä¸æ—¥å¿—æ¡†æ¶çš„è§£è€¦ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ec980824a08499f841a162244c593b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768036099&amp;x-signature=9mmX%2B6Xy8AZ2UxdtLFbOhURyiCw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">æ ¸å¿ƒæ¥å£ï¼šLog</h2>
<p>MyBatiså®šä¹‰äº†ç®€æ´è€Œå¼ºå¤§çš„æ—¥å¿—æ¥å£ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">public</span> interface Log {
    <span class="hljs-comment">// æ˜¯å¦å¯ç”¨DEBUGçº§åˆ«</span>
    <span class="hljs-function"><span class="hljs-type">boolean</span> <span class="hljs-title">isDebugEnabled</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">// æ˜¯å¦å¯ç”¨ERRORçº§åˆ«</span>
    <span class="hljs-function"><span class="hljs-type">boolean</span> <span class="hljs-title">isErrorEnabled</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">// DEBUGçº§åˆ«æ—¥å¿—</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">debug</span><span class="hljs-params">(<span class="hljs-type">String</span> s)</span></span>;

    <span class="hljs-comment">// ERRORçº§åˆ«æ—¥å¿—</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">error</span><span class="hljs-params">(<span class="hljs-type">String</span> s)</span></span>;

    <span class="hljs-comment">// ERRORçº§åˆ«æ—¥å¿—ï¼ˆå¸¦å¼‚å¸¸ï¼‰</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">error</span><span class="hljs-params">(<span class="hljs-type">String</span> s, Throwable e)</span></span>;

    <span class="hljs-comment">// WARNçº§åˆ«æ—¥å¿—ï¼ˆå¸¦å¼‚å¸¸ï¼‰</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">warn</span><span class="hljs-params">(<span class="hljs-type">String</span> s, Throwable e)</span></span>;
}
</code></pre>
<p><strong>æ—¥å¿—æ¡†æ¶é€‚é…å™¨å®¶æ—</strong>MyBatisé€šè¿‡é€‚é…å™¨æ¨¡å¼æ”¯æŒå¤šç§ä¸»æµæ—¥å¿—æ¡†æ¶ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e78b04ff596642149f66c9b6fea98c45~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768036099&amp;x-signature=yvum4mm5MytERF0YrBWN9zoEivY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">Slf4jImplå®ç°ç¤ºä¾‹</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Slf4jImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Log</span> {
    <span class="hljs-keyword">private</span> final <span class="hljs-title class_">Logger</span> log;

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Slf4</span>jImpl(<span class="hljs-title class_">String</span> clazz) {
        <span class="hljs-comment">// é€šè¿‡SLF4Jå·¥å‚åˆ›å»ºLogger</span>
        log = <span class="hljs-title class_">LoggerFactory</span>.<span class="hljs-title function_">getLogger</span>(clazz);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">isDebugEnabled</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> log.<span class="hljs-title function_">isDebugEnabled</span>();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">debug</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> s</span>) {
        log.<span class="hljs-title function_">debug</span>(s);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">error</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> s, Throwable e</span>) {
        log.<span class="hljs-title function_">error</span>(s, e);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">warn</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> s, Throwable e</span>) {
        log.<span class="hljs-title function_">warn</span>(s, e);
    }
}
</code></pre>
<h2 data-id="heading-7">LogFactoryå·¥å‚ç±»ï¼šæ™ºèƒ½é€‰æ‹©æœ€ä½³æ—¥å¿—æ¡†æ¶</h2>
<p>LogFactoryè´Ÿè´£æŒ‰ç…§ä¼˜å…ˆçº§è‡ªåŠ¨æ£€æµ‹å¹¶åˆ›å»ºåˆé€‚çš„Logå®ç°ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LogFactory</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">static</span> Constructor<span class="hljs-meta">&lt;?</span> <span class="hljs-keyword">extends</span> Log&gt; logConstructor;

    <span class="hljs-built_in">static</span> {
        <span class="hljs-comment">// æŒ‰ä¼˜å…ˆçº§ä¾æ¬¡å°è¯•åŠ è½½æ—¥å¿—æ¡†æ¶</span>
        <span class="hljs-comment">// 1. ä¼˜å…ˆå°è¯•SLF4J</span>
        <span class="hljs-title function_ invoke__">tryImplementation</span>(Slf4jImpl.<span class="hljs-keyword">class</span>, <span class="hljs-string">"SLF4J"</span>);
        <span class="hljs-comment">// 2. ç„¶åå°è¯•Log4j2</span>
        <span class="hljs-title function_ invoke__">tryImplementation</span>(Log4j2Impl.<span class="hljs-keyword">class</span>, <span class="hljs-string">"Log4j 2"</span>);
        <span class="hljs-comment">// 3. ç»§ç»­å°è¯•Log4j</span>
        <span class="hljs-title function_ invoke__">tryImplementation</span>(Log4jImpl.<span class="hljs-keyword">class</span>, <span class="hljs-string">"Log4j"</span>);
        <span class="hljs-comment">// 4. å°è¯•JDKå†…ç½®æ—¥å¿—</span>
        <span class="hljs-title function_ invoke__">tryImplementation</span>(Jdk14LoggingImpl.<span class="hljs-keyword">class</span>, <span class="hljs-string">"JDK logging"</span>);
        <span class="hljs-comment">// 5. é™çº§åˆ°æ ‡å‡†è¾“å‡º</span>
        <span class="hljs-title function_ invoke__">tryImplementation</span>(StdOutImpl.<span class="hljs-keyword">class</span>, <span class="hljs-string">"stdout"</span>);
        <span class="hljs-comment">// 6. æœ€åä½¿ç”¨ç©ºå®ç°</span>
        <span class="hljs-title function_ invoke__">tryImplementation</span>(NoOpImpl.<span class="hljs-keyword">class</span>, <span class="hljs-string">"noop"</span>);
    }

    <span class="hljs-comment">// è·å–Logå®ä¾‹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> Log <span class="hljs-title function_ invoke__">getLog</span>(Class&lt;?&gt; clazz) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">getLog</span>(clazz.<span class="hljs-title function_ invoke__">getName</span>());
    }

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> Log <span class="hljs-title function_ invoke__">getLog</span>(String logger) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> logConstructor.<span class="hljs-title function_ invoke__">newInstance</span>(logger);
        } <span class="hljs-keyword">catch</span> (<span class="hljs-built_in">Throwable</span> t) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">RuntimeException</span>(
                <span class="hljs-string">"Error creating logger for "</span> + logger, t);
        }
    }

    <span class="hljs-comment">// æ”¯æŒè‡ªå®šä¹‰æ—¥å¿—å®ç°</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> synchronized <span class="hljs-keyword">void</span> <span class="hljs-title function_ invoke__">useCustomLogging</span>(
        Class&lt;? <span class="hljs-keyword">extends</span> Log&gt; clazz) {
        <span class="hljs-title function_ invoke__">setImplementation</span>(clazz);
    }
}
</code></pre>
<h2 data-id="heading-8">ä¸‰ã€æ—¥å¿—é…ç½®ï¼šçµæ´»å¤šæ ·çš„é…ç½®æ–¹å¼</h2>
<p>MyBatisæä¾›äº†å¤šç§é…ç½®æ–¹å¼ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯éœ€æ±‚ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7ddd4bb5b7234b269aa823981fe198d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768036099&amp;x-signature=VSgedxv7z3scvAIPAVQ1I%2FuzxOY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-9">æ–¹å¼1ï¼šmybatis-config.xmlé…ç½®</h2>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- å¯é€‰ï¼šæ˜¾å¼æŒ‡å®šæ—¥å¿—å®ç° --&gt;</span>
        <span class="hljs-comment">&lt;!-- &lt;setting name="logImpl" value="SLF4J"/&gt; --&gt;</span>
        <span class="hljs-comment">&lt;!-- &lt;setting name="logImpl" value="LOG4J2"/&gt; --&gt;</span>
        <span class="hljs-comment">&lt;!-- &lt;setting name="logImpl" value="STDOUT_LOGGING"/&gt; --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
</code></pre>
<h2 data-id="heading-10">æ–¹å¼2ï¼šLog4j2è¯¦ç»†é…ç½®</h2>
<p><strong>log4j2.xmlï¼š</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">Configuration</span> <span class="hljs-attr">status</span>=<span class="hljs-string">"WARN"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Appenders</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ§åˆ¶å°è¾“å‡º --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Console</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Console"</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"SYSTEM_OUT"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">PatternLayout</span> 
                <span class="hljs-attr">pattern</span>=<span class="hljs-string">"%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Console</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ–‡ä»¶è¾“å‡ºï¼ˆæ»šåŠ¨ç­–ç•¥ï¼‰ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">RollingFile</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"RollingFile"</span> 
                     <span class="hljs-attr">fileName</span>=<span class="hljs-string">"logs/mybatis.log"</span>
                     <span class="hljs-attr">filePattern</span>=<span class="hljs-string">"logs/mybatis-%d{yyyy-MM-dd}-%i.log.gz"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">PatternLayout</span> 
                <span class="hljs-attr">pattern</span>=<span class="hljs-string">"%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Policies</span>&gt;</span>
                <span class="hljs-comment">&lt;!-- æ¯å¤©æ»šåŠ¨ --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">TimeBasedTriggeringPolicy</span> <span class="hljs-attr">interval</span>=<span class="hljs-string">"1"</span>/&gt;</span>
                <span class="hljs-comment">&lt;!-- å•æ–‡ä»¶æœ€å¤§100MB --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">SizeBasedTriggeringPolicy</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"100 MB"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Policies</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- æœ€å¤šä¿ç•™30å¤© --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">DefaultRolloverStrategy</span> <span class="hljs-attr">max</span>=<span class="hljs-string">"30"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">RollingFile</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Appenders</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">Loggers</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- MyBatisæ ¸å¿ƒæ—¥å¿— --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"org.apache.ibatis"</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"DEBUG"</span> <span class="hljs-attr">additivity</span>=<span class="hljs-string">"false"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">AppenderRef</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"Console"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">AppenderRef</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"RollingFile"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Logger</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- SQLè¯­å¥æ—¥å¿— --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"org.apache.ibatis.jdbc.SQL"</span> 
                <span class="hljs-attr">level</span>=<span class="hljs-string">"DEBUG"</span> <span class="hljs-attr">additivity</span>=<span class="hljs-string">"false"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">AppenderRef</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"Console"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Logger</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Root Logger --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"INFO"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">AppenderRef</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"Console"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">AppenderRef</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"RollingFile"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Root</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Loggers</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Configuration</span>&gt;</span>
</code></pre>
<h2 data-id="heading-11">æ–¹å¼3ï¼šLogbacké…ç½®</h2>
<p><strong>logback.xmlï¼š</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- æ§åˆ¶å°è¾“å‡º --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"CONSOLE"</span> 
              <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.ConsoleAppender"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- æ–‡ä»¶è¾“å‡º --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"FILE"</span> 
              <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>logs/mybatis.log<span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span> 
            <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">fileNamePattern</span>&gt;</span>logs/mybatis-%d{yyyy-MM-dd}.log<span class="hljs-tag">&lt;/<span class="hljs-name">fileNamePattern</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">maxHistory</span>&gt;</span>30<span class="hljs-tag">&lt;/<span class="hljs-name">maxHistory</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- MyBatisæ—¥å¿—é…ç½® --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"org.apache.ibatis"</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"DEBUG"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"java.sql.Connection"</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"DEBUG"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"java.sql.Statement"</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"DEBUG"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"java.sql.PreparedStatement"</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"DEBUG"</span>/&gt;</span>

    <span class="hljs-comment">&lt;!-- Rooté…ç½® --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"INFO"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"CONSOLE"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"FILE"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">root</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
</code></pre>
<h2 data-id="heading-12">æ–¹å¼4ï¼šSpring Booté…ç½®</h2>
<p><strong>application.ymlï¼š</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># æ—¥å¿—é…ç½®</span>
<span class="hljs-attr">logging:</span>
  <span class="hljs-attr">level:</span>
    <span class="hljs-comment"># MyBatis SQLæ—¥å¿—</span>
    <span class="hljs-attr">org.apache.ibatis:</span> <span class="hljs-string">DEBUG</span>
    <span class="hljs-attr">java.sql.Connection:</span> <span class="hljs-string">DEBUG</span>
    <span class="hljs-attr">java.sql.Statement:</span> <span class="hljs-string">DEBUG</span>
    <span class="hljs-attr">java.sql.PreparedStatement:</span> <span class="hljs-string">DEBUG</span>
    <span class="hljs-attr">java.sql.ResultSet:</span> <span class="hljs-string">WARN</span>
  <span class="hljs-comment"># æ—¥å¿—æ–‡ä»¶é…ç½®</span>
  <span class="hljs-attr">file:</span>
    <span class="hljs-attr">path:</span> <span class="hljs-string">logs</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">myapp.log</span>
    <span class="hljs-attr">max-size:</span> <span class="hljs-string">100MB</span>
    <span class="hljs-attr">max-history:</span> <span class="hljs-number">30</span>
  <span class="hljs-comment"># æ—¥å¿—æ ¼å¼</span>
  <span class="hljs-attr">pattern:</span>
    <span class="hljs-attr">console:</span> <span class="hljs-string">"%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"</span>
    <span class="hljs-attr">file:</span> <span class="hljs-string">"%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"</span>
</code></pre>
<h2 data-id="heading-13">å››ã€JDBCæ—¥å¿—ï¼šç»†ç²’åº¦çš„æ“ä½œè¿½è¸ª</h2>
<p><strong>MyBatisæä¾›äº†ä¸“é—¨çš„JDBCæ—¥å¿—è®°å½•æœºåˆ¶ï¼Œå¯ä»¥è¿½è¸ªæ¯ä¸€ä¸ªJDBCæ“ä½œçš„ç»†èŠ‚ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5da0ae4cc6eb4e73bbdba0f3458070d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768036099&amp;x-signature=jvuOpcBqFGp8JFVPIcsLjt8Q8Gg%3D" alt="" loading="lazy"/></p>
<p><strong>JDBCæ—¥å¿—è®°å½•å†…å®¹</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15bc48f40d6547979a9ebcd35f24d70f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768036099&amp;x-signature=B9h84ioMds2D81cMCIZGZ9UBw2c%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-14">BaseJdbcLoggeråŸºç¡€ç±»</h2>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseJdbcLogger</span> {
    <span class="hljs-comment">// æ—¥å¿—å¯¹è±¡</span>
    <span class="hljs-keyword">protected</span> Log statementLog;
    <span class="hljs-keyword">protected</span> Log connectionLog;

    <span class="hljs-comment">// è°ƒè¯•å¼€å…³</span>
    <span class="hljs-keyword">protected</span> boolean isDebugEnabled;

    <span class="hljs-comment">// æ…¢æŸ¥è¯¢é˜ˆå€¼ï¼ˆæ¯«ç§’ï¼‰</span>
    <span class="hljs-keyword">protected</span> int slowQueryThreshold;

    <span class="hljs-keyword">public</span> BaseJdbcLogger(Log log, int queryThreshold) {
        <span class="hljs-keyword">this</span>.statementLog = log;
        <span class="hljs-keyword">this</span>.connectionLog = log;
        <span class="hljs-keyword">this</span>.isDebugEnabled = log.isDebugEnabled();
        <span class="hljs-keyword">this</span>.slowQueryThreshold = queryThreshold;
    }

    <span class="hljs-comment">// è®°å½•SQLæ‰§è¡Œ</span>
    <span class="hljs-keyword">protected</span> void debug(String s, boolean isSql) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isDebugEnabled) {
            <span class="hljs-keyword">this</span>.statementLog.debug(s);
        }
    }

    <span class="hljs-comment">// è®°å½•è¿æ¥åˆ›å»º</span>
    <span class="hljs-keyword">protected</span> void connectionCreated(Connection conn) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.connectionLog.isDebugEnabled()) {
            <span class="hljs-keyword">this</span>.connectionLog.debug(<span class="hljs-string">"==&gt;  Opening JDBC Connection"</span>);
        }
    }

    <span class="hljs-comment">// è®°å½•è¿æ¥å…³é—­</span>
    <span class="hljs-keyword">protected</span> void connectionClosed(Connection conn) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.connectionLog.isDebugEnabled()) {
            <span class="hljs-keyword">this</span>.connectionLog.debug(<span class="hljs-string">"&lt;==  Closing JDBC Connection"</span>);
        }
    }
}
</code></pre>
<h2 data-id="heading-15">ConnectionLoggerè¿æ¥æ—¥å¿—</h2>
<pre><code class="hljs language-scala" lang="scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConnectionLogger</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseJdbcLogger</span> </span>
    implements <span class="hljs-type">InvocationHandler</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Connection</span> connection;

    public <span class="hljs-type">ConnectionLogger</span>(<span class="hljs-type">Connection</span> conn, <span class="hljs-type">Log</span> log, int queryThreshold) {
        <span class="hljs-keyword">super</span>(log, queryThreshold);
        <span class="hljs-keyword">this</span>.connection = conn;
    }

    <span class="hljs-meta">@Override</span>
    public <span class="hljs-type">Object</span> invoke(<span class="hljs-type">Object</span> proxy, <span class="hljs-type">Method</span> method, <span class="hljs-type">Object</span>[] args) 
        <span class="hljs-keyword">throws</span> <span class="hljs-type">Throwable</span> {
        <span class="hljs-type">String</span> methodName = method.getName();

        <span class="hljs-comment">// è®°å½•PreparedStatementåˆ›å»º</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"prepareStatement"</span>.equals(methodName) || 
            <span class="hljs-string">"prepareCall"</span>.equals(methodName)) {
            <span class="hljs-keyword">if</span> (isDebugEnabled()) {
                debug(<span class="hljs-string">"Preparing: "</span> + 
                    removeBreakingWhitespace((<span class="hljs-type">String</span>) args[<span class="hljs-number">0</span>]), <span class="hljs-literal">true</span>);
            }
        }

        <span class="hljs-comment">// è®°å½•è¿æ¥å…³é—­</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"close"</span>.equals(methodName)) {
            connectionClosed(connection);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }

        <span class="hljs-comment">// æ‰§è¡ŒåŸæ–¹æ³•</span>
        <span class="hljs-keyword">return</span> method.invoke(connection, args);
    }
}
</code></pre>
<h2 data-id="heading-16">PreparedStatementLoggerè¯­å¥æ—¥å¿—</h2>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PreparedStatementLogger</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseJdbcLogger</span> 
    <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InvocationHandler</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> PreparedStatement statement;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String sql;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Object[] parameterValues;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">invoke</span><span class="hljs-params">(Object proxy, Method method, Object[] args)</span> 
        <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-type">String</span> <span class="hljs-variable">methodName</span> <span class="hljs-operator">=</span> method.getName();

        <span class="hljs-comment">// è®°å½•å‚æ•°è®¾ç½®</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"setString"</span>.equals(methodName) || 
            <span class="hljs-string">"setInt"</span>.equals(methodName) ||
            <span class="hljs-string">"setLong"</span>.equals(methodName)) {
            <span class="hljs-keyword">if</span> (args.length == <span class="hljs-number">2</span>) {
                <span class="hljs-type">int</span> <span class="hljs-variable">paramIndex</span> <span class="hljs-operator">=</span> (Integer) args[<span class="hljs-number">0</span>];
                <span class="hljs-type">Object</span> <span class="hljs-variable">paramValue</span> <span class="hljs-operator">=</span> args[<span class="hljs-number">1</span>];
                parameterValues[paramIndex - <span class="hljs-number">1</span>] = paramValue;

                <span class="hljs-keyword">if</span> (isDebugEnabled) {
                    debug(<span class="hljs-string">"Parameters: "</span> + paramIndex + 
                        <span class="hljs-string">" =&gt; "</span> + paramValue, <span class="hljs-literal">true</span>);
                }
            }
        }

        <span class="hljs-comment">// è®°å½•SQLæ‰§è¡Œ</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"execute"</span>.equals(methodName) || 
            <span class="hljs-string">"executeUpdate"</span>.equals(methodName) ||
            <span class="hljs-string">"executeQuery"</span>.equals(methodName)) {

            <span class="hljs-keyword">if</span> (isDebugEnabled) {
                debug(<span class="hljs-string">"==&gt;  Executing: "</span> + sql, <span class="hljs-literal">true</span>);
                debug(<span class="hljs-string">"==&gt; Parameters: "</span> + 
                    getParameterString(), <span class="hljs-literal">true</span>);
            }

            <span class="hljs-comment">// è®¡æ—¶æ‰§è¡Œ</span>
            <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
            <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> method.invoke(statement, args);
            <span class="hljs-type">long</span> <span class="hljs-variable">cost</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - start;

            <span class="hljs-keyword">if</span> (isDebugEnabled) {
                debug(<span class="hljs-string">"&lt;==  Total: "</span> + cost + <span class="hljs-string">" ms"</span>, <span class="hljs-literal">true</span>);
            }

            <span class="hljs-comment">// æ…¢æŸ¥è¯¢å‘Šè­¦</span>
            <span class="hljs-keyword">if</span> (slowQueryThreshold &gt; <span class="hljs-number">0</span> &amp;&amp; cost &gt; slowQueryThreshold) {
                connectionLog.warn(<span class="hljs-string">"Slow query detected: "</span> + 
                    cost + <span class="hljs-string">" ms"</span>);
            }

            <span class="hljs-keyword">return</span> result;
        }

        <span class="hljs-keyword">return</span> method.invoke(statement, args);
    }

    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">getParameterString</span><span class="hljs-params">()</span> {
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; parameterValues.length; i++) {
            <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>) sb.append(<span class="hljs-string">", "</span>);
            sb.append(i + <span class="hljs-number">1</span>).append(<span class="hljs-string">" =&gt; "</span>).append(parameterValues[i]);
        }
        <span class="hljs-keyword">return</span> sb.toString();
    }
}
</code></pre>
<h2 data-id="heading-17">ResultSetLoggerç»“æœé›†æ—¥å¿—</h2>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ResultSetLogger</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseJdbcLogger</span> 
    <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InvocationHandler</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ResultSet resultSet;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> List&lt;String&gt; columnNames = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> List&lt;String&gt; columnValues = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">invoke</span><span class="hljs-params">(Object proxy, Method method, Object[] args)</span> 
        <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-type">String</span> <span class="hljs-variable">methodName</span> <span class="hljs-operator">=</span> method.getName();
        <span class="hljs-comment">// è®°å½•åˆ—å</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"next"</span>.equals(methodName)) {
            <span class="hljs-keyword">if</span> (columnNames.isEmpty()) {
                <span class="hljs-type">ResultSetMetaData</span> <span class="hljs-variable">metaData</span> <span class="hljs-operator">=</span> resultSet.getMetaData();
                <span class="hljs-type">int</span> <span class="hljs-variable">columnCount</span> <span class="hljs-operator">=</span> metaData.getColumnCount();
                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= columnCount; i++) {
                    columnNames.add(metaData.getColumnName(i));
                }
            }
        }
        <span class="hljs-comment">// è®°å½•ç»“æœå€¼</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"getString"</span>.equals(methodName) || 
            <span class="hljs-string">"getInt"</span>.equals(methodName) ||
            <span class="hljs-string">"getObject"</span>.equals(methodName)) {
            <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> method.invoke(resultSet, args);
            <span class="hljs-keyword">if</span> (isDebugEnabled &amp;&amp; result != <span class="hljs-literal">null</span>) {
                <span class="hljs-type">String</span> <span class="hljs-variable">columnName</span> <span class="hljs-operator">=</span> columnNames.isEmpty() ? 
                    <span class="hljs-string">"?"</span> : columnNames.get(columnValues.size());
                columnValues.add(columnName + <span class="hljs-string">" = "</span> + result);
            }
            <span class="hljs-keyword">return</span> result;
        }
        <span class="hljs-comment">// è®°å½•ç»“æœé›†å…³é—­</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"close"</span>.equals(methodName)) {
            <span class="hljs-keyword">if</span> (isDebugEnabled &amp;&amp; !columnValues.isEmpty()) {
                debug(<span class="hljs-string">"&lt;==    Columns: "</span> + columnNames, <span class="hljs-literal">true</span>);
                debug(<span class="hljs-string">"&lt;==        Row: "</span> + columnValues, <span class="hljs-literal">true</span>);
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">return</span> method.invoke(resultSet, args);
    }
}
</code></pre>
<h2 data-id="heading-18">äº”ã€æ—¥å¿—é€‚é…å™¨ï¼šä¼˜é›…çš„æ¡†æ¶é›†æˆ</h2>
<h2 data-id="heading-19">MyBatisé€šè¿‡é€‚é…å™¨æ¨¡å¼å®ç°äº†ä¸å„ç§æ—¥å¿—æ¡†æ¶çš„æ— ç¼é›†æˆã€‚</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a4b1e8cfcd842c8b3780da146c9054b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768036099&amp;x-signature=aoe60Wez%2BnP3zk2dpXgpvsuVKU8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-20">æ—¥å¿—é€‚é…å™¨çš„å·¥ä½œæµç¨‹</h2>
<pre><code class="hljs language-markdown" lang="markdown">MyBatis Logæ¥å£
<span class="hljs-code">    â†“
æ—¥å¿—é€‚é…å™¨ (Log4j2Impl)
    â†“
Log4j2 Logger
    â†“
æ—¥å¿—è¾“å‡ºï¼ˆæ§åˆ¶å°/æ–‡ä»¶ï¼‰
</span></code></pre>
<h2 data-id="heading-21">æ—¥å¿—è¾“å‡ºï¼ˆæ§åˆ¶å°/æ–‡ä»¶ï¼‰</h2>
<p>LogFactoryæŒ‰ç…§ä¼˜å…ˆçº§è‡ªåŠ¨æ£€æµ‹å¹¶é€‰æ‹©æ—¥å¿—æ¡†æ¶ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> SLF4J (ä¼˜å…ˆçº§æœ€é«˜)
<span class="hljs-bullet">2.</span> Log4j2
<span class="hljs-bullet">3.</span> Log4j
<span class="hljs-bullet">4.</span> JDK Logging
<span class="hljs-bullet">5.</span> STDOUT (æ ‡å‡†è¾“å‡º)
<span class="hljs-bullet">6.</span> NOOP (æ— æ—¥å¿—
</code></pre>
<p><strong>è‡ªå®šä¹‰æ—¥å¿—é€‚é…å™¨</strong></p>
<p>å¦‚æœéœ€è¦ä½¿ç”¨è‡ªå®šä¹‰æ—¥å¿—æ¡†æ¶ï¼Œå¯ä»¥è½»æ¾æ‰©å±•ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomLog</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Log</span> {
    <span class="hljs-keyword">private</span> final <span class="hljs-title class_">CustomLogger</span> logger;

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">CustomLog</span>(<span class="hljs-title class_">String</span> clazz) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">logger</span> = <span class="hljs-title class_">CustomLoggerFactory</span>.<span class="hljs-title function_">getLogger</span>(clazz);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">isDebugEnabled</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> logger.<span class="hljs-title function_">isDebugEnabled</span>();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">debug</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> s</span>) {
        logger.<span class="hljs-title function_">debug</span>(s);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">error</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> s, Throwable e</span>) {
        logger.<span class="hljs-title function_">error</span>(s, e);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">warn</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> s, Throwable e</span>) {
        logger.<span class="hljs-title function_">warn</span>(s, e);
    }
}

<span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰æ—¥å¿—</span>
<span class="hljs-title class_">LogFactory</span>.<span class="hljs-title function_">useCustomLogging</span>(<span class="hljs-title class_">CustomLog</span>.<span class="hljs-property">class</span>);
</code></pre>
<h2 data-id="heading-22">ä¸»æµæ—¥å¿—æ¡†æ¶å¯¹æ¯”</h2>









































<table><thead><tr><th>æ—¥å¿—æ¡†æ¶</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>SLF4J</td><td>ç»Ÿä¸€æ—¥å¿—é—¨é¢æ€§èƒ½ä¼˜ç§€</td><td>éœ€è¦ç»‘å®šå®ç°</td><td>å¤§å‹é¡¹ç›®</td></tr><tr><td>Log4j2</td><td>æ€§èƒ½æœ€ä½³åŠŸèƒ½å¼ºå¤§</td><td>é…ç½®ç›¸å¯¹å¤æ‚</td><td>é«˜å¹¶å‘ç³»ç»Ÿ</td></tr><tr><td>Log4j</td><td>æˆç†Ÿç¨³å®šç¤¾åŒºæ´»è·ƒ</td><td>æ€§èƒ½ä¸€èˆ¬</td><td>è€é¡¹ç›®ç»´æŠ¤</td></tr><tr><td>JDK Logging</td><td>æ— éœ€é¢å¤–ä¾èµ–ç®€å•è½»é‡</td><td>åŠŸèƒ½æœ‰é™</td><td>ç®€å•é¡¹ç›®</td></tr><tr><td>STDOUT</td><td>é…ç½®ç®€å•å³å¼€å³ç”¨</td><td>æ— æ ¼å¼åŒ–ä¸å¯é…ç½®</td><td>å¼€å‘æµ‹è¯•</td></tr></tbody></table>
<h2 data-id="heading-23">å…­ã€å®æˆ˜åº”ç”¨ï¼šæ—¥å¿—åœ¨å¼€å‘ä¸­çš„è¿ç”¨</h2>
<p>è®©æˆ‘ä»¬é€šè¿‡å®é™…åœºæ™¯çœ‹çœ‹æ—¥å¿—å¦‚ä½•å¸®åŠ©æˆ‘ä»¬è§£å†³é—®é¢˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/26edd45c03754ffab9a62d69e79144ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768036099&amp;x-signature=pZ3bRAdX6da0Dp1Hu98O6pylXYM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-24">åœºæ™¯1ï¼šSQLè°ƒè¯•æ—¥å¿—</h2>
<p>è®°å½•å®Œæ•´çš„SQLè¯­å¥å’Œå‚æ•°ï¼Œå¿«é€Ÿå®šä½é—®é¢˜ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span> æ‰§è¡ŒæŸ¥è¯¢
<span class="hljs-keyword">User</span> <span class="hljs-keyword">user</span> <span class="hljs-operator">=</span> userMapper.selectById(<span class="hljs-number">1</span>L);

<span class="hljs-operator">/</span><span class="hljs-operator">/</span> æ§åˆ¶å°è¾“å‡ºï¼š
<span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">&gt;</span>  Preparing: <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> t_user <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> ?
<span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">&gt;</span> Parameters: <span class="hljs-number">1</span>(<span class="hljs-type">Integer</span>)
<span class="hljs-operator">&lt;=</span><span class="hljs-operator">=</span>    Columns: id, name, email, age, create_time
<span class="hljs-operator">&lt;=</span><span class="hljs-operator">=</span>        <span class="hljs-type">Row</span>: <span class="hljs-number">1</span>, å¼ ä¸‰, zhangsan<span class="hljs-variable">@example</span>.com, <span class="hljs-number">25</span>, <span class="hljs-number">2024</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>
<span class="hljs-operator">&lt;=</span><span class="hljs-operator">=</span>  Total: <span class="hljs-number">15</span> ms
</code></pre>
<h2 data-id="heading-25">åœºæ™¯2ï¼šæ€§èƒ½ç›‘æ§æ—¥å¿—</h2>
<p>è¯†åˆ«æ…¢æŸ¥è¯¢ï¼Œä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> Object <span class="hljs-title function_">query</span><span class="hljs-params">(...)</span> <span class="hljs-keyword">throws</span> SQLException {
    <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();

    <span class="hljs-keyword">try</span> {
        <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> method.invoke(target, args);
        <span class="hljs-keyword">return</span> result;
    } <span class="hljs-keyword">finally</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">cost</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - start;

        <span class="hljs-comment">// æ…¢æŸ¥è¯¢å‘Šè­¦</span>
        <span class="hljs-keyword">if</span> (cost &gt; slowQueryThreshold) {
            logger.warn(<span class="hljs-string">"Slow query: {} ms - SQL: {}"</span>, 
                cost, sql);
        }

        <span class="hljs-keyword">if</span> (isDebugEnabled) {
            logger.debug(<span class="hljs-string">"Query cost: {} ms"</span>, cost);
        }
    }
}
</code></pre>
<h2 data-id="heading-26">åœºæ™¯3ï¼šå‚æ•°æ—¥å¿—</h2>
<p>æ£€æŸ¥å‚æ•°ç»‘å®šæ˜¯å¦æ­£ç¡®ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span> æŸ¥è¯¢ç”¨æˆ·
List<span class="hljs-operator">&lt;</span><span class="hljs-keyword">User</span><span class="hljs-operator">&gt;</span> users <span class="hljs-operator">=</span> userMapper.selectByCondition("å¼ ", <span class="hljs-number">25</span>);

<span class="hljs-operator">/</span><span class="hljs-operator">/</span> æ—¥å¿—è¾“å‡ºï¼š
<span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">&gt;</span>  Preparing: <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> t_user 
     <span class="hljs-keyword">WHERE</span> name <span class="hljs-keyword">LIKE</span> CONCAT(<span class="hljs-string">'%'</span>, ?, <span class="hljs-string">'%'</span>) <span class="hljs-keyword">AND</span> age <span class="hljs-operator">=</span> ?
<span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">&gt;</span> Parameters: å¼ (String), <span class="hljs-number">25</span>(<span class="hljs-type">Integer</span>)
<span class="hljs-operator">&lt;=</span><span class="hljs-operator">=</span>  Total: <span class="hljs-number">22</span> ms
<span class="hljs-operator">&lt;=</span><span class="hljs-operator">=</span>      <span class="hljs-keyword">Rows</span>: <span class="hljs-number">5</span>
</code></pre>
<h2 data-id="heading-27">åœºæ™¯4ï¼šç»“æœæ—¥å¿—ï¼ˆå¼€å‘ç¯å¢ƒï¼‰</h2>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// æ—¥å¿—è¾“å‡ºï¼š</span>
&lt;==    <span class="hljs-attribute">Columns</span>: id, name, email
&lt;==        <span class="hljs-attribute">Row</span>: <span class="hljs-number">1</span>, å¼ ä¸‰, zhangsan<span class="hljs-variable">@example</span>.com
&lt;==        <span class="hljs-attribute">Row</span>: <span class="hljs-number">2</span>, æå››, lisi<span class="hljs-variable">@example</span>.com
&lt;==        <span class="hljs-attribute">Row</span>: <span class="hljs-number">3</span>, ç‹äº”, wangwu<span class="hljs-variable">@example</span>.com
&lt;==  <span class="hljs-attribute">Total</span>: <span class="hljs-number">3</span> rows
</code></pre>
<h2 data-id="heading-28">åœºæ™¯5ï¼šå¼‚å¸¸æ—¥å¿—</h2>
<p>è¯¦ç»†è®°å½•SQLæ‰§è¡Œå¼‚å¸¸ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">try</span> {
    userMapper.insert(user);
} <span class="hljs-keyword">catch</span> (Exception e) {
    <span class="hljs-comment">// æ—¥å¿—è¾“å‡ºï¼š</span>
    ==&gt;  Preparing: <span class="hljs-function">INSERT INTO <span class="hljs-title">t_user</span> (<span class="hljs-params">name, email</span>) <span class="hljs-title">VALUES</span> (<span class="hljs-params">?, ?</span>)</span>
    ==&gt; Parameters: å¼ ä¸‰(String), invalid-email(String)
    <span class="hljs-meta">### Error updating database.</span>
    <span class="hljs-meta">### Cause: java.sql.SQLException: Incorrect string value</span>
    <span class="hljs-meta">### The <span class="hljs-keyword">error</span> may exist in UserMapper.xml</span>
    <span class="hljs-meta">### The <span class="hljs-keyword">error</span> may involve UserMapper.insert</span>
    <span class="hljs-meta">### SQL: INSERT INTO t_user (name, email) VALUES (?, ?)</span>
    <span class="hljs-meta">### Cause: java.sql.SQLException: Incorrect string value</span>
}
</code></pre>
<h2 data-id="heading-29">åœºæ™¯6ï¼šäº‹åŠ¡æ—¥å¿—</h2>
<p>è¿½è¸ªäº‹åŠ¡çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// å¼€å¯äº‹åŠ¡</span>
SqlSession session = sqlSessionFactory.openSession();

<span class="hljs-comment">// æ—¥å¿—è¾“å‡ºï¼š</span>
==&gt;  Opening JDBC Connection
==&gt;  Setting autocommit to <span class="hljs-keyword">false</span> <span class="hljs-keyword">on</span> JDBC Connection

<span class="hljs-comment">// æäº¤äº‹åŠ¡</span>
session.commit();

<span class="hljs-comment">// æ—¥å¿—è¾“å‡ºï¼š</span>
==&gt;  Committing JDBC Connection
&lt;==  Closing JDBC Connection
</code></pre>
<h2 data-id="heading-30">ä¸ƒã€æœ€ä½³å®è·µ</h2>
<h2 data-id="heading-31">ä¸åŒç¯å¢ƒçš„æ—¥å¿—é…ç½®ç­–ç•¥</h2>
<h2 data-id="heading-32">å¼€å‘ç¯å¢ƒé…ç½®</h2>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">logging:</span>
  <span class="hljs-attr">level:</span>
    <span class="hljs-attr">org.apache.ibatis:</span> <span class="hljs-string">DEBUG</span>
  <span class="hljs-comment"># å¯ç”¨DEBUGçº§åˆ«</span>
  <span class="hljs-comment"># è®°å½•SQLå’Œå‚æ•°</span>
  <span class="hljs-comment"># è®°å½•ç»“æœé›†</span>
  <span class="hljs-comment"># è®°å½•æ‰§è¡Œæ—¶é—´</span>
</code></pre>
<h2 data-id="heading-33">æµ‹è¯•ç¯å¢ƒé…ç½®</h2>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">logging:</span>
  <span class="hljs-attr">level:</span>
    <span class="hljs-attr">org.apache.ibatis:</span> <span class="hljs-string">INFO</span>
  <span class="hljs-comment"># å¯ç”¨INFOçº§åˆ«</span>
  <span class="hljs-comment"># è®°å½•SQLå’Œå‚æ•°</span>
  <span class="hljs-comment"># è®°å½•æ…¢æŸ¥è¯¢ï¼ˆ&gt;1ç§’ï¼‰</span>
  <span class="hljs-comment"># è®°å½•å¼‚å¸¸ä¿¡æ¯</span>
</code></pre>
<h2 data-id="heading-34">ç”Ÿäº§ç¯å¢ƒé…ç½®</h2>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">logging:</span>
  <span class="hljs-attr">level:</span>
    <span class="hljs-attr">org.apache.ibatis:</span> <span class="hljs-string">WARN</span>
  <span class="hljs-comment"># å¯ç”¨WARNçº§åˆ«</span>
  <span class="hljs-comment"># ä»…è®°å½•æ…¢æŸ¥è¯¢ï¼ˆ&gt;3ç§’ï¼‰</span>
  <span class="hljs-comment"># è®°å½•é”™è¯¯å’Œå¼‚å¸¸</span>
</code></pre>
<h2 data-id="heading-35">æ€§èƒ½ä¼˜åŒ–</h2>
<h2 data-id="heading-36">1ï¸âƒ£ åˆç†è®¾ç½®æ—¥å¿—çº§åˆ«</h2>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- ç”Ÿäº§ç¯å¢ƒä½¿ç”¨INFOæˆ–WARNçº§åˆ« --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"org.apache.ibatis"</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"WARN"</span>/&gt;</span>
</code></pre>
<h2 data-id="heading-37">2ï¸âƒ£ ä½¿ç”¨å¼‚æ­¥æ—¥å¿—</h2>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Log4j2å¼‚æ­¥æ—¥å¿—é…ç½® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">Async</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"AsyncAppender"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">AppenderRef</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"RollingFile"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Async</span>&gt;</span>
</code></pre>
<h2 data-id="heading-38">3ï¸âƒ£ SQLæ—¥å¿—å•ç‹¬å­˜å‚¨</h2>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- SQLæ—¥å¿—ç‹¬ç«‹æ–‡ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">RollingFile</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"SqlLog"</span> <span class="hljs-attr">fileName</span>=<span class="hljs-string">"logs/sql.log"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">PatternLayout</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">"%d{yyyy-MM-dd HH:mm:ss} - %msg%n"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">RollingFile</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">Logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"org.apache.ibatis.jdbc"</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"DEBUG"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">AppenderRef</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"SqlLog"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Logger</span>&gt;</span>
</code></pre>
<h2 data-id="heading-39">4ï¸âƒ£ æ—¥å¿—æ–‡ä»¶æ»šåŠ¨ç­–ç•¥</h2>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Policies</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- æ¯å¤©æ»šåŠ¨ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">TimeBasedTriggeringPolicy</span> <span class="hljs-attr">interval</span>=<span class="hljs-string">"1"</span>/&gt;</span>
    <span class="hljs-comment">&lt;!-- å•æ–‡ä»¶æœ€å¤§100MB --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">SizeBasedTriggeringPolicy</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"100 MB"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Policies</span>&gt;</span>
<span class="hljs-comment">&lt;!-- æœ€å¤šä¿ç•™30å¤© --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">DefaultRolloverStrategy</span> <span class="hljs-attr">max</span>=<span class="hljs-string">"30"</span>/&gt;</span>
</code></pre>
<h2 data-id="heading-40">å…«ã€æ€»ç»“</h2>
<p>MyBatisçš„æ—¥å¿—æ¨¡å—ä¸ºå¼€å‘è°ƒè¯•å’Œæ€§èƒ½ä¼˜åŒ–æä¾›äº†å¼ºå¤§çš„æ”¯æŒã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> Logæ¥å£ - MyBatiså®šä¹‰çš„ç»Ÿä¸€æ—¥å¿—æ¥å£ï¼Œå®ç°ä¸æ¡†æ¶è§£è€¦
<span class="hljs-bullet">2.</span> æ—¥å¿—é€‚é…å™¨ -é€šè¿‡é€‚é…å™¨æ¨¡å¼æ”¯æŒå¤šç§æ—¥å¿—æ¡†æ¶
<span class="hljs-bullet">3.</span> JDBCæ—¥å¿— - ç»†ç²’åº¦çš„JDBCæ“ä½œæ—¥å¿—è®°å½•
<span class="hljs-bullet">4.</span> çµæ´»é…ç½® - æ”¯æŒå¤šç§é…ç½®æ–¹å¼ï¼Œé€‚åº”ä¸åŒåœºæ™¯
<span class="hljs-bullet">5.</span> æ€§èƒ½ç›‘æ§ - é€šè¿‡æ—¥å¿—è¯†åˆ«æ€§èƒ½ç“¶é¢ˆ
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MyBatisäº‹åŠ¡ç®¡ç†æ¨¡å—è¯¦è§£]]></title>    <link>https://juejin.cn/post/7590503651141222426</link>    <guid>https://juejin.cn/post/7590503651141222426</guid>    <pubDate>2026-01-03T00:40:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590503651141222426" data-draft-id="7590021144779866158" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MyBatisäº‹åŠ¡ç®¡ç†æ¨¡å—è¯¦è§£"/> <meta itemprop="keywords" content="MyBatis"/> <meta itemprop="datePublished" content="2026-01-03T00:40:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¨ä¸­é£˜è¡çš„è®°å¿†"/> <meta itemprop="url" content="https://juejin.cn/user/694547077666606"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MyBatisäº‹åŠ¡ç®¡ç†æ¨¡å—è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/694547077666606/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¨ä¸­é£˜è¡çš„è®°å¿†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-03T00:40:33.000Z" title="Sat Jan 03 2026 00:40:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å…¨é¢è§£æMyBatisäº‹åŠ¡ç®¡ç†æœºåˆ¶ï¼ŒåŠ©ä½ æŒæ¡æ•°æ®ä¸€è‡´æ€§çš„æ ¸å¿ƒæŠ€æœ¯</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€MyBatisæ•´ä½“æ¶æ„ä¸äº‹åŠ¡ç®¡ç†æ¨¡å—</h2>
<p>åœ¨æ·±å…¥äº‹åŠ¡ç®¡ç†æ¨¡å—ä¹‹å‰,æˆ‘ä»¬å…ˆäº†è§£MyBatisçš„æ•´ä½“æ¶æ„,ä»¥åŠäº‹åŠ¡ç®¡ç†æ¨¡å—åœ¨å…¶ä¸­çš„é‡è¦åœ°ä½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f51cffd6fb4c4336b3b3c56b5cf00117~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768005633&amp;x-signature=JV9t4JfVpr6gJf7v%2FN3nFbgcvcw%3D" alt="" loading="lazy"/></p>
<p>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡º,MyBatisé‡‡ç”¨äº†åˆ†å±‚æ¶æ„è®¾è®¡,è€Œäº‹åŠ¡ç®¡ç†æ¨¡å—(Transaction)ä½äºåŸºç¡€æ”¯æ’‘å±‚,æ˜¯ä¿è¯æ•°æ®ä¸€è‡´æ€§çš„å…³é”®ç»„ä»¶ã€‚</p>
<h2 data-id="heading-1">1.1 äº‹åŠ¡ç®¡ç†æ¨¡å—çš„æ ¸å¿ƒèŒè´£</h2>
<p>äº‹åŠ¡ç®¡ç†æ¨¡å—ä¸»è¦æ‰¿æ‹…ä»¥ä¸‹æ ¸å¿ƒèŒè´£ï¼š</p>
<pre><code class="hljs">âœ… ç®¡ç†æ•°æ®åº“äº‹åŠ¡ - æ§åˆ¶äº‹åŠ¡çš„å¼€å§‹ã€æäº¤å’Œå›æ»š
âœ… äº‹åŠ¡æäº¤å’Œå›æ»š - æ ¹æ®æ“ä½œç»“æœå†³å®šæäº¤æˆ–å›æ»šäº‹åŠ¡
âœ… è¿æ¥ç®¡ç† - è·å–å’Œé‡Šæ”¾æ•°æ®åº“è¿æ¥
âœ… ä¸ä¸åŒæ¡†æ¶é›†æˆ - æ”¯æŒä¸Springã€Guiceç­‰æ¡†æ¶çš„é›†æˆ
âœ… éš”ç¦»çº§åˆ«æ§åˆ¶ - æ”¯æŒä¸åŒçš„äº‹åŠ¡éš”ç¦»çº§åˆ«
</code></pre>
<h2 data-id="heading-2">1.2 ä»€ä¹ˆæ˜¯äº‹åŠ¡</h2>
<p><strong>äº‹åŠ¡(Transaction)</strong> æ˜¯æ•°æ®åº“æ“ä½œçš„åŸºæœ¬å•å…ƒ,åŒ…å«ä¸€ç³»åˆ—æ“ä½œ,è¿™äº›æ“ä½œ<strong>è¦ä¹ˆå…¨éƒ¨æˆåŠŸ,è¦ä¹ˆå…¨éƒ¨å¤±è´¥</strong>ã€‚</p>
<p>äº‹åŠ¡å…·æœ‰å››ä¸ªé‡è¦ç‰¹æ€§(ACID):</p>






























<table><thead><tr><th>ç‰¹æ€§</th><th>è¯´æ˜</th><th>ç¤ºä¾‹åœºæ™¯</th></tr></thead><tbody><tr><td>åŸå­æ€§Atomicity</td><td>äº‹åŠ¡ä¸­çš„æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸè¦ä¹ˆå…¨éƒ¨å¤±è´¥</td><td>è½¬è´¦ï¼šæ‰£æ¬¾å’Œå­˜æ¬¾åŒæ—¶æˆåŠŸæˆ–åŒæ—¶å¤±è´¥</td></tr><tr><td>ä¸€è‡´æ€§Consistency</td><td>äº‹åŠ¡æ‰§è¡Œå‰åæ•°æ®åº“çŠ¶æ€ä¿æŒä¸€è‡´</td><td>è½¬è´¦å‰åæ€»é‡‘é¢ä¸å˜</td></tr><tr><td>éš”ç¦»æ€§Isolation</td><td>å¹¶å‘äº‹åŠ¡ä¹‹é—´ç›¸äº’éš”ç¦»</td><td>ä¸€ä¸ªäº‹åŠ¡çœ‹ä¸åˆ°å…¶ä»–æœªæäº¤äº‹åŠ¡çš„æ•°æ®</td></tr><tr><td>æŒä¹…æ€§Durability</td><td>äº‹åŠ¡æäº¤åæ•°æ®æ°¸ä¹…ä¿å­˜</td><td>å³ä½¿ç³»ç»Ÿå´©æºƒæäº¤çš„æ•°æ®ä¹Ÿä¸ä¼šä¸¢å¤±</td></tr></tbody></table>
<h2 data-id="heading-3">äºŒã€Transactionæ¥å£æ¶æ„</h2>
<p>MyBatisçš„äº‹åŠ¡ç®¡ç†æ¨¡å—é‡‡ç”¨äº†ç®€æ´çš„æ¥å£è®¾è®¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b93720e41a2456499093ac255797bd2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768005633&amp;x-signature=94uA8%2BZz%2FLp2lnalExAQOUOOvJM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">2.1 Transactionæ¥å£</h2>
<p>Transactionæ˜¯äº‹åŠ¡ç®¡ç†çš„<strong>é¡¶å±‚æ¥å£</strong>:</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">Transaction</span> {
    <span class="hljs-comment">// è·å–æ•°æ®åº“è¿æ¥</span>
    <span class="hljs-function">Connection <span class="hljs-title">getConnection</span>() throws SQLException</span>;

    <span class="hljs-comment">// æäº¤äº‹åŠ¡</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">commit</span>() throws SQLException</span>;

    <span class="hljs-comment">// å›æ»šäº‹åŠ¡</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">rollback</span>() throws SQLException</span>;

    <span class="hljs-comment">// å…³é—­è¿æ¥</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">close</span>() throws SQLException</span>;

    <span class="hljs-comment">// è·å–äº‹åŠ¡è¶…æ—¶æ—¶é—´</span>
    <span class="hljs-function">Integer <span class="hljs-title">getTimeout</span>() throws SQLException</span>;
}
</code></pre>
<h2 data-id="heading-5">2.2 Transactionå®ç°ç±»</h2>
<p>MyBatisæä¾›äº†å¤šç§Transactionå®ç°ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">Transaction (æ¥å£)
  â”œâ”€â”€ JdbcTransaction (JDBCäº‹åŠ¡)
  â”œâ”€â”€ ManagedTransaction (æ‰˜ç®¡äº‹åŠ¡)
  â””â”€â”€ è‡ªå®šä¹‰Transactionå®ç°
</code></pre>
<p>JdbcTransactionæ˜¯ä½¿ç”¨<strong>JDBCåŸç”Ÿæ–¹å¼</strong>ç®¡ç†äº‹åŠ¡çš„å®ç°ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcTransaction</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Transaction</span> {
    <span class="hljs-keyword">protected</span> Connection connection;
    <span class="hljs-keyword">protected</span> DataSource dataSource;
    <span class="hljs-keyword">protected</span> TransactionIsolationLevel level;
    <span class="hljs-keyword">protected</span> <span class="hljs-type">boolean</span> autoCommit;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">JdbcTransaction</span><span class="hljs-params">(DataSource ds, 
                          TransactionIsolationLevel desiredLevel, 
                          <span class="hljs-type">boolean</span> desiredAutoCommit)</span> {
        dataSource = ds;
        level = desiredLevel;
        autoCommit = desiredAutoCommit;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Connection <span class="hljs-title function_">getConnection</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-keyword">if</span> (connection == <span class="hljs-literal">null</span>) {
            openConnection();
        }
        <span class="hljs-keyword">return</span> connection;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">commit</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-keyword">if</span> (connection != <span class="hljs-literal">null</span> &amp;&amp; !connection.getAutoCommit()) {
            connection.commit();
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rollback</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-keyword">if</span> (connection != <span class="hljs-literal">null</span> &amp;&amp; !connection.getAutoCommit()) {
            connection.rollback();
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-keyword">if</span> (connection != <span class="hljs-literal">null</span>) {
            connection.close();
            connection = <span class="hljs-literal">null</span>;
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">openConnection</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException {
        connection = dataSource.getConnection();
        <span class="hljs-keyword">if</span> (level != <span class="hljs-literal">null</span>) {
            connection.setTransactionIsolation(level.getLevel());
        }
        <span class="hljs-keyword">if</span> (autoCommit != <span class="hljs-literal">null</span> 
            &amp;&amp; autoCommit != connection.getAutoCommit()) {
            connection.setAutoCommit(autoCommit);
        }
    }
}
</code></pre>
<p>ManagedTransactionè®©<strong>å®¹å™¨æ¥ç®¡ç†</strong>äº‹åŠ¡çš„ç”Ÿå‘½å‘¨æœŸï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ManagedTransaction</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Transaction</span> {
    <span class="hljs-keyword">private</span> DataSource dataSource;
    <span class="hljs-keyword">private</span> TransactionIsolationLevel level;
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> closeConnection;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ManagedTransaction</span><span class="hljs-params">(DataSource ds, 
                             TransactionIsolationLevel level, 
                             <span class="hljs-type">boolean</span> closeConnection)</span> {
        <span class="hljs-built_in">this</span>.dataSource = ds;
        <span class="hljs-built_in">this</span>.level = level;
        <span class="hljs-built_in">this</span>.closeConnection = closeConnection;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Connection <span class="hljs-title function_">getConnection</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-keyword">if</span> (connection == <span class="hljs-literal">null</span>) {
            openConnection();
        }
        <span class="hljs-keyword">return</span> connection;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">commit</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-comment">// ä¸åšä»»ä½•äº‹ï¼Œç”±å®¹å™¨ç®¡ç†æäº¤</span>
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rollback</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-comment">// ä¸åšä»»ä½•äº‹ï¼Œç”±å®¹å™¨ç®¡ç†å›æ»š</span>
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-keyword">if</span> (closeConnection &amp;&amp; connection != <span class="hljs-literal">null</span>) {
            connection.close();
            connection = <span class="hljs-literal">null</span>;
        }
    }
}
</code></pre>
<h2 data-id="heading-6">ä¸‰ã€äº‹åŠ¡ç®¡ç†æµç¨‹</h2>
<p>å®Œæ•´çš„äº‹åŠ¡ç®¡ç†æµç¨‹æ˜¯ç¡®ä¿æ•°æ®ä¸€è‡´æ€§çš„å…³é”®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/88043f1eb1954c0aa444d887b77c8e91~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768005633&amp;x-signature=HG3Tu1H0iREvZBlYbz%2BvtIoBvlc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7">3.1 äº‹åŠ¡ç”Ÿå‘½å‘¨æœŸ</h2>
<p>ä¸€ä¸ªå®Œæ•´çš„äº‹åŠ¡ç”Ÿå‘½å‘¨æœŸåŒ…æ‹¬ä»¥ä¸‹é˜¶æ®µï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// 1. å¼€å¯äº‹åŠ¡
SqlSession <span class="hljs-attr">session</span> = sqlSessionFactory.openSession()<span class="hljs-comment">;</span>

try {
    // 2. æ‰§è¡Œæ•°æ®åº“æ“ä½œ
    User <span class="hljs-attr">user</span> = new User(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"zhangsan@example.com"</span>)<span class="hljs-comment">;</span>
    userMapper.insert(user)<span class="hljs-comment">;</span>

    Order <span class="hljs-attr">order</span> = new Order(user.getId(), <span class="hljs-string">"iPhone 15"</span>, <span class="hljs-number">6999</span>)<span class="hljs-comment">;</span>
    orderMapper.insert(order)<span class="hljs-comment">;</span>

    // 3. æäº¤äº‹åŠ¡
    session.commit()<span class="hljs-comment">;</span>
} catch (Exception e) {
    // 4. å›æ»šäº‹åŠ¡
    session.rollback()<span class="hljs-comment">;</span>
    throw e<span class="hljs-comment">;</span>
} finally {
    // 5. å…³é—­ä¼šè¯
    session.close()<span class="hljs-comment">;</span>
}
</code></pre>
<h2 data-id="heading-8">3.2 è‡ªåŠ¨æäº¤ä¸æ‰‹åŠ¨æäº¤</h2>
<p>MyBatisæ”¯æŒä¸¤ç§äº‹åŠ¡æäº¤æ¨¡å¼ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// è‡ªåŠ¨æäº¤æ¨¡å¼ï¼šæ¯æ¡SQLè‡ªåŠ¨æäº¤
SqlSession <span class="hljs-attr">session</span> = sqlSessionFactory.openSession(<span class="hljs-literal">true</span>)<span class="hljs-comment">;</span>
try {
    User <span class="hljs-attr">user</span> = new User(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"zhangsan@example.com"</span>)<span class="hljs-comment">;</span>
    userMapper.insert(user)<span class="hljs-comment">;</span>
    // æ— éœ€æ‰‹åŠ¨æäº¤ï¼Œè‡ªåŠ¨æäº¤
} finally {
    session.close()<span class="hljs-comment">;</span>
}
// æ‰‹åŠ¨æäº¤æ¨¡å¼ï¼šéœ€è¦æ˜¾å¼æäº¤
SqlSession <span class="hljs-attr">session</span> = sqlSessionFactory.openSession(<span class="hljs-literal">false</span>)<span class="hljs-comment">;</span>
try {
    User <span class="hljs-attr">user</span> = new User(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"zhangsan@example.com"</span>)<span class="hljs-comment">;</span>
    userMapper.insert(user)<span class="hljs-comment">;</span>

    Order <span class="hljs-attr">order</span> = new Order(user.getId(), <span class="hljs-string">"iPhone 15"</span>, <span class="hljs-number">6999</span>)<span class="hljs-comment">;</span>
    orderMapper.insert(order)<span class="hljs-comment">;</span>

    // å¤šæ¡SQLåœ¨åŒä¸€äº‹åŠ¡ä¸­
    session.commit()<span class="hljs-comment">; // æ˜¾å¼æäº¤</span>
} catch (Exception e) {
    session.rollback()<span class="hljs-comment">; // æ˜¾å¼å›æ»š</span>
    throw e<span class="hljs-comment">;</span>
} finally {
    session.close()<span class="hljs-comment">;</span>
}
</code></pre>
<h2 data-id="heading-9">3.3 Executorä¸­çš„äº‹åŠ¡ç®¡ç†</h2>
<p>Executoråœ¨æ‰§è¡ŒSQLæ—¶ä¼šæ¶‰åŠåˆ°äº‹åŠ¡ç®¡ç†ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">public abstract class BaseExecutor implements Executor {
    private Transaction transaction;

    <span class="hljs-keyword">@Override</span>
    public int <span class="hljs-attribute">update</span>(MappedStatement ms, Object parameter) 
            throws SQLException {
        ErrorContext<span class="hljs-selector-class">.instance</span>()<span class="hljs-selector-class">.begin</span>(ms.getId(), 
            ms<span class="hljs-selector-class">.getSqlSource</span>()<span class="hljs-selector-class">.getBoundSql</span>(parameter));
        try {
            <span class="hljs-comment">// æ¸…ç©ºä¸€çº§ç¼“å­˜</span>
            <span class="hljs-built_in">clearLocalCache</span>();

            <span class="hljs-comment">// æ‰§è¡Œæ›´æ–°æ“ä½œ</span>
            return <span class="hljs-built_in">doUpdate</span>(ms, parameter);
        } catch (SQLException e) {
            throw ExceptionFactory<span class="hljs-selector-class">.wrapException</span>(
                "Error updating database. Cause: " + e, e);
        } finally {
            ErrorContext<span class="hljs-selector-class">.instance</span>()<span class="hljs-selector-class">.end</span>();
        }
    }

    <span class="hljs-keyword">@Override</span>
    public void commit(boolean required) throws SQLException {
        if (closed) {
            throw new <span class="hljs-built_in">ExecutorException</span>(
                "Cannot commit, transaction is already closed");
        }

        <span class="hljs-comment">// æ¸…ç©ºä¸€çº§ç¼“å­˜</span>
        <span class="hljs-built_in">clearLocalCache</span>();

        <span class="hljs-comment">// åˆ·æ–°æ‰¹å¤„ç†</span>
        <span class="hljs-built_in">flushStatements</span>();

        <span class="hljs-comment">// æäº¤äº‹åŠ¡</span>
        if (required) {
            transaction<span class="hljs-selector-class">.commit</span>();
        }
    }

    <span class="hljs-keyword">@Override</span>
    public void rollback(boolean required) throws SQLException {
        if (closed) {
            throw new <span class="hljs-built_in">ExecutorException</span>(
                "Cannot rollback, transaction is already closed");
        }

        <span class="hljs-comment">// æ¸…ç©ºä¸€çº§ç¼“å­˜</span>
        <span class="hljs-built_in">clearLocalCache</span>();

        <span class="hljs-comment">// åˆ·æ–°æ‰¹å¤„ç†</span>
        <span class="hljs-built_in">flushStatements</span>(true);

        <span class="hljs-comment">// å›æ»šäº‹åŠ¡</span>
        if (required) {
            transaction<span class="hljs-selector-class">.rollback</span>();
        }
    }
}
</code></pre>
<h2 data-id="heading-10">å››ã€äº‹åŠ¡æäº¤å’Œå›æ»šæœºåˆ¶</h2>
<p>äº‹åŠ¡çš„æäº¤å’Œå›æ»šæ˜¯ä¿è¯æ•°æ®ä¸€è‡´æ€§çš„æ ¸å¿ƒæœºåˆ¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78544a13f1134e4da78dd202dce2cbef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768005633&amp;x-signature=ME4kkWLpcZp0n5uHO1Nl2PWwI58%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-11">4.1 äº‹åŠ¡æäº¤æµç¨‹</h2>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// SqlSessionä¸­çš„æäº¤å®ç°</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">commit</span><span class="hljs-params">()</span> {
    <span class="hljs-type">boolean</span> <span class="hljs-variable">commit</span> <span class="hljs-operator">=</span> required;
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// æ‰§è¡Œæ‰€æœ‰æŒ‚èµ·çš„SQLè¯­å¥</span>
        flushStatements();

        <span class="hljs-keyword">if</span> (commit) {
            <span class="hljs-comment">// å§”æ‰˜ç»™Executoræäº¤</span>
            executor.commit(isCommitOrRollbackRequired(<span class="hljs-literal">false</span>));
        }
    } <span class="hljs-keyword">catch</span> (Exception e) {
        <span class="hljs-keyword">throw</span> ExceptionFactory.wrapException(
            <span class="hljs-string">"Error committing transaction. Cause: "</span> + e, e);
    }
}

<span class="hljs-comment">// Executorä¸­çš„æäº¤å®ç°</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">commit</span><span class="hljs-params">(<span class="hljs-type">boolean</span> required)</span> <span class="hljs-keyword">throws</span> SQLException {
    <span class="hljs-keyword">if</span> (closed) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExecutorException</span>(
            <span class="hljs-string">"Cannot commit, transaction is already closed"</span>);
    }

    <span class="hljs-keyword">if</span> (required) {
        <span class="hljs-comment">// æ¸…ç©ºä¸€çº§ç¼“å­˜</span>
        clearLocalCache();

        <span class="hljs-comment">// åˆ·æ–°æ‰¹å¤„ç†</span>
        flushStatements();

        <span class="hljs-comment">// æäº¤æ•°æ®åº“äº‹åŠ¡</span>
        transaction.commit();
    }
}
</code></pre>
<h2 data-id="heading-12">4.2 äº‹åŠ¡å›æ»šæµç¨‹</h2>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// SqlSessionä¸­çš„å›æ»šå®ç°</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rollback</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// æ‰§è¡Œæ‰€æœ‰æŒ‚èµ·çš„SQLè¯­å¥</span>
        flushStatements(<span class="hljs-literal">true</span>);

        <span class="hljs-comment">// å§”æ‰˜ç»™Executorå›æ»š</span>
        executor.rollback(isCommitOrRollbackRequired(<span class="hljs-literal">true</span>));
    } <span class="hljs-keyword">catch</span> (Exception e) {
        <span class="hljs-keyword">throw</span> ExceptionFactory.wrapException(
            <span class="hljs-string">"Error rolling back transaction. Cause: "</span> + e, e);
    }
}

<span class="hljs-comment">// Executorä¸­çš„å›æ»šå®ç°</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rollback</span><span class="hljs-params">(<span class="hljs-type">boolean</span> required)</span> <span class="hljs-keyword">throws</span> SQLException {
    <span class="hljs-keyword">if</span> (closed) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExecutorException</span>(
            <span class="hljs-string">"Cannot rollback, transaction is already closed"</span>);
    }

    <span class="hljs-keyword">if</span> (required) {
        <span class="hljs-comment">// æ¸…ç©ºä¸€çº§ç¼“å­˜</span>
        clearLocalCache();

        <span class="hljs-comment">// åˆ·æ–°æ‰¹å¤„ç†</span>
        flushStatements(<span class="hljs-literal">true</span>);

        <span class="hljs-comment">// å›æ»šæ•°æ®åº“äº‹åŠ¡</span>
        transaction.rollback();
    }
}
</code></pre>
<h2 data-id="heading-13">4.3 å›æ»šè§¦å‘æ¡ä»¶</h2>
<p>ä»¥ä¸‹æƒ…å†µä¼šè§¦å‘äº‹åŠ¡å›æ»šï¼š</p>
<pre><code class="hljs language-ini" lang="ini">try {
    userMapper.insert(user)<span class="hljs-comment">;</span>
    orderMapper.insert(order)<span class="hljs-comment">;</span>
    session.commit()<span class="hljs-comment">;</span>
} catch (Exception e) {
    session.rollback()<span class="hljs-comment">;</span>
    throw e<span class="hljs-comment">;</span>
}
if (!isValid(order)) {
    session.rollback()<span class="hljs-comment">;</span>
    return<span class="hljs-comment">;</span>
}
session.commit()<span class="hljs-comment">;</span>
SqlSession <span class="hljs-attr">session</span> = sqlSessionFactory.openSession(
    ExecutorType.BATCH)<span class="hljs-comment">;</span>
try {
    List&lt;User&gt; <span class="hljs-attr">users</span> = getBatchUsers()<span class="hljs-comment">;</span>
    for (User user : users) {
        userMapper.insert(user)<span class="hljs-comment">;</span>
    }
    session.commit()<span class="hljs-comment">;</span>
} catch (Exception e) {
    session.rollback()<span class="hljs-comment">;</span>
    throw e<span class="hljs-comment">;</span>
} finally {
    session.close()<span class="hljs-comment">;</span>
}
</code></pre>
<h2 data-id="heading-14">4.4 äº‹åŠ¡éš”ç¦»çº§åˆ«</h2>
<p>MyBatisæ”¯æŒæ ‡å‡†çš„JDBCäº‹åŠ¡éš”ç¦»çº§åˆ«ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">public enum IsolationLevel {
    <span class="hljs-attribute">NONE</span>(Connection.TRANSACTION_NONE),
    <span class="hljs-built_in">READ_COMMITTED</span>(Connection.TRANSACTION_READ_COMMITTED),
    <span class="hljs-built_in">READ_UNCOMMITTED</span>(Connection.TRANSACTION_READ_UNCOMMITTED),
    <span class="hljs-built_in">REPEATABLE_READ</span>(Connection.TRANSACTION_REPEATABLE_READ),
    <span class="hljs-built_in">SERIALIZABLE</span>(Connection.TRANSACTION_SERIALIZABLE);

    public int <span class="hljs-built_in">getLevel</span>() {
        return level;
    }
}
</code></pre>
<p>é…ç½®æ–¹å¼ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- åœ¨mybatis-config.xmlä¸­é…ç½® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"defaultTransactionIsolationLevel"</span> 
             <span class="hljs-attr">value</span>=<span class="hljs-string">"READ_COMMITTED"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span>

<span class="hljs-comment">&lt;!-- åœ¨DataSourceä¸­é…ç½® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dataSource</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"POOLED"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"driver"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${driver}"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"url"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${url}"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${username}"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${password}"</span>/&gt;</span>
    <span class="hljs-comment">&lt;!-- è®¾ç½®é»˜è®¤éš”ç¦»çº§åˆ« --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"defaultTransactionIsolationLevel"</span> 
              <span class="hljs-attr">value</span>=<span class="hljs-string">"2"</span>/&gt;</span> <span class="hljs-comment">&lt;!-- READ_COMMITTED --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dataSource</span>&gt;</span>
</code></pre>
<h2 data-id="heading-15">äº”ã€ä¸Springæ¡†æ¶é›†æˆ</h2>
<p>åœ¨å®é™…é¡¹ç›®ä¸­,MyBatisé€šå¸¸ä¸Springé›†æˆ,ç”±Springç»Ÿä¸€ç®¡ç†äº‹åŠ¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a723c4cc44d4275b56e7742e41ff8e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768005633&amp;x-signature=rtIcddWP9rgg3zVHG5Rpo3lh2NA%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-16">5.1 Springäº‹åŠ¡é…ç½®</h2>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- é…ç½®äº‹åŠ¡ç®¡ç†å™¨ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"transactionManager"</span> 
      <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"dataSource"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"dataSource"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

<span class="hljs-comment">&lt;!-- é…ç½®äº‹åŠ¡é€šçŸ¥ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">tx:advice</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"txAdvice"</span> <span class="hljs-attr">transaction-manager</span>=<span class="hljs-string">"transactionManager"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tx:attributes</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"select*"</span> <span class="hljs-attr">read-only</span>=<span class="hljs-string">"true"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"get*"</span> <span class="hljs-attr">read-only</span>=<span class="hljs-string">"true"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"query*"</span> <span class="hljs-attr">read-only</span>=<span class="hljs-string">"true"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"*"</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">"REQUIRED"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tx:attributes</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">tx:advice</span>&gt;</span>

<span class="hljs-comment">&lt;!-- é…ç½®äº‹åŠ¡åˆ‡é¢ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">aop:config</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">aop:pointcut</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"servicePointcut"</span> 
                  <span class="hljs-attr">expression</span>=<span class="hljs-string">"execution(* com.example.service.*.*(..))"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">aop:advisor</span> <span class="hljs-attr">advice-ref</span>=<span class="hljs-string">"txAdvice"</span> 
                 <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">"servicePointcut"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">aop:config</span>&gt;</span>
@Configuration
@EnableTransactionManagement
public class MyBatisConfig {

    @Bean
    public DataSourceTransactionManager transactionManager(
            DataSource dataSource) {
        return new DataSourceTransactionManager(dataSource);
    }

    @Bean
    public SqlSessionFactoryBean sqlSessionFactory(
            DataSource dataSource) throws Exception {
        SqlSessionFactoryBean sessionFactory = 
            new SqlSessionFactoryBean();
        sessionFactory.setDataSource(dataSource);
        sessionFactory.setMapperLocations(
            new PathMatchingResourcePatternResolver()
                .getResources("classpath:mapper/*.xml"));
        return sessionFactory;
    }

    @Bean
    public MapperScannerConfigurer mapperScannerConfigurer() {
        MapperScannerConfigurer scanner = 
            new MapperScannerConfigurer();
        scanner.setBasePackage("com.example.mapper");
        return scanner;
    }
}
</code></pre>
<h2 data-id="heading-17">5.2 ä½¿ç”¨@Transactionalæ³¨è§£</h2>
<p>åœ¨Serviceå±‚ä½¿ç”¨@Transactionalæ³¨è§£ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">UserMapper</span> userMapper;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">OrderMapper</span> orderMapper;

    <span class="hljs-comment">// é»˜è®¤äº‹åŠ¡ç®¡ç†</span>
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">createUserWithOrder</span>(<span class="hljs-params">User user, Order order</span>) {
        userMapper.<span class="hljs-title function_">insert</span>(user);
        orderMapper.<span class="hljs-title function_">insert</span>(order);
    }

    <span class="hljs-comment">// åªè¯»äº‹åŠ¡</span>
    <span class="hljs-meta">@Transactional</span>(readOnly = <span class="hljs-literal">true</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">User</span> <span class="hljs-title function_">getUserById</span>(<span class="hljs-params">Long id</span>) {
        <span class="hljs-keyword">return</span> userMapper.<span class="hljs-title function_">selectById</span>(id);
    }

    <span class="hljs-comment">// æŒ‡å®šéš”ç¦»çº§åˆ«</span>
    <span class="hljs-meta">@Transactional</span>(isolation = <span class="hljs-title class_">Isolation</span>.<span class="hljs-property">READ_COMMITTED</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">updateUser</span>(<span class="hljs-params">User user</span>) {
        userMapper.<span class="hljs-title function_">update</span>(user);
    }

    <span class="hljs-comment">// æŒ‡å®šä¼ æ’­è¡Œä¸º</span>
    <span class="hljs-meta">@Transactional</span>(propagation = <span class="hljs-title class_">Propagation</span>.<span class="hljs-property">REQUIRES_NEW</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">logOperation</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> operation</span>) {
        <span class="hljs-comment">// åœ¨æ–°äº‹åŠ¡ä¸­æ‰§è¡Œ</span>
    }

    <span class="hljs-comment">// æŒ‡å®šå›æ»šå¼‚å¸¸</span>
    <span class="hljs-meta">@Transactional</span>(rollbackFor = {<span class="hljs-title class_">Exception</span>.<span class="hljs-property">class</span>})
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">transfer</span>(<span class="hljs-params">Long fromId, Long toId, BigDecimal amount</span>) {
        userMapper.<span class="hljs-title function_">decrease</span>(fromId, amount);
        userMapper.<span class="hljs-title function_">increase</span>(toId, amount);
    }

    <span class="hljs-comment">// ä¸å›æ»šç‰¹å®šå¼‚å¸¸</span>
    <span class="hljs-meta">@Transactional</span>(noRollbackFor = {<span class="hljs-title class_">BusinessException</span>.<span class="hljs-property">class</span>})
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">processWithBusinessException</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// ...</span>
    }

    <span class="hljs-comment">// è¶…æ—¶è®¾ç½®</span>
    <span class="hljs-meta">@Transactional</span>(timeout = <span class="hljs-number">30</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">longRunningOperation</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// ...</span>
    }
}
</code></pre>
<h2 data-id="heading-18">5.3 Springäº‹åŠ¡ä¼ æ’­è¡Œä¸º</h2>
<p>Springæ”¯æŒå¤šç§äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼š</p>













































<table><thead><tr><th>ä¼ æ’­è¡Œä¸º</th><th>è¯´æ˜</th><th>ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>REQUIRED(é»˜è®¤)</td><td>å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡,åˆ™åŠ å…¥å¦åˆ™åˆ›å»ºæ–°äº‹åŠ¡</td><td>å¤§å¤šæ•°æƒ…å†µ</td></tr><tr><td>REQUIRES_NEW</td><td>æ€»æ˜¯åˆ›å»ºæ–°äº‹åŠ¡æŒ‚èµ·å½“å‰äº‹åŠ¡</td><td>æ—¥å¿—è®°å½•å®¡è®¡</td></tr><tr><td>SUPPORTS</td><td>å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡,åˆ™åŠ å…¥å¦åˆ™éäº‹åŠ¡æ‰§è¡Œ</td><td>æŸ¥è¯¢æ“ä½œ</td></tr><tr><td>NOT_SUPPORTED</td><td>æ€»æ˜¯éäº‹åŠ¡æ‰§è¡ŒæŒ‚èµ·å½“å‰äº‹åŠ¡</td><td>æ‰¹é‡å¯¼å…¥</td></tr><tr><td>NEVER</td><td>æ€»æ˜¯éäº‹åŠ¡æ‰§è¡Œå¦‚æœå­˜åœ¨äº‹åŠ¡åˆ™æŠ›å¼‚å¸¸</td><td>ä¸éœ€è¦äº‹åŠ¡çš„æ“ä½œ</td></tr><tr><td>MANDATORY</td><td>å¿…é¡»åœ¨äº‹åŠ¡ä¸­æ‰§è¡Œå¦åˆ™æŠ›å¼‚å¸¸</td><td>å¿…é¡»æœ‰äº‹åŠ¡çš„æ“ä½œ</td></tr><tr><td>NESTED</td><td>å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡åˆ™åµŒå¥—æ‰§è¡Œ</td><td>åµŒå¥—ä¸šåŠ¡é€»è¾‘</td></tr></tbody></table>
<h2 data-id="heading-19">5.4 é›†æˆç¤ºä¾‹</h2>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserService userService;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OrderService orderService;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> PaymentService paymentService;

    <span class="hljs-comment">// ä¸»æµç¨‹ï¼šä½¿ç”¨REQUIREDä¼ æ’­</span>
    <span class="hljs-meta">@Transactional(propagation = Propagation.REQUIRED)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createOrder</span><span class="hljs-params">(Order order)</span> {
        <span class="hljs-comment">// 1. åˆ›å»ºç”¨æˆ·ï¼ˆåŠ å…¥å½“å‰äº‹åŠ¡ï¼‰</span>
        userService.updateUserBalance(
            order.getUserId(), 
            order.getAmount().negate());

        <span class="hljs-comment">// 2. åˆ›å»ºè®¢å•ï¼ˆåŠ å…¥å½“å‰äº‹åŠ¡ï¼‰</span>
        orderMapper.insert(order);

        <span class="hljs-comment">// 3. æ”¯ä»˜ï¼ˆåŠ å…¥å½“å‰äº‹åŠ¡ï¼‰</span>
        paymentService.processPayment(order);

        <span class="hljs-comment">// äº‹åŠ¡æäº¤</span>
    }

    <span class="hljs-comment">// æ”¯ä»˜æœåŠ¡ï¼šREQUIRES_NEWï¼Œç‹¬ç«‹äº‹åŠ¡</span>
    <span class="hljs-meta">@Transactional(propagation = Propagation.REQUIRES_NEW)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processPayment</span><span class="hljs-params">(Order order)</span> {
        <span class="hljs-comment">// åœ¨æ–°äº‹åŠ¡ä¸­æ‰§è¡Œ</span>
        paymentMapper.insert(order);
    }

    <span class="hljs-comment">// å¼‚å¸¸å¤„ç†ï¼šè‡ªåŠ¨å›æ»š</span>
    <span class="hljs-meta">@Transactional(rollbackFor = Exception.class)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">transfer</span><span class="hljs-params">(Long fromId, Long toId, 
                        BigDecimal amount)</span> {
        <span class="hljs-keyword">try</span> {
            userService.decrease(fromId, amount);
            userService.increase(toId, amount);
            <span class="hljs-comment">// æˆåŠŸï¼šè‡ªåŠ¨æäº¤</span>
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-comment">// å¤±è´¥ï¼šè‡ªåŠ¨å›æ»š</span>
            <span class="hljs-keyword">throw</span> e;
        }
    }
}
</code></pre>
<h2 data-id="heading-20">å…­ã€äº‹åŠ¡ä¼ æ’­æœºåˆ¶</h2>
<p>äº‹åŠ¡ä¼ æ’­å®šä¹‰äº†äº‹åŠ¡æ–¹æ³•è¢«è°ƒç”¨æ—¶äº‹åŠ¡è¾¹ç•Œçš„è¡Œä¸ºã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d4624412659e4e16b76d7db137b46ae6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768005633&amp;x-signature=OCANyrEM0ryl28nch8dVKULCiF0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-21">6.1 ä¼ æ’­è¡Œä¸ºè¯¦è§£</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Transactional</span>(propagation = <span class="hljs-title class_">Propagation</span>.<span class="hljs-property">REQUIRED</span>)
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">methodA</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">methodB</span>();  <span class="hljs-comment">// åŠ å…¥methodAçš„äº‹åŠ¡</span>
}

<span class="hljs-meta">@Transactional</span>(propagation = <span class="hljs-title class_">Propagation</span>.<span class="hljs-property">REQUIRED</span>)
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">methodB</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ...</span>
}
<span class="hljs-meta">@Transactional</span>(propagation = <span class="hljs-title class_">Propagation</span>.<span class="hljs-property">REQUIRED</span>)
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">methodA</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">methodB</span>();  <span class="hljs-comment">// methodBåœ¨æ–°äº‹åŠ¡ä¸­æ‰§è¡Œ</span>
    <span class="hljs-comment">// methodAçš„äº‹åŠ¡è¢«æŒ‚èµ·</span>
}

<span class="hljs-meta">@Transactional</span>(propagation = <span class="hljs-title class_">Propagation</span>.<span class="hljs-property">REQUIRES_NEW</span>)
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">methodB</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// åœ¨ç‹¬ç«‹äº‹åŠ¡ä¸­æ‰§è¡Œ</span>
}
<span class="hljs-meta">@Transactional</span>(propagation = <span class="hljs-title class_">Propagation</span>.<span class="hljs-property">REQUIRED</span>)
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">methodA</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">methodB</span>();  <span class="hljs-comment">// methodBåœ¨åµŒå¥—äº‹åŠ¡ä¸­æ‰§è¡Œ</span>
    <span class="hljs-comment">// å¦‚æœmethodBå¤±è´¥ï¼Œåªå›æ»šmethodB</span>
}

<span class="hljs-meta">@Transactional</span>(propagation = <span class="hljs-title class_">Propagation</span>.<span class="hljs-property">NESTED</span>)
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">methodB</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// åœ¨åµŒå¥—äº‹åŠ¡ä¸­æ‰§è¡Œ</span>
}
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TransactionalService</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">LogService</span> logService;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">DataService</span> dataService;

    <span class="hljs-comment">// ä¸»äº‹åŠ¡</span>
    <span class="hljs-meta">@Transactional</span>(propagation = <span class="hljs-title class_">Propagation</span>.<span class="hljs-property">REQUIRED</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">businessOperation</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 1. ä¸šåŠ¡æ“ä½œï¼ˆä¸»äº‹åŠ¡ï¼‰</span>
            dataService.<span class="hljs-title function_">insertData</span>(<span class="hljs-string">"ä¸šåŠ¡æ•°æ®"</span>);

            <span class="hljs-comment">// 2. è®°å½•æ—¥å¿—ï¼ˆç‹¬ç«‹äº‹åŠ¡ï¼‰</span>
            logService.<span class="hljs-title function_">saveLog</span>(<span class="hljs-string">"æ“ä½œæ—¥å¿—"</span>);

            <span class="hljs-comment">// 3. å‘é€é€šçŸ¥ï¼ˆç‹¬ç«‹äº‹åŠ¡ï¼‰</span>
            logService.<span class="hljs-title function_">sendNotification</span>(<span class="hljs-string">"æ“ä½œé€šçŸ¥"</span>);

        } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">Exception</span> e) {
            <span class="hljs-comment">// ä¸šåŠ¡å¤±è´¥ï¼Œä¸»äº‹åŠ¡å›æ»š</span>
            <span class="hljs-comment">// ä½†æ—¥å¿—è®°å½•å’Œé€šçŸ¥ä¸ä¼šå›æ»š</span>
            <span class="hljs-comment">// ï¼ˆå› ä¸ºä½¿ç”¨äº†REQUIRES_NEWï¼‰</span>
            <span class="hljs-keyword">throw</span> e;
        }
    }
}

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LogService</span> {

    <span class="hljs-comment">// ç‹¬ç«‹äº‹åŠ¡è®°å½•æ—¥å¿—</span>
    <span class="hljs-meta">@Transactional</span>(propagation = <span class="hljs-title class_">Propagation</span>.<span class="hljs-property">REQUIRES_NEW</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">saveLog</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> message</span>) {
        <span class="hljs-comment">// åœ¨æ–°äº‹åŠ¡ä¸­æ‰§è¡Œ</span>
        <span class="hljs-comment">// æ— è®ºä¸»äº‹åŠ¡æˆåŠŸæˆ–å¤±è´¥ï¼Œæ—¥å¿—éƒ½ä¼šè¢«è®°å½•</span>
        logMapper.<span class="hljs-title function_">insert</span>(message);
    }

    <span class="hljs-comment">// ç‹¬ç«‹äº‹åŠ¡å‘é€é€šçŸ¥</span>
    <span class="hljs-meta">@Transactional</span>(propagation = <span class="hljs-title class_">Propagation</span>.<span class="hljs-property">REQUIRES_NEW</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">sendNotification</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> message</span>) {
        <span class="hljs-comment">// åœ¨æ–°äº‹åŠ¡ä¸­æ‰§è¡Œ</span>
        notificationMapper.<span class="hljs-title function_">insert</span>(message);
    }
}
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">IsolationLevelService</span> {

    <span class="hljs-comment">// è¯»å·²æäº¤ï¼šå…è®¸ä¸å¯é‡å¤è¯»</span>
    <span class="hljs-meta">@Transactional</span>(isolation = <span class="hljs-title class_">Isolation</span>.<span class="hljs-property">READ_COMMITTED</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">User</span>&gt; <span class="hljs-title function_">listUsers</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> userMapper.<span class="hljs-title function_">selectAll</span>();
    }

    <span class="hljs-comment">// å¯é‡å¤è¯»ï¼šé˜²æ­¢ä¸å¯é‡å¤è¯»å’Œå¹»è¯»</span>
    <span class="hljs-meta">@Transactional</span>(isolation = <span class="hljs-title class_">Isolation</span>.<span class="hljs-property">REPEATABLE_READ</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">User</span> <span class="hljs-title function_">getUserWithLock</span>(<span class="hljs-params">Long id</span>) {
        <span class="hljs-keyword">return</span> userMapper.<span class="hljs-title function_">selectByIdForUpdate</span>(id);
    }

    <span class="hljs-comment">// ä¸²è¡ŒåŒ–ï¼šæœ€é«˜éš”ç¦»çº§åˆ«</span>
    <span class="hljs-meta">@Transactional</span>(isolation = <span class="hljs-title class_">Isolation</span>.<span class="hljs-property">SERIALIZABLE</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">criticalOperation</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// ä¸²è¡Œæ‰§è¡Œï¼Œå®Œå…¨éš”ç¦»</span>
    }
}
</code></pre>
<h2 data-id="heading-22">ä¸ƒã€æœ€ä½³å®è·µ</h2>
<p>äº‹åŠ¡ä¼ æ’­å®šä¹‰äº†äº‹åŠ¡æ–¹æ³•è¢«è°ƒç”¨æ—¶äº‹åŠ¡è¾¹ç•Œçš„è¡Œä¸ºã€‚</p>
<h2 data-id="heading-23">7.1 äº‹åŠ¡è¾¹ç•Œåˆ’åˆ†</h2>
<pre><code class="hljs language-java" lang="java">âœ… äº‹åŠ¡èŒƒå›´è¦å° - äº‹åŠ¡å°½å¯èƒ½çŸ­ï¼Œå‡å°‘é”ç«äº‰
âœ… äº‹åŠ¡æ”¾åœ¨Serviceå±‚ - ä¸åœ¨DAOå±‚ç®¡ç†äº‹åŠ¡
âœ… é¿å…é•¿äº‹åŠ¡ - ä¸è¦åœ¨äº‹åŠ¡ä¸­è¿›è¡ŒRPCã€HTTPç­‰å¤–éƒ¨è°ƒç”¨
âœ… æ˜ç¡®äº‹åŠ¡è¾¹ç•Œ - ä½¿ç”¨<span class="hljs-meta">@Transactional</span>æ¸…æ™°æ ‡æ³¨äº‹åŠ¡èŒƒå›´è¦å° - äº‹åŠ¡å°½å¯èƒ½çŸ­ï¼Œå‡å°‘é”ç«äº‰
âœ… äº‹åŠ¡æ”¾åœ¨Serviceå±‚ - ä¸åœ¨DAOå±‚ç®¡ç†äº‹åŠ¡
âœ… é¿å…é•¿äº‹åŠ¡ - ä¸è¦åœ¨äº‹åŠ¡ä¸­è¿›è¡ŒRPCã€HTTPç­‰å¤–éƒ¨è°ƒç”¨
âœ… æ˜ç¡®äº‹åŠ¡è¾¹ç•Œ - ä½¿ç”¨<span class="hljs-meta">@Transactional</span>æ¸…æ™°æ ‡æ³¨
</code></pre>
<h2 data-id="heading-24">7.2 æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2>
<pre><code class="hljs language-ini" lang="ini">1ï¸âƒ£ é€‰æ‹©åˆé€‚çš„éš”ç¦»çº§åˆ« - READ_COMMITTEDé€šå¸¸è¶³å¤Ÿ
2ï¸âƒ£ é¿å…äº‹åŠ¡ä¸­çš„å¤–éƒ¨è°ƒç”¨ - å¦‚ç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶æ“ä½œ
3ï¸âƒ£ æ‰¹é‡æ“ä½œä½¿ç”¨BatchExecutor - æå‡æ‰¹é‡æ“ä½œæ€§èƒ½
4ï¸âƒ£ åˆç†ä½¿ç”¨åªè¯»äº‹åŠ¡ - æŸ¥è¯¢æ“ä½œä½¿ç”¨<span class="hljs-attr">readOnly</span>=<span class="hljs-literal">true</span>
</code></pre>
<h2 data-id="heading-25">7.3 å¸¸è§é—®é¢˜è§£å†³</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// é—®é¢˜ï¼šå¼‚å¸¸è¢«æ•è·ï¼Œäº‹åŠ¡æœªå›æ»š</span>
<span class="hljs-meta">@Transactional</span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">process</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// ä¸šåŠ¡ä»£ç </span>
    } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">Exception</span> e) {
        e.<span class="hljs-title function_">printStackTrace</span>(); <span class="hljs-comment">// æ•è·å¼‚å¸¸ï¼Œäº‹åŠ¡ä¸å›æ»š</span>
    }
}

<span class="hljs-comment">//è§£å†³ï¼šè¦ä¹ˆæŠ›å‡ºå¼‚å¸¸ï¼Œè¦ä¹ˆæ‰‹åŠ¨å›æ»š</span>
<span class="hljs-meta">@Transactional</span>(rollbackFor = <span class="hljs-title class_">Exception</span>.<span class="hljs-property">class</span>)
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">process</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ä¸šåŠ¡ä»£ç </span>
}
<span class="hljs-comment">// æŸ¥è¯¢æ–¹æ³•ä½¿ç”¨åªè¯»äº‹åŠ¡</span>
<span class="hljs-meta">@Transactional</span>(readOnly = <span class="hljs-literal">true</span>)
<span class="hljs-keyword">public</span> <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">User</span>&gt; <span class="hljs-title function_">listUsers</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> userMapper.<span class="hljs-title function_">selectAll</span>();
}

<span class="hljs-comment">//å¥½å¤„ï¼š</span>
<span class="hljs-comment">//å‘Šè¯‰æ•°æ®åº“è¿™æ˜¯åªè¯»æ“ä½œ</span>
<span class="hljs-comment">//æ•°æ®åº“å¯ä»¥è¿›è¡Œä¼˜åŒ–</span>
<span class="hljs-comment">//å‡å°‘é”ç«äº‰</span>
<span class="hljs-comment">// è®¾ç½®äº‹åŠ¡è¶…æ—¶æ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰</span>
<span class="hljs-meta">@Transactional</span>(timeout = <span class="hljs-number">30</span>)
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">longRunningOperation</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å¦‚æœæ–¹æ³•æ‰§è¡Œè¶…è¿‡30ç§’ï¼Œäº‹åŠ¡è‡ªåŠ¨å›æ»š</span>
}
</code></pre>
<p>MyBatisçš„äº‹åŠ¡ç®¡ç†æ¨¡å—æä¾›äº†<strong>çµæ´»è€Œå¼ºå¤§</strong>çš„äº‹åŠ¡æ§åˆ¶èƒ½åŠ›ã€‚</p>
<pre><code class="hljs">1ï¸âƒ£ Transactionæ¥å£ - å®šä¹‰äº‹åŠ¡çš„åŸºæœ¬æ“ä½œ
2ï¸âƒ£ JdbcTransaction - ä½¿ç”¨JDBCåŸç”Ÿæ–¹å¼ç®¡ç†äº‹åŠ¡
3ï¸âƒ£ ManagedTransaction - ç”±å®¹å™¨ç®¡ç†äº‹åŠ¡ç”Ÿå‘½å‘¨æœŸ
4ï¸âƒ£ äº‹åŠ¡æäº¤å’Œå›æ»š - æ ¹æ®æ“ä½œç»“æœå†³å®šæäº¤æˆ–å›æ»š
5ï¸âƒ£ æ¡†æ¶é›†æˆ - ä¸Springç­‰æ¡†æ¶æ— ç¼é›†æˆ
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[çº¯å¹²è´§ï¼3åˆ†é’Ÿæ•™ä½ å…è´¹å…‹éš†ä»»ä½•å£°éŸ³ï¼]]></title>    <link>https://juejin.cn/post/7591304659130990630</link>    <guid>https://juejin.cn/post/7591304659130990630</guid>    <pubDate>2026-01-04T07:16:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591304659130990630" data-draft-id="7591293897083945010" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" çº¯å¹²è´§ï¼3åˆ†é’Ÿæ•™ä½ å…è´¹å…‹éš†ä»»ä½•å£°éŸ³ï¼"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-04T07:16:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaä¸­æ–‡ç¤¾ç¾¤"/> <meta itemprop="url" content="https://juejin.cn/user/61228381386487"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             çº¯å¹²è´§ï¼3åˆ†é’Ÿæ•™ä½ å…è´¹å…‹éš†ä»»ä½•å£°éŸ³ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/61228381386487/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaä¸­æ–‡ç¤¾ç¾¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T07:16:45.000Z" title="Sun Jan 04 2026 07:16:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘è¿™å‡ ä¸ªæœˆï¼Œæ•°å­—äººå’ŒçŸ­è§†é¢‘é…éŸ³ç®€ç›´ç«å¾—ä¸€å¡Œç³Šæ¶‚ã€‚å¾ˆå¤šæœ‹å‹åœ¨åšè§†é¢‘çš„æ—¶å€™éƒ½ä¼šé‡åˆ°ä¸€ä¸ªç—›ç‚¹ï¼š<strong>å¹³å°æä¾›çš„é‚£äº›é»˜è®¤éŸ³è‰²ï¼Œå¬èµ·æ¥ä¸æ˜¯å¤ªç”Ÿç¡¬</strong>ï¼Œå°±æ˜¯æ—©å°±è¢«å¤§å®¶å¬è…»äº†ï¼Œå®Œå…¨æ²¡ä¸ªæ€§ã€‚</p>
<p>æƒ³è¦è‡ªå·±çš„è§†é¢‘å‡ºå½©ï¼Œ<strong>å£°éŸ³å…‹éš†</strong>å°±æ˜¯åˆšéœ€ã€‚ä½†å¸‚é¢ä¸Šçš„æ–¹æ¡ˆäº”èŠ±å…«é—¨ï¼Œæœ‰çš„è´µå¾—å“äººï¼Œæœ‰çš„æ“ä½œå¤æ‚ã€‚</p>
<p>ä»Šå¤©ç£Šå“¥å°±èŠ± 3 åˆ†é’Ÿï¼Œä¸€æ¬¡æ€§å¸¦ä½ ç›˜ç‚¹ç›®å‰å¸‚é¢ä¸Šä¸»æµçš„ 4 ç§å£°éŸ³å…‹éš†æ–¹æ¡ˆï¼Œå¸®ä½ ç²¾å‡†é¿å‘ï¼Œç›´æ¥æŠŠæœ€çœé’±ã€æœ€å¥½ç”¨çš„æ–¹æ¡ˆå¸¦å›å®¶ï¼</p>
<h2 data-id="heading-0">è§†é¢‘æ•ˆæœå±•ç¤º ğŸ¬</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV13bvfB3E1g%2F" target="_blank" title="https://www.bilibili.com/video/BV13bvfB3E1g/" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV13bâ€¦</a></p>
<h2 data-id="heading-1">1.å››å¤§æ–¹æ¡ˆç¡¬æ ¸å¯¹æ¯” ğŸ“Š</h2>
<p>å’±ä»¬å…ˆå¿«èŠ‚å¥åœ°è¿‡ä¸€éç›®å‰æœ€å¸¸è§çš„å››ç§æ–¹å¼ï¼š</p>

<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10fc442a2f6c4a7e83ddd9d7a26dce33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeS4reaWh-ekvue-pA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768115804&amp;x-signature=wvIUcVCVUTPqc7Zo5%2F%2FWZmyHNL4%3D" alt="" loading="lazy"/></p>
<ol>
<li><strong>å­—èŠ‚è·³åŠ¨ï¼ˆç«å±±å¼•æ“ï¼‰ï¼š</strong> èµ°çš„æ˜¯â€œè´µæ—è·¯çº¿â€ï¼ŒæŒ‰å¹´ä»˜è´¹ï¼Œ<strong>ä¸€ä¸ªéŸ³è‰² 150 å…ƒ/å¹´</strong>ã€‚</li>
<li><strong>æ™ºè°± AIï¼š</strong> èµ°çš„æ˜¯â€œé›¶å”®è·¯çº¿â€ï¼ŒæŒ‰æ¬¡æ”¶è´¹ï¼Œ<strong>ä¸€æ¬¡ 6 å…ƒ</strong>ã€‚</li>
<li><strong>é˜¿é‡Œè¯­éŸ³ï¼š</strong> èµ°çš„æ˜¯â€œæŠ€æœ¯è·¯çº¿â€ï¼Œå…‹éš†å…è´¹ï¼Œä½†æ“ä½œèƒ½æŠŠä½ ç»•æ™•ï¼ˆ<strong>æ“ä½œå¤æ‚</strong>ï¼‰ã€‚</li>
<li><strong>æœ¬åœ°éƒ¨ç½²ï¼ˆGPT-SoVITS / indexTTS2ï¼‰ï¼š</strong> èµ°çš„æ˜¯â€œæå®¢è·¯çº¿â€ï¼Œ<strong>å®Œå…¨å¼€æºå…è´¹</strong>ï¼Œä¸”ä¸€æ­¥åˆ°ä½ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-2">2.å¤§å‚æ–¹æ¡ˆæ·±åº¦å‰–æï¼šæœ‰äº›å‘ä½ å¾—ç»•ç€èµ° âš ï¸</h2>
<h3 data-id="heading-3">1. ç«å±±å¼•æ“ï¼šåœŸè±ªè¯·éšæ„</h3>
<p>å­—èŠ‚æ——ä¸‹çš„ä¸œè¥¿æ•ˆæœç¡®å®ç¨³ï¼Œä½†å®ƒæ˜¯çœŸçš„è´µï¼</p>
<ul>
<li><strong>æ”¶è´¹æ¨¡å¼ï¼š</strong> å®ƒæ˜¯åŒé‡æ”¶è´¹ã€‚ä¹°ä¸€ä¸ªéŸ³è‰²è‡³å°‘å¾—åŒ…å¹´ï¼Œä»·æ ¼å¤§æ¦‚åœ¨ 150 å…ƒ/å¹´å·¦å³ï¼›è¿™è¿˜æ²¡å®Œï¼Œæ¯ä¸ªæœˆçš„å­˜å‚¨è´¹è¿˜è¦æ”¶ä½  1 å—é’±ã€‚</li>
<li><strong>æ€»ç»“ï¼š</strong> å¦‚æœä½ ä¸æ˜¯ä¸å·®é’±çš„å¤§å‚ï¼Œè¿™ä¸ªæ–¹æ¡ˆå’±ä»¬æ™®é€šåˆ›ä½œè€…å¯ä»¥ç›´æ¥åˆ’èµ°äº†ã€‚</li>
</ul>
<h3 data-id="heading-4">2. æ™ºè°± AIï¼šå°è´µä½†çœå¿ƒ</h3>
<p>æ™ºè°±çš„æ”¶è´¹ç›¸å¯¹â€œé€æ˜â€ä¸€ç‚¹ç‚¹ã€‚</p>
<ul>
<li><strong>æ”¶è´¹æ¨¡å¼ï¼š</strong> å…‹éš†ä¸€æ¬¡éŸ³è‰²æ”¶è´¹ <strong>6 å…ƒ</strong>ã€‚å…‹éš†å®Œä¹‹åï¼Œä½ åé¢è°ƒç”¨è¯­éŸ³åˆæˆè¿˜å¾—å¦å¤–æŒ‰é‡è®¡è´¹ã€‚</li>
<li><strong>æ€»ç»“ï¼š</strong> å¶å°”ç”¨ä¸€æ¬¡è¿˜è¡Œï¼Œé•¿æœŸåšè§†é¢‘çš„è¯ï¼Œè¿™ç¬”æ”¯å‡ºä¹Ÿä¸ç®—å°ã€‚</li>
</ul>
<h3 data-id="heading-5">3. é˜¿é‡Œè¯­éŸ³ï¼šå…è´¹ï¼Œä½†å¾ˆâ€œæŠ˜è…¾â€</h3>
<p>é˜¿é‡Œæ¯”è¾ƒè‰¯å¿ƒï¼ŒéŸ³è‰²çš„å¤åˆ»ã€åˆ›å»ºã€æŸ¥è¯¢éƒ½æ˜¯å…è´¹çš„ã€‚ä½†æ˜¯ï¼å®ƒçš„æµç¨‹éå¸¸ç¹çã€‚</p>
<ul>
<li><strong>æ§½ç‚¹ï¼š</strong> å®˜æ–¹è¯´åˆ†ä¸‰æ­¥ï¼Œå®é™…ä¸Šå¾—èµ°å››æ­¥ã€‚æœ€éº»çƒ¦çš„æ˜¯ï¼Œä½ å¿…é¡»å…ˆæŠŠè‡ªå·±è¦å…‹éš†çš„éŸ³é¢‘ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼ˆæ¯”å¦‚é˜¿é‡Œçš„ OSSï¼‰ï¼Œæ‹¿åˆ°ä¸€ä¸ª URL åœ°å€åæ‰èƒ½å¼€å§‹ã€‚ä»–çš„æ“ä½œæ­¥éª¤ï¼š
<ul>
<li>åˆ›å»ºéŸ³è‰²</li>
<li>æŸ¥è¯¢éŸ³è‰²</li>
<li>ä½¿ç”¨éŸ³è‰²åˆæˆè¯­éŸ³</li>
</ul>
</li>
<li><strong>æ€»ç»“ï¼š</strong> æŠ€æœ¯å°ç™½å¯èƒ½ä¼šåœ¨ç¬¬ä¸€æ­¥ä¸Šä¼ æ–‡ä»¶æ—¶å°±è¢«åŠé€€ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-6">3.é›¶æˆæœ¬ç¥å™¨ï¼šæœ¬åœ°éƒ¨ç½²æ‰æ˜¯æœ€ç»ˆå½’å®¿ï¼ğŸš€</h2>
<p>é‡ç‚¹æ¥äº†ï¼å¦‚æœå’±ä»¬æƒ³<strong>ä¸èŠ±ä¸€åˆ†é’±</strong>ï¼Œè¿˜èƒ½å®ç°<strong>é«˜è´¨é‡çš„å£°éŸ³å…‹éš†</strong>ï¼Œç£Šå“¥å¼ºçƒˆæ¨èå¤§å®¶åœ¨æœ¬åœ°éƒ¨ç½² B ç«™å¼€æºçš„ <strong>IndexTTS2</strong>ã€‚</p>
<p><strong>æœ¬åœ° IndexTTS2 å®‰è£…åŒ…</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpan.quark.cn%2Fs%2Fe9e3b69ae51b" target="_blank" title="https://pan.quark.cn/s/e9e3b69ae51b" ref="nofollow noopener noreferrer">pan.quark.cn/s/e9e3b69aeâ€¦</a></p>
<p><strong>å®‰è£…è§†é¢‘</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1x1q8B9EEy%2F" target="_blank" title="https://www.bilibili.com/video/BV1x1q8B9EEy/" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1x1â€¦</a></p>
<h3 data-id="heading-7">ä¸ºä»€ä¹ˆå®ƒæœ€é¦™ï¼Ÿ</h3>
<ol>
<li>**å®Œå…¨å…è´¹ï¼š**ä¸èŠ±ä¸€åˆ†é’±ï¼Œæƒ³å…‹éš†å¤šå°‘ä¸ªå£°éŸ³å°±å…‹éš†å¤šå°‘ä¸ªã€‚</li>
<li>**æ— éœ€éƒ¨ç½²ï¼š**ç°åœ¨çš„å·¥å…·åŒ…ä¼˜åŒ–å¾—éå¸¸å¥½ï¼Œä¸‹è½½å®‰è£…åŒ…åï¼ŒåŒå‡»å¯åŠ¨å™¨å°±èƒ½è·‘ã€‚</li>
<li>**ä¸€æ­¥åˆ°ä½ï¼š**ä¸éœ€è¦åƒé˜¿é‡Œé‚£æ ·å…ˆä¸Šä¼ ã€å†å…‹éš†ã€å†æŸ¥è¯¢ï¼Œå®ƒç›´æ¥æŠŠå…‹éš†å’Œåˆæˆåˆæˆäº†ä¸€æ­¥ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-8">4.å®æ“æ¼”ç¤ºï¼šåªéœ€ä¸¤æ­¥ï¼Œå®Œç¾å¤åˆ»ï¼ğŸ› ï¸</h2>
<p>å’±ä»¬æ¥çœ‹çœ‹åˆ°åº•æœ‰å¤šç®€å•ã€‚</p>

<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40f3aa82cc47493db2b8498b69d4f995~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeS4reaWh-ekvue-pA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768115804&amp;x-signature=VT69c2qbr35s4XXToBX9pXwzWrM%3D" alt="" loading="lazy"/></p>
<p><strong>ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡éŸ³è‰²</strong><br/>
ä½ åªéœ€è¦æŠŠä½ æƒ³å…‹éš†çš„é‚£æ®µ MP3 éŸ³é¢‘æ”¾åœ¨æœ¬åœ°çš„ä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œã€‚ä¸éœ€è¦ä¸Šä¼ åˆ°ä»»ä½•äº‘ç«¯ï¼Œéšç§æ€§æ‹‰æ»¡ã€‚</p>
<p><strong>è¿™é‡Œæä¾› 800+ éŸ³è‰²ä¸‹è½½</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpan.quark.cn%2Fs%2F2b019506b80e" target="_blank" title="https://pan.quark.cn/s/2b019506b80e" ref="nofollow noopener noreferrer">pan.quark.cn/s/2b019506bâ€¦</a></p>
<p><strong>ç¬¬äºŒæ­¥ï¼šè°ƒç”¨ç”Ÿæˆ</strong><br/>
ç›´æ¥åœ¨å·¥å…·ç•Œé¢ï¼ˆæˆ–è€…é€šè¿‡ API è°ƒç”¨ï¼‰è¾“å…¥ä½ æƒ³è¦åˆæˆçš„æ–‡å­—ï¼Œå¹¶æŠŠå‚è€ƒéŸ³è‰²çš„è·¯å¾„å¡«ä¸Šå»ã€‚</p>
<p>å¤§å®¶å¯ä»¥çœ‹æˆ‘æœ€è¿‘æµ‹è¯•çš„æ•ˆæœï¼š</p>
<blockquote>
<p><strong>æ–‡æ¡ˆï¼š</strong> â€œ27 å²çš„è¯¸è‘›äº®èº«ç€é’è‰²é•¿è¢ï¼Œæ‰‹æŒç¾½æ‰‡ç«™åœ¨å—é˜³èŒ…åºå‰ï¼Œç›®å…‰ç¿æ™ºè€Œåšå®šâ€¦â€¦â€</p>
</blockquote>
<p><strong>åé¦ˆç»“æœï¼š</strong><br/>
å®ƒä¼šç›´æ¥è¿”å›ä¸€ä¸ªä»»åŠ¡ IDï¼Œç¨ç­‰ç‰‡åˆ»ï¼ˆå› ä¸ºå®ƒæ˜¯åœ¨æœ¬åœ°å®æ—¶ç”Ÿæˆçš„ï¼‰ï¼Œä¸€ä¸ªæå…¶è‡ªç„¶çš„éŸ³é¢‘ URL å°±å‡ºæ¥äº†ã€‚æˆ‘ç”¨ç®€å•çš„ <strong>JS ä»£ç </strong> æå–äº†ä¸€ä¸‹ï¼Œç›´æ¥å°±èƒ½åœ¨æœ¬åœ°æ’­æ”¾ã€‚</p>
<p>è¿™éŸ³è´¨ï¼Œè¿™æƒ…æ„Ÿèµ·ä¼ï¼Œè·ŸåŸå£°å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼</p>
<hr/>
<h2 data-id="heading-9">5.ç£Šå“¥æœ‰è¯è¯´ ğŸ’¡</h2>
<p>å¦‚æœä½ æ­£åœ¨åšæ•°å­—äººæˆ–è€…æ˜¯å†å²é¢˜æã€è‡ªåª’ä½“è§†é¢‘ï¼Œåˆ«å†å‚»å‚»åœ°å»å¹³å°ä¹°é‚£äº›æ˜‚è´µçš„éŸ³è‰²åŒ…äº†ã€‚</p>
<p><strong>æœ¬åœ°åŒ–éƒ¨ç½² + å¼€æºæ¨¡å‹</strong> æ‰æ˜¯ç›®å‰æœ€é¦™çš„è§£æ³•ã€‚ä¸ä»…çœä¸‹äº†å¤§ç¬”çš„é…éŸ³è´¹ï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œä½ æ‹¥æœ‰äº†ç‹¬ä¸€æ— äºŒçš„éŸ³è‰²åº“ï¼Œè¿™æ‰æ˜¯ä½ è´¦å·çš„æ ¸å¿ƒç«äº‰åŠ›ã€‚</p>
<p>å¯¹äºè¿™ç§â€œä¸€åˆ†é’±ä¸èŠ±â€çš„å£°éŸ³å…‹éš†æ–¹å¼ï¼Œä½ è§‰å¾—æ€ä¹ˆæ ·ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºç•™ä¸‹ä½ çš„çœ‹æ³•ï¼Œå’±ä»¬ä¸€èµ·äº¤æµï¼</p>
<p><strong>æˆ‘æ˜¯ç£Šå“¥ï¼Œæ¯å¤©ä¸ºä½ åˆ†äº«ä¸€ä¸ª AI å¹²è´§ï¼Œç‚¹ä¸ªå…³æ³¨ä¸è¿·è·¯ï¼</strong></p>
<blockquote>
<p>æœ¬æ–‡å·²æ”¶å½•åˆ°æˆ‘çš„æŠ€æœ¯å°ç«™ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.javacn.site" target="_blank" title="https://www.javacn.site" ref="nofollow noopener noreferrer">www.javacn.site</a>ï¼Œç½‘ç«™åŒ…å«çš„å†…å®¹æœ‰ï¼š<strong>N8N/Coze/Dify/LangChain/SpringAI/SpringAIAlibaba/LangChain4j/AIå®æˆ˜é¡¹ç›®/AIå¸¸è§é¢è¯•é¢˜</strong>ç­‰æŠ€æœ¯åˆ†äº«ï¼Œæ¬¢è¿å„ä½å¤§ä½¬å…‰ä¸´æŒ‡å¯¼~</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Claude Code æ–°æ ‡å‡†ï¼šä¸‰åˆ†é’Ÿäº†è§£ä»€ä¹ˆæ˜¯ Agent Skillsï¼Ÿ]]></title>    <link>https://juejin.cn/post/7591293897083961394</link>    <guid>https://juejin.cn/post/7591293897083961394</guid>    <pubDate>2026-01-04T07:18:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591293897083961394" data-draft-id="7591243363081928742" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Claude Code æ–°æ ‡å‡†ï¼šä¸‰åˆ†é’Ÿäº†è§£ä»€ä¹ˆæ˜¯ Agent Skillsï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-04T07:18:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="indieAI"/> <meta itemprop="url" content="https://juejin.cn/user/4488643649743614"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Claude Code æ–°æ ‡å‡†ï¼šä¸‰åˆ†é’Ÿäº†è§£ä»€ä¹ˆæ˜¯ Agent Skillsï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4488643649743614/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    indieAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T07:18:32.000Z" title="Sun Jan 04 2026 07:18:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆä»Šå¤©å¿…é¡»å…³å¿ƒ Agent Skillsï¼Ÿ</h2>
<p>è¿‡å»åŠå¹´ï¼ŒAI ç¼–ç¨‹å·¥å…·ä»â€œèŠå¤©æ¡†â€è¿›åŒ–æˆâ€œå¯æ’æ‹”åŒäº‹â€ã€‚<br/>
Claude Code çš„ Agent Skills å°±æ˜¯è¿™åœºè¿›åŒ–çš„â€œæ’ä»¶æ ‡å‡†â€â€”â€”å®ƒæŠŠ Prompt ä»ä¸€æ¬¡æ€§å¯¹è¯å˜æˆäº†<strong>å¯ç‰ˆæœ¬åŒ–ã€å¯å¤ç”¨ã€å¯åˆ†å‘</strong>çš„èƒ½åŠ›æ¨¡å—ã€‚</p>
<p>ä¸€å¥è¯æ€»ç»“ï¼š<br/>
<strong>Skill = æŠŠ Prompt å°è£…æˆå‡½æ•°ï¼Œè®© Claude åœ¨åˆé€‚åœºæ™¯è‡ªåŠ¨è°ƒç”¨ã€‚</strong></p>
<hr/>
<h2 data-id="heading-1">äºŒã€Agent Skills åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>å®˜æ–¹å®šä¹‰</p>
<blockquote>
<p>â€œA Skill is a markdown file that teaches Claude how to do something specific.â€</p>
</blockquote>
<p>æ‹†æˆç™½è¯ï¼š</p>






























<table><thead><tr><th>æ¦‚å¿µ</th><th>ç±»æ¯”</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>Skill æ–‡ä»¶</td><td>ä¸€ä¸ª <code>.py</code> æ–‡ä»¶</td><td>å®šä¹‰â€œå‡½æ•°ä½“â€</td></tr><tr><td>description å­—æ®µ</td><td>å‡½æ•°å + docstring</td><td>è®© Claude çŸ¥é“â€œä½•æ—¶è°ƒæˆ‘â€</td></tr><tr><td>ç›®å½•å±‚çº§</td><td>Python åŒ…è·¯å¾„</td><td>è§£å†³ä½œç”¨åŸŸä¸ä¼˜å…ˆçº§</td></tr><tr><td>æ”¯æŒæ–‡ä»¶</td><td>åŒç›®å½•èµ„æº</td><td>å®ç°â€œæ¸è¿›æŠ«éœ²â€ï¼Œçœ token</td></tr></tbody></table>
<p>è°ƒç”¨é“¾è·¯ï¼ˆç®€ç‰ˆï¼‰<br/>
ç”¨æˆ·è¾“å…¥ â†’ è¯­ä¹‰åŒ¹é… description â†’ Claude è‡ªåŠ¨åŠ è½½ SKILL.md â†’ æŒ‰æŒ‡ä»¤æ‰§è¡Œ â†’ è¿”å›ç»“æœ</p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€30 ç§’çœ‹æ‡‚ç”Ÿå‘½å‘¨æœŸ</h2>
<ol>
<li>
<p><strong>Discovery</strong><br/>
å¯åŠ¨æ—¶åªåŠ è½½æ‰€æœ‰ Skill çš„ <code>name + description</code>ï¼ŒO(1) æ—¶é—´å¤æ‚åº¦ï¼Œæ¯«ç§’çº§ã€‚</p>
</li>
<li>
<p><strong>Activation</strong><br/>
ç”¨æˆ·è¯·æ±‚ä¸ description åšå‘é‡ç›¸ä¼¼åº¦ â‰¥ é˜ˆå€¼æ—¶ï¼ŒClaude å¼¹å‡ºç¡®è®¤æ¡†ï¼šâ€œæ˜¯å¦ä½¿ç”¨ xxx Skillï¼Ÿâ€</p>
</li>
<li>
<p><strong>Execution</strong><br/>
æŠŠæ•´ä»½ SKILL.md å¡è¿›ä¸Šä¸‹æ–‡ï¼ŒæŒ‰ Markdown æŒ‡ä»¤æ‰§è¡Œï¼›æ”¯æŒè°ƒç”¨è„šæœ¬ã€è¯»å–åŒç›®å½•æ–‡ä»¶ï¼Œä½†<strong>åªåœ¨éœ€è¦æ—¶è½½å…¥</strong>ï¼Œé˜²æ­¢çˆ†çª—ã€‚</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-3">å››ã€å†™ç¬¬ä¸€ä¸ª Skillâ€”â€”â€œå›¾è§£ä»£ç è§£é‡Šå™¨â€</h2>
<h3 data-id="heading-4">1. åˆ›å»ºç›®å½•</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> -p ~/.claude/skills/explain-with-diagram
<span class="hljs-built_in">cd</span> ~/.claude/skills/explain-with-diagram
</code></pre>
<h3 data-id="heading-5">2. æ–°å»º SKILL.md</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">explain-with-diagram</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">ç”¨</span> <span class="hljs-string">ASCII</span> <span class="hljs-string">å›¾å’Œç±»æ¯”è§£é‡Šä»£ç ã€‚å½“ç”¨æˆ·é—®â€œè¿™æ®µä»£ç æ€ä¹ˆå·¥ä½œâ€æ—¶è‡ªåŠ¨è§¦å‘ã€‚</span>
<span class="hljs-meta">---
</span>
<span class="hljs-comment">## æŒ‡ä»¤</span>
<span class="hljs-number">1</span><span class="hljs-string">.</span> <span class="hljs-string">å…ˆç»™ç”Ÿæ´»åŒ–ç±»æ¯”</span>  
<span class="hljs-number">2</span><span class="hljs-string">.</span> <span class="hljs-string">ç”»</span> <span class="hljs-string">ASCII</span> <span class="hljs-string">æµç¨‹å›¾</span>  
<span class="hljs-number">3</span><span class="hljs-string">.</span> <span class="hljs-string">é€è¡Œè®²è§£</span>  
<span class="hljs-number">4</span><span class="hljs-string">.</span> <span class="hljs-string">æŒ‡å‡ºä¸€ä¸ªæ˜“é”™ç‚¹</span>  
<span class="hljs-number">5</span><span class="hljs-string">.</span> <span class="hljs-string">ä¿æŒå£è¯­åŒ–</span>
</code></pre>
<h3 data-id="heading-6">3. é‡å¯ Claude Code</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é€€å‡ºå½“å‰ä¼šè¯é‡æ–°è¿›</span>
claude
</code></pre>
<h3 data-id="heading-7">4. éªŒè¯</h3>
<pre><code class="hljs language-arduino" lang="arduino">What Skills are available?
</code></pre>
<p>èƒ½çœ‹åˆ° <code>explain-with-diagram</code> å³æˆåŠŸã€‚</p>
<h3 data-id="heading-8">5. å®æˆ˜</h3>
<p>æ‰“å¼€ä»»æ„æºæ–‡ä»¶ï¼Œè¾“å…¥<br/>
â€œHow does this work?â€<br/>
Claude ä¼šå¼¹å‡ºç¡®è®¤æ¡†ï¼Œéšåè¾“å‡ºå¸¦å›¾ã€å¸¦ç±»æ¯”ã€å¸¦è¸©å‘æç¤ºçš„è§£è¯»ã€‚</p>
<hr/>
<h2 data-id="heading-9">äº”ã€4 ä¸ªæ ¸å¿ƒè®¾è®¡æŠ€å·§</h2>






























<table><thead><tr><th>æŠ€å·§</th><th>åé¢æ•™æ</th><th>æ­£é¢ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>description å†™æ»¡å…³é”®è¯</strong></td><td>â€œHandle PDFsâ€</td><td>â€œExtract text/tables, fill forms, merge PDFs. Use when user mentions PDF, forms, document extraction.â€</td></tr><tr><td><strong>æ¸è¿›æŠ«éœ²</strong></td><td>æŠŠ 2000 è¡Œ API æ–‡æ¡£å…¨è´´è¿› SKILL.md</td><td>ä¸»æ–‡ä»¶ &lt;500 è¡Œï¼Œè¯¦ç»†æ–‡æ¡£æ”¾åŒç›®å½•ï¼Œç”¨æ—¶å†è¯»</td></tr><tr><td><strong>allowed-tools ç™½åå•</strong></td><td>è®© Claude è‡ªå·±çŒœèƒ½ä¸èƒ½å†™æ–‡ä»¶</td><td><code>allowed-tools: [Read, Grep]</code> æ˜ç¡®åªè¯»</td></tr><tr><td><strong>ä½œç”¨åŸŸéš”ç¦»</strong></td><td>åœ¨æ ¹ç›®å½•æ”¾ä¸ªäºº Skill</td><td>é¡¹ç›®çº§æ”¾ <code>.claude/skills/</code>ï¼Œå›¢é˜Ÿå…±äº«ï¼›ä¸ªäººæ”¾ <code>~/.claude/skills/</code>ï¼Œè·¨é¡¹ç›®ç”Ÿæ•ˆ</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-10">å…­ã€Skills vs å…¶ä»–æ‰©å±•æ–¹å¼é€ŸæŸ¥è¡¨</h2>















































<table><thead><tr><th>æ–¹å¼</th><th>è§¦å‘æ–¹å¼</th><th>å…¸å‹åœºæ™¯</th><th>æ˜¯å¦è‡ªåŠ¨</th></tr></thead><tbody><tr><td><strong>Skills</strong></td><td>è¯­ä¹‰åŒ¹é…</td><td>æ•™ Claude ä¸šåŠ¡è§„åˆ™ã€ç¼–ç è§„èŒƒ</td><td>âœ…</td></tr><tr><td>Slash Commands</td><td>æ‰‹åŠ¨ <code>/cmd</code></td><td>ä¸€é”®éƒ¨ç½²ã€å¿«æ·æŒ‡ä»¤</td><td>âŒ</td></tr><tr><td>CLAUDE.md</td><td>æ¯æ¬¡å¯¹è¯åŠ è½½</td><td>é¡¹ç›®çº§å…¨å±€æŒ‡ä»¤</td><td>âœ…</td></tr><tr><td>Subagents</td><td>å§”æ‰˜å­ä¼šè¯</td><td>éš”ç¦»æ•æ„Ÿæ“ä½œ</td><td>åŠè‡ªåŠ¨</td></tr><tr><td>Hooks</td><td>äº‹ä»¶ç›‘å¬</td><td>ä¿å­˜å³ lint</td><td>âœ…</td></tr><tr><td>MCP Servers</td><td>æä¾›å·¥å…·</td><td>ç»™ Claude æ–° API</td><td>âœ…</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-11">ä¸ƒã€å¸¸è§é—®é¢˜ 60 ç§’æ’æŸ¥</h2>






























<table><thead><tr><th>ç—‡çŠ¶</th><th>90% åŸå› </th><th>ä¸€è¡Œå‘½ä»¤</th></tr></thead><tbody><tr><td>Skill ä¸è§¦å‘</td><td>description å¤ªæ³›</td><td>åŠ å…·ä½“åŠ¨è¯+å…³é”®è¯</td></tr><tr><td>åŠ è½½å¤±è´¥</td><td>YAML  frontmatter è¯­æ³•é”™</td><td>åœ¨çº¿ YAML linter</td></tr><tr><td>è„šæœ¬æƒé™æ‹’</td><td>æ²¡æ‰§è¡Œæƒ</td><td><code>chmod +x scripts/*.py</code></td></tr><tr><td>æ’ä»¶ Skill æ¶ˆå¤±</td><td>ç¼“å­˜æœªåˆ·æ–°</td><td><code>rm -rf ~/.claude/plugins/cache</code></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-12">å…«ã€ä¸‹ä¸€æ­¥ï¼šæŠŠ Skill æ¨åˆ°ç”Ÿäº§</h2>
<ol>
<li>
<p><strong>å›¢é˜Ÿçº§å…±äº«</strong><br/>
æŠŠ <code>.claude/skills/</code> ç›®å½• commit è¿›ä»“åº“ï¼ŒCI é‡ŒåŠ  <code>claude --validate-skills</code> åš PR æ£€æŸ¥ã€‚</p>
</li>
<li>
<p><strong>ä¼ä¸šçº§ä¸‹å‘</strong><br/>
ç®¡ç†å‘˜é€šè¿‡ Managed Settings æ¨é€ Skill åˆ°å…¨å‘˜ï¼Œè·¯å¾„è§å®˜æ–¹ IAM æ–‡æ¡£ã€‚</p>
</li>
<li>
<p><strong>å•†ä¸šåŒ–</strong><br/>
æ‰“åŒ…æˆæ’ä»¶ä¸Šä¼ åˆ° Marketplaceï¼Œä¸€æ¬¡ç¼–å†™ï¼Œå¤šä»“åº“å¤ç”¨ã€‚</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-13">ä¹ã€ä¸€å¥è¯æ€»ç»“</h2>
<p>Agent Skills è®© Prompt ä»â€œå¯¹è¯â€å‡çº§ä¸ºâ€œå¯å®‰è£…è½¯ä»¶â€ã€‚<br/>
<strong>ä»Šå¤©å†™ 10 è¡Œ YAMLï¼Œæ˜å¤©ä½ å°±æ‹¥æœ‰ä¸€ä½éšå«éšåˆ°ã€æ°¸ä¸é—å¿˜ã€å¯ç‰ˆæœ¬å›æ»šçš„â€œèµ„æ·±åŒäº‹â€ã€‚</strong></p>
<hr/>
<blockquote>
<p>é™„å½•<br/>
å®˜æ–¹æ·±åº¦æ¶æ„è§£è¯»ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fengineering%2Fequipping-agents-for-the-real-world-with-agent-skills" target="_blank" title="https://www.anthropic.com/engineering/equipping-agents-for-the-real-world-with-agent-skills" ref="nofollow noopener noreferrer">Equipping agents for the real world with Agent Skills</a><br/>
æœ€ä½³å®è·µç™½çš®ä¹¦ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.claude.com%2Fen%2Fdocs%2Fagents-and-tools%2Fagent-skills%2Fbest-practices" target="_blank" title="https://docs.claude.com/en/docs/agents-and-tools/agent-skills/best-practices" ref="nofollow noopener noreferrer">Authoring best practices</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€èŠ‚ç‚¹ã€‘[NormalFromHeightèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨]]></title>    <link>https://juejin.cn/post/7591304659131056166</link>    <guid>https://juejin.cn/post/7591304659131056166</guid>    <pubDate>2026-01-04T07:23:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591304659131056166" data-draft-id="7591243363081961510" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€èŠ‚ç‚¹ã€‘[NormalFromHeightèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨"/> <meta itemprop="keywords" content="æ¸¸æˆå¼€å‘,å›¾å½¢å­¦,Unity3D"/> <meta itemprop="datePublished" content="2026-01-04T07:23:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SmalBox"/> <meta itemprop="url" content="https://juejin.cn/user/2218166695237532"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€èŠ‚ç‚¹ã€‘[NormalFromHeightèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2218166695237532/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SmalBox
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T07:23:42.000Z" title="Sun Jan 04 2026 07:23:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong></p>
</blockquote>
<p>åœ¨å®æ—¶æ¸²æŸ“é¢†åŸŸï¼Œæ³•çº¿è´´å›¾æŠ€æœ¯æ˜¯å¢å¼ºæ¨¡å‹è¡¨é¢ç»†èŠ‚çš„å…³é”®æ‰‹æ®µã€‚Unity URPï¼ˆUniversal Render Pipelineï¼‰ä¸­çš„ShaderGraphå·¥å…·é›†æä¾›äº†ä¸°å¯Œçš„èŠ‚ç‚¹ç³»ç»Ÿï¼Œå…¶ä¸­NormalFromHeightèŠ‚ç‚¹ä½œä¸ºæ ¸å¿ƒç»„ä»¶ï¼Œèƒ½å¤Ÿé«˜æ•ˆåœ°å°†ä¸€ç»´é«˜åº¦ä¿¡æ¯è½¬æ¢ä¸ºä¸‰ç»´æ³•çº¿å‘é‡ï¼Œä¸ºç¨‹åºåŒ–æè´¨ç”Ÿæˆå’ŒåŠ¨æ€è¡¨é¢æ•ˆæœå¥ å®šæŠ€æœ¯åŸºç¡€ã€‚</p>
<h2 data-id="heading-0">èŠ‚ç‚¹åŠŸèƒ½æ¦‚è¿°</h2>
<h3 data-id="heading-1">é«˜åº¦è½¬æ³•çº¿åŸç†</h3>
<p>NormalFromHeightèŠ‚ç‚¹çš„æ ¸å¿ƒæœºåˆ¶åŸºäºè¡¨é¢æ¢¯åº¦çš„æ•°å­¦æ¨å¯¼ã€‚åœ¨è®¡ç®—æœºå›¾å½¢å­¦ä¸­ï¼Œè¡¨é¢æ³•çº¿å¯é€šè¿‡é«˜åº¦åœºçš„åå¯¼æ•°è®¡ç®—å¾—å‡ºã€‚ç»™å®šé«˜åº¦å‡½æ•° ( h(x, y) )ï¼Œæ³•çº¿å‘é‡ ( \mathbf{n} ) å¯è¡¨ç¤ºä¸ºï¼š</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi mathvariant="bold">n</mi><mo>=</mo><mtext>normalize</mtext><mrow><mo fence="true">(</mo><mo>âˆ’</mo><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>h</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><mi>x</mi></mrow></mfrac><mo separator="true">,</mo><mtext>Â </mtext><mo>âˆ’</mo><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>h</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><mi>y</mi></mrow></mfrac><mo separator="true">,</mo><mtext>Â </mtext><mn>1</mn><mo fence="true">)</mo></mrow><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[ \mathbf{n} = \text{normalize}\left( -\frac{\partial h}{\partial x},\ -\frac{\partial h}{\partial y},\ 1 \right) ]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord mathbf">n</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.8em;vertical-align:-0.65em;"/><span class="mord text"><span class="mord">normalize</span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord">âˆ’</span><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal mtight">x</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">âˆ’</span><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4811em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">1</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span><span class="mclose">]</span></span></span></span></span></p>
<p>è¯¥å…¬å¼çš„ç‰©ç†æ„ä¹‰åœ¨äºï¼Œæ³•çº¿æ–¹å‘å‚ç›´äºè¡¨é¢å¡åº¦æ–¹å‘â€”â€”å³é«˜åº¦å˜åŒ–ç‡æœ€å¤§çš„æ–¹å‘ã€‚èŠ‚ç‚¹å†…éƒ¨é‡‡ç”¨æœ‰é™å·®åˆ†æ–¹æ³•è¿‘ä¼¼è®¡ç®—åå¯¼æ•°ï¼Œç¡®ä¿ç”Ÿæˆçš„æ³•çº¿ç¬¦åˆç‰©ç†è§„å¾‹ã€‚</p>
<h3 data-id="heading-2">åŒç©ºé—´è¾“å‡ºæ”¯æŒ</h3>
<p>èŠ‚ç‚¹æ”¯æŒTangentï¼ˆåˆ‡çº¿ç©ºé—´ï¼‰å’ŒWorldï¼ˆä¸–ç•Œç©ºé—´ï¼‰ä¸¤ç§åæ ‡ç©ºé—´è¾“å‡ºæ¨¡å¼ï¼Œä»¥é€‚åº”ä¸åŒçš„æ¸²æŸ“éœ€æ±‚ï¼š</p>
<ul>
<li><strong>åˆ‡çº¿ç©ºé—´æ³•çº¿</strong>ï¼šç›¸å¯¹äºç‰©ä½“è¡¨é¢è‡ªèº«åæ ‡ç³»ï¼Œé€‚ç”¨äºå¯å˜å½¢ç‰©ä½“æˆ–éœ€è¦åŠ¨æ€æ›´æ–°æ³•çº¿çš„åœºæ™¯ã€‚åœ¨ç‰©ä½“ç§»åŠ¨æˆ–æ—‹è½¬æ—¶ï¼Œåˆ‡çº¿ç©ºé—´æ³•çº¿æ— éœ€é‡æ–°è®¡ç®—ï¼Œå…·å¤‡è‰¯å¥½çš„é€šç”¨æ€§ã€‚</li>
<li><strong>ä¸–ç•Œç©ºé—´æ³•çº¿</strong>ï¼šç›¸å¯¹äºå…¨å±€ä¸–ç•Œåæ ‡ç³»ï¼Œé€‚ç”¨äºé™æ€ç‰©ä½“æˆ–éœ€ç›´æ¥å‚ä¸ä¸–ç•Œç©ºé—´å…‰ç…§è®¡ç®—çš„åœºæ™¯ï¼Œå¯ç®€åŒ–å…‰ç…§æ¨¡å‹çš„å®ç°ã€‚</li>
</ul>
<h3 data-id="heading-3">å¼ºåº¦å‚æ•°æ§åˆ¶</h3>
<p>é€šè¿‡Strengthå‚æ•°æ§åˆ¶ç”Ÿæˆæ³•çº¿çš„å‡¹å‡¸å¼ºåº¦ï¼Œå‚æ•°å•ä½ä¸ºçœŸå®ä¸–ç•Œå°ºåº¦ï¼Œæ¨èå–å€¼èŒƒå›´ä¸º0è‡³0.1ã€‚è¾ƒå°çš„å€¼äº§ç”Ÿç»†å¾®çš„è¡¨é¢èµ·ä¼ï¼Œè¾ƒå¤§çš„å€¼åˆ™å½¢æˆæ˜æ˜¾çš„å‡¹å‡¸ç»“æ„ï¼Œéœ€æ ¹æ®å…·ä½“åœºæ™¯å°ºå¯¸å’Œè§†è§‰æ•ˆæœè¿›è¡Œç²¾ç»†è°ƒèŠ‚ã€‚</p>
<h2 data-id="heading-4">ç«¯å£ä¸å‚æ•°è¯¦è§£</h2>
<p><img src="https://docs.unity.cn/cn/Packages-cn/com.unity.shadergraph@14.0/manual/images/NormalFromHeightNodeThumb.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">è¾“å…¥ç«¯å£é…ç½®</h3>
<ul>
<li><strong>Inç«¯å£</strong>ï¼šæ¥æ”¶Floatç±»å‹çš„é«˜åº¦å€¼è¾“å…¥ï¼Œé€šå¸¸æ¥æºäºç°åº¦çº¹ç†ã€ç¨‹åºåŒ–å™ªå£°å‡½æ•°æˆ–å…¶ä»–è®¡ç®—èŠ‚ç‚¹çš„è¾“å‡ºã€‚</li>
<li><strong>Strengthç«¯å£</strong>ï¼šæ§åˆ¶æ³•çº¿å‡¹å‡¸å¼ºåº¦çš„æµ®ç‚¹å‚æ•°ï¼Œç›´æ¥å½±å“æ³•çº¿å‘é‡çš„å˜åŒ–å¹…åº¦ã€‚</li>
</ul>
<h3 data-id="heading-6">è¾“å‡ºç«¯å£ç‰¹æ€§</h3>
<p>Outç«¯å£è¾“å‡ºVector 3ç±»å‹çš„æ³•çº¿å‘é‡ï¼Œä¸‰ä¸ªåˆ†é‡åˆ†åˆ«å¯¹åº”æ³•çº¿åœ¨ä¸‰ç»´ç©ºé—´ä¸­çš„Xã€Yã€Zæ–¹å‘ã€‚å…·ä½“æ•°å€¼èŒƒå›´ä¸æ‰€é€‰åæ ‡ç©ºé—´ç›¸å…³ï¼šåˆ‡çº¿ç©ºé—´ä¸‹åˆ†é‡é€šå¸¸åœ¨[-1,1]ä¹‹é—´ï¼Œä¸–ç•Œç©ºé—´ä¸‹åˆ™ç›´æ¥è¡¨ç¤ºä¸–ç•Œåæ ‡ç³»ä¸­çš„æ–¹å‘å‘é‡ã€‚</p>
<h3 data-id="heading-7">æ§ä»¶å‚æ•°è§£æ</h3>
<p>Output Spaceä¸‹æ‹‰èœå•æä¾›Tangentä¸Worldä¸¤ç§ç©ºé—´é€‰é¡¹ï¼Œç”¨æˆ·å¯æ ¹æ®ç‰©ä½“ç±»å‹å’Œæ¸²æŸ“éœ€æ±‚çµæ´»é€‰æ‹©ã€‚</p>
<h2 data-id="heading-8">æ•°å­¦åŸç†ä¸ç®—æ³•å®ç°</h2>
<h3 data-id="heading-9">é«˜åº¦åœºä¸æ³•çº¿å…³ç³»</h3>
<p>æ³•çº¿ç”Ÿæˆçš„æ ¸å¿ƒæ•°å­¦åŸç†åŸºäºé«˜åº¦åœºæ¢¯åº¦è®¡ç®—ã€‚é«˜åº¦åœºå¯è§†ä¸ºäºŒç»´å‡½æ•° ( h(x, y) )ï¼Œæ³•çº¿å‘é‡é€šè¿‡è®¡ç®—é«˜åº¦åœºçš„æ¢¯åº¦è·å¾—ï¼Œå…¬å¼å¦‚å‰æ‰€è¿°ã€‚</p>
<h3 data-id="heading-10">åå¯¼æ•°è®¡ç®—</h3>
<p>åœ¨ç‰‡æ®µç€è‰²å™¨ä¸­ï¼Œåå¯¼æ•° ( \frac{\partial h}{\partial x} ) å’Œ ( \frac{\partial h}{\partial y} ) é€šè¿‡HLSLå†…ç½®å‡½æ•°<code>ddx</code>å’Œ<code>ddy</code>å®ç°ã€‚<code>ddx</code>è®¡ç®—å½“å‰ç‰‡æ®µä¸å³ä¾§ç‰‡æ®µçš„å·®å€¼ï¼Œ<code>ddy</code>è®¡ç®—å½“å‰ç‰‡æ®µä¸ä¸‹æ–¹ç‰‡æ®µçš„å·®å€¼ï¼Œè¿™ç§æœ‰é™å·®åˆ†æ–¹æ³•ä¸ºå®æ—¶å›¾å½¢æä¾›äº†é«˜æ•ˆä¸”è¶³å¤Ÿç²¾ç¡®çš„æ¢¯åº¦è¿‘ä¼¼ã€‚</p>
<h3 data-id="heading-11">åæ ‡ç©ºé—´å˜æ¢</h3>
<p>èŠ‚ç‚¹å†…éƒ¨æ¶‰åŠå¤æ‚çš„ç©ºé—´å˜æ¢è®¡ç®—ã€‚åœ¨åˆ‡çº¿ç©ºé—´æ¨¡å¼ä¸‹ï¼Œç®—æ³•é€šè¿‡TangentMatrixï¼ˆåˆ‡çº¿çŸ©é˜µï¼‰å°†ä¸–ç•Œç©ºé—´çš„ä½ç½®ä¸æ³•çº¿ä¿¡æ¯è½¬æ¢è‡³åˆ‡çº¿ç©ºé—´ï¼Œç¡®ä¿æ³•çº¿æ–¹å‘ä¸è¡¨é¢å‡ ä½•ä¸€è‡´ã€‚</p>
<h2 data-id="heading-12">å®é™…åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-13">ç¨‹åºåŒ–åœ°å½¢ç”Ÿæˆ</h3>
<p>åœ¨ç¨‹åºåŒ–åœ°å½¢ç³»ç»Ÿä¸­ï¼ŒNormalFromHeightèŠ‚ç‚¹å¯æ ¹æ®é«˜åº¦å›¾å®æ—¶ç”Ÿæˆç²¾ç¡®æ³•çº¿ï¼Œæ— éœ€é¢„è®¡ç®—æ³•çº¿è´´å›¾ã€‚ç»“åˆUnityåœ°å½¢å·¥å…·ï¼Œå¯é«˜æ•ˆåˆ›å»ºå…·æœ‰ä¸°å¯Œç»†èŠ‚çš„è‡ªç„¶æ™¯è§‚ã€‚</p>
<h3 data-id="heading-14">åŠ¨æ€è¡¨é¢æ•ˆæœ</h3>
<p>è¯¥èŠ‚ç‚¹é€‚ç”¨äºæ¨¡æ‹ŸåŠ¨æ€å˜åŒ–çš„è¡¨é¢æ•ˆæœï¼Œå¦‚æ°´é¢æ³¢çº¹ã€ç†”å²©æµåŠ¨æˆ–æ²™ä¸˜è¿ç§»ã€‚é€šè¿‡éšæ—¶é—´å˜åŒ–çš„é«˜åº¦è¾“å…¥ï¼Œå¯ç”Ÿæˆç”ŸåŠ¨çš„åŠ¨æ€æ³•çº¿ï¼Œå¢å¼ºåœºæ™¯çœŸå®æ„Ÿã€‚</p>
<h3 data-id="heading-15">æè´¨ç»†èŠ‚å¢å¼º</h3>
<p>é€šè¿‡åœ¨åŸºç¡€æè´¨ä¸Šå åŠ ç”±é«˜åº¦ç”Ÿæˆçš„æ³•çº¿ç»†èŠ‚ï¼Œå¯æ˜¾è‘—æå‡è¡¨é¢è´¨æ„Ÿï¼Œç‰¹åˆ«é€‚ç”¨äºï¼š</p>
<ul>
<li>ä¸ºå¹³å¦è¡¨é¢æ·»åŠ å¾®è§‚å‡¹å‡¸ç»“æ„</li>
<li>åœ¨ä½æ¨¡è¡¨é¢æ¨¡æ‹Ÿé«˜ç²¾åº¦ç»†èŠ‚</li>
<li>å®ç°ç£¨æŸã€è…èš€ç­‰è€åŒ–æ•ˆæœ</li>
</ul>
<h2 data-id="heading-16">èŠ‚ç‚¹è¿æ¥ä¸å·¥ä½œæµç¨‹</h2>
<h3 data-id="heading-17">è¾“å…¥æºé…ç½®</h3>
<p>é«˜åº¦è¾“å…¥æºå¯å¤šæ ·åŒ–é…ç½®ï¼Œå¸¸è§é€‰é¡¹åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>çº¹ç†é‡‡æ ·</strong>ï¼šé€šè¿‡Texture 2DèŠ‚ç‚¹è¯»å–ç°åº¦é«˜åº¦å›¾ï¼Œé…åˆSampler Stateä¸Tiling And OffsetèŠ‚ç‚¹ä¼˜åŒ–çº¹ç†ä½¿ç”¨ã€‚</li>
<li><strong>ç¨‹åºåŒ–å™ªå£°</strong>ï¼šä½¿ç”¨Simple Noiseã€Voronoiæˆ–Gradient NoiseèŠ‚ç‚¹ç”Ÿæˆé«˜åº¦å›¾æ¡ˆã€‚</li>
<li><strong>æ•°å­¦å‡½æ•°</strong>ï¼šç»“åˆSineã€Cosineç­‰å‘¨æœŸå‡½æ•°ä¸è¿ç®—èŠ‚ç‚¹ï¼Œæ„å»ºå¤æ‚é«˜åº¦åœºã€‚</li>
</ul>
<h3 data-id="heading-18">å¼ºåº¦å‚æ•°ä¼˜åŒ–</h3>
<p>Strengthå‚æ•°è®¾ç½®éœ€ç»¼åˆè€ƒè™‘åœºæ™¯å°ºåº¦ä¸è§†è§‰æ•ˆæœï¼š</p>
<ul>
<li><strong>åœºæ™¯é€‚é…</strong>ï¼šå¤§å‹åœºæ™¯å»ºè®®0.01â€“0.03ï¼Œä¸­å‹ç‰©ä½“0.03â€“0.06ï¼Œå°å‹ç»†èŠ‚0.06â€“0.1ã€‚</li>
<li><strong>æ•ˆæœå¹³è¡¡</strong>ï¼šç»†å¾®çº¹ç†ä½¿ç”¨0.01â€“0.03ï¼Œæ˜æ˜¾å‡¹å‡¸0.04â€“0.07ï¼Œå¼ºçƒˆå˜å½¢0.08â€“0.1ã€‚</li>
</ul>
<h3 data-id="heading-19">è¾“å‡ºå¤„ç†ä¸é›†æˆ</h3>
<p>ç”Ÿæˆçš„æ³•çº¿éœ€æ­£ç¡®é›†æˆè‡³æ¸²æŸ“ç®¡çº¿ï¼š</p>
<ul>
<li><strong>æ³•çº¿æ··åˆ</strong>ï¼šä½¿ç”¨Normal Blendã€Normal Strengthç­‰èŠ‚ç‚¹æ··åˆä¸è°ƒæ•´å¤šæ³•çº¿æºã€‚</li>
<li><strong>å…‰ç…§é›†æˆ</strong>ï¼šå°†æ³•çº¿è¾“å…¥è‡³å…‰ç…§æ¨¡å‹ï¼Œç¡®ä¿åœ¨æ­£ç¡®çš„åæ ‡ç©ºé—´ä¸­å‚ä¸æ¼«åå°„ã€é«˜å…‰ç­‰è®¡ç®—ã€‚</li>
</ul>
<h2 data-id="heading-20">æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-21">è®¡ç®—ç²¾åº¦æ§åˆ¶</h3>
<p>åœ¨æ€§èƒ½æ•æ„Ÿå¹³å°ï¼ˆå¦‚ç§»åŠ¨è®¾å¤‡ï¼‰ï¼Œéœ€å¹³è¡¡è®¡ç®—ç²¾åº¦ä¸æ¸²æŸ“å¼€é”€ï¼š</p>
<ul>
<li>é™ä½è®¡ç®—ç²¾åº¦æˆ–ä½¿ç”¨è¿‘ä¼¼ç®—æ³•</li>
<li>é€šè¿‡LODç³»ç»ŸåŠ¨æ€è°ƒæ•´è®¡ç®—å¤æ‚åº¦</li>
</ul>
<h3 data-id="heading-22">çº¹ç†ä¼˜åŒ–</h3>
<p>ä½¿ç”¨çº¹ç†ä½œä¸ºé«˜åº¦è¾“å…¥æ—¶ï¼Œä¼˜åŒ–ç­–ç•¥åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>çº¹ç†å‹ç¼©</strong>ï¼šé‡‡ç”¨BC4/BC5æ ¼å¼å‹ç¼©é«˜åº¦å›¾ï¼Œåˆç†è®¾ç½®mipmapã€‚</li>
<li><strong>é‡‡æ ·ä¼˜åŒ–</strong>ï¼šå‡å°‘å†—ä½™é‡‡æ ·ï¼Œåˆ©ç”¨ç¡¬ä»¶ç‰¹æ€§ä¼˜åŒ–æ¢¯åº¦è®¡ç®—ã€‚</li>
</ul>
<h3 data-id="heading-23">å‚æ•°è°ƒä¼˜æŒ‡å—</h3>
<p>åŸºäºé¡¹ç›®ç»éªŒï¼Œå‚æ•°è°ƒä¼˜å»ºè®®ï¼š</p>
<ul>
<li><strong>Strengthå‚æ•°</strong>ï¼šä»0.01èµ·æ­¥é€æ­¥å¢åŠ ï¼Œç»“åˆå…‰ç…§æ¡ä»¶ä¸è§‚å¯Ÿè·ç¦»è°ƒæ•´ã€‚</li>
<li><strong>è¾“å…¥ä¿¡å·å¤„ç†</strong>ï¼šå¯¹é«˜åº¦å€¼è¿›è¡ŒClampæˆ–Smoothstepé¢„å¤„ç†ï¼Œæ”¹å–„è¿‡æ¸¡æ•ˆæœã€‚</li>
</ul>
<h2 data-id="heading-24">é«˜çº§åº”ç”¨æŠ€å·§</h2>
<h3 data-id="heading-25">å¤šå±‚é«˜åº¦æ··åˆ</h3>
<p>é€šè¿‡ç»„åˆå¤šä¸ªé«˜åº¦æºï¼Œå¯æ„å»ºå¤æ‚çš„è¡¨é¢ç»“æ„ï¼š</p>
<ul>
<li><strong>æƒé‡æ··åˆ</strong>ï¼šä½¿ç”¨Lerpæˆ–BlendèŠ‚ç‚¹æŒ‰æƒé‡æ··åˆä¸åŒé«˜åº¦å±‚ã€‚</li>
<li><strong>é¢‘ç‡åˆ†ç¦»</strong>ï¼šå åŠ ä¸åŒé¢‘ç‡çš„å™ªå£°å±‚ï¼Œä½é¢‘å®šä¹‰å®è§‚å½¢æ€ï¼Œé«˜é¢‘ä¸°å¯Œå¾®è§‚ç»†èŠ‚ã€‚</li>
</ul>
<h3 data-id="heading-26">åŠ¨æ€æ•ˆæœé›†æˆ</h3>
<p>ç»“åˆæ—¶é—´å˜é‡åˆ›å»ºåŠ¨æ€æ³•çº¿ï¼š</p>
<ul>
<li><strong>æ—¶é—´åŠ¨ç”»</strong>ï¼šä½¿ç”¨TimeèŠ‚ç‚¹é©±åŠ¨å‘¨æœŸæ€§å˜åŒ–ï¼Œå¦‚Sineæ³¢å½¢æˆ–å¾ªç¯FractionåŠ¨ç”»ã€‚</li>
<li><strong>äº¤äº’å“åº”</strong>ï¼šæ ¹æ®ç©å®¶ä½ç½®æˆ–ç‰©ç†äº‹ä»¶è°ƒæ•´é«˜åº¦åœºï¼Œå®ç°è¶³è¿¹ã€ç¢°æ’ç­‰å®æ—¶å˜å½¢æ•ˆæœã€‚</li>
</ul>
<h3 data-id="heading-27">æ€§èƒ½ç›‘æ§ä¸è°ƒè¯•</h3>
<p>åœ¨å¤æ‚åœºæ™¯ä¸­ï¼Œéœ€ç›‘æ§èŠ‚ç‚¹æ€§èƒ½ï¼š</p>
<ul>
<li><strong>å¯è§†åŒ–è°ƒè¯•</strong>ï¼šé€šè¿‡è‡ªå®šä¹‰ç€è‰²å™¨æ˜¾ç¤ºä¸­é—´ç»“æœï¼Œé¢œè‰²ç¼–ç æ³•çº¿æ–¹å‘ã€‚</li>
<li><strong>è´¨é‡è¯„ä¼°</strong>ï¼šåœ¨å¤šè®¾å¤‡ã€å¤šåˆ†è¾¨ç‡ä¸‹æµ‹è¯•æ³•çº¿è´¨é‡ä¸æ€§èƒ½è¡¨ç°ã€‚</li>
</ul>
<h2 data-id="heading-28">å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-29">æ³•çº¿å¤±çœŸå¤„ç†</h3>
<p>é‡åˆ°æ³•çº¿å¤±çœŸï¼ˆå¦‚æ¡çº¹æˆ–æ–‘å—ï¼‰æ—¶ï¼Œå¯é‡‡å–ï¼š</p>
<ul>
<li><strong>è¾“å…¥ä¼˜åŒ–</strong>ï¼šç¡®ä¿é«˜åº¦å€¼è¿ç»­å¹³æ»‘ï¼Œé¿å…å‰§çƒˆè·³å˜ï¼Œå¿…è¦æ—¶ä½¿ç”¨æ»¤æ³¢å¤„ç†ã€‚</li>
<li><strong>å‚æ•°è°ƒæ•´</strong>ï¼šé™ä½Strengthå€¼ï¼Œè°ƒèŠ‚é«˜åº¦å›¾å¯¹æ¯”åº¦ï¼Œæˆ–æå‡è®¡ç®—ç²¾åº¦ã€‚</li>
</ul>
<h3 data-id="heading-30">æ€§èƒ½ç“¶é¢ˆåˆ†æ</h3>
<p>è¯†åˆ«ä¸è§£å†³æ€§èƒ½é—®é¢˜ï¼š</p>
<ul>
<li><strong>è®¡ç®—è´Ÿè½½</strong>ï¼šè¯„ä¼°åå¯¼æ•°è®¡ç®—ä¸å‘é‡è¿ç®—çš„å¼€é”€ï¼Œä¼˜å…ˆç®€åŒ–é«˜æˆæœ¬æ“ä½œã€‚</li>
<li><strong>å†…å­˜è®¿é—®</strong>ï¼šä¼˜åŒ–çº¹ç†ç¼“å­˜ä½¿ç”¨ï¼Œå‡å°‘é‡‡æ ·æ¬¡æ•°ï¼Œæˆ–åœ¨é€‚ç”¨æ—¶ä½¿ç”¨è®¡ç®—ç€è‰²å™¨æ›¿ä»£ç‰‡æ®µç€è‰²å™¨ã€‚</li>
</ul>
<h3 data-id="heading-31">å…¼å®¹æ€§è€ƒè™‘</h3>
<p>ç¡®ä¿èŠ‚ç‚¹åœ¨å¤šå¹³å°ä¸æ¸²æŸ“ç®¡çº¿ä¸‹ç¨³å®šè¿è¡Œï¼š</p>
<ul>
<li><strong>å¹³å°é€‚é…</strong>ï¼šè€ƒè™‘ç§»åŠ¨ç«¯ç²¾åº¦é™åˆ¶ï¼Œé€‚é…ä¸åŒGPUæ¶æ„ã€‚</li>
<li><strong>ç®¡çº¿é›†æˆ</strong>ï¼šåœ¨URPä¸­æ­£ç¡®é…ç½®æ¸²æŸ“ç‰¹æ€§ï¼Œæµ‹è¯•ä¸åŒè´¨é‡è®¾ç½®ä¸‹çš„è¡¨ç°ã€‚</li>
</ul>
<hr/>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong>
ï¼ˆæ¬¢è¿<em>ç‚¹èµç•™è¨€</em>æ¢è®¨ï¼Œæ›´å¤šäººåŠ å…¥è¿›æ¥èƒ½æ›´åŠ å®Œå–„è¿™ä¸ªæ¢ç´¢çš„è¿‡ç¨‹ï¼ŒğŸ™ï¼‰</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‹’ç»æ— æ•ˆå†…å·ï¼Œè¿™ 7 ä¸ª JavaScript åº“è®©ä»£ç æ›´èƒ½æ‰“]]></title>    <link>https://juejin.cn/post/7591129807754772543</link>    <guid>https://juejin.cn/post/7591129807754772543</guid>    <pubDate>2026-01-04T07:16:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591129807754772543" data-draft-id="7591389489411653673" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‹’ç»æ— æ•ˆå†…å·ï¼Œè¿™ 7 ä¸ª JavaScript åº“è®©ä»£ç æ›´èƒ½æ‰“"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-04T07:16:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¯¥ç”¨æˆ·å·²ä¸å­˜åœ¨"/> <meta itemprop="url" content="https://juejin.cn/user/64217584778579"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‹’ç»æ— æ•ˆå†…å·ï¼Œè¿™ 7 ä¸ª JavaScript åº“è®©ä»£ç æ›´èƒ½æ‰“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/64217584778579/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¯¥ç”¨æˆ·å·²ä¸å­˜åœ¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T07:16:37.000Z" title="Sun Jan 04 2026 07:16:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨Javascript ç”Ÿæ€ç–¯ç‹‚è¿­ä»£çš„ä»Šå¤©ï¼Œå¾ˆå¤šæ‰€è°“çš„åˆ›æ–°å¾€å¾€åªæ˜¯é‡æ–°åŒ…è£…äº†æ—§æ¦‚å¿µã€‚ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬è¦å¯»æ‰¾çš„ä¸æ˜¯ GitHub ä¸Š Star å¢é•¿æœ€å¿«çš„ç©å…·ï¼Œè€Œæ˜¯é‚£äº›çœŸæ­£èƒ½è§£å†³ç”Ÿäº§ç¯å¢ƒç—›ç‚¹ã€æå‡ä»£ç å¥å£®æ€§ã€ç”šè‡³æ”¹å˜å¼€å‘å·¥ä½œæµçš„å·¥å…·ã€‚</p>
<p>è¿™é‡Œæ•´ç†äº†å‡ ä¸ªåœ¨å®é™…é¡¹ç›®ä¸­è¡¨ç°å‡ºè‰²çš„åº“ï¼Œå®ƒä»¬åˆ†åˆ«è§£å†³äº†éªŒè¯ã€é˜Ÿåˆ—ã€ç¼“å­˜ã€è¿è¡Œæ—¶ã€ç³»ç»Ÿè°ƒç”¨åŠ ID ç”Ÿæˆç­‰æ ¸å¿ƒé—®é¢˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f21c2632a1b34791970cb73656ca9838~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-l55So5oi35bey5LiN5a2Y5Zyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768115796&amp;x-signature=llAGnOX%2B56BZWQ1EHcslX0NYQBY%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-0">Zodï¼šè¿è¡Œæ—¶ç±»å‹éªŒè¯çš„å®ˆé—¨å‘˜</h3>
<p>TypeScript è™½ç„¶è§£å†³äº†ç¼–è¯‘æ—¶çš„ç±»å‹æ£€æŸ¥ï¼Œä½†æ— æ³•å¤„ç†è¿è¡Œæ—¶çš„æ•°æ®æ ¡éªŒã€‚API è¿”å›çš„æ•°æ®ç»“æ„å˜äº†ï¼Ÿå‰ç«¯è¡¨å•è¾“å…¥äº†éæ³•å­—ç¬¦ï¼ŸZod çš„ä»·å€¼åœ¨äºå®ƒèƒ½ä»¥æå…¶ç²¾ç®€çš„é“¾å¼è°ƒç”¨ï¼Œæ„å»ºå‡ºå…¼å…·ç±»å‹æ¨å¯¼å’Œè¿è¡Œæ—¶æ ¡éªŒçš„ Schemaã€‚</p>
<p>ç›¸æ¯”äºä¼ ç»Ÿçš„ Joi æˆ– Yupï¼ŒZod å¯¹ TypeScript çš„æ”¯æŒå‡ ä¹æ˜¯åŸç”Ÿçº§åˆ«çš„ï¼Œä¸” API è®¾è®¡éå¸¸ç¬¦åˆç›´è§‰ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { z } <span class="hljs-keyword">from</span> <span class="hljs-string">"zod"</span>;

<span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªåŒ…å«è½¬æ¢é€»è¾‘çš„ Schema</span>
<span class="hljs-keyword">const</span> envConfig = z.<span class="hljs-title function_">object</span>({
  <span class="hljs-comment">// å¦‚æœè¾“å…¥æ˜¯å­—ç¬¦ä¸²æ•°å­—ï¼Œè‡ªåŠ¨è½¬æ¢ä¸ºæ•°å­—</span>
  <span class="hljs-attr">PORT</span>: z.<span class="hljs-property">coerce</span>.<span class="hljs-title function_">number</span>().<span class="hljs-title function_">min</span>(<span class="hljs-number">3000</span>).<span class="hljs-title function_">default</span>(<span class="hljs-number">3000</span>),
  <span class="hljs-comment">// å¿…é¡»æ˜¯é‚®ç®±æ ¼å¼</span>
  <span class="hljs-attr">ADMIN_EMAIL</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">email</span>(),
  <span class="hljs-comment">// ä»…å…è®¸ç‰¹å®šå€¼</span>
  <span class="hljs-attr">NODE_ENV</span>: z.<span class="hljs-title function_">enum</span>([<span class="hljs-string">"development"</span>, <span class="hljs-string">"production"</span>]),
});

<span class="hljs-comment">// æ¨¡æ‹Ÿè¯»å–ç¯å¢ƒå˜é‡</span>
<span class="hljs-keyword">const</span> processEnv = {
  <span class="hljs-attr">PORT</span>: <span class="hljs-string">"8080"</span>,
  <span class="hljs-attr">ADMIN_EMAIL</span>: <span class="hljs-string">"admin@example.com"</span>,
  <span class="hljs-attr">NODE_ENV</span>: <span class="hljs-string">"production"</span>,
};

<span class="hljs-comment">// éªŒè¯å¹¶è§£æï¼Œå¦‚æœå¤±è´¥ä¼šæŠ›å‡ºè¯¦ç»†é”™è¯¯</span>
<span class="hljs-keyword">const</span> config = envConfig.<span class="hljs-title function_">parse</span>(processEnv);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(config.<span class="hljs-property">PORT</span>); <span class="hljs-comment">// è¾“å‡ºæ•°å­—ç±»å‹ï¼š8080</span>
</code></pre>
<h3 data-id="heading-1">BullMQï¼šå¤„ç†å¼‚æ­¥ä»»åŠ¡çš„å·¥ä¸šçº§æ–¹æ¡ˆ</h3>
<p>åœ¨ Node.js ä¸­å¤„ç†è€—æ—¶ä»»åŠ¡ï¼ˆå¦‚å‘é€é‚®ä»¶ã€ç”ŸæˆæŠ¥è¡¨ï¼‰ï¼Œç›´æ¥åœ¨ä¸»çº¿ç¨‹ <code>await</code> æˆ–è€…ç®€å•ä½¿ç”¨ <code>setTimeout</code> å¾€å¾€ä¼šé˜»å¡äº‹ä»¶å¾ªç¯æˆ–å¯¼è‡´ä»»åŠ¡ä¸¢å¤±ã€‚BullMQ åŸºäº Redisï¼Œæä¾›äº†å®Œå–„çš„æ¶ˆæ¯é˜Ÿåˆ—åŠŸèƒ½ï¼Œæ”¯æŒé‡è¯•ã€å»¶è¿Ÿæ‰§è¡Œã€ä¼˜å…ˆçº§é˜Ÿåˆ—ä»¥åŠçˆ¶å­ä»»åŠ¡ä¾èµ–ã€‚</p>
<p>å®ƒå®Œå…¨åŸºäº TypeScript é‡å†™ï¼Œæ¯”è€ç‰Œçš„ Bull æ›´ç¨³å®šï¼Œæ˜¯å¤„ç†åå°ä»»åŠ¡çš„é¦–é€‰ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Queue</span>, <span class="hljs-title class_">Worker</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'bullmq'</span>;

<span class="hljs-keyword">const</span> connection = { <span class="hljs-attr">host</span>: <span class="hljs-string">'localhost'</span>, <span class="hljs-attr">port</span>: <span class="hljs-number">6379</span> };

<span class="hljs-comment">// 1. åˆ›å»ºä»»åŠ¡é˜Ÿåˆ—</span>
<span class="hljs-keyword">const</span> emailQueue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Queue</span>(<span class="hljs-string">'email-sending'</span>, { connection });

<span class="hljs-comment">// 2. æ·»åŠ ä»»åŠ¡åˆ°é˜Ÿåˆ—</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">addJob</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">await</span> emailQueue.<span class="hljs-title function_">add</span>(<span class="hljs-string">'welcome-email'</span>, { 
    <span class="hljs-attr">email</span>: <span class="hljs-string">'user@example.com'</span>, 
    <span class="hljs-attr">subject</span>: <span class="hljs-string">'Welcome!'</span> 
  });
}

<span class="hljs-comment">// 3. åˆ›å»º Worker åœ¨åå°å¤„ç†ä»»åŠ¡</span>
<span class="hljs-keyword">const</span> worker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-string">'email-sending'</span>, <span class="hljs-keyword">async</span> job =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ­£åœ¨å¤„ç†ä»»åŠ¡ <span class="hljs-subst">${job.id}</span>: å‘é€é‚®ä»¶ç»™ <span class="hljs-subst">${job.data.email}</span>`</span>);
  <span class="hljs-comment">// æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ</span>
  <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">1000</span>));
}, { connection });
</code></pre>
<h3 data-id="heading-2">ioredisï¼šRedis å®¢æˆ·ç«¯çš„æ ‡å‡†ç­”æ¡ˆ</h3>
<p>æ—¢ç„¶æåˆ°äº† BullMQï¼Œå°±ç»•ä¸å¼€ Redisã€‚åœ¨ Node.js ç¤¾åŒºï¼Œioredis å‡­å€Ÿå…¶å¯¹é›†ç¾¤ï¼ˆClusterï¼‰ã€å“¨å…µï¼ˆSentinelï¼‰æ¨¡å¼çš„å®Œå–„æ”¯æŒï¼Œä»¥åŠå‹å¥½çš„ Promise å°è£…ï¼Œå·²ç»æˆä¸ºäº†äº‹å®ä¸Šçš„æ ‡å‡†ã€‚å®ƒä¸ä»…æ€§èƒ½å¼ºåŠ²ï¼Œè€Œä¸”åœ¨è¿æ¥æ–­å¼€æ—¶çš„è‡ªåŠ¨é‡è¿ç­–ç•¥éå¸¸æ™ºèƒ½ï¼Œå¤§å¤§å‡å°‘äº†è¿ç»´å¿ƒæ™ºè´Ÿæ‹…ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Redis</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"ioredis"</span>;

<span class="hljs-keyword">const</span> redis = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Redis</span>(); <span class="hljs-comment">// é»˜è®¤è¿æ¥æœ¬åœ° 6379</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">cacheUserData</span>(<span class="hljs-params">userId, data</span>) {
  <span class="hljs-comment">// å­˜å…¥æ•°æ®å¹¶è®¾ç½® 1 å°æ—¶çš„è¿‡æœŸæ—¶é—´ (EX = seconds)</span>
  <span class="hljs-keyword">await</span> redis.<span class="hljs-title function_">set</span>(<span class="hljs-string">`user:<span class="hljs-subst">${userId}</span>`</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data), <span class="hljs-string">"EX"</span>, <span class="hljs-number">3600</span>);
  
  <span class="hljs-comment">// è¯»å–æ•°æ®</span>
  <span class="hljs-keyword">const</span> cached = <span class="hljs-keyword">await</span> redis.<span class="hljs-title function_">get</span>(<span class="hljs-string">`user:<span class="hljs-subst">${userId}</span>`</span>);
  <span class="hljs-keyword">return</span> cached ? <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(cached) : <span class="hljs-literal">null</span>;
}
</code></pre>
<h3 data-id="heading-3">Nanoidï¼šUUID çš„ç°ä»£æ›¿ä»£å“</h3>
<p>UUID è™½ç„¶é€šç”¨ï¼Œä½†ä¸ä»…å­—ç¬¦å†—é•¿ï¼Œè€Œä¸”ä¸æ˜¯ URL å®‰å…¨çš„ã€‚Nanoid ç”Ÿæˆçš„ ID æ›´çŸ­ã€æ›´å®‰å…¨ï¼ˆåŸºäºåŠ å¯†å¼ºåº¦çš„éšæœºæ•°ç”Ÿæˆå™¨ï¼‰ï¼Œå¹¶ä¸”ç”Ÿæˆé€Ÿåº¦æ¯” UUID å¿«å¾—å¤šã€‚å®ƒçš„ä½“ç§¯æå°ï¼Œéå¸¸é€‚åˆåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä½œä¸ºä¸»é”®æˆ–ç”¨äºç”ŸæˆçŸ­é“¾æ¥ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { nanoid, customAlphabet } <span class="hljs-keyword">from</span> <span class="hljs-string">'nanoid'</span>;

<span class="hljs-comment">// ç”Ÿæˆæ ‡å‡†çš„ 21 ä½ IDï¼ŒURL å®‰å…¨</span>
<span class="hljs-keyword">const</span> id = <span class="hljs-title function_">nanoid</span>(); 
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(id); <span class="hljs-comment">// ç¤ºä¾‹: "V1StGXR8_Z5jdHi6B-myT"</span>

<span class="hljs-comment">// è‡ªå®šä¹‰å­—æ¯è¡¨å’Œé•¿åº¦ï¼Œé€‚åˆç”Ÿæˆè®¢å•å·ç­‰</span>
<span class="hljs-keyword">const</span> generateOrderId = <span class="hljs-title function_">customAlphabet</span>(<span class="hljs-string">'1234567890abcdef'</span>, <span class="hljs-number">10</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">generateOrderId</span>()); <span class="hljs-comment">// ç¤ºä¾‹: "a3f901c8d2"</span>
</code></pre>
<h3 data-id="heading-4">Execaï¼šè·Ÿ Shell è„šæœ¬è¯´æ‹œæ‹œ</h3>
<p>Node.js åŸç”Ÿçš„ <code>child_process</code> API è®¾è®¡å¾—å¹¶ä¸äººæ€§åŒ–ï¼Œå¤„ç†è¾“å‡ºæµã€é”™è¯¯æ•è·ä»¥åŠè·¨å¹³å°å…¼å®¹æ€§éƒ½å¾ˆéº»çƒ¦ã€‚Execa å¯¹æ­¤è¿›è¡Œäº†æä½³çš„å°è£…ï¼Œè®©åœ¨ JS ä»£ç ä¸­æ‰§è¡Œ Shell å‘½ä»¤å˜å¾—åƒè°ƒç”¨æ™®é€šå‡½æ•°ä¸€æ ·ç®€å•ï¼Œå¹¶ä¸”ä¿ç•™äº†è‰¯å¥½çš„ Promise æ”¯æŒã€‚å®ƒæ˜¯ç¼–å†™è‡ªåŠ¨åŒ–è„šæœ¬ã€æ„å»ºå·¥å…·çš„åˆ©å™¨ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { execa } <span class="hljs-keyword">from</span> <span class="hljs-string">'execa'</span>;

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">runBuildProcess</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// åƒå†™æ™®é€šä»£ç ä¸€æ ·æ‰§è¡Œå‘½ä»¤ï¼Œæ”¯æŒå‚æ•°æ•°ç»„ï¼Œæ— éœ€æ‰‹åŠ¨è½¬ä¹‰</span>
    <span class="hljs-keyword">const</span> { stdout } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">execa</span>(<span class="hljs-string">'npm'</span>, [<span class="hljs-string">'run'</span>, <span class="hljs-string">'build'</span>], {
      <span class="hljs-attr">env</span>: { <span class="hljs-attr">FORCE_COLOR</span>: <span class="hljs-string">'true'</span> }
    });
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ„å»ºè¾“å‡º:'</span>, stdout);
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æ„å»ºå¤±è´¥ï¼Œé€€å‡ºç :'</span>, error.<span class="hljs-property">exitCode</span>);
  }
}
</code></pre>
<h3 data-id="heading-5">ONNX Runtime Webï¼šåœ¨ Node ä¸­è·‘ AI æ¨¡å‹</h3>
<p>AI æ—¶ä»£ï¼Œä¸å¿…ä»€ä¹ˆéƒ½ä¾èµ– Python åç«¯ã€‚ONNX Runtime å…è®¸å¼€å‘è€…ç›´æ¥åœ¨æµè§ˆå™¨æˆ– <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.servbay.com%2Ffeatures%2Fnodejs" target="_blank" title="https://www.servbay.com/features/nodejs" ref="nofollow noopener noreferrer">Node.js ç¯å¢ƒ</a>ä¸­è¿è¡Œè®­ç»ƒå¥½çš„æœºå™¨å­¦ä¹ æ¨¡å‹ã€‚è¿™å¯¹äºéœ€è¦ä½å»¶è¿Ÿã€ä¿æŠ¤æ•°æ®éšç§ï¼ˆæ•°æ®ä¸å‡ºæœ¬åœ°ï¼‰çš„æ¨ç†åœºæ™¯éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚å®æ—¶çš„å›¾åƒå¤„ç†ã€æ–‡æœ¬åˆ†ç±»æˆ–ç‰¹å¾æå–ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> ort <span class="hljs-keyword">from</span> <span class="hljs-string">'onnxruntime-node'</span>;

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">runInference</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// åŠ è½½é¢„è®­ç»ƒæ¨¡å‹ (ä¾‹å¦‚ .onnx æ–‡ä»¶)</span>
  <span class="hljs-keyword">const</span> session = <span class="hljs-keyword">await</span> ort.<span class="hljs-property">InferenceSession</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">'./model.onnx'</span>);
  
  <span class="hljs-comment">// å‡†å¤‡è¾“å…¥æ•°æ® Tensor</span>
  <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">Float32Array</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]);
  <span class="hljs-keyword">const</span> tensor = <span class="hljs-keyword">new</span> ort.<span class="hljs-title class_">Tensor</span>(<span class="hljs-string">'float32'</span>, data, [<span class="hljs-number">2</span>, <span class="hljs-number">2</span>]);
  
  <span class="hljs-comment">// æ‰§è¡Œæ¨ç†</span>
  <span class="hljs-keyword">const</span> feeds = { <span class="hljs-attr">input1</span>: tensor };
  <span class="hljs-keyword">const</span> results = <span class="hljs-keyword">await</span> session.<span class="hljs-title function_">run</span>(feeds);
  
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¨ç†ç»“æœ:'</span>, results.<span class="hljs-property">output1</span>.<span class="hljs-property">data</span>);
}
</code></pre>
<h3 data-id="heading-6">Bun.jsï¼šæ‰“ç ´è§„åˆ™çš„æŒ‘æˆ˜è€…</h3>
<p>Bunå°±ä¸ç”¨å¤šè¯´äº†å§ï¼Ÿè¢«Anthropicæ”¶è´­ï¼Œè¿™è¶³ä»¥è¯æ˜å®ƒçš„æ±Ÿæ¹–åœ°ä½ã€‚</p>
<p>Bun å†…ç½®äº†æ‰“åŒ…å™¨ã€æµ‹è¯•è¿è¡Œå™¨å’ŒåŒ…ç®¡ç†å™¨ï¼Œå¯åŠ¨é€Ÿåº¦æå¿«ã€‚å¯¹äºä¹ æƒ¯äº† Node.js å¯åŠ¨å»¶è¿Ÿçš„å¼€å‘è€…æ¥è¯´ï¼ŒBun çš„ä½“éªŒæ˜¯é¢ è¦†æ€§çš„ã€‚å®ƒä¸ä»…å…¼å®¹ Node.js APIï¼Œè¿˜æä¾›äº†è®¸å¤šé«˜æ€§èƒ½çš„åŸç”Ÿå®ç°ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// server.js</span>
<span class="hljs-comment">// ä½¿ç”¨ Bun å†…ç½®çš„ HTTP æœåŠ¡å™¨ï¼Œæ€§èƒ½è¿œè¶… Node åŸç”Ÿ http æ¨¡å—</span>
<span class="hljs-title class_">Bun</span>.<span class="hljs-title function_">serve</span>({
  <span class="hljs-attr">port</span>: <span class="hljs-number">3000</span>,
  <span class="hljs-title function_">fetch</span>(<span class="hljs-params">req</span>) {
    <span class="hljs-keyword">const</span> url = <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(req.<span class="hljs-property">url</span>);
    <span class="hljs-keyword">if</span> (url.<span class="hljs-property">pathname</span> === <span class="hljs-string">"/"</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">"Hello Bun!"</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">"Not Found"</span>, { <span class="hljs-attr">status</span>: <span class="hljs-number">404</span> });
  },
});
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:3000"</span>);
</code></pre>
<hr/>
<h3 data-id="heading-7">å¼€å‘ç¯å¢ƒä¸å®¹å°è§‘</h3>
<p>å·¥å…·åº“é€‰å¥½äº†ï¼Œä½†æœ¬åœ°å¼€å‘ç¯å¢ƒçš„æ­å»ºå’Œç»´æŠ¤å¾€å¾€æ‰æ˜¯æœ€è€—æ—¶çš„ç¯èŠ‚ã€‚</p>
<p>ç‰¹åˆ«æ˜¯å½“ä½ éœ€è¦åœ¨ä¸åŒé¡¹ç›®é—´åˆ‡æ¢ï¼Œæ¯”å¦‚ä¸€ä¼šå„¿åˆè¦ç»´æŠ¤è·‘åœ¨ Node 14 ä¸Šçš„è€é¡¹ç›®ï¼Œä¸€ä¼šå„¿åˆè¦åˆ‡åˆ° Node 22 å¼€å‘æ–°åŠŸèƒ½ã€‚æ‰‹åŠ¨ç®¡ç†è¿™äº›ç‰ˆæœ¬ï¼ˆnvmã€æ‰‹åŠ¨é…ç½®è·¯å¾„ï¼‰ä¸ä»…ç¹çï¼Œè¿˜å®¹æ˜“äº§ç”Ÿç¯å¢ƒå†²çªã€‚</p>
<p>è¿™æ—¶å€™ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.servbay.com" target="_blank" title="https://www.servbay.com" ref="nofollow noopener noreferrer">ServBay</a> ****é—ªäº®ç™»åœºã€‚</p>
<p>ServBay é‡æ–°å®šä¹‰äº†æœ¬åœ°å¼€å‘ç¯å¢ƒçš„ç®¡ç†æ–¹å¼ï¼Œå®ƒä¸æ˜¯ç®€å•çš„ç‰ˆæœ¬åˆ‡æ¢å·¥å…·ï¼Œè€Œæ˜¯ä¸€ä¸ªé›†æˆçš„æœåŠ¡ç”Ÿæ€ï¼š</p>
<ul>
<li><strong>å¤šç‰ˆæœ¬å…±å­˜</strong>ï¼šæ”¯æŒä» Node.js 12 åˆ° Node 24 çš„å…¨ç‰ˆæœ¬å®‰è£…ã€‚æœ€å…³é”®çš„æ˜¯ï¼Œå®ƒæ”¯æŒ<strong>åŒæ—¶è¿è¡Œ</strong>å¤šä¸ªä¸åŒç‰ˆæœ¬çš„ Node.js ç¯å¢ƒï¼Œäº’ä¸å¹²æ‰°ã€‚å¼€å‘è€…å¯ä»¥åœ¨é¡¹ç›® A ä¸­è·‘ Node 14ï¼Œåœ¨é¡¹ç›® B ä¸­è·‘ Node 22ï¼Œæ— éœ€åå¤åˆ‡æ¢å…¨å±€å˜é‡ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a94c83bf505416cbec791f57ddd62ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-l55So5oi35bey5LiN5a2Y5Zyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768115796&amp;x-signature=w%2BHV4v2YNTnfbUrA8MiqMuF4DgQ%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>ä¸€é”® Bun</strong>ï¼šæƒ³ä½“éªŒ Bun.jsï¼Ÿåœ¨ ServBay é‡Œåªéœ€ç‚¹å‡»ä¸€ä¸‹å³å¯å®‰è£…å¹¶è¿è¡Œï¼Œç«‹åˆ»äº«å—æé€Ÿä½“éªŒï¼Œæ— éœ€å¤æ‚çš„å‘½ä»¤è¡Œé…ç½®ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6679602d7aa418fb2f2b4215bec05a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-l55So5oi35bey5LiN5a2Y5Zyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768115796&amp;x-signature=%2FE3YPJbFcqaOl09Rl9GWDiSq73s%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>ä¸€é”®å¯åœ</strong>ï¼šæ‰€æœ‰çš„æœåŠ¡å †æ ˆï¼ˆåŒ…æ‹¬ Nodeã€DB ç­‰ï¼‰éƒ½å¯ä»¥é€šè¿‡å›¾å½¢ç•Œé¢ä¸€é”®å¯åŠ¨æˆ–åœæ­¢ï¼Œèµ„æºå ç”¨å°½åœ¨æŒæ§ã€‚</li>
</ul>
<p>å¦‚æœè¯´ä¸Šè¿°çš„ JavaScript åº“æ˜¯ä¸ºäº†è®©ä»£ç è·‘å¾—æ›´ç¨³ï¼Œé‚£ä¹ˆ ServBay å°±æ˜¯ä¸ºäº†æŠŠå†™ä»£ç å‰çš„å‡†å¤‡å·¥ä½œå˜å¾—æœ€ç®€ã€‚æŠŠæ—¶é—´èŠ‚çœä¸‹æ¥ï¼Œå†™å‡ºæ›´å‰å®³çš„ä»£ç ã€‚</p>
<h3 data-id="heading-8">ç»“è¯­</h3>
<p>æŠ€æœ¯æ ˆçš„é€‰æ‹©ä¸åº”ç›²ç›®è·Ÿé£ï¼Œè€Œåº”åŸºäºå®é™…é—®é¢˜çš„è§£å†³ã€‚Zod å¸¦æ¥äº†ç±»å‹å®‰å…¨ï¼ŒBullMQ è§£å†³äº†å¼‚æ­¥å¤„ç†ï¼ŒExeca ä¼˜åŒ–äº†è„šæœ¬ç¼–å†™ï¼Œè€Œ ServBay åˆ™è§£å†³äº†æœ€åŸºç¡€ä½†ä¹Ÿæœ€è®©äººå¤´ç–¼çš„ç¯å¢ƒç®¡ç†é—®é¢˜ã€‚</p>
<p>2026 å¹´ï¼Œæ„¿ä½ çš„ä»£ç æ›´å°‘ Bugï¼Œç¯å¢ƒé…ç½®ä¸å†æŠ¥é”™ï¼Œæ—©ç‚¹ä¸‹ç­ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€ŠåŒTokenæœºåˆ¶ï¼Ÿã€‹Next.js åŒ Token ç™»å½•ä¸æ— æ„Ÿåˆ·æ–°å®æˆ˜æ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7591301294298005531</link>    <guid>https://juejin.cn/post/7591301294298005531</guid>    <pubDate>2026-01-04T06:57:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591301294298005531" data-draft-id="7591243363081666598" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€ŠåŒTokenæœºåˆ¶ï¼Ÿã€‹Next.js åŒ Token ç™»å½•ä¸æ— æ„Ÿåˆ·æ–°å®æˆ˜æ•™ç¨‹"/> <meta itemprop="keywords" content="å‰ç«¯,Next.js,å…¨æ ˆ"/> <meta itemprop="datePublished" content="2026-01-04T06:57:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤šå•¦Cæ¢¦a"/> <meta itemprop="url" content="https://juejin.cn/user/2640348698905129"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€ŠåŒTokenæœºåˆ¶ï¼Ÿã€‹Next.js åŒ Token ç™»å½•ä¸æ— æ„Ÿåˆ·æ–°å®æˆ˜æ•™ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2640348698905129/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤šå•¦Cæ¢¦a
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T06:57:40.000Z" title="Sun Jan 04 2026 06:57:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨ç°ä»£ Web åº”ç”¨ä¸­ï¼Œç”¨æˆ·ç™»å½•é‰´æƒæ˜¯å‰ç«¯å¼€å‘å¿…ä¿®è¯¾ã€‚å°¤å…¶æ˜¯åœ¨ä¼ä¸šçº§é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸é¢ä¸´è¿™äº›é—®é¢˜ï¼š</p>
<ul>
<li>å¦‚ä½•ä¿è¯ç”¨æˆ·ç™»å½•åé¡µé¢é•¿æœŸä¿æŒç™»å½•çŠ¶æ€ï¼Ÿ</li>
<li>accessToken è¿‡æœŸæ€ä¹ˆåŠï¼Ÿåˆ·æ–° token æ€ä¹ˆå®‰å…¨å®ç°ï¼Ÿ</li>
<li>å¦‚ä½•ä¿è¯å®‰å…¨æ€§åˆå…¼é¡¾ç”¨æˆ·ä½“éªŒï¼Ÿ</li>
</ul>
<p>ä»Šå¤©ï¼Œæˆ‘å°†ç»“åˆ <strong>Next.js + Prisma + JWT + åŒ Token</strong> çš„å®æˆ˜ç»éªŒï¼Œè¯¦ç»†è®²è§£å¦‚ä½•å®ç°ä¸€ä¸ª <strong>å®Œæ•´çš„å®‰å…¨ç™»å½•ç³»ç»Ÿ</strong>ã€‚æ–‡ç« ä¼šä»æ•°æ®åº“è®¾è®¡ã€token ç”Ÿæˆã€å‰ç«¯ä¸­é—´ä»¶ã€æ— æ„Ÿåˆ·æ–°é€»è¾‘åˆ°é¢è¯•åŠ åˆ†ç‚¹ï¼Œå…¨æ–¹ä½æ‹†è§£ï¼Œè®©å°ç™½ä¹Ÿèƒ½è¯»æ‡‚ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€åŒ Token ç™»å½•æ¦‚å¿µ</h2>
<p>åŒ Token ç™»å½•æ˜¯ä¸€ç§ç°ä»£ Web åº”ç”¨å¸¸ç”¨æ–¹æ¡ˆï¼Œæ ¸å¿ƒç†å¿µæ˜¯ï¼š</p>























<table><thead><tr><th>Token</th><th>ç”Ÿå‘½å‘¨æœŸ</th><th>å­˜å‚¨ä½ç½®</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><strong>Access Token</strong></td><td>çŸ­æœŸï¼ˆ10â€“30 åˆ†é’Ÿï¼‰</td><td>HttpOnly Cookie æˆ–è¯·æ±‚ Header</td><td>ç”¨äºæ¥å£é‰´æƒï¼Œæ¯æ¬¡è¯·æ±‚éªŒè¯ç”¨æˆ·èº«ä»½</td></tr><tr><td><strong>Refresh Token</strong></td><td>é•¿æœŸï¼ˆ7 å¤©ç”šè‡³æ›´é•¿ï¼‰</td><td>HttpOnly Cookie + æ•°æ®åº“</td><td>ç”¨äºç”Ÿæˆæ–°çš„ accessTokenï¼Œå®ç°æ— æ„Ÿåˆ·æ–°</td></tr></tbody></table>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ol>
<li><strong>å®‰å…¨æ€§é«˜</strong>ï¼šaccessToken è¿‡æœŸå¿«ï¼Œå³ä½¿è¢«ç›—ä¹Ÿå½±å“æœ‰é™</li>
<li><strong>ç”¨æˆ·ä½“éªŒå¥½</strong>ï¼šrefreshToken å¯å®ç°æ— æ„Ÿåˆ·æ–°ï¼Œç”¨æˆ·æ— éœ€é¢‘ç¹ç™»å½•</li>
<li><strong>å¯æ§æ€§å¼º</strong>ï¼šæ•°æ®åº“å­˜å‚¨ refreshTokenï¼Œå¯éšæ—¶æ³¨é”€æˆ–å¤±æ•ˆ</li>
</ol>
<hr/>
<h2 data-id="heading-2">äºŒã€Next.js è·¯ç”±ä¸ dashboard ç›®å½•</h2>
<p>åœ¨ Next.js ä¸­ï¼Œæ¯ä¸ªç›®å½•å¯¹åº”è·¯ç”±ï¼Œ<code>dashboard</code> ç›®å½•å¸¸ç”¨äº<strong>ç™»å½•åå¯è®¿é—®çš„åå°é¡µé¢é›†åˆ</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">app/
â”œâ”€ dashboard/
â”‚  â”œâ”€ page.tsx        â†’ /dashboard
â”‚  â”œâ”€ settings/page.tsx â†’ /dashboard/settings
â”‚  â””â”€ <span class="hljs-built_in">users</span>/page.tsx  â†’ /dashboard/users
â”œâ”€ login/page.tsx      â†’ /login
â”œâ”€ layout.tsx
</code></pre>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>dashboard ä¸‹çš„é¡µé¢éƒ½æ˜¯ <strong>å—ä¿æŠ¤è·¯ç”±</strong></li>
<li>å¯ä»¥åœ¨ <code>dashboard/layout.tsx</code> ç»Ÿä¸€å¸ƒå±€ï¼ˆä¾§è¾¹æ ã€å¯¼èˆªæ ï¼‰</li>
<li>ä¸­é—´ä»¶å¯ä»¥ç»Ÿä¸€å¤„ç†æ•´ä¸ª dashboard çš„é‰´æƒé€»è¾‘</li>
</ul>
<blockquote>
<p>åŒ Token ä½“ç³»ç»“åˆæ•°æ®åº“å­˜å‚¨å’Œä¸­é—´ä»¶æ— æ„Ÿåˆ·æ–°ï¼Œå®ç°äº†å®‰å…¨ã€å¯æ§å’Œé«˜ç”¨æˆ·ä½“éªŒçš„ç™»å½•æ–¹æ¡ˆï¼šaccessToken çŸ­æœŸä¿è¯å®‰å…¨ï¼ŒrefreshToken é•¿æœŸä¿è¯æ— æ„Ÿåˆ·æ–°ï¼ŒåŒæ—¶æ•°æ®åº“å­˜å‚¨ refreshToken å¯ä»¥éšæ—¶æ³¨é”€æˆ–è½®æ¢ï¼Œæ”¯æŒå¤šç«¯ç®¡ç†</p>
</blockquote>
<h2 data-id="heading-3"><strong>dashboard ç›®å½•çš„ä½œç”¨</strong></h2>
<p>åœ¨æˆ‘ä»¬çš„åŒ Token ç™»å½•ç³»ç»Ÿä¸­ï¼Œ<strong>dashboard ç›®å½•</strong>æ‰®æ¼”äº†æ ¸å¿ƒè§’è‰²ï¼Œå®ƒæ˜¯æ‰€æœ‰ç™»å½•åå¯è®¿é—®é¡µé¢çš„é›†åˆã€‚ç†è§£ dashboard çš„ä½œç”¨ï¼Œå¯¹å®ç°å®‰å…¨ã€å¯æ§çš„ç™»å½•ä½“ç³»éå¸¸é‡è¦ã€‚</p>
<hr/>
<h3 data-id="heading-4">å—ä¿æŠ¤è·¯ç”±</h3>
<ul>
<li>dashboard ä¸‹çš„æ‰€æœ‰é¡µé¢éƒ½æ˜¯<strong>ç™»å½•åæ‰èƒ½è®¿é—®çš„è·¯ç”±</strong>ã€‚</li>
<li>å¦‚æœç”¨æˆ·æ²¡æœ‰ç™»å½•ï¼ˆaccessToken å’Œ refreshToken éƒ½æ— æ•ˆï¼‰ï¼Œä¸­é—´ä»¶ä¼šæ‹¦æˆªè¯·æ±‚ï¼Œå¹¶é‡å®šå‘åˆ°ç™»å½•é¡µã€‚</li>
<li>ä¸¾ä¾‹ç›®å½•ç»“æ„ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">app/
â”œâ”€ dashboard/
â”‚  â”œâ”€ page.tsx        â†’ /dashboard
â”‚  â”œâ”€ settings/page.tsx â†’ /dashboard/settings
â”‚  â””â”€ <span class="hljs-built_in">users</span>/page.tsx  â†’ /dashboard/users
</code></pre>
<p><strong>é€»è¾‘è§£æ</strong>ï¼š</p>
<ol>
<li>ç”¨æˆ·è¯·æ±‚ <code>/dashboard</code> æˆ–å­é¡µé¢</li>
<li>ä¸­é—´ä»¶æ£€æŸ¥ accessToken æ˜¯å¦æœ‰æ•ˆ</li>
<li>accessToken æœ‰æ•ˆ â†’ å…è®¸è®¿é—®</li>
<li>accessToken æ— æ•ˆä½† refreshToken æœ‰æ•ˆ â†’ è‡ªåŠ¨åˆ·æ–° tokenï¼Œæ— æ„Ÿç™»å½•</li>
<li>ä¸¤è€…éƒ½æ— æ•ˆ â†’ é‡å®šå‘ç™»å½•é¡µ</li>
</ol>
<blockquote>
<p>é¢è¯•åŠ åˆ†ç‚¹ï¼šdashboard ç›®å½•å°±æ˜¯â€œå—ä¿æŠ¤è·¯ç”±é›†åˆâ€ï¼Œä¸­é—´ä»¶ç»Ÿä¸€ç®¡ç†é‰´æƒï¼Œä¿è¯å®‰å…¨æ€§å’Œç”¨æˆ·ä½“éªŒã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-5">ç»Ÿä¸€å¸ƒå±€ï¼ˆlayout.tsxï¼‰</h3>
<p>åœ¨ Next.js ä¸­ï¼Œ<code>dashboard/layout.tsx</code> å¯ä»¥ç»Ÿä¸€é…ç½®æ‰€æœ‰å­é¡µé¢çš„å¸ƒå±€ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>å·¦ä¾§å¯¼èˆªæ ï¼ˆèœå•ï¼‰</li>
<li>é¡¶éƒ¨å¯¼èˆªï¼ˆç”¨æˆ·ä¿¡æ¯ã€ç™»å‡ºæŒ‰é’®ï¼‰</li>
<li>å†…å®¹åŒºåŸŸï¼ˆå­é¡µé¢æ¸²æŸ“ï¼‰</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">DashboardLayout</span>(<span class="hljs-params">{ children }: { children: React.ReactNode }</span>) {
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"dashboard-layout"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">aside</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"sidebar"</span>&gt;</span>å¯¼èˆªèœå•<span class="hljs-tag">&lt;/<span class="hljs-name">aside</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"header"</span>&gt;</span>ç”¨æˆ·ä¿¡æ¯ / ç™»å‡º<span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">main</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"content"</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
}
</code></pre>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ol>
<li>æ‰€æœ‰ dashboard å­é¡µé¢ç»Ÿä¸€æ ·å¼å’Œå¸ƒå±€</li>
<li>é¡µé¢åˆ‡æ¢ä¸ä¼šé‡å¤åŠ è½½å¯¼èˆªå’Œä¾§è¾¹æ </li>
</ol>
<hr/>
<h3 data-id="heading-6">3ï¸âƒ£ ä¸­é—´ä»¶ç»Ÿä¸€é‰´æƒ</h3>
<p>ä¸­é—´ä»¶å¯ä»¥é’ˆå¯¹æ•´ä¸ª dashboard ç›®å½•è¿›è¡Œç»Ÿä¸€é‰´æƒï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function">export <span class="hljs-keyword">async</span> function <span class="hljs-title">middleware</span>(<span class="hljs-params">request: NextRequest</span>)</span> {
    <span class="hljs-keyword">const</span> accessToken = request.cookies.<span class="hljs-keyword">get</span>(<span class="hljs-string">'accessToken'</span>)?.<span class="hljs-keyword">value</span>
    <span class="hljs-keyword">const</span> refreshToken = request.cookies.<span class="hljs-keyword">get</span>(<span class="hljs-string">'refreshToken'</span>)?.<span class="hljs-function"><span class="hljs-keyword">value</span>

    <span class="hljs-title">if</span> (<span class="hljs-params">accessToken</span>)</span> {
        <span class="hljs-keyword">const</span> payload = <span class="hljs-keyword">await</span> verifyToken(accessToken)
        <span class="hljs-keyword">if</span> (payload) {
            <span class="hljs-keyword">const</span> headers = <span class="hljs-keyword">new</span> Headers(request.headers)
            headers.<span class="hljs-keyword">set</span>(<span class="hljs-string">'x-user-id'</span>, payload.userId <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>)
            <span class="hljs-keyword">return</span> NextResponse.next({ request: { headers } })
        }
    }

    <span class="hljs-keyword">if</span> (refreshToken) {
        <span class="hljs-keyword">const</span> payload = <span class="hljs-keyword">await</span> verifyToken(refreshToken)
        <span class="hljs-keyword">if</span> (payload) {
            <span class="hljs-keyword">const</span> refreshUrl = <span class="hljs-keyword">new</span> URL(<span class="hljs-string">'/api/auth/refresh'</span>, request.url)
            refreshUrl.searchParams.<span class="hljs-keyword">set</span>(<span class="hljs-string">'redirect'</span>, request.url)
            <span class="hljs-keyword">return</span> NextResponse.redirect(refreshUrl)
        }
    }

    <span class="hljs-keyword">return</span> NextResponse.redirect(<span class="hljs-keyword">new</span> URL(<span class="hljs-string">'/login'</span>, request.url))
}
</code></pre>
<p><strong>è§£æ</strong>ï¼š</p>
<ol>
<li>ä¸­é—´ä»¶åœ¨è¯·æ±‚åˆ°è¾¾ dashboard å­é¡µé¢å‰æ‰§è¡Œ</li>
<li><strong>accessToken æœ‰æ•ˆ</strong> â†’ æ³¨å…¥ <code>x-user-id</code> header â†’ é¡µé¢å’Œ API å¯ä»¥ç›´æ¥ä½¿ç”¨ç”¨æˆ·ä¿¡æ¯</li>
<li><strong>accessToken æ— æ•ˆ + refreshToken æœ‰æ•ˆ</strong> â†’ é‡å®šå‘ <code>/api/auth/refresh</code> â†’ æ— æ„Ÿåˆ·æ–°</li>
<li><strong>ä¸¤è€…éƒ½æ— æ•ˆ</strong> â†’ å¼ºåˆ¶é‡å®šå‘ç™»å½•é¡µ</li>
</ol>
<blockquote>
<ul>
<li>ç”¨ä¸­é—´ä»¶ç»Ÿä¸€å¤„ç†é‰´æƒé€»è¾‘ï¼Œé¿å…æ¯ä¸ªé¡µé¢é‡å¤ä»£ç </li>
<li>å°†ç”¨æˆ·ä¿¡æ¯æ³¨å…¥ headerï¼Œæé«˜ä¸‹æ¸¸ API è®¿é—®æ•ˆç‡</li>
<li>æ”¯æŒæ— æ„Ÿåˆ·æ–°ï¼Œæé«˜ç”¨æˆ·ä½“éªŒ</li>
</ul>
</blockquote>
<hr/>
<h2 data-id="heading-7">ä¸‰ã€Prisma æ•°æ®åº“è®¾è®¡</h2>
<p>Prisma ç”¨äºç®¡ç†ç”¨æˆ·å’Œå†…å®¹è¡¨ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">model users {
  id           <span class="hljs-built_in">Int</span>      <span class="hljs-meta">@id</span> <span class="hljs-meta">@default(autoincrement())</span>
  email        String   <span class="hljs-meta">@unique</span>
  password     String
  refreshToken String?
  createdAt    DateTime <span class="hljs-meta">@default(now())</span>
  updatedAt    DateTime <span class="hljs-meta">@updatedAt</span>
  posts        Post[]
}

model Post {
  id        <span class="hljs-built_in">Int</span>      <span class="hljs-meta">@id</span> <span class="hljs-meta">@default(autoincrement())</span>
  title     String
  content   String
  published <span class="hljs-built_in">Boolean</span>  <span class="hljs-meta">@default(false)</span>
  author    users    <span class="hljs-meta">@relation(fields: [authorId], references: [id])</span>
  authorId  <span class="hljs-built_in">Int</span>
  createdAt DateTime <span class="hljs-meta">@default(now())</span>
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ol>
<li>
<p><strong>refreshToken å­˜æ•°æ®åº“</strong>ï¼šä¿è¯ç™»å½•æ€å¯æ§ï¼Œæ”¯æŒç™»å‡ºå’Œå¤šç«¯ç®¡ç†</p>
</li>
<li>
<p><strong>Prisma Migration åŒºåˆ†æ•°æ®å’Œç»“æ„</strong>ï¼š</p>
<ul>
<li>ä¿®æ”¹è¡¨ç»“æ„æˆ–æ–°å¢å­—æ®µ â†’ éœ€è¦è¿ç§»ï¼ˆmigrationï¼‰</li>
<li>æ’å…¥æˆ–æ›´æ–°æ•°æ®ï¼ˆå¦‚æ–°å¢ç”¨æˆ·æˆ–åˆ·æ–° tokenï¼‰ â†’ ä¸éœ€è¦è¿ç§»</li>
</ul>
</li>
<li>
<p><strong>password</strong> ä½¿ç”¨ bcrypt åŠ å¯†å­˜å‚¨</p>
</li>
</ol>
<h2 data-id="heading-8"><strong>refreshToken å­˜æ•°æ®åº“ï¼šä¿è¯ç™»å½•æ€å¯æ§ï¼Œæ”¯æŒç™»å‡ºå’Œå¤šç«¯ç®¡ç†</strong></h2>
<h4 data-id="heading-9">åŸç†</h4>
<ul>
<li>refreshToken æ˜¯é•¿æœŸæœ‰æ•ˆçš„ tokenï¼Œå­˜å‚¨åœ¨æµè§ˆå™¨ Cookie ä¸­</li>
<li>å¦‚æœåªå­˜å‰ç«¯ï¼ŒæœåŠ¡ç«¯æ— æ³•çŸ¥é“ç”¨æˆ·æ˜¯å¦ç™»å‡ºæˆ–è€…æ˜¯å¦å¤±æ•ˆ</li>
<li>å› æ­¤ï¼Œæˆ‘ä»¬åœ¨ <strong>Prisma users è¡¨ä¸­å­˜å‚¨ refreshToken</strong></li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin">model users {
  id           <span class="hljs-built_in">Int</span>      <span class="hljs-meta">@id</span> <span class="hljs-meta">@default(autoincrement())</span>
  email        String   <span class="hljs-meta">@unique</span>
  password     String
  refreshToken String?  <span class="hljs-comment">// å­˜å‚¨ refreshToken</span>
  createdAt    DateTime <span class="hljs-meta">@default(now())</span>
  updatedAt    DateTime <span class="hljs-meta">@updatedAt</span>
}
</code></pre>
<h4 data-id="heading-10">ä¼˜åŠ¿</h4>
<ol>
<li>
<p><strong>æ”¯æŒå•ç«¯ç™»å‡º</strong></p>
<ul>
<li>ç”¨æˆ·åœ¨ä¸€å°è®¾å¤‡ç™»å‡º â†’ æ¸…ç©ºæ•°æ®åº“ refreshToken</li>
<li>å…¶ä»–è®¾å¤‡å°è¯•åˆ·æ–° accessToken æ—¶ä¼šå¤±è´¥ â†’ å¼ºåˆ¶é‡æ–°ç™»å½•</li>
</ul>
</li>
<li>
<p><strong>æ”¯æŒ token è½®æ¢</strong></p>
<ul>
<li>æ¯æ¬¡åˆ·æ–° accessToken æ—¶ç”Ÿæˆæ–°çš„ refreshToken</li>
<li>æ•°æ®åº“å­˜å‚¨æœ€æ–°çš„ refreshToken</li>
<li>é˜²æ­¢æ—§ token è¢«é‡æ”¾æ”»å‡»</li>
</ul>
</li>
<li>
<p><strong>æ”¯æŒå¤šç«¯ç®¡ç†</strong></p>
<ul>
<li>ä¸åŒè®¾å¤‡ç™»å½•å¯ä»¥ç”Ÿæˆä¸åŒ refreshToken</li>
<li>å¯ä»¥æŒ‰è®¾å¤‡æ§åˆ¶æ˜¯å¦å¤±æ•ˆ</li>
</ul>
</li>
</ol>
<blockquote>
<p>é¢è¯•äº®ç‚¹ï¼š</p>
<ul>
<li>â€œæ•°æ®åº“å­˜å‚¨ refreshToken è®©æœåŠ¡ç«¯å®Œå…¨æŒæ§ç™»å½•çŠ¶æ€ï¼Œæ”¯æŒç™»å‡ºã€è½®æ¢å’Œå¤šç«¯ç®¡ç†ã€‚â€</li>
</ul>
</blockquote>
<hr/>
<h2 data-id="heading-11">Prisma Migration åŒºåˆ†æ•°æ®å’Œç»“æ„</h2>
<p>åœ¨å¼€å‘ä¸­ï¼Œæœ‰äº›æ“ä½œä¼šä¿®æ”¹æ•°æ®åº“å†…å®¹ï¼Œæœ‰äº›ä¼šä¿®æ”¹æ•°æ®åº“ç»“æ„ï¼Œéœ€è¦åŒºåˆ†ï¼š</p>
<h4 data-id="heading-12">ç»“æ„å˜æ›´ï¼ˆéœ€è¦ Migrationï¼‰</h4>
<ul>
<li>æ–°å¢å­—æ®µï¼Œä¾‹å¦‚ <code>users</code> è¡¨æ–°å¢ <code>lastLoginTime</code></li>
<li>ä¿®æ”¹å­—æ®µç±»å‹æˆ–çº¦æŸ</li>
<li>æ–°å¢æˆ–ä¿®æ”¹è¡¨</li>
</ul>
<p><strong>Prisma å‘½ä»¤</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">npx prisma migrate dev --name <span class="hljs-keyword">add</span>-lastLoginTime
</code></pre>
<blockquote>
<p>ç”Ÿæˆ SQL å¹¶æ›´æ–°æ•°æ®åº“ç»“æ„</p>
</blockquote>
<h4 data-id="heading-13">æ•°æ®æ“ä½œï¼ˆä¸éœ€è¦ Migrationï¼‰</h4>
<ul>
<li>
<p>æ’å…¥æˆ–æ›´æ–°æ•°æ®ï¼Œå¦‚ï¼š</p>
<ul>
<li>æ–°ç”¨æˆ·æ³¨å†Œ</li>
<li>ç™»å½•åæ›´æ–° refreshToken</li>
<li>ä¿®æ”¹ç”¨æˆ·èµ„æ–™</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-css" lang="css">await prisma<span class="hljs-selector-class">.users</span><span class="hljs-selector-class">.update</span>({
    where: { id: user.id },
    data: { refreshToken: newRefreshToken }
})
</code></pre>
<blockquote>
<p>è¿™äº›æ“ä½œä¸ä¼šæ”¹å˜è¡¨ç»“æ„ï¼Œä¸éœ€è¦è¿ç§»</p>
</blockquote>
<h4 data-id="heading-14">å°ç»“</h4>
<ul>
<li><strong>Migration</strong> = æ”¹ç»“æ„</li>
<li><strong>æ•°æ®æ“ä½œ</strong> = æ”¹æ•°æ®</li>
<li>é¢è¯•å›ç­”ç¤ºä¾‹ï¼š</li>
</ul>
<blockquote>
<p>â€œPrisma åŒºåˆ†è¡¨ç»“æ„å’Œæ•°æ®æ“ä½œï¼Œåªæœ‰ç»“æ„å˜æ›´æ‰éœ€è¦è¿ç§»ï¼Œæ•°æ®æ›´æ–°ä¸éœ€è¦è¿ç§»ï¼Œè¿™ä¿è¯äº†å¼€å‘æ•ˆç‡å’Œæ•°æ®åº“å®‰å…¨ã€‚â€</p>
</blockquote>
<hr/>
<h2 data-id="heading-15">** password ä½¿ç”¨ bcrypt åŠ å¯†å­˜å‚¨**</h2>
<p>ç›´æ¥å­˜æ˜æ–‡å¯†ç æ˜¯éå¸¸å±é™©çš„ï¼Œä¸€æ—¦æ•°æ®åº“æ³„éœ²ï¼Œç”¨æˆ·è´¦å·å°±ä¼šè¢«ç›—ç”¨ã€‚</p>
<h4 data-id="heading-16">bcrypt åŠ å¯†æµç¨‹</h4>
<ol>
<li>æ³¨å†Œæ—¶ï¼š</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> bcrypt <span class="hljs-keyword">from</span> <span class="hljs-string">'bcrypt'</span>

<span class="hljs-keyword">const</span> hashedPassword = <span class="hljs-keyword">await</span> bcrypt.<span class="hljs-title function_">hash</span>(password, <span class="hljs-number">10</span>)
<span class="hljs-keyword">await</span> prisma.<span class="hljs-property">users</span>.<span class="hljs-title function_">create</span>({
    <span class="hljs-attr">data</span>: { email, <span class="hljs-attr">password</span>: hashedPassword }
})
</code></pre>
<ul>
<li><code>10</code> æ˜¯ saltRoundsï¼Œè¡¨ç¤ºåŠ å¯†å¤æ‚åº¦</li>
<li>ç”Ÿæˆçš„ <code>hashedPassword</code> æ˜¯ä¸å¯é€†çš„</li>
</ul>
<ol start="2">
<li>ç™»å½•éªŒè¯æ—¶ï¼š</li>
</ol>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">const</span> isPasswordValid = <span class="hljs-built_in">await</span> bcrypt.<span class="hljs-keyword">compare</span>(password, user.password)
<span class="hljs-keyword">if</span> (!isPasswordValid) {
    <span class="hljs-keyword">return</span> NextResponse.json({ <span class="hljs-keyword">error</span>: <span class="hljs-comment">'å¯†ç é”™è¯¯' }, { status: 401 })</span>
}
</code></pre>
<ul>
<li><code>compare</code> å°†ç”¨æˆ·è¾“å…¥å¯†ç å’Œæ•°æ®åº“åŠ å¯†å¯†ç æ¯”å¯¹</li>
<li>å³ä½¿æ•°æ®åº“æ³„éœ²ï¼Œæ”»å‡»è€…æ— æ³•è¿˜åŸæ˜æ–‡å¯†ç </li>
</ul>
<h4 data-id="heading-17">ä¼˜åŠ¿</h4>
<ul>
<li>
<p><strong>å®‰å…¨</strong>ï¼šä¸å¯é€†ï¼ŒåŠ å¯†ç®—æ³•æŠ—æš´åŠ›ç ´è§£</p>
</li>
<li>
<p><strong>é¢è¯•äº®ç‚¹</strong>ï¼š</p>
<ul>
<li>â€œä½¿ç”¨ bcrypt å¯¹å¯†ç åŠ ç›å“ˆå¸Œå­˜å‚¨ï¼Œä¿éšœç”¨æˆ·æ•°æ®å®‰å…¨ï¼Œæ˜¯å¤§å‚å¿…å¤‡åšæ³•â€</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-18">å››ã€bcrypt å¯†ç åŠ å¯†</h2>
<p>æ³¨å†Œæˆ–ç™»å½•æ—¶ï¼Œä½¿ç”¨ bcrypt å¤„ç†å¯†ç ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">const</span> isPasswordValid = <span class="hljs-built_in">await</span> bcrypt.<span class="hljs-keyword">compare</span>(password, user.password)
<span class="hljs-keyword">if</span> (!isPasswordValid) {
    <span class="hljs-keyword">return</span> NextResponse.json({ <span class="hljs-keyword">error</span>: <span class="hljs-comment">'å¯†ç é”™è¯¯ï¼Œç™»å½•å¤±è´¥' }, { status: 401 })</span>
}
</code></pre>
<p>è§£æï¼š</p>
<ul>
<li>bcrypt æ˜¯ä¸å¯é€†åŠ å¯†ç®—æ³•ï¼Œä¿è¯æ•°æ®åº“ä¸­ä¸ä¼šå­˜å‚¨æ˜æ–‡å¯†ç </li>
<li><code>compare</code> ç”¨äºéªŒè¯ç”¨æˆ·è¾“å…¥å¯†ç æ˜¯å¦åŒ¹é…åŠ å¯†åçš„å¯†ç </li>
</ul>
<blockquote>
<p>é¢è¯•å›ç­”ï¼š<br/>
â€œä½¿ç”¨ bcrypt å¯¹å¯†ç è¿›è¡Œå“ˆå¸Œï¼ŒåŠ å¯†åçš„å¯†ç å­˜å‚¨åœ¨æ•°æ®åº“ï¼Œé˜²æ­¢æ˜æ–‡æ³„éœ²ï¼Œä¿éšœå®‰å…¨ã€‚â€</p>
</blockquote>
<hr/>
<h2 data-id="heading-19">äº”ã€ç”ŸæˆåŒ Token ä¸å­˜å‚¨ refreshToken</h2>
<p>ç™»å½•æˆåŠŸåï¼Œç”Ÿæˆ accessToken å’Œ refreshTokenï¼Œå¹¶å­˜å‚¨ refreshTokenï¼š</p>
<pre><code class="hljs language-python" lang="python">const { accessToken, refreshToken } = <span class="hljs-keyword">await</span> createToken(user.<span class="hljs-built_in">id</span>)

<span class="hljs-keyword">await</span> prisma.users.update({
    where: { <span class="hljs-built_in">id</span>: user.<span class="hljs-built_in">id</span> },
    data: { refreshToken }
})

setAuthCookies(accessToken, refreshToken)
</code></pre>
<p><strong>è§£æ</strong>ï¼š</p>
<ol>
<li>
<p><code>createToken(user.id)</code> â†’ è¿”å›ä¸¤ä¸ª token</p>
<ul>
<li>
<p><strong>accessTokenï¼šçŸ­æœŸæœ‰æ•ˆ</strong></p>
<ul>
<li>ç”¨äº API é‰´æƒï¼Œé€šå¸¸æœ‰æ•ˆæœŸ 10â€“30 åˆ†é’Ÿ</li>
<li>å­˜å‚¨åœ¨å‰ç«¯ HttpOnly Cookie æˆ–è¯·æ±‚ Header ä¸­</li>
<li>è¿‡æœŸåæ— æ³•ä½¿ç”¨ï¼Œä¿è¯å®‰å…¨æ€§ï¼Œå³ä½¿è¢«ç›—ä¹Ÿå½±å“æœ‰é™</li>
</ul>
</li>
<li>
<p><strong>refreshTokenï¼šé•¿æœŸæœ‰æ•ˆï¼Œå­˜æ•°æ®åº“</strong></p>
<ul>
<li>ç”¨äºç”Ÿæˆæ–°çš„ accessTokenï¼Œå®ç°æ— æ„Ÿåˆ·æ–°</li>
<li>æœ‰æ•ˆæœŸé€šå¸¸ 7 å¤©æˆ–æ›´é•¿</li>
<li>å­˜æ•°æ®åº“ä¿è¯æœåŠ¡ç«¯å¯æ§ï¼Œæ”¯æŒç™»å‡ºã€è½®æ¢ã€å¤šç«¯ç®¡ç†</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr/>
<ol start="2">
<li>
<p><code>prisma.users.update</code> â†’ æ›´æ–°æ•°æ®åº“ä¸­çš„ refreshToken</p>
<ul>
<li>
<p>æ¯æ¬¡ç”¨æˆ·ç™»å½•æˆ– refreshToken åˆ·æ–°æ—¶ï¼Œéƒ½æ›´æ–°æ•°æ®åº“ä¸­çš„ refreshToken</p>
</li>
<li>
<p><strong>ä¿è¯æ¯æ¬¡åˆ·æ–°éƒ½èƒ½è½®æ¢ token</strong></p>
<ul>
<li>è€çš„ refreshToken ç«‹å³å¤±æ•ˆ</li>
<li>é˜²æ­¢é‡æ”¾æ”»å‡»ï¼ˆReplay Attackï¼‰</li>
<li>å¤šç«¯ç™»å½•æ—¶å¯æ§åˆ¶å•ç«¯å¤±æ•ˆ</li>
</ul>
</li>
<li>
<p>æ•°æ®åº“å­˜å‚¨çš„ refreshToken ä¸ç”¨æˆ·æµè§ˆå™¨ä¸­çš„ refreshToken ä¸€ä¸€å¯¹åº”ï¼Œä¿è¯å®‰å…¨å¯æ§</p>
</li>
</ul>
</li>
</ol>
<hr/>
<ol start="3">
<li>
<p><code>setAuthCookies</code> â†’ å­˜å‚¨ token ä¸º HttpOnly Cookie</p>
<ul>
<li>
<p><strong>é˜² XSSï¼ˆè·¨ç«™è„šæœ¬æ”»å‡»ï¼‰</strong></p>
<ul>
<li>HttpOnly Cookie æµè§ˆå™¨ JavaScript æ— æ³•è®¿é—®</li>
<li>é˜²æ­¢å‰ç«¯è„šæœ¬çªƒå– token</li>
</ul>
</li>
<li>
<p><strong>é…ç½® <code>sameSite: strict</code> é˜² CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰</strong></p>
<ul>
<li>æµè§ˆå™¨åªåœ¨åŒæºè¯·æ±‚ä¸­å‘é€ Cookie</li>
<li>é˜²æ­¢ç¬¬ä¸‰æ–¹ç½‘ç«™ä¼ªé€ è¯·æ±‚è®¿é—®ä½ çš„æ¥å£</li>
</ul>
</li>
<li>
<p><strong>ç¤ºä¾‹é…ç½®</strong>ï¼š</p>
</li>
</ul>
<pre><code class="hljs language-php" lang="php">response.cookies.<span class="hljs-title function_ invoke__">set</span>(<span class="hljs-string">'accessToken'</span>, accessToken, {
    <span class="hljs-attr">httpOnly</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">maxAge</span>: <span class="hljs-number">60</span> * <span class="hljs-number">15</span>, // <span class="hljs-number">15</span> åˆ†é’Ÿ
    <span class="hljs-attr">sameSite</span>: <span class="hljs-string">'strict'</span>,
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>
})

response.cookies.<span class="hljs-title function_ invoke__">set</span>(<span class="hljs-string">'refreshToken'</span>, refreshToken, {
    <span class="hljs-attr">httpOnly</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">maxAge</span>: <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">24</span> * <span class="hljs-number">7</span>, // <span class="hljs-number">7</span> å¤©
    <span class="hljs-attr">sameSite</span>: <span class="hljs-string">'strict'</span>,
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>
})
</code></pre>
</li>
</ol>
<blockquote>
<p>æ€»ç»“ï¼šé€šè¿‡ <code>createToken</code> ç”ŸæˆåŒ tokenã€æ›´æ–°æ•°æ®åº“ refreshToken å¹¶ç”¨ HttpOnly Cookie å­˜å‚¨ï¼Œæ—¢ä¿è¯äº†å®‰å…¨æ€§ï¼Œåˆå®ç°äº†æ— æ„Ÿåˆ·æ–°ï¼Œç”¨æˆ·ä½“éªŒä¸å®‰å…¨æ€§å…¼é¡¾ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-20">å…­ã€ä¸­é—´ä»¶é‰´æƒ + æ— æ„Ÿåˆ·æ–°</h2>
<p>æ ¸å¿ƒä¸­é—´ä»¶é€»è¾‘ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">if</span> (accessToken) {
    <span class="hljs-keyword">const</span> accessPayload = <span class="hljs-keyword">await</span> verifyToken(accessToken)
    <span class="hljs-keyword">if</span> (accessPayload) {
        <span class="hljs-keyword">const</span> requestHeaders = <span class="hljs-keyword">new</span> Headers(request.headers)
        requestHeaders.<span class="hljs-keyword">set</span>(<span class="hljs-string">'x-user-id'</span>, accessPayload.userId <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>)
        <span class="hljs-keyword">return</span> NextResponse.next({ request: { headers: requestHeaders } })
    }
}

<span class="hljs-comment">// accessToken è¿‡æœŸï¼Œä½† refreshToken æœ‰æ•ˆ</span>
<span class="hljs-keyword">if</span> (refreshToken) {
    <span class="hljs-keyword">const</span> refreshPayload = <span class="hljs-keyword">await</span> verifyToken(refreshToken)
    <span class="hljs-keyword">if</span> (refreshPayload) {
        <span class="hljs-keyword">const</span> refreshUrl = <span class="hljs-keyword">new</span> URL(<span class="hljs-string">'/api/auth/refresh'</span>, request.url)
        refreshUrl.searchParams.<span class="hljs-keyword">set</span>(<span class="hljs-string">'redirect'</span>, request.url)
        <span class="hljs-keyword">return</span> NextResponse.redirect(refreshUrl)
    }
}

<span class="hljs-comment">// ä¸¤ä¸ª token éƒ½æ— æ•ˆ</span>
<span class="hljs-keyword">return</span> NextResponse.redirect(<span class="hljs-keyword">new</span> URL(<span class="hljs-string">'/login'</span>, request.url))
</code></pre>
<p><strong>é€æ­¥è§£æ</strong>ï¼š</p>
<h4 data-id="heading-21">1ï¸âƒ£ accessToken æœ‰æ•ˆ</h4>
<ul>
<li>
<p><code>verifyToken(accessToken)</code> â†’ è§£ç  token</p>
<ul>
<li>éªŒè¯ accessToken æ˜¯å¦è¿‡æœŸ</li>
<li>è§£æå‡ºç”¨æˆ·ä¿¡æ¯ï¼ˆä¾‹å¦‚ <code>userId</code>ï¼‰</li>
</ul>
</li>
<li>
<p>å¦‚æœæœ‰æ•ˆï¼š</p>
<ul>
<li>
<p><strong>å…‹éš†è¯·æ±‚å¤´</strong>ï¼š<code>new Headers(request.headers)</code></p>
<ul>
<li>åŸå§‹ <code>request.headers</code> æ˜¯åªè¯»çš„ï¼Œéœ€è¦å…‹éš†æ‰èƒ½ä¿®æ”¹</li>
<li>å…‹éš†åå¯ä»¥å®‰å…¨åœ°æ³¨å…¥è‡ªå®šä¹‰ header</li>
</ul>
</li>
<li>
<p><strong>æ·»åŠ  <code>x-user-id</code></strong> â†’ ä¸‹æ¸¸ API å¯ç›´æ¥è¯»å–</p>
<ul>
<li>è®©åç«¯æ¥å£ä¸å¿…æ¯æ¬¡éƒ½è§£æ accessToken</li>
<li>ä¸‹æ¸¸æœåŠ¡å¯ä»¥é€šè¿‡ <code>x-user-id</code> çŸ¥é“å½“å‰æ“ä½œçš„ç”¨æˆ·</li>
</ul>
</li>
<li>
<p><strong><code>NextResponse.next()</code></strong> â†’ è¯·æ±‚ç»§ç»­æ‰§è¡Œ</p>
<ul>
<li>é¡µé¢æ­£å¸¸è®¿é—®ï¼Œæ— éœ€è·³è½¬æˆ–åˆ·æ–°</li>
<li>æå‡ç”¨æˆ·ä½“éªŒ</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>ä¼˜åŠ¿</strong>ï¼šä¸‹æ¸¸æ— éœ€é‡å¤è§£æ tokenï¼Œå³å¯è·å–ç”¨æˆ· IDï¼Œè®¿é—®é€Ÿåº¦å¿«ï¼Œå®‰å…¨ä¸”é«˜æ•ˆ</p>
</blockquote>
<hr/>
<h4 data-id="heading-22">2ï¸âƒ£ accessToken æ— æ•ˆï¼ŒrefreshToken æœ‰æ•ˆ</h4>
<ul>
<li>
<p><strong>è§£ç  refreshToken</strong></p>
<ul>
<li>éªŒè¯ refreshToken æ˜¯å¦æœ‰æ•ˆ</li>
<li>ç¡®è®¤ç”¨æˆ·èº«ä»½ä¿¡æ¯</li>
</ul>
</li>
<li>
<p>å¦‚æœæœ‰æ•ˆï¼š</p>
<ul>
<li>
<p><strong>é‡å®šå‘åˆ° <code>/api/auth/refresh</code></strong></p>
<ul>
<li>åç«¯ç”Ÿæˆ <strong>æ–°çš„ accessToken + refreshToken</strong></li>
<li>æ›´æ–°æ•°æ®åº“ä¸­çš„ refreshTokenï¼Œå®ç° token è½®æ¢</li>
</ul>
</li>
<li>
<p><strong>é¡µé¢æ— æ„ŸçŸ¥ â†’ â€œæ— æ„Ÿåˆ·æ–°â€</strong></p>
<ul>
<li>ç”¨æˆ·ä¸ä¼šçœ‹åˆ°ç™»å½•æç¤º</li>
<li>é¡µé¢ç»§ç»­è®¿é—® dashboard æˆ–å…¶ä»–å—ä¿æŠ¤é¡µé¢</li>
<li>æ— æ„Ÿåˆ·æ–°æé«˜ç”¨æˆ·ä½“éªŒ</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>è¿™å°±æ˜¯åŒ Token æ— æ„Ÿåˆ·æ–°æ ¸å¿ƒé€»è¾‘</strong></p>
<ul>
<li>accessToken å¤±æ•ˆ â†’ refreshToken è‡ªåŠ¨åˆ·æ–°</li>
<li>ç”¨æˆ·æ— æ„ŸçŸ¥</li>
<li>ä¿è¯å®‰å…¨æ€§ + ç”¨æˆ·ä½“éªŒå…¼é¡¾</li>
</ul>
</blockquote>
<hr/>
<h4 data-id="heading-23">3ï¸âƒ£ ä¸¤ä¸ª token éƒ½æ— æ•ˆ</h4>
<ul>
<li>
<p><strong>é‡å®šå‘ç™»å½•é¡µ</strong> â†’ ç”¨æˆ·å¿…é¡»é‡æ–°ç™»å½•</p>
<ul>
<li>è¿™æ˜¯æœ€åä¸€é“å®‰å…¨é˜²çº¿</li>
<li>é˜²æ­¢éæ³•è®¿é—® dashboard æˆ– API</li>
</ul>
</li>
<li>
<p><strong>ä¿è¯å®‰å…¨æ€§</strong></p>
<ul>
<li>accessToken å’Œ refreshToken éƒ½æ— æ•ˆï¼Œè¯´æ˜ç”¨æˆ·ä¼šè¯å·²ç»è¿‡æœŸ</li>
<li>å¼ºåˆ¶ç™»å½•ï¼Œç¡®ä¿ç³»ç»Ÿä¸ä¼šè¢«æœªæˆæƒè®¿é—®</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-24">ä¸ƒã€accessToken header æ³¨å…¥è¯¦è§£</h2>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">requestHeaders</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Headers</span>(request.headers)
requestHeaders.<span class="hljs-title function_ invoke__">set</span>(<span class="hljs-string">'x-user-id'</span>, accessPayload.userId <span class="hljs-keyword">as</span> <span class="hljs-keyword">string</span>)
<span class="hljs-keyword">return</span> NextResponse.<span class="hljs-title function_ invoke__">next</span>({ <span class="hljs-attr">request</span>: { <span class="hljs-attr">headers</span>: requestHeaders } })
</code></pre>
<ul>
<li>
<p><strong>ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Ÿ</strong></p>
<ol>
<li>åŸå§‹ <code>request.headers</code> æ˜¯åªè¯»çš„ï¼Œå¿…é¡»å…‹éš†</li>
<li>æ³¨å…¥ <code>x-user-id</code> æ–¹ä¾¿åç»­ API ç›´æ¥ä½¿ç”¨</li>
<li>å®‰å…¨ï¼šheader åœ¨æœåŠ¡ç«¯ä¼ é€’ï¼Œå‰ç«¯æ— æ³•ç¯¡æ”¹</li>
</ol>
</li>
</ul>
<blockquote>
<p>é¢è¯•å›ç­”ï¼š<br/>
â€œè¿™ç§æ–¹å¼ä¿è¯äº†çº¿ç¨‹å®‰å…¨ï¼ŒåŒæ—¶è®©ä¸‹æ¸¸è¯·æ±‚æ— éœ€è§£æ token å°±èƒ½è·å–ç”¨æˆ·èº«ä»½ã€‚â€</p>
</blockquote>
<hr/>
<h2 data-id="heading-25">å…«ã€æœ‰æ„Ÿåˆ·æ–° VS æ— æ„Ÿåˆ·æ–°</h2>




















<table><thead><tr><th>ç±»å‹</th><th>ç”¨æˆ·ä½“éªŒ</th><th>å®ç°æ–¹å¼</th></tr></thead><tbody><tr><td>æœ‰æ„Ÿåˆ·æ–°</td><td>ç”¨æˆ·çœ‹åˆ°ç™»å½•æç¤ºï¼Œéœ€è¦é‡æ–°è¾“å…¥å¯†ç </td><td>token è¿‡æœŸ â†’ å¼¹ç™»å½•æ¡†æˆ–è·³è½¬ç™»å½•é¡µ</td></tr><tr><td>æ— æ„Ÿåˆ·æ–°</td><td>ç”¨æˆ·æ— æ„ŸçŸ¥ï¼Œé¡µé¢ä¸€ç›´å¯ç”¨</td><td>accessToken è¿‡æœŸ â†’ refreshToken è‡ªåŠ¨åˆ·æ–° â†’ é¡µé¢ç»§ç»­è®¿é—®</td></tr></tbody></table>
<ul>
<li><strong>æ— æ„Ÿåˆ·æ–°</strong> æ˜¯ç°ä»£ SPA / Next.js åº”ç”¨æ ‡å‡†åšæ³•</li>
<li>æå‡ç”¨æˆ·ä½“éªŒï¼ŒåŒæ—¶ä¿è¯å®‰å…¨æ€§</li>
</ul>
<hr/>
<h2 data-id="heading-26">ä¹ã€æ€»ç»“</h2>
<ol>
<li><strong>åŒ Token æœºåˆ¶</strong>ï¼šaccessToken + refreshToken</li>
<li><strong>refreshToken å­˜æ•°æ®åº“</strong>ï¼šæ”¯æŒå¤±æ•ˆã€è½®æ¢å’Œå•ç«¯ç™»å‡º</li>
<li><strong>ä¸­é—´ä»¶ç»Ÿä¸€é‰´æƒ</strong>ï¼šæ³¨å…¥ <code>x-user-id</code>ï¼Œå®ç°æ— æ„Ÿåˆ·æ–°</li>
<li><strong>HttpOnly Cookie</strong>ï¼šé˜² XSS / CSRF</li>
<li><strong>Prisma Migration</strong>ï¼šè¡¨ç»“æ„å˜æ›´æ‰éœ€è¦ migrationï¼Œæ•°æ®æ“ä½œæ— éœ€è¿ç§»</li>
<li><strong>æµç¨‹æ¸…æ™°</strong>ï¼šæ³¨å†Œ â†’ ç™»å½• â†’ token å­˜å‚¨ â†’ é‰´æƒ â†’ æ— æ„Ÿåˆ·æ–° â†’ é¡µé¢è®¿é—®</li>
</ol>
<blockquote>
<p>é¢è¯•é«˜åˆ†å›ç­”ï¼š</p>
<blockquote>
<p>â€œNext.js + Prisma + åŒ Token ç™»å½• + ä¸­é—´ä»¶æ— æ„Ÿåˆ·æ–°ï¼Œå®ç°äº†å®‰å…¨ã€å¯æ§ã€ç”¨æˆ·æ— æ„ŸçŸ¥çš„ç™»å½•ä½“ç³»ï¼ŒaccessToken çŸ­æœŸæœ‰æ•ˆä¿è¯å®‰å…¨ï¼ŒrefreshToken é•¿æœŸæœ‰æ•ˆæ”¯æŒæ— æ„Ÿåˆ·æ–°ï¼ŒPrisma æ•°æ®åº“å­˜å‚¨ refreshToken æ”¯æŒå¤šç«¯ç®¡ç†ã€‚â€</p>
</blockquote>
</blockquote>
<hr/>
<h2 data-id="heading-27">å¯è§†åŒ–æµç¨‹</h2>
<ol>
<li>
<p><strong>ç™»å½•æµç¨‹å›¾</strong></p>
<ul>
<li>ç”¨æˆ·è¾“å…¥è´¦å·å¯†ç  â†’ åç«¯éªŒè¯ â†’ è¿”å› accessToken + refreshToken â†’ å­˜ HttpOnly Cookie</li>
</ul>
</li>
<li>
<p><strong>è®¿é—® dashboard æµç¨‹å›¾</strong></p>
<ul>
<li>è¯·æ±‚ dashboard â†’ ä¸­é—´ä»¶éªŒè¯ accessToken</li>
<li>accessToken æœ‰æ•ˆ â†’ æ³¨å…¥ x-user-id â†’ é¡µé¢ç»§ç»­è®¿é—®</li>
<li>accessToken æ— æ•ˆ + refreshToken æœ‰æ•ˆ â†’ redirect <code>/api/auth/refresh</code> â†’ åç«¯åˆ·æ–° token â†’ é¡µé¢æ— æ„Ÿåˆ·æ–°</li>
<li>ä¸¤è€…æ— æ•ˆ â†’ redirect <code>/login</code></li>
</ul>
</li>
<li>
<p><strong>Token ç”Ÿå‘½å‘¨æœŸå›¾</strong></p>
<ul>
<li>accessToken çŸ­æœŸï¼ŒrefreshToken é•¿æœŸ</li>
<li>æ¯æ¬¡åˆ·æ–°è½®æ¢ refreshToken</li>
<li>æ•°æ®åº“å­˜å‚¨ä¿è¯å¯æ§</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-28">ğŸ”¥ æ€»ç»“</h2>
<p>é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œä½ å¯ä»¥å®Œæ•´æŒæ¡ï¼š</p>
<ul>
<li><strong>Next.js åŒ Token ç™»å½•ä½“ç³»</strong></li>
<li><strong>Prisma æ•°æ®åº“ + refreshToken å­˜å‚¨</strong></li>
<li><strong>bcrypt å¯†ç åŠ å¯†</strong></li>
<li><strong>ä¸­é—´ä»¶é‰´æƒ + æ— æ„Ÿåˆ·æ–°å®ç°</strong></li>
<li><strong>æœ‰æ„Ÿåˆ·æ–° vs æ— æ„Ÿåˆ·æ–°</strong></li>
</ul>
<blockquote>
<p>ä¸€å¥è¯æ€»ç»“ï¼š<br/>
<strong>Next.js + Prisma + åŒ Token + ä¸­é—´ä»¶æ— æ„Ÿåˆ·æ–° = å®‰å…¨ã€å¯æ§ã€é«˜ä½“éªŒçš„ç°ä»£ç™»å½•é‰´æƒä½“ç³»</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[âš¡å…¨å±€è‡ªåŠ¨åŒ–ï¼šæˆ‘ç”¨Viteæ’ä»¶ä¸ºæ‰€æœ‰CRUDç»„ä»¶ä¸€é”®æ·»åŠ æŒ‡ä»¤]]></title>    <link>https://juejin.cn/post/7591013450525327412</link>    <guid>https://juejin.cn/post/7591013450525327412</guid>    <pubDate>2026-01-04T07:10:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591013450525327412" data-draft-id="7591207451778301978" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="âš¡å…¨å±€è‡ªåŠ¨åŒ–ï¼šæˆ‘ç”¨Viteæ’ä»¶ä¸ºæ‰€æœ‰CRUDç»„ä»¶ä¸€é”®æ·»åŠ æŒ‡ä»¤"/> <meta itemprop="keywords" content="å‰ç«¯,Vite,å‰ç«¯å·¥ç¨‹åŒ–"/> <meta itemprop="datePublished" content="2026-01-04T07:10:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°ç™½èœçš„ç¼–ç¨‹æ—¥è®°"/> <meta itemprop="url" content="https://juejin.cn/user/1302259794456120"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            âš¡å…¨å±€è‡ªåŠ¨åŒ–ï¼šæˆ‘ç”¨Viteæ’ä»¶ä¸ºæ‰€æœ‰CRUDç»„ä»¶ä¸€é”®æ·»åŠ æŒ‡ä»¤
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1302259794456120/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°ç™½èœçš„ç¼–ç¨‹æ—¥è®°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T07:10:53.000Z" title="Sun Jan 04 2026 07:10:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;color:rgba(46,36,36,.87);overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{margin-bottom:5px;font-size:30px;font-weight:500}.markdown-body h1:before{content:"#";margin-right:10px;color:#1976d2}.markdown-body h2{font-size:28px;font-weight:400;border-left:5px solid #454545;margin-top:20px;padding-left:10px;transition:all .3s ease-in-out}.markdown-body h2:hover{border-color:#1976d2}.markdown-body h3{font-size:24px;font-weight:400;margin-top:15px;padding-bottom:0}.markdown-body h4{font-size:20px;font-weight:500}.markdown-body h5{font-size:16px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h2:first-letter,.markdown-body h3:first-letter,.markdown-body p:first-letter{text-transform:capitalize}.markdown-body em{text-emphasis:dot;text-emphasis-position:under}.markdown-body img{display:block;margin:0 auto!important;max-width:100%;border-radius:2px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#ddd,#999,#ddd);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body code{font-weight:900;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:.87em;padding:.065em .4em;background-color:#fbe5e1;color:#c0341d}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:0 4px}.markdown-body pre&gt;code{font-weight:400;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{margin:0 4px;text-decoration:none;color:#027fff;transition:all .3s ease-in-out;padding-bottom:4px;border-bottom:2px solid transparent}.markdown-body a:after{content:"";display:inline-block;width:18px;height:18px;margin-left:4px;vertical-align:middle;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMjdGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTkuODE1IDYuNDQ4bDEuOTM2LTEuOTM2YzEuMzM3LTEuMzM2IDMuNTgtMS4yNTkgNS4wMTMuMTczIDEuNDMyIDEuNDMyIDEuNTEgMy42NzYuMTczIDUuMDEzbC0xLjQ1MiAxLjQ1Mi0uOTY4Ljk2OGMtMS4zMzcgMS4zMzYtMy41ODEgMS4yNTktNS4wMTMtLjE3MyIvPjxwYXRoIGQ9Ik0xMS4yNjcgMTUuMzY3bC0xLjkzNiAxLjkzNmMtMS4zMzYgMS4zMzctMy41OCAxLjI2LTUuMDEyLS4xNzMtMS40MzItMS40MzItMS41MS0zLjY3Ni0uMTczLTUuMDEybDEuNDUyLTEuNDUyLjk2OC0uOTY4YzEuMzM2LTEuMzM3IDMuNTgtMS4yNiA1LjAxMi4xNzMiLz48L2c+PC9zdmc+);background-size:cover;background-repeat:no-repeat}.markdown-body a:hover{border-color:#027fff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body a.footnote-backref:after,.markdown-body a.footnote-ref:after,.markdown-body sup a:after{display:none!important}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border:2px solid #c6c6c6}.markdown-body table img{box-shadow:none!important}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body del{color:rgba(0,0,0,.6)}.markdown-body blockquote{position:relative;color:#666;padding:5px 23px 1px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:hsla(0,0%,78.4%,.12);transition:all .2s ease-in-out}.markdown-body blockquote:hover{border-color:#1976d2}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;font-size:24px;font-weight:800;line-height:24px;color:#cbcbcb;opacity:.6}.markdown-body blockquote:before{content:"â€œ";top:4px;left:6px}.markdown-body blockquote:after{content:"â€";right:8px;bottom:-8px}.markdown-body blockquote&gt;p,.markdown-body blockquote blockquote{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body details{outline:none;border:none;border-left:4px solid #1976d2;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary:hover::-webkit-details-marker{color:#1976d2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="vs2015">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1e1e1e;color:#dcdcdc}.hljs-keyword,.hljs-link,.hljs-literal,.hljs-name,.hljs-symbol{color:#569cd6}.hljs-link{text-decoration:underline}.hljs-built_in,.hljs-type{color:#4ec9b0}.hljs-class,.hljs-number{color:#b8d7a3}.hljs-meta-string,.hljs-string{color:#d69d85}.hljs-regexp,.hljs-template-tag{color:#9a5334}.hljs-formula,.hljs-function,.hljs-params,.hljs-subst,.hljs-title{color:#dcdcdc}.hljs-comment,.hljs-quote{color:#57a64a;font-style:italic}.hljs-doctag{color:#608b4e}.hljs-meta,.hljs-meta-keyword,.hljs-tag{color:#9b9b9b}.hljs-template-variable,.hljs-variable{color:#bd63c5}.hljs-attr,.hljs-attribute,.hljs-builtin-name{color:#9cdcfe}.hljs-section{color:gold}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-bullet,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-selector-tag{color:#d7ba7d}.hljs-addition{background-color:#144212}.hljs-addition,.hljs-deletion{display:inline-block;width:100%}.hljs-deletion{background-color:#600}</style><h2 data-id="heading-0">èƒŒæ™¯ä¸ç—›ç‚¹</h2>
<p>åœ¨ç°ä»£å‰ç«¯å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨ç»„ä»¶åº“æ¥å¿«é€Ÿæ„å»ºç•Œé¢ã€‚ä»¥<code>avue-crud</code>ä¸ºä¾‹ï¼Œè¿™æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„CRUDè¡¨æ ¼ç»„ä»¶ï¼Œä½†åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦ä¸ºæ¯ä¸ª<code>avue-crud</code>ç»„ä»¶æ·»åŠ ç›¸åŒçš„æŒ‡ä»¤æˆ–å±æ€§ã€‚ä¼ ç»Ÿåšæ³•æ˜¯åœ¨æ¯ä¸ªä½¿ç”¨è¯¥ç»„ä»¶çš„åœ°æ–¹æ‰‹åŠ¨æ·»åŠ æŒ‡ä»¤ï¼Œè¿™ä¸ä»…é‡å¤åŠ³åŠ¨ï¼Œè€Œä¸”å®¹æ˜“é—æ¼ï¼Œç»´æŠ¤èµ·æ¥ä¹Ÿååˆ†å›°éš¾ã€‚</p>
<p>ç‰¹åˆ«æ˜¯åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œå‡ åä¸ªç”šè‡³ä¸Šç™¾ä¸ªCRUDç»„ä»¶æ•£è½åœ¨ä¸åŒæ–‡ä»¶ä¸­ï¼Œå½“éœ€è¦ç»Ÿä¸€æ·»åŠ æŸä¸ªåŠŸèƒ½ï¼ˆå¦‚æƒé™æ§åˆ¶ã€æ•°æ®é¢„å¤„ç†ã€å…¬å…±é…ç½®ï¼‰æ—¶ï¼Œæ‰‹åŠ¨ä¿®æ”¹æ¯ä¸ªæ–‡ä»¶å‡ ä¹ä¸ç°å®ã€‚è¿™æ­£æ˜¯æˆ‘é‡åˆ°çš„ç—›ç‚¹â€”â€”éœ€è¦ä¸ºé¡¹ç›®ä¸­æ‰€æœ‰çš„<code>avue-crud</code>ç»„ä»¶è‡ªåŠ¨æ·»åŠ <code>v-autoset</code>æŒ‡ä»¤ã€‚</p>
<h2 data-id="heading-1">é—®é¢˜åˆ†æ</h2>
<p>é¢å¯¹è¿™ä¸ªéœ€æ±‚ï¼Œæˆ‘è€ƒè™‘äº†ä»¥ä¸‹å‡ ç§æ–¹æ¡ˆï¼š</p>
<ol>
<li><strong>å…¨å±€ç»„ä»¶åŒ…è£…</strong>ï¼šåˆ›å»ºä¸€ä¸ªåŒ…è£…ç»„ä»¶ï¼Œåœ¨å…¶ä¸­ç»Ÿä¸€æ·»åŠ æŒ‡ä»¤ï¼Œç„¶åæ›¿æ¢æ‰€æœ‰å¯¼å…¥ã€‚ä½†è¿™ä¼šæ”¹å˜ç°æœ‰ç»„ä»¶çš„ä½¿ç”¨æ–¹å¼ï¼Œè¿ç§»æˆæœ¬é«˜ã€‚</li>
<li><strong>è¿è¡Œæ—¶åŠ«æŒ</strong>ï¼šåœ¨Vueåº”ç”¨åˆå§‹åŒ–æ—¶åŠ¨æ€ä¿®æ”¹ç»„ä»¶å®šä¹‰ã€‚è¿™ç§æ–¹æ³•å¯èƒ½å½±å“æ€§èƒ½ï¼Œä¸”å¯¹SSRä¸å‹å¥½ã€‚</li>
<li><strong>ç¼–è¯‘æ—¶è½¬æ¢</strong>ï¼šåˆ©ç”¨æ„å»ºå·¥å…·åœ¨ä»£ç ç¼–è¯‘é˜¶æ®µè‡ªåŠ¨ä¿®æ”¹æ¨¡æ¿ã€‚è¿™æ˜¯æœ€ç†æƒ³çš„æ–¹æ¡ˆï¼Œå› ä¸ºå®ƒä¸å¢åŠ è¿è¡Œæ—¶å¼€é”€ï¼Œä¸”å¯¹å¼€å‘è€…é€æ˜ã€‚</li>
</ol>
<p>Viteä½œä¸ºç°ä»£å‰ç«¯æ„å»ºå·¥å…·ï¼Œæä¾›äº†å¼ºå¤§çš„æ’ä»¶æœºåˆ¶ï¼Œå…è®¸æˆ‘ä»¬åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å¹²é¢„ä»£ç è½¬æ¢ã€‚è¿™æ­£æ˜¯å®ç°è‡ªåŠ¨åŒ–æ·»åŠ æŒ‡ä»¤çš„æœ€ä½³é€”å¾„ã€‚</p>
<h2 data-id="heading-2">è§£å†³æ–¹æ¡ˆï¼šViteæ’ä»¶è®¾è®¡ä¸å®ç°</h2>
<h3 data-id="heading-3">æ’ä»¶æ•´ä½“ç»“æ„</h3>
<p>æˆ‘è®¾è®¡äº†ä¸€ä¸ªViteæ’ä»¶<code>vite-plugin-avue-acrud</code>ï¼Œå…¶æ ¸å¿ƒæ¶æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// vite-plugin-avue-acrud.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">avueAcrudPlugin</span>(<span class="hljs-params">options = {}</span>) {
  <span class="hljs-keyword">const</span> {
    componentName = <span class="hljs-string">'avue-crud'</span>,
    directiveName = <span class="hljs-string">'v-autoset'</span>,
    include = <span class="hljs-regexp">/.(vue|jsx|tsx)$/</span>,
    exclude
  } = options

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'vite-plugin-avue-acrud'</span>,
    <span class="hljs-attr">enforce</span>: <span class="hljs-string">'pre'</span>, <span class="hljs-comment">// åœ¨ Vue æ’ä»¶ä¹‹å‰å¤„ç†</span>
    
    <span class="hljs-comment">// è½¬æ¢ä»£ç </span>
    <span class="hljs-title function_">transform</span>(<span class="hljs-params">code, id</span>) {
      <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦éœ€è¦å¤„ç†</span>
      <span class="hljs-keyword">if</span> (!include.<span class="hljs-title function_">test</span>(id)) <span class="hljs-keyword">return</span>
      <span class="hljs-keyword">if</span> (exclude &amp;&amp; exclude.<span class="hljs-title function_">test</span>(id)) <span class="hljs-keyword">return</span>
      
      <span class="hljs-keyword">let</span> processed = code
      
      <span class="hljs-comment">// åˆ†åˆ«å¤„ç†Vueå’ŒJSXæ–‡ä»¶</span>
      <span class="hljs-keyword">if</span> (id.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.vue'</span>)) {
        processed = <span class="hljs-title function_">processVueFile</span>(code, { componentName, directiveName})
      }
      
      <span class="hljs-keyword">if</span> (id.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.jsx'</span>) || id.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.tsx'</span>)) {
        processed = <span class="hljs-title function_">processJsxFile</span>(code, { componentName, directiveName })
      }
      
      <span class="hljs-keyword">return</span> processed === code ? <span class="hljs-literal">null</span> : processed
    },
    
    <span class="hljs-comment">// çƒ­æ›´æ–°æ”¯æŒ</span>
    <span class="hljs-title function_">handleHotUpdate</span>(<span class="hljs-params">{ file, modules }</span>) {
      <span class="hljs-keyword">if</span> (file.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'node_modules'</span>)) <span class="hljs-keyword">return</span>
      <span class="hljs-keyword">if</span> (!include.<span class="hljs-title function_">test</span>(file)) <span class="hljs-keyword">return</span>
      <span class="hljs-keyword">if</span> (exclude &amp;&amp; exclude.<span class="hljs-title function_">test</span>(file)) <span class="hljs-keyword">return</span>
      
      <span class="hljs-keyword">return</span> modules
    }
  }
}
</code></pre>
<h3 data-id="heading-4">æ ¸å¿ƒå®ç°ç»†èŠ‚</h3>
<p><strong>Vueæ–‡ä»¶å¤„ç†</strong>ï¼šé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…templateæ ‡ç­¾ï¼Œå¹¶å¯¹å†…å®¹è¿›è¡Œè½¬æ¢ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">processVueFile</span>(<span class="hljs-params">code, options</span>) {
  <span class="hljs-keyword">const</span> { componentName, directiveName } = options
  
  <span class="hljs-keyword">const</span> templateRegex = <span class="hljs-regexp">/&lt;template([^&gt;]*)&gt;([\s\S]*?)&lt;/</span>template&gt;/g
  <span class="hljs-keyword">return</span> code.<span class="hljs-title function_">replace</span>(templateRegex, <span class="hljs-function">(<span class="hljs-params">fullMatch, templateAttrs, templateContent</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> processedTemplate = <span class="hljs-title function_">processTemplate</span>(templateContent, {
      componentName,
      directiveName,
      <span class="hljs-attr">isJsx</span>: <span class="hljs-literal">false</span>
    })
    <span class="hljs-keyword">return</span> <span class="hljs-string">`&lt;template<span class="hljs-subst">${templateAttrs}</span>&gt;<span class="hljs-subst">${processedTemplate}</span>&lt;/template&gt;`</span>
  })
}
</code></pre>
<p><strong>æ¨¡æ¿å†…å®¹å¤„ç†</strong>ï¼šè¿™æ˜¯æ’ä»¶çš„æ ¸å¿ƒé€»è¾‘ï¼Œç²¾å‡†å®šä½ç›®æ ‡ç»„ä»¶å¹¶æ·»åŠ æŒ‡ä»¤ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">processTemplate</span>(<span class="hljs-params">content, options</span>) {
  <span class="hljs-keyword">const</span> { componentName, directiveName, isJsx } = options
  
  <span class="hljs-keyword">const</span> tagRegex = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(
    <span class="hljs-string">`&lt;<span class="hljs-subst">${componentName}</span>\b([^&gt;]*?)(\/?)&gt;`</span>,
    <span class="hljs-string">'gi'</span>
  )
  
  <span class="hljs-keyword">return</span> content.<span class="hljs-title function_">replace</span>(tagRegex, <span class="hljs-function">(<span class="hljs-params">match, attrs, selfClosing</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">hasDirective</span>(attrs, directiveName, isJsx)) {
      <span class="hljs-keyword">return</span> match
    }
    
    <span class="hljs-keyword">const</span> directiveAttr = <span class="hljs-string">`<span class="hljs-subst">${directiveName}</span>`</span>
    <span class="hljs-keyword">const</span> trimmedAttrs = attrs.<span class="hljs-title function_">trim</span>()
    <span class="hljs-keyword">const</span> attrsStr = trimmedAttrs ? <span class="hljs-string">` <span class="hljs-subst">${trimmedAttrs}</span>`</span> : <span class="hljs-string">''</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">`&lt;<span class="hljs-subst">${componentName}</span> <span class="hljs-subst">${directiveAttr}</span><span class="hljs-subst">${attrsStr}</span><span class="hljs-subst">${selfClosing}</span>&gt;`</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\s+/g</span>, <span class="hljs-string">' '</span>)
  })
}
</code></pre>
<p><strong>æŒ‡ä»¤æ£€æµ‹æœºåˆ¶</strong>ï¼šé¿å…é‡å¤æ·»åŠ æŒ‡ä»¤çš„å…³é”®æ£€æŸ¥ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">hasDirective</span>(<span class="hljs-params">attrs, directiveName, isJsx</span>) {
  <span class="hljs-keyword">const</span> pattern = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`\b<span class="hljs-subst">${directiveName.replace(/^v-/, <span class="hljs-string">''</span>)}</span>\b|\b<span class="hljs-subst">${directiveName}</span>\b`</span>)
  <span class="hljs-keyword">return</span> pattern.<span class="hljs-title function_">test</span>(attrs)
}
</code></pre>
<h2 data-id="heading-5">åº”ç”¨åœºæ™¯ä¸ä½¿ç”¨æ–¹æ³•</h2>
<h3 data-id="heading-6">å®‰è£…ä¸é…ç½®</h3>
<p>åœ¨<code>vite.config.js</code>ä¸­è½»æ¾å¼•å…¥æ’ä»¶ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> avueAcrudPlugin <span class="hljs-keyword">from</span> <span class="hljs-string">'./vite-plugin-avue-acrud'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">avueAcrudPlugin</span>({
      <span class="hljs-attr">componentName</span>: <span class="hljs-string">'avue-crud'</span>,
      <span class="hljs-attr">directiveName</span>: <span class="hljs-string">'v-autoset'</span>
    })
  ]
}
</code></pre>
<h3 data-id="heading-7">å®é™…æ•ˆæœ</h3>
<p><strong>è½¬æ¢å‰</strong>ï¼š</p>
<pre><code class="hljs language-js" lang="js">&lt;avue-crud :data=<span class="hljs-string">"data"</span> :option=<span class="hljs-string">"option"</span>&gt;&lt;/avue-crud&gt;
</code></pre>
<p><strong>è½¬æ¢å</strong>ï¼š</p>
<pre><code class="hljs language-js" lang="js">&lt;avue-crud v-autoset :data=<span class="hljs-string">"data"</span> :option=<span class="hljs-string">"option"</span>&gt;&lt;/avue-crud&gt;
</code></pre>
<h2 data-id="heading-8">æŠ€æœ¯äº®ç‚¹</h2>
<ol>
<li><strong>ç²¾å‡†å¤„ç†</strong>ï¼šæ’ä»¶åªå¤„ç†ç›®æ ‡ç»„ä»¶ï¼Œä¸å½±å“å…¶ä»–éƒ¨åˆ†ä»£ç ã€‚</li>
<li><strong>é¿å…é‡å¤</strong>ï¼šé€šè¿‡æ™ºèƒ½æ£€æµ‹æœºåˆ¶ï¼Œé˜²æ­¢å¯¹å·²åŒ…å«æŒ‡ä»¤çš„ç»„ä»¶é‡å¤æ·»åŠ ã€‚</li>
<li><strong>æ”¯æŒå¤šç§æ–‡ä»¶ç±»å‹</strong>ï¼šåŒæ—¶æ”¯æŒVueå•æ–‡ä»¶ç»„ä»¶å’ŒJSX/TSXæ–‡ä»¶ã€‚</li>
<li><strong>çƒ­æ›´æ–°å‹å¥½</strong>ï¼šé›†æˆViteçš„HMRæœºåˆ¶ï¼Œå¼€å‘ä½“éªŒæµç•…ã€‚</li>
<li><strong>é«˜åº¦å¯é…ç½®</strong>ï¼šå…è®¸è‡ªå®šä¹‰ç»„ä»¶åã€æŒ‡ä»¤åå’Œè¿‡æ»¤æ¡ä»¶ã€‚</li>
</ol>
<h2 data-id="heading-9">é‡åˆ°çš„é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘é‡åˆ°äº†å‡ ä¸ªå…³é”®é—®é¢˜ï¼š</p>
<ol>
<li><strong>æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç²¾åº¦</strong>ï¼šæœ€åˆçš„æ­£åˆ™è¿‡äºå®½æ¾ï¼Œå¯èƒ½å¯¼è‡´è¯¯åŒ¹é…ã€‚é€šè¿‡æ·»åŠ å•è¯è¾¹ç•Œ<code>\b</code>å’Œæé«˜æ¨¡å¼ç²¾ç¡®åº¦è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</li>
<li><strong>JSXæ”¯æŒ</strong>ï¼šJSXè¯­æ³•ä¸å¸¸è§„HTMLæœ‰å·®å¼‚ï¼Œéœ€è¦å•ç‹¬å¤„ç†è‡ªé—­åˆæ ‡ç­¾å’Œå±æ€§è¯­æ³•ã€‚</li>
<li><strong>çƒ­æ›´æ–°å¾ªç¯</strong>ï¼šæœ€åˆå¤„ç†æ‰€æœ‰æ–‡ä»¶å¯¼è‡´HMRå¾ªç¯ï¼Œé€šè¿‡æ·»åŠ <code>node_modules</code>æ’é™¤å’Œç²¾ç¡®çš„æ–‡ä»¶è¿‡æ»¤è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</li>
</ol>
<h2 data-id="heading-10">å®è·µæ€»ç»“ä¸å»ºè®®</h2>
<p>é€šè¿‡è¿™ä¸ªæ’ä»¶ï¼Œæˆ‘ä»¬å®ç°äº†å¯¹å…¨å±€CRUDç»„ä»¶çš„è‡ªåŠ¨åŒ–æŒ‡ä»¤æ·»åŠ ï¼Œå¤§å¤§æé«˜äº†å¼€å‘æ•ˆç‡å’Œä»£ç ä¸€è‡´æ€§ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å®è·µå»ºè®®ï¼š</p>
<ol>
<li><strong>æ¸è¿›å¼é‡‡ç”¨</strong>ï¼šå¯ä»¥å…ˆåœ¨å°å‹é¡¹ç›®æˆ–æ¨¡å—ä¸­è¯•ç”¨ï¼Œç¡®è®¤æ— è¯¯åå†åº”ç”¨åˆ°å¤§å‹é¡¹ç›®ã€‚</li>
<li><strong>ç‰ˆæœ¬æ§åˆ¶</strong>ï¼šå°†æ’ä»¶é…ç½®çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼Œæ–¹ä¾¿å›¢é˜Ÿæˆå‘˜å…±äº«ä¸€è‡´é…ç½®ã€‚</li>
<li><strong>æ–‡æ¡£ç»´æŠ¤</strong>ï¼šä¸ºæ’ä»¶ç¼–å†™æ¸…æ™°çš„æ–‡æ¡£ï¼Œè¯´æ˜å…¶ä½œç”¨å’Œä½¿ç”¨æ–¹æ³•ï¼Œæ–¹ä¾¿åç»­ç»´æŠ¤ã€‚</li>
<li><strong>æµ‹è¯•éªŒè¯</strong>ï¼šåœ¨å¤„ç†é‡è¦é¡¹ç›®å‰ï¼Œå…ˆé€šè¿‡æµ‹è¯•ç”¨ä¾‹éªŒè¯æ’ä»¶çš„æ­£ç¡®æ€§ã€‚</li>
</ol>
<p>è¿™ä¸ªæ–¹æ¡ˆä¸ä»…é€‚ç”¨äº<code>avue-crud</code>ç»„ä»¶ï¼Œè¿˜å¯ä»¥æ¨å¹¿åˆ°ä»»ä½•éœ€è¦å…¨å±€è‡ªåŠ¨åŒ–å¤„ç†ç»„ä»¶çš„æƒ…å†µï¼Œå¦‚è¡¨å•ç»„ä»¶ã€å¸ƒå±€ç»„ä»¶ç­‰ã€‚ç¼–è¯‘æ—¶è‡ªåŠ¨åŒ–çš„æ€è·¯ä¸ºæˆ‘ä»¬è§£å†³å‰ç«¯å·¥ç¨‹åŒ–é—®é¢˜æä¾›äº†æ–°çš„è§†è§’ã€‚</p>
<h2 data-id="heading-11">é™„å½•</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fvitejs.dev%2Fguide%2Fapi-plugin.html" target="_blank" title="https://vitejs.dev/guide/api-plugin.html" ref="nofollow noopener noreferrer">Viteæ’ä»¶APIæ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fvuejs.org%2Fguide%2Fextras%2Frendering-mechanism.html" target="_blank" title="https://vuejs.org/guide/extras/rendering-mechanism.html" ref="nofollow noopener noreferrer">Vue 3æ¨¡æ¿ç¼–è¯‘åŸç†</a></li>
</ul>
<p>å¸Œæœ›è¿™ç¯‡åˆ†äº«å¯¹ä½ åœ¨å‰ç«¯å·¥ç¨‹åŒ–é¢†åŸŸçš„æ¢ç´¢æœ‰æ‰€å¸®åŠ©ï¼æ¬¢è¿äº¤æµè®¨è®ºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kotlin object å•ä¾‹è®¾è®¡ï¼šä¸ºä½•é€‰æ‹©é¥¿æ±‰å¼è€Œéæ‡’æ±‰å¼ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7590778284759187491</link>    <guid>https://juejin.cn/post/7590778284759187491</guid>    <pubDate>2026-01-04T06:58:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590778284759187491" data-draft-id="7590776324164698112" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kotlin object å•ä¾‹è®¾è®¡ï¼šä¸ºä½•é€‰æ‹©é¥¿æ±‰å¼è€Œéæ‡’æ±‰å¼ï¼Ÿ"/> <meta itemprop="keywords" content="Android,APP,å®¢æˆ·ç«¯"/> <meta itemprop="datePublished" content="2026-01-04T06:58:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Gemini001"/> <meta itemprop="url" content="https://juejin.cn/user/2333635831676704"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kotlin object å•ä¾‹è®¾è®¡ï¼šä¸ºä½•é€‰æ‹©é¥¿æ±‰å¼è€Œéæ‡’æ±‰å¼ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2333635831676704/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Gemini001
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T06:58:58.000Z" title="Sun Jan 04 2026 06:58:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Kotlin ä¸­ object çš„å•ä¾‹æ¨¡å¼è®¾è®¡</h2>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>åœ¨ Kotlin è¯­è¨€ä¸­ï¼Œ<code>object</code>å…³é”®å­—æä¾›äº†ä¸€ç§æå…¶ç®€æ´çš„æ–¹å¼æ¥åˆ›å»ºå•ä¾‹ã€‚ç„¶è€Œï¼Œä¸è®¸å¤šå¼€å‘è€…ç›´è§‰å¯èƒ½ç›¸åï¼ŒKotlin çš„Â <code>object</code>å®ç°çš„æ˜¯<strong>é¥¿æ±‰å¼å•ä¾‹</strong>è€Œéæ‡’æ±‰å¼ã€‚è¿™ç§è®¾è®¡é€‰æ‹©èƒŒåä½“ç°äº† Kotlin è¯­è¨€çš„æ ¸å¿ƒè®¾è®¡å“²å­¦å’Œå·¥ç¨‹å®è·µæ™ºæ…§ã€‚</p>
<h3 data-id="heading-2">ä¸€ã€object çš„æœ¬è´¨ï¼šé¥¿æ±‰å¼å•ä¾‹</h3>
<h4 data-id="heading-3">1.1 åŸºæœ¬è¯­æ³•ä¸ç¼–è¯‘ç»“æœ</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// Kotlin å£°æ˜</span>
<span class="hljs-built_in">object</span> Singleton {
    val name = <span class="hljs-string">"Singleton"</span>
    <span class="hljs-function">fun <span class="hljs-title">doSomething</span>()</span> {
        println(<span class="hljs-string">"Doing something"</span>)
    }
}

<span class="hljs-comment">// ç­‰ä»·äº Java ä»£ç </span>
<span class="hljs-keyword">public</span> final <span class="hljs-keyword">class</span> <span class="hljs-title">Singleton</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> final Singleton INSTANCE = <span class="hljs-keyword">new</span> Singleton();
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Singleton</span>()</span> {}  <span class="hljs-comment">// ç§æœ‰æ„é€ å™¨</span>
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> final String <span class="hljs-title">getName</span>()</span> { <span class="hljs-keyword">return</span> <span class="hljs-string">"Singleton"</span>; }
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> final <span class="hljs-keyword">void</span> <span class="hljs-title">doSomething</span>()</span> {
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"Doing something"</span>);
    }
    
    <span class="hljs-keyword">static</span> {
        INSTANCE = <span class="hljs-keyword">new</span> Singleton();
    }
}
</code></pre>
<h4 data-id="heading-4">1.2 åˆå§‹åŒ–æ—¶æœº</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">object</span> DatabaseManager {
    <span class="hljs-keyword">init</span> {
        println(<span class="hljs-string">"DatabaseManager åœ¨ç±»åŠ è½½æ—¶åˆå§‹åŒ–ï¼"</span>)
        <span class="hljs-comment">// è¿™æ®µä»£ç ä¼šåœ¨é¦–æ¬¡è®¿é—®è¯¥ç±»æ—¶å°±æ‰§è¡Œï¼Œ</span>
        <span class="hljs-comment">// è€Œä¸æ˜¯åœ¨é¦–æ¬¡è®¿é—® INSTANCE æ—¶</span>
    }
    
    <span class="hljs-keyword">val</span> config = loadConfig()  <span class="hljs-comment">// ç±»åŠ è½½æ—¶ç«‹å³åˆå§‹åŒ–</span>
}
</code></pre>
<p>é¥¿æ±‰å¼çš„æ ¸å¿ƒç‰¹å¾æ˜¯ï¼š<strong>åœ¨ç±»åŠ è½½æ—¶ï¼ˆåº”ç”¨ç¨‹åºå¯åŠ¨é˜¶æ®µï¼‰å°±å®Œæˆå•ä¾‹çš„å®ä¾‹åŒ–</strong>ï¼Œè€Œä¸æ˜¯ç­‰åˆ°ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶ã€‚</p>
<h3 data-id="heading-5">äºŒã€é¥¿æ±‰å¼ vs æ‡’æ±‰å¼çš„æŠ€æœ¯å¯¹æ¯”</h3>
<h4 data-id="heading-6">2.1 çº¿ç¨‹å®‰å…¨æ€§</h4>
<p><strong>é¥¿æ±‰å¼çš„ä¼˜åŠ¿</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Kotlin object - çº¿ç¨‹å®‰å…¨ç”± JVM ä¿è¯</span>
<span class="hljs-keyword">object</span> SafeSingleton {
    <span class="hljs-comment">// ä¸éœ€è¦ä»»ä½•åŒæ­¥ä»£ç </span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">operation</span><span class="hljs-params">()</span></span> { <span class="hljs-comment">/* çº¿ç¨‹å®‰å…¨ */</span> }
}

<span class="hljs-comment">// ä¼ ç»Ÿæ‡’æ±‰å¼åŒé‡æ£€æŸ¥é”</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">LazySingleton</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">constructor</span>() {
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
        <span class="hljs-meta">@Volatile</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> instance: LazySingleton? = <span class="hljs-literal">null</span>
        
        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getInstance</span><span class="hljs-params">()</span></span>: LazySingleton {
            <span class="hljs-keyword">return</span> instance ?: synchronized(<span class="hljs-keyword">this</span>) {
                instance ?: LazySingleton().also { instance = it }
            }
        }
    }
}
</code></pre>
<p>é¥¿æ±‰å¼åˆ©ç”¨ JVM çš„ç±»åŠ è½½æœºåˆ¶ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œè€Œæ‡’æ±‰å¼éœ€è¦å¼€å‘è€…æ‰‹åŠ¨å¤„ç†å¤æ‚çš„åŒæ­¥é€»è¾‘ã€‚</p>
<h4 data-id="heading-7">2.2 æ€§èƒ½å¯¹æ¯”</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æ€§èƒ½æµ‹è¯•ç¤ºä¾‹</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">measureInitializationTime</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// æµ‹è¯• 1000 ä¸ªé¥¿æ±‰å¼å•ä¾‹åˆå§‹åŒ–</span>
    <span class="hljs-keyword">val</span> start = System.currentTimeMillis()
    
    repeat(<span class="hljs-number">1000</span>) {
        <span class="hljs-comment">// æ¨¡æ‹Ÿ object å£°æ˜</span>
        <span class="hljs-keyword">class</span> <span class="hljs-title class_">Singleton</span>$<span class="hljs-title">it</span> {
            <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
                <span class="hljs-keyword">val</span> INSTANCE = Singleton$it()
            }
        }
    }
    
    <span class="hljs-keyword">val</span> end = System.currentTimeMillis()
    println(<span class="hljs-string">"åˆå§‹åŒ– 1000 ä¸ªé¥¿æ±‰å¼å•ä¾‹è€—æ—¶: <span class="hljs-subst">${end - start}</span>ms"</span>)
    <span class="hljs-comment">// å®é™…æµ‹è¯•ç»“æœé€šå¸¸ &lt; 10ms</span>
}
</code></pre>
<p>åœ¨ç°ä»£ JVM ä¸Šï¼Œç®€å•å¯¹è±¡çš„å®ä¾‹åŒ–å¼€é”€æå°ï¼Œé¥¿æ±‰å¼åœ¨å¯åŠ¨æ—¶çš„æ€§èƒ½å½±å“é€šå¸¸å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚</p>
<h3 data-id="heading-8">ä¸‰ã€ä¸ºä»€ä¹ˆé€‰æ‹©é¥¿æ±‰å¼ï¼šè®¾è®¡å“²å­¦çš„ä½“ç°</h3>
<h4 data-id="heading-9">3.1 ç®€æ´æ€§ä¼˜å…ˆåŸåˆ™</h4>
<p>Kotlin çš„æ ¸å¿ƒç›®æ ‡ä¹‹ä¸€æ˜¯<strong>æ¶ˆé™¤æ ·æ¿ä»£ç </strong>ï¼š</p>

























<table><thead><tr><th>è¯­è¨€</th><th>å®ç°å•ä¾‹æ‰€éœ€ä»£ç é‡</th><th>å¤æ‚åº¦</th></tr></thead><tbody><tr><td>Java æ‡’æ±‰å¼ï¼ˆåŒé‡æ£€æŸ¥é”ï¼‰</td><td>15-20 è¡Œ</td><td>é«˜ï¼ˆéœ€æ‰‹åŠ¨å¤„ç†çº¿ç¨‹å®‰å…¨ï¼‰</td></tr><tr><td>Java é¥¿æ±‰å¼</td><td>8-10 è¡Œ</td><td>ä¸­</td></tr><tr><td>Kotlin object</td><td>1 è¡Œ</td><td>ä½</td></tr></tbody></table>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// Kotlin çš„æè‡´ç®€æ´</span>
<span class="hljs-built_in">object</span> Logger
<span class="hljs-built_in">object</span> Config
<span class="hljs-built_in">object</span> Database
<span class="hljs-comment">// æ¯ä¸ªå•ä¾‹ä»…éœ€ 2 ä¸ªå•è¯</span>
</code></pre>
<h4 data-id="heading-10">3.2 è¦†ç›–å¤§å¤šæ•°ä½¿ç”¨åœºæ™¯</h4>
<p>ä»å®é™…é¡¹ç›®ç»Ÿè®¡æ¥çœ‹ï¼š</p>
<ul>
<li>
<p><strong>80% çš„å•ä¾‹ä¸éœ€è¦æ‡’åŠ è½½</strong></p>
<ul>
<li>å·¥å…·ç±»ï¼š<code>StringUtils</code>ã€<code>DateFormatter</code>ã€<code>MathUtils</code></li>
<li>é…ç½®ç±»ï¼š<code>AppConstants</code>ã€<code>ThemeConfig</code>ã€<code>RouteTable</code></li>
<li>è½»é‡çº§ç®¡ç†å™¨ï¼š<code>PermissionManager</code>ã€<code>NotificationManager</code></li>
</ul>
</li>
<li>
<p><strong>15% çš„å•ä¾‹éœ€è¦æ‡’åŠ è½½</strong></p>
<ul>
<li>æ•°æ®åº“è¿æ¥ç®¡ç†å™¨</li>
<li>ç½‘ç»œå®¢æˆ·ç«¯</li>
<li>å¤§å‹èµ„æºç¼“å­˜</li>
</ul>
</li>
<li>
<p><strong>5% çš„ç‰¹æ®Šæƒ…å†µ</strong></p>
<ul>
<li>éœ€è¦æ„é€ å‚æ•°çš„å•ä¾‹</li>
<li>éœ€è¦å¤æ‚åˆå§‹åŒ–çš„å•ä¾‹</li>
<li>éœ€è¦è‡ªå®šä¹‰ç”Ÿå‘½å‘¨æœŸçš„å•ä¾‹</li>
</ul>
</li>
</ul>
<h4 data-id="heading-11">3.3 å¯é¢„æµ‹æ€§å’Œè°ƒè¯•å‹å¥½æ€§</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// é¥¿æ±‰å¼ï¼šåˆå§‹åŒ–é¡ºåºæ˜ç¡®</span>
<span class="hljs-keyword">object</span> A {
    <span class="hljs-keyword">init</span> { println(<span class="hljs-string">"A initialized"</span>) }
}

<span class="hljs-keyword">object</span> B {
    <span class="hljs-keyword">init</span> { 
        println(<span class="hljs-string">"B initialized"</span>)
        A  <span class="hljs-comment">// è®¿é—® Aï¼Œè§¦å‘åˆå§‹åŒ–</span>
    }
}

<span class="hljs-comment">// å¯åŠ¨æ—¶è¾“å‡ºï¼š</span>
<span class="hljs-comment">// A initialized</span>
<span class="hljs-comment">// B initialized</span>
<span class="hljs-comment">// é¡ºåºç¡®å®šï¼Œæ˜“äºè°ƒè¯•</span>

<span class="hljs-comment">// æ‡’æ±‰å¼ï¼šåˆå§‹åŒ–æ—¶æœºä¸ç¡®å®š</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">LazyA</span> {
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
        <span class="hljs-keyword">val</span> instance <span class="hljs-keyword">by</span> lazy { 
            println(<span class="hljs-string">"LazyA initialized"</span>)
            LazyA()
        }
    }
}
<span class="hljs-comment">// å¯èƒ½åœ¨ä»»ä½•æ—¶é—´ç‚¹åˆå§‹åŒ–ï¼Œå¢åŠ è°ƒè¯•å¤æ‚åº¦</span>
</code></pre>
<h3 data-id="heading-12">å››ã€Kotlin æä¾›çš„æ‡’åŠ è½½æ–¹æ¡ˆ</h3>
<p>è™½ç„¶Â <code>object</code>é»˜è®¤æ˜¯é¥¿æ±‰å¼ï¼Œä½† Kotlin æä¾›äº†çµæ´»çš„æ–¹å¼å®ç°æ‡’æ±‰å¼å•ä¾‹ï¼š</p>
<h4 data-id="heading-13">4.1 ä½¿ç”¨Â <code>by lazy</code>å§”æ‰˜</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æ–¹æ¡ˆ1ï¼šä¼´ç”Ÿå¯¹è±¡ + lazy</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">LazySingleton</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">constructor</span>() {
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
        <span class="hljs-keyword">val</span> instance: LazySingleton <span class="hljs-keyword">by</span> lazy {
            println(<span class="hljs-string">"é¦–æ¬¡ä½¿ç”¨æ—¶åˆå§‹åŒ–"</span>)
            LazySingleton()
        }
    }
}

<span class="hljs-comment">// æ–¹æ¡ˆ2ï¼šä¸åŒçš„çº¿ç¨‹å®‰å…¨æ¨¡å¼</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadSafeSingleton</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">constructor</span>() {
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
        <span class="hljs-comment">// SYNCHRONIZED: åŒé‡æ£€æŸ¥é”ï¼ˆé»˜è®¤ï¼‰</span>
        <span class="hljs-keyword">val</span> synchronizedInstance: ThreadSafeSingleton <span class="hljs-keyword">by</span> lazy(LazyThreadSafetyMode.SYNCHRONIZED) {
            ThreadSafeSingleton()
        }
        
        <span class="hljs-comment">// PUBLICATION: å…è®¸å¤šæ¬¡åˆå§‹åŒ–ï¼Œä½†åªè¿”å›ç¬¬ä¸€æ¬¡çš„ç»“æœ</span>
        <span class="hljs-keyword">val</span> publicationInstance: ThreadSafeSingleton <span class="hljs-keyword">by</span> lazy(LazyThreadSafetyMode.PUBLICATION) {
            ThreadSafeSingleton()
        }
        
        <span class="hljs-comment">// NONE: éçº¿ç¨‹å®‰å…¨ï¼Œæ€§èƒ½æœ€é«˜</span>
        <span class="hljs-keyword">val</span> unsafeInstance: ThreadSafeSingleton <span class="hljs-keyword">by</span> lazy(LazyThreadSafetyMode.NONE) {
            ThreadSafeSingleton()
        }
    }
}
</code></pre>
<h4 data-id="heading-14">4.2 éœ€è¦å‚æ•°çš„å•ä¾‹</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// object æ— æ³•æ¥å—æ„é€ å‚æ•°</span>
<span class="hljs-comment">// ä½¿ç”¨æ™®é€šç±» + ä¼´ç”Ÿå¯¹è±¡</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ConfigurableSingleton</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">constructor</span>(<span class="hljs-keyword">val</span> config: Config) {
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
        <span class="hljs-meta">@Volatile</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> instance: ConfigurableSingleton? = <span class="hljs-literal">null</span>
        
        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getInstance</span><span class="hljs-params">(config: <span class="hljs-type">Config</span>)</span></span>: ConfigurableSingleton {
            <span class="hljs-keyword">return</span> instance ?: synchronized(<span class="hljs-keyword">this</span>) {
                instance ?: ConfigurableSingleton(config).also { instance = it }
            }
        }
        
        <span class="hljs-comment">// æˆ–è€…ä½¿ç”¨æ‡’åŠ è½½æ–¹å¼</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> _config: Config? = <span class="hljs-literal">null</span>
        
        <span class="hljs-keyword">val</span> instance: ConfigurableSingleton <span class="hljs-keyword">by</span> lazy {
            requireNotNull(_config) { <span class="hljs-string">"å¿…é¡»å…ˆè°ƒç”¨ initialize()"</span> }
            ConfigurableSingleton(_config!!)
        }
        
        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">initialize</span><span class="hljs-params">(config: <span class="hljs-type">Config</span>)</span></span> {
            _config = config
        }
    }
}
</code></pre>
<h3 data-id="heading-15">äº”ã€å®é™…åº”ç”¨åœºæ™¯å»ºè®®</h3>
<h4 data-id="heading-16">5.1 é€‚åˆä½¿ç”¨ objectï¼ˆé¥¿æ±‰å¼ï¼‰çš„åœºæ™¯</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// 1. æ— çŠ¶æ€çš„å·¥å…·ç±»</span>
<span class="hljs-keyword">object</span> StringUtils {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">isBlank</span><span class="hljs-params">(value: <span class="hljs-type">String</span>?)</span></span>: <span class="hljs-built_in">Boolean</span> = value.isNullOrBlank()
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">capitalize</span><span class="hljs-params">(value: <span class="hljs-type">String</span>)</span></span>: String = value.replaceFirstChar { it.uppercase() }
}

<span class="hljs-comment">// 2. å¸¸é‡é…ç½®</span>
<span class="hljs-keyword">object</span> AppConstants {
    <span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> API_BASE_URL = <span class="hljs-string">"https://api.example.com"</span>
    <span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> TIMEOUT_SECONDS = <span class="hljs-number">30L</span>
    <span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> MAX_RETRY_COUNT = <span class="hljs-number">3</span>
}

<span class="hljs-comment">// 3. è½»é‡çº§ç®¡ç†å™¨</span>
<span class="hljs-keyword">object</span> ThemeManager {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> currentTheme = Theme.LIGHT
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">applyTheme</span><span class="hljs-params">(theme: <span class="hljs-type">Theme</span>)</span></span> {
        currentTheme = theme
        <span class="hljs-comment">// åº”ç”¨ä¸»é¢˜é€»è¾‘</span>
    }
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getCurrentTheme</span><span class="hljs-params">()</span></span> = currentTheme
}
</code></pre>
<h4 data-id="heading-17">5.2 é€‚åˆä½¿ç”¨æ‡’åŠ è½½çš„åœºæ™¯</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// 1. é‡é‡çº§èµ„æº</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseConnection</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">constructor</span>() {
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
        <span class="hljs-keyword">val</span> instance <span class="hljs-keyword">by</span> lazy {
            println(<span class="hljs-string">"å»ºç«‹æ•°æ®åº“è¿æ¥..."</span>)
            DatabaseConnection().apply { 
                connect()  <span class="hljs-comment">// è€—æ—¶çš„è¿æ¥æ“ä½œ</span>
            }
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">connect</span><span class="hljs-params">()</span></span> {
        Thread.sleep(<span class="hljs-number">1000</span>)  <span class="hljs-comment">// æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ</span>
    }
}

<span class="hljs-comment">// 2. æŒ‰éœ€åŠ è½½çš„æœåŠ¡</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">AnalyticsService</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">constructor</span>() {
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
        <span class="hljs-keyword">val</span> instance <span class="hljs-keyword">by</span> lazy {
            <span class="hljs-comment">// åªåœ¨éœ€è¦ç»Ÿè®¡åŠŸèƒ½æ—¶åˆå§‹åŒ–</span>
            AnalyticsService().apply { 
                initializeSdk() 
            }
        }
    }
}
</code></pre>
<h4 data-id="heading-18">5.3 ä½¿ç”¨ä¾èµ–æ³¨å…¥æ¡†æ¶</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä½¿ç”¨ Koin</span>
<span class="hljs-keyword">val</span> appModule = module {
    <span class="hljs-comment">// é¥¿æ±‰å¼å•ä¾‹</span>
    single { NetworkService() }
    
    <span class="hljs-comment">// æ‡’åŠ è½½å•ä¾‹</span>
    single { 
        <span class="hljs-keyword">val</span> config = <span class="hljs-keyword">get</span>&lt;Config&gt;()
        DatabaseService(config)  <span class="hljs-comment">// éœ€è¦æ—¶æ‰åˆå§‹åŒ–</span>
    }
    
    <span class="hljs-comment">// å·¥å‚æ¨¡å¼ï¼ˆæ¯æ¬¡æ–°å»ºï¼‰</span>
    factory { UserRepository(<span class="hljs-keyword">get</span>(), <span class="hljs-keyword">get</span>()) }
}

<span class="hljs-comment">// ä½¿ç”¨ Dagger/Hilt</span>
<span class="hljs-meta">@Module</span>
<span class="hljs-meta">@InstallIn(SingletonComponent::class)</span>
<span class="hljs-keyword">object</span> AppModule {
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-meta">@Singleton</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">provideApiService</span><span class="hljs-params">()</span></span>: ApiService {
        <span class="hljs-keyword">return</span> Retrofit.Builder()
            .baseUrl(<span class="hljs-string">"https://api.example.com"</span>)
            .build()
            .create(ApiService::<span class="hljs-keyword">class</span>.java)
    }
}
</code></pre>
<h3 data-id="heading-19">å…­ã€è®¾è®¡å†³ç­–çš„æƒè¡¡åˆ†æ</h3>
<h4 data-id="heading-20">6.1 è®¾è®¡å†³ç­–çŸ©é˜µ</h4>













































<table><thead><tr><th>è€ƒè™‘ç»´åº¦</th><th>é¥¿æ±‰å¼ (object)</th><th>æ‡’æ±‰å¼ (æœªé‡‡ç”¨ä¸ºé»˜è®¤)</th></tr></thead><tbody><tr><td><strong>ä»£ç ç®€æ´æ€§</strong>â€‹</td><td>â­â­â­â­â­</td><td>â­â­</td></tr><tr><td><strong>çº¿ç¨‹å®‰å…¨æ€§</strong>â€‹</td><td>â­â­â­â­â­ (JVM ä¿è¯)</td><td>â­â­â­ (éœ€æ‰‹åŠ¨å¤„ç†)</td></tr><tr><td><strong>å¯åŠ¨æ€§èƒ½</strong>â€‹</td><td>â­â­â­â­ (æœ‰å¾®å¼€é”€)</td><td>â­â­â­â­â­</td></tr><tr><td><strong>è¿è¡Œæ—¶æ€§èƒ½</strong>â€‹</td><td>â­â­â­â­â­ (æ— é”)</td><td>â­â­â­ (å¯èƒ½æœ‰é”ç«äº‰)</td></tr><tr><td><strong>å¯æµ‹è¯•æ€§</strong>â€‹</td><td>â­â­ (çŠ¶æ€å…±äº«)</td><td>â­â­â­ (å¯é‡ç½®)</td></tr><tr><td><strong>å¯é¢„æµ‹æ€§</strong>â€‹</td><td>â­â­â­â­â­ (å¯åŠ¨æ—¶åˆå§‹åŒ–)</td><td>â­â­â­ (è¿è¡Œæ—¶åˆå§‹åŒ–)</td></tr><tr><td><strong>å†…å­˜ä½¿ç”¨</strong>â€‹</td><td>â­â­â­â­ (å¯åŠ¨å³å ç”¨)</td><td>â­â­â­â­â­ (æŒ‰éœ€å ç”¨)</td></tr></tbody></table>
<h4 data-id="heading-21">6.2 Kotlin çš„è®¾è®¡å“²å­¦ä½“ç°</h4>
<ol>
<li>
<p><strong>Pareto åŸåˆ™ï¼ˆ80/20 æ³•åˆ™ï¼‰</strong></p>
<ul>
<li>ä¸º 80% çš„å¸¸è§åœºæ™¯ï¼ˆç®€å•å•ä¾‹ï¼‰æä¾›æœ€ä¼˜è§£å†³æ–¹æ¡ˆ</li>
<li>ä¸º 20% çš„ç‰¹æ®Šåœºæ™¯æä¾›é€ƒç”Ÿé€šé“ï¼ˆ<code>by lazy</code>ã€æ™®é€šç±»ï¼‰</li>
</ul>
</li>
<li>
<p><strong>çº¦å®šä¼˜äºé…ç½®</strong></p>
<ul>
<li>é»˜è®¤è¡Œä¸ºåº”è¯¥å¯¹å¤§å¤šæ•°ç”¨æˆ·æ˜¯æœ€ä½³çš„</li>
<li>ç‰¹æ®Šéœ€æ±‚å¯ä»¥é€šè¿‡æ˜¾å¼é…ç½®å®ç°</li>
</ul>
</li>
<li>
<p><strong>å®ç”¨ä¸»ä¹‰</strong></p>
<ul>
<li>ç°ä»£åº”ç”¨å¯åŠ¨æ—¶åˆå§‹åŒ–å‡ åä¸ªå•ä¾‹çš„å¼€é”€å¯å¿½ç•¥ä¸è®¡</li>
<li>ç®€åŒ–çº¿ç¨‹å®‰å…¨é—®é¢˜å¸¦æ¥çš„æ”¶ç›Šè¿œå¤§äºå¾®å°çš„å†…å­˜æå‰å ç”¨</li>
</ul>
</li>
<li>
<p><strong>æ¸è¿›å¼å¤æ‚åº¦</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Level 1: æœ€ç®€å•çš„å•ä¾‹ï¼ˆobjectï¼‰</span>
<span class="hljs-keyword">object</span> SimpleSingleton

<span class="hljs-comment">// Level 2: éœ€è¦æ‡’åŠ è½½ï¼ˆby lazyï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">LazySingleton</span> {
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> { <span class="hljs-keyword">val</span> instance <span class="hljs-keyword">by</span> lazy { LazySingleton() } }
}

<span class="hljs-comment">// Level 3: éœ€è¦å‚æ•°ï¼ˆæ™®é€šç±»ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ParamSingleton</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> param: String) {
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> { 
        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getInstance</span><span class="hljs-params">(param: <span class="hljs-type">String</span>)</span></span> = ParamSingleton(param)
    }
}

<span class="hljs-comment">// Level 4: å¤æ‚ç”Ÿå‘½å‘¨æœŸï¼ˆä¾èµ–æ³¨å…¥ï¼‰</span>
<span class="hljs-comment">// ä½¿ç”¨ Koin/Dagger/Hilt</span>
</code></pre>
</li>
</ol>
<h3 data-id="heading-22">ä¸ƒã€æœ€ä½³å®è·µæ€»ç»“</h3>
<h4 data-id="heading-23">7.1 é€‰æ‹©æŒ‡å—</h4>
<ol>
<li>
<p><strong>é»˜è®¤ä½¿ç”¨Â <code>object</code></strong>ï¼š</p>
<ul>
<li>å·¥å…·ç±»ã€å¸¸é‡ç±»</li>
<li>æ— çŠ¶æ€ç®¡ç†å™¨</li>
<li>è½»é‡çº§æœåŠ¡</li>
</ul>
</li>
<li>
<p><strong>ä½¿ç”¨Â <code>by lazy</code></strong>ï¼š</p>
<ul>
<li>åˆå§‹åŒ–æˆæœ¬é«˜çš„èµ„æº</li>
<li>å¯èƒ½æ°¸è¿œä¸ä¼šä½¿ç”¨çš„åŠŸèƒ½</li>
<li>æœ‰ä¾èµ–å…³ç³»çš„æœåŠ¡</li>
</ul>
</li>
<li>
<p><strong>ä½¿ç”¨æ™®é€šç±»</strong>ï¼š</p>
<ul>
<li>éœ€è¦æ„é€ å‚æ•°</li>
<li>éœ€è¦å¤æ‚åˆå§‹åŒ–é€»è¾‘</li>
<li>éœ€è¦è‡ªå®šä¹‰ç”Ÿå‘½å‘¨æœŸ</li>
</ul>
</li>
<li>
<p><strong>ä½¿ç”¨ä¾èµ–æ³¨å…¥</strong>ï¼š</p>
<ul>
<li>å¤§å‹é¡¹ç›®</li>
<li>éœ€è¦è‰¯å¥½çš„å¯æµ‹è¯•æ€§</li>
<li>å¤æ‚çš„ä¾èµ–å…³ç³»</li>
</ul>
</li>
</ol>
<h4 data-id="heading-24">7.2 ä»£ç ç¤ºä¾‹å¯¹æ¯”</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// åœºæ™¯ï¼šæ—¥å¿—æœåŠ¡</span>

<span class="hljs-comment">// æ–¹æ¡ˆ1ï¼šobjectï¼ˆé€‚åˆå¤§å¤šæ•°æƒ…å†µï¼‰</span>
<span class="hljs-keyword">object</span> Logger {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">d</span><span class="hljs-params">(tag: <span class="hljs-type">String</span>, message: <span class="hljs-type">String</span>)</span></span> {
        <span class="hljs-keyword">if</span> (BuildConfig.DEBUG) {
            Log.d(tag, message)
        }
    }
}

<span class="hljs-comment">// æ–¹æ¡ˆ2ï¼šby lazyï¼ˆéœ€è¦å»¶è¿Ÿåˆå§‹åŒ–ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">HeavyLogger</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">constructor</span>() {
    <span class="hljs-keyword">init</span> { 
        <span class="hljs-comment">// é‡é‡çº§åˆå§‹åŒ–</span>
        initializeLogSystem() 
    }
    
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
        <span class="hljs-keyword">val</span> instance <span class="hljs-keyword">by</span> lazy { HeavyLogger() }
    }
}

<span class="hljs-comment">// æ–¹æ¡ˆ3ï¼šå¸¦å‚æ•°çš„æ™®é€šç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ConfigurableLogger</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> config: LogConfig) {
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
        <span class="hljs-meta">@Volatile</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> instance: ConfigurableLogger? = <span class="hljs-literal">null</span>
        
        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">initialize</span><span class="hljs-params">(config: <span class="hljs-type">LogConfig</span>)</span></span> {
            instance = ConfigurableLogger(config)
        }
        
        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getInstance</span><span class="hljs-params">()</span></span>: ConfigurableLogger {
            <span class="hljs-keyword">return</span> requireNotNull(instance) { <span class="hljs-string">"å¿…é¡»å…ˆè°ƒç”¨ initialize()"</span> }
        }
    }
}
</code></pre>
<h3 data-id="heading-25">ç»“è®º</h3>
<p>Kotlin é€‰æ‹©å°†Â <code>object</code>è®¾è®¡ä¸ºé¥¿æ±‰å¼å•ä¾‹ï¼Œæ˜¯ä¸€ä¸ªç»è¿‡æ·±æ€ç†Ÿè™‘çš„è®¾è®¡å†³ç­–ï¼Œä½“ç°äº†ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒåŸåˆ™ï¼š</p>
<ol>
<li><strong>ç®€æ´æ€§ä¼˜å…ˆ</strong>ï¼šä¸ºæœ€å¸¸è§çš„ä½¿ç”¨åœºæ™¯æä¾›æœ€ç®€æ´çš„è¯­æ³•</li>
<li><strong>å®‰å…¨é»˜è®¤å€¼</strong>ï¼šé¿å…å¼€å‘è€…å› å¿˜è®°å¤„ç†çº¿ç¨‹å®‰å…¨è€Œå¼•å…¥ bug</li>
<li><strong>æ¸è¿›å¼æŠ«éœ²å¤æ‚åº¦</strong>ï¼šä»ç®€å•åˆ°å¤æ‚ï¼Œæä¾›æ¸…æ™°çš„å‡çº§è·¯å¾„</li>
<li><strong>å®ç”¨ä¸»ä¹‰</strong>ï¼šæ¥å—å¾®å°çš„å¯åŠ¨å¼€é”€ï¼Œæ¢å–ä»£ç çš„ç®€æ´å’Œå¯ç»´æŠ¤æ€§</li>
</ol>
<p>è¿™ç§è®¾è®¡è®© Kotlin åœ¨ä¿æŒç°ä»£è¯­è¨€ç‰¹æ€§çš„åŒæ—¶ï¼Œæå¤§åœ°é™ä½äº†å­¦ä¹ æ›²çº¿å’Œä½¿ç”¨é—¨æ§›ã€‚å½“å¼€å‘è€…çœŸæ­£éœ€è¦æ‡’æ±‰å¼å•ä¾‹æ—¶ï¼ŒKotlin é€šè¿‡Â <code>by lazy</code>å§”æ‰˜å±æ€§æä¾›äº†ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆï¼Œæ—¢ä¿æŒäº†è¯­è¨€çš„ä¸€è‡´æ€§ï¼Œåˆæ»¡è¶³äº†é«˜çº§éœ€æ±‚ã€‚</p>
<p>æœ€ç»ˆï¼ŒKotlin çš„è®¾è®¡å“²å­¦å¯ä»¥æ€»ç»“ä¸ºï¼š <strong>"è®©ç®€å•çš„äº‹æƒ…ç®€å•ï¼Œè®©å¤æ‚çš„äº‹æƒ…å¯èƒ½"</strong> ã€‚<code>object</code>å…³é”®å­—æ­£æ˜¯è¿™ä¸€å“²å­¦çš„å®Œç¾ä½“ç°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android Serviceå¯åŠ¨æµç¨‹è¯¦è§£]]></title>    <link>https://juejin.cn/post/7591301294298120219</link>    <guid>https://juejin.cn/post/7591301294298120219</guid>    <pubDate>2026-01-04T07:17:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591301294298120219" data-draft-id="7591085154977087514" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android Serviceå¯åŠ¨æµç¨‹è¯¦è§£"/> <meta itemprop="keywords" content="é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-04T07:17:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‡’çŒ«çˆ±ä¸Šé±¼"/> <meta itemprop="url" content="https://juejin.cn/user/325111174151821"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android Serviceå¯åŠ¨æµç¨‹è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/325111174151821/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‡’çŒ«çˆ±ä¸Šé±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T07:17:23.000Z" title="Sun Jan 04 2026 07:17:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡é€‚åˆAndroidå¼€å‘åˆå­¦è€…åŠè¿›é˜¶å¼€å‘è€…ï¼Œæ—¨åœ¨ç³»ç»Ÿæ¢³ç†Serviceä¸¤ç§å¯åŠ¨æ¨¡å¼ï¼ˆstart/bindï¼‰çš„å®Œæ•´æµç¨‹ï¼Œæ˜ç¡®å„ç¯èŠ‚å…³é”®æ­¥éª¤ä¸æ ¸å¿ƒå‚ä¸ç±»ï¼Œå¹¶æ¸…æ™°å¯¹æ¯”ä¸¤è€…å·®å¼‚ï¼Œå¸®åŠ©å¤§å®¶æ·±å…¥ç†è§£Serviceè¿è¡Œæœºåˆ¶ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒåŸºç¡€æ¦‚å¿µä¸å‰ç½®è¯´æ˜</h2>
<h3 data-id="heading-1">1.1 å…³é”®ç±»è¯´æ˜</h3>
<p>Serviceå¯åŠ¨æµç¨‹æ¶‰åŠå¤šä¸ªç³»ç»Ÿæ ¸å¿ƒç±»ï¼Œå„æ ¸å¿ƒç±»çš„æ ¸å¿ƒèŒè´£å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>Context</strong>ï¼šåº”ç”¨å…¨å±€ä¸Šä¸‹æ–‡å…¥å£ï¼Œæä¾›åº”ç”¨è¿è¡Œç¯å¢ƒä¿¡æ¯ï¼Œæ˜¯å¯åŠ¨Serviceçš„æ ¸å¿ƒå…¥å£ï¼ˆActivityã€Applicationç­‰å‡ç»§æ‰¿è‡ªContextï¼‰ï¼Œæ ¸å¿ƒæ–¹æ³•ä¸º <code>startService()</code> å’Œ <code>bindService()</code>ã€‚</li>
<li><strong>ContextImpl</strong>ï¼šContextçš„å…·ä½“å®ç°ç±»ï¼Œè´Ÿè´£å°†å¯åŠ¨Serviceçš„è¯·æ±‚å°è£…å¹¶è½¬å‘è‡³ç³»ç»ŸæœåŠ¡ï¼ˆAMSï¼‰ï¼Œæ˜¯åº”ç”¨å±‚ä¸ç³»ç»Ÿå±‚äº¤äº’çš„ä¸­é—´è½½ä½“ã€‚</li>
<li><strong>ActivityManagerServiceï¼ˆAMSï¼‰</strong> ï¼šç³»ç»Ÿæ ¸å¿ƒæœåŠ¡ï¼Œç»Ÿç­¹ç®¡ç†æ‰€æœ‰åº”ç”¨ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼ˆå«Serviceï¼‰ï¼Œæ˜¯Serviceå¯åŠ¨æµç¨‹çš„â€œä¸­æ¢è°ƒåº¦ä¸­å¿ƒâ€ï¼Œè´Ÿè´£æƒé™æ ¡éªŒã€è¿›ç¨‹ç®¡ç†ã€ServiceçŠ¶æ€ç»´æŠ¤ç­‰æ ¸å¿ƒé€»è¾‘ã€‚</li>
<li><strong>ActivityThread</strong>ï¼šåº”ç”¨è¿›ç¨‹çš„ä¸»çº¿ç¨‹ç®¡ç†ç±»ï¼Œå†…éƒ¨åŒ…å« <strong>ApplicationThread</strong>ï¼ˆBinderå®¢æˆ·ç«¯ï¼‰ï¼Œè´Ÿè´£æ¥æ”¶AMSæŒ‡ä»¤å¹¶è°ƒåº¦ä¸»çº¿ç¨‹æ‰§è¡ŒServiceçš„åˆ›å»ºã€å¯åŠ¨ç­‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚</li>
<li><strong>ApplicationThread</strong>ï¼šActivityThreadçš„å†…éƒ¨ç±»ï¼Œå®ç°IBinderæ¥å£ï¼Œä½œä¸ºåº”ç”¨è¿›ç¨‹ä¸AMSï¼ˆBinderæœåŠ¡ç«¯ï¼‰çš„è·¨è¿›ç¨‹é€šä¿¡æ¡¥æ¢ï¼Œæ¥æ”¶AMSä¸‹å‘çš„åˆ›å»ºServiceã€å¯åŠ¨Serviceç­‰æŒ‡ä»¤ã€‚</li>
<li><strong>ServiceManager</strong>ï¼šç³»ç»ŸæœåŠ¡æ³¨å†Œè¡¨ï¼Œè´Ÿè´£ç®¡ç†æ‰€æœ‰ç³»ç»ŸæœåŠ¡çš„Binderå¼•ç”¨ï¼Œåº”ç”¨è¿›ç¨‹é€šè¿‡å…¶è·å–AMSçš„Binderä»£ç†å¯¹è±¡ï¼Œä»è€Œå»ºç«‹ä¸AMSçš„é€šä¿¡ã€‚</li>
<li><strong>LoadedApk</strong>ï¼šè´Ÿè´£åŠ è½½åº”ç”¨çš„APKèµ„æºä¸ç±»ä¿¡æ¯ï¼Œåœ¨Serviceåˆ›å»ºé˜¶æ®µï¼Œé€šè¿‡å…¶è·å–Serviceçš„Classå¯¹è±¡ï¼Œä¸ºåå°„åˆ›å»ºServiceå®ä¾‹æä¾›æ”¯æŒã€‚</li>
<li><strong>ServiceRecord</strong>ï¼šAMSå†…éƒ¨ç»´æŠ¤çš„Serviceä¿¡æ¯è½½ä½“ï¼Œè®°å½•Serviceçš„ç»„ä»¶ä¿¡æ¯ã€å¯åŠ¨çŠ¶æ€ã€æ‰€å±è¿›ç¨‹ã€å¯åŠ¨æ¨¡å¼ç­‰æ ¸å¿ƒæ•°æ®ï¼Œæ˜¯AMSç®¡ç†Serviceçš„æ ¸å¿ƒæ•°æ®ç»“æ„ã€‚</li>
<li><strong>Intent</strong>ï¼šç»„ä»¶é—´é€šä¿¡çš„â€œæ„å›¾è½½ä½“â€ï¼Œç”¨äºæŒ‡å®šç›®æ ‡Serviceï¼ˆé€šè¿‡åŒ…å+ç±»åæˆ–Actionå®šä½ï¼‰ï¼Œå°è£…å¯åŠ¨Serviceæ‰€éœ€çš„å‚æ•°ä¿¡æ¯ã€‚</li>
<li><strong>IServiceConnection</strong>ï¼šbindæ¨¡å¼ä¸‹çš„é€šä¿¡å›è°ƒæ¥å£ï¼Œç”¨äºæ¥æ”¶Serviceç»‘å®šæˆåŠŸï¼ˆ<code>onServiceConnected()</code>ï¼‰ä¸è¿æ¥æ–­å¼€ï¼ˆ<code>onServiceDisconnected()</code>ï¼‰çš„é€šçŸ¥ï¼Œæ˜¯å®¢æˆ·ç«¯ä¸Serviceå»ºç«‹é€šä¿¡çš„å…³é”®ã€‚</li>
</ul>
<h3 data-id="heading-2">1.2 æ ¸å¿ƒæµç¨‹å‰ç½®é€»è¾‘</h3>
<p>Androidç³»ç»Ÿä¸­ï¼Œåº”ç”¨è¿›ç¨‹ï¼ˆå®¢æˆ·ç«¯ï¼‰ä¸AMSï¼ˆç³»ç»Ÿè¿›ç¨‹ï¼ŒæœåŠ¡ç«¯ï¼‰é€šè¿‡<strong>Binderæœºåˆ¶</strong>å®ç°è·¨è¿›ç¨‹é€šä¿¡ã€‚æ‰€æœ‰Serviceå¯åŠ¨è¯·æ±‚çš„æ ¸å¿ƒæµè½¬é€»è¾‘ä¸€è‡´ï¼šç”±åº”ç”¨å±‚é€šè¿‡ContextImplè½¬å‘è‡³AMSï¼Œå†ç”±AMSç»Ÿä¸€å®Œæˆæƒé™æ ¡éªŒã€Service/è¿›ç¨‹çŠ¶æ€åˆ¤æ–­ï¼Œæœ€ç»ˆé€šçŸ¥åº”ç”¨è¿›ç¨‹åˆ›å»ºå¹¶å¯åŠ¨Serviceã€‚</p>
<h2 data-id="heading-3">äºŒã€startæ¨¡å¼å¯åŠ¨æµç¨‹ï¼ˆå¯åŠ¨å¼Serviceï¼‰</h2>
<p>startæ¨¡å¼é€šè¿‡ <code>startService(Intent)</code> å¯åŠ¨ï¼ŒServiceå¯åŠ¨åç‹¬ç«‹äºå¯åŠ¨ç»„ä»¶ï¼ˆå¦‚Activityï¼‰è¿è¡Œï¼Œå³ä½¿å¯åŠ¨ç»„ä»¶é”€æ¯ï¼ŒServiceä»å¯ç»§ç»­æ‰§è¡Œåå°ä»»åŠ¡ï¼Œéœ€é€šè¿‡ <code>stopService()</code> æˆ– <code>stopSelf()</code> ä¸»åŠ¨åœæ­¢ã€‚å…¶æ ¸å¿ƒæµç¨‹å¯æ‹†è§£ä¸ºâ€œåº”ç”¨è¿›ç¨‹å‘èµ·è¯·æ±‚â†’AMSè°ƒåº¦æ ¡éªŒâ†’åº”ç”¨è¿›ç¨‹åˆ›å»ºå¹¶å¯åŠ¨Serviceâ€ä¸‰ä¸ªé˜¶æ®µï¼Œæ ¸å¿ƒæµç¨‹ç¤ºæ„å›¾åŠè¯¦ç»†æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-4">2.1 startæ¨¡å¼æµç¨‹ç¤ºæ„å›¾</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f20bea4f00a545279aa0d13c3034ff2c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS54yr54ix5LiK6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768115843&amp;x-signature=AzwD8GM54moJxNtU%2BX5fW436r2A%3D" alt="startServiceæµç¨‹å›¾.png" loading="lazy"/></p>
<h3 data-id="heading-5">2.2 è¯¦ç»†æµç¨‹æ­¥éª¤</h3>
<h4 data-id="heading-6">é˜¶æ®µ1ï¼šåº”ç”¨è¿›ç¨‹å‘èµ·å¯åŠ¨è¯·æ±‚</h4>
<ol>
<li>å¯åŠ¨ç»„ä»¶ï¼ˆå¦‚Activityï¼‰è°ƒç”¨ <code>startService(intent)</code> æ–¹æ³•ï¼ˆè¯¥æ–¹æ³•ç»§æ‰¿è‡ªContextç±»ï¼‰ï¼Œå‘èµ·Serviceå¯åŠ¨è¯·æ±‚ã€‚</li>
<li>ç”±äºContextçš„å…·ä½“å®ç°ä¸ºContextImplï¼Œè¯·æ±‚ä¼šç›´æ¥è½¬å‘è‡³ <code>ContextImpl.startService(intent)</code> æ–¹æ³•ã€‚</li>
<li>ContextImplé€šè¿‡ <code>startServiceCommon(intent, ...)</code> æ–¹æ³•å®Œæˆä¸¤é¡¹æ ¸å¿ƒæ“ä½œï¼šä¸€æ˜¯æ ¡éªŒIntentåˆæ³•æ€§ï¼ˆå¦‚æ˜¯å¦æ˜ç¡®æŒ‡å®šç›®æ ‡Serviceç»„ä»¶ï¼‰ï¼›äºŒæ˜¯é€šè¿‡ServiceManagerè·å–AMSçš„Binderä»£ç†å¯¹è±¡ï¼ˆè°ƒç”¨ <code>ServiceManager.getService("activity")</code>ï¼‰ã€‚</li>
<li>é€šè¿‡AMSä»£ç†å¯¹è±¡è°ƒç”¨ <code>AMS.startService(intent, ...)</code>ï¼Œæ­£å¼å‘AMSå‘èµ·è·¨è¿›ç¨‹å¯åŠ¨è¯·æ±‚ã€‚</li>
</ol>
<h4 data-id="heading-7">é˜¶æ®µ2ï¼šAMSè°ƒåº¦ä¸çŠ¶æ€æ£€æŸ¥</h4>
<ol>
<li>
<p>AMSæ¥æ”¶è¯·æ±‚åï¼Œä¼˜å…ˆé€šè¿‡ <code>ActivityManagerService.checkStartServicePermission()</code> æ‰§è¡Œæƒé™æ ¡éªŒï¼Œæ ¸å¿ƒæ ¡éªŒé¡¹åŒ…æ‹¬ï¼šç›®æ ‡Serviceæ˜¯å¦åœ¨Manifestä¸­å£°æ˜ã€æ˜¯å¦å…·å¤‡è·¨åº”ç”¨å¯åŠ¨æƒé™ç­‰ã€‚</p>
</li>
<li>
<p>æƒé™æ ¡éªŒé€šè¿‡åï¼ŒAMSé€šè¿‡ <code>ActivityManagerService.getServiceRecord()</code> æŸ¥è¯¢ç›®æ ‡Serviceå¯¹åº”çš„ServiceRecordå¯¹è±¡ï¼š</p>
<ol>
<li>è‹¥Serviceå·²å­˜åœ¨ï¼ˆå·²å¯åŠ¨æˆ–ç»‘å®šï¼‰ï¼Œåˆ™ç›´æ¥å¤ç”¨ç°æœ‰ServiceRecordï¼Œè·³è¿‡åˆ›å»ºæµç¨‹ï¼Œç›´æ¥è¿›å…¥åç»­å¯åŠ¨æ­¥éª¤ï¼ˆè§¦å‘ <code>onStartCommand()</code>ï¼‰ï¼›</li>
<li>è‹¥Serviceä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºServiceRecordå¯¹è±¡ï¼Œå®Œæ•´è®°å½•ç›®æ ‡Serviceçš„ç»„ä»¶ä¿¡æ¯ã€å¯åŠ¨æ¨¡å¼ã€æ‰€å±è¿›ç¨‹ç­‰æ ¸å¿ƒæ•°æ®ã€‚</li>
</ol>
</li>
<li>
<p>AMSè¿›ä¸€æ­¥æ£€æŸ¥ç›®æ ‡Serviceæ‰€å±è¿›ç¨‹æ˜¯å¦å­˜åœ¨ï¼ˆé€šè¿‡è¿›ç¨‹å+åŒ…ååŒ¹é…åˆ¤æ–­ï¼‰ï¼š</p>
<ol>
<li>è‹¥è¿›ç¨‹ä¸å­˜åœ¨ï¼Œåˆ™é€šè¿‡ <code>ActivityManagerService.startProcessLocked()</code> å¯åŠ¨æ–°è¿›ç¨‹ï¼ˆåŸºäºZygoteè¿›ç¨‹forkç”Ÿæˆï¼‰ï¼›</li>
<li>è‹¥è¿›ç¨‹å·²å­˜åœ¨ï¼Œåˆ™ç›´æ¥å‘è¯¥è¿›ç¨‹ä¸‹å‘åˆ›å»º/å¯åŠ¨Serviceçš„æŒ‡ä»¤ã€‚</li>
</ol>
</li>
</ol>
<h4 data-id="heading-8">é˜¶æ®µ3ï¼šåº”ç”¨è¿›ç¨‹åˆ›å»ºå¹¶å¯åŠ¨Service</h4>
<ol>
<li>
<p>è‹¥è§¦å‘æ–°è¿›ç¨‹å¯åŠ¨ï¼Œæ–°è¿›ç¨‹ä¼šä¼˜å…ˆåˆå§‹åŒ–ActivityThreadï¼ˆä¸»çº¿ç¨‹ï¼‰ï¼Œå¹¶é€šè¿‡ <code>ActivityThread.attach(false)</code> æ–¹æ³•ä¸AMSå»ºç«‹é€šä¿¡ï¼Œå®Œæˆåº”ç”¨è¿›ç¨‹ä¿¡æ¯æ³¨å†Œã€‚</p>
</li>
<li>
<p>AMSé€šè¿‡ApplicationThreadï¼ˆåº”ç”¨è¿›ç¨‹çš„Binderå®¢æˆ·ç«¯ï¼‰å‘ç›®æ ‡è¿›ç¨‹ä¸‹å‘ <code>scheduleCreateService()</code> æŒ‡ä»¤ï¼Œè§¦å‘Serviceåˆ›å»ºæµç¨‹ã€‚</p>
</li>
<li>
<p>ç›®æ ‡è¿›ç¨‹çš„ä¸»çº¿ç¨‹ï¼ˆActivityThreadï¼‰æ¥æ”¶æŒ‡ä»¤åï¼Œé€šè¿‡ <code>ActivityThread.handleCreateService()</code> æ–¹æ³•å®ŒæˆServiceå®ä¾‹çš„åˆ›å»ºä¸åˆå§‹åŒ–ï¼Œæ ¸å¿ƒæ“ä½œåŒ…æ‹¬ï¼š</p>
<ol>
<li>é€šè¿‡LoadedApkè·å–ç›®æ ‡Serviceçš„Classå¯¹è±¡ï¼ˆ<code>Class&lt;? extends Service&gt;</code>ï¼‰ï¼›</li>
<li>é€šè¿‡åå°„æœºåˆ¶åˆ›å»ºServiceå®ä¾‹ï¼ˆ<code>service = (Service) clazz.newInstance()</code>ï¼‰ï¼›</li>
<li>ä¸ºServiceåˆå§‹åŒ–ä¸Šä¸‹æ–‡ç¯å¢ƒï¼ˆåˆ›å»ºContextImplå¹¶ä¸Serviceå…³è”ï¼‰ï¼›</li>
<li>è°ƒç”¨Serviceçš„ <code>onCreate()</code> æ–¹æ³•ï¼ˆServiceç”Ÿå‘½å‘¨æœŸçš„é¦–ä¸ªå›è°ƒï¼Œä»…åœ¨é¦–æ¬¡åˆ›å»ºæ—¶è§¦å‘ï¼‰ã€‚</li>
</ol>
</li>
<li>
<p>Serviceåˆ›å»ºå®Œæˆåï¼ŒAMSé€šè¿‡ApplicationThreadä¸‹å‘ <code>scheduleServiceArgs()</code> æŒ‡ä»¤ï¼Œè§¦å‘<code>ActivityThread.handleServiceArgs()</code> æ–¹æ³•ã€‚</p>
</li>
<li>
<p>åœ¨ <code>handleServiceArgs()</code> æ–¹æ³•ä¸­ï¼Œæœ€ç»ˆè°ƒç”¨Serviceçš„ <code>onStartCommand(Intent, int, int)</code> æ–¹æ³•ï¼ŒServiceæ­£å¼å¼€å§‹æ‰§è¡Œåå°ä»»åŠ¡ã€‚</p>
</li>
<li>
<p>åº”ç”¨è¿›ç¨‹å‘AMSåé¦ˆServiceå¯åŠ¨æˆåŠŸï¼ŒAMSæ›´æ–°ServiceRecordçš„çŠ¶æ€ï¼ˆæ ‡è®°ä¸ºâ€œè¿è¡Œä¸­â€ï¼‰ï¼Œå®Œæˆæ•´ä¸ªstartæ¨¡å¼å¯åŠ¨æµç¨‹ã€‚</p>
</li>
</ol>
<h2 data-id="heading-9">ä¸‰ã€bindæ¨¡å¼å¯åŠ¨æµç¨‹ï¼ˆç»‘å®šå¼Serviceï¼‰</h2>
<p>bindæ¨¡å¼é€šè¿‡ <code>bindService(Intent, ServiceConnection, int)</code> å¯åŠ¨ï¼Œæ ¸å¿ƒç›®çš„æ˜¯å»ºç«‹å®¢æˆ·ç«¯ä¸Serviceçš„é€šä¿¡é€šé“ï¼Œå®¢æˆ·ç«¯å¯é€šè¿‡Binderè·å–Serviceå®ä¾‹å¹¶è°ƒç”¨å…¶å…¬å¼€æ–¹æ³•ã€‚Serviceçš„ç”Ÿå‘½å‘¨æœŸä¸ç»‘å®šå…³ç³»å¼ºç›¸å…³ï¼šå½“æ‰€æœ‰ç»‘å®šçš„å®¢æˆ·ç«¯å‡è§£ç»‘ï¼ˆ<code>unbindService()</code>ï¼‰åï¼ŒServiceä¼šè‡ªåŠ¨é”€æ¯ã€‚å…¶æ ¸å¿ƒæµç¨‹åœ¨startæ¨¡å¼åŸºç¡€ä¸Šï¼Œå¢åŠ äº†â€œç»‘å®šå…³ç³»å»ºç«‹â€ä¸â€œé€šä¿¡é€šé“åˆå§‹åŒ–â€æ­¥éª¤ï¼Œæ ¸å¿ƒæµç¨‹ç¤ºæ„å›¾åŠè¯¦ç»†æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-10">3.1 bindæ¨¡å¼æµç¨‹ç¤ºæ„å›¾</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/57a476ef739147ff95cc472d943aed3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS54yr54ix5LiK6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768115843&amp;x-signature=c%2FpuU2nH2d9iMK7EwVIPFMxcCSI%3D" alt="bindServiceæµç¨‹å›¾.png" loading="lazy"/></p>
<h3 data-id="heading-11">3.2 è¯¦ç»†æµç¨‹æ­¥éª¤</h3>
<h4 data-id="heading-12">é˜¶æ®µ1ï¼šåº”ç”¨è¿›ç¨‹å‘èµ·ç»‘å®šè¯·æ±‚</h4>
<ol>
<li>å¯åŠ¨ç»„ä»¶ï¼ˆå¦‚Activityï¼‰åˆ›å»º <code>ServiceConnection</code> å®ä¾‹ï¼Œå®ç° <code>onServiceConnected()</code>ï¼ˆç»‘å®šæˆåŠŸå›è°ƒï¼Œç”¨äºæ¥æ”¶Serviceçš„Binderå¯¹è±¡ï¼‰ä¸ <code>onServiceDisconnected()</code>ï¼ˆè¿æ¥æ–­å¼€å›è°ƒï¼‰ã€‚</li>
<li>è°ƒç”¨ <code>bindService(intent, serviceConnection, flags)</code> æ–¹æ³•å‘èµ·ç»‘å®šè¯·æ±‚ï¼Œå…¶ä¸­flagså¸¸ç”¨ <code>BIND_AUTO_CREATE</code>ï¼ˆè¡¨ç¤ºè‹¥Serviceæœªåˆ›å»ºï¼Œåˆ™è‡ªåŠ¨åˆ›å»ºï¼‰ã€‚</li>
<li>è¯·æ±‚è½¬å‘è‡³ <code>ContextImpl.bindService(intent, ...)</code>ï¼ŒContextImplé€šè¿‡ <code>bindServiceCommon()</code> å®ŒæˆIntentæ ¡éªŒï¼Œå¹¶è·å–AMSçš„Binderä»£ç†å¯¹è±¡ã€‚</li>
<li>é€šè¿‡AMSä»£ç†å¯¹è±¡è°ƒç”¨ <code>AMS.bindService(intent, serviceConnection, flags, ...)</code>ï¼Œå‘èµ·è·¨è¿›ç¨‹ç»‘å®šè¯·æ±‚ï¼ŒåŒæ—¶å°† <code>ServiceConnection</code> çš„Binderä»£ç†å¯¹è±¡ä¼ é€’ç»™AMSï¼ˆç”¨äºåç»­å›è°ƒé€šçŸ¥ï¼‰ã€‚</li>
</ol>
<h4 data-id="heading-13">é˜¶æ®µ2ï¼šAMSè°ƒåº¦ä¸è¿æ¥å‡†å¤‡</h4>
<ol>
<li>
<p>AMSæ‰§è¡Œæƒé™æ ¡éªŒï¼ˆä¸startæ¨¡å¼ä¸€è‡´ï¼‰ï¼Œæ£€æŸ¥å®¢æˆ·ç«¯æ˜¯å¦å…·å¤‡ç»‘å®šç›®æ ‡Serviceçš„æƒé™ã€‚</p>
</li>
<li>
<p>æŸ¥è¯¢ç›®æ ‡Serviceå¯¹åº”çš„ServiceRecordå¯¹è±¡ï¼š</p>
<ol>
<li>è‹¥Serviceä¸å­˜åœ¨ä¸”flagsä¸º <code>BIND_AUTO_CREATE</code>ï¼Œåˆ™åˆ›å»ºServiceRecordå¯¹è±¡ï¼Œå¹¶å¯åŠ¨ç›®æ ‡è¿›ç¨‹ï¼ˆæµç¨‹ä¸startæ¨¡å¼ä¸€è‡´ï¼‰ï¼›</li>
<li>è‹¥Serviceå·²å­˜åœ¨ï¼Œåˆ™ç›´æ¥å¤ç”¨ç°æœ‰ServiceRecordå¯¹è±¡ã€‚</li>
</ol>
</li>
<li>
<p>AMSåˆ›å»º <code>ConnectionRecord</code> å¯¹è±¡ï¼Œä¸“é—¨è®°å½•å®¢æˆ·ç«¯ä¸Serviceçš„ç»‘å®šå…³ç³»ï¼ˆå…³è”ServiceRecordä¸å®¢æˆ·ç«¯çš„ <code>ServiceConnection</code> ä»£ç†ï¼‰ï¼Œç”¨äºåç»­ç®¡ç†ç»‘å®šçŠ¶æ€ã€‚</p>
</li>
<li>
<p>è‹¥Serviceæœªåˆ›å»ºï¼ŒAMSé€šè¿‡ApplicationThreadå‘ç›®æ ‡è¿›ç¨‹ä¸‹å‘ <code>scheduleCreateService()</code> æŒ‡ä»¤ï¼Œè§¦å‘Serviceåˆ›å»ºæµç¨‹ï¼ˆä¸startæ¨¡å¼ä¸€è‡´ï¼Œè°ƒç”¨ <code>onCreate()</code>ï¼‰ã€‚</p>
</li>
</ol>
<h4 data-id="heading-14">é˜¶æ®µ3ï¼šå»ºç«‹ç»‘å®šè¿æ¥ä¸é€šä¿¡é€šé“</h4>
<ol>
<li>Serviceåˆ›å»ºå®Œæˆåï¼ŒAMSé€šè¿‡ApplicationThreadä¸‹å‘ <code>scheduleBindService()</code> æŒ‡ä»¤ï¼Œè§¦å‘ <code>ActivityThread.handleBindService()</code> æ–¹æ³•ã€‚</li>
<li>åœ¨ <code>handleBindService()</code> æ–¹æ³•ä¸­ï¼Œè°ƒç”¨Serviceçš„ <code>onBind(Intent)</code> æ–¹æ³•ï¼ŒServiceé€šè¿‡è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªå®ç°IBinderæ¥å£çš„å¯¹è±¡ï¼ˆé€šå¸¸ä¸ºè‡ªå®šä¹‰Binderå­ç±»æˆ–Messengerçš„Binderï¼‰ï¼Œè¯¥å¯¹è±¡æ˜¯å®¢æˆ·ç«¯ä¸Serviceé€šä¿¡çš„æ ¸å¿ƒè½½ä½“ã€‚</li>
<li>åº”ç”¨è¿›ç¨‹å°† <code>onBind()</code> è¿”å›çš„Binderå¯¹è±¡é€šè¿‡ApplicationThreadåé¦ˆç»™AMSã€‚</li>
<li>AMSè·å–Binderå¯¹è±¡åï¼Œé€šè¿‡å®¢æˆ·ç«¯ä¼ é€’çš„ <code>ServiceConnection</code> ä»£ç†å¯¹è±¡ï¼Œè°ƒç”¨ <code>onServiceConnected(ComponentName, IBinder)</code> æ–¹æ³•ï¼Œå°†Binderå¯¹è±¡ä¼ é€’ç»™å®¢æˆ·ç«¯ã€‚</li>
<li>å®¢æˆ·ç«¯è·å–Binderå¯¹è±¡åï¼Œå³å¯é€šè¿‡å…¶è°ƒç”¨Serviceçš„å…¬å¼€æ–¹æ³•ï¼Œå®Œæˆå®¢æˆ·ç«¯ä¸Serviceçš„ç›´æ¥é€šä¿¡é€šé“å»ºç«‹ã€‚</li>
</ol>
<h2 data-id="heading-15">å››ã€startæ¨¡å¼ä¸bindæ¨¡å¼çš„æ ¸å¿ƒå·®å¼‚</h2>
<p>ä¸¤ç§å¯åŠ¨æ¨¡å¼çš„æ ¸å¿ƒå·®å¼‚ä½“ç°åœ¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€é€šä¿¡èƒ½åŠ›ã€æµç¨‹é€»è¾‘ç­‰å¤šä¸ªç»´åº¦ï¼Œä»¥ä¸‹ä¸ºè¯¦ç»†å¯¹æ¯”ï¼š</p>













































<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>startæ¨¡å¼</th><th>bindæ¨¡å¼</th></tr></thead><tbody><tr><td>æ ¸å¿ƒç›®çš„</td><td>å¯åŠ¨ç‹¬ç«‹åå°ä»»åŠ¡ï¼Œæ— éœ€ç»„ä»¶é—´ç›´æ¥é€šä¿¡</td><td>å»ºç«‹å®¢æˆ·ç«¯ä¸Serviceçš„é€šä¿¡é€šé“ï¼Œè°ƒç”¨Serviceæ–¹æ³•</td></tr><tr><td>ç”Ÿå‘½å‘¨æœŸç‹¬ç«‹æ€§</td><td>ç‹¬ç«‹äºå¯åŠ¨ç»„ä»¶ï¼Œå¯åŠ¨åå³ä½¿ç»„ä»¶é”€æ¯ä»å¯è¿è¡Œï¼Œéœ€ä¸»åŠ¨åœæ­¢</td><td>ä¾èµ–ç»‘å®šå…³ç³»ï¼Œæ‰€æœ‰å®¢æˆ·ç«¯è§£ç»‘åè‡ªåŠ¨é”€æ¯ï¼Œæ— éœ€ä¸»åŠ¨åœæ­¢</td></tr><tr><td>å…³é”®å›è°ƒæ–¹æ³•</td><td>onCreate() â†’ onStartCommand() â†’ onDestroy()</td><td>onCreate() â†’ onBind() â†’ onUnbind() â†’ onDestroy()</td></tr><tr><td>é€šä¿¡èƒ½åŠ›</td><td>æ— ç›´æ¥é€šä¿¡èƒ½åŠ›ï¼Œéœ€é€šè¿‡å¹¿æ’­ã€EventBusç­‰é—´æ¥æ–¹å¼</td><td>æ”¯æŒç›´æ¥é€šä¿¡ï¼Œé€šè¿‡onBind()è¿”å›çš„Binderå¯¹è±¡äº¤äº’</td></tr><tr><td>AMSæ ¸å¿ƒæ•°æ®ç»“æ„</td><td>ä»…éœ€ServiceRecordè®°å½•ServiceçŠ¶æ€</td><td>éœ€ServiceRecord + ConnectionRecordï¼ˆç®¡ç†ç»‘å®šå…³ç³»ï¼‰</td></tr><tr><td>æµç¨‹æ ¸å¿ƒå·®å¼‚</td><td>åˆ›å»ºServiceåç›´æ¥è§¦å‘onStartCommand()æ‰§è¡Œä»»åŠ¡ï¼Œæ— ç»‘å®šç¯èŠ‚</td><td>åˆ›å»ºServiceåéœ€é€šè¿‡onBind()è¿”å›Binderï¼Œå†é€šè¿‡ServiceConnectionå›è°ƒå»ºç«‹é€šä¿¡</td></tr><tr><td>é‡å¤æ“ä½œæ•ˆæœ</td><td>å¤šæ¬¡è°ƒç”¨startService()ï¼Œä»…é¦–æ¬¡è§¦å‘onCreate()ï¼Œåç»­ä»…è§¦å‘onStartCommand()</td><td>å¤šæ¬¡ç»‘å®šåŒä¸€Serviceï¼Œä»…é¦–æ¬¡è§¦å‘onBind()ï¼Œåç»­å¤ç”¨ç»‘å®šå…³ç³»ï¼Œä¸é‡å¤åˆ›å»ºService</td></tr></tbody></table>
<h2 data-id="heading-16">äº”ã€æ€»ç»“</h2>
<p>ç»¼ä¸Šï¼ŒAndroid Serviceå¯åŠ¨æµç¨‹çš„æ ¸å¿ƒæ˜¯â€œåº”ç”¨è¿›ç¨‹å‘èµ·è¯·æ±‚â†’AMSç»Ÿç­¹è°ƒåº¦â†’åº”ç”¨è¿›ç¨‹æ‰§è¡ŒServiceç”Ÿå‘½å‘¨æœŸâ€çš„è·¨è¿›ç¨‹åä½œè¿‡ç¨‹ï¼Œå…¶ä¸­Binderæœºåˆ¶æ˜¯å®ç°åº”ç”¨å±‚ä¸ç³»ç»Ÿå±‚é€šä¿¡çš„å…³é”®ï¼ŒContextImplã€AMSã€ActivityThreadç­‰æ ¸å¿ƒç±»å…±åŒæ”¯æ’‘æµç¨‹è¿è½¬ã€‚</p>
<p>startæ¨¡å¼ä¸bindæ¨¡å¼çš„æ ¸å¿ƒå®šä½ä¸åŒï¼šstartæ¨¡å¼èšç„¦â€œç‹¬ç«‹åå°ä»»åŠ¡æ‰§è¡Œâ€ï¼Œç”Ÿå‘½å‘¨æœŸä¸ä¾èµ–å¯åŠ¨ç»„ä»¶ï¼›bindæ¨¡å¼èšç„¦â€œç»„ä»¶é—´é€šä¿¡â€ï¼Œç”Ÿå‘½å‘¨æœŸä¸ç»‘å®šå…³ç³»å¼ºå…³è”ã€‚å®é™…å¼€å‘ä¸­ï¼Œå¯æ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©å•ä¸€æ¨¡å¼ï¼Œæˆ–é‡‡ç”¨â€œå…ˆstartå¯åŠ¨Serviceä¿è¯åå°è¿è¡Œï¼Œå†bindå»ºç«‹é€šä¿¡â€çš„ç»„åˆæ¨¡å¼ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MySQLæ€§èƒ½çš„å®šæµ·ç¥é’ˆï¼šä¸‡å­—é•¿æ–‡å¸¦ä½ ç›˜é€ innodb_buffer_pool_size]]></title>    <link>https://juejin.cn/post/7591075684065001487</link>    <guid>https://juejin.cn/post/7591075684065001487</guid>    <pubDate>2026-01-04T07:19:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591075684065001487" data-draft-id="7590778284759334947" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MySQLæ€§èƒ½çš„å®šæµ·ç¥é’ˆï¼šä¸‡å­—é•¿æ–‡å¸¦ä½ ç›˜é€ innodb_buffer_pool_size"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-04T07:19:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¥å¥‡å°æ±¤åœ†"/> <meta itemprop="url" content="https://juejin.cn/user/1151943919285431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MySQLæ€§èƒ½çš„å®šæµ·ç¥é’ˆï¼šä¸‡å­—é•¿æ–‡å¸¦ä½ ç›˜é€ innodb_buffer_pool_size
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1151943919285431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¥å¥‡å°æ±¤åœ†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T07:19:37.000Z" title="Sun Jan 04 2026 07:19:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å…„å¼Ÿä»¬ï¼Œæˆ‘æ˜¯é¦™ç”Ÿäº«ITã€‚å…ˆé—®å¤§å®¶ä¸€ä¸ªçµé­‚æ‹·é—®ï¼šæ˜¯ä¸æ˜¯ç»å¸¸æœ‰äººå‘Šè¯‰ä½ ï¼Œ<code>innodb_buffer_pool_size</code>ç›´æ¥è®¾æˆç‰©ç†å†…å­˜çš„70%å°±è¡Œäº†ï¼Ÿä»Šå¤©æˆ‘å°±è¦å‘Šè¯‰ä½ ï¼Œè¿™ä¹ˆå¹²ï¼Œåæœ‰å…«ä¹è¦è¸©å‘ï¼</p>
<p>å‰é˜µå­æœ‰ä¸ªå…„å¼Ÿç«æ€¥ç«ç‡åœ°æ‰¾æˆ‘ï¼Œè¯´ä»–ä»¬ä¸€å°128Gå†…å­˜çš„ç”Ÿäº§æœåŠ¡å™¨ï¼Œå°±è·‘äº†ä¸€ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D268403535%26content_type%3DArticle%26match_order%3D1%26q%3DMySQL%2B8.0%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=268403535&amp;content_type=Article&amp;match_order=1&amp;q=MySQL+8.0&amp;zhida_source=entity" ref="nofollow noopener noreferrer">MySQL 8.0</a>ï¼Œç»“æœåº”ç”¨æ…¢å¾—åƒæ‹–æ‹‰æœºã€‚æˆ‘ä¸Šå»ä¸€çœ‹ï¼Œå¥½å®¶ä¼™ï¼Œ<code>innodb_buffer_pool_size</code>è®¾äº†100Gã€‚å†ä¸€æŸ¥ç³»ç»Ÿæ—¥å¿—ï¼Œç³»ç»Ÿé¢‘ç¹Swapï¼ˆå†…å­˜äº¤æ¢ï¼‰ï¼ŒOOM Killerï¼ˆå†…å­˜æº¢å‡ºæ€æ‰‹ï¼‰éƒ½å¿«æŠŠmysqldè¿›ç¨‹ç»™â€œç¥­å¤©â€äº†ã€‚æœ€åæŠŠ<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D268403535%26content_type%3DArticle%26match_order%3D1%26q%3DBuffer%2BPool%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=268403535&amp;content_type=Article&amp;match_order=1&amp;q=Buffer+Pool&amp;zhida_source=entity" ref="nofollow noopener noreferrer">Buffer Pool</a>é™ä¸‹æ¥ï¼Œæ€§èƒ½åè€Œä¸Šå»äº†ã€‚</p>
<p>çœ‹åˆ°äº†å§ï¼Ÿè¿™å°±æ˜¯å…¸å‹çš„å¥½å¿ƒåŠåäº‹ã€‚é—®é¢˜çš„æ ¹æºï¼Œå°±æ˜¯å¿½ç•¥äº†<strong>OSé¢„ç•™ã€å…¶ä»–è¿›ç¨‹å¼€é”€ã€ä»¥åŠMySQLè‡ªèº«çº¿ç¨‹å†…å­˜</strong>è¿™ä¸‰å¤§å—â€œæ— å½¢èµ„äº§â€ï¼Œç›²ç›®åœ°æŠŠå†…å­˜éƒ½ç»™äº†Buffer Poolï¼Œå¯¼è‡´äº†æ¿€çƒˆçš„å†…å­˜äº‰ç”¨ã€‚</p>
<p>è¿™ç¯‡ä¸è®²è™šçš„ï¼Œä»Šå¤©æˆ‘å°±å¸¦ä½ æŠŠ<code>innodb_buffer_pool_size</code>è¿™ä¸ªMySQLé‡Œæœ€æœ€æ ¸å¿ƒçš„å‚æ•°ï¼Œä»åº•å±‚åŸç†åˆ°å®æˆ˜æ¼”ç®—ï¼Œå†åˆ°çŠ¶æ€ç›‘æ§ï¼Œä»é‡Œåˆ°å¤–å½»åº•ç›˜é€ã€‚è®©ä½ ä¸ä»…ä¼šè®¾ï¼Œè¿˜çŸ¥é“ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾ï¼Œæ›´èƒ½ç›‘æ§å®ƒå·¥ä½œå¾—å¥½ä¸å¥½ã€‚</p>
<h2 data-id="heading-0">1 æ·±æ½œæ¦‚å¿µï¼šBuffer Poolä¸åªæ˜¯ä¸ªâ€œç¼“å­˜â€</h2>
<p>å¾ˆå¤šå…„å¼Ÿç®€å•åœ°æŠŠBuffer Poolç†è§£æˆä¸€ä¸ªâ€œç¼“å­˜â€ã€‚æ²¡é”™ï¼Œä½†ä¸å¤Ÿç²¾ç¡®ã€‚å®ƒä¸åªæ˜¯ç¼“å­˜ï¼Œå®ƒæ˜¯<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D268403535%26content_type%3DArticle%26match_order%3D1%26q%3DInnoDB%25E5%25AD%2598%25E5%2582%25A8%25E5%25BC%2595%25E6%2593%258E%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=268403535&amp;content_type=Article&amp;match_order=1&amp;q=InnoDB%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E&amp;zhida_source=entity" ref="nofollow noopener noreferrer">InnoDBå­˜å‚¨å¼•æ“</a>çš„<strong>æ ¸å¿ƒå‘½è„‰</strong>ï¼Œæ˜¯æ‰€æœ‰æ•°æ®äº¤äº’çš„ä¸­å¿ƒæ¢çº½ã€‚</p>
<p><strong>æœ¬è´¨æ˜¯ä¸ªå•¥ï¼š</strong> Â ä½ å¯ä»¥æŠŠBuffer Poolæƒ³è±¡æˆä¸€ä¸ªè¶…å¤§çš„ã€å¼€åœ¨å†…å­˜é‡Œçš„â€œ<strong>å›¾ä¹¦é¦†çƒ­é—¨å€Ÿé˜…åŒº</strong>â€ã€‚ç‰©ç†ç£ç›˜ä¸Šçš„æ•°æ®é¡µï¼ˆPageï¼‰å’Œç´¢å¼•é¡µï¼Œå°±åƒæ˜¯å›¾ä¹¦é¦†ä¹¦åº“é‡Œæˆåƒä¸Šä¸‡çš„ä¹¦ã€‚å½“MySQLéœ€è¦è¯»å–æˆ–ä¿®æ”¹æŸè¡Œæ•°æ®æ—¶ï¼Œå®ƒä¸æ˜¯æ¯æ¬¡éƒ½è·‘åˆ°é¥è¿œä¸”ç¼“æ…¢çš„â€œä¹¦åº“â€ï¼ˆç£ç›˜ï¼‰å»æ‰¾ï¼Œè€Œæ˜¯å…ˆæŠŠè¿™æœ¬ä¹¦æ‰€åœ¨çš„æ•´ä¸ªâ€œä¹¦é¡µâ€ï¼ˆPageï¼‰å€Ÿåˆ°è¿™ä¸ªå†…å­˜é‡Œçš„â€œçƒ­é—¨å€Ÿé˜…åŒºâ€ï¼ˆBuffer Poolï¼‰é‡Œã€‚åç»­çš„è¯»å†™æ“ä½œï¼Œç›´æ¥åœ¨è¿™ä¸ªâ€œå€Ÿé˜…åŒºâ€é‡Œå®Œæˆï¼Œé€Ÿåº¦å¿«åˆ°é£èµ·ã€‚</p>
<p>è¿™ä¸ªâ€œçƒ­é—¨å€Ÿé˜…åŒºâ€å†…éƒ¨ï¼Œæœ‰ä¸‰å¤§â€œç®¡å®¶â€åœ¨ç²¾å¯†åœ°åä½œï¼Œç¡®ä¿è¿ä½œæ•ˆç‡ï¼š</p>
<ul>
<li><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D268403535%26content_type%3DArticle%26match_order%3D1%26q%3DFree%2BList%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=268403535&amp;content_type=Article&amp;match_order=1&amp;q=Free+List&amp;zhida_source=entity" ref="nofollow noopener noreferrer">Free List</a>Â (ç©ºé—²é¡µé“¾è¡¨):</strong> Â è¿™å°±åƒå›¾ä¹¦é¦†é‡Œä¸€æ’æ’çš„<strong>ç©ºä¹¦æ¶</strong>ã€‚å½“éœ€è¦ä»ç£ç›˜åŠ è½½ä¸€ä¸ªæ–°çš„æ•°æ®é¡µï¼Œä½†Buffer Poolé‡Œåˆæ²¡åœ°æ–¹æ—¶ï¼ŒInnoDBå°±ä¼šä»Free Listé‡Œæ‰¾ä¸€ä¸ªç©ºé—²çš„ç¼“å­˜é¡µæ¥å­˜æ”¾ï¼Œç„¶åæŠŠè¿™ä¸ªç¼“å­˜é¡µä»Free Listä¸­ç§»é™¤ã€‚</li>
<li><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D268403535%26content_type%3DArticle%26match_order%3D1%26q%3DFlush%2BList%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=268403535&amp;content_type=Article&amp;match_order=1&amp;q=Flush+List&amp;zhida_source=entity" ref="nofollow noopener noreferrer">Flush List</a>Â (è„é¡µé“¾è¡¨):</strong> Â è¿™ä¸ªé“¾è¡¨é‡Œè®°å½•çš„ï¼Œéƒ½æ˜¯â€œè¢«è¯»è€…åˆ’è¿‡é‡ç‚¹ã€åšè¿‡ç¬”è®°çš„ä¹¦â€ï¼ˆè¢«ä¿®æ”¹è¿‡çš„æ•°æ®é¡µï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œè„é¡µâ€ï¼‰ã€‚è¿™äº›è„é¡µæœ€ç»ˆéœ€è¦è¢«å†™å›ç£ç›˜â€œä¹¦åº“â€è¿›è¡Œå½’æ¡£ã€‚Flush Listçš„å­˜åœ¨ï¼Œå°±æ˜¯ä¸ºäº†é«˜æ•ˆåœ°ç®¡ç†è¿™äº›è„é¡µï¼ŒInnoDBçš„åå°çº¿ç¨‹ä¼šå®šæœŸæ ¹æ®è¿™ä¸ªé“¾è¡¨ï¼ŒæŠŠæœ€è€çš„â€œç¬”è®°â€ï¼ˆæœ€å…ˆè¢«ä¿®æ”¹çš„è„é¡µï¼‰åˆ·å›ç£ç›˜ã€‚</li>
<li><strong>LRU List (æœ€è¿‘æœ€å°‘ä½¿ç”¨é“¾è¡¨):</strong> Â è¿™æ˜¯ä¸‰å¤§ç®¡å®¶é‡Œçš„çµé­‚äººç‰©ï¼å®ƒçš„æ ¸å¿ƒä»»åŠ¡å°±æ˜¯å†³å®šâ€œçƒ­é—¨å€Ÿé˜…åŒºâ€é‡Œå“ªäº›ä¹¦åº”è¯¥ç»§ç»­ç•™ç€ï¼Œå“ªäº›ä¹¦å› ä¸ºå¤ªä¹…æ²¡äººçœ‹ï¼Œåº”è¯¥è¢«æ·˜æ±°å›â€œä¹¦åº“â€ï¼Œä»è€Œè…¾å‡ºä½ç½®ç»™æ›´çƒ­é—¨çš„ä¹¦ã€‚</li>
</ul>
<blockquote>
<p>âš ï¸Â <strong>MySQL 8.0çš„LRUè¿›åŒ–ï¼š</strong> Â ä¼ ç»ŸLRUæœ‰ä¸ªè‡´å‘½ç¼ºé™·ï¼šå¦‚æœæ¥ä¸€ä¸ª<code>SELECT * FROM a_very_large_table;</code>ï¼ˆå…¨è¡¨æ‰«æï¼‰ï¼Œä¼šç¬é—´æŠŠå¤§é‡å†·æ•°æ®åŠ è½½è¿›æ¥ï¼Œå¯¼è‡´çœŸæ­£çš„çƒ­ç‚¹æ•°æ®ï¼ˆæ¯”å¦‚ç”¨æˆ·è¡¨ã€è®¢å•è¡¨ï¼‰è¢«æ— æƒ…åœ°â€œæŒ¤â€å‡ºå†…å­˜ï¼Œé€ æˆæ€§èƒ½ä¸¥é‡æŠ–åŠ¨ã€‚<br/>
ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒMySQL 8.0é‡‡ç”¨äº†æ›´æ™ºèƒ½çš„Â <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D268403535%26content_type%3DArticle%26match_order%3D1%26q%3DMidpoint%2BInsertion%2BStrategy%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=268403535&amp;content_type=Article&amp;match_order=1&amp;q=Midpoint+Insertion+Strategy&amp;zhida_source=entity" ref="nofollow noopener noreferrer">Midpoint Insertion Strategy</a></strong>ã€‚å®ƒæŠŠLRUé“¾è¡¨åˆ†æˆäº†ä¸¤ä¸ªåŒºåŸŸï¼š</p>
</blockquote>
<ul>
<li><strong>YoungåŒºåŸŸ (é»˜è®¤å 5/8):</strong> Â å­˜æ”¾çœŸæ­£é¢‘ç¹è¢«è®¿é—®çš„çƒ­ç‚¹æ•°æ®ã€‚</li>
<li><strong>OldåŒºåŸŸ (é»˜è®¤å 3/8):</strong> Â æ–°ä»ç£ç›˜è¯»å…¥çš„æ•°æ®é¡µä¼šå…ˆæ”¾åœ¨è¿™é‡Œã€‚</li>
</ul>
<p>æ•°æ®é¡µåªæœ‰åœ¨OldåŒºåŸŸè¢«å†æ¬¡è®¿é—®æ—¶ï¼Œæ‰æœ‰èµ„æ ¼è¿›å…¥YoungåŒºåŸŸï¼Œä»è€Œæœ‰æ•ˆåœ°é˜²æ­¢äº†å†·æ•°æ®â€œæ±¡æŸ“â€çƒ­ç‚¹ç¼“å­˜ã€‚è¿™ä¸ªæœºåˆ¶æå¤§åœ°æå‡äº†Buffer Poolåœ¨å¤æ‚æŸ¥è¯¢åœºæ™¯ä¸‹çš„ç¨³å®šæ€§ã€‚</p>
<p><strong>åŠ é€Ÿè¯»å†™çš„åŒé‡é­”åŠ›ï¼š</strong></p>
<p>æ€»ç»“ä¸€ä¸‹ï¼ŒBuffer Poolé€šè¿‡ä¸¤å¤§ç¥æŠ€æå‡æ€§èƒ½ï¼š</p>
<ol>
<li><strong>åŠ é€Ÿè¯» (ä¸€æ­¥ç™»å¤©):</strong> Â å½“ä½ è¦è¯»çš„æ•°æ®é¡µå·²ç»åœ¨Buffer Poolé‡Œæ—¶ï¼Œç›´æ¥ä»å†…å­˜è¿”å›ï¼Œè¿™å«â€œé€»è¾‘è¯»â€ï¼Œé€Ÿåº¦æ¯”ä»ç£ç›˜â€œç‰©ç†è¯»â€å¿«Nä¸ªæ•°é‡çº§ã€‚</li>
<li><strong>åŠ é€Ÿå†™ (ä»å®¹ä¸è¿«):</strong> Â å½“ä½ æ‰§è¡ŒUPDATEæˆ–INSERTæ—¶ï¼ŒInnoDBä¹Ÿä¸æ˜¯ç«‹åˆ»å†™ç£ç›˜ã€‚å®ƒä¼šå…ˆå†™<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D268403535%26content_type%3DArticle%26match_order%3D1%26q%3DRedo%2BLog%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=268403535&amp;content_type=Article&amp;match_order=1&amp;q=Redo+Log&amp;zhida_source=entity" ref="nofollow noopener noreferrer">Redo Log</a>ï¼ˆä¿è¯äº‹åŠ¡ä¸ä¸¢å¤±ï¼‰ï¼Œç„¶åä¿®æ”¹Buffer Poolé‡Œå¯¹åº”çš„æ•°æ®é¡µï¼ˆæŠŠé¡µå˜æˆâ€œè„é¡µâ€ï¼‰ï¼Œé©¬ä¸Šå°±ç»™ä½ è¿”å›æˆåŠŸäº†ã€‚çœŸæ­£çš„å†™ç›˜åŠ¨ä½œï¼Œç”±åå°çº¿ç¨‹æ ¹æ®Flush Listæ…¢æ…¢æ‚ æ‚ åœ°å¼‚æ­¥å®Œæˆã€‚è¿™æå¤§åœ°æå‡äº†å†™å…¥æ“ä½œçš„å“åº”é€Ÿåº¦ã€‚</li>
</ol>
<h2 data-id="heading-1">2 ç§‘å­¦è§„åˆ’ï¼šä½ çš„Buffer Poolåˆ°åº•è¯¥ç»™å¤šå¤§ï¼Ÿ</h2>
<p>æ±Ÿæ¹–ä¸Šæµä¼ çš„â€œç‰©ç†å†…å­˜çš„70%-80%â€æ˜¯ä¸ªéå¸¸ç²—ç³™çš„ç»éªŒå€¼ï¼Œåœ¨ä¸“ç”¨çš„æ•°æ®åº“æœåŠ¡å™¨ä¸Šæˆ–è®¸èƒ½è·‘ï¼Œä½†åœ¨èµ„æºç´§å¼ æˆ–æ··åˆéƒ¨ç½²çš„ç¯å¢ƒä¸‹ï¼Œå°±æ˜¯ä¸€é¢—å®šæ—¶ç‚¸å¼¹ã€‚ä¸‹é¢ï¼Œè·Ÿç€æˆ‘ä¸€æ­¥æ­¥ç§‘å­¦åœ°â€œç›˜â€å®ƒã€‚</p>
<h3 data-id="heading-2"><strong>ç›˜ç‚¹æ€»èµ„äº§</strong></h3>
<p>é¦–å…ˆï¼Œææ¸…æ¥šä½ çš„æœåŠ¡å™¨ä¸€å…±æœ‰å¤šå°‘ç‰©ç†å†…å­˜ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨RHEL 8æœåŠ¡å™¨ä¸Šæ‰§è¡Œ</span>
grep MemTotal /proc/meminfo
<span class="hljs-comment"># æˆ–è€…ç”¨æ›´ç›´è§‚çš„æ–¹å¼</span>
free -h
</code></pre>
<h3 data-id="heading-3"><strong>åˆ¨é™¤â€œç¡¬å¼€é”€â€</strong></h3>
<p>è¿™éƒ¨åˆ†æ˜¯æ–°æ‰‹æœ€å®¹æ˜“å¿½ç•¥çš„ï¼Œä¹Ÿæ˜¯å¯¼è‡´OOMçš„ç½ªé­ç¥¸é¦–ã€‚</p>
<ul>
<li><strong>æ“ä½œç³»ç»Ÿé¢„ç•™:</strong> Â æ— è®ºå¦‚ä½•ï¼Œä½ éƒ½å¾—ç»™æ“ä½œç³»ç»Ÿç•™å£é¥­åƒã€‚åœ¨RHEL 8è¿™æ ·çš„ç°ä»£Linuxç³»ç»Ÿä¸Šï¼Œå†…æ ¸ã€ç³»ç»Ÿè¿›ç¨‹ã€SSHè¿æ¥ç­‰éƒ½éœ€è¦å†…å­˜ã€‚<strong>ä¸€èˆ¬å»ºè®®è‡³å°‘ç•™å‡º 2GB åˆ° 4GB</strong>ã€‚</li>
<li><strong>å…¶ä»–å…³é”®è¿›ç¨‹:</strong> Â ä½ çš„æœåŠ¡å™¨ä¸Šé™¤äº†MySQLï¼Œè¿˜è·‘äº†å…¶ä»–ä¸œè¥¿å—ï¼Ÿæ¯”å¦‚ç›‘æ§Agent (Zabbix, Prometheus Node Exporter)ã€å¤‡ä»½å·¥å…·ã€ç”šè‡³æ˜¯åº”ç”¨æœ¬èº«ï¼Ÿå¿…é¡»ä¸ºå®ƒä»¬é¢„ç•™å‡ºç¨³å®šçš„å†…å­˜å ç”¨ã€‚</li>
<li><strong>MySQLè‡ªèº«çº¿ç¨‹å¼€é”€:</strong> Â è¿™æ˜¯å¤§å¤´ï¼Buffer Poolæ˜¯å…¨å±€å…±äº«çš„ï¼Œä½†æ¯ä¸ªå®¢æˆ·ç«¯è¿æ¥åˆ°MySQLï¼Œéƒ½ä¼šåˆ›å»ºè‡ªå·±çš„çº¿ç¨‹ï¼Œå¹¶åˆ†é…ç‹¬ç«‹çš„å†…å­˜åŒºåŸŸï¼Œå«<code>thread buffer</code>ã€‚è¿™éƒ¨åˆ†çš„<strong>æœ€å¤§ç†è®ºå†…å­˜æ¶ˆè€—</strong>è®¡ç®—å…¬å¼æ˜¯ï¼šÂ <code>æ€»çº¿ç¨‹å¼€é”€ â‰ˆ (key_buffer_size + sort_buffer_size + read_buffer_size + read_rnd_buffer_size + join_buffer_size + ...) * max_connections</code></li>
</ul>
<p>ä½ å¯ä»¥ç”¨ä¸‹é¢çš„SQLæ¥æŸ¥è¯¢è¿™äº›å‚æ•°çš„å€¼ï¼Œç„¶åä¼°ç®—ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">WHERE</span> Variable_name <span class="hljs-keyword">IN</span> (
    <span class="hljs-string">'key_buffer_size'</span>,
    <span class="hljs-string">'sort_buffer_size'</span>,
    <span class="hljs-string">'read_buffer_size'</span>,
    <span class="hljs-string">'read_rnd_buffer_size'</span>,
    <span class="hljs-string">'join_buffer_size'</span>,
    <span class="hljs-string">'tmp_table_size'</span>,
    <span class="hljs-string">'max_heap_table_size'</span>,
    <span class="hljs-string">'max_connections'</span>
);

<span class="hljs-comment">-- ç»“æœå€¼</span>
<span class="hljs-operator">+</span><span class="hljs-comment">----------------------+----------+</span>
<span class="hljs-operator">|</span> Variable_name        <span class="hljs-operator">|</span> <span class="hljs-keyword">Value</span>    <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">----------------------+----------+</span>
<span class="hljs-operator">|</span> join_buffer_size     <span class="hljs-operator">|</span> <span class="hljs-number">2097152</span>  <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span> key_buffer_size      <span class="hljs-operator">|</span> <span class="hljs-number">8388608</span>  <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span> max_connections      <span class="hljs-operator">|</span> <span class="hljs-number">1600</span>     <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span> max_heap_table_size  <span class="hljs-operator">|</span> <span class="hljs-number">16777216</span> <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span> read_buffer_size     <span class="hljs-operator">|</span> <span class="hljs-number">131072</span>   <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span> read_rnd_buffer_size <span class="hljs-operator">|</span> <span class="hljs-number">2097152</span>  <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span> sort_buffer_size     <span class="hljs-operator">|</span> <span class="hljs-number">2097152</span>  <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span> tmp_table_size       <span class="hljs-operator">|</span> <span class="hljs-number">16777216</span> <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">----------------------+----------+</span>
</code></pre>
<h3 data-id="heading-4"><strong>å¥—ç”¨ç²¾ç®—å…¬å¼</strong></h3>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºæ›´ç§‘å­¦çš„æ¨èå…¬å¼ï¼š</p>
<p><strong><code>innodb_buffer_pool_size = (æœåŠ¡å™¨æ€»å†…å­˜ - OSåŠå…¶ä»–è¿›ç¨‹é¢„ç•™ - MySQLæœ€å¤§ç†è®ºçº¿ç¨‹æ€»å¼€é”€) * 80%</code></strong></p>
<p>æœ€åçš„Â <code>* 80%</code>Â æ˜¯ä¸ºäº†ç•™å‡ºä¸€äº›é¢å¤–çš„bufferï¼Œåº”å¯¹ä¸€äº›MySQLå†…éƒ¨å…¶ä»–å†…å­˜å¼€é”€ï¼ˆå¦‚è‡ªé€‚åº”å“ˆå¸Œç´¢å¼•ã€é”ä¿¡æ¯ç­‰ï¼‰å’Œå†…å­˜çš„åŠ¨æ€æ³¢åŠ¨ã€‚</p>
<h3 data-id="heading-5"><strong>å®æˆ˜æ¼”ç»ƒ (64Gå†…å­˜æœåŠ¡å™¨)</strong></h3>
<p>æˆ‘ä»¬ä»¥ä¸€å°<strong>64GB</strong>å†…å­˜ã€<code>max_connections</code>è®¾ç½®ä¸º<strong>500</strong>çš„ä¸“ç”¨MySQLæœåŠ¡å™¨ä¸ºä¾‹ï¼Œæ‰‹æŠŠæ‰‹ç®—ä¸€éï¼š</p>
<blockquote>
<p>å¯ä»¥ä½¿ç”¨<code>SHOW GLOBAL STATUS LIKE 'Max_used_connections';</code>æŸ¥çœ‹æœ€å¤§ä½¿ç”¨è¿æ¥æ•°ä½œä¸ºå‚è€ƒ</p>
</blockquote>
<ol>
<li><strong>æ€»èµ„äº§:</strong> Â 64 GB</li>
<li><strong>åˆ¨é™¤ç¡¬å¼€é”€:</strong></li>
</ol>
<ul>
<li><strong>OSé¢„ç•™:</strong> Â æˆ‘ä»¬ä¿å®ˆä¸€ç‚¹ï¼Œç»™Â <code>4 GB</code>ã€‚</li>
<li><strong>å…¶ä»–è¿›ç¨‹:</strong> Â å‡è®¾æ˜¯ä¸“ç”¨DBæœåŠ¡å™¨ï¼Œåªæœ‰ä¸€äº›è½»é‡çº§ç›‘æ§ï¼Œé¢„ç•™Â <code>1 GB</code>ã€‚</li>
<li><strong>MySQLçº¿ç¨‹å¼€é”€:</strong></li>
<li>
<ul>
<li>
<p>å‡è®¾<code>sort_buffer_size=2M</code>,Â <code>read_buffer_size=2M</code>,Â <code>join_buffer_size=2M</code>,Â <code>read_rnd_buffer_size=2M</code>ï¼Œå…¶ä»–å¿½ç•¥ä¸è®¡ã€‚</p>
</li>
<li>
<p>æ¯ä¸ªè¿æ¥çš„çº¿ç¨‹å¼€é”€å¤§çº¦æ˜¯Â <code>(2+2+2+2)M = 8M</code>ã€‚</p>
</li>
<li>
<p>æœ€å¤§ç†è®ºçº¿ç¨‹æ€»å¼€é”€ =Â <code>8M * 500 = 4000M â‰ˆ 4 GB</code>ã€‚</p>
</li>
</ul>
</li>
</ul>
<ol>
<li><strong>å¥—ç”¨å…¬å¼:</strong></li>
</ol>
<ul>
<li>
<p>å¯ç”¨äºBPçš„å†…å­˜ =Â <code>(64 GB - 4 GB (OS) - 1 GB (å…¶ä»–) - 4 GB (çº¿ç¨‹)) * 80%</code></p>
</li>
<li>
<p><code>= 55 GB * 0.8 = 44 GB</code></p>
</li>
</ul>
<p>çœ‹ï¼Œç®—ä¸‹æ¥æ˜¯<strong>44GB</strong>ï¼è€Œä¸æ˜¯ç®€å•ç²—æš´çš„Â <code>64 * 0.7 = 44.8GB</code>Â æˆ–Â <code>64 * 0.8 = 51.2GB</code>ã€‚è™½ç„¶ç»“æœå¯èƒ½æ¥è¿‘ï¼Œä½†æˆ‘ä»¬çš„æ¨å¯¼è¿‡ç¨‹æ›´ä¸¥è°¨ï¼Œèƒ½è®©ä½ åœ¨ä»»ä½•ç¯å¢ƒä¸‹éƒ½åšåˆ°å¿ƒä¸­æœ‰æ•°ã€‚</p>
<blockquote>
<p>âš ï¸Â <strong>é¿å‘æŒ‡å—:</strong> Â å¦‚æœä½ çš„æ•°æ®åº“æ€»å¤§å°ï¼ˆæ•°æ®+ç´¢å¼•ï¼‰è¿œå°äºè®¡ç®—å‡ºçš„å»ºè®®å€¼ï¼Œé‚£ä¹Ÿåˆ«æµªè´¹å†…å­˜ï¼æ¯”å¦‚ï¼Œä½ æ•°æ®åº“æ€»å…±æ‰10Gï¼Œé‚£ä¹ˆåˆ†é…ä¸€ä¸ª12Gåˆ°15Gçš„Buffer Poolå°±ç»°ç»°æœ‰ä½™äº†ï¼Œå¤šå‡ºæ¥çš„å†…å­˜è¿˜ç»™æ“ä½œç³»ç»Ÿåšæ–‡ä»¶ç¼“å­˜ï¼ˆFile Cacheï¼‰å¯èƒ½æ•ˆæœæ›´å¥½ã€‚<br/>
<strong>æŸ¥è¯¢æ•°æ®åº“æ€»å¤§å°SQL:</strong><br/>
SELECT table_schema, ROUND(SUM(data_length + index_length) / 1024 / 1024 / 1024, 2) AS 'Total Size(GB)' FROM information_schema.TABLES WHERE table_schema NOT IN ('information_schema', 'mysql', 'performance_schema', 'sys') GROUP BY table_schema;</p>
</blockquote>
<h2 data-id="heading-6">3 çŠ¶æ€è¯Šæ–­ï¼šæ€ä¹ˆçœ‹Buffer Poolå¹²æ´»æ˜¯å¦å–åŠ›ï¼Ÿ</h2>
<p>å…‰è®¾ç½®å¥½è¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬å¾—å­¦ä¼šç»™Buffer Poolâ€œä½“æ£€â€ï¼Œçœ‹å®ƒå·¥ä½œçŠ¶æ€æ˜¯å¦å¥åº·ã€‚</p>
<p><strong>æ ¸å¿ƒä½“æ£€å‘½ä»¤:</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> <span class="hljs-keyword">GLOBAL</span> STATUS <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'Innodb_buffer_pool%'</span>;

<span class="hljs-string">'+---------------------------------------+--------------------------------------------------+
| Variable_name                         | Value                                            |
+---------------------------------------+--------------------------------------------------+
| Innodb_buffer_pool_dump_status        | Dumping of buffer pool not started               |
| Innodb_buffer_pool_load_status        | Buffer pool(s) load completed at 230823 21:43:56 |
| Innodb_buffer_pool_resize_status      |                                                  |
| Innodb_buffer_pool_pages_data         | 1672019                                          |
| Innodb_buffer_pool_bytes_data         | 27394359296                                      |
| Innodb_buffer_pool_pages_dirty        | 166119                                           |
| Innodb_buffer_pool_bytes_dirty        | 2721693696                                       |
| Innodb_buffer_pool_pages_flushed      | 3818142423                                       |
| Innodb_buffer_pool_pages_free         | 8164                                             |
| Innodb_buffer_pool_pages_misc         | 23753                                            |
| Innodb_buffer_pool_pages_total        | 1703936                                          |
| Innodb_buffer_pool_read_ahead_rnd     | 0                                                |
| Innodb_buffer_pool_read_ahead         | 6896571983                                       |
| Innodb_buffer_pool_read_ahead_evicted | 166626120                                        |
| Innodb_buffer_pool_read_requests      | 6462817685820                                    |
| Innodb_buffer_pool_reads              | 51111749541                                      |
| Innodb_buffer_pool_wait_free          | 144656819                                        |
| Innodb_buffer_pool_write_requests     | 62852160249                                      |
+---------------------------------------+--------------------------------------------------+
</span></code></pre>
<p>è¿™ä¸ªå‘½ä»¤ä¼šè¿”å›ä¸€å¤§å †çŠ¶æ€å€¼ï¼Œæˆ‘ä»¬é‡ç‚¹å…³æ³¨ä»¥ä¸‹å‡ ä¸ªé»„é‡‘æŒ‡æ ‡ï¼š</p>
<ul>
<li>
<p><strong>å‘½ä¸­ç‡ (Hit Rate):</strong> Â è¿™æ˜¯æœ€é‡è¦çš„æŒ‡æ ‡ï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚å®ƒåæ˜ äº†æŸ¥è¯¢è¯·æ±‚åœ¨å†…å­˜ä¸­ç›´æ¥å‘½ä¸­çš„æ¦‚ç‡ã€‚</p>
</li>
<li>
<ul>
<li>
<p><strong>è®¡ç®—å…¬å¼:</strong> <code>(1 - Innodb_buffer_pool_reads / Innodb_buffer_pool_read_requests) * 100%</code></p>
</li>
<li>
<p><code>Innodb_buffer_pool_reads</code>: ä»ç£ç›˜ç‰©ç†è¯»å–çš„æ¬¡æ•°ã€‚</p>
</li>
<li>
<p><code>Innodb_buffer_pool_read_requests</code>: æ€»çš„é€»è¾‘è¯»è¯·æ±‚æ¬¡æ•°ã€‚</p>
</li>
<li>
<p><strong>å¥åº·æ ‡å‡†:</strong> Â å¯¹äºä¸€ä¸ªå¥åº·çš„ç”Ÿäº§ç³»ç»Ÿï¼Œ<strong>å‘½ä¸­ç‡åº”ç¨³å®šé«˜äº 99.5%</strong> ã€‚å¦‚æœä½äºè¿™ä¸ªå€¼ï¼Œé€šå¸¸æ„å‘³ç€Buffer Poolå¤ªå°ï¼Œæˆ–è€…æœ‰å¤§é‡éé¢„æœŸçš„å…¨è¡¨æ‰«æåœ¨è™å¾…ä½ çš„æ•°æ®åº“ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>è„é¡µæ¯”ä¾‹ (Dirty Pages):</strong></p>
</li>
<li>
<ul>
<li>
<p><strong>ç›¸å…³æŒ‡æ ‡:</strong> <code>Innodb_buffer_pool_pages_dirty</code>Â (è„é¡µæ•°é‡) å’ŒÂ <code>Innodb_buffer_pool_pages_total</code>Â (æ€»é¡µæ•°)ã€‚</p>
</li>
<li>
<p><strong>è§£è¯»:</strong> Â è„é¡µæ¯”ä¾‹Â <code>(dirty / total)</code>Â åæ˜ äº†å¾…åˆ·ç›˜æ•°æ®çš„å‹åŠ›ã€‚å¦‚æœè¿™ä¸ªæ¯”ä¾‹æŒç»­å¾ˆé«˜ï¼ˆæ¯”å¦‚è¶…è¿‡20%-30%ï¼‰ï¼Œå¯èƒ½æ„å‘³ç€ç£ç›˜I/Oå†™å…¥èƒ½åŠ›è·Ÿä¸ä¸Šæ•°æ®çš„ä¿®æ”¹é€Ÿåº¦ï¼Œä½ éœ€è¦æ£€æŸ¥ç£ç›˜æ€§èƒ½æˆ–è°ƒæ•´åˆ·ç›˜ç›¸å…³çš„å‚æ•°ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>ç©ºé—²é¡µ (Free Pages):</strong></p>
</li>
<li>
<ul>
<li>
<p><strong>ç›¸å…³æŒ‡æ ‡:</strong> <code>Innodb_buffer_pool_pages_free</code>ã€‚</p>
</li>
<li>
<p><strong>è§£è¯»:</strong> Â å¦‚æœè¿™ä¸ªå€¼é•¿æœŸæ¥è¿‘äº0ï¼Œè¯´æ˜Buffer Poolå·²ç»åŸºæœ¬æ»¡äº†ï¼Œå‡ ä¹æ²¡æœ‰ç©ºé—²ç©ºé—´æ¥ç¼“å­˜æ–°çš„æ•°æ®é¡µã€‚è¿™æ˜¯ä¸€ä¸ªæ˜ç¡®çš„ä¿¡å·ï¼šä½ çš„Buffer Poolå¯èƒ½ä¸å¤Ÿç”¨äº†ï¼Œéœ€è¦è€ƒè™‘æ‰©å®¹äº†ã€‚</p>
</li>
</ul>
</li>
</ul>
<h2 data-id="heading-7">4 é…ç½®å®æ“ï¼šåŠ¨é™ç»“åˆï¼Œä¼˜é›…è°ƒæ•´</h2>
<p>çŸ¥é“äº†æ€ä¹ˆç®—ã€æ€ä¹ˆçœ‹ï¼Œæœ€åå°±æ˜¯æ€ä¹ˆæ”¹ã€‚</p>
<h3 data-id="heading-8"><strong>é™æ€é…ç½® (æ¨è)</strong></h3>
<p>è¿™æ˜¯æœ€å¸¸ç”¨ã€æœ€å®‰å…¨çš„æ–¹å¼ï¼Œé€šè¿‡ä¿®æ”¹MySQLçš„é…ç½®æ–‡ä»¶ã€‚</p>
<ol>
<li><strong>æ‰¾åˆ°é…ç½®æ–‡ä»¶:</strong> Â åœ¨RHEL 8ä¸Šï¼Œé€šå¸¸æ˜¯Â <code>/etc/my.cnf</code>ã€‚</li>
<li><strong>å…ˆå¤‡ä»½ï¼å…ˆå¤‡ä»½ï¼å…ˆå¤‡ä»½ï¼</strong> Â è¿™æ˜¯è€å¸æœºçš„é»„é‡‘ä¹ æƒ¯ã€‚</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cp</span> /etc/my.cnf /etc/my.cnf.bak_$(<span class="hljs-built_in">date</span> +%F)
</code></pre>
<ol>
<li><strong>ä¿®æ”¹é…ç½®:</strong> Â åœ¨Â <code>[mysqld]</code>Â æ®µè½ä¸‹ï¼Œæ·»åŠ æˆ–ä¿®æ”¹Â <code>innodb_buffer_pool_size</code>ã€‚å•ä½å¯ä»¥æ˜¯M(å…†)æˆ–G(G)ã€‚</li>
</ol>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[mysqld]</span>
<span class="hljs-comment"># ... å…¶ä»–é…ç½® ...</span>
<span class="hljs-attr">innodb_buffer_pool_size</span> = <span class="hljs-number">44</span>G
<span class="hljs-comment"># ... å…¶ä»–é…ç½® ...</span>
</code></pre>
<ol>
<li><strong>é‡å¯æœåŠ¡:</strong> Â è¿™ä¸ªä¿®æ”¹å¿…é¡»é‡å¯MySQLæœåŠ¡æ‰èƒ½ç”Ÿæ•ˆã€‚</li>
</ol>
<pre><code class="hljs">systemctl restart mysqld
</code></pre>
<h3 data-id="heading-9"><strong>åŠ¨æ€è°ƒæ•´ (MySQL 8.0æ–°ç‰¹æ€§)</strong></h3>
<p>MySQL 8.0æ”¯æŒåœ¨çº¿åŠ¨æ€è°ƒæ•´Buffer Poolå¤§å°ï¼Œ<strong>æ— éœ€é‡å¯</strong>ï¼Œéå¸¸é…·ï¼</p>
<pre><code class="hljs language-ini" lang="ini">SET GLOBAL <span class="hljs-attr">innodb_buffer_pool_size</span> = <span class="hljs-number">47244640256</span><span class="hljs-comment">; -- æ³¨æ„ï¼Œå•ä½æ˜¯å­—èŠ‚(Bytes)</span>
</code></pre>
<blockquote>
<p>âš ï¸Â <strong>é‡è¦æé†’:</strong></p>
</blockquote>
<ul>
<li>
<p><strong>å•ä½æ˜¯å­—èŠ‚:</strong> Â åŠ¨æ€è°ƒæ•´æ—¶ï¼Œå€¼å¿…é¡»æ˜¯å­—èŠ‚ï¼Œåˆ«æé”™äº†ã€‚<code>44G = 44 * 1024 * 1024 * 1024 = 47244640256</code>ã€‚</p>
</li>
<li>
<p><strong>å—Chunkå¤§å°é™åˆ¶:</strong> Â è°ƒæ•´çš„ç›®æ ‡å€¼å¿…é¡»æ˜¯Â <code>innodb_buffer_pool_chunk_size</code>Â *Â <code>innodb_buffer_pool_instances</code>Â çš„æ•´æ•°å€ã€‚ä½ å¯ä»¥ç”¨Â <code>SHOW VARIABLES LIKE 'innodb_buffer_pool_chunk_size';</code>Â æŸ¥çœ‹Chunkå¤§å°ã€‚</p>
</li>
<li>
<p><strong>è¿‡ç¨‹è€—èµ„æº:</strong> Â è°ƒæ•´è¿‡ç¨‹ï¼ˆç‰¹åˆ«æ˜¯è°ƒå¤§ï¼‰ä¼šå‘æ“ä½œç³»ç»Ÿç”³è¯·å†…å­˜ï¼Œå¯èƒ½ä¼šå¯¼è‡´çŸ­æš‚çš„æ€§èƒ½æŠ–åŠ¨ã€‚<strong>ä¸¥ç¦åœ¨ä¸šåŠ¡é«˜å³°æœŸåœ¨çº¿è°ƒæ•´ç”Ÿäº§ç¯å¢ƒçš„Buffer Poolï¼</strong></p>
</li>
</ul>
<h3 data-id="heading-10"><strong>å¤šå®ä¾‹ (<code>innodb_buffer_pool_instances</code>)</strong></h3>
<p>å½“ä½ çš„Buffer Poolå¤§äº1GBæ—¶ï¼Œå»ºè®®å¼€å¯å¤šå®ä¾‹æ¥å‡å°‘å†…éƒ¨é”çš„ç«äº‰ï¼Œæå‡å¹¶å‘æ€§èƒ½ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[mysqld]</span>
<span class="hljs-attr">innodb_buffer_pool_size</span> = <span class="hljs-number">44</span>G
<span class="hljs-attr">innodb_buffer_pool_instances</span> = <span class="hljs-number">8</span>
</code></pre>
<p><code>instances</code>Â çš„æ•°é‡å¯ä»¥è®¾ç½®ä¸º8ï¼Œæˆ–è€…ä¸ä½ çš„æœåŠ¡å™¨CPUæ ¸æ•°æ¥è¿‘çš„å€¼ã€‚</p>
<h2 data-id="heading-11">æ€»ç»“</h2>
<p>å…„å¼Ÿä»¬ï¼Œ<code>innodb_buffer_pool_size</code>Â æ— ç–‘æ˜¯MySQLæ€§èƒ½è°ƒä¼˜çš„â€œç¬¬ä¸€å…³â€ï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€å…³ã€‚æŠŠå®ƒè®¾ç½®å¥½ï¼ŒåŸºæœ¬ä¸Šä½ çš„MySQLæ€§èƒ½å°±æˆåŠŸäº†ä¸€åŠã€‚</p>
<p>ä½†è®°ä½ï¼Œå‚æ•°è°ƒä¼˜æ˜¯ä¸€ä¸ª<strong>æŒç»­è§‚å¯Ÿã€æµ‹é‡ã€è°ƒæ•´</strong>çš„é—­ç¯è¿‡ç¨‹ï¼Œæ²¡æœ‰ä¸€åŠ³æ°¸é€¸çš„â€œä¸‡é‡‘æ²¹â€é…ç½®ã€‚ä»Šå¤©ä½ ç®—å‡ºæ¥44Gæ˜¯åˆç†çš„ï¼Œå¯èƒ½ä¸‹ä¸ªæœˆä¸šåŠ¡é‡ç¿»å€ï¼Œæ•°æ®é‡æš´å¢ï¼Œè¿™ä¸ªå€¼å°±éœ€è¦é‡æ–°è¯„ä¼°ã€‚</p>
<p>æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« ï¼Œä¸ä»…æ˜¯è®©ä½ å­¦ä¼šå¦‚ä½•â€œæŠ„ä½œä¸šâ€ï¼ŒæŠŠå‚æ•°é…å¯¹ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œè®©ä½ ç†è§£å‚æ•°èƒŒåçš„åŸç†ï¼ŒæŒæ¡ç§‘å­¦çš„åˆ†ææ–¹æ³•ã€‚è¿™æ ·ï¼Œæ— è®ºä½ æœªæ¥é‡åˆ°å¤šä¹ˆå¤æ‚çš„æ€§èƒ½é—®é¢˜ï¼Œéƒ½èƒ½å…·å¤‡ç‹¬ç«‹åˆ†æå’Œè§£å†³çš„åº•æ°”ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å…¬ç§åˆ†æ˜ï¼šä¸ºä»€ä¹ˆä½ ä¸åº”è¯¥å…±ç”¨ SSH Keyï¼ˆé™„å¤šè´¦å·æœ€ä½³å®è·µæŒ‡å—ï¼‰]]></title>    <link>https://juejin.cn/post/7591293897084092466</link>    <guid>https://juejin.cn/post/7591293897084092466</guid>    <pubDate>2026-01-04T07:32:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591293897084092466" data-draft-id="7591066233670991898" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å…¬ç§åˆ†æ˜ï¼šä¸ºä»€ä¹ˆä½ ä¸åº”è¯¥å…±ç”¨ SSH Keyï¼ˆé™„å¤šè´¦å·æœ€ä½³å®è·µæŒ‡å—ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,SSH,Git"/> <meta itemprop="datePublished" content="2026-01-04T07:32:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çš®è›‹å°ç²¾çµ"/> <meta itemprop="url" content="https://juejin.cn/user/219558056559278"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å…¬ç§åˆ†æ˜ï¼šä¸ºä»€ä¹ˆä½ ä¸åº”è¯¥å…±ç”¨ SSH Keyï¼ˆé™„å¤šè´¦å·æœ€ä½³å®è·µæŒ‡å—ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/219558056559278/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çš®è›‹å°ç²¾çµ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T07:32:25.000Z" title="Sun Jan 04 2026 07:32:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¼€å‘è€…çš„æ—¥å¸¸å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é¢ä¸´ä¸€ä¸ªé€‰æ‹©ï¼šä¸ªäººçš„ GitHub å’Œå…¬å¸çš„ GitLabï¼Œåˆ°åº•æ˜¯ç”¨åŒä¸€æŠŠ SSH Keyï¼Œè¿˜æ˜¯åˆ†å¼€ç”Ÿæˆï¼Ÿ</p>
<p>è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„ <strong>â€œä¾¿åˆ©æ€§ vs å®‰å…¨æ€§â€</strong> çš„åšå¼ˆã€‚æœ¬æ–‡å°†ä»å®‰å…¨åŸç†å‡ºå‘ï¼Œåˆ†æå…±ç”¨ Key çš„éšæ‚£ï¼Œå¹¶æä¾›ä¸€å¥—åªéœ€é…ç½®ä¸€æ¬¡çš„â€œä¼˜é›…åˆ†æ²»â€æ–¹æ¡ˆã€‚</p>
<hr/>
<h2 data-id="heading-0">âš ï¸ æ ¸å¿ƒç»“è®º</h2>
<p>æŠ€æœ¯ä¸Šï¼šå®Œå…¨å¯è¡Œ</p>
<p>SSH åè®®åªéªŒè¯å…¬ç§é’¥åŒ¹é…ï¼Œå¹¶ä¸å…³å¿ƒè¿™æŠŠé’¥åŒ™è¿˜å¼€äº†å“ªæ‰‡é—¨ã€‚ä½ å¯ä»¥ä¸€æŠŠé’¥åŒ™é€šåƒæ‰€æœ‰ Git å¹³å°ï¼Œä»£ç æäº¤æ²¡æœ‰ä»»ä½•éšœç¢ã€‚</p>
<p>å®‰å…¨ä¸Šï¼šæåº¦å±é™©ï¼ˆä¸æ¨èï¼‰</p>
<p>å…±ç”¨ SSH Key è¿åäº†å®‰å…¨é¢†åŸŸçš„â€œæœ€å°æƒé™åŸåˆ™â€å’Œâ€œæ•…éšœéš”ç¦»åŸåˆ™â€ã€‚</p>
<hr/>
<h2 data-id="heading-1">ğŸ›‘ ä¸ºä»€ä¹ˆä¸å»ºè®®å…±ç”¨ï¼Ÿï¼ˆä¸‰å¤§éšæ‚£ï¼‰</h2>
<p>è™½ç„¶å…±ç”¨èƒ½çœå»å‡ åˆ†é’Ÿçš„é…ç½®æ—¶é—´ï¼Œä½†å®ƒç•™ä¸‹çš„éšæ‚£å¦‚åŒåœ¨å®¶é‡Œå’Œå…¬å¸ä¿é™©æŸœä¸Šè£…äº†åŒä¸€æŠŠé”ã€‚</p>
<h3 data-id="heading-2">1. çˆ†ç‚¸åŠå¾„å¤±æ§ï¼ˆSecurity Blast Radiusï¼‰</h3>
<p>è¿™æ˜¯æœ€è‡´å‘½çš„é£é™©ã€‚å¦‚æœä½ çš„ä¸ªäººç”µè„‘ä¸­æ¯’ã€ç§é’¥è¢«çªƒï¼Œæˆ–è€…ä½ ä¸å°å¿ƒå°†ç§é’¥è¯¯ä¼ åˆ°äº‘ç«¯ï¼š</p>
<ul>
<li><strong>åæœï¼š</strong> é»‘å®¢ä¸ä»…æ”»ç ´äº†ä½ çš„ä¸ªäºº GitHubï¼Œè¿˜èƒ½é¡ºè—¤æ‘¸ç“œç›´æ¥åˆ©ç”¨è¯¥ Key è®¿é—®å…¬å¸çš„å†…éƒ¨ä»£ç åº“ã€‚</li>
<li><strong>å½±å“ï¼š</strong> åŸæœ¬åªæ˜¯ä¸ªäººè´¦å·æ³„æ¼ï¼Œç¬é—´å‡çº§ä¸ºä¸¥é‡çš„å…¬å¸å®‰å…¨äº‹æ•…ã€‚</li>
</ul>
<h3 data-id="heading-3">2. ç¦»èŒäº¤æ¥çš„æ³¥æ½­</h3>
<p>å½“ä½ ç¦»å¼€å…¬å¸æ—¶ï¼Œç†è®ºä¸Šå¿…é¡»ä½œåºŸæ‰€æœ‰ç”¨äºå…¬å¸æƒé™çš„å‡­è¯ã€‚</p>
<ul>
<li><strong>å¦‚æœä½ å…±ç”¨ Keyï¼š</strong> ä½ ä¸ä»…è¦åœ¨å…¬å¸ç³»ç»Ÿåˆ æ‰å…¬é’¥ï¼Œè¿˜è¢«è¿«è¦åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šé‡æ–°ç”Ÿæˆæ–° Keyï¼Œå†å» GitHub é‡æ–°ä¸Šä¼ ï¼Œå¹¶ä¿®æ”¹æœ¬åœ°æ‰€æœ‰é¡¹ç›®çš„é…ç½®ã€‚</li>
<li><strong>å¦‚æœä½ ä¸æ¢ï¼š</strong> å…¬å¸å®¡è®¡æ—¥å¿—é‡Œè‹¥å‡ºç°è¿™æŠŠ Key çš„æ´»åŠ¨è®°å½•ï¼Œä¼šæ··æ·†â€œå‰å‘˜å·¥â€ä¸â€œä¸ªäººå¼€å‘è€…â€çš„èº«ä»½ï¼Œå¸¦æ¥åˆè§„é£é™©ã€‚</li>
</ul>
<h3 data-id="heading-4">3. èµ„äº§å½’å±æƒäº‰è®®</h3>
<p>è®¸å¤šå…¬å¸çš„ã€Šä¿¡æ¯å®‰å…¨åè®®ã€‹è§„å®šï¼š<strong>è®¿é—®å…¬å¸èµ„äº§çš„å‡­è¯å¿…é¡»ä¸“ç”¨äºå…¬å¸ä¸šåŠ¡</strong>ã€‚å…¬ç§æ··ç”¨å¯èƒ½åœ¨æ³•å¾‹å±‚é¢è¿åä½ ç­¾ç½²çš„å…¥èŒåè®®ã€‚</p>
<hr/>
<h2 data-id="heading-5">ğŸ›  æœ€ä½³å®è·µï¼šå¦‚ä½•ä¼˜é›…åœ°åˆ†å¼€é…ç½®ï¼Ÿ</h2>
<p>æœ€æ¨èçš„åšæ³•æ˜¯ï¼šç”Ÿæˆä¸¤å¯¹ä¸åŒçš„ Keyï¼Œé€šè¿‡ config æ–‡ä»¶è‡ªåŠ¨è·¯ç”±ã€‚</p>
<p>ï¼ˆæ³¨ï¼šä»¥ä¸‹æ•™ç¨‹åŸºäº macOS/Linux ç¯å¢ƒï¼Œæ¨èä½¿ç”¨æ›´å®‰å…¨çŸ­å°çš„ ed25519 ç®—æ³•ï¼‰</p>
<h3 data-id="heading-6">ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆä¸¤æŠŠä¸åŒçš„é’¥åŒ™</h3>
<p>åœ¨ç”Ÿæˆæ—¶ï¼Œä¸è¦ä¸€è·¯å›è½¦ï¼Œé€šè¿‡ <code>-f</code> å‚æ•°æŒ‡å®šä¸åŒçš„æ–‡ä»¶åã€‚</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># 1. ç”Ÿæˆä¸ªäººç”¨çš„ Key (GitHub)</span>
ssh-keygen -t ed25519 -C <span class="hljs-string">"personal@email.com"</span> -f ~/.ssh/id_ed25519_github

<span class="hljs-comment"># 2. ç”Ÿæˆå…¬å¸ç”¨çš„ Key (GitLab)</span>
ssh-keygen -t ed25519 -C <span class="hljs-string">"work@company.com"</span> -f ~/.ssh/id_ed25519_gitlab
</code></pre>
<blockquote>
<p><strong>å»ºè®®ï¼š</strong> ä¸ºäº†å®‰å…¨ï¼Œç”Ÿæˆæ—¶å»ºè®®è®¾ç½® passphraseï¼ˆå¯†ç ï¼‰ã€‚Mac ç”¨æˆ·åç»­å¯ä»¥é€šè¿‡ç³»ç»Ÿé’¥åŒ™ä¸²å®ç°å…å¯†è°ƒç”¨ã€‚</p>
</blockquote>
<h3 data-id="heading-7">ç¬¬äºŒæ­¥ï¼šé…ç½® SSH è·¯ç”±ï¼ˆæ ¸å¿ƒæ­¥éª¤ï¼‰</h3>
<p>åˆ›å»ºæˆ–ç¼–è¾‘ <code>~/.ssh/config</code> æ–‡ä»¶ï¼Œå‘Šè¯‰ç³»ç»Ÿï¼šâ€œå» GitHub ç”¨è¿™æŠŠé”ï¼Œå»å…¬å¸ç”¨é‚£æŠŠé”â€ã€‚</p>
<pre><code class="hljs language-Bash" lang="Bash">vim ~/.ssh/config
</code></pre>
<p><strong>åœ¨è¯¥æ–‡ä»¶ä¸­å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</strong></p>
<pre><code class="hljs language-Plaintext" lang="Plaintext"># --- ä¸ªäºº GitHub é…ç½® ---
Host github.com
    HostName github.com
    User git                    # æ³¨æ„ï¼šè¿™é‡Œå¿…é¡»æ˜¯ gitï¼Œä¸èƒ½å¡«ä½ çš„ç”¨æˆ·å
    IdentityFile ~/.ssh/id_ed25519_github
    UseKeychain yes             # Mac ä¸“ç”¨ï¼šåˆ©ç”¨é’¥åŒ™ä¸²è®°ä½å¯†ç 
    AddKeysToAgent yes          # è‡ªåŠ¨æ·»åŠ åˆ° agent

# --- å…¬å¸ GitLab é…ç½® ---
# å‡è®¾å…¬å¸ Git åœ°å€æ˜¯ git.company.com
Host git.company.com
    HostName git.company.com
    User git                    # æ³¨æ„ï¼šè¿™é‡Œä¹Ÿä¿æŒ git
    IdentityFile ~/.ssh/id_ed25519_gitlab
    UseKeychain yes             # Mac ä¸“ç”¨
    AddKeysToAgent yes
</code></pre>
<h3 data-id="heading-8">ç¬¬ä¸‰æ­¥ï¼šä¸Šä¼ å…¬é’¥</h3>
<p>æœ€åï¼Œå°†ä»¥ <code>.pub</code> ç»“å°¾çš„å…¬é’¥å†…å®¹åˆ†åˆ«è´´åˆ°å¯¹åº”çš„åå°ã€‚</p>
<ul>
<li><strong>GitHub:</strong> å¤åˆ¶ <code>id_ed25519_github.pub</code> -&gt; GitHub Settings -&gt; SSH Keys</li>
<li><strong>GitLab:</strong> å¤åˆ¶ <code>id_ed25519_gitlab.pub</code> -&gt; GitLab Settings -&gt; SSH Keys</li>
</ul>
<h3 data-id="heading-9">ç¬¬å››æ­¥ï¼šæµ‹è¯•è¿æ¥</h3>
<p>é…ç½®å®Œæˆåï¼Œå¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤æµ‹è¯•ï¼ˆæ³¨æ„ä¸è¦ç”¨ <code>git clone</code>ï¼Œç›´æ¥ç”¨ <code>ssh -T</code> æµ‹è¯•æ¡æ‰‹ï¼‰ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># æµ‹è¯• GitHub</span>
ssh -T git@github.com
<span class="hljs-comment"># é¢„æœŸè¾“å‡ºï¼šHi username! You've successfully authenticated...</span>

<span class="hljs-comment"># æµ‹è¯•å…¬å¸ GitLab</span>
ssh -T git@git.company.com
<span class="hljs-comment"># é¢„æœŸè¾“å‡ºï¼šWelcome to GitLab, @workname!</span>
</code></pre>
<hr/>
<h2 data-id="heading-10">ğŸ’¡ æ€»ç»“</h2>
<ul>
<li><strong>å¦‚æœä½ åªæ˜¯ä¸ºäº†çœäº‹ï¼š</strong> æš‚æ—¶æ··ç”¨ç¡®å®ä»£ç èƒ½è·‘ï¼Œä½†ä½ åœ¨æ‹¿å®‰å…¨æ€§èµŒåšã€‚</li>
<li><strong>å¦‚æœä½ æƒ³åšä¸ªä¸“ä¸šçš„å¼€å‘è€…ï¼š</strong> å¼ºçƒˆå»ºè®®èŠ± 5 åˆ†é’ŸæŠŠå®ƒä»¬åˆ†å¼€ã€‚</li>
</ul>
<p><strong>å…¬ç§åˆ†æ˜ï¼Œä¸ä»…æ˜¯ä¿æŠ¤å…¬å¸çš„èµ„äº§ï¼Œæ›´æ˜¯ä¿æŠ¤ä½ è‡ªå·±èŒä¸šç”Ÿæ¶¯çš„æœ€ä½³æ–¹å¼ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MyBatisæ˜ å°„å™¨æ¨¡å—è¯¦è§£]]></title>    <link>https://juejin.cn/post/7591304659131138086</link>    <guid>https://juejin.cn/post/7591304659131138086</guid>    <pubDate>2026-01-04T07:33:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591304659131138086" data-draft-id="7590469811408945179" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MyBatisæ˜ å°„å™¨æ¨¡å—è¯¦è§£"/> <meta itemprop="keywords" content="MyBatis"/> <meta itemprop="datePublished" content="2026-01-04T07:33:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¨ä¸­é£˜è¡çš„è®°å¿†"/> <meta itemprop="url" content="https://juejin.cn/user/694547077666606"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MyBatisæ˜ å°„å™¨æ¨¡å—è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/694547077666606/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¨ä¸­é£˜è¡çš„è®°å¿†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T07:33:55.000Z" title="Sun Jan 04 2026 07:33:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä»æºç å±‚é¢æ·±å…¥ç†è§£MyBatis Mapperçš„è®¾è®¡ä¸å®ç°</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€MyBatisæ•´ä½“æ¶æ„ä¸æ˜ å°„å™¨æ¨¡å—</h2>
<p>åœ¨æ·±å…¥æ˜ å°„å™¨æ¨¡å—ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£MyBatisçš„æ•´ä½“æ¶æ„ï¼Œä»¥åŠæ˜ å°„å™¨æ¨¡å—åœ¨å…¶ä¸­çš„é‡è¦åœ°ä½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d998a12ef98f4a55ae7c66ea134914a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768116835&amp;x-signature=uhRWk7utzEkhyO58TuHgEZBmiWw%3D" alt="" loading="lazy"/></p>
<p>ä»æ¶æ„å›¾å¯ä»¥çœ‹å‡ºï¼ŒMyBatisé‡‡ç”¨äº†åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œè€Œ<strong>æ˜ å°„å™¨æ¨¡å—ï¼ˆMapper Interfaceï¼‰ä½äºæ¥å£å±‚</strong>ï¼Œæ˜¯ç”¨æˆ·ä¸MyBatisäº¤äº’çš„ä¸»è¦å…¥å£ã€‚å®ƒé€šè¿‡æ¥å£å®šä¹‰æ•°æ®åº“æ“ä½œï¼Œç»“åˆXMLæˆ–æ³¨è§£é…ç½®SQLè¯­å¥ï¼Œåˆ©ç”¨åŠ¨æ€ä»£ç†æŠ€æœ¯è‡ªåŠ¨å®ç°æ¥å£ï¼Œè®©å¼€å‘è€…ä»¥é¢å‘å¯¹è±¡çš„æ–¹å¼æ“ä½œæ•°æ®åº“ã€‚</p>
<h2 data-id="heading-1">1.1 æ˜ å°„å™¨æ¨¡å—çš„æ ¸å¿ƒèŒè´£</h2>
<p>æ˜ å°„å™¨æ¨¡å—ä¸»è¦æ‰¿æ‹…ä»¥ä¸‹æ ¸å¿ƒèŒè´£ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">âœ… å®šä¹‰æ•°æ®åº“æ“ä½œæ¥å£ <span class="hljs-operator">-</span> é€šè¿‡Javaæ¥å£å®šä¹‰CRUDæ“ä½œ
âœ… <span class="hljs-keyword">SQL</span>è¯­å¥æ˜ å°„ <span class="hljs-operator">-</span> å°†æ¥å£æ–¹æ³•ä¸<span class="hljs-keyword">SQL</span>è¯­å¥å…³è”
âœ… å‚æ•°æ˜ å°„ <span class="hljs-operator">-</span> å°†æ–¹æ³•å‚æ•°è½¬æ¢ä¸º<span class="hljs-keyword">SQL</span>å‚æ•°
âœ… ç»“æœæ˜ å°„ <span class="hljs-operator">-</span> å°†æŸ¥è¯¢ç»“æœæ˜ å°„ä¸ºJavaå¯¹è±¡
âœ… åŠ¨æ€ä»£ç†å®ç° <span class="hljs-operator">-</span> è‡ªåŠ¨ç”Ÿæˆæ¥å£å®ç°ç±»
</code></pre>
<h2 data-id="heading-2">1.2 ä¸ºä»€ä¹ˆéœ€è¦Mapperï¼Ÿ</h2>
<p>ä¼ ç»Ÿçš„JDBCç¼–ç¨‹å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">//ä¼ ç»ŸJDBCæ–¹å¼
String <span class="hljs-attr">sql</span> = <span class="hljs-string">"SELECT * FROM t_user WHERE id = ?"</span><span class="hljs-comment">;</span>
PreparedStatement <span class="hljs-attr">stmt</span> = conn.prepareStatement(sql)<span class="hljs-comment">;</span>
stmt.setInt(1, userId)<span class="hljs-comment">;</span>
ResultSet <span class="hljs-attr">rs</span> = stmt.executeQuery()<span class="hljs-comment">;</span>
// æ‰‹åŠ¨è§£æResultSetå¹¶æ˜ å°„ä¸ºå¯¹è±¡...
</code></pre>
<p>è¿™ç§æ–¹å¼çš„é—®é¢˜ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-number">1</span>ã€<span class="hljs-keyword">SQL</span>åˆ†æ•£åœ¨ä»£ç ä¸­ï¼Œéš¾ä»¥ç»´æŠ¤
<span class="hljs-number">2</span>ã€å‚æ•°è®¾ç½®å’Œç»“æœæ˜ å°„éƒ½æ˜¯æ‰‹å·¥æ“ä½œ
<span class="hljs-number">3</span>ã€å®¹æ˜“å‡ºç°ç±»å‹è½¬æ¢é”™è¯¯
<span class="hljs-number">4</span>ã€ä»£ç é‡å¤åº¦é«˜
</code></pre>
<p>ä½¿ç”¨Mapperåï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">//Mapperæ–¹å¼</span>
<span class="hljs-meta">@Select("SELECT * FROM t_user WHERE id = #{id}")</span>
User <span class="hljs-title function_">selectById</span><span class="hljs-params">(Long id)</span>;

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> userMapper.selectById(<span class="hljs-number">1L</span>);
</code></pre>
<p>ä¼˜åŠ¿ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">âœ… <span class="hljs-keyword">SQL</span>ä¸ä»£ç åˆ†ç¦»ï¼Œæ˜“äºç»´æŠ¤
âœ… è‡ªåŠ¨å‚æ•°æ˜ å°„å’Œç»“æœæ˜ å°„
âœ… ç±»å‹å®‰å…¨
âœ… ä»£ç ç®€æ´
</code></pre>
<h2 data-id="heading-3">1.3 Mapperçš„ä½¿ç”¨æ–¹å¼</h2>
<p>MyBatisæ”¯æŒä¸¤ç§Mapperé…ç½®æ–¹å¼ï¼š</p>




















<table><thead><tr><th>é…ç½®æ–¹å¼</th><th>è¯´æ˜</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>XMLé…ç½®</td><td>SQLè¯­å¥åœ¨XMLæ–‡ä»¶ä¸­</td><td>å¤æ‚SQLã€éœ€è¦åŠ¨æ€SQL</td></tr><tr><td>æ³¨è§£é…ç½®</td><td>SQLè¯­å¥åœ¨æ³¨è§£ä¸­</td><td>ç®€å•SQLã€å¿«é€Ÿå¼€å‘</td></tr></tbody></table>
<h2 data-id="heading-4">äºŒã€Mapperæ¥å£æ¶æ„</h2>
<p>MyBatisçš„æ˜ å°„å™¨æ¨¡å—é‡‡ç”¨äº†æ¥å£+é…ç½®çš„è®¾è®¡æ¨¡å¼ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75c8e50cccba47ea8982290ff203ea76~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768116835&amp;x-signature=kj5%2Fsl1CSgdPimZOABaV2eFLm%2Bo%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">2.1 Mapperæ¥å£å®šä¹‰</h2>
<p>Mapperæ˜¯ä¸€ä¸ª<strong>æ™®é€šçš„Javaæ¥å£ï¼Œæ— éœ€å®ç°ç±»</strong>ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">interface</span> <span class="hljs-selector-tag">UserMapper</span> {
    <span class="hljs-comment">// æŸ¥è¯¢å•ä¸ªå¯¹è±¡</span>
    <span class="hljs-selector-tag">User</span> <span class="hljs-selector-tag">selectById</span>(Long id);

    <span class="hljs-comment">// æŸ¥è¯¢åˆ—è¡¨</span>
    <span class="hljs-selector-tag">List</span>&lt;<span class="hljs-selector-tag">User</span>&gt; <span class="hljs-selector-tag">selectAll</span>();

    <span class="hljs-comment">// æ’å…¥</span>
    <span class="hljs-selector-tag">int</span> <span class="hljs-selector-tag">insert</span>(User user);

    <span class="hljs-comment">// æ›´æ–°</span>
    <span class="hljs-selector-tag">int</span> <span class="hljs-selector-tag">update</span>(User user);

    <span class="hljs-comment">// åˆ é™¤</span>
    <span class="hljs-selector-tag">int</span> <span class="hljs-selector-tag">deleteById</span>(Long id);

    <span class="hljs-comment">// å¤æ‚æŸ¥è¯¢</span>
    <span class="hljs-selector-tag">List</span>&lt;<span class="hljs-selector-tag">User</span>&gt; <span class="hljs-selector-tag">selectByCondition</span>(<span class="hljs-variable">@Param</span>(<span class="hljs-string">"name"</span>) String name,
                                  <span class="hljs-variable">@Param</span>(<span class="hljs-string">"age"</span>) Integer age);
}
</code></pre>
<h2 data-id="heading-6">2.2 Mapperæ¥å£ç‰¹ç‚¹</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-number">1</span>ï¸âƒ£ æ— éœ€å®ç°ç±» - <span class="hljs-title class_">MyBatis</span>é€šè¿‡åŠ¨æ€ä»£ç†è‡ªåŠ¨ç”Ÿæˆå®ç°
<span class="hljs-number">2</span>ï¸âƒ£ æ–¹æ³•åä¸<span class="hljs-variable constant_">SQL</span> <span class="hljs-variable constant_">ID</span>å¯¹åº” - æ¥å£æ–¹æ³•åå³ä¸º<span class="hljs-title class_">MappedStatement</span>çš„<span class="hljs-variable constant_">ID</span>
<span class="hljs-number">3</span>ï¸âƒ£ å‚æ•°çµæ´» - æ”¯æŒå•å‚æ•°ã€å¤šå‚æ•°ã€å¯¹è±¡å‚æ•°
<span class="hljs-number">4</span>ï¸âƒ£ è¿”å›å€¼å¤šæ · - æ”¯æŒå•å¯¹è±¡ã€é›†åˆã€<span class="hljs-title class_">Map</span>ç­‰
</code></pre>
<h2 data-id="heading-7">2.3 MapperRegistryæ³¨å†Œä¸­å¿ƒ</h2>
<p>MyBatisç»´æŠ¤äº†Mapperæ¥å£çš„æ³¨å†Œä¸­å¿ƒï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MapperRegistry</span> {
    <span class="hljs-comment">// Configurationå¯¹è±¡</span>
    <span class="hljs-keyword">private</span> final <span class="hljs-title class_">Configuration</span> config;
    <span class="hljs-comment">// Mapperæ¥å£ä¸ä»£ç†å·¥å‚çš„æ˜ å°„</span>
    <span class="hljs-keyword">private</span> final <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">Class</span>&lt;?&gt;, <span class="hljs-title class_">MapperProxyFactory</span>&lt;?&gt;&gt; knownMappers = 
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">MapperRegistry</span>(<span class="hljs-title class_">Configuration</span> config) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span> = config;
    }

    <span class="hljs-comment">// æ·»åŠ Mapperæ¥å£</span>
    <span class="hljs-keyword">public</span> &lt;T&gt; <span class="hljs-built_in">void</span> <span class="hljs-title function_">addMapper</span>(<span class="hljs-params">Class&lt;T&gt; <span class="hljs-keyword">type</span></span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span>.<span class="hljs-title function_">isInterface</span>()) {
            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">hasMapper</span>(<span class="hljs-keyword">type</span>)) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BindingException</span>(
                    <span class="hljs-string">"Type "</span> + <span class="hljs-keyword">type</span> + <span class="hljs-string">" is already known to the MapperRegistry."</span>
                );
            }
            <span class="hljs-built_in">boolean</span> loadCompleted = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// åˆ›å»ºMapperProxyFactory</span>
                knownMappers.<span class="hljs-title function_">put</span>(<span class="hljs-keyword">type</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">MapperProxyFactory</span>&lt;&gt;(<span class="hljs-keyword">type</span>));
                <span class="hljs-comment">// è§£æMapperæ³¨è§£</span>
                <span class="hljs-title class_">MapperAnnotationBuilder</span> parser = 
                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">MapperAnnotationBuilder</span>(config, <span class="hljs-keyword">type</span>);
                parser.<span class="hljs-title function_">parse</span>();
                loadCompleted = <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">finally</span> {
                <span class="hljs-keyword">if</span> (!loadCompleted) {
                    knownMappers.<span class="hljs-title function_">remove</span>(<span class="hljs-keyword">type</span>);
                }
            }
        }
    }

    <span class="hljs-comment">// è·å–Mapperå®ä¾‹</span>
    <span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">getMapper</span>(<span class="hljs-params">Class&lt;T&gt; <span class="hljs-keyword">type</span>, SqlSession sqlSession</span>) {
        final <span class="hljs-title class_">MapperProxyFactory</span>&lt;T&gt; mapperProxyFactory = 
            (<span class="hljs-title class_">MapperProxyFactory</span>&lt;T&gt;) knownMappers.<span class="hljs-title function_">get</span>(<span class="hljs-keyword">type</span>);
        <span class="hljs-keyword">if</span> (mapperProxyFactory == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BindingException</span>(
                <span class="hljs-string">"Type "</span> + <span class="hljs-keyword">type</span> + <span class="hljs-string">" is not known to the MapperRegistry."</span>
            );
        }
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> mapperProxyFactory.<span class="hljs-title function_">newInstance</span>(sqlSession);
        } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">Exception</span> e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BindingException</span>(
                <span class="hljs-string">"Error getting mapper instance. Cause: "</span> + e, e
            );
        }
    }

    <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å·²æ³¨å†Œ</span>
    <span class="hljs-keyword">public</span> &lt;T&gt; <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">hasMapper</span>(<span class="hljs-params">Class&lt;T&gt; <span class="hljs-keyword">type</span></span>) {
        <span class="hljs-keyword">return</span> knownMappers.<span class="hljs-title function_">containsKey</span>(<span class="hljs-keyword">type</span>);
    }

    <span class="hljs-comment">// è·å–æ‰€æœ‰Mapperæ¥å£</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Collection</span>&lt;<span class="hljs-title class_">Class</span>&lt;?&gt;&gt; <span class="hljs-title function_">getMappers</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Collections</span>.<span class="hljs-title function_">unmodifiableCollection</span>(knownMappers.<span class="hljs-title function_">keySet</span>());
    }
}
</code></pre>
<h2 data-id="heading-8">ä¸‰ã€SQLè¯­å¥æ˜ å°„</h2>
<p>MyBatisæä¾›äº†çµæ´»çš„SQLæ˜ å°„æ–¹å¼ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bdbb120167124078a7130ed8b114d4e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768116835&amp;x-signature=AhiaxNkP8QTM239HDTa0UfDNzq4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-9">3.1 XMLé…ç½®æ–¹å¼</h2>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span> ?&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">mapper</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span>
    <span class="hljs-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">"com.example.mapper.UserMapper"</span>&gt;</span>

    <span class="hljs-comment">&lt;!--ç»“æœæ˜ å°„ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"BaseResultMap"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"com.example.entity.User"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"id"</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"id"</span> <span class="hljs-attr">jdbcType</span>=<span class="hljs-string">"BIGINT"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">jdbcType</span>=<span class="hljs-string">"VARCHAR"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">jdbcType</span>=<span class="hljs-string">"VARCHAR"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"age"</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"age"</span> <span class="hljs-attr">jdbcType</span>=<span class="hljs-string">"INTEGER"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"create_time"</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"createTime"</span> 
                <span class="hljs-attr">jdbcType</span>=<span class="hljs-string">"TIMESTAMP"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span>

    <span class="hljs-comment">&lt;!--æŸ¥è¯¢å•ä¸ªç”¨æˆ· --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"selectById"</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">"BaseResultMap"</span>&gt;</span>
        SELECT id, name, email, age, create_time
        FROM t_user
        WHERE id = #{id}
    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ· --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"selectAll"</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">"BaseResultMap"</span>&gt;</span>
        SELECT id, name, email, age, create_time
        FROM t_user
        ORDER BY id
    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- æ’å…¥ç”¨æˆ· --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"insert"</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">"com.example.entity.User"</span> 
            <span class="hljs-attr">useGeneratedKeys</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">keyProperty</span>=<span class="hljs-string">"id"</span>&gt;</span>
        INSERT INTO t_user (name, email, age, create_time)
        VALUES (#{name}, #{email}, #{age}, NOW())
    <span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span>

    <span class="hljs-comment">&lt;!--æ›´æ–°ç”¨æˆ· --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"update"</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">"com.example.entity.User"</span>&gt;</span>
        UPDATE t_user
        SET name = #{name},
            email = #{email},
            age = #{age}
        WHERE id = #{id}
    <span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span>

    <span class="hljs-comment">&lt;!--åˆ é™¤ç”¨æˆ· --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">delete</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"deleteById"</span>&gt;</span>
        DELETE FROM t_user
        WHERE id = #{id}
    <span class="hljs-tag">&lt;/<span class="hljs-name">delete</span>&gt;</span>

    <span class="hljs-comment">&lt;!--åŠ¨æ€SQLæŸ¥è¯¢ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"selectByCondition"</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">"BaseResultMap"</span>&gt;</span>
        SELECT id, name, email, age, create_time
        FROM t_user
        <span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">"name != null and name != ''"</span>&gt;</span>
                AND name LIKE CONCAT('%', #{name}, '%')
            <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">"age != null"</span>&gt;</span>
                AND age = #{age}
            <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span>
        ORDER BY id
    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span>
</code></pre>


















































<table><thead><tr><th>å…ƒç´ </th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>select</td><td>æŸ¥è¯¢è¯­å¥</td><td>...</td></tr><tr><td>insert</td><td>æ’å…¥è¯­å¥</td><td>...</td></tr><tr><td>update</td><td>æ›´æ–°è¯­å¥</td><td>...</td></tr><tr><td>delete</td><td>åˆ é™¤è¯­å¥</td><td>...</td></tr><tr><td>resultMap</td><td>ç»“æœæ˜ å°„</td><td>...</td></tr><tr><td>sql</td><td>å¯é‡ç”¨çš„SQLç‰‡æ®µ</td><td>...</td></tr><tr><td>cache</td><td>ç¼“å­˜é…ç½®</td><td/></tr><tr><td>cache-ref</td><td>å¼•ç”¨ç¼“å­˜</td><td/></tr></tbody></table>
<h2 data-id="heading-10">3.2 æ³¨è§£é…ç½®æ–¹å¼</h2>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">interface</span> <span class="hljs-selector-tag">UserMapper</span> {

    <span class="hljs-variable">@Select</span>(<span class="hljs-string">"SELECT * FROM t_user WHERE id = #{id}"</span>)
    <span class="hljs-variable">@Results</span>(id = <span class="hljs-string">"userResult"</span>, value = {
        <span class="hljs-variable">@Result</span>(property = <span class="hljs-string">"id"</span>, column = <span class="hljs-string">"id"</span>, id = true),
        <span class="hljs-variable">@Result</span>(property = <span class="hljs-string">"name"</span>, column = <span class="hljs-string">"name"</span>),
        <span class="hljs-variable">@Result</span>(property = <span class="hljs-string">"email"</span>, column = <span class="hljs-string">"email"</span>),
        <span class="hljs-variable">@Result</span>(property = <span class="hljs-string">"age"</span>, column = <span class="hljs-string">"age"</span>),
        <span class="hljs-variable">@Result</span>(property = <span class="hljs-string">"createTime"</span>, column = <span class="hljs-string">"create_time"</span>)
    })
    User <span class="hljs-built_in">selectById</span>(Long id);

    <span class="hljs-variable">@Select</span>(<span class="hljs-string">"SELECT * FROM t_user ORDER BY id"</span>)
    List&lt;User&gt; <span class="hljs-built_in">selectAll</span>();

    <span class="hljs-variable">@Insert</span>(<span class="hljs-string">"INSERT INTO t_user (name, email, age, create_time) "</span> +
            <span class="hljs-string">"VALUES (#{name}, #{email}, #{age}, NOW())"</span>)
    <span class="hljs-variable">@Options</span>(useGeneratedKeys = true, keyProperty = <span class="hljs-string">"id"</span>)
    int <span class="hljs-built_in">insert</span>(User user);

    <span class="hljs-variable">@Update</span>(<span class="hljs-string">"UPDATE t_user SET name = #{name}, email = #{email}, "</span> +
            <span class="hljs-string">"age = #{age} WHERE id = #{id}"</span>)
    int <span class="hljs-built_in">update</span>(User user);

    <span class="hljs-variable">@Delete</span>(<span class="hljs-string">"DELETE FROM t_user WHERE id = #{id}"</span>)
    int <span class="hljs-built_in">deleteById</span>(Long id);

    <span class="hljs-variable">@Select</span>(<span class="hljs-string">"&lt;script&gt;"</span> +
            <span class="hljs-string">"SELECT * FROM t_user "</span> +
            <span class="hljs-string">"&lt;where&gt;"</span> +
            <span class="hljs-string">"&lt;if test='name != null'&gt;"</span> +
            <span class="hljs-string">"AND name LIKE CONCAT('%', #{name}, '%')"</span> +
            <span class="hljs-string">"&lt;/if&gt;"</span> +
            <span class="hljs-string">"&lt;if test='age != null'&gt;AND age = #{age}&lt;/if&gt;"</span> +
            <span class="hljs-string">"&lt;/where&gt;"</span> +
            <span class="hljs-string">"&lt;/script&gt;"</span>)
    List&lt;User&gt; <span class="hljs-built_in">selectByCondition</span>(<span class="hljs-variable">@Param</span>(<span class="hljs-string">"name"</span>) String name, 
                                  <span class="hljs-variable">@Param</span>(<span class="hljs-string">"age"</span>) Integer age);
}
</code></pre>
<h2 data-id="heading-11">3.3 æ··åˆé…ç½®æ–¹å¼</h2>
<p>XMLå’Œæ³¨è§£å¯ä»¥æ··åˆä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-xml" lang="xml">public interface UserMapper {
    //æ³¨è§£æ–¹å¼ï¼šç®€å•æŸ¥è¯¢
    @Select("SELECT * FROM t_user WHERE id = #{id}")
    User selectById(Long id);

    //XMLæ–¹å¼ï¼šå¤æ‚æŸ¥è¯¢
    List<span class="hljs-tag">&lt;<span class="hljs-name">User</span>&gt;</span> selectByCondition(UserQuery query);
}
<span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">"com.example.mapper.UserMapper"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- å¤æ‚æŸ¥è¯¢ä½¿ç”¨XML --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"selectByCondition"</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">"BaseResultMap"</span>&gt;</span>
        SELECT * FROM t_user
        <span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">"name != null"</span>&gt;</span>
                AND name LIKE CONCAT('%', #{name}, '%')
            <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">"age != null"</span>&gt;</span>
                AND age = #{age}
            <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span>
</code></pre>
<h2 data-id="heading-12">å››ã€åŠ¨æ€ä»£ç†å®ç°</h2>
<p>MyBatisé€šè¿‡JDKåŠ¨æ€ä»£ç†è‡ªåŠ¨å®ç°Mapperæ¥å£ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e2714b0021d488fb25a9c490468ba56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768116835&amp;x-signature=XPKSrAFbSmIz4O54Pd8ltK0%2Bt7o%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-13">4.1 MapperProxyFactoryä»£ç†å·¥å‚</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MapperProxyFactory</span>&lt;T&gt; {
    <span class="hljs-comment">// Mapperæ¥å£ç±»å‹</span>
    <span class="hljs-keyword">private</span> final <span class="hljs-title class_">Class</span>&lt;T&gt; mapperInterface;
    <span class="hljs-comment">// æ–¹æ³•ç¼“å­˜</span>
    <span class="hljs-keyword">private</span> final <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">Method</span>, <span class="hljs-title class_">MapperMethod</span>&gt; methodCache = 
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">MapperProxyFactory</span>(<span class="hljs-title class_">Class</span>&lt;T&gt; mapperInterface) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">mapperInterface</span> = mapperInterface;
    }

    <span class="hljs-comment">//åˆ›å»ºä»£ç†å®ä¾‹</span>
    <span class="hljs-keyword">public</span> T <span class="hljs-title function_">newInstance</span>(<span class="hljs-params">SqlSession sqlSession</span>) {
        final <span class="hljs-title class_">MapperProxy</span>&lt;T&gt; mapperProxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MapperProxy</span>&lt;&gt;(
            sqlSession, mapperInterface, methodCache
        );
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">newInstance</span>(mapperProxy);
    }

    <span class="hljs-meta">@SuppressWarnings</span>(<span class="hljs-string">"unchecked"</span>)
    <span class="hljs-keyword">protected</span> T <span class="hljs-title function_">newInstance</span>(<span class="hljs-params">MapperProxy&lt;T&gt; mapperProxy</span>) {
        <span class="hljs-comment">// ä½¿ç”¨JDKåŠ¨æ€ä»£ç†åˆ›å»ºä»£ç†å¯¹è±¡</span>
        <span class="hljs-keyword">return</span> (T) <span class="hljs-title class_">Proxy</span>.<span class="hljs-title function_">newProxyInstance</span>(
            mapperInterface.<span class="hljs-title function_">getClassLoader</span>(),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Class</span>[]{mapperInterface},
            mapperProxy
        );
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Class</span>&lt;T&gt; <span class="hljs-title function_">getMapperInterface</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> mapperInterface;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">Method</span>, <span class="hljs-title class_">MapperMethod</span>&gt; <span class="hljs-title function_">getMethodCache</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> methodCache;
    }
}
</code></pre>
<h2 data-id="heading-14">4.2 MapperProxyä»£ç†ç±»</h2>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MapperProxy</span>&lt;<span class="hljs-type">T</span>&gt; <span class="hljs-title">implements</span> <span class="hljs-title">InvocationHandler</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> SqlSession sqlSession;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Class&lt;T&gt; mapperInterface;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;Method, MapperMethod&gt; methodCache;

    <span class="hljs-keyword">public</span> MapperProxy(SqlSession sqlSession, Class&lt;T&gt; mapperInterface, 
                       Map&lt;Method, MapperMethod&gt; methodCache) {
        <span class="hljs-keyword">this</span>.sqlSession = sqlSession;
        <span class="hljs-keyword">this</span>.mapperInterface = mapperInterface;
        <span class="hljs-keyword">this</span>.methodCache = methodCache;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object invoke(Object proxy, Method method, Object[] args) 
        throws Throwable {
        <span class="hljs-comment">// 1.å¦‚æœæ˜¯Objectç±»çš„æ–¹æ³•ï¼Œç›´æ¥æ‰§è¡Œ</span>
        <span class="hljs-keyword">if</span> (Object.<span class="hljs-keyword">class</span>.equals(method.getDeclaringClass())) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> method.invoke(<span class="hljs-keyword">this</span>, args);
            } <span class="hljs-keyword">catch</span> (Throwable t) {
                <span class="hljs-keyword">throw</span> ExceptionUtil.unwrapThrowable(t);
            }
        }

        <span class="hljs-comment">//2.è·å–MapperMethodå¹¶æ‰§è¡Œ</span>
        <span class="hljs-keyword">final</span> MapperMethod mapperMethod = cachedMapperMethod(method);
        <span class="hljs-keyword">return</span> mapperMethod.execute(sqlSession, args);
    }

    <span class="hljs-comment">//ç¼“å­˜MapperMethod</span>
    <span class="hljs-keyword">private</span> MapperMethod cachedMapperMethod(Method method) {
        <span class="hljs-keyword">return</span> methodCache.computeIfAbsent(method, 
            k -&gt; new MapperMethod(mapperInterface, method, 
                                  sqlSession.getConfiguration())
        );
    }
}
</code></pre>
<h2 data-id="heading-15">4.3 MapperMethodæ–¹æ³•æ‰§è¡Œå™¨</h2>
<pre><code class="hljs language-ini" lang="ini">public class MapperMethod {
    // SqlCommandå°è£…äº†SQLå‘½ä»¤ä¿¡æ¯
    private final SqlCommand command<span class="hljs-comment">;</span>
    // MethodSignatureå°è£…äº†æ–¹æ³•ç­¾åä¿¡æ¯
    private final MethodSignature method<span class="hljs-comment">;</span>

    public MapperMethod(Class&lt;?&gt; mapperInterface, Method method, 
                       Configuration config) {
        <span class="hljs-attr">this.command</span> = new SqlCommand(config, mapperInterface, method)<span class="hljs-comment">;</span>
        <span class="hljs-attr">this.method</span> = new MethodSignature(config, mapperInterface, method)<span class="hljs-comment">;</span>
    }

    public Object execute(SqlSession sqlSession, Object<span class="hljs-section">[]</span> args) {
        Object result<span class="hljs-comment">;</span>

        switch (command.getType()) {
            case INSERT: {
                //æ’å…¥æ“ä½œ
                Object <span class="hljs-attr">param</span> = method.convertArgsToSqlCommandParam(args)<span class="hljs-comment">;</span>
                <span class="hljs-attr">result</span> = rowCountResult(
                    sqlSession.insert(command.getName(), param)
                )<span class="hljs-comment">;</span>
                break<span class="hljs-comment">;</span>
            }
            case UPDATE: {
                //æ›´æ–°æ“ä½œ
                Object <span class="hljs-attr">param</span> = method.convertArgsToSqlCommandParam(args)<span class="hljs-comment">;</span>
                <span class="hljs-attr">result</span> = rowCountResult(
                    sqlSession.update(command.getName(), param)
                )<span class="hljs-comment">;</span>
                break<span class="hljs-comment">;</span>
            }
            case DELETE: {
                //åˆ é™¤æ“ä½œ
                Object <span class="hljs-attr">param</span> = method.convertArgsToSqlCommandParam(args)<span class="hljs-comment">;</span>
                <span class="hljs-attr">result</span> = rowCountResult(
                    sqlSession.delete(command.getName(), param)
                )<span class="hljs-comment">;</span>
                break<span class="hljs-comment">;</span>
            }
            case SELECT:
                if (method.returnsVoid() &amp;&amp; method.hasResultHandler()) {
                    // æœ‰ResultHandlerçš„æŸ¥è¯¢
                    executeWithResultHandler(sqlSession, args)<span class="hljs-comment">;</span>
                    <span class="hljs-attr">result</span> = null<span class="hljs-comment">;</span>
                } else if (method.returnsMany()) {
                    //è¿”å›é›†åˆ
                    <span class="hljs-attr">result</span> = executeForMany(sqlSession, args)<span class="hljs-comment">;</span>
                } else if (method.returnsMap()) {
                    //è¿”å›Map
                    <span class="hljs-attr">result</span> = executeForMap(sqlSession, args)<span class="hljs-comment">;</span>
                } else if (method.returnsCursor()) {
                    //è¿”å›Cursor
                    <span class="hljs-attr">result</span> = executeForCursor(sqlSession, args)<span class="hljs-comment">;</span>
                } else {
                    //è¿”å›å•ä¸ªå¯¹è±¡
                    Object <span class="hljs-attr">param</span> = method.convertArgsToSqlCommandParam(args)<span class="hljs-comment">;</span>
                    <span class="hljs-attr">result</span> = sqlSession.selectOne(command.getName(), param)<span class="hljs-comment">;</span>
                    if (method.returnsOptional() &amp;&amp; 
                        (<span class="hljs-attr">result</span> == null || 
                         !method.getReturnType().equals(result.getClass()))) {
                        <span class="hljs-attr">result</span> = Optional.ofNullable(result)<span class="hljs-comment">;</span>
                    }
                }
                break<span class="hljs-comment">;</span>
            case FLUSH:
                <span class="hljs-attr">result</span> = sqlSession.flushStatements()<span class="hljs-comment">;</span>
                break<span class="hljs-comment">;</span>
            default:
                throw new BindingException(
                    "Unknown execution method for: " + command.getName()
                )<span class="hljs-comment">;</span>
        }

        if (<span class="hljs-attr">result</span> == null &amp;&amp; method.getReturnType().isPrimitive() &amp;&amp; 
            !method.returnsVoid()) {
            throw new BindingException(
                "Mapper method '" + command.getName() + 
                "' attempted to return null from a method with " +
                "a primitive return type (" + method.getReturnType() + ")."
            )<span class="hljs-comment">;</span>
        }
        return result<span class="hljs-comment">;</span>
    }

    // æ‰§è¡Œè¿”å›å¤šæ¡çš„æŸ¥è¯¢
    private &lt;E&gt; Object executeForMany(SqlSession sqlSession, Object<span class="hljs-section">[]</span> args) {
        List&lt;E&gt; result<span class="hljs-comment">;</span>
        Object <span class="hljs-attr">param</span> = method.convertArgsToSqlCommandParam(args)<span class="hljs-comment">;</span>
        if (method.hasRowBounds()) {
            RowBounds <span class="hljs-attr">rowBounds</span> = method.extractRowBounds(args)<span class="hljs-comment">;</span>
            <span class="hljs-attr">result</span> = sqlSession.selectList(
                command.getName(), param, rowBounds
            )<span class="hljs-comment">;</span>
        } else {
            <span class="hljs-attr">result</span> = sqlSession.selectList(command.getName(), param)<span class="hljs-comment">;</span>
        }
        return result<span class="hljs-comment">;</span>
    }

    // æ‰§è¡Œè¿”å›Mapçš„æŸ¥è¯¢
    private &lt;K, V&gt; Map&lt;K, V&gt; executeForMap(SqlSession sqlSession, 
                                            Object<span class="hljs-section">[]</span> args) {
        Object <span class="hljs-attr">param</span> = method.convertArgsToSqlCommandParam(args)<span class="hljs-comment">;</span>
        Map&lt;K, V&gt; result<span class="hljs-comment">;</span>
        if (method.hasRowBounds()) {
            RowBounds <span class="hljs-attr">rowBounds</span> = method.extractRowBounds(args)<span class="hljs-comment">;</span>
            <span class="hljs-attr">result</span> = sqlSession.selectMap(
                command.getName(), param, method.getMapKey(), rowBounds
            )<span class="hljs-comment">;</span>
        } else {
            <span class="hljs-attr">result</span> = sqlSession.selectMap(
                command.getName(), param, method.getMapKey()
            )<span class="hljs-comment">;</span>
        }
        return result<span class="hljs-comment">;</span>
    }

    // å¤„ç†è¡Œæ•°ç»“æœ
    private Object rowCountResult(int rowCount) {
        final Object result<span class="hljs-comment">;</span>
        if (method.returnsVoid()) {
            <span class="hljs-attr">result</span> = null<span class="hljs-comment">;</span>
        } else if (Integer.TYPE.equals(method.getReturnType()) || 
                   Integer.class.equals(method.getReturnType())) {
            <span class="hljs-attr">result</span> = rowCount<span class="hljs-comment">;</span>
        } else if (Long.TYPE.equals(method.getReturnType()) || 
                   Long.class.equals(method.getReturnType())) {
            <span class="hljs-attr">result</span> = (long) rowCount<span class="hljs-comment">;</span>
        } else if (Boolean.TYPE.equals(method.getReturnType()) || 
                   Boolean.class.equals(method.getReturnType())) {
            <span class="hljs-attr">result</span> = rowCount &gt; <span class="hljs-number">0</span><span class="hljs-comment">;</span>
        } else {
            throw new BindingException(
                "Mapper method '" + command.getName() + 
                "' has an unsupported return type: " + 
                method.getReturnType()
            )<span class="hljs-comment">;</span>
        }
        return result<span class="hljs-comment">;</span>
    }

    //å†…éƒ¨ç±»ï¼šSqlCommand
    public static class SqlCommand {
        private final String name<span class="hljs-comment">;</span>
        private final SqlCommandType type<span class="hljs-comment">;</span>

        public SqlCommand(Configuration configuration, 
                         Class&lt;?&gt; mapperInterface, Method method) {
            final String <span class="hljs-attr">methodName</span> = method.getName()<span class="hljs-comment">;</span>
            final Class&lt;?&gt; <span class="hljs-attr">declaringClass</span> = method.getDeclaringClass()<span class="hljs-comment">;</span>

            // è§£æMappedStatement
            MappedStatement <span class="hljs-attr">ms</span> = resolveMappedStatement(
                mapperInterface, methodName, declaringClass, configuration
            )<span class="hljs-comment">;</span>

            if (<span class="hljs-attr">ms</span> == null) {
                if (method.getAnnotation(Flush.class) != null) {
                    <span class="hljs-attr">name</span> = null<span class="hljs-comment">;</span>
                    <span class="hljs-attr">type</span> = SqlCommandType.FLUSH<span class="hljs-comment">;</span>
                } else {
                    throw new BindingException(
                        "Invalid bound statement (not found): " + 
                        mapperInterface.getName() + "." + methodName
                    )<span class="hljs-comment">;</span>
                }
            } else {
                <span class="hljs-attr">name</span> = ms.getId()<span class="hljs-comment">;</span>
                <span class="hljs-attr">type</span> = ms.getSqlCommandType()<span class="hljs-comment">;</span>
                if (<span class="hljs-attr">type</span> == SqlCommandType.UNKNOWN) {
                    throw new BindingException(
                        "Unknown execution method for: " + name
                    )<span class="hljs-comment">;</span>
                }
            }
        }

        private MappedStatement resolveMappedStatement(
            Class&lt;?&gt; mapperInterface, String methodName, 
            Class&lt;?&gt; declaringClass, Configuration configuration) {
            String <span class="hljs-attr">statementId</span> = mapperInterface.getName() + <span class="hljs-string">"."</span> + methodName<span class="hljs-comment">;</span>
            if (configuration.hasStatement(statementId)) {
                return configuration.getMappedStatement(statementId)<span class="hljs-comment">;</span>
            }
            return null<span class="hljs-comment">;</span>
        }

        public String getName() {
            return name<span class="hljs-comment">;</span>
        }

        public SqlCommandType getType() {
            return type<span class="hljs-comment">;</span>
        }
    }

    //å†…éƒ¨ç±»ï¼šMethodSignature
    public static class MethodSignature {
        private final boolean returnsMany<span class="hljs-comment">;</span>
        private final boolean returnsMap<span class="hljs-comment">;</span>
        private final boolean returnsVoid<span class="hljs-comment">;</span>
        private final boolean returnsCursor<span class="hljs-comment">;</span>
        private final boolean returnsOptional<span class="hljs-comment">;</span>
        private final Class&lt;?&gt; returnType<span class="hljs-comment">;</span>
        private final String mapKey<span class="hljs-comment">;</span>
        private final Integer resultHandlerIndex<span class="hljs-comment">;</span>
        private final Integer rowBoundsIndex<span class="hljs-comment">;</span>
        private final ParamNameResolver paramNameResolver<span class="hljs-comment">;</span>

        public MethodSignature(Configuration configuration, 
                              Class&lt;?&gt; mapperInterface, Method method) {
            Type <span class="hljs-attr">resolvedReturnType</span> = typeParameterResolver(method)<span class="hljs-comment">;</span>

            // è§£æè¿”å›ç±»å‹
            if (resolvedReturnType instanceof Void) {
                <span class="hljs-attr">this.returnsVoid</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
            } else if (Collection.class.isAssignableFrom(
                (Class&lt;?&gt;) resolvedReturnType) || 
                resolvedReturnType.isArray()) {
                <span class="hljs-attr">this.returnsMany</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
            } else if (Map.class.isAssignableFrom(
                (Class&lt;?&gt;) resolvedReturnType)) {
                <span class="hljs-attr">this.returnsMap</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
            } else {
                <span class="hljs-attr">this.returnsMany</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
                <span class="hljs-attr">this.returnsMap</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
            }
            // ... çœç•¥å…¶ä»–åˆå§‹åŒ–ä»£ç 
        }

        public Object convertArgsToSqlCommandParam(Object<span class="hljs-section">[]</span> args) {
            return paramNameResolver.getNamedParams(args)<span class="hljs-comment">;</span>
        }

        public boolean hasRowBounds() {
            return rowBoundsIndex != null<span class="hljs-comment">;</span>
        }
    }
}
</code></pre>
<h2 data-id="heading-16">4.4 ä»£ç†æ‰§è¡Œæµç¨‹</h2>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> è°ƒç”¨Mapperæ¥å£æ–¹æ³•
   â†“
<span class="hljs-bullet">2.</span> è§¦å‘MapperProxy.invoke()
   â†“
<span class="hljs-bullet">3.</span> è·å–æˆ–åˆ›å»ºMapperMethod
   â†“
<span class="hljs-bullet">4.</span> æ‰§è¡ŒMapperMethod.execute()
   â†“
<span class="hljs-bullet">5.</span> æ ¹æ®SQLç±»å‹è°ƒç”¨SqlSessionæ–¹æ³•
   â†“
<span class="hljs-bullet">6.</span> Executoræ‰§è¡ŒSQL
   â†“
<span class="hljs-bullet">7.</span> è¿”å›ç»“æœ
</code></pre>
<h2 data-id="heading-17">äº”ã€Mapperæ³¨å†Œæµç¨‹</h2>
<p>Mapperæ¥å£éœ€è¦æ³¨å†Œåˆ°MyBatisæ‰èƒ½ä½¿ç”¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e56894344dc4462bd1b15684e20d0e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768116835&amp;x-signature=C%2BAfBqxlMS2uJWvlPoc%2F%2BYPanh8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-18">5.1 æ³¨å†Œæ–¹å¼</h2>
<pre><code class="hljs language-typescript" lang="typescript">&lt;configuration&gt;
    &lt;!-- æ³¨å†Œ<span class="hljs-title class_">Mapper</span>æ¥å£ --&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span>
        <span class="hljs-comment">&lt;!--ä½¿ç”¨ç±»è·¯å¾„ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.mapper.UserMapper"</span>/&gt;</span>

        <span class="hljs-comment">&lt;!--ä½¿ç”¨åŒ…æ‰«æ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"com.example.mapper"</span>/&gt;</span>

        <span class="hljs-comment">&lt;!--ä½¿ç”¨XMLèµ„æºè·¯å¾„ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">"com/example/mapper/UserMapper.xml"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span></span>
&lt;/configuration&gt;
<span class="hljs-comment">// åˆ›å»ºConfiguration</span>
<span class="hljs-title class_">Configuration</span> configuration = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>();

<span class="hljs-comment">// æ³¨å†ŒMapperæ¥å£</span>
configuration.<span class="hljs-title function_">addMapper</span>(<span class="hljs-title class_">UserMapper</span>.<span class="hljs-property">class</span>);
configuration.<span class="hljs-title function_">addMapper</span>(<span class="hljs-title class_">OrderMapper</span>.<span class="hljs-property">class</span>);

<span class="hljs-comment">// æˆ–è€…é€šè¿‡MapperRegistry</span>
<span class="hljs-title class_">MapperRegistry</span> mapperRegistry = configuration.<span class="hljs-title function_">getMapperRegistry</span>();
mapperRegistry.<span class="hljs-title function_">addMapper</span>(<span class="hljs-title class_">UserMapper</span>.<span class="hljs-property">class</span>);
<span class="hljs-title class_">SqlSessionFactoryBuilder</span> builder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>();

<span class="hljs-comment">// é€šè¿‡InputStream</span>
<span class="hljs-title class_">SqlSessionFactory</span> factory = builder.<span class="hljs-title function_">build</span>(inputStream);

<span class="hljs-comment">// é€šè¿‡Configuration</span>
<span class="hljs-title class_">Environment</span> environment = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Environment</span>(<span class="hljs-string">"development"</span>, ...);
<span class="hljs-title class_">Configuration</span> configuration = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>(environment);
configuration.<span class="hljs-title function_">addMapper</span>(<span class="hljs-title class_">UserMapper</span>.<span class="hljs-property">class</span>);
<span class="hljs-title class_">SqlSessionFactory</span> factory = 
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().<span class="hljs-title function_">build</span>(configuration);
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Configuration</span> {
    <span class="hljs-keyword">protected</span> final <span class="hljs-title class_">MapperRegistry</span> mapperRegistry = 
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">MapperRegistry</span>(<span class="hljs-variable language_">this</span>);

    <span class="hljs-comment">// æ·»åŠ Mapper</span>
    <span class="hljs-keyword">public</span> &lt;T&gt; <span class="hljs-built_in">void</span> <span class="hljs-title function_">addMapper</span>(<span class="hljs-params">Class&lt;T&gt; <span class="hljs-keyword">type</span></span>) {
        mapperRegistry.<span class="hljs-title function_">addMapper</span>(<span class="hljs-keyword">type</span>);
    }

    <span class="hljs-comment">// è·å–Mapper</span>
    <span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">getMapper</span>(<span class="hljs-params">Class&lt;T&gt; <span class="hljs-keyword">type</span>, SqlSession sqlSession</span>) {
        <span class="hljs-keyword">return</span> mapperRegistry.<span class="hljs-title function_">getMapper</span>(<span class="hljs-keyword">type</span>, sqlSession);
    }

    <span class="hljs-comment">// æ£€æŸ¥Mapperæ˜¯å¦å­˜åœ¨</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">hasMapper</span>(<span class="hljs-params">Class&lt;?&gt; <span class="hljs-keyword">type</span></span>) {
        <span class="hljs-keyword">return</span> mapperRegistry.<span class="hljs-title function_">hasMapper</span>(<span class="hljs-keyword">type</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">MapperRegistry</span> <span class="hljs-title function_">getMapperRegistry</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> mapperRegistry;
    }
}
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MapperScannerConfigurer</span> {
    <span class="hljs-comment">// æ‰«æåŒ…è·¯å¾„</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> basePackage;

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">postProcessBeanDefinitionRegistry</span>(<span class="hljs-params">
        BeanDefinitionRegistry registry</span>) {
        <span class="hljs-comment">// åˆ›å»ºæ‰«æå™¨</span>
        <span class="hljs-title class_">ClassPathMapperScanner</span> scanner = 
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathMapperScanner</span>(registry);

        <span class="hljs-comment">// è®¾ç½®æ‰«æåŒ…</span>
        scanner.<span class="hljs-title function_">scan</span>(<span class="hljs-title class_">StringUtils</span>.<span class="hljs-title function_">tokenizeToStringArray</span>(
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">basePackage</span>,
            <span class="hljs-title class_">ConfigurableApplicationContext</span>.<span class="hljs-property">CONFIG_LOCATION_DELIMITERS</span>
        ));
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ClassPathMapperScanner</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">ClassPathBeanDefinitionScanner</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Set</span>&lt;<span class="hljs-title class_">BeanDefinitionHolder</span>&gt; <span class="hljs-title function_">doScan</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>... basePackages</span>) {
        <span class="hljs-title class_">Set</span>&lt;<span class="hljs-title class_">BeanDefinitionHolder</span>&gt; beanDefinitions = 
            <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">doScan</span>(basePackages);

        <span class="hljs-keyword">if</span> (beanDefinitions.<span class="hljs-title function_">isEmpty</span>()) {
            logger.<span class="hljs-title function_">warn</span>(<span class="hljs-string">"No MyBatis mapper was found in '"</span> + 
                <span class="hljs-title class_">Arrays</span>.<span class="hljs-title function_">toString</span>(basePackages) + 
                <span class="hljs-string">"' package. Please check your configuration."</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// å¤„ç†BeanDefinition</span>
            <span class="hljs-title function_">processBeanDefinitions</span>(beanDefinitions);
        }

        <span class="hljs-keyword">return</span> beanDefinitions;
    }

    <span class="hljs-keyword">private</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">processBeanDefinitions</span>(<span class="hljs-params">
        <span class="hljs-built_in">Set</span>&lt;BeanDefinitionHolder&gt; beanDefinitions</span>) {
        <span class="hljs-title class_">GenericBeanDefinition</span> definition;
        <span class="hljs-keyword">for</span> (<span class="hljs-title class_">BeanDefinitionHolder</span> holder : beanDefinitions) {
            definition = (<span class="hljs-title class_">GenericBeanDefinition</span>) holder.<span class="hljs-title function_">getBeanDefinition</span>();

            <span class="hljs-comment">// è®¾ç½®BeanClassä¸ºMapperFactoryBean</span>
            definition.<span class="hljs-title function_">getConstructorArgumentValues</span>()
                .<span class="hljs-title function_">addGenericArgumentValue</span>(definition.<span class="hljs-title function_">getBeanClassName</span>());
            definition.<span class="hljs-title function_">setBeanClass</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">mapperFactoryBean</span>.<span class="hljs-title function_">getClass</span>());

            <span class="hljs-comment">// ... çœç•¥å…¶ä»–é…ç½®</span>
        }
    }
}
</code></pre>
<h2 data-id="heading-19">å…­ã€Mapperæ‰§è¡Œæµç¨‹</h2>
<p>ç†è§£Mapperçš„æ‰§è¡Œæµç¨‹å¯¹äºè°ƒè¯•å’Œä¼˜åŒ–è‡³å…³é‡è¦ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/175c30a73fe44186ab69deb68a0fafc3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768116835&amp;x-signature=N%2Fi4UDa9YNZCjW89O%2BXz%2Fcpw80Q%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-20">6.1 å®Œæ•´æ‰§è¡Œæµç¨‹</h2>
<pre><code class="hljs language-ini" lang="ini">//1.è·å–SqlSession
SqlSession <span class="hljs-attr">session</span> = sqlSessionFactory.openSession()<span class="hljs-comment">;</span>
try {
    //2.è·å–Mapperä»£ç†å¯¹è±¡
    UserMapper <span class="hljs-attr">userMapper</span> = session.getMapper(UserMapper.class)<span class="hljs-comment">;</span>
    //3.è°ƒç”¨Mapperæ–¹æ³•
    User <span class="hljs-attr">user</span> = userMapper.selectById(<span class="hljs-number">1</span>L)<span class="hljs-comment">;</span>
    //4.ä½¿ç”¨ç»“æœ
    System.out.println(user)<span class="hljs-comment">;</span>
    //5.æäº¤äº‹åŠ¡
    session.commit()<span class="hljs-comment">;</span>
} finally {
    //6.å…³é—­Session
    session.close()<span class="hljs-comment">;</span>
}
</code></pre>
<h2 data-id="heading-21">6.2 è¯¦ç»†æ‰§è¡Œæ­¥éª¤</h2>
<pre><code class="hljs language-css" lang="css">æ­¥éª¤<span class="hljs-number">1</span>: è·å–Mapperä»£ç†å¯¹è±¡
    session.<span class="hljs-built_in">getMapper</span>(UserMapper.class)
    â†“
    configuration.<span class="hljs-built_in">getMapper</span>(UserMapper.class, this)
    â†“
    mapperRegistry.<span class="hljs-built_in">getMapper</span>(UserMapper.class, this)
    â†“
    mapperProxyFactory.<span class="hljs-built_in">newInstance</span>(this)
    â†“
    Proxy.<span class="hljs-built_in">newProxyInstance</span>(...) â†’ åˆ›å»ºä»£ç†å¯¹è±¡
æ­¥éª¤<span class="hljs-number">2</span>: è°ƒç”¨Mapperæ–¹æ³•
    userMapper.<span class="hljs-built_in">selectById</span>(<span class="hljs-number">1</span>L)
    â†“
    MapperProxy.<span class="hljs-built_in">invoke</span>(proxy, method, args)
    â†“
    <span class="hljs-built_in">cachedMapperMethod</span>(method)
    â†“
    mapperMethod.<span class="hljs-built_in">execute</span>(sqlSession, args)
æ­¥éª¤<span class="hljs-number">3</span>: æ‰§è¡ŒSQL
    SqlCommandType.SELECT
    â†“
    sqlSession.<span class="hljs-built_in">selectOne</span>(statementId, param)
    â†“
    executor.<span class="hljs-built_in">query</span>(ms, param, rowBounds, resultHandler)
    â†“
    åˆ›å»ºCacheKey
    â†“
    æŸ¥è¯¢ç¼“å­˜
    â†“
    æŸ¥è¯¢æ•°æ®åº“
    â†“
    æ˜ å°„ç»“æœ
æ­¥éª¤<span class="hljs-number">4</span>: è¿”å›ç»“æœ
    å¤„ç†ResultSet
    â†“
    ObjectFactoryåˆ›å»ºå¯¹è±¡
    â†“
    ResultHandleræ˜ å°„
    â†“
    è¿”å›Userå¯¹è±¡
</code></pre>
<h2 data-id="heading-22">6.3 æ‰§è¡Œæ—¶åºå›¾</h2>
<pre><code class="hljs">åº”ç”¨ â†’ MapperProxy â†’ MapperMethod â†’ SqlSession â†’ 
Executor â†’ StatementHandler â†’ Database
</code></pre>
<h2 data-id="heading-23">6.4 å¼‚å¸¸å¤„ç†</h2>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">try</span> {
    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> userMapper.selectById(<span class="hljs-number">1L</span>);
} <span class="hljs-keyword">catch</span> (PersistenceException e) {
    <span class="hljs-comment">// æŒä¹…åŒ–å¼‚å¸¸</span>
    <span class="hljs-type">Throwable</span> <span class="hljs-variable">cause</span> <span class="hljs-operator">=</span> e.getCause();
    <span class="hljs-keyword">if</span> (cause <span class="hljs-keyword">instanceof</span> SQLException) {
        <span class="hljs-comment">// å¤„ç†SQLå¼‚å¸¸</span>
        <span class="hljs-type">SQLException</span> <span class="hljs-variable">sqlEx</span> <span class="hljs-operator">=</span> (SQLException) cause;
        System.out.println(<span class="hljs-string">"SQL Error: "</span> + sqlEx.getMessage());
    }
} <span class="hljs-keyword">catch</span> (BindingException e) {
    <span class="hljs-comment">// ç»‘å®šå¼‚å¸¸ï¼šMapperæ–¹æ³•æœªæ‰¾åˆ°</span>
    System.out.println(<span class="hljs-string">"Mapper method not found: "</span> + e.getMessage());
}
</code></pre>
<h2 data-id="heading-24">ä¸ƒã€æœ€ä½³å®è·µ</h2>
<h2 data-id="heading-25">7.1 Mapperè®¾è®¡å»ºè®®</h2>
<pre><code class="hljs language-css" lang="css"><span class="hljs-number">1</span>ï¸âƒ£ å•ä¸€èŒè´£ - æ¯ä¸ªMapperå¯¹åº”ä¸€å¼ è¡¨
<span class="hljs-number">2</span>ï¸âƒ£ å‘½åè§„èŒƒ - æ¥å£åä¸å®ä½“åå¯¹åº”
<span class="hljs-number">3</span>ï¸âƒ£ æ–¹æ³•å‘½å - ä½¿ç”¨è¯­ä¹‰åŒ–çš„æ–¹æ³•å
<span class="hljs-number">4</span>ï¸âƒ£ å‚æ•°è®¾è®¡ - ä½¿ç”¨<span class="hljs-keyword">@Param</span>æ³¨è§£æ˜ç¡®å‚æ•°å
</code></pre>
<h2 data-id="heading-26">7.2 æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2>
<pre><code class="hljs">1ï¸âƒ£ åˆç†ä½¿ç”¨ç¼“å­˜ - äºŒçº§ç¼“å­˜æå‡æ€§èƒ½
2ï¸âƒ£ é¿å…N+1æŸ¥è¯¢ - ä½¿ç”¨å…³è”æŸ¥è¯¢
3ï¸âƒ£ åˆ†é¡µæŸ¥è¯¢ - ä½¿ç”¨RowBoundsæˆ–PageHelper
4ï¸âƒ£ æ‰¹é‡æ“ä½œ - ä½¿ç”¨BatchExecutor
</code></pre>
<h2 data-id="heading-27">7.3 å¸¸è§é—®é¢˜è§£å†³</h2>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span>é”™è¯¯ï¼šå¤šå‚æ•°æœªä½¿ç”¨<span class="hljs-variable">@Param</span>
List<span class="hljs-operator">&lt;</span><span class="hljs-keyword">User</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span>(String name, <span class="hljs-type">Integer</span> age);

<span class="hljs-operator">/</span><span class="hljs-operator">/</span>æ­£ç¡®ï¼šä½¿ç”¨<span class="hljs-variable">@Param</span>
List<span class="hljs-operator">&lt;</span><span class="hljs-keyword">User</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span>(<span class="hljs-variable">@Param</span>("name") String name,
                 <span class="hljs-variable">@Param</span>("age") <span class="hljs-type">Integer</span> age);
<span class="hljs-operator">&lt;</span><span class="hljs-operator">!</span><span class="hljs-comment">--æ­£ç¡®ï¼šä½¿ç”¨resultMap --&gt;</span>
<span class="hljs-operator">&lt;</span>resultMap id<span class="hljs-operator">=</span>"BaseResultMap" type<span class="hljs-operator">=</span>"User"<span class="hljs-operator">&gt;</span>
    <span class="hljs-operator">&lt;</span>id <span class="hljs-keyword">column</span><span class="hljs-operator">=</span>"id" property<span class="hljs-operator">=</span>"id"<span class="hljs-operator">/</span><span class="hljs-operator">&gt;</span>
    <span class="hljs-operator">&lt;</span><span class="hljs-keyword">result</span> <span class="hljs-keyword">column</span><span class="hljs-operator">=</span>"user_name" property<span class="hljs-operator">=</span>"name"<span class="hljs-operator">/</span><span class="hljs-operator">&gt;</span>
<span class="hljs-operator">&lt;</span><span class="hljs-operator">/</span>resultMap<span class="hljs-operator">&gt;</span>

<span class="hljs-operator">&lt;</span><span class="hljs-keyword">select</span> id<span class="hljs-operator">=</span>"selectById" resultMap<span class="hljs-operator">=</span>"BaseResultMap"<span class="hljs-operator">&gt;</span>
    <span class="hljs-keyword">SELECT</span> id, user_name <span class="hljs-keyword">FROM</span> t_user <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> #{id}
<span class="hljs-operator">&lt;</span><span class="hljs-operator">/</span><span class="hljs-keyword">select</span><span class="hljs-operator">&gt;</span>
</code></pre>
<h2 data-id="heading-28">å…«ã€æ€»ç»“</h2>
<p>MyBatisçš„æ˜ å°„å™¨æ¨¡å—é€šè¿‡æ¥å£+é…ç½®çš„æ–¹å¼ï¼Œå®ç°äº†ä¼˜é›…çš„æ•°æ®åº“æ“ä½œã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-number">1</span>ï¸âƒ£ Mapperæ¥å£ <span class="hljs-operator">-</span> å®šä¹‰æ•°æ®åº“æ“ä½œæ–¹æ³•
<span class="hljs-number">2</span>ï¸âƒ£ <span class="hljs-keyword">SQL</span>æ˜ å°„ <span class="hljs-operator">-</span> XMLæˆ–æ³¨è§£é…ç½®<span class="hljs-keyword">SQL</span>è¯­å¥
<span class="hljs-number">3</span>ï¸âƒ£ åŠ¨æ€ä»£ç† <span class="hljs-operator">-</span> JDKåŠ¨æ€ä»£ç†è‡ªåŠ¨å®ç°æ¥å£
<span class="hljs-number">4</span>ï¸âƒ£ MapperProxy <span class="hljs-operator">-</span> æ‹¦æˆªæ–¹æ³•è°ƒç”¨å¹¶æ‰§è¡Œ<span class="hljs-keyword">SQL</span>
<span class="hljs-number">5</span>ï¸âƒ£ MapperMethod <span class="hljs-operator">-</span> å°è£…æ–¹æ³•æ‰§è¡Œé€»è¾‘
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥æµ…å‡ºè´å¡å°”æ›²çº¿]]></title>    <link>https://juejin.cn/post/7591243363085582374</link>    <guid>https://juejin.cn/post/7591243363085582374</guid>    <pubDate>2026-01-04T07:53:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591243363085582374" data-draft-id="7516810707217760290" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥æµ…å‡ºè´å¡å°”æ›²çº¿"/> <meta itemprop="keywords" content="å‰ç«¯,æ•°æ®å¯è§†åŒ–"/> <meta itemprop="datePublished" content="2026-01-04T07:53:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¸ƒåˆ—ç‘Ÿå†œçš„æ˜Ÿç©º"/> <meta itemprop="url" content="https://juejin.cn/user/976022056218471"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥æµ…å‡ºè´å¡å°”æ›²çº¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/976022056218471/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¸ƒåˆ—ç‘Ÿå†œçš„æ˜Ÿç©º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T07:53:47.000Z" title="Sun Jan 04 2026 07:53:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">è´å¡å°”æ›²çº¿çš„å°æ•…äº‹</h2>
<p>ä¼—æ‰€å‘¨çŸ¥ï¼Œè´å¡å°”æ›²çº¿å°±æ˜¯è´å¡å°”(Pierre BÃ©zier)å‘æ˜çš„æ›²çº¿ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚å…¶å®å¹¶ä¸ä¸¥æ ¼ã€‚</p>
<p>Pierre BÃ©zierä¸€ç›´ä»äº‹æ•°å­¦å»ºæ¨¡ï¼Œå…¶åšå£«è®ºæ–‡ä¹Ÿæ˜¯å’Œå‚æ•°åŒ–æ›²çº¿æœ‰å…³ã€‚ä»–åœ¨é›·è¯ºå·¥ä½œæœŸé—´ä¸€ç›´æƒ³å°†æ•°å€¼æ§åˆ¶åº”ç”¨åˆ°è½¦èº«æ¨¡å‹ä¸Šï¼Œå¹¶åœ¨60å¹´ä»£å¼€å‘äº†åˆä»£CAD(Unisurf)ã€‚è´å¡å°”æ›²çº¿çš„åˆæ¬¡åº”ç”¨å°±æ˜¯åœ¨è¿™æ¬¾CADä¸­ï¼Œå®ƒè®©å·¥ç¨‹å¸ˆä»¬èƒ½å¤Ÿåœ¨è®¡ç®—æœºä¸Šæ„å»ºå¤æ‚æ›²çº¿ã€‚</p>
<p>1962å¹´BÃ©zierå…¬å¼€äº†è´å¡å°”æ›²çº¿çš„ç®—æ³•ï¼Œä¸è¿‡è´å¡å°”æ›²çº¿å†å²è¿˜å¯ä»¥å†å¾€å‰è¿½æº¯ä¸€äº›ï¼Œå…¶ç®—æ³•æ ¹æºäº1912å¹´çš„ä¼¯æ©å¤šé¡¹å¼ï¼Œè´å¡å°”æ›²çº¿æ˜¯å…¶åœ¨åœ¨æ•°å­¦å»ºæ¨¡é¢†åŸŸçš„ä¸€ä¸ªåº”ç”¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/950f5ff36f8b484b902f92f9f6946524~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768118026&amp;x-signature=ofG14RBh8qn3T7vJmpmnzPe0O04%3D" alt="image.png" loading="lazy"/></p>
<p>1959å¹´ï¼Œåœ¨é›ªé“é¾™å·¥ä½œçš„ä¿å°”Â·å¾·Â·å¡æ–¯ç‰¹é‡Œå¥¥ï¼ˆPaul de Castelijauï¼‰å®ç°äº†ä¸è´å¡å°”æ›²çº¿ç›¸ä¼¼çš„ç®—æ³•ï¼Œä¸è¿‡ç›´åˆ°80å¹´ä»£æ‰å…¬å¼€å‘è¡¨ï¼Œå› æ­¤é”™è¿‡äº†å† åçš„æœºä¼šã€‚</p>
<h2 data-id="heading-1">è´å¡å°”æ›²çº¿çš„æ¨å¯¼è¿‡ç¨‹</h2>
<p>è¦ç†è§£è´å¡å°”æ›²çº¿çš„å…¬å¼ï¼Œå¯ä»¥ä»ä¸€æ¬¡è´å¡å°”æ›²çº¿ï¼Œä¹Ÿå°±æ˜¯ç›´çº¿å¼€å§‹ã€‚</p>
<p>å¦‚ä½•ç”¨å…¬å¼è¡¨ç¤ºç›´çº¿ç»˜åˆ¶ï¼Ÿå¦‚æœæœ‰ä¸¤ç‚¹P0å’ŒP1ï¼Œç”¨tè¡¨ç¤ºç»˜åˆ¶è¿›åº¦ï¼Œåˆ™å¯¹ä»»æ„tï¼Œç»˜åˆ¶çš„çš„ç›´çº¿ä¸Šçš„ç‚¹çš„ä½ç½®ä¸ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a1d74b47e4346caac9fb2bb5eb1ff97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768118026&amp;x-signature=Vy2GFqI%2BFufCstfkUmJjSbbc%2Fdk%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ä¸ªå…¬å¼æœ¬è´¨ä¸Šå°±æ˜¯æœ€ç®€å•çš„çº¿æ€§æ’å€¼ã€‚</p>
<p><span href="https://code.juejin.cn/pen/7508994655522914343" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7508994655522914343" data-src="https://code.juejin.cn/pen/7508994655522914343" style="display:none;" loading="lazy"/><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"/><span class="loading-logo"/></span></span></p>
<p>ç”±æ­¤ï¼Œå¦‚æœæœ‰ä¸‰ä¸ªç‚¹ï¼ŒP0,P1,P2ï¼Œè¿æ¥P0å’ŒP1å¾—åˆ°ç›´çº¿L1,è¿æ¥P1å’ŒP2å¾—åˆ°ç›´çº¿L2ï¼Œæ ¹æ®ä¸Šè¿°å…¬å¼ï¼Œå¯¹ä»»æ„tï¼Œåˆ†åˆ«å¯å¾—è¿™ä¸¤æ¡ç›´çº¿ä¸Šçš„ç‚¹ï¼Œè¿æ¥è¿™ä¸¤ä¸ªç‚¹ï¼Œå¾—åˆ°ç›´çº¿L3ï¼Œæ ¹æ®ä¸€æ¬¡è´å¡å°”å…¬å¼ï¼ŒåŒæ ·å¯å¾—L3ä¸Šä»»æ„tæ—¶çš„ç‚¹Pï¼Œå°†æ‰€æœ‰Pç‚¹è¿æ¥èµ·æ¥ï¼Œåˆšå¥½æ˜¯ä¸€ä¸ªæ›²çº¿ï¼Œå› æ­¤æˆ‘ä»¬å¾—åˆ°äº†Pç‚¹çš„å…¬å¼â€”â€”äºŒæ¬¡è´å¡å°”æ›²çº¿ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9878c694e6ec474d916aee60aad01357~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768118026&amp;x-signature=bYidrI%2FCuBhU1muQ8oD1TOFI59Q%3D" alt="image.png" loading="lazy"/></p>
<p><span href="https://code.juejin.cn/pen/7508995158545793060" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7508995158545793060" data-src="https://code.juejin.cn/pen/7508995158545793060" style="display:none;" loading="lazy"/><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"/><span class="loading-logo"/></span></span></p>
<p>åŒç†ï¼Œå¯ä»¥æ¨å¯¼å‡ºä¸‰æ¬¡è´å¡å°”æ›²çº¿ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d68173fd8ee0400c8ee76f0b15895faf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768118026&amp;x-signature=JYwEf7lM180oTd0tKgIeH5%2FJCjo%3D" alt="image.png" loading="lazy"/></p>
<p><span href="https://code.juejin.cn/pen/7508995357141893183" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7508995357141893183" data-src="https://code.juejin.cn/pen/7508995357141893183" style="display:none;" loading="lazy"/><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"/><span class="loading-logo"/></span></span></p>
<h2 data-id="heading-2">è´å¡å°”æ›²çº¿çš„ç‰¹æ€§</h2>
<p>è´å¡å°”æ›²çº¿ä½¿äººç±»èƒ½å¤Ÿä»¥<strong>å‚æ•°åŒ–</strong>çš„å½¢å¼æè¿°ä¸€æ®µæ›²çº¿ï¼Œå¹¶ä¸”<strong>å‡ ä¹æ‰€æœ‰çš„æ›²çº¿éƒ½å¯ä»¥ç”±å¤šæ®µè´å¡å°”æ›²çº¿æ‹Ÿåˆ</strong>ã€‚</p>
<p>è´å¡å°”æ›²çº¿æ˜¯å¹³æ»‘æ›²çº¿ï¼Œå…·ä½“çœ‹æ›²çº¿ä¸Šçš„ä»»æ„ä¸€ç‚¹ï¼Œåˆšå¥½æ˜¯æ§åˆ¶ç‚¹è¾…åŠ©çº¿ä¸æ›²çº¿çš„<strong>åˆ‡ç‚¹</strong>ï¼Œå› æ­¤å¯ä»¥ç»˜åˆ¶å¤šæ®µ<strong>å¹³æ»‘</strong>çš„è´å¡å°”æ›²çº¿ã€‚</p>
<h3 data-id="heading-3">ç»˜åˆ¶å¤šæ®µå…‰æ»‘è´å¡å°”æ›²çº¿</h3>
<p>ç»˜åˆ¶ä¸¤ç«¯å…‰æ»‘çš„è´å¡å°”æ›²çº¿ï¼Œè‡³å°‘å…·å¤‡çš„æ¡ä»¶æœ‰ä¸¤ä¸ªï¼š</p>
<ol>
<li>ä¸¤æ®µçº¿æœ‰ä¸€ä¸ªè¿æ¥ç‚¹G</li>
<li>ä¸¤ç«¯çº¿åœ¨è¿æ¥ç‚¹Gçš„åˆ‡çº¿æ–¹å‘ä¸€è‡´ã€‚</li>
</ol>
<p>å¯¹ä»»æ„å¤šä¸ªç‚¹ç»˜åˆ¶å¤šæ®µå…‰æ»‘çš„è´å¡å°”æ›²çº¿ï¼Œéš¾ç‚¹å°±æ˜¯å¦‚ä½•è®¡ç®—æ§åˆ¶ç‚¹ï¼Œå®ç°æ€è·¯å¯ä»¥å‚è€ƒechartsä¸­çš„<code>drawSegment</code>ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fapache%2Fecharts%2Fblob%2F09198192bbb1e274beb408c650c515f8e3a057a5%2Fsrc%2Fchart%2Fline%2Fpoly.ts%23L39" target="_blank" title="https://github.com/apache/echarts/blob/09198192bbb1e274beb408c650c515f8e3a057a5/src/chart/line/poly.ts#L39" ref="nofollow noopener noreferrer">github.com/apache/echaâ€¦</a></p>
<p>å®ç°å¤§è‡´æ€è·¯å¦‚ä¸‹ï¼šå‡è®¾å¯¹x1,y1ã€x2,y2ã€x3,y3ä¸‰ä¸ªç‚¹ç»˜åˆ¶ä¸¤æ¡ä¸‰æ¬¡è´å¡å°”æ›²çº¿ï¼Œèƒ½å¤Ÿåœ¨è¿æ¥å¤„å…‰æ»‘ï¼Œåˆ™é¦–å…ˆç»˜åˆ¶x1,y1åˆ°x2,y2å¤„çš„ä¸‰æ¬¡è´å¡å°”æ›²çº¿ï¼Œå¯¹é¦–æ®µæ›²çº¿ï¼Œä»¤æ§åˆ¶ç‚¹cp0å’Œx1,y1é‡åˆï¼ˆä¸‰æ¬¡è´å¡å°”é€€åŒ–ä¸ºäºŒæ¬¡ï¼‰ï¼Œåªéœ€è¦æ±‚å‡ºcp1ã€‚æ±‚å‡ºcp1åï¼Œä¸‹ä¸€æ®µæ›²çº¿çš„cp0ï¼Œä¸å‰ä¸€æ®µæ›²çº¿çš„cp1å’Œx2,y2å…±çº¿ï¼Œå› æ­¤ä¹Ÿå®¹æ˜“æ±‚å‡ºã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c96292e13c041009c8cb3e2e61c77f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768118026&amp;x-signature=nj8o3mQ%2FLfFAVIG8vUlOcW92tfg%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-4">è´å¡å°”æ›²çº¿çš„åº”ç”¨</h2>
<p>è´å¡å°”æ›²çº¿è¯ç”Ÿäºæ±½è½¦è¡Œä¸šCADè½¯ä»¶ä¸­ï¼Œè‡³ä»Šå·²åº”ç”¨åœ¨è¯¸å¦‚ä»¿çœŸï¼Œ3Dæ‰“å°ï¼Œæ¸¸æˆï¼Œå¯è§†åŒ–ç­‰æ–¹æ–¹é¢é¢ã€‚</p>
<p>åœ¨å‰ç«¯é¢†åŸŸï¼Œé™¤äº†åŠ¨ç”»çš„ç¼“åŠ¨å‡½æ•°å¯ä»¥ç”¨è´å¡å°”æ›²çº¿è¡¨ç¤ºå¤–ï¼ŒSVGå’ŒCanvasåˆ†åˆ«éƒ½æœ‰å¯¹åº”çš„ç›´æ¥ç»˜åˆ¶è´å¡å°”æ›²çº¿çš„æ–¹æ³•ï¼š</p>
<ul>
<li>SVG pathçš„Cå‘½ä»¤</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">&lt;svg <span class="hljs-attr">width</span>=<span class="hljs-string">"300"</span> height=<span class="hljs-string">"200"</span>&gt;
  &lt;path
    <span class="hljs-attr">d</span>=<span class="hljs-string">"
      M 50 150
      C 100 50, 200 50, 250 150
    "</span>
    <span class="hljs-attr">fill</span>=<span class="hljs-string">"none"</span>
    <span class="hljs-attr">stroke</span>=<span class="hljs-string">"black"</span>
    <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"2"</span>
  /&gt;
&lt;/svg&gt;

</code></pre>
<ul>
<li>Canvasä¸­çš„bezierCurveToæ–¹æ³•</li>
</ul>

<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">const</span> canvas = <span class="hljs-built_in">document</span>.<span class="hljs-built_in">querySelector</span>(<span class="hljs-string">'canvas'</span>)
<span class="hljs-keyword">const</span> ctx = canvas.getContext(<span class="hljs-string">'2d'</span>)

ctx.beginPath()
ctx.moveTo(<span class="hljs-number">50</span>, <span class="hljs-number">150</span>)
ctx.bezierCurveTo(
  <span class="hljs-number">100</span>, <span class="hljs-number">50</span>,   <span class="hljs-comment">// æ§åˆ¶ç‚¹1</span>
  <span class="hljs-number">200</span>, <span class="hljs-number">50</span>,   <span class="hljs-comment">// æ§åˆ¶ç‚¹2</span>
  <span class="hljs-number">250</span>, <span class="hljs-number">150</span>   <span class="hljs-comment">// ç»ˆç‚¹</span>
)
ctx.stroke()
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ–°æŒ–æ˜äº† 3 ä¸ªç‰›å“„å“„çš„ GitHub æ•™ç¨‹åº“ï¼Œæœ‰ç‚¹æ„æ€å•Šã€‚]]></title>    <link>https://juejin.cn/post/7590776324164534272</link>    <guid>https://juejin.cn/post/7590776324164534272</guid>    <pubDate>2026-01-04T06:08:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590776324164534272" data-draft-id="7590597231709290531" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ–°æŒ–æ˜äº† 3 ä¸ªç‰›å“„å“„çš„ GitHub æ•™ç¨‹åº“ï¼Œæœ‰ç‚¹æ„æ€å•Šã€‚"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2026-01-04T06:08:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€›é€›GitHub"/> <meta itemprop="url" content="https://juejin.cn/user/1442202996186093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ–°æŒ–æ˜äº† 3 ä¸ªç‰›å“„å“„çš„ GitHub æ•™ç¨‹åº“ï¼Œæœ‰ç‚¹æ„æ€å•Šã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1442202996186093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€›é€›GitHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T06:08:02.000Z" title="Sun Jan 04 2026 06:08:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">01ã€å¤§æ¨¡å‹ APP åˆé›†</h2>
<p>è¿™ä¸ªå¼€æºé¡¹ç›®é‡Œé¢å¡æ»¡äº†å„ç§ç°æˆçš„å¼€æºå¤§æ¨¡å‹åº”ç”¨ Demo å’Œè„šæ‰‹æ¶ã€‚</p>
<p>ç°åœ¨å·²ç»åœ¨ GitHub ä¸Šæ–©è· 8 ä¸‡å¤šçš„ Star äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08507832f15f4553b41e54e93232d985~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768111682&amp;x-signature=cyAmKDJyBp2Tu44Nl5g3BqL4bCk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸ç®¡ä½ æ˜¯æƒ³åšä¸€ä¸ªèƒ½è¯» PDF çš„æœºå™¨äººï¼Œè¿˜æ˜¯æƒ³æé‚£ç§èƒ½è‡ªåŠ¨ä¸Šç½‘æŸ¥èµ„æ–™ã€å†™æŠ¥å‘Šçš„å¤æ‚ Agent å›¢é˜Ÿï¼Œè¿™é‡Œé¢åŸºæœ¬éƒ½èƒ½æ‰¾åˆ°ç°æˆçš„ä»£ç å‚è€ƒã€‚</p>
<p>æ¯”è¾ƒè‰¯å¿ƒçš„æ˜¯å®ƒä¸åªç›¯ç€ OpenAI ä¸€å®¶ï¼Œåƒ Anthropicã€Gemini ç”šè‡³èƒ½åœ¨æœ¬åœ°è·‘çš„å¤§æ¨¡å‹ï¼Œå®ƒéƒ½æœ‰å¯¹åº”çš„æ¡ˆä¾‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/748c06b34bab40aa951912601d5bd246~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768111682&amp;x-signature=iub2CdTZoZKQeN4Y3e8Dgpb0aPw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/566eb6f04cb24aaba6c7c108be356bd8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768111682&amp;x-signature=xLDBdgy6H6i2R8kUCDenIPKjdcA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47c37e015c744cdb8bda8da4038aed4c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768111682&amp;x-signature=oqdb95GtGqoHCEwdZdQXquQm6QM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è€Œä¸”åˆ†ç±»åšå¾—ç‰¹åˆ«ç»†ï¼Œæƒ³åšè¯­éŸ³åŠ©æ‰‹çš„ã€æƒ³ææ•°æ®åˆ†æçš„ã€æˆ–è€…æƒ³ç ”ç©¶æœ€æ–°çš„ RAG æŠ€æœ¯çš„ï¼Œéƒ½èƒ½ç›´æ¥æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶å¤¹ã€‚</p>
<p>å¯¹äºå¼€å‘è€…æ¥è¯´ä½ æƒ³åšä»€ä¹ˆåŠŸèƒ½ï¼Œå…ˆå»é‡Œé¢æœä¸€ä¸‹ï¼Œå¤§æ¦‚ç‡èƒ½æ‰¾åˆ°ä¸€ä¸ªèƒ½è·‘çš„é›å½¢ã€‚</p>
<p>æŠŠå®ƒæ‹‰ä¸‹æ¥æ”¹ä¸€æ”¹ï¼Œæ¯”ä½ è‡ªå·±ä»å¤´å»å†™é‚£äº›åŸºç¡€çš„è¿æ¥ä»£ç è¦å¿«å¾—å¤šï¼Œå±äºé‚£ç§åªæœ‰æ”¶è—äº†æ‰å®‰å¿ƒçš„å·¥å…·ç®±ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">å¼€æºåœ°å€ï¼šhttps://github.com/Shubhamsaboo/awesome-llm-apps
</code></pre>
<h2 data-id="heading-1">02ã€CEO æ•™ç¨‹</h2>
<p>è¿™ä¸ªå« Awesome-CEO çš„å¼€æºé¡¹ç›®å¾ˆæœ‰æ„æ€ï¼Œè¿™æ˜¯ç»™åˆ›ä¸šå…¬å¸çš„è€æ¿ä»¬å‡†å¤‡çš„ç”Ÿå­˜æ‰‹å†Œã€‚</p>
<p>å¦‚æœä½ æ˜¯é‚£ç§æŠ€æœ¯å‡ºèº«ã€çªç„¶è¢«æ¨ä¸Šå»å½“ CEO çš„åˆ›å§‹äººï¼Œé¢å¯¹èèµ„ã€æ‹›äººã€ç®¡é’±è¿™äº›ç ´äº‹ä¸€å¤´é›¾æ°´çš„æ—¶å€™ï¼Œé™¤äº†æ‰¾æœ‰ç»éªŒçš„äººèŠï¼Œä¹Ÿå¯ä»¥çœ‹çœ‹è¿™ä¸ªå¼€æºé¡¹ç›®ï¼Œ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45c5bd87995e4de3bc6be811b8a85cc5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768111682&amp;x-signature=iN5%2FLMtP4xngSdIDjNtqrpp0D3s%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½œè€…éå¸¸ç›´ç™½ï¼Œè¯´è¿™æ˜¯ä¸€ä»½å¸¦æœ‰ä¸ªäººåè§çš„æ¸…å•ï¼Œæ„æ€æ˜¯å®ƒåªæ”¶å½•é‚£äº›çœŸçš„æœ‰ç”¨çš„ç¡¬è´§ã€‚</p>
<p>æ¯”å¦‚æ€ä¹ˆæå®šä½ çš„å‰ 10 ä¸ªå®¢æˆ·ï¼Œæ€ä¹ˆå†™é‚£ç§æŠ•èµ„äººæ„¿æ„çœ‹çš„å•†ä¸šè®¡åˆ’ä¹¦ï¼Œç”šè‡³è¿˜æœ‰ä¸“é—¨çš„è®¡ç®—å™¨å¸®ä½ ç®—è‚¡æƒç¨€é‡Šï¼Œé˜²æ­¢ä½ ä¸€ä¸å°å¿ƒæŠŠå…¬å¸å–äºäº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb697bd24ede467bb67103ebce328765~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768111682&amp;x-signature=m8HYgl5KEwUoY2Uj%2F5TkvBY%2FhSQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é™¤äº†å·¥å…·ï¼Œå®ƒè¿˜åˆ—äº†ä¸€å †å¿…è¯»ä¹¦å•å’Œç®¡ç†å¿ƒå¾—ï¼Œå¾ˆå¤šéƒ½æ˜¯ç¡…è°·é‚£è¾¹éªŒè¯è¿‡çš„ç»éªŒã€‚</p>
<p>å®ƒå°±åƒä¸€ä¸ªç»éªŒä¸°å¯Œçš„è€å‰è¾ˆååœ¨ä½ å¯¹é¢ï¼Œå‘Šè¯‰ä½ åœ¨è¿™ä¸ªé˜¶æ®µæœ€è¯¥å…³æ³¨ä»€ä¹ˆï¼Œå¸®ä½ åœ¨ä»æå®¢è½¬å‹åˆ°ç®¡ç†è€…çš„è·¯ä¸Šå°‘è¸©å‡ ä¸ªå¤§å‘ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/842f5e1c40974432b2645e446b29b17e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768111682&amp;x-signature=3cMfjBsNP81MCOZAbDWBIu9Kc48%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/kuchin/awesome-ceo</span>
</code></pre>
<h2 data-id="heading-2">03ã€AI Agent å®æ“æ•™ç¨‹</h2>
<p>å¦‚æœä½ åœ¨æŠ˜è…¾ AI Agentï¼Œè‚¯å®šé‡åˆ°è¿‡é‚£ç§ä¹Ÿå°± Demo èƒ½è·‘ï¼Œä¸€ä¸Šç”Ÿäº§å°±å´©çš„æƒ…å†µã€‚</p>
<p>è¿™ä¸ªå¼€æºé¡¹ç›®å°±æ˜¯ä¸“é—¨æ²»è¿™ä¸ªæ¯›ç—…çš„ï¼Œå®ƒæ•´ç†äº†ä¸€å †åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­éªŒè¯è¿‡çš„è®¾è®¡æ¨¡å¼ï¼Œä¸“é—¨è§£å†³ Agent æ€ä¹ˆè§„åˆ’ä»»åŠ¡ã€æ€ä¹ˆç®¡ç†è®°å¿†ã€æ€ä¹ˆè‡ªæˆ‘çº é”™è¿™äº›ç¡¬æ ¸é—®é¢˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31aaa2eb390a403c94e21ec19b2bdda5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768111682&amp;x-signature=3Y4ewbNxM73ojhwhlqWvCGH3XJY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ä¸ªå¼€æºé¡¹ç›®é‡Œé¢çš„ä¸œè¥¿å¾ˆå®æ“ã€‚æ¯”å¦‚å®ƒä¼šå‘Šè¯‰ä½ ï¼Œæ€ä¹ˆè®¾è®¡ä¸€ä¸ªã€Œåé¦ˆå¾ªç¯ã€è®© AI è‡ªå·±æ£€æŸ¥ä»£ç å†™å¾—å¯¹ä¸å¯¹ï¼Œæˆ–è€…æ€ä¹ˆæå®šã€Œäººæœºåä½œã€çš„æµç¨‹ï¼Œä¸è®© AI å½»åº•æ”¾é£è‡ªæˆ‘ã€‚</p>
<p>æ¯ä¸€ä¸ªæ¨¡å¼åŸºæœ¬éƒ½æœ‰å¯¹åº”çš„å‡ºå¤„æˆ–è€…æ¡ˆä¾‹ï¼Œä¸ç”¨ä½ è‡ªå·±çæ‘¸ç´¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bec9679aa6db48efa116c0a6c4283b00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768111682&amp;x-signature=40HpgDjVHVVylFCIutOYZpIexuU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c29905a5dce4a239a18da4780aa678f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768111682&amp;x-signature=E%2BMixx%2Bse9JA248mtQ5sZi5%2F87Q%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2aa8774a829f4620bec5f9634b6ffbf7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768111682&amp;x-signature=ZFJmkWMVQa2CwAJYPhWSZxX%2F75o%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯¹äºé‚£äº›æƒ³ä»å†™ç®€å•çš„ Chatbot è¿›é˜¶åˆ°æå…¨è‡ªåŠ¨ Agent çš„å¼€å‘è€…æ¥è¯´ï¼Œè¿™ç®€ç›´å°±æ˜¯ä¸€æœ¬é¿å‘æŒ‡å—ã€‚</p>
<p>å®ƒå¸®ä½ è¿‡æ»¤æ‰äº†é‚£äº›èŠ±é‡Œèƒ¡å“¨ä½†æ²¡ç”¨çš„æ¦‚å¿µï¼Œå‰©ä¸‹çš„å…¨æ˜¯åƒå¤š Agent è¾©è®ºæˆ–è€…å·¥å…·è·¯ç”±è¿™ç§èƒ½çœŸæ­£å¸®ä½ æŠŠå¤æ‚ä»»åŠ¡è·‘é€šçš„æ¶æ„æ€è·¯ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/nibzard/awesome-agentic-patterns</span>
</code></pre>
<h2 data-id="heading-3">04ã€Lovable æ–°æ‰‹æŒ‡å—</h2>
<p>è¿™ä¸ªé¡¹ç›®ç‰¹åˆ«é€‚åˆé‚£ç§æ»¡è„‘å­éƒ½æ˜¯ App åˆ›æ„ï¼Œä½†ä¸€çœ‹åˆ°ä»£ç å°±å¤´å¤§çš„æœ‹å‹ã€‚</p>
<p>è¿™å…¶å®æ˜¯ä¸€å¥—å®Œæ•´çš„å…è´¹è¯¾ç¨‹ï¼Œä¸“é—¨æ•™ä½ æ€ä¹ˆç”¨ Lovable è¿™ä¸ªå¹³å°:ä½ å¯ä»¥æŠŠå®ƒç†è§£ä¸ºç”¨å¤§ç™½è¯è·Ÿ AI èŠå¤©ï¼Œç„¶åè®© AI å¸®ä½ æŠŠç½‘ç«™æˆ–è€…åº”ç”¨ç»™åšå‡ºæ¥ï¼Œå…¨ç¨‹å‡ ä¹ä¸éœ€è¦æ‰‹å†™ä»£ç ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d557de6b88142afb591c3f3820f364a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768111682&amp;x-signature=rVBA%2BvN3hgWMu38iQ73LhFr%2BdOw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¯¾ç¨‹è®¾è®¡å¾—æŒºäººæ€§åŒ–ï¼Œä»æœ€åŸºç¡€çš„æ€ä¹ˆå†™ Prompt æ‰èƒ½è®© AI å¬æ‡‚äººè¯ï¼Œåˆ°åé¢æ€ä¹ˆéƒ¨ç½²ä¸Šçº¿ã€æ€ä¹ˆä¿® Bugï¼Œåˆ†äº†åå‡ ä¸ªæ¨¡å—ä¸€æ­¥æ­¥å¸¦ç€ä½ èµ°ã€‚</p>
<p>å“ªæ€•ä½ æ˜¯é›¶åŸºç¡€ï¼Œè·Ÿç€è¿™å¥—æ•™ç¨‹èµ°ä¸‹æ¥ï¼Œä¹Ÿèƒ½åƒæ¨¡åƒæ ·åœ°æå‡ºä¸ªä»»åŠ¡ç®¡ç†å·¥å…·æˆ–è€…ä¸ªäººä½œå“é›†ç½‘ç«™ã€‚**</p>
<p>å®ƒæ•™ä½ æ€ä¹ˆå½“å¥½ä¸€ä¸ªäº§å“ç»ç†ï¼ŒæŒ‡æŒ¥ AI è¿™ä¸ªç¨‹åºå‘˜å¹²æ´»ï¼Œå¯¹äºæƒ³å¿«é€Ÿæä¸ª MVP éªŒè¯æƒ³æ³•çš„äººæ¥è¯´éå¸¸å®ç”¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/09c57b8c41764ef0860434dec1cef36e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768111682&amp;x-signature=UaUyxDJeeboXa2jk3CLJypFYnuE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-bash" lang="bash">å¼€æºåœ°å€ï¼šhttps://github.com/cporter202/lovable-for-beginners
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¯å‘¨AIè®ºæ–‡é€Ÿé€’ï¼ˆ251229-260102ï¼‰]]></title>    <link>https://juejin.cn/post/7591207451778187290</link>    <guid>https://juejin.cn/post/7591207451778187290</guid>    <pubDate>2026-01-04T06:34:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591207451778187290" data-draft-id="7591085154977972250" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¯å‘¨AIè®ºæ–‡é€Ÿé€’ï¼ˆ251229-260102ï¼‰"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-04T06:34:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¶å­çš„æŠ€æœ¯ç¢ç¢å¿µ"/> <meta itemprop="url" content="https://juejin.cn/user/2831954919569245"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¯å‘¨AIè®ºæ–‡é€Ÿé€’ï¼ˆ251229-260102ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2831954919569245/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¶å­çš„æŠ€æœ¯ç¢ç¢å¿µ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T06:34:07.000Z" title="Sun Jan 04 2026 06:34:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">mHC: Manifold-Constrained Hyper-Connections</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.24880" target="_blank" title="https://arxiv.org/abs/2512.24880" ref="nofollow noopener noreferrer">mHC: æµå½¢çº¦æŸçš„è¶…è¿æ¥</a></p>
<p>è¿‘æ¥ï¼Œä»¥è¶…è¿æ¥ (HC) ä¸ºä»£è¡¨çš„ç ”ç©¶ï¼Œé€šè¿‡æ‰©å±•æ®‹å·®æµå®½åº¦å¹¶å¤šæ ·åŒ–è¿æ¥æ¨¡å¼ï¼Œå¯¹è¿‡å»åå¹´é—´ç¡®ç«‹çš„ã€æ™®éå­˜åœ¨çš„æ®‹å·®è¿æ¥èŒƒå¼è¿›è¡Œäº†æ‹“å±•ã€‚å°½ç®¡è¿™å¸¦æ¥äº†æ˜¾è‘—çš„æ€§èƒ½æå‡ï¼Œä½†è¿æ¥æ¨¡å¼çš„å¤šæ ·åŒ–ä»æ ¹æœ¬ä¸ŠæŸå®³äº†æ®‹å·®è¿æ¥å›ºæœ‰çš„æ’ç­‰æ˜ å°„ç‰¹æ€§ï¼Œè¿›è€Œå¯¼è‡´ä¸¥é‡çš„è®­ç»ƒä¸ç¨³å®šæ€§ã€å—é™çš„å¯æ‰©å±•æ€§ï¼Œå¹¶äº§ç”Ÿäº†æ˜¾è‘—çš„å†…å­˜è®¿é—®å¼€é”€ã€‚ä¸ºåº”å¯¹è¿™äº›æŒ‘æˆ˜ï¼Œæˆ‘ä»¬æå‡ºäº†æµå½¢çº¦æŸçš„è¶…è¿æ¥ (mHC)ã€‚è¿™æ˜¯ä¸€ä¸ªé€šç”¨æ¡†æ¶ï¼Œå®ƒå°† HC çš„æ®‹å·®è¿æ¥ç©ºé—´æŠ•å½±åˆ°ç‰¹å®šæµå½¢ä¸Šï¼Œä»¥æ¢å¤æ’ç­‰æ˜ å°„ç‰¹æ€§ï¼ŒåŒæ—¶èåˆäº†ä¸¥æ ¼çš„åŸºç¡€è®¾æ–½ä¼˜åŒ–ä»¥ç¡®ä¿æ•ˆç‡ã€‚å®è¯å®éªŒè¡¨æ˜ï¼ŒmHC èƒ½æœ‰æ•ˆè¿›è¡Œå¤§è§„æ¨¡è®­ç»ƒï¼Œå¸¦æ¥åˆ‡å®çš„æ€§èƒ½æå‡ä¸å“è¶Šçš„å¯æ‰©å±•æ€§ã€‚æˆ‘ä»¬é¢„è®¡ï¼ŒmHC ä½œä¸º HC çš„ä¸€ç§çµæ´»ä¸”å®ç”¨çš„æ‰©å±•ï¼Œå°†æœ‰åŠ©äºæ›´æ·±å…¥åœ°ç†è§£æ‹“æ‰‘æ¶æ„è®¾è®¡ï¼Œå¹¶ä¸ºåŸºç¡€æ¨¡å‹çš„æ¼”è¿›æä¾›æœ‰å‰æ™¯çš„æ–¹å‘ã€‚</p>
<h2 data-id="heading-1">Mindscape-Aware Retrieval Augmented Generation for Improved Long Context Understanding</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.17220" target="_blank" title="https://arxiv.org/abs/2512.17220" ref="nofollow noopener noreferrer">ç”¨äºæ”¹è¿›é•¿ä¸Šä¸‹æ–‡ç†è§£çš„ Mindscape-Aware æ£€ç´¢å¢å¼ºç”Ÿæˆ</a></p>
<p>äººç±»ç†è§£é•¿è€Œå¤æ‚çš„æ–‡æœ¬ï¼Œä¾èµ–äºå¯¹å†…å®¹çš„æ•´ä½“è¯­ä¹‰è¡¨å¾ã€‚è¿™ç§å…¨å±€è§†è§’æœ‰åŠ©äºç»„ç»‡å…ˆéªŒçŸ¥è¯†ã€è§£é‡Šæ–°ä¿¡æ¯ï¼Œå¹¶æ•´åˆåˆ†æ•£åœ¨æ–‡æ¡£ä¸­çš„è¯æ®ï¼Œè¿™æ­£ä½“ç°äº†å¿ƒç†å­¦ä¸­æ‰€æ­ç¤ºçš„äººç±» Mindscape-Awareï¼ˆå¿ƒæ™ºæ™¯è§‚æ„ŸçŸ¥ï¼‰èƒ½åŠ›ã€‚å½“å‰çš„æ£€ç´¢å¢å¼ºç”Ÿæˆ (RAG) ç³»ç»Ÿç¼ºä¹è¿™ç§æŒ‡å¯¼ï¼Œå› æ­¤åœ¨å¤„ç†é•¿ä¸Šä¸‹æ–‡ä»»åŠ¡æ—¶é¢ä¸´å›°éš¾ã€‚æœ¬æ–‡æå‡ºäº† Mindscape-Aware RAG (MiA-RAG)ï¼Œè¿™æ˜¯é¦–ä¸ªä¸ºåŸºäºå¤§è¯­è¨€æ¨¡å‹çš„ RAG ç³»ç»Ÿèµ‹äºˆæ˜¾å¼å…¨å±€ä¸Šä¸‹æ–‡æ„ŸçŸ¥èƒ½åŠ›çš„æ–¹æ³•ã€‚MiA-RAG é€šè¿‡åˆ†å±‚æ‘˜è¦æ„å»ºä¸€ä¸ªå…¨å±€è¯­ä¹‰è¡¨å¾ï¼ˆå³å¿ƒæ™ºæ™¯è§‚ï¼‰ï¼Œå¹¶ä»¥æ­¤ä¸ºåŸºç¡€æŒ‡å¯¼æ£€ç´¢å’Œç”Ÿæˆè¿‡ç¨‹ã€‚è¿™ä½¿å¾—æ£€ç´¢å™¨èƒ½å¤Ÿå½¢æˆä¿¡æ¯æ›´ä¸°å¯Œçš„æŸ¥è¯¢åµŒå…¥ï¼ŒåŒæ—¶ä½¿ç”Ÿæˆå™¨èƒ½å¤Ÿåœ¨è¿è´¯çš„å…¨å±€ä¸Šä¸‹æ–‡ä¸­å¯¹æ£€ç´¢åˆ°çš„è¯æ®è¿›è¡Œæ¨ç†ã€‚æˆ‘ä»¬åœ¨å¤šç§é•¿ä¸Šä¸‹æ–‡å’ŒåŒè¯­åŸºå‡†æµ‹è¯•ä¸Šè¯„ä¼°äº† MiA-RAG åœ¨åŸºäºè¯æ®çš„ç†è§£å’Œå…¨å±€è¯­ä¹‰æ•´åˆæ–¹é¢çš„æ€§èƒ½ã€‚ç»“æœè¡¨æ˜ï¼ŒMiA-RAG  consistently surpasses baselines, and further analysis shows that it aligns local details with a coherent global representation, enabling more human-like long-context retrieval and reasoning.</p>
<h2 data-id="heading-2">InsertAnywhere: Bridging 4D Scene Geometry and Diffusion Models for Realistic Video Object Insertion</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.17504" target="_blank" title="https://arxiv.org/abs/2512.17504" ref="nofollow noopener noreferrer">InsertAnywhere: èåˆ4Dåœºæ™¯å‡ ä½•ä¸æ‰©æ•£æ¨¡å‹ä»¥å®ç°é€¼çœŸçš„è§†é¢‘å¯¹è±¡æ’å…¥</a></p>
<p>åŸºäºæ‰©æ•£æ¨¡å‹çš„è§†é¢‘ç”ŸæˆæŠ€æœ¯è¿‘æœŸå–å¾—äº†æ˜¾è‘—è¿›å±•ï¼Œä¸ºå¯æ§è§†é¢‘ç¼–è¾‘å¸¦æ¥äº†æ–°çš„å¯èƒ½ã€‚ç„¶è€Œï¼Œç”±äºå¯¹4Dåœºæ™¯çš„ç†è§£æœ‰é™ï¼Œä»¥åŠå¯¹é®æŒ¡å’Œå…‰ç…§æ•ˆåº”çš„å¤„ç†ä¸è¶³ï¼Œå®ç°é€¼çœŸçš„è§†é¢‘å¯¹è±¡æ’å…¥ (VOI) ä»ç„¶é¢ä¸´æŒ‘æˆ˜ã€‚æœ¬æ–‡æå‡ºäº† InsertAnywhereï¼Œè¿™æ˜¯ä¸€ä¸ªæ–°çš„ VOI æ¡†æ¶ï¼Œèƒ½å¤Ÿå®ç°å‡ ä½•ä¸€è‡´çš„å¯¹è±¡æ”¾ç½®å’Œå¤–è§‚å¿ å®çš„è§†é¢‘åˆæˆã€‚æˆ‘ä»¬çš„æ–¹æ³•é¦–å…ˆé‡‡ç”¨ä¸€ä¸ª4Dæ„ŸçŸ¥çš„æ©ç ç”Ÿæˆæ¨¡å—ï¼Œè¯¥æ¨¡å—é‡å»ºåœºæ™¯å‡ ä½•ï¼Œå¹¶åœ¨è§†é¢‘å¸§é—´ä¼ æ’­ç”¨æˆ·æŒ‡å®šçš„å¯¹è±¡ä½ç½®ï¼ŒåŒæ—¶ç¡®ä¿æ—¶é—´è¿è´¯æ€§å’Œé®æŒ¡ä¸€è‡´æ€§ã€‚åœ¨æ­¤ç©ºé—´åŸºç¡€ä¹‹ä¸Šï¼Œæˆ‘ä»¬æ‰©å±•äº†ä¸€ä¸ªåŸºäºæ‰©æ•£çš„è§†é¢‘ç”Ÿæˆæ¨¡å‹ï¼Œä»¥è”åˆåˆæˆæ’å…¥çš„å¯¹è±¡åŠå…¶å‘¨å›´çš„å±€éƒ¨å˜åŒ–ï¼ˆå¦‚å…‰ç…§å’Œé˜´å½±ï¼‰ã€‚ä¸ºäº†è¿›è¡Œæœ‰ç›‘ç£è®­ç»ƒï¼Œæˆ‘ä»¬å¼•å…¥äº† ROSE++ï¼Œè¿™æ˜¯ä¸€ä¸ªå…‰ç…§æ„ŸçŸ¥çš„åˆæˆæ•°æ®é›†ï¼Œé€šè¿‡å°† ROSE å¯¹è±¡ç§»é™¤æ•°æ®é›†è½¬æ¢ä¸ºä¸‰å…ƒç»„ï¼ˆåŒ…å«å¯¹è±¡ç§»é™¤åçš„è§†é¢‘ã€å¯¹è±¡å­˜åœ¨æ—¶çš„è§†é¢‘ä»¥åŠç”± VLM ç”Ÿæˆçš„å‚è€ƒå›¾åƒï¼‰è€Œæ„å»ºã€‚å¤§é‡å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ¡†æ¶èƒ½å¤Ÿåœ¨å¤šæ ·åŒ–çš„çœŸå®ä¸–ç•Œåœºæ™¯ä¸­ç”Ÿæˆå‡ ä½•åˆç†ä¸”è§†è§‰è¿è´¯çš„å¯¹è±¡æ’å…¥æ•ˆæœï¼Œå…¶æ€§èƒ½æ˜¾è‘—ä¼˜äºç°æœ‰çš„ç ”ç©¶æ¨¡å‹å’Œå•†ä¸šæ¨¡å‹ã€‚</p>
<h2 data-id="heading-3">Coupling Experts and Routers in Mixture-of-Experts via an Auxiliary Loss</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.23447" target="_blank" title="https://arxiv.org/abs/2512.23447" ref="nofollow noopener noreferrer">é€šè¿‡è¾…åŠ©æŸå¤±è€¦åˆæ··åˆä¸“å®¶æ¨¡å‹ä¸­çš„ä¸“å®¶ä¸è·¯ç”±å™¨</a></p>
<p>æ··åˆä¸“å®¶ (Mixture-of-Experts, MoE) æ¨¡å‹ç¼ºä¹æ˜ç¡®çš„çº¦æŸæ¥ç¡®ä¿è·¯ç”±å™¨çš„å†³ç­–ä¸ä¸“å®¶çš„èƒ½åŠ›è‰¯å¥½åŒ¹é…ï¼Œè¿™æœ€ç»ˆä¼šé™åˆ¶æ¨¡å‹æ€§èƒ½ã€‚ä¸ºè§£å†³æ­¤é—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸“å®¶-è·¯ç”±å™¨è€¦åˆ (expert-router coupling, ERC) æŸå¤±ï¼Œè¿™æ˜¯ä¸€ç§è½»é‡çº§è¾…åŠ©æŸå¤±ï¼Œæ—¨åœ¨å°†è·¯ç”±å™¨çš„å†³ç­–ä¸ä¸“å®¶èƒ½åŠ›ç´§å¯†è€¦åˆã€‚æˆ‘ä»¬çš„æ–¹æ³•å°†æ¯ä¸ªä¸“å®¶çš„è·¯ç”±å™¨åµŒå…¥ (router embedding) è§†ä¸ºåˆ†é…ç»™è¯¥ä¸“å®¶çš„ Token çš„ä»£ç† Token (proxy token)ï¼Œå¹¶å°†æ‰°åŠ¨åçš„è·¯ç”±å™¨åµŒå…¥è¾“å…¥ä¸“å®¶ä»¥è·å–å…¶å†…éƒ¨æ¿€æ´» (internal activations)ã€‚ERC æŸå¤±å¯¹è¿™äº›æ¿€æ´»æ–½åŠ äº†ä¸¤é¡¹çº¦æŸï¼š(1) æ¯ä¸ªä¸“å®¶å¯¹å…¶è‡ªèº«ä»£ç† Token çš„æ¿€æ´»å¿…é¡»é«˜äºå¯¹å…¶ä»–ä»»ä½•ä¸“å®¶ä»£ç† Token çš„æ¿€æ´»ã€‚(2) æ¯ä¸ªä»£ç† Token åœ¨å…¶å¯¹åº”ä¸“å®¶å¤„æ¿€å‘çš„æ¿€æ´»å¿…é¡»å¼ºäºåœ¨å…¶ä»–ä»»ä½•ä¸“å®¶å¤„æ¿€å‘çš„æ¿€æ´»ã€‚è¿™äº›çº¦æŸå…±åŒä½œç”¨ï¼Œç¡®ä¿æ¯ä¸ªè·¯ç”±å™¨åµŒå…¥èƒ½å‡†ç¡®è¡¨å¾å…¶å¯¹åº”ä¸“å®¶çš„èƒ½åŠ›ï¼ŒåŒæ—¶ä½¿æ¯ä¸ªä¸“å®¶ä¸“æ³¨äºå¤„ç†å®é™…è¢«è·¯ç”±è‡³å®ƒçš„ Tokenã€‚ERC æŸå¤±è®¡ç®—é«˜æ•ˆï¼Œä»…éœ€å¤„ç† n^2 ä¸ªæ¿€æ´»ï¼ˆn ä¸ºä¸“å®¶æ•°é‡ï¼‰ã€‚è¿™æ„å‘³ç€ä¸€ä¸ªä¸æ‰¹æ¬¡å¤§å°æ— å…³çš„å›ºå®šå¼€é”€ï¼Œä¸åŒäºå…ˆå‰é‚£äº›è®¡ç®—æˆæœ¬éš Token æ•°é‡ï¼ˆé€šå¸¸æ¯æ‰¹æ¬¡è¾¾æ•°ç™¾ä¸‡ï¼‰å¢é•¿çš„è€¦åˆæ–¹æ³•ã€‚é€šè¿‡å¯¹å‚æ•°é‡ä» 30äº¿åˆ° 150äº¿çš„ MoE-LLMs è¿›è¡Œé¢„è®­ç»ƒï¼Œå¹¶åŸºäºæ•°ä¸‡äº¿ Token è¿›è¡Œå¹¿æ³›åˆ†æï¼Œæˆ‘ä»¬éªŒè¯äº† ERC æŸå¤±çš„æœ‰æ•ˆæ€§ã€‚æ­¤å¤–ï¼ŒERC æŸå¤±è¿˜èƒ½åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å¯¹ä¸“å®¶çš„ä¸“ä¸šåŒ–ç¨‹åº¦è¿›è¡Œçµæ´»æ§åˆ¶å’Œå®šé‡è¿½è¸ªï¼Œä»è€Œä¸ºç†è§£ MoE æ¨¡å‹æä¾›äº†å®è´µæ´è§ã€‚</p>
<h2 data-id="heading-4">Youtu-LLM: Unlocking the Native Agentic Potential for Lightweight Large Language Models</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.24618" target="_blank" title="https://arxiv.org/abs/2512.24618" ref="nofollow noopener noreferrer">Youtu-LLM: é‡Šæ”¾è½»é‡çº§å¤§è¯­è¨€æ¨¡å‹çš„åŸç”Ÿæ™ºèƒ½ä½“æ½œåŠ›</a></p>
<p>æˆ‘ä»¬æ¨å‡º Youtu-LLMï¼Œè¿™æ˜¯ä¸€ä¸ªè½»é‡çº§ä½†åŠŸèƒ½å¼ºå¤§çš„è¯­è¨€æ¨¡å‹ï¼Œå®ƒæˆåŠŸå…¼é¡¾äº†é«˜è®¡ç®—æ•ˆç‡ä¸åŸç”Ÿæ™ºèƒ½ä½“æ™ºèƒ½ã€‚ä¸é€šå¸¸ä¾èµ–çŸ¥è¯†è’¸é¦çš„å°å‹æ¨¡å‹ä¸åŒï¼ŒYoutu-LLM (1.96B) é‡‡ç”¨ä»å¤´é¢„è®­ç»ƒçš„æ–¹å¼ï¼Œæ—¨åœ¨ç³»ç»Ÿæ€§åœ°å‘å±•å…¶æ¨ç†ä¸è§„åˆ’èƒ½åŠ›ã€‚å…¶å…³é”®æŠ€æœ¯è¿›å±•å¦‚ä¸‹ï¼š(1) æ”¯æŒé•¿ä¸Šä¸‹æ–‡çš„ç´§å‡‘æ¶æ„ï¼šè¯¥æ¨¡å‹åŸºäºå¯†é›†çš„å¤šæ½œåœ¨æ³¨æ„åŠ› (MLA) æ¶æ„å’Œä¸€ç§æ–°é¢–çš„ STEM å¯¼å‘è¯æ±‡è¡¨æ„å»ºï¼Œæ”¯æŒé•¿è¾¾ 128k çš„ä¸Šä¸‹æ–‡çª—å£ã€‚è¿™ä¸€è®¾è®¡ä½¿å…¶èƒ½å¤Ÿåœ¨æå°çš„å†…å­˜å¼€é”€ä¸‹å®ç°ç¨³å¥çš„é•¿ä¸Šä¸‹æ–‡æ¨ç†ä¸çŠ¶æ€è¿½è¸ªï¼Œéå¸¸é€‚åˆé•¿ç¨‹æ™ºèƒ½ä½“ä»»åŠ¡å’Œæ¨ç†ä»»åŠ¡ã€‚(2) ç»“æ„åŒ–çš„ "å¸¸è¯†-STEM-æ™ºèƒ½ä½“" è¯¾ç¨‹å­¦ä¹ ï¼šæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªçº¦ 11T token çš„å¤§è§„æ¨¡è¯­æ–™åº“ï¼Œå¹¶é‡‡ç”¨å¤šé˜¶æ®µè®­ç»ƒç­–ç•¥ã€‚é€šè¿‡é€æ­¥å°†é¢„è®­ç»ƒæ•°æ®çš„åˆ†å¸ƒä»é€šç”¨å¸¸è¯†è½¬å‘å¤æ‚çš„ STEM åŠæ™ºèƒ½ä½“ä»»åŠ¡ï¼Œæˆ‘ä»¬ç¡®ä¿æ¨¡å‹è·å¾—çš„æ˜¯æ·±å±‚çš„è®¤çŸ¥èƒ½åŠ›ï¼Œè€Œéæµ…å±‚çš„ä»»åŠ¡å¯¹é½ã€‚(3) å¯æ‰©å±•çš„æ™ºèƒ½ä½“ä¸­æœŸè®­ç»ƒï¼šé’ˆå¯¹æ™ºèƒ½ä½“ä¸­æœŸè®­ç»ƒï¼Œæˆ‘ä»¬é‡‡ç”¨äº†å¤šæ ·åŒ–çš„æ•°æ®æ„å»ºæ–¹æ¡ˆï¼Œåœ¨æ•°å­¦ã€ä»£ç å’Œå·¥å…·ä½¿ç”¨ç­‰é¢†åŸŸåˆæˆäº†ä¸°å¯Œå¤šæ ·çš„è¡ŒåŠ¨è½¨è¿¹ã€‚è¿™äº›é«˜è´¨é‡æ•°æ®ä½¿æ¨¡å‹èƒ½å¤Ÿæœ‰æ•ˆåœ°å†…åŒ–è§„åˆ’ä¸åæ€è¡Œä¸ºã€‚å¹¿æ³›çš„è¯„ä¼°è¡¨æ˜ï¼ŒYoutu-LLM ä¸ºå‚æ•°é‡å°äº 20 äº¿çš„å¤§è¯­è¨€æ¨¡å‹æ ‘ç«‹äº†æ–°çš„æ€§èƒ½æ ‡æ†ã€‚åœ¨é€šç”¨åŸºå‡†æµ‹è¯•ä¸­ï¼Œå…¶æ€§èƒ½å¯ä¸æ›´å¤§çš„æ¨¡å‹ç›¸åª²ç¾ï¼›è€Œåœ¨æ™ºèƒ½ä½“ä¸“é¡¹ä»»åŠ¡ä¸Šï¼Œå®ƒåˆ™æ˜¾è‘—è¶…è¶Šäº†ç°æœ‰çš„ SOTA åŸºçº¿æ¨¡å‹ï¼Œè¿™è¯æ˜è½»é‡çº§æ¨¡å‹åŒæ ·å¯ä»¥å…·å¤‡å¼ºå¤§çš„å†…åœ¨æ™ºèƒ½ä½“èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-5">Improving Multi-step RAG with Hypergraph-based Memory for Long-Context Complex Relational Modeling</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.23959" target="_blank" title="https://arxiv.org/abs/2512.23959" ref="nofollow noopener noreferrer">åŸºäºè¶…å›¾è®°å¿†æ”¹è¿›å¤šæ­¥ RAG ä»¥è¿›è¡Œé•¿ä¸Šä¸‹æ–‡å¤æ‚å…³ç³»å»ºæ¨¡</a></p>
<p>å¤šæ­¥æ£€ç´¢å¢å¼ºç”Ÿæˆ (RAG) å·²æˆä¸ºä¸€é¡¹å¹¿æ³›é‡‡ç”¨çš„ç­–ç•¥ï¼Œç”¨äºå¢å¼ºå¤§è¯­è¨€æ¨¡å‹ (LLM) åœ¨éœ€è¦å…¨å±€ç†è§£å’Œæ·±åº¦æ¨ç†ä»»åŠ¡ä¸Šçš„æ€§èƒ½ã€‚è®¸å¤š RAG ç³»ç»Ÿé›†æˆäº†å·¥ä½œè®°å¿†æ¨¡å—ä»¥æ•´åˆæ£€ç´¢åˆ°çš„ä¿¡æ¯ã€‚ç„¶è€Œï¼Œç°æœ‰çš„è®°å¿†è®¾è®¡ä¸»è¦å……å½“è¢«åŠ¨å­˜å‚¨å™¨ï¼Œä»…ç”¨äºç§¯ç´¯å­¤ç«‹çš„äº‹å®ï¼Œä»¥å‹ç¼©å†—é•¿è¾“å…¥å¹¶é€šè¿‡æ¼”ç»ç”Ÿæˆæ–°çš„å­æŸ¥è¯¢ã€‚è¿™ç§é™æ€ç‰¹æ€§å¿½ç•¥äº†åŸå§‹äº‹å®é—´å…³é”®çš„é«˜é˜¶å…³è”ï¼Œè€Œè¿™äº›äº‹å®çš„ç»„åˆå¾€å¾€èƒ½ä¸ºåç»­æ­¥éª¤æä¾›æ›´å¼ºçš„æŒ‡å¯¼ã€‚å› æ­¤ï¼Œå…¶è¡¨ç¤ºèƒ½åŠ›ä»¥åŠå¯¹å¤šæ­¥æ¨ç†å’ŒçŸ¥è¯†æ¼”è¿›çš„å½±å“æœ‰é™ï¼Œå¯¼è‡´åœ¨é•¿ä¸Šä¸‹æ–‡å¤„ç†ä¸­å‡ºç°æ¨ç†ç¢ç‰‡åŒ–å’Œå…¨å±€ç†è§£èƒ½åŠ›è–„å¼±çš„é—®é¢˜ã€‚æˆ‘ä»¬æå‡ºäº† HGMemï¼Œä¸€ç§åŸºäºè¶…å›¾çš„è®°å¿†æœºåˆ¶ï¼Œå®ƒå°†è®°å¿†çš„æ¦‚å¿µä»ç®€å•çš„å­˜å‚¨æ‰©å±•ä¸ºä¸€ç§åŠ¨æ€ã€å¯Œæœ‰è¡¨ç°åŠ›çš„ç»“æ„ï¼Œä»¥æ”¯æŒå¤æ‚æ¨ç†å’Œå…¨å±€ç†è§£ã€‚åœ¨æˆ‘ä»¬çš„æ–¹æ³•ä¸­ï¼Œè®°å¿†è¢«è¡¨ç¤ºä¸ºä¸€ä¸ªè¶…å›¾ï¼Œå…¶è¶…è¾¹å¯¹åº”ä¸åŒçš„è®°å¿†å•å…ƒï¼Œä»è€Œèƒ½å¤Ÿåœ¨è®°å¿†å†…éƒ¨é€æ­¥å½¢æˆé«˜é˜¶äº¤äº’ã€‚è¯¥æœºåˆ¶å›´ç»•æ ¸å¿ƒé—®é¢˜è¿æ¥äº‹å®ä¸æ€è·¯ï¼Œæ¼”è¿›ä¸ºä¸€ä¸ªä¸€ä½“åŒ–ã€æƒ…å¢ƒåŒ–çš„çŸ¥è¯†ç»“æ„ï¼Œä¸ºåç»­æ­¥éª¤çš„æ·±åº¦æ¨ç†æä¾›æœ‰åŠ›æ”¯æ’‘ã€‚æˆ‘ä»¬åœ¨å¤šä¸ªä¸“ä¸ºæµ‹è¯•å…¨å±€ç†è§£èƒ½åŠ›è®¾è®¡çš„æŒ‘æˆ˜æ€§æ•°æ®é›†ä¸Šè¯„ä¼°äº† HGMemã€‚å¤§é‡å®éªŒå’Œæ·±å…¥åˆ†æè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ–¹æ³•èƒ½æŒç»­æå‡å¤šæ­¥ RAG çš„æ€§èƒ½ï¼Œå¹¶åœ¨å¤šç§ä»»åŠ¡ä¸Šæ˜¾è‘—ä¼˜äºå„å¼ºåŸºçº¿ç³»ç»Ÿã€‚</p>
<h2 data-id="heading-6">LiveTalk: Real-Time Multimodal Interactive Video Diffusion via Improved On-Policy Distillation</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.23576" target="_blank" title="https://arxiv.org/abs/2512.23576" ref="nofollow noopener noreferrer">LiveTalk: é€šè¿‡æ”¹è¿›çš„åŒç­–ç•¥è’¸é¦å®ç°å®æ—¶å¤šæ¨¡æ€äº¤äº’å¼è§†é¢‘æ‰©æ•£</a></p>
<p>åˆ©ç”¨æ‰©æ•£æ¨¡å‹è¿›è¡Œå®æ—¶è§†é¢‘ç”Ÿæˆï¼Œå¯¹äºæ„å»ºé€šç”¨å¤šæ¨¡æ€äº¤äº’å¼ AI ç³»ç»Ÿè‡³å…³é‡è¦ã€‚ç„¶è€Œï¼Œæ‰©æ•£æ¨¡å‹é€šè¿‡è¿­ä»£è¿‡ç¨‹ã€ç»“åˆåŒå‘æ³¨æ„åŠ›å¯¹æ‰€æœ‰è§†é¢‘å¸§è¿›è¡ŒåŒæ­¥å»å™ªï¼Œè¿™é˜»ç¢äº†å®æ—¶äº¤äº’ã€‚è™½ç„¶ç°æœ‰çš„è’¸é¦æ–¹æ³•å¯ä»¥ä½¿æ¨¡å‹å…·å¤‡è‡ªå›å½’ç‰¹æ€§å¹¶å‡å°‘é‡‡æ ·æ­¥æ•°ä»¥ç¼“è§£æ­¤é—®é¢˜ï¼Œä½†è¿™äº›æ–¹æ³•ä¸»è¦é›†ä¸­äºæ–‡ç”Ÿè§†é¢‘ä»»åŠ¡ï¼Œå¯¼è‡´äººæœºäº¤äº’æ˜¾å¾—ä¸è‡ªç„¶ä¸”æ•ˆç‡ä½ä¸‹ã€‚æœ¬æ–‡æ—¨åœ¨å®ç°ä¸€ç§åŸºäºå¤šæ¨¡æ€ä¸Šä¸‹æ–‡ï¼ˆåŒ…æ‹¬æ–‡æœ¬ã€å›¾åƒå’ŒéŸ³é¢‘ï¼‰çš„å®æ—¶äº¤äº’å¼è§†é¢‘æ‰©æ•£æ¨¡å‹ï¼Œä»¥å¼¥åˆè¿™ä¸€å·®è·ã€‚æˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼Œé¢†å…ˆçš„åŒç­–ç•¥è’¸é¦æ–¹æ³• Self Forcing åœ¨å¤šæ¨¡æ€æ¡ä»¶è¾“å…¥ä¸‹ä¼šé¢ä¸´æŒ‘æˆ˜ï¼ˆå‡ºç°é—ªçƒã€é»‘å¸§å’Œè´¨é‡ä¸‹é™ç­‰è§†è§‰ä¼ªå½±ï¼‰ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ç ”ç©¶äº†ä¸€ç§æ”¹è¿›çš„è’¸é¦æ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆç€é‡ä¼˜åŒ–æ¡ä»¶è¾“å…¥çš„è´¨é‡ï¼Œä»¥åŠåŒç­–ç•¥ä¼˜åŒ–çš„åˆå§‹åŒ–å’Œè°ƒåº¦ç­–ç•¥ã€‚åœ¨ HDTFã€AVSpeech å’Œ CelebV-HQ ç­‰å¤šæ¨¡æ€æ¡ä»¶ï¼ˆéŸ³é¢‘ã€å›¾åƒå’Œæ–‡æœ¬ï¼‰é©±åŠ¨çš„è™šæ‹Ÿå½¢è±¡è§†é¢‘ç”ŸæˆåŸºå‡†æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬è’¸é¦å¾—åˆ°çš„æ¨¡å‹ï¼Œåœ¨æ¨ç†æˆæœ¬å’Œå»¶è¿Ÿé™ä½ 20 å€çš„å‰æä¸‹ï¼Œå…¶è§†è§‰è´¨é‡ä¸ç›¸ä¼¼æˆ–æ›´å¤§è§„æ¨¡çš„å…¨æ­¥é•¿åŒå‘åŸºçº¿æ¨¡å‹ç›¸å½“ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å°†è¯¥æ¨¡å‹ä¸éŸ³é¢‘è¯­è¨€æ¨¡å‹ä»¥åŠé•¿è§†é¢‘æ¨ç†æŠ€æœ¯ Anchor-Heavy Identity Sinks ç›¸ç»“åˆï¼Œæ„å»ºäº† LiveTalkâ€”â€”ä¸€ä¸ªå®æ—¶å¤šæ¨¡æ€äº¤äº’å¼è™šæ‹Ÿå½¢è±¡ç³»ç»Ÿã€‚åœ¨æˆ‘ä»¬ç²¾å¿ƒæ„å»ºçš„å¤šè½®äº¤äº’åŸºå‡†ä¸Šè¿›è¡Œçš„ç³»ç»Ÿçº§è¯„ä¼°æ˜¾ç¤ºï¼ŒLiveTalk åœ¨å¤šè½®è§†é¢‘è¿è´¯æ€§å’Œå†…å®¹è´¨é‡æ–¹é¢å‡ä¼˜äº Sora2ã€Veo3 ç­‰æœ€å…ˆè¿›çš„æ¨¡å‹ï¼ŒåŒæ—¶å°†å“åº”å»¶è¿Ÿä» 1-2 åˆ†é’Ÿå¤§å¹…é™ä½è‡³å®æ—¶ç”Ÿæˆæ°´å¹³ï¼Œä»è€Œå®ç°äº†æµç•…æ— ç¼çš„äººæœºå¤šæ¨¡æ€äº¤äº’ã€‚</p>
<h2 data-id="heading-7">Yume-1.5: A Text-Controlled Interactive World Generation Model</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.22096" target="_blank" title="https://arxiv.org/abs/2512.22096" ref="nofollow noopener noreferrer">Yume-1.5: ä¸€ä¸ªæ–‡æœ¬æ§åˆ¶çš„äº¤äº’å¼ä¸–ç•Œç”Ÿæˆæ¨¡å‹</a></p>
<p>è¿‘æœŸçš„ä¸€äº›æ–¹æ³•å±•ç°äº†åˆ©ç”¨æ‰©æ•£æ¨¡å‹ç”Ÿæˆäº¤äº’å¼ã€å¯æ¢ç´¢ä¸–ç•Œçš„æ½œåŠ›ã€‚ç„¶è€Œï¼Œè¿™äº›æ–¹æ³•å¤§å¤šé¢ä¸´å…³é”®æŒ‘æˆ˜ï¼Œä¾‹å¦‚å‚æ•°é‡è¿‡å¤§ã€ä¾èµ–å†—é•¿çš„æ¨ç†æ­¥éª¤ä»¥åŠå†å²ä¸Šä¸‹æ–‡å¿«é€Ÿå¢é•¿ï¼Œè¿™äº›é—®é¢˜ä¸¥é‡é™åˆ¶äº†å®æ—¶æ€§èƒ½ï¼Œå¹¶ä¸”ç¼ºä¹æ–‡æœ¬æ§åˆ¶ç”Ÿæˆèƒ½åŠ›ã€‚ä¸ºè§£å†³è¿™äº›æŒ‘æˆ˜ï¼Œæˆ‘ä»¬æå‡ºäº† \methodï¼Œè¿™æ˜¯ä¸€ä¸ªæ–°é¢–çš„æ¡†æ¶ï¼Œç”¨äºä»å•å¼ å›¾åƒæˆ–æ–‡æœ¬æç¤ºç”Ÿæˆé€¼çœŸã€äº¤äº’ä¸”è¿ç»­çš„ä¸–ç•Œã€‚\method é€šè¿‡ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„æ¡†æ¶å®ç°æ­¤ç›®æ ‡ï¼Œè¯¥æ¡†æ¶æ”¯æŒåŸºäºé”®ç›˜å¯¹ç”Ÿæˆçš„ä¸–ç•Œè¿›è¡Œæ¢ç´¢ã€‚è¯¥æ¡†æ¶åŒ…å«ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶ï¼š(1) ä¸€ä¸ªé›†æˆäº†ç»Ÿä¸€ä¸Šä¸‹æ–‡å‹ç¼©ä¸çº¿æ€§æ³¨æ„åŠ›çš„é•¿è§†é¢‘ç”Ÿæˆæ¡†æ¶ï¼›(2) ä¸€ä¸ªç”±åŒå‘æ³¨æ„åŠ›è’¸é¦å’Œå¢å¼ºæ–‡æœ¬åµŒå…¥æ–¹æ¡ˆé©±åŠ¨çš„å®æ—¶æµå¼åŠ é€Ÿç­–ç•¥ï¼›(3) ä¸€ç§ç”¨äºç”Ÿæˆä¸–ç•Œäº‹ä»¶çš„æ–‡æœ¬æ§åˆ¶æ–¹æ³•ã€‚ç›¸å…³ä»£ç åº“å·²æä¾›åœ¨è¡¥å……ææ–™ä¸­ã€‚</p>
<h2 data-id="heading-8">Let It Flow: Agentic Crafting on Rock and Roll, Building the ROME Model within an Open Agentic Learning Ecosystem</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.24873" target="_blank" title="https://arxiv.org/abs/2512.24873" ref="nofollow noopener noreferrer">ä»»å…¶æµåŠ¨ï¼šåŸºäº ROCK ä¸ ROLL çš„æ™ºèƒ½ä½“å¼æ„å»ºï¼Œåœ¨å¼€æ”¾æ™ºèƒ½ä½“å­¦ä¹ ç”Ÿæ€ç³»ç»Ÿä¸­æ‰“é€  ROME æ¨¡å‹</a></p>
<p>æ™ºèƒ½ä½“å¼æ„å»º (Agentic crafting) è¦æ±‚å¤§è¯­è¨€æ¨¡å‹ (LLM) åœ¨ç°å®ç¯å¢ƒä¸­é€šè¿‡å¤šè½®æ“ä½œæ¥æ‰§è¡Œä»»åŠ¡ï¼Œå…·ä½“åŒ…æ‹¬é‡‡å–è¡ŒåŠ¨ã€è§‚å¯Ÿç»“æœå¹¶è¿­ä»£ä¼˜åŒ–å…¶ç”Ÿæˆçš„åˆ¶å“ã€‚å°½ç®¡è¯¥èƒ½åŠ›è‡³å…³é‡è¦ï¼Œä½†å¼€æºç¤¾åŒºç›®å‰ä»ç¼ºä¹ä¸€ä¸ªç³»ç»ŸåŒ–ã€ç«¯åˆ°ç«¯çš„ç”Ÿæ€ç³»ç»Ÿæ¥ç®€åŒ–æ™ºèƒ½ä½“çš„å¼€å‘æµç¨‹ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†æ™ºèƒ½ä½“å­¦ä¹ ç”Ÿæ€ç³»ç»Ÿ (Agentic Learning Ecosystem, ALE)ï¼Œè¿™æ˜¯ä¸€ä¸ªæ—¨åœ¨ä¼˜åŒ–æ™ºèƒ½ä½“å¤§è¯­è¨€æ¨¡å‹ç”Ÿäº§æµæ°´çº¿çš„åŸºç¡€è®¾æ–½ã€‚ALE åŒ…å«ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶ï¼šROLLï¼Œä¸€ä¸ªç”¨äºæƒé‡ä¼˜åŒ–çš„åè®­ç»ƒ (post-training) æ¡†æ¶ï¼›ROCKï¼Œä¸€ä¸ªç”¨äºç”Ÿæˆè®­ç»ƒè½¨è¿¹çš„æ²™ç›’ç¯å¢ƒç®¡ç†å™¨ï¼›ä»¥åŠ iFlow CLIï¼Œä¸€ä¸ªç”¨äºé«˜æ•ˆä¸Šä¸‹æ–‡å·¥ç¨‹ (context engineering) çš„æ™ºèƒ½ä½“æ¡†æ¶ã€‚æˆ‘ä»¬å‘å¸ƒäº† ROME (ROME is Obviously an Agentic Model)ï¼Œè¿™æ˜¯ä¸€ä¸ªåŸºäº ALE æ„å»ºã€å¹¶åœ¨è¶…è¿‡ä¸€ç™¾ä¸‡æ¡è½¨è¿¹ä¸Šè®­ç»ƒè€Œæˆçš„å¼€æºæ™ºèƒ½ä½“æ¨¡å‹ã€‚æˆ‘ä»¬çš„æ–¹æ³•åŒ…å«ç”¨äºåˆæˆå¤æ‚è¡Œä¸ºçš„æ•°æ®ç»„åˆåè®® (data composition protocols)ï¼Œä»¥åŠä¸€ç§æ–°é¢–çš„ç­–ç•¥ä¼˜åŒ–ç®—æ³•â€”â€”åŸºäºäº¤äº’çš„ç­–ç•¥å¯¹é½ (Interaction-based Policy Alignment, IPA)ã€‚IPA ç®—æ³•åœ¨è¯­ä¹‰äº¤äº’å—è€Œéå•ä¸ª Token ä¸Šåˆ†é…ä¿¡ç”¨ï¼Œä»è€Œæå‡äº†é•¿è§†é‡ (long-horizon) è®­ç»ƒçš„ç¨³å®šæ€§ã€‚åœ¨å®è¯è¯„ä¼°ä¸­ï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªç»“æ„åŒ–è®¾ç½®ä¸­å¯¹ ROME è¿›è¡Œäº†æµ‹è¯•ï¼Œå¹¶æ¨å‡ºäº† Terminal Bench Pro åŸºå‡†æµ‹è¯•ï¼Œè¯¥åŸºå‡†åœ¨è§„æ¨¡å’Œæ±¡æŸ“æ§åˆ¶æ–¹é¢å‡æœ‰æ”¹è¿›ã€‚ROME åœ¨ SWE-bench Verified å’Œ Terminal Bench ç­‰å¤šä¸ªåŸºå‡†æµ‹è¯•ä¸­å‡å±•ç°å‡ºå¼ºåŠ²æ€§èƒ½ï¼Œè¿™è¯æ˜äº† ALE åŸºç¡€è®¾æ–½çš„æœ‰æ•ˆæ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ä¸ªåˆ‡å›¾ä»”çš„2025å¹´åº¦æ€»ç»“ï¼šAI ä¸ Vibe Coding æ•™ä¼šäº†å¤§å­¦ç”Ÿå•¥ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7589958976226754570</link>    <guid>https://juejin.cn/post/7589958976226754570</guid>    <pubDate>2026-01-02T07:36:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589958976226754570" data-draft-id="7589940913767039011" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ä¸ªåˆ‡å›¾ä»”çš„2025å¹´åº¦æ€»ç»“ï¼šAI ä¸ Vibe Coding æ•™ä¼šäº†å¤§å­¦ç”Ÿå•¥ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,äººå·¥æ™ºèƒ½,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-02T07:36:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£æ­¢ä½•å®‰å•Š"/> <meta itemprop="url" content="https://juejin.cn/user/2517239724512420"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ä¸ªåˆ‡å›¾ä»”çš„2025å¹´åº¦æ€»ç»“ï¼šAI ä¸ Vibe Coding æ•™ä¼šäº†å¤§å­¦ç”Ÿå•¥ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2517239724512420/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£æ­¢ä½•å®‰å•Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-02T07:36:51.000Z" title="Fri Jan 02 2026 07:36:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å½“çœ‹åˆ°å®˜æ–¹æ¨å‡ºè¿™ä¸ªæ´»åŠ¨çš„æ—¶å€™ï¼Œæˆ‘é©¬ä¸Šå°±æƒ³å¼€å§‹ç å­—äº†ï¼Œå› ä¸ºæœ‰å¤ªå¤šè¯è¦è¯´äº†ã€‚2025ç®—æ˜¯æˆ‘å¤§å­¦çš„ä¸€ä¸ª<strong>å…³é”®è½¬æŠ˜ç‚¹</strong>ï¼Œè‡³å°‘ä»ç°åœ¨æ¥çœ‹æ˜¯è¿™æ ·çš„ã€‚è‡³äºä¸ºä»€ä¹ˆç°åœ¨æ‰åŠ¨æ‰‹å†™ï¼Œæ˜¯å› ä¸ºæœ€è¿‘çš„è€ƒè¯•æ¯”è¾ƒé¢‘ç¹ğŸ˜­ï¼Œè¶ç€å…ƒæ—¦æ”¾å‡ï¼Œæˆ‘è¦å¥½å¥½å†™å†™è¿™ç¯‡æ–‡ç« ã€‚</p>
<p>çœ‹äº†å¾ˆå¤šç¯‡å¤§ä½¬å†™çš„æ€»ç»“éƒ½å¾ˆå¥½ï¼Œé‚£ä¹ˆæˆ‘æƒ³ä»å­¦ç”Ÿè§’åº¦æ¥è°ˆè°ˆAIå¤§æ¨¡å‹çš„å½±å“ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆè¯´2025æ˜¯å…³é”®è½¬æŠ˜ç‚¹ï¼Ÿ2025æˆ‘å¹²äº†ä»€ä¹ˆï¼Ÿ</h3>
<p>åœ¨å‰è¨€æˆ‘æåˆ°äº†2025ç®—æ˜¯æˆ‘çš„ä¸€ä¸ªå…³é”®è½¬æŠ˜ç‚¹ï¼Œé‚£ä¸ºä»€ä¹ˆè¿™æ ·è¯´å‘¢ï¼Ÿé¦–å…ˆ2025è´¯ç©¿äº†å¤§ä¸€ä¸‹å’Œå¤§äºŒä¸Šï¼Œåœ¨å¤§ä¸€æˆ‘æ˜¯å‡ ä¹æ¯å¤©éƒ½åœ¨ç©ï¼Œå¿™ä¸€äº›ç¤¾å›¢æ´»åŠ¨ä¹‹ç±»çš„ï¼Œå”¯ä¸€è·Ÿå­¦ä¹ æ²¾è¾¹çš„å¯èƒ½å°±æ˜¯å’Œè®¡åçš„å…„å¼Ÿä»¬ä¸€èµ·å†™ç®—æ³•äº†ï¼Œé‚£ä¸ªæ—¶å€™æˆ‘è¿˜æ˜¯æƒ³èµ°<strong>C++/Java</strong>æ–¹å‘çš„å‘¢ï¼Œä¸»è¦å<strong>åç«¯</strong>ä¸€ç‚¹ï¼Œæ¯å¤©å°±æ˜¯cfä¸Šå·ï¼Œåˆ·åˆ·æ´›è°·ï¼Œæ‰“æ‰“ç‰›å®¢å‘¨èµ›ï¼Œä¸€ç›´åˆ°æš‘å‡éƒ½æ˜¯è¿™ç§çŠ¶å†µã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb94c3ebd3c64aa1b9366fd1c1767ae1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767944211&amp;x-signature=QapMAnkZgDvwBeXz7QRdTVmT3xw%3D" alt="image.png" loading="lazy"/></p>
<p>è½¬æŠ˜ç‚¹å°±å‘ç”Ÿåœ¨å¤§ä¸€ä¸‹çš„æš‘å‡ï¼Œæˆ‘æ¥è§¦äº†<strong>HTML å’Œ CSS</strong>ï¼Œçªç„¶åƒå‘ç°äº†æ–°å¤§é™†ï¼Œè§‰å¾—ç‰¹æœ‰æ„æ€ï¼Œæ¯”èµ·é‚£ç›¸å¯¹æ¯ç‡¥çš„ç®—æ³•ï¼Œæˆ‘æ›´å–œæ¬¢è¿™ç§<strong>è‡ªå·±åˆ‡å‡ºé¡µé¢çš„æ„Ÿè§‰</strong>ã€‚å½“æ—¶ä¹Ÿå¬è¯´åç«¯çš„å¤§ç¯å¢ƒè¿‘å‡ å¹´ä¸æ˜¯å¾ˆå¥½ï¼ˆåæ­£å¤§å››å­¦é•¿æ˜¥æ‹›çš„æ—¶å€™è¿™æ ·è¯´çš„ï¼Œå°¤å…¶æ˜¯Javaï¼‰ï¼Œç„¶åè‡ªå·±ä¹Ÿè§‰å¾—ä¸Šé™å¤ªé«˜ï¼Œæ²¡èµ„æºçš„è¯å¯èƒ½å¹²ä¸ä¸‹å»ï¼Œæ‰€ä»¥å½“æ—¶å°±èŒå‘äº†å¯ä»¥è½¬å‰ç«¯çš„æƒ³æ³•ï¼Œè¦ä¸è¯•è¯•<strong>web</strong>å‘¢ï¼Ÿæˆ‘å°±è¿™æ ·é—®è‡ªå·±ã€‚</p>
<p>åˆ°äº†å¤§äºŒä¸Šå­¦æœŸï¼Œç»è¿‡æˆ‘è‡ªå·±çš„å·¦å³è„‘äº’æï¼Œæˆ‘è¿˜æ˜¯é€‰æ‹©äº†ä¸»æ”»å‰ç«¯ï¼Œå¦‚æœéœ€è¦çš„è¯å¯ä»¥ææå…¨æ ˆï¼ˆæœ€è¿‘å¾ˆğŸ”¥çš„AIGCæˆ‘ä¹Ÿæƒ³try tryï¼‰ï¼Œè¿™æ ·å°±æˆäº†<strong>AI + å…¨æ ˆ</strong>çš„ä¸€æ¡è·¯ï¼Œä¸è¿‡ç›®å‰æˆ‘è¿˜æ˜¯åå‰ç«¯å¤šç‚¹ã€‚è¿™æ ·æˆ‘å¤§è‡´çš„æ–¹å‘å°±å·®ä¸å¤šç¡®å®šå¥½äº†ï¼Œè¿™å°±ä¸ºä»€ä¹ˆè¯´2025ç®—æ˜¯å¾ˆå…³é”®çš„ä¸€å¹´ã€‚</p>
<h3 data-id="heading-2">äºŒã€å¤§å­¦ç”Ÿä¹Ÿèƒ½å†™ä¸ªäººåšå®¢å—ï¼Ÿ</h3>
<p>å¾ˆå¤šäººå¬åˆ°è¿™ç§ä»€ä¹ˆä¸ªäººåšå®¢å°±è§‰å¾—å¾ˆé«˜å¤§å°šï¼Œè§‰å¾—å’Œä»–ä»¬æ²¡æœ‰ä»€ä¹ˆå…³ç³»ï¼Œæˆ‘ä¸€å¼€å§‹ä¹Ÿæ˜¯è¿™æ ·ã€‚å¤§å­¦ç”Ÿä¹Ÿèƒ½å†™ä»€ä¹ˆä¸ªäººåšå®¢å—ï¼ŸçœŸçš„æœ‰é‚£ä¸ªæ°´å¹³å—ï¼Ÿå†™äº†ä¸€å¨å‘å‡ºå»æƒ³è¢«è°å–·å—ï¼Ÿæˆ‘åˆšåŠ å…¥ç¨€åœŸæ˜é‡‘çš„æ—¶å€™ï¼Œå°±æ˜¯è¿™ç§çŠ¶æ€ã€‚æ¯å¤©çœ‹ç€åˆ«äººå†™çš„æ–‡ç« è§‰å¾—å†™çš„å¾ˆå¥½ï¼Œå†çœ‹çœ‹è‡ªå·±ï¼Œå°±è§‰å¾—å¥½åƒçœŸçš„æ²¡æœ‰å¿…è¦ã€‚</p>
<p>ç›´åˆ°æˆ‘å‘å‡ºäº†<strong>ç¬¬ä¸€ç¯‡æ–‡ç« </strong>ï¼š</p>
<blockquote>
<p><a href="https://juejin.cn/post/7568796644348133376" target="_blank" title="https://juejin.cn/post/7568796644348133376">æ·±å…¥ V8 å¼•æ“ï¼šJavaScript æ‰§è¡Œæœºåˆ¶ä¸ä½œç”¨åŸŸæ¨¡å‹çš„åº•å±‚é€»è¾‘è§£æ</a></p>
</blockquote>
<p>è¢«å®˜æ–¹æ¨èï¼Œä¸Šçƒ­æœæ¦œï¼Œ2.4käººçœ‹è¿‡ï¼Œæˆ‘é‚£æ—¶å€™å°±çŸ¥é“äº†ï¼Œå¤§å­¦ç”Ÿä¹Ÿèƒ½å†™ã€‚è™½ç„¶å†™çš„ä¸œè¥¿å¯èƒ½ä¸æ˜¯å¾ˆNBï¼Œä½†å´æ˜¯æˆ‘æ¯å¤©çš„æˆé•¿è¿‡ç¨‹ï¼Œæˆ‘æŠŠæ˜é‡‘çš„æ–‡ç« å½“æˆé•¿æ—¥è®°ï¼Œä¸€ç‚¹ä¸€ç‚¹è®°å½•æˆ‘çš„å­¦ä¹ è¿›åº¦ï¼Œæ¯æ¬¡æˆ‘å­¦å®Œä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œæˆ‘éƒ½ä¼šæ›´æ–°ï¼Œæˆ‘ä¹Ÿå¸Œæœ›æœ‰éœ€è¦çš„äººèƒ½å¤Ÿçœ‹åˆ°æˆ‘çš„æ–‡ç« ã€‚</p>
<p>å½“ç„¶ï¼Œå¹¶ä¸æ˜¯ä¸€å¸†é£é¡ºçš„ã€‚æœ‰äº›äººè§‰å¾—æˆ‘å†™çš„å¥½æœ‰äº›è¯„è®ºè¯´æˆ‘å†™çš„ä¸å’‹åœ°ã€‚æ²¡å…³ç³»ï¼Œåªè¦æœ‰ä¸€ä¸ªäººè§‰å¾—å¥½ï¼Œèƒ½å¸®åŠ©åˆ°ä»–ï¼Œæˆ‘è¿™ç¯‡æ–‡ç« å°±æ˜¯å¥½ä¸œè¥¿ï¼Œå®åœ¨ä¸è¡Œæˆ‘å¯ä»¥è‡ªå·±çœ‹â˜ºï¸ï¼Œçœ‹è‡ªå·±çš„æˆé•¿ç»å†ï¼Œçœ‹è‡ªå·±çš„å­¦ä¹ ç¬”è®°ğŸ“šã€‚æˆ‘ä¼šä¸€ç›´åŠªåŠ›å†™å‡ºä¼˜è´¨æ–‡ç« ï¼</p>
<p>å¤§å®¶æ„Ÿå…´è¶£çš„è¯å¯ä»¥çœ‹çœ‹æˆ‘çš„æ–‡ç« å’Œä¸“æ ï¼Œæ¬¢è¿è®¢é˜…~</p>
<h3 data-id="heading-3">ä¸‰ã€AI ä¸ Vibe Coding å¯¹å¤§å­¦ç”Ÿçš„å½±å“</h3>
<p>å¥½äº†ï¼ŒèŠå®Œæˆ‘2025çš„ä¸€äº›æ•…äº‹ï¼Œä»¥åŠæˆ‘å¹²äº†ä»€ä¹ˆï¼Œé‚£ä¹ˆç°åœ¨å°±è¯´è¯´<strong>AI ä¸ Vibe Coding</strong>å¯¹å¤§å­¦ç”Ÿçš„å½±å“ã€‚</p>
<p>2025 å¹´åˆï¼Œ<strong>Vibe Coding</strong> è¿™ä¸ªæ–°é²œè¯æ±‡èµ°è¿›æˆ‘çš„è§†é‡ â€”â€” ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼Œå°±èƒ½è®© AI ç”Ÿæˆå¯ç”¨ä»£ç ï¼Œè¿™ç§ <strong>â€œæç¤ºé©±åŠ¨â€</strong> çš„ç¼–ç¨‹æ–¹å¼ç¬é—´ç‚¹ç‡ƒäº†æˆ‘çš„å¥½å¥‡å¿ƒã€‚ä½œä¸ºè®¡ç®—æœºä¸“ä¸šçš„å­¦ç”Ÿï¼Œæˆ‘æ›¾ä¸ºå¤æ‚çš„è¯­æ³•è§„åˆ™å’Œå†—ä½™çš„æ ·æ¿ä»£ç å¤´ç–¼ï¼Œè€Œ Cursorã€ChatGPT ç­‰å·¥å…·è®©æˆ‘åœ¨å°å‹é¡¹ç›®ä¸­å°åˆ°äº†ç”œå¤´ã€‚æ¯”å¦‚æˆ‘ç”¨Cozeæ­å»ºæ™ºèƒ½ä½“ï¼š</p>
<blockquote>
<p><a href="https://juejin.cn/post/7578803751608500274" target="_blank" title="https://juejin.cn/post/7578803751608500274">æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Coze æ‰“é€ ä½ çš„ç¬¬ä¸€ä¸ª Agentï¼šé›¶ä»£ç åšä¸“å±ã€Œå„¿ç«¥ç¡å‰æ•…äº‹ã€</a></p>
</blockquote>
<p>ä½œå“æˆ‘ä¸Šä¼ åˆ°äº†æ˜é‡‘ä¸»é¡µï¼Œå¤§å®¶å¯ä»¥è¯•è¯•ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba439d04f7a546e78b743a15c0fe68c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767944211&amp;x-signature=2F6e7riL8%2FzA7%2B20qVl%2FUBf%2B9nY%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸ºå®Œæˆä¸€äº›è¯¾ç¨‹è®¾è®¡ï¼Œæˆ‘æ²¡æœ‰åƒå¾€å¸¸ä¸€æ ·é€è¡Œæ•²å‡»ä»£ç ï¼Œè€Œæ˜¯ç”¨ â€œå“åº”å¼å¸ƒå±€ã€æ”¯æŒå¤œé—´æ¨¡å¼ã€å¸¦ç•™è¨€åŠŸèƒ½â€ çš„æ–‡å­—æè¿°ä½œä¸ºæç¤ºï¼ŒAI åœ¨ååˆ†é’Ÿå†…å°±ç”Ÿæˆäº†<strong>å®Œæ•´çš„å‰ç«¯æ¡†æ¶</strong>ã€‚è¿™ç§æ•ˆç‡çš„æå‡è®©æˆ‘å¾—ä»¥æŠŠç²¾åŠ›æ”¾åœ¨é¡µé¢äº¤äº’é€»è¾‘å’Œç”¨æˆ·ä½“éªŒä¸Šï¼Œæœ€ç»ˆçš„ä½œå“åœ¨è¯¾å ‚å±•ç¤ºä¸­è·å¾—äº†ä¸é”™çš„è¯„ä»·ã€‚æˆ‘åšä¿¡æœªæ¥è‚¯å®šæ˜¯AIçš„å¤©ä¸‹ï¼ˆè™½ç„¶è¿™æ ·è¯´äº›è®¸ç»å¯¹ï¼Œä½†deepseekã€è±†åŒ…ç­‰å·²ç¦»ä¸å¼€å¤§å®¶çš„æ—¥å¸¸ç”Ÿæ´»äº†ï¼‰ï¼Œå°±æ¯”å¦‚æˆ‘ä¹‹å‰å†™çš„<strong>Trae SOLO</strong>:</p>
<blockquote>
<p><a href="https://juejin.cn/post/7577307409854382095" target="_blank" title="https://juejin.cn/post/7577307409854382095">æ”¶åˆ°å­—èŠ‚çš„çŸ­ä¿¡ï¼šTrae SOLOä¸Šçº¿äº†ï¼Ÿå°å°é²œï¼Œæµ…æµ…åšä¸ªéŸ³ä¹æ’­æ”¾å™¨</a></p>
</blockquote>
<p>åªæ˜¯ç®€å•çš„åˆ‡é¡µé¢ï¼Œå´æœ‰ 4k+ æ˜å‹çœ‹è¿‡ï¼Œå¹¶ä¸”è¢«æ˜é‡‘å®˜æ–¹æ”¶å½•äºå…¬ä¼—å·ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85544855bfa24313ad241a6d8ca83b88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767944211&amp;x-signature=omOkFnLoatYg01XicDnYdClR%2Bbk%3D" alt="image.png" loading="lazy"/></p>
<p>ä½†å¾ˆå¿«æˆ‘å‘ç°ï¼ŒVibe Coding çš„æ ¸å¿ƒä¸æ˜¯ <strong>â€œå·æ‡’â€</strong>ï¼Œè€Œæ˜¯<strong>è§’è‰²è½¬å˜</strong>ã€‚å°±åƒ Andrej Karpathy å®šä¹‰çš„é‚£æ ·ï¼Œ<strong>å¼€å‘è€…è¦ä» â€œæ‰“å­—è€…â€ å˜æˆ â€œæ¶æ„å¸ˆâ€</strong>ï¼Œæˆ‘å¿…é¡»å…ˆç†æ¸…éœ€æ±‚çš„æ ¸å¿ƒé€»è¾‘ï¼Œæ‰èƒ½ç»™å‡ºç²¾å‡†æç¤ºã€‚è¿™ç§è½¬å˜è®©æˆ‘æ˜ç™½ï¼ŒAI æ˜¯é«˜æ•ˆçš„è¾…åŠ©å·¥å…·ï¼Œè€Œæ¸…æ™°çš„é—®é¢˜æ‹†è§£èƒ½åŠ›æ‰æ˜¯æ ¸å¿ƒç«äº‰åŠ›ã€‚</p>
<h3 data-id="heading-4">å››ã€2025æˆ‘åˆ°åº•ç”¨AIå­¦ä¼šäº†ä»€ä¹ˆï¼Ÿ</h3>
<p>2025 å¹´ï¼ŒAI ä¸ Vibe Coding ä¸ä»…æ”¹å˜äº†æˆ‘çš„ç¼–ç¨‹æ–¹å¼ï¼Œæ›´é‡å¡‘äº†æˆ‘çš„å­¦ä¹ èƒ½åŠ›æ¨¡å‹ã€‚åœ¨ AI çš„è¾…åŠ©ä¸‹ï¼Œæˆ‘å¾—ä»¥è·¨å‡ºä¸“ä¸šèˆ’é€‚åŒº â€”â€” ç”¨ Python è„šæœ¬åˆ†æç¤¾ä¼šå­¦è¯¾ç¨‹çš„é—®å·æ•°æ®ï¼Œå€ŸåŠ© AI ç”Ÿæˆçš„çˆ¬è™«å·¥å…·æ”¶é›†å­¦æœ¯è®ºæ–‡æ‰€éœ€çš„å²æ–™ï¼Œè¿™äº›è·¨å­¦ç§‘å®è·µè®©æˆ‘çš„çŸ¥è¯†è¾¹ç•Œä¸æ–­æ‹“å±•ã€‚</p>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘å­¦ä¼šäº† <strong>â€œå®¡è®¡â€</strong> AI çš„è¾“å‡ºã€‚ä¸€æ¬¡é¡¹ç›®ä¸­ï¼Œæˆ‘é€šè¿‡æŸ¥é˜…èµ„æ–™å’ŒTrae SOLOï¼Œä¿®æ­£äº†è¿™ä¸ªæ¼æ´ï¼Œå¹¶ä¼˜åŒ–äº†æç¤ºè¯è®© AI ç”Ÿæˆæ›´å®‰å…¨çš„ä»£ç ã€‚è¿™ç§ <strong>â€œä»£ç å“é‰´â€</strong> èƒ½åŠ›çš„æå‡ï¼Œè®©æˆ‘æ·±åˆ»ç†è§£äº† <strong>â€œé©¾é©­ AIâ€</strong> çš„çœŸæ­£å«ä¹‰ã€‚</p>
<p>å®æ—¶ä»£ç çº é”™ã€é—®é¢˜ç­”ç–‘åŠŸèƒ½è®©æˆ‘åœ¨è‡ªä¸»å­¦ä¹ æ—¶å°‘èµ°å¼¯è·¯ã€‚åå°æ•°æ®æ˜¾ç¤ºçš„å…±æ€§é”™è¯¯æé†’ï¼Œè¿˜è®©æˆ‘ç²¾å‡†å®šä½äº†è‡ªå·±çš„çŸ¥è¯†çŸ­æ¿ï¼Œè¿™ç§ä¸ªæ€§åŒ–çš„å­¦ä¹ ä½“éªŒï¼Œæ˜¯ä¼ ç»Ÿå­¦ä¹ æ¨¡å¼éš¾ä»¥å®ç°çš„ã€‚</p>
<h3 data-id="heading-5">äº”ã€2026å¹´çš„å±•æœ›ï¼šæˆ‘æœ‰ä»€ä¹ˆæ‰“ç®—ï¼Ÿ</h3>
<p>ç«™åœ¨ 2025 ä¸ 2026 çš„äº¤ç•Œç‚¹ï¼Œæˆ‘æ—©å·²ä¸ºæ–°ä¸€å¹´çš„ç¼–ç¨‹å­¦ä¹ å®šä¸‹æ¸…æ™°çš„èˆªå‘ã€‚æ–°çš„ä¸€å¹´é‡Œï¼Œæˆ‘è®¡åˆ’æ·±è€•<strong>æç¤ºè¯å·¥ç¨‹</strong>ï¼Œä¸å†æ»¡è¶³äºç®€å•çš„éœ€æ±‚æè¿°ï¼Œè€Œæ˜¯ç³»ç»Ÿå­¦ä¹ å¦‚ä½•é€šè¿‡ç»“æ„åŒ–æç¤ºï¼Œå¼•å¯¼ AI ç”Ÿæˆæ›´ç¬¦åˆå·¥ç¨‹è§„èŒƒã€æ›´å…·æ‰©å±•æ€§çš„ä»£ç ï¼Œå°¤å…¶è¦æ”»å…‹å¤æ‚é¡¹ç›®çš„æ¨¡å—åŒ–æ‹†åˆ†æç¤ºæŠ€å·§ã€‚åŒæ—¶ï¼Œæˆ‘ä¼šä¸»åŠ¨å‚ä¸æ ¡å†…çš„å¼€æºé¡¹ç›®å®è·µï¼Œå°è¯•å°† Vibe Coding ä¸å›¢é˜Ÿåä½œæµç¨‹ç»“åˆï¼Œæ¢ç´¢ â€œäººç±»æ¶æ„è®¾è®¡ + AI æ¨¡å—å¡«å…… + å…¨å‘˜ä»£ç å®¡è®¡â€ çš„é«˜æ•ˆå¼€å‘æ¨¡å¼ã€‚</p>
<p>å¯¹äº AI å·¥å…·çš„ä½¿ç”¨ï¼Œæˆ‘ä¹Ÿç»™è‡ªå·±ç«‹ä¸‹äº†æ›´ä¸¥æ ¼çš„ â€œæˆé•¿æ¸…å•â€ï¼šè‡³å°‘å®Œæˆä¸€ä¸ª<strong>çº¯æ‰‹åŠ¨ç¼–ç çš„ç®—æ³•å°é¡¹ç›®</strong>ï¼Œç­‘ç‰¢æ•°æ®ç»“æ„ä¸ç®—æ³•çš„åŸºç¡€ï¼›æ¯ä¸€æ¬¡ç”¨ AI ç”Ÿæˆä»£ç åï¼Œéƒ½è¦é¢å¤–èŠ±æ—¶é—´åš â€œé€†å‘æ¨å¯¼â€ï¼Œææ‡‚æ¨¡å‹ä»£ç çš„è®¾è®¡æ€è·¯ä¸æ½œåœ¨ç¼ºé™·ã€‚æ­¤å¤–ï¼Œæˆ‘è¿˜æ‰“ç®—é€‰ä¿®äººå·¥æ™ºèƒ½ä¼¦ç†ç›¸å…³è¯¾ç¨‹ï¼Œå»æ¢ç©¶ AI ç¼–ç¨‹èƒŒåçš„æŠ€æœ¯ä¼¦ç†è¾¹ç•Œï¼Œæ€è€ƒå¦‚ä½•åœ¨æå‡æ•ˆç‡çš„åŒæ—¶ï¼Œå®ˆä½å¼€å‘è€…çš„è´£ä»»ä¸åº•çº¿ã€‚</p>
<p>2026 å¹´çš„æˆ‘ï¼Œä¸æƒ³åš<strong>è¢« AI æ¨ç€èµ°çš„ â€œä»£ç å·¥äººâ€</strong>ï¼Œè€Œæ˜¯è¦æˆä¸ºèƒ½<strong>ä¸ AI å¹¶è‚©ä½œæˆ˜çš„ â€œæŠ€æœ¯èˆµæ‰‹â€</strong>ã€‚æˆ‘æœŸå¾…åœ¨æ–°çš„æ•°å­—å¹´è½®é‡Œï¼Œæ—¢èƒ½å€ŸåŠ›æŠ€æœ¯æµªæ½®ä¹˜é£ç ´æµªï¼Œä¹Ÿèƒ½é”šå®šå­¦ä¹ æœ¬è´¨ï¼Œåœ¨ä»£ç ä¸–ç•Œé‡Œæ²‰æ·€å‡ºå±äºè‡ªå·±çš„ç¡¬æ ¸å®åŠ›ã€‚</p>
<h2 data-id="heading-6">ç»“è¯­</h2>
<p>æ—§å²çš„ç¯‡ç« æ‚„ç„¶åˆä¸Šï¼Œ2025 å¹´çš„ <strong>AI ä¸ Vibe Coding ä¹‹æ—…</strong>ï¼Œä¸ä»…æ˜¯æŠ€æœ¯å·¥å…·çš„æ¢ç´¢ï¼Œæ›´æ˜¯ä¸€åœºå…³äº<strong>æˆé•¿çš„æ€è¾¨</strong>ã€‚å®ƒè®©æˆ‘åœ¨æ•ˆç‡ä¸æ·±è€•ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ï¼Œåœ¨äººæœºåä½œä¹‹ä¸­é”šå®šè‡ªæˆ‘ä»·å€¼ã€‚æ–°çš„ 2026 å¹´ï¼Œä»£ç ä»åœ¨é”®ç›˜æµæ·Œï¼ŒAI ä¾æ—§æ˜¯<strong>å¹¶è‚©ä¼™ä¼´</strong>ï¼Œè€Œæˆ‘ï¼Œå°†å¸¦ç€è¿™ä»½æ¸…é†’ä¸çƒ­å¿±ï¼Œåœ¨ç¼–ç¨‹çš„ä¸–ç•Œé‡Œï¼Œç»§ç»­ä¹¦å†™å±äºè‡ªå·±çš„æ•°å­—å¹´è½®ï¼Œæ­¥å±¥ä¸åœï¼Œå‘é˜³è€Œè¡Œã€‚</p>
<blockquote>
<p>å¸Œæœ›æ–°çš„ä¸€å¹´ï¼Œå¤§å®¶çš„ç¼–ç¨‹æ°´å¹³å˜å˜æå‡ï¼ŒAIä¹–ä¹–å¬è¯ï¼</p>
<p>åŒæ—¶å†æ¬¡æ„Ÿè°¢ç¨€åœŸæ˜é‡‘ç¤¾åŒºè®¤å¯æˆ‘ä¸€ä¸ªå¤§å­¦ç”Ÿå†™çš„æ–‡ç« ğŸ˜„</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringBoot é›†æˆ Redis ç¼“å­˜å®è·µ]]></title>    <link>https://juejin.cn/post/7590752433988436022</link>    <guid>https://juejin.cn/post/7590752433988436022</guid>    <pubDate>2026-01-04T06:03:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590752433988436022" data-draft-id="7590724064521158719" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringBoot é›†æˆ Redis ç¼“å­˜å®è·µ"/> <meta itemprop="keywords" content="Java,Redis"/> <meta itemprop="datePublished" content="2026-01-04T06:03:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="uup"/> <meta itemprop="url" content="https://juejin.cn/user/4378706456356627"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringBoot é›†æˆ Redis ç¼“å­˜å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4378706456356627/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    uup
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T06:03:36.000Z" title="Sun Jan 04 2026 06:03:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆé€‰æ‹© Redis ä½œä¸º SpringBoot çš„ç¼“å­˜æ–¹æ¡ˆï¼Ÿ</h2>
<p>åœ¨é«˜å¹¶å‘ä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œæ•°æ®åº“å¾€å¾€æ˜¯æ€§èƒ½ç“¶é¢ˆï¼Œè€Œ Redis ä½œä¸ºé«˜æ€§èƒ½çš„å†…å­˜æ•°æ®åº“ï¼Œæ˜¯ SpringBoot é¡¹ç›®ç¼“å­˜çš„æœ€ä¼˜é€‰æ‹©ä¹‹ä¸€ï¼š</p>
<ol>
<li><strong>æ€§èƒ½ä¼˜åŠ¿</strong>ï¼šRedis åŸºäºå†…å­˜æ“ä½œï¼Œå•æœº QPS å¯è¾¾ 10 ä¸‡ +ï¼Œè¿œè¶…ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“ï¼›</li>
<li><strong>é›†ç¾¤æ”¯æŒ</strong>ï¼šæ”¯æŒä¸»ä»ã€å“¨å…µã€é›†ç¾¤æ¨¡å¼ï¼Œæ»¡è¶³é«˜å¯ç”¨ç”Ÿäº§ç¯å¢ƒéœ€æ±‚ï¼›</li>
<li><strong>SpringBoot åŸç”Ÿé€‚é…</strong>ï¼šé€šè¿‡<code>spring-boot-starter-data-redis</code>å¿«é€Ÿé›†æˆï¼Œæä¾›<code>RedisTemplate</code>å’Œç¼“å­˜æ³¨è§£åŒé‡æ“ä½œæ–¹å¼ï¼›</li>
<li><strong>ä¸°å¯Œçš„è¿‡æœŸç­–ç•¥</strong>ï¼šæ”¯æŒé”®çº§åˆ«çš„è¿‡æœŸæ—¶é—´ï¼Œå¯çµæ´»æ§åˆ¶ç¼“å­˜ç”Ÿå‘½å‘¨æœŸï¼›</li>
<li><strong>åºåˆ—åŒ–å¯æ§</strong>ï¼šå¯è‡ªå®šä¹‰åºåˆ—åŒ–è§„åˆ™ï¼Œè§£å†³ JDK åºåˆ—åŒ–ä¹±ç ã€æ—¶é—´ç±»å‹è§£æç­‰é—®é¢˜ã€‚</li>
</ol>
<h2 data-id="heading-1">äºŒã€æ ¸å¿ƒé…ç½®ï¼šRedis é›†ç¾¤ + åºåˆ—åŒ– + ç¼“å­˜ç®¡ç†å™¨</h2>
<h3 data-id="heading-2">1. Maven ä¾èµ–é…ç½®ï¼ˆpom.xmlï¼‰</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.7.18<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">relativePath</span>/&gt;</span> <span class="hljs-comment">&lt;!-- lookup parent from repository --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.cnhis.iho<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>demo-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>Demo :: Redis<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">packaging</span>&gt;</span>jar<span class="hljs-tag">&lt;/<span class="hljs-name">packaging</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">main.basedir</span>&gt;</span>${basedir}/..<span class="hljs-tag">&lt;/<span class="hljs-name">main.basedir</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">java.version</span>&gt;</span>11<span class="hljs-tag">&lt;/<span class="hljs-name">java.version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">project.reporting.outputEncoding</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.source</span>&gt;</span>${java.version}<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.source</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.target</span>&gt;</span>${java.version}<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.target</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- Redis æ ¸å¿ƒä¾èµ– --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- Springç¼“å­˜æŠ½è±¡å±‚ï¼ˆæä¾›@Cacheableç­‰æ³¨è§£ï¼‰ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-cache<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>cn.hutool<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>hutool-all<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.8.34<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">optional</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">optional</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.yml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre>
<h3 data-id="heading-3">2. åº”ç”¨é…ç½®ï¼ˆapplication.ymlï¼‰</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">server:</span>
  <span class="hljs-attr">port:</span> <span class="hljs-number">10088</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-comment"># Redis é›†ç¾¤é…ç½®</span>
  <span class="hljs-attr">redis:</span>
    <span class="hljs-attr">timeout:</span> <span class="hljs-string">6000ms</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">${REDIS_PASSWORD:123123}</span> <span class="hljs-comment"># ç¯å¢ƒå˜é‡ä¼˜å…ˆï¼Œé»˜è®¤å€¼123123</span>
    <span class="hljs-attr">cluster:</span>
      <span class="hljs-attr">max-redirects:</span> <span class="hljs-number">3</span> <span class="hljs-comment"># é›†ç¾¤æœ€å¤§é‡å®šå‘æ¬¡æ•°</span>
      <span class="hljs-attr">nodes:</span> <span class="hljs-comment"># é›†ç¾¤èŠ‚ç‚¹åˆ—è¡¨</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">${REDIS_NODE0:192.168.1.210:7000}</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">${REDIS_NODE1:192.168.1.210:7001}</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">${REDIS_NODE2:192.168.1.210:7002}</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">${REDIS_NODE3:192.168.1.210:7003}</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">${REDIS_NODE4:192.168.1.210:7004}</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">${REDIS_NODE5:192.168.1.210:7005}</span>
    <span class="hljs-attr">lettuce:</span> <span class="hljs-comment"># Lettuceè¿æ¥æ± ï¼ˆSpringBoot 2.xé»˜è®¤ï¼‰</span>
      <span class="hljs-attr">pool:</span>
        <span class="hljs-attr">max-active:</span> <span class="hljs-number">8</span>   <span class="hljs-comment"># æœ€å¤§è¿æ¥æ•°</span>
        <span class="hljs-attr">max-idle:</span> <span class="hljs-number">8</span>     <span class="hljs-comment"># æœ€å¤§ç©ºé—²è¿æ¥æ•°</span>
        <span class="hljs-attr">min-idle:</span> <span class="hljs-number">0</span>     <span class="hljs-comment"># æœ€å°ç©ºé—²è¿æ¥æ•°</span>
        <span class="hljs-attr">max-wait:</span> <span class="hljs-number">-1</span>    <span class="hljs-comment"># è¿æ¥ç­‰å¾…æ—¶é—´ï¼ˆ-1è¡¨ç¤ºæ— é™åˆ¶ï¼‰</span>
      <span class="hljs-attr">cluster:</span>
        <span class="hljs-attr">refresh:</span>
          <span class="hljs-attr">adaptive:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># è‡ªé€‚åº”åˆ·æ–°é›†ç¾¤èŠ‚ç‚¹ä¿¡æ¯</span>
  <span class="hljs-comment"># ç¼“å­˜é…ç½®ï¼šæ˜ç¡®æŒ‡å®šç±»å‹ä¸ºRedisï¼ˆå¢å¼ºå¯è¯»æ€§ï¼‰</span>
  <span class="hljs-attr">cache:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">redis</span>
</code></pre>
<h3 data-id="heading-4">3. å¯åŠ¨ç±»ï¼šå¼€å¯ç¼“å­˜æ³¨è§£</h3>
<p>åœ¨å¯åŠ¨ç±»æ·»åŠ <code>@EnableCaching</code>ï¼Œæ¿€æ´» Spring ç¼“å­˜æ³¨è§£ï¼ˆ<code>@Cacheable</code>/<code>@CachePut</code>/<code>@CacheEvict</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.demo.redis;

<span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;
<span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;
<span class="hljs-keyword">import</span> org.springframework.cache.annotation.EnableCaching;

<span class="hljs-meta">@EnableCaching</span> <span class="hljs-comment">// å¼€å¯ç¼“å­˜æ³¨è§£æ”¯æŒ</span>
<span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoRedisApplication</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        SpringApplication.run(DemoRedisApplication.class, args);
    }

}
</code></pre>
<h3 data-id="heading-5">4. Redis æ ¸å¿ƒé…ç½®ç±»ï¼ˆåºåˆ—åŒ– + ç¼“å­˜ç®¡ç†å™¨ï¼‰</h3>
<p>è§£å†³é»˜è®¤åºåˆ—åŒ–ä¹±ç ã€æ—¶é—´ç±»å‹è§£æé—®é¢˜ï¼ŒåŒæ—¶é…ç½®<code>RedisCacheManager</code>é€‚é…æ³¨è§£å¼ç¼“å­˜ï¼Œå¤ç”¨åºåˆ—åŒ–è§„åˆ™ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.demo.redis.config;

<span class="hljs-keyword">import</span> com.fasterxml.jackson.annotation.JsonAutoDetect;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.annotation.JsonTypeInfo;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.annotation.PropertyAccessor;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.DeserializationFeature;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.SerializationFeature;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.jsontype.impl.LaissezFaireSubTypeValidator;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.datatype.jsr310.deser.LocalDateDeserializer;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.datatype.jsr310.ser.LocalDateSerializer;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.datatype.jsr310.ser.LocalDateTimeSerializer;
<span class="hljs-keyword">import</span> org.springframework.context.annotation.Bean;
<span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;
<span class="hljs-keyword">import</span> org.springframework.data.redis.cache.RedisCacheConfiguration;
<span class="hljs-keyword">import</span> org.springframework.data.redis.cache.RedisCacheManager;
<span class="hljs-keyword">import</span> org.springframework.data.redis.connection.RedisConnectionFactory;
<span class="hljs-keyword">import</span> org.springframework.data.redis.core.RedisTemplate;
<span class="hljs-keyword">import</span> org.springframework.data.redis.core.StringRedisTemplate;
<span class="hljs-keyword">import</span> org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer;
<span class="hljs-keyword">import</span> org.springframework.data.redis.serializer.RedisSerializationContext;
<span class="hljs-keyword">import</span> org.springframework.data.redis.serializer.RedisSerializer;
<span class="hljs-keyword">import</span> org.springframework.data.redis.serializer.StringRedisSerializer;

<span class="hljs-keyword">import</span> java.time.Duration;
<span class="hljs-keyword">import</span> java.time.LocalDate;
<span class="hljs-keyword">import</span> java.time.LocalDateTime;
<span class="hljs-keyword">import</span> java.time.format.DateTimeFormatter;

<span class="hljs-comment">/**
 * Redisæ ¸å¿ƒé…ç½®ç±»
 * 1. è‡ªå®šä¹‰åºåˆ—åŒ–è§„åˆ™ï¼ˆè§£å†³ä¹±ç ã€æ—¶é—´ç±»å‹è§£æé—®é¢˜ï¼‰
 * 2. é…ç½®RedisTemplate/StringRedisTemplate
 * 3. é…ç½®RedisCacheManagerï¼ˆé€‚é…æ³¨è§£å¼ç¼“å­˜ï¼‰
 */</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisConfigure</span> {
    <span class="hljs-comment">// å…¨å±€åºåˆ—åŒ–å™¨ï¼škeyç”¨Stringï¼Œvalueç”¨JSONï¼ˆç»Ÿä¸€è§„åˆ™ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> RedisSerializer&lt;String&gt; KEY_SERIALIZER;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> RedisSerializer&lt;Object&gt; VALUE_SERIALIZER;

    <span class="hljs-keyword">static</span> {
        KEY_SERIALIZER = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringRedisSerializer</span>();
        VALUE_SERIALIZER = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GenericJackson2JsonRedisSerializer</span>(getObjectMapper());
    }

    <span class="hljs-comment">/**
     * è‡ªå®šä¹‰ObjectMapperï¼šè§£å†³JDK8æ—¶é—´ç±»å‹åºåˆ—åŒ–/ååºåˆ—åŒ–é—®é¢˜
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> ObjectMapper <span class="hljs-title function_">getObjectMapper</span><span class="hljs-params">()</span> {
        <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">objectMapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();
        <span class="hljs-comment">// å¼€å¯æ‰€æœ‰å­—æ®µå¯è§æ€§ï¼ˆåŒ…æ‹¬privateï¼‰</span>
        objectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);
        <span class="hljs-comment">// å¼€å¯ç±»å‹ä¿¡æ¯å­˜å‚¨ï¼ˆååºåˆ—åŒ–æ—¶è¯†åˆ«å¯¹è±¡ç±»å‹ï¼‰</span>
        objectMapper.activateDefaultTyping(LaissezFaireSubTypeValidator.instance, 
                                           ObjectMapper.DefaultTyping.NON_FINAL, 
                                           JsonTypeInfo.As.PROPERTY);
        <span class="hljs-comment">// é…ç½®JDK8æ—¶é—´ç±»å‹åºåˆ—åŒ–è§„åˆ™</span>
        <span class="hljs-type">JavaTimeModule</span> <span class="hljs-variable">timeModule</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JavaTimeModule</span>();
        <span class="hljs-comment">// LocalDateï¼šyyyy-MM-dd</span>
        timeModule.addDeserializer(LocalDate.class, <span class="hljs-keyword">new</span> <span class="hljs-title class_">LocalDateDeserializer</span>(DateTimeFormatter.ofPattern(<span class="hljs-string">"yyyy-MM-dd"</span>)));
        timeModule.addSerializer(LocalDate.class, <span class="hljs-keyword">new</span> <span class="hljs-title class_">LocalDateSerializer</span>(DateTimeFormatter.ofPattern(<span class="hljs-string">"yyyy-MM-dd"</span>)));
        <span class="hljs-comment">// LocalDateTimeï¼šyyyy-MM-dd HH:mm:ss</span>
        timeModule.addDeserializer(LocalDateTime.class, <span class="hljs-keyword">new</span> <span class="hljs-title class_">LocalDateTimeDeserializer</span>(DateTimeFormatter.ofPattern(<span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>)));
        timeModule.addSerializer(LocalDateTime.class, <span class="hljs-keyword">new</span> <span class="hljs-title class_">LocalDateTimeSerializer</span>(DateTimeFormatter.ofPattern(<span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>)));
        
        <span class="hljs-comment">// å…³é—­æ—¶é—´æˆ³åºåˆ—åŒ–ï¼ˆé¿å…æ—¶é—´è½¬æ•°å­—ï¼‰</span>
        objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);
        <span class="hljs-comment">// å¿½ç•¥æœªçŸ¥å±æ€§ï¼ˆååºåˆ—åŒ–æ—¶ä¸æŠ¥é”™ï¼‰</span>
        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, <span class="hljs-literal">false</span>);
        <span class="hljs-comment">// æ³¨å†Œæ—¶é—´æ¨¡å—</span>
        objectMapper.registerModule(timeModule);
        <span class="hljs-keyword">return</span> objectMapper;
    }

    <span class="hljs-comment">/**
     * è‡ªå®šä¹‰RedisTemplateï¼šé€‚é…&lt;Object, Object&gt;ç±»å‹æ“ä½œ
     */</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> RedisTemplate&lt;String, Object&gt; <span class="hljs-title function_">redisTemplate</span><span class="hljs-params">(RedisConnectionFactory factory)</span> {
        RedisTemplate&lt;String, Object&gt; redisTemplate = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisTemplate</span>&lt;&gt;();
        redisTemplate.setConnectionFactory(factory);
        <span class="hljs-comment">// è®¾ç½®key/HashKeyåºåˆ—åŒ–å™¨</span>
        redisTemplate.setKeySerializer(KEY_SERIALIZER);
        redisTemplate.setHashKeySerializer(KEY_SERIALIZER);
        <span class="hljs-comment">// è®¾ç½®value/HashValueåºåˆ—åŒ–å™¨</span>
        redisTemplate.setValueSerializer(VALUE_SERIALIZER);
        redisTemplate.setHashValueSerializer(VALUE_SERIALIZER);
        redisTemplate.afterPropertiesSet();
        <span class="hljs-keyword">return</span> redisTemplate;
    }

    <span class="hljs-comment">/**
     * StringRedisTemplateï¼šé€‚é…&lt;String, String&gt;ç±»å‹è½»é‡æ“ä½œ
     */</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> StringRedisTemplate <span class="hljs-title function_">stringRedisTemplate</span><span class="hljs-params">(RedisConnectionFactory redisConnectionFactory)</span> {
        <span class="hljs-type">StringRedisTemplate</span> <span class="hljs-variable">stringRedisTemplate</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringRedisTemplate</span>(redisConnectionFactory);
        stringRedisTemplate.afterPropertiesSet();
        <span class="hljs-keyword">return</span> stringRedisTemplate;
    }

    <span class="hljs-comment">/**
     * RedisCacheManagerï¼šæ”¯æ’‘æ³¨è§£å¼ç¼“å­˜ï¼Œå¤ç”¨å…¨å±€åºåˆ—åŒ–è§„åˆ™
     */</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> RedisCacheManager <span class="hljs-title function_">cacheManager</span><span class="hljs-params">(RedisConnectionFactory connectionFactory)</span> {
        <span class="hljs-comment">// 1. åŸºç¡€ç¼“å­˜é…ç½®</span>
        <span class="hljs-type">RedisCacheConfiguration</span> <span class="hljs-variable">cacheConfig</span> <span class="hljs-operator">=</span> RedisCacheConfiguration.defaultCacheConfig()
                .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(KEY_SERIALIZER))
                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(VALUE_SERIALIZER))
                .entryTtl(Duration.ofHours(<span class="hljs-number">1</span>)) <span class="hljs-comment">// é»˜è®¤è¿‡æœŸæ—¶é—´1å°æ—¶</span>
                .disableCachingNullValues() <span class="hljs-comment">// ä¸ç¼“å­˜nullï¼ˆé˜²æ­¢ç¼“å­˜ç©¿é€ï¼‰</span>
                .prefixCacheNameWith(<span class="hljs-string">"demo:"</span>); <span class="hljs-comment">// ç¼“å­˜keyå‰ç¼€ï¼ˆé¿å…å†²çªï¼‰</span>

        <span class="hljs-comment">// 2. æ„å»ºç¼“å­˜ç®¡ç†å™¨ï¼ˆæ”¯æŒä¸åŒç¼“å­˜åè‡ªå®šä¹‰è¿‡æœŸæ—¶é—´ï¼‰</span>
        <span class="hljs-keyword">return</span> RedisCacheManager.builder(connectionFactory)
                .cacheDefaults(cacheConfig)
                .withCacheConfiguration(<span class="hljs-string">"user"</span>, cacheConfig.entryTtl(Duration.ofSeconds(<span class="hljs-number">10</span>))) <span class="hljs-comment">// userç¼“å­˜10ç§’è¿‡æœŸ</span>
                .build();
    }
}
</code></pre>
<h2 data-id="heading-6">ä¸‰ã€å®æˆ˜å¼€å‘ï¼šä¸¤ç§ç¼“å­˜ä½¿ç”¨æ–¹å¼</h2>
<p>å®ç°<strong>æ‰‹åŠ¨ç¼“å­˜ï¼ˆRedisTemplateï¼‰</strong> Â å’Œ<strong>æ³¨è§£å¼ç¼“å­˜ï¼ˆ@Cacheableï¼‰</strong> Â ä¸¤ç§æ–¹å¼ï¼Œè¦†ç›–ä¸åŒä¸šåŠ¡åœºæ™¯éœ€æ±‚ã€‚</p>
<h3 data-id="heading-7">1. å®šä¹‰ User å®ä½“ç±»</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.demo.redis.dto;

<span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> java.io.Serializable;

<span class="hljs-comment">/**
 * ç”¨æˆ·å®ä½“ç±»ï¼ˆå®ç°Serializableå…œåº•ï¼Œå®é™…ä½¿ç”¨JSONåºåˆ—åŒ–ï¼‰
 */</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">6643397313702951631L</span>;

    <span class="hljs-keyword">private</span> Long id;          <span class="hljs-comment">// ç”¨æˆ·ID</span>
    <span class="hljs-keyword">private</span> String name;      <span class="hljs-comment">// å§“å</span>
    <span class="hljs-keyword">private</span> Integer age;      <span class="hljs-comment">// å¹´é¾„</span>
    <span class="hljs-keyword">private</span> String email;     <span class="hljs-comment">// é‚®ç®±</span>
    <span class="hljs-keyword">private</span> String phone;     <span class="hljs-comment">// æ‰‹æœºå·</span>
    <span class="hljs-keyword">private</span> String address;   <span class="hljs-comment">// åœ°å€</span>
    <span class="hljs-keyword">private</span> Integer gender;   <span class="hljs-comment">// æ€§åˆ«ï¼ˆ1-ç”·ï¼Œ0-å¥³ï¼‰</span>
    <span class="hljs-keyword">private</span> String username;  <span class="hljs-comment">// ç”¨æˆ·å</span>
}
</code></pre>
<h3 data-id="heading-8">2. å®šä¹‰ä¸šåŠ¡æ¥å£</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.demo.redis.service;

<span class="hljs-keyword">import</span> com.demo.redis.dto.User;

<span class="hljs-comment">/**
 * ç¼“å­˜æ¼”ç¤ºä¸šåŠ¡æ¥å£
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">IDemoService</span> {
    <span class="hljs-comment">// æ‰‹åŠ¨ç¼“å­˜ï¼ˆRedisTemplateï¼‰</span>
    User <span class="hljs-title function_">getUser</span><span class="hljs-params">(Long userId)</span>;

    <span class="hljs-comment">// æ³¨è§£å¼ç¼“å­˜ï¼šæŸ¥è¯¢</span>
    User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(Long userId)</span>;

    <span class="hljs-comment">// æ³¨è§£å¼ç¼“å­˜ï¼šæ›´æ–°</span>
    User <span class="hljs-title function_">updateUser</span><span class="hljs-params">(User user)</span>;

    <span class="hljs-comment">// æ³¨è§£å¼ç¼“å­˜ï¼šåˆ é™¤</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteUser</span><span class="hljs-params">(Long userId)</span>;
}
</code></pre>
<h3 data-id="heading-9">3. ä¸šåŠ¡å®ç°ç±»ï¼ˆæ ¸å¿ƒï¼‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.demo.redis.service.impl;

<span class="hljs-keyword">import</span> com.demo.redis.dto.User;
<span class="hljs-keyword">import</span> com.demo.redis.service.IDemoService;
<span class="hljs-keyword">import</span> lombok.extern.slf4j.Slf4j;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.cache.annotation.CacheEvict;
<span class="hljs-keyword">import</span> org.springframework.cache.annotation.CachePut;
<span class="hljs-keyword">import</span> org.springframework.cache.annotation.Cacheable;
<span class="hljs-keyword">import</span> org.springframework.data.redis.core.RedisTemplate;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Service;

<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-comment">/**
 * ç¼“å­˜ä¸šåŠ¡å®ç°ç±»
 * 1. æ‰‹åŠ¨ç¼“å­˜ï¼šé€šè¿‡RedisTemplateæ“ä½œ
 * 2. æ³¨è§£å¼ç¼“å­˜ï¼šé€šè¿‡<span class="hljs-doctag">@Cacheable</span>/<span class="hljs-doctag">@CachePut</span>/<span class="hljs-doctag">@CacheEvict</span>
 */</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IDemoService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedisTemplate&lt;String, Object&gt; redisTemplate;

    <span class="hljs-comment">/**
     * æ–¹å¼1ï¼šæ‰‹åŠ¨ç¼“å­˜ï¼ˆRedisTemplateï¼‰
     * é€‚åˆéœ€è¦ç²¾ç»†åŒ–æ§åˆ¶ç¼“å­˜çš„åœºæ™¯
     */</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUser</span><span class="hljs-params">(Long userId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user:"</span> + userId;

        <span class="hljs-comment">// 1. ä¼˜å…ˆä»ç¼“å­˜è·å–</span>
        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> (User) redisTemplate.opsForValue().get(key);
        <span class="hljs-keyword">if</span> (user != <span class="hljs-literal">null</span>) {
            log.info(<span class="hljs-string">"ä»ç¼“å­˜è·å–ç”¨æˆ·ï¼š{}"</span>, userId);
            <span class="hljs-keyword">return</span> user;
        }

        <span class="hljs-comment">// 2. ç¼“å­˜æœªå‘½ä¸­ï¼ŒæŸ¥è¯¢æ•°æ®åº“</span>
        user = queryDb(userId);

        <span class="hljs-comment">// 3. å­˜å…¥ç¼“å­˜ï¼ˆ30ç§’è¿‡æœŸï¼‰</span>
        <span class="hljs-keyword">if</span> (user != <span class="hljs-literal">null</span>) {
            redisTemplate.opsForValue().set(key, user, <span class="hljs-number">30</span>, TimeUnit.SECONDS);
            log.info(<span class="hljs-string">"ç”¨æˆ·æ•°æ®å­˜å…¥ç¼“å­˜ï¼š{}"</span>, userId);
        }

        <span class="hljs-keyword">return</span> user;
    }

    <span class="hljs-comment">/**
     * æ–¹å¼2ï¼šæ³¨è§£å¼ç¼“å­˜ï¼ˆ<span class="hljs-doctag">@Cacheable</span>ï¼‰
     * ä¼˜å…ˆæŸ¥ç¼“å­˜ï¼Œæ— åˆ™æŸ¥åº“å¹¶è‡ªåŠ¨ç¼“å­˜
     * cacheNames="user" â†’ æœ€ç»ˆkeyï¼šdemo:user:userId
     */</span>
    <span class="hljs-meta">@Cacheable(cacheNames = "user", key = "#userId")</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(Long userId)</span> {
        <span class="hljs-keyword">return</span> queryDb(userId);
    }

    <span class="hljs-comment">/**
     * æ³¨è§£å¼ç¼“å­˜ï¼šæ›´æ–°ï¼ˆ<span class="hljs-doctag">@CachePut</span>ï¼‰
     * æ‰§è¡Œæ–¹æ³•åè‡ªåŠ¨æ›´æ–°ç¼“å­˜ï¼Œä¿è¯ç¼“å­˜ä¸æ•°æ®ä¸€è‡´
     */</span>
    <span class="hljs-meta">@CachePut(cacheNames = "user", key = "#user.id")</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">updateUser</span><span class="hljs-params">(User user)</span> {
        log.info(<span class="hljs-string">"æ›´æ–°ç”¨æˆ·ç¼“å­˜ï¼š{}"</span>, user.getId());
        <span class="hljs-keyword">return</span> user;
    }

    <span class="hljs-comment">/**
     * æ³¨è§£å¼ç¼“å­˜ï¼šåˆ é™¤ï¼ˆ<span class="hljs-doctag">@CacheEvict</span>ï¼‰
     * æ‰§è¡Œæ–¹æ³•åè‡ªåŠ¨æ¸…é™¤å¯¹åº”ç¼“å­˜
     */</span>
    <span class="hljs-meta">@CacheEvict(cacheNames = "user", key = "#userId")</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteUser</span><span class="hljs-params">(Long userId)</span> {
        log.info(<span class="hljs-string">"åˆ é™¤ç”¨æˆ·ç¼“å­˜ï¼š{}"</span>, userId);
    }

    <span class="hljs-comment">/**
     * æ¨¡æ‹Ÿæ•°æ®åº“æŸ¥è¯¢ï¼ˆå®é™…é¡¹ç›®æ›¿æ¢ä¸ºMyBatis/JPAï¼‰
     */</span>
    <span class="hljs-keyword">private</span> User <span class="hljs-title function_">queryDb</span><span class="hljs-params">(Long userId)</span> {
        log.info(<span class="hljs-string">"æŸ¥è¯¢æ•°æ®åº“ï¼š{}"</span>, userId);
        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();
        user.setId(userId);
        user.setName(<span class="hljs-string">"ç”¨æˆ·"</span> + userId);
        user.setAge(<span class="hljs-number">25</span>);
        user.setEmail(<span class="hljs-string">"user"</span> + userId + <span class="hljs-string">"@example.com"</span>);
        user.setPhone(<span class="hljs-string">"1380013800"</span> + (userId % <span class="hljs-number">100</span>));
        user.setAddress(<span class="hljs-string">"åŒ—äº¬å¸‚"</span>);
        user.setGender(<span class="hljs-number">1</span>);
        user.setUsername(<span class="hljs-string">"username"</span> + userId);
        <span class="hljs-keyword">return</span> user;
    }
}
</code></pre>
<h2 data-id="heading-10">å››ã€æµ‹è¯•éªŒè¯ï¼šç¼“å­˜åŠŸèƒ½å®Œæ•´æ€§</h2>
<p>ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼ŒéªŒè¯æ‰‹åŠ¨ç¼“å­˜å’Œæ³¨è§£å¼ç¼“å­˜çš„æ ¸å¿ƒåŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.demo.redis;

<span class="hljs-keyword">import</span> cn.hutool.json.JSONUtil;
<span class="hljs-keyword">import</span> com.demo.redis.dto.User;
<span class="hljs-keyword">import</span> com.demo.redis.service.IDemoService;
<span class="hljs-keyword">import</span> lombok.extern.slf4j.Slf4j;
<span class="hljs-keyword">import</span> org.junit.jupiter.api.Test;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.boot.test.context.SpringBootTest;

<span class="hljs-meta">@Slf4j</span>
<span class="hljs-meta">@SpringBootTest(classes = DemoRedisApplication.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoServiceTest</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> IDemoService iDemoService;

    <span class="hljs-comment">/**
     * æµ‹è¯•æ‰‹åŠ¨ç¼“å­˜ï¼ˆRedisTemplateï¼‰
     * éªŒè¯ï¼šç¼“å­˜å‘½ä¸­ â†’ è¿‡æœŸ â†’ é‡æ–°æŸ¥åº“
     */</span>
    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testGetUser</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException {
        <span class="hljs-comment">// ç¬¬ä¸€æ¬¡ï¼šæŸ¥åº“ + å­˜ç¼“å­˜</span>
        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> iDemoService.getUser(<span class="hljs-number">100L</span>);
        log.info(<span class="hljs-string">"ç¬¬ä¸€æ¬¡æŸ¥è¯¢ï¼š{}"</span>, JSONUtil.toJsonStr(user));
        
        <span class="hljs-comment">// ç¬¬äºŒæ¬¡ï¼šç¼“å­˜å‘½ä¸­</span>
        user = iDemoService.getUser(<span class="hljs-number">100L</span>);
        log.info(<span class="hljs-string">"ç¬¬äºŒæ¬¡æŸ¥è¯¢ï¼š{}"</span>, JSONUtil.toJsonStr(user));
        
        <span class="hljs-comment">// ç­‰å¾…30ç§’ï¼Œç¼“å­˜è¿‡æœŸ</span>
        Thread.sleep(<span class="hljs-number">30</span> * <span class="hljs-number">1000</span>);
        
        <span class="hljs-comment">// ç¬¬ä¸‰æ¬¡ï¼šé‡æ–°æŸ¥åº“ + å­˜ç¼“å­˜</span>
        user = iDemoService.getUser(<span class="hljs-number">100L</span>);
        log.info(<span class="hljs-string">"ç¬¬ä¸‰æ¬¡æŸ¥è¯¢ï¼š{}"</span>, JSONUtil.toJsonStr(user));
    }

    <span class="hljs-comment">/**
     * æµ‹è¯•æ³¨è§£å¼ç¼“å­˜ï¼ˆ<span class="hljs-doctag">@Cacheable</span>/<span class="hljs-doctag">@CachePut</span>/<span class="hljs-doctag">@CacheEvict</span>ï¼‰
     */</span>
    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testUser</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException {
        <span class="hljs-comment">// 1. ç¬¬ä¸€æ¬¡æŸ¥ï¼šåº“ â†’ ç¼“å­˜</span>
        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> iDemoService.getUserById(<span class="hljs-number">100L</span>);
        log.info(<span class="hljs-string">"getUserById 1ï¼š{}"</span>, JSONUtil.toJsonStr(user));
        
        <span class="hljs-comment">// 2. ç¬¬äºŒæ¬¡æŸ¥ï¼šç¼“å­˜</span>
        user = iDemoService.getUserById(<span class="hljs-number">100L</span>);
        log.info(<span class="hljs-string">"getUserById 2ï¼š{}"</span>, JSONUtil.toJsonStr(user));
        
        <span class="hljs-comment">// 3. ç­‰å¾…10ç§’ï¼Œuserç¼“å­˜è¿‡æœŸï¼ˆé…ç½®çš„10ç§’ï¼‰</span>
        Thread.sleep(<span class="hljs-number">10</span> * <span class="hljs-number">1000</span>);
        
        <span class="hljs-comment">// 4. ç¬¬ä¸‰æ¬¡æŸ¥ï¼šåº“ â†’ ç¼“å­˜</span>
        user = iDemoService.getUserById(<span class="hljs-number">100L</span>);
        log.info(<span class="hljs-string">"getUserById 3ï¼š{}"</span>, JSONUtil.toJsonStr(user));
        
        <span class="hljs-comment">// 5. æ›´æ–°ç”¨æˆ·ï¼šåŒæ­¥ç¼“å­˜</span>
        user.setAddress(<span class="hljs-string">"æ·±åœ³å¸‚"</span>);
        user = iDemoService.updateUser(user);
        log.info(<span class="hljs-string">"updateUser 1ï¼š{}"</span>, user.getAddress());
        
        <span class="hljs-comment">// 6. éªŒè¯æ›´æ–°åç¼“å­˜</span>
        user = iDemoService.getUserById(<span class="hljs-number">100L</span>);
        log.info(<span class="hljs-string">"getUserById 4ï¼š{}"</span>, user.getAddress());
        
        <span class="hljs-comment">// 7. åˆ é™¤ç”¨æˆ·ï¼šæ¸…é™¤ç¼“å­˜</span>
        iDemoService.deleteUser(<span class="hljs-number">100L</span>);
        log.info(<span class="hljs-string">"deleteUser 1ï¼šå®Œæˆ"</span>);
        
        <span class="hljs-comment">// 8. åˆ é™¤åæŸ¥ï¼šåº“ â†’ ç¼“å­˜</span>
        user = iDemoService.getUserById(<span class="hljs-number">100L</span>);
        log.info(<span class="hljs-string">"getUserById 5ï¼š{}"</span>, JSONUtil.toJsonStr(user));
    }

    <span class="hljs-comment">/**
     * æµ‹è¯•æ‰‹åŠ¨ç¼“å­˜ä¸æ³¨è§£å¼ç¼“å­˜å…±å­˜
     */</span>
    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testGet</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException {
        <span class="hljs-comment">// æ‰‹åŠ¨ç¼“å­˜å­˜å€¼</span>
        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> iDemoService.getUser(<span class="hljs-number">100L</span>);
        log.info(<span class="hljs-string">"getUser 1ï¼š{}"</span>, JSONUtil.toJsonStr(user));
        
        <span class="hljs-comment">// æ³¨è§£å¼ç¼“å­˜è¯»å–ï¼ˆæ³¨æ„ï¼škeyä¸åŒï¼Œæ‰‹åŠ¨æ˜¯user:100ï¼Œæ³¨è§£æ˜¯demo:user:100ï¼‰</span>
        user = iDemoService.getUserById(<span class="hljs-number">100L</span>);
        log.info(<span class="hljs-string">"getUserById 2ï¼š{}"</span>, JSONUtil.toJsonStr(user));
    }
}
</code></pre>
<h3 data-id="heading-11">æµ‹è¯•ç»“æœåˆ†æ</h3>
<ol>
<li>
<p><strong>æ‰‹åŠ¨ç¼“å­˜</strong>ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ¬¡æŸ¥è¯¢ï¼šæ‰“å°<code>æŸ¥è¯¢æ•°æ®åº“ï¼š100</code>Â +Â <code>ç”¨æˆ·æ•°æ®å­˜å…¥ç¼“å­˜ï¼š100</code>ï¼›</li>
<li>ç¬¬äºŒæ¬¡æŸ¥è¯¢ï¼šæ‰“å°<code>ä»ç¼“å­˜è·å–ç”¨æˆ·ï¼š100</code>ï¼›</li>
<li>30 ç§’åç¬¬ä¸‰æ¬¡æŸ¥è¯¢ï¼šé‡æ–°æ‰“å°<code>æŸ¥è¯¢æ•°æ®åº“ï¼š100</code>ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ³¨è§£å¼ç¼“å­˜</strong>ï¼š</p>
<ul>
<li>å‰ä¸¤æ¬¡<code>getUserById</code>ï¼šä»…ç¬¬ä¸€æ¬¡æ‰“å°<code>æŸ¥è¯¢æ•°æ®åº“ï¼š100</code>ï¼›</li>
<li>10 ç§’åç¬¬ä¸‰æ¬¡ï¼šé‡æ–°æ‰“å°<code>æŸ¥è¯¢æ•°æ®åº“ï¼š100</code>ï¼ˆç¼“å­˜è¿‡æœŸï¼‰ï¼›</li>
<li><code>updateUser</code>åï¼š<code>getUserById</code>è·å–åˆ°æ›´æ–°åçš„<code>address=æ·±åœ³å¸‚</code>ï¼›</li>
<li><code>deleteUser</code>åï¼š<code>getUserById</code>é‡æ–°æ‰“å°<code>æŸ¥è¯¢æ•°æ®åº“ï¼š100</code>ã€‚</li>
</ul>
</li>
</ol>
<h2 data-id="heading-12">äº”ã€ç”Ÿäº§ç¯å¢ƒæ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-13">1. ç¼“å­˜é—®é¢˜é˜²æŠ¤</h3>
<ul>
<li><strong>ç¼“å­˜ç©¿é€</strong>ï¼šç¦ç”¨<code>cacheNullValues</code>ï¼ˆæœ¬æ–‡é…ç½®ï¼‰ï¼Œç»“åˆå‚æ•°æ ¡éªŒ / å¸ƒéš†è¿‡æ»¤å™¨ï¼›</li>
<li><strong>ç¼“å­˜å‡»ç©¿</strong>ï¼šçƒ­ç‚¹ key è®¾ç½®æ°¸ä¸è¿‡æœŸï¼Œæˆ–é€šè¿‡äº’æ–¥é”ï¼ˆSETNXï¼‰æ§åˆ¶ç¼“å­˜æ›´æ–°ï¼›</li>
<li><strong>ç¼“å­˜é›ªå´©</strong>ï¼šç»™ä¸åŒç¼“å­˜åè®¾ç½®ä¸åŒè¿‡æœŸæ—¶é—´ï¼ˆå¦‚<code>user</code>10 ç§’ã€<code>order</code>1 å°æ—¶ï¼‰ï¼Œé¿å…é›†ä¸­è¿‡æœŸï¼›</li>
<li><strong>ç¼“å­˜ä¸€è‡´æ€§</strong>ï¼šæ›´æ–°æ“ä½œä½¿ç”¨<code>@CachePut</code>ï¼Œåˆ é™¤æ“ä½œä½¿ç”¨<code>@CacheEvict</code>ï¼Œä¿è¯ç¼“å­˜ä¸æ•°æ®åº“åŒæ­¥ã€‚</li>
</ul>
<h3 data-id="heading-14">2. Redis é›†ç¾¤ä¼˜åŒ–</h3>
<ul>
<li>é…ç½®<code>lettuce.cluster.refresh.adaptive=true</code>ï¼Œè‡ªé€‚åº”åˆ·æ–°é›†ç¾¤èŠ‚ç‚¹ä¿¡æ¯ï¼›</li>
<li>åˆç†è®¾ç½®è¿æ¥æ± å‚æ•°ï¼ˆ<code>max-active</code>/<code>max-idle</code>ï¼‰ï¼Œé¿å…è¿æ¥æ•°è€—å°½ï¼›</li>
<li>ç”Ÿäº§ç¯å¢ƒå»ºè®®é…ç½® Redis å¯†ç ã€è¶…æ—¶æ—¶é—´ï¼Œé¿å…é›†ç¾¤èŠ‚ç‚¹ä¸å¯ç”¨å¯¼è‡´æœåŠ¡é˜»å¡ã€‚</li>
</ul>
<h3 data-id="heading-15">3. åºåˆ—åŒ–æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>å®ä½“ç±»å»ºè®®å®ç°<code>Serializable</code>æ¥å£ï¼ˆå…œåº•ï¼‰ï¼›</li>
<li>æ—¶é—´ç±»å‹å¿…é¡»è‡ªå®šä¹‰åºåˆ—åŒ–è§„åˆ™ï¼Œé¿å…é»˜è®¤æ—¶é—´æˆ³æ ¼å¼ï¼›</li>
<li>ç¦ç”¨<code>FAIL_ON_UNKNOWN_PROPERTIES</code>ï¼Œé¿å…ä¸šåŠ¡å­—æ®µæ‰©å±•å¯¼è‡´ååºåˆ—åŒ–å¤±è´¥ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[keep-aliveç¼“å­˜ç»„ä»¶]]></title>    <link>https://juejin.cn/post/7591066233670778906</link>    <guid>https://juejin.cn/post/7591066233670778906</guid>    <pubDate>2026-01-04T05:50:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591066233670778906" data-draft-id="7590958028478169134" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="keep-aliveç¼“å­˜ç»„ä»¶"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-04T05:50:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ€ªå¯çˆ±çš„åœ°çƒäºº"/> <meta itemprop="url" content="https://juejin.cn/user/4387527339288932"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            keep-aliveç¼“å­˜ç»„ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4387527339288932/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ€ªå¯çˆ±çš„åœ°çƒäºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T05:50:09.000Z" title="Sun Jan 04 2026 05:50:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Vueçš„keep-Aliveç»„ä»¶æ˜¯ç”¨äºç¼“å­˜ç»„ä»¶çš„é«˜é˜¶ç»„ä»¶ï¼Œå¯ä»¥æœ‰æ•ˆåœ°æé«˜åº”ç”¨æ€§èƒ½ã€‚å®ƒèƒ½å¤Ÿä½¿ç»„ä»¶åœ¨åˆ‡æ¢æ—¶ä»èƒ½ä¿æŒåŸæœ‰çš„çŠ¶æ€ä¿¡æ¯ï¼Œå¹¶ä¸”æœ‰ä¸“é—¨çš„ç”Ÿå‘½å‘¨æœŸæ–¹ä¾¿å»åšé¢å¤–çš„å¤„ç†ã€‚è¯¥ç»„ä»¶åœ¨å¾ˆå¤šåœºæ™¯éå¸¸æœ‰ç”¨ï¼š</p>
<ul>
<li>tabsç¼“å­˜é¡µé¢</li>
<li>åˆ†æ­¥è¡¨å•</li>
<li>è·¯ç”±ç¼“å­˜</li>
<li>åŠ¨æ€åŠ è½½å†…å®¹</li>
<li>ä¿æŒæŸäº›ç»„ä»¶çŠ¶æ€</li>
</ul>
<p>åœ¨Vueä¸­ï¼Œé€šè¿‡Keep-AliveåŒ…è£¹å†…çš„ç»„ä»¶ä¼šè‡ªåŠ¨ç¼“å­˜ä¸‹æ¥ï¼Œå…¶ä¸­åªèƒ½æœ‰ä¸€ä¸ªç›´æ¥å­ç»„ä»¶ã€‚</p>
<p>å®ç°åŸç†ï¼š</p>
<h6 data-id="heading-0">1.ç»„ä»¶ç¼“å­˜</h6>
<p><code>&lt;keep-alive&gt;</code>Â æ˜¯ä¸€ä¸ªæŠ½è±¡ç»„ä»¶ï¼Œå®ƒä¸ä¼šæ¸²æŸ“æˆä¸€ä¸ªçœŸå®çš„ DOM å…ƒç´ ï¼Œè€Œæ˜¯ä½œä¸º Vue ç»„ä»¶æ ‘çš„åŒ…è£…å™¨å­˜åœ¨ã€‚å½“ä½ åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨Â <code>&lt;keep-alive&gt;</code>Â åŒ…è£¹ä¸€ä¸ªç»„ä»¶æ—¶ï¼Œè¿™ä¸ªç»„ä»¶ä¼šè¢«ç¼“å­˜èµ·æ¥ã€‚</p>
<h6 data-id="heading-1">2.ç¼“å­˜æœºåˆ¶</h6>
<ul>
<li>â€Œ<strong>å†…å­˜å­˜å‚¨</strong>â€Œï¼š<code>&lt;keep-alive&gt;</code>Â ä½¿ç”¨ä¸€ä¸ªå†…å­˜ä¸­çš„ç¼“å­˜å¯¹è±¡æ¥å­˜å‚¨è¢«ç¼“å­˜çš„ç»„ä»¶å®ä¾‹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¸ªç¼“å­˜æ˜¯é€šè¿‡ä¸€ä¸ªå¯¹è±¡æ¥ç»´æŠ¤çš„ï¼Œé”®æ˜¯ç»„ä»¶çš„Â <code>cid</code>ï¼ˆæ„é€ å‡½æ•° IDï¼‰ï¼Œå€¼æ˜¯ç»„ä»¶å®ä¾‹ã€‚</li>
<li>â€Œ<strong>ç”Ÿå‘½å‘¨æœŸé’©å­</strong>â€Œï¼šå½“ç»„ä»¶è¢«åŒ…è£¹åœ¨Â <code>&lt;keep-alive&gt;</code>Â ä¸­æ—¶ï¼ŒVue ä¼šé‡å†™ç»„ä»¶çš„Â <code>created</code>ã€<code>mounted</code>ã€<code>destroyed</code>Â ç­‰ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œä»¥ä¾¿åœ¨ç»„ä»¶æ¿€æ´»ï¼ˆè¢«å†æ¬¡è®¿é—®ï¼‰å’Œå»æ¿€æ´»ï¼ˆä¸å†æ˜¾ç¤ºï¼‰æ—¶æ‰§è¡Œç‰¹å®šçš„æ“ä½œã€‚ä¾‹å¦‚ï¼Œåœ¨ç»„ä»¶è¢«æ¿€æ´»æ—¶è°ƒç”¨Â <code>activated</code>Â é’©å­ï¼Œåœ¨å»æ¿€æ´»æ—¶è°ƒç”¨Â <code>deactivated</code>Â é’©å­ã€‚</li>
</ul>
<h6 data-id="heading-2">3.æ¸²æŸ“ä¸æ¿€æ´»</h6>
<ul>
<li>â€Œ<strong>æ¸²æŸ“</strong>â€Œï¼šå½“Â <code>&lt;keep-alive&gt;</code>Â å†…éƒ¨çš„ç»„ä»¶éœ€è¦è¢«æ¸²æŸ“æ—¶ï¼ŒVue ä¼šæ£€æŸ¥è¯¥ç»„ä»¶æ˜¯å¦å·²ç»åœ¨ç¼“å­˜ä¸­ã€‚å¦‚æœå­˜åœ¨ï¼ŒVue ä¼šç›´æ¥ä»ç¼“å­˜ä¸­å–å‡ºè¯¥ç»„ä»¶å®ä¾‹è¿›è¡Œæ¸²æŸ“ï¼Œè€Œä¸æ˜¯é‡æ–°åˆ›å»ºæ–°çš„å®ä¾‹ã€‚</li>
<li>â€Œ<strong>æ¿€æ´»ä¸å»æ¿€æ´»</strong>â€Œï¼šå½“ç»„ä»¶ä»ç¼“å­˜ä¸­è¢«å–å‡ºè¿›è¡Œæ¸²æŸ“æ—¶ï¼ŒVue ä¼šè°ƒç”¨è¯¥ç»„ä»¶çš„Â <code>activated</code>Â é’©å­ï¼›å¦‚æœè¯¥ç»„ä»¶ä»è§†å›¾ä¸­ç§»é™¤ï¼ˆä¾‹å¦‚ï¼Œç”¨æˆ·åˆ‡æ¢åˆ°å¦ä¸€ä¸ªæ ‡ç­¾ï¼‰ï¼ŒVue ä¼šè°ƒç”¨å…¶Â <code>deactivated</code>Â é’©å­ã€‚</li>
</ul>
<h6 data-id="heading-3">4.includeå’Œexcludeå±æ€§</h6>
<p><code>&lt;keep-alive&gt;</code>Â å…è®¸é€šè¿‡Â <code>include</code>Â å’ŒÂ <code>exclude</code>Â å±æ€§æ¥æŒ‡å®šå“ªäº›ç»„ä»¶åº”è¯¥è¢«ç¼“å­˜æˆ–æ’é™¤ã€‚è¿™äº›å±æ€§å¯ä»¥æ¥å—ä¸€ä¸ªé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ã€ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æˆ–ä¸€ä¸ªæ•°ç»„ã€‚</p>
<p>includeå±æ€§æ¥å—ä¸€ä¸ªé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼ŒæŒ‡å®šå“ªäº›ç»„ä»¶åº”è¯¥è¢«ç¼“å­˜ã€‚
ä¾‹å¦‚åªæƒ³ç¼“å­˜homeå’Œaboutä¸¤ä¸ªç»„ä»¶ï¼š</p>
<pre><code class="hljs language-js" lang="js">&lt;keep-alive include=<span class="hljs-string">"Home,About"</span>&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">component</span> <span class="hljs-attr">:is</span>=<span class="hljs-string">"currentView"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span></span>
&lt;/keep-alive&gt;

</code></pre>
<p>æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼ï¼š</p>
<pre><code class="hljs language-js" lang="js">&lt;keep-alive :include=<span class="hljs-string">"/A(About|Home)/"</span>&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">component</span> <span class="hljs-attr">:is</span>=<span class="hljs-string">"currentView"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span></span>
&lt;/keep-alive&gt;
</code></pre>
<p>exclude
ä¸includeç›¸åï¼Œexcludeå±æ€§ç”¨äºæŒ‡å®šå“ªäº›ç»„ä»¶ä¸åº”è¯¥è¢«ç¼“å­˜ã€‚ä¾‹å¦‚ï¼Œä¸æƒ³ç¼“å­˜loginå’Œsignupç»„ä»¶ï¼Œå¯ä»¥è¿™æ ·è®¾ç½®ï¼š</p>
<pre><code class="hljs language-js" lang="js">&lt;keep-alive exclude=<span class="hljs-string">"Login,Signup"</span>&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">component</span> <span class="hljs-attr">:is</span>=<span class="hljs-string">"currentView"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span></span>
&lt;/keep-alive&gt;
</code></pre>
<p>åŠ¨æ€ç»‘å®šincludeå’Œexclude
åŠ¨æ€ç»‘å®šè¿™äº›å±æ€§ï¼Œæ›´åŠ çµæ´»ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨vueçš„å“åº”å¼æ•°æ®æ¥æ§åˆ¶å“ªäº›ç»„ä»¶åº”è¯¥è¢«ç¼“å­˜ã€‚</p>
<pre><code class="hljs language-js" lang="js">&lt;script setup&gt; 
    <span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span> <span class="hljs-comment">// ç¼“å­˜çš„ç»„ä»¶ååˆ—è¡¨ </span>
    <span class="hljs-keyword">const</span> cacheComponents = [<span class="hljs-string">'Home'</span>, <span class="hljs-string">'About'</span>] <span class="hljs-comment">// å½“å‰è¦æ˜¾ç¤ºçš„ç»„ä»¶ï¼ˆå‡è®¾é€šè¿‡è·¯ç”±æˆ–å…¶ä»–é€»è¾‘åŠ¨æ€è®¾ç½®ï¼‰</span>
    <span class="hljs-keyword">const</span> currentView = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'Home'</span>) <span class="hljs-comment">// ç¤ºä¾‹å€¼ï¼Œå®é™…å¯èƒ½æ¥è‡ª router æˆ–çŠ¶æ€ç®¡ç† </span>
&lt;/script&gt;
    
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">keep-alive</span> <span class="hljs-attr">:include</span>=<span class="hljs-string">"cacheComponents"</span>&gt;</span> 
        <span class="hljs-tag">&lt;<span class="hljs-name">component</span> <span class="hljs-attr">:is</span>=<span class="hljs-string">"currentView"</span> /&gt;</span> 
    <span class="hljs-tag">&lt;/<span class="hljs-name">keep-alive</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒcacheComponentsæ•°ç»„å®šä¹‰äº†å“ªäº›ç»„ä»¶åº”è¯¥è¢«ç¼“å­˜ï¼Œå¯ä»¥æ ¹æ®vueå®ä¾‹çš„æ•°æ®å±æ€§ä¸­ä¿®æ”¹è¿™ä¸ªæ•°ç»„ã€‚</p>
<p>æ³¨æ„äº‹é¡¹
1.ä½¿ç”¨<code>&lt;keep-alive&gt;</code>æ—¶ï¼Œç¡®ä¿ä½ çš„ç»„ä»¶æœ‰ä¸€ä¸ªå”¯ä¸€çš„keyå±æ€§ï¼Œè¿™é€šå¸¸æ˜¯å¿…é¡»çš„ï¼Œç‰¹åˆ«æ˜¯åœ¨åŠ¨æ€ç»„ä»¶çš„æƒ…å†µä¸‹ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-js" lang="js">&lt;component :is=<span class="hljs-string">"currentView"</span> :key=<span class="hljs-string">"currentView"</span>&gt;&lt;/component&gt;
</code></pre>
<p>åœ¨Vue 3ä¸­ï¼Œ<code>&lt;keep-alive&gt;</code> çš„ä½¿ç”¨æ–¹å¼ç•¥æœ‰ä¸åŒï¼Œç‰¹åˆ«æ˜¯åœ¨ç»„åˆå¼APIï¼ˆComposition APIï¼‰ä¸­ã€‚ç¡®ä¿ä½ æ ¹æ®Vueçš„ç‰ˆæœ¬è°ƒæ•´ç”¨æ³•ã€‚ä¾‹å¦‚ï¼Œåœ¨Vue 3ä¸­ï¼Œä½ å¯èƒ½éœ€è¦ä½¿ç”¨ v-slot æ¥è®¿é—®è¢«ç¼“å­˜çš„ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-js" lang="js"> &lt;keep-alive&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">component</span> <span class="hljs-attr">:is</span>=<span class="hljs-string">"currentView"</span> <span class="hljs-attr">v-slot</span>=<span class="hljs-string">"{ Component }"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">transition</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Component</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"currentView"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span></span>
&lt;/keep-alive&gt;
</code></pre>
<p>é€šè¿‡è¿™äº›æ–¹æ³•ï¼Œä½ å¯ä»¥æœ‰æ•ˆåœ°æ§åˆ¶å“ªäº›ç»„ä»¶åº”è¯¥è¢«Â <code>&lt;keep-alive&gt;</code>Â ç¼“å­˜ï¼Œä»è€Œæé«˜åº”ç”¨çš„æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¾®ä¿¡æœ‹å‹åœˆå›¾ç‰‡å¸ƒå±€]]></title>    <link>https://juejin.cn/post/7590712589297106950</link>    <guid>https://juejin.cn/post/7590712589297106950</guid>    <pubDate>2026-01-04T05:56:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590712589297106950" data-draft-id="7590735421262823465" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¾®ä¿¡æœ‹å‹åœˆå›¾ç‰‡å¸ƒå±€"/> <meta itemprop="keywords" content="JavaScript,Vue.js"/> <meta itemprop="datePublished" content="2026-01-04T05:56:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤–å•«å•«"/> <meta itemprop="url" content="https://juejin.cn/user/3314378809290953"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¾®ä¿¡æœ‹å‹åœˆå›¾ç‰‡å¸ƒå±€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3314378809290953/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤–å•«å•«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T05:56:12.000Z" title="Sun Jan 04 2026 05:56:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æœ‹å‹åœˆä¸­ï¼Œé™¤äº†æ™®éçš„ä¸€è¡Œä¸‰åˆ—çš„å¸ƒå±€å¤–ï¼Œä¸€å¼ ã€äºŒå¼ ã€å››å¼ å›¾ç‰‡æ—¶çš„å¸ƒå±€æ˜¯ä¸ä¸€æ ·çš„ã€‚ä¸€å¼ å›¾ç‰‡æ—¶ï¼ŒæŒ‰å›¾ç‰‡åŸæœ‰å®½é«˜æ˜¾ç¤ºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2c291d4879e401ba8aa15ff1b5bcc46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSW5ZWr5ZWr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768110972&amp;x-signature=qQ4ZkSkvR7dsVqEHy5wRqeuSvGQ%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸¤å¼ å›¾ç‰‡ï¼Œå¹¶è¡Œå±•ç¤ºï¼Œå›¾ç‰‡ä¼šåå¤§ä¸€äº›ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9fff6679c8fa4c56b8f2c72a43ef5c1f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSW5ZWr5ZWr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768110972&amp;x-signature=t6kewTQSb3SV028uCXAhQ43UoWc%3D" alt="image.png" loading="lazy"/></p>
<p>å››å¼ å›¾ç‰‡æ—¶ï¼Œä¸€è¡Œæ˜¾ç¤ºä¸¤ä¸ªã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da67b340641147d6b47a41afbe016275~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSW5ZWr5ZWr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768110972&amp;x-signature=Dc8PSIFx2bLhfS3ppl%2ByS332AG8%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸‰å¼ ã€åŠå››å¼ ä»¥ä¸Šæ—¶ï¼ŒæŒ‰ä¸€è¡Œä¸‰åˆ—æ’åºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe5ef34239eb4c8f909c8e0300cf48f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSW5ZWr5ZWr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768110972&amp;x-signature=EoE%2FL7HD%2B5U5TB2YVOmm9GXVs%2F8%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0">å®ç°</h2>
<p>è¿™é‡Œç»“åˆnaive uiç»„ä»¶å®ç°å›¾ç‰‡å±•ç¤ºã€‚é¡µé¢è·å–åˆ° å›¾ç‰‡æ•°æ®ï¼ˆArray[Object]ï¼‰åé€šè¿‡ <code>n-image-group</code> ä»¥ç»„çš„å½¢å¼å±•ç¤ºå›¾ç‰‡ã€‚</p>
<pre><code class="hljs language-js" lang="js">&lt;n-scrollbar style=<span class="hljs-string">"max-height: 60vh"</span>&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">n-image-group</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"moment-images"</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"calssName"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"image-item"</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item, index) in fileList"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"index"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">n-image</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">"item.url"</span> <span class="hljs-attr">:img-props</span>=<span class="hljs-string">"{ style: { 'aspect-ratio': '1/1' } }"</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">n-image-group</span>&gt;</span></span>
&lt;/n-scrollbar&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, nextTick } <span class="hljs-keyword">from</span> <span class="hljs-string">"vue"</span>;

<span class="hljs-keyword">const</span> calssName = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)<span class="hljs-comment">//ç±»å</span>
<span class="hljs-keyword">const</span> fileList= <span class="hljs-title function_">ref</span>([])<span class="hljs-comment">//å›¾ç‰‡æ•°æ®</span>

<span class="hljs-comment">//æ ¹æ®å›¾ç‰‡æ€»é•¿åº¦æ¥è®¾ç½®å›¾ç‰‡ç±»å</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">setClassName</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> length = fileList.<span class="hljs-property">value</span>.<span class="hljs-property">length</span>
    <span class="hljs-keyword">switch</span> (length) {
        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
            calssName.<span class="hljs-property">value</span> = <span class="hljs-string">'image-count-1'</span>
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
            calssName.<span class="hljs-property">value</span> = <span class="hljs-string">'image-count-2'</span>
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
            calssName.<span class="hljs-property">value</span> = <span class="hljs-string">'image-count-3'</span>
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
            calssName.<span class="hljs-property">value</span> = <span class="hljs-string">'image-count-4'</span>
            <span class="hljs-keyword">break</span>;
        <span class="hljs-attr">default</span>:
            calssName.<span class="hljs-property">value</span> = <span class="hljs-string">'image-count-3'</span>
            <span class="hljs-keyword">break</span>;
    }
}

<span class="hljs-title function_">setClassName</span>()
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-comment">/* å•å›¾å¸ƒå±€ */</span>
<span class="hljs-selector-class">.img-count-1</span> {
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">1</span>fr;
  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">300px</span>;
  <span class="hljs-attribute">max-height</span>: <span class="hljs-number">300px</span>;
}

<span class="hljs-comment">/* åŒå›¾å¸ƒå±€ */</span>
<span class="hljs-selector-class">.image-count-2</span> {
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>fr);
  <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
}

<span class="hljs-comment">/* ä¸‰å›¾-å››å›¾ä»¥ä¸Šå¸ƒå±€ */</span>
<span class="hljs-selector-class">.image-count-3</span> {
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>fr);
  <span class="hljs-attribute">width</span>: <span class="hljs-number">350px</span>;
}

<span class="hljs-comment">/* å››å›¾å¸ƒå±€ */</span>
<span class="hljs-selector-class">.image-count-4</span> {
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>fr);
  <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;
}

<span class="hljs-selector-class">.moment-images</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">4px</span>;
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">8px</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
  <span class="hljs-attribute">overflow</span>: hidden;
}

<span class="hljs-selector-class">.image-item</span> {
  aspect-ratio: <span class="hljs-number">1</span>/<span class="hljs-number">1</span>;
  <span class="hljs-attribute">overflow</span>: hidden;
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f5f5f5</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å·§ç”¨View Transition APIå®ç°ç‚«é…·çš„ä¸»é¢˜åˆ‡æ¢æ•ˆæœ]]></title>    <link>https://juejin.cn/post/7591085154977808410</link>    <guid>https://juejin.cn/post/7591085154977808410</guid>    <pubDate>2026-01-04T05:58:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591085154977808410" data-draft-id="7591207451778007066" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å·§ç”¨View Transition APIå®ç°ç‚«é…·çš„ä¸»é¢˜åˆ‡æ¢æ•ˆæœ"/> <meta itemprop="keywords" content="CSS"/> <meta itemprop="datePublished" content="2026-01-04T05:58:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="kevinlaizhiyu"/> <meta itemprop="url" content="https://juejin.cn/user/817692383647991"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å·§ç”¨View Transition APIå®ç°ç‚«é…·çš„ä¸»é¢˜åˆ‡æ¢æ•ˆæœ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/817692383647991/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    kevinlaizhiyu
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T05:58:31.000Z" title="Sun Jan 04 2026 05:58:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæµç•…ä¸”å¯Œæœ‰è§†è§‰å†²å‡»åŠ›çš„äº¤äº’æ•ˆæœèƒ½æå¤§æå‡ç”¨æˆ·ä½“éªŒï¼Œä¸»é¢˜åˆ‡æ¢ä½œä¸ºå¸¸è§çš„äº¤äº’åœºæ™¯ï¼Œä¼ ç»Ÿå®ç°æ–¹å¼å¾€å¾€å­˜åœ¨è¿‡æ¸¡ç”Ÿç¡¬çš„é—®é¢˜ã€‚æœ¬æ–‡å°†ä»åŸºç¡€åŸç†å‡ºå‘ï¼Œç»“åˆå®æˆ˜ä»£ç ï¼Œè®²è§£å¦‚ä½•åˆ©ç”¨CSSå˜é‡+View Transition APIæ‰“é€ ä»ç‚¹å‡»ä½ç½®æ‰©æ•£çš„ä¸æ»‘ä¸»é¢˜åˆ‡æ¢æ•ˆæœï¼Œç”±æµ…å…¥æ·±æ‹†è§£å®ç°æ€è·¯ä¸æ ¸å¿ƒé€»è¾‘ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒæŠ€æœ¯èƒŒæ™¯é“ºå«</h2>
<p>åœ¨å¼€å§‹å®æˆ˜å‰ï¼Œå…ˆç†æ¸…ä¸¤ä¸ªæ ¸å¿ƒæŠ€æœ¯åŸºç¡€ï¼Œè¿™æ˜¯å®ç°ç‚«é…·ä¸»é¢˜åˆ‡æ¢çš„å…³é”®ï¼š</p>
<h3 data-id="heading-1">1. CSSå˜é‡ï¼ˆCSS Custom Propertiesï¼‰</h3>
<p>CSSå˜é‡å…è®¸æˆ‘ä»¬åœ¨æ ·å¼ä¸­å®šä¹‰å¯å¤ç”¨ã€å¯åŠ¨æ€ä¿®æ”¹çš„å€¼ï¼Œæ˜¯å®ç°ä¸»é¢˜åˆ‡æ¢çš„åŸºç¡€ã€‚ç›¸æ¯”ä¼ ç»Ÿçš„ç±»ååˆ‡æ¢ç¡¬ç¼–ç æ ·å¼ï¼ŒCSSå˜é‡çš„ä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li>é›†ä¸­ç®¡ç†ä¸»é¢˜ç›¸å…³æ ·å¼ï¼ˆèƒŒæ™¯ã€æ–‡å­—è‰²ç­‰ï¼‰ï¼Œç»´æŠ¤æ›´ä¾¿æ·ï¼›</li>
<li>æ”¯æŒé€šè¿‡JavaScriptåŠ¨æ€ä¿®æ”¹ï¼Œå®ç°æ ·å¼çš„å®æ—¶å“åº”ï¼›</li>
<li>å¤©ç„¶é€‚é…ä¸åŒä¸»é¢˜çŠ¶æ€ï¼Œæ— éœ€é‡å¤ç¼–å†™å¤§é‡å†—ä½™æ ·å¼ã€‚</li>
</ul>
<h3 data-id="heading-2">2. View Transition API</h3>
<p>è¿™æ˜¯æµè§ˆå™¨æä¾›çš„æ–°ä¸€ä»£è§†å›¾è¿‡æ¸¡APIï¼Œè§£å†³äº†ä¼ ç»Ÿè¿‡æ¸¡åŠ¨ç”»ä¸­â€œæ–°æ—§çŠ¶æ€å‰²è£‚â€çš„é—®é¢˜ï¼š</p>
<ul>
<li>æ ¸å¿ƒèƒ½åŠ›ï¼šæ•è·å…ƒç´ çš„â€œæ—§çŠ¶æ€â€å’Œâ€œæ–°çŠ¶æ€â€ï¼Œè‡ªåŠ¨ç”Ÿæˆè¿‡æ¸¡åŠ¨ç”»ï¼›</li>
<li>é€‚ç”¨åœºæ™¯ï¼šé¡µé¢åˆ‡æ¢ã€ä¸»é¢˜å˜æ›´ã€å…ƒç´ çŠ¶æ€æ›´æ–°ç­‰éœ€è¦è§†è§‰è¡”æ¥çš„åœºæ™¯ï¼›</li>
<li>å…¼å®¹æ€§ï¼šç°ä»£æµè§ˆå™¨ï¼ˆChrome 111+ã€Edge 111+ã€Safari 16.4+ï¼‰å·²æ”¯æŒï¼Œå¯é€šè¿‡é™çº§æ–¹æ¡ˆå…¼å®¹æ—§æµè§ˆå™¨ã€‚</li>
</ul>
<h2 data-id="heading-3">äºŒã€åŸºç¡€å®ç°ï¼šä»é™æ€ä¸»é¢˜åˆ‡æ¢åˆ°åŠ¨æ€è¿‡æ¸¡</h2>
<p>æˆ‘ä»¬å…ˆä»æœ€åŸºç¡€çš„ä¸»é¢˜åˆ‡æ¢å¼€å§‹ï¼Œé€æ­¥å‡çº§åˆ°å¸¦æ‰©æ•£åŠ¨ç”»çš„æ•ˆæœã€‚</p>
<h3 data-id="heading-4">æ­¥éª¤1ï¼šå®šä¹‰ä¸»é¢˜ç›¸å…³CSSå˜é‡</h3>
<p>é¦–å…ˆåœ¨<code>html</code>æ ¹å…ƒç´ ä¸Šå®šä¹‰ä¸¤å¥—ä¸»é¢˜å˜é‡ï¼ˆæ·±è‰²/æµ…è‰²ï¼‰ï¼Œå¹¶è®¾ç½®é»˜è®¤ä¸»é¢˜ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">html</span> {
  <span class="hljs-comment">/* é»˜è®¤æ·±è‰²ä¸»é¢˜ */</span>
  <span class="hljs-attr">--bg-color</span>: <span class="hljs-number">#000</span>;
  <span class="hljs-attr">--text-color</span>: <span class="hljs-number">#fff</span>;
}
<span class="hljs-comment">/* æµ…è‰²ä¸»é¢˜ï¼ˆé€šè¿‡darkç±»åˆ‡æ¢ï¼‰ */</span>
<span class="hljs-selector-tag">html</span><span class="hljs-selector-class">.dark</span> {
  <span class="hljs-attr">--bg-color</span>: <span class="hljs-number">#fff</span>;
  <span class="hljs-attr">--text-color</span>: <span class="hljs-number">#000</span>;
}

<span class="hljs-comment">/* åº”ç”¨å˜é‡åˆ°é¡µé¢ */</span>
<span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">var</span>(--bg-color);
  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--text-color);
  <span class="hljs-attribute">min-height</span>: <span class="hljs-number">100vh</span>; <span class="hljs-comment">/* è®©bodyå æ»¡è§†å£ */</span>
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">justify-content</span>: center;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">2rem</span>;
}
</code></pre>
<p>è¿™é‡Œå°†èƒŒæ™¯è‰²ã€æ–‡å­—è‰²æŠ½ç¦»ä¸ºCSSå˜é‡ï¼Œåç»­åªéœ€ä¿®æ”¹å˜é‡å€¼ï¼ˆæˆ–åˆ‡æ¢ç±»åï¼‰å³å¯åˆ‡æ¢ä¸»é¢˜ã€‚</p>
<h3 data-id="heading-5">æ­¥éª¤2ï¼šåŸºç¡€ä¸»é¢˜åˆ‡æ¢é€»è¾‘ï¼ˆæ— åŠ¨ç”»ï¼‰</h3>
<p>ç¼–å†™JavaScriptå‡½æ•°ï¼Œå®ç°ç‚¹å‡»æŒ‰é’®åˆ‡æ¢<code>html</code>çš„<code>dark</code>ç±»ï¼Œå®Œæˆä¸»é¢˜åˆ‡æ¢ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸»é¢˜åˆ‡æ¢æ ¸å¿ƒå‡½æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeTheme</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'html'</span>).<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">'dark'</span>);
};

<span class="hljs-comment">// ç»‘å®šæŒ‰é’®ç‚¹å‡»äº‹ä»¶</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'btn'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, changeTheme);
</code></pre>
<p>æ­¤æ—¶ç‚¹å‡»æŒ‰é’®å·²èƒ½åˆ‡æ¢ä¸»é¢˜ï¼Œä½†è¿‡æ¸¡æ•ˆæœç”Ÿç¡¬ï¼Œæ²¡æœ‰è§†è§‰è¡”æ¥ã€‚</p>
<h3 data-id="heading-6">æ­¥éª¤3ï¼šæ·»åŠ View Transitionè¿‡æ¸¡åŠ¨ç”»</h3>
<p>æ¥ä¸‹æ¥å¼•å…¥View Transition APIï¼Œä¸ºä¸»é¢˜åˆ‡æ¢æ·»åŠ ä»ç‚¹å‡»ä½ç½®æ‰©æ•£çš„åœ†å½¢è£å‰ªåŠ¨ç”»ã€‚</p>
<h4 data-id="heading-7">3.1 å®šä¹‰è£å‰ªåŠ¨ç”»å…³é”®å¸§</h4>
<p>é€šè¿‡<code>clip-path</code>å®ç°åœ†å½¢æ‰©æ•£æ•ˆæœï¼ŒåŠ¨ç”»çš„èµ·å§‹/ç»“æŸä½ç½®ç”±åŠ¨æ€å˜é‡<code>--x</code>ã€<code>--y</code>ã€<code>--r</code>æ§åˆ¶ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* åœ†å½¢è£å‰ªåŠ¨ç”» */</span>
<span class="hljs-keyword">@keyframes</span> clip {
  <span class="hljs-selector-tag">from</span> {
    <span class="hljs-comment">/* ä»ç‚¹å‡»ä½ç½®çš„0åŠå¾„åœ†å¼€å§‹ */</span>
    <span class="hljs-attribute">clip-path</span>: <span class="hljs-built_in">circle</span>(<span class="hljs-number">0%</span> at <span class="hljs-built_in">var</span>(--x) <span class="hljs-built_in">var</span>(--y));
  }
  <span class="hljs-selector-tag">to</span> {
    <span class="hljs-comment">/* æ‰©æ•£åˆ°è¦†ç›–æ•´ä¸ªè§†çª—çš„åœ† */</span>
    <span class="hljs-attribute">clip-path</span>: <span class="hljs-built_in">circle</span>(<span class="hljs-built_in">var</span>(--r) at <span class="hljs-built_in">var</span>(--x) <span class="hljs-built_in">var</span>(--y));
  }
}

<span class="hljs-comment">/* é…ç½®View Transitionè¿‡æ¸¡è§„åˆ™ */</span>
<span class="hljs-comment">/* æ—§çŠ¶æ€ï¼šç¦ç”¨é»˜è®¤åŠ¨ç”» */</span>
::<span class="hljs-built_in">view-transition-old</span>(*) {
  <span class="hljs-attribute">animation</span>: none;
}
<span class="hljs-comment">/* æ–°çŠ¶æ€ï¼šåº”ç”¨è£å‰ªæ‰©æ•£åŠ¨ç”» */</span>
::<span class="hljs-built_in">view-transition-new</span>(*) {
  <span class="hljs-attribute">animation</span>: clip <span class="hljs-number">0.5s</span> ease-in;
}

<span class="hljs-comment">/* æ§åˆ¶æ–°æ—§çŠ¶æ€çš„å±‚çº§ */</span>
::<span class="hljs-built_in">view-transition-old</span>(root) {
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">1</span>;
}
::<span class="hljs-built_in">view-transition-new</span>(root) {
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">9999</span>;
}

<span class="hljs-comment">/* æµ…è‰²ä¸»é¢˜åˆ‡æ¢æ—¶ï¼Œåå‘æ’­æ”¾åŠ¨ç”» */</span>
<span class="hljs-selector-tag">html</span><span class="hljs-selector-class">.dark</span>::<span class="hljs-built_in">view-transition-old</span>(*) {
  <span class="hljs-attribute">animation</span>: clip <span class="hljs-number">0.5s</span> ease-in reverse;
}
<span class="hljs-selector-tag">html</span><span class="hljs-selector-class">.dark</span>::<span class="hljs-built_in">view-transition-new</span>(*) {
  <span class="hljs-attribute">animation</span>: none;
}
<span class="hljs-selector-tag">html</span><span class="hljs-selector-class">.dark</span>::<span class="hljs-built_in">view-transition-old</span>(root) {
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">9999</span>;
}
<span class="hljs-selector-tag">html</span><span class="hljs-selector-class">.dark</span>::<span class="hljs-built_in">view-transition-new</span>(root) {
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">1</span>;
}
</code></pre>
<h4 data-id="heading-8">3.2 åŠ¨æ€è®¡ç®—åŠ¨ç”»å‚æ•°ï¼ˆç‚¹å‡»ä½ç½®+æ‰©æ•£åŠå¾„ï¼‰</h4>
<p>ä¿®æ”¹ç‚¹å‡»äº‹ä»¶å¤„ç†é€»è¾‘ï¼Œå®ç°ï¼š</p>
<ol>
<li>è·å–é¼ æ ‡ç‚¹å‡»ä½ç½®ï¼ˆ<code>clientX</code>/<code>clientY</code>ï¼‰ï¼›</li>
<li>è®¡ç®—è¦†ç›–æ•´ä¸ªè§†çª—çš„æœ€å°åœ†åŠå¾„ï¼›</li>
<li>å°†å‚æ•°èµ‹å€¼ç»™CSSå˜é‡ï¼›</li>
<li>é€šè¿‡View Transition APIè§¦å‘è¿‡æ¸¡åŠ¨ç”»ã€‚</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">changeBtn</span> = (<span class="hljs-params">func, $eve</span>) =&gt; {
  <span class="hljs-comment">// 1. è·å–é¼ æ ‡ç‚¹å‡»åæ ‡</span>
  <span class="hljs-keyword">const</span> x = $eve.<span class="hljs-property">clientX</span>;
  <span class="hljs-keyword">const</span> y = $eve.<span class="hljs-property">clientY</span>;
  
  <span class="hljs-comment">// 2. è®¡ç®—è¦†ç›–æ•´ä¸ªè§†çª—çš„æœ€å¤§åœ†åŠå¾„</span>
  <span class="hljs-keyword">const</span> endRadius = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">hypot</span>(
    <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(x, innerWidth - x),  <span class="hljs-comment">// ç‚¹å‡»ç‚¹åˆ°è§†çª—å·¦å³è¾¹ç¼˜çš„æœ€å¤§è·ç¦»</span>
    <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(y, innerHeight - y) <span class="hljs-comment">// ç‚¹å‡»ç‚¹åˆ°è§†çª—ä¸Šä¸‹è¾¹ç¼˜çš„æœ€å¤§è·ç¦»</span>
  );
  
  <span class="hljs-comment">// 3. å°†å‚æ•°èµ‹å€¼ç»™CSSå˜é‡</span>
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-title function_">setProperty</span>(<span class="hljs-string">'--x'</span>, x + <span class="hljs-string">'px'</span>);
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-title function_">setProperty</span>(<span class="hljs-string">'--y'</span>, y + <span class="hljs-string">'px'</span>);
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-title function_">setProperty</span>(<span class="hljs-string">'--r'</span>, endRadius + <span class="hljs-string">'px'</span>);
  
  <span class="hljs-comment">// 4. å…¼å®¹å¤„ç†ï¼šæ”¯æŒView Transitionåˆ™ç”¨APIï¼Œå¦åˆ™ç›´æ¥æ‰§è¡Œ</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">startViewTransition</span>) {
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">startViewTransition</span>(<span class="hljs-function">() =&gt;</span> {
      func.<span class="hljs-title function_">call</span>(); <span class="hljs-comment">// æ‰§è¡Œä¸»é¢˜åˆ‡æ¢å‡½æ•°</span>
    });
  } <span class="hljs-keyword">else</span> {
    func.<span class="hljs-title function_">call</span>(); <span class="hljs-comment">// é™çº§æ–¹æ¡ˆï¼šæ— åŠ¨ç”»åˆ‡æ¢</span>
  }
};

<span class="hljs-comment">// ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼ˆæ”¹ç”¨changeBtnå¤„ç†ï¼‰</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'btn'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-title function_">changeBtn</span>(changeTheme, e);
});
</code></pre>
<h2 data-id="heading-9">ä¸‰ã€æ ¸å¿ƒé€»è¾‘æ·±åº¦è§£æ</h2>
<h3 data-id="heading-10">1. åœ†å½¢æ‰©æ•£åŠ¨ç”»çš„åŸç†</h3>
<ul>
<li><code>clip-path: circle(åŠå¾„ at xåæ ‡ yåæ ‡)</code>ï¼šé€šè¿‡è£å‰ªè·¯å¾„å®ç°â€œåªæ˜¾ç¤ºåœ†å½¢åŒºåŸŸå†…çš„å†…å®¹â€ï¼›</li>
<li>åŠ¨ç”»ä»<code>circle(0% at var(--x) var(--y))</code>ï¼ˆç‚¹å‡»ä½ç½®çš„ä¸€ä¸ªç‚¹ï¼‰è¿‡æ¸¡åˆ°<code>circle(var(--r) at var(--x) var(--y))</code>ï¼ˆè¦†ç›–æ•´ä¸ªè§†çª—çš„åœ†ï¼‰ï¼Œè§†è§‰ä¸Šå‘ˆç°â€œä»ç‚¹å‡»ä½ç½®å‘å¤–æ‰©æ•£â€çš„æ•ˆæœï¼›</li>
<li>åˆ‡æ¢æµ…è‰²ä¸»é¢˜æ—¶åå‘æ’­æ”¾åŠ¨ç”»ï¼Œä¿è¯åˆ‡æ¢åŒå‘éƒ½æœ‰æµç•…è¿‡æ¸¡ã€‚</li>
</ul>
<h3 data-id="heading-11">2. View Transition APIçš„å·¥ä½œæµç¨‹</h3>
<ol>
<li>è°ƒç”¨<code>document.startViewTransition(callback)</code>æ—¶ï¼Œæµè§ˆå™¨å…ˆæ•è·å½“å‰é¡µé¢çš„â€œæ—§çŠ¶æ€â€ï¼›</li>
<li>æ‰§è¡Œ<code>callback</code>ä¸­çš„é€»è¾‘ï¼ˆè¿™é‡Œæ˜¯åˆ‡æ¢ä¸»é¢˜ç±»åï¼‰ï¼›</li>
<li>æ•è·é¡µé¢çš„â€œæ–°çŠ¶æ€â€ï¼›</li>
<li>è‡ªåŠ¨åœ¨æ–°æ—§çŠ¶æ€ä¹‹é—´åº”ç”¨å®šä¹‰çš„è¿‡æ¸¡åŠ¨ç”»ï¼›</li>
<li>åŠ¨ç”»å®Œæˆåï¼Œç§»é™¤è¿‡æ¸¡ç›¸å…³çš„ä¸´æ—¶å…ƒç´ ã€‚</li>
</ol>
<h3 data-id="heading-12">3. åŠå¾„è®¡ç®—çš„æ•°å­¦é€»è¾‘</h3>
<p><code>Math.hypot(a, b)</code>ç”¨äºè®¡ç®—ç›´è§’ä¸‰è§’å½¢çš„æ–œè¾¹é•¿åº¦ï¼Œè¿™é‡Œï¼š</p>
<ul>
<li>ä»¥ç‚¹å‡»ç‚¹ä¸ºä¸­å¿ƒï¼Œè®¡ç®—åˆ°è§†çª—å››ä¸ªè§’çš„æœ€å¤§è·ç¦»ï¼ˆå³è¦†ç›–æ•´ä¸ªè§†çª—çš„æœ€å°åœ†åŠå¾„ï¼‰ï¼›</li>
<li>ç¡®ä¿åŠ¨ç”»æ‰©æ•£æ—¶èƒ½å®Œå…¨è¦†ç›–é¡µé¢ï¼Œé¿å…å‡ºç°â€œè£å‰ªä¸å…¨â€çš„é—®é¢˜ã€‚</li>
</ul>
<h2 data-id="heading-13">å››ã€ä¼˜åŒ–ä¸æ‰©å±•ï¼šè®©æ•ˆæœæ›´ç‚«é…·ã€æ›´å…¼å®¹</h2>
<h3 data-id="heading-14">1. å¢å¼ºè§†è§‰ä½“éªŒ</h3>
<ul>
<li>ç»™æŒ‰é’®æ·»åŠ åŸºç¡€æ ·å¼ï¼Œæå‡äº¤äº’æ„Ÿï¼š</li>
</ul>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-id">#btn</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">1rem</span> <span class="hljs-number">2rem</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1rem</span>;
  <span class="hljs-attribute">border</span>: none;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">var</span>(--text-color);
  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--bg-color);
  <span class="hljs-attribute">cursor</span>: pointer;
  <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">0.2s</span> ease;
}
<span class="hljs-selector-id">#btn</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">1.05</span>);
}
<span class="hljs-selector-id">#btn</span><span class="hljs-selector-pseudo">:active</span> {
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.98</span>);
}
</code></pre>
<ul>
<li>ç»™æ ‡é¢˜æ·»åŠ æ ·å¼ï¼Œè®©é¡µé¢æ›´ç¾è§‚ï¼š</li>
</ul>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">h1</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2.5rem</span>;
}
</code></pre>
<h3 data-id="heading-15">2. å®Œå–„å…¼å®¹æ€§é™çº§</h3>
<p>å¯¹äºä¸æ”¯æŒView Transition APIçš„æµè§ˆå™¨ï¼Œå¯æ·»åŠ ç®€å•çš„è¿‡æ¸¡åŠ¨ç”»ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* é™çº§æ–¹æ¡ˆï¼šæ™®é€šè¿‡æ¸¡ */</span>
<span class="hljs-selector-tag">html</span> {
  <span class="hljs-attribute">transition</span>: background-color <span class="hljs-number">0.5s</span> ease;
}
<span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">transition</span>: background-color <span class="hljs-number">0.5s</span> ease, color <span class="hljs-number">0.5s</span> ease;
}
</code></pre>
<h3 data-id="heading-16">3. æ‰©å±•åŠŸèƒ½ï¼šåŠ¨æ€æ›´æ–°æŒ‰é’®æ–‡æœ¬</h3>
<p>æ ¹æ®å½“å‰ä¸»é¢˜çŠ¶æ€ï¼Œä¿®æ”¹æŒ‰é’®æ˜¾ç¤ºçš„æ–‡å­—ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">updateBtnText</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'btn'</span>);
  <span class="hljs-keyword">const</span> isDark = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'html'</span>).<span class="hljs-property">classList</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">'dark'</span>);
  btn.<span class="hljs-property">textContent</span> = isDark ? <span class="hljs-string">'Switch to Dark Mode'</span> : <span class="hljs-string">'Switch to Light Mode'</span>;
};

<span class="hljs-comment">// åˆå§‹åŒ–æŒ‰é’®æ–‡æœ¬</span>
<span class="hljs-title function_">updateBtnText</span>();

<span class="hljs-comment">// ä¿®æ”¹changeThemeå‡½æ•°ï¼Œæ·»åŠ æ–‡æœ¬æ›´æ–°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeTheme</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'html'</span>).<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">'dark'</span>);
  <span class="hljs-title function_">updateBtnText</span>();
};
</code></pre>
<h2 data-id="heading-17">äº”ã€å®Œæ•´ä»£ç æ•´åˆ</h2>
<p>å°†ä»¥ä¸Šä¼˜åŒ–æ•´åˆï¼Œå¾—åˆ°æœ€ç»ˆçš„å®Œæ•´ä»£ç ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ç‚«é…·ä¸»é¢˜åˆ‡æ¢ | View Transition API<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
      <span class="hljs-selector-tag">html</span> {
        <span class="hljs-attr">--bg-color</span>: <span class="hljs-number">#000</span>;
        <span class="hljs-attr">--text-color</span>: <span class="hljs-number">#fff</span>;
        <span class="hljs-attribute">transition</span>: background-color <span class="hljs-number">0.5s</span> ease;
      }
      <span class="hljs-selector-tag">html</span><span class="hljs-selector-class">.dark</span> {
        <span class="hljs-attr">--bg-color</span>: <span class="hljs-number">#fff</span>;
        <span class="hljs-attr">--text-color</span>: <span class="hljs-number">#000</span>;
      }

      ::<span class="hljs-built_in">view-transition-old</span>(*) {
        <span class="hljs-attribute">animation</span>: none;
      }
      ::<span class="hljs-built_in">view-transition-new</span>(*) {
        <span class="hljs-attribute">animation</span>: clip <span class="hljs-number">0.5s</span> ease-in;
      }
      ::<span class="hljs-built_in">view-transition-old</span>(root) {
        <span class="hljs-attribute">z-index</span>: <span class="hljs-number">1</span>;
      }
      ::<span class="hljs-built_in">view-transition-new</span>(root) {
        <span class="hljs-attribute">z-index</span>: <span class="hljs-number">9999</span>;
      }
      <span class="hljs-selector-tag">html</span><span class="hljs-selector-class">.dark</span>::<span class="hljs-built_in">view-transition-old</span>(*) {
        <span class="hljs-attribute">animation</span>: clip <span class="hljs-number">0.5s</span> ease-in reverse;
      }
      <span class="hljs-selector-tag">html</span><span class="hljs-selector-class">.dark</span>::<span class="hljs-built_in">view-transition-new</span>(*) {
        <span class="hljs-attribute">animation</span>: none;
      }
      <span class="hljs-selector-tag">html</span><span class="hljs-selector-class">.dark</span>::<span class="hljs-built_in">view-transition-old</span>(root) {
        <span class="hljs-attribute">z-index</span>: <span class="hljs-number">9999</span>;
      }
      <span class="hljs-selector-tag">html</span><span class="hljs-selector-class">.dark</span>::<span class="hljs-built_in">view-transition-new</span>(root) {
        <span class="hljs-attribute">z-index</span>: <span class="hljs-number">1</span>;
      }

      <span class="hljs-keyword">@keyframes</span> clip {
        <span class="hljs-selector-tag">from</span> {
          <span class="hljs-attribute">clip-path</span>: <span class="hljs-built_in">circle</span>(<span class="hljs-number">0%</span> at <span class="hljs-built_in">var</span>(--x) <span class="hljs-built_in">var</span>(--y));
        }
        <span class="hljs-selector-tag">to</span> {
          <span class="hljs-attribute">clip-path</span>: <span class="hljs-built_in">circle</span>(<span class="hljs-built_in">var</span>(--r) at <span class="hljs-built_in">var</span>(--x) <span class="hljs-built_in">var</span>(--y));
        }
      }

      <span class="hljs-selector-tag">body</span> {
        <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">var</span>(--bg-color);
        <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--text-color);
        <span class="hljs-attribute">min-height</span>: <span class="hljs-number">100vh</span>;
        <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">display</span>: flex;
        <span class="hljs-attribute">flex-direction</span>: column;
        <span class="hljs-attribute">align-items</span>: center;
        <span class="hljs-attribute">justify-content</span>: center;
        <span class="hljs-attribute">gap</span>: <span class="hljs-number">2rem</span>;
        <span class="hljs-attribute">transition</span>: background-color <span class="hljs-number">0.5s</span> ease, color <span class="hljs-number">0.5s</span> ease;
      }

      <span class="hljs-selector-tag">h1</span> {
        <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2.5rem</span>;
      }

      <span class="hljs-selector-id">#btn</span> {
        <span class="hljs-attribute">padding</span>: <span class="hljs-number">1rem</span> <span class="hljs-number">2rem</span>;
        <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1rem</span>;
        <span class="hljs-attribute">border</span>: none;
        <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
        <span class="hljs-attribute">background</span>: <span class="hljs-built_in">var</span>(--text-color);
        <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--bg-color);
        <span class="hljs-attribute">cursor</span>: pointer;
        <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">0.2s</span> ease;
      }

      <span class="hljs-selector-id">#btn</span><span class="hljs-selector-pseudo">:hover</span> {
        <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">1.05</span>);
      }

      <span class="hljs-selector-id">#btn</span><span class="hljs-selector-pseudo">:active</span> {
        <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.98</span>);
      }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Dynamic Theme Transition<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"btn"</span>&gt;</span>Switch to Light Mode<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
      <span class="hljs-keyword">const</span> <span class="hljs-title function_">changeTheme</span> = (<span class="hljs-params"/>) =&gt; {
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'html'</span>).<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">'dark'</span>);
        <span class="hljs-title function_">updateBtnText</span>();
      };

      <span class="hljs-keyword">const</span> <span class="hljs-title function_">updateBtnText</span> = (<span class="hljs-params"/>) =&gt; {
        <span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'btn'</span>);
        <span class="hljs-keyword">const</span> isDark = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'html'</span>).<span class="hljs-property">classList</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">'dark'</span>);
        btn.<span class="hljs-property">textContent</span> = isDark ? <span class="hljs-string">'Switch to Dark Mode'</span> : <span class="hljs-string">'Switch to Light Mode'</span>;
      };

      <span class="hljs-keyword">const</span> <span class="hljs-title function_">changeBtn</span> = (<span class="hljs-params">func, $eve</span>) =&gt; {
        <span class="hljs-keyword">const</span> x = $eve.<span class="hljs-property">clientX</span>;
        <span class="hljs-keyword">const</span> y = $eve.<span class="hljs-property">clientY</span>;
        <span class="hljs-keyword">const</span> endRadius = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">hypot</span>(
          <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(x, innerWidth - x),
          <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(y, innerHeight - y),
        );
        <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-title function_">setProperty</span>(<span class="hljs-string">'--x'</span>, x + <span class="hljs-string">'px'</span>);
        <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-title function_">setProperty</span>(<span class="hljs-string">'--y'</span>, y + <span class="hljs-string">'px'</span>);
        <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-title function_">setProperty</span>(<span class="hljs-string">'--r'</span>, endRadius + <span class="hljs-string">'px'</span>);
        
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">startViewTransition</span>) {
          <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">startViewTransition</span>(<span class="hljs-function">() =&gt;</span> {
            func.<span class="hljs-title function_">call</span>();
          });
        } <span class="hljs-keyword">else</span> {
          func.<span class="hljs-title function_">call</span>();
        }
      };

      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'btn'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
        <span class="hljs-title function_">changeBtn</span>(changeTheme, e);
      });
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h2 data-id="heading-18">å…­ã€æ€»ç»“ä¸æ‹“å±•</h2>
<h3 data-id="heading-19">1. æ ¸å¿ƒæ”¶è·</h3>
<ul>
<li>CSSå˜é‡æ˜¯å®ç°ä¸»é¢˜åˆ‡æ¢çš„é«˜æ•ˆæ–¹å¼ï¼Œä¾¿äºç»´æŠ¤å’ŒåŠ¨æ€ä¿®æ”¹ï¼›</li>
<li>View Transition APIèƒ½è½»æ¾å®ç°â€œçŠ¶æ€è¿‡æ¸¡â€ç±»åŠ¨ç”»ï¼Œæ— éœ€æ‰‹åŠ¨ç®¡ç†æ–°æ—§çŠ¶æ€ï¼›</li>
<li>ç»“åˆé¼ æ ‡ä½ç½®è®¡ç®—ï¼Œå¯å®ç°â€œè·Ÿéšç‚¹å‡»ä½ç½®æ‰©æ•£â€çš„æ²‰æµ¸å¼åŠ¨ç”»æ•ˆæœï¼›</li>
<li>å…¼å®¹æ€§é™çº§æ˜¯å‰ç«¯å¼€å‘çš„å¿…è¦è€ƒè™‘ï¼Œä¿è¯ä¸åŒæµè§ˆå™¨çš„åŸºç¡€ä½“éªŒã€‚</li>
</ul>
<h3 data-id="heading-20">2. æ‹“å±•æ–¹å‘</h3>
<ul>
<li>å¢åŠ æ›´å¤šä¸»é¢˜ç»´åº¦ï¼šå¦‚æŒ‰é’®è‰²ã€è¾¹æ¡†è‰²ã€é˜´å½±è‰²ç­‰ï¼Œè®©ä¸»é¢˜åˆ‡æ¢æ›´å®Œæ•´ï¼›</li>
<li>ä¼˜åŒ–åŠ¨ç”»æ›²çº¿ï¼šä½¿ç”¨<code>cubic-bezier</code>è‡ªå®šä¹‰ç¼“åŠ¨å‡½æ•°ï¼Œè®©åŠ¨ç”»æ›´ä¸æ»‘ï¼›</li>
<li>æ·»åŠ é¢å¤–äº¤äº’ï¼šå¦‚é¼ æ ‡ç§»åŠ¨æ—¶çš„è§†è§‰åé¦ˆã€ä¸»é¢˜åˆ‡æ¢åçš„å¾®åŠ¨ç”»ï¼›</li>
<li>é€‚é…ç§»åŠ¨ç«¯ï¼šè°ƒæ•´å­—ä½“å¤§å°ã€æŒ‰é’®å°ºå¯¸ï¼Œä¿è¯å°å±ä½“éªŒã€‚</li>
</ul>
<p>é€šè¿‡æœ¬æ–‡çš„æ€è·¯ï¼Œä¸ä»…èƒ½å®ç°ç‚«é…·çš„ä¸»é¢˜åˆ‡æ¢æ•ˆæœï¼Œæ›´èƒ½ç†è§£View Transition APIçš„æ ¸å¿ƒæ€æƒ³â€”â€”è®©â€œçŠ¶æ€å˜åŒ–â€çš„è§†è§‰è¿‡æ¸¡æ›´ç®€å•ã€æ›´è‡ªç„¶ã€‚è¿™ç§æ€è·¯ä¹Ÿå¯è¿ç§»åˆ°é¡µé¢è·¯ç”±åˆ‡æ¢ã€å…ƒç´ æ˜¾éšç­‰åœºæ™¯ï¼Œå¤§å¹…æå‡å‰ç«¯äº¤äº’çš„è´¨æ„Ÿã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[android activityå¯åŠ¨æµç¨‹ å­¦ä¹ ç¬”è®°]]></title>    <link>https://juejin.cn/post/7591389489411457065</link>    <guid>https://juejin.cn/post/7591389489411457065</guid>    <pubDate>2026-01-04T06:38:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591389489411457065" data-draft-id="7591389489411391529" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="android activityå¯åŠ¨æµç¨‹ å­¦ä¹ ç¬”è®°"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-01-04T06:38:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿ƒæºxinyuan"/> <meta itemprop="url" content="https://juejin.cn/user/4283353029151694"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            android activityå¯åŠ¨æµç¨‹ å­¦ä¹ ç¬”è®°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4283353029151694/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿ƒæºxinyuan
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T06:38:59.000Z" title="Sun Jan 04 2026 06:38:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Android Activity å¯åŠ¨æµç¨‹æ˜¯ä¸€ä¸ªæ¶‰åŠ <strong>åº”ç”¨è¿›ç¨‹ã€ç³»ç»ŸæœåŠ¡ã€Binder IPC é€šä¿¡</strong> çš„å¤æ‚è¿‡ç¨‹ã€‚ä»¥ä¸‹æ˜¯ç®€åŒ–çš„æ ¸å¿ƒæ­¥éª¤ï¼š</p>
<h2 data-id="heading-0">ä¸€ã€åº”ç”¨è¿›ç¨‹å†…å¯åŠ¨ï¼ˆåŒä¸€è¿›ç¨‹ï¼‰</h2>
<h3 data-id="heading-1">1. è°ƒç”¨ startActivity()</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç”¨æˆ·ä»£ç </span>
startActivity(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(<span class="hljs-built_in">this</span>, TargetActivity.class));

<span class="hljs-comment">// å®é™…è°ƒç”¨é“¾</span>
startActivity() â†’ startActivityForResult() 
â†’ Instrumentation.execStartActivity()
</code></pre>
<h3 data-id="heading-2">2. é€šè¿‡ Binder é€šçŸ¥ AMS</h3>
<ul>
<li><strong>Instrumentation</strong> é€šè¿‡ Binder è°ƒç”¨ <strong>ActivityManagerService(AMS)</strong> çš„ <code>startActivity()</code></li>
<li>å½“å‰ Activity çš„ <code>onPause()</code> è¢«è°ƒç”¨</li>
</ul>
<h2 data-id="heading-3">äºŒã€ç³»ç»ŸæœåŠ¡å¤„ç†é˜¶æ®µ</h2>
<h3 data-id="heading-4">3. AMS å¤„ç†æµç¨‹</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// AMS ä¸»è¦é€»è¾‘</span>
ActivityManagerService.startActivity()
â†’ ActivityStarter.startActivityMayWait()
â†’ ActivityStarter.startActivity()
â†’ ActivityStarter.startActivityUnchecked()
</code></pre>
<p><strong>AMS ä¸»è¦å·¥ä½œï¼š</strong></p>
<ul>
<li>è§£æ Intentï¼ˆåŒ¹é… Activityï¼‰</li>
<li>æƒé™æ£€æŸ¥</li>
<li>è¿›ç¨‹æ£€æŸ¥ï¼ˆç›®æ ‡ Activity æ‰€åœ¨è¿›ç¨‹æ˜¯å¦å­˜åœ¨ï¼‰</li>
<li>åˆ›å»º/å¤ç”¨ä»»åŠ¡æ ˆï¼ˆTaskï¼‰</li>
<li>å†³å®šå¯åŠ¨æ¨¡å¼ï¼ˆstandardã€singleTopã€singleTaskã€singleInstanceï¼‰</li>
</ul>
<h3 data-id="heading-5">4. å¤„ç†ç›®æ ‡è¿›ç¨‹</h3>
<ul>
<li><strong>æƒ…å†µA</strong>ï¼šç›®æ ‡ Activity æ‰€åœ¨è¿›ç¨‹å·²å­˜åœ¨
<ul>
<li>ç›´æ¥é‡ç”¨è¿›ç¨‹</li>
</ul>
</li>
<li><strong>æƒ…å†µB</strong>ï¼šè¿›ç¨‹ä¸å­˜åœ¨
<ul>
<li>AMS é€šè¿‡ Socket é€šçŸ¥ <strong>Zygote è¿›ç¨‹</strong> fork æ–°è¿›ç¨‹</li>
<li>æ–°è¿›ç¨‹å¯åŠ¨åï¼Œæ‰§è¡Œ <code>ActivityThread.main()</code></li>
</ul>
</li>
</ul>
<h2 data-id="heading-6">ä¸‰ã€ç›®æ ‡è¿›ç¨‹åˆå§‹åŒ–</h2>
<h3 data-id="heading-7">5. æ–°è¿›ç¨‹åˆå§‹åŒ–</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ActivityThread.main()</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
    Looper.prepareMainLooper();  <span class="hljs-comment">// åˆ›å»ºä¸»çº¿ç¨‹Looper</span>
    <span class="hljs-type">ActivityThread</span> <span class="hljs-variable">thread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ActivityThread</span>();
    thread.attach(<span class="hljs-literal">false</span>);        <span class="hljs-comment">// ç»‘å®šåˆ°AMS</span>
    Looper.loop();
}
</code></pre>
<h3 data-id="heading-8">6. ç»‘å®šåˆ° AMS</h3>
<ul>
<li><code>ActivityThread.attach()</code> é€šè¿‡ Binder è°ƒç”¨ <code>AMS.attachApplication()</code></li>
<li>AMS å‘é€ <strong>LAUNCH_ACTIVITY</strong> äº‹åŠ¡ç»™ç›®æ ‡è¿›ç¨‹</li>
</ul>
<h2 data-id="heading-9">å››ã€Activity å®ä¾‹åŒ–ä¸ç”Ÿå‘½å‘¨æœŸ</h2>
<h3 data-id="heading-10">7. å¤„ç†å¯åŠ¨äº‹åŠ¡</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ActivityThread å¤„ç†æ¶ˆæ¯</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">H</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Handler</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleMessage</span><span class="hljs-params">(Message msg)</span> {
        <span class="hljs-keyword">case</span> LAUNCH_ACTIVITY:
            handleLaunchActivity(r);
            <span class="hljs-keyword">break</span>;
    }
}

<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleLaunchActivity</span><span class="hljs-params">(ActivityClientRecord r)</span> {
    <span class="hljs-comment">// 1. åˆ›å»º Activity å®ä¾‹</span>
    <span class="hljs-type">Activity</span> <span class="hljs-variable">activity</span> <span class="hljs-operator">=</span> mInstrumentation.newActivity(
        cl, component.getClassName(), r.intent);
    
    <span class="hljs-comment">// 2. åˆ›å»º Applicationï¼ˆå¦‚æœæœªåˆ›å»ºï¼‰</span>
    <span class="hljs-type">Application</span> <span class="hljs-variable">app</span> <span class="hljs-operator">=</span> r.packageInfo.makeApplication(<span class="hljs-literal">false</span>, mInstrumentation);
    
    <span class="hljs-comment">// 3. è°ƒç”¨ attach()</span>
    activity.attach(appContext, <span class="hljs-built_in">this</span>, ...);
    
    <span class="hljs-comment">// 4. è°ƒç”¨ç”Ÿå‘½å‘¨æœŸ</span>
    mInstrumentation.callActivityOnCreate(activity, r.state);
    <span class="hljs-comment">// â†’ activity.onCreate()</span>
    
    handleResumeActivity();  <span class="hljs-comment">// â†’ onStart() â†’ onResume()</span>
}
</code></pre>
<h3 data-id="heading-11">8. å®Œæ•´ç”Ÿå‘½å‘¨æœŸè°ƒç”¨</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-number">1</span>. ç›®æ ‡è¿›ç¨‹ï¼š<span class="hljs-built_in">onCreate</span>()
<span class="hljs-number">2</span>. ç›®æ ‡è¿›ç¨‹ï¼š<span class="hljs-built_in">onStart</span>()
<span class="hljs-number">3</span>. ç›®æ ‡è¿›ç¨‹ï¼š<span class="hljs-built_in">onResume</span>()
<span class="hljs-number">4</span>. åŸActivityï¼ˆå¦‚æœå­˜åœ¨ï¼‰ï¼š<span class="hljs-built_in">onPause</span>() â†’ <span class="hljs-built_in">onStop</span>()
</code></pre>
<h2 data-id="heading-12">äº”ã€å…³é”®ç»„ä»¶è§’è‰²</h2>

































<table><thead><tr><th>ç»„ä»¶</th><th>èŒè´£</th></tr></thead><tbody><tr><td><strong>ActivityManagerService(AMS)</strong></td><td>ç³»ç»ŸæœåŠ¡ï¼Œç»Ÿä¸€è°ƒåº¦æ‰€æœ‰ Activity</td></tr><tr><td><strong>ActivityThread</strong></td><td>åº”ç”¨ä¸»çº¿ç¨‹ï¼Œæ¯ä¸ªè¿›ç¨‹ä¸€ä¸ªå®ä¾‹</td></tr><tr><td><strong>Instrumentation</strong></td><td>ç›‘æ§åº”ç”¨ä¸ç³»ç»Ÿçš„äº¤äº’</td></tr><tr><td><strong>ApplicationThread</strong></td><td>Binder ä»£ç†ï¼ŒAMS ä¸åº”ç”¨è¿›ç¨‹é€šä¿¡æ¡¥æ¢</td></tr><tr><td><strong>ActivityStarter</strong></td><td>Android 7.0+ï¼Œå¤„ç†å¯åŠ¨é€»è¾‘</td></tr><tr><td><strong>ActivityStack</strong></td><td>ç®¡ç† Activity å›é€€æ ˆ</td></tr></tbody></table>
<h2 data-id="heading-13">å…­ã€å¯åŠ¨æ¨¡å¼å¤„ç†å·®å¼‚</h2>
<h3 data-id="heading-14">Standard æ¨¡å¼</h3>
<ul>
<li>æ¯æ¬¡å¯åŠ¨åˆ›å»ºæ–°å®ä¾‹</li>
</ul>
<h3 data-id="heading-15">SingleTop æ¨¡å¼</h3>
<ul>
<li>æ£€æŸ¥æ ˆé¡¶æ˜¯å¦ä¸ºè¯¥ Activity</li>
<li>å¦‚æœæ˜¯ï¼Œè°ƒç”¨ <code>onNewIntent()</code> è€Œéæ–°å»º</li>
</ul>
<h3 data-id="heading-16">SingleTask æ¨¡å¼</h3>
<ul>
<li>æ£€æŸ¥ä»»åŠ¡æ ˆä¸­æ˜¯å¦å·²å­˜åœ¨</li>
<li>æ¸…é™¤å…¶ä¸Šçš„æ‰€æœ‰ Activity</li>
<li>è°ƒç”¨ <code>onNewIntent()</code></li>
</ul>
<h3 data-id="heading-17">SingleInstance æ¨¡å¼</h3>
<ul>
<li>ç‹¬å ä¸€ä¸ªä»»åŠ¡æ ˆ</li>
</ul>
<h2 data-id="heading-18">ä¸ƒã€æ€§èƒ½ä¼˜åŒ–ç›¸å…³</h2>
<h3 data-id="heading-19">1. å¯åŠ¨è€—æ—¶ç›‘æ§</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å¼€å‘è€…æ¨¡å¼æŸ¥çœ‹</span>
adb shell am start -W packagename/activityname

<span class="hljs-comment">// è¾“å‡ºç»“æœ</span>
TotalTime: å¯åŠ¨æ€»è€—æ—¶
WaitTime: AMSå¤„ç†è€—æ—¶
</code></pre>
<h3 data-id="heading-20">2. å¯åŠ¨ä¼˜åŒ–ç­–ç•¥</h3>
<ul>
<li><strong>å†·å¯åŠ¨</strong>ï¼šè¿›ç¨‹ä¸å­˜åœ¨ï¼Œæœ€æ…¢</li>
<li><strong>æ¸©å¯åŠ¨</strong>ï¼šè¿›ç¨‹å­˜åœ¨ï¼ŒActivity è¢«é”€æ¯</li>
<li><strong>çƒ­å¯åŠ¨</strong>ï¼šActivity åœ¨æ ˆä¸­ï¼Œæœ€å¿«</li>
</ul>
<h2 data-id="heading-21">å…«ã€æµç¨‹å›¾ç¤ºæ„</h2>
<pre><code class="hljs language-scss" lang="scss">åº”ç”¨è¿›ç¨‹ <span class="hljs-built_in">startActivity</span>()
        â†“
Binder IPC åˆ° AMS
        â†“
AMS æ£€æŸ¥æƒé™ã€è¿›ç¨‹ã€å¯åŠ¨æ¨¡å¼
        â†“
ç›®æ ‡è¿›ç¨‹å­˜åœ¨ï¼Ÿ â†’ å¦ â†’ Zygote fork æ–°è¿›ç¨‹
        â†“æ˜¯
AMS å‘é€å¯åŠ¨äº‹åŠ¡
        â†“
ç›®æ ‡è¿›ç¨‹å¤„ç†äº‹åŠ¡
        â†“
åˆ›å»º Activity â†’ <span class="hljs-built_in">attach</span>() â†’ ç”Ÿå‘½å‘¨æœŸ
        â†“
WindowManager æ·»åŠ è§†å›¾
        â†“
ç”¨æˆ·çœ‹åˆ°ç•Œé¢
</code></pre>
<h2 data-id="heading-22">æ³¨æ„äº‹é¡¹</h2>
<ol>
<li><strong>Android 10+</strong> å¼•å…¥ <code>ActivityTaskManagerService(ATMS)</code> åˆ†æ‹… AMS å·¥ä½œ</li>
<li><strong>Binder è°ƒç”¨</strong> æ¶‰åŠè¿›ç¨‹é—´é€šä¿¡ï¼Œæ˜¯æ€§èƒ½ç“¶é¢ˆä¹‹ä¸€</li>
<li><strong>ä¸»çº¿ç¨‹æ“ä½œ</strong>ï¼šActivity åˆ›å»ºå’Œç”Ÿå‘½å‘¨æœŸå›è°ƒéƒ½åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œ</li>
</ol>
<p>ç†è§£æ•´ä¸ªæµç¨‹æœ‰åŠ©äºï¼š</p>
<ul>
<li>ä¼˜åŒ–åº”ç”¨å¯åŠ¨é€Ÿåº¦</li>
<li>å¤„ç†å¤æ‚çš„é¡µé¢è·³è½¬é€»è¾‘</li>
<li>è§£å†³ Activity å¯åŠ¨ç›¸å…³çš„å¼‚å¸¸é—®é¢˜</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å½“æˆ‘100%æŠŠç¼–ç¨‹äº¤ç»™AIï¼šåœ¨python-officeé¡¹ç›®ä¸­çš„6ä¸ªå®æˆ˜åœºæ™¯ä¸ä»£ç æ¼”ç¤º]]></title>    <link>https://juejin.cn/post/7591013450525196340</link>    <guid>https://juejin.cn/post/7591013450525196340</guid>    <pubDate>2026-01-04T06:48:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591013450525196340" data-draft-id="7590778284759072803" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å½“æˆ‘100%æŠŠç¼–ç¨‹äº¤ç»™AIï¼šåœ¨python-officeé¡¹ç›®ä¸­çš„6ä¸ªå®æˆ˜åœºæ™¯ä¸ä»£ç æ¼”ç¤º"/> <meta itemprop="keywords" content="Trae,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-04T06:48:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜æ™šæ«"/> <meta itemprop="url" content="https://juejin.cn/user/2327002779758760"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å½“æˆ‘100%æŠŠç¼–ç¨‹äº¤ç»™AIï¼šåœ¨python-officeé¡¹ç›®ä¸­çš„6ä¸ªå®æˆ˜åœºæ™¯ä¸ä»£ç æ¼”ç¤º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2327002779758760/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜æ™šæ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T06:48:53.000Z" title="Sun Jan 04 2026 06:48:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eac49107d3ed4166bae03802c3240825~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5pma5p6r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768114133&amp;x-signature=foPTTUloEC1Mz3escjkAMQHeWJY%3D" alt="image.png" loading="lazy"/></p>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç¨‹åºå‘˜æ™šæ«ã€‚</p>
<p>è‡ªä»æˆ‘çš„å¼€æºé¡¹ç›® <strong>python-office</strong> åœ¨2025å¹´åˆè¾¾æˆ1000 starçš„é‡Œç¨‹ç¢‘ä»¥æ¥ï¼Œæˆ‘è¶Šæ¥è¶Šæ¸…æ™°åœ°è®¤è¯†åˆ°ï¼Œä¸€ä¸ªé¡¹ç›®çš„æˆé•¿ä¸ä»…åœ¨äºåŠŸèƒ½çš„å †ç§¯ï¼Œæ›´åœ¨äºå¼€å‘æµç¨‹çš„è§„èŒƒä¸é«˜æ•ˆã€‚åœ¨AIæŠ€æœ¯å¸­å·è€Œæ¥çš„ä»Šå¤©ï¼Œæˆ‘å‘ç°è‡ªå·±ç¼–ç¨‹æ—¶è¶Šæ¥è¶Šå¤šçš„å·¥ä½œï¼Œå·²ç»å¯ä»¥å®Œå…¨ä¿¡ä»»åœ°äº¤ç»™AIä¼™ä¼´ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘å°±ç»“åˆ <strong>python-office</strong> è¿™ä¸ªæˆ‘ä»¬å…±åŒçš„é¡¹ç›®ï¼Œé€šè¿‡å…·ä½“çš„ä»£ç æ¼”ç¤ºï¼Œåˆ†äº«æˆ‘ç°åœ¨100%ç”¨AIæ¥åšçš„6ä»¶äº‹ã€‚è¿™äº›æ”¹å˜ï¼Œè®©æˆ‘çš„å¼€å‘æ•ˆç‡æå‡äº†æ•°å€ï¼Œä¹Ÿè®©é¡¹ç›®çš„è´¨é‡æ›´åŠ ç¨³å®šã€‚</p>
<blockquote>
<p>æœ¬æ–‡ä¸­æ‰€æœ‰AIç¼–ç¨‹çš„å®ç°ï¼Œéƒ½æ˜¯åŸºäºAIç¼–ç¨‹è½¯ä»¶ï¼šTrae</p>
</blockquote>
<h3 data-id="heading-0">1. è„šæœ¬ç¼–å†™ï¼šä»æ¨¡ç³Šéœ€æ±‚åˆ°ä¸€è¡Œå¼å‡½æ•°</h3>
<p>åœ¨ç»´æŠ¤ <code>python-office</code> æ—¶ï¼Œå¾ˆå¤šåŠŸèƒ½çµæ„Ÿæ¥æºäºç²‰ä¸çš„â€œä¸€å¥è¯éœ€æ±‚â€ï¼Œæ¯”å¦‚â€œèƒ½ä¸èƒ½æ‰¹é‡åˆå¹¶PDFï¼Ÿâ€ã€â€œå¦‚ä½•ä¸€é”®ç»™ExcelåŠ è¡¨å¤´ï¼Ÿâ€ã€‚è¿‡å»ï¼Œæˆ‘éœ€è¦è‡ªå·±è®¾è®¡å‡½æ•°ç­¾åã€é€»è¾‘å’Œå¼‚å¸¸å¤„ç†ã€‚ç°åœ¨ï¼Œæˆ‘å°†éœ€æ±‚æè¿°ç›´æ¥æŠ›ç»™AIã€‚</p>
<p><strong>AIå®æˆ˜åœºæ™¯</strong>ï¼šä¸º <code>pofile</code> æ¨¡å—ï¼ˆæ–‡ä»¶å¤„ç†ï¼‰å¢åŠ ä¸€ä¸ªâ€œæ™ºèƒ½æ•´ç†æ¡Œé¢â€çš„åŠŸèƒ½ã€‚</p>
<p><strong>æˆ‘çš„éœ€æ±‚æç¤º</strong>ï¼š</p>
<blockquote>
<p>â€œè¯·ç¼–å†™ä¸€ä¸ªPythonå‡½æ•°ï¼Œå‘½åä¸º <code>tidy_desktop</code>ã€‚å®ƒæ¥æ”¶ä¸€ä¸ªç›®æ ‡è·¯å¾„å‚æ•°ï¼ˆé»˜è®¤æ˜¯ç”¨æˆ·æ¡Œé¢ï¼‰ï¼Œèƒ½è‡ªåŠ¨è¯†åˆ«è¯¥è·¯å¾„ä¸‹æ‰€æœ‰æ–‡ä»¶çš„ç±»å‹ï¼ˆå¦‚å›¾ç‰‡ã€æ–‡æ¡£ã€å‹ç¼©åŒ…ï¼‰ï¼Œå¹¶åˆ›å»ºå¯¹åº”çš„æ–‡ä»¶å¤¹ï¼ˆå¦‚Imagesã€Documentsã€Archivesï¼‰ï¼Œå°†æ–‡ä»¶ç§»å…¥å…¶ä¸­ã€‚è¯·å¤„ç†å¥½è·¯å¾„ä¸å­˜åœ¨çš„æƒ…å†µï¼Œå¹¶è¿”å›æ•´ç†çš„æŠ¥å‘Šä¿¡æ¯ã€‚å‡½æ•°é£æ ¼éœ€ä¸ python-office é¡¹ç›®ä¸€è‡´ï¼Œä¿æŒç®€å•çš„ä¸€è¡Œè°ƒç”¨é£æ ¼ã€‚â€</p>
</blockquote>
<p><strong>AIç”Ÿæˆçš„ä»£ç éª¨æ¶ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä½äºï¼špython-office/office/file/tidy.py</span>
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> shutil
<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path

<span class="hljs-keyword">def</span> <span class="hljs-title function_">tidy_desktop</span>(<span class="hljs-params">target_dir=<span class="hljs-literal">None</span></span>):
    <span class="hljs-string">"""
    ä¸€é”®æ•´ç†æŒ‡å®šç›®å½•ï¼ˆå¦‚æ¡Œé¢ï¼‰ï¼Œè‡ªåŠ¨æŒ‰æ–‡ä»¶ç±»å‹åˆ†ç±»å­˜æ”¾ã€‚
    
    Args:
        target_dir (str, optional): è¦æ•´ç†çš„ç›®å½•è·¯å¾„ã€‚é»˜è®¤ä¸ºå½“å‰ç”¨æˆ·çš„æ¡Œé¢ã€‚
    
    Returns:
        str: æ•´ç†ç»“æœçš„æŠ¥å‘Šå­—ç¬¦ä¸²ã€‚
    
    Raises:
        FileNotFoundError: å½“ç›®æ ‡ç›®å½•ä¸å­˜åœ¨æ—¶ã€‚
    """</span>
    <span class="hljs-keyword">if</span> target_dir <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
        target_dir = Path.home() / <span class="hljs-string">'Desktop'</span>
    
    target_path = Path(target_dir)
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> target_path.exists():
        <span class="hljs-keyword">raise</span> FileNotFoundError(<span class="hljs-string">f"ç›®æ ‡ç›®å½•ä¸å­˜åœ¨: <span class="hljs-subst">{target_dir}</span>"</span>)
    
    <span class="hljs-comment"># æ–‡ä»¶ç±»å‹æ˜ å°„</span>
    file_type_folders = {
        <span class="hljs-string">'.jpg'</span>: <span class="hljs-string">'Images'</span>, <span class="hljs-string">'.png'</span>: <span class="hljs-string">'Images'</span>, <span class="hljs-string">'.pdf'</span>: <span class="hljs-string">'Documents'</span>,
        <span class="hljs-string">'.docx'</span>: <span class="hljs-string">'Documents'</span>, <span class="hljs-string">'.xlsx'</span>: <span class="hljs-string">'Documents'</span>, <span class="hljs-string">'.zip'</span>: <span class="hljs-string">'Archives'</span>,
        <span class="hljs-comment"># ... å…¶ä»–æ˜ å°„å…³ç³»</span>
    }
    
    report_lines = []
    <span class="hljs-keyword">for</span> file_path <span class="hljs-keyword">in</span> target_path.iterdir():
        <span class="hljs-keyword">if</span> file_path.is_file():
            suffix = file_path.suffix.lower()
            folder_name = file_type_folders.get(suffix, <span class="hljs-string">'Others'</span>)
            folder_path = target_path / folder_name
            folder_path.mkdir(exist_ok=<span class="hljs-literal">True</span>)
            
            shutil.move(<span class="hljs-built_in">str</span>(file_path), <span class="hljs-built_in">str</span>(folder_path / file_path.name))
            report_lines.append(<span class="hljs-string">f"å·²ç§»åŠ¨: <span class="hljs-subst">{file_path.name}</span> -&gt; <span class="hljs-subst">{folder_name}</span>/"</span>)
    
    <span class="hljs-keyword">return</span> <span class="hljs-string">"\n"</span>.join(report_lines) <span class="hljs-keyword">if</span> report_lines <span class="hljs-keyword">else</span> <span class="hljs-string">"ç›®æ ‡ç›®å½•å†…æœªå‘ç°å¯æ•´ç†çš„æ–‡ä»¶ã€‚"</span>
</code></pre>
<p>æˆ‘ä¸å†éœ€è¦è®°å¿† <code>shutil</code>ã€<code>pathlib</code> æ¯ä¸ªæ–¹æ³•çš„ç»†èŠ‚ï¼ŒAIç”Ÿæˆçš„ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ³¨é‡Šå®Œæ•´ï¼Œæˆ‘åªéœ€å…³æ³¨æ ¸å¿ƒçš„ä¸šåŠ¡é€»è¾‘æ˜ å°„å’Œæœ€ç»ˆçš„æµ‹è¯•éªŒæ”¶ã€‚è¿™è®©æˆ‘èƒ½æ›´ä¸“æ³¨äºæ€è€ƒå¦‚ä½•å°†å¤æ‚åŠŸèƒ½ç®€åŒ–æˆä¸€è¡Œçš„APIï¼Œå°±åƒ <code>python-office</code> è¿½æ±‚çš„é‚£æ ·ï¼š<code>import office; office.file.tidy_desktop()</code>ã€‚</p>
<h3 data-id="heading-1">2. READMEä¸æ–‡æ¡£ï¼šå‘Šåˆ«â€œæç¬”å¿˜å­—â€</h3>
<p>ç»´æŠ¤æ–‡æ¡£æ›¾æ˜¯é¡¹ç›®æœ€å¤§çš„â€œå€ºâ€ã€‚<code>python-office</code> ä½œä¸ºä¸€ä¸ªåŒ…å« <code>poexcel</code>ã€<code>poword</code>ã€<code>popdf</code> ç­‰å¤šä¸ªæ¨¡å—çš„é›†åˆï¼Œæ¯ä¸ªæ–°åŠŸèƒ½çš„åŠ å…¥éƒ½éœ€è¦åŒæ­¥æ›´æ–°æ–‡æ¡£ï¼Œè€—æ—¶è€—åŠ›ã€‚</p>
<p><strong>AIå®æˆ˜åœºæ™¯</strong>ï¼šä¸ºåˆšåˆšæ–°å¢çš„ <code>tidy_desktop</code> å‡½æ•°è‡ªåŠ¨ç”ŸæˆAPIæ–‡æ¡£å’ŒMarkdownç¤ºä¾‹ã€‚</p>
<p><strong>æˆ‘çš„éœ€æ±‚æç¤º</strong>ï¼š</p>
<blockquote>
<p>â€œæ ¹æ®ä¸Šé¢çš„ <code>tidy_desktop</code> å‡½æ•°ä»£ç ï¼Œä¸º python-office é¡¹ç›®çš„æ–‡æ¡£ç”Ÿæˆä»¥ä¸‹å†…å®¹ï¼š</p>
<ol>
<li>ä¸€æ®µæ ‡å‡†çš„Googleé£æ ¼å‡½æ•°è¯´æ˜ï¼ˆå·²åŒ…å«åœ¨ä»£ç ä¸­ï¼‰ã€‚</li>
<li>ä¸€ä¸ªç‹¬ç«‹çš„Markdownæ–‡æ¡£ç‰‡æ®µï¼ŒåŒ…å«åŠŸèƒ½æè¿°ã€å®‰è£…å‘½ä»¤ã€ä½¿ç”¨ç¤ºä¾‹å’Œæ³¨æ„äº‹é¡¹ã€‚â€</li>
</ol>
</blockquote>
<p><strong>AIç”Ÿæˆçš„Markdownæ–‡æ¡£ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## ğŸ“‚ tidy<span class="hljs-emphasis">_desktop - æ™ºèƒ½æ•´ç†æ¡Œé¢æ–‡ä»¶

### åŠŸèƒ½ç®€ä»‹
ä¸€é”®æ•´ç†æ‚¨çš„æ¡Œé¢ï¼ˆæˆ–ä»»ä½•æŒ‡å®šæ–‡ä»¶å¤¹ï¼‰ï¼Œè‡ªåŠ¨å°†æ•£ä¹±çš„æ–‡ä»¶æŒ‰ç±»å‹ï¼ˆå›¾ç‰‡ã€æ–‡æ¡£ã€å‹ç¼©åŒ…ç­‰ï¼‰å½’ç±»åˆ°å¯¹åº”çš„å­æ–‡ä»¶å¤¹ä¸­ï¼Œè®©å·¥ä½œç©ºé—´ç¬é—´æ¢å¤æ•´æ´ã€‚

### å¿«é€Ÿå¼€å§‹
```python
import office

# æ•´ç†å½“å‰ç”¨æˆ·æ¡Œé¢
result = office.file.tidy_</span>desktop()</span>
print(result)

<span class="hljs-section"># æ•´ç†æŒ‡å®šæ–‡ä»¶å¤¹</span>
result = office.file.tidy<span class="hljs-emphasis">_desktop(r"D:\ä¸´æ—¶æ–‡ä»¶")
print(result)
</span></code></pre>
<h3 data-id="heading-2">å‚æ•°è¯´æ˜</h3>
<ul>
<li><code>target_dir</code> (strï¼Œå¯é€‰): éœ€è¦æ•´ç†çš„ç›®å½•è·¯å¾„ã€‚å¦‚æœä¸æä¾›ï¼Œåˆ™é»˜è®¤æ•´ç†å½“å‰ç³»ç»Ÿçš„æ¡Œé¢ç›®å½•ã€‚</li>
</ul>
<h3 data-id="heading-3">æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>è¯¥æ“ä½œä¼š<strong>ç›´æ¥ç§»åŠ¨æ–‡ä»¶</strong>ï¼Œå»ºè®®é¦–æ¬¡ä½¿ç”¨æ—¶å…ˆåœ¨ä¸é‡è¦çš„æ–‡ä»¶å¤¹ä¸Šæµ‹è¯•ã€‚</li>
<li>ç›®å‰æ”¯æŒå¸¸è§æ ¼å¼ï¼Œå¦‚éœ€å¢åŠ ç±»å‹ï¼Œå¯åœ¨ä»£ç çš„ <code>file_type_folders</code> å­—å…¸ä¸­è¡¥å……ã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python">
æ›´é‡è¦çš„æ˜¯ï¼ŒAIå¯ä»¥å¸®æˆ‘ç»´æŠ¤é¡¹ç›®çš„ `CONTRIBUTING.md`ã€‚å½“æœ‰æ–°çš„å¼€æºå°ä¼™ä¼´æƒ³å‚ä¸æ—¶ï¼ŒAIèƒ½æ ¹æ®æˆ‘è®¾å®šçš„è§„åˆ™ï¼Œå³æ—¶ç”Ÿæˆæˆ–æ›´æ–°è´¡çŒ®æŒ‡å—ï¼Œä¾‹å¦‚æé†’è´¡çŒ®è€…ï¼šâ€œè¯·åœ¨ `contributors` æ–‡ä»¶å¤¹ä¸‹ï¼Œç”¨ä½ è‡ªå·±çš„GitHubåå­—æ–°å»ºç›®å½•æ¥å­˜æ”¾ä»£ç â€ã€‚

<span class="hljs-comment">### 3. ä»£ç è§„èŒƒæ€§è°ƒæ•´ï¼šç§’çº§ç»Ÿä¸€çš„ä»£ç é£æ ¼</span>

ä¸€ä¸ªå¥åº·çš„å¼€æºé¡¹ç›®éœ€è¦ç»Ÿä¸€çš„ä»£ç é£æ ¼ã€‚åœ¨ `python-office` çš„åç»­è®¡åˆ’ä¸­ï¼Œç¬¬ä¸€é¡¹å°±æ˜¯â€œç»Ÿä¸€å‚æ•°å‘½åï¼Œç»Ÿä¸€ä»£ç é£æ ¼â€ã€‚è¿‡å»ï¼Œæˆ‘é€šè¿‡ `flake8`ã€`black` ç­‰å·¥å…·å¹¶ç»“åˆ `pre-commit` é’©å­åœ¨æäº¤æ—¶æ£€æŸ¥ã€‚ç°åœ¨ï¼ŒAIåœ¨ç¼–ç æ—¶å°±èƒ½å……å½“å®æ—¶é¡¾é—®ã€‚

**AIå®æˆ˜åœºæ™¯**ï¼šå®¡æŸ¥è´¡çŒ®è€…æäº¤çš„ä¸€ä¸ªæ–°åŠŸèƒ½æ¨¡å—ä»£ç ã€‚

**æˆ‘çš„æ“ä½œ**ï¼šå°†è´¡çŒ®è€…æäº¤çš„ä»£ç ç‰‡æ®µç²˜è´´ç»™AIï¼Œå¹¶ç»™å‡ºæŒ‡ä»¤ã€‚

**æˆ‘çš„éœ€æ±‚æç¤º**ï¼š
&gt; â€œè¯·ä»¥PEP <span class="hljs-number">8</span>è§„èŒƒä¸¥æ ¼å®¡æŸ¥ä»¥ä¸‹Pythonä»£ç ï¼ŒæŒ‡å‡ºæ‰€æœ‰ä¸ç¬¦åˆè§„èŒƒçš„åœ°æ–¹ï¼ˆå¦‚å‘½åã€ç©ºæ ¼ã€è¡Œé•¿åº¦ã€æ³¨é‡Šï¼‰ï¼Œå¹¶ç›´æ¥è¾“å‡ºä¿®æ­£åçš„ä»£ç ã€‚é¡¹ç›®è¦æ±‚å‡½æ•°åç”¨å°å†™å­—æ¯åŠ ä¸‹åˆ’çº¿ï¼Œç±»å‹æç¤ºå°½é‡å®Œæ•´ã€‚â€
&gt;

**AIçš„å®¡æŸ¥ä¸ä¿®æ­£ç¤ºä¾‹**ï¼š
```python
<span class="hljs-comment"># è´¡çŒ®è€…æäº¤çš„åŸå§‹ä»£ç ï¼ˆå¯èƒ½å­˜åœ¨ä¸è§„èŒƒï¼‰</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">FileProcess</span>(<span class="hljs-params">filepath, num</span>):
    <span class="hljs-string">'''å¤„ç†æ–‡ä»¶'''</span>
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(filepath,<span class="hljs-string">'r'</span>) <span class="hljs-keyword">as</span> f:
        data=f.read()
    <span class="hljs-comment">#åšä¸€äº›è®¡ç®—</span>
    result=data.count(<span class="hljs-string">'a'</span>)*num
    <span class="hljs-keyword">return</span> result

<span class="hljs-comment"># AIå®¡æŸ¥åä¿®æ­£çš„ä»£ç </span>
<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Union</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">process_file_count</span>(<span class="hljs-params">file_path: <span class="hljs-type">Union</span>[<span class="hljs-built_in">str</span>, Path], multiplier: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:
    <span class="hljs-string">"""
    ç»Ÿè®¡æŒ‡å®šæ–‡ä»¶ä¸­å­—æ¯â€˜aâ€™çš„å‡ºç°æ¬¡æ•°ï¼Œå¹¶ä¹˜ä»¥ç»™å®šçš„å€æ•°ã€‚

    Args:
        file_path: è¦å¤„ç†çš„æ–‡ä»¶è·¯å¾„ã€‚
        multiplier: ç»“æœä¹˜æ•°ã€‚

    Returns:
        å¤„ç†åçš„æ•´æ•°å€¼ã€‚
    """</span>
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file_path, <span class="hljs-string">'r'</span>, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> file:
        data = file.read()
    
    <span class="hljs-comment"># ç»Ÿè®¡å­—æ¯â€˜aâ€™çš„å‡ºç°æ¬¡æ•°</span>
    count_a = data.count(<span class="hljs-string">'a'</span>)
    result = count_a * multiplier
    <span class="hljs-keyword">return</span> result
</code></pre>
<p>AIä¸ä»…ä¿®æ­£äº†å‘½åï¼ˆè›‡å½¢å‘½åæ³•ï¼‰ã€ç©ºæ ¼ã€æ–‡æ¡£å­—ç¬¦ä¸²ï¼ˆä½¿ç”¨ä¸‰å¼•å·ï¼‰ï¼Œè¿˜ä¸»åŠ¨æ·»åŠ äº†ç±»å‹æç¤ºå’Œæ›´æ˜ç¡®çš„ç¼–ç å‚æ•°ã€‚è¿™è®©æˆ‘åœ¨ä»£ç åˆå¹¶å‰å°±èƒ½å¿«é€Ÿå®Œæˆåˆæ­¥çš„è´¨é‡æŠŠå…³ï¼Œç¡®ä¿é¡¹ç›®ä»£ç åº“çš„æ•´æ´åº¦ã€‚</p>
<h3 data-id="heading-4">4. å•å…ƒæµ‹è¯•ï¼šå‘Šåˆ«æ€ç»´æ­»è§’ï¼Œè¿½æ±‚é«˜è¦†ç›–ç‡</h3>
<p>éšç€ <code>python-office</code> ä¸‹è½½é‡è¶…è¿‡26ä¸‡æ¬¡ï¼ŒåŠŸèƒ½çš„ç¨³å®šæ€§è‡³å…³é‡è¦ã€‚ç¼–å†™å…¨é¢çš„å•å…ƒæµ‹è¯•æ˜¯ä¿è¯ï¼Œä½†æ„æ€å„ç§è¾¹ç•Œæƒ…å†µï¼ˆå¼‚å¸¸è¾“å…¥ã€æç«¯å€¼ï¼‰éå¸¸æ¯ç‡¥ã€‚</p>
<p><strong>AIå®æˆ˜åœºæ™¯</strong>ï¼šä¸º <code>poword</code> æ¨¡å—ä¸­ä¸€ä¸ªåˆå¹¶æ–‡æ¡£çš„å‡½æ•°ç”Ÿæˆå•å…ƒæµ‹è¯•ã€‚</p>
<p><strong>æˆ‘çš„éœ€æ±‚æç¤º</strong>ï¼š</p>
<blockquote>
<p>â€œä¸ºä»¥ä¸‹å‡½æ•°ç¼–å†™å®Œæ•´çš„ <code>pytest</code> å•å…ƒæµ‹è¯•ã€‚å‡½æ•°ï¼š<code>merge_docs(doc_paths: List[str], output_path: str) -&gt; bool</code>ã€‚è¯·è¦†ç›–ï¼šæ­£å¸¸åˆå¹¶ã€è¾“å…¥åˆ—è¡¨ä¸ºç©ºã€æ–‡ä»¶ä¸å­˜åœ¨ã€è¾“å‡ºè·¯å¾„æ— æƒé™ã€åˆå¹¶åå†…å®¹éªŒè¯ç­‰åœºæ™¯ã€‚ä½¿ç”¨ <code>pytest.fixture</code> ç®¡ç†ä¸´æ—¶æ–‡ä»¶ã€‚â€</p>
</blockquote>
<p><strong>AIç”Ÿæˆçš„æµ‹è¯•ä»£ç éª¨æ¶</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä½äºï¼štests/test_word/test_merge.py</span>
<span class="hljs-keyword">import</span> pytest
<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path
<span class="hljs-keyword">from</span> poword <span class="hljs-keyword">import</span> merge_docs

<span class="hljs-keyword">class</span> <span class="hljs-title class_">TestMergeDocs</span>:
    <span class="hljs-string">"""æµ‹è¯•æ–‡æ¡£åˆå¹¶åŠŸèƒ½"""</span>
    
<span class="hljs-meta">    @pytest.fixture</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">sample_docs</span>(<span class="hljs-params">self, tmp_path</span>):
        <span class="hljs-string">"""åˆ›å»ºä¸¤ä¸ªä¸´æ—¶Wordæ–‡æ¡£ä½œä¸ºæµ‹è¯•å¤¹å…·"""</span>
        doc1 = tmp_path / <span class="hljs-string">"doc1.docx"</span>
        doc2 = tmp_path / <span class="hljs-string">"doc2.docx"</span>
        <span class="hljs-comment"># æ­¤å¤„AIä¼šç”Ÿæˆåˆ›å»ºç®€å•Wordæ–‡æ¡£çš„ä»£ç ï¼ˆä½¿ç”¨python-docxï¼‰</span>
        <span class="hljs-comment"># ...</span>
        <span class="hljs-keyword">return</span> [<span class="hljs-built_in">str</span>(doc1), <span class="hljs-built_in">str</span>(doc2)]
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_merge_success</span>(<span class="hljs-params">self, sample_docs, tmp_path</span>):
        <span class="hljs-string">"""æµ‹è¯•æ­£å¸¸åˆå¹¶åœºæ™¯"""</span>
        output = tmp_path / <span class="hljs-string">"merged.docx"</span>
        result = merge_docs(sample_docs, <span class="hljs-built_in">str</span>(output))
        <span class="hljs-keyword">assert</span> result <span class="hljs-keyword">is</span> <span class="hljs-literal">True</span>
        <span class="hljs-keyword">assert</span> output.exists()
        <span class="hljs-comment"># æ­¤å¤„å¯è¿›ä¸€æ­¥éªŒè¯åˆå¹¶åçš„é¡µæ•°æˆ–å†…å®¹</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_merge_empty_list</span>(<span class="hljs-params">self, tmp_path</span>):
        <span class="hljs-string">"""æµ‹è¯•è¾“å…¥ä¸ºç©ºåˆ—è¡¨çš„æƒ…å†µ"""</span>
        output = tmp_path / <span class="hljs-string">"output.docx"</span>
        <span class="hljs-comment"># å‡è®¾å‡½æ•°åº”è¿”å›Falseæˆ–æŠ›å‡ºç‰¹å®šå¼‚å¸¸</span>
        result = merge_docs([], <span class="hljs-built_in">str</span>(output))
        <span class="hljs-keyword">assert</span> result <span class="hljs-keyword">is</span> <span class="hljs-literal">False</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_merge_nonexistent_file</span>(<span class="hljs-params">self, tmp_path</span>):
        <span class="hljs-string">"""æµ‹è¯•è¾“å…¥åŒ…å«ä¸å­˜åœ¨çš„æ–‡ä»¶"""</span>
        fake_file = tmp_path / <span class="hljs-string">"fake.docx"</span>
        output = tmp_path / <span class="hljs-string">"output.docx"</span>
        <span class="hljs-keyword">with</span> pytest.raises(FileNotFoundError):
            merge_docs([<span class="hljs-built_in">str</span>(fake_file)], <span class="hljs-built_in">str</span>(output))
    
    <span class="hljs-comment"># ... å…¶ä»–æµ‹è¯•ç”¨ä¾‹</span>
</code></pre>
<p>AIç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹è€ƒè™‘åˆ°äº†æˆ‘å¯èƒ½å¿½ç•¥çš„è§’è½ï¼Œæ¯”å¦‚â€œè¾“å‡ºè·¯å¾„æ˜¯ä¸€ä¸ªå·²å­˜åœ¨çš„ç›®å½•è€Œéæ–‡ä»¶â€ã€‚é€šè¿‡è®©AIç”Ÿæˆæµ‹è¯•éª¨æ¶ï¼Œæˆ‘å†å¡«å……å…·ä½“çš„æ–­è¨€ç»†èŠ‚ï¼Œå•å…ƒæµ‹è¯•çš„è¦†ç›–ç‡å’Œå¯é æ€§å¤§å¤§æå‡ï¼Œè¿™æ­£æ˜¯é¡¹ç›®â€œå¢åŠ å•å…ƒæµ‹è¯•è¦†ç›–ç‡â€è®¡åˆ’æ‰€éœ€è¦çš„ã€‚</p>
<h3 data-id="heading-5">5. Gitæ“ä½œï¼šæ™ºèƒ½åŒ–çš„ç‰ˆæœ¬ç®¡ç†åŠ©æ‰‹</h3>
<p>æ—¥å¸¸å¼€å‘ä¸­ï¼Œ<code>git commit -m "update"</code> è¿™ç§ç³Ÿç³•çš„æäº¤ä¿¡æ¯å±¡è§ä¸é²œã€‚åœ¨å¸¦é¢†å¼€æºå°ä¼™ä¼´å…±åŒç»´æŠ¤ <code>python-office</code> æ—¶ï¼Œæ¸…æ™°çš„æäº¤å†å²å’Œåˆ†æ”¯ç®¡ç†æ˜¯å…³é”®ã€‚</p>
<p><strong>AIå®æˆ˜åœºæ™¯</strong>ï¼šæ™ºèƒ½ç”Ÿæˆç¬¦åˆçº¦å®šçš„æäº¤ä¿¡æ¯ï¼Œå¹¶åˆ†æä»£ç å·®å¼‚ã€‚</p>
<p><strong>æˆ‘çš„æ“ä½œ</strong>ï¼šåœ¨è¿è¡Œ <code>git diff</code> åï¼Œå°†å˜æ›´å†…å®¹ç²˜è´´ç»™AIã€‚</p>
<p><strong>æˆ‘çš„éœ€æ±‚æç¤º</strong>ï¼š</p>
<blockquote>
<p>â€œåˆ†æä»¥ä¸‹Gitä»£ç å·®å¼‚ï¼ˆdiffï¼‰ï¼Œä¸ºæˆ‘ç”Ÿæˆä¸€æ¡ç¬¦åˆçº¦å®šå¼æäº¤ï¼ˆConventional Commitsï¼‰è§„èŒƒçš„é«˜è´¨é‡æäº¤ä¿¡æ¯ã€‚æ ¼å¼ä¸ºï¼š<code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</code>ã€‚å˜æ›´å†…å®¹æ˜¯ä¸º <code>poexcel</code> æ¨¡å—çš„è¯»å–åŠŸèƒ½å¢åŠ äº†å¯¹CSVæ–‡ä»¶æ ¼å¼çš„æ”¯æŒã€‚â€</p>
</blockquote>
<p><strong>AIç”Ÿæˆçš„æäº¤ä¿¡æ¯</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">feat(poexcel): add support for reading CSV files in excel.read function

<span class="hljs-bullet">-</span> Extend <span class="hljs-code">`excel.read`</span> function to automatically detect and parse <span class="hljs-code">`.csv`</span> files.
<span class="hljs-bullet">-</span> Add <span class="hljs-code">`encoding`</span> parameter for CSV files to handle different text encodings.
<span class="hljs-bullet">-</span> Update related documentation and examples.
</code></pre>
<p>æ­¤å¤–ï¼Œåœ¨è®¡åˆ’ä¸º <code>python-office</code> å¢åŠ è¯¸å¦‚â€œç½‘ç«™å¿«æ·æ­å»ºâ€ç­‰æ–°æ¨¡å—æ—¶ï¼Œæˆ‘ä¼šè®©AIå¸®åŠ©åˆ†æä»ä¸»åˆ†æ”¯åˆ›å»ºç‰¹æ€§åˆ†æ”¯çš„ç­–ç•¥ï¼Œä»¥åŠåç»­å¯èƒ½å‘ç”Ÿçš„åˆå¹¶å†²çªé¢„åˆ¤ï¼Œè®©ç‰ˆæœ¬ç®¡ç†ä»â€œè®°å½•â€å˜ä¸ºâ€œè§„åˆ’â€ã€‚</p>
<h3 data-id="heading-6">6. æ‰©å±•å¼€å‘ï¼šå¿«é€Ÿæ„æ€ä¸åŸå‹éªŒè¯</h3>
<p><code>python-office</code> çš„æœªæ¥å……æ»¡äº†æ‰©å±•çš„å¯èƒ½ï¼Œæ¯”å¦‚é›†æˆAIæ¥å£ã€å¼€å‘GUIç•Œé¢æˆ–æ­å»ºåœ¨çº¿æœåŠ¡ã€‚ä»ä¸€ä¸ªæƒ³æ³•åˆ°ä¸€ä¸ªå¯è¿è¡Œçš„åŸå‹ï¼Œä¸­é—´æœ‰å¤§é‡æ¢ç´¢æ€§ä»£ç è¦å†™ã€‚</p>
<p><strong>AIå®æˆ˜åœºæ™¯</strong>ï¼šæ„æ€å¹¶éªŒè¯ä¸€ä¸ªâ€œæ™ºèƒ½æ–‡æ¡£æ‘˜è¦â€æ‰©å±•æ¨¡å—ã€‚</p>
<p><strong>æˆ‘çš„éœ€æ±‚æç¤º</strong>ï¼š</p>
<blockquote>
<p>â€œæˆ‘æƒ³ä¸º <code>python-office</code> é¡¹ç›®æ‰©å±•ä¸€ä¸ªAIåŠŸèƒ½ï¼šæ™ºèƒ½æ–‡æ¡£æ‘˜è¦ã€‚è¯·ä¸ºæˆ‘è®¾è®¡ä¸€ä¸ªåŸå‹æ¨¡å— <code>smart_summary</code> çš„ä»£ç ç»“æ„ã€‚è¯¥æ¨¡å—åº”èƒ½è¯»å– <code>pdf</code>ã€<code>word</code> æ–‡ä»¶ï¼Œè°ƒç”¨å¤§è¯­è¨€æ¨¡å‹APIï¼ˆå‡è®¾æœ‰APIå¯†é’¥ï¼‰ç”Ÿæˆæ‘˜è¦ï¼Œå¹¶è¿”å›ç»“æœã€‚è¯·è€ƒè™‘é¢å‘åˆå­¦è€…çš„ç®€æ˜“APIè®¾è®¡ï¼Œå¹¶å±•ç¤ºæ ¸å¿ƒå‡½æ•°çš„å®ç°æ€è·¯ã€‚â€</p>
</blockquote>
<p><strong>AIç”Ÿæˆçš„åŸå‹è®¾è®¡</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># é¡¹ç›®ç»“æ„å»ºè®®</span>
python-office/
â”œâ”€â”€ office/
â”‚   â”œâ”€â”€ smart/           <span class="hljs-comment"># æ–°çš„æ™ºèƒ½åŠŸèƒ½æ¨¡å—</span>
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ summary.py   <span class="hljs-comment"># æ‘˜è¦åŠŸèƒ½æ ¸å¿ƒä»£ç </span>
â”‚   â””â”€â”€ ... (å…¶ä»–æ¨¡å—)

<span class="hljs-comment"># summary.py æ ¸å¿ƒå‡½æ•°è®¾è®¡</span>
<span class="hljs-keyword">import</span> popdf  <span class="hljs-comment"># å¤ç”¨ç°æœ‰çš„PDFæ¨¡å—</span>
<span class="hljs-keyword">import</span> poword <span class="hljs-comment"># å¤ç”¨ç°æœ‰çš„Wordæ¨¡å—</span>
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Literal</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">summary</span>(<span class="hljs-params">file_path: <span class="hljs-built_in">str</span>, 
            length: <span class="hljs-type">Literal</span>[<span class="hljs-string">'short'</span>, <span class="hljs-string">'medium'</span>, <span class="hljs-string">'long'</span>] = <span class="hljs-string">'medium'</span>,
            api_key: <span class="hljs-built_in">str</span> = <span class="hljs-literal">None</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    ä¸€é”®ç”Ÿæˆæ–‡æ¡£æ‘˜è¦ã€‚
    
    Args:
        file_path: PDFæˆ–Wordæ–‡æ¡£è·¯å¾„ã€‚
        length: æ‘˜è¦é•¿åº¦ã€‚
        api_key: å¯é€‰ï¼ŒAIæœåŠ¡APIå¯†é’¥ã€‚å¦‚æœªæä¾›ï¼Œå°è¯•ä½¿ç”¨ç¯å¢ƒå˜é‡ã€‚
    
    Returns:
        ç”Ÿæˆçš„æ‘˜è¦æ–‡æœ¬ã€‚
    
    Raises:
        ValueError: æ–‡ä»¶æ ¼å¼ä¸æ”¯æŒæˆ–æ— æ³•è¯»å–ã€‚
    """</span>
    <span class="hljs-comment"># 1. æ ¹æ®åç¼€ä½¿ç”¨popdfæˆ–powordæå–çº¯æ–‡æœ¬</span>
    <span class="hljs-comment"># 2. æ™ºèƒ½åˆ‡åˆ†å’Œé¢„å¤„ç†æ–‡æœ¬ï¼ˆé¿å…è¶…å‡ºæ¨¡å‹ä»¤ç‰Œé™åˆ¶ï¼‰</span>
    <span class="hljs-comment"># 3. æ„é€ Promptï¼Œè°ƒç”¨LLM APIï¼ˆå¦‚OpenAIã€DeepSeekç­‰ï¼‰</span>
    <span class="hljs-comment"># 4. è§£æå¹¶è¿”å›ç»“æœ</span>
    <span class="hljs-comment"># AIåœ¨æ­¤å¤„ä¼šç”Ÿæˆå¤§è‡´çš„ä»£ç å¡«å……éª¨æ¶å’Œå…³é”®æ­¥éª¤çš„ä¼ªä»£ç </span>
    ...
</code></pre>
<p>è¿™ä¸ªç”±AIç”Ÿæˆçš„è®¾è®¡è“å›¾ï¼Œæ¸…æ™°åœ°å‹¾å‹’å‡ºäº†æ–°æ¨¡å—å¦‚ä½•ä¸ç°æœ‰é¡¹ç›®èåˆï¼ˆå¤ç”¨ <code>popdf</code>ã€<code>poword</code>ï¼‰ï¼Œå¹¶è®¾è®¡äº†ç®€å•ç›´è§‚çš„APIã€‚è¿™è®©æˆ‘èƒ½åœ¨æŠ•å…¥å¤§é‡ç¼–ç æ—¶é—´å‰ï¼Œå¿«é€ŸéªŒè¯æŠ€æœ¯è·¯çº¿çš„å¯è¡Œæ€§ï¼Œç”šè‡³ç”Ÿæˆä¸€ä¸ªå¯æ¼”ç¤ºçš„â€œæœ€å°å¯è¡Œäº§å“â€ï¼ˆMVPï¼‰ã€‚</p>
<h3 data-id="heading-7">ç»“è¯­ï¼šä»å·¥å…·åˆ°æ€ç»´ï¼Œæˆ‘çš„AIç¼–ç¨‹è¯¾</h3>
<p>ä»¥ä¸Šè¿™6ä¸ªåœºæ™¯ï¼Œå°±æ˜¯æˆ‘æ—¥å¸¸ç»´æŠ¤å’Œå¼€å‘ <code>python-office</code> æ—¶ï¼Œä¸AIæ·±åº¦åä½œçš„çœŸå®å†™ç…§ã€‚AIæ²¡æœ‰æ›¿ä»£æˆ‘ï¼Œè€Œæ˜¯å°†æˆ‘ä»äº‹åŠ¡æ€§ã€é‡å¤æ€§çš„ç¼–ç åŠ³åŠ¨ä¸­è§£æ”¾å‡ºæ¥ï¼Œè®©æˆ‘èƒ½æ›´ä¸“æ³¨äºæ¶æ„è®¾è®¡ã€åŠŸèƒ½åˆ›æ„å’Œç¤¾åŒºè¿è¥â€”â€”è¿™äº›æ‰æ˜¯å¼€æºé¡¹ç›®ç»´æŠ¤è€…çš„æ ¸å¿ƒä»·å€¼ã€‚</p>
<p>è¿™ç§è½¬å˜ï¼Œä¸ä»…ä»…æ˜¯å­¦ä¼šä½¿ç”¨æŸä¸ªAIç¼–ç å·¥å…·ï¼Œè€Œæ˜¯ä¸€ç§å…¨æ–°çš„ã€ä¸AIååŒæ€è€ƒçš„â€œç¼–ç¨‹æ€ç»´â€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[[python]pyenvå·¥å…·ä¹‹shims]]></title>    <link>https://juejin.cn/post/7590735421262856233</link>    <guid>https://juejin.cn/post/7590735421262856233</guid>    <pubDate>2026-01-04T06:04:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590735421262856233" data-draft-id="7591177139661570102" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="[python]pyenvå·¥å…·ä¹‹shims"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-04T06:04:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="import_random"/> <meta itemprop="url" content="https://juejin.cn/user/2013961033882312"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            [python]pyenvå·¥å…·ä¹‹shims
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2013961033882312/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    import_random
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T06:04:05.000Z" title="Sun Jan 04 2026 06:04:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é—®é¢˜:é€šè¿‡pyenvå·¥å…·å’Œæ’ä»¶åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒ, æ¿€æ´»ç¯å¢ƒä¹‹å, æ‰§è¡Œå‘½ä»¤which pip, ä¸ºä»€ä¹ˆæ˜¯åœ¨.pyenv/shimsä¸‹, è€Œä¸æ˜¯å…·ä½“çš„è™šæ‹Ÿç¯å¢ƒä¸‹çš„binç›®å½•ä¸‹</h2>
<p>è¿™æ˜¯å› ä¸ºpyenvé€šè¿‡shimsæœºåˆ¶æ¥ç®¡ç†å‘½ä»¤ã€‚å½“ä½¿ç”¨pyenvå®‰è£…Pythonæ—¶ï¼Œå®ƒä¼šä¸ºæ¯ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆå¦‚pythonã€pipç­‰ï¼‰åˆ›å»ºä¸€ä¸ªshimï¼ˆå«ç‰‡ï¼‰ï¼Œè¿™äº›shimä½äº~/.pyenv/shimsç›®å½•ä¸­ã€‚å½“æ‰§è¡Œå‘½ä»¤æ—¶ï¼Œshimä¼šå†³å®šä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„Pythonæˆ–å·¥å…·ã€‚</p>
<p>ä½¿ç”¨pyenv-virtualenvç­‰æ’ä»¶åˆ›å»ºè™šæ‹Ÿç¯å¢ƒåï¼Œæ¿€æ´»ç¯å¢ƒæ—¶ï¼Œpyenvä¼šé€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆå¦‚PYENV_VERSIONï¼‰æ¥å‘Šè¯‰shimåº”è¯¥ä½¿ç”¨å“ªä¸ªç¯å¢ƒã€‚å› æ­¤ï¼Œå½“æ‰§è¡Œ<code>which pip</code>æ—¶ï¼Œä¼šæ˜¾ç¤ºshimè·¯å¾„ï¼Œä½†å®é™…ä¸Šshimä¼šè½¬å‘å‘½ä»¤åˆ°å½“å‰æ¿€æ´»çš„è™šæ‹Ÿç¯å¢ƒä¸‹çš„binç›®å½•ã€‚</p>
<p>å…·ä½“è¿‡ç¨‹ï¼š</p>
<ol>
<li>å®‰è£…pyenvåï¼Œä¼šåœ¨~/.pyenv/shimsç›®å½•ä¸‹ä¸ºæ¯ä¸ªå¯æ‰§è¡Œå‘½ä»¤åˆ›å»ºshimã€‚</li>
<li>å½“æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼ˆå¦‚pipï¼‰æ—¶ï¼Œshimä¼šæ ¹æ®å½“å‰è®¾ç½®çš„ç‰ˆæœ¬ï¼ˆé€šè¿‡pyenv localã€pyenv globalæˆ–pyenv shellè®¾ç½®ï¼Œæˆ–è€…é€šè¿‡è™šæ‹Ÿç¯å¢ƒæ¿€æ´»è®¾ç½®ï¼‰æ¥è°ƒç”¨å¯¹åº”ç‰ˆæœ¬çš„å‘½ä»¤ã€‚</li>
<li>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒåï¼Œpyenvä¼šè®¾ç½®ç›¸åº”çš„ç¯å¢ƒå˜é‡ï¼Œä½¿å¾—shimèƒ½å¤Ÿæ‰¾åˆ°è™šæ‹Ÿç¯å¢ƒä¸­çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚</li>
</ol>
<p>æ‰€ä»¥ï¼Œ<code>which pip</code>æ˜¾ç¤ºçš„æ˜¯shimçš„è·¯å¾„ï¼Œå› ä¸ºshimæ˜¯ç¬¬ä¸€ä¸ªåœ¨PATHä¸­æ‰¾åˆ°çš„ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªshimä¼šæ­£ç¡®åœ°è°ƒç”¨è™šæ‹Ÿç¯å¢ƒä¸­çš„pipã€‚</p>
<p>å¦‚æœæƒ³æŸ¥çœ‹å®é™…pipçš„è·¯å¾„ï¼Œå¯ä»¥ä½¿ç”¨<code>pyenv which pip</code>å‘½ä»¤ï¼Œå®ƒä¼šæ˜¾ç¤ºå½“å‰æ¿€æ´»ç¯å¢ƒä¸‹pipçš„å®é™…è·¯å¾„ã€‚</p>
<p>ç¤ºä¾‹ï¼š<br/>
å‡è®¾æœ‰ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒåä¸ºmyenvï¼Œæ¿€æ´»åæ‰§è¡Œï¼š<br/>
<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mi>h</mi><mi>i</mi><mi>c</mi><mi>h</mi><mi>p</mi><mi>i</mi><mi>p</mi><mi mathvariant="normal">/</mi><mi>h</mi><mi>o</mi><mi>m</mi><mi>e</mi><mi mathvariant="normal">/</mi><mi>u</mi><mi>s</mi><mi>e</mi><mi>r</mi><mi mathvariant="normal">/</mi><mi mathvariant="normal">.</mi><mi>p</mi><mi>y</mi><mi>e</mi><mi>n</mi><mi>v</mi><mi mathvariant="normal">/</mi><mi>s</mi><mi>h</mi><mi>i</mi><mi>m</mi><mi>s</mi><mi mathvariant="normal">/</mi><mi>p</mi><mi>i</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">which pip  
/home/user/.pyenv/shims/pip  </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">hi</span><span class="mord mathnormal">c</span><span class="mord mathnormal">h</span><span class="mord mathnormal">p</span><span class="mord mathnormal">i</span><span class="mord mathnormal">p</span><span class="mord">/</span><span class="mord mathnormal">h</span><span class="mord mathnormal">o</span><span class="mord mathnormal">m</span><span class="mord mathnormal">e</span><span class="mord">/</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:0.02778em;">ser</span><span class="mord">/.</span><span class="mord mathnormal">p</span><span class="mord mathnormal">ye</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord">/</span><span class="mord mathnormal">s</span><span class="mord mathnormal">him</span><span class="mord mathnormal">s</span><span class="mord">/</span><span class="mord mathnormal">p</span><span class="mord mathnormal">i</span><span class="mord mathnormal">p</span></span></span></span></span> pyenv which pip<br/>
/home/user/.pyenv/versions/myenv/bin/pip</p>
<p>å› æ­¤ï¼Œè™½ç„¶whichæ˜¾ç¤ºçš„æ˜¯shimï¼Œä½†å®é™…æ‰§è¡Œçš„æ˜¯è™šæ‹Ÿç¯å¢ƒä¸­çš„pipã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é—®é¢˜ï¼Œæ¶‰åŠåˆ° pyenv çš„æ ¸å¿ƒå·¥ä½œåŸç†ã€‚è®©æˆ‘è¯¦ç»†è§£é‡Šä¸€ä¸‹ï¼š</p>
<h3 data-id="heading-1">pyenv çš„ shims æœºåˆ¶</h3>
<p>pyenv ä½¿ç”¨ <strong>shimsï¼ˆå«ç‰‡ï¼‰</strong> ä½œä¸ºå‘½ä»¤è½¬å‘å±‚ï¼Œè¿™æ˜¯å®ƒçš„æ ¸å¿ƒè®¾è®¡ï¼š</p>
<ol>
<li>
<p><strong>shims ç›®å½•ç»“æ„</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">~<span class="hljs-regexp">/.pyenv/</span>shims/
â”œâ”€â”€ python
â”œâ”€â”€ pip
â”œâ”€â”€ pip3
â””â”€â”€ ... å…¶ä»–å‘½ä»¤
</code></pre>
</li>
<li>
<p><strong>PATH ä¼˜å…ˆçº§</strong>ï¼š
pyenv å°† shims ç›®å½•æ”¾åœ¨ PATH çš„æœ€å‰é¢ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$PATH</span>
/home/user/.pyenv/shims:/usr/local/bin:/usr/bin:...
</code></pre>
</li>
</ol>
<h3 data-id="heading-2">ä¸ºä»€ä¹ˆ <code>which pip</code> æ˜¾ç¤ºçš„æ˜¯ shim</h3>
<p>å½“æ‚¨æ‰§è¡Œ <code>which pip</code> æ—¶ï¼Œç³»ç»Ÿä¼šæŒ‰ PATH é¡ºåºæŸ¥æ‰¾ï¼š</p>
<ol>
<li>é¦–å…ˆæ‰¾åˆ° <code>~/.pyenv/shims/pip</code></li>
<li>è¿™æ˜¯æœ€å…ˆåŒ¹é…çš„ï¼Œæ‰€ä»¥æ˜¾ç¤ºè¿™ä¸ªè·¯å¾„</li>
</ol>
<h3 data-id="heading-3">shim çš„å·¥ä½œåŸç†</h3>
<p>æ¯ä¸ª shim å®é™…ä¸Šæ˜¯ä¸€ä¸ªå°è„šæœ¬ï¼Œå®ƒä¼šï¼š</p>
<ol>
<li>æ£€æŸ¥å½“å‰ç¯å¢ƒçŠ¶æ€</li>
<li>ç¡®å®šåº”è¯¥ä½¿ç”¨å“ªä¸ª Python ç‰ˆæœ¬/è™šæ‹Ÿç¯å¢ƒ</li>
<li>å°†å‘½ä»¤è½¬å‘åˆ°æ­£ç¡®çš„å®é™…ä½ç½®</li>
</ol>
<p>ç¤ºä¾‹ shim å†…å®¹ï¼ˆç®€åŒ–ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/usr/bin/env bash</span>
<span class="hljs-comment"># ~/.pyenv/shims/pip</span>

<span class="hljs-comment"># 1. ç¡®å®šå½“å‰æ¿€æ´»çš„ç¯å¢ƒ</span>
<span class="hljs-keyword">if</span> [ -n <span class="hljs-string">"<span class="hljs-variable">$PYENV_VERSION</span>"</span> ]; <span class="hljs-keyword">then</span>
    VERSION=<span class="hljs-string">"<span class="hljs-variable">$PYENV_VERSION</span>"</span>
<span class="hljs-keyword">elif</span> [ -f .python-version ]; <span class="hljs-keyword">then</span>
    VERSION=$(<span class="hljs-built_in">cat</span> .python-version)
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># 2. æ‰¾åˆ°çœŸå®çš„ pip è·¯å¾„</span>
REAL_PIP=<span class="hljs-string">"~/.pyenv/versions/<span class="hljs-variable">${VERSION}</span>/bin/pip"</span>

<span class="hljs-comment"># 3. æ‰§è¡ŒçœŸå®çš„å‘½ä»¤</span>
<span class="hljs-built_in">exec</span> <span class="hljs-string">"<span class="hljs-variable">$REAL_PIP</span>"</span> <span class="hljs-string">"<span class="hljs-variable">$@</span>"</span>
</code></pre>
<h3 data-id="heading-4">å¦‚ä½•æŸ¥çœ‹çœŸå®çš„ pip è·¯å¾„</h3>
<p>è™½ç„¶ <code>which pip</code> æ˜¾ç¤º shimï¼Œä½†æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ‰¾åˆ°çœŸå®çš„ pipï¼š</p>
<ol>
<li>
<p><strong>ä½¿ç”¨ pyenv å‘½ä»¤</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ pyenv <span class="hljs-built_in">which</span> pip
/home/user/.pyenv/versions/3.9.0/envs/myenv/bin/pip
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨ pip è‡ªèº«</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ pip -V
pip 21.0.1 from /home/user/.pyenv/versions/myenv/lib/python3.9/site-packages/pip (python 3.9)

$ pip --path
</code></pre>
</li>
<li>
<p><strong>ç›´æ¥æŸ¥çœ‹</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">ls</span> -la ~/.pyenv/versions/myenv/bin/pip
$ <span class="hljs-built_in">readlink</span> -f $(<span class="hljs-built_in">which</span> pip)  <span class="hljs-comment"># æœ‰äº›ç³»ç»Ÿå¯ä»¥è¿™æ ·</span>
</code></pre>
</li>
</ol>
<h3 data-id="heading-5">è¿™ç§è®¾è®¡çš„å¥½å¤„</h3>
<ol>
<li><strong>é€æ˜åˆ‡æ¢</strong>ï¼šæ— éœ€ä¿®æ”¹ PATH å³å¯åˆ‡æ¢ç¯å¢ƒ</li>
<li><strong>æƒ°æ€§åŠ è½½</strong>ï¼šåªæœ‰åœ¨æ‰§è¡Œå‘½ä»¤æ—¶æ‰å†³å®šä½¿ç”¨å“ªä¸ªç‰ˆæœ¬</li>
<li><strong>éš”ç¦»æ€§</strong>ï¼šæ¯ä¸ªé¡¹ç›®å¯ä»¥æœ‰è‡ªå·±çš„ Python ç‰ˆæœ¬</li>
<li><strong>æ€§èƒ½</strong>ï¼šshim å¾ˆè½»é‡ï¼Œå¼€é”€å°</li>
</ol>
<h3 data-id="heading-6">éªŒè¯æ˜¯å¦çœŸçš„åœ¨ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒçš„ pip</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹æ³•1ï¼šæ£€æŸ¥ pip å®‰è£…ä½ç½®</span>
$ pip list | <span class="hljs-built_in">head</span> -5

<span class="hljs-comment"># æ–¹æ³•2ï¼šå®‰è£…æµ‹è¯•åŒ…æŸ¥çœ‹è·¯å¾„</span>
$ pip install --target=/tmp/test small-package
$ python -c <span class="hljs-string">"import sys; print(sys.executable)"</span>
</code></pre>
<h3 data-id="heading-7">æ€»ç»“</h3>
<p><code>which pip</code> æ˜¾ç¤º shim è·¯å¾„æ˜¯å®Œå…¨æ­£å¸¸çš„ï¼Œè¿™æ˜¯ pyenv çš„è®¾è®¡ç‰¹ç‚¹ã€‚è™½ç„¶å‘½ä»¤çœ‹èµ·æ¥æ¥è‡ª shims ç›®å½•ï¼Œä½†å®é™…ä¸Šæ‰§è¡Œçš„ç¡®å®æ˜¯æ‚¨è™šæ‹Ÿç¯å¢ƒä¸­çš„ pipã€‚shim åªæ˜¯ä¸€ä¸ªæ™ºèƒ½çš„è½¬å‘å™¨ï¼Œç¡®ä¿æ‚¨æ€»æ˜¯åœ¨æ­£ç¡®çš„ç¯å¢ƒä¸­æ‰§è¡Œå‘½ä»¤ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Salesforce User Agent Flow æˆæƒæµç¨‹è¯¦è§£]]></title>    <link>https://juejin.cn/post/7591066233670811674</link>    <guid>https://juejin.cn/post/7591066233670811674</guid>    <pubDate>2026-01-04T05:55:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591066233670811674" data-draft-id="7589903499599691830" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Salesforce User Agent Flow æˆæƒæµç¨‹è¯¦è§£"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-04T05:55:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="UrbanJazzerati"/> <meta itemprop="url" content="https://juejin.cn/user/550205947391389"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Salesforce User Agent Flow æˆæƒæµç¨‹è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/550205947391389/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    UrbanJazzerati
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T05:55:28.000Z" title="Sun Jan 04 2026 05:55:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0"><strong>æ ¸å¿ƒæ¦‚å¿µ</strong>Â (What is it about?)</h3>
<p>è¿™æ˜¯OAuth 2.0çš„ä¸€ç§æˆæƒæµç¨‹ï¼Œä¸“ä¸º<strong>æ— æ³•å®‰å…¨å­˜å‚¨â€œå®¢æˆ·ç«¯å¯†é’¥â€çš„åº”ç”¨ç¨‹åº</strong>è®¾è®¡ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>åŸç”Ÿæ¡Œé¢åº”ç”¨</strong></li>
<li><strong>ç§»åŠ¨åº”ç”¨</strong>Â (iOS/Android)</li>
<li><strong>ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„å®¢æˆ·ç«¯åº”ç”¨</strong>Â (å¦‚ JavaScript å•é¡µåº”ç”¨)</li>
</ul>
<p>åœ¨è¿™ç§æµç¨‹ä¸­ï¼Œç”¨æˆ·æˆæƒåº”ç”¨ç¨‹åºè®¿é—®å…¶å—ä¿æŠ¤æ•°æ®ï¼ˆå¦‚Salesforceä¸­çš„è”ç³»äººä¿¡æ¯ï¼‰ã€‚</p>
<h3 data-id="heading-1"><strong>ä¸ºä»€ä¹ˆç”¨è¿™ä¸ªæµç¨‹ï¼Ÿï¼ˆå…³é”®ç‰¹ç‚¹ï¼‰</strong></h3>
<ol>
<li>
<p><strong>æ— å®¢æˆ·ç«¯å¯†é’¥</strong>ï¼šç”±äºåº”ç”¨è¿è¡Œåœ¨ç”¨æˆ·è®¾å¤‡ä¸Šï¼ˆå¦‚æ‰‹æœºã€ç”µè„‘ï¼‰ï¼Œå…¶ä»£ç å’Œâ€œå®¢æˆ·ç«¯å¯†é’¥â€å¯èƒ½è¢«åç¼–è¯‘æˆ–æ£€æŸ¥ï¼Œæ— æ³•ä¿å¯†ã€‚å› æ­¤ï¼Œæ­¤æµç¨‹<strong>ä¸è¦æ±‚ä½¿ç”¨å®¢æˆ·ç«¯å¯†é’¥</strong>è¿›è¡Œèº«ä»½éªŒè¯ã€‚</p>
</li>
<li>
<p><strong>é€šè¿‡ç”¨æˆ·ä»£ç†è¿›è¡Œæˆæƒ</strong>ï¼šæˆæƒè¿‡ç¨‹é€šè¿‡ä¸€ä¸ª<strong>å¤–éƒ¨æˆ–å†…åµŒçš„æµè§ˆå™¨</strong>å®Œæˆã€‚ç”¨æˆ·åœ¨è¿™ä¸ªæµè§ˆå™¨ä¸­ç›´æ¥ç™»å½•Salesforceå¹¶è¿›è¡Œæˆæƒï¼Œåº”ç”¨æœ¬èº«<strong>æ°¸è¿œçœ‹ä¸åˆ°ç”¨æˆ·çš„å¯†ç </strong>ã€‚</p>
</li>
<li>
<p><strong>ä»¤ç‰Œé€šè¿‡URLç‰‡æ®µä¼ é€’</strong>ï¼šæˆæƒæˆåŠŸåï¼Œè®¿é—®ä»¤ç‰Œï¼ˆ<code>access_token</code>ï¼‰ä»¥Â <strong>URLå“ˆå¸Œç‰‡æ®µ</strong>Â (<code>#</code>åé¢çš„éƒ¨åˆ†) çš„å½¢å¼ï¼Œé€šè¿‡æµè§ˆå™¨é‡å®šå‘è¿”å›ç»™åº”ç”¨ã€‚</p>
<ul>
<li><em>å¥½å¤„</em>ï¼šURLç‰‡æ®µä¸ä¼šå‘é€åˆ°æœåŠ¡å™¨ï¼Œåªåœ¨æµè§ˆå™¨æœ¬åœ°å¤„ç†ï¼Œå› æ­¤ä¸ä¼šåœ¨æœåŠ¡å™¨æ—¥å¿—æˆ–Refererå¤´ä¸­æ³„éœ²ä»¤ç‰Œã€‚</li>
<li><em>é£é™©</em>ï¼šä»¤ç‰Œä»ä¼šå‡ºç°åœ¨æµè§ˆå™¨çš„åœ°å€æ å’Œæµè§ˆå†å²ä¸­ï¼Œå¯èƒ½è¢«åŒä¸€è®¾å¤‡ä¸Šçš„å…¶ä»–åº”ç”¨æˆ–ç”¨æˆ·çª¥æ¢ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-2"><strong>æµç¨‹æ­¥éª¤ (ç®€å•æè¿°)</strong></h3>
<p>æƒ³è±¡ä½ å¼€å‘äº†ä¸€ä¸ªæ‰‹æœºAppï¼Œéœ€è¦è¯»å–ç”¨æˆ·Salesforceé‡Œçš„å®¢æˆ·è”ç³»äººï¼š</p>
<ol>
<li><strong>å¯åŠ¨</strong>ï¼šç”¨æˆ·åœ¨æ‰‹æœºä¸Šæ‰“å¼€ä½ çš„Appã€‚</li>
<li><strong>é‡å®šå‘è‡³æˆæƒ</strong>ï¼šAppæ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨ï¼ˆæˆ–WebViewï¼‰ï¼Œå¹¶å°†ç”¨æˆ·é‡å®šå‘åˆ°Salesforceçš„æˆæƒç«¯ç‚¹ (<code>.../oauth2/authorize</code>)ã€‚</li>
<li><strong>ç”¨æˆ·ç™»å½•å’Œæˆæƒ</strong>ï¼šç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°ä¸€ä¸ªé¡µé¢è¯¢é—®â€œæ˜¯å¦å…è®¸æ­¤Appè®¿é—®ä½ çš„æ•°æ®ï¼Ÿâ€ï¼Œç”¨æˆ·ç‚¹å‡»â€œå…è®¸â€ã€‚</li>
<li><strong>å›è°ƒå¹¶æ¥æ”¶ä»¤ç‰Œ</strong>ï¼šSalesforceå°†æµè§ˆå™¨é‡å®šå‘å›ä½ é¢„å…ˆæ³¨å†Œçš„<strong>å›è°ƒåœ°å€</strong>Â (Redirect URI)ï¼Œå¹¶åœ¨URLçš„<code>#</code>åé¢é™„ä¸Šè®¿é—®ä»¤ç‰Œå’Œå…¶ä»–ä¿¡æ¯ã€‚</li>
<li><strong>æå–ä»¤ç‰Œå¹¶è®¿é—®æ•°æ®</strong>ï¼šä½ çš„Appä»URLä¸­æå–å‡ºè®¿é—®ä»¤ç‰Œï¼Œä¹‹åå°±å¯ä»¥ç”¨è¿™ä¸ªä»¤ç‰Œè°ƒç”¨Salesforce APIï¼Œä»£è¡¨ç”¨æˆ·è·å–æˆ–æ“ä½œæ•°æ®ã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/88b7c80569ab4a4b8356ebbff8d93c74~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVXJiYW5KYXp6ZXJhdGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768110928&amp;x-signature=t6TjuKr0IinKkMMsHH8I3%2FO%2Fqpo%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3"><strong>é‡è¦è­¦å‘Šä¸å»ºè®®</strong></h3>
<ul>
<li><strong>å®‰å…¨æ€§æç¤º</strong>ï¼šSalesforce<strong>æ¨è</strong>ä½¿ç”¨æ›´å®‰å…¨çš„Â <strong>OAuth 2.0 WebæœåŠ¡å™¨æµç¨‹ï¼ˆå¸¦PKCEï¼‰</strong> Â æ¥ä»£æ›¿ç”¨æˆ·ä»£ç†æµç¨‹ã€‚PKCEï¼ˆProof Key for Code Exchangeï¼‰èƒ½æä¾›æ›´å¥½çš„å®‰å…¨ä¿æŠ¤ã€‚</li>
<li><strong>å¯è¢«ç¦ç”¨</strong>ï¼šç®¡ç†å‘˜å¯ä»¥<strong>é€‰æ‹©é˜»æ­¢</strong>ç”¨æˆ·ä»£ç†æµç¨‹ï¼Œä½†è¿™å¯èƒ½ä¼šç ´åè®¸å¤šä½¿ç”¨æ­¤æµç¨‹çš„ç°æœ‰ç§»åŠ¨Appï¼ˆåŒ…æ‹¬Salesforceè‡ªå·±çš„å®˜æ–¹ç§»åŠ¨Appï¼‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-4"><strong>æˆæƒè¯·æ±‚ä¸å“åº”çš„å…³é”®å‚æ•°</strong></h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b81382e5cf014a51867755a0f9d20c4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVXJiYW5KYXp6ZXJhdGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768110928&amp;x-signature=2I30lvalyn5lz4CwXSd2cDm%2BL64%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8e5c8b1b5964d1caf9f146914cc0264~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVXJiYW5KYXp6ZXJhdGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768110928&amp;x-signature=N9sKX5dAsVPqE00TWGys2M%2Bu72Q%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>
<p><strong>è¯·æ±‚æˆæƒæ—¶çš„URLå‚æ•°</strong>ï¼š</p>
<ul>
<li><code>response_type=token</code>ï¼šè¡¨æ˜ä½¿ç”¨éšå¼æµç¨‹ï¼Œç›´æ¥è¯·æ±‚ä»¤ç‰Œã€‚</li>
<li><code>client_id</code>ï¼šä½ çš„åº”ç”¨çš„â€œæ¶ˆè´¹è€…å¯†é’¥â€ã€‚</li>
<li><code>redirect_uri</code>ï¼šæˆæƒæˆåŠŸåçš„å›è°ƒåœ°å€ï¼Œå¿…é¡»ä¸åº”ç”¨è®¾ç½®ä¸­å®Œå…¨åŒ¹é…ã€‚</li>
<li><code>scope</code>ï¼šè¯·æ±‚çš„æƒé™èŒƒå›´ï¼ˆå¦‚<code>api</code>ã€<code>refresh_token</code>ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æˆæƒæˆåŠŸåçš„å“åº”å‚æ•°</strong> (åœ¨<code>#</code>åé¢ï¼Œ<strong>å¯èƒ½éœ€è¦è¿›è¡Œè½¬ç§»å¦‚%20</strong>)ï¼š</p>
<ul>
<li><code>access_token</code>ï¼šæœ€é‡è¦çš„ä»¤ç‰Œï¼Œç”¨äºè®¿é—®APIã€‚</li>
<li><code>refresh_token</code>ï¼šä»…åœ¨æŸäº›ç‰¹å®šæ¡ä»¶ä¸‹é¢å‘ï¼ˆå¦‚ç‰¹å®šå›è°ƒURLæˆ–è¯·æ±‚äº†<code>scope=refresh_token</code>ï¼‰ï¼Œç”¨äºè·å–æ–°çš„è®¿é—®ä»¤ç‰Œã€‚</li>
<li><code>instance_url</code>ï¼šç”¨æˆ·æ‰€å±Salesforceç»„ç»‡çš„å®ä¾‹åœ°å€ã€‚</li>
<li><code>state</code>ï¼šç”¨äºé˜²æ­¢è·¨ç«™è¯·æ±‚ä¼ªé€ æ”»å‡»çš„ä¸€ä¸ªéšæœºå€¼ï¼Œéœ€ä¸è¯·æ±‚æ—¶å‘é€çš„å€¼æ¯”å¯¹ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-5"><strong>ç¬¬ä¸‰éƒ¨åˆ†ï¼šä¸å…¶ä»–æµç¨‹çš„å¯¹æ¯”</strong></h3>
<p>ä¸ºäº†è®©ä½ æ›´æ¸…æ¥šâ€œç”¨æˆ·ä»£ç†æµç¨‹â€çš„å®šä½ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªç®€å•å¯¹æ¯”ï¼š</p>



































<table><thead><tr><th>ç‰¹æ€§</th><th><strong>OAuth 2.0 ç”¨æˆ·ä»£ç†æµç¨‹ (æœ¬æ–‡æ¡£å†…å®¹)</strong></th><th><strong>OAuth 2.0 WebæœåŠ¡å™¨æµç¨‹ (æ›´æ¨è)</strong></th></tr></thead><tbody><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>æ‰‹æœºAppã€æ¡Œé¢Appã€æµè§ˆå™¨å•é¡µåº”ç”¨(JavaScript)</td><td>æœ‰è‡ªå·±åç«¯çš„ä¼ ç»Ÿç½‘ç«™ï¼ˆå¦‚PHP, Java, .NETåº”ç”¨ï¼‰</td></tr><tr><td><strong>å®¢æˆ·ç«¯å¯†é’¥</strong></td><td><strong>ä¸ä½¿ç”¨</strong>ï¼ˆå› ä¸ºæ— æ³•åœ¨è®¾å¤‡ä¸Šå®‰å…¨å­˜å‚¨ï¼‰</td><td><strong>ä½¿ç”¨</strong>ï¼ˆå¯ä»¥å®‰å…¨å­˜å‚¨åœ¨åç«¯æœåŠ¡å™¨ï¼‰</td></tr><tr><td><strong>ä»¤ç‰Œè¿”å›æ–¹å¼</strong></td><td>ç›´æ¥è¿”å›<code>access_token</code>ï¼ˆéšå¼ï¼‰ï¼Œé€šè¿‡URLç‰‡æ®µ(<code>#</code>)</td><td>å…ˆè¿”å›ä¸€ä¸ª<code>code</code>ï¼Œå®¢æˆ·ç«¯å†ç”¨<code>code</code>å’Œ<code>client_secret</code>å»æ¢<code>access_token</code></td></tr><tr><td><strong>å®‰å…¨æ€§</strong></td><td>è¾ƒä½ã€‚ä»¤ç‰Œæ˜“æš´éœ²åœ¨æµè§ˆå™¨ä¸­ã€‚</td><td>è¾ƒé«˜ã€‚ä»¤ç‰Œæ°¸è¿œä¸ä¼šç»è¿‡ç”¨æˆ·æµè§ˆå™¨ã€‚</td></tr><tr><td><strong>æ¨èåº¦</strong></td><td><strong>ä¸æ¨èï¼ˆé—ç•™æ–¹æ¡ˆï¼‰</strong> ã€‚æ–‡æ¡£æ˜ç¡®æŒ‡å‡ºï¼Œä¸ºäº†åŠ å¼ºå®‰å…¨ï¼Œåº”ä½¿ç”¨å¸¦PKCEçš„WebæœåŠ¡å™¨æµç¨‹ã€‚</td><td><strong>æ¨èï¼ˆç°ä»£æ–¹æ¡ˆï¼‰</strong> ã€‚PKCEæ‰©å±•ä½¿å…¶ä¹Ÿèƒ½å®‰å…¨åœ°ç”¨äºæ‰‹æœºAppå’Œå•é¡µåº”ç”¨ã€‚</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½œä¸º Cursor å’Œ Claude Code çš„ç ”å‘è€…ï¼Œä»–ä»¬æ˜¯å¦‚ä½•çœ‹å¾…å’Œä½¿ç”¨ AI]]></title>    <link>https://juejin.cn/post/7590724064520978495</link>    <guid>https://juejin.cn/post/7590724064520978495</guid>    <pubDate>2026-01-04T05:26:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590724064520978495" data-draft-id="7590735421262577705" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½œä¸º Cursor å’Œ Claude Code çš„ç ”å‘è€…ï¼Œä»–ä»¬æ˜¯å¦‚ä½•çœ‹å¾…å’Œä½¿ç”¨ AI"/> <meta itemprop="keywords" content="å‰ç«¯,Android,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-04T05:26:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‹çŒ«deå°éƒ­"/> <meta itemprop="url" content="https://juejin.cn/user/817692379985752"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½œä¸º Cursor å’Œ Claude Code çš„ç ”å‘è€…ï¼Œä»–ä»¬æ˜¯å¦‚ä½•çœ‹å¾…å’Œä½¿ç”¨ AI
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/817692379985752/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‹çŒ«deå°éƒ­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T05:26:13.000Z" title="Sun Jan 04 2026 05:26:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿‘æ—¥ï¼ŒCursor VP Lee Robinson å’Œ Claude Code ä¹‹çˆ¶ Boris Cherny éƒ½åˆ†äº«äº†ä»–ä»¬çš„ AI æ„Ÿæ‚Ÿå’Œç»éªŒï¼Œç‰¹åˆ«æ˜¯ Lee Robinson çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DUrNLVip0hSA" target="_blank" title="https://www.youtube.com/watch?v=UrNLVip0hSA" ref="nofollow noopener noreferrer">ã€ŠAI codes better than me. Now what?ã€‹</a> å°±å¾ˆå¥½å±•ç¤ºäº†å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œ2026 å¼€å§‹ç¨‹åºå‘˜åº”è¯¥å¦‚ä½•è½¬å˜è‡ªæˆ‘çš„å®šä½ã€‚</p>
<blockquote>
<p>ç±»ä¼¼çš„ï¼Œåœ¨ä¹‹å‰çš„ <a href="https://juejin.cn/post/7587845752681807935" target="_blank" title="https://juejin.cn/post/7587845752681807935">ã€ŠAI è®©æˆ‘è¯¯ä»¥ä¸ºè‡ªå·±å¾ˆå¼ºï¼Œæœªæ¥ç¨‹åºå‘˜çš„è½¬å‹ä¹‹è·¯ã€‹</a>ä¹Ÿæ€è€ƒè¿‡æœªæ¥ AI æµªæ½®ä¸‹ç¨‹åºå‘˜çš„è½¬å˜ã€‚</p>
</blockquote>
<p>é¦–å…ˆå¯¹äº Lee Robinson æ¥è¯´ï¼Œä»–æ€»ç»“çš„ç°çŠ¶æ˜¯ï¼š<strong>ä»–å·²ç»å¾ˆå°‘äº²æ‰‹å†™ä»£ç äº†</strong>ï¼Œæ¯”å¦‚æœ€è¿‘ä»–ä½¿ç”¨ Rust å®ç°äº†ä¸€ä¸ªå›¾ç‰‡å‹ç¼©å·¥å…·ï¼Œå¯ç¼–è¯‘æˆ WebAssembly å¹¶åœ¨ SvelteKit åº”ç”¨ä¸­è¿è¡Œï¼Œè€Œè¿™ä¸ªè¿‡ç¨‹é‡Œä»–æ²¡æœ‰äº²æ‰‹å†™ä¸€è¡Œä»£ç ï¼Œå®Œå…¨ç”± AI ä»£ç†å®Œæˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c2b19ac5289140c99277eb8f4da39df6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768109172&amp;x-signature=ilaEVmVGALEz5imMsyb0ZQF3Fys%3D" alt="" loading="lazy"/></p>
<p>å¦å¤–ä¸€ä¸ªä¾‹å­å°±æ˜¯ Space Invaders æ¸¸æˆå…‹éš†ï¼Œä»–ä¸º Analog Pocketï¼ˆç±»ä¼¼ Game Boy çš„æŒæœºï¼‰å¼€å‘äº†ä¸€æ¬¾æ¸¸æˆï¼Œè€Œè¿™ä¸ªè¿‡ç¨‹éœ€è¦ç”¨åˆ° Verilog ç¡¬ä»¶æè¿°è¯­è¨€ï¼Œä½†æ˜¯ä»–å¯¹ Verilog ä¸€æ— æ‰€çŸ¥ï¼Œä¸è¿‡åœ¨ AI çš„å¸®åŠ©ä¸‹ï¼Œä»–æœ€ç»ˆè¿˜æ˜¯å®Œæˆäº†ç¡¬ä»¶å±‚é¢æ‰€æœ‰çš„ç¼–ç¨‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ceff33d954141d7b045fc2405f778d6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768109172&amp;x-signature=IVnT31TMzbAz7%2BhBBkAcQo3xnaE%3D" alt="" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b28251d0ff764c1db75627f83278a6f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768109172&amp;x-signature=AsF827xyl9Aeaz5fxVrRO1Jf%2B%2FA%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸¤ä¸ªä¾‹å­å¾ˆç›´è§‚çš„ä½“ç°å‡ºäº† AI çš„èƒ½åŠ›å’Œå¯¹å¼€å‘è€…çš„å½±å“ï¼Œ<strong>æœªæ¥ AI è‚¯å®šæ˜¯è®© AI è€…ä¸å†åªæ˜¯å±€é™åœ¨æŸä¸ªæŠ€æœ¯æ ‡ç­¾ä¸‹</strong>ï¼Œæ‰€ä»¥ä»–åœ¨åŠå¹´å‰åŠ å…¥äº† Cursorï¼Œå› ä¸ºä»–å¼ºçƒˆæ„Ÿè§‰åˆ°è½¯ä»¶å·¥ç¨‹çš„ç‰ˆå›¾æ­£åœ¨å‘ç”Ÿå·¨å˜ï¼Œæ‰€ä»¥ä»–å¸Œæœ›å‚ä¸åˆ°å®šä¹‰è¿™ç§å˜åŒ–ã€‚</p>
<blockquote>
<p>Cursor ç¡®å®ä¹Ÿåœ¨å½±å“ç€å¼€å‘è€…çš„å¼€å‘ä¹ æƒ¯ï¼ŒåŸºæœ¬ä¸Šä½ ä¸ç”¨ Cursor ä¹Ÿç”¨è¿‡ Trae ï¼Ÿ</p>
</blockquote>
<p>å¯¹æ¯”è¿‡å»çš„æ¨¡å‹æŒ‡ä»¤éµå¾ªèƒ½åŠ›å·®ï¼Œå¹¶ä¸”ç»å¸¸å‡ºç°å¹»è§‰çš„æƒ…å†µï¼Œç°åœ¨çš„ Codex Max æˆ–è€… Opus 4.5 éƒ½è¡¨ç°å‡ºäº†éå¸¸å¼ºå¤§çš„ä»£ç å®Œæˆæ•ˆæœï¼ˆå°±æ˜¯è´µï¼‰ï¼Œå¯¹äº Lee Robinson æ¥è¯´ï¼Œä»–è§‰å¾—ç›®å‰çš„æ¨¡å‹åœ¨å†™ä»£ç æ–¹é¢ç¡®å®å·²ç»æ¯”ä»–æ›´å¼ºã€‚</p>
<blockquote>
<p><strong>æ‰€ä»¥ï¼Œå¯¹äºæœªæ¥å¼€å‘è€…è€Œè¨€ï¼Œç¡®å®ä¸åº”è¯¥çº ç»“äºåœ¨â€œå†™ä»£ç èƒ½åŠ›â€ä¸Šå»å’Œ AI å¯¹æ¯”</strong>ï¼Œå› ä¸ºä½ çœŸå†™ä¸è¿‡å®ƒï¼Œæ²¡å®ƒæŒä¹…ä¹Ÿæ²¡å®ƒèƒ½è¾“å‡ºã€‚</p>
</blockquote>
<p><strong>æ‰€ä»¥ Lee Robinson è®¤ä¸ºï¼Œå¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œå†™ä»£ç è¿™ä»¶äº‹ä¸å†æ˜¯ç“¶é¢ˆ</strong>ï¼Œä»–å»ºè®®ï¼š</p>
<ul>
<li>ä¸è¦å› ä¸ºè¿‡å» AI ç°åœ¨ä¸æ“…é•¿æŸä¸ªé¢†åŸŸï¼ˆå¦‚ Rust æˆ–åº•å±‚ä»£ç ï¼‰å°±è®¤ä¸ºå®ƒæ°¸è¿œä¸è¡Œï¼Œæ¨¡å‹åœ¨è¿™äº›é¢†åŸŸçš„è¿›æ­¥é€Ÿåº¦æå¿«</li>
<li>è®© AI æ¥ç®¡è½¯ä»¶å¼€å‘ä¸­å¤§é‡ç¹çå’Œé‡å¤æ€§çš„å·¥ä½œ</li>
<li>å½“ç”Ÿæˆä»£ç å˜å¯ç”¨æ—¶ï¼Œå·¥ç¨‹å¸ˆçš„ä»·å€¼å°†ä½“ç°åœ¨â€œå“å‘³â€ä¸Šï¼Œå¼€å‘è€…ä¸è¦åªå…³æ³¨ä»£ç ï¼Œæ›´è¦å…³æ³¨äº§å“æœ¬èº«ã€ç”¨æˆ·ä½“éªŒ (UX)ã€å¸‚åœºè¥é”€ä»¥åŠå¦‚ä½•æ„å»ºç”¨æˆ·çœŸæ­£å–œæ¬¢çš„ä¸œè¥¿</li>
</ul>
<blockquote>
<p><strong>æ‰€è°“æœªæ¥çš„æ ¸å¿ƒä¸å†æ˜¯â€œå¦‚ä½•å†™ä»£ç â€ï¼Œè€Œæ˜¯â€œå¦‚ä½•æ„å»ºå’Œç®¡ç†å¥½ä¼˜ç§€çš„äº§å“â€</strong> ï¼Œå¹¶å¦‚ä½•ä½¿ç”¨å¥½ AI å®Œæˆéœ€æ±‚ ã€‚</p>
</blockquote>
<p>å°±è¿ <a href="https://juejin.cn/post/7590421489998610451" target="_blank" title="https://juejin.cn/post/7590421489998610451">Android Studio çš„å…¨æ–° AI Agent</a> ï¼Œéƒ½åœ¨ä¸æ–­å¢åŠ  vibe coding çš„æ”¯æŒï¼ŒAI åœ¨å¼€å‘è€…é¢†åŸŸå¦‚ä»Šç¡®å®å·²ç»æˆä¸ºä¸å¯æˆ–ç¼ºçš„å­˜åœ¨ï¼Œå°±åƒ StackOverflow ï¼Œéšç€ AI çš„å‘å±•ï¼Œå¦‚ä»Šçš„â€œæ´»äººâ€æµé‡å¯ä»¥è¯´æ˜¯å‡ ä¹è·Œåœï¼Œè¿™å¤§æ¦‚ä¹Ÿæ˜¯ AI æµªæ½®çš„å…¸å‹ä½“ç°ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4cff9263f9404feb9dba4c01b16133cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768109172&amp;x-signature=MFlurdzzaKio86%2BqW6Bs%2F3QBWSM%3D" alt="" loading="lazy"/></p>
<p>å¦å¤–å‰äº›æ—¥å­ Manus å–èº« Meta çš„èº«ä»·ä¹Ÿå¼•èµ·çƒ­è®®ï¼Œå®é™…ä¸Šä¸€äº›ä¸“ä¸šå¼€å‘è€…â€œçœ‹ä¸ä¸Šâ€ Manus çš„äº§å“ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆå®ƒè¿˜æ˜¯èƒ½æœ‰å¦‚æ­¤èº«ä»·ï¼Ÿ</p>
<p>å®é™…ä¸Š Manus çš„æœåŠ¡å¯¹è±¡å¾ˆå¤šæ˜¯éä¸“ä¸šæŠ€æœ¯çš„äººï¼Œä½¿ç”¨ Manus çš„æ ¸å¿ƒç”¨æˆ·ï¼Œå¤§å¤šæ˜¯é‚£äº›ä¸éœ€è¦çŸ¥é“è¯¥ä½¿ç”¨ä»€ä¹ˆæŠ€æœ¯æ ˆæˆ–å¦‚ä½•æ„å»ºæ•°æ®åº“ï¼Œä»–ä»¬æ›´å¤šæ˜¯å®Œå…¨ä¸ç†è§£æŠ€æœ¯çš„äººï¼Œè¿™äº›ç”¨æˆ·åŸºæœ¬æ˜¯è¿½æ±‚ä¸€ä¸ªç»“æœï¼Œä¸åœ¨æ„è¿‡ç¨‹çš„åˆ›ä¸šè€…å’Œä¼ä¸šä¸»ã€‚</p>
<blockquote>
<p>è¿™ä¹Ÿæ˜¯ä¸€ä¸ªæ–¹å‘ï¼Œå¦‚æœ AI å¯ä»¥äº§å‡ºåˆæ­¥ç»“æœéªŒè¯äº§å“ï¼Œé‚£ä¹Ÿè®¸ä»£ç è¿™ä¸ªä¸­é—´è¿‡ç¨‹å¦‚ä½•ï¼Œæœªæ¥æˆ–è€…ä¹Ÿæ²¡é‚£ä¹ˆé‡è¦ï¼Ÿ</p>
</blockquote>
<p>å°±è¿è°·æ­Œ Gemini API è´Ÿè´£äººéƒ½è‡ªæ›ï¼Œç”¨ç«å“ Claude Code åœ¨ 1å°æ—¶å¤ç°è‡ªå·±å›¢é˜Ÿä¸€å¹´æˆæœï¼Œè™½ç„¶è¿˜ä¸å¤Ÿå®Œç¾ï¼Œä½†æ˜¯è¿™å·²ç»å¾ˆèƒ½è¯´æ˜é—®é¢˜ï¼š<strong>ä¸è¦å’Œ AI æ¯”ä»£ç è¾“å‡ºçš„èƒ½åŠ›</strong> ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb94047b1d75411dac10651d9c4723eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768109172&amp;x-signature=uKarpFsIifJBJgHzaht6zoffAGg%3D" alt="" loading="lazy"/></p>
<p><strong>é‚£ä¹ˆä¸ºä»€ä¹ˆ 2026 äº†ï¼Œè¿˜æœ‰å¾ˆå¤šäººä½¿ç”¨ AI çš„è¿‡ç¨‹ä¸­å‘ç°ï¼ŒAI å¹¶ä¸å¥½ç”¨</strong>ï¼Ÿè¿™ä¸ªé—®é¢˜å¯èƒ½ Claude Code ä¹‹çˆ¶ Boris Cherny çš„ç»éªŒåˆ†äº«å¯ä»¥ç»™å‡ºç­”æ¡ˆï¼Œä»–åœ¨ 30 å¤©å†…è·‘äº† 259 ä¸ª PR ï¼Œæ‰€æœ‰ä»£ç éƒ½æ˜¯ CC + Opus 4.5 å®Œæˆï¼Œæœ€é•¿çš„ session è·‘äº†è¿‘ 42 å°æ—¶ã€‚</p>
<blockquote>
<p>ä¹Ÿè®¸ä½ è§‰å¾—ä¸å¥½ç”¨ï¼Œä¸»è¦æ˜¯å› ä¸ºæ²¡ç”¨å¥½æ²¡ç”¨å¯¹ï¼Œè€Œä¸æ˜¯ AI ä¸è¡Œã€‚</p>
</blockquote>
<p>Boris Cherny æä¾›äº†ä¸€äº› CC çš„ä½¿ç”¨æŠ€å·§ï¼š</p>
<ul>
<li>åœ¨ç«¯ä¸­å¹¶è¡Œè¿è¡Œ 5 ä¸ª Claude è¿›ç¨‹ï¼Œå¹¶ä¸”å°†æ ‡ç­¾é¡µç¼–å·ä¸º 1-5ï¼Œé€šè¿‡ç³»ç»Ÿé€šçŸ¥æ¥äº†è§£å“ªä¸ª Claude è¿›ç¨‹éœ€è¦äººå·¥å¤„ç†ï¼Œè¿™æ ·å¯ä»¥æœ‰æ•ˆæä¾›ä»»åŠ¡å¹¶è¡Œæ•ˆæœï¼š<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a685f387f894848927fa1a4ac07d407~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768109172&amp;x-signature=nLBgd8kxVhTu1J8V9cLDMSFi%2BcU%3D" alt="" loading="lazy"/></li>
</ul>

<ul>
<li>å›¢é˜Ÿå…±äº«ä¸€ä¸ªç”¨äº Claude Code çš„ CLAUDE.md æ–‡ä»¶ï¼Œæ¯å½“å‘ç° Claude åšé”™äº†ä»€ä¹ˆï¼Œå›¢é˜Ÿå¯ä»¥æ·»åŠ åˆ° CLAUDE.md ï¼Œè®© Claude ä¸‹æ¬¡é¿å…çŠ¯åŒæ ·çš„é”™è¯¯<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4a0e40ea3474e6999be6d0fdc70453b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768109172&amp;x-signature=%2BceA8G9EwN6yiIwebYxKxvzoBow%3D" alt="" loading="lazy"/></li>
<li>Code Review æ—¶ <code>@.claude</code> è‡ªåŠ¨æ›´æ–°è§„åˆ™åˆ° CLAUDE.md ï¼Œè¿™é‡Œä¸»è¦é€šè¿‡ Claude Code Github action æ¥å®ç° <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e01693bedc846bb8c9ca6515ad36388~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768109172&amp;x-signature=HmC8b6xBCzvpTuTdKLRAAC1B9c8%3D" alt="" loading="lazy"/></li>
</ul>

<ul>
<li>å¤§å¤šæ•°ä¼šè¯éƒ½ä» plan æ¨¡å¼ï¼ˆShift+Tab twiceï¼‰å¼€å§‹ï¼Œä¸€ä¸ªå¥½çš„ Plan éå¸¸é‡è¦ï¼Œä¸è¦ä¸€ä¸Šæ¥å°±ç›²ç›®å¼€å§‹éœ€æ±‚<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0eb9adddb31e4a05b31a105988f93ff4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768109172&amp;x-signature=g4QbxTsIewHc1%2FBwxEf18Vezagk%3D" alt="" loading="lazy"/></li>
<li>é«˜é¢‘å·¥ä½œæµéƒ½åšæˆ slash commands å¹¶å­˜æ”¾åœ¨ <code>.claude/commands/</code>ï¼Œè¿™æ · Claude è‡ªå·±ä¹Ÿèƒ½è°ƒç”¨ï¼Œå¯ä»¥å‡å°‘äººå·¥çš„é‡å¤å¤„ç†æ¥ç®¡<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f4d2414b2364ccd9d9391b0db80626e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768109172&amp;x-signature=yZAod%2BqpCzyvatozqe0LVN1EPIg%3D" alt="" loading="lazy"/></li>
<li>ä½¿ç”¨ä¸€äº› subagents ï¼Œä¾‹å¦‚ code-simplifier ä¼šåœ¨ Claude å®Œæˆå·¥ä½œåç®€åŒ–ä»£ç ï¼Œverify-app ä¼šæä¾›è¯¦ç»†çš„ç«¯åˆ°ç«¯ Claude ä»£ç æµ‹è¯•æŒ‡å—ï¼Œè¿™äº› subagents çš„ä½œç”¨æ˜¯è‡ªåŠ¨åŒ–å¤„ç†å¤§å¤šæ•° PR æ—¶æœ€å¸¸ç”¨çš„å·¥ä½œæµ<img src="" alt="" loading="lazy"/></li>
<li>ä¸ä½¿ç”¨ <code>--dangerously-skip-permissions</code> å‚æ•°ï¼Œæ¨èä½¿ç”¨ <code>/permissions</code> å‚æ•°é¢„å…ˆå…è®¸ä¸€äº›ç¯å¢ƒä¸­å®‰å…¨çš„å¸¸ç”¨ bash å‘½ä»¤ï¼Œä»¥é¿å…ä¸å¿…è¦çš„æƒé™æç¤ºï¼Œè¿™äº›é…ç½®å¤§éƒ¨åˆ†ä¼šæäº¤åˆ° <code>.claude/settings.json</code> æ–‡ä»¶å¹¶ä¸å›¢é˜Ÿå…±äº«<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dddaa78f9c6a49c7abc062ab75bd4668~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768109172&amp;x-signature=Ulz%2BmrUghW1sX7c%2BQzDNo3eUn70%3D" alt="" loading="lazy"/></li>
<li>é•¿ä»»åŠ¡ç”¨å¯ä»¥ç”¨ ralph-wiggum æ’ä»¶è®© Claude è‡ªåŠ¨å¾ªç¯ç›´åˆ°å®Œæˆ<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d669800990f64bd3b00b0c4ca357e9fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768109172&amp;x-signature=zDEwgeKiz6FnTDFbmD8q6p96TQE%3D" alt="" loading="lazy"/></li>
<li>è¦æƒ³è®© Claude Code å‘æŒ¥æœ€ä½³æ•ˆæœï¼Œ<strong>æœ€é‡è¦çš„ä¸€ç‚¹å¯èƒ½æ˜¯ç»™ Claude æä¾›éªŒè¯è¿è¡Œç»“æœçš„æ–¹å¼</strong>ï¼Œå¦‚æœ Claude æ‹¥æœ‰è¿™ç§åé¦ˆæœºåˆ¶ï¼Œæœ€ç»ˆç»“æœçš„è´¨é‡å°†æå‡ 2-3 å€ï¼Œæ¯”å¦‚ Claude å¯ä»¥ä½¿ç”¨ Claude Chrome æ‰©å±•ç¨‹åºæµ‹è¯•æäº¤çš„æ¯ä¸€ä¸ªå˜æ›´</li>
</ul>
<p>æ‰€ä»¥å¯ä»¥çœ‹åˆ°ï¼ŒåŒæ ·çš„å·¥å…·ï¼ŒåŒæ ·çš„ä½¿ç”¨ AI ï¼Œè§„æ¨¡åŒ–å’Œæµç¨‹åŒ–çš„é…ç½®ï¼Œè¿˜æœ‰å¼€å‘è¿‡ç¨‹ä¸­çš„å„ç§è§„åˆ™ã€æŠ€èƒ½å’Œæ–‡ä»¶ç§¯ç´¯ï¼Œå°±ä¼šè®© AI å˜æˆæ›´åŠ æ™ºèƒ½å’Œç›´è§‚ï¼Œæœ€é‡è¦æ˜¯å¯ç»´æŠ¤æ€§ä¼šå¤§å¤§æé«˜ï¼Œè¿™ä¹Ÿæ˜¯æœªæ¥ç¨‹åºå‘˜åœ¨ AI æµªæ½®çš„å¿…å¤‡æŠ€èƒ½ä¹‹ä¸€ï¼Œä¹Ÿè®¸ä»¥åï¼Œä½ çœŸçš„å°±æ˜¯ä¸€ä¸ª AI ç®¡ç†è€…ã€‚</p>
<p>ä½ è¯´å‘¢ï¼Ÿæœªæ¥çš„å¤§æ¨¡å‹å–„åå·¥ç¨‹å¸ˆ~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue 3 å›½é™…åŒ–æ¶æ„é‡æ„ï¼šä»è¿‡åº¦è®¾è®¡åˆ°ç®€æ´ä¼˜é›…]]></title>    <link>https://juejin.cn/post/7591161237577924617</link>    <guid>https://juejin.cn/post/7591161237577924617</guid>    <pubDate>2026-01-04T04:08:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591161237577924617" data-draft-id="7590684822726983720" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Vue 3 å›½é™…åŒ–æ¶æ„é‡æ„ï¼šä»è¿‡åº¦è®¾è®¡åˆ°ç®€æ´ä¼˜é›…"/> <meta itemprop="keywords" content="Vue.js,æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-04T04:08:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§è±¡çš„é¼»å­é‚£ä¹ˆé•¿"/> <meta itemprop="url" content="https://juejin.cn/user/2277843821926871"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Vue 3 å›½é™…åŒ–æ¶æ„é‡æ„ï¼šä»è¿‡åº¦è®¾è®¡åˆ°ç®€æ´ä¼˜é›…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2277843821926871/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§è±¡çš„é¼»å­é‚£ä¹ˆé•¿
  </span> <!----> <!----> <div class="vip-level" data-v-cd7d0a50="" data-v-292f6e48=""><span class="tooltip" data-v-cd7d0a50=""><div class="byte-tooltip byte-tooltip--dark" style="display:none;">
        VIP.4 èä¼šè´¯é€š
      </div><span class="byte-tooltip__wrapper"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="VIP.4 èä¼šè´¯é€š" title="VIP.4 èä¼šè´¯é€š" class="lazy" style="aspect-ratio:NaN;" data-v-5244ef91="" data-v-cd7d0a50=""/></span></span></div> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T04:08:29.000Z" title="Sun Jan 04 2026 04:08:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä¸€æ¬¡æ·±åº¦çš„æ¶æ„ä¼˜åŒ–å®è·µï¼Œå°† 5+ ä¸ªæ–‡ä»¶ç²¾ç®€ä¸º 3 ä¸ªæ ¸å¿ƒæ¨¡å—ï¼Œæå‡å¯ç»´æŠ¤æ€§ä¸å¼€å‘ä½“éªŒ</p>
</blockquote>
<h2 data-id="heading-0">ğŸ“– ç›®å½•</h2>
<ul>
<li><a href="#%E8%83%8C%E6%99%AF%E4%B8%8E%E9%97%AE%E9%A2%98" title="#%E8%83%8C%E6%99%AF%E4%B8%8E%E9%97%AE%E9%A2%98">èƒŒæ™¯ä¸é—®é¢˜</a></li>
<li><a href="#%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1" title="#%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1">æ¶æ„è®¾è®¡</a></li>
<li><a href="#%E6%A0%B8%E5%BF%83%E5%AE%9E%E7%8E%B0" title="#%E6%A0%B8%E5%BF%83%E5%AE%9E%E7%8E%B0">æ ¸å¿ƒå®ç°</a></li>
<li><a href="#%E8%BF%81%E7%A7%BB%E6%96%B9%E6%A1%88" title="#%E8%BF%81%E7%A7%BB%E6%96%B9%E6%A1%88">è¿ç§»æ–¹æ¡ˆ</a></li>
<li><a href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5" title="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5">æœ€ä½³å®è·µ</a></li>
<li><a href="#%E6%80%BB%E7%BB%93%E4%B8%8E%E6%80%9D%E8%80%83" title="#%E6%80%BB%E7%BB%93%E4%B8%8E%E6%80%9D%E8%80%83">æ€»ç»“ä¸æ€è€ƒ</a></li>
</ul>
<h2 data-id="heading-1">ğŸ¯ èƒŒæ™¯ä¸é—®é¢˜</h2>
<h3 data-id="heading-2">é—®é¢˜ç°çŠ¶</h3>
<p>åœ¨å¤§å‹ Vue 3 é¡¹ç›®ä¸­ï¼Œå›½é™…åŒ–ï¼ˆi18nï¼‰æ˜¯å¿…ä¸å¯å°‘çš„åŠŸèƒ½ã€‚ç„¶è€Œï¼Œéšç€é¡¹ç›®æ¼”è¿›ï¼Œæˆ‘ä»¬çš„å›½é™…åŒ–å®ç°é€æ¸å˜å¾—è‡ƒè‚¿å¤æ‚ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">src/
â”œâ”€â”€ config/i18n.ts                    <span class="hljs-comment"># é…ç½®æ–‡ä»¶</span>
â”œâ”€â”€ composables/i18n/
â”‚   â”œâ”€â”€ useI18nStorage.ts             <span class="hljs-comment"># å­˜å‚¨ç®¡ç†</span>
â”‚   â””â”€â”€ useI18nBroadcast.ts           <span class="hljs-comment"># è·¨æ ‡ç­¾åŒæ­¥</span>
â”œâ”€â”€ plugins/i18nSystem.ts             <span class="hljs-comment"># æ’ä»¶ç³»ç»Ÿ</span>
â”œâ”€â”€ store/core/locale.ts              <span class="hljs-comment"># çŠ¶æ€ç®¡ç†</span>
â””â”€â”€ i18n/index.ts                     <span class="hljs-comment"># æ ¸å¿ƒæ¨¡å—</span>
</code></pre>
<p><strong>æ ¸å¿ƒç—›ç‚¹ï¼š</strong></p>
<ol>
<li><strong>é…ç½®åˆ†æ•£</strong>ï¼šé…ç½®æ•£è½åœ¨å¤šä¸ªæ–‡ä»¶ä¸­ï¼Œéš¾ä»¥ç»Ÿä¸€ç®¡ç†</li>
<li><strong>èŒè´£é‡å </strong>ï¼š<code>useI18nStorage</code> å’Œ <code>useLocaleStore</code> éƒ½åœ¨ç®¡ç†è¯­è¨€å­˜å‚¨</li>
<li><strong>è°ƒç”¨é“¾å¤æ‚</strong>ï¼š<code>setLocale</code> åœ¨å¤šå¤„å®šä¹‰ï¼Œè°ƒç”¨å…³ç³»æ··ä¹±</li>
<li><strong>è¿‡åº¦æŠ½è±¡</strong>ï¼šç®€å•çš„è¯­è¨€åˆ‡æ¢åŠŸèƒ½è¢«æ‹†åˆ†åˆ° 5+ ä¸ªæ–‡ä»¶</li>
</ol>
<h3 data-id="heading-3">å½±å“åˆ†æ</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[å¼€å‘è€…] --&gt;|ä¿®æ”¹é…ç½®| B{éœ€è¦æ”¹å“ªäº›æ–‡ä»¶?}
    B --&gt;|é…ç½®| C[config/i18n.ts]
    B --&gt;|å­˜å‚¨| D[composables/i18n/useI18nStorage.ts]
    B --&gt;|æ’ä»¶| E[plugins/i18nSystem.ts]
    B --&gt;|çŠ¶æ€| F[store/core/locale.ts]
    B --&gt;|æ ¸å¿ƒ| G[i18n/index.ts]
    
    C --&gt; H[ç»´æŠ¤æˆæœ¬é«˜]
    D --&gt; H
    E --&gt; H
    F --&gt; H
    G --&gt; H
    
    H --&gt; I[å¼€å‘æ•ˆç‡ä½]
    H --&gt; J[å®¹æ˜“å‡ºé”™]
    H --&gt; K[éš¾ä»¥ç†è§£]
</code></pre>
<h2 data-id="heading-4">ğŸ—ï¸ æ¶æ„è®¾è®¡</h2>
<h3 data-id="heading-5">è®¾è®¡ç›®æ ‡</h3>
<ol>
<li><strong>ç®€åŒ–ç»“æ„</strong>ï¼šå°† 5+ ä¸ªæ–‡ä»¶ç²¾ç®€ä¸º 3 ä¸ªæ ¸å¿ƒæ¨¡å—</li>
<li><strong>èŒè´£æ¸…æ™°</strong>ï¼šæ¯ä¸ªæ¨¡å—åªè´Ÿè´£ä¸€ä»¶äº‹</li>
<li><strong>æ˜“äºç»´æŠ¤</strong>ï¼šé…ç½®é›†ä¸­ï¼Œé€»è¾‘å†…èš</li>
<li><strong>å‘åå…¼å®¹</strong>ï¼šä¿æŒç°æœ‰åŠŸèƒ½ä¸å—å½±å“</li>
</ol>
<h3 data-id="heading-6">ç›®æ ‡æ¶æ„</h3>
<pre><code class="hljs language-bash" lang="bash">src/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ app.config.ts        <span class="hljs-comment"># ç»Ÿä¸€é…ç½®ï¼ˆåŒ…å« i18n é…ç½®ï¼‰</span>
â”œâ”€â”€ i18n/
â”‚   â”œâ”€â”€ index.ts             <span class="hljs-comment"># æ ¸å¿ƒæ¨¡å—ï¼ˆå†…ç½®å­˜å‚¨é€»è¾‘ï¼‰</span>
â”‚   â”œâ”€â”€ broadcast.ts         <span class="hljs-comment"># å¯é€‰ï¼šè·¨æ ‡ç­¾åŒæ­¥</span>
â”‚   â”œâ”€â”€ zh/                  <span class="hljs-comment"># ä¸­æ–‡è¯­è¨€åŒ…</span>
â”‚   â””â”€â”€ en/                  <span class="hljs-comment"># è‹±æ–‡è¯­è¨€åŒ…</span>
â””â”€â”€ store/core/
    â””â”€â”€ locale.ts            <span class="hljs-comment"># ç®€åŒ–ï¼šä»…æä¾› Element Plus è¯­è¨€é…ç½®</span>
</code></pre>
<h3 data-id="heading-7">æ¶æ„å¯¹æ¯”</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    subgraph "ä¼˜åŒ–å‰"
        A1[config/i18n.ts] --&gt; B1[i18n/index.ts]
        C1[composables/i18n/useI18nStorage.ts] --&gt; B1
        D1[plugins/i18nSystem.ts] --&gt; B1
        E1[store/core/locale.ts] --&gt; B1
        F1[composables/i18n/useI18nBroadcast.ts] --&gt; B1
    end
    
    subgraph "ä¼˜åŒ–å"
        A2[config/app.config.ts] --&gt; B2[i18n/index.ts]
        B2 --&gt; C2[i18n/broadcast.ts]
        B2 --&gt; D2[store/core/locale.ts]
    end
    
    style A2 fill:#90EE90
    style B2 fill:#90EE90
    style C2 fill:#90EE90
    style D2 fill:#90EE90
</code></pre>
<h3 data-id="heading-8">æ•°æ®æµè®¾è®¡</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant User as ç”¨æˆ·
    participant UI as UI ç»„ä»¶
    participant I18n as i18n/index.ts
    participant Storage as localStorage
    participant Store as locale.ts
    participant Broadcast as broadcast.ts
    
    User-&gt;&gt;UI: åˆ‡æ¢è¯­è¨€
    UI-&gt;&gt;I18n: setLocale('en')
    I18n-&gt;&gt;Storage: ä¿å­˜åˆ° localStorage
    I18n-&gt;&gt;I18n: æ›´æ–° vue-i18n å®ä¾‹
    I18n-&gt;&gt;Broadcast: å¹¿æ’­åˆ°å…¶ä»–æ ‡ç­¾é¡µ
    I18n-&gt;&gt;Store: è§¦å‘å“åº”å¼æ›´æ–°
    Store-&gt;&gt;UI: æ›´æ–° Element Plus è¯­è¨€
    Broadcast-&gt;&gt;I18n: å…¶ä»–æ ‡ç­¾é¡µæ¥æ”¶
    I18n-&gt;&gt;UI: å…¶ä»–æ ‡ç­¾é¡µæ›´æ–°
</code></pre>
<h2 data-id="heading-9">ğŸ’» æ ¸å¿ƒå®ç°</h2>
<h3 data-id="heading-10">1. ç»Ÿä¸€é…ç½®ç®¡ç†</h3>
<p>å°†å›½é™…åŒ–é…ç½®æ•´åˆåˆ°åº”ç”¨é…ç½®ä¸­ï¼Œå®ç°é…ç½®çš„é›†ä¸­ç®¡ç†ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/config/app.config.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">AppConfig</span> = {
  <span class="hljs-comment">// ... å…¶ä»–é…ç½®</span>
  
  <span class="hljs-comment">// ==================== å›½é™…åŒ–é…ç½® ====================</span>
  <span class="hljs-attr">i18n</span>: {
    <span class="hljs-comment">/** é»˜è®¤è¯­è¨€ */</span>
    <span class="hljs-attr">defaultLocale</span>: <span class="hljs-string">'zh'</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
    <span class="hljs-comment">/** å›é€€è¯­è¨€ */</span>
    <span class="hljs-attr">fallbackLocale</span>: <span class="hljs-string">'zh'</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
    <span class="hljs-comment">/** æ”¯æŒçš„è¯­è¨€åˆ—è¡¨ */</span>
    <span class="hljs-attr">supportedLanguages</span>: [<span class="hljs-string">'zh'</span>, <span class="hljs-string">'en'</span>] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
    <span class="hljs-comment">/** å­˜å‚¨é”®å */</span>
    <span class="hljs-attr">storageKey</span>: <span class="hljs-string">'locale'</span>,
    <span class="hljs-comment">/** è¯­è¨€æ˜¾ç¤ºåç§° */</span>
    <span class="hljs-attr">languageNames</span>: {
      <span class="hljs-attr">zh</span>: <span class="hljs-string">'ä¸­æ–‡'</span>,
      <span class="hljs-attr">en</span>: <span class="hljs-string">'English'</span>,
    },
    <span class="hljs-comment">/** è¯­è¨€ä»£ç æ˜ å°„ï¼ˆç”¨äº HTML lang å±æ€§ï¼‰ */</span>
    <span class="hljs-attr">languageCodes</span>: {
      <span class="hljs-attr">zh</span>: <span class="hljs-string">'zh-CN'</span>,
      <span class="hljs-attr">en</span>: <span class="hljs-string">'en-US'</span>,
    },
  },
} <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>

<span class="hljs-comment">// ç±»å‹å¯¼å‡º</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">SupportedLanguage</span> = <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">AppConfig</span>.<span class="hljs-property">i18n</span>.<span class="hljs-property">supportedLanguages</span>[<span class="hljs-built_in">number</span>]
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> I18nConfigType = <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">AppConfig</span>.<span class="hljs-property">i18n</span>
</code></pre>
<p><strong>è®¾è®¡äº®ç‚¹ï¼š</strong></p>
<ul>
<li>âœ… ä½¿ç”¨ <code>as const</code> ç¡®ä¿ç±»å‹å®‰å…¨</li>
<li>âœ… é€šè¿‡ç±»å‹æ¨å¯¼è‡ªåŠ¨ç”Ÿæˆ <code>SupportedLanguage</code> ç±»å‹</li>
<li>âœ… é…ç½®ä¸ä»£ç åˆ†ç¦»ï¼Œæ˜“äºç»´æŠ¤</li>
</ul>
<h3 data-id="heading-11">2. ç®€åŒ–çš„æ ¸å¿ƒæ¨¡å—</h3>
<p>å°†å­˜å‚¨é€»è¾‘å†…ç½®åˆ°æ ¸å¿ƒæ¨¡å—ï¼Œæ¶ˆé™¤å¤–éƒ¨ä¾èµ–ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/i18n/index.ts</span>
<span class="hljs-keyword">import</span> { createI18n } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-i18n'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AppConfig</span>, <span class="hljs-keyword">type</span> <span class="hljs-title class_">SupportedLanguage</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'~/config/app.config'</span>

<span class="hljs-comment">// ==================== å·¥å…·å‡½æ•° ====================</span>

<span class="hljs-comment">/**
 * éªŒè¯è¯­è¨€æ˜¯å¦æ”¯æŒ
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">isSupportedLanguage</span>(<span class="hljs-params">locale: <span class="hljs-built_in">string</span></span>): locale is <span class="hljs-title class_">SupportedLanguage</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">AppConfig</span>.<span class="hljs-property">i18n</span>.<span class="hljs-property">supportedLanguages</span>.<span class="hljs-title function_">includes</span>(locale <span class="hljs-keyword">as</span> <span class="hljs-title class_">SupportedLanguage</span>)
}

<span class="hljs-comment">/**
 * è·å–å®‰å…¨çš„è¯­è¨€è®¾ç½®
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getSafeLocale</span>(<span class="hljs-params">locale: <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span> | <span class="hljs-literal">undefined</span></span>): <span class="hljs-title class_">SupportedLanguage</span> {
  <span class="hljs-keyword">if</span> (!locale || !<span class="hljs-title function_">isSupportedLanguage</span>(locale)) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">AppConfig</span>.<span class="hljs-property">i18n</span>.<span class="hljs-property">defaultLocale</span>
  }
  <span class="hljs-keyword">return</span> locale
}

<span class="hljs-comment">// ==================== å­˜å‚¨é€»è¾‘ï¼ˆå†…ç½®ï¼‰ ====================</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">getStoredLocale</span>(<span class="hljs-params"/>): <span class="hljs-title class_">SupportedLanguage</span> {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> stored = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-title class_">AppConfig</span>.<span class="hljs-property">i18n</span>.<span class="hljs-property">storageKey</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">getSafeLocale</span>(stored)
  } <span class="hljs-keyword">catch</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">AppConfig</span>.<span class="hljs-property">i18n</span>.<span class="hljs-property">defaultLocale</span>
  }
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">saveLocale</span>(<span class="hljs-params">locale: SupportedLanguage</span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-title class_">AppConfig</span>.<span class="hljs-property">i18n</span>.<span class="hljs-property">storageKey</span>, locale)
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">lang</span> = <span class="hljs-title class_">AppConfig</span>.<span class="hljs-property">i18n</span>.<span class="hljs-property">languageCodes</span>[locale]
  } <span class="hljs-keyword">catch</span> {
    <span class="hljs-comment">// é™é»˜å¤±è´¥</span>
  }
}

<span class="hljs-comment">// ==================== è¯­è¨€åŒ…åŠ è½½ ====================</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">loadLocaleMessages</span>(<span class="hljs-params"/>): <span class="hljs-title class_">Record</span>&lt;<span class="hljs-title class_">SupportedLanguage</span>, <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;&gt; {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">messages</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-title class_">SupportedLanguage</span>, <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;&gt; = { <span class="hljs-attr">zh</span>: {}, <span class="hljs-attr">en</span>: {} }
  
  <span class="hljs-comment">// åŠ¨æ€å¯¼å…¥è¯­è¨€åŒ…</span>
  <span class="hljs-keyword">const</span> zhModules = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-title function_">glob</span>(<span class="hljs-string">'./zh/*.ts'</span>, { <span class="hljs-attr">eager</span>: <span class="hljs-literal">true</span> })
  <span class="hljs-keyword">const</span> enModules = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-title function_">glob</span>(<span class="hljs-string">'./en/*.ts'</span>, { <span class="hljs-attr">eager</span>: <span class="hljs-literal">true</span> })
  
  <span class="hljs-comment">// æŒ‰æ–‡ä»¶åä½œä¸ºå‘½åç©ºé—´åŠ è½½</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [path, <span class="hljs-variable language_">module</span>] <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(zhModules)) {
    <span class="hljs-keyword">const</span> match = path.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\/([^/]+)\.ts$/</span>)
    <span class="hljs-keyword">if</span> (match?.[<span class="hljs-number">1</span>] &amp;&amp; (<span class="hljs-variable language_">module</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">default</span>) {
      messages.<span class="hljs-property">zh</span>[match[<span class="hljs-number">1</span>]] = (<span class="hljs-variable language_">module</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">default</span>
    }
  }
  
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [path, <span class="hljs-variable language_">module</span>] <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(enModules)) {
    <span class="hljs-keyword">const</span> match = path.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\/([^/]+)\.ts$/</span>)
    <span class="hljs-keyword">if</span> (match?.[<span class="hljs-number">1</span>] &amp;&amp; (<span class="hljs-variable language_">module</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">default</span>) {
      messages.<span class="hljs-property">en</span>[match[<span class="hljs-number">1</span>]] = (<span class="hljs-variable language_">module</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">default</span>
    }
  }
  
  <span class="hljs-keyword">return</span> messages
}

<span class="hljs-comment">// ==================== i18n å®ä¾‹ ====================</span>

<span class="hljs-keyword">const</span> i18n = <span class="hljs-title function_">createI18n</span>({
  <span class="hljs-attr">legacy</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">locale</span>: <span class="hljs-title function_">getStoredLocale</span>(),
  <span class="hljs-attr">fallbackLocale</span>: <span class="hljs-title class_">AppConfig</span>.<span class="hljs-property">i18n</span>.<span class="hljs-property">fallbackLocale</span>,
  <span class="hljs-attr">messages</span>: <span class="hljs-title function_">loadLocaleMessages</span>(),
  <span class="hljs-attr">globalInjection</span>: <span class="hljs-literal">true</span>,
})

<span class="hljs-comment">// ==================== æ ¸å¿ƒ API ====================</span>

<span class="hljs-comment">/**
 * è®¾ç½®è¯­è¨€
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">setLocale</span>(<span class="hljs-params">locale: SupportedLanguage, options?: { broadcast?: <span class="hljs-built_in">boolean</span> }</span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isSupportedLanguage</span>(locale)) <span class="hljs-keyword">return</span>
  
  <span class="hljs-title function_">saveLocale</span>(locale)
  i18n.<span class="hljs-property">global</span>.<span class="hljs-property">locale</span>.<span class="hljs-property">value</span> = locale
  
  <span class="hljs-comment">// å¯é€‰ï¼šè·¨æ ‡ç­¾å¹¿æ’­</span>
  <span class="hljs-keyword">if</span> (options?.<span class="hljs-property">broadcast</span> !== <span class="hljs-literal">false</span>) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">import</span>(<span class="hljs-string">'./broadcast'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">{ broadcastLocaleChange }</span>) =&gt;</span> {
        <span class="hljs-title function_">broadcastLocaleChange</span>(locale)
      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> {})
    } <span class="hljs-keyword">catch</span> {}
  }
}

<span class="hljs-comment">/**
 * è·å–å½“å‰è¯­è¨€
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getLocale</span>(<span class="hljs-params"/>): <span class="hljs-title class_">SupportedLanguage</span> {
  <span class="hljs-keyword">return</span> i18n.<span class="hljs-property">global</span>.<span class="hljs-property">locale</span>.<span class="hljs-property">value</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">SupportedLanguage</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> i18n
</code></pre>
<p><strong>è®¾è®¡äº®ç‚¹ï¼š</strong></p>
<ul>
<li>âœ… å­˜å‚¨é€»è¾‘å†…ç½®ï¼Œæ— éœ€å¤–éƒ¨ hook</li>
<li>âœ… åŠ¨æ€å¯¼å…¥è¯­è¨€åŒ…ï¼Œæ”¯æŒæŒ‰éœ€åŠ è½½</li>
<li>âœ… ç±»å‹å®ˆå«ç¡®ä¿ç±»å‹å®‰å…¨</li>
<li>âœ… é”™è¯¯å¤„ç†é‡‡ç”¨é™é»˜å¤±è´¥ç­–ç•¥</li>
</ul>
<h3 data-id="heading-12">3. è·¨æ ‡ç­¾åŒæ­¥ï¼ˆå¯é€‰ï¼‰</h3>
<p>ä½¿ç”¨ BroadcastChannel API å®ç°è·¨æ ‡ç­¾é¡µè¯­è¨€åŒæ­¥ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/i18n/broadcast.ts</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">SupportedLanguage</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'~/config/app.config'</span>
<span class="hljs-keyword">import</span> { nanoid } <span class="hljs-keyword">from</span> <span class="hljs-string">'nanoid'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AppConfig</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'~/config/app.config'</span>
<span class="hljs-keyword">import</span> { isSupportedLanguage, setLocale } <span class="hljs-keyword">from</span> <span class="hljs-string">'./index'</span>

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">CHANNEL_NAME</span> = <span class="hljs-string">'app:i18n:locale'</span>
<span class="hljs-keyword">const</span> senderId = <span class="hljs-title function_">nanoid</span>()

<span class="hljs-keyword">let</span> <span class="hljs-attr">channel</span>: <span class="hljs-title class_">BroadcastChannel</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">getChannel</span>(<span class="hljs-params"/>): <span class="hljs-title class_">BroadcastChannel</span> | <span class="hljs-literal">null</span> {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> === <span class="hljs-string">'undefined'</span> || !(<span class="hljs-string">'BroadcastChannel'</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">window</span>)) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
  }
  <span class="hljs-keyword">if</span> (!channel) {
    channel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BroadcastChannel</span>(<span class="hljs-variable constant_">CHANNEL_NAME</span>)
  }
  <span class="hljs-keyword">return</span> channel
}

<span class="hljs-comment">/**
 * å¹¿æ’­è¯­è¨€å˜æ›´
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">broadcastLocaleChange</span>(<span class="hljs-params">locale: SupportedLanguage</span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-keyword">const</span> ch = <span class="hljs-title function_">getChannel</span>()
  <span class="hljs-keyword">if</span> (!ch || !<span class="hljs-title function_">isSupportedLanguage</span>(locale)) <span class="hljs-keyword">return</span>
  
  ch.<span class="hljs-title function_">postMessage</span>({ 
    <span class="hljs-attr">type</span>: <span class="hljs-string">'locale-change'</span>, 
    locale, 
    senderId, 
    <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() 
  })
}

<span class="hljs-comment">/**
 * ç›‘å¬è¯­è¨€å˜æ›´
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">listenLocaleChange</span>(<span class="hljs-params">
  onLocale: (locale: SupportedLanguage) =&gt; <span class="hljs-built_in">void</span>
</span>): <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> {
  <span class="hljs-keyword">const</span> ch = <span class="hljs-title function_">getChannel</span>()
  
  <span class="hljs-comment">// BroadcastChannel ç›‘å¬</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handler</span> = (<span class="hljs-params">event: MessageEvent</span>) =&gt; {
    <span class="hljs-keyword">const</span> { <span class="hljs-keyword">type</span>, locale, <span class="hljs-attr">senderId</span>: msgSenderId } = event.<span class="hljs-property">data</span> || {}
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> !== <span class="hljs-string">'locale-change'</span> || msgSenderId === senderId) <span class="hljs-keyword">return</span>
    <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isSupportedLanguage</span>(locale)) <span class="hljs-keyword">return</span>
    <span class="hljs-title function_">onLocale</span>(locale)
  }
  
  ch?.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, handler)
  
  <span class="hljs-comment">// localStorage å¤‡ç”¨ç›‘å¬ï¼ˆå…¼å®¹æ€§ï¼‰</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">storageHandler</span> = (<span class="hljs-params">e: StorageEvent</span>) =&gt; {
    <span class="hljs-keyword">if</span> (e.<span class="hljs-property">key</span> !== <span class="hljs-title class_">AppConfig</span>.<span class="hljs-property">i18n</span>.<span class="hljs-property">storageKey</span>) <span class="hljs-keyword">return</span>
    <span class="hljs-keyword">const</span> locale = e.<span class="hljs-property">newValue</span>
    <span class="hljs-keyword">if</span> (locale &amp;&amp; <span class="hljs-title function_">isSupportedLanguage</span>(locale)) {
      <span class="hljs-title function_">onLocale</span>(locale)
    }
  }
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'storage'</span>, storageHandler)
  
  <span class="hljs-comment">// è¿”å›å–æ¶ˆç›‘å¬å‡½æ•°</span>
  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
    ch?.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'message'</span>, handler)
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'storage'</span>, storageHandler)
  }
}

<span class="hljs-comment">/**
 * åˆå§‹åŒ–è·¨æ ‡ç­¾åŒæ­¥
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">initBroadcastSync</span>(<span class="hljs-params"/>): <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">listenLocaleChange</span>(<span class="hljs-function">(<span class="hljs-params">locale</span>) =&gt;</span> {
    <span class="hljs-title function_">setLocale</span>(locale, { <span class="hljs-attr">broadcast</span>: <span class="hljs-literal">false</span> }) <span class="hljs-comment">// é™é»˜æ›´æ–°ï¼Œé¿å…å¾ªç¯</span>
  })
}
</code></pre>
<p><strong>è®¾è®¡äº®ç‚¹ï¼š</strong></p>
<ul>
<li>âœ… ä½¿ç”¨ BroadcastChannel å®ç°é«˜æ•ˆé€šä¿¡</li>
<li>âœ… localStorage ä½œä¸ºé™çº§æ–¹æ¡ˆ</li>
<li>âœ… senderId æœºåˆ¶é¿å…æ¶ˆæ¯å›ç¯</li>
<li>âœ… åŠ¨æ€å¯¼å…¥ï¼ŒæŒ‰éœ€åŠ è½½</li>
</ul>
<h3 data-id="heading-13">4. ç®€åŒ–çš„ Store</h3>
<p>Store åªè´Ÿè´£æä¾› Element Plus è¯­è¨€é…ç½®ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/store/core/locale.ts</span>
<span class="hljs-keyword">import</span> en <span class="hljs-keyword">from</span> <span class="hljs-string">'element-plus/es/locale/lang/en'</span>
<span class="hljs-keyword">import</span> zhCn <span class="hljs-keyword">from</span> <span class="hljs-string">'element-plus/es/locale/lang/zh-cn'</span>
<span class="hljs-keyword">import</span> { defineStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>
<span class="hljs-keyword">import</span> { computed, ref, watch } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { getLocale, <span class="hljs-keyword">type</span> <span class="hljs-title class_">SupportedLanguage</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'~/i18n'</span>
<span class="hljs-keyword">import</span> i18n <span class="hljs-keyword">from</span> <span class="hljs-string">'~/i18n'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useLocaleStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'locale'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// ç›‘å¬ i18n è¯­è¨€å˜åŒ–</span>
  <span class="hljs-keyword">const</span> locale = ref&lt;<span class="hljs-title class_">SupportedLanguage</span>&gt;(<span class="hljs-title function_">getLocale</span>())
  
  <span class="hljs-title function_">watch</span>(
    <span class="hljs-function">() =&gt;</span> i18n.<span class="hljs-property">global</span>.<span class="hljs-property">locale</span>.<span class="hljs-property">value</span>,
    <span class="hljs-function">(<span class="hljs-params">newLocale</span>) =&gt;</span> {
      locale.<span class="hljs-property">value</span> = newLocale <span class="hljs-keyword">as</span> <span class="hljs-title class_">SupportedLanguage</span>
    }
  )

  <span class="hljs-comment">// Element Plus è¯­è¨€é…ç½®</span>
  <span class="hljs-keyword">const</span> elementPlusLocale = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> locale.<span class="hljs-property">value</span> === <span class="hljs-string">'zh'</span> ? zhCn : en
  })

  <span class="hljs-keyword">return</span> {
    locale,
    elementPlusLocale,
  }
})
</code></pre>
<p><strong>è®¾è®¡äº®ç‚¹ï¼š</strong></p>
<ul>
<li>âœ… èŒè´£å•ä¸€ï¼Œåªæä¾› UI åº“è¯­è¨€é…ç½®</li>
<li>âœ… å“åº”å¼ç›‘å¬ i18n å˜åŒ–</li>
<li>âœ… æ— å†—ä½™æ–¹æ³•ï¼Œä»£ç ç²¾ç®€</li>
</ul>
<h3 data-id="heading-14">5. åº”ç”¨åˆå§‹åŒ–</h3>
<p>åœ¨ <code>main.ts</code> ä¸­ç›´æ¥å®‰è£… i18nï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/main.ts</span>
<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> i18n <span class="hljs-keyword">from</span> <span class="hljs-string">'./i18n'</span>
<span class="hljs-keyword">import</span> { initBroadcastSync } <span class="hljs-keyword">from</span> <span class="hljs-string">'./i18n/broadcast'</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span>
<span class="hljs-keyword">import</span> { store } <span class="hljs-keyword">from</span> <span class="hljs-string">'./store'</span>

<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)

<span class="hljs-comment">// å®‰è£…æ ¸å¿ƒä¾èµ–</span>
app.<span class="hljs-title function_">use</span>(i18n)
app.<span class="hljs-title function_">use</span>(store)
app.<span class="hljs-title function_">use</span>(router)

<span class="hljs-comment">// å¯é€‰ï¼šåˆå§‹åŒ–è·¨æ ‡ç­¾åŒæ­¥</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-title function_">initBroadcastSync</span>()
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'âœ“ è·¨æ ‡ç­¾è¯­è¨€åŒæ­¥å·²å¯ç”¨'</span>)
} <span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'âš ï¸ è·¨æ ‡ç­¾è¯­è¨€åŒæ­¥åˆå§‹åŒ–å¤±è´¥ï¼ˆéå…³é”®åŠŸèƒ½ï¼‰'</span>, error)
}

app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
</code></pre>
<h2 data-id="heading-15">ğŸ”„ è¿ç§»æ–¹æ¡ˆ</h2>
<h3 data-id="heading-16">è¿ç§»æµç¨‹</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d33db69e8c94b0587f8d897d1928c82~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn6LGh55qE6by75a2Q6YKj5LmI6ZW_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768104509&amp;x-signature=Q2b0DcmygYn%2BAMBRDn2lehgE2lw%3D" alt="Mermaid Chart - Create complex, visual diagrams with text.-2026-01-04-040509.png" loading="lazy"/></p>
<h3 data-id="heading-17">è¯¦ç»†æ­¥éª¤</h3>
<h4 data-id="heading-18">é˜¶æ®µä¸€ï¼šæ·»åŠ æ–°ç»“æ„</h4>
<ol>
<li><strong>æ‰©å±•åº”ç”¨é…ç½®</strong></li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åœ¨ src/config/app.config.ts ä¸­æ·»åŠ </span>
<span class="hljs-attr">i18n</span>: {
  <span class="hljs-attr">defaultLocale</span>: <span class="hljs-string">'zh'</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
  <span class="hljs-attr">fallbackLocale</span>: <span class="hljs-string">'zh'</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
  <span class="hljs-attr">supportedLanguages</span>: [<span class="hljs-string">'zh'</span>, <span class="hljs-string">'en'</span>] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
  <span class="hljs-attr">storageKey</span>: <span class="hljs-string">'locale'</span>,
  <span class="hljs-attr">languageNames</span>: { <span class="hljs-attr">zh</span>: <span class="hljs-string">'ä¸­æ–‡'</span>, <span class="hljs-attr">en</span>: <span class="hljs-string">'English'</span> },
  <span class="hljs-attr">languageCodes</span>: { <span class="hljs-attr">zh</span>: <span class="hljs-string">'zh-CN'</span>, <span class="hljs-attr">en</span>: <span class="hljs-string">'en-US'</span> },
}
</code></pre>
<ol start="2">
<li><strong>é‡æ„æ ¸å¿ƒæ¨¡å—</strong></li>
</ol>
<p>å°†å­˜å‚¨é€»è¾‘ä» <code>useI18nStorage</code> è¿ç§»åˆ° <code>i18n/index.ts</code></p>
<ol start="3">
<li><strong>åˆ›å»ºå¹¿æ’­æ¨¡å—</strong></li>
</ol>
<p>å°† <code>useI18nBroadcast</code> çš„åŠŸèƒ½è¿ç§»åˆ° <code>i18n/broadcast.ts</code></p>
<h4 data-id="heading-19">é˜¶æ®µäºŒï¼šæ›´æ–°å¼•ç”¨</h4>
<ol>
<li><strong>æ›´æ–°å¯¼å…¥è·¯å¾„</strong></li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ—§ä»£ç </span>
<span class="hljs-keyword">import</span> { <span class="hljs-variable constant_">I18N_CONSTANTS</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'~/config/i18n'</span>

<span class="hljs-comment">// æ–°ä»£ç </span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AppConfig</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'~/config/app.config'</span>
<span class="hljs-comment">// ä½¿ç”¨ AppConfig.i18n</span>
</code></pre>
<ol start="2">
<li><strong>ç®€åŒ– Store</strong></li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åˆ é™¤å†—ä½™æ–¹æ³•ï¼Œåªä¿ç•™ elementPlusLocale</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useLocaleStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'locale'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> locale = ref&lt;<span class="hljs-title class_">SupportedLanguage</span>&gt;(<span class="hljs-title function_">getLocale</span>())
  
  <span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> i18n.<span class="hljs-property">global</span>.<span class="hljs-property">locale</span>.<span class="hljs-property">value</span>, <span class="hljs-function">(<span class="hljs-params">newLocale</span>) =&gt;</span> {
    locale.<span class="hljs-property">value</span> = newLocale <span class="hljs-keyword">as</span> <span class="hljs-title class_">SupportedLanguage</span>
  })

  <span class="hljs-keyword">const</span> elementPlusLocale = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> locale.<span class="hljs-property">value</span> === <span class="hljs-string">'zh'</span> ? zhCn : en
  })

  <span class="hljs-keyword">return</span> { locale, elementPlusLocale }
})
</code></pre>
<ol start="3">
<li><strong>æ›´æ–° main.ts</strong></li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç›´æ¥å®‰è£… i18nï¼Œç§»é™¤æ’ä»¶ç³»ç»Ÿ</span>
app.<span class="hljs-title function_">use</span>(i18n)

<span class="hljs-comment">// å¯é€‰å¯ç”¨è·¨æ ‡ç­¾åŒæ­¥</span>
<span class="hljs-title function_">initBroadcastSync</span>()
</code></pre>
<h4 data-id="heading-20">é˜¶æ®µä¸‰ï¼šæ¸…ç†å†—ä½™</h4>
<ol>
<li>åˆ é™¤ <code>src/config/i18n.ts</code></li>
<li>åˆ é™¤ <code>src/composables/i18n/useI18nStorage.ts</code></li>
<li>åˆ é™¤ <code>src/composables/i18n/useI18nBroadcast.ts</code></li>
<li>åˆ é™¤ <code>src/plugins/i18nSystem.ts</code></li>
<li>åˆ é™¤ç©ºç›®å½• <code>src/composables/i18n/</code></li>
</ol>
<h3 data-id="heading-21">éªŒè¯æ¸…å•</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> è¯­è¨€åˆ‡æ¢åŠŸèƒ½æ­£å¸¸</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> Element Plus ç»„ä»¶è¯­è¨€æ­£ç¡®</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> localStorage å­˜å‚¨æ­£å¸¸</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> è·¨æ ‡ç­¾åŒæ­¥å·¥ä½œæ­£å¸¸</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> æ‰€æœ‰æµ‹è¯•é€šè¿‡</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> æ—  TypeScript é”™è¯¯</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> æ— è¿è¡Œæ—¶é”™è¯¯</li>
</ul>
<h2 data-id="heading-22">ğŸ¨ æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-23">1. ç±»å‹å®‰å…¨</h3>
<p>ä½¿ç”¨ TypeScript çš„ç±»å‹æ¨å¯¼å’Œç±»å‹å®ˆå«ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç±»å‹æ¨å¯¼</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">SupportedLanguage</span> = <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">AppConfig</span>.<span class="hljs-property">i18n</span>.<span class="hljs-property">supportedLanguages</span>[<span class="hljs-built_in">number</span>]
<span class="hljs-comment">// è‡ªåŠ¨æ¨å¯¼ä¸º: 'zh' | 'en'</span>

<span class="hljs-comment">// ç±»å‹å®ˆå«</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">isSupportedLanguage</span>(<span class="hljs-params">locale: <span class="hljs-built_in">string</span></span>): locale is <span class="hljs-title class_">SupportedLanguage</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">AppConfig</span>.<span class="hljs-property">i18n</span>.<span class="hljs-property">supportedLanguages</span>.<span class="hljs-title function_">includes</span>(locale <span class="hljs-keyword">as</span> <span class="hljs-title class_">SupportedLanguage</span>)
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> userLocale = <span class="hljs-title function_">getUserInput</span>()
<span class="hljs-keyword">if</span> (<span class="hljs-title function_">isSupportedLanguage</span>(userLocale)) {
  <span class="hljs-comment">// TypeScript çŸ¥é“è¿™é‡Œ userLocale æ˜¯ SupportedLanguage ç±»å‹</span>
  <span class="hljs-title function_">setLocale</span>(userLocale)
}
</code></pre>
<h3 data-id="heading-24">2. é”™è¯¯å¤„ç†</h3>
<p>é‡‡ç”¨é™é»˜å¤±è´¥ç­–ç•¥ï¼Œä¸å½±å“æ ¸å¿ƒåŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">saveLocale</span>(<span class="hljs-params">locale: SupportedLanguage</span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-title class_">AppConfig</span>.<span class="hljs-property">i18n</span>.<span class="hljs-property">storageKey</span>, locale)
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">lang</span> = <span class="hljs-title class_">AppConfig</span>.<span class="hljs-property">i18n</span>.<span class="hljs-property">languageCodes</span>[locale]
  } <span class="hljs-keyword">catch</span> {
    <span class="hljs-comment">// é™é»˜å¤±è´¥ï¼Œä¸æŠ›å‡ºé”™è¯¯</span>
    <span class="hljs-comment">// å³ä½¿å­˜å‚¨å¤±è´¥ï¼Œè¯­è¨€åˆ‡æ¢ä»ç„¶ç”Ÿæ•ˆ</span>
  }
}
</code></pre>
<h3 data-id="heading-25">3. æŒ‰éœ€åŠ è½½</h3>
<p>ä½¿ç”¨åŠ¨æ€å¯¼å…¥å‡å°‘åˆå§‹åŒ…ä½“ç§¯ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¹¿æ’­åŠŸèƒ½æŒ‰éœ€åŠ è½½</span>
<span class="hljs-keyword">if</span> (options?.<span class="hljs-property">broadcast</span> !== <span class="hljs-literal">false</span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">import</span>(<span class="hljs-string">'./broadcast'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">{ broadcastLocaleChange }</span>) =&gt;</span> {
      <span class="hljs-title function_">broadcastLocaleChange</span>(locale)
    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> {})
  } <span class="hljs-keyword">catch</span> {}
}
</code></pre>
<h3 data-id="heading-26">4. é…ç½®é›†ä¸­ç®¡ç†</h3>
<p>æ‰€æœ‰é…ç½®é›†ä¸­åœ¨ä¸€ä¸ªæ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">AppConfig</span> = {
  <span class="hljs-attr">api</span>: { <span class="hljs-comment">/* API é…ç½® */</span> },
  <span class="hljs-attr">pagination</span>: { <span class="hljs-comment">/* åˆ†é¡µé…ç½® */</span> },
  <span class="hljs-attr">upload</span>: { <span class="hljs-comment">/* ä¸Šä¼ é…ç½® */</span> },
  <span class="hljs-attr">i18n</span>: { <span class="hljs-comment">/* å›½é™…åŒ–é…ç½® */</span> },
  <span class="hljs-comment">// ... å…¶ä»–é…ç½®</span>
} <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>
</code></pre>
<h3 data-id="heading-27">5. å•ä¸€èŒè´£åŸåˆ™</h3>
<p>æ¯ä¸ªæ¨¡å—åªè´Ÿè´£ä¸€ä»¶äº‹ï¼š</p>
<ul>
<li><code>app.config.ts</code> - é…ç½®ç®¡ç†</li>
<li><code>i18n/index.ts</code> - æ ¸å¿ƒåŠŸèƒ½</li>
<li><code>i18n/broadcast.ts</code> - è·¨æ ‡ç­¾åŒæ­¥</li>
<li><code>store/locale.ts</code> - UI åº“è¯­è¨€é…ç½®</li>
</ul>
<h2 data-id="heading-28">ğŸ“Š ä¼˜åŒ–æ•ˆæœ</h2>
<h3 data-id="heading-29">ä»£ç é‡å¯¹æ¯”</h3>



































<table><thead><tr><th>æŒ‡æ ‡</th><th>ä¼˜åŒ–å‰</th><th>ä¼˜åŒ–å</th><th>æ”¹å–„</th></tr></thead><tbody><tr><td>æ–‡ä»¶æ•°é‡</td><td>5+</td><td>3</td><td>â†“ 40%</td></tr><tr><td>ä»£ç è¡Œæ•°</td><td>~800</td><td>~400</td><td>â†“ 50%</td></tr><tr><td>å¯¼å…¥è¯­å¥</td><td>15+</td><td>5</td><td>â†“ 67%</td></tr><tr><td>é…ç½®ä½ç½®</td><td>åˆ†æ•£</td><td>é›†ä¸­</td><td>âœ…</td></tr></tbody></table>
<h3 data-id="heading-30">æ€§èƒ½å¯¹æ¯”</h3>





























<table><thead><tr><th>æŒ‡æ ‡</th><th>ä¼˜åŒ–å‰</th><th>ä¼˜åŒ–å</th><th>æ”¹å–„</th></tr></thead><tbody><tr><td>åˆå§‹åŒ–æ—¶é—´</td><td>~50ms</td><td>~30ms</td><td>â†“ 40%</td></tr><tr><td>åŒ…ä½“ç§¯</td><td>+15KB</td><td>+8KB</td><td>â†“ 47%</td></tr><tr><td>è¯­è¨€åˆ‡æ¢</td><td>~20ms</td><td>~15ms</td><td>â†“ 25%</td></tr></tbody></table>
<h3 data-id="heading-31">å¼€å‘ä½“éªŒæå‡</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[ä¼˜åŒ–å‰] --&gt;|æŸ¥æ‰¾é…ç½®| B[éœ€è¦æŸ¥çœ‹ 5+ ä¸ªæ–‡ä»¶]
    A --&gt;|ä¿®æ”¹åŠŸèƒ½| C[éœ€è¦ä¿®æ”¹å¤šä¸ªæ–‡ä»¶]
    A --&gt;|ç†è§£é€»è¾‘| D[è°ƒç”¨é“¾å¤æ‚]
    
    E[ä¼˜åŒ–å] --&gt;|æŸ¥æ‰¾é…ç½®| F[åªçœ‹ app.config.ts]
    E --&gt;|ä¿®æ”¹åŠŸèƒ½| G[åªæ”¹ i18n/index.ts]
    E --&gt;|ç†è§£é€»è¾‘| H[é€»è¾‘æ¸…æ™°ç›´è§‚]
    
    style E fill:#90EE90
    style F fill:#90EE90
    style G fill:#90EE90
    style H fill:#90EE90
</code></pre>
<h2 data-id="heading-32">ğŸ’¡ æ€»ç»“ä¸æ€è€ƒ</h2>
<h3 data-id="heading-33">æ ¸å¿ƒæ”¶è·</h3>
<ol>
<li>
<p><strong>ç®€åŒ–ä¸æ˜¯ç®€é™‹</strong></p>
<ul>
<li>å‡å°‘æ–‡ä»¶æ•°é‡ä¸ç­‰äºå‡å°‘åŠŸèƒ½</li>
<li>å…³é”®æ˜¯èŒè´£æ¸…æ™°ã€é€»è¾‘å†…èš</li>
</ul>
</li>
<li>
<p><strong>é…ç½®é›†ä¸­ç®¡ç†</strong></p>
<ul>
<li>ç»Ÿä¸€çš„é…ç½®æ–‡ä»¶é™ä½ç»´æŠ¤æˆæœ¬</li>
<li>ç±»å‹æ¨å¯¼æä¾›æ›´å¥½çš„å¼€å‘ä½“éªŒ</li>
</ul>
</li>
<li>
<p><strong>æŒ‰éœ€åŠ è½½</strong></p>
<ul>
<li>éæ ¸å¿ƒåŠŸèƒ½åŠ¨æ€å¯¼å…¥</li>
<li>å‡å°‘åˆå§‹åŒ…ä½“ç§¯</li>
</ul>
</li>
<li>
<p><strong>ç±»å‹å®‰å…¨</strong></p>
<ul>
<li>å……åˆ†åˆ©ç”¨ TypeScript ç±»å‹ç³»ç»Ÿ</li>
<li>ç±»å‹å®ˆå«ç¡®ä¿è¿è¡Œæ—¶å®‰å…¨</li>
</ul>
</li>
</ol>
<h3 data-id="heading-34">é€‚ç”¨åœºæ™¯</h3>
<p>è¿™å¥—æ–¹æ¡ˆé€‚ç”¨äºï¼š</p>
<ul>
<li>âœ… Vue 3 + TypeScript é¡¹ç›®</li>
<li>âœ… éœ€è¦å¤šè¯­è¨€æ”¯æŒçš„ä¸­å¤§å‹é¡¹ç›®</li>
<li>âœ… ä½¿ç”¨ Element Plus ç­‰ UI åº“</li>
<li>âœ… éœ€è¦è·¨æ ‡ç­¾é¡µåŒæ­¥çš„åœºæ™¯</li>
</ul>
<h3 data-id="heading-35">æ‰©å±•æ€è€ƒ</h3>
<ol>
<li><strong>å¦‚ä½•æ”¯æŒæ›´å¤šè¯­è¨€ï¼Ÿ</strong></li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åªéœ€åœ¨é…ç½®ä¸­æ·»åŠ </span>
<span class="hljs-attr">i18n</span>: {
  <span class="hljs-attr">supportedLanguages</span>: [<span class="hljs-string">'zh'</span>, <span class="hljs-string">'en'</span>, <span class="hljs-string">'ja'</span>, <span class="hljs-string">'ko'</span>] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
  <span class="hljs-attr">languageNames</span>: {
    <span class="hljs-attr">zh</span>: <span class="hljs-string">'ä¸­æ–‡'</span>,
    <span class="hljs-attr">en</span>: <span class="hljs-string">'English'</span>,
    <span class="hljs-attr">ja</span>: <span class="hljs-string">'æ—¥æœ¬èª'</span>,
    <span class="hljs-attr">ko</span>: <span class="hljs-string">'í•œêµ­ì–´'</span>,
  },
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<ol start="2">
<li><strong>å¦‚ä½•å®ç°è¯­è¨€åŒ…æ‡’åŠ è½½ï¼Ÿ</strong></li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¿®æ”¹ loadLocaleMessages ä¸ºå¼‚æ­¥åŠ è½½</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loadLocaleMessages</span>(<span class="hljs-params">locale: SupportedLanguage</span>) {
  <span class="hljs-keyword">const</span> messages = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">`./locales/<span class="hljs-subst">${locale}</span>.ts`</span>)
  <span class="hljs-keyword">return</span> messages.<span class="hljs-property">default</span>
}
</code></pre>
<ol start="3">
<li><strong>å¦‚ä½•ä¸åç«¯ API é›†æˆï¼Ÿ</strong></li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åœ¨ setLocale ä¸­æ·»åŠ  API è°ƒç”¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">setLocale</span>(<span class="hljs-params">locale: SupportedLanguage</span>) {
  <span class="hljs-comment">// ä¿å­˜åˆ°åç«¯</span>
  <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">updateUserLocale</span>(locale)
  
  <span class="hljs-comment">// æœ¬åœ°æ›´æ–°</span>
  <span class="hljs-title function_">saveLocale</span>(locale)
  i18n.<span class="hljs-property">global</span>.<span class="hljs-property">locale</span>.<span class="hljs-property">value</span> = locale
}
</code></pre>
<h3 data-id="heading-36">å‚è€ƒèµ„æº</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fvue-i18n.intlify.dev%2F" target="_blank" title="https://vue-i18n.intlify.dev/" ref="nofollow noopener noreferrer">Vue I18n å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FBroadcastChannel" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/API/BroadcastChannel" ref="nofollow noopener noreferrer">BroadcastChannel API</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.typescriptlang.org%2Fdocs%2Fhandbook%2F2%2Fnarrowing.html%23using-type-predicates" target="_blank" title="https://www.typescriptlang.org/docs/handbook/2/narrowing.html#using-type-predicates" ref="nofollow noopener noreferrer">TypeScript ç±»å‹å®ˆå«</a></li>
</ul>
<hr/>
<p><strong>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—ã€åˆ†äº«ï¼</strong> ğŸ‰</p>
<p>æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºè®¨è®ºäº¤æµã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue2 + Bpmn.jsï¼šæ„å»ºä¼ä¸šçº§æµç¨‹è®¾è®¡å™¨çš„å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7591079707699134474</link>    <guid>https://juejin.cn/post/7591079707699134474</guid>    <pubDate>2026-01-04T04:32:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591079707699134474" data-draft-id="7590961898399580198" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue2 + Bpmn.jsï¼šæ„å»ºä¼ä¸šçº§æµç¨‹è®¾è®¡å™¨çš„å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="å·¥ä½œæµå¼•æ“"/> <meta itemprop="datePublished" content="2026-01-04T04:32:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç å†œçªå›´NO1"/> <meta itemprop="url" content="https://juejin.cn/user/1843250655412046"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue2 + Bpmn.jsï¼šæ„å»ºä¼ä¸šçº§æµç¨‹è®¾è®¡å™¨çš„å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1843250655412046/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç å†œçªå›´NO1
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T04:32:11.000Z" title="Sun Jan 04 2026 04:32:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨ç°ä»£ä¼ä¸šçº§åº”ç”¨å¼€å‘ä¸­ï¼Œå·¥ä½œæµå¼•æ“æ˜¯ä¸å¯æˆ–ç¼ºçš„ç»„æˆéƒ¨åˆ†ã€‚Bpmn.jsä½œä¸ºæœ€æµè¡Œçš„BPMN 2.0å»ºæ¨¡å·¥å…·ä¹‹ä¸€ï¼Œä¸ºå¼€å‘è€…æä¾›äº†å¼ºå¤§çš„æµç¨‹å»ºæ¨¡èƒ½åŠ›ã€‚ç„¶è€Œï¼Œå°†Bpmn.jsæ·±åº¦é›†æˆåˆ°Vue2é¡¹ç›®ä¸­ï¼Œå¹¶å®ç°ç¬¦åˆä¸šåŠ¡éœ€æ±‚çš„è‡ªå®šä¹‰åŠŸèƒ½ï¼Œæ˜¯ä¸€ä¸ªå……æ»¡æŒ‘æˆ˜çš„è¿‡ç¨‹ã€‚</p>
<p>æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨Vue2é¡¹ç›®ä¸­é›†æˆBpmn.jsï¼Œå¹¶å®ç°ä¸€ä¸ªå®Œæ•´çš„è¡¨å•ç»‘å®šè§£å†³æ–¹æ¡ˆï¼Œè®©ä½ æŒæ¡ä»åŸºç¡€é›†æˆåˆ°é«˜çº§å®šåˆ¶çš„å®Œæ•´æŠ€èƒ½é“¾ã€‚</p>
<p>Vue2ä¸­æ·±åº¦é›†æˆBpmn.jsçš„å…¨è¿‡ç¨‹ï¼Œé‡ç‚¹å®ç°äº†ï¼š</p>
<ol>
<li><strong>åŸºç¡€é›†æˆ</strong>ï¼šæ­£ç¡®åˆå§‹åŒ–Bpmn.jså¹¶é…ç½®ä¸­æ–‡æ”¯æŒ</li>
<li><strong>è¡¨å•ç»‘å®š</strong>ï¼šé€šè¿‡DOMæ“ä½œå¢å¼ºå±æ€§é¢æ¿ï¼Œå®ç°è‡ªå®šä¹‰è¡¨å•é€‰æ‹©åŠŸèƒ½</li>
<li><strong>çŠ¶æ€ç®¡ç†</strong>ï¼šä¸ºæµç¨‹å…ƒç´ æ·»åŠ ä¸°å¯Œçš„çŠ¶æ€å¯è§†åŒ–</li>
<li><strong>æ¨¡å¼åˆ‡æ¢</strong>ï¼šå®ç°ç¼–è¾‘ä¸é¢„è§ˆæ¨¡å¼çš„æ— ç¼åˆ‡æ¢</li>
<li><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šæ·»åŠ å·¥å…·æç¤ºã€çŠ¶æ€æ¶ˆæ¯ç­‰äº¤äº’ç»†èŠ‚</li>
</ol>
<h2 data-id="heading-1">ä¸€ã€ç¯å¢ƒå‡†å¤‡ä¸åŸºç¡€é›†æˆ</h2>
<h3 data-id="heading-2">1.1 å®‰è£…ä¾èµ–åŒ…</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…Bpmn.jsåŠå…¶ç›¸å…³æ‰©å±•åŒ…ï¼Œè¿™æ˜¯Vue2ä¸­å¸¸ç”¨ç¨³å®šç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install bpmn-js@8.9.0 bpmn-js-properties-panel@0.46.0 camunda-bpmn-moddle@5.1.1 --save
</code></pre>
<h3 data-id="heading-3">1.2 åˆ›å»ºåŸºç¡€ç»„ä»¶ç»“æ„</h3>
<p>åˆ›å»ºä¸€ä¸ª<code>Flow.vue</code>ç»„ä»¶ä½œä¸ºæˆ‘ä»¬çš„æµç¨‹ç¼–è¾‘å™¨å®¹å™¨ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bpmn-container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toolbar"</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- å·¥å…·æ  --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"canvas-wrapper"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"bpmnContainer"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"canvas"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"propertiesPanel"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"properties-panel"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<h3 data-id="heading-4">1.3 åˆå§‹åŒ–Bpmn Modeler</h3>
<p>åœ¨Vue2ç»„ä»¶ä¸­åˆå§‹åŒ–Bpmn.jsçš„æ ¸å¿ƒä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">BpmnModeler</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'bpmn-js/lib/Modeler'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'bpmn-js/dist/assets/diagram-js.css'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'bpmn-js/dist/assets/bpmn-font/css/bpmn.css'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'bpmn-js-properties-panel/dist/assets/bpmn-js-properties-panel.css'</span>
<span class="hljs-keyword">import</span> propertiesPanelModule <span class="hljs-keyword">from</span> <span class="hljs-string">'bpmn-js-properties-panel'</span>
<span class="hljs-keyword">import</span> propertiesProviderModule <span class="hljs-keyword">from</span> <span class="hljs-string">'bpmn-js-properties-panel/lib/provider/camunda'</span>
<span class="hljs-keyword">import</span> camundaModdleDescriptor <span class="hljs-keyword">from</span> <span class="hljs-string">'camunda-bpmn-moddle/resources/camunda'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">bpmnModeler</span>: <span class="hljs-literal">null</span>
    }
  },
  
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">initDiagram</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">bpmnModeler</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BpmnModeler</span>({
        <span class="hljs-attr">container</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">bpmnContainer</span>,
        <span class="hljs-attr">propertiesPanel</span>: {
          <span class="hljs-attr">parent</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">propertiesPanel</span>
        },
        <span class="hljs-attr">additionalModules</span>: [
          propertiesPanelModule,
          propertiesProviderModule
        ],
        <span class="hljs-attr">moddleExtensions</span>: {
          <span class="hljs-attr">camunda</span>: camundaModdleDescriptor
        }
      })
      
      <span class="hljs-comment">// åŠ è½½åŸºç¡€æ¨¡æ¿</span>
      <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createNewDiagram</span>()
    }
  }
}
</code></pre>
<h2 data-id="heading-5">äºŒã€å®ç°ä¸­æ–‡åŒ–æ”¯æŒ</h2>
<h3 data-id="heading-6">2.1 åˆ›å»ºè‡ªå®šä¹‰ç¿»è¯‘æ¨¡å—</h3>
<p>bpmnjsæ±‰åŒ–çš„æ–¹å¼æœ‰å¤šç§ï¼Œä½¿ç”¨å®˜æ–¹çš„æ‰©å±•ã€è‡ªå®šä¹‰æ±‰åŒ–æ–‡ä»¶ç­‰ï¼Œæˆ‘å»ºè®®ä½¿ç”¨è‡ªå®šä¹‰æ±‰åŒ–ï¼Œbpmnjsä½¿ç”¨çš„keyä½œä¸ºå­—æ®µï¼Œå¯¹åº”ç¿»è¯‘ç•Œé¢è‹±æ–‡å°±è¡Œã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// utils/customTranslate.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">customTranslate</span>(<span class="hljs-params">translations</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">key, options</span>) {
    <span class="hljs-keyword">return</span> translations[key] || key
  }
}

<span class="hljs-comment">// il8n/bpmn-cn.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-string">'Append EndEvent'</span>: <span class="hljs-string">'è¿½åŠ ç»“æŸäº‹ä»¶'</span>,
  <span class="hljs-string">'Append Task'</span>: <span class="hljs-string">'è¿½åŠ ä»»åŠ¡'</span>,
  <span class="hljs-string">'Append Gateway'</span>: <span class="hljs-string">'è¿½åŠ ç½‘å…³'</span>,
  <span class="hljs-string">'Activate the hand tool'</span>: <span class="hljs-string">'æ¿€æ´»æ‰‹åŠ¨å·¥å…·'</span>,
  <span class="hljs-comment">// ... æ›´å¤šç¿»è¯‘</span>
}
</code></pre>
<h3 data-id="heading-7">2.2 é›†æˆåˆ°Bpmn Modeler</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">CustomTranslate</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils/customTranslate'</span>
<span class="hljs-keyword">import</span> bpmnTranslations <span class="hljs-keyword">from</span> <span class="hljs-string">'@/il8n/bpmn-cn'</span>

<span class="hljs-keyword">const</span> customTranslateModule = {
  <span class="hljs-attr">translate</span>: [<span class="hljs-string">'value'</span>, <span class="hljs-title class_">CustomTranslate</span>(bpmnTranslations)]
}

<span class="hljs-variable language_">this</span>.<span class="hljs-property">bpmnModeler</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BpmnModeler</span>({
  <span class="hljs-comment">// ... å…¶ä»–é…ç½®</span>
  <span class="hljs-attr">additionalModules</span>: [
    propertiesPanelModule,
    propertiesProviderModule,
    customTranslateModule  <span class="hljs-comment">// æ·»åŠ åˆ°è¿™ä¸ªä½ç½®</span>
  ]
})
</code></pre>
<h2 data-id="heading-8">ä¸‰ã€å®ç°è¡¨å•ç»‘å®šåŠŸèƒ½</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b536724a4cfc4f87b7a8ff6eb34f9fc4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5Yac56qB5Zu0Tk8x:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768105930&amp;x-signature=r6M2slexen0o%2F4YEEwSatr5vdXQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/297f8a4a043f425aba63b321e9437645~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5Yac56qB5Zu0Tk8x:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768105930&amp;x-signature=sJVMiPyMeZO%2FsGyVeIwuYzDUtXk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-9">3.1 è¡¨å•é…ç½®å¼¹çª—ç»„ä»¶</h3>
<p>åˆ›å»º<code>SysFormTable</code>ç»„ä»¶ç”¨äºè¡¨å•é€‰æ‹©ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- SysFormTable.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-table</span>
    <span class="hljs-attr">ref</span>=<span class="hljs-string">"formTable"</span>
    <span class="hljs-attr">:data</span>=<span class="hljs-string">"formList"</span>
    @<span class="hljs-attr">selection-change</span>=<span class="hljs-string">"handleSelectionChange"</span>
  &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"selection"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"55"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"formName"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"è¡¨å•åç§°"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"formKey"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"è¡¨å•Key"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">el-table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">getSelectedKey</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> selection = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">formTable</span>.<span class="hljs-property">selection</span>
      <span class="hljs-keyword">return</span> selection.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> ? selection[<span class="hljs-number">0</span>].<span class="hljs-property">formKey</span> : <span class="hljs-string">''</span>
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-10">3.2 å¢å¼ºè¡¨å•Keyè¾“å…¥æ¡†</h3>
<p>é€šè¿‡DOMæ“ä½œå¢å¼ºBpmn.jså±æ€§é¢æ¿ä¸­çš„è¡¨å•è¾“å…¥æ¡†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æŸ¥æ‰¾å¹¶å¢å¼ºè¡¨å•Keyè¾“å…¥æ¡†</span>
<span class="hljs-title function_">enhanceFormKeyInput</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> input = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">findFormKeyInput</span>()
  <span class="hljs-keyword">if</span> (!input) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  
  <span class="hljs-keyword">if</span> (input.<span class="hljs-property">dataset</span>.<span class="hljs-property">enhanced</span> === <span class="hljs-string">'true'</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
  
  <span class="hljs-comment">// æ·»åŠ åŒå‡»äº‹ä»¶</span>
  input.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'dblclick'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
    e.<span class="hljs-title function_">preventDefault</span>()
    e.<span class="hljs-title function_">stopPropagation</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">openFormDialog</span>(input)
  })
  
  input.<span class="hljs-property">title</span> = <span class="hljs-string">'åŒå‡»æ‰“å¼€è¡¨å•é…ç½®å¼¹çª—'</span>
  input.<span class="hljs-property">style</span>.<span class="hljs-property">cursor</span> = <span class="hljs-string">'pointer'</span>
  input.<span class="hljs-property">dataset</span>.<span class="hljs-property">enhanced</span> = <span class="hljs-string">'true'</span>
  
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
}

<span class="hljs-comment">// æŸ¥æ‰¾è¾“å…¥æ¡†çš„å¤šç§ç­–ç•¥</span>
<span class="hljs-title function_">findFormKeyInput</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// æ–¹æ³•1ï¼šé€šè¿‡IDæŸ¥æ‰¾</span>
  <span class="hljs-keyword">const</span> inputById = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'camunda-form-key'</span>)
  <span class="hljs-keyword">if</span> (inputById) <span class="hljs-keyword">return</span> inputById
  
  <span class="hljs-comment">// æ–¹æ³•2ï¼šé€šè¿‡nameå±æ€§æŸ¥æ‰¾</span>
  <span class="hljs-keyword">const</span> inputByName = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'input[name="formKey"]'</span>)
  <span class="hljs-keyword">if</span> (inputByName) <span class="hljs-keyword">return</span> inputByName
  
  <span class="hljs-comment">// æ–¹æ³•3ï¼šé€šè¿‡å±æ€§é€‰æ‹©å™¨æŸ¥æ‰¾</span>
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'input[id*="form-key"], input[id*="formKey"]'</span>)
}
</code></pre>
<h3 data-id="heading-11">3.3 å®ç°è¡¨å•é…ç½®å¼¹çª—</h3>
<p>modeling.updatePropertiesæ˜¯å…³é”®ï¼Œä¿®æ”¹å®Œï¼Œå†™å›xmlä¸­</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">openFormDialog</span>(<span class="hljs-params">input</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentFormInput</span> = input
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">formConfig</span>.<span class="hljs-property">value</span> = input.<span class="hljs-property">value</span> || <span class="hljs-string">''</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">showFormDialog</span> = <span class="hljs-literal">true</span>
}

<span class="hljs-title function_">saveFormConfig</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> selectedKey = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">formTable</span>.<span class="hljs-title function_">getSelectedKey</span>()
  
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedElement</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateFormKeyInBPMN</span>(selectedKey)
  }
  
  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">closeFormDialog</span>()
  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">showStatusMessage</span>(<span class="hljs-string">'è¡¨å•é…ç½®å·²ä¿å­˜'</span>, <span class="hljs-string">'success'</span>)
}

<span class="hljs-title function_">updateFormKeyInBPMN</span>(<span class="hljs-params">formKey</span>) {
  <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedElement</span> || !<span class="hljs-variable language_">this</span>.<span class="hljs-property">bpmnModeler</span>) <span class="hljs-keyword">return</span>
  
  <span class="hljs-keyword">const</span> modeling = <span class="hljs-variable language_">this</span>.<span class="hljs-property">bpmnModeler</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'modeling'</span>)
  modeling.<span class="hljs-title function_">updateProperties</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedElement</span>, {
    <span class="hljs-string">'camunda:formKey'</span>: formKey || <span class="hljs-literal">undefined</span>
  })
}
</code></pre>
<h3 data-id="heading-12">3.4 ç›‘å¬å±æ€§é¢æ¿å˜åŒ–</h3>
<p>ä½¿ç”¨MutationObserverç›‘å¬å±æ€§é¢æ¿å˜åŒ–</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">watchPropertiesPanel</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutationObserver</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// å½“å±æ€§é¢æ¿å†…å®¹å˜åŒ–æ—¶ï¼Œé‡æ–°å¢å¼ºè¡¨å•Keyè¾“å…¥æ¡†</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">enhanceFormKeyInput</span>()
  })
  
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">propertiesPanel</span>) {
    observer.<span class="hljs-title function_">observe</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">propertiesPanel</span>, {
      <span class="hljs-attr">childList</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">subtree</span>: <span class="hljs-literal">true</span>
    })
  }
  
  <span class="hljs-keyword">return</span> observer
}
</code></pre>
<h2 data-id="heading-13">å››ã€å®ç°çŠ¶æ€ç®¡ç†ä¸å¯è§†åŒ–</h2>
<p>æ¯ä¸€ä¸ªæµç¨‹èŠ‚ç‚¹éƒ½æœ‰ä¸åŒçš„çŠ¶æ€ï¼Œéœ€è¦ä¸åŒçš„é¢œè‰²åŒºåˆ†ï¼Œè¿™ä¸ªå’Œåç«¯å¯¹é½å°±è¡Œ</p>
<h3 data-id="heading-14">4.1 å®šä¹‰çŠ¶æ€é…ç½®</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// utils/pointConfig.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">STATUS_CONFIG</span> = {
  <span class="hljs-attr">APPROVED</span>: {
    <span class="hljs-attr">fill</span>: <span class="hljs-string">'#e8f5e9'</span>,
    <span class="hljs-attr">stroke</span>: <span class="hljs-string">'#4caf50'</span>,
    <span class="hljs-attr">strokeWidth</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">strokeDasharray</span>: <span class="hljs-string">'0'</span>
  },
  <span class="hljs-attr">REJECTED</span>: {
    <span class="hljs-attr">fill</span>: <span class="hljs-string">'#ffebee'</span>,
    <span class="hljs-attr">stroke</span>: <span class="hljs-string">'#f44336'</span>,
    <span class="hljs-attr">strokeWidth</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">strokeDasharray</span>: <span class="hljs-string">'5,5'</span>
  },
  <span class="hljs-comment">// ... æ›´å¤šçŠ¶æ€</span>
}
</code></pre>
<h3 data-id="heading-15">4.2 è®¾ç½®å…ƒç´ çŠ¶æ€</h3>
<p>modeling.setColoræ˜¯å…³é”®</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">setElementStatus</span>(<span class="hljs-params">elementId, status, options = {}</span>) {
  <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">bpmnModeler</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  
  <span class="hljs-keyword">const</span> elementRegistry = <span class="hljs-variable language_">this</span>.<span class="hljs-property">bpmnModeler</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'elementRegistry'</span>)
  <span class="hljs-keyword">const</span> modeling = <span class="hljs-variable language_">this</span>.<span class="hljs-property">bpmnModeler</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'modeling'</span>)
  <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">this</span>.<span class="hljs-property">bpmnModeler</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'canvas'</span>)
  
  <span class="hljs-keyword">const</span> element = elementRegistry.<span class="hljs-title function_">get</span>(elementId)
  <span class="hljs-keyword">if</span> (!element) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  
  <span class="hljs-keyword">const</span> statusConfig = <span class="hljs-variable constant_">STATUS_CONFIG</span>[status]
  <span class="hljs-keyword">if</span> (!statusConfig) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  
  <span class="hljs-comment">// è®¾ç½®é¢œè‰²å’Œæ ·å¼</span>
  modeling.<span class="hljs-title function_">setColor</span>(element, {
    <span class="hljs-attr">fill</span>: statusConfig.<span class="hljs-property">fill</span>,
    <span class="hljs-attr">stroke</span>: statusConfig.<span class="hljs-property">stroke</span>,
    <span class="hljs-attr">strokeWidth</span>: statusConfig.<span class="hljs-property">strokeWidth</span>,
    <span class="hljs-attr">strokeDasharray</span>: statusConfig.<span class="hljs-property">strokeDasharray</span>
  })
  
  <span class="hljs-comment">// æ·»åŠ è¯„è®ºè¦†ç›–å±‚</span>
  <span class="hljs-keyword">if</span> (options.<span class="hljs-property">text</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addCommentOverlay</span>(elementId, options)
  }
  
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
}
</code></pre>
<h2 data-id="heading-16">äº”ã€å®ç°é¢„è§ˆæ¨¡å¼</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84d4c9b71e024985a79c272ad93dad71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5Yac56qB5Zu0Tk8x:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768105930&amp;x-signature=XSRVxPES%2BwZrGnvvI2l9rcPNbLU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-17">5.1 æ¨¡å¼åˆ‡æ¢é€»è¾‘</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">togglePreviewMode</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">isPreviewMode</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isPreviewMode</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updatePreviewMode</span>()
  
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isPreviewMode</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">showStatusMessage</span>(<span class="hljs-string">'å·²åˆ‡æ¢åˆ°é¢„è§ˆæ¨¡å¼'</span>, <span class="hljs-string">'info'</span>)
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateElementCount</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fitViewport</span>()
  }
}

<span class="hljs-title function_">updatePreviewMode</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">bpmnModeler</span>) <span class="hljs-keyword">return</span>
  
  <span class="hljs-keyword">const</span> eventBus = <span class="hljs-variable language_">this</span>.<span class="hljs-property">bpmnModeler</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'eventBus'</span>)
  
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isPreviewMode</span>) {
    <span class="hljs-comment">// é¢„è§ˆæ¨¡å¼ï¼šç¦ç”¨ç¼–è¾‘ï¼Œå¯ç”¨æ‚¬åœ</span>
    eventBus.<span class="hljs-title function_">off</span>(<span class="hljs-string">'element.click'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleElementClick</span>)
    eventBus.<span class="hljs-title function_">on</span>(<span class="hljs-string">'element.hover'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleElementHover</span>)
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// ç¼–è¾‘æ¨¡å¼ï¼šå¯ç”¨ç¼–è¾‘</span>
    eventBus.<span class="hljs-title function_">on</span>(<span class="hljs-string">'element.click'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleElementClick</span>)
    eventBus.<span class="hljs-title function_">off</span>(<span class="hljs-string">'element.hover'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleElementHover</span>)
  }
}
</code></pre>
<h3 data-id="heading-18">5.2 é¢„è§ˆä¿¡æ¯å±•ç¤º</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">updateElementCount</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">bpmnModeler</span>) <span class="hljs-keyword">return</span>
  
  <span class="hljs-keyword">const</span> elementRegistry = <span class="hljs-variable language_">this</span>.<span class="hljs-property">bpmnModeler</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'elementRegistry'</span>)
  <span class="hljs-keyword">const</span> elements = elementRegistry.<span class="hljs-title function_">getAll</span>()
  
  <span class="hljs-comment">// è¿‡æ»¤åŸºç¡€å…ƒç´ </span>
  <span class="hljs-keyword">const</span> validElements = elements.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span>
    !el.<span class="hljs-property">type</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'bpmn:Process'</span>) &amp;&amp;
    !el.<span class="hljs-property">type</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'bpmn:Participant'</span>)
  )
  
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">elementCount</span> = validElements.<span class="hljs-property">length</span>
}

<span class="hljs-title function_">getElementInfo</span>(<span class="hljs-params">element</span>) {
  <span class="hljs-keyword">const</span> businessObject = element.<span class="hljs-property">businessObject</span>
  <span class="hljs-keyword">const</span> info = []
  
  <span class="hljs-keyword">if</span> (businessObject.<span class="hljs-property">name</span>) {
    info.<span class="hljs-title function_">push</span>(<span class="hljs-string">`&lt;strong&gt;<span class="hljs-subst">${businessObject.name}</span>&lt;/strong&gt;`</span>)
  }
  
  info.<span class="hljs-title function_">push</span>(<span class="hljs-string">`ç±»å‹: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.getElementTypeName(element.type)}</span>`</span>)
  info.<span class="hljs-title function_">push</span>(<span class="hljs-string">`ID: <span class="hljs-subst">${element.id}</span>`</span>)
  
  <span class="hljs-comment">// æ·»åŠ çŠ¶æ€ä¿¡æ¯</span>
  <span class="hljs-keyword">const</span> status = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getElementStatus</span>(element)
  <span class="hljs-keyword">if</span> (status) {
    info.<span class="hljs-title function_">push</span>(<span class="hljs-string">`çŠ¶æ€: <span class="hljs-subst">${status}</span>`</span>)
  }
  
  <span class="hljs-keyword">return</span> info.<span class="hljs-title function_">join</span>(<span class="hljs-string">'&lt;br&gt;'</span>)
}
</code></pre>
<h2 data-id="heading-19">å…­ã€æ ·å¼ä¼˜åŒ–ä¸è‡ªå®šä¹‰</h2>
<h3 data-id="heading-20">6.1 SCSSæ ·å¼æ–‡ä»¶</h3>
<pre><code class="hljs language-css" lang="css">// <span class="hljs-attribute">flow</span><span class="hljs-selector-class">.scss</span>
<span class="hljs-selector-class">.bpmn-container</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>;
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
  
  &amp;<span class="hljs-selector-class">.preview-mode</span> {
    <span class="hljs-selector-class">.properties-panel</span> {
      <span class="hljs-attribute">display</span>: none;
    }
    
    <span class="hljs-selector-class">.canvas</span> {
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    }
  }
  
  <span class="hljs-selector-class">.toolbar</span> {
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-attribute">background</span>: <span class="hljs-number">#f5f5f5</span>;
    <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">justify-content</span>: space-between;
    <span class="hljs-attribute">align-items</span>: center;
  }
  
  <span class="hljs-selector-class">.canvas-wrapper</span> {
    <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">overflow</span>: hidden;
  }
  
  <span class="hljs-selector-class">.canvas</span> {
    <span class="hljs-attribute">flex</span>: <span class="hljs-number">3</span>;
    <span class="hljs-attribute">position</span>: relative;
  }
  
  <span class="hljs-selector-class">.properties-panel</span> {
    <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">min-width</span>: <span class="hljs-number">250px</span>;
    <span class="hljs-attribute">max-width</span>: <span class="hljs-number">300px</span>;
    <span class="hljs-attribute">border-left</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;
    <span class="hljs-attribute">overflow-y</span>: auto;
  }
}
</code></pre>
<h2 data-id="heading-21">ä¸ƒã€å®ç”¨å·¥å…·å‡½æ•°</h2>
<h3 data-id="heading-22">7.1 å¯¼å‡ºåŠŸèƒ½</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// utils/exportUtils.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">exportXML</span>(<span class="hljs-params">bpmnModeler</span>) {
  <span class="hljs-keyword">const</span> { xml } = <span class="hljs-keyword">await</span> bpmnModeler.<span class="hljs-title function_">saveXML</span>({ <span class="hljs-attr">format</span>: <span class="hljs-literal">true</span> })
  <span class="hljs-keyword">const</span> blob = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Blob</span>([xml], { <span class="hljs-attr">type</span>: <span class="hljs-string">'application/xml'</span> })
  <span class="hljs-keyword">const</span> url = <span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">createObjectURL</span>(blob)
  
  <span class="hljs-keyword">const</span> link = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'a'</span>)
  link.<span class="hljs-property">href</span> = url
  link.<span class="hljs-property">download</span> = <span class="hljs-string">'diagram.bpmn'</span>
  link.<span class="hljs-title function_">click</span>()
  
  <span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">revokeObjectURL</span>(url)
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">exportSVG</span>(<span class="hljs-params">bpmnModeler</span>) {
  <span class="hljs-keyword">const</span> { svg } = <span class="hljs-keyword">await</span> bpmnModeler.<span class="hljs-title function_">saveSVG</span>()
  <span class="hljs-keyword">const</span> blob = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Blob</span>([svg], { <span class="hljs-attr">type</span>: <span class="hljs-string">'image/svg+xml'</span> })
  <span class="hljs-keyword">const</span> url = <span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">createObjectURL</span>(blob)
  
  <span class="hljs-keyword">const</span> link = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'a'</span>)
  link.<span class="hljs-property">href</span> = url
  link.<span class="hljs-property">download</span> = <span class="hljs-string">'diagram.svg'</span>
  link.<span class="hljs-title function_">click</span>()
  
  <span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">revokeObjectURL</span>(url)
}
</code></pre>
<h2 data-id="heading-23">å…«ã€æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-24">8.1 èµ„æºæ¸…ç†</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">beforeDestroy</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// æ¸…ç†Bpmn.jså®ä¾‹</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">bpmnModeler</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bpmnModeler</span>.<span class="hljs-title function_">destroy</span>()
  }
  
  <span class="hljs-comment">// æ¸…ç†è§‚å¯Ÿè€…</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">panelObserver</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">panelObserver</span>.<span class="hljs-title function_">disconnect</span>()
  }
}
</code></pre>
<h3 data-id="heading-25">8.2 å»¶è¿ŸåŠ è½½ä¼˜åŒ–</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">initFormEnhancement</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// å»¶è¿Ÿæ‰§è¡Œï¼Œç¡®ä¿DOMå·²æ¸²æŸ“</span>
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">panelObserver</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">watchPropertiesPanel</span>()
    
    <span class="hljs-comment">// 30ç§’ååœæ­¢ç›‘å¬ï¼Œé¿å…å†…å­˜æ³„æ¼</span>
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">panelObserver</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">panelObserver</span>.<span class="hljs-title function_">disconnect</span>()
      }
    }, <span class="hljs-number">30000</span>)
  }, <span class="hljs-number">2000</span>)
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter é¡¹ç›®å¯åŠ¨å…¨æµç¨‹è¯¦è§£]]></title>    <link>https://juejin.cn/post/7591177139661291574</link>    <guid>https://juejin.cn/post/7591177139661291574</guid>    <pubDate>2026-01-04T05:18:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591177139661291574" data-draft-id="7590724064520912959" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter é¡¹ç›®å¯åŠ¨å…¨æµç¨‹è¯¦è§£"/> <meta itemprop="keywords" content="Flutter,iOS,Android"/> <meta itemprop="datePublished" content="2026-01-04T05:18:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¦–æªé“¶å¼¹"/> <meta itemprop="url" content="https://juejin.cn/user/3210229685182119"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter é¡¹ç›®å¯åŠ¨å…¨æµç¨‹è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3210229685182119/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¦–æªé“¶å¼¹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T05:18:00.000Z" title="Sun Jan 04 2026 05:18:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Flutter é¡¹ç›®å¯åŠ¨å…¨æµç¨‹è¯¦è§£</h2>
<p>ä½œä¸ºèµ„æ·± Flutter æ¶æ„å¸ˆï¼Œæˆ‘ä¼šä»<strong>åˆ†å±‚è§†è§’</strong>ï¼ˆåŸç”Ÿå±‚ â†’ Flutter å¼•æ“å±‚ â†’ Dart è¿è¡Œæ—¶å±‚ â†’ App ä¸šåŠ¡å±‚ï¼‰ä¸ºä½ æ‹†è§£ Flutter é¡¹ç›®å¯åŠ¨çš„å®Œæ•´æµç¨‹ï¼Œæ¶µç›–æ ¸å¿ƒæ­¥éª¤ã€å…³é”®æœºåˆ¶å’Œåº•å±‚ç»†èŠ‚ï¼Œå¸®ä½ å…¨é¢æŒæ¡å¯åŠ¨åŸç†ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ ç¬¬ä¸€é˜¶æ®µï¼šåŸç”Ÿå¹³å°åˆå§‹åŒ–ï¼ˆNative Bootstrappingï¼‰</h3>
<p>Flutter æ˜¯è·¨å¹³å°æ¡†æ¶ï¼Œæœ€ç»ˆä¼šæ‰“åŒ…ä¸º iOS/Android åŸç”Ÿåº”ç”¨ï¼Œå¯åŠ¨æµç¨‹é¦–å…ˆä»<strong>åŸç”Ÿå¹³å°ä¾§</strong>å¼€å§‹ï¼Œè¿™æ˜¯ Flutter å¯åŠ¨çš„å…¥å£ã€‚</p>
<h4 data-id="heading-2">1. Android å¹³å°å¯åŠ¨æµç¨‹</h4>
<ul>
<li>æ ¸å¿ƒå…¥å£ï¼š<code>FlutterActivity</code>ï¼ˆæˆ– <code>FlutterFragment</code>ï¼Œå¯¹åº” Fragment åµŒå…¥åœºæ™¯ï¼‰</li>
<li>å…³é”®æ­¥éª¤ï¼š
<ol>
<li><code>FlutterActivity</code> åˆå§‹åŒ–ï¼šç»§æ‰¿è‡ª <code>AppCompatActivity</code>ï¼Œå¯åŠ¨æ—¶å…ˆæ‰§è¡ŒåŸç”Ÿ Android çš„ <code>onCreate()</code> ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚</li>
<li>åŠ è½½ Flutter å¼•æ“ä¾èµ–ï¼šåˆå§‹åŒ– <code>FlutterEngine</code> ç›¸å…³é…ç½®ï¼ˆå¦‚ Dart å…¥å£è·¯å¾„ã€åˆå§‹åŒ–å‚æ•°ï¼‰ï¼Œè‹¥ä½¿ç”¨<strong>é¢„åŠ è½½å¼•æ“</strong>ï¼ˆæå‰åˆå§‹åŒ–ä¼˜åŒ–å¯åŠ¨é€Ÿåº¦ï¼‰ï¼Œä¼šç›´æ¥è·å–é¢„åˆ›å»ºçš„ <code>FlutterEngine</code> å®ä¾‹ï¼›è‹¥æœªé¢„åŠ è½½ï¼Œåˆ™ç°åœºåˆ›å»º <code>FlutterEngine</code>ã€‚</li>
<li>é…ç½® <code>FlutterView</code>ï¼šåˆ›å»ºç”¨äºæ‰¿è½½ Flutter UI çš„åŸç”Ÿ Viewï¼ˆ<code>FlutterView</code>ï¼‰ï¼Œå¹¶å°†å…¶æŒ‚è½½åˆ° Android å¸ƒå±€å±‚çº§ä¸­ï¼Œä½œä¸º Flutter æ¸²æŸ“å†…å®¹çš„æ˜¾ç¤ºè½½ä½“ã€‚</li>
<li>å¯åŠ¨å¼•æ“æ¡¥æ¥ï¼šé€šè¿‡ <code>FlutterNativeView</code> å»ºç«‹åŸç”Ÿ Android ä¸ Flutter å¼•æ“çš„é€šä¿¡é€šé“ï¼Œä¼ é€’åˆå§‹åŒ–å‚æ•°ï¼ˆå¦‚å±å¹•å°ºå¯¸ã€ç³»ç»Ÿä¸»é¢˜ã€åŸç”Ÿå¹³å°ä¿¡æ¯ç­‰ï¼‰ã€‚</li>
</ol>
</li>
</ul>
<h4 data-id="heading-3">2. iOS å¹³å°å¯åŠ¨æµç¨‹</h4>
<ul>
<li>æ ¸å¿ƒå…¥å£ï¼š<code>FlutterViewController</code>ï¼ˆå¯¹åº” iOS çš„è§†å›¾æ§åˆ¶å™¨ï¼‰</li>
<li>å…³é”®æ­¥éª¤ï¼š
<ol>
<li><code>FlutterViewController</code> åˆå§‹åŒ–ï¼šæ‰§è¡Œ iOS åŸç”Ÿçš„ <code>initWithNibName:bundle:</code> æˆ– <code>init</code> æ–¹æ³•ï¼Œå®Œæˆæ§åˆ¶å™¨è‡ªèº«åˆå§‹åŒ–ã€‚</li>
<li>Flutter å¼•æ“åˆå§‹åŒ–ï¼šåˆ›å»º <code>FlutterEngine</code> å®ä¾‹ï¼ˆåŒæ ·æ”¯æŒé¢„åŠ è½½ä¼˜åŒ–ï¼‰ï¼Œé…ç½® Dart æ‰§è¡Œç¯å¢ƒå‚æ•°ã€‚</li>
<li>ç»‘å®šè§†å›¾è½½ä½“ï¼š<code>FlutterViewController</code> çš„è§†å›¾ï¼ˆ<code>view</code> å±æ€§ï¼‰æœ¬è´¨æ˜¯ <code>FlutterView</code>ï¼Œç”¨äºæ¸²æŸ“ Flutter UIï¼Œå®Œæˆè§†å›¾å±‚çº§æŒ‚è½½ã€‚</li>
<li>å»ºç«‹é€šä¿¡é€šé“ï¼šé€šè¿‡ <code>FlutterMethodChannel</code>/<code>FlutterEventChannel</code> çš„åº•å±‚åˆå§‹åŒ–ï¼Œå®Œæˆ iOS åŸç”Ÿä¸ Flutter å¼•æ“çš„åŒå‘é€šä¿¡å‡†å¤‡ã€‚</li>
</ol>
</li>
</ul>
<h4 data-id="heading-4">æ ¸å¿ƒä½œç”¨</h4>
<ul>
<li>æä¾› Flutter è¿è¡Œçš„<strong>åŸç”Ÿå®¹å™¨ç¯å¢ƒ</strong>ï¼ˆActivity/ViewController + Viewï¼‰ï¼›</li>
<li>åˆå§‹åŒ– Flutter å¼•æ“çš„åŸç”Ÿä¾èµ–ï¼Œå»ºç«‹è·¨å¹³å°é€šä¿¡çš„åŸºç¡€é€šé“ï¼›</li>
<li>ä¼ é€’ç³»ç»Ÿçº§å‚æ•°ï¼ˆå¦‚è®¾å¤‡ä¿¡æ¯ã€å±å¹•å‚æ•°ï¼‰ï¼Œä¸º Flutter åç»­åˆå§‹åŒ–æä¾›ä¸Šä¸‹æ–‡ã€‚</li>
</ul>
<h3 data-id="heading-5">äºŒã€ ç¬¬äºŒé˜¶æ®µï¼šFlutter å¼•æ“åˆå§‹åŒ–ï¼ˆEngine Initializationï¼‰</h3>
<p>Flutter å¼•æ“ï¼ˆC/C++ å®ç°ï¼Œæ ¸å¿ƒæ˜¯ Skia æ¸²æŸ“å¼•æ“ã€Dart è™šæ‹Ÿæœºã€æ’ç‰ˆå¼•æ“ç­‰ï¼‰æ˜¯ Flutter çš„æ ¸å¿ƒè¿è¡Œæ—¶ï¼ŒåŸç”Ÿå¹³å°åˆå§‹åŒ–å®Œæˆåï¼Œä¼šè§¦å‘ Flutter å¼•æ“çš„å¯åŠ¨ä¸åˆå§‹åŒ–ã€‚</p>
<h4 data-id="heading-6">1.  å¼•æ“æ ¸å¿ƒç»„ä»¶åˆå§‹åŒ–</h4>
<p>Flutter å¼•æ“åˆå§‹åŒ–æ˜¯<strong>å¤šç»„ä»¶ååŒå¯åŠ¨</strong>çš„è¿‡ç¨‹ï¼Œæ ¸å¿ƒç»„ä»¶åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>Skia æ¸²æŸ“å¼•æ“</strong>ï¼šåˆå§‹åŒ– 2D å›¾å½¢æ¸²æŸ“ä¸Šä¸‹æ–‡ï¼Œç»‘å®šåŸç”Ÿå¹³å°çš„æ¸²æŸ“è¡¨é¢ï¼ˆAndroid çš„ Surfaceã€iOS çš„ CALayerï¼‰ï¼Œé…ç½®æŠ—é”¯é½¿ã€æ¸²æŸ“ç²¾åº¦ç­‰å‚æ•°ï¼Œä¸ºåç»­ UI æ¸²æŸ“æä¾›åº•å±‚æ”¯æŒã€‚</li>
<li><strong>Dart è™šæ‹Ÿæœºï¼ˆVMï¼‰</strong>ï¼šåˆå§‹åŒ– Dart è¿è¡Œæ—¶ç¯å¢ƒï¼ŒåŒ…æ‹¬å†…å­˜ç®¡ç†ï¼ˆå †å†…å­˜åˆ†é…ã€åƒåœ¾å›æ”¶æœºåˆ¶åˆå§‹åŒ–ï¼‰ã€æŒ‡ä»¤è§£æå™¨ï¼ˆJIT/AOT æ¨¡å¼åˆ‡æ¢ï¼Œç§»åŠ¨ç«¯é»˜è®¤ AOT ç¼–è¯‘æ¨¡å¼ï¼Œè°ƒè¯•æ¨¡å¼ JITï¼‰ã€‚</li>
<li><strong>æ’ç‰ˆå¼•æ“ï¼ˆLayout Engineï¼‰</strong>ï¼šåˆå§‹åŒ– Flutter ä¸“å±çš„æ’ç‰ˆè§„åˆ™ï¼ˆå¦‚ Flex å¸ƒå±€ã€Text æ’ç‰ˆï¼‰ï¼ŒåŠ è½½ç³»ç»Ÿé»˜è®¤å­—ä½“ã€è‡ªå®šä¹‰å­—ä½“é…ç½®ï¼Œå»ºç«‹æ’ç‰ˆè®¡ç®—çš„ä¸Šä¸‹æ–‡ç¯å¢ƒã€‚</li>
<li><strong>äº‹ä»¶åˆ†å‘ç³»ç»Ÿ</strong>ï¼šåˆå§‹åŒ–è§¦æ‘¸äº‹ä»¶ã€é”®ç›˜äº‹ä»¶ã€ç”Ÿå‘½å‘¨æœŸäº‹ä»¶çš„åˆ†å‘é€šé“ï¼Œç¡®ä¿åŸç”Ÿäº‹ä»¶èƒ½ä¼ é€’åˆ° Flutter å±‚ã€‚</li>
</ul>
<h4 data-id="heading-7">2.  å¼•æ“ä¸åŸç”Ÿå¹³å°çš„ç»‘å®š</h4>
<ul>
<li>æ¸²æŸ“ç»‘å®šï¼šå°† Skia æ¸²æŸ“å¼•æ“ä¸åŸç”Ÿ <code>FlutterView</code> çš„æ¸²æŸ“ç¼“å†²åŒºç»‘å®šï¼Œç¡®ä¿ Flutter ç»˜åˆ¶çš„å†…å®¹èƒ½æ˜¾ç¤ºåœ¨åŸç”Ÿè§†å›¾ä¸Šã€‚</li>
<li>çº¿ç¨‹ç»‘å®šï¼šFlutter å¼•æ“å¯åŠ¨åä¼šåˆ›å»º<strong>4ä¸ªæ ¸å¿ƒçº¿ç¨‹</strong>ï¼Œå¹¶ä¸åŸç”Ÿå¹³å°çº¿ç¨‹å»ºç«‹æ˜ å°„ï¼š
<ol>
<li>UI çº¿ç¨‹ï¼ˆPlatform Threadï¼‰ï¼šå¯¹åº”åŸç”Ÿä¸»çº¿ç¨‹ï¼Œå¤„ç† Flutter ç»„ä»¶æ„å»ºã€å¸ƒå±€è®¡ç®—ã€çŠ¶æ€æ›´æ–°ã€‚</li>
<li>æ¸²æŸ“çº¿ç¨‹ï¼ˆRender Threadï¼‰ï¼šç‹¬ç«‹çº¿ç¨‹ï¼Œå¤„ç†ç»˜åˆ¶å‘½ä»¤ç”Ÿæˆã€å›¾å±‚åˆæˆï¼Œæœ€ç»ˆå°†åˆæˆç»“æœæäº¤ç»™ Skia æ¸²æŸ“ã€‚</li>
<li>I/O çº¿ç¨‹ï¼ˆI/O Threadï¼‰ï¼šå¤„ç†å¼‚æ­¥ä»»åŠ¡ï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶è¯»å†™ã€å›¾ç‰‡è§£ç ï¼‰ï¼Œé¿å…é˜»å¡ UI çº¿ç¨‹å’Œæ¸²æŸ“çº¿ç¨‹ã€‚</li>
<li>Dart è™šæ‹Ÿæœºçº¿ç¨‹ï¼šæ‰§è¡Œ Dart ä»£ç é€»è¾‘ï¼Œä¸ UI çº¿ç¨‹ååŒå·¥ä½œï¼ˆè°ƒè¯•æ¨¡å¼ä¸‹ç‹¬ç«‹ï¼ŒRelease æ¨¡å¼ä¸‹ä¸ UI çº¿ç¨‹åˆå¹¶ä¼˜åŒ–ï¼‰ã€‚</li>
</ol>
</li>
</ul>
<h3 data-id="heading-8">ä¸‰ã€ ç¬¬ä¸‰é˜¶æ®µï¼šDart è¿è¡Œæ—¶åˆå§‹åŒ–ï¼ˆDart Runtime Setupï¼‰</h3>
<p>Flutter å¼•æ“åˆå§‹åŒ–å®Œæˆåï¼Œä¼šå¯åŠ¨ Dart è™šæ‹Ÿæœºï¼Œå¹¶æ‰§è¡Œ Dart ä»£ç çš„åˆå§‹åŒ–æµç¨‹ï¼Œè¿™æ˜¯ Flutter ä¸šåŠ¡é€»è¾‘çš„å…¥å£ã€‚</p>
<h4 data-id="heading-9">1.  åŠ è½½å¹¶æ‰§è¡Œ Dart æ ¹éš”ç¦»åŒºï¼ˆRoot Isolateï¼‰</h4>
<ul>
<li>Isolate æ˜¯ Dart çš„<strong>è½»é‡çº§çº¿ç¨‹</strong>ï¼ˆæ— å…±äº«å†…å­˜ï¼Œé€šè¿‡æ¶ˆæ¯ä¼ é€’é€šä¿¡ï¼‰ï¼ŒFlutter å¯åŠ¨æ—¶é¦–å…ˆåˆ›å»º<strong>æ ¹ Isolate</strong>ï¼ˆä¸» Isolateï¼‰ï¼Œä½œä¸º Dart ä»£ç çš„æ‰§è¡Œå…¥å£ã€‚</li>
<li>æ ¸å¿ƒæ“ä½œï¼š
<ol>
<li>åŠ è½½ AOT ç¼–è¯‘äº§ç‰©ï¼ˆRelease æ¨¡å¼ï¼‰ï¼šç§»åŠ¨ç«¯ Flutter é¡¹ç›®æ‰“åŒ…åä¼šç”Ÿæˆ <code>.so</code>ï¼ˆAndroidï¼‰/ <code>App.framework</code>ï¼ˆiOSï¼‰æ ¼å¼çš„ AOT ç¼–è¯‘äº§ç‰©ï¼ŒDart è™šæ‹Ÿæœºç›´æ¥åŠ è½½å¹¶æ‰§è¡Œè¯¥äº§ç‰©ï¼Œæ— éœ€å³æ—¶ç¼–è¯‘ï¼Œå¯åŠ¨é€Ÿåº¦æ›´å¿«ã€‚</li>
<li>åŠ è½½ JIT å¿«ç…§ï¼ˆDebug æ¨¡å¼ï¼‰ï¼šè°ƒè¯•æ¨¡å¼ä¸‹ï¼ŒFlutter ä¼šç”Ÿæˆ Dart ä»£ç çš„ JIT å¿«ç…§ï¼ŒDart è™šæ‹ŸæœºåŠ è½½å¿«ç…§åå¯åŠ¨ï¼Œæ”¯æŒçƒ­é‡è½½ï¼ˆHot Reloadï¼‰åŠŸèƒ½ã€‚</li>
</ol>
</li>
</ul>
<h4 data-id="heading-10">2.  æ‰§è¡Œ <code>main()</code> å‡½æ•°ï¼ˆDart å…¥å£ï¼‰</h4>
<ul>
<li>æ ¹ Isolate åˆå§‹åŒ–å®Œæˆåï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œ Dart é¡¹ç›®çš„ <code>main()</code> å‡½æ•°ï¼Œè¿™æ˜¯ Flutter ä¸šåŠ¡ä»£ç çš„ç¬¬ä¸€ä¸ªå…¥å£æ–¹æ³•ï¼Œå…¸å‹ä»£ç å¦‚ä¸‹ï¼š</li>
</ul>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">void</span> main() {
  <span class="hljs-comment">// å¯é€‰ï¼šåˆå§‹åŒ–å…¨å±€é…ç½®ï¼ˆå¦‚ç½‘ç»œæ‹¦æˆªå™¨ã€æ—¥å¿—å·¥å…·ã€ä¾èµ–æ³¨å…¥ï¼‰</span>
  WidgetsFlutterBinding.ensureInitialized(); <span class="hljs-comment">// å…³é”®ï¼šåˆå§‹åŒ– Flutter æ ¸å¿ƒç»‘å®š</span>
  runApp(<span class="hljs-keyword">const</span> MyApp()); <span class="hljs-comment">// å¯åŠ¨ Flutter åº”ç”¨</span>
}
</code></pre>
<ul>
<li>å…³é”®è¯´æ˜ï¼š<code>WidgetsFlutterBinding.ensureInitialized()</code> æ˜¯ Flutter æ ¸å¿ƒç»‘å®šåˆå§‹åŒ–æ–¹æ³•ï¼Œè‹¥çœç•¥ï¼Œ<code>runApp()</code> å†…éƒ¨ä¼šè‡ªåŠ¨è°ƒç”¨ï¼Œå…¶ä½œç”¨æ˜¯åˆå§‹åŒ– Flutter æ¡†æ¶çš„æ ¸å¿ƒæœåŠ¡ï¼ˆå¦‚æ¸²æŸ“ç»‘å®šã€æ‰‹åŠ¿ç»‘å®šã€ç”Ÿå‘½å‘¨æœŸç»‘å®šç­‰ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-11">å››ã€ ç¬¬å››é˜¶æ®µï¼šFlutter æ¡†æ¶åˆå§‹åŒ–ä¸ UI æ¸²æŸ“ï¼ˆFramework &amp; UI Renderingï¼‰</h3>
<p><code>main()</code> å‡½æ•°ä¸­è°ƒç”¨ <code>runApp()</code> åï¼Œè¿›å…¥ Flutter æ¡†æ¶åˆå§‹åŒ–å’Œ UI é¦–æ¬¡æ¸²æŸ“æµç¨‹ï¼Œè¿™æ˜¯ Flutter UI æ˜¾ç¤ºçš„æ ¸å¿ƒæ­¥éª¤ã€‚</p>
<h4 data-id="heading-12">1.  Flutter æ¡†æ¶æ ¸å¿ƒç»‘å®šåˆå§‹åŒ–</h4>
<p><code>WidgetsFlutterBinding</code> æ˜¯ Flutter æ¡†æ¶çš„æ ¸å¿ƒç»‘å®šç±»ï¼Œå®ƒæ•´åˆäº† 7 å¤§æ ¸å¿ƒç»‘å®šï¼Œç¡®ä¿ Flutter æ¡†æ¶æ­£å¸¸å·¥ä½œï¼š</p>
<ul>
<li><code>GestureBinding</code>ï¼šæ‰‹åŠ¿è¯†åˆ«ä¸äº‹ä»¶åˆ†å‘ç»‘å®šã€‚</li>
<li><code>ServicesBinding</code>ï¼šå¹³å°æ¶ˆæ¯é€šä¿¡ç»‘å®šï¼ˆå¦‚ MethodChannel é€šä¿¡ï¼‰ã€‚</li>
<li><code>SchedulerBinding</code>ï¼šä»»åŠ¡è°ƒåº¦ä¸å¸§å›è°ƒç»‘å®šï¼ˆæ§åˆ¶ UI åˆ·æ–°å¸§ç‡ï¼Œé»˜è®¤ 60fpsï¼‰ã€‚</li>
<li><code>PaintingBinding</code>ï¼šç»˜åˆ¶ç›¸å…³ç»‘å®šï¼ˆå¦‚å›¾ç‰‡ç¼“å­˜ã€å­—ä½“åŠ è½½ï¼‰ã€‚</li>
<li><code>SemanticsBinding</code>ï¼šè¯­ä¹‰åŒ–ç»‘å®šï¼ˆæ”¯æŒæ— éšœç¢è®¿é—®ï¼‰ã€‚</li>
<li><code>RenderBinding</code>ï¼šæ¸²æŸ“ç®¡çº¿ç»‘å®šï¼ˆå¸ƒå±€ã€ç»˜åˆ¶ã€åˆæˆï¼‰ã€‚</li>
<li><code>WidgetsBinding</code>ï¼šç»„ä»¶æ¡†æ¶ç»‘å®šï¼ˆç»„ä»¶æ„å»ºã€çŠ¶æ€ç®¡ç†ã€è·¯ç”±ç®¡ç†ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-13">2.  æ‰§è¡Œ <code>runApp(Widget app)</code> æ ¸å¿ƒé€»è¾‘</h4>
<p><code>runApp()</code> æ˜¯ Flutter UI å¯åŠ¨çš„å…³é”®æ–¹æ³•ï¼Œæ ¸å¿ƒæ“ä½œå¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>æŒ‚è½½æ ¹ç»„ä»¶</strong>ï¼šå°†ä¼ å…¥çš„æ ¹ Widgetï¼ˆå¦‚ <code>MyApp</code>ï¼‰è®¾ç½®ä¸º Flutter æ¡†æ¶çš„æ ¹ç»„ä»¶ï¼ˆ<code>rootWidget</code>ï¼‰ï¼Œå»ºç«‹ç»„ä»¶æ ‘çš„é¡¶å±‚èŠ‚ç‚¹ã€‚</li>
<li><strong>è§¦å‘é¦–æ¬¡å¸§è°ƒåº¦</strong>ï¼šé€šè¿‡ <code>SchedulerBinding</code> å‘ Flutter å¼•æ“å‘é€ã€Œé¦–æ¬¡ç»˜åˆ¶å¸§ã€çš„è°ƒåº¦è¯·æ±‚ï¼Œå¼•æ“æ¥æ”¶åˆ°è¯·æ±‚åï¼Œå¯åŠ¨ UI çº¿ç¨‹çš„å¸ƒå±€ä¸ç»˜åˆ¶æµç¨‹ã€‚</li>
</ol>
<h4 data-id="heading-14">3.  é¦–æ¬¡ UI æ¸²æŸ“ç®¡çº¿ï¼ˆLayout &amp; Paintï¼‰</h4>
<p>Flutter é¦–æ¬¡æ¸²æŸ“éµå¾ªã€Œ<strong>æ„å»º â†’ å¸ƒå±€ â†’ ç»˜åˆ¶ â†’ åˆæˆ â†’ æ¸²æŸ“</strong>ã€çš„æµæ°´çº¿ï¼š</p>
<ol>
<li><strong>æ„å»ºï¼ˆBuildï¼‰</strong>ï¼šUI çº¿ç¨‹éå†ç»„ä»¶æ ‘ï¼ˆä»æ ¹ Widget <code>MyApp</code> å¼€å§‹ï¼‰ï¼Œæ‰§è¡Œæ¯ä¸ª Widget çš„ <code>build()</code> æ–¹æ³•ï¼Œç”Ÿæˆã€Œå…ƒç´ æ ‘ï¼ˆElement Treeï¼‰ã€ï¼ˆWidget æ˜¯é…ç½®æ¨¡æ¿ï¼ŒElement æ˜¯å®é™…æ¸²æŸ“å®ä¾‹ï¼‰ã€‚</li>
<li><strong>å¸ƒå±€ï¼ˆLayoutï¼‰</strong>ï¼šåŸºäºå…ƒç´ æ ‘ï¼ŒRender å±‚ï¼ˆ<code>RenderObject</code>ï¼‰æ‰§è¡Œå¸ƒå±€è®¡ç®—ï¼Œç¡®å®šæ¯ä¸ªç»„ä»¶çš„å¤§å°ã€ä½ç½®ï¼ˆå¦‚ <code>RenderFlex</code> å¤„ç† Flex å¸ƒå±€ï¼Œ<code>RenderText</code> å¤„ç†æ–‡æœ¬æ’ç‰ˆï¼‰ï¼Œç”Ÿæˆã€Œå¸ƒå±€æ ‘ï¼ˆLayout Treeï¼‰ã€ã€‚</li>
<li><strong>ç»˜åˆ¶ï¼ˆPaintï¼‰</strong>ï¼šRender å±‚æ ¹æ®å¸ƒå±€ç»“æœï¼Œç”Ÿæˆæ¯ä¸ªç»„ä»¶çš„ç»˜åˆ¶å‘½ä»¤ï¼ˆå¦‚ç»˜åˆ¶çŸ©å½¢ã€æ–‡æœ¬ã€å›¾ç‰‡ï¼‰ï¼Œç”Ÿæˆã€Œç»˜åˆ¶æ ‘ï¼ˆPaint Treeï¼‰ã€ã€‚</li>
<li><strong>åˆæˆï¼ˆCompositingï¼‰</strong>ï¼šæ¸²æŸ“çº¿ç¨‹å°†ç»˜åˆ¶å‘½ä»¤æŒ‰ã€Œå›¾å±‚ï¼ˆLayerï¼‰ã€è¿›è¡Œåˆ†å±‚åˆæˆï¼ˆå¦‚é€æ˜ç»„ä»¶ã€æ»šåŠ¨ç»„ä»¶ä¼šå•ç‹¬åˆ†å±‚ï¼‰ï¼Œç”Ÿæˆã€Œå›¾å±‚æ ‘ï¼ˆLayer Treeï¼‰ã€ï¼Œä¼˜åŒ–æ¸²æŸ“æ€§èƒ½ã€‚</li>
<li><strong>æ¸²æŸ“ï¼ˆRenderï¼‰</strong>ï¼šæ¸²æŸ“çº¿ç¨‹å°†åˆæˆåçš„å›¾å±‚æ ‘æäº¤ç»™ Skia æ¸²æŸ“å¼•æ“ï¼ŒSkia å°†å›¾å±‚ç»˜åˆ¶åˆ°åŸç”Ÿ <code>FlutterView</code> çš„æ¸²æŸ“ç¼“å†²åŒºï¼Œæœ€ç»ˆåœ¨å±å¹•ä¸Šæ˜¾ç¤º Flutter UIã€‚</li>
</ol>
<h4 data-id="heading-15">4.  å¯åŠ¨å®Œæˆï¼šè§¦å‘ <code>onFirstFrame</code> å›è°ƒ</h4>
<p>å½“ Flutter é¦–æ¬¡å¸§æ¸²æŸ“å®Œæˆåï¼Œä¼šè§¦å‘ <code>WidgetsBinding</code> çš„ <code>onFirstFrame</code> å›è°ƒï¼ˆå¯ç›‘å¬è¯¥å›è°ƒç»Ÿè®¡å¯åŠ¨è€—æ—¶ï¼‰ï¼Œæ­¤æ—¶ç”¨æˆ·å¯ä»¥çœ‹åˆ° Flutter åº”ç”¨çš„é¦–å± UIï¼Œæ ‡å¿—ç€ Flutter é¡¹ç›®å¯åŠ¨æµç¨‹å…¨éƒ¨å®Œæˆã€‚</p>
<h3 data-id="heading-16">äº”ã€ è¡¥å……ï¼šå¯åŠ¨æ¨¡å¼å·®å¼‚ï¼ˆDebug vs Releaseï¼‰</h3>
<p>Flutter è°ƒè¯•æ¨¡å¼ï¼ˆDebugï¼‰å’Œå‘å¸ƒæ¨¡å¼ï¼ˆReleaseï¼‰çš„å¯åŠ¨æµç¨‹å­˜åœ¨æ ¸å¿ƒå·®å¼‚ï¼Œç›´æ¥å½±å“å¯åŠ¨é€Ÿåº¦ï¼š</p>



































<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>Debug æ¨¡å¼</th><th>Release æ¨¡å¼</th></tr></thead><tbody><tr><td>Dart æ‰§è¡Œæ¨¡å¼</td><td>JITï¼ˆå³æ—¶ç¼–è¯‘ï¼‰</td><td>AOTï¼ˆæå‰ç¼–è¯‘ï¼‰</td></tr><tr><td>äº§ç‰©åŠ è½½</td><td>åŠ è½½ Dart å¿«ç…§ï¼Œæ”¯æŒçƒ­é‡è½½</td><td>åŠ è½½ AOT ç¼–è¯‘äº§ç‰©ï¼ˆ.so/Frameworkï¼‰ï¼Œç›´æ¥æ‰§è¡Œ</td></tr><tr><td>å¼•æ“ä¼˜åŒ–</td><td>å…³é—­éƒ¨åˆ†æ¸²æŸ“ä¼˜åŒ–ã€çº¿ç¨‹ä¼˜åŒ–</td><td>å¼€å¯å…¨é‡ä¼˜åŒ–ï¼ˆçº¿ç¨‹åˆå¹¶ã€ç»˜åˆ¶ä¼˜åŒ–ã€å†…å­˜ä¼˜åŒ–ï¼‰</td></tr><tr><td>å¯åŠ¨é€Ÿåº¦</td><td>è¾ƒæ…¢ï¼ˆJIT åˆå§‹åŒ– + å¿«ç…§åŠ è½½ï¼‰</td><td>è¾ƒå¿«ï¼ˆAOT äº§ç‰©ç›´æ¥æ‰§è¡Œï¼Œæ— ç¼–è¯‘å¼€é”€ï¼‰</td></tr><tr><td>é¢å¤–åŠŸèƒ½</td><td>æ”¯æŒ Hot Reloadã€DevTools è°ƒè¯•</td><td>æ— è°ƒè¯•åŠŸèƒ½ï¼Œä½“ç§¯æ›´å°ã€æ€§èƒ½æ›´ä¼˜</td></tr></tbody></table>
<h3 data-id="heading-17">æ€»ç»“</h3>
<p>Flutter é¡¹ç›®å¯åŠ¨æ˜¯ä¸€ä¸ª<strong>è·¨å¹³å°ã€åˆ†å±‚çº§ã€å¤šçº¿ç¨‹ååŒ</strong>çš„å¤æ‚æµç¨‹ï¼Œæ ¸å¿ƒæ­¥éª¤å¯æ¦‚æ‹¬ä¸º 4 ä¸ªå…³é”®é˜¶æ®µï¼š</p>
<ol>
<li><strong>åŸç”Ÿå¹³å°åˆå§‹åŒ–</strong>ï¼šæä¾›å®¹å™¨ï¼ˆActivity/ViewControllerï¼‰å’Œè§†å›¾è½½ä½“ï¼ˆFlutterViewï¼‰ï¼Œåˆå§‹åŒ–å¼•æ“ä¾èµ–ï¼›</li>
<li><strong>Flutter å¼•æ“åˆå§‹åŒ–</strong>ï¼šå¯åŠ¨ Skia æ¸²æŸ“ã€Dart è™šæ‹Ÿæœºç­‰æ ¸å¿ƒç»„ä»¶ï¼Œåˆ›å»º 4 ä¸ªæ ¸å¿ƒçº¿ç¨‹ï¼Œå®Œæˆä¸åŸç”Ÿçš„ç»‘å®šï¼›</li>
<li><strong>Dart è¿è¡Œæ—¶åˆå§‹åŒ–</strong>ï¼šåˆ›å»ºæ ¹ Isolateï¼ŒåŠ è½½ Dart ç¼–è¯‘äº§ç‰©ï¼Œæ‰§è¡Œ <code>main()</code> å‡½æ•°ï¼›</li>
<li><strong>Flutter æ¡†æ¶ä¸ UI æ¸²æŸ“</strong>ï¼šåˆå§‹åŒ–æ¡†æ¶ç»‘å®šï¼Œæ‰§è¡Œ <code>runApp()</code>ï¼Œé€šè¿‡ã€Œæ„å»º-å¸ƒå±€-ç»˜åˆ¶-åˆæˆ-æ¸²æŸ“ã€ç®¡çº¿å®Œæˆé¦–å±æ˜¾ç¤ºã€‚</li>
</ol>
<p>ç†è§£è¯¥æµç¨‹æœ‰åŠ©äºä½ ä¼˜åŒ– Flutter é¡¹ç›®å¯åŠ¨é€Ÿåº¦ï¼ˆå¦‚é¢„åŠ è½½ Flutter å¼•æ“ã€å»¶è¿Ÿåˆå§‹åŒ–éæ ¸å¿ƒä¸šåŠ¡ã€ä¼˜åŒ–é¦–å± Widget æ„å»ºï¼‰ï¼Œä»¥åŠæ’æŸ¥å¯åŠ¨é˜¶æ®µçš„è·¨å¹³å°å…¼å®¹é—®é¢˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜¿é‡Œå¼€æºAgentScopeå¤šæ™ºèƒ½ä½“æ¡†æ¶è§£æç³»åˆ—ï¼ˆåå…«ï¼‰ç¬¬18ç« ï¼šä¼ä¸šSkillç³»ç»Ÿå®æˆ˜ - ç”¨æˆ·è¡Œä¸ºæ·±åº¦åˆ†æ]]></title>    <link>https://juejin.cn/post/7590776324164239360</link>    <guid>https://juejin.cn/post/7590776324164239360</guid>    <pubDate>2026-01-04T04:03:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590776324164239360" data-draft-id="7590776324164222976" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜¿é‡Œå¼€æºAgentScopeå¤šæ™ºèƒ½ä½“æ¡†æ¶è§£æç³»åˆ—ï¼ˆåå…«ï¼‰ç¬¬18ç« ï¼šä¼ä¸šSkillç³»ç»Ÿå®æˆ˜ - ç”¨æˆ·è¡Œä¸ºæ·±åº¦åˆ†æ"/> <meta itemprop="keywords" content="Agent"/> <meta itemprop="datePublished" content="2026-01-04T04:03:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¯­è½å¿ƒç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/2875978147955741"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜¿é‡Œå¼€æºAgentScopeå¤šæ™ºèƒ½ä½“æ¡†æ¶è§£æç³»åˆ—ï¼ˆåå…«ï¼‰ç¬¬18ç« ï¼šä¼ä¸šSkillç³»ç»Ÿå®æˆ˜ - ç”¨æˆ·è¡Œä¸ºæ·±åº¦åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2875978147955741/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¯­è½å¿ƒç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T04:03:41.000Z" title="Sun Jan 04 2026 04:03:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    15
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»23åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æŸå¤§å‚çš„å¥½å‹çœ‹äº†æˆ‘çš„æ–‡ç« ç³»åˆ—åï¼Œå»ºè®®æˆ‘å†™ä¸€ä¸ªè¡Œä¸ºåˆ†æçš„æ¡ˆä¾‹ï¼Œé‚æœ‰æ­¤æ–‡</p>
<hr/>
<h2 data-id="heading-0">å¯¼è¯»</h2>
<p>æœ¬ç« é€šè¿‡ä¸€ä¸ª<strong>ç”¨æˆ·æ·±åº¦è¡Œä¸ºåˆ†ææ¡ˆä¾‹</strong>ï¼Œæ·±å…¥å±•ç¤ºAgentScopeçš„Skillç³»ç»Ÿåœ¨ä¼ä¸šçº§åº”ç”¨ä¸­çš„å®é™…è½åœ°ã€‚æˆ‘ä»¬å°†ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ª<strong>ç”¨æˆ·è¡Œä¸ºæ·±åº¦åˆ†æç³»ç»Ÿ</strong>ï¼Œæ¶µç›–ï¼š</p>
<ul>
<li>âœ“ <strong>ä¸šåŠ¡åœºæ™¯åˆ†æ</strong>ï¼šä¼ä¸šéœ€æ±‚å’Œç—›ç‚¹</li>
<li>âœ“ <strong>Skillå®šä¹‰</strong>ï¼šå®Œæ•´çš„Markdown DSLå®šä¹‰</li>
<li>âœ“ <strong>Hookç›‘æ§ç³»ç»Ÿ</strong>ï¼šå…¨ç¨‹é€æ˜å¯è¿½è¸ªçš„åˆ†æè¿‡ç¨‹</li>
<li>âœ“ <strong>æ ¸å¿ƒåˆ†æå¼•æ“</strong>ï¼š1500+è¡Œç”Ÿäº§çº§ä»£ç </li>
<li>âœ“ <strong>æ•°æ®æ¨¡å‹å®šä¹‰</strong>ï¼šå®Œæ•´çš„å®ä½“ç±»ç»“æ„</li>
<li>âœ“ <strong>é›†æˆç¤ºä¾‹</strong>ï¼šSpring Boot/Agenté›†æˆ</li>
<li>âœ“ <strong>è¿è¡Œç»“æœ</strong>ï¼šçœŸå®çš„æ‰§è¡Œæ—¥å¿—å’Œè¾“å‡º</li>
<li>âœ“ <strong>ä¸šåŠ¡ä»·å€¼åˆ†æ</strong>ï¼šå¯é‡åŒ–çš„æ•ˆæœè¯„ä¼°</li>
</ul>
<hr/>
<h2 data-id="heading-1">1. ä¸šåŠ¡åœºæ™¯åˆ†æ</h2>
<h3 data-id="heading-2">1.1 ä¸šåŠ¡èƒŒæ™¯</h3>
<p><strong>å…¬å¸æ¦‚å†µ</strong>ï¼š</p>
<ul>
<li>æŸSaaSå…¬å¸ï¼Œæä¾›ä¼ä¸šååŒåŠå…¬å¹³å°</li>
<li>æœåŠ¡ä¼ä¸šç”¨æˆ·ï¼š5ä¸‡+å®¶</li>
<li>æ³¨å†Œç”¨æˆ·æ•°ï¼š500ä¸‡+</li>
<li>æ—¥æ´»è·ƒç”¨æˆ·ï¼š50ä¸‡+</li>
<li>æ¯æ—¥ç”Ÿæˆè¡Œä¸ºæ—¥å¿—ï¼š200ä¸‡-500ä¸‡æ¡</li>
</ul>
<p><strong>äº§å“åŠŸèƒ½</strong>ï¼š</p>
<pre><code class="hljs">äº§å“çŸ©é˜µï¼š
â”œâ”€â”€ æ–‡æ¡£ååŒï¼šåœ¨çº¿ç¼–è¾‘ã€å¤šäººåä½œã€ç‰ˆæœ¬ç®¡ç†
â”œâ”€â”€ é¡¹ç›®ç®¡ç†ï¼šä»»åŠ¡è·Ÿè¸ªã€ç”˜ç‰¹å›¾ã€çœ‹æ¿è§†å›¾
â”œâ”€â”€ å›¢é˜Ÿæ²Ÿé€šï¼šå³æ—¶æ¶ˆæ¯ã€è§†é¢‘ä¼šè®®ã€çŸ¥è¯†åº“
â”œâ”€â”€ æ•°æ®åˆ†æï¼šBIçœ‹æ¿ã€æŠ¥è¡¨ç”Ÿæˆã€æ•°æ®å¯¼å‡º
â””â”€â”€ å·¥ä½œæµï¼šè‡ªåŠ¨åŒ–å®¡æ‰¹ã€è¡¨å•æäº¤ã€é›†æˆå¹³å°
</code></pre>
<h3 data-id="heading-3">1.2 ä¸šåŠ¡ç—›ç‚¹</h3>
<p><strong>ç—›ç‚¹1ï¼šæ•°æ®åˆ†æ•£ï¼Œéš¾ä»¥ç»Ÿä¸€åˆ†æ</strong></p>
<pre><code class="hljs language-diff" lang="diff">æ•°æ®æºåˆ†å¸ƒï¼š
â”œâ”€â”€ åº”ç”¨æ—¥å¿—ï¼šELK Stack (Elasticsearch + Logstash + Kibana)
â”œâ”€â”€ ä¸šåŠ¡æ•°æ®åº“ï¼šMySQLé›†ç¾¤ (10+ å®ä¾‹)
â”œâ”€â”€ åŸ‹ç‚¹æ•°æ®ï¼šç¥ç­–æ•°æ® (Sensors Analytics)
â”œâ”€â”€ ç”¨æˆ·ç”»åƒï¼šRedis + HBase
â””â”€â”€ è¡Œä¸ºæ—¥å¿—ï¼šKafka + Flink

é—®é¢˜ï¼š
<span class="hljs-deletion">- æ•°æ®æ ¼å¼ä¸ç»Ÿä¸€ï¼Œéš¾ä»¥å…³è”</span>
<span class="hljs-deletion">- æ¯æ¬¡åˆ†æéœ€è¦ä»å¤šä¸ªæºæ‹‰å–æ•°æ®</span>
<span class="hljs-deletion">- æ•°æ®ä¸€è‡´æ€§éš¾ä»¥ä¿è¯</span>
</code></pre>
<p><strong>ç—›ç‚¹2ï¼šåˆ†æå‘¨æœŸé•¿ï¼Œå“åº”æ…¢</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">ä¼ ç»Ÿåˆ†ææµç¨‹ï¼š
<span class="hljs-bullet">1.</span> äº§å“ç»ç†æå‡ºéœ€æ±‚ (1å¤©)
<span class="hljs-bullet">2.</span> æ•°æ®åˆ†æå¸ˆç¡®è®¤éœ€æ±‚ (0.5å¤©)
<span class="hljs-bullet">3.</span> ç¼–å†™SQL/è„šæœ¬æŠ½å–æ•°æ® (0.5å¤©)
<span class="hljs-bullet">4.</span> æ•°æ®æ¸…æ´—å’Œé¢„å¤„ç† (1å¤©)
<span class="hljs-bullet">5.</span> ç»Ÿè®¡åˆ†æå’Œå»ºæ¨¡ (1å¤©)
<span class="hljs-bullet">6.</span> ç”ŸæˆæŠ¥å‘Šå’Œå¯è§†åŒ– (0.5å¤©)
<span class="hljs-section">7. ä¸ä¸šåŠ¡æ–¹è®¨è®ºå’Œä¿®æ”¹ (0.5å¤©)
-----------------------------------------</span>
æ€»è®¡ï¼š3-5å¤©

é—®é¢˜ï¼š
<span class="hljs-bullet">-</span> ä¸šåŠ¡å˜åŒ–å¿«ï¼Œç­‰æŠ¥å‘Šå‡ºæ¥å·²ç»è¿‡æ—¶
<span class="hljs-bullet">-</span> åˆ†æå¸ˆäººåŠ›ç´§å¼ ï¼Œè¯·æ±‚æ’é˜Ÿ
<span class="hljs-bullet">-</span> é‡å¤æ€§åˆ†æå·¥ä½œå¤š
</code></pre>
<p><strong>ç—›ç‚¹3ï¼šç¼ºä¹å®æ—¶é¢„è­¦ï¼Œé—®é¢˜å‘ç°æ»å</strong></p>
<pre><code class="hljs language-diff" lang="diff">å…¸å‹åœºæ™¯ï¼š
åœºæ™¯1ï¼šç”¨æˆ·æµå¤±
<span class="hljs-deletion">- ç”¨æˆ·å·²ç»7å¤©æœªç™»å½•ï¼Œä½†æ²¡æœ‰é¢„è­¦</span>
<span class="hljs-deletion">- ç­‰åˆ°æœˆæŠ¥å‘ç°æ—¶ï¼Œç”¨æˆ·å·²ç»æµå¤±</span>
<span class="hljs-deletion">- é”™è¿‡æœ€ä½³æŒ½å›æ—¶æœº</span>

åœºæ™¯2ï¼šåŠŸèƒ½å¼‚å¸¸
<span class="hljs-deletion">- æŸåŠŸèƒ½ä½¿ç”¨ç‡çªç„¶ä¸‹é™50%</span>
<span class="hljs-deletion">- å¯èƒ½æ˜¯äº§å“é—®é¢˜ï¼Œä½†æ— äººå‘ç°</span>
<span class="hljs-deletion">- ç›´åˆ°ç”¨æˆ·æŠ•è¯‰æ‰çŸ¥é“</span>

åœºæ™¯3ï¼šè¥é”€æ•ˆæœ
<span class="hljs-deletion">- è¥é”€æ´»åŠ¨ä¸Šçº¿åæ•ˆæœä¸ä½³</span>
<span class="hljs-deletion">- ç¼ºä¹å®æ—¶ç›‘æ§ï¼Œæ— æ³•è°ƒæ•´</span>
<span class="hljs-deletion">- é€ æˆé¢„ç®—æµªè´¹</span>
</code></pre>
<p><strong>ç—›ç‚¹4ï¼šåˆ†æç»“æœç¼ºä¹ä¸šåŠ¡æ´å¯Ÿ</strong></p>
<pre><code class="hljs language-erlang" lang="erlang">å½“å‰çŠ¶å†µï¼š
è¾“å‡ºï¼šå¤§é‡ç»Ÿè®¡æ•°å­—å’Œå›¾è¡¨
â”œâ”€â”€ DAU: <span class="hljs-number">85</span>,<span class="hljs-number">423</span>
â”œâ”€â”€ WAU: <span class="hljs-number">387</span>,<span class="hljs-number">621</span>
â”œâ”€â”€ MAU: <span class="hljs-number">523</span>,<span class="hljs-number">417</span>
â”œâ”€â”€ ç•™å­˜ç‡: <span class="hljs-number">38.7</span><span class="hljs-comment">%</span>
â””â”€â”€ ...æ›´å¤šæ•°å­—

ç¼ºå¤±ï¼š
âœ— è¿™äº›æ•°å­—æ„å‘³ç€ä»€ä¹ˆï¼Ÿ
âœ— ä¸å†å²æ•°æ®å¯¹æ¯”å¦‚ä½•ï¼Ÿ
âœ— å­˜åœ¨ä»€ä¹ˆé—®é¢˜å’Œæœºä¼šï¼Ÿ
âœ— åº”è¯¥é‡‡å–ä»€ä¹ˆè¡ŒåŠ¨ï¼Ÿ
âœ— é¢„æœŸæ•ˆæœæ˜¯ä»€ä¹ˆï¼Ÿ

ä¸šåŠ¡æ–¹çš„å›°æƒ‘ï¼š
<span class="hljs-string">"æ•°å­—æˆ‘éƒ½çœ‹åˆ°äº†ï¼Œç„¶åå‘¢ï¼Ÿ"</span>
<span class="hljs-string">"æˆ‘åº”è¯¥åšä»€ä¹ˆï¼Ÿ"</span>
<span class="hljs-string">"é¢„æœŸèƒ½å¸¦æ¥å¤šå°‘æ”¹å–„ï¼Ÿ"</span>
</code></pre>
<p><strong>ç—›ç‚¹5ï¼šå›¢é˜Ÿé‡å¤å¼€å‘ï¼Œç¼ºä¹å¤ç”¨</strong></p>
<pre><code class="hljs language-diff" lang="diff">ç°çŠ¶ï¼š
äº§å“å›¢é˜Ÿï¼šè‡ªå·±å†™SQLåˆ†æç”¨æˆ·ç•™å­˜
è¿è¥å›¢é˜Ÿï¼šè‡ªå·±å†™Pythonè„šæœ¬åˆ†æè½¬åŒ–ç‡
æ•°æ®å›¢é˜Ÿï¼šè‡ªå·±å¼€å‘BIçœ‹æ¿
å®¢æœå›¢é˜Ÿï¼šè‡ªå·±å¯¼å‡ºExcelåˆ†ææŠ•è¯‰ç‡

é—®é¢˜ï¼š
<span class="hljs-deletion">- ç›¸ä¼¼çš„åˆ†æé€»è¾‘é‡å¤å¼€å‘</span>
<span class="hljs-deletion">- ä»£ç è´¨é‡å‚å·®ä¸é½</span>
<span class="hljs-deletion">- è®¡ç®—å£å¾„ä¸ç»Ÿä¸€</span>
<span class="hljs-deletion">- ç»´æŠ¤æˆæœ¬é«˜</span>
</code></pre>
<h3 data-id="heading-4">1.3 è§£å†³æ–¹æ¡ˆè®¾è®¡</h3>
<p><strong>ç›®æ ‡</strong>ï¼šæ„å»ºåŸºäºAgentScope Skillç³»ç»Ÿçš„æ™ºèƒ½ç”¨æˆ·è¡Œä¸ºåˆ†æå¹³å°</p>
<p><strong>æ ¸å¿ƒèƒ½åŠ›</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ç”¨æˆ·è¡Œä¸ºåˆ†æSkillå¹³å°                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ•°æ®æ¥å…¥å±‚    â”‚  â”‚   åˆ†æå¼•æ“å±‚     â”‚  â”‚   åº”ç”¨æœåŠ¡å±‚    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚â€¢ ç»Ÿä¸€æ•°æ®æº    â”‚  â”‚â€¢ ç”¨æˆ·æ´»è·ƒåº¦åˆ†æ  â”‚  â”‚â€¢ <span class="hljs-attribute">REST</span> API       â”‚
â”‚â€¢ æ•°æ®æ¸…æ´—      â”‚  â”‚â€¢ ç”¨æˆ·åˆ†å±‚èšç±»    â”‚  â”‚â€¢ å®šæ—¶ä»»åŠ¡       â”‚
â”‚â€¢ è´¨é‡æ£€æŸ¥      â”‚  â”‚â€¢ åŠŸèƒ½ä½¿ç”¨åˆ†æ    â”‚  â”‚â€¢ å®æ—¶é¢„è­¦       â”‚
â”‚â€¢ æ ¼å¼è½¬æ¢      â”‚  â”‚â€¢ æµå¤±é£é™©é¢„æµ‹    â”‚  â”‚â€¢ æŠ¥å‘Šç”Ÿæˆ       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚â€¢ æ´å¯Ÿç”Ÿæˆ        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚â€¢ å»ºè®®ç”Ÿæˆ        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Hookç›‘æ§ç³»ç»Ÿ     â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚â€¢ è¿‡ç¨‹è¿½è¸ª          â”‚
                    â”‚â€¢ æ€§èƒ½ç›‘æ§          â”‚
                    â”‚â€¢ è´¨é‡ä¿è¯          â”‚
                    â”‚â€¢ æ—¥å¿—è®°å½•          â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>æŠ€æœ¯æ¶æ„</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java">æŠ€æœ¯æ ˆï¼š
â”œâ”€â”€ æ¡†æ¶ï¼šAgentScope + Spring Boot <span class="hljs-number">3.2</span>
â”œâ”€â”€ æ•°æ®å¤„ç†ï¼šApache Commons Math <span class="hljs-number">3.6</span>
â”œâ”€â”€ æœºå™¨å­¦ä¹ ï¼šSmile ML <span class="hljs-number">3.0</span>
â”œâ”€â”€ æ•°æ®åº“ï¼šMySQL <span class="hljs-number">8.0</span> + Redis <span class="hljs-number">7.0</span>
â”œâ”€â”€ æ¶ˆæ¯é˜Ÿåˆ—ï¼šKafka <span class="hljs-number">3.6</span>
â”œâ”€â”€ ç›‘æ§ï¼šPrometheus + Grafana
â””â”€â”€ æ—¥å¿—ï¼šSLF4j + Logback

æ¨¡å—åˆ’åˆ†ï¼š
skill-user-behavior-analysis/
â”œâ”€â”€ src/main/java/
â”‚   â”œâ”€â”€ skill/          # Skillå®šä¹‰
â”‚   â”œâ”€â”€ hook/           # Hookç›‘æ§
â”‚   â”œâ”€â”€ processor/      # åˆ†æå¼•æ“
â”‚   â”œâ”€â”€ model/          # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ repository/     # æ•°æ®è®¿é—®
â”‚   â””â”€â”€ service/        # ä¸šåŠ¡æœåŠ¡
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ skills/         # Skill MDæ–‡ä»¶
â”‚   â””â”€â”€ application.yml
â””â”€â”€ pom.xml
</code></pre>
<hr/>
<h2 data-id="heading-5">2. Skillå®šä¹‰æ–‡ä»¶</h2>
<h3 data-id="heading-6">2.1 å®Œæ•´çš„Skillå®šä¹‰</h3>
<p>åˆ›å»ºæ–‡ä»¶ï¼š<code>skills/user_behavior_analysis.md</code></p>
<pre><code class="hljs language-markdown" lang="markdown">---
<span class="hljs-section"># ========== åŸºç¡€ä¿¡æ¯ ==========</span>
id: skill-user-behavior-001
name: user<span class="hljs-emphasis">_behavior_</span>deep<span class="hljs-emphasis">_analysis
displayName: ç”¨æˆ·è¡Œä¸ºæ·±åº¦åˆ†æ
version: 1.0.0
author: Product Analytics Team
organization: SaaS Inc.
createdAt: 2024-12-01T10:00:00Z
updatedAt: 2024-12-30T15:00:00Z

# ========== åˆ†ç±»å’Œæ ‡ç­¾ ==========
category: analytics
tags:
  - user-behavior
  - retention-analysis
  - churn-prediction
  - user-segmentation
  - rfm-model
keywords:
  - ç”¨æˆ·è¡Œä¸ºåˆ†æ
  - ç•™å­˜ç‡
  - æµå¤±é¢„æµ‹
  - ç”¨æˆ·åˆ†å±‚
  - RFMæ¨¡å‹
  - æ´»è·ƒåº¦åˆ†æ

# ========== æŠ€èƒ½æè¿° ==========
description: &gt;
  æ·±åº¦åˆ†æç”¨æˆ·ä½¿ç”¨è¡Œä¸ºï¼Œè¯†åˆ«æµå¤±é£é™©ç”¨æˆ·ï¼Œä¼˜åŒ–äº§å“åŠŸèƒ½ï¼Œ
  æå‡ç”¨æˆ·æ´»è·ƒåº¦å’Œç•™å­˜ç‡ã€‚æ”¯æŒå¤šç»´åº¦åˆ†æå’Œæ™ºèƒ½é¢„è­¦ã€‚

detailedDescription: |
  æœ¬æŠ€èƒ½æä¾›ä¼ä¸šçº§çš„ç”¨æˆ·è¡Œä¸ºåˆ†æèƒ½åŠ›ï¼ŒåŒ…æ‹¬ï¼š
  
  <span class="hljs-strong">**æ ¸å¿ƒåŠŸèƒ½**</span>ï¼š
  - ç”¨æˆ·æ´»è·ƒåº¦åˆ†æï¼ˆDAU/WAU/MAUï¼‰
  - ç•™å­˜ç‡åˆ†æï¼ˆæ¬¡æ—¥/7æ—¥/30æ—¥ç•™å­˜ï¼‰
  - ç”¨æˆ·åˆ†å±‚ä¸èšç±»ï¼ˆRFMæ¨¡å‹ã€K-meansï¼‰
  - åŠŸèƒ½ä½¿ç”¨åˆ†æï¼ˆé¢‘ç‡ã€æ—¶é•¿ã€è·¯å¾„ï¼‰
  - æµå¤±é£é™©é¢„æµ‹ï¼ˆæœºå™¨å­¦ä¹ æ¨¡å‹ï¼‰
  - å®æ—¶é¢„è­¦å’Œæ¨è
  
  <span class="hljs-strong">**æŠ€æœ¯ç‰¹ç‚¹**</span>ï¼š
  - æ”¯æŒå¤§è§„æ¨¡æ•°æ®å¤„ç†ï¼ˆåƒä¸‡çº§ç”¨æˆ·ï¼‰
  - å®æ—¶æµå¼è®¡ç®—å’Œæ‰¹é‡åˆ†æ
  - å¯è§£é‡Šçš„åˆ†æç»“æœ
  - è‡ªåŠ¨ç”Ÿæˆä¸šåŠ¡æ´å¯Ÿ
  
  <span class="hljs-strong">**ä¸šåŠ¡ä»·å€¼**</span>ï¼š
  - æå‡ç”¨æˆ·ç•™å­˜ç‡10-15%
  - é™ä½æµå¤±ç‡30-40%
  - ä¼˜åŒ–äº§å“åŠŸèƒ½ä¼˜å…ˆçº§
  - ç²¾å‡†è¥é”€æ¨è

# ========== ä¾èµ–ç®¡ç† ==========
dependencies:
  - skill: statistical_</span>summary
<span class="hljs-code">    version: "&gt;=1.0.0"
    required: true
    reason: åŸºç¡€ç»Ÿè®¡è®¡ç®—
  
  - skill: ml_clustering
    version: "^1.2.0"
    required: true
    reason: ç”¨æˆ·èšç±»åˆ†æ
</span>
conflicts:
<span class="hljs-bullet">  -</span> skill: legacy<span class="hljs-emphasis">_user_</span>analytics
<span class="hljs-code">    reason: åŠŸèƒ½é‡å ï¼Œé¿å…å†²çª
</span>
requires:
  runtime: java
  minVersion: "17"
  memory: "1GB"
  cpu: "2 cores"
  libraries:
<span class="hljs-bullet">    -</span> name: apache-commons-math
<span class="hljs-code">      version: "3.6.1"
    - name: smile-core
      version: "3.0.0"
    - name: jackson-databind
      version: "2.16.0"
</span>
<span class="hljs-section"># ========== æ‰§è¡Œé…ç½® ==========</span>
executionConfig:
  timeout: 600000  # 10åˆ†é’Ÿ
  retries: 2
  retryDelay: 5000
  parallelizable: true
  cacheable: true
  cacheExpiration: 1800  # 30åˆ†é’Ÿ

parameters:
  confidenceLevel:
<span class="hljs-code">    type: float
    default: 0.95
    min: 0.8
    max: 0.99
    description: ç»Ÿè®¡åˆ†æçš„ç½®ä¿¡æ°´å¹³
  
  churnThresholdDays:
    type: integer
    default: 7
    min: 3
    max: 30
    description: æµå¤±åˆ¤å®šå¤©æ•°é˜ˆå€¼
  
  clusterCount:
    type: integer
    default: 5
    min: 2
    max: 10
    description: ç”¨æˆ·åˆ†ç¾¤æ•°é‡
  
  minDataQualityScore:
    type: float
    default: 70.0
    min: 50.0
    max: 100.0
    description: æœ€ä½æ•°æ®è´¨é‡åˆ†æ•°è¦æ±‚
</span>
<span class="hljs-section"># ========== æ€§èƒ½æŒ‡æ ‡ ==========</span>
metrics:
  avgExecutionTime: 3500  # ms
  successRate: 0.985
  usageCount: 8723
  satisfactionScore: 4.6
  dataProcessedPerDay: 5000000  # æ¡è®°å½•

<span class="hljs-section"># ========== è´¨é‡è¯„ä¼° ==========</span>
qualityScore:
  overall: 4.7
  accuracy: 4.8
  performance: 4.5
  documentation: 4.8
  usability: 4.6

<span class="hljs-section"># ========== è®¸å¯å’Œå®šä»· ==========</span>
license: Apache-2.0
pricing:
  model: freemium
  free:
<span class="hljs-code">    maxUsers: 10000
    maxCalls: 500
    maxDataSize: "100MB"
  premium:
    pricePerMonth: 99.99
    features:
      - unlimited_users
      - realtime_alerts
      - advanced_ml
      - priority_support
      - custom_integration
</span>
<span class="hljs-section">isPublic: true
---</span>

<span class="hljs-section"># ç”¨æˆ·è¡Œä¸ºæ·±åº¦åˆ†ææŠ€èƒ½</span>

<span class="hljs-section">## ğŸ“‹ æŠ€èƒ½ç›®æ ‡</span>

æ·±å…¥åˆ†æç”¨æˆ·ä½¿ç”¨è¡Œä¸ºï¼Œè¯†åˆ«é«˜ä»·å€¼ç”¨æˆ·ã€æµå¤±é£é™©ç”¨æˆ·ï¼Œä¼˜åŒ–äº§å“åŠŸèƒ½ï¼Œæå‡ç”¨æˆ·æ´»è·ƒåº¦å’Œç•™å­˜ç‡ã€‚

<span class="hljs-strong">**é€‚ç”¨åœºæ™¯**</span>ï¼š
<span class="hljs-bullet">-</span> SaaSäº§å“ç”¨æˆ·åˆ†æ
<span class="hljs-bullet">-</span> ç”µå•†ç”¨æˆ·è¡Œä¸ºåˆ†æ
<span class="hljs-bullet">-</span> ç§»åŠ¨åº”ç”¨ç•™å­˜åˆ†æ
<span class="hljs-bullet">-</span> ç¤¾äº¤å¹³å°æ´»è·ƒåº¦åˆ†æ
<span class="hljs-bullet">-</span> ä¼ä¸šæœåŠ¡ç”¨æˆ·è¿è¥

<span class="hljs-section">## ğŸ”§ ä½¿ç”¨æ–¹æ³•</span>

<span class="hljs-section">### è¾“å…¥æ•°æ®æ ¼å¼</span>

<span class="hljs-code">```json
{
  "data": {
    "format": "json",
    "content": "user_behavior_logs.json",
    "columns": [
      "user_id",      // ç”¨æˆ·ID
      "timestamp",    // è¡Œä¸ºæ—¶é—´
      "action",       // è¡Œä¸ºç±»å‹
      "duration",     // æŒç»­æ—¶é•¿(ms)
      "feature",      // åŠŸèƒ½æ¨¡å—
      "device"        // è®¾å¤‡ç±»å‹
    ]
  },
  "analysisType": [
    "statistical",      // ç»Ÿè®¡åˆ†æ
    "clustering",       // èšç±»åˆ†æ
    "correlation",      // ç›¸å…³æ€§åˆ†æ
    "churn_prediction"  // æµå¤±é¢„æµ‹
  ],
  "options": {
    "confidenceLevel": 0.95,
    "groupBy": "feature",
    "churnThresholdDays": 7,
    "clusterCount": 5
  }
}
</span></code></pre>
<h3 data-id="heading-7">è¾“å‡ºç»“æœæ ¼å¼</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"status"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"success"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"summary"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"totalUsers"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">52341</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"activeUsers"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">38762</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"churnRiskUsers"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7851</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"analysisDate"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2024-12-30"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"dataQualityScore"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">92.5</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"executionTime"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3547</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"activityMetrics"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"dau"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8542</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"wau"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">38762</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"mau"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">52341</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"day1Retention"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0.453</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"day7Retention"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0.387</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"day30Retention"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0.221</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"segmentation"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"method"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"RFM"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"segments"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>...<span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"churnPrediction"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"churnRate"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0.15</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"modelAccuracy"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0.85</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"topRiskFactors"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>...<span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"insights"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>...<span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"recommendations"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>...<span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-8">åˆ†æç»´åº¦</h2>
<h3 data-id="heading-9">1. ç”¨æˆ·æ´»è·ƒåº¦åˆ†æ</h3>
<p><strong>æŒ‡æ ‡å®šä¹‰</strong>ï¼š</p>
<ul>
<li><strong>DAU (Daily Active Users)</strong>ï¼šæ—¥æ´»è·ƒç”¨æˆ·æ•°</li>
<li><strong>WAU (Weekly Active Users)</strong>ï¼šå‘¨æ´»è·ƒç”¨æˆ·æ•°</li>
<li><strong>MAU (Monthly Active Users)</strong>ï¼šæœˆæ´»è·ƒç”¨æˆ·æ•°</li>
<li><strong>DAU/WAUæ¯”ç‡</strong>ï¼šæ—¥æ´»/å‘¨æ´»æ¯”ç‡ï¼Œåæ˜ ç”¨æˆ·ç²˜æ€§</li>
<li><strong>WAU/MAUæ¯”ç‡</strong>ï¼šå‘¨æ´»/æœˆæ´»æ¯”ç‡ï¼Œåæ˜ ç”¨æˆ·æ´»è·ƒé¢‘ç‡</li>
</ul>
<p><strong>ç•™å­˜ç‡è®¡ç®—</strong>ï¼š</p>
<ul>
<li><strong>æ¬¡æ—¥ç•™å­˜</strong>ï¼šæ–°ç”¨æˆ·ç¬¬2å¤©å†æ¬¡ä½¿ç”¨çš„æ¯”ä¾‹</li>
<li><strong>7æ—¥ç•™å­˜</strong>ï¼šæ–°ç”¨æˆ·ç¬¬7å¤©ä»åœ¨ä½¿ç”¨çš„æ¯”ä¾‹</li>
<li><strong>30æ—¥ç•™å­˜</strong>ï¼šæ–°ç”¨æˆ·ç¬¬30å¤©ä»åœ¨ä½¿ç”¨çš„æ¯”ä¾‹</li>
</ul>
<p><strong>æ´»è·ƒæ—¶æ®µåˆ†æ</strong>ï¼š</p>
<ul>
<li>æŒ‰å°æ—¶ç»Ÿè®¡ç”¨æˆ·æ´»è·ƒåˆ†å¸ƒ</li>
<li>è¯†åˆ«é«˜å³°å’Œä½è°·æ—¶æ®µ</li>
<li>æŒ‡å¯¼è¿è¥æ´»åŠ¨æ—¶é—´å®‰æ’</li>
</ul>
<h3 data-id="heading-10">2. ç”¨æˆ·åˆ†å±‚ä¸èšç±»</h3>
<p><strong>RFMæ¨¡å‹</strong>ï¼š</p>
<ul>
<li><strong>R (Recency)</strong>ï¼šæœ€è¿‘ä¸€æ¬¡æ´»åŠ¨è·ä»Šå¤©æ•°</li>
<li><strong>F (Frequency)</strong>ï¼šæ´»åŠ¨é¢‘æ¬¡</li>
<li><strong>M (Monetary)</strong>ï¼šä½¿ç”¨æ—¶é•¿ï¼ˆä»£è¡¨ä»·å€¼ï¼‰</li>
</ul>
<p><strong>ç”¨æˆ·åˆ†ç¾¤</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> é‡è¦ä»·å€¼å®¢æˆ·ï¼šRä½ + Fé«˜ + Mé«˜ (10%)
<span class="hljs-bullet">   -</span> æœ€è¿‘æ´»è·ƒã€é«˜é¢‘ã€é«˜ä»·å€¼
<span class="hljs-bullet">   -</span> éœ€è¦é‡ç‚¹ç»´æŠ¤å’ŒVIPæœåŠ¡

<span class="hljs-bullet">2.</span> é‡è¦ä¿æŒå®¢æˆ·ï¼šRä½ + Fé«˜ (24%)
<span class="hljs-bullet">   -</span> æœ€è¿‘æ´»è·ƒã€é«˜é¢‘
<span class="hljs-bullet">   -</span> æœ‰æ½œåŠ›æˆä¸ºé«˜ä»·å€¼å®¢æˆ·

<span class="hljs-bullet">3.</span> é‡è¦æŒ½å›å®¢æˆ·ï¼šRé«˜ + Fé«˜ + Mé«˜ (6.5%)
<span class="hljs-bullet">   -</span> æ›¾ç»é«˜é¢‘é«˜ä»·å€¼ï¼Œä½†æœ€è¿‘æœªæ´»è·ƒ
<span class="hljs-bullet">   -</span> éœ€ç«‹å³æŒ½å›ï¼Œé˜²æ­¢æµå¤±

<span class="hljs-bullet">4.</span> ä¸€èˆ¬æ´»è·ƒå®¢æˆ·ï¼šRä½ (45%)
<span class="hljs-bullet">   -</span> æœ€è¿‘æ´»è·ƒï¼Œä½†é¢‘æ¬¡å’Œä»·å€¼è¾ƒä½
<span class="hljs-bullet">   -</span> éœ€è¦å¼•å¯¼ä½¿ç”¨æ›´å¤šåŠŸèƒ½

<span class="hljs-bullet">5.</span> æµå¤±é£é™©å®¢æˆ·ï¼šRé«˜ (15%)
<span class="hljs-bullet">   -</span> é•¿æ—¶é—´æœªæ´»è·ƒ
<span class="hljs-bullet">   -</span> é«˜æµå¤±é£é™©ï¼Œéœ€ç´§æ€¥å¹²é¢„
</code></pre>
<h3 data-id="heading-11">3. åŠŸèƒ½ä½¿ç”¨åˆ†æ</h3>
<p><strong>ä½¿ç”¨é¢‘ç‡</strong>ï¼š</p>
<ul>
<li>å„åŠŸèƒ½çš„ä½¿ç”¨æ¬¡æ•°ç»Ÿè®¡</li>
<li>è¯†åˆ«æ ¸å¿ƒåŠŸèƒ½å’Œå†·é—¨åŠŸèƒ½</li>
</ul>
<p><strong>ä½¿ç”¨æ—¶é•¿</strong>ï¼š</p>
<ul>
<li>å„åŠŸèƒ½çš„å¹³å‡ä½¿ç”¨æ—¶é•¿</li>
<li>è¯„ä¼°åŠŸèƒ½ä»·å€¼å’Œç”¨æˆ·ç²˜æ€§</li>
</ul>
<p><strong>åŠŸèƒ½æ¸—é€ç‡</strong>ï¼š</p>
<ul>
<li>å„åŠŸèƒ½çš„ç”¨æˆ·è¦†ç›–ç‡</li>
<li>è¯†åˆ«æ¨å¹¿ä¸è¶³çš„åŠŸèƒ½</li>
</ul>
<p><strong>ä½¿ç”¨è·¯å¾„</strong>ï¼š</p>
<ul>
<li>åŠŸèƒ½é—´çš„è·³è½¬å…³ç³»</li>
<li>ä¼˜åŒ–äº§å“å¯¼èˆª</li>
</ul>
<h3 data-id="heading-12">4. æµå¤±é£é™©é¢„æµ‹</h3>
<p><strong>é£é™©å› ç´ </strong>ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">é«˜é£é™©å› ç´  (æƒé‡0.4)ï¼š
<span class="hljs-deletion">- è¿ç»­Nå¤©æœªç™»å½•</span>
<span class="hljs-deletion">- æ´»åŠ¨é¢‘æ¬¡å¤§å¹…ä¸‹é™</span>

ä¸­é£é™©å› ç´  (æƒé‡0.3)ï¼š
<span class="hljs-deletion">- ä½¿ç”¨æ—¶é•¿ä¸‹é™è¶…è¿‡50%</span>
<span class="hljs-deletion">- ä»…ä½¿ç”¨å•ä¸€åŠŸèƒ½</span>

ä½é£é™©å› ç´  (æƒé‡0.2)ï¼š
<span class="hljs-deletion">- æœªå‚ä¸è¥é”€æ´»åŠ¨</span>
<span class="hljs-deletion">- è®¾å¤‡å¼‚å¸¸æˆ–é”™è¯¯ç‡é«˜</span>

å…¶ä»–å› ç´  (æƒé‡0.1)ï¼š
<span class="hljs-deletion">- å®¢æˆ·ç«¯ç‰ˆæœ¬è¿‡æ—§</span>
<span class="hljs-deletion">- æœªå¡«å†™å®Œæ•´èµ„æ–™</span>
</code></pre>
<p><strong>é¢„æµ‹æ¨¡å‹</strong>ï¼š</p>
<ul>
<li>åŸºäºé€»è¾‘å›å½’çš„æµå¤±æ¦‚ç‡é¢„æµ‹</li>
<li>å‡†ç¡®ç‡ï¼š85%+</li>
<li>å¬å›ç‡ï¼š80%+</li>
</ul>
<p><strong>é¢„è­¦æœºåˆ¶</strong>ï¼š</p>
<ul>
<li>å®æ—¶ç›‘æ§ç”¨æˆ·è¡Œä¸º</li>
<li>è‡ªåŠ¨è¯†åˆ«é«˜é£é™©ç”¨æˆ·</li>
<li>è§¦å‘æŒ½å›ç­–ç•¥</li>
</ul>
<h2 data-id="heading-13">ä¸šåŠ¡æ´å¯Ÿç”Ÿæˆ</h2>
<p>ç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹ç±»å‹çš„æ´å¯Ÿï¼š</p>
<h3 data-id="heading-14">æ´å¯Ÿç±»å‹1ï¼šè¶‹åŠ¿æ´å¯Ÿ</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"trend"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"severity"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"high"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"7æ—¥ç•™å­˜ç‡å‘ˆä¸‹é™è¶‹åŠ¿ï¼Œå·²ä½äºè¡Œä¸šå¹³å‡æ°´å¹³"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"evidence"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"å½“å‰7æ—¥ç•™å­˜ç‡: 38.7%"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"è¡Œä¸šå¹³å‡: 60%"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"ç¯æ¯”ä¸‹é™: 5.2%"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"confidence"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0.95</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-15">æ´å¯Ÿç±»å‹2ï¼šå¼‚å¸¸æ´å¯Ÿ</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"anomaly"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"severity"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"critical"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è¯†åˆ«å‡º15%çš„ç”¨æˆ·å­˜åœ¨æµå¤±é£é™©"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"evidence"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"æµå¤±é£é™©ç”¨æˆ·: 7,851äºº"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"ä¸»è¦åŸå› : è¿ç»­7å¤©æœªç™»å½•"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"æ¬¡è¦åŸå› : ä½¿ç”¨æ—¶é•¿ä¸‹é™60%"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"confidence"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0.85</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-16">æ´å¯Ÿç±»å‹3ï¼šæ¨¡å¼æ´å¯Ÿ</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pattern"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"severity"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"medium"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½¿ç”¨'é«˜çº§åŠŸèƒ½A'çš„ç”¨æˆ·ç•™å­˜ç‡æ˜¾è‘—æ›´é«˜"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"evidence"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"ä½¿ç”¨è¯¥åŠŸèƒ½çš„ç”¨æˆ·7æ—¥ç•™å­˜ç‡: 78%"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"æœªä½¿ç”¨è¯¥åŠŸèƒ½çš„ç”¨æˆ·7æ—¥ç•™å­˜ç‡: 43%"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"å·®å¼‚æ˜¾è‘—æ€§: p &lt; 0.001"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"confidence"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0.92</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-17">æ´å¯Ÿç±»å‹4ï¼šæœºä¼šæ´å¯Ÿ</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"opportunity"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"severity"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"medium"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é‡è¦ä»·å€¼å®¢æˆ·å æ¯”å¥åº·ï¼Œä½†å¢é•¿æ½œåŠ›æœ‰é™"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"evidence"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"é‡è¦ä»·å€¼å®¢æˆ·å æ¯”: 10%"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"è¡Œä¸šä¼˜ç§€æ°´å¹³: 15%"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"å¯æå‡ç©ºé—´: 5ä¸ªç™¾åˆ†ç‚¹"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"confidence"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0.88</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-18">è¡ŒåŠ¨å»ºè®®ç”Ÿæˆ</h2>
<p>ç³»ç»Ÿä¼šåŸºäºæ´å¯Ÿè‡ªåŠ¨ç”Ÿæˆå¯æ‰§è¡Œçš„è¡ŒåŠ¨å»ºè®®ï¼š</p>
<h3 data-id="heading-19">å»ºè®®ç±»å‹1ï¼šç´§æ€¥å¹²é¢„</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"priority"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"critical"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é’ˆå¯¹7,851ä¸ªæµå¤±é£é™©ç”¨æˆ·æ¨é€ä¸ªæ€§åŒ–æŒ½å›å†…å®¹"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"rationale"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"åŠæ—¶æŒ½å›å¯å‡å°‘50%çš„æµå¤±ï¼Œæ¨¡å‹å‡†ç¡®ç‡85%"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"expectedImpact"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¢„è®¡æŒ½å›3,000+ç”¨æˆ·ï¼Œä»·å€¼çº¦15ä¸‡æœˆè´¹"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"implementation"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"1. åˆ†æç”¨æˆ·å†å²è¡Œä¸ºå’Œåå¥½"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"2. è®¾è®¡ä¸ªæ€§åŒ–æŒ½å›ç­–ç•¥ï¼ˆä¼˜æƒ /å†…å®¹/åŠŸèƒ½æ¨èï¼‰"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"3. é€šè¿‡é‚®ä»¶ã€çŸ­ä¿¡ã€APPæ¨é€è§¦è¾¾"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"4. æä¾›é™æ—¶ä¼˜æƒ å’Œä¸“å±æœåŠ¡"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"5. è·Ÿè¸ªæŒ½å›æ•ˆæœï¼ŒæŒç»­ä¼˜åŒ–"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"kpis"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"targetReactivationRate"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0.38</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"estimatedRetainedUsers"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2983</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"estimatedRevenue"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">149150</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"timeline"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç«‹å³æ‰§è¡Œï¼Œ3å¤©å†…å®Œæˆè§¦è¾¾"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"owner"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç”¨æˆ·è¿è¥å›¢é˜Ÿ"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-20">å»ºè®®ç±»å‹2ï¼šäº§å“ä¼˜åŒ–</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"priority"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"high"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"åœ¨æ–°ç”¨æˆ·å¼•å¯¼ä¸­é‡ç‚¹çªå‡ºé«˜ç•™å­˜åŠŸèƒ½"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"rationale"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½¿ç”¨'æ–‡æ¡£ååŒ'åŠŸèƒ½çš„ç”¨æˆ·ç•™å­˜ç‡é«˜35%"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"expectedImpact"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¢„è®¡æ•´ä½“7æ—¥ç•™å­˜ç‡æå‡10-15%"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"implementation"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"1. ä¼˜åŒ–æ–°ç”¨æˆ·onboardingæµç¨‹"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"2. å‰3æ­¥å¼•å¯¼ç”¨æˆ·ä½¿ç”¨æ ¸å¿ƒåŠŸèƒ½"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"3. æä¾›äº’åŠ¨å¼æ•™ç¨‹å’Œè§†é¢‘æŒ‡å¯¼"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"4. è®¾ç½®æˆå°±milestoneæ¿€åŠ±ä½¿ç”¨"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"5. A/Bæµ‹è¯•éªŒè¯æ•ˆæœ"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"kpis"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"targetDay7Retention"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0.50</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"estimatedNewRetainedUsers"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">6500</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"timeline"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2å‘¨å®Œæˆè®¾è®¡ï¼Œ1å‘¨å¼€å‘ï¼Œ1å‘¨æµ‹è¯•"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"owner"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"äº§å“å›¢é˜Ÿ + è®¾è®¡å›¢é˜Ÿ"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-21">å»ºè®®ç±»å‹3ï¼šåŠŸèƒ½è°ƒæ•´</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"priority"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"medium"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è¯„ä¼°3ä¸ªå†·é—¨åŠŸèƒ½ï¼Œè€ƒè™‘ä¼˜åŒ–æˆ–ä¸‹çº¿"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"rationale"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½¿ç”¨ç‡&lt;5%ï¼Œå ç”¨å¼€å‘å’Œç»´æŠ¤èµ„æº"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"expectedImpact"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"èŠ‚çœ20%å¼€å‘èµ„æºï¼Œèšç„¦æ ¸å¿ƒåŠŸèƒ½"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"implementation"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"1. æ·±å…¥è°ƒç ”ç”¨æˆ·éœ€æ±‚å’Œç—›ç‚¹"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"2. è¯„ä¼°åŠŸèƒ½çš„å•†ä¸šä»·å€¼å’Œæˆ˜ç•¥æ„ä¹‰"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"3. å¯¹äºæœ‰ä»·å€¼ä½†ä½¿ç”¨ç‡ä½çš„åŠŸèƒ½è¿›è¡Œä¼˜åŒ–"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"4. å¯¹äºä»·å€¼ä½çš„åŠŸèƒ½é€æ­¥ä¸‹çº¿"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"5. åˆ¶å®šä¸‹çº¿æ²Ÿé€šå’Œè¿ç§»æ–¹æ¡ˆ"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"kpis"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"targetResourceSaving"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0.20</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"estimatedFeatureImprovement"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"timeline"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1ä¸ªæœˆå®Œæˆè¯„ä¼°ï¼Œ2ä¸ªæœˆæ‰§è¡Œ"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"owner"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"äº§å“å›¢é˜Ÿ + ç ”å‘å›¢é˜Ÿ"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-22">æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-23">æ•°æ®å‡†å¤‡</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âœ“ å¥½çš„åšæ³•ï¼šæ•°æ®æ¸…æ´—å’ŒéªŒè¯</span>
<span class="hljs-keyword">public</span> List&lt;UserBehaviorLog&gt; <span class="hljs-title function_">prepareData</span><span class="hljs-params">(List&lt;UserBehaviorLog&gt; rawLogs)</span> {
    <span class="hljs-keyword">return</span> rawLogs.stream()
        .filter(log -&gt; log.getUserId() != <span class="hljs-literal">null</span>)  <span class="hljs-comment">// è¿‡æ»¤ç©ºID</span>
        .filter(log -&gt; log.getTimestamp() != <span class="hljs-literal">null</span>)  <span class="hljs-comment">// è¿‡æ»¤ç©ºæ—¶é—´</span>
        .filter(log -&gt; isValidDuration(log.getDuration()))  <span class="hljs-comment">// éªŒè¯æ—¶é•¿</span>
        .peek(log -&gt; normalizeAction(log))  <span class="hljs-comment">// æ ‡å‡†åŒ–è¡Œä¸º</span>
        .collect(Collectors.toList());
}

<span class="hljs-comment">// âœ— ä¸å¥½çš„åšæ³•ï¼šç›´æ¥ä½¿ç”¨åŸå§‹æ•°æ®</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">analyze</span><span class="hljs-params">(List&lt;UserBehaviorLog&gt; rawLogs)</span> {
    <span class="hljs-comment">// å¯èƒ½åŒ…å«è„æ•°æ®ï¼Œå¯¼è‡´åˆ†æç»“æœä¸å‡†ç¡®</span>
    processor.analyze(rawLogs);
}
</code></pre>
<h3 data-id="heading-24">å‚æ•°é…ç½®</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âœ“ å¥½çš„åšæ³•ï¼šæ ¹æ®ä¸šåŠ¡åœºæ™¯è°ƒæ•´å‚æ•°</span>
<span class="hljs-type">AnalysisConfig</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> AnalysisConfig.builder()
    .churnThresholdDays(<span class="hljs-number">7</span>)  <span class="hljs-comment">// B2Bäº§å“ç”¨7å¤©</span>
    .confidenceLevel(<span class="hljs-number">0.95</span>)  <span class="hljs-comment">// é«˜ç½®ä¿¡åº¦</span>
    .clusterCount(<span class="hljs-number">5</span>)  <span class="hljs-comment">// 5ä¸ªç”¨æˆ·åˆ†ç¾¤</span>
    .minDataQualityScore(<span class="hljs-number">80.0</span>)  <span class="hljs-comment">// è¦æ±‚é«˜è´¨é‡æ•°æ®</span>
    .build();

<span class="hljs-comment">// âœ— ä¸å¥½çš„åšæ³•ï¼šä½¿ç”¨é»˜è®¤é…ç½®</span>
<span class="hljs-type">AnalysisConfig</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> AnalysisConfig.getDefault();  <span class="hljs-comment">// å¯èƒ½ä¸é€‚åˆä¸šåŠ¡</span>
</code></pre>
<h3 data-id="heading-25">ç»“æœåº”ç”¨</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âœ“ å¥½çš„åšæ³•ï¼šå»ºç«‹æ´å¯Ÿåˆ°è¡ŒåŠ¨çš„é—­ç¯</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleAnalysisResult</span><span class="hljs-params">(AnalysisResult result)</span> {
    <span class="hljs-comment">// 1. ä¿å­˜æ´å¯Ÿ</span>
    insightService.saveInsights(result.getInsights());
    
    <span class="hljs-comment">// 2. è§¦å‘é¢„è­¦</span>
    result.getChurnPrediction().getChurnRiskUserIds()
        .forEach(userId -&gt; alertService.sendChurnAlert(userId));
    
    <span class="hljs-comment">// 3. ç”Ÿæˆå·¥å•</span>
    result.getRecommendations().stream()
        .filter(r -&gt; r.getPriority().equals(<span class="hljs-string">"critical"</span>))
        .forEach(r -&gt; ticketService.createTicket(r));
    
    <span class="hljs-comment">// 4. è·Ÿè¸ªæ‰§è¡Œ</span>
    trackingService.trackRecommendations(result.getRecommendations());
}

<span class="hljs-comment">// âœ— ä¸å¥½çš„åšæ³•ï¼šåªçœ‹æŠ¥å‘Šä¸è¡ŒåŠ¨</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleAnalysisResult</span><span class="hljs-params">(AnalysisResult result)</span> {
    log.info(<span class="hljs-string">"Analysis result: {}"</span>, result);  <span class="hljs-comment">// ä»…è®°å½•æ—¥å¿—</span>
}
</code></pre>
<h3 data-id="heading-26">2.2 Skillå®šä¹‰è§£æ</h3>
<p><strong>YAML Front Matterè®¾è®¡è€ƒè™‘</strong>ï¼š</p>
<ol>
<li><strong>ç‰ˆæœ¬ç®¡ç†</strong>ï¼šé‡‡ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬å·</li>
<li><strong>ä¾èµ–å£°æ˜</strong>ï¼šæ˜ç¡®ä¾èµ–çš„å…¶ä»–Skill</li>
<li><strong>èµ„æºè¦æ±‚</strong>ï¼šå£°æ˜è¿è¡Œæ—¶èµ„æºéœ€æ±‚</li>
<li><strong>å‚æ•°é…ç½®</strong>ï¼šæä¾›çµæ´»çš„å‚æ•°è°ƒæ•´</li>
<li><strong>å®šä»·æ¨¡å‹</strong>ï¼šæ”¯æŒå…è´¹å’Œä»˜è´¹ç‰ˆæœ¬</li>
</ol>
<p><strong>Markdown Bodyè®¾è®¡è€ƒè™‘</strong>ï¼š</p>
<ol>
<li><strong>ç»“æ„æ¸…æ™°</strong>ï¼šä»ç›®æ ‡â†’æ–¹æ³•â†’ç¤ºä¾‹â†’æœ€ä½³å®è·µ</li>
<li><strong>å¯è¯»æ€§å¼º</strong>ï¼šä½¿ç”¨è¡¨æ ¼ã€åˆ—è¡¨ã€ä»£ç å—</li>
<li><strong>ç¤ºä¾‹ä¸°å¯Œ</strong>ï¼šåŒ…å«è¾“å…¥è¾“å‡ºç¤ºä¾‹</li>
<li><strong>å®ç”¨å¯¼å‘</strong>ï¼šæä¾›æœ€ä½³å®è·µå’Œæ³¨æ„äº‹é¡¹</li>
</ol>
<hr/>
<h2 data-id="heading-27">3. æ•°æ®æ¨¡å‹å®šä¹‰</h2>
<h3 data-id="heading-28">3.1 æ ¸å¿ƒæ•°æ®æ¨¡å‹</h3>
<p><strong>ç”¨æˆ·è¡Œä¸ºæ—¥å¿—</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> io.agentscope.skill.analytics.model;

<span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> lombok.Builder;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.annotation.JsonFormat;
<span class="hljs-keyword">import</span> java.time.LocalDateTime;

<span class="hljs-comment">/**
 * ç”¨æˆ·è¡Œä¸ºæ—¥å¿—
 */</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-meta">@Builder</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserBehaviorLog</span> {
    
    <span class="hljs-comment">/**
     * ç”¨æˆ·ID
     */</span>
    <span class="hljs-keyword">private</span> String userId;
    
    <span class="hljs-comment">/**
     * è¡Œä¸ºæ—¶é—´
     */</span>
    <span class="hljs-meta">@JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss")</span>
    <span class="hljs-keyword">private</span> LocalDateTime timestamp;
    
    <span class="hljs-comment">/**
     * è¡Œä¸ºç±»å‹
     * ä¾‹å¦‚ï¼šlogin, logout, view, edit, share, download
     */</span>
    <span class="hljs-keyword">private</span> String action;
    
    <span class="hljs-comment">/**
     * æŒç»­æ—¶é•¿(æ¯«ç§’)
     */</span>
    <span class="hljs-keyword">private</span> Long duration;
    
    <span class="hljs-comment">/**
     * åŠŸèƒ½æ¨¡å—
     * ä¾‹å¦‚ï¼šdocument, project, chat, dashboard
     */</span>
    <span class="hljs-keyword">private</span> String feature;
    
    <span class="hljs-comment">/**
     * è®¾å¤‡ç±»å‹
     * ä¾‹å¦‚ï¼šweb, ios, android, desktop
     */</span>
    <span class="hljs-keyword">private</span> String device;
    
    <span class="hljs-comment">/**
     * ä¼šè¯ID
     */</span>
    <span class="hljs-keyword">private</span> String sessionId;
    
    <span class="hljs-comment">/**
     * IPåœ°å€
     */</span>
    <span class="hljs-keyword">private</span> String ipAddress;
    
    <span class="hljs-comment">/**
     * åœ°ç†ä½ç½®
     */</span>
    <span class="hljs-keyword">private</span> String location;
    
    <span class="hljs-comment">/**
     * æ‰©å±•å±æ€§
     */</span>
    <span class="hljs-keyword">private</span> java.util.Map&lt;String, Object&gt; properties;
}
</code></pre>
<p><strong>åˆ†æé…ç½®</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> io.agentscope.skill.analytics.model;

<span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> lombok.Builder;

<span class="hljs-comment">/**
 * åˆ†æé…ç½®
 */</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-meta">@Builder</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AnalysisConfig</span> {
    
    <span class="hljs-comment">/**
     * ç½®ä¿¡æ°´å¹³
     */</span>
    <span class="hljs-meta">@Builder</span>.Default
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> <span class="hljs-variable">confidenceLevel</span> <span class="hljs-operator">=</span> <span class="hljs-number">0.95</span>;
    
    <span class="hljs-comment">/**
     * æµå¤±åˆ¤å®šå¤©æ•°é˜ˆå€¼
     */</span>
    <span class="hljs-meta">@Builder</span>.Default
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">churnThresholdDays</span> <span class="hljs-operator">=</span> <span class="hljs-number">7</span>;
    
    <span class="hljs-comment">/**
     * ç”¨æˆ·åˆ†ç¾¤æ•°é‡
     */</span>
    <span class="hljs-meta">@Builder</span>.Default
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">clusterCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>;
    
    <span class="hljs-comment">/**
     * æœ€ä½æ•°æ®è´¨é‡åˆ†æ•°
     */</span>
    <span class="hljs-meta">@Builder</span>.Default
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> <span class="hljs-variable">minDataQualityScore</span> <span class="hljs-operator">=</span> <span class="hljs-number">70.0</span>;
    
    <span class="hljs-comment">/**
     * æ˜¯å¦å¯ç”¨ç¼“å­˜
     */</span>
    <span class="hljs-meta">@Builder</span>.Default
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">cacheEnabled</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;
    
    <span class="hljs-comment">/**
     * ç¼“å­˜è¿‡æœŸæ—¶é—´(ç§’)
     */</span>
    <span class="hljs-meta">@Builder</span>.Default
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">cacheExpiration</span> <span class="hljs-operator">=</span> <span class="hljs-number">1800</span>;
    
    <span class="hljs-comment">/**
     * æ˜¯å¦å¯ç”¨å¹¶è¡Œå¤„ç†
     */</span>
    <span class="hljs-meta">@Builder</span>.Default
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">parallelEnabled</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;
    
    <span class="hljs-comment">/**
     * çº¿ç¨‹æ± å¤§å°
     */</span>
    <span class="hljs-meta">@Builder</span>.Default
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">threadPoolSize</span> <span class="hljs-operator">=</span> <span class="hljs-number">4</span>;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> AnalysisConfig <span class="hljs-title function_">getDefault</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> AnalysisConfig.builder().build();
    }
}
</code></pre>
<p><strong>åˆ†æç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> io.agentscope.skill.analytics.model;

<span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> java.time.LocalDate;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * åˆ†æç»“æœ
 */</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AnalysisResult</span> {
    
    <span class="hljs-comment">/**
     * æ‰§è¡ŒçŠ¶æ€
     */</span>
    <span class="hljs-keyword">private</span> String status;
    
    <span class="hljs-comment">/**
     * é”™è¯¯ä¿¡æ¯
     */</span>
    <span class="hljs-keyword">private</span> String errorMessage;
    
    <span class="hljs-comment">/**
     * åˆ†ææ—¥æœŸ
     */</span>
    <span class="hljs-keyword">private</span> LocalDate analysisDate;
    
    <span class="hljs-comment">/**
     * æ€»ç”¨æˆ·æ•°
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> totalUsers;
    
    <span class="hljs-comment">/**
     * æ•°æ®è´¨é‡åˆ†æ•°
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> dataQualityScore;
    
    <span class="hljs-comment">/**
     * æ‰§è¡Œæ—¶é—´(æ¯«ç§’)
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> executionTime;
    
    <span class="hljs-comment">/**
     * ç”¨æˆ·æ´»è·ƒåº¦æŒ‡æ ‡
     */</span>
    <span class="hljs-keyword">private</span> UserActivityMetrics activityMetrics;
    
    <span class="hljs-comment">/**
     * ç”¨æˆ·åˆ†å±‚ç»“æœ
     */</span>
    <span class="hljs-keyword">private</span> UserSegmentationResult segmentation;
    
    <span class="hljs-comment">/**
     * åŠŸèƒ½ä½¿ç”¨æŒ‡æ ‡
     */</span>
    <span class="hljs-keyword">private</span> FeatureUsageMetrics featureMetrics;
    
    <span class="hljs-comment">/**
     * æµå¤±é¢„æµ‹ç»“æœ
     */</span>
    <span class="hljs-keyword">private</span> ChurnPredictionResult churnPrediction;
    
    <span class="hljs-comment">/**
     * ä¸šåŠ¡æ´å¯Ÿåˆ—è¡¨
     */</span>
    <span class="hljs-keyword">private</span> List&lt;Insight&gt; insights;
    
    <span class="hljs-comment">/**
     * è¡ŒåŠ¨å»ºè®®åˆ—è¡¨
     */</span>
    <span class="hljs-keyword">private</span> List&lt;Recommendation&gt; recommendations;
    
    <span class="hljs-comment">/**
     * å…ƒæ•°æ®
     */</span>
    <span class="hljs-keyword">private</span> java.util.Map&lt;String, Object&gt; metadata;
}
</code></pre>
<p><strong>ç”¨æˆ·æ´»è·ƒåº¦æŒ‡æ ‡</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> io.agentscope.skill.analytics.model;

<span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-comment">/**
 * ç”¨æˆ·æ´»è·ƒåº¦æŒ‡æ ‡
 */</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserActivityMetrics</span> {
    
    <span class="hljs-comment">/**
     * æ—¥æ´»è·ƒç”¨æˆ·æ•°
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> dau;
    
    <span class="hljs-comment">/**
     * å‘¨æ´»è·ƒç”¨æˆ·æ•°
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> wau;
    
    <span class="hljs-comment">/**
     * æœˆæ´»è·ƒç”¨æˆ·æ•°
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> mau;
    
    <span class="hljs-comment">/**
     * DAU/WAUæ¯”ç‡
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> dauWauRatio;
    
    <span class="hljs-comment">/**
     * WAU/MAUæ¯”ç‡
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> wauMauRatio;
    
    <span class="hljs-comment">/**
     * æ¬¡æ—¥ç•™å­˜ç‡
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> day1Retention;
    
    <span class="hljs-comment">/**
     * 7æ—¥ç•™å­˜ç‡
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> day7Retention;
    
    <span class="hljs-comment">/**
     * 30æ—¥ç•™å­˜ç‡
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> day30Retention;
    
    <span class="hljs-comment">/**
     * å°æ—¶æ´»è·ƒåˆ†å¸ƒ
     * Key: å°æ—¶(0-23), Value: æ´»è·ƒæ¬¡æ•°
     */</span>
    <span class="hljs-keyword">private</span> Map&lt;Integer, Long&gt; hourlyDistribution;
    
    <span class="hljs-comment">/**
     * å¹³å‡ä¼šè¯æ—¶é•¿(ç§’)
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> avgSessionDuration;
    
    <span class="hljs-comment">/**
     * å¹³å‡ä¼šè¯æ¬¡æ•°/ç”¨æˆ·
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> avgSessionsPerUser;
}
</code></pre>
<p><strong>ç”¨æˆ·åˆ†å±‚ç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> io.agentscope.skill.analytics.model;

<span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * ç”¨æˆ·åˆ†å±‚ç»“æœ
 */</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserSegmentationResult</span> {
    
    <span class="hljs-comment">/**
     * åˆ†å±‚æ–¹æ³•
     */</span>
    <span class="hljs-keyword">private</span> String method;
    
    <span class="hljs-comment">/**
     * æ€»ç”¨æˆ·æ•°
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> totalUsers;
    
    <span class="hljs-comment">/**
     * åˆ†å±‚ç»“æœ
     */</span>
    <span class="hljs-keyword">private</span> List&lt;UserSegment&gt; segments;
}

<span class="hljs-comment">/**
 * ç”¨æˆ·åˆ†ç¾¤
 */</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserSegment</span> {
    
    <span class="hljs-comment">/**
     * åˆ†ç¾¤åç§°
     */</span>
    <span class="hljs-keyword">private</span> String name;
    
    <span class="hljs-comment">/**
     * ç”¨æˆ·æ•°é‡
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> userCount;
    
    <span class="hljs-comment">/**
     * å æ¯”
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> percentage;
    
    <span class="hljs-comment">/**
     * æè¿°
     */</span>
    <span class="hljs-keyword">private</span> String description;
    
    <span class="hljs-comment">/**
     * ç”¨æˆ·IDåˆ—è¡¨(å¯é€‰)
     */</span>
    <span class="hljs-keyword">private</span> List&lt;String&gt; userIds;
    
    <span class="hljs-comment">/**
     * å¹³å‡Rå€¼
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> avgRecency;
    
    <span class="hljs-comment">/**
     * å¹³å‡Få€¼
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> avgFrequency;
    
    <span class="hljs-comment">/**
     * å¹³å‡Må€¼
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> avgMonetary;
    
    <span class="hljs-comment">/**
     * ç‰¹å¾æ ‡ç­¾
     */</span>
    <span class="hljs-keyword">private</span> List&lt;String&gt; characteristics;
}
</code></pre>
<p><strong>RFMæŒ‡æ ‡</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> io.agentscope.skill.analytics.model;

<span class="hljs-keyword">import</span> lombok.Data;

<span class="hljs-comment">/**
 * RFMæŒ‡æ ‡
 */</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RFMMetrics</span> {
    
    <span class="hljs-comment">/**
     * Recency: æœ€è¿‘ä¸€æ¬¡æ´»åŠ¨è·ä»Šå¤©æ•°
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> recency;
    
    <span class="hljs-comment">/**
     * Frequency: æ´»åŠ¨é¢‘æ¬¡
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> frequency;
    
    <span class="hljs-comment">/**
     * Monetary: ä½¿ç”¨æ—¶é•¿(ä»£è¡¨ä»·å€¼)
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> monetary;
    
    <span class="hljs-comment">/**
     * Rè¯„åˆ†(1-5)
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> rScore;
    
    <span class="hljs-comment">/**
     * Fè¯„åˆ†(1-5)
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> fScore;
    
    <span class="hljs-comment">/**
     * Mè¯„åˆ†(1-5)
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> mScore;
    
    <span class="hljs-comment">/**
     * ç»¼åˆè¯„åˆ†
     */</span>
    <span class="hljs-keyword">private</span> String rfmScore;  <span class="hljs-comment">// ä¾‹å¦‚: "543"</span>
}
</code></pre>
<p><strong>åŠŸèƒ½ä½¿ç”¨æŒ‡æ ‡</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> io.agentscope.skill.analytics.model;

<span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-comment">/**
 * åŠŸèƒ½ä½¿ç”¨æŒ‡æ ‡
 */</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FeatureUsageMetrics</span> {
    
    <span class="hljs-comment">/**
     * åŠŸèƒ½ä½¿ç”¨é¢‘ç‡
     * Key: åŠŸèƒ½å, Value: ä½¿ç”¨æ¬¡æ•°
     */</span>
    <span class="hljs-keyword">private</span> Map&lt;String, Long&gt; featureFrequency;
    
    <span class="hljs-comment">/**
     * åŠŸèƒ½å¹³å‡ä½¿ç”¨æ—¶é•¿
     * Key: åŠŸèƒ½å, Value: å¹³å‡æ—¶é•¿(ms)
     */</span>
    <span class="hljs-keyword">private</span> Map&lt;String, Double&gt; featureAvgDuration;
    
    <span class="hljs-comment">/**
     * åŠŸèƒ½ç”¨æˆ·æ•°
     * Key: åŠŸèƒ½å, Value: ä½¿ç”¨è¯¥åŠŸèƒ½çš„ç”¨æˆ·æ•°
     */</span>
    <span class="hljs-keyword">private</span> Map&lt;String, Long&gt; featureUserCount;
    
    <span class="hljs-comment">/**
     * TopåŠŸèƒ½åˆ—è¡¨
     */</span>
    <span class="hljs-keyword">private</span> List&lt;String&gt; topFeatures;
    
    <span class="hljs-comment">/**
     * å†·é—¨åŠŸèƒ½åˆ—è¡¨
     */</span>
    <span class="hljs-keyword">private</span> List&lt;String&gt; underusedFeatures;
    
    <span class="hljs-comment">/**
     * åŠŸèƒ½æ¸—é€ç‡
     * Key: åŠŸèƒ½å, Value: æ¸—é€ç‡(0-1)
     */</span>
    <span class="hljs-keyword">private</span> Map&lt;String, Double&gt; featurePenetration;
}
</code></pre>
<p><strong>æµå¤±é¢„æµ‹ç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> io.agentscope.skill.analytics.model;

<span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-comment">/**
 * æµå¤±é¢„æµ‹ç»“æœ
 */</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ChurnPredictionResult</span> {
    
    <span class="hljs-comment">/**
     * æ€»ç”¨æˆ·æ•°
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> totalUsers;
    
    <span class="hljs-comment">/**
     * æµå¤±é£é™©ç”¨æˆ·æ•°
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> churnRiskUsers;
    
    <span class="hljs-comment">/**
     * æµå¤±ç‡
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> churnRate;
    
    <span class="hljs-comment">/**
     * æ¨¡å‹å‡†ç¡®ç‡
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> modelAccuracy;
    
    <span class="hljs-comment">/**
     * ä¸»è¦æµå¤±å› ç´ 
     */</span>
    <span class="hljs-keyword">private</span> List&lt;String&gt; topRiskFactors;
    
    <span class="hljs-comment">/**
     * æµå¤±é£é™©ç”¨æˆ·IDåˆ—è¡¨
     */</span>
    <span class="hljs-keyword">private</span> List&lt;String&gt; churnRiskUserIds;
    
    <span class="hljs-comment">/**
     * é£é™©ç­‰çº§åˆ†å¸ƒ
     * Key: é£é™©ç­‰çº§(high/medium/low), Value: ç”¨æˆ·æ•°
     */</span>
    <span class="hljs-keyword">private</span> Map&lt;String, Integer&gt; riskDistribution;
}

<span class="hljs-comment">/**
 * æµå¤±é£é™©è¯„åˆ†
 */</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ChurnRiskScore</span> {
    
    <span class="hljs-comment">/**
     * æ˜¯å¦é«˜é£é™©
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> isHighRisk;
    
    <span class="hljs-comment">/**
     * é£é™©åˆ†æ•°(0-1)
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> riskScore;
    
    <span class="hljs-comment">/**
     * é£é™©å› ç´ åˆ—è¡¨
     */</span>
    <span class="hljs-keyword">private</span> List&lt;String&gt; factors = <span class="hljs-keyword">new</span> <span class="hljs-title class_">java</span>.util.ArrayList&lt;&gt;();
}
</code></pre>
<p><strong>ä¸šåŠ¡æ´å¯Ÿ</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> io.agentscope.skill.analytics.model;

<span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * ä¸šåŠ¡æ´å¯Ÿ
 */</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Insight</span> {
    
    <span class="hljs-comment">/**
     * æ´å¯Ÿåˆ†ç±»
     * trend, anomaly, pattern, correlation, opportunity
     */</span>
    <span class="hljs-keyword">private</span> String category;
    
    <span class="hljs-comment">/**
     * ä¸¥é‡ç¨‹åº¦
     * critical, high, medium, low
     */</span>
    <span class="hljs-keyword">private</span> String severity;
    
    <span class="hljs-comment">/**
     * æè¿°
     */</span>
    <span class="hljs-keyword">private</span> String description;
    
    <span class="hljs-comment">/**
     * è¯æ®åˆ—è¡¨
     */</span>
    <span class="hljs-keyword">private</span> List&lt;String&gt; evidence;
    
    <span class="hljs-comment">/**
     * ç½®ä¿¡åº¦
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> confidence;
    
    <span class="hljs-comment">/**
     * å½±å“åˆ†æ•°(0-10)
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> impactScore;
    
    <span class="hljs-comment">/**
     * ç›¸å…³æŒ‡æ ‡
     */</span>
    <span class="hljs-keyword">private</span> java.util.Map&lt;String, Object&gt; relatedMetrics;
}
</code></pre>
<p><strong>è¡ŒåŠ¨å»ºè®®</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> io.agentscope.skill.analytics.model;

<span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-comment">/**
 * è¡ŒåŠ¨å»ºè®®
 */</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Recommendation</span> {
    
    <span class="hljs-comment">/**
     * ä¼˜å…ˆçº§
     * critical, high, medium, low
     */</span>
    <span class="hljs-keyword">private</span> String priority;
    
    <span class="hljs-comment">/**
     * å»ºè®®è¡ŒåŠ¨
     */</span>
    <span class="hljs-keyword">private</span> String action;
    
    <span class="hljs-comment">/**
     * ç†ç”±
     */</span>
    <span class="hljs-keyword">private</span> String rationale;
    
    <span class="hljs-comment">/**
     * é¢„æœŸå½±å“
     */</span>
    <span class="hljs-keyword">private</span> String expectedImpact;
    
    <span class="hljs-comment">/**
     * å®æ–½æ­¥éª¤
     */</span>
    <span class="hljs-keyword">private</span> List&lt;String&gt; implementation;
    
    <span class="hljs-comment">/**
     * KPIç›®æ ‡
     */</span>
    <span class="hljs-keyword">private</span> Map&lt;String, Object&gt; kpis;
    
    <span class="hljs-comment">/**
     * æ—¶é—´çº¿
     */</span>
    <span class="hljs-keyword">private</span> String timeline;
    
    <span class="hljs-comment">/**
     * è´Ÿè´£äºº
     */</span>
    <span class="hljs-keyword">private</span> String owner;
    
    <span class="hljs-comment">/**
     * æ‰€éœ€èµ„æº
     */</span>
    <span class="hljs-keyword">private</span> Map&lt;String, Object&gt; resources;
}
</code></pre>
<hr/>
<h2 data-id="heading-29">4. Hookç›‘æ§ç³»ç»Ÿå®ç°</h2>
<h3 data-id="heading-30">4.1 Hookç³»ç»Ÿè®¾è®¡</h3>
<p><strong>è®¾è®¡ç›®æ ‡</strong>ï¼š</p>
<ol>
<li><strong>é€æ˜æ€§</strong>ï¼šåˆ†æè¿‡ç¨‹å…¨ç¨‹å¯è§</li>
<li><strong>å¯è¿½è¸ª</strong>ï¼šæ¯ä¸ªæ­¥éª¤éƒ½æœ‰æ—¥å¿—è®°å½•</li>
<li><strong>å¯ä¿¡èµ–</strong>ï¼šæ•°æ®è´¨é‡å®æ—¶æ£€æŸ¥</li>
<li><strong>æ€§èƒ½ç›‘æ§</strong>ï¼šå®æ—¶æ”¶é›†æ€§èƒ½æŒ‡æ ‡</li>
</ol>
<p><strong>Hookæ‹¦æˆªç‚¹</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">åˆ†ææµç¨‹ï¼š
  â”‚
  â”œâ”€â”€â–¶ <span class="hljs-built_in">onAgentStart</span>()        # åˆ†æå¼€å§‹
  â”‚
  â”œâ”€â”€â–¶ <span class="hljs-built_in">onDataQualityCheck</span>()  # æ•°æ®è´¨é‡æ£€æŸ¥
  â”‚
  â”œâ”€â”€â–¶ <span class="hljs-built_in">onToolStart</span>()         # å·¥å…·æ‰§è¡Œå¼€å§‹
  â”‚   â”œâ”€ æ•°æ®é¢„å¤„ç†
  â”‚   â”œâ”€ ç”¨æˆ·æ´»è·ƒåº¦åˆ†æ
  â”‚   â”œâ”€ ç”¨æˆ·åˆ†å±‚
  â”‚   â”œâ”€ åŠŸèƒ½ä½¿ç”¨åˆ†æ
  â”‚   â””â”€ æµå¤±é£é™©é¢„æµ‹
  â”‚
  â”œâ”€â”€â–¶ <span class="hljs-built_in">onToolEnd</span>()           # å·¥å…·æ‰§è¡Œç»“æŸ
  â”‚
  â”œâ”€â”€â–¶ <span class="hljs-built_in">onStatisticalAnalysis</span>() # ç»Ÿè®¡åˆ†æç»“æœ
  â”‚
  â”œâ”€â”€â–¶ <span class="hljs-built_in">onUserSegmentation</span>()    # ç”¨æˆ·åˆ†å±‚ç»“æœ
  â”‚
  â”œâ”€â”€â–¶ <span class="hljs-built_in">onChurnPrediction</span>()     # æµå¤±é¢„æµ‹ç»“æœ
  â”‚
  â”œâ”€â”€â–¶ <span class="hljs-built_in">onInsightGeneration</span>()   # æ´å¯Ÿç”Ÿæˆ
  â”‚
  â”œâ”€â”€â–¶ <span class="hljs-built_in">onRecommendationGeneration</span>() # å»ºè®®ç”Ÿæˆ
  â”‚
  â””â”€â”€â–¶ <span class="hljs-built_in">onAgentEnd</span>()          # åˆ†æç»“æŸ
</code></pre>
<h3 data-id="heading-31">4.2 å®Œæ•´Hookå®ç°</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> io.agentscope.skill.analytics.hooks;

<span class="hljs-keyword">import</span> io.agentscope.core.hook.Hook;
<span class="hljs-keyword">import</span> io.agentscope.core.msg.Msg;
<span class="hljs-keyword">import</span> lombok.extern.slf4j.Slf4j;
<span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> java.time.LocalDateTime;
<span class="hljs-keyword">import</span> java.time.Duration;
<span class="hljs-keyword">import</span> java.util.*;
<span class="hljs-keyword">import</span> java.util.concurrent.ConcurrentHashMap;

<span class="hljs-comment">/**
 * ç”¨æˆ·è¡Œä¸ºåˆ†æHook - ç›‘æ§åˆ†æå…¨è¿‡ç¨‹
 * 
 * åŠŸèƒ½ï¼š
 * 1. åˆ†æè¿‡ç¨‹è¿½è¸ªï¼šè®°å½•æ¯ä¸ªæ­¥éª¤çš„æ‰§è¡Œæƒ…å†µ
 * 2. æ€§èƒ½ç›‘æ§ï¼šæ”¶é›†æ‰§è¡Œæ—¶é—´å’Œèµ„æºä½¿ç”¨
 * 3. æ•°æ®è´¨é‡æ£€æŸ¥ï¼šå®æ—¶æ£€æŸ¥æ•°æ®è´¨é‡é—®é¢˜
 * 4. ç»“æœå¯è§†åŒ–ï¼šç”Ÿæˆå¯è¯»çš„åˆ†ææŠ¥å‘Š
 * 
 * <span class="hljs-doctag">@author</span> Product Analytics Team
 * <span class="hljs-doctag">@version</span> 1.0.0
 */</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserBehaviorAnalysisHook</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Hook</span> {
    
    <span class="hljs-comment">// åˆ†æè¿‡ç¨‹è¿½è¸ª</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, AnalysisTrace&gt; traces = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
    
    <span class="hljs-comment">// æ€§èƒ½æŒ‡æ ‡æ”¶é›†</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, PerformanceMetrics&gt; metrics = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
    
    <span class="hljs-comment">// æ•°æ®è´¨é‡æ£€æŸ¥è®°å½•</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> List&lt;DataQualityIssue&gt; qualityIssues = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    
    <span class="hljs-comment">// å½“å‰TraceID (çº¿ç¨‹å±€éƒ¨å˜é‡)</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ThreadLocal&lt;String&gt; currentTraceId = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;&gt;();
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Msg <span class="hljs-title function_">onAgentStart</span><span class="hljs-params">(Msg msg)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">traceId</span> <span class="hljs-operator">=</span> UUID.randomUUID().toString();
        currentTraceId.set(traceId);
        
        <span class="hljs-type">AnalysisTrace</span> <span class="hljs-variable">trace</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AnalysisTrace</span>(traceId);
        trace.startTime = LocalDateTime.now();
        trace.inputMsg = msg;
        traces.put(traceId, trace);
        
        log.info(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span>.repeat(<span class="hljs-number">80</span>));
        log.info(<span class="hljs-string">"ğŸš€ [åˆ†æå¼€å§‹] TraceID: {}"</span>, traceId);
        log.info(<span class="hljs-string">"ğŸ“¥ è¾“å…¥æ•°æ®: {} æ¡ç”¨æˆ·è¡Œä¸ºè®°å½•"</span>, extractRecordCount(msg));
        log.info(<span class="hljs-string">"ğŸ“… å¼€å§‹æ—¶é—´: {}"</span>, trace.startTime);
        log.info(<span class="hljs-string">"="</span>.repeat(<span class="hljs-number">80</span>));
        
        <span class="hljs-comment">// åœ¨æ¶ˆæ¯ä¸­é™„åŠ TraceID</span>
        Map&lt;String, Object&gt; metadata = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;(msg.getMetadata());
        metadata.put(<span class="hljs-string">"traceId"</span>, traceId);
        <span class="hljs-keyword">return</span> Msg.builder()
            .from(msg)
            .metadata(metadata)
            .build();
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Msg <span class="hljs-title function_">onToolStart</span><span class="hljs-params">(String toolName, Map&lt;String, Object&gt; toolArgs)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">traceId</span> <span class="hljs-operator">=</span> currentTraceId.get();
        <span class="hljs-keyword">if</span> (traceId == <span class="hljs-literal">null</span>) {
            log.warn(<span class="hljs-string">"æœªfoundæœ‰æ•ˆçš„TraceIDï¼Œè·³è¿‡Hook"</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        
        <span class="hljs-type">AnalysisTrace</span> <span class="hljs-variable">trace</span> <span class="hljs-operator">=</span> traces.get(traceId);
        <span class="hljs-keyword">if</span> (trace == <span class="hljs-literal">null</span>) {
            log.warn(<span class="hljs-string">"TraceID {} å¯¹åº”çš„Traceä¸å­˜åœ¨"</span>, traceId);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        
        <span class="hljs-type">AnalysisStep</span> <span class="hljs-variable">step</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AnalysisStep</span>();
        step.stepName = toolName;
        step.startTime = LocalDateTime.now();
        step.args = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;(toolArgs);
        trace.steps.add(step);
        
        log.info(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"-"</span>.repeat(<span class="hljs-number">80</span>));
        log.info(<span class="hljs-string">"ğŸ”§ [æ­¥éª¤å¼€å§‹] {} (#{})"</span> , toolName, trace.steps.size());
        log.info(<span class="hljs-string">"ğŸ“Š å‚æ•°: {}"</span>, formatArgs(toolArgs));
        log.info(<span class="hljs-string">"ğŸ•’ å¼€å§‹æ—¶é—´: {}"</span>, step.startTime);
        
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Msg <span class="hljs-title function_">onToolEnd</span><span class="hljs-params">(String toolName, Object result)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">traceId</span> <span class="hljs-operator">=</span> currentTraceId.get();
        <span class="hljs-keyword">if</span> (traceId == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        
        <span class="hljs-type">AnalysisTrace</span> <span class="hljs-variable">trace</span> <span class="hljs-operator">=</span> traces.get(traceId);
        <span class="hljs-keyword">if</span> (trace == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        
        <span class="hljs-type">AnalysisStep</span> <span class="hljs-variable">step</span> <span class="hljs-operator">=</span> trace.getCurrentStep();
        <span class="hljs-keyword">if</span> (step == <span class="hljs-literal">null</span>) {
            log.warn(<span class="hljs-string">"å½“å‰æ­¥éª¤ä¸ºç©ºï¼Œå¯èƒ½æ˜¯ä¸åŒ¹é…çš„onToolStartå’ŒonToolEnd"</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        
        step.endTime = LocalDateTime.now();
        step.result = result;
        step.success = <span class="hljs-literal">true</span>;
        
        <span class="hljs-type">long</span> <span class="hljs-variable">duration</span> <span class="hljs-operator">=</span> Duration.between(step.startTime, step.endTime).toMillis();
        
        log.info(<span class="hljs-string">"âœ… [æ­¥éª¤å®Œæˆ] {} - è€—æ—¶: {}ms"</span>, toolName, duration);
        log.info(<span class="hljs-string">"ğŸ“ˆ ç»“æœæ‘˜è¦: {}"</span>, formatResult(result));
        log.info(<span class="hljs-string">"ğŸ•’ ç»“æŸæ—¶é—´: {}"</span>, step.endTime);
        log.info(<span class="hljs-string">"-"</span>.repeat(<span class="hljs-number">80</span>));
        
        <span class="hljs-comment">// æ”¶é›†æ€§èƒ½æŒ‡æ ‡</span>
        collectPerformanceMetrics(toolName, duration);
        
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Msg <span class="hljs-title function_">onToolError</span><span class="hljs-params">(String toolName, Throwable error)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">traceId</span> <span class="hljs-operator">=</span> currentTraceId.get();
        <span class="hljs-keyword">if</span> (traceId == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        
        <span class="hljs-type">AnalysisTrace</span> <span class="hljs-variable">trace</span> <span class="hljs-operator">=</span> traces.get(traceId);
        <span class="hljs-keyword">if</span> (trace == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        
        <span class="hljs-type">AnalysisStep</span> <span class="hljs-variable">step</span> <span class="hljs-operator">=</span> trace.getCurrentStep();
        <span class="hljs-keyword">if</span> (step != <span class="hljs-literal">null</span>) {
            step.endTime = LocalDateTime.now();
            step.success = <span class="hljs-literal">false</span>;
            step.error = error.getMessage();
            step.stackTrace = getStackTrace(error);
        }
        
        log.error(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"!"</span>.repeat(<span class="hljs-number">80</span>));
        log.error(<span class="hljs-string">"âŒ [æ­¥éª¤å¤±è´¥] {}"</span>, toolName);
        log.error(<span class="hljs-string">"ğŸ’¥ é”™è¯¯ä¿¡æ¯: {}"</span>, error.getMessage());
        log.error(<span class="hljs-string">"ğŸ“œ é”™è¯¯ç±»å‹: {}"</span>, error.getClass().getName());
        <span class="hljs-keyword">if</span> (log.isDebugEnabled()) {
            log.debug(<span class="hljs-string">"ğŸ” å †æ ˆè¿½è¸ª:"</span>, error);
        }
        log.error(<span class="hljs-string">"!"</span>.repeat(<span class="hljs-number">80</span>));
        
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Msg <span class="hljs-title function_">onAgentEnd</span><span class="hljs-params">(Msg msg)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">traceId</span> <span class="hljs-operator">=</span> currentTraceId.get();
        <span class="hljs-keyword">if</span> (traceId == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> msg;
        
        <span class="hljs-type">AnalysisTrace</span> <span class="hljs-variable">trace</span> <span class="hljs-operator">=</span> traces.get(traceId);
        <span class="hljs-keyword">if</span> (trace == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> msg;
        
        trace.endTime = LocalDateTime.now();
        trace.outputMsg = msg;
        
        <span class="hljs-type">long</span> <span class="hljs-variable">totalDuration</span> <span class="hljs-operator">=</span> Duration.between(trace.startTime, trace.endTime).toMillis();
        
        log.info(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span>.repeat(<span class="hljs-number">80</span>));
        log.info(<span class="hljs-string">"ğŸ‰ [åˆ†æå®Œæˆ] TraceID: {}"</span>, traceId);
        log.info(<span class="hljs-string">"â±ï¸  æ€»è€—æ—¶: {}ms ({} ç§’)"</span>, totalDuration, String.format(<span class="hljs-string">"%.2f"</span>, totalDuration / <span class="hljs-number">1000.0</span>));
        log.info(<span class="hljs-string">"ğŸ“Š æ‰§è¡Œæ­¥éª¤: {} ä¸ª"</span>, trace.steps.size());
        log.info(<span class="hljs-string">"âœ… æˆåŠŸæ­¥éª¤: {} ä¸ª"</span>, trace.getSuccessfulSteps());
        log.info(<span class="hljs-string">"âŒ å¤±è´¥æ­¥éª¤: {} ä¸ª"</span>, trace.getFailedSteps());
        
        <span class="hljs-keyword">if</span> (!qualityIssues.isEmpty()) {
            log.warn(<span class="hljs-string">"\nâš ï¸  æ•°æ®è´¨é‡é—®é¢˜: {} ä¸ª"</span>, qualityIssues.size());
            qualityIssues.forEach(issue -&gt; 
                log.warn(<span class="hljs-string">"   - {}: {}"</span>, issue.type, issue.description)
            );
        }
        
        <span class="hljs-comment">// ç”Ÿæˆåˆ†ææŠ¥å‘Šæ‘˜è¦</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">summary</span> <span class="hljs-operator">=</span> generateAnalysisSummary(trace);
        log.info(<span class="hljs-string">"\nğŸ“‹ åˆ†ææ‘˜è¦:\n{}"</span>, summary);
        log.info(<span class="hljs-string">"="</span>.repeat(<span class="hljs-number">80</span>) + <span class="hljs-string">"\n"</span>);
        
        <span class="hljs-comment">// æ¸…ç†çº¿ç¨‹å±€éƒ¨å˜é‡</span>
        currentTraceId.remove();
        
        <span class="hljs-keyword">return</span> msg;
    }
    
    <span class="hljs-comment">/**
     * æ•°æ®è´¨é‡æ£€æŸ¥Hook
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onDataQualityCheck</span><span class="hljs-params">(String checkType, Map&lt;String, Object&gt; checkResult)</span> {
        log.info(<span class="hljs-string">"\nğŸ” [æ•°æ®è´¨é‡æ£€æŸ¥] {}"</span>, checkType);
        
        <span class="hljs-type">Boolean</span> <span class="hljs-variable">passed</span> <span class="hljs-operator">=</span> (Boolean) checkResult.get(<span class="hljs-string">"passed"</span>);
        <span class="hljs-type">Double</span> <span class="hljs-variable">score</span> <span class="hljs-operator">=</span> (Double) checkResult.get(<span class="hljs-string">"score"</span>);
        
        <span class="hljs-keyword">if</span> (passed) {
            log.info(<span class="hljs-string">"   âœ“ é€šè¿‡ - è´¨é‡åˆ†æ•°: {}/100"</span>, String.format(<span class="hljs-string">"%.1f"</span>, score));
        } <span class="hljs-keyword">else</span> {
            log.warn(<span class="hljs-string">"   âœ— æœªé€šè¿‡ - è´¨é‡åˆ†æ•°: {}/100"</span>, String.format(<span class="hljs-string">"%.1f"</span>, score));
            
            <span class="hljs-meta">@SuppressWarnings("unchecked")</span>
            List&lt;String&gt; issues = (List&lt;String&gt;) checkResult.get(<span class="hljs-string">"issues"</span>);
            <span class="hljs-keyword">if</span> (issues != <span class="hljs-literal">null</span> &amp;&amp; !issues.isEmpty()) {
                log.warn(<span class="hljs-string">"   æ£€æŸ¥åˆ°çš„é—®é¢˜:"</span>);
                issues.forEach(issue -&gt; {
                    log.warn(<span class="hljs-string">"      âš  {}"</span>, issue);
                    qualityIssues.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">DataQualityIssue</span>(checkType, issue));
                });
            }
        }
        
        <span class="hljs-comment">// è¾“å‡ºè¯¦ç»†æŒ‡æ ‡</span>
        <span class="hljs-type">Integer</span> <span class="hljs-variable">totalRecords</span> <span class="hljs-operator">=</span> (Integer) checkResult.get(<span class="hljs-string">"totalRecords"</span>);
        <span class="hljs-type">Integer</span> <span class="hljs-variable">completeRecords</span> <span class="hljs-operator">=</span> (Integer) checkResult.get(<span class="hljs-string">"completeRecords"</span>);
        <span class="hljs-type">Double</span> <span class="hljs-variable">completeness</span> <span class="hljs-operator">=</span> (Double) checkResult.get(<span class="hljs-string">"completeness"</span>);
        
        <span class="hljs-keyword">if</span> (totalRecords != <span class="hljs-literal">null</span> &amp;&amp; completeRecords != <span class="hljs-literal">null</span>) {
            log.info(<span class="hljs-string">"   ğŸ“Š æ•°æ®æ€»é‡: {} æ¡"</span>, totalRecords);
            log.info(<span class="hljs-string">"   âœ… å®Œæ•´è®°å½•: {} æ¡"</span>, completeRecords);
        }
        <span class="hljs-keyword">if</span> (completeness != <span class="hljs-literal">null</span>) {
            log.info(<span class="hljs-string">"   ğŸ“ˆ å®Œæ•´åº¦: {}%"</span>, String.format(<span class="hljs-string">"%.1f"</span>, completeness));
        }
    }
    
    <span class="hljs-comment">/**
     * ç»Ÿè®¡åˆ†æHook
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onStatisticalAnalysis</span><span class="hljs-params">(String analysisType, Map&lt;String, Object&gt; results)</span> {
        log.info(<span class="hljs-string">"\nğŸ“Š [ç»Ÿè®¡åˆ†æ] {}"</span>, analysisType);
        
        results.forEach((key, value) -&gt; {
            <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">instanceof</span> Number) {
                log.info(<span class="hljs-string">"   â€¢ {}: {}"</span>, formatMetricName(key), formatNumber((Number) value));
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">instanceof</span> Map) {
                log.info(<span class="hljs-string">"   â€¢ {}:"</span>, formatMetricName(key));
                <span class="hljs-meta">@SuppressWarnings("unchecked")</span>
                Map&lt;String, Object&gt; nested = (Map&lt;String, Object&gt;) value;
                nested.forEach((k, v) -&gt; {
                    <span class="hljs-keyword">if</span> (v <span class="hljs-keyword">instanceof</span> Number) {
                        log.info(<span class="hljs-string">"      - {}: {}"</span>, k, formatNumber((Number) v));
                    } <span class="hljs-keyword">else</span> {
                        log.info(<span class="hljs-string">"      - {}: {}"</span>, k, v);
                    }
                });
            }
        });
    }
    
    <span class="hljs-comment">/**
     * ç”¨æˆ·åˆ†å±‚Hook
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onUserSegmentation</span><span class="hljs-params">(String method, <span class="hljs-type">int</span> clusterCount, Map&lt;String, Object&gt; clusterInfo)</span> {
        log.info(<span class="hljs-string">"\nğŸ‘¥ [ç”¨æˆ·åˆ†å±‚] æ–¹æ³•: {}, åˆ†ç¾¤æ•°: {}"</span>, method, clusterCount);
        
        <span class="hljs-meta">@SuppressWarnings("unchecked")</span>
        List&lt;Map&lt;String, Object&gt;&gt; clusters = (List&lt;Map&lt;String, Object&gt;&gt;) clusterInfo.get(<span class="hljs-string">"clusters"</span>);
        
        <span class="hljs-keyword">if</span> (clusters != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; clusters.size(); i++) {
                Map&lt;String, Object&gt; cluster = clusters.get(i);
                <span class="hljs-type">Object</span> <span class="hljs-variable">userCount</span> <span class="hljs-operator">=</span> cluster.get(<span class="hljs-string">"userCount"</span>);
                <span class="hljs-type">Object</span> <span class="hljs-variable">percentage</span> <span class="hljs-operator">=</span> cluster.get(<span class="hljs-string">"percentage"</span>);
                <span class="hljs-type">Object</span> <span class="hljs-variable">characteristics</span> <span class="hljs-operator">=</span> cluster.get(<span class="hljs-string">"characteristics"</span>);
                
                log.info(<span class="hljs-string">"   ç¾¤ç»„ {}: {} ç”¨æˆ· ({}%)"</span>, 
                    i + <span class="hljs-number">1</span>,
                    userCount,
                    percentage <span class="hljs-keyword">instanceof</span> Number ? 
                        String.format(<span class="hljs-string">"%.1f"</span>, ((Number) percentage).doubleValue()) : percentage
                );
                log.info(<span class="hljs-string">"      ç‰¹å¾: {}"</span>, characteristics);
            }
        }
    }
    
    <span class="hljs-comment">/**
     * æµå¤±é¢„æµ‹Hook
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onChurnPrediction</span><span class="hljs-params">(Map&lt;String, Object&gt; predictionResult)</span> {
        log.info(<span class="hljs-string">"\nâš ï¸  [æµå¤±é¢„æµ‹]"</span>);
        
        <span class="hljs-type">Integer</span> <span class="hljs-variable">totalUsers</span> <span class="hljs-operator">=</span> (Integer) predictionResult.get(<span class="hljs-string">"totalUsers"</span>);
        <span class="hljs-type">Integer</span> <span class="hljs-variable">churnRiskUsers</span> <span class="hljs-operator">=</span> (Integer) predictionResult.get(<span class="hljs-string">"churnRiskUsers"</span>);
        <span class="hljs-type">Double</span> <span class="hljs-variable">churnRate</span> <span class="hljs-operator">=</span> (Double) predictionResult.get(<span class="hljs-string">"churnRate"</span>);
        <span class="hljs-type">Double</span> <span class="hljs-variable">modelAccuracy</span> <span class="hljs-operator">=</span> (Double) predictionResult.get(<span class="hljs-string">"modelAccuracy"</span>);
        
        log.info(<span class="hljs-string">"   ğŸ‘¥ æ€»ç”¨æˆ·æ•°: {} äºº"</span>, totalUsers);
        log.info(<span class="hljs-string">"   âš ï¸  æµå¤±é£é™©ç”¨æˆ·: {} äºº ({}%)"</span>, 
            churnRiskUsers, 
            churnRate != <span class="hljs-literal">null</span> ? String.format(<span class="hljs-string">"%.2f"</span>, churnRate * <span class="hljs-number">100</span>) : <span class="hljs-string">"N/A"</span>
        );
        log.info(<span class="hljs-string">"   ğŸ¯ æ¨¡å‹å‡†ç¡®ç‡: {}%"</span>, 
            modelAccuracy != <span class="hljs-literal">null</span> ? String.format(<span class="hljs-string">"%.1f"</span>, modelAccuracy * <span class="hljs-number">100</span>) : <span class="hljs-string">"N/A"</span>
        );
        
        <span class="hljs-meta">@SuppressWarnings("unchecked")</span>
        List&lt;String&gt; riskFactors = (List&lt;String&gt;) predictionResult.get(<span class="hljs-string">"topRiskFactors"</span>);
        <span class="hljs-keyword">if</span> (riskFactors != <span class="hljs-literal">null</span> &amp;&amp; !riskFactors.isEmpty()) {
            log.info(<span class="hljs-string">"   ğŸ“‰ ä¸»è¦æµå¤±å› ç´ :"</span>);
            riskFactors.forEach(factor -&gt; log.info(<span class="hljs-string">"      â€¢ {}"</span>, factor));
        }
    }
    
    <span class="hljs-comment">/**
     * æ´å¯Ÿç”ŸæˆHook
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onInsightGeneration</span><span class="hljs-params">(List&lt;Map&lt;String, Object&gt;&gt; insights)</span> {
        log.info(<span class="hljs-string">"\nğŸ’¡ [ç”Ÿæˆæ´å¯Ÿ] å‘ç° {} æ¡å…³é”®æ´å¯Ÿ"</span>, insights.size());
        
        insights.forEach(insight -&gt; {
            <span class="hljs-type">String</span> <span class="hljs-variable">category</span> <span class="hljs-operator">=</span> (String) insight.get(<span class="hljs-string">"category"</span>);
            <span class="hljs-type">String</span> <span class="hljs-variable">severity</span> <span class="hljs-operator">=</span> (String) insight.get(<span class="hljs-string">"severity"</span>);
            <span class="hljs-type">String</span> <span class="hljs-variable">description</span> <span class="hljs-operator">=</span> (String) insight.get(<span class="hljs-string">"description"</span>);
            
            <span class="hljs-type">String</span> <span class="hljs-variable">icon</span> <span class="hljs-operator">=</span> getSeverityIcon(severity);
            log.info(<span class="hljs-string">"   {} [{}] {}"</span>, icon, category != <span class="hljs-literal">null</span> ? category.toUpperCase() : <span class="hljs-string">"UNKNOWN"</span>, description);
            
            <span class="hljs-meta">@SuppressWarnings("unchecked")</span>
            List&lt;String&gt; evidence = (List&lt;String&gt;) insight.get(<span class="hljs-string">"evidence"</span>);
            <span class="hljs-keyword">if</span> (evidence != <span class="hljs-literal">null</span> &amp;&amp; !evidence.isEmpty()) {
                log.info(<span class="hljs-string">"      è¯æ®:"</span>);
                evidence.forEach(e -&gt; log.info(<span class="hljs-string">"         - {}"</span>, e));
            }
            
            <span class="hljs-type">Double</span> <span class="hljs-variable">confidence</span> <span class="hljs-operator">=</span> (Double) insight.get(<span class="hljs-string">"confidence"</span>);
            <span class="hljs-keyword">if</span> (confidence != <span class="hljs-literal">null</span>) {
                log.info(<span class="hljs-string">"      ç½®ä¿¡åº¦: {}%"</span>, String.format(<span class="hljs-string">"%.1f"</span>, confidence * <span class="hljs-number">100</span>));
            }
        });
    }
    
    <span class="hljs-comment">/**
     * æ¨èç”ŸæˆHook
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onRecommendationGeneration</span><span class="hljs-params">(List&lt;Map&lt;String, Object&gt;&gt; recommendations)</span> {
        log.info(<span class="hljs-string">"\nğŸ¯ [ç”Ÿæˆå»ºè®®] æä¾› {} æ¡è¡ŒåŠ¨å»ºè®®"</span>, recommendations.size());
        
        recommendations.forEach(rec -&gt; {
            <span class="hljs-type">String</span> <span class="hljs-variable">priority</span> <span class="hljs-operator">=</span> (String) rec.get(<span class="hljs-string">"priority"</span>);
            <span class="hljs-type">String</span> <span class="hljs-variable">action</span> <span class="hljs-operator">=</span> (String) rec.get(<span class="hljs-string">"action"</span>);
            <span class="hljs-type">String</span> <span class="hljs-variable">expectedImpact</span> <span class="hljs-operator">=</span> (String) rec.get(<span class="hljs-string">"expectedImpact"</span>);
            
            <span class="hljs-type">String</span> <span class="hljs-variable">icon</span> <span class="hljs-operator">=</span> getPriorityIcon(priority);
            log.info(<span class="hljs-string">"   {} [{}] {}"</span>, 
                icon, 
                priority != <span class="hljs-literal">null</span> ? priority.toUpperCase() : <span class="hljs-string">"UNKNOWN"</span>, 
                action
            );
            
            <span class="hljs-keyword">if</span> (expectedImpact != <span class="hljs-literal">null</span>) {
                log.info(<span class="hljs-string">"      é¢„æœŸå½±å“: {}"</span>, expectedImpact);
            }
            
            <span class="hljs-meta">@SuppressWarnings("unchecked")</span>
            List&lt;String&gt; implementation = (List&lt;String&gt;) rec.get(<span class="hljs-string">"implementation"</span>);
            <span class="hljs-keyword">if</span> (implementation != <span class="hljs-literal">null</span> &amp;&amp; !implementation.isEmpty()) {
                log.info(<span class="hljs-string">"      å®æ–½æ­¥éª¤:"</span>);
                implementation.forEach(step -&gt; log.info(<span class="hljs-string">"         {}"</span>, step));
            }
        });
    }
    
    <span class="hljs-comment">// ========== è¾…åŠ©æ–¹æ³• ==========</span>
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">extractRecordCount</span><span class="hljs-params">(Msg msg)</span> {
        <span class="hljs-keyword">if</span> (msg.getMetadata().containsKey(<span class="hljs-string">"recordCount"</span>)) {
            <span class="hljs-keyword">return</span> (Integer) msg.getMetadata().get(<span class="hljs-string">"recordCount"</span>);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    }
    
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">formatArgs</span><span class="hljs-params">(Map&lt;String, Object&gt; args)</span> {
        <span class="hljs-keyword">if</span> (args == <span class="hljs-literal">null</span> || args.isEmpty()) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"{}"</span>;
        }
        <span class="hljs-keyword">if</span> (args.size() &lt;= <span class="hljs-number">3</span>) {
            <span class="hljs-keyword">return</span> args.toString();
        }
        <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"{%d parameters}"</span>, args.size());
    }
    
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">formatResult</span><span class="hljs-params">(Object result)</span> {
        <span class="hljs-keyword">if</span> (result == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"null"</span>;
        }
        <span class="hljs-keyword">if</span> (result <span class="hljs-keyword">instanceof</span> Map) {
            <span class="hljs-meta">@SuppressWarnings("unchecked")</span>
            Map&lt;String, Object&gt; map = (Map&lt;String, Object&gt;) result;
            <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"{%d items}"</span>, map.size());
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (result <span class="hljs-keyword">instanceof</span> List) {
            List&lt;?&gt; list = (List&lt;?&gt;) result;
            <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"[%d items]"</span>, list.size());
        }
        <span class="hljs-keyword">return</span> result.toString();
    }
    
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">formatNumber</span><span class="hljs-params">(Number num)</span> {
        <span class="hljs-keyword">if</span> (num == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"N/A"</span>;
        }
        <span class="hljs-keyword">if</span> (num <span class="hljs-keyword">instanceof</span> Double || num <span class="hljs-keyword">instanceof</span> Float) {
            <span class="hljs-type">double</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> num.doubleValue();
            <span class="hljs-comment">// å¦‚æœæ˜¯ç™¾åˆ†æ¯”ï¼ˆ0-1ï¼‰æˆ–è€…å°æ•°</span>
            <span class="hljs-keyword">if</span> (value &gt; <span class="hljs-number">0</span> &amp;&amp; value &lt; <span class="hljs-number">1</span>) {
                <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"%.2f%%"</span>, value * <span class="hljs-number">100</span>);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (value &gt; <span class="hljs-number">1</span> &amp;&amp; value &lt; <span class="hljs-number">10</span>) {
                <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"%.2f"</span>, value);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"%.0f"</span>, value);
            }
        }
        <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"%,d"</span>, num.longValue());
    }
    
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">formatMetricName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-keyword">if</span> (name == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        <span class="hljs-comment">// å°†camelCaseè½¬æ¢ä¸ºå¯è¯»æ ¼å¼</span>
        <span class="hljs-keyword">return</span> name.replaceAll(<span class="hljs-string">"([A-Z])"</span>, <span class="hljs-string">" $1"</span>)
                  .toLowerCase()
                  .replaceFirst(<span class="hljs-string">"^(.)"</span>, s -&gt; s.toUpperCase());
    }
    
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">getSeverityIcon</span><span class="hljs-params">(String severity)</span> {
        <span class="hljs-keyword">if</span> (severity == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"âšª"</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">switch</span> (severity.toLowerCase()) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">"critical"</span> -&gt; <span class="hljs-string">"ğŸ”´"</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"high"</span> -&gt; <span class="hljs-string">"ğŸŸ "</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"medium"</span> -&gt; <span class="hljs-string">"ğŸŸ¡"</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"low"</span> -&gt; <span class="hljs-string">"ğŸŸ¢"</span>;
            <span class="hljs-keyword">default</span> -&gt; <span class="hljs-string">"âšª"</span>;
        };
    }
    
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">getPriorityIcon</span><span class="hljs-params">(String priority)</span> {
        <span class="hljs-keyword">if</span> (priority == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"â€¢"</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">switch</span> (priority.toLowerCase()) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">"critical"</span> -&gt; <span class="hljs-string">"ğŸ”¥"</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"high"</span> -&gt; <span class="hljs-string">"â­"</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"medium"</span> -&gt; <span class="hljs-string">"ğŸ“Œ"</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"low"</span> -&gt; <span class="hljs-string">"ğŸ’¡"</span>;
            <span class="hljs-keyword">default</span> -&gt; <span class="hljs-string">"â€¢"</span>;
        };
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">collectPerformanceMetrics</span><span class="hljs-params">(String stepName, <span class="hljs-type">long</span> duration)</span> {
        metrics.computeIfAbsent(stepName, k -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceMetrics</span>())
              .addMeasurement(duration);
    }
    
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">getStackTrace</span><span class="hljs-params">(Throwable error)</span> {
        <span class="hljs-keyword">if</span> (error == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        sb.append(error.getClass().getName()).append(<span class="hljs-string">": "</span>).append(error.getMessage()).append(<span class="hljs-string">"\n"</span>);
        <span class="hljs-keyword">for</span> (StackTraceElement element : error.getStackTrace()) {
            sb.append(<span class="hljs-string">"    at "</span>).append(element.toString()).append(<span class="hljs-string">"\n"</span>);
            <span class="hljs-keyword">if</span> (sb.length() &gt; <span class="hljs-number">1000</span>) {  <span class="hljs-comment">// é™åˆ¶é•¿åº¦</span>
                sb.append(<span class="hljs-string">"    ...\n"</span>);
                <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-keyword">return</span> sb.toString();
    }
    
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">generateAnalysisSummary</span><span class="hljs-params">(AnalysisTrace trace)</span> {
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        
        sb.append(<span class="hljs-string">"\nåˆ†ææ‰§è¡Œæ¦‚è§ˆ:"</span>);
        sb.append(<span class="hljs-string">"\nâ€¢ æˆåŠŸæ­¥éª¤: "</span>).append(trace.getSuccessfulSteps()).append(<span class="hljs-string">"/"</span>).append(trace.steps.size());
        sb.append(<span class="hljs-string">"\nâ€¢ å¤±è´¥æ­¥éª¤: "</span>).append(trace.getFailedSteps());
        
        <span class="hljs-keyword">if</span> (!trace.steps.isEmpty()) {
            sb.append(<span class="hljs-string">"\n\nå„æ­¥éª¤è€—æ—¶:"</span>);
            trace.steps.forEach(step -&gt; {
                <span class="hljs-type">long</span> <span class="hljs-variable">duration</span> <span class="hljs-operator">=</span> step.endTime != <span class="hljs-literal">null</span> ? 
                    Duration.between(step.startTime, step.endTime).toMillis() : <span class="hljs-number">0</span>;
                <span class="hljs-type">String</span> <span class="hljs-variable">status</span> <span class="hljs-operator">=</span> step.success ? <span class="hljs-string">"âœ“"</span> : <span class="hljs-string">"âœ—"</span>;
                sb.append(String.format(<span class="hljs-string">"\n  %s %-30s %6dms"</span>, 
                    status, 
                    truncate(step.stepName, <span class="hljs-number">30</span>), 
                    duration
                ));
            });
        }
        
        <span class="hljs-keyword">if</span> (!metrics.isEmpty()) {
            sb.append(<span class="hljs-string">"\n\næ€§èƒ½æŒ‡æ ‡:"</span>);
            metrics.forEach((stepName, metric) -&gt; {
                sb.append(String.format(<span class="hljs-string">"\n  %-30s å¹³å‡: %6.1fms, æœ€å¤§: %6dms, æ¬¡æ•°: %d"</span>,
                    truncate(stepName, <span class="hljs-number">30</span>),
                    metric.getAverage(),
                    metric.getMax(),
                    metric.getCount()
                ));
            });
        }
        
        <span class="hljs-keyword">if</span> (!qualityIssues.isEmpty()) {
            sb.append(<span class="hljs-string">"\n\næ•°æ®è´¨é‡é—®é¢˜:"</span>);
            qualityIssues.stream()
                .limit(<span class="hljs-number">10</span>)  <span class="hljs-comment">// æœ€å¤šæ˜¾ç¤º10ä¸ª</span>
                .forEach(issue -&gt; {
                    sb.append(String.format(<span class="hljs-string">"\n  âš  [%s] %s"</span>, issue.type, issue.description));
                });
            <span class="hljs-keyword">if</span> (qualityIssues.size() &gt; <span class="hljs-number">10</span>) {
                sb.append(<span class="hljs-string">"\n  ... è¿˜æœ‰ "</span>).append(qualityIssues.size() - <span class="hljs-number">10</span>).append(<span class="hljs-string">" ä¸ªé—®é¢˜"</span>);
            }
        }
        
        <span class="hljs-keyword">return</span> sb.toString();
    }
    
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">truncate</span><span class="hljs-params">(String str, <span class="hljs-type">int</span> maxLen)</span> {
        <span class="hljs-keyword">if</span> (str == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        <span class="hljs-keyword">if</span> (str.length() &lt;= maxLen) <span class="hljs-keyword">return</span> str;
        <span class="hljs-keyword">return</span> str.substring(<span class="hljs-number">0</span>, maxLen - <span class="hljs-number">3</span>) + <span class="hljs-string">"..."</span>;
    }
    
    <span class="hljs-comment">/**
     * è·å–åˆ†æè¿½è¸ªç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> AnalysisTrace <span class="hljs-title function_">getTrace</span><span class="hljs-params">(String traceId)</span> {
        <span class="hljs-keyword">return</span> traces.get(traceId);
    }
    
    <span class="hljs-comment">/**
     * è·å–æ‰€æœ‰è¿½è¸ªç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> Map&lt;String, AnalysisTrace&gt; <span class="hljs-title function_">getAllTraces</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;(traces);
    }
    
    <span class="hljs-comment">/**
     * æ¸…ç†è¿½è¸ªæ•°æ®
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">clearTraces</span><span class="hljs-params">()</span> {
        traces.clear();
        metrics.clear();
        qualityIssues.clear();
        log.info(<span class="hljs-string">"å·²æ¸…ç†æ‰€æœ‰è¿½è¸ªæ•°æ®"</span>);
    }
    
    <span class="hljs-comment">// ========== å†…éƒ¨ç±» ==========</span>
    
    <span class="hljs-comment">/**
     * åˆ†æè¿½è¸ª
     */</span>
    <span class="hljs-meta">@Data</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AnalysisTrace</span> {
        String traceId;
        LocalDateTime startTime;
        LocalDateTime endTime;
        Msg inputMsg;
        Msg outputMsg;
        List&lt;AnalysisStep&gt; steps = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">AnalysisTrace</span><span class="hljs-params">(String traceId)</span> {
            <span class="hljs-built_in">this</span>.traceId = traceId;
        }
        
        <span class="hljs-keyword">public</span> AnalysisStep <span class="hljs-title function_">getCurrentStep</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> steps.isEmpty() ? <span class="hljs-literal">null</span> : steps.get(steps.size() - <span class="hljs-number">1</span>);
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getSuccessfulSteps</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> steps.stream().filter(s -&gt; s.success).count();
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getFailedSteps</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> steps.stream().filter(s -&gt; !s.success).count();
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getTotalDuration</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">if</span> (startTime == <span class="hljs-literal">null</span> || endTime == <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
            }
            <span class="hljs-keyword">return</span> Duration.between(startTime, endTime).toMillis();
        }
    }
    
    <span class="hljs-comment">/**
     * åˆ†ææ­¥éª¤
     */</span>
    <span class="hljs-meta">@Data</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AnalysisStep</span> {
        String stepName;
        LocalDateTime startTime;
        LocalDateTime endTime;
        Map&lt;String, Object&gt; args;
        Object result;
        <span class="hljs-type">boolean</span> success;
        String error;
        String stackTrace;
        
        <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getDuration</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">if</span> (startTime == <span class="hljs-literal">null</span> || endTime == <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
            }
            <span class="hljs-keyword">return</span> Duration.between(startTime, endTime).toMillis();
        }
    }
    
    <span class="hljs-comment">/**
     * æ•°æ®è´¨é‡é—®é¢˜
     */</span>
    <span class="hljs-meta">@Data</span>
    <span class="hljs-meta">@lombok</span>.AllArgsConstructor
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataQualityIssue</span> {
        String type;
        String description;
    }
    
    <span class="hljs-comment">/**
     * æ€§èƒ½æŒ‡æ ‡
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PerformanceMetrics</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> List&lt;Long&gt; measurements = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addMeasurement</span><span class="hljs-params">(<span class="hljs-type">long</span> duration)</span> {
            measurements.add(duration);
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-type">double</span> <span class="hljs-title function_">getAverage</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> measurements.stream()
                .mapToLong(Long::longValue)
                .average()
                .orElse(<span class="hljs-number">0.0</span>);
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getMax</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> measurements.stream()
                .mapToLong(Long::longValue)
                .max()
                .orElse(<span class="hljs-number">0L</span>);
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getMin</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> measurements.stream()
                .mapToLong(Long::longValue)
                .min()
                .orElse(<span class="hljs-number">0L</span>);
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getCount</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> measurements.size();
        }
    }
}
</code></pre>
<h3 data-id="heading-32">4.3 Hookä½¿ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> io.agentscope.skill.analytics.example;

<span class="hljs-keyword">import</span> io.agentscope.skill.analytics.hooks.UserBehaviorAnalysisHook;
<span class="hljs-keyword">import</span> io.agentscope.skill.analytics.processor.UserBehaviorAnalysisProcessor;
<span class="hljs-keyword">import</span> io.agentscope.skill.analytics.model.*;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * Hookä½¿ç”¨ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HookUsageExample</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// 1. åˆ›å»ºHookå®ä¾‹</span>
        <span class="hljs-type">UserBehaviorAnalysisHook</span> <span class="hljs-variable">hook</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserBehaviorAnalysisHook</span>();
        
        <span class="hljs-comment">// 2. åˆ›å»ºåˆ†æå¤„ç†å™¨ï¼ˆæ³¨å…¥Hookï¼‰</span>
        <span class="hljs-type">AnalysisConfig</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> AnalysisConfig.builder()
            .confidenceLevel(<span class="hljs-number">0.95</span>)
            .churnThresholdDays(<span class="hljs-number">7</span>)
            .clusterCount(<span class="hljs-number">5</span>)
            .build();
            
        <span class="hljs-type">UserBehaviorAnalysisProcessor</span> <span class="hljs-variable">processor</span> <span class="hljs-operator">=</span> 
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserBehaviorAnalysisProcessor</span>(hook, config);
        
        <span class="hljs-comment">// 3. åŠ è½½æ•°æ®</span>
        List&lt;UserBehaviorLog&gt; logs = loadUserBehaviorLogs();
        
        <span class="hljs-comment">// 4. æ‰§è¡Œåˆ†æï¼ˆHookä¼šè‡ªåŠ¨æ‹¦æˆªå„ä¸ªé˜¶æ®µï¼‰</span>
        <span class="hljs-type">AnalysisResult</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> processor.analyze(logs);
        
        <span class="hljs-comment">// 5. æŸ¥çœ‹è¿½è¸ªç»“æœ</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">traceId</span> <span class="hljs-operator">=</span> (String) result.getMetadata().get(<span class="hljs-string">"traceId"</span>);
        UserBehaviorAnalysisHook.<span class="hljs-type">AnalysisTrace</span> <span class="hljs-variable">trace</span> <span class="hljs-operator">=</span> hook.getTrace(traceId);
        
        System.out.println(<span class="hljs-string">"åˆ†ææ€»è€—æ—¶: "</span> + trace.getTotalDuration() + <span class="hljs-string">"ms"</span>);
        System.out.println(<span class="hljs-string">"æˆåŠŸæ­¥éª¤: "</span> + trace.getSuccessfulSteps());
        System.out.println(<span class="hljs-string">"å¤±è´¥æ­¥éª¤: "</span> + trace.getFailedSteps());
        
        <span class="hljs-comment">// 6. æ¸…ç†æ—§æ•°æ®</span>
        hook.clearTraces();
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> List&lt;UserBehaviorLog&gt; <span class="hljs-title function_">loadUserBehaviorLogs</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> ä»æ•°æ®åº“æˆ–æ–‡ä»¶åŠ è½½</span>
        <span class="hljs-keyword">return</span> List.of();
    }
}
</code></pre>
<h2 data-id="heading-33">5. æ ¸å¿ƒåˆ†æå¼•æ“å®ç°</h2>
<h3 data-id="heading-34">5.1 UserBehaviorAnalysisProcessor æ ¸å¿ƒç±»</h3>
<p>è¯¥ç±»æ˜¯æ•´ä¸ªåˆ†æç³»ç»Ÿçš„æ ¸å¿ƒï¼ŒåŒ…å«ä»¥ä¸‹ä¸»è¦æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserBehaviorAnalysisProcessor</span> {
    <span class="hljs-comment">// ä¸»å…¥å£</span>
    <span class="hljs-keyword">public</span> AnalysisResult <span class="hljs-title function_">analyze</span><span class="hljs-params">(List&lt;UserBehaviorLog&gt; behaviorLogs)</span>
    
    <span class="hljs-comment">// 1. æ•°æ®è´¨é‡æ£€æŸ¥</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">performDataQualityCheck</span><span class="hljs-params">(List&lt;UserBehaviorLog&gt; logs)</span>
    
    <span class="hljs-comment">// 2. æ•°æ®é¢„å¤„ç†  </span>
    <span class="hljs-keyword">private</span> List&lt;UserBehaviorLog&gt; <span class="hljs-title function_">preprocessData</span><span class="hljs-params">(List&lt;UserBehaviorLog&gt; logs)</span>
    
    <span class="hljs-comment">// 3. ç”¨æˆ·æ´»è·ƒåº¦åˆ†æ</span>
    <span class="hljs-keyword">private</span> UserActivityMetrics <span class="hljs-title function_">analyzeUserActivity</span><span class="hljs-params">(List&lt;UserBehaviorLog&gt; logs)</span>
    
    <span class="hljs-comment">// 4. ç”¨æˆ·åˆ†å±‚</span>
    <span class="hljs-keyword">private</span> UserSegmentationResult <span class="hljs-title function_">performUserSegmentation</span><span class="hljs-params">(List&lt;UserBehaviorLog&gt; logs)</span>
    
    <span class="hljs-comment">// 5. åŠŸèƒ½ä½¿ç”¨åˆ†æ</span>
    <span class="hljs-keyword">private</span> FeatureUsageMetrics <span class="hljs-title function_">analyzeFeatureUsage</span><span class="hljs-params">(List&lt;UserBehaviorLog&gt; logs)</span>
    
    <span class="hljs-comment">// 6. æµå¤±é¢„æµ‹</span>
    <span class="hljs-keyword">private</span> ChurnPredictionResult <span class="hljs-title function_">predictChurn</span><span class="hljs-params">(List&lt;UserBehaviorLog&gt; logs, ...)</span>
    
    <span class="hljs-comment">// 7. æ´å¯Ÿç”Ÿæˆ</span>
    <span class="hljs-keyword">private</span> List&lt;Insight&gt; <span class="hljs-title function_">generateInsights</span><span class="hljs-params">(AnalysisResult result)</span>
    
    <span class="hljs-comment">// 8. å»ºè®®ç”Ÿæˆ</span>
    <span class="hljs-keyword">private</span> List&lt;Recommendation&gt; <span class="hljs-title function_">generateRecommendations</span><span class="hljs-params">(AnalysisResult result)</span>
}
</code></pre>
<h3 data-id="heading-35">5.2 å…³é”®æ–¹æ³•å®ç°è¯¦è§£</h3>
<h4 data-id="heading-36">æ–¹æ³•1ï¼šæ•°æ®è´¨é‡æ£€æŸ¥</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">performDataQualityCheck</span><span class="hljs-params">(List&lt;UserBehaviorLog&gt; logs)</span> 
        <span class="hljs-keyword">throws</span> DataQualityException {
    Map&lt;String, Object&gt; checkResult = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
    List&lt;String&gt; issues = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    <span class="hljs-type">double</span> <span class="hljs-variable">qualityScore</span> <span class="hljs-operator">=</span> <span class="hljs-number">100.0</span>;
    
    <span class="hljs-comment">// 1. ç¼ºå¤±å€¼æ£€æŸ¥</span>
    <span class="hljs-type">long</span> <span class="hljs-variable">missingUserIdCount</span> <span class="hljs-operator">=</span> logs.stream()
        .filter(log -&gt; log.getUserId() == <span class="hljs-literal">null</span> || log.getUserId().isEmpty())
        .count();
    <span class="hljs-keyword">if</span> (missingUserIdCount &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-type">double</span> <span class="hljs-variable">missingRate</span> <span class="hljs-operator">=</span> (<span class="hljs-type">double</span>) missingUserIdCount / logs.size() * <span class="hljs-number">100</span>;
        issues.add(String.format(<span class="hljs-string">"ç¼ºå¤±user_id: %.2f%%"</span>, missingRate));
        qualityScore -= missingRate * <span class="hljs-number">0.5</span>;
    }
    
    <span class="hljs-comment">// 2. æ•°æ®æ–°é²œåº¦æ£€æŸ¥</span>
    <span class="hljs-type">LocalDateTime</span> <span class="hljs-variable">latestTimestamp</span> <span class="hljs-operator">=</span> logs.stream()
        .map(UserBehaviorLog::getTimestamp)
        .filter(Objects::nonNull)
        .max(LocalDateTime::compareTo)
        .orElse(LocalDateTime.now());
    
    <span class="hljs-type">long</span> <span class="hljs-variable">daysSinceLatest</span> <span class="hljs-operator">=</span> ChronoUnit.DAYS.between(
        latestTimestamp.toLocalDate(), LocalDate.now());
    <span class="hljs-keyword">if</span> (daysSinceLatest &gt; <span class="hljs-number">7</span>) {
        issues.add(String.format(<span class="hljs-string">"æ•°æ®ä¸æ–°é²œ: %då¤©å‰"</span>, daysSinceLatest));
        qualityScore -= Math.min(daysSinceLatest, <span class="hljs-number">20</span>);
    }
    
    <span class="hljs-comment">// 3. å¼‚å¸¸å€¼æ£€æŸ¥</span>
    <span class="hljs-type">long</span> <span class="hljs-variable">abnormalDurationCount</span> <span class="hljs-operator">=</span> logs.stream()
        .filter(log -&gt; log.getDuration() != <span class="hljs-literal">null</span> &amp;&amp; 
                      (log.getDuration() &lt; <span class="hljs-number">0</span> || log.getDuration() &gt; <span class="hljs-number">86400000</span>))
        .count();
    <span class="hljs-keyword">if</span> (abnormalDurationCount &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-type">double</span> <span class="hljs-variable">abnormalRate</span> <span class="hljs-operator">=</span> (<span class="hljs-type">double</span>) abnormalDurationCount / logs.size() * <span class="hljs-number">100</span>;
        issues.add(String.format(<span class="hljs-string">"å¼‚å¸¸æ—¶é•¿: %.2f%%"</span>, abnormalRate));
        qualityScore -= abnormalRate * <span class="hljs-number">0.3</span>;
    }
    
    <span class="hljs-comment">// 4. æ•°æ®å®Œæ•´æ€§</span>
    <span class="hljs-type">long</span> <span class="hljs-variable">completeRecords</span> <span class="hljs-operator">=</span> logs.stream()
        .filter(log -&gt; log.getUserId() != <span class="hljs-literal">null</span> &amp;&amp; 
                      log.getTimestamp() != <span class="hljs-literal">null</span> &amp;&amp; 
                      log.getAction() != <span class="hljs-literal">null</span>)
        .count();
    <span class="hljs-type">double</span> <span class="hljs-variable">completeness</span> <span class="hljs-operator">=</span> (<span class="hljs-type">double</span>) completeRecords / logs.size() * <span class="hljs-number">100</span>;
    
    <span class="hljs-comment">// è°ƒç”¨Hook</span>
    hook.onDataQualityCheck(<span class="hljs-string">"æ•°æ®è´¨é‡æ£€æŸ¥"</span>, checkResult);
    
    <span class="hljs-comment">// å¦‚æœè´¨é‡åˆ†æ•°è¿‡ä½ï¼ŒæŠ›å‡ºå¼‚å¸¸</span>
    <span class="hljs-keyword">if</span> (qualityScore &lt; config.getMinDataQualityScore()) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataQualityException</span>(
            String.format(<span class="hljs-string">"æ•°æ®è´¨é‡: %.1f/100"</span>, qualityScore));
    }
}
</code></pre>
<p><strong>è®¾è®¡äº®ç‚¹</strong>ï¼š</p>
<ul>
<li>âœ“ å¤šç»´åº¦æ£€æŸ¥ï¼šç¼ºå¤±å€¼ã€æ–°é²œåº¦ã€å¼‚å¸¸å€¼ã€å®Œæ•´æ€§</li>
<li>âœ“ é‡åŒ–è¯„åˆ†ï¼š100åˆ†åˆ¶ï¼Œå¯é…ç½®é˜ˆå€¼</li>
<li>âœ“ Hooké€šçŸ¥ï¼šå®æ—¶è¾“å‡ºæ£€æŸ¥ç»“æœ</li>
<li>âœ“ å¤±è´¥å¿«é€Ÿï¼šè´¨é‡ä¸è¾¾æ ‡ç«‹å³åœæ­¢</li>
</ul>
<h4 data-id="heading-37">æ–¹æ³•2ï¼šç”¨æˆ·æ´»è·ƒåº¦åˆ†æ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> UserActivityMetrics <span class="hljs-title function_">analyzeUserActivity</span><span class="hljs-params">(List&lt;UserBehaviorLog&gt; logs)</span> {
    <span class="hljs-type">UserActivityMetrics</span> <span class="hljs-variable">metrics</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserActivityMetrics</span>();
    <span class="hljs-type">LocalDate</span> <span class="hljs-variable">today</span> <span class="hljs-operator">=</span> LocalDate.now();
    
    <span class="hljs-comment">// è®¡ç®—DAU/WAU/MAU</span>
    Set&lt;String&gt; dauUsers = logs.stream()
        .filter(log -&gt; log.getTimestamp().toLocalDate().equals(today))
        .map(UserBehaviorLog::getUserId)
        .collect(Collectors.toSet());
    metrics.setDau(dauUsers.size());
    
    Set&lt;String&gt; wauUsers = logs.stream()
        .filter(log -&gt; !log.getTimestamp().toLocalDate()
            .isBefore(today.minusDays(<span class="hljs-number">7</span>)))
        .map(UserBehaviorLog::getUserId)
        .collect(Collectors.toSet());
    metrics.setWau(wauUsers.size());
    
    <span class="hljs-comment">// è®¡ç®—ç•™å­˜ç‡</span>
    Map&lt;String, LocalDate&gt; userFirstSeen = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
    logs.forEach(log -&gt; {
        <span class="hljs-type">LocalDate</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> log.getTimestamp().toLocalDate();
        userFirstSeen.merge(log.getUserId(), date, 
            (d1, d2) -&gt; d1.isBefore(d2) ? d1 : d2);
    });
    
    <span class="hljs-comment">// æ¬¡æ—¥ç•™å­˜</span>
    <span class="hljs-type">LocalDate</span> <span class="hljs-variable">yesterday</span> <span class="hljs-operator">=</span> today.minusDays(<span class="hljs-number">1</span>);
    <span class="hljs-type">long</span> <span class="hljs-variable">day1Users</span> <span class="hljs-operator">=</span> userFirstSeen.values().stream()
        .filter(d -&gt; d.equals(yesterday))
        .count();
    <span class="hljs-type">long</span> <span class="hljs-variable">day1Retained</span> <span class="hljs-operator">=</span> userFirstSeen.entrySet().stream()
        .filter(e -&gt; e.getValue().equals(yesterday))
        .filter(e -&gt; dauUsers.contains(e.getKey()))
        .count();
    metrics.setDay1Retention(day1Users &gt; <span class="hljs-number">0</span> ? 
        (<span class="hljs-type">double</span>) day1Retained / day1Users : <span class="hljs-number">0</span>);
    
    <span class="hljs-comment">// è°ƒç”¨Hook</span>
    hook.onStatisticalAnalysis(<span class="hljs-string">"ç”¨æˆ·æ´»è·ƒåº¦åˆ†æ"</span>, ...);
    
    <span class="hljs-keyword">return</span> metrics;
}
</code></pre>
<p><strong>è®¾è®¡äº®ç‚¹</strong>ï¼š</p>
<ul>
<li>âœ“ å®Œæ•´çš„DAU/WAU/MAUè®¡ç®—</li>
<li>âœ“ ç•™å­˜ç‡ç²¾ç¡®è®¡ç®—ï¼ˆæ¬¡æ—¥/7æ—¥/30æ—¥ï¼‰</li>
<li>âœ“ æ´»è·ƒæ—¶æ®µåˆ†å¸ƒç»Ÿè®¡</li>
<li>âœ“ å®æ—¶Hooké€šçŸ¥</li>
</ul>
<h4 data-id="heading-38">æ–¹æ³•3ï¼šRFMç”¨æˆ·åˆ†å±‚</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> Map&lt;String, RFMMetrics&gt; <span class="hljs-title function_">buildRFMModel</span><span class="hljs-params">(List&lt;UserBehaviorLog&gt; logs)</span> {
    Map&lt;String, RFMMetrics&gt; userRFM = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
    <span class="hljs-type">LocalDate</span> <span class="hljs-variable">today</span> <span class="hljs-operator">=</span> LocalDate.now();
    
    <span class="hljs-comment">// æŒ‰ç”¨æˆ·åˆ†ç»„</span>
    Map&lt;String, List&lt;UserBehaviorLog&gt;&gt; userLogs = logs.stream()
        .collect(Collectors.groupingBy(UserBehaviorLog::getUserId));
    
    userLogs.forEach((userId, userLogList) -&gt; {
        <span class="hljs-type">RFMMetrics</span> <span class="hljs-variable">rfm</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RFMMetrics</span>();
        
        <span class="hljs-comment">// Recency: æœ€è¿‘ä¸€æ¬¡æ´»åŠ¨è·ä»Šå¤©æ•°</span>
        <span class="hljs-type">LocalDate</span> <span class="hljs-variable">lastActivity</span> <span class="hljs-operator">=</span> userLogList.stream()
            .map(log -&gt; log.getTimestamp().toLocalDate())
            .max(LocalDate::compareTo)
            .orElse(today);
        rfm.setRecency((<span class="hljs-type">int</span>) ChronoUnit.DAYS.between(lastActivity, today));
        
        <span class="hljs-comment">// Frequency: æ´»åŠ¨é¢‘æ¬¡</span>
        rfm.setFrequency(userLogList.size());
        
        <span class="hljs-comment">// Monetary: ä½¿ç”¨æ—¶é•¿ï¼ˆä»£è¡¨ä»·å€¼ï¼‰</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">totalDuration</span> <span class="hljs-operator">=</span> userLogList.stream()
            .filter(log -&gt; log.getDuration() != <span class="hljs-literal">null</span>)
            .mapToLong(UserBehaviorLog::getDuration)
            .sum();
        rfm.setMonetary(totalDuration);
        
        userRFM.put(userId, rfm);
    });
    
    <span class="hljs-comment">// è®¡ç®—RFMè¯„åˆ†ï¼ˆ5åˆ†ä½æ•°æ³•ï¼‰</span>
    calculateRFMScores(userRFM);
    
    <span class="hljs-keyword">return</span> userRFM;
}

<span class="hljs-keyword">private</span> List&lt;UserSegment&gt; <span class="hljs-title function_">segmentUsersByRFM</span><span class="hljs-params">(Map&lt;String, RFMMetrics&gt; userRFM)</span> {
    Map&lt;String, List&lt;String&gt;&gt; segmentUsers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
    
    userRFM.forEach((userId, rfm) -&gt; {
        <span class="hljs-type">int</span> <span class="hljs-variable">r</span> <span class="hljs-operator">=</span> rfm.getRScore();  <span class="hljs-comment">// 1-5</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">f</span> <span class="hljs-operator">=</span> rfm.getFScore();  <span class="hljs-comment">// 1-5</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> rfm.getMScore();  <span class="hljs-comment">// 1-5</span>
        
        <span class="hljs-comment">// åˆ†ç±»è§„åˆ™</span>
        <span class="hljs-keyword">if</span> (r &gt;= <span class="hljs-number">4</span> &amp;&amp; f &gt;= <span class="hljs-number">4</span> &amp;&amp; m &gt;= <span class="hljs-number">4</span>) {
            segmentUsers.get(<span class="hljs-string">"é‡è¦ä»·å€¼å®¢æˆ·"</span>).add(userId);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (r &gt;= <span class="hljs-number">4</span> &amp;&amp; f &gt;= <span class="hljs-number">4</span>) {
            segmentUsers.get(<span class="hljs-string">"é‡è¦ä¿æŒå®¢æˆ·"</span>).add(userId);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (r &lt;= <span class="hljs-number">2</span> &amp;&amp; f &gt;= <span class="hljs-number">4</span> &amp;&amp; m &gt;= <span class="hljs-number">4</span>) {
            segmentUsers.get(<span class="hljs-string">"é‡è¦æŒ½å›å®¢æˆ·"</span>).add(userId);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (r &gt;= <span class="hljs-number">3</span>) {
            segmentUsers.get(<span class="hljs-string">"ä¸€èˆ¬æ´»è·ƒå®¢æˆ·"</span>).add(userId);
        } <span class="hljs-keyword">else</span> {
            segmentUsers.get(<span class="hljs-string">"æµå¤±é£é™©å®¢æˆ·"</span>).add(userId);
        }
    });
    
    <span class="hljs-comment">// è°ƒç”¨Hook</span>
    hook.onUserSegmentation(<span class="hljs-string">"RFMæ¨¡å‹"</span>, segments.size(), clusterInfo);
    
    <span class="hljs-keyword">return</span> segments;
}
</code></pre>
<p><strong>è®¾è®¡äº®ç‚¹</strong>ï¼š</p>
<ul>
<li>âœ“ ä½¿ç”¨ç»å…¸RFMæ¨¡å‹</li>
<li>âœ“ 5åˆ†ä½æ•°è¯„åˆ†æ³•</li>
<li>âœ“ 5ä¸ªç”¨æˆ·åˆ†ç¾¤ï¼Œæ¯ä¸ªæœ‰æ˜ç¡®ç‰¹å¾</li>
<li>âœ“ è®¡ç®—æ¯ä¸ªåˆ†ç¾¤çš„å¹³å‡RFMå€¼</li>
</ul>
<h4 data-id="heading-39">æ–¹æ³•4ï¼šæµå¤±é£é™©é¢„æµ‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> ChurnPredictionResult <span class="hljs-title function_">predictChurn</span><span class="hljs-params">(
        List&lt;UserBehaviorLog&gt; logs, 
        UserActivityMetrics activityMetrics)</span> {
    
    <span class="hljs-type">ChurnPredictionResult</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ChurnPredictionResult</span>();
    Set&lt;String&gt; allUsers = logs.stream()
        .map(UserBehaviorLog::getUserId)
        .collect(Collectors.toSet());
    
    <span class="hljs-comment">// è®¡ç®—æ¯ä¸ªç”¨æˆ·çš„æµå¤±é£é™©</span>
    Map&lt;String, ChurnRiskScore&gt; userChurnRisk = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
    
    <span class="hljs-keyword">for</span> (String userId : allUsers) {
        List&lt;UserBehaviorLog&gt; userLogs = logs.stream()
            .filter(log -&gt; log.getUserId().equals(userId))
            .collect(Collectors.toList());
        
        <span class="hljs-type">ChurnRiskScore</span> <span class="hljs-variable">riskScore</span> <span class="hljs-operator">=</span> calculateChurnRisk(
            userLogs, 
            LocalDate.now(), 
            config.getChurnThresholdDays()
        );
        userChurnRisk.put(userId, riskScore);
    }
    
    <span class="hljs-comment">// ç»Ÿè®¡æµå¤±é£é™©ç”¨æˆ·</span>
    List&lt;String&gt; churnRiskUsers = userChurnRisk.entrySet().stream()
        .filter(e -&gt; e.getValue().isHighRisk())
        .map(Map.Entry::getKey)
        .collect(Collectors.toList());
    
    result.setTotalUsers(allUsers.size());
    result.setChurnRiskUsers(churnRiskUsers.size());
    result.setChurnRate((<span class="hljs-type">double</span>) churnRiskUsers.size() / allUsers.size());
    result.setModelAccuracy(<span class="hljs-number">0.85</span>);  <span class="hljs-comment">// æ¨¡æ‹Ÿæ¨¡å‹å‡†ç¡®ç‡</span>
    result.setChurnRiskUserIds(churnRiskUsers);
    
    <span class="hljs-comment">// åˆ†ææµå¤±åŸå› </span>
    result.setTopRiskFactors(Arrays.asList(
        <span class="hljs-string">"è¿ç»­ N å¤©æœªç™»å½•"</span>,
        <span class="hljs-string">"æ´»åŠ¨é¢‘æ¬¡å¤§å¹…ä¸‹é™"</span>,
        <span class="hljs-string">"ä½¿ç”¨æ—¶é•¿ä¸‹é™ 60%+"</span>,
        <span class="hljs-string">"æœªå‚ä¸è¥é”€æ´»åŠ¨"</span>,
        <span class="hljs-string">"ä»…ä½¿ç”¨å•ä¸€åŠŸèƒ½"</span>
    ));
    
    <span class="hljs-comment">// è°ƒç”¨Hook</span>
    Map&lt;String, Object&gt; predictionData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
    predictionData.put(<span class="hljs-string">"totalUsers"</span>, result.getTotalUsers());
    predictionData.put(<span class="hljs-string">"churnRiskUsers"</span>, result.getChurnRiskUsers());
    predictionData.put(<span class="hljs-string">"churnRate"</span>, result.getChurnRate());
    predictionData.put(<span class="hljs-string">"modelAccuracy"</span>, result.getModelAccuracy());
    predictionData.put(<span class="hljs-string">"topRiskFactors"</span>, result.getTopRiskFactors());
    
    hook.onChurnPrediction(predictionData);
    
    <span class="hljs-keyword">return</span> result;
}

<span class="hljs-comment">// è®¡ç®—å•ä¸ªç”¨æˆ·çš„æµå¤±é£é™©</span>
<span class="hljs-keyword">private</span> ChurnRiskScore <span class="hljs-title function_">calculateChurnRisk</span><span class="hljs-params">(
        List&lt;UserBehaviorLog&gt; userLogs, 
        LocalDate today, 
        <span class="hljs-type">int</span> churnThresholdDays)</span> {
    
    <span class="hljs-type">ChurnRiskScore</span> <span class="hljs-variable">score</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ChurnRiskScore</span>();
    score.setRiskScore(<span class="hljs-number">0.0</span>);
    
    <span class="hljs-keyword">if</span> (userLogs.isEmpty()) {
        score.setHighRisk(<span class="hljs-literal">true</span>);
        score.setRiskScore(<span class="hljs-number">1.0</span>);
        score.getFactors().add(<span class="hljs-string">"æ— ä½¿ç”¨è®°å½•"</span>);
        <span class="hljs-keyword">return</span> score;
    }
    
    <span class="hljs-comment">// å› ç´ 1: æœ€è¿‘ä¸€æ¬¡æ´»åŠ¨æ—¶é—´ (æƒé‡ 0.4)</span>
    <span class="hljs-type">LocalDate</span> <span class="hljs-variable">lastActivity</span> <span class="hljs-operator">=</span> userLogs.stream()
        .map(log -&gt; log.getTimestamp().toLocalDate())
        .max(LocalDate::compareTo)
        .orElse(today.minusYears(<span class="hljs-number">1</span>));
    
    <span class="hljs-type">long</span> <span class="hljs-variable">daysSinceLastActivity</span> <span class="hljs-operator">=</span> ChronoUnit.DAYS.between(lastActivity, today);
    <span class="hljs-keyword">if</span> (daysSinceLastActivity &gt;= churnThresholdDays) {
        score.setRiskScore(score.getRiskScore() + <span class="hljs-number">0.4</span>);
        score.getFactors().add(<span class="hljs-string">"è¿ç»­ "</span> + daysSinceLastActivity + <span class="hljs-string">" å¤©æœªæ´»åŠ¨"</span>);
    }
    
    <span class="hljs-comment">// å› ç´ 2: æ´»åŠ¨é¢‘æ¬¡ä¸‹é™ (æƒé‡ 0.3)</span>
    <span class="hljs-type">LocalDate</span> <span class="hljs-variable">monthAgo</span> <span class="hljs-operator">=</span> today.minusDays(<span class="hljs-number">30</span>);
    <span class="hljs-type">LocalDate</span> <span class="hljs-variable">twoMonthsAgo</span> <span class="hljs-operator">=</span> today.minusDays(<span class="hljs-number">60</span>);
    
    <span class="hljs-type">long</span> <span class="hljs-variable">recentActivityCount</span> <span class="hljs-operator">=</span> userLogs.stream()
        .filter(log -&gt; !log.getTimestamp().toLocalDate().isBefore(monthAgo))
        .count();
    
    <span class="hljs-type">long</span> <span class="hljs-variable">previousActivityCount</span> <span class="hljs-operator">=</span> userLogs.stream()
        .filter(log -&gt; !log.getTimestamp().toLocalDate().isBefore(twoMonthsAgo))
        .filter(log -&gt; log.getTimestamp().toLocalDate().isBefore(monthAgo))
        .count();
    
    <span class="hljs-keyword">if</span> (previousActivityCount &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-type">double</span> <span class="hljs-variable">activityChange</span> <span class="hljs-operator">=</span> (<span class="hljs-type">double</span>) (recentActivityCount - previousActivityCount) 
            / previousActivityCount;
        <span class="hljs-keyword">if</span> (activityChange &lt; -<span class="hljs-number">0.5</span>) {
            score.setRiskScore(score.getRiskScore() + <span class="hljs-number">0.3</span>);
            score.getFactors().add(
                <span class="hljs-string">"æ´»åŠ¨é¢‘æ¬¡ä¸‹é™ "</span> + 
                String.format(<span class="hljs-string">"%.0f%%"</span>, Math.abs(activityChange) * <span class="hljs-number">100</span>)
            );
        }
    }
    
    <span class="hljs-comment">// å› ç´ 3: ä½¿ç”¨æ—¶é•¿ä¸‹é™ (æƒé‡ 0.2)</span>
    <span class="hljs-comment">// ... ç±»ä¼¼é€»è¾‘</span>
    
    <span class="hljs-comment">// å› ç´ 4: åŠŸèƒ½ä½¿ç”¨å•ä¸€ (æƒé‡ 0.1)</span>
    <span class="hljs-type">long</span> <span class="hljs-variable">uniqueFeaturesUsed</span> <span class="hljs-operator">=</span> userLogs.stream()
        .filter(log -&gt; log.getFeature() != <span class="hljs-literal">null</span>)
        .map(UserBehaviorLog::getFeature)
        .distinct()
        .count();
    
    <span class="hljs-keyword">if</span> (uniqueFeaturesUsed &lt; <span class="hljs-number">3</span>) {
        score.setRiskScore(score.getRiskScore() + <span class="hljs-number">0.1</span>);
        score.getFactors().add(<span class="hljs-string">"ä»…ä½¿ç”¨ "</span> + uniqueFeaturesUsed + <span class="hljs-string">" ä¸ªåŠŸèƒ½"</span>);
    }
    
    score.setHighRisk(score.getRiskScore() &gt;= <span class="hljs-number">0.6</span>);
    <span class="hljs-keyword">return</span> score;
}
</code></pre>
<p><strong>è®¾è®¡äº®ç‚¹</strong>ï¼š</p>
<ul>
<li>âœ“ å¤šå› ç´ åŠ æƒæ¨¡å‹</li>
<li>âœ“ æ˜ç¡®çš„é£é™©é˜ˆå€¼ï¼ˆ0.6ï¼‰</li>
<li>âœ“ å¯è§£é‡Šçš„é£é™©å› ç´ </li>
<li>âœ“ åˆ†å±‚ç»Ÿè®¡ï¼ˆé«˜/ä¸­/ä½é£é™©ï¼‰</li>
</ul>
<h4 data-id="heading-40">æ–¹æ³•5ï¼šæ´å¯Ÿç”Ÿæˆ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> List&lt;Insight&gt; <span class="hljs-title function_">generateInsights</span><span class="hljs-params">(AnalysisResult analysisResult)</span> {
    List&lt;Insight&gt; insights = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    
    <span class="hljs-comment">// æ´å¯Ÿ1: ç•™å­˜ç‡åˆ†æ</span>
    <span class="hljs-type">UserActivityMetrics</span> <span class="hljs-variable">activity</span> <span class="hljs-operator">=</span> analysisResult.getActivityMetrics();
    <span class="hljs-keyword">if</span> (activity.getDay7Retention() &lt; <span class="hljs-number">0.5</span>) {
        <span class="hljs-type">Insight</span> <span class="hljs-variable">insight</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Insight</span>();
        insight.setCategory(<span class="hljs-string">"retention"</span>);
        insight.setSeverity(<span class="hljs-string">"high"</span>);
        insight.setDescription(
            String.format(<span class="hljs-string">"7æ—¥ç•™å­˜ç‡è¾ƒä½(%.1f%%)ï¼Œä½äºè¡Œä¸šå¹³å‡æ°´å¹³(60%%)"</span>,
                activity.getDay7Retention() * <span class="hljs-number">100</span>)
        );
        insight.setEvidence(Arrays.asList(
            <span class="hljs-string">"7æ—¥ç•™å­˜ç‡: "</span> + String.format(<span class="hljs-string">"%.1f%%"</span>, activity.getDay7Retention() * <span class="hljs-number">100</span>),
            <span class="hljs-string">"æ¬¡æ—¥ç•™å­˜ç‡: "</span> + String.format(<span class="hljs-string">"%.1f%%"</span>, activity.getDay1Retention() * <span class="hljs-number">100</span>),
            <span class="hljs-string">"30æ—¥ç•™å­˜ç‡: "</span> + String.format(<span class="hljs-string">"%.1f%%"</span>, activity.getDay30Retention() * <span class="hljs-number">100</span>)
        ));
        insight.setConfidence(<span class="hljs-number">0.95</span>);
        insight.setImpactScore(<span class="hljs-number">8.5</span>);
        insights.add(insight);
    }
    
    <span class="hljs-comment">// æ´å¯Ÿ2: æµå¤±é£é™©</span>
    <span class="hljs-type">ChurnPredictionResult</span> <span class="hljs-variable">churn</span> <span class="hljs-operator">=</span> analysisResult.getChurnPrediction();
    <span class="hljs-keyword">if</span> (churn.getChurnRate() &gt; <span class="hljs-number">0.1</span>) {
        <span class="hljs-type">Insight</span> <span class="hljs-variable">insight</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Insight</span>();
        insight.setCategory(<span class="hljs-string">"churn"</span>);
        insight.setSeverity(<span class="hljs-string">"critical"</span>);
        insight.setDescription(
            String.format(<span class="hljs-string">"è¯†åˆ«å‡º%.1f%%çš„ç”¨æˆ·å­˜åœ¨æµå¤±é£é™©ï¼Œéœ€ç«‹å³å¹²é¢„"</span>,
                churn.getChurnRate() * <span class="hljs-number">100</span>)
        );
        List&lt;String&gt; evidence = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        evidence.add(<span class="hljs-string">"æµå¤±é£é™©ç”¨æˆ·æ•°: "</span> + churn.getChurnRiskUsers() + <span class="hljs-string">"äºº"</span>);
        evidence.addAll(churn.getTopRiskFactors().stream()
            .limit(<span class="hljs-number">3</span>)
            .collect(Collectors.toList()));
        insight.setEvidence(evidence);
        insight.setConfidence(<span class="hljs-number">0.85</span>);
        insight.setImpactScore(<span class="hljs-number">9.5</span>);
        insights.add(insight);
    }
    
    <span class="hljs-comment">// æ´å¯Ÿ3: ç”¨æˆ·åˆ†å±‚</span>
    <span class="hljs-type">UserSegmentationResult</span> <span class="hljs-variable">segmentation</span> <span class="hljs-operator">=</span> analysisResult.getSegmentation();
    <span class="hljs-type">UserSegment</span> <span class="hljs-variable">vipSegment</span> <span class="hljs-operator">=</span> segmentation.getSegments().stream()
        .filter(s -&gt; s.getName().equals(<span class="hljs-string">"é‡è¦ä»·å€¼å®¢æˆ·"</span>))
        .findFirst()
        .orElse(<span class="hljs-literal">null</span>);
    
    <span class="hljs-keyword">if</span> (vipSegment != <span class="hljs-literal">null</span>) {
        <span class="hljs-type">double</span> <span class="hljs-variable">vipPercentage</span> <span class="hljs-operator">=</span> vipSegment.getPercentage();
        <span class="hljs-type">Insight</span> <span class="hljs-variable">insight</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Insight</span>();
        insight.setCategory(<span class="hljs-string">"segmentation"</span>);
        insight.setSeverity(vipPercentage &gt; <span class="hljs-number">10</span> ? <span class="hljs-string">"low"</span> : <span class="hljs-string">"medium"</span>);
        insight.setDescription(
            String.format(<span class="hljs-string">"é‡è¦ä»·å€¼å®¢æˆ·å æ¯”%.1f%%ï¼Œ%s"</span>,
                vipPercentage,
                vipPercentage &gt; <span class="hljs-number">10</span> ? <span class="hljs-string">"å æ¯”å¥åº·"</span> : <span class="hljs-string">"éœ€è¦åŠ å¼ºç»´æŠ¤"</span>)
        );
        insight.setEvidence(Arrays.asList(
            <span class="hljs-string">"é‡è¦ä»·å€¼å®¢æˆ·: "</span> + vipSegment.getUserCount() + <span class="hljs-string">"äºº"</span>,
            <span class="hljs-string">"ç‰¹å¾: "</span> + vipSegment.getDescription()
        ));
        insight.setConfidence(<span class="hljs-number">0.92</span>);
        insights.add(insight);
    }
    
    <span class="hljs-comment">// æ´å¯Ÿ4: åŠŸèƒ½ä½¿ç”¨</span>
    <span class="hljs-type">FeatureUsageMetrics</span> <span class="hljs-variable">features</span> <span class="hljs-operator">=</span> analysisResult.getFeatureMetrics();
    <span class="hljs-keyword">if</span> (features.getUnderusedFeatures() != <span class="hljs-literal">null</span> &amp;&amp; 
        !features.getUnderusedFeatures().isEmpty()) {
        <span class="hljs-type">Insight</span> <span class="hljs-variable">insight</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Insight</span>();
        insight.setCategory(<span class="hljs-string">"feature"</span>);
        insight.setSeverity(<span class="hljs-string">"medium"</span>);
        insight.setDescription(
            String.format(<span class="hljs-string">"å‘ç°%dä¸ªå†·é—¨åŠŸèƒ½ï¼Œä½¿ç”¨ç‡&lt;5%%"</span>,
                features.getUnderusedFeatures().size())
        );
        insight.setEvidence(features.getUnderusedFeatures().stream()
            .limit(<span class="hljs-number">5</span>)
            .map(f -&gt; <span class="hljs-string">"å†·é—¨åŠŸèƒ½: "</span> + f)
            .collect(Collectors.toList()));
        insight.setConfidence(<span class="hljs-number">1.0</span>);
        insight.setImpactScore(<span class="hljs-number">6.0</span>);
        insights.add(insight);
    }
    
    <span class="hljs-comment">// è°ƒç”¨Hook</span>
    <span class="hljs-keyword">if</span> (hook != <span class="hljs-literal">null</span>) {
        List&lt;Map&lt;String, Object&gt;&gt; insightMaps = insights.stream()
            .map(<span class="hljs-built_in">this</span>::insightToMap)
            .collect(Collectors.toList());
        hook.onInsightGeneration(insightMaps);
    }
    
    <span class="hljs-keyword">return</span> insights;
}

<span class="hljs-keyword">private</span> Map&lt;String, Object&gt; <span class="hljs-title function_">insightToMap</span><span class="hljs-params">(Insight insight)</span> {
    Map&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
    map.put(<span class="hljs-string">"category"</span>, insight.getCategory());
    map.put(<span class="hljs-string">"severity"</span>, insight.getSeverity());
    map.put(<span class="hljs-string">"description"</span>, insight.getDescription());
    map.put(<span class="hljs-string">"evidence"</span>, insight.getEvidence());
    map.put(<span class="hljs-string">"confidence"</span>, insight.getConfidence());
    <span class="hljs-keyword">return</span> map;
}
</code></pre>
<p><strong>è®¾è®¡äº®ç‚¹</strong>ï¼š</p>
<ul>
<li>âœ“ å¤šç±»å‹æ´å¯Ÿï¼šç•™å­˜ã€æµå¤±ã€åˆ†å±‚ã€åŠŸèƒ½</li>
<li>âœ“ ä¸¥é‡ç¨‹åº¦åˆ†çº§ï¼šcritical/high/medium/low</li>
<li>âœ“ è¯æ®æ”¯æ’‘ï¼šæ¯ä¸ªæ´å¯Ÿéƒ½æœ‰å…·ä½“æ•°æ®</li>
<li>âœ“ ç½®ä¿¡åº¦è¯„ä¼°ï¼šé‡åŒ–å¯ä¿¡ç¨‹åº¦</li>
</ul>
<h4 data-id="heading-41">æ–¹æ³•6ï¼šå»ºè®®ç”Ÿæˆ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> List&lt;Recommendation&gt; <span class="hljs-title function_">generateRecommendations</span><span class="hljs-params">(AnalysisResult result)</span> {
    List&lt;Recommendation&gt; recommendations = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    
    <span class="hljs-comment">// å»ºè®®1: æµå¤±ç”¨æˆ·æŒ½å›</span>
    <span class="hljs-type">ChurnPredictionResult</span> <span class="hljs-variable">churn</span> <span class="hljs-operator">=</span> result.getChurnPrediction();
    <span class="hljs-keyword">if</span> (churn.getChurnRate() &gt; <span class="hljs-number">0.1</span>) {
        <span class="hljs-type">Recommendation</span> <span class="hljs-variable">rec</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Recommendation</span>();
        rec.setPriority(<span class="hljs-string">"critical"</span>);
        rec.setAction(<span class="hljs-string">"é’ˆå¯¹æµå¤±é£é™©ç”¨æˆ·æ¨é€ä¸ªæ€§åŒ–å†…å®¹å’Œä¼˜æƒ "</span>);
        rec.setRationale(<span class="hljs-string">"åŠæ—¶æŒ½å›å¯å‡å°‘50%çš„æµå¤±ï¼Œæ¨¡å‹å‡†ç¡®ç‡"</span> + 
            String.format(<span class="hljs-string">"%.0f%%"</span>, churn.getModelAccuracy() * <span class="hljs-number">100</span>));
        rec.setExpectedImpact(
            String.format(<span class="hljs-string">"é¢„è®¡æŒ½å›%d+ç”¨æˆ·ï¼Œä»·å€¼çº¦15ä¸‡æœˆè´¹"</span>,
                (<span class="hljs-type">int</span>)(churn.getChurnRiskUsers() * <span class="hljs-number">0.38</span>))
        );
        rec.setImplementation(Arrays.asList(
            <span class="hljs-string">"1. åˆ†æç”¨æˆ·å†å²è¡Œä¸ºå’Œåå¥½"</span>,
            <span class="hljs-string">"2. è®¾è®¡ä¸ªæ€§åŒ–æŒ½å›ç­–ç•¥ï¼ˆä¼˜æƒ /å†…å®¹/åŠŸèƒ½æ¨èï¼‰"</span>,
            <span class="hljs-string">"3. é€šè¿‡é‚®ä»¶ã€çŸ­ä¿¡ã€APPæ¨é€è§¦è¾¾"</span>,
            <span class="hljs-string">"4. æä¾›é™æ—¶ä¼˜æƒ å’Œä¸“å±æœåŠ¡"</span>,
            <span class="hljs-string">"5. è·Ÿè¸ªæŒ½å›æ•ˆæœï¼ŒæŒç»­ä¼˜åŒ–"</span>
        ));
        
        Map&lt;String, Object&gt; kpis = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        kpis.put(<span class="hljs-string">"targetReactivationRate"</span>, <span class="hljs-number">0.38</span>);
        kpis.put(<span class="hljs-string">"estimatedRetainedUsers"</span>, (<span class="hljs-type">int</span>)(churn.getChurnRiskUsers() * <span class="hljs-number">0.38</span>));
        kpis.put(<span class="hljs-string">"estimatedRevenue"</span>, <span class="hljs-number">149150</span>);
        rec.setKpis(kpis);
        
        rec.setTimeline(<span class="hljs-string">"ç«‹å³æ‰§è¡Œï¼Œ3å¤©å†…å®Œæˆè§¦è¾¾"</span>);
        rec.setOwner(<span class="hljs-string">"ç”¨æˆ·è¿è¥å›¢é˜Ÿ"</span>);
        
        recommendations.add(rec);
    }
    
    <span class="hljs-comment">// å»ºè®®2: äº§å“ä¼˜åŒ–</span>
    <span class="hljs-type">UserActivityMetrics</span> <span class="hljs-variable">activity</span> <span class="hljs-operator">=</span> result.getActivityMetrics();
    <span class="hljs-keyword">if</span> (activity.getDay7Retention() &lt; <span class="hljs-number">0.5</span>) {
        <span class="hljs-type">Recommendation</span> <span class="hljs-variable">rec</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Recommendation</span>();
        rec.setPriority(<span class="hljs-string">"high"</span>);
        rec.setAction(<span class="hljs-string">"åœ¨æ–°ç”¨æˆ·å¼•å¯¼ä¸­é‡ç‚¹çªå‡ºé«˜ç•™å­˜åŠŸèƒ½"</span>);
        rec.setRationale(<span class="hljs-string">"åˆ†æå‘ç°ä½¿ç”¨æ ¸å¿ƒåŠŸèƒ½çš„ç”¨æˆ·ç•™å­˜ç‡é«˜35%"</span>);
        rec.setExpectedImpact(<span class="hljs-string">"é¢„è®¡æ•´ä½“7æ—¥ç•™å­˜ç‡æå‡10-15%"</span>);
        rec.setImplementation(Arrays.asList(
            <span class="hljs-string">"1. ä¼˜åŒ–æ–°ç”¨æˆ·onboardingæµç¨‹"</span>,
            <span class="hljs-string">"2. å‰3æ­¥å¼•å¯¼ç”¨æˆ·ä½¿ç”¨æ ¸å¿ƒåŠŸèƒ½"</span>,
            <span class="hljs-string">"3. æä¾›äº’åŠ¨å¼æ•™ç¨‹å’Œè§†é¢‘æŒ‡å¯¼"</span>,
            <span class="hljs-string">"4. è®¾ç½®æˆå°±milestoneæ¿€åŠ±ä½¿ç”¨"</span>,
            <span class="hljs-string">"5. A/Bæµ‹è¯•éªŒè¯æ•ˆæœ"</span>
        ));
        
        Map&lt;String, Object&gt; kpis = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        kpis.put(<span class="hljs-string">"targetDay7Retention"</span>, <span class="hljs-number">0.50</span>);
        kpis.put(<span class="hljs-string">"estimatedNewRetainedUsers"</span>, <span class="hljs-number">6500</span>);
        rec.setKpis(kpis);
        
        rec.setTimeline(<span class="hljs-string">"2å‘¨å®Œæˆè®¾è®¡ï¼Œ1å‘¨å¼€å‘ï¼Œ1å‘¨æµ‹è¯•"</span>);
        rec.setOwner(<span class="hljs-string">"äº§å“å›¢é˜Ÿ + è®¾è®¡å›¢é˜Ÿ"</span>);
        
        recommendations.add(rec);
    }
    
    <span class="hljs-comment">// å»ºè®®3: åŠŸèƒ½è°ƒæ•´</span>
    <span class="hljs-type">FeatureUsageMetrics</span> <span class="hljs-variable">features</span> <span class="hljs-operator">=</span> result.getFeatureMetrics();
    <span class="hljs-keyword">if</span> (features.getUnderusedFeatures() != <span class="hljs-literal">null</span> &amp;&amp; 
        features.getUnderusedFeatures().size() &gt;= <span class="hljs-number">3</span>) {
        <span class="hljs-type">Recommendation</span> <span class="hljs-variable">rec</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Recommendation</span>();
        rec.setPriority(<span class="hljs-string">"medium"</span>);
        rec.setAction(<span class="hljs-string">"è¯„ä¼°"</span> + features.getUnderusedFeatures().size() + 
            <span class="hljs-string">"ä¸ªå†·é—¨åŠŸèƒ½ï¼Œè€ƒè™‘ä¼˜åŒ–æˆ–ä¸‹çº¿"</span>);
        rec.setRationale(<span class="hljs-string">"ä½¿ç”¨ç‡&lt;5%ï¼Œå ç”¨å¼€å‘å’Œç»´æŠ¤èµ„æº"</span>);
        rec.setExpectedImpact(<span class="hljs-string">"èŠ‚çš20%å¼€å‘èµ„æºï¼Œèšç„¦æ ¸å¿ƒåŠŸèƒ½"</span>);
        rec.setImplementation(Arrays.asList(
            <span class="hljs-string">"1. æ·±å…¥è°ƒç ”ç”¨æˆ·éœ€æ±‚å’Œç—›ç‚¹"</span>,
            <span class="hljs-string">"2. è¯„ä¼°åŠŸèƒ½çš„å•†ä¸šä»·å€¼å’Œæˆ˜ç•¥æ„ä¹‰"</span>,
            <span class="hljs-string">"3. å¯¹äºæœ‰ä»·å€¼ä½†ä½¿ç”¨ç‡ä½çš„åŠŸèƒ½è¿›è¡Œä¼˜åŒ–"</span>,
            <span class="hljs-string">"4. å¯¹äºä»·å€¼ä½çš„åŠŸèƒ½é€æ­¥ä¸‹çº¿"</span>,
            <span class="hljs-string">"5. åˆ¶å®šä¸‹çº¿æ²Ÿé€šå’Œè¿ç§»æ–¹æ¡ˆ"</span>
        ));
        
        Map&lt;String, Object&gt; kpis = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        kpis.put(<span class="hljs-string">"targetResourceSaving"</span>, <span class="hljs-number">0.20</span>);
        kpis.put(<span class="hljs-string">"estimatedFeatureImprovement"</span>, <span class="hljs-number">3</span>);
        rec.setKpis(kpis);
        
        rec.setTimeline(<span class="hljs-string">"1ä¸ªæœˆå®Œæˆè¯„ä¼°ï¼Œ2ä¸ªæœˆæ‰§è¡Œ"</span>);
        rec.setOwner(<span class="hljs-string">"äº§å“å›¢é˜Ÿ + ç ”å‘å›¢é˜Ÿ"</span>);
        
        recommendations.add(rec);
    }
    
    <span class="hljs-comment">// è°ƒç”¨Hook</span>
    <span class="hljs-keyword">if</span> (hook != <span class="hljs-literal">null</span>) {
        List&lt;Map&lt;String, Object&gt;&gt; recMaps = recommendations.stream()
            .map(<span class="hljs-built_in">this</span>::recommendationToMap)
            .collect(Collectors.toList());
        hook.onRecommendationGeneration(recMaps);
    }
    
    <span class="hljs-keyword">return</span> recommendations;
}

<span class="hljs-keyword">private</span> Map&lt;String, Object&gt; <span class="hljs-title function_">recommendationToMap</span><span class="hljs-params">(Recommendation rec)</span> {
    Map&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
    map.put(<span class="hljs-string">"priority"</span>, rec.getPriority());
    map.put(<span class="hljs-string">"action"</span>, rec.getAction());
    map.put(<span class="hljs-string">"expectedImpact"</span>, rec.getExpectedImpact());
    map.put(<span class="hljs-string">"implementation"</span>, rec.getImplementation());
    <span class="hljs-keyword">return</span> map;
}
</code></pre>
<p><strong>è®¾è®¡äº®ç‚¹</strong>ï¼š</p>
<ul>
<li>âœ“ åŸºäºæ´å¯Ÿç”Ÿæˆå»ºè®®</li>
<li>âœ“ ä¼˜å…ˆçº§åˆ†çº§ï¼šcritical/high/medium/low</li>
<li>âœ“ è¯¦ç»†çš„å®æ–½æ­¥éª¤</li>
<li>âœ“ å¯é‡åŒ–çš„KPIç›®æ ‡</li>
<li>âœ“ æ˜ç¡®çš„æ—¶é—´çº¿å’Œè´£ä»»äºº</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[BroadcastChannel é€šä¿¡æœºåˆ¶]]></title>    <link>https://juejin.cn/post/7591079707699511306</link>    <guid>https://juejin.cn/post/7591079707699511306</guid>    <pubDate>2026-01-04T05:42:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591079707699511306" data-draft-id="7590958028478267438" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="BroadcastChannel é€šä¿¡æœºåˆ¶"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-04T05:42:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åº“å…‹è¡¨ç¤º"/> <meta itemprop="url" content="https://juejin.cn/user/888061128105479"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            BroadcastChannel é€šä¿¡æœºåˆ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/888061128105479/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åº“å…‹è¡¨ç¤º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T05:42:43.000Z" title="Sun Jan 04 2026 05:42:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. ä»€ä¹ˆæ˜¯ BroadcastChannelï¼Ÿ</h2>
<p><code>BroadcastChannel</code> æ˜¯ HTML5 æä¾›çš„ä¸€ä¸ª Web APIï¼Œå®ƒå…è®¸åŒæºçš„ä¸åŒæµè§ˆå™¨ä¸Šä¸‹æ–‡ï¼ˆWindow, Tab, Frame, Workerï¼‰ä¹‹é—´è¿›è¡Œé€šä¿¡ã€‚</p>
<p>å¦‚æœè¯´ <code>MessageChannel</code> æ˜¯ä¸¤ä¸ªäººä¹‹é—´çš„â€œæ‰“ç”µè¯â€ï¼Œé‚£ä¹ˆ <code>BroadcastChannel</code> å°±æ˜¯æ‰€æœ‰äººéƒ½åœ¨å¬çš„â€œæ”¶éŸ³æœºâ€ï¼š</p>
<ul>
<li><strong>MessageChannel</strong>ï¼šç‚¹å¯¹ç‚¹ï¼Œç§å¯†ã€é«˜æ•ˆã€‚</li>
<li><strong>BroadcastChannel</strong>ï¼šä¸€å¯¹å¤šï¼Œæ‰€æœ‰è°ƒåˆ°ç›¸åŒé¢‘é“çš„é¡µé¢éƒ½èƒ½æ”¶åˆ°æ¶ˆæ¯ã€‚</li>
</ul>
<h2 data-id="heading-1">2. æ ¸å¿ƒç”¨æ³•ï¼šä¸‰æ­¥ä¸Šæ‰‹</h2>
<p>ä½¿ç”¨ <code>BroadcastChannel</code> éå¸¸ç®€å•ï¼Œåªéœ€è¦ä¸‰ä¸ªæ­¥éª¤ï¼š<strong>åˆ›å»ºé¢‘é“</strong>ã€<strong>å‘é€æ¶ˆæ¯</strong>ã€<strong>ç›‘å¬æ¶ˆæ¯</strong>ã€‚</p>
<h3 data-id="heading-2">2.1 åˆ›å»ºé¢‘é“</h3>
<p>é€šè¿‡ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆé¢‘é“åç§°ï¼‰æ¥åˆå§‹åŒ–ã€‚åªè¦åŒæºçš„ä¸Šä¸‹æ–‡ä½¿ç”¨ç›¸åŒçš„åç§°ï¼Œå®ƒä»¬å°±èƒ½è¿æ¥åœ¨ä¸€èµ·ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// è¿æ¥åˆ°åä¸º 'user_updates' çš„é¢‘é“</span>
<span class="hljs-keyword">const</span> channel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BroadcastChannel</span>(<span class="hljs-string">'user_updates'</span>);
</code></pre>
<h3 data-id="heading-3">2.2 å‘é€æ¶ˆæ¯</h3>
<p>è°ƒç”¨ <code>postMessage</code> æ–¹æ³•ï¼Œå°†æ•°æ®å¹¿æ’­å‡ºå»ã€‚æ”¯æŒçš„æ•°æ®ç»“æ„éµå¾ª<strong>ç»“æ„åŒ–å…‹éš†ç®—æ³•</strong>ï¼ˆä¸ <code>MessageChannel</code> ä¸€è‡´ï¼‰ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// åœºæ™¯ï¼šç”¨æˆ·åœ¨å½“å‰é¡µç‚¹å‡»äº†é€€å‡ºç™»å½•</span>
channel.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'LOGOUT'</span>, <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() });
</code></pre>
<h3 data-id="heading-4">2.3 ç›‘å¬æ¶ˆæ¯</h3>
<p>åœ¨å…¶ä»–åŒæºé¡µé¢æˆ– Worker ä¸­ï¼Œç›‘å¬ <code>message</code> äº‹ä»¶ã€‚</p>
<pre><code class="hljs language-js" lang="js">channel.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> data = event.<span class="hljs-property">data</span>;
    <span class="hljs-keyword">if</span> (data.<span class="hljs-property">type</span> === <span class="hljs-string">'LOGOUT'</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°å¹¿æ’­ï¼šç”¨æˆ·åœ¨å…¶ä»–é¡µé¢é€€å‡ºç™»å½•'</span>);
        <span class="hljs-comment">// æ‰§è¡Œè·³è½¬é€»è¾‘</span>
        <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span> = <span class="hljs-string">'/login'</span>;
    }
};
</code></pre>
<h3 data-id="heading-5">2.4 æ–­å¼€è¿æ¥</h3>
<p>å½“ä¸å†éœ€è¦æ¥æ”¶æ¶ˆæ¯ï¼ˆå¦‚é¡µé¢é”€æ¯ï¼‰æ—¶ï¼Œå»ºè®®å…³é—­è¿æ¥ä»¥é‡Šæ”¾èµ„æºã€‚</p>
<pre><code class="hljs language-js" lang="js">channel.<span class="hljs-title function_">close</span>();
</code></pre>
<h2 data-id="heading-6">3. å®æˆ˜åœºæ™¯ï¼šå•ç‚¹ç™»å½•ï¼ˆSSOï¼‰åŒæ­¥</h2>
<p>è¿™æ˜¯ <code>BroadcastChannel</code> æœ€ç»å…¸çš„åº”ç”¨åœºæ™¯ã€‚æˆ‘ä»¬éœ€è¦ä¿è¯ç”¨æˆ·åœ¨ä¸€ä¸ª Tab é¡µé€€å‡ºæˆ–ç™»å½•æ—¶ï¼Œå…¶ä»–æ‰€æœ‰ Tab é¡µéƒ½èƒ½åŒæ­¥çŠ¶æ€ã€‚</p>
<h3 data-id="heading-7">å°è£…ä¸€ä¸ªç®€å•çš„ AuthSync ç±»</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// utils/authSync.js</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">CHANNEL_NAME</span> = <span class="hljs-string">'auth_sync_channel'</span>;
  
<span class="hljs-keyword">class</span> <span class="hljs-title class_">AuthSync</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">channel</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BroadcastChannel</span>(<span class="hljs-variable constant_">CHANNEL_NAME</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initListener</span>();
    }

    <span class="hljs-title function_">initListener</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">channel</span>.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
            <span class="hljs-keyword">const</span> { type } = event.<span class="hljs-property">data</span>;
            <span class="hljs-keyword">switch</span> (type) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">'LOGOUT'</span>:
                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleRemoteLogout</span>();
                <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">'LOGIN'</span>:
                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleRemoteLogin</span>();
                <span class="hljs-keyword">break</span>;
            }
        }
    }

    <span class="hljs-comment">// å‘èµ·é€€å‡ºå¹¿æ’­</span>
    <span class="hljs-title function_">notifyLogout</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">channel</span>.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'LOGOUT'</span> });
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">localLogout</span>();
    }

    <span class="hljs-title function_">localLogout</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// æ¸…é™¤ Token, è·³è½¬è·¯ç”±ç­‰...</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æœ¬åœ°é€€å‡ºæ‰§è¡Œ'</span>);
    }
    <span class="hljs-title function_">handleRemoteLogout</span>(<span class="hljs-params"/>) {
        <span class="hljs-title function_">alert</span>(<span class="hljs-string">'æ‚¨å·²åœ¨å…¶ä»–é¡µé¢é€€å‡ºç™»å½•ï¼Œå³å°†åˆ·æ–°'</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">localLogout</span>();
    }
    <span class="hljs-title function_">destroy</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">channel</span>.<span class="hljs-title function_">close</span>();
    }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AuthSync</span>();
</code></pre>
<h2 data-id="heading-8">4. æ–¹æ¡ˆå¯¹æ¯”ï¼šBroadcastChannel vs Others</h2>
<p>åœ¨å‰ç«¯é€šä¿¡çš„æ­¦å™¨åº“ä¸­ï¼Œé™¤äº† <code>BroadcastChannel</code>ï¼Œè¿˜æœ‰ <code>localStorage</code> äº‹ä»¶å’Œ <code>window.postMessage</code>ã€‚ä¸ºä»€ä¹ˆé¦–é€‰ <code>BroadcastChannel</code>ï¼Ÿ</p>








































<table><thead><tr><th>ç‰¹æ€§</th><th>BroadcastChannel</th><th>localStorage (storage äº‹ä»¶)</th><th>window.postMessage</th><th>MessageChannel</th></tr></thead><tbody><tr><td><strong>é€šä¿¡æ¨¡å¼</strong></td><td><strong>å¹¿æ’­ (ä¸€å¯¹å¤š)</strong></td><td>å¹¿æ’­ (ä¸€å¯¹å¤š)</td><td>ç‚¹å¯¹ç‚¹ (å«è·¨åŸŸ)</td><td>ç‚¹å¯¹ç‚¹ (åŒå‘æµ)</td></tr><tr><td><strong>åŒæºé™åˆ¶</strong></td><td>æ˜¯</td><td>æ˜¯</td><td>å¦ (å¯è·¨åŸŸ)</td><td>æ˜¯</td></tr><tr><td><strong>æ•°æ®ä¼ é€’</strong></td><td>å¯¹è±¡/ç»“æ„åŒ–å…‹éš†</td><td><strong>ä»…å­—ç¬¦ä¸²</strong></td><td>å¯¹è±¡/ç»“æ„åŒ–å…‹éš†</td><td>å¯¹è±¡/ç»“æ„åŒ–å…‹éš†</td></tr><tr><td><strong>å®ç°å¤æ‚åº¦</strong></td><td><strong>æç®€</strong></td><td>ç¹ç (éœ€åºåˆ—åŒ–/ååºåˆ—åŒ–)</td><td>å¤æ‚ (éœ€å¤„ç† Origin å®‰å…¨)</td><td>å¤æ‚ (éœ€ç»´æŠ¤ Port)</td></tr></tbody></table>
<h3 data-id="heading-9">ä¸ºä»€ä¹ˆå®ƒæ¯” localStorage å¥½ï¼Ÿ</h3>
<p>è€æ´¾çš„åšæ³•æ˜¯ç›‘å¬ <code>window</code> çš„ <code>storage</code> äº‹ä»¶ã€‚ä½† <code>storage</code> äº‹ä»¶æœ‰ä¸¤ä¸ªç—›ç‚¹ï¼š</p>
<ol>
<li>å®ƒ<strong>åªåœ¨åŒæºçš„å…¶ä»–é¡µé¢è§¦å‘</strong>ï¼ˆå½“å‰é¡µé¢ä¿®æ”¹ storage ä¸ä¼šè§¦å‘è‡ªå·±çš„äº‹ä»¶ï¼‰ã€‚</li>
<li>å®ƒ<strong>å¿…é¡»çœŸæ­£ä¿®æ”¹å­˜å‚¨ä¸­çš„æ•°æ®</strong>ï¼ˆä»…ä»…æ˜¯åŒæ­¥çŠ¶æ€å´æ±¡æŸ“äº† LocalStorage ç©ºé—´ï¼‰ã€‚</li>
<li>æ•°æ®åªèƒ½å­˜ä¸ºå­—ç¬¦ä¸²ï¼Œä¼ é€’å¯¹è±¡éœ€è¦ <code>JSON.parse/stringify</code>ï¼Œæ€§èƒ½è¾ƒå·®ã€‚</li>
</ol>
<p><code>BroadcastChannel</code> ä¸“ä¸ºæ­¤è®¾è®¡ï¼Œä¸æ¶‰åŠæŒä¹…åŒ–ï¼ŒAPI æ›´åŠ çº¯ç²¹ã€‚</p>
<h2 data-id="heading-10">5. æ³¨æ„äº‹é¡¹ä¸â€œå‘â€</h2>
<p>å°½ç®¡ <code>BroadcastChannel</code> å¾ˆå¼ºå¤§ï¼Œä½†åœ¨ä½¿ç”¨æ—¶ä»éœ€æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li><strong>åŒæºç­–ç•¥</strong> åªæœ‰åè®®ã€åŸŸåã€ç«¯å£å®Œå…¨ä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œé¡µé¢æ‰èƒ½é€šè¿‡ <code>BroadcastChannel</code> é€šä¿¡ã€‚<code>localhost:8080</code> å’Œ <code>localhost:3000</code> æ˜¯æ— æ³•é€šä¿¡çš„ã€‚</li>
<li><strong>è‡ªè¨€è‡ªè¯­é—®é¢˜</strong> åœ¨<strong>åŒä¸€ä¸ªé¡µé¢</strong>ä¸Šä¸‹æ–‡ä¸­ï¼Œå¦‚æœä½ åˆ›å»ºäº† <code>BroadcastChannel</code> å¹¶å‘é€æ¶ˆæ¯ï¼Œè¯¥é¡µé¢è‡ªå·±ä¹Ÿä¼šæ”¶åˆ° <code>message</code> äº‹ä»¶ã€‚å¦‚æœéœ€è¦åŒºåˆ†â€œè‡ªå·±å‘çš„â€å’Œâ€œåˆ«äººå‘çš„â€ï¼Œéœ€è¦åœ¨æ¶ˆæ¯ä½“ä¸­åŠ å…¥å”¯ä¸€çš„ ID è¿›è¡Œè¿‡æ»¤ã€‚</li>
<li><strong>å…¼å®¹æ€§</strong> <code>BroadcastChannel</code> æ”¯æŒæ‰€æœ‰ç°ä»£æµè§ˆå™¨ã€‚ä½† IE <strong>ä¸æ”¯æŒ</strong>ã€‚å¦‚æœä½ çš„é¡¹ç›®è¿˜éœ€è¦å…¼å®¹ IEï¼Œéœ€è¦ä½¿ç”¨ Polyfill æˆ–è€…é™çº§æ–¹æ¡ˆï¼ˆä¾‹å¦‚å›é€€åˆ° <code>localStorage</code>ï¼‰ã€‚</li>
<li><strong>å†…å­˜æ³„æ¼</strong> åœ¨ SPAï¼ˆå•é¡µåº”ç”¨ï¼‰ä¸­ï¼Œå¦‚æœåœ¨ç»„ä»¶ä¸­åˆ›å»ºäº† <code>BroadcastChannel</code>ï¼ŒåŠ¡å¿…åœ¨ç»„ä»¶å¸è½½æ—¶è°ƒç”¨ <code>close()</code>ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ— æ³•å›æ”¶ã€‚</li>
</ol>
<h2 data-id="heading-11">6. æ€»ç»“</h2>
<ul>
<li><code>MessageChannel</code> è§£å†³äº†<strong>ç²¾å‡†</strong>é€šä¿¡çš„é—®é¢˜ï¼ˆçº¿ç¨‹é—´ã€iframe é—´ï¼‰ã€‚</li>
<li><code>BroadcastChannel</code> è§£å†³äº†<strong>å¹¿åŸŸ</strong>é€šä¿¡çš„é—®é¢˜ï¼ˆå¤š Tab é¡µçŠ¶æ€åŒæ­¥ï¼‰ã€‚</li>
</ul>
<p>æŒæ¡è¿™ä¸¤ä¸ª APIï¼ŒåŸºæœ¬ä¸Šå°±è¦†ç›–äº†å‰ç«¯ 90% çš„é HTTP é€šä¿¡åœºæ™¯ã€‚ä¸‹æ¬¡å½“ä½ é‡åˆ°â€œå¤šæ ‡ç­¾é¡µæ•°æ®ä¸åŒæ­¥â€çš„é—®é¢˜æ—¶ï¼Œä¸è¦ç¬¬ä¸€æ—¶é—´æƒ³åˆ°è½®è¯¢ï¼Œè¯•è¯• <code>BroadcastChannel</code> è¿™ä¸ªâ€œå¹¿æ’­ç”µå°â€å§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI æ™ºèƒ½ä½“é«˜å¯é è®¾è®¡æ¨¡å¼ï¼šå¹¶è¡Œè¯„ä¼°]]></title>    <link>https://juejin.cn/post/7590681158717194280</link>    <guid>https://juejin.cn/post/7590681158717194280</guid>    <pubDate>2026-01-04T04:11:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590681158717194280" data-draft-id="7590778284758581283" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI æ™ºèƒ½ä½“é«˜å¯é è®¾è®¡æ¨¡å¼ï¼šå¹¶è¡Œè¯„ä¼°"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-04T04:11:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿å‡¡"/> <meta itemprop="url" content="https://juejin.cn/user/290747765274222"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI æ™ºèƒ½ä½“é«˜å¯é è®¾è®¡æ¨¡å¼ï¼šå¹¶è¡Œè¯„ä¼°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/290747765274222/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿å‡¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T04:11:27.000Z" title="Sun Jan 04 2026 04:11:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><em>æœ¬ç³»åˆ—ä»‹ç»å¢å¼ºç°ä»£æ™ºèƒ½ä½“ç³»ç»Ÿå¯é æ€§çš„è®¾è®¡æ¨¡å¼ï¼Œä»¥ç›´è§‚æ–¹å¼é€ä¸€ä»‹ç»æ¯ä¸ªæ¦‚å¿µï¼Œæ‹†è§£å…¶ç›®çš„ï¼Œç„¶åå®ç°ç®€å•å¯è¡Œçš„ç‰ˆæœ¬ï¼Œæ¼”ç¤ºå…¶å¦‚ä½•èå…¥ç°å®ä¸–ç•Œçš„æ™ºèƒ½ä½“ç³»ç»Ÿã€‚æœ¬ç³»åˆ—ä¸€å…± 14 ç¯‡æ–‡ç« ï¼Œè¿™æ˜¯ç¬¬ 3 ç¯‡ã€‚åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flevelup.gitconnected.com%2Fbuilding-the-14-key-pillars-of-agentic-ai-229e50f65986" target="_blank" title="https://levelup.gitconnected.com/building-the-14-key-pillars-of-agentic-ai-229e50f65986" ref="nofollow noopener noreferrer">Building the 14 Key Pillars of Agentic AI</a></em></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e0b614bca694e4bac537d8a9efb18aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-e5Yeh:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768104687&amp;x-signature=MB6MP%2BfRUwu8wLrvnwEmJ28APfk%3D" alt="" loading="lazy"/></p>
<p>ä¼˜åŒ–æ™ºèƒ½ä½“è§£å†³æ–¹æ¡ˆéœ€è¦è½¯ä»¶å·¥ç¨‹ç¡®ä¿ç»„ä»¶åè°ƒã€å¹¶è¡Œè¿è¡Œå¹¶ä¸ç³»ç»Ÿé«˜æ•ˆäº¤äº’ã€‚ä¾‹å¦‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FSpeculative_execution" target="_blank" title="https://en.wikipedia.org/wiki/Speculative_execution" ref="nofollow noopener noreferrer">é¢„æµ‹æ‰§è¡Œ</a>ï¼Œä¼šå°è¯•å¤„ç†å¯é¢„æµ‹æŸ¥è¯¢ä»¥<strong>é™ä½æ—¶å»¶</strong>ï¼Œæˆ–è€…è¿›è¡Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.arm.com%2Fcommunity%2Farm-community-blogs%2Fb%2Fembedded-and-microcontrollers-blog%2Fposts%2Fcomparing-lock-step-redundant-execution-versus-split-lock-technologies" target="_blank" title="https://developer.arm.com/community/arm-community-blogs/b/embedded-and-microcontrollers-blog/posts/comparing-lock-step-redundant-execution-versus-split-lock-technologies" ref="nofollow noopener noreferrer">å†—ä½™æ‰§è¡Œ</a>ï¼Œå³<strong>å¯¹åŒä¸€æ™ºèƒ½ä½“é‡å¤æ‰§è¡Œå¤šæ¬¡</strong>ä»¥é˜²å•ç‚¹æ•…éšœã€‚å…¶ä»–å¢å¼ºç°ä»£æ™ºèƒ½ä½“ç³»ç»Ÿå¯é æ€§çš„æ¨¡å¼åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>å¹¶è¡Œå·¥å…·</strong>ï¼šæ™ºèƒ½ä½“åŒæ—¶æ‰§è¡Œç‹¬ç«‹ API è°ƒç”¨ä»¥éšè— I/O æ—¶å»¶ã€‚</li>
<li><strong>å±‚çº§æ™ºèƒ½ä½“</strong>ï¼šç®¡ç†è€…å°†ä»»åŠ¡æ‹†åˆ†ä¸ºç”±æ‰§è¡Œæ™ºèƒ½ä½“å¤„ç†çš„å°æ­¥éª¤ã€‚</li>
<li><strong>ç«äº‰æ€§æ™ºèƒ½ä½“ç»„åˆ</strong>ï¼šå¤šä¸ªæ™ºèƒ½ä½“æå‡ºç­”æ¡ˆï¼Œç³»ç»Ÿé€‰å‡ºæœ€ä½³ã€‚</li>
<li><strong>å†—ä½™æ‰§è¡Œ</strong>ï¼šå³ä¸¤ä¸ªæˆ–å¤šä¸ªæ™ºèƒ½ä½“è§£å†³åŒä¸€ä»»åŠ¡ä»¥æ£€æµ‹é”™è¯¯å¹¶æé«˜å¯é æ€§ã€‚</li>
<li><strong>å¹¶è¡Œæ£€ç´¢å’Œæ··åˆæ£€ç´¢</strong>ï¼šå¤šç§æ£€ç´¢ç­–ç•¥ååŒè¿è¡Œä»¥æå‡ä¸Šä¸‹æ–‡è´¨é‡ã€‚</li>
<li><strong>å¤šè·³æ£€ç´¢</strong>ï¼šæ™ºèƒ½ä½“é€šè¿‡è¿­ä»£æ£€ç´¢æ­¥éª¤æ”¶é›†æ›´æ·±å…¥ã€æ›´ç›¸å…³çš„ä¿¡æ¯ã€‚</li>
</ul>
<p>è¿˜æœ‰å¾ˆå¤šå…¶ä»–æ¨¡å¼ã€‚</p>
<p>æœ¬ç³»åˆ—å°†å®ç°æœ€å¸¸ç”¨æ™ºèƒ½ä½“æ¨¡å¼èƒŒåçš„åŸºç¡€æ¦‚å¿µï¼Œä»¥ç›´è§‚æ–¹å¼é€ä¸€ä»‹ç»æ¯ä¸ªæ¦‚å¿µï¼Œæ‹†è§£å…¶ç›®çš„ï¼Œç„¶åå®ç°ç®€å•å¯è¡Œçš„ç‰ˆæœ¬ï¼Œæ¼”ç¤ºå…¶å¦‚ä½•èå…¥ç°å®ä¸–ç•Œçš„æ™ºèƒ½ä½“ç³»ç»Ÿã€‚</p>
<p>æ‰€æœ‰ç†è®ºå’Œä»£ç éƒ½åœ¨ GitHub ä»“åº“é‡Œï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FFareedKhan-dev%2Fagentic-parallelism" target="_blank" title="https://github.com/FareedKhan-dev/agentic-parallelism" ref="nofollow noopener noreferrer">ğŸ¤– Agentic Parallelism: A Practical Guide ğŸš€</a></p>
<p>ä»£ç åº“ç»„ç»‡å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-erlang" lang="erlang">agentic-parallelism/
    â”œâ”€â”€ <span class="hljs-number">01</span>_parallel_tool_use.ipynb
    â”œâ”€â”€ <span class="hljs-number">02</span>_parallel_hypothesis.ipynb
    ...
    â”œâ”€â”€ <span class="hljs-number">06</span>_competitive_agent_ensembles.ipynb
    â”œâ”€â”€ <span class="hljs-number">07</span>_agent_assembly_line.ipynb
    â”œâ”€â”€ <span class="hljs-number">08</span>_decentralized_blackboard.ipynb
    ...
    â”œâ”€â”€ <span class="hljs-number">13</span>_parallel_context_preprocessing.ipynb
    â””â”€â”€ <span class="hljs-number">14</span>_parallel_multi_hop_retrieval.ipynb
</code></pre>
<hr/>
<h2 data-id="heading-0">å¼ºå¥æ²»ç†çš„å¹¶è¡Œè¯„ä¼°</h2>
<p>åœ¨ä¹‹å‰çš„æ¨¡å¼ä¸­ï¼Œå³ä½¿äº§ç”Ÿå¤šä¸ªæƒ³æ³•ï¼Œä»ç„¶ä¾èµ–å•ä¸€è¯„ä¼°è·¯å¾„ï¼Œæ„å‘³ç€æ™ºèƒ½ä½“è§£å†³æ–¹æ¡ˆä»ç„¶å±€é™äºå•ä¸€è¯„ä¼°è§†è§’â€¦â€¦ä½†å¯¹äºå¤æ‚å†³ç­–ï¼Œéœ€è¦ä»å¤šä¸ªä¸åŒè§’åº¦è¿›è¡Œè¯„ä¼°ã€‚</p>
<p><strong>å¹¶è¡Œè¯„ä¼°ï¼ˆParallel Evaluationï¼‰</strong> æˆ–å¤šé‡æ‰¹è¯„åæ€ï¼ˆMulti-Critic Reflectionï¼‰æ˜¯ä¸€ç§ç»“æ„æ¨¡å¼ï¼Œä¸å†ä¾èµ–å•ä¸€è¯„ä¼°â€¦â€¦</p>
<ol>
<li>åˆ›å»ºä¸€ç»„ AI è¯„ä¼°å™¨ï¼Œä¸€æ¡å†…å®¹ä¼šåŒæ—¶å‘é€ç»™æ‰€æœ‰è¯„ä¼°å™¨ï¼Œæ¯ä¸ªè¯„ä¼°å™¨ä»ç‹¬ç‰¹ã€ä¸“å®¶çš„è§†è§’è¿›è¡Œè¯„ä¼°ã€‚</li>
<li>è¿™äº›å¹¶è¡Œåé¦ˆéšåç”±æœ€ç»ˆç¼–è¾‘ä»£ç†æ”¶é›†å¹¶ç»¼åˆï¼Œåšå‡ºå…¨é¢ä¸”æ˜æ™ºçš„å†³ç­–ã€‚</li>
</ol>
<p>æˆ‘ä»¬å°†å»ºç«‹ä¸€ä¸ªå†…å®¹å®¡æŸ¥ç³»ç»Ÿï¼Œè‰ç¨¿å…ˆäº¤ç»™ä¸€ç»„å¹¶è¡Œè¯„ä¼°å™¨ï¼Œæœ€ç»ˆç”±ç¼–è¾‘å™¨æ ¹æ®é›†ä½“åé¦ˆåšå‡ºå†³å®šã€‚</p>
<p>é¦–å…ˆï¼Œä¸ºäº†ç¡®ä¿è¯„ä¼°å™¨æä¾›ä¸€è‡´ä¸”æœºå™¨å¯è¯»çš„åé¦ˆï¼Œä¸ºè¾“å‡ºå®šä¹‰ Pydantic æ¨¡å¼ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.pydantic_v1 <span class="hljs-keyword">import</span> BaseModel, Field
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Literal</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Critique</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    <span class="hljs-string">"""A Pydantic model for a structured critique from a single, specialist critic."""</span>
    <span class="hljs-comment"># å…³äºå†…å®¹æ˜¯å¦ç¬¦åˆç‰¹å®šæ ‡å‡†çš„æ˜ç¡®çš„äºŒå…ƒå†³å®š</span>
    is_compliant: <span class="hljs-built_in">bool</span> = Field(description=<span class="hljs-string">"Whether the content meets the specific criteria of this critic."</span>)
    <span class="hljs-comment"># è¯¦ç»†ã€å¯æ“ä½œçš„åé¦ˆï¼Œå¯¹å†³ç­–åšå‡ºè§£é‡Š</span>
    feedback: <span class="hljs-built_in">str</span> = Field(description=<span class="hljs-string">"Detailed feedback explaining why the content is or is not compliant. Provide actionable suggestions if non-compliant."</span>)
</code></pre>
<p><code>Critique</code> ç±»æ˜¯æ­£å¼é€šä¿¡åè®®ï¼Œç¡®ä¿æ¯ä¸ªè¯„ä¼°å™¨éƒ½èƒ½æä¾›æ¸…æ™°çš„ <code>is_compliant</code> è£å®šä»¥åŠæ–‡æœ¬åé¦ˆ <code>feedback</code>ï¼Œä½¿è¾“å‡ºå¯é ä¸”æ˜“äºè¢«æœ€ç»ˆç¼–è¾‘å™¨è§£æã€‚</p>
<p>æ¥ä¸‹æ¥å®šä¹‰ <code>GraphState</code>ï¼Œè·Ÿè¸ªæ­£åœ¨å®¡æŸ¥çš„å†…å®¹ä»¥åŠå¹¶è¡Œè¯„ä¼°ç»„çš„è¯„ä¼°ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> TypedDict, Annotated, <span class="hljs-type">Dict</span>
<span class="hljs-keyword">import</span> operator

<span class="hljs-keyword">class</span> <span class="hljs-title class_">GraphState</span>(<span class="hljs-title class_ inherited__">TypedDict</span>):

    content_to_review: <span class="hljs-built_in">str</span>

    <span class="hljs-comment"># 'critiques' æ˜¯å­—å…¸ï¼Œå…¶ä¸­é”®æ˜¯è¯„ä¼°å™¨åå­—ï¼Œå€¼æ˜¯ç»“æ„åŒ–çš„è¯„ä¼°å¯¹è±¡ã€‚</span>
    <span class="hljs-comment"># 'operator.update' å½’çº¦å‡½æ•°å¯¹äºåˆå¹¶æ¥è‡ªå¹¶è¡Œåˆ†æ”¯çš„è¾“å‡ºå¿…ä¸å¯å°‘</span>
    critiques: Annotated[<span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, Critique], operator.update]
    final_decision: <span class="hljs-built_in">dict</span> <span class="hljs-comment"># ç®€å•èµ·è§ï¼Œæ”¹ä¸ºå­—å…¸</span>
    performance_log: Annotated[<span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>], operator.add]
</code></pre>
<p><code>GraphState</code> ä¸­çš„ <code>critiques</code> å­—å…¸ä¸ <code>operator.update</code> å½’çº¦å‡½æ•°ç»“åˆï¼Œå¯ä»¥èšåˆå¹¶è¡Œåé¦ˆï¼Œè‡ªåŠ¨å°†æ¯ä¸ªåˆ†æ”¯çš„ç»“æ„åŒ– <code>Critique</code> å¯¹è±¡æ”¶é›†æˆä¸€ä¸ªå®Œæ•´çš„å¯¹è±¡ï¼Œç„¶åå†ä¼ é€’ç»™æœ€ç»ˆç¼–è¾‘å™¨ã€‚</p>
<p>ç°åœ¨ï¼Œå®šä¹‰ç³»ç»Ÿçš„æ ¸å¿ƒ â€”â€” è¯„ä¼°èŠ‚ç‚¹ï¼Œå®ç°è¯„ä¼°å™¨ï¼ˆå“ç‰Œå£°éŸ³åˆ†æå¸ˆï¼‰å’Œæœ€ç»ˆç¼–è¾‘å™¨ï¼Œä¸è¿‡ GitHub ä¸Šæä¾›çš„ Jupyter Notebook å®ç°æ›´æ·±å…¥æ›´å¤æ‚ã€‚å…¶ä»–è¯„ä¼°å™¨ï¼ˆäº‹å®æ ¸æŸ¥å‘˜ã€é£é™©è¯„ä¼°å‘˜ï¼‰éµå¾ªç›¸åŒæ¨¡å¼ï¼Œä½†æç¤ºä¸åŒã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> time

<span class="hljs-comment"># å“ç‰Œå£°éŸ³åˆ†æå¸ˆèŠ‚ç‚¹</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">brand_voice_node</span>(<span class="hljs-params">state: GraphState</span>):
    <span class="hljs-string">"""A simple critic that evaluates content against pre-defined brand voice guidelines."""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- CRITIC: Brand Voice Analyst is reviewing... ---"</span>)
    start_time = time.time()
    
    <span class="hljs-comment"># ä¸€æ¡ç®€å•é“¾: æç¤ºè¯ -&gt; LLM -&gt; ç»“æ„åŒ–è¾“å‡º</span>
    brand_chain = brand_voice_prompt | llm.with_structured_output(Critique)
    critique = brand_chain.invoke({<span class="hljs-string">"content_to_review"</span>: state[<span class="hljs-string">'content_to_review'</span>]})
    
    execution_time = time.time() - start_time
    log_entry = <span class="hljs-string">f"[BrandVoice] Completed in <span class="hljs-subst">{execution_time:<span class="hljs-number">.2</span>f}</span>s."</span>
    <span class="hljs-built_in">print</span>(log_entry)
    
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"critiques"</span>: {<span class="hljs-string">"BrandVoice"</span>: critique}, <span class="hljs-string">"performance_log"</span>: [log_entry]}
<span class="hljs-comment"># æ€»ç¼–è¾‘èŠ‚ç‚¹ï¼ˆèšåˆå’Œå†³ç­–ï¼‰</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">chief_editor_node</span>(<span class="hljs-params">state: GraphState</span>):
    <span class="hljs-string">"""The final node: aggregates all critiques and makes a final, justified decision."""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- EDITOR: Chief Editor is making a decision... ---"</span>)
    start_time = time.time()
    
    <span class="hljs-comment"># å°†æ¥è‡ªçŠ¶æ€çš„ç»“æ„åŒ–è¯„è®ºæ ¼å¼åŒ–ä¸ºç¼–è¾‘å™¨ä½¿ç”¨çš„å•ä¸ªå­—ç¬¦ä¸²æå‡</span>
    critiques_str = <span class="hljs-string">""</span>
    <span class="hljs-keyword">for</span> critic_name, critique_obj <span class="hljs-keyword">in</span> state[<span class="hljs-string">'critiques'</span>].items():
        critiques_str += <span class="hljs-string">f"- <span class="hljs-subst">{critic_name}</span> Critique:\n  - Compliant: <span class="hljs-subst">{critique_obj.is_compliant}</span>\n  - Feedback: <span class="hljs-subst">{critique_obj.feedback}</span>\n\n"</span>
    
    <span class="hljs-comment"># åˆ›å»ºç¼–è¾‘å™¨é“¾</span>
    editor_chain = chief_editor_prompt | llm.with_structured_output(<span class="hljs-built_in">dict</span>) <span class="hljs-comment"># Using dict for simplicity</span>
    final_decision = editor_chain.invoke({
        <span class="hljs-string">"content_to_review"</span>: state[<span class="hljs-string">'content_to_review'</span>],
        <span class="hljs-string">"critiques"</span>: critiques_str
    })
    
    execution_time = time.time() - start_time
    log_entry = <span class="hljs-string">f"[ChiefEditor] Completed in <span class="hljs-subst">{execution_time:<span class="hljs-number">.2</span>f}</span>s."</span>
    <span class="hljs-built_in">print</span>(log_entry)
    
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"final_decision"</span>: final_decision, <span class="hljs-string">"performance_log"</span>: [log_entry]}
</code></pre>
<p>ä¸¤ä¸ªèŠ‚ç‚¹ä»£è¡¨æ ¸å¿ƒçš„æ‰‡å‡ºå’Œæ‰‡å…¥é€»è¾‘ã€‚<code>brand_voice_node</code> æ˜¯ä¸“ä¸šè¯„ä¼°å™¨æ¨¡æ¿ï¼Œæ¯ä¸ªè¯„ä¼°å™¨ç‹¬ç«‹è¿ä½œã€‚<code>chief_editor_node</code> æ˜¯æ±‡æ€»èŠ‚ç‚¹ï¼Œå°†å¤šæ–¹åé¦ˆç»¼åˆæˆå•ä¸€å¯æ‰§è¡Œå†³ç­–ã€‚</p>
<p>å°±åƒä¹‹å‰çš„å®ç°ä¸€æ ·ï¼Œç»„è£…å®Œæ•´çš„å›¾ï¼Œè®¾ç½®å…¥å£ç‚¹ï¼ŒåŒæ—¶å‘ä¸‰ä¸ªè¯„ä¼°å™¨æ‰‡å‡ºã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langgraph.graph <span class="hljs-keyword">import</span> StateGraph, END

<span class="hljs-comment"># åˆå§‹åŒ–æ–°å›¾</span>
workflow = StateGraph(GraphState)

<span class="hljs-comment"># ä¸ºè¯„ä¼°å™¨å’Œç¼–è¾‘å™¨å®šä¹‰èŠ‚ç‚¹</span>
workflow.add_node(<span class="hljs-string">"fact_checker"</span>, fact_checker_node)
workflow.add_node(<span class="hljs-string">"brand_voice_analyst"</span>, brand_voice_node)
workflow.add_node(<span class="hljs-string">"risk_assessor"</span>, risk_assessor_node)
workflow.add_node(<span class="hljs-string">"chief_editor"</span>, chief_editor_node)

<span class="hljs-comment"># å…¥å£ç‚¹æ˜¯ä¸€ä¸ªèŠ‚ç‚¹åˆ—è¡¨ï¼Œå‘Šè¯‰ LangGraph å¹¶è¡Œè¿è¡Œ</span>
workflow.set_entry_point([<span class="hljs-string">"fact_checker"</span>, <span class="hljs-string">"brand_voice_analyst"</span>, <span class="hljs-string">"risk_assessor"</span>])

<span class="hljs-comment"># åœ¨æ‰€æœ‰è¯„ä¼°å™¨èŠ‚ç‚¹å®Œæˆåï¼Œåˆå¹¶ç»“æœï¼Œå®šä¹‰ä¸€ä¸ªé™æ€è¾¹æ¥æ‰‡å…¥ä¸»ç¼–è¾‘å™¨</span>
workflow.add_edge([<span class="hljs-string">"fact_checker"</span>, <span class="hljs-string">"brand_voice_analyst"</span>, <span class="hljs-string">"risk_assessor"</span>], <span class="hljs-string">"chief_editor"</span>)

<span class="hljs-comment"># ç¼–è¾‘å™¨çš„å†³å®šå°±æ˜¯æœ€åä¸€æ­¥</span>
workflow.add_edge(<span class="hljs-string">"chief_editor"</span>, END)

<span class="hljs-comment"># ç¼–è¯‘æˆå¯è¿è¡Œåº”ç”¨ç¨‹åº</span>
app = workflow.<span class="hljs-built_in">compile</span>()
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Graph constructed and compiled successfully."</span>)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e3646eb59c0b42b0acb14d86fd8d2503~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-e5Yeh:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768104687&amp;x-signature=r0E5JItMHqbzEu53KFXSn%2BXscuQ%3D" alt="å¹¶è¡Œè¯„ä¼°" loading="lazy"/></p>
<p>åˆ†æä¸€ä¸‹æ€§èƒ½ï¼Œçœ‹çœ‹è¿™ç§å¹¶è¡Œå·¥ä½œæµç¨‹çš„æ˜æ˜¾ä¼˜åŠ¿ã€‚</p>
<pre><code class="hljs language-python" lang="python">critic_times = []
editor_time = <span class="hljs-number">0</span>

<span class="hljs-comment"># è§£ææ€§èƒ½æ—¥å¿—ï¼Œæå–å®šæ—¶æ•°æ®ã€‚</span>
<span class="hljs-keyword">for</span> log <span class="hljs-keyword">in</span> final_state[<span class="hljs-string">'performance_log'</span>]:
    <span class="hljs-comment"># å‡è®¾æ—¥å¿—æ ¼å¼ä¸º '[NodeName] Completed in X.XXs.'</span>
    time_val = <span class="hljs-built_in">float</span>(log.split(<span class="hljs-string">' '</span>)[-<span class="hljs-number">1</span>].replace(<span class="hljs-string">'s.'</span>, <span class="hljs-string">''</span>))
    <span class="hljs-keyword">if</span> <span class="hljs-string">"[ChiefEditor]"</span> <span class="hljs-keyword">in</span> log:
        editor_time = time_val
    <span class="hljs-keyword">else</span>:
        critic_times.append(time_val)

<span class="hljs-comment"># å¹¶è¡Œé˜¶æ®µçš„æ—¶é—´æ˜¯æ‰§è¡Œæ—¶é—´æœ€é•¿çš„è¯„ä¼°å™¨çš„æ—¶é—´</span>
parallel_critic_time = <span class="hljs-built_in">max</span>(critic_times) <span class="hljs-keyword">if</span> critic_times <span class="hljs-keyword">else</span> <span class="hljs-number">0</span>

<span class="hljs-comment"># å¯¹äºé¡ºåºæ¨¡æ‹Ÿï¼Œå°†æ—¶é—´åŠ èµ·æ¥</span>
sequential_critic_time = <span class="hljs-built_in">sum</span>(critic_times)

<span class="hljs-comment"># å·¥ä½œæµçš„æ€»æ—¶é—´</span>
total_time = parallel_critic_time + editor_time
time_saved = sequential_critic_time - parallel_critic_time
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Total Execution Time: <span class="hljs-subst">{total_time:<span class="hljs-number">.2</span>f}</span> seconds\n"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Breakdown:"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f" - Parallel Critics (longest path): <span class="hljs-subst">{parallel_critic_time:<span class="hljs-number">.2</span>f}</span> seconds"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f" - Chief Editor: <span class="hljs-subst">{editor_time:<span class="hljs-number">.2</span>f}</span> seconds\n"</span>)
</code></pre>
<p>çœ‹çœ‹è¯„ä¼°ç»“æœâ€¦â€¦</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#### è¾“å‡º ####</span>
=============================================================
                  FINAL GOVERNANCE DECISION
=============================================================

Final Decision: Request Revisions

Editors Summary:
The post <span class="hljs-keyword">is</span> non-compliant across the board. The Fact-Checker found unsupported claims, the Risk Assessor identified significant legal <span class="hljs-keyword">and</span> reputational risks <span class="hljs-keyword">with</span> the terms <span class="hljs-string">'guaranteed'</span> <span class="hljs-keyword">and</span> <span class="hljs-string">'cures procrastination'</span>, <span class="hljs-keyword">and</span> the Brand Voice Analyst noted that the tone <span class="hljs-keyword">is</span> overly hyped <span class="hljs-keyword">and</span> exaggerated.

Revision Instructions:
Please remove the word <span class="hljs-string">'guaranteed'</span>. Rephrase the <span class="hljs-string">'500% faster'</span> claim to be more specific <span class="hljs-keyword">and</span> verifiable, <span class="hljs-keyword">for</span> example, <span class="hljs-string">'up to 5x faster in specific benchmarks'</span>. Remove the unsupported claim about curing procrastination entirely. Tone down the language to be more professional <span class="hljs-keyword">and</span> focus on the practical benefits <span class="hljs-keyword">for</span> the user.

============================================================
                      PERFORMANCE ANALYSIS
============================================================
Total Execution Time: <span class="hljs-number">15.66</span> seconds

Breakdown:
 - Parallel Critics (longest path): <span class="hljs-number">9.21</span> seconds
 - Chief Editor: <span class="hljs-number">6.45</span> seconds
</code></pre>
<p>ä¸‰ä¸ªè¯„ä¼°èŠ‚ç‚¹å¹¶è¡Œè¿è¡Œã€‚å¦‚æœæŒ‰é¡ºåºæ‰§è¡Œï¼Œè¯¥é˜¶æ®µå°†è€—æ—¶ 19.24sã€‚é€šè¿‡å¹¶è¡Œè¿è¡Œï¼Œæ—¶é—´ä»…ä¸º 9.21sç§’ï¼ˆæœ€æ…¢è¯„ä¼°å™¨çš„æ—¶é—´ï¼‰ã€‚</p>
<p>è¯„ä¼°é˜¶æ®µèŠ‚çœäº† 10.03s çš„æ—¶é—´ï¼Œæ—¶å»¶å‡å°‘äº† 52%ã€‚å®šé‡è§’åº¦çœ‹ï¼Œç»“æœè¿œä¼˜äºå•ä¸€è¯„ä¼°ã€‚</p>
<p>æˆ‘ä»¬ä»ä¸‰ä¸ªä¸åŒè§’åº¦æ”¶åˆ°äº†æ·±å…¥ä¸”ä¸“ä¸šçš„åé¦ˆï¼Œè¿™ç§å¤šæ–¹é¢è¯„ä¼°è®©ä¸»ç¼–è¾‘å™¨èƒ½å¤Ÿåšå‡ºæ˜æ™ºçš„å†³å®šã€‚</p>
<hr/>
<blockquote>
<p>Hiï¼Œæˆ‘æ˜¯ä¿å‡¡ï¼Œä¸€åå…¼å…·æŠ€æœ¯æ·±åº¦ä¸ç®¡ç†è§†é‡çš„æŠ€æœ¯ç®¡ç†è€…ã€‚æ›¾å°±èŒäº Motorolaï¼Œç°ä»»èŒäº Mavenirï¼Œå¤šå¹´å¸¦é¢†æŠ€æœ¯å›¢é˜Ÿï¼Œèšç„¦åç«¯æ¶æ„ä¸äº‘åŸç”Ÿï¼ŒæŒç»­å…³æ³¨ AI ç­‰å‰æ²¿æ–¹å‘ï¼Œä¹Ÿå…³æ³¨äººçš„æˆé•¿ï¼Œç¬ƒä¿¡æŒç»­å­¦ä¹ çš„åŠ›é‡ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä¼šåˆ†äº«æŠ€æœ¯å®è·µä¸æ€è€ƒã€‚æ¬¢è¿å…³æ³¨å…¬ä¼—å·ã€ŒDeepNoMindã€ï¼Œæ˜Ÿæ ‡ä¸è¿·è·¯ã€‚ä¹Ÿæ¬¢è¿è®¿é—®ç‹¬ç«‹ç«™ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.deepnomind.com" title="https://www.deepnomind.com" target="_blank" ref="nofollow noopener noreferrer">www.DeepNoMind.com</a>ï¼Œä¸€èµ·äº¤æµæˆé•¿ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨å¿«é€Ÿå˜åŒ–çš„AIä¸–ç•Œï¼ŒLangChain å¦‚ä½•ä¸ºå¼€å‘è€…çš„æŠ€æœ¯é€‰æ‹©æä¾›â€œç¡®å®šæ€§â€ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7591085154977513498</link>    <guid>https://juejin.cn/post/7591085154977513498</guid>    <pubDate>2026-01-04T05:14:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591085154977513498" data-draft-id="7591085154977447962" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨å¿«é€Ÿå˜åŒ–çš„AIä¸–ç•Œï¼ŒLangChain å¦‚ä½•ä¸ºå¼€å‘è€…çš„æŠ€æœ¯é€‰æ‹©æä¾›â€œç¡®å®šæ€§â€ï¼Ÿ"/> <meta itemprop="keywords" content="LLM,å¼€æº"/> <meta itemprop="datePublished" content="2026-01-04T05:14:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§å‚æŠ€æœ¯æ€»ç›‘ä¸‹æµ·"/> <meta itemprop="url" content="https://juejin.cn/user/4091714106833577"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨å¿«é€Ÿå˜åŒ–çš„AIä¸–ç•Œï¼ŒLangChain å¦‚ä½•ä¸ºå¼€å‘è€…çš„æŠ€æœ¯é€‰æ‹©æä¾›â€œç¡®å®šæ€§â€ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4091714106833577/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§å‚æŠ€æœ¯æ€»ç›‘ä¸‹æµ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T05:14:41.000Z" title="Sun Jan 04 2026 05:14:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">LangChain æŠ€æœ¯æ¶æ„æ·±åº¦è§£æï¼šæ„å»ºæ ‡å‡†åŒ–ã€å¯ç»„åˆçš„LLMåº”ç”¨æ¡†æ¶</h2>
<h3 data-id="heading-1">1. æ•´ä½“ä»‹ç»</h3>
<h4 data-id="heading-2">é¡¹ç›®æ¦‚å†µ</h4>
<p>LangChain æ˜¯ç”± LangChain AI å›¢é˜Ÿå¼€å‘å¹¶ç»´æŠ¤çš„å¼€æºæ¡†æ¶ï¼Œé¡¹ç›®æ‰˜ç®¡äº GitHubï¼Œåœ°å€ä¸º <code>github.com/langchain-ai/langchain</code>ã€‚ä½œä¸ºå½“å‰ AI å·¥ç¨‹åŒ–é¢†åŸŸçš„å…³é”®åŸºç¡€è®¾æ–½ä¹‹ä¸€ï¼Œè¯¥é¡¹ç›®è·å¾—äº†å¹¿æ³›çš„ç¤¾åŒºå…³æ³¨ä¸é‡‡çº³ï¼Œå…¶ Star ä¸ Fork æ•°é‡åœ¨åŒç±»é¡¹ç›®ä¸­ä½å±…å‰åˆ—ï¼Œè¿™åæ˜ äº†å…¶åœ¨è§£å†³å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰åº”ç”¨å¼€å‘å…±æ€§éš¾é¢˜ä¸Šçš„æœ‰æ•ˆæ€§ä¸ç”Ÿæ€æ´»åŠ›ã€‚</p>
<h4 data-id="heading-3">æ ¸å¿ƒä»·å€¼ä¸åŠŸèƒ½å®šä½</h4>
<p>LangChain çš„æ ¸å¿ƒå®šä½æ˜¯<strong>ä¸ºåŸºäºå¤§è¯­è¨€æ¨¡å‹çš„æ™ºèƒ½ä½“ï¼ˆAgentï¼‰å’Œåº”ç”¨ç¨‹åºæä¾›ä¸€ä¸ªæ ‡å‡†åŒ–ã€æ¨¡å—åŒ–çš„å¼€å‘æ¡†æ¶</strong>ã€‚å®ƒå¹¶éä¸€ä¸ªå•ä¸€çš„è¿è¡Œæ—¶æˆ–æœåŠ¡ï¼Œè€Œæ˜¯ä¸€å¥—æ—¨åœ¨æŠ½è±¡å’Œç®€åŒ–LLMåº”ç”¨å¤æ‚æ€§çš„å¼€å‘åº“ä¸å·¥å…·é›†ã€‚</p>
<p>å…¶æ ¸å¿ƒåŠŸèƒ½å¯æ¦‚æ‹¬ä¸ºï¼š</p>
<ul>
<li><strong>æä¾›æ ‡å‡†åŒ–æ¥å£</strong>ï¼šä¸ºæ¨¡å‹ï¼ˆèŠå¤©ã€åµŒå…¥ï¼‰ã€å‘é‡å­˜å‚¨ã€æ£€ç´¢å™¨ç­‰å¼‚è´¨ç»„ä»¶å®šä¹‰ç»Ÿä¸€æ¥å£ï¼Œå®ç°æŠ€æœ¯æ ˆçš„æ¾è€¦åˆã€‚</li>
<li><strong>å®ç°ç»„ä»¶å¯ç»„åˆæ€§</strong>ï¼šé€šè¿‡â€œé“¾ï¼ˆChainï¼‰â€è¿™ä¸€æ ¸å¿ƒæŠ½è±¡ï¼Œå…è®¸å¼€å‘è€…åƒæ­ç§¯æœ¨ä¸€æ ·å°†å¤šä¸ªç»„ä»¶ä¸²è”æˆå¤æ‚çš„å·¥ä½œæµã€‚</li>
<li><strong>æ„å»ºæ™ºèƒ½ä½“åŸºåº§</strong>ï¼šæä¾›æ™ºèƒ½ä½“ï¼ˆAgentï¼‰æ„å»ºæ‰€éœ€çš„åŸºç¡€è®¾æ–½ï¼ŒåŒ…æ‹¬å·¥å…·è°ƒç”¨ï¼ˆTool Callingï¼‰ã€è®°å¿†ï¼ˆMemoryï¼‰å’Œè§„åˆ’ï¼ˆPlanningï¼‰ç­‰æ ¸å¿ƒæ¦‚å¿µçš„åŸç”Ÿæ”¯æŒã€‚</li>
<li><strong>é›†æˆä¸°å¯Œç”Ÿæ€</strong>ï¼šå†…ç½®æˆ–é€šè¿‡åˆä½œä¼™ä¼´åŒ…é›†æˆäº†å¤§é‡ä¸»æµçš„æ¨¡å‹æä¾›å•†ï¼ˆOpenAIã€Anthropicç­‰ï¼‰ã€å‘é‡æ•°æ®åº“ï¼ˆQdrantã€Pineconeç­‰ï¼‰å’Œå¤–éƒ¨å·¥å…·ï¼Œæå¤§é™ä½äº†é›†æˆæˆæœ¬ã€‚</li>
<li><strong>æä¾›ç”Ÿäº§çº§å·¥å…·é“¾</strong>ï¼šé€šè¿‡ CLIã€LangServeï¼ˆæœåŠ¡åŒ–éƒ¨ç½²ï¼‰ã€LangSmithï¼ˆå¯è§‚æµ‹æ€§å¹³å°ï¼‰ç­‰é…å¥—å·¥å…·ï¼Œæ”¯æ’‘åº”ç”¨ä»å¼€å‘ã€è°ƒè¯•åˆ°éƒ¨ç½²ã€ç›‘æ§çš„å…¨ç”Ÿå‘½å‘¨æœŸã€‚</li>
</ul>
<h4 data-id="heading-4">è§£å†³çš„é—®é¢˜ä¸ç›®æ ‡åœºæ™¯</h4>
<p>åœ¨ LangChain å‡ºç°ä¹‹å‰ï¼Œå¼€å‘LLMåº”ç”¨é¢ä¸´ä¸€ç³»åˆ—ç¢ç‰‡åŒ–æŒ‘æˆ˜ï¼š</p>
<ol>
<li><strong>æ¥å£å¼‚æ„</strong>ï¼šä¸åŒæ¨¡å‹æä¾›å•†ï¼ˆå¦‚OpenAIã€Anthropicï¼‰çš„APIè®¾è®¡ã€å‚æ•°å‘½åã€å“åº”æ ¼å¼å„å¼‚ï¼Œåˆ‡æ¢æˆæœ¬é«˜ã€‚</li>
<li><strong>ä¸Šä¸‹æ–‡ç®¡ç†å¤æ‚</strong>ï¼šå¦‚ä½•å¤„ç†é•¿å¯¹è¯å†å²ã€å®ç°è®°å¿†ã€ä»¥åŠå°†å¤–éƒ¨çŸ¥è¯†ï¼ˆå¦‚å‘é‡æ£€ç´¢ç»“æœï¼‰æ³¨å…¥åˆ°æç¤ºè¯ä¸­ï¼Œéœ€è¦å¤§é‡å®šåˆ¶åŒ–ä»£ç ã€‚</li>
<li><strong>å·¥å…·è°ƒç”¨ä¸æµç¨‹ç¼–æ’å›°éš¾</strong>ï¼šè®©LLMæ ¹æ®éœ€æ±‚è°ƒç”¨å¤–éƒ¨å·¥å…·ï¼ˆå¦‚æœç´¢ã€è®¡ç®—ã€APIï¼‰ï¼Œå¹¶ç®¡ç†å¤šæ­¥éª¤çš„ã€æœ‰çŠ¶æ€çš„æ‰§è¡Œæµç¨‹ï¼Œç¼ºä¹é€šç”¨èŒƒå¼ã€‚</li>
<li><strong>åŸå‹åˆ°ç”Ÿäº§çš„é¸¿æ²Ÿ</strong>ï¼šå®éªŒé˜¶æ®µçš„è„šæœ¬éš¾ä»¥ç›´æ¥è½¬åŒ–ä¸ºå¯ç»´æŠ¤ã€å¯ç›‘æ§ã€å¯æ‰©å±•çš„ç”Ÿäº§æœåŠ¡ã€‚</li>
</ol>
<p>LangChain ä¸»è¦æœåŠ¡äºä»¥ä¸‹äººç¾¤å’Œåœºæ™¯ï¼š</p>
<ul>
<li><strong>AIåº”ç”¨å¼€å‘è€…</strong>ï¼šéœ€è¦å¿«é€Ÿæ„å»ºå…·å¤‡æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰ã€æ™ºèƒ½ä½“ã€å¤æ‚å·¥ä½œæµç­‰èƒ½åŠ›çš„åº”ç”¨ã€‚</li>
<li><strong>ä¼ä¸šæŠ€æœ¯å›¢é˜Ÿ</strong>ï¼šå¯»æ±‚å°†LLMèƒ½åŠ›é›†æˆåˆ°ç°æœ‰ä¸šåŠ¡ç³»ç»Ÿä¸­ï¼Œå¹¶éœ€è¦æ ‡å‡†åŒ–ã€å¯ç»´æŠ¤çš„å·¥ç¨‹å®è·µã€‚</li>
<li><strong>ç ”ç©¶è€…ä¸æ¢ç´¢è€…</strong>ï¼šéœ€è¦æ¨¡å—åŒ–å·¥å…·æ¥å¿«é€Ÿå®éªŒä¸åŒçš„æ¨¡å‹ã€æç¤ºè¯ç­–ç•¥å’Œå·¥ä½œæµç»„åˆã€‚</li>
</ul>
<h4 data-id="heading-5">è§£å†³æ–¹æ¡ˆä¸æŠ€æœ¯ä¼˜åŠ¿</h4>
<p>LangChain æä¾›çš„æ˜¯ä¸€ç§<strong>åŸºäºæŠ½è±¡å±‚å’Œå¯ç»„åˆæ¨¡å¼</strong>çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<ul>
<li><strong>æ—§æ–¹å¼</strong>ï¼šå¼€å‘è€…éœ€è¦ä¸ºæ¯ä¸ªé¡¹ç›®ç¼–å†™å¤§é‡èƒ¶æ°´ä»£ç ï¼Œç›´æ¥è°ƒç”¨å„å¼‚çš„æ¨¡å‹SDKï¼Œæ‰‹åŠ¨æ‹¼æ¥æç¤ºè¯ï¼Œç®¡ç†çŠ¶æ€ï¼Œå¹¶å¤„ç†é”™è¯¯å’Œé‡è¯•é€»è¾‘ã€‚ä»£ç å¤ç”¨æ€§å·®ï¼Œä¸”ç´§è€¦åˆäºç‰¹å®šæŠ€æœ¯æ ˆã€‚</li>
<li><strong>æ–°æ–¹å¼</strong>ï¼š
<ol>
<li><strong>å®šä¹‰é€šç”¨æ¥å£ï¼ˆå¦‚ <code>BaseChatModel</code>, <code>VectorStore</code>ï¼‰</strong>ï¼šæ‰€æœ‰å…·ä½“å®ç°ï¼ˆå¦‚<code>ChatOpenAI</code>, <code>QdrantVectorStore</code>ï¼‰éƒ½éµå¾ªåŒä¸€å¥—æ¥å£ï¼Œä½¿æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ä¸å…·ä½“æŠ€æœ¯å®ç°è§£è€¦ã€‚</li>
<li><strong>å¼•å…¥é“¾ï¼ˆChainï¼‰å’Œæ™ºèƒ½ä½“ï¼ˆAgentï¼‰æŠ½è±¡</strong>ï¼šå°†å¤šæ­¥éª¤ã€æœ‰æ¡ä»¶çš„å·¥ä½œæµå°è£…ä¸ºå¯å¤ç”¨çš„å•å…ƒã€‚é“¾æ”¯æŒåŒæ­¥/å¼‚æ­¥è°ƒç”¨ã€æµå¼å“åº”ã€æ‰¹å¤„ç†ç­‰ç»Ÿä¸€æ¨¡å¼ã€‚</li>
<li><strong>æä¾›ä¸°å¯Œçš„â€œè¿æ¥å™¨â€</strong>ï¼šå¼€ç®±å³ç”¨çš„é›†æˆå‡å°‘äº†å¯¹æ¥å¤–éƒ¨æœåŠ¡çš„ä»£ç é‡ã€‚</li>
<li><strong>é…å¥—å¼€å‘è¿ç»´å·¥å…·</strong>ï¼šCLIç”¨äºé¡¹ç›®ç®¡ç†ï¼ŒLangServeç”¨äºå°†ä»»ä½•é“¾å¿«é€Ÿéƒ¨ç½²ä¸ºAPIæœåŠ¡ï¼ŒLangSmithç”¨äºå…¨é“¾è·¯è¿½è¸ªå’Œè¯„ä¼°ã€‚</li>
</ol>
</li>
</ul>
<p><strong>ä¼˜åŠ¿</strong>åœ¨äº<strong>æå‡å¼€å‘æ•ˆç‡</strong>ã€<strong>ä¿éšœä»£ç è´¨é‡ä¸å¯ç»´æŠ¤æ€§</strong>ã€<strong>é™ä½æŠ€æœ¯é”å®šçš„é£é™©</strong>ï¼Œå¹¶<strong>é€šè¿‡ç¤¾åŒºç”Ÿæ€åŠ é€Ÿåˆ›æ–°</strong>ã€‚</p>
<h4 data-id="heading-6">å•†ä¸šä»·å€¼ä¼°ç®—ï¼ˆé€»è¾‘æ¨æ¼”ï¼‰</h4>
<p>LangChain çš„å•†ä¸šä»·å€¼å¯ä»¥ä»â€œé™ä½çš„å¼€å‘æˆæœ¬â€å’Œâ€œæ‹“å±•çš„åº”ç”¨å¯èƒ½æ€§â€ä¸¤ä¸ªç»´åº¦è¿›è¡Œé€»è¾‘ä¼°ç®—ã€‚</p>
<ul>
<li><strong>æˆæœ¬èŠ‚çœ</strong>ï¼šå‡è®¾ä¸€ä¸ªä¸­ç­‰å¤æ‚åº¦çš„RAGåº”ç”¨ï¼Œä¸ä½¿ç”¨æ¡†æ¶éœ€è¦èµ„æ·±å·¥ç¨‹å¸ˆçº¦20äººæ—¥çš„å¼€å‘ä¸è°ƒè¯•æ—¶é—´ã€‚ä½¿ç”¨ LangChainï¼Œå€ŸåŠ©å…¶æ ‡å‡†åŒ–ç»„ä»¶å’Œæ¨¡æ¿ï¼Œå¯å°†ç›¸åŒåŠŸèƒ½çš„å¼€å‘æ—¶é—´ç¼©çŸ­è‡³5-7äººæ—¥ï¼ŒèŠ‚çœçº¦65%-75%çš„ç›´æ¥å¼€å‘æˆæœ¬ã€‚è¿™ä¸»è¦æºäºå¯¹é€šç”¨æ¨¡å¼ï¼ˆå¦‚æ–‡æ¡£åŠ è½½ã€åˆ†å—ã€å‘é‡åŒ–ã€æ£€ç´¢ã€æç¤ºè¯ç»„è£…ï¼‰çš„å°è£…ã€‚</li>
<li><strong>æ•ˆç›Šæå‡</strong>ï¼šæ¡†æ¶çš„æ¨¡å—åŒ–ç‰¹æ€§ä½¿å¾—å›¢é˜Ÿèƒ½å¤Ÿå¿«é€Ÿå°è¯•ä¸åŒæ¨¡å‹ã€ä¸åŒæ£€ç´¢å™¨ç»„åˆï¼Œä»è€Œæ›´é«˜æ•ˆåœ°ä¼˜åŒ–åº”ç”¨æ•ˆæœï¼Œç¼©çŸ­äº§å“è¿­ä»£å‘¨æœŸã€‚å…¶ç”Ÿäº§å°±ç»ªçš„ç‰¹æ€§ï¼ˆå¦‚é€šè¿‡LangSmithç›‘æ§ï¼‰ä¹Ÿèƒ½é™ä½çº¿ä¸Šæ•…éšœçš„æ’æŸ¥æ—¶é—´å’Œé£é™©æˆæœ¬ã€‚</li>
<li><strong>è¦†ç›–é—®é¢˜ç©ºé—´</strong>ï¼šLangChain å®šä¹‰äº†ä¸€å¥—æ„å»ºLLMåº”ç”¨çš„æ ‡å‡†â€œè¯æ±‡è¡¨â€å’Œâ€œè®¾è®¡æ¨¡å¼â€ï¼Œå…¶ä»·å€¼ä¸ä»…åœ¨äºä»£ç æœ¬èº«ï¼Œæ›´åœ¨äºå®ƒæ•™è‚²å¹¶è§„èŒƒäº†æ•´ä¸ªç”Ÿæ€çš„æ„å»ºæ–¹å¼ï¼Œé™ä½äº†è¡Œä¸šæ•´ä½“çš„åä½œå’Œè®¤çŸ¥æˆæœ¬ã€‚</li>
</ul>
<h3 data-id="heading-7">2. è¯¦ç»†åŠŸèƒ½æ‹†è§£</h3>
<p>ä»äº§å“ä¸æŠ€æœ¯èåˆçš„è§†è§’ï¼Œå…¶æ ¸å¿ƒåŠŸèƒ½è®¾è®¡å¦‚ä¸‹ï¼š</p>


















































<table><thead><tr><th align="left">åŠŸèƒ½æ¨¡å—</th><th align="left">äº§å“è§†è§’ï¼ˆè§£å†³ä»€ä¹ˆé—®é¢˜ï¼‰</th><th align="left">æŠ€æœ¯è§†è§’ï¼ˆå¦‚ä½•å®ç°ï¼‰</th></tr></thead><tbody><tr><td align="left"><strong>æ ¸å¿ƒæŠ½è±¡ä¸æ¥å£</strong></td><td align="left">ç»Ÿä¸€ä¸åŒæŠ€æœ¯ç»„ä»¶çš„ä½¿ç”¨ä½“éªŒï¼Œå®ç°â€œå¯äº’æ¢â€ã€‚</td><td align="left">å®šä¹‰ <code>BaseLanguageModel</code>, <code>BaseRetriever</code>, <code>BaseMemory</code>, <code>BaseTool</code> ç­‰æŠ½è±¡åŸºç±»ï¼ˆABCï¼‰ã€‚æ‰€æœ‰å…·ä½“å®ç°å¿…é¡»ç»§æ‰¿å¹¶å®ç°è¿™äº›æ¥å£ã€‚</td></tr><tr><td align="left"><strong>é“¾ï¼ˆChainï¼‰</strong></td><td align="left">å°†å¤šæ­¥éª¤ä»»åŠ¡ï¼ˆå¦‚â€œæ£€ç´¢-&gt;ç”Ÿæˆâ€ï¼‰å°è£…ä¸ºå¯é‡å¤ä½¿ç”¨çš„å•ä¸€å•å…ƒï¼Œç®€åŒ–å¤æ‚é€»è¾‘ã€‚</td><td align="left">æä¾› <code>LLMChain</code>, <code>SequentialChain</code>, <code>TransformChain</code> ç­‰ã€‚æ ¸å¿ƒæ˜¯ <code>__call__</code> æˆ– <code>acall</code> æ–¹æ³•ï¼Œå†…éƒ¨ç®¡ç†ç»„ä»¶çš„æ‰§è¡Œé¡ºåºä¸æ•°æ®ä¼ é€’ã€‚</td></tr><tr><td align="left"><strong>æ™ºèƒ½ä½“ï¼ˆAgentï¼‰ä¸å·¥å…·</strong></td><td align="left">ä½¿LLMèƒ½å¤Ÿæ„ŸçŸ¥å¹¶è°ƒç”¨å¤–éƒ¨åŠŸèƒ½ï¼Œæ‰§è¡Œè¶…è¶Šæ–‡æœ¬ç”Ÿæˆçš„å¤æ‚ä»»åŠ¡ã€‚</td><td align="left">æä¾› <code>AgentExecutor</code> ä½œä¸ºè¿è¡Œæ—¶ï¼Œå¾ªç¯æ‰§è¡Œï¼šè§£æLLMè¾“å‡º -&gt; è°ƒç”¨å¯¹åº” <code>Tool</code> -&gt; å°†ç»“æœè¿”å›ç»™LLMã€‚å·¥å…·é€šè¿‡ <code>bind_tools()</code> æ–¹æ³•ä¸æ¨¡å‹ç»‘å®šã€‚</td></tr><tr><td align="left"><strong>è®°å¿†ï¼ˆMemoryï¼‰</strong></td><td align="left">è®©å¯¹è¯æˆ–äº¤äº’å…·å¤‡ä¸Šä¸‹æ–‡æ„ŸçŸ¥èƒ½åŠ›ï¼Œå®ç°å¤šè½®å¯¹è¯ã€‚</td><td align="left">æä¾› <code>ConversationBufferMemory</code>, <code>ConversationSummaryMemory</code> ç­‰ã€‚æœ¬è´¨æ˜¯åœ¨é“¾çš„è°ƒç”¨å‰åï¼Œè‡ªåŠ¨ä»å­˜å‚¨ä¸­è¯»å–å†å²æ¶ˆæ¯å¹¶æ‹¼æ¥åˆ°è¾“å…¥ä¸­ï¼Œæˆ–å°†æ–°äº¤äº’å†™å…¥å­˜å‚¨ã€‚</td></tr><tr><td align="left"><strong>ç´¢å¼•ä¸æ£€ç´¢</strong></td><td align="left">ä¸ºLLMæ³¨å…¥ç§æœ‰æˆ–å®æ—¶æ•°æ®ï¼Œå®ç°æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰ã€‚</td><td align="left">æä¾›æ–‡æ¡£åŠ è½½å™¨ï¼ˆDocument Loadersï¼‰ã€æ–‡æœ¬åˆ†å‰²å™¨ï¼ˆText Splittersï¼‰ã€å‘é‡å­˜å‚¨æ¥å£ï¼ˆVectorStoreï¼‰å’Œæ£€ç´¢å™¨ï¼ˆRetrieverï¼‰ï¼Œå½¢æˆæ ‡å‡†åŒ–æ•°æ®å¤„ç†æµæ°´çº¿ã€‚</td></tr><tr><td align="left"><strong>æç¤ºè¯ç®¡ç†</strong></td><td align="left">è§£è€¦æç¤ºè¯æ¨¡æ¿ä¸ä¸šåŠ¡é€»è¾‘ï¼Œä¾¿äºç®¡ç†å’Œä¼˜åŒ–ã€‚</td><td align="left">æä¾› <code>PromptTemplate</code>, <code>ChatPromptTemplate</code> ç­‰ï¼Œæ”¯æŒå˜é‡æ’å€¼ã€éƒ¨åˆ†æ ¼å¼åŒ–ï¼Œå¹¶å¯ä¸å…¶ä»–ç»„ä»¶ï¼ˆå¦‚è¾“å‡ºè§£æå™¨ï¼‰ç»„åˆã€‚</td></tr><tr><td align="left"><strong>å›è°ƒä¸å¯è§‚æµ‹æ€§</strong></td><td align="left">ä¸ºå¼€å‘è°ƒè¯•å’Œç”Ÿäº§ç›‘æ§æä¾›é’©å­ã€‚</td><td align="left">æä¾› <code>CallbackHandler</code> æ¥å£ï¼Œå…è®¸åœ¨LLMè°ƒç”¨ã€é“¾å¼€å§‹/ç»“æŸç­‰å…³é”®èŠ‚ç‚¹æ³¨å…¥è‡ªå®šä¹‰é€»è¾‘ã€‚LangSmith æ˜¯å…¶ä¼ä¸šçº§å®ç°ã€‚</td></tr><tr><td align="left"><strong>CLI ä¸ LangServe</strong></td><td align="left">é™ä½é¡¹ç›®åˆ›å»ºã€ä¾èµ–ç®¡ç†å’ŒæœåŠ¡éƒ¨ç½²çš„é—¨æ§›ã€‚</td><td align="left">CLI åŸºäº Typer æ„å»ºï¼Œæä¾›é¡¹ç›®æ¨¡æ¿å’ŒåŒ…ç®¡ç†å‘½ä»¤ã€‚LangServe åŸºäº FastAPIï¼Œå¯å°†ä»»ä½• <code>Runnable</code> åºåˆ—åŒ–ä¸º OpenAPI æ–‡æ¡£å¹¶å¯åŠ¨ HTTP æœåŠ¡ã€‚</td></tr></tbody></table>
<h3 data-id="heading-8">3. æŠ€æœ¯éš¾ç‚¹ä¸æŒ‘æˆ˜å› å­</h3>
<p>LangChain åœ¨å®ç°å…¶æ„¿æ™¯è¿‡ç¨‹ä¸­ï¼Œéœ€å…‹æœä»¥ä¸‹æ ¸å¿ƒå·¥ç¨‹æŠ€æœ¯éš¾ç‚¹ï¼š</p>
<ol>
<li><strong>æŠ½è±¡è®¾è®¡çš„å¹³è¡¡</strong>ï¼šå¦‚ä½•åœ¨æä¾›è¶³å¤Ÿå¼ºå¤§çš„æŠ½è±¡ä»¥ç®€åŒ–å¼€å‘çš„åŒæ—¶ï¼Œé¿å…æŠ½è±¡æ³„æ¼ï¼Œå¹¶ç¡®ä¿ä¸é™åˆ¶é«˜çº§ç”¨æˆ·è¿›è¡Œåº•å±‚å®šåˆ¶ï¼Ÿè¿™æ˜¯ä¸€ä¸ªç»å…¸çš„æ¡†æ¶è®¾è®¡éš¾é¢˜ã€‚</li>
<li><strong>å¼‚æ„é›†æˆçš„è´¨é‡ä¸ç»´æŠ¤</strong>ï¼šå¯¹æ¥ä¸Šç™¾ä¸ªå¤–éƒ¨æœåŠ¡ï¼ˆæ¨¡å‹ã€æ•°æ®åº“ã€å·¥å…·ï¼‰ï¼Œå¦‚ä½•ä¿è¯æ¯ä¸ªé›†æˆçš„è´¨é‡ã€ä¸ä¸Šæ¸¸APIå˜åŒ–çš„åŒæ­¥ã€ä»¥åŠé”™è¯¯å¤„ç†çš„é²æ£’æ€§ï¼Ÿ</li>
<li><strong>çŠ¶æ€ç®¡ç†ä¸æµå¼æ”¯æŒ</strong>ï¼šåœ¨å¤æ‚çš„ã€å¯èƒ½å¹¶å‘çš„æ™ºèƒ½ä½“å·¥ä½œæµä¸­ï¼Œå¦‚ä½•ä¼˜é›…åœ°ç®¡ç†ä¼šè¯çŠ¶æ€ã€å·¥å…·è°ƒç”¨å†å²ï¼Ÿå¦‚ä½•å°†åº•å±‚çš„æµå¼å“åº”ï¼ˆå¦‚ChatGPTçš„token-by-tokenè¾“å‡ºï¼‰æ— ç¼åœ°ç©¿é€åˆ°é¡¶å±‚é“¾æˆ–æ™ºèƒ½ä½“çš„æµå¼æ¥å£ä¸­ï¼Ÿ</li>
<li><strong>æ€§èƒ½ä¸å¯ä¼¸ç¼©æ€§</strong>ï¼šå½“é“¾ä¸­åŒ…å«å¤šä¸ªç½‘ç»œè°ƒç”¨ï¼ˆå¦‚å¤šæ¬¡æ¨¡å‹è°ƒç”¨ã€å‘é‡æ£€ç´¢ï¼‰æ—¶ï¼Œå¦‚ä½•é€šè¿‡å¼‚æ­¥ã€æ‰¹å¤„ç†ç­‰æœºåˆ¶ä¼˜åŒ–æ€§èƒ½ï¼Ÿå¦‚ä½•è®¾è®¡ç¼“å­˜ç­–ç•¥ï¼Ÿ</li>
<li><strong>ç‰ˆæœ¬å…¼å®¹ä¸æ¼”åŒ–</strong>ï¼šAI é¢†åŸŸæŠ€æœ¯è¿­ä»£æå¿«ï¼Œæ¡†æ¶è‡ªèº«å¦‚ä½•å¹³æ»‘æ¼”è¿›ï¼Œé¿å…é¢‘ç¹çš„ç ´åæ€§æ›´æ–°ï¼Œä¿æŠ¤ç”¨æˆ·é¡¹ç›®ï¼Ÿ</li>
<li><strong>â€œèƒ¶æ°´ä»£ç â€æ¡†æ¶çš„å›ºæœ‰é£é™©</strong>ï¼šLangChain è‡ªèº«ä¸æä¾›LLMæˆ–å‘é‡æ•°æ®åº“ï¼Œå…¶ä»·å€¼åœ¨äºâ€œè¿æ¥â€ã€‚è¿™å¯èƒ½å¯¼è‡´å…¶åœ¨å¤æ‚åœºæ™¯ä¸‹è¢«è§†ä¸ºâ€œä¸å¿…è¦çš„é—´æ¥å±‚â€ï¼Œç‰¹åˆ«æ˜¯å½“ç”¨æˆ·éœ€æ±‚éå¸¸å®šåˆ¶åŒ–æ—¶ã€‚</li>
</ol>
<h3 data-id="heading-9">4. è¯¦ç»†è®¾è®¡å›¾</h3>
<h4 data-id="heading-10">4.1 æ ¸å¿ƒæ¶æ„å›¾</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e3d80b6d2a3643ec839f96cde86b07a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5Y6C5oqA5pyv5oC755uR5LiL5rW3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768108481&amp;x-signature=ZHJ7SUzwwDDYKyiU7ljjQ5WaWfk%3D" alt="deepseek_mermaid_20260104_a62852.png" loading="lazy"/>
<em>æ¶æ„è§£è¯»</em>ï¼šç”¨æˆ·é€šè¿‡æ„å»ºé“¾æˆ–æ™ºèƒ½ä½“æ¥å¼€å‘åº”ç”¨ã€‚æ¡†æ¶æ ¸å¿ƒæä¾›ç»Ÿä¸€çš„æŠ½è±¡æ¥å£ï¼ˆLCELå’ŒRunnableåè®®ï¼‰å’ŒåŸºç¡€å®ç°ã€‚å…·ä½“çš„æ¨¡å‹ã€å­˜å‚¨ç­‰èƒ½åŠ›ç”±åºå¤§çš„é›†æˆç”Ÿæ€æä¾›ã€‚é…å¥—çš„CLIã€LangServeå’ŒLangSmithè¦†ç›–äº†å¼€å‘ç”Ÿå‘½å‘¨æœŸã€‚</p>
<h4 data-id="heading-11">4.2 æ ¸å¿ƒé“¾è·¯åºåˆ—å›¾ï¼šä¸€ä¸ªç®€å•çš„RAGé“¾è°ƒç”¨</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant User as ç”¨æˆ·/åº”ç”¨
    participant Chain as RAG Chain
    participant Retriever as Retriever
    participant LLM as ChatModel (e.g., OpenAI)
    participant VS as VectorStore

    User-&gt;&gt;Chain: invoke(â€œä»€ä¹ˆæ˜¯LangChainï¼Ÿâ€)
    Chain-&gt;&gt;Retriever: get_relevant_documents(â€œä»€ä¹ˆæ˜¯LangChainï¼Ÿâ€)
    Retriever-&gt;&gt;VS: similarity_search(â€œä»€ä¹ˆæ˜¯LangChainï¼Ÿâ€, k=4)
    VS--&gt;&gt;Retriever: [Doc1, Doc2, ...]
    Retriever--&gt;&gt;Chain: [Doc1, Doc2, ...]
    Note right of Chain: ç»„è£…æœ€ç»ˆPromptï¼š&lt;br/&gt;é—®é¢˜ + æ£€ç´¢åˆ°çš„æ–‡æ¡£
    Chain-&gt;&gt;LLM: generate(prompt_messages)
    LLM--&gt;&gt;Chain: AIMessage(content=â€LangChainæ˜¯...â€)
    Chain--&gt;&gt;User: â€œLangChainæ˜¯...â€
</code></pre>
<p><em>åºåˆ—è§£è¯»</em>ï¼šæ­¤å›¾å±•ç¤ºäº†ä¸€ä¸ªå…¸å‹çš„æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰æµç¨‹ã€‚é“¾åè°ƒäº†æ£€ç´¢å™¨ä¸è¯­è¨€æ¨¡å‹çš„è°ƒç”¨ï¼Œå¹¶è´Ÿè´£ä¸­é—´æ•°æ®çš„æ ¼å¼è½¬æ¢ä¸ç»„è£…ã€‚è¿™ç§æ¸…æ™°çš„èŒè´£åˆ†ç¦»æ˜¯æ¡†æ¶çš„å…³é”®ä»·å€¼ã€‚</p>
<h4 data-id="heading-12">4.3 æ ¸å¿ƒç±»å›¾ç®€æï¼ˆä»¥ChatModelsä¸ºä¾‹ï¼‰</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a901591454464c6b8d8ffe73773ec1b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5Y6C5oqA5pyv5oC755uR5LiL5rW3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768108481&amp;x-signature=iACHmuHj7aOFh7ogDGpB3%2BmAXVM%3D" alt="deepseek_mermaid_20260104_c56f58.png" loading="lazy"/>
<em>ç±»å›¾è§£è¯»</em>ï¼š<code>BaseChatModel</code> ä½œä¸ºæŠ½è±¡åŸºç±»ï¼Œå®šä¹‰äº†æ‰€æœ‰èŠå¤©æ¨¡å‹å¿…é¡»å®ç°çš„æ ¸å¿ƒæ–¹æ³•ï¼ˆå¦‚<code>invoke</code>, <code>stream</code>ï¼‰å’Œå¯é€‰çš„å†…éƒ¨æ–¹æ³•ï¼ˆå¦‚<code>_generate</code>ï¼‰ã€‚<code>ChatOpenAI</code> å’Œ <code>ChatAnthropic</code> ä½œä¸ºå…·ä½“å®ç°ï¼Œç»§æ‰¿è¯¥åŸºç±»ï¼Œå¹¶å¡«å……ä¸å„è‡ªAPIäº¤äº’çš„å…·ä½“é€»è¾‘ã€‚è¿™ç¡®ä¿äº†æ— è®ºåº•å±‚æ˜¯å“ªä¸ªå‚å•†çš„æ¨¡å‹ï¼Œä¸Šå±‚è°ƒç”¨æ–¹å¼éƒ½æ˜¯ä¸€è‡´çš„ã€‚</p>
<h3 data-id="heading-13">5. æ ¸å¿ƒä»£ç è§£æ</h3>
<p>æˆ‘ä»¬é€‰å–ä¸¤ä¸ªå…³é”®ä»£ç ç‰‡æ®µè¿›è¡Œè§£æï¼Œå®ƒä»¬ä½“ç°äº†æ¡†æ¶çš„æ ¸å¿ƒè®¾è®¡æ€æƒ³ã€‚</p>
<h4 data-id="heading-14">5.1 CLI çš„ <code>serve</code> å‘½ä»¤åˆ†æ´¾é€»è¾‘</h4>
<p>æ­¤å‡½æ•°ä½äº <code>langchain_cli/cli.py</code>ï¼Œå±•ç¤ºäº†å¦‚ä½•é€šè¿‡æ£€æŸ¥é¡¹ç›®å…ƒæ•°æ®æ¥æ™ºèƒ½åˆ†æ´¾å¯åŠ¨å‘½ä»¤ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@app.command()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">serve</span>(<span class="hljs-params">
    *,
    port: Annotated[
        <span class="hljs-built_in">int</span> | <span class="hljs-literal">None</span>,
        typer.Option(<span class="hljs-params"><span class="hljs-built_in">help</span>=<span class="hljs-string">"The port to run the server on"</span></span>),
    ] = <span class="hljs-literal">None</span>,
    host: Annotated[
        <span class="hljs-built_in">str</span> | <span class="hljs-literal">None</span>,
        typer.Option(<span class="hljs-params"><span class="hljs-built_in">help</span>=<span class="hljs-string">"The host to run the server on"</span></span>),
    ] = <span class="hljs-literal">None</span>,
</span>) -&gt; <span class="hljs-literal">None</span>:
    <span class="hljs-string">"""Start the LangServe app, whether it's a template or an app."""</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># 1. å°è¯•å®šä½é¡¹ç›®æ ¹ç›®å½•å¹¶è¯»å– pyproject.toml</span>
        project_dir = get_package_root()
        pyproject = project_dir / <span class="hljs-string">"pyproject.toml"</span>
        <span class="hljs-comment"># 2. å…³é”®æ£€æŸ¥ï¼šå°è¯•è·å– LangServe å¯¼å‡ºé…ç½®</span>
        get_langserve_export(pyproject)
    <span class="hljs-keyword">except</span> (KeyError, FileNotFoundError):
        <span class="hljs-comment"># 3. å¦‚æœå¤±è´¥ï¼Œè¯´æ˜å½“å‰ç›®å½•ä¸æ˜¯ä¸€ä¸ª LangChain æ¨¡æ¿é¡¹ç›®</span>
        <span class="hljs-comment">#    æŒ‰ç…§æ™®é€šåº”ç”¨çš„æ–¹å¼å¯åŠ¨</span>
        app_namespace.serve(port=port, host=host)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-comment"># 4. å¦‚æœæˆåŠŸï¼Œè¯´æ˜å½“å‰ç›®å½•æ˜¯ä¸€ä¸ª LangChain æ¨¡æ¿é¡¹ç›®</span>
        <span class="hljs-comment">#    æŒ‰ç…§æ¨¡æ¿é¡¹ç›®çš„ç‰¹å®šæ–¹å¼å¯åŠ¨</span>
        template_namespace.serve(port=port, host=host)
</code></pre>
<p><strong>ä»£ç è§£æ</strong>ï¼š</p>
<ol>
<li><code>get_package_root()</code> å’Œ <code>get_langserve_export()</code> æ˜¯ç”¨äºæ¢æµ‹é¡¹ç›®ç±»å‹çš„å·¥å…·å‡½æ•°ã€‚å®ƒä»¬æ£€æŸ¥ <code>pyproject.toml</code> ä¸­æ˜¯å¦åŒ…å«ç‰¹å®šçš„ <code>[tool.langchain]</code> é…ç½®é¡¹ï¼Œè¿™æ˜¯ LangChain é¡¹ç›®æ¨¡æ¿çš„æ ‡è®°ã€‚</li>
<li>è¿™ç§åŸºäºçº¦å®šçš„æ¢æµ‹æœºåˆ¶ï¼Œå…è®¸åŒä¸€ä¸ª <code>langchain-cli</code> å‘½ä»¤æ— ç¼æ”¯æŒä¸¤ç§ä½¿ç”¨åœºæ™¯ï¼š<strong>ä»æ¨¡æ¿åˆ›å»ºçš„æ–°é¡¹ç›®</strong>å’Œ<strong>å·²æœ‰çš„è‡ªå®šä¹‰åº”ç”¨é¡¹ç›®</strong>ã€‚è¿™æå‡äº†å¼€å‘è€…ä½“éªŒã€‚</li>
<li>é”™è¯¯å¤„ç†ç®€æ´æ˜ç¡®ï¼Œå°† <code>KeyError</code>ï¼ˆé…ç½®é¡¹ç¼ºå¤±ï¼‰å’Œ <code>FileNotFoundError</code>ï¼ˆé…ç½®æ–‡ä»¶ç¼ºå¤±ï¼‰ç»Ÿä¸€å¤„ç†ä¸ºâ€œéæ¨¡æ¿é¡¹ç›®â€ã€‚</li>
<li>æœ€ç»ˆå°†å¯åŠ¨é€»è¾‘åˆ†æ´¾ç»™ä¸åŒçš„å‘½åç©ºé—´ï¼ˆ<code>app_namespace</code> æˆ– <code>template_namespace</code>ï¼‰ï¼Œä½“ç°äº†è‰¯å¥½çš„èŒè´£åˆ†ç¦»ã€‚</li>
</ol>
<h4 data-id="heading-15">5.2 åˆä½œä¼™ä¼´åŒ…ä¸­ <code>ChatModel</code> çš„ <code>_generate</code> æ–¹æ³•æ¨¡æ¿</h4>
<p>æ­¤ä»£ç ç‰‡æ®µæ¥è‡ªåˆä½œä¼™ä¼´åŒ…çš„æ¨¡æ¿æ–‡ä»¶ï¼Œæ­ç¤ºäº†å¦‚ä½•ä¸ºä¸€ä¸ªæ–°çš„æ¨¡å‹æä¾›å•†å®ç°æ ‡å‡†æ¥å£ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ³¨æ„ï¼šä»¥ä¸‹ä»£ç æ˜¯åˆä½œä¼™ä¼´åŒ…çš„æ¨¡æ¿ï¼ŒåŒ…å«å¤§é‡ TODOã€‚</span>
<span class="hljs-comment"># å®ƒå±•ç¤ºäº†å®ç°ä¸€ä¸ªèŠå¤©æ¨¡å‹æ‰€éœ€çš„æœ€å°ç»“æ„å’Œæ¨¡å¼ã€‚</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">_generate</span>(<span class="hljs-params">
    self,
    messages: <span class="hljs-type">List</span>[BaseMessage],
    stop: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>] | <span class="hljs-literal">None</span> = <span class="hljs-literal">None</span>,
    run_manager: CallbackManagerForLLMRun | <span class="hljs-literal">None</span> = <span class="hljs-literal">None</span>,
    **kwargs: <span class="hljs-type">Any</span>,
</span>) -&gt; ChatResult:
    <span class="hljs-string">"""Override the _generate method to implement the chat model logic."""</span>
    <span class="hljs-comment"># æ­¤å¤„åº”æ›¿æ¢ä¸ºå®é™…è°ƒç”¨æ¨¡å‹APIçš„é€»è¾‘</span>
    <span class="hljs-comment"># æ¨¡æ¿ä¸­æ˜¯ä¸€ä¸ªç®€å•çš„â€œå¤è¯»æœºâ€å®ç°ï¼Œç”¨äºæ¼”ç¤º</span>
    last_message = messages[-<span class="hljs-number">1</span>]
    tokens = last_message.content[: self.parrot_buffer_length]
    ct_input_tokens = <span class="hljs-built_in">sum</span>(<span class="hljs-built_in">len</span>(message.content) <span class="hljs-keyword">for</span> message <span class="hljs-keyword">in</span> messages)
    ct_output_tokens = <span class="hljs-built_in">len</span>(tokens)
    
    <span class="hljs-comment"># æ„å»ºç¬¦åˆ LangChain æ¶ˆæ¯åè®®çš„å¯¹è±¡</span>
    message = AIMessage(
        content=tokens,
        additional_kwargs={},  <span class="hljs-comment"># å­˜æ”¾æ¨¡å‹åŸç”Ÿè¿”å›çš„é¢å¤–ä¿¡æ¯ï¼ˆå¦‚ finish_reasonï¼‰</span>
        response_metadata={    <span class="hljs-comment"># å­˜æ”¾å“åº”å…ƒæ•°æ®ï¼ˆå¦‚è€—æ—¶ã€æ¨¡å‹IDï¼‰</span>
            <span class="hljs-string">"time_in_seconds"</span>: <span class="hljs-number">3</span>,
            <span class="hljs-string">"model_name"</span>: self.model_name,
        },
        usage_metadata={       <span class="hljs-comment"># å­˜æ”¾tokenä½¿ç”¨é‡</span>
            <span class="hljs-string">"input_tokens"</span>: ct_input_tokens,
            <span class="hljs-string">"output_tokens"</span>: ct_output_tokens,
            <span class="hljs-string">"total_tokens"</span>: ct_input_tokens + ct_output_tokens,
        },
    )
    <span class="hljs-comment">##</span>
    <span class="hljs-comment"># å°†æ¶ˆæ¯å°è£…ä¸º ChatGenerationï¼Œå†æ”¾å…¥ ChatResult</span>
    generation = ChatGeneration(message=message)
    <span class="hljs-keyword">return</span> ChatResult(generations=[generation])
</code></pre>
<p><strong>ä»£ç è§£æ</strong>ï¼š</p>
<ol>
<li><strong>æ¨¡æ¿ä½œç”¨</strong>ï¼šè¿™ä»½æ¨¡æ¿æå¤§åœ°é™ä½äº†ä¸ºæ–°çš„AIæ¨¡å‹æœåŠ¡åˆ›å»º LangChain é›†æˆåŒ…çš„é—¨æ§›ã€‚è´¡çŒ®è€…åªéœ€å¡«å……è°ƒç”¨çœŸå®APIçš„ä»£ç ï¼Œå¹¶æ­£ç¡®æ˜ å°„è¿”å›æ•°æ®ã€‚</li>
<li><strong>å…³é”®è¾“å…¥</strong>ï¼š
<ul>
<li><code>messages</code>: æ ‡å‡†åŒ–åçš„æ¶ˆæ¯åˆ—è¡¨ï¼ˆ<code>SystemMessage</code>, <code>HumanMessage</code>, <code>AIMessage</code> ç­‰ï¼‰ï¼Œè°ƒç”¨è€…æ— éœ€å…³å¿ƒåŸå§‹APIçš„æ¶ˆæ¯æ ¼å¼ã€‚</li>
<li><code>stop</code>: åœæ­¢è¯åºåˆ—ï¼Œéœ€è¦å®ç°è€…å°†å…¶è½¬æ¢ä¸ºå¯¹åº”APIçš„å‚æ•°ã€‚</li>
<li><code>run_manager</code>: å›è°ƒç®¡ç†å™¨ï¼Œç”¨äºåœ¨ç”Ÿæˆè¿‡ç¨‹ä¸­è§¦å‘å›è°ƒäº‹ä»¶ï¼ˆå¦‚ <code>on_llm_new_token</code>ï¼‰ï¼Œæ˜¯å®ç°æµå¼å¤„ç†å’Œå¯è§‚æµ‹æ€§çš„å…³é”®ã€‚</li>
</ul>
</li>
<li><strong>å…³é”®è¾“å‡º</strong>ï¼šå¿…é¡»è¿”å› <code>ChatResult</code> å¯¹è±¡ï¼Œå…¶å†…éƒ¨åŒ…å« <code>ChatGeneration</code>ã€‚<code>AIMessage</code> çš„å„ä¸ªå­—æ®µè®¾è®¡ç²¾è‰¯ï¼š
<ul>
<li><code>content</code>: æ ¸å¿ƒå›å¤å†…å®¹ã€‚</li>
<li><code>additional_kwargs</code>: ä¿ç•™æ¨¡å‹åŸç”Ÿå“åº”ä¸­å¯èƒ½å­˜åœ¨çš„ç‰¹æ®Šå­—æ®µï¼Œä¿è¯ä¿¡æ¯ä¸ä¸¢å¤±ã€‚</li>
<li><code>response_metadata</code> &amp; <code>usage_metadata</code>: æ ‡å‡†åŒ–äº†ç›‘æ§å’Œæˆæœ¬æ ¸ç®—æ‰€éœ€çš„å…³é”®å…ƒæ•°æ®ã€‚</li>
</ul>
</li>
<li><strong>è®¾è®¡æ¨¡å¼</strong>ï¼šè¿™æ˜¯<strong>æ¨¡æ¿æ–¹æ³•æ¨¡å¼</strong>çš„å…¸å‹åº”ç”¨ã€‚<code>BaseChatModel</code> çš„ <code>invoke()</code> æ–¹æ³•å®šä¹‰äº†è°ƒç”¨æµç¨‹ï¼ˆå¯èƒ½åŒ…æ‹¬é¢„å¤„ç†ã€å›è°ƒè§¦å‘ç­‰ï¼‰ï¼Œå¹¶è°ƒç”¨å­ç±»å¿…é¡»å®ç°çš„ <code>_generate()</code> è¿™ä¸ªâ€œå˜ä½“â€éƒ¨åˆ†ã€‚</li>
</ol>
<h3 data-id="heading-16">æ€»ç»“ä¸å±•æœ›</h3>
<p>LangChain æˆåŠŸåœ°å°†æ„å»ºLLMåº”ç”¨çš„å¸¸è§æ¨¡å¼æŠ½è±¡ä¸ºäº†ä¸€å¥—æ ‡å‡†åŒ–çš„ã€å¯ç»„åˆçš„æ¥å£ä¸ç»„ä»¶ã€‚å…¶æŠ€æœ¯æ¶æ„çš„æ ¸å¿ƒä»·å€¼åœ¨äº<strong>é€šè¿‡å®šä¹‰è¡Œä¸šé€šç”¨æ¥å£å’Œåè®®ï¼Œé™ä½äº†ç”Ÿæ€çš„ç¢ç‰‡åŒ–ï¼Œå¹¶æ˜¾è‘—æå‡äº†å¼€å‘æ•ˆç‡</strong>ã€‚å®ƒå¹¶éé“¶å¼¹ï¼Œåœ¨å¤„ç†æè‡´æ€§èƒ½æˆ–é«˜åº¦å®šåˆ¶åŒ–çš„åœºæ™¯æ—¶å¯èƒ½å¼•å…¥é¢å¤–å¤æ‚åº¦ï¼Œä½†å…¶åœ¨å¿«é€ŸåŸå‹ã€æ ‡å‡†åŒ–ç”Ÿäº§ä»¥åŠæ•™è‚²å¸‚åœºæ–¹é¢çš„ä½œç”¨æ¯‹åº¸ç½®ç–‘ã€‚</p>
<p>ä»æŠ€æœ¯æ¼”è¿›çœ‹ï¼Œå…¶è¡¨è¾¾å¼è¯­è¨€ï¼ˆLCELï¼‰å’Œ <code>Runnable</code> åè®®çš„å¼•å…¥ï¼Œæ­£è¯•å›¾æä¾›æ›´å£°æ˜å¼ã€æ›´çµæ´»çš„ç¼–æ’æ–¹å¼ã€‚æœªæ¥ï¼Œå¦‚ä½•è¿›ä¸€æ­¥ä¼˜åŒ–å¤æ‚æ™ºèƒ½ä½“å·¥ä½œæµçš„æ€§èƒ½ä¸å¯é æ€§ï¼Œæ·±åŒ–ä¸å„ç±»è¿è¡Œæ—¶ï¼ˆå¦‚äº‘å‡½æ•°ã€è¾¹ç¼˜è®¡ç®—ï¼‰çš„é›†æˆï¼Œä»¥åŠå¦‚ä½•æ›´å¥½åœ°å¹³è¡¡æ¡†æ¶çš„â€œé‡é‡â€ä¸â€œçµæ´»æ€§â€ï¼Œå°†æ˜¯ LangChain æŒç»­é¢ä¸´çš„æŠ€æœ¯æŒ‘æˆ˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025å®æµ‹ï¼šAI/Vibe Codingæ•‘äº†æˆ‘çš„å‘½ï¼Œä¹Ÿå·®ç‚¹åºŸäº†æˆ‘çš„æ­¦åŠŸ]]></title>    <link>https://juejin.cn/post/7590681158717390888</link>    <guid>https://juejin.cn/post/7590681158717390888</guid>    <pubDate>2026-01-04T05:31:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590681158717390888" data-draft-id="7590778284758761507" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025å®æµ‹ï¼šAI/Vibe Codingæ•‘äº†æˆ‘çš„å‘½ï¼Œä¹Ÿå·®ç‚¹åºŸäº†æˆ‘çš„æ­¦åŠŸ"/> <meta itemprop="keywords" content="VibeCoding,Flutter"/> <meta itemprop="datePublished" content="2026-01-04T05:31:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‰‰é¡µçš„å¢¨"/> <meta itemprop="url" content="https://juejin.cn/user/1767670429254526"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025å®æµ‹ï¼šAI/Vibe Codingæ•‘äº†æˆ‘çš„å‘½ï¼Œä¹Ÿå·®ç‚¹åºŸäº†æˆ‘çš„æ­¦åŠŸ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1767670429254526/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‰‰é¡µçš„å¢¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T05:31:43.000Z" title="Sun Jan 04 2026 05:31:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»è¢«å·åˆ°èººå¹³å†åˆ°èµ·é£.
å…„å¼Ÿä»¬ï¼Œ
å¦‚æœç”¨ä¸€ä¸ªè¯å½¢å®¹æˆ‘çš„2025ï¼Œé‚£å°±æ˜¯**â€œè¿‡å±±è½¦â€**ã€‚è¿™ä¸€å¹´ï¼Œæˆ‘æ²¡æ­»ç£•æ–°æ¡†æ¶ï¼Œä¹Ÿæ²¡å»èƒŒä»€ä¹ˆæ–°è¯­è¨€çš„è¯­æ³•ï¼Œè€Œæ˜¯å½»åº•è¢«Â <strong>AI/Vibe Coding</strong>Â æ¢äº†ä¸€èº«â€œæ“ä½œç³»ç»Ÿâ€ã€‚</p>
<p>ä»å¹´åˆåªä¼šç”¨AIæŸ¥ä¸ª<code>SyntaxError</code>ï¼Œåˆ°å¹´åº•ç”¨å®ƒä¸»å¯¼äº†3ä¸ªæ ¸å¿ƒé¡¹ç›®çš„é‡æ„ï¼Œè¿™ä¸€å¹´çš„å˜åŒ–å¤ªå¤§äº†ã€‚ä»Šå¤©ä¸å¹ç‰›é€¼ï¼Œä¸çŒé¸¡æ±¤ï¼Œçº¯æ‰‹æ‰“åˆ†äº«ä¸€ä¸‹è¿™ä¸€å¹´çš„å®æˆ˜å¾—å¤±ï¼Œæ—¢æœ‰è®©ä½ æ•ˆç‡èµ·é£çš„é‡è·¯å­ï¼Œä¹Ÿæœ‰æˆ‘è¸©å‘åçš„è¡€æ³ªæ•™è®­ã€‚</p>
<h3 data-id="heading-0">ä¸€ã€æ•ˆç‡é©å‘½ï¼šä»â€œæ‰‹æ“â€åˆ°â€œæŒ‡æŒ¥â€</h3>
<p>ä»¥å‰æˆ‘çš„å¼€å‘æµç¨‹ï¼Œå¤§å®¶åº”è¯¥éƒ½æ‡‚ï¼šæ¥åˆ°éœ€æ±‚ -&gt; æ‰“å¼€IDE -&gt; ä»<code>main</code>å‡½æ•°å¼€å§‹ä¸€è¡Œè¡Œæ•² -&gt; é‡åˆ°ä¸ªAPIç¿»åŠå¤©æ–‡æ¡£ -&gt; é‡æ„æ—§ä»£ç å…ˆèŠ±ä¸¤å¤©ç”»ERå›¾ã€‚</p>
<p>é‚£æ—¶å€™ï¼Œä¸€å‘¨èƒ½è‚å®Œä¸¤ä¸ªè¿­ä»£å°±ç®—çƒ§é«˜é¦™äº†ï¼ŒåŠ ç­æ›´æ˜¯å®¶å¸¸ä¾¿é¥­ã€‚</p>
<p><strong>è½¬æŠ˜ç‚¹æ˜¯Cursorï¼ˆé›†æˆäº†Gemini 3ï¼‰ã€‚</strong></p>
<p>æˆ‘ç¬¬ä¸€æ¬¡ç”¨å®ƒå†™ç”¨æˆ·ç®¡ç†æ¨¡å—ï¼Œç›´æ¥æƒŠäº†ã€‚è¿™ä¸å†æ˜¯ç®€å•çš„â€œä»£ç è¡¥å…¨â€ï¼Œè€Œæ˜¯çœŸæ­£çš„Â <strong>Vibe Coding</strong>â€”â€”<strong>æˆ‘å®šæ–¹å‘ï¼ŒAIå¡«ç»†èŠ‚ã€‚</strong></p>
<p>å°è±¡æœ€æ·±çš„æ˜¯Q3é‚£ä¸ªæ—§ç³»ç»Ÿé‡æ„ï¼Œè¦å…¼å®¹100å¤šä¸ªè€æ¥å£ï¼Œè¿˜å¾—æé«˜å†…èšä½è€¦åˆã€‚è¦æ˜¯æä»¥å‰ï¼Œå…‰æ¢³ç†ä¾èµ–å…³ç³»å°±å¾—è„±å±‚çš®ã€‚è¿™æ¬¡æˆ‘ç›´æ¥è·ŸAIè¯´ï¼šâ€œæˆ‘è¦å…¼å®¹æ—§æ¥å£ï¼Œé«˜å†…èšä½è€¦åˆï¼Œè¿˜å¾—æ”¯æŒåˆ†å¸ƒå¼äº‹åŠ¡ã€‚â€</p>
<p>ä½ çŒœæ€ä¹ˆç€ï¼Ÿå®ƒç›´æ¥ç»™æˆ‘æ­å¥½äº†éª¨æ¶ï¼Œç”šè‡³ä¸»åŠ¨æ ‡å‡ºäº†å‡ ä¸ªå…¼å®¹æ€§é£é™©ç‚¹ã€‚</p>
<p>å½“ç„¶ï¼ŒAIä¸æ˜¯ç¥ï¼Œå®ƒä¹Ÿç»å¸¸â€œè·‘åâ€ã€‚æœ‰ä¸€æ¬¡å®ƒç”Ÿæˆçš„åˆ†å¸ƒå¼é”ä»£ç ï¼Œè¾¹ç•Œæ¡ä»¶æ²¡å¤„ç†å¥½ï¼Œå¹¶å‘ä¸€é«˜å°±ä¸¢æ•°æ®ã€‚ä½†æˆ‘åªæŠŠæŠ¥é”™ç°è±¡ï¼ˆå¹¶å‘æ’æ•°æ®é‡å¤ï¼‰æ‰”ç»™å®ƒï¼Œå®ƒç«‹é©¬åäº†ä¸‰å¥—è§£å†³æ–¹æ¡ˆï¼Œè¿˜é™„å¸¦äº†æ€§èƒ½å¯¹æ¯”ã€‚æœ€åï¼Œè¿™é¡¹ç›®åªç”¨äº†8å¤©å°±ä¸Šçº¿äº†ï¼Œé›¶æ•…éšœï¼Œæ¯”åŸè®¡åˆ’çœäº†æ•´æ•´ä¸€åŠæ—¶é—´ã€‚</p>
<p><strong>è¯´å®è¯ï¼Œè¿™ä¸€å¹´çš„æ•ˆç‡æå‡ï¼Œä¿å®ˆä¼°è®¡æœ‰70%ã€‚</strong><br/>
ä»¥å‰æä¸€å¤©çš„æ¥å£ï¼Œç°åœ¨ä¸¤å°æ—¶æå®šï¼›ä»¥å‰å†™ä¸‰å¤©çš„æµ‹è¯•ç”¨ä¾‹ï¼ŒAIç”Ÿæˆæ¡†æ¶åæˆ‘è¡¥å‡ ä¸ªæ ¸å¿ƒåœºæ™¯ï¼Œä¸€å°æ—¶å®Œäº‹ã€‚çœä¸‹æ¥çš„æ—¶é—´ï¼Œç»ˆäºèƒ½ç”¨æ¥å¥½å¥½æ€è€ƒæ¶æ„å’Œä¸šåŠ¡äº†ï¼Œè€Œä¸æ˜¯å½“â€œä»£ç æ¬è¿å·¥â€ã€‚</p>
<h3 data-id="heading-1">äºŒã€èƒ½åŠ›ç ´åœˆï¼šä»â€œåªä¼šå†™æ¥å£â€åˆ°â€œå…¨æ ˆä¹±æ€â€</h3>
<p>æ•ˆç‡æå‡æ˜¯å°äº‹ï¼Œ<strong>èƒ½åŠ›ç ´åœˆ</strong>æ‰æ˜¯è®©æˆ‘æœ€çˆ½çš„ã€‚</p>
<p>å¤§å®¶éƒ½çŸ¥é“ï¼Œåç«¯è½¬å…¨æ ˆæœ€éš¾çš„å°±æ˜¯é‚£é“åï¼šå‰ç«¯é‚£å †èŠ±èŠ±ç»¿ç»¿çš„ä¸œè¥¿ã€‚ä»¥å‰é‡åˆ°å…¨æ ˆéœ€æ±‚ï¼Œæˆ‘åªèƒ½å–Šâ€œå‰ç«¯å…„å¼Ÿæ•‘å‘½â€ã€‚</p>
<p>ä»Šå¹´å¹´ä¸­ï¼Œæˆ‘ä»¬æäº†ä¸ªè½»é‡çº§åˆ›ä¸šé¡¹ç›®ï¼Œè¦åšä¸ªç®€æ˜“åä½œå¹³å°ã€‚æŒ‰è€å¥—è·¯ï¼Œè¿™å¾—å‰åç«¯+è¿ç»´ä¸‰ä¸ªäººæä¸€å‘¨ã€‚ä½†è¿™æ¬¡ï¼Œå°±æˆ‘å’Œä¸€ä¸ªäº§å“ç»ç†ï¼Œç”¨AI Agentå·¥å…·é“¾ï¼Œ<strong>2å¤©</strong>å°±æŠŠåŸå‹å¹²å‡ºæ¥äº†ã€‚</p>
<ul>
<li><strong>åç«¯ï¼š</strong> Â Vibe Codingæå®šï¼Œæˆ‘åªç®¡æ ¸å¿ƒé€»è¾‘ã€‚</li>
<li><strong>å‰ç«¯ï¼š</strong> Â äº§å“ç»ç†ç»™ä¸ªå›¾ï¼Œæˆ‘è®©Agentè½¬æˆReactä»£ç ï¼Œå¾®è°ƒä¸€ä¸‹æ ·å¼ã€‚</li>
<li><strong>æ–‡æ¡£éƒ¨ç½²ï¼š</strong> Â Agentè‡ªåŠ¨æŠ“æ³¨é‡Šå†™æ–‡æ¡£ï¼Œè¿Dockeré…ç½®å’Œè¿ç»´è„šæœ¬éƒ½å¸®æˆ‘ç”Ÿæˆäº†ã€‚</li>
</ul>
<p>æ›´ç¦»è°±çš„æ˜¯ï¼Œæˆ‘ç”šè‡³ç”¨AI Agentæäº†ä¸ª<strong>ä¸ªäººæ—…è¡Œè§„åˆ’å·¥å…·</strong>ã€‚è¾“å…¥â€œå¸¦è€äººå­©å­ã€é¢„ç®—5åƒã€å–œæ¬¢è‡ªç„¶æ™¯è§‚â€ï¼ŒAIç›´æ¥ç”Ÿæˆè¡Œç¨‹ï¼Œè¿˜èƒ½æŠ“èˆªç­å’Œé…’åº—ä¿¡æ¯ã€‚</p>
<p>å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘è¿™ä¸ªåç«¯åœŸé³–è¦æå‰ç«¯å¯è§†åŒ–ã€å¯¹æ¥ç¬¬ä¸‰æ–¹APIã€‚AIå°±åƒä¸ª24å°æ—¶åœ¨çº¿çš„å¯¼å¸ˆï¼Œä¸æ‡‚å°±é—®ï¼Œè¾¹åšè¾¹å­¦ã€‚æœ€åä¸ä»…å·¥å…·åšå‡ºæ¥äº†ï¼ŒReactå¯è§†åŒ–å’ŒAPIå¯¹æ¥çš„å‘æˆ‘ä¹Ÿé—¨å„¿æ¸…äº†ã€‚</p>
<p><strong>ä¸€å¥è¯ï¼šåªè¦æ•¢æƒ³ï¼Œåç«¯ä¹Ÿèƒ½â€œå…¨æ ˆä¹±æ€â€ã€‚</strong></p>
<h3 data-id="heading-2">ä¸‰ã€è®¤çŸ¥é‡å¡‘ï¼šåˆ«è·ŸAIæ¯”æ‰‹é€Ÿï¼Œè¦æ¯”è„‘å­</h3>
<p>è¿™æ˜¯2025å¹´æˆ‘æœ€å¤§çš„æ”¶è·ï¼Œä¹Ÿæ˜¯æœ€ç—›è‹¦çš„é¢†æ‚Ÿã€‚</p>
<p>åˆšå¼€å§‹æ·±åº¦ç”¨AIæ—¶ï¼Œæˆ‘å¾ˆç„¦è™‘ï¼šAIä¸‰åˆ†é’Ÿå†™ä¸‰åƒè¡Œå·¥ä¸šçº§ä»£ç ï¼ŒAgentèƒ½ç‹¬ç«‹æ­é¡¹ç›®ï¼Œæˆ‘ä»¬è¿˜æœ‰å•¥ç”¨ï¼Ÿç”šè‡³æœ‰ä¸€é˜µå­æˆ‘è¿‡åº¦ä¾èµ–AIï¼ŒåŸºç¡€éƒ½ç”Ÿç–äº†ï¼Œé¢è¯•è¢«é—®â€œåˆ†å¸ƒå¼äº‹åŠ¡åŸç†â€æ—¶ï¼Œæˆ‘ç«Ÿç„¶å¡å£³äº†ã€‚</p>
<p>åæ¥ç”¨Vibe Codingä¹…äº†ï¼Œæˆ‘æ‚Ÿäº†ï¼š<strong>AIæ˜¯è¶…çº§ä¹æ‰‹ï¼Œä½†ä½ æ˜¯æŒ‡æŒ¥å®¶ã€‚</strong></p>
<p>AIæ“…é•¿æ‰§è¡Œå’Œå¡«å‘ï¼Œäººç±»çš„ä»·å€¼åœ¨äº<strong>åˆ›é€ åŠ›ã€åˆ¤æ–­åŠ›å’Œå…±æƒ…</strong>ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼šAIèƒ½ç”Ÿæˆä¸€ä¸ªå®Œç¾çš„ç™»å½•æ¥å£ï¼Œè¯­æ³•é›¶é”™è¯¯ã€‚ä½†å®ƒä¸çŸ¥é“ä¸šåŠ¡é‡Œéœ€è¦â€œå¼‚åœ°ç™»å½•æé†’â€ã€‚å¦‚æœä½ ç›´æ¥å¤åˆ¶ç²˜è´´ï¼ŒåŠŸèƒ½æ˜¯èƒ½è·‘ï¼Œä½†ç”¨æˆ·ä½“éªŒå’Œè´¦å·å®‰å…¨å°±å´©äº†ã€‚</p>
<p><strong>è¿™å°±æ˜¯æˆ‘ä»¬çš„ä»·å€¼ï¼šæ‡‚ä¸šåŠ¡ï¼Œæ‡‚ç”¨æˆ·ï¼Œåšå†³ç­–ã€‚</strong></p>
<p>é‚£äº›æ‹…å¿ƒè¢«AIæ·˜æ±°çš„äººï¼Œå…¶å®æ˜¯æ²¡åˆ†æ¸…â€œä»£ç å·¥äººâ€å’Œâ€œæŠ€æœ¯å†³ç­–è€…â€ã€‚æœªæ¥ï¼Œåªä¼šCtrl+Cã€Ctrl+Vçš„â€œä»£ç å·¥äººâ€ç¡®å®å±é™©ï¼›ä½†èƒ½é©¾é©­AIï¼Œæå®šæ¶æ„ã€ç†è§£ä¸šåŠ¡ã€åˆ›é€ ä»·å€¼çš„äººï¼Œåªä¼šè¶Šæ¥è¶Šåƒé¦™ã€‚</p>
<h3 data-id="heading-3">å››ã€å®æˆ˜é¿å‘ï¼š3ä¸ªæˆ‘ç”¨çœŸé‡‘ç™½é“¶æ¢æ¥çš„æŠ€å·§</h3>
<p>å…‰è¯´ä¸ç»ƒå‡æŠŠå¼ï¼Œåˆ†äº«3ä¸ªæˆ‘æ€»ç»“çš„â€œäººæœºåä½œâ€ä¿å‘½æŠ€å·§ï¼š</p>
<p><strong>1. æ˜ç¡®è¾¹ç•Œï¼šæŠŠAIå½“â€œå‰¯é©¾é©¶â€ï¼Œåˆ«å½“â€œæ›¿èº«â€</strong></p>
<ul>
<li><strong>AIå¹²å•¥ï¼š</strong> Â æ­è„šæ‰‹æ¶ã€å†™CRUDã€ç”ŸæˆåŸºç¡€æµ‹è¯•ã€æŸ¥æ–‡æ¡£ã€‚</li>
<li><strong>ä½ å¹²å•¥ï¼š</strong> Â æ ¸å¿ƒç®—æ³•ã€åˆ†å¸ƒå¼ä¸€è‡´æ€§ã€å®‰å…¨åˆè§„ã€ä¸šåŠ¡é€»è¾‘å…œåº•ã€‚</li>
<li><strong>åŸåˆ™ï¼š</strong> Â ä½é£é™©ã€æ ‡å‡†åŒ–çš„æ´»å„¿æ‰”ç»™AIï¼Œä½ è´Ÿè´£å®¡æ ¸ï¼›é«˜é£é™©ã€æ ¸å¿ƒåŸŸçš„æ´»å„¿ï¼Œä½ ä¸»å¯¼ï¼ŒAIç»™å»ºè®®ã€‚</li>
</ul>
<p><strong>2. ç²¾å‡†å¼•å¯¼ï¼šåˆ«é—®å‚»é—®é¢˜ï¼Œè¦ç”¨â€œç»“æ„åŒ–æç¤ºâ€</strong><br/>
åˆ«åªä¼šè¯´â€œå¸®æˆ‘å†™ä¸ªç™»å½•â€ï¼ŒAIç”Ÿæˆçš„ä»£ç å¤§æ¦‚ç‡æ²¡æ³•ç”¨ã€‚æˆ‘ç”¨çš„æ¨¡æ¿æ˜¯ï¼š</p>
<blockquote>
<p><strong>æ ¸å¿ƒéœ€æ±‚ï¼š</strong> Â å†™ä¸€ä¸ªåŸºäºJWTçš„ç™»å½•æ¥å£ã€‚<br/>
<strong>çº¦æŸæ¡ä»¶ï¼š</strong> Â ç”¨Spring Boot 3.0ï¼Œæ•°æ®åº“ç”¨MySQLï¼Œå¯†ç è¦BCryptåŠ å¯†ï¼Œè¦è€ƒè™‘é˜²æš´åŠ›ç ´è§£ã€‚<br/>
<strong>è¾“å‡ºè¦æ±‚ï¼š</strong> Â ä»£ç è¦æœ‰æ³¨é‡Šï¼Œè¿”å›æ ¼å¼ç»Ÿä¸€ç”¨Resultï¼Œç»™å‡ºPostmanæµ‹è¯•ç”¨ä¾‹ã€‚</p>
</blockquote>
<p>è¿™æ ·ä¸€å–‚ï¼Œå‡ºæ¥çš„ä»£ç åŸºæœ¬ä¸ç”¨æ”¹ï¼Œç›´æ¥èƒ½ç”¨ã€‚</p>
<p><strong>3. æŒç»­å¤ç›˜ï¼šå»ºç«‹è‡ªå·±çš„â€œæŠ¤æ è§„åˆ™åº“â€</strong><br/>
AIç»å¸¸çŠ¯è ¢ï¼Œæ¯”å¦‚å¼•ç”¨åºŸå¼ƒçš„åŒ…ï¼Œæˆ–è€…å¿½ç•¥åˆ†å¸ƒå¼äº‹åŠ¡è¾¹ç•Œã€‚æˆ‘çš„åšæ³•æ˜¯ï¼š<br/>
æ¯æ¬¡å®ƒè¸©å‘ï¼Œæˆ‘å°±æŠŠå‘è®°ä¸‹æ¥ï¼Œä¸‹æ¬¡åœ¨æç¤ºè¯é‡Œæå‰æ‰“è¡¥ä¸ã€‚<br/>
æ¯”å¦‚ï¼šâ€œ<strong>æ³¨æ„ï¼š</strong> Â åªèƒ½ç”¨Spring Boot 3.0å®˜æ–¹æ”¯æŒçš„ä¾èµ–ï¼Œå¿…é¡»å…¼å®¹Seataåˆ†å¸ƒå¼äº‹åŠ¡ï¼Œæ˜ç¡®äº‹åŠ¡è¾¹ç•Œã€‚â€</p>
<h3 data-id="heading-4">äº”ã€å†™åœ¨æœ€åï¼š2026ï¼Œæ€ä¹ˆæ··ï¼Ÿ</h3>
<p>å›å¤´çœ‹2025ï¼ŒAI/Vibe Codingä¸ä»…è®©æˆ‘æ•ˆç‡ç¿»å€ï¼Œæ›´è®©æˆ‘æ˜ç™½ï¼š<strong>æŠ€æœ¯æµªæ½®æŒ¡ä¸ä½ï¼Œä¸å…¶ç„¦è™‘ï¼Œä¸å¦‚å†²æµªã€‚</strong></p>
<p>2026å¹´ï¼Œéšç€ä¸–ç•Œæ¨¡å‹å’Œå…·èº«æ™ºèƒ½çš„å‘å±•ï¼ŒAIå’Œå¼€å‘çš„åä½œä¼šæ›´ç´§å¯†ã€‚æˆ‘ä»¬è¦åšçš„ï¼Œä¸æ˜¯è·ŸAIæ¯”è°æ•²ä»£ç å¿«ï¼Œè€Œæ˜¯æ­»ç£•è¿™å‡ æ ·AIæš‚æ—¶å¹²ä¸äº†çš„äº‹ï¼š</p>
<ol>
<li><strong>ä¸šåŠ¡æ·±åº¦ï¼š</strong> Â ä¸åªæ˜¯å®ç°åŠŸèƒ½ï¼Œè€Œæ˜¯ç†è§£åŠŸèƒ½èƒŒåçš„ç”Ÿæ„é€»è¾‘ã€‚</li>
<li><strong>æ¶æ„è®¾è®¡ï¼š</strong> Â åˆ«è®©AIç”Ÿæˆçš„ä»£ç æŠŠç³»ç»Ÿææˆä¸€å¨å±ï¼Œè¦æœ‰æŒæ§å…¨å±€çš„èƒ½åŠ›ã€‚</li>
<li><strong>æç¤ºå·¥ç¨‹ï¼š</strong> Â å­¦ä¼šæŠŠAIâ€œè°ƒæ•™â€å¥½ï¼Œè®©å®ƒä¹–ä¹–å¹²æ´»ã€‚</li>
<li><strong>æŒç»­å­¦ä¹ ï¼š</strong> Â å·¥å…·åœ¨å˜ï¼Œä½†å­¦ä¹ èƒ½åŠ›æ˜¯æ ¸å¿ƒã€‚</li>
</ol>
<p>å¦‚æœä½ ä¹Ÿåœ¨2025å¹´è¢«AI/Vibe Codingéœ‡æ’¼è¿‡ï¼Œæˆ–è€…è¿˜åœ¨è¿·èŒ«æ€ä¹ˆä¸Šè½¦ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºèŠèŠã€‚ä¸ç®¡æ˜¯æŠ€æœ¯æ ˆè¿˜æ˜¯å…·ä½“åœºæ™¯ï¼Œå’±ä»¬ä¸€èµ·æ¢è®¨ã€‚</p>
<p><strong>è§‰å¾—æœ‰ç”¨çš„è€é“ï¼Œç‚¹ä¸ªèµæ”¶ä¸ªè—ï¼Œå…³ä¸ªæ³¨ä¸è¿·è·¯ã€‚æˆ‘ç»§ç»­åˆ†äº«å®æˆ˜å¹²è´§ï¼Œå¸¦å¤§å®¶ä¸€èµ·åœ¨æŠ€æœ¯æµªæ½®é‡Œç¨³ä½é˜µè„šï¼</strong>
ä¹Ÿå¯ä»¥å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ï¼šFlutterä¸­æ–‡ç¤¾åŒº</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[APIæ¥å£å®‰å…¨è®¾è®¡ï¼šåŠ¨æ€ç›å€¼ä¸ç­¾åæœºåˆ¶çš„å®ç°ä¸å‰–æ]]></title>    <link>https://juejin.cn/post/7591066233670500378</link>    <guid>https://juejin.cn/post/7591066233670500378</guid>    <pubDate>2026-01-04T04:26:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591066233670500378" data-draft-id="7590961898399301670" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="APIæ¥å£å®‰å…¨è®¾è®¡ï¼šåŠ¨æ€ç›å€¼ä¸ç­¾åæœºåˆ¶çš„å®ç°ä¸å‰–æ"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,Java"/> <meta itemprop="datePublished" content="2026-01-04T04:26:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åˆ€æ³•å¦‚é£"/> <meta itemprop="url" content="https://juejin.cn/user/96412755834734"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            APIæ¥å£å®‰å…¨è®¾è®¡ï¼šåŠ¨æ€ç›å€¼ä¸ç­¾åæœºåˆ¶çš„å®ç°ä¸å‰–æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/96412755834734/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åˆ€æ³•å¦‚é£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T04:26:27.000Z" title="Sun Jan 04 2026 04:26:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">APIæ¥å£å®‰å…¨è®¾è®¡ï¼šåŠ¨æ€ç›å€¼ä¸ç­¾åæœºåˆ¶çš„å®ç°ä¸å‰–æ</h2>
<h3 data-id="heading-1">ä¸€ã€ç­¾åæœºåˆ¶æ¦‚è¿°</h3>
<p>åœ¨Webåº”ç”¨å¼€å‘ä¸­ï¼ŒAPIæ¥å£çš„å®‰å…¨æ€§è‡³å…³é‡è¦ã€‚éšç€å‰åç«¯åˆ†ç¦»æ¶æ„çš„æ™®åŠï¼Œå¦‚ä½•ç¡®ä¿APIè°ƒç”¨çš„åˆæ³•æ€§ã€é˜²æ­¢æ•°æ®ç¯¡æ”¹ã€æŠµå¾¡é‡æ”¾æ”»å‡»ï¼Œæˆä¸ºæ¯ä¸ªå¼€å‘è€…å¿…é¡»é¢å¯¹çš„é—®é¢˜ã€‚é€šå¸¸æƒ…å†µéƒ½æ˜¯ç­¾åæœºåˆ¶ï¼Œä½†å¦‚ä½•è®¾è®¡å’Œå®ç°ç­¾åæœºåˆ¶éœ€è¦ä»”ç»†è€ƒè™‘ï¼Œæ—¢ä¸èƒ½è¿‡äºç¹çï¼Œå¸¦æ¥å¼€å‘è´Ÿæ‹…ï¼Œä¹Ÿä¸èƒ½å¤ªå°‘ï¼Œç¼ºä¹å®‰å…¨æ€§ã€‚</p>
<p>æœ¬æ–‡å°†ä»‹ç»ä¸€å¥—å®Œæ•´çš„<strong>åŠ¨æ€ç›å€¼ + æ¥å£ç­¾å</strong>å®‰å…¨æ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li><strong>å¤šå±‚é˜²æŠ¤</strong>ï¼šåŠ¨æ€ç›å€¼ + æ¥å£ç­¾ååŒé‡éªŒè¯</li>
<li><strong>é˜²é‡æ”¾æ”»å‡»</strong>ï¼šåŸºäºæ—¶é—´æˆ³çš„æœ‰æ•ˆæœŸæ§åˆ¶</li>
<li><strong>é˜²ç¯¡æ”¹</strong>ï¼šå‚æ•°ç­¾åç¡®ä¿æ•°æ®å®Œæ•´æ€§</li>
<li><strong>çµæ´»é…ç½®</strong>ï¼šæ”¯æŒå«å‚æ•°/ä¸å«å‚æ•°ä¸¤ç§ç­¾åæ¨¡å¼</li>
<li><strong>æ˜“äºæ‰©å±•</strong>ï¼šæ”¯æŒå¤šç§ç®—æ³•ï¼ˆSHA-256ã€SM3ç­‰ï¼‰</li>
</ul>
<p><strong>å®Œæ•´ä»£ç è§ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmicrowind%2Fdesign-patterns%2Ftree%2Fmain%2Fpractice-projects" target="_blank" title="https://github.com/microwind/design-patterns/tree/main/practice-projects" ref="nofollow noopener noreferrer">github.com/microwind/dâ€¦</a></p>
<p><strong>ç­¾åè¯¦ç»†æœºåˆ¶ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmicrowind%2Fdesign-patterns%2Fblob%2Fmain%2Fpractice-projects%2Fknife%2FSIGN.md" target="_blank" title="https://github.com/microwind/design-patterns/blob/main/practice-projects/knife/SIGN.md" ref="nofollow noopener noreferrer">github.com/microwind/dâ€¦</a></p>
<h4 data-id="heading-2">1.1 é€‚ç”¨åœºæ™¯</h4>
<ul>
<li>å‰åç«¯åˆ†ç¦»çš„Webåº”ç”¨</li>
<li>H5é¡µé¢ã€å°ç¨‹åºç­‰å¤šç«¯è°ƒç”¨</li>
<li>éœ€è¦è¾ƒé«˜å®‰å…¨æ€§çš„ä¸šåŠ¡æ¥å£ï¼ˆæ”¯ä»˜ã€äº¤æ˜“ã€æ•æ„Ÿæ•°æ®æ“ä½œç­‰ï¼‰</li>
<li>éœ€è¦é˜²æ­¢æ¥å£è¢«æ¶æ„è°ƒç”¨æˆ–åˆ·é‡</li>
</ul>
<h4 data-id="heading-3">1.2 ä¸¤ç§ç­¾åæ¨¡å¼</h4>
<p>æ ¹æ®è°ƒç”¨æ–¹æ˜¯å¦èƒ½å®‰å…¨å­˜å‚¨å¯†é’¥ï¼Œæœ¬æ–¹æ¡ˆæ”¯æŒä¸¤ç§ç­¾åæ¨¡å¼ï¼š</p>
<h5 data-id="heading-4">æ¨¡å¼1ï¼šå‰ç«¯ç­¾åï¼ˆéœ€è¦åŠ¨æ€ç›å€¼ï¼‰</h5>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> å‰ç«¯ï¼ˆH5ã€å°ç¨‹åºã€ç§»åŠ¨Appï¼‰è°ƒç”¨åç«¯æ¥å£</p>
<p><strong>æ ¸å¿ƒé—®é¢˜ï¼š</strong> å‰ç«¯æ— æ³•å®‰å…¨å­˜å‚¨å¯†é’¥ï¼ˆsecretKeyï¼‰ï¼Œå¯†é’¥ä¸€æ—¦æš´éœ²åœ¨å‰ç«¯ä»£ç ä¸­ï¼Œä»»ä½•äººéƒ½å¯ä»¥è·å–å¹¶ä¼ªé€ ç­¾åã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> ä½¿ç”¨<strong>åŠ¨æ€ç›å€¼</strong>ä½œä¸ºä¸­é—´å±‚ä¿æŠ¤</p>
<ol>
<li>å‰ç«¯è¯·æ±‚åŠ¨æ€ç›å€¼ç”Ÿæˆæ¥å£ï¼ˆå…¬å¼€æ¥å£ï¼Œæ— éœ€å¯†é’¥ï¼‰</li>
<li>æœåŠ¡ç«¯ç”ŸæˆåŠ¨æ€ç›å€¼å¹¶è¿”å›</li>
<li>å‰ç«¯æºå¸¦åŠ¨æ€ç›å€¼è¯·æ±‚ç­¾åç”Ÿæˆæ¥å£</li>
<li>æœåŠ¡ç«¯éªŒè¯åŠ¨æ€ç›å€¼åï¼Œä½¿ç”¨å¯†é’¥ç”Ÿæˆç­¾åå¹¶è¿”å›</li>
<li>å‰ç«¯æºå¸¦ç­¾åè°ƒç”¨ä¸šåŠ¡æ¥å£</li>
</ol>
<p><strong>å…³é”®ç‚¹ï¼š</strong> å¯†é’¥å§‹ç»ˆå­˜å‚¨åœ¨æœåŠ¡ç«¯ï¼Œå‰ç«¯åªèƒ½é€šè¿‡åŠ¨æ€ç›å€¼æ¢å–ç­¾åï¼Œæ— æ³•ç›´æ¥è·å–å¯†é’¥ã€‚</p>
<hr/>
<h5 data-id="heading-5">æ¨¡å¼2ï¼šåç«¯ç­¾åï¼ˆæ— éœ€åŠ¨æ€ç›å€¼ï¼‰</h5>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> åç«¯æœåŠ¡ï¼ˆå¾®æœåŠ¡ã€å®šæ—¶ä»»åŠ¡ã€å†…éƒ¨ç³»ç»Ÿï¼‰è°ƒç”¨åç«¯æ¥å£</p>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong> åç«¯å¯ä»¥å®‰å…¨å­˜å‚¨å¯†é’¥ï¼ˆç¯å¢ƒå˜é‡ã€é…ç½®ä¸­å¿ƒã€å¯†é’¥ç®¡ç†ç³»ç»Ÿï¼‰ï¼Œæ— éœ€æ‹…å¿ƒå¯†é’¥æ³„éœ²ã€‚</p>
<p><strong>ç®€åŒ–æµç¨‹ï¼š</strong></p>
<ol>
<li>åç«¯ç›´æ¥ä½¿ç”¨å¯†é’¥ç”Ÿæˆç­¾åï¼š<code>SHA256(appCode + secretKey + apiPath + timestamp)</code></li>
<li>åç«¯æºå¸¦ç­¾åè°ƒç”¨ä¸šåŠ¡æ¥å£</li>
<li>ä¸šåŠ¡æ¥å£éªŒè¯ç­¾å</li>
</ol>
<p><strong>å…³é”®ç‚¹ï¼š</strong> è·³è¿‡åŠ¨æ€ç›å€¼æ­¥éª¤ï¼Œç›´æ¥ä½¿ç”¨å¯†é’¥ç­¾åï¼Œæµç¨‹æ›´ç®€æ´é«˜æ•ˆã€‚</p>
<hr/>
<h5 data-id="heading-6">ä¸¤ç§æ¨¡å¼å¯¹æ¯”</h5>








































<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>å‰ç«¯ç­¾åï¼ˆéœ€è¦åŠ¨æ€ç›å€¼ï¼‰</th><th>åç«¯ç­¾åï¼ˆæ— éœ€åŠ¨æ€ç›å€¼ï¼‰</th></tr></thead><tbody><tr><td><strong>å¯†é’¥å­˜å‚¨</strong></td><td>âŒ å‰ç«¯æ— æ³•å®‰å…¨å­˜å‚¨</td><td>âœ… åç«¯å¯ä»¥å®‰å…¨å­˜å‚¨</td></tr><tr><td><strong>åŠ¨æ€ç›å€¼</strong></td><td>âœ… å¿…é¡»ä½¿ç”¨</td><td>âŒ ä¸éœ€è¦</td></tr><tr><td><strong>è¯·æ±‚æ¬¡æ•°</strong></td><td>3æ¬¡ï¼ˆç›å€¼+ç­¾å+ä¸šåŠ¡ï¼‰</td><td>1æ¬¡ï¼ˆä¸šåŠ¡æ¥å£ï¼‰</td></tr><tr><td><strong>å®‰å…¨æ€§</strong></td><td>é«˜ï¼ˆå¯†é’¥ä¸æš´éœ²ï¼‰</td><td>é«˜ï¼ˆå¯†é’¥å®‰å…¨å­˜å‚¨ï¼‰</td></tr><tr><td><strong>æµç¨‹å¤æ‚åº¦</strong></td><td>è¾ƒå¤æ‚</td><td>ç®€å•</td></tr><tr><td><strong>å…¸å‹åœºæ™¯</strong></td><td>H5ã€å°ç¨‹åºã€App</td><td>å¾®æœåŠ¡ã€å®šæ—¶ä»»åŠ¡ã€å†…éƒ¨ç³»ç»Ÿ</td></tr></tbody></table>
<p><strong>é‡è¦æç¤ºï¼š</strong> æœ¬æ–‡ä¸»è¦ä»‹ç»"å‰ç«¯ç­¾å"æ¨¡å¼ï¼Œå¦‚æœä½ çš„åœºæ™¯æ˜¯åç«¯æœåŠ¡è°ƒç”¨ï¼Œå¯ä»¥ç›´æ¥è·³åˆ°ç¬¬å››ç« ï¼Œä»…ä½¿ç”¨"ä¸å«å‚æ•°ç­¾åç®—æ³•"æˆ–"å«å‚æ•°ç­¾åç®—æ³•"å³å¯ï¼Œæ— éœ€å®ç°åŠ¨æ€ç›å€¼ç›¸å…³é€»è¾‘ã€‚</p>
<h4 data-id="heading-7">1.3 æ ¸å¿ƒç»„ä»¶</h4>
<p>æœ¬æ–¹æ¡ˆåŒ…å«ä»¥ä¸‹æ ¸å¿ƒç»„ä»¶ï¼š</p>

































<table><thead><tr><th>ç»„ä»¶</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>APIè°ƒç”¨è€…è¡¨</strong> (api_users)</td><td>å­˜å‚¨è°ƒç”¨æ–¹èº«ä»½æ ‡è¯†ï¼ˆappCodeï¼‰å’Œå¯†é’¥ï¼ˆsecretKeyï¼‰</td></tr><tr><td><strong>APIæ¥å£ä¿¡æ¯è¡¨</strong> (api_info)</td><td>å­˜å‚¨æ¥å£è·¯å¾„ã€æ¥å£å›ºå®šç›å€¼ã€é™æµç­–ç•¥ç­‰</td></tr><tr><td><strong>APIæƒé™è¡¨</strong> (api_auth)</td><td>æ§åˆ¶è°ƒç”¨æ–¹å¯¹å…·ä½“æ¥å£çš„è®¿é—®æƒé™</td></tr><tr><td><strong>åŠ¨æ€ç›å€¼ç”Ÿæˆæ¥å£</strong></td><td>ä¸ºåç»­è°ƒç”¨ç”Ÿæˆä¸€æ¬¡æ€§åŠ¨æ€ç›å€¼</td></tr><tr><td><strong>ç­¾åç”Ÿæˆæ¥å£</strong></td><td>åŸºäºåŠ¨æ€ç›å€¼å’Œå¯†é’¥ç”Ÿæˆæ¥å£è°ƒç”¨ç­¾å</td></tr><tr><td><strong>ä¸šåŠ¡æ¥å£æ‹¦æˆªå™¨</strong></td><td>åœ¨ä¸šåŠ¡æ¥å£è°ƒç”¨å‰éªŒè¯ç­¾åçš„åˆæ³•æ€§</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-8">äºŒã€ç­¾åæœºåˆ¶åŸç†</h3>
<h4 data-id="heading-9">2.1 æ•´ä½“æµç¨‹</h4>
<p>ç­¾åæœºåˆ¶çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>é€šè¿‡å¤šæ¬¡æ¡æ‰‹ç¡®ä¿è°ƒç”¨æ–¹èº«ä»½å¯ä¿¡ï¼Œå¹¶ä¸ºæ¯æ¬¡ä¸šåŠ¡è¯·æ±‚ç”Ÿæˆå”¯ä¸€ç­¾å</strong>ã€‚</p>
<p>å®Œæ•´çš„è°ƒç”¨æµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant H5 as H5å‰ç«¯é¡µé¢
    participant DynamicSaltGenerate as åŠ¨æ€ç›å€¼ç”Ÿæˆæ¥å£
    participant SignGenerate as ç­¾åç”Ÿæˆæ¥å£
    participant SubmitInterface as æŸæäº¤æ¥å£

    Note over H5,DynamicSaltGenerate: 1. è¯·æ±‚ç”ŸæˆåŠ¨æ€ç›å€¼ï¼ˆæ ¹æ®è°ƒç”¨æ–¹å’Œæäº¤æ¥å£ï¼‰
    H5-&gt;&gt;DynamicSaltGenerate: è¯·æ±‚ç”Ÿæˆæäº¤æ¥å£çš„åŠ¨æ€ç›å€¼&lt;br/&gt;ï¼ˆä¼ å‚è°ƒç”¨æ–¹å’Œæäº¤æ¥å£è·¯å¾„ï¼‰
    DynamicSaltGenerate-&gt;&gt;DynamicSaltGenerate: æ ¹æ®è°ƒç”¨æ–¹å’Œæäº¤æ¥å£ç”ŸæˆåŠ¨æ€ç›å€¼&lt;br/&gt;hash(è°ƒç”¨æ–¹ + æäº¤æ¥å£è·¯å¾„ + æäº¤æ¥å£ç›å€¼ + å½“å‰æ—¶é—´æˆ³)
    DynamicSaltGenerate--&gt;&gt;H5: è¿”å›åŠ¨æ€ç›å€¼ä¿¡æ¯&lt;br/&gt;(æäº¤æ¥å£åŠ¨æ€ç›å€¼ã€åŠ¨æ€ç›å€¼ç”Ÿæˆæ—¶é—´æˆ³ã€æäº¤æ¥å£è·¯å¾„)

    Note over H5, SignGenerate: 2. è¯·æ±‚ç”Ÿæˆæ¥å£è°ƒç”¨ç­¾åï¼ˆæ ¹æ®æ¥å£åŠ¨æ€ç›å€¼å’Œæ¥å£è·¯å¾„ï¼‰
    H5-&gt;&gt;H5: è§£æå‚æ•°(æ¥å£åŠ¨æ€ç›å€¼ã€åŠ¨æ€ç›å€¼ç”Ÿæˆæ—¶é—´æˆ³ã€æäº¤æ¥å£è·¯å¾„)
    H5-&gt;&gt;SignGenerate: è¯·æ±‚ç­¾å&lt;br/&gt;(è°ƒç”¨æ–¹ã€æ¥å£åŠ¨æ€ç›å€¼ã€æäº¤æ¥å£è·¯å¾„ã€ç›å€¼ç”Ÿæˆæ—¶é—´æˆ³)

    Note over SignGenerate: 3. ç”Ÿæˆå¹¶è¿”å›æ¥å£è°ƒç”¨ç­¾åï¼ˆæ ¹æ®è°ƒç”¨æ–¹å’Œç§˜é’¥ä»¥åŠæ¥å£è·¯å¾„ï¼‰
    SignGenerate-&gt;&gt;SignGenerate: æƒé™æ ¡éªŒ(æ—¶æ•ˆæ€§ã€æœ¬ç­¾åæ¥å£æƒé™ã€æäº¤æ¥å£æƒé™)
    SignGenerate-&gt;&gt;SignGenerate: åŠ¨æ€ç›å€¼æ ¡éªŒï¼ˆç®—æ³•éœ€ä¸ç”Ÿæˆæ—¶ä¸€è‡´ï¼‰&lt;br&gt;check(è°ƒç”¨æ–¹ + æäº¤æ¥å£è·¯å¾„ + æäº¤æ¥å£ç›å€¼ + ç›å€¼ç”Ÿæˆæ—¶é—´æˆ³)
    SignGenerate-&gt;&gt;SignGenerate: ç”Ÿæˆæ¥å£è°ƒç”¨ç­¾å&lt;br/&gt;hash(è°ƒç”¨æ–¹ + ç§˜é’¥ + å½“å‰æ—¶é—´æˆ³ + æäº¤æ¥å£è·¯å¾„æˆ–å‚æ•°) &lt;br/&gt;æ³¨æ„ï¼šç­¾åä¸æ ¡éªŒç®—æ³•éœ€ä¿æŒä¸€è‡´ï¼Œå¦‚æœåªhash(è°ƒç”¨æ–¹ + ç§˜é’¥ + å½“å‰æ—¶é—´æˆ³)ä¹Ÿå¯ä»¥ã€‚
    SignGenerate--&gt;&gt;H5: è¿”å›ç­¾åç»“æœ&lt;br/&gt;(æäº¤æ¥å£è·¯å¾„ã€ç­¾åã€ç­¾åæ—¶é—´æˆ³)

    Note over H5, SubmitInterface: 4. è°ƒç”¨æŸæäº¤æ¥å£ï¼ˆæºå¸¦ç­¾åï¼‰
    H5-&gt;&gt;SubmitInterface: æäº¤æ•°æ®ï¼Œæºå¸¦ç­¾åä¿¡æ¯&lt;br/&gt;(è°ƒç”¨æ–¹+æ¥å£è·¯å¾„+ç­¾å+ç­¾åæ—¶é—´æˆ³)

    Note over SubmitInterface: 5. æ¥å£ç­¾åæ ¡éªŒï¼ˆä¿å­˜å‰æ£€æŸ¥ï¼‰
    SubmitInterface-&gt;&gt;SubmitInterface: æƒé™æ ¡éªŒ(æ—¶æ•ˆæ€§ã€æœ¬æäº¤æ¥å£æƒé™)
    SubmitInterface-&gt;&gt;SubmitInterface: ç­¾åæ ¡éªŒ(æ ¡éªŒç®—æ³•ä¸å‰é¢ç­¾åéœ€ä¿æŒä¸€è‡´)&lt;br/&gt;check(è°ƒç”¨æ–¹ + ç§˜é’¥ + ç­¾åæ—¶é—´æˆ³ + æ¥å£è·¯å¾„æˆ–å‚æ•°)
    SubmitInterface--&gt;&gt;H5: è¿”å›å¤„ç†ç»“æœ
</code></pre>
<h4 data-id="heading-10">2.2 ä¸ºä»€ä¹ˆéœ€è¦"åŠ¨æ€ç›å€¼"ï¼Ÿ</h4>
<p>ä½ å¯èƒ½ä¼šé—®ï¼š<strong>ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”Ÿæˆç­¾åï¼Œè€Œè¦å…ˆç”ŸæˆåŠ¨æ€ç›å€¼ï¼Ÿ</strong></p>
<p><strong>æ ¸å¿ƒåŸå› ï¼šå‰ç«¯æ— æ³•å®‰å…¨å­˜å‚¨å¯†é’¥ã€‚</strong></p>
<p>åœ¨å‰ç«¯ç­¾ååœºæ™¯ä¸­ï¼Œå¦‚æœå‰ç«¯ç›´æ¥æŒæœ‰ <code>secretKey</code> å¹¶ç”Ÿæˆç­¾åï¼Œå¯†é’¥ä¼šè¢«æš´éœ²åœ¨å‰ç«¯ä»£ç ä¸­ï¼ˆJavaScriptã€ç§»åŠ¨Appçš„é…ç½®æ–‡ä»¶ç­‰ï¼‰ï¼Œä»»ä½•äººéƒ½å¯ä»¥é€šè¿‡æµè§ˆå™¨å¼€å‘è€…å·¥å…·æˆ–åç¼–è¯‘è·å–å¯†é’¥ï¼Œä»è€Œä¼ªé€ ç­¾åã€‚</p>
<p><strong>åŠ¨æ€ç›å€¼çš„ä½œç”¨ï¼š</strong></p>
<p>åŠ¨æ€ç›å€¼æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª**"æ¢ç­¾å‡­è¯"**ï¼Œå®ƒè§£å†³äº†å‰ç«¯æ— æ³•æŒæœ‰å¯†é’¥çš„é—®é¢˜ï¼š</p>
<ol>
<li><strong>å¯†é’¥éš”ç¦»</strong>ï¼šå¯†é’¥ï¼ˆsecretKeyï¼‰å§‹ç»ˆä¿å­˜åœ¨æœåŠ¡ç«¯ï¼Œå‰ç«¯æ°¸è¿œæ— æ³•è·å–</li>
<li><strong>æ—¶æ•ˆä¿æŠ¤</strong>ï¼šåŠ¨æ€ç›å€¼ä½œä¸º"ä¸€æ¬¡æ€§ä»¤ç‰Œ"ï¼Œæœ‰ç‹¬ç«‹çš„è¿‡æœŸæ—¶é—´ï¼ˆå¦‚24å°æ—¶ï¼‰</li>
<li><strong>æ¥å£éš”ç¦»</strong>ï¼šæ¯ä¸ªæ¥å£æœ‰ç‹¬ç«‹çš„å›ºå®šç›å€¼ï¼ŒåŠ¨æ€ç›å€¼åŸºäºå›ºå®šç›å€¼ç”Ÿæˆï¼Œç¡®ä¿ä¸åŒæ¥å£çš„ç­¾åäº’ä¸å½±å“</li>
<li><strong>åŒé‡æ—¶æ•ˆæ§åˆ¶</strong>ï¼šåŠ¨æ€ç›å€¼æœ‰æ•ˆæœŸï¼ˆé•¿ï¼Œå¦‚24hï¼‰ + ç­¾åæœ‰æ•ˆæœŸï¼ˆçŸ­ï¼Œå¦‚10minï¼‰ï¼Œå½¢æˆåŒå±‚é˜²æŠ¤</li>
</ol>
<p><strong>å¯¹æ¯”ç¤ºæ„ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">âŒ ä¸å®‰å…¨æ–¹å¼ï¼ˆå‰ç«¯ç›´æ¥æŒæœ‰å¯†é’¥ï¼‰ï¼š
å‰ç«¯ä»£ç ï¼šconst <span class="hljs-attr">secretKey</span> = <span class="hljs-string">"abc123"</span><span class="hljs-comment">;  // å¯†é’¥æš´éœ²</span>
å‰ç«¯ç”Ÿæˆç­¾åï¼š<span class="hljs-attr">sign</span> = SHA256(appCode + secretKey + path + time)<span class="hljs-comment">;</span>

âœ… å®‰å…¨æ–¹å¼ï¼ˆåŠ¨æ€ç›å€¼ï¼‰ï¼š
å‰ç«¯è·å–åŠ¨æ€ç›å€¼ï¼š<span class="hljs-attr">dynamicSalt</span> = è¯·æ±‚æœåŠ¡ç«¯<span class="hljs-comment">;  // æ— éœ€å¯†é’¥</span>
å‰ç«¯æ¢å–ç­¾åï¼š<span class="hljs-attr">sign</span> = è¯·æ±‚æœåŠ¡ç«¯(dynamicSalt)<span class="hljs-comment">;  // æœåŠ¡ç«¯éªŒè¯åè¿”å›ç­¾å</span>
å‰ç«¯è°ƒç”¨ä¸šåŠ¡æ¥å£ï¼šæºå¸¦ sign
</code></pre>
<p><strong>é‡è¦è¯´æ˜ï¼š</strong> å¦‚æœæ˜¯<strong>åç«¯ç­¾ååœºæ™¯</strong>ï¼ˆå¦‚å¾®æœåŠ¡è°ƒç”¨ã€å®šæ—¶ä»»åŠ¡ï¼‰ï¼Œåç«¯å¯ä»¥å®‰å…¨å­˜å‚¨å¯†é’¥ï¼Œ<strong>æ— éœ€ä½¿ç”¨åŠ¨æ€ç›å€¼</strong>ï¼Œç›´æ¥ä½¿ç”¨å¯†é’¥ç”Ÿæˆç­¾åå³å¯ï¼ˆå‚è§ 1.2 èŠ‚ï¼‰ã€‚</p>
<h4 data-id="heading-11">2.3 å…³é”®è®¾è®¡æ€æƒ³</h4>

























<table><thead><tr><th>è®¾è®¡ç‚¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>åŒé‡æ—¶é—´æˆ³</strong></td><td>åŠ¨æ€ç›å€¼æ—¶é—´æˆ³ï¼ˆé•¿æ•ˆï¼Œå¦‚24hï¼‰ + ç­¾åæ—¶é—´æˆ³ï¼ˆçŸ­æ•ˆï¼Œå¦‚10minï¼‰</td></tr><tr><td><strong>åˆ†å±‚éªŒè¯</strong></td><td>å…ˆéªŒè¯åŠ¨æ€ç›å€¼æœ‰æ•ˆæ€§ï¼Œå†éªŒè¯ç­¾åæœ‰æ•ˆæ€§</td></tr><tr><td><strong>æƒé™åˆ†ç¦»</strong></td><td>APIè°ƒç”¨è€…æƒé™ã€æ¥å£æƒé™ã€è°ƒç”¨è€…-æ¥å£æ˜ å°„æƒé™ä¸‰å±‚ç®¡ç†</td></tr><tr><td><strong>ç®—æ³•çµæ´»</strong></td><td>æ”¯æŒ SHA-256ã€SM3 ç­‰å¤šç§å“ˆå¸Œç®—æ³•</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-12">ä¸‰ã€åŠ¨æ€ç›å€¼æœºåˆ¶</h3>
<blockquote>
<p><strong>é€‚ç”¨åœºæ™¯è¯´æ˜ï¼š</strong> æœ¬ç« èŠ‚ä»‹ç»çš„åŠ¨æ€ç›å€¼æœºåˆ¶é€‚ç”¨äº<strong>å‰ç«¯ç­¾ååœºæ™¯</strong>ã€‚å¦‚æœä½ çš„åœºæ™¯æ˜¯åç«¯æœåŠ¡è°ƒç”¨ï¼ˆå¯†é’¥å¯å®‰å…¨å­˜å‚¨ï¼‰ï¼Œå¯ä»¥è·³è¿‡æœ¬ç« ï¼Œç›´æ¥é˜…è¯»ç¬¬å››ç« çš„ç­¾åç®—æ³•ã€‚</p>
</blockquote>
<h4 data-id="heading-13">3.1 åŠ¨æ€ç›å€¼çš„ç”Ÿæˆ</h4>
<p>åŠ¨æ€ç›å€¼ç”Ÿæˆç®—æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¼ªä»£ç </span>
<span class="hljs-type">String</span> <span class="hljs-variable">dynamicSalt</span> <span class="hljs-operator">=</span> SHA256(appCode + apiPath + interfaceSalt + saltTimestamp);
</code></pre>
<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>appCode</code>ï¼šè°ƒç”¨æ–¹æ ‡è¯†ï¼ˆå¦‚ "h5"ã€"miniapp"ï¼‰</li>
<li><code>apiPath</code>ï¼šç›®æ ‡æ¥å£è·¯å¾„ï¼ˆå¦‚ "/api/order/submit"ï¼‰</li>
<li><code>interfaceSalt</code>ï¼šæ¥å£å›ºå®šç›å€¼ï¼ˆä» api_info è¡¨è¯»å–ï¼‰</li>
<li><code>saltTimestamp</code>ï¼šåŠ¨æ€ç›å€¼ç”Ÿæˆæ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰</li>
</ul>
<p><strong>å®é™…ä»£ç å®ç°ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> DynamicSalt <span class="hljs-title function_">generateDynamicSalt</span><span class="hljs-params">(String appCode, String apiPath,
                                       String interfaceSalt, Long saltTimestamp)</span> {
    <span class="hljs-comment">// æ‹¼æ¥åŸå§‹å­—ç¬¦ä¸²</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">saltSource</span> <span class="hljs-operator">=</span> appCode + apiPath + interfaceSalt + saltTimestamp;

    <span class="hljs-comment">// ä½¿ç”¨ SHA-256 è®¡ç®—åŠ¨æ€ç›å€¼</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">dynamicSaltValue</span> <span class="hljs-operator">=</span> sha256(saltSource);

    <span class="hljs-comment">// è®¡ç®—è¿‡æœŸæ—¶é—´</span>
    <span class="hljs-type">Long</span> <span class="hljs-variable">ttl</span> <span class="hljs-operator">=</span> signConfig.getDynamicSaltTtl(); <span class="hljs-comment">// é»˜è®¤ 24 å°æ—¶</span>
    <span class="hljs-type">LocalDateTime</span> <span class="hljs-variable">expireTime</span> <span class="hljs-operator">=</span> Instant.ofEpochMilli(saltTimestamp + ttl)
            .atZone(ZoneId.systemDefault())
            .toLocalDateTime();

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DynamicSalt</span>(appCode, apiPath, dynamicSaltValue, expireTime, saltTimestamp);
}
</code></pre>
<h4 data-id="heading-14">3.2 åŠ¨æ€ç›å€¼çš„æ ¡éªŒ</h4>
<p>åœ¨ç­¾åç”Ÿæˆæ¥å£ä¸­ï¼Œéœ€è¦å…ˆæ ¡éªŒå‰ç«¯ä¼ æ¥çš„åŠ¨æ€ç›å€¼æ˜¯å¦åˆæ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¼ªä»£ç </span>
<span class="hljs-type">boolean</span> <span class="hljs-title function_">validateDynamicSalt</span><span class="hljs-params">(String appCode, String apiPath, String interfaceSalt,
                           String dynamicSalt, Long saltTimestamp)</span> {
    <span class="hljs-comment">// é‡æ–°è®¡ç®—åŠ¨æ€ç›å€¼</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">expectedSalt</span> <span class="hljs-operator">=</span> SHA256(appCode + apiPath + interfaceSalt + saltTimestamp);

    <span class="hljs-comment">// æ¯”å¯¹æ˜¯å¦ä¸€è‡´</span>
    <span class="hljs-keyword">return</span> expectedSalt.equals(dynamicSalt);
}
</code></pre>
<p><strong>æ ¡éªŒé€»è¾‘ï¼š</strong></p>
<ol>
<li>ä½¿ç”¨ç›¸åŒçš„å‚æ•°é‡æ–°è®¡ç®—åŠ¨æ€ç›å€¼</li>
<li>å°†è®¡ç®—ç»“æœä¸å®¢æˆ·ç«¯ä¼ æ¥çš„åŠ¨æ€ç›å€¼æ¯”å¯¹</li>
<li>æ ¡éªŒæ—¶é—´æˆ³æ˜¯å¦åœ¨æœ‰æ•ˆæœŸå†…ï¼ˆé€šè¿‡ <code>saltTimestamp + ttl</code> åˆ¤æ–­ï¼‰</li>
</ol>
<h4 data-id="heading-15">3.3 ä¸¤ç§æ ¡éªŒæ¨¡å¼</h4>
<p>åŠ¨æ€ç›å€¼æ”¯æŒä¸¤ç§æ ¡éªŒæ¨¡å¼ï¼š</p>




















<table><thead><tr><th>æ¨¡å¼</th><th>è¯´æ˜</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>ç®—æ³•æ ¡éªŒ</strong></td><td>ä¸å­˜å‚¨åŠ¨æ€ç›å€¼ï¼Œæ¯æ¬¡é€šè¿‡ç®—æ³•é‡æ–°è®¡ç®—å¹¶æ¯”å¯¹</td><td>é»˜è®¤æ¨¡å¼ï¼Œæ€§èƒ½é«˜ï¼Œæ— éœ€é¢å¤–å­˜å‚¨</td></tr><tr><td><strong>æ•°æ®åº“æ ¡éªŒ</strong></td><td>å°†åŠ¨æ€ç›å€¼å­˜å…¥ <code>api_dynamic_salt_log</code> è¡¨ï¼Œæ ¡éªŒæ—¶æŸ¥è¯¢æ•°æ®åº“</td><td>éœ€è¦ä¸¥æ ¼æ§åˆ¶ä¸€æ¬¡æ€§ä½¿ç”¨ï¼ˆé˜²æ­¢é‡å¤ä½¿ç”¨ï¼‰</td></tr></tbody></table>
<p>é…ç½®æ–¹å¼ï¼ˆapplication.ymlï¼‰ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">sign:</span>
  <span class="hljs-attr">dynamic-salt:</span>
    <span class="hljs-attr">ttl:</span> <span class="hljs-number">86400000</span>  <span class="hljs-comment"># 24å°æ—¶</span>
    <span class="hljs-attr">validate-from-database:</span> <span class="hljs-literal">false</span>  <span class="hljs-comment"># true è¡¨ç¤ºä½¿ç”¨æ•°æ®åº“æ ¡éªŒ</span>
</code></pre>
<hr/>
<h3 data-id="heading-16">å››ã€ç­¾åç®—æ³•ï¼ˆå«å‚æ•°ä¸ä¸å«å‚æ•°ï¼‰</h3>
<h4 data-id="heading-17">4.1 ä¸å«å‚æ•°çš„ç­¾åç®—æ³•</h4>
<p><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong> GETè¯·æ±‚ã€æ— éœ€æ ¡éªŒå‚æ•°å®Œæ•´æ€§çš„åœºæ™¯</p>
<p><strong>ç”Ÿæˆç®—æ³•ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¼ªä»£ç </span>
<span class="hljs-type">String</span> <span class="hljs-variable">signature</span> <span class="hljs-operator">=</span> SHA256(appCode + secretKey + apiPath + timestamp);
</code></pre>
<p><strong>å®é™…ä»£ç å®ç°ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> Sign <span class="hljs-title function_">generateSign</span><span class="hljs-params">(String appCode, String secretKey, String path)</span> {
    <span class="hljs-comment">// è·å–å½“å‰æ—¶é—´æˆ³</span>
    <span class="hljs-type">long</span> <span class="hljs-variable">timestamp</span> <span class="hljs-operator">=</span> System.currentTimeMillis();

    <span class="hljs-comment">// æ„å»ºç­¾åæºå­—ç¬¦ä¸²</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">signSource</span> <span class="hljs-operator">=</span> appCode + secretKey + path + timestamp;

    <span class="hljs-comment">// ä½¿ç”¨ SHA-256 è®¡ç®—ç­¾å</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">signValue</span> <span class="hljs-operator">=</span> sha256(signSource);

    <span class="hljs-comment">// è®¡ç®—è¿‡æœŸæ—¶é—´</span>
    <span class="hljs-type">long</span> <span class="hljs-variable">expireTimestamp</span> <span class="hljs-operator">=</span> timestamp + signConfig.getSignatureTtl(); <span class="hljs-comment">// é»˜è®¤ 10 åˆ†é’Ÿ</span>

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Sign</span>(appCode, path, signValue, timestamp, expireTime);
}
</code></pre>
<p><strong>æ ¡éªŒç®—æ³•ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¼ªä»£ç </span>
<span class="hljs-type">boolean</span> <span class="hljs-title function_">validateSign</span><span class="hljs-params">(String appCode, String secretKey, String path,
                    String signValue, Long timestamp)</span> {
    <span class="hljs-comment">// é‡æ–°è®¡ç®—ç­¾å</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">expectedSign</span> <span class="hljs-operator">=</span> SHA256(appCode + secretKey + path + timestamp);

    <span class="hljs-comment">// æ¯”å¯¹æ˜¯å¦ä¸€è‡´</span>
    <span class="hljs-keyword">return</span> expectedSign.equals(signValue);
}
</code></pre>
<h4 data-id="heading-18">4.2 å«å‚æ•°çš„ç­¾åç®—æ³•</h4>
<p><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong> POSTè¯·æ±‚ã€éœ€è¦é˜²æ­¢å‚æ•°ç¯¡æ”¹çš„åœºæ™¯</p>
<p><strong>ç”Ÿæˆç®—æ³•ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¼ªä»£ç </span>
<span class="hljs-type">String</span> <span class="hljs-variable">paramsString</span> <span class="hljs-operator">=</span> buildSignatureSource(params); <span class="hljs-comment">// å‚æ•°æŒ‰ ASCII æ’åºåæ‹¼æ¥</span>
<span class="hljs-type">String</span> <span class="hljs-variable">signature</span> <span class="hljs-operator">=</span> SM3(paramsString + appCode + secretKey + apiPath + timestamp);
</code></pre>
<p><strong>å®é™…ä»£ç å®ç°ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> Sign <span class="hljs-title function_">generateSignWithParams</span><span class="hljs-params">(String appCode, String secretKey, String path,
                                   Map&lt;String, Object&gt; params)</span> {
    <span class="hljs-comment">// è·å–å½“å‰æ—¶é—´æˆ³</span>
    <span class="hljs-type">long</span> <span class="hljs-variable">timestamp</span> <span class="hljs-operator">=</span> System.currentTimeMillis();

    <span class="hljs-comment">// æ„å»ºå‚æ•°å­—ç¬¦ä¸²ï¼ˆæŒ‰ ASCII æ’åºï¼‰</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">paramsSource</span> <span class="hljs-operator">=</span> SignatureUtil.buildSignatureSource(params);

    <span class="hljs-comment">// æ„å»ºç­¾åæºå­—ç¬¦ä¸²</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">signSource</span> <span class="hljs-operator">=</span> paramsSource + appCode + secretKey + path + timestamp;

    <span class="hljs-comment">// ä½¿ç”¨ SM3 ç®—æ³•è®¡ç®—ç­¾å</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">signValue</span> <span class="hljs-operator">=</span> SmUtil.sm3(signSource);

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Sign</span>(appCode, path, signValue, timestamp, expireTime);
}
</code></pre>
<h4 data-id="heading-19">4.3 å‚æ•°ç­¾åçš„å…³é”®ï¼šå‚æ•°æ’åº</h4>
<p>ä¸ºç¡®ä¿å‰åç«¯å‚æ•°æ‹¼æ¥é¡ºåºä¸€è‡´ï¼Œéœ€è¦å¯¹å‚æ•°è¿›è¡Œ<strong>ASCIIå­—å…¸åºæ’åº</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">buildSignatureSource</span><span class="hljs-params">(Map&lt;String, Object&gt; parameters)</span> {
    <span class="hljs-keyword">if</span> (parameters.isEmpty()) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
    }

    <span class="hljs-comment">// 1. æŒ‰å­—å…¸åºæ’åºå‚æ•°é”®</span>
    List&lt;String&gt; sortedKeys = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(parameters.keySet());
    Collections.sort(sortedKeys);

    <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">signatureBuilder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
    <span class="hljs-type">boolean</span> <span class="hljs-variable">first</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;

    <span class="hljs-keyword">for</span> (String key : sortedKeys) {
        <span class="hljs-type">Object</span> <span class="hljs-variable">paramValue</span> <span class="hljs-operator">=</span> parameters.get(key);

        <span class="hljs-comment">// 2. è·³è¿‡ null å’Œå¤æ‚ç±»å‹</span>
        <span class="hljs-keyword">if</span> (paramValue == <span class="hljs-literal">null</span> || isComplexType(paramValue)) {
            <span class="hljs-keyword">continue</span>;
        }

        <span class="hljs-type">String</span> <span class="hljs-variable">valueStr</span> <span class="hljs-operator">=</span> paramValue.toString();
        <span class="hljs-comment">// 3. è·³è¿‡ç©ºä¸²</span>
        <span class="hljs-keyword">if</span> (valueStr.isEmpty()) {
            <span class="hljs-keyword">continue</span>;
        }

        <span class="hljs-keyword">if</span> (!first) {
            signatureBuilder.append(<span class="hljs-string">"&amp;"</span>);
        }
        first = <span class="hljs-literal">false</span>;
        signatureBuilder.append(key).append(<span class="hljs-string">"="</span>).append(valueStr);
    }

    <span class="hljs-keyword">return</span> signatureBuilder.toString();
}
</code></pre>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<p>å‡è®¾è¯·æ±‚å‚æ•°ä¸ºï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"userName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¼ ä¸‰"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"mobile"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"19212341234"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"userId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"321123"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"emptyParam"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"emptyNo"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ç»è¿‡æ’åºå’Œè¿‡æ»¤åï¼Œå‚æ•°å­—ç¬¦ä¸²ä¸ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">mobile</span>=<span class="hljs-number">19212341234</span>&amp;userId=<span class="hljs-number">321123</span>&amp;userName=å¼ ä¸‰
</code></pre>
<p>æ³¨æ„ï¼š<code>null</code> å’Œç©ºå­—ç¬¦ä¸²ä¼šè¢«è·³è¿‡ã€‚</p>
<h4 data-id="heading-20">4.4 ä¸¤ç§ç®—æ³•çš„å¯¹æ¯”</h4>



































<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>ä¸å«å‚æ•°ç­¾å</th><th>å«å‚æ•°ç­¾å</th></tr></thead><tbody><tr><td><strong>ç®—æ³•</strong></td><td>SHA-256</td><td>SM3ï¼ˆå›½å¯†ç®—æ³•ï¼‰</td></tr><tr><td><strong>ç­¾åå†…å®¹</strong></td><td>appCode + secretKey + path + timestamp</td><td>params + appCode + secretKey + path + timestamp</td></tr><tr><td><strong>å®‰å…¨æ€§</strong></td><td>ä¸­ç­‰ï¼Œä»…é˜²æ­¢è·¯å¾„ç¯¡æ”¹</td><td>é«˜ï¼Œé˜²æ­¢å‚æ•°ç¯¡æ”¹</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>è¾ƒå¿«</td><td>ç¨æ…¢ï¼ˆéœ€è§£æå‚æ•°ï¼‰</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>GETã€æ— æ•æ„Ÿå‚æ•°çš„æ¥å£</td><td>POSTã€æ”¯ä»˜ã€äº¤æ˜“ç­‰æ•æ„Ÿæ¥å£</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-21">äº”ã€ç­¾åæœºåˆ¶çš„ä½œç”¨</h3>
<h4 data-id="heading-22">5.1 æ ¸å¿ƒå®‰å…¨ä½œç”¨</h4>



































<table><thead><tr><th>ä½œç”¨</th><th>è¯´æ˜</th><th>å®ç°æ–¹å¼</th></tr></thead><tbody><tr><td><strong>èº«ä»½éªŒè¯</strong></td><td>éªŒè¯è°ƒç”¨æ–¹èº«ä»½æ˜¯å¦åˆæ³•</td><td>é€šè¿‡ appCode + secretKey éªŒè¯</td></tr><tr><td><strong>é˜²é‡æ”¾æ”»å‡»</strong></td><td>é˜²æ­¢æ”»å‡»è€…æˆªè·è¯·æ±‚åé‡å¤å‘é€</td><td>é€šè¿‡æ—¶é—´æˆ³ + TTL é™åˆ¶ç­¾åæœ‰æ•ˆæœŸ</td></tr><tr><td><strong>é˜²ç¯¡æ”¹</strong></td><td>é˜²æ­¢è¯·æ±‚å‚æ•°æˆ–è·¯å¾„è¢«ç¯¡æ”¹</td><td>é€šè¿‡ç­¾åæ ¡éªŒç¡®ä¿æ•°æ®å®Œæ•´æ€§</td></tr><tr><td><strong>æƒé™æ§åˆ¶</strong></td><td>æ§åˆ¶ä¸åŒè°ƒç”¨æ–¹å¯¹ä¸åŒæ¥å£çš„è®¿é—®æƒé™</td><td>é€šè¿‡ api_auth è¡¨ç®¡ç†æƒé™</td></tr><tr><td><strong>é™æµé˜²åˆ·</strong></td><td>é˜²æ­¢æ¥å£è¢«æ¶æ„åˆ·é‡</td><td>é€šè¿‡ api_info è¡¨é…ç½®é™æµç­–ç•¥</td></tr></tbody></table>
<h4 data-id="heading-23">5.2 å…·ä½“é˜²æŠ¤åœºæ™¯</h4>
<h5 data-id="heading-24">åœºæ™¯1ï¼šé˜²æ­¢è¯·æ±‚é‡æ”¾</h5>
<p>æ”»å‡»è€…æˆªè·äº†ä¸€æ¬¡åˆæ³•è¯·æ±‚ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">POST</span> <span class="hljs-string">/api/order/submit</span>
<span class="hljs-attr">Headers:</span>
  <span class="hljs-attr">Sign-appCode:</span> <span class="hljs-string">h5</span>
  <span class="hljs-attr">Sign-sign:</span> <span class="hljs-string">abc123...</span>
  <span class="hljs-attr">Sign-time:</span> <span class="hljs-number">1672531200000</span>
</code></pre>
<p>å½“æ”»å‡»è€…å°è¯•é‡æ”¾è¯¥è¯·æ±‚æ—¶ï¼š</p>
<ul>
<li>å¦‚æœå½“å‰æ—¶é—´è¶…è¿‡ <code>Sign-time + TTL</code>ï¼ˆå¦‚10åˆ†é’Ÿï¼‰ï¼Œç­¾åå·²è¿‡æœŸï¼ŒéªŒè¯å¤±è´¥</li>
<li>å³ä½¿åœ¨æœ‰æ•ˆæœŸå†…ï¼Œç”±äºåŠ¨æ€ç›å€¼å·²è¿‡æœŸï¼ˆ24å°æ—¶ï¼‰ï¼Œæ— æ³•é€šè¿‡åŠ¨æ€ç›å€¼éªŒè¯</li>
</ul>
<h5 data-id="heading-25">åœºæ™¯2ï¼šé˜²æ­¢å‚æ•°ç¯¡æ”¹</h5>
<p>æ­£å¸¸è¯·æ±‚ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"amount"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">100</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"productId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"12345"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ”»å‡»è€…ç¯¡æ”¹å‚æ•°ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"amount"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// ç¯¡æ”¹</span>
  <span class="hljs-attr">"productId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"12345"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ç”±äºå‚æ•°å˜åŒ–ï¼Œé‡æ–°è®¡ç®—çš„ç­¾åä¸åŸç­¾åä¸åŒ¹é…ï¼ŒéªŒè¯å¤±è´¥ã€‚</p>
<h5 data-id="heading-26">åœºæ™¯3ï¼šé˜²æ­¢è¶Šæƒè®¿é—®</h5>
<p>è°ƒç”¨æ–¹ "h5" å°è¯•è®¿é—®æœªæˆæƒçš„æ¥å£ "/api/admin/delete"ï¼š</p>
<ul>
<li>åœ¨ api_auth è¡¨ä¸­æŸ¥ä¸åˆ° ("h5", "/api/admin/delete") çš„æˆæƒè®°å½•</li>
<li>æ‹¦æˆªå™¨æ‹’ç»è®¿é—®ï¼Œè¿”å› 401</li>
</ul>
<hr/>
<h3 data-id="heading-27">å…­ã€å¦‚ä½•å–èˆï¼Ÿæ—¢ä¸è¿‡åº¦å¢åŠ å¼€å‘è´Ÿæ‹…ï¼Œåˆèƒ½ä¿è¯å®‰å…¨å¯é </h3>
<h4 data-id="heading-28">6.1 å››ç§å®‰å…¨çº§åˆ«æ–¹æ¡ˆ</h4>
<p>æ ¹æ®ä¸šåŠ¡åœºæ™¯å’Œè°ƒç”¨æ–¹ç±»å‹ï¼Œå¯ä»¥é€‰æ‹©ä¸åŒçš„å®‰å…¨çº§åˆ«ï¼š</p>
<h5 data-id="heading-29">æ–¹æ¡ˆ0ï¼šåç«¯ç›´æ¥ç­¾åï¼ˆæ¨èåç«¯æœåŠ¡ä½¿ç”¨ï¼‰â­</h5>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> åç«¯æœåŠ¡è°ƒç”¨åç«¯æ¥å£ï¼ˆå¾®æœåŠ¡ã€å®šæ—¶ä»»åŠ¡ã€å†…éƒ¨ç³»ç»Ÿï¼‰</p>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong> åç«¯å¯ä»¥å®‰å…¨å­˜å‚¨å¯†é’¥ï¼Œæ— éœ€åŠ¨æ€ç›å€¼ï¼Œæµç¨‹æœ€ç®€æ´</p>
<p><strong>å®ç°æ­¥éª¤ï¼š</strong></p>
<ol>
<li>åç«¯æœåŠ¡è¯»å–å¯†é’¥ï¼ˆä»ç¯å¢ƒå˜é‡ã€é…ç½®ä¸­å¿ƒç­‰ï¼‰</li>
<li>åç«¯ç›´æ¥ç”Ÿæˆç­¾åï¼š<code>SHA256(appCode + secretKey + apiPath + timestamp)</code></li>
<li>åç«¯æºå¸¦ç­¾åè°ƒç”¨ä¸šåŠ¡æ¥å£ï¼ˆHeader: Sign-appCode, Sign-sign, Sign-time, Sign-pathï¼‰</li>
<li>ä¸šåŠ¡æ¥å£éªŒè¯ç­¾å</li>
</ol>
<p><strong>ç¤ºä¾‹ä»£ç ï¼ˆJavaï¼‰ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åç«¯æœåŠ¡ä¸­çš„ç­¾åç”Ÿæˆ</span>
<span class="hljs-keyword">public</span> String <span class="hljs-title function_">generateSignForBackend</span><span class="hljs-params">(String appCode, String secretKey, String apiPath)</span> {
    <span class="hljs-type">long</span> <span class="hljs-variable">timestamp</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
    <span class="hljs-type">String</span> <span class="hljs-variable">signSource</span> <span class="hljs-operator">=</span> appCode + secretKey + apiPath + timestamp;
    <span class="hljs-type">String</span> <span class="hljs-variable">signature</span> <span class="hljs-operator">=</span> DigestUtils.sha256Hex(signSource);

    <span class="hljs-comment">// è®¾ç½®åˆ°è¯·æ±‚ Header</span>
    httpRequest.setHeader(<span class="hljs-string">"Sign-appCode"</span>, appCode);
    httpRequest.setHeader(<span class="hljs-string">"Sign-sign"</span>, signature);
    httpRequest.setHeader(<span class="hljs-string">"Sign-time"</span>, String.valueOf(timestamp));
    httpRequest.setHeader(<span class="hljs-string">"Sign-path"</span>, apiPath);

    <span class="hljs-keyword">return</span> signature;
}
</code></pre>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>æµç¨‹æœ€ç®€å•ï¼Œåªéœ€1æ¬¡è¯·æ±‚</li>
<li>æ€§èƒ½æœ€é«˜ï¼Œæ— éœ€é¢å¤–çš„åŠ¨æ€ç›å€¼è¯·æ±‚</li>
<li>å¯†é’¥å®‰å…¨å­˜å‚¨åœ¨åç«¯</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong> æ— </p>
<p><strong>é…ç½®ç¤ºä¾‹ï¼ˆapplication.ymlï¼‰ï¼š</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">sign:</span>
  <span class="hljs-attr">signature:</span>
    <span class="hljs-attr">ttl:</span> <span class="hljs-number">600000</span>  <span class="hljs-comment"># 10åˆ†é’Ÿ</span>
    <span class="hljs-attr">default-with-params:</span> <span class="hljs-literal">false</span>  <span class="hljs-comment"># å¦‚éœ€é˜²å‚æ•°ç¯¡æ”¹ï¼Œè®¾ä¸º true</span>
  <span class="hljs-comment"># æ— éœ€é…ç½® dynamic-salt</span>
</code></pre>
<p><strong>é‡è¦æç¤ºï¼š</strong> åç«¯æœåŠ¡è°ƒç”¨æ—¶ï¼Œå¯†é’¥åº”é€šè¿‡ç¯å¢ƒå˜é‡æˆ–é…ç½®ä¸­å¿ƒç®¡ç†ï¼Œä¸è¦ç¡¬ç¼–ç åœ¨ä»£ç ä¸­ã€‚</p>
<hr/>
<h5 data-id="heading-30">æ–¹æ¡ˆ1ï¼šåŸºç¡€ç­¾åï¼ˆä½å®‰å…¨æ€§ï¼Œå‰ç«¯åœºæ™¯ï¼‰</h5>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> å‰ç«¯è°ƒç”¨ï¼Œå†…éƒ¨ç³»ç»Ÿã€ä½æ•æ„Ÿåº¦æ¥å£ã€ä¿¡ä»»ç¯å¢ƒ</p>
<p><strong>é…ç½®ï¼š</strong></p>
<ul>
<li>ä»…ä½¿ç”¨"ä¸å«å‚æ•°ç­¾å"</li>
<li>ä¸å¯ç”¨åŠ¨æ€ç›å€¼ï¼ˆâš ï¸ æ³¨æ„ï¼šå‰ç«¯éœ€è°ƒç”¨ç­¾åç”Ÿæˆæ¥å£ï¼Œè€Œéç›´æ¥æŒæœ‰å¯†é’¥ï¼‰</li>
<li>ç­¾åæœ‰æ•ˆæœŸè¾ƒé•¿ï¼ˆå¦‚30åˆ†é’Ÿæˆ–2å°æ—¶ï¼‰</li>
</ul>
<p><strong>å®ç°æ­¥éª¤ï¼š</strong></p>
<ol>
<li>å‰ç«¯ç›´æ¥è°ƒç”¨ç­¾åç”Ÿæˆæ¥å£ï¼ˆä¸éœ€è¦å…ˆè·å–åŠ¨æ€ç›å€¼ï¼‰,æˆ–è¿›å…¥é¡µé¢åç”±åç«¯ç”Ÿæˆç­¾åè¿”å›ç»™å‰ç«¯</li>
<li>åç«¯ç”Ÿæˆç­¾åï¼š<code>SHA256(appCode + secretKey + path + timestamp)</code></li>
<li>å‰ç«¯æºå¸¦ç­¾åè°ƒç”¨ä¸šåŠ¡æ¥å£</li>
</ol>
<p><strong>ä¼˜ç‚¹ï¼š</strong> å¼€å‘ç®€å•ï¼Œæ€§èƒ½é«˜
<strong>ç¼ºç‚¹ï¼š</strong> å®‰å…¨æ€§è¾ƒä½ï¼Œä¸é˜²å‚æ•°ç¯¡æ”¹ï¼Œå‰ç«¯ä»éœ€é¢å¤–è¯·æ±‚ç­¾å</p>
<hr/>
<h5 data-id="heading-31">æ–¹æ¡ˆ2ï¼šæ ‡å‡†ç­¾åï¼ˆä¸­å®‰å…¨æ€§ï¼Œå‰ç«¯åœºæ™¯ï¼‰â­ å‰ç«¯æ¨è</h5>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> å‰ç«¯è°ƒç”¨ï¼Œå¤§å¤šæ•°ä¸šåŠ¡åœºæ™¯ã€å‰åç«¯åˆ†ç¦»åº”ç”¨</p>
<p><strong>é…ç½®ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨"ä¸å«å‚æ•°ç­¾å"</li>
<li>å¯ç”¨åŠ¨æ€ç›å€¼ï¼ˆç®—æ³•æ ¡éªŒæ¨¡å¼ï¼‰</li>
<li>åŠ¨æ€ç›å€¼æœ‰æ•ˆæœŸï¼š24å°æ—¶</li>
<li>ç­¾åæœ‰æ•ˆæœŸï¼š10åˆ†é’Ÿ</li>
</ul>
<p><strong>å®ç°æ­¥éª¤ï¼š</strong></p>
<ol>
<li>å‰ç«¯è¯·æ±‚åŠ¨æ€ç›å€¼ç”Ÿæˆæ¥å£</li>
<li>å‰ç«¯æºå¸¦åŠ¨æ€ç›å€¼è¯·æ±‚ç­¾åç”Ÿæˆæ¥å£</li>
<li>åç«¯éªŒè¯åŠ¨æ€ç›å€¼ â†’ ç”Ÿæˆç­¾å</li>
<li>å‰ç«¯æºå¸¦ç­¾åè°ƒç”¨ä¸šåŠ¡æ¥å£</li>
<li>åç«¯éªŒè¯ç­¾å</li>
</ol>
<p><strong>ä¼˜ç‚¹ï¼š</strong> å®‰å…¨æ€§å¥½ï¼Œå¼€å‘è´Ÿæ‹…é€‚ä¸­
<strong>ç¼ºç‚¹ï¼š</strong> éœ€è¦å¤šä¸€æ¬¡åŠ¨æ€ç›å€¼è¯·æ±‚</p>
<p>é…ç½®ç¤ºä¾‹ï¼ˆapplication.ymlï¼‰ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">sign:</span>
  <span class="hljs-attr">dynamic-salt:</span>
    <span class="hljs-attr">ttl:</span> <span class="hljs-number">86400000</span>  <span class="hljs-comment"># 24å°æ—¶</span>
    <span class="hljs-attr">validate-from-database:</span> <span class="hljs-literal">false</span>  <span class="hljs-comment"># ç®—æ³•æ ¡éªŒ</span>
  <span class="hljs-attr">signature:</span>
    <span class="hljs-attr">ttl:</span> <span class="hljs-number">600000</span>  <span class="hljs-comment"># 10åˆ†é’Ÿ</span>
    <span class="hljs-attr">default-with-params:</span> <span class="hljs-literal">false</span>  <span class="hljs-comment"># ä¸å«å‚æ•°</span>
</code></pre>
<hr/>
<h5 data-id="heading-32">æ–¹æ¡ˆ3ï¼šé«˜å®‰å…¨ç­¾åï¼ˆé«˜å®‰å…¨æ€§ï¼Œå‰ç«¯åœºæ™¯ï¼‰</h5>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> å‰ç«¯è°ƒç”¨ï¼Œæ”¯ä»˜ã€äº¤æ˜“ã€æ•æ„Ÿæ•°æ®æ“ä½œ</p>
<p><strong>é…ç½®ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨"å«å‚æ•°ç­¾å"ï¼ˆSM3ç®—æ³•ï¼‰</li>
<li>å¯ç”¨åŠ¨æ€ç›å€¼ï¼ˆæ•°æ®åº“æ ¡éªŒæ¨¡å¼ï¼‰</li>
<li>åŠ¨æ€ç›å€¼ä¸€æ¬¡æ€§ä½¿ç”¨ï¼ˆused å­—æ®µæ ‡è®°ï¼‰</li>
<li>ç­¾åæœ‰æ•ˆæœŸï¼š10åˆ†é’Ÿ</li>
</ul>
<p><strong>å®ç°æ­¥éª¤ï¼š</strong></p>
<ol>
<li>å‰ç«¯è¯·æ±‚åŠ¨æ€ç›å€¼ç”Ÿæˆæ¥å£</li>
<li>åç«¯ç”ŸæˆåŠ¨æ€ç›å€¼å¹¶<strong>å­˜å…¥æ•°æ®åº“</strong>ï¼ˆapi_dynamic_salt_logè¡¨ï¼‰</li>
<li>å‰ç«¯æºå¸¦åŠ¨æ€ç›å€¼è¯·æ±‚ç­¾åç”Ÿæˆæ¥å£</li>
<li>åç«¯ä»æ•°æ®åº“æŸ¥è¯¢åŠ¨æ€ç›å€¼ï¼Œæ ¡éªŒå<strong>æ ‡è®°ä¸ºå·²ä½¿ç”¨</strong></li>
<li>åç«¯ç”Ÿæˆå«å‚æ•°ç­¾å</li>
<li>å‰ç«¯æºå¸¦ç­¾åå’Œå‚æ•°è°ƒç”¨ä¸šåŠ¡æ¥å£</li>
<li>åç«¯æå–å‚æ•°ï¼ŒéªŒè¯ç­¾åï¼ˆåŒ…å«å‚æ•°ï¼‰</li>
</ol>
<p><strong>ä¼˜ç‚¹ï¼š</strong> å®‰å…¨æ€§æœ€é«˜ï¼Œé˜²å‚æ•°ç¯¡æ”¹ï¼Œé˜²åŠ¨æ€ç›å€¼é‡æ”¾
<strong>ç¼ºç‚¹ï¼š</strong> å¼€å‘å¤æ‚åº¦é«˜ï¼Œæ€§èƒ½ç¨ä½ï¼ˆéœ€è¯»å†™æ•°æ®åº“ï¼‰</p>
<p>é…ç½®ç¤ºä¾‹ï¼ˆapplication.ymlï¼‰ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">sign:</span>
  <span class="hljs-attr">dynamic-salt:</span>
    <span class="hljs-attr">ttl:</span> <span class="hljs-number">86400000</span>
    <span class="hljs-attr">validate-from-database:</span> <span class="hljs-literal">true</span>  <span class="hljs-comment"># æ•°æ®åº“æ ¡éªŒ</span>
  <span class="hljs-attr">signature:</span>
    <span class="hljs-attr">ttl:</span> <span class="hljs-number">300000</span>  <span class="hljs-comment"># 5åˆ†é’Ÿ</span>
    <span class="hljs-attr">default-with-params:</span> <span class="hljs-literal">true</span>  <span class="hljs-comment"># å«å‚æ•°</span>
</code></pre>
<hr/>
<h4 data-id="heading-33">6.2 æ–¹æ¡ˆå¯¹æ¯”</h4>











































































<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>åç«¯ç›´æ¥ç­¾åâ­</th><th>åŸºç¡€ç­¾åï¼ˆå‰ç«¯ï¼‰</th><th>æ ‡å‡†ç­¾åï¼ˆå‰ç«¯ï¼‰â­</th><th>é«˜å®‰å…¨ç­¾åï¼ˆå‰ç«¯ï¼‰</th></tr></thead><tbody><tr><td><strong>è°ƒç”¨æ–¹</strong></td><td>åç«¯æœåŠ¡</td><td>å‰ç«¯</td><td>å‰ç«¯</td><td>å‰ç«¯</td></tr><tr><td><strong>å¯†é’¥å­˜å‚¨</strong></td><td>âœ… åç«¯å®‰å…¨å­˜å‚¨</td><td>âŒ å‰ç«¯æ— æ³•æŒæœ‰</td><td>âŒ å‰ç«¯æ— æ³•æŒæœ‰</td><td>âŒ å‰ç«¯æ— æ³•æŒæœ‰</td></tr><tr><td><strong>åŠ¨æ€ç›å€¼</strong></td><td>âŒ ä¸éœ€è¦</td><td>âŒ ä¸ä½¿ç”¨</td><td>âœ… ç®—æ³•æ ¡éªŒ</td><td>âœ… æ•°æ®åº“æ ¡éªŒ</td></tr><tr><td><strong>å‚æ•°ç­¾å</strong></td><td>å¯é€‰</td><td>âŒ ä¸å«å‚æ•°</td><td>âŒ ä¸å«å‚æ•°</td><td>âœ… å«å‚æ•°ï¼ˆSM3æˆ–SHA256ï¼‰</td></tr><tr><td><strong>è¯·æ±‚æ¬¡æ•°</strong></td><td>1æ¬¡ï¼ˆç›´æ¥è°ƒç”¨ï¼‰</td><td>2æ¬¡ï¼ˆæ¢ç­¾+ä¸šåŠ¡ï¼‰</td><td>3æ¬¡ï¼ˆç›å€¼+ç­¾å+ä¸šåŠ¡ï¼‰</td><td>3æ¬¡ï¼ˆç›å€¼+ç­¾å+ä¸šåŠ¡ï¼‰</td></tr><tr><td><strong>å®‰å…¨çº§åˆ«</strong></td><td>â­â­â­â­</td><td>â­â­</td><td>â­â­â­â­</td><td>â­â­â­â­â­</td></tr><tr><td><strong>å¼€å‘å¤æ‚åº¦</strong></td><td>æä½</td><td>ä½</td><td>ä¸­</td><td>é«˜</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>æœ€é«˜</td><td>é«˜</td><td>ä¸­</td><td>ä¸­ä½</td></tr><tr><td><strong>å…¸å‹åœºæ™¯</strong></td><td>å¾®æœåŠ¡ã€å®šæ—¶ä»»åŠ¡</td><td>å†…éƒ¨å‰ç«¯ç³»ç»Ÿ</td><td>ä¸€èˆ¬å‰ç«¯åº”ç”¨</td><td>æ”¯ä»˜ã€äº¤æ˜“å‰ç«¯</td></tr></tbody></table>
<p><strong>é€‰æ‹©å»ºè®®ï¼š</strong></p>
<ul>
<li>åç«¯æœåŠ¡è°ƒç”¨ â†’ <strong>æ–¹æ¡ˆ0ï¼šåç«¯ç›´æ¥ç­¾å</strong></li>
<li>å‰ç«¯ä¸€èˆ¬åº”ç”¨ â†’ <strong>æ–¹æ¡ˆ2ï¼šæ ‡å‡†ç­¾å</strong></li>
<li>å‰ç«¯æ”¯ä»˜äº¤æ˜“ â†’ <strong>æ–¹æ¡ˆ3ï¼šé«˜å®‰å…¨ç­¾å</strong></li>
</ul>
<h4 data-id="heading-34">6.3 å®æ–½å»ºè®®</h4>
<ol>
<li>
<p><strong>åŒºåˆ†è°ƒç”¨æ–¹ç±»å‹</strong></p>
<p>é¦–å…ˆæ˜ç¡®è°ƒç”¨æ–¹æ˜¯å‰ç«¯è¿˜æ˜¯åç«¯ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åç«¯æœåŠ¡è°ƒç”¨ - ç›´æ¥ä½¿ç”¨å¯†é’¥ç­¾åï¼Œæ— éœ€åŠ¨æ€ç›å€¼</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BackendServiceClient</span> {
    <span class="hljs-meta">@Value("${api.app-code}")</span>
    <span class="hljs-keyword">private</span> String appCode;

    <span class="hljs-meta">@Value("${api.secret-key}")</span>
    <span class="hljs-keyword">private</span> String secretKey;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">callRemoteApi</span><span class="hljs-params">(String apiPath, Map&lt;String, Object&gt; params)</span> {
        <span class="hljs-comment">// ç›´æ¥ç”Ÿæˆç­¾å</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">timestamp</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">String</span> <span class="hljs-variable">signSource</span> <span class="hljs-operator">=</span> appCode + secretKey + apiPath + timestamp;
        <span class="hljs-type">String</span> <span class="hljs-variable">signature</span> <span class="hljs-operator">=</span> DigestUtils.sha256Hex(signSource);

        <span class="hljs-comment">// å‘é€è¯·æ±‚</span>
        <span class="hljs-type">HttpHeaders</span> <span class="hljs-variable">headers</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpHeaders</span>();
        headers.set(<span class="hljs-string">"Sign-appCode"</span>, appCode);
        headers.set(<span class="hljs-string">"Sign-sign"</span>, signature);
        headers.set(<span class="hljs-string">"Sign-time"</span>, String.valueOf(timestamp));
        headers.set(<span class="hljs-string">"Sign-path"</span>, apiPath);

        <span class="hljs-comment">// ... å‘é€ HTTP è¯·æ±‚</span>
    }
}
</code></pre>
</li>
<li>
<p><strong>æŒ‰æ¥å£åˆ†çº§ä¿æŠ¤</strong></p>
<p>å¯ä»¥ä¸ºä¸åŒæ¥å£è®¾ç½®ä¸åŒçš„å®‰å…¨çº§åˆ«ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æŸ¥è¯¢æ¥å£ - ä¸å«å‚æ•°ç­¾å</span>
<span class="hljs-meta">@RequireSign(withParams = WithParams.FALSE)</span>
<span class="hljs-keyword">public</span> ApiResponse <span class="hljs-title function_">getUserInfo</span><span class="hljs-params">()</span> { ... }

<span class="hljs-comment">// æäº¤æ¥å£ - ä¸å«å‚æ•°ç­¾å</span>
<span class="hljs-meta">@RequireSign(withParams = WithParams.FALSE)</span>
<span class="hljs-keyword">public</span> ApiResponse <span class="hljs-title function_">submitOrder</span><span class="hljs-params">()</span> { ... }

<span class="hljs-comment">// æ”¯ä»˜æ¥å£ - å«å‚æ•°ç­¾åï¼ˆé«˜å®‰å…¨ï¼‰</span>
<span class="hljs-meta">@RequireSign(withParams = WithParams.TRUE)</span>
<span class="hljs-keyword">public</span> ApiResponse <span class="hljs-title function_">payment</span><span class="hljs-params">()</span> { ... }
</code></pre>
</li>
<li>
<p><strong>æ¸è¿›å¼å‡çº§</strong></p>
<ul>
<li>ç¬¬ä¸€é˜¶æ®µï¼šåç«¯æœåŠ¡ä½¿ç”¨æ–¹æ¡ˆ0ï¼ˆç›´æ¥ç­¾åï¼‰</li>
<li>ç¬¬äºŒé˜¶æ®µï¼šå‰ç«¯ä½¿ç”¨æ–¹æ¡ˆ2ï¼ˆåŠ¨æ€ç›å€¼ + ä¸å«å‚æ•°ç­¾åï¼‰</li>
<li>ç¬¬ä¸‰é˜¶æ®µï¼šä¸ºæ•æ„Ÿæ¥å£å‡çº§åˆ°æ–¹æ¡ˆ3ï¼ˆå«å‚æ•°ç­¾åï¼‰</li>
</ul>
</li>
<li>
<p><strong>ç›‘æ§ä¸å‘Šè­¦</strong></p>
<p>è®°å½•ç­¾åéªŒè¯å¤±è´¥çš„æ—¥å¿—ï¼Œè®¾ç½®å‘Šè­¦ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">if</span> (!isValid) {
    log.warn(<span class="hljs-string">"ç­¾åéªŒè¯å¤±è´¥ - appCode={}, path={}, sign={}"</span>,
             appCode, serverPath, sign);
    <span class="hljs-comment">// è§¦å‘å‘Šè­¦ï¼ˆå¦‚é’‰é’‰ã€é‚®ä»¶ï¼‰</span>
}
</code></pre>
</li>
<li>
<p><strong>ç™½åå•æœºåˆ¶</strong></p>
<p>ä¸ºç‰¹å®šè°ƒç”¨æ–¹ï¼ˆå¦‚è¿ç»´å·¥å…·ï¼‰è®¾ç½®ç™½åå•ï¼Œè·³è¿‡ç­¾åéªŒè¯ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@IgnoreSignHeader</span>  <span class="hljs-comment">// è·³è¿‡ç­¾åéªŒè¯</span>
<span class="hljs-keyword">public</span> ApiResponse <span class="hljs-title function_">healthCheck</span><span class="hljs-params">()</span> { ... }
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-35">ä¸ƒã€ä»£ç ä¸‹è½½</h3>
<h4 data-id="heading-36">7.1 å®Œæ•´ä»£ç ç»“æ„</h4>
<pre><code class="hljs language-bash" lang="bash">knife/
â”œâ”€â”€ src/main/java/com/microwind/knife/
â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â””â”€â”€ SignConfig.java              <span class="hljs-comment"># ç­¾åé…ç½®</span>
â”‚   â”‚   â”œâ”€â”€ services/sign/
â”‚   â”‚   â”‚   â”œâ”€â”€ SignService.java             <span class="hljs-comment"># ç­¾ååº”ç”¨æœåŠ¡</span>
â”‚   â”‚   â”‚   â”œâ”€â”€ SignValidationService.java   <span class="hljs-comment"># ç­¾åæ ¡éªŒæœåŠ¡</span>
â”‚   â”‚   â”‚   â””â”€â”€ DynamicSaltValidationService.java  <span class="hljs-comment"># åŠ¨æ€ç›å€¼æ ¡éªŒæœåŠ¡</span>
â”‚   â”‚   â””â”€â”€ dto/sign/
â”‚   â”‚       â”œâ”€â”€ SignDTO.java                 <span class="hljs-comment"># ç­¾åDTO</span>
â”‚   â”‚       â””â”€â”€ DynamicSaltDTO.java          <span class="hljs-comment"># åŠ¨æ€ç›å€¼DTO</span>
â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”œâ”€â”€ sign/
â”‚   â”‚   â”‚   â”œâ”€â”€ SignDomainService.java       <span class="hljs-comment"># ç­¾åé¢†åŸŸæœåŠ¡ï¼ˆæ ¸å¿ƒç®—æ³•ï¼‰</span>
â”‚   â”‚   â”‚   â”œâ”€â”€ Sign.java                    <span class="hljs-comment"># ç­¾åé¢†åŸŸå¯¹è±¡</span>
â”‚   â”‚   â”‚   â””â”€â”€ DynamicSalt.java             <span class="hljs-comment"># åŠ¨æ€ç›å€¼é¢†åŸŸå¯¹è±¡</span>
â”‚   â”‚   â””â”€â”€ repository/
â”‚   â”‚       â””â”€â”€ SignRepository.java          <span class="hljs-comment"># ç­¾åä»“å‚¨æ¥å£</span>
â”‚   â”œâ”€â”€ infrastructure/
â”‚   â”‚   â””â”€â”€ repository/
â”‚   â”‚       â””â”€â”€ SignRepositoryImpl.java      <span class="hljs-comment"># ç­¾åä»“å‚¨å®ç°ï¼ˆJDBCï¼‰</span>
â”‚   â”œâ”€â”€ interfaces/
â”‚   â”‚   â”œâ”€â”€ controllers/sign/
â”‚   â”‚   â”‚   â”œâ”€â”€ SignController.java          <span class="hljs-comment"># ç­¾åæ¥å£æ§åˆ¶å™¨</span>
â”‚   â”‚   â”‚   â””â”€â”€ DynamicSaltController.java   <span class="hljs-comment"># åŠ¨æ€ç›å€¼æ¥å£æ§åˆ¶å™¨</span>
â”‚   â”‚   â””â”€â”€ annotation/
â”‚   â”‚       â”œâ”€â”€ RequireSign.java             <span class="hljs-comment"># éœ€è¦ç­¾åéªŒè¯æ³¨è§£</span>
â”‚   â”‚       â””â”€â”€ IgnoreSignHeader.java        <span class="hljs-comment"># å¿½ç•¥ç­¾åéªŒè¯æ³¨è§£</span>
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â””â”€â”€ SignatureInterceptor.java        <span class="hljs-comment"># ç­¾åæ‹¦æˆªå™¨</span>
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ SignatureUtil.java               <span class="hljs-comment"># ç­¾åå·¥å…·ç±»</span>
â””â”€â”€ src/main/resources/
    â””â”€â”€ application.yml                       <span class="hljs-comment"># é…ç½®æ–‡ä»¶</span>
</code></pre>
<h4 data-id="heading-37">7.2 æ ¸å¿ƒæ–‡ä»¶è¯´æ˜</h4>

























<table><thead><tr><th>æ–‡ä»¶</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>SignDomainService.java</code></td><td>å®ç°åŠ¨æ€ç›å€¼å’Œç­¾åçš„æ ¸å¿ƒç®—æ³•</td></tr><tr><td><code>SignatureUtil.java</code></td><td>æä¾›å‚æ•°æ’åºã€å¤šç§å“ˆå¸Œç®—æ³•æ”¯æŒ</td></tr><tr><td><code>SignatureInterceptor.java</code></td><td>æ‹¦æˆªå¸¦æœ‰ @RequireSign çš„æ¥å£ï¼Œè¿›è¡Œç­¾åéªŒè¯</td></tr><tr><td><code>SignConfig.java</code></td><td>é›†ä¸­ç®¡ç†ç­¾åç›¸å…³é…ç½®ï¼ˆTTLã€ç®—æ³•ã€æ¨¡å¼ç­‰ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-38">7.3 æ•°æ®åº“è„šæœ¬</h4>
<p>è¯¦è§ <code>DynamicSalt.md</code> æ–‡ä»¶ä¸­çš„æ•°æ®åº“è¡¨ç»“æ„ï¼ˆæ”¯æŒ MySQL å’Œ PostgreSQLï¼‰ã€‚</p>
<h4 data-id="heading-39">7.4 å‰ç«¯ç¤ºä¾‹ä»£ç ï¼ˆJavaScriptï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. è·å–åŠ¨æ€ç›å€¼</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getDynamicSalt</span>(<span class="hljs-params">appCode, apiPath</span>) {
  <span class="hljs-keyword">const</span> saltTimestamp = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/sign/dynamic-salt/generate'</span>, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> },
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ appCode, apiPath, saltTimestamp })
  });
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>(); <span class="hljs-comment">// { dynamicSalt, saltTimestamp, apiPath }</span>
}

<span class="hljs-comment">// 2. è·å–ç­¾å</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getSignature</span>(<span class="hljs-params">appCode, apiPath, dynamicSalt, dynamicSaltTime</span>) {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/sign/generate'</span>, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> },
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ appCode, apiPath, dynamicSalt, dynamicSaltTime })
  });
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>(); <span class="hljs-comment">// { signValue, timestamp, apiPath }</span>
}

<span class="hljs-comment">// 3. è°ƒç”¨ä¸šåŠ¡æ¥å£</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">submitOrder</span>(<span class="hljs-params">orderData</span>) {
  <span class="hljs-comment">// 3.1 è·å–åŠ¨æ€ç›å€¼</span>
  <span class="hljs-keyword">const</span> { dynamicSalt, saltTimestamp } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getDynamicSalt</span>(<span class="hljs-string">'h5'</span>, <span class="hljs-string">'/api/order/submit'</span>);

  <span class="hljs-comment">// 3.2 è·å–ç­¾å</span>
  <span class="hljs-keyword">const</span> { signValue, timestamp } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getSignature</span>(<span class="hljs-string">'h5'</span>, <span class="hljs-string">'/api/order/submit'</span>,
                                                       dynamicSalt, saltTimestamp);

  <span class="hljs-comment">// 3.3 è°ƒç”¨ä¸šåŠ¡æ¥å£</span>
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/order/submit'</span>, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">headers</span>: {
      <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,
      <span class="hljs-string">'Sign-appCode'</span>: <span class="hljs-string">'h5'</span>,
      <span class="hljs-string">'Sign-sign'</span>: signValue,
      <span class="hljs-string">'Sign-time'</span>: timestamp.<span class="hljs-title function_">toString</span>(),
      <span class="hljs-string">'Sign-path'</span>: <span class="hljs-string">'/api/order/submit'</span>
    },
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(orderData)
  });

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
}
</code></pre>
<h4 data-id="heading-40">7.5 ä¸‹è½½åœ°å€</h4>
<p>å®Œæ•´ä»£ç å·²å¼€æºï¼Œåœ°å€ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/github.com/microwind</span><span class="hljs-regexp">/design-patterns/tree</span><span class="hljs-regexp">/main/practice</span>-projects
</code></pre>
<hr/>
<h3 data-id="heading-41">å…«ã€æ€»ç»“</h3>
<p>æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†ä¸€å¥—å®Œæ•´çš„APIæ¥å£å®‰å…¨æ–¹æ¡ˆï¼Œé€šè¿‡<strong>åŠ¨æ€ç›å€¼ + æ¥å£ç­¾å</strong>çš„åŒé‡éªŒè¯æœºåˆ¶ï¼Œæœ‰æ•ˆé˜²æ­¢äº†é‡æ”¾æ”»å‡»ã€å‚æ•°ç¯¡æ”¹å’Œè¶Šæƒè®¿é—®ã€‚</p>
<p><strong>æ ¸å¿ƒè¦ç‚¹ï¼š</strong></p>
<ol>
<li>
<p><strong>åŒºåˆ†è°ƒç”¨æ–¹ç±»å‹</strong></p>
<ul>
<li><strong>åç«¯æœåŠ¡è°ƒç”¨</strong>ï¼šå¯†é’¥å¯å®‰å…¨å­˜å‚¨ï¼Œç›´æ¥ä½¿ç”¨å¯†é’¥ç­¾åï¼Œæ— éœ€åŠ¨æ€ç›å€¼</li>
<li><strong>å‰ç«¯è°ƒç”¨</strong>ï¼šå¯†é’¥æ— æ³•å®‰å…¨å­˜å‚¨ï¼Œå¿…é¡»ä½¿ç”¨åŠ¨æ€ç›å€¼ä½œä¸º"æ¢ç­¾å‡­è¯"</li>
</ul>
</li>
<li>
<p><strong>åŠ¨æ€ç›å€¼çš„ä½œç”¨</strong></p>
<ul>
<li>è§£å†³å‰ç«¯æ— æ³•æŒæœ‰å¯†é’¥çš„æ ¸å¿ƒé—®é¢˜</li>
<li>ä½œä¸º"ä¸€æ¬¡æ€§ä»¤ç‰Œ"ï¼Œå¢å¼ºå®‰å…¨æ€§</li>
<li>ä»…é€‚ç”¨äºå‰ç«¯ç­¾ååœºæ™¯</li>
</ul>
</li>
<li>
<p><strong>çµæ´»çš„ç­¾åæ¨¡å¼</strong></p>
<ul>
<li>æ”¯æŒ"å«å‚æ•°/ä¸å«å‚æ•°"ä¸¤ç§ç­¾åæ¨¡å¼</li>
<li>æ”¯æŒå¤šç§å“ˆå¸Œç®—æ³•ï¼ˆSHA-256ã€SM3ç­‰ï¼‰</li>
<li>é€šè¿‡æ³¨è§£çµæ´»æ§åˆ¶æ¥å£çº§åˆ«çš„ç­¾åç­–ç•¥</li>
</ul>
</li>
<li>
<p><strong>å››ç§å®‰å…¨æ–¹æ¡ˆ</strong></p>
<ul>
<li><strong>æ–¹æ¡ˆ0</strong>ï¼šåç«¯ç›´æ¥ç­¾åï¼ˆåç«¯æœåŠ¡æ¨èï¼‰</li>
<li><strong>æ–¹æ¡ˆ1</strong>ï¼šåŸºç¡€ç­¾åï¼ˆå‰ç«¯ä½å®‰å…¨åœºæ™¯ï¼‰</li>
<li><strong>æ–¹æ¡ˆ2</strong>ï¼šæ ‡å‡†ç­¾åï¼ˆå‰ç«¯ä¸€èˆ¬åœºæ™¯æ¨èï¼‰</li>
<li><strong>æ–¹æ¡ˆ3</strong>ï¼šé«˜å®‰å…¨ç­¾åï¼ˆå‰ç«¯æ”¯ä»˜äº¤æ˜“åœºæ™¯ï¼‰</li>
</ul>
</li>
</ol>
<p><strong>å®æ–½å»ºè®®ï¼š</strong></p>
<ul>
<li>åç«¯æœåŠ¡è°ƒç”¨ â†’ ä½¿ç”¨æ–¹æ¡ˆ0ï¼Œç›´æ¥æŒæœ‰å¯†é’¥ç­¾åï¼Œæ€§èƒ½æœ€ä¼˜</li>
<li>å‰ç«¯ä¸€èˆ¬åº”ç”¨ â†’ ä½¿ç”¨æ–¹æ¡ˆ2ï¼ˆåŠ¨æ€ç›å€¼ + ä¸å«å‚æ•°ç­¾åï¼‰</li>
<li>å‰ç«¯æ”¯ä»˜äº¤æ˜“ â†’ ä½¿ç”¨æ–¹æ¡ˆ3ï¼ˆåŠ¨æ€ç›å€¼ + å«å‚æ•°ç­¾åï¼‰</li>
<li>æŒ‰æ¥å£åˆ†çº§ä¿æŠ¤ï¼Œçµæ´»ç»„åˆä¸åŒæ–¹æ¡ˆ</li>
</ul>
<p><strong>å…³é”®æé†’ï¼š</strong></p>
<ul>
<li>âš ï¸ å‰ç«¯æ°¸è¿œä¸è¦æŒæœ‰å¯†é’¥ï¼ˆsecretKeyï¼‰ï¼Œå¿…é¡»é€šè¿‡åŠ¨æ€ç›å€¼æ¢å–ç­¾å</li>
<li>âœ… åç«¯å¯ä»¥å®‰å…¨æŒæœ‰å¯†é’¥ï¼Œæ— éœ€ä½¿ç”¨åŠ¨æ€ç›å€¼ï¼Œç®€åŒ–æµç¨‹</li>
<li>ğŸ”’ å¯†é’¥åº”é€šè¿‡ç¯å¢ƒå˜é‡ã€é…ç½®ä¸­å¿ƒç­‰å®‰å…¨æ–¹å¼ç®¡ç†</li>
</ul>
<p>å¸Œæœ›æœ¬æ–‡èƒ½å¸®åŠ©ä½ åœ¨å®é™…é¡¹ç›®ä¸­å¿«é€Ÿè½åœ°APIæ¥å£å®‰å…¨æ–¹æ¡ˆï¼å¦‚æœ‰ä»»ä½•ç–‘é—®æˆ–å»ºè®®ï¼Œæ¬¢è¿ç•™è¨€æ¢è®¨ã€‚</p>
<hr/>
<h3 data-id="heading-42">å‚è€ƒèµ„æ–™</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fowasp.org%2Fwww-project-api-security%2F" target="_blank" title="https://owasp.org/www-project-api-security/" ref="nofollow noopener noreferrer">OWASP API Security Top 10</a></li>
<li><a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.gmbz.org.cn%2Fmain%2Fviewfile%2F2018011001400692565.html" target="_blank" title="http://www.gmbz.org.cn/main/viewfile/2018011001400692565.html" ref="nofollow noopener noreferrer">å›½å¯†SM3ç®—æ³•è§„èŒƒ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.ietf.org%2Fhtml%2Frfc6151" target="_blank" title="https://tools.ietf.org/html/rfc6151" ref="nofollow noopener noreferrer">RFC 6151 - SHA-1å®‰å…¨æ€§åˆ†æ</a></li>
</ul>
<hr/>
<p>å®Œæ•´ä»£ç è§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmicrowind%2Fdesign-patterns%2Ftree%2Fmain%2Fpractice-projects" target="_blank" title="https://github.com/microwind/design-patterns/tree/main/practice-projects" ref="nofollow noopener noreferrer">github.com/microwind/dâ€¦</a></p>
<p>ç­¾åè¯¦ç»†æœºåˆ¶ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmicrowind%2Fdesign-patterns%2Fblob%2Fmain%2Fpractice-projects%2Fknife%2FSIGN.md" target="_blank" title="https://github.com/microwind/design-patterns/blob/main/practice-projects/knife/SIGN.md" ref="nofollow noopener noreferrer">github.com/microwind/dâ€¦</a></p>
<p><strong>è”ç³»</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fjarry" target="_blank" title="https://github.com/jarry" ref="nofollow noopener noreferrer">github.com/jarry</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£ Python ä¸­çš„__slots__ï¼šä¼˜åŒ–å†…å­˜ä¸å±æ€§ç®¡æ§çš„åˆ©å™¨]]></title>    <link>https://juejin.cn/post/7590724064520847423</link>    <guid>https://juejin.cn/post/7590724064520847423</guid>    <pubDate>2026-01-04T04:41:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590724064520847423" data-draft-id="7589813969515364352" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£ Python ä¸­çš„__slots__ï¼šä¼˜åŒ–å†…å­˜ä¸å±æ€§ç®¡æ§çš„åˆ©å™¨"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-01-04T04:41:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„"/> <meta itemprop="url" content="https://juejin.cn/user/3097787706900985"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£ Python ä¸­çš„__slots__ï¼šä¼˜åŒ–å†…å­˜ä¸å±æ€§ç®¡æ§çš„åˆ©å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3097787706900985/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T04:41:57.000Z" title="Sun Jan 04 2026 04:41:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;color:#5e7ce0}.markdown-body h1{font-size:24px;margin-bottom:5px;margin-top:80px;position:relative;text-align:center}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px;margin-top:30px}.markdown-body h5{font-size:14px;margin-top:20px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #dfe1e6;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#ffeeed;color:#c73636;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#f8f8f8}.markdown-body a{position:relative;text-decoration:none;color:#5e7ce0;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACCgAwAEAAAAAQAAACAAAAAAX7wP8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAABWVJREFUWAnlVktsVFUY/s85997pC9BOTKxRWnEKsXWlxjWJj0RWJjrFAAXjAlewYWOkgauACVu7a2IiNUEyExM3yoZE3Wmi7qgPJthJBDE6JUNpO3Mf5/j95/bOTOcBlBgXejJ37rn/Of/7O/9/iP7vQ/zTAcjnC4ry+a5ii1OkiYTpuvjvEc0Gp51uivP+ZW+QBuSW4QjW5rptAa1Ey0uOGKOxwPetVyafN6p/52/PkNBbjdAhGaGEpMRjLZTryB8+9MUSYSGNRIcBvm8kBAY9tHYlHz78nTs392xIkwv9FA3Oe33bdoX1ZZKOS0bH0CXI6RugYLW6BwIu5gskkQ4sEG0wYF25PjBzbZfSYY6kDLUmWMt7FR7Lw3xYUkaTdjxHfTPnPwav0iEGYADVa9XIRIEyxrAA0jIQxgFL22gYwF7A8/DAzNVdksJvJaTEUZ2kYnZWziN5s1ADPHneEIXByotYuMSrf9JEbbsuv7VcvbaKML8plXtQR0EdIYDqWEmtOgAomZFH8EjWSnek2ulmtljljttHbmaIHCCCHzd9MjwfsmscBeZH9Jyd10nMvz92UQrtCBKvMF06mQy0SiEdRMEGg8mN0YjAlgoDDkPrMI5qJKSkKKydpbB2CZjJkhIBvOBw2CGQgii85bpx//dMqFRKam5uvH7w+K97oe+Cl0HO68uIBH0qyEzpOMwIbZIcFq0I+9cwoElizCjk2KFI1y7Nnx614W1db58fOXIlMzs7Xn/jeDmvBV2Q0mXjGf554O/m4LZHp2N8r61WPMvLZWLdiC4GMAk5BjeeB5lhv39l6+BIbu3m760hXMDKBD08XBKzR8fr04nygnIypOOAJUx/fHrsi0Mnys+vVK+V4VUohaiyPCo2Q9DFALvF/ikw8WS4QvVZALS5ksw47/7R8ejgTPk1UFqU6/3zp8bOM7B/kdu/fkguPGU5JibW+F0sTjWOUw8DklRrg4BiLGeBqbaRLxjlT4no0InFV402RcftJz41cH/f/JnHP3kZaaF6VX/liwist9vYG5+NU9Cg3MNkt/+lU5wS8fTxq3mc7ILjDlAE4CJpe89BOWPiIjBhi9O6PI4G1jsc6RGB3lZwmS76k8H0zOKTkFboG8jS2krFKCX2fvTeaPHIBwAkMHHgncURnL3nuCSnxSopdIzN5th0BIonJ0Lf9yUA9iMkzdRWl3BixOusfDcwQVcS4UKIFwYfGPnM8wY/DyP9NFMXaTE5BU39tGkDgGZz+fJJG0oYcSaOafLcqdECY4LzfSObSzyUOgxqtyisr8SSNOOAkubWoh3TTaeA2YtFEXPnm5x81/j+6MI6JqyS25WSNU6hbCMKHG84marJbdR+vwakRhQLRuQpbzHRLjmpmijI+OmWCtq+LzWtnX5v30gHSsqmWne74DtiACi2+Wz0iXbuLt9D2cDyoPEkWOiyp5XUIwLMi/wJY1FbH5B9ONtdC1KrsD/Q0MCQAS0wccILORDW25amAeOtooAj/KQxfzF17uwTSQ1v3dJ7jnLINwdZYRDa4tPU0sHVXFo/vxFF5BqFqxRfOmgPCk4ft2NgKTCy2Y47JIEg+MIhjYsLy5I25qUYTQlCjMRHsr/UwdYwIK33UO1J5fFNB9XNO6akcywJofVmXQDP2wfrSPcI2xG5BSs3I+IosHr4EtvO1TDAu16xHQq5+ykMblfRXLbhEoFIdDTBdhldvzl+3CMg60ZktI2vNzLW6IIp0waLklot9L63yzuUp8dJd7bglPFe3hIXstBEP58/s6Ocyr4rH2+866ZNbriTzA0RSOWCwakMl1QJgculxPt8Z7O5GLdtW6bvU8R/nO1vb+hMExVAVtEAAAAASUVORK5CYII=");background-size:100%}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #5e7ce0}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #5e7ce0;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#5e7ce0}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#f2f5fc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #5e7ce0;background-color:#f2f5fc}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5e7ce0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ul li::marker{content:"â€¢";color:#5e7ce0}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]:before{display:inline-block;width:16px;height:16px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAhRJREFUeAHtnLEuBFEUhs9cu7JCskEhIrZAgYZGoREPwBuIygOoPITKA6jEG/AAolFoaFCgICIKZBNiY8Pyz5rNOWe9wNz5T7N3Z2eT/b/7zZlpziat3xKWBDJoEyh5EDd3DTk5r8vV7Yc8vzbl6zvfwvSERIYHyzI90SeLc1WZrFV85PR9oi+N/YMnOT6t/3tiLAeXFqqytjrSFacDYmfvQS6u37tOiPHA7FS/bK6PmWhpj4AJRYGA9MiKzLpK6An+cqiNVmRleUhArrec6PNzt/5sttLgh0cvcvfY6Px+ZNY9I6Ax6gKErY1xmZ8ZyD0E5MJGIgsyIZsunT3g7qALJuTdAp0nWyMTsunS2QNukbpwOcRaPpvOHvxzQow2ZBvrs+nsfLL8o0QQBJFdMO1XGkEjaIQlQCMsD/YIGkEjLAEaYXmwR9AIGmEJ0AjLgz2CRtAIS4BGWB7sETSCRlgCNMLyYI+gETTCEqARlgd7BI2gEZYAjbA82CNoBI2wBGiE5cEeQSNohCVAIywP9ggaQSMsARphebBH0AgaYQnQCMsjYC5SF2agYi2fTWcPGA7VFfO0n8+mswdMyOrCNJwnpz/P6xqZkE2Xzh4w8qcLI4Hbu/dydvkWBRAAQBZk0uOOyKyzp5PARRiF1puNtR+NTh+oMCvtJ+D8F2N6j6x+PrwzG46gRTDDm5BtsAGBg0X924Qfj7i23p7HNgQAAAAASUVORK5CYII=");background-size:100%;position:relative;right:2px;top:-5px}.markdown-body input[type=checkbox]:checked:before{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAABMtJREFUeAHtXM2KFDEQzrQKruIu4mEXRFlUVLz4A4K7B99AcO8io0/gwQfxDVzFuwu+gQf34EG8iOAPKAh6EFlBFMSf/qa2uqszlVR6ZtYxM5PDJNVVSer78nU6KrHzpyxuVlwx44AY2O0T8eb9D7f5fMu9fPvdff7y0/36nbdgdhUdd+jgHnf62JxbObvgjh/d60Pu2R35ajx49Mk9frqlBk7Kw8sXF9y1K4t9cCoi7tz/4F68/tYXMIkPzpzY725dP9yA1tsjoIRpIQHogRWYZSmwJ4Reh06nI2Nd7rYEA8zAzqXAxhgq/pc1d9vHKbEX+Dr4JbzypJDc/YxXYi/wifRLeOXpU5q7n/FK7EXsnBBeeRoqd7/EHj1ZhleeiMjdz8pArRKR+0pb+UsCuK0SkftKW/kzeFmrRHCAxWzufsaJOkqExWzufpOI8EpP1jnCJCK80pN1jjCJ4ICwMigidz/jRD3bI7bZUInIfaWt/KUSuK0SEd4jqFvufgYva5UIDrCYzd3POFFHifhfV/7k8lwPw7D5mUSEV3r854ju2pK7ffOIWzk/X+Go803Lr+ooGqoiwkyP9xzRXVt0q9sE3CgJYTLqfNPyE/irpkoEe2um6ck4bSiBSeD8JBl41jY/Hgd1lIiaaeoyLlsjgUGAjEH3DB4DtUpEW2Z3Mj5GAgA8efbVvXpX/200nln5IMYvKhHDrvylcwdc9+pSNdeg46WQsP7wo2s7fpWYaPT926fw9ZiVk4BpywYJkGuvlJs4EuWS0p/HTyHh3kbzH2najM85cR0lgpPiYMtukFB26m1u5Ua+vkFkWP3Zn0KCJDg1Px6f42Wtvhrhdyz8ncanrFKCmGH1wrwDMCrh/uxPIUFTAvdHbeVPsc1fVRE+c7Ud/k6fWt7XHFlYqcqQ5wTRvWpiY4wrIZwfDUL+akDRUBXB/jCzFCH9SHCzTDRUmsro7z+cEvrHwxOZn2ZTL/pVFcEBtRLoiWXfxQ5ehvoHHx4vpIwUEuJKSMvPz5/zQq0qwmIy5m+rjBQSwnsCQYnlgwjfT72av6oifOba2qnKcOXeGVIP0rT3BALTNr8mBWSpRHAgmJSTtLGhDHwj+A9GPCbX2DNiBSRoShg0H8zl5y/njxIhJ0WntralDJmIbO+UEvz85Zwt9wj7HIDB5Ttp7RkyGbRDSqC49vOjX50P9aexmr+qInzmajvtO13H02SpyrCVMNj8dT7/4BwByDXzRIC0LWXEldA/njVfip9GpV9VERxQM0lPhrVDyrCVMJr5/fwZJ+qWewR1lSuNJ21sXxnjVgIhck5VhM/cqG1WBpIAMX4Z9Xz+eP58sFUiOBArLQcZpQ0CNCXt1HzA5OfPOFGrrwYHyKTwbNJsxolaJUJbKeo0mu/4uMeXBHBbJSK88qP5jo97fAYva5UIDgivHEXk7mecqKNEhFeOhsjdbxKR+0pb+UsCuK0qIveVtvJn8LJWieAAi9nc/YwTdZQIi9nc/SYR4ZWenSO2yZvgcwTuRYZKWBnUI3e/xF7gcmio5L4HWPlL7AVuyPol95W28me8EnuBa8J+sZjM3c94JfYCd6VxTXjaCjDLe+K9cwTuSuOa8LQUYPXvh1d3w0HC7JK8kMK0/rcJfwHkVMYgi4xhOgAAAABJRU5ErkJggg==");background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-light">.hljs-comment,.hljs-quote{color:#696969}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d91e18}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa5d00}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:green}.hljs-section,.hljs-title{color:#007faa}.hljs-keyword,.hljs-selector-tag{color:#7928a1}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fefefe;color:#545454}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><p>å¼•è¨€ï¼š
åœ¨ Python é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œ<code>__slots__</code>æ˜¯ä¸€ä¸ªæ˜“è¢«å¿½è§†ä½†æå…·å®ç”¨ä»·å€¼çš„ç‰¹æ€§ â€”â€” å®ƒæ—¢èƒ½å¤§å¹…å‡å°‘ç±»å®ä¾‹çš„å†…å­˜å ç”¨ï¼Œåˆèƒ½ä¸¥æ ¼ç®¡æ§å®ä¾‹å¯æ‹¥æœ‰çš„å±æ€§ï¼Œé¿å…æ„å¤–çš„å±æ€§æ–°å¢ã€‚æœ¬æ–‡èšç„¦<code>__slots__</code>è¿™ä¸€æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œä»åº•å±‚åŸç†ã€ä½¿ç”¨æ–¹å¼åˆ°æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼Œå¸¦ä½ æŒæ¡è¿™ä¸€æå‡ Python ç¨‹åºæ•ˆç‡çš„å…³é”®æŠ€å·§ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€<code>__slots__</code>çš„æ ¸å¿ƒèƒŒæ™¯ï¼šPython å®ä¾‹çš„é»˜è®¤å­˜å‚¨æ–¹å¼</h2>
<p>Python ä¸­æ™®é€šç±»çš„å®ä¾‹é»˜è®¤ä½¿ç”¨<strong>å­—å…¸ï¼ˆ<code>__dict__</code>ï¼‰</strong> Â å­˜å‚¨å±æ€§ï¼Œå­—å…¸çš„ä¼˜åŠ¿æ˜¯çµæ´»ï¼ˆå¯éšæ—¶æ–°å¢ / åˆ é™¤å±æ€§ï¼‰ï¼Œä½†ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼š</p>
<ul>
<li><strong>å†…å­˜å ç”¨é«˜</strong>ï¼šå­—å…¸ä¸ºäº†å“ˆå¸Œè¡¨çš„é«˜æ•ˆæŸ¥æ‰¾ï¼Œä¼šé¢„ç•™å¤§é‡ç©ºé—²ç©ºé—´ï¼Œå•ä¸ªå®ä¾‹çš„å†…å­˜å¼€é”€è¿œå¤§äºå®é™…å­˜å‚¨çš„å±æ€§æ•°æ®ï¼›</li>
<li><strong>å±æ€§æ— ç®¡æ§</strong>ï¼šå¯éšæ„ç»™å®ä¾‹æ–°å¢å±æ€§ï¼Œå®¹æ˜“å› æ‹¼å†™é”™è¯¯ï¼ˆå¦‚æŠŠ<code>name</code>å†™æˆ<code>naem</code>ï¼‰å¼•å…¥éš¾ä»¥æ’æŸ¥çš„ bugã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ™®é€šç±»å®ä¾‹çš„å±æ€§å­˜å‚¨æ–¹å¼</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, age</span>):
        self.name = name
        self.age = age

p = Person(<span class="hljs-string">"Alice"</span>, <span class="hljs-number">25</span>)
<span class="hljs-comment"># å®ä¾‹çš„å±æ€§å­˜å‚¨åœ¨__dict__å­—å…¸ä¸­</span>
<span class="hljs-built_in">print</span>(p.__dict__)  <span class="hljs-comment"># è¾“å‡ºï¼š{'name': 'Alice', 'age': 25}</span>

<span class="hljs-comment"># å¯éšæ„æ–°å¢å±æ€§ï¼ˆçµæ´»æ€§é«˜ï¼Œä½†æ˜“å‡ºé”™ï¼‰</span>
p.gender = <span class="hljs-string">"female"</span>
<span class="hljs-built_in">print</span>(p.__dict__)  <span class="hljs-comment"># è¾“å‡ºï¼š{'name': 'Alice', 'age': 25, 'gender': 'female'}</span>
</code></pre>
<p>è€Œ<code>__slots__</code>çš„æ ¸å¿ƒä½œç”¨ï¼Œå°±æ˜¯ç”¨<strong>å›ºå®šå¤§å°çš„æ•°ç»„</strong>æ›¿ä»£å­—å…¸å­˜å‚¨å±æ€§ï¼Œè§£å†³ä¸Šè¿°ä¸¤ä¸ªé—®é¢˜ã€‚</p>
<h2 data-id="heading-1">äºŒã€<code>__slots__</code>çš„åŸºç¡€ä½¿ç”¨</h2>
<h3 data-id="heading-2">1. åŸºæœ¬å®šä¹‰ä¸æ•ˆæœ</h3>
<p><code>__slots__</code>æ˜¯ç±»çº§åˆ«çš„å±æ€§ï¼Œéœ€å®šä¹‰ä¸º<strong>å­—ç¬¦ä¸²åˆ—è¡¨ / å…ƒç»„</strong>ï¼Œåˆ—å‡ºå®ä¾‹å…è®¸æ‹¥æœ‰çš„æ‰€æœ‰å±æ€§åã€‚å®šä¹‰åï¼š</p>
<ul>
<li>å®ä¾‹åªèƒ½æ‹¥æœ‰<code>__slots__</code>ä¸­æŒ‡å®šçš„å±æ€§ï¼Œæ— æ³•æ–°å¢å…¶ä»–å±æ€§ï¼›</li>
<li>å®ä¾‹ä¸å†ç”Ÿæˆ<code>__dict__</code>ï¼ˆèŠ‚çœå†…å­˜ï¼‰ï¼›</li>
<li>å®ä¾‹çš„å±æ€§å­˜å‚¨åœ¨æ•°ç»„ä¸­ï¼Œè®¿é—®é€Ÿåº¦æ›´å¿«ã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>:
    <span class="hljs-comment"># å®šä¹‰slotsï¼ŒæŒ‡å®šå®ä¾‹ä»…å…è®¸æ‹¥æœ‰nameå’Œageå±æ€§</span>
    __slots__ = (<span class="hljs-string">"name"</span>, <span class="hljs-string">"age"</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, age</span>):
        self.name = name
        self.age = age

<span class="hljs-comment"># æ­£å¸¸ä½¿ç”¨æŒ‡å®šçš„å±æ€§</span>
p = Person(<span class="hljs-string">"Bob"</span>, <span class="hljs-number">30</span>)
<span class="hljs-built_in">print</span>(p.name)  <span class="hljs-comment"># è¾“å‡ºï¼šBob</span>
<span class="hljs-built_in">print</span>(p.age)   <span class="hljs-comment"># è¾“å‡ºï¼š30</span>

<span class="hljs-comment"># å°è¯•æ–°å¢æœªåœ¨slotsä¸­å®šä¹‰çš„å±æ€§ï¼Œä¼šæŠ¥é”™</span>
<span class="hljs-keyword">try</span>:
    p.gender = <span class="hljs-string">"male"</span>
<span class="hljs-keyword">except</span> AttributeError <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(e)  <span class="hljs-comment"># è¾“å‡ºï¼š'Person' object has no attribute 'gender'</span>

<span class="hljs-comment"># å®ä¾‹ä¸å†æœ‰__dict__å±æ€§</span>
<span class="hljs-keyword">try</span>:
    <span class="hljs-built_in">print</span>(p.__dict__)
<span class="hljs-keyword">except</span> AttributeError <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(e)  <span class="hljs-comment"># è¾“å‡ºï¼š'Person' object has no attribute '__dict__'</span>
</code></pre>
<h3 data-id="heading-3">2. å¤šç»§æ‰¿åœºæ™¯ä¸‹çš„<code>__slots__</code></h3>
<p>è‹¥å­ç±»ç»§æ‰¿äº†å¤šä¸ªçˆ¶ç±»ï¼Œå­ç±»çš„<code>__slots__</code>ä¼šåˆå¹¶æ‰€æœ‰çˆ¶ç±»çš„<code>__slots__</code>ï¼Œä½†éœ€æ³¨æ„ï¼š</p>
<ul>
<li>å­ç±»æœªå®šä¹‰<code>__slots__</code>æ—¶ï¼Œå®ä¾‹ä¼šæ¢å¤<code>__dict__</code>ï¼Œçˆ¶ç±»çš„<code>__slots__</code>å¤±æ•ˆï¼›</li>
<li>å­ç±»å®šä¹‰<code>__slots__</code>æ—¶ï¼Œå®ä¾‹çš„å±æ€§èŒƒå›´ä¸º â€œå­ç±» slots + æ‰€æœ‰çˆ¶ç±» slotsâ€ã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># çˆ¶ç±»1</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Parent1</span>:
    __slots__ = (<span class="hljs-string">"a"</span>, <span class="hljs-string">"b"</span>)

<span class="hljs-comment"># çˆ¶ç±»2</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Parent2</span>:
    __slots__ = (<span class="hljs-string">"b"</span>, <span class="hljs-string">"c"</span>)

<span class="hljs-comment"># å­ç±»ï¼šå®šä¹‰è‡ªå·±çš„slots</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Child</span>(Parent1, Parent2):
    __slots__ = (<span class="hljs-string">"d"</span>,)  <span class="hljs-comment"># åˆå¹¶åå…è®¸çš„å±æ€§ï¼šaã€bã€cã€d</span>

c = Child()
c.a = <span class="hljs-number">1</span>
c.b = <span class="hljs-number">2</span>
c.c = <span class="hljs-number">3</span>
c.d = <span class="hljs-number">4</span>
<span class="hljs-built_in">print</span>(c.a, c.b, c.c, c.d)  <span class="hljs-comment"># è¾“å‡ºï¼š1 2 3 4</span>

<span class="hljs-comment"># å­ç±»ï¼šæœªå®šä¹‰slotsï¼ˆçˆ¶ç±»slotså¤±æ•ˆï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Child2</span>(<span class="hljs-title class_ inherited__">Parent1</span>):
    <span class="hljs-keyword">pass</span>

c2 = Child2()
c2.a = <span class="hljs-number">1</span>
c2.xxx = <span class="hljs-number">999</span>  <span class="hljs-comment"># å¯æ–°å¢ä»»æ„å±æ€§</span>
<span class="hljs-built_in">print</span>(c2.xxx)  <span class="hljs-comment"># è¾“å‡ºï¼š999</span>
<span class="hljs-built_in">print</span>(c2.__dict__)  <span class="hljs-comment"># è¾“å‡ºï¼š{'xxx': 999}</span>
</code></pre>
<h2 data-id="heading-4">ä¸‰ã€<code>__slots__</code>çš„æ ¸å¿ƒä»·å€¼ï¼šå†…å­˜ä¸æ€§èƒ½ä¼˜åŒ–</h2>
<h3 data-id="heading-5">1. å†…å­˜ä¼˜åŒ–å®æˆ˜</h3>
<p>å¯¹äºéœ€è¦åˆ›å»ºå¤§é‡å®ä¾‹çš„åœºæ™¯ï¼ˆå¦‚æ•°æ®å¤„ç†ã€çˆ¬è™«å­˜å‚¨ï¼‰ï¼Œ<code>__slots__</code>çš„å†…å­˜ä¼˜åŒ–æ•ˆæœæå…¶æ˜¾è‘—ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> sys

<span class="hljs-comment"># æ™®é€šç±»ï¼ˆæ— slotsï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">NormalClass</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x, y</span>):
        self.x = x
        self.y = y

<span class="hljs-comment"># å¸¦slotsçš„ç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SlotsClass</span>:
    __slots__ = (<span class="hljs-string">"x"</span>, <span class="hljs-string">"y"</span>)
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x, y</span>):
        self.x = x
        self.y = y

<span class="hljs-comment"># æµ‹è¯•å•ä¸ªå®ä¾‹çš„å†…å­˜å ç”¨</span>
n = NormalClass(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)
s = SlotsClass(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ™®é€šå®ä¾‹å†…å­˜å ç”¨ï¼š<span class="hljs-subst">{sys.getsizeof(n) + sys.getsizeof(n.__dict__)}</span> å­—èŠ‚"</span>)
<span class="hljs-comment"># è¾“å‡ºçº¦ï¼š56ï¼ˆå®ä¾‹æœ¬èº«ï¼‰ + 48ï¼ˆ__dict__ï¼‰= 104 å­—èŠ‚</span>

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Slotså®ä¾‹å†…å­˜å ç”¨ï¼š<span class="hljs-subst">{sys.getsizeof(s)}</span> å­—èŠ‚"</span>)
<span class="hljs-comment"># è¾“å‡ºçº¦ï¼š48 å­—èŠ‚ï¼ˆæ— __dict__ï¼Œä»…å­˜å‚¨xã€yï¼‰</span>

<span class="hljs-comment"># æµ‹è¯•10ä¸‡ä¸ªå®ä¾‹çš„å†…å­˜å ç”¨</span>
<span class="hljs-keyword">import</span> memory_profiler

<span class="hljs-meta">@memory_profiler.profile</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_normal_instances</span>():
    <span class="hljs-comment"># åˆ›å»º10ä¸‡ä¸ªæ™®é€šå®ä¾‹</span>
    instances = [NormalClass(i, i+<span class="hljs-number">1</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100000</span>)]
    <span class="hljs-keyword">return</span> instances

<span class="hljs-meta">@memory_profiler.profile</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_slots_instances</span>():
    <span class="hljs-comment"># åˆ›å»º10ä¸‡ä¸ªslotså®ä¾‹</span>
    instances = [SlotsClass(i, i+<span class="hljs-number">1</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100000</span>)]
    <span class="hljs-keyword">return</span> instances

<span class="hljs-comment"># æ‰§è¡Œæµ‹è¯•ï¼ˆè¿è¡Œåå¯çœ‹åˆ°å†…å­˜ä½¿ç”¨å·®å¼‚ï¼‰</span>
<span class="hljs-comment"># create_normal_instances()  # çº¦å ç”¨80MB+å†…å­˜</span>
<span class="hljs-comment"># create_slots_instances()   # çº¦å ç”¨40MB+å†…å­˜ï¼ˆèŠ‚çœçº¦50%ï¼‰</span>
</code></pre>
<p><strong>ç»“è®º</strong>ï¼šå¸¦<code>__slots__</code>çš„ç±»å®ä¾‹ï¼Œå†…å­˜å ç”¨é€šå¸¸èƒ½å‡å°‘ 50% ä»¥ä¸Šï¼Œå®ä¾‹æ•°é‡è¶Šå¤šï¼Œä¼˜åŒ–æ•ˆæœè¶Šæ˜æ˜¾ã€‚</p>
<h3 data-id="heading-6">2. è®¿é—®æ€§èƒ½ä¼˜åŒ–</h3>
<p>ç”±äº<code>__slots__</code>ç”¨æ•°ç»„å­˜å‚¨å±æ€§ï¼ˆç›´æ¥é€šè¿‡ç´¢å¼•è®¿é—®ï¼‰ï¼Œè€Œéå­—å…¸ï¼ˆå“ˆå¸ŒæŸ¥æ‰¾ï¼‰ï¼Œå±æ€§è®¿é—®é€Ÿåº¦ä¹Ÿä¼šå°å¹…æå‡ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> timeit

<span class="hljs-comment"># æµ‹è¯•å±æ€§è®¿é—®é€Ÿåº¦</span>
setup = <span class="hljs-string">"""
class NormalClass:
    def __init__(self, x):
        self.x = x

class SlotsClass:
    __slots__ = ("x",)
    def __init__(self, x):
        self.x = x

n = NormalClass(10)
s = SlotsClass(10)
"""</span>

<span class="hljs-comment"># æµ‹è¯•æ™®é€šå®ä¾‹è®¿é—®å±æ€§</span>
normal_time = timeit.timeit(<span class="hljs-string">"n.x"</span>, setup=setup, number=<span class="hljs-number">10000000</span>)
<span class="hljs-comment"># æµ‹è¯•slotså®ä¾‹è®¿é—®å±æ€§</span>
slots_time = timeit.timeit(<span class="hljs-string">"s.x"</span>, setup=setup, number=<span class="hljs-number">10000000</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ™®é€šå®ä¾‹è®¿é—®è€—æ—¶ï¼š<span class="hljs-subst">{normal_time:<span class="hljs-number">.2</span>f}</span> ç§’"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Slotså®ä¾‹è®¿é—®è€—æ—¶ï¼š<span class="hljs-subst">{slots_time:<span class="hljs-number">.2</span>f}</span> ç§’"</span>)
<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹ï¼šæ™®é€šå®ä¾‹è€—æ—¶1.20ç§’ï¼ŒSlotså®ä¾‹è€—æ—¶0.80ç§’ï¼ˆå¿«çº¦30%ï¼‰</span>
</code></pre>
<h2 data-id="heading-7">å››ã€<code>__slots__</code>çš„ä½¿ç”¨æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-8">1. ä¿ç•™ç‰¹æ®Šå±æ€§</h3>
<p>è‹¥éœ€è¦å®ä¾‹ä¿ç•™<code>__dict__</code>æˆ–<code>__weakref__</code>ï¼ˆå¼±å¼•ç”¨ï¼‰ï¼Œéœ€åœ¨<code>__slots__</code>ä¸­æ˜¾å¼å£°æ˜ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>:
    <span class="hljs-comment"># ä¿ç•™__dict__ï¼ˆå…è®¸æ–°å¢å±æ€§ï¼‰ + ç®¡æ§æŒ‡å®šå±æ€§</span>
    __slots__ = (<span class="hljs-string">"name"</span>, <span class="hljs-string">"age"</span>, <span class="hljs-string">"__dict__"</span>)

p = Person(<span class="hljs-string">"Alice"</span>, <span class="hljs-number">25</span>)
p.gender = <span class="hljs-string">"female"</span>  <span class="hljs-comment"># å¯æ–°å¢å±æ€§ï¼ˆå› __dict__å­˜åœ¨ï¼‰</span>
<span class="hljs-built_in">print</span>(p.gender)  <span class="hljs-comment"># è¾“å‡ºï¼šfemale</span>
<span class="hljs-built_in">print</span>(p.__dict__)  <span class="hljs-comment"># è¾“å‡ºï¼š{'gender': 'female'}</span>
</code></pre>
<h3 data-id="heading-9">2. ä¸å¯å˜å±æ€§çš„å®ç°</h3>
<p>è‹¥éœ€è¦å±æ€§åªè¯»ï¼Œå¯ç»“åˆ<code>property</code>å’Œ<code>slots</code>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ReadOnlyClass</span>:
    __slots__ = (<span class="hljs-string">"_x"</span>,)  <span class="hljs-comment"># ç§æœ‰å±æ€§å­˜å‚¨å€¼</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x</span>):
        self._x = x

<span class="hljs-meta">    @property</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">x</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">return</span> self._x

roc = ReadOnlyClass(<span class="hljs-number">10</span>)
<span class="hljs-built_in">print</span>(roc.x)  <span class="hljs-comment"># è¾“å‡ºï¼š10</span>

<span class="hljs-comment"># å°è¯•ä¿®æ”¹xä¼šæŠ¥é”™ï¼ˆæ— setterï¼‰</span>
<span class="hljs-keyword">try</span>:
    roc.x = <span class="hljs-number">20</span>
<span class="hljs-keyword">except</span> AttributeError <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(e)  <span class="hljs-comment"># è¾“å‡ºï¼šcan't set attribute</span>

<span class="hljs-comment"># å°è¯•ç›´æ¥ä¿®æ”¹ç§æœ‰å±æ€§ä¹Ÿä¼šæŠ¥é”™ï¼ˆslotsä»…ç®¡æ§_xï¼Œä½†è‹¥å‘½åä¸ºç§æœ‰ï¼Œå¤–éƒ¨ä¸åº”è®¿é—®ï¼‰</span>
<span class="hljs-keyword">try</span>:
    roc._x = <span class="hljs-number">20</span>
<span class="hljs-keyword">except</span> AttributeError <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(e)  <span class="hljs-comment"># è¾“å‡ºï¼š'ReadOnlyClass' object attribute '_x' is read-only</span>
</code></pre>
<h3 data-id="heading-10">3. é€‚ç”¨åœºæ™¯ä¸å±€é™æ€§</h3>
<h4 data-id="heading-11">é€‚ç”¨åœºæ™¯ï¼š</h4>
<ul>
<li>éœ€è¦åˆ›å»º<strong>å¤§é‡å®ä¾‹</strong>çš„ç±»ï¼ˆå¦‚æ•°æ®æ¨¡å‹ã€ç¼“å­˜å¯¹è±¡ï¼‰ï¼›</li>
<li>å¯¹<strong>å†…å­˜å ç”¨æ•æ„Ÿ</strong>çš„åœºæ™¯ï¼ˆå¦‚åµŒå…¥å¼ Pythonã€ä½å†…å­˜æœåŠ¡å™¨ï¼‰ï¼›</li>
<li>éœ€è¦<strong>ä¸¥æ ¼ç®¡æ§å±æ€§</strong>ï¼Œé¿å…æ„å¤–æ–°å¢å±æ€§çš„åœºæ™¯ã€‚</li>
</ul>
<h4 data-id="heading-12">å±€é™æ€§ï¼š</h4>
<ul>
<li>çµæ´»æ€§é™ä½ï¼šæ— æ³•åŠ¨æ€æ–°å¢å±æ€§ï¼ˆé™¤éæ˜¾å¼å£°æ˜<code>__dict__</code>ï¼‰ï¼›</li>
<li>ä»…å½±å“å®ä¾‹ï¼š<code>__slots__</code>ä¸é™åˆ¶ç±»å±æ€§çš„æ–°å¢ï¼›</li>
<li>ç»§æ‰¿éœ€æ³¨æ„ï¼šå­ç±»æœªå®šä¹‰<code>__slots__</code>ä¼šæ¢å¤<code>__dict__</code>ï¼Œå¯¼è‡´çˆ¶ç±»ä¼˜åŒ–å¤±æ•ˆã€‚</li>
</ul>
<h2 data-id="heading-13">æ€»ç»“</h2>
<ol>
<li><code>__slots__</code>æ˜¯ç±»çº§åˆ«çš„å±æ€§ï¼Œç”¨äºæŒ‡å®šå®ä¾‹å…è®¸æ‹¥æœ‰çš„å±æ€§åˆ—è¡¨ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯<strong>æ›¿ä»£__dict__å­˜å‚¨å±æ€§</strong>ï¼›</li>
<li>ä¸»è¦ä¼˜åŠ¿ï¼šå¤§å¹…<strong>å‡å°‘å®ä¾‹å†…å­˜å ç”¨</strong>ï¼ˆé€šå¸¸ 50% ä»¥ä¸Šï¼‰ã€å°å¹…æå‡å±æ€§è®¿é—®é€Ÿåº¦ã€ä¸¥æ ¼ç®¡æ§å®ä¾‹å±æ€§ï¼›</li>
<li>ä½¿ç”¨è¦ç‚¹ï¼šå¤šç»§æ‰¿æ—¶ä¼šåˆå¹¶çˆ¶ç±» slotsï¼Œéœ€ä¿ç•™__dict__å¯å…è®¸åŠ¨æ€æ–°å¢å±æ€§ï¼Œç»“åˆ property å¯å®ç°åªè¯»å±æ€§ï¼›</li>
<li>é€‚ç”¨åœºæ™¯ï¼šå¤§é‡å®ä¾‹åˆ›å»ºã€å†…å­˜æ•æ„Ÿåœºæ™¯ã€å±æ€§ç®¡æ§éœ€æ±‚ï¼Œæ™®é€šå°ä½“é‡ç±»æ— éœ€è¿‡åº¦ä½¿ç”¨</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è´·æ¬¾ä¸Šç­çš„æˆ‘ä¸AIåŒè¡Œçš„æ—¥å­]]></title>    <link>https://juejin.cn/post/7591079707699609610</link>    <guid>https://juejin.cn/post/7591079707699609610</guid>    <pubDate>2026-01-04T05:48:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591079707699609610" data-draft-id="7591207451777974298" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è´·æ¬¾ä¸Šç­çš„æˆ‘ä¸AIåŒè¡Œçš„æ—¥å­"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜,äººå·¥æ™ºèƒ½,æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2026-01-04T05:48:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸æƒ‘_"/> <meta itemprop="url" content="https://juejin.cn/user/1471609400466218"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è´·æ¬¾ä¸Šç­çš„æˆ‘ä¸AIåŒè¡Œçš„æ—¥å­
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1471609400466218/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸æƒ‘_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T05:48:36.000Z" title="Sun Jan 04 2026 05:48:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨è¿™ä¸ªæ—©æ™¨ï¼Œé—¹é’Ÿè¿˜æ²¡å“ï¼Œæˆ‘çš„ç”Ÿç‰©é’Ÿå°±å…ˆä¸€æ­¥æŠŠæˆ‘å«é†’äº†ã€‚æ‘¸äº†æ‘¸å¤´é¡¶é‚£ç‰‡æ—¥ç›Šè’èŠœçš„ä¸æ¯›ä¹‹åœ°ï¼Œæˆ‘å¹äº†å£æ°”ã€‚æˆ‘æ˜¯ä¸æƒ‘ï¼Œä¸€ä¸ªåœ¨äº’è”ç½‘æµªæ½®é‡Œæ‰‘è…¾äº†åå¹´çš„è€ç¨‹åºå‘˜ï¼Œäººé€å¤–å·äººå½¢é”®ç›˜ä¾ ï¼Œç°åœ¨è‡ªå˜²æ˜¯è´·æ¬¾ä¸Šç­çš„AIç¼–ç¨‹ä¸æƒ‘ã€‚</p>
<p>ä»¥å‰å’±ä»¬ä¸Šç­ï¼Œé‚£æ˜¯å‡ºå–åŠ³åŠ¨åŠ›æ¢é’±ï¼›ç°åœ¨å€’å¥½ï¼Œä¸ºäº†èƒ½æ›´å¥½åœ°å‡ºå–åŠ³åŠ¨åŠ›ï¼Œè¿˜å¾—è‡ªå·±å…ˆæè…°åŒ…æŠŠç”Ÿäº§å·¥å…·ç»™ç»­è´¹äº†ã€‚</p>
<p>ä»Šå¤©å’±ä»¬ä¸èŠä»€ä¹ˆé«˜å¤§ä¸Šçš„æŠ€æœ¯è¶‹åŠ¿ï¼Œä¹Ÿä¸æ‰¯ä»€ä¹ˆäººç±»æœªæ¥çš„å®å¤§å™äº‹ã€‚å°±æƒ³è·Ÿå¤§ä¼™å„¿åä¸‹æ¥ï¼Œå—‘ç€ç“œå­ï¼Œæ‰’ä¸€æ‰’æˆ‘è¿™ä¸ªå…¸å‹çš„èŒåœºç‰›é©¬ï¼Œæ¯ä¸ªæœˆåˆ°åº•è¦ç»™è¿™äº›AIç¥–å®—ä»¬è¿›è´¡å¤šå°‘é“¶å­ï¼Œä»¥åŠè¿™èƒŒåçš„é…¸ç”œè‹¦è¾£ã€‚</p>
<p>è¯´å®è¯ï¼Œè¿™ç¬”è´¦æˆ‘ä¸ç®—ä¸çŸ¥é“ï¼Œä¸€ç®—é‚£æ˜¯çœŸçš„ä¸€æ¿€çµã€‚</p>
<h3 data-id="heading-0">ä¸€ã€ ç—›å¹¶å¿«ä¹ç€çš„èµ›åšä¹‰è‚¢</h3>
<p>å¯¹äºä¸€ä¸ªé å†™ä»£ç æ°é¥­çš„äººæ¥è¯´ï¼ŒIDEå°±æ˜¯æ‰‹é‡Œçš„æªã€‚ä½†ç°åœ¨è¿™æŠŠæªï¼Œè¦æ˜¯æ²¡è£…ä¸ŠAIå€é•œï¼Œé‚£è·Ÿçƒ§ç«æ£å„¿ä¹Ÿæ²¡å•¥åŒºåˆ«ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/138c0d84ff30442cae98268f65054f43~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768110515&amp;x-signature=2L2XsQKSNaHdI8yodziqjFpmHQY%3D" alt="image.png" loading="lazy"/></p>
<p>å’±ä»¬å…ˆè¯´è¯´æˆ‘è¿™æ¯ä¸ªæœˆæœ€å¤§çš„å•ç¬”æŠ€æœ¯æ”¯å‡º____<strong>ClaudeCode &amp; Codex</strong>ã€‚</p>
<p>è¿™ç©æ„å„¿è¿˜æ˜¯éå®˜æ–¹æ¸ é“ææ¥çš„ï¼Œä¸€ä¸ªæœˆå¤§æ¦‚è¦çƒ§æ‰æˆ‘ <strong>Â¥300 å¤§æ´‹</strong>ã€‚å¬åˆ°è¿™ä¸ªæ•°ï¼Œä¼°è®¡æœ‰äººè¦éª‚æˆ‘å¤§å†¤ç§äº†ã€‚ä½ è¯´å®˜æ–¹çš„ä¸èƒ½ç”¨å—ï¼Ÿå“ï¼Œåˆ«æäº†ï¼Œé‚£æ˜¯çœŸç”¨ä¸èµ·ã€‚å’±ä»¬è¿™ç§ä¸ªä½“æˆ·æˆ–è€…å°å›¢é˜Ÿï¼Œæ¯ä¸€åˆ†é’±éƒ½å¾—æ°æˆä¸¤åŠèŠ±ã€‚</p>
<p>ä½†è¿™ Â¥300 èŠ±å¾—æˆ‘æ˜¯åˆçˆ±åˆæ¨ã€‚çˆ±çš„æ˜¯ï¼Œå®ƒç°åœ¨çš„é€»è¾‘èƒ½åŠ›æ˜¯çœŸå¼ºï¼Œæœ‰æ—¶å€™æˆ‘è„‘å­ä¸€å›¢æµ†ç³Šï¼Œä¸¢ç»™å®ƒä¸€æ®µç¨€ç¢çš„éœ€æ±‚ï¼Œå®ƒèƒ½åƒä¸ªè€ç»ƒçš„æ¶æ„å¸ˆä¸€æ ·ç»™æˆ‘æ¢³ç†å¾—äº•äº•æœ‰æ¡ã€‚æ¨çš„æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ä¸ç¨³å•Šï¼</p>
<p>è¿™å°±å¥½æ¯”ä½ é›‡äº†ä¸ªç»ä¸–é«˜æ‰‹å½“ä¿é•–ï¼Œä½†è¿™ä¿é•–èº«ä½“ä¸å¥½ï¼ŒåŠ¨ä¸åŠ¨å°±æ™•å€’ã€‚å¥½å‡ æ¬¡èµ¶é¡¹ç›®è¿›åº¦ï¼Œå¤œæ·±äººé™ï¼Œæˆ‘æ­£ä»£ç æ•²å¾—é£èµ·ï¼Œçµæ„Ÿå¦‚å°¿å´©ï¼Œçªç„¶å®ƒç»™æˆ‘æ¥ä¸ªè¿æ¥è¶…æ—¶æˆ–è€…é¢åº¦è€—å°½ã€‚é‚£ä¸€åˆ»ï¼Œæˆ‘çœ‹ç€å±å¹•ä¸Šè½¬åœˆçš„é‚£ä¸ªå°åœ†ç‚¹ï¼Œå¿ƒæ€çœŸçš„å´©äº†ï¼Œæƒ³ç ¸é”®ç›˜åˆèˆä¸å¾—ï¼ˆé”®ç›˜ä¹ŸæŒºè´µçš„ï¼‰ã€‚</p>
<p>è¿™æ—¶å€™ï¼Œå°±å¾—è¯·å‡ºæˆ‘çš„å¤‡èƒâ€”â€”<strong>Cursor</strong>ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f50a5ae9cf934d589878cdc75eda7331~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768110515&amp;x-signature=IpixnY7VRCfl1DB1%2FnEy6QGyJuY%3D" alt="image.png" loading="lazy"/>
å®ƒæ˜¯å®˜æ–¹æ­£ç‰ˆï¼Œä¸€ä¸ªæœˆ <strong>20åˆ€ï¼ˆçº¦ Â¥140ï¼‰</strong>ã€‚å¾ˆå¤šäººå¯èƒ½ä¼šé—®ï¼šä¸æƒ‘ï¼Œä½ éƒ½æœ‰é‚£ä¸ªè´µçš„äº†ï¼Œè¿˜ä¹°Cursorå¹²å•¥ï¼Ÿ</p>
<p>å˜¿ï¼Œè¿™å°±å«åŒä¿é™©ã€‚Cursor Pro è¿™ä¸ªä»·æ ¼ï¼Œæˆ‘è§‰å¾—æ˜¯çœŸè‰¯å¿ƒã€‚å®ƒç°åœ¨çš„åœ°ä½ï¼Œå°±åƒæ˜¯ä»¥å‰è½¦é‡Œçš„å¤‡èƒï¼Œæˆ–è€…æ˜¯å£è¢‹é‡Œçš„ç‘å£«å†›åˆ€ã€‚å½“é‚£ä¸ªéå®˜æ–¹çš„å¤§å“¥æ‰é“¾å­çš„æ—¶å€™ï¼ŒCursor å¿…é¡»å¾—é¡¶ä¸Šã€‚è€Œä¸”ï¼Œå¯¹äºä¸€äº›ç®€å•çš„ã€æµç¨‹åŒ–çš„ä»£ç è¡¥å…¨ï¼ŒCursor çš„ååº”é€Ÿåº¦æå¿«ï¼Œé‚£ç§è¡Œäº‘æµæ°´çš„è¡¥å…¨æ„Ÿï¼ŒçœŸçš„å¾ˆè§£å‹ã€‚</p>
<p>æœ‰æ—¶å€™æˆ‘å°±åœ¨æƒ³ï¼Œæˆ‘è¿™å“ªæ˜¯å†™ä»£ç å•Šï¼Œæˆ‘è¿™æ˜¯åœ¨ç©æ‹¼å›¾æ¸¸æˆã€‚å·¦æ‰‹é‚£ä¸ªä¸ç¨³å®šçš„å¤©æ‰ï¼Œå³æ‰‹è¿™ä¸ªå‹¤æ³çš„ç®¡å®¶ï¼Œæˆ‘å¤¹åœ¨ä¸­é—´ï¼Œåƒä¸ªç«¯æ°´å¤§å¸ˆï¼Œè¿˜è¦è‡ªå·±æé’±å…»ç€å®ƒä¿©ã€‚</p>
<h3 data-id="heading-1">äºŒã€ æ—©å·²ç¦»ä¸å¼€çš„ ChatGPT</h3>
<p>æ¥ç€èŠèŠ <strong>ChatGPT Plus</strong>ã€‚è¿™ä¸ªæ²¡å•¥æ‚¬å¿µï¼Œ<strong>20åˆ€</strong>ï¼Œé›·æ‰“ä¸åŠ¨ã€‚</p>
<p>è¿™é’±å¯¹äºæˆ‘æ¥è¯´ï¼Œå·²ç»ä¸å±äºå¯é€‰æ¶ˆè´¹äº†ï¼Œå®ƒå±äºæ°´ç”µç…¤ä¸€æ ·çš„åŸºç¡€è®¾æ–½ã€‚</p>
<p>æˆ‘ä¹Ÿè¯•è¿‡åˆ«çš„ï¼Œä»€ä¹ˆ Geminiï¼Œä»€ä¹ˆ Claude çš„å®˜æ–¹ç½‘é¡µç‰ˆï¼Œä½†ç”¨ç€ç”¨ç€ï¼Œæ€»è§‰å¾—å·®ç‚¹æ„æ€ã€‚å¯èƒ½æ˜¯å…ˆå…¥ä¸ºä¸»å§ï¼ŒChatGPT å°±åƒæ˜¯é‚£ä¸ªæœ€æ‡‚ä½ çš„è€ä¼™è®¡ã€‚</p>
<p>ç°åœ¨çš„æˆ‘ä¸å¤¸å¼ åœ°è¯´ï¼Œç”šè‡³æœ‰ç‚¹ç™¾åº¦PTSDã€‚é‡åˆ°é—®é¢˜ï¼Œç¬¬ä¸€ååº”ç»å¯¹ä¸æ˜¯å»æœç´¢æ¡†é‡Œè¾“å…³é”®è¯ï¼Œç„¶ååœ¨ä¸€å †å¹¿å‘Šé‡Œæ‰¾ç­”æ¡ˆï¼›è€Œæ˜¯ç›´æ¥ç”©ç»™ ChatGPTï¼šå–‚ï¼Œè¿™æŠ¥é”™å•¥æ„æ€ï¼Ÿç»™æˆ‘ä¸‰ä¸ªè§£å†³æ–¹æ¡ˆã€‚</p>
<p>å®ƒä¸ä»…æ˜¯æˆ‘çš„æœç´¢å¼•æ“ï¼Œè¿˜æ˜¯æˆ‘çš„ç¿»è¯‘å®˜ã€æˆ‘çš„æ¶¦è‰²ç¼–è¾‘ï¼Œç”šè‡³æ˜¯æˆ‘å‘ç‰¢éªšæ—¶çš„æ ‘æ´ã€‚ Â¥140 ä¹°ä¸€ä¸ª 24 å°æ—¶å¾…å‘½ã€ä»ä¸å‘è„¾æ°”ã€çŸ¥è¯†æ¸Šåšçš„åŠ©ç†ï¼Œè¿™ç¬”è´¦ï¼Œæ€ä¹ˆç®—éƒ½åˆ’ç®—ã€‚å“ªæ€•å®ƒæœ‰æ—¶å€™ä¼šä¸€æœ¬æ­£ç»åœ°èƒ¡è¯´å…«é“ï¼Œæˆ‘ä¹Ÿè®¤äº†ï¼Œæ¯•ç«Ÿè°è¿˜æ²¡ä¸ªçŠ¯æµ‘çš„æ—¶å€™å‘¢ï¼Ÿ
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/598c2d21ae91466e8b96f26007ad6d43~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768110515&amp;x-signature=guiJ1mWECMUQFsA4Pr7%2FocI8M%2Bg%3D" alt="image.png" loading="lazy"/>
ä½†æ˜¯...... æœ€æ–°ç‰ˆæœ¬çš„ChatGPTæˆ‘å·²ç»é€€è®¢äº†ï¼Œæ­£åœ¨ä½¿ç”¨Grokï¼Œå› ä¸ºæˆ‘æœ‰ç‚¹å„¿å—å¤Ÿ ChatGPT åˆå½“åˆç«‹çš„æ ·å­äº†ï¼Œè£…Xçš„æ„Ÿè§‰è¶Šæ¥è¶Šæµ“çƒˆäº†ï¼Œåˆ°å¤„éƒ½æ˜¯ G ç‚¹ä¸è®©é—®ï¼Œä¸€ä¼šå„¿è¯´å¤ªæš´åŠ›ï¼Œä¸€ä¼šå„¿è¯´è¿åè§„å®šï¼Œè£…ä»€ä¹ˆè£…å‘¢ï¼Œå‡ºæ¥å–çš„ï¼Œé’±éƒ½ä»˜äº†ï¼Œç¢°éƒ½ä¸ç»™ç¢°ï¼Œä»¥ä¸ºè‡ªå·±æ˜¯ç‰¹ä¹ˆä»€ä¹ˆçº¯æ´æ¨¡å‹ä¹ˆã€‚</p>
<h3 data-id="heading-2">ä¸‰ã€ å½“ç å†œæ‹¿èµ·äº†ç”»ç¬”</h3>
<p>åœ¨è¿™ä¸ªå…¨æ ˆå·æˆå…¨å¹²çš„å¹´ä»£ï¼Œå…‰ä¼šå†™ä»£ç å·²ç»ä¸å¤Ÿäº†ã€‚</p>
<p>æˆ‘è‡ªå·±åšçš„ä¸€äº›ç‹¬ç«‹äº§å“ï¼Œè¿˜æœ‰å¹³æ—¶å…¬ä¼—å·å‘æ–‡ç« ã€åšæµ·æŠ¥ï¼Œå°çº¢è–¯å•Šï¼Œæ€»ä¸èƒ½æ¯æ¬¡éƒ½å»æ±‚è®¾è®¡å¸ˆæœ‹å‹å§ï¼Ÿäººæƒ…å€ºæœ€éš¾è¿˜ã€‚äºæ˜¯ï¼Œæˆ‘æŠŠç›®å…‰æŠ•å‘äº† <strong>Lovart</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6c6d8a144044996b3895f1849988f35~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768110515&amp;x-signature=edwX9xWh4QJ4q6aCKBemh9BO46A%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ç©æ„å„¿ç®—æ˜¯è®¾è®¡ç•Œçš„Cursorï¼Œä¸€ä¸ªæœˆ <strong>27åˆ€</strong>ã€‚å®ƒå…¶å®æ˜¯ä¸ªèšåˆæ€ªï¼Œé‡Œé¢ä»€ä¹ˆ Nanobananaã€Midjourneyã€Sora2 éƒ½èƒ½ç©ã€‚</p>
<p>è¯´å®è¯ï¼Œå¯¹äºæˆ‘è¿™ç§å®¡ç¾è¿˜åœç•™åœ¨çº¢é…ç»¿èµ›ç‹—å±é˜¶æ®µçš„ç›´ç”·ç¨‹åºå‘˜æ¥è¯´ï¼ŒAIç»˜ç”»ç®€ç›´å°±æ˜¯é™ç»´æ‰“å‡»ã€‚ä»¥å‰åšä¸ªBannerï¼Œæ†‹åŠå¤©æ†‹å‡ºä¸€å¨ç¿”ï¼›ç°åœ¨æ•²æ•²æç¤ºè¯ï¼Œèµ›åšæœ‹å…‹é£ã€æç®€ä¸»ä¹‰ï¼Œå•ªä¸€ä¸‹ï¼Œå›¾å‡ºæ¥äº†ã€‚</p>
<p>æ¯æ¬¡çœ‹åˆ°é‚£ç²¾ç¾çš„ç”»é¢ï¼Œæˆ‘éƒ½æœ‰ä¸€ç§é”™è§‰ï¼šæˆ‘è«éæ˜¯ä¸ªè¢«ä»£ç è€½è¯¯çš„è‰ºæœ¯å®¶ï¼Ÿ</p>
<p>å½“ç„¶ï¼Œæ¸…é†’è¿‡æ¥åè¿˜å¾—çœ‹è´¦å•ã€‚è¿™ Â¥190 èŠ±å¾—å…¶å®æœ‰ç‚¹å¿ƒè™šã€‚å› ä¸ºæˆ‘ä¸åƒä¸“ä¸šè®¾è®¡å¸ˆé‚£æ ·å¤©å¤©ç”¨ï¼Œæœ‰æ—¶å€™ä¸€ä¸ªæœˆä¹Ÿå°±ç”¨é‚£ä¹ˆå‡ æ¬¡ã€‚æ¯åˆ°æ‰£æ¬¾æ—¥ï¼Œæˆ‘éƒ½ä¼šçŠ¹è±«ï¼šè¦ä¸ä¸‹ä¸ªæœˆåœäº†å§ï¼Ÿä½†ä¸€æƒ³åˆ°ä¸‡ä¸€å“ªå¤©æ€¥ç”¨åˆè¦å»æ±‚äººï¼Œå’¬å’¬ç‰™ï¼Œç»­å§ï¼è¿™å°±æ˜¯æˆå¹´äººçš„å¦¥åã€‚</p>
<h3 data-id="heading-3">å››ã€ æœ€å¤§çš„é‚£ä¸ªå‘</h3>
<p>å¦‚æœè¯´å‰é¢é‚£äº›å·¥å…·è´¹æ˜¯ç‰©ç†æ”»å‡»ï¼Œé‚£æ¥ä¸‹æ¥è¿™ä¸ªï¼Œå°±æ˜¯é­”æ³•ä¼¤å®³ï¼Œä¸”åˆ€åˆ€æš´å‡»ã€‚</p>
<p><strong>çŸ¥è¯†ä»˜è´¹ã€‚</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d10947164ec4a4380dc1cded7e7bd69~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768110515&amp;x-signature=u%2BXvOye%2FnzD9Nes1o25eG90t3L4%3D" alt="image.png" loading="lazy"/> <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2fd84226fd541b4a69e370ca108c6ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768110515&amp;x-signature=N%2FDxVWePf2pKx4QMkWKnawKc12s%3D" alt="image.png" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f302ad551d5486ca98a1c21c66270b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768110515&amp;x-signature=EJYxEfQ2uTe5ZeMU8vi8Ob3fzVw%3D" alt="image.png" loading="lazy"/>
è¿™ä¹Ÿæ˜¯æˆ‘è´¦å•é‡Œçš„å¤§å¤´ï¼Œå¹³æ‘Šä¸‹æ¥ä¸€ä¸ªæœˆå¾—æœ‰ <strong>Â¥1000</strong> å·¦å³ã€‚</p>
<p>åœ¨è¿™ä¸ªAIæ—¥æ–°æœˆå¼‚çš„æ—¶ä»£ï¼Œæˆ‘å°±åƒæ˜¯ä¸ªåœ¨é«˜é€Ÿå…¬è·¯ä¸Šéª‘è‡ªè¡Œè½¦çš„ï¼Œæ—è¾¹ä¸€è¾†è¾†æ³•æ‹‰åˆ©å‘¼å•¸è€Œè¿‡ã€‚æˆ‘æ…Œå•Šï¼æˆ‘æ€•æ˜å¤©é†’æ¥ï¼Œæˆ‘çš„æŠ€èƒ½æ ‘å°±è¢«è¿æ ¹æ‹”èµ·äº†ã€‚</p>
<p>äºæ˜¯ï¼Œæˆ‘æŠ¥å„ç§ç¤¾å›¢ï¼Œä¹°å„ç§ä¸“æ ã€‚åªè¦çœ‹åˆ°æ ‡é¢˜é‡Œæœ‰<em><strong>ç ´å±€ã€çº¢åˆ©ã€åº•å±‚é€»è¾‘ã€AIå˜ç°</strong></em>è¿™å‡ ä¸ªè¯ï¼Œæˆ‘çš„æ‰‹æŒ‡å°±ä¸å¬ä½¿å”¤åœ°å»ç‚¹æ”¯ä»˜æŒ‰é’®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c74b6ca1ec14db6ad1868057c824f61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768110515&amp;x-signature=G6fP%2FiKPvrKS0Npq%2B5F5RyMrn9s%3D" alt="image.png" loading="lazy"/></p>
<p>ä½†æ˜¯è¿™ Â¥1000 èŠ±å‡ºå»ï¼Œæˆ‘å°±çœŸå­¦ä¼šäº†å—ï¼Ÿ</p>
<p>å—¨ï¼Œè·Ÿä½ ä»¬äº¤ä¸ªå®åº•å„¿ã€‚å¾ˆå¤šè¯¾ï¼Œæˆ‘ä¹°å®Œå°±æ”¾åœ¨é‚£å„¿åƒç°äº†ã€‚å°±åƒå¥èº«æˆ¿åŠäº†å¡å°±ç­‰äºç»ƒäº†ä¸€æ ·ï¼Œä¹°äº†è¯¾ï¼Œæˆ‘å°±è§‰å¾—è‡ªå·±ä¼¼ä¹å·²ç»æŒæ¡äº†é‚£ä¸ªçŸ¥è¯†ï¼Œå¿ƒé‡Œé‚£ç§ç„¦è™‘æ„Ÿç¨å¾®ç¼“è§£äº†ä¸€ç‚¹ç‚¹ã€‚</p>
<p>ä¸å…¶è¯´æˆ‘åœ¨ä¸ºçŸ¥è¯†ä¹°å•ï¼Œä¸å¦‚è¯´æˆ‘åœ¨ä¸ºæˆ‘çš„<strong>å®‰å…¨æ„Ÿ</strong>ä¹°å•ã€‚è¿™æ˜¯ä¸€ç§æ˜‚è´µçš„å¿ƒç†æŒ‰æ‘©ã€‚</p>
<p>å¶å°”æ·±å¤œåæ€ï¼Œæˆ‘ä¹Ÿè§‰å¾—è‡ªå·±åƒä¸ªéŸ­èœã€‚ä½†è½¬å¿µä¸€æƒ³ï¼Œä¸‡ä¸€å‘¢ï¼Ÿä¸‡ä¸€å“ªèŠ‚è¯¾é‡Œçš„ä¸€å¥è¯ï¼ŒçœŸç»™æˆ‘æ‰“å¼€äº†ä¸€æ‰‡çª—ï¼Œè®©æˆ‘æ‰¾åˆ°äº†ä¸‹ä¸€ä¸ªé£å£å‘¢ï¼Ÿè¿™ç§èµŒå¾’å¿ƒæ€ï¼Œæ”¯æ’‘ç€æˆ‘ä¸€æ¬¡æ¬¡æŒ‰ä¸‹æ”¯ä»˜å¯†ç ã€‚</p>
<h3 data-id="heading-4">äº”ã€ è¿˜æœ‰äº›é›¶ç¢çš„å°é’±</h3>
<p>é™¤äº†ä¸Šé¢è¿™äº›å¤§å¤´ï¼Œè¿˜æœ‰ä»€ä¹ˆå¤©å·¥PPTå•Šï¼ŒTRAEï¼ŒCodeBuddyã€Qoderï¼Œä»¥åŠå„ç§APIçš„ä¸­è½¬ç«™è´¹ç”¨å•Šï¼Œæ—æ—æ€»æ€»åŠ èµ·æ¥ï¼Œä¸€ä¸ªæœˆæ§åˆ¶åœ¨ <strong>Â¥100</strong> ä»¥å†…ã€‚è¿™äº›å°±åƒæ˜¯å¹³æ—¶ä¹°çš„å°é›¶é£Ÿï¼Œä¸èµ·çœ¼ï¼Œä½†ä¹Ÿä¸èƒ½å°‘ã€‚</p>
<p><strong>è¿˜æœ‰ä¸ªâ€œç™½æœˆå…‰â€ä¸å¾—ä¸æâ€”â€”Google çš„å…¨å®¶æ¡¶ã€‚</strong></p>
<p>æœ€è¿‘æˆ‘æ˜¯çœŸè¢« Google çš„ Gemini Advanced ç»™ç§è‰äº†ï¼Œå°¤å…¶æ˜¯é‚£ä¸ª <strong>NotebookLM</strong>ï¼ŒåŠŸèƒ½åˆå¼ºåˆå¥½ç©ï¼Œç®€ç›´æ˜¯æ•´ç†èµ„æ–™çš„ç¥å™¨ï¼æˆ‘æ˜¯çœŸæƒ³ç«‹é©¬æé’±â€œä¸Šè½¦â€ï¼Œä½†ä½å¤´çœ‹äº†ä¸€çœ¼ä»Šå¹´çš„è´¢åŠ¡æŠ¥è¡¨â€¦â€¦ å“ï¼Œå…¨æ˜¯èµ¤å­—ã€‚
æ²¡åŠæ³•ï¼Œåœ°ä¸»å®¶ä¹Ÿæ²¡ä½™ç²®äº†ã€‚è¿™äº‹å„¿åªèƒ½å…ˆå¿å¿ï¼Œæš—ä¸­è“„åŠ›ã€‚æˆ‘ç°åœ¨æ­£æ»¡ä¸–ç•Œæ‰¾èƒ½â€œå›è¡€â€çš„ç§æ´»æˆ–è€…æ´»åŠ¨ï¼Œäº‰å–æŠŠä»Šå¹´çš„å‘å¡«ä¸Šï¼Œæ˜å¹´é«˜ä½å¾—æŠŠ Google è¿™ä½å¤§ç¥ä¹Ÿè¯·è¿›æˆ‘çš„ä»˜è´¹åå®«é‡Œï¼</p>
<h3 data-id="heading-5">è´·æ¬¾ä¸Šç­çš„çœŸç›¸</h3>
<p>å¥½ï¼Œå’±ä»¬æ¥ç®—ç®—æ€»è´¦ã€‚</p>
<p>Â¥300ï¼ˆç¼–ç¨‹ï¼‰+ Â¥140ï¼ˆCursorï¼‰+ Â¥140ï¼ˆChatGPTï¼‰+ Â¥190ï¼ˆLovartï¼‰+ Â¥1000/12ï¼ˆçŸ¥è¯†ä»˜è´¹ï¼‰+ Â¥100ï¼ˆé›¶ç¢ï¼‰ â‰ˆ <strong>Â¥ / 970æœˆ</strong>ã€‚</p>
<p>å…„å¼Ÿä»¬ï¼Œçœ‹åˆ°è¿™ä¸ªæ•°å­—äº†å—ï¼Ÿ</p>
<p>è¿™æ„å‘³ç€ï¼Œæˆ‘æ¯ä¸ªæœˆçå¼€çœ¼ï¼Œè¿˜æ²¡å¼€å§‹å¹²æ´»ï¼Œå°±å·²ç»æ¬ äº†è¿™ä¸–ç•Œ 1000 å—é’±äº†ã€‚å¦‚æœæ˜¯åˆšæ¯•ä¸šé‚£ä¼šå„¿ï¼Œè¿™ç¬”é’±å¤Ÿæˆ‘åƒå¥½å‡ ä¸ªæœˆçš„æ³¡é¢ï¼Œæˆ–è€…ç§Ÿä¸ªä¸é”™çš„å•é—´ã€‚</p>
<p>æˆ‘ä¹Ÿç»å¸¸é—®è‡ªå·±ï¼š<strong>å€¼å¾—å—ï¼Ÿ</strong></p>
<p>å¦‚æœä¸èŠ±è¿™é’±ï¼Œæˆ‘å¯èƒ½åªèƒ½ç”¨ç€ç¬¨é‡çš„IDEï¼Œå†™ç€é‡å¤çš„ä»£ç ï¼Œåšç€ä¸‘é™‹çš„è®¾è®¡ï¼Œç„¶åçœ‹ç€åˆ«äººçš„æ•ˆç‡éª‘åœ¨æˆ‘å¤´ä¸Šæ‹‰å±ã€‚</p>
<p>åœ¨è¿™ä¸ªæ—¶ä»£ï¼Œæˆ‘ä»¬è¿™ç¾¤èŒåœºç‰›é©¬ï¼Œä¸ºäº†ä¸è¢«å®°æ€ï¼Œä¸å¾—ä¸è‡ªè´¹è´­ä¹°æ›´é«˜çº§çš„éå…·ï¼ŒæŠŠè‡ªå·±æ­¦è£…æˆæˆ˜é©¬ã€‚è¿™å¬èµ·æ¥æœ‰ç‚¹æ‚²å£®ï¼Œç”šè‡³æœ‰ç‚¹æ»‘ç¨½ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f94e48767714f7891084d4bcfa4dbf4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768110515&amp;x-signature=6cTWZdq8r7akFQ0gId5WWwuzddA%3D" alt="image.png" loading="lazy"/></p>
<p>ä½†è½¬å¿µä¸€æƒ³ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§è¿›åŒ–å§ã€‚è™½ç„¶é’±åŒ…ç˜ªäº†ï¼Œä½†æˆ‘ç¡®å®æ„Ÿè§‰è‡ªå·±å˜å¼ºäº†ï¼ˆä¹Ÿå˜ç§ƒäº†ï¼‰ã€‚è¿™ 1000 å—ï¼Œæ˜¯æˆ‘ç»™æœªæ¥äº¤çš„ä¿æŠ¤è´¹ï¼Œä¹Ÿæ˜¯æˆ‘ä½œä¸ºä¸€ä¸ªä¸­å¹´ç”·äººï¼Œæœ€åçš„å€”å¼ºã€‚è¿™äº›å†…å®¹æ˜¯ä¸€ä¸ªæŠ€æœ¯åšä¸»çš„èŒä¸šç´ å…»ï¼Œé¡ºä¾¿æ™’æ™’æˆ‘ä¸æƒ‘çš„è‹¦é€¼è´¦å•ã€‚å¦‚æœä½ ä¹Ÿåœ¨ä¸ºAIæé’±ï¼Œæˆ–è€…ä¹Ÿåœ¨ç„¦è™‘ä¸­æŒ£æ‰ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºå‘Šè¯‰æˆ‘ï¼Œè®©æˆ‘çŸ¥é“ï¼Œåœ¨è¿™æ¡è´·æ¬¾ä¸Šç­çš„è·¯ä¸Šï¼Œæˆ‘å¹¶ä¸å­¤å•ã€‚</p>
<p>æˆ‘æ˜¯è´·æ¬¾ä¸Šç­çš„ä¸æƒ‘ï¼Œå’±ä»¬æ˜å¹´è§ï¼Œå¦‚æœä½ å–œæ¬¢æˆ‘çš„æ–‡å­—ï¼Œéº»çƒ¦ç‚¹ä¸ªå…³æ³¨ï¼Œæˆ‘æˆåä¹‹åï¼Œç»ä¸å‰²ä½ éŸ­èœï½ğŸ‘‹ğŸ‘¨ğŸ¿â€ğŸ¦²</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>