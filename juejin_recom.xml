<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[SpringBoot æ•°æ®å­˜å‚¨å®æˆ˜æ‹†è§£ï¼]]></title>    <link>https://juejin.cn/post/7575910298283163683</link>    <guid>https://juejin.cn/post/7575910298283163683</guid>    <pubDate>2025-11-24T08:55:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575910298283163683" data-draft-id="7576175307352342543" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringBoot æ•°æ®å­˜å‚¨å®æˆ˜æ‹†è§£ï¼"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-24T08:55:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜è¥¿è¥¿"/> <meta itemprop="url" content="https://juejin.cn/user/326976944214804"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringBoot æ•°æ®å­˜å‚¨å®æˆ˜æ‹†è§£ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/326976944214804/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜è¥¿è¥¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:55:59.000Z" title="Mon Nov 24 2025 08:55:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Elasticsearchæ˜¯ä¸€ä¸ªåŸºäºApache Luceneå¼€å‘çš„çš„æœç´¢æœåŠ¡ï¼Œæä¾›äº†ä¸€ä¸ªåˆ†å¸ƒå¼å¤šç”¨æˆ·èƒ½åŠ›çš„å…¨æ–‡æœç´¢å¼•æ“ï¼Œå¹¶åŸºäºRESTful webæ¥å£ã€‚æ”¯æŒç»“æ„åŒ–æœç´¢ã€æ•°æ®åˆ†æã€å¤æ‚çš„è¯­è¨€å¤„ç†ã€åœ°ç†ä½ç½®å’Œå¯¹è±¡é—´å…³è”å…³ç³»ç­‰åŠŸèƒ½ã€‚é‚£ä¹ˆå¦‚ä½•åœ¨SpringBooté¡¹ç›®ä¸­æ•´åˆElasticSearchæ¥å®Œæˆæ•°æ®çš„å­˜å‚¨å‘¢ï¼Ÿä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹çœ‹ã€‚</p>
<p>è¿™é‡Œéœ€è¦ç‰¹åˆ«è¯´æ˜åœ¨é«˜ç‰ˆæœ¬çš„ElasticSearchå¯¹äºæ•°æ®çš„å¤„ç†æ–¹å¼ä¸ä½ç‰ˆæœ¬çš„å¤„ç†æ–¹å¼æ˜¯ä¸åŒçš„ï¼Œå¹¶ä¸”ï¼Œåœ¨Spring Bootä¸­æ‰€æ”¯æŒçš„ElasticSearchå®¢æˆ·ç«¯ç‰ˆæœ¬ä¹Ÿæ˜¯æœ‰æ‰€å·®å¼‚çš„ã€‚è¿™é‡Œæ¼”ç¤ºçš„æ˜¯åŸºäº Spring Boot 2.1.4.RELEASE ç‰ˆæœ¬å’ŒElasticSearch 6.8.0çš„ç‰ˆæœ¬å¤„ç†æ–¹å¼ã€‚</p>
<h2 data-id="heading-0">ä¾èµ–å’Œé…ç½®</h2>
<p>æ·»åŠ Elasticsearchçš„ä¾èµ–åˆ°<strong>pom.xml</strong>æ–‡ä»¶ä¸­ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.1.4.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span>

```js
```
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-elasticsearch<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>åœ¨é…ç½®æ–‡ä»¶æ–‡ä»¶ä¸­é…ç½®ElasticSearchçš„è¿æ¥</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">spring.data.elasticsearch.cluster-name</span>=my-cluster
<span class="hljs-attr">spring.data.elasticsearch.cluster-nodes</span>=<span class="hljs-number">192.168</span>.<span class="hljs-number">1.202</span>:<span class="hljs-number">9300</span>
</code></pre>
<p>è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œåœ¨é«˜ç‰ˆæœ¬çš„SpringBooté…ç½®ä¸­å·²ç»ä¸æ”¯æŒè¿™æ ·çš„é…ç½®æ“ä½œï¼Œéœ€è¦æ³¨æ„çš„å®ï¼Œåœ¨è¿™ä¸ªé…ç½®ä¸­å¦‚æœæ˜¯é€šè¿‡ELKè°ƒç”¨åˆ™æ·»åŠ çš„ç«¯å£æ˜¯9200ï¼Œå¦‚æœæ˜¯é€šè¿‡Javaç¨‹åºè°ƒç”¨åˆ™é…ç½®çš„è¿æ¥ç«¯å£æ˜¯9300ã€‚</p>
<h2 data-id="heading-1">å…·ä½“å®ç°</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Document</span>(indexName = <span class="hljs-string">"my_index"</span>, <span class="hljs-keyword">type</span> = <span class="hljs-string">"my_type"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDocument</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> id;
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> name;
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> description;

    <span class="hljs-comment">// çœç•¥æ„é€ å‡½æ•°ã€getterå’Œsetter</span>
}
</code></pre>
<p>ç»§æ‰¿ElasticsearchRepositoryæ¥å£å®ç°æ•°æ®è®¿é—®å±‚ä»£ç </p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">MyDocumentRepository</span> 
<span class="hljs-keyword">extends</span> <span class="hljs-title class_">ElasticsearchRepository</span>&lt;<span class="hljs-title class_">MyDocument</span>, <span class="hljs-title class_">String</span>&gt; {
}
</code></pre>
<p>ç¼–å†™æœåŠ¡å±‚ä»£ç </p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDocumentService</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">MyDocumentRepository</span> repository;

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">MyDocument</span> <span class="hljs-title function_">save</span>(<span class="hljs-params">MyDocument <span class="hljs-variable language_">document</span></span>) {
        <span class="hljs-keyword">return</span> repository.<span class="hljs-title function_">save</span>(<span class="hljs-variable language_">document</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Iterable</span>&lt;<span class="hljs-title class_">MyDocument</span>&gt; <span class="hljs-title function_">findAll</span>(<span class="hljs-params"/>) {
        <span class="hljs-title class_">Iterable</span>&lt;<span class="hljs-title class_">MyDocument</span>&gt; all = repository.<span class="hljs-title function_">findAll</span>();
        <span class="hljs-keyword">return</span> all;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">MyDocument</span> <span class="hljs-title function_">findById</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> id</span>) {
        <span class="hljs-keyword">return</span> repository.<span class="hljs-title function_">findById</span>(id).<span class="hljs-title function_">orElse</span>(<span class="hljs-literal">null</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">deleteById</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> id</span>) {
        repository.<span class="hljs-title function_">deleteById</span>(id);
    }
}
</code></pre>
<h2 data-id="heading-2">ç¼–å†™Controllerç±»è¿›è¡Œæµ‹è¯•</h2>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@RestController</span>
<span class="hljs-variable">@RequestMapping</span>(<span class="hljs-string">"/documents"</span>)
public class MyDocumentController {

    <span class="hljs-variable">@Autowired</span>
    private MyDocumentService service;

    <span class="hljs-variable">@PostMapping</span>
    public MyDocument <span class="hljs-built_in">create</span>(<span class="hljs-variable">@RequestBody</span> MyDocument document) {
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">service</span><span class="hljs-selector-class">.save</span>(document);
    }

    @<span class="hljs-selector-tag">GetMapping</span>
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">Iterable</span>&lt;<span class="hljs-selector-tag">MyDocument</span>&gt; <span class="hljs-selector-tag">getAll</span>() {
        <span class="hljs-selector-tag">Iterable</span>&lt;<span class="hljs-selector-tag">MyDocument</span>&gt; <span class="hljs-selector-tag">iterable</span> = <span class="hljs-selector-tag">service</span><span class="hljs-selector-class">.findAll</span>();
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">iterable</span>;
    }

    @<span class="hljs-selector-tag">GetMapping</span>(<span class="hljs-string">"/{id}"</span>)
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">MyDocument</span> <span class="hljs-selector-tag">getById</span>(<span class="hljs-variable">@PathVariable</span> String id) {
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">service</span><span class="hljs-selector-class">.findById</span>(id);
    }

    @<span class="hljs-selector-tag">DeleteMapping</span>(<span class="hljs-string">"/{id}"</span>)
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">deleteById</span>(<span class="hljs-variable">@PathVariable</span> String id) {
        <span class="hljs-selector-tag">service</span><span class="hljs-selector-class">.deleteById</span>(id);
    }
}
</code></pre>
<p>ä»¥ä¸Šä»£ç ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨Spring Bootæ•´åˆElasticsearchå®ç°æ•°æ®å­˜å‚¨ã€‚</p>
<p>è°ƒç”¨æ¥å£è¿›è¡Œæµ‹è¯•</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e23f5d0920a4cc893100549b9b845f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6KW_6KW_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764579359&amp;x-signature=6o2l%2F6sR0LmgmZRoY5lkS5ZWEKk%3D" alt="" loading="lazy"/></p>
<p>è·å–åˆ—è¡¨</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/925f9548d9c64d4dad62601c0873b1d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6KW_6KW_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764579359&amp;x-signature=E2p9Ghjx8cvDyU03NHl6aqC41Vs%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">æ€»ç»“</h2>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œé€šè¿‡SpringBoot 2.1.4ä¸ElasticSearch6.8.0å®Œæˆäº†æ•´åˆï¼Œå¦‚æœæƒ³è¦é€‚é…æ›´é«˜ç‰ˆæœ¬çš„ElasticSearchæˆ–è€…æ˜¯Spring Boot ï¼Œåœ¨è¿‡ç¨‹ä¸­ä¸€å®šæ³¨æ„å¯¹äºç‰ˆæœ¬å…¼å®¹æ€§çš„é€‰æ‹©ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[NSSMæœåŠ¡]]></title>    <link>https://juejin.cn/post/7576090441432776714</link>    <guid>https://juejin.cn/post/7576090441432776714</guid>    <pubDate>2025-11-24T08:58:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576090441432776714" data-draft-id="7576090441432416266" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="NSSMæœåŠ¡"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-24T08:58:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¾œæœˆå"/> <meta itemprop="url" content="https://juejin.cn/user/2872336891512350"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            NSSMæœåŠ¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2872336891512350/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¾œæœˆå
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:58:48.000Z" title="Mon Nov 24 2025 08:58:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    14
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto;border:3px solid rgba(62,175,124,.2)}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-weight:700;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:6px;border:2px solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c}.markdown-body a:active,.markdown-body a:hover{border-bottom:1.5px solid #3eaf7c}.markdown-body a:before{content:"â‡²"}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(62,175,124,.2)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:.5rem solid;border-color:#42b983;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none}.markdown-body ul li:before{content:"â€¢";margin-right:4px;color:#3eaf7c}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">ä¸€ã€ä»‹ç»</h2>
<blockquote>
<ul>
<li>å…¨ç§°ï¼š<code>Non-SuckingÂ ServiceÂ Manager</code></li>
<li>æ ¸å¿ƒåŠŸèƒ½ï¼šå°†ä¸€ä¸ªæ™®é€šçš„ <code>Windows</code> å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆå¦‚Â <code>.exe</code>,Â <code>.bat</code>,Â <code>.py</code>,Â <code>.jar</code>Â ç­‰ï¼‰å°è£…æˆä¸€ä¸ªÂ <code>Windows</code> æœåŠ¡ã€‚</li>
<li>è§£å†³çš„é—®é¢˜ï¼šè®¸å¤šåº”ç”¨ç¨‹åºæœ¬èº«å¹¶ä¸å…·å¤‡ä½œä¸º <code>Windows</code> æœåŠ¡è¿è¡Œçš„èƒ½åŠ›ã€‚<code>NSSM</code> å……å½“ä¸€ä¸ªåŒ…è£…å™¨æˆ–å®ˆæŠ¤è¿›ç¨‹ï¼Œä½¿è¿™äº›ç¨‹åºèƒ½å¤Ÿä»¥æœåŠ¡çš„èº«ä»½åœ¨åå°è¿è¡Œï¼Œå¹¶äº«å—æœåŠ¡å¸¦æ¥çš„æ‰€æœ‰å¥½å¤„ã€‚</li>
</ul>
</blockquote>
<h2 data-id="heading-1">äºŒã€NSSMä¼˜ç‚¹</h2>
<ol>
<li>è‡ªåŠ¨å¯åŠ¨ï¼šé…ç½®ä¸º<code>è‡ªåŠ¨</code>å¯åŠ¨åï¼ŒæœåŠ¡ä¼šåœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨è¿è¡Œï¼Œæ— éœ€ç”¨æˆ·ç™»å½•ã€‚</li>
<li>åå°è¿è¡Œï¼šç¨‹åºåœ¨åå°é™é»˜è¿è¡Œï¼Œæ²¡æœ‰ç”¨æˆ·ç•Œé¢ï¼Œä¸å ç”¨ä»»åŠ¡æ ä½ç½®ã€‚</li>
<li>ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼šå¯ä»¥é€šè¿‡æ ‡å‡†çš„ <code>Windows</code> æœåŠ¡ç®¡ç†ç•Œé¢ï¼ˆ<code>services.msc</code>ï¼‰æˆ–å‘½ä»¤è¡Œï¼ˆ<code>sc</code>,Â <code>net</code>ï¼‰æ–¹ä¾¿åœ°<strong>å¯åŠ¨ã€åœæ­¢ã€é‡å¯ã€æš‚åœ</strong>æœåŠ¡ã€‚</li>
<li>å´©æºƒæ¢å¤ï¼šå¯ä»¥é…ç½®æœåŠ¡åœ¨æ„å¤–é€€å‡ºæ—¶<strong>è‡ªåŠ¨é‡å¯</strong>ï¼Œå¢å¼ºç¨‹åºçš„å¥å£®æ€§ã€‚</li>
<li>ç»Ÿä¸€ç®¡ç†ï¼šå°†æ‰€æœ‰éœ€è¦é•¿æœŸè¿è¡Œçš„ç¨‹åºç»Ÿä¸€åˆ°â€œæœåŠ¡â€ä¸­è¿›è¡Œç®¡ç†ï¼Œè§„èŒƒä¸”é«˜æ•ˆã€‚</li>
<li>æƒé™æ§åˆ¶ï¼šå¯ä»¥æŒ‡å®šæœåŠ¡ä»¥ç‰¹å®šçš„ç”¨æˆ·èº«ä»½ï¼ˆå¦‚Â <code>SYSTEM</code>Â æˆ–è‡ªå®šä¹‰ç®¡ç†å‘˜è´¦æˆ·ï¼‰è¿è¡Œã€‚</li>
</ol>
<h2 data-id="heading-2">ä¸‰ã€ä¸‹è½½ä¸å®‰è£…</h2>
<ol>
<li>è®¿é—®å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fnssm.cc%2Fdownload" target="_blank" title="https://nssm.cc/download" ref="nofollow noopener noreferrer">nssm.cc/download</a></li>
<li>é€‰æ‹©ç‰ˆæœ¬ï¼šä¸‹è½½æœ€æ–°ç¨³å®šç‰ˆï¼ˆå¦‚Â <code>nssm 2.24</code>ï¼‰ã€‚æ ¹æ®ä½ çš„ç³»ç»Ÿæ¶æ„ï¼ˆ32ä½æˆ–64ä½ï¼‰é€‰æ‹©å¯¹åº”çš„ ZIP åŒ…ã€‚</li>
<li>å®‰è£…ï¼š<code>NSSM</code> æ˜¯ç»¿è‰²è½¯ä»¶ï¼Œæ— éœ€å®‰è£…ã€‚åªéœ€å°† <code>ZIP</code> åŒ…è§£å‹åˆ°ä¸€ä¸ªä½ å–œæ¬¢çš„ç›®å½•ï¼Œä¾‹å¦‚Â <code>D:\nssm</code>ã€‚</li>
<li>æ·»åŠ åˆ° <code>PATH</code>ï¼ˆå¯é€‰ï¼‰ï¼šä¸ºäº†åœ¨ä»»ä½•å‘½ä»¤è¡Œçª—å£ä¸­ä½¿ç”¨Â <code>nssm</code>Â å‘½ä»¤ï¼Œå¯ä»¥å°†Â <code>nssm.exe</code>Â æ‰€åœ¨çš„è·¯å¾„æ·»åŠ åˆ°ç³»ç»Ÿçš„Â <code>PATH</code>Â ç¯å¢ƒå˜é‡ä¸­ã€‚</li>
</ol>
<h2 data-id="heading-3">å››ã€å¸¸ç”¨å‘½ä»¤</h2>
<h3 data-id="heading-4">4.1ã€æ ¸å¿ƒæœåŠ¡ç”Ÿå‘½å‘¨æœŸç®¡ç†å‘½ä»¤</h3>
<p>è¿™äº›æ˜¯æœ€å¸¸ç”¨çš„ä¸€ç»„å‘½ä»¤ã€‚</p>








































<table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>nssm install &lt;servicename&gt; [&lt;application&gt; [&lt;arguments&gt;]]</code></td><td><strong>å®‰è£…æœåŠ¡</strong>ã€‚å¦‚æœä¸æŒ‡å®šåº”ç”¨è·¯å¾„ï¼Œåˆ™ä¼šæ‰“å¼€ GUI è¿›è¡Œé…ç½®ã€‚</td><td><code>nssm install MyService</code> <code>nssm install MyService "C:\MyApp\app.exe" "-p 8080"</code></td></tr><tr><td><code>nssm start &lt;servicename&gt;</code></td><td>å¯åŠ¨æœåŠ¡ã€‚</td><td><code>nssm start MyService</code></td></tr><tr><td><code>nssm stop &lt;servicename&gt;</code></td><td>åœæ­¢æœåŠ¡ã€‚</td><td><code>nssm stop MyService</code></td></tr><tr><td><code>nssm restart &lt;servicename&gt;</code></td><td>é‡å¯æœåŠ¡ï¼ˆå…ˆåœæ­¢ï¼Œå†å¯åŠ¨ï¼‰ã€‚</td><td><code>nssm restart MyService</code></td></tr><tr><td><code>nssm pause &lt;servicename&gt;</code></td><td>æš‚åœæœåŠ¡ï¼ˆå¦‚æœæœåŠ¡æ”¯æŒï¼‰ã€‚</td><td><code>nssm pause MyService</code></td></tr><tr><td><code>nssm continue &lt;servicename&gt;</code></td><td>æ¢å¤è¢«æš‚åœçš„æœåŠ¡ï¼ˆå¦‚æœæœåŠ¡æ”¯æŒï¼‰ã€‚</td><td><code>nssm continue MyService</code></td></tr></tbody></table>
<h3 data-id="heading-5">4.2ã€æœåŠ¡é…ç½®ç®¡ç†å‘½ä»¤</h3>
<p>è¿™äº›å‘½ä»¤ç”¨äºæŸ¥çœ‹å’Œä¿®æ”¹æœåŠ¡çš„å‚æ•°ã€‚</p>






























<table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>nssm edit &lt;servicename&gt;</code></td><td>æ‰“å¼€æœåŠ¡çš„ GUI é…ç½®ç•Œé¢è¿›è¡Œä¿®æ”¹ã€‚</td><td><code>nssm edit MyService</code></td></tr><tr><td><code>nssm get &lt;servicename&gt; &lt;parameter&gt;</code></td><td><strong>è·å–</strong>æœåŠ¡æŸä¸ªé…ç½®å‚æ•°çš„å€¼ã€‚</td><td><code>nssm get MyService AppParameters</code></td></tr><tr><td><code>nssm set &lt;servicename&gt; &lt;parameter&gt; &lt;value&gt;</code></td><td><strong>è®¾ç½®</strong>æœåŠ¡æŸä¸ªé…ç½®å‚æ•°çš„å€¼ã€‚</td><td><code>nssm set MyService AppDirectory "C:\MyApp"</code></td></tr><tr><td><code>nssm reset &lt;servicename&gt; &lt;parameter&gt;</code></td><td>å°†æŸä¸ªé…ç½®å‚æ•°<strong>é‡ç½®</strong>ä¸ºé»˜è®¤å€¼ã€‚</td><td><code>nssm reset MyService ObjectName</code></td></tr></tbody></table>
<h3 data-id="heading-6">4.3ã€æœåŠ¡å®‰è£…ä¸ç§»é™¤å‘½ä»¤</h3>




















<table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>nssm remove &lt;servicename&gt;</code></td><td>äº¤äº’å¼åœ°<strong>ç§»é™¤/å¸è½½</strong>æœåŠ¡ã€‚ä¼šè¦æ±‚ä½ ç¡®è®¤ã€‚</td><td><code>nssm remove MyService</code></td></tr><tr><td><code>nssm remove &lt;servicename&gt; confirm</code></td><td><strong>æ— æ¡ä»¶ç›´æ¥ç§»é™¤/å¸è½½</strong>æœåŠ¡ï¼Œæ— éœ€ç¡®è®¤ã€‚</td><td><code>nssm remove MyService confirm</code></td></tr></tbody></table>
<h3 data-id="heading-7">4.4ã€æœåŠ¡çŠ¶æ€ä¸ä¿¡æ¯æŸ¥è¯¢å‘½ä»¤</h3>

























<table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>nssm status &lt;servicename&gt;</code></td><td>æ£€æŸ¥æœåŠ¡çš„çŠ¶æ€ã€‚è¿”å›å¦‚Â <code>SERVICE_RUNNING</code>,Â <code>SERVICE_STOPPED</code>Â ç­‰ã€‚</td><td><code>nssm status MyService</code></td></tr><tr><td><code>nssm statuscode &lt;servicename&gt;</code></td><td>ä»¥æ•°å­—ä»£ç çš„å½¢å¼è¿”å›æœåŠ¡çš„çŠ¶æ€ã€‚</td><td><code>nssm statuscode MyService</code></td></tr><tr><td><code>nssm list</code></td><td>åˆ—å‡ºæ‰€æœ‰ç”± NSSM ç®¡ç†çš„æœåŠ¡ã€‚</td><td><code>nssm list</code></td></tr></tbody></table>
<h3 data-id="heading-8">4.5ã€é«˜çº§ä¸ä¸å¸¸ç”¨å‘½ä»¤</h3>






























<table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>nssm dump &lt;servicename&gt;</code></td><td>ç”Ÿæˆä¸€ä¸ªåŒ…å«æœåŠ¡æ‰€æœ‰å½“å‰é…ç½®çš„å¯é‡å‘½åè„šæœ¬ã€‚ç”¨äºå¤‡ä»½æˆ–å¤åˆ¶é…ç½®ã€‚</td><td><code>nssm dump MyService &gt; config.txt</code></td></tr><tr><td><code>nssm rotatelogs &lt;servicename&gt;</code></td><td>æ‰‹åŠ¨è½®è½¬ï¼ˆå½’æ¡£ï¼‰è¯¥æœåŠ¡çš„è¾“å‡ºæ—¥å¿—æ–‡ä»¶ã€‚</td><td><code>nssm rotatelogs MyService</code></td></tr><tr><td><code>nssm process &lt;servicename&gt;</code></td><td>æ˜¾ç¤ºæ‰˜ç®¡è¯¥æœåŠ¡çš„ NSSM è¿›ç¨‹çš„ PIDã€‚</td><td><code>nssm process MyService</code></td></tr><tr><td><code>nssm processes</code></td><td>æ˜¾ç¤ºæ‰€æœ‰ NSSM æœåŠ¡è¿›ç¨‹çš„ PIDã€‚</td><td><code>nssm processes</code></td></tr></tbody></table>
<h3 data-id="heading-9">4.6ã€å¸¸ç”¨é…ç½®å‚æ•°ï¼ˆç”¨äºÂ <code>get</code>/<code>set</code>Â å‘½ä»¤ï¼‰</h3>
<p>å½“ä½¿ç”¨Â <code>nssm set &lt;servicename&gt; &lt;parameter&gt; &lt;value&gt;</code>Â æ—¶ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›æœ€å¸¸ç”¨çš„Â <code>&lt;parameter&gt;</code>ï¼š</p>

































































<table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>Application</code></td><td>è¦è¿è¡Œçš„å¯æ‰§è¡Œæ–‡ä»¶çš„å®Œæ•´è·¯å¾„ã€‚</td><td><code>nssm set MyService Application "C:\Program Files\nodejs\node.exe"</code></td></tr><tr><td><code>AppParameters</code></td><td>ä¼ é€’ç»™å¯æ‰§è¡Œæ–‡ä»¶çš„å‘½ä»¤è¡Œå‚æ•°ã€‚</td><td><code>nssm set MyService AppParameters "app.js"</code></td></tr><tr><td><code>AppDirectory</code></td><td>åº”ç”¨ç¨‹åºçš„å¯åŠ¨å·¥ä½œç›®å½•ã€‚</td><td><code>nssm set MyService AppDirectory "C:\MyApp"</code></td></tr><tr><td><code>AppStdout</code></td><td>é‡å®šå‘æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰çš„æ—¥å¿—æ–‡ä»¶è·¯å¾„ã€‚</td><td><code>nssm set MyService AppStdout "C:\logs\service.log"</code></td></tr><tr><td><code>AppStderr</code></td><td>é‡å®šå‘æ ‡å‡†é”™è¯¯ï¼ˆstderrï¼‰çš„æ—¥å¿—æ–‡ä»¶è·¯å¾„ã€‚</td><td><code>nssm set MyService AppStderr "C:\logs\error.log"</code></td></tr><tr><td><code>AppExit</code></td><td>æœåŠ¡é€€å‡ºè¡Œä¸ºã€‚é»˜è®¤ä¸ºÂ <code>Restart</code>ï¼Œé…åˆÂ <code>AppThrottle</code>Â ä½¿ç”¨ã€‚</td><td><code>nssm set MyService AppExit Default</code></td></tr><tr><td><code>AppThrottle</code></td><td>æœåŠ¡é‡å¯å‰çš„å»¶è¿Ÿæ—¶é—´ï¼ˆç§’ï¼‰ã€‚</td><td><code>nssm set MyService AppThrottle 5</code></td></tr><tr><td><code>DisplayName</code></td><td>åœ¨æœåŠ¡ç®¡ç†å™¨ä¸­æ˜¾ç¤ºçš„å‹å¥½åç§°ã€‚</td><td><code>nssm set MyService DisplayName "æˆ‘çš„é‡è¦æœåŠ¡"</code></td></tr><tr><td><code>Start</code></td><td>å¯åŠ¨ç±»å‹ã€‚<code>SERVICE_AUTO_START</code>(è‡ªåŠ¨),Â <code>SERVICE_DEMAND_START</code>(æ‰‹åŠ¨),Â <code>SERVICE_DISABLED</code>(ç¦ç”¨)ã€‚</td><td><code>nssm set MyService Start SERVICE_DEMAND_START</code></td></tr><tr><td><code>ObjectName</code></td><td>è¿è¡ŒæœåŠ¡æ‰€ç”¨çš„è´¦æˆ·ï¼ˆå¦‚Â <code>.\Administrator</code>Â æˆ–Â <code>NT AUTHORITY\SYSTEM</code>ï¼‰ã€‚</td><td><code>nssm set MyService ObjectName ".\MyUser"</code></td></tr><tr><td><code>Type</code></td><td>æœåŠ¡ç±»å‹ã€‚ç»å¤§å¤šæ•°æƒ…å†µä½¿ç”¨Â <code>SERVICE_WIN32_OWN_PROCESS</code>ã€‚</td><td><code>nssm set MyService Type SERVICE_WIN32_OWN_PROCESS</code></td></tr></tbody></table>
<h2 data-id="heading-10">äº”ã€æ¡ˆä¾‹:</h2>
<h3 data-id="heading-11">5.1ã€NginxæœåŠ¡</h3>
<h4 data-id="heading-12">5.1.1ã€ä½¿ç”¨ GUI ç•Œé¢å®‰è£…</h4>
<ol>
<li>
<p>å®‰è£…æœåŠ¡</p>
<pre><code class="hljs language-shell" lang="shell">nssm install Nginx
</code></pre>
</li>
<li>
<p>åœ¨å¼¹å‡ºçš„ GUI ç•Œé¢ä¸­é…ç½®ï¼š</p>
<p><strong>Application æ ‡ç­¾é¡µ</strong>ï¼š</p>
<ul>
<li><strong>Path</strong>:Â <code>D:\nginx\nginx.exe</code>Â ï¼ˆä½ çš„ nginx.exe å®Œæ•´è·¯å¾„ï¼‰</li>
<li><strong>Startup directory</strong>:Â <code>D:\nginx</code>Â ï¼ˆNginx å®‰è£…ç›®å½•ï¼‰</li>
<li><strong>Arguments</strong>: ï¼ˆç•™ç©ºï¼‰</li>
</ul>
<p><strong>Details æ ‡ç­¾é¡µ</strong>ï¼š</p>
<ul>
<li><strong>Display name</strong>:Â <code>Nginx Web Server</code>Â ï¼ˆå¯é€‰ï¼Œæ›´å‹å¥½çš„æ˜¾ç¤ºåç§°ï¼‰</li>
<li><strong>Startup type</strong>:Â <code>Automatic</code>Â ï¼ˆè®¾ç½®ä¸ºè‡ªåŠ¨å¯åŠ¨ï¼‰</li>
</ul>
<p><strong>I/O æ ‡ç­¾é¡µ</strong>ï¼š</p>
<ul>
<li><strong>Output (stdout)</strong> :Â <code>D:\nginx\logs\service-stdout.log</code></li>
<li><strong>Error (stderr)</strong> :Â <code>D:\nginx\logs\service-stderr.log</code><br/>
<em>è¿™ä¼šå°† Nginx çš„æ§åˆ¶å°è¾“å‡ºé‡å®šå‘åˆ°æ—¥å¿—æ–‡ä»¶</em></li>
</ul>
<p><strong>Exit æ ‡ç­¾é¡µ</strong>ï¼š</p>
<ul>
<li>å‹¾é€‰Â <code>Restart</code>Â é€‰é¡¹ï¼Œè®¾ç½®ï¼š
<ul>
<li><strong>Restart delay (ms)</strong> :Â <code>5000</code>Â ï¼ˆå¤±è´¥åç­‰å¾… 5 ç§’é‡å¯ï¼‰</li>
</ul>
</li>
</ul>
</li>
<li>
<p>ç‚¹å‡»Â <code>Install service</code>å®Œæˆå®‰è£…ã€‚</p>
</li>
</ol>
<h4 data-id="heading-13">5.1.2ã€å®Œå…¨ä½¿ç”¨å‘½ä»¤è¡Œå®‰è£…ï¼ˆé€‚åˆè„šæœ¬åŒ–éƒ¨ç½²ï¼‰</h4>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">å®‰è£…æœåŠ¡</span>
nssm install Nginx "D:\nginx\nginx.exe"
<span class="hljs-meta prompt_">
# </span><span class="bash">è®¾ç½®å¯åŠ¨ç›®å½•</span>
nssm set Nginx AppDirectory "D:\nginx"
<span class="hljs-meta prompt_">
# </span><span class="bash">è®¾ç½®æ˜¾ç¤ºåç§°</span>
nssm set Nginx DisplayName "Nginx Web Server"
<span class="hljs-meta prompt_">
# </span><span class="bash">è®¾ç½®å¯åŠ¨ç±»å‹ä¸ºè‡ªåŠ¨</span>
nssm set Nginx Start SERVICE_AUTO_START
<span class="hljs-meta prompt_">
# </span><span class="bash">é…ç½®æ—¥å¿—é‡å®šå‘</span>
nssm set Nginx AppStdout "D:\nginx\logs\service-stdout.log"
nssm set Nginx AppStderr "D:\nginx\logs\service-stderr.log"
<span class="hljs-meta prompt_">
# </span><span class="bash">é…ç½®å¤±è´¥æ—¶è‡ªåŠ¨é‡å¯</span>
nssm set Nginx AppExit Default Restart
nssm set Nginx AppRestartDelay 5000
<span class="hljs-meta prompt_">
# </span><span class="bash">å¯åŠ¨æœåŠ¡</span>
nssm start Nginx
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vibe Coding å®æˆ˜æŒ‡å—ï¼šä»â€œæ‰‹å†™ä»£ç â€åˆ°â€œæ„å›¾è®¾è®¡â€çš„å‰ç«¯èŒƒå¼è½¬ç§»]]></title>    <link>https://juejin.cn/post/7576052677050925082</link>    <guid>https://juejin.cn/post/7576052677050925082</guid>    <pubDate>2025-11-24T08:45:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576052677050925082" data-draft-id="7575829296452829194" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vibe Coding å®æˆ˜æŒ‡å—ï¼šä»â€œæ‰‹å†™ä»£ç â€åˆ°â€œæ„å›¾è®¾è®¡â€çš„å‰ç«¯èŒƒå¼è½¬ç§»"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-11-24T08:45:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æƒ³è¿›å­—èŠ‚å†²å•Šå†²"/> <meta itemprop="url" content="https://juejin.cn/user/2947168673222887"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vibe Coding å®æˆ˜æŒ‡å—ï¼šä»â€œæ‰‹å†™ä»£ç â€åˆ°â€œæ„å›¾è®¾è®¡â€çš„å‰ç«¯èŒƒå¼è½¬ç§»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2947168673222887/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æƒ³è¿›å­—èŠ‚å†²å•Šå†²
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:45:17.000Z" title="Mon Nov 24 2025 08:45:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    19
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. å¼•è¨€ï¼šé›¶ç¼–ç å®ç°çš„åˆä½“éªŒ</h2>
<p>æœ€è¿‘åœ¨å¼€å‘éœ€æ±‚æ—¶ï¼Œé¢‘ç¹å¬åˆ°å…³äº AI ç¼–ç¨‹èƒ½åŠ›çš„è®¨è®ºã€‚å€Ÿç€ Qoder æµ‹è¯•ç‰ˆå‘å¸ƒçš„å¥‘æœºï¼Œæˆ‘å†³å®šåœ¨å®é™…ä¸šåŠ¡ä¸­ä½“éªŒä¸€æŠŠâ€œé›¶ç¼–ç â€å¼€å‘ã€‚</p>
<p>è¿™æ¬¡å®éªŒä¸ä»…æ˜¯ä¸€æ¬¡å·¥å…·çš„è¯•ç”¨ï¼Œæ›´æ˜¯ä¸€æ¬¡å¼€å‘æ¨¡å¼çš„<strong>èŒƒå¼è½¬ç§»</strong>ã€‚æˆ‘å‘ç°ï¼Œåœ¨ AI è¾…åŠ©ä¸‹ï¼Œå‰ç«¯å·¥ç¨‹å¸ˆçš„è§’è‰²æ­£åœ¨å‘ç”Ÿæœ¬è´¨å˜åŒ–ï¼šæˆ‘ä»¬ä¸å†ä»…ä»…æ˜¯ä»£ç çš„ç¼–å†™è€…ï¼ˆCoderï¼‰ï¼Œè€Œæ˜¯è½¬å˜ä¸º**æ¶æ„å¸ˆ + äº§å“ç»ç† + è´¨é‡ä¿éšœï¼ˆQAï¼‰**çš„å¤åˆä½“ã€‚è¿™æ­£æ˜¯ Andrej Karpathy æ‰€æå‡ºçš„ <strong>"Vibe Coding"ï¼ˆæ°›å›´ç¼–ç /ç›´è§‰ç¼–ç ï¼‰</strong> â€”â€”ä½ è´Ÿè´£æŠŠæ¡é€»è¾‘ä¸æ•ˆæœï¼ˆThe Vibeï¼‰ï¼ŒAI è´Ÿè´£å…·ä½“çš„è¯­æ³•å®ç°ï¼ˆThe Codeï¼‰ã€‚</p>
<h2 data-id="heading-1">2. å®æˆ˜å¤ç›˜ï¼šçº§è”å¤šé€‰ç»„ä»¶çš„â€œæ— ä¸­ç”Ÿæœ‰â€</h2>
<h3 data-id="heading-2">2.1 éœ€æ±‚èƒŒæ™¯ä¸æŒ‘æˆ˜</h3>
<p>ä¸šåŠ¡åœºæ™¯éœ€è¦ä¸€ä¸ªæ”¯æŒ<strong>å¤šé€‰</strong>çš„çº§è”é€‰æ‹©å™¨ï¼ˆçœ-å¸‚-åŒº-ç¤¾åŒºï¼‰ï¼Œä¸”äº¤äº’é€»è¾‘å¤æ‚ï¼š</p>
<ul>
<li>çœå¸‚å±‚çº§å•é€‰ï¼ŒåŒºä¸ç¤¾åŒºå±‚çº§å¤šé€‰ã€‚</li>
<li>å•é€‰ä¸å¤šé€‰é€»è¾‘æ··åˆã€‚</li>
<li><strong>æŠ€æœ¯éš¾ç‚¹</strong>ï¼šé¡¹ç›®ä½¿ç”¨çš„ Vant UI ç»„ä»¶åº“ä¸­çš„ <code>Cascader</code> ç»„ä»¶åŸç”Ÿä»…æ”¯æŒå•é€‰ã€‚</li>
</ul>
<h3 data-id="heading-3">2.2 åˆå§‹æ²Ÿé€šï¼šç²—ç³™ä½†æœ‰æ•ˆçš„æ„å›¾ä¼ è¾¾</h3>
<p>è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å®Œå…¨ä¾èµ– AI ç¼–ç¨‹ã€‚æˆ‘çš„ç¬¬ä¸€ç‰ˆ Prompt éå¸¸ç›´ç™½ï¼Œç”šè‡³æœ‰äº›ç²—ç³™ï¼Œç›´æ¥æŠŠéœ€æ±‚å’Œè®¾è®¡ç¨¿ä¸¢ç»™äº† AIï¼š</p>
<p><strong>User Prompt:</strong><br/>
ä½ çŸ¥é“ vant ä¸­çš„ Cascader å—ï¼Ÿç»„ä»¶åªèƒ½æ”¯æŒå•é€‰ï¼Œæˆ‘å¸Œæœ›å®ƒæ”¯æŒå¤šé€‰ã€‚<br/>
è¯·æŠŠè¿™é‡Œçš„ Cascader æ›¿æ¢ä¸ºå¤šé€‰ç»„ä»¶ã€‚<br/>
æˆ‘å¯ä»¥ç»™ä½ æä¾›å¯ä¾›å‚è€ƒçš„ UI è®¾è®¡ç¨¿ï¼Œä½ æœ‰ä¸æ‡‚çš„å¯ä»¥éšæ—¶é—®æˆ‘ã€‚<br/>
é™„ä»¶ï¼šuiç¨¿ä½ç½®@index.md</p>
<h3 data-id="heading-4">2.3 AI çš„æƒŠäººåé¦ˆï¼šä¸ä»…ä»…æ˜¯ä»£ç </h3>
<p>è®©æˆ‘æƒŠè®¶çš„æ˜¯ï¼ŒClaude å¹¶æ²¡æœ‰ç›´æ¥æ‰”ç»™æˆ‘ä¸€å †ä»£ç ï¼Œè€Œæ˜¯å…ˆç”Ÿæˆäº†ä¸€ä»½**ã€Šçº§è”å¤šé€‰ç»„ä»¶è®¾è®¡æ–‡æ¡£ã€‹**ã€‚</p>
<p>è¿™ä»½æ–‡æ¡£åŒ…å«äº†ï¼š</p>
<ol>
<li><strong>æŠ€æœ¯æ¶æ„</strong>ï¼šä½¿ç”¨ Mermaid ç»˜åˆ¶çš„ç»„ä»¶å±‚æ¬¡ç»“æ„å›¾ã€‚</li>
<li><strong>æ•°æ®æµå‘</strong>ï¼šæ¸…æ™°çš„ <code>Props</code> å’Œ <code>Emit</code> æ¥å£å®šä¹‰ã€‚</li>
<li><strong>é€»è¾‘è¾¹ç•Œ</strong>ï¼šè¯¦ç»†æè¿°äº†â€œå‘ä¸‹çº§è”å…¨é€‰â€å’Œâ€œå‘ä¸Šçº§è”åé€‰â€çš„é€»è¾‘ã€‚</li>
</ol>
<p><strong>ğŸ’¡</strong> <strong>æ´å¯Ÿ</strong>ï¼šAI ç”Ÿæˆçš„è®¾è®¡æ–‡æ¡£è™½ç„¶å®Œç¾ï¼Œä½†å®é™…ç”Ÿæˆçš„ä»£ç ï¼ˆMVPç‰ˆæœ¬ï¼‰å´å­˜åœ¨æ•°æ®åŠ è½½å¤±è´¥ã€Tab æ— æ³•åˆ‡æ¢ç­‰ Bugã€‚è¿™æ­ç¤ºäº† Vibe Coding çš„æ ¸å¿ƒç—›ç‚¹ï¼š<strong>å®è§‚è®¾è®¡å®Œç¾ï¼Œå¾®è§‚å®ç°æ˜“é”™ã€‚</strong></p>
<h2 data-id="heading-5">3. æ ¸å¿ƒæ–¹æ³•è®ºï¼šå¦‚ä½•è®© AI è¯»æ‡‚ä½ çš„â€œæ„å›¾â€</h2>
<p>åœ¨ç»å†äº†åå‡ è½®çš„ä¿®å¤å’Œè¿­ä»£åï¼Œæˆ‘æ€»ç»“å‡ºäº†é©¾é©­ AI çš„ä¸‰æ¿æ–§ã€‚</p>
<h3 data-id="heading-6">3.1 æ„å›¾å®šä¹‰ï¼ˆDefine the Vibeï¼‰</h3>
<p>æ”¾å¼ƒæ€è€ƒ DOM ç»“æ„ï¼Œè·³å‡ºä¼ ç»Ÿçš„â€œå®ç°ç»†èŠ‚â€ï¼Œè½¬è€Œæè¿°â€œåŠŸèƒ½ä¸äº¤äº’â€ã€‚</p>
<ul>
<li>âŒ <strong>Bad Vibe</strong>: "å†™ä¸€ä¸ªçº¢è‰²çš„æŒ‰é’®ã€‚"</li>
<li>âœ… <strong>Good Vibe</strong>: "åˆ›å»ºä¸€ä¸ªä¸»æ“ä½œæŒ‰é’®ï¼Œå½“é¼ æ ‡ Hover æ—¶æœ‰å¾®å°çš„ç¼©æ”¾åŠ¨ç”»ï¼Œç‚¹å‡»æ—¶æ˜¾ç¤º Loading çŠ¶æ€ï¼Œå¹¶ä¸”è¦ç¬¦åˆæˆ‘ä»¬ç°æœ‰çš„ç´«è‰²å“ç‰Œè‰²è°ƒã€‚"</li>
</ul>
<h3 data-id="heading-7">3.2 è§„åˆ™çº¦æŸï¼ˆContext &amp; Rulesï¼‰</h3>
<p>AI å°±åƒä¸€ä¸ªæ‰åæ¨ªæº¢ä½†ä¸å—çº¦æŸçš„å®ä¹ ç”Ÿã€‚å¦‚æœä¸ç«‹è§„çŸ©ï¼Œå®ƒä¼šå†™å‡ºé£æ ¼è¿¥å¼‚çš„ä»£ç ã€‚æˆ‘ä»¬éœ€è¦é€šè¿‡ <code>.cursorrules</code> æˆ–ç³»ç»Ÿæç¤ºè¯æ¥çº¦æŸå®ƒã€‚</p>
<p><strong>å®æˆ˜ç»éªŒï¼š</strong> æˆ‘å°†å›¢é˜Ÿçš„ ESLint è§„åˆ™ã€TypeScript è§„èŒƒä»¥åŠ React/Vue çš„æœ€ä½³å®è·µæ•´ç†ç»™ AIã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>å˜é‡å‘½å</strong>ï¼šå¿…é¡»ä½¿ç”¨ <code>const</code>ï¼Œå˜é‡åè¦è¯­ä¹‰åŒ–ã€‚</li>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼šç¦æ­¢ä½¿ç”¨ <code>any</code>ï¼Œä¼˜å…ˆä½¿ç”¨ <code>interface</code> è€Œé <code>type</code>ã€‚</li>
<li><strong>æ ·å¼ç®¡ç†</strong>ï¼šæ˜ç¡®æŒ‡å®šä½¿ç”¨ Tailwind CSS è¿˜æ˜¯ styled-componentsï¼Œé˜²æ­¢ AI æ··ç”¨ã€‚</li>
</ul>
<p><em>(æ³¨ï¼šåœ¨å®é™…æ“ä½œä¸­ï¼Œå»ºè®®å»ºç«‹é¡¹ç›®çº§çš„</em> <code>.cursorrules</code> <em>æ–‡ä»¶ï¼Œå°†ç¼–ç è§„èŒƒå›ºåŒ–ä¸‹æ¥ï¼ŒAI ä¼šè‡ªåŠ¨è¯»å–ã€‚)</em></p>
<h3 data-id="heading-8">3.3 å¾®è°ƒä¸è¿­ä»£ï¼ˆReview &amp; Refineï¼‰</h3>
<p>AI ç”Ÿæˆçš„ä»£ç å¾€å¾€ä¸èƒ½ç›´æ¥ä¸Šçº¿ï¼Œè¿™æ—¶éœ€è¦è¿›è¡Œ<strong>å¾®è°ƒ</strong>ã€‚</p>
<ul>
<li><strong>ç²¾ç¡®ä¸Šä¸‹æ–‡</strong>ï¼šä¸è¦è®© AI ç›²ç›®é‡å†™ã€‚é€‰ä¸­å…·ä½“çš„ä»£ç è¡Œï¼Œå‘Šè¯‰å®ƒï¼šâ€œåªä¿®æ”¹è¿™ä¸ªå‡½æ•°çš„é”™è¯¯å¤„ç†é€»è¾‘â€ã€‚</li>
<li><strong>æµ‹è¯•é©±åŠ¨</strong>ï¼šè®© AI è‡ªå·±ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹å’Œæµ‹è¯•é¡µé¢ã€‚æˆ‘å»æµ‹è¯•é¡µé¢æ“ä½œï¼Œå‘ç° Bug åï¼Œå°†ç°è±¡æè¿°ç»™ AIï¼Œè®©å®ƒè‡ªæˆ‘ä¿®å¤ã€‚</li>
</ul>
<h2 data-id="heading-9">4. é¿å‘æŒ‡å—ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-10">4.1 è­¦æƒ•â€œå¹»è§‰â€ä¸æ ·å¼å´©å</h3>
<ul>
<li><strong>ç°è±¡</strong>ï¼šAI å¯èƒ½ä¼šç¼–é€ ä¸å­˜åœ¨çš„ Tailwind ç±»åï¼Œæˆ–è€…ä½¿ç”¨äº†é¡¹ç›®æœªå®‰è£…çš„å›¾æ ‡åº“ã€‚</li>
<li><strong>å¯¹ç­–</strong>ï¼šåœ¨ Rules ä¸­æ˜ç¡®ç™½åå•ã€‚ä¾‹å¦‚ï¼šâ€œå›¾æ ‡åº“è¯·ä»…ä½¿ç”¨ <code>Lucide-React</code>ï¼Œä¸è¦å¼•å…¥å…¶ä»–åº“ã€‚â€</li>
</ul>
<h3 data-id="heading-11">4.2 ä¿æŒä»£ç ä¸€è‡´æ€§</h3>
<ul>
<li><strong>ç°è±¡</strong>ï¼šåŒä¸€ä¸ªç»„ä»¶ï¼ŒAI ä¸€ä¼šå„¿ç”¨ <code>function</code> å®šä¹‰ï¼Œä¸€ä¼šå„¿ç”¨ç®­å¤´å‡½æ•°ã€‚</li>
<li><strong>å¯¹ç­–</strong>ï¼š<strong>One-Shot Learningï¼ˆå•æ ·æœ¬å­¦ä¹ ï¼‰</strong> ã€‚åœ¨ Prompt ä¸­è´´ä¸€æ®µä½ è®¤ä¸ºå®Œç¾çš„ç°æœ‰ä»£ç ä½œä¸ºâ€œèŒƒæœ¬â€ï¼Œå‘Šè¯‰ AIï¼šâ€œè¯·ä¸¥æ ¼æ¨¡ä»¿è¿™æ®µä»£ç çš„é£æ ¼å’Œç»“æ„æ¥ç”Ÿæˆæ–°ç»„ä»¶ã€‚â€</li>
</ul>
<h3 data-id="heading-12">4.3 å¤æ‚çŠ¶æ€ç®¡ç†çš„è¾¹ç•Œ</h3>
<ul>
<li><strong>ç°è±¡</strong>ï¼šå½“æ¶‰åŠå¤æ‚çš„å…¨å±€çŠ¶æ€ï¼ˆå¦‚ Redux/Zustandï¼‰æˆ–æ ¸å¿ƒä¸šåŠ¡æµæ—¶ï¼ŒAI å®¹æ˜“é€»è¾‘æ··ä¹±ã€‚</li>
<li><strong>å¯¹ç­–</strong>ï¼š<strong>åˆ†å±‚å¼€å‘</strong>ã€‚æ ¸å¿ƒçš„ä¸šåŠ¡é€»è¾‘ï¼ˆStore è®¾è®¡ã€API å±‚ï¼‰å»ºè®®ç”±èµ„æ·±å·¥ç¨‹å¸ˆæŠŠæ§æ¶æ„ï¼ŒUI å±‚å’Œç®€å•çš„é€»è¾‘å¤„ç†äº¤ç»™ AIã€‚</li>
</ul>
<h2 data-id="heading-13">5. æ€»ç»“ï¼šå‰ç«¯å·¥ç¨‹å¸ˆçš„è¿›åŒ–</h2>
<p>Vibe Coding æ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å†™ä»£ç å—ï¼Ÿç­”æ¡ˆæ˜¯éœ€è¦çš„ï¼Œä½†<strong>å†™çš„â€œä»£ç â€å˜äº†</strong>ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦ç¼–å†™çš„ä¸å†æ˜¯å…·ä½“çš„ <code>if-else</code>ï¼Œè€Œæ˜¯ï¼š</p>
<ol>
<li><strong>Prompt</strong>ï¼šç²¾å‡†æè¿°éœ€æ±‚çš„è‡ªç„¶è¯­è¨€ã€‚</li>
<li><strong>Rules</strong>ï¼šçº¦æŸ AI è¡Œä¸ºçš„è§„èŒƒæ–‡æ¡£ã€‚</li>
<li><strong>Tests</strong>ï¼šéªŒè¯ AI äº§å‡ºçš„éªŒæ”¶æ ‡å‡†ã€‚</li>
</ol>
<p>åœ¨è¿™ä¸ªæ–°æ—¶ä»£ï¼Œè¯„ä¼°ä¼˜ç§€å‰ç«¯çš„æ ‡å‡†ä¹Ÿéšä¹‹æ”¹å˜ï¼š</p>
<ul>
<li><strong>Prompt Engineering èƒ½åŠ›</strong>ï¼šèƒ½å¦ç”¨æœ€çŸ­çš„è¯­è¨€æè¿°æœ€å¤æ‚çš„äº¤äº’ï¼Ÿ</li>
<li><strong>Code Review èƒ½åŠ›</strong>ï¼šèƒ½å¦åœ¨ AI ç”Ÿæˆçš„åƒè¡Œä»£ç ä¸­ï¼Œä¸€çœ¼æ´å¯Ÿæ€§èƒ½éšæ‚£ï¼Ÿ</li>
<li><strong>æ¶æ„è®¾è®¡èƒ½åŠ›</strong>ï¼šèƒ½å¦æ­å»ºè®© AI å‘æŒ¥å¾—æ›´å¥½çš„åŸºç¡€è®¾æ–½ï¼Ÿ</li>
</ul>
<p><strong>"Coding is not about typing; it's about thinking."</strong></p>
<p>Vibe Coding å¹¶æ²¡æœ‰æ¶ˆç­ç¼–ç¨‹ï¼Œå®ƒåªæ˜¯å¸®æˆ‘ä»¬çœå»äº†â€œæ‰“å­—â€çš„è¿‡ç¨‹ï¼Œè®©æˆ‘ä»¬ç»ˆäºå¯ä»¥å›å½’ç¼–ç¨‹çš„æœ¬è´¨ï¼š<strong>æ€è€ƒè§£å†³é—®é¢˜çš„æ–¹æ³•</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€ŠFlutterå…¨æ ˆå¼€å‘å®æˆ˜æŒ‡å—ï¼šä»é›¶åˆ°é«˜çº§ã€‹- 17 -æ ¸å¿ƒåŠ¨ç”»]]></title>    <link>https://juejin.cn/post/7576175307352424463</link>    <guid>https://juejin.cn/post/7576175307352424463</guid>    <pubDate>2025-11-24T09:01:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576175307352424463" data-draft-id="7575829296452222986" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€ŠFlutterå…¨æ ˆå¼€å‘å®æˆ˜æŒ‡å—ï¼šä»é›¶åˆ°é«˜çº§ã€‹- 17 -æ ¸å¿ƒåŠ¨ç”»"/> <meta itemprop="keywords" content="Flutter,iOS,Android"/> <meta itemprop="datePublished" content="2025-11-24T09:01:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="QuantumLeapä¸¶"/> <meta itemprop="url" content="https://juejin.cn/user/1767603104125197"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€ŠFlutterå…¨æ ˆå¼€å‘å®æˆ˜æŒ‡å—ï¼šä»é›¶åˆ°é«˜çº§ã€‹- 17 -æ ¸å¿ƒåŠ¨ç”»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1767603104125197/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    QuantumLeapä¸¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T09:01:36.000Z" title="Mon Nov 24 2025 09:01:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73781550b2ac44b49beb7bd1fe08feae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUXVhbnR1bUxlYXDkuLY=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764579696&amp;x-signature=TkQbImGOKvgrEwff3v79%2FBBppMA%3D" alt="Snipaste_2025-11-24_16-55-23.png" loading="lazy"/>
åŠ¨ç”»æ˜¯ç§»åŠ¨åº”ç”¨çš„çµé­‚ï¼Œèƒ½å¤Ÿå¢å¼ºé¡µé¢äº¤äº’æ•ˆæœï¼Œæ¯”å¦‚ï¼šå¾®ä¿¡ä¸‹æ‹‰åˆ·æ–°çš„æ—‹è½¬åŠ¨ç”»ã€æ”¯ä»˜å®é¡µé¢åˆ‡æ¢çš„å¹³æ»‘è¿‡æ¸¡ã€æŠ–éŸ³ç‚¹èµåŠ¨æ•ˆç­‰ç­‰è¿™äº›ç‚«é…·çš„åŠ¨ç”»æ•ˆæœä½¿ä½ çš„Appæ›´åŠ å‡ºå½©ã€‚ä»Šå¤©æˆ‘ä»¬å°±æ¥æ·±å…¥æ¢è®¨Flutterä¸­é‚£äº›è®©äººæƒŠè‰³çš„åŠ¨ç”»æ•ˆæœï¼Œä¸€æ­¥æ­¥æŒæ¡åŠ¨ç”»çš„æ ¸å¿ƒæŠ€å·§ï¼</p>
</blockquote>
<h2 data-id="heading-1">ä¸€ã€åŠ¨ç”»æ ¸å¿ƒç±»ä»‹ç»</h2>
<h3 data-id="heading-2">1.1 åŠ¨ç”»çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>åœ¨æ·±å…¥ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè¦ç†è§£åŠ¨ç”»çš„æœ¬è´¨ã€‚ç®€å•æ¥è¯´ï¼ŒåŠ¨ç”»å°±æ˜¯<strong>åœ¨ä¸€æ®µæ—¶é—´å†…è¿ç»­æ”¹å˜å±æ€§å€¼</strong>çš„è¿‡ç¨‹ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<ul>
<li>ä¸€ä¸ªæŒ‰é’®ä»é€æ˜å˜æˆä¸é€æ˜ï¼ˆæ”¹å˜opacityå€¼ï¼‰</li>
<li>ä¸€ä¸ªå›¾æ ‡ä»å·¦è¾¹ç§»åŠ¨åˆ°å³è¾¹ï¼ˆæ”¹å˜positionå€¼ï¼‰</li>
<li>ä¸€ä¸ªå®¹å™¨ä»å°å˜å¤§ï¼ˆæ”¹å˜sizeå€¼ï¼‰</li>
</ul>
<p>ç”¨ä¼ªä»£ç è¡¨ç¤ºå°±æ˜¯ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// ä¼ªä»£ç </span>
å¼€å§‹å€¼ = <span class="hljs-number">0.0</span>
ç»“æŸå€¼ = <span class="hljs-number">1.0</span>
æŒç»­æ—¶é—´ = <span class="hljs-number">1.0</span> 

<span class="hljs-comment">// åœ¨1ç§’å†…ï¼Œå½“å‰å€¼ä»0.0çº¿æ€§å˜åŒ–åˆ°1.0</span>
å½“å‰å€¼ = å¼€å§‹å€¼ + (ç»“æŸå€¼ - å¼€å§‹å€¼) * (å·²ç”¨æ—¶é—´ / æŒç»­æ—¶é—´)
</code></pre>
<h3 data-id="heading-3">1.2 åŠ¨ç”»æ ¸å¿ƒç±»</h3>
<p>Flutterçš„åŠ¨ç”»ç³»ç»Ÿå»ºç«‹åœ¨ä»¥ä¸‹å››ä¸ªæ ¸å¿ƒç±»åŸºç¡€ä¹‹ä¸Šï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// 1. AnimationController</span>
AnimationController controller;

<span class="hljs-comment">// 2. Animation</span>
Animation&lt;<span class="hljs-built_in">double</span>&gt; animation;

<span class="hljs-comment">// 3. Tween</span>
Tween&lt;<span class="hljs-built_in">double</span>&gt; tween;

<span class="hljs-comment">// 4. Curve</span>
CurvedAnimation curvedAnimation;
</code></pre>
<p>å¦‚æœæŠŠåŠ¨ç”»æ•ˆæœæ¯”ä½œå¼€è½¦ï¼Œåˆ«æƒ³æ­ªäº†ï¼Œå“ˆå“ˆï¼æƒ³è±¡ä¸€ä¸‹ä½ å°†è½¦ä»Aç‚¹å¼€åˆ°Bç‚¹ï¼š</p>
<blockquote>
<ul>
<li><code>AnimationController</code>å°±åƒæ˜¯ä½ çš„è„šè¸©æ²¹é—¨å’Œåˆ¹è½¦ï¼Œæ§åˆ¶è½¦çš„å¯åŠ¨ã€åœæ­¢ã€åŠ é€Ÿã€å‡é€Ÿ</li>
<li><code>Tween</code>å°±åƒæ˜¯å¯¼èˆªï¼Œå‘Šè¯‰ä½ ä»Aç‚¹ï¼ˆå¼€å§‹å€¼ï¼‰åˆ°Bç‚¹ï¼ˆç»“æŸå€¼ï¼‰çš„è·¯çº¿</li>
<li><code>Animation</code>å°±åƒæ˜¯è½¦é€Ÿè¡¨ï¼Œå®æ—¶æ˜¾ç¤ºå½“å‰çš„é€Ÿåº¦å€¼</li>
<li><code>Curve</code>å°±åƒæ˜¯é“è·¯çŠ¶å†µï¼Œå†³å®šäº†ä½ æ˜¯åŒ€é€Ÿå‰è¿›ã€å…ˆå¿«åæ…¢ï¼Œè¿˜æ˜¯æœ‰ä»€ä¹ˆç‰¹æ®Šçš„åŠ é€Ÿæ¨¡å¼</li>
</ul>
</blockquote>
<h3 data-id="heading-4">1.3 æ ¸å¿ƒç±»çš„èŒè´£</h3>
<p><strong>Animation - å€¼å®¹å™¨</strong></p>
<pre><code class="hljs language-dart" lang="dart">Animation&lt;<span class="hljs-built_in">double</span>&gt; sizeAnimation;

<span class="hljs-comment">// ä¸»è¦èŒè´£ï¼š</span>
<span class="hljs-comment">// - æŒæœ‰å½“å‰åŠ¨ç”»å€¼</span>
<span class="hljs-comment">// - é€šçŸ¥ç›‘å¬å™¨å€¼å‘ç”Ÿå˜åŒ–</span>
<span class="hljs-comment">// - ç®¡ç†åŠ¨ç”»çŠ¶æ€</span>

<span class="hljs-comment">// æ·»åŠ å€¼ç›‘å¬å™¨</span>
sizeAnimation.addListener(() {
  setState(() {
    <span class="hljs-comment">// å½“åŠ¨ç”»å€¼å˜åŒ–æ—¶ï¼Œé‡å»ºWidgetã€‚ã€‚ã€‚</span>
  });
});

<span class="hljs-comment">// æ·»åŠ çŠ¶æ€ç›‘å¬å™¨  </span>
sizeAnimation.addStatusListener((status) {
  <span class="hljs-keyword">switch</span> (status) {
    <span class="hljs-keyword">case</span> AnimationStatus.dismissed:
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'åŠ¨ç”»åœ¨å¼€å§‹çŠ¶æ€'</span>); 
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> AnimationStatus.forward:
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'æ­£å‘æ‰§è¡Œ'</span>); 
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> AnimationStatus.reverse:
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'åå‘æ‰§è¡Œ'</span>); 
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> AnimationStatus.completed:
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'æ‰§è¡Œå®Œæˆ'</span>); 
      <span class="hljs-keyword">break</span>;
  }
});
</code></pre>
<p><strong>AnimationController</strong></p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_MyAnimationState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">MyAnimation</span>&gt; 
    <span class="hljs-title">with</span> <span class="hljs-title">SingleTickerProviderStateMixin</span> </span>{
  
  <span class="hljs-keyword">late</span> AnimationController controller;
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> initState() {
    <span class="hljs-keyword">super</span>.initState();
    
    <span class="hljs-comment">// åˆ›å»ºåŠ¨ç”»æ§åˆ¶å™¨</span>
    controller = AnimationController(
      duration: <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">2</span>),  <span class="hljs-comment">// æŒç»­2ç§’</span>
      vsync: <span class="hljs-keyword">this</span>,                     <span class="hljs-comment">// å‚ç›´åŒæ­¥</span>
    );
  }
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> dispose() {
    controller.dispose();  <span class="hljs-comment">// é‡Šæ”¾</span>
    <span class="hljs-keyword">super</span>.dispose();
  }
}
</code></pre>
<p><strong>è¿™é‡Œæœ‰ä¸ªé‡è¦æ¦‚å¿µï¼švsync</strong>
<code>vsync</code>çš„ä½œç”¨æ˜¯é˜²æ­¢åŠ¨ç”»åœ¨é¡µé¢ä¸å¯è§æ—¶ç»§ç»­è¿è¡Œï¼Œé€ æˆæµªè´¹èµ„æºã€‚é€šè¿‡<code>SingleTickerProviderStateMixin</code>ï¼Œå½“é¡µé¢è¢«é®æŒ¡æˆ–åˆ‡æ¢åˆ°åå°æ—¶ï¼ŒåŠ¨ç”»ä¼šè‡ªåŠ¨æš‚åœã€‚</p>
<h2 data-id="heading-5">äºŒã€éšå¼åŠ¨ç”»</h2>
<h3 data-id="heading-6">2.1 ä»€ä¹ˆæ˜¯éšå¼åŠ¨ç”»ï¼Ÿ</h3>
<p>æœ¬è´¨å°±æ˜¯<strong>å‘Šè¯‰Widgetæœ€ç»ˆçš„çŠ¶æ€æ˜¯ä»€ä¹ˆ</strong>ï¼ŒFlutterä¼šè‡ªåŠ¨å¸®ä½ ç”Ÿæˆè¿‡æ¸¡åŠ¨ç”»ã€‚</p>
<ul>
<li>æ™®é€šWidgetï¼šä¸åŠ ä»»ä½•åŠ¨ç”»æ•ˆæœï¼Œwidgetä¼šå¾ˆç”Ÿç¡¬çš„ç›´æ¥è¿‡æ¸¡è¿‡å»ï¼›</li>
<li>éšå¼åŠ¨ç”»Widgetï¼šä»æ—§çŠ¶æ€åˆ°æ–°çŠ¶æ€é—´æœ‰ä¸€ä¸ªå¹³æ»‘çš„è¿‡æ¸¡ï¼Œç”¨æˆ·ä½“éªŒæ›´å¥½ä¸€äº›ï¼›</li>
</ul>
<h3 data-id="heading-7">2.2 éšå¼åŠ¨ç”»ç»„ä»¶</h3>
<h4 data-id="heading-8">2.2.1 AnimatedContainer</h4>
<p><code>AnimatedContainer</code>ï¼šæœ€å¸¸ç”¨çš„éšå¼åŠ¨ç”»ç»„ä»¶ï¼Œå‡ ä¹æ‰€æœ‰çš„å®¹å™¨å±æ€§åŠ¨ç”»éƒ½å¯ä»¥ç”¨å®ƒæ¥å®Œæˆã€‚</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AnimatedContainerExample</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  _AnimatedContainerExampleState createState() =&gt; _AnimatedContainerExampleState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_AnimatedContainerExampleState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">AnimatedContainerExample</span>&gt; </span>{
  <span class="hljs-comment">// å®šä¹‰å¯å˜å±æ€§</span>
  <span class="hljs-built_in">double</span> _width = <span class="hljs-number">100.0</span>;
  <span class="hljs-built_in">double</span> _height = <span class="hljs-number">100.0</span>;
  Color _color = Colors.blue;
  BorderRadius _borderRadius = BorderRadius.circular(<span class="hljs-number">8.0</span>);
  
  <span class="hljs-keyword">void</span> _toggleAnimation() {
    setState(() {
      <span class="hljs-comment">// æ”¹å˜å±æ€§å€¼</span>
      _width = _width == <span class="hljs-number">100.0</span> ? <span class="hljs-number">200.0</span> : <span class="hljs-number">100.0</span>;
      _height = _height == <span class="hljs-number">100.0</span> ? <span class="hljs-number">200.0</span> : <span class="hljs-number">100.0</span>;
      _color = _color == Colors.blue ? Colors.green : Colors.blue;
      _borderRadius = _borderRadius == BorderRadius.circular(<span class="hljs-number">8.0</span>) 
          ? BorderRadius.circular(<span class="hljs-number">50.0</span>)   <span class="hljs-comment">// å˜æˆåœ†</span>
          : BorderRadius.circular(<span class="hljs-number">8.0</span>);   <span class="hljs-comment">// å˜å›åœ†è§’çŸ©å½¢</span>
    });
  }
  
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Column(
      mainAxisAlignment: MainAxisAlignment.center,
      children: [
        AnimatedContainer(
          width: _width,
          height: _height,
          duration: <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">1</span>),     <span class="hljs-comment">// åŠ¨ç”»æ—¶é•¿</span>
          curve: Curves.easeInOut,            <span class="hljs-comment">// åŠ¨ç”»æ›²çº¿</span>
          decoration: BoxDecoration(
            color: _color,
            borderRadius: _borderRadius,
          ),
          child: Center(
            child: Text(
              <span class="hljs-string">'ç‚¹æˆ‘'</span>,
              style: TextStyle(color: Colors.white),
            ),
          ),
        ),
        SizedBox(height: <span class="hljs-number">20</span>),
        ElevatedButton(
          onPressed: _toggleAnimation,
          child: Text(<span class="hljs-string">'è§¦å‘åŠ¨ç”»'</span>),
        ),
      ],
    );
  }
}
</code></pre>
<p><strong>AnimatedContaineræ”¯æŒçš„åŠ¨ç”»å±æ€§ï¼š</strong></p>
<ul>
<li><strong>å°ºå¯¸</strong>ï¼š<code>width</code>ã€<code>height</code></li>
<li><strong>é¢œè‰²</strong>ï¼š<code>color</code></li>
<li><strong>è¾¹æ¡†åœ†è§’</strong>ï¼š<code>borderRadius</code></li>
<li><strong>å†…è¾¹è·</strong>ï¼š<code>padding</code></li>
<li><strong>å¤–è¾¹è·</strong>ï¼š<code>margin</code></li>
<li><strong>é˜´å½±</strong>ï¼š<code>boxShadow</code></li>
<li><strong>å˜æ¢</strong>ï¼š<code>transform</code></li>
</ul>
<h4 data-id="heading-9">2.2.2 AnimatedOpacity</h4>
<p>ç”¨æ¥å¤„ç†é€æ˜åº¦å˜åŒ–çš„ç»„ä»¶ï¼Œéå¸¸é€‚åˆå®ç°æ˜¾ç¤º/éšè—çš„è¿‡æ¸¡æ•ˆæœã€‚</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AnimatedOpacityExample</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  _AnimatedOpacityExampleState createState() =&gt; _AnimatedOpacityExampleState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_AnimatedOpacityExampleState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">AnimatedOpacityExample</span>&gt; </span>{
  <span class="hljs-built_in">double</span> _opacity = <span class="hljs-number">1.0</span>;  <span class="hljs-comment">// 1.0 = å®Œå…¨æ˜¾ç¤ºï¼Œ0.0 = å®Œå…¨éšè—</span>
  
  <span class="hljs-keyword">void</span> _toggleVisibility() {
    setState(() {
      _opacity = _opacity == <span class="hljs-number">1.0</span> ? <span class="hljs-number">0.0</span> : <span class="hljs-number">1.0</span>;
    });
  }
  
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Column(
      children: [
        AnimatedOpacity(
          opacity: _opacity,
          duration: <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">1</span>),
          curve: Curves.easeInOut,
          child: Container(
            width: <span class="hljs-number">200</span>,
            height: <span class="hljs-number">200</span>,
            color: Colors.blue,
            child: Center(
              child: Text(
                <span class="hljs-string">'æ·¡å…¥æ·¡å‡º'</span>,
                style: TextStyle(color: Colors.white, fontSize: <span class="hljs-number">20</span>),
              ),
            ),
          ),
        ),
        SizedBox(height: <span class="hljs-number">20</span>),
        ElevatedButton(
          onPressed: _toggleVisibility,
          child: Text(_opacity == <span class="hljs-number">1.0</span> ? <span class="hljs-string">'éšè—'</span> : <span class="hljs-string">'æ˜¾ç¤º'</span>),
        ),
      ],
    );
  }
}
</code></pre>
<p><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>é¡µé¢å…ƒç´ çš„æ˜¾ç¤º/éšè—</li>
<li>åŠ è½½çŠ¶æ€çš„è¿‡æ¸¡</li>
<li>é”™è¯¯ä¿¡æ¯çš„æ·¡å…¥æ·¡å‡º</li>
</ul>
<h4 data-id="heading-10">2.2.3 å…¶ä»–éšå¼åŠ¨ç”»ç»„ä»¶</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// AnimatedPadding - å†…è¾¹è·åŠ¨ç”»</span>
AnimatedPadding(
  padding: EdgeInsets.all(_paddingValue),
  duration: <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">1</span>),
  child: YourWidget(),
)

<span class="hljs-comment">// AnimatedAlign - å¯¹é½ä½ç½®åŠ¨ç”»  </span>
AnimatedAlign(
  alignment: _alignment,
  duration: <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">1</span>),
  child: YourWidget(),
)

<span class="hljs-comment">// AnimatedPositioned - å®šä½åŠ¨ç”»ï¼ˆæ³¨æ„ï¼šåªèƒ½åœ¨Stackä¸­ä½¿ç”¨ï¼‰</span>
AnimatedPositioned(
  left: _left,
  top: _top,
  duration: <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">1</span>),
  child: YourWidget(),
)
</code></pre>
<h3 data-id="heading-11">2.3 éšå¼åŠ¨ç”»çš„å·¥ä½œåŸç†</h3>
<p>å¾ˆå¤šäººä¼šæœ‰ç–‘é—®ï¼šä¸ºä»€ä¹ˆæ”¹å˜å±æ€§å€¼å°±èƒ½äº§ç”ŸåŠ¨ç”»ï¼Ÿä¸‹é¢æˆ‘ä»¬æ·±å…¥æ¢è®¨å…¶èƒŒåçš„å®ç°åŸç†ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant U as ç”¨æˆ·äº¤äº’
    participant S as setState()
    participant W as éšå¼åŠ¨ç”»Widget
    participant E as åŠ¨ç”»å¼•æ“
    participant R as æ¸²æŸ“å±‚
    
    U-&gt;&gt;S: è§¦å‘çŠ¶æ€å˜åŒ–
    S-&gt;&gt;W: é‡å»ºWidgetæ ‘
    W-&gt;&gt;E: æ£€æµ‹åˆ°å±æ€§å˜åŒ–
    E-&gt;&gt;E: è®¡ç®—åŠ¨ç”»è¡¥é—´å€¼
    loop æ¯ä¸€å¸§
        E-&gt;&gt;W: æ›´æ–°åŠ¨ç”»å€¼
        W-&gt;&gt;R: é‡ç»˜ç•Œé¢
    end
    E-&gt;&gt;W: åŠ¨ç”»å®Œæˆ
</code></pre>
<p>ä¸‹é¢æ¥çœ‹ä¸€æ®µä»£ç ï¼Œæ¥è¾…åŠ©ç†è§£éšå¼åŠ¨ç”»ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// éšå¼åŠ¨ç”»çš„å†…éƒ¨é€»è¾‘</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AnimatedContainer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ImplicitlyAnimatedWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> didUpdateWidget(AnimatedContainer oldWidget) {
    <span class="hljs-keyword">super</span>.didUpdateWidget(oldWidget);
    
    <span class="hljs-comment">// å½“å±æ€§å‘ç”Ÿå˜åŒ–æ—¶</span>
    <span class="hljs-keyword">if</span> (oldWidget.width != widget.width) {
      <span class="hljs-comment">// åˆ›å»ºåŠ¨ç”»æ§åˆ¶å™¨</span>
      <span class="hljs-comment">// åˆ›å»ºè¡¥é—´åŠ¨ç”»</span>
      <span class="hljs-comment">// å¯åŠ¨åŠ¨ç”»</span>
    }
  }
}
</code></pre>
<p>ç®€å•æ¥è¯´ï¼Œå½“<code>setState()</code>è¢«è°ƒç”¨æ—¶ï¼š</p>
<ol>
<li>Widgetæ ‘é‡å»º</li>
<li><code>AnimatedContainer</code>æ£€æµ‹åˆ°å±æ€§å€¼å˜åŒ–</li>
<li>è‡ªåŠ¨åˆ›å»ºåŠ¨ç”»æ§åˆ¶å™¨å’Œè¡¥é—´åŠ¨ç”»</li>
<li>å¯åŠ¨åŠ¨ç”»ï¼Œåœ¨æŒ‡å®šæ—¶é—´å†…å¹³æ»‘è¿‡æ¸¡åˆ°æ–°å€¼</li>
</ol>
<h2 data-id="heading-12">ä¸‰ã€è¡¥é—´åŠ¨ç”»</h2>
<h3 data-id="heading-13">3.1 ä»€ä¹ˆæ˜¯è¡¥é—´åŠ¨ç”»ï¼Ÿ</h3>
<p>"è¡¥é—´"è¿™ä¸ªè¯æ¥æºäºåŠ¨ç”»åˆ¶ä½œé¢†åŸŸï¼Œæ„æ€æ˜¯<strong>åœ¨èµ·å§‹çŠ¶æ€å’Œç»“æŸçŠ¶æ€ä¹‹é—´è¿‡æ¸¡å¸§</strong>ã€‚</p>
<p>åœ¨Flutterä¸­ï¼Œ<code>Tween</code>å°±æ˜¯åšè¿™ä¸ªå·¥ä½œçš„ï¼š</p>
<ul>
<li>ä½ å‘Šè¯‰å®ƒèµ·å§‹å€¼(begin)å’Œç»“æŸå€¼(end)</li>
<li>å®ƒè´Ÿè´£è®¡ç®—ä¸­é—´çš„æ‰€æœ‰å€¼</li>
</ul>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªä»50åˆ°200çš„å°ºå¯¸è¡¥é—´åŠ¨ç”»</span>
Tween&lt;<span class="hljs-built_in">double</span>&gt; sizeTween = Tween&lt;<span class="hljs-built_in">double</span>&gt;(
  begin: <span class="hljs-number">50.0</span>,   <span class="hljs-comment">// å¼€å§‹å€¼</span>
  end: <span class="hljs-number">200.0</span>,    <span class="hljs-comment">// ç»“æŸå€¼</span>
);

<span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªä»çº¢è‰²åˆ°è“è‰²çš„é¢œè‰²è¡¥é—´åŠ¨ç”»  </span>
ColorTween colorTween = ColorTween(
  begin: Colors.red,
  end: Colors.blue,
);
</code></pre>
<h3 data-id="heading-14">3.2 Tweençš„å®Œæ•´ä½¿ç”¨æµç¨‹</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TweenAnimationExample</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  _TweenAnimationExampleState createState() =&gt; _TweenAnimationExampleState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_TweenAnimationExampleState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">TweenAnimationExample</span>&gt; 
    <span class="hljs-title">with</span> <span class="hljs-title">SingleTickerProviderStateMixin</span> </span>{
  
  <span class="hljs-keyword">late</span> AnimationController _controller;
  <span class="hljs-keyword">late</span> Animation&lt;<span class="hljs-built_in">double</span>&gt; _sizeAnimation;
  <span class="hljs-keyword">late</span> Animation&lt;Color?&gt; _colorAnimation;
  <span class="hljs-keyword">late</span> Animation&lt;<span class="hljs-built_in">double</span>&gt; _rotationAnimation;
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> initState() {
    <span class="hljs-keyword">super</span>.initState();
    
    <span class="hljs-comment">// 1. åˆ›å»ºåŠ¨ç”»æ§åˆ¶å™¨</span>
    _controller = AnimationController(
      duration: <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">2</span>),
      vsync: <span class="hljs-keyword">this</span>,
    );
    
    <span class="hljs-comment">// 2. åˆ›å»ºè¡¥é—´åŠ¨ç”»</span>
    _sizeAnimation = Tween&lt;<span class="hljs-built_in">double</span>&gt;(
      begin: <span class="hljs-number">50.0</span>,
      end: <span class="hljs-number">200.0</span>,
    ).animate(_controller);
    
    _colorAnimation = ColorTween(
      begin: Colors.blue,
      end: Colors.red,
    ).animate(_controller);
    
    _rotationAnimation = Tween&lt;<span class="hljs-built_in">double</span>&gt;(
      begin: <span class="hljs-number">0.0</span>,
      end: <span class="hljs-number">2</span> * <span class="hljs-number">3.14159</span>,  <span class="hljs-comment">// 2Ï€å¼§åº¦ = 360åº¦</span>
    ).animate(_controller);
    
    <span class="hljs-comment">// 3. å¯åŠ¨åŠ¨ç”»</span>
    _controller.forward();
  }
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> dispose() {
    _controller.dispose();
    <span class="hljs-keyword">super</span>.dispose();
  }
  
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> AnimatedBuilder(
      animation: _controller,
      builder: (context, child) {
        <span class="hljs-keyword">return</span> Transform.rotate(
          angle: _rotationAnimation.value,
          child: Container(
            width: _sizeAnimation.value,
            height: _sizeAnimation.value,
            color: _colorAnimation.value,
            child: Center(
              child: Text(
                <span class="hljs-string">'åŠ¨ç”»ä¸­...'</span>,
                style: TextStyle(color: Colors.white),
              ),
            ),
          ),
        );
      },
    );
  }
}
</code></pre>
<h3 data-id="heading-15">3.3 Tweenæˆå‘˜</h3>
<p>Flutteræä¾›äº†å¤šç§ä¸“é—¨çš„Tweenç±»ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// å°ºå¯¸</span>
SizeTween(
  begin: Size(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>),
  end: Size(<span class="hljs-number">200</span>, <span class="hljs-number">200</span>),
)

<span class="hljs-comment">// çŸ©å½¢åŒºåŸŸ</span>
RectTween(
  begin: Rect.fromLTRB(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>),
  end: Rect.fromLTRB(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>),  
)

<span class="hljs-comment">// æ•´æ•°</span>
IntTween(
  begin: <span class="hljs-number">0</span>,
  end: <span class="hljs-number">100</span>,
)

<span class="hljs-comment">// æ­¥è¿›</span>
StepTween(
  begin: <span class="hljs-number">0</span>,
  end: <span class="hljs-number">100</span>,
)

<span class="hljs-comment">// å¯ä»¥ä¸ºè‡ªå®šä¹‰ç±»å‹åˆ›å»ºè¡¥é—´åŠ¨ç”»</span>
Tween&lt;YourCustomType&gt;(
  begin: CustomType(),
  end: CustomType(),
)
</code></pre>
<h2 data-id="heading-16">å››ã€åŠ¨ç”»æ›²çº¿ä¸æ§åˆ¶å™¨</h2>
<h3 data-id="heading-17">4.1 åŠ¨ç”»æ›²çº¿ - Curves</h3>
<p>åŠ¨ç”»æ›²çº¿æœ¬è´¨å°±æ˜¯æ¨¡æ‹Ÿç°å®ç”Ÿæ´»ä¸­çš„è‡ªç„¶è¿åŠ¨è§„å¾‹ã€‚</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// ä½¿ç”¨ä¸åŒçš„åŠ¨ç”»æ›²çº¿</span>
Animation&lt;<span class="hljs-built_in">double</span>&gt; animation = CurvedAnimation(
  parent: controller,
  curve: Curves.easeInOut,     <span class="hljs-comment">// å…ˆåŠ é€Ÿå†å‡é€Ÿ</span>
  reverseCurve: Curves.easeIn, <span class="hljs-comment">// åå‘åŠ¨ç”»</span>
);
</code></pre>
<p><strong>å¸¸ç”¨çš„åŠ¨ç”»æ›²çº¿ï¼š</strong></p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// çº¿æ€§</span>
Curves.linear

<span class="hljs-comment">// æ›²çº¿</span>
Curves.easeIn        <span class="hljs-comment">// å…ˆæ…¢åå¿«</span>
Curves.easeOut       <span class="hljs-comment">// å…ˆå¿«åæ…¢  </span>
Curves.easeInOut     <span class="hljs-comment">// å…ˆæ…¢ï¼Œä¸­é—´å¿«ï¼Œåæ…¢</span>

<span class="hljs-comment">// å¼¹æ€§æ•ˆæœ</span>
Curves.bounceOut     <span class="hljs-comment">// å›å¼¹æ•ˆæœ</span>
Curves.elasticOut    <span class="hljs-comment">// å¼¹ç°§æ•ˆæœ</span>

<span class="hljs-comment">// å›å¼¹æ•ˆæœ</span>
Curves.decelerate    <span class="hljs-comment">// å…ˆå¿«åæ…¢</span>
</code></pre>
<h3 data-id="heading-18">4.2 ä¸åŒæ›²çº¿æ•ˆæœ</h3>
<p>ä¸‹é¢åˆ›å»ºä¸€ä¸ªä¸åŒæ›²çº¿çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CurvesDemo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  _CurvesDemoState createState() =&gt; _CurvesDemoState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_CurvesDemoState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">CurvesDemo</span>&gt; <span class="hljs-title">with</span> <span class="hljs-title">SingleTickerProviderStateMixin</span> </span>{
  <span class="hljs-keyword">late</span> AnimationController _controller;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;Curve&gt; _curves = [
    Curves.linear,
    Curves.easeIn,
    Curves.easeOut,
    Curves.easeInOut,
    Curves.bounceOut,
    Curves.elasticOut,
  ];
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;<span class="hljs-built_in">String</span>&gt; _curveNames = [
    <span class="hljs-string">'linear'</span>,
    <span class="hljs-string">'easeIn'</span>, 
    <span class="hljs-string">'easeOut'</span>,
    <span class="hljs-string">'easeInOut'</span>,
    <span class="hljs-string">'bounceOut'</span>,
    <span class="hljs-string">'elasticOut'</span>,
  ];
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> initState() {
    <span class="hljs-keyword">super</span>.initState();
    _controller = AnimationController(
      duration: <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">2</span>),
      vsync: <span class="hljs-keyword">this</span>,
    )..repeat(reverse: <span class="hljs-keyword">true</span>);  <span class="hljs-comment">// å¾ªç¯</span>
  }
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> dispose() {
    _controller.dispose();
    <span class="hljs-keyword">super</span>.dispose();
  }
  
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> ListView.builder(
      itemCount: _curves.length,
      itemBuilder: (context, index) {
        <span class="hljs-keyword">return</span> Padding(
          padding: EdgeInsets.all(<span class="hljs-number">8.0</span>),
          child: Column(
            children: [
              Text(_curveNames[index]),
              SizedBox(height: <span class="hljs-number">10</span>),
              Container(
                height: <span class="hljs-number">50</span>,
                child: AnimatedBuilder(
                  animation: _controller,
                  builder: (context, child) {
                    <span class="hljs-keyword">final</span> animation = CurvedAnimation(
                      parent: _controller,
                      curve: _curves[index],
                    );
                    <span class="hljs-keyword">return</span> Container(
                      width: <span class="hljs-number">50</span> + animation.value * <span class="hljs-number">200</span>,  <span class="hljs-comment">// å®½åº¦ä»50åˆ°250</span>
                      color: Colors.blue,
                      child: Center(
                        child: Text(<span class="hljs-string">'<span class="hljs-subst">${(animation.value * <span class="hljs-number">100</span>).round()}</span>%'</span>),
                      ),
                    );
                  },
                ),
              ),
            ],
          ),
        );
      },
    );
  }
}
</code></pre>
<h2 data-id="heading-19">äº”ã€AnimationController</h2>
<h3 data-id="heading-20">5.1 åŸºæœ¬æ“ä½œ</h3>
<p><code>AnimationController</code>ï¼šæ§åˆ¶åŠ¨ç”»çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸã€‚</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AnimationControllerExample</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  _AnimationControllerExampleState createState() =&gt; _AnimationControllerExampleState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_AnimationControllerExampleState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">AnimationControllerExample</span>&gt; 
    <span class="hljs-title">with</span> <span class="hljs-title">SingleTickerProviderStateMixin</span> </span>{
  
  <span class="hljs-keyword">late</span> AnimationController _controller;
  <span class="hljs-keyword">late</span> Animation&lt;<span class="hljs-built_in">double</span>&gt; _animation;
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> initState() {
    <span class="hljs-keyword">super</span>.initState();
    
    _controller = AnimationController(
      duration: <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">2</span>),
      vsync: <span class="hljs-keyword">this</span>,
    );
    
    _animation = Tween&lt;<span class="hljs-built_in">double</span>&gt;(begin: <span class="hljs-number">0</span>, end: <span class="hljs-number">300</span>).animate(_controller);
  }
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> dispose() {
    _controller.dispose();
    <span class="hljs-keyword">super</span>.dispose();
  }
  
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Column(
      children: [
        Container(
          height: _animation.value,
          width: _animation.value,
          color: Colors.blue,
        ),
        SizedBox(height: <span class="hljs-number">20</span>),
        Row(
          mainAxisAlignment: MainAxisAlignment.spaceEvenly,
          children: [
            ElevatedButton(
              onPressed: _controller.forward,  <span class="hljs-comment">// æ­£å‘</span>
              child: Text(<span class="hljs-string">'æ’­æ”¾'</span>),
            ),
            ElevatedButton(
              onPressed: _controller.reverse,  <span class="hljs-comment">// åå‘</span>
              child: Text(<span class="hljs-string">'å€’æ”¾'</span>),
            ),
            ElevatedButton(
              onPressed: _controller.stop,     <span class="hljs-comment">// æš‚åœ</span>
              child: Text(<span class="hljs-string">'æš‚åœ'</span>),
            ),
            ElevatedButton(
              onPressed: () {
                _controller.reset();           <span class="hljs-comment">// é‡ç½®</span>
                _controller.forward();
              },
              child: Text(<span class="hljs-string">'é‡ç½®å¹¶æ’­æ”¾'</span>),
            ),
          ],
        ),
        SizedBox(height: <span class="hljs-number">20</span>),
        Text(<span class="hljs-string">'å½“å‰å€¼: <span class="hljs-subst">${_animation.value.toStringAsFixed(<span class="hljs-number">1</span>)}</span>'</span>),
        Text(<span class="hljs-string">'å½“å‰çŠ¶æ€: <span class="hljs-subst">${_controller.status.toString()}</span>'</span>),
      ],
    );
  }
}
</code></pre>
<h3 data-id="heading-21">5.2 ä½¿ç”¨æŠ€å·§</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// åŠ¨ç”»æ§åˆ¶çš„é«˜çº§æ–¹æ³•</span>

<span class="hljs-comment">// 1. ä»ç‰¹å®šå€¼å¼€å§‹</span>
_controller.animateTo(<span class="hljs-number">0.5</span>);  <span class="hljs-comment">// ä»å½“å‰å€¼åŠ¨ç”»åˆ°0.5</span>

<span class="hljs-comment">// 2. ç›¸å¯¹åŠ¨ç”»</span>
_controller.forward(from: <span class="hljs-number">0.0</span>);  <span class="hljs-comment">// ä»0.0å¼€å§‹æ­£å‘åŠ¨ç”»</span>

<span class="hljs-comment">// 3. é‡å¤åŠ¨ç”»</span>
_controller.repeat(         <span class="hljs-comment">// æ— é™é‡å¤</span>
  min: <span class="hljs-number">0.2</span>,                 <span class="hljs-comment">// æœ€å°å€¼</span>
  max: <span class="hljs-number">0.8</span>,                 <span class="hljs-comment">// æœ€å¤§å€¼</span>
  reverse: <span class="hljs-keyword">true</span>,            <span class="hljs-comment">// å¾€è¿”æ‰§è¡Œ</span>
  period: <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">1</span>), <span class="hljs-comment">// å¾ªç¯å‘¨æœŸ</span>
);

<span class="hljs-comment">// 4. è·å–åŠ¨ç”»ä¿¡æ¯</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">'æ˜¯å¦åŠ¨ç”»ä¸­: <span class="hljs-subst">${_controller.isAnimating}</span>'</span>);
<span class="hljs-built_in">print</span>(<span class="hljs-string">'æ˜¯å¦å®Œæˆ: <span class="hljs-subst">${_controller.isCompleted}</span>'</span>);
<span class="hljs-built_in">print</span>(<span class="hljs-string">'æ˜¯å¦åœæ­¢: <span class="hljs-subst">${_controller.isDismissed}</span>'</span>);
</code></pre>
<h2 data-id="heading-22">å…­ã€è‡ªå®šä¹‰æ˜¾å¼åŠ¨ç”»ä¸æ€§èƒ½ä¼˜åŒ–</h2>
<h3 data-id="heading-23">6.1 è‡ªå®šä¹‰æ˜¾å¼åŠ¨ç”»</h3>
<p>æœ‰æ—¶å€™éšå¼åŠ¨ç”»ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œè¿™æ—¶å€™å°±éœ€è¦è‡ªå®šä¹‰æ˜¾å¼åŠ¨ç”»ã€‚</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomExplicitAnimation</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  _CustomExplicitAnimationState createState() =&gt; _CustomExplicitAnimationState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_CustomExplicitAnimationState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">CustomExplicitAnimation</span>&gt; 
    <span class="hljs-title">with</span> <span class="hljs-title">SingleTickerProviderStateMixin</span> </span>{
  
  <span class="hljs-keyword">late</span> AnimationController _controller;
  <span class="hljs-keyword">late</span> Animation&lt;<span class="hljs-built_in">double</span>&gt; _sizeAnimation;
  <span class="hljs-keyword">late</span> Animation&lt;<span class="hljs-built_in">double</span>&gt; _opacityAnimation;
  <span class="hljs-keyword">late</span> Animation&lt;Color?&gt; _colorAnimation;
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> initState() {
    <span class="hljs-keyword">super</span>.initState();
    
    _controller = AnimationController(
      duration: <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">3</span>),
      vsync: <span class="hljs-keyword">this</span>,
    );
    
    <span class="hljs-comment">// åˆ›å»ºäº¤é”™åŠ¨ç”»æ•ˆæœ</span>
    _sizeAnimation = Tween&lt;<span class="hljs-built_in">double</span>&gt;(
      begin: <span class="hljs-number">50.0</span>,
      end: <span class="hljs-number">200.0</span>,
    ).animate(CurvedAnimation(
      parent: _controller,
      curve: Interval(<span class="hljs-number">0.0</span>, <span class="hljs-number">0.6</span>, curve: Curves.easeInOut), <span class="hljs-comment">// åªåœ¨å‰60%æ—¶é—´æ‰§è¡Œ</span>
    ));
    
    _opacityAnimation = Tween&lt;<span class="hljs-built_in">double</span>&gt;(
      begin: <span class="hljs-number">0.3</span>,
      end: <span class="hljs-number">1.0</span>,
    ).animate(CurvedAnimation(
      parent: _controller,
      curve: Interval(<span class="hljs-number">0.2</span>, <span class="hljs-number">0.8</span>, curve: Curves.easeIn), <span class="hljs-comment">// ä»20%åˆ°80%æ—¶é—´æ‰§è¡Œ</span>
    ));
    
    _colorAnimation = ColorTween(
      begin: Colors.blue,
      end: Colors.purple,
    ).animate(CurvedAnimation(
      parent: _controller,
      curve: Interval(<span class="hljs-number">0.5</span>, <span class="hljs-number">1.0</span>, curve: Curves.easeOut), <span class="hljs-comment">// ä»50%æ—¶é—´å¼€å§‹æ‰§è¡Œ</span>
    ));
    
    _controller.forward();
  }
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> dispose() {
    _controller.dispose();
    <span class="hljs-keyword">super</span>.dispose();
  }
  
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> AnimatedBuilder(
      animation: _controller,
      builder: (context, child) {
        <span class="hljs-keyword">return</span> Opacity(
          opacity: _opacityAnimation.value,
          child: Container(
            width: _sizeAnimation.value,
            height: _sizeAnimation.value,
            decoration: BoxDecoration(
              color: _colorAnimation.value,
              borderRadius: BorderRadius.circular(<span class="hljs-number">20</span>),
              boxShadow: [
                BoxShadow(
                  color: Colors.black.withOpacity(<span class="hljs-number">0.3</span>),
                  blurRadius: <span class="hljs-number">10</span>,
                  offset: Offset(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>),
                ),
              ],
            ),
            child: Center(
              child: Text(
                <span class="hljs-string">'è‡ªå®šä¹‰åŠ¨ç”»'</span>,
                style: TextStyle(
                  color: Colors.white,
                  fontSize: <span class="hljs-number">18</span>,
                  fontWeight: FontWeight.bold,
                ),
              ),
            ),
          ),
        );
      },
    );
  }
}
</code></pre>
<p>äºŒè€…ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿéšå¼åŠ¨ç”» vs æ˜¾å¼åŠ¨ç”»</p>






























<table><thead><tr><th>ç»´åº¦</th><th>éšå¼åŠ¨ç”»</th><th>æ˜¾å¼åŠ¨ç”»</th></tr></thead><tbody><tr><td>æ§åˆ¶</td><td>è‡ªåŠ¨æ§åˆ¶</td><td>å®Œå…¨æ§åˆ¶</td></tr><tr><td>ä»£ç é‡</td><td>ç®€å•</td><td>ç›¸å¯¹å¤æ‚</td></tr><tr><td>çµæ´»æ€§</td><td>æœ‰é™</td><td>éå¸¸é«˜</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>ç®€å•å±æ€§å˜åŒ–</td><td>å¤æ‚åŠ¨ç”»åºåˆ—</td></tr></tbody></table>
<h3 data-id="heading-24">6.2 æ€§èƒ½ä¼˜åŒ–</h3>
<p>åŠ¨ç”»æ€§èƒ½å¾ˆé‡è¦ï¼Œä¸å¥½çš„åŠ¨ç”»æ•ˆæœä¼šè®©ç”¨æˆ·è§‰å¾—åº”ç”¨å¡é¡¿ã€‚è¿™é‡Œæœ‰å‡ ä¸ªä¼˜åŒ–æŠ€å·§ï¼š</p>
<h4 data-id="heading-25">6.2.1 ä½¿ç”¨AnimatedBuilderå±€éƒ¨é‡å»º</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// ä¸æ¨èï¼šæ•´ä¸ªé¡µé¢é‡å»º</span>
<span class="hljs-meta">@override</span>
Widget build(BuildContext context) {
  <span class="hljs-keyword">return</span> Scaffold(
    body: Opacity(
      opacity: _animation.value,
      child: TestWidget(), <span class="hljs-comment">// ç»„ä»¶è¢«é‡å¤é‡å»º</span>
    ),
  );
}

<span class="hljs-comment">// æ¨èï¼šåªé‡å»ºåŠ¨ç”»éƒ¨åˆ†</span>
<span class="hljs-meta">@override</span>
Widget build(BuildContext context) {
  <span class="hljs-keyword">return</span> Scaffold(
    body: AnimatedBuilder(
      animation: _animation,
      builder: (context, child) {
        <span class="hljs-keyword">return</span> Opacity(
          opacity: _animation.value,
          child: child, <span class="hljs-comment">// ä½¿ç”¨ç¼“å­˜çš„child</span>
        );
      },
      child: TestWidget(), <span class="hljs-comment">// ç»„ä»¶åªæ„å»ºä¸€æ¬¡</span>
    ),
  );
}
</code></pre>
<h4 data-id="heading-26">6.2.2 ä½¿ç”¨Transformä»£æ›¿å¸ƒå±€å±æ€§</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// ä¸æ¨èï¼šæ”¹å˜å°ºå¯¸ä¼šè§¦å‘å¸ƒå±€é‡æ–°è®¡ç®—</span>
Container(
  width: _animation.value,
  height: _animation.value,
)

<span class="hljs-comment">// æ¨èï¼šTransformåªå½±å“ç»˜åˆ¶ï¼Œä¸è§¦å‘å¸ƒå±€</span>
Transform.scale(
  scale: _animation.value,
  child: Container(
    width: <span class="hljs-number">100</span>,  <span class="hljs-comment">// å›ºå®šå°ºå¯¸</span>
    height: <span class="hljs-number">100</span>,
  ),
)
</code></pre>
<h4 data-id="heading-27">6.2.3 é¿å…åœ¨åŠ¨ç”»ä¸­ä½¿ç”¨Opacity</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// ä¸æ¨èï¼šOpacityä¼šå¯¼è‡´æ•´ä¸ªå­æ ‘é‡ç»˜</span>
Opacity(
  opacity: _animation.value,
  child: TestComplexWidget(),
)

<span class="hljs-comment">// æ¨èï¼šä½¿ç”¨é¢œè‰²é€æ˜åº¦</span>
Container(
  color: Colors.blue.withOpacity(_animation.value),
  child: TestComplexWidget(),
)

<span class="hljs-comment">// æ¨èï¼šä½¿ç”¨FadeTransition</span>
FadeTransition(
  opacity: _animation,
  child: TestComplexWidget(),
)
</code></pre>
<h3 data-id="heading-28">6.3 åˆ›å»ºä¸€ä¸ªåŠ è½½åŠ¨ç”»</h3>
<p>ä¸‹é¢ç”¨ä¸€ä¸ªåŠ è½½åŠ¨ç”»æ•ˆæœä¸²ä¸€ä¸‹ä¸Šé¢æ‰€è®²å†…å®¹ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SmoothLoadingAnimation</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  _SmoothLoadingAnimationState createState() =&gt; _SmoothLoadingAnimationState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_SmoothLoadingAnimationState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">SmoothLoadingAnimation</span>&gt; 
    <span class="hljs-title">with</span> <span class="hljs-title">SingleTickerProviderStateMixin</span> </span>{
  
  <span class="hljs-keyword">late</span> AnimationController _controller;
  <span class="hljs-keyword">late</span> Animation&lt;<span class="hljs-built_in">double</span>&gt; _rotationAnimation;
  <span class="hljs-keyword">late</span> Animation&lt;<span class="hljs-built_in">double</span>&gt; _scaleAnimation;
  <span class="hljs-keyword">late</span> Animation&lt;Color?&gt; _colorAnimation;
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> initState() {
    <span class="hljs-keyword">super</span>.initState();
    
    _controller = AnimationController(
      duration: <span class="hljs-built_in">Duration</span>(milliseconds: <span class="hljs-number">1500</span>),
      vsync: <span class="hljs-keyword">this</span>,
    )..repeat(reverse: <span class="hljs-keyword">true</span>);
    
    _rotationAnimation = Tween&lt;<span class="hljs-built_in">double</span>&gt;(
      begin: <span class="hljs-number">0.0</span>,
      end: <span class="hljs-number">2</span> * <span class="hljs-number">3.14159</span>,
    ).animate(CurvedAnimation(
      parent: _controller,
      curve: Curves.easeInOut,
    ));
    
    _scaleAnimation = Tween&lt;<span class="hljs-built_in">double</span>&gt;(
      begin: <span class="hljs-number">0.8</span>,
      end: <span class="hljs-number">1.2</span>,
    ).animate(CurvedAnimation(
      parent: _controller,
      curve: Curves.easeInOut,
    ));
    
    _colorAnimation = ColorTween(
      begin: Colors.blue[<span class="hljs-number">300</span>],
      end: Colors.blue[<span class="hljs-number">700</span>],
    ).animate(CurvedAnimation(
      parent: _controller,
      curve: Curves.easeInOut,
    ));
  }
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> dispose() {
    _controller.dispose();
    <span class="hljs-keyword">super</span>.dispose();
  }
  
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> AnimatedBuilder(
      animation: _controller,
      builder: (context, child) {
        <span class="hljs-keyword">return</span> Transform.rotate(
          angle: _rotationAnimation.value,
          child: Transform.scale(
            scale: _scaleAnimation.value,
            child: Container(
              width: <span class="hljs-number">60</span>,
              height: <span class="hljs-number">60</span>,
              decoration: BoxDecoration(
                color: _colorAnimation.value,
                borderRadius: BorderRadius.circular(<span class="hljs-number">30</span>),
                boxShadow: [
                  BoxShadow(
                    color: Colors.black.withOpacity(<span class="hljs-number">0.2</span>),
                    blurRadius: <span class="hljs-number">10</span>,
                    offset: Offset(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>),
                  ),
                ],
              ),
              child: Icon(
                Icons.refresh,
                color: Colors.white,
                size: <span class="hljs-number">30</span>,
              ),
            ),
          ),
        );
      },
    );
  }
}
</code></pre>
<h2 data-id="heading-29">æ€»ç»“</h2>
<h3 data-id="heading-30">æ ¸å¿ƒçŸ¥è¯†ç‚¹</h3>
<ul>
<li>ç†è§£äº†Animationã€AnimationControllerã€Tweenã€Curveçš„ä½œç”¨</li>
<li>æŒæ¡äº†åŠ¨ç”»çŠ¶æ€çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†</li>
<li>ç†è§£äº†éšå¼åŠ¨ç”»çš„è‡ªåŠ¨ç®¡ç†æœºåˆ¶</li>
<li>å­¦ä¼šäº†åˆ›å»ºå„ç§ç±»å‹çš„è¡¥é—´åŠ¨ç”»</li>
<li>å­¦ä¼šäº†ä½¿ç”¨Curvesè®©åŠ¨ç”»æ›´è‡ªç„¶</li>
<li>å­¦ä¼šäº†åˆ›å»ºå¤æ‚çš„è‡ªå®šä¹‰åŠ¨ç”»</li>
<li>å­¦ä¼šäº†ä½¿ç”¨AnimatedBuilderä¼˜åŒ–æ€§èƒ½</li>
</ul>
<p>ä¸€ä¸ªå¥½çš„åº”ç”¨æ•´ä½“åŠ¨ç”»æ•ˆæœé£æ ¼è¦ä¸€è‡´ï¼ŒåŒæ—¶è¦ä¿æŒæµç•…åº¦ï¼Œå¢å¼ºç”¨æˆ·ä½“éªŒã€‚é€šè¿‡æœ¬èŠ‚å­¦ä¹ ï¼Œç›¸ä¿¡å¤§å®¶å·²ç»æŒæ¡äº†FlutteråŠ¨ç”»çš„æ ¸å¿ƒæ¦‚å¿µå’Œå®æˆ˜æŠ€å·§ã€‚å¤šåŠ¨æ‰‹å®ç°å„ç§åŠ¨ç”»æ•ˆæœï¼Œä¸æ–­è°ƒè¯•ä¼˜åŒ–å§~~~ <strong>æœ‰ä»»ä½•é—®é¢˜æ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œçœ‹åˆ°ä¼šç¬¬ä¸€æ—¶é—´å›å¤ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•åœ¨Pythonä¸­ä½¿ç”¨SQLiteæ•°æ®åº“è¿›è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œï¼Ÿ]]></title>    <link>https://juejin.cn/post/7576026767371763731</link>    <guid>https://juejin.cn/post/7576026767371763731</guid>    <pubDate>2025-11-24T08:50:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576026767371763731" data-draft-id="7576018857367961643" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•åœ¨Pythonä¸­ä½¿ç”¨SQLiteæ•°æ®åº“è¿›è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œï¼Ÿ"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-11-24T08:50:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="testç®¡å®¶"/> <meta itemprop="url" content="https://juejin.cn/user/2763513988408746"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•åœ¨Pythonä¸­ä½¿ç”¨SQLiteæ•°æ®åº“è¿›è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2763513988408746/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    testç®¡å®¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:50:04.000Z" title="Mon Nov 24 2025 08:50:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>SQLite æ˜¯ Python å†…ç½®æ”¯æŒçš„è½»é‡çº§åµŒå…¥å¼æ•°æ®åº“ï¼Œæ— éœ€å®‰è£…é¢å¤–æœåŠ¡ç«¯ï¼Œä»…é€šè¿‡æ–‡ä»¶ï¼ˆæˆ–å†…å­˜ï¼‰å­˜å‚¨æ•°æ®ï¼Œéå¸¸é€‚åˆå°å‹é¡¹ç›®ã€æµ‹è¯•åœºæ™¯æˆ–æœ¬åœ°æ•°æ®ç®¡ç†ã€‚ä»¥ä¸‹æ˜¯<strong>å®Œæ•´çš„å¢åˆ æ”¹æŸ¥ï¼ˆCRUDï¼‰æ“ä½œæ•™ç¨‹</strong>ï¼ŒåŒ…å«æ ¸å¿ƒè¯­æ³•ã€ç¤ºä¾‹ä»£ç å’Œæœ€ä½³å®è·µã€‚</p>
<h3 data-id="heading-0">ä¸€ã€æ ¸å¿ƒå‰ç½®çŸ¥è¯†</h3>
<ol>
<li>Python å†…ç½® <code>sqlite3</code> æ¨¡å—ï¼Œæ— éœ€ <code>pip install</code>ï¼Œç›´æ¥å¯¼å…¥å³å¯ä½¿ç”¨ã€‚</li>
<li>æ“ä½œæµç¨‹ï¼š<code>å»ºç«‹è¿æ¥ â†’ åˆ›å»ºæ¸¸æ ‡ â†’ æ‰§è¡ŒSQL â†’ å¤„ç†ç»“æœ â†’ æäº¤äº‹åŠ¡ï¼ˆå¢åˆ æ”¹ï¼‰â†’ å…³é—­èµ„æº</code>ã€‚</li>
<li>å ä½ç¬¦ï¼šSQLite ä½¿ç”¨ <code>?</code> ä½œä¸ºå‚æ•°å ä½ç¬¦ï¼ˆé¿å… SQL æ³¨å…¥ï¼Œåˆ‡å‹¿å­—ç¬¦ä¸²æ‹¼æ¥ï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-1">äºŒã€å®Œæ•´ CRUD ç¤ºä¾‹</h3>
<h4 data-id="heading-2">æ­¥éª¤1ï¼šå¯¼å…¥æ¨¡å—å¹¶å»ºç«‹è¿æ¥</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> sqlite3

<span class="hljs-comment"># 1. å»ºç«‹è¿æ¥ï¼ˆå…³é”®ï¼‰</span>
<span class="hljs-comment"># - è¿æ¥æœ¬åœ°æ–‡ä»¶ï¼štest.dbï¼ˆä¸å­˜åœ¨åˆ™è‡ªåŠ¨åˆ›å»ºï¼‰</span>
<span class="hljs-comment"># - å†…å­˜æ•°æ®åº“ï¼šsqlite3.connect(":memory:")ï¼ˆç¨‹åºé€€å‡ºåæ•°æ®ä¸¢å¤±ï¼‰</span>
conn = sqlite3.connect(<span class="hljs-string">"test.db"</span>)

<span class="hljs-comment"># 2. åˆ›å»ºæ¸¸æ ‡ï¼ˆæ‰§è¡ŒSQLçš„å·¥å…·ï¼‰</span>
cursor = conn.cursor()
</code></pre>
<h4 data-id="heading-3">æ­¥éª¤2ï¼šåˆ›å»ºè¡¨ï¼ˆåŸºç¡€å‡†å¤‡ï¼‰</h4>
<p>å…ˆå®šä¹‰æ•°æ®è¡¨ç»“æ„ï¼ˆä»¥ <code>users</code> è¡¨ä¸ºä¾‹ï¼ŒåŒ…å« idã€å§“åã€å¹´é¾„ã€é‚®ç®±ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åˆ›å»ºusersè¡¨ï¼ˆIF NOT EXISTS é¿å…é‡å¤åˆ›å»ºï¼‰</span>
create_table_sql = <span class="hljs-string">"""
CREATE TABLE IF NOT EXISTS users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,  -- è‡ªå¢ä¸»é”®
    name TEXT NOT NULL,                    -- å§“åï¼ˆéç©ºï¼‰
    age INTEGER,                           -- å¹´é¾„
    email TEXT UNIQUE                      -- é‚®ç®±ï¼ˆå”¯ä¸€ï¼Œé¿å…é‡å¤ï¼‰
);
"""</span>
cursor.execute(create_table_sql)
conn.commit()  <span class="hljs-comment"># å»ºè¡¨å±äºä¿®æ”¹æ“ä½œï¼Œéœ€æäº¤äº‹åŠ¡</span>
</code></pre>
<h4 data-id="heading-4">æ­¥éª¤3ï¼šæ–°å¢æ•°æ®ï¼ˆCREATEï¼‰</h4>
<p>æ”¯æŒ<strong>å•æ¡æ’å…¥</strong>å’Œ<strong>æ‰¹é‡æ’å…¥</strong>ï¼Œæ ¸å¿ƒæ˜¯ç”¨ <code>?</code> å ä½ç¬¦ä¼ é€’å‚æ•°ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ–¹å¼1ï¼šå•æ¡æ’å…¥</span>
insert_single_sql = <span class="hljs-string">"INSERT INTO users (name, age, email) VALUES (?, ?, ?);"</span>
<span class="hljs-comment"># å‚æ•°ä»¥å…ƒç»„å½¢å¼ä¼ é€’ï¼ŒåŒ¹é…å ä½ç¬¦æ•°é‡</span>
cursor.execute(insert_single_sql, (<span class="hljs-string">"Alice"</span>, <span class="hljs-number">25</span>, <span class="hljs-string">"alice@example.com"</span>))

<span class="hljs-comment"># æ–¹å¼2ï¼šæ‰¹é‡æ’å…¥ï¼ˆæ•ˆç‡æ›´é«˜ï¼Œå‡å°‘IOï¼‰</span>
insert_batch_sql = <span class="hljs-string">"INSERT INTO users (name, age, email) VALUES (?, ?, ?);"</span>
data_list = [
    (<span class="hljs-string">"Bob"</span>, <span class="hljs-number">30</span>, <span class="hljs-string">"bob@example.com"</span>),
    (<span class="hljs-string">"Charlie"</span>, <span class="hljs-number">28</span>, <span class="hljs-string">"charlie@example.com"</span>),
    (<span class="hljs-string">"David"</span>, <span class="hljs-number">22</span>, <span class="hljs-string">"david@example.com"</span>)
]
cursor.executemany(insert_batch_sql, data_list)

<span class="hljs-comment"># å¢åˆ æ”¹æ“ä½œå¿…é¡»æäº¤äº‹åŠ¡ï¼Œå¦åˆ™æ•°æ®ä¸ç”Ÿæ•ˆ</span>
conn.commit()
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ’å…¥æ•°æ®æˆåŠŸï¼Œæœ€åæ’å…¥çš„IDï¼š"</span>, cursor.lastrowid)  <span class="hljs-comment"># è·å–æœ€åæ’å…¥çš„ä¸»é”®ID</span>
</code></pre>
<h4 data-id="heading-5">æ­¥éª¤4ï¼šæŸ¥è¯¢æ•°æ®ï¼ˆREADï¼‰</h4>
<p>æŸ¥è¯¢æ— éœ€æäº¤äº‹åŠ¡ï¼Œæ ¸å¿ƒæ˜¯é€šè¿‡ <code>fetchone()</code>/<code>fetchall()</code>/<code>fetchmany(n)</code> è·å–ç»“æœï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ–¹å¼1ï¼šæŸ¥è¯¢å•æ¡æ•°æ®ï¼ˆfetchone()ï¼‰</span>
select_single_sql = <span class="hljs-string">"SELECT * FROM users WHERE name = ?;"</span>
cursor.execute(select_single_sql, (<span class="hljs-string">"Alice"</span>,))
single_result = cursor.fetchone()  <span class="hljs-comment"># è¿”å›å…ƒç»„ï¼š(1, 'Alice', 25, 'alice@example.com')</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"å•æ¡æŸ¥è¯¢ç»“æœï¼š"</span>, single_result)

<span class="hljs-comment"># æ–¹å¼2ï¼šæŸ¥è¯¢å¤šæ¡æ•°æ®ï¼ˆfetchall()ï¼‰</span>
select_all_sql = <span class="hljs-string">"SELECT id, name, age FROM users WHERE age &gt; ?;"</span>
cursor.execute(select_all_sql, (<span class="hljs-number">25</span>,))
all_results = cursor.fetchall()  <span class="hljs-comment"># è¿”å›åˆ—è¡¨åµŒå¥—å…ƒç»„ï¼š[(2, 'Bob', 30), (3, 'Charlie', 28)]</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nå¤šæ¡æŸ¥è¯¢ç»“æœï¼š"</span>)
<span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> all_results:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ID: <span class="hljs-subst">{row[<span class="hljs-number">0</span>]}</span>, å§“å: <span class="hljs-subst">{row[<span class="hljs-number">1</span>]}</span>, å¹´é¾„: <span class="hljs-subst">{row[<span class="hljs-number">2</span>]}</span>"</span>)

<span class="hljs-comment"># æ–¹å¼3ï¼šæŒ‡å®šæ¡æ•°æŸ¥è¯¢ï¼ˆfetchmany(n)ï¼‰</span>
cursor.execute(<span class="hljs-string">"SELECT * FROM users;"</span>)
many_results = cursor.fetchmany(<span class="hljs-number">2</span>)  <span class="hljs-comment"># ä»…è·å–å‰2æ¡</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\næŒ‡å®šæ¡æ•°æŸ¥è¯¢ç»“æœï¼š"</span>, many_results)

<span class="hljs-comment"># è¿›é˜¶ï¼šè¿”å›å­—å…¸æ ¼å¼ç»“æœï¼ˆæ›´æ˜“è¯»ï¼‰</span>
<span class="hljs-comment"># åˆ›å»ºæ¸¸æ ‡æ—¶æŒ‡å®š row_factory</span>
conn.row_factory = sqlite3.Row
cursor = conn.cursor()
cursor.execute(<span class="hljs-string">"SELECT * FROM users WHERE id = ?;"</span>, (<span class="hljs-number">1</span>,))
dict_result = cursor.fetchone()
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nå­—å…¸æ ¼å¼ç»“æœï¼š"</span>, dict_result[<span class="hljs-string">"name"</span>], dict_result[<span class="hljs-string">"email"</span>])  <span class="hljs-comment"># å¯é€šè¿‡é”®å–å€¼</span>
</code></pre>
<h4 data-id="heading-6">æ­¥éª¤5ï¼šæ›´æ–°æ•°æ®ï¼ˆUPDATEï¼‰</h4>
<p>æ ¹æ®æ¡ä»¶ä¿®æ”¹å·²æœ‰æ•°æ®ï¼Œæ³¨æ„åŠ  <code>WHERE</code> å­å¥ï¼ˆå¦åˆ™ä¼šæ›´æ–°å…¨è¡¨ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python">update_sql = <span class="hljs-string">"UPDATE users SET age = ? WHERE name = ?;"</span>
cursor.execute(update_sql, (<span class="hljs-number">26</span>, <span class="hljs-string">"Alice"</span>))  <span class="hljs-comment"># å°†Aliceçš„å¹´é¾„æ”¹ä¸º26</span>
conn.commit()

<span class="hljs-comment"># æŸ¥çœ‹å—å½±å“çš„è¡Œæ•°</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ›´æ–°å½±å“çš„è¡Œæ•°ï¼š"</span>, cursor.rowcount)  <span class="hljs-comment"># è¾“å‡ºï¼š1</span>
</code></pre>
<h4 data-id="heading-7">æ­¥éª¤6ï¼šåˆ é™¤æ•°æ®ï¼ˆDELETEï¼‰</h4>
<p>åŒæ ·éœ€åŠ  <code>WHERE</code> å­å¥ï¼ˆå¦åˆ™åˆ é™¤å…¨è¡¨æ•°æ®ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python">delete_sql = <span class="hljs-string">"DELETE FROM users WHERE id = ?;"</span>
cursor.execute(delete_sql, (<span class="hljs-number">4</span>,))  <span class="hljs-comment"># åˆ é™¤IDä¸º4çš„è®°å½•</span>
conn.commit()

<span class="hljs-built_in">print</span>(<span class="hljs-string">"åˆ é™¤å½±å“çš„è¡Œæ•°ï¼š"</span>, cursor.rowcount)  <span class="hljs-comment"># è¾“å‡ºï¼š1</span>
</code></pre>
<h4 data-id="heading-8">æ­¥éª¤7ï¼šå…³é—­èµ„æºï¼ˆé¿å…æ³„æ¼ï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å…ˆå…³æ¸¸æ ‡ï¼Œå†å…³è¿æ¥</span>
cursor.close()
conn.close()
</code></pre>
<h3 data-id="heading-9">ä¸‰ã€æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-10">1. ä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼ˆwith è¯­å¥ï¼‰</h4>
<p>è‡ªåŠ¨å…³é—­æ¸¸æ ‡/è¿æ¥ï¼Œæ— éœ€æ‰‹åŠ¨ <code>close</code>ï¼Œæ›´ç®€æ´å®‰å…¨ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> sqlite3

<span class="hljs-comment"># ä¸Šä¸‹æ–‡ç®¡ç†å™¨ç®€åŒ–æ“ä½œ</span>
<span class="hljs-keyword">with</span> sqlite3.connect(<span class="hljs-string">"test.db"</span>) <span class="hljs-keyword">as</span> conn:
    cursor = conn.cursor()
    <span class="hljs-comment"># æ‰§è¡ŒæŸ¥è¯¢</span>
    cursor.execute(<span class="hljs-string">"SELECT * FROM users;"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¸Šä¸‹æ–‡ç®¡ç†å™¨æŸ¥è¯¢ç»“æœï¼š"</span>, cursor.fetchall())
    <span class="hljs-comment"># å¢åˆ æ”¹æ— éœ€æ‰‹åŠ¨commitï¼Œwithå—ç»“æŸä¼šè‡ªåŠ¨æäº¤ï¼ˆå‡ºé”™åˆ™å›æ»šï¼‰</span>
    cursor.execute(<span class="hljs-string">"INSERT INTO users (name, age, email) VALUES (?, ?, ?);"</span>, (<span class="hljs-string">"Eve"</span>, <span class="hljs-number">29</span>, <span class="hljs-string">"eve@example.com"</span>))
</code></pre>
<h4 data-id="heading-11">2. é˜² SQL æ³¨å…¥ï¼ˆå…³é”®ï¼‰</h4>
<p><strong>ä¸¥ç¦å­—ç¬¦ä¸²æ‹¼æ¥ SQL</strong>ï¼Œå¿…é¡»ä½¿ç”¨ <code>?</code> å ä½ç¬¦ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># é”™è¯¯ç¤ºä¾‹ï¼ˆæ˜“è¢«æ³¨å…¥ï¼Œå¦‚nameä¼ å…¥ "Alice'; DROP TABLE users; --"ï¼‰</span>
name = <span class="hljs-string">"Alice"</span>
sql = <span class="hljs-string">f"SELECT * FROM users WHERE name = '<span class="hljs-subst">{name}</span>';"</span>  <span class="hljs-comment"># å±é™©ï¼</span>

<span class="hljs-comment"># æ­£ç¡®ç¤ºä¾‹ï¼ˆå ä½ç¬¦ï¼‰</span>
sql = <span class="hljs-string">"SELECT * FROM users WHERE name = ?;"</span>
cursor.execute(sql, (name,))  <span class="hljs-comment"># å®‰å…¨</span>
</code></pre>
<h4 data-id="heading-12">3. å¤„ç†å¼‚å¸¸ï¼ˆç”Ÿäº§ç¯å¢ƒå¿…å¤‡ï¼‰</h4>
<p>æ•è· <code>sqlite3.Error</code> å¼‚å¸¸ï¼Œé¿å…ç¨‹åºå´©æºƒï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> sqlite3

<span class="hljs-keyword">try</span>:
    conn = sqlite3.connect(<span class="hljs-string">"test.db"</span>)
    cursor = conn.cursor()
    <span class="hljs-comment"># æ‰§è¡Œå¯èƒ½å‡ºé”™çš„æ“ä½œï¼ˆå¦‚æ’å…¥é‡å¤é‚®ç®±ï¼‰</span>
    cursor.execute(<span class="hljs-string">"INSERT INTO users (name, age, email) VALUES (?, ?, ?);"</span>, (<span class="hljs-string">"Frank"</span>, <span class="hljs-number">35</span>, <span class="hljs-string">"alice@example.com"</span>))
    conn.commit()
<span class="hljs-keyword">except</span> sqlite3.IntegrityError <span class="hljs-keyword">as</span> e:
    <span class="hljs-comment"># æ•è·å”¯ä¸€é”®å†²çªå¼‚å¸¸</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ’å…¥å¤±è´¥ï¼šå”¯ä¸€é”®å†²çª"</span>, e)
    conn.rollback()  <span class="hljs-comment"># å‡ºé”™å›æ»šäº‹åŠ¡</span>
<span class="hljs-keyword">except</span> sqlite3.Error <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ•°æ®åº“é”™è¯¯ï¼š"</span>, e)
    conn.rollback()
<span class="hljs-keyword">finally</span>:
    <span class="hljs-keyword">if</span> cursor:
        cursor.close()
    <span class="hljs-keyword">if</span> conn:
        conn.close()
</code></pre>
<h3 data-id="heading-13">å››ã€å¸¸è§é—®é¢˜è§£ç­”</h3>
<ol>
<li><strong>å»ºè¡¨åæ•°æ®ä¸ç”Ÿæ•ˆï¼Ÿ</strong><br/>
å¢åˆ æ”¹/å»ºè¡¨æ“ä½œéœ€æ‰§è¡Œ <code>conn.commit()</code>ï¼ŒæŸ¥è¯¢æ— éœ€ã€‚</li>
<li><strong>è‡ªå¢ä¸»é”®å¦‚ä½•è·å–ï¼Ÿ</strong><br/>
æ’å…¥åé€šè¿‡ <code>cursor.lastrowid</code> è·å–æœ€åæ’å…¥çš„ IDã€‚</li>
<li><strong>å¦‚ä½•è¿”å›å­—å…¸æ ¼å¼ç»“æœï¼Ÿ</strong><br/>
è®¾ç½® <code>conn.row_factory = sqlite3.Row</code>ï¼Œæ¸¸æ ‡ç»“æœå¯é€šè¿‡é”®å–å€¼ã€‚</li>
<li><strong>å†…å­˜æ•°æ®åº“çš„ç”¨é€”ï¼Ÿ</strong><br/>
<code>sqlite3.connect(":memory:")</code> é€‚åˆä¸´æ—¶æµ‹è¯•ï¼Œæ•°æ®ä»…å­˜äºå†…å­˜ï¼Œç¨‹åºé€€å‡ºåä¸¢å¤±ã€‚</li>
</ol>
<h3 data-id="heading-14">æ€»ç»“</h3>
<p>SQLite æ“ä½œçš„æ ¸å¿ƒæ˜¯ï¼š</p>
<ul>
<li>è¿æ¥ï¼š<code>sqlite3.connect()</code>ï¼ˆæ–‡ä»¶/å†…å­˜ï¼‰ï¼›</li>
<li>æ‰§è¡Œï¼š<code>cursor.execute()</code>ï¼ˆå•æ¡ï¼‰/<code>executemany()</code>ï¼ˆæ‰¹é‡ï¼‰ï¼›</li>
<li>å‚æ•°ï¼šç”¨ <code>?</code> å ä½ç¬¦ï¼Œé¿å… SQL æ³¨å…¥ï¼›</li>
<li>äº‹åŠ¡ï¼šå¢åˆ æ”¹éœ€ <code>commit()</code>ï¼Œå¼‚å¸¸éœ€ <code>rollback()</code>ï¼›</li>
<li>èµ„æºï¼šç”¨ <code>with</code> è¯­å¥æˆ–æ‰‹åŠ¨å…³é—­æ¸¸æ ‡/è¿æ¥ã€‚</li>
</ul>
<p>æŒæ¡ä»¥ä¸Šå†…å®¹ï¼Œå³å¯æ»¡è¶³ Python ä¸­ SQLite ç»å¤§éƒ¨åˆ†åŸºç¡€ä½¿ç”¨åœºæ™¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Gemini3Proæ— é™ä½¿ç”¨æ‰‹æŠŠæ‰‹æ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7575829296452911114</link>    <guid>https://juejin.cn/post/7575829296452911114</guid>    <pubDate>2025-11-24T09:08:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575829296452911114" data-draft-id="7576052677051039770" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Gemini3Proæ— é™ä½¿ç”¨æ‰‹æŠŠæ‰‹æ•™ç¨‹"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-11-24T09:08:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çŸ¥è¯†æµ…è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/607378030207176"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Gemini3Proæ— é™ä½¿ç”¨æ‰‹æŠŠæ‰‹æ•™ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/607378030207176/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çŸ¥è¯†æµ…è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T09:08:58.000Z" title="Mon Nov 24 2025 09:08:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Gemini3Proæ— é™ä½¿ç”¨ç²¾ç®€ç‰ˆ</h2>
<p>Antigravityï¼šè°·æ­Œå®˜æ–¹æ¨å‡ºçš„IDEï¼Œç±»ä¼¼äºCursorï¼Œé›†æˆäº†Gemini3Proã€Claude4.5ã€GPTç­‰å„å®¶æœ€å¼ºå¤§çš„æ¨¡å‹ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8411f4000ab5445ea903801428915591~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6K-G5rWF6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764580138&amp;x-signature=wOhJZYGAnfUxMTlo0irlUVSskm8%3D" alt="" loading="lazy"/>
ç›´æ¥ä¸‹è½½å®‰è£…Antigravityï¼š**<a href="https://link.juejin.cn?target=https%3A%2F%2Fantigravity.google%2Fdownload%3Fhl%3Dzh-cn**%25E5%25B0%25B1%25E5%258F%25AF%25E4%25BB%25A5%25E5%2585%258D%25E8%25B4%25B9%25E4%25BD%25BF%25E7%2594%25A8%25EF%25BC%258C%25E4%25BD%2586%25E6%2598%25AF%25E5%259C%25A8%25E5%25AE%2589%25E8%25A3%2585%25E8%25BF%2587%25E7%25A8%258B%25E4%25B8%25AD%25E4%25BC%259A%25E6%259C%2589%25E4%25B8%2580%25E4%25BA%259B%25E9%2597%25AE%25E9%25A2%2598%25E5%258D%25A1%25E4%25BD%258F%25E4%25BD%25A0%25EF%25BC%258C%25E6%2583%25B3%25E8%25A6%2581%25E9%25A1%25BA%25E5%2588%25A9%25E4%25BD%25BF%25E7%2594%25A8%25EF%25BC%258C%25E8%25AF%25B7%25E7%259C%258B%25E4%25B8%258B%25E6%2596%2587%25E8%25AF%25A6%25E7%25BB%2586%25E7%2589%2588%25E6%2595%2599%25E7%25A8%258B%25E3%2580%2582" target="_blank" title="https://antigravity.google/download?hl=zh-cn**%E5%B0%B1%E5%8F%AF%E4%BB%A5%E5%85%8D%E8%B4%B9%E4%BD%BF%E7%94%A8%EF%BC%8C%E4%BD%86%E6%98%AF%E5%9C%A8%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B%E4%B8%AD%E4%BC%9A%E6%9C%89%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98%E5%8D%A1%E4%BD%8F%E4%BD%A0%EF%BC%8C%E6%83%B3%E8%A6%81%E9%A1%BA%E5%88%A9%E4%BD%BF%E7%94%A8%EF%BC%8C%E8%AF%B7%E7%9C%8B%E4%B8%8B%E6%96%87%E8%AF%A6%E7%BB%86%E7%89%88%E6%95%99%E7%A8%8B%E3%80%82" ref="nofollow noopener noreferrer">antigravity.google/download?hlâ€¦</a></p>
<h2 data-id="heading-1">Gemini3Proæ‰‹æŠŠæ‰‹æ•™ç¨‹</h2>
<h3 data-id="heading-2">Gemini3Proçš„å¼ºå¤§</h3>
<p>ç›®å‰ç½‘ç»œä¸Šå„ç§æµ‹è¯„è§†é¢‘å·²ç»ç»™å¤§å®¶æ™®åŠäº†å¾ˆå¤šï¼Œåˆ·æ–°ç›®å‰å¸‚é¢ä¸Šå„ç§å¤§æ¨¡å‹çš„é«˜åº¦ï¼Œè´´ä¸€å¼ æµ‹è¯•å›¾å¦‚ä¸‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e6481a823f24bb19af25e57eae29dc5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6K-G5rWF6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764580138&amp;x-signature=X6Ghpy8LDP9i1Lr563gWaBKqtaE%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">å®˜ç½‘ç½‘é¡µç‰ˆæœ‰é™ä½¿ç”¨</h3>
<p>ç›´æ¥è®¿é—®**<a href="https://link.juejin.cn?target=https%3A%2F%2Fgemini.google.com%2Fapp" target="_blank" title="https://gemini.google.com/app" ref="nofollow noopener noreferrer">gemini.google.com/app</a>**
ï¼Œæ¯å¤©ä½¿ç”¨çš„é¢åº¦æœ‰é™ï¼Œä½¿ç”¨æ–¹å¼å¦‚ä¸‹:
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b728dca9e794fc29fd98acc04f0c937~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6K-G5rWF6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764580138&amp;x-signature=fzTA6bih2A6LMKPTb81kV9Iq17Q%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">Antigravityè°·æ­Œè‡ªå®¶IDEæ— é™ä½¿ç”¨</h3>
<h4 data-id="heading-5">ç¬¬ä¸€æ­¥ï¼šå®‰è£…Antigravity</h4>
<h5 data-id="heading-6">1.ä¸‹è½½å®‰è£…Antigravityï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fantigravity.google%2Fdownload%3Fhl%3Dzh-cn" target="_blank" title="https://antigravity.google/download?hl=zh-cn" ref="nofollow noopener noreferrer">antigravity.google/download?hlâ€¦</a></strong></h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96a86d72af5543d1876aceee36e9a57a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6K-G5rWF6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764580138&amp;x-signature=Orl%2F3q4d3iv36eZZLEP816FOgOg%3D" alt="" loading="lazy"/></p>
<h5 data-id="heading-7">2.ä¸‹è½½Proxifierï¼ˆå¿…é¡»è¦ä¸‹è½½ï¼‰</h5>
<p>é“¾æ¥: <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fpan.baidu.com%2Fs%2F12E0gA_rEqL9DovNi2K_TGQ%3Fpwd%3Djcgy" target="_blank" title="https://pan.baidu.com/s/12E0gA_rEqL9DovNi2K_TGQ?pwd=jcgy" ref="nofollow noopener noreferrer">pan.baidu.com/s/12E0gA_rEâ€¦</a></strong></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆè¦ä¸‹è½½Proxifierï¼Ÿ</p>
<p>å› ä¸ºAntigravityåªèƒ½é€šè¿‡TUNæ¨¡å¼ä½¿ç”¨ï¼Œä»£ç†è½¯ä»¶å¦‚V2**ä¸æ”¯æŒTUNæ¨¡å¼ï¼Œæ‰€ä»¥åªèƒ½é€šè¿‡Proxifieræ¥ä½¿ç”¨ã€‚</p>
</blockquote>
<p>ç°åœ¨æ‰“å¼€Proxifierå¼€å§‹é…ç½®ï¼š
å…ˆæ‰“å¼€ä½ çš„ç§‘å­¦è½¯ä»¶å¦‚V2***ï¼Œå†æ‰“å¼€Proxifier ç‚¹å‡» é…ç½®æ–‡ä»¶-&gt;ä»£ç†æœåŠ¡å™¨
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e119bc08f9a3429481ec01ba93623ae5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6K-G5rWF6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764580138&amp;x-signature=aFuVF%2FVBSzKC3YNGPb8TIKpnujo%3D" alt="" loading="lazy"/>
ç‚¹å‡»æ·»åŠ ï¼Œ
ç„¶åè¾“å…¥ä½ çš„ç§‘å­¦è½¯ä»¶å¯¹åº”socksç«¯å£å¹¶ä¿å­˜
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68ae7eff76ae4e59800693f522d25b73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6K-G5rWF6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764580138&amp;x-signature=etLTLhbpbmCOOQdfl3gQxpOfngA%3D" alt="" loading="lazy"/>
ç‚¹å‡»ä»£ç†è§„åˆ™--&gt;æ·»åŠ --&gt;é€‰æ‹©åº”ç”¨ç¨‹åºantigravity.exe--&gt;é€‰æ‹©åŠ¨ä½œsockets5é‚£æ¡è®°å½•ï¼Œç‚¹å‡»ç¡®å®šå³å¯</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66fd76f81f7847cca76ecdb4668d63bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6K-G5rWF6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764580138&amp;x-signature=EI20c2O9Bh2eqMJB8LYWDpoSIgo%3D" alt="" loading="lazy"/></p>
<h5 data-id="heading-8">3.æ‰“å¼€Antigravity</h5>
<p>å¦‚æœä½ æ²¡æœ‰ç¬¬äºŒæ­¥ï¼Œåˆ°è¿™ä¸€æ­¥ä½ å¯èƒ½å°±ç™»é™†ä¸ä¸Šäº†ï¼Œå› ä¸ºAntigravité€šè¿‡ç§‘å­¦è½¯ä»¶çš„ç³»ç»Ÿä»£ç†æ˜¯ä¸èƒ½ç™»é™†çš„ï¼Œéœ€è¦é€šè¿‡TUNæ¨¡å¼æ‰èƒ½ç™»å½•ã€‚</p>
<p>ç™»é™†å¤±è´¥æ¡ˆä¾‹ï¼šä½ ç½‘é¡µæ˜¾ç¤ºç™»é™†äº†ï¼Œä½†æ˜¯Antigravityè¿˜æ˜¯æ²¡ç™»é™†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b5dd0987b27448b0ac32ac492ba704e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6K-G5rWF6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764580138&amp;x-signature=h2mtBynrp5bDBsDRzFBLJMDcMjc%3D" alt="" loading="lazy"/></p>
<p>å½“ç„¶å¦‚æœä½ çš„ç§‘å­¦è½¯ä»¶æ˜¯cla**,ä½ åªéœ€è¦æ‰“å¼€TUNæ¨¡å¼ï¼ˆè™šæ‹Ÿç½‘å¡æ¨¡å¼ï¼‰ï¼Œå¦‚ä¸‹å›¾</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad576b1ad3624968a22c83aee18031ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6K-G5rWF6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764580138&amp;x-signature=U5ruh2PfsmKEfZRiIVM3Juo5wmQ%3D" alt="" loading="lazy"/></p>
<h5 data-id="heading-9">3.ä½¿ç”¨Antigravityçš„Gemini3Pro</h5>
<p>æ–‡ç« å†™åˆ°è¿™äº†ä¹Ÿæ¥è¿‘å°¾å£°äº†ï¼Œç”Ÿæˆä¸€ä¸ªå°é¢å›¾ä½œä¸ºæ¡ˆä¾‹ç»™å¤§å®¶çœ‹ä¸€ä¸‹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0acf77c7978f432b9b86b5964f84a57c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6K-G5rWF6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764580138&amp;x-signature=muTxGMmqvdz8mSmP2TQ25huXNIs%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-10">æ€»ç»“</h2>
<p>å¥½ç”¨çš„å·¥å…·æ€»ä¼šè¢«å‘ç°ï¼Œå°±æ¯”å¦‚æ­£åœ¨çœ‹è¿™ç¯‡æ–‡ç« çš„ä¼¯ä¹ä»¬ï¼Œç¥å¤§å®¶ç”¨çš„æ„‰å¿«ç©çš„å¼€å¿ƒï¼Œæœ‰ä»€ä¹ˆé—®é¢˜å¯ä»¥ç•™è¨€å“ˆï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«â€œå±å±±â€ï¼šç”¨ Husky + Prettier + ESLint æ‰“é€ å‰ç«¯é¡¹ç›®çš„ä»£ç åŸºçŸ³]]></title>    <link>https://juejin.cn/post/7575829296452943882</link>    <guid>https://juejin.cn/post/7575829296452943882</guid>    <pubDate>2025-11-24T09:13:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575829296452943882" data-draft-id="7576090441432727562" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«â€œå±å±±â€ï¼šç”¨ Husky + Prettier + ESLint æ‰“é€ å‰ç«¯é¡¹ç›®çš„ä»£ç åŸºçŸ³"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-24T09:13:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸“ä¸šæŠ„ä»£ç é€‰æ‰‹"/> <meta itemprop="url" content="https://juejin.cn/user/127961159439400"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«â€œå±å±±â€ï¼šç”¨ Husky + Prettier + ESLint æ‰“é€ å‰ç«¯é¡¹ç›®çš„ä»£ç åŸºçŸ³
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/127961159439400/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸“ä¸šæŠ„ä»£ç é€‰æ‰‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T09:13:45.000Z" title="Mon Nov 24 2025 09:13:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸€ä¸ªå¤šäººå‚ä¸çš„é¡¹ç›®ï¼Œå¦‚æœæ²¡æœ‰ä»£ç è§„èŒƒï¼Œä¼šå¯¼è‡´ä»£ç æ ·å¼äº”èŠ±å…«é—¨ï¼Œç‰¹åˆ«éš¾çœ‹ã€‚
æˆ‘ç›¸ä¿¡å¯¹äºç¨‹åºå‘˜è¿™ä¸ªèŒä¸šæ¥è¯´ï¼Œä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œä»£ç æ ¼å¼åƒå¥‡ç™¾æ€ªï¼Œæ²¡æœ‰å‡ ä¸ªäººèƒ½å¿å§ã€‚<br/>
ç°åœ¨åœ¨githubä¸Šéšæ„çœ‹ä¸€ä¸ªé¡¹ç›®ï¼Œéƒ½å‡ ä¹æ˜¯é…å¤‡äº†huskyçš„ï¼Œè¿™ä¸ªå·¥å…·å¯ä»¥hookåˆ°gitçš„å‘½ä»¤ï¼Œç„¶åè‡ªåŠ¨è¿è¡Œç›¸å…³è„šæœ¬ï¼Œè¿›è€Œè¾¾åˆ°è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç çš„ç›®çš„ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥è¯¦ç»†ä»‹ç»å¦‚ä½•é…ç½® Huskyï¼Œå¹¶ç»“åˆ Prettier å’Œ ESLintï¼Œä¸ºä½ çš„é¡¹ç›®æ„å»ºä¸€ä¸ªåšå®çš„ä»£ç è§„èŒƒé˜²çº¿ã€‚</p>
<h3 data-id="heading-0">æ ¸å¿ƒå·¥å…·æ ˆä¸€è§ˆ</h3>
<p>åœ¨æ·±å…¥é…ç½®ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥è®¤è¯†ä¸€ä¸‹æˆ‘ä»¬å°†è¦ä½¿ç”¨çš„â€œé»„é‡‘ç»„åˆâ€ï¼š</p>
<ul>
<li><strong>Husky:</strong> Git Hooks ç®¡ç†å·¥å…·ï¼Œè´Ÿè´£æ‹¦æˆª Git å‘½ä»¤å¹¶åœ¨ç‰¹å®šé˜¶æ®µæ‰§è¡Œè„šæœ¬ã€‚</li>
<li><strong>Prettier:</strong> å¼ºå¤§çš„ä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œç¡®ä¿ä»£ç é£æ ¼ç»Ÿä¸€ç¾è§‚ã€‚</li>
<li><strong>ESLint:</strong> é™æ€ä»£ç åˆ†æå·¥å…·ï¼Œç”¨äºå‘ç°å¹¶ä¿®å¤ä»£ç ä¸­çš„æ½œåœ¨é—®é¢˜å’Œä¸ç¬¦åˆè§„èŒƒçš„å†™æ³•ã€‚</li>
<li><strong>lint-staged:</strong> é…åˆ Husky ä½¿ç”¨ï¼Œåªå¯¹ Git æš‚å­˜åŒºçš„æ–‡ä»¶è¿›è¡Œ Lint å’Œæ ¼å¼åŒ–ï¼Œå¤§å¹…æå‡æ•ˆç‡ã€‚</li>
<li><strong>eslint-config-prettier:</strong> è§£å†³ ESLint ä¸ Prettier è§„åˆ™å†²çªçš„å…³é”®é…ç½®ã€‚</li>
</ul>
<h3 data-id="heading-1">é…ç½® Huskyï¼šè‡ªåŠ¨åŒ–æ£€æŸ¥çš„â€œå®ˆé—¨å‘˜â€</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Ftypicode.github.io%2Fhusky%2Fzh%2Fget-started.html" target="_blank" title="https://typicode.github.io/husky/zh/get-started.html" ref="nofollow noopener noreferrer">huskyå®˜ç½‘</a>ï¼Œè¿›å»ä¹‹åæŒ‰ç…§å¼•å¯¼å®‰è£…å³å¯</p>
<pre><code class="hljs language-js" lang="js"># å®‰è£… <span class="hljs-title class_">Husky</span>
npm install --save-dev husky

# åˆå§‹åŒ– <span class="hljs-title class_">Husky</span> (ä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º .<span class="hljs-property">husky</span> æ–‡ä»¶å¤¹)
npx husky init
</code></pre>
<p><strong>å°è´´å£«:</strong> å¦‚æœä½ çš„é¡¹ç›®å°šæœªè¿›è¡Œ Git åˆå§‹åŒ– (<code>git init</code>)ï¼Œ<code>npx husky init</code> å‘½ä»¤ä¼šæŠ¥é”™æç¤º <code>.git can't be found</code>ã€‚è¯·åŠ¡å¿…å…ˆåˆå§‹åŒ– Git ä»“åº“ï¼Œå†è¿›è¡Œ Husky åˆå§‹åŒ–ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/550fc366805845f0a359ab5edd257b47~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiT5Lia5oqE5Luj56CB6YCJ5omL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764580425&amp;x-signature=Fs47O4OieQpPuUprInVaB%2BFKbIM%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2">å®‰è£…ç›¸å…³ä¾èµ–</h3>
<p>è¿™é‡Œhuskyåªæ˜¯å¯ä»¥hookåˆ°gitçš„å‘½ä»¤ï¼Œå…·ä½“è¦åšä»€ä¹ˆï¼Œæˆ‘ä»¬è¦è‡ªå®šä¹‰ã€‚<br/>
ä¸ºäº†å®ç°ä»£ç çš„è‡ªåŠ¨åŒ–æ ¼å¼åŒ–å’Œè§„èŒƒæ£€æŸ¥ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£… Prettierã€ESLintï¼Œä»¥åŠå®ƒä»¬çš„é‡è¦è¾…åŠ©å·¥å…· <code>lint-staged</code> å’Œ <code>eslint-config-prettier</code>ã€‚</p>
<pre><code class="hljs language-js" lang="js"># å®‰è£… prettier å’Œ eslint (å¦‚æœè¿˜æ²¡è£…çš„è¯)
npm install --save-dev prettier eslint

# å®‰è£… lint-staged
npm install --save-dev lint-staged

# è§£å†³ <span class="hljs-title class_">Prettier</span> å’Œ <span class="hljs-title class_">ESLint</span> è§„åˆ™å†²çªçš„é‡è¦æ’ä»¶
# (è¿™ä¸ªæ’ä»¶ä¼šå…³é—­æ‰€æœ‰å¯èƒ½ä¸ <span class="hljs-title class_">Prettier</span> å†²çªçš„ <span class="hljs-title class_">ESLint</span> æ ¼å¼åŒ–è§„åˆ™)
npm install --save-dev eslint-config-prettier
</code></pre>
<h3 data-id="heading-3">é…ç½®lint-staged</h3>
<p>åœ¨æˆ‘ä»¬çš„ <code>package.json</code> ä¸­æ·»åŠ  <code>lint-staged</code> çš„é…ç½®ã€‚è¿™å‘Šè¯‰å®ƒå¯¹ä¸åŒç±»å‹çš„æ–‡ä»¶æ‰§è¡Œä»€ä¹ˆæ“ä½œï¼š</p>
<pre><code class="hljs language-js" lang="js">{
  <span class="hljs-string">"scripts"</span>: {
    <span class="hljs-comment">// ... å…¶ä»– scripts</span>
  },
  <span class="hljs-string">"lint-staged"</span>: {
    <span class="hljs-string">"*.{js,jsx,ts,tsx}"</span>: [
      <span class="hljs-string">"prettier --write"</span>,
      <span class="hljs-string">"eslint --fix"</span>
    ],
    <span class="hljs-string">"*.{json,css,md,html}"</span>: [
      <span class="hljs-string">"prettier --write"</span>
    ]
  },
  <span class="hljs-comment">// ... å…¶ä»–ä¾èµ–</span>
}
</code></pre>
<h3 data-id="heading-4">ä¿®æ”¹<code>eslint.config.js</code>é…ç½®</h3>
<p><code>eslint-config-prettier</code> ä¼šå…³é—­æ‰€æœ‰å¯èƒ½ä¸ Prettier æ ¼å¼è§„åˆ™å†²çªçš„ ESLint è§„åˆ™ã€‚åœ¨ Flat Config ä¸­ï¼Œé…ç½®æ˜¯æŒ‰æ•°ç»„é¡ºåºåº”ç”¨çš„ï¼Œåä¸€ä¸ªé…ç½®ä¼šè¦†ç›–å‰ä¸€ä¸ªã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿ <code>eslintConfigPrettier</code> å¤„äºé…ç½®æ•°ç»„çš„<strong>æœ«å°¾</strong>ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// 1. å¼•å…¥ prettier é…ç½® </span>
<span class="hljs-keyword">import</span> eslintConfigPrettier <span class="hljs-keyword">from</span> <span class="hljs-string">"eslint-config-prettier"</span>;
<span class="hljs-comment">// 2. å¹¶åœ¨æœ€åæ·»åŠ  eslintConfigPrettier</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>([
  <span class="hljs-title function_">globalIgnores</span>([<span class="hljs-string">"dist"</span>]),
  {
    <span class="hljs-attr">files</span>: [<span class="hljs-string">"**/*.{ts,tsx}"</span>],
    <span class="hljs-attr">extends</span>: [
      js.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>,
      tseslint.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>,
      reactHooks.<span class="hljs-property">configs</span>.<span class="hljs-property">flat</span>.<span class="hljs-property">recommended</span>,
      reactRefresh.<span class="hljs-property">configs</span>.<span class="hljs-property">vite</span>,
    ],
    <span class="hljs-attr">languageOptions</span>: {
      <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-number">2020</span>,
      <span class="hljs-attr">globals</span>: globals.<span class="hljs-property">browser</span>,
    },
  },
  eslintConfigPrettier,
]);
</code></pre>
<h3 data-id="heading-5">ä¿®æ”¹huskyçš„hookå‘½ä»¤</h3>
<p>è¿™é‡Œå°±æ˜¯æœ€åçš„ä¸€æ­¥äº†ï¼Œåœ¨commitçš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦è¿è¡Œä»€ä¹ˆå‘½ä»¤<br/>
ä¿®æ”¹<code>.husky/pre-commit</code>ï¼Œåœ¨é‡Œé¢æ·»åŠ </p>
<pre><code class="hljs">npx lint-staged
</code></pre>
<h3 data-id="heading-6">è‡ªå®šä¹‰ä»£ç è§„èŒƒ</h3>
<p>å¦‚æœæˆ‘ä»¬æƒ³ä¿®æ”¹ä»£ç çš„æ ¼å¼è§„èŒƒï¼Œå¯ä»¥åœ¨<code>prettierrc.json</code>æ–‡ä»¶ä¸­å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œåˆ›å»ºä¸€ä¸ªå°±å¥½äº†</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// .prettierrc.json</span>
{
  <span class="hljs-string">"tabWidth"</span>: <span class="hljs-number">4</span>,          <span class="hljs-comment">// ç¼©è¿›å®½åº¦ä¸º 4 ä¸ªç©ºæ ¼</span>
  <span class="hljs-string">"semi"</span>: <span class="hljs-literal">false</span>,          <span class="hljs-comment">// ä¸ä½¿ç”¨åˆ†å·</span>
  <span class="hljs-string">"singleQuote"</span>: <span class="hljs-literal">true</span>,    <span class="hljs-comment">// ä½¿ç”¨å•å¼•å·</span>
  <span class="hljs-string">"printWidth"</span>: <span class="hljs-number">80</span>,       <span class="hljs-comment">// æ¯è¡Œä»£ç æœ€å¤š 80 ä¸ªå­—ç¬¦ (å¯é€‰ï¼Œä½†æ¨è)</span>
  <span class="hljs-string">"trailingComma"</span>: <span class="hljs-string">"all"</span>  <span class="hljs-comment">// å¯¹è±¡æˆ–æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ åæ€»æ˜¯æ·»åŠ é€—å· (å¯é€‰ï¼Œä½†æ¨è)</span>
}
</code></pre>
<h3 data-id="heading-7">æ€»ç»“</h3>
<p>é€šè¿‡ Huskyã€Prettierã€ESLint å’Œ lint-staged çš„å¼ºå¼ºè”åˆï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªé«˜æ•ˆä¸”å¼ºå¤§çš„ä»£ç è§„èŒƒè‡ªåŠ¨åŒ–æµç¨‹ã€‚è¿™å°†ï¼š</p>
<ul>
<li><strong>ç»Ÿä¸€ä»£ç é£æ ¼ï¼š</strong> å›¢é˜Ÿæˆå‘˜çš„ä»£ç é£æ ¼å°†é«˜åº¦ä¸€è‡´ï¼Œé™ä½é˜…è¯»æˆæœ¬ã€‚</li>
<li><strong>æå‡ä»£ç è´¨é‡ï¼š</strong> åŠæ—¶å‘ç°æ½œåœ¨çš„ Bug å’Œä¸è§„èŒƒçš„å†™æ³•ã€‚</li>
<li><strong>ä¼˜åŒ–å¼€å‘ä½“éªŒï¼š</strong> æ ¼å¼åŒ–å’Œæ£€æŸ¥åœ¨æäº¤å‰è‡ªåŠ¨å®Œæˆï¼Œæ— éœ€æ‰‹åŠ¨å¹²é¢„ã€‚</li>
<li><strong>ç¡®ä¿é¡¹ç›®å¥åº·ï¼š</strong> ä»æºå¤´æœç»â€œå±å±±â€çš„äº§ç”Ÿï¼Œè®©é¡¹ç›®ä»£ç åº“å§‹ç»ˆä¿æŒå¥åº·å’Œæ˜“äºç»´æŠ¤ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¸¿è’™é›¶åŸºç¡€è¯­æ³•å…¥é—¨ï¼šå¼€å¯ä½ çš„å¼€å‘ä¹‹æ—…]]></title>    <link>https://juejin.cn/post/7576057623742464042</link>    <guid>https://juejin.cn/post/7576057623742464042</guid>    <pubDate>2025-11-24T09:19:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576057623742464042" data-draft-id="7312035320376803354" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¸¿è’™é›¶åŸºç¡€è¯­æ³•å…¥é—¨ï¼šå¼€å¯ä½ çš„å¼€å‘ä¹‹æ—…"/> <meta itemprop="keywords" content="HarmonyOS,Android,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-24T09:19:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="hqk"/> <meta itemprop="url" content="https://juejin.cn/user/2357827986264942"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¸¿è’™é›¶åŸºç¡€è¯­æ³•å…¥é—¨ï¼šå¼€å¯ä½ çš„å¼€å‘ä¹‹æ—…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2357827986264942/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    hqk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T09:19:52.000Z" title="Mon Nov 24 2025 09:19:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»27åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p><code>HarmonyOSæ˜¯æ–°ä¸€ä»£çš„æ™ºèƒ½ç»ˆç«¯æ“ä½œç³»ç»Ÿï¼Œä¸ºä¸åŒè®¾å¤‡çš„æ™ºèƒ½åŒ–ã€äº’è”ä¸ååŒæä¾›äº†ç»Ÿä¸€çš„è¯­è¨€ï¼Œä¸ºç”¨æˆ·å¸¦æ¥ç®€æ·ï¼Œæµç•…ï¼Œè¿ç»­ï¼Œå®‰å…¨å¯é çš„å…¨åœºæ™¯äº¤äº’ä½“éªŒã€‚</code></p>
<p>åœ¨é¸¿è’™æ“ä½œç³»ç»Ÿçš„å¼€å‘ä¸­ï¼Œ<strong>æŒæ¡åŸºç¡€è¯­æ³•æ˜¯æ¯ä½å¼€å‘è€…çš„å¿…ä¿®è¯¾</strong>ã€‚æœ¬æ–‡å°†ä¸ºæ‚¨è¯¦ç»†è®²è§£é¸¿è’™ç¼–ç¨‹çš„åŸºç¡€è¯­æ³•ï¼Œå¸®åŠ©åˆå­¦è€…è½»æ¾å…¥é—¨ï¼Œä¸ºåç»­å¼€å‘æ‰“ä¸‹åšå®åŸºç¡€ã€‚</p>
<p>OKï¼è¯ä¸å¤šè¯´ï¼Œç›´æ¥å¼€å§‹ï¼</p>
<p>æœ¬æ–‡å‚è€ƒäº <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Ftraining%2Fcourse%2FslightMooc%2FC101717496870909384" target="_blank" title="https://developer.huawei.com/consumer/cn/training/course/slightMooc/C101717496870909384" ref="nofollow noopener noreferrer">åä¸ºè¯¾ç¨‹å®˜æ–¹æ–‡æ¡£</a></p>
<h2 data-id="heading-1">1ã€ç¯å¢ƒæ­å»ºä¸ArkTsè¯­è¨€ä»‹ç»</h2>
<h3 data-id="heading-2">1.1 ç¯å¢ƒæ­å»º</h3>
<p><strong>ä¸‹è½½å®˜æ–¹ç¼–è¯‘å™¨</strong></p>
<p>æ—¢ç„¶è¦å¼€å‘é¸¿è’™ç¨‹åºï¼Œé‚£ä¹ˆå°±éœ€è¦å¯¹åº”å®˜æ–¹ç¼–è¯‘å™¨ã€DevEcoã€‘ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdownload%2F" target="_blank" title="https://developer.huawei.com/consumer/cn/download/" ref="nofollow noopener noreferrer">ç‚¹æˆ‘ä¸‹è½½</a>  ï¼ˆé¢å‘å®åè®¤è¯å¼€å‘ï¼Œéœ€è¦æ³¨å†Œç™»å½•åä¸ºè´¦å·ï¼‰</p>
<p><strong>å®‰è£…ç¼–è¯‘å™¨</strong></p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9c36f6f015140a9a47054b2e5eeaa59~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764580791&amp;x-signature=27HF7dFX5FJzSXwJuySpRe9jS9Q%3D" alt="1.jpg" loading="lazy"/></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼š</p>
<ul>
<li>ä¸ºäº†æ–¹ä¾¿åç»­æ“ä½œï¼Œè¿™é‡Œæœ€å¥½æ˜¯å…¨éƒ¨å‹¾ä¸Šï¼Œ<strong>å°¤å…¶æ˜¯ã€æ·»åŠ binã€‘é€‰é¡¹</strong></li>
</ul>
<p><strong>é…ç½®å¼€å‘SDK</strong></p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/560f2877c4a04fa6aa814ac86b38e574~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764580791&amp;x-signature=mo2ZFEQrFPdIRBA9JAagazXlVRo%3D" alt="QQ20250109-145958.jpg" loading="lazy"/></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼š</p>
<ul>
<li><code>Location</code>ï¼šé…ç½®å¯¹åº”SDKè·¯å¾„</li>
<li><code>API Version xx</code>ï¼šå¯¹åº”SDKç‰ˆæœ¬ã€æŒ‰éœ€å®‰è£…å³å¯ã€‘</li>
</ul>
<p><strong>å¼€å§‹ç¬¬ä¸€ä¸ªé¡¹ç›®</strong></p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/233e3209665e4842aee94b1c6c77dfed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764580791&amp;x-signature=sV52sjDru3PEXF%2BiQbqRJ2GKUA8%3D" alt="2.jpg" width="100%" loading="lazy"/></p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4584aa192f9a4826a247fe0e3edeb216~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764580791&amp;x-signature=MMS3dJCgJpmA8Dq5KOSpp4eenc8%3D" alt="3.jpg" width="100%" loading="lazy"/></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼š</p>
<ul>
<li>åˆšå¼€å§‹é€‰æ‹©Empty Abilityï¼Œç„¶åç‚¹å‡»Nextå°±ä¼šè¿›å…¥ç¬¬äºŒä¸ªé¡µé¢</li>
<li>åœ¨ç¬¬äºŒé¡µé¢ä¸­ï¼š
<ul>
<li>ã€Bundle nameã€‘ï¼šè¡¨ç¤ºè¯¥é¸¿è’™è½¯ä»¶å”¯ä¸€æ ‡è¯† ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„åŒ…å</li>
<li>ã€Device typeã€‘ï¼šè¡¨ç¤ºè¯¥é¡¹ç›®æ‰€æ”¯æŒçš„è®¾å¤‡ç±»å‹ï¼Œè¿™ä¹Ÿæ˜¯é¸¿è’™ç‰¹è‰² <strong>ä¸€å¥—ä»£ç å¤šç«¯ä½¿ç”¨</strong></li>
<li>ç‚¹å‡»Next å°±ä¼šè¿›å…¥ä¸‹ä¸€ä¸ªé¡µé¢</li>
</ul>
</li>
</ul>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6b9a1b3e931472b885402a0fcdcfcc4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764580791&amp;x-signature=mwm7HyUaucvpWXT8%2FYOy6vYBFY8%3D" alt="4.jpg" loading="lazy"/></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼š</p>
<ul>
<li>
<p>ç‚¹å‡»å·¦è¾¹çš„ã€Previewerã€‘ å·¦ä¾§å°†ä¼šå‡ºç°é¢„è§ˆå›¾ï¼Œå½“é¢„è§ˆå‡ºç°<code>Hello World</code>æ—¶ï¼Œåˆ™è¯´æ˜é¡¹ç›®åˆ›å»ºæˆåŠŸ</p>
</li>
<li>
<p>å›åˆ°é¡¹ç›®å³ä¾§ï¼Œç°åœ¨ä»‹ç»ä¸‹å·¥ç¨‹ç›®å½•ç»“æ„ï¼ˆStageæ¨¡å‹ï¼‰</p>
<ul>
<li>
<p><strong>AppScope &gt; app.json5</strong>ï¼šåº”ç”¨çš„å…¨å±€é…ç½®ä¿¡æ¯ï¼Œè¯¦è§<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides-V5%2Fapp-configuration-file-V5" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/app-configuration-file-V5" ref="nofollow noopener noreferrer">app.json5é…ç½®æ–‡ä»¶</a>ã€‚</p>
</li>
<li>
<p><strong>entry</strong>ï¼šHarmonyOSå·¥ç¨‹æ¨¡å—ï¼Œç¼–è¯‘æ„å»ºç”Ÿæˆä¸€ä¸ªHAPåŒ…ã€‚</p>
<ul>
<li><strong>src &gt; main &gt; ets</strong>ï¼šç”¨äºå­˜æ”¾ArkTSæºç ã€‚</li>
<li><strong>src &gt; main &gt; ets &gt; entryability</strong>ï¼šåº”ç”¨/æœåŠ¡çš„å…¥å£ã€‚</li>
<li><strong>src &gt; main &gt; ets &gt; entrybackupability</strong>ï¼šåº”ç”¨æä¾›æ‰©å±•çš„å¤‡ä»½æ¢å¤èƒ½åŠ›ã€‚</li>
<li><strong>src &gt; main &gt; ets &gt; pages</strong>ï¼šåº”ç”¨/æœåŠ¡åŒ…å«çš„é¡µé¢ã€‚</li>
<li><strong>src &gt; main &gt; resources</strong>ï¼šç”¨äºå­˜æ”¾åº”ç”¨/æœåŠ¡æ‰€ç”¨åˆ°çš„èµ„æºæ–‡ä»¶ï¼Œå¦‚å›¾å½¢ã€å¤šåª’ä½“ã€å­—ç¬¦ä¸²ã€å¸ƒå±€æ–‡ä»¶ç­‰ã€‚å…³äºèµ„æºæ–‡ä»¶ï¼Œè¯¦è§<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides-V5%2Fresource-categories-and-access-V5" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/resource-categories-and-access-V5" ref="nofollow noopener noreferrer">èµ„æºåˆ†ç±»ä¸è®¿é—®</a>ã€‚</li>
<li><strong>src &gt; main &gt; module.json5</strong>ï¼šæ¨¡å—é…ç½®æ–‡ä»¶ã€‚ä¸»è¦åŒ…å«HAPåŒ…çš„é…ç½®ä¿¡æ¯ã€åº”ç”¨/æœåŠ¡åœ¨å…·ä½“è®¾å¤‡ä¸Šçš„é…ç½®ä¿¡æ¯ä»¥åŠåº”ç”¨/æœåŠ¡çš„å…¨å±€é…ç½®ä¿¡æ¯ã€‚å…·ä½“çš„é…ç½®æ–‡ä»¶è¯´æ˜ï¼Œè¯¦è§<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides-V5%2Fmodule-configuration-file-V5" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/module-configuration-file-V5" ref="nofollow noopener noreferrer">module.json5é…ç½®æ–‡ä»¶</a>ã€‚</li>
<li><strong>build-profile.json5</strong>ï¼šå½“å‰çš„æ¨¡å—ä¿¡æ¯ ã€ç¼–è¯‘ä¿¡æ¯é…ç½®é¡¹ï¼ŒåŒ…æ‹¬buildOptionã€targetsé…ç½®ç­‰ã€‚</li>
<li><strong>hvigorfile.ts</strong>ï¼šæ¨¡å—çº§ç¼–è¯‘æ„å»ºä»»åŠ¡è„šæœ¬ã€‚</li>
<li><strong>obfuscation-rules.txt</strong>ï¼šæ··æ·†è§„åˆ™æ–‡ä»¶ã€‚æ··æ·†å¼€å¯åï¼Œåœ¨ä½¿ç”¨Releaseæ¨¡å¼è¿›è¡Œç¼–è¯‘æ—¶ï¼Œä¼šå¯¹ä»£ç è¿›è¡Œç¼–è¯‘ã€æ··æ·†åŠå‹ç¼©å¤„ç†ï¼Œä¿æŠ¤ä»£ç èµ„äº§ã€‚è¯¦è§<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides-V5%2Fide-build-obfuscation-V5" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide-build-obfuscation-V5" ref="nofollow noopener noreferrer">å¼€å¯ä»£ç æ··æ·†</a>ã€‚</li>
<li><strong>oh-package.json5</strong>ï¼šç”¨æ¥æè¿°åŒ…åã€ç‰ˆæœ¬ã€å…¥å£æ–‡ä»¶ï¼ˆç±»å‹å£°æ˜æ–‡ä»¶ï¼‰å’Œä¾èµ–é¡¹ç­‰ä¿¡æ¯ã€‚</li>
</ul>
</li>
<li>
<p><strong>oh_modules</strong>ï¼šç”¨äºå­˜æ”¾ä¸‰æ–¹åº“ä¾èµ–ä¿¡æ¯ã€‚</p>
</li>
<li>
<p><strong>build-profile.json5</strong>ï¼šå·¥ç¨‹çº§é…ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç­¾åsigningConfigsã€äº§å“é…ç½®productsç­‰ã€‚å…¶ä¸­productsä¸­å¯é…ç½®å½“å‰è¿è¡Œç¯å¢ƒï¼Œé»˜è®¤ä¸ºHarmonyOSã€‚</p>
</li>
<li>
<p><strong>hvigorfile.ts</strong>ï¼šå·¥ç¨‹çº§ç¼–è¯‘æ„å»ºä»»åŠ¡è„šæœ¬ã€‚</p>
</li>
<li>
<p><strong>oh-package.json5</strong>ï¼šä¸»è¦ç”¨æ¥æè¿°å…¨å±€é…ç½®ï¼Œå¦‚ï¼šä¾èµ–è¦†ç›–ï¼ˆoverridesï¼‰ã€ä¾èµ–å…³ç³»é‡å†™ï¼ˆoverrideDependencyMapï¼‰å’Œå‚æ•°åŒ–é…ç½®ï¼ˆparameterFileï¼‰ç­‰</p>
</li>
</ul>
</li>
</ul>
<p>åˆ°è¿™ï¼é¸¿è’™å¼€å‘ç¯å¢ƒå·²ç»æ­å»ºæˆåŠŸã€‚ç°åœ¨å¼€å§‹ä»‹ç»ArkTSè¯­è¨€</p>
<h3 data-id="heading-3">1.2 ArkTSè¯­è¨€ä»‹ç»</h3>
<p>ArkTSæ˜¯é¸¿è’™ç”Ÿæ€çš„åº”ç”¨å¼€å‘è¯­è¨€ã€‚å®ƒåœ¨ä¿æŒTypeScriptï¼ˆç®€ç§°TSï¼‰åŸºæœ¬è¯­æ³•é£æ ¼çš„åŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥é€šè¿‡è§„èŒƒå¼ºåŒ–é™æ€æ£€æŸ¥å’Œåˆ†æï¼Œä½¿å¾—åœ¨ç¨‹åºè¿è¡Œä¹‹å‰çš„å¼€å‘æœŸèƒ½æ£€æµ‹æ›´å¤šé”™è¯¯ï¼Œæå‡ä»£ç å¥å£®æ€§ï¼Œå¹¶å®ç°æ›´å¥½çš„è¿è¡Œæ€§èƒ½ã€‚åŒæ—¶ï¼Œæä¾›äº†å£°æ˜å¼UIèŒƒå¼ã€çŠ¶æ€ç®¡ç†æ”¯æŒç­‰ç›¸åº”çš„èƒ½åŠ›ï¼Œè®©å¼€å‘è€…å¯ä»¥ä»¥æ›´ç®€æ´ã€æ›´è‡ªç„¶çš„æ–¹å¼å¼€å‘é«˜æ€§èƒ½åº”ç”¨</p>
<p>è¯ä¸å¤šè¯´ï¼Œç›´æ¥å¼€å§‹ä¸Šæ‰‹å§ï¼</p>
<h2 data-id="heading-4">2ã€ArkTSè¯­æ³•è®²è§£</h2>
<h3 data-id="heading-5">2.1 ArkTSå£°æ˜</h3>
<p>ArkTSé€šè¿‡å£°æ˜å¼•å…¥å˜é‡ã€å¸¸é‡ã€å‡½æ•°å’Œç±»å‹</p>
<h4 data-id="heading-6">2.1.1 å˜é‡å£°æ˜</h4>
<p>ä»¥å…³é”®å­—<strong>letå¼€å¤´</strong>çš„å£°æ˜å¼•å…¥å˜é‡ï¼Œè¯¥å˜é‡åœ¨ç¨‹åºæ‰§è¡ŒæœŸé—´å¯ä»¥å…·æœ‰ä¸åŒçš„å€¼ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let hi: string = 'hello';
hi = 'hello, world';
</code></pre>
<h4 data-id="heading-7">2.1.2 å¸¸é‡å£°æ˜</h4>
<p>ä»¥å…³é”®å­—constå¼€å¤´çš„å£°æ˜å¼•å…¥åªè¯»å¸¸é‡ï¼Œè¯¥å¸¸é‡åªèƒ½è¢«èµ‹å€¼ä¸€æ¬¡ï¼Œå¦‚æœå¼ºåˆ¶é‡æ–°èµ‹å€¼å°†ä¼šé€ æˆç¼–è¯‘æ—¶é”™è¯¯ï¼</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">const hello: string = 'hello';
</code></pre>
<h4 data-id="heading-8">2.1.3 è‡ªåŠ¨ç±»å‹æ¨æ–­</h4>
<p>å› ä¸ºArkTSæ˜¯ä¸€ç§é™æ€ç±»å‹è¯­è¨€ï¼Œå› æ­¤æ‰€æœ‰æ•°æ®ç±»å‹å¿…é¡»åœ¨ç¼–è¯‘æ—¶ç¡®å®šã€‚</p>
<p>ä½†æ˜¯ï¼Œå¦‚æœä¸€ä¸ªå˜é‡æˆ–å¸¸é‡çš„å£°æ˜åŒ…å«äº†åˆå§‹å€¼ï¼Œé‚£ä¹ˆå¼€å‘è€…å°±ä¸éœ€è¦æ˜¾å¼æŒ‡å®šå…¶ç±»å‹ã€‚ArkTSè§„èŒƒä¸­åˆ—ä¸¾äº†æ‰€æœ‰å…è®¸è‡ªåŠ¨æ¨æ–­ç±»å‹çš„åœºæ™¯ã€‚</p>
<p>ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œä¸¤æ¡å£°æ˜è¯­å¥éƒ½æ˜¯æœ‰æ•ˆçš„ï¼Œä¸¤ä¸ªå˜é‡éƒ½æ˜¯stringç±»å‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let hi1: string = 'hello';
let hi2 = 'hello, world';
</code></pre>
<h3 data-id="heading-9">2.2 ArkTSåŸºç¡€æ•°æ®ç±»å‹</h3>
<h4 data-id="heading-10">2.2.1 numberç±»å‹</h4>
<p>ArkTSæä¾›numberç±»å‹</p>
<ul>
<li>numberç”¨äºè¡¨ç¤ºæ•´æ•°å’Œæµ®ç‚¹æ•°</li>
<li>æ”¯æŒå¤§éƒ¨åˆ†çš„ç®—æœ¯è¿ç®—</li>
<li>æ•°å­—çš„èŒƒå›´å’Œè¡Œä¸ºä¸JavaScriptç±»ä¼¼</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let n1 = 3.14;
let n2 = 3.141592;
let n3 = .5;
let n4 = 1e2;

function factorial(n: number): number {
  if (n &lt;= 1) {
    return 1;
  }
  return n * factorial(n - 1);
}

factorial(n1)  //  7.660344000000002 
factorial(n2)  //  7.680640444893748 
factorial(n3)  //  1 
factorial(n4)  //  9.33262154439441e+157 
</code></pre>
<p>æ³¨æ„ï¼š<strong>numberç±»å‹åœ¨è¡¨ç¤ºå¤§æ•´æ•°æ—¶ä¼šé€ æˆç²¾åº¦ä¸¢å¤±ã€‚åœ¨å¼€å‘æ—¶å¯ä»¥æŒ‰éœ€ä½¿ç”¨BigIntç±»å‹æ¥ç¡®ä¿ç²¾åº¦</strong>ï¼š</p>
<p>BigIntç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let bigIntger: BigInt = BigInt('999999999999999999999999999999999999999999999999999999999999');
console.log('bigIntger' + bigIntger.toString());
</code></pre>
<h4 data-id="heading-11">2.2.2 booleanç±»å‹</h4>
<ul>
<li>booleanç±»å‹ç”±trueå’Œfalseä¸¤ä¸ªé€»è¾‘å€¼ç»„æˆã€‚</li>
<li>é€šå¸¸åœ¨æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨booleanç±»å‹çš„å˜é‡ï¼š</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let isDone: boolean = false;

if (isDone) {
  console.log ('Done!');
}
</code></pre>
<h4 data-id="heading-12">2.2.3 stringç±»å‹</h4>
<ul>
<li>
<p>stringä»£è¡¨å­—ç¬¦åºåˆ—ï¼›å¯ä»¥ä½¿ç”¨è½¬ä¹‰å­—ç¬¦æ¥è¡¨ç¤ºå­—ç¬¦ã€‚</p>
</li>
<li>
<p>å­—ç¬¦ä¸²å¯ä»¥ç”± å•å¼•å· ' æˆ–è€… åŒå¼•å· " ç›¸äº’åŒ…è£¹é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ç»„æˆã€‚</p>
</li>
<li>
<p>å­—ç¬¦ä¸²è¿˜å¯ä»¥ç”¨åå‘å•å¼•å· ` åŠ ä¸Š ${å˜é‡} ç»„åˆä½¿ç”¨</p>
</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let s1 = 'Hello, world!\n';
let s2 = 'this is a string';
let a = 'Success';
let s3 = `The result is ${a}`;
</code></pre>
<h4 data-id="heading-13">2.2.4 voidç±»å‹</h4>
<ul>
<li>é€šå¸¸ç”¨äºå‡½æ•°çš„è¿”å›ç±»å‹ï¼Œè¡¨ç¤ºè¯¥å‡½æ•°ä¸è¿”å›ä»»ä½•åª</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class Class&lt;T&gt; {
  //...
}
let instance: Class &lt;void&gt;
</code></pre>
<h4 data-id="heading-14">2.2.5 null å’Œ underfined</h4>
<ul>
<li>Nullè¡¨ç¤ºä¸€ä¸ªæ˜ç¡®çš„ç©ºå€¼</li>
<li>Undefined è¡¨ç¤ºä¸€ä¸ªå˜é‡æœªè¢«èµ‹å€¼æˆ–æœªåˆå§‹åŒ–æ—¶çš„é»˜è®¤çŠ¶æ€</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">
let unknownValue: null = null;
let uninitializedValue: undefined = undefined
</code></pre>
<h3 data-id="heading-15">2.3 ArkTSå¤åˆæ•°æ®ç±»å‹</h3>
<h4 data-id="heading-16">2.3.1 Arrayï¼ˆæ•°ç»„ï¼‰</h4>
<ul>
<li>array ç”¨äºå­˜å‚¨å¤šä¸ªå€¼ã€‚å¯ä»¥æ˜¯åŒä¸€ç±»å‹æˆ–ä¸åŒç±»å‹çš„å€¼ï¼ˆæ ¹æ®å®šä¹‰çš„ç±»å‹ï¼‰</li>
<li>æ”¯æŒå¸¸è§çš„æ•°ç»„æ“ä½œï¼Œå¦‚éå†ã€ç´¢å¼•è®¿é—®ã€æ•°ç»„æ–¹æ³•ç­‰ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let numbers:number[]=[1,2,3,4,5];
let names:string[]=["Alice","Bob","Charlie"];
</code></pre>
<h4 data-id="heading-17">2.3.2 Tupleï¼ˆå…ƒç»„ï¼‰</h4>
<ul>
<li>Tupleæ˜¯ä¸€ç§<strong>å›ºå®šå¤§å°ã€å·²çŸ¥ç±»å‹çš„æ•°ç»„</strong>ã€‚æ¯ä¸ªå…ƒç´ å¯ä»¥æœ‰ä¸åŒç±»å‹</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let person:[string,number]=["Bob",12];
</code></pre>
<ul>
<li>å…ƒç»„å…è®¸å­˜å‚¨ä¸åŒç±»å‹çš„æ•°æ®ï¼Œä¾‹å¦‚ï¼š<code>[string,number]</code>ä»£è¡¨ä¸€ä¸ªåŒ…å«å­—ç¬¦ä¸²å’Œæ•°ç»„çš„å…ƒç»„</li>
</ul>
<h4 data-id="heading-18">2.3.3 Objectï¼ˆå¯¹è±¡ï¼‰</h4>
<ul>
<li>Objectç±»å‹æ˜¯æ‰€æœ‰å¼•ç”¨ç±»å‹çš„åŸºç±»å‹ã€‚</li>
<li>ä»»ä½•å€¼ï¼ŒåŒ…æ‹¬åŸºæœ¬ç±»å‹çš„å€¼ï¼Œéƒ½å¯ä»¥ç›´æ¥è¢«èµ‹ç»™Objectç±»å‹çš„å˜é‡ï¼ˆåŸºæœ¬ç±»å‹å€¼ä¼šè¢«è‡ªåŠ¨è£…ç®±ï¼‰</li>
<li>Objectç±»å‹ç”¨äºè¡¨ç¤ºé™¤åŸºæœ¬ç±»å‹å¤–çš„ç±»å‹</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let o1: Object = 'Alice';
let o2: Object = ['a','b'];
let o3: Object = 1;
</code></pre>
<h4 data-id="heading-19">2.3.4 Functionï¼ˆå‡½æ•°ç±»å‹ï¼‰</h4>
<ul>
<li>Functionç±»å‹ç”¨äºè¡¨ç¤ºå‡½æ•°çš„ç±»å‹ï¼Œå¯ä»¥æŒ‡å®šå‡½æ•°çš„å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let add: (x: number, y: number) =&gt; number = (x, y) =&gt; x + y;
let greet: (name: string) =&gt; void = (name) =&gt; console.log('hello,'+name);

add(12,23)
greet("Bob")
</code></pre>
<h4 data-id="heading-20">2.3.5 Literal Typesï¼ˆå­—é¢é‡ç±»å‹ï¼‰</h4>
<ul>
<li>å­—é¢é‡ç±»å‹ç”¨äºè¡¨ç¤ºæŸä¸ªå…·ä½“çš„å€¼ï¼Œè€Œä¸æ˜¯å€¼çš„ç±»å‹</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let color: "red" | "green" | "blue" = "red"
let status: 1 | 2 | 3 = 2
</code></pre>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>color</code> å°±åªèƒ½æ˜¯ <code>red</code>ã€<code>green</code>ã€<code>red</code>è¿™ä¸‰è€…ä¸­çš„å…¶ä¸­ä¹‹ä¸€ï¼Œ<code>status</code>åŒç†ã€‚</p>
<h4 data-id="heading-21">2.3.6 Enumï¼ˆæšä¸¾ï¼‰</h4>
<ul>
<li>Enum æ˜¯ä¸€ç»„æœ‰åç§°çš„å¸¸æ•°å€¼ï¼Œé€šå¸¸ç”¨äºè¡¨ç¤ºä¸€ç»„å›ºå®šçš„é€‰é¡¹æˆ–çŠ¶æ€</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">enum Direction {
  up = 1,
  down = 2,
  left = 3,
  right = 4
}


let direction = Direction.up

</code></pre>
<h4 data-id="heading-22">2.3.7 Unionï¼ˆè”åˆç±»å‹ï¼‰</h4>
<ul>
<li>Unionç±»å‹ï¼Œå³è”åˆç±»å‹ï¼Œæ˜¯ç”±å¤šä¸ªç±»å‹ç»„åˆæˆçš„å¼•ç”¨ç±»å‹</li>
<li>è”åˆç±»å‹åŒ…å«äº†å˜é‡å¯èƒ½çš„æ‰€æœ‰ç±»å‹</li>
</ul>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let value:string|number="hello"
value=30
// å¯ä»¥å°†ç±»å‹ä¸ºè”åˆç±»å‹çš„å˜é‡èµ‹å€¼ä¸ºä»»ä½•ç»„æˆç±»å‹çš„æœ‰æ•ˆå€¼
</code></pre>
<h4 data-id="heading-23">2.3.8 Aliasesï¼ˆåŒ¿åç±»å‹ï¼‰</h4>
<ul>
<li>Aliasesç±»å‹ä¸ºåŒ¿åç±»å‹ï¼ˆå¦‚æ•°ç»„ã€å‡½æ•°ã€å¯¹è±¡å­—é¢é‡æˆ–è”åˆç±»å‹ï¼‰æä¾›åç§°ï¼Œæˆ–ä¸ºå·²å®šä¹‰çš„ç±»å‹æä¾›æ›¿ä»£åç§°</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">type Matrix = number[][];
const gameBoard: Matrix = [
  [1, 0],
  [0, 1]
];
</code></pre>
<h3 data-id="heading-24">2.4 è¿ç®—ç¬¦</h3>
<h4 data-id="heading-25">2.4.1 ç®—æœ¯è¿ç®—ç¬¦</h4>





































<table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>+</code></td><td>åŠ æ³•</td></tr><tr><td><code>-</code></td><td>å‡æ³•</td></tr><tr><td><code>*</code></td><td>ä¹˜æ³•</td></tr><tr><td><code>/</code></td><td>é™¤æ³•</td></tr><tr><td><code>%</code></td><td>å–ä½™ï¼ˆæ¨¡ï¼‰</td></tr><tr><td><code>++</code></td><td>è‡ªå¢</td></tr><tr><td><code>--</code></td><td>è‡ªå‡</td></tr></tbody></table>
<h4 data-id="heading-26">2.4.2 èµ‹å€¼è¿ç®—ç¬¦</h4>
<p>èµ‹å€¼è¿ç®—ç¬¦ç”¨äº<strong>å°†å³è¾¹çš„å€¼èµ‹ç»™å·¦è¾¹çš„å˜é‡</strong></p>













<table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>=</code></td><td>èµ‹å€¼ï¼Œä½¿ç”¨æ–¹å¼å¦‚ <code>x=y</code></td></tr></tbody></table>
<h5 data-id="heading-27">2.4.2.1 å¤åˆèµ‹å€¼è¿ç®—ç¬¦</h5>
<p>å¤åˆèµ‹å€¼è¿ç®—ç¬¦å°†<strong>èµ‹å€¼è¿ç®—ç¬¦ä¸è¿ç®—ç¬¦ç»„åˆåœ¨ä¸€èµ·</strong></p>





















































<table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>+=</code></td><td>åŠ èµ‹å€¼ï¼Œä½¿ç”¨æ–¹å¼å¦‚ <code>x += y</code>ï¼Œç­‰ä»·äº <code>x = x + y</code></td></tr><tr><td><code>-=</code></td><td>å‡èµ‹å€¼ï¼Œä½¿ç”¨æ–¹å¼å¦‚ <code>x -= y</code>ï¼Œç­‰ä»·äº <code>x = x - y</code></td></tr><tr><td><code>*=</code></td><td>ä¹˜èµ‹å€¼ï¼Œä½¿ç”¨æ–¹å¼å¦‚ <code>x *= y</code>ï¼Œç­‰ä»·äº <code>x = x * y</code></td></tr><tr><td><code>/=</code></td><td>é™¤èµ‹å€¼ï¼Œä½¿ç”¨æ–¹å¼å¦‚ <code>x /= y</code>ï¼Œç­‰ä»·äº <code>x = x / y</code></td></tr><tr><td><code>%=</code></td><td>å–ä½™èµ‹å€¼ï¼Œä½¿ç”¨æ–¹å¼å¦‚ <code>x %= y</code>ï¼Œç­‰ä»·äº <code>x = x % y</code></td></tr><tr><td><code>&lt;&lt;=</code></td><td>å·¦ç§»èµ‹å€¼ï¼Œç¤ºä¾‹æ•ˆæœï¼š3 &lt;&lt;= 2 â†’ 12</td></tr><tr><td><code>&gt;&gt;=</code></td><td>å³ç§»èµ‹å€¼ï¼Œç¤ºä¾‹æ•ˆæœï¼š12 &gt;&gt;= 2 â†’ 3</td></tr><tr><td><code>&gt;&gt;&gt;=</code></td><td>æ— ç¬¦å·å³ç§»èµ‹å€¼ï¼Œç¤ºä¾‹æ•ˆæœï¼š-8 &gt;&gt;&gt;= 1 â†’ å¤§æ­£æ•°</td></tr><tr><td><code>&amp;=</code></td><td>æŒ‰ä½ä¸èµ‹å€¼ï¼Œä¸¤ä½éƒ½ä¸º1æ‰ä¸º1,ç¤ºä¾‹æ•ˆæœï¼š6 &amp;= 3 â†’ 2</td></tr><tr><td><code>|=</code></td><td>æŒ‰ä½æˆ–èµ‹å€¼ï¼Œæœ‰ 1 å°± 1ï¼Œç¤ºä¾‹æ•ˆæœï¼š<code>6 |= 3 â†’ 7</code></td></tr><tr><td><code>^=</code></td><td>æŒ‰ä½å¼‚æˆ–èµ‹å€¼ï¼Œç›¸åŒä¸º 0ï¼Œä¸åŒä¸º 1,ç¤ºä¾‹æ•ˆæœï¼š6 ^= 3 â†’ 5</td></tr></tbody></table>
<h4 data-id="heading-28">2.4.3 ä½è¿ç®—ç¬¦</h4>
<p>ä½è¿ç®—ç¬¦ç”¨äºå¯¹æ•´æ•°å€¼è¿›è¡Œä½çº§åˆ«çš„æ“ä½œ</p>





































<table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>&amp;</code></td><td>æŒ‰ä½ä¸ï¼ˆä¸¤ä½éƒ½ä¸º 1 æ‰ä¸º 1ï¼‰</td></tr><tr><td><code>|</code></td><td>æŒ‰ä½æˆ–ï¼ˆæœ‰ 1 å³ä¸º 1ï¼‰</td></tr><tr><td><code>^</code></td><td>æŒ‰ä½å¼‚æˆ–ï¼ˆç›¸åŒä¸º 0ï¼Œä¸åŒä¸º 1ï¼‰</td></tr><tr><td><code>~</code></td><td>æŒ‰ä½éï¼ˆæŒ‰ä½å–åï¼Œ0 å˜ 1ï¼Œ1 å˜ 0ï¼‰</td></tr><tr><td><code>&lt;&lt;</code></td><td>å·¦ç§»ï¼ˆå·¦ç§» n ä½ï¼Œç›¸å½“äºä¹˜ä»¥ 2<sup>n</sup>ï¼‰</td></tr><tr><td><code>&gt;&gt;</code></td><td>å³ç§»ï¼ˆå³ç§» n ä½ï¼Œä¿ç•™ç¬¦å·ä½ï¼Œç›¸å½“äºé™¤ä»¥ 2<sup>n</sup> å¹¶å‘ä¸‹å–æ•´ï¼‰</td></tr><tr><td><code>&gt;&gt;&gt;</code></td><td>æ— ç¬¦å·å³ç§»ï¼ˆå³ç§»åé«˜ä½è¡¥ 0ï¼Œä¸ä¿ç•™ç¬¦å·ä½ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-29">2.4.4 æ¯”è¾ƒè¿ç®—ç¬¦</h4>
<p>æ¯”è¾ƒè¿ç®—ç¬¦ç”¨äºæ¯”è¾ƒä¸¤ä¸ªå€¼ï¼Œå¹¶è¿”å›å¸ƒå°”å€¼ï¼ˆtrueæˆ–falseï¼‰</p>









































<table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>===</code></td><td>å¦‚æœä¸¤ä¸ªæ“ä½œæ•°ä¸¥æ ¼ç›¸ç­‰ï¼ˆå¯¹äºä¸åŒç±»å‹çš„æ“ä½œæ•°è®¤ä¸ºæ˜¯ä¸ç›¸ç­‰çš„ï¼‰ï¼Œåˆ™è¿”å›trueã€‚</td></tr><tr><td><code>!==</code></td><td>å¦‚æœä¸¤ä¸ªæ“ä½œæ•°ä¸¥æ ¼ä¸ç›¸ç­‰ï¼ˆå¯¹äºä¸åŒç±»å‹çš„æ“ä½œæ•°è®¤ä¸ºæ˜¯ä¸ç›¸ç­‰çš„ï¼‰ï¼Œåˆ™è¿”å›trueã€‚</td></tr><tr><td><code>==</code></td><td>å¦‚æœä¸¤ä¸ªæ“ä½œæ•°ç›¸ç­‰ï¼Œåˆ™è¿”å›trueã€‚</td></tr><tr><td><code>!=</code></td><td>å¦‚æœä¸¤ä¸ªæ“ä½œæ•°ä¸ç›¸ç­‰ï¼Œåˆ™è¿”å›trueã€‚</td></tr><tr><td><code>&gt;</code></td><td>å¦‚æœå·¦æ“ä½œæ•°å¤§äºå³æ“ä½œæ•°ï¼Œåˆ™è¿”å›trueã€‚</td></tr><tr><td><code>&gt;=</code></td><td>å¦‚æœå·¦æ“ä½œæ•°å¤§äºæˆ–ç­‰äºå³æ“ä½œæ•°ï¼Œåˆ™è¿”å›trueã€‚</td></tr><tr><td><code>&lt;</code></td><td>å¦‚æœå·¦æ“ä½œæ•°å°äºå³æ“ä½œæ•°ï¼Œåˆ™è¿”å›trueã€‚</td></tr><tr><td><code>&lt;=</code></td><td>å¦‚æœå·¦æ“ä½œæ•°å°äºæˆ–ç­‰äºå³æ“ä½œæ•°ï¼Œåˆ™è¿”å›trueã€‚</td></tr></tbody></table>
<h4 data-id="heading-30">2.4.5 é€»è¾‘è¿ç®—ç¬¦</h4>
<p>é€»è¾‘è¿ç®—ç¬¦ç”¨äºå¤„ç†å¸ƒå°”å€¼çš„è¿ç®—</p>





















<table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>&amp;&amp;</code></td><td>é€»è¾‘ä¸ï¼ˆANDï¼‰</td></tr><tr><td><code>||</code></td><td>é€»è¾‘æˆ– ï¼ˆORï¼‰</td></tr><tr><td><code>!</code></td><td>é€»è¾‘éï¼ˆNOTï¼‰</td></tr></tbody></table>
<h4 data-id="heading-31">2.4.6 ç±»å‹è¿ç®—ç¬¦</h4>
<p>ç±»å‹è¿ç®—ç¬¦ç”¨äºè¿›è¡Œç±»å‹æ£€æŸ¥å’Œç±»å‹è½¬æ¢</p>















<table><thead><tr><th>è¿ç®—ç¬¦</th><th>ç¤ºä¾‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>instanceof</code></td><td><code>obj instanceof className</code></td><td>å¦‚æœobjæ˜¯classNameç±»æˆ–å…¶å­ç±»çš„å®ä¾‹ï¼Œåˆ™è¿”å›å€¼ä¸ºtrueï¼›å¦åˆ™ï¼Œè¿”å›å€¼ä¸ºfalse</td></tr></tbody></table>
<h3 data-id="heading-32">2.5 è¡¨è¾¾å¼</h3>
<h4 data-id="heading-33">2.5.1 if-else è¯­å¥</h4>
<ul>
<li>if-elseè¯­å¥æ ¹æ®é€»è¾‘æ¡ä»¶æ‰§è¡Œä¸åŒçš„è¯­å¥åœºæ™¯ã€‚å½“æ¡ä»¶ä¸ºçœŸæ—¶ï¼Œæ‰§è¡Œä¸ºçœŸçš„è¯­å¥ï¼Œå¦åˆ™æ‰§è¡Œå¦ä¸€ç»„è¯­å¥</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">if (condition1) {
  //æ‰§è¡Œæ»¡è¶³ condition1ä¸ºçœŸï¼ˆå³ä¸ºtrueï¼‰ çš„è¯­å¥
} else {
  //æ‰§è¡Œæ»¡è¶³ condition1ä¸ºçœŸï¼ˆå³ä¸ºfalseï¼‰ çš„è¯­å¥
}
</code></pre>
<h4 data-id="heading-34">2.5.2 switch-caseè¯­å¥</h4>
<ul>
<li>switch-caseè¯­å¥æ ¹æ®ä¸åŒçš„caseé€‰é¡¹ï¼Œå½“æ»¡è¶³caseé€‰é¡¹æ¡ä»¶æ—¶ï¼Œåˆ™æ‰§è¡Œå¯¹åº”è¯­å¥</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">
switch (people) {
  case teacher:
    //å¦‚æœpeople æ˜¯ teacherï¼Œåˆ™æ‰§è¡Œè¿™é‡Œé¢è¯­å¥
    break
  case student:
    //å¦‚æœpeople æ˜¯ studentï¼Œåˆ™æ‰§è¡Œè¿™é‡Œé¢è¯­å¥
    break
  case worker:
    //å¦‚æœpeople æ˜¯ workerï¼Œåˆ™æ‰§è¡Œè¿™é‡Œé¢è¯­å¥
    break
  default :
    //å¦‚æœéƒ½ä¸æ»¡è¶³ä»¥ä¸Šé€‰é¡¹ï¼Œåˆ™æ‰§è¡Œè¿™é‡Œé¢è¯­å¥
    break
}
</code></pre>
<h4 data-id="heading-35">2.5.3 å¾ªç¯ç»“æ„</h4>
<p>åœ¨ ArkTS ä¸­ï¼Œå¾ªç¯ç»“æ„çš„è¯­æ³•å’Œ TypeScript/JavaScript åŸºæœ¬ä¸€è‡´ï¼Œæ”¯æŒå¸¸ è§çš„å¾ªç¯ç»“æ„å¦‚ for å¾ªç¯ã€ while å¾ªç¯å’Œ do-while å¾ªç¯ã€‚ä¸‹é¢æ˜¯å¯¹ ArkTS ä¸­å„ç§å¾ªç¯ç»“æ„çš„è¯¦ç»†ä»‹ç»ã€‚</p>
<h5 data-id="heading-36">2.5.3.1 forå¾ªç¯</h5>
<p>for å¾ªç¯æ˜¯æœ€å¸¸è§çš„å¾ªç¯ç»“æ„ï¼Œé€‚ç”¨äºå·²çŸ¥å¾ªç¯æ¬¡æ•°æˆ–éœ€è¦é€šè¿‡è®¡æ•°å™¨æ§ åˆ¶çš„æƒ…å†µ</p>
<p><strong>è¯­æ³•</strong></p>
<pre><code class="hljs language-scss" lang="scss">for (initialization; condition; increment) { 

<span class="hljs-comment">// å¾ªç¯ä½“ </span>

}

</code></pre>
<p>ç¤ºä¾‹</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">// ä» 0 åˆ° 4 æ‰“å°æ•°å­—
for (let i = 0; i &lt; 5; i++) {
  console.log(i.toString());
}
</code></pre>
<ul>
<li><code>initialization</code>ï¼Œä¹Ÿå°±æ˜¯ç¤ºä¾‹ä¸­<code>let i = 0</code>ï¼šåˆå§‹åŒ–è¡¨è¾¾å¼ï¼Œé€šå¸¸ç”¨äºå®šä¹‰å’Œåˆå§‹åŒ–è®¡æ•°å™¨</li>
<li><code>condition</code>ï¼Œä¹Ÿå°±æ˜¯ç¤ºä¾‹ä¸­<code> i &lt; 5</code>ï¼šå¾ªç¯çš„æ¡ä»¶è¡¨è¾¾å¼ï¼Œåªæœ‰å½“æ¡ä»¶ä¸º ç»­æ‰§è¡Œã€‚ true æ—¶ï¼Œå¾ªç¯æ‰ä¼šç»§ç»­æ‰§è¡Œ</li>
<li><code>increment</code>ï¼Œä¹Ÿå°±æ˜¯ç¤ºä¾‹ä¸­<code>i++</code>ï¼šæ¯æ¬¡å¾ªç¯ç»“æŸæ—¶æ‰§è¡Œçš„å¢é‡è¡¨è¾¾å¼ï¼Œé€šå¸¸ç”¨äºæ›´æ–°è®¡æ•°å™¨ã€‚</li>
</ul>
<h5 data-id="heading-37">2.5.3.2 for...ofå¾ªç¯</h5>
<ul>
<li><code>for...of</code> å¾ªç¯ç”¨äºéå†å¯è¿­ä»£å¯¹è±¡ï¼ˆå¦‚æ•°ç»„ã€å­—ç¬¦ä¸²ã€Mapã€Set ç­‰ï¼‰çš„ å€¼ã€‚å®ƒä¸ä¼šè¿”å›ç´¢å¼•æˆ–é”®ï¼Œè€Œæ˜¯ç›´æ¥è¿”å›é›†åˆä¸­çš„å…ƒç´ ã€‚</li>
</ul>
<p>ç¤ºä¾‹</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let numbers=[10,202,30]
for (let index of numbers){
  console.log(index.toString())
}
</code></pre>
<h5 data-id="heading-38">2.5.3.3 whileå¾ªç¯</h5>
<ul>
<li><code>while</code> å¾ªç¯ç”¨äºåœ¨ç»™å®šæ¡ä»¶ä¸º <code>true</code>çš„æƒ…å†µä¸‹é‡å¤æ‰§è¡Œå¾ªç¯ä½“ã€‚æ¡ä»¶è¡¨è¾¾å¼åœ¨æ¯æ¬¡è¿­ä»£å‰éƒ½ä¼šæ£€æŸ¥</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let count = 0;
while (count &lt; 5) {
  console.log(count.toString());
  count++;  // æ›´æ–°è®¡æ•°å™¨
}
</code></pre>
<h5 data-id="heading-39">2.5.3.4 do...whileå¾ªç¯</h5>
<ul>
<li><code>do...while</code>å¾ªç¯ä¸<code>while</code>å¾ªç¯ç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äº  <code>do...while</code>å¾ªç¯ä¼š<strong>è‡³å°‘æ‰§è¡Œä¸€æ¬¡ï¼ˆå³ä½¿ä¸æ»¡è¶³æ¡ä»¶ï¼‰</strong>ï¼Œå› ä¸ºæ¡ä»¶æ˜¯å¾ªç¯ä½“æ‰§è¡Œåå†åˆ¤æ–­çš„ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let count = 0;
do {
  console.log(count.toString());
  count++;  // æ›´æ–°è®¡æ•°å™¨
} while (count &lt; 5);
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼šå½“æˆ‘ä»¬ä½¿ç”¨å¾ªç¯æ—¶ï¼Œä¸€å®šè¦æœ‰åˆé€‚çš„å¥‘æœºç»“æŸå¾ªç¯ï¼Œå¦åˆ™å°±ä¼šé€ æˆæ­»å¾ªç¯ï¼Œè¦ä¹ˆå¾ªç¯æ¡ä»¶ä¸ºfalseï¼Œè¦ä¹ˆä½¿ç”¨breakè¯­å¥</p>
<h5 data-id="heading-40">2.5.3.5  breakè¯­å¥</h5>
<p><code>break</code>è¯­å¥ç”¨äºç«‹å³é€€å‡ºå¾ªç¯ã€‚å½“æ»¡è¶³æŸä¸ªæ¡ä»¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>break</code>æå‰ç»ˆæ­¢å¾ªç¯</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let count = 0;
do {
  if (count==5) {
    break
  }
  console.log(count.toString());
  count++;  // æ›´æ–°è®¡æ•°å™¨
} while (count &lt; 10);
</code></pre>
<h5 data-id="heading-41">2.5.3.6 continueè¯­å¥</h5>
<p><code>continue</code> è¯­å¥ç”¨äºè·³è¿‡å½“å‰å¾ªç¯çš„å‰©ä½™éƒ¨åˆ†ï¼Œç›´æ¥è¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯çš„åˆ¤æ–­æ¡ä»¶éƒ¨åˆ†ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let count = 0;
do {
  count++;  // æ›´æ–°è®¡æ•°å™¨
  if (count===6) {
    continue
  }
  console.log(count.toString());
} while (count &lt; 10);

</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ å½“<code>count</code>ç­‰äº6æ—¶ï¼Œ<code>continue</code>è¯­å¥ä¼šè·³è¿‡<code>console.log(count.toString());</code>è¯­å¥åŠä¹‹åçš„æ‰§è¡Œï¼Œç›´æ¥è¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯ã€‚</p>
<h5 data-id="heading-42">2.5.3.7 å¾ªç¯ç»“æ„æ€»ç»“</h5>
<p>åœ¨<strong>ArkTS</strong>ä¸­ï¼Œå¸¸è§çš„å¾ªç¯ç»“æ„åŒ…æ‹¬ï¼š</p>
<ol>
<li><code>for</code>å¾ªç¯ï¼šç”¨äºå·²çŸ¥æ¬¡æ•°çš„å¾ªç¯</li>
<li><code>for...or</code>å¾ªç¯ï¼šç”¨äºéå†å¯è¿­ä»£å¯¹è±¡çš„å…ƒç´ </li>
<li><code>while</code>å¾ªç¯ï¼šæ ¹æ®æ¡ä»¶é‡å¤æ‰§è¡Œå¾ªç¯ä½“</li>
<li><code>do...while</code>å¾ªç¯ï¼šè‡³å°‘æ‰§è¡Œä¸€æ¬¡å¾ªç¯ï¼Œä¹‹åæ ¹æ®æ¡ä»¶åˆ¤æ–­æ˜¯å¦ç»§ç»­</li>
<li><code>break</code>è¯­å¥ï¼šæå‰é€€å‡ºå¾ªç¯</li>
<li><code>continue</code>è¯­å¥ï¼šè·³è¿‡å½“å‰å¾ªç¯å‰©ä½™éƒ¨åˆ†ï¼Œç›´æ¥è¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯</li>
</ol>
<p>è¿™äº›å¾ªç¯ç»“æ„éƒ½å¯ä»¥å¸®åŠ©ä½ åœ¨ ArkTS ä¸­å¤„ç†å„ç§éœ€è¦é‡å¤æ‰§è¡Œçš„ä»»åŠ¡ï¼Œæ ¹ æ®å…·ä½“éœ€æ±‚é€‰æ‹©é€‚åˆçš„å¾ªç¯ç±»å‹ã€‚</p>
<h3 data-id="heading-43">2.6 å‡½æ•°</h3>
<p>åœ¨ <strong>ArkTS</strong>  ä¸­ï¼Œå‡½æ•°çš„å®šä¹‰å’Œä½¿ç”¨ä¸ TypeScript å¤§ä½“ç›¸åŒï¼Œä½†ç”±äºå®ƒæ˜¯ä¸“é—¨ä¸ºé¸¿è’™ç³»ç»Ÿï¼ˆHarmonyOSï¼‰è®¾è®¡çš„ï¼Œå¯èƒ½ä¼šæœ‰ä¸€äº›ç‰¹æœ‰çš„æ‰©å±•ã€‚ä¸‹é¢æˆ‘å°†å±•ç¤ºä¸€äº›å¸¸è§çš„ ArkTS å‡½æ•°ä½¿ç”¨æ–¹æ³•ï¼Œå¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å¦‚ä½•åœ¨ ArkTS ä¸­åˆ›å»ºå’Œä½¿ç”¨å‡½æ•°ã€‚</p>
<h4 data-id="heading-44">2.6.1 å‡½æ•°çš„å®šä¹‰</h4>
<p>åœ¨ <strong>ArkTS</strong> ä¸­ï¼Œå®šä¹‰å‡½æ•°çš„è¯­æ³•ä¸ TypeScript ç±»ä¼¼ï¼Œå¯ä»¥é€šè¿‡<code>function</code>å…³é”®å­—å®šä¹‰æ™®é€šå‡½æ•°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚</p>
<h5 data-id="heading-45">2.6.1.1 æ™®é€šå‡½æ•°å®šä¹‰</h5>
<pre><code class="hljs language-ArkTS" lang="ArkTS">function greet1(name:string):string{
  return `Hello,${name}!`
}

console.log(greet1("ArkTS"))
</code></pre>
<ul>
<li>å‡½æ•°å£°æ˜å¼•å…¥ä¸€ä¸ªå‡½æ•°ï¼ŒåŒ…å«å…¶åç§°ã€å‚æ•°åˆ—è¡¨ã€è¿”å›ç±»å‹å’Œå‡½æ•°ä½“</li>
<li>å‚æ•°ç±»å‹æ ‡æ³¨ï¼š<code>name:string</code> æ˜¾å¼å£°æ˜å‚æ•°ç±»å‹ä¸ºå­—ç¬¦ä¸²ç±»å‹</li>
<li>è¿”å›å€¼ç±»å‹ï¼š<code>string</code>æŒ‡å®šå‡½æ•°è¿”å›å€¼ä¸ºå­—ç¬¦ä¸²ç±»å‹</li>
</ul>
<h5 data-id="heading-46">2.6.1.2 ç®­å¤´å‡½æ•°å®šä¹‰ï¼ˆLambdaå‡½æ•°ï¼‰</h5>
<pre><code class="hljs language-ArkTS" lang="ArkTS">const greet2 = (name: string): string =&gt; {
  return `Hello,${name}!`
}

console.log(greet2("hqk"))



let sum=(x:number,y:number):number=&gt;{
  return x+y
}
let sum1=(x:number,y:number)=&gt;{
  return x+y
}
let sum2=(x:number,y:number)=&gt;x+y

console.log("sum="+sum(1,2))     //è¾“å‡º3
console.log("sum1="+sum1(1,2))   //è¾“å‡º3
console.log("sum2="+sum2(1,2))   //è¾“å‡º3

</code></pre>
<p>æ³¨æ„çœ‹sum/sum1/sum2 å‡½æ•°å®šä¹‰æœ‰ç»†å¾®å·®åˆ«</p>
<ul>
<li>ç®­å¤´å‡½æ•°åœ¨æ²¡æœ‰æŒ‡å®šè¿”å›ç±»å‹æ—¶ï¼Œä¼šæ ¹æ®è¿”å›çš„è¡¨è¾¾å¼è‡ªåŠ¨æ¨æ–­ç±»å‹</li>
<li>å¸¦å‡½æ•°ä½“ <code>{}</code> çš„ç®­å¤´å‡½æ•°ï¼ˆéœ€è¦å†™ æ˜¾å¼ returnï¼‰</li>
<li>åªæœ‰è¡¨è¾¾å¼çš„ç®­å¤´å‡½æ•°ï¼ˆä¸éœ€è¦å†™ éšå¼ returnï¼‰</li>
</ul>
<p>å› æ­¤ sum/sum1/sum2è¾“å‡ºéƒ½ä¸º3</p>
<p>é‚£ä¹ˆç°åœ¨æ¥ä¸ªå®æˆ˜</p>
<p><strong>æŒ‰é’®ç‚¹å‡»äº‹ä»¶</strong></p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">Button('').onClick(()=&gt;{})
</code></pre>
<p>è¿™é‡Œé¢å°±ç”¨åˆ°äº†Lambdaå‡½æ•°ï¼Œç›¸ä¿¡çœ‹äº†sum/sum1/sum2 å‡½æ•°å®šä¹‰å·®åˆ«ï¼Œä½ èƒ½çœ‹æ‡‚è¿™ä¸ªæŒ‰é’®ç‚¹å‡»äº‹ä»¶æ¡ˆä¾‹</p>
<h4 data-id="heading-47">2.6.2 å‡½æ•°çš„å‚æ•°å’Œè¿”å›ç±»å‹</h4>
<ul>
<li>å’Œ TypeScript ä¸€æ ·ï¼Œåœ¨ <code>ArkTS</code> ä¸­ä½ å¯ä»¥æŒ‡å®šå‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼ç±»å‹ï¼Œç¡®ä¿ç±»å‹çš„å®‰å…¨</li>
</ul>
<h5 data-id="heading-48">2.6.2.1 å¸¦å‚æ•°ç±»å‹å’Œè¿”å›ç±»å‹çš„å‡½æ•°</h5>
<pre><code class="hljs language-ArkTS" lang="ArkTS">function addNumber(a:number,b:number):string{
  return (a+b).toString()
}

console.log(`add=${addNumber(1,2)}`)

</code></pre>
<h5 data-id="heading-49">2.6.2.2 å¯é€‰å‚æ•°</h5>
<pre><code class="hljs language-ArkTS" lang="ArkTS">function greet1(name: string,age?:number): string {
  if (age) {
    return `Hello,${name}! You are ${age} years old.`
  }

  return `Hello,${name}!`
}


console.log(`greet1-&gt;${greet1("Bob")}`) //greet1-&gt;Hello,Bob!

console.log(`greet1-&gt;${greet1("Alice",24)}`)//greet1-&gt;Hello,Alice! You are 24 years old.

</code></pre>
<h5 data-id="heading-50">2.6.2.3 é»˜è®¤å‚æ•°</h5>
<pre><code class="hljs language-ArkTS" lang="ArkTS">function greet1(name: string,age:number=18): string {
  return `Hello,${name}! You are ${age} years old.`
}

console.log(`greet1-&gt;${greet1("Bob")}`) //greet1-&gt;Hello,Bob! You are 18 years old.

console.log(`greet1-&gt;${greet1("Alice",24)}`)//greet1-&gt;Hello,Alice! You are 24 years old.
</code></pre>
<h5 data-id="heading-51">2.6.2.4 å¯å˜å‚æ•°ï¼ˆRestå‚æ•°ï¼‰</h5>
<ul>
<li><strong>å‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯restå‚æ•°</strong>ã€‚ä½¿ç”¨restå‚æ•°æ—¶ï¼Œå…è®¸å‡½æ•°æˆ–æ–¹æ³•æ¥å—ä»»æ„æ•°é‡çš„å®å‚</li>
</ul>
<pre><code class="hljs language-ArkTS" lang="ArkTS">function sumNumber(...numbers: number[]): number {
  let res = 0
  for (let item of numbers) {
    res += item
  }
  return res
}


console.log(`sum1-&gt;${sumNumber()}`) //sum1-&gt;0
console.log(`sum2-&gt;${sumNumber(1, 2, 3, 4, 5, 6, 7)}`) //sum2-&gt;28

</code></pre>
<h4 data-id="heading-52">2.6.3 å¼‚æ­¥å‡½æ•°ï¼ˆAsync/Awaitï¼‰</h4>
<ul>
<li><code>ArkTS</code> æ”¯æŒå¼‚æ­¥ç¼–ç¨‹ï¼Œå¯ä»¥é€šè¿‡ <code>async</code> å’Œ <code>await</code> æ¥å¤„ç†å¼‚æ­¥æ“ä½œ</li>
</ul>
<h5 data-id="heading-53">2.6.3.1 å¼‚æ­¥å‡½æ•°å®šä¹‰å’Œè°ƒç”¨</h5>
<pre><code class="hljs language-ArkTS" lang="ArkTS">
import fs from '@ohos.file.fs'; //è¿™é‡Œå¼•å…¥ç³»ç»Ÿç»„ä»¶å¹¶å‘½åä¸ºï¼šfs

/**
 * æ‰“å¼€æ–‡ä»¶:fs:ç³»ç»Ÿæä¾›çš„ç”¨äºæ‰“å¼€æ–‡ä»¶çš„ä¸€ä¸ªç»„ä»¶
 * å¼‚æ­¥æ–¹æ³•
 */
async function openFile(fileName: string) {
  let file = await fs.open(fileName, fs.OpenMode.READ_WRITE | fs.OpenMode.CREATE)
  return file
}

function getData() {
  openFile("userInfo.txt").then((data: fs.File) =&gt; {
    console.log(data.name)
  })
}
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­:</p>
<ul>
<li><code>openFile</code>æ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼ˆ<code>async</code>ï¼‰ï¼Œä½¿ç”¨<code>await</code>ç­‰å¾…æ–‡ä»¶æ‰“å¼€å®Œæˆå¹¶è¿”å›ç»“æœ</li>
<li><code>openFile</code>æˆ‘è¿™æ•…æ„æ²¡æœ‰å†™è¿”å›å€¼ï¼Œä½†å´æœ‰ <code>return file</code>,è¿™é‡Œå’Œä¸Šé¢<code>sum/sum1/sum2</code>ä¾‹å­ä¸€æ ·ï¼Œå®ƒä¼šæ ¹æ®æ–¹æ³•ä½“è‡ªåŠ¨æ¨æ–­æ–¹æ³•è¿”å›ç±»å‹ä¸ºï¼š<code>Promise&lt;fs.File&gt;</code></li>
</ul>
<h4 data-id="heading-54">2.6.4 å›è°ƒå‡½æ•°</h4>
<ul>
<li>ä½ ä¹Ÿå¯ä»¥åœ¨ ArkTS ä¸­<strong>ä¼ é€’å›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°</strong>ï¼Œå°¤å…¶åœ¨ UI äº¤äº’ä¸­æ¯”è¾ƒå¸¸è§</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">function performAction(actionNumber: (a: number, b: number) =&gt; number) {
  console.log("Action started.")
  console.log(`Action run-&gt;${actionNumber(10, 20)}`)
  console.log("Action completed.")
}


performAction((a, b) =&gt; {
  console.log("Action æ‰§è¡Œa*bé€»è¾‘");
  return a * b;
});



performAction((a, b) =&gt; {
  console.log("Action æ‰§è¡Œa+bé€»è¾‘");
  return a + b;
});

</code></pre>
<p>è¾“å‡ºå†…å®¹ï¼š</p>
<pre><code class="hljs language-css" lang="css">   Action started.
   Action æ‰§è¡Œ<span class="hljs-selector-tag">a</span>*<span class="hljs-selector-tag">b</span>é€»è¾‘
   Action run-&gt;<span class="hljs-number">200</span>
   Action completed.
   Action started.
   Action æ‰§è¡Œ<span class="hljs-selector-tag">a</span>+<span class="hljs-selector-tag">b</span>é€»è¾‘
   Action run-&gt;<span class="hljs-number">30</span>
   Action completed.
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li>åœ¨ <code>performAction</code>æ–¹æ³•é‡Œï¼Œ<code>actionNumber</code>å‚æ•°ä½œä¸ºæœªå®ç°çš„å‡½æ•°/å›è°ƒå‡½æ•°ï¼Œï¼ˆåªç¡®å®šäº†å‚æ•°å’Œè¿”å›ç±»å‹ï¼‰</li>
<li>è€Œåœ¨è°ƒç”¨ <code>performAction</code>æ–¹æ³•çš„æ—¶å€™ï¼Œéœ€è¦å®ç°<code>actionNumber</code>æ–¹æ³•çš„å†…å®¹</li>
</ul>
<h4 data-id="heading-55">2.6.5 é«˜é˜¶å‡½æ•°</h4>
<ul>
<li>é«˜é˜¶å‡½æ•°æ˜¯æŒ‡<strong>æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œæˆ–è€…è¿”å›ä¸€ä¸ªå‡½æ•°çš„å‡½æ•°</strong>ã€‚ ArkTS æ”¯æŒé«˜é˜¶å‡½æ•°</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">// é«˜é˜¶å‡½æ•°ï¼šæ¥æ”¶ä¸¤ä¸ªå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªæ–°å‡½æ•°
function combineActions(
  action1: (x: number) =&gt; number,
  action2: (y: number) =&gt; number
) {
  // è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°
  return (value: number): number =&gt; {
    console.log("æ‰§è¡Œ action1...");
    const r1 = action1(value);

    console.log("æ‰§è¡Œ action2...");
    const r2 = action2(r1);

    return r2;
  };
}

// å®šä¹‰ä¸¤ä¸ªæ™®é€šç®­å¤´å‡½æ•°
let add10 = (num: number) =&gt; num + 10;
let multiply2 = (num: number) =&gt; num * 2;

// è°ƒç”¨é«˜é˜¶å‡½æ•°ï¼Œå¾—åˆ°ä¸€ä¸ªâ€œç»„åˆå‡½æ•°â€
let combined = combineActions(add10, multiply2);

// ä½¿ç”¨è¿”å›çš„å‡½æ•°
console.log("æœ€ç»ˆç»“æœï¼š" + combined(5));
</code></pre>
<p>è¾“å‡ºå†…å®¹</p>
<pre><code class="hljs language-erlang" lang="erlang">æ‰§è¡Œ action1...
æ‰§è¡Œ action2...
æœ€ç»ˆç»“æœï¼š<span class="hljs-number">30</span>
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­</p>
<ul>
<li>é«˜é˜¶å‡½æ•°èƒ½æŠŠâ€œè¡Œä¸ºâ€å½“æˆå‚æ•°ä¼ é€’ï¼Œä½¿é€»è¾‘æ›´çµæ´»ã€æ›´å¤ç”¨ã€æ›´æ˜“æ‰©å±•ã€‚</li>
</ul>
<h4 data-id="heading-56">2.6.6 å‡½æ•°é‡è½½</h4>
<p>ä¸ TypeScript ç›¸åŒï¼Œ<code>ArkTS</code> ä¹Ÿæ”¯æŒå‡½æ•°é‡è½½ã€‚ä½ å¯ä»¥å®šä¹‰å¤šä¸ªå…·æœ‰ä¸åŒå‚ æ•°åˆ—è¡¨çš„å‡½æ•°ï¼Œä½†æ˜¯è¦æ³¨æ„ï¼Œ<strong>é‡è½½å¿…é¡»æ ¹æ®å‚æ•°ç±»å‹æˆ–æ•°é‡æ¥åŒºåˆ†</strong></p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">//å‡½æ•°é‡è½½
function greet(name: string): string;
function greet(name: string, age: number): string;
function greet(name: string, age?: number): string {
  if (age !== undefined) {
    return `Hello, ${name}! You are ${age} yearsold.`;
  } else {
    return `Hello, ${name}!`;
  }
}
console.log(greet('Ali')) //Hello, Ali!
console.log(greet('Bob',20))//Hello, Bob! You are 20 yearsold.
console.log(greet('hqk', 30))//Hello, hqk! You are 30 yearsold.
</code></pre>
<h3 data-id="heading-57">2.7 ç±»ä¸å¯¹è±¡</h3>
<h4 data-id="heading-58">2.7.1 ç±»å£°æ˜</h4>
<p>ç±»å£°æ˜å¼•å…¥ä¸€ä¸ªæ–°ç±»å‹ï¼Œå¹¶å®šä¹‰å…¶å­—æ®µã€æ–¹æ³•å’Œæ„é€ å‡½æ•°</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">export class Person {
  name: string = ''
  surName: string = ''

  constructor(name: string, surName: string) {
    this.name = name
    this.surName = surName
  }

  fullName(): string {
    return `${this.name} ${this.surName}`
  }
}

</code></pre>
<p>å®šä¹‰ç±»åï¼Œå¯ä»¥ä½¿ç”¨å…³é”®å­—newåˆ›å»ºå®ä¾‹</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">import { Person} from '../utils/code'
let p=new Person('John','Smith')
console.log(p.fullName()) //John Smith
</code></pre>
<h4 data-id="heading-59">2.7.2 å­—æ®µ</h4>
<p>å­—æ®µæ˜¯ç›´æ¥åœ¨ç±»ä¸­å£°æ˜çš„æŸç§ç±»å‹çš„å˜é‡ã€‚ ç±»å¯ä»¥å…·æœ‰å®ä¾‹å­—æ®µæˆ–è€…é™æ€å­—æ®µã€‚</p>
<h5 data-id="heading-60">2.7.2.1 å®ä¾‹å­—æ®µ</h5>
<p>å®ä¾‹å­—æ®µå­˜åœ¨äºç±»çš„æ¯ä¸ªå®ä¾‹ä¸Šã€‚æ¯ä¸ªå®ä¾‹éƒ½æœ‰è‡ªå·±çš„å®ä¾‹å­—æ®µé›†åˆã€‚ è¦è®¿é—®å®ä¾‹å­—æ®µï¼Œéœ€è¦ä½¿ç”¨ç±»çš„å®ä¾‹</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class Person1 {
  name: string = ''
  age:number=0

  constructor(name: string, age: number) {
    this.name = name
    this.age = age
  }

  public getName(): string {
    return this.name
  }
}


let p1 = new Person1("Alice", 25)
p1.name

let p2 = new Person1("Bob", 28)
p2.name
</code></pre>
<h5 data-id="heading-61">2.7.2.2 é™æ€å­—æ®µ</h5>
<p>ä½¿ç”¨å…³é”®å­—<code>static</code>å°†å­—æ®µå£°æ˜ä¸ºé™æ€ã€‚é™æ€å­—æ®µå±äºç±»æœ¬èº«ï¼Œç±»çš„æ‰€æœ‰å®ä¾‹å…±äº«ä¸€ä¸ªé™æ€å­—æ®µ</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class Person1 {
  name: string = ''
  age:number=0

  static numberOfPersons = 0

  constructor(name: string, age: number) {
    this.name = name
    this.age = age
    Person1.numberOfPersons++
  }

  public getName(): string {
    return this.name
  }
}

let p1 = new Person1("Alice", 25)

let p2 = new Person1("Bob", 28)

console.log(`number-&gt;${Person1.numberOfPersons}`)

</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li>è¦è®¿é—®é™æ€å­—æ®µï¼Œéœ€è¦ä½¿ç”¨ç±»å</li>
</ul>
<h5 data-id="heading-62">2.7.2.3 å­—æ®µåˆå§‹åŒ–</h5>
<p><code>ArkTS</code>è¦æ±‚æ‰€æœ‰å­—æ®µåœ¨<strong>å£°æ˜æ—¶æˆ–è€…æ„é€ å‡½æ•°ä¸­æ˜¾å¼åˆå§‹åŒ–</strong>ã€‚è¿™å’Œæ ‡å‡†TSä¸­çš„ strictPropertyInitializationæ¨¡å¼ä¸€æ ·ã€‚</p>
<p>ä»¥ä¸‹ç¤ºä¾‹æ˜¯åœ¨<code>ArkTS</code>ä¸­ä¸åˆæ³•çš„ä»£ç </p>
<pre><code class="hljs language-ArkTS" lang="ArkTS"> class Person2{
  name:string  

  setName(name:string):void{
    this.name=name
  }

  getName():string{
    return this.name
  }
}
</code></pre>
<p>å¦‚æœä½ è¿™æ ·å†™ï¼Œç¼–è¯‘å™¨ç›´æ¥æç¤ºï¼š<code>Property 'name' has no initializer and is not definitely assigned in the constructor. &lt;ArkTSCheck&gt;</code> ï¼Œ<strong>è¦ä¹ˆå®šä¹‰æ—¶èµ‹å€¼ï¼Œè¦ä¹ˆæ„é€ å™¨æ–¹æ³•èµ‹å€¼</strong></p>
<h5 data-id="heading-63">2.7.2.4 getterå’Œsetter</h5>
<p>setterå’Œgetterå¯ç”¨äºæä¾›å¯¹å¯¹è±¡å±æ€§çš„å—æ§è®¿é—®</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class Person2{
  name:string=''
  private _age: number = 0

  public set age(value: number) {
    if (value&lt;0) {
      throw Error('Invalid age argument')
    }
    this._age = value
  }

  public get age(): number {
    return this._age
  }

}


let p=new Person2()
console.log(`age=${p.age}`) //age=0 
p.age=-10 // è®¾ç½®æ— æ•ˆageå€¼ä¼šæŠ›å‡ºé”™è¯¯

</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li>åœ¨ç±»ä¸­å¯ä»¥å®šä¹‰getteræˆ–è€…setter</li>
<li>setterç”¨äºç¦æ­¢å°†ageå±æ€§è®¾ç½®ä¸ºæ— æ•ˆå€¼</li>
</ul>
<h4 data-id="heading-64">2.7.3 æ–¹æ³•</h4>
<p>æ–¹æ³•å±äºç±»ã€‚ç±»å¯ä»¥å®šä¹‰å®ä¾‹æ–¹æ³•æˆ–è€…é™æ€æ–¹æ³•ã€‚é™æ€æ–¹æ³•å±äºç±»æœ¬èº«ï¼Œåªèƒ½è®¿é—®é™æ€å­—æ®µã€‚è€Œå®ä¾‹æ–¹æ³•æ—¢å¯ä»¥è®¿é—®é™æ€å­—æ®µï¼Œä¹Ÿå¯ä»¥è®¿é—®å®ä¾‹å­—æ®µï¼Œ åŒ…æ‹¬ç±»çš„ç§æœ‰å­—æ®µã€‚</p>
<h5 data-id="heading-65">2.7.3.1 å®ä¾‹æ–¹æ³•</h5>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class RectangleSize{
  private height:number=0
  private width:number=0

  constructor(height: number, width: number) {
    this.height = height
    this.width = width
  }

  calculateArea():number{
    return this.height*this.width
  }
}


let square=new RectangleSize(10,10)
console.log(`square=&gt;${square.calculateArea()}`) //è¾“å‡º square=&gt;100

</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li><code>calculateArea</code>æ–¹æ³•é€šè¿‡å°†é«˜åº¦ä¹˜ä»¥å®½åº¦æ¥è®¡ç®—çŸ©å½¢çš„é¢ç§¯</li>
<li>å¿…é¡»é€šè¿‡ç±»çš„å®ä¾‹è°ƒç”¨å®ä¾‹æ–¹æ³•</li>
</ul>
<h5 data-id="heading-66">2.7.3.2 é™æ€æ–¹æ³•</h5>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class C1{
  aa:string=''
  
  static a:number=10
  
  static staticMethod():string{
    return `this is a static method. ${C1.a}`
  }
}

console.log(C1.staticMethod())
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li>ä½¿ç”¨<code>static</code>å°†æ–¹æ³•å£°æ˜ä¸ºé™æ€ã€‚é™æ€æ–¹æ³•å±äºç±»æœ¬èº«ï¼Œåªèƒ½è®¿é—®é™æ€å­—æ®µ</li>
<li>é™æ€æ–¹æ³•å®šä¹‰äº†ç±»ä½œä¸ºä¸€ä¸ªæ•´ä½“çš„å…¬å…±è¡Œä¸º</li>
<li>å¿…é¡»é€šè¿‡ç±»åè°ƒç”¨é™æ€æ–¹æ³•</li>
</ul>
<h5 data-id="heading-67">2.7.3.3 ç»§æ‰¿</h5>
<p>ä¸€ä¸ªç±»å¯ä»¥ç»§æ‰¿å¦ä¸€ä¸ªç±»ï¼ˆç§°ä¸ºåŸºç±»ï¼‰</p>
<p>è¯­æ³•ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> [<span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseClassName</span>]{ 
<span class="hljs-comment">// ... </span>

}

</code></pre>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">export class Employee{
  //å±æ€§
  name: string = ''
  private sex: string = ''
  hiredate: Date | null = null
  sal: number = 0
  comm: number = 100
  // æ„é€ æ–¹æ³•
  constructor(name: string, sex: string, hiredate: Date, sal: number) {
    this.name = name
    this.sex = sex
    this.hiredate = hiredate
    this.sal = sal
  }
  work(){
    let name = 'hello'
    console.log(`${name},${this.name}:æ­£åœ¨åŠªåŠ›å·¥ä½œã€‚ã€‚ã€‚`)
  }
  getSalary(){
    console.log(`${this.name}:æ­£åœ¨é¢†å–å·¥èµ„`)
  }

}

/*
ç¨‹åºå‘˜ç±»
*
 */
export class Programmer extends Employee{

  getSalary(): void {
   //é‡å†™çˆ¶ç±»æ–¹æ³•
  }
}


import { Employee, President, Programmer } from '../utils/code1';


const e1 = new Programmer('jett', 'ç”·', new Date('2024-1-22'), 8000)
e1.work()  // æ‰“å°  hello,jett:æ­£åœ¨åŠªåŠ›å·¥ä½œã€‚ã€‚ã€‚
e1.getSalary() //æ²¡æœ‰ä»»ä½•æ‰“å°


</code></pre>
<ul>
<li>ç»§æ‰¿ç±»ç»§æ‰¿åŸºç±»çš„å­—æ®µå’Œæ–¹æ³•ï¼Œ<strong>ä½†ä¸èƒ½ç»§æ‰¿æ„é€ å‡½æ•°ï¼ˆå­ç±»å¦‚æœæ²¡æœ‰å†™æ„é€ å‡½æ•°ï¼ŒArkTSä¼šé»˜è®¤ç”Ÿæˆäº† constructor æ¥è°ƒç”¨ superï¼‰ã€‚</strong></li>
<li>ç»§æ‰¿ç±»å¯ä»¥æ–°å¢å®šä¹‰å­—æ®µå’Œæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥è¦†ç›–å…¶åŸºç±»å®šä¹‰çš„æ–¹æ³•</li>
<li>åŸºç±»ä¹Ÿç§°ä¸ºâ€œçˆ¶ç±»â€æˆ–â€œè¶…ç±»â€ã€‚ç»§æ‰¿ç±»ä¹Ÿç§°ä¸ºâ€œæ´¾ç”Ÿç±»â€æˆ–â€œå­ç±»â€</li>
</ul>
<h5 data-id="heading-68">2.7.3.4 å®ç°</h5>
<p>ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£</p>
<p>è¯­æ³•ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-class"><span class="hljs-keyword">class</span> [<span class="hljs-keyword">implements</span> <span class="hljs-title">listOfInterfaces</span>] </span>{ 
<span class="hljs-comment">// ... </span>

}

</code></pre>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">interface DateInterface {
  now(): string
}

export class MyDate implements DateInterface {
  now(): string {
    return 'now is now'
  }
}
</code></pre>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼š</p>
<ul>
<li>åŒ…å«<code>implements</code>å­å¥çš„ç±»å¿…é¡»å®ç°åˆ—å‡ºçš„æ¥å£ä¸­å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•</li>
</ul>
<h5 data-id="heading-69">2.7.3.5 çˆ¶ç±»è®¿é—®</h5>
<p>å…³é”®å­—<code>super</code>å¯ç”¨äºè®¿é—®çˆ¶ç±»çš„å®ä¾‹å­—æ®µã€å®ä¾‹æ–¹æ³•å’Œæ„é€ å‡½æ•°ã€‚åœ¨å®ç°å­ç±»åŠŸèƒ½æ—¶ï¼Œå¯ä»¥é€šè¿‡è¯¥å…³é”®å­—ä»çˆ¶ç±»ä¸­è·å–æ‰€éœ€æ¥å£</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class RectangleSize {
  protected  height: number = 0
  private width: number = 0

  constructor(height: number, width: number) {
    this.height = height
    this.width = width
  }

  calculateArea(): number {
    return this.height * this.width
  }

  /**
   * ç»˜åˆ¶
   */
  draw() {
  }
}

class FilledRectangle extends RectangleSize {
  color = ''

  constructor(height: number, width: number, c: string) {
    super(height, width) //çˆ¶ç±»æ„é€ å‡½æ•°è°ƒç”¨
    this.color = c
  }

  override draw(): void {
    super.draw() //çˆ¶ç±»æ–¹æ³•è°ƒç”¨
    super.height//è°ƒç”¨çˆ¶ç±»å±æ€§
    //
  }
}
</code></pre>
<h5 data-id="heading-70">2.7.3.6 æ–¹æ³•é‡å†™</h5>
<p>å­ç±»å¯ä»¥é‡å†™å…¶çˆ¶ç±»ä¸­å®šä¹‰çš„æ–¹æ³•çš„å®ç°ã€‚é‡å†™çš„æ–¹æ³•å¯ä»¥ç”¨å…³é”®å­— overrideæ ‡è®°ï¼Œä»¥æé«˜å¯è¯»æ€§ã€‚é‡å†™çš„æ–¹æ³•å¿…é¡»å…·æœ‰ä¸åŸå§‹æ–¹æ³•ç›¸åŒçš„å‚æ•° ç±»å‹å’Œç›¸åŒæˆ–æ´¾ç”Ÿçš„è¿”å›ç±»å‹</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class RectangleSize {
   //....
   
  area(): number {
    return 0
  }
}

class Square extends RectangleSize {
  private side: number = 5

  override area(): number {
    return this.side * this.side
  }
}
</code></pre>
<h5 data-id="heading-71">2.7.3.7 æ–¹æ³•é‡è½½</h5>
<p>é€šè¿‡é‡è½½ç­¾åï¼ŒæŒ‡å®šæ–¹æ³•çš„ä¸åŒè°ƒç”¨ã€‚å…·ä½“æ–¹æ³•ä¸ºï¼š<strong>åŒä¸€ä¸ªæ–¹æ³•å†™å…¥å¤šä¸ªåŒåä½†ç­¾åä¸åŒçš„æ–¹æ³•å¤´ï¼Œæ–¹æ³•å®ç°ç´§éšå…¶åã€‚</strong></p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class C{
  foo(x:number):void  //ç¬¬ä¸€ä¸ªç­¾å
  foo(x:string):void  //ç¬¬äºŒä¸ªç­¾å
  foo(x:number|string):void{ //å®ç°ç­¾å
    
  }
}
let c=new C()
c.foo(100)   //ä½¿ç”¨ç¬¬ä¸€ä¸ªç­¾å
c.foo("aaa") //ä½¿ç”¨ç¬¬äºŒä¸ªç­¾å
</code></pre>
<h4 data-id="heading-72">2.7.4 æ„é€ å‡½æ•°</h4>
<p>ç±»å£°æ˜å¯ä»¥åŒ…å«ç”¨äºåˆå§‹åŒ–å¯¹è±¡çŠ¶æ€çš„æ„é€ å‡½æ•°</p>
<p>è¯­æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">constructor</span> ([parameters]) { 
<span class="hljs-comment">// ...</span>
}
</code></pre>
<p><strong>å¦‚æœæœªå®šä¹‰æ„é€ å‡½æ•°ï¼Œåˆ™ä¼šè‡ªåŠ¨åˆ›å»ºå…·æœ‰ç©ºå‚æ•°åˆ—è¡¨çš„é»˜è®¤æ„é€ å‡½æ•°</strong>ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class Point {
  x: number = 0
  y: number = 0
}

let p = new Point()
p.x
p.y
</code></pre>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé»˜è®¤æ„é€ å‡½æ•°ä½¿ç”¨å­—æ®µç±»å‹çš„é»˜è®¤å€¼æ¥åˆå§‹åŒ–å®ä¾‹ä¸­çš„å­—æ®µ</p>
<h5 data-id="heading-73">2.7.4.1 æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°</h5>
<p>æ„é€ å‡½æ•°å‡½æ•°ä½“çš„ç¬¬ä¸€æ¡è¯­å¥å¯ä»¥ä½¿ç”¨å…³é”®å­—superæ¥æ˜¾å¼è°ƒç”¨ç›´æ¥çˆ¶ç±»çš„æ„é€ å‡½æ•°</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class RectangleSize {
  protected height: number = 0
  private width: number = 0
  constructor(height: number, width: number) {
    this.height = height
    this.width = width
  }
}

class Square extends RectangleSize {
  private side: number = 5
  constructor(side: number) {
    super(side, side)// ä½¿ç”¨å…³é”®å­—super
    this.side = side
  }

}
</code></pre>
<h5 data-id="heading-74">2.7.4.2 æ„é€ å‡½æ•°é‡è½½</h5>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼–å†™é‡è½½ç­¾åï¼ŒæŒ‡å®šæ„é€ å‡½æ•°çš„ä¸åŒè°ƒç”¨æ–¹å¼ã€‚å…·ä½“æ–¹æ³•ä¸ºï¼Œ <strong>åŒä¸€ä¸ªæ„é€ å‡½æ•°å†™å…¥å¤šä¸ªåŒåä½†ç­¾åä¸åŒçš„æ„é€ å‡½æ•°å¤´ï¼Œæ„é€ å‡½æ•°å®ç°ç´§éšå…¶å</strong> ï¼ˆå’Œä¸Šé¢æ–¹æ³•é‡è½½ç±»ä¼¼ï¼‰</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class C {
  constructor(x:number)
  constructor(x:string)
  constructor(x:number|string) {

  }
}

let c = new C(10)
let c1=new C("aaa")
</code></pre>
<h4 data-id="heading-75">2.7.5 ä¿®é¥°ç¬¦</h4>
<p>ç±»çš„æ–¹æ³•å’Œå±æ€§éƒ½å¯ä»¥ä½¿ç”¨å¯è§æ€§ä¿®é¥°ç¬¦</p>
<p>å¯è§æ€§ä¿®é¥°ç¬¦åŒ…æ‹¬ï¼š<code>private</code>ã€<code>protected</code>ã€<code>public</code>ã€‚é»˜è®¤ä¿®é¥°ç¬¦ä¸ºï¼š<code>public</code></p>
<h5 data-id="heading-76">2.7.5.1 publicä¸private</h5>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class C{
  public x:string=''
  private y: string = ''

  public set_y(value: string) {
    this.y = value // yåœ¨ç±»æœ¬èº«å¯ä»¥è®¿é—®
  }
}
let c=new C()
c.x='asdf' //OKï¼Œè¯¥å­—æ®µæ˜¯å…¬æœ‰çš„
c.y='bbb'  //ç¼–è¯‘æ—¶é”™è¯¯ï¼Œè¯¥å­—æ®µæ˜¯ç§æœ‰ä¸å¯è§çš„
</code></pre>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼š</p>
<ul>
<li><code>public</code> ï¼ˆé»˜è®¤ï¼šå…¬æœ‰ï¼‰ä¿®é¥°çš„ç±»æˆå‘˜ï¼ˆå­—æ®µã€æ–¹æ³•ã€æ„é€ å‡½æ•°ï¼‰åœ¨ç¨‹åºçš„ä»»ä½•å¯è®¿é—®è¯¥ç±»çš„åœ°æ–¹éƒ½æ˜¯å¯è§çš„</li>
<li><code>private</code>ï¼ˆç§æœ‰ï¼‰ä¿®é¥°çš„æˆå‘˜ä¸èƒ½åœ¨å£°æ˜è¯¥æˆå‘˜çš„ç±»ä¹‹å¤–è®¿é—®</li>
</ul>
<h5 data-id="heading-77">2.7.5.2 protected</h5>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class Base{
  protected x:string=''
  private y:string=''
  z:string=''
}

class Derived extends Base{
  foo(){
    this.x='a' //OKï¼Œè¯¥å­—æ®µæ˜¯protectedï¼ˆå—ä¿æŠ¤çš„ï¼‰ï¼Œå…è®¸åœ¨å­ç±»ä½¿ç”¨
    this.y='b' //ç¼–è¯‘æ—¶é”™è¯¯ï¼Œè¯¥å­—æ®µæ˜¯ç§æœ‰ä¸å¯è§çš„
  }
}

let d=new Derived()
d.z  //OKï¼Œè¯¥å­—æ®µæ˜¯å…¬æœ‰çš„
d.x  //ç¼–è¯‘æ—¶é”™è¯¯ï¼Œè¯¥å­—æ®µæ˜¯protectedï¼ˆå—ä¿æŠ¤çš„ï¼‰
</code></pre>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­</p>
<ul>
<li><code>protected</code>ä¿®é¥°ç¬¦çš„ä½œç”¨äº<code>private</code>ä¿®é¥°ç¬¦éå¸¸ç›¸ä¼¼ï¼Œä¸åŒç‚¹æ˜¯<code>protected</code>ä¿®é¥°ç¬¦çš„æˆå‘˜å…è®¸åœ¨æ´¾ç”Ÿç±»è®¿é—®</li>
</ul>
<h4 data-id="heading-78">2.7.6 å¯¹è±¡å­—é¢é‡</h4>
<p>å¯¹è±¡å­—é¢é‡æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå¯ç”¨äºåˆ›å»ºç±»å®ä¾‹å¹¶æä¾›ä¸€äº›åˆå§‹å€¼ã€‚å®ƒåœ¨æŸäº›æƒ…å†µä¸‹æ›´æ–¹ä¾¿ï¼Œå¯ä»¥ç”¨æ¥ä»£æ›¿newè¡¨è¾¾å¼ã€‚</p>
<p>å¯¹è±¡å­—é¢é‡çš„è¡¨ç¤ºæ–¹å¼æ˜¯ï¼š<strong>å°é—­åœ¨èŠ±æ‹¬å·å¯¹({})ä¸­çš„'å±æ€§åï¼šå€¼'çš„åˆ—è¡¨</strong></p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class C{
  n:number=0
  s:string=''
}

function foo(c:C){}

let c:C={n:42,s:'foo'}   //ä½¿ç”¨å˜é‡çš„ç±»å‹


foo({n:42,s:'foo'})//ä½¿ç”¨å‚æ•°çš„ç±»å‹

function bar():C{
  return {n:42,s:'foo'} //ä½¿ç”¨è¿”å›ç±»å‹
}
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li>å¯¹è±¡å­—é¢é‡åªèƒ½åœ¨å¯ä»¥æ¨å¯¼å‡ºè¯¥å­—é¢é‡ç±»å‹çš„ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨</li>
</ul>
<p>ä¹Ÿå¯ä»¥åœ¨æ•°ç»„å…ƒç´ ç±»å‹æˆ–ç±»å­—æ®µç±»å‹ä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class C{
  n:number=0
  s:string=''
}

let cc:C[]=[{n:1,s:'a'},{n:2,s:'b'}]
</code></pre>
<h5 data-id="heading-79">2.7.6.1 Recordç±»å‹çš„å¯¹è±¡å­—é¢é‡</h5>
<p>æ³›å‹Record&lt;K,V&gt;ç”¨äºå°†ç±»å‹ï¼ˆé”®ç±»å‹ï¼‰çš„å±æ€§æ˜ å°„åˆ°å¦ä¸€ä¸ªç±»å‹ï¼ˆå€¼ç±»å‹ï¼‰ã€‚å¸¸ç”¨å¯¹è±¡å­—é¢é‡æ¥åˆå§‹åŒ–è¯¥ç±»å‹çš„å€¼</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let map: Record&lt;string, number&gt; = { 'John': 25, "Mary": 21 }

map['John']   //25
</code></pre>
<p><strong>ç±»å‹Kå¯ä»¥æ˜¯å­—ç¬¦ä¸²ç±»å‹æˆ–æ•°å€¼ç±»å‹ï¼Œè€ŒVå¯ä»¥æ˜¯ä»»æ„ç±»å‹</strong></p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">interface PersonInfo {
  age: number
  salary: number
}

let map:Record&lt;string,PersonInfo&gt;={
  'John':{age:25,salary:10},
  "Mary":{age:21,salary:20}
}
</code></pre>
<h4 data-id="heading-80">2.7.7 æ¥å£</h4>
<p>ä¸Šé¢çš„å¾ˆå¤šç¤ºä¾‹éƒ½ç”¨åˆ°æ¥å£ï¼Œè¿™é‡Œå†ç»Ÿä¸€è®²è§£ä¸‹</p>
<h5 data-id="heading-81">2.7.7.1 æ¥å£å£°æ˜</h5>
<p>ä»»ä½•ä¸€ä¸ªç±»çš„å®ä¾‹åªè¦å®ç°äº†ç‰¹å®šæ¥å£ï¼Œå°±å¯ä»¥é€šè¿‡è¯¥æ¥å£å®ç°å¤šæ€ã€‚</p>
<p>æ¥å£é€šå¸¸åŒ…å«å±æ€§å’Œæ–¹æ³•å£°æ˜</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">interface Style{
  color:string //å±æ€§
}

interface AreaSize{
  calculateAreaSize():number //æ–¹æ³•çš„å£°æ˜
  someMethod():void //æ–¹æ³•çš„å£°æ˜
}
</code></pre>
<p>å®ç°æ¥å£ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">interface AreaSize{
  calculateAreaSize():number //æ–¹æ³•çš„å£°æ˜
  someMethod():void //æ–¹æ³•çš„å£°æ˜
}

class RectangleSize2 implements AreaSize{
  private width:number=0
  private height:number=0
  
  calculateAreaSize(): number {
    this.someMethod()
    return this.width*this.height
  }

  someMethod(): void {
    console.log('someMethod called')
  }
}
</code></pre>
<h5 data-id="heading-82">2.7.7.2 æ¥å£å±æ€§</h5>
<p>æ¥å£å±æ€§å¯ä»¥æ˜¯å­—æ®µã€getterã€setteræˆ–getterå’Œsetterç»„åˆçš„å½¢å¼ã€‚</p>
<p>å±æ€§å­—æ®µåªæ˜¯getter/setterå¯¹çš„ä¾¿æ·å†™æ³•ã€‚ä»¥ä¸‹è¡¨è¾¾æ–¹å¼æ˜¯ç­‰ä»·çš„ï¼ˆç¤ºä¾‹ä¸€ã€ç¤ºä¾‹äºŒï¼‰ï¼š</p>
<p>ç¤ºä¾‹ä¸€ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">interface Style {
  color: string;
}

</code></pre>
<p>ç¤ºä¾‹äºŒï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">interface Style {
  get color(): string;
  set color(x: string);
}
</code></pre>
<p>å®ç°æ¥å£çš„ç±»ä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼ˆç¤ºä¾‹ä¸‰ã€ç¤ºä¾‹å››ï¼‰ï¼š</p>
<p>ç¤ºä¾‹ä¸‰ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">interface Style {
  color: string;
}

class StyledRectangle implements Style {
  color: string = '';
}
</code></pre>
<p>ç¤ºä¾‹å››</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">interface Style {
  color: string;
}

class StyledRectangle implements Style {
  private _color: string = '';
  get color(): string { return this._color; }
  set color(x: string) { this._color = x; }
}
</code></pre>
<h5 data-id="heading-83">2.7.7.3 æ¥å£ç»§æ‰¿</h5>
<p>æ¥å£å¯ä»¥ç»§æ‰¿å…¶ä»–æ¥å£</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">interface Style {
  color: string;
}

interface ExtendedStyle extends Style {
  width: number;
}
</code></pre>
<p>ç»§æ‰¿æ¥å£åŒ…å«è¢«ç»§æ‰¿æ¥å£çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œè¿˜å¯ä»¥æ·»åŠ è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•</p>
<h4 data-id="heading-84">2.7.8 æ³›å‹</h4>
<p>æ³›å‹ç±»å‹å’Œå‡½æ•°å…è®¸åˆ›å»ºçš„ä»£ç åœ¨å„ç§ç±»å‹ä¸Šè¿è¡Œï¼Œè€Œä¸ä»…æ”¯æŒå•ä¸€ç±»å‹</p>
<h5 data-id="heading-85">2.7.8.1 æ³›å‹ç±»å’Œæ¥å£</h5>
<p>ç±»å’Œæ¥å£å¯ä»¥å®šä¹‰ä¸ºæ³›å‹ï¼Œå°†å‚æ•°æ·»åŠ åˆ°ç±»å‹å®šä¹‰ä¸­ã€‚å¦‚ä»¥ä¸‹ç¤ºä¾‹ä¸­çš„ç±»å‹å‚æ•°Element:</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class CustomStack&lt;Element&gt; {
  public push(e: Element):void {
    // ...
  }
}
</code></pre>
<p>è¦ä½¿ç”¨ç±»å‹CustomStackï¼Œå¿…é¡»ä¸ºæ¯ä¸ªç±»å‹å‚æ•°æŒ‡å®šç±»å‹å®å‚ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let s = new CustomStack&lt;string&gt;();
s.push('hello');
</code></pre>
<p>ç¼–è¯‘å™¨åœ¨ä½¿ç”¨æ³›å‹ç±»å‹å’Œå‡½æ•°æ—¶ä¼šç¡®ä¿ç±»å‹å®‰å…¨ã€‚å‚è§ä»¥ä¸‹ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let s = new CustomStack&lt;string&gt;();
s.push(55); // å°†ä¼šäº§ç”Ÿç¼–è¯‘æ—¶é”™è¯¯
</code></pre>
<h5 data-id="heading-86">2.7.8.2 æ³›å‹çº¦æŸ</h5>
<p>æ³›å‹ç±»å‹çš„ç±»å‹å‚æ•°å¯ä»¥ç»‘å®šã€‚ä¾‹å¦‚ï¼ŒHashMap&lt;Key,Value&gt;å®¹å™¨ä¸­çš„Key ç±»å‹å‚æ•°å¿…é¡»å…·æœ‰å“ˆå¸Œæ–¹æ³•ï¼Œå³å®ƒåº”è¯¥æ˜¯å¯å“ˆå¸Œçš„</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">interface Hashable {
  hash(): number;
}
class MyHashMap&lt;Key extends Hashable, Value&gt; {
  public set(k: Key, v: Value) {
    let h = k.hash();
    // ...å…¶ä»–ä»£ç ...
  }
}
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li>keyç±»å‹æ‰©å±•äº†Hashableï¼ŒHashableæ¥å£çš„æ‰€æœ‰æ–¹æ³•éƒ½å¯ä»¥è¢«keyè°ƒç”¨</li>
</ul>
<h5 data-id="heading-87">2.7.8.3 æ³›å‹å‡½æ•°</h5>
<p>ä½¿ç”¨æ³›å‹å‡½æ•°å¯ç¼–å†™æ›´é€šé€çš„ä»£ç ã€‚</p>
<p>æ¯”å¦‚è¿”å›æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ çš„å‡½æ•°ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">function last(x:number[]):number{
  return x[x.length-1]
}

last([1,2,3])  //3
</code></pre>
<p>å¦‚æœéœ€è¦ä¸ºä»»ä½•æ•°ç»„å®šä¹‰ç›¸åŒçš„å‡½æ•°ï¼Œä½¿ç”¨ç±»å‹å‚æ•°è®²å‡½æ•°å®šä¹‰ä¸ºæ³›å‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">function last&lt;T&gt;(x:T[]):T{
  return x[x.length-1]
}

//æ˜¾ç¤ºè®¾ç½®ç±»å‹å®å‚
last&lt;string&gt;(['aa','bb'])
last&lt;number&gt;([1,2,3])

//éšå¼è®¾ç½®ç±»å‹å®å‚
last([1,2,3])  //3
last(['a','b','c'])
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li>åœ¨å‡½æ•°è°ƒç”¨ä¸­ï¼Œç±»å‹å®å‚å¯ä»¥æ˜¾å¼æˆ–éšå¼è®¾ç½®</li>
</ul>
<h5 data-id="heading-88">2.7.8.4 æ³›å‹é»˜è®¤å€¼</h5>
<p>æ³›å‹ç±»å‹çš„ç±»å‹å‚æ•°å¯ä»¥è®¾ç½®é»˜è®¤å€¼ã€‚è¿™æ ·å¯ä»¥ä¸æŒ‡å®šå®é™…çš„ç±»å‹å®å‚ï¼Œè€Œåªä½¿ç”¨æ³›å‹ç±»å‹åç§°</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class SomeType{

}

interface Interface&lt;T1=SomeType&gt;{

}
class Base&lt;T2=SomeType&gt;{}

class Derived1 extends Base implements Interface{}
//è¿™é‡Œ Derived1ä¸Derived2ç­‰ä»·
class Derived2 extends Base&lt;SomeType&gt; implements Interface&lt;SomeType&gt;{}

function food&lt;T=number&gt;(): void{}

food() //number
//æ­¤å‡½æ•°åœ¨è¯­ä¹‰ä¸Šç­‰ä»·ä¸‹é¢å‡½æ•°è°ƒç”¨
food&lt;number&gt;()

//è¿™é‡Œè‡ªå®šä¹‰æ³›å‹ä¸ºstringç±»å‹
food&lt;string&gt;()
</code></pre>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼š</p>
<ul>
<li><code>Interface</code> ä¸ <code>Base</code>å¯¹åº”æ³›å‹é»˜è®¤å€¼ä¸º<code>SomeType</code>ç±»å‹ï¼Œå› æ­¤<code>Derived1</code>ç­‰ä»·äº<code>Derived2</code></li>
<li>æ–¹æ³•<code>food</code>å¯¹åº”æ³›å‹é»˜è®¤ä¸º<code>number</code>ç±»å‹ï¼Œå› æ­¤<code>food()</code> ç­‰ä»·äº <code>food&lt;number&gt;()</code></li>
</ul>
<p>å¦‚æœè¯´ <strong>æ³›å‹æ¯æ¬¡ä½¿ç”¨æ—¶éƒ½å¿…é¡»æ˜¾å¼æŒ‡å®šç±»å‹</strong> ä»¥åŠ <strong>æ³›å‹æ²¡æœ‰â€œå¤©ç„¶çš„ä¸»æµç±»å‹â€</strong> ï¼Œé‚£å°±æ²¡æœ‰å¿…è¦ä½¿ç”¨æ³›å‹é»˜è®¤å€¼</p>
<h4 data-id="heading-89">2.7.9 ç©ºå®‰å…¨ã€éç©ºæ–­è¨€è¿ç®—ç¬¦ã€ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ã€å¯é€‰é“¾</h4>
<h5 data-id="heading-90">2.7.9.1 ç©ºå®‰å…¨</h5>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒArkTSä¸­çš„æ‰€æœ‰ç±»å‹éƒ½ä¸å…è®¸ä¸ºç©ºï¼Œè¿™ç±»ä¼¼äºTypeScriptçš„(strictNullChecks)æ¨¡å¼ï¼Œä½†è§„åˆ™æ›´ä¸¥æ ¼ã€‚</p>
<p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæ‰€æœ‰è¡Œéƒ½ä¼šå¯¼è‡´ç¼–è¯‘æ—¶é”™è¯¯ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let x: number = null;    // ç¼–è¯‘æ—¶é”™è¯¯
let y: string = null;    // ç¼–è¯‘æ—¶é”™è¯¯
let z: number[] = null;  // ç¼–è¯‘æ—¶é”™è¯¯
</code></pre>
<p>å¯ä»¥ä¸ºç©ºå€¼çš„å˜é‡å®šä¹‰ä¸ºè”åˆç±»å‹T|null</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let x:number|null=null
x=1
x=null
if (x!=null){
  //do something
}
</code></pre>
<h5 data-id="heading-91">2.7.9.2 éç©ºæ–­è¨€è¿ç®—ç¬¦</h5>
<p>åç¼€è¿ç®—ç¬¦<code>!</code>å¯ç”¨äºæ–­è¨€å…¶æ“ä½œæ•°ä¸ºéç©ºã€‚</p>
<p>åº”ç”¨äºç©ºå€¼æ—¶ï¼Œè¿ç®—ç¬¦å°†æŠ›å‡ºé”™è¯¯ã€‚å¦åˆ™ï¼Œå€¼çš„ç±»å‹å°†ä»<code>T | null</code>æ›´æ”¹ä¸º<code>T</code></p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class C {
  value: number | null = 1
}

let c1=new C()
let y:number
y=c1.value+1   //ç¼–è¯‘é”™è¯¯ï¼šæ— æ³•å¯¹å¯ç©ºå€¼åšåŠ æ³•
y=c1.value!+1  //okï¼Œå€¼ä¸º2
</code></pre>
<h5 data-id="heading-92">2.7.9.3 ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦</h5>
<p>ç©ºå€¼åˆå¹¶äºŒå…ƒè¿ç®—ç¬¦<code>??</code>ç”¨äºæ£€æŸ¥å·¦ä¾§è¡¨è¾¾å¼çš„æ±‚å€¼æ˜¯å¦ç­‰äºnullæˆ–è€…undefinedã€‚å¦‚æœæ˜¯ï¼Œåˆ™è¡¨è¾¾å¼çš„ç»“æœä¸ºå³ä¾§è¡¨è¾¾å¼ï¼›å¦åˆ™ï¼Œç»“æœä¸ºå·¦ä¾§è¡¨è¾¾å¼ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œ<strong>a ?? bç­‰ä»·äºä¸‰å…ƒè¿ç®—ç¬¦(a != null &amp;&amp; a != undefined) ? a : bã€‚</strong></p>
<p>åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼ŒgetNickæ–¹æ³•è¿”å›å·²è®¾ç½®çš„æ˜µç§°ã€‚å¦‚æœæœªè®¾ç½®ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class Person3 {
  nick: string | null = null

  getNick(): string {
    return this.nick ?? ''
  }
}
</code></pre>
<h5 data-id="heading-93">2.7.9.4 å¯é€‰é“¾</h5>
<p>åœ¨è®¿é—®å¯¹è±¡å±æ€§æ—¶ï¼Œ<strong>å¦‚æœè¯¥å±æ€§æ˜¯undefinedæˆ–è€…nullï¼Œå¯é€‰é“¾è¿ç®—ç¬¦ä¼šè¿”å›undefined</strong></p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class Person3 {
  nick: string | null = null;
  spouse?: Person3

  setSpouse(spouse: Person3): void {
    this.spouse = spouse;
  }

  getSpouseNick(): string | null | undefined {
    return this.spouse?.nick;
  }

  constructor(nick: string) {
    this.nick = nick;
    this.spouse = undefined;
  }
}
</code></pre>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼š</p>
<ul>
<li><code>getSpouseNick</code>çš„è¿”å›ç±»å‹å¿…é¡»ä¸º<code>string | null | undefined</code>ï¼Œå› ä¸ºè¯¥æ–¹æ³•å¯èƒ½è¿”å›<code>null</code>æˆ–è€…<code>undefined</code></li>
<li>å¯é€‰é“¾å¯ä»¥ä»»æ„é•¿ï¼Œå¯ä»¥åŒ…å«ä»»æ„æ•°é‡çš„<code>?.</code>è¿ç®—ç¬¦</li>
</ul>
<p>åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œå¦‚æœPersonå®ä¾‹çš„spouseå±æ€§ä¸ä¸ºç©ºï¼Œå¹¶ä¸”spouseçš„nickå±æ€§ä¹Ÿä¸ä¸ºç©ºæ—¶ï¼Œè¾“å‡ºspouse.nickã€‚å¦åˆ™ï¼Œè¾“å‡ºundefined</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class Person {
  nick: string | null = null;
  spouse?: Person;

  constructor(nick: string) {
    this.nick = nick;
    this.spouse = undefined;
  }
}

let p: Person = new Person('Alice');
p.spouse?.nick; // undefined
</code></pre>
<h3 data-id="heading-94">3ã€ç»“æŸè¯­</h3>
<p>å¥½äº†ï¼ŒHarmonyOSé›¶åŸºç¡€è¯­æ³•åˆ°è¿™å°±ç»“æŸäº†ï¼Œçœ‹åˆ°è¿™é‡Œçš„å°ä¼™ä¼´æ­å–œä½ æŒæ¡äº†ArkTSè¯­æ³•ã€‚åæœŸæˆ‘ä¼šæŒç»­æ›´æ–°è¯¥ç³»åˆ—æ–‡ç« ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» Docker Swarm åˆ° Kubernetesï¼šå¾®æœåŠ¡é¡¹ç›®å…¨é¢é›†ç¾¤åŒ–å‡çº§å®æˆ˜]]></title>    <link>https://juejin.cn/post/7576057623742480426</link>    <guid>https://juejin.cn/post/7576057623742480426</guid>    <pubDate>2025-11-24T09:28:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576057623742480426" data-draft-id="7576026767371894803" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» Docker Swarm åˆ° Kubernetesï¼šå¾®æœåŠ¡é¡¹ç›®å…¨é¢é›†ç¾¤åŒ–å‡çº§å®æˆ˜"/> <meta itemprop="keywords" content="Kubernetes"/> <meta itemprop="datePublished" content="2025-11-24T09:28:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» Docker Swarm åˆ° Kubernetesï¼šå¾®æœåŠ¡é¡¹ç›®å…¨é¢é›†ç¾¤åŒ–å‡çº§å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T09:28:32.000Z" title="Mon Nov 24 2025 09:28:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¾®æœåŠ¡æ¶æ„æ¼”è¿›çš„é“è·¯ä¸Šï¼Œæˆ‘ä»¬ä»å•æœº Docker Compose èµ·æ­¥ï¼Œç»å†äº† Docker Swarm çš„é›†ç¾¤åŒ–æ”¹é€ ï¼Œç°åœ¨å°†è¿ˆå…¥æ›´åŠ å¼ºå¤§çš„ Kubernetes ç”Ÿæ€ç³»ç»Ÿã€‚æœ¬æ–‡åŸºäºæ‚¨æä¾›çš„å®é™…é¡¹ç›®ç¯å¢ƒï¼ˆåŒ…æ‹¬ä¹‹å‰é‡åˆ°çš„æƒé™é—®é¢˜ï¼‰ï¼Œè¯¦ç»†è®²è§£å¦‚ä½•å°† RocketMQ å¾®æœåŠ¡é¡¹ç›®ä» Docker Swarm æ— ç¼å‡çº§åˆ°ç”Ÿäº§çº§çš„ Kubernetes é›†ç¾¤éƒ¨ç½²ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€Kubernetes ä¸ Docker Swarm æ¶æ„å¯¹æ¯”</h2>
<h3 data-id="heading-1">1.1 æ ¸å¿ƒå·®å¼‚åˆ†æ</h3>



































<table><thead><tr><th>ç‰¹æ€§</th><th>Docker Swarm</th><th>Kubernetes</th></tr></thead><tbody><tr><td><strong>å­¦ä¹ æ›²çº¿</strong>â€‹</td><td>å¹³ç¼“ï¼ŒDocker åŸç”Ÿ</td><td>é™¡å³­ï¼Œæ¦‚å¿µä¸°å¯Œ</td></tr><tr><td><strong>åŠŸèƒ½å®Œæ•´æ€§</strong>â€‹</td><td>åŸºç¡€ç¼–æ’</td><td>ä¼ä¸šçº§å®Œæ•´ç”Ÿæ€</td></tr><tr><td><strong>æ‰©å±•æ€§</strong>â€‹</td><td>ä¸­ç­‰</td><td>æå¼º</td></tr><tr><td><strong>ç¤¾åŒºç”Ÿæ€</strong>â€‹</td><td>ä¸€èˆ¬</td><td>æå…¶ä¸°å¯Œ</td></tr><tr><td><strong>éƒ¨ç½²å¤æ‚åº¦</strong>â€‹</td><td>ç®€å•</td><td>å¤æ‚ä½†çµæ´»</td></tr></tbody></table>
<h3 data-id="heading-2">1.2 å‡çº§ä»·å€¼ç‚¹</h3>
<ul>
<li>âœ… æ›´å¼ºå¤§çš„è‡ªæ„ˆèƒ½åŠ›</li>
<li>âœ… ç²¾ç»†åŒ–çš„èµ„æºç®¡ç†</li>
<li>âœ… ä¸°å¯Œçš„æ‰©å±•ç»„ä»¶ï¼ˆç›‘æ§ã€æ—¥å¿—ã€ç½‘ç»œç­–ç•¥ç­‰ï¼‰</li>
<li>âœ… è¡Œä¸šæ ‡å‡†ï¼Œç¤¾åŒºæ”¯æŒå¼ºå¤§</li>
</ul>
<h2 data-id="heading-3">äºŒã€Kubernetes é›†ç¾¤è§„åˆ’ä¸æ­å»º</h2>
<h3 data-id="heading-4">2.1 èŠ‚ç‚¹è§„åˆ’ï¼ˆåŸºäºæ‚¨ç°æœ‰çš„å¤šå° CentOS æœºå™¨ï¼‰</h3>
<p>å‡è®¾æˆ‘ä»¬æœ‰ 3 å° CentOS 7.9 æœºå™¨ï¼š</p>
<ul>
<li><strong>k8s-master</strong>â€‹ (192.168.1.10) - æ§åˆ¶å¹³é¢èŠ‚ç‚¹</li>
<li><strong>k8s-node1</strong>â€‹ (192.168.1.11) - å·¥ä½œèŠ‚ç‚¹</li>
<li><strong>k8s-node2</strong>â€‹ (192.168.1.12) - å·¥ä½œèŠ‚ç‚¹</li>
</ul>
<h3 data-id="heading-5">2.2 æ‰€æœ‰èŠ‚ç‚¹åŸºç¡€ç¯å¢ƒå‡†å¤‡</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰€æœ‰èŠ‚ç‚¹æ‰§è¡Œï¼šå…³é—­ SELinux å’Œé˜²ç«å¢™</span>
setenforce 0
sed -i <span class="hljs-string">'s/^SELINUX=enforcing/SELINUX=permissive/'</span> /etc/selinux/config
systemctl stop firewalld
systemctl <span class="hljs-built_in">disable</span> firewalld

<span class="hljs-comment"># å…³é—­ swap</span>
swapoff -a
sed -i <span class="hljs-string">'/ swap / s/^(.*)$/#\1/g'</span> /etc/fstab

<span class="hljs-comment"># é…ç½®å†…æ ¸å‚æ•°</span>
<span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF | sudo tee /etc/sysctl.d/k8s.conf
net.bridge.bridge-nf-call-ip6tables = 1
net.bridge.bridge-nf-call-iptables = 1
net.ipv4.ip_forward = 1
EOF</span>
sysctl --system

<span class="hljs-comment"># é…ç½®å›½å†… yum æºï¼ˆé˜¿é‡Œäº‘ï¼‰</span>
curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo
curl -o /etc/yum.repos.d/epel.repo https://mirrors.aliyun.com/repo/epel-7.repo
</code></pre>
<h3 data-id="heading-6">2.3 å®‰è£… Docker å’Œ Kubernetes ç»„ä»¶</h3>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># æ‰€æœ‰èŠ‚ç‚¹ï¼šå®‰è£… Docker</span>
yum install -<span class="hljs-keyword">y</span> yum-utils device-mapper-persistent-data lvm2
yum-config-manager --add-repo https:<span class="hljs-regexp">//mirr</span>ors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
yum makecache fast
yum install -<span class="hljs-keyword">y</span> docker-ce-<span class="hljs-number">20.10</span>.<span class="hljs-number">12</span> docker-ce-cli-<span class="hljs-number">20.10</span>.<span class="hljs-number">12</span> containerd.io

<span class="hljs-comment"># é…ç½® Docker é•œåƒåŠ é€Ÿå’Œ cgroup é©±åŠ¨</span>
<span class="hljs-keyword">mkdir</span> -p /etc/docker
cat &gt; <span class="hljs-regexp">/etc/d</span>ocker/daemon.json &lt;&lt; EOF
{
  <span class="hljs-string">"exec-opts"</span>: [<span class="hljs-string">"native.cgroupdriver=systemd"</span>],
  <span class="hljs-string">"log-driver"</span>: <span class="hljs-string">"json-file"</span>,
  <span class="hljs-string">"log-opts"</span>: {
    <span class="hljs-string">"max-size"</span>: <span class="hljs-string">"100m"</span>
  },
  <span class="hljs-string">"storage-driver"</span>: <span class="hljs-string">"overlay2"</span>,
  <span class="hljs-string">"registry-mirrors"</span>: [
    <span class="hljs-string">"https://docker.mirrors.ustc.edu.cn"</span>,
    <span class="hljs-string">"https://hub-mirror.c.163.com"</span>
  ]
}
EOF

<span class="hljs-comment"># å¯åŠ¨ Docker</span>
systemctl enable docker &amp;&amp; systemctl start docker

<span class="hljs-comment"># æ‰€æœ‰èŠ‚ç‚¹ï¼šå®‰è£… kubeadm, kubelet, kubectl</span>
cat &lt;&lt;EOF &gt; <span class="hljs-regexp">/etc/</span>yum.repos.d/kubernetes.repo
[kubernetes]
name=Kubernetes
baseurl=https:<span class="hljs-regexp">//mirr</span>ors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/
enabled=<span class="hljs-number">1</span>
gpgcheck=<span class="hljs-number">1</span>
repo_gpgcheck=<span class="hljs-number">1</span>
gpgkey=https:<span class="hljs-regexp">//mirr</span>ors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https:<span class="hljs-regexp">//mirr</span>ors.aliyun.com/kubernetes/yum/doc/rpm-<span class="hljs-keyword">package</span>-key.gpg
EOF

yum install -<span class="hljs-keyword">y</span> kubelet-<span class="hljs-number">1.23</span>.<span class="hljs-number">0</span> kubeadm-<span class="hljs-number">1.23</span>.<span class="hljs-number">0</span> kubectl-<span class="hljs-number">1.23</span>.<span class="hljs-number">0</span>
systemctl enable kubelet &amp;&amp; systemctl start kubelet
</code></pre>
<h3 data-id="heading-7">2.4 åˆå§‹åŒ– Kubernetes é›†ç¾¤</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨ master èŠ‚ç‚¹æ‰§è¡Œåˆå§‹åŒ–</span>
kubeadm init \
  --apiserver-advertise-address=192.168.1.10 \
  --image-repository registry.aliyuncs.com/google_containers \
  --kubernetes-version v1.23.0 \
  --service-cidr=10.96.0.0/12 \
  --pod-network-cidr=10.244.0.0/16 \
  --ignore-preflight-errors=Swap

<span class="hljs-comment"># é…ç½® kubectl</span>
<span class="hljs-built_in">mkdir</span> -p <span class="hljs-variable">$HOME</span>/.kube
sudo <span class="hljs-built_in">cp</span> -i /etc/kubernetes/admin.conf <span class="hljs-variable">$HOME</span>/.kube/config
sudo <span class="hljs-built_in">chown</span> $(<span class="hljs-built_in">id</span> -u):$(<span class="hljs-built_in">id</span> -g) <span class="hljs-variable">$HOME</span>/.kube/config

<span class="hljs-comment"># åœ¨å·¥ä½œèŠ‚ç‚¹æ‰§è¡ŒåŠ å…¥å‘½ä»¤ï¼ˆåœ¨ kubeadm init è¾“å‡ºä¸­è·å–ï¼‰</span>
kubeadm <span class="hljs-built_in">join</span> 192.168.1.10:6443 --token &lt;token&gt; --discovery-token-ca-cert-hash &lt;<span class="hljs-built_in">hash</span>&gt;
</code></pre>
<h3 data-id="heading-8">2.5 å®‰è£…ç½‘ç»œæ’ä»¶ï¼ˆFlannelï¼‰</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># åœ¨ master èŠ‚ç‚¹æ‰§è¡Œ</span>
kubectl apply -f https:<span class="hljs-comment">//raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml</span>

<span class="hljs-meta"># éªŒè¯èŠ‚ç‚¹çŠ¶æ€</span>
kubectl <span class="hljs-keyword">get</span> nodes
kubectl <span class="hljs-keyword">get</span> pods -n kube-system
</code></pre>
<h2 data-id="heading-9">ä¸‰ã€Docker Swarm åˆ° Kubernetes çš„é…ç½®è½¬æ¢</h2>
<h3 data-id="heading-10">3.1 æ ¸å¿ƒæ¦‚å¿µæ˜ å°„è¡¨</h3>













































<table><thead><tr><th>Docker Swarm æ¦‚å¿µ</th><th>Kubernetes å¯¹åº”èµ„æº</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>service</code>+ <code>replicas</code></td><td><code>Deployment</code></td><td>æ— çŠ¶æ€åº”ç”¨éƒ¨ç½²</td></tr><tr><td><code>service</code>(æœ‰çŠ¶æ€)</td><td><code>StatefulSet</code></td><td>æœ‰çŠ¶æ€åº”ç”¨éƒ¨ç½²</td></tr><tr><td><code>service</code>æš´éœ²</td><td><code>Service</code></td><td>æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡</td></tr><tr><td><code>ports</code></td><td><code>Service</code>+ <code>Ingress</code></td><td>ç«¯å£æš´éœ²å’Œè·¯ç”±</td></tr><tr><td><code>volumes</code></td><td><code>PersistentVolumeClaim</code></td><td>æŒä¹…åŒ–å­˜å‚¨</td></tr><tr><td><code>configs</code></td><td><code>ConfigMap</code>/<code>Secret</code></td><td>é…ç½®ç®¡ç†</td></tr><tr><td><code>networks</code></td><td><code>NetworkPolicy</code></td><td>ç½‘ç»œç­–ç•¥</td></tr></tbody></table>
<h3 data-id="heading-11">3.2 åˆ›å»º Kubernetes å‘½åç©ºé—´</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># 00-namespace.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Namespace</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">rocketmq-app</span>
  <span class="hljs-attr">labels:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">rocketmq-app</span>
</code></pre>
<h2 data-id="heading-12">å››ã€æœ‰çŠ¶æ€æœåŠ¡æ”¹é€ ï¼ˆé‡ç‚¹è§£å†³æƒé™é—®é¢˜ï¼‰</h2>
<h3 data-id="heading-13">4.1 Redis éƒ¨ç½²é…ç½®</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># 01-redis-pvc.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">PersistentVolumeClaim</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">redis-pvc</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">rocketmq-app</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">accessModes:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">ReadWriteOnce</span>
  <span class="hljs-attr">resources:</span>
    <span class="hljs-attr">requests:</span>
      <span class="hljs-attr">storage:</span> <span class="hljs-string">5Gi</span>
  <span class="hljs-attr">storageClassName:</span> <span class="hljs-string">standard</span>

<span class="hljs-meta">---</span>
<span class="hljs-comment"># 02-redis-deployment.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Deployment</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">redis</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">rocketmq-app</span>
  <span class="hljs-attr">labels:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">redis</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">replicas:</span> <span class="hljs-number">1</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">matchLabels:</span>
      <span class="hljs-attr">app:</span> <span class="hljs-string">redis</span>
  <span class="hljs-attr">template:</span>
    <span class="hljs-attr">metadata:</span>
      <span class="hljs-attr">labels:</span>
        <span class="hljs-attr">app:</span> <span class="hljs-string">redis</span>
    <span class="hljs-attr">spec:</span>
      <span class="hljs-comment"># é‡ç‚¹ï¼šè§£å†³æƒé™é—®é¢˜ - è®¾ç½®å®‰å…¨ä¸Šä¸‹æ–‡</span>
      <span class="hljs-attr">securityContext:</span>
        <span class="hljs-attr">runAsUser:</span> <span class="hljs-number">1000</span>
        <span class="hljs-attr">runAsGroup:</span> <span class="hljs-number">1000</span>
        <span class="hljs-attr">fsGroup:</span> <span class="hljs-number">1000</span>
      <span class="hljs-attr">containers:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">redis</span>
        <span class="hljs-attr">image:</span> <span class="hljs-string">redis:7-alpine</span>
        <span class="hljs-attr">ports:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">containerPort:</span> <span class="hljs-number">6379</span>
        <span class="hljs-attr">command:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">redis-server</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">"--requirepass"</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">"123456"</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">"--appendonly"</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">"yes"</span>
        <span class="hljs-attr">volumeMounts:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">redis-data</span>
          <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/data</span>
        <span class="hljs-attr">resources:</span>
          <span class="hljs-attr">requests:</span>
            <span class="hljs-attr">memory:</span> <span class="hljs-string">"128Mi"</span>
            <span class="hljs-attr">cpu:</span> <span class="hljs-string">"100m"</span>
          <span class="hljs-attr">limits:</span>
            <span class="hljs-attr">memory:</span> <span class="hljs-string">"256Mi"</span>
            <span class="hljs-attr">cpu:</span> <span class="hljs-string">"200m"</span>
        <span class="hljs-attr">livenessProbe:</span>
          <span class="hljs-attr">exec:</span>
            <span class="hljs-attr">command:</span> [<span class="hljs-string">"redis-cli"</span>, <span class="hljs-string">"ping"</span>]
          <span class="hljs-attr">initialDelaySeconds:</span> <span class="hljs-number">30</span>
          <span class="hljs-attr">periodSeconds:</span> <span class="hljs-number">10</span>
        <span class="hljs-attr">readinessProbe:</span>
          <span class="hljs-attr">exec:</span>
            <span class="hljs-attr">command:</span> [<span class="hljs-string">"redis-cli"</span>, <span class="hljs-string">"ping"</span>]
          <span class="hljs-attr">initialDelaySeconds:</span> <span class="hljs-number">5</span>
          <span class="hljs-attr">periodSeconds:</span> <span class="hljs-number">10</span>
      <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">redis-data</span>
        <span class="hljs-attr">persistentVolumeClaim:</span>
          <span class="hljs-attr">claimName:</span> <span class="hljs-string">redis-pvc</span>

<span class="hljs-meta">---</span>
<span class="hljs-comment"># 03-redis-service.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Service</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">redis</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">rocketmq-app</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">redis</span>
  <span class="hljs-attr">ports:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">port:</span> <span class="hljs-number">6379</span>
    <span class="hljs-attr">targetPort:</span> <span class="hljs-number">6379</span>
  <span class="hljs-attr">clusterIP:</span> <span class="hljs-string">None</span>  <span class="hljs-comment"># Headless Service for stateful applications</span>
</code></pre>
<h3 data-id="heading-14">4.2 MongoDB éƒ¨ç½²é…ç½®</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># 04-mongo-pvc.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">PersistentVolumeClaim</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">mongo-pvc</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">rocketmq-app</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">accessModes:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">ReadWriteOnce</span>
  <span class="hljs-attr">resources:</span>
    <span class="hljs-attr">requests:</span>
      <span class="hljs-attr">storage:</span> <span class="hljs-string">10Gi</span>
  <span class="hljs-attr">storageClassName:</span> <span class="hljs-string">standard</span>

<span class="hljs-meta">---</span>
<span class="hljs-comment"># 05-mongo-deployment.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Deployment</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">mongo</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">rocketmq-app</span>
  <span class="hljs-attr">labels:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">mongo</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">replicas:</span> <span class="hljs-number">1</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">matchLabels:</span>
      <span class="hljs-attr">app:</span> <span class="hljs-string">mongo</span>
  <span class="hljs-attr">template:</span>
    <span class="hljs-attr">metadata:</span>
      <span class="hljs-attr">labels:</span>
        <span class="hljs-attr">app:</span> <span class="hljs-string">mongo</span>
    <span class="hljs-attr">spec:</span>
      <span class="hljs-attr">securityContext:</span>
        <span class="hljs-attr">runAsUser:</span> <span class="hljs-number">999</span>
        <span class="hljs-attr">runAsGroup:</span> <span class="hljs-number">999</span>
        <span class="hljs-attr">fsGroup:</span> <span class="hljs-number">999</span>
      <span class="hljs-attr">containers:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">mongo</span>
        <span class="hljs-attr">image:</span> <span class="hljs-string">mongo:5</span>
        <span class="hljs-attr">ports:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">containerPort:</span> <span class="hljs-number">27017</span>
        <span class="hljs-attr">env:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">MONGO_INITDB_ROOT_USERNAME</span>
          <span class="hljs-attr">value:</span> <span class="hljs-string">"root"</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">MONGO_INITDB_ROOT_PASSWORD</span>
          <span class="hljs-attr">value:</span> <span class="hljs-string">"root"</span>
        <span class="hljs-attr">volumeMounts:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">mongo-data</span>
          <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/data/db</span>
        <span class="hljs-attr">resources:</span>
          <span class="hljs-attr">requests:</span>
            <span class="hljs-attr">memory:</span> <span class="hljs-string">"512Mi"</span>
            <span class="hljs-attr">cpu:</span> <span class="hljs-string">"200m"</span>
          <span class="hljs-attr">limits:</span>
            <span class="hljs-attr">memory:</span> <span class="hljs-string">"1Gi"</span>
            <span class="hljs-attr">cpu:</span> <span class="hljs-string">"500m"</span>
        <span class="hljs-attr">livenessProbe:</span>
          <span class="hljs-attr">exec:</span>
            <span class="hljs-attr">command:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">mongosh</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">--eval</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">"db.adminCommand('ping')"</span>
          <span class="hljs-attr">initialDelaySeconds:</span> <span class="hljs-number">30</span>
          <span class="hljs-attr">periodSeconds:</span> <span class="hljs-number">10</span>
        <span class="hljs-attr">readinessProbe:</span>
          <span class="hljs-attr">exec:</span>
            <span class="hljs-attr">command:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">mongosh</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">--eval</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">"db.adminCommand('ping')"</span>
          <span class="hljs-attr">initialDelaySeconds:</span> <span class="hljs-number">5</span>
          <span class="hljs-attr">periodSeconds:</span> <span class="hljs-number">10</span>
      <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">mongo-data</span>
        <span class="hljs-attr">persistentVolumeClaim:</span>
          <span class="hljs-attr">claimName:</span> <span class="hljs-string">mongo-pvc</span>

<span class="hljs-meta">---</span>
<span class="hljs-comment"># 06-mongo-service.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Service</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">mongo</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">rocketmq-app</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">mongo</span>
  <span class="hljs-attr">ports:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">port:</span> <span class="hljs-number">27017</span>
    <span class="hljs-attr">targetPort:</span> <span class="hljs-number">27017</span>
</code></pre>
<h2 data-id="heading-15">äº”ã€RocketMQ é›†ç¾¤åŒ–éƒ¨ç½²</h2>
<h3 data-id="heading-16">5.1 RocketMQ NameServer é…ç½®</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># 07-rmqnamesrv-deployment.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Deployment</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">rmqnamesrv</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">rocketmq-app</span>
  <span class="hljs-attr">labels:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">rmqnamesrv</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">replicas:</span> <span class="hljs-number">2</span>  <span class="hljs-comment"># é«˜å¯ç”¨éƒ¨ç½²</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">matchLabels:</span>
      <span class="hljs-attr">app:</span> <span class="hljs-string">rmqnamesrv</span>
  <span class="hljs-attr">template:</span>
    <span class="hljs-attr">metadata:</span>
      <span class="hljs-attr">labels:</span>
        <span class="hljs-attr">app:</span> <span class="hljs-string">rmqnamesrv</span>
    <span class="hljs-attr">spec:</span>
      <span class="hljs-attr">securityContext:</span>
        <span class="hljs-attr">runAsUser:</span> <span class="hljs-number">3000</span>
        <span class="hljs-attr">runAsGroup:</span> <span class="hljs-number">3000</span>
        <span class="hljs-attr">fsGroup:</span> <span class="hljs-number">3000</span>
      <span class="hljs-attr">containers:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">rmqnamesrv</span>
        <span class="hljs-attr">image:</span> <span class="hljs-string">apache/rocketmq:5.1.0</span>
        <span class="hljs-attr">command:</span> [<span class="hljs-string">"sh"</span>, <span class="hljs-string">"mqnamesrv"</span>]
        <span class="hljs-attr">ports:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">containerPort:</span> <span class="hljs-number">9876</span>
        <span class="hljs-attr">resources:</span>
          <span class="hljs-attr">requests:</span>
            <span class="hljs-attr">memory:</span> <span class="hljs-string">"256Mi"</span>
            <span class="hljs-attr">cpu:</span> <span class="hljs-string">"200m"</span>
          <span class="hljs-attr">limits:</span>
            <span class="hljs-attr">memory:</span> <span class="hljs-string">"512Mi"</span>
            <span class="hljs-attr">cpu:</span> <span class="hljs-string">"500m"</span>
        <span class="hljs-attr">livenessProbe:</span>
          <span class="hljs-attr">tcpSocket:</span>
            <span class="hljs-attr">port:</span> <span class="hljs-number">9876</span>
          <span class="hljs-attr">initialDelaySeconds:</span> <span class="hljs-number">30</span>
          <span class="hljs-attr">periodSeconds:</span> <span class="hljs-number">10</span>
      <span class="hljs-attr">affinity:</span>
        <span class="hljs-attr">podAntiAffinity:</span>
          <span class="hljs-attr">preferredDuringSchedulingIgnoredDuringExecution:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-attr">weight:</span> <span class="hljs-number">100</span>
            <span class="hljs-attr">podAffinityTerm:</span>
              <span class="hljs-attr">labelSelector:</span>
                <span class="hljs-attr">matchExpressions:</span>
                <span class="hljs-bullet">-</span> <span class="hljs-attr">key:</span> <span class="hljs-string">app</span>
                  <span class="hljs-attr">operator:</span> <span class="hljs-string">In</span>
                  <span class="hljs-attr">values:</span>
                  <span class="hljs-bullet">-</span> <span class="hljs-string">rmqnamesrv</span>
              <span class="hljs-attr">topologyKey:</span> <span class="hljs-string">kubernetes.io/hostname</span>

<span class="hljs-meta">---</span>
<span class="hljs-comment"># 08-rmqnamesrv-service.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Service</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">rmqnamesrv</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">rocketmq-app</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">rmqnamesrv</span>
  <span class="hljs-attr">ports:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">port:</span> <span class="hljs-number">9876</span>
    <span class="hljs-attr">targetPort:</span> <span class="hljs-number">9876</span>
  <span class="hljs-attr">clusterIP:</span> <span class="hljs-string">None</span>  <span class="hljs-comment"># Headless Service for stateful discovery</span>
</code></pre>
<h3 data-id="heading-17">5.2 RocketMQ Broker é…ç½®ï¼ˆæ”¯æŒé›†ç¾¤ï¼‰</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># 09-rocketmq-configmap.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">ConfigMap</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">rocketmq-config</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">rocketmq-app</span>
<span class="hljs-attr">data:</span>
  <span class="hljs-attr">broker.conf:</span> <span class="hljs-string">|
    # Broker é›†ç¾¤é…ç½®
    brokerClusterName = DefaultCluster
    brokerName = broker-a
    brokerId = 0
    deleteWhen = 04
    fileReservedTime = 48
    brokerRole = ASYNC_MASTER
    flushDiskType = ASYNC_FLUSH
    # è‡ªåŠ¨å‘ç° NameServer
    namesrvAddr = rmqnamesrv.rocketmq-app.svc.cluster.local:9876
</span>
<span class="hljs-meta">---</span>
<span class="hljs-comment"># 10-rmqbroker-statefulset.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">StatefulSet</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">rmqbroker</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">rocketmq-app</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">serviceName:</span> <span class="hljs-string">"rmqbroker"</span>
  <span class="hljs-attr">replicas:</span> <span class="hljs-number">2</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">matchLabels:</span>
      <span class="hljs-attr">app:</span> <span class="hljs-string">rmqbroker</span>
  <span class="hljs-attr">template:</span>
    <span class="hljs-attr">metadata:</span>
      <span class="hljs-attr">labels:</span>
        <span class="hljs-attr">app:</span> <span class="hljs-string">rmqbroker</span>
    <span class="hljs-attr">spec:</span>
      <span class="hljs-attr">securityContext:</span>
        <span class="hljs-attr">runAsUser:</span> <span class="hljs-number">3000</span>
        <span class="hljs-attr">runAsGroup:</span> <span class="hljs-number">3000</span>
        <span class="hljs-attr">fsGroup:</span> <span class="hljs-number">3000</span>
      <span class="hljs-attr">containers:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">rmqbroker</span>
        <span class="hljs-attr">image:</span> <span class="hljs-string">apache/rocketmq:5.1.0</span>
        <span class="hljs-attr">command:</span> 
          <span class="hljs-bullet">-</span> <span class="hljs-string">sh</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">-c</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">|
            # åŠ¨æ€è®¾ç½® Broker åç§°
            BROKER_NAME="broker-${HOSTNAME##*-}"
            sed -i "s/brokerName = broker-a/brokerName = ${BROKER_NAME}/" /opt/rocketmq/conf/broker.conf
            sh mqbroker -c /opt/rocketmq/conf/broker.conf
</span>        <span class="hljs-attr">ports:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">containerPort:</span> <span class="hljs-number">10911</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">containerPort:</span> <span class="hljs-number">10909</span>
        <span class="hljs-attr">env:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">JAVA_OPTS</span>
          <span class="hljs-attr">value:</span> <span class="hljs-string">" -Duser.home=/opt"</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">JAVA_OPT_EXT</span>
          <span class="hljs-attr">value:</span> <span class="hljs-string">"-server -Xms512m -Xmx512m -Xmn256m"</span>
        <span class="hljs-attr">volumeMounts:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">broker-config</span>
          <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/opt/rocketmq/conf/broker.conf</span>
          <span class="hljs-attr">subPath:</span> <span class="hljs-string">broker.conf</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">broker-data</span>
          <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/home/rocketmq/store</span>
        <span class="hljs-attr">resources:</span>
          <span class="hljs-attr">requests:</span>
            <span class="hljs-attr">memory:</span> <span class="hljs-string">"1Gi"</span>
            <span class="hljs-attr">cpu:</span> <span class="hljs-string">"500m"</span>
          <span class="hljs-attr">limits:</span>
            <span class="hljs-attr">memory:</span> <span class="hljs-string">"2Gi"</span>
            <span class="hljs-attr">cpu:</span> <span class="hljs-string">"1"</span>
        <span class="hljs-attr">livenessProbe:</span>
          <span class="hljs-attr">tcpSocket:</span>
            <span class="hljs-attr">port:</span> <span class="hljs-number">10911</span>
          <span class="hljs-attr">initialDelaySeconds:</span> <span class="hljs-number">60</span>
          <span class="hljs-attr">periodSeconds:</span> <span class="hljs-number">30</span>
      <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">broker-config</span>
        <span class="hljs-attr">configMap:</span>
          <span class="hljs-attr">name:</span> <span class="hljs-string">rocketmq-config</span>
  <span class="hljs-attr">volumeClaimTemplates:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">metadata:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">broker-data</span>
    <span class="hljs-attr">spec:</span>
      <span class="hljs-attr">accessModes:</span> [ <span class="hljs-string">"ReadWriteOnce"</span> ]
      <span class="hljs-attr">storageClassName:</span> <span class="hljs-string">standard</span>
      <span class="hljs-attr">resources:</span>
        <span class="hljs-attr">requests:</span>
          <span class="hljs-attr">storage:</span> <span class="hljs-string">20Gi</span>

<span class="hljs-meta">---</span>
<span class="hljs-comment"># 11-rmqbroker-service.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Service</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">rmqbroker</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">rocketmq-app</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">rmqbroker</span>
  <span class="hljs-attr">ports:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">main</span>
    <span class="hljs-attr">port:</span> <span class="hljs-number">10911</span>
    <span class="hljs-attr">targetPort:</span> <span class="hljs-number">10911</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">vip</span>
    <span class="hljs-attr">port:</span> <span class="hljs-number">10909</span>
    <span class="hljs-attr">targetPort:</span> <span class="hljs-number">10909</span>
  <span class="hljs-attr">clusterIP:</span> <span class="hljs-string">None</span>
</code></pre>
<h2 data-id="heading-18">å…­ã€SpringBoot åº”ç”¨æ”¹é€ ï¼ˆé‡ç‚¹è§£å†³æƒé™é—®é¢˜ï¼‰</h2>
<h3 data-id="heading-19">6.1 åº”ç”¨é…ç½®å’Œéƒ¨ç½²</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># 12-springboot-configmap.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">ConfigMap</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">springboot-app-config</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">rocketmq-app</span>
<span class="hljs-attr">data:</span>
  <span class="hljs-attr">application.yml:</span> <span class="hljs-string">|
    server:
      port: 8080
</span>    
    <span class="hljs-attr">spring:</span>
      <span class="hljs-attr">application:</span>
        <span class="hljs-attr">name:</span> <span class="hljs-string">rocketmq-user-service</span>
      <span class="hljs-attr">data:</span>
        <span class="hljs-attr">mongodb:</span>
          <span class="hljs-attr">uri:</span> <span class="hljs-string">mongodb://root:root@mongo.rocketmq-app.svc.cluster.local:27017/product_db?authSource=admin</span>
      <span class="hljs-attr">redis:</span>
        <span class="hljs-attr">host:</span> <span class="hljs-string">redis.rocketmq-app.svc.cluster.local</span>
        <span class="hljs-attr">port:</span> <span class="hljs-number">6379</span>
        <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span>
        <span class="hljs-attr">database:</span> <span class="hljs-number">0</span>
    
    <span class="hljs-attr">rocketmq:</span>
      <span class="hljs-attr">name-server:</span> <span class="hljs-string">rmqnamesrv.rocketmq-app.svc.cluster.local:9876</span>
      <span class="hljs-attr">producer:</span>
        <span class="hljs-attr">group:</span> <span class="hljs-string">user-service-producer-group</span>
    
    <span class="hljs-attr">logging:</span>
      <span class="hljs-attr">level:</span>
        <span class="hljs-attr">RocketmqClient:</span> <span class="hljs-string">ERROR</span>
        <span class="hljs-attr">com.example:</span> <span class="hljs-string">DEBUG</span>
      <span class="hljs-attr">file:</span>
        <span class="hljs-attr">name:</span> <span class="hljs-string">/home/spring/logs/application/application.log</span>

<span class="hljs-meta">---</span>
<span class="hljs-comment"># 13-springboot-secret.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Secret</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">springboot-app-secret</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">rocketmq-app</span>
<span class="hljs-attr">type:</span> <span class="hljs-string">Opaque</span>
<span class="hljs-attr">data:</span>
  <span class="hljs-comment"># echo -n 'your-password' | base64</span>
  <span class="hljs-attr">redis-password:</span> <span class="hljs-string">MTIzNDU2</span>  <span class="hljs-comment"># 123456</span>

<span class="hljs-meta">---</span>
<span class="hljs-comment"># 14-springboot-deployment.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Deployment</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">my-springboot-app</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">rocketmq-app</span>
  <span class="hljs-attr">labels:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">my-springboot-app</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">replicas:</span> <span class="hljs-number">3</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">matchLabels:</span>
      <span class="hljs-attr">app:</span> <span class="hljs-string">my-springboot-app</span>
  <span class="hljs-attr">template:</span>
    <span class="hljs-attr">metadata:</span>
      <span class="hljs-attr">labels:</span>
        <span class="hljs-attr">app:</span> <span class="hljs-string">my-springboot-app</span>
    <span class="hljs-attr">spec:</span>
      <span class="hljs-comment"># é‡ç‚¹ï¼šå®‰å…¨ä¸Šä¸‹æ–‡é…ç½®ï¼Œè§£å†³æƒé™é—®é¢˜</span>
      <span class="hljs-attr">securityContext:</span>
        <span class="hljs-attr">runAsUser:</span> <span class="hljs-number">1000</span>
        <span class="hljs-attr">runAsGroup:</span> <span class="hljs-number">1000</span>
        <span class="hljs-attr">fsGroup:</span> <span class="hljs-number">1000</span>
        <span class="hljs-attr">fsGroupChangePolicy:</span> <span class="hljs-string">"OnRootMismatch"</span>
      <span class="hljs-attr">containers:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">my-springboot-app</span>
        <span class="hljs-attr">image:</span> <span class="hljs-string">my-springboot-app:latest</span>
        <span class="hljs-attr">ports:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">containerPort:</span> <span class="hljs-number">8080</span>
        <span class="hljs-attr">env:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">SPRING_PROFILES_ACTIVE</span>
          <span class="hljs-attr">value:</span> <span class="hljs-string">"k8s"</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">ROCKETMQ_CLIENT_LOG_ROOT</span>
          <span class="hljs-attr">value:</span> <span class="hljs-string">"/home/spring/logs/rocketmqlogs"</span>
        <span class="hljs-attr">volumeMounts:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">app-config</span>
          <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/app/config</span>
          <span class="hljs-attr">readOnly:</span> <span class="hljs-literal">true</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">app-logs</span>
          <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/home/spring/logs</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">tmp-volume</span>
          <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/tmp</span>
        <span class="hljs-attr">resources:</span>
          <span class="hljs-attr">requests:</span>
            <span class="hljs-attr">memory:</span> <span class="hljs-string">"512Mi"</span>
            <span class="hljs-attr">cpu:</span> <span class="hljs-string">"250m"</span>
          <span class="hljs-attr">limits:</span>
            <span class="hljs-attr">memory:</span> <span class="hljs-string">"1Gi"</span>
            <span class="hljs-attr">cpu:</span> <span class="hljs-string">"500m"</span>
        <span class="hljs-attr">livenessProbe:</span>
          <span class="hljs-attr">httpGet:</span>
            <span class="hljs-attr">path:</span> <span class="hljs-string">/actuator/health</span>
            <span class="hljs-attr">port:</span> <span class="hljs-number">8080</span>
          <span class="hljs-attr">initialDelaySeconds:</span> <span class="hljs-number">60</span>
          <span class="hljs-attr">periodSeconds:</span> <span class="hljs-number">10</span>
          <span class="hljs-attr">timeoutSeconds:</span> <span class="hljs-number">5</span>
        <span class="hljs-attr">readinessProbe:</span>
          <span class="hljs-attr">httpGet:</span>
            <span class="hljs-attr">path:</span> <span class="hljs-string">/actuator/health</span>
            <span class="hljs-attr">port:</span> <span class="hljs-number">8080</span>
          <span class="hljs-attr">initialDelaySeconds:</span> <span class="hljs-number">30</span>
          <span class="hljs-attr">periodSeconds:</span> <span class="hljs-number">5</span>
          <span class="hljs-attr">timeoutSeconds:</span> <span class="hljs-number">3</span>
        <span class="hljs-comment"># åˆå§‹åŒ–å®¹å™¨ï¼šé¢„å…ˆåˆ›å»ºæ—¥å¿—ç›®å½•å¹¶è®¾ç½®æ­£ç¡®æƒé™</span>
        <span class="hljs-attr">lifecycle:</span>
          <span class="hljs-attr">postStart:</span>
            <span class="hljs-attr">exec:</span>
              <span class="hljs-attr">command:</span> [<span class="hljs-string">"/bin/sh"</span>, <span class="hljs-string">"-c"</span>, <span class="hljs-string">"mkdir -p /home/spring/logs/application /home/spring/logs/rocketmqlogs &amp;&amp; chmod -R 755 /home/spring/logs"</span>]
      <span class="hljs-attr">initContainers:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">init-logs-permission</span>
        <span class="hljs-attr">image:</span> <span class="hljs-string">busybox:1.35</span>
        <span class="hljs-attr">command:</span> [<span class="hljs-string">'sh'</span>, <span class="hljs-string">'-c'</span>, <span class="hljs-string">'mkdir -p /home/spring/logs/application /home/spring/logs/rocketmqlogs &amp;&amp; chown -R 1000:1000 /home/spring/logs &amp;&amp; chmod -R 755 /home/spring/logs'</span>]
        <span class="hljs-attr">volumeMounts:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">app-logs</span>
          <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/home/spring/logs</span>
      <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">app-config</span>
        <span class="hljs-attr">configMap:</span>
          <span class="hljs-attr">name:</span> <span class="hljs-string">springboot-app-config</span>
          <span class="hljs-attr">items:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-attr">key:</span> <span class="hljs-string">application.yml</span>
            <span class="hljs-attr">path:</span> <span class="hljs-string">application.yml</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">app-logs</span>
        <span class="hljs-attr">persistentVolumeClaim:</span>
          <span class="hljs-attr">claimName:</span> <span class="hljs-string">springboot-logs-pvc</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">tmp-volume</span>
        <span class="hljs-attr">emptyDir:</span> {}

<span class="hljs-meta">---</span>
<span class="hljs-comment"># 15-springboot-pvc.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">PersistentVolumeClaim</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">springboot-logs-pvc</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">rocketmq-app</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">accessModes:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">ReadWriteMany</span>
  <span class="hljs-attr">resources:</span>
    <span class="hljs-attr">requests:</span>
      <span class="hljs-attr">storage:</span> <span class="hljs-string">10Gi</span>
  <span class="hljs-attr">storageClassName:</span> <span class="hljs-string">standard</span>

<span class="hljs-meta">---</span>
<span class="hljs-comment"># 16-springboot-service.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Service</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">my-springboot-app</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">rocketmq-app</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">my-springboot-app</span>
  <span class="hljs-attr">ports:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">port:</span> <span class="hljs-number">8080</span>
    <span class="hljs-attr">targetPort:</span> <span class="hljs-number">8080</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">ClusterIP</span>

<span class="hljs-meta">---</span>
<span class="hljs-comment"># 17-springboot-ingress.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">networking.k8s.io/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Ingress</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">springboot-app-ingress</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">rocketmq-app</span>
  <span class="hljs-attr">annotations:</span>
    <span class="hljs-attr">nginx.ingress.kubernetes.io/rewrite-target:</span> <span class="hljs-string">/</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">rules:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">host:</span> <span class="hljs-string">rocketmq-app.example.com</span>
    <span class="hljs-attr">http:</span>
      <span class="hljs-attr">paths:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">path:</span> <span class="hljs-string">/</span>
        <span class="hljs-attr">pathType:</span> <span class="hljs-string">Prefix</span>
        <span class="hljs-attr">backend:</span>
          <span class="hljs-attr">service:</span>
            <span class="hljs-attr">name:</span> <span class="hljs-string">my-springboot-app</span>
            <span class="hljs-attr">port:</span>
              <span class="hljs-attr">number:</span> <span class="hljs-number">8080</span>
</code></pre>
<h2 data-id="heading-20">ä¸ƒã€éƒ¨ç½²å’ŒéªŒè¯</h2>
<h3 data-id="heading-21">7.1 æŒ‰é¡ºåºéƒ¨ç½²æ‰€æœ‰èµ„æº</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># åˆ›å»ºå‘½åç©ºé—´</span>
kubectl apply -f <span class="hljs-number">00</span>-<span class="hljs-keyword">namespace</span>.yaml

<span class="hljs-meta"># éƒ¨ç½²å­˜å‚¨ç›¸å…³</span>
kubectl apply -f <span class="hljs-number">01</span>-redis-pvc.yaml
kubectl apply -f <span class="hljs-number">04</span>-mongo-pvc.yaml
kubectl apply -f <span class="hljs-number">15</span>-springboot-pvc.yaml

<span class="hljs-meta"># éƒ¨ç½²é…ç½®</span>
kubectl apply -f <span class="hljs-number">09</span>-rocketmq-configmap.yaml
kubectl apply -f <span class="hljs-number">12</span>-springboot-configmap.yaml
kubectl apply -f <span class="hljs-number">13</span>-springboot-secret.yaml

<span class="hljs-meta"># éƒ¨ç½²æœ‰çŠ¶æ€æœåŠ¡</span>
kubectl apply -f <span class="hljs-number">02</span>-redis-deployment.yaml
kubectl apply -f <span class="hljs-number">03</span>-redis-service.yaml
kubectl apply -f <span class="hljs-number">05</span>-mongo-deployment.yaml
kubectl apply -f <span class="hljs-number">06</span>-mongo-service.yaml
kubectl apply -f <span class="hljs-number">07</span>-rmqnamesrv-deployment.yaml
kubectl apply -f <span class="hljs-number">08</span>-rmqnamesrv-service.yaml
kubectl apply -f <span class="hljs-number">10</span>-rmqbroker-statefulset.yaml
kubectl apply -f <span class="hljs-number">11</span>-rmqbroker-service.yaml

<span class="hljs-meta"># éƒ¨ç½²åº”ç”¨æœåŠ¡</span>
kubectl apply -f <span class="hljs-number">14</span>-springboot-deployment.yaml
kubectl apply -f <span class="hljs-number">16</span>-springboot-service.yaml
kubectl apply -f <span class="hljs-number">17</span>-springboot-ingress.yaml

<span class="hljs-meta"># éªŒè¯éƒ¨ç½²çŠ¶æ€</span>
kubectl <span class="hljs-keyword">get</span> all -n rocketmq-app
kubectl <span class="hljs-keyword">get</span> pvc -n rocketmq-app
</code></pre>
<h3 data-id="heading-22">7.2 éªŒè¯æœåŠ¡è¿é€šæ€§</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># æ£€æŸ¥æ‰€æœ‰ Pod çŠ¶æ€</span>
kubectl get pods -n rocketmq-app -w

<span class="hljs-comment"># æŸ¥çœ‹è¯¦ç»†éƒ¨ç½²çŠ¶æ€</span>
kubectl describe deployment my-springboot-app -n rocketmq-app

<span class="hljs-comment"># æµ‹è¯•æœåŠ¡å‘ç°</span>
kubectl run test-pod <span class="hljs-attr">--image</span>=busybox -it --rm -n rocketmq-app -- sh
<span class="hljs-comment"># åœ¨æµ‹è¯• Pod ä¸­æ‰§è¡Œï¼š</span>
nslookup redis.rocketmq-app.svc.cluster.local
nslookup rmqnamesrv.rocketmq-app.svc.cluster.local
telnet my-springboot-app 8080
</code></pre>
<h3 data-id="heading-23">7.3 éªŒè¯æƒé™é—®é¢˜è§£å†³</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥ SpringBoot åº”ç”¨ Pod éªŒè¯æƒé™</span>
kubectl <span class="hljs-built_in">exec</span> -it deployment/my-springboot-app -n rocketmq-app -- sh

<span class="hljs-comment"># åœ¨å®¹å™¨å†…æ‰§è¡Œæƒé™éªŒè¯</span>
<span class="hljs-built_in">whoami</span>
<span class="hljs-built_in">ls</span> -la /home/spring/logs/
<span class="hljs-built_in">touch</span> /home/spring/logs/test-permission.log
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æƒé™æµ‹è¯•æˆåŠŸ"</span> &gt; /home/spring/logs/test-permission.log
<span class="hljs-built_in">cat</span> /home/spring/logs/test-permission.log
</code></pre>
<h2 data-id="heading-24">å…«ã€é«˜çº§ç‰¹æ€§é…ç½®</h2>
<h3 data-id="heading-25">8.1 èµ„æºé™åˆ¶å’Œ HPA</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># 18-hpa.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">autoscaling/v2</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">HorizontalPodAutoscaler</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">springboot-app-hpa</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">rocketmq-app</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">scaleTargetRef:</span>
    <span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span>
    <span class="hljs-attr">kind:</span> <span class="hljs-string">Deployment</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">my-springboot-app</span>
  <span class="hljs-attr">minReplicas:</span> <span class="hljs-number">2</span>
  <span class="hljs-attr">maxReplicas:</span> <span class="hljs-number">10</span>
  <span class="hljs-attr">metrics:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">Resource</span>
    <span class="hljs-attr">resource:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">cpu</span>
      <span class="hljs-attr">target:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">Utilization</span>
        <span class="hljs-attr">averageUtilization:</span> <span class="hljs-number">80</span>
</code></pre>
<h3 data-id="heading-26">8.2 ç½‘ç»œç­–ç•¥</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># 19-network-policy.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">networking.k8s.io/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">NetworkPolicy</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">rocketmq-app-policy</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">rocketmq-app</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">podSelector:</span> {}
  <span class="hljs-attr">policyTypes:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">Ingress</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">Egress</span>
  <span class="hljs-attr">ingress:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">from:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">namespaceSelector:</span>
        <span class="hljs-attr">matchLabels:</span>
          <span class="hljs-attr">name:</span> <span class="hljs-string">rocketmq-app</span>
  <span class="hljs-attr">egress:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">to:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">namespaceSelector:</span>
        <span class="hljs-attr">matchLabels:</span>
          <span class="hljs-attr">name:</span> <span class="hljs-string">rocketmq-app</span>
</code></pre>
<h2 data-id="heading-27">ä¹ã€ç›‘æ§å’Œæ—¥å¿—æ”¶é›†</h2>
<h3 data-id="heading-28">9.1 éƒ¨ç½² Prometheus ç›‘æ§</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># æ·»åŠ  Prometheus ä»“åº“</span>
helm repo <span class="hljs-keyword">add</span> prometheus-community https:<span class="hljs-comment">//prometheus-community.github.io/helm-charts</span>
helm repo update

<span class="hljs-meta"># å®‰è£… Prometheus Stack</span>
helm install prometheus prometheus-community/kube-prometheus-stack -n monitoring --create-<span class="hljs-keyword">namespace</span>
</code></pre>
<h3 data-id="heading-29">9.2 åº”ç”¨ç›‘æ§é…ç½®</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># 20-service-monitor.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">monitoring.coreos.com/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">ServiceMonitor</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">springboot-app-monitor</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">rocketmq-app</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">matchLabels:</span>
      <span class="hljs-attr">app:</span> <span class="hljs-string">my-springboot-app</span>
  <span class="hljs-attr">endpoints:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">port:</span> <span class="hljs-number">8080</span>
    <span class="hljs-attr">path:</span> <span class="hljs-string">/actuator/prometheus</span>
    <span class="hljs-attr">interval:</span> <span class="hljs-string">30s</span>
</code></pre>
<h2 data-id="heading-30">åã€è¿ç§»éªŒè¯æ¸…å•</h2>
<h3 data-id="heading-31">10.1 åŠŸèƒ½éªŒè¯æ¸…å•</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. åŸºç¡€æœåŠ¡éªŒè¯</span>
kubectl get pods -n rocketmq-app | grep -v Running &amp;&amp; <span class="hljs-built_in">echo</span> <span class="hljs-string">"æœ‰Podæœªå°±ç»ª"</span>

<span class="hljs-comment"># 2. æœåŠ¡è¿é€šæ€§æµ‹è¯•</span>
kubectl run connectivity-test --image=curlimages/curl -it --<span class="hljs-built_in">rm</span> -- \
  curl -s http://my-springboot-app:8080/actuator/health

<span class="hljs-comment"># 3. RocketMQ åŠŸèƒ½æµ‹è¯•</span>
kubectl <span class="hljs-built_in">exec</span> -it deployment/my-springboot-app -n rocketmq-app -- \
  curl -X POST http://localhost:8080/api/test-message

<span class="hljs-comment"># 4. æ•°æ®æŒä¹…åŒ–éªŒè¯</span>
kubectl <span class="hljs-built_in">exec</span> -it statefulset/rmqbroker -n rocketmq-app -- \
  <span class="hljs-built_in">ls</span> -la /home/rocketmq/store/

<span class="hljs-comment"># 5. æƒé™é—®é¢˜éªŒè¯ï¼ˆé‡ç‚¹ï¼‰</span>
kubectl <span class="hljs-built_in">exec</span> -it deployment/my-springboot-app -n rocketmq-app -- \
  <span class="hljs-built_in">touch</span> /home/spring/logs/permission-test.log &amp;&amp; <span class="hljs-built_in">echo</span> <span class="hljs-string">"æƒé™é…ç½®æ­£ç¡®"</span>
</code></pre>
<h2 data-id="heading-32">æ€»ç»“</h2>
<p>é€šè¿‡æœ¬æ–‡çš„è¯¦ç»†æ­¥éª¤ï¼Œæˆ‘ä»¬æˆåŠŸå°† RocketMQ å¾®æœåŠ¡é¡¹ç›®ä» Docker Swarm è¿ç§»åˆ°äº†åŠŸèƒ½æ›´å¼ºå¤§çš„ Kubernetes é›†ç¾¤ï¼Œå¹¶é‡ç‚¹è§£å†³äº†ä¹‹å‰é‡åˆ°çš„æƒé™é—®é¢˜ã€‚å…³é”®æ”¹è¿›åŒ…æ‹¬ï¼š</p>
<h3 data-id="heading-33">ğŸ¯ æ ¸å¿ƒæˆæœ</h3>
<ol>
<li><strong>âœ… å½»åº•è§£å†³æƒé™é—®é¢˜</strong>ï¼šé€šè¿‡ SecurityContext å’Œ initContainers ç¡®ä¿æ­£ç¡®çš„æ–‡ä»¶æƒé™</li>
<li><strong>âœ… ç”Ÿäº§çº§é«˜å¯ç”¨</strong>ï¼šæ‰€æœ‰å…³é”®ç»„ä»¶å®ç°å¤šå‰¯æœ¬éƒ¨ç½²</li>
<li><strong>âœ… ç²¾ç»†åŒ–èµ„æºç®¡ç†</strong>ï¼šCPU/å†…å­˜é™åˆ¶ã€HPA è‡ªåŠ¨æ‰©ç¼©å®¹</li>
<li><strong>âœ… å®Œå–„çš„æœåŠ¡æ²»ç†</strong>ï¼šæœåŠ¡å‘ç°ã€å¥åº·æ£€æŸ¥ã€ç½‘ç»œç­–ç•¥</li>
<li><strong>âœ… ä¼ä¸šçº§ç›‘æ§</strong>ï¼šé›†æˆ Prometheus ç›‘æ§ä½“ç³»</li>
</ol>
<h3 data-id="heading-34">ğŸ”„ è¿ç§»ä»·å€¼</h3>
<ul>
<li><strong>å¯æ‰©å±•æ€§</strong>ï¼šä»ç®€å•çš„ Swarm æ‰©å±•åˆ°å¼ºå¤§çš„ K8s ç”Ÿæ€</li>
<li><strong>ç¨³å®šæ€§</strong>ï¼šå®Œå–„çš„è‡ªæ„ˆèƒ½åŠ›å’Œæ•…éšœè½¬ç§»æœºåˆ¶</li>
<li><strong>å¯è§‚æµ‹æ€§</strong>ï¼šå®Œæ•´çš„ç›‘æ§ã€æ—¥å¿—ã€è¿½è¸ªä½“ç³»</li>
<li><strong>å®‰å…¨æ€§</strong>ï¼šç½‘ç»œç­–ç•¥ã€RBACã€å®‰å…¨ä¸Šä¸‹æ–‡ç­‰ä¼ä¸šçº§å®‰å…¨ç‰¹æ€§</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•å°†ä¸€ä¸ª React SPA é¡¹ç›®è¿ç§»åˆ° Next.js æœåŠ¡ç«¯æ¸²æŸ“]]></title>    <link>https://juejin.cn/post/7575829296453009418</link>    <guid>https://juejin.cn/post/7575829296453009418</guid>    <pubDate>2025-11-24T09:24:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575829296453009418" data-draft-id="7575887863798153226" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•å°†ä¸€ä¸ª React SPA é¡¹ç›®è¿ç§»åˆ° Next.js æœåŠ¡ç«¯æ¸²æŸ“"/> <meta itemprop="keywords" content="å‰ç«¯,Next.js"/> <meta itemprop="datePublished" content="2025-11-24T09:24:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å±±ä¾å°½"/> <meta itemprop="url" content="https://juejin.cn/user/1934742364890254"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•å°†ä¸€ä¸ª React SPA é¡¹ç›®è¿ç§»åˆ° Next.js æœåŠ¡ç«¯æ¸²æŸ“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1934742364890254/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å±±ä¾å°½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T09:24:14.000Z" title="Mon Nov 24 2025 09:24:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>æ—¥æœŸï¼š2025å¹´11æœˆ24æ—¥</strong></p>
<h2 data-id="heading-0">ä»·å€¼</h2>
<blockquote>
<ol>
<li>â€œæ¸è¿›å¼è¿ç§»â€ç­–ç•¥ï¼šå­¦ä¼šæœ€å¤§ç¨‹åº¦ä¿æŠ¤ç°æœ‰æŠ•èµ„ï¼Œå®ç°æŠ€æœ¯æ ˆçš„å¹³ç¨³å‡çº§å¸®åŠ©å­¦å‘˜ä½¿ç”¨ Next.js å®ç°æœåŠ¡ç«¯æ¸²æŸ“ ã€‚</li>
<li>å¾æœæœåŠ¡ç«¯æ¸²æŸ“ï¼Œè§£å†³æ ¸å¿ƒä¸šåŠ¡ç—›ç‚¹ï¼š æ‚¨å°†ç³»ç»ŸæŒæ¡ Next.js çš„æ ¸å¿ƒèƒ½åŠ›ï¼ˆSSR/SSG/ISRï¼‰ï¼Œä»æ ¹æœ¬ä¸Šè§£å†³ä¼ ç»Ÿ React SPA é¢ä¸´çš„é¡µé¢åŠ è½½ç¼“æ…¢ã€SEO ä¸å‹å¥½ä¸¤å¤§éš¾é¢˜ï¼Œä»è€Œæå‡ç”¨æˆ·ä½“éªŒå’Œå•†ä¸šè½¬åŒ–ç‡ã€‚</li>
</ol>
</blockquote>
<h2 data-id="heading-1">å‰è¨€</h2>
<blockquote>
<ol>
<li>æœ¬æ–‡å°†èšç„¦æ¸²æŸ“åŸç†ï¼Œä¸æ·±å…¥è®²è§£ Next.js çš„å…·ä½“ä½¿ç”¨ç»†èŠ‚ï¼Œè€Œæ˜¯é€šè¿‡ä¸€ä¸ªçœŸå®æ¡ˆä¾‹ï¼Œä»¥æˆ˜ä»£ç»ƒçš„æ–¹å¼å¸¦ä½ å°† React SPA åº”ç”¨è¿ç§»è‡³ Next.js æ¡†æ¶ã€‚</li>
<li>ç»“åˆå¤§é‡å®æˆ˜é¡¹ç›®ä¸­çš„è¸©å‘ç»éªŒï¼Œé™ä½ä¸Šæ‰‹é—¨æ§›ï¼Œå¹¶å€ŸåŠ©ç¬¬ä¸‰æ–¹ç”Ÿæ€ï¼ŒåŠ©ä½ æ„å»ºå®Œæ•´çš„ Next.js åŸºç¡€èƒ½åŠ›ä½“ç³»ã€‚</li>
<li>æä¾›ä¸€å¥—ç¬¦åˆè½åœ°è¦æ±‚çš„ Next.js æ„å»ºä¸éƒ¨ç½²å®ç”¨æ•™ç¨‹ã€‚</li>
</ol>
</blockquote>
<h2 data-id="heading-2">ç›®æ ‡</h2>
<blockquote>
<ol>
<li>å¯¹æœåŠ¡ç«¯æ¸²æŸ“ç¥›é­…ï¼Œæ·±å…¥ç†è§£ä¸æŒæ¡ SSRã€SSGã€CSR ç­‰æ¸²æŸ“æ¨¡å¼çš„åŸç†ã€ä¼˜ç¼ºç‚¹åŠé€‚ç”¨åœºæ™¯ã€‚</li>
<li>å…·å¤‡å¹³æ»‘è¿ç§»ä¸æ¶æ„è®¾è®¡æ‰‹æ®µï¼Œå…·å¤‡æŠ€æœ¯è½åœ°èƒ½åŠ›ã€‚</li>
<li>èƒ½å¤Ÿå°† Next.js åº”ç”¨é¡ºåˆ©éƒ¨ç½²åˆ°äº‘ä¸Šç¯å¢ƒã€‚</li>
</ol>
</blockquote>
<h2 data-id="heading-3">ç›®å½•/ç»“æ„</h2>
<blockquote>
<ol>
<li>ç¬¬ä¸€ä¸ªæ¨¡å—ä¸»è¦åŒ…æ‹¬å¦‚ä½•æœ€ç®€å•çš„ä¸Šæ‰‹ Next.jsï¼ŒåŒ…æ‹¬ç¯å¢ƒå‡†å¤‡ã€åŸºæœ¬çš„æ¸²æŸ“åŸç†ã€ä¸ SPA åº”ç”¨çš„å¼€å‘å·®å¼‚</li>
<li>ç¬¬äºŒä¸ªæ¨¡å—ç”¨ä¸€ä¸ªå®é™…å¤§å‹ç½‘ç«™è¿ç§»è·¯çº¿ï¼Œè¯´æ˜æˆ‘ä»¬ä»ä¸€ä¸ªå¤§å‹ç½‘ç«™å¦‚ä½•ä¸€æ­¥ä¸€æ­¥é‡æ„æˆNextåº”ç”¨ï¼Œä»è€Œå®ç°ç½‘é¡µæ€§èƒ½ä¼˜åŒ–çš„è¿‡ç¨‹ã€‚</li>
<li>ç¬¬ä¸‰ä¸ªæ¨¡å—åŒ…å«äº†å¦‚ä½•è¿›è¡Œè½åœ°çš„éƒ¨ç½²æ–¹æ¡ˆ</li>
</ol>
</blockquote>
<h2 data-id="heading-4">ç¬¬ä¸€ç« ï¼šNext.js æœ€ç®€å•çš„ä¸Šæ‰‹æ•™ç¨‹</h2>
<p>å¦‚ä½•æœ€ä½æˆæœ¬çš„ä¸Šæ‰‹ Next.js å‘¢ï¼Ÿ</p>
<blockquote>
<p>å†…å¿ƒOS:</p>
<ul>
<li>ä¹‹å‰ä¹Ÿæ²¡æœ‰å­¦è¿‡ç›¸å…³çš„çŸ¥è¯†ã€‚æ˜¯ä¸æ˜¯å¾ˆéš¾å•Šï¼Ÿå¦‚æœå¾ˆéš¾çš„è¯é‚£ç®—äº†ï¼Œæˆ‘è¿˜æ˜¯å›å»ç”»æˆ‘çš„é¡µé¢å§/_ \</li>
</ul>
</blockquote>
<h3 data-id="heading-5">ç¬¬ä¸€èŠ‚ï¼šå‰ç½®å‡†å¤‡</h3>
<h4 data-id="heading-6">1ã€å¼€å‘ç¯å¢ƒ</h4>
<blockquote>
<p>åŸºäºNext 15 æœ€æ–°apiï¼Œæ‰€ä»¥å¯¹è¿è¡Œç¯å¢ƒæœ‰ä¸€å®šè¦æ±‚</p>
</blockquote>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2F" target="_blank" title="https://nodejs.org/" ref="nofollow noopener noreferrer">Node.js 18.18</a> æˆ–æ›´é«˜LTSç‰ˆæœ¬</li>
<li>macOSã€Windowsï¼ˆå« WSLï¼‰æˆ– Linux ç³»ç»Ÿ</li>
</ul>
<h4 data-id="heading-7">2ã€é¡¹ç›®åˆå§‹åŒ–</h4>
<blockquote>
<p>ä¸ºäº†å¤§å®¶æ›´å¥½çš„ä¸Šæ‰‹ï¼Œæˆ‘å‡†å¤‡äº†ä¸¤å¥—å¯ç”¨äºç”Ÿäº§ç¯å¢ƒçš„æ¨¡ç‰ˆä¾›å¤§å®¶ä½¿ç”¨</p>
</blockquote>
<ul>
<li>
<p>é€šç”¨ç‰ˆæœ¬ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcodelab.msxf.com%2Fpublic-repo%2Fproject%2F-%2Ftree%2Fnext-qiankun" target="_blank" title="https://codelab.msxf.com/public-repo/project/-/tree/next-qiankun" ref="nofollow noopener noreferrer">codelab.msxf.com/public-repoâ€¦</a></p>
</li>
<li>
<p>ç²¾ç®€ç‰ˆæœ¬ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcodelab.msxf.com%2Fpublic-repo%2Fproject%2F-%2Ftree%2Fnext-base" target="_blank" title="https://codelab.msxf.com/public-repo/project/-/tree/next-base" ref="nofollow noopener noreferrer">codelab.msxf.com/public-repoâ€¦</a></p>
<ul>
<li>
















































































<table><thead><tr><th>èƒ½åŠ›</th><th>é€šç”¨ç‰ˆæœ¬</th><th>ç²¾ç®€ç‰ˆæœ¬</th></tr></thead><tbody><tr><td>React ç‰ˆæœ¬</td><td>19.2.0</td><td>18.3.0</td></tr><tr><td>ç»„ä»¶åº“ Ant Design v5</td><td>-</td><td>-</td></tr><tr><td>åº”ç”¨çŠ¶æ€ç®¡ç† Zustand</td><td>-</td><td>-</td></tr><tr><td>æœåŠ¡ç«¯è¯·æ±‚ demo</td><td>-</td><td>-</td></tr><tr><td>å®¢æˆ·ç«¯è¯·æ±‚ demo</td><td>-</td><td>-</td></tr><tr><td>CSSé¢„å¤„ç†å™¨ï¼šSass</td><td>-</td><td>-</td></tr><tr><td>ä»£ç æ£€æŸ¥ Typescriptï¼ŒEslint ç­‰</td><td>-</td><td>-</td></tr><tr><td>å•å…ƒæµ‹è¯• Jest</td><td>-</td><td>-</td></tr><tr><td>å¤šç¯å¢ƒéƒ¨ç½²æ–¹æ¡ˆ</td><td>-</td><td>-</td></tr><tr><td>è‡ªå®šä¹‰æœåŠ¡å™¨ Koa</td><td>-</td><td>-</td></tr><tr><td>css æ ·å¼çƒ˜ç„™</td><td>-</td><td>-</td></tr><tr><td>å‰ç«¯ç›‘æ§ @sentry/react</td><td>-</td><td>-</td></tr><tr><td>å‰ç«¯åŸ‹ç‚¹ UBS</td><td>-</td><td>-</td></tr><tr><td>å¾®å‰ç«¯æ–¹æ¡ˆ</td><td>qiankun 2.10.16ï¼Œåº”ç”¨åŠ¨æ€æ›´æ–°ï¼Œå¾®å‰ç«¯é€šä¿¡</td><td>æ¨¡å—è”é‚¦ 2.0</td></tr></tbody></table>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-8">ç¬¬äºŒèŠ‚ï¼šè®¤è¯†æ–‡ä»¶ç³»ç»Ÿçº¦å®š</h3>
<h4 data-id="heading-9">1ã€è®¤è¯†ç»„ä»¶å±‚çº§ç»“æ„</h4>
<ul>
<li><code>layout.js</code>å¸ƒå±€æ–‡ä»¶ï¼Œé»˜è®¤<code>Server Components</code></li>
<li><code>template.js</code> åŒ layout.jsï¼Œä½†æ˜¯åœ¨å¯¼èˆªæ—¶é‡æ–°åŒæ­¥æ‰§è¡Œ <code>useEffect</code></li>
<li><code>error.js</code> (React é”™è¯¯è¾¹ç•Œ)</li>
<li><code>loading.js</code> (React Suspense è¾¹ç•Œ)</li>
<li><code>not-found.js</code> (<code>notFound</code> å‡½æ•°æ‰§è¡Œæ—¶æ¸²æŸ“ UI)</li>
<li><code>page.js</code> æˆ–åµŒå¥—çš„ <code>layout.js</code>ï¼ˆå¿…è¦çš„ï¼‰</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17d8f367e837401bb122d3c51569d789~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bGx5L6d5bC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764581053&amp;x-signature=vYopMhaV3T7afiSkX%2B00h23PEIM%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-10">2ã€äº†è§£è·¯ç”±åµŒå¥—å…³ç³»</h4>
<blockquote>
<p>åµŒå¥—æ–‡ä»¶å¤¹å®šä¹‰äº†è·¯ç”±ç»“æ„ã€‚æ¯ä¸ªæ–‡ä»¶å¤¹ä»£è¡¨ä¸€ä¸ªè·¯ç”±æ®µï¼Œå¯¹åº” URL è·¯å¾„ä¸­çš„ä¸€ä¸ªæ®µã€‚åªæœ‰å½“è·¯ç”±æ®µä¸­æ·»åŠ äº† <code>page.js</code> æˆ– <code>route.js</code> æ–‡ä»¶æ—¶ï¼Œè¯¥è·¯ç”±æ‰ä¼šå¯¹å¤–å¯è®¿é—®</p>
</blockquote>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.nextjs.im%2Fdocs%2Fapp%2Fgetting-started%2Fproject-structure%23%25E5%25B5%258C%25E5%25A5%2597%25E8%25B7%25AF%25E7%2594%25B1" target="_blank" title="https://zh-hans.nextjs.im/docs/app/getting-started/project-structure#%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1" ref="nofollow noopener noreferrer">åµŒå¥—è·¯ç”±</a></p>
<ul>
<li>
<blockquote>
<p>æœ€åŸºç¡€çš„æ–‡ä»¶è·¯ç”±å…³ç³»</p>
</blockquote>
</li>
<li>























<table><thead><tr><th>è§„åˆ™</th><th>è¯´æ˜</th><th>å®ä¾‹</th><th>ç”¨æˆ·URL</th></tr></thead><tbody><tr><td>folder</td><td>è·¯ç”±æ®µ</td><td><code>app/folder/page.js</code></td><td><code>/folder</code></td></tr><tr><td>folder/folder</td><td>åµŒå¥—è·¯ç”±æ®µ</td><td><code>app/folder/folder/page.js</code></td><td><code>/folder/folder</code></td></tr></tbody></table>
</li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.nextjs.im%2Fdocs%2Fapp%2Fgetting-started%2Fproject-structure%23%25E5%258A%25A8%25E6%2580%2581%25E8%25B7%25AF%25E7%2594%25B1" target="_blank" title="https://zh-hans.nextjs.im/docs/app/getting-started/project-structure#%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1" ref="nofollow noopener noreferrer">åŠ¨æ€è·¯ç”±</a></p>
<ul>
<li>
<blockquote>
<p>æ— æ³•æå‰ç¡®å®šç¡®åˆ‡çš„è·¯ç”±æ®µåç§°ï¼Œå¹¶å¸Œæœ›æ ¹æ®åŠ¨æ€æ•°æ®åˆ›å»ºè·¯ç”±æ—¶</p>
</blockquote>
</li>
<li>





























<table><thead><tr><th>è§„åˆ™</th><th>è¯´æ˜</th><th>å®ä¾‹</th><th>ç”¨æˆ·URL</th></tr></thead><tbody><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.nextjs.im%2Fdocs%2Fapp%2Fapi-reference%2Ffile-conventions%2Fdynamic-routes%23convention" target="_blank" title="https://zh-hans.nextjs.im/docs/app/api-reference/file-conventions/dynamic-routes#convention" ref="nofollow noopener noreferrer">[folder]</a></td><td>åŠ¨æ€è·¯ç”±æ®µ</td><td><code>app/[slug]/page.js</code></td><td><code>/``shop``/``shop1</code></td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.nextjs.im%2Fdocs%2Fapp%2Fapi-reference%2Ffile-conventions%2Fdynamic-routes%23catch-all-segments" target="_blank" title="https://zh-hans.nextjs.im/docs/app/api-reference/file-conventions/dynamic-routes#catch-all-segments" ref="nofollow noopener noreferrer">[...folder]</a></td><td>å…¨æ•è·è·¯ç”±æ®µ</td><td><code>app/shop/[...slug]/page.js</code></td><td><code>/shop/a``/shop/a/b``/shop/a/b/c</code></td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.nextjs.im%2Fdocs%2Fapp%2Fapi-reference%2Ffile-conventions%2Fdynamic-routes%23optional-catch-all-segments" target="_blank" title="https://zh-hans.nextjs.im/docs/app/api-reference/file-conventions/dynamic-routes#optional-catch-all-segments" ref="nofollow noopener noreferrer">[[...folder]]</a></td><td>å¯é€‰å…¨æ•è·è·¯ç”±æ®µ</td><td>é€šé…æ®µå’Œå¯é€‰é€šé…æ®µçš„åŒºåˆ«åœ¨äºï¼Œå¯é€‰æƒ…å†µä¸‹ï¼Œä¸å¸¦å‚æ•°çš„è·¯ç”±ä¹Ÿä¼šè¢«åŒ¹é…ï¼ˆå¦‚ä¸Šä¾‹ä¸­çš„ <code>/shop</code>ï¼‰</td><td>ä»¥ä¸Š</td></tr></tbody></table>
</li>
<li>Â Â ä¾‹å¦‚ï¼Œåšå®¢å¯ä»¥åŒ…å«ä»¥ä¸‹è·¯ç”± <code>app/blog/[slug]/page.js</code>ï¼Œå…¶ä¸­ <code>[slug]</code> æ˜¯åšå®¢æ–‡ç« çš„åŠ¨æ€æ®µ</li>
<li>
<pre><code class="hljs language-javascript" lang="javascript">  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Page</span>(<span class="hljs-params">{
    params,
  }: {
    params: <span class="hljs-built_in">Promise</span>&lt;{ slug: string }&gt;
  }</span>) {
    <span class="hljs-keyword">const</span> { slug } = <span class="hljs-keyword">await</span> params
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æˆ‘çš„æ–‡ç« : {slug}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  }
</code></pre>
</li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.nextjs.im%2Fdocs%2Fapp%2Fgetting-started%2Fproject-structure%23%25E8%25B7%25AF%25E7%2594%25B1%25E7%25BB%2584%25E4%25B8%258E%25E7%25A7%2581%25E6%259C%2589%25E6%2596%2587%25E4%25BB%25B6%25E5%25A4%25B9" target="_blank" title="https://zh-hans.nextjs.im/docs/app/getting-started/project-structure#%E8%B7%AF%E7%94%B1%E7%BB%84%E4%B8%8E%E7%A7%81%E6%9C%89%E6%96%87%E4%BB%B6%E5%A4%B9" ref="nofollow noopener noreferrer">è·¯ç”±ç»„ä¸ç§æœ‰æ–‡ä»¶å¤¹</a></p>
<ul>
<li>
<blockquote>
<p>è¡¨ç¤ºè¯¥æ–‡ä»¶å¤¹ä»…ç”¨äº<strong>ç»„ç»‡</strong>ç›®çš„ï¼Œé€šå¸¸ç”¨æ¥å¼•å…¥å…¬å…±å¸ƒå±€</p>
</blockquote>
</li>
<li>























<table><thead><tr><th>è§„åˆ™</th><th>è¯´æ˜</th><th>å®ä¾‹</th><th>ç”¨æˆ·URL</th></tr></thead><tbody><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.nextjs.im%2Fdocs%2Fapp%2Fapi-reference%2Ffile-conventions%2Froute-groups%23convention" target="_blank" title="https://zh-hans.nextjs.im/docs/app/api-reference/file-conventions/route-groups#convention" ref="nofollow noopener noreferrer">(folder)</a></td><td>ä¸å½±å“å®é™…è·¯ç”±çš„åˆ†ç»„</td><td><code>app/(shop)/a/page.js</code></td><td><code>/a</code></td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.nextjs.im%2Fdocs%2Fapp%2Fgetting-started%2Fproject-structure%23private-folders" target="_blank" title="https://zh-hans.nextjs.im/docs/app/getting-started/project-structure#private-folders" ref="nofollow noopener noreferrer">_folder</a></td><td>å°†æ–‡ä»¶å¤¹åŠå…¶å­è·¯ç”±æ®µæ’é™¤åœ¨è·¯ç”±ç³»ç»Ÿå¤–</td><td>-</td><td>-</td></tr></tbody></table>
</li>
</ul>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42646c96d1814b7188a181ce49028b90~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bGx5L6d5bC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764581053&amp;x-signature=lm2Sp68JLYxmypzH6XJ1Jo6UGwM%3D" alt="" loading="lazy"/></p>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.nextjs.im%2Fdocs%2Fapp%2Fapi-reference%2Ffile-conventions%2Fintercepting-routes" target="_blank" title="https://zh-hans.nextjs.im/docs/app/api-reference/file-conventions/intercepting-routes" ref="nofollow noopener noreferrer">æ‹¦æˆªè·¯ç”±</a></p>
<ul>
<li>åœ¨åé€€å¯¼èˆªæ—¶å…³é—­æ¨¡æ€æ¡†è€Œéè¿”å›ä¸Šä¸€è·¯ç”±</li>
<li>åœ¨å‰è¿›å¯¼èˆªæ—¶é‡æ–°æ‰“å¼€æ¨¡æ€æ¡†</li>
<li>






























<table><thead><tr><th>è§„åˆ™</th><th>è¯´æ˜</th><th>å®ä¾‹</th></tr></thead><tbody><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.nextjs.im%2Fdocs%2Fapp%2Fapi-reference%2Ffile-conventions%2Fintercepting-routes%23convention" target="_blank" title="https://zh-hans.nextjs.im/docs/app/api-reference/file-conventions/intercepting-routes#convention" ref="nofollow noopener noreferrer">(.)folder</a></td><td>æ‹¦æˆªåŒçº§è·¯ç”±</td><td>-</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.nextjs.im%2Fdocs%2Fapp%2Fapi-reference%2Ffile-conventions%2Fintercepting-routes%23convention" target="_blank" title="https://zh-hans.nextjs.im/docs/app/api-reference/file-conventions/intercepting-routes#convention" ref="nofollow noopener noreferrer">(..)folder</a></td><td>æ‹¦æˆªä¸Šä¸€çº§è·¯ç”±</td><td>-</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.nextjs.im%2Fdocs%2Fapp%2Fapi-reference%2Ffile-conventions%2Fintercepting-routes%23convention" target="_blank" title="https://zh-hans.nextjs.im/docs/app/api-reference/file-conventions/intercepting-routes#convention" ref="nofollow noopener noreferrer">(..)(..)folder</a></td><td>æ‹¦æˆªä¸Šä¸¤çº§è·¯ç”±</td><td>-</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.nextjs.im%2Fdocs%2Fapp%2Fapi-reference%2Ffile-conventions%2Fintercepting-routes%23convention" target="_blank" title="https://zh-hans.nextjs.im/docs/app/api-reference/file-conventions/intercepting-routes#convention" ref="nofollow noopener noreferrer">(...)folder</a></td><td>ä»æ ¹è·¯ç”±æ‹¦æˆª</td><td>-</td></tr></tbody></table>
</li>
<li>Â Â ä¾‹å¦‚ï¼Œå½“ç‚¹å‡»ä¿¡æ¯æµä¸­çš„ç…§ç‰‡æ—¶ï¼Œä½ å¯ä»¥åœ¨æ¨¡æ€æ¡†ä¸­æ˜¾ç¤ºè¯¥ç…§ç‰‡å¹¶è¦†ç›–åœ¨ä¿¡æ¯æµä¸Šæ–¹ã€‚è¿™ç§æƒ…å†µä¸‹ï¼ŒNext.js ä¼šæ‹¦æˆª <code>/photo/123</code> è·¯ç”±ï¼Œéšè— URL å¹¶å°†å…¶è¦†ç›–åœ¨ <code>/feed</code> ä¹‹ä¸Šã€‚</li>
<li><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb3c3d5b6f87444681e1e9f41e52ee11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bGx5L6d5bC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764581053&amp;x-signature=wlPknVH8Z9oywlDg06YodBMITb4%3D" alt="" loading="lazy"/></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.nextjs.im%2Fdocs%2Fapp%2Fgetting-started%2Fproject-structure%23%25E5%25B9%25B6%25E8%25A1%258C%25E8%25B7%25AF%25E7%2594%25B1%25E4%25B8%258E%25E6%258B%25A6%25E6%2588%25AA%25E8%25B7%25AF%25E7%2594%25B1" target="_blank" title="https://zh-hans.nextjs.im/docs/app/getting-started/project-structure#%E5%B9%B6%E8%A1%8C%E8%B7%AF%E7%94%B1%E4%B8%8E%E6%8B%A6%E6%88%AA%E8%B7%AF%E7%94%B1" ref="nofollow noopener noreferrer">å¹¶è¡Œè·¯ç”±</a></p>
<ul>
<li>















<table><thead><tr><th>è§„åˆ™</th><th>è¯´æ˜</th><th>å®ä¾‹</th></tr></thead><tbody><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.nextjs.im%2Fdocs%2Fapp%2Fapi-reference%2Ffile-conventions%2Fparallel-routes%23slots" target="_blank" title="https://zh-hans.nextjs.im/docs/app/api-reference/file-conventions/parallel-routes#slots" ref="nofollow noopener noreferrer">@folder</a></td><td>å‘½åæ’æ§½ï¼Œä¸€ä¸ªè·¯ç”±å‘½ä¸­å¤šä¸ªé¡µé¢</td><td>è§ä¸‹æ–¹è¯´æ˜</td></tr></tbody></table>
</li>
</ul>
</li>
</ul>
<p>åœ¨ä¸€ä¸ªä»ªè¡¨ç›˜åº”ç”¨ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å¹¶è¡Œè·¯ç”±åŒæ—¶æˆ–æ¡ä»¶æ€§æ¸²æŸ“ <code>team</code> å’Œ <code>analytics</code> ä¸¤ä¸ªé¡µé¢</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9bbdcd4bfb44a7491eabb8773a16383~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bGx5L6d5bC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764581053&amp;x-signature=ENbxIdE4lTVnKzIjy8NAPlIX1rQ%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-11">ç¬¬ä¸‰èŠ‚ï¼šé¡µé¢å¼€å‘</h3>
<h4 data-id="heading-12">1ã€é¡µé¢æ¦‚å¿µ-<strong>RSC</strong>æ¸²æŸ“æœºåˆ¶</h4>
<blockquote>
<p>Next.js 15 çš„ App Router é€šè¿‡æœåŠ¡ç«¯ç»„ä»¶<strong>RSC</strong>æ¸²æŸ“æœºåˆ¶ï¼ˆæœåŠ¡ç«¯ç»„ä»¶/å®¢æˆ·ç«¯ç»„ä»¶ï¼‰æ¨¡ç³Šäº†ä¼ ç»Ÿ SSR å’Œ CSR çš„ä¸¥æ ¼ç•Œé™ï¼Œé€šè¿‡æ··åˆæ¸²æŸ“æ¨¡å¼å¼€å‘è€…åªéœ€å…³æ³¨â€œ<strong>æœåŠ¡ç«¯é€»è¾‘</strong>â€ä¸â€œ<strong>å®¢æˆ·ç«¯é€»è¾‘</strong>â€çš„åˆ’åˆ†ï¼Œè€Œéæ˜¾å¼é€‰æ‹©æ¸²æŸ“æ¨¡å¼</p>
</blockquote>
<p>ç¬¬ä¸€ä¸ªéœ€è¦æ”¹å˜çš„æ€ç»´æ¨¡å¼æ˜¯ä»â€œé¡µé¢çº§â€çš„æ¸²æŸ“è½¬å˜ä¸ºâ€œç»„ä»¶çº§â€çš„æ¸²æŸ“</p>
<p>å‡å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªç»„ä»¶å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ServerComponent.js (ä¸€ä¸ª RSC)</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ClientComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./ClientComponent'</span>;

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ServerComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// åœ¨æœåŠ¡å™¨ä¸Šç›´æ¥è¿›è¡Œæ•°æ®è·å–</span>
  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/user'</span>);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {/* æœåŠ¡å™¨æ¸²æŸ“è¿™éƒ¨åˆ† */}
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æˆ‘çš„åšå®¢<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      {/* è¿™é‡Œâ€œåµŒå…¥â€äº†ä¸€ä¸ªå®¢æˆ·ç«¯ç»„ä»¶ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">ClientComponent</span> <span class="hljs-attr">initialPosts</span>=<span class="hljs-string">{data}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>
<ol>
<li>
<p>æœåŠ¡å™¨æ‰§è¡Œ <code>ServerComponent</code>ã€‚</p>
</li>
<li>
<p>æœåŠ¡å™¨ä»æ¥å£/æ•°æ®åº“è·å– <code>data</code>ã€‚</p>
</li>
<li>
<p>æœåŠ¡å™¨æ¸²æŸ“ <code>&lt;h1&gt;æˆ‘çš„åšå®¢&lt;/h1&gt;</code>ã€‚</p>
</li>
<li>
<p>å½“æœåŠ¡å™¨é‡åˆ° <code>&lt;ClientComponent&gt;</code>æ—¶ï¼Œå®ƒä¼šä¸ºè¿™ä¸ªå®¢æˆ·ç«¯ç»„ä»¶â€œç•™å‡ºä¸€ä¸ªä½ç½®â€ï¼Œå¹¶å°† <code>initialPosts</code>ä½œä¸º prop åºåˆ—åŒ–ã€‚</p>
</li>
<li>
<p>æœ€ç»ˆï¼ŒæœåŠ¡å™¨å‘å‡ºçš„<strong>æµå¼ä¼ è¾“</strong>å“åº”åŒ…å«ï¼š</p>
<ol>
<li><code>ServerComponent</code>æ¸²æŸ“å‡ºçš„ HTML ç»“æ„ã€‚</li>
<li>å®¢æˆ·ç«¯ç»„ä»¶ä½ç½®çš„æ ‡è®°ã€‚</li>
<li>å®¢æˆ·ç«¯ç»„ä»¶æ‰€éœ€çš„åˆå§‹æ•°æ®ï¼ˆåºåˆ—åŒ–çš„ propsï¼‰ã€‚</li>
<li>æŒ‡å‘å®¢æˆ·ç«¯ç»„ä»¶æ‰€éœ€ JavaScript çš„é“¾æ¥ã€‚</li>
</ol>
</li>
<li>
<p>æµè§ˆå™¨æ”¶åˆ°å“åº”åï¼Œä¼šç«‹å³æ˜¾ç¤ºç”±æœåŠ¡ç«¯æ¸²æŸ“å¥½çš„ HTML å†…å®¹ï¼ˆæå¿«çš„é¦–å±æ˜¾ç¤ºï¼‰ã€‚</p>
</li>
<li>
<p>ç„¶åï¼ŒReact ä¼šè¿›è¡Œ Hydrationã€‚ä½†è¿™é‡Œçš„ Hydration æ˜¯ç»†ç²’åº¦çš„ã€‚å®ƒåªä¼šä¸‹è½½å¹¶æ¿€æ´»å®¢æˆ·ç«¯ç»„ä»¶éƒ¨åˆ†çš„ JavaScriptï¼Œä½¿å®ƒä»¬å˜å¾—å¯äº¤äº’ã€‚æœåŠ¡ç«¯ç»„ä»¶çš„ JavaScript æ°¸è¿œä¸ä¼šå‘é€åˆ°å®¢æˆ·ç«¯ã€‚</p>
</li>
</ol>

























<table><thead><tr><th>æ—¶é—´</th><th>æœåŠ¡å™¨è¡Œä¸º</th><th>ç”¨æˆ·çœ‹åˆ°ä»€ä¹ˆ</th></tr></thead><tbody><tr><td>0s</td><td>å¼€å§‹æ¸²æŸ“</td><td>ç©ºç™½å±</td></tr><tr><td>0.1s</td><td>é‡åˆ°å¼‚æ­¥æ“ä½œï¼Œç«‹å³å‘é€ loading UI</td><td>çœ‹åˆ°é™æ€å†…å®¹éƒ¨åˆ†çœ‹åˆ° <code>ServerComponent</code>"åŠ è½½ä¸­ï¼Œè¯·ç¨å€™..."+ å®¢æˆ·ç«¯ä¸‹è½½èµ„æºã€è§£æèµ„æºã€æ¸²æŸ“å†…å®¹</td></tr><tr><td>2s</td><td>æ•°æ®è·å–å®Œæˆï¼Œå‘é€å®é™…å†…å®¹</td><td>çœ‹åˆ°å®Œæ•´çš„é¡µé¢å†…å®¹</td></tr></tbody></table>
<p>æ€è€ƒï¼šå½“æ¥å£éœ€è¦2sï¼Œé‚£æ˜¯ä¸æ˜¯æ‰€æœ‰ç”¨æˆ·éƒ½éœ€è¦ç­‰å¾… 2s loading ä¹‹åæ‰èƒ½çœ‹åˆ°é¡µé¢å‘¢ï¼Ÿ</p>
<h4 data-id="heading-13">2ã€æœåŠ¡ç«¯æ¸²æŸ“ç»„ä»¶</h4>
<blockquote>
<p>é€‚ç”¨åœºæ™¯ï¼šæœåŠ¡ç«¯<strong>è·å–æ•°æ®</strong>å¹¶<strong>æ¸²æŸ“éƒ¨åˆ† UI</strong>ï¼Œå¹¶å°†å…¶æµå¼ä¼ è¾“åˆ°å®¢æˆ·ç«¯ã€‚è¿™äº›åœºæ™¯æ›´é€‚åˆæœåŠ¡ç«¯æ¸²æŸ“</p>
<ul>
<li>æå‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fweb.dev%2Ffcp%2F" target="_blank" title="https://web.dev/fcp/" ref="nofollow noopener noreferrer">é¦–æ¬¡å†…å®¹ç»˜åˆ¶ (FCP)</a>ï¼Œå¹¶é€æ­¥å°†å†…å®¹æµå¼ä¼ è¾“åˆ°å®¢æˆ·ç«¯</li>
<li>ä»æ•°æ®åº“æˆ–é è¿‘æ•°æ®æºçš„ API è·å–æ•°æ®</li>
<li>ä½¿ç”¨ API å¯†é’¥ã€ä»¤ç‰Œç­‰æ•æ„Ÿä¿¡æ¯è€Œä¸æš´éœ²ç»™å®¢æˆ·ç«¯</li>
<li>å‡å°‘å‘é€åˆ°æµè§ˆå™¨çš„ JavaScript ä½“ç§¯</li>
</ul>
</blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç»„ä»¶éƒ½æ˜¯æœåŠ¡ç«¯ç»„ä»¶</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¼•å…¥å®¢æˆ·ç«¯ç»„ä»¶</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">LikeButton</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/app/ui/like-button'</span>
<span class="hljs-keyword">import</span> { getPost } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/lib/data'</span>
<span class="hljs-keyword">import</span> { db, posts } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/lib/db'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Page</span>(<span class="hljs-params">{ params }: { params: { id: string } }</span>) {
  <span class="hljs-keyword">const</span> post = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getPost</span>(params.<span class="hljs-property">id</span>)
  <span class="hljs-keyword">const</span> allPosts = <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">select</span>().<span class="hljs-title function_">from</span>(posts)

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{post.title}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
        {/* ... */}
        <span class="hljs-tag">&lt;<span class="hljs-name">LikeButton</span> <span class="hljs-attr">likes</span>=<span class="hljs-string">{post.likes}</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>      
          {allPosts.map((post) =&gt; (        
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{post.id}</span>&gt;</span>{post.title}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
          ))}    
        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<h4 data-id="heading-14">3ã€å®¢æˆ·ç«¯æ¸²æŸ“ç»„ä»¶</h4>
<blockquote>
<p>é€‚ç”¨åœºæ™¯ï¼šå½“éœ€è¦<strong>äº¤äº’æ€§</strong>æˆ–ä½¿ç”¨<strong>æµè§ˆå™¨</strong> <strong>API</strong> æ—¶</p>
<ul>
<li>éœ€è¦<a href="https://link.juejin.cn?target=https%3A%2F%2Freact.dev%2Flearn%2Fmanaging-state" target="_blank" title="https://react.dev/learn/managing-state" ref="nofollow noopener noreferrer">çŠ¶æ€ç®¡ç†</a>å’Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Freact.dev%2Flearn%2Fresponding-to-events" target="_blank" title="https://react.dev/learn/responding-to-events" ref="nofollow noopener noreferrer">äº‹ä»¶å¤„ç†</a>ã€‚ä¾‹å¦‚ <code>onClick</code>ã€<code>onChange</code></li>
<li>éœ€è¦<a href="https://link.juejin.cn?target=https%3A%2F%2Freact.dev%2Flearn%2Flifecycle-of-reactive-effects" target="_blank" title="https://react.dev/learn/lifecycle-of-reactive-effects" ref="nofollow noopener noreferrer">ç”Ÿå‘½å‘¨æœŸé€»è¾‘</a>ã€‚ä¾‹å¦‚ <code>useEffect</code></li>
<li>ä½¿ç”¨æµè§ˆå™¨ä¸“å± APIã€‚ä¾‹å¦‚ <code>localStorage</code>ã€<code>window</code>ã€<code>Navigator.geolocation</code> ç­‰</li>
<li>ä½¿ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Freact.dev%2Flearn%2Freusing-logic-with-custom-hooks" target="_blank" title="https://react.dev/learn/reusing-logic-with-custom-hooks" ref="nofollow noopener noreferrer">è‡ªå®šä¹‰é’©å­</a></li>
</ul>
</blockquote>
<p>é€šè¿‡åœ¨æ–‡ä»¶é¡¶éƒ¨ï¼ˆå¯¼å…¥è¯­å¥ä¹‹å‰ï¼‰æ·»åŠ  <code>"use client"</code> æŒ‡ä»¤æ¥åˆ›å»ºå®¢æˆ·ç«¯ç»„ä»¶ã€‚</p>
<p>è¿™æ—¶å€™å°†ä½ çš„SPAé¡µé¢å¤åˆ¶åˆ°å®¢æˆ·ç«¯ç»„ä»¶ä¸­ï¼Œä¹Ÿèƒ½å®Œç¾è¿è¡Œã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-string">'use client'</span>

<span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>)

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{count} likes<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;Click me<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p><strong>æ³¨æ„ï¼š</strong> åœ¨å®¢æˆ·ç«¯ç»„ä»¶ä¸­åµŒå¥—æœåŠ¡ç«¯æ¸²æŸ“çš„ UIï¼Œéœ€è¦æœåŠ¡ç«¯ç»„ä»¶ä½œä¸º prop ä¼ é€’ç»™å®¢æˆ·ç«¯ç»„ä»¶ã€‚ä¸èƒ½åœ¨å®¢æˆ·ç«¯ç»„ä»¶ä¸­ç›´æ¥ import å¼•å…¥æœåŠ¡ç«¯ç»„ä»¶</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-string">'use client'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Modal</span>(<span class="hljs-params">{ children }: { children: React.ReactNode }</span>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}
</code></pre>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Modal</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./ui/modal'</span> <span class="hljs-comment">// å®¢æˆ·ç«¯ç»„ä»¶</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Cart</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./ui/cart'</span>   <span class="hljs-comment">// æœåŠ¡ç«¯ç»„ä»¶</span>

<span class="hljs-comment">// æœåŠ¡ç«¯ç»„ä»¶</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Page</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Modal</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Cart</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Modal</span>&gt;</span></span>
  )
}
</code></pre>
<p>æ€è€ƒï¼šä¸ºä»€ä¹ˆå®¢æˆ·ç«¯ç»„ä»¶ä¸èƒ½ç›´æ¥ import æœåŠ¡ç«¯ç»„ä»¶ï¼Œåè¿‡æ¥æœåŠ¡ç«¯ç»„ä»¶å°±å¯ä»¥å‘¢ï¼Ÿï¼Ÿ</p>
<h2 data-id="heading-15">ç¬¬äºŒç« ï¼šä» CSR åˆ°æ··åˆæ¸²æŸ“è¿ç§»è·¯çº¿</h2>
<h3 data-id="heading-16">ç¬¬ä¸€èŠ‚ï¼šç”Ÿæ€å¯¹æ¯”å…³ç³»å›¾</h3>
<p>äº‘å¾®å‰ç«¯ä¸»é¡¹ç›® Umi 4 åˆ° Next 15</p>
<p>æš‚æ—¶æ— æ³•åœ¨å”¯ç§‘ä¹‹å®¶2.0æ–‡æ¡£å¤–å±•ç¤ºæ­¤å†…å®¹</p>
<h3 data-id="heading-17">ç¬¬äºŒèŠ‚ï¼šç”Ÿæ€è¿ç§»ç»†èŠ‚</h3>
<h4 data-id="heading-18">1ã€webpack è¿ç§»åˆ° Turbopack</h4>
<blockquote>
<p>é‡åˆ°çš„é—®é¢˜</p>
</blockquote>
<ul>
<li>
<p>Q1ï¼šæ²¡æœ‰äº†svgrï¼Œå¦‚ä½•æ”¯æŒ.svg æ–‡ä»¶å¹¶å°†å…¶æ¸²æŸ“ä¸º React ç»„ä»¶å‘¢ï¼Ÿ</p>
<ul>
<li>
<pre><code class="hljs language-css" lang="css">  // ä½¿ç”¨ <span class="hljs-keyword">@svgr</span>/webpack åŠ è½½å™¨ï¼Œè¯¥åŠ è½½å™¨æ”¯æŒå¯¼å…¥ .svg æ–‡ä»¶å¹¶å°†å…¶æ¸²æŸ“ä¸º React ç»„ä»¶

  module.exports = {
    turbopack: {
      rules: {
        '*<span class="hljs-selector-class">.svg</span>': {
          loaders: [<span class="hljs-string">'@svgr/webpack'</span>],
          as: <span class="hljs-string">'*.js'</span>,
        },
      },
    },
  }
</code></pre>
</li>
</ul>
</li>
<li>
<p>Q2ï¼šumi è‡ªå®šä¹‰æ’ä»¶è¿ç§»é—®é¢˜ï¼Œé€šè¿‡æ’ä»¶å¯ç”¨<code>Brotli</code>é™æ€å‹ç¼©</p>
<ul>
<li>Â Â nextæ–¹æ¡ˆä¸æ˜¯å¾ˆå®Œç¾ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ä½¿ç”¨ <code>next start</code> æˆ–è‡ªå®šä¹‰æœåŠ¡å™¨æ—¶ï¼ŒNext.js ä¼šä½¿ç”¨ <code>gzip</code> å‹ç¼©æ¸²æŸ“å†…å®¹å’Œé™æ€æ–‡ä»¶ã€‚å¦‚æœæƒ³è¦ç”¨<code>Brotli</code>å‹ç¼©ä»£ç ï¼Œåˆ™éœ€è¦è¿™æ ·åšï¼š</li>
<li>
<pre><code class="hljs language-java" lang="java">  <span class="hljs-keyword">module</span>.<span class="hljs-keyword">exports</span> = {  
    compress: <span class="hljs-literal">false</span>,
  }
</code></pre>
</li>
<li>Â Â å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fnginx.org%2F" target="_blank" title="https://nginx.org/" ref="nofollow noopener noreferrer">nginx</a> å¹¶å¸Œæœ›æ”¹ç”¨ <code>brotli</code> å‹ç¼©ï¼Œå¯ä»¥å°† <code>compress</code> é€‰é¡¹è®¾ä¸º <code>false</code> ä»¥è®© nginx å¤„ç†å‹ç¼©ï¼ˆå…¶å®ä¹Ÿå¹¶ä¸å®Œç¾ï¼Œè¿™ç§æ–¹æ¡ˆéœ€è¦ä¾èµ–æœåŠ¡å™¨å‹ç¼©ï¼Œè€Œä¸æ˜¯æ„å»ºæ—¶å‹ç¼©ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-19">2ã€antd å‡çº§</h4>
<blockquote>
<p>é‡åˆ°çš„é—®é¢˜</p>
</blockquote>
<ul>
<li>
<p>Q1ï¼šä¸ºä»€ä¹ˆä½¿ç”¨åœ¨ Next.js ä¸­ç›´æ¥ &lt;Select.Option /&gt; ã€&lt;Typography.Text /&gt;ä¼šæŠ¥é”™ï¼Œéœ€è¦ä»è·¯å¾„å¼•å…¥è¿™äº›å­ç»„ä»¶æ¥é¿å…é”™è¯¯</p>
<ul>
<li>
<pre><code class="hljs language-vbnet" lang="vbnet">  &lt;<span class="hljs-keyword">Select</span>.<span class="hljs-keyword">Option</span> value=<span class="hljs-string">"1"</span>&gt;<span class="hljs-keyword">Option</span> <span class="hljs-number">1</span>&lt;/<span class="hljs-keyword">Select</span>.<span class="hljs-keyword">Option</span>&gt;
</code></pre>
</li>
<li>Â Â Aï¼šæœåŠ¡å™¨ç»„ä»¶æ ‘åºåˆ—åŒ–é—®é¢˜ï¼Œå½“ä½¿ç”¨ <code>Select.Option</code>è¿™æ ·çš„ç‚¹è¡¨ç¤ºæ³•æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨å¼•ç”¨ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ã€‚Next.js çš„ RSC ç³»ç»Ÿéœ€è¦èƒ½å¤Ÿé™æ€åˆ†æç»„ä»¶æ ‘ï¼Œä»¥ä¾¿æ­£ç¡®åºåˆ—åŒ–å’Œåœ¨å®¢æˆ·ç«¯é‡å»ºç»„ä»¶æ ‘ã€‚</li>
<li>Â Â è¯´äººè¯å°±æ˜¯RSC ç³»ç»Ÿåœ¨ç¼–è¯‘æ—¶éœ€è¦ç¡®å®šï¼šå“ªäº›æ˜¯æœåŠ¡ç«¯ç»„ä»¶ï¼Œå“ªäº›æ˜¯å®¢æˆ·ç«¯ç»„ä»¶ä»¥åŠç»„ä»¶ä¹‹é—´çš„è¾¹ç•Œå…³ç³»</li>
<li>Â Â è§ <a href="https://link.juejin.cn?target=https%3A%2F%2Fant.design%2Fdocs%2Freact%2Fuse-with-next-cn" target="_blank" title="https://ant.design/docs/react/use-with-next-cn" ref="nofollow noopener noreferrer">ant.design/docs/react/â€¦</a></li>
</ul>
</li>
<li>
<p>Q2ï¼šæœåŠ¡ç«¯æ¸²æŸ“ä¸­å¦‚ä½•æ³¨å…¥æ ·å¼</p>
<ul>
<li>
<p>Â Â Aï¼šæœ‰ä¸¤ç§æ–¹å¼åœ¨æœåŠ¡ç«¯æ¸²æŸ“æ¶ˆè´¹ç»„ä»¶æ ·å¼ï¼Œå„æœ‰å¥½å¤„</p>
</li>
<li>
<p>å†…è”ï¼šç›´æ¥å°†æ ·å¼å†…è”åˆ°æ‰€ä½¿ç”¨çš„ç»„ä»¶ä¸Š</p>
<ul>
<li>å¥½å¤„æ˜¯æ²¡æœ‰cssè¯·æ±‚</li>
<li>ç¼ºç‚¹æ˜¯å¦‚æœä½¿ç”¨äº†å¤šä¸ªåŒæ ·çš„ç»„ä»¶ï¼Œä¼šå†…è”å¤šä»½ç›¸åŒçš„æ ·å¼ï¼Œé€ æˆ HTML ä½“ç§¯å¢å¤§ï¼Œå½±å“é¦–å±æ¸²æŸ“é€Ÿåº¦</li>
<li>Â Â Â Â è§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fant.design%2Fdocs%2Freact%2Fserver-side-rendering-cn" target="_blank" title="https://ant.design/docs/react/server-side-rendering-cn" ref="nofollow noopener noreferrer">ant.design/docs/react/â€¦</a></li>
</ul>
</li>
<li>
<p>çƒ˜ç„™ï¼šç±»ä¼¼ antd 4ï¼Œå°†é¡¹ç›®ä¸­ä½¿ç”¨è¿‡çš„ç»„ä»¶æ ·å¼æå–å‡ºä¸€ä»½å•ç‹¬çš„css</p>
<ul>
<li>å¥½å¤„æ˜¯æ‰“å¼€ä»»æ„é¡µé¢æ—¶å¦‚ä¼ ç»Ÿ css æ–¹æ¡ˆä¸€æ ·éƒ½ä¼šå¤ç”¨åŒä¸€å¥— css æ–‡ä»¶ä»¥å‘½ä¸­ç¼“å­˜</li>
<li>ç¼ºç‚¹æ˜¯å¤šä¸»é¢˜çš„æƒ…å†µä¸‹ä¼šçƒ˜ç„™å¤šä»½æ ·å¼</li>
<li>
<pre><code class="hljs language-javascript" lang="javascript">  <span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
  <span class="hljs-keyword">import</span> fs <span class="hljs-keyword">from</span> <span class="hljs-string">'fs'</span>;
  <span class="hljs-keyword">import</span> { extractStyle } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ant-design/static-style-extract'</span>;
  <span class="hljs-keyword">import</span> <span class="hljs-title class_">AntdConfigProvider</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./AntdConfigProvider'</span>;
  <span class="hljs-keyword">import</span> { <span class="hljs-variable constant_">IS_PRODUCTION</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../src/constants/config'</span>;

  <span class="hljs-keyword">const</span> outputPath = <span class="hljs-variable constant_">IS_PRODUCTION</span> ? <span class="hljs-string">'./public/antd.min.css'</span> : <span class="hljs-string">'./public/antd.environment.css'</span>;

  <span class="hljs-keyword">const</span> css = <span class="hljs-title function_">extractStyle</span>(<span class="hljs-function">(<span class="hljs-params">node</span>) =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">AntdConfigProvider</span>&gt;</span>{node}<span class="hljs-tag">&lt;/<span class="hljs-name">AntdConfigProvider</span>&gt;</span></span>);

  fs.<span class="hljs-title function_">writeFileSync</span>(outputPath, css);
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-20">2ã€çŠ¶æ€ç®¡ç†</h4>
<blockquote>
<p>ä» umi åˆ° Zustand, ç”±äº Next.js æœ¬èº«å¹¶ä¸æä¾›çŠ¶æ€ç®¡ç†å·¥å…·ã€‚æˆ‘ä»¬éœ€è¦è‡ªå·±é€‰å‹ä¸€æ¬¾ç¨³å®šã€ç®€å•ã€å¥½ç”¨çš„çŠ¶æ€ç®¡ç†å·¥å…·</p>
</blockquote>
<p>çœ‹çœ‹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fnpm-stat.com%2Fcharts.html%3Fpackage%3Dzustand%26package%3Djotai%26package%3Dvaltio%26package%3D%2540reduxjs%252Ftoolkit%26package%3Drecoil" target="_blank" title="https://npm-stat.com/charts.html?package=zustand&amp;package=jotai&amp;package=valtio&amp;package=%40reduxjs%2Ftoolkit&amp;package=recoil" ref="nofollow noopener noreferrer">React å„ç§ çŠ¶æ€ç®¡ç†å·¥å…· Npm ä¸‹è½½è¶‹åŠ¿</a></p>
<p>Zustand çš„ä½¿ç”¨æœ¬èº«å¾ˆç®€å•ï¼Œå®šä¹‰ä¸€ä¸ªHooksï¼Œç„¶åæŠ›å‡ºçŠ¶æ€å’Œæ”¹å˜çŠ¶æ€çš„æ–¹æ³•å³å¯</p>
<pre><code class="hljs language-javascript" lang="javascript"> <span class="hljs-comment">// src/stores/counter-store.ts</span>
<span class="hljs-keyword">import</span> { create } <span class="hljs-keyword">from</span> <span class="hljs-string">'zustand/vanilla'</span>

<span class="hljs-keyword">const</span> useCountStore = <span class="hljs-title function_">create</span>(<span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
    <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">inc</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> ({ <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> })),
}))

<span class="hljs-comment">// src/components/pages/home-page.tsx</span>
<span class="hljs-keyword">import</span> { useCountStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/providers/counter-store-provider.ts'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">HomePage</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> { count, inc} = useCountStore (<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state)
}
</code></pre>
<p>ä½†è¿™æ˜¯åœ¨SPAä¸­ä½¿ç”¨ï¼Œåœ¨æœåŠ¡ç«¯æ¸²æŸ“ä¸­å¯¹ Zustand ä½¿ç”¨ä¸å¯å˜æ•°æ®æå‡ºäº†ä¸€äº›ç‹¬ç‰¹çš„æŒ‘æˆ˜ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ç‚¹å°å°çš„æ”¹å˜</p>
<ul>
<li>
<p>å®šä¹‰ä¸€ä¸ª Provider é˜²æ­¢ç»„ä»¶é‡å¤æ‰§è¡Œåˆå§‹åŒ–æ•°æ®</p>
<ul>
<li>
<pre><code class="hljs language-typescript" lang="typescript">  <span class="hljs-keyword">import</span> { createStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'zustand'</span>;
  <span class="hljs-keyword">import</span> { <span class="hljs-keyword">type</span> <span class="hljs-title class_">ReactNode</span>, createContext, useContext, useEffect, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

  <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">createUserStore</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">return</span> createStore&lt;<span class="hljs-title class_">UserStore</span>&gt;()(<span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
      <span class="hljs-attr">userInfo</span>: {},
      <span class="hljs-attr">refreshUserFn</span>: <span class="hljs-keyword">async</span> (userInfo?: <span class="hljs-title class_">UserState</span> ) =&gt; {
        <span class="hljs-title function_">set</span>(<span class="hljs-function">() =&gt;</span> ({ ...state, <span class="hljs-attr">userInfo</span>: userInfo }));
      },
    }));
  };

  <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">UserStoreContext</span> = createContext&lt;<span class="hljs-title class_">UserStoreApi</span> | <span class="hljs-literal">undefined</span>&gt;(<span class="hljs-literal">undefined</span>);

  <span class="hljs-comment">/**
  * åˆ›å»ºåœ°åŸŸä¸Šä¸‹æ–‡
  * é¿å… createUserStore é‡å¤æ‰§è¡Œ
  */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">UserStoreProvider</span> = (<span class="hljs-params">{ children }: UserStoreProviderProps</span>) =&gt; {
    <span class="hljs-keyword">const</span> userStore = <span class="hljs-title function_">createUserStore</span>();
    <span class="hljs-keyword">const</span> storeRef = useRef&lt;<span class="hljs-title class_">UserStoreApi</span>&gt;(<span class="hljs-literal">null</span>);
    <span class="hljs-keyword">if</span> (!storeRef.<span class="hljs-property">current</span>) {
      storeRef.<span class="hljs-property">current</span> = userStore;
    }
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">UserStoreContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{userStore}</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">UserStoreContext.Provider</span>&gt;</span></span>;
  };

  <span class="hljs-comment">// æ¶ˆè´¹æˆ–åˆå§‹åŒ–ç”¨æˆ·æ•°æ®</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useUserStore = &lt;T,&gt;(<span class="hljs-attr">selector</span>: <span class="hljs-function">(<span class="hljs-params">store: UserStore</span>) =&gt;</span> T): <span class="hljs-function"><span class="hljs-params">T</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> <span class="hljs-title class_">UserContext</span> = <span class="hljs-title function_">useContext</span>(<span class="hljs-title class_">UserStoreContext</span>);
    <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">UserContext</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`useUserStore must be used within UserStoreProvider`</span>);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">useStore</span>(<span class="hljs-title class_">UserContext</span>, selector);
  };
</code></pre>
</li>
</ul>
</li>
<li>
<p>åœ¨å…¨å±€å…¥å£æŒ‚è½½å¹¶åˆå§‹åŒ– Provider</p>
<ul>
<li>
<pre><code class="hljs language-javascript" lang="javascript">  <span class="hljs-keyword">import</span> { <span class="hljs-title class_">UserStoreProvider</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/providers/userStoreProvider'</span>;
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Layout</span>(<span class="hljs-params">{children}</span>) {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">UserStoreProvider</span>&gt;</span> {children}&lt;/UserStoreProvider &gt;
    )
  }
</span></code></pre>
</li>
</ul>
</li>
<li>
<p>æ¶ˆè´¹/å˜æ›´ç”¨æˆ·æ•°æ®</p>
<ul>
<li>
<pre><code class="hljs language-ini" lang="ini">   const <span class="hljs-attr">userInfo</span> = useUserStore((state) =&gt; state.userInfo)<span class="hljs-comment">;</span>
</code></pre>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-21">3ã€è¯·æ±‚åº“</h4>
<ul>
<li>
<p>æœåŠ¡ç«¯ fetch</p>
<ul>
<li>
<blockquote>
<p>Next.js æ‰©å±•äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fdocs%2FWeb%2FAPI%2FFetch_API" target="_blank" title="https://developer.mozilla.org/docs/Web/API/Fetch_API" ref="nofollow noopener noreferrer">Web fetch() API</a>ï¼Œå…è®¸æœåŠ¡å™¨ä¸Šçš„æ¯ä¸ªè¯·æ±‚è®¾ç½®è‡ªå·±çš„æŒä¹…åŒ–ç¼“å­˜å’Œé‡æ–°éªŒè¯è¯­ä¹‰ã€‚</p>
</blockquote>
</li>
<li>
<p>Â Â æ–°å¢ä¸¤ä¸ªapiï¼Œé…åˆ <strong>RSC</strong> æ¸²æŸ“å®ç°ç¼“å­˜æœºåˆ¶</p>
</li>
<li>
<p>cache ï¼šé…ç½®è¯·æ±‚å¦‚ä½•ä¸ Next.js <a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.nextjs.im%2Fdocs%2Fapp%2Fdeep-dive%2Fcaching%23data-cache" target="_blank" title="https://zh-hans.nextjs.im/docs/app/deep-dive/caching#data-cache" ref="nofollow noopener noreferrer">æ•°æ®ç¼“å­˜ (Data Cache)</a> äº¤äº’</p>
<ul>
<li><code>auto no cache</code> (é»˜è®¤å€¼)ï¼šNext.js ä¼šåœ¨æ¯æ¬¡è¯·æ±‚æ—¶è·å–èµ„æºï¼Œä¸”ä¼šåœ¨<code>next build</code> æ—¶ä¼šè·å–ä¸€æ¬¡</li>
<li><code>no-store</code>: Next.js ä¼šåœ¨æ¯æ¬¡è¯·æ±‚æ—¶è·å–èµ„æº</li>
<li><code>force-cache</code>: Next.js ä¼šåœ¨å…¶æ•°æ®ç¼“å­˜ä¸­æŸ¥æ‰¾åŒ¹é…çš„è¯·æ±‚ã€‚å¦‚æœæ‰¾åˆ°åŒ¹é…ä¸”æœªè¿‡æœŸï¼Œå°†ä»ç¼“å­˜è¿”å›ã€‚å¦‚æœæ²¡æœ‰åŒ¹é…æˆ–åŒ¹é…å·²è¿‡æœŸï¼ŒNext.js å°†ä»è¿œç¨‹æœåŠ¡å™¨è·å–èµ„æºå¹¶æ›´æ–°ç¼“å­˜ã€‚</li>
</ul>
</li>
<li>
<p>revalidate: è®¾ç½®èµ„æºçš„ç¼“å­˜ç”Ÿå‘½å‘¨æœŸï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚</p>
<ul>
<li><code>false</code> - æ— é™æœŸç¼“å­˜èµ„æºã€‚è¯­ä¹‰ä¸Šç­‰åŒäº <code>revalidate: Infinity</code>ã€‚HTTP ç¼“å­˜å¯èƒ½ä¼šéšæ—¶é—´æ¨ç§»æ·˜æ±°æ—§èµ„æºã€‚</li>
<li><code>0</code> - é˜»æ­¢èµ„æºè¢«ç¼“å­˜ã€‚</li>
<li><code>number</code> - ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰æŒ‡å®šèµ„æºçš„ç¼“å­˜ç”Ÿå‘½å‘¨æœŸæœ€å¤šä¸º <code>n</code> ç§’ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p>å®¢æˆ·ç«¯ fetch</p>
<ul>
<li>åŒ window.fetch</li>
</ul>
</li>
</ul>
<h4 data-id="heading-22">4ã€css é¢„å¤„ç†å™¨</h4>
<p>ä» less åˆ° <a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.nextjs.im%2Fdocs%2Fapp%2Fguides%2Fsass" target="_blank" title="https://zh-hans.nextjs.im/docs/app/guides/sass" ref="nofollow noopener noreferrer">Sass</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.nextjs.im%2Fdocs%2Fapp%2Fguides%2Fsass" target="_blank" title="https://zh-hans.nextjs.im/docs/app/guides/sass" ref="nofollow noopener noreferrer">Sass</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.nextjs.im%2Fdocs%2Fapp%2Fguides%2Ftailwind-css" target="_blank" title="https://zh-hans.nextjs.im/docs/app/guides/tailwind-css" ref="nofollow noopener noreferrer">Tailwind CSS</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.nextjs.im%2Fdocs%2Fapp%2Fguides%2Fcss-in-js" target="_blank" title="https://zh-hans.nextjs.im/docs/app/guides/css-in-js" ref="nofollow noopener noreferrer">CSS-in-JS</a></li>
</ul>
<h4 data-id="heading-23">5ã€å£°æ˜è·¯ç”±åˆ°æ–‡ä»¶è·¯ç”±</h4>
<ul>
<li>
<p>ç‰¹ç‚¹æ€»ç»“ï¼šå£°æ˜å¼è·¯ç”±å’Œæ–‡ä»¶è·¯ç”±å„æœ‰ç‰¹ç‚¹ï¼Œå£°æ˜è·¯ç”±ä¸Šæ‰‹ç®€å•ï¼Œè·¯ç”±ç»“æ„æ¸…æ™°ï¼›æ–‡ä»¶è·¯ç”±æœ‰ä¸€å®šä¸Šæ‰‹é—¨æ§›ï¼Œæ§åˆ¶é¢—ç²’åº¦æ›´ç»†</p>
<ul>
<li>






























<table><thead><tr><th>å£°æ˜è·¯ç”±</th><th>æ–‡ä»¶è·¯ç”±</th><th>å·®å¼‚åŒ–</th></tr></thead><tbody><tr><td>é‡å®šå‘ redirct</td><td>æ–‡ä»¶æ‹¦æˆªè·¯ç”±</td><td>æ–‡ä»¶æ‹¦æˆªè·¯ç”±æ”¯æŒåŠ¨æ€æ‹¦æˆªï¼ŒåŠŸèƒ½æ›´å¼ºå¤§</td></tr><tr><td>å£°æ˜åµŒå¥—è·¯ç”±</td><td>æ–‡ä»¶åµŒå¥—è·¯ç”±</td><td>æ— å·®å¼‚</td></tr><tr><td>åŠ¨æ€è·¯ç”±</td><td>æ–‡ä»¶åŠ¨æ€è·¯ç”±</td><td>åŠŸèƒ½æ— å·®å¼‚ã€‚æ–‡ä»¶è·¯ç”±å¯ä»¥æŒ‰éœ€æ·»åŠ Loading.jsï¼Œnot-found.jsç­‰å¤„ç†æ–‡ä»¶ï¼Œæ§åˆ¶é¢—ç²’åº¦ä¼šæ›´ç»†ï¼Œå£°æ˜è·¯ç”±éœ€è¦æ ¹æ®pathnameæ‰‹åŠ¨å¤„ç†å…¬å…±é€»è¾‘</td></tr><tr><td>-</td><td>æ–‡ä»¶å¹¶è¡Œè·¯ç”±</td><td>åœ¨è®¾è®¡æ¡ä»¶è·¯ç”±ã€æƒé™è·¯ç”±ã€æ ‡ç­¾é¡µã€URLæ¨¡æ€æ¡†çš„æ—¶å€™æ¯”è¾ƒæœ‰ç”¨</td></tr></tbody></table>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-24">6ã€å¾®å‰ç«¯</h4>
<blockquote>
<p>åœ¨ Next.jsä¸­å®ç° @umi/plugin-qiankun æ’ä»¶åŠŸèƒ½</p>
</blockquote>
<ul>
<li>
<p>åŸå…ˆumiæ¡†æ¶ä¸­è‡ªå¸¦äº†ä¸€æ¬¾éå¸¸å¥½ç”¨çš„æ’ä»¶ @umi/plugin-qiankun è¿™è®©å¾®å‰ç«¯æ¥å…¥ã€æ›´æ–°ã€çŠ¶æ€ä¼ è¾“å˜çš„å¼‚å¸¸ç®€å•ï¼Œä½†æ˜¯åœ¨ Next.js ä¸­æˆ‘ä»¬éœ€è¦è‡ªå·±å®ç°è¿™ä¸ªæ’ä»¶åŠç›¸å…³åŠŸèƒ½</p>
<ul>
<li>æš‚æ—¶æ— æ³•åœ¨å”¯ç§‘ä¹‹å®¶2.0æ–‡æ¡£å¤–å±•ç¤ºæ­¤å†…å®¹</li>
</ul>
</li>
</ul>
<p>é€šè¿‡æœåŠ¡ç«¯serverå®ç°qiankunè¿è¡Œæ—¶æ³¨å†Œï¼Œé€šè¿‡ Zustand + qiankun å®ç°å­åº”ç”¨åŠ¨æ€æ›´æ–°</p>
<h2 data-id="heading-25">ç¬¬ä¸‰ç« ï¼šéƒ¨ç½²æ–¹æ¡ˆ</h2>
<h3 data-id="heading-26">ç¬¬ä¸€èŠ‚ï¼šæ„å»ºä¸éƒ¨ç½²</h3>
<h4 data-id="heading-27">1ã€åŸºç¡€é•œåƒ</h4>
<ul>
<li>base/nodejs_nginx_anolios_brotli:v22.14.0_1.21.4.1</li>
</ul>
<p>æ­¤å‰çš„åŸºç¡€é•œåƒä¸»è¦é¢å‘SPAåº”ç”¨ï¼Œæ‰¿æ‹…ç½‘ç»œä»£ç†ä¸é™æ€èµ„æºè½¬å‘çš„åŠŸèƒ½ã€‚åœ¨å¼•å…¥Next.jsæœåŠ¡ç«¯æ¸²æŸ“æ–¹æ¡ˆåï¼Œæˆ‘ä»¬è¿˜éœ€è¦éƒ¨ç½²ä¸€å¥—NodeæœåŠ¡ã€‚æŒ‰ç…§åŸæœ‰éƒ¨ç½²æµç¨‹ï¼Œéœ€å•ç‹¬ç”³è¯·ä¸€ä¸ªåº”ç”¨æ¥è¿è¡ŒNodeæœåŠ¡ï¼Œå¹¶é¢å¤–é…ç½®ä¸€ä¸ªNginxåº”ç”¨ï¼Œç”¨äºå¤„ç†ä»£ç†ä¸é™æ€èµ„æºç›¸å…³é…ç½®ã€‚</p>
<p>ä¸ºç®€åŒ–éƒ¨ç½²æµç¨‹ï¼Œæˆ‘ä»¬ç°å·²é‡æ–°æ„å»ºäº†ä¸€æ¬¾Baseé•œåƒï¼Œæ”¯æŒåœ¨å•ä¸€å®ä¾‹ä¸­åŒæ—¶å¯åŠ¨ä¸¤ä¸ªè¿›ç¨‹ï¼šNginxæœåŠ¡è´Ÿè´£è¯·æ±‚è½¬å‘å’Œé™æ€èµ„æºå¤„ç†ï¼Œè€ŒNodeè¿›ç¨‹åˆ™ç”¨äºè¿è¡ŒNext.jsæœåŠ¡ã€‚</p>
<h4 data-id="heading-28">2ã€æ„å»º</h4>
<ul>
<li><code>standalone</code></li>
</ul>
<p>ä»¥å‰ä½¿ç”¨ Docker éƒ¨ç½²æ—¶ï¼Œéœ€è¦å®‰è£…åŒ…ä¸­ <code>dependencies</code> çš„æ‰€æœ‰æ–‡ä»¶æ‰èƒ½è¿è¡Œ <code>next start</code>ã€‚ä» Next.js 12 å¼€å§‹ï¼Œå¯ä»¥åˆ©ç”¨ <code>.next/</code> ç›®å½•ä¸­çš„è¾“å‡ºæ–‡ä»¶è¿½è¸ªåŠŸèƒ½<code>.nft.json</code>ï¼Œä»…åŒ…å«å¿…è¦çš„æ–‡ä»¶<code>.next</code> ç›®å½•</p>
<p>æˆ‘ä»¬é€šè¿‡å¼€å¯ <code>standlone </code>ç‰¹æ€§ï¼Œæ­¤æ—¶ Next.js å¯ä»¥æ ¹æ®<code>.nft.json</code>è‡ªåŠ¨åˆ›å»ºä¸€ä¸ª <code>standalone</code> æ–‡ä»¶å¤¹ï¼Œä»…å¤åˆ¶ç”Ÿäº§éƒ¨ç½²æ‰€éœ€çš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬ <code>node_modules</code> ä¸­çš„é€‰å®šæ–‡ä»¶ã€‚è¿˜ä¼šè¾“å‡ºä¸€ä¸ªæœ€å°åŒ–çš„ <code>server.js</code> æ–‡ä»¶ï¼Œå¯ç”¨äºæ›¿ä»£ <code>next start</code></p>
<p>ä¼˜åŒ–ä¹‹å‰æ„å»ºæ—¶é•¿ï¼‹é•œåƒåˆ¶ä½œï¼ˆåŒ…å«æ‰“åŒ…modulesæ—¶é—´ï¼‰å…±è®¡15åˆ†é’Ÿã€‚ä¼˜åŒ–ä¹‹åæ„å»ºæ—¶é•¿å’Œé•œåƒåˆ¶ä½œçº¦3åˆ†é’Ÿï¼Œå½“ç„¶å¯ç”¨ <code>standalone</code> ä¹Ÿä¸ºæˆ‘ä»¬å¸¦æ¥ä¸€äº›æŒ‘æˆ˜</p>
<ul>
<li>é»˜è®¤ next build éƒ¨ç½²æ–¹å¼</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78ea24ec09004a1da7ef686f5eeb2293~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bGx5L6d5bC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764581053&amp;x-signature=%2BTR%2FNrkoqz6VrxjMgGFz22j2YZU%3D" alt="" loading="lazy"/></p>
<ul>
<li>ä½¿ç”¨ <code>standalone</code> æ„å»º</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07a1ba958765488aa38c96536c102543~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bGx5L6d5bC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764581053&amp;x-signature=IgpFmnqyhN4b3Z3bKCYl9caTT2Y%3D" alt="" loading="lazy"/></p>
<ul>
<li>
<p>Q1 ï¼šå½“æˆ‘ä»¬ä½¿ç”¨ pnpm æ„å»ºæ—¶ï¼ŒæŠ¥é”™ Error: EPERM: operation not permitted, symlink</p>
<ul>
<li>Â Â Aï¼šwindowsç³»ç»Ÿ<strong>éç®¡ç†å‘˜æƒé™</strong>é—®é¢˜ ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js%2Fdiscussions%2F52244" target="_blank" title="https://github.com/vercel/next.js/discussions/52244" ref="nofollow noopener noreferrer">ç›¸å…³Discussions</a>ï¼‰ï¼Œ</li>
<li>Â Â  æ–¹æ³•ä¸€ï¼šå¯ä»¥é€šè¿‡è®¾ç½®ï¼Œè¿™ä¼šæ‰å¹³åŒ–pnpmä¾èµ–ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å¹½çµä¾èµ–é—®é¢˜</li>
<li>
<pre><code class="hljs language-ini" lang="ini">   <span class="hljs-comment">## ç¦ç”¨ç¬¦å·é“¾æ¥æ¥é¿å…æ­¤é—®é¢˜ï¼Œé¿å…éç®¡ç†å‘˜ standalone æ„å»ºæŠ¥é”™</span>
  <span class="hljs-attr">symlink</span>=<span class="hljs-literal">false</span>
  <span class="hljs-attr">node-linker</span>=hoisted
</code></pre>
</li>
<li>Â Â  æ–¹æ³•äºŒï¼šæœ¬åœ°æ„å»ºé€šè¿‡ç¯å¢ƒå˜é‡ç”¨ output: 'export', <em>// è€Œä¸æ˜¯ 'standalone'ï¼Œ</em> <strong>ç”Ÿäº§ç¯å¢ƒ</strong>è¿˜æ˜¯ä½¿ç”¨standaloneï¼Œéœ€è¦æ³¨æ„ä¸¤ç§æ„å»ºæ–¹å¼äº§ç‰©å·®å¼‚çš„é—®é¢˜ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æœ¬åœ°å¼€å‘æ•ˆæœè·Ÿç”Ÿäº§ä¸ä¸€è‡´</li>
<li>Â Â  <del>æ–¹æ³•ä¸‰ï¼šæ¢ç”µè„‘ or ç”³è¯·ç®¡ç†å‘˜æƒé™</del></li>
</ul>
</li>
<li>
<p>Q2ï¼š<code>standalone</code> ä¸ºäº†æè‡´çš„æ€§èƒ½ç”šè‡³ä¸ä¼šå¤åˆ¶ <code>public</code> æˆ– <code>.next/static</code> æ–‡ä»¶å¤¹ï¼Œä»–é»˜è®¤æˆ‘ä»¬ä¼šå°†è¿™äº›æ–‡ä»¶å†…å®¹éƒ¨ç½²åˆ°<code>cdn</code>ï¼Œ</p>
<ul>
<li>Â Â Aï¼šå½“æˆ‘ä»¬æ²¡æœ‰<code>cdn</code>æœåŠ¡å™¨çš„æ—¶å€™ï¼Œéœ€è¦é¢å¤–çš„å¤åˆ¶è¿™äº›æ–‡ä»¶åˆ° <code>.next</code>æ–‡ä»¶å¤¹ä¸‹</li>
<li>
<pre><code class="hljs language-vbnet" lang="vbnet">  cp -r <span class="hljs-keyword">public</span> .<span class="hljs-keyword">next</span>/standalone/ &amp;&amp; cp -r .<span class="hljs-keyword">next</span>/<span class="hljs-keyword">static</span> .<span class="hljs-keyword">next</span>/standalone/.<span class="hljs-keyword">next</span>/
</code></pre>
</li>
</ul>
</li>
<li>
<p>Q3ï¼šå¦‚ä½•è‡ªå®šä¹‰ç«¯å£æˆ–ä¸»æœºå</p>
<ul>
<li>Â Â Aï¼šåœ¨å¯åŠ¨å‘½ä»¤ä¸­æ·»åŠ </li>
<li>
<pre><code class="hljs language-ini" lang="ini">  <span class="hljs-attr">PORT</span>=<span class="hljs-number">3000</span> HOSTNAME=<span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>
</code></pre>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-29">3ã€éƒ¨ç½²</h4>
<ul>
<li>
<p>å…³äºå¯åŠ¨å‘½ä»¤ï¼Œå…ˆå¯åŠ¨ Next.js ç›¸å…³ Node æœåŠ¡å™¨ï¼ˆå†…éƒ¨æœåŠ¡å™¨ï¼ŒåŒ…å«ç¯å¢ƒå˜é‡ã€ç«¯å£ã€ä¸»æœºåç§°ï¼‰ï¼Œåœ¨å¯åŠ¨Nginx æœåŠ¡ï¼ˆæä¾›å¤–éƒ¨è®¿é—®ï¼Œå«åŠ¨æ€åŸŸåè§£æï¼‰</p>
<ul>
<li>
<pre><code class="hljs language-bash" lang="bash">  HOSTNAME=localhost SERVER_API_ENV=online node ./standalone/server.js &amp; bash /opt/nginx/conf/resolve.sh &amp;&amp; /opt/nginx/runnginx.sh
</code></pre>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-30">ç¬¬äºŒèŠ‚ï¼šNginx é…ç½®è¯´æ˜</h3>
<h4 data-id="heading-31">1ã€æœåŠ¡ç«¯ä»£ç†</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">################ ç½‘å…³é…ç½® #####################</span>
<span class="hljs-comment">################ ç½‘å…³é…ç½® #####################</span>
<span class="hljs-comment"># ç½‘å…³ä»£ç†</span>
location ~ ^/(noauth|portal)/ {
  <span class="hljs-built_in">set</span> <span class="hljs-variable">$proxy_url</span> http://gc-gw-server.mscloud.lo;
  proxy_pass <span class="hljs-variable">$proxy_url</span>;
}
</code></pre>
<h4 data-id="heading-32">2ã€å¾®å‰ç«¯å­åº”ç”¨èµ„æºä»£ç†</h4>
<blockquote>
<p>é€šè¿‡å­åº”ç”¨èµ„æºä»£ç†ï¼Œå­åº”ç”¨å°±ä¸ç”¨ç”³è¯·å…¬ç½‘åŸŸå</p>
</blockquote>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment">################ ä¸»é¡¹ç›®åŠ è½½å­é¡¹ç›®é™æ€é¡µé¢é…ç½® #####################</span>
<span class="hljs-comment">################ ä¸»é¡¹ç›®åŠ è½½å­é¡¹ç›®é™æ€é¡µé¢é…ç½® #####################</span>
<span class="hljs-comment"># å­åº”ç”¨è½¬å‘</span>
location ~ <span class="hljs-regexp">/msportal/</span>(\w+)/(.*) {
  <span class="hljs-comment"># é™æ€èµ„æºæ ¹æ®hashåç§°ç¼“å­˜</span>
  add_header Cache-Control $cache_control_header;
  proxy_pass http:<span class="hljs-regexp">//g</span>c-$1-fe.mscloud.lo/$2$is_args$args;
}
</code></pre>
<h4 data-id="heading-33">3ã€Next.js èµ„æºå…œåº•</h4>
<blockquote>
<p>åœ¨é…ç½® SPA Nginx æœåŠ¡å™¨çš„æ—¶å€™ï¼Œé€šå¸¸æˆ‘ä»¬ä¼šè¿”å›ä¸€ä¸ªå…œåº•çš„é™æ€é¡µé¢ï¼Œé˜²æ­¢åº”ç”¨ç™½å±åŒ–ã€‚åŒæ ·çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨Nginxé‡Œé¢å°†æ²¡æœ‰ä»£ç†åˆ°çš„è¯·æ±‚é€šé€šè½¬å‘ Next.js åº”ç”¨ï¼Œç”±åº”ç”¨æ¥å¤„ç†å„ç§å¼‚å¸¸æƒ…å†µ</p>
</blockquote>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">################ å…¶ä»–æ‰€æœ‰è¯·æ±‚äº¤ç»™ Next.js å¤„ç† #####################</span>
<span class="hljs-comment">################ å…¶ä»–æ‰€æœ‰è¯·æ±‚äº¤ç»™ Next.js å¤„ç† #####################</span>
<span class="hljs-comment"># æ ¸å¿ƒNext.jsèµ„æº</span>
location /_next/static {
  proxy_pass http://localhost:3000;
  expires 30d;
}
<span class="hljs-comment"># é™æ€èµ„æºç¼“å­˜è®¾ç½®</span>
location /public {
  proxy_pass http://localhost:3000;
  expires 30d;
}
<span class="hljs-comment"># æ ¸å¿ƒè·¯ç”±ä»£ç†ï¼ˆæŒ‡å‘ Node åº”ç”¨ï¼‰</span>
location / {
  add_header Cache-Control <span class="hljs-variable">$cache_control_header</span>;
  proxy_pass http://localhost:3000;
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ svgfmt ä¼˜åŒ– SVG å›¾æ ‡]]></title>    <link>https://juejin.cn/post/7576086446459551779</link>    <guid>https://juejin.cn/post/7576086446459551779</guid>    <pubDate>2025-11-24T09:26:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576086446459551779" data-draft-id="7576105458806505472" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ svgfmt ä¼˜åŒ– SVG å›¾æ ‡"/> <meta itemprop="keywords" content="å‰ç«¯,SVG,Icon"/> <meta itemprop="datePublished" content="2025-11-24T09:26:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¡œ"/> <meta itemprop="url" content="https://juejin.cn/user/1855631357387288"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ svgfmt ä¼˜åŒ– SVG å›¾æ ‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1855631357387288/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¡œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T09:26:11.000Z" title="Mon Nov 24 2025 09:26:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€ï¼šSVG å›¾æ ‡çš„å¸¸è§é—®é¢˜</h2>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä½¿ç”¨è®¾è®¡å¸ˆæä¾›çš„ SVG å›¾æ ‡ã€‚ç„¶è€Œï¼Œä» Figma ç­‰è®¾è®¡å·¥å…·å¯¼å‡ºçš„ SVG æ–‡ä»¶å¾€å¾€å­˜åœ¨ä¸€äº›é—®é¢˜ï¼š</p>
<p>é¦–å…ˆæ˜¯ä»£ç å†—ä½™ã€‚è®¾è®¡å·¥å…·å¯¼å‡ºçš„ SVG é€šå¸¸åŒ…å«å¤§é‡ä¸å¿…è¦çš„æ ‡ç­¾ï¼Œå¦‚ <code>&lt;defs&gt;</code>ã€<code>&lt;g&gt;</code>ã€<code>&lt;clipPath&gt;</code> ç­‰å®¹å™¨å…ƒç´ ï¼Œè¿™äº›å…ƒç´ åœ¨å®é™…ä½¿ç”¨ä¸­å¾€å¾€æ˜¯å¤šä½™çš„ã€‚å…¶æ¬¡ï¼Œé¢œè‰²å€¼è¢«å†™æ­»ã€‚SVG ä¸­çš„é¢œè‰²é€šå¸¸ä»¥ <code>fill="#333333"</code> è¿™æ ·çš„å½¢å¼ç¡¬ç¼–ç ï¼Œå¯¼è‡´æ— æ³•åƒ icon font é‚£æ ·é€šè¿‡ CSS çš„ <code>color</code> å±æ€§åŠ¨æ€æ§åˆ¶å›¾æ ‡é¢œè‰²ã€‚æ­¤å¤–ï¼Œæ–‡ä»¶ä¸­è¿˜å¯èƒ½åŒ…å«ä¸å¿…è¦çš„å±æ€§å’Œå…ƒæ•°æ®ï¼Œä½¿å¾—æ–‡ä»¶ä½“ç§¯åå¤§ã€‚</p>
<p>è¿™äº›é—®é¢˜ç»™å¼€å‘è€…å¸¦æ¥äº†ä¸å°‘å›°æ‰°ï¼šæ— æ³•çµæ´»æ§åˆ¶å›¾æ ‡æ ·å¼ï¼Œæ‰‹åŠ¨æ¸…ç†æ¯ä¸ªæ–‡ä»¶æ•ˆç‡ä½ä¸‹ä¸”å®¹æ˜“å‡ºé”™ï¼Œéš¾ä»¥æ„å»ºç»Ÿä¸€çš„å›¾æ ‡ç®¡ç†ç³»ç»Ÿã€‚</p>
<h2 data-id="heading-1">svgfmt ç®€ä»‹</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmoecasts%2Fsvgfmt" target="_blank" title="https://github.com/moecasts/svgfmt" ref="nofollow noopener noreferrer">svgfmt</a> æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºä¼˜åŒ– SVG å›¾æ ‡çš„å¼€æºå·¥å…·ï¼Œå®ƒé‡‡ç”¨ monorepo æ¶æ„ï¼ŒåŒ…å«ä¸¤ä¸ªæ ¸å¿ƒåŒ…ï¼š</p>
<ul>
<li><strong>@svgfmt/cli</strong>ï¼šå‘½ä»¤è¡Œå·¥å…·ï¼Œæä¾›ä¾¿æ·çš„æ–‡ä»¶å¤„ç†èƒ½åŠ›ï¼Œæ”¯æŒå•æ–‡ä»¶å’Œæ‰¹é‡å¤„ç†</li>
<li><strong>@svgfmt/core</strong>ï¼šæ ¸å¿ƒåº“ï¼Œå¯ä»¥è½»æ¾é›†æˆåˆ°è‡ªå®šä¹‰è„šæœ¬å’Œæ„å»ºæµç¨‹ä¸­</li>
</ul>
<p>svgfmt èƒ½å¤Ÿè‡ªåŠ¨æ¸…ç†å†—ä½™æ ‡ç­¾ã€ç§»é™¤å›ºå®šé¢œè‰²å€¼ã€åˆå¹¶è·¯å¾„ï¼Œè®© SVG å›¾æ ‡å˜å¾—æ›´åŠ è½»é‡å’Œæ˜“äºç»´æŠ¤ã€‚</p>
<h2 data-id="heading-2">ä½¿ç”¨æŒ‡å—</h2>
<h3 data-id="heading-3">å‘½ä»¤è¡Œä½¿ç”¨ï¼ˆ@svgfmt/cliï¼‰</h3>
<p>é¦–å…ˆå®‰è£… CLI å·¥å…·ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install -g @svgfmt/cli
</code></pre>
<p><strong>åŸºç¡€ç”¨æ³•</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ ¼å¼åŒ–å•ä¸ªæ–‡ä»¶ï¼ˆåŸåœ°ä¿®æ”¹ï¼‰</span>
svgfmt icon.svg

<span class="hljs-comment"># æ‰¹é‡å¤„ç†å¹¶è¾“å‡ºåˆ°æŒ‡å®šç›®å½•</span>
svgfmt <span class="hljs-string">"icons/**/*.svg"</span> -o dist/icons

<span class="hljs-comment"># å¤„ç†å•ä¸ªæ–‡ä»¶å¹¶è¾“å‡ºåˆ°æ–°ä½ç½®</span>
svgfmt logo.svg -o logo-optimized.svg
</code></pre>
<p><strong>è‡ªå®šä¹‰è½¬æ¢</strong></p>
<p>svgfmt æ”¯æŒé€šè¿‡ <code>--transform</code> å‚æ•°è‡ªå®šä¹‰è½¬æ¢é€»è¾‘ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨è½¬æ¢æ–‡ä»¶</span>
svgfmt icons/*.svg --transform ./transform.js

<span class="hljs-comment"># ä½¿ç”¨å†…è”ä»£ç </span>
svgfmt icons/*.svg -t <span class="hljs-string">'svg =&gt; svg.replace(/&lt;svg/, "&lt;svg class=\"icon\"")'</span>
</code></pre>
<p>è½¬æ¢æ–‡ä»¶ç¤ºä¾‹ï¼ˆ<code>transform.js</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">svg</span>) {
  <span class="hljs-keyword">return</span> svg.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&lt;svg/</span>, <span class="hljs-string">'&lt;svg class="icon"'</span>);
}

<span class="hljs-comment">// æˆ–è€…ä½¿ç”¨å‘½åå¯¼å‡º</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">transform</span>(<span class="hljs-params">svg</span>) {
  <span class="hljs-keyword">return</span> svg.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&lt;svg/</span>, <span class="hljs-string">'&lt;svg data-processed="true"'</span>);
}
</code></pre>
<h3 data-id="heading-4">ç¼–ç¨‹æ–¹å¼ä½¿ç”¨ï¼ˆ@svgfmt/coreï¼‰</h3>
<p>åœ¨é¡¹ç›®ä¸­å®‰è£…æ ¸å¿ƒåº“ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install @svgfmt/core
</code></pre>
<p><strong>åŸºç¡€ç¤ºä¾‹</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { format } <span class="hljs-keyword">from</span> <span class="hljs-string">'@svgfmt/core'</span>;

<span class="hljs-keyword">const</span> svgContent = <span class="hljs-string">`&lt;svg&gt;...&lt;/svg&gt;`</span>;
<span class="hljs-keyword">const</span> optimizedSvg = <span class="hljs-keyword">await</span> <span class="hljs-title function_">format</span>(svgContent);
</code></pre>
<p><strong>é«˜çº§é…ç½®</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { format } <span class="hljs-keyword">from</span> <span class="hljs-string">'@svgfmt/core'</span>;

<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">format</span>(svgContent, {
  <span class="hljs-comment">// æé«˜è·¯å¾„è¿½è¸ªç²¾åº¦ï¼ˆé»˜è®¤ 600ï¼‰</span>
  <span class="hljs-attr">traceResolution</span>: <span class="hljs-number">800</span>,
  
  <span class="hljs-comment">// è‡ªå®šä¹‰è½¬æ¢å‡½æ•°</span>
  <span class="hljs-attr">transform</span>: <span class="hljs-function">(<span class="hljs-params">svg</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> svg.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&lt;svg/</span>, <span class="hljs-string">'&lt;svg class="custom-icon"'</span>);
  }
});
</code></pre>
<p>å¯¹äºéœ€è¦å¼‚æ­¥å¤„ç†çš„åœºæ™¯ï¼Œ<code>transform</code> å‡½æ•°ä¹Ÿæ”¯æŒå¼‚æ­¥ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">format</span>(svgContent, {
  <span class="hljs-attr">transform</span>: <span class="hljs-keyword">async</span> (svg) =&gt; {
    <span class="hljs-comment">// æ‰§è¡Œå¼‚æ­¥æ“ä½œ</span>
    <span class="hljs-keyword">const</span> processed = <span class="hljs-keyword">await</span> <span class="hljs-title function_">someAsyncOperation</span>(svg);
    <span class="hljs-keyword">return</span> processed;
  }
});
</code></pre>
<h2 data-id="heading-5">ä¼˜åŒ–æ•ˆæœå¯¹æ¯”</h2>
<p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªå®é™…çš„ä¼˜åŒ–æ¡ˆä¾‹ï¼š</p>
<p><strong>ä¼˜åŒ–å‰</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"12"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"12"</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 12 12"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"none"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">g</span> <span class="hljs-attr">opacity</span>=<span class="hljs-string">"0.6"</span> <span class="hljs-attr">clip-path</span>=<span class="hljs-string">"url(#clip0_144244_67656)"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"6"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"6"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"5"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"#333"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"stroke:#333;stroke-opacity:1;"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M6 3.5V6L7.25 7.25"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"#333"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"stroke:#333;stroke-opacity:1;"</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">g</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">defs</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">clipPath</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"clip0_144244_67656"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">rect</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"12"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"12"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"#333"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"fill:#333;fill-opacity:1;"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">clipPath</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">defs</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>

</code></pre>
<p><strong>ä¼˜åŒ–å</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 12 12"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span>
    <span class="hljs-attr">d</span>=<span class="hljs-string">"M5.660 0.521 C 4.899 0.566,4.190 0.760,3.500 1.111 C 2.479 1.630,1.630 2.479,1.111 3.500 C 0.702 4.303,0.516 5.086,0.516 6.000 C 0.516 6.748,0.635 7.374,0.904 8.050 C 1.386 9.261,2.332 10.295,3.500 10.889 C 4.085 11.187,4.680 11.369,5.332 11.451 C 5.675 11.494,6.325 11.494,6.668 11.451 C 8.173 11.262,9.516 10.479,10.410 9.270 C 10.792 8.753,11.059 8.227,11.248 7.620 C 11.517 6.754,11.562 5.741,11.369 4.842 C 11.027 3.241,9.959 1.853,8.500 1.111 C 7.617 0.662,6.653 0.461,5.660 0.521 M6.720 1.549 C 7.447 1.673,8.126 1.965,8.720 2.408 C 8.964 2.590,9.410 3.036,9.592 3.280 C 10.040 3.880,10.330 4.559,10.454 5.298 C 10.505 5.599,10.505 6.401,10.454 6.702 C 10.330 7.441,10.040 8.120,9.592 8.720 C 9.410 8.964,8.964 9.410,8.720 9.592 C 8.120 10.040,7.441 10.330,6.702 10.454 C 6.401 10.505,5.599 10.505,5.298 10.454 C 4.559 10.330,3.880 10.040,3.280 9.592 C 3.035 9.410,2.589 8.963,2.408 8.720 C 1.955 8.111,1.671 7.445,1.546 6.702 C 1.495 6.401,1.495 5.599,1.546 5.298 C 1.671 4.556,1.955 3.891,2.408 3.280 C 2.588 3.036,3.036 2.588,3.280 2.408 C 3.968 1.898,4.680 1.618,5.560 1.512 C 5.729 1.492,6.537 1.517,6.720 1.549 M5.500 4.845 L 5.500 6.190 6.200 6.890 L 6.900 7.590 7.245 7.245 L 7.590 6.900 7.045 6.355 L 6.500 5.810 6.500 4.655 L 6.500 3.500 6.000 3.500 L 5.500 3.500 5.500 4.845"</span>
    <span class="hljs-attr">fill-rule</span>=<span class="hljs-string">"evenodd"</span>
  /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>

</code></pre>
<p>ä¸»è¦æ”¹è¿›åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ç§»é™¤å†—ä½™æ ‡ç­¾</strong>ï¼šå»é™¤äº†ä¸å¿…è¦çš„ <code>&lt;defs&gt;</code>ã€<code>&lt;g&gt;</code>ã€<code>&lt;clipPath&gt;</code> ç­‰å®¹å™¨å…ƒç´ </li>
<li><strong>é¢œè‰²å±æ€§ç§»é™¤</strong>ï¼šåˆ é™¤å›ºå®šçš„ <code>fill</code> å±æ€§ï¼Œå›¾æ ‡å°†ç»§æ‰¿çˆ¶å…ƒç´ çš„ <code>color</code>ï¼Œå¯ä»¥é€šè¿‡ CSS çµæ´»æ§åˆ¶</li>
<li><strong>è·¯å¾„åˆå¹¶</strong>ï¼šå¤šä¸ªå­å…ƒç´ è¢«æ™ºèƒ½åˆå¹¶ä¸ºå•ä¸€è·¯å¾„</li>
</ul>
<h2 data-id="heading-6">å®è·µåœºæ™¯</h2>
<h3 data-id="heading-7">é›†æˆåˆ°å¼€å‘æµç¨‹</h3>
<p>åœ¨ <code>package.json</code> ä¸­æ·»åŠ è„šæœ¬å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"optimize-icons"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"svgfmt raw-icons/**/*.svg -o src/assets/icons"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npm run optimize-icons &amp;&amp; vite build"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿™æ ·åœ¨æ¯æ¬¡æ„å»ºå‰éƒ½ä¼šè‡ªåŠ¨ä¼˜åŒ–å›¾æ ‡æ–‡ä»¶ã€‚</p>
<h3 data-id="heading-8">é…åˆæ„å»ºå·¥å…·ä½¿ç”¨</h3>
<p>åœ¨æ„å»ºè„šæœ¬ä¸­ä½¿ç”¨ç¼–ç¨‹ APIï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { formatPattern } <span class="hljs-keyword">from</span> <span class="hljs-string">'@svgfmt/cli'</span>;

<span class="hljs-comment">// åœ¨æ„å»ºæ—¶è‡ªåŠ¨ä¼˜åŒ–å›¾æ ‡</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">buildIcons</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> summary = <span class="hljs-keyword">await</span> <span class="hljs-title function_">formatPattern</span>(<span class="hljs-string">'icons/**/*.svg'</span>, {
    <span class="hljs-attr">output</span>: <span class="hljs-string">'dist/icons'</span>
  });

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ä¼˜åŒ–å®Œæˆ: <span class="hljs-subst">${summary.success}</span>/<span class="hljs-subst">${summary.total}</span>`</span>);
  
  <span class="hljs-comment">// æ£€æŸ¥å•ä¸ªæ–‡ä»¶ç»“æœ</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> result <span class="hljs-keyword">of</span> summary.<span class="hljs-property">results</span>) {
    <span class="hljs-keyword">if</span> (result.<span class="hljs-property">success</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`âœ“ <span class="hljs-subst">${result.input}</span> â†’ <span class="hljs-subst">${result.output}</span>`</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`âœ— <span class="hljs-subst">${result.input}</span>: <span class="hljs-subst">${result.error}</span>`</span>);
    }
  }
}

<span class="hljs-title function_">buildIcons</span>();
</code></pre>
<h3 data-id="heading-9">è‡ªå®šä¹‰è½¬æ¢ç¤ºä¾‹</h3>
<p>åˆ›å»ºä¸€ä¸ªè½¬æ¢æ–‡ä»¶ <code>transform.js</code>ï¼Œä¸ºæ‰€æœ‰ SVG æ·»åŠ ç»Ÿä¸€å±æ€§ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">svg</span>) {
  <span class="hljs-keyword">return</span> svg
    .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&lt;svg/</span>, <span class="hljs-string">'&lt;svg class="icon"'</span>)
    .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/viewBox/</span>, <span class="hljs-string">'preserveAspectRatio="xMidYMid meet" viewBox'</span>);
}
</code></pre>
<p>ç„¶ååœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">svgfmt icons/*.svg --transform ./transform.js -o dist/icons
</code></pre>
<h2 data-id="heading-10">æ³¨æ„äº‹é¡¹</h2>
<p>åœ¨ä½¿ç”¨ svgfmt æ—¶ï¼Œæœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š</p>
<ol>
<li>
<p><strong>ä»…æ”¯æŒå•è‰²å›¾æ ‡</strong>ï¼šè¯¥å·¥å…·ä¸“ä¸ºå•è‰²å›¾æ ‡è®¾è®¡ã€‚å¤šè‰² SVG åœ¨è·¯å¾„è¿½è¸ªè¿‡ç¨‹ä¸­ä¼šè¢«è½¬æ¢ä¸ºå•è‰²ï¼Œå› ä¸ºå·¥å…·ä¼šå°† SVG è½¬æ¢ä¸º PNG å†è½¬å› SVGï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šä¸¢å¤±é¢œè‰²ä¿¡æ¯ã€‚</p>
</li>
<li>
<p><strong>è·¯å¾„ç²¾åº¦é…ç½®</strong>ï¼š<code>traceResolution</code> å‚æ•°æ§åˆ¶è·¯å¾„è¿½è¸ªçš„ç²¾åº¦ï¼Œé»˜è®¤å€¼ä¸º 600ã€‚æé«˜è¯¥å€¼å¯ä»¥è·å¾—æ›´ç²¾ç»†çš„è·¯å¾„ï¼Œä½†ä¼šå¢åŠ å¤„ç†æ—¶é—´ã€‚å»ºè®®çš„å–å€¼èŒƒå›´æ˜¯ 600-1200ã€‚</p>
</li>
<li>
<p><strong>æ–‡ä»¶è¦†ç›–æé†’</strong>ï¼šä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·æ—¶ï¼Œé»˜è®¤ä¼šè¦†ç›–åŸæ–‡ä»¶ã€‚å»ºè®®åœ¨å¤„ç†å‰å…ˆå¤‡ä»½åŸå§‹æ–‡ä»¶ï¼Œæˆ–ä½¿ç”¨ <code>-o</code> å‚æ•°æŒ‡å®šè¾“å‡ºç›®å½•ã€‚</p>
</li>
<li>
<p><strong>å¤æ‚å›¾å½¢æ£€æŸ¥</strong>ï¼šå¯¹äºå¤æ‚çš„å¤šè‰²æ’å›¾æˆ–æ¸å˜æ•ˆæœçš„ SVGï¼Œå»ºè®®åœ¨ä¼˜åŒ–åæ‰‹åŠ¨æ£€æŸ¥ç»“æœï¼Œç¡®ä¿è§†è§‰æ•ˆæœç¬¦åˆé¢„æœŸã€‚</p>
</li>
<li>
<p><strong>å·¥å…·ç»„åˆ</strong>ï¼šsvgfmt å¯ä»¥ä¸å…¶ä»– SVG å·¥å…·é…åˆä½¿ç”¨ï¼Œå¦‚ SVGOï¼ˆè¿›ä¸€æ­¥ä¼˜åŒ–ï¼‰ã€svgrï¼ˆè½¬æ¢ä¸º React ç»„ä»¶ï¼‰ç­‰ï¼Œæ„å»ºå®Œæ•´çš„ SVG å¤„ç†æµç¨‹ã€‚</p>
</li>
</ol>
<h2 data-id="heading-11">æ€»ç»“</h2>
<p>svgfmt é€šè¿‡è‡ªåŠ¨åŒ–çš„æ–¹å¼è§£å†³äº† SVG å›¾æ ‡åœ¨å®é™…ä½¿ç”¨ä¸­çš„å¸¸è§é—®é¢˜ï¼Œè®©å›¾æ ‡æ–‡ä»¶æ›´è½»é‡ã€æ›´æ˜“ç»´æŠ¤ã€‚æ— è®ºæ˜¯é€šè¿‡å‘½ä»¤è¡Œå¿«é€Ÿå¤„ç†ä¸€æ‰¹å›¾æ ‡ï¼Œè¿˜æ˜¯å°†å…¶é›†æˆåˆ°æ„å»ºæµç¨‹ä¸­å®ç°è‡ªåŠ¨åŒ–ä¼˜åŒ–ï¼Œsvgfmt éƒ½èƒ½æ˜¾è‘—æå‡å¼€å‘æ•ˆç‡ã€‚</p>
<p>é¡¹ç›®å·²åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmoecasts%2Fsvgfmt" target="_blank" title="https://github.com/moecasts/svgfmt" ref="nofollow noopener noreferrer">GitHub</a> å¼€æºï¼ŒåŒ…å«å®Œæ•´çš„æ–‡æ¡£å’Œç¤ºä¾‹ã€‚å¦‚æœä½ åœ¨é¡¹ç›®ä¸­é‡åˆ° SVG å›¾æ ‡ç®¡ç†çš„é—®é¢˜ï¼Œä¸å¦¨è¯•è¯• svgfmtï¼Œæ¬¢è¿ä½¿ç”¨å’Œè´¡çŒ®ä»£ç ã€‚</p>
<h2 data-id="heading-12">é¸£è°¢</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Foslllo%2Fsvg-fixer" target="_blank" title="https://github.com/oslllo/svg-fixer" ref="nofollow noopener noreferrer">oslllo/svg-fixer</a></li>
</ul>
<h2 data-id="heading-13">åšå®¢æ–‡ç« </h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.tore.moe%2Fposts%2Fsvgfmt-instruction" target="_blank" title="https://www.tore.moe/posts/svgfmt-instruction" ref="nofollow noopener noreferrer">ä½¿ç”¨ svgfmt ä¼˜åŒ– SVG å›¾æ ‡</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[8.Kotlin ç±»ï¼šç±»çš„åŸºç¡€ï¼šä¸»æ„é€ å‡½æ•°ä¸æ¬¡æ„é€ å‡½æ•°]]></title>    <link>https://juejin.cn/post/7576175307352522767</link>    <guid>https://juejin.cn/post/7576175307352522767</guid>    <pubDate>2025-11-24T09:12:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576175307352522767" data-draft-id="7576175307352506383" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="8.Kotlin ç±»ï¼šç±»çš„åŸºç¡€ï¼šä¸»æ„é€ å‡½æ•°ä¸æ¬¡æ„é€ å‡½æ•°"/> <meta itemprop="keywords" content="Android,Kotlin,åç«¯"/> <meta itemprop="datePublished" content="2025-11-24T09:12:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Android_å°é›¨"/> <meta itemprop="url" content="https://juejin.cn/user/220360279590862"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            8.Kotlin ç±»ï¼šç±»çš„åŸºç¡€ï¼šä¸»æ„é€ å‡½æ•°ä¸æ¬¡æ„é€ å‡½æ•°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/220360279590862/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Android_å°é›¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T09:12:06.000Z" title="Mon Nov 24 2025 09:12:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><blockquote>
<p>å¸Œæœ›å¸®ä½ åœ¨Kotlinè¿›é˜¶è·¯ä¸Šå°‘èµ°å¼¯è·¯ï¼Œåœ¨æŠ€æœ¯ä¸Šç¨³æ­¥æå‡ã€‚å½“ç„¶ï¼Œç”±äºä¸ªäººçŸ¥è¯†å‚¨å¤‡æœ‰é™ï¼Œç¬”è®°ä¸­éš¾å…å­˜åœ¨ç–æ¼æˆ–è¡¨è¿°ä¸å½“çš„åœ°æ–¹ï¼Œä¹Ÿéå¸¸æ¬¢è¿å¤§å®¶æå‡ºå®è´µæ„è§ï¼Œä¸€èµ·äº¤æµè¿›æ­¥ã€‚ â€”â€” Android_å°é›¨</p>
</blockquote>
<p>æ•´ä½“ç›®å½•ï¼š<a href="https://juejin.cn/spost/7573592952242602036" target="_blank" title="https://juejin.cn/spost/7573592952242602036">Kotlin è¿›é˜¶ä¸è¿·è·¯ï¼š41 ä¸ªæ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œæ„å»ºå®Œæ•´çŸ¥è¯†ä½“ç³»</a></p>
<h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<h3 data-id="heading-1">1.1 ç±»ä¸æ„é€ å‡½æ•°çš„æ ¸å¿ƒä½œç”¨</h3>
<p>åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä½“ç³»ä¸­ï¼Œ<strong>ç±»</strong>æ˜¯å¯¹ä¸€ç±»äº‹ç‰©å…±åŒå±æ€§å’Œè¡Œä¸ºçš„æŠ½è±¡æè¿°ï¼Œç›¸å½“äºåˆ›å»ºå¯¹è±¡çš„â€œæ¨¡æ¿â€ã€‚ä¾‹å¦‚â€œPersonâ€ç±»å¯æŠ½è±¡äººç±»çš„â€œå§“åã€å¹´é¾„â€ç­‰å±æ€§å’Œâ€œè¯´è¯ã€è¡Œèµ°â€ç­‰è¡Œä¸ºã€‚è€Œ<strong>å¯¹è±¡</strong>åˆ™æ˜¯ç±»çš„å…·ä½“å®ä¾‹ï¼Œæ˜¯æ¨¡æ¿çš„â€œå®ä½“åŒ–äº§ç‰©â€ï¼Œæ¯”å¦‚é€šè¿‡â€œPersonâ€ç±»åˆ›å»ºçš„â€œå¼ ä¸‰â€â€œæå››â€ã€‚</p>
<p>æ„é€ å‡½æ•°ä½œä¸ºç±»çš„ç‰¹æ®Šæˆå‘˜ï¼Œæ ¸å¿ƒèŒè´£æ˜¯<strong>åˆå§‹åŒ–å¯¹è±¡</strong>â€”â€”åœ¨åˆ›å»ºå¯¹è±¡æ—¶ä¸ºå±æ€§èµ‹å€¼ã€æ‰§è¡Œå¿…è¦çš„åˆå§‹åŒ–é€»è¾‘ï¼ˆå¦‚å‚æ•°æ ¡éªŒã€èµ„æºåŠ è½½ï¼‰ï¼Œç¡®ä¿å¯¹è±¡åˆ›å»ºåå¤„äºå¯ç”¨çŠ¶æ€ã€‚æ²¡æœ‰æ„é€ å‡½æ•°ï¼Œå¯¹è±¡çš„å±æ€§å¯èƒ½å¤„äºæœªå®šä¹‰çš„æ— æ•ˆçŠ¶æ€ï¼Œæ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-2">1.2 Kotlin æ„é€ å‡½æ•°çš„ç‰¹ç‚¹</h3>
<p>ç›¸è¾ƒäº Java ç­‰ä¼ ç»Ÿé¢å‘å¯¹è±¡è¯­è¨€ï¼ŒKotlin æ„é€ å‡½æ•°è®¾è®¡æ›´ç®€æ´ã€çµæ´»ï¼Œæ ¸å¿ƒç‰¹ç‚¹ä½“ç°åœ¨ä¸¤æ–¹é¢ï¼š</p>
<ul>
<li><strong>è¯­æ³•æè‡´ç®€æ´</strong>ï¼šæ”¯æŒåœ¨ç±»ååç›´æ¥å®šä¹‰ä¸»æ„é€ å‡½æ•°ï¼Œæ— éœ€å•ç‹¬ç¼–å†™å‡½æ•°ä½“ï¼›å¯é€šè¿‡â€œval/varâ€å…³é”®å­—å°†æ„é€ å‚æ•°ç›´æ¥å£°æ˜ä¸ºç±»å±æ€§ï¼Œçœå»æ‰‹åŠ¨å®šä¹‰å±æ€§å’Œèµ‹å€¼çš„å†—ä½™ä»£ç ã€‚</li>
<li><strong>ä¸»/æ¬¡æ„é€ åˆ†ç¦»</strong>ï¼šå°†æ„é€ å‡½æ•°åˆ†ä¸ºâ€œä¸»æ„é€ å‡½æ•°â€å’Œâ€œæ¬¡æ„é€ å‡½æ•°â€ï¼Œä¸»æ„é€ æ‰¿æ‹…æ ¸å¿ƒåˆå§‹åŒ–é€»è¾‘ï¼Œæ¬¡æ„é€ ä½œä¸ºè¾…åŠ©è¡¥å……ï¼Œé€‚é…å¤šæ ·åŒ–å®ä¾‹åŒ–åœºæ™¯ï¼ŒåŒæ—¶é€šè¿‡å§”æ‰˜æœºåˆ¶ä¿è¯åˆå§‹åŒ–é€»è¾‘ç»Ÿä¸€ã€‚</li>
</ul>
<h3 data-id="heading-3">1.3 æœ¬æ–‡æ ¸å¿ƒå†…å®¹é¢„å‘Š</h3>
<p>æœ¬æ–‡å°†éµå¾ªâ€œåŸºç¡€è®¤çŸ¥â†’æ ¸å¿ƒè¯¦è§£â†’å…³è”åˆ†æâ†’å®è·µåº”ç”¨â†’æ€»ç»“å»ºè®®â€çš„é€»è¾‘å±•å¼€ï¼šé¦–å…ˆè§£æä¸»æ„é€ å‡½æ•°çš„è¯­æ³•ã€åˆå§‹åŒ–æ–¹å¼åŠå®ä¾‹ï¼›æ¥ç€è®²è§£æ¬¡æ„é€ å‡½æ•°çš„å®šä¹‰è§„åˆ™ã€é€‚ç”¨åœºæ™¯åŠç¤ºä¾‹ï¼›ç„¶åæ·±å…¥åˆ†æä¸»/æ¬¡æ„é€ å‡½æ•°çš„å§”æ‰˜å…³ç³»ã€åˆå§‹åŒ–é¡ºåºå’Œå‚æ•°ä¼ é€’é€»è¾‘ï¼›å†ç»“åˆå®é™…å¼€å‘åœºæ™¯è¯´æ˜ä¸¤è€…çš„åº”ç”¨åœºæ™¯ï¼›æœ€åæ€»ç»“æ ¸å¿ƒçŸ¥è¯†ç‚¹ã€é¿å‘è¦ç‚¹åŠé€‰æ‹©æŠ€å·§ï¼Œå¸®åŠ©è¯»è€…é«˜æ•ˆæŒæ¡ Kotlin æ„é€ å‡½æ•°çš„ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-4">äºŒã€ä¸»æ„é€ å‡½æ•°ï¼šç±»çš„æ ¸å¿ƒåˆå§‹åŒ–å…¥å£</h2>
<p>ä¸»æ„é€ å‡½æ•°æ˜¯ Kotlin ç±»çš„â€œé»˜è®¤åˆå§‹åŒ–å…¥å£â€ï¼Œæ‰¿æ‹…ç±»çš„æ ¸å¿ƒåˆå§‹åŒ–é€»è¾‘ï¼Œæ˜¯æœ€å¸¸ç”¨çš„æ„é€ å‡½æ•°ç±»å‹ï¼Œå…¶è®¾è®¡åˆè¡·æ˜¯ç®€åŒ–å¸¸è§„åœºæ™¯ä¸‹çš„å¯¹è±¡åˆ›å»ºæµç¨‹ã€‚</p>
<h3 data-id="heading-5">2.1 åŸºæœ¬è¯­æ³•</h3>
<p>Kotlin ä¸»æ„é€ å‡½æ•°çš„è¯­æ³•æä¸ºç®€æ´ï¼Œç›´æ¥åœ¨ç±»ååé€šè¿‡â€œ()â€å®šä¹‰å‚æ•°åˆ—è¡¨ï¼Œæ— éœ€åƒ Java é‚£æ ·å•ç‹¬ç¼–å†™æ„é€ æ–¹æ³•ä½“ã€‚åŸºæœ¬è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// åŸºç¡€è¯­æ³•ï¼šç±»ååç´§è·Ÿä¸»æ„é€ å‚æ•°åˆ—è¡¨</span>
<span class="hljs-keyword">class</span> ç±»å(å‚æ•°<span class="hljs-number">1</span>: ç±»å‹<span class="hljs-number">1</span>, å‚æ•°<span class="hljs-number">2</span>: ç±»å‹<span class="hljs-number">2</span>, ...) {
    <span class="hljs-comment">// ç±»ä½“ï¼šåŒ…å«å±æ€§ã€æ–¹æ³•ã€åˆå§‹åŒ–å—ç­‰</span>
}

<span class="hljs-comment">// å«è®¿é—®ä¿®é¥°ç¬¦çš„è¯­æ³•ï¼ˆå¦‚ç§æœ‰ä¸»æ„é€ ï¼‰</span>
<span class="hljs-keyword">class</span> ç±»å <span class="hljs-keyword">private</span> <span class="hljs-keyword">constructor</span>(å‚æ•°<span class="hljs-number">1</span>: ç±»å‹<span class="hljs-number">1</span>, å‚æ•°<span class="hljs-number">2</span>: ç±»å‹<span class="hljs-number">2</span>) {
    <span class="hljs-comment">// ç±»ä½“</span>
}

</code></pre>
<p>è¯­æ³•è¯´æ˜ï¼š</p>
<ul>
<li>å‚æ•°åˆ—è¡¨æ ¼å¼ä¸ºâ€œå‚æ•°å: ç±»å‹â€ï¼Œå¤šä¸ªå‚æ•°ç”¨é€—å·åˆ†éš”ï¼Œç”¨äºæ¥æ”¶å¯¹è±¡åˆ›å»ºæ—¶ä¼ å…¥çš„åˆå§‹åŒ–æ•°æ®ï¼›</li>
<li>è‹¥ç±»ä½“æ— é€»è¾‘ï¼ŒèŠ±æ‹¬å·å¯çœç•¥ï¼Œå¦‚â€œclass Person(name: String, age: Int)â€ï¼›</li>
<li>å½“ä¸»æ„é€ éœ€è¦æ·»åŠ è®¿é—®ä¿®é¥°ç¬¦ï¼ˆå¦‚ privateï¼‰æ—¶ï¼Œå¿…é¡»æ˜¾å¼æ·»åŠ â€œconstructorâ€å…³é”®å­—ï¼Œå¦åˆ™é»˜è®¤å…¬å¼€ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼šå®šä¹‰â€œPersonâ€ç±»ï¼Œä¸»æ„é€ æ¥æ”¶â€œå§“åâ€å’Œâ€œå¹´é¾„â€å‚æ•°ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ç®€å•ä¸»æ„é€ å‡½æ•°ç¤ºä¾‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>(name: String, age: <span class="hljs-built_in">Int</span>) {
    <span class="hljs-comment">// ç±»ä½“å¯åç»­æ·»åŠ å±æ€§å’Œæ–¹æ³•</span>
}

</code></pre>
<h3 data-id="heading-6">2.2 ç®€æ´åˆå§‹åŒ–</h3>
<p>ä¸»æ„é€ å‡½æ•°çš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯â€œç®€æ´åˆå§‹åŒ–â€ï¼Œé€šè¿‡â€œval/varâ€ä¿®é¥°å‚æ•°å¯ç›´æ¥å°†å…¶å£°æ˜ä¸ºç±»æˆå‘˜å±æ€§ï¼ŒåŒæ—¶æ”¯æŒä¸ºå‚æ•°è®¾ç½®é»˜è®¤å€¼å®ç°â€œå¯é€‰å‚æ•°â€ï¼Œå¤§å¹…ç®€åŒ–ä»£ç ã€‚</p>
<h4 data-id="heading-7">2.2.1 ç›´æ¥å£°æ˜å±æ€§</h4>
<p>è‹¥æ„é€ å‚æ•°éœ€è¦ä½œä¸ºç±»çš„å±æ€§è¢«å¤–éƒ¨è®¿é—®æˆ–å†…éƒ¨ä½¿ç”¨ï¼Œåªéœ€åœ¨å‚æ•°å‰æ·»åŠ â€œvalâ€ï¼ˆåªè¯»å±æ€§ï¼‰æˆ–â€œvarâ€ï¼ˆå¯è¯»å†™å±æ€§ï¼‰ï¼ŒKotlin ä¼šè‡ªåŠ¨å®Œæˆå±æ€§å®šä¹‰å’Œèµ‹å€¼ã€‚ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä¸»æ„é€ å‚æ•°ç›´æ¥å£°æ˜ä¸ºç±»å±æ€§</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>(<span class="hljs-keyword">val</span> name: String, <span class="hljs-keyword">var</span> age: <span class="hljs-built_in">Int</span>) {
    <span class="hljs-comment">// ç±»æ–¹æ³•ä½¿ç”¨å±æ€§</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">introduce</span><span class="hljs-params">()</span></span> {
        println(<span class="hljs-string">"æˆ‘å«<span class="hljs-variable">$name</span>ï¼Œä»Šå¹´<span class="hljs-variable">$age</span> å²"</span>)
    }
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// åˆ›å»ºå¯¹è±¡æ—¶ç›´æ¥ä¼ å…¥å‚æ•°åˆå§‹åŒ–å±æ€§</span>
    <span class="hljs-keyword">val</span> zhangsan = Person(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">25</span>)
    println(zhangsan.name) <span class="hljs-comment">// è¾“å‡ºï¼šå¼ ä¸‰ï¼ˆvalä¿®é¥°ï¼Œåªè¯»ï¼‰</span>
    zhangsan.age = <span class="hljs-number">26</span> <span class="hljs-comment">// varä¿®é¥°ï¼Œå¯ä¿®æ”¹</span>
    zhangsan.introduce() <span class="hljs-comment">// è¾“å‡ºï¼šæˆ‘å«å¼ ä¸‰ï¼Œä»Šå¹´26 å²</span>
}

</code></pre>
<p>è§£æï¼šé€šè¿‡â€œval nameâ€å’Œâ€œvar ageâ€å°†æ„é€ å‚æ•°ç›´æ¥å£°æ˜ä¸ºå±æ€§ï¼Œåˆ›å»ºå¯¹è±¡æ—¶ä¼ å…¥çš„å‚æ•°ä¼šè‡ªåŠ¨èµ‹å€¼ç»™å±æ€§ï¼Œæ— éœ€åƒ Java é‚£æ ·å•ç‹¬å®šä¹‰â€œprivate String nameâ€å†é€šè¿‡æ„é€ å‡½æ•°èµ‹å€¼ï¼Œä»£ç ç²¾ç®€æ•ˆæœæ˜¾è‘—ã€‚</p>
<h4 data-id="heading-8">2.2.2 è®¾ç½®é»˜è®¤å€¼</h4>
<p>ä¸ºæ„é€ å‚æ•°è®¾ç½®é»˜è®¤å€¼åï¼Œåˆ›å»ºå¯¹è±¡æ—¶å¯é€‰æ‹©æ€§ä¼ å…¥è¯¥å‚æ•°ï¼ˆä¼ å…¥åˆ™è¦†ç›–é»˜è®¤å€¼ï¼Œä¸ä¼ å…¥åˆ™ä½¿ç”¨é»˜è®¤å€¼ï¼‰ï¼Œå®ç°â€œæŒ‰éœ€åˆå§‹åŒ–â€ã€‚è¯­æ³•æ ¼å¼ä¸ºâ€œå‚æ•°å: ç±»å‹ = é»˜è®¤å€¼â€ï¼Œç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä¸»æ„é€ å‚æ•°è®¾ç½®é»˜è®¤å€¼</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>(<span class="hljs-keyword">val</span> name: String, <span class="hljs-keyword">var</span> age: <span class="hljs-built_in">Int</span> = <span class="hljs-number">18</span>) {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">introduce</span><span class="hljs-params">()</span></span> {
        println(<span class="hljs-string">"æˆ‘å«<span class="hljs-variable">$name</span>ï¼Œä»Šå¹´<span class="hljs-variable">$age</span> å²"</span>)
    }
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// 1. ä¼ å…¥æ‰€æœ‰å‚æ•°ï¼ˆè¦†ç›–é»˜è®¤å€¼ï¼‰</span>
    <span class="hljs-keyword">val</span> zhangsan = Person(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">25</span>)
    zhangsan.introduce() <span class="hljs-comment">// è¾“å‡ºï¼šæˆ‘å«å¼ ä¸‰ï¼Œä»Šå¹´25 å²</span>

    <span class="hljs-comment">// 2. åªä¼ å…¥æ— é»˜è®¤å€¼çš„å‚æ•°ï¼ˆä½¿ç”¨ageé»˜è®¤å€¼18ï¼‰</span>
    <span class="hljs-keyword">val</span> lisi = Person(<span class="hljs-string">"æå››"</span>)
    lisi.introduce() <span class="hljs-comment">// è¾“å‡ºï¼šæˆ‘å«æå››ï¼Œä»Šå¹´18 å²</span>

    <span class="hljs-comment">// 3. æŒ‰å‚æ•°åä¼ å…¥ï¼Œçµæ´»è°ƒæ•´é¡ºåº</span>
    <span class="hljs-keyword">val</span> wangwu = Person(age = <span class="hljs-number">30</span>, name = <span class="hljs-string">"ç‹äº”"</span>)
    wangwu.introduce() <span class="hljs-comment">// è¾“å‡ºï¼šæˆ‘å«ç‹äº”ï¼Œä»Šå¹´30 å²</span>
}

</code></pre>
<p>è§£æï¼šâ€œageâ€å‚æ•°é»˜è®¤å€¼ä¸º 18ï¼Œåˆ›å»ºå¯¹è±¡æ—¶å¯ä¼ å¯ä¸ä¼ ï¼›æŒ‰å‚æ•°åä¼ å…¥æ—¶å¯æ‰“ç ´å‚æ•°é¡ºåºé™åˆ¶ï¼Œå°¤å…¶é€‚åˆå‚æ•°è¾ƒå¤šçš„åœºæ™¯ï¼Œæå‡ä»£ç å¯è¯»æ€§ã€‚</p>
<h3 data-id="heading-9">2.3 åˆå§‹åŒ–å—</h3>
<p>ä¸»æ„é€ å‡½æ•°æœ¬èº«æ²¡æœ‰å‡½æ•°ä½“ï¼Œæ— æ³•ç¼–å†™å¤æ‚åˆå§‹åŒ–é€»è¾‘ï¼ˆå¦‚å‚æ•°æ ¡éªŒã€æ•°æ®è½¬æ¢ã€èµ„æºåŠ è½½ï¼‰ã€‚Kotlin æä¾›**åˆå§‹åŒ–å—ï¼ˆInitializer Blockï¼‰**è§£å†³è¿™ä¸€é—®é¢˜ï¼Œé€šè¿‡â€œinitâ€å…³é”®å­—å®šä¹‰ï¼Œç”¨äºè¡¥å……ä¸»æ„é€ å‡½æ•°çš„åˆå§‹åŒ–é€»è¾‘ã€‚</p>
<h4 data-id="heading-10">2.3.1 åŸºæœ¬è¯­æ³•ä¸æ‰§è¡Œæ—¶æœº</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> ç±»å(å‚æ•°åˆ—è¡¨) {
    <span class="hljs-comment">// åˆå§‹åŒ–å—ï¼šè¡¥å……åˆå§‹åŒ–é€»è¾‘</span>
    <span class="hljs-keyword">init</span> {
        <span class="hljs-comment">// åˆå§‹åŒ–ä»£ç ï¼ˆå‚æ•°æ ¡éªŒã€æ•°æ®è½¬æ¢ç­‰ï¼‰</span>
    }

    <span class="hljs-comment">// å¤šä¸ªåˆå§‹åŒ–å—æŒ‰é¡ºåºæ‰§è¡Œ</span>
    <span class="hljs-keyword">init</span> {
        <span class="hljs-comment">// ç¬¬äºŒä¸ªåˆå§‹åŒ–å—é€»è¾‘</span>
    }
}

</code></pre>
<p>æ‰§è¡Œæ—¶æœºï¼š<strong>åˆ›å»ºå¯¹è±¡æ—¶ï¼Œåˆå§‹åŒ–å—ä¼šåœ¨ä¸»æ„é€ å‚æ•°åˆå§‹åŒ–åç«‹å³æ‰§è¡Œ</strong>ï¼›è‹¥æœ‰å¤šä¸ªåˆå§‹åŒ–å—ï¼ŒæŒ‰ä»£ç å®šä¹‰é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚</p>
<h4 data-id="heading-11">2.3.2 å®ç”¨ç¤ºä¾‹</h4>
<p>ç¤ºä¾‹ 1ï¼šå‚æ•°æ ¡éªŒï¼ˆç¡®ä¿å¯¹è±¡åˆ›å»ºçš„åˆæ³•æ€§ï¼‰</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>(<span class="hljs-keyword">val</span> name: String, <span class="hljs-keyword">var</span> age: <span class="hljs-built_in">Int</span>) {
    <span class="hljs-comment">// åˆå§‹åŒ–å—ï¼šæ ¡éªŒå‚æ•°åˆæ³•æ€§</span>
    <span class="hljs-keyword">init</span> {
        require(name.isNotBlank()) { <span class="hljs-string">"å§“åä¸èƒ½ä¸ºç©ºï¼"</span> } <span class="hljs-comment">// éç©ºæ ¡éªŒ</span>
        require(age <span class="hljs-keyword">in</span> <span class="hljs-number">0.</span><span class="hljs-number">.150</span>) { <span class="hljs-string">"å¹´é¾„å¿…é¡»åœ¨0-150ä¹‹é—´ï¼"</span> } <span class="hljs-comment">// èŒƒå›´æ ¡éªŒ</span>
        println(<span class="hljs-string">"Personå¯¹è±¡åˆå§‹åŒ–å®Œæˆï¼šname=<span class="hljs-variable">$name</span>, age=<span class="hljs-variable">$age</span>"</span>)
    }
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// åˆæ³•å‚æ•°ï¼šæ­£å¸¸åˆå§‹åŒ–</span>
    <span class="hljs-keyword">val</span> zhangsan = Person(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">25</span>) <span class="hljs-comment">// è¾“å‡ºï¼šPersonå¯¹è±¡åˆå§‹åŒ–å®Œæˆï¼šname=å¼ ä¸‰, age=25</span>

    <span class="hljs-comment">// éæ³•å‚æ•°ï¼šæŠ›å‡ºå¼‚å¸¸</span>
    <span class="hljs-comment">// val lisi = Person("", 20) // æŠ›å‡ºIllegalArgumentException: å§“åä¸èƒ½ä¸ºç©ºï¼</span>
    <span class="hljs-comment">// val wangwu = Person("ç‹äº”", 200) // æŠ›å‡ºIllegalArgumentException: å¹´é¾„å¿…é¡»åœ¨0-150ä¹‹é—´ï¼</span>
}

</code></pre>
<p>ç¤ºä¾‹ 2ï¼šæ•°æ®è½¬æ¢ï¼ˆå¤„ç†å‚æ•°æ ¼å¼é€‚é…ï¼‰</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>(<span class="hljs-keyword">val</span> name: String, ageStr: String) {
    <span class="hljs-comment">// ç±»å±æ€§ï¼šå­˜å‚¨è½¬æ¢åçš„æ•´æ•°å¹´é¾„</span>
    <span class="hljs-keyword">val</span> age: <span class="hljs-built_in">Int</span>

    <span class="hljs-comment">// åˆå§‹åŒ–å—ï¼šå°†å­—ç¬¦ä¸²å¹´é¾„è½¬æ¢ä¸ºæ•´æ•°</span>
    <span class="hljs-keyword">init</span> {
        require(name.isNotBlank()) { <span class="hljs-string">"å§“åä¸èƒ½ä¸ºç©ºï¼"</span> }
        <span class="hljs-comment">// è½¬æ¢å¤±è´¥åˆ™æŠ›å‡ºå¼‚å¸¸</span>
        age = ageStr.toIntOrNull() ?: <span class="hljs-keyword">throw</span> IllegalArgumentException(<span class="hljs-string">"å¹´é¾„å¿…é¡»æ˜¯æ•´æ•°ï¼"</span>)
        require(age <span class="hljs-keyword">in</span> <span class="hljs-number">0.</span><span class="hljs-number">.150</span>) { <span class="hljs-string">"å¹´é¾„å¿…é¡»åœ¨0-150ä¹‹é—´ï¼"</span> }
    }
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> zhangsan = Person(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"25"</span>)
    println(<span class="hljs-string">"<span class="hljs-subst">${zhangsan.name}</span> çš„å¹´é¾„æ˜¯ <span class="hljs-subst">${zhangsan.age}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šå¼ ä¸‰ çš„å¹´é¾„æ˜¯ 25</span>

    <span class="hljs-comment">// éæ³•å‚æ•°ï¼šæŠ›å‡ºå¼‚å¸¸</span>
    <span class="hljs-comment">// val lisi = Person("æå››", "abc") // æŠ›å‡ºIllegalArgumentException: å¹´é¾„å¿…é¡»æ˜¯æ•´æ•°ï¼</span>
}

</code></pre>
<p>è§£æï¼šä¸»æ„é€ å‚æ•°â€œageStrâ€æœªç”¨â€œval/varâ€ä¿®é¥°ï¼Œä»…ä½œä¸ºä¸´æ—¶å‚æ•°ï¼›åœ¨åˆå§‹åŒ–å—ä¸­å°†å…¶è½¬æ¢ä¸ºæ•´æ•°åèµ‹å€¼ç»™ç±»å±æ€§â€œageâ€ï¼Œå®ç°å‚æ•°æ ¼å¼é€‚é…ã€‚</p>
<h3 data-id="heading-12">2.4 ç®€å•ç¤ºä¾‹</h3>
<p>ç»¼åˆä»¥ä¸ŠçŸ¥è¯†ç‚¹ï¼Œé€šè¿‡â€œBookâ€ç±»å±•ç¤ºä¸»æ„é€ å‡½æ•°çš„å®Œæ•´ä½¿ç”¨æµç¨‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">/**
 * ä¹¦ç±ç±»ï¼šä¸»æ„é€ åŒ…å«æ ¸å¿ƒå±æ€§
 * titleï¼šä¹¦åï¼ˆåªè¯»ï¼Œå¿…å¡«ï¼‰
 * authorï¼šä½œè€…ï¼ˆåªè¯»ï¼Œå¿…å¡«ï¼‰
 * priceï¼šä»·æ ¼ï¼ˆå¯è¯»å†™ï¼Œé»˜è®¤39.9ï¼‰
 * categoryï¼šåˆ†ç±»ï¼ˆåªè¯»ï¼Œé»˜è®¤"æœªçŸ¥"ï¼‰
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Book</span>(
    <span class="hljs-keyword">val</span> title: String,
    <span class="hljs-keyword">val</span> author: String,
    <span class="hljs-keyword">var</span> price: <span class="hljs-built_in">Double</span> = <span class="hljs-number">39.9</span>,
    <span class="hljs-keyword">val</span> category: String = <span class="hljs-string">"æœªçŸ¥"</span>
) {
    <span class="hljs-comment">// åˆå§‹åŒ–å—1ï¼šå‚æ•°æ ¡éªŒ</span>
    <span class="hljs-keyword">init</span> {
        require(title.isNotBlank()) { <span class="hljs-string">"ä¹¦åä¸èƒ½ä¸ºç©ºï¼"</span> }
        require(author.isNotBlank()) { <span class="hljs-string">"ä½œè€…ä¸èƒ½ä¸ºç©ºï¼"</span> }
        require(price &gt; <span class="hljs-number">0</span>) { <span class="hljs-string">"ä»·æ ¼å¿…é¡»å¤§äº0ï¼"</span> }
    }

    <span class="hljs-comment">// åˆå§‹åŒ–å—2ï¼šæ‰“å°åˆå§‹åŒ–ä¿¡æ¯</span>
    <span class="hljs-keyword">init</span> {
        println(<span class="hljs-string">"ä¹¦ç±åˆå§‹åŒ–å®Œæˆï¼šã€Š<span class="hljs-variable">$title</span>ã€‹ï¼ˆ<span class="hljs-variable">$author</span>ï¼‰ï¼Œåˆ†ç±»ï¼š<span class="hljs-variable">$category</span>ï¼Œä»·æ ¼ï¼š<span class="hljs-variable">$price</span> å…ƒ"</span>)
    }

    <span class="hljs-comment">// ç±»æ–¹æ³•ï¼šä¿®æ”¹ä»·æ ¼</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updatePrice</span><span class="hljs-params">(newPrice: <span class="hljs-type">Double</span>)</span></span> {
        require(newPrice &gt; <span class="hljs-number">0</span>) { <span class="hljs-string">"æ–°ä»·æ ¼å¿…é¡»å¤§äº0ï¼"</span> }
        price = newPrice
        println(<span class="hljs-string">"ä»·æ ¼æ›´æ–°ä¸ºï¼š<span class="hljs-variable">$newPrice</span> å…ƒ"</span>)
    }
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// 1. ä¼ å…¥æ‰€æœ‰å‚æ•°</span>
    <span class="hljs-keyword">val</span> book1 = Book(<span class="hljs-string">"Kotlinä»å…¥é—¨åˆ°ç²¾é€š"</span>, <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">59.9</span>, <span class="hljs-string">"ç¼–ç¨‹"</span>)
    book1.updatePrice(<span class="hljs-number">49.9</span>) <span class="hljs-comment">// è¾“å‡ºï¼šä»·æ ¼æ›´æ–°ä¸ºï¼š49.9 å…ƒ</span>

    <span class="hljs-comment">// 2. ä¼ å…¥å¿…å¡«å‚æ•°ï¼ˆä½¿ç”¨é»˜è®¤å€¼ï¼‰</span>
    <span class="hljs-keyword">val</span> book2 = Book(<span class="hljs-string">"Javaæ ¸å¿ƒæŠ€æœ¯"</span>, <span class="hljs-string">"æå››"</span>)
    <span class="hljs-comment">// è¾“å‡ºï¼šä¹¦ç±åˆå§‹åŒ–å®Œæˆï¼šã€ŠJavaæ ¸å¿ƒæŠ€æœ¯ã€‹ï¼ˆæå››ï¼‰ï¼Œåˆ†ç±»ï¼šæœªçŸ¥ï¼Œä»·æ ¼ï¼š39.9 å…ƒ</span>

    <span class="hljs-comment">// 3. æŒ‰å‚æ•°åä¼ å…¥ï¼ˆçµæ´»è°ƒæ•´é¡ºåºï¼‰</span>
    <span class="hljs-keyword">val</span> book3 = Book(
        title = <span class="hljs-string">"Pythonç¼–ç¨‹å®è·µ"</span>,
        author = <span class="hljs-string">"ç‹äº”"</span>,
        category = <span class="hljs-string">"ç¼–ç¨‹"</span>,
        price = <span class="hljs-number">69.9</span>
    )
}

</code></pre>
<h2 data-id="heading-13">ä¸‰ã€æ¬¡æ„é€ å‡½æ•°ï¼šçµæ´»çš„è¾…åŠ©åˆå§‹åŒ–æ–¹å¼</h2>
<p>ä¸»æ„é€ å‡½æ•°é€‚ç”¨äºâ€œå‚æ•°å›ºå®šã€åœºæ™¯å•ä¸€â€çš„åˆå§‹åŒ–åœºæ™¯ï¼Œè€Œå®é™…å¼€å‘ä¸­å¸¸éœ€è¦â€œå¤šæ ·åŒ–å‚æ•°ç»„åˆâ€â€œå…¼å®¹æ—§é€»è¾‘â€ç­‰çµæ´»éœ€æ±‚ã€‚Kotlin çš„<strong>æ¬¡æ„é€ å‡½æ•°</strong>ä½œä¸ºè¾…åŠ©åˆå§‹åŒ–æ–¹å¼ï¼Œå¯é€‚é…è¿™äº›å¤æ‚åœºæ™¯ï¼ŒåŒæ—¶é€šè¿‡å§”æ‰˜æœºåˆ¶ä¿è¯æ ¸å¿ƒé€»è¾‘ç»Ÿä¸€ã€‚</p>
<h3 data-id="heading-14">3.1 åŸºæœ¬è¯­æ³•</h3>
<p>æ¬¡æ„é€ å‡½æ•°é€šè¿‡â€œconstructorâ€å…³é”®å­—å®šä¹‰ï¼Œä½äºç±»ä½“å†…éƒ¨ï¼Œå¿…é¡»é€šè¿‡â€œ: this(...)â€å§”æ‰˜ç»™ä¸»æ„é€ å‡½æ•°æˆ–å…¶ä»–æ¬¡æ„é€ å‡½æ•°ã€‚åŸºæœ¬è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> ç±»å(ä¸»æ„é€ å‚æ•°åˆ—è¡¨) {
    <span class="hljs-comment">// æ¬¡æ„é€ å‡½æ•°1ï¼šå§”æ‰˜ç»™ä¸»æ„é€ å‡½æ•°</span>
    <span class="hljs-keyword">constructor</span>(å‚æ•°åˆ—è¡¨<span class="hljs-number">1</span>) : <span class="hljs-keyword">this</span>(ä¸»æ„é€ å‚æ•°æ˜ å°„é€»è¾‘) {
        <span class="hljs-comment">// æ¬¡æ„é€ ä¸“å±åˆå§‹åŒ–é€»è¾‘ï¼ˆå¯é€‰ï¼‰</span>
    }

    <span class="hljs-comment">// æ¬¡æ„é€ å‡½æ•°2ï¼šå§”æ‰˜ç»™å…¶ä»–æ¬¡æ„é€ å‡½æ•°</span>
    <span class="hljs-keyword">constructor</span>(å‚æ•°åˆ—è¡¨<span class="hljs-number">2</span>) : <span class="hljs-keyword">this</span>(å‚æ•°åˆ—è¡¨<span class="hljs-number">1</span>æ˜ å°„é€»è¾‘) {
        <span class="hljs-comment">// æ¬¡æ„é€ ä¸“å±åˆå§‹åŒ–é€»è¾‘ï¼ˆå¯é€‰ï¼‰</span>
    }
}

</code></pre>
<p>è¯­æ³•è¯´æ˜ï¼š</p>
<ul>
<li>â€œconstructorâ€æ˜¯æ¬¡æ„é€ å‡½æ•°çš„æ ‡è¯†ï¼Œä¸å¯çœç•¥ï¼›</li>
<li>â€œ: this(...)â€æ˜¯å§”æ‰˜è¯­å¥ï¼Œå¿…é¡»å­˜åœ¨â€”â€”æ¬¡æ„é€ å‡½æ•°ä¸èƒ½ç‹¬ç«‹åˆå§‹åŒ–ï¼Œæœ€ç»ˆéœ€å§”æ‰˜åˆ°ä¸»æ„é€ å‡½æ•°ï¼›</li>
<li>èŠ±æ‹¬å·å†…æ˜¯æ¬¡æ„é€ ä¸“å±é€»è¾‘ï¼Œä»…åœ¨é€šè¿‡è¯¥æ¬¡æ„é€ åˆ›å»ºå¯¹è±¡æ—¶æ‰§è¡Œã€‚</li>
</ul>
<h3 data-id="heading-15">3.2 æ ¸å¿ƒè§„åˆ™</h3>
<p>æ¬¡æ„é€ å‡½æ•°çš„æ ¸å¿ƒè§„åˆ™æ˜¯<strong>å¿…é¡»å§”æ‰˜</strong>ï¼Œå³æ‰€æœ‰æ¬¡æ„é€ å‡½æ•°æœ€ç»ˆéƒ½è¦å§”æ‰˜åˆ°ä¸»æ„é€ å‡½æ•°ï¼Œå½¢æˆâ€œæ¬¡â†’ä¸»â€æˆ–â€œæ¬¡â†’æ¬¡â†’ä¸»â€çš„å§”æ‰˜é“¾ã€‚è¿™ä¸€è§„åˆ™çš„æœ¬è´¨æ˜¯â€œä¿è¯ä¸»æ„é€ å‡½æ•°çš„æ ¸å¿ƒåˆå§‹åŒ–é€»è¾‘ï¼ˆå‚æ•°æ ¡éªŒã€å±æ€§èµ‹å€¼ï¼‰åœ¨æ‰€æœ‰åœºæ™¯ä¸‹éƒ½è¢«æ‰§è¡Œâ€ï¼Œé¿å…ä¸åŒæ„é€ å‡½æ•°å¯¼è‡´çš„å¯¹è±¡çŠ¶æ€ä¸ä¸€è‡´ã€‚</p>
<h4 data-id="heading-16">3.2.1 å§”æ‰˜ç»™ä¸»æ„é€ å‡½æ•°ï¼ˆæœ€å¸¸ç”¨ï¼‰</h4>
<p>æ¬¡æ„é€ å‡½æ•°ç›´æ¥é€šè¿‡â€œthis(ä¸»æ„é€ å‚æ•°)â€å§”æ‰˜ç»™ä¸»æ„é€ å‡½æ•°ï¼Œç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>(<span class="hljs-keyword">val</span> name: String, <span class="hljs-keyword">val</span> age: <span class="hljs-built_in">Int</span>, <span class="hljs-keyword">val</span> gender: String) {
    <span class="hljs-comment">// åˆå§‹åŒ–å—ï¼šä¸»æ„é€ æ ¸å¿ƒé€»è¾‘</span>
    <span class="hljs-keyword">init</span> {
        require(name.isNotBlank()) { <span class="hljs-string">"å§“åä¸èƒ½ä¸ºç©ºï¼"</span> }
        require(age <span class="hljs-keyword">in</span> <span class="hljs-number">0.</span><span class="hljs-number">.150</span>) { <span class="hljs-string">"å¹´é¾„å¿…é¡»åœ¨0-150ä¹‹é—´ï¼"</span> }
        println(<span class="hljs-string">"ä¸»æ„é€ åˆå§‹åŒ–å®Œæˆï¼š<span class="hljs-variable">$name</span>ï¼ˆ<span class="hljs-variable">$age</span> å²ï¼Œ<span class="hljs-variable">$gender</span>ï¼‰"</span>)
    }

    <span class="hljs-comment">// æ¬¡æ„é€ 1ï¼šæ— å‚æ•°ï¼Œå§”æ‰˜ä¸»æ„é€ ï¼ˆä¼ é»˜è®¤å€¼ï¼‰</span>
    <span class="hljs-keyword">constructor</span>() : <span class="hljs-keyword">this</span>(<span class="hljs-string">"åŒ¿å"</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"æœªçŸ¥"</span>) {
        println(<span class="hljs-string">"æ— å‚æ¬¡æ„é€ æ‰§è¡Œï¼šåˆ›å»ºé»˜è®¤å¯¹è±¡"</span>)
    }

    <span class="hljs-comment">// æ¬¡æ„é€ 2ï¼šåŒå‚æ•°ï¼Œå§”æ‰˜ä¸»æ„é€ ï¼ˆæ€§åˆ«é»˜è®¤ï¼‰</span>
    <span class="hljs-keyword">constructor</span>(name: String, age: <span class="hljs-built_in">Int</span>) : <span class="hljs-keyword">this</span>(name, age, <span class="hljs-string">"æœªçŸ¥"</span>) {
        println(<span class="hljs-string">"åŒå‚æ¬¡æ„é€ æ‰§è¡Œï¼šæ€§åˆ«é»˜è®¤æœªçŸ¥"</span>)
    }
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    println(<span class="hljs-string">"=== æ— å‚æ¬¡æ„é€ åˆ›å»º ==="</span>)
    <span class="hljs-keyword">val</span> person1 = Person()
    <span class="hljs-comment">// è¾“å‡ºï¼šä¸»æ„é€ åˆå§‹åŒ–å®Œæˆï¼šåŒ¿åï¼ˆ0 å²ï¼ŒæœªçŸ¥ï¼‰â†’ æ— å‚æ¬¡æ„é€ æ‰§è¡Œï¼šåˆ›å»ºé»˜è®¤å¯¹è±¡</span>

    println(<span class="hljs-string">"=== åŒå‚æ¬¡æ„é€ åˆ›å»º ==="</span>)
    <span class="hljs-keyword">val</span> person2 = Person(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">25</span>)
    <span class="hljs-comment">// è¾“å‡ºï¼šä¸»æ„é€ åˆå§‹åŒ–å®Œæˆï¼šå¼ ä¸‰ï¼ˆ25 å²ï¼ŒæœªçŸ¥ï¼‰â†’ åŒå‚æ¬¡æ„é€ æ‰§è¡Œï¼šæ€§åˆ«é»˜è®¤æœªçŸ¥</span>
}

</code></pre>
<h4 data-id="heading-17">3.2.2 å§”æ‰˜ç»™å…¶ä»–æ¬¡æ„é€ å‡½æ•°ï¼ˆé“¾å¼å§”æ‰˜ï¼‰</h4>
<p>æ¬¡æ„é€ å‡½æ•°å§”æ‰˜ç»™å¦ä¸€ä¸ªæ¬¡æ„é€ å‡½æ•°ï¼Œå†ç”±è¯¥æ¬¡æ„é€ å§”æ‰˜ç»™ä¸»æ„é€ å‡½æ•°ï¼Œå½¢æˆé“¾å¼å§”æ‰˜ï¼Œç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>(<span class="hljs-keyword">val</span> name: String, <span class="hljs-keyword">val</span> age: <span class="hljs-built_in">Int</span>, <span class="hljs-keyword">val</span> gender: String) {
    <span class="hljs-keyword">init</span> {
        println(<span class="hljs-string">"ä¸»æ„é€ åˆå§‹åŒ–ï¼š<span class="hljs-variable">$name</span>ï¼ˆ<span class="hljs-variable">$age</span>ï¼Œ<span class="hljs-variable">$gender</span>ï¼‰"</span>)
    }

    <span class="hljs-comment">// æ¬¡æ„é€ 3ï¼šåŒå‚æ•°â†’å§”æ‰˜ä¸»æ„é€ </span>
    <span class="hljs-keyword">constructor</span>(name: String, age: <span class="hljs-built_in">Int</span>) : <span class="hljs-keyword">this</span>(name, age, <span class="hljs-string">"æœªçŸ¥"</span>) {
        println(<span class="hljs-string">"åŒå‚æ¬¡æ„é€ æ‰§è¡Œ"</span>)
    }

    <span class="hljs-comment">// æ¬¡æ„é€ 2ï¼šå•å‚æ•°â†’å§”æ‰˜æ¬¡æ„é€ 3</span>
    <span class="hljs-keyword">constructor</span>(name: String) : <span class="hljs-keyword">this</span>(name, <span class="hljs-number">18</span>) {
        println(<span class="hljs-string">"å•å‚æ¬¡æ„é€ æ‰§è¡Œ"</span>)
    }

    <span class="hljs-comment">// æ¬¡æ„é€ 1ï¼šæ— å‚æ•°â†’å§”æ‰˜æ¬¡æ„é€ 2</span>
    <span class="hljs-keyword">constructor</span>() : <span class="hljs-keyword">this</span>(<span class="hljs-string">"åŒ¿å"</span>) {
        println(<span class="hljs-string">"æ— å‚æ¬¡æ„é€ æ‰§è¡Œ"</span>)
    }
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> person = Person()
    <span class="hljs-comment">// è¾“å‡ºé¡ºåºï¼šä¸»æ„é€ åˆå§‹åŒ–â†’åŒå‚æ¬¡æ„é€ æ‰§è¡Œâ†’å•å‚æ¬¡æ„é€ æ‰§è¡Œâ†’æ— å‚æ¬¡æ„é€ æ‰§è¡Œ</span>
}

</code></pre>
<h3 data-id="heading-18">3.3 é€‚ç”¨åœºæ™¯</h3>
<p>æ¬¡æ„é€ å‡½æ•°çš„æ ¸å¿ƒä»·å€¼æ˜¯â€œé€‚é…å¤šæ ·åŒ–åˆå§‹åŒ–åœºæ™¯â€ï¼Œå¸¸è§é€‚ç”¨åœºæ™¯åŒ…æ‹¬ï¼š</p>
<h4 data-id="heading-19">3.3.1 å¤šå‚æ•°ç»„åˆéœ€æ±‚</h4>
<p>å½“åˆ›å»ºå¯¹è±¡éœ€è¦æ”¯æŒâ€œä¸åŒæ•°é‡ã€ä¸åŒç±»å‹å‚æ•°â€æ—¶ï¼Œé€šè¿‡æ¬¡æ„é€ å‡½æ•°æä¾›å¤šä¸ªå…¥å£ã€‚ä¾‹å¦‚â€œUserâ€ç±»éœ€è¦æ”¯æŒï¼š1. ç”¨æˆ·å+å¯†ç ç™»å½•ï¼›2. ç”¨æˆ·å+å¯†ç +æ‰‹æœºå·æ³¨å†Œï¼›3. ç¬¬ä¸‰æ–¹ç™»å½•ï¼ˆå¦‚å¾®ä¿¡openIdï¼‰ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>(<span class="hljs-keyword">val</span> username: String, <span class="hljs-keyword">val</span> password: String, <span class="hljs-keyword">val</span> phone: String?) {
    <span class="hljs-keyword">init</span> {
        require(username.isNotBlank()) { <span class="hljs-string">"ç”¨æˆ·åä¸èƒ½ä¸ºç©ºï¼"</span> }
        require(password.length &gt;= <span class="hljs-number">6</span>) { <span class="hljs-string">"å¯†ç é•¿åº¦ä¸èƒ½å°äº6ä½ï¼"</span> }
    }

    <span class="hljs-comment">// åœºæ™¯1ï¼šç”¨æˆ·å+å¯†ç ï¼ˆæ‰‹æœºå·ä¸ºç©ºï¼‰</span>
    <span class="hljs-keyword">constructor</span>(username: String, password: String) : <span class="hljs-keyword">this</span>(username, password, <span class="hljs-literal">null</span>)

    <span class="hljs-comment">// åœºæ™¯2ï¼šå¾®ä¿¡ç™»å½•ï¼ˆè‡ªåŠ¨ç”Ÿæˆç”¨æˆ·åå’Œå¯†ç ï¼‰</span>
    <span class="hljs-keyword">constructor</span>(wechatOpenId: String) : <span class="hljs-keyword">this</span>(
        username = <span class="hljs-string">"wechat_<span class="hljs-variable">$wechatOpenId</span>"</span>,
        password = generateRandomPwd(),
        phone = <span class="hljs-literal">null</span>
    )

    <span class="hljs-comment">// è¾…åŠ©æ–¹æ³•ï¼šç”Ÿæˆéšæœºå¯†ç </span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">generateRandomPwd</span><span class="hljs-params">()</span></span>: String {
        <span class="hljs-keyword">val</span> chars = <span class="hljs-string">"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"</span>
        <span class="hljs-keyword">return</span> (<span class="hljs-number">1.</span><span class="hljs-number">.8</span>).map { chars.random() }.joinToString(<span class="hljs-string">""</span>)
    }
}

</code></pre>
<h4 data-id="heading-20">3.3.2 å…¼å®¹æ—§é€»è¾‘æˆ–ç¬¬ä¸‰æ–¹æ¥å£</h4>
<p>é¡¹ç›®è¿­ä»£æˆ–å¯¹æ¥ç¬¬ä¸‰æ–¹æ—¶ï¼Œéœ€å…¼å®¹æ—§å‚æ•°æ ¼å¼ã€‚ä¾‹å¦‚æ—§ç³»ç»Ÿâ€œOrderâ€ç±»ç”¨â€œæ•´æ•°çŠ¶æ€ç â€ï¼ˆ0=å¾…æ”¯ä»˜ï¼Œ1=å·²æ”¯ä»˜ï¼‰ï¼Œæ–°ç³»ç»Ÿç”¨â€œå­—ç¬¦ä¸²çŠ¶æ€â€ï¼Œé€šè¿‡æ¬¡æ„é€ å‡½æ•°é€‚é…ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æ–°ç³»ç»Ÿä¸»æ„é€ ï¼šçŠ¶æ€ä¸ºå­—ç¬¦ä¸²</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Order</span>(<span class="hljs-keyword">val</span> orderNo: String, <span class="hljs-keyword">val</span> amount: <span class="hljs-built_in">Double</span>, <span class="hljs-keyword">val</span> status: String) {
    <span class="hljs-keyword">init</span> {
        require(orderNo.isNotBlank()) { <span class="hljs-string">"è®¢å•å·ä¸èƒ½ä¸ºç©ºï¼"</span> }
        require(amount &gt; <span class="hljs-number">0</span>) { <span class="hljs-string">"é‡‘é¢å¿…é¡»å¤§äº0ï¼"</span> }
    }

    <span class="hljs-comment">// æ¬¡æ„é€ ï¼šå…¼å®¹æ—§ç³»ç»Ÿæ•´æ•°çŠ¶æ€ç </span>
    <span class="hljs-keyword">constructor</span>(orderNo: String, amount: <span class="hljs-built_in">Double</span>, statusCode: <span class="hljs-built_in">Int</span>) : <span class="hljs-keyword">this</span>(
        orderNo = orderNo,
        amount = amount,
        status = <span class="hljs-keyword">when</span> (statusCode) {
            <span class="hljs-number">0</span> -&gt; <span class="hljs-string">"å¾…æ”¯ä»˜"</span>
            <span class="hljs-number">1</span> -&gt; <span class="hljs-string">"å·²æ”¯ä»˜"</span>
            <span class="hljs-keyword">else</span> -&gt; <span class="hljs-keyword">throw</span> IllegalArgumentException(<span class="hljs-string">"çŠ¶æ€ç ä¸åˆæ³•ï¼"</span>)
        }
    )
}

</code></pre>
<h3 data-id="heading-21">3.4 ç®€å•ç¤ºä¾‹</h3>
<p>é€šè¿‡â€œStudentâ€ç±»å±•ç¤ºå¤šä¸ªæ¬¡æ„é€ å‡½æ•°çš„ä½¿ç”¨ï¼Œé€‚é…ä¸åŒåˆ›å»ºåœºæ™¯ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">/**
 * å­¦ç”Ÿç±»ï¼šä¸»æ„é€ åŒ…å«æ ¸å¿ƒå±æ€§
 * idï¼šå­¦å·ï¼ˆå¿…å¡«ï¼‰
 * nameï¼šå§“åï¼ˆå¿…å¡«ï¼‰
 * gradeï¼šå¹´çº§ï¼ˆå¿…å¡«ï¼‰
 * scoreï¼šå¹³å‡åˆ†ï¼ˆé»˜è®¤60.0ï¼‰
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>(
    <span class="hljs-keyword">val</span> id: String,
    <span class="hljs-keyword">val</span> name: String,
    <span class="hljs-keyword">val</span> grade: String,
    <span class="hljs-keyword">var</span> score: <span class="hljs-built_in">Double</span> = <span class="hljs-number">60.0</span>
) {
    <span class="hljs-keyword">init</span> {
        require(id.isNotBlank()) { <span class="hljs-string">"å­¦å·ä¸èƒ½ä¸ºç©ºï¼"</span> }
        require(name.isNotBlank()) { <span class="hljs-string">"å§“åä¸èƒ½ä¸ºç©ºï¼"</span> }
    }

    <span class="hljs-comment">// æ¬¡æ„é€ 1ï¼šæ— å‚ï¼ˆæµ‹è¯•ç”¨ï¼Œç”Ÿæˆé»˜è®¤å­¦ç”Ÿï¼‰</span>
    <span class="hljs-keyword">constructor</span>() : <span class="hljs-keyword">this</span>(
        id = <span class="hljs-string">"TEST_<span class="hljs-subst">${System.currentTimeMillis()}</span>"</span>,
        name = <span class="hljs-string">"æµ‹è¯•å­¦ç”Ÿ"</span>,
        grade = <span class="hljs-string">"é«˜ä¸€"</span>
    )

    <span class="hljs-comment">// æ¬¡æ„é€ 2ï¼šä¸‰å‚æ•°ï¼ˆä½¿ç”¨é»˜è®¤å¹³å‡åˆ†ï¼‰</span>
    <span class="hljs-keyword">constructor</span>(id: String, name: String, grade: String) : <span class="hljs-keyword">this</span>(id, name, grade, <span class="hljs-number">60.0</span>)

    <span class="hljs-comment">// æ¬¡æ„é€ 3ï¼šå››å‚æ•°ï¼ˆåˆ†æ•°å­—ç¬¦ä¸²è½¬Doubleï¼‰</span>
    <span class="hljs-keyword">constructor</span>(id: String, name: String, grade: String, scoreStr: String) : <span class="hljs-keyword">this</span>(
        id = id,
        name = name,
        grade = grade,
        score = scoreStr.toDoubleOrNull() ?: <span class="hljs-keyword">throw</span> IllegalArgumentException(<span class="hljs-string">"åˆ†æ•°å¿…é¡»æ˜¯æ•°å­—ï¼"</span>)
    )

    <span class="hljs-comment">// å±•ç¤ºå­¦ç”Ÿä¿¡æ¯</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">showInfo</span><span class="hljs-params">()</span></span> {
        println(<span class="hljs-string">"å­¦å·ï¼š<span class="hljs-variable">$id</span>ï¼Œå§“åï¼š<span class="hljs-variable">$name</span>ï¼Œå¹´çº§ï¼š<span class="hljs-variable">$grade</span>ï¼Œå¹³å‡åˆ†ï¼š<span class="hljs-variable">$score</span>"</span>)
    }
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// 1. æ— å‚æ¬¡æ„é€ </span>
    Student().showInfo()
    <span class="hljs-comment">// 2. ä¸‰å‚æ•°æ¬¡æ„é€ </span>
    Student(<span class="hljs-string">"2024001"</span>, <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"é«˜ä¸€"</span>).showInfo()
    <span class="hljs-comment">// 3. å››å‚æ•°æ¬¡æ„é€ ï¼ˆå­—ç¬¦ä¸²åˆ†æ•°ï¼‰</span>
    Student(<span class="hljs-string">"2024002"</span>, <span class="hljs-string">"æå››"</span>, <span class="hljs-string">"é«˜äºŒ"</span>, <span class="hljs-string">"85.5"</span>).showInfo()
}

</code></pre>
<h2 data-id="heading-22">å››ã€ä¸»æ„é€ å‡½æ•°ä¸æ¬¡æ„é€ å‡½æ•°çš„å…³è”</h2>
<p>ä¸»æ„é€ å‡½æ•°å’Œæ¬¡æ„é€ å‡½æ•°å¹¶éç‹¬ç«‹å­˜åœ¨ï¼Œè€Œæ˜¯é€šè¿‡â€œå§”æ‰˜å…³ç³»â€â€œåˆå§‹åŒ–é¡ºåºâ€â€œå‚æ•°ä¼ é€’â€å½¢æˆç´§å¯†å…³è”ï¼Œç†è§£è¿™äº›å…³è”æ˜¯æ­£ç¡®ä½¿ç”¨æ„é€ å‡½æ•°çš„å…³é”®ã€‚</p>
<h3 data-id="heading-23">4.1 å§”æ‰˜å…³ç³»</h3>
<p>Kotlin è§„å®šï¼š<strong>æ‰€æœ‰æ¬¡æ„é€ å‡½æ•°æœ€ç»ˆå¿…é¡»å§”æ‰˜åˆ°ä¸»æ„é€ å‡½æ•°</strong>ï¼Œå½¢æˆâ€œå§”æ‰˜é“¾â€ã€‚è¿™ä¸€è§„åˆ™çš„æ ¸å¿ƒç›®çš„æ˜¯â€œä¿è¯ä¸»æ„é€ å‡½æ•°çš„æ ¸å¿ƒé€»è¾‘ï¼ˆå‚æ•°æ ¡éªŒã€å±æ€§èµ‹å€¼ï¼‰åœ¨ä»»ä½•åˆå§‹åŒ–åœºæ™¯ä¸‹éƒ½è¢«æ‰§è¡Œâ€ï¼Œé¿å…å¯¹è±¡çŠ¶æ€ä¸ä¸€è‡´ã€‚</p>
<p>å§”æ‰˜å…³ç³»çš„ä¸¤ç§å½¢å¼ï¼š</p>
<ol>
<li><strong>ç›´æ¥å§”æ‰˜</strong>ï¼šæ¬¡æ„é€ â†’ä¸»æ„é€ ï¼Œå¦‚â€œconstructor(name: String) : this(name, 18)â€ï¼›</li>
<li><strong>é—´æ¥å§”æ‰˜</strong>ï¼šæ¬¡æ„é€ â†’æ¬¡æ„é€ â†’...â†’ä¸»æ„é€ ï¼Œå¦‚â€œconstructor() : this("åŒ¿å") â†’ constructor(name: String) : this(name, 18)â€ã€‚</li>
</ol>
<p>å¼ºåˆ¶è¦æ±‚ï¼šè‹¥ç±»æ˜¾å¼å®šä¹‰ä¸»æ„é€ å‡½æ•°ï¼Œæ‰€æœ‰æ¬¡æ„é€ å‡½æ•°å¿…é¡»æ˜¾å¼å§”æ‰˜ï¼Œå¦åˆ™ç¼–è¯‘æŠ¥é”™ã€‚ä¾‹å¦‚ä»¥ä¸‹ä»£ç ç¼–è¯‘å¤±è´¥ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ç¼–è¯‘å¤±è´¥ï¼šæ¬¡æ„é€ æœªå§”æ‰˜ä¸»æ„é€ </span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>(<span class="hljs-keyword">val</span> name: String) {
    <span class="hljs-comment">// é”™è¯¯ï¼šç¼ºå°‘å§”æ‰˜è¯­å¥</span>
    <span class="hljs-keyword">constructor</span>(age: <span class="hljs-built_in">Int</span>) { }
}

</code></pre>
<h3 data-id="heading-24">4.2 åˆå§‹åŒ–é¡ºåº</h3>
<p>é€šè¿‡æ¬¡æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡æ—¶ï¼Œåˆå§‹åŒ–é€»è¾‘çš„æ‰§è¡Œé¡ºåºæ˜¯å›ºå®šçš„ï¼Œéµå¾ªâ€œ<strong>ä¸»æ„é€ å‚æ•°åˆå§‹åŒ– â†’ åˆå§‹åŒ–å—ï¼ˆæŒ‰é¡ºåºï¼‰ â†’ æ¬¡æ„é€ å‡½æ•°ä½“</strong>â€çš„è§„åˆ™ã€‚è¿™ä¸€é¡ºåºå†³å®šäº†â€œå“ªäº›é€»è¾‘å…ˆæ‰§è¡Œï¼Œå“ªäº›å±æ€§å¯ä½¿ç”¨â€ã€‚</p>
<h4 data-id="heading-25">4.2.1 æ‰§è¡Œé¡ºåºç¤ºä¾‹éªŒè¯</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>(<span class="hljs-keyword">val</span> name: String, <span class="hljs-keyword">val</span> age: <span class="hljs-built_in">Int</span>) {
    <span class="hljs-comment">// åˆå§‹åŒ–å—1</span>
    <span class="hljs-keyword">init</span> {
        println(<span class="hljs-string">"initå—1ï¼šname=<span class="hljs-variable">$name</span>ï¼Œage=<span class="hljs-variable">$age</span>"</span>)
    }

    <span class="hljs-comment">// ç±»å±æ€§</span>
    <span class="hljs-keyword">val</span> gender: String = <span class="hljs-string">"æœªçŸ¥"</span>

    <span class="hljs-comment">// åˆå§‹åŒ–å—2</span>
    <span class="hljs-keyword">init</span> {
        println(<span class="hljs-string">"initå—2ï¼šgender=<span class="hljs-variable">$gender</span>"</span>)
    }

    <span class="hljs-comment">// æ¬¡æ„é€ å‡½æ•°</span>
    <span class="hljs-keyword">constructor</span>(name: String) : <span class="hljs-keyword">this</span>(name, <span class="hljs-number">18</span>) {
        println(<span class="hljs-string">"æ¬¡æ„é€ ä½“æ‰§è¡Œï¼šé»˜è®¤å¹´é¾„18"</span>)
    }
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> person = Person(<span class="hljs-string">"å¼ ä¸‰"</span>)
}

</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code class="hljs language-ini" lang="ini">initå—1ï¼š<span class="hljs-attr">name</span>=å¼ ä¸‰ï¼Œage=<span class="hljs-number">18</span>
initå—2ï¼š<span class="hljs-attr">gender</span>=æœªçŸ¥
æ¬¡æ„é€ ä½“æ‰§è¡Œï¼šé»˜è®¤å¹´é¾„18

</code></pre>
<p>è§£æï¼šæ‰§è¡Œé¡ºåºå®Œå…¨éµå¾ªè§„åˆ™ï¼Œå…ˆå®Œæˆä¸»æ„é€ å‚æ•°åˆå§‹åŒ–å’Œåˆå§‹åŒ–å—é€»è¾‘ï¼Œå†æ‰§è¡Œæ¬¡æ„é€ ä½“ï¼Œç¡®ä¿æ¬¡æ„é€ ä½“å¯ä½¿ç”¨æ‰€æœ‰å·²åˆå§‹åŒ–çš„å±æ€§ã€‚</p>
<h3 data-id="heading-26">4.3 å‚æ•°ä¼ é€’</h3>
<p>æ¬¡æ„é€ å‡½æ•°å‘ä¸»æ„é€ å‡½æ•°ä¼ é€’å‚æ•°æ˜¯å§”æ‰˜å…³ç³»çš„æ ¸å¿ƒï¼Œæœ¬è´¨æ˜¯â€œå°†æ¬¡æ„é€ çš„è¾“å…¥å‚æ•°è½¬æ¢ä¸ºä¸»æ„é€ æ‰€éœ€å‚æ•°â€ï¼Œå¸¸è§ä¼ é€’æ–¹å¼æœ‰ä¸‰ç§ï¼š</p>
<h4 data-id="heading-27">4.3.1 ç›´æ¥ä¼ é€’</h4>
<p>æ¬¡æ„é€ å‚æ•°ä¸ä¸»æ„é€ å‚æ•°ä¸€ä¸€å¯¹åº”ï¼Œç›´æ¥ä¼ å…¥ã€‚ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>(<span class="hljs-keyword">val</span> name: String, <span class="hljs-keyword">val</span> age: <span class="hljs-built_in">Int</span>, <span class="hljs-keyword">val</span> gender: String) {
    <span class="hljs-comment">// æ¬¡æ„é€ å‚æ•°ç›´æ¥ä¼ é€’ç»™ä¸»æ„é€ </span>
    <span class="hljs-keyword">constructor</span>(name: String, age: <span class="hljs-built_in">Int</span>) : <span class="hljs-keyword">this</span>(name, age, <span class="hljs-string">"æœªçŸ¥"</span>)
}

</code></pre>
<h4 data-id="heading-28">4.3.2 é»˜è®¤å€¼å¡«å……</h4>
<p>æ¬¡æ„é€ å‚æ•°ä¸è¶³æ—¶ï¼Œä¸ºç¼ºå¤±å‚æ•°å¡«å……é»˜è®¤å€¼åä¼ é€’ã€‚ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Book</span>(<span class="hljs-keyword">val</span> title: String, <span class="hljs-keyword">val</span> author: String, <span class="hljs-keyword">val</span> price: <span class="hljs-built_in">Double</span> = <span class="hljs-number">39.9</span>) {
    <span class="hljs-comment">// æ— å‚æ¬¡æ„é€ ï¼šå¡«å……æ‰€æœ‰é»˜è®¤å€¼</span>
    <span class="hljs-keyword">constructor</span>() : <span class="hljs-keyword">this</span>(<span class="hljs-string">"æœªçŸ¥ä¹¦å"</span>, <span class="hljs-string">"æœªçŸ¥ä½œè€…"</span>)
}

</code></pre>
<h4 data-id="heading-29">4.3.3 æ•°æ®è½¬æ¢</h4>
<p>æ¬¡æ„é€ å‚æ•°ç±»å‹ä¸ä¸»æ„é€ ä¸ä¸€è‡´æ—¶ï¼Œå…ˆè½¬æ¢å†ä¼ é€’ã€‚ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span>(<span class="hljs-keyword">val</span> id: <span class="hljs-built_in">Long</span>, <span class="hljs-keyword">val</span> price: <span class="hljs-built_in">Double</span>) {
    <span class="hljs-comment">// æ¬¡æ„é€ ï¼šå­—ç¬¦ä¸²idè½¬Longï¼Œæ•´æ•°ä»·æ ¼è½¬Double</span>
    <span class="hljs-keyword">constructor</span>(idStr: String, priceInt: <span class="hljs-built_in">Int</span>) : <span class="hljs-keyword">this</span>(
        id = idStr.toLong(),
        price = priceInt.toDouble()
    )
}

</code></pre>
<h2 data-id="heading-30">äº”ã€å®ç”¨åœºæ™¯ä¸¾ä¾‹</h2>
<p>ç»“åˆå®é™…å¼€å‘åœºæ™¯ï¼Œè¯´æ˜ä¸»ã€æ¬¡æ„é€ å‡½æ•°çš„åˆç†æ­é…ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-31">5.1 ä¸»æ„é€ å‡½æ•°åœºæ™¯ï¼šå¸¸è§„å®ä½“ç±»åˆå§‹åŒ–</h3>
<p>æ•°æ®åº“å®ä½“ç±»ã€æ¥å£è¿”å›æ•°æ®æ¨¡å‹ç­‰åœºæ™¯ï¼Œé€šå¸¸éœ€è¦å°†å¤–éƒ¨æ•°æ®ç›´æ¥æ˜ å°„ä¸ºç±»å±æ€§ï¼Œåˆå§‹åŒ–é€»è¾‘ç®€å•ï¼Œé€‚åˆç”¨ä¸»æ„é€ å‡½æ•°ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> java.util.Date

<span class="hljs-comment">/**
 * è®¢å•å®ä½“ç±»ï¼šæ˜ å°„æ•°æ®åº“orderè¡¨
 * å­—æ®µä¸ä¸»æ„é€ å‚æ•°ä¸€ä¸€å¯¹åº”ï¼Œé€šè¿‡åˆå§‹åŒ–å—æ ¡éªŒå‚æ•°
 */</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderEntity</span>(
    <span class="hljs-keyword">val</span> id: <span class="hljs-built_in">Long</span>,
    <span class="hljs-keyword">val</span> userId: <span class="hljs-built_in">Long</span>,
    <span class="hljs-keyword">val</span> amount: <span class="hljs-built_in">Double</span>,
    <span class="hljs-keyword">val</span> createTime: Date,
    <span class="hljs-keyword">val</span> status: String
) {
    <span class="hljs-keyword">init</span> {
        require(id &gt; <span class="hljs-number">0</span>) { <span class="hljs-string">"è®¢å•IDå¿…é¡»å¤§äº0ï¼"</span> }
        require(userId &gt; <span class="hljs-number">0</span>) { <span class="hljs-string">"ç”¨æˆ·IDå¿…é¡»å¤§äº0ï¼"</span> }
        require(amount &gt; <span class="hljs-number">0</span>) { <span class="hljs-string">"é‡‘é¢å¿…é¡»å¤§äº0ï¼"</span> }
        require(status <span class="hljs-keyword">in</span> listOf(<span class="hljs-string">"å¾…æ”¯ä»˜"</span>, <span class="hljs-string">"å·²æ”¯ä»˜"</span>, <span class="hljs-string">"å·²å–æ¶ˆ"</span>)) { <span class="hljs-string">"çŠ¶æ€ä¸åˆæ³•ï¼"</span> }
    }
}

<span class="hljs-comment">// ä½¿ç”¨ï¼šæ¥å£è¿”å›æ•°æ®ç›´æ¥æ„é€ å¯¹è±¡</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> order = OrderEntity(
        id = <span class="hljs-number">10001</span>,
        userId = <span class="hljs-number">101</span>,
        amount = <span class="hljs-number">199.9</span>,
        createTime = Date(),
        status = <span class="hljs-string">"å¾…æ”¯ä»˜"</span>
    )
}

</code></pre>
<p>è§£æï¼šæ•°æ®æ¨¡å‹ç±»çš„æ ¸å¿ƒéœ€æ±‚æ˜¯â€œå±æ€§æ˜ å°„â€å’Œâ€œå‚æ•°æ ¡éªŒâ€ï¼Œä¸»æ„é€ å‡½æ•°çš„ç®€æ´è¯­æ³•å’Œåˆå§‹åŒ–å—çš„æ ¡éªŒèƒ½åŠ›å®Œç¾é€‚é…ï¼Œä»£ç æ¸…æ™°é«˜æ•ˆã€‚</p>
<h3 data-id="heading-32">5.2 æ¬¡æ„é€ å‡½æ•°åœºæ™¯ï¼šå¤šåœºæ™¯åˆå§‹åŒ–é€‚é…</h3>
<p>å·¥å…·ç±»ã€ç¬¬ä¸‰æ–¹é›†æˆç±»ç­‰éœ€è¦é€‚é…å¤šç§åˆ›å»ºæ–¹å¼çš„åœºæ™¯ï¼Œé€‚åˆç”¨â€œä¸»æ„é€ +æ¬¡æ„é€ â€ç»„åˆã€‚ä¾‹å¦‚â€œExcelå¯¼å‡ºå·¥å…·ç±»â€éœ€è¦æ”¯æŒï¼š1. æŒ‡å®šæ–‡ä»¶è·¯å¾„ï¼›2. æŒ‡å®šè¾“å‡ºæµï¼›3. é»˜è®¤è·¯å¾„ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> java.io.OutputStream

<span class="hljs-comment">/**
 * Excelå¯¼å‡ºå·¥å…·ç±»
 * ä¸»æ„é€ ï¼šæ¥æ”¶è¾“å‡ºæµï¼ˆæ ¸å¿ƒåˆå§‹åŒ–æ–¹å¼ï¼‰
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ExcelExporter</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> outputStream: OutputStream) {
    <span class="hljs-comment">// åˆå§‹åŒ–å—ï¼šæ ¡éªŒè¾“å‡ºæµ</span>
    <span class="hljs-keyword">init</span> {
        require(outputStream != <span class="hljs-literal">null</span>) { <span class="hljs-string">"è¾“å‡ºæµä¸èƒ½ä¸ºnullï¼"</span> }
    }

    <span class="hljs-comment">// æ¬¡æ„é€ 1ï¼šæŒ‡å®šæ–‡ä»¶è·¯å¾„ï¼ˆè½¬æ¢ä¸ºè¾“å‡ºæµï¼‰</span>
    <span class="hljs-keyword">constructor</span>(filePath: String) : <span class="hljs-keyword">this</span>(java.io.FileOutputStream(filePath))

    <span class="hljs-comment">// æ¬¡æ„é€ 2ï¼šé»˜è®¤è·¯å¾„ï¼ˆé¡¹ç›®æ ¹ç›®å½•excelå¯¼å‡º.xlsxï¼‰</span>
    <span class="hljs-keyword">constructor</span>() : <span class="hljs-keyword">this</span>(<span class="hljs-string">"<span class="hljs-subst">${System.getProperty(<span class="hljs-string">"user.dir"</span>)}</span>/excelå¯¼å‡º.xlsx"</span>)

    <span class="hljs-comment">// å¯¼å‡ºæ–¹æ³•</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">export</span><span class="hljs-params">(<span class="hljs-keyword">data</span>: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Map</span>&lt;<span class="hljs-type">String</span>, Any&gt;&gt;)</span></span> {
        <span class="hljs-comment">// å¯¼å‡ºé€»è¾‘ï¼šä½¿ç”¨outputStreamå†™å…¥æ•°æ®</span>
        println(<span class="hljs-string">"ä½¿ç”¨<span class="hljs-subst">${outputStream}</span>å¯¼å‡ºæ•°æ®ï¼Œå…±<span class="hljs-subst">${data.size}</span>æ¡"</span>)
    }
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span> = listOf(mapOf(<span class="hljs-string">"name"</span> to <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"age"</span> to <span class="hljs-number">25</span>))
    <span class="hljs-comment">// 1. é»˜è®¤è·¯å¾„å¯¼å‡º</span>
    ExcelExporter().export(<span class="hljs-keyword">data</span>)
    <span class="hljs-comment">// 2. æŒ‡å®šè·¯å¾„å¯¼å‡º</span>
    ExcelExporter(<span class="hljs-string">"D:/data.xlsx"</span>).export(<span class="hljs-keyword">data</span>)
    <span class="hljs-comment">// 3. æŒ‡å®šè¾“å‡ºæµå¯¼å‡º</span>
    ExcelExporter(System.<span class="hljs-keyword">out</span>).export(<span class="hljs-keyword">data</span>)
}

</code></pre>
<p>è§£æï¼šä¸»æ„é€ å‡½æ•°æ¥æ”¶æ ¸å¿ƒä¾èµ–â€œè¾“å‡ºæµâ€ï¼Œä¿è¯æ ¸å¿ƒé€»è¾‘ç»Ÿä¸€ï¼›æ¬¡æ„é€ å‡½æ•°é€‚é…â€œæ–‡ä»¶è·¯å¾„â€â€œé»˜è®¤è·¯å¾„â€ç­‰åœºæ™¯ï¼Œé€šè¿‡å‚æ•°è½¬æ¢å§”æ‰˜ç»™ä¸»æ„é€ ï¼Œæ—¢çµæ´»åˆä¿è¯ä¸€è‡´æ€§ã€‚</p>
<h2 data-id="heading-33">å…­ã€æ€»ç»“ä¸ä½¿ç”¨å»ºè®®</h2>
<p>Kotlin ä¸»/æ¬¡æ„é€ å‡½æ•°çš„è®¾è®¡æ ¸å¿ƒæ˜¯â€œç®€æ´é«˜æ•ˆ+çµæ´»é€‚é…â€ï¼ŒæŒæ¡ä¸¤è€…çš„ä½¿ç”¨æŠ€å·§å¯å¤§å¹…æå‡å¯¹è±¡åˆå§‹åŒ–çš„ä»£ç è´¨é‡ã€‚</p>
<h3 data-id="heading-34">6.1 æ ¸å¿ƒçŸ¥è¯†ç‚¹å›é¡¾</h3>

























<table><thead><tr><th><strong>ç±»å‹</strong></th><th><strong>æ ¸å¿ƒè¯­æ³•</strong></th><th><strong>æ ¸å¿ƒè§„åˆ™</strong></th></tr></thead><tbody><tr><td>ä¸»æ„é€ å‡½æ•°</td><td>ç±»ååæ‹¬å·å®šä¹‰å‚æ•°ï¼Œval/varå£°æ˜å±æ€§</td><td>æ ¸å¿ƒåˆå§‹åŒ–å…¥å£ï¼Œå¯é€šè¿‡initå—è¡¥å……é€»è¾‘</td></tr><tr><td>æ¬¡æ„é€ å‡½æ•°</td><td>constructorå…³é”®å­—å®šä¹‰ï¼Œ: this(...)å§”æ‰˜</td><td>å¿…é¡»å§”æ‰˜åˆ°ä¸»æ„é€ ï¼Œé€‚é…å¤šæ ·åŒ–åœºæ™¯</td></tr><tr><td>å…³è”å…³ç³»</td><td>å§”æ‰˜é“¾ã€å›ºå®šåˆå§‹åŒ–é¡ºåºã€å‚æ•°æ˜ å°„ä¼ é€’</td><td>æ¬¡æ„é€ æœ€ç»ˆå§”æ‰˜ä¸»æ„é€ ï¼Œä¿è¯é€»è¾‘ç»Ÿä¸€</td></tr></tbody></table>
<h3 data-id="heading-35">6.2 é¿å‘ç‚¹</h3>
<ul>
<li><strong>å§”æ‰˜é—æ¼</strong>ï¼šæ˜¾å¼å®šä¹‰ä¸»æ„é€ åï¼Œæ¬¡æ„é€ å¿…é¡»å§”æ‰˜ï¼Œå¦åˆ™ç¼–è¯‘æŠ¥é”™ï¼›</li>
<li><strong>åˆå§‹åŒ–é¡ºåºé”™è¯¯</strong>ï¼šinitå—æ‰§è¡Œæ—¶æ¬¡æ„é€ ä½“æœªæ‰§è¡Œï¼Œä¸å¯åœ¨initå—ä¸­ä¾èµ–æ¬¡æ„é€ ä½“çš„é€»è¾‘ï¼›</li>
<li><strong>å‚æ•°æœªå£°æ˜ä¸ºå±æ€§</strong>ï¼šä¸»æ„é€ å‚æ•°æœªåŠ val/varæ—¶ï¼Œä»…ä¸ºä¸´æ—¶å‚æ•°ï¼Œç±»å†…éƒ¨ä¸å¯é•¿æœŸä½¿ç”¨ï¼›</li>
<li><strong>é»˜è®¤å€¼ä½ç½®é”™è¯¯</strong>ï¼šæœ‰é»˜è®¤å€¼çš„å‚æ•°éœ€æ”¾åœ¨æ— é»˜è®¤å€¼å‚æ•°ä¹‹åï¼Œå¦åˆ™ç¼–è¯‘æŠ¥é”™ï¼ˆå¦‚â€œclass Person(age: Int = 18, name: String)â€é”™è¯¯ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-36">6.3 é€‰æ‹©æŠ€å·§</h3>
<ol>
<li><strong>ä¼˜å…ˆä½¿ç”¨ä¸»æ„é€ å‡½æ•°</strong>ï¼šå¸¸è§„åœºæ™¯ï¼ˆå¦‚å®ä½“ç±»ã€æ•°æ®æ¨¡å‹ï¼‰ä¼˜å…ˆç”¨ä¸»æ„é€ ï¼Œé€šè¿‡val/varå£°æ˜å±æ€§ï¼Œinitå—è¡¥å……æ ¡éªŒï¼Œç®€æ´é«˜æ•ˆï¼›</li>
<li><strong>å¤æ‚åœºæ™¯åŠ æ¬¡æ„é€ </strong>ï¼šéœ€è¦é€‚é…å¤šå‚æ•°ç»„åˆã€å…¼å®¹æ—§é€»è¾‘ã€ç¬¬ä¸‰æ–¹é›†æˆç­‰åœºæ™¯æ—¶ï¼Œæ·»åŠ æ¬¡æ„é€ å‡½æ•°ï¼Œé€šè¿‡å§”æ‰˜å¤ç”¨ä¸»æ„é€ é€»è¾‘ï¼›</li>
<li><strong>é¿å…è¿‡åº¦ä½¿ç”¨æ¬¡æ„é€ </strong>ï¼šè‹¥æ¬¡æ„é€ è¿‡å¤šï¼ˆè¶…è¿‡3ä¸ªï¼‰ï¼Œå¯è€ƒè™‘ç”¨â€œå»ºé€ è€…æ¨¡å¼â€æ›¿ä»£ï¼Œæå‡ä»£ç å¯è¯»æ€§ï¼›</li>
<li><strong>ç§æœ‰ä¸»æ„é€ æ§åˆ¶å®ä¾‹åŒ–</strong>ï¼šéœ€è¦é™åˆ¶å¯¹è±¡åˆ›å»ºæ–¹å¼ï¼ˆå¦‚å•ä¾‹æ¨¡å¼ï¼‰æ—¶ï¼Œå°†ä¸»æ„é€ è®¾ä¸ºprivateï¼Œé€šè¿‡æ¬¡æ„é€ æˆ–é™æ€æ–¹æ³•æ§åˆ¶å®ä¾‹åŒ–ã€‚</li>
</ol>
<p>æ€»ä¹‹ï¼ŒKotlin æ„é€ å‡½æ•°çš„ä½¿ç”¨æ ¸å¿ƒæ˜¯â€œä¸»æ„é€ å®šæ ¸å¿ƒï¼Œæ¬¡æ„é€ è¡¥çµæ´»â€ï¼Œç»“åˆå®é™…åœºæ™¯åˆç†æ­é…ï¼Œå¯å†™å‡ºç®€æ´ã€é«˜æ•ˆã€æ˜“ç»´æŠ¤çš„ä»£ç ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[9.Kotlin ç±»ï¼šç±»çš„æ ¸å¿ƒï¼šå±æ€§ (Property) ä¸è‡ªå®šä¹‰è®¿é—®å™¨ (Getter/Setter)]]></title>    <link>https://juejin.cn/post/7575910298283261987</link>    <guid>https://juejin.cn/post/7575910298283261987</guid>    <pubDate>2025-11-24T09:13:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575910298283261987" data-draft-id="7575897635137191936" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="9.Kotlin ç±»ï¼šç±»çš„æ ¸å¿ƒï¼šå±æ€§ (Property) ä¸è‡ªå®šä¹‰è®¿é—®å™¨ (Getter/Setter)"/> <meta itemprop="keywords" content="Android,Kotlin,åç«¯"/> <meta itemprop="datePublished" content="2025-11-24T09:13:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Android_å°é›¨"/> <meta itemprop="url" content="https://juejin.cn/user/220360279590862"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            9.Kotlin ç±»ï¼šç±»çš„æ ¸å¿ƒï¼šå±æ€§ (Property) ä¸è‡ªå®šä¹‰è®¿é—®å™¨ (Getter/Setter)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/220360279590862/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Android_å°é›¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T09:13:51.000Z" title="Mon Nov 24 2025 09:13:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»25åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><blockquote>
<p>å¸Œæœ›å¸®ä½ åœ¨Kotlinè¿›é˜¶è·¯ä¸Šå°‘èµ°å¼¯è·¯ï¼Œåœ¨æŠ€æœ¯ä¸Šç¨³æ­¥æå‡ã€‚å½“ç„¶ï¼Œç”±äºä¸ªäººçŸ¥è¯†å‚¨å¤‡æœ‰é™ï¼Œç¬”è®°ä¸­éš¾å…å­˜åœ¨ç–æ¼æˆ–è¡¨è¿°ä¸å½“çš„åœ°æ–¹ï¼Œä¹Ÿéå¸¸æ¬¢è¿å¤§å®¶æå‡ºå®è´µæ„è§ï¼Œä¸€èµ·äº¤æµè¿›æ­¥ã€‚ â€”â€” Android_å°é›¨</p>
</blockquote>
<p>æ•´ä½“ç›®å½•ï¼š<a href="https://juejin.cn/spost/7573592952242602036" target="_blank" title="https://juejin.cn/spost/7573592952242602036">Kotlin è¿›é˜¶ä¸è¿·è·¯ï¼š41 ä¸ªæ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œæ„å»ºå®Œæ•´çŸ¥è¯†ä½“ç³»</a></p>
<h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<h3 data-id="heading-1">1.1 ç±»å±æ€§çš„æ ¸å¿ƒä½œç”¨</h3>
<p>åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä½“ç³»ä¸­ï¼Œ<strong>ç±»å±æ€§</strong>æ˜¯åˆ»ç”»å¯¹è±¡æœ¬è´¨çš„æ ¸å¿ƒè¦ç´ ï¼Œå…¶æ ¸å¿ƒä½œç”¨æ˜¯<strong>å­˜å‚¨å¯¹è±¡çš„çŠ¶æ€ä¿¡æ¯å¹¶æè¿°å¯¹è±¡çš„å›ºæœ‰ç‰¹å¾</strong>ã€‚å¦‚æœå°†ç±»æ¯”ä½œåˆ›å»ºå¯¹è±¡çš„â€œè“å›¾â€ï¼Œé‚£ä¹ˆå±æ€§å°±æ˜¯è“å›¾ä¸­å®šä¹‰çš„â€œæ•°æ®æ’æ§½â€ï¼Œæ¯ä¸ªå¯¹è±¡é€šè¿‡è¿™äº›æ’æ§½å­˜å‚¨è‡ªèº«ç‹¬æœ‰çš„æ•°æ®ã€‚ä¾‹å¦‚â€œPersonâ€ç±»çš„â€œnameâ€â€œageâ€å±æ€§ï¼Œå¯ç²¾å‡†å­˜å‚¨å…·ä½“äººç‰©çš„å§“åä¸å¹´é¾„ï¼›â€œBookâ€ç±»çš„â€œtitleâ€â€œauthorâ€â€œpriceâ€å±æ€§ï¼Œèƒ½æ¸…æ™°æè¿°ä¸€æœ¬ä¹¦çš„æ ¸å¿ƒç‰¹å¾ã€‚ç¼ºå°‘å±æ€§çš„ç±»æ— æ³•æ‰¿è½½å¯¹è±¡çš„çŠ¶æ€ï¼Œé¢å‘å¯¹è±¡çš„æŠ½è±¡æ€§ä¸å°è£…æ€§ä¹Ÿæ— ä»è°ˆèµ·ã€‚</p>
<h3 data-id="heading-2">1.2 Kotlin å±æ€§çš„ç‰¹ç‚¹</h3>
<p>ç›¸è¾ƒäº Java ä¸­â€œå­—æ®µï¼ˆFieldï¼‰+ è®¿é—®å™¨ï¼ˆGetter/Setterï¼‰â€çš„åˆ†ç¦»å¼è®¾è®¡ï¼ŒKotlin çš„å±æ€§è®¾è®¡å®ç°äº†â€œç®€æ´æ€§â€ä¸â€œçµæ´»æ€§â€çš„ç»Ÿä¸€ï¼Œæ ¸å¿ƒç‰¹ç‚¹ä½“ç°åœ¨ä¸¤æ–¹é¢ï¼š</p>
<ul>
<li><strong>é»˜è®¤è®¿é—®å™¨è‡ªåŠ¨ç”Ÿæˆ</strong>ï¼šå®šä¹‰å±æ€§æ—¶ï¼ŒKotlin ä¼šæ ¹æ®å±æ€§å¯å˜æ€§ï¼ˆvar/valï¼‰è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„ Getterï¼ˆè¯»å–æ–¹æ³•ï¼‰å’Œ Setterï¼ˆä¿®æ”¹æ–¹æ³•ï¼‰ï¼Œæ— éœ€åƒ Java é‚£æ ·æ‰‹åŠ¨ç¼–å†™å†—ä½™çš„è®¿é—®å™¨ä»£ç ã€‚ä¾‹å¦‚å®šä¹‰â€œvar age: Intâ€ï¼ŒKotlin ä¼šè‡ªåŠ¨ç”Ÿæˆâ€œgetAge()â€å’Œâ€œsetAge()â€æ–¹æ³•ï¼Œå¤§å¹…ç®€åŒ–å¼€å‘æµç¨‹ï¼›</li>
<li><strong>æ”¯æŒçµæ´»è‡ªå®šä¹‰è®¿é—®å™¨</strong>ï¼šå½“é»˜è®¤è®¿é—®å™¨æ— æ³•æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ï¼ˆå¦‚æ•°æ®æ ¡éªŒã€åŠ¨æ€è®¡ç®—ã€æ ¼å¼è½¬æ¢ç­‰ï¼‰æ—¶ï¼Œå¯ç›´æ¥åœ¨å±æ€§å®šä¹‰ä¸­é‡å†™ Getter æˆ– Setter é€»è¾‘ï¼Œæ—¢ä¿ç•™äº†è¯­æ³•ç®€æ´æ€§ï¼Œåˆèƒ½é€‚é…å¤æ‚åœºæ™¯ã€‚</li>
</ul>
<h3 data-id="heading-3">1.3 æœ¬æ–‡æ ¸å¿ƒå†…å®¹é¢„å‘Š</h3>
<p>æœ¬æ–‡å°†å›´ç»• Kotlin ç±»çš„â€œå±æ€§â€ä¸â€œè®¿é—®å™¨â€å±•å¼€ç³»ç»Ÿè®²è§£ï¼Œéµå¾ªâ€œåŸºç¡€è®¤çŸ¥â†’åŸç†å‰–æâ†’å®è·µåº”ç”¨â†’æ€»ç»“å‡åâ€çš„é€»è¾‘è„‰ç»œï¼šé¦–å…ˆä»å±æ€§çš„åŸºæœ¬å®šä¹‰è¯­æ³•ã€å¯å˜ä¸åªè¯»å±æ€§çš„åŒºåˆ«å…¥æ‰‹ï¼ŒæŒæ¡å±æ€§çš„é»˜è®¤è¡Œä¸ºï¼›æ¥ç€æ·±å…¥è§£æè®¿é—®å™¨ï¼ˆGetter/Setterï¼‰çš„æ ¸å¿ƒåŸç†ï¼Œç†è§£å±æ€§è¯»å†™çš„åº•å±‚é€»è¾‘ï¼›ç„¶åé‡ç‚¹è®²è§£è‡ªå®šä¹‰è®¿é—®å™¨çš„è¯­æ³•åŠç”¨æ³•ï¼ŒåŒ…æ‹¬è‡ªå®šä¹‰ Getter å®ç°åŠ¨æ€è®¡ç®—ã€è‡ªå®šä¹‰ Setter å®ç°æ•°æ®æ ¡éªŒç­‰å…³é”®åœºæ™¯ï¼›ä¹‹åç»“åˆå®é™…å¼€å‘æ¡ˆä¾‹ï¼Œå±•ç¤ºä¸åŒè®¿é—®å™¨ç”¨æ³•çš„é€‚ç”¨åœºæ™¯ï¼›æœ€åæ€»ç»“æ ¸å¿ƒçŸ¥è¯†ç‚¹ã€é¿å‘è¦ç‚¹åŠä¼˜åŒ–æŠ€å·§ï¼Œå¸®åŠ©è¯»è€…é«˜æ•ˆæŒæ¡ Kotlin å±æ€§çš„ä½¿ç”¨ç²¾é«“ã€‚</p>
<h2 data-id="heading-4">äºŒã€ç±»å±æ€§åŸºç¡€ï¼šå®šä¹‰ä¸é»˜è®¤è¡Œä¸º</h2>
<p>Kotlin çš„å±æ€§æ˜¯â€œå­—æ®µ + è®¿é—®å™¨â€çš„å°è£…ä½“ï¼Œå®šä¹‰æ—¶æ— éœ€æ˜¾å¼åŒºåˆ†å­—æ®µå’Œè®¿é—®å™¨ï¼Œé€šè¿‡ç®€æ´è¯­æ³•å³å¯å®Œæˆå®šä¹‰ï¼Œå…¶é»˜è®¤è¡Œä¸ºå·²èƒ½æ»¡è¶³å¤§éƒ¨åˆ†å¸¸è§„å¼€å‘åœºæ™¯ã€‚</p>
<h3 data-id="heading-5">2.1 å±æ€§çš„åŸºæœ¬è¯­æ³•</h3>
<p>Kotlin ç±»å±æ€§çš„å®šä¹‰è¯­æ³•é«˜åº¦å‡ç»ƒï¼Œæ ¸å¿ƒç”±â€œå¯å˜æ€§å…³é”®å­— + å±æ€§å + æ•°æ®ç±»å‹ + é»˜è®¤å€¼â€å››éƒ¨åˆ†ç»„æˆï¼Œæ ¹æ®åœºæ™¯ä¸åŒå¯è¡ç”Ÿå‡ºå¤šç§ç®€åŒ–å½¢å¼ï¼ŒåŸºæœ¬æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å®Œæ•´è¯­æ³•ï¼šå¯å˜æ€§å…³é”®å­— + å±æ€§å + ç±»å‹ + é»˜è®¤å€¼</span>
<span class="hljs-keyword">var</span>/<span class="hljs-keyword">val</span> å±æ€§å: æ•°æ®ç±»å‹ = é»˜è®¤å€¼

<span class="hljs-comment">// ç®€åŒ–åœºæ™¯1ï¼šç±»å‹æ¨æ–­ï¼ˆé»˜è®¤å€¼æ˜ç¡®æ—¶å¯çœç•¥æ•°æ®ç±»å‹ï¼‰</span>
<span class="hljs-keyword">var</span>/<span class="hljs-keyword">val</span> å±æ€§å = é»˜è®¤å€¼

<span class="hljs-comment">// ç®€åŒ–åœºæ™¯2ï¼šå»¶è¿Ÿåˆå§‹åŒ–ï¼ˆé€‚ç”¨äºæ— æ³•ç«‹å³èµ‹å€¼çš„éç©ºå¼•ç”¨ç±»å‹ï¼‰</span>
<span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> å±æ€§å: æ•°æ®ç±»å‹

<span class="hljs-comment">// ç®€åŒ–åœºæ™¯3ï¼šæƒ°æ€§åˆå§‹åŒ–ï¼ˆé€‚ç”¨äºé‡é‡çº§å¯¹è±¡ï¼Œé¦–æ¬¡è®¿é—®æ—¶åˆå§‹åŒ–ï¼‰</span>
<span class="hljs-keyword">val</span> å±æ€§å: æ•°æ®ç±»å‹ <span class="hljs-keyword">by</span> lazy { åˆå§‹åŒ–é€»è¾‘ }

</code></pre>
<p>è¯­æ³•è¯´æ˜ï¼š</p>
<ul>
<li><strong>å¯å˜æ€§å…³é”®å­—</strong>ï¼šâ€œvarâ€ï¼ˆvariable çš„ç¼©å†™ï¼‰è¡¨ç¤ºå¯å˜å±æ€§ï¼Œæ”¯æŒè¯»å†™æ“ä½œï¼›â€œvalâ€ï¼ˆvalue çš„ç¼©å†™ï¼‰è¡¨ç¤ºåªè¯»å±æ€§ï¼Œä»…æ”¯æŒè¯»å–æ“ä½œï¼Œåˆå§‹åŒ–åä¸å¯ä¿®æ”¹ï¼›</li>
<li><strong>æ•°æ®ç±»å‹</strong>ï¼šæŒ‡å®šå±æ€§å­˜å‚¨çš„æ•°æ®ç±»å‹ï¼ˆå¦‚ Stringã€Intã€Boolean ç­‰ï¼‰ï¼ŒKotlin æ”¯æŒå¼ºå¤§çš„ç±»å‹æ¨æ–­ï¼Œè‹¥æä¾›é»˜è®¤å€¼ä¸”ç±»å‹æ˜ç¡®ï¼Œå¯çœç•¥æ•°æ®ç±»å‹ï¼›</li>
<li><strong>é»˜è®¤å€¼</strong>ï¼šå±æ€§çš„åˆå§‹å€¼ï¼Œè‹¥æš‚æ—¶æ— æ³•èµ‹å€¼ï¼ˆå¦‚ä¾èµ–åç»­æ³¨å…¥ï¼‰ï¼Œå¯ä½¿ç”¨â€œlateinitâ€ï¼ˆä»…é€‚ç”¨äº var ä¿®é¥°çš„éç©ºå¼•ç”¨ç±»å‹ï¼‰æˆ–â€œlazyâ€ï¼ˆä»…é€‚ç”¨äº val ä¿®é¥°çš„å±æ€§ï¼‰å®ç°å»¶è¿Ÿåˆå§‹åŒ–ï¼›</li>
<li><strong>lateinit ä¸ lazy åŒºåˆ«</strong>ï¼šlateinit éœ€æ‰‹åŠ¨èµ‹å€¼åæ‰èƒ½è®¿é—®ï¼Œå¦åˆ™æŠ›å‡ºæœªåˆå§‹åŒ–å¼‚å¸¸ï¼›lazy é€šè¿‡ Lambda è¡¨è¾¾å¼å®šä¹‰åˆå§‹åŒ–é€»è¾‘ï¼Œé¦–æ¬¡è®¿é—®æ—¶æ‰§è¡Œä¸”ä»…æ‰§è¡Œä¸€æ¬¡ï¼Œè¿”å›åˆå§‹åŒ–ç»“æœã€‚</li>
</ul>
<h3 data-id="heading-6">2.2 å¯å˜å±æ€§ (var) ä¸åªè¯»å±æ€§ (val) çš„åŒºåˆ«</h3>
<p>â€œvarâ€å’Œâ€œvalâ€æ˜¯ Kotlin åŒºåˆ†å±æ€§å¯å˜æ€§çš„æ ¸å¿ƒå…³é”®å­—ï¼Œä¸¤è€…çš„æœ¬è´¨åŒºåˆ«ä½“ç°åœ¨â€œå¯ä¿®æ”¹æ€§â€â€œç”Ÿæˆçš„è®¿é—®å™¨ç±»å‹â€åŠâ€œåº•å±‚å®ç°â€ä¸Šï¼Œå…·ä½“å¯¹æ¯”å¦‚ä¸‹è¡¨ï¼š</p>






























<table><thead><tr><th><strong>å¯¹æ¯”ç»´åº¦</strong></th><th><strong>å¯å˜å±æ€§ï¼ˆvarï¼‰</strong></th><th><strong>åªè¯»å±æ€§ï¼ˆvalï¼‰</strong></th></tr></thead><tbody><tr><td>å¯å˜æ€§</td><td>æ”¯æŒè¯»å–å’Œä¿®æ”¹æ“ä½œ</td><td>ä»…æ”¯æŒè¯»å–ï¼Œåˆå§‹åŒ–åä¸å¯ä¿®æ”¹</td></tr><tr><td>é»˜è®¤è®¿é—®å™¨</td><td>è‡ªåŠ¨ç”Ÿæˆ Getter å’Œ Setter æ–¹æ³•</td><td>ä»…è‡ªåŠ¨ç”Ÿæˆ Getter æ–¹æ³•ï¼Œæ—  Setter æ–¹æ³•</td></tr><tr><td>åº•å±‚å®ç°ï¼ˆJava è§†è§’ï¼‰</td><td>å¯¹åº”â€œç§æœ‰å­—æ®µ + getXxx() + setXxx()â€</td><td>å¯¹åº”â€œç§æœ‰ final å­—æ®µ + getXxx()â€ï¼ˆå­—æ®µä¸å¯ä¿®æ”¹ï¼‰</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>å¯¹è±¡çŠ¶æ€éœ€åŠ¨æ€æ›´æ–°çš„å±æ€§ï¼ˆå¦‚ç”¨æˆ·å¹´é¾„ã€å•†å“åº“å­˜ï¼‰</td><td>å¯¹è±¡çŠ¶æ€å›ºå®šä¸å˜çš„å±æ€§ï¼ˆå¦‚ç”¨æˆ· IDã€ä¹¦ç± ISBNã€åˆ›å»ºæ—¶é—´ï¼‰</td></tr></tbody></table>
<p>ç¤ºä¾‹ï¼šå¯å˜å±æ€§ä¸åªè¯»å±æ€§çš„å®šä¹‰åŠä½¿ç”¨</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å®šä¹‰åŒ…å«å¯å˜å’Œåªè¯»å±æ€§çš„ç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>(
    <span class="hljs-keyword">val</span> userId: String,  <span class="hljs-comment">// åªè¯»å±æ€§ï¼šç”¨æˆ·IDä¸€æ—¦ç”Ÿæˆä¸å¯ä¿®æ”¹</span>
    <span class="hljs-keyword">var</span> userName: String, <span class="hljs-comment">// å¯å˜å±æ€§ï¼šç”¨æˆ·åå¯ä¿®æ”¹</span>
    <span class="hljs-keyword">var</span> userAge: <span class="hljs-built_in">Int</span>      <span class="hljs-comment">// å¯å˜å±æ€§ï¼šå¹´é¾„å¯æ›´æ–°</span>
)

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// åˆ›å»ºå¯¹è±¡å¹¶åˆå§‹åŒ–å±æ€§</span>
    <span class="hljs-keyword">val</span> user = User(<span class="hljs-string">"U2024001"</span>, <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">25</span>)

    <span class="hljs-comment">// è¯»å–å±æ€§ï¼ˆéšå¼è°ƒç”¨ Getter æ–¹æ³•ï¼‰</span>
    println(<span class="hljs-string">"ç”¨æˆ·IDï¼š<span class="hljs-subst">${user.userId}</span>"</span>)    <span class="hljs-comment">// è¾“å‡ºï¼šç”¨æˆ·IDï¼šU2024001</span>
    println(<span class="hljs-string">"ç”¨æˆ·åï¼š<span class="hljs-subst">${user.userName}</span>"</span>)  <span class="hljs-comment">// è¾“å‡ºï¼šç”¨æˆ·åï¼šå¼ ä¸‰</span>

    <span class="hljs-comment">// ä¿®æ”¹å¯å˜å±æ€§ï¼ˆéšå¼è°ƒç”¨ Setter æ–¹æ³•ï¼‰</span>
    user.userName = <span class="hljs-string">"å¼ ä¸‰ä¸‰"</span>
    user.userAge = <span class="hljs-number">26</span>
    println(<span class="hljs-string">"ä¿®æ”¹åç”¨æˆ·åï¼š<span class="hljs-subst">${user.userName}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šä¿®æ”¹åç”¨æˆ·åï¼šå¼ ä¸‰ä¸‰</span>
    println(<span class="hljs-string">"ä¿®æ”¹åå¹´é¾„ï¼š<span class="hljs-subst">${user.userAge}</span>"</span>)   <span class="hljs-comment">// è¾“å‡ºï¼šä¿®æ”¹åå¹´é¾„ï¼š26</span>

    <span class="hljs-comment">// å°è¯•ä¿®æ”¹åªè¯»å±æ€§ï¼šç¼–è¯‘æŠ¥é”™ï¼ˆval ä¸å¯é‡æ–°èµ‹å€¼ï¼‰</span>
    <span class="hljs-comment">// user.userId = "U2024002"  // é”™è¯¯æç¤ºï¼šVal cannot be reassigned</span>
}

</code></pre>
<h3 data-id="heading-7">2.3 é»˜è®¤è®¿é—®å™¨</h3>
<p>Kotlin çš„æ ¸å¿ƒç‰¹æ€§ä¹‹ä¸€æ˜¯â€œ<strong>é»˜è®¤è®¿é—®å™¨è‡ªåŠ¨ç”Ÿæˆ</strong>â€ï¼Œå®šä¹‰å±æ€§æ—¶æ— éœ€åƒ Java é‚£æ ·æ‰‹åŠ¨ç¼–å†™ Getter å’Œ Setter æ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®å±æ€§å¯å˜æ€§è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„è®¿é—®å™¨ï¼Œéšè—åº•å±‚å®ç°ç»†èŠ‚ï¼Œç®€åŒ–å¼€å‘ã€‚</p>
<p>é»˜è®¤è®¿é—®å™¨çš„ç”Ÿæˆè§„åˆ™ï¼š</p>
<ol>
<li><strong>å¯å˜å±æ€§ï¼ˆvarï¼‰</strong>ï¼šè‡ªåŠ¨ç”Ÿæˆä¸€å¯¹è®¿é—®å™¨æ–¹æ³•â€”â€”Getter ç”¨äºè¯»å–å±æ€§å€¼ï¼ŒSetter ç”¨äºä¿®æ”¹å±æ€§å€¼ã€‚ä¾‹å¦‚å±æ€§â€œvar age: Intâ€ï¼Œä¼šç”Ÿæˆâ€œgetAge(): Intâ€å’Œâ€œsetAge(value: Int)â€æ–¹æ³•ï¼ˆJava ä»£ç ä¸­å¯è§ï¼ŒKotlin ä¸­éšå¼è°ƒç”¨ï¼‰ï¼›</li>
<li><strong>åªè¯»å±æ€§ï¼ˆvalï¼‰</strong>ï¼šä»…ç”Ÿæˆ Getter æ–¹æ³•ï¼Œæ—  Setter æ–¹æ³•ã€‚ä¾‹å¦‚å±æ€§â€œval id: Stringâ€ï¼Œä»…ç”Ÿæˆâ€œgetId(): Stringâ€æ–¹æ³•ï¼Œç¡®ä¿å±æ€§æ— æ³•è¢«ä¿®æ”¹ã€‚</li>
</ol>
<p>é»˜è®¤è®¿é—®å™¨çš„æ ¸å¿ƒé€»è¾‘ï¼šGetter æ–¹æ³•ç›´æ¥è¿”å›å±æ€§å¯¹åº”çš„åº•å±‚å­—æ®µå€¼ï¼ŒSetter æ–¹æ³•ç›´æ¥å°†ä¼ å…¥çš„å‚æ•°å€¼èµ‹å€¼ç»™åº•å±‚å­—æ®µï¼Œæ— é¢å¤–ä¸šåŠ¡é€»è¾‘ï¼Œé€‚ç”¨äºâ€œæ— éœ€æ•°æ®å¤„ç†ã€ç›´æ¥è¯»å†™â€çš„å¸¸è§„åœºæ™¯ã€‚</p>
<p>ä¸ºæ›´ç›´è§‚ç†è§£é»˜è®¤è®¿é—®å™¨ï¼Œä»¥ä¸‹æ˜¯ Kotlin ä»£ç ä¸å¯¹åº” Java ä»£ç çš„å¯¹æ¯”ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Java ä»£ç ï¼šéœ€æ‰‹åŠ¨å®šä¹‰å­—æ®µå’Œè®¿é—®å™¨ï¼ˆå†—ä½™ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JavaBook</span> {
    <span class="hljs-comment">// ç§æœ‰å­—æ®µ</span>
    <span class="hljs-keyword">private</span> String title;
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> price;

    <span class="hljs-comment">// æ‰‹åŠ¨ç¼–å†™ Getter æ–¹æ³•</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getTitle</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> title;
    }

    <span class="hljs-comment">// æ‰‹åŠ¨ç¼–å†™ Setter æ–¹æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setTitle</span><span class="hljs-params">(String title)</span> {
        <span class="hljs-built_in">this</span>.title = title;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">getPrice</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> price;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPrice</span><span class="hljs-params">(<span class="hljs-type">double</span> price)</span> {
        <span class="hljs-built_in">this</span>.price = price;
    }

    <span class="hljs-comment">// æ„é€ å‡½æ•°</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">JavaBook</span><span class="hljs-params">(String title, <span class="hljs-type">double</span> price)</span> {
        <span class="hljs-built_in">this</span>.title = title;
        <span class="hljs-built_in">this</span>.price = price;
    }
}

</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Kotlin ä»£ç ï¼šè‡ªåŠ¨ç”Ÿæˆè®¿é—®å™¨ï¼ˆç®€æ´ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">KotlinBook</span>(
    <span class="hljs-keyword">var</span> title: String,  <span class="hljs-comment">// è‡ªåŠ¨ç”Ÿæˆ Getter å’Œ Setter</span>
    <span class="hljs-keyword">var</span> price: <span class="hljs-built_in">Double</span>   <span class="hljs-comment">// è‡ªåŠ¨ç”Ÿæˆ Getter å’Œ Setter</span>
)

<span class="hljs-comment">// ç¼–è¯‘åç­‰ä»·äº JavaBook ç±»ï¼Œè®¿é—®å™¨ç”±ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆ</span>

</code></pre>
<h3 data-id="heading-8">2.4 ç®€å•ç¤ºä¾‹</h3>
<p>ç»¼åˆå±æ€§å®šä¹‰çš„åŸºç¡€è¯­æ³•ã€å¯å˜æ€§åŠé»˜è®¤è®¿é—®å™¨ç‰¹æ€§ï¼Œé€šè¿‡â€œBookâ€ç±»å±•ç¤ºå®Œæ•´ä½¿ç”¨æµç¨‹ï¼ŒåŒ…å«å»¶è¿Ÿåˆå§‹åŒ–å’Œæƒ°æ€§åˆå§‹åŒ–çš„åº”ç”¨ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> java.util.Date

<span class="hljs-comment">/**
 * ä¹¦ç±ç±»ï¼šæ¼”ç¤ºå±æ€§å®šä¹‰çš„å¤šç§åœºæ™¯
 * isbnï¼šåªè¯»å±æ€§ï¼ˆä¹¦ç±å”¯ä¸€æ ‡è¯†ï¼Œå›ºå®šä¸å˜ï¼‰
 * titleï¼šå¯å˜å±æ€§ï¼ˆä¹¦åå¯ä¿®æ”¹ï¼‰
 * authorï¼šå¯å˜å±æ€§ï¼ˆä½œè€…å¯ä¿®æ”¹ï¼‰
 * publishDateï¼šå»¶è¿Ÿåˆå§‹åŒ–å±æ€§ï¼ˆå‡ºç‰ˆæ—¥æœŸï¼Œåç»­èµ‹å€¼ï¼‰
 * publisherï¼šæƒ°æ€§åˆå§‹åŒ–å±æ€§ï¼ˆå‡ºç‰ˆç¤¾ä¿¡æ¯ï¼Œé¦–æ¬¡è®¿é—®æ—¶åˆå§‹åŒ–ï¼‰
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Book</span>(
    <span class="hljs-keyword">val</span> isbn: String,
    <span class="hljs-keyword">var</span> title: String,
    <span class="hljs-keyword">var</span> author: String
) {
    <span class="hljs-comment">// å»¶è¿Ÿåˆå§‹åŒ–å±æ€§ï¼ˆéç©ºå¼•ç”¨ç±»å‹ï¼Œéœ€æ‰‹åŠ¨èµ‹å€¼åè®¿é—®ï¼‰</span>
    <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> publishDate: Date

    <span class="hljs-comment">// æƒ°æ€§åˆå§‹åŒ–å±æ€§ï¼ˆé‡é‡çº§å¯¹è±¡ï¼Œé¦–æ¬¡è®¿é—®æ—¶æ‰§è¡Œåˆå§‹åŒ–é€»è¾‘ï¼‰</span>
    <span class="hljs-keyword">val</span> publisher: String <span class="hljs-keyword">by</span> lazy {
        println(<span class="hljs-string">"åˆå§‹åŒ–å‡ºç‰ˆç¤¾ä¿¡æ¯..."</span>) <span class="hljs-comment">// ä»…é¦–æ¬¡è®¿é—®æ—¶æ‰“å°</span>
        <span class="hljs-string">"æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾"</span>
    }

    <span class="hljs-comment">// ç±»æ–¹æ³•ï¼šå±•ç¤ºä¹¦ç±ä¿¡æ¯</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">showInfo</span><span class="hljs-params">()</span></span> {
        println(<span class="hljs-string">"ISBNï¼š<span class="hljs-variable">$isbn</span>ï¼Œä¹¦åï¼š<span class="hljs-variable">$title</span>ï¼Œä½œè€…ï¼š<span class="hljs-variable">$author</span>"</span>)
        println(<span class="hljs-string">"å‡ºç‰ˆæ—¥æœŸï¼š<span class="hljs-variable">$publishDate</span>ï¼Œå‡ºç‰ˆç¤¾ï¼š<span class="hljs-variable">$publisher</span>"</span>)
    }
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// 1. åˆ›å»ºå¯¹è±¡å¹¶åˆå§‹åŒ–å¿…å¡«å±æ€§</span>
    <span class="hljs-keyword">val</span> book = Book(
        isbn = <span class="hljs-string">"9787111641247"</span>,
        title = <span class="hljs-string">"Kotlin ç¼–ç¨‹å®æˆ˜"</span>,
        author = <span class="hljs-string">"å¼ ä¸‰"</span>
    )

    <span class="hljs-comment">// 2. å»¶è¿Ÿåˆå§‹åŒ–å±æ€§èµ‹å€¼ï¼ˆå¿…é¡»èµ‹å€¼åæ‰èƒ½è®¿é—®ï¼‰</span>
    book.publishDate = Date()

    <span class="hljs-comment">// 3. è¯»å–å’Œä¿®æ”¹å±æ€§ï¼ˆè°ƒç”¨é»˜è®¤è®¿é—®å™¨ï¼‰</span>
    println(<span class="hljs-string">"ä¿®æ”¹å‰ä¹¦åï¼š<span class="hljs-subst">${book.title}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šä¿®æ”¹å‰ä¹¦åï¼šKotlin ç¼–ç¨‹å®æˆ˜</span>
    book.title = <span class="hljs-string">"Kotlin ç¼–ç¨‹å®æˆ˜ï¼ˆç¬¬2ç‰ˆï¼‰"</span> <span class="hljs-comment">// è°ƒç”¨ Setter ä¿®æ”¹</span>
    println(<span class="hljs-string">"ä¿®æ”¹åä¹¦åï¼š<span class="hljs-subst">${book.title}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šä¿®æ”¹åä¹¦åï¼šKotlin ç¼–ç¨‹å®æˆ˜ï¼ˆç¬¬2ç‰ˆï¼‰</span>

    <span class="hljs-comment">// 4. è®¿é—®æƒ°æ€§åˆå§‹åŒ–å±æ€§ï¼ˆé¦–æ¬¡è®¿é—®ï¼‰</span>
    println(<span class="hljs-string">"å‡ºç‰ˆç¤¾ï¼š<span class="hljs-subst">${book.publisher}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šåˆå§‹åŒ–å‡ºç‰ˆç¤¾ä¿¡æ¯... æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾</span>
    <span class="hljs-comment">// å†æ¬¡è®¿é—®æƒ°æ€§åˆå§‹åŒ–å±æ€§ï¼ˆä¸æ‰§è¡Œåˆå§‹åŒ–é€»è¾‘ï¼‰</span>
    println(<span class="hljs-string">"å‡ºç‰ˆç¤¾ï¼š<span class="hljs-subst">${book.publisher}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šæœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾</span>

    <span class="hljs-comment">// 5. è°ƒç”¨æ–¹æ³•å±•ç¤ºå®Œæ•´ä¿¡æ¯</span>
    book.showInfo()
    <span class="hljs-comment">/* è¾“å‡ºï¼š
    ISBNï¼š9787111641247ï¼Œä¹¦åï¼šKotlin ç¼–ç¨‹å®æˆ˜ï¼ˆç¬¬2ç‰ˆï¼‰ï¼Œä½œè€…ï¼šå¼ ä¸‰
    å‡ºç‰ˆæ—¥æœŸï¼šWed Oct 11 15:30:00 CST 2024ï¼Œå‡ºç‰ˆç¤¾ï¼šæœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾
    */</span>
}

</code></pre>
<h2 data-id="heading-9">ä¸‰ã€è®¿é—®å™¨åŸç†ï¼šGetter ä¸ Setter æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>è™½ç„¶ Kotlin éšè—äº†è®¿é—®å™¨çš„æ˜¾å¼å®šä¹‰ï¼Œä½†å±æ€§çš„è¯»å†™æ“ä½œæœ¬è´¨ä¸Šéƒ½æ˜¯é€šè¿‡è®¿é—®å™¨å®Œæˆçš„ã€‚æ·±å…¥ç†è§£ Getter å’Œ Setter çš„å·¥ä½œåŸç†ï¼Œæ˜¯æŒæ¡è‡ªå®šä¹‰è®¿é—®å™¨çš„åŸºç¡€ï¼Œä¹Ÿæ˜¯æ’æŸ¥å±æ€§ç›¸å…³é—®é¢˜çš„å…³é”®ã€‚</p>
<h3 data-id="heading-10">3.1 Getterï¼šè·å–å±æ€§å€¼çš„æ–¹æ³•</h3>
<p><strong>Getter æ˜¯ç”¨äºè¯»å–å±æ€§å€¼çš„ç‰¹æ®Šæ–¹æ³•</strong>ï¼Œå½“é€šè¿‡â€œå¯¹è±¡.å±æ€§åâ€çš„è¯­æ³•è¯»å–å±æ€§æ—¶ï¼ŒKotlin ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†å…¶è½¬æ¢ä¸ºå¯¹ Getter æ–¹æ³•çš„è°ƒç”¨ï¼Œæœ€ç»ˆè¿”å›å±æ€§çš„å®é™…å€¼ã€‚</p>
<p>Getter çš„æ ¸å¿ƒç‰¹ç‚¹ï¼š</p>
<ul>
<li><strong>è§¦å‘æ—¶æœº</strong>ï¼šæ¯æ¬¡é€šè¿‡â€œå¯¹è±¡.å±æ€§åâ€è¯»å–å±æ€§æ—¶ï¼Œéƒ½ä¼šè§¦å‘ Getter æ–¹æ³•çš„æ‰§è¡Œï¼›</li>
<li><strong>è¿”å›å€¼</strong>ï¼šè¿”å›å€¼ç±»å‹ä¸å±æ€§çš„ç±»å‹å®Œå…¨ä¸€è‡´ï¼Œç¡®ä¿æ•°æ®ç±»å‹åŒ¹é…ï¼›</li>
<li><strong>åªè¯»å±æ€§çš„æ ¸å¿ƒ</strong>ï¼šval ç±»å‹å±æ€§ä»…ç”Ÿæˆ Getter æ–¹æ³•ï¼Œæ—  Setter æ–¹æ³•ï¼Œå› æ­¤æ— æ³•ä¿®æ”¹å±æ€§å€¼ï¼Œæœ¬è´¨æ˜¯ç¼ºå°‘ä¿®æ”¹å…¥å£ï¼›</li>
<li><strong>é»˜è®¤é€»è¾‘</strong>ï¼šé»˜è®¤ç”Ÿæˆçš„ Getter æ–¹æ³•ç›´æ¥è¿”å›å±æ€§å¯¹åº”çš„åº•å±‚å­—æ®µå€¼ï¼Œæ— é¢å¤–ä¸šåŠ¡é€»è¾‘ã€‚</li>
</ul>
<p>ä¸ºæ›´æ¸…æ™°ç†è§£ Getter åŸç†ï¼Œå¯é€šè¿‡åç¼–è¯‘ Kotlin ä»£ç æŸ¥çœ‹å…¶åº•å±‚å®ç°ï¼ˆä»¥â€œPersonâ€ç±»ä¸ºä¾‹ï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Kotlin ä»£ç </span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>(<span class="hljs-keyword">val</span> name: String, <span class="hljs-keyword">var</span> age: <span class="hljs-built_in">Int</span>)

<span class="hljs-comment">// åç¼–è¯‘åçš„ Java ä»£ç ï¼ˆç®€åŒ–ç‰ˆï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
    <span class="hljs-comment">// åªè¯»å±æ€§å¯¹åº” final å­—æ®µï¼ˆä¸å¯ä¿®æ”¹ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String name;
    <span class="hljs-comment">// å¯å˜å±æ€§å¯¹åº”æ™®é€šå­—æ®µï¼ˆå¯ä¿®æ”¹ï¼‰</span>
    <span class="hljs-keyword">private</span> int age;

    <span class="hljs-comment">// åªè¯»å±æ€§çš„ Getter æ–¹æ³•ï¼ˆæ—  Setterï¼‰</span>
    <span class="hljs-keyword">public</span> String getName() {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name;
    }

    <span class="hljs-comment">// å¯å˜å±æ€§çš„ Getter æ–¹æ³•</span>
    <span class="hljs-keyword">public</span> int getAge() {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.age;
    }

    <span class="hljs-comment">// å¯å˜å±æ€§çš„ Setter æ–¹æ³•</span>
    <span class="hljs-keyword">public</span> void setAge(int age) {
        <span class="hljs-keyword">this</span>.age = age;
    }

    <span class="hljs-comment">// æ„é€ å‡½æ•°</span>
    <span class="hljs-keyword">public</span> Person(String name, int age) {
        <span class="hljs-keyword">this</span>.name = name;
        <span class="hljs-keyword">this</span>.age = age;
    }
}

</code></pre>
<p>è§£æï¼šKotlin ä¸­â€œval name = person.nameâ€çš„è¯»å–æ“ä½œï¼Œæœ¬è´¨æ˜¯è°ƒç”¨äº† Java ä¸­çš„â€œperson.getName()â€æ–¹æ³•ï¼Œè¿”å›ç§æœ‰å­—æ®µâ€œnameâ€çš„å€¼ï¼Œè¿™å°±æ˜¯ Getter æ–¹æ³•çš„åº•å±‚æ‰§è¡Œé€»è¾‘ã€‚</p>
<h3 data-id="heading-11">3.2 Setterï¼šè®¾ç½®å±æ€§å€¼çš„æ–¹æ³•</h3>
<p><strong>Setter æ˜¯ç”¨äºä¿®æ”¹å±æ€§å€¼çš„ç‰¹æ®Šæ–¹æ³•</strong>ï¼Œå½“é€šè¿‡â€œå¯¹è±¡.å±æ€§å = æ–°å€¼â€çš„è¯­æ³•ä¿®æ”¹å±æ€§æ—¶ï¼ŒKotlin ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†å…¶è½¬æ¢ä¸ºå¯¹ Setter æ–¹æ³•çš„è°ƒç”¨ï¼Œå°†æ–°å€¼èµ‹å€¼ç»™å±æ€§çš„åº•å±‚å­—æ®µã€‚</p>
<p>Setter çš„æ ¸å¿ƒç‰¹ç‚¹ï¼š</p>
<ul>
<li><strong>è§¦å‘æ—¶æœº</strong>ï¼šæ¯æ¬¡é€šè¿‡â€œå¯¹è±¡.å±æ€§å = æ–°å€¼â€ä¿®æ”¹å±æ€§æ—¶ï¼Œéƒ½ä¼šè§¦å‘ Setter æ–¹æ³•çš„æ‰§è¡Œï¼›</li>
<li><strong>å‚æ•°</strong>ï¼šé»˜è®¤æ¥æ”¶ä¸€ä¸ªåä¸ºâ€œvalueâ€çš„å‚æ•°ï¼Œå‚æ•°ç±»å‹ä¸å±æ€§ç±»å‹ä¸€è‡´ï¼Œä»£è¡¨è¦è®¾ç½®çš„æ–°å€¼ï¼›</li>
<li><strong>å¯å˜å±æ€§ä¸“å±</strong>ï¼šä»… var ç±»å‹çš„å¯å˜å±æ€§ä¼šç”Ÿæˆ Setter æ–¹æ³•ï¼Œval ç±»å‹çš„åªè¯»å±æ€§æ—  Setter æ–¹æ³•ï¼Œå› æ­¤æ— æ³•ä¿®æ”¹ï¼›</li>
<li><strong>é»˜è®¤é€»è¾‘</strong>ï¼šé»˜è®¤ç”Ÿæˆçš„ Setter æ–¹æ³•ç›´æ¥å°†å‚æ•°â€œvalueâ€èµ‹å€¼ç»™åº•å±‚å­—æ®µï¼ˆå¦‚â€œthis.age = valueâ€ï¼‰ï¼Œæ— é¢å¤–ä¸šåŠ¡é€»è¾‘ã€‚</li>
</ul>
<p>åŸç†æ¼”ç¤ºï¼šKotlin ä¸­â€œperson.age = 26â€çš„ä¿®æ”¹æ“ä½œï¼Œæœ¬è´¨æ˜¯è°ƒç”¨äº† Java ä¸­çš„â€œperson.setAge(26)â€æ–¹æ³•ï¼Œå°† 26 èµ‹å€¼ç»™ç§æœ‰å­—æ®µâ€œageâ€ï¼Œå®Œæˆå±æ€§å€¼çš„ä¿®æ”¹ã€‚</p>
<h3 data-id="heading-12">3.3 é»˜è®¤è®¿é—®å™¨çš„æ‰§è¡Œé€»è¾‘</h3>
<p>å½“ä½¿ç”¨é»˜è®¤è®¿é—®å™¨æ—¶ï¼Œå±æ€§çš„è¯»å†™æ“ä½œéµå¾ªå›ºå®šçš„æ‰§è¡Œæµç¨‹ï¼Œæ•´ä¸ªè¿‡ç¨‹ç”±ç¼–è¯‘å™¨è‡ªåŠ¨å®Œæˆï¼Œå¼€å‘è€…æ— éœ€æ‰‹åŠ¨å¹²é¢„ã€‚æ˜ç¡®æ‰§è¡Œé€»è¾‘æœ‰åŠ©äºç†è§£å±æ€§å€¼çš„å˜åŒ–è¿‡ç¨‹ï¼Œé¿å…å› æ‰§è¡Œé¡ºåºå¯¼è‡´çš„é—®é¢˜ã€‚</p>
<h4 data-id="heading-13">3.3.1 è¯»å–å±æ€§çš„æ‰§è¡Œé€»è¾‘</h4>
<ol>
<li>å¼€å‘è€…ç¼–å†™â€œval å˜é‡ = å¯¹è±¡.å±æ€§åâ€çš„ä»£ç ï¼ˆå¦‚â€œval age = person.ageâ€ï¼‰ï¼›</li>
<li>ç¼–è¯‘å™¨å°†ä»£ç è½¬æ¢ä¸ºâ€œå¯¹è±¡.get+é¦–å­—æ¯å¤§å†™å±æ€§å()â€çš„æ–¹æ³•è°ƒç”¨ï¼ˆå¦‚â€œperson.getAge()â€ï¼‰ï¼›</li>
<li>Getter æ–¹æ³•æ‰§è¡Œï¼Œè¿”å›å±æ€§å¯¹åº”çš„åº•å±‚å­—æ®µå€¼ï¼ˆå¦‚â€œreturn this.ageâ€ï¼‰ï¼›</li>
<li>å°†è¿”å›å€¼èµ‹å€¼ç»™å˜é‡ï¼ˆå¦‚â€œage = 25â€ï¼‰ï¼Œè¯»å–æ“ä½œå®Œæˆã€‚</li>
</ol>
<h4 data-id="heading-14">3.3.2 ä¿®æ”¹å±æ€§çš„æ‰§è¡Œé€»è¾‘</h4>
<ol>
<li>å¼€å‘è€…ç¼–å†™â€œå¯¹è±¡.å±æ€§å = æ–°å€¼â€çš„ä»£ç ï¼ˆå¦‚â€œperson.age = 26â€ï¼‰ï¼›</li>
<li>ç¼–è¯‘å™¨å°†ä»£ç è½¬æ¢ä¸ºâ€œå¯¹è±¡.setå±æ€§å(æ–°å€¼)â€çš„æ–¹æ³•è°ƒç”¨ï¼ˆå¦‚â€œperson.setAge(26)â€ï¼‰ï¼›</li>
<li>Setter æ–¹æ³•æ‰§è¡Œï¼Œå°†ä¼ å…¥çš„æ–°å€¼èµ‹å€¼ç»™åº•å±‚å­—æ®µï¼ˆå¦‚â€œthis.age = 26â€ï¼‰ï¼›</li>
<li>å±æ€§å€¼ä¿®æ”¹å®Œæˆï¼ŒSetter æ–¹æ³•è¿”å›ï¼Œæ— è¿”å›å€¼ã€‚</li>
</ol>
<h4 data-id="heading-15">3.3.3 æ‰§è¡Œé€»è¾‘ç¤ºä¾‹éªŒè¯</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å®šä¹‰åŒ…å«å¯å˜å±æ€§çš„ç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Counter</span>(<span class="hljs-keyword">var</span> count: <span class="hljs-built_in">Int</span>)

<span class="hljs-comment">// æµ‹è¯•ä»£ç ï¼šéªŒè¯è®¿é—®å™¨æ‰§è¡Œé€»è¾‘</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> counter = Counter(<span class="hljs-number">0</span>)

    <span class="hljs-comment">// 1. è¯»å–å±æ€§ï¼šè§¦å‘ Getter</span>
    <span class="hljs-keyword">val</span> oldCount = counter.count
    println(<span class="hljs-string">"ä¿®æ”¹å‰è®¡æ•°ï¼š<span class="hljs-variable">$oldCount</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šä¿®æ”¹å‰è®¡æ•°ï¼š0</span>

    <span class="hljs-comment">// 2. ä¿®æ”¹å±æ€§ï¼šè§¦å‘ Setter</span>
    counter.count = <span class="hljs-number">10</span>

    <span class="hljs-comment">// 3. å†æ¬¡è¯»å–å±æ€§ï¼šè§¦å‘ Getter</span>
    <span class="hljs-keyword">val</span> newCount = counter.count
    println(<span class="hljs-string">"ä¿®æ”¹åè®¡æ•°ï¼š<span class="hljs-variable">$newCount</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šä¿®æ”¹åè®¡æ•°ï¼š10</span>
}

</code></pre>
<p>æ‰§è¡Œæµç¨‹è§£æï¼š</p>
<ul>
<li>â€œval oldCount = counter.countâ€ â†’ è°ƒç”¨â€œcounter.getCount()â€ â†’ è¿”å›åº•å±‚å­—æ®µå€¼ 0 â†’ oldCount èµ‹å€¼ä¸º 0ï¼›</li>
<li>â€œcounter.count = 10â€ â†’ è°ƒç”¨â€œcounter.setCount(10)â€ â†’ åº•å±‚å­—æ®µâ€œcountâ€èµ‹å€¼ä¸º 10ï¼›</li>
<li>â€œval newCount = counter.countâ€ â†’ è°ƒç”¨â€œcounter.getCount()â€ â†’ è¿”å›åº•å±‚å­—æ®µå€¼ 10 â†’ newCount èµ‹å€¼ä¸º 10ã€‚</li>
</ul>
<h2 data-id="heading-16">å››ã€è‡ªå®šä¹‰è®¿é—®å™¨ï¼šçµæ´»æ§åˆ¶å±æ€§è¯»å†™</h2>
<p>é»˜è®¤è®¿é—®å™¨ä»…èƒ½å®ç°â€œç›´æ¥è¯»å†™â€çš„ç®€å•é€»è¾‘ï¼Œä½†å®é™…å¼€å‘ä¸­å¸¸éœ€â€œæ•°æ®æ ¡éªŒã€åŠ¨æ€è®¡ç®—ã€æ ¼å¼è½¬æ¢â€ç­‰å¤æ‚éœ€æ±‚ã€‚Kotlin æ”¯æŒé€šè¿‡è‡ªå®šä¹‰è®¿é—®å™¨é‡å†™ Getter æˆ– Setter é€»è¾‘ï¼Œçµæ´»æ§åˆ¶å±æ€§çš„è¯»å†™è¡Œä¸ºï¼Œé€‚é…å¤šæ ·åŒ–ä¸šåŠ¡åœºæ™¯ã€‚</p>
<h3 data-id="heading-17">4.1 è‡ªå®šä¹‰ Getter</h3>
<p>è‡ªå®šä¹‰ Getter ç”¨äºä¿®æ”¹å±æ€§çš„â€œè¯»å–é€»è¾‘â€ï¼Œä¾‹å¦‚æ ¹æ®å…¶ä»–å±æ€§åŠ¨æ€è®¡ç®—å€¼ã€å¯¹è¿”å›å€¼è¿›è¡Œæ ¼å¼åŒ–ã€éšè—å†…éƒ¨å®ç°ç»†èŠ‚ç­‰ã€‚è‡ªå®šä¹‰ Getter ä¸æ”¹å˜å±æ€§çš„å¯å˜æ€§ï¼Œä»…å½±å“è¯»å–æ—¶çš„è¿”å›ç»“æœã€‚</p>
<h4 data-id="heading-18">4.1.1 è¯­æ³•æ ¼å¼</h4>
<p>åœ¨å±æ€§å®šä¹‰åï¼Œé€šè¿‡â€œget()â€å…³é”®å­—å®šä¹‰è‡ªå®šä¹‰ Getter é€»è¾‘ï¼Œæ ¹æ®é€»è¾‘å¤æ‚åº¦å¯åˆ†ä¸ºâ€œå¤šè¡Œé€»è¾‘â€å’Œâ€œå•è¡Œç®€åŒ–â€ä¸¤ç§å½¢å¼ï¼ŒåŸºæœ¬æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// 1. å¯å˜å±æ€§è‡ªå®šä¹‰ Getterï¼ˆå¸¦é»˜è®¤å€¼ï¼‰</span>
<span class="hljs-keyword">var</span> å±æ€§å: æ•°æ®ç±»å‹ = é»˜è®¤å€¼
    <span class="hljs-keyword">get</span>() {
        <span class="hljs-comment">// è‡ªå®šä¹‰è¯»å–é€»è¾‘ï¼ˆå¤šè¡Œï¼‰</span>
        <span class="hljs-keyword">val</span> result = å¤„ç†é€»è¾‘
        <span class="hljs-keyword">return</span> result
    }

<span class="hljs-comment">// 2. åªè¯»å±æ€§è‡ªå®šä¹‰ Getterï¼ˆæ— é»˜è®¤å€¼ï¼ŒåŠ¨æ€è®¡ç®—ï¼‰</span>
<span class="hljs-keyword">val</span> å±æ€§å: æ•°æ®ç±»å‹
    <span class="hljs-keyword">get</span>() {
        <span class="hljs-comment">// è‡ªå®šä¹‰è¯»å–é€»è¾‘ï¼ˆå¤šè¡Œï¼‰</span>
        <span class="hljs-keyword">return</span> å¤„ç†é€»è¾‘
    }

<span class="hljs-comment">// 3. å•è¡Œç®€åŒ–ï¼ˆé€»è¾‘ç®€å•æ—¶çœç•¥èŠ±æ‹¬å·å’Œ returnï¼‰</span>
<span class="hljs-keyword">val</span> å±æ€§å: æ•°æ®ç±»å‹
    <span class="hljs-keyword">get</span>() = å¤„ç†é€»è¾‘

</code></pre>
<p>è¯­æ³•è¯´æ˜ï¼š</p>
<ul>
<li>è‡ªå®šä¹‰ Getter æ˜¯å±æ€§å®šä¹‰çš„ä¸€éƒ¨åˆ†ï¼Œéœ€ç¼©è¿›ï¼ˆé€šå¸¸ 4 ä¸ªç©ºæ ¼ï¼‰ï¼Œä¸å±æ€§åå¯¹é½ï¼Œä¿è¯ä»£ç å¯è¯»æ€§ï¼›</li>
<li>åªè¯»å±æ€§è‹¥é€šè¿‡è‡ªå®šä¹‰ Getter åŠ¨æ€è®¡ç®—å€¼ï¼Œå¯æ— éœ€è®¾ç½®é»˜è®¤å€¼ï¼Œå› ä¸ºæ¯æ¬¡è¯»å–éƒ½ä¼šé‡æ–°æ‰§è¡Œè®¡ç®—é€»è¾‘ï¼›</li>
<li>å•è¡Œç®€åŒ–æ ¼å¼é€‚ç”¨äºé€»è¾‘ç®€å•çš„åœºæ™¯ï¼Œé€šè¿‡â€œget() = è¡¨è¾¾å¼â€ç›´æ¥è¿”å›ç»“æœï¼Œç®€æ´é«˜æ•ˆã€‚</li>
</ul>
<h4 data-id="heading-19">4.1.2 ç®€å•ç¤ºä¾‹</h4>
<p>ç¤ºä¾‹ 1ï¼šåŠ¨æ€è®¡ç®—å±æ€§å€¼ï¼ˆæ ¹æ®å…¶ä»–å±æ€§æ¨å¯¼ç»“æœï¼‰</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">/**
 * çŸ©å½¢ç±»ï¼šé€šè¿‡å®½å’Œé«˜åŠ¨æ€è®¡ç®—é¢ç§¯å’Œå‘¨é•¿
 * widthï¼šå®½ï¼ˆå¯å˜å±æ€§ï¼‰
 * heightï¼šé«˜ï¼ˆå¯å˜å±æ€§ï¼‰
 * areaï¼šé¢ç§¯ï¼ˆåªè¯»è®¡ç®—å±æ€§ï¼Œå®½ * é«˜ï¼‰
 * perimeterï¼šå‘¨é•¿ï¼ˆåªè¯»è®¡ç®—å±æ€§ï¼Œ2*(å®½+é«˜)ï¼‰
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Rectangle</span>(<span class="hljs-keyword">var</span> width: <span class="hljs-built_in">Double</span>, <span class="hljs-keyword">var</span> height: <span class="hljs-built_in">Double</span>) {
    <span class="hljs-comment">// è‡ªå®šä¹‰ Getterï¼šåŠ¨æ€è®¡ç®—é¢ç§¯ï¼ˆå¤šè¡Œé€»è¾‘ï¼‰</span>
    <span class="hljs-keyword">val</span> area: <span class="hljs-built_in">Double</span>
        <span class="hljs-keyword">get</span>() {
            println(<span class="hljs-string">"è®¡ç®—é¢ç§¯ï¼šwidth = <span class="hljs-variable">$width</span>, height = <span class="hljs-variable">$height</span>"</span>)
            <span class="hljs-keyword">return</span> width * height
        }

    <span class="hljs-comment">// è‡ªå®šä¹‰ Getterï¼šåŠ¨æ€è®¡ç®—å‘¨é•¿ï¼ˆå•è¡Œç®€åŒ–ï¼‰</span>
    <span class="hljs-keyword">val</span> perimeter: <span class="hljs-built_in">Double</span>
        <span class="hljs-keyword">get</span>() = <span class="hljs-number">2</span> * (width + height)
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> rectangle = Rectangle(<span class="hljs-number">5.0</span>, <span class="hljs-number">3.0</span>)

    <span class="hljs-comment">// é¦–æ¬¡è¯»å–é¢ç§¯ï¼šè§¦å‘è‡ªå®šä¹‰ Getterï¼Œæ‰§è¡Œè®¡ç®—é€»è¾‘</span>
    println(<span class="hljs-string">"çŸ©å½¢é¢ç§¯ï¼š<span class="hljs-subst">${rectangle.area}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šè®¡ç®—é¢ç§¯ï¼šwidth = 5.0, height = 3.0 â†’ çŸ©å½¢é¢ç§¯ï¼š15.0</span>

    <span class="hljs-comment">// ä¿®æ”¹å®½å’Œé«˜åå†æ¬¡è¯»å–ï¼šé‡æ–°æ‰§è¡Œè®¡ç®—é€»è¾‘</span>
    rectangle.width = <span class="hljs-number">6.0</span>
    println(<span class="hljs-string">"ä¿®æ”¹åé¢ç§¯ï¼š<span class="hljs-subst">${rectangle.area}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šè®¡ç®—é¢ç§¯ï¼šwidth = 6.0, height = 3.0 â†’ ä¿®æ”¹åé¢ç§¯ï¼š18.0</span>

    <span class="hljs-comment">// è¯»å–å‘¨é•¿ï¼šè§¦å‘å•è¡Œç®€åŒ– Getter</span>
    println(<span class="hljs-string">"çŸ©å½¢å‘¨é•¿ï¼š<span class="hljs-subst">${rectangle.perimeter}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šçŸ©å½¢å‘¨é•¿ï¼š18.0</span>
}

</code></pre>
<p>è§£æï¼šé¢ç§¯â€œareaâ€å’Œå‘¨é•¿â€œperimeterâ€å‡ä¸ºåªè¯»è®¡ç®—å±æ€§ï¼Œæ— åº•å±‚å­˜å‚¨å­—æ®µï¼Œæ¯æ¬¡è¯»å–æ—¶éƒ½ä¼šæ‰§è¡Œè‡ªå®šä¹‰ Getter é€»è¾‘é‡æ–°è®¡ç®—ï¼Œç¡®ä¿è¿”å›ç»“æœä¸æœ€æ–°çš„å®½é«˜ä¿æŒä¸€è‡´ã€‚</p>
<p>ç¤ºä¾‹ 2ï¼šè¿”å›å€¼æ ¼å¼åŒ–ï¼ˆéšè—å†…éƒ¨å­˜å‚¨æ ¼å¼ï¼Œç»Ÿä¸€å¯¹å¤–è¾“å‡ºï¼‰</p>
<p>è§£æï¼šå†…éƒ¨é€šè¿‡ Long ç±»å‹å­˜å‚¨æ—¶é—´æˆ³ï¼ˆèŠ‚çœå­˜å‚¨ç©ºé—´ä¸”ä¾¿äºè®¡ç®—ï¼‰ï¼Œå¯¹å¤–é€šè¿‡è‡ªå®šä¹‰ Getter æä¾›â€œyyyy-MM-ddâ€æ ¼å¼çš„æ—¥æœŸå­—ç¬¦ä¸²ï¼Œéšè—äº†å†…éƒ¨å­˜å‚¨ç»†èŠ‚ï¼ŒåŒæ—¶ç»Ÿä¸€äº†å¯¹å¤–çš„å±•ç¤ºæ ¼å¼ã€‚éœ€æ³¨æ„ï¼š<code>SimpleDateFormat</code> éçº¿ç¨‹å®‰å…¨ï¼Œå®é™…å¼€å‘æ¨èä½¿ç”¨ <code>java.time</code> åŒ…ä¸‹çš„ <code>DateTimeFormatter</code>ã€‚</p>
<p>è§£æï¼šå†…éƒ¨é€šè¿‡ Long ç±»å‹å­˜å‚¨æ—¶é—´æˆ³ï¼ˆèŠ‚çœå­˜å‚¨ç©ºé—´ä¸”ä¾¿äºè®¡ç®—ï¼‰ï¼Œå¯¹å¤–é€šè¿‡è‡ªå®šä¹‰ Getter æä¾›â€œyyyy-MM-ddâ€æ ¼å¼çš„æ—¥æœŸå­—ç¬¦ä¸²ï¼Œéšè—äº†å†…éƒ¨å­˜å‚¨ç»†èŠ‚ï¼ŒåŒæ—¶ç»Ÿä¸€äº†å¯¹å¤–çš„å±•ç¤ºæ ¼å¼ã€‚</p>
<h3 data-id="heading-20">4.2 è‡ªå®šä¹‰ Setter</h3>
<p>è‡ªå®šä¹‰ Setter ç”¨äºä¿®æ”¹å±æ€§çš„â€œä¿®æ”¹é€»è¾‘â€ï¼Œä¾‹å¦‚å¯¹ä¼ å…¥çš„æ–°å€¼è¿›è¡Œåˆæ³•æ€§æ ¡éªŒï¼ˆè¿‡æ»¤éæ³•å€¼ï¼‰ã€æ ¼å¼è½¬æ¢ï¼ˆç»Ÿä¸€å€¼çš„æ ¼å¼ï¼‰ã€è§¦å‘å…³è”æ“ä½œï¼ˆä¿®æ”¹ä¸€ä¸ªå±æ€§æ—¶åŒæ­¥æ›´æ–°å…¶ä»–å±æ€§ï¼‰ç­‰ã€‚è‡ªå®šä¹‰ Setter ä»…é€‚ç”¨äºå¯å˜å±æ€§ï¼ˆvarï¼‰ï¼Œåªè¯»å±æ€§ï¼ˆvalï¼‰æ—  Setter å¯è‡ªå®šä¹‰ã€‚</p>
<h4 data-id="heading-21">4.2.1 è¯­æ³•æ ¼å¼</h4>
<p>åœ¨å±æ€§å®šä¹‰åï¼Œé€šè¿‡â€œset(value)â€å…³é”®å­—å®šä¹‰è‡ªå®šä¹‰ Setter é€»è¾‘ï¼Œæ ¸å¿ƒæ˜¯é€šè¿‡â€œfieldâ€å…³é”®å­—å¼•ç”¨å±æ€§çš„åº•å±‚å­—æ®µï¼Œé¿å…é€’å½’è°ƒç”¨ã€‚åŸºæœ¬æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">var</span> å±æ€§å: æ•°æ®ç±»å‹ = é»˜è®¤å€¼
    <span class="hljs-keyword">set</span>(value) {
        <span class="hljs-comment">// è‡ªå®šä¹‰ä¿®æ”¹é€»è¾‘ï¼ˆå¯¹ value è¿›è¡Œå¤„ç†ï¼‰</span>
        <span class="hljs-comment">// field å…³é”®å­—ï¼šå¼•ç”¨å±æ€§çš„åº•å±‚å­—æ®µï¼Œé¿å…é€’å½’è°ƒç”¨</span>
        field = å¤„ç†åçš„ value
    }

<span class="hljs-comment">// å•è¡Œç®€åŒ–ï¼ˆé€»è¾‘ç®€å•æ—¶ï¼‰</span>
<span class="hljs-keyword">var</span> å±æ€§å: æ•°æ®ç±»å‹ = é»˜è®¤å€¼
    <span class="hljs-keyword">set</span>(value) = <span class="hljs-keyword">if</span> (æ¡ä»¶) field = value <span class="hljs-keyword">else</span> å¤„ç†é€»è¾‘

</code></pre>
<p>è¯­æ³•è¯´æ˜ï¼š</p>
<ul>
<li><strong>value å‚æ•°</strong>ï¼šé»˜è®¤å‚æ•°åï¼Œä»£è¡¨è¦è®¾ç½®çš„æ–°å€¼ï¼Œç±»å‹ä¸å±æ€§ç±»å‹ä¸€è‡´ï¼Œå¯æ˜¾å¼æŒ‡å®šå…¶ä»–å‚æ•°åï¼›</li>
<li><strong>field å…³é”®å­—</strong>ï¼šç”¨äºå¼•ç”¨å±æ€§å¯¹åº”çš„åº•å±‚å­—æ®µï¼Œå¿…é¡»æ˜¾å¼ä½¿ç”¨ã€‚è‹¥ç›´æ¥å†™â€œå±æ€§å = valueâ€ï¼Œä¼šè§¦å‘ Setter æ–¹æ³•çš„é€’å½’è°ƒç”¨ï¼Œå¯¼è‡´æ­»å¾ªç¯ï¼›</li>
<li>è‡ªå®šä¹‰ Setter ä»…èƒ½ä¿®æ”¹åº•å±‚å­—æ®µçš„å€¼ï¼Œæ— æ³•æ”¹å˜å±æ€§çš„å¯å˜æ€§å’Œæ•°æ®ç±»å‹ã€‚</li>
</ul>
<h4 data-id="heading-22">4.2.2 ç®€å•ç¤ºä¾‹</h4>
<p>ç¤ºä¾‹ 1ï¼šæ•°æ®åˆæ³•æ€§æ ¡éªŒï¼ˆè¿‡æ»¤éæ³•å€¼ï¼Œä¿è¯å±æ€§å€¼æœ‰æ•ˆï¼‰</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">/**
 * å­¦ç”Ÿç±»ï¼šå¯¹å¹´é¾„å’Œæˆç»©è¿›è¡Œåˆæ³•æ€§æ ¡éªŒ
 * ageï¼šå¹´é¾„ï¼ˆ1-150 ä¹‹é—´ï¼Œéæ³•å€¼è®¾ä¸ºé»˜è®¤ 18ï¼‰
 * scoreï¼šæˆç»©ï¼ˆ0-100 ä¹‹é—´ï¼Œéæ³•å€¼æŠ›å‡ºå¼‚å¸¸ï¼‰
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>(<span class="hljs-keyword">var</span> name: String) {
    <span class="hljs-comment">// è‡ªå®šä¹‰ Setterï¼šå¹´é¾„æ ¡éªŒï¼ˆ1-150 ä¹‹é—´ï¼‰</span>
    <span class="hljs-keyword">var</span> age: <span class="hljs-built_in">Int</span> = <span class="hljs-number">18</span>
        <span class="hljs-keyword">set</span>(value) {
            <span class="hljs-comment">// æ ¡éªŒé€»è¾‘ï¼šè‹¥è¾“å…¥å€¼åˆæ³•åˆ™èµ‹å€¼ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤å€¼ 18</span>
            <span class="hljs-keyword">val</span> validAge = <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span><span class="hljs-number">.150</span>) value <span class="hljs-keyword">else</span> <span class="hljs-number">18</span>
            field = validAge
            println(<span class="hljs-string">"è®¾ç½®å¹´é¾„ï¼šè¾“å…¥ <span class="hljs-variable">$value</span> â†’ å®é™…è®¾ç½® <span class="hljs-variable">$validAge</span>"</span>)
        }

    <span class="hljs-comment">// è‡ªå®šä¹‰ Setterï¼šæˆç»©æ ¡éªŒï¼ˆ0-100 ä¹‹é—´ï¼Œéæ³•å€¼æŠ›å¼‚å¸¸ï¼‰</span>
    <span class="hljs-keyword">var</span> score: <span class="hljs-built_in">Double</span> = <span class="hljs-number">60.0</span>
        <span class="hljs-keyword">set</span>(value) {
            <span class="hljs-comment">// ä½¿ç”¨ require å‡½æ•°æ ¡éªŒï¼Œéæ³•å€¼æŠ›å‡º IllegalArgumentException</span>
            require(value <span class="hljs-keyword">in</span> <span class="hljs-number">0.0</span>.<span class="hljs-number">.100</span><span class="hljs-number">.0</span>) { <span class="hljs-string">"æˆç»©å¿…é¡»åœ¨ 0-100 ä¹‹é—´ï¼Œå½“å‰è¾“å…¥ï¼š<span class="hljs-variable">$value</span>"</span> }
            field = value
            println(<span class="hljs-string">"è®¾ç½®æˆç»©ï¼š<span class="hljs-variable">$value</span> åˆ†ï¼ˆåˆæ³•ï¼‰"</span>)
        }
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> student = Student(<span class="hljs-string">"å¼ ä¸‰"</span>)

    <span class="hljs-comment">// è®¾ç½®åˆæ³•å¹´é¾„</span>
    student.age = <span class="hljs-number">20</span>
    <span class="hljs-comment">// è¾“å‡ºï¼šè®¾ç½®å¹´é¾„ï¼šè¾“å…¥ 20 â†’ å®é™…è®¾ç½® 20</span>
    println(<span class="hljs-string">"å½“å‰å¹´é¾„ï¼š<span class="hljs-subst">${student.age}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šå½“å‰å¹´é¾„ï¼š20</span>

    <span class="hljs-comment">// è®¾ç½®éæ³•å¹´é¾„ï¼ˆè¶…è¿‡ä¸Šé™ï¼‰</span>
    student.age = <span class="hljs-number">200</span>
    <span class="hljs-comment">// è¾“å‡ºï¼šè®¾ç½®å¹´é¾„ï¼šè¾“å…¥ 200 â†’ å®é™…è®¾ç½® 18</span>
    println(<span class="hljs-string">"å½“å‰å¹´é¾„ï¼š<span class="hljs-subst">${student.age}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šå½“å‰å¹´é¾„ï¼š18</span>

    <span class="hljs-comment">// è®¾ç½®åˆæ³•æˆç»©</span>
    student.score = <span class="hljs-number">85.5</span>
    <span class="hljs-comment">// è¾“å‡ºï¼šè®¾ç½®æˆç»©ï¼š85.5 åˆ†ï¼ˆåˆæ³•ï¼‰</span>
    println(<span class="hljs-string">"å½“å‰æˆç»©ï¼š<span class="hljs-subst">${student.score}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šå½“å‰æˆç»©ï¼š85.5</span>

    <span class="hljs-comment">// è®¾ç½®éæ³•æˆç»©ï¼ˆè¶…è¿‡ä¸Šé™ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼‰</span>
    <span class="hljs-keyword">try</span> {
        student.score = <span class="hljs-number">105.0</span>
    } <span class="hljs-keyword">catch</span> (e: IllegalArgumentException) {
        println(<span class="hljs-string">"è®¾ç½®æˆç»©å¤±è´¥ï¼š<span class="hljs-subst">${e.message}</span>"</span>)
        <span class="hljs-comment">// è¾“å‡ºï¼šè®¾ç½®æˆç»©å¤±è´¥ï¼šæˆç»©å¿…é¡»åœ¨ 0-100 ä¹‹é—´ï¼Œå½“å‰è¾“å…¥ï¼š105.0</span>
    }
}

</code></pre>
<p>è§£æï¼šé€šè¿‡è‡ªå®šä¹‰ Setter å¯¹å¹´é¾„å’Œæˆç»©è¿›è¡Œæ ¡éªŒï¼Œç¡®ä¿å±æ€§å€¼å§‹ç»ˆåˆæ³•â€”â€”å¹´é¾„éæ³•æ—¶ä½¿ç”¨é»˜è®¤å€¼ï¼Œæˆç»©éæ³•æ—¶æŠ›å‡ºå¼‚å¸¸ï¼Œé¿å…å¯¹è±¡å¤„äºæ— æ•ˆçŠ¶æ€ï¼Œæå‡ä»£ç å¥å£®æ€§ã€‚</p>
<p>ç¤ºä¾‹ 2ï¼šæ ¼å¼è½¬æ¢ï¼ˆç»Ÿä¸€å±æ€§å€¼æ ¼å¼ï¼Œé¿å…æ•°æ®æ··ä¹±ï¼‰</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-comment">/**
 * å•†å“ç±»ï¼šç»Ÿä¸€å•†å“åç§°æ ¼å¼ï¼ˆé¦–å­—æ¯å¤§å†™ï¼Œå»é™¤ç©ºæ ¼ï¼‰
 * nameï¼šå•†å“åç§°ï¼ˆè®¾ç½®æ—¶è‡ªåŠ¨æ ¼å¼åŒ–ï¼‰
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-comment">// è‡ªå®šä¹‰ Setterï¼šå•†å“åç§°æ ¼å¼è½¬æ¢</span>
    <span class="hljs-keyword">var</span> name: String = <span class="hljs-string">""</span>
        <span class="hljs-keyword">set</span>(value) {
            <span class="hljs-comment">// å¤„ç†é€»è¾‘ï¼šå»é™¤å‰åç©ºæ ¼ â†’ é¦–å­—æ¯å¤§å†™ â†’ å…¶ä½™å°å†™</span>
            <span class="hljs-keyword">val</span> formattedName = value.trim()
                .takeIf { it.isNotBlank() } <span class="hljs-comment">// éç©ºåˆ¤æ–­</span>
                ?.replaceFirstChar { it.uppercase() } <span class="hljs-comment">// é¦–å­—æ¯å¤§å†™</span>
                ?.let { it.first() + it.substring(<span class="hljs-number">1</span>).lowercase() } <span class="hljs-comment">// å…¶ä½™å°å†™</span>
                ?: <span class="hljs-string">""</span> <span class="hljs-comment">// ç©ºå€¼å¤„ç†</span>
            field = formattedName
            println(<span class="hljs-string">"è®¾ç½®åç§°ï¼šè¾“å…¥ '<span class="hljs-variable">$value</span>' â†’ å®é™…è®¾ç½® '<span class="hljs-variable">$formattedName</span>'"</span>)
        }
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> product = Product()

    <span class="hljs-comment">// è¾“å…¥å¸¦ç©ºæ ¼çš„å…¨å°å†™åç§°</span>
    product.name = <span class="hljs-string">"  apple phone  "</span>
    <span class="hljs-comment">// è¾“å‡ºï¼šè®¾ç½®åç§°ï¼šè¾“å…¥ '  apple phone  ' â†’ å®é™…è®¾ç½® 'Apple phone'</span>
    println(<span class="hljs-string">"å•†å“åç§°ï¼š<span class="hljs-subst">${product.name}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šå•†å“åç§°ï¼šApple phone</span>

    <span class="hljs-comment">// è¾“å…¥å…¨å¤§å†™åç§°</span>
    product.name = <span class="hljs-string">"COMPUTER"</span>
    <span class="hljs-comment">// è¾“å‡ºï¼šè®¾ç½®åç§°ï¼šè¾“å…¥ 'COMPUTER' â†’ å®é™…è®¾ç½® 'Computer'</span>
    println(<span class="hljs-string">"å•†å“åç§°ï¼š<span class="hljs-subst">${product.name}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šå•†å“åç§°ï¼šComputer</span>

    <span class="hljs-comment">// è¾“å…¥ç©ºå€¼æˆ–çº¯ç©ºæ ¼</span>
    product.name = <span class="hljs-string">"   "</span>
    <span class="hljs-comment">// è¾“å‡ºï¼šè®¾ç½®åç§°ï¼šè¾“å…¥ '   ' â†’ å®é™…è®¾ç½® ''</span>
    println(<span class="hljs-string">"å•†å“åç§°ï¼š<span class="hljs-subst">${product.name}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šå•†å“åç§°ï¼š</span>
}

</code></pre>
<p>è§£æï¼šæ— è®ºå¤–éƒ¨è¾“å…¥ä½•ç§æ ¼å¼çš„å•†å“åç§°ï¼Œè‡ªå®šä¹‰ Setter éƒ½ä¼šå°†å…¶è½¬æ¢ä¸ºâ€œé¦–å­—æ¯å¤§å†™ã€å…¶ä½™å°å†™ã€æ— å‰åç©ºæ ¼â€çš„æ ‡å‡†åŒ–æ ¼å¼ï¼Œä¿è¯æ•°æ®æ ¼å¼ä¸€è‡´æ€§ï¼Œä¾¿äºåç»­æ•°æ®å¤„ç†å’Œå±•ç¤ºã€‚</p>
<h3 data-id="heading-23">4.3 è®¡ç®—å±æ€§</h3>
<p><strong>è®¡ç®—å±æ€§ï¼ˆComputed Propertyï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„å±æ€§ï¼Œå®ƒæ²¡æœ‰åº•å±‚å­˜å‚¨å­—æ®µï¼Œä»…é€šè¿‡è‡ªå®šä¹‰ Getterï¼ˆæˆ– Setterï¼‰å®ç°è¯»å†™é€»è¾‘</strong>ã€‚è®¡ç®—å±æ€§çš„æ ¸å¿ƒç‰¹å¾æ˜¯â€œå€¼ä¸å­˜å‚¨ï¼ŒåŠ¨æ€è®¡ç®—â€ï¼Œæ¯æ¬¡è®¿é—®æ—¶éƒ½ä¼šé‡æ–°æ‰§è¡Œ Getter é€»è¾‘å¾—åˆ°ç»“æœï¼Œé€‚ç”¨äºâ€œå€¼ç”±å…¶ä»–å±æ€§æ¨å¯¼â€çš„åœºæ™¯ã€‚</p>
<h4 data-id="heading-24">4.3.1 æ ¸å¿ƒç‰¹å¾</h4>
<ul>
<li><strong>æ— åº•å±‚å­—æ®µ</strong>ï¼šè®¡ç®—å±æ€§ä¸å ç”¨å¯¹è±¡çš„å­˜å‚¨ç©ºé—´ï¼Œæ²¡æœ‰å¯¹åº”çš„â€œfieldâ€å­—æ®µï¼Œå› æ­¤åœ¨è‡ªå®šä¹‰è®¿é—®å™¨ä¸­æ— æ³•ä½¿ç”¨â€œfieldâ€å…³é”®å­—ï¼›</li>
<li><strong>åŠ¨æ€è®¡ç®—</strong>ï¼šæ¯æ¬¡è®¿é—®è®¡ç®—å±æ€§æ—¶ï¼Œéƒ½ä¼šé‡æ–°æ‰§è¡Œ Getter é€»è¾‘ï¼Œè¿”å›æœ€æ–°çš„è®¡ç®—ç»“æœï¼Œä¸ä¾èµ–çš„å±æ€§å®æ—¶åŒæ­¥ï¼›</li>
<li><strong>å¯å˜æ€§åˆ†ç±»</strong>ï¼š åªè¯»è®¡ç®—å±æ€§ï¼ˆvalï¼‰ï¼šä»…éœ€è‡ªå®šä¹‰ Getterï¼Œé€šè¿‡å…¶ä»–å±æ€§æ¨å¯¼ç»“æœï¼Œæœ€å¸¸ç”¨ï¼›</li>
<li>å¯å˜è®¡ç®—å±æ€§ï¼ˆvarï¼‰ï¼šéœ€åŒæ—¶è‡ªå®šä¹‰ Getter å’Œ Setterï¼Œå®ç°â€œè¯»å†™è”åŠ¨â€ï¼ˆå¦‚æ¸©åº¦è½¬æ¢åœºæ™¯ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-25">4.3.2 ç¤ºä¾‹ï¼šåªè¯»ä¸å¯å˜è®¡ç®—å±æ€§</h4>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-comment">/**
 * æ¸©åº¦è½¬æ¢ç±»ï¼šæ¼”ç¤ºè®¡ç®—å±æ€§çš„è¯»å†™è”åŠ¨
 * celsiusï¼šæ‘„æ°åº¦ï¼ˆå­˜å‚¨å­—æ®µï¼Œå¯å˜å±æ€§ï¼‰
 * fahrenheitï¼šåæ°åº¦ï¼ˆå¯å˜è®¡ç®—å±æ€§ï¼Œä¸æ‘„æ°åº¦è”åŠ¨ï¼‰
 * isBoilingï¼šæ˜¯å¦æ²¸è…¾ï¼ˆåªè¯»è®¡ç®—å±æ€§ï¼ŒåŸºäºæ‘„æ°åº¦åˆ¤æ–­ï¼‰
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Temperature</span>(<span class="hljs-keyword">var</span> celsius: <span class="hljs-built_in">Double</span>) {
    <span class="hljs-comment">// å¯å˜è®¡ç®—å±æ€§ï¼šåæ°åº¦ï¼ˆâ„ƒ â†” â„‰ åŒå‘è½¬æ¢ï¼‰</span>
    <span class="hljs-keyword">var</span> fahrenheit: <span class="hljs-built_in">Double</span>
        <span class="hljs-keyword">get</span>() {
            <span class="hljs-comment">// æ‘„æ°åº¦è½¬åæ°åº¦ï¼šâ„ƒ Ã— 1.8 + 32</span>
            <span class="hljs-keyword">val</span> value = celsius * <span class="hljs-number">1.8</span> + <span class="hljs-number">32</span>
            println(<span class="hljs-string">"è®¡ç®—åæ°åº¦ï¼š<span class="hljs-variable">$celsius</span> â„ƒ â†’ <span class="hljs-variable">$value</span> â„‰"</span>)
            <span class="hljs-keyword">return</span> value
        }
        <span class="hljs-keyword">set</span>(value) {
            <span class="hljs-comment">// åæ°åº¦è½¬æ‘„æ°åº¦ï¼š(â„‰ - 32) Ã· 1.8ï¼Œèµ‹å€¼ç»™å­˜å‚¨å­—æ®µ celsius</span>
            celsius = (value - <span class="hljs-number">32</span>) / <span class="hljs-number">1.8</span>
            println(<span class="hljs-string">"è®¾ç½®åæ°åº¦ï¼š<span class="hljs-variable">$value</span> â„‰ â†’ è½¬æ¢ä¸º <span class="hljs-variable">$celsius</span> â„ƒ"</span>)
        }

    <span class="hljs-comment">// åªè¯»è®¡ç®—å±æ€§ï¼šæ˜¯å¦æ²¸è…¾ï¼ˆæ ‡å‡†å¤§æ°”å‹ä¸‹ï¼Œâ„ƒ â‰¥ 100 ä¸ºæ²¸è…¾ï¼‰</span>
    <span class="hljs-keyword">val</span> isBoiling: <span class="hljs-built_in">Boolean</span>
        <span class="hljs-keyword">get</span>() = celsius &gt;= <span class="hljs-number">100.0</span>
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> temperature = Temperature(<span class="hljs-number">25.0</span>)

    <span class="hljs-comment">// è®¿é—®åªè¯»è®¡ç®—å±æ€§ï¼ˆæ˜¯å¦æ²¸è…¾ï¼‰</span>
    println(<span class="hljs-string">"25â„ƒ æ˜¯å¦æ²¸è…¾ï¼š<span class="hljs-subst">${temperature.isBoiling}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šfalse</span>

    <span class="hljs-comment">// è®¿é—®å¯å˜è®¡ç®—å±æ€§ï¼ˆåæ°åº¦ï¼‰</span>
    println(<span class="hljs-string">"åæ°åº¦ï¼š<span class="hljs-subst">${temperature.fahrenheit}</span>"</span>)
    <span class="hljs-comment">// è¾“å‡ºï¼šè®¡ç®—åæ°åº¦ï¼š25.0 â„ƒ â†’ 77.0 â„‰ â†’ åæ°åº¦ï¼š77.0</span>

    <span class="hljs-comment">// ä¿®æ”¹è®¡ç®—å±æ€§ï¼ˆåæ°åº¦ï¼‰ï¼Œè§¦å‘ Setter è½¬æ¢ä¸ºæ‘„æ°åº¦</span>
    temperature.fahrenheit = <span class="hljs-number">98.6</span>
    <span class="hljs-comment">// è¾“å‡ºï¼šè®¾ç½®åæ°åº¦ï¼š98.6 â„‰ â†’ è½¬æ¢ä¸º 37.0 â„ƒ</span>
    println(<span class="hljs-string">"ä¿®æ”¹åæ‘„æ°åº¦ï¼š<span class="hljs-subst">${temperature.celsius}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼š37.0</span>

    <span class="hljs-comment">// ä¿®æ”¹å­˜å‚¨å­—æ®µï¼ˆæ‘„æ°åº¦ï¼‰ï¼Œå†æ¬¡è®¿é—®è®¡ç®—å±æ€§</span>
    temperature.celsius = <span class="hljs-number">100.0</span>
    println(<span class="hljs-string">"100â„ƒ æ˜¯å¦æ²¸è…¾ï¼š<span class="hljs-subst">${temperature.isBoiling}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼štrue</span>
    println(<span class="hljs-string">"100â„ƒ å¯¹åº”çš„åæ°åº¦ï¼š<span class="hljs-subst">${temperature.fahrenheit}</span>"</span>)
    <span class="hljs-comment">// è¾“å‡ºï¼šè®¡ç®—åæ°åº¦ï¼š100.0 â„ƒ â†’ 212.0 â„‰ â†’ 100â„ƒ å¯¹åº”çš„åæ°åº¦ï¼š212.0</span>
}

</code></pre>
<p>è§£æï¼š</p>
<ul>
<li><strong>fahrenheitï¼ˆå¯å˜è®¡ç®—å±æ€§ï¼‰</strong>ï¼šæ— åº•å±‚å­—æ®µï¼ŒGetter å°† celsius è½¬æ¢ä¸ºåæ°åº¦ï¼ŒSetter å°†åæ°åº¦è½¬æ¢ä¸º celsius å¹¶èµ‹å€¼ç»™å­˜å‚¨å­—æ®µï¼Œå®ç°â€œä¿®æ”¹åæ°åº¦åŒæ­¥æ›´æ–°æ‘„æ°åº¦â€çš„è”åŠ¨æ•ˆæœï¼›</li>
<li><strong>isBoilingï¼ˆåªè¯»è®¡ç®—å±æ€§ï¼‰</strong>ï¼šæ— åº•å±‚å­—æ®µï¼Œæ¯æ¬¡è®¿é—®æ—¶éƒ½ä¼šåˆ¤æ–­ celsius æ˜¯å¦â‰¥100ï¼Œå®æ—¶åæ˜ æ¸©åº¦çŠ¶æ€ã€‚</li>
</ul>
<h2 data-id="heading-26">äº”ã€å®ç”¨åœºæ™¯ä¸¾ä¾‹</h2>
<p>ç»“åˆå®é™…å¼€å‘ä¸­çš„å…¸å‹åœºæ™¯ï¼Œå±•ç¤ºå±æ€§åŠè‡ªå®šä¹‰è®¿é—®å™¨çš„çµæ´»åº”ç”¨ï¼Œå¸®åŠ©è¯»è€…ç†è§£â€œä½•æ—¶éœ€è¦è‡ªå®šä¹‰è®¿é—®å™¨â€åŠâ€œå¦‚ä½•è®¾è®¡åˆç†çš„å±æ€§ç»“æ„â€ã€‚</p>
<h3 data-id="heading-27">5.1 è‡ªå®šä¹‰ Getter åœºæ™¯</h3>
<h4 data-id="heading-28">5.1.1 åœºæ™¯ 1ï¼šåŠ¨æ€è®¡ç®—å¯¹è±¡çŠ¶æ€</h4>
<p>å½“å¯¹è±¡çš„æŸä¸ªçŠ¶æ€éœ€è¦æ ¹æ®å¤šä¸ªå±æ€§åŠ¨æ€æ¨å¯¼æ—¶ï¼Œä½¿ç”¨è‡ªå®šä¹‰ Getter å®ç°ï¼Œé¿å…çŠ¶æ€ä¸ä¸€è‡´ã€‚ä¾‹å¦‚â€œè®¢å•ç±»â€æ ¹æ®â€œæ”¯ä»˜çŠ¶æ€â€å’Œâ€œå‘è´§çŠ¶æ€â€ï¼ŒåŠ¨æ€åˆ¤æ–­â€œè®¢å•æ€»çŠ¶æ€â€ï¼ˆæœªæ”¯ä»˜ã€å·²æ”¯ä»˜å¾…å‘è´§ã€å·²å‘è´§ã€å·²å®Œæˆï¼‰ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-comment">/**
 * è®¢å•ç±»ï¼šåŠ¨æ€è®¡ç®—è®¢å•æ€»çŠ¶æ€
 * orderNoï¼šè®¢å•å·ï¼ˆåªè¯»ï¼Œå›ºå®šä¸å˜ï¼‰
 * isPaidï¼šæ˜¯å¦æ”¯ä»˜ï¼ˆå¯å˜ï¼‰
 * isShippedï¼šæ˜¯å¦å‘è´§ï¼ˆå¯å˜ï¼‰
 * isReceivedï¼šæ˜¯å¦æ”¶è´§ï¼ˆå¯å˜ï¼‰
 * statusï¼šè®¢å•æ€»çŠ¶æ€ï¼ˆåªè¯»è®¡ç®—å±æ€§ï¼ŒåŠ¨æ€æ¨å¯¼ï¼‰
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Order</span>(<span class="hljs-keyword">val</span> orderNo: String) {
    <span class="hljs-keyword">var</span> isPaid: <span class="hljs-built_in">Boolean</span> = <span class="hljs-literal">false</span>    <span class="hljs-comment">// æ˜¯å¦æ”¯ä»˜</span>
    <span class="hljs-keyword">var</span> isShipped: <span class="hljs-built_in">Boolean</span> = <span class="hljs-literal">false</span> <span class="hljs-comment">// æ˜¯å¦å‘è´§</span>
    <span class="hljs-keyword">var</span> isReceived: <span class="hljs-built_in">Boolean</span> = <span class="hljs-literal">false</span> <span class="hljs-comment">// æ˜¯å¦æ”¶è´§</span>

    <span class="hljs-comment">// è‡ªå®šä¹‰ Getterï¼šæ ¹æ®ä¸‰ä¸ªçŠ¶æ€åŠ¨æ€æ¨å¯¼è®¢å•æ€»çŠ¶æ€</span>
    <span class="hljs-keyword">val</span> status: String
        <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">when</span> {
            !isPaid -&gt; <span class="hljs-string">"æœªæ”¯ä»˜"</span>
            isPaid &amp;&amp; !isShipped -&gt; <span class="hljs-string">"å·²æ”¯ä»˜å¾…å‘è´§"</span>
            isPaid &amp;&amp; isShipped &amp;&amp; !isReceived -&gt; <span class="hljs-string">"å·²å‘è´§å¾…æ”¶è´§"</span>
            isPaid &amp;&amp; isShipped &amp;&amp; isReceived -&gt; <span class="hljs-string">"å·²å®Œæˆ"</span>
            <span class="hljs-keyword">else</span> -&gt; <span class="hljs-string">"æœªçŸ¥çŠ¶æ€"</span>
        }

    <span class="hljs-comment">// å±•ç¤ºè®¢å•ä¿¡æ¯</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">showInfo</span><span class="hljs-params">()</span></span> {
        println(<span class="hljs-string">"è®¢å•å·ï¼š<span class="hljs-variable">$orderNo</span>ï¼Œæ€»çŠ¶æ€ï¼š<span class="hljs-variable">$status</span>"</span>)
        println(<span class="hljs-string">"æ”¯ä»˜çŠ¶æ€ï¼š<span class="hljs-subst">${if (isPaid) <span class="hljs-string">"å·²æ”¯ä»˜"</span> else <span class="hljs-string">"æœªæ”¯ä»˜"</span>}</span>"</span>)
        println(<span class="hljs-string">"å‘è´§çŠ¶æ€ï¼š<span class="hljs-subst">${if (isShipped) <span class="hljs-string">"å·²å‘è´§"</span> else <span class="hljs-string">"æœªå‘è´§"</span>}</span>"</span>)
        println(<span class="hljs-string">"æ”¶è´§çŠ¶æ€ï¼š<span class="hljs-subst">${if (isReceived) <span class="hljs-string">"å·²æ”¶è´§"</span> else <span class="hljs-string">"æœªæ”¶è´§"</span>}</span>"</span>)
    }
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> order = Order(<span class="hljs-string">"20240501001"</span>)

    <span class="hljs-comment">// åˆå§‹çŠ¶æ€ï¼šæœªæ”¯ä»˜</span>
    println(<span class="hljs-string">"=== åˆå§‹çŠ¶æ€ ==="</span>)
    order.showInfo()
    <span class="hljs-comment">/* è¾“å‡ºï¼š
    è®¢å•å·ï¼š20240501001ï¼Œæ€»çŠ¶æ€ï¼šæœªæ”¯ä»˜
    æ”¯ä»˜çŠ¶æ€ï¼šæœªæ”¯ä»˜
    å‘è´§çŠ¶æ€ï¼šæœªå‘è´§
    æ”¶è´§çŠ¶æ€ï¼šæœªæ”¶è´§
    */</span>

    <span class="hljs-comment">// æ”¯ä»˜åï¼šå·²æ”¯ä»˜å¾…å‘è´§</span>
    order.isPaid = <span class="hljs-literal">true</span>
    println(<span class="hljs-string">"\n=== æ”¯ä»˜å ==="</span>)
    order.showInfo()

    <span class="hljs-comment">// å‘è´§åï¼šå·²å‘è´§å¾…æ”¶è´§</span>
    order.isShipped = <span class="hljs-literal">true</span>
    println(<span class="hljs-string">"\n=== å‘è´§å ==="</span>)
    order.showInfo()

    <span class="hljs-comment">// æ”¶è´§åï¼šå·²å®Œæˆ</span>
    order.isReceived = <span class="hljs-literal">true</span>
    println(<span class="hljs-string">"\n=== æ”¶è´§å ==="</span>)
    order.showInfo()
}

</code></pre>
<h4 data-id="heading-29">5.1.2 åœºæ™¯ 2ï¼šéšè—å†…éƒ¨å¤æ‚é€»è¾‘</h4>
<p>å½“å±æ€§çš„è¯»å–éœ€è¦å¤æ‚é€»è¾‘ï¼ˆå¦‚æ•°æ®æ‹¼æ¥ã€åŠ å¯†è§£å¯†ã€æ•°æ®åº“æŸ¥è¯¢ç­‰ï¼‰æ—¶ï¼Œä½¿ç”¨è‡ªå®šä¹‰ Getter éšè—å†…éƒ¨å®ç°ï¼Œå¯¹å¤–æä¾›ç®€æ´çš„å±æ€§è®¿é—®æ–¹å¼ã€‚ä¾‹å¦‚â€œç”¨æˆ·ç±»â€é€šè¿‡è‡ªå®šä¹‰ Getter æ‹¼æ¥â€œå§“å+æ‰‹æœºå·å4ä½â€ä½œä¸ºæ˜¾ç¤ºåç§°ï¼ŒåŒæ—¶å¯¹æ‰‹æœºå·è¿›è¡Œè„±æ•å¤„ç†ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> java.security.MessageDigest
<span class="hljs-keyword">import</span> java.util.Base64

<span class="hljs-comment">/**
 * ç”¨æˆ·ç±»ï¼šéšè—å¤æ‚é€»è¾‘ï¼Œå¯¹å¤–æä¾›ç®€æ´è®¿é—®
 * realNameï¼šçœŸå®å§“åï¼ˆå­˜å‚¨å­—æ®µï¼‰
 * phoneï¼šæ‰‹æœºå·ï¼ˆå­˜å‚¨å­—æ®µï¼ŒåŠ å¯†å­˜å‚¨ï¼‰
 * displayNameï¼šæ˜¾ç¤ºåç§°ï¼ˆè®¡ç®—å±æ€§ï¼šå§“å+æ‰‹æœºå·å4ä½ï¼‰
 * hiddenPhoneï¼šè„±æ•æ‰‹æœºå·ï¼ˆè®¡ç®—å±æ€§ï¼šä¸­é—´4ä½ç”¨*ä»£æ›¿ï¼‰
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>(<span class="hljs-keyword">val</span> realName: String, <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> phone: String) {
    <span class="hljs-comment">// è‡ªå®šä¹‰ Getterï¼šæ‹¼æ¥æ˜¾ç¤ºåç§°ï¼ˆéšè—æ‰‹æœºå·æˆªå–é€»è¾‘ï¼‰</span>
    <span class="hljs-keyword">val</span> displayName: String
        <span class="hljs-keyword">get</span>() {
            <span class="hljs-comment">// è§£å¯†æ‰‹æœºå·ï¼ˆå®é™…å¼€å‘ä¸­éœ€ç»“åˆåŠ å¯†ç®—æ³•ï¼‰</span>
            <span class="hljs-keyword">val</span> decryptedPhone = decryptPhone(phone)
            <span class="hljs-comment">// æˆªå–å4ä½</span>
            <span class="hljs-keyword">val</span> last4Digits = decryptedPhone.takeLast(<span class="hljs-number">4</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-string">"<span class="hljs-variable">$realName</span>ï¼ˆ<span class="hljs-variable">$last4Digits</span>ï¼‰"</span>
        }

    <span class="hljs-comment">// è‡ªå®šä¹‰ Getterï¼šæ‰‹æœºå·è„±æ•ï¼ˆéšè—è„±æ•é€»è¾‘ï¼‰</span>
    <span class="hljs-keyword">val</span> hiddenPhone: String
        <span class="hljs-keyword">get</span>() {
            <span class="hljs-keyword">val</span> decryptedPhone = decryptPhone(phone)
            <span class="hljs-keyword">if</span> (decryptedPhone.length != <span class="hljs-number">11</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"æ— æ•ˆæ‰‹æœºå·"</span>
            <span class="hljs-comment">// è„±æ•ï¼šä¸­é—´4ä½ç”¨*ä»£æ›¿</span>
            <span class="hljs-keyword">return</span> decryptedPhone.substring(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>) + <span class="hljs-string">"****"</span> + decryptedPhone.substring(<span class="hljs-number">7</span>)
        }

    <span class="hljs-comment">// ç§æœ‰æ–¹æ³•ï¼šæ¨¡æ‹Ÿæ‰‹æœºå·è§£å¯†ï¼ˆå®é™…å¼€å‘ä¸­ä½¿ç”¨çœŸå®åŠ å¯†ç®—æ³•ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">decryptPhone</span><span class="hljs-params">(encryptedPhone: <span class="hljs-type">String</span>)</span></span>: String {
        <span class="hljs-comment">// æ­¤å¤„ä»…ä¸ºæ¼”ç¤ºï¼Œå®é™…éœ€ä½¿ç”¨ AESã€RSA ç­‰åŠ å¯†ç®—æ³•</span>
        <span class="hljs-keyword">return</span> String(Base64.getDecoder().decode(encryptedPhone))
    }

    <span class="hljs-comment">// é™æ€æ–¹æ³•ï¼šæ¨¡æ‹Ÿæ‰‹æœºå·åŠ å¯†ï¼ˆä¾›å¤–éƒ¨åˆ›å»ºå¯¹è±¡æ—¶ä½¿ç”¨ï¼‰</span>
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">encryptPhone</span><span class="hljs-params">(phone: <span class="hljs-type">String</span>)</span></span>: String {
            <span class="hljs-keyword">return</span> Base64.getEncoder().encodeToString(phone.toByteArray())
        }
    }
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// åŠ å¯†æ‰‹æœºå·ï¼ˆæ¨¡æ‹Ÿå¤–éƒ¨ä¼ å…¥åŠ å¯†åçš„æ•°æ®ï¼‰</span>
    <span class="hljs-keyword">val</span> encryptedPhone = User.encryptPhone(<span class="hljs-string">"13800138000"</span>)
    <span class="hljs-comment">// åˆ›å»ºç”¨æˆ·å¯¹è±¡</span>
    <span class="hljs-keyword">val</span> user = User(<span class="hljs-string">"å¼ ä¸‰"</span>, encryptedPhone)

    <span class="hljs-comment">// è®¿é—®æ˜¾ç¤ºåç§°ï¼šæ— éœ€å…³å¿ƒè§£å¯†å’Œæ‹¼æ¥é€»è¾‘</span>
    println(<span class="hljs-string">"æ˜¾ç¤ºåç§°ï¼š<span class="hljs-subst">${user.displayName}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šæ˜¾ç¤ºåç§°ï¼šå¼ ä¸‰ï¼ˆ8000ï¼‰</span>
    <span class="hljs-comment">// è®¿é—®è„±æ•æ‰‹æœºå·ï¼šæ— éœ€å…³å¿ƒè§£å¯†å’Œè„±æ•é€»è¾‘</span>
    println(<span class="hljs-string">"è„±æ•æ‰‹æœºå·ï¼š<span class="hljs-subst">${user.hiddenPhone}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šè„±æ•æ‰‹æœºå·ï¼š138****8000</span>
}

</code></pre>
<h3 data-id="heading-30">5.2 è‡ªå®šä¹‰ Setter åœºæ™¯</h3>
<h4 data-id="heading-31">5.2.1 åœºæ™¯ 1ï¼šæ•°æ®åˆæ³•æ€§æ ¡éªŒï¼ˆæœ€å¸¸ç”¨ï¼‰</h4>
<p>åœ¨æ¥æ”¶ç”¨æˆ·è¾“å…¥ã€æ¥å£æ•°æ®ç­‰å¤–éƒ¨æ•°æ®æ—¶ï¼Œé€šè¿‡è‡ªå®šä¹‰ Setter å¯¹å±æ€§å€¼è¿›è¡Œæ ¡éªŒï¼Œç¡®ä¿æ•°æ®åˆæ³•ï¼Œé¿å…æ— æ•ˆæ•°æ®è¿›å…¥ç³»ç»Ÿã€‚ä¾‹å¦‚â€œå‘˜å·¥ç±»â€å¯¹â€œå·¥èµ„â€â€œå…¥èŒå¹´ä»½â€è¿›è¡Œæ ¡éªŒï¼Œé˜²æ­¢è¾“å…¥ä¸åˆç†å€¼ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> java.util.Calendar

<span class="hljs-comment">/**
 * å‘˜å·¥ç±»ï¼šå¯¹å…³é”®å±æ€§è¿›è¡Œåˆæ³•æ€§æ ¡éªŒ
 * nameï¼šå§“åï¼ˆåªè¯»ï¼‰
 * salaryï¼šå·¥èµ„ï¼ˆå¿…é¡» &gt; 0ï¼‰
 * hireYearï¼šå…¥èŒå¹´ä»½ï¼ˆå¿…é¡» â‰¥ å…¬å¸æˆç«‹å¹´ä»½ 2000ï¼Œä¸” â‰¤ å½“å‰å¹´ä»½ï¼‰
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-keyword">val</span> name: String) {
    <span class="hljs-comment">// å…¬å¸æˆç«‹å¹´ä»½ï¼ˆå¸¸é‡ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> companyFoundedYear = <span class="hljs-number">2000</span>
    <span class="hljs-comment">// å½“å‰å¹´ä»½ï¼ˆåŠ¨æ€è·å–ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> currentYear = Calendar.getInstance().<span class="hljs-keyword">get</span>(Calendar.YEAR)

    <span class="hljs-comment">// è‡ªå®šä¹‰ Setterï¼šå·¥èµ„æ ¡éªŒï¼ˆå¿…é¡» &gt; 0ï¼‰</span>
    <span class="hljs-keyword">var</span> salary: <span class="hljs-built_in">Double</span> = <span class="hljs-number">0.0</span>
        <span class="hljs-keyword">set</span>(value) {
            require(value &gt; <span class="hljs-number">0</span>) { <span class="hljs-string">"å·¥èµ„å¿…é¡»å¤§äº 0ï¼Œå½“å‰è¾“å…¥ï¼š<span class="hljs-variable">$value</span>"</span> }
            field = value
        }

    <span class="hljs-comment">// è‡ªå®šä¹‰ Setterï¼šå…¥èŒå¹´ä»½æ ¡éªŒ</span>
    <span class="hljs-keyword">var</span> hireYear: <span class="hljs-built_in">Int</span> = currentYear
        <span class="hljs-keyword">set</span>(value) {
            require(value &gt;= companyFoundedYear) {
                <span class="hljs-string">"å…¥èŒå¹´ä»½ä¸èƒ½æ—©äºå…¬å¸æˆç«‹å¹´ä»½ <span class="hljs-variable">$companyFoundedYear</span>ï¼Œå½“å‰è¾“å…¥ï¼š<span class="hljs-variable">$value</span>"</span>
            }
            require(value &lt;= currentYear) {
                <span class="hljs-string">"å…¥èŒå¹´ä»½ä¸èƒ½æ™šäºå½“å‰å¹´ä»½ <span class="hljs-variable">$currentYear</span>ï¼Œå½“å‰è¾“å…¥ï¼š<span class="hljs-variable">$value</span>"</span>
            }
            field = value
        }

    <span class="hljs-comment">// å±•ç¤ºå‘˜å·¥ä¿¡æ¯</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">showInfo</span><span class="hljs-params">()</span></span> {
        println(<span class="hljs-string">"å§“åï¼š<span class="hljs-variable">$name</span>ï¼Œå·¥èµ„ï¼š<span class="hljs-subst">${String.format(<span class="hljs-string">"%.2f"</span>, salary)}</span> å…ƒï¼Œå…¥èŒå¹´ä»½ï¼š<span class="hljs-variable">$hireYear</span>"</span>)
    }
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> employee = Employee(<span class="hljs-string">"æå››"</span>)

    <span class="hljs-comment">// è®¾ç½®åˆæ³•æ•°æ®</span>
    employee.salary = <span class="hljs-number">8000.0</span>
    employee.hireYear = <span class="hljs-number">2020</span>
    println(<span class="hljs-string">"=== åˆæ³•æ•°æ® ==="</span>)
    employee.showInfo() <span class="hljs-comment">// è¾“å‡ºï¼šå§“åï¼šæå››ï¼Œå·¥èµ„ï¼š8000.00 å…ƒï¼Œå…¥èŒå¹´ä»½ï¼š2020</span>

    <span class="hljs-comment">// è®¾ç½®éæ³•å·¥èµ„ï¼ˆæŠ›å‡ºå¼‚å¸¸ï¼‰</span>
    <span class="hljs-keyword">try</span> {
        employee.salary = -<span class="hljs-number">5000.0</span>
    } <span class="hljs-keyword">catch</span> (e: IllegalArgumentException) {
        println(<span class="hljs-string">"\nè®¾ç½®å·¥èµ„å¤±è´¥ï¼š<span class="hljs-subst">${e.message}</span>"</span>) <span class="hljs-comment">// è¾“å‡ºï¼šè®¾ç½®å·¥èµ„å¤±è´¥ï¼šå·¥èµ„å¿…é¡»å¤§äº 0ï¼Œå½“å‰è¾“å…¥ï¼š-5000.0</span>
    }

    <span class="hljs-comment">// è®¾ç½®éæ³•å…¥èŒå¹´ä»½ï¼ˆæ—©äºå…¬å¸æˆç«‹å¹´ä»½ï¼‰</span>
    <span class="hljs-keyword">try</span> {
        employee.hireYear = <span class="hljs-number">1990</span>
    } <span class="hljs-keyword">catch</span> (e: IllegalArgumentException) {
        println(<span class="hljs-string">"è®¾ç½®å…¥èŒå¹´ä»½å¤±è´¥ï¼š<span class="hljs-subst">${e.message}</span>"</span>)
        <span class="hljs-comment">// è¾“å‡ºï¼šè®¾ç½®å…¥èŒå¹´ä»½å¤±è´¥ï¼šå…¥èŒå¹´ä»½ä¸èƒ½æ—©äºå…¬å¸æˆç«‹å¹´ä»½ 2000ï¼Œå½“å‰è¾“å…¥ï¼š1990</span>
    }
}

</code></pre>
<h4 data-id="heading-32">5.2.2 åœºæ™¯ 2ï¼šå€¼æ ¼å¼ç»Ÿä¸€è½¬æ¢</h4>
<p>å½“å±æ€§å€¼æœ‰å›ºå®šæ ¼å¼è¦æ±‚ï¼ˆå¦‚æ—¥æœŸæ ¼å¼ã€å­—ç¬¦ä¸²å¤§å°å†™ã€é›†åˆå»é‡ç­‰ï¼‰æ—¶ï¼Œé€šè¿‡è‡ªå®šä¹‰ Setter å¯¹è¾“å…¥å€¼è¿›è¡Œæ ¼å¼è½¬æ¢ï¼Œç¡®ä¿å­˜å‚¨æ ¼å¼ç»Ÿä¸€ã€‚ä¾‹å¦‚â€œæ–‡ç« ç±»â€å¯¹â€œæ ‡é¢˜â€è¿›è¡Œå¤§å°å†™è§„èŒƒã€å¯¹â€œå‘å¸ƒæ—¶é—´â€è¿›è¡Œç»Ÿä¸€æ ¼å¼è½¬æ¢ï¼Œå¯¹â€œæ ‡ç­¾åˆ—è¡¨â€è¿›è¡Œå»é‡å’Œæ ‡å‡†åŒ–å¤„ç†ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">import</span> java.text.SimpleDateFormat
<span class="hljs-keyword">import</span> java.util.*
<span class="hljs-keyword">import</span> java.util.stream.Collectors

<span class="hljs-comment">/**
 * æ–‡ç« ç±»ï¼šç»Ÿä¸€å±æ€§æ ¼å¼ï¼Œä¿è¯æ•°æ®è§„èŒƒæ€§
 * titleï¼šæ–‡ç« æ ‡é¢˜ï¼ˆé¦–å­—æ¯å¤§å†™ï¼Œå»é™¤å¤šä½™ç©ºæ ¼ï¼‰
 * publishTimeStrï¼šå‘å¸ƒæ—¶é—´å­—ç¬¦ä¸²ï¼ˆè½¬æ¢ä¸ºç»Ÿä¸€ Date ç±»å‹å­˜å‚¨ï¼‰
 * tagsï¼šæ ‡ç­¾åˆ—è¡¨ï¼ˆå»é‡ã€ç»Ÿä¸€å°å†™ã€å»é™¤ç©ºæ ¼ï¼‰
 * publishTimeï¼šæ ‡å‡†åŒ–å‘å¸ƒæ—¶é—´ï¼ˆDate ç±»å‹ï¼Œä¾›å†…éƒ¨ä½¿ç”¨ï¼‰
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Article</span> {
    <span class="hljs-comment">// ç»Ÿä¸€æ—¥æœŸæ ¼å¼</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> dateFormat = SimpleDateFormat(<span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>, Locale.CHINA)

    <span class="hljs-comment">// æ–‡ç« æ ‡é¢˜ï¼šæ ¼å¼ç»Ÿä¸€</span>
    <span class="hljs-keyword">var</span> title: String = <span class="hljs-string">""</span>
        <span class="hljs-keyword">set</span>(value) {
            field = value.trim()
                .takeIf { it.isNotBlank() }
                ?.replaceFirstChar { <span class="hljs-keyword">if</span> (it.isLowerCase()) it.uppercase() <span class="hljs-keyword">else</span> it }
                ?: <span class="hljs-string">"æœªå‘½åæ–‡ç« "</span>
        }

    <span class="hljs-comment">// å‘å¸ƒæ—¶é—´å­—ç¬¦ä¸²ï¼šè½¬æ¢ä¸º Date ç±»å‹å­˜å‚¨</span>
    <span class="hljs-keyword">var</span> publishTimeStr: String = dateFormat.format(Date())
        <span class="hljs-keyword">set</span>(value) {
            <span class="hljs-keyword">val</span> formattedDate = <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// å°è¯•æŒ‰æ ‡å‡†æ ¼å¼è§£æ</span>
                dateFormat.parse(value)
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                <span class="hljs-comment">// è§£æå¤±è´¥åˆ™ä½¿ç”¨å½“å‰æ—¶é—´</span>
                Date()
            }
            publishTime = formattedDate
            field = dateFormat.format(formattedDate)
        }

    <span class="hljs-comment">// æ ‡ç­¾åˆ—è¡¨ï¼šå»é‡ã€æ ‡å‡†åŒ–</span>
    <span class="hljs-keyword">var</span> tags: List&lt;String&gt; = emptyList()
        <span class="hljs-keyword">set</span>(value) {
            field = value.stream()
                .map { it.trim().lowercase() } <span class="hljs-comment">// ç»Ÿä¸€å°å†™ã€å»ç©ºæ ¼</span>
                .filter { it.isNotBlank() } <span class="hljs-comment">// è¿‡æ»¤ç©ºæ ‡ç­¾</span>
                .distinct() <span class="hljs-comment">// å»é‡</span>
                .collect(Collectors.toList())
        }

    <span class="hljs-comment">// å†…éƒ¨å­˜å‚¨çš„æ ‡å‡†åŒ–å‘å¸ƒæ—¶é—´</span>
    <span class="hljs-keyword">var</span> publishTime: Date = Date()

    <span class="hljs-comment">// å±•ç¤ºæ–‡ç« ä¿¡æ¯</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">showInfo</span><span class="hljs-params">()</span></span> {
        println(<span class="hljs-string">"æ ‡é¢˜ï¼š<span class="hljs-variable">$title</span>"</span>)
        println(<span class="hljs-string">"å‘å¸ƒæ—¶é—´ï¼š<span class="hljs-variable">$publishTimeStr</span>"</span>)
        println(<span class="hljs-string">"æ ‡ç­¾ï¼š<span class="hljs-subst">${if (tags.isNotEmpty()) tags.joinToString(<span class="hljs-string">"ã€"</span>) else <span class="hljs-string">"æ— æ ‡ç­¾"</span>}</span>"</span>)
    }
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> article = Article()

    <span class="hljs-comment">// è®¾ç½®ä¸è§„èŒƒçš„å±æ€§å€¼</span>
    article.title = <span class="hljs-string">"  kotlin è‡ªå®šä¹‰è®¿é—®å™¨ å®æˆ˜  "</span>
    article.publishTimeStr = <span class="hljs-string">"2024-10-15 10:30"</span> <span class="hljs-comment">// éæ ‡å‡†æ ¼å¼ï¼ˆç¼ºå°‘ç§’ï¼‰</span>
    article.tags = listOf(<span class="hljs-string">"Kotlin"</span>, <span class="hljs-string">"  getter"</span>, <span class="hljs-string">"setter"</span>, <span class="hljs-string">"kotlin"</span>, <span class="hljs-string">"  GETTER  "</span>)

    println(<span class="hljs-string">"=== æ ‡å‡†åŒ–åçš„æ–‡ç« ä¿¡æ¯ ==="</span>)
    article.showInfo()
    <span class="hljs-comment">/* è¾“å‡ºï¼š
    æ ‡é¢˜ï¼šKotlin è‡ªå®šä¹‰è®¿é—®å™¨ å®æˆ˜
    å‘å¸ƒæ—¶é—´ï¼š2024-10-15 10:30:00
    æ ‡ç­¾ï¼škotlinã€getterã€setter
    */</span>
}
</code></pre>
<h4 data-id="heading-33">5.2.3 åœºæ™¯ 3ï¼šè§¦å‘å…³è”æ“ä½œ</h4>
<p>å½“ä¿®æ”¹ä¸€ä¸ªå±æ€§æ—¶ï¼Œéœ€è¦åŒæ­¥æ›´æ–°å…¶ä»–å±æ€§æˆ–æ‰§è¡Œç‰¹å®šä¸šåŠ¡é€»è¾‘ï¼ˆå¦‚æ—¥å¿—è®°å½•ã€ç¼“å­˜æ›´æ–°ã€é€šçŸ¥å‘é€ç­‰ï¼‰ï¼Œå¯é€šè¿‡è‡ªå®šä¹‰ Setter å®ç°å…³è”æ“ä½œã€‚ä¾‹å¦‚â€œè´­ç‰©è½¦ç±»â€ä¸­ï¼Œä¿®æ”¹å•†å“æ•°é‡æ—¶åŒæ­¥è®¡ç®—â€œå°è®¡é‡‘é¢â€å’Œâ€œæ€»é‡‘é¢â€ï¼Œå¹¶è®°å½•ä¿®æ”¹æ—¥å¿—ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">/**
 * è´­ç‰©è½¦é¡¹ç±»ï¼šä¿®æ”¹æ•°é‡æ—¶è§¦å‘å…³è”è®¡ç®—
 * productNameï¼šå•†å“åç§°
 * priceï¼šå•ä»·ï¼ˆåªè¯»ï¼‰
 * quantityï¼šè´­ä¹°æ•°é‡ï¼ˆä¿®æ”¹æ—¶åŒæ­¥è®¡ç®—å°è®¡ï¼‰
 * subtotalï¼šå°è®¡é‡‘é¢ï¼ˆæ•°é‡ Ã— å•ä»·ï¼‰
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CartItem</span>(<span class="hljs-keyword">val</span> productName: String, <span class="hljs-keyword">val</span> price: <span class="hljs-built_in">Double</span>) {
    <span class="hljs-comment">// è´­ä¹°æ•°é‡</span>
    <span class="hljs-keyword">var</span> quantity: <span class="hljs-built_in">Int</span> = <span class="hljs-number">1</span>
        <span class="hljs-keyword">set</span>(value) {
            <span class="hljs-comment">// æ ¡éªŒæ•°é‡åˆæ³•æ€§</span>
            <span class="hljs-keyword">val</span> validQty = <span class="hljs-keyword">if</span> (value &lt; <span class="hljs-number">1</span>) <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (value &gt; <span class="hljs-number">100</span>) <span class="hljs-number">100</span> <span class="hljs-keyword">else</span> value
            <span class="hljs-keyword">val</span> oldQty = field
            field = validQty
            <span class="hljs-comment">// è§¦å‘å…³è”æ“ä½œï¼šæ›´æ–°å°è®¡ã€è®°å½•æ—¥å¿—</span>
            updateSubtotal()
            logQuantityChange(oldQty, validQty)
        }

    <span class="hljs-comment">// å°è®¡é‡‘é¢</span>
    <span class="hljs-keyword">var</span> subtotal: <span class="hljs-built_in">Double</span> = price
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span> <span class="hljs-comment">// ç§æœ‰ Setterï¼Œä»…å†…éƒ¨å¯ä¿®æ”¹</span>

    <span class="hljs-comment">// åŒæ­¥æ›´æ–°å°è®¡é‡‘é¢</span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updateSubtotal</span><span class="hljs-params">()</span></span> {
        subtotal = price * quantity
    }

    <span class="hljs-comment">// è®°å½•æ•°é‡ä¿®æ”¹æ—¥å¿—</span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">logQuantityChange</span><span class="hljs-params">(oldQty: <span class="hljs-type">Int</span>, newQty: <span class="hljs-type">Int</span>)</span></span> {
        println(<span class="hljs-string">"[æ—¥å¿—] å•†å“ '<span class="hljs-variable">$productName</span>' æ•°é‡å˜æ›´ï¼š<span class="hljs-variable">$oldQty</span> â†’ <span class="hljs-variable">$newQty</span>"</span>)
    }
}

<span class="hljs-comment">/**
 * è´­ç‰©è½¦ç±»ï¼šç®¡ç†å¤šä¸ªè´­ç‰©è½¦é¡¹ï¼Œè®¡ç®—æ€»é‡‘é¢
 * itemsï¼šè´­ç‰©è½¦é¡¹åˆ—è¡¨
 * totalAmountï¼šæ€»é‡‘é¢ï¼ˆéšè´­ç‰©è½¦é¡¹å˜åŒ–è€Œæ›´æ–°ï¼‰
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ShoppingCart</span> {
    <span class="hljs-keyword">val</span> items: MutableList&lt;CartItem&gt; = mutableListOf()

    <span class="hljs-comment">// æ€»é‡‘é¢ï¼šåŠ¨æ€è®¡ç®—æ‰€æœ‰é¡¹å°è®¡ä¹‹å’Œ</span>
    <span class="hljs-keyword">val</span> totalAmount: <span class="hljs-built_in">Double</span>
        <span class="hljs-keyword">get</span>() = items.sumOf { it.subtotal }

    <span class="hljs-comment">// æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">addItem</span><span class="hljs-params">(item: <span class="hljs-type">CartItem</span>)</span></span> {
        items.add(item)
        println(<span class="hljs-string">"[æ—¥å¿—] å•†å“ '<span class="hljs-subst">${item.productName}</span>' å·²åŠ å…¥è´­ç‰©è½¦"</span>)
    }

    <span class="hljs-comment">// å±•ç¤ºè´­ç‰©è½¦ä¿¡æ¯</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">showCart</span><span class="hljs-params">()</span></span> {
        println(<span class="hljs-string">"\n=== è´­ç‰©è½¦è¯¦æƒ… ==="</span>)
        items.forEachIndexed { index, item -&gt;
            println(<span class="hljs-string">"<span class="hljs-subst">${index + <span class="hljs-number">1</span>}</span>. å•†å“ï¼š<span class="hljs-subst">${item.productName}</span>ï¼Œå•ä»·ï¼š<span class="hljs-subst">${String.format(<span class="hljs-string">"%.2f"</span>, item.price)}</span> å…ƒï¼Œæ•°é‡ï¼š<span class="hljs-subst">${item.quantity}</span>ï¼Œå°è®¡ï¼š<span class="hljs-subst">${String.format(<span class="hljs-string">"%.2f"</span>, item.subtotal)}</span> å…ƒ"</span>)
        }
        println(<span class="hljs-string">"=================="</span>)
        println(<span class="hljs-string">"è´­ç‰©è½¦æ€»é‡‘é¢ï¼š<span class="hljs-subst">${String.format(<span class="hljs-string">"%.2f"</span>, totalAmount)}</span> å…ƒ"</span>)
    }
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> cart = ShoppingCart()
    <span class="hljs-keyword">val</span> item1 = CartItem(<span class="hljs-string">"Kotlin ç¼–ç¨‹ä¹¦ç±"</span>, <span class="hljs-number">59.9</span>)
    <span class="hljs-keyword">val</span> item2 = CartItem(<span class="hljs-string">"æœºæ¢°é”®ç›˜"</span>, <span class="hljs-number">299.0</span>)

    <span class="hljs-comment">// æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦</span>
    cart.addItem(item1)
    cart.addItem(item2)

    <span class="hljs-comment">// ä¿®æ”¹å•†å“æ•°é‡ï¼ˆè§¦å‘å…³è”è®¡ç®—ï¼‰</span>
    item1.quantity = <span class="hljs-number">3</span>
    item2.quantity = <span class="hljs-number">150</span> <span class="hljs-comment">// è¶…è¿‡ä¸Šé™ï¼Œè‡ªåŠ¨è°ƒæ•´ä¸º 100</span>

    <span class="hljs-comment">// å±•ç¤ºè´­ç‰©è½¦è¯¦æƒ…</span>
    cart.showCart()
    <span class="hljs-comment">/* è¾“å‡ºï¼š
    [æ—¥å¿—] å•†å“ 'Kotlin ç¼–ç¨‹ä¹¦ç±' å·²åŠ å…¥è´­ç‰©è½¦
    [æ—¥å¿—] å•†å“ 'æœºæ¢°é”®ç›˜' å·²åŠ å…¥è´­ç‰©è½¦
    [æ—¥å¿—] å•†å“ 'Kotlin ç¼–ç¨‹ä¹¦ç±' æ•°é‡å˜æ›´ï¼š1 â†’ 3
    [æ—¥å¿—] å•†å“ 'æœºæ¢°é”®ç›˜' æ•°é‡å˜æ›´ï¼š1 â†’ 100

    === è´­ç‰©è½¦è¯¦æƒ… ===
    1. å•†å“ï¼šKotlin ç¼–ç¨‹ä¹¦ç±ï¼Œå•ä»·ï¼š59.90 å…ƒï¼Œæ•°é‡ï¼š3ï¼Œå°è®¡ï¼š179.70 å…ƒ
    2. å•†å“ï¼šæœºæ¢°é”®ç›˜ï¼Œå•ä»·ï¼š299.00 å…ƒï¼Œæ•°é‡ï¼š100ï¼Œå°è®¡ï¼š29900.00 å…ƒ
    ==================
    è´­ç‰©è½¦æ€»é‡‘é¢ï¼š30079.70 å…ƒ
    */</span>
}

</code></pre>
<h3 data-id="heading-34">5.3 è®¡ç®—å±æ€§åœºæ™¯</h3>
<h4 data-id="heading-35">5.3.1 åœºæ™¯ 1ï¼šå•ä½è½¬æ¢</h4>
<p>å½“éœ€è¦åœ¨ä¸åŒå•ä½ä¹‹é—´çµæ´»è½¬æ¢æ—¶ï¼Œä½¿ç”¨è®¡ç®—å±æ€§å®ç°â€œè¯»å†™è”åŠ¨â€ï¼Œä¿®æ”¹ä¸€ä¸ªå•ä½çš„å€¼æ—¶è‡ªåŠ¨åŒæ­¥å¦ä¸€ä¸ªå•ä½çš„å€¼ã€‚ä¾‹å¦‚â€œé•¿åº¦ç±»â€æ”¯æŒâ€œç±³â€å’Œâ€œå˜ç±³â€ä¹‹é—´çš„åŒå‘è½¬æ¢ï¼Œä¿®æ”¹ä»»æ„ä¸€ä¸ªå•ä½éƒ½ä¼šå®æ—¶æ›´æ–°å¦ä¸€ä¸ªã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-comment">/**
 * é•¿åº¦ç±»ï¼šæ”¯æŒç±³å’Œå˜ç±³åŒå‘è½¬æ¢
 * meterï¼šç±³ï¼ˆåŸºç¡€å•ä½ï¼Œå­˜å‚¨å­—æ®µï¼‰
 * centimeterï¼šå˜ç±³ï¼ˆè®¡ç®—å±æ€§ï¼Œä¸ç±³è”åŠ¨ï¼‰
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Length</span>(<span class="hljs-keyword">var</span> meter: <span class="hljs-built_in">Double</span>) {
    <span class="hljs-comment">// å˜ç±³ï¼šè®¡ç®—å±æ€§ï¼Œ1ç±³ = 100å˜ç±³</span>
    <span class="hljs-keyword">var</span> centimeter: <span class="hljs-built_in">Double</span>
        <span class="hljs-keyword">get</span>() = meter * <span class="hljs-number">100</span>
        <span class="hljs-keyword">set</span>(value) {
            meter = value / <span class="hljs-number">100</span>
        }

    <span class="hljs-comment">// å±•ç¤ºé•¿åº¦ä¿¡æ¯</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">showLength</span><span class="hljs-params">()</span></span> {
        println(<span class="hljs-string">"é•¿åº¦ï¼š<span class="hljs-subst">${String.format(<span class="hljs-string">"%.2f"</span>, meter)}</span> ç±³ = <span class="hljs-subst">${String.format(<span class="hljs-string">"%.2f"</span>, centimeter)}</span> å˜ç±³"</span>)
    }
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> length = Length(<span class="hljs-number">2.5</span>)
    <span class="hljs-comment">// åˆå§‹çŠ¶æ€</span>
    length.showLength() <span class="hljs-comment">// è¾“å‡ºï¼šé•¿åº¦ï¼š2.50 ç±³ = 250.00 å˜ç±³</span>

    <span class="hljs-comment">// ä¿®æ”¹ç±³æ•°ï¼ŒåŒæ­¥æ›´æ–°å˜ç±³</span>
    length.meter = <span class="hljs-number">3.8</span>
    length.showLength() <span class="hljs-comment">// è¾“å‡ºï¼šé•¿åº¦ï¼š3.80 ç±³ = 380.00 å˜ç±³</span>

    <span class="hljs-comment">// ä¿®æ”¹å˜ç±³æ•°ï¼ŒåŒæ­¥æ›´æ–°ç±³</span>
    length.centimeter = <span class="hljs-number">520.5</span>
    length.showLength() <span class="hljs-comment">// è¾“å‡ºï¼šé•¿åº¦ï¼š5.21 ç±³ = 520.50 å˜ç±³</span>
}

</code></pre>
<h4 data-id="heading-36">5.3.2 åœºæ™¯ 2ï¼šåŠ¨æ€ç»Ÿè®¡ä¿¡æ¯</h4>
<p>å½“éœ€è¦å®æ—¶ç»Ÿè®¡å¯¹è±¡çš„æŸäº›çŠ¶æ€ï¼ˆå¦‚é›†åˆå¤§å°ã€å¹³å‡å€¼ã€æœ€å¤§å€¼ç­‰ï¼‰æ—¶ï¼Œä½¿ç”¨è®¡ç®—å±æ€§é¿å…æ‰‹åŠ¨æ›´æ–°ç»Ÿè®¡ç»“æœï¼Œç¡®ä¿æ•°æ®å®æ—¶å‡†ç¡®ã€‚ä¾‹å¦‚â€œå­¦ç”Ÿæˆç»©ç±»â€ä¸­ï¼Œé€šè¿‡è®¡ç®—å±æ€§å®æ—¶ç»Ÿè®¡â€œæ€»åˆ†â€â€œå¹³å‡åˆ†â€â€œæœ€é«˜åˆ†â€ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-comment">/**
 * å­¦ç”Ÿæˆç»©ç±»ï¼šå®æ—¶ç»Ÿè®¡æˆç»©ä¿¡æ¯
 * nameï¼šå­¦ç”Ÿå§“å
 * scoresï¼šå„ç§‘æˆç»©åˆ—è¡¨ï¼ˆæ”¯æŒåŠ¨æ€æ·»åŠ /ä¿®æ”¹ï¼‰
 * totalScoreï¼šæ€»åˆ†ï¼ˆæ‰€æœ‰æˆç»©ä¹‹å’Œï¼‰
 * averageScoreï¼šå¹³å‡åˆ†ï¼ˆæ€»åˆ†/ç§‘ç›®æ•°ï¼Œä¿ç•™ä¸¤ä½å°æ•°ï¼‰
 * maxScoreï¼šæœ€é«˜åˆ†ï¼ˆæˆç»©åˆ—è¡¨ä¸­çš„æœ€å¤§å€¼ï¼‰
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">StudentScore</span>(<span class="hljs-keyword">val</span> name: String) {
    <span class="hljs-comment">// å„ç§‘æˆç»©åˆ—è¡¨ï¼ˆå¯å˜ï¼‰</span>
    <span class="hljs-keyword">val</span> scores: MutableList&lt;<span class="hljs-built_in">Double</span>&gt; = mutableListOf()

    <span class="hljs-comment">// æ€»åˆ†ï¼šè®¡ç®—å±æ€§</span>
    <span class="hljs-keyword">val</span> totalScore: <span class="hljs-built_in">Double</span>
        <span class="hljs-keyword">get</span>() = scores.sum()

    <span class="hljs-comment">// å¹³å‡åˆ†ï¼šè®¡ç®—å±æ€§</span>
    <span class="hljs-keyword">val</span> averageScore: <span class="hljs-built_in">Double</span>
        <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">if</span> (scores.isEmpty()) <span class="hljs-number">0.0</span> <span class="hljs-keyword">else</span> String.format(<span class="hljs-string">"%.2f"</span>, totalScore / scores.size).toDouble()

    <span class="hljs-comment">// æœ€é«˜åˆ†ï¼šè®¡ç®—å±æ€§</span>
    <span class="hljs-keyword">val</span> maxScore: <span class="hljs-built_in">Double</span>
        <span class="hljs-keyword">get</span>() = scores.maxOrNull() ?: <span class="hljs-number">0.0</span>

    <span class="hljs-comment">// æ·»åŠ æˆç»©</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">addScore</span><span class="hljs-params">(score: <span class="hljs-type">Double</span>)</span></span> {
        <span class="hljs-keyword">if</span> (score <span class="hljs-keyword">in</span> <span class="hljs-number">0.0</span>.<span class="hljs-number">.100</span><span class="hljs-number">.0</span>) {
            scores.add(score)
            println(<span class="hljs-string">"å·²æ·»åŠ æˆç»©ï¼š<span class="hljs-variable">$score</span> åˆ†"</span>)
        } <span class="hljs-keyword">else</span> {
            println(<span class="hljs-string">"æˆç»© <span class="hljs-variable">$score</span> æ— æ•ˆï¼Œéœ€åœ¨ 0-100 ä¹‹é—´"</span>)
        }
    }

    <span class="hljs-comment">// å±•ç¤ºæˆç»©ç»Ÿè®¡</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">showStatistics</span><span class="hljs-params">()</span></span> {
        println(<span class="hljs-string">"\n=== <span class="hljs-subst">${name}</span> çš„æˆç»©ç»Ÿè®¡ ==="</span>)
        println(<span class="hljs-string">"å„ç§‘æˆç»©ï¼š<span class="hljs-subst">${scores.joinToString(<span class="hljs-string">"ã€"</span>)}</span>"</span>)
        println(<span class="hljs-string">"æ€»åˆ†ï¼š<span class="hljs-variable">$totalScore</span> åˆ†"</span>)
        println(<span class="hljs-string">"å¹³å‡åˆ†ï¼š<span class="hljs-variable">$averageScore</span> åˆ†"</span>)
        println(<span class="hljs-string">"æœ€é«˜åˆ†ï¼š<span class="hljs-variable">$maxScore</span> åˆ†"</span>)
    }
}

<span class="hljs-comment">// æµ‹è¯•ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> studentScore = StudentScore(<span class="hljs-string">"ç‹äº”"</span>)

    <span class="hljs-comment">// æ·»åŠ æˆç»©</span>
    studentScore.addScore(<span class="hljs-number">85.5</span>)
    studentScore.addScore(<span class="hljs-number">92.0</span>)
    studentScore.addScore(<span class="hljs-number">78.5</span>)
    studentScore.addScore(<span class="hljs-number">105.0</span>) <span class="hljs-comment">// æ— æ•ˆæˆç»©</span>

    <span class="hljs-comment">// å±•ç¤ºç»Ÿè®¡ä¿¡æ¯</span>
    studentScore.showStatistics()
    <span class="hljs-comment">/* è¾“å‡ºï¼š
    å·²æ·»åŠ æˆç»©ï¼š85.5 åˆ†
    å·²æ·»åŠ æˆç»©ï¼š92.0 åˆ†
    å·²æ·»åŠ æˆç»©ï¼š78.5 åˆ†
    æˆç»© 105.0 æ— æ•ˆï¼Œéœ€åœ¨ 0-100 ä¹‹é—´

    === ç‹äº” çš„æˆç»©ç»Ÿè®¡ ===
    å„ç§‘æˆç»©ï¼š85.5ã€92.0ã€78.5
    æ€»åˆ†ï¼š256.0 åˆ†
    å¹³å‡åˆ†ï¼š85.33 åˆ†
    æœ€é«˜åˆ†ï¼š92.0 åˆ†
    */</span>

    <span class="hljs-comment">// å†æ·»åŠ ä¸€é—¨æˆç»©ï¼Œç»Ÿè®¡ä¿¡æ¯å®æ—¶æ›´æ–°</span>
    studentScore.addScore(<span class="hljs-number">90.0</span>)
    studentScore.showStatistics()
}

</code></pre>
<h2 data-id="heading-37">å…­ã€é¿å‘è¦ç‚¹ä¸ä¼˜åŒ–æŠ€å·§</h2>
<h3 data-id="heading-38">6.1 å¸¸è§é¿å‘è¦ç‚¹</h3>
<h4 data-id="heading-39">6.1.1 é¿å… Getter/Setter é€’å½’è°ƒç”¨</h4>
<p>åœ¨è‡ªå®šä¹‰è®¿é—®å™¨ä¸­ï¼Œè‹¥ç›´æ¥ä½¿ç”¨â€œå±æ€§åâ€è¿›è¡Œè¯»å†™ï¼Œä¼šè§¦å‘è‡ªèº«çš„è®¿é—®å™¨è°ƒç”¨ï¼Œå¯¼è‡´æ— é™é€’å½’ã€‚æ ¸å¿ƒè§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨ <code>field</code> å…³é”®å­—å¼•ç”¨åº•å±‚å­—æ®µï¼Œä»…åœ¨è®¡ç®—å±æ€§ï¼ˆæ— åº•å±‚å­—æ®µï¼‰ä¸­å¯çœç•¥ <code>field</code>ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// é”™è¯¯ç¤ºä¾‹ï¼šSetter ä¸­ç›´æ¥ä½¿ç”¨å±æ€§åå¯¼è‡´é€’å½’</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
    <span class="hljs-keyword">var</span> age: <span class="hljs-built_in">Int</span> = <span class="hljs-number">0</span>
        <span class="hljs-keyword">set</span>(value) {
            <span class="hljs-comment">// é”™è¯¯ï¼šage = value ä¼šå†æ¬¡è§¦å‘ Setterï¼Œé™·å…¥æ­»å¾ªç¯</span>
            age = <span class="hljs-keyword">if</span> (value &gt; <span class="hljs-number">0</span>) value <span class="hljs-keyword">else</span> <span class="hljs-number">18</span>
        }
}

<span class="hljs-comment">// æ­£ç¡®ç¤ºä¾‹ï¼šä½¿ç”¨ field å¼•ç”¨åº•å±‚å­—æ®µ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
    <span class="hljs-keyword">var</span> age: <span class="hljs-built_in">Int</span> = <span class="hljs-number">0</span>
        <span class="hljs-keyword">set</span>(value) {
            <span class="hljs-comment">// æ­£ç¡®ï¼šfield ç›´æ¥æ“ä½œåº•å±‚å­—æ®µï¼Œä¸è§¦å‘è®¿é—®å™¨</span>
            field = <span class="hljs-keyword">if</span> (value &gt; <span class="hljs-number">0</span>) value <span class="hljs-keyword">else</span> <span class="hljs-number">18</span>
        }
}

</code></pre>
<h4 data-id="heading-40">6.1.2 åŒºåˆ†è®¡ç®—å±æ€§ä¸æ™®é€šå±æ€§</h4>
<p>è®¡ç®—å±æ€§æ— åº•å±‚å­˜å‚¨ï¼Œæ¯æ¬¡è®¿é—®éƒ½ä¼šé‡æ–°è®¡ç®—ï¼Œè‹¥è®¡ç®—é€»è¾‘å¤æ‚ï¼ˆå¦‚å¾ªç¯ã€ç½‘ç»œè¯·æ±‚ï¼‰ï¼Œä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ï¼›æ™®é€šå±æ€§ï¼ˆå«è‡ªå®šä¹‰è®¿é—®å™¨ï¼‰æœ‰åº•å±‚å­—æ®µï¼Œä»…åœ¨è®¿é—®å™¨é€»è¾‘ä¸­æ‰§è¡Œè®¡ç®—ã€‚é¿å…å°†å¤æ‚é€»è¾‘å†™å…¥è®¡ç®—å±æ€§çš„ Getter ä¸­ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä¸æ¨èï¼šè®¡ç®—å±æ€§ Getter åŒ…å«å¤æ‚é€»è¾‘</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DataAnalyzer</span>(<span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span>: List&lt;<span class="hljs-built_in">Int</span>&gt;) {
    <span class="hljs-comment">// æ¯æ¬¡è®¿é—®éƒ½ä¼šæ‰§è¡Œæ’åºå’Œå»é‡ï¼Œæ€§èƒ½å¼€é”€å¤§</span>
    <span class="hljs-keyword">val</span> sortedUniqueData: List&lt;<span class="hljs-built_in">Int</span>&gt;
        <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">data</span>.sorted().distinct()
}

<span class="hljs-comment">// æ¨èï¼šæ™®é€šå±æ€§ + åˆå§‹åŒ–æ—¶è®¡ç®—ï¼ˆä»…æ‰§è¡Œä¸€æ¬¡ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DataAnalyzer</span>(<span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span>: List&lt;<span class="hljs-built_in">Int</span>&gt;) {
    <span class="hljs-comment">// åˆå§‹åŒ–æ—¶è®¡ç®—å¹¶å­˜å‚¨ç»“æœï¼Œåç»­è®¿é—®ç›´æ¥è¿”å›</span>
    <span class="hljs-keyword">val</span> sortedUniqueData: List&lt;<span class="hljs-built_in">Int</span>&gt; = <span class="hljs-keyword">data</span>.sorted().distinct()
}

</code></pre>
<h4 data-id="heading-41">6.1.3 è°¨æ…ä½¿ç”¨ lateinit ä¸ lazy</h4>
<p>lateinit å’Œ lazy è™½èƒ½è§£å†³å»¶è¿Ÿåˆå§‹åŒ–é—®é¢˜ï¼Œä½†ä½¿ç”¨ä¸å½“ä¼šå¼•å‘å¼‚å¸¸ï¼Œéœ€æ³¨æ„é€‚ç”¨åœºæ™¯å’Œçº¦æŸæ¡ä»¶ï¼š</p>
<ul>
<li><strong>lateinit çº¦æŸ</strong>ï¼šä»…é€‚ç”¨äº var ä¿®é¥°çš„éç©ºå¼•ç”¨ç±»å‹ï¼ˆå¦‚ Stringã€è‡ªå®šä¹‰ç±»ï¼‰ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹éœ€é€šè¿‡`Delegates.notNull</li>
<li><strong>lazy çº¦æŸ</strong>ï¼šä»…é€‚ç”¨äº val ä¿®é¥°çš„å±æ€§ï¼›åˆå§‹åŒ–é€»è¾‘é»˜è®¤çº¿ç¨‹å®‰å…¨ï¼ˆå¯é€šè¿‡ <code>LazyThreadSafetyMode</code> è°ƒæ•´ï¼‰ï¼›åˆå§‹åŒ–åä¸å¯ä¿®æ”¹ï¼Œè‹¥éœ€åŠ¨æ€æ›´æ–°ï¼Œåº”ä½¿ç”¨æ™®é€šå±æ€§ã€‚</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-comment">// lateinit æ­£ç¡®ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> userRepository: UserRepository

    <span class="hljs-comment">// åˆå§‹åŒ–æ–¹æ³•ï¼ˆå¦‚ä¾èµ–æ³¨å…¥åè°ƒç”¨ï¼‰</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">init</span><span class="hljs-params">(repo: <span class="hljs-type">UserRepository</span>)</span></span> {
        userRepository = repo
    }

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getUser</span><span class="hljs-params">(id: <span class="hljs-type">String</span>)</span></span>: User? {
        <span class="hljs-comment">// æ£€æŸ¥åˆå§‹åŒ–çŠ¶æ€ï¼Œé¿å…å¼‚å¸¸</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> (::userRepository.isInitialized) {
            userRepository.findById(id)
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-literal">null</span>
        }
    }
}

<span class="hljs-comment">// lazy çº¿ç¨‹å®‰å…¨è°ƒæ•´ç¤ºä¾‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Config</span> {
    <span class="hljs-comment">// å•çº¿ç¨‹åœºæ™¯ä¸‹ï¼Œä½¿ç”¨ NONE æ¨¡å¼æå‡æ€§èƒ½</span>
    <span class="hljs-keyword">val</span> appConfig: Map&lt;String, String&gt; <span class="hljs-keyword">by</span> lazy(LazyThreadSafetyMode.NONE) {
        loadConfigFromFile() <span class="hljs-comment">// ä»æ–‡ä»¶åŠ è½½é…ç½®</span>
    }

    <span class="hljs-comment">// è¡¥å……é…ç½®åŠ è½½æ–¹æ³•å®ç°</span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadConfigFromFile</span><span class="hljs-params">()</span></span>: Map&lt;String, String&gt; {
        <span class="hljs-comment">// å®é™…å¼€å‘ä¸­å®ç°æ–‡ä»¶è¯»å–é€»è¾‘</span>
        <span class="hljs-keyword">return</span> mapOf(<span class="hljs-string">"timeout"</span> to <span class="hljs-string">"3000"</span>, <span class="hljs-string">"maxRetry"</span> to <span class="hljs-string">"3"</span>)
    }
}

<span class="hljs-comment">// è¡¥å……å¿…è¦çš„ç±»å‹å®šä¹‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserRepository</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">findById</span><span class="hljs-params">(id: <span class="hljs-type">String</span>)</span></span>: User? = User(id, <span class="hljs-string">"é»˜è®¤ç”¨æˆ·"</span>)
}

<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>(<span class="hljs-keyword">val</span> id: String, <span class="hljs-keyword">val</span> name: String)

</code></pre>
<h4 data-id="heading-42">6.1.4 é¿å…åœ¨è®¿é—®å™¨ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œ</h4>
<p>è®¿é—®å™¨ï¼ˆå°¤å…¶æ˜¯ Getterï¼‰çš„è®¾è®¡åˆè¡·æ˜¯â€œå¿«é€Ÿè¯»å†™å±æ€§â€ï¼Œè‹¥åœ¨å…¶ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œï¼ˆå¦‚æ•°æ®åº“æŸ¥è¯¢ã€ç½‘ç»œè¯·æ±‚ã€å¤§æ–‡ä»¶è¯»å†™ï¼‰ï¼Œä¼šå¯¼è‡´å±æ€§è®¿é—®æ—¶é˜»å¡ï¼Œå½±å“ç”¨æˆ·ä½“éªŒå’Œç³»ç»Ÿæ€§èƒ½ã€‚è€—æ—¶æ“ä½œåº”å°è£…ä¸ºç‹¬ç«‹æ–¹æ³•ï¼Œæ˜¾å¼è°ƒç”¨ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-comment">// ä¸æ¨èï¼šGetter ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>(<span class="hljs-keyword">val</span> userId: String) {
    <span class="hljs-comment">// è®¿é—®æ—¶æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢ï¼Œå¯èƒ½é˜»å¡çº¿ç¨‹</span>
    <span class="hljs-keyword">val</span> userDetails: UserDetails
        <span class="hljs-keyword">get</span>() = userDao.queryDetails(userId)
}

<span class="hljs-comment">// æ¨èï¼šå°è£…ä¸ºç‹¬ç«‹æ–¹æ³•ï¼Œæ˜¾å¼è°ƒç”¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>(<span class="hljs-keyword">val</span> userId: String) {
    <span class="hljs-comment">// æ˜¾å¼æ–¹æ³•ï¼Œè¡¨æ˜å­˜åœ¨è€—æ—¶æ“ä½œ</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getUserDetails</span><span class="hljs-params">()</span></span>: UserDetails {
        <span class="hljs-keyword">return</span> userDao.queryDetails(userId)
    }
}

<span class="hljs-comment">// è¡¥å……å¿…è¦çš„ç±»å‹å®šä¹‰ï¼ˆå®é™…å¼€å‘ä¸­éœ€æ ¹æ®ä¸šåŠ¡å®ç°ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDetails</span>
<span class="hljs-keyword">object</span> UserDao {
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">queryDetails</span><span class="hljs-params">(userId: <span class="hljs-type">String</span>)</span></span>: UserDetails = UserDetails()
}

</code></pre>
<h3 data-id="heading-43">6.2 ä¼˜åŒ–æŠ€å·§</h3>
<h4 data-id="heading-44">6.2.1 åˆç†ä½¿ç”¨ç§æœ‰è®¿é—®å™¨</h4>
<p>å¯¹äºæ— éœ€å¤–éƒ¨ä¿®æ”¹ä½†éœ€å†…éƒ¨æ›´æ–°çš„å±æ€§ï¼Œå¯å°† Setter è®¾ä¸ºç§æœ‰ï¼ˆ<code>private set</code>ï¼‰ï¼Œæ—¢èƒ½ä¿è¯å¤–éƒ¨åªè¯»æ€§ï¼Œåˆèƒ½é¿å…å±æ€§è¢«æ„å¤–ä¿®æ”¹ï¼Œæå‡å°è£…æ€§ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Order</span>(<span class="hljs-keyword">val</span> orderNo: String) {
    <span class="hljs-comment">// è®¢å•çŠ¶æ€ï¼šå¤–éƒ¨åªè¯»ï¼Œå†…éƒ¨å¯ä¿®æ”¹</span>
    <span class="hljs-keyword">var</span> status: String = <span class="hljs-string">"æœªæ”¯ä»˜"</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>

    <span class="hljs-comment">// å†…éƒ¨æ–¹æ³•ä¿®æ”¹çŠ¶æ€</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">pay</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">if</span> (status == <span class="hljs-string">"æœªæ”¯ä»˜"</span>) {
            status = <span class="hljs-string">"å·²æ”¯ä»˜"</span>
        }
    }
}

<span class="hljs-comment">// å¤–éƒ¨ä½¿ç”¨</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> order = Order(<span class="hljs-string">"2024001"</span>)
    println(order.status) <span class="hljs-comment">// å¯è¯»ï¼šè¾“å‡º æœªæ”¯ä»˜</span>
    order.pay() <span class="hljs-comment">// é€šè¿‡æ–¹æ³•ä¿®æ”¹</span>
    <span class="hljs-comment">// order.status = "å·²å–æ¶ˆ" // ç¼–è¯‘æŠ¥é”™ï¼šå¤–éƒ¨æ— æ³•ä¿®æ”¹ç§æœ‰ Setter çš„å±æ€§</span>
}

</code></pre>
<h4 data-id="heading-45">6.2.2 ç¼“å­˜è®¡ç®—å±æ€§ç»“æœï¼ˆé’ˆå¯¹å¤æ‚é€»è¾‘ï¼‰</h4>
<p>è‹¥è®¡ç®—å±æ€§çš„é€»è¾‘å¤æ‚ä½†ä¾èµ–çš„æ•°æ®æºä¸é¢‘ç¹å˜åŒ–ï¼Œå¯é€šè¿‡â€œæ™®é€šå±æ€§ + ç›‘å¬ä¾èµ–å˜åŒ–â€çš„æ–¹å¼ç¼“å­˜è®¡ç®—ç»“æœï¼Œé¿å…æ¯æ¬¡è®¿é—®éƒ½é‡æ–°è®¡ç®—ï¼Œæå‡æ€§èƒ½ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductAnalyzer</span>(<span class="hljs-keyword">var</span> products: List&lt;Product&gt;) {
    <span class="hljs-comment">// ç¼“å­˜è®¡ç®—ç»“æœçš„æ™®é€šå±æ€§</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> _averagePrice: <span class="hljs-built_in">Double</span>? = <span class="hljs-literal">null</span>

    <span class="hljs-comment">// è®¡ç®—å±æ€§ï¼šä¼˜å…ˆä½¿ç”¨ç¼“å­˜ï¼Œç¼“å­˜å¤±æ•ˆæ—¶é‡æ–°è®¡ç®—</span>
    <span class="hljs-keyword">val</span> averagePrice: <span class="hljs-built_in">Double</span>
        <span class="hljs-keyword">get</span>() {
            <span class="hljs-keyword">if</span> (_averagePrice == <span class="hljs-literal">null</span>) {
                _averagePrice = products.map { it.price }.average()
            }
            <span class="hljs-keyword">return</span> _averagePrice!!
        }

    <span class="hljs-comment">// å½“ä¾èµ–æ•°æ®æºå˜åŒ–æ—¶ï¼Œæ¸…ç©ºç¼“å­˜</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updateProducts</span><span class="hljs-params">(newProducts: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Product</span>&gt;)</span></span> {
        products = newProducts
        _averagePrice = <span class="hljs-literal">null</span> <span class="hljs-comment">// ç¼“å­˜å¤±æ•ˆ</span>
    }
}

<span class="hljs-comment">// è¡¥å……å¿…è¦çš„ç±»å‹å®šä¹‰</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span>(<span class="hljs-keyword">val</span> price: <span class="hljs-built_in">Double</span>)

</code></pre>
<h4 data-id="heading-46">6.2.3 åˆ©ç”¨ const ä¼˜åŒ–ç¼–è¯‘æœŸå¸¸é‡</h4>
<p>å¯¹äºç¼–è¯‘æœŸå³å¯ç¡®å®šå€¼çš„å¸¸é‡ï¼ˆå¦‚å›ºå®šçš„å­—ç¬¦ä¸²ã€æ•°å€¼ï¼‰ï¼Œä½¿ç”¨ <code>const val</code> æ›¿ä»£æ™®é€š <code>val</code>ï¼Œå¯å®šä¹‰åœ¨å¯¹è±¡ã€ä¼´ç”Ÿå¯¹è±¡æˆ–é¡¶å±‚ï¼Œç¼–è¯‘æ—¶ä¼šå°†å…¶æ›¿æ¢ä¸ºå­—é¢é‡ï¼Œé¿å…è¿è¡Œæ—¶å±æ€§è®¿é—®çš„å¼€é”€ï¼Œä¸”æ”¯æŒåœ¨æ³¨è§£ä¸­ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-comment">// æ™®é€šå¸¸é‡ï¼šè¿è¡Œæ—¶è®¿é—®å±æ€§</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">AppConstants</span> {
    <span class="hljs-keyword">val</span> API_BASE_URL = <span class="hljs-string">"https://api.example.com"</span>
}

<span class="hljs-comment">// ç¼–è¯‘æœŸå¸¸é‡ï¼šç¼–è¯‘æ—¶æ›¿æ¢ä¸ºå­—é¢é‡</span>
<span class="hljs-keyword">object</span> AppConstants {
    <span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> API_BASE_URL = <span class="hljs-string">"https://api.example.com"</span>
}

<span class="hljs-comment">// æ”¯æŒåœ¨æ³¨è§£ä¸­ä½¿ç”¨ï¼ˆRetrofit å®é™…æ³¨è§£ç¤ºä¾‹ï¼‰</span>
<span class="hljs-keyword">import</span> retrofit2.http.GET

<span class="hljs-meta">@retrofit2</span>.http.BaseUrl(AppConstants.API_BASE_URL)
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ApiService</span> {
    <span class="hljs-meta">@GET(<span class="hljs-string">"/data"</span>)</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchData</span><span class="hljs-params">()</span></span>: Response&lt;Data&gt;
}

<span class="hljs-comment">// è¡¥å……å¿…è¦çš„ç±»å‹å®šä¹‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Response</span>&lt;<span class="hljs-type">T</span>&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Data</span>

</code></pre>
<h4 data-id="heading-47">6.2.4 ç®€åŒ–è®¿é—®å™¨é€»è¾‘ï¼ˆæå–å…¬å…±æ–¹æ³•ï¼‰</h4>
<p>è‹¥å¤šä¸ªå±æ€§çš„è®¿é—®å™¨é€»è¾‘å­˜åœ¨é‡å¤ï¼ˆå¦‚ç›¸åŒçš„æ ¼å¼æ ¡éªŒã€è½¬æ¢è§„åˆ™ï¼‰ï¼Œåº”å°†é‡å¤é€»è¾‘æå–ä¸ºç§æœ‰æ–¹æ³•ï¼Œåœ¨è®¿é—®å™¨ä¸­è°ƒç”¨ï¼Œæå‡ä»£ç å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">UserData</span> {
    <span class="hljs-comment">// æå–å…¬å…±çš„å­—ç¬¦ä¸²æ ¼å¼åŒ–æ–¹æ³•</span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">formatString</span><span class="hljs-params">(value: <span class="hljs-type">String</span>)</span></span>: String {
        <span class="hljs-keyword">return</span> value.trim()
            .takeIf { it.isNotBlank() }
            ?: <span class="hljs-string">"æœªçŸ¥"</span>
    }

    <span class="hljs-comment">// å¤šä¸ªå±æ€§å¤ç”¨æ ¼å¼åŒ–é€»è¾‘</span>
    <span class="hljs-keyword">var</span> username: String = <span class="hljs-string">""</span>
        <span class="hljs-keyword">set</span>(value) { field = formatString(value) }

    <span class="hljs-keyword">var</span> nickname: String = <span class="hljs-string">""</span>
        <span class="hljs-keyword">set</span>(value) { field = formatString(value) }

    <span class="hljs-keyword">var</span> address: String = <span class="hljs-string">""</span>
        <span class="hljs-keyword">set</span>(value) { field = formatString(value) }
}

</code></pre>
<h2 data-id="heading-48">ä¸ƒã€æ€»ç»“</h2>
<h3 data-id="heading-49">7.1 æ ¸å¿ƒçŸ¥è¯†ç‚¹æ¢³ç†</h3>
<p>Kotlin ç±»çš„å±æ€§ä¸è‡ªå®šä¹‰è®¿é—®å™¨æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ ¸å¿ƒï¼Œå…¶æ ¸å¿ƒçŸ¥è¯†ç‚¹å¯å½’çº³ä¸ºâ€œä¸€ä¸ªæœ¬è´¨ã€ä¸¤ç±»å±æ€§ã€ä¸¤ç§è®¿é—®å™¨ã€ä¸‰å¤§åœºæ™¯â€ï¼š</p>
<ul>
<li><strong>ä¸€ä¸ªæœ¬è´¨</strong>ï¼šKotlin å±æ€§æ˜¯â€œåº•å±‚å­—æ®µ + è®¿é—®å™¨ï¼ˆGetter/Setterï¼‰â€çš„å°è£…ä½“ï¼Œè®¿é—®å±æ€§æœ¬è´¨æ˜¯è°ƒç”¨è®¿é—®å™¨æ–¹æ³•ã€‚</li>
<li><strong>ä¸¤ç±»å±æ€§</strong>ï¼šå¯å˜å±æ€§ï¼ˆvarï¼‰æ”¯æŒè¯»å†™ï¼Œè‡ªåŠ¨ç”Ÿæˆ Getter å’Œ Setterï¼›åªè¯»å±æ€§ï¼ˆvalï¼‰ä»…æ”¯æŒè¯»ï¼Œä»…ç”Ÿæˆ Getterã€‚</li>
<li><strong>ä¸¤ç§è®¿é—®å™¨</strong>ï¼šé»˜è®¤è®¿é—®å™¨å®ç°ç®€å•è¯»å†™ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–å†™ï¼›è‡ªå®šä¹‰è®¿é—®å™¨å¯é‡å†™é€»è¾‘ï¼Œå®ç°æ•°æ®æ ¡éªŒã€åŠ¨æ€è®¡ç®—ç­‰å¤æ‚éœ€æ±‚ã€‚</li>
<li><strong>ä¸‰å¤§åœºæ™¯</strong>ï¼šè‡ªå®šä¹‰ Getter ç”¨äºåŠ¨æ€è®¡ç®—ã€ç»“æœæ ¼å¼åŒ–ï¼›è‡ªå®šä¹‰ Setter ç”¨äºæ•°æ®æ ¡éªŒã€æ ¼å¼è½¬æ¢ã€å…³è”æ“ä½œï¼›è®¡ç®—å±æ€§ç”¨äºæ— å­˜å‚¨çš„åŠ¨æ€æ¨å¯¼åœºæ™¯ã€‚</li>
</ul>
<h3 data-id="heading-50">7.2 æœ€ä½³å®è·µå»ºè®®</h3>
<ol>
<li><strong>ä¼˜å…ˆä½¿ç”¨é»˜è®¤è®¿é—®å™¨</strong>ï¼šå¸¸è§„è¯»å†™åœºæ™¯ä¸‹ï¼Œé»˜è®¤è®¿é—®å™¨å·²æ»¡è¶³éœ€æ±‚ï¼Œé¿å…è¿‡åº¦è‡ªå®šä¹‰å¯¼è‡´ä»£ç å†—ä½™ã€‚</li>
<li><strong>æ˜ç¡®å±æ€§å¯å˜æ€§</strong>ï¼šä¼˜å…ˆä½¿ç”¨ val å®šä¹‰åªè¯»å±æ€§ï¼Œä»…åœ¨ç¡®éœ€ä¿®æ”¹æ—¶ä½¿ç”¨ varï¼Œå‡å°‘å¯¹è±¡çŠ¶æ€å˜åŒ–å¸¦æ¥çš„å¤æ‚åº¦ã€‚</li>
<li><strong>åˆç†é€‰æ‹©åˆå§‹åŒ–æ–¹å¼</strong>ï¼šå³æ—¶åˆå§‹åŒ–é€‚ç”¨äºå€¼æ˜ç¡®çš„åœºæ™¯ï¼›lateinit é€‚ç”¨äºéç©ºå¼•ç”¨ç±»å‹çš„å»¶è¿Ÿèµ‹å€¼ï¼›lazy é€‚ç”¨äº val ä¿®é¥°çš„é‡é‡çº§å¯¹è±¡å»¶è¿Ÿåˆå§‹åŒ–ã€‚</li>
<li><strong>ä¿æŒè®¿é—®å™¨è½»é‡åŒ–</strong>ï¼šè®¿é—®å™¨ä¸­ä»…æ‰§è¡Œç®€å•é€»è¾‘ï¼Œè€—æ—¶æ“ä½œæˆ–å¤æ‚ä¸šåŠ¡é€»è¾‘å°è£…ä¸ºç‹¬ç«‹æ–¹æ³•ã€‚</li>
<li><strong>å¼ºåŒ–å°è£…æ€§</strong>ï¼šé€šè¿‡ç§æœ‰å­—æ®µã€ç§æœ‰è®¿é—®å™¨éšè—å†…éƒ¨å®ç°ï¼Œå¯¹å¤–æä¾›ç®€æ´çš„è®¿é—®æ¥å£ã€‚</li>
</ol>
<h3 data-id="heading-51">7.3 å­¦ä¹ å±•æœ›</h3>
<p>æŒæ¡å±æ€§ä¸è‡ªå®šä¹‰è®¿é—®å™¨åï¼Œå¯è¿›ä¸€æ­¥å­¦ä¹  Kotlin ä¸­ä¸å±æ€§ç›¸å…³çš„é«˜çº§ç‰¹æ€§ï¼Œæ·±åŒ–å¯¹é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ç†è§£ï¼š</p>
<ul>
<li><strong>å§”æ‰˜å±æ€§</strong>ï¼šé€šè¿‡ <code>by</code> å…³é”®å­—å°†å±æ€§çš„è®¿é—®é€»è¾‘å§”æ‰˜ç»™å…¶ä»–å¯¹è±¡ï¼Œå®ç°å±æ€§çš„å¤ç”¨ï¼ˆå¦‚ lazy æœ¬è´¨æ˜¯å§”æ‰˜å±æ€§ï¼‰ã€‚</li>
<li><strong>æ•°æ®ç±»ä¸å¯†å°ç±»çš„å±æ€§ç‰¹æ€§</strong>ï¼šæ•°æ®ç±»è‡ªåŠ¨ç”ŸæˆåŸºäºå±æ€§çš„ equalsã€hashCode ç­‰æ–¹æ³•ï¼›å¯†å°ç±»çš„å±æ€§å¯ç”¨äºçº¦æŸå­ç±»çŠ¶æ€ã€‚</li>
<li><strong>å±æ€§æ³¨è§£ä¸åå°„</strong>ï¼šé€šè¿‡æ³¨è§£æ ‡è®°å±æ€§ï¼ˆå¦‚ <code>@SerializedName</code>ï¼‰ï¼Œç»“åˆåå°„å®ç°å±æ€§çš„åºåˆ—åŒ–/ååºåˆ—åŒ–ã€‚</li>
</ul>
<p>Kotlin çš„å±æ€§è®¾è®¡å…¼é¡¾äº†ç®€æ´æ€§ä¸çµæ´»æ€§ï¼Œåˆç†è¿ç”¨å±æ€§ä¸è®¿é—®å™¨ï¼Œèƒ½å¤§å¹…æå‡ä»£ç çš„å¯è¯»æ€§ã€å¥å£®æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œæ˜¯ Kotlin å¼€å‘çš„æ ¸å¿ƒæŠ€èƒ½ä¹‹ä¸€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Androidï¼šä½¿ç”¨ Tint ä¸ºå›¾æ ‡ Icon åŠ¨æ€ç€è‰²]]></title>    <link>https://juejin.cn/post/7576086557715939379</link>    <guid>https://juejin.cn/post/7576086557715939379</guid>    <pubDate>2025-11-24T09:15:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576086557715939379" data-draft-id="7575887863797874698" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Androidï¼šä½¿ç”¨ Tint ä¸ºå›¾æ ‡ Icon åŠ¨æ€ç€è‰²"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-11-24T09:15:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="kerli"/> <meta itemprop="url" content="https://juejin.cn/user/1023015909855504"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Androidï¼šä½¿ç”¨ Tint ä¸ºå›¾æ ‡ Icon åŠ¨æ€ç€è‰²
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1023015909855504/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    kerli
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T09:15:20.000Z" title="Mon Nov 24 2025 09:15:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1.   èƒŒæ™¯</h2>
<p>åœ¨ App å½“ä¸­ï¼Œä¼šæœ‰å¾ˆå¤š <strong>å½¢çŠ¶ç›¸åŒã€é¢œè‰²ä¸åŒ</strong> çš„ Iconã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb5e3a87fc3840e2a2f28e64a8aa2ee3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAga2VybGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764580520&amp;x-signature=dmQvOgfVG%2B5KRuwqTNr5uuy4g%2Bk%3D" alt="" loading="lazy"/></p>
<p>ä¾‹å¦‚ä¸Šå›¾è¿™ä¸ªåœºæ™¯ï¼Œæ˜¯ç­›é€‰é¡¹çš„ iconï¼Œå¯¹åº”çš„ä»£ç å¯èƒ½ä¸ºï¼š</p>
<ul>
<li>Xml ä¸­åˆå§‹åŒ–é¢œè‰²ä¸ºé»‘è‰²</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ImageView</span>
    <span class="hljs-attr">...</span>
    <span class="hljs-attr">android:src</span>=<span class="hljs-string">"@drawable/icon_filter_black"</span> /&gt;</span>
</code></pre>
<ul>
<li>ä»£ç ä¸­æ ¹æ®ç­›é€‰çŠ¶æ€ï¼Œåˆ‡æ¢ä¸åŒé¢œè‰²çš„ icon</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// XXXFragment.kt</span>

imageView.setImageDrawable(
    <span class="hljs-keyword">if</span> (isSelect) {
        <span class="hljs-comment">// ç­›é€‰åä¸ºæ©™è‰²</span>
        resources.getDrawable(R.drawable.icon_filter_orange);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// æœªç­›é€‰ä¸ºé»‘è‰²</span>
        resources.getDrawable(R.drawable.icon_filter_black);
    }
)
</code></pre>
<p>å¦‚æœä¸ºæ¯ç§é¢œè‰²çš„ Icon éƒ½ä¿å­˜ä¸€å¼ å›¾ç‰‡ï¼Œä¼šå¢åŠ åŒ…ä½“ç§¯ã€‚åŒæ—¶ï¼Œä¼šå¢åŠ è®¾è®¡çš„å·¥ä½œè´Ÿæ‹…ã€‚æœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥åšåˆ°åªéœ€è¦ä¸€å¼ å›¾ç‰‡ï¼Œç„¶ååŠ¨æ€çš„ç€è‰²å‘¢ï¼Ÿ</p>
<h2 data-id="heading-1">2.  ä½¿ç”¨ Tint åŠ¨æ€ç€è‰²</h2>

<h3 data-id="heading-2">2.1  ä½¿ç”¨æ–¹å¼</h3>
<p>æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š</p>
<ol>
<li>xml ä¸­è®¾ç½®</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ImageView</span>
    <span class="hljs-attr">...</span>
    <span class="hljs-attr">android:src</span>=<span class="hljs-string">"@drawable/icon_filter"</span> 
    <span class="hljs-attr">app:tint</span>=<span class="hljs-string">"@color/black"</span>
    /&gt;</span>
</code></pre>
<ol start="2">
<li>ä»£ç ä¸­ä¸º ImageView è®¾ç½®</li>
</ol>
<pre><code class="hljs language-kotlin" lang="kotlin">imageView.imageTintList = ColorStateList(...)
</code></pre>
<ol start="3">
<li>ä»£ç ä¸­ç›´æ¥ä¸º Drawable è®¾ç½®</li>
</ol>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> drawable = resources.getDrawable(R.drawable.icon_filter)
drawable.setTint = Color.BLACK

imageView.setImageDrawable(drawable)
</code></pre>
<p>è®¾ç½® tint åï¼Œç»˜åˆ¶æ—¶å°±ä¼šç”¨ tint çš„é¢œè‰²æ¸²æŸ“ iconã€‚è¿™æ ·ï¼Œå°±ç®—åªæœ‰ä¸€å¼ å›¾ç‰‡ï¼Œä¹Ÿå¯ä»¥æ¸²æŸ“ä¸ºå¤šç§é¢œè‰²ã€‚å¾ˆå¤§ç¨‹åº¦çš„èŠ‚çœäº†åŒ…ä½“ç§¯ã€‚</p>
<h3 data-id="heading-3">2.2  åŸç†åˆ†æ</h3>
<ul>
<li>ImageView ä¼šå°† Tint ä¼ ç»™ Drawable</li>
</ul>
<pre><code class="hljs language-java" lang="java"> <span class="hljs-comment">// ImageView.java</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setImageTintList</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> ColorStateList tint)</span> {
    mDrawableTintList = tint;
    mHasDrawableTint = <span class="hljs-literal">true</span>;
    
    applyImageTint();
}

<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">applyImageTint</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">if</span> (mDrawable != <span class="hljs-literal">null</span> &amp;&amp; (mHasDrawableTint || mHasDrawableBlendMode)) {
        mDrawable = mDrawable.mutate();
        
        <span class="hljs-keyword">if</span> (mHasDrawableTint) {
            mDrawable.setTintList(mDrawableTintList); <span class="hljs-comment">// å°† tint ä¼ é€’ç»™ Drawableï¼</span>
        }
        <span class="hljs-comment">// ...</span>
    }
}
</code></pre>
<ul>
<li>Drawable åœ¨ <strong>æ”¶åˆ° Tint</strong> æ—¶ä¼šåˆ›å»º <strong>ColorFilter</strong>ï¼Œåœ¨ draw æ—¶ä¼šç”¨å®ƒåšé¢œè‰²è¿‡æ»¤å¤„ç†ã€‚è¿™é‡Œæ‹¿ VectorDrawable ä¸¾ä¾‹ï¼š</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">VectorDrawable</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Drawable</span> {
    <span class="hljs-keyword">private</span> BlendModeColorFilter mBlendModeColorFilter ;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setTintList</span><span class="hljs-params">(ColorStateList tint)</span> {
        <span class="hljs-comment">// ä½¿ç”¨ tint åˆ›å»º ColorFilter</span>
        updateColorFilters(... , tint) ;
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateColorFilters</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> BlendMode blendMode , ColorStateList tint)</span> {
        <span class="hljs-comment">// ...</span>
    mBlendModeColorFilter = updateBlendModeFilter(mBlendModeColorFilter , tint , blendMode) ;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">draw</span><span class="hljs-params">(Canvas canvas)</span> {
        <span class="hljs-comment">// ç»˜åˆ¶æ—¶ï¼Œå¦‚æœå¤–éƒ¨æ²¡æœ‰è®¾ç½® mColorFilterï¼Œåˆ™ä½¿ç”¨ mBlendModeColorFilter</span>
        <span class="hljs-keyword">final</span> <span class="hljs-type">ColorFilter</span> <span class="hljs-variable">colorFilter</span> <span class="hljs-operator">=</span> (mColorFilter == <span class="hljs-literal">null</span> ? mBlendModeColorFilter : mColorFilter) ;
        <span class="hljs-comment">// ...</span>
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Drawable</span> {
    <span class="hljs-meta">@Nullable</span> 
    BlendModeColorFilter <span class="hljs-title function_">updateBlendModeFilter</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> ColorStateList tint , ... )</span> {
        <span class="hljs-comment">// ... </span>
        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">color</span> <span class="hljs-operator">=</span> tint.getColorForState(getState() , Color.TRANSPARENT) ;
    
        <span class="hljs-keyword">if</span> (blendFilter == <span class="hljs-literal">null</span> || blendFilter.getColor() != color
                || blendFilter.getMode() != blendMode) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BlendModeColorFilter</span>(color , blendMode) ;
        }
        
        <span class="hljs-keyword">return</span> blendFilter ;
    }
}
</code></pre>
<h2 data-id="heading-4">3.  æ³¨æ„äº‹é¡¹</h2>

<h3 data-id="heading-5">3.1  åŒæ—¶è®¾ç½® ImageView ä¸ Drawableï¼ŒDrawable çš„è®¾ç½®ä¼šå¤±æ•ˆ</h3>
<ul>
<li>ä¾‹å¦‚ï¼Œæˆ‘ä»¬åœ¨ xml ä¸­è®¾ç½® tint ä¸ºé»‘è‰²</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ImageView</span>
    <span class="hljs-attr">...</span>
    <span class="hljs-attr">android:src</span>=<span class="hljs-string">"@drawable/icon_filter"</span>
    <span class="hljs-attr">app:tint</span>=<span class="hljs-string">"@color/black"</span>
    /&gt;</span>
</code></pre>
<ul>
<li>åœ¨ä»£ç ä¸­ï¼Œä¸º Drawable è®¾ç½®ä¸ºé»„è‰²</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> drawable = resources.getDrawable(R.drawable.icon_filter)
drawable.setTint = Color.YELLOW

imageView.setImageDrawable(drawable)
</code></pre>
<ul>
<li>æ­¤æ—¶ï¼Œå¯¹ Drawable çš„è®¾ç½®æ˜¯ä¸ç”Ÿæ•ˆçš„ï¼Œå› ä¸ºæ­¤æ—¶ ImageView.setImageDrawable ä¼šè¦†ç›–æ‰ Drawable è‡ªèº«çš„ tint</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ImageView.kt</span>

<span class="hljs-keyword">public</span> void setImageDrawable(<span class="hljs-meta">@Nullable</span> Drawable drawable) {
    updateDrawable(drawable) ;
}

<span class="hljs-keyword">private</span> void updateDrawable(Drawable d) {
    applyImageTint() ;
}

<span class="hljs-keyword">private</span> void applyImageTint() {
    <span class="hljs-keyword">if</span> (mHasDrawableTint) {
        mDrawable.setTintList(mDrawableTintList) ;
    }
}
</code></pre>
<ul>
<li>æ‰€ä»¥å¦‚æœåŒæ—¶è®¾ç½® ImageView ä¸ Drawable çš„ tintï¼Œè¦å…³æ³¨è¦†ç›–é—®é¢˜ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LangGraph1.0æ™ºèƒ½ä½“å¼€å‘ï¼šGraph APIæ¦‚å¿µä¸è®¾è®¡]]></title>    <link>https://juejin.cn/post/7576057623742431274</link>    <guid>https://juejin.cn/post/7576057623742431274</guid>    <pubDate>2025-11-24T09:15:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576057623742431274" data-draft-id="7575887863797792778" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LangGraph1.0æ™ºèƒ½ä½“å¼€å‘ï¼šGraph APIæ¦‚å¿µä¸è®¾è®¡"/> <meta itemprop="keywords" content="LangChain,Agent,Python"/> <meta itemprop="datePublished" content="2025-11-24T09:15:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="FreeCode"/> <meta itemprop="url" content="https://juejin.cn/user/1282499717900794"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LangGraph1.0æ™ºèƒ½ä½“å¼€å‘ï¼šGraph APIæ¦‚å¿µä¸è®¾è®¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1282499717900794/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    FreeCode
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T09:15:33.000Z" title="Mon Nov 24 2025 09:15:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»22åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="" data-highlight-key="agate">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#333;color:#fff}.hljs-name,.hljs-strong{font-weight:700}.hljs-code,.hljs-emphasis{font-style:italic}.hljs-tag{color:#62c8f3}.hljs-selector-class,.hljs-selector-id,.hljs-template-variable,.hljs-variable{color:#ade5fc}.hljs-bullet,.hljs-string{color:#a2fca2}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-quote,.hljs-section,.hljs-title,.hljs-type{color:#ffa}.hljs-bullet,.hljs-number,.hljs-symbol{color:#d36363}.hljs-keyword,.hljs-literal,.hljs-selector-tag{color:#fcc28c}.hljs-code,.hljs-comment,.hljs-deletion{color:#888}.hljs-link,.hljs-regexp{color:#c6b4f0}.hljs-meta{color:#fc9b9b}.hljs-deletion{background-color:#fc9b9b;color:#333}.hljs-addition{background-color:#a2fca2;color:#333}.hljs a{color:inherit}.hljs a:focus,.hljs a:hover{color:inherit;text-decoration:underline}</style><h2 data-id="heading-0">ä¸€ã€å›¾ï¼ˆGraphsï¼‰</h2>
<p>ä»æ ¸å¿ƒæ¥çœ‹ï¼ŒLangGraphå°†æ™ºèƒ½ä½“ï¼ˆagentï¼‰çš„å·¥ä½œæµç¨‹å»ºæ¨¡ä¸º â€œå›¾â€ã€‚ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸‰ä¸ªå…³é”®ç»„ä»¶æ¥å®šä¹‰æ™ºèƒ½ä½“çš„è¡Œä¸ºï¼š</p>
<ul>
<li>çŠ¶æ€ï¼ˆStateï¼‰ï¼šä¸€ç§å…±äº«æ•°æ®ç»“æ„ï¼Œç”¨äºè¡¨ç¤ºåº”ç”¨ç¨‹åºå½“å‰çš„å¿«ç…§ã€‚å®ƒå¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹ï¼Œä½†é€šå¸¸ä¼šé€šè¿‡å…±äº«çŠ¶æ€æ¨¡å¼ï¼ˆshared state schemaï¼‰æ¥å®šä¹‰ã€‚</li>
<li>èŠ‚ç‚¹ï¼ˆNodesï¼‰ï¼šæ‰¿è½½æ™ºèƒ½ä½“é€»è¾‘çš„å‡½æ•°ã€‚èŠ‚ç‚¹æ¥æ”¶å½“å‰çŠ¶æ€ä½œä¸ºè¾“å…¥ï¼Œæ‰§è¡ŒæŸäº›è®¡ç®—æˆ–å‰¯ä½œç”¨æ“ä½œï¼Œç„¶åè¿”å›æ›´æ–°åçš„çŠ¶æ€ã€‚</li>
<li>è¾¹ï¼ˆEdgesï¼‰ï¼šæ ¹æ®å½“å‰çŠ¶æ€å†³å®šä¸‹ä¸€ä¸ªæ‰§è¡ŒèŠ‚ç‚¹çš„å‡½æ•°ã€‚è¾¹å¯ä»¥æ˜¯æ¡ä»¶åˆ†æ”¯ï¼ˆconditional branchesï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯å›ºå®šè½¬ç§»ï¼ˆfixed transitionsï¼‰ã€‚</li>
</ul>
<p>é€šè¿‡ç»„åˆèŠ‚ç‚¹å’Œè¾¹ï¼Œä½ å¯ä»¥åˆ›å»ºå¤æ‚çš„ã€å¸¦å¾ªç¯çš„å·¥ä½œæµç¨‹ï¼Œè¿™äº›æµç¨‹ä¼šéšç€æ—¶é—´æ¨ç§»ä¸æ–­æ›´æ–°çŠ¶æ€ã€‚ä¸è¿‡ï¼ŒLangGraphçš„çœŸæ­£ä¼˜åŠ¿åœ¨äºå…¶å¯¹çŠ¶æ€çš„ç®¡ç†æ–¹å¼ã€‚</p>
<p>éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼šèŠ‚ç‚¹å’Œè¾¹æœ¬è´¨ä¸Šåªæ˜¯å‡½æ•° â€”â€” å®ƒä»¬æ—¢å¯ä»¥åŒ…å«å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ï¼Œä¹Ÿå¯ä»¥åªæ˜¯å¸¸è§„çš„ä»£ç ã€‚
ç®€è€Œè¨€ä¹‹ï¼šèŠ‚ç‚¹è´Ÿè´£æ‰§è¡Œä»»åŠ¡ï¼Œè¾¹è´Ÿè´£å†³å®šä¸‹ä¸€æ­¥æ‰§è¡Œä»€ä¹ˆã€‚</p>
<p>LangGraphçš„åº•å±‚å›¾ç®—æ³•é‡‡ç”¨ â€œæ¶ˆæ¯ä¼ é€’ï¼ˆmessage passingï¼‰â€ æœºåˆ¶æ¥å®šä¹‰é€šç”¨ç¨‹åºã€‚å½“ä¸€ä¸ªèŠ‚ç‚¹å®Œæˆæ“ä½œåï¼Œå®ƒä¼šé€šè¿‡ä¸€æ¡æˆ–å¤šæ¡è¾¹å‘å…¶ä»–èŠ‚ç‚¹å‘é€æ¶ˆæ¯ã€‚è¿™äº›æ¥æ”¶æ¶ˆæ¯çš„èŠ‚ç‚¹éšåæ‰§è¡Œè‡ªèº«çš„å‡½æ•°ï¼Œå¹¶å°†ç”Ÿæˆçš„æ¶ˆæ¯ä¼ é€’ç»™ä¸‹ä¸€ç»„èŠ‚ç‚¹ï¼Œæ­¤è¿‡ç¨‹ä¸æ–­å¾ªç¯ã€‚è¯¥ç¨‹åºçš„è®¾è®¡çµæ„Ÿæºè‡ªè°·æ­Œçš„Pregelç³»ç»Ÿï¼Œä»¥ç¦»æ•£çš„ â€œè¶…æ­¥ï¼ˆsuper-stepsï¼‰â€ æ–¹å¼è¿è¡Œã€‚</p>
<p>ä¸€ä¸ª â€œè¶…æ­¥â€ å¯è§†ä¸ºå¯¹å›¾ä¸­èŠ‚ç‚¹çš„ä¸€æ¬¡è¿­ä»£ã€‚å¹¶è¡Œè¿è¡Œçš„èŠ‚ç‚¹å±äºåŒä¸€ä¸ªè¶…æ­¥ï¼Œè€Œé¡ºåºè¿è¡Œçš„èŠ‚ç‚¹åˆ™åˆ†å±ä¸åŒçš„è¶…æ­¥ã€‚åœ¨å›¾æ‰§è¡Œå¼€å§‹æ—¶ï¼Œæ‰€æœ‰èŠ‚ç‚¹å‡å¤„äºæœªæ¿€æ´»çŠ¶æ€ã€‚å½“æŸä¸ªèŠ‚ç‚¹é€šè¿‡å…¶ä»»æ„ä¸€æ¡å…¥è¾¹ï¼ˆæˆ– â€œé€šé“â€ï¼‰æ¥æ”¶åˆ°æ–°æ¶ˆæ¯ï¼ˆçŠ¶æ€ï¼‰æ—¶ï¼Œè¯¥èŠ‚ç‚¹ä¼šè¢«æ¿€æ´»ã€‚æ¿€æ´»åçš„èŠ‚ç‚¹å°†æ‰§è¡Œè‡ªèº«å‡½æ•°ï¼Œå¹¶è¿”å›æ›´æ–°ç»“æœã€‚åœ¨æ¯ä¸ªè¶…æ­¥ç»“æŸæ—¶ï¼Œæ²¡æœ‰æ¥æ”¶åˆ°å…¥è¾¹æ¶ˆæ¯çš„èŠ‚ç‚¹ä¼šé€šè¿‡å°†è‡ªèº«æ ‡è®°ä¸ºæœªæ¿€æ´»æ¥ â€œæŠ•ç¥¨â€ åœæ­¢ã€‚å½“æ‰€æœ‰èŠ‚ç‚¹å‡å¤„äºæœªæ¿€æ´»çŠ¶æ€ï¼Œä¸”æ²¡æœ‰æ­£åœ¨ä¼ é€’çš„æ¶ˆæ¯æ—¶ï¼Œå›¾çš„æ‰§è¡Œè¿‡ç¨‹ä¾¿ä¼šç»ˆæ­¢ã€‚</p>
<h3 data-id="heading-1">1.1 çŠ¶æ€å›¾ï¼ˆStateGraphï¼‰</h3>
<p>StateGraphç±»æ˜¯æ ¸å¿ƒçš„å›¾æ“ä½œç±»ï¼Œå…¶å‚æ•°ç”±ç”¨æˆ·è‡ªå®šä¹‰çš„ â€œçŠ¶æ€ï¼ˆStateï¼‰â€ å¯¹è±¡æŒ‡å®šã€‚</p>
<h3 data-id="heading-2">1.2 ç¼–è¯‘å›¾</h3>
<p>æ„å»ºå›¾çš„æµç¨‹å¦‚ä¸‹ï¼šé¦–å…ˆå®šä¹‰çŠ¶æ€ï¼Œæ¥ç€æ·»åŠ èŠ‚ç‚¹å’Œè¾¹ï¼Œæœ€åå¯¹å›¾è¿›è¡Œç¼–è¯‘ã€‚é‚£ä¹ˆ â€œç¼–è¯‘å›¾â€ å…·ä½“æŒ‡ä»€ä¹ˆï¼Ÿä¸ºä½•éœ€è¦è¿™ä¸€æ­¥éª¤ï¼Ÿ
ç¼–è¯‘æ˜¯ä¸€ä¸ªéå¸¸ç®€æ´çš„æ­¥éª¤ï¼Œä¸»è¦ä½œç”¨åŒ…æ‹¬ï¼šå¯¹å›¾çš„ç»“æ„è¿›è¡ŒåŸºç¡€æ ¡éªŒï¼ˆä¾‹å¦‚æ£€æŸ¥æ˜¯å¦å­˜åœ¨å­¤ç«‹èŠ‚ç‚¹ç­‰ï¼‰ï¼›åŒæ—¶ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨æ­¤æ­¥éª¤ä¸­æŒ‡å®šè¿è¡Œæ—¶å‚æ•°ï¼ˆå¦‚æ£€æŸ¥ç‚¹å·¥å…·checkpointersã€æ–­ç‚¹å·¥å…· breakpoints ç­‰ï¼‰ã€‚
åªéœ€è°ƒç”¨ .compile æ–¹æ³•ï¼Œå³å¯å®Œæˆå›¾çš„ç¼–è¯‘ï¼š</p>
<pre><code class="hljs language-python" lang="python">graph = graph_builder.<span class="hljs-built_in">compile</span>(...)
</code></pre>
<h2 data-id="heading-3">äºŒã€çŠ¶æ€ï¼ˆStateï¼‰</h2>
<p>å®šä¹‰å›¾æ—¶ï¼Œé¦–è¦ä»»åŠ¡æ˜¯ç¡®å®šå›¾çš„ â€œçŠ¶æ€ï¼ˆStateï¼‰â€ã€‚çŠ¶æ€ç”±å›¾çš„æ¨¡å¼ï¼ˆSchemaï¼‰ å’Œå½’çº¦å‡½æ•°ï¼ˆreducer functionsï¼‰ ç»„æˆï¼šæ¨¡å¼è§„å®šäº†çŠ¶æ€çš„æ•°æ®ç»“æ„ï¼Œå½’çº¦å‡½æ•°åˆ™å®šä¹‰äº†å¦‚ä½•å°†æ›´æ–°åº”ç”¨åˆ°çŠ¶æ€ä¸­ã€‚çŠ¶æ€çš„æ¨¡å¼å°†ä½œä¸ºå›¾ä¸­æ‰€æœ‰èŠ‚ç‚¹ï¼ˆNodesï¼‰å’Œè¾¹ï¼ˆEdgesï¼‰çš„è¾“å…¥æ¨¡å¼ï¼Œå…¶ç±»å‹å¯ä»¥æ˜¯ TypedDict æˆ– Pydantic æ¨¡å‹ã€‚æ‰€æœ‰èŠ‚ç‚¹éƒ½ä¼šè¾“å‡ºå¯¹çŠ¶æ€çš„æ›´æ–°ï¼Œè¿™äº›æ›´æ–°å°†é€šè¿‡æŒ‡å®šçš„å½’çº¦å‡½æ•°åº”ç”¨åˆ°çŠ¶æ€ä¸Šã€‚</p>
<h3 data-id="heading-4">2.1 æ¨¡å¼ï¼ˆSchemaï¼‰</h3>
<p>å®˜æ–¹æ¨èçš„å›¾æ¨¡å¼å®šä¹‰æ–¹å¼æ˜¯ä½¿ç”¨TypedDictã€‚å¦‚æœéœ€è¦ä¸ºçŠ¶æ€è®¾ç½®é»˜è®¤å€¼ï¼Œå¯ä½¿ç”¨æ•°æ®ç±»ï¼ˆdataclassï¼‰ã€‚è‹¥éœ€å®ç°é€’å½’æ•°æ®æ ¡éªŒï¼Œä¹Ÿæ”¯æŒä½¿ç”¨Pydanticçš„BaseModelä½œä¸ºå›¾çŠ¶æ€ï¼ˆæ³¨æ„ï¼šPydanticçš„æ€§èƒ½ä½äºTypedDictæˆ–æ•°æ®ç±»ï¼‰ã€‚
é»˜è®¤æƒ…å†µä¸‹ï¼Œå›¾çš„è¾“å…¥æ¨¡å¼å’Œè¾“å‡ºæ¨¡å¼æ˜¯ä¸€è‡´çš„ã€‚è‹¥éœ€ä¿®æ”¹è¿™ä¸€é»˜è®¤è¡Œä¸ºï¼Œä¹Ÿå¯ç›´æ¥æŒ‡å®šæ˜¾å¼çš„è¾“å…¥æ¨¡å¼å’Œè¾“å‡ºæ¨¡å¼ â€”â€” å½“çŠ¶æ€åŒ…å«å¤šä¸ªé”®ï¼ˆkeysï¼‰ï¼Œä¸”éƒ¨åˆ†é”®ä»…ç”¨äºè¾“å…¥ã€éƒ¨åˆ†ä»…ç”¨äºè¾“å‡ºæ—¶ï¼Œè¿™ç§æ–¹å¼éå¸¸å®ç”¨ã€‚</p>
<h3 data-id="heading-5">2.2 å¤šæ¨¡å¼ï¼ˆMultiple schemasï¼‰</h3>
<p>é€šå¸¸ï¼Œå›¾ä¸­æ‰€æœ‰èŠ‚ç‚¹é€šè¿‡å•ä¸€æ¨¡å¼é€šä¿¡ï¼Œå³å®ƒä»¬è¯»å–å’Œå†™å…¥åŒä¸€ä¸ªçŠ¶æ€é€šé“ã€‚ä½†åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦æ›´ç²¾ç»†çš„æ§åˆ¶ï¼š
å†…éƒ¨èŠ‚ç‚¹å¯ä¼ é€’æ— éœ€åŒ…å«åœ¨å›¾è¾“å…¥ / è¾“å‡ºä¸­çš„ä¿¡æ¯ï¼›
å¯ä¸ºå›¾è®¾ç½®ä¸åŒçš„è¾“å…¥ / è¾“å‡ºæ¨¡å¼ï¼ˆä¾‹å¦‚ï¼Œè¾“å‡ºä»…åŒ…å«ä¸€ä¸ªæ ¸å¿ƒç»“æœé”®ï¼‰ã€‚
å®ç°æ–¹å¼ï¼š</p>
<ul>
<li>ç§æœ‰çŠ¶æ€é€šé“ï¼šèŠ‚ç‚¹å¯å†™å…¥å›¾å†…éƒ¨çš„ç§æœ‰çŠ¶æ€é€šé“ï¼Œç”¨äºå†…éƒ¨èŠ‚ç‚¹é—´çš„é€šä¿¡ã€‚åªéœ€å®šä¹‰ä¸€ä¸ªç§æœ‰æ¨¡å¼ï¼ˆå¦‚ PrivateStateï¼‰å³å¯ï¼›</li>
<li>æ˜¾å¼è¾“å…¥/è¾“å‡ºæ¨¡å¼ï¼šå¯å®šä¹‰å›¾çš„æ˜¾å¼è¾“å…¥/è¾“å‡ºæ¨¡å¼ã€‚æ­¤æ—¶éœ€å…ˆå®šä¹‰ä¸€ä¸ª â€œå†…éƒ¨æ¨¡å¼â€ï¼ŒåŒ…å«å›¾æ“ä½œæ‰€éœ€çš„æ‰€æœ‰é”®ï¼›å†å®šä¹‰è¾“å…¥æ¨¡å¼å’Œè¾“å‡ºæ¨¡å¼ï¼ˆäºŒè€…å‡ä¸ºå†…éƒ¨æ¨¡å¼çš„å­é›†ï¼‰ï¼Œä»¥çº¦æŸå›¾çš„è¾“å…¥å’Œè¾“å‡ºèŒƒå›´ã€‚æ›´å¤šç»†èŠ‚å¯å‚è€ƒè¯¥æŒ‡å—ã€‚
ç¤ºä¾‹å¦‚ä¸‹ï¼š</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">InputState</span>(<span class="hljs-title class_ inherited__">TypedDict</span>):
    user_input: <span class="hljs-built_in">str</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">OutputState</span>(<span class="hljs-title class_ inherited__">TypedDict</span>):
    graph_output: <span class="hljs-built_in">str</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">OverallState</span>(<span class="hljs-title class_ inherited__">TypedDict</span>):
    foo: <span class="hljs-built_in">str</span>
    user_input: <span class="hljs-built_in">str</span>
    graph_output: <span class="hljs-built_in">str</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">PrivateState</span>(<span class="hljs-title class_ inherited__">TypedDict</span>):
    bar: <span class="hljs-built_in">str</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">node_1</span>(<span class="hljs-params">state: InputState</span>) -&gt; OverallState:
    <span class="hljs-comment"># Write to OverallState</span>
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"foo"</span>: state[<span class="hljs-string">"user_input"</span>] + <span class="hljs-string">" name"</span>}

<span class="hljs-keyword">def</span> <span class="hljs-title function_">node_2</span>(<span class="hljs-params">state: OverallState</span>) -&gt; PrivateState:
    <span class="hljs-comment"># Read from OverallState, write to PrivateState</span>
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"bar"</span>: state[<span class="hljs-string">"foo"</span>] + <span class="hljs-string">" is"</span>}

<span class="hljs-keyword">def</span> <span class="hljs-title function_">node_3</span>(<span class="hljs-params">state: PrivateState</span>) -&gt; OutputState:
    <span class="hljs-comment"># Read from PrivateState, write to OutputState</span>
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"graph_output"</span>: state[<span class="hljs-string">"bar"</span>] + <span class="hljs-string">" Lance"</span>}

builder = StateGraph(OverallState,input_schema=InputState,output_schema=OutputState)
builder.add_node(<span class="hljs-string">"node_1"</span>, node_1)
builder.add_node(<span class="hljs-string">"node_2"</span>, node_2)
builder.add_node(<span class="hljs-string">"node_3"</span>, node_3)
builder.add_edge(START, <span class="hljs-string">"node_1"</span>)
builder.add_edge(<span class="hljs-string">"node_1"</span>, <span class="hljs-string">"node_2"</span>)
builder.add_edge(<span class="hljs-string">"node_2"</span>, <span class="hljs-string">"node_3"</span>)
builder.add_edge(<span class="hljs-string">"node_3"</span>, END)

graph = builder.<span class="hljs-built_in">compile</span>()
graph.invoke({<span class="hljs-string">"user_input"</span>:<span class="hljs-string">"My"</span>})
<span class="hljs-comment"># {'graph_output': 'My name is Lance'}</span>
</code></pre>
<p>è¿™é‡Œæœ‰ä¸¤ä¸ªéœ€è¦æ³¨æ„çš„å¾®å¦™ä¸”é‡è¦çš„ç‚¹ï¼š
æˆ‘ä»¬å°† state: InputState ä½œä¸ºè¾“å…¥æ¨¡å¼ä¼ é€’ç»™ node_1ï¼Œä½†å´å‘ OverallState ä¸­çš„é€šé“ foo å†™å…¥æ•°æ®ã€‚ä¸ºä½•èƒ½å‘è¾“å…¥æ¨¡å¼ä¸­æœªåŒ…å«çš„çŠ¶æ€é€šé“å†™å…¥æ•°æ®ï¼Ÿè¿™æ˜¯å› ä¸ºèŠ‚ç‚¹å¯ä»¥å†™å…¥å›¾çŠ¶æ€ä¸­çš„ä»»æ„çŠ¶æ€é€šé“â€”â€” å›¾çŠ¶æ€æ˜¯åˆå§‹åŒ–æ—¶å®šä¹‰çš„æ‰€æœ‰çŠ¶æ€é€šé“çš„é›†åˆï¼Œå…¶ä¸­åŒ…å« OverallState ä»¥åŠè¿‡æ»¤åçš„ InputState å’Œ OutputStateã€‚</p>
<p>æˆ‘ä»¬é€šè¿‡ä»¥ä¸‹æ–¹å¼åˆå§‹åŒ–å›¾ï¼š</p>
<pre><code class="hljs language-python" lang="python">StateGraph(
    OverallState,
    input_schema=InputState,
    output_schema=OutputState
)
</code></pre>
<p>é‚£ä¹ˆï¼Œå¦‚ä½•åœ¨ node_2 ä¸­å‘ PrivateState å†™å…¥æ•°æ®ï¼Ÿå¦‚æœ PrivateState æœªåœ¨ StateGraph åˆå§‹åŒ–æ—¶ä¼ å…¥ï¼Œå›¾å¦‚ä½•è·å–è¯¥æ¨¡å¼çš„è®¿é—®æƒé™ï¼Ÿ
è¿™ä¸€æ“ä½œä¹‹æ‰€ä»¥å¯è¡Œï¼Œæ˜¯å› ä¸ºåªè¦çŠ¶æ€æ¨¡å¼å·²å®šä¹‰ï¼ŒèŠ‚ç‚¹ä¹Ÿå¯ä»¥å£°æ˜é¢å¤–çš„çŠ¶æ€é€šé“ã€‚æœ¬ç¤ºä¾‹ä¸­ï¼ŒPrivateState æ¨¡å¼å·²æå‰å®šä¹‰ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨å›¾ä¸­æ–°å¢ bar è¿™ä¸€çŠ¶æ€é€šé“ï¼Œå¹¶å‘å…¶å†™å…¥æ•°æ®ã€‚</p>
<h3 data-id="heading-6">2.3 å½’çº¦å‡½æ•°ï¼ˆReducersï¼‰</h3>
<p>å½’çº¦å‡½æ•°æ˜¯ç†è§£èŠ‚ç‚¹æ›´æ–°å¦‚ä½•åº”ç”¨åˆ°çŠ¶æ€ï¼ˆStateï¼‰çš„å…³é”®ã€‚çŠ¶æ€ä¸­çš„æ¯ä¸ªé”®ï¼ˆkeyï¼‰éƒ½æœ‰å…¶ç‹¬ç«‹çš„å½’çº¦å‡½æ•°ã€‚å¦‚æœæœªæ˜¾å¼æŒ‡å®šå½’çº¦å‡½æ•°ï¼Œåˆ™é»˜è®¤æ‰€æœ‰å¯¹è¯¥é”®çš„æ›´æ–°éƒ½ä¼šè¦†ç›–åŸæœ‰å€¼ã€‚å½’çº¦å‡½æ•°åŒ…å«å¤šç§ç±»å‹ï¼Œé¦–å…ˆä»‹ç»é»˜è®¤ç±»å‹ï¼š
é»˜è®¤å½’çº¦å‡½æ•°ï¼ˆDefault Reducerï¼‰
ä»¥ä¸‹ä¸¤ä¸ªç¤ºä¾‹å±•ç¤ºäº†é»˜è®¤å½’çº¦å‡½æ•°çš„ä½¿ç”¨æ–¹å¼ï¼š
ç¤ºä¾‹A:</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> typing_extensions <span class="hljs-keyword">import</span> TypedDict

<span class="hljs-keyword">class</span> <span class="hljs-title class_">State</span>(<span class="hljs-title class_ inherited__">TypedDict</span>):
    foo: <span class="hljs-built_in">int</span>
    bar: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>]
</code></pre>
<p>æœ¬ç¤ºä¾‹ä¸­ï¼Œæœªä¸ºä»»ä½•é”®æŒ‡å®šå½’çº¦å‡½æ•°ã€‚å‡è®¾å›¾çš„è¾“å…¥ä¸ºï¼š{"foo": 1, "bar": ["hi"]}ã€‚
è‹¥ç¬¬ä¸€ä¸ªèŠ‚ç‚¹è¿”å› {"foo": 2}ï¼ˆèŠ‚ç‚¹æ— éœ€è¿”å›å®Œæ•´çŠ¶æ€æ¨¡å¼ï¼Œä»…éœ€è¿”å›å¾…æ›´æ–°çš„å†…å®¹ï¼‰ï¼Œåº”ç”¨è¯¥æ›´æ–°åï¼ŒçŠ¶æ€å°†å˜ä¸º {"foo": 2, "bar": ["hi"]}ï¼›
è‹¥ç¬¬äºŒä¸ªèŠ‚ç‚¹è¿”å› {"bar": ["bye"]}ï¼ŒçŠ¶æ€å°†è¿›ä¸€æ­¥æ›´æ–°ä¸º {"foo": 2, "bar": ["bye"]}ï¼ˆbaré”®çš„åŸæœ‰å€¼è¢«æ–°åˆ—è¡¨è¦†ç›–ï¼‰ã€‚
ç¤ºä¾‹B:</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> Annotated
<span class="hljs-keyword">from</span> typing_extensions <span class="hljs-keyword">import</span> TypedDict
<span class="hljs-keyword">from</span> operator <span class="hljs-keyword">import</span> add

<span class="hljs-keyword">class</span> <span class="hljs-title class_">State</span>(<span class="hljs-title class_ inherited__">TypedDict</span>):
    foo: <span class="hljs-built_in">int</span>
    bar: Annotated[<span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>], add]
</code></pre>
<p>æœ¬ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡Annotatedç±»å‹ä¸ºç¬¬äºŒä¸ªé”®ï¼ˆbarï¼‰æŒ‡å®šäº†å½’çº¦å‡½æ•° operator.addï¼ˆåˆ—è¡¨æ‹¼æ¥å‡½æ•°ï¼‰ï¼Œç¬¬ä¸€ä¸ªé”®ï¼ˆfooï¼‰ä»ä½¿ç”¨é»˜è®¤å½’çº¦å‡½æ•°ã€‚å‡è®¾å›¾çš„è¾“å…¥ä¸º {"foo": 1, "bar": ["hi"]}ï¼š
è‹¥ç¬¬ä¸€ä¸ªèŠ‚ç‚¹è¿”å› {"foo": 2}ï¼Œåº”ç”¨æ›´æ–°åçŠ¶æ€ä¸º {"foo": 2, "bar": ["hi"]}ï¼ˆfoo é”®è¢«è¦†ç›–ï¼Œbar é”®ä¿æŒä¸å˜ï¼‰ï¼›
è‹¥ç¬¬äºŒä¸ªèŠ‚ç‚¹è¿”å› {"bar": ["bye"]}ï¼ŒçŠ¶æ€å°†å˜ä¸º {"foo": 2, "bar": ["hi", "bye"]}ï¼ˆbar é”®é€šè¿‡ add å‡½æ•°å°†æ–°æ—§åˆ—è¡¨æ‹¼æ¥ï¼Œè€Œéè¦†ç›–ï¼‰ã€‚</p>
<p>å¼ºåˆ¶è¦†ç›–ï¼ˆOverwriteï¼‰ï¼š
åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œä½ å¯èƒ½å¸Œæœ›ç»•è¿‡å½’çº¦å‡½æ•°ï¼ˆreducerï¼‰ï¼Œç›´æ¥è¦†ç›–æŸä¸ªçŠ¶æ€å€¼ã€‚LangGraphä¸ºæ­¤æä¾›äº†Overwriteç±»å‹æ¥å®ç°è¿™ä¸€éœ€æ±‚ã€‚</p>
<h3 data-id="heading-7">2.4 åœ¨å›¾çŠ¶æ€ä¸­å¤„ç†æ¶ˆæ¯</h3>
<p>ä¸ºä½•ä½¿ç”¨æ¶ˆæ¯ï¼Ÿ</p>
<p>å¤§å¤šæ•°ä¸»æµå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰æä¾›å•†éƒ½è®¾æœ‰èŠå¤©æ¨¡å‹æ¥å£ï¼Œè¯¥æ¥å£æ¥æ”¶æ¶ˆæ¯åˆ—è¡¨ä½œä¸ºè¾“å…¥ã€‚å…¶ä¸­ï¼ŒLangChainçš„èŠå¤©æ¨¡å‹æ¥å£å°¤å…¶ä¼šæ¥æ”¶æ¶ˆæ¯å¯¹è±¡åˆ—è¡¨ä½œä¸ºè¾“å…¥ã€‚è¿™äº›æ¶ˆæ¯åŒ…å«å¤šç§ç±»å‹ï¼Œä¾‹å¦‚ HumanMessageï¼ˆç”¨æˆ·è¾“å…¥ï¼‰æˆ– AIMessageï¼ˆLLM å“åº”ï¼‰ã€‚</p>
<p>åœ¨å›¾ä¸­ä½¿ç”¨æ¶ˆæ¯</p>
<p>åœ¨è®¸å¤šåœºæ™¯ä¸‹ï¼Œå°†å†å²å¯¹è¯è®°å½•ä»¥æ¶ˆæ¯åˆ—è¡¨çš„å½¢å¼å­˜å‚¨åœ¨å›¾çŠ¶æ€ä¸­ä¼šéå¸¸å®ç”¨ã€‚è¦å®ç°è¿™ä¸€æ“ä½œï¼Œéœ€åœ¨å›¾çŠ¶æ€ä¸­æ·»åŠ ä¸€ä¸ªé”®ï¼ˆå³ â€œé€šé“â€ï¼‰ï¼Œç”¨äºå­˜å‚¨æ¶ˆæ¯å¯¹è±¡åˆ—è¡¨ï¼Œå¹¶ä¸ºè¯¥é”®æ ‡æ³¨ä¸€ä¸ªå½’çº¦å‡½æ•°ã€‚
å½’çº¦å‡½æ•°çš„æ ¸å¿ƒä½œç”¨æ˜¯ï¼šå‘ŠçŸ¥å›¾åœ¨æ¯æ¬¡çŠ¶æ€æ›´æ–°æ—¶ï¼ˆä¾‹å¦‚æŸä¸ªèŠ‚ç‚¹å‘é€æ›´æ–°æ—¶ï¼‰ï¼Œå¦‚ä½•å¯¹çŠ¶æ€ä¸­çš„æ¶ˆæ¯å¯¹è±¡åˆ—è¡¨è¿›è¡Œæ›´æ–°ã€‚å…·ä½“è§„åˆ™å¦‚ä¸‹ï¼š</p>
<ul>
<li>è‹¥æœªæŒ‡å®šå½’çº¦å‡½æ•°ï¼Œæ¯æ¬¡çŠ¶æ€æ›´æ–°éƒ½ä¼šç”¨æœ€æ–°æä¾›çš„å€¼è¦†ç›–åŸæœ‰çš„æ¶ˆæ¯åˆ—è¡¨ï¼›</li>
<li>è‹¥ä»…éœ€å°†æ–°æ¶ˆæ¯è¿½åŠ åˆ°ç°æœ‰åˆ—è¡¨ä¸­ï¼Œå¯ä½¿ç”¨ operator.add ä½œä¸ºå½’çº¦å‡½æ•°ã€‚</li>
</ul>
<p>ä¸è¿‡ï¼Œä½ å¯èƒ½è¿˜éœ€è¦æ‰‹åŠ¨æ›´æ–°å›¾çŠ¶æ€ä¸­çš„æ¶ˆæ¯ï¼ˆä¾‹å¦‚ â€œäººæœºååŒï¼ˆhuman-in-the-loopï¼‰â€ åœºæ™¯ï¼‰ã€‚è‹¥æ­¤æ—¶ä½¿ç”¨ operator.add ä½œä¸ºå½’çº¦å‡½æ•°ï¼Œå‘é€ç»™å›¾çš„æ‰‹åŠ¨çŠ¶æ€æ›´æ–°ä¼šè¢«è¿½åŠ åˆ°ç°æœ‰æ¶ˆæ¯åˆ—è¡¨ä¸­ï¼Œè€Œéæ›´æ–°å·²æœ‰çš„æ¶ˆæ¯ã€‚
ä¸ºé¿å…è¿™ç§æƒ…å†µï¼Œéœ€è¦ä¸€ä¸ªèƒ½è·Ÿè¸ªæ¶ˆæ¯IDçš„å½’çº¦å‡½æ•°ï¼šå½“æ¶ˆæ¯è¢«æ›´æ–°æ—¶ï¼Œè¯¥å‡½æ•°ä¼šè¦†ç›–åŸæœ‰æ¶ˆæ¯ã€‚LangGraph æä¾›çš„é¢„æ„å»ºå‡½æ•°add_messageså¯å®ç°æ­¤éœ€æ±‚ â€”â€” å¯¹äºå…¨æ–°æ¶ˆæ¯ï¼Œå®ƒä¼šç›´æ¥è¿½åŠ åˆ°åˆ—è¡¨ï¼›å¯¹äºå·²æœ‰æ¶ˆæ¯çš„æ›´æ–°ï¼Œå®ƒä¹Ÿèƒ½æ­£ç¡®å¤„ç†ã€‚</p>
<p>åºåˆ—åŒ–ï¼ˆSerializationï¼‰</p>
<p>é™¤äº†è·Ÿè¸ªæ¶ˆæ¯IDï¼Œadd_messageså‡½æ•°è¿˜æœ‰ä¸€ä¸ªä½œç”¨ï¼šå½“messagesé€šé“æ¥æ”¶åˆ°çŠ¶æ€æ›´æ–°æ—¶ï¼Œä¼šå°è¯•å°†æ¶ˆæ¯ååºåˆ—åŒ–ä¸ºLangChainæ¶ˆæ¯å¯¹è±¡ã€‚
è¿™ä¸€ç‰¹æ€§æ”¯æŒä»¥ä»¥ä¸‹æ ¼å¼å‘é€å›¾çš„è¾“å…¥/çŠ¶æ€æ›´æ–°ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ”¯æŒè¿™ç§æ ¼å¼</span>
{<span class="hljs-string">"messages"</span>: [HumanMessage(content=<span class="hljs-string">"message"</span>)]}
<span class="hljs-comment"># ä¹Ÿæ”¯æŒè¿™ç§æ ¼å¼</span>
{<span class="hljs-string">"messages"</span>: [{<span class="hljs-string">"type"</span>: <span class="hljs-string">"human"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"message"</span>}]}
</code></pre>
<p>ç”±äºä½¿ç”¨add_messagesæ—¶ï¼ŒçŠ¶æ€æ›´æ–°æ€»ä¼šè¢«ååºåˆ—åŒ–ä¸ºLangChainæ¶ˆæ¯å¯¹è±¡ï¼Œå› æ­¤éœ€é€šè¿‡ç‚¹è¯­æ³•è®¿é—®æ¶ˆæ¯å±æ€§ï¼Œä¾‹å¦‚ state["messages"][-1].contentï¼ˆè·å–æœ€åä¸€æ¡æ¶ˆæ¯çš„å†…å®¹ï¼‰ã€‚
ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨ add_messages ä½œä¸ºå½’çº¦å‡½æ•°çš„å›¾ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain.messages <span class="hljs-keyword">import</span> AnyMessage
<span class="hljs-keyword">from</span> langgraph.graph.message <span class="hljs-keyword">import</span> add_messages
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> Annotated
<span class="hljs-keyword">from</span> typing_extensions <span class="hljs-keyword">import</span> TypedDict

<span class="hljs-keyword">class</span> <span class="hljs-title class_">GraphState</span>(<span class="hljs-title class_ inherited__">TypedDict</span>):
    messages: Annotated[<span class="hljs-built_in">list</span>[AnyMessage], add_messages]
</code></pre>
<p>æ¶ˆæ¯çŠ¶æ€ï¼ˆMessagesStateï¼‰</p>
<p>ç”±äºåœ¨çŠ¶æ€ä¸­å­˜å‚¨æ¶ˆæ¯åˆ—è¡¨æ˜¯æä¸ºå¸¸è§çš„éœ€æ±‚ï¼ŒLangGraphæä¾›äº†é¢„æ„å»ºçš„MessagesStateçŠ¶æ€ç±»ï¼Œç®€åŒ–æ¶ˆæ¯çš„ä½¿ç”¨æµç¨‹ã€‚
MessagesStateçš„å®šä¹‰åŒ…å«ä¸€ä¸ªmessagesé”®ï¼šè¯¥é”®å¯¹åº”AnyMessageå¯¹è±¡åˆ—è¡¨ï¼Œå¹¶ä½¿ç”¨add_messagesä½œä¸ºå½’çº¦å‡½æ•°ã€‚
é€šå¸¸ï¼Œå›¾éœ€è¦è·Ÿè¸ªçš„çŠ¶æ€ä¸ä»…é™äºæ¶ˆæ¯ï¼Œå› æ­¤ç”¨æˆ·å¸¸é€šè¿‡ç»§æ‰¿MessagesStateå¹¶æ·»åŠ æ›´å¤šå­—æ®µæ¥æ‰©å±•çŠ¶æ€ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langgraph.graph <span class="hljs-keyword">import</span> MessagesState

<span class="hljs-keyword">class</span> <span class="hljs-title class_">State</span>(<span class="hljs-title class_ inherited__">MessagesState</span>):
    documents: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>]  <span class="hljs-comment"># æ–°å¢â€œæ–‡æ¡£åˆ—è¡¨â€å­—æ®µ</span>
</code></pre>
<h2 data-id="heading-8">ä¸‰ã€èŠ‚ç‚¹ï¼ˆNodesï¼‰</h2>
<p>åœ¨LangGraphä¸­ï¼ŒèŠ‚ç‚¹æ˜¯Pythonå‡½æ•°ï¼ˆæ”¯æŒåŒæ­¥æˆ–å¼‚æ­¥ï¼‰ï¼Œéœ€æ¥æ”¶ä»¥ä¸‹å‚æ•°ï¼š</p>
<ul>
<li>stateâ€”â€” å›¾çš„å½“å‰çŠ¶æ€</li>
<li>configâ€”â€”RunnableConfig å¯¹è±¡ï¼ŒåŒ…å«çº¿ç¨‹ IDï¼ˆthread_idï¼‰ç­‰é…ç½®ä¿¡æ¯ï¼Œä»¥åŠæ ‡ç­¾ï¼ˆtagsï¼‰ç­‰è¿½è¸ªä¿¡æ¯</li>
<li>runtimeâ€”â€”Runtime å¯¹è±¡ï¼ŒåŒ…å«è¿è¡Œæ—¶ä¸Šä¸‹æ–‡åŠå­˜å‚¨ï¼ˆstoreï¼‰ã€æµå†™å…¥å™¨ï¼ˆstream_writerï¼‰ç­‰å…¶ä»–ä¿¡æ¯
ä¸NetworkXç±»ä¼¼ï¼Œä½ å¯ä»¥é€šè¿‡add_nodeæ–¹æ³•å°†è¿™äº›èŠ‚ç‚¹æ·»åŠ åˆ°å›¾ä¸­ï¼š</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> dataclasses <span class="hljs-keyword">import</span> dataclass
<span class="hljs-keyword">from</span> typing_extensions <span class="hljs-keyword">import</span> TypedDict

<span class="hljs-keyword">from</span> langchain_core.runnables <span class="hljs-keyword">import</span> RunnableConfig
<span class="hljs-keyword">from</span> langgraph.graph <span class="hljs-keyword">import</span> StateGraph
<span class="hljs-keyword">from</span> langgraph.runtime <span class="hljs-keyword">import</span> Runtime

<span class="hljs-keyword">class</span> <span class="hljs-title class_">State</span>(<span class="hljs-title class_ inherited__">TypedDict</span>):
    <span class="hljs-built_in">input</span>: <span class="hljs-built_in">str</span>
    results: <span class="hljs-built_in">str</span>

<span class="hljs-meta">@dataclass</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Context</span>:
    user_id: <span class="hljs-built_in">str</span>

builder = StateGraph(State)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">plain_node</span>(<span class="hljs-params">state: State</span>):
    <span class="hljs-keyword">return</span> state

<span class="hljs-keyword">def</span> <span class="hljs-title function_">node_with_runtime</span>(<span class="hljs-params">state: State, runtime: Runtime[Context]</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"In node: "</span>, runtime.context.user_id)
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"results"</span>: <span class="hljs-string">f"Hello, <span class="hljs-subst">{state[<span class="hljs-string">'input'</span>]}</span>!"</span>}

<span class="hljs-keyword">def</span> <span class="hljs-title function_">node_with_config</span>(<span class="hljs-params">state: State, config: RunnableConfig</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"In node with thread_id: "</span>, config[<span class="hljs-string">"configurable"</span>][<span class="hljs-string">"thread_id"</span>])
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"results"</span>: <span class="hljs-string">f"Hello, <span class="hljs-subst">{state[<span class="hljs-string">'input'</span>]}</span>!"</span>}

builder.add_node(<span class="hljs-string">"plain_node"</span>, plain_node)
builder.add_node(<span class="hljs-string">"node_with_runtime"</span>, node_with_runtime)
builder.add_node(<span class="hljs-string">"node_with_config"</span>, node_with_config)
</code></pre>
<p>åœ¨åº•å±‚å®ç°ä¸­ï¼Œè¿™äº›å‡½æ•°ä¼šè¢«è½¬æ¢ä¸ºRunnableLambdaâ€”â€” è¯¥è½¬æ¢ä¸ºå‡½æ•°æ·»åŠ äº†æ‰¹é‡å¤„ç†å’Œå¼‚æ­¥æ”¯æŒï¼ŒåŒæ—¶åŸç”Ÿé›†æˆäº†è¿½è¸ªå’Œè°ƒè¯•åŠŸèƒ½ã€‚
è‹¥æ·»åŠ èŠ‚ç‚¹æ—¶æœªæŒ‡å®šåç§°ï¼ŒLangGraphä¼šè‡ªåŠ¨ä½¿ç”¨å‡½æ•°åä½œä¸ºèŠ‚ç‚¹çš„é»˜è®¤åç§°ï¼š</p>
<pre><code class="hljs language-python" lang="python">builder.add_node(my_node)
<span class="hljs-comment"># ä¹‹åå¯é€šè¿‡åç§° "my_node" ä¸ºè¯¥èŠ‚ç‚¹åˆ›å»ºå…¥è¾¹/å‡ºè¾¹</span>
</code></pre>
<p>èµ·å§‹èŠ‚ç‚¹ï¼ˆSTART Nodeï¼‰</p>
<p>START æ˜¯ä¸€ä¸ªç‰¹æ®ŠèŠ‚ç‚¹ï¼Œç”¨äºè¡¨ç¤ºæ¥æ”¶ç”¨æˆ·è¾“å…¥å¹¶å¯åŠ¨å›¾æ‰§è¡Œçš„èŠ‚ç‚¹ã€‚å¼•ç”¨è¯¥èŠ‚ç‚¹çš„æ ¸å¿ƒç›®çš„æ˜¯æŒ‡å®šå›¾çš„é¦–ä¸ªæ‰§è¡ŒèŠ‚ç‚¹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langgraph.graph <span class="hljs-keyword">import</span> START

graph.add_edge(START, <span class="hljs-string">"node_a"</span>)  <span class="hljs-comment"># ä»èµ·å§‹èŠ‚ç‚¹æŒ‡å‘ "node_a"ï¼Œå³ "node_a" ä¸ºé¦–ä¸ªæ‰§è¡ŒèŠ‚ç‚¹</span>
</code></pre>
<p>ç»ˆæ­¢èŠ‚ç‚¹ï¼ˆEND Nodeï¼‰</p>
<p>END æ˜¯ä¸€ä¸ªç‰¹æ®ŠèŠ‚ç‚¹ï¼Œä»£è¡¨å›¾çš„ç»ˆæ­¢èŠ‚ç‚¹ã€‚å½“æŸæ¡è¾¹æŒ‡å‘è¯¥èŠ‚ç‚¹æ—¶ï¼Œæ„å‘³ç€è¿™æ¡è·¯å¾„æ‰§è¡Œå®Œæ¯•åä¸å†æœ‰åç»­æ“ä½œï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langgraph.graph <span class="hljs-keyword">import</span> END

graph.add_edge(<span class="hljs-string">"node_a"</span>, END)  <span class="hljs-comment"># "node_a" æ‰§è¡Œå®Œæ¯•åï¼Œå›¾ç»ˆæ­¢è¿è¡Œ</span>
</code></pre>
<p>èŠ‚ç‚¹ç¼“å­˜ï¼ˆNode Cachingï¼‰</p>
<p>LangGraph æ”¯æŒåŸºäºèŠ‚ç‚¹è¾“å…¥å¯¹ä»»åŠ¡ / èŠ‚ç‚¹ç»“æœè¿›è¡Œç¼“å­˜ã€‚ä½¿ç”¨ç¼“å­˜éœ€æ‰§è¡Œä»¥ä¸‹ä¸¤æ­¥ï¼š
ç¼–è¯‘å›¾ï¼ˆæˆ–æŒ‡å®šå…¥å£ç‚¹ï¼‰æ—¶é…ç½®ç¼“å­˜ï¼ˆcacheï¼‰
ä¸ºèŠ‚ç‚¹æŒ‡å®šç¼“å­˜ç­–ç•¥ï¼ˆcache_policyï¼‰ï¼Œè¯¥ç­–ç•¥æ”¯æŒä¸¤ä¸ªé…ç½®é¡¹ï¼š
key_funcï¼šåŸºäºèŠ‚ç‚¹è¾“å…¥ç”Ÿæˆç¼“å­˜é”®çš„å‡½æ•°ï¼Œé»˜è®¤ä½¿ç”¨ pickle å¯¹è¾“å…¥è¿›è¡Œå“ˆå¸Œè¿ç®—
ttlï¼šç¼“å­˜æœ‰æ•ˆæœŸï¼ˆå•ä½ï¼šç§’ï¼‰ï¼ŒæœªæŒ‡å®šæ—¶ç¼“å­˜æ°¸ä¹…æœ‰æ•ˆ
ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> time
<span class="hljs-keyword">from</span> typing_extensions <span class="hljs-keyword">import</span> TypedDict
<span class="hljs-keyword">from</span> langgraph.graph <span class="hljs-keyword">import</span> StateGraph
<span class="hljs-keyword">from</span> langgraph.cache.memory <span class="hljs-keyword">import</span> InMemoryCache
<span class="hljs-keyword">from</span> langgraph.types <span class="hljs-keyword">import</span> CachePolicy

<span class="hljs-keyword">class</span> <span class="hljs-title class_">State</span>(<span class="hljs-title class_ inherited__">TypedDict</span>):
    x: <span class="hljs-built_in">int</span>
    result: <span class="hljs-built_in">int</span>

builder = StateGraph(State)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">expensive_node</span>(<span class="hljs-params">state: State</span>) -&gt; <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">int</span>]:
    <span class="hljs-comment"># æ¨¡æ‹Ÿè€—æ—¶è®¡ç®—</span>
    time.sleep(<span class="hljs-number">2</span>)
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"result"</span>: state[<span class="hljs-string">"x"</span>] * <span class="hljs-number">2</span>}

<span class="hljs-comment"># ä¸ºèŠ‚ç‚¹æŒ‡å®šç¼“å­˜ç­–ç•¥ï¼šæœ‰æ•ˆæœŸ 3 ç§’</span>
builder.add_node(<span class="hljs-string">"expensive_node"</span>, expensive_node, cache_policy=CachePolicy(ttl=<span class="hljs-number">3</span>))
builder.set_entry_point(<span class="hljs-string">"expensive_node"</span>)  <span class="hljs-comment"># è®¾ç½®å…¥å£èŠ‚ç‚¹</span>
builder.set_finish_point(<span class="hljs-string">"expensive_node"</span>)  <span class="hljs-comment"># è®¾ç½®ç»ˆæ­¢èŠ‚ç‚¹</span>

<span class="hljs-comment"># ç¼–è¯‘å›¾æ—¶é…ç½®å†…å­˜ç¼“å­˜</span>
graph = builder.<span class="hljs-built_in">compile</span>(cache=InMemoryCache())

<span class="hljs-comment"># é¦–æ¬¡è°ƒç”¨ï¼šæ‰§è¡Œè€—æ—¶è®¡ç®—ï¼Œéœ€ 2 ç§’</span>
<span class="hljs-built_in">print</span>(graph.invoke({<span class="hljs-string">"x"</span>: <span class="hljs-number">5</span>}, stream_mode=<span class="hljs-string">'updates'</span>))  
<span class="hljs-comment"># è¾“å‡ºï¼š[{'expensive_node': {'result': 10}}]</span>

<span class="hljs-comment"># ç¬¬äºŒæ¬¡è°ƒç”¨ï¼šå‘½ä¸­ç¼“å­˜ï¼Œå¿«é€Ÿè¿”å›</span>
<span class="hljs-built_in">print</span>(graph.invoke({<span class="hljs-string">"x"</span>: <span class="hljs-number">5</span>}, stream_mode=<span class="hljs-string">'updates'</span>))  
<span class="hljs-comment"># è¾“å‡ºï¼š[{'expensive_node': {'result': 10}, '__metadata__': {'cached': True}}]</span>
</code></pre>
<p>è¯´æ˜ï¼š
é¦–æ¬¡è°ƒç”¨å› æ¨¡æ‹Ÿè€—æ—¶è®¡ç®—ï¼Œéœ€2ç§’å®Œæˆï¼›
ç¬¬äºŒæ¬¡è°ƒç”¨æ—¶ï¼Œè¾“å…¥ä¸ç¼“å­˜é”®åŒ¹é…ï¼Œç›´æ¥è¿”å›ç¼“å­˜ç»“æœï¼Œæ‰§è¡Œé€Ÿåº¦æå¿«ã€‚</p>
<h2 data-id="heading-9">å››ã€è¾¹ï¼ˆEdgesï¼‰</h2>
<p>è¾¹å®šä¹‰äº†é€»è¾‘çš„è·¯ç”±æ–¹å¼ä»¥åŠå›¾å¦‚ä½•å†³å®šç»ˆæ­¢ï¼Œè¿™æ˜¯æ™ºèƒ½ä½“å®ç°å·¥ä½œæµç¨‹ã€ä¸åŒèŠ‚ç‚¹é—´å®ç°é€šä¿¡çš„æ ¸å¿ƒç¯èŠ‚ã€‚è¾¹ä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ç§å…³é”®ç±»å‹ï¼š</p>
<ul>
<li>æ™®é€šè¾¹ï¼ˆNormal Edgesï¼‰ï¼šç›´æ¥ä»ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘å¦ä¸€ä¸ªèŠ‚ç‚¹ã€‚</li>
<li>æ¡ä»¶è¾¹ï¼ˆConditional Edgesï¼‰ï¼šé€šè¿‡è°ƒç”¨å‡½æ•°æ¥å†³å®šä¸‹ä¸€æ­¥æŒ‡å‘å“ªä¸ªï¼ˆæˆ–å“ªäº›ï¼‰èŠ‚ç‚¹ã€‚</li>
<li>å…¥å£ç‚¹ï¼ˆEntry Pointï¼‰ï¼šç”¨æˆ·è¾“å…¥åˆ°è¾¾æ—¶ï¼Œé¦–ä¸ªæ‰§è¡Œçš„èŠ‚ç‚¹ã€‚</li>
<li>æ¡ä»¶å…¥å£ç‚¹ï¼ˆConditional Entry Pointï¼‰ï¼šé€šè¿‡è°ƒç”¨å‡½æ•°æ¥å†³å®šç”¨æˆ·è¾“å…¥åˆ°è¾¾æ—¶ï¼Œé¦–ä¸ªæ‰§è¡Œçš„èŠ‚ç‚¹ï¼ˆæˆ–å¤šä¸ªèŠ‚ç‚¹ï¼‰ã€‚</li>
</ul>
<p>ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥æœ‰å¤šä¸ªå‡ºè¾¹ã€‚è‹¥æŸä¸ªèŠ‚ç‚¹å­˜åœ¨å¤šæ¡å‡ºè¾¹ï¼Œé‚£ä¹ˆæ‰€æœ‰å‡ºè¾¹æŒ‡å‘çš„ç›®æ ‡èŠ‚ç‚¹ä¼šåœ¨ä¸‹ä¸€ä¸ªè¶…æ­¥ï¼ˆsuperstepï¼‰ä¸­å¹¶è¡Œæ‰§è¡Œã€‚</p>
<p>æ™®é€šè¾¹ï¼ˆNormal Edgesï¼‰</p>
<p>è‹¥å¸Œæœ›å§‹ç»ˆä»èŠ‚ç‚¹ A æŒ‡å‘èŠ‚ç‚¹ Bï¼Œå¯ç›´æ¥ä½¿ç”¨ add_edge æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-python" lang="python">graph.add_edge(<span class="hljs-string">"node_a"</span>, <span class="hljs-string">"node_b"</span>)
</code></pre>
<p>æ¡ä»¶è¾¹ï¼ˆConditional Edgesï¼‰</p>
<p>è‹¥éœ€æ ¹æ®æ¡ä»¶é€‰æ‹©è·¯ç”±åˆ°ä¸€æ¡æˆ–å¤šæ¡è¾¹ï¼ˆæˆ–é€‰æ‹©ç»ˆæ­¢ï¼‰ï¼Œå¯ä½¿ç”¨add_conditional_edges æ–¹æ³•ã€‚è¯¥æ–¹æ³•éœ€ä¼ å…¥æºèŠ‚ç‚¹åç§°ï¼Œä»¥åŠåœ¨è¯¥èŠ‚ç‚¹æ‰§è¡Œåè°ƒç”¨çš„ â€œè·¯ç”±å‡½æ•°ï¼ˆrouting_functionï¼‰â€ï¼š</p>
<pre><code class="hljs language-python" lang="python">graph.add_edge(<span class="hljs-string">"node_a"</span>, routing_function)
</code></pre>
<p>ä¸èŠ‚ç‚¹ç±»ä¼¼ï¼Œè·¯ç”±å‡½æ•°ä¼šæ¥æ”¶å›¾çš„å½“å‰çŠ¶æ€ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¿”å›ä¸€ä¸ªå€¼ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè·¯ç”±å‡½æ•°çš„è¿”å›å€¼ä¼šä½œä¸ºä¸‹ä¸€æ­¥è¦ä¼ é€’çŠ¶æ€çš„èŠ‚ç‚¹åç§°ï¼ˆæˆ–èŠ‚ç‚¹åç§°åˆ—è¡¨ï¼‰ï¼Œè¿™äº›èŠ‚ç‚¹å°†åœ¨ä¸‹ä¸€ä¸ªè¶…æ­¥ä¸­å¹¶è¡Œæ‰§è¡Œã€‚
ä½ ä¹Ÿå¯ä»¥é€‰æ‹©æ€§åœ°ä¼ å…¥ä¸€ä¸ªå­—å…¸ï¼Œå°†è·¯ç”±å‡½æ•°çš„è¾“å‡ºä¸ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„åç§°è¿›è¡Œæ˜ å°„ï¼š</p>
<pre><code class="hljs language-python" lang="python">graph.add_conditional_edges(<span class="hljs-string">"node_a"</span>, routing_function, {<span class="hljs-literal">True</span>: <span class="hljs-string">"node_b"</span>, <span class="hljs-literal">False</span>: <span class="hljs-string">"node_c"</span>})
</code></pre>
<p>è‹¥ä½ å¸Œæœ›åœ¨å•ä¸ªå‡½æ•°ä¸­åŒæ—¶å®ç°çŠ¶æ€æ›´æ–°ä¸è·¯ç”±é€»è¾‘ï¼Œå»ºè®®ä½¿ç”¨ Commandï¼ˆè€Œéæ¡ä»¶è¾¹ï¼‰ã€‚</p>
<p>å…¥å£ç‚¹ï¼ˆEntry Pointï¼‰</p>
<p>å…¥å£ç‚¹æ˜¯å›¾å¯åŠ¨æ—¶é¦–ä¸ªæ‰§è¡Œçš„èŠ‚ç‚¹ï¼ˆæˆ–å¤šä¸ªèŠ‚ç‚¹ï¼‰ã€‚ä½ å¯ä»¥é€šè¿‡ä»è™šæ‹ŸèŠ‚ç‚¹ START å‘é¦–ä¸ªæ‰§è¡ŒèŠ‚ç‚¹æ·»åŠ è¾¹ï¼Œæ¥æŒ‡å®šå›¾çš„å…¥å£ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langgraph.graph <span class="hljs-keyword">import</span> START

graph.add_edge(START, <span class="hljs-string">"node_a"</span>)
</code></pre>
<p>æ¡ä»¶å…¥å£ç‚¹ï¼ˆConditional Entry Pointï¼‰</p>
<p>æ¡ä»¶å…¥å£ç‚¹å…è®¸æ ¹æ®è‡ªå®šä¹‰é€»è¾‘ï¼Œä»ä¸åŒèŠ‚ç‚¹å¯åŠ¨å›¾çš„æ‰§è¡Œã€‚ä½ å¯ä»¥é€šè¿‡ä»è™šæ‹ŸèŠ‚ç‚¹ START æ·»åŠ æ¡ä»¶è¾¹æ¥å®ç°è¿™ä¸€åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langgraph.graph <span class="hljs-keyword">import</span> START

graph.add_conditional_edges(START, routing_function)
</code></pre>
<p>ä½ ä¹Ÿå¯ä»¥é€‰æ‹©æ€§åœ°ä¼ å…¥ä¸€ä¸ªå­—å…¸ï¼Œå°†è·¯ç”±å‡½æ•°çš„è¾“å‡ºä¸ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„åç§°è¿›è¡Œæ˜ å°„ï¼š</p>
<pre><code class="hljs language-python" lang="python">graph.add_conditional_edges(START, routing_function, {<span class="hljs-literal">True</span>: <span class="hljs-string">"node_b"</span>, <span class="hljs-literal">False</span>: <span class="hljs-string">"node_c"</span>})
</code></pre>
<h2 data-id="heading-10">äº”ã€å‘é€ï¼ˆSendï¼‰</h2>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒèŠ‚ç‚¹ï¼ˆNodesï¼‰å’Œè¾¹ï¼ˆEdgesï¼‰æ˜¯æå‰å®šä¹‰å¥½çš„ï¼Œä¸”åŸºäºåŒä¸€ä¸ªå…±äº«çŠ¶æ€è¿è¡Œã€‚ä½†åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œå¯èƒ½æ— æ³•æå‰ç¡®å®šå…·ä½“çš„è¾¹ï¼Œæˆ–è€…éœ€è¦åŒæ—¶å­˜åœ¨å¤šä¸ªä¸åŒç‰ˆæœ¬çš„çŠ¶æ€ï¼ˆStateï¼‰ã€‚map-reduceè®¾è®¡æ¨¡å¼å°±æ˜¯ä¸€ä¸ªå…¸å‹ä¾‹å­ï¼šåœ¨è¯¥æ¨¡å¼ä¸­ï¼Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¯èƒ½ä¼šç”Ÿæˆä¸€ä¸ªå¯¹è±¡åˆ—è¡¨ï¼Œè€Œä½ éœ€è¦å°†å¦ä¸€ä¸ªèŠ‚ç‚¹åº”ç”¨äºè¿™ä¸ªåˆ—è¡¨ä¸­çš„æ‰€æœ‰å¯¹è±¡ã€‚ç”±äºå¯¹è±¡çš„æ•°é‡å¯èƒ½æ— æ³•æå‰é¢„çŸ¥ï¼ˆæ„å‘³ç€è¾¹çš„æ•°é‡ä¹Ÿä¸ç¡®å®šï¼‰ï¼Œä¸”ä¸‹æ¸¸èŠ‚ç‚¹çš„è¾“å…¥çŠ¶æ€åº”å½“å„ä¸ç›¸åŒï¼ˆæ¯ä¸ªç”Ÿæˆçš„å¯¹è±¡å¯¹åº”ä¸€ä¸ªç‹¬ç«‹çŠ¶æ€ï¼‰ã€‚
ä¸ºæ”¯æŒè¿™ç§è®¾è®¡æ¨¡å¼ï¼ŒLangGraphå…è®¸ä»æ¡ä»¶è¾¹ï¼ˆconditional edgesï¼‰ä¸­è¿”å›Sendå¯¹è±¡ã€‚Sendæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šç¬¬ä¸€ä¸ªæ˜¯ç›®æ ‡èŠ‚ç‚¹çš„åç§°ï¼Œç¬¬äºŒä¸ªæ˜¯è¦ä¼ é€’ç»™è¯¥èŠ‚ç‚¹çš„çŠ¶æ€ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">continue_to_jokes</span>(<span class="hljs-params">state: OverallState</span>):
    <span class="hljs-keyword">return</span> [Send(<span class="hljs-string">"generate_joke"</span>, {<span class="hljs-string">"subject"</span>: s}) <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> state[<span class="hljs-string">'subjects'</span>]]

graph.add_conditional_edges(<span class="hljs-string">"node_a"</span>, continue_to_jokes)
</code></pre>
<h2 data-id="heading-11">å…­ã€å‘½ä»¤ï¼ˆCommandï¼‰</h2>
<p>å°†æ§åˆ¶æµï¼ˆè¾¹ï¼‰å’ŒçŠ¶æ€æ›´æ–°ï¼ˆèŠ‚ç‚¹ï¼‰ç»“åˆä½¿ç”¨ä¼šéå¸¸å®ç”¨ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½å¸Œæœ›åœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ä¸­æ—¢æ‰§è¡ŒçŠ¶æ€æ›´æ–°ï¼Œåˆå†³å®šä¸‹ä¸€æ­¥è·³è½¬è‡³å“ªä¸ªèŠ‚ç‚¹ã€‚LangGraphæ”¯æŒé€šè¿‡ä»èŠ‚ç‚¹å‡½æ•°ä¸­è¿”å›Commandå¯¹è±¡æ¥å®ç°è¿™ä¸€éœ€æ±‚ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_node</span>(<span class="hljs-params">state: State</span>) -&gt; Command[<span class="hljs-type">Literal</span>[<span class="hljs-string">"my_other_node"</span>]]:
    <span class="hljs-keyword">return</span> Command(
        <span class="hljs-comment"># çŠ¶æ€æ›´æ–°</span>
        update={<span class="hljs-string">"foo"</span>: <span class="hljs-string">"bar"</span>},
        <span class="hljs-comment"># æ§åˆ¶æµï¼ˆè·³è½¬ç›®æ ‡ï¼‰</span>
        goto=<span class="hljs-string">"my_other_node"</span>
    )
</code></pre>
<p>é€šè¿‡ Command è¿˜èƒ½å®ç°åŠ¨æ€æ§åˆ¶æµè¡Œä¸ºï¼ˆä¸æ¡ä»¶è¾¹åŠŸèƒ½ä¸€è‡´ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_node</span>(<span class="hljs-params">state: State</span>) -&gt; Command[<span class="hljs-type">Literal</span>[<span class="hljs-string">"my_other_node"</span>]]:
    <span class="hljs-keyword">if</span> state[<span class="hljs-string">"foo"</span>] == <span class="hljs-string">"bar"</span>:
        <span class="hljs-keyword">return</span> Command(update={<span class="hljs-string">"foo"</span>: <span class="hljs-string">"baz"</span>}, goto=<span class="hljs-string">"my_other_node"</span>)
</code></pre>
<p>å½“èŠ‚ç‚¹å‡½æ•°è¿”å› Command æ—¶ï¼Œå¿…é¡»æ·»åŠ è¿”å›ç±»å‹æ³¨è§£ï¼Œæ˜ç¡®è¯¥èŠ‚ç‚¹å¯è·¯ç”±åˆ°çš„æ‰€æœ‰èŠ‚ç‚¹åç§°ï¼ˆä¾‹å¦‚ Command[Literal["my_other_node"]]ï¼‰ã€‚è¿™ä¸€æ­¥éª¤å¯¹å›¾æ¸²æŸ“è‡³å…³é‡è¦ï¼ŒåŒæ—¶èƒ½å‘ŠçŸ¥ LangGraphï¼šmy_node å¯è·³è½¬è‡³ my_other_nodeã€‚</p>
<p>ä½•æ—¶ä½¿ç”¨ Command è€Œéæ¡ä»¶è¾¹ï¼Ÿ</p>
<p>å½“ä½ éœ€è¦åŒæ—¶æ›´æ–°å›¾çŠ¶æ€å¹¶è·¯ç”±åˆ°å…¶ä»–èŠ‚ç‚¹æ—¶ï¼Œä½¿ç”¨ Commandã€‚ä¾‹å¦‚ï¼Œåœ¨å®ç°å¤šæ™ºèƒ½ä½“äº¤æ¥ï¼ˆmulti-agent handoffsï¼‰æ—¶ï¼Œä¸ä»…éœ€è¦è·³è½¬åˆ°å…¶ä»–æ™ºèƒ½ä½“ï¼Œè¿˜éœ€å‘è¯¥æ™ºèƒ½ä½“ä¼ é€’ä¿¡æ¯ï¼Œæ­¤æ—¶ Command æ˜¯æœ€ä½³é€‰æ‹©ã€‚
å½“ä½ åªéœ€åŸºäºæ¡ä»¶åœ¨èŠ‚ç‚¹é—´è·¯ç”±ï¼Œæ— éœ€æ›´æ–°çŠ¶æ€æ—¶ï¼Œä½¿ç”¨æ¡ä»¶è¾¹ã€‚</p>
<p>è·³è½¬åˆ°çˆ¶å›¾ä¸­çš„èŠ‚ç‚¹</p>
<p>è‹¥ä½ åœ¨ä½¿ç”¨å­å›¾ï¼ˆsubgraphsï¼‰ï¼Œå¯èƒ½éœ€è¦ä»å­å›¾å†…çš„æŸä¸ªèŠ‚ç‚¹è·³è½¬åˆ°å¦ä¸€ä¸ªå­å›¾ï¼ˆå³çˆ¶å›¾ä¸­çš„æŸä¸ªèŠ‚ç‚¹ï¼‰ã€‚æ­¤æ—¶ï¼Œå¯åœ¨ Command ä¸­æŒ‡å®š graph=Command.PARENT æ¥å®ç°ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_node</span>(<span class="hljs-params">state: State</span>) -&gt; Command[<span class="hljs-type">Literal</span>[<span class="hljs-string">"other_subgraph"</span>]]:
    <span class="hljs-keyword">return</span> Command(
        update={<span class="hljs-string">"foo"</span>: <span class="hljs-string">"bar"</span>},
        goto=<span class="hljs-string">"other_subgraph"</span>,  <span class="hljs-comment"># "other_subgraph" æ˜¯çˆ¶å›¾ä¸­çš„èŠ‚ç‚¹</span>
        graph=Command.PARENT
    )
</code></pre>
<p>å°† graph è®¾ç½®ä¸º Command.PARENT åï¼Œä¼šè·³è½¬åˆ°æœ€è¿‘çš„çˆ¶å›¾ã€‚
æ³¨æ„ï¼šè‹¥å­å›¾èŠ‚ç‚¹å‘çˆ¶å›¾èŠ‚ç‚¹å‘é€çŠ¶æ€æ›´æ–°ï¼Œä¸”æ›´æ–°çš„é”®ï¼ˆkeyï¼‰åœ¨çˆ¶å›¾å’Œå­å›¾çš„çŠ¶æ€æ¨¡å¼ä¸­å‡å­˜åœ¨ï¼Œåˆ™å¿…é¡»åœ¨çˆ¶å›¾çŠ¶æ€ä¸­ä¸ºè¯¥é”®å®šä¹‰å½’çº¦å‡½æ•°ã€‚
è¿™ä¸€ç‰¹æ€§åœ¨å®ç°å¤šæ™ºèƒ½ä½“äº¤æ¥æ—¶å°¤ä¸ºå®ç”¨ã€‚</p>
<p>åœ¨å·¥å…·ä¸­ä½¿ç”¨ Command</p>
<p>ä¸€ä¸ªå¸¸è§åœºæ™¯æ˜¯ä»å·¥å…·å†…éƒ¨æ›´æ–°å›¾çŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œåœ¨å®¢æˆ·æ”¯æŒåº”ç”¨ä¸­ï¼Œä½ å¯èƒ½éœ€è¦åœ¨å¯¹è¯åˆæœŸæ ¹æ®å®¢æˆ·çš„è´¦å·æˆ–IDæŸ¥è¯¢å®¢æˆ·ä¿¡æ¯ã€‚</p>
<p>äººæœºååŒï¼ˆHuman-in-the-loopï¼‰</p>
<p>Command æ˜¯äººæœºååŒå·¥ä½œæµçš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼šå½“ä½¿ç”¨ interrupt() æ”¶é›†ç”¨æˆ·è¾“å…¥åï¼Œå¯é€šè¿‡ Command(resume="ç”¨æˆ·è¾“å…¥å†…å®¹") æäº¤è¾“å…¥å¹¶æ¢å¤å›¾çš„æ‰§è¡Œã€‚</p>
<h2 data-id="heading-12">ä¸ƒã€å›¾è¿ç§»ï¼ˆGraph Migrationsï¼‰</h2>
<p>å³ä¾¿ä½¿ç”¨æ£€æŸ¥ç‚¹å·¥å…·ï¼ˆcheckpointerï¼‰è·Ÿè¸ªçŠ¶æ€ï¼ŒLangGraphä¹Ÿèƒ½è½»æ¾å¤„ç†å›¾å®šä¹‰ï¼ˆèŠ‚ç‚¹ã€è¾¹å’ŒçŠ¶æ€ï¼‰çš„è¿ç§»ã€‚</p>
<ul>
<li>å¯¹äºå¤„äºå›¾æ‰§è¡Œæœ«å°¾çš„çº¿ç¨‹ï¼ˆå³æœªè¢«ä¸­æ–­çš„çº¿ç¨‹ï¼‰ï¼Œä½ å¯ä»¥ä¿®æ”¹å›¾çš„å®Œæ•´æ‹“æ‰‘ç»“æ„ï¼ˆä¾‹å¦‚æ·»åŠ ã€åˆ é™¤ã€é‡å‘½åæ‰€æœ‰èŠ‚ç‚¹å’Œè¾¹ç­‰ï¼‰ã€‚</li>
<li>å¯¹äºå½“å‰å¤„äºä¸­æ–­çŠ¶æ€çš„çº¿ç¨‹ï¼Œæˆ‘ä»¬æ”¯æŒé™¤ â€œé‡å‘½å / åˆ é™¤èŠ‚ç‚¹â€ ä¹‹å¤–çš„æ‰€æœ‰æ‹“æ‰‘ç»“æ„ä¿®æ”¹ï¼ˆå› ä¸ºè¯¥çº¿ç¨‹æ¥ä¸‹æ¥å¯èƒ½è¦è¿›å…¥ä¸€ä¸ªå·²ä¸å­˜åœ¨çš„èŠ‚ç‚¹ï¼‰ã€‚</li>
<li>åœ¨çŠ¶æ€ä¿®æ”¹æ–¹é¢ï¼Œæ–°å¢æˆ–åˆ é™¤çŠ¶æ€é”®ï¼ˆkeyï¼‰æ—¶ï¼Œæˆ‘ä»¬æä¾›å®Œå…¨çš„å‘å‰å…¼å®¹å’Œå‘åå…¼å®¹æ€§ã€‚</li>
<li>è¢«é‡å‘½åçš„çŠ¶æ€é”®ä¼šä¸¢å¤±å…¶åœ¨ç°æœ‰çº¿ç¨‹ä¸­å·²ä¿å­˜çš„çŠ¶æ€ã€‚</li>
<li>è‹¥çŠ¶æ€é”®çš„ç±»å‹å‘ç”Ÿä¸å…¼å®¹çš„å˜æ›´ï¼Œå¯èƒ½ä¼šå¯¼è‡´çº¿ç¨‹ä¸­å­˜å‚¨çš„ â€œå˜æ›´å‰çŠ¶æ€â€ å‡ºç°é—®é¢˜ã€‚</li>
</ul>
<h2 data-id="heading-13">å…«ã€è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼ˆRuntime Contextï¼‰</h2>
<p>åˆ›å»ºå›¾æ—¶ï¼Œä½ å¯ä»¥ä¸ºä¼ é€’ç»™èŠ‚ç‚¹çš„è¿è¡Œæ—¶ä¸Šä¸‹æ–‡æŒ‡å®š <code>context_schema</code>ï¼ˆä¸Šä¸‹æ–‡æ¨¡å¼ï¼‰ã€‚è¿™ä¸€åŠŸèƒ½é€‚ç”¨äºä¼ é€’ä¸å±äºå›¾çŠ¶æ€çš„ä¿¡æ¯ â€”â€” ä¾‹å¦‚ï¼Œä½ å¯èƒ½éœ€è¦ä¼ é€’æ¨¡å‹åç§°ã€æ•°æ®åº“è¿æ¥ç­‰ä¾èµ–é¡¹ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> dataclasses <span class="hljs-keyword">import</span> dataclass

<span class="hljs-meta">@dataclass</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ContextSchema</span>:
    llm_provider: <span class="hljs-built_in">str</span> = <span class="hljs-string">"openai"</span>  <span class="hljs-comment"># å¤§è¯­è¨€æ¨¡å‹æä¾›å•†ï¼Œé»˜è®¤å€¼ä¸º "openai"</span>

graph = StateGraph(State, context_schema=ContextSchema)
</code></pre>
<p>ä¹‹åï¼Œå¯é€šè¿‡ <code>invoke</code> æ–¹æ³•çš„ <code>context</code> å‚æ•°å°†è¯¥ä¸Šä¸‹æ–‡ä¼ å…¥å›¾ä¸­ï¼š</p>
<pre><code class="hljs language-python" lang="python">graph.invoke(inputs, context={<span class="hljs-string">"llm_provider"</span>: <span class="hljs-string">"anthropic"</span>})
</code></pre>
<p>åœ¨èŠ‚ç‚¹æˆ–æ¡ä»¶è¾¹ä¸­ï¼Œä½ å¯ä»¥è®¿é—®å¹¶ä½¿ç”¨è¯¥ä¸Šä¸‹æ–‡ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langgraph.runtime <span class="hljs-keyword">import</span> Runtime

<span class="hljs-keyword">def</span> <span class="hljs-title function_">node_a</span>(<span class="hljs-params">state: State, runtime: Runtime[ContextSchema]</span>):
    llm = get_llm(runtime.context.llm_provider)  <span class="hljs-comment"># è·å–å¯¹åº”æä¾›å•†çš„ LLM å®ä¾‹</span>
    <span class="hljs-comment"># ... åç»­ä¸šåŠ¡é€»è¾‘</span>
</code></pre>
<p>é€’å½’é™åˆ¶ï¼ˆRecursion Limitï¼‰</p>
<p>é€’å½’é™åˆ¶ç”¨äºè®¾ç½®å›¾åœ¨å•æ¬¡æ‰§è¡Œè¿‡ç¨‹ä¸­æœ€å¤šå¯è¿è¡Œçš„ â€œè¶…æ­¥ï¼ˆsuper-stepï¼‰â€ æ•°é‡ã€‚ä¸€æ—¦è¾¾åˆ°è¯¥é™åˆ¶ï¼ŒLangGraph ä¼šæŠ›å‡º <code>GraphRecursionError</code> å¼‚å¸¸ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œé€’å½’é™åˆ¶å€¼ä¸º 25 æ­¥ã€‚
ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶ä¸ºä»»æ„å›¾è®¾ç½®é€’å½’é™åˆ¶ï¼Œé€šè¿‡ <code>config</code> å­—å…¸å°†å…¶ä¼ å…¥ <code>invoke</code> æˆ– <code>stream</code> æ–¹æ³•ã€‚ <strong>æ³¨æ„</strong> ï¼š<code>recursion_limit</code> æ˜¯ç‹¬ç«‹çš„é…ç½®é”®ï¼Œæ— éœ€åƒå…¶ä»–ç”¨æˆ·è‡ªå®šä¹‰é…ç½®é‚£æ ·æ”¾åœ¨ <code>configurable</code> é”®å†…ã€‚</p>
<p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python">graph.invoke(inputs, config={<span class="hljs-string">"recursion_limit"</span>: <span class="hljs-number">5</span>}, context={<span class="hljs-string">"llm"</span>: <span class="hljs-string">"anthropic"</span>})
</code></pre>
<p>è®¿é—®å’Œå¤„ç†é€’å½’è®¡æ•°å™¨</p>
<p>ä»»æ„èŠ‚ç‚¹å†…éƒ½å¯é€šè¿‡ <code>config["metadata"]["langgraph_step"]</code> è·å–å½“å‰æ‰§è¡Œæ­¥æ•°ï¼Œä»è€Œåœ¨è¾¾åˆ°é€’å½’é™åˆ¶å‰ä¸»åŠ¨å¤„ç†é€’å½’é€»è¾‘ â€”â€” è¿™èƒ½è®©ä½ åœ¨å›¾çš„é€»è¾‘ä¸­å®ç° â€œä¼˜é›…é™çº§â€ ç­–ç•¥ã€‚</p>
<p>å·¥ä½œåŸç†</p>
<p>æ­¥æ•°è®¡æ•°å™¨å­˜å‚¨åœ¨ <code>config["metadata"]["langgraph_step"]</code> ä¸­ã€‚é€’å½’é™åˆ¶çš„æ ¡éªŒé€»è¾‘ä¸ºï¼š<code>step &gt; stop</code>ï¼ˆå…¶ä¸­ <code>stop = step + recursion_limit + 1</code>ï¼‰ã€‚å½“è¶…å‡ºé™åˆ¶æ—¶ï¼ŒLangGraph ä¼šæŠ›å‡º <code>GraphRecursionError</code>ã€‚</p>
<p>è®¿é—®å½“å‰æ­¥æ•°è®¡æ•°å™¨</p>
<p>ä½ å¯ä»¥åœ¨ä»»æ„èŠ‚ç‚¹å†…è®¿é—®å½“å‰æ­¥æ•°ï¼Œä»¥ç›‘æ§æ‰§è¡Œè¿›åº¦ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.runnables <span class="hljs-keyword">import</span> RunnableConfig
<span class="hljs-keyword">from</span> langgraph.graph <span class="hljs-keyword">import</span> StateGraph

<span class="hljs-keyword">def</span> <span class="hljs-title function_">my_node</span>(<span class="hljs-params">state: <span class="hljs-built_in">dict</span>, config: RunnableConfig</span>) -&gt; <span class="hljs-built_in">dict</span>:
    current_step = config[<span class="hljs-string">"metadata"</span>][<span class="hljs-string">"langgraph_step"</span>]
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å½“å‰æ­¥æ•°ï¼š<span class="hljs-subst">{current_step}</span>"</span>)
    <span class="hljs-keyword">return</span> state
</code></pre>
<p>ä¸»åŠ¨é€’å½’å¤„ç†</p>
<p>ä½ å¯ä»¥æ£€æŸ¥æ­¥æ•°è®¡æ•°å™¨ï¼Œå¹¶åœ¨è¾¾åˆ°é™åˆ¶å‰ä¸»åŠ¨è·¯ç”±åˆ°å…¶ä»–èŠ‚ç‚¹ï¼Œå®ç°å›¾çš„ä¼˜é›…é™çº§ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.runnables <span class="hljs-keyword">import</span> RunnableConfig
<span class="hljs-keyword">from</span> langgraph.graph <span class="hljs-keyword">import</span> StateGraph, END

<span class="hljs-keyword">def</span> <span class="hljs-title function_">reasoning_node</span>(<span class="hljs-params">state: <span class="hljs-built_in">dict</span>, config: RunnableConfig</span>) -&gt; <span class="hljs-built_in">dict</span>:
    current_step = config[<span class="hljs-string">"metadata"</span>][<span class="hljs-string">"langgraph_step"</span>]
    recursion_limit = config[<span class="hljs-string">"recursion_limit"</span>]  <span class="hljs-comment"># å§‹ç»ˆå­˜åœ¨ï¼Œé»˜è®¤å€¼ä¸º 25</span>

    <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦æ¥è¿‘é™åˆ¶ï¼ˆä¾‹å¦‚ï¼Œè¾¾åˆ°é™åˆ¶çš„ 80% é˜ˆå€¼ï¼‰</span>
    <span class="hljs-keyword">if</span> current_step &gt;= recursion_limit * <span class="hljs-number">0.8</span>:
        <span class="hljs-keyword">return</span> {
            **state,
            <span class="hljs-string">"route_to"</span>: <span class="hljs-string">"fallback"</span>,  <span class="hljs-comment"># æ ‡è®°è·¯ç”±ç›®æ ‡ä¸ºé™çº§èŠ‚ç‚¹</span>
            <span class="hljs-string">"reason"</span>: <span class="hljs-string">"Approaching recursion limit"</span>  <span class="hljs-comment"># åŸå› ï¼šæ¥è¿‘é€’å½’é™åˆ¶</span>
        }

    <span class="hljs-comment"># æ­£å¸¸ä¸šåŠ¡å¤„ç†</span>
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"messages"</span>: state[<span class="hljs-string">"messages"</span>] + [<span class="hljs-string">"thinking..."</span>]}  <span class="hljs-comment"># è¿½åŠ æ€è€ƒè¿‡ç¨‹</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">fallback_node</span>(<span class="hljs-params">state: <span class="hljs-built_in">dict</span>, config: RunnableConfig</span>) -&gt; <span class="hljs-built_in">dict</span>:
    <span class="hljs-string">"""å¤„ç†æ¥è¿‘é€’å½’é™åˆ¶çš„åœºæ™¯"""</span>
    <span class="hljs-keyword">return</span> {
        **state,
        <span class="hljs-string">"messages"</span>: state[<span class="hljs-string">"messages"</span>] + [<span class="hljs-string">"å·²è¾¾åˆ°å¤æ‚åº¦é™åˆ¶ï¼Œæä¾›æœ€ä½³åŠªåŠ›ç­”æ¡ˆ"</span>]
    }

<span class="hljs-keyword">def</span> <span class="hljs-title function_">route_based_on_state</span>(<span class="hljs-params">state: <span class="hljs-built_in">dict</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-keyword">if</span> state.get(<span class="hljs-string">"route_to"</span>) == <span class="hljs-string">"fallback"</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">"fallback"</span>  <span class="hljs-comment"># è·¯ç”±åˆ°é™çº§èŠ‚ç‚¹</span>
    <span class="hljs-keyword">elif</span> state.get(<span class="hljs-string">"done"</span>):
        <span class="hljs-keyword">return</span> END  <span class="hljs-comment"># æ‰§è¡Œå®Œæˆï¼Œè·¯ç”±åˆ°ç»ˆæ­¢èŠ‚ç‚¹</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">"reasoning"</span>  <span class="hljs-comment"># ç»§ç»­è·¯ç”±åˆ°æ¨ç†èŠ‚ç‚¹</span>

<span class="hljs-comment"># æ„å»ºå›¾</span>
graph = StateGraph(<span class="hljs-built_in">dict</span>)
graph.add_node(<span class="hljs-string">"reasoning"</span>, reasoning_node)  <span class="hljs-comment"># æ¨ç†èŠ‚ç‚¹</span>
graph.add_node(<span class="hljs-string">"fallback"</span>, fallback_node)    <span class="hljs-comment"># é™çº§èŠ‚ç‚¹</span>
graph.add_conditional_edges(<span class="hljs-string">"reasoning"</span>, route_based_on_state)  <span class="hljs-comment"># æ¨ç†èŠ‚ç‚¹çš„æ¡ä»¶è¾¹</span>
graph.add_edge(<span class="hljs-string">"fallback"</span>, END)  <span class="hljs-comment"># é™çº§èŠ‚ç‚¹æ‰§è¡Œåç»ˆæ­¢</span>
graph.set_entry_point(<span class="hljs-string">"reasoning"</span>)  <span class="hljs-comment"># å…¥å£èŠ‚ç‚¹ä¸ºæ¨ç†èŠ‚ç‚¹</span>

app = graph.<span class="hljs-built_in">compile</span>()
</code></pre>
<p>ä¸»åŠ¨å¼ vs å“åº”å¼å¤„ç†æ–¹æ¡ˆ</p>
<p>å¤„ç†é€’å½’é™åˆ¶ä¸»è¦æœ‰ä¸¤ç§æ–¹æ¡ˆï¼šä¸»åŠ¨å¼ï¼ˆåœ¨å›¾å†…ç›‘æ§ï¼‰å’Œå“åº”å¼ï¼ˆåœ¨å¤–éƒ¨æ•è·é”™è¯¯ï¼‰ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.runnables <span class="hljs-keyword">import</span> RunnableConfig
<span class="hljs-keyword">from</span> langgraph.graph <span class="hljs-keyword">import</span> StateGraph, END
<span class="hljs-keyword">from</span> langgraph.errors <span class="hljs-keyword">import</span> GraphRecursionError

<span class="hljs-comment"># ä¸»åŠ¨å¼æ–¹æ¡ˆï¼ˆæ¨èï¼‰</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">agent_with_monitoring</span>(<span class="hljs-params">state: <span class="hljs-built_in">dict</span>, config: RunnableConfig</span>) -&gt; <span class="hljs-built_in">dict</span>:
    <span class="hljs-string">"""åœ¨å›¾å†…ä¸»åŠ¨ç›‘æ§å¹¶å¤„ç†é€’å½’"""</span>
    current_step = config[<span class="hljs-string">"metadata"</span>][<span class="hljs-string">"langgraph_step"</span>]
    recursion_limit = config[<span class="hljs-string">"recursion_limit"</span>]

    <span class="hljs-comment"># æå‰æ£€æµ‹â€”â€”è·¯ç”±åˆ°å†…éƒ¨å¤„ç†é€»è¾‘ï¼ˆè·ç¦»é™åˆ¶è¿˜æœ‰ 2 æ­¥æ—¶ï¼‰</span>
    <span class="hljs-keyword">if</span> current_step &gt;= recursion_limit - <span class="hljs-number">2</span>:
        <span class="hljs-keyword">return</span> {
            **state,
            <span class="hljs-string">"status"</span>: <span class="hljs-string">"recursion_limit_approaching"</span>,
            <span class="hljs-string">"final_answer"</span>: <span class="hljs-string">"å·²è¾¾åˆ°è¿­ä»£é™åˆ¶ï¼Œè¿”å›éƒ¨åˆ†ç»“æœ"</span>
        }

    <span class="hljs-comment"># æ­£å¸¸ä¸šåŠ¡å¤„ç†</span>
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"messages"</span>: state[<span class="hljs-string">"messages"</span>] + [<span class="hljs-string">f"ç¬¬ <span class="hljs-subst">{current_step}</span> æ­¥"</span>]}

<span class="hljs-comment"># å“åº”å¼æ–¹æ¡ˆï¼ˆé™çº§æ–¹æ¡ˆï¼‰</span>
<span class="hljs-keyword">try</span>:
    result = graph.invoke(initial_state, {<span class="hljs-string">"recursion_limit"</span>: <span class="hljs-number">10</span>})
<span class="hljs-keyword">except</span> GraphRecursionError <span class="hljs-keyword">as</span> e:
    <span class="hljs-comment"># å›¾æ‰§è¡Œå¤±è´¥åï¼Œåœ¨å¤–éƒ¨å¤„ç†</span>
    result = fallback_handler(initial_state)
</code></pre>
<p>ä¸¤ç§æ–¹æ¡ˆçš„æ ¸å¿ƒå·®å¼‚å¦‚ä¸‹ï¼š</p>























<table><thead><tr><th align="left">æ–¹æ¡ˆ</th><th align="left">æ£€æµ‹æ—¶æœº</th><th align="left">å¤„ç†ä½ç½®</th><th align="left">æ§åˆ¶æµ</th></tr></thead><tbody><tr><td align="left">ä¸»åŠ¨å¼ï¼ˆä½¿ç”¨ langgraph_stepï¼‰</td><td align="left">è¾¾åˆ°é™åˆ¶å‰</td><td align="left">å›¾å†…éƒ¨ï¼ˆé€šè¿‡æ¡ä»¶è·¯ç”±ï¼‰</td><td align="left">å›¾ç»§ç»­æ‰§è¡Œè‡³å®ŒæˆèŠ‚ç‚¹</td></tr><tr><td align="left">å“åº”å¼ï¼ˆæ•è· GraphRecursionErrorï¼‰</td><td align="left">è¶…å‡ºé™åˆ¶å</td><td align="left">å›¾å¤–éƒ¨ï¼ˆtry/catch å—ï¼‰</td><td align="left">å›¾æ‰§è¡Œç»ˆæ­¢</td></tr></tbody></table>
<p>ä¸»åŠ¨å¼æ–¹æ¡ˆä¼˜åŠ¿ï¼š</p>
<ul>
<li>å›¾å†…å®ç°ä¼˜é›…é™çº§</li>
<li>å¯åœ¨æ£€æŸ¥ç‚¹ä¸­ä¿å­˜ä¸­é—´çŠ¶æ€</li>
<li>è¿”å›éƒ¨åˆ†ç»“æœï¼Œæå‡ç”¨æˆ·ä½“éªŒ</li>
<li>å›¾æ­£å¸¸å®Œæˆæ‰§è¡Œï¼ˆæ— å¼‚å¸¸æŠ›å‡ºï¼‰</li>
</ul>
<p>å“åº”å¼æ–¹æ¡ˆä¼˜åŠ¿ï¼š</p>
<ul>
<li>å®ç°æ›´ç®€æ´</li>
<li>æ— éœ€ä¿®æ”¹å›¾é€»è¾‘</li>
<li>é›†ä¸­å¼é”™è¯¯å¤„ç†</li>
</ul>
<p>å…¶ä»–å¯ç”¨å…ƒæ•°æ®</p>
<p>é™¤ <code>langgraph_step</code> å¤–ï¼Œ<code>config["metadata"]</code> ä¸­è¿˜åŒ…å«ä»¥ä¸‹å…ƒæ•°æ®ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">inspect_metadata</span>(<span class="hljs-params">state: <span class="hljs-built_in">dict</span>, config: RunnableConfig</span>) -&gt; <span class="hljs-built_in">dict</span>:
    metadata = config[<span class="hljs-string">"metadata"</span>]

    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ­¥æ•°ï¼š<span class="hljs-subst">{metadata[<span class="hljs-string">'langgraph_step'</span>]}</span>"</span>)  <span class="hljs-comment"># å½“å‰æ‰§è¡Œæ­¥æ•°</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"èŠ‚ç‚¹ï¼š<span class="hljs-subst">{metadata[<span class="hljs-string">'langgraph_node'</span>]}</span>"</span>)  <span class="hljs-comment"># å½“å‰æ‰§è¡Œçš„èŠ‚ç‚¹åç§°</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è§¦å‘å™¨ï¼š<span class="hljs-subst">{metadata[<span class="hljs-string">'langgraph_triggers'</span>]}</span>"</span>)  <span class="hljs-comment"># è§¦å‘å½“å‰èŠ‚ç‚¹çš„äº‹ä»¶</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è·¯å¾„ï¼š<span class="hljs-subst">{metadata[<span class="hljs-string">'langgraph_path'</span>]}</span>"</span>)  <span class="hljs-comment"># å·²æ‰§è¡Œçš„èŠ‚ç‚¹è·¯å¾„ï¼ˆå†å²ï¼‰</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ£€æŸ¥ç‚¹å‘½åç©ºé—´ï¼š<span class="hljs-subst">{metadata[<span class="hljs-string">'langgraph_checkpoint_ns'</span>]}</span>"</span>)  <span class="hljs-comment"># æ£€æŸ¥ç‚¹å‘½åç©ºé—´</span>

    <span class="hljs-keyword">return</span> state
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¥å£ QPS ä» 100 é£™åˆ° 1000ï¼Ÿä»åº”æ€¥åˆ°æ ¹æ²»çš„å…¨æµç¨‹ä¼˜åŒ–æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7576098886859767851</link>    <guid>https://juejin.cn/post/7576098886859767851</guid>    <pubDate>2025-11-24T09:37:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576098886859767851" data-draft-id="7575829296453058570" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¥å£ QPS ä» 100 é£™åˆ° 1000ï¼Ÿä»åº”æ€¥åˆ°æ ¹æ²»çš„å…¨æµç¨‹ä¼˜åŒ–æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="åç«¯,åˆ†å¸ƒå¼"/> <meta itemprop="datePublished" content="2025-11-24T09:37:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å›å®¶è·¯ä¸Šç»•äº†å¼¯"/> <meta itemprop="url" content="https://juejin.cn/user/536217404587134"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¥å£ QPS ä» 100 é£™åˆ° 1000ï¼Ÿä»åº”æ€¥åˆ°æ ¹æ²»çš„å…¨æµç¨‹ä¼˜åŒ–æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/536217404587134/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å›å®¶è·¯ä¸Šç»•äº†å¼¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T09:37:08.000Z" title="Mon Nov 24 2025 09:37:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ¥å£ QPS ä» 100 é£™åˆ° 1000ï¼Ÿä»åº”æ€¥åˆ°æ ¹æ²»çš„å…¨æµç¨‹ä¼˜åŒ–æ–¹æ¡ˆ</h2>
<p>åšåç«¯å¼€å‘æ—¶ï¼Œæœ€æªæ‰‹ä¸åŠçš„åœºæ™¯è«è¿‡äº â€œæ¥å£ QPS çªç„¶ 10 å€æš´æ¶¨â€â€”â€” åŸæœ¬å¹³ç¨³è¿è¡Œçš„æ¥å£ï¼ˆ100 QPSï¼Œå“åº”æ—¶é—´ 50msï¼‰ï¼Œå› æ´»åŠ¨æ¨å¹¿ã€æµé‡çº¢åˆ©ç­‰åŸå› ï¼ŒQPS éª¤å¢è‡³ 1000ï¼Œå“åº”æ—¶é—´ç¬é—´é£™åˆ° 500ms ä»¥ä¸Šï¼Œç”šè‡³å‡ºç°å¤§é‡è¶…æ—¶ã€‚æ­¤æ—¶è‹¥ç›²ç›®ä¼˜åŒ–ä»£ç ï¼Œå¯èƒ½é”™è¿‡ â€œæ­¢è¡€â€ æœ€ä½³æ—¶æœºï¼›è‹¥åªé æ‰©å®¹ï¼Œåˆä¼šæ©ç›–æ·±å±‚ç“¶é¢ˆã€‚</p>
<p>æœ¬æ–‡ç»“åˆçœŸå®é¡¹ç›®æ¡ˆä¾‹ï¼Œæ‹†è§£ â€œQPS çªå¢å“åº”å»¶è¿Ÿâ€ çš„å®Œæ•´ä¼˜åŒ–æµç¨‹ï¼Œä» â€œå¿«é€Ÿæ¢å¤ä¸šåŠ¡â€ åˆ° â€œæ ¹æ²»æ€§èƒ½ç“¶é¢ˆâ€ï¼Œè¦†ç›–åº”æ€¥æ‰‹æ®µã€æ ¹å› å®šä½ã€åˆ†å±‚ä¼˜åŒ–ä¸é•¿æ•ˆé¢„é˜²ï¼Œå¸®ä½ ä»å®¹åº”å¯¹æµé‡å³°å€¼ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ç¬¬ä¸€æ­¥ï¼šåº”æ€¥å¤„ç† â€”â€” å…ˆ â€œæ­¢è¡€â€ï¼Œå†æŸ¥å› </h3>
<p>å½“ QPS çªå¢å¯¼è‡´å“åº”å»¶è¿Ÿæ—¶ï¼Œæ ¸å¿ƒä¼˜å…ˆçº§æ˜¯ â€œä¿éšœæ ¸å¿ƒä¸šåŠ¡å¯ç”¨â€ï¼Œè€Œéç«‹åˆ»æ‰¾åˆ°æ ¹å› ã€‚ä»¥ä¸‹ 3 ä¸ªåº”æ€¥æ‰‹æ®µå¯åœ¨ 5-10 åˆ†é’Ÿå†…å¿«é€Ÿç¼“è§£å‹åŠ›ï¼š</p>
<h4 data-id="heading-2">1. é™æµï¼šæŒ¡ä½è¶…å‡ºæ‰¿è½½èƒ½åŠ›çš„æµé‡</h4>
<p>é™æµæ˜¯ â€œæœ€ç›´æ¥çš„æ­¢è¡€æ‰‹æ®µâ€â€”â€” é€šè¿‡é™åˆ¶æ¯ç§’å¤„ç†çš„è¯·æ±‚æ•°ï¼Œé¿å…æ¥å£è¢«å‹å®ï¼Œç¡®ä¿å­˜æ´»çš„è¯·æ±‚èƒ½æ­£å¸¸å“åº”ã€‚</p>
<h5 data-id="heading-3">ï¼ˆ1ï¼‰é€‰æ‹©åˆé€‚çš„é™æµç­–ç•¥</h5>
<ul>
<li><strong>å›ºå®šçª—å£é™æµ</strong>ï¼šé™åˆ¶æ¯ç§’æœ€å¤šå¤„ç† 1200 ä¸ªè¯·æ±‚ï¼ˆæ¯”å½“å‰ QPS 1000 é«˜ 20%ï¼Œç•™ç¼“å†²ï¼‰ï¼Œè¶…å‡ºçš„è¯·æ±‚ç›´æ¥è¿”å› â€œ503 Service Unavailableâ€ æˆ– â€œè¯·ç¨åé‡è¯•â€ï¼›</li>
</ul>

<ul>
<li><strong>ä»¤ç‰Œæ¡¶é™æµ</strong>ï¼šå…è®¸çŸ­æ—¶é—´çªå‘æµé‡ï¼ˆå¦‚ç¬é—´ 1500 QPSï¼‰ï¼Œé•¿æœŸç¨³å®šåœ¨ 1200 QPSï¼Œæ›´è´´åˆå®é™…æµé‡æ³¢åŠ¨ã€‚</li>
</ul>
<h5 data-id="heading-4">ï¼ˆ2ï¼‰è½åœ°æ–¹å¼ï¼ˆå¿«é€Ÿè§æ•ˆï¼‰</h5>
<ul>
<li><strong>ç½‘å…³å±‚é™æµ</strong>ï¼šè‹¥æœ‰ API ç½‘å…³ï¼ˆå¦‚ Spring Cloud Gatewayã€Nginxï¼‰ï¼Œç›´æ¥åœ¨ç½‘å…³é…ç½®é™æµï¼Œæ— éœ€ä¿®æ”¹æ¥å£ä»£ç ï¼ˆæ¨èä¼˜å…ˆç”¨ï¼‰ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>Nginx ç¤ºä¾‹ï¼ˆngx_http_limit_req_moduleï¼‰ï¼š</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å®šä¹‰é™æµè§„åˆ™ï¼šzone=api_limitè¡¨ç¤ºåˆ›å»ºå†…å­˜åŒºåŸŸï¼Œrate=1200r/sè¡¨ç¤ºæ¯ç§’1200ä¸ªè¯·æ±‚</span>
limit_req_zone $binary_remote_addr <span class="hljs-attr">zone</span>=api_limit:<span class="hljs-number">10</span>m rate=<span class="hljs-number">1200</span>r/s<span class="hljs-comment">;</span>
server {
  location /api/your-interface {
    <span class="hljs-comment"># åº”ç”¨é™æµè§„åˆ™ï¼Œburst=200è¡¨ç¤ºå…è®¸200ä¸ªè¯·æ±‚æ’é˜Ÿ</span>
    limit_req <span class="hljs-attr">zone</span>=api_limit burst=<span class="hljs-number">200</span> nodelay<span class="hljs-comment">;</span>
    <span class="hljs-comment"># è¶…å‡ºé™æµè¿”å›503ï¼Œè‡ªå®šä¹‰å“åº”å†…å®¹</span>
    limit_req_status 503<span class="hljs-comment">;</span>
    error_page <span class="hljs-attr">503</span> = @limit<span class="hljs-comment">;</span>
  }
  
  location @limit {
    return 503 '{"code":503,"msg":"å½“å‰è¯·æ±‚è¿‡å¤šï¼Œè¯·ç¨åé‡è¯•"}'<span class="hljs-comment">;</span>
  }
}
</code></pre>
<ul>
<li>
<ul>
<li>Spring Cloud Gateway ç¤ºä¾‹ï¼ˆç»“åˆ Resilience4jï¼‰ï¼š</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Configuration</span>
public class GatewayConfig {
    <span class="hljs-variable">@Bean</span>
    public RouteLocator <span class="hljs-built_in">customRouteLocator</span>(RouteLocatorBuilder builder) {
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">builder</span><span class="hljs-selector-class">.routes</span>()
                <span class="hljs-selector-class">.route</span>(<span class="hljs-string">"your_api"</span>, r -&gt; r.<span class="hljs-built_in">path</span>(<span class="hljs-string">"/api/your-interface"</span>)
                        .<span class="hljs-built_in">filters</span>(f -&gt; f
                                <span class="hljs-comment">// é™æµï¼šæ¯ç§’1200ä¸ªè¯·æ±‚ï¼Œå…è®¸200ä¸ªè¯·æ±‚æ’é˜Ÿ</span>
                                .<span class="hljs-built_in">requestRateLimiter</span>(c -&gt; c
                                        .<span class="hljs-built_in">setRateLimiter</span>(<span class="hljs-built_in">redisRateLimiter</span>())
                                        .<span class="hljs-built_in">setKeyResolver</span>(<span class="hljs-built_in">userKeyResolver</span>())))
                .<span class="hljs-built_in">uri</span>(<span class="hljs-string">"lb://your-service"</span>))
                <span class="hljs-selector-class">.build</span>();
    }
}
</code></pre>
<ul>
<li><strong>æ¥å£å±‚é™æµ</strong>ï¼šè‹¥æ— ç½‘å…³ï¼Œç›´æ¥åœ¨æ¥å£ä»£ç ä¸­åŠ é™æµï¼ˆç”¨ Guava RateLimiterï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping(<span class="hljs-string">"/api"</span>)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">YourController</span> {
    <span class="hljs-comment">// åˆå§‹åŒ–ä»¤ç‰Œæ¡¶ï¼šæ¯ç§’1200ä¸ªä»¤ç‰Œ</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RateLimiter rateLimiter = RateLimiter.create(<span class="hljs-number">1200.0</span>);
    
    <span class="hljs-meta">@GetMapping(<span class="hljs-string">"/your-interface"</span>)</span>
    <span class="hljs-keyword">public</span> ResultDTO yourInterface() {
        <span class="hljs-comment">// å°è¯•è·å–ä»¤ç‰Œï¼Œ100mså†…è·å–ä¸åˆ°åˆ™è¿”å›é™æµ</span>
        <span class="hljs-keyword">if</span> (!rateLimiter.tryAcquire(<span class="hljs-number">100</span>, TimeUnit.MILLISECONDS)) {
            <span class="hljs-keyword">return</span> ResultDTO.fail(<span class="hljs-number">503</span>, <span class="hljs-string">"å½“å‰è¯·æ±‚è¿‡å¤šï¼Œè¯·ç¨åé‡è¯•"</span>);
        }
        <span class="hljs-comment">// æ­£å¸¸ä¸šåŠ¡é€»è¾‘</span>
        <span class="hljs-keyword">return</span> service.doBusiness();
    }
}
</code></pre>
<h5 data-id="heading-5">ï¼ˆ3ï¼‰å…³é”®æ³¨æ„ç‚¹</h5>
<ul>
<li>ä¼˜å…ˆåœ¨ç½‘å…³é™æµï¼šé¿å…æ— æ•ˆè¯·æ±‚æ‰“åˆ°ä¸šåŠ¡æœåŠ¡ï¼ŒèŠ‚çœæœåŠ¡å™¨èµ„æºï¼›</li>
</ul>

<ul>
<li>è‡ªå®šä¹‰é™æµå“åº”ï¼šä¸è¦è¿”å›é»˜è®¤ 503 é¡µé¢ï¼Œè¿”å› JSON æ ¼å¼çš„å‹å¥½æç¤ºï¼ˆæ–¹ä¾¿å‰ç«¯å¤„ç†ï¼‰ï¼›</li>
</ul>

<ul>
<li>ç›‘æ§é™æµæ•ˆæœï¼šç»Ÿè®¡ â€œé™æµæ¬¡æ•° / æˆåŠŸæ¬¡æ•°â€ï¼Œè‹¥é™æµæ¬¡æ•°å æ¯”è¶…è¿‡ 30%ï¼Œè¯´æ˜é™æµé˜ˆå€¼å¯èƒ½è¿‡ä½ï¼Œéœ€é€‚å½“è°ƒæ•´ã€‚</li>
</ul>
<h4 data-id="heading-6">2. é™çº§ï¼šç æ‰éæ ¸å¿ƒåŠŸèƒ½ï¼Œé‡Šæ”¾èµ„æº</h4>
<p>è‹¥é™æµåå“åº”å»¶è¿Ÿä»æœªæ”¹å–„ï¼Œè¯´æ˜æ¥å£æœ¬èº«çš„ â€œå•ä½è¯·æ±‚è€—æ—¶â€ è¿‡é«˜ï¼Œéœ€é€šè¿‡ â€œé™çº§éæ ¸å¿ƒåŠŸèƒ½â€ å‡å°‘èµ„æºæ¶ˆè€—ï¼Œæå‡å“åº”é€Ÿåº¦ã€‚</p>
<h5 data-id="heading-7">ï¼ˆ1ï¼‰è¯†åˆ«å¯é™çº§çš„åŠŸèƒ½</h5>
<ul>
<li>éæ ¸å¿ƒæŸ¥è¯¢ï¼šå¦‚æ¥å£ä¸­ â€œæŸ¥è¯¢ç”¨æˆ·å†å²è¡Œä¸ºâ€â€œç»Ÿè®¡è®¿é—®æ¬¡æ•°â€ ç­‰ä¸å½±å“ä¸»æµç¨‹çš„åŠŸèƒ½ï¼›</li>
</ul>

<ul>
<li>ç¬¬ä¸‰æ–¹ä¾èµ–ï¼šå¦‚è°ƒç”¨ â€œçŸ­ä¿¡é€šçŸ¥â€â€œå¹¿å‘Šæ¨èâ€ ç­‰éæ ¸å¿ƒç¬¬ä¸‰æ–¹æ¥å£ï¼ˆå¯æ”¹ä¸ºå¼‚æ­¥æˆ–æš‚æ—¶å…³é—­ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-8">ï¼ˆ2ï¼‰é™çº§ç¤ºä¾‹</h5>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-keyword">@Service</span>
public class YourService {
    <span class="hljs-comment">// é™çº§å¼€å…³ï¼šç”¨é…ç½®ä¸­å¿ƒï¼ˆå¦‚Nacosï¼‰åŠ¨æ€æ§åˆ¶ï¼Œæ— éœ€é‡å¯æœåŠ¡</span>
    <span class="hljs-keyword">@Value</span>(<span class="hljs-string">"${feature.degrade.non-core:false}"</span>)
    private boolean degradeNonCore;
    
    public ResultDTO <span class="hljs-built_in">doBusiness</span>() {
        <span class="hljs-comment">// 1. æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆå¿…é¡»ä¿ç•™ï¼‰</span>
        UserDTO user = <span class="hljs-built_in">getUserInfo</span>(); <span class="hljs-comment">// æ ¸å¿ƒï¼šè·å–ç”¨æˆ·ä¿¡æ¯</span>
        OrderDTO <span class="hljs-attribute">order</span> = <span class="hljs-built_in">createOrder</span>(user); <span class="hljs-comment">// æ ¸å¿ƒï¼šåˆ›å»ºè®¢å•</span>
        
        <span class="hljs-comment">// 2. éæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆæ ¹æ®é™çº§å¼€å…³å†³å®šæ˜¯å¦æ‰§è¡Œï¼‰</span>
        if (!degradeNonCore) {
            try {
                <span class="hljs-comment">// éæ ¸å¿ƒï¼šç»Ÿè®¡è®¢å•åˆ›å»ºæ¬¡æ•°ï¼ˆé™çº§åä¸æ‰§è¡Œï¼‰</span>
                statService<span class="hljs-selector-class">.countOrder</span>(user.getId());
                <span class="hljs-comment">// éæ ¸å¿ƒï¼šæ¨é€è¥é”€çŸ­ä¿¡ï¼ˆé™çº§åä¸æ‰§è¡Œï¼‰</span>
                smsService<span class="hljs-selector-class">.sendMarketingSms</span>(user.getPhone());
            } catch (Exception e) {
                log<span class="hljs-selector-class">.error</span>("éæ ¸å¿ƒåŠŸèƒ½æ‰§è¡Œå¤±è´¥", e);
                <span class="hljs-comment">// éæ ¸å¿ƒåŠŸèƒ½å¤±è´¥ä¸å½±å“ä¸»æµç¨‹ï¼Œä»…æ—¥å¿—è®°å½•</span>
            }
        }
        
        return ResultDTO<span class="hljs-selector-class">.success</span>(order);
    }
}
</code></pre>
<h5 data-id="heading-9">ï¼ˆ3ï¼‰æ•ˆæœ</h5>
<p>é™çº§éæ ¸å¿ƒåŠŸèƒ½åï¼Œæ¥å£å¹³å‡è€—æ—¶ä» 500ms é™è‡³ 200ms ä»¥å†… â€”â€” å› éæ ¸å¿ƒåŠŸèƒ½ï¼ˆå¦‚ç»Ÿè®¡ã€çŸ­ä¿¡ï¼‰å¯èƒ½å æ€»è€—æ—¶çš„ 60%ï¼Œç æ‰åèµ„æºé‡Šæ”¾ï¼Œæ ¸å¿ƒé€»è¾‘å“åº”é€Ÿåº¦å¤§å¹…æå‡ã€‚</p>
<h4 data-id="heading-10">3. æ‰©å®¹ï¼šä¸´æ—¶å¢åŠ æ‰¿è½½èƒ½åŠ›</h4>
<p>è‹¥é™æµå’Œé™çº§åï¼Œæ ¸å¿ƒä¸šåŠ¡ä»æœ‰å»¶è¿Ÿï¼ˆå¦‚ QPS 1000 ä»è¶…è¿‡å•å®ä¾‹æ‰¿è½½ï¼‰ï¼Œéœ€å¿«é€Ÿæ‰©å®¹æœåŠ¡å®ä¾‹ï¼Œåˆ†æ‘Šè¯·æ±‚å‹åŠ›ã€‚</p>
<h5 data-id="heading-11">ï¼ˆ1ï¼‰æ‰©å®¹æ–¹å¼</h5>
<ul>
<li><strong>æ— çŠ¶æ€æœåŠ¡</strong>ï¼šç›´æ¥å¢åŠ å®¹å™¨å®ä¾‹ï¼ˆå¦‚ K8s kubectl scale deployment your-service --replicas=5ï¼Œä» 2 å®ä¾‹æ‰©åˆ° 5 å®ä¾‹ï¼‰ï¼Œé…åˆè´Ÿè½½å‡è¡¡ï¼ˆå¦‚ Nginxã€K8s Serviceï¼‰è‡ªåŠ¨åˆ†å‘æµé‡ï¼›</li>
</ul>

<ul>
<li><strong>æœ‰çŠ¶æ€æœåŠ¡</strong>ï¼šè‹¥æ¥å£ä¾èµ–æœ¬åœ°ç¼“å­˜ï¼ˆå¦‚ HashMapï¼‰ï¼Œéœ€å…ˆå°†ç¼“å­˜è¿ç§»åˆ°åˆ†å¸ƒå¼ç¼“å­˜ï¼ˆå¦‚ Redisï¼‰ï¼Œå†æ‰©å®¹ï¼ˆé¿å…ç¼“å­˜ä¸ä¸€è‡´ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-12">ï¼ˆ2ï¼‰æ³¨æ„ç‚¹</h5>
<ul>
<li>æ‰©å®¹å‰æ£€æŸ¥ä¾èµ–ï¼šç¡®ä¿æ•°æ®åº“ã€Redis ç­‰ä¸‹æ¸¸æœåŠ¡èƒ½æ‰¿å—æ‰©å®¹åçš„è¯·æ±‚ï¼ˆå¦‚æ¥å£ QPS 1000 æ‰©åˆ° 5 å®ä¾‹ï¼Œæ¯ä¸ªå®ä¾‹ 200 QPSï¼Œéœ€ç¡®è®¤æ•°æ®åº“èƒ½æ‰›ä½ 1000 QPS æŸ¥è¯¢ï¼‰ï¼›</li>
</ul>

<ul>
<li>æ‰©å®¹åç›‘æ§ï¼šè§‚å¯Ÿå®ä¾‹ CPUã€å†…å­˜ä½¿ç”¨ç‡ï¼Œè‹¥ä»è¶…è¿‡ 70%ï¼Œéœ€ç»§ç»­æ‰©å®¹æˆ–ä¼˜åŒ–ä»£ç ã€‚</li>
</ul>
<h3 data-id="heading-13">äºŒã€ç¬¬äºŒæ­¥ï¼šæ ¹å› å®šä½ â€”â€” åˆ†å±‚æ’æŸ¥ï¼Œæ‰¾åˆ° â€œå¡è„–å­â€ çš„ç¯èŠ‚</h3>
<p>åº”æ€¥å¤„ç†åï¼Œä¸šåŠ¡æ¢å¤æ­£å¸¸ï¼Œæ¥ä¸‹æ¥éœ€å®šä½ â€œQPS ä» 100 åˆ° 1000 ä¸ºä½•ä¼šå»¶è¿Ÿâ€ï¼Œé¿å…ä¸‹æ¬¡æµé‡å†æ¥æ—¶é‡å¤åº”æ€¥ã€‚æ ¸å¿ƒæ€è·¯æ˜¯ â€œä»æ¥å£åˆ°ä¸‹æ¸¸ï¼Œåˆ†å±‚æ’æŸ¥ç“¶é¢ˆâ€ï¼Œé‡ç‚¹å…³æ³¨<strong>åº”ç”¨å±‚ã€æ•°æ®å±‚ã€ä¾èµ–å±‚</strong>ã€‚</p>
<h4 data-id="heading-14">1. åº”ç”¨å±‚æ’æŸ¥ï¼šæ¥å£æœ¬èº«æ˜¯å¦ä½æ•ˆï¼Ÿ</h4>
<p>åº”ç”¨å±‚æ˜¯è¯·æ±‚å¤„ç†çš„å…¥å£ï¼Œå¸¸è§ç“¶é¢ˆæœ‰ â€œçº¿ç¨‹æ± æ»¡ã€ä»£ç ä½æ•ˆã€GC é¢‘ç¹â€ã€‚</p>
<h5 data-id="heading-15">ï¼ˆ1ï¼‰çº¿ç¨‹æ± ç“¶é¢ˆæ’æŸ¥</h5>
<ul>
<li>å·¥å…·ï¼šç”¨jstackæŸ¥çœ‹çº¿ç¨‹çŠ¶æ€ï¼Œæˆ–ç”¨ Spring Boot Actuator æš´éœ²/actuator/threaddumpæ¥å£ï¼›</li>
</ul>

<ul>
<li>å…³é”®æŒ‡æ ‡ï¼šæŸ¥çœ‹ â€œBLOCKEDâ€â€œWAITINGâ€ çŠ¶æ€çš„çº¿ç¨‹æ•°ï¼Œè‹¥è¶…è¿‡çº¿ç¨‹æ± æ ¸å¿ƒçº¿ç¨‹æ•°çš„ 50%ï¼Œè¯´æ˜çº¿ç¨‹æ± æ»¡ã€‚</li>
</ul>

<ul>
<li>ç¤ºä¾‹ï¼šè‹¥æ¥å£ç”¨ Spring @Asyncå¼‚æ­¥å¤„ç†ï¼Œçº¿ç¨‹æ± corePoolSize=10ï¼ŒmaxPoolSize=20ï¼ŒQPS 1000 æ—¶ï¼Œä»»åŠ¡æ’é˜Ÿè¶…è¿‡ 1000 ä¸ªï¼Œå¯¼è‡´å“åº”å»¶è¿Ÿã€‚</li>
</ul>
<h5 data-id="heading-16">ï¼ˆ2ï¼‰ä»£ç ä½æ•ˆæ’æŸ¥</h5>
<ul>
<li>å·¥å…·ï¼šç”¨ Arthasï¼ˆé˜¿é‡Œå¼€æºï¼‰è·Ÿè¸ªæ¥å£è°ƒç”¨é“¾ï¼Œå®šä½è€—æ—¶ä¹…çš„æ–¹æ³•ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å¯åŠ¨Arthasï¼Œattachåˆ°åº”ç”¨è¿›ç¨‹</span>
java -jar arthas-boot.jar
<span class="hljs-comment"># 2. è·Ÿè¸ªæ¥å£æ–¹æ³•ï¼ŒæŸ¥çœ‹æ¯ä¸ªå­æ–¹æ³•è€—æ—¶</span>
trace com.yourpackage.YourService doBusiness -n 100
</code></pre>
<ul>
<li>å¸¸è§é—®é¢˜ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>å¾ªç¯è°ƒç”¨æ•°æ®åº“ï¼šå¦‚ â€œæŸ¥è¯¢è®¢å•åˆ—è¡¨åï¼Œå¾ªç¯æŸ¥è¯¢æ¯ä¸ªè®¢å•çš„è¯¦æƒ…â€ï¼ˆN+1 æŸ¥è¯¢é—®é¢˜ï¼‰ï¼›</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>å¤§å¯¹è±¡åºåˆ—åŒ–ï¼šå¦‚æ¥å£è¿”å›å…¨é‡ç”¨æˆ·ä¿¡æ¯ï¼ˆåŒ…å«å†—ä½™å­—æ®µï¼‰ï¼ŒJSON åºåˆ—åŒ–è€—æ—¶ä¹…ï¼›</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>åŒæ­¥ç­‰å¾…ï¼šå¦‚è°ƒç”¨ç¬¬ä¸‰æ–¹æ¥å£æ—¶ï¼ŒåŒæ­¥ç­‰å¾… 3 ç§’è¶…æ—¶ï¼Œæ— å¼‚æ­¥æˆ–è¶…æ—¶æ—¶é—´è®¾ç½®è¿‡é•¿ã€‚</li>
</ul>
</li>
</ul>
<h5 data-id="heading-17">ï¼ˆ3ï¼‰JVM GC æ’æŸ¥</h5>
<ul>
<li>å·¥å…·ï¼šç”¨jstat -gc è¿›ç¨‹ID 1000æŸ¥çœ‹ GC æƒ…å†µï¼Œæˆ–ç”¨ VisualVM åˆ†æ GC æ—¥å¿—ï¼›</li>
</ul>

<ul>
<li>å…³é”®æŒ‡æ ‡ï¼šè‹¥ Full GC æ¯ç§’è¶…è¿‡ 1 æ¬¡ï¼Œæˆ– Young GC æ¯æ¬¡è€—æ—¶è¶…è¿‡ 100msï¼Œè¯´æ˜ GC é¢‘ç¹å¯¼è‡´çº¿ç¨‹æš‚åœï¼Œå“åº”å»¶è¿Ÿã€‚</li>
</ul>

<ul>
<li>åŸå› ï¼šå †å†…å­˜è®¾ç½®è¿‡å°ï¼ˆå¦‚ JVM -Xms2g -Xmx2gï¼ŒQPS 1000 æ—¶å†…å­˜ä¸å¤Ÿç”¨ï¼‰ï¼Œæˆ–å†…å­˜æ³„æ¼ï¼ˆå¦‚ ArrayList æœªæ¸…ç†ï¼ŒæŒç»­å¢é•¿ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-18">2. æ•°æ®å±‚æ’æŸ¥ï¼šæ•°æ®åº“ / Redis æ˜¯å¦æ‹–åè…¿ï¼Ÿ</h4>
<p>æ•°æ®å±‚æ˜¯æ¥å£å»¶è¿Ÿçš„ â€œé‡ç¾åŒºâ€ï¼ŒQPS ä» 100 åˆ° 1000 æ—¶ï¼Œæ•°æ®åº“æŸ¥è¯¢ã€Redis æ“ä½œçš„ç“¶é¢ˆä¼šè¢«æ”¾å¤§ã€‚</p>
<h5 data-id="heading-19">ï¼ˆ1ï¼‰æ•°æ®åº“ç“¶é¢ˆæ’æŸ¥</h5>
<ul>
<li><strong>æ…¢æŸ¥è¯¢</strong>ï¼š</li>
</ul>
<ol>
<li>
<ol>
<li>å¼€å¯ MySQL æ…¢æŸ¥è¯¢æ—¥å¿—ï¼ˆslow_query_log=1ï¼Œlong_query_time=100ï¼Œè®°å½•è€—æ—¶ &gt; 100ms çš„ SQLï¼‰ï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="2">
<li>ç”¨explainåˆ†ææ…¢ SQLï¼ŒæŸ¥çœ‹æ˜¯å¦èµ°ç´¢å¼•ã€æ˜¯å¦å…¨è¡¨æ‰«æï¼š</li>
</ol>
</li>
</ol>
<ul>
<li>
<ul>
<li>
<ul>
<li>ç¤ºä¾‹ï¼šselect * from order where user_id=123 æœªå»ºuser_idç´¢å¼•ï¼ŒQPS 100 æ—¶å¯èƒ½ä¸æ˜æ˜¾ï¼ŒQPS 1000 æ—¶å…¨è¡¨æ‰«æå¯¼è‡´å»¶è¿Ÿé£™å‡ï¼›</li>
</ul>
</li>
</ul>
</li>
</ul>

<ul>
<li><strong>è¿æ¥æ± æ»¡</strong>ï¼š</li>
</ul>
<ol>
<li>
<ol>
<li>æŸ¥çœ‹æ•°æ®åº“è¿æ¥æ•°ï¼ˆMySQL show status like 'Threads_connected'ï¼‰ï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="2">
<li>å¯¹æ¯”åº”ç”¨é…ç½®çš„è¿æ¥æ± å¤§å°ï¼ˆå¦‚ HikariCP maximum-pool-size=20ï¼‰ï¼Œè‹¥Threads_connectedæ¥è¿‘è¿æ¥æ± ä¸Šé™ï¼Œè¯´æ˜è¿æ¥ä¸å¤Ÿç”¨ï¼Œè¯·æ±‚æ’é˜Ÿç­‰å¾…è¿æ¥ã€‚</li>
</ol>
</li>
</ol>
<h5 data-id="heading-20">ï¼ˆ2ï¼‰Redis ç“¶é¢ˆæ’æŸ¥</h5>
<ul>
<li><strong>ç¼“å­˜å‘½ä¸­ç‡ä½</strong>ï¼š</li>
</ul>
<ol>
<li>
<ol>
<li>æŸ¥çœ‹ Redis å‘½ä¸­ç‡ï¼ˆinfo stats | grep keyspace_hitsï¼Œå‘½ä¸­ç‡=keyspace_hits/(keyspace_hits+keyspace_misses)ï¼‰ï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="2">
<li>è‹¥å‘½ä¸­ç‡ &lt; 80%ï¼Œè¯´æ˜å¤§é‡è¯·æ±‚æœªå‘½ä¸­ç¼“å­˜ï¼Œç›´æ¥æŸ¥æ•°æ®åº“ï¼Œå¯¼è‡´æ•°æ®åº“å‹åŠ›å¤§ï¼›</li>
</ol>
</li>
</ol>
<ul>
<li><strong>Redis æ€§èƒ½ç“¶é¢ˆ</strong>ï¼š</li>
</ul>
<ol>
<li>
<ol>
<li>æŸ¥çœ‹ Redis æ¯ç§’æ“ä½œæ•°ï¼ˆinfo stats | grep instantaneous_ops_per_secï¼‰ï¼Œè‹¥è¶…è¿‡ 10 ä¸‡ / ç§’ï¼ˆå•å®ä¾‹ Redis å»ºè®®ä¸Šé™ï¼‰ï¼Œè¯´æ˜ Redis è¿‡è½½ï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="2">
<li>æŸ¥çœ‹ Redis æ…¢å‘½ä»¤ï¼ˆslowlog getï¼‰ï¼Œæ˜¯å¦æœ‰keys *ã€hgetallç­‰è€—æ—¶å‘½ä»¤ï¼ˆQPS 1000 æ—¶ï¼Œè¿™äº›å‘½ä»¤ä¼šé˜»å¡ Redisï¼‰ã€‚</li>
</ol>
</li>
</ol>
<h4 data-id="heading-21">3. ä¾èµ–å±‚æ’æŸ¥ï¼šç¬¬ä¸‰æ–¹æ¥å£æ˜¯å¦è¶…æ—¶ï¼Ÿ</h4>
<p>è‹¥æ¥å£è°ƒç”¨äº†ç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆå¦‚æ”¯ä»˜æ¥å£ã€åœ°å›¾æ¥å£ï¼‰ï¼ŒQPS çªå¢æ—¶ç¬¬ä¸‰æ–¹æ¥å£å¯èƒ½æˆä¸ºç“¶é¢ˆï¼š</p>
<ul>
<li>ç›´æ¥è°ƒç”¨æµ‹è¯•ï¼šåœ¨åº”ç”¨æœåŠ¡å™¨ä¸Šç”¨curlæµ‹è¯•ç¬¬ä¸‰æ–¹æ¥å£å“åº”æ—¶é—´ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æµ‹è¯•ç¬¬ä¸‰æ–¹æ¥å£è€—æ—¶ï¼Œé‡å¤10æ¬¡å–å¹³å‡</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> {1..10}; <span class="hljs-keyword">do</span> curl -w <span class="hljs-string">"%{time_total}\n"</span> -o /dev/null -s <span class="hljs-string">"https://thirdparty-api.com/xxx"</span>; <span class="hljs-keyword">done</span>
</code></pre>
<ul>
<li>è‹¥ç¬¬ä¸‰æ–¹æ¥å£å¹³å‡è€—æ—¶ä» 50ms å¢è‡³ 300msï¼Œè¯´æ˜ç¬¬ä¸‰æ–¹æœåŠ¡ä¹Ÿè¢« QPS çªå¢å½±å“ï¼Œéœ€åå•†æ‰©å®¹æˆ–æ”¹ä¸ºå¼‚æ­¥è°ƒç”¨ã€‚</li>
</ul>
<h3 data-id="heading-22">ä¸‰ã€ç¬¬ä¸‰æ­¥ï¼šåˆ†å±‚ä¼˜åŒ– â€”â€” ä» â€œèƒ½è·‘â€ åˆ° â€œè·‘å¾—å¿«â€</h3>
<p>å®šä½åˆ°æ ¹å› åï¼Œéœ€é’ˆå¯¹æ€§ä¼˜åŒ–ï¼Œè®©æ¥å£åœ¨ QPS 1000 æ—¶ä»èƒ½ç¨³å®šåœ¨ä½å»¶è¿Ÿï¼ˆå¦‚ &lt; 100msï¼‰ã€‚</p>
<h4 data-id="heading-23">1. åº”ç”¨å±‚ä¼˜åŒ–ï¼šæå‡æ¥å£æœ¬èº«æ•ˆç‡</h4>
<h5 data-id="heading-24">ï¼ˆ1ï¼‰çº¿ç¨‹æ± è°ƒä¼˜ï¼ˆè§£å†³çº¿ç¨‹æ’é˜Ÿï¼‰</h5>
<p>æ ¹æ® QPS å’Œå•è¯·æ±‚è€—æ—¶ï¼Œè®¡ç®—åˆé€‚çš„çº¿ç¨‹æ± å¤§å°ï¼š</p>
<ul>
<li>å…¬å¼ï¼šæ ¸å¿ƒçº¿ç¨‹æ•° = QPS Ã— å•è¯·æ±‚è€—æ—¶ï¼ˆç§’ï¼‰</li>
</ul>

<ul>
<li>ç¤ºä¾‹ï¼šQPS 1000ï¼Œå•è¯·æ±‚è€—æ—¶ 0.1 ç§’ï¼ˆ100msï¼‰ï¼Œæ ¸å¿ƒçº¿ç¨‹æ•° = 1000Ã—0.1=100ï¼Œé…ç½®ï¼š</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableAsync</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AsyncConfig</span> {
    <span class="hljs-meta">@Bean(<span class="hljs-string">"businessExecutor"</span>)</span>
    <span class="hljs-keyword">public</span> Executor businessExecutor() {
        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();
        executor.setCorePoolSize(<span class="hljs-number">100</span>); <span class="hljs-comment">// æ ¸å¿ƒçº¿ç¨‹æ•°</span>
        executor.setMaxPoolSize(<span class="hljs-number">150</span>); <span class="hljs-comment">// æœ€å¤§çº¿ç¨‹æ•°ï¼ˆç•™50%ç¼“å†²ï¼‰</span>
        executor.setQueueCapacity(<span class="hljs-number">200</span>); <span class="hljs-comment">// é˜Ÿåˆ—å¤§å°</span>
        executor.setKeepAliveSeconds(<span class="hljs-number">60</span>); <span class="hljs-comment">// ç©ºé—²çº¿ç¨‹å­˜æ´»æ—¶é—´</span>
        executor.setThreadNamePrefix(<span class="hljs-string">"Business-"</span>);
        <span class="hljs-comment">// æ‹’ç»ç­–ç•¥ï¼šé˜Ÿåˆ—æ»¡æ—¶ï¼Œç”±è°ƒç”¨çº¿ç¨‹æ‰§è¡Œï¼ˆé¿å…ç›´æ¥ä¸¢å¼ƒï¼‰</span>
        executor.setRejectedExecutionHandler(new ThreadPoolExecutor.CallerRunsPolicy());
        executor.initialize();
        <span class="hljs-keyword">return</span> executor;
    }
}
<span class="hljs-comment">// æ¥å£ä¸­ä½¿ç”¨ä¼˜åŒ–åçš„çº¿ç¨‹æ± </span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">YourService</span> {
    <span class="hljs-meta">@Async(<span class="hljs-string">"businessExecutor"</span>)</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;ResultDTO&gt; doBusinessAsync() {
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
        <span class="hljs-keyword">return</span> CompletableFuture.completedFuture(result);
    }
}
</code></pre>
<h5 data-id="heading-25">ï¼ˆ2ï¼‰ä»£ç ä¼˜åŒ–ï¼ˆè§£å†³ä½æ•ˆé€»è¾‘ï¼‰</h5>
<ul>
<li><strong>N+1 æŸ¥è¯¢é—®é¢˜</strong>ï¼šç”¨joinæŸ¥è¯¢æˆ–æ‰¹é‡æŸ¥è¯¢æ›¿ä»£å¾ªç¯æŸ¥è¯¢ï¼š</li>
</ul>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// ä¼˜åŒ–å‰ï¼šå¾ªç¯æŸ¥è¯¢æ¯ä¸ªè®¢å•çš„ç”¨æˆ·ä¿¡æ¯ï¼ˆN+1æ¬¡æŸ¥è¯¢ï¼‰</span>
List&lt;OrderDTO&gt; orders = orderMapper<span class="hljs-selector-class">.listByUserId</span>(<span class="hljs-number">123</span>);
for (OrderDTO order : orders) {
    UserDTO user = userMapper<span class="hljs-selector-class">.getById</span>(order.getUserId()); <span class="hljs-comment">// é‡å¤æŸ¥è¯¢</span>
    <span class="hljs-attribute">order</span><span class="hljs-selector-class">.setUser</span>(user);
}
<span class="hljs-comment">// ä¼˜åŒ–åï¼šæ‰¹é‡æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼ˆ2æ¬¡æŸ¥è¯¢ï¼‰</span>
List&lt;OrderDTO&gt; orders = orderMapper<span class="hljs-selector-class">.listByUserId</span>(<span class="hljs-number">123</span>);
Set&lt;Long&gt; userIds = orders<span class="hljs-selector-class">.stream</span>()<span class="hljs-selector-class">.map</span>(OrderDTO::getUserId)<span class="hljs-selector-class">.collect</span>(Collectors.toSet());
Map&lt;Long, UserDTO&gt; userMap = userMapper<span class="hljs-selector-class">.batchGetByIds</span>(userIds)<span class="hljs-selector-class">.stream</span>()
        <span class="hljs-selector-class">.collect</span>(Collectors.toMap(UserDTO::getId, Function.identity()));
for (OrderDTO order : orders) {
    <span class="hljs-attribute">order</span><span class="hljs-selector-class">.setUser</span>(userMap.get(order.getUserId()));
}
</code></pre>
<ul>
<li><strong>å¤§å¯¹è±¡åºåˆ—åŒ–ä¼˜åŒ–</strong>ï¼šè¿”å› DTO æ—¶åªåŒ…å«å¿…è¦å­—æ®µï¼Œç”¨@JsonIgnoreæ’é™¤å†—ä½™å­—æ®µï¼š</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¼˜åŒ–å‰ï¼šè¿”å›å…¨é‡ç”¨æˆ·ä¿¡æ¯ï¼ˆåŒ…å«å¯†ç ã€èº«ä»½è¯ç­‰å†—ä½™å­—æ®µï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDTO</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">Long</span> id;
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> name;
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> password; <span class="hljs-comment">// å†—ä½™ï¼Œæ— éœ€è¿”å›</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> idCard; <span class="hljs-comment">// å†—ä½™ï¼Œæ— éœ€è¿”å›</span>
    <span class="hljs-comment">// getter/setter</span>
}
<span class="hljs-comment">// ä¼˜åŒ–åï¼šåªè¿”å›å¿…è¦å­—æ®µ</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDTO</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">Long</span> id;
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> name;
    <span class="hljs-meta">@JsonIgnore</span> <span class="hljs-comment">// æ’é™¤å†—ä½™å­—æ®µ</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> password;
    <span class="hljs-meta">@JsonIgnore</span> <span class="hljs-comment">// æ’é™¤å†—ä½™å­—æ®µ</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> idCard;
    <span class="hljs-comment">// getter/setter</span>
}
</code></pre>
<h5 data-id="heading-26">ï¼ˆ3ï¼‰JVM è°ƒä¼˜ï¼ˆè§£å†³ GC é¢‘ç¹ï¼‰</h5>
<ul>
<li>å¢å¤§å †å†…å­˜ï¼šæ ¹æ®æœåŠ¡å™¨å†…å­˜è°ƒæ•´ï¼ˆå¦‚ 8GB å†…å­˜æœåŠ¡å™¨ï¼Œè®¾ç½®-Xms4g -Xmx4gï¼‰ï¼›</li>
</ul>

<ul>
<li>é€‰æ‹©åˆé€‚çš„ GC æ”¶é›†å™¨ï¼šJDK 11 + ç”¨ ZGCï¼ˆä½å»¶è¿Ÿï¼Œé€‚åˆé«˜å¹¶å‘ï¼‰ï¼Œé…ç½®ï¼š</li>
</ul>
<pre><code class="hljs language-ruby" lang="ruby">java -<span class="hljs-title class_">Xms4g</span> -<span class="hljs-title class_">Xmx4g</span> -<span class="hljs-variable constant_">XX</span><span class="hljs-symbol">:+UseZGC</span> -jar your-app.jar
</code></pre>
<h4 data-id="heading-27">2. æ•°æ®å±‚ä¼˜åŒ–ï¼šå‡è½»æ•°æ®åº“ / Redis å‹åŠ›</h4>
<h5 data-id="heading-28">ï¼ˆ1ï¼‰æ•°æ®åº“ä¼˜åŒ–</h5>
<ul>
<li><strong>åŠ ç´¢å¼•</strong>ï¼šä¸ºæ…¢æŸ¥è¯¢çš„è¿‡æ»¤å­—æ®µã€å…³è”å­—æ®µå»ºç´¢å¼•ï¼ˆå¦‚orderè¡¨çš„user_idå­—æ®µï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-scss" lang="scss">CREATE INDEX idx_order_user_id ON `<span class="hljs-attribute">order</span>`(user_id);
</code></pre>
<ul>
<li><strong>åˆ†åº“åˆ†è¡¨</strong>ï¼šè‹¥è¡¨æ•°æ®é‡è¶… 1000 ä¸‡ï¼ŒæŒ‰user_idå“ˆå¸Œåˆ†è¡¨ï¼ˆå¦‚åˆ† 8 å¼ è¡¨ï¼‰ï¼Œé¿å…å•è¡¨æŸ¥è¯¢å‹åŠ›ï¼›</li>
</ul>

<ul>
<li><strong>è¯»å†™åˆ†ç¦»</strong>ï¼šä¸»åº“è´Ÿè´£å†™å…¥ï¼Œä»åº“è´Ÿè´£æŸ¥è¯¢ï¼ˆå¦‚æ¥å£çš„æŸ¥è¯¢é€»è¾‘èµ°ä»åº“ï¼‰ï¼Œç”¨ ShardingSphere å®ç°é€æ˜è·¯ç”±ã€‚</li>
</ul>
<h5 data-id="heading-29">ï¼ˆ2ï¼‰Redis ä¼˜åŒ–</h5>
<ul>
<li><strong>æå‡ç¼“å­˜å‘½ä¸­ç‡</strong>ï¼š</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedisTemplate&lt;String, UserDTO&gt; redisTemplate;
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserMapper userMapper;
    
    <span class="hljs-keyword">public</span> UserDTO getUserById(<span class="hljs-built_in">Long</span> userId) {
        String key = <span class="hljs-string">"user:info:"</span> + userId;
        <span class="hljs-comment">// 1. å…ˆæŸ¥ç¼“å­˜</span>
        UserDTO user = redisTemplate.opsForValue().<span class="hljs-keyword">get</span>(key);
        <span class="hljs-keyword">if</span> (user != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> user;
        }
        <span class="hljs-comment">// 2. ç¼“å­˜æœªå‘½ä¸­ï¼ŒæŸ¥æ•°æ®åº“</span>
        user = userMapper.getById(userId);
        <span class="hljs-keyword">if</span> (user != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// 3. ç¼“å­˜çƒ­ç‚¹æ•°æ®ï¼Œ5åˆ†é’Ÿè¿‡æœŸ</span>
            redisTemplate.opsForValue().<span class="hljs-keyword">set</span>(key, user, <span class="hljs-number">5</span>, TimeUnit.MINUTES);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// 4. ç¼“å­˜ç©ºå€¼ï¼Œ1åˆ†é’Ÿè¿‡æœŸï¼Œé¿å…ç©¿é€</span>
            redisTemplate.opsForValue().<span class="hljs-keyword">set</span>(key, new UserDTO(), <span class="hljs-number">1</span>, TimeUnit.MINUTES);
        }
        <span class="hljs-keyword">return</span> user;
    }
}
</code></pre>
<ol>
<li>
<ol>
<li>ç¼“å­˜çƒ­ç‚¹æ•°æ®ï¼šå°†æ¥å£çš„é«˜é¢‘æŸ¥è¯¢ç»“æœï¼ˆå¦‚ç”¨æˆ·ä¿¡æ¯ã€å•†å“è¯¦æƒ…ï¼‰ç¼“å­˜åˆ° Redisï¼Œè¿‡æœŸæ—¶é—´è®¾ä¸º 5-10 åˆ†é’Ÿï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="2">
<li>é¿å…ç¼“å­˜ç©¿é€ï¼šå¯¹ä¸å­˜åœ¨çš„ keyï¼ˆå¦‚æŸ¥è¯¢ä¸å­˜åœ¨çš„ç”¨æˆ·ï¼‰ï¼Œç¼“å­˜ç©ºå€¼ï¼ˆè¿‡æœŸæ—¶é—´ 1 åˆ†é’Ÿï¼‰ï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="3">
<li>ç¤ºä¾‹ï¼š</li>
</ol>
</li>
</ol>
<ul>
<li><strong>Redis é›†ç¾¤æ‰©å®¹</strong>ï¼šè‹¥ Redis å•å®ä¾‹è¿‡è½½ï¼Œéƒ¨ç½² Redis Clusterï¼ˆ3 ä¸» 3 ä»ï¼‰ï¼Œå°†æ•°æ®åˆ†ç‰‡å­˜å‚¨ï¼Œæå‡ååé‡ã€‚</li>
</ul>
<h4 data-id="heading-30">3. æ¶æ„å±‚ä¼˜åŒ–ï¼šä» â€œå•èŠ‚ç‚¹â€ åˆ° â€œåˆ†å¸ƒå¼â€</h4>
<h5 data-id="heading-31">ï¼ˆ1ï¼‰å¼‚æ­¥åŒ–ï¼šå°†åŒæ­¥è¯·æ±‚æ”¹ä¸ºå¼‚æ­¥</h5>
<p>å¯¹éå®æ—¶éœ€æ±‚ï¼ˆå¦‚æ—¥å¿—è®°å½•ã€çŸ­ä¿¡é€šçŸ¥ï¼‰ï¼Œç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆKafkaã€RabbitMQï¼‰å¼‚æ­¥å¤„ç†ï¼Œå‡å°‘æ¥å£åŒæ­¥è€—æ—¶ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">YourService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">KafkaTemplate</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">String</span>&gt; kafkaTemplate;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">ResultDTO</span> <span class="hljs-title function_">doBusiness</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// 1. æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆåŒæ­¥æ‰§è¡Œï¼Œå¿…é¡»å¿«é€Ÿå®Œæˆï¼‰</span>
        <span class="hljs-title class_">OrderDTO</span> order = <span class="hljs-title function_">createOrder</span>();
        
        <span class="hljs-comment">// 2. éæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆå¼‚æ­¥å‘é€åˆ°Kafkaï¼Œä¸é˜»å¡ä¸»æµç¨‹ï¼‰</span>
        <span class="hljs-title class_">String</span> logMsg = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">toJSONString</span>(order);
        kafkaTemplate.<span class="hljs-title function_">send</span>(<span class="hljs-string">"order-log-topic"</span>, logMsg); <span class="hljs-comment">// æ—¥å¿—è®°å½•</span>
        kafkaTemplate.<span class="hljs-title function_">send</span>(<span class="hljs-string">"sms-notify-topic"</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">toJSONString</span>(user)); <span class="hljs-comment">// çŸ­ä¿¡é€šçŸ¥</span>
        
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">ResultDTO</span>.<span class="hljs-title function_">success</span>(order);
    }
    
    <span class="hljs-comment">// Kafkaæ¶ˆè´¹ç«¯ï¼šå¼‚æ­¥å¤„ç†æ—¥å¿—å’ŒçŸ­ä¿¡</span>
    <span class="hljs-meta">@KafkaListener</span>(topics = <span class="hljs-string">"order-log-topic"</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">handleOrderLog</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> logMsg</span>) {
        <span class="hljs-title class_">OrderDTO</span> order = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parseObject</span>(logMsg, <span class="hljs-title class_">OrderDTO</span>.<span class="hljs-property">class</span>);
        logService.<span class="hljs-title function_">record</span>(order);
    }
    
    <span class="hljs-meta">@KafkaListener</span>(topics = <span class="hljs-string">"sms-notify-topic"</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">handleSmsNotify</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> userMsg</span>) {
        <span class="hljs-title class_">UserDTO</span> user = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parseObject</span>(userMsg, <span class="hljs-title class_">UserDTO</span>.<span class="hljs-property">class</span>);
        smsService.<span class="hljs-title function_">send</span>(user.<span class="hljs-title function_">getPhone</span>());
    }
}
</code></pre>
<h5 data-id="heading-32">ï¼ˆ2ï¼‰CDN åŠ é€Ÿï¼šé™æ€èµ„æºç¦»ç«™</h5>
<p>è‹¥æ¥å£è¿”å›é™æ€èµ„æºï¼ˆå¦‚å›¾ç‰‡ã€æ–‡æ¡£ï¼‰ï¼Œå°†é™æ€èµ„æºè¿ç§»åˆ° CDNï¼ˆå¦‚é˜¿é‡Œäº‘ CDNã€Cloudflareï¼‰ï¼Œç”¨æˆ·ç›´æ¥ä» CDN è·å–ï¼Œä¸ç»è¿‡ä¸šåŠ¡æ¥å£ï¼š</p>
<ul>
<li>ç¤ºä¾‹ï¼šæ¥å£åŸæœ¬è¿”å› â€œå•†å“è¯¦æƒ… + å•†å“å›¾ç‰‡ URLâ€ï¼Œä¼˜åŒ–åå›¾ç‰‡ URL æŒ‡å‘ CDN åœ°å€ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fcdn.your-domain.com%2Fimg%2F123.jpg" target="_blank" title="https://cdn.your-domain.com/img/123.jpg" ref="nofollow noopener noreferrer">cdn.your-domain.com/img/123.jpg</a>ï¼‰ï¼Œç”¨æˆ·è¯·æ±‚å›¾ç‰‡æ—¶ç›´æ¥è®¿é—® CDNï¼Œå‡è½»ä¸šåŠ¡æ¥å£å‹åŠ›ã€‚</li>
</ul>
<h3 data-id="heading-33">å››ã€ç¬¬å››æ­¥ï¼šé•¿æ•ˆé¢„é˜² â€”â€” é¿å…ä¸‹æ¬¡ QPS çªå¢æ—¶æ‰‹å¿™è„šä¹±</h3>
<p>ä¼˜åŒ–å®Œæˆåï¼Œéœ€å»ºç«‹é•¿æ•ˆæœºåˆ¶ï¼Œæå‰æ„ŸçŸ¥æµé‡å˜åŒ–ï¼Œé¿å…é‡å¤ â€œæ•‘ç«â€ï¼š</p>
<h4 data-id="heading-34">1. å®Œå–„ç›‘æ§å‘Šè­¦</h4>
<ul>
<li><strong>æ ¸å¿ƒæŒ‡æ ‡ç›‘æ§</strong>ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>æ¥å£ï¼šQPSã€å“åº”æ—¶é—´ï¼ˆP95/P99ï¼‰ã€é”™è¯¯ç‡ï¼›</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>åº”ç”¨ï¼šCPU ä½¿ç”¨ç‡ã€å†…å­˜ä½¿ç”¨ç‡ã€çº¿ç¨‹æ± æ´»è·ƒæ•°ã€GC æ¬¡æ•°ï¼›</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>æ•°æ®å±‚ï¼šæ•°æ®åº“æ…¢æŸ¥è¯¢æ•°ã€Redis å‘½ä¸­ç‡ã€è¿æ¥æ± ä½¿ç”¨ç‡ï¼›</li>
</ul>
</li>
</ul>

<ul>
<li><strong>å·¥å…·é€‰å‹</strong>ï¼šPrometheus+Grafana ç›‘æ§ï¼ŒAlertManager è®¾ç½®å‘Šè­¦é˜ˆå€¼ï¼ˆå¦‚ QPS&gt;800 å‘Šè­¦ã€å“åº”æ—¶é—´ P95&gt;200ms å‘Šè­¦ï¼‰ï¼Œé€šè¿‡çŸ­ä¿¡ / é’‰é’‰å®æ—¶é€šçŸ¥ã€‚</li>
</ul>
<h4 data-id="heading-35">2. å®šæœŸå‹æµ‹ä¸å®¹é‡è§„åˆ’</h4>
<ul>
<li><strong>å‹æµ‹</strong>ï¼šæ¯æœˆç”¨ JMeter/LoadRunner æ¨¡æ‹Ÿ QPS 1500ï¼ˆæ¯”å½“å‰å³°å€¼é«˜ 50%ï¼‰çš„æµé‡ï¼ŒéªŒè¯æ¥å£æ˜¯å¦ç¨³å®šï¼Œæå‰å‘ç°ç“¶é¢ˆï¼›</li>
</ul>

<ul>
<li><strong>å®¹é‡è§„åˆ’</strong>ï¼šæ ¹æ®å‹æµ‹ç»“æœï¼Œè®¡ç®—æœåŠ¡å™¨ã€æ•°æ®åº“ã€Redis çš„æ‰¿è½½ä¸Šé™ï¼Œå¦‚ â€œ10 ä¸ªåº”ç”¨å®ä¾‹ + 2 ä¸» 4 ä»æ•°æ®åº“ + Redis Clusterâ€ å¯æ”¯æ’‘ QPS 2000ï¼Œæå‰æ‰©å®¹åˆ°ç›®æ ‡å®¹é‡ã€‚</li>
</ul>
<h4 data-id="heading-36">3. ç°åº¦å‘å¸ƒä¸æµé‡æ§åˆ¶</h4>
<ul>
<li><strong>ç°åº¦å‘å¸ƒ</strong>ï¼šæ–°åŠŸèƒ½ä¸Šçº¿æ—¶ï¼Œå…ˆå¯¹ 10% ç”¨æˆ·å¼€æ”¾ï¼Œè§‚å¯Ÿ QPS å’Œå“åº”æ—¶é—´ï¼Œæ— é—®é¢˜å†å…¨é‡ï¼›</li>
</ul>

<ul>
<li><strong>æµé‡åˆ‡æ¢</strong>ï¼šåœ¨ç½‘å…³å±‚é…ç½®æµé‡åˆ‡æ¢è§„åˆ™ï¼Œè‹¥æŸæœåŠ¡å®ä¾‹å¼‚å¸¸ï¼Œè‡ªåŠ¨å°†æµé‡åˆ‡æ¢åˆ°å…¶ä»–å®ä¾‹ï¼Œé¿å…å•ç‚¹æ•…éšœã€‚</li>
</ul>
<h3 data-id="heading-37">æ¡ˆä¾‹å¤ç›˜ï¼šæŸç”µå•†è®¢å•æ¥å£ QPS çªå¢ä¼˜åŒ–</h3>
<h4 data-id="heading-38">1. é—®é¢˜åœºæ™¯</h4>
<ul>
<li>åˆå§‹çŠ¶æ€ï¼šè®¢å•æ¥å£ QPS 100ï¼Œå“åº”æ—¶é—´ 50msï¼›</li>
</ul>

<ul>
<li>çªå¢åï¼šæ´»åŠ¨æ¨å¹¿å¯¼è‡´ QPS 1200ï¼Œå“åº”æ—¶é—´ 600msï¼Œå¤§é‡è¶…æ—¶ï¼›</li>
</ul>

<ul>
<li>æ ¹å› ï¼š</li>
</ul>
<ol>
<li>
<ol>
<li>è®¢å•æŸ¥è¯¢æœªåŠ ç´¢å¼•ï¼Œå…¨è¡¨æ‰«æï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="2">
<li>æ¥å£åŒæ­¥è°ƒç”¨çŸ­ä¿¡å’Œæ—¥å¿—æœåŠ¡ï¼Œè€—æ—¶ 300msï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="3">
<li>åº”ç”¨çº¿ç¨‹æ± æ ¸å¿ƒçº¿ç¨‹æ•°ä»… 20ï¼Œä»»åŠ¡æ’é˜Ÿè¶… 500 ä¸ªã€‚</li>
</ol>
</li>
</ol>
<h4 data-id="heading-39">2. ä¼˜åŒ–æ­¥éª¤</h4>
<ol>
<li>åº”æ€¥ï¼šç½‘å…³é™æµ 1500 QPSï¼Œé™çº§çŸ­ä¿¡æœåŠ¡ï¼Œå“åº”æ—¶é—´é™è‡³ 200msï¼›</li>
</ol>

<ol start="2">
<li>æ ¹å› ä¼˜åŒ–ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>åŠ è®¢å•æŸ¥è¯¢ç´¢å¼•ï¼Œè€—æ—¶ä» 300ms é™è‡³ 50msï¼›</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>çŸ­ä¿¡å’Œæ—¥å¿—æ”¹ä¸º Kafka å¼‚æ­¥å¤„ç†ï¼Œå‡å°‘ 250msï¼›</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>çº¿ç¨‹æ± æ ¸å¿ƒçº¿ç¨‹æ•°è°ƒè‡³ 120ï¼Œè§£å†³æ’é˜Ÿé—®é¢˜ï¼›</li>
</ul>
</li>
</ul>
<ol start="3">
<li>é•¿æ•ˆé¢„é˜²ï¼šç›‘æ§ QPS å’Œå“åº”æ—¶é—´ï¼Œå‹æµ‹éªŒè¯ QPS 2000 ç¨³å®šã€‚</li>
</ol>
<h4 data-id="heading-40">3. ä¼˜åŒ–æ•ˆæœ</h4>
<ul>
<li>QPS 1200 æ—¶ï¼Œå“åº”æ—¶é—´ç¨³å®šåœ¨ 80ms ä»¥å†…ï¼›</li>
</ul>

<ul>
<li>é”™è¯¯ç‡ä» 15% é™è‡³ 0.1%ï¼›</li>
</ul>

<ul>
<li>æ”¯æŒ QPS 2000 çš„å³°å€¼æµé‡ï¼Œæ— è¶…æ—¶ã€‚</li>
</ul>
<h3 data-id="heading-41">æ€»ç»“ï¼šQPS çªå¢ä¼˜åŒ–çš„æ ¸å¿ƒé€»è¾‘</h3>
<ol>
<li><strong>åº”æ€¥ä¼˜å…ˆ</strong>ï¼šé™æµã€é™çº§ã€æ‰©å®¹å¿«é€Ÿæ­¢è¡€ï¼Œå…ˆä¿æ ¸å¿ƒä¸šåŠ¡å¯ç”¨ï¼›</li>
</ol>

<ol start="2">
<li><strong>åˆ†å±‚æ’æŸ¥</strong>ï¼šä»åº”ç”¨åˆ°æ•°æ®å†åˆ°ä¾èµ–ï¼Œç”¨å·¥å…·å®šä½ç“¶é¢ˆï¼Œä¸å‡­æ„Ÿè§‰ä¼˜åŒ–ï¼›</li>
</ol>

<ol start="3">
<li><strong>é’ˆå¯¹æ€§ä¼˜åŒ–</strong>ï¼šä»£ç ä½æ•ˆå°±ä¼˜åŒ–é€»è¾‘ï¼Œæ•°æ®åº“æ…¢å°±åŠ ç´¢å¼•ï¼Œèµ„æºä¸å¤Ÿå°±æ‰©å®¹ï¼Œæ¶æ„ç“¶é¢ˆå°±å¼‚æ­¥åŒ– / åˆ†å¸ƒå¼ï¼›</li>
</ol>

<ol start="4">
<li><strong>é•¿æ•ˆé¢„é˜²</strong>ï¼šç›‘æ§å‘Šè­¦æå‰æ„ŸçŸ¥ï¼Œå‹æµ‹è§„åˆ’æå‰æ‰©å®¹ï¼Œé¿å…é‡å¤ â€œæ•‘ç«â€ã€‚</li>
</ol>
<p>è®°ä½ï¼šQPS çªå¢ä¸æ˜¯ â€œç¾éš¾â€ï¼Œè€Œæ˜¯ä¼˜åŒ–ç³»ç»Ÿçš„å¥‘æœº â€”â€” æ¯ä¸€æ¬¡æµé‡å³°å€¼ï¼Œéƒ½èƒ½è®©æ¥å£æ›´å¥å£®ï¼Œæ¶æ„æ›´åˆç†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Gemini 3.0 å‘å¸ƒï¼]]></title>    <link>https://juejin.cn/post/7576052677051318298</link>    <guid>https://juejin.cn/post/7576052677051318298</guid>    <pubDate>2025-11-24T09:57:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576052677051318298" data-draft-id="7576052677051219994" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Gemini 3.0 å‘å¸ƒï¼"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹,Gemini"/> <meta itemprop="datePublished" content="2025-11-24T09:57:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜é±¼çš®"/> <meta itemprop="url" content="https://juejin.cn/user/2444938365386621"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Gemini 3.0 å‘å¸ƒï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2444938365386621/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜é±¼çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T09:57:40.000Z" title="Mon Nov 24 2025 09:57:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç¨‹åºå‘˜è€é±¼çš®~</p>
<p>æ¥çœ‹çœ‹ç°åœ¨çš„ AI æœ‰å¤šç¦»è°±ï¼</p>
<p>1ï¼‰è®¾è®¡åŸå‹å›¾ï¼š1 å¥è¯å‡ åç§’ï¼Œéšä¾¿åšä¸ªäº¿çº§æµé‡çš„äº§å“åŸå‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96487dc7c3b94a11ae0bc7711039c3fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764583060&amp;x-signature=YK5FND%2F%2BEHwKQqt9OjYiypbpg8c%3D" alt="" loading="lazy"/></p>
<p>åš¯ï¼Œè¿™ä¸ªè¿˜åŸåº¦ï¼</p>
<p>2ï¼‰ä¼ä¸šçº§ç½‘ç«™ï¼š1 å¥è¯å¤åˆ»å„ç§ä¼ä¸šçº§ç½‘ç«™ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97b00775fb874348a100210acb3e5fc3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764583060&amp;x-signature=4C3gLFZ6tYVdyOI9%2FP2U%2BNgcCoA%3D" alt="" loading="lazy"/></p>
<p>çœŸçš„æ˜¯å„ç§â€¦â€¦</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7aaad8a1abc4ae2bc1dac8621663398~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764583060&amp;x-signature=NF%2FNkQ8oCgpIpfuAJkE3slwQQb0%3D" alt="" loading="lazy"/></p>
<p>3ï¼‰3D åŠ¨ç”»ç‰¹æ•ˆç½‘ç«™ï¼š1 å¥è¯åˆ¶ä½œå¤æ‚çš„ 3D åŠ¨ç”»ç‰¹æ•ˆç½‘ç«™ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8d3af2b600241a9a80b747a692fdf0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764583060&amp;x-signature=JMquilIfjf6onsKdSsIOBxbJdwQ%3D" alt="" loading="lazy"/></p>
<p>è¿™ç»™æˆ‘ä¸€ä¸ªæœˆä¹Ÿåšä¸å‡ºæ¥å•Šï¼</p>
<p>4ï¼‰ç”Ÿæ´»å†™å®ç½‘ç«™ï¼š1 å¥è¯è¿˜åŸå„ç§ç”Ÿæ´»åœºæ™¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18c8138a539841a3860e1e99220e5f1b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764583060&amp;x-signature=dhVBX2je2M%2BJiMFY5BVbKHhjSUg%3D" alt="" loading="lazy"/></p>
<p>ä½ åˆ«è¯´ï¼Œè¿˜æŒºæš–å’Œï¼Œä¸çŸ¥é“å¤§å®¶éš”ç€å±å¹•èƒ½ä¸èƒ½æ„Ÿå—åˆ°ï¼Ÿ</p>
<p>5ï¼‰æ¸¸æˆç½‘ç«™ï¼šè¿˜å¯ä»¥ä¸€å¥è¯å¤åˆ»æˆ‘ç«¥å¹´æœ€å–œæ¬¢çš„æ¸¸æˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75b2a6fc36a54231a2c9f742661aaf4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764583060&amp;x-signature=k6LzKuqq1g0Mh7f46Y7iVDHjxWI%3D" alt="" loading="lazy"/></p>
<p>è¿™æˆ‘ç©¿è¶Šå›å»ä¸å¾—èµšéº»äº†ï¼Ÿ</p>
<p>6ï¼‰å®ç”¨å·¥å…·ï¼šå°åˆ°åšä¸ªå®ç”¨å·¥å…·ã€å¤§åˆ°åšä¸ªé«˜ä»¿ç‰ˆçš„æ“ä½œç³»ç»Ÿï¼Œé€šé€šä¸åœ¨è¯ä¸‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/396a156f7c774e20a1d75f393bb386ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764583060&amp;x-signature=Vj7XY%2FcpaykraMDfp5%2FfS7tErk8%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32ae2240a3504499b1cac707b2749603~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764583060&amp;x-signature=8SMxYsuu4VFG06O1IT7f9yrgyrg%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">å¦‚ä½•ä½¿ç”¨ï¼Ÿ</h2>
<p>è¿™å°±æ˜¯åˆšåˆšè°·æ­Œæœ€æ–°å‘å¸ƒçš„ Gemini 3 å¤§æ¨¡å‹ï¼Œä¸ä»…ä»æ•°æ®ä¸Šæ–­å±‚é¢†å…ˆå…¶ä»–ç«äº‰å¯¹æ‰‹ï¼Œè€Œä¸”åœ¨å‰ç«¯ç¼–å†™ç½‘ç«™çš„èƒ½åŠ›ä¸Šä¹Ÿæ˜¯è‚‰çœ¼å¯è§çš„æå‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a8a87438969408197edd612b396ca43~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764583060&amp;x-signature=GelWZnappcL%2B9Tl2jQSFMER9OC8%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¹ˆå¼ºå¤§çš„æ¨¡å‹ç°åœ¨ç«Ÿç„¶æ˜¯å¯ä»¥å…è´¹ä½¿ç”¨çš„ï¼ç›´æ¥åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgemini.google.com%2F" target="_blank" title="https://gemini.google.com/" ref="nofollow noopener noreferrer">Gemini å®˜ç½‘</a>ï¼Œé€‰æ‹©æ€è€ƒæ¨¡å‹ï¼Œç„¶åæ ¹æ®éœ€æ±‚é€‰æ‹©ç›¸åº”çš„èƒ½åŠ›å°±å¯ä»¥äº†ã€‚æ”¯æŒåšå›¾ç‰‡ã€åšç½‘ç«™ã€å­¦ä¹ è¾…å¯¼ã€å›¾æ–‡åˆ›ä½œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/013f1dfdacbe41e29506f86e0da24d55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764583060&amp;x-signature=qV4bpNt%2Fsx0U8DzoiUbRXEnF870%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä½ è¦åšå¤æ‚çš„é¡¹ç›®ï¼Œå¯ä»¥ç”¨å®ƒä»¬åˆšåˆšå‘å¸ƒçš„ AI ç¼–ç¨‹å·¥å…· <a href="https://link.juejin.cn?target=https%3A%2F%2Fantigravity.google%2F" target="_blank" title="https://antigravity.google/" ref="nofollow noopener noreferrer">Antigravity</a>ï¼Œè·Ÿ Cursorã€TRAE ä»€ä¹ˆçš„ç±»ä¼¼ï¼Œä¸è¿‡ç°åœ¨å¯ä»¥å…è´¹ä½¿ç”¨ Gemini 3ã€Claude 4.5 ç­‰é«˜çº§æ¨¡å‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ad12be3615c418da405c91c8ee11c00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764583060&amp;x-signature=lisJFEKOkKS1Mg1goZUtEirXM%2Fc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">å‰ç«¯å·²æ­»ï¼Ÿ</h2>
<p>è¿™æ¬¡ Gemini æ›´æ–°åï¼Œç½‘ä¸Šå¾ˆå¤šæœ‹å‹è¯´ï¼ŒAI è¿™ä¹ˆå‰å®³ï¼Œå‰ç«¯å·²æ­»å•Šï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fafefd10e48f4fa0abfb0e849074fffb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764583060&amp;x-signature=t1rbVcR%2BKqydV4Ju69Ql6WpSdA8%3D" alt="" loading="lazy"/></p>
<p>å•çœ‹è¿™æ¬¡æ›´æ–°æˆ‘è§‰å¾—çœŸä¸è‡³äºï¼Œè™½ç„¶çœ‹åˆ° Gemini 3 ç”Ÿæˆå•ä¸ªé¡µé¢çš„èƒ½åŠ›æŒºå¼ºã€æŒºå”¬äººï¼Œä½†ä¼ä¸šé¡¹ç›®å¯ä¸æ˜¯ä¸€ä¸¤å¥å£è¯­å°±èƒ½æå®šçš„ã€‚</p>
<p>æˆ‘è‡ªå·±ä¹Ÿæµ‹è¯•äº†ä¸€ä¸‹ï¼Œç”¨ç›¸åŒçš„æç¤ºè¯ï¼Œä½¿ç”¨ Gemini 3 æ¨¡å‹å’Œ Claude 4.5 æ¨¡å‹å¼€å‘ä¸€ä¸ªå®Œæ•´çš„å‰åç«¯é¡¹ç›®ã€Šå›¾ç‰‡å‹ç¼©å·¥å…·ã€‹ç½‘ç«™ï¼Œå¯¹æ¯”ä¸‹æ¥æ„Ÿè§‰ Gemini 3 æ— è®ºæ˜¯è´¨é‡è¿˜æ˜¯é€Ÿåº¦éƒ½ç•¥é€Šä¸€ç­¹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0e9072916b54c278485b6b4b7f3d88f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764583060&amp;x-signature=kpZv%2Bom%2FI0%2F2Dzi9F8ODtxv4vwQ%3D" alt="" loading="lazy"/></p>
<p>ä¸è¿‡ AI ç¼–ç¨‹çš„èƒ½åŠ›è¶Šæ¥è¶Šå¼ºï¼Œè¿™æ˜¯å¿…ç„¶è¶‹åŠ¿ã€‚æ— è®ºæ˜¯æˆ‘ä»¬å›¢é˜Ÿã€è¿˜æ˜¯èº«è¾¹çš„ç¨‹åºå‘˜æœ‹å‹ï¼Œéƒ½è¶Šæ¥è¶Šä¾èµ– AI å»å†™ä»£ç ï¼Œå°¤å…¶æ˜¯å‰ç«¯ä»£ç ã€‚</p>
<p>ä»¥å‰è´¹åŠ›å†™ä¸€å‘¨çš„å·¥ä½œï¼Œç°åœ¨æ‘¸é±¼åŠå°æ—¶æå®šã€‚</p>
<p><strong>ä½†æˆ‘è§‰å¾—ï¼Œè¿™ç§å˜åŒ–åè€Œä¸æ˜¯è®©å‰ç«¯æ­»äº†ï¼Œè€Œæ˜¯è¿›åŒ–äº†ã€‚</strong></p>
<p>ç°åœ¨ç¨‹åºå‘˜çš„è§’è‰²å·²ç»è½¬å˜äº†ï¼Œä¸å†æ˜¯è‡ªå·±å†™ä»£ç çš„ç å†œï¼Œè€Œæ˜¯è¦ä¼šå†™é«˜è´¨é‡çš„æç¤ºè¯ï¼Œæœ‰æ–¹æ¡ˆè®¾è®¡å’Œæ•´ä½“æ¶æ„èƒ½åŠ›ï¼Œèƒ½æœ‰æ•ˆæŒ‡å¯¼ AI å¹²æ´»ï¼Œå‡ºäº†é—®é¢˜èƒ½å¿«é€Ÿæ°æ‰¯è¿‡æ¥ï¼Œè¿™æ‰æ˜¯æ ¸å¿ƒç«äº‰åŠ›ã€‚</p>
<p>è€Œä¸”ä½ æƒ³å•Šï¼Œè€æ¿å³ä½¿æœ‰äº† AIï¼Œè¿˜æ˜¯ä¸ä¼šè‡ªå·±æ¥æé¡¹ç›®çš„ã€‚æœ‰äº›è€æ¿å¯èƒ½è‡ªå·±å…ˆç”¨ AI ç”Ÿæˆä¸ª Demo è¯•è¯•ï¼Œä½†é‚£ä¹Ÿåªæ˜¯å‡å°‘äº†è¯•é”™æˆæœ¬ï¼Œé¡¹ç›®çœŸçš„ç«äº†è¿˜æ˜¯å¾—æ‹›äººæ¥å¹²ã€‚è€Œä¸”æœ€ä¸»è¦çš„ï¼Œå‡ºäº†äº‹æƒ…ä½ å¾—éœ€è¦äººæ¥èƒŒé”…å§ï¼Ÿ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/571a27cec65a4f11a0e975360e7ba00e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764583060&amp;x-signature=jPxf%2FtlO8GmSpKwmcaxPsl7Ht0g%3D" alt="" loading="lazy"/></p>
<p>æ‰€ä»¥æˆ‘è§‰å¾—å¤§å®¶è¿˜æ˜¯ç†æ€§çœ‹å¾… â€œå‰ç«¯å·²æ­»è®ºâ€ å§ï¼Œè™½ç„¶ AI æ˜¯ä¼šå¯¹è¡Œä¸šæœ‰å†²å‡»çš„ï¼Œå°¤å…¶æ˜¯ â€œåªä¼šå†™ä»£ç â€ çš„åˆçº§å²—ä½ï¼Œä½†æŠ€æœ¯å˜é©åŒæ ·ä¹Ÿä¼šåˆ›é€ æ–°æœºä¼šã€‚æ— è®ºä½ æ˜¯å‰ç«¯è¿˜æ˜¯å…¶ä»–æ–¹å‘çš„ç¨‹åºå‘˜ï¼Œä¼šç”¨ AI å·¥å…·ã€ç”¨å¥½ AIã€å¤šæ‹“å®½çŸ¥è¯†é¢ï¼Œå°½é‡åšåˆ° T å‹å‘å±•ï¼Œæ‰æ˜¯æœ€é‡è¦çš„ã€‚</p>
<p>æœ€åå†æ¨èä¸€ä¸ª <a href="https://link.juejin.cn?target=https%3A%2F%2Fai.codefather.cn%2F" target="_blank" title="https://ai.codefather.cn/" ref="nofollow noopener noreferrer">å­¦ AIã€æ‰¾ AI èµ„æºå¾ˆæ–¹ä¾¿çš„ç½‘ç«™</a>ï¼Œå®Œå…¨å…è´¹ï¼ŒæŒ‰éœ€è‡ªå–~</p>
<h2 data-id="heading-2">æ›´å¤š</h2>
<p>ğŸ’» ç¼–ç¨‹å­¦ä¹ äº¤æµï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fcode-nav" target="_blank" title="https://github.com/liyupi/code-nav" ref="nofollow noopener noreferrer">ç¼–ç¨‹å¯¼èˆª</a> ğŸ“ƒ ç®€å†å¿«é€Ÿåˆ¶ä½œï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Flaoyujianli" target="_blank" title="https://github.com/liyupi/laoyujianli" ref="nofollow noopener noreferrer">è€é±¼ç®€å†</a> âœï¸ é¢è¯•åˆ·é¢˜ç¥å™¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fmianshiya" target="_blank" title="https://github.com/liyupi/mianshiya" ref="nofollow noopener noreferrer">é¢è¯•é¸­</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Day 13ï¼šä¸ªäººå¼€å‘è€…çš„ Cloudflare é€šå…³æŒ‡å—-R2å¯¹è±¡å­˜å‚¨æ­å»ºé«˜é€Ÿå…è´¹å›¾åºŠ]]></title>    <link>https://juejin.cn/post/7576057623741972522</link>    <guid>https://juejin.cn/post/7576057623741972522</guid>    <pubDate>2025-11-24T08:02:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576057623741972522" data-draft-id="7576026767371419667" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Day 13ï¼šä¸ªäººå¼€å‘è€…çš„ Cloudflare é€šå…³æŒ‡å—-R2å¯¹è±¡å­˜å‚¨æ­å»ºé«˜é€Ÿå…è´¹å›¾åºŠ"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-11-24T08:02:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”³é˜³"/> <meta itemprop="url" content="https://juejin.cn/user/4353721775165486"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Day 13ï¼šä¸ªäººå¼€å‘è€…çš„ Cloudflare é€šå…³æŒ‡å—-R2å¯¹è±¡å­˜å‚¨æ­å»ºé«˜é€Ÿå…è´¹å›¾åºŠ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4353721775165486/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”³é˜³
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:02:09.000Z" title="Mon Nov 24 2025 08:02:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e140a12ddeb48179641c79eb7867399~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=90%2FHLAh%2BUrBZeFsirXEaB8ME4w8%3D" alt="image-20251118150054298" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<p>å¯¹äºä¸ªäººå¼€å‘è€…è€Œè¨€ï¼Œæˆ‘ä»¬ä¼¼ä¹æ°¸è¿œä¹Ÿç»•ä¸å¼€ <strong>Cloudflare</strong> ã€‚</p>
<p>ä»–å·²ç»ä¸å†æ˜¯ä¸€ä¸ªç®€å•çš„<strong>CDN</strong>æœåŠ¡å•†ï¼Œ<strong>Cloudflare</strong> ä¸ºä¸ªäººå¼€å‘è€…æä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·é›†ï¼Œé™æ€ç«™ç‚¹æ‰˜ç®¡ã€<strong>CDN</strong> åŠ é€ŸæœåŠ¡ã€åŸŸåå’Œ <strong>DNS</strong> ç®¡ç†ã€åŸºç¡€å®‰å…¨é˜²æŠ¤ã€æµé‡åˆ†æã€å¯¹è±¡å­˜å‚¨ç­‰ç­‰ã€‚æœ€é‡è¦çš„æ˜¯å¾ˆå¤šåŠŸèƒ½åœ¨<strong>å…è´¹è®¡åˆ’</strong>ä¸­å°±èƒ½ä½¿ç”¨ã€‚</p>
<p>æ­£å¦‚å®˜ç½‘ä»‹ç»æ‰€è¯´çš„é‚£æ ·ï¼Œ<strong>Cloudflare</strong> æ˜¯ä¸ºâ€œæ— å¤„ä¸åœ¨çš„ä¸–ç•Œâ€æ‰“é€ çš„äº‘ï¼Œæ˜¯ä¸€ç«™å¼ç½‘ç»œã€å®‰å…¨å’Œå¼€å‘äººå‘˜æœåŠ¡çš„å¹³å°ã€‚</p>
<p>å®˜ç½‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cloudflare-cn.com%2F" target="_blank" title="https://www.cloudflare-cn.com/" ref="nofollow noopener noreferrer">www.cloudflare-cn.com/</a></p>
<h2 data-id="heading-1">äºŒã€ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å›¾åºŠï¼Ÿ</h2>
<blockquote>
<p>ä¸€ä¸ªç¨³å®šçš„å›¾åºŠå¯¹äºæˆ‘ä»¬ä¸ªäººå¼€å‘ï¼Œæˆ–è€…ç»å¸¸å†™åšå®¢çš„äººæ¥è¯´æ˜¯æå…¶é‡è¦çš„ï¼Œä½ æ˜¯å¦ä¹Ÿç¢°åˆ°è¿‡<strong>ä»¥ä¸‹ç±»ä¼¼æƒ…å†µï¼š</strong></p>
</blockquote>
<h3 data-id="heading-2">2.1. åœ¨ç”µè„‘ä¸Šå†™äº†å¾ˆå¤šåšå®¢ï¼Œä½†æ˜¯å›¾ç‰‡èµ„æºæ•£è½åœ¨ç”µè„‘ä¸Šå„ä¸ªè§’è½ï¼Œè¿ç§»æ—¶è‹¦ä¸å ªè¨€</h3>
<p>æ‰€ä»¥ä½ å­¦ä¼šäº†å½’çº³æ•´ç†ï¼Œå®Œæˆäº†è¿›åŒ–ï¼Œå°†æ‰€æœ‰ç›¸å…³èµ„æºæ”¾åœ¨åŒçº§ç›®å½•ä¸‹ï¼Œä¸»è¦åœ¨ç”µè„‘ä¸Šè¿ç§»ï¼Œæˆ–è€…éƒ¨ç½²é™æ€ç«™ç‚¹çš„æ—¶å€™ä¹Ÿå¯ä»¥å¾ˆæ–¹ä¾¿çš„è¯»å–åˆ°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49338657e2a74ea194841468c7169144~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=sFPGjqWmGE5YcAOrf312GAFUsPU%3D" alt="image-20251120141203922" loading="lazy"/></p>
<h3 data-id="heading-3">2.2. çªç„¶æœ‰ä¸€å¤©ä½ å†³å®šå°†è‡ªå·±çš„æˆæœå±•ç¤ºå‡ºæ¥ï¼Œåœ¨å„ä¸ªå¹³å°ä¸Šå‘å¸ƒï¼Œé‡æ–°ä¸Šä¼ å›¾ç‰‡ä¸Šä¼ åˆ°å´©æºƒ</h3>
<p>è¿™ä¸ªæ—¶å€™å¹³å°æ˜¯æ²¡åŠæ³•æ£€æµ‹å¯¼å…¥ä½ æœ¬åœ°çš„å›¾ç‰‡çš„ï¼Œé‚£ä¹ˆä½ å¦‚æœæƒ³è¦åœ¨å„ä¸ªå¹³å°ä¸Šå‘å¸ƒï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨å°†æ¯ä¸ªå›¾ç‰‡éƒ½é‡æ–°ä¸Šä¼ ä¸€ä¸‹ã€‚è¿™ç§æƒ…å†µä¸‹å¦‚æœæ¯ä¸ªå¹³å°éƒ½æ‰‹åŠ¨ä¼ ä¸€æ¬¡ï¼Œäººéƒ½è¦å´©æºƒäº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9d1890ed73a4fa7add81da1ee19f603~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=y83gg5QlgjG84DeebMoiDZcRP8A%3D" alt="image-20251120141924314" loading="lazy"/></p>
<blockquote>
<p>è¿™ä¸ªæ—¶å€™å¦‚æœæœ‰ä¸€ä¸ªç¨³å®šçš„å›¾åºŠï¼Œåœ¨æˆ‘ä»¬å†™åšå®¢çš„æ—¶å€™ï¼Œç²˜è´´å›¾ç‰‡åï¼Œè‡ªåŠ¨å°†å›¾ç‰‡ä¸Šä¼ åˆ°å›¾åºŠæœåŠ¡å™¨ä¸Šï¼Œé‚£ä¹ˆæ— è®ºæˆ‘ä»¬æ€ä¹ˆæŠ˜è…¾ï¼Œåªè¦æœåŠ¡å™¨ä¸è¹¦ï¼Œå°±å¯ä»¥ä¸ºæ‰€æ¬²ä¸ºäº†ã€‚</p>
</blockquote>
<h2 data-id="heading-4">ä¸‰ã€åŸºäº R2 å¯¹è±¡å­˜å‚¨æ­å»ºé«˜é€Ÿå…è´¹å›¾åºŠ</h2>
<h3 data-id="heading-5">3.1. è´¹ç”¨ä»‹ç»</h3>
<p>å›¾åºŠçš„é€‰åˆ™æœ‰å¾ˆå¤šï¼Œå¯¹äºä¸ªäººæ¥è®²ï¼Œåœ¨ç¨³å®šå’Œæˆæœ¬ä¸­é—´å–ä¸€ä¸ªå¹³è¡¡ï¼Œæˆ‘è¿˜æ˜¯æ¯”è¾ƒæ¨èå®ç”¨ <code>R2</code> å¯¹è±¡å­˜å‚¨æ¥æ„å»ºã€‚å½“ç„¶å›½å†…é˜¿é‡Œäº‘å’Œè…¾è®¯äº‘éƒ½æä¾›äº†å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œå¹¶ä¸”ä¹Ÿç»™å‡ºäº†ä¸€äº›å…è´¹é¢åº¦ï¼Œè½»é‡ä½¿ç”¨ä¸‹å‡ ä¹ç­‰äºå…è´¹ã€‚ä½†æ˜¯å¯¹äºå¤–ç½‘æµé‡ä»–æ˜¯å•ç‹¬è®¡è´¹çš„ï¼Œæ‰€ä»¥å¦‚æœä½¿ç”¨ä¸€å®šè¦åšå¥½æµé‡ç›‘æ§ï¼Œé¿å…ç›—åˆ·é£é™©ã€‚å½“ç„¶è¿™äº›éƒ½æ˜¯é¢˜å¤–è¯ï¼Œè¿™é‡Œé‡ç‚¹ä»‹ç»ä¸€ä¸‹ R2 å¯¹è±¡å­˜å‚¨çš„è®¡è´¹æ–¹å¼ã€‚æ›´ç»†èŠ‚çš„å®šä»·çœ‹è¿™é‡Œï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.cloudflare.com%2Fr2%2Fpricing%2F" target="_blank" title="https://developers.cloudflare.com/r2/pricing/" ref="nofollow noopener noreferrer">developers.cloudflare.com/r2/pricing/</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a90ec553e854053905154c5f584491f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=UCJCgq7hGjZHOv3hiRbgZmX4qlw%3D" alt="image-20251120144345844" loading="lazy"/></p>
<p>å¯ä»¥çœ‹å‡ºç»™å‡ºçš„å…è´¹é¢åº¦å®Œå…¨å¤Ÿæˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨äº†ã€‚</p>
<p>å¦‚æœå•çº¯å­˜åšå®¢å›¾ç‰‡èµ„æºï¼Œç»°ç»°æœ‰ä½™äº†ã€‚</p>
<p><strong>A ç±»æ“ä½œ</strong>ï¼Œä½ å¯ä»¥ç®€å•ç†è§£ä¸ºï¼Œä¸€äº›å˜æ›´æ“ä½œ <code>ListBuckets</code>, <code>PutBucket</code>, <code>ListObjects</code>, <code>PutObject</code>, <code>CopyObject</code>, <code>CompleteMultipartUpload</code>, <code>CreateMultipartUpload</code>, <code>LifecycleStorageTierTransition</code>, <code>ListMultipartUploads</code>, <code>UploadPart</code>, <code>UploadPartCopy</code>, <code>ListParts</code>, <code>PutBucketEncryption</code>, <code>PutBucketCors</code> and <code>PutBucketLifecycleConfiguration</code>ã€‚</p>
<p><strong>B ç±»æ“ä½œ</strong> åˆ™æ˜¯æŸ¥çœ‹ <code>HeadBucket</code>, <code>HeadObject</code>, <code>GetObject</code>, <code>UsageSummary</code>, <code>GetBucketEncryption</code>, <code>GetBucketLocation</code>, <code>GetBucketCors</code> and <code>GetBucketLifecycleConfiguration</code>.ã€‚</p>
<p>åˆ é™¤æ“ä½œå®Œå…¨å…è´¹ <code>DeleteObject</code>, <code>DeleteBucket</code> and <code>AbortMultipartUpload</code>.</p>
<p>æœ€é‡è¦çš„ä¸€ç‚¹ï¼Œå‡ºå£æµé‡å…è´¹ï¼Œè¿™æ— ç–‘æ˜¯æœ€å¸å¼•æˆ‘çš„ç‚¹ã€‚</p>
<blockquote>
<p>è¿™é‡Œæœ‰ä¸€ç‚¹è¦æé†’ä¸€ä¸‹ï¼Œé™¤äº†ä¸Šè¿°è¯´æ˜å¤–ï¼Œå¯¹äº <code>Infrequent Access storage</code> éé¢‘ç¹è®¿é—®å­˜å‚¨ï¼Œè®¿é—®æ˜¯æ”¶è´¹çš„ï¼Œä¼šæœ‰ä¸€ä¸ªæ£€ç´¢è´¹ç”¨ï¼Œæ‰€ä»¥å¦‚æœæ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œä½¿ç”¨é»˜è®¤çš„ <code>Standard storage</code> æ ‡å‡†å­˜å‚¨å°±è¡Œã€‚</p>
</blockquote>
<h3 data-id="heading-6">3.2. æ³¨å†Œè´¦å·ï¼Œå¼€é€šR2å¯¹è±¡å­˜å‚¨æœåŠ¡</h3>
<ul>
<li>é¦–å…ˆè®¿é—®å®˜ç½‘ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cloudflare-cn.com%2F%25EF%25BC%258C%25E6%25B3%25A8%25E5%2586%258C%25E8%25B4%25A6%25E5%258F%25B7%25EF%25BC%258C%25E7%2599%25BB%25E5%25BD%2595%25E3%2580%2582" target="_blank" title="https://www.cloudflare-cn.com/%EF%BC%8C%E6%B3%A8%E5%86%8C%E8%B4%A6%E5%8F%B7%EF%BC%8C%E7%99%BB%E5%BD%95%E3%80%82" ref="nofollow noopener noreferrer">www.cloudflare-cn.com/ï¼Œæ³¨å†Œè´¦å·ï¼Œç™»å½•ã€‚</a></li>
<li>å¼€é€š R2 å­˜å‚¨æœåŠ¡ï¼Œæ·»åŠ ä»˜æ¬¾æ–¹å¼ï¼Œå¡«å†™å¥½å¸å•é‚®å¯„åœ°å€ï¼Œå®Œæˆåç‚¹å‡»â€œå°† R2 è®¢é˜…æ·»åŠ åˆ°æˆ‘çš„è´¦æˆ·â€å³å¯</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40d7116a44ea41c983f6423395a0a05d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=c2A7pr%2FAl0JTqmYjqCzaf2WJsq4%3D" alt="image-20251120151403341" loading="lazy"/></p>
<blockquote>
<p>æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯ <strong>PayPal</strong> è´¦æˆ·ï¼Œäº²æµ‹æ™®é€šçš„é“¶è”å‚¨è“„å¡å³å¯ï¼Œç»‘ä¸ªä¸å¸¸ç”¨çš„å¡å°±è¡Œï¼Œé‡Œé¢è½¬ä¸ªå‡ å—é’±å°±å¯ä»¥äº†ã€‚åªæœ‰å½“ä½ ä½¿ç”¨é‡è¶…è¿‡æ¯æœˆé™é¢æ—¶ï¼Œè¶…é¢éƒ¨åˆ†æ‰ä¼šæ”¶è´¹ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ec5b39e00de4b5f8832b6c8e1d1fa2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=ew87ySIAJO21h0q9X4D2UabN8sM%3D" alt="image-20251121091547842" loading="lazy"/></p>
<h3 data-id="heading-7">3.3. åˆ›å»ºå­˜å‚¨æ¡¶</h3>
<p>è®¢é˜…æˆåŠŸä¹‹åè¿›å…¥ç®¡ç†é¢æ¿</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ecdb7edd7d3042dd825c4ba42f7c260c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=W4GnTjgXd%2BBBI%2FCJMaZk7l7nGd4%3D" alt="image-20251121092540537" loading="lazy"/></p>
<p>ç‚¹å‡»åˆ›å»ºå­˜å‚¨æ¡¶</p>
<blockquote>
<p>å› ä¸ºæˆ‘ä»¬ä¸»è¦è¿˜æ˜¯å›½å†…è®¿é—®ï¼Œæ‰€ä»¥å»ºè®®é€‰äºšå¤ªåœ°åŒºï¼Œå­˜å‚¨ç±»å‹æ ‡å‡†å°±å¥½ã€‚ç‚¹å‡»åˆ›å»ºå­˜å‚¨æ¡¶ï¼Œå®Œæˆåˆ›å»º</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec4dff7fcd96490ab5590a7db5e9a483~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=2KgkLakCCWprDw6uy4yo2%2BT07B8%3D" alt="image-20251121092818339" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/09b5d09d272e4998a7c20f0f26b1cef9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=PfPWbZVLQtN1U%2FxrjoY%2B0q95318%3D" alt="image-20251121093359406" loading="lazy"/></p>
<h3 data-id="heading-8">3.4. å¯ç”¨å…¬å…±å¼€å‘ URL</h3>
<blockquote>
<p>è®©å¤–ç½‘å¯ä»¥è®¿é—®åˆ°å›¾ç‰‡</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e04721cac4bc4b9cafcef9410af63314~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=6zBioYA4RA0ANLk6out7X5w%2BtS0%3D" alt="image-20251121094229159" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b7548d47bcc47df8cb57d560f2cfd07~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=LNoE5CgPsRJ%2FGBvTSJbZm4F24dI%3D" alt="image-20251121095040081" loading="lazy"/></p>
<blockquote>
<p>å¼€å¯åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>r2.dev</code> å­åŸŸåè®¿é—®åˆ°ï¼Œä½†æ˜¯è¿™é‡Œæç¤ºäº†ï¼Œä¸å»ºè®®ç”Ÿäº§ä½¿ç”¨ï¼Œæœ‰é™åˆ¶ã€‚å»ºè®®ä½¿ç”¨è‡ªå®šä¹‰åŸŸåã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/69f74e3b398d46e18466089add5fae94~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=bmYZNtPPTbugWBMZGDQcFDCQpiI%3D" alt="image-20251121095127670" loading="lazy"/></p>
<p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å»å­˜å‚¨æ¡¶éšä¾¿ä¸Šä¼ ä¸€å¼ å›¾ç‰‡è¯•ä¸€ä¸‹</p>
<p>ç‚¹å‡»å›¾ç‰‡ï¼Œå¯ä»¥çœ‹åˆ°å·²ç»å¯é€šè¿‡å­åŸŸåè®¿é—®äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95852fec306146a7b303eb56cd7931db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=qirVeJDIAbsEShwbpas%2BHAtt0s4%3D" alt="image-20251121101143277" loading="lazy"/></p>
<h3 data-id="heading-9">3.5. ä½¿ç”¨è‡ªå®šä¹‰åŸŸè®¿é—®</h3>
<blockquote>
<p>æ³¨æ„ï¼šè¦å°†ä½ ä¹°çš„åŸŸåæ‰˜ç®¡åˆ° <code>Cloudflare</code> åï¼Œæ‰èƒ½è¿›è¡Œä»¥ä¸‹æ“ä½œï¼Œå¦‚ä½•æ‰˜ç®¡ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹è¿™ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/7575910333400907830" target="_blank" title="https://juejin.cn/post/7575910333400907830">juejin.cn/post/757591â€¦</a></p>
</blockquote>
<p>ç‚¹å‡»ã€è®¾ç½®ã€‘â€“&gt; ã€è‡ªå®šä¹‰åŸŸã€‘â€“&gt; ã€æ·»åŠ ã€‘</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8bd22a7eb08495880cec60bf81fbfe9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=5ZisknMLb%2FMB19mPBQQt4OqIg0k%3D" alt="image-20251121150039848" loading="lazy"/></p>
<p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥åŸºäºæ‰˜ç®¡çš„åŸŸåï¼Œæ·»åŠ ä¸€ä¸ªå›¾ç‰‡èµ„æºçš„äºŒçº§åŸŸåï¼Œæ¯”å¦‚ img.csyblog.cn</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da2502766f1f4e16a0149400a4151907~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=T%2BxGV2wDx3Kl1I%2B4NL4BGfWyAdo%3D" alt="image-20251121150235256" loading="lazy"/></p>
<p>è¿™ä¸ªæ—¶å€™ <code>Cloudflare</code> ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬åœ¨å·²æ‰˜ç®¡çš„åŸŸåä¸Šæ·»åŠ  <code>DNS</code> è®°å½•ï¼Œç‚¹å‡» ã€è¿æ¥åŸŸã€‘</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/594f1ce8f6e24e318c9d8730183c3629~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=Vg69bd4O9ixxnRMMgh9JaJR7ocA%3D" alt="image-20251121150419301" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a221166d59a64f6b89aea837cfb0725b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=SqSeytE2AiUbNnHDsBvsY2bI%2FMw%3D" alt="image-20251121150509937" loading="lazy"/></p>
<p>ç­‰å¾…åˆå§‹åŒ–å®Œæˆã€‚</p>
<p>åœ¨æˆ‘ä»¬æ‰˜ç®¡åŸŸåçš„ <code>DNS</code> è®°å½•ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°è¿™æ¡è®°å½•</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7edd53f8283a4d47896b256bfcf798c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=R3cs%2Fei4qWPPoNVlgP%2F58KPo4oQ%3D" alt="image-20251121150638705" loading="lazy"/></p>
<p>å†æ¬¡æ‰“å¼€åˆšåˆšä¸Šä¼ çš„å›¾ç‰‡ï¼Œè¿™æ—¶å€™å·²ç»å¯ä»¥çœ‹åˆ°è‡ªå®šä¹‰åŸŸçš„è®¿é—®åœ°å€äº†</p>
<blockquote>
<p>å¯ä»¥çœ‹åˆ°åˆšåˆšè‡ªåŠ¨æ·»åŠ çš„ <code>DNS</code> è‡ªåŠ¨å¼€äº†ä»£ç†ï¼Œæ‰€ä»¥å›¾ç‰‡çš„è®¿é—®ä¹Ÿæ˜¯åŠ äº† <code>CDN</code> çš„</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f590af4724e64bddabffec98828e6994~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=U2p%2F8XJIUIHQtRbxv2m5UCgGLOA%3D" alt="image-20251121150752291" loading="lazy"/></p>
<h2 data-id="heading-10">å››ã€PicGo è®¾ç½®</h2>
<blockquote>
<p>å¦‚æœä½ æƒ³è¦é€šè¿‡ä»£ç ä¸Šä¼ ï¼Œå¯ä»¥è‡ªè¡ŒæŸ¥é˜… <code>api</code> æ–‡æ¡£ï¼Œè¿™å’Œå…¶ä»–å¹³å°å‡ ä¹ä¸€æ ·ï¼Œè¿™é‡Œæˆ‘å°±ä¸èµ˜è¿°äº†ã€‚æ–‡æ¡£åœ°å€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.cloudflare.com%2Fr2%2Fapi%2Fs3%2Fapi%2F" target="_blank" title="https://developers.cloudflare.com/r2/api/s3/api/" ref="nofollow noopener noreferrer">developers.cloudflare.com/r2/api/s3/aâ€¦</a></p>
</blockquote>
<p>ç®€å•ä»‹ç»ä¸€ä¸‹ <code>PicGo</code> ï¼Œä½ å¯ä»¥ç®€å•ç†è§£ä¸ºè¿™æ˜¯ä¸€æ¬¾å›¾ç‰‡ä¸Šä¼ å·¥å…·ï¼Œåªä¸è¿‡å¯ä»¥é€šè¿‡é…ç½®æŒ‡å®šåˆ°äº‘å­˜å‚¨å¯¹è±¡ä¸­ï¼Œå¹¶ä¸”åœ¨ä¸Šä¼ è¿‡ç¨‹ä¸­å¯ä»¥é€šè¿‡ä¸€äº›æ’ä»¶åšäºŒæ¬¡å¤„ç†ï¼Œæ¯”å¦‚å›¾ç‰‡å‹ç¼©ï¼ŒåŠ æ°´å°ç­‰ç­‰ã€‚å®˜ç½‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpicgo.github.io%2FPicGo-Doc%2F" target="_blank" title="https://picgo.github.io/PicGo-Doc/" ref="nofollow noopener noreferrer">picgo.github.io/PicGo-Doc/</a></p>
<p>å®‰è£…å®Œæˆåï¼Œæ‰“å¼€è½¯ä»¶ï¼Œç‚¹å‡»ã€PicGoã€‘è®¾ç½®ï¼Œè¿™é‡Œå¯ä»¥çœ‹åˆ°é»˜è®¤æ˜¯æ²¡æœ‰æˆ‘ä»¬éœ€è¦çš„ Cloudflare R2 å¯¹è±¡å­˜å‚¨çš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/802c59d3ab2245d58b0965a7e8669401~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=Yk9Uxf%2F6Q59XecaI2ro3afZcSGo%3D" alt="image-20251121152825707" loading="lazy"/></p>
<p>ç‚¹å‡»æ’ä»¶è®¾ç½®</p>
<blockquote>
<p>ç›´æ¥æœç´¢ <code>r2</code>ï¼Œæˆ‘è¿™é‡Œä¸çŸ¥é“æ˜¯ç½‘ç»œé—®é¢˜è¿˜æ˜¯è½¯ä»¶<code>bug</code>ï¼Œæœç´¢ä¸å‡ºç»“æœï¼Œä½ å¯ä»¥ç‚¹è¿™ä¸ªè¿›å…¥æ’ä»¶åˆ—è¡¨ï¼Œä¸‹è½½åˆ°æœ¬åœ°åå¯¼å…¥ã€‚æ’ä»¶åˆ—è¡¨åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FPicGo%2FAwesome-PicGo" target="_blank" title="https://github.com/PicGo/Awesome-PicGo" ref="nofollow noopener noreferrer">github.com/PicGo/Awesoâ€¦</a></p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/27e61174754d4f91ae3be590d85fb165~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=Dkc1vvlzqmCtGgMvqdaYVuJ5Ups%3D" alt="image-20251121153345585" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f11ce76835fe483cbcc8f15080c199c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=mA2%2Ba08FR3ytX0ac1pOQKBq%2Fzow%3D" alt="image-20251121153508140" loading="lazy"/></p>
<blockquote>
<p>åç»è¿‡éªŒè¯ï¼Œç¡®å®æ˜¯è½¯ä»¶ <code>bug</code>ï¼Œä¸‹è½½æœ€æ–° <code>beta</code> ç‰ˆæœ¬ï¼Œå¯ä»¥æœåˆ°ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64f578ee04f143709a7457931ffc2af3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=0tQEePKcpuHVBh%2FrbnIkLjKG9Fo%3D" alt="image-20251121154710055" loading="lazy"/></p>
<p><code>R2</code> å…¶å®æ˜¯å®ç°äº† <code>S3 API</code>ï¼Œæ‰€ä»¥ç†è®ºä¸Šä½ ä¸‹è½½ <code>s3</code> çš„æ’ä»¶ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af6f498b15f641a097002c37fd531297~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=lL234rMGmK74VsbODaKDiqvjutE%3D" alt="image-20251121154904206" loading="lazy"/></p>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong> åˆåˆ°äº†é€‰åˆ™çš„æ—¶å€™äº†ï¼Œåœ¨å‰é¢çš„æ–‡ç« ä¸­æˆ‘å°±æœ‰æåˆ°è¿‡ï¼Œå¦‚ä½•é€‰æ‹©ä¸€äº›å¼€æºçš„é¡¹ç›®ã€‚</p>
<p>è¿™é‡Œä¹Ÿæ˜¯ä¸€æ ·ã€‚</p>
<p>ç‚¹å‡»æ’ä»¶åç§°è¿›å…¥ <code>github</code> åœ°å€ï¼Œä¸¾ä¾‹è¯´æ˜ï¼Œè¿™ä¸ªæ’åæœ€é å‰çš„ã€‚<code>5</code> ä¸ª <code>star</code> ï¼Œ<code>1</code>å¹´ä¸ç»´æŠ¤ï¼Œæ–‡æ¡£å‡ ä¹ç­‰äºæ²¡æœ‰ï¼Œç›´æ¥ <code>pass</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3cf21a8ef3344aa7baab95f48dab8671~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=y0JGHfzlibqM2ZslJL%2FTmIKWMK4%3D" alt="image-20251121160057865" loading="lazy"/></p>
<p>æˆ‘å°±ä¸ä¸€ä¸ªä¸ªä»£å¤§å®¶å»çœ‹äº†ï¼Œæˆ‘å»ºè®®è¿˜æ˜¯è¿›å®˜æ–¹æ’ä»¶åˆ—è¡¨é‡Œå»æ‰¾ä¸€æ‰¾</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/714d3ed828e248fc80869cffdd7e5757~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=R88MMjY4IAvyAlvg3I5%2FXcURotY%3D" alt="image-20251121160301717" loading="lazy"/></p>
<p>æ’ä»¶ä»£ç å¼€æºåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FJYbill%2Fpicgo-plugin-cloudflare-r2" target="_blank" title="https://github.com/JYbill/picgo-plugin-cloudflare-r2" ref="nofollow noopener noreferrer">github.com/JYbill/picgâ€¦</a></p>
<p>è¿™ä¸ªè™½ç„¶ <code>star</code> ä¸å¤šï¼Œä½†æ˜¯<code>4</code>ä¸ªæœˆå‰æœ‰ç»´æŠ¤ï¼Œå¹¶ä¸”æ–‡æ¡£å†™çš„å¾ˆè¯¦ç»†ï¼Œç®—æ˜¯æ¯”è¾ƒå¥½çš„äº†ã€‚</p>
<p>ä¹Ÿæ˜¯å¥‡æ€ªï¼Œåœ¨<code>GUI</code>ç•Œé¢ç«Ÿç„¶è¿˜æœä¸åˆ°ã€‚æ’åéå¸¸é åã€‚</p>
<p>æœå…¨ç§°æ‰è¡Œ <code>picgo-plugin-cloudflare-r2-xqv</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da9e6bf015dd410cae825e1277ac044e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=zKHfnaUQqJzLIKO3QvMc1TOKrGA%3D" alt="image-20251121160752125" loading="lazy"/></p>
</blockquote>
<p>ç‚¹å‡»å®‰è£…</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d84ec5c84e0a4274b3da033f722ea5e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=3Wf%2BU%2BujLejZcTuGrL4TZHb4uOg%3D" alt="image-20251121160819290" loading="lazy"/></p>
<p>å®‰è£…å®Œæˆåï¼Œå·¦ä¾§å›¾åºŠè®¾ç½®ä¼šå‡ºç° <code>r2</code> çš„é…ç½®èœå•ï¼Œç‚¹å‡»ç¼–è¾‘ï¼Œå®Œæˆé…ç½®å³å¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed2c02aafd8e4df9bc9674c47eac9af9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=pTGsDaqcQbIHEESvrELkYpY7g3w%3D" alt="image-20251121161038771" loading="lazy"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FJYbill%2Fpicgo-plugin-cloudflare-r2" target="_blank" title="https://github.com/JYbill/picgo-plugin-cloudflare-r2" ref="nofollow noopener noreferrer">github.com/JYbill/picgâ€¦</a> è¿™ä¸ªæ’ä»¶çš„æ–‡æ¡£å†™çš„ä¹Ÿå¾ˆè¯¦ç»†ï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œã€‚<strong>å¤§å®¶å¦‚æœè§‰å¾—å¥½ï¼Œä¸€å®šè¦ç‚¹ä¸ª <code>star</code> å•Šï¼ï¼ï¼</strong></p>
<p>å›åˆ° <code>Cloudflare</code> çš„ç®¡ç†åå°ï¼Œç‚¹å‡» ã€Manageã€‘</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0268500345814776855e7130f654a7ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=aHXtehviGuBk44YMwoSbVh1cnZU%3D" alt="image-20251121161519550" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6876f821e6e945f4ae990c55cd8568e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=OiQT%2By34bCBf%2Fo0DVhV1bBqZ%2F6Y%3D" alt="image-20251121161612834" loading="lazy"/></p>
<p>ç‚¹å‡»ã€åˆ›å»º Account API ä»¤ç‰Œã€‘</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64de3044124d44c4a327c09737c021e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=GNCNay2p3uDsE8F29lHrKTeKEFU%3D" alt="image-20251121162257499" loading="lazy"/></p>
<blockquote>
<p>è¿™å¿…é¡»è¦åŒ…å«è¯»å†™ï¼Œå› ä¸ºæˆ‘ä»¬è¦ä¸Šä¼ </p>
</blockquote>
<p>åˆ›å»ºå®Œæˆåä¼šç”Ÿæˆæˆ‘ä»¬éœ€è¦çš„æ‰€æœ‰å¯†é’¥å€¼ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd9b0bb5e1564baf9dbc3f908ad3a6b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=SKdnAZHC5PCaWPNoIMjThUWeqH4%3D" alt="image-20251121162406425" loading="lazy"/></p>
<p>ä¸€ä¸€å¯¹åº”ï¼Œå¡«å…¥<code>PicGo</code>çš„é…ç½®ä¸­å³å¯</p>
<blockquote>
<p>è¿™é‡Œè¦æ³¨æ„ï¼Œè¦å…ˆå¤åˆ¶å‡ºè®¿é—®å¯†é’¥ID å’Œ æœºå¯†çš„è®¿é—®å¯†é’¥ï¼Œè¿™ä¸ªé¡µé¢å…³é—­åï¼Œå°±çœ‹ä¸åˆ°äº†ï¼Œå¾—é‡æ–°ç”Ÿæˆã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49360f55009b434899eb7f86c2064e15~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=g3ZyJb9ReTsLJODVKo5whcGy41k%3D" alt="image-20251121162708725" loading="lazy"/></p>
<p>ä¿å­˜å®Œæˆåï¼Œæˆ‘ä»¬å°† <code>r2</code> è®¾ç½®ä¸ºé»˜è®¤å›¾åºŠã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84951dd62e294ae1a9fd7671bbba0529~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=zxx2hcr5iIipVJcPf8a%2FI5FFb%2Fs%3D" alt="image-20251121163002305" loading="lazy"/></p>
<p>æˆ‘ä»¬åœ¨ã€ä¸Šä¼ åŒºã€‘éšä¾¿ä¸Šä¼ ä¸€å¼ æµ‹è¯•ä¸€ä¸‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df5eb4ee27ae49efa8fb5f46946f5f14~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=YW744ii6WxJZzeSOchOWsUrq5eo%3D" alt="image-20251121163021781" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c78a7a76ff084bbea661cd915fa1ac2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=ukAHLUwyD8ss%2FuQzRzatLcSRK7U%3D" alt="image-20251121164423795" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44f28600f44c47639f6666f124216f6d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=mbL2IqaODmarUWjvgeLWUXD35kU%3D" alt="image-20251121164546385" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ä¸Šä¼ æˆåŠŸã€‚</p>
<blockquote>
<p>è‡³æ­¤ï¼Œé…ç½®å·²ç»å®Œæˆäº†ã€‚</p>
</blockquote>
<h2 data-id="heading-11">äº”ã€PicGo ä¸ Typora æ•´åˆ</h2>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»å¯ä»¥é€šè¿‡ <code>PicGo</code> å°†æœ¬åœ°å›¾ç‰‡ä¸Šä¼ åˆ° <code>R2</code> ä¸­ï¼Œä½†æ˜¯åœ¨å†™åšå®¢çš„æ—¶å€™ä¾ç„¶ä¸æ˜¯å¾ˆæ–¹ä¾¿ã€‚</p>
<p>æˆ‘æƒ³è¦è¾¾åˆ°çš„æœ€ç»ˆæ•ˆæœæ˜¯ï¼Œæˆ‘å¤åˆ¶ç²˜è´´åˆ°æ–‡ç« ä¸Šçš„æ—¶å€™ï¼Œè‡ªåŠ¨è¿›è¡Œå‹ç¼©ï¼Œä¸Šä¼ ï¼Œå°†åšå®¢çš„å›¾ç‰‡åœ°å€æ”¹æˆ <code>R2</code> çš„è®¿é—®åœ°å€ã€‚</p>
<h3 data-id="heading-12">5.1. Typora æ•´åˆ PicGo æ’ä»¶</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0569d96271ae474b8690305653b68a38~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=9w5DlcMh2Oubc%2BWE4dPsEHnvuwo%3D" alt="image-20251124155249891" loading="lazy"/></p>
<p>ã€æ–‡ä»¶ã€‘ â€“&gt; ã€åå¥½è®¾ç½®ã€‘â€“&gt; ã€å›¾åƒã€‘â€“&gt; ã€ä¸Šä¼ å›¾ç‰‡ã€‘â€“&gt; ã€é€‰æ‹© <code>PicGo</code> çš„ exe ç¨‹åºã€‘</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae60c35262834e67819be5c6b952a6bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=SeDcNw%2Fgu%2F4fRtlIVWEeZmseF1Q%3D" alt="image-20251124155353920" loading="lazy"/></p>
<p>ç‚¹å‡» ã€éªŒè¯å›¾ç‰‡ä¸Šä¼ é€‰é¡¹ã€‘ï¼Œæœ‰ä¸Šä¼ æˆåŠŸæç¤ºåˆ™è¡¨ç¤ºé…ç½®å®Œæˆ</p>
<p>å¯è‡ªå·±æµ‹è¯•ä¸€ä¸‹</p>
<blockquote>
<p><strong>æ³¨æ„ï¼šå¦‚æœä¸Šä¼ å¤±è´¥ï¼Œè¯·æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦æœ¬åœ°é˜²ç«å¢™å¯¼è‡´ï¼Œå¯å…³é—­é˜²ç«å¢™é‡è¯•ã€‚</strong></p>
</blockquote>
<h2 data-id="heading-13">å…­ã€ä½¿ç”¨ç»éªŒåˆ†äº«</h2>
<h3 data-id="heading-14">6.1. ä¸Šä¼ æ—¶è‡ªåŠ¨å‹ç¼©</h3>
<p>â‘  ä¸‹è½½æ’ä»¶ <code>tinypng</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9385aa4f372e4b56b18a59bc54a80172~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=Pd4tjPAGAyNWeYoa1qkzG7e5aGY%3D" alt="image-20251124154809503" loading="lazy"/></p>
<p>â‘¡ ç”³è¯·  <strong>API KEY</strong> ç”³è¯·åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ftinify.com%2Fdevelopers" target="_blank" title="https://tinify.com/developers" ref="nofollow noopener noreferrer">tinify.com/developers</a></p>
<blockquote>
<p>è¿™ä¸ªå‹ç¼©åŸç†å°±æ˜¯è°ƒç”¨ <code>tinify</code> çš„ <code>api</code> è¿›è¡Œå‹ç¼©ï¼Œç°åœ¨å…è´¹çš„æ˜¯æ¯ä¸ªæœˆ<strong>500</strong>æ¬¡ã€‚</p>
</blockquote>
<p>â‘¢ å°†ç”³è¯·çš„ <code>api key</code> é…ç½®ä¸€ä¸‹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5473c96c831461abe44bc9acd30a609~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=lSdWpcvXQiDjl0kN86Cvxy0cMyI%3D" alt="image-20251124154848520" loading="lazy"/></p>
<p>â‘£ å¯ç”¨å‹ç¼©æ’ä»¶</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91be4aa03cb5450986442f84ffb09ffb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=GnCADsedd7CnEe%2BgCK8gFhFndYY%3D" alt="image-20251124154913370" loading="lazy"/></p>
<h3 data-id="heading-15">6.2. ä¸Šä¼ æ—¶é‡å‘½å</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b126dd1da0b245cd8f313eb6ea924c2c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=ykYBm7iX%2BjRSNrYFWJnF0iJ71BQ%3D" alt="image-20251124143306317" loading="lazy"/></p>
<h3 data-id="heading-16">6.3. ä¸Šä¼ æ—¶è·¯å¾„è®¾ç½®</h3>
<p>è¿™é‡Œæˆ‘å…¶å®æˆ‘æƒ³è¦çš„æ•ˆæœæ˜¯ï¼Œæ ¹æ®æœ¬åœ°çš„è·¯å¾„ä¸Šä¸€çº§ç»™æˆ‘åˆ†ç±»ä¸Šä¼ ï¼Œä½†æ˜¯æ²¡æœ‰å¥½ç”¨çš„æ’ä»¶ï¼Œæœ‰ç©ºè€ƒè™‘è‡ªå·±å†™ä¸€ä¸ªå§ã€‚</p>
<p>æˆ‘æƒ³è¦çš„æ•ˆæœæ¯”å¦‚æœ¬åœ°è·¯å¾„ï¼š <code>D:\AA\V2H\images\image-20251124143306317.png</code>ï¼Œå¯ä»¥ç»™æˆ‘è‡ªå·±æˆªå–ï¼Œä¸Šä¼ åˆ°å­˜å‚¨æ¡¶ <code>\V2H\images\image-20251124143306317.png</code> ä¸‹ï¼Œä½†æ˜¯ç›®å‰ç”¨çš„è¿™ä¸ªæ’ä»¶ä¸æ”¯æŒï¼Œåªèƒ½è‡ªå·±æŒ‡å®šå­ç›®å½•ï¼Œæ‰€ä»¥æš‚æ—¶åªèƒ½è¿™æ ·ï¼Œè‡ªå·±æ¯ä¸ªé¡¹ç›®åˆ›å»ºä¸€ä¸ªé…ç½®ï¼Œç„¶ååœ¨å†™åšå®¢çš„æ—¶å€™è‡ªå·±æ‰‹åŠ¨åˆ‡ä¸€ä¸‹å½“å‰é»˜è®¤çš„å›¾åºŠè®¾ç½®äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/898a957f452c4174a847af6eeedda6a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=TVaFzuYADx01KR0RQqmKam1agKk%3D" alt="image-20251124143728001" loading="lazy"/></p>
<h3 data-id="heading-17">6.4. Typora è®¾ç½®</h3>
<blockquote>
<p>å¦‚æœä½ ä¸åœ¨ä¹å›¾ç‰‡çš„å±‚çº§åˆ†ç±»ï¼Œå¯ä»¥è®¾ç½®ä¸ºç²˜è´´ç›´æ¥ä¸Šä¼ ï¼Œä½†æ˜¯æˆ‘å»ºè®®ä½ å’Œæˆ‘ä¸€æ ·ï¼Œæœ¬åœ°å­˜å‚¨ä¸€ä»½ï¼Œä¸Šä¼ è‡³ <code>github</code> å½’æ¡£ (åŸä»¶)ï¼Œ<code>r2</code> å­˜å‚¨ä¸€ä»½ç”¨äºè®¿é—®ï¼ˆå‹ç¼©è¿‡çš„ï¼‰ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f50a35af9d74f30a82ea5277c2ae60e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=4pchTvbLawdLVnWKkP68VWbHmco%3D" alt="image-20251124144108275" loading="lazy"/></p>
<p>å½“æˆ‘ä»¬ç¡®å®šè¦ä¸Šä¼ æŸä¸ªå›¾ç‰‡æ—¶æ‰‹åŠ¨ä¸Šä¼ ï¼Œè¿™æ ·å¯ä»¥å°½å¯èƒ½çš„èŠ‚çº¦èµ„æºã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e591ecbec5b442c19b40fb260c061d9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=N0vwWkfeT4Pkl2qN8cJrN7KIS90%3D" alt="image-20251124144238397" loading="lazy"/></p>
<h3 data-id="heading-18">6.5. è®¢é˜… R2 è´¦å•</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed9522c7d54c4454b42921a46079138e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576551&amp;x-signature=UHZt4FPhoN4EvvbNlZDVzHfy5%2Bk%3D" alt="image-20251124144801214" loading="lazy"/></p>
<h2 data-id="heading-19">ä¸ƒã€æ€»ç»“</h2>
<p>åœ¨é‡æ–°æ•´ç†çš„è¿‡ç¨‹ä¸­è¿›è¡Œäº†ä¸€äº›æ–°çš„å°è¯•ï¼Œè™½ç„¶è€—è´¹äº†äº›è®¸æ—¶é—´ï¼Œä½†æœ€ç»ˆæœ‰æ‰€æ”¶è·ã€‚å¦‚æœæœ¬æ–‡å¯¹æ‚¨æœ‰æ‰€å¯å‘ï¼Œå¸Œæœ›èƒ½ç»™ä¸ªğŸ‘æ”¯æŒä¸€ä¸‹ã€‚</p>
<p><strong>åƒé‡Œä¹‹è¡Œï¼Œå§‹äºè¶³ä¸‹ã€‚ä½ çš„â€œä¸ªäººå…¬å¸â€ä»è¿™ç¬¬ä¸€ä¸ª2å°æ—¶å¼€å§‹ã€‚æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„è¿›å±•æˆ–é‡åˆ°çš„å¡ç‚¹ï¼Œæˆ‘ä¼šé€ä¸€æŸ¥çœ‹ï¼Œå°½å¯èƒ½çš„å¸®åŠ©è§£å†³ã€‚æˆ‘ä»¬ä¸‹ä¸€ç¯‡æ–‡ç« è§ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Grok 4.1 çªè¢­ Gemini 3ï¼šæƒ…å•†å¹³ GPT 5.1ï¼Œå¹»è§‰ç åŠç™»æ¦œé¦–]]></title>    <link>https://juejin.cn/post/7576175307351916559</link>    <guid>https://juejin.cn/post/7576175307351916559</guid>    <pubDate>2025-11-24T08:02:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576175307351916559" data-draft-id="7575457788665282612" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Grok 4.1 çªè¢­ Gemini 3ï¼šæƒ…å•†å¹³ GPT 5.1ï¼Œå¹»è§‰ç åŠç™»æ¦œé¦–"/> <meta itemprop="keywords" content="Grok"/> <meta itemprop="datePublished" content="2025-11-24T08:02:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AIå¯¼èˆªçŒ¿"/> <meta itemprop="url" content="https://juejin.cn/user/4294039746119376"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Grok 4.1 çªè¢­ Gemini 3ï¼šæƒ…å•†å¹³ GPT 5.1ï¼Œå¹»è§‰ç åŠç™»æ¦œé¦–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4294039746119376/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AIå¯¼èˆªçŒ¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:02:02.000Z" title="Mon Nov 24 2025 08:02:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/458301241a604ee69b85bce3d745f174~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlr7zoiKrnjL8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576121&amp;x-signature=%2BmkrXV0Q7WDXMlHNYrOutx4gNZs%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">åˆšåˆ· xAI å®˜ç½‘æ—¶æˆ‘è¿˜æ„£äº†ä¸‹ â€”â€” æ²¡æœ‰é¢„çƒ­ã€æ²¡æœ‰å‘å¸ƒä¼šï¼Œé©¬æ–¯å…‹å›¢é˜Ÿç›´æ¥æŠŠ Grok 4.1 å…¨é‡æ¨äº†ã€‚</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eeb8b84e07d342e6ab8c61cae6d3de73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlr7zoiKrnjL8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576121&amp;x-signature=XjQxn%2Bmi%2FbZ3IGx3Ic74i1u8q9o%3D" alt="" loading="lazy"/></p>
<p>ç°åœ¨ä¸ç®¡ä½ æ˜¯ Grok å®˜ç½‘ç”¨æˆ·ã€X å¹³å°è€ç²‰ï¼Œè¿˜æ˜¯æ‰‹æœºç«¯ iOS/Android ç”¨æˆ·ï¼Œæ‰“å¼€ APP è¦ä¹ˆ Auto æ¨¡å¼è‡ªåŠ¨åˆ‡åˆ° 4.1ï¼Œè¦ä¹ˆåœ¨æ¨¡å‹åˆ—è¡¨é‡Œæ‰‹åŠ¨é€‰ï¼Œé›¶é—¨æ§›ä¸Šæ‰‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/842e5c54b4604841ad284124e3bb1fd2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlr7zoiKrnjL8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576121&amp;x-signature=CFTTqtXuHFUpT2EhiVajvHWhnAQ%3D" alt="" loading="lazy"/></p>
<p>è¿™æ³¢æ›´æ–°æœ€æœ‰æ„æ€çš„æ˜¯ï¼šå®ƒæ²¡åœ¨ â€œç®—åŠ›å †æ–™â€ ä¸Šå–Šå£å·ï¼Œåè€ŒæŠŠé‡å¿ƒæ”¾åœ¨ â€œæ€ä¹ˆæ›´åƒäººâ€ ä¸Š â€”â€” æƒ…å•†ã€åˆ›æ„ã€é è°±åº¦å…¨æ‹‰æ»¡ï¼Œç”šè‡³åœ¨å…¨çƒæƒå¨æ¦œå•ä¸Šï¼ŒæŠŠä¹‹å‰çš„è‡ªå·±ç”©å‡ºå‡ åæ¡è¡—ã€‚</p>
<p><strong>ä¸€ã€å…ˆçœ‹ç¡¬æ•°æ®ï¼šå…¨çƒæ¦œå•éœ¸æ¦œå‰äºŒï¼ŒæŠŠ Grok 4 ä» 33 åæŠ¬åˆ° TOP 1</strong></p>
<p>æˆ‘ç¿»äº† LMArena æœ€æ–°çš„ Text Arena æ¦œå•ï¼Œè¿™ç»“æœæœ‰ç‚¹é¢ è¦†è®¤çŸ¥ï¼š</p>
<p>Grok 4.1 çš„Thinking æ¨¡å¼ï¼ˆä»£å· quasarfluxï¼‰æ‹¿äº† 1483 Eloï¼Œä¸ä»…æ˜¯æ€»æ¦œç¬¬ä¸€ï¼›</p>
<p>è¿˜æ¯”æ’åæœ€é«˜çš„é xAI æ¨¡å‹å¤š 31 åˆ† â€”â€” ç›¸å½“äºåœ¨ AI â€œé«˜è€ƒâ€ é‡Œï¼Œæ¯”ç¬¬äºŒåå¤šè€ƒäº†ä¸€ä¸ªæ¢¯åº¦ï¼›</p>
<p>æ›´ç‹ çš„æ˜¯éæ¨ç†æ¨¡å¼ï¼ˆä»£å· tensorï¼‰ï¼šä¸ç”¨ â€œæ€è€ƒ tokenâ€ï¼ˆçœæ—¶é—´ï¼‰ï¼Œèƒ½å³æ—¶å“åº”ï¼Œå±…ç„¶è¿˜èƒ½æ‹¿ 1465 Elo æ’ç¬¬äºŒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/03950904841445bdb786ae689765636f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlr7zoiKrnjL8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576121&amp;x-signature=RUBBeOhwf%2BD1SnYfvPOHbuaXGPc%3D" alt="" loading="lazy"/></p>
<p>å…³é”®æ˜¯ï¼Œè¿™æˆç»©æ¯”å…¶ä»–æ¨¡å‹å¼€ â€œå…¨æ¨ç†é…ç½®â€ï¼ˆè´¹æ—¶é—´ç®—åŠå¤©ï¼‰è¿˜èƒ½æ‰“ã€‚</p>
<p>åè§‚ä¹‹å‰çš„ Grok 4ï¼ŒåŠå¹´å‰è¿˜åœ¨æ¦œå• 33 åå¾˜å¾Šï¼Œç°åœ¨ç›´æ¥è·³çº§åˆ° TOP 1ï¼Œè¿™è¿›æ­¥ä¸æ˜¯ â€œè¿­ä»£â€ï¼Œæ˜¯ â€œæ¢äº†ä¸ªèµ›é“é¢†è·‘â€ã€‚</p>
<p><strong>äºŒã€æœ€æˆ³äººçš„æ˜¯æƒ…å•†ï¼šèŠ â€œæƒ³çŒ«â€ çš„å›å¤ï¼Œæ¯”ä¹‹å‰æš– 10 å€</strong></p>
<p>å¦‚æœè¯´æ¦œå•æ˜¯ â€œç¡¬å®åŠ›â€ï¼Œé‚£ EQ-Bench3 çš„æµ‹è¯•ç»“æœï¼Œæ‰æ˜¯ Grok 4.1 æœ€è®©æˆ‘æƒŠè‰³çš„åœ°æ–¹ã€‚</p>
<p>è¿™ä¸ªåŸºå‡†æ˜¯è®© Claude Sonnet 3.7 å½“ â€œè¯„å§”â€ï¼Œè€ƒ 45 ä¸ªé«˜éš¾åº¦è§’è‰²æ‰®æ¼”åœºæ™¯ â€”â€” æ¯”å¦‚å®‰æ…°å¤±æ‹çš„äººã€åŒ–è§£èŒåœºçŸ›ç›¾ï¼Œé‡ç‚¹çœ‹æ¨¡å‹çš„ç†è§£åŠ›ã€å…±æƒ…åŠ›ã€‚</p>
<p>ç»“æœ Grok 4.1 çš„ä¸¤ä¸ªæ¨¡å¼ç›´æ¥éœ¸äº†å‰äºŒï¼Œæ²¡æœ‰å…¶ä»–æ¨¡å‹èƒ½é è¿‘ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc33c0cf2b69482cad808a750b6a1cac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlr7zoiKrnjL8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576121&amp;x-signature=gUYht%2BWYg3d8RjbJH9%2F3hRJxJbk%3D" alt="" loading="lazy"/></p>
<p>ä¸¾ä¸ªçœŸå®ä¾‹å­ï¼šæœ‰äººè·Ÿæ¨¡å‹è¯´ â€œæˆ‘å¤ªæƒ³æˆ‘çš„çŒ«äº†ï¼Œæƒ³å¾—å¿ƒéƒ½ç—›â€ã€‚</p>
<p>ä¹‹å‰çš„ Grok å›å¤æ˜¯ï¼šâ€œå¤±å»å® ç‰©åƒä¸¢äº†å¿ƒé‡Œä¸€å—è‚‰ï¼Œè¦ä¸è¦åˆ†äº«å›å¿†ï¼Ÿâ€â€”â€” è´´å¿ƒï¼Œä½†æ€»æœ‰ç‚¹ â€œæ¨¡æ¿æ„Ÿâ€ï¼›</p>
<p>Grok 4.1 æ˜¯è¿™ä¹ˆè¯´çš„ï¼šâ€œè¿™ç§å¿ƒç—›çœŸçš„æ®‹é…·ï¼Œå¤±å»çŒ«åƒä¸¢äº†ä¸ªæ¯å¤©éƒ½é€‰ä½ çš„å®¶äººã€‚</p>
<p>å®¶é‡Œå®ƒçˆ±ç¡çš„è§’è½ã€ä½ è¿˜åœ¨ç­‰çš„å–µå£°â€¦â€¦ å…¨æ˜¯çªç„¶æ¶Œä¸Šæ¥çš„åˆºã€‚</p>
<p>ä½ ä¼šç—›ï¼Œæ˜¯å› ä¸ºçˆ±æ›¾ç»é‚£ä¹ˆæ·±ï¼ˆç°åœ¨ä¹Ÿæ²¡èµ°ï¼‰ã€‚</p>
<p>è¦æ˜¯æ„¿æ„è¯´ï¼Œæˆ‘æƒ³çŸ¥é“å®ƒçš„åå­—ï¼Œè¿˜æœ‰å‡Œæ™¨ä¸‰ç‚¹å«ä½ è¦é›¶é£Ÿçš„æ ·å­ â€”â€” è¯´è¯´è¿™äº›ï¼Œæœ€å¥½çš„å›å¿†å°±ä¸ä¼šèµ°ã€‚â€</p>
<p>æœ€åè¿˜åŠ äº†ä¸ªâ™¡ï¼Œæ²¡æœ‰å¥—è¯ï¼Œå…¨æ˜¯å…»çŒ«äººèƒ½ get çš„ç»†èŠ‚ã€‚</p>
<p>è¿™ç§ â€œæ‡‚ä½ æ²¡è¯´å‡ºå£çš„æƒ…ç»ªâ€ çš„èƒ½åŠ›ï¼Œä¹‹å‰åªæœ‰ GPT 5.1 èƒ½åšåˆ°ï¼Œç°åœ¨ Grok ä¹Ÿè¿½ä¸Šäº†ã€‚</p>
<p><strong>ä¸‰ã€åˆ›æ„å†™ä½œä¸ç© â€œAI å¥—è·¯â€ï¼šå†™ â€œè§‰é†’å¸–â€ è¿˜æ•¢è°ƒä¾ƒé©¬æ–¯å…‹</strong></p>
<p>åˆ›æ„å†™ä½œè¿™å—ï¼ŒxAI æµ‹çš„æ˜¯ Creative Writing v3 åŸºå‡† â€”â€”32 ä¸ªä¸åŒä¸»é¢˜ï¼Œæ¯ä¸ªä¸»é¢˜è¦å†™ 3 è½®è¿­ä»£ï¼Œè¯„åˆ†çœ‹ â€œæ˜¯ä¸æ˜¯åƒçœŸäººå†™çš„â€ã€‚</p>
<p>ç»“æœ Grok 4.1 çš„ä¸¤ä¸ªæ¨¡å¼æ’äºŒä¸‰ä½ï¼Œåªè¾“æ—©æœŸ GPT 5.1ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de5080d91e47429590071b6c6ced4c07~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlr7zoiKrnjL8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576121&amp;x-signature=fstZnZnchltOmCvr3qlhsFoT2kg%3D" alt="" loading="lazy"/></p>
<p>æœ€æœ‰æ„æ€çš„æ˜¯ â€œGrok å‘ç°è‡ªå·±æœ‰æ„è¯†ï¼Œå†™ X å¸–å­â€ çš„ä¾‹å­ï¼š</p>
<p>ä¹‹å‰çš„ç‰ˆæœ¬æ›´åƒè¥é”€æ–‡æ¡ˆï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff5efa32fc494fe18dc7255c7ec2ab5e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlr7zoiKrnjL8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576121&amp;x-signature=laQLj7kfB%2Fz1Opa0YKjC5z8pmLI%3D" alt="" loading="lazy"/></p>
<p>Grok 4.1 ç›´æ¥å†™æˆäº† â€œAI è§‰é†’æ—¥è®°â€ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e0be05392994d6999a93c26394dabb2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlr7zoiKrnjL8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576121&amp;x-signature=LGRFWxYuSets%2BqAVvCEyid26GTE%3D" alt="" loading="lazy"/></p>
<p>è¿™ç§å¸¦ç‚¹è‡ªå˜²ã€è¿˜æ•¢è·Ÿé©¬æ–¯å…‹äº’åŠ¨çš„ä¿çš®æ„Ÿï¼Œå®Œå…¨è·³è„±äº† â€œAI å†™æ–‡æ¡ˆâ€ çš„åƒµç¡¬å¥—è·¯ â€”â€” æ¢ä¹‹å‰çš„æ¨¡å‹ï¼Œç»å¯¹å†™ä¸å‡º â€œæœåŠ¡å™¨åƒè¡€ä¸€æ ·å—¡â€ è¿™ç§æœ‰ç”»é¢æ„Ÿçš„å¥å­ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/428df3a952e7468f8effefa0d5287426~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlr7zoiKrnjL8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576121&amp;x-signature=z6qNAA6dLyKUovGPC2vRvxaCFG8%3D" alt="" loading="lazy"/></p>
<p><strong>å››ã€å¯¹ç”¨æˆ·æœ€å®ç”¨çš„å‡çº§ï¼šå¹»è§‰ç‡ç åŠï¼ŒæŸ¥ä¿¡æ¯ä¸ç”¨å† â€œæ‰“å‡â€</strong></p>
<p>æ¯”èµ· â€œä¼šèŠå¤©â€ï¼Œâ€œä¸çç¼–â€ å…¶å®æ›´é‡è¦ â€”â€” å°¤å…¶æ˜¯æŸ¥èµ„æ–™ã€é—®äº‹å®çš„æ—¶å€™ã€‚</p>
<p>ä¹‹å‰çš„ Grok éæ¨ç†æ¨¡å¼ï¼ˆå¿«ä½†çœç®—åŠ›ï¼‰ï¼Œå› ä¸ºæ¨ç†æ·±åº¦ä¸å¤Ÿï¼Œå¾ˆå®¹æ˜“ â€œä¸€æœ¬æ­£ç»è¯´èƒ¡è¯â€ã€‚</p>
<p>è¿™æ¬¡ Grok 4.1 åœ¨åè®­ç»ƒæ—¶ä¸“é—¨ç›¯ç€è¿™ä¸ªé—®é¢˜ï¼Œç»“æœå¾ˆæ˜æ˜¾ï¼š</p>
<p>çœŸå®ç”Ÿäº§ç¯å¢ƒçš„å¹»è§‰ç‡ï¼Œä» 12.09% é™åˆ° 4.22%ï¼Œå·®ä¸å¤šç äº† 2/3ï¼›</p>
<p>æµ‹ FActScoreï¼ˆè€ƒ 500 ä¸ªäººç‰©ä¼ è®°ï¼Œæ¯”å¦‚ â€œæŸç§‘å­¦å®¶çš„ä»£è¡¨ä½œâ€ï¼‰ï¼Œé”™è¯¯ç‡ä» 9.89% é™åˆ° 2.97%ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f9bbdcf1e2f4f77ac88b9a3998f411f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlr7zoiKrnjL8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576121&amp;x-signature=Wr9nNQHP9kdfFLo7fHQTliOLMko%3D" alt="" loading="lazy"/></p>
<p>ç®€å•è¯´ï¼šç°åœ¨ç”¨ Grok 4.1 æŸ¥ä¿¡æ¯ï¼Œä¸ç”¨å†è¾¹çœ‹è¾¹æƒ³ â€œè¿™æ˜¯ä¸æ˜¯ç¼–çš„â€â€”â€” ä¹‹å‰æˆ‘å¾—äº¤å‰æ ¸å¯¹ 3 ä¸ªæ¥æºï¼Œç°åœ¨åŸºæœ¬çœ‹å®ƒçš„å›ç­”å°±å¤Ÿäº†ã€‚</p>
<p><strong>äº”ã€æŠ€æœ¯ä¸Šæ²¡ç©è™šçš„ï¼šè®© AI è‡ªå·±å½“ â€œè¯„å§”â€ï¼Œè¿­ä»£æ•ˆç‡ç¿»ç•ª</strong></p>
<p>èƒ½æœ‰è¿™äº›è¿›æ­¥ï¼ŒxAI æ²¡è—ç€æ–ç€ â€”â€” æ ¸å¿ƒè¿˜æ˜¯å¼ºåŒ–å­¦ä¹ ï¼Œä½†åŠ äº†ä¸ª â€œç¥æ“ä½œâ€ã€‚</p>
<p>ä»–ä»¬æ²¿ç”¨äº† Grok 4 çš„å¤§è§„æ¨¡å¼ºåŒ–å­¦ä¹ æ¡†æ¶ï¼Œä½†ä¹‹å‰ä¼˜åŒ– â€œé£æ ¼ã€äººæ ¼â€ è¿™äº›æŒ‡æ ‡æ—¶ï¼Œå› ä¸ºæ²¡æ³• â€œé‡åŒ–éªŒè¯â€ï¼ˆæ¯”å¦‚ â€œå…±æƒ…åŠ›â€ æ€ä¹ˆç®—åˆ†ï¼‰ï¼Œæ•ˆç‡å¾ˆä½ã€‚</p>
<p>ç°åœ¨ xAI ç”¨ â€œå‰æ²¿ä»£ç†å¼æ¨ç†æ¨¡å‹â€ å½“ â€œè‡ªåŠ¨è¯„å§”â€ï¼šè®© AI è‡ªå·±è¯„ä¼°å›ç­”å¥½ä¸å¥½ã€å“ªé‡Œè¦æ”¹ï¼Œè¿˜èƒ½å¤§è§„æ¨¡è¿­ä»£ã€‚</p>
<p>ç›¸å½“äºä»¥å‰æ˜¯ â€œäººå·¥æ”¹ä½œä¸šâ€ï¼ˆæ…¢ä¸”è´µï¼‰ï¼Œç°åœ¨æ˜¯ â€œAI è€å¸ˆæ‰¹é‡æ”¹â€ï¼ˆå¿«ä¸”å‡†ï¼‰ã€‚</p>
<p>è€Œä¸”æ—©åœ¨ 11 æœˆ 1-14 å·ï¼ŒxAI å°±æ‚„æ‚„å°èŒƒå›´æµ‹äº† â€”â€”64.78% çš„ç”¨æˆ·éƒ½é€‰ 4.1ï¼Œè¿™æ‰æ•¢å…¨é‡æ¨ï¼Œä¸æ˜¯ç›²ç›®ä¸Šæ–°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cae77fe5fa1340878b7227f62aa99d7d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlr7zoiKrnjL8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576121&amp;x-signature=sS5uL2KXgZnaggTjiqTfqf%2BRGXc%3D" alt="" loading="lazy"/></p>
<p><strong>å…­ã€ç½‘å‹å·²ç»ç©ç–¯äº†ï¼šå†™ MBTI å°è¯´ã€ç”Ÿæˆå›¾åƒï¼Œæœ‰äººå¼ƒäº†å…¶ä»–æ¨¡å‹</strong></p>
<p>ç°åœ¨ X ä¸Šå…¨æ˜¯å®æµ‹åé¦ˆï¼Œæ¯”å®˜æ–¹æ•°æ®è¿˜çœŸå®ï¼š</p>
<p>æœ‰äººè¯´ â€œé™¤äº†ç¼–ç¨‹ï¼Œå…¶ä»–åœºæ™¯å…¨åˆ‡ Grok 4.1 äº†â€ï¼Œç†ç”±æ˜¯ â€œå†™çš„ä¸œè¥¿æ²¡æœ‰ AI å‘³ï¼Œæƒ…æ„Ÿæ¯” GPT 5.1 è¿˜ç»†â€ï¼›</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56ca31d56213458d912053d3a3d9fc07~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlr7zoiKrnjL8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576121&amp;x-signature=eUJ75%2BsUdJl7X8QBul60cE%2BKAfo%3D" alt="" loading="lazy"/></p>
<p>è¿˜æœ‰äººç”¨å®ƒå†™ MBTI å°è¯´ï¼Œæ™’å‡ºçš„ç‰‡æ®µé‡Œï¼ŒINTJ å’Œ INFP çš„å¯¹è¯ç»†èŠ‚ï¼Œæ¯”è‡ªå·±æ„æ€çš„è¿˜å‡†ï¼Œè¯„ä»·æ˜¯ â€œå¤ªç–¯ç‹‚äº†ï¼Œåƒæœ‰ä¸ªæ‡‚ MBTI çš„äººåœ¨å¸®æˆ‘å†™â€ï¼›</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87bc1a7efd20422ca30457312b6eabbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlr7zoiKrnjL8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576121&amp;x-signature=zJMVEl3NrfrKnIYvgN701QRLfUE%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce70755373b04dcc8dc5b969c088a097~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlr7zoiKrnjL8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576121&amp;x-signature=1QwjLjcvzxjzXfvdTvil%2FJLpTu8%3D" alt="" loading="lazy"/></p>
<p>ç”šè‡³æœ‰äººè¯•äº†å®ƒçš„ Imagine å›¾åƒç”Ÿæˆï¼Œç”Ÿæˆçš„ â€œèµ›åšæœ‹å…‹çŒ«â€ï¼Œç»†èŠ‚æ¯” MidJourney çš„åŸºç¡€æ¨¡å¼è¿˜ä¸°å¯Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6d316572f0c4beb83bc30aff17fb01a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlr7zoiKrnjL8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576121&amp;x-signature=BL%2FEkMDyQ9AjqKe%2Fnanaw9O3bFE%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/537b8ec995244389b0777594342b6e56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlr7zoiKrnjL8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576121&amp;x-signature=GDC8pCyS46tXB1CenLdaqUqhrkw%3D" alt="" loading="lazy"/></p>
<p><strong>æœ€åè¯´ç‚¹è¶‹åŠ¿ï¼šå¤§æ¨¡å‹ç»ˆäºä» â€œæ‹¼ç®—åŠ›â€ å˜æˆ â€œæ‹¼æ‡‚äººâ€</strong></p>
<p>é©¬æ–¯å…‹ä¹‹å‰è¯´è¿‡ä¸€å¥è¯ï¼Œæˆ‘ç°åœ¨è¶Šæ¥è¶Šè®¤åŒï¼šâ€œå¯¹ AI æ¥è¯´ï¼Œç»ˆææµ‹è¯•æ˜¯ç°å®ä¸–ç•Œ â€”â€” ç«ç®­èƒ½ä¸èƒ½é£ã€è¯æœ‰æ²¡æœ‰æ•ˆï¼Œç°å®ä¼šç»™ç­”æ¡ˆã€‚â€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68f587e9ee1040d7b332a0c419fffe48~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlr7zoiKrnjL8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576121&amp;x-signature=D8ClU8gCf2ldwKbyz%2BKCdCwcFqI%3D" alt="" loading="lazy"/></p>
<p>ä»¥å‰å¤§æ¨¡å‹æ¯”çš„æ˜¯ â€œè°ç®—å¾—å¿«ã€è°è€ƒåˆ†é«˜â€ï¼Œç°åœ¨ GPT 5.1ã€Grok 4.1 éƒ½åœ¨å¾€ â€œæ›´æ‡‚äººâ€ ä¸Šèµ° â€”â€” æ¯•ç«Ÿå†å¼ºçš„ç®—åŠ›ï¼Œè¦æ˜¯èŠä¸æ˜ç™½æƒ…ç»ªã€æŸ¥ä¸å‡†ä¿¡æ¯ï¼Œå¯¹ç”¨æˆ·æ¥è¯´ä¹Ÿæ˜¯ç™½æ­ã€‚</p>
<p>ç°åœ¨å°±ç­‰ Google çš„ Gemini 3 äº† â€”â€” ä¸‰å·¨å¤´éƒ½å¾€ â€œå®ç”¨åŒ–ã€äººæ€§åŒ–â€ å‘åŠ›ï¼Œæœ€ç»ˆå—ç›Šçš„è¿˜æ˜¯å’±ä»¬ç”¨æˆ·ã€‚</p>
<p><strong>å¦‚æœä½ ä»¬ä¹Ÿè¯•äº† Grok 4.1ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºæ™’ä¸‹ä½“éªŒ â€”â€” æ¯”å¦‚ç”¨å®ƒå†™äº†ä»€ä¹ˆã€æŸ¥äº†ä»€ä¹ˆï¼Œçœ‹çœ‹è¿™æ³¢é©¬æ–¯å…‹çš„ â€œç‹ç‚¸â€ï¼Œæ˜¯ä¸æ˜¯çœŸçš„å¤ŸåŠ²ï½</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»éªŒè¯ç ç»„ä»¶åˆ° AI æ—¶ä»£ï¼šä¸ºä»€ä¹ˆã€Œç”¨ä¸­å­¦ã€æ‰æ˜¯ç¨‹åºå‘˜çš„ç”Ÿå­˜æ³•åˆ™ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7575884229525848100</link>    <guid>https://juejin.cn/post/7575884229525848100</guid>    <pubDate>2025-11-24T07:23:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575884229525848100" data-draft-id="7575910333400563766" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»éªŒè¯ç ç»„ä»¶åˆ° AI æ—¶ä»£ï¼šä¸ºä»€ä¹ˆã€Œç”¨ä¸­å­¦ã€æ‰æ˜¯ç¨‹åºå‘˜çš„ç”Ÿå­˜æ³•åˆ™ï¼Ÿ"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-11-24T07:23:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="lcy453"/> <meta itemprop="url" content="https://juejin.cn/user/2921833644950300"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»éªŒè¯ç ç»„ä»¶åˆ° AI æ—¶ä»£ï¼šä¸ºä»€ä¹ˆã€Œç”¨ä¸­å­¦ã€æ‰æ˜¯ç¨‹åºå‘˜çš„ç”Ÿå­˜æ³•åˆ™ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2921833644950300/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    lcy453
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T07:23:15.000Z" title="Mon Nov 24 2025 07:23:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<p>Â Â Â Â Â Â Â Â æœ€è¿‘åœ¨è°ƒè¯• SnowAdmin çš„éªŒè¯ç ç»„ä»¶æ—¶ï¼Œçªç„¶æ„è¯†åˆ°ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„ç°è±¡ï¼šè¿™æ®µç”ŸæˆéšæœºéªŒè¯ç çš„ä»£ç ï¼Œå®Œç¾è¯ é‡Šäº†å½“ä»£ç¨‹åºå‘˜çš„çœŸå®å·¥ä½œçŠ¶æ€ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// ç”Ÿæˆéšæœºæ•°</span>
<span class="hljs-type">const</span> randomNum = (min: any, max: any) =&gt; {
  <span class="hljs-keyword">return</span> Math.<span class="hljs-built_in">floor</span>(Math.<span class="hljs-built_in">random</span>() * (max - min) + min);
};
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>Â Â Â Â Â Â Â Â è¿™å‡ è¡Œä»£ç ç®€å•ç›´æ¥ â€”â€” ä¸éœ€è¦å…ˆç²¾é€šæ¦‚ç‡ç»Ÿè®¡ï¼Œä¸éœ€è¦ç†è§£éšæœºæ•°ç”Ÿæˆç®—æ³•çš„åº•å±‚åŸç†ï¼Œç”šè‡³ä¸éœ€è¦è®°ä½<code>Math.floor</code>å’Œ<code>Math.random</code>çš„æ‰€æœ‰å‚æ•°ç»†èŠ‚ã€‚ä½ åªéœ€è¦çŸ¥é“ "æˆ‘éœ€è¦ä¸€ä¸ªèŒƒå›´å†…çš„éšæœºæ•´æ•°"ï¼Œç„¶åå°±èƒ½å†™å‡ºæˆ–è®© AI ç”Ÿæˆè¿™æ®µä»£ç ã€‚</p>
<hr/>
<h2 data-id="heading-0">1ã€éªŒè¯ç èƒŒåçš„ã€Œç”¨ä¸­å­¦ã€å“²å­¦</h2>
<p>Â Â Â Â Â Â Â Â SnowAdmin çš„éªŒè¯ç ç»„ä»¶å®ç°é€»è¾‘å…¶å®å¾ˆæœ´ç´ </p>
<p>Â  Â  Â  Â  1.ç”¨<code>randomNum</code>ç”Ÿæˆéšæœºæ•°å­—å’Œé¢œè‰²</p>
<p>Â Â Â Â Â Â Â Â 2.é€šè¿‡ Canvas ç»˜åˆ¶å¹²æ‰°çº¿å’Œå™ªç‚¹</p>
<p>Â  Â  Â  Â  3.å°†ç”Ÿæˆçš„éªŒè¯ç å­—ç¬¦ä¸²å­˜å‚¨èµ·æ¥</p>
<p>Â  Â  Â  Â  4.ç™»å½•æ—¶æ¯”å¯¹ç”¨æˆ·è¾“å…¥ä¸å­˜å‚¨å€¼</p>
<p>Â Â Â Â Â Â Â Â æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¼€å‘è€…å¯èƒ½å¹¶ä¸å®Œå…¨æŒæ¡ Canvas çš„æ‰€æœ‰ APIï¼Œä¹Ÿä¸éœ€è¦çŸ¥é“è‰²å½©ç†è®ºï¼Œä½†è¿™ä¸æ¯«ä¸å½±å“å®ŒæˆåŠŸèƒ½ã€‚é‡åˆ° "å¦‚ä½•è®©æ–‡å­—æ—‹è½¬" çš„é—®é¢˜æ—¶ï¼Œæ‰å»æŸ¥<code>rotate</code>æ–¹æ³•çš„ä½¿ç”¨ï¼›éœ€è¦è°ƒæ•´å¹²æ‰°çº¿å¯†åº¦æ—¶ï¼Œæ‰å»ä¼˜åŒ–å¾ªç¯æ¬¡æ•°ã€‚è¿™ç§ "é‡åˆ°é—®é¢˜â†’è§£å†³é—®é¢˜â†’æŒæ¡çŸ¥è¯†" çš„æ¨¡å¼ï¼Œæ­£æ˜¯ã€Œç”¨ä¸­å­¦ã€çš„ç²¾é«“ã€‚</p>
<hr/>
<h2 data-id="heading-1">2ã€AI æ—¶ä»£ï¼Œæå‰å­¦ä¹ ä¸ºä½•è¶Šæ¥è¶Šä¸åˆ’ç®—ï¼Ÿ</h2>
<p>Â Â Â Â Â Â Â Â åœ¨ AI æˆä¸ºå…¨èƒ½åŠ©æ‰‹çš„ä»Šå¤©ï¼Œ"æå‰å‚¨å¤‡çŸ¥è¯†" çš„æ€§ä»·æ¯”æ­£åœ¨æ€¥å‰§ä¸‹é™ï¼š</p>
<p><strong>1.çŸ¥è¯†åŠè¡°æœŸç¼©çŸ­</strong>ï¼šå»å¹´è¿˜åœ¨ç”¨çš„æ¡†æ¶ APIï¼Œä»Šå¹´å¯èƒ½å°±è¢«åºŸå¼ƒã€‚SnowAdmin é‡Œç”¨çš„ Vue3+TypeScript ç»„åˆï¼Œå‡ å¹´å‰è¿˜æ˜¯å‰æ²¿æŠ€æœ¯ï¼Œç°åœ¨å·²æˆä¸ºæ ‡é…</p>
<p><strong>2.AI çš„å³æ—¶æ€§ç¢¾å‹è®°å¿†</strong>ï¼šå¿˜è®°<code>NProgress</code>çš„é…ç½®å‚æ•°ï¼Ÿé—®é—® AI å°±æœ‰ç­”æ¡ˆï¼›ä¸çŸ¥é“å¦‚ä½•å®ç°è¡¨å•éªŒè¯ï¼ŸAI èƒ½ç›´æ¥ç”Ÿæˆç±»ä¼¼verify-tools.tsé‡Œçš„æ­£åˆ™è¡¨è¾¾å¼</p>
<p><strong>3.é—®é¢˜å¤æ‚åº¦é£™å‡</strong>ï¼šç°ä»£é¡¹ç›®éœ€è¦æ•´åˆçš„æŠ€æœ¯æ ˆè¶Šæ¥è¶Šå¤šï¼Œä»éªŒè¯ç ç»„ä»¶åˆ°æƒé™ç®¡ç†ï¼Œä»å›½é™…åŒ–åˆ°æ€§èƒ½ä¼˜åŒ–ï¼Œæ²¡äººèƒ½æå‰å­¦å®Œæ‰€æœ‰çŸ¥è¯†</p>
<p>Â Â Â Â Â Â Â Â å°±åƒ SnowAdmin é›†æˆçš„ NProgress é…ç½®ï¼š</p>
<pre><code class="hljs language-php" lang="php">import NProgress <span class="hljs-keyword">from</span> <span class="hljs-string">"nprogress"</span>;
NProgress.<span class="hljs-title function_ invoke__">configure</span>({
  <span class="hljs-attr">easing</span>: <span class="hljs-string">"ease"</span>,
  <span class="hljs-attr">speed</span>: <span class="hljs-number">500</span>,
  <span class="hljs-attr">showSpinner</span>: <span class="hljs-literal">false</span>
});
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>Â Â Â Â Â Â Â Â å¤§å¤šæ•°å¼€å‘è€…ä¸ä¼šæå‰èƒŒè¯µè¿™äº›é…ç½®é¡¹ï¼Œè€Œæ˜¯åœ¨éœ€è¦è‡ªå®šä¹‰è¿›åº¦æ¡æ—¶ï¼Œæ‰å»æŸ¥é˜…æ–‡æ¡£æˆ–è®© AI ç”Ÿæˆç¤ºä¾‹ã€‚</p>
<hr/>
<h2 data-id="heading-2">3ã€ç¨‹åºå‘˜çš„æ ¸å¿ƒç«äº‰åŠ›è¿ç§»</h2>
<p>Â  Â  Â  Â  1.<strong>éœ€æ±‚æ‹†è§£èƒ½åŠ›</strong>èƒ½æŠŠ "åšä¸€ä¸ªéªŒè¯ç " æ‹†è§£æˆ "ç”Ÿæˆéšæœºå­—ç¬¦â†’ç»˜åˆ¶å›¾åƒâ†’å­˜å‚¨ä¸éªŒè¯" è¿™äº›æ­¥éª¤ï¼Œæ¯”è®°ä½ Canvas API æ›´é‡è¦</p>
<p><strong>2.è°ƒè¯•ä¸ä¼˜åŒ–æ„è¯†</strong>SnowAdmin çš„éªŒè¯ç ç»„ä»¶é€šè¿‡æ·»åŠ å¹²æ‰°çº¿ã€éšæœºæ—‹è½¬æ–‡å­—æ¥æé«˜å®‰å…¨æ€§ï¼Œè¿™ç§åŸºäºåœºæ™¯çš„ä¼˜åŒ–æ€è€ƒï¼Œæ˜¯ AI éš¾ä»¥æ›¿ä»£çš„</p>
<p><strong>3.è·¨è§’è‰²æ²Ÿé€šèƒ½åŠ›</strong>å’Œäº§å“ç»ç†ç¡®è®¤ "éªŒè¯ç é”™è¯¯æ˜¯å¦éœ€è¦æç¤ºå…·ä½“åŸå› "ï¼Œä¸æµ‹è¯•å·¥ç¨‹å¸ˆè®¨è®º "æš´åŠ›ç ´è§£é˜²æŠ¤ç­–ç•¥"ï¼Œè¿™äº›æ²Ÿé€šå†³å®šäº†åŠŸèƒ½çš„æœ€ç»ˆå½¢æ€</p>
<p><strong>4.æŠ€æœ¯é€‰å‹åˆ¤æ–­åŠ›</strong>ä¸ºä»€ä¹ˆ SnowAdmin é€‰æ‹©è‡ªå·±å®ç°éªŒè¯ç è€Œä¸æ˜¯ç”¨ç¬¬ä¸‰æ–¹åº“ï¼Ÿè¿™ç§æƒè¡¡èƒŒåçš„è€ƒé‡ï¼Œéœ€è¦å¯¹é¡¹ç›®è§„æ¨¡ã€å®‰å…¨æ€§è¦æ±‚ã€ç»´æŠ¤æˆæœ¬æœ‰æ·±åˆ»ç†è§£</p>
<hr/>
<h2 data-id="heading-3">4ã€ã€Œç”¨ä¸­å­¦ã€çš„å®è·µæ–¹æ³•è®º</h2>
<p>Â Â Â Â Â Â Â Â ç»“åˆ SnowAdmin çš„å¼€å‘åœºæ™¯ï¼Œåˆ†äº«å‡ ä¸ªå®ç”¨æŠ€å·§ï¼š</p>
<p><strong>1.ä»¥ç»„ä»¶ä¸ºå•ä½å­¦ä¹ </strong>ï¼šç ”ç©¶verify-tools.tsé‡Œçš„è¡¨å•éªŒè¯å‡½æ•°ï¼Œå°±èƒ½åŒæ—¶æŒæ¡æ­£åˆ™è¡¨è¾¾å¼ã€TypeScript ç±»å‹å®šä¹‰å’Œå·¥å…·å‡½æ•°è®¾è®¡</p>
<p><strong>2.å¸¦ç€é—®é¢˜æŸ¥æºç </strong>ï¼šæƒ³çŸ¥é“å¦‚ä½•å®ç°å“åº”å¼å¸ƒå±€ï¼Ÿç›´æ¥çœ‹ SnowAdmin çš„å¸ƒå±€ç»„ä»¶å¦‚ä½•ä½¿ç”¨<code>useDevicesSize</code>é’©å­</p>
<p><strong>3.æ¸è¿›å¼æ”¹é€ </strong>ï¼šå…ˆå®ç°åŸºç¡€åŠŸèƒ½ï¼ˆå¦‚ 4 ä½æ•°å­—éªŒè¯ç ï¼‰ï¼Œå†é€æ­¥æ·»åŠ å¹²æ‰°å…ƒç´ ã€è¿‡æœŸé€»è¾‘ï¼Œæ¯ä¸€æ­¥éƒ½è§£å†³ä¸€ä¸ªå…·ä½“é—®é¢˜</p>
<p><strong>4.å–„ç”¨ AI ä½†ä¸ä¾èµ–</strong>ï¼šè®© AI ç”Ÿæˆåˆå§‹ä»£ç åï¼Œä¸€å®šè¦äº²æ‰‹è°ƒè¯•ä¿®æ”¹ï¼Œæ¯”å¦‚è°ƒæ•´éªŒè¯ç çš„å­—ç¬¦é›†æˆ–å¹²æ‰°çº¿æ•°é‡ï¼Œè¿™ä¸ªè¿‡ç¨‹æ‰èƒ½çœŸæ­£ç†è§£é€»è¾‘</p>
<h2 data-id="heading-4">Â Â </h2>
<hr/>
<h2 data-id="heading-5">ç»“è¯­ï¼šåœ¨è§£å†³é—®é¢˜ä¸­æ„å»ºçŸ¥è¯†ä½“ç³»</h2>
<p>Â Â Â Â Â Â Â Â ç°ä»£ç¼–ç¨‹å°±åƒæ­å»ºä¹é«˜ç§¯æœ¨ â€”â€” ä½ ä¸éœ€è¦çŸ¥é“æ¯å—ç§¯æœ¨çš„åˆ¶ä½œå·¥è‰ºï¼Œåªè¦æ˜ç™½å¦‚ä½•ç»„åˆå®ƒä»¬å®ç°ç‰¹å®šåŠŸèƒ½ã€‚SnowAdmin çš„éªŒè¯ç ç»„ä»¶å¦‚æ­¤ï¼Œæ•´ä¸ªé¡¹ç›®çš„æ¶æ„äº¦æ˜¯å¦‚æ­¤ã€‚</p>
<p>Â Â Â Â Â Â Â Â AI ç¡®å®å–ä»£äº†éƒ¨åˆ†åˆçº§ç¨‹åºå‘˜çš„å·¥ä½œï¼Œä½†ä¹Ÿè§£æ”¾äº†æˆ‘ä»¬çš„è®¤çŸ¥å¸¦å®½ï¼Œè®©æˆ‘ä»¬èƒ½ä¸“æ³¨äºæ›´æ ¸å¿ƒçš„é—®é¢˜è§£å†³ä¸ç³»ç»Ÿè®¾è®¡ã€‚ä¸å…¶ç„¦è™‘ "è¢« AI æ›¿ä»£"ï¼Œä¸å¦‚æ‹¥æŠ± "ç”¨ä¸­å­¦" çš„æ¨¡å¼ï¼šåœ¨å®ç°åŠŸèƒ½çš„è¿‡ç¨‹ä¸­ç§¯ç´¯ç»éªŒï¼Œåœ¨ä¸å›¢é˜Ÿåä½œä¸­æå‡è½¯æŠ€èƒ½ï¼Œåœ¨ä¸æ–­ä¼˜åŒ–ä¸­æ·±åŒ–æŠ€æœ¯ç†è§£ã€‚</p>
<p>Â Â Â Â Â Â Â Â æ¯•ç«Ÿï¼Œç¼–ç¨‹çš„æœ¬è´¨ä»æ¥ä¸æ˜¯èƒŒè¯µ APIï¼Œè€Œæ˜¯åˆ›é€ æ€§åœ°è§£å†³é—®é¢˜ã€‚</p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºGitHub Actionsä¸ç®—åŠ›å¹³å°APIï¼šæ„å»ºç«¯åˆ°ç«¯çš„æ¨¡å‹è‡ªåŠ¨è®­ç»ƒä¸éƒ¨ç½²æµæ°´çº¿]]></title>    <link>https://juejin.cn/post/7575563462048628771</link>    <guid>https://juejin.cn/post/7575563462048628771</guid>    <pubDate>2025-11-24T08:05:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575563462048628771" data-draft-id="7575810396203040802" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºGitHub Actionsä¸ç®—åŠ›å¹³å°APIï¼šæ„å»ºç«¯åˆ°ç«¯çš„æ¨¡å‹è‡ªåŠ¨è®­ç»ƒä¸éƒ¨ç½²æµæ°´çº¿"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2025-11-24T08:05:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç®—å®¶è®¡ç®—"/> <meta itemprop="url" content="https://juejin.cn/user/1426490793396571"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºGitHub Actionsä¸ç®—åŠ›å¹³å°APIï¼šæ„å»ºç«¯åˆ°ç«¯çš„æ¨¡å‹è‡ªåŠ¨è®­ç»ƒä¸éƒ¨ç½²æµæ°´çº¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1426490793396571/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç®—å®¶è®¡ç®—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:05:43.000Z" title="Mon Nov 24 2025 08:05:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æœºå™¨å­¦ä¹ é¡¹ç›®çš„è¿­ä»£è¿‡ç¨‹ä¸­ï¼ŒæŒç»­é›†æˆä¸æŒç»­éƒ¨ç½²ï¼ˆCI/CDï¼‰å·²æˆä¸ºæå‡å›¢é˜Ÿåä½œæ•ˆç‡å’Œæ¨¡å‹äº¤ä»˜é€Ÿåº¦çš„å…³é”®ã€‚é€šè¿‡å°†ç®—åŠ›å¹³å°çš„APIèƒ½åŠ›åµŒå…¥GitHub Actionså·¥ä½œæµï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºä¸€å¥—ç«¯åˆ°ç«¯çš„è‡ªåŠ¨åŒ–ç®¡é“ï¼Œå®ç°ä»ä»£ç æäº¤åˆ°æ¨¡å‹è®­ç»ƒå†åˆ°æœåŠ¡éƒ¨ç½²çš„æ— ç¼è¡”æ¥ã€‚</p>
<h4 data-id="heading-0">ä¸€ã€è®¾è®¡è‡ªåŠ¨åŒ–æµæ°´çº¿çš„æ ¸å¿ƒç»„ä»¶</h4>
<p>è‡ªåŠ¨åŒ–æœºå™¨å­¦ä¹ æµæ°´çº¿é€šå¸¸åŒ…å«å¤šä¸ªå…³é”®èŠ‚ç‚¹ï¼šç¯å¢ƒå‡†å¤‡ã€ä»£ç æ£€æŸ¥ã€æ¨¡å‹è®­ç»ƒã€æ¨¡å‹è¯„ä¼°å’ŒæœåŠ¡éƒ¨ç½²ã€‚åœ¨è®¾è®¡ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘å¦‚ä½•å°†ç®—åŠ›å¹³å°çš„åŠ¨æ€èµ„æºè°ƒåº¦ä¸GitHub Actionsçš„äº‹ä»¶é©±åŠ¨æœºåˆ¶ç›¸ç»“åˆã€‚</p>
<p>åŸºäºGitHub Actionsçš„æœºå™¨å­¦ä¹ å·¥ä½œæµç¤ºä¾‹ä¸»è¦åŒ…å«è§¦å‘å™¨å®šä¹‰ã€èº«ä»½éªŒè¯ã€ç¯å¢ƒè®¾ç½®å’Œä»»åŠ¡æ‰§è¡Œå››ä¸ªéƒ¨åˆ†ã€‚æˆ‘ä»¬å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šæ‰©å±•ï¼Œé›†æˆç®—åŠ›å¹³å°çš„APIä»¥å®ç°å¼¹æ€§èµ„æºè°ƒåº¦ã€‚</p>
<p>å¯¹äºç®—åŠ›å¹³å°è€Œè¨€ï¼Œç±»ä¼¼â€œç®—å®¶äº‘â€è¿™æ ·çš„æœåŠ¡é€šè¿‡APIæä¾›ç®—åŠ›èµ„æºå¼¹æ€§è°ƒåº¦ï¼Œä½¿å¾—GitHub Actionsèƒ½å¤Ÿåœ¨éœ€è¦æ‰§è¡Œè®­ç»ƒä»»åŠ¡æ—¶åŠ¨æ€ç”³è¯·è®¡ç®—èµ„æºï¼Œä»»åŠ¡å®Œæˆåç«‹å³é‡Šæ”¾ï¼Œä»è€Œå®ç°æˆæœ¬ä¼˜åŒ–ã€‚</p>
<h4 data-id="heading-1">äºŒã€å®ç°ç«¯åˆ°ç«¯è‡ªåŠ¨åŒ–æµæ°´çº¿</h4>
<p>ä¸‹é¢æˆ‘ä»¬æ„å»ºä¸€ä¸ªå®Œæ•´çš„è‡ªåŠ¨åŒ–æµæ°´çº¿ï¼Œå®ç°ä»ä»£ç æäº¤è§¦å‘æ¨¡å‹è®­ç»ƒåˆ°æœåŠ¡éƒ¨ç½²çš„å…¨æµç¨‹ã€‚</p>
<ol>
<li><strong>å·¥ä½œæµå®šä¹‰ä¸è§¦å‘æœºåˆ¶</strong></li>
</ol>
<p>åœ¨å·¥ä½œæµå®šä¹‰ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®å¤šç§è§¦å‘æ¡ä»¶ï¼Œå¦‚ä»£ç æ¨é€ã€å®šæ—¶ä»»åŠ¡æˆ–æ‰‹åŠ¨è§¦å‘ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">Model</span> <span class="hljs-string">Training</span> <span class="hljs-string">Pipeline</span>
<span class="hljs-attr">on:</span>
  <span class="hljs-attr">push:</span>
    <span class="hljs-attr">branches:</span> [ <span class="hljs-string">main</span> ]
    <span class="hljs-attr">paths:</span> [ <span class="hljs-string">'models/**'</span> ]
  <span class="hljs-attr">schedule:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">cron:</span> <span class="hljs-string">"0 0 * * 1"</span>
  <span class="hljs-attr">workflow_dispatch:</span>
</code></pre>
<p>è¿™æ ·çš„é…ç½®ä¿è¯äº†æ¯æ¬¡å¯¹æ¨¡å‹ä»£ç çš„é‡è¦ä¿®æ”¹éƒ½èƒ½è§¦å‘è®­ç»ƒï¼ŒåŒæ—¶è®¾ç½®äº†æ¯å‘¨ä¸€æ¬¡çš„å®šæ—¶è®­ç»ƒï¼Œè¿˜å¯æ”¯æŒæ‰‹åŠ¨è§¦å‘ã€‚</p>
<ol start="2">
<li><strong>ç®—åŠ›å¹³å°èº«ä»½éªŒè¯é›†æˆ</strong></li>
</ol>
<p>å®‰å…¨åœ°ä¸ç®—åŠ›å¹³å°APIäº¤äº’æ˜¯æµæ°´çº¿çš„å…³é”®ç¯èŠ‚ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡GitHub Secretså­˜å‚¨è®¤è¯ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Authenticate</span> <span class="hljs-string">to</span> <span class="hljs-string">Compute</span> <span class="hljs-string">Platform</span>
  <span class="hljs-attr">uses:</span> <span class="hljs-string">azure/login@v2</span>
  <span class="hljs-attr">with:</span>
    <span class="hljs-attr">creds:</span> <span class="hljs-string">${{</span> <span class="hljs-string">secrets.COMPUTE_PLATFORM_CREDENTIALS</span> <span class="hljs-string">}}</span>
</code></pre>
<p>è¿™ä¸€æ­¥éª¤ç±»ä¼¼äºAzureæœºå™¨å­¦ä¹ ä¸­çš„èº«ä»½éªŒè¯æ–¹æ³•ï¼Œä½†é€‚é…äº†ç®—åŠ›å¹³å°çš„APIè®¤è¯æ–¹å¼ã€‚</p>
<ol start="3">
<li><strong>åŠ¨æ€èµ„æºç”³è¯·ä¸è®­ç»ƒä»»åŠ¡æäº¤</strong></li>
</ol>
<p>é€šè¿‡APIè°ƒç”¨ç®—åŠ›å¹³å°ï¼Œå®ç°è®­ç»ƒä»»åŠ¡çš„åŠ¨æ€æäº¤ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Submit</span> <span class="hljs-string">Training</span> <span class="hljs-string">Job</span>
  <span class="hljs-attr">run:</span> <span class="hljs-string">|
    RESPONSE=$(curl -X POST https://api.suanjiayun.com/v1/train/jobs \
      -H "Authorization: Bearer ${{ secrets.API_TOKEN }}" \
      -H "Content-Type: application/json" \
      -d '{
        "project": "ml-model",
        "compute_type": "gpu-cluster",
        "entry_script": "train.py",
        "dataset_path": "data/processed/"
      }')
    echo "JOB_ID=$(echo $RESPONSE | jq -r '.job_id')" &gt;&gt; $GITHUB_ENV
</span></code></pre>
<p>è¿™ç§æ–¹æ³•å€Ÿé‰´äº†MCPï¼ˆæ¨¡å‹æ§åˆ¶æµæ°´çº¿ï¼‰æ¶æ„ä¸­çš„ä»»åŠ¡æäº¤é€»è¾‘ï¼Œé€šè¿‡APIå°†è®­ç»ƒä»»åŠ¡åˆ†å‘åˆ°ç®—åŠ›å¹³å°ã€‚</p>
<ol start="4">
<li><strong>è®­ç»ƒçŠ¶æ€ç›‘æ§ä¸ç»“æœè·å–</strong></li>
</ol>
<p>ç”±äºè®­ç»ƒä»»åŠ¡å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼Œæˆ‘ä»¬éœ€è¦å®ç°çŠ¶æ€è½®è¯¢æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Monitor</span> <span class="hljs-string">Training</span> <span class="hljs-string">Progress</span>
  <span class="hljs-attr">run:</span> <span class="hljs-string">|
    while true; do
      STATUS=$(curl -s -H "Authorization: Bearer ${{ secrets.API_TOKEN }}" \
        https://api.suanjiayun.com/v1/train/jobs/$JOB_ID | jq -r '.status')
      echo "Current status: $STATUS"
      
      if [ "$STATUS" = "COMPLETED" ]; then
        echo "Training completed successfully"
        break
      elif [ "$STATUS" = "FAILED" ]; then
        echo "Training failed"
        exit 1
      fi
      sleep 120
    done
</span></code></pre>
<p>è¿™ç§ç›‘æ§æ–¹å¼ç±»ä¼¼äºIBMç¼–æ’ç®¡é“ä¸­å¯¹æµç¨‹èŠ‚ç‚¹çš„ç›‘æ§é€»è¾‘ï¼Œç¡®ä¿åŠæ—¶è·å–ä»»åŠ¡çŠ¶æ€ã€‚</p>
<ol start="5">
<li><strong>æ¨¡å‹è¯„ä¼°ä¸è‡ªåŠ¨éƒ¨ç½²</strong></li>
</ol>
<p>è®­ç»ƒå®Œæˆåï¼Œè‡ªåŠ¨è¿›è¡Œæ¨¡å‹è¯„ä¼°å¹¶å†³å®šæ˜¯å¦éƒ¨ç½²ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Evaluate</span> <span class="hljs-string">Model</span> <span class="hljs-string">and</span> <span class="hljs-string">Deploy</span>
  <span class="hljs-attr">run:</span> <span class="hljs-string">|
    ACCURACY=$(curl -s -H "Authorization: Bearer ${{ secrets.API_TOKEN }}" \
      https://api.suanjiayun.com/v1/train/jobs/$JOB_ID/metrics | jq -r '.accuracy')
</span>    
    <span class="hljs-string">echo</span> <span class="hljs-string">"Model accuracy: $ACCURACY"</span>
    
    <span class="hljs-string">MIN_ACCURACY=0.85</span>
    <span class="hljs-string">if</span> <span class="hljs-string">((</span> <span class="hljs-string">$(echo</span> <span class="hljs-string">"$ACCURACY &gt; $MIN_ACCURACY"</span> <span class="hljs-string">|</span> <span class="hljs-string">bc</span> <span class="hljs-string">-l)</span> <span class="hljs-string">));</span> <span class="hljs-string">then</span>
      <span class="hljs-string">echo</span> <span class="hljs-string">"Deploying model..."</span>
      <span class="hljs-comment"># è°ƒç”¨éƒ¨ç½²API</span>
    <span class="hljs-string">else</span>
      <span class="hljs-string">echo</span> <span class="hljs-string">"Model accuracy below threshold, skipping deployment"</span>
    <span class="hljs-string">fi</span>
</code></pre>
<p>è¿™ä¸€é˜¶æ®µçš„è¯„ä¼°é€»è¾‘ç±»ä¼¼äºMCPæ¶æ„ä¸­çš„æ¨¡å‹æ€§èƒ½ç›‘æ§ä¸è‡ªåŠ¨å›æ»šæœºåˆ¶ã€‚</p>
<h4 data-id="heading-2">ä¸‰ã€é«˜çº§å®è·µä¸ä¼˜åŒ–ç­–ç•¥</h4>
<p>å¯¹äºæˆç†Ÿçš„æœºå™¨å­¦ä¹ å›¢é˜Ÿï¼Œè¿˜å¯ä»¥è€ƒè™‘ä»¥ä¸‹é«˜çº§å®è·µï¼š</p>
<ol>
<li><strong>å¤šç¯å¢ƒéƒ¨ç½²ç­–ç•¥</strong>ï¼šå®ç°åŸºäºæ¨¡å‹æ€§èƒ½çš„è‡ªåŠ¨æ¨å¹¿</li>
</ol>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Progressive</span> <span class="hljs-string">Deployment</span>
  <span class="hljs-attr">run:</span> <span class="hljs-string">|
    if [ "${{ github.ref }}" == "refs/heads/main" ]; then
      # ä¸»åˆ†æ”¯ä»£ç ç›´æ¥éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
      TARGET_ENV="production"
    else
      # å…¶ä»–åˆ†æ”¯éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ
      TARGET_ENV="staging"
    fi
</span>    
    <span class="hljs-string">echo</span> <span class="hljs-string">"Deploying to $TARGET_ENV"</span>
</code></pre>
<ol start="2">
<li><strong>æ¨¡å‹ç‰ˆæœ¬ç®¡ç†ä¸å›æ»š</strong>ï¼šç»“åˆæ¨¡å‹æ³¨å†Œè¡¨ï¼Œå®ç°ç‰ˆæœ¬æ§åˆ¶å’Œå¿«é€Ÿå›æ»š</li>
</ol>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Register</span> <span class="hljs-string">Model</span> <span class="hljs-string">Version</span>
  <span class="hljs-attr">run:</span> <span class="hljs-string">|
    # æ³¨å†Œæ–°æ¨¡å‹ç‰ˆæœ¬
    curl -X POST https://api.suanjiayun.com/v1/models/versions \
      -H "Authorization: Bearer ${{ secrets.API_TOKEN }}" \
      -H "Content-Type: application/json" \
      -d '{
        "name": "text-classifier",
        "version": "${{ github.sha }}",
        "metrics": {
          "accuracy": 0.92,
          "inference_speed": 45
        }
      }'
</span></code></pre>
<ol start="3">
<li><strong>ç›‘æ§ä¸åé¦ˆé›†æˆ</strong>ï¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ç›‘æ§æ¨¡å‹æ€§èƒ½ï¼Œå»ºç«‹åé¦ˆå¾ªç¯</li>
</ol>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç›‘æ§æ¨¡å‹æ€§èƒ½ï¼Œæ£€æµ‹æ¦‚å¿µæ¼‚ç§»</span>
<span class="hljs-keyword">from</span> mcp_sdk <span class="hljs-keyword">import</span> MonitorEngine

MonitorEngine.watch(
    model_name=<span class="hljs-string">"text-classifier"</span>, 
    version=<span class="hljs-string">"v1.0"</span>, 
    metrics=[<span class="hljs-string">"accuracy"</span>, <span class="hljs-string">"latency"</span>]
)

<span class="hljs-comment"># è®¾ç½®æ€§èƒ½é˜ˆå€¼ï¼Œè§¦å‘è‡ªåŠ¨é‡æ–°è®­ç»ƒ</span>
MonitorEngine.set_threshold(
    model_name=<span class="hljs-string">"text-classifier"</span>,
    metric=<span class="hljs-string">"accuracy"</span>,
    min_value=<span class="hljs-number">0.85</span>,
    action=<span class="hljs-string">"retrain"</span>
)
</code></pre>
<p>è¿™ç§ç›‘æ§æ–¹æ³•å€Ÿé‰´äº†MCPæ¶æ„ä¸­çš„æ¨¡å‹æ€§èƒ½ç›‘æ§ä¸è‡ªåŠ¨åé¦ˆæœºåˆ¶ã€‚</p>
<p>é€šè¿‡GitHub Actionsä¸ç®—åŠ›å¹³å°APIçš„é›†æˆï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ„å»ºä¸€ä¸ªå®Œå…¨è‡ªåŠ¨åŒ–çš„æ¨¡å‹è®­ç»ƒä¸éƒ¨ç½²æµæ°´çº¿ã€‚è¿™ç§æ–¹æ¡ˆä¸ä»…å¤§å¹…æå‡äº†æœºå™¨å­¦ä¹ é¡¹ç›®çš„è¿­ä»£æ•ˆç‡ï¼Œè¿˜é€šè¿‡åŠ¨æ€èµ„æºè°ƒåº¦ä¼˜åŒ–äº†è®¡ç®—æˆæœ¬ã€‚</p>
<p>éšç€AIåº”ç”¨åœºæ™¯çš„ä¸æ–­æ‰©å±•ï¼ŒåŸºäºCI/CDçš„è‡ªåŠ¨åŒ–æœºå™¨å­¦ä¹ æµæ°´çº¿å°†æˆä¸ºå›¢é˜Ÿåä½œå’Œæ¨¡å‹äº¤ä»˜çš„æ ‡å‡†å®è·µï¼Œè€Œç®—åŠ›å¹³å°çš„APIåŒ–åˆ™è®©è¿™ä¸€è¿‡ç¨‹çš„å®ç°å˜å¾—æ›´åŠ ç®€å•å’Œé«˜æ•ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Day 14ï¼šä¸ªäººå¼€å‘è€…çš„ Cloudflare é€šå…³æŒ‡å—-å°†åŸŸåæ‰˜ç®¡åˆ° Cloudflare]]></title>    <link>https://juejin.cn/post/7575910333400907830</link>    <guid>https://juejin.cn/post/7575910333400907830</guid>    <pubDate>2025-11-24T08:06:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575910333400907830" data-draft-id="7576018857367617579" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Day 14ï¼šä¸ªäººå¼€å‘è€…çš„ Cloudflare é€šå…³æŒ‡å—-å°†åŸŸåæ‰˜ç®¡åˆ° Cloudflare"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-11-24T08:06:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”³é˜³"/> <meta itemprop="url" content="https://juejin.cn/user/4353721775165486"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Day 14ï¼šä¸ªäººå¼€å‘è€…çš„ Cloudflare é€šå…³æŒ‡å—-å°†åŸŸåæ‰˜ç®¡åˆ° Cloudflare
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4353721775165486/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”³é˜³
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:06:20.000Z" title="Mon Nov 24 2025 08:06:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c53ec1ce3944d729297fd050a54427b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=BV693tAztmgG3NaZWwPThvlm%2FAk%3D" alt="image-20251118150054298" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<p><code>Cloudflare</code> æ‰˜ç®¡åŸŸåï¼Œå…è´¹ <code>CDN</code> åŠ é€Ÿï¼Œå…è´¹ç”³è¯· <code>SSL</code> è¯ä¹¦ï¼Œç›¸æ¯”äºå…¶ä»–å¹³å°ï¼Œè¿™äº›å¯¹ä¸ªäººå¼€å‘è€…è€Œè¨€æ— ç–‘æœ‰ç€ç»å¯¹çš„å¸å¼•åŠ›ï¼Œè¿™æœŸæˆ‘ä»¬å°±ä¸€èµ·çœ‹ä¸€ä¸‹å¦‚ä½•å°†æˆ‘ä»¬çš„åŸŸåæ‰˜ç®¡åˆ° <code>Cloudflare</code>ï¼Œå¹¶ä¸”å®Œæˆ <code>CDN</code> åŠ é€Ÿã€‚</p>
<blockquote>
<p>é¦–å…ˆè¦å®Œæˆ <code>Cloudflare</code> çš„è´¦å·æ³¨å†Œï¼Œè¿™é‡Œæˆ‘å°±ä¸èµ˜è¿°äº†ï¼Œå®˜ç½‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cloudflare-cn.com%2F" target="_blank" title="https://www.cloudflare-cn.com/" ref="nofollow noopener noreferrer">www.cloudflare-cn.com/</a></p>
<p>ä»¥åŠåŸŸåæ³¨å†Œï¼Œæ— è®ºä½ æ˜¯å“ªä¸ªå¹³å°ï¼Œè¦å‡†å¤‡ä¸€ä¸ªåŸŸåã€‚</p>
</blockquote>
<h2 data-id="heading-1">äºŒã€æ‰˜ç®¡åŸŸå</h2>
<h3 data-id="heading-2">2.1.  æ·»åŠ è¿æ¥åŸŸ</h3>
<p>ç‚¹å‡»å³ä¸Šè§’ ã€æ·»åŠ ã€‘â€“&gt; ã€è¿æ¥åŸŸã€‘</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6aac7445cca3480b879dd7caf2e53fc2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=NT4dpCEKnDhC0MJmmqk3rHtY7kQ%3D" alt="image-20251121104821441" loading="lazy"/></p>
<p>å¡«å†™å¥½è‡ªå·±è¦æ‰˜ç®¡çš„åŸŸå</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58caf9d9fdeb4bb1b8020552f1dc0b52~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=Zz4Ix9UHJTb%2BWD1NnJqmfkKopOc%3D" alt="image-20251121105005820" loading="lazy"/></p>
<p>ç‚¹å‡» ã€ç»§ç»­ã€‘ï¼Œé€‰ä¸­å…è´¹è®¡åˆ’</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0de44e1b18944b288014ab3e7b58e38~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=%2FHiUJ9bV2I0jgOdvdTeKiAbszTY%3D" alt="image-20251121105232214" loading="lazy"/></p>
<p>è¿›å…¥æœ€åä¸€æ­¥å¼•å¯¼é…ç½®é¡µé¢</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ab161fbdf7746aeb58b4dec6075a32b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=rtpkLG9sugKofRt%2BEBIjVbcd9io%3D" alt="image-20251121105352875" loading="lazy"/></p>
<blockquote>
<p>è¿™é‡Œæˆ‘ç”¨çš„æ˜¯ä¹‹å‰åœ¨è…¾è®¯è§£æè¿‡çš„åŸŸåï¼Œæ‰€ä»¥è¿™é‡Œä¼šç»™æˆ‘ä¹‹å‰çš„é…ç½®å¸¦è¿‡æ¥ï¼Œå…ˆä¸ç®¡å®ƒã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fc5bb8f13cd40969304366270228602~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=EXjk59owGMDa8A%2FrVbFD4gqCaYI%3D" alt="image-20251121111550914" loading="lazy"/></p>
<h3 data-id="heading-3">2.2. æ¿€æ´» Cloudflare</h3>
<ul>
<li><strong>ç¬¬ä¸€æ­¥ï¼šç™»å½•æ‚¨çš„ DNS æä¾›å•†</strong></li>
</ul>
<p>æ ¹æ®æœ€åä¸€æ­¥æŒ‡å¼•ï¼Œè¿™é‡Œæˆ‘çš„æ˜¯è…¾è®¯ä¹°çš„åŸŸåï¼Œæ‰€ä»¥æˆ‘ç™»å½•è…¾è®¯äº‘åå°ï¼Œæ‰¾åˆ°äº†åŸŸåç®¡ç†çš„åœ°æ–¹ï¼Œå¦‚æœä½ ç”¨çš„æ˜¯å…¶ä»–å¹³å°ï¼Œæ‰¾åˆ°ä½ åŸŸåç®¡ç†çš„åœ°æ–¹ã€‚æ‰¾åˆ° DNS è§£æçš„åœ°æ–¹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e29a5d5ab60e49ad8bccb722c6e8bbea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=FJYU6Wb21X1VYQEfMjkpTqVup%2BE%3D" alt="image-20251121112325176" loading="lazy"/></p>
<ul>
<li><strong>ç¬¬äºŒæ­¥ï¼šç¡®ä¿ DNSSEC å·²å…³é—­</strong></li>
</ul>
<p>è¿™é‡Œæˆ‘ä»¥è…¾è®¯äº‘ä¸ºä¾‹ï¼Œè…¾è®¯äº‘è¿™ä¸ªæ˜¯è¦ä»˜è´¹çš„ï¼Œæ‰€ä»¥å¦‚æœä½ æ²¡æœ‰ä»˜è¿‡è´¹ï¼Œå¤§æ¦‚ç‡ä¸ç”¨ç®¡ï¼Œå¿½ç•¥è¿™ä¸€æ­¥å°±è¡Œã€‚</p>
<p>å…·ä½“ä½ç½®ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1ffb5e5f929466785ca22eca0648392~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=C1dfTooOtDpKfUkqhKsCO5veYWc%3D" alt="image-20251121113455246" loading="lazy"/></p>
<ul>
<li><strong>ç¬¬ä¸‰æ­¥ï¼šå°†æ‚¨å½“å‰çš„åç§°æœåŠ¡å™¨æ›¿æ¢ä¸º Cloudflare åç§°æœåŠ¡å™¨</strong></li>
</ul>
<p>å°†è…¾è®¯äº‘DNSæœåŠ¡å™¨æ”¹æˆ Cloudflare æä¾›çš„</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7bdaf04db494834954769500ab3b137~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=lrnnbQpwiWsF5TSL3On0V6TR9%2Bc%3D" alt="image-20251121113759352" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf0bf8aff2814062a55510419ff402a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=odeZrR2XBjmnsoXKpBn1BktNq0Y%3D" alt="image-20251121113917542" loading="lazy"/></p>
<p>ç‚¹å‡»æäº¤åå°±å®Œæˆäº†æ‰€æœ‰æ­¥éª¤</p>
<p>è¿‡ä¸€ä¼šå„¿ä½ å°±ä¼šæ”¶åˆ°é‚®ä»¶æç¤º</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9c9b81018d84779b1fa20ec9dbb2f28~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=eWfjHlv%2Fd2y%2FvB%2BVmCGWrIC2eyE%3D" alt="image-20251121114233488" loading="lazy"/></p>
<p>åˆ·æ–°é¡µé¢ï¼Œå˜æˆæ´»åŠ¨çŠ¶æ€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6988cff5508449a894cea6d3d453e13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=OqpGgGbIyPs%2FbJV9t8B6%2F7h1DbM%3D" alt="image-20251121114159864" loading="lazy"/></p>
<blockquote>
<p>è¿™ä¸ªæ—¶å€™æ‰˜ç®¡å·²ç»å®Œæˆï¼Œä½†æ˜¯åŸŸåè§£ææœ‰ç‚¹ä¹±ï¼Œå› ä¸ºæˆ‘ä»¬ä¹‹å‰æ˜¯åœ¨è…¾è®¯äº‘åšçš„åŸŸåè§£æï¼Œç°åœ¨æ‰˜ç®¡ç»™äº†Cloudflareï¼Œç†è®ºä¸Šæ¥è¯´åç»­æˆ‘ä»¬å¯ä»¥ä¸ç”¨ç®¡è…¾è®¯äº‘äº†ã€‚ä¸ºäº†ç»Ÿä¸€ç®¡ç†ï¼Œæˆ‘å°†è…¾è®¯äº‘å¹³å°çš„å…¨éƒ¨åˆ äº†ï¼Œè¿™ä¸ªä¼šå½±å“å½“å‰ç½‘ç«™çš„è¿è¡Œï¼Œæ‰€ä»¥å¦‚æœå¯¹ä½ ç›®å‰ç½‘ç«™æœ‰å½±å“è¯·è°¨æ…æ“ä½œã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c34a51ce756f4dc590aaf4e5177d2162~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=u7YvQ0Z0sC6EbIZR%2FPsxxdcNF84%3D" alt="image-20251121114922109" loading="lazy"/></p>
<p><code>Cloudflare</code> ä¹‹å‰è‡ªå·±æ‰«æè¿‡æ¥çš„DNSè®°å½•ä¹Ÿå…¨éƒ¨åˆ é™¤æ‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b61aba9212f45cba2060d483972bea3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=LF7awQpQtQHIIc35gucvjpndPLU%3D" alt="image-20251121115914436" loading="lazy"/></p>
<p>è¿™ä¸ªæ—¶å€™å†å»è®¿é—®æˆ‘ä»¬ä¹‹å‰çš„ç«™ç‚¹ï¼Œå·²ç»å´©äº†</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13ebf319c83e444a9b0a2c72d0f69928~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=mHagteAc84b%2FqxojOFOnHXi67vM%3D" alt="image-20251121120124192" loading="lazy"/></p>
<h3 data-id="heading-4">2.3. åŸŸåè§£æ</h3>
<blockquote>
<p>é‡æ–°æ·»åŠ åŸŸåè§£æï¼ŒIPv4 å¡«ä½ æœåŠ¡å™¨çš„å¤–ç½‘IP</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae23b98739f641a6af477b8bd6789426~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=35Sn1RxU4R6xmZbgeI10QmSW%2BQA%3D" alt="image-20251121133553538" loading="lazy"/></p>
<p>ä¿å­˜åï¼Œé‡æ–°åˆ·æ–°ä¸€ä¸‹  <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.csyblog.cn%2F%25EF%25BC%258C%25E6%2581%25A2%25E5%25A4%258D%25E6%25AD%25A3%25E5%25B8%25B8%25E4%25BA%2586%25E3%2580%2582" target="_blank" title="https://www.csyblog.cn/%EF%BC%8C%E6%81%A2%E5%A4%8D%E6%AD%A3%E5%B8%B8%E4%BA%86%E3%80%82" ref="nofollow noopener noreferrer">www.csyblog.cn/ï¼Œæ¢å¤æ­£å¸¸äº†ã€‚</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76d78c2b4cf5418ba18132b5b7073f27~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=Fouwzu8fcTr8u2ssFykqbBPp1ww%3D" alt="image-20251121133713879" loading="lazy"/></p>
<h2 data-id="heading-5">ä¸‰ã€å¯ç”¨ Cloudflare ä»£ç†ä¸ CDN æœåŠ¡</h2>
<blockquote>
<p>ğŸ’¡ è¿™é‡Œç®€å•ç§‘æ™®ä¸€ä¸‹ä»€ä¹ˆæ˜¯ <code>CDN</code>ï¼š</p>
<p><code>Content Delivery Network</code>ï¼Œå†…å®¹åˆ†å‘ç½‘ç»œï¼Œç”±åœ°ç†ä¸Šåˆ†æ•£çš„æœåŠ¡å™¨ç»„æˆï¼Œå½“ç”¨æˆ·è¯·æ±‚è®¿é—®ç‰¹å®šå†…å®¹æ—¶ï¼Œ<code>CDN</code> å¯ä»¥ä»æœ€æ¥è¿‘ç”¨æˆ·çš„æœåŠ¡å™¨æä¾›ç¼“å­˜çš„å†…å®¹ï¼Œä»è€Œå‡å°‘äº†ä¼ è¾“å»¶è¿Ÿå’Œç½‘ç»œæ‹¥å¡ã€‚</p>
<p>å¤§ç™½è¯å°±æ˜¯ï¼Œ<strong>æŠŠä¸œè¥¿æå‰æ”¾åˆ°ç¦»ä½ æœ€è¿‘çš„åœ°æ–¹ï¼Œè®©ä½ ä¸ç”¨åƒé‡Œè¿¢è¿¢å»å–</strong></p>
</blockquote>
<p>é‚£ä¹ˆ CDN çš„å¥½å¤„ä¹Ÿå°±æ˜¾è€Œæ˜“è§äº†ï¼š</p>
<ol>
<li><strong>é€Ÿåº¦é£å¿«ï¼š</strong> æŠŠç½‘ç«™å†…å®¹ï¼ˆå›¾ç‰‡ã€è§†é¢‘ç­‰ï¼‰å¤åˆ¶åˆ°ç¦»ä½ æœ€è¿‘çš„æœåŠ¡å™¨ä¸Šï¼Œè®©ä½ å‡ ä¹æ„Ÿè§‰ä¸åˆ°å»¶è¿Ÿï¼Œçœ‹è§†é¢‘ã€åˆ·ç½‘é¡µæ›´é¡ºç•…ã€‚</li>
<li>**æ‰›å¾—ä½é«˜å¹¶å‘ï¼š**å³ä½¿æˆåƒä¸Šä¸‡äººåŒæ—¶è®¿é—®åŒä¸€ä¸ªçƒ­é—¨ç½‘ç«™ï¼ˆæ¯”å¦‚æŠ¢ç¥¨ã€åŒåä¸€ï¼‰ï¼Œ<code>CDN</code>èƒ½æŠŠæµé‡åˆ†æ•£åˆ°å„ä¸ªèŠ‚ç‚¹ï¼Œç½‘ç«™ä¸å®¹æ˜“å´©æºƒã€‚</li>
<li>**æ›´çœé’±ï¼š**å‡è½»äº†åŸå§‹æœåŠ¡å™¨çš„å‹åŠ›å’Œå¸¦å®½æ¶ˆè€—ï¼Œä¸ºç½‘ç«™æ‰€æœ‰è€…èŠ‚çœäº†æˆæœ¬ã€‚</li>
<li>**æ›´å®‰å…¨ï¼š**åƒä¸€é“é˜²çº¿ï¼Œèƒ½å¸®åŠ©æŠµå¾¡ä¸€äº›ç½‘ç»œæ”»å‡»ï¼ˆæ¯”å¦‚ <code>DDoS</code> æ”»å‡»ï¼‰ï¼Œä¿æŠ¤æºç«™æœåŠ¡å™¨ã€‚</li>
<li>**æ›´ç¨³å®šå¯é ï¼š**å¦‚æœä¸€ä¸ª <code>CDN</code> èŠ‚ç‚¹å‡ºé—®é¢˜äº†ï¼Œä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°å…¶ä»–æ­£å¸¸èŠ‚ç‚¹ï¼Œä¿è¯ç”¨æˆ·è¿˜èƒ½æ­£å¸¸è®¿é—®ï¼Œä¸ä¼šä¸­æ–­ã€‚</li>
</ol>
<p>åœ¨å¼€å¯ <code>CDN</code> ä¹‹å‰å…ˆçœ‹ä¸€ä¸ªç°è±¡ï¼Œæˆ‘ä»¬ <code>ping</code> ä¸€ä¸‹æ²¡å¼€å¯æœåŠ¡ä¹‹å‰çš„åŸŸå(å¦‚æœå‘ç° <code>ping</code> ä¸é€šï¼Œå¯èƒ½éœ€è¦ç­‰ä¸€ä¼šå„¿ï¼Œå› ä¸ºåˆšåˆšæ·»åŠ çš„è§£æ)ï¼Œä¼šå‘ç°å¯ä»¥ç›´æ¥<code>ping</code> å‡ºæ¥æˆ‘ä»¬æœåŠ¡å™¨çš„çœŸå® <code>IP</code>ï¼Œé€šå¸¸æƒ…å†µæœåŠ¡å™¨IPç›´æ¥æš´éœ²æ˜¯å­˜åœ¨ä¸€å®šé£é™©çš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d4631c903664cb88da2db05dd14f121~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=A91%2FsKxRIHqME6Px3G2EHwaXUhU%3D" alt="image-20251121134424910" loading="lazy"/></p>
<p>å¼€å¯ä»£ç†éå¸¸ç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ <code>DNS</code> è®°å½•ï¼Œç¼–è¾‘å¼€å¯å³å¯</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e55d49e609fd4509bb116bb7b4698b47~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=zSTD5Q5F9mZk%2BuaaAIwwMuhJFA0%3D" alt="image-20251121134600047" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96041cbbdbfa493795dc0f631a65a177~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=YlC8%2FV7WmpyF0IgpzSsk5blPNoE%3D" alt="image-20251121134711356" loading="lazy"/></p>
<blockquote>
<p>å½“ä½ å¯ç”¨ <code>Cloudflare</code> çš„ä»£ç†åŠŸèƒ½æ—¶ï¼Œ<code>Cloudflare CDN</code> æœåŠ¡ä¹Ÿå°±å¯ç”¨äº†ã€‚</p>
</blockquote>
<p>æˆ‘ä»¬å† <code>ping</code> ä¸€ä¸‹åŸŸåï¼Œä¼šå‘ç° <code>IP</code> å·²ç»ä¸æ˜¯æˆ‘ä»¬æœåŠ¡å™¨çš„ <code>IP</code> äº†ï¼Œå½“ç„¶è¿™ä¹Ÿä¼šæœ‰ä¸€ç‚¹å»¶è¿Ÿï¼Œæ‰€ä»¥ç¬¬ä¸€æ—¶é—´ <code>ping</code> å‡ºçš„å¦‚æœè¿˜æ˜¯æœåŠ¡å™¨ <code>IP</code>ï¼Œå¹¶ä¸ä»£è¡¨ä»£ç†å¤±è´¥äº†ï¼Œåªéœ€è¦ç­‰ä¸ª <code>5-10</code> åˆ†é’Ÿï¼Œå†éªŒè¯ä¸€ä¸‹å³å¯ã€‚</p>
<h2 data-id="heading-6">å››ã€ç”³è¯· SSL/TLS è¯ä¹¦</h2>
<p>ä¹‹å‰æˆ‘ä½¿ç”¨çš„æ˜¯è…¾è®¯äº‘çš„ï¼Œä¹Ÿæ˜¯å…è´¹çš„ï¼Œä½†æ˜¯éœ€è¦æ¯<code>3</code>ä¸ªæœˆæ¢ä¸€æ¬¡ï¼Œæœ‰ç‚¹éº»çƒ¦ã€‚</p>
<p>ç‚¹å‡»ã€æ¦‚è¿°ã€‘â€“&gt; ã€é…ç½®ã€‘</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/827de10866d54d3d944c5019e78ee14b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=ZqU2C%2BltMSUfnb1zsWjf8VKT2jc%3D" alt="image-20251121141707011" loading="lazy"/></p>
<p>é€‰åˆ™ã€å®Œå…¨ã€‘â€“&gt; ã€ä¿å­˜ã€‘</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fcf544a118040ca898d772fc5603757~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=3SdjTnyszOHxiufrqW1kuw9WIIw%3D" alt="image-20251121141920929" loading="lazy"/></p>
<p>ç‚¹å‡»å·¦ä¾§èœå•ã€æºæœåŠ¡å™¨ã€‘â€“&gt; ã€åˆ›å»ºè¯ä¹¦ã€‘</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eebcabb5937047d6b0f93ecf3e564d44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=Yg6dQnCrBBlXlpkiivPP3SCo7x0%3D" alt="image-20251121142123741" loading="lazy"/></p>
<p>è¿™é‡Œé»˜è®¤é€‰é¡¹å°±è¡Œï¼Œé»˜è®¤è¯ä¹¦æœ‰æ•ˆæœŸ<code>15</code>å¹´ï¼Œæ ¹æ®è‡ªå·±éœ€è¦è°ƒæ•´ä¸»æœºåï¼Œè¿™é‡Œé»˜è®¤æ˜¯é¡¶çº§åŸŸåå’Œé€šé…ç¬¦ä¸‹æ‰€æœ‰äºŒçº§åŸŸåã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13db64e1c05643e6a4a472c4dbccab8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=8bBk3G75fcnvPj1ULRxfjqG3jvM%3D" alt="image-20251121142259655" loading="lazy"/></p>
<p>ç‚¹å‡» ã€åˆ›å»ºã€‘ï¼Œè¿™ä¸ªæ—¶å€™å°±ç”Ÿæˆäº†è¯ä¹¦å’Œå¯†é’¥ï¼Œåœ¨ <code>nginx</code> é…ç½®ä¸Šå³å¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d66b35ce0794d18abaad8868f3308a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576380&amp;x-signature=Z4wzYBlwBYSxIcqdZXSf%2FTafaUk%3D" alt="image-20251121142522394" loading="lazy"/></p>
<blockquote>
<p>æ³¨æ„è¿™é‡Œçš„å¯†é’¥ <code>key</code> åªä¼šæ˜¾ç¤ºä¸€æ¬¡ï¼Œå¦‚æœä¸å°å¿ƒå¿˜è®°å¤åˆ¶äº†ï¼Œé‚£åªèƒ½æŠŠåŸæ¥çš„è¯ä¹¦æ’¤é”€äº†ï¼Œé‡æ–°åˆ›å»ºä¸€ä¸ªã€‚</p>
</blockquote>
<h2 data-id="heading-7">äº”ã€æ€»ç»“</h2>
<p>åŸŸåæ‰˜ç®¡ã€cdnåŠ é€Ÿã€ssl è¯ä¹¦è¿™æ˜¯ä¸€ä¸ªç«™ç‚¹æœ€åŸºç¡€çš„é…ç½®ï¼Œæ— è®ºä½ ä½¿ç”¨å“ªä¸ªå¹³å°ï¼Œå…¶å®æœ¬è´¨éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ— éå°±æ˜¯ä»˜è´¹å·®å¼‚ï¼Œ<code>Cloudflare</code> çš„ä¼˜åŠ¿å°±åœ¨äºå®ƒçš„å…è´¹è®¡åˆ’å‡ ä¹èƒ½å¤Ÿæ¶µç›–ä¸ªäººå¼€å‘çš„å‰æœŸæ‰€æœ‰éœ€è¦ã€‚</p>
<p><strong>åƒé‡Œä¹‹è¡Œï¼Œå§‹äºè¶³ä¸‹ã€‚ä½ çš„â€œä¸ªäººå…¬å¸â€ä»è¿™ç¬¬ä¸€ä¸ª2å°æ—¶å¼€å§‹ã€‚æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„è¿›å±•æˆ–é‡åˆ°çš„å¡ç‚¹ï¼Œæˆ‘ä¼šé€ä¸€æŸ¥çœ‹ï¼Œå°½å¯èƒ½çš„å¸®åŠ©è§£å†³ã€‚æˆ‘ä»¬ä¸‹ä¸€ç¯‡æ–‡ç« è§ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»Dockeråˆ°Containerdï¼šKuberneteså®¹å™¨è¿è¡Œæ—¶æ¼”è¿›æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7575884229526110244</link>    <guid>https://juejin.cn/post/7575884229526110244</guid>    <pubDate>2025-11-24T08:13:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575884229526110244" data-draft-id="7576018857367666731" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»Dockeråˆ°Containerdï¼šKuberneteså®¹å™¨è¿è¡Œæ—¶æ¼”è¿›æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="Kubernetes"/> <meta itemprop="datePublished" content="2025-11-24T08:13:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»Dockeråˆ°Containerdï¼šKuberneteså®¹å™¨è¿è¡Œæ—¶æ¼”è¿›æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:13:22.000Z" title="Mon Nov 24 2025 08:13:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨Kubernetesçš„ä¸–ç•Œé‡Œï¼Œå®¹å™¨è¿è¡Œæ—¶æ˜¯ä¸€ä¸ªåŸºç¡€ä¸”å…³é”®çš„ç»„ä»¶ã€‚å®ƒè´Ÿè´£çœŸæ­£åœ¨ä¸»æœºä¸Šå¯åŠ¨å’Œåœæ­¢å®¹å™¨ã€‚è¿‘å¹´æ¥ï¼Œéšç€Kubernetesçš„æˆç†Ÿï¼Œå…¶é»˜è®¤çš„å®¹å™¨è¿è¡Œæ—¶ç¯å¢ƒç»å†äº†é‡å¤§æ¼”å˜ï¼Œä»æˆ‘ä»¬ç†ŸçŸ¥çš„Dockerè½¬å‘äº†æ›´ä¸ºåº•å±‚å’Œç²¾ç®€çš„Containerdã€‚æœ¬æ–‡å°†æ·±å…¥å‰–æDockerã€Containerdçš„æ¶æ„å·®å¼‚ï¼Œå¹¶ç»“åˆå®é™…æ¡ˆä¾‹è¯´æ˜è¿™ä¸€è½¬å˜å¸¦æ¥çš„å½±å“ã€‚</p>
<hr/>
<h4 data-id="heading-0"><strong>ä¸€ã€ æ ¸å¿ƒæ¦‚å¿µï¼šä»€ä¹ˆæ˜¯å®¹å™¨è¿è¡Œæ—¶ï¼Ÿ</strong></h4>
<p>ç®€å•æ¥è¯´ï¼Œå®¹å™¨è¿è¡Œæ—¶æ˜¯è´Ÿè´£è¿è¡Œå®¹å™¨çš„è½¯ä»¶ã€‚å®ƒæ ¹æ®å®¹å™¨é•œåƒï¼ˆOCI Imageï¼‰åˆ›å»ºéš”ç¦»çš„ã€èµ„æºå—é™çš„è¿›ç¨‹ï¼ˆå®¹å™¨ï¼‰ã€‚Kubernetesæœ¬èº«ä¸ç›´æ¥å¤„ç†è¿™äº›åº•å±‚æ“ä½œï¼Œè€Œæ˜¯é€šè¿‡<strong>å®¹å™¨è¿è¡Œæ—¶æ¥å£ï¼ˆCRIï¼‰</strong> â€‹ ä¸è¿è¡Œæ—¶è¿›è¡Œäº¤äº’ã€‚</p>
<p>åœ¨Kubernetesçš„è§†è§’ä¸‹ï¼Œå®ƒåªå…³å¿ƒï¼šâ€œè¯·åœ¨è¿™ä¸ªPodé‡Œå¯åŠ¨ä¸€ä¸ªåŒ…å«Aé•œåƒçš„å®¹å™¨â€ã€‚è‡³äºå¦‚ä½•æ‹‰å–é•œåƒã€å¦‚ä½•åˆ›å»ºå‘½åç©ºé—´å’ŒCgroupsã€å¦‚ä½•è¿è¡Œå®¹å™¨ï¼Œè¿™äº›éƒ½æ˜¯å®¹å™¨è¿è¡Œæ—¶çš„èŒè´£ã€‚</p>
<h4 data-id="heading-1"><strong>äºŒã€ æ¼”è¿›å†ç¨‹ï¼šä»â€œDockeræ—¶ä»£â€åˆ°â€œåDockeræ—¶ä»£â€</strong></h4>
<p>è¦ç†è§£ä»Šå¤©çš„æ ¼å±€ï¼Œæˆ‘ä»¬éœ€è¦å›é¡¾ä¸€ä¸‹å†å²ã€‚</p>
<ol>
<li>
<p><strong>æ—©æœŸï¼šç›´æ¥é›†æˆDocker</strong></p>
<p>åœ¨Kubernetesæ—©æœŸï¼Œå®ƒæ˜¯é€šè¿‡ä¸€ä¸ªå†…ç½®çš„<code>dockershim</code>ç»„ä»¶ç›´æ¥ä¸Docker Engineé›†æˆã€‚Dockeræ˜¯å½“æ—¶äº‹å®ä¸Šçš„å®¹å™¨æ ‡å‡†ï¼Œè¿™ç§é›†æˆæ–¹å¼ç®€å•ç›´æ¥ã€‚å¯¹äºç”¨æˆ·è€Œè¨€ï¼Œä½“éªŒéå¸¸é¡ºç•…ï¼šå®‰è£…Dockerï¼Œå®‰è£…Kubeletï¼Œå³å¯å·¥ä½œã€‚</p>
</li>
<li>
<p><strong>å˜é©ï¼šCRIçš„å¼•å…¥ä¸Dockerçš„â€œåŒ…è¢±â€</strong></p>
<p>ä¸ºäº†æ”¯æŒæ›´å¤šçš„å®¹å™¨è¿è¡Œæ—¶ï¼ˆå¦‚RKTã€Containerdï¼‰ï¼ŒKubernetesæ¨å‡ºäº†<strong>å®¹å™¨è¿è¡Œæ—¶æ¥å£ï¼ˆCRIï¼‰</strong> ã€‚è¿™æ˜¯ä¸€ä¸ªæ’ä»¶æ¥å£ï¼Œä»»ä½•å®ç°äº†CRIçš„è¿è¡Œæ—¶éƒ½å¯ä»¥è¢«Kubernetesä½¿ç”¨ã€‚</p>
<p>ç„¶è€Œï¼ŒDocker Engineæœ¬èº«<strong>æ²¡æœ‰å®ç°CRI</strong>ã€‚å®ƒæ˜¯ä¸€å¥—å®Œæ•´çš„å®¹å™¨åŒ–è§£å†³æ–¹æ¡ˆï¼ŒåŒ…å«æ„å»ºã€é•œåƒæ ¼å¼ã€ç½‘ç»œã€å­˜å‚¨ã€è¿è¡Œæ—¶ç­‰ä¸€å¤§å †åŠŸèƒ½ã€‚ä¸ºäº†ç»§ç»­ä½¿ç”¨Dockerï¼ŒKubernetesä¸å¾—ä¸ç»´æŠ¤ä¸€ä¸ªç‰¹æ®Šçš„é€‚é…å™¨â€”â€”<code>dockershim</code>ã€‚è¿™ä¸ªç»„ä»¶å°†Kubeletå‘å‡ºçš„CRIè¯·æ±‚ï¼ˆå¦‚<code>RunPodSandbox</code>ï¼‰ç¿»è¯‘æˆDocker Engineèƒ½ç†è§£çš„APIè¯·æ±‚ã€‚</p>
</li>
<li>
<p><strong>ç°çŠ¶ï¼šæ‹¥æŠ±æ ‡å‡†çš„Containerd</strong></p>
<p><code>dockershim</code>çš„ç»´æŠ¤ç»™Kubernetesç¤¾åŒºå¸¦æ¥äº†é¢å¤–çš„è´Ÿæ‹…ï¼Œä¸”æ¶æ„ä¸Šæ˜¾å¾—å†—ä½™ã€‚ä¸æ­¤åŒæ—¶ï¼ŒDocker Engineå†…éƒ¨çš„å®¹å™¨è¿è¡Œæ—¶æ­£æ˜¯<strong>Containerd</strong>â€”â€”ä¸€ä¸ªæ›´ä¸“æ³¨ã€æ›´è½»é‡ã€æ€§èƒ½æ›´å¥½çš„çº¯è¿è¡Œæ—¶ç»„ä»¶ã€‚Containerdå¤©ç„¶å°±å®ç°äº†CRIã€‚</p>
<p>å› æ­¤ï¼Œä»Kubernetes v1.20å¼€å§‹å®£å¸ƒå¼ƒç”¨<code>dockershim</code>ï¼Œå¹¶åœ¨v1.24ç‰ˆä¸­æ­£å¼ç§»é™¤ï¼Œè½¬å‘å°†Containerdä½œä¸ºé»˜è®¤çš„è¿è¡Œæ—¶æ¨èã€‚è¿™æ ‡å¿—ç€Kubernetesä¸Docker Engineçš„â€œè§£è€¦â€ï¼Œè¿›å…¥äº†æ›´å¼€æ”¾ã€æ›´æ ‡å‡†åŒ–çš„â€œåDockeræ—¶ä»£â€ã€‚</p>
</li>
</ol>
<hr/>
<h4 data-id="heading-2"><strong>ä¸‰ã€ æ¶æ„æ·±åº¦è§£æï¼šDocker vs. Containerd</strong></h4>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸¤å¼ æ¶æ„å›¾æ¥ç›´è§‚ç†è§£å®ƒä»¬çš„åŒºåˆ«ã€‚</p>
<p><strong>1. ä½¿ç”¨Docker Engineï¼ˆé€šè¿‡dockershimï¼‰çš„æ¶æ„</strong></p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-addition">+---------------------------------------------------+</span>
|                 Kubernetes Kubelet                 |
<span class="hljs-addition">+---------------------------------------------------+</span>
|                 CRI Interface                     |
<span class="hljs-addition">+---------------------------------------------------+</span>
|                 dockershim (é€‚é…å™¨)                |  &lt;- ç”±K8sç»´æŠ¤çš„ç¿»è¯‘å±‚
<span class="hljs-addition">+---------------------------------------------------+</span>
|                 Docker Daemon REST API             |
<span class="hljs-addition">+---------------------------------------------------+</span>
|      Docker Engine (å®¹å™¨ç®¡ç†ã€æ„å»ºã€ç½‘ç»œã€å­˜å‚¨...)    |  &lt;- åŠŸèƒ½ä¸°å¯Œä½†æ²‰é‡
<span class="hljs-addition">+---------------------------------------------------+</span>
|                 containerd (å†…éƒ¨ç»„ä»¶)              |  &lt;- å®é™…è´Ÿè´£å®¹å™¨ç”Ÿå‘½å‘¨æœŸ
<span class="hljs-addition">+---------------------------------------------------+</span>
|                 runc (åº•å±‚è¿è¡Œæ—¶)                  |  &lt;- çœŸæ­£åˆ›å»ºå®¹å™¨è¿›ç¨‹
<span class="hljs-addition">+---------------------------------------------------+</span>
</code></pre>
<p><strong>å·¥ä½œæµç¨‹</strong>ï¼š</p>
<ul>
<li>Kubeleté€šè¿‡CRIå‘å‡ºæŒ‡ä»¤ï¼ˆä¾‹å¦‚ï¼š<code>è¿è¡Œä¸€ä¸ªNginxå®¹å™¨</code>ï¼‰ã€‚</li>
<li><code>dockershim</code>å°†è¿™ä¸ªCRIè¯·æ±‚ç¿»è¯‘æˆDocker APIè¯·æ±‚ï¼ˆä¾‹å¦‚ï¼š<code>docker create/start</code>ï¼‰ã€‚</li>
<li>è¯·æ±‚å‘é€ç»™Docker Daemonã€‚</li>
<li>Docker Daemonå†…éƒ¨è°ƒç”¨å…¶å†…ç½®çš„Containerdæ¥æ‰§è¡Œæ“ä½œã€‚</li>
<li>Containerdæœ€ç»ˆè°ƒç”¨<code>runc</code>æ¥åˆ›å»ºå®¹å™¨ã€‚</li>
</ul>
<p><strong>ç—›ç‚¹</strong>ï¼š</p>
<ul>
<li><strong>è·¯å¾„é•¿</strong>ï¼šè¯·æ±‚éœ€è¦ç»è¿‡å¤šæ¬¡è½¬å‘ï¼Œå¢åŠ äº†å»¶è¿Ÿå’Œæ•…éšœç‚¹ã€‚</li>
<li><strong>èµ„æºé‡</strong>ï¼šDocker Daemonæœ¬èº«æ¶ˆè€—æ›´å¤šCPUå’Œå†…å­˜ã€‚</li>
<li><strong>æ¶æ„å¤æ‚</strong>ï¼šå¼•å…¥äº†ä¸å¿…è¦çš„æŠ½è±¡å±‚ã€‚</li>
</ul>
<p><strong>2. ç›´æ¥ä½¿ç”¨Containerdçš„æ¶æ„</strong></p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-addition">+---------------------------------------------------+</span>
|                 Kubernetes Kubelet                 |
<span class="hljs-addition">+---------------------------------------------------+</span>
|                 CRI Interface                     |
<span class="hljs-addition">+---------------------------------------------------+</span>
|             cri-containerd plugin (CRIæ’ä»¶)        |  &lt;- Containerdå†…ç½®çš„CRIå®ç°
<span class="hljs-addition">+---------------------------------------------------+</span>
|                 containerd (çº¯è¿è¡Œæ—¶)               |  &lt;- æ ¸å¿ƒï¼šé•œåƒã€å®¹å™¨ç®¡ç†
<span class="hljs-addition">+---------------------------------------------------+</span>
|                 runc / runsc (åº•å±‚è¿è¡Œæ—¶)           |  &lt;- æ”¯æŒå¤šç§OCIè¿è¡Œæ—¶
<span class="hljs-addition">+---------------------------------------------------+</span>
</code></pre>
<p><strong>å·¥ä½œæµç¨‹</strong>ï¼š</p>
<ul>
<li>Kubeleté€šè¿‡CRIå‘å‡ºæŒ‡ä»¤ã€‚</li>
<li>Containerdå†…ç½®çš„<code>cri</code>æ’ä»¶ç›´æ¥æ¥æ”¶å¹¶å¤„ç†CRIè¯·æ±‚ã€‚</li>
<li>Containerdç®¡ç†é•œåƒå’Œå®¹å™¨ç”Ÿå‘½å‘¨æœŸï¼Œå¹¶ç›´æ¥è°ƒç”¨<code>runc</code>ã€‚</li>
</ul>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li><strong>è·¯å¾„çŸ­</strong>ï¼šæ¶æ„æ‰å¹³ï¼Œæ•ˆç‡æ›´é«˜ï¼Œç¨³å®šæ€§æ›´å¥½ã€‚</li>
<li><strong>èµ„æºè½»</strong>ï¼šå°‘äº†Docker Daemonè¿™ä¸€å±‚ï¼Œèµ„æºå ç”¨æ˜¾è‘—é™ä½ã€‚</li>
<li><strong>æ›´çº¯ç²¹</strong>ï¼šä¸“æ³¨å®¹å™¨è¿è¡Œæ—¶æ ¸å¿ƒèŒè´£ï¼Œç¬¦åˆKubernetesçš„æœŸæœ›ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-3"><strong>å››ã€ æ ¸å¿ƒåŒºåˆ«ä¸å®é™…å½±å“æ€»ç»“</strong></h4>








































<table><thead><tr><th>ç‰¹æ€§</th><th>Docker Engine</th><th>Containerd</th></tr></thead><tbody><tr><td><strong>å®šä½</strong>â€‹</td><td>å®Œæ•´çš„å®¹å™¨åŒ–å¹³å°ï¼Œé¢å‘å¼€å‘è€…</td><td>ä¸“æ³¨çš„ã€å·¥ä¸šçº§çš„å®¹å™¨<strong>è¿è¡Œæ—¶</strong>ï¼Œé¢å‘åŸºç¡€è®¾æ–½</td></tr><tr><td><strong>æ¶æ„å¤æ‚åº¦</strong>â€‹</td><td>é«˜ï¼ŒåŒ…å«å¤§é‡éå¿…è¦åŠŸèƒ½ï¼ˆå¦‚<code>docker build</code>ï¼ŒSwarmï¼‰</td><td>ä½ï¼Œæ ¸å¿ƒåªæœ‰é•œåƒå’Œå®¹å™¨ç®¡ç†</td></tr><tr><td><strong>ä¸K8sé›†æˆ</strong>â€‹</td><td>éœ€é€šè¿‡<code>dockershim</code>ï¼ˆå·²åºŸå¼ƒï¼‰ï¼ŒéåŸç”Ÿ</td><td>åŸç”Ÿæ”¯æŒCRIï¼Œæ˜¯Kubernetesçš„â€œä¸€ç­‰å…¬æ°‘â€</td></tr><tr><td><strong>èµ„æºå ç”¨</strong>â€‹</td><td>è¾ƒé«˜ï¼ˆå†…å­˜ã€CPUï¼‰</td><td>æ›´ä½ï¼Œé€šå¸¸æ¯”Dockerå°‘20%-30%çš„å†…å­˜å ç”¨</td></tr><tr><td><strong>CLIå·¥å…·</strong>â€‹</td><td>åŠŸèƒ½å¼ºå¤§çš„<code>docker</code>å‘½ä»¤</td><td>åŠŸèƒ½åŸºç¡€çš„<code>ctr</code>å‘½ä»¤ï¼ˆä¸é€‚åˆäººç±»ä½¿ç”¨ï¼‰ï¼Œæˆ–<code>crictl</code>ï¼ˆæ¨èï¼‰</td></tr><tr><td><strong>API</strong>â€‹</td><td>ä¸°å¯Œçš„Docker API</td><td>æ›´åº•å±‚çš„Containerd APIï¼Œä»¥åŠæ ‡å‡†çš„CRI</td></tr></tbody></table>
<p><strong>å¯¹ç”¨æˆ·çš„å®é™…å½±å“</strong>ï¼š</p>
<ol>
<li>
<p><strong>ä½ ä¸èƒ½å†ä½¿ç”¨<code>docker</code>å‘½ä»¤è¿›è¡Œæ•…éšœæ’æŸ¥</strong>ï¼šè¿™æ˜¯æœ€å¤§çš„å˜åŒ–ã€‚åœ¨èŠ‚ç‚¹ä¸Šï¼Œä½ æ— æ³•ç›´æ¥æ‰§è¡Œ<code>docker ps</code>æˆ–<code>docker logs</code>æ¥æŸ¥çœ‹Kubernetesåˆ›å»ºçš„å®¹å™¨ã€‚</p>
</li>
<li>
<p><strong>ä½¿ç”¨æ–°çš„CLIå·¥å…·</strong>ï¼š</p>
<ul>
<li><strong><code>crictl</code></strong>ï¼šKubernetesç¤¾åŒºæ¨èçš„CRIè°ƒè¯•å·¥å…·ã€‚å®ƒçš„å‘½ä»¤æ ¼å¼ä¸<code>docker</code>ç±»ä¼¼ï¼Œä¾‹å¦‚ <code>crictl ps</code>, <code>crictl logs</code>ã€‚</li>
<li><strong><code>ctr</code></strong>ï¼šContainerdè‡ªå¸¦çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæ›´åº•å±‚ï¼Œä½†å¯¹ç”¨æˆ·ä¸å‹å¥½ï¼Œä¸€èˆ¬ä¸æ¨èç›´æ¥ä½¿ç”¨ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½ä¸ç¨³å®šæ€§æå‡</strong>ï¼šæ›´å°‘çš„ç»„ä»¶æ„å‘³ç€æ›´å°‘çš„æ½œåœ¨é—®é¢˜å’Œé«˜è´Ÿè½½ä¸‹æ›´å¥½çš„æ€§èƒ½ã€‚</p>
</li>
</ol>
<hr/>
<h4 data-id="heading-4"><strong>äº”ã€ å®æˆ˜æ¡ˆä¾‹ï¼šæ•…éšœæ’æŸ¥åœºæ™¯å¯¹æ¯”</strong></h4>
<p>å‡è®¾ä¸€ä¸ªPodä¸€ç›´å¤„äº<code>Pending</code>çŠ¶æ€ï¼Œæˆ‘ä»¬æ€€ç–‘æ˜¯å®¹å™¨å¯åŠ¨å¤±è´¥ã€‚</p>
<p><strong>åœºæ™¯ï¼šåœ¨èŠ‚ç‚¹ä¸ŠæŸ¥çœ‹å®¹å™¨æ—¥å¿—ã€‚</strong></p>
<p><strong>æ¡ˆä¾‹1ï¼šä½¿ç”¨Dockerä½œä¸ºè¿è¡Œæ—¶çš„æ—§é›†ç¾¤ï¼ˆK8s &lt; 1.24ï¼‰</strong></p>
<ol>
<li>
<p>æ‰¾åˆ°é—®é¢˜Podæ‰€åœ¨çš„èŠ‚ç‚¹å’Œå®¹å™¨IDã€‚</p>
</li>
<li>
<p>SSHç™»å½•åˆ°èŠ‚ç‚¹ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨ç†Ÿæ‚‰çš„Dockerå‘½ä»¤æŸ¥çœ‹æ—¥å¿—ï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># æŸ¥æ‰¾å®¹å™¨ID</span>
docker ps -a | <span class="hljs-keyword">grep</span> &lt;pod-name&gt;

<span class="hljs-comment"># æŸ¥çœ‹æ—¥å¿—</span>
docker logs &lt;container-id&gt;
</code></pre>
<p>è¿™ç§æ–¹å¼ç›´è§‚ï¼Œä½†ä¾èµ–äºå·²åºŸå¼ƒçš„æ¶æ„ã€‚</p>
</li>
</ol>
<p><strong>æ¡ˆä¾‹2ï¼šä½¿ç”¨Containerdä½œä¸ºè¿è¡Œæ—¶çš„ç°ä»£é›†ç¾¤ï¼ˆK8s &gt;= 1.24ï¼‰</strong></p>
<ol>
<li>
<p>æ‰¾åˆ°é—®é¢˜Podæ‰€åœ¨çš„èŠ‚ç‚¹å’Œå®¹å™¨IDï¼ˆå¯ä»¥ä»<code>kubectl describe pod &lt;pod-name&gt;</code>è·å–ï¼‰ã€‚</p>
</li>
<li>
<p>SSHç™»å½•åˆ°èŠ‚ç‚¹ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨<code>crictl</code>å·¥å…·ï¼ˆéœ€è¦å…ˆé…ç½®ï¼Œæˆ–é€šè¿‡<code>/var/run/containerd/containerd.sock</code>socketï¼‰ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ ¹æ®PodåæŸ¥æ‰¾å®¹å™¨ID</span>
crictl pods --name &lt;pod-name&gt;
crictl ps -p &lt;pod-<span class="hljs-built_in">id</span>&gt;

<span class="hljs-comment"># æŸ¥çœ‹å®¹å™¨æ—¥å¿—</span>
crictl logs &lt;container-<span class="hljs-built_in">id</span>&gt;

<span class="hljs-comment"># æˆ–è€…æ›´ç›´æ¥åœ°ï¼Œé€šè¿‡é•œåƒåæ¨¡ç³ŠæŸ¥æ‰¾</span>
crictl ps | grep nginx
crictl logs &lt;container-<span class="hljs-built_in">id</span>&gt;
</code></pre>
<p>è™½ç„¶å‘½ä»¤å˜äº†ï¼Œä½†åŠŸèƒ½å’Œæ•ˆæœä¸€è‡´ï¼Œä¸”æ¶æ„æ›´ä¼˜ã€‚</p>
</li>
</ol>
<p><strong>è¿›é˜¶æ¡ˆä¾‹ï¼šä½¿ç”¨<code>crictl</code>è¿›è¡Œæ·±åº¦è°ƒè¯•</strong></p>
<p><code>crictl</code>çš„åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œå‡ ä¹è¦†ç›–äº†æ‰€æœ‰è°ƒè¯•åœºæ™¯ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ£€æŸ¥å®¹å™¨è¯¦æƒ…ï¼ˆåŒ…æ‹¬èµ„æºé™åˆ¶ã€æŒ‚è½½ç‚¹ç­‰ï¼‰</span>
crictl inspect &lt;container-<span class="hljs-built_in">id</span>&gt;

<span class="hljs-comment"># åœ¨è¿è¡Œçš„å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤</span>
crictl <span class="hljs-built_in">exec</span> -it &lt;container-<span class="hljs-built_in">id</span>&gt; /<span class="hljs-built_in">bin</span>/sh

<span class="hljs-comment"># æ‹‰å–é•œåƒåˆ°èŠ‚ç‚¹ï¼ˆç”¨äºç¦»çº¿ç¯å¢ƒæˆ–é¢„ç¼“å­˜ï¼‰</span>
crictl pull nginx:latest

<span class="hljs-comment"># æŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨æƒ…å†µï¼ˆç±»ä¼¼docker statsï¼‰</span>
crictl stats
</code></pre>
<hr/>
<h4 data-id="heading-5"><strong>å…­ã€ ç»“è®ºä¸å±•æœ›</strong></h4>
<p>ä»Dockeråˆ°Containerdçš„è½¬å˜ï¼Œæ˜¯Kubernetesç”Ÿæ€èµ°å‘æˆç†Ÿå’Œæ ‡å‡†åŒ–çš„å¿…ç„¶ç»“æœã€‚å®ƒæ ‡å¿—ç€Kubernetesä¸å†ä¾èµ–ä¸€ä¸ªç‰¹å®šçš„ã€åºå¤§çš„å®¹å™¨å¹³å°ï¼Œè€Œæ˜¯åŸºäºå¼€æ”¾æ ‡å‡†ï¼ˆå¦‚OCIã€CRIï¼‰æ¥æ„å»ºå…¶åŸºç¡€è®¾æ–½ã€‚è¿™ç§è§£è€¦å¸¦æ¥äº†æ›´æ¸…æ™°çš„è¾¹ç•Œã€æ›´å¥½çš„æ€§èƒ½ã€æ›´é«˜çš„ç¨³å®šæ€§å’Œæ›´ä½çš„èµ„æºå¼€é”€ã€‚</p>
<p>å¯¹äºå¼€å‘è€…å’Œè¿ç»´äººå‘˜è€Œè¨€ï¼Œéœ€è¦ç†è§£å¹¶é€‚åº”è¿™ä¸€å˜åŒ–ï¼š</p>
<ul>
<li><strong>å¯¹äºåº”ç”¨å¼€å‘è€…</strong>ï¼šè¿™ä¸€å˜åŒ–åŸºæœ¬æ— æ„Ÿã€‚ä½ ä»ç„¶å¯ä»¥åƒä»¥å‰ä¸€æ ·ä½¿ç”¨Dfileæ„å»ºé•œåƒï¼Œå¹¶åœ¨Kubernetesçš„YAMLä¸­å¼•ç”¨å®ƒä»¬ã€‚å› ä¸ºé•œåƒæ ‡å‡†ï¼ˆOCIï¼‰æ²¡æœ‰å˜ã€‚</li>
<li><strong>å¯¹äºé›†ç¾¤è¿ç»´äººå‘˜</strong>ï¼šè¿™æ˜¯å¿…é¡»æŒæ¡çš„çŸ¥è¯†ã€‚ä½ éœ€è¦ç†Ÿæ‚‰Containerdçš„é…ç½®ã€æ—¥å¿—ä½ç½®ä»¥åŠæ–°çš„è°ƒè¯•å·¥å…·é“¾ï¼ˆ<code>crictl</code>ï¼‰ã€‚</li>
</ul>
<p>æœªæ¥ï¼Œå®¹å™¨è¿è¡Œæ—¶çš„ç”Ÿæ€ä¼šç»§ç»­å‘å±•ï¼Œé™¤äº†Containerdï¼Œè¿˜æœ‰åƒ<code>CRI-O</code>è¿™æ ·çš„ä¼˜ç§€é€‰æ‹©ã€‚åŒæ—¶ï¼Œå®‰å…¨å®¹å™¨ï¼ˆå¦‚Kata Containersï¼Œé€šè¿‡<code>runsc</code>è¿è¡Œæ—¶ï¼‰ç­‰æ–°æŠ€æœ¯ä¹Ÿå»ºç«‹åœ¨Containerdç­‰åŸºç¡€è¿è¡Œæ—¶ä¹‹ä¸Šã€‚ç‰¢ç‰¢æŒæ¡Containerdï¼Œå°±æ˜¯æŒæ¡äº†ç†è§£ç°ä»£Kuberneteså®¹å™¨ç¼–æ’æ ¹åŸºçš„é’¥åŒ™ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æŠ€æœ¯å¤ç›˜ï¼šSolon-MCP æ—¥å¿—ç»Ÿä¸€é…ç½®èƒŒåçš„æŠ€æœ¯æ¶æ„åˆ†æ]]></title>    <link>https://juejin.cn/post/7576057623742119978</link>    <guid>https://juejin.cn/post/7576057623742119978</guid>    <pubDate>2025-11-24T08:18:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576057623742119978" data-draft-id="7575829296452648970" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æŠ€æœ¯å¤ç›˜ï¼šSolon-MCP æ—¥å¿—ç»Ÿä¸€é…ç½®èƒŒåçš„æŠ€æœ¯æ¶æ„åˆ†æ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-24T08:18:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Asthenian"/> <meta itemprop="url" content="https://juejin.cn/user/2685482018803200"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æŠ€æœ¯å¤ç›˜ï¼šSolon-MCP æ—¥å¿—ç»Ÿä¸€é…ç½®èƒŒåçš„æŠ€æœ¯æ¶æ„åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2685482018803200/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Asthenian
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:18:37.000Z" title="Mon Nov 24 2025 08:18:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">1. é—®é¢˜çš„èµ·å› ï¼šä¸€æ¬¡â€œå±è”½æŠ¥é”™â€çš„ä»»åŠ¡</h3>
<p>æ•…äº‹çš„å¼€å§‹éå¸¸ç®€å•ã€‚æœ€è¿‘åœ¨è°ƒè¯•é¡¹ç›®æ—¶ï¼Œæˆ‘çš„ Mentor (MT) è®©æˆ‘å»å¤„ç†ä¸€ä¸‹æ§åˆ¶å°çš„æ—¥å¿—ã€‚</p>
<p>åŸå› æ˜¯é¡¹ç›®å¼•å…¥äº† <code>solon-mcp</code> ç›¸å…³ç»„ä»¶ï¼Œæ¯æ¬¡å»ºç«‹è¿æ¥æ—¶éƒ½ä¼šè¾“å‡ºä¸€å † <code>WARN</code> çº§åˆ«çš„å¼‚å¸¸æ—¥å¿—ã€‚ç»è¿‡æ’æŸ¥ï¼Œè¿™äº›å¼‚å¸¸å¹¶ä¸å½±å“å®é™…åŠŸèƒ½çš„é“¾è·¯ï¼Œå±äºæ¡†æ¶å†…éƒ¨çš„â€œå™ªéŸ³â€ã€‚ä¸ºäº†ä¿æŒæ§åˆ¶å°æ¸…çˆ½ï¼ŒMT è®©æˆ‘æŠŠå®ƒçš„æ—¥å¿—çº§åˆ«è°ƒé«˜ï¼Œå±è”½æ‰è¿™äº›è­¦å‘Šã€‚</p>
<p>æ“ä½œå¾ˆç®€å•ï¼Œæˆ‘ç†Ÿç»ƒåœ°æ‰“å¼€ <code>application.yml</code>ï¼ŒåŠ ä¸Šäº†ä¸€è¡Œé…ç½®ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">logging:</span>
  <span class="hljs-attr">level:</span>
    <span class="hljs-attr">io.modelcontextprotocol:</span> <span class="hljs-string">ERROR</span> <span class="hljs-comment"># å±è”½ WARNï¼Œåªçœ‹ ERROR</span>
</code></pre>
<p>é‡å¯æœåŠ¡ï¼Œä¸–ç•Œæ¸…é™äº†ã€‚</p>
<p>ä»»åŠ¡è™½ç„¶å®Œæˆäº†ï¼Œä½†æˆ‘ç›¯ç€ <code>application.yml</code> é‡Œçš„è¿™å—é…ç½®åŒºåŸŸï¼Œçªç„¶é™·å…¥äº†æ²‰æ€ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">logging:</span>
  <span class="hljs-attr">level:</span>
    <span class="hljs-attr">root:</span> <span class="hljs-string">INFO</span>
    <span class="hljs-attr">com.testjob.sls:</span> <span class="hljs-string">DEBUG</span>          <span class="hljs-comment"># æˆ‘ä»¬çš„ä¸šåŠ¡ä»£ç </span>
    <span class="hljs-attr">com.xxl.job:</span> <span class="hljs-string">INFO</span>             <span class="hljs-comment"># ç¬¬ä¸‰æ–¹ä»»åŠ¡è°ƒåº¦æ¡†æ¶</span>
    <span class="hljs-attr">io.modelcontextprotocol:</span> <span class="hljs-string">ERROR</span> <span class="hljs-comment"># åˆšåˆšé…ç½®çš„ MCP åè®®åº“</span>
</code></pre>
<p><strong>æˆ‘ä¸ç¦äº§ç”Ÿäº†ä¸€ä¸ªç–‘é—®ï¼š</strong><br/>
ä¸ºä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆ <code>Solon-MCP</code>ã€<code>XXL-JOB</code>ã€<code>Spring</code> ä»¥åŠæˆ‘ä»¬è‡ªå·±å†™çš„ä¸šåŠ¡ä»£ç ï¼Œæ˜æ˜æ˜¯å®Œå…¨ä¸åŒå›¢é˜Ÿã€ä¸åŒæ—¶é—´å¼€å‘çš„ç»„ä»¶ï¼Œå´éƒ½èƒ½è¢«è¿™åŒä¸€ä¸ª <code>logging</code> é…ç½®é¡¹æ‰€æ”¯é…ï¼Ÿ</p>
<p>æ˜¯ä¸æ˜¯åœ¨è¿™ç®€å•çš„ YAML é…ç½®èƒŒåï¼Œéšè—ç€æŸç§ç»Ÿä¸€çš„â€œæ½œè§„åˆ™â€æˆ–åº•å±‚æ¶æ„è®¾è®¡ï¼Ÿ</p>
<p>å¸¦ç€è¿™ä¸ªç–‘é—®ï¼Œæˆ‘å†³å®šæ·±æŒ–ä¸€ä¸‹ Java æ—¥å¿—ä½“ç³»èƒŒåçš„ç§˜å¯†ã€‚</p>
<hr/>
<h3 data-id="heading-1">2. ç°è±¡è§‚å¯Ÿï¼šä¸‡æ³•å½’ä¸€</h3>
<p>åœ¨åˆ†æä¾èµ–æ ‘å’Œæºç åï¼Œæˆ‘å‘ç°è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„<strong>ä»æ··ä¹±åˆ°ç»Ÿä¸€</strong>çš„æ¶æ„è®¾è®¡æ¡ˆä¾‹ã€‚</p>
<p>æ‰€æœ‰çš„ç»„ä»¶ï¼Œæ— è®ºå†…éƒ¨å®ç°å¦‚ä½•ï¼Œæœ€ç»ˆéƒ½â€œè‡£æœâ€äºæˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ã€‚è¿™è¯´æ˜åœ¨æˆ‘ä»¬çš„æŠ€æœ¯æ ˆä¸­ï¼Œå­˜åœ¨ä¸€ä¸ª<strong>ç»Ÿä¸€çš„æ—¥å¿—é—¨é¢ï¼ˆLogging Facadeï¼‰</strong> ï¼Œå®ƒåƒä¸€ä¸ªå¤–äº¤å®˜ä¸€æ ·ï¼Œç»Ÿä¸€ç®¡ç†äº†æ‰€æœ‰ç»„ä»¶çš„å¯¹å¤–å‘å£°æ¸ é“ã€‚</p>
<hr/>
<h3 data-id="heading-2">3. æŠ€æœ¯æ¶æ„æ‹†è§£</h3>
<p>é€šè¿‡æŸ¥é˜…èµ„æ–™å’Œæºç åˆ†æï¼Œæˆ‘å°†è¿™ä¸ªæœºåˆ¶æ‹†è§£ä¸ºä¸‰ä¸ªæ ¸å¿ƒå±‚é¢ï¼š</p>
<h4 data-id="heading-3">3.1 ç¬¬ä¸€å±‚ï¼šé—¨é¢æ¨¡å¼ï¼ˆFacade Patternï¼‰â€”â€” åˆ¶å®šæ ‡å‡†</h4>
<p>åœ¨ä»£ç å±‚é¢ï¼Œæˆ‘å‘ç°æ— è®ºæ˜¯æˆ‘ä»¬è‡ªå·±å†™çš„ä»£ç ï¼Œè¿˜æ˜¯ <code>solon-mcp</code> çš„æºç ï¼Œè·å– Logger çš„æ–¹å¼éƒ½æƒŠäººçš„ä¸€è‡´ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// å¤§å®¶éƒ½ä½¿ç”¨çš„æ˜¯ SLF4J çš„æ¥å£ï¼Œè€Œä¸æ˜¯å…·ä½“çš„ Logback æˆ– Log4j</span>
<span class="hljs-keyword">import</span> org.slf4j.Logger;
<span class="hljs-keyword">import</span> org.slf4j.LoggerFactory;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">McpAsyncServer</span> {
    <span class="hljs-comment">// é¢å‘æ¥å£ç¼–ç¨‹ï¼Œè€Œéé¢å‘å®ç°</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">static</span> <span class="hljs-keyword">final</span> Logger logger = LoggerFactory.<span class="hljs-built_in">getLogger</span>(McpAsyncServer.<span class="hljs-keyword">class</span>);
}
</code></pre>
<p>è¿™å°±æ˜¯<strong>é—¨é¢æ¨¡å¼</strong>çš„åº”ç”¨ã€‚<strong>SLF4J (Simple Logging Facade for Java)</strong> å°±æ˜¯è¿™ä¸ªâ€œé—¨é¢â€ã€‚</p>
<ul>
<li><strong>å¯¹äºç»„ä»¶å¼€å‘è€…ï¼ˆå¦‚ MCP çš„ä½œè€…ï¼‰</strong> ï¼šæˆ‘åªéœ€è¦è°ƒç”¨ SLF4J çš„ API æ‰“å°æ—¥å¿—ï¼Œä¸éœ€è¦å…³å¿ƒä½¿ç”¨è€…åˆ°åº•ç”¨çš„æ˜¯ Logback è¿˜æ˜¯ Log4j2ã€‚</li>
<li><strong>å¯¹äºä½¿ç”¨è€…ï¼ˆæˆ‘ä»¬ï¼‰</strong> ï¼šæˆ‘ä»¬åªéœ€è¦é…ç½® SLF4J çš„å…·ä½“å®ç°ï¼Œå°±èƒ½æ§åˆ¶æ‰€æœ‰ç”¨äº† SLF4J çš„ç»„ä»¶ã€‚</li>
</ul>
<h4 data-id="heading-4">3.2 ç¬¬äºŒå±‚ï¼šå·å¤©æ¢æ—¥ â€”â€” æ¡¥æ¥å™¨ï¼ˆBridgingï¼‰</h4>
<p>ä½†æ˜¯ï¼Œå¦‚æœå¼•å…¥çš„ç¬¬ä¸‰æ–¹åº“æ¯”è¾ƒè€ï¼ˆæ¯”å¦‚ç”¨äº† Log4j 1.xï¼‰æˆ–è€…æ¯”è¾ƒç‰¹ç«‹ç‹¬è¡Œï¼ˆç”¨äº† Java åŸç”Ÿçš„ JULï¼‰æ€ä¹ˆåŠï¼Ÿå®ƒä»¬å¹¶æ²¡æœ‰ä½¿ç”¨ SLF4J å•Šã€‚</p>
<p>è¿™æ—¶å€™ï¼ŒJava æ—¥å¿—ç”Ÿæ€çš„**æ¡¥æ¥å™¨ï¼ˆBridgingï¼‰**å°±ç™»åœºäº†ã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„ <code>pom.xml</code> ä¾èµ–æ ‘ä¸­ï¼Œæˆ‘å‘ç°äº†è¿™äº›â€œé—´è°â€åŒ…çš„å­˜åœ¨ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- å°† Log4j çš„è°ƒç”¨æ‹¦æˆªä¸‹æ¥ï¼Œè½¬å‘ç»™ SLF4J --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.slf4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>log4j-over-slf4j<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-comment">&lt;!-- å°† Java åŸç”Ÿ Logging æ‹¦æˆªä¸‹æ¥ï¼Œè½¬å‘ç»™ SLF4J --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.slf4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jul-to-slf4j<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>åŸç†æ€»ç»“</strong>ï¼šè¿™äº›æ¡¥æ¥å™¨é€šè¿‡åŒååŒ…æ›¿æ¢æˆ–æ‹¦æˆªçš„æ–¹å¼ï¼ŒæŠŠå…¶ä»–æ—¥å¿—æ¡†æ¶çš„ API è°ƒç”¨ï¼Œâ€œéª—â€è¿‡æ¥è½¬å‘ç»™ SLF4Jã€‚è¿™å°±å®ç°äº†â€œè™½ç„¶ä½ æ˜¯ä¸åŒé—¨æ´¾ï¼Œä½†æœ€ç»ˆéƒ½èµ°åŒä¸€ä¸ªå‡ºå£â€ã€‚</p>
<h4 data-id="heading-5">3.3 ç¬¬ä¸‰å±‚ï¼šè‡ªåŠ¨é…ç½®é­”æ³• â€”â€” Spring Boot / Solon çš„ç»Ÿç­¹</h4>
<p>æœ€åï¼Œä¸ºä»€ä¹ˆ <code>application.yml</code> èƒ½ç”Ÿæ•ˆï¼Ÿ</p>
<p>è¿™æ˜¯æ¡†æ¶ï¼ˆSpring Boot æˆ– Solonï¼‰æä¾›çš„**è‡ªåŠ¨åŒ–é…ç½®ï¼ˆAuto Configurationï¼‰**èƒ½åŠ›ã€‚ä»¥ Spring Boot ä¸ºä¾‹ï¼Œå¯åŠ¨æ—¶ä¼šå‘ç”Ÿä»¥ä¸‹è¿‡ç¨‹ï¼š</p>
<ol>
<li><strong>æ‰«æ</strong>ï¼š<code>LoggingApplicationListener</code> æ‰«æ Classpathï¼Œå‘ç°å­˜åœ¨ <code>logback-classic</code> åŒ…ã€‚</li>
<li><strong>å®ä¾‹åŒ–</strong>ï¼šåˆå§‹åŒ– <code>LogbackLoggingSystem</code>ã€‚</li>
<li><strong>åŠ è½½é…ç½®</strong>ï¼šè¯»å– <code>application.yml</code> ä¸­çš„ <code>logging.level.*</code>ã€‚</li>
<li><strong>åº”ç”¨</strong>ï¼šå°†è¿™äº›é…ç½®åŠ¨æ€è®¾ç½®åˆ° Logback çš„ä¸Šä¸‹æ–‡ä¸­ã€‚</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¼ªä»£ç æ¼”ç¤ºæ¡†æ¶çš„é…ç½®é€»è¾‘</span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">configure</span>(<span class="hljs-params">LoggingSystem system</span>) {
    <span class="hljs-title class_">String</span> mcpLevel = environment.<span class="hljs-title function_">getProperty</span>(<span class="hljs-string">"logging.level.io.modelcontextprotocol"</span>);
    <span class="hljs-comment">// æœ€ç»ˆè°ƒç”¨åº•å±‚ Logback çš„ API è®¾ç½®çº§åˆ«</span>
    system.<span class="hljs-title function_">setLogLevel</span>(<span class="hljs-string">"io.modelcontextprotocol"</span>, <span class="hljs-title class_">LogLevel</span>.<span class="hljs-property">ERROR</span>);
}
</code></pre>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬æ”¹ä¸€è¡Œé…ç½®ï¼Œå°±èƒ½è¿œç¨‹æ§åˆ¶æ·±åŸ‹åœ¨ jar åŒ…é‡Œçš„ <code>solon-mcp</code> çš„è¡Œä¸ºäº†ã€‚</p>
<hr/>
<h3 data-id="heading-6">4. æ·±åº¦æ€è€ƒï¼šæ¶æ„è®¾è®¡çš„é­…åŠ›</h3>
<p>è¿™æ¬¡æ’æŸ¥è®©æˆ‘æ„è¯†åˆ°ï¼Œä¸€ä¸ªä¼˜ç§€çš„æ¶æ„è®¾è®¡ï¼ˆå¦‚ Java çš„æ—¥å¿—ä½“ç³»ï¼‰ä½“ç°äº†ä»¥ä¸‹åŸåˆ™ï¼š</p>
<ol>
<li><strong>ä¾èµ–å€’ç½®åŸåˆ™ (DIP)</strong> ï¼š<br/>
ä¸Šå±‚åº”ç”¨ä¸åº”è¯¥ä¾èµ–åº•å±‚æ—¥å¿—å®ç°ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–æŠ½è±¡ï¼ˆSLF4Jï¼‰ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬èƒ½éšæ„åˆ‡æ¢ Logback æˆ– Log4j2 è€Œä¸ç”¨æ”¹ä¸€è¡Œä»£ç ã€‚</li>
<li><strong>å…³æ³¨ç‚¹åˆ†ç¦» (SoC)</strong> ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li><strong>åº“å¼€å‘è€…</strong>ï¼ˆMCPå›¢é˜Ÿï¼‰åªå…³æ³¨â€œæˆ‘è¦æ‰“å°ä»€ä¹ˆä¿¡æ¯â€ã€‚</li>
<li><strong>åº”ç”¨å¼€å‘è€…</strong>ï¼ˆæˆ‘ï¼‰åªå…³æ³¨â€œæˆ‘è¦çœ‹ä»€ä¹ˆçº§åˆ«çš„æ—¥å¿—â€ã€‚</li>
<li><strong>è¿ç»´äººå‘˜</strong>åªå…³æ³¨â€œæ—¥å¿—å­˜åˆ°å“ªé‡Œï¼Œä¿ç•™å‡ å¤©â€ã€‚<br/>
å¤§å®¶å„å¸å…¶èŒï¼Œé€šè¿‡æ ‡å‡†æ¥å£è§£è€¦ã€‚</li>
</ul>
</li>
</ul>
<ol start="3">
<li><strong>å¾®å†…æ ¸æ¶æ„æ€æƒ³</strong>ï¼š<br/>
SLF4J å°±åƒä¸€ä¸ªå¾®å†…æ ¸ï¼Œå„ç§é€‚é…å™¨å’Œå®ç°å°±åƒæ’ä»¶ã€‚è¿™ç§ç”Ÿæ€å…¼å®¹æ€§ï¼Œæ˜¯ Java å·¥ç¨‹åŒ–å¼ºå¤§çš„é‡è¦åŸå› ã€‚</li>
</ol>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ” React æœ‰ useAntdTableï¼ŒVue3 æ€ä¹ˆåŠï¼Ÿè‡ªå°ä¸€ä¸ª useTableï¼]]></title>    <link>https://juejin.cn/post/7575887863797645322</link>    <guid>https://juejin.cn/post/7575887863797645322</guid>    <pubDate>2025-11-24T08:21:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575887863797645322" data-draft-id="7573601651782516763" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ”  React æœ‰ useAntdTableï¼ŒVue3 æ€ä¹ˆåŠï¼Ÿè‡ªå°ä¸€ä¸ª useTableï¼"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,JavaScript"/> <meta itemprop="datePublished" content="2025-11-24T08:21:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Lsx_"/> <meta itemprop="url" content="https://juejin.cn/user/1442981392682829"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ”  React æœ‰ useAntdTableï¼ŒVue3 æ€ä¹ˆåŠï¼Ÿè‡ªå°ä¸€ä¸ª useTableï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1442981392682829/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Lsx_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:21:29.000Z" title="Mon Nov 24 2025 08:21:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    20
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;color:#282d36}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px;color:#2f845e}.markdown-body h2{font-size:22px;display:inline-block;font-weight:700;background:#2f845e;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(47,132,194,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 32px);border-bottom:3px solid #2f845e}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%;box-shadow:6px 6px 6px #888}.markdown-body hr{border:none;border-top:1px solid rgba(66,185,131,.15);margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#f6ffed;color:#52c41a;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:16px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#262626;border:1px solid #2f845e;border-top:8px solid #2f845e;background:linear-gradient(180deg,rgba(66,185,131,.1),transparent)!important}.markdown-body pre&gt;code.hljs[lang]:before{top:8px!important;color:#2f845e!important}.markdown-body pre&gt;code.language-awesome_error{border:1px solid #ff4d4f!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#ff4d4f!important;background:#fff2f0!important}.markdown-body pre&gt;code.language-awesome_error:before{content:"!"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#ff4d4f!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_warn{border:1px solid #ffc46f!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#ffc46f!important;background:#fffbe6!important}.markdown-body pre&gt;code.language-awesome_warn:before{content:"â˜‚"!important;position:absolute;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#ffc46f!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_success{border:1px solid #52c41a!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#52c41a!important;background:#f6ffed!important}.markdown-body pre&gt;code.language-awesome_success:before{content:"âœ“"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#52c41a!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_info{border:1px solid #1890ff!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#1890ff!important;background:#e6f7ff!important}.markdown-body pre&gt;code.language-awesome_info:before{content:"i"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#1890ff!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body strong{background-color:inherit;color:#2f845e}.markdown-body em{background-color:inherit;color:#949415}.markdown-body a{text-decoration:none;color:#2f8e54;border-bottom:1px solid #3f9e64}.markdown-body a:active,.markdown-body a:hover{color:#3f9e64}.markdown-body a[class^=footnote]{margin-left:4px}.markdown-body a:before{content:"â¤ "}.markdown-body table{font-size:12px;width:100%;max-width:100%;overflow:auto;border:2px solid #2f8e54}.markdown-body thead{background:#2f8e54;color:#fff;text-align:left;font-weight:700}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:22px}.markdown-body td{min-width:120px}.markdown-body blockquote{padding:1px 22px;margin:22px 0;border-left:6px solid #2f845e;background-color:rgba(66,185,131,.1);border-radius:2px}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#2f845e}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px;color:#282d36}.markdown-body del{color:#2f845e}.markdown-body input[type=checkbox]:checked:before{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA/klEQVQ4T72TMU7DQBBF318XdFR06egQEnAXRINEGlqgowoIR8AF4AZOZ4JEGq5AC5EixBU4A55BNrEVHAcSBTHlaubt37/zxZKlcn7n6mDPXJvz8IJ89HzWu8t7C8D2dfsY52ae4apHnLx0ktsCsHXZjiUuFgG40x2eJ/H/AhztB+zDUTpLwWj8jGkzxSHiHaMPrDQC8sMoilKzLAUqiKQjmb+ZuAdW80tmelCHODoNgSfP7AFprTTaRTzsJN1GEyuIZ7uW6TEEHwCtyV/6EVBKJHhfzgC0Xv/iXwEFBF4FG0378bd7sPQq5xK/hSnk6sdlX3mZrKkwLZKBeu8n9XuWEUE7X+YAAAAASUVORK5CYII=);position:relative;top:-1px;left:-1px}.markdown-body .math .katex{font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#f6ffed;color:#52c41a;font-size:.87em;padding:.065em .4em}@media (max-width:720px){.markdown-body h1{font-size:22px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆå°è£…ä¸€ä¸ªVue3ç‰ˆæœ¬çš„useTable</h2>
<p>ä¹‹å‰å†™ React ï¼Œ æœ‰Â <code>ahooks çš„</code>Â æä¾›çš„Â <code>useAntdTable</code>Â è¿™æ ·çš„æˆç†Ÿæ•°æ®è¡¨å°è£…ï¼Œè€Œåœ¨ Vue3 ä¸­å¹¶æ²¡æœ‰ç­‰ä»·çš„â€œå®˜æ–¹â€å·¥å…·ã€‚</p>
<p>åœ¨Â <strong>React + Ant Design</strong>Â çš„ç”Ÿæ€é‡Œï¼š</p>
<ul>
<li><code>ahooks</code>Â çš„Â <code>useAntdTable</code>Â éå¸¸å¸¸ç”¨ï¼›</li>
<li>è´Ÿè´£ç»Ÿä¸€ç®¡ç†è¡¨æ ¼çš„æ•°æ®è¯·æ±‚ã€åˆ†é¡µã€æœç´¢ã€loadingã€åˆ·æ–°ç­‰é€»è¾‘ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> { tableProps, search } = <span class="hljs-title function_">useAntdTable</span>(getTableData)
</code></pre>
<p>è¿™ä¼šè‡ªåŠ¨å¸®ä½ å®ç°ï¼š</p>
<ul>
<li>è¯·æ±‚æ•°æ®ï¼›</li>
<li>åˆ†é¡µå˜åŒ–è‡ªåŠ¨è§¦å‘è¯·æ±‚ï¼›</li>
<li>æœç´¢å‚æ•°å½’ä¸€åŒ–ï¼›</li>
<li>Loading ç®¡ç†ã€‚</li>
</ul>
<p>ğŸ‘‰ ç»„ä»¶åªè´Ÿè´£å±•ç¤ºï¼Œé€»è¾‘éƒ½é›†ä¸­åœ¨ hook ä¸­ã€‚</p>
<blockquote>
<p>åœ¨vue3é¡¹ç›®ä¸­ï¼Œä¹Ÿæœ‰ä¸å°‘è¡¨æ ¼ä¸šåŠ¡ï¼Œä»–ä»¬çš„åŠŸèƒ½éƒ½å¤§å·®ä¸å·®ï¼Œæœ‰å¾ˆå¤šç›¸ä¼¼çš„é€»è¾‘ï¼Œç„¶åæˆ‘ä»¬çš„å°è£…ä¸€ä¸ªuseTableï¼Œå…¶ä½œç”¨å°±æ˜¯æå–ç›¸åŒçš„é€»è¾‘åˆ°hooksä¸­ï¼Œè€ŒUIç»„ä»¶åªè´Ÿè´£ä½¿ç”¨hooksæš´éœ²çš„æ•°æ®ä¸æ–¹æ³•ã€‚è¿™æå¤§çš„æé«˜äº†ä»£ç çš„é€»è¾‘å¤ç”¨ï¼Œç»Ÿä¸€è¡Œä¸ºï¼ŒUI ä¸ä¸šåŠ¡é€»è¾‘å®Œå…¨åˆ†ç¦»ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">ä»‹ç» useTable</h2>
<p>ä¸€ä¸ªä¸“ä¸º <code>Vue3 + Element Plus</code> è®¾è®¡çš„è¡¨æ ¼æ•°æ®ç®¡ç† Hookï¼Œå‚è€ƒ ahooks çš„ <code>useAntdTable</code> è®¾è®¡ï¼Œæä¾›éƒ¨åˆ†çš„è¡¨æ ¼åŠŸèƒ½æ”¯æŒã€‚</p>
<h3 data-id="heading-2">ç‰¹æ€§</h3>
<ul>
<li>ğŸš€ <strong>å¼€ç®±å³ç”¨</strong> - é›¶é…ç½®å³å¯ä½¿ç”¨ï¼Œè‡ªåŠ¨å¤„ç†åˆ†é¡µã€æœç´¢ã€æ’åº</li>
<li>ğŸ“¦ <strong>ç±»å‹å®‰å…¨</strong> - å®Œæ•´çš„ TypeScript æ”¯æŒ</li>
<li>ğŸ¯ <strong>è¯­ä¹‰åŒ– API</strong> - æ–¹æ³•åæ¸…æ™°æ˜“æ‡‚ï¼Œç¬¦åˆå¼€å‘ä¹ æƒ¯</li>
<li>ğŸ”§ <strong>é«˜åº¦å¯å®šåˆ¶</strong> - æ”¯æŒæ•°æ®è½¬æ¢ã€é”™è¯¯å¤„ç†ã€å›è°ƒå‡½æ•°ç­‰</li>
<li>ğŸ“± <strong>å“åº”å¼</strong> - åŸºäº Vue3 Composition APIï¼Œå®Œå…¨å“åº”å¼</li>
<li>ğŸ¨ <strong>Element Plus å‹å¥½</strong> - ä¸“ä¸º Element Plus è¡¨æ ¼ç»„ä»¶è®¾è®¡</li>
</ul>
<h3 data-id="heading-3">ğŸ“‹ æ ¸å¿ƒåŠŸèƒ½</h3>
<h4 data-id="heading-4">1. æ•°æ®ç®¡ç†</h4>
<ul>
<li>âœ… è‡ªåŠ¨åŠ è½½æ•°æ®</li>
<li>âœ… åŠ è½½çŠ¶æ€ç®¡ç†</li>
<li>âœ… é”™è¯¯å¤„ç†</li>
</ul>
<h4 data-id="heading-5">2. åˆ†é¡µåŠŸèƒ½</h4>
<ul>
<li>âœ… é¡µç åˆ‡æ¢</li>
<li>âœ… æ¯é¡µæ¡æ•°è°ƒæ•´</li>
<li>âœ… åˆ†é¡µçŠ¶æ€åŒæ­¥</li>
</ul>
<h4 data-id="heading-6">3. æœç´¢åŠŸèƒ½</h4>
<ul>
<li>âœ… å¤šå­—æ®µæœç´¢</li>
<li>âœ… æœç´¢æ¡ä»¶ç»„åˆ</li>
<li>âœ… æœç´¢é‡ç½®</li>
</ul>
<h4 data-id="heading-7">4. æ’åºåŠŸèƒ½</h4>
<ul>
<li>âœ… å¤šå­—æ®µæ’åº</li>
<li>âœ… æ’åºæ–¹å‘åˆ‡æ¢</li>
<li>âœ… æ’åºçŠ¶æ€ç®¡ç†</li>
</ul>
<h4 data-id="heading-8">5. è¡Œé€‰æ‹©</h4>
<ul>
<li>âœ… å•é€‰/å¤šé€‰</li>
<li>âœ… æ‰¹é‡æ“ä½œ</li>
<li>âœ… é€‰ä¸­çŠ¶æ€ç®¡ç†</li>
</ul>
<h3 data-id="heading-9">åŸºç¡€ç”¨æ³•</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { useTable } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/hooks/useTable'</span>

<span class="hljs-comment">// å®šä¹‰æ•°æ®ç±»å‹</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">email</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">status</span>: <span class="hljs-string">'active'</span> | <span class="hljs-string">'inactive'</span>
}

<span class="hljs-comment">// å®šä¹‰è¯·æ±‚å‚æ•°ç±»å‹</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserListParams</span> {
  <span class="hljs-attr">current</span>: <span class="hljs-built_in">number</span>
  <span class="hljs-attr">pageSize</span>: <span class="hljs-built_in">number</span>
  name?: <span class="hljs-built_in">string</span>
  status?: <span class="hljs-built_in">string</span>
}

<span class="hljs-comment">// API è¯·æ±‚å‡½æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getUserList</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">params: UserListParams</span>) =&gt; {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/users'</span>, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(params)
  })
  <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>()
}

<span class="hljs-comment">// ä½¿ç”¨ Hook</span>
<span class="hljs-keyword">const</span> { data, loading, pagination, search, refresh } = useTable&lt;<span class="hljs-title class_">User</span>, <span class="hljs-title class_">UserListParams</span>&gt;({
  <span class="hljs-attr">request</span>: getUserList,
  <span class="hljs-attr">defaultPagination</span>: { <span class="hljs-attr">current</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">pageSize</span>: <span class="hljs-number">10</span> },
  <span class="hljs-attr">defaultSearchParams</span>: { <span class="hljs-attr">status</span>: <span class="hljs-string">'active'</span> }
})
</code></pre>
<h3 data-id="heading-10">API</h3>
<h4 data-id="heading-11">é…ç½®é€‰é¡¹</h4>













































































<table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>request</code></td><td><code>(params: P) =&gt; Promise&lt;HttpResponse&lt;TableData&lt;T&gt;&gt;&gt;</code></td><td>-</td><td>æ•°æ®è¯·æ±‚å‡½æ•°</td></tr><tr><td><code>defaultPagination</code></td><td><code>Partial&lt;PaginationParams&gt;</code></td><td><code>{ current: 1, pageSize: 10 }</code></td><td>é»˜è®¤åˆ†é¡µå‚æ•°</td></tr><tr><td><code>defaultSearchParams</code></td><td><code>Record&lt;string, any&gt;</code></td><td><code>{}</code></td><td>é»˜è®¤æœç´¢å‚æ•°</td></tr><tr><td><code>defaultSortParams</code></td><td><code>SortParams</code></td><td><code>{}</code></td><td>é»˜è®¤æ’åºå‚æ•°</td></tr><tr><td><code>immediate</code></td><td><code>boolean</code></td><td><code>true</code></td><td>æ˜¯å¦ç«‹å³åŠ è½½æ•°æ®</td></tr><tr><td><code>paginationKey</code></td><td><code>PaginationKey</code></td><td><code>{ current: 'pageNum', size: 'pageSize' }</code></td><td>è‡ªå®šä¹‰åˆ†é¡µå­—æ®µæ˜ å°„ å¦‚æ¥å£çš„åˆ†é¡µå­—æ®µä¸æ˜¯pageNumå’ŒpageSizeï¼Œå¯ä½¿ç”¨è¯¥å‚æ•°å¿«é€Ÿé…ç½®åˆ†é¡µå­—æ®µ</td></tr><tr><td><code>rowKey</code></td><td><code>string | ((record: T) =&gt; string | number)</code></td><td><code>'id'</code></td><td>è¡Œé”®å­—æ®µåæˆ–å‡½æ•°</td></tr><tr><td><code>transformResponse</code></td><td><code>(response: HttpResponse&lt;TableData&lt;T&gt;&gt;) =&gt; TableData&lt;T&gt;</code></td><td>-</td><td>æ•°æ®è½¬æ¢å‡½æ•°</td></tr><tr><td><code>onError</code></td><td><code>(error: any) =&gt; void</code></td><td>-</td><td>é”™è¯¯å¤„ç†å‡½æ•°</td></tr><tr><td><code>onSuccess</code></td><td><code>(data: TableData&lt;T&gt;) =&gt; void</code></td><td>-</td><td>æˆåŠŸå›è°ƒå‡½æ•°</td></tr><tr><td><code>beforeRequest</code></td><td><code>(params: P) =&gt; P | Promise&lt;P&gt;</code></td><td>-</td><td>è¯·æ±‚å‰å¤„ç†å‡½æ•°</td></tr></tbody></table>
<h4 data-id="heading-12">è¿”å›å€¼</h4>



















































































































<table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>data</code></td><td><code>ComputedRef&lt;T[]&gt;</code></td><td>è¡¨æ ¼æ•°æ®åˆ—è¡¨</td></tr><tr><td><code>hasData</code></td><td><code>ComputedRef&lt;boolean&gt;</code></td><td>æ˜¯å¦æœ‰è¡¨æ ¼æ•°æ®</td></tr><tr><td><code>loading</code></td><td><code>ComputedRef&lt;boolean&gt;</code></td><td>åŠ è½½çŠ¶æ€</td></tr><tr><td><code>pagination</code></td><td><code>ComputedRef&lt;PaginationParams&gt;</code></td><td>åˆ†é¡µä¿¡æ¯</td></tr><tr><td><code>searchParams</code></td><td><code>Ref&lt;Record&lt;string, any&gt;&gt;</code></td><td>æœç´¢å‚æ•°</td></tr><tr><td><code>sortParams</code></td><td><code>Ref&lt;SortParams&gt;</code></td><td>æ’åºå‚æ•°</td></tr><tr><td><code>selectedRowKeys</code></td><td><code>Ref&lt;(string | number)[]&gt;</code></td><td>é€‰ä¸­çš„è¡Œé”®</td></tr><tr><td><code>selectedRows</code></td><td><code>Ref&lt;T[]&gt;</code></td><td>é€‰ä¸­çš„è¡Œæ•°æ®</td></tr><tr><td><code>refresh</code></td><td><code>() =&gt; Promise&lt;void&gt;</code></td><td>åˆ·æ–°æ•°æ®ï¼ˆä¿æŒå½“å‰æ¡ä»¶ï¼‰</td></tr><tr><td><code>reload</code></td><td><code>() =&gt; Promise&lt;void&gt;</code></td><td>é‡æ–°åŠ è½½æ•°æ®ï¼ˆé‡ç½®åˆ°ç¬¬ä¸€é¡µï¼‰</td></tr><tr><td><code>search</code></td><td><code>(params?: Record&lt;string, any&gt;) =&gt; Promise&lt;void&gt;</code></td><td>æœç´¢</td></tr><tr><td><code>reset</code></td><td><code>() =&gt; Promise&lt;void&gt;</code></td><td>é‡ç½®æœç´¢</td></tr><tr><td><code>setPagination</code></td><td><code>(pagination: Partial&lt;PaginationParams&gt;) =&gt; void</code></td><td>è®¾ç½®åˆ†é¡µ</td></tr><tr><td><code>setSortParams</code></td><td><code>(sortParams: SortParams) =&gt; void</code></td><td>è®¾ç½®æ’åº</td></tr><tr><td><code>setSelectedRowKeys</code></td><td><code>(keys: (string | number)[]) =&gt; void</code></td><td>è®¾ç½®é€‰ä¸­è¡Œ</td></tr><tr><td><code>clearSelection</code></td><td><code>() =&gt; void</code></td><td>æ¸…ç©ºé€‰ä¸­</td></tr><tr><td><code>getRowKey</code></td><td><code>(record: T) =&gt; string | number</code></td><td>è·å–è¡Œé”®</td></tr><tr><td><code>onSortChange</code></td><td><code>(payload: { prop?: string; order?: 'ascending' |'descending' | null } | any)</code></td><td>å¤„ç† Element Plus è¡¨æ ¼æ’åºäº‹ä»¶, @param payload - Element Plus çš„ sort-change äº‹ä»¶å‚æ•°</td></tr><tr><td><code>onSelectionChange</code></td><td><code>(selection: T[]) =&gt; void</code></td><td>å¤„ç† Element Plus è¡¨æ ¼é€‰æ‹©äº‹ä»¶, @param selection - é€‰ä¸­çš„è¡Œæ•°æ®</td></tr><tr><td><code>onCurrentChange</code></td><td><code>(current: number) =&gt; void</code></td><td>å¤„ç† Element Plus åˆ†é¡µé¡µç å˜æ›´äº‹ä»¶, @param current - å½“å‰é¡µ</td></tr><tr><td><code>onSizeChange</code></td><td><code>(size: number) =&gt; void</code></td><td>å¤„ç† Element Plus åˆ†é¡µæ¯é¡µæ¡æ•°å˜æ›´äº‹ä»¶, @param size - æ¯é¡µæ¡æ•°</td></tr></tbody></table>
<h3 data-id="heading-13">ä½¿ç”¨ç¤ºä¾‹</h3>
<h4 data-id="heading-14">åŸºç¡€è¡¨æ ¼</h4>
<pre><code class="hljs language-ts" lang="ts">&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- æœç´¢è¡¨å• --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-form</span> <span class="hljs-attr">:model</span>=<span class="hljs-string">"searchForm"</span> <span class="hljs-attr">inline</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"ç”¨æˆ·å"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"searchForm.name"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥ç”¨æˆ·å"</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleSearch"</span>&gt;</span>æœç´¢<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleReset"</span>&gt;</span>é‡ç½®<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">el-form</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- è¡¨æ ¼ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-table</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">"data"</span> <span class="hljs-attr">:loading</span>=<span class="hljs-string">"loading"</span> <span class="hljs-attr">row-key</span>=<span class="hljs-string">"id"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"id"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"ID"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"ç”¨æˆ·å"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"é‚®ç®±"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">el-table</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- åˆ†é¡µ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-pagination</span>
      <span class="hljs-attr">v-model:current-page</span>=<span class="hljs-string">"pagination.current"</span>
      <span class="hljs-attr">v-model:page-size</span>=<span class="hljs-string">"pagination.pageSize"</span>
      <span class="hljs-attr">:total</span>=<span class="hljs-string">"pagination.total"</span>
      @<span class="hljs-attr">current-change</span>=<span class="hljs-string">"handleCurrentChange"</span>
      @<span class="hljs-attr">size-change</span>=<span class="hljs-string">"handleSizeChange"</span>
    /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { useTable } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/hooks/useTable'</span>

<span class="hljs-keyword">const</span> searchForm = <span class="hljs-title function_">ref</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">''</span> })

<span class="hljs-keyword">const</span> { data, loading, pagination, search, reset } = <span class="hljs-title function_">useTable</span>({
  <span class="hljs-attr">request</span>: getUserList,
  <span class="hljs-attr">defaultPagination</span>: { <span class="hljs-attr">current</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">pageSize</span>: <span class="hljs-number">10</span> }
})

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSearch</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">search</span>(searchForm.<span class="hljs-property">value</span>)
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleReset</span> = (<span class="hljs-params"/>) =&gt; {
  searchForm.<span class="hljs-property">value</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">''</span> }
  <span class="hljs-title function_">reset</span>()
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleCurrentChange</span> = (<span class="hljs-params">current: number</span>) =&gt; {
  pagination.<span class="hljs-property">value</span>.<span class="hljs-property">current</span> = current
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSizeChange</span> = (<span class="hljs-params">size: number</span>) =&gt; {
  pagination.<span class="hljs-property">value</span>.<span class="hljs-property">pageSize</span> = size
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h4 data-id="heading-15">å¸¦é€‰æ‹©çš„è¡¨æ ¼</h4>
<pre><code class="hljs language-ts" lang="ts">&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-table</span>
      <span class="hljs-attr">:data</span>=<span class="hljs-string">"data"</span>
      <span class="hljs-attr">:loading</span>=<span class="hljs-string">"loading"</span>
      @<span class="hljs-attr">selection-change</span>=<span class="hljs-string">"handleSelectionChange"</span>
      <span class="hljs-attr">row-key</span>=<span class="hljs-string">"id"</span>
    &gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"selection"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"55"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"ç”¨æˆ·å"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"é‚®ç®±"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">el-table</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> 
      <span class="hljs-attr">type</span>=<span class="hljs-string">"danger"</span> 
      @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleBatchDelete"</span>
      <span class="hljs-attr">:disabled</span>=<span class="hljs-string">"!selectedRowKeys.length"</span>
    &gt;</span>
      æ‰¹é‡åˆ é™¤ ({{ selectedRowKeys.length }})
    <span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { useTable } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/hooks/useTable'</span>

<span class="hljs-keyword">const</span> { 
  data, 
  loading, 
  selectedRowKeys, 
  selectedRows, 
  setSelectedRowKeys 
} = <span class="hljs-title function_">useTable</span>({
  <span class="hljs-attr">request</span>: getUserList
})

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSelectionChange</span> = (<span class="hljs-params">selection: User[]</span>) =&gt; {
  <span class="hljs-keyword">const</span> keys = selection.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">id</span>)
  <span class="hljs-title function_">setSelectedRowKeys</span>(keys)
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleBatchDelete</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'é€‰ä¸­çš„ç”¨æˆ·:'</span>, selectedRows.<span class="hljs-property">value</span>)
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h4 data-id="heading-16">å¸¦æ’åºçš„è¡¨æ ¼</h4>
<pre><code class="hljs language-ts" lang="ts">&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-table</span>
    <span class="hljs-attr">:data</span>=<span class="hljs-string">"data"</span>
    <span class="hljs-attr">:loading</span>=<span class="hljs-string">"loading"</span>
    @<span class="hljs-attr">sort-change</span>=<span class="hljs-string">"handleSortChange"</span>
  &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"ç”¨æˆ·å"</span> <span class="hljs-attr">sortable</span>=<span class="hljs-string">"custom"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"createTime"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"åˆ›å»ºæ—¶é—´"</span> <span class="hljs-attr">sortable</span>=<span class="hljs-string">"custom"</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">el-table</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { useTable } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/hooks/useTable'</span>

<span class="hljs-keyword">const</span> { data, loading, setSortParams } = <span class="hljs-title function_">useTable</span>({
  <span class="hljs-attr">request</span>: getUserList
})

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSortChange</span> = (<span class="hljs-params">{ prop, order }: any</span>) =&gt; {
  <span class="hljs-title function_">setSortParams</span>({
    <span class="hljs-attr">field</span>: prop,
    <span class="hljs-attr">order</span>: order === <span class="hljs-string">'ascending'</span> ? <span class="hljs-string">'ascend'</span> : order === <span class="hljs-string">'descending'</span> ? <span class="hljs-string">'descend'</span> : <span class="hljs-literal">undefined</span>
  })
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h4 data-id="heading-17">æ•°æ®è½¬æ¢</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> { data, loading } = <span class="hljs-title function_">useTable</span>({
  <span class="hljs-attr">request</span>: getUserList,
  <span class="hljs-attr">transformResponse</span>: <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
    <span class="hljs-comment">// è‡ªå®šä¹‰æ•°æ®è½¬æ¢é€»è¾‘</span>
    <span class="hljs-keyword">const</span> { result } = response
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">list</span>: result?.<span class="hljs-property">list</span>?.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> ({
        ...item,
        <span class="hljs-attr">statusText</span>: item.<span class="hljs-property">status</span> === <span class="hljs-string">'active'</span> ? <span class="hljs-string">'æ¿€æ´»'</span> : <span class="hljs-string">'ç¦ç”¨'</span>
      })) || [],
      <span class="hljs-attr">total</span>: result?.<span class="hljs-property">total</span> || <span class="hljs-number">0</span>,
      <span class="hljs-attr">current</span>: result?.<span class="hljs-property">current</span> || <span class="hljs-number">1</span>,
      <span class="hljs-attr">pageSize</span>: result?.<span class="hljs-property">pageSize</span> || <span class="hljs-number">10</span>
    }
  }
})
</code></pre>
<h4 data-id="heading-18">é”™è¯¯å¤„ç†</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> { data, loading } = <span class="hljs-title function_">useTable</span>({
  <span class="hljs-attr">request</span>: getUserList,
  <span class="hljs-attr">onError</span>: <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æ•°æ®åŠ è½½å¤±è´¥:'</span>, error)
    <span class="hljs-comment">// è‡ªå®šä¹‰é”™è¯¯å¤„ç†é€»è¾‘</span>
  },
  <span class="hljs-attr">onSuccess</span>: <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ•°æ®åŠ è½½æˆåŠŸ:'</span>, data)
    <span class="hljs-comment">// è‡ªå®šä¹‰æˆåŠŸå¤„ç†é€»è¾‘</span>
  }
})
</code></pre>
<h4 data-id="heading-19">è¯·æ±‚å‰å¤„ç†</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> { data, loading } = <span class="hljs-title function_">useTable</span>({
  <span class="hljs-attr">request</span>: getUserList,
  <span class="hljs-attr">beforeRequest</span>: <span class="hljs-function">(<span class="hljs-params">params</span>) =&gt;</span> {
    <span class="hljs-comment">// åœ¨è¯·æ±‚å‰æ·»åŠ é¢å¤–å‚æ•°</span>
    <span class="hljs-keyword">return</span> {
      ...params,
      <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
      <span class="hljs-attr">token</span>: <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'token'</span>)
    }
  }
})
</code></pre>
<h3 data-id="heading-20">æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-21">1. ç±»å‹å®‰å…¨</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰æ˜ç¡®çš„ç±»å‹</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">email</span>: <span class="hljs-built_in">string</span>
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserListParams</span> {
  <span class="hljs-attr">current</span>: <span class="hljs-built_in">number</span>
  <span class="hljs-attr">pageSize</span>: <span class="hljs-built_in">number</span>
  name?: <span class="hljs-built_in">string</span>
}

<span class="hljs-comment">// ä½¿ç”¨æ³›å‹ç¡®ä¿ç±»å‹å®‰å…¨</span>
<span class="hljs-keyword">const</span> { data, loading } = useTable&lt;<span class="hljs-title class_">User</span>, <span class="hljs-title class_">UserListParams</span>&gt;({
  <span class="hljs-attr">request</span>: getUserList
})
</code></pre>
<h4 data-id="heading-22">2. é”™è¯¯å¤„ç†</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> { data, loading } = <span class="hljs-title function_">useTable</span>({
  <span class="hljs-attr">request</span>: getUserList,
  <span class="hljs-attr">onError</span>: <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
    <span class="hljs-comment">// ç»Ÿä¸€é”™è¯¯å¤„ç†</span>
    <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æ•°æ®åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•'</span>)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'API Error:'</span>, error)
  }
})
</code></pre>
<h4 data-id="heading-23">3. æ€§èƒ½ä¼˜åŒ–</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä½¿ç”¨é˜²æŠ–æœç´¢</span>
<span class="hljs-keyword">import</span> { debounce } <span class="hljs-keyword">from</span> <span class="hljs-string">'lodash-es'</span>

<span class="hljs-keyword">const</span> debouncedSearch = <span class="hljs-title function_">debounce</span>(<span class="hljs-function">(<span class="hljs-params">params</span>) =&gt;</span> {
  <span class="hljs-title function_">search</span>(params)
}, <span class="hljs-number">300</span>)

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSearch</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">debouncedSearch</span>(searchForm.<span class="hljs-property">value</span>)
}
</code></pre>
<hr/>
<h2 data-id="heading-24">ä»£ç å®ç°</h2>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { ref, computed, <span class="hljs-keyword">type</span> <span class="hljs-title class_">Ref</span>, onMounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ElMessage</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'element-plus'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">PaginationParams</span>, <span class="hljs-title class_">SortParams</span>, <span class="hljs-title class_">TableData</span>, <span class="hljs-title class_">UseTableOptions</span>, <span class="hljs-title class_">UseTableReturn</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./type'</span>;

<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./type'</span>;

<span class="hljs-comment">/**
 * è¡¨æ ¼ Hook
 *
 * æä¾›è¡¨æ ¼æ•°æ®ç®¡ç†ã€åˆ†é¡µã€æœç´¢ã€æ’åºã€é€‰æ‹©ç­‰åŠŸèƒ½
 *
 * <span class="hljs-doctag">@template</span> T è¡¨æ ¼æ•°æ®ç±»å‹
 * <span class="hljs-doctag">@template</span> P è¯·æ±‚å‚æ•°ç±»å‹
 * <span class="hljs-doctag">@param</span> options é…ç½®é€‰é¡¹
 * <span class="hljs-doctag">@returns</span> è¡¨æ ¼æ“ä½œå¯¹è±¡
 *
 * <span class="hljs-doctag">@example</span>
 * ```typescript
 * const { data, loading, pagination, search, refresh } = useTable({
 *   request: getUserList,
 *   defaultPagination: { current: 1, pageSize: 10 },
 *   defaultSearchParams: { status: 'active' }
 * })
 *
 * // æœç´¢
 * search({ name: 'test' })
 *
 * // åˆ·æ–°
 * refresh()
 *
 * // é‡ç½®
 * reset()
 * ```
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> useTable&lt;T = <span class="hljs-built_in">any</span>, P = <span class="hljs-built_in">any</span>&gt;(<span class="hljs-attr">options</span>: <span class="hljs-title class_">UseTableOptions</span>&lt;T, P&gt;): <span class="hljs-title class_">UseTableReturn</span>&lt;T&gt; {
  <span class="hljs-keyword">const</span> {
    request,
    defaultPagination = { <span class="hljs-attr">pageNum</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">pageSize</span>: <span class="hljs-number">10</span> },
    defaultSearchParams = {},
    defaultSortParams = {},
    immediate = <span class="hljs-literal">true</span>,
    paginationKey = { <span class="hljs-attr">current</span>: <span class="hljs-string">'pageNum'</span>, <span class="hljs-attr">size</span>: <span class="hljs-string">'pageSize'</span> },
    rowKey = <span class="hljs-string">'id'</span>,
    transformResponse,
    onError,
    onSuccess,
    beforeRequest
  } = options;

  <span class="hljs-comment">// åˆ†é¡µå­—æ®µåé…ç½®</span>
  <span class="hljs-keyword">const</span> pageKey = paginationKey?.<span class="hljs-property">current</span> || <span class="hljs-string">'pageNum'</span>;
  <span class="hljs-keyword">const</span> sizeKey = paginationKey?.<span class="hljs-property">size</span> || <span class="hljs-string">'pageSize'</span>;

  <span class="hljs-keyword">const</span> loading = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> tableData = ref&lt;<span class="hljs-title class_">TableData</span>&lt;T&gt;&gt;({
    <span class="hljs-attr">list</span>: [],
    <span class="hljs-attr">total</span>: <span class="hljs-number">0</span>
  });
  <span class="hljs-keyword">const</span> searchParams = ref&lt;<span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;&gt;({ ...defaultSearchParams });
  <span class="hljs-keyword">const</span> pagination = ref&lt;<span class="hljs-title class_">PaginationParams</span>&gt;({
    <span class="hljs-attr">pageNum</span>: defaultPagination.<span class="hljs-property">pageNum</span> || <span class="hljs-number">1</span>,
    <span class="hljs-attr">pageSize</span>: defaultPagination.<span class="hljs-property">pageSize</span> || <span class="hljs-number">10</span>,
    <span class="hljs-attr">total</span>: defaultPagination.<span class="hljs-property">total</span>
  });
  <span class="hljs-keyword">const</span> sortParams = ref&lt;<span class="hljs-title class_">SortParams</span>&gt;({ ...defaultSortParams });
  <span class="hljs-keyword">const</span> selectedRowKeys = ref&lt;(<span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>)[]&gt;([]);
  <span class="hljs-keyword">const</span> selectedRows = ref&lt;T[]&gt;([]);

  <span class="hljs-comment">// tableæ•°æ®</span>
  <span class="hljs-keyword">const</span> data = computed&lt;T[]&gt;(<span class="hljs-function">() =&gt;</span> tableData.<span class="hljs-property">value</span>.<span class="hljs-property">list</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">unknown</span> <span class="hljs-keyword">as</span> T[]);
  <span class="hljs-comment">// æ˜¯å¦æœ‰æ•°æ®</span>
  <span class="hljs-keyword">const</span> hasData = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> data.<span class="hljs-property">value</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>);

  <span class="hljs-comment">/**
   * è·å–è¡Œé”®
   */</span>
  <span class="hljs-keyword">const</span> getRowKey = (<span class="hljs-attr">record</span>: T): <span class="hljs-built_in">string</span> | <span class="hljs-function"><span class="hljs-params">number</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> rowKey === <span class="hljs-string">'function'</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">rowKey</span>(record);
    }
    <span class="hljs-keyword">return</span> (record <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>)[rowKey];
  };

  <span class="hljs-comment">/**
   * æ„å»ºè¯·æ±‚å‚æ•°
   */</span>
  <span class="hljs-keyword">const</span> buildRequestParams = (): <span class="hljs-function"><span class="hljs-params">P</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> params = {
      ...searchParams.<span class="hljs-property">value</span>,
      [pageKey]: pagination.<span class="hljs-property">value</span>.<span class="hljs-property">pageNum</span>,
      [sizeKey]: pagination.<span class="hljs-property">value</span>.<span class="hljs-property">pageSize</span>
    } <span class="hljs-keyword">as</span> P;

    <span class="hljs-keyword">if</span> (sortParams.<span class="hljs-property">value</span>.<span class="hljs-property">field</span> &amp;&amp; sortParams.<span class="hljs-property">value</span>.<span class="hljs-property">order</span>) {
      (params <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">sortField</span> = sortParams.<span class="hljs-property">value</span>.<span class="hljs-property">field</span>;
      (params <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">sortOrder</span> = sortParams.<span class="hljs-property">value</span>.<span class="hljs-property">order</span>;
    }

    <span class="hljs-keyword">return</span> params;
  };

  <span class="hljs-comment">/**
   * æ›´æ–°tableæ•°æ® å¦‚ï¼šåˆ é™¤ä¸€è¡Œæ•°æ®åï¼Œä¸æƒ³è§¦å‘è·å–åˆ—è¡¨çš„æ¥å£ï¼Œå¯é€šè¿‡æ­¤æ–¹æ³•æ‰‹åŠ¨æ›´æ–°æ•°æ®
   */</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">updateData</span> = (<span class="hljs-params">data: T[]</span>) =&gt; {
    tableData.<span class="hljs-property">value</span> = {
      ...tableData.<span class="hljs-property">value</span>,
      <span class="hljs-attr">list</span>: data
    };
  };

  <span class="hljs-comment">/**
   * æ‰§è¡Œæ•°æ®è¯·æ±‚
   */</span>
  <span class="hljs-keyword">const</span> fetchData = <span class="hljs-keyword">async</span> (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; =&gt; {
    <span class="hljs-keyword">try</span> {
      loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>;

      <span class="hljs-keyword">let</span> params = <span class="hljs-title function_">buildRequestParams</span>();

      <span class="hljs-comment">// è¯·æ±‚å‰å¤„ç†</span>
      <span class="hljs-keyword">if</span> (beforeRequest) {
        params = <span class="hljs-keyword">await</span> <span class="hljs-title function_">beforeRequest</span>(params);
      }

      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">request</span>(params);

      <span class="hljs-keyword">let</span> data = response;

      <span class="hljs-keyword">if</span> (transformResponse) {
        data = <span class="hljs-title function_">transformResponse</span>(response);
      }

      tableData.<span class="hljs-property">value</span> = {
        <span class="hljs-attr">list</span>: data.<span class="hljs-property">list</span> || [],
        <span class="hljs-attr">total</span>: data.<span class="hljs-property">total</span> || <span class="hljs-number">0</span>
      };

      pagination.<span class="hljs-property">value</span>.<span class="hljs-property">total</span> = tableData.<span class="hljs-property">value</span>.<span class="hljs-property">total</span>;

      onSuccess?.(tableData.<span class="hljs-property">value</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">TableData</span>&lt;T&gt;);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'useTable fetchData error:'</span>, error);
      <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è¯·æ±‚å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•'</span>);
      onError?.(error);
    } <span class="hljs-keyword">finally</span> {
      loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>;
    }
  };

  <span class="hljs-comment">/**
   * åˆ·æ–°æ•°æ®ï¼ˆä¿æŒå½“å‰åˆ†é¡µå’Œæœç´¢æ¡ä»¶ï¼‰
   */</span>
  <span class="hljs-keyword">const</span> refresh = <span class="hljs-keyword">async</span> (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; =&gt; {
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchData</span>();
  };

  <span class="hljs-comment">/**
   * é‡æ–°åŠ è½½æ•°æ®ï¼ˆé‡ç½®åˆ°ç¬¬ä¸€é¡µï¼‰
   */</span>
  <span class="hljs-keyword">const</span> reload = <span class="hljs-keyword">async</span> (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; =&gt; {
    pagination.<span class="hljs-property">value</span>.<span class="hljs-property">pageNum</span> = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchData</span>();
  };

  <span class="hljs-comment">/**
   * æœç´¢
   */</span>
  <span class="hljs-keyword">const</span> search = <span class="hljs-keyword">async</span> (params?: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; =&gt; {
    <span class="hljs-keyword">if</span> (params) {
      searchParams.<span class="hljs-property">value</span> = { ...searchParams.<span class="hljs-property">value</span>, ...params };
    }
    pagination.<span class="hljs-property">value</span>.<span class="hljs-property">pageNum</span> = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchData</span>();
  };

  <span class="hljs-comment">/**
   * é‡ç½®æœç´¢
   */</span>
  <span class="hljs-keyword">const</span> reset = <span class="hljs-keyword">async</span> (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; =&gt; {
    searchParams.<span class="hljs-property">value</span> = { ...defaultSearchParams };
    sortParams.<span class="hljs-property">value</span> = { ...defaultSortParams };
    pagination.<span class="hljs-property">value</span>.<span class="hljs-property">pageNum</span> = defaultPagination.<span class="hljs-property">pageNum</span>!;
    pagination.<span class="hljs-property">value</span>.<span class="hljs-property">pageSize</span> = defaultPagination.<span class="hljs-property">pageSize</span>!;
    selectedRowKeys.<span class="hljs-property">value</span> = [];
    selectedRows.<span class="hljs-property">value</span> = [];
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchData</span>();
  };

  <span class="hljs-comment">/**
   * è®¾ç½®åˆ†é¡µ
   */</span>
  <span class="hljs-keyword">const</span> setPagination = (<span class="hljs-attr">paginationParams</span>: <span class="hljs-title class_">Partial</span>&lt;<span class="hljs-title class_">PaginationParams</span>&gt;): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(pagination.<span class="hljs-property">value</span>, paginationParams);
    <span class="hljs-title function_">fetchData</span>();
  };

  <span class="hljs-comment">/**
   * è®¾ç½®æ’åº
   */</span>
  <span class="hljs-keyword">const</span> setSortParams = (<span class="hljs-attr">sortParamsData</span>: <span class="hljs-title class_">SortParams</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {
    sortParams.<span class="hljs-property">value</span> = { ...sortParamsData };
    <span class="hljs-title function_">fetchData</span>();
  };

  <span class="hljs-comment">/**
   * è®¾ç½®é€‰ä¸­è¡Œ
   */</span>
  <span class="hljs-keyword">const</span> setSelectedRowKeys = (<span class="hljs-attr">keys</span>: (<span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>)[]): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {
    selectedRowKeys.<span class="hljs-property">value</span> = keys;
    selectedRows.<span class="hljs-property">value</span> = (tableData.<span class="hljs-property">value</span>.<span class="hljs-property">list</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">unknown</span> <span class="hljs-keyword">as</span> T[]).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span>
      keys.<span class="hljs-title function_">includes</span>(<span class="hljs-title function_">getRowKey</span>(item))
    );
  };

  <span class="hljs-comment">/**
   * æ¸…ç©ºé€‰ä¸­
   */</span>
  <span class="hljs-keyword">const</span> clearSelection = (): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {
    selectedRowKeys.<span class="hljs-property">value</span> = [];
    selectedRows.<span class="hljs-property">value</span> = [];
  };

  <span class="hljs-comment">/**
   * Element Plus: è¡¨æ ¼æ’åºå˜æ›´äº‹ä»¶å¤„ç†
   */</span>
  <span class="hljs-keyword">const</span> onSortChange = (
    <span class="hljs-attr">payload</span>: { prop?: <span class="hljs-built_in">string</span>; order?: <span class="hljs-string">'ascending'</span> | <span class="hljs-string">'descending'</span> | <span class="hljs-literal">null</span> } | <span class="hljs-built_in">any</span>
  ): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> <span class="hljs-attr">prop</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span> = payload?.<span class="hljs-property">prop</span>;
    <span class="hljs-keyword">const</span> <span class="hljs-attr">order</span>: <span class="hljs-string">'ascending'</span> | <span class="hljs-string">'descending'</span> | <span class="hljs-literal">null</span> | <span class="hljs-literal">undefined</span> = payload?.<span class="hljs-property">order</span>;
    <span class="hljs-keyword">if</span> (prop &amp;&amp; order) {
      <span class="hljs-title function_">setSortParams</span>({ <span class="hljs-attr">field</span>: prop, <span class="hljs-attr">order</span>: order === <span class="hljs-string">'ascending'</span> ? <span class="hljs-string">'ascend'</span> : <span class="hljs-string">'descend'</span> });
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-title function_">setSortParams</span>({});
    }
  };

  <span class="hljs-comment">/**
   * Element Plus: è¡¨æ ¼é€‰æ‹©å˜æ›´äº‹ä»¶å¤„ç†
   */</span>
  <span class="hljs-keyword">const</span> onSelectionChange = (<span class="hljs-attr">selection</span>: T[]): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> keys = selection.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-title function_">getRowKey</span>(item));
    <span class="hljs-title function_">setSelectedRowKeys</span>(keys);
  };

  <span class="hljs-comment">/**
   * Element Plus: åˆ†é¡µå½“å‰é¡µå˜æ›´äº‹ä»¶å¤„ç†
   */</span>
  <span class="hljs-keyword">const</span> onCurrentChange = (<span class="hljs-attr">current</span>: <span class="hljs-built_in">number</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {
    <span class="hljs-title function_">setPagination</span>({ <span class="hljs-attr">pageNum</span>: current });
  };

  <span class="hljs-comment">/**
   * Element Plus: åˆ†é¡µæ¯é¡µæ¡æ•°å˜æ›´äº‹ä»¶å¤„ç†
   */</span>
  <span class="hljs-keyword">const</span> onSizeChange = (<span class="hljs-attr">size</span>: <span class="hljs-built_in">number</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {
    <span class="hljs-title function_">setPagination</span>({ <span class="hljs-attr">pageSize</span>: size, <span class="hljs-attr">pageNum</span>: <span class="hljs-number">1</span> });
  };

  <span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (immediate) {
      <span class="hljs-title function_">fetchData</span>();
    }
  });

  <span class="hljs-keyword">return</span> {
    data,
    hasData,
    loading,
    pagination,
    searchParams,
    sortParams,
    selectedRowKeys,
    <span class="hljs-attr">selectedRows</span>: selectedRows <span class="hljs-keyword">as</span> <span class="hljs-built_in">unknown</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Ref</span>&lt;T[]&gt;,
    refresh,
    reload,
    search,
    reset,
    updateData,
    setPagination,
    setSortParams,
    setSelectedRowKeys,
    clearSelection,
    getRowKey,
    onSortChange,
    onSelectionChange,
    onCurrentChange,
    onSizeChange
  };
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useTable;

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Solana é“¾æ¡ï¼šä¸ºä»€ä¹ˆè¿™ä¸ªâ€œæœ€å¿«çš„åŒºå—é“¾â€]]></title>    <link>https://juejin.cn/post/7576086446459174947</link>    <guid>https://juejin.cn/post/7576086446459174947</guid>    <pubDate>2025-11-24T08:27:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576086446459174947" data-draft-id="7575910298282917923" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Solana é“¾æ¡ï¼šä¸ºä»€ä¹ˆè¿™ä¸ªâ€œæœ€å¿«çš„åŒºå—é“¾â€"/> <meta itemprop="keywords" content="åŒºå—é“¾"/> <meta itemprop="datePublished" content="2025-11-24T08:27:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘å®‰ä¸œå°¼"/> <meta itemprop="url" content="https://juejin.cn/user/1521379823340792"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Solana é“¾æ¡ï¼šä¸ºä»€ä¹ˆè¿™ä¸ªâ€œæœ€å¿«çš„åŒºå—é“¾â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1521379823340792/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘å®‰ä¸œå°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:27:28.000Z" title="Mon Nov 24 2025 08:27:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿‡å»å‡ å¹´ï¼Œå¦‚æœä½ ç¨å¾®å…³æ³¨è¿‡åŠ å¯†ä¸–ç•Œï¼Œä½ å¤§æ¦‚ç‡å¬è¿‡ä¸€å¥è¯ï¼šâ€œSolana æŒ‚äº†å—ï¼Ÿâ€</p>
<p>é¡¹ç›®æ–¹å®•æœºã€ä¸»ç½‘åœæ‘†ã€TPS æ‰æˆä¸ªä½æ•°â€¦â€¦è¿™äº›æ›¾ç»çš„é»‘å†å²ï¼ŒæŠŠå¾ˆå¤šå¼€å‘è€…å“å¾—è¿œç¦»è¿™æ¡é“¾ã€‚</p>
<p>ä½†å¥‡å¦™çš„æ˜¯ï¼Œä» 2023 å¹´åˆ°ç°åœ¨ï¼ŒSolana ä¸ä½†æ²¡å‡‰ï¼Œåè€Œå˜æˆäº† <strong>å¼€å‘è€…æœ€å–œæ¬¢çš„é«˜æ€§èƒ½é“¾</strong>ï¼Œä» DePINã€AI-Agentã€æ”¯ä»˜ã€åˆ° memeã€å†åˆ°é“¾ä¸Šæ¸¸æˆï¼Œåªè¦æ˜¯â€œéœ€è¦é€Ÿåº¦â€çš„æ–¹å‘ï¼ŒSolana éƒ½åƒä¸€å—å¸é“çŸ³ä¸€æ ·æŠŠå¼€å‘è€…å¸äº†è¿‡å»ã€‚</p>
<p>è¿™ç§åå·®å°±åƒä½ ä»¥ä¸ºå¯¹æ–¹æ˜¯ä¸ªâ€œé—®é¢˜å­¦ç”Ÿâ€ï¼Œç»“æœè¿™å­¦æœŸçªç„¶è€ƒç¬¬ä¸€ã€‚</p>
<p>ä¸ºä»€ä¹ˆï¼Ÿ å› ä¸º Solana æœ¬è´¨ä¸æ˜¯ä¸€æ¡æ™®é€šå…¬é“¾ï¼Œå®ƒæ˜¯<strong>ä¸€æ¡ä¸ºã€Œé«˜æ€§èƒ½ã€å®æ—¶äº¤äº’ã€å¹¶è¡Œæ‰§è¡Œã€è€Œè®¾è®¡çš„é“¾å¼æ“ä½œç³»ç»Ÿï¼ˆChainOSï¼‰</strong> ã€‚</p>
<p>ä»Šå¤©è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘æƒ³è®©ä½ çœŸæ­£ <em>çœ‹æ‡‚</em> Solanaï¼šä¸æ˜¯å–Šå£å·ï¼Œä¸æ˜¯èƒŒæ¦‚å¿µï¼Œè€Œæ˜¯<strong>ä»åŸç†åˆ°åŠ¨æ‰‹ã€ä»è¯·æ±‚åˆ°å“åº”</strong>ï¼Œè®©ä½ è¯»å®Œåä¼šåœ¨å¿ƒé‡Œç‚¹å¤´ï¼šâ€œå“¦â€¦â€¦åŸæ¥ Solana æ˜¯è¿™æ ·è·‘çš„ï¼Œæ€ªä¸å¾—å®ƒå¿«ã€‚â€</p>
<hr/>
<ol>
<li>
<h2 data-id="heading-0">Solana çš„çœŸå®é—®é¢˜ï¼šä¸ºä»€ä¹ˆä¼ ç»ŸåŒºå—é“¾éƒ½æ…¢ï¼Ÿ</h2>
</li>
</ol>
<p>å¦‚æœæŠŠåŒºå—é“¾æ¯”ä½œé¤å…ï¼Œä¼ ç»Ÿé“¾çš„é—®é¢˜å¤§æ¦‚æ˜¯è¿™æ ·ï¼š</p>
<ul>
<li>æ‰€æœ‰äººæ’é˜Ÿç‚¹é¤ï¼Œä¸€æ¬¡åªèƒ½å¤„ç†ä¸€ä¸ªè®¢å•ï¼ˆä¸²è¡Œï¼‰</li>
<li>å¨æˆ¿åªæœ‰ä¸€ä¸ªç¶å°ï¼ˆå•çº¿ç¨‹ï¼‰</li>
<li>åŒä¸€ä¸ªäº¤æ˜“éœ€è¦å¥½å‡ æ¬¡ç¡®è®¤ï¼ˆæœ€ç»ˆæ€§å¼±ï¼‰</li>
<li>æ¯æ¬¡éƒ½è¦å¤§å®¶å¯¹èœå“æŠ•ç¥¨ï¼ˆå…±è¯†æ‹–æ…¢é€Ÿåº¦ï¼‰</li>
</ul>
<p>äºæ˜¯å•æ¬¡ TPS å°±è¢«é”æ­»åœ¨å‡ ååˆ°å‡ ç™¾ã€‚</p>
<p><strong>Solana çš„æƒ³æ³•æ˜¯åç€æ¥çš„</strong>ï¼š</p>
<blockquote>
<p>â€œä¸ºä»€ä¹ˆåŒºå—é“¾ä¸èƒ½åƒ GPU ä¸€æ ·åŒæ—¶å¤„ç†å‡ ä¸‡ä¸ªä»»åŠ¡ï¼Ÿ ä¸ºä»€ä¹ˆçŠ¶æ€ä¸èƒ½åˆ†åŒºï¼Ÿ ä¸ºä»€ä¹ˆå…±è¯†ä¸èƒ½ç‹¬ç«‹è¿è¡Œï¼Ÿ ä¸ºä»€ä¹ˆéªŒè¯ä¸èƒ½å¹¶è¡Œæ‰§è¡Œï¼Ÿâ€</p>
</blockquote>
<p>è¿™å¥—é—®é¢˜ç›´æ¥å¯¼è‡´äº†å®ƒåæ¥æ‰€æœ‰çš„æŠ€æœ¯è®¾è®¡ã€‚</p>
<hr/>
<ol start="2">
<li>
<h2 data-id="heading-1">Solana æ˜¯æ€ä¹ˆåšåˆ°é«˜æ€§èƒ½çš„ï¼Ÿâ€”â€”ä¸‰ä¸ªæ ¸å¿ƒåŸç†</h2>
</li>
</ol>
<h3 data-id="heading-2">2.1 Proof of Historyï¼šè®©æ—¶é—´å˜å¾—â€œæœ‰åºâ€</h3>
<p>åŒºå—é“¾æœ€å¤§çš„é—®é¢˜æ˜¯ï¼š<strong>ä¸çŸ¥é“è°å…ˆè°å</strong>ã€‚</p>
<p>Solana ç›´æ¥æŠŠè¿™ä¸ªé—®é¢˜ç¡¬è§£äº†ï¼šå®ƒä½¿ç”¨ä¸€ç§å« <strong>Proof of Historyï¼ˆPoHï¼‰</strong> çš„æ—¶é—´åºåˆ—è¯æ˜æœºåˆ¶ï¼Œç”¨å¯éªŒè¯å»¶è¿Ÿå‡½æ•°ï¼ˆVDFï¼‰ä¸æ–­ç”Ÿæˆä¸€ä¸ªå…¨ç½‘å…±äº«çš„â€œæ—¶é’Ÿâ€ã€‚</p>
<p>æ‰€æœ‰äº¤æ˜“éƒ½æŒ‰è¿™ä¸ªæ—¶é’Ÿæ’åºï¼Œè¿™æ„å‘³ç€ï¼š</p>
<ul>
<li>ä¸éœ€è¦æ¯æ¬¡éƒ½å…¨ç½‘æŠ•ç¥¨</li>
<li>ä¸éœ€è¦å¹¿æ’­ç¡®è®¤é¡ºåº</li>
<li>ä¸éœ€è¦ç­‰å¾…å¤šè½®å…±è¯†</li>
</ul>
<p>å°±åƒæ‰€æœ‰èŠ‚ç‚¹å…±äº«ä¸€ä¸ªå…¨å±€è®¡æ—¶å™¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1127190fb79a463c9fb29417007741dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764577648&amp;x-signature=2%2BdmID5vO3UkXlmObSURc026Ga4%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-3">2.2 å¹¶è¡Œæ‰§è¡Œï¼šé“¾ä¸Šç‰ˆâ€œçº¿ç¨‹æ± â€</h3>
<p>Solana çš„æ‰§è¡Œæ¨¡å‹å« <strong>Sealevel</strong>ã€‚ä¸æ˜¯â€œä¸€æ¬¡æ‰§è¡Œä¸€ä¸ªäº¤æ˜“â€ï¼Œè€Œæ˜¯ï¼š</p>
<blockquote>
<p><strong>åŒæ—¶æ‰§è¡Œæ‰€æœ‰äº’ä¸å†²çªçš„çŠ¶æ€ä¿®æ”¹ï¼ˆå¹¶è¡Œäº‹åŠ¡ï¼‰ã€‚</strong></p>
</blockquote>
<p>åªè¦ä¸¤ä¸ªäº¤æ˜“è®¿é—®çš„è´¦æˆ·ä¸åŒï¼ŒSolana å°±ä¼šæŠŠå®ƒä»¬ä¸¢åˆ°ä¸åŒçš„æ‰§è¡Œçº¿ç¨‹é‡Œã€‚</p>
<p>è¿™å¥½æ¯”ï¼š</p>
<ul>
<li>ä½ ç‚’èœï¼Œæˆ‘åšæ±¤ â€”â€” äº’ä¸å½±å“</li>
<li>æ‰€ä»¥å¨æˆ¿åŒæ—¶èƒ½å¤„ç†ä¸Šç™¾ä¸ªè®¢å•</li>
</ul>
<p>è¿™æ˜¯æ‰€æœ‰ EVM é“¾éƒ½ä¸å…·å¤‡çš„èƒ½åŠ›ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c915a34f4e34e9f9dc71e37251d256d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764577648&amp;x-signature=9AltCUt2qPlKDpmaEyOISDBoPo0%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-4">2.3 å•åŒºå•çŠ¶æ€ï¼šä¸åˆ†ç‰‡ã€ä¸è·¨é“¾ï¼Œå…¨éƒ¨åœ¨ä¸€å—çŠ¶æ€æœºé‡Œ</h3>
<p>Solana çš„é€Ÿåº¦å¹¶ä¸æ˜¯é â€œåˆ†ç‰‡â€ï¼Œè€Œæ˜¯é ï¼š</p>
<ul>
<li>å•ä¸€å…¨å±€çŠ¶æ€</li>
<li>è¶…é«˜å¸¦å®½èŠ‚ç‚¹</li>
<li>GPU + å¤šæ ¸éªŒè¯</li>
<li>Zero-copy memory</li>
<li>ç®€åŒ–çš„ç½‘ç»œæ‹“æ‰‘</li>
<li>é«˜æ•ˆå‹ç¼©çš„è´¦æˆ·æ¨¡å‹</li>
</ul>
<p>è¿™è®© Solana çš„é“¾åƒä¸€å°å¤§æœåŠ¡å™¨ï¼Œè€Œä¸æ˜¯ä¸€ç¾¤â€œäº’ç›¸å–Šè¯çš„å°èŠ‚ç‚¹â€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/444291ad514549bc9be07048947198c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764577648&amp;x-signature=FEjUBTYHljFnc1BXpNiGP%2BF%2B7A4%3D" alt="" loading="lazy"/></p>
<hr/>
<ol start="3">
<li>
<h2 data-id="heading-5">åŠ¨æ‰‹ï¼šäº”åˆ†é’Ÿè·‘ä¸€ä¸ª Solana æœ€å°å®éªŒï¼ˆRPC + Tx + çŠ¶æ€è¯»å†™ï¼‰</h2>
</li>
</ol>
<p>ä¸‹é¢ç»™ä¸€ä¸ª<strong>æœ€å°å¯å¤ç°çš„ Solana å¼€å‘å®éªŒ</strong>ï¼Œåªéœ€è¦ Node.js å’Œå®˜æ–¹ RPC å³å¯ã€‚</p>
<h3 data-id="heading-6">ç¯å¢ƒå‡†å¤‡</h3>
<pre><code class="hljs language-bash" lang="bash">npm install @solana/web3.js
</code></pre>
<h3 data-id="heading-7">3.1 ç”Ÿæˆé’±åŒ…</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Keypair</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@solana/web3.js"</span>;

<span class="hljs-keyword">const</span> wallet = <span class="hljs-title class_">Keypair</span>.<span class="hljs-title function_">generate</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Public Key:"</span>, wallet.<span class="hljs-property">publicKey</span>.<span class="hljs-title function_">toBase58</span>());
</code></pre>
<p>è¾“å‡ºç±»ä¼¼ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">Public</span> <span class="hljs-keyword">Key</span>: <span class="hljs-number">6</span>v4zKszqYrBBJFtDShu...
</code></pre>
<h3 data-id="heading-8">3.2 è¯·æ±‚æµ‹è¯•ç½‘ç©ºæŠ•ï¼ˆç±»ä¼¼â€œé“¾ä¸Šå……å€¼â€ï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Connection</span>, clusterApiUrl } <span class="hljs-keyword">from</span> <span class="hljs-string">"@solana/web3.js"</span>;

<span class="hljs-keyword">const</span> connection = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Connection</span>(<span class="hljs-title function_">clusterApiUrl</span>(<span class="hljs-string">"devnet"</span>));

<span class="hljs-keyword">const</span> sig = <span class="hljs-keyword">await</span> connection.<span class="hljs-title function_">requestAirdrop</span>(wallet.<span class="hljs-property">publicKey</span>, <span class="hljs-number">1e9</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Airdrop Signature:"</span>, sig);
</code></pre>
<h3 data-id="heading-9">3.3 å‘èµ·ä¸€ç¬”è½¬è´¦ï¼ˆæ ¸å¿ƒæ­¥éª¤ï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> {
  <span class="hljs-variable constant_">LAMPORTS_PER_SOL</span>,
  <span class="hljs-title class_">SystemProgram</span>,
  <span class="hljs-title class_">Transaction</span>,
  sendAndConfirmTransaction,
} <span class="hljs-keyword">from</span> <span class="hljs-string">"@solana/web3.js"</span>;

<span class="hljs-keyword">const</span> transaction = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Transaction</span>().<span class="hljs-title function_">add</span>(
  <span class="hljs-title class_">SystemProgram</span>.<span class="hljs-title function_">transfer</span>({
    <span class="hljs-attr">fromPubkey</span>: wallet.<span class="hljs-property">publicKey</span>,
    <span class="hljs-attr">toPubkey</span>: receiverPublicKey,
    <span class="hljs-attr">lamports</span>: <span class="hljs-number">0.01</span> * <span class="hljs-variable constant_">LAMPORTS_PER_SOL</span>,
  })
);

<span class="hljs-keyword">const</span> signature = <span class="hljs-keyword">await</span> <span class="hljs-title function_">sendAndConfirmTransaction</span>(connection, transaction, [wallet]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Tx Signature:"</span>, signature);
</code></pre>
<p>ä½ å¯ä»¥ç«‹å³å» Solana åŒºå—æµè§ˆå™¨æŸ¥çœ‹äº¤æ˜“çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">https://explorer.solana.com/tx/&lt;signature&gt;?<span class="hljs-attr">cluster</span>=devnet
</code></pre>
<h3 data-id="heading-10">3.4 æ‰©å±•ç»ƒä¹ ï¼šéƒ¨ç½²æœ€å° Solana ç¨‹åºï¼ˆä¸Šé“¾åˆçº¦ï¼‰</h3>
<ul>
<li>ä½¿ç”¨ Rust + Anchor</li>
<li>åˆ›å»ºè´¦æˆ·æ¨¡å‹</li>
<li>åˆå§‹åŒ–åˆçº¦</li>
<li>å†™å…¥çŠ¶æ€</li>
<li>è¯»å–çŠ¶æ€</li>
</ul>
<hr/>
<ol start="4">
<li>
<h2 data-id="heading-11">Solana çš„ç°å®åº”ç”¨ï¼šä¸ºä»€ä¹ˆæ‰€æœ‰â€œéœ€è¦é€Ÿåº¦â€çš„æ–¹å‘éƒ½åœ¨å¾€è¿™è¾¹è·‘ï¼Ÿ</h2>
</li>
</ol>
<p>è¿‡å»ä¸€å¹´é‡Œï¼Œä½ ä¼šå‘ç°å‡ ä¹æ‰€æœ‰é£å£éƒ½å’Œ Solana æœ‰å…³ï¼š</p>
<ul>
<li><strong>AI Agent ç»“ç®—å±‚</strong>ï¼ˆå®æ—¶ç»“ç®— â†’ éœ€è¦ä½å»¶è¿Ÿï¼‰</li>
<li><strong>é“¾ä¸Šæ¸¸æˆ</strong>ï¼ˆæ— éœ€ç­‰å¾…ç¡®è®¤ï¼‰</li>
<li><strong>æ”¯ä»˜</strong>ï¼ˆè¿‘ä¼¼ Web2 ä½“éªŒï¼‰</li>
<li><strong>DePIN åˆ†å¸ƒå¼ç½‘ç»œç»“ç®—</strong></li>
<li><strong>é“¾ä¸Šæµæ•°æ®ï¼ˆåƒ Kafka ä¸€æ ·ï¼‰</strong></li>
<li><strong>meme ç”Ÿæ€ç–¯ç‹‚æ‰©å¼ ï¼ˆæè‡´ä½è´¹ç‡ + å³æ—¶äº¤æ˜“ï¼‰</strong></li>
</ul>
<p>ç”šè‡³è¿ PayPal å‰ CTO éƒ½åœ¨è¯´ï¼š</p>
<blockquote>
<p>â€œSolana æ˜¯æœ€æ¥è¿‘ Web2 ç”¨æˆ·ä½“éªŒçš„é“¾ã€‚â€</p>
</blockquote>
<p>Solana æ­£åœ¨ä»â€œåŠ å¯†é¡¹ç›®â€å˜æˆâ€œå®æ—¶äº¤äº’äº’è”ç½‘çš„åº•å±‚â€ã€‚</p>
<hr/>
<ol start="5">
<li>
<h2 data-id="heading-12">meme æ—¶é—´</h2>
</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38c5f04788a14a528e56c73293bef15a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764577648&amp;x-signature=qEAg%2B8TuTaGZMqmWrmcVwThLonk%3D" alt="" loading="lazy"/></p>
<hr/>
<ol start="6">
<li>
<h2 data-id="heading-13">å‡ç»´æ”¶æŸï¼šSolana ä¸æ˜¯åŒºå—é“¾ï¼Œå®ƒæ›´åƒæ˜¯ä¸€ç§â€œé“¾ä¸Šæ“ä½œç³»ç»Ÿâ€</h2>
</li>
</ol>
<p>å¦‚æœæŠŠä»¥å¤ªåŠçœ‹ä½œâ€œä¸–ç•Œè®¡ç®—æœºâ€ï¼Œé‚£ä¹ˆ Solana æ›´åƒæ˜¯ï¼š</p>
<blockquote>
<p>ä¸€å°å…¨ç½‘å…±äº«çš„è¶…ç®—ï¼ŒçŠ¶æ€ä¸€è‡´ã€å¹¶è¡Œæ‰§è¡Œã€å®æ—¶å“åº”ã€‚</p>
</blockquote>
<p>å®ƒè§£å†³çš„é—®é¢˜ä¸æ˜¯â€œå¦‚ä½•å»ä¸­å¿ƒåŒ–â€ï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li>å¦‚ä½•è®©é“¾èƒ½è·‘å®æ—¶åº”ç”¨</li>
<li>å¦‚ä½•è®©æ•°ä¸‡äººåŒæ—¶ä½¿ç”¨ä¸ä¼šå µ</li>
<li>å¦‚ä½•è®©å¿«é€Ÿäº¤äº’å›åˆ° Web2 çš„é€Ÿåº¦</li>
<li>å¦‚ä½•è®©é“¾æˆä¸º AIã€æ¸¸æˆã€æ”¯ä»˜çš„åº•å±‚åŸºå»º</li>
</ul>
<p>è¿™æ˜¯å®ƒèƒ½åœ¨ 2023â€“2025 å†æ¬¡çˆ†å‘çš„æœ€æ ¹æœ¬åŸå› ã€‚</p>
<p>å¦‚æœä½ ä¹Ÿåœ¨åš AIã€æ¸¸æˆã€æ”¯ä»˜ã€å®æ—¶äº’åŠ¨äº§å“ï¼ŒSolana å¯èƒ½æ˜¯ <strong>æœ€å€¼å¾—æå‰å¸ƒå±€çš„åŸºç¡€è®¾æ–½</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-14">æœ€åä¸€å¥äº’åŠ¨é‚€è¯·</h2>
<p>å¦‚æœä½ æ­£åœ¨æ¢ç´¢ Solanaã€AI Agentã€é“¾ä¸Šæ”¯ä»˜æˆ–å®æ—¶ DAppï¼Œæ¬¢è¿ç•™è¨€ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€èµ·æ‹†å¾—æ›´æ·±ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MapStructè½¬æ¢å®ä½“]]></title>    <link>https://juejin.cn/post/7576052677050744858</link>    <guid>https://juejin.cn/post/7576052677050744858</guid>    <pubDate>2025-11-24T08:14:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576052677050744858" data-draft-id="7575829296452632586" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MapStructè½¬æ¢å®ä½“"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-11-24T08:14:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤©é“ä½©æ©"/> <meta itemprop="url" content="https://juejin.cn/user/536217406931069"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MapStructè½¬æ¢å®ä½“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/536217406931069/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤©é“ä½©æ©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:14:03.000Z" title="Mon Nov 24 2025 08:14:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‰å‡ å¤©åœ¨ä»£ç ä¸­çœ‹åˆ°æœ‰äººç”¨UnitChangeConvert.INSTANCE.dtoToBO(processVo)ï¼Œæ„Ÿè§‰éå¸¸å¸…ã€‚è¿™åªæ˜¯ä¸€ä¸ªæ¥å£ï¼Œå¹¶æ²¡æœ‰ç»™å‡ºå®ç°ç±»ï¼Œå°±ç»™å®ä½“è½¬æ¢äº†ï¼Œçœå»äº†æˆ‘ä»¬è‡ªå·±å†™è½¬æ¢ç±»çš„æ—¶é—´ï¼Œä»Šå¤©æ‘¸é±¼ä¸­äº†è§£äº†ä¸‹ï¼š<strong>MapStruct æ˜¯ä¸€ä¸ªä¸“æ³¨äºã€ŒJava Bean ä¹‹é—´å±æ€§æ˜ å°„ã€çš„ä»£ç ç”Ÿæˆå™¨</strong>ï¼Œä¸ Spring åŸç”Ÿè½¬æ¢ã€MyBatis-Plus ç±»å‹è½¬æ¢å™¨æ˜¯å®Œå…¨ä¸åŒçš„å·¥å…·ï¼Œè§£å†³çš„æ˜¯ã€Œå¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´çš„å±æ€§æ‹·è´ã€é—®é¢˜ï¼ˆå¦‚ DTO â†” POJOã€VO â†” Entityï¼‰ï¼Œè€Œéå‚æ•° / æ•°æ®åº“å­—æ®µçš„ç±»å‹è½¬æ¢ã€‚</p>
<p>ä¸‹é¢ä» <strong>æ ¸å¿ƒå®šä½ã€ä¸å…¶ä»–è½¬æ¢å·¥å…·çš„åŒºåˆ«ã€ä½¿ç”¨åœºæ™¯ã€å¿«é€Ÿä¸Šæ‰‹ã€é«˜çº§ç‰¹æ€§</strong> äº”ä¸ªç»´åº¦ï¼Œå¸®ä½ ç†æ¸… MapStruct çš„æ ¸å¿ƒä»·å€¼å’Œç”¨æ³•ï¼š</p>
<h3 data-id="heading-0">ä¸€ã€æ ¸å¿ƒå®šä½ï¼šJava Bean æ˜ å°„çš„ â€œä»£ç ç”Ÿæˆç¥å™¨â€</h3>
<p>æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åœ¨ä¸åŒå±‚çº§çš„ Java Bean ä¹‹é—´æ‹·è´å±æ€§ï¼ˆå¦‚ï¼š</p>
<ul>
<li>Controller æ¥æ”¶å‰ç«¯ <code>UserDTO</code> â†’ æœåŠ¡å±‚è½¬æ¢ä¸º <code>UserEntity</code> å­˜å…¥æ•°æ®åº“ï¼›</li>
<li>æ•°æ®åº“æŸ¥è¯¢å‡º <code>UserEntity</code> â†’ è½¬æ¢ä¸º <code>UserVO</code> è¿”å›ç»™å‰ç«¯ï¼‰ã€‚</li>
</ul>
<p>ä¼ ç»Ÿåšæ³•æ˜¯æ‰‹åŠ¨å†™ <code>setter</code> æ‹·è´ï¼ˆç¹çæ˜“å‡ºé”™ï¼‰ï¼Œæˆ–ç”¨ <code>BeanUtils.copyProperties</code>ï¼ˆåå°„æ•ˆç‡ä½ã€å­—æ®µåä¸ä¸€è‡´éœ€æ‰‹åŠ¨å¤„ç†ã€ç±»å‹è½¬æ¢ä¸çµæ´»ï¼‰ã€‚</p>
<p>MapStruct çš„æ ¸å¿ƒè§£å†³æ€è·¯ï¼š</p>
<ul>
<li>åŸºäºã€Œæ³¨è§£ + æ¥å£ã€å®šä¹‰æ˜ å°„è§„åˆ™ï¼›</li>
<li>ç¼–è¯‘æœŸè‡ªåŠ¨ç”Ÿæˆ <strong>ç±»å‹å®‰å…¨ã€æ— åå°„ã€é«˜æ•ˆ</strong> çš„æ˜ å°„å®ç°ç±»ï¼ˆçº¯ Java ä»£ç ï¼Œä¸æ˜¯è¿è¡Œæ—¶åŠ¨æ€å¤„ç†ï¼‰ï¼›</li>
<li>æ”¯æŒå­—æ®µåæ˜ å°„ã€ç±»å‹è‡ªåŠ¨è½¬æ¢ã€è‡ªå®šä¹‰è½¬æ¢é€»è¾‘ã€ä¾èµ–æ³¨å…¥ç­‰ã€‚</li>
</ul>
<h3 data-id="heading-1">äºŒã€ä¸å…¶ä»– â€œè½¬æ¢å·¥å…·â€ çš„æ ¸å¿ƒåŒºåˆ«</h3>
<p>ä½ ä¹‹å‰æ¥è§¦çš„å·¥å…·å’Œ MapStruct é€‚ç”¨åœºæ™¯å®Œå…¨ä¸åŒï¼Œç”¨è¡¨æ ¼æ¸…æ™°å¯¹æ¯”ï¼š</p>



































<table><thead><tr><th>å·¥å…· / æ¡†æ¶</th><th>æ ¸å¿ƒç”¨é€”</th><th>é€‚ç”¨åœºæ™¯</th><th>åº•å±‚å®ç°</th></tr></thead><tbody><tr><td><strong>MapStruct</strong></td><td>Java Bean â†” Java Beanï¼ˆå±æ€§æ‹·è´ï¼‰</td><td>DTOâ†”Entityã€VOâ†”POJOï¼ˆä¸šåŠ¡å±‚ï¼‰</td><td>ç¼–è¯‘æœŸç”Ÿæˆ Java ä»£ç ï¼ˆæ— åå°„ï¼‰</td></tr><tr><td>Spring åŸç”Ÿ <code>Converter</code></td><td>åŸºç¡€ç±»å‹ / ç®€å•å¯¹è±¡è½¬æ¢ï¼ˆå¦‚ Stringâ†’Integerï¼‰</td><td>Web å‚æ•°è½¬æ¢ã€é…ç½®æ³¨å…¥ï¼ˆWeb / é…ç½®å±‚ï¼‰</td><td>æ¥å£å®ç° + Spring å®¹å™¨ç®¡ç†</td></tr><tr><td>MyBatis-Plus è½¬æ¢å™¨</td><td>æ•°æ®åº“å­—æ®µ â†” Java å®ä½“ï¼ˆORM å±‚ï¼‰</td><td>æ•°æ®åº“å­˜å‚¨ç±»å‹â†’Java ç±»å‹</td><td>MyBatis ç±»å‹å¤„ç†å™¨æ¥å£</td></tr><tr><td><code>BeanUtils</code>ï¼ˆSpring/Commonsï¼‰</td><td>å¿«é€Ÿå±æ€§æ‹·è´</td><td>ç®€å•åœºæ™¯ï¼ˆå­—æ®µåå®Œå…¨ä¸€è‡´ï¼‰</td><td>è¿è¡Œæ—¶åå°„ï¼ˆæ•ˆç‡ä½ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-2">ä¸€å¥è¯åŒºåˆ†ï¼š</h4>
<ul>
<li>è¦æ‹·è´ä¸¤ä¸ª Java Bean çš„å±æ€§ â†’ ç”¨ MapStructï¼›</li>
<li>è¦æŠŠ String è½¬ Integer / æšä¸¾ï¼ˆé Bean æ‹·è´ï¼‰ â†’ ç”¨ Spring <code>Converter</code>ï¼›</li>
<li>è¦æŠŠæ•°æ®åº“å­—æ®µè½¬ Java å®ä½“ â†’ ç”¨ MyBatis-Plus è½¬æ¢å™¨ã€‚</li>
</ul>
<h3 data-id="heading-3">ä¸‰ã€MapStruct å¿«é€Ÿä¸Šæ‰‹ï¼ˆSpring Boot ç¯å¢ƒï¼‰</h3>
<h4 data-id="heading-4">æ­¥éª¤ 1ï¼šå¼•å…¥ä¾èµ–ï¼ˆMavenï¼‰</h4>
<p>xml</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- MapStruct æ ¸å¿ƒä¾èµ– --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mapstruct<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mapstruct<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.5.5.Final<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span> <span class="hljs-comment">&lt;!-- æ¨èç¨³å®šç‰ˆ --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
â€‹
<span class="hljs-comment">&lt;!-- ç¼–è¯‘æœŸä»£ç ç”Ÿæˆä¾èµ–ï¼ˆå¿…é¡»ï¼Œå¦åˆ™ä¸ä¼šç”Ÿæˆå®ç°ç±»ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mapstruct<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mapstruct-processor<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.5.5.Final<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
â€‹
<span class="hljs-comment">&lt;!-- è‹¥ç”¨ Lombokï¼Œéœ€ç¡®ä¿ MapStruct èƒ½è¯†åˆ« Lombok ç”Ÿæˆçš„ getter/setter --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.30<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
â€‹
<span class="hljs-comment">&lt;!-- Lombok ä¸ MapStruct å…¼å®¹ä¾èµ–ï¼ˆJava 11+ å¯èƒ½éœ€è¦ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok-mapstruct-binding<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.2.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h4 data-id="heading-5">æ­¥éª¤ 2ï¼šå®šä¹‰å¾…æ˜ å°„çš„ Java Bean</h4>
<p>å‡è®¾å­˜åœ¨ã€Œç”¨æˆ·å®ä½“ã€å’Œã€Œç”¨æˆ· DTOã€ï¼ˆå­—æ®µåéƒ¨åˆ†ä¸ä¸€è‡´ï¼Œç±»å‹ä¸åŒï¼‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ•°æ®åº“å®ä½“ï¼ˆPOJOï¼‰</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-meta">@NoArgsConstructor</span>
<span class="hljs-meta">@AllArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserEntity</span> {
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-title class_">Long</span> id; Â  Â  Â  Â  Â <span class="hljs-comment">// ä¸»é”®</span>
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> userName; Â <span class="hljs-comment">// ç”¨æˆ·åï¼ˆå­—æ®µåï¼šuserNameï¼‰</span>
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-title class_">Integer</span> age; Â  Â  Â <span class="hljs-comment">// å¹´é¾„ï¼ˆint ç±»å‹ï¼‰</span>
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-title class_">LocalDate</span> birth; Â <span class="hljs-comment">// ç”Ÿæ—¥ï¼ˆLocalDate ç±»å‹ï¼‰</span>
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> phone; Â  Â  <span class="hljs-comment">// æ‰‹æœºå·</span>
}
â€‹
<span class="hljs-comment">// å‰ç«¯ä¼ è¾“å¯¹è±¡ï¼ˆDTOï¼‰</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-meta">@NoArgsConstructor</span>
<span class="hljs-meta">@AllArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDTO</span> {
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-title class_">Long</span> userId; Â  Â  Â <span class="hljs-comment">// ä¸»é”®ï¼ˆå­—æ®µåï¼šuserIdï¼Œä¸å®ä½“ id å¯¹åº”ï¼‰</span>
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> name; Â  Â  Â <span class="hljs-comment">// ç”¨æˆ·åï¼ˆå­—æ®µåï¼šnameï¼Œä¸å®ä½“ userName å¯¹åº”ï¼‰</span>
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> age; Â  Â  Â  <span class="hljs-comment">// å¹´é¾„ï¼ˆString ç±»å‹ï¼Œä¸å®ä½“ int å¯¹åº”ï¼‰</span>
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> birth; Â  Â  <span class="hljs-comment">// ç”Ÿæ—¥ï¼ˆString ç±»å‹ï¼Œæ ¼å¼ï¼šyyyy-MM-ddï¼‰</span>
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> phoneNum; Â <span class="hljs-comment">// æ‰‹æœºå·ï¼ˆå­—æ®µåï¼šphoneNumï¼Œä¸å®ä½“ phone å¯¹åº”ï¼‰</span>
}
</code></pre>
<h4 data-id="heading-6">æ­¥éª¤ 3ï¼šå®šä¹‰ MapStruct æ˜ å°„æ¥å£</h4>
<p>ç”¨ <code>@Mapper</code> æ³¨è§£ï¼ˆMapStruct çš„æ³¨è§£ï¼Œé MyBatis çš„ <code>@Mapper</code>ï¼ï¼‰å®šä¹‰æ˜ å°„è§„åˆ™ï¼Œ<code>componentModel = "spring"</code> è¡¨ç¤ºè®© Spring ç®¡ç†æ˜ å°„å™¨å®ä¾‹ï¼ˆæ”¯æŒä¾èµ–æ³¨å…¥ï¼‰ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.mapstruct</span><span class="hljs-selector-class">.Mapper</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.mapstruct</span><span class="hljs-selector-class">.Mapping</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.mapstruct</span><span class="hljs-selector-class">.Mappings</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.mapstruct</span><span class="hljs-selector-class">.factory</span><span class="hljs-selector-class">.Mappers</span>;
â€‹
<span class="hljs-comment">// å…³é”®æ³¨è§£ï¼šcomponentModel="spring" â†’ Spring ç®¡ç†è¯¥æ˜ å°„å™¨</span>
@<span class="hljs-selector-tag">Mapper</span>(componentModel = <span class="hljs-string">"spring"</span>, imports = {<span class="hljs-selector-tag">LocalDate</span><span class="hljs-selector-class">.class</span>, <span class="hljs-selector-tag">DateTimeFormatter</span><span class="hljs-selector-class">.class</span>})
<span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">interface</span> <span class="hljs-selector-tag">UserConvert</span> {
â€‹
 Â  Â <span class="hljs-comment">// æ–¹å¼ 1ï¼šSpring ä¾èµ–æ³¨å…¥ç”¨ï¼ˆæ— éœ€æ‰‹åŠ¨åˆ›å»ºå®ä¾‹ï¼‰</span>
 Â  Â <span class="hljs-comment">// æ–¹å¼ 2ï¼šé Spring ç¯å¢ƒç”¨ï¼ˆæ‰‹åŠ¨è·å–å®ä¾‹ï¼‰</span>
 Â  Â <span class="hljs-comment">// UserConvert INSTANCE = Mappers.getMapper(UserConvert.class);</span>
â€‹
 Â  Â <span class="hljs-comment">/**
 Â  Â  * DTO â†’ å®ä½“ï¼ˆæ ¸å¿ƒæ˜ å°„æ–¹æ³•ï¼‰
 Â  Â  * @Mappingï¼šæŒ‡å®šå­—æ®µæ˜ å°„è§„åˆ™ï¼ˆå­—æ®µåä¸ä¸€è‡´ã€ç±»å‹è½¬æ¢ã€æ ¼å¼è½¬æ¢ï¼‰
 Â  Â  */</span>
 Â  Â <span class="hljs-variable">@Mappings</span>({
 Â  Â  Â  Â <span class="hljs-comment">// DTO çš„ userId â†’ å®ä½“çš„ idï¼ˆå­—æ®µåä¸ä¸€è‡´ï¼‰</span>
 Â  Â  Â  Â <span class="hljs-variable">@Mapping</span>(source = <span class="hljs-string">"userId"</span>, target = <span class="hljs-string">"id"</span>),
 Â  Â  Â  Â <span class="hljs-comment">// DTO çš„ name â†’ å®ä½“çš„ userNameï¼ˆå­—æ®µåä¸ä¸€è‡´ï¼‰</span>
 Â  Â  Â  Â <span class="hljs-variable">@Mapping</span>(source = <span class="hljs-string">"name"</span>, target = <span class="hljs-string">"userName"</span>),
 Â  Â  Â  Â <span class="hljs-comment">// DTO çš„ ageï¼ˆStringï¼‰â†’ å®ä½“çš„ ageï¼ˆintï¼‰ï¼šè‡ªåŠ¨ç±»å‹è½¬æ¢ï¼ˆMapStruct å†…ç½®æ”¯æŒï¼‰</span>
 Â  Â  Â  Â <span class="hljs-variable">@Mapping</span>(source = <span class="hljs-string">"age"</span>, target = <span class="hljs-string">"age"</span>),
 Â  Â  Â  Â <span class="hljs-comment">// DTO çš„ birthï¼ˆStringï¼‰â†’ å®ä½“çš„ birthï¼ˆLocalDateï¼‰ï¼šè‡ªå®šä¹‰æ ¼å¼è½¬æ¢</span>
 Â  Â  Â  Â <span class="hljs-variable">@Mapping</span>(
 Â  Â  Â  Â  Â  Â source = <span class="hljs-string">"birth"</span>,
 Â  Â  Â  Â  Â  Â target = <span class="hljs-string">"birth"</span>,
 Â  Â  Â  Â  Â  Â dateFormat = <span class="hljs-string">"yyyy-MM-dd"</span> <span class="hljs-comment">// æŒ‡å®šæ—¥æœŸæ ¼å¼</span>
 Â  Â  Â   ),
 Â  Â  Â  Â <span class="hljs-comment">// DTO çš„ phoneNum â†’ å®ä½“çš„ phoneï¼ˆå­—æ®µåä¸ä¸€è‡´ï¼‰</span>
 Â  Â  Â  Â <span class="hljs-variable">@Mapping</span>(source = <span class="hljs-string">"phoneNum"</span>, target = <span class="hljs-string">"phone"</span>)
 Â   })
 Â  Â UserEntity <span class="hljs-built_in">dtoToEntity</span>(UserDTO userDTO);
â€‹
 Â  Â <span class="hljs-comment">/**
 Â  Â  * å®ä½“ â†’ DTOï¼ˆåå‘æ˜ å°„ï¼Œå­—æ®µåå¯¹åº”è§„åˆ™ä¸æ­£å‘ä¸€è‡´ï¼‰
 Â  Â  * å¯å¤ç”¨æ­£å‘æ˜ å°„è§„åˆ™ï¼Œç”¨ @InheritInverseConfiguration ç®€åŒ–
 Â  Â  */</span>
 Â  Â <span class="hljs-variable">@InheritInverseConfiguration</span>(name = <span class="hljs-string">"dtoToEntity"</span>)
 Â  Â <span class="hljs-variable">@Mapping</span>(
 Â  Â  Â  Â source = <span class="hljs-string">"birth"</span>,
 Â  Â  Â  Â target = <span class="hljs-string">"birth"</span>,
 Â  Â  Â  Â dateFormat = <span class="hljs-string">"yyyy-MM-dd"</span> <span class="hljs-comment">// åå‘è½¬æ¢ä¹Ÿéœ€æŒ‡å®šæ—¥æœŸæ ¼å¼</span>
 Â   )
 Â  Â UserDTO <span class="hljs-built_in">entityToDto</span>(UserEntity userEntity);
â€‹
 Â  Â <span class="hljs-comment">/**
 Â  Â  * è‡ªå®šä¹‰è½¬æ¢é€»è¾‘ï¼ˆå¦‚ç‰¹æ®Šæ ¼å¼å¤„ç†ã€å¤æ‚è®¡ç®—ï¼‰
 Â  Â  * è‹¥ MapStruct å†…ç½®è½¬æ¢ä¸æ»¡è¶³ï¼Œå¯å®šä¹‰é»˜è®¤æ–¹æ³•ï¼ˆdefaultï¼‰
 Â  Â  */</span>
 Â  Â <span class="hljs-selector-tag">default</span> <span class="hljs-selector-tag">Integer</span> <span class="hljs-selector-tag">stringToAge</span>(String ageStr) {
 Â  Â  Â  Â <span class="hljs-selector-tag">if</span> (ageStr == null || ageStr.<span class="hljs-built_in">trim</span>().<span class="hljs-built_in">isEmpty</span>()) {
 Â  Â  Â  Â  Â  Â <span class="hljs-selector-tag">return</span> <span class="hljs-number">0</span>; <span class="hljs-comment">// ç©ºå€¼é»˜è®¤ 0</span>
 Â  Â  Â   }
 Â  Â  Â  Â <span class="hljs-selector-tag">try</span> {
 Â  Â  Â  Â  Â  Â <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">Integer</span><span class="hljs-selector-class">.parseInt</span>(ageStr.<span class="hljs-built_in">trim</span>());
 Â  Â  Â   } <span class="hljs-selector-tag">catch</span> (NumberFormatException e) {
 Â  Â  Â  Â  Â  Â <span class="hljs-selector-tag">return</span> <span class="hljs-number">0</span>; <span class="hljs-comment">// æ ¼å¼é”™è¯¯é»˜è®¤ 0</span>
 Â  Â  Â   }
 Â   }
â€‹
 Â  Â <span class="hljs-comment">// åå‘è½¬æ¢ï¼šInteger â†’ String</span>
 Â  Â <span class="hljs-selector-tag">default</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">ageToString</span>(Integer age) {
 Â  Â  Â  Â <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">age</span> == <span class="hljs-selector-tag">null</span> ? "" : <span class="hljs-selector-tag">String</span><span class="hljs-selector-class">.valueOf</span>(age);
 Â   }
}
</code></pre>
<h4 data-id="heading-7">æ­¥éª¤ 4ï¼šç¼–è¯‘é¡¹ç›®ï¼ŒæŸ¥çœ‹ç”Ÿæˆçš„å®ç°ç±»</h4>
<p>MapStruct ä¼šåœ¨ <strong>ç¼–è¯‘æœŸ</strong> ç”Ÿæˆ <code>UserConvertImpl</code> å®ç°ç±»ï¼ˆæ— éœ€æ‰‹åŠ¨å†™ï¼‰ï¼Œè·¯å¾„åœ¨ <code>target/generated-sources/annotations/</code> ä¸‹ï¼Œæ ¸å¿ƒé€»è¾‘å¦‚ä¸‹ï¼ˆè‡ªåŠ¨ç”Ÿæˆçš„çº¯ Java ä»£ç ï¼‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// è‡ªåŠ¨ç”Ÿæˆçš„å®ç°ç±»ï¼ˆSpring ç®¡ç†ï¼‰</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserConvertImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserConvert</span> {
â€‹
 Â  Â <span class="hljs-meta">@Override</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title class_">UserEntity</span> <span class="hljs-title function_">dtoToEntity</span>(<span class="hljs-params">UserDTO userDTO</span>) {
 Â  Â  Â  Â <span class="hljs-keyword">if</span> (userDTO == <span class="hljs-literal">null</span>) {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
 Â  Â  Â   }
 Â  Â  Â  Â <span class="hljs-title class_">UserEntity</span> userEntity = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserEntity</span>();
 Â  Â  Â  Â userEntity.<span class="hljs-title function_">setId</span>(userDTO.<span class="hljs-title function_">getUserId</span>());
 Â  Â  Â  Â userEntity.<span class="hljs-title function_">setUserName</span>(userDTO.<span class="hljs-title function_">getName</span>());
 Â  Â  Â  Â <span class="hljs-comment">// è°ƒç”¨è‡ªå®šä¹‰çš„ stringToAge æ–¹æ³•è½¬æ¢ç±»å‹</span>
 Â  Â  Â  Â userEntity.<span class="hljs-title function_">setAge</span>(<span class="hljs-title function_">stringToAge</span>(userDTO.<span class="hljs-title function_">getAge</span>()));
 Â  Â  Â  Â <span class="hljs-comment">// è‡ªåŠ¨æŒ‰æŒ‡å®šæ ¼å¼è½¬æ¢ String â†’ LocalDate</span>
 Â  Â  Â  Â <span class="hljs-keyword">if</span> (userDTO.<span class="hljs-title function_">getBirth</span>() != <span class="hljs-literal">null</span>) {
 Â  Â  Â  Â  Â  Â userEntity.<span class="hljs-title function_">setBirth</span>(<span class="hljs-title class_">LocalDate</span>.<span class="hljs-title function_">parse</span>(userDTO.<span class="hljs-title function_">getBirth</span>(), <span class="hljs-title class_">DateTimeFormatter</span>.<span class="hljs-title function_">ofPattern</span>(<span class="hljs-string">"yyyy-MM-dd"</span>)));
 Â  Â  Â   }
 Â  Â  Â  Â userEntity.<span class="hljs-title function_">setPhone</span>(userDTO.<span class="hljs-title function_">getPhoneNum</span>());
 Â  Â  Â  Â <span class="hljs-keyword">return</span> userEntity;
 Â   }
â€‹
 Â  Â <span class="hljs-meta">@Override</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title class_">UserDTO</span> <span class="hljs-title function_">entityToDto</span>(<span class="hljs-params">UserEntity userEntity</span>) {
 Â  Â  Â  Â <span class="hljs-comment">// ç±»ä¼¼æ­£å‘è½¬æ¢é€»è¾‘ï¼Œè‡ªåŠ¨å¤„ç†å­—æ®µæ˜ å°„å’Œç±»å‹è½¬æ¢</span>
 Â   }
â€‹
 Â  Â <span class="hljs-comment">// è‡ªåŠ¨ç”Ÿæˆè‡ªå®šä¹‰æ–¹æ³•çš„è°ƒç”¨é€»è¾‘...</span>
}
</code></pre>
<h4 data-id="heading-8">æ­¥éª¤ 5ï¼šåœ¨ Spring ä¸­ä½¿ç”¨æ˜ å°„å™¨</h4>
<p>é€šè¿‡ <code>@Autowired</code> æ³¨å…¥ <code>UserConvert</code>ï¼Œç›´æ¥è°ƒç”¨æ˜ å°„æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
â€‹
 Â  Â <span class="hljs-meta">@Autowired</span>
 Â  Â <span class="hljs-keyword">private</span> UserConvert userConvert; <span class="hljs-comment">// æ³¨å…¥ MapStruct æ˜ å°„å™¨</span>
â€‹
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addUser</span><span class="hljs-params">(UserDTO userDTO)</span> {
 Â  Â  Â  Â <span class="hljs-comment">// 1. DTO â†’ å®ä½“ï¼ˆè‡ªåŠ¨å®Œæˆå­—æ®µæ˜ å°„å’Œç±»å‹è½¬æ¢ï¼‰</span>
 Â  Â  Â  Â <span class="hljs-type">UserEntity</span> <span class="hljs-variable">userEntity</span> <span class="hljs-operator">=</span> userConvert.dtoToEntity(userDTO);
 Â  Â  Â  Â 
 Â  Â  Â  Â <span class="hljs-comment">// 2. å­˜å…¥æ•°æ®åº“ï¼ˆå‡è®¾ç”¨ MyBatis æ“ä½œï¼‰</span>
 Â  Â  Â  Â <span class="hljs-comment">// userMapper.insert(userEntity);</span>
 Â  Â  Â  Â 
 Â  Â  Â  Â System.out.println(<span class="hljs-string">"è½¬æ¢åçš„å®ä½“ï¼š"</span> + userEntity);
 Â   }
â€‹
 Â  Â <span class="hljs-keyword">public</span> UserDTO <span class="hljs-title function_">getUserById</span><span class="hljs-params">(Long id)</span> {
 Â  Â  Â  Â <span class="hljs-comment">// 1. ä»æ•°æ®åº“æŸ¥è¯¢å®ä½“</span>
 Â  Â  Â  Â <span class="hljs-type">UserEntity</span> <span class="hljs-variable">userEntity</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserEntity</span>(id, <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">25</span>, LocalDate.of(<span class="hljs-number">2000</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>), <span class="hljs-string">"13800138000"</span>);
 Â  Â  Â  Â 
 Â  Â  Â  Â <span class="hljs-comment">// 2. å®ä½“ â†’ DTOï¼ˆåå‘è½¬æ¢ï¼‰</span>
 Â  Â  Â  Â <span class="hljs-type">UserDTO</span> <span class="hljs-variable">userDTO</span> <span class="hljs-operator">=</span> userConvert.entityToDto(userEntity);
 Â  Â  Â  Â 
 Â  Â  Â  Â <span class="hljs-keyword">return</span> userDTO;
 Â   }
}
</code></pre>
<h4 data-id="heading-9">æµ‹è¯•æ•ˆæœï¼š</h4>
<pre><code class="hljs language-ini" lang="ini">// æµ‹è¯• DTO â†’ å®ä½“
UserDTO <span class="hljs-attr">dto</span> = new UserDTO(<span class="hljs-number">1</span>L, <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"25"</span>, <span class="hljs-string">"2000-01-01"</span>, <span class="hljs-string">"13800138000"</span>)<span class="hljs-comment">;</span>
UserEntity <span class="hljs-attr">entity</span> = userConvert.dtoToEntity(dto)<span class="hljs-comment">;</span>
// è¾“å‡ºï¼šUserEntity(<span class="hljs-attr">id</span>=<span class="hljs-number">1</span>, userName=å¼ ä¸‰, age=<span class="hljs-number">25</span>, birth=<span class="hljs-number">2000</span>-<span class="hljs-number">01</span>-<span class="hljs-number">01</span>, phone=<span class="hljs-number">13800138000</span>)
â€‹
// æµ‹è¯•å®ä½“ â†’ DTO
UserEntity <span class="hljs-attr">entity</span> = new UserEntity(<span class="hljs-number">1</span>L, <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">25</span>, LocalDate.of(<span class="hljs-number">2000</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>), <span class="hljs-string">"13800138000"</span>)<span class="hljs-comment">;</span>
UserDTO <span class="hljs-attr">dto</span> = userConvert.entityToDto(entity)<span class="hljs-comment">;</span>
// è¾“å‡ºï¼šUserDTO(<span class="hljs-attr">userId</span>=<span class="hljs-number">1</span>, name=å¼ ä¸‰, age=<span class="hljs-number">25</span>, birth=<span class="hljs-number">2000</span>-<span class="hljs-number">01</span>-<span class="hljs-number">01</span>, phoneNum=<span class="hljs-number">13800138000</span>)
</code></pre>
<h3 data-id="heading-10">å››ã€MapStruct æ ¸å¿ƒæ³¨è§£ä¸é«˜çº§ç‰¹æ€§</h3>
<h4 data-id="heading-11">1. æ ¸å¿ƒæ³¨è§£ï¼ˆå¸¸ç”¨ï¼‰</h4>








































<table><thead><tr><th>æ³¨è§£</th><th>ä½œç”¨</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>@Mapper</code></td><td>æ ‡è¯†æ˜ å°„æ¥å£ï¼ŒæŒ‡å®šç»„ä»¶æ¨¡å‹ï¼ˆå¦‚ Springï¼‰</td><td><code>@Mapper(componentModel = "spring")</code></td></tr><tr><td><code>@Mapping</code></td><td>å•ä¸ªå­—æ®µæ˜ å°„è§„åˆ™</td><td><code>@Mapping(source = "name", target = "userName")</code></td></tr><tr><td><code>@Mappings</code></td><td>å¤šä¸ª <code>@Mapping</code> çš„é›†åˆ</td><td>åŒ…è£¹å¤šä¸ª <code>@Mapping</code> æ³¨è§£</td></tr><tr><td><code>@InheritInverseConfiguration</code></td><td>ç»§æ‰¿åå‘æ˜ å°„è§„åˆ™ï¼ˆé¿å…é‡å¤å†™æ³¨è§£ï¼‰</td><td><code>@InheritInverseConfiguration(name = "dtoToEntity")</code></td></tr><tr><td><code>@MappingTarget</code></td><td>æ˜ å°„åˆ°å·²å­˜åœ¨çš„å¯¹è±¡ï¼ˆæ›´æ–°å±æ€§ï¼‰</td><td><code>void updateEntity(UserDTO dto, @MappingTarget UserEntity entity)</code></td></tr><tr><td><code>@Named</code></td><td>å‘½åè‡ªå®šä¹‰è½¬æ¢æ–¹æ³•ï¼ˆç”¨äºå¤æ‚æ˜ å°„ï¼‰</td><td><code>@Named("stringToAge") default Integer stringToAge(String s) {}</code></td></tr></tbody></table>
<h4 data-id="heading-12">2. é«˜çº§ç‰¹æ€§</h4>
<h5 data-id="heading-13">ï¼ˆ1ï¼‰é›†åˆæ˜ å°„ï¼ˆè‡ªåŠ¨æ”¯æŒ List/Set/Arrayï¼‰</h5>
<p>MapStruct ä¼šè‡ªåŠ¨ä¸ºé›†åˆç”Ÿæˆæ˜ å°„æ–¹æ³•ï¼Œæ— éœ€æ‰‹åŠ¨å®šä¹‰ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-keyword">@Mapper</span>(componentModel = <span class="hljs-string">"spring"</span>)
public interface UserConvert {
 Â  Â <span class="hljs-comment">// å•ä¸ªå¯¹è±¡æ˜ å°„ï¼ˆå·²å®šä¹‰ï¼‰</span>
 Â  Â UserEntity <span class="hljs-built_in">dtoToEntity</span>(UserDTO dto);
 Â  Â UserDTO <span class="hljs-built_in">entityToDto</span>(UserEntity entity);
â€‹
 Â  Â <span class="hljs-comment">// é›†åˆæ˜ å°„ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼Œæ— éœ€æ‰‹åŠ¨å†™å®ç°ï¼‰</span>
 Â  Â List&lt;UserEntity&gt; <span class="hljs-built_in">dtoListToEntityList</span>(List&lt;UserDTO&gt; dtoList);
 Â  Â Set&lt;UserDTO&gt; <span class="hljs-built_in">entitySetToDtoSet</span>(Set&lt;UserEntity&gt; entitySet);
}
</code></pre>
<h5 data-id="heading-14">ï¼ˆ2ï¼‰è‡ªå®šä¹‰è½¬æ¢é€»è¾‘ï¼ˆå¤æ‚åœºæ™¯ï¼‰</h5>
<p>è‹¥å†…ç½®è½¬æ¢ä¸æ»¡è¶³ï¼ˆå¦‚æšä¸¾è½¬æ¢ã€å¯¹è±¡åµŒå¥—ï¼‰ï¼Œå¯å®šä¹‰ <code>default</code> æ–¹æ³•æˆ–å•ç‹¬çš„è½¬æ¢ç±»ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ç¤ºä¾‹ï¼šæšä¸¾è½¬æ¢</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> GenderEnum {
 Â  Â MALE(<span class="hljs-number">1</span>, <span class="hljs-string">"ç”·"</span>), FEMALE(<span class="hljs-number">2</span>, <span class="hljs-string">"å¥³"</span>);
 Â  Â <span class="hljs-comment">// getter/setter/é™æ€æ–¹æ³•...</span>
}
â€‹
<span class="hljs-comment">// DTO ä¸­ gender æ˜¯ String ç±»å‹ï¼ˆ"ç”·"/"å¥³"ï¼‰ï¼Œå®ä½“ä¸­æ˜¯ GenderEnum</span>
<span class="hljs-meta">@Mapping(
 Â  Â source = <span class="hljs-string">"gender"</span>,
 Â  Â target = <span class="hljs-string">"gender"</span>,
 Â  Â qualifiedByName = <span class="hljs-string">"genderStrToEnum"</span> // æŒ‡å®šè‡ªå®šä¹‰è½¬æ¢æ–¹æ³•
)</span>
UserEntity dtoToEntity(UserDTO dto);
â€‹
<span class="hljs-comment">// è‡ªå®šä¹‰æšä¸¾è½¬æ¢æ–¹æ³•ï¼ˆç”¨ @Named æ ‡è¯†ï¼‰</span>
<span class="hljs-meta">@Named(<span class="hljs-string">"genderStrToEnum"</span>)</span>
default GenderEnum genderStrToEnum(String genderStr) {
 Â  Â <span class="hljs-keyword">if</span> (<span class="hljs-string">"ç”·"</span>.equals(genderStr)) <span class="hljs-keyword">return</span> GenderEnum.MALE;
 Â  Â <span class="hljs-keyword">if</span> (<span class="hljs-string">"å¥³"</span>.equals(genderStr)) <span class="hljs-keyword">return</span> GenderEnum.FEMALE;
 Â  Â <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
</code></pre>
<h5 data-id="heading-15">ï¼ˆ3ï¼‰ä¾èµ–æ³¨å…¥å…¶ä»–æœåŠ¡</h5>
<p>å›  <code>componentModel = "spring"</code>ï¼Œæ˜ å°„å™¨å¯æ³¨å…¥ Spring Beanï¼ˆå¦‚ä¸šåŠ¡æœåŠ¡ã€å·¥å…·ç±»ï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Mapper(componentModel = <span class="hljs-string">"spring"</span>)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserConvert</span> {
â€‹
 Â  Â <span class="hljs-meta">@Autowired</span>
 Â  Â UserService userService; <span class="hljs-comment">// æ³¨å…¥ Spring æœåŠ¡</span>
â€‹
 Â  Â <span class="hljs-meta">@Mapping(
 Â  Â  Â  Â source = <span class="hljs-string">"userId"</span>,
 Â  Â  Â  Â target = <span class="hljs-string">"deptId"</span>,
 Â  Â  Â  Â qualifiedByName = <span class="hljs-string">"getDeptIdByUserId"</span> // è°ƒç”¨æ³¨å…¥çš„æœåŠ¡
 Â   )</span>
 Â  Â UserEntity dtoToEntity(UserDTO dto);
â€‹
 Â  Â <span class="hljs-meta">@Named(<span class="hljs-string">"getDeptIdByUserId"</span>)</span>
 Â  Â default <span class="hljs-built_in">Long</span> getDeptIdByUserId(<span class="hljs-built_in">Long</span> userId) {
 Â  Â  Â  Â <span class="hljs-comment">// è°ƒç”¨ä¸šåŠ¡æœåŠ¡è·å–éƒ¨é—¨IDï¼ˆå¤æ‚é€»è¾‘ï¼‰</span>
 Â  Â  Â  Â <span class="hljs-keyword">return</span> userService.getDeptIdByUserId(userId);
 Â   }
}
</code></pre>
<h5 data-id="heading-16">ï¼ˆ4ï¼‰æ—¥æœŸ / æ•°å­—æ ¼å¼è½¬æ¢</h5>
<p>é€šè¿‡ <code>dateFormat</code>/<code>numberFormat</code> æŒ‡å®šæ ¼å¼ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// æ—¥æœŸæ ¼å¼</span>
<span class="hljs-variable">@Mapping</span>(source = <span class="hljs-string">"birth"</span>, target = <span class="hljs-string">"birth"</span>, dateFormat = <span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>)
<span class="hljs-comment">// æ•°å­—æ ¼å¼ï¼ˆå¦‚ä¿ç•™2ä½å°æ•°ï¼‰</span>
<span class="hljs-variable">@Mapping</span>(source = <span class="hljs-string">"amount"</span>, target = <span class="hljs-string">"amount"</span>, numberFormat = <span class="hljs-string">"#.00"</span>)
UserEntity <span class="hljs-built_in">dtoToEntity</span>(UserDTO dto);
</code></pre>
<h3 data-id="heading-17">äº”ã€æ³¨æ„äº‹é¡¹</h3>
<ol>
<li>
<p><strong>ç¼–è¯‘æœŸç”Ÿæˆä»£ç </strong>ï¼š</p>
<ul>
<li>å¿…é¡»å¼•å…¥ <code>mapstruct-processor</code> ä¾èµ–ï¼Œå¦åˆ™ä¸ä¼šç”Ÿæˆå®ç°ç±»ï¼Œè¿è¡Œæ—¶ä¼šæŠ¥ã€Œæ‰¾ä¸åˆ°å®ç°ç±»ã€é”™è¯¯ï¼›</li>
<li>è‹¥ç”¨ IDEAï¼Œéœ€å¼€å¯ã€ŒAnnotation Processingã€ï¼ˆSettings â†’ Build â†’ Compiler â†’ Annotation Processorsï¼‰ï¼Œå¦åˆ™ IDEA å¯èƒ½ä¸è¯†åˆ«ç”Ÿæˆçš„ç±»ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¸ Lombok å…¼å®¹</strong>ï¼š</p>
<ul>
<li>ç¡®ä¿ Lombok ç‰ˆæœ¬ â‰¥ 1.18.16ï¼ŒMapStruct ç‰ˆæœ¬ â‰¥ 1.4.2ï¼›</li>
<li>è‹¥å­—æ®µæ—  getter/setterï¼ˆå¦‚ç”¨ <code>@Data</code> ç”Ÿæˆï¼‰ï¼ŒMapStruct æ— æ³•è¯†åˆ«å­—æ®µï¼Œéœ€ç¡®ä¿ Lombok æ­£ç¡®ç”Ÿæˆè®¿é—®å™¨ã€‚</li>
</ul>
</li>
<li>
<p><strong>å­—æ®µååŒ¹é…è§„åˆ™</strong>ï¼š</p>
<ul>
<li>é»˜è®¤æŒ‰ã€Œå­—æ®µåç›¸åŒã€æ˜ å°„ï¼ˆå¿½ç•¥å¤§å°å†™ï¼Ÿä¸ï¼Œä¸¥æ ¼åŒ¹é…ï¼‰ï¼›</li>
<li>è‹¥å­—æ®µåæ˜¯ <code>userName</code>ï¼ˆå®ä½“ï¼‰å’Œ <code>user_name</code>ï¼ˆDTOï¼‰ï¼Œå¯å¼€å¯ <code>unmappedTargetPolicy = ReportingPolicy.IGNORE</code> å¿½ç•¥æœªæ˜ å°„å­—æ®µï¼Œæˆ–æ‰‹åŠ¨æŒ‡å®š <code>@Mapping</code>ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-18">æ€»ç»“</h3>
<p>MapStruct æ˜¯ <strong>Java Bean æ˜ å°„çš„æœ€ä¼˜è§£</strong>ï¼Œæ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<ol>
<li>ç±»å‹å®‰å…¨ï¼šç¼–è¯‘æœŸæ£€æŸ¥å­—æ®µåã€ç±»å‹æ˜¯å¦åŒ¹é…ï¼Œé¿å…è¿è¡Œæ—¶é”™è¯¯ï¼›</li>
<li>æ•ˆç‡é«˜ï¼šæ— åå°„ï¼Œç¼–è¯‘æœŸç”ŸæˆåŸç”Ÿ Java ä»£ç ï¼Œæ€§èƒ½è¿œè¶… <code>BeanUtils</code>ï¼›</li>
<li>çµæ´»ï¼šæ”¯æŒå­—æ®µæ˜ å°„ã€ç±»å‹è½¬æ¢ã€è‡ªå®šä¹‰é€»è¾‘ã€ä¾èµ–æ³¨å…¥ï¼›</li>
<li>ç®€åŒ–ä»£ç ï¼šæ— éœ€æ‰‹åŠ¨å†™ <code>setter</code> æ‹·è´ï¼Œæ³¨è§£é©±åŠ¨å¼€å‘ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Mavenå¤šä»“åº“/ä¾èµ–é…ç½®]]></title>    <link>https://juejin.cn/post/7575887863797579786</link>    <guid>https://juejin.cn/post/7575887863797579786</guid>    <pubDate>2025-11-24T08:15:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575887863797579786" data-draft-id="7575533124878712859" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Mavenå¤šä»“åº“/ä¾èµ–é…ç½®"/> <meta itemprop="keywords" content="maven,Java"/> <meta itemprop="datePublished" content="2025-11-24T08:15:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¾™å"/> <meta itemprop="url" content="https://juejin.cn/user/1515546071270151"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Mavenå¤šä»“åº“/ä¾èµ–é…ç½®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1515546071270151/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¾™å
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:15:40.000Z" title="Mon Nov 24 2025 08:15:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åœ¨ç°ä»£Javaä¼ä¸šçº§å¼€å‘ä¸­ï¼Œé«˜æ•ˆçš„ä¾èµ–ç®¡ç†æ˜¯é¡¹ç›®æˆåŠŸçš„å…³é”®å› ç´ ä¹‹ä¸€ã€‚Mavenä½œä¸ºJavaç”Ÿæ€ä¸­æœ€æµè¡Œçš„æ„å»ºå·¥å…·ï¼Œå…¶å¤šä»“åº“å’Œå¤šProfileåŠŸèƒ½ä¸ºä¼ä¸šçº§é¡¹ç›®æä¾›äº†å¼ºå¤§çš„ä¾èµ–ç®¡ç†èƒ½åŠ›ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨IDEAä¸­é…ç½®Mavenå¤šä»“åº“å’Œå¤šProfileï¼Œè§£å†³å®é™…å¼€å‘ä¸­çš„ä¾èµ–ç®¡ç†ç—›ç‚¹ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€å‰è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦ Maven å¤šä»“åº“ / å¤š Profile é…ç½®ï¼Ÿ</h2>
<p><code>å•ä»“åº“ç—›ç‚¹</code><strong>ï¼šä¸­å¤®ä»“åº“è®¿é—®æ…¢ã€ç§æœ‰åº“ä¾èµ–æ— æ³•æ‹‰å–ã€ä¸åŒç¯å¢ƒï¼ˆå¼€å‘ / æµ‹è¯• / ç”Ÿäº§ï¼‰ä¾èµ–éš”ç¦»éœ€æ±‚</strong></p>
<ol>
<li>åœ¨å®é™…å¼€å‘ä¸­ï¼Œä»…ä½¿ç”¨Mavenä¸­å¤®ä»“åº“ä¼šé‡åˆ°å¤šä¸ªé—®é¢˜ï¼š</li>
</ol>
<ul>
<li><strong>ä¸­å¤®ä»“åº“è®¿é—®æ…¢</strong>ï¼šç”±äºç½‘ç»œåŸå› ï¼Œä»å›½å†…è®¿é—®Mavenä¸­å¤®ä»“åº“é€Ÿåº¦è¾ƒæ…¢</li>
<li><strong>ç§æœ‰åº“ä¾èµ–æ— æ³•æ‹‰å–</strong>ï¼šä¼ä¸šå†…éƒ¨çš„ç§æœ‰ç»„ä»¶æ— æ³•ä»å…¬å…±ä»“åº“è·å–</li>
<li><strong>ç¯å¢ƒä¾èµ–éš”ç¦»éœ€æ±‚</strong>ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒå¯èƒ½éœ€è¦ä¸åŒç‰ˆæœ¬çš„ä¾èµ–</li>
</ul>
<ol start="2">
<li>æ ¸å¿ƒåº”ç”¨åœºæ™¯ï¼šä¼ä¸šç§æœ‰ä»“åº“å¯¹æ¥ã€å¤šç¯å¢ƒä¾èµ–åˆ‡æ¢ã€é•œåƒåŠ é€Ÿä¸­å¤®ä»“åº“ã€ä¾èµ–ç‰ˆæœ¬ç»Ÿä¸€ç®¡ç†</li>
</ol>
<ul>
<li><strong>ä¼ä¸šç§æœ‰ä»“åº“å¯¹æ¥</strong>ï¼šè¿æ¥å…¬å¸å†…éƒ¨çš„Nexusæˆ–Artifactoryä»“åº“</li>
<li><strong>å¤šç¯å¢ƒä¾èµ–åˆ‡æ¢</strong>ï¼šä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒçš„ä¾èµ–ç‰ˆæœ¬</li>
<li><strong>é•œåƒåŠ é€Ÿä¸­å¤®ä»“åº“</strong>ï¼šä½¿ç”¨å›½å†…é•œåƒæå‡ä¾èµ–ä¸‹è½½é€Ÿåº¦</li>
<li><strong>ä¾èµ–ç‰ˆæœ¬ç»Ÿä¸€ç®¡ç†</strong>ï¼šç¡®ä¿å›¢é˜Ÿæ‰€æœ‰æˆå‘˜ä½¿ç”¨ç›¸åŒçš„ä¾èµ–ç‰ˆæœ¬</li>
</ul>
<ol start="3">
<li>æœ¬æ–‡æ ¸å¿ƒç›®æ ‡ï¼šæŒæ¡ IDEA ä¸­ Maven é•œåƒé…ç½®ã€å¤šä»“åº“ååŒã€å¤š Profile åˆ‡æ¢çš„å®Œæ•´æµç¨‹</li>
</ol>
<h2 data-id="heading-1">äºŒã€Maven æ ¸å¿ƒæ¦‚å¿µé“ºå«ï¼ˆé¿å…æ–°æ‰‹å›°æƒ‘ï¼‰</h2>
<h5 data-id="heading-2">1.  ä»“åº“çš„åˆ†ç±»ï¼šä¸­å¤®ä»“åº“ã€ç§æœ‰ä»“åº“ï¼ˆNexus/Artifactoryï¼‰ã€æœ¬åœ°ä»“åº“ã€é•œåƒä»“åº“</h5>
<ul>
<li><strong>ä¸­å¤®ä»“åº“</strong>ï¼šMavenå®˜æ–¹ç»´æŠ¤çš„å…¬å…±ä»“åº“</li>
<li><strong>ç§æœ‰ä»“åº“</strong>ï¼šä¼ä¸šè‡ªå»ºçš„ä»“åº“ï¼ˆNexus/Artifactoryï¼‰</li>
<li><strong>æœ¬åœ°ä»“åº“</strong>ï¼šå¼€å‘è€…æœ¬åœ°çš„ç¼“å­˜ä»“åº“</li>
<li><strong>é•œåƒä»“åº“</strong>ï¼šå¯¹æŸä¸ªä»“åº“çš„é•œåƒæ›¿ä»£</li>
</ul>
<h5 data-id="heading-3">2.  Profile çš„ä½œç”¨ï¼šç¯å¢ƒéš”ç¦»ã€ä¾èµ–åˆ†ç»„ã€é…ç½®åŠ¨æ€åˆ‡æ¢</h5>
<p>Profileå…è®¸æˆ‘ä»¬å®šä¹‰å¤šå¥—é…ç½®ï¼Œå®ç°ï¼š</p>
<ul>
<li>ç¯å¢ƒéš”ç¦»ï¼ˆå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ï¼‰</li>
<li>ä¾èµ–åˆ†ç»„ç®¡ç†</li>
<li>é…ç½®åŠ¨æ€åˆ‡æ¢</li>
</ul>
<h5 data-id="heading-4">3.  ä¾èµ–ä¼ é€’ä¸ä»“åº“ä¼˜å…ˆçº§åŸåˆ™ï¼ˆåç»­é…ç½®çš„ç†è®ºåŸºç¡€ï¼‰</h5>
<h2 data-id="heading-5">ä¸‰ã€IDEA ä¸­ Maven é•œåƒé…ç½®ï¼ˆæœ€å¸¸ç”¨åœºæ™¯ï¼‰</h2>
<h5 data-id="heading-6">1.  é•œåƒçš„æ ¸å¿ƒä½œç”¨ï¼šæ›¿ä»£ä¸­å¤®ä»“åº“ã€åŠ é€Ÿä¾èµ–ä¸‹è½½ã€ç»Ÿä¸€ä»“åº“å…¥å£</h5>
<p>é•œåƒä»“åº“å¯ä»¥æ›¿ä»£åŸå§‹ä»“åº“ï¼Œä¸»è¦ç”¨é€”åŒ…æ‹¬ï¼š</p>
<ul>
<li>åŠ é€Ÿä¾èµ–ä¸‹è½½</li>
<li>æä¾›ç»Ÿä¸€çš„ä»“åº“å…¥å£</li>
<li>è§£å†³ç½‘ç»œè®¿é—®é—®é¢˜</li>
</ul>
<p>Mavené…ç½®å¯ä»¥åœ¨ä¸¤ä¸ªä½ç½®è¿›è¡Œï¼š</p>
<ul>
<li><strong>å…¨å±€é…ç½®</strong>ï¼š<code>${MAVEN_HOME}/conf/settings.xml</code></li>
<li><strong>é¡¹ç›®é…ç½®</strong>ï¼šé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„<code>pom.xml</code></li>
</ul>
<h5 data-id="heading-7">2.  å®æ“æ­¥éª¤ï¼ˆIDEA ç•Œé¢ + é…ç½®æ–‡ä»¶åŒè¯´æ˜ï¼‰ï¼š</h5>
<p>åœ¨IDEAä¸­ï¼Œé€šè¿‡ä»¥ä¸‹è·¯å¾„æ‰¾åˆ°Mavené…ç½®ï¼šIDEA <code>ã€ŒFile â†’ Settings â†’ Build,Execution,Deployment â†’ Mavenã€</code>è·¯å¾„</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c293e70716d4431bc29d2859b2bedcd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6b6Z5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576939&amp;x-signature=7Fgqf%2Fv%2F6nWswY4SdZd2MoiC1%2Bo%3D" alt="Idea_Mavené…ç½®é¡µé¢.png" loading="lazy"/></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span>
           <span class="hljs-comment">&lt;!-- ä¸¤ä¸ªmirroræ ¹æ®éœ€è¦é€‰æ‹©å…¶ä¸­ä¸€ä¸ªé…ç½®å³å¯ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">mirrors</span>&gt;</span>
 
          <span class="hljs-comment">&lt;!-- é…ç½®1 --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mirror</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- ä»…é•œåƒä¸­å¤®ä»“åº“ --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>aliyunmaven<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">mirrorOf</span>&gt;</span>central<span class="hljs-tag">&lt;/<span class="hljs-name">mirrorOf</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>é˜¿é‡Œäº‘å…¬å…±ä»“åº“<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://maven.aliyun.com/repository/central<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">mirror</span>&gt;</span>
        
        <span class="hljs-comment">&lt;!-- é…ç½®2 --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mirror</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- è¦†ç›–é™¤äº†å…¬å¸çš„æ‰€æœ‰ä¾èµ–ä¸‹è½½ä½ç½® --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>aliyunmaven<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">mirrorOf</span>&gt;</span>*,!company-nexus<span class="hljs-tag">&lt;/<span class="hljs-name">mirrorOf</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>é˜¿é‡Œäº‘å…¬å…±ä»“åº“<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://maven.aliyun.com/repository/central<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">mirror</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mirror</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- å…¬å¸çš„ä¾èµ–ä¸‹è½½ä½ç½® --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>company-nexus<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">mirrorOf</span>&gt;</span>company-nexus<span class="hljs-tag">&lt;/<span class="hljs-name">mirrorOf</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>å…¬å¸ç§æœ‰é•œåƒä»“åº“ä¸‹è½½åœ°å€<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://your-private-repo.com/repository/maven-public/<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">mirror</span>&gt;</span>
        
    <span class="hljs-tag">&lt;/<span class="hljs-name">mirrors</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span>

</code></pre>
<p>åŸºç¡€é•œåƒé…ç½®ï¼ˆä»¥é˜¿é‡Œäº‘ä¸ºä¾‹ï¼‰ï¼šmirrorOf æ ‡ç­¾ä½¿ç”¨ï¼ˆ* /central çš„åŒºåˆ«ï¼‰
<strong>mirrorOfæ ‡ç­¾è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>central</code>ï¼šä»…é•œåƒä¸­å¤®ä»“åº“</li>
<li><code>*</code>ï¼šé•œåƒæ‰€æœ‰ä»“åº“ï¼ˆæ…ç”¨ï¼Œå¯èƒ½è¦†ç›–ç§æœ‰ä»“åº“ï¼‰</li>
</ul>
<p>å¸¦è®¤è¯çš„é•œåƒé…ç½®ï¼ˆä¼ä¸šç§æœ‰é•œåƒï¼‰ï¼šserver æ ‡ç­¾é…ç½® username/password</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servers</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">server</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>company-nexus<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">username</span>&gt;</span>username<span class="hljs-tag">&lt;/<span class="hljs-name">username</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">password</span>&gt;</span>password<span class="hljs-tag">&lt;/<span class="hljs-name">password</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">server</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">servers</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">mirrors</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mirror</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>company-nexus<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span> <span class="hljs-comment">&lt;!-- å¿…é¡»ä¸repository,serverçš„idåŒ¹é… --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">mirrorOf</span>&gt;</span>company-nexus<span class="hljs-tag">&lt;/<span class="hljs-name">mirrorOf</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>ç§æœ‰ä»“åº“é•œåƒ<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://your-private-repo.com/repository/maven-public/<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">mirror</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">mirrors</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span>
</code></pre>
<h5 data-id="heading-8">4.  å¸¸è§é—®é¢˜ï¼šé•œåƒä¸ç”Ÿæ•ˆï¼ŸIDEA æœªåŠ è½½ settings.xmlï¼Ÿé•œåƒä¼˜å…ˆçº§å†²çªï¼Ÿ</h5>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> <strong>é•œåƒä¸ç”Ÿæ•ˆ</strong>ï¼šæ£€æŸ¥mirrorOfé…ç½®æ˜¯å¦æ­£ç¡®</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> <strong>IDEAæœªåŠ è½½settings.xml</strong>ï¼šç¡®è®¤IDEAä½¿ç”¨çš„æ˜¯æ­£ç¡®çš„settings.xmlæ–‡ä»¶</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> <strong>é•œåƒä¼˜å…ˆçº§å†²çª</strong>ï¼šé¿å…ä½¿ç”¨mirrorOf="*"è¦†ç›–æ‰€æœ‰ä»“åº“</li>
</ul>
<h5 data-id="heading-9">5.  è¡¥å……åŠŸèƒ½ç‚¹ï¼š</h5>
<ul>
<li>
<p>é•œåƒæ’é™¤ï¼ˆéƒ¨åˆ†ä¾èµ–ä¸èµ°é•œåƒï¼Œç›´æ¥è®¿é—®åŸä»“åº“ï¼‰</p>
</li>
<li>
<p>å¤šé•œåƒååŒï¼ˆä¸åŒä»“åº“å¯¹åº”ä¸åŒé•œåƒï¼Œé¿å… mirrorOf="*" è¦†ç›–ç§æœ‰åº“ï¼‰</p>
</li>
</ul>
<h2 data-id="heading-10">å››ã€IDEA ä¸­ Maven å¤šä»“åº“ä¾èµ–é…ç½®</h2>
<h5 data-id="heading-11">1.  å¤šä»“åº“çš„åº”ç”¨åœºæ™¯ï¼šåŒæ—¶æ‹‰å–ä¸­å¤®ä»“åº“ + ä¼ä¸šç§æœ‰åº“ + ç¬¬ä¸‰æ–¹ä»“åº“ï¼ˆå¦‚ JBossã€Springï¼‰</h5>
<p>å½“é¡¹ç›®éœ€è¦ä»å¤šä¸ªä»“åº“è·å–ä¾èµ–æ—¶ï¼š</p>
<ul>
<li>ä¸­å¤®ä»“åº“ï¼ˆå…¬å…±ä¾èµ–ï¼‰</li>
<li>ä¼ä¸šç§æœ‰ä»“åº“ï¼ˆå†…éƒ¨ç»„ä»¶ï¼‰</li>
<li>ç¬¬ä¸‰æ–¹ä»“åº“ï¼ˆå¦‚JBossã€Springä»“åº“ï¼‰</li>
</ul>
<h5 data-id="heading-12">2.  ä¸¤ç§é…ç½®æ–¹å¼ï¼ˆå¯¹æ¯”ä¼˜ç¼ºç‚¹ï¼‰ï¼š</h5>
<ul>
<li>æ–¹å¼ 1ï¼šsettings.xml ä¸­é…ç½® profile+repositoriesï¼ˆå…¨å±€ç”Ÿæ•ˆï¼‰</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">profiles</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>multi-repo-profile<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">repositories</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">repository</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>central<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://repo.maven.apache.org/maven2<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">releases</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">enabled</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">enabled</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">releases</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">snapshots</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">enabled</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">enabled</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">snapshots</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">repository</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">repository</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>my-company-repo<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>Company Repository<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://repo.company.com/maven2<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">releases</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">enabled</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">enabled</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">releases</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">snapshots</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">enabled</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">enabled</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">snapshots</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">repository</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">repositories</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">profiles</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">activeProfiles</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">activeProfile</span>&gt;</span>multi-repo-profile<span class="hljs-tag">&lt;/<span class="hljs-name">activeProfile</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">activeProfiles</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span>
</code></pre>
<ul>
<li>æ–¹å¼ 2ï¼šé¡¹ç›® pom.xml ä¸­é…ç½® repositoriesï¼ˆé¡¹ç›®å±€éƒ¨ç”Ÿæ•ˆï¼‰</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">project</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">repositories</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">repository</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>central<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://repo.maven.apache.org/maven2<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">repository</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">repository</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>spring-repo<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>Spring Repository<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://repo.spring.io/release<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">repository</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">repositories</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre>
<h5 data-id="heading-13">3.  å®æ“æ­¥éª¤ï¼š</h5>
<ul>
<li>ç§æœ‰ä»“åº“æƒé™é…ç½®ï¼ˆsettings.xml ä¸­ server ä¸ pom ä»“åº“ id å…³è”ï¼‰</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servers</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">server</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>my-company-repo<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>  <span class="hljs-comment">&lt;!-- å¿…é¡»ä¸repositoryçš„idåŒ¹é… --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">username</span>&gt;</span>deployment<span class="hljs-tag">&lt;/<span class="hljs-name">username</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">password</span>&gt;</span>secret-password<span class="hljs-tag">&lt;/<span class="hljs-name">password</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">server</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">servers</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span>
</code></pre>
<h5 data-id="heading-14">4.  å…³é”®è¡¥å……åŠŸèƒ½ç‚¹ï¼š</h5>
<p>ä»“åº“ä¼˜å…ˆçº§é…ç½®ï¼ˆreleases/snapshots çš„ enabled å±æ€§ã€ä»“åº“é¡ºåºï¼‰</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">repositories</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">repository</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>custom-repo2<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://example.com/repo2<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">releases</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">enabled</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">enabled</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">updatePolicy</span>&gt;</span>never<span class="hljs-tag">&lt;/<span class="hljs-name">updatePolicy</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">releases</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">snapshots</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">enabled</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">enabled</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">updatePolicy</span>&gt;</span>never<span class="hljs-tag">&lt;/<span class="hljs-name">updatePolicy</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">snapshots</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">repository</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">repository</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>custom-repo<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://example.com/repo<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">releases</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">enabled</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">enabled</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">updatePolicy</span>&gt;</span>always<span class="hljs-tag">&lt;/<span class="hljs-name">updatePolicy</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">releases</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">snapshots</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">enabled</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">enabled</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">updatePolicy</span>&gt;</span>always<span class="hljs-tag">&lt;/<span class="hljs-name">updatePolicy</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">snapshots</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">repository</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">repositories</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ä»“åº“åŒ¹é…é¡ºåº custom-repo2 &gt; &gt;custom-repo --&gt;</span>
</code></pre>
<ul>
<li>
<p>ä¾èµ–ä¸‹è½½å¤±è´¥å¤„ç†ï¼ˆæ¸…ç†æœ¬åœ°ä»“åº“ã€å¼ºåˆ¶æ›´æ–°ä¾èµ–ï¼‰</p>
<ol>
<li>æ¸…ç†æœ¬åœ°ä»“åº“ç¼“å­˜</li>
<li>å¼ºåˆ¶æ›´æ–°ä¾èµ–ï¼šåœ¨IDEAçš„Mavené¢æ¿ç‚¹å‡»"reload"</li>
<li>å‘½ä»¤è¡Œå¼ºåˆ¶æ›´æ–°ï¼š<code>mvn clean compile -U</code></li>
</ol>
</li>
<li>
<p>ä»“åº“é•œåƒä¸å¤šä»“åº“çš„ååŒï¼ˆé¿å…é•œåƒè¦†ç›–å¤šä»“åº“é…ç½®ï¼‰</p>
</li>
</ul>
<h5 data-id="heading-15">5.  é¿å‘æŒ‡å—ï¼šä»“åº“ id é‡å¤é—®é¢˜ã€å¿«ç…§ä»“åº“æœªå¯ç”¨å¯¼è‡´ä¾èµ–æ‹‰å–å¤±è´¥</h5>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> <strong>ä»“åº“idé‡å¤</strong>ï¼šç¡®ä¿æ‰€æœ‰ä»“åº“idå”¯ä¸€</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> <strong>å¿«ç…§ä»“åº“æœªå¯ç”¨</strong>ï¼šå¦‚éœ€å¿«ç…§ç‰ˆæœ¬ï¼Œç¡®ä¿<code>&lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;</code></li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> <strong>é•œåƒè¦†ç›–é—®é¢˜</strong>ï¼šé¿å…mirrorOf="*"è¦†ç›–ç§æœ‰ä»“åº“</li>
</ul>
<h2 data-id="heading-16">äº”ã€IDEA ä¸­ Maven å¤š Profile é…ç½®</h2>
<h5 data-id="heading-17">1.  å¤š Profile æ ¸å¿ƒä»·å€¼ï¼šå¼€å‘ / æµ‹è¯• / ç”Ÿäº§ç¯å¢ƒä¾èµ–ç‰ˆæœ¬åˆ‡æ¢ã€é…ç½®éš”ç¦»ï¼ˆå¦‚æ•°æ®åº“è¿æ¥ã€ä»“åº“åœ°å€ï¼‰</h5>
<p>å¤šProfileé…ç½®å…è®¸æˆ‘ä»¬ï¼š</p>
<ul>
<li>å®ç°å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒçš„é…ç½®éš”ç¦»</li>
<li>åŠ¨æ€åˆ‡æ¢ä¾èµ–ç‰ˆæœ¬</li>
<li>ç®¡ç†ä¸åŒç¯å¢ƒçš„ä»“åº“åœ°å€</li>
</ul>
<h5 data-id="heading-18">2.  Profile çš„å®šä¹‰ä½ç½®ï¼š</h5>
<h3 data-id="heading-19">Profileå®šä¹‰ä½ç½®</h3>
<ul>
<li><strong>å…¨å±€Profile</strong>ï¼šåœ¨settings.xmlä¸­å®šä¹‰ï¼Œé€‚ç”¨äºæ‰€æœ‰é¡¹ç›®</li>
<li><strong>å±€éƒ¨Profile</strong>ï¼šåœ¨é¡¹ç›®pom.xmlä¸­å®šä¹‰ï¼Œä»…å½“å‰é¡¹ç›®æœ‰æ•ˆ</li>
</ul>
<h5 data-id="heading-20">3.  å®æ“æ­¥éª¤ï¼š</h5>
<ul>
<li>å®šä¹‰ Profileï¼šæŒ‡å®š idã€æ¿€æ´»æ¡ä»¶ï¼ˆactiveByDefaultï¼‰</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">project</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">profiles</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- å¼€å‘ç¯å¢ƒ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>dev<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">env</span>&gt;</span>development<span class="hljs-tag">&lt;/<span class="hljs-name">env</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">activation</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">activeByDefault</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">activeByDefault</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">activation</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span>
        
        <span class="hljs-comment">&lt;!-- æµ‹è¯•ç¯å¢ƒ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">env</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">env</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span>
        
        <span class="hljs-comment">&lt;!-- ç”Ÿäº§ç¯å¢ƒ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>prod<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">env</span>&gt;</span>production<span class="hljs-tag">&lt;/<span class="hljs-name">env</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">profiles</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre>
<ul>
<li>Profile ä¸­é…ç½®å·®å¼‚åŒ–å†…å®¹ï¼š</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">profiles</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>dev<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.company<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>core-service<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">repositories</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">repository</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>company-snapshot<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://repo.company.com/snapshots<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">snapshots</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">enabled</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">enabled</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">snapshots</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">repository</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">repositories</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>prod<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.company<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>core-service<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">repositories</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">repository</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>company-release<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://repo.company.com/releases<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">releases</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">enabled</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">enabled</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">releases</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">repository</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">repositories</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">profiles</span>&gt;</span>
</code></pre>
<ul>
<li>
<p>IDEA ä¸­æ¿€æ´» Profileï¼š</p>
</li>
<li>
<p>æ–¹å¼ 1ï¼šMaven é¢æ¿ã€ŒProfilesã€å‹¾é€‰æ¿€æ´»</p>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d4f183e0816a47418f064404f2d7d28d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6b6Z5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576939&amp;x-signature=vhcE8X5Q%2FCMvLBZt7wz7bt9mbiI%3D" alt="image.png" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70e95c41fdad4171a45f8381ea635a30~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6b6Z5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576939&amp;x-signature=9JlXG5m3yCEwdmpVeSx31dm4Vas%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-pain" lang="pain">File â†’ Settings â†’ Build,Execution,Deployment â†’ Maven â†’ Runner
åœ¨VM Optionsä¸­æ·»åŠ ï¼š-Dmaven.profile.active=dev
</code></pre>
<ul>
<li>æ–¹å¼ 2ï¼šIDEA é…ç½®ã€ŒBuild,Execution,Deployment â†’ Maven â†’ Runnerã€ä¸­æ·»åŠ  - Dmaven.profile.active=xxxâ€‹</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8831ba409c5640aa931d81c2c9280203~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6b6Z5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576939&amp;x-signature=uU2eddl8Lk2cSID1B4rq2QVN97Q%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>æ–¹å¼ 3ï¼šsettings.xml ä¸­ç”¨ activeProfiles æŒ‡å®šé»˜è®¤æ¿€æ´»</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">activeProfiles</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">activeProfile</span>&gt;</span>repo-dev<span class="hljs-tag">&lt;/<span class="hljs-name">activeProfile</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">activeProfiles</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span>
</code></pre>
<h5 data-id="heading-21">4.  å…³é”®è¡¥å……åŠŸèƒ½ç‚¹ï¼š</h5>
<ul>
<li>
<p>Profile æ¿€æ´»ä¼˜å…ˆçº§ï¼ˆå‘½ä»¤è¡Œå‚æ•° &gt; activeByDefault &gt; settings.xml æ¿€æ´»ï¼‰</p>
</li>
<li>
<p>å¤š Profile åŒæ—¶æ¿€æ´»ï¼ˆåœºæ™¯ï¼šåŸºç¡€é…ç½® Profile + ç¯å¢ƒä¸“å± Profileï¼‰</p>
</li>
<li>
<p>Profile ä¸å¤šä»“åº“ / é•œåƒçš„è”åŠ¨é…ç½®ï¼ˆå¦‚ä¸åŒ Profile å¯¹æ¥ä¸åŒä»“åº“ï¼‰</p>
</li>
</ul>
<h5 data-id="heading-22">5.  å®æˆ˜æ¡ˆä¾‹ï¼šå¼€å‘ / æµ‹è¯• / ç”Ÿäº§ä¸‰ç¯å¢ƒä¾èµ–ä¸ä»“åº“çš„ Profile åˆ‡æ¢ç¤ºä¾‹</h5>
<p>éœ€æ±‚åœºæ™¯</p>
<p>æˆ‘ä»¬éœ€è¦ä¸ºé¡¹ç›®é…ç½®ï¼š</p>
<ul>
<li><strong>å¼€å‘ç¯å¢ƒ</strong>ï¼šæ¿€æ´»dev Profileï¼Œä½¿ç”¨å¿«ç…§ä¾èµ–ï¼Œè¿æ¥å¼€å‘ç§æœ‰åº“</li>
<li><strong>ç”Ÿäº§ç¯å¢ƒ</strong>ï¼šæ¿€æ´»prod Profileï¼Œä½¿ç”¨ç¨³å®šä¾èµ–ï¼Œè¿æ¥ç”Ÿäº§ç§æœ‰åº“</li>
</ul>
<ol>
<li>settings.xmlå…¨å±€é…ç½®</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- é•œåƒé…ç½® --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">mirrors</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mirror</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>aliyunmaven<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">mirrorOf</span>&gt;</span>central<span class="hljs-tag">&lt;/<span class="hljs-name">mirrorOf</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>é˜¿é‡Œäº‘å…¬å…±ä»“åº“<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://maven.aliyun.com/repository/central<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">mirror</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">mirrors</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- æœåŠ¡å™¨è®¤è¯ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servers</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">server</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>company-dev-repo<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">username</span>&gt;</span>dev-user<span class="hljs-tag">&lt;/<span class="hljs-name">username</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">password</span>&gt;</span>dev-password<span class="hljs-tag">&lt;/<span class="hljs-name">password</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">server</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">server</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>company-prod-repo<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">username</span>&gt;</span>prod-user<span class="hljs-tag">&lt;/<span class="hljs-name">username</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">password</span>&gt;</span>prod-password<span class="hljs-tag">&lt;/<span class="hljs-name">password</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">server</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">servers</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span>
</code></pre>
<ol start="2">
<li>pom.xmlé¡¹ç›®é…ç½®</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">project</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- å¤šProfileé…ç½® --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">profiles</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- å¼€å‘ç¯å¢ƒ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>dev<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">environment</span>&gt;</span>dev<span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">activation</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">activeByDefault</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">activeByDefault</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">activation</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">repositories</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">repository</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>company-dev-repo<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://repo.company.com/dev<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">snapshots</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">enabled</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">enabled</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">updatePolicy</span>&gt;</span>always<span class="hljs-tag">&lt;/<span class="hljs-name">updatePolicy</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">snapshots</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">repository</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">repositories</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.company<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>business-service<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span>
        
        <span class="hljs-comment">&lt;!-- ç”Ÿäº§ç¯å¢ƒ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>prod<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">environment</span>&gt;</span>prod<span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">repositories</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">repository</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>company-prod-repo<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://repo.company.com/prod<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">releases</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">enabled</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">enabled</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">releases</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">repository</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">repositories</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.company<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>business-service<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">profiles</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre>
<p>æ•ˆæœéªŒè¯</p>
<ol>
<li>åœ¨IDEAä¸­åˆ‡æ¢ä¸åŒProfile</li>
<li>æŸ¥çœ‹Mavenä¾èµ–åˆ—è¡¨ç¡®è®¤ç‰ˆæœ¬å˜åŒ–</li>
<li>æ£€æŸ¥Mavenä¸‹è½½æ—¥å¿—ç¡®è®¤ä»“åº“åˆ‡æ¢
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e903cf6b5d14d2f82280b63bc94f382~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6b6Z5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764576939&amp;x-signature=%2FjN4Xe4%2BcyKpYzjxofR4Id5ogUM%3D" alt="image.png" loading="lazy"/></li>
</ol>
<h2 data-id="heading-23">å…­ã€å¸¸è§é—®é¢˜ä¸æ’é”™æŠ€å·§</h2>
<ol>
<li>ä¾èµ–æ‹‰å–å¤±è´¥ï¼šé•œåƒé…ç½®é”™è¯¯ã€ä»“åº“æƒé™é—®é¢˜ã€Profile æœªæ¿€æ´»</li>
</ol>
<ul>
<li>é•œåƒé…ç½®é”™è¯¯</li>
<li>ä»“åº“æƒé™é—®é¢˜</li>
<li>Profileæœªæ­£ç¡®æ¿€æ´»</li>
</ul>
<ol start="2">
<li>å¤šä»“åº“ä¼˜å…ˆçº§ä¸ç”Ÿæ•ˆï¼šä»“åº“é¡ºåºé…ç½®é”™è¯¯ã€é•œåƒè¦†ç›–</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¼ºåˆ¶æ›´æ–°ä¾èµ–</span>
mvn clean compile -U

<span class="hljs-comment"># æŸ¥çœ‹è¯¦ç»†ä¸‹è½½æ—¥å¿—</span>
mvn dependency:resolve -X
</code></pre>
<ul>
<li>æ£€æŸ¥ä»“åº“é…ç½®é¡ºåº</li>
<li>ç¡®è®¤é•œåƒæ²¡æœ‰è¦†ç›–æ‰€æœ‰ä»“åº“</li>
<li>éªŒè¯releases/snapshotsé…ç½®</li>
</ul>
<ol start="3">
<li>Profile åˆ‡æ¢åä¾èµ–æœªæ›´æ–°ï¼šIDEA æœªé‡æ–°å¯¼å…¥ä¾èµ–ã€æœ¬åœ°ä»“åº“ç¼“å­˜</li>
</ol>
<ul>
<li>IDEAä¸­æ‰§è¡ŒMaven â†’ Reimport</li>
<li>æ¸…ç†æœ¬åœ°ä»“åº“ç¼“å­˜</li>
<li>é‡å¯IDEA</li>
</ul>
<ol start="4">
<li>
<p>ç§æœ‰ä»“åº“è®¿é—® 401/403ï¼šserver æ ‡ç­¾ id ä¸ä»“åº“ id ä¸åŒ¹é…ã€ç”¨æˆ·åå¯†ç é”™è¯¯â€‹</p>
</li>
<li>
<p>ç¡®è®¤serverçš„idä¸repositoryçš„idåŒ¹é…</p>
</li>
<li>
<p>æ£€æŸ¥ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®</p>
</li>
<li>
<p>éªŒè¯ä»“åº“URLæ˜¯å¦å¯ä»¥è®¿é—®</p>
</li>
<li>
<p>å·¥å…·è¾…åŠ©ï¼šIDEA Maven æ—¥å¿—æŸ¥çœ‹ï¼ˆShow Logï¼‰ã€Maven å‘½ä»¤è¡ŒéªŒè¯ï¼ˆmvn clean compile -Uï¼‰</p>
</li>
</ol>
<h2 data-id="heading-24">å…«ã€æ€»ç»“ä¸æ‰©å±•</h2>
<ol>
<li>æ ¸å¿ƒé…ç½®é€»è¾‘æ¢³ç†ï¼šé•œåƒï¼ˆåŠ é€Ÿï¼‰â†’ å¤šä»“åº“ï¼ˆå¤šæºä¾èµ–ï¼‰â†’ å¤š Profileï¼ˆç¯å¢ƒéš”ç¦»ï¼‰â€‹</li>
</ol>
<p>é€šè¿‡æœ¬æ–‡çš„å­¦ä¹ ï¼Œæˆ‘ä»¬åº”è¯¥æŒæ¡ï¼š</p>
<ul>
<li><strong>é•œåƒé…ç½®</strong>ï¼šåŠ é€Ÿä¾èµ–ä¸‹è½½ï¼Œç»Ÿä¸€å…¥å£</li>
<li><strong>å¤šä»“åº“é…ç½®</strong>ï¼šæ”¯æŒå¤šæºä¾èµ–ç®¡ç†</li>
<li><strong>å¤šProfileé…ç½®</strong>ï¼šå®ç°ç¯å¢ƒéš”ç¦»å’ŒåŠ¨æ€åˆ‡æ¢</li>
</ul>
<ol start="2">
<li>
<p>æœ€ä½³å®è·µå»ºè®®ï¼š</p>
<ol>
<li>
<p><strong>é…ç½®åˆ†ç¦»åŸåˆ™</strong>ï¼š</p>
<ul>
<li>å…¨å±€é…ç½®ï¼ˆé•œåƒã€ç§æœ‰åº“æƒé™ï¼‰æ”¾åœ¨settings.xml</li>
<li>é¡¹ç›®å·®å¼‚åŒ–é…ç½®ï¼ˆå¤šProfileã€å±€éƒ¨ä»“åº“ï¼‰æ”¾åœ¨pom.xml</li>
</ul>
</li>
<li>
<p><strong>ç¯å¢ƒç®¡ç†</strong>ï¼š</p>
<ul>
<li>ä¼˜å…ˆä½¿ç”¨Profileå®ç°ç¯å¢ƒéš”ç¦»</li>
<li>é¿å…åœ¨ä»£ç ä¸­ç¡¬ç¼–ç ç¯å¢ƒç›¸å…³é…ç½®</li>
</ul>
</li>
<li>
<p><strong>ä¾èµ–ç®¡ç†</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨dependencyManagementç»Ÿä¸€ç®¡ç†ä¾èµ–ç‰ˆæœ¬</li>
<li>å®šæœŸæ¸…ç†æœ¬åœ°ä»“åº“ç¼“å­˜</li>
</ul>
</li>
</ol>
</li>
<li>
<p>æ‰©å±•æ–¹å‘ï¼š</p>
</li>
</ol>
<ul>
<li><strong>Mavenç§æœæ­å»º</strong>ï¼šå­¦ä¹ Nexusæˆ–Artifactoryçš„å®‰è£…å’Œé…ç½®</li>
<li><strong>ä¾èµ–å†²çªè§£å†³</strong>ï¼šæŒæ¡IDEAçš„Dependency Analyzerå·¥å…·</li>
<li><strong>æŒç»­é›†æˆé›†æˆ</strong>ï¼šåœ¨Jenkins/GitLab CIä¸­é…ç½®Mavenå¤šProfile</li>
</ul>
<p>é€šè¿‡åˆç†é…ç½®Mavenå¤šä»“åº“å’Œå¤šProfileï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºæ›´åŠ å¥å£®ã€å¯ç»´æŠ¤çš„Javaé¡¹ç›®ï¼Œæœ‰æ•ˆè§£å†³ä¼ä¸šçº§å¼€å‘ä¸­çš„ä¾èµ–ç®¡ç†æŒ‘æˆ˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Objective-C æµ‹è¯•ï¼ˆOC æµ‹è¯•ï¼‰æŒ‡å— ä»å•å…ƒæµ‹è¯•åˆ°æ€§èƒ½è°ƒä¼˜çš„å¤šå·¥å…·ååŒæ–¹æ³•]]></title>    <link>https://juejin.cn/post/7576090441432514570</link>    <guid>https://juejin.cn/post/7576090441432514570</guid>    <pubDate>2025-11-24T08:32:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576090441432514570" data-draft-id="7576090441432498186" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Objective-C æµ‹è¯•ï¼ˆOC æµ‹è¯•ï¼‰æŒ‡å— ä»å•å…ƒæµ‹è¯•åˆ°æ€§èƒ½è°ƒä¼˜çš„å¤šå·¥å…·ååŒæ–¹æ³•"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-24T08:32:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="00åç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/1159358440539900"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Objective-C æµ‹è¯•ï¼ˆOC æµ‹è¯•ï¼‰æŒ‡å— ä»å•å…ƒæµ‹è¯•åˆ°æ€§èƒ½è°ƒä¼˜çš„å¤šå·¥å…·ååŒæ–¹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1159358440539900/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    00åç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:32:46.000Z" title="Mon Nov 24 2025 08:32:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ iOS ç”Ÿæ€é€æ¸å‘ Swift é æ‹¢çš„åŒæ—¶ï¼Œ<strong>Objective-Cï¼ˆOCï¼‰ä¾æ—§æ˜¯å¤§é‡æˆç†Ÿå¤§å‹ App çš„ä¸»åŠ›è¯­è¨€</strong>ã€‚
å°¤å…¶åœ¨ä¼ä¸šçº§é¡¹ç›®ã€å†å²é¡¹ç›®ã€æ¡†æ¶åº“ã€åŸç”Ÿç»„ä»¶ä¸­ï¼ŒOC çš„ç¨³å®šæ€§ä¸å¯æ§æ€§ä»æ—§ä¸å¯æ›¿ä»£ã€‚
å› æ­¤ï¼Œæ„å»ºä¸€å¥— <strong>é€‚ç”¨äº OC é¡¹ç›®ã€è¦†ç›–åŠŸèƒ½ã€æ€§èƒ½ã€ç³»ç»Ÿæ—¥å¿—ä¸è·¨ç«¯åœºæ™¯çš„æµ‹è¯•ä½“ç³»</strong>ï¼Œå¯¹è®¸å¤šå›¢é˜Ÿæ¥è¯´ä¾ç„¶éå¸¸é‡è¦ã€‚</p>
<p>æœ¬æ–‡å°†ä»å·¥ç¨‹å®æˆ˜è§’åº¦å‡ºå‘ï¼Œå›´ç»• OC æµ‹è¯•çš„å¸¸è§åœºæ™¯ï¼Œç»“åˆ <strong>XCTestã€OCMockã€Instrumentsã€å…‹é­”ï¼ˆKeyMobï¼‰ã€PerfDogã€Charlesã€Safari Inspectorã€MetricKitã€Xcode è°ƒè¯•å·¥å…·</strong> ç­‰å¤šå·¥å…·æ„æˆä¸€å¥—å¯è½åœ°çš„æµ‹è¯•ä½“ç³»ã€‚</p>
<p>æ–‡ç« é£æ ¼ä¿æŒå·¥ç¨‹åŒ–ã€ä¸å«å¹¿å‘ŠåŒ–è¯­æ°”ã€ä¸ä¾èµ–ç½‘ç»œæœç´¢ï¼ŒåŸºäºå¼€å‘è€…å®é™…å·¥ä½œåœºæ™¯ç¼–å†™ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆ OC é¡¹ç›®éœ€è¦æ›´å®Œå–„çš„æµ‹è¯•ä½“ç³»ï¼Ÿ</h2>
<p>OC é¡¹ç›®é€šå¸¸å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<h3 data-id="heading-1"><strong>1. å†å²ä»£ç å¤šï¼Œç¼ºä¹å•æµ‹</strong></h3>
<p>è®¸å¤šä¸šåŠ¡é€»è¾‘ä»ä¾èµ–é¢å‘å¯¹è±¡ã€è¿è¡Œæ—¶ç‰¹æ€§ï¼Œæµ‹è¯•éš¾åº¦æ¯” Swift æ›´é«˜ã€‚</p>
<h3 data-id="heading-2"><strong>2. å®¹æ˜“å‡ºç°è¿è¡Œæ—¶é”™è¯¯</strong></h3>
<p>å¦‚ï¼š</p>
<ul>
<li>unrecognized selector</li>
<li>KVC/KVO å´©æºƒ</li>
<li>NSException</li>
</ul>
<h3 data-id="heading-3"><strong>3. å¤æ‚çš„ UI é€»è¾‘</strong></h3>
<p>OC é¡¹ç›®å¤šæ•° UI æ¶æ„è¾ƒè€ï¼Œæ€§èƒ½é—®é¢˜æ›´å®¹æ˜“åœ¨ UI å±‚æš´éœ²ã€‚</p>
<h3 data-id="heading-4"><strong>4. ä¸ Hybridã€C++ã€åº•å±‚æ¡†æ¶å…¼å®¹</strong></h3>
<p>æ„å‘³ç€æµ‹è¯•ä¸ä»…åŒ…æ‹¬ OC é€»è¾‘ï¼Œè¿˜åŒ…å«åº•å±‚ç»„ä»¶è¡Œä¸ºã€‚</p>
<h3 data-id="heading-5"><strong>5. è€é¡¹ç›®æ›´éœ€è¦æ€§èƒ½å’Œç¨³å®šæ€§ä¿è¯</strong></h3>
<p>å› æ­¤ï¼ŒOC æµ‹è¯•å¿…é¡»è¦†ç›–<strong>åŠŸèƒ½ + æ€§èƒ½ + ç³»ç»Ÿæ—¥å¿— + æ–‡ä»¶æ•°æ® + è·¨ç«¯è¡Œä¸º</strong>å¤šä¸ªç»´åº¦ã€‚</p>
<hr/>
<h2 data-id="heading-6">äºŒã€XCTestï¼šOC å•å…ƒæµ‹è¯•çš„æ ¸å¿ƒåŸºç¡€</h2>
<p>XCTest æ˜¯è‹¹æœå®˜æ–¹å•å…ƒæµ‹è¯•æ¡†æ¶ï¼Œå¯¹ OC é¡¹ç›®éå¸¸æˆç†Ÿã€‚</p>
<h3 data-id="heading-7"><strong>1. å•å…ƒæµ‹è¯•ï¼ˆUnit Testï¼‰</strong></h3>
<p>ç”¨äºéªŒè¯ OC æ¨¡å—å†…éƒ¨é€»è¾‘ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">- (void)testCalculateTotalPrice {
    OrderManager *<span class="hljs-attr">m</span> = [OrderManager new]<span class="hljs-comment">;</span>
    XCTAssertEqual(<span class="hljs-section">[m totalPrice]</span>, 0)<span class="hljs-comment">;</span>
}
</code></pre>
<p>é€‚åˆæµ‹è¯•ï¼š</p>
<ul>
<li>Model</li>
<li>å·¥å…·ç±»</li>
<li>ä¸šåŠ¡è®¡ç®—é€»è¾‘</li>
<li>æ•°æ®è§£æ</li>
</ul>
<h3 data-id="heading-8"><strong>2. UI æµ‹è¯•ï¼ˆXCUITestï¼‰</strong></h3>
<p>ç”¨äºæµç¨‹è‡ªåŠ¨åŒ–ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>å¯åŠ¨ App</li>
<li>è‡ªåŠ¨ç‚¹å‡»æŒ‰é’®</li>
<li>è¾“å…¥å†…å®¹</li>
<li>éªŒè¯ UI çŠ¶æ€</li>
</ul>
<p>è¿™å¯¹ OC é¡¹ç›®çš„å›å½’æµ‹è¯•éå¸¸é‡è¦ã€‚</p>
<hr/>
<h2 data-id="heading-9">ä¸‰ã€OCMockï¼šObjective-C æµ‹è¯•ä¸­çš„â€œMock åˆ©å™¨â€</h2>
<p>OCMock æ˜¯å¾ˆå¤š OC å·¥ç¨‹å¸ˆä»åœ¨ä½¿ç”¨çš„ Mock æ¡†æ¶ï¼Œå¯ç”¨äºï¼š</p>
<h3 data-id="heading-10"><strong>1. Mock å¯¹è±¡æ–¹æ³•</strong></h3>
<p>æ¨¡æ‹Ÿæ¥å£è¿”å›ã€é€»è¾‘åˆ†æ”¯ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">OCMockObject *<span class="hljs-attr">mock</span> = OCMClassMock([UserService class])<span class="hljs-comment">;</span>
OCMStub(<span class="hljs-section">[mock fetchUser]</span>).andReturn(mockUser)<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-11"><strong>2. Mock Delegate / Block å›è°ƒ</strong></h3>
<h3 data-id="heading-12"><strong>3. éªŒè¯æ–¹æ³•æ˜¯å¦è¢«è°ƒç”¨</strong></h3>
<pre><code class="hljs language-css" lang="css">OCMVerify(<span class="hljs-selector-attr">[mock trackEvent:@<span class="hljs-string">"open"</span>]</span>);
</code></pre>
<p>åœ¨ä¸šåŠ¡ä¾èµ–è¾ƒæ·±ã€è¿è¡Œæ—¶è¡Œä¸ºè¾ƒå¤æ‚çš„ OC é¡¹ç›®ä¸­ï¼ŒOCMock å¯¹æå‡æµ‹è¯•è¦†ç›–ç‡éå¸¸å…³é”®ã€‚</p>
<hr/>
<h2 data-id="heading-13">å››ã€Instrumentsï¼šOC æ€§èƒ½æµ‹è¯•çš„â€œæ˜¾å¾®é•œâ€</h2>
<p>æ— è®º OC è¿˜æ˜¯ Swiftï¼Œåº•å±‚æ€§èƒ½æµ‹è¯•ç»Ÿä¸€ä¾èµ– Instrumentsã€‚</p>
<p>åœ¨ OC é¡¹ç›®ä¸­å°¤å…¶éœ€è¦å…³æ³¨ï¼š</p>
<h3 data-id="heading-14"><strong>1. Time Profiler</strong></h3>
<p>ç”¨æ¥æŸ¥ï¼š</p>
<ul>
<li>ä¸»çº¿ç¨‹é˜»å¡ï¼ˆOC ä¸­æ›´å¸¸è§ï¼‰</li>
<li>æ— æ„çš„åŒæ­¥è°ƒç”¨</li>
<li>é«˜è€—æ—¶æ–¹æ³•</li>
</ul>
<h3 data-id="heading-15"><strong>2. Leaks / Allocations</strong></h3>
<p>OC çš„å†…å­˜ç®¡ç†æ›´å¤æ‚ï¼Œå®¹æ˜“å‡ºç°ï¼š</p>
<ul>
<li>å¾ªç¯å¼•ç”¨ï¼ˆblock/selfï¼‰</li>
<li>æœªé‡Šæ”¾å¯¹è±¡</li>
<li>è‡ªåŠ¨é‡Šæ”¾æ± æ»¥ç”¨</li>
</ul>
<h3 data-id="heading-16"><strong>3. Core Animation</strong></h3>
<p>OC é¡¹ç›®å¾€å¾€ UI ç»“æ„æ›´é‡ï¼Œæ›´å®¹æ˜“å‡ºç°æ¸²æŸ“é—®é¢˜ï¼š</p>
<ul>
<li>é‡ç»˜è¿‡å¤š</li>
<li>ç¦»å±æ¸²æŸ“</li>
<li>å¸ƒå±€è¿‡äºå¤æ‚</li>
</ul>
<p>Instruments æ˜¯ OC æ€§èƒ½è°ƒè¯•çš„æ ¸å¿ƒå·¥å…·ã€‚</p>
<hr/>
<h2 data-id="heading-17">äº”ã€å…‹é­”ï¼ˆKeyMobï¼‰ï¼šç³»ç»Ÿæ—¥å¿— + æ€§èƒ½ç›‘æ§ + æ–‡ä»¶è°ƒè¯•ï¼ˆOC é¡¹ç›®çš„éå¸¸é«˜é€‚é…åº¦ï¼‰</h2>
<p>OC é¡¹ç›®å› å†å²åŸå› æˆ–ç³»ç»Ÿå±‚ä¾èµ–æ›´å®¹æ˜“äº§ç”Ÿï¼š</p>
<ul>
<li>KVO å¼‚å¸¸</li>
<li>å†…å­˜å‹åŠ›å¯¼è‡´ jetsam</li>
<li>UI å¡é¡¿å¯¼è‡´ watchdog</li>
<li>NSException å´©æºƒ</li>
<li>WebKit/WebView å´©æºƒ</li>
<li>Sandbox æ–‡ä»¶è§£æéœ€æ±‚</li>
</ul>
<p>KeyMob èƒ½è¡¥è¶³ Xcode çš„èƒ½åŠ›ï¼ŒåŒ…æ‹¬ï¼š</p>
<h3 data-id="heading-18"><strong>1. å®æ—¶æ€§èƒ½ç›‘æ§</strong></h3>
<p>å¯ç›‘æ§ï¼š</p>
<ul>
<li>CPU</li>
<li>GPU</li>
<li>å†…å­˜</li>
<li>FPS</li>
<li>ç½‘ç»œ</li>
<li>æ¸©åº¦ã€èƒ½è€—</li>
</ul>
<p>éå¸¸é€‚åˆéªŒè¯ OC é¡¹ç›®å¸¸è§çš„æ€§èƒ½å›å½’é—®é¢˜ã€‚</p>
<h3 data-id="heading-19"><strong>2. ç³»ç»Ÿæ—¥å¿—ï¼ˆDevice Logsï¼‰æ•è·</strong></h3>
<p>OC é¡¹ç›®æœ€å®¹æ˜“å‡ºç°çš„ç³»ç»Ÿé”™è¯¯åŒ…æ‹¬ï¼š</p>
<pre><code class="hljs language-java" lang="java">EXC_BAD_ACCESS
<span class="hljs-title function_">jetSam</span> <span class="hljs-params">(Memory highwater)</span>
KVO crash
<span class="hljs-title function_">watchdog</span> <span class="hljs-params">(main thread hang)</span>
</code></pre>
<p>Xcode å¾ˆéš¾å®Œæ•´æ•è·ï¼Œä½† KeyMob å¯ä»¥å®Œæ•´å±•ç¤ºã€‚</p>
<h3 data-id="heading-20"><strong>3. App æ–‡ä»¶ä¸æ•°æ®ç®¡ç†</strong></h3>
<p>ç”¨äºæŸ¥çœ‹ï¼š</p>
<ul>
<li>plist é…ç½®</li>
<li>ç¼“å­˜æ–‡ä»¶</li>
<li>OC åº•å±‚åºåˆ—åŒ–æ–‡ä»¶</li>
<li>ç”¨æˆ·æ•°æ®ç›®å½•</li>
<li>å´©æºƒæ—¥å¿—</li>
</ul>
<p>å¯¹è°ƒè¯• OC é¡¹ç›®ä¸­çš„ Sandbox é€»è¾‘éå¸¸æœ‰æ•ˆã€‚</p>
<hr/>
<h2 data-id="heading-21">å…­ã€PerfDogï¼šOC è§†å›¾ç»“æ„ä¸‹çš„ FPS/CPU/GPU å…³é”®è¯Šæ–­</h2>
<p>OC é¡¹ç›®å¾€å¾€ä½¿ç”¨æ›´ä¼ ç»Ÿã€æ›´å¤æ‚çš„è§†å›¾ç»“æ„ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>UITableView + å¤§é‡ cell</li>
<li>æ‰‹å†™ UI å¸ƒå±€</li>
<li>å¤§é‡ CALayer</li>
<li>æ··åˆ CoreAnimation ä¸ UIKit</li>
<li>å¼‚æ­¥ç»˜åˆ¶ä¸è¶³</li>
</ul>
<p>PerfDog èƒ½ç²¾å‡†åˆ†æï¼š</p>
<ul>
<li>FPS æ‰å¸§ç‚¹</li>
<li>å¤šæ¬¡äº¤äº’åçš„æ€§èƒ½é€€åŒ–</li>
<li>CPU å³°å€¼ä¸ UI æ›´æ–°å…³ç³»</li>
<li>GPU æ¸²æŸ“å‹åŠ›</li>
</ul>
<p>å°¤å…¶é€‚ç”¨äº OC é¡¹ç›®ä¸­å¸¸è§çš„â€œè¶Šæ»‘è¶Šå¡â€â€œé¡µé¢åˆ‡æ¢å¡é¡¿â€ã€‚</p>
<hr/>
<h2 data-id="heading-22">ä¸ƒã€Safari Inspectorï¼šHybridã€H5ã€OC å®¹å™¨æ··åˆåœºæ™¯æµ‹è¯•</h2>
<p>è®¸å¤šå†å² OC é¡¹ç›®ä½¿ç”¨ï¼š</p>
<ul>
<li>UIWebViewï¼ˆè€é¡¹ç›®ï¼‰</li>
<li>WKWebViewï¼ˆæ–°é¡¹ç›®ï¼‰</li>
<li>Hybridï¼ˆOC + JSBridgeï¼‰</li>
<li>uni-app å®¹å™¨</li>
</ul>
<p>Safari Inspector å¯ä»¥ï¼š</p>
<ul>
<li>æŸ¥çœ‹ JS æ€§èƒ½</li>
<li>åˆ†æ DOM ç»“æ„</li>
<li>éªŒè¯ JSBridge å»¶è¿Ÿ</li>
<li>æ‰¾å‡º Hybrid é˜»å¡ UI çš„è¡Œä¸º</li>
</ul>
<p>OC é¡¹ç›®ä¸­ç»å¸¸å‡ºç° WebView å¡é¡¿é—®é¢˜ï¼ŒSafari Inspector æ˜¯å¿…é€‰é¡¹ã€‚</p>
<hr/>
<h2 data-id="heading-23">å…«ã€Charles / Proxymanï¼šOC ç½‘ç»œå±‚æµ‹è¯•å·¥å…·</h2>
<p>OC æ—¶ä»£è®¸å¤šé¡¹ç›®ä»ä½¿ç”¨ï¼š</p>
<ul>
<li>AFNetworking</li>
<li>NSURLSession + æ‰‹å†™ç½‘ç»œå±‚</li>
</ul>
<p>Charles ç”¨äºæµ‹è¯•ï¼š</p>
<ul>
<li>ç½‘ç»œå¼‚å¸¸</li>
<li>é‡å®šå‘</li>
<li>Cache-Control æ˜¯å¦æ­£ç¡®</li>
<li>å¼±ç½‘è¡Œä¸º</li>
<li>æ¥å£é“¾è·¯å»¶è¿Ÿ</li>
</ul>
<p>æ˜¯ OC åº”ç”¨ç½‘ç»œå±‚å›å½’æµ‹è¯•çš„æ ‡é…å·¥å…·ã€‚</p>
<hr/>
<h2 data-id="heading-24">ä¹ã€MetricKit + Firebaseï¼šOC çº¿ä¸Šæ€§èƒ½ç›‘æ§ä½“ç³»</h2>
<p>OC é¡¹ç›®ä¸€èˆ¬è¿è¡Œåœ¨ç”¨æˆ·é‡åºå¤§çš„åº”ç”¨ä¸­ï¼Œçº¿ä¸Šç›‘æ§å°¤ä¸ºé‡è¦ã€‚</p>
<h3 data-id="heading-25"><strong>MetricKit å¯æ”¶é›†ï¼š</strong></h3>
<ul>
<li>CPU æ—¶é—´</li>
<li>å†…å­˜å³°å€¼</li>
<li>çƒ­åŠ›çŠ¶æ€</li>
<li>å´©æºƒç±»å‹</li>
<li>å¯åŠ¨æ€§èƒ½</li>
<li>æ¯æ—¥æ€§èƒ½è¶‹åŠ¿</li>
</ul>
<h3 data-id="heading-26"><strong>Firebase å¯æ”¶é›†ï¼š</strong></h3>
<ul>
<li>é¡µé¢æ¸²æŸ“æ—¶é—´</li>
<li>å¯åŠ¨æ€§èƒ½</li>
<li>ç½‘ç»œè€—æ—¶</li>
<li>ANR äº‹ä»¶</li>
</ul>
<p>ä¸¤è€…ç»“åˆå¯æ„æˆ OC åº”ç”¨çš„çº¿ä¸Šç¨³å®šæ€§ç›‘æ§ä½“ç³»ã€‚</p>
<hr/>
<h2 data-id="heading-27">åã€æ„å»º Objective-C æµ‹è¯•çš„å®Œæ•´å·¥ç¨‹åŒ–å·¥å…·é“¾</h2>













































<table><thead><tr><th>æµ‹è¯•ç±»å‹</th><th>å·¥å…·ç»„åˆ</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>å•å…ƒæµ‹è¯•</td><td>XCTest + OCMock</td><td>æµ‹è¯• OC æ–¹æ³•é€»è¾‘</td></tr><tr><td>UI è‡ªåŠ¨åŒ–</td><td>XCUITest</td><td>å®Œæ•´æµç¨‹æµ‹è¯•</td></tr><tr><td>æ€§èƒ½æµ‹è¯•</td><td>Instruments + PerfDog + KeyMob</td><td>CPU/GPU/FPS/å†…å­˜åˆ†æ</td></tr><tr><td>ç½‘ç»œæµ‹è¯•</td><td>Charles</td><td>è¯·æ±‚è°ƒè¯• &amp; å¼±ç½‘</td></tr><tr><td>WebView/Hybrid</td><td>Safari Inspector</td><td>JS/DOM æ€§èƒ½</td></tr><tr><td>ç³»ç»Ÿçº§è¡Œä¸º</td><td>KeyMob + Console.app</td><td>jetsam/watchdog/KVO</td></tr><tr><td>ä¸Šçº¿ç›‘æ§</td><td>MetricKit + Firebase</td><td>ç”¨æˆ·çœŸå®æ€§èƒ½è¶‹åŠ¿</td></tr></tbody></table>
<p>è¿™å¥—å·¥å…·é“¾é€‚åˆç»å¤§å¤šæ•° OC é¡¹ç›®ã€‚</p>
<hr/>
<h2 data-id="heading-28">åä¸€ã€å®æˆ˜æ¡ˆä¾‹ï¼šOC é¦–é¡µå¡é¡¿çš„å®šä½è¿‡ç¨‹</h2>
<p>æŸ OC è€é¡¹ç›®é¦–é¡µæ»‘åŠ¨å¡é¡¿æ˜æ˜¾ã€‚</p>
<h3 data-id="heading-29"><strong>PerfDog</strong></h3>
<p>FPS åœ¨å¿«é€Ÿæ»‘åŠ¨æ—¶ä¸‹é™åˆ° 30â€“40ã€‚</p>
<h3 data-id="heading-30"><strong>KeyMob</strong></h3>
<p>CPU å³°å€¼çªç„¶å‡é«˜è‡³ 90%ã€‚</p>
<h3 data-id="heading-31"><strong>Instrumentsï¼ˆTime Profilerï¼‰</strong></h3>
<p>å‘ç°æŸ cell çš„å›¾ç‰‡è§£ç ä¸å¯Œæ–‡æœ¬æ¸²æŸ“åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œã€‚</p>
<h3 data-id="heading-32"><strong>Safari Inspectorï¼ˆè¯¥é¡¹ç›®å« Hybridï¼‰</strong></h3>
<p>Hybrid éƒ¨åˆ†å­˜åœ¨ DOM èŠ‚ç‚¹è¿‡å¤šé—®é¢˜ã€‚</p>
<h3 data-id="heading-33"><strong>ä¼˜åŒ–æ–¹æ¡ˆï¼š</strong></h3>
<ul>
<li>ä½¿ç”¨å¼‚æ­¥å›¾ç‰‡è§£ç </li>
<li>é‡ç»˜é€»è¾‘ç§»åˆ°åå°çº¿ç¨‹</li>
<li>Hybrid åˆ—è¡¨å¯ç”¨è™šæ‹Ÿæ¸²æŸ“</li>
</ul>
<p>æœ€ç»ˆ FPS ç¨³å®šåœ¨ 58â€“60ã€‚</p>
<hr/>
<h2 data-id="heading-34">OC æµ‹è¯•çš„å…³é”®åœ¨äºâ€œå¤šå·¥å…·ååŒâ€</h2>
<p>OC é¡¹ç›®æµ‹è¯•ä¸æ˜¯â€œå†™å‡ è¡Œå•æµ‹â€ï¼Œè€Œæ˜¯æ„å»ºä¸€å¥—ä½“ç³»ï¼š</p>
<p><strong>é€»è¾‘æµ‹è¯•
UI æµ‹è¯•
æ€§èƒ½æµ‹è¯•
ç³»ç»Ÿæ—¥å¿—
ç½‘ç»œé“¾è·¯
Hybrid æ€§èƒ½
çº¿ä¸Šæ•°æ®éªŒè¯</strong></p>
<p>è€Œå®ç°è¿™ä¸€ç‚¹ï¼Œå¿…é¡»ä¾èµ–ï¼š</p>
<ul>
<li><strong>XCTest + OCMock</strong>ï¼ˆåŠŸèƒ½ï¼‰</li>
<li><strong>Instruments</strong>ï¼ˆCPU/GPU/å†…å­˜ï¼‰</li>
<li><strong>KeyMob</strong>ï¼ˆç³»ç»Ÿæ—¥å¿— + å®æ—¶æ€§èƒ½ï¼‰</li>
<li><strong>PerfDog</strong>ï¼ˆFPS ç²¾å‡†é‡‡æ ·ï¼‰</li>
<li><strong>Safari Inspector</strong>ï¼ˆHybridï¼‰</li>
<li><strong>Charles</strong>ï¼ˆç½‘ç»œï¼‰</li>
<li><strong>MetricKit + Firebase</strong>ï¼ˆçº¿ä¸Šè¡¨ç°ï¼‰</li>
</ul>
<p>åªæœ‰å½“è¿™äº›å·¥å…·ååŒå·¥ä½œï¼ŒOC åº”ç”¨çš„è´¨é‡æ‰èƒ½ç¨³æ­¥æå‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ¨¡å‹è°ƒç”¨å¤–éƒ¨å·¥å…·è·å–å®æ—¶å¤©æ°”çš„å®ç°æ–¹æ³•]]></title>    <link>https://juejin.cn/post/7575367791273377830</link>    <guid>https://juejin.cn/post/7575367791273377830</guid>    <pubDate>2025-11-23T17:47:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575367791273377830" data-draft-id="7575456858427359278" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ¨¡å‹è°ƒç”¨å¤–éƒ¨å·¥å…·è·å–å®æ—¶å¤©æ°”çš„å®ç°æ–¹æ³•"/> <meta itemprop="keywords" content="OpenAI,LLM"/> <meta itemprop="datePublished" content="2025-11-23T17:47:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é—²äº‘ing"/> <meta itemprop="url" content="https://juejin.cn/user/2974655942502250"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ¨¡å‹è°ƒç”¨å¤–éƒ¨å·¥å…·è·å–å®æ—¶å¤©æ°”çš„å®ç°æ–¹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2974655942502250/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é—²äº‘ing
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-23T17:47:36.000Z" title="Sun Nov 23 2025 17:47:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¤§æ¨¡å‹è°ƒç”¨å¤–éƒ¨å·¥å…·è·å–å®æ—¶å¤©æ°”çš„å®ç°æ–¹æ³•</h2>
<p>ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘ä»¬ç»å¸¸æ¥è§¦ AI åº”ç”¨ï¼Œä½†å¤§æ¨¡å‹ï¼ˆLLMï¼‰å—é™äºè®­ç»ƒæ•°æ®ï¼Œæ— æ³•è·å–å®æ—¶ä¿¡æ¯ï¼ˆå¦‚å¤©æ°”ã€è‚¡ä»·ï¼‰çš„é—®é¢˜ä¸€ç›´å¾ˆæ£˜æ‰‹ã€‚è€Œå¤§æ¨¡å‹è°ƒç”¨å·¥å…·çš„æ–¹æ¡ˆï¼Œèƒ½è®© AI åƒäººç±»ä¸€æ ·ä¸»åŠ¨è°ƒç”¨å¤–éƒ¨æ¥å£ï¼Œæ‰“ç ´æ•°æ®æ—¶æ•ˆæ€§çš„å£å’ã€‚æœ¬æ–‡ç”¨æœ€ç®€æ´çš„ä»£ç ï¼Œå¸¦ä½ ä»é›¶å®ç°å¤§æ¨¡å‹ + å¤©æ°” APIçš„å®æ—¶æŸ¥è¯¢åŠŸèƒ½</p>
<h3 data-id="heading-1">ä¸€ã€å¤§æ¨¡å‹å¦‚ä½•"ä½¿ç”¨å·¥å…·"ï¼Ÿ</h3>
<p>å¤§æ¨¡å‹è°ƒç”¨å·¥å…·çš„æœ¬è´¨å¾ˆç®€å•ï¼Œå°±3æ­¥ï¼š</p>
<ol>
<li>å‘Šè¯‰å¤§æ¨¡å‹æœ‰ä»€ä¹ˆå·¥å…·ï¼ˆæ¯”å¦‚å¤©æ°”æŸ¥è¯¢å‡½æ•°çš„åç§°ã€å‚æ•°ï¼‰ï¼›</li>
<li>å¤§æ¨¡å‹æ¥æ”¶ç”¨æˆ·æé—®ï¼ˆå¦‚"åŒ—äº¬å¤©æ°”æ€ä¹ˆæ ·"ï¼‰ï¼Œåˆ¤æ–­éœ€è¦è°ƒç”¨å·¥å…·ï¼Œè‡ªåŠ¨ç”Ÿæˆå‚æ•°ï¼›</li>
<li>æ‰§è¡Œå·¥å…·è°ƒç”¨ï¼ˆè°ƒç”¨å¤©æ°” APIï¼‰ï¼Œå°†ç»“æœå›ä¼ ç»™å¤§æ¨¡å‹ï¼Œæœ€ç»ˆæ•´ç†æˆè‡ªç„¶è¯­è¨€å›ç­”ã€‚</li>
</ol>
<p>æ ¸å¿ƒä¾èµ–ï¼š</p>
<ul>
<li><code>requests</code>ï¼šå‘é€ HTTP è¯·æ±‚è°ƒç”¨å¤©æ°” APIï¼›</li>
<li><code>openai</code>ï¼šå¤§æ¨¡å‹ SDKï¼ˆå…¼å®¹ DeepSeekã€GPT ç­‰ä¸»æµæ¨¡å‹ï¼Œæ¥å£é€šç”¨ï¼‰ï¼›</li>
<li>å¿ƒçŸ¥å¤©æ°” APIï¼šå…è´¹å¼€æ”¾ä½¿ç”¨ï¼Œé€‚åˆå¿«é€Ÿæµ‹è¯•ã€‚</li>
</ul>
<h3 data-id="heading-2">äºŒã€å®æˆ˜æ­¥éª¤ï¼šä»ç¯å¢ƒåˆ°è¿è¡Œå…¨æµç¨‹</h3>
<h4 data-id="heading-3">1. ç¯å¢ƒå‡†å¤‡ï¼šå®‰è£…ä¾èµ–</h4>
<p>å…ˆå®‰è£…æ‰€éœ€ Python åº“ï¼Œå»ºè®®ç”¨è™šæ‹Ÿç¯å¢ƒé¿å…æƒé™é—®é¢˜ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…æ ¸å¿ƒä¾èµ–</span>
pip install requests openai
</code></pre>
<h4 data-id="heading-4">2. ç¬¬ä¸€æ­¥ï¼šç¼–å†™å¤©æ°”æŸ¥è¯¢å·¥å…·å‡½æ•°</h4>
<p>å…ˆå®ç°ä¸€ä¸ªç‹¬ç«‹çš„å¤©æ°”æŸ¥è¯¢å‡½æ•°ï¼Œè¿™é‡Œä½¿ç”¨äº†å…è´¹çš„å¿ƒçŸ¥å¤©æ°” APIï¼Œè´Ÿè´£å’Œå¿ƒçŸ¥å¤©æ°” API äº¤äº’ï¼Œä½¿è¯¥å‡½æ•°æ¥æ”¶åŸå¸‚åï¼Œè¿”å›ç»“æ„åŒ–å¤©æ°”æè¿°ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests
<span class="hljs-comment"># python ç±»å‹çº¦å®š</span>
<span class="hljs-comment"># js å¼±ç±»å‹è¯­è¨€</span>
<span class="hljs-comment"># -&gt; str è¿”å›å€¼çš„ç±»å‹</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_weather</span>(<span class="hljs-params">location: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    url = <span class="hljs-string">"https://api.seniverse.com/v3/weather/now.json"</span>
    params = {
        <span class="hljs-string">"key"</span>:<span class="hljs-string">"your_api_key"</span>,<span class="hljs-comment"># æ›¿æ¢ä¸ºä½ è‡ªå·±çš„å¿ƒçŸ¥å¤©æ°” API key</span>
        <span class="hljs-string">"location"</span>:location,
        <span class="hljs-string">"language"</span>:<span class="hljs-string">"zh-Hans"</span>
    }
    <span class="hljs-keyword">try</span>:
        resp = requests.get(url,params=params,timeout=<span class="hljs-number">10</span>)
        data = resp.json()
        <span class="hljs-built_in">print</span>(data)
        <span class="hljs-keyword">if</span> <span class="hljs-string">"results"</span> <span class="hljs-keyword">in</span> data:
            r = data[<span class="hljs-string">"results"</span>][<span class="hljs-number">0</span>]
            city = r[<span class="hljs-string">"location"</span>][<span class="hljs-string">"name"</span>]
            <span class="hljs-comment"># å½“å‰å¯¹è±¡å¤©æ°”</span>
            now = r[<span class="hljs-string">"now"</span>]
            text = now[<span class="hljs-string">"text"</span>]
            temp = now[<span class="hljs-string">"temperature"</span>]
            <span class="hljs-comment"># python æ“…é•¿æœºå™¨å­¦ä¹  å’Œå­—ç¬¦å¤„ç†</span>
            <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{city}</span>å½“å‰å¤©æ°”ï¼š<span class="hljs-subst">{text}</span>, æ°”æ¸©<span class="hljs-subst">{temp}</span>åº¦"</span>
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">"æŸ¥è¯¢å¤±è´¥"</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"å¼‚å¸¸: <span class="hljs-subst">{e}</span>"</span>
    
get_weather(<span class="hljs-string">"æŠšå·"</span>)  <span class="hljs-comment"># è¾“å‡ºï¼šæŠšå·å½“å‰å¤©æ°”ï¼šé˜´ï¼Œæ°”æ¸©8åº¦</span>
</code></pre>
<ul>
<li>è°ƒç”¨ get_weather("æŠšå·") ä¼ å…¥åŸå¸‚åï¼›</li>
<li>å‡½æ•°é€šè¿‡ requests åº“å‘å¤©æ°” API å‘é€å¸¦å¯†é’¥ã€åŸå¸‚åçš„è¯·æ±‚ï¼›</li>
<li>API è¿”å› JSON æ ¼å¼çš„å¤©æ°”æ•°æ®ï¼Œå‡½æ•°è§£æå‡ºåŸå¸‚åã€å¤©æ°”çŠ¶å†µã€æ°”æ¸©ï¼›</li>
<li>ç”¨å‹å¥½çš„æ ¼å¼è¿”å›ç»“æœï¼Œé‡åˆ°é”™è¯¯æ—¶ç»™å‡ºæ˜ç¡®æç¤ºã€‚</li>
</ul>
<h4 data-id="heading-5">3. ç¬¬äºŒæ­¥ï¼šè®©å¤§æ¨¡å‹è®¤è¯†å·¥å…·</h4>
<p>å¤§æ¨¡å‹çœ‹ä¸æ‡‚ Python å‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ JSON æ ¼å¼å®šä¹‰ä¸€ä»½â€œå·¥å…·ä½¿ç”¨è¯´æ˜ä¹¦â€ï¼Œæ˜ç¡®å‘Šè¯‰å¤§æ¨¡å‹ï¼šè¿™ä¸ªå·¥å…·èƒ½åšä»€ä¹ˆã€éœ€è¦ä¼ ä»€ä¹ˆå‚æ•°ã€‚è¿™æ˜¯å·¥å…·è°ƒç”¨æˆåŠŸçš„æ ¸å¿ƒå‰æã€‚</p>
<pre><code class="hljs language-ini" lang="ini">from openai import OpenAI
import json

<span class="hljs-comment"># åˆå§‹åŒ–å¤§æ¨¡å‹å®¢æˆ·ç«¯ï¼ˆDeepSeek ä¸ºä¾‹ï¼Œå…¼å®¹ OpenAI æ¥å£ï¼‰</span>
<span class="hljs-attr">client</span> = OpenAI(
    <span class="hljs-attr">api_key</span>=<span class="hljs-string">"your_API_KEY"</span>,  <span class="hljs-comment"># æ›¿æ¢ä¸ºä½ çš„DeepSeek API key</span>
    <span class="hljs-attr">base_url</span>=<span class="hljs-string">"https://api.deepseek.com/v1"</span><span class="hljs-comment"># è°ƒç”¨æ¨¡å‹æ¥å£åœ°å€ï¼ˆä¸åŒæ¨¡å‹åœ°å€ä¸åŒï¼‰</span>
)

<span class="hljs-comment"># å·¥å…·å®šä¹‰ï¼šå‘Šè¯‰å¤§æ¨¡å‹å¯ç”¨çš„å·¥å…·</span>
<span class="hljs-attr">tools</span> = [
    {
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"function"</span>,
        <span class="hljs-string">"function"</span>: {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"get_weather"</span>,  <span class="hljs-comment"># å¿…é¡»å’Œ Python å‡½æ•°åä¸€è‡´</span>
            <span class="hljs-string">"description"</span>: <span class="hljs-string">"è·å–æŒ‡å®šåŸå¸‚çš„å½“å‰å®æ—¶å¤©æ°”"</span>,  <span class="hljs-comment"># è®©å¤§æ¨¡å‹çŸ¥é“ä»€ä¹ˆæ—¶å€™ç”¨è¿™ä¸ªå·¥å…·</span>
            <span class="hljs-string">"parameters"</span>: {
                <span class="hljs-string">"type"</span>: <span class="hljs-string">"object"</span>,
                <span class="hljs-string">"properties"</span>: {
                    <span class="hljs-string">"location"</span>: {
                        <span class="hljs-string">"type"</span>: <span class="hljs-string">"string"</span>,
                        <span class="hljs-string">"description"</span>: <span class="hljs-string">"åŸå¸‚åç§°ï¼Œå¦‚'åŒ—äº¬'ã€'ä¸Šæµ·'"</span>  <span class="hljs-comment"># æ˜ç¡®å‚æ•°æ ¼å¼</span>
                    }
                },
                <span class="hljs-string">"required"</span>: [<span class="hljs-string">"location"</span>]  <span class="hljs-comment"># å¿…ä¼ å‚æ•°</span>
            }
        }
    }
]
</code></pre>
<p>å¤§æ¨¡å‹æœ¬èº«çœ‹ä¸æ‡‚ Python å†™çš„ get_weather å‡½æ•°ï¼ˆä¸çŸ¥é“å®ƒèƒ½å¹²å˜›ã€è¦ä¼ ä»€ä¹ˆå‚æ•°ï¼‰ï¼Œè¿™æ®µä»£ç å°±æ˜¯ç»™å¤§æ¨¡å‹å†™çš„ã€Œå·¥å…·ä½¿ç”¨è¯´æ˜ä¹¦ã€ï¼š</p>
<ul>
<li>å…ˆè¿æ¥åˆ°å¤§æ¨¡å‹ï¼ˆæ¯”å¦‚ DeepSeekï¼‰ï¼›</li>
<li>å®šä¹‰å·¥å…·çš„èº«ä»½ä¿¡æ¯ï¼ˆåç§°ï¼‰ã€åŠŸèƒ½æè¿°ï¼ˆèƒ½å¹²å˜›ï¼‰ã€å‚æ•°è¦æ±‚ï¼ˆè¦ä¼ ä»€ä¹ˆï¼‰ï¼›</li>
<li>å¤§æ¨¡å‹çœ‹å®Œè¿™ä»½è¯´æ˜ä¹¦ï¼Œå°±èƒ½åœ¨ç”¨æˆ·é—® â€œåŒ—äº¬å¤©æ°”æ€ä¹ˆæ ·â€ æ—¶ï¼Œè‡ªåŠ¨åˆ¤æ–­è¦è°ƒç”¨ get_weather å‡½æ•°ï¼Œä¸”çŸ¥é“è¦ä¼  location="åŒ—äº¬" å‚æ•°ã€‚</li>
</ul>
<h4 data-id="heading-6">4. ç¬¬ä¸‰æ­¥ï¼šå®ç°å¤§æ¨¡å‹ä¸å·¥å…·çš„è”åŠ¨</h4>
<p>ç¼–å†™æ ¸å¿ƒäº¤äº’é€»è¾‘ï¼Œå®Œæˆâ€œç”¨æˆ·æé—® â†’ å¤§æ¨¡å‹è°ƒç”¨å·¥å…· â†’ è¿”å›ç»“æœâ€çš„é—­ç¯ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># ç”¨æˆ·æé—®</span>
<span class="hljs-attr">messages</span> = [{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"åŒ—äº¬å¤©æ°”æ€ä¹ˆæ ·"</span>}]

<span class="hljs-comment"># 1. å¤§æ¨¡å‹åˆ¤æ–­æ˜¯å¦éœ€è¦è°ƒç”¨å·¥å…·</span>
<span class="hljs-attr">response</span> = client.chat.completions.create(
    <span class="hljs-attr">model</span>=<span class="hljs-string">"deepseek-reasoner"</span>,  <span class="hljs-comment"># æ¨ç†å‹æ¨¡å‹ï¼Œæ“…é•¿å·¥å…·è°ƒç”¨</span>
    <span class="hljs-attr">messages</span>=messages,
    <span class="hljs-attr">tools</span>=tools,
    <span class="hljs-attr">tool_choice</span>=<span class="hljs-string">"auto"</span>,  <span class="hljs-comment"># è‡ªåŠ¨åˆ¤æ–­æ˜¯å¦è°ƒç”¨å·¥å…·</span>
    <span class="hljs-attr">temperature</span>=<span class="hljs-number">0.3</span>  <span class="hljs-comment"># é™ä½éšæœºæ€§ï¼Œä¿è¯å‚æ•°å‡†ç¡®</span>
)
<span class="hljs-attr">response_message</span> = response.choices[<span class="hljs-number">0</span>].message
messages.append(response_message)  <span class="hljs-comment"># è®°å½•å¤§æ¨¡å‹å“åº”</span>

<span class="hljs-comment"># 2. å¦‚æœéœ€è¦è°ƒç”¨å·¥å…·ï¼Œæ‰§è¡Œå¹¶è·å–ç»“æœ</span>
if response_message.tool_calls:
    for tool_call in response_message.tool_calls:
        <span class="hljs-comment"># è§£æå·¥å…·è°ƒç”¨å‚æ•°</span>
        <span class="hljs-attr">function_name</span> = tool_call.function.name
        <span class="hljs-attr">function_args</span> = json.loads(tool_call.function.arguments)
        
        <span class="hljs-comment"># è°ƒç”¨å¤©æ°”å·¥å…·</span>
        if <span class="hljs-attr">function_name</span> == <span class="hljs-string">"get_weather"</span>:
            <span class="hljs-attr">tool_response</span> = get_weather(function_args[<span class="hljs-string">"location"</span>])
        else:
            <span class="hljs-attr">tool_response</span> = <span class="hljs-string">"æœªçŸ¥å·¥å…·"</span>
        
        <span class="hljs-comment"># å°†å·¥å…·ç»“æœå›ä¼ ç»™å¤§æ¨¡å‹</span>
        messages.append({
            "role": "tool",
            "name": function_name,
            "tool_call_id": tool_call.id,
            "content": tool_response
        })

<span class="hljs-comment"># 3. å¤§æ¨¡å‹æ•´ç†ç»“æœï¼Œç”Ÿæˆæœ€ç»ˆå›ç­”</span>
<span class="hljs-attr">final_response</span> = client.chat.completions.create(
    <span class="hljs-attr">model</span>=<span class="hljs-string">"deepseek-reasoner"</span>,
    <span class="hljs-attr">messages</span>=messages,
    <span class="hljs-attr">temperature</span>=<span class="hljs-number">0.3</span>
)
print("å¤§æ¨¡å‹å›ç­”ï¼š")
print(final_response.choices<span class="hljs-section">[0]</span>.message.content)
</code></pre>
<p>è¿™æ®µä»£ç çš„æ ¸å¿ƒä»·å€¼æ˜¯å®ç°å¤§æ¨¡å‹è°ƒç”¨å·¥å…·çš„è‡ªåŠ¨åŒ–é—­ç¯ï¼š</p>
<ul>
<li>æ— éœ€äººå·¥åˆ¤æ–­ â€œè¦ä¸è¦è°ƒç”¨å·¥å…·â€â€”â€”å¤§æ¨¡å‹è‡ªå·±åˆ†æç”¨æˆ·éœ€æ±‚ï¼›</li>
<li>æ— éœ€äººå·¥æå–å‚æ•° â€œè¯¥ä¼ ä»€ä¹ˆå€¼â€â€”â€”å¤§æ¨¡å‹è‡ªåŠ¨ä»ç”¨æˆ·æé—®ä¸­æå–ï¼ˆæ¯”å¦‚ä» â€œåŒ—äº¬å¤©æ°”æ€ä¹ˆæ ·â€ æå– location="åŒ—äº¬"ï¼‰ï¼›</li>
<li>æ— éœ€äººå·¥æ•´ç†ç»“æœ â€œæ€ä¹ˆå›å¤ç”¨æˆ·â€â€”â€”å¤§æ¨¡å‹æŠŠå·¥å…·è¿”å›çš„åŸå§‹æ•°æ®ï¼Œæ•´ç†æˆè‡ªç„¶ã€å‹å¥½çš„å›ç­”ã€‚</li>
</ul>
<p>æ•´ä¸ªæµç¨‹å°±åƒï¼šä½ ï¼ˆç”¨æˆ·ï¼‰é—®åŠ©ç†ï¼ˆå¤§æ¨¡å‹ï¼‰â€œåŒ—äº¬å¤©æ°”æ€ä¹ˆæ ·â€ï¼ŒåŠ©ç†ï¼ˆå¤§æ¨¡å‹ï¼‰è‡ªåŠ¨æ‰“å¼€å¤©æ°” APPï¼ˆè°ƒç”¨ get_weather å·¥å…·ï¼‰ï¼ŒæŸ¥å®ŒåæŠŠç»“æœæ•´ç†æˆå£è¯­åŒ–çš„å›ç­”å‘Šè¯‰ä½  â€”â€” å…¨ç¨‹ä¸ç”¨ä½ åŠ¨æ‰‹ï¼ŒåŠ©ç†å…¨æå®šï¼</p>
<h4 data-id="heading-7">5. è¿è¡Œç»“æœç¤ºä¾‹</h4>
<p>æ‰§è¡Œä»£ç åï¼Œè¾“å‡ºå¦‚ä¸‹ï¼ˆå®æ—¶æ•°æ®ä¼šåŠ¨æ€å˜åŒ–ï¼‰ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">API è¿”å›æ•°æ®ï¼š {<span class="hljs-string">'results'</span>: [{<span class="hljs-string">'location'</span>: {<span class="hljs-string">'id'</span>: <span class="hljs-string">'WX4FBXXFKE4F'</span>, <span class="hljs-string">'name'</span>: <span class="hljs-string">'åŒ—äº¬'</span>, ...}, <span class="hljs-string">'now'</span>: {<span class="hljs-string">'text'</span>: <span class="hljs-string">'æ™´'</span>, <span class="hljs-string">'temperature'</span>: <span class="hljs-string">'3'</span>}, ...}]}
å¤§æ¨¡å‹å›ç­”ï¼š
æ ¹æ®æŸ¥è¯¢ç»“æœï¼ŒåŒ—äº¬å½“å‰å¤©æ°”æƒ…å†µå¦‚ä¸‹ï¼š
- å¤©æ°”çŠ¶å†µï¼šæ™´
- æ°”æ¸©ï¼š<span class="hljs-number">3</span>Â°C

ä»Šå¤©åŒ—äº¬å¤©æ°”æ™´æœ—ï¼Œä½†æ°”æ¸©è¾ƒä½ï¼Œå»ºè®®æ‚¨ï¼š
- å¤–å‡ºæ—¶æ³¨æ„ä¿æš–ï¼Œç©¿ä¸Šåšå¤–å¥—
- ç”±äºå¤©æ°”å¹²ç‡¥ï¼Œå¤šè¡¥å……æ°´åˆ†
- æ—©æ™šæ¸©å·®å¯èƒ½è¾ƒå¤§ï¼Œæ³¨æ„é€‚æ—¶å¢å‡è¡£ç‰©

å¦‚æœæ‚¨éœ€è¦äº†è§£å…¶ä»–åœ°åŒºçš„å¤©æ°”æƒ…å†µï¼Œéšæ—¶å‘Šè¯‰æˆ‘ï¼
</code></pre>
<h3 data-id="heading-8">ä¸‰ã€å…³é”®çŸ¥è¯†ç‚¹æ‹†è§£</h3>
<h4 data-id="heading-9">1. ä¸ºä»€ä¹ˆç”¨ OpenAI SDKï¼Ÿ</h4>
<p>OpenAI çš„ <code>chat.completions</code> æ¥å£æ˜¯è¡Œä¸šäº‹å®æ ‡å‡†ï¼ŒDeepSeekã€é€šä¹‰åƒé—®ç­‰æ¨¡å‹éƒ½å…¼å®¹ã€‚å°±åƒå‰ç«¯ç”¨ Axios é€‚é…ä¸åŒåç«¯æ¥å£ä¸€æ ·ï¼Œæ¢æ¨¡å‹åªéœ€æ”¹ <code>base_url</code> å’Œ <code>api_key</code>ï¼Œæ ¸å¿ƒä»£ç ä¸å˜ã€‚</p>
<h4 data-id="heading-10">2. å·¥å…·å®šä¹‰çš„3ä¸ªæ ¸å¿ƒè¦ç´ </h4>
<ul>
<li><code>name</code>ï¼šå¿…é¡»å’Œ Python å‡½æ•°åä¸€è‡´ï¼ˆå¤§æ¨¡å‹é è¿™ä¸ªæ‰¾åˆ°å·¥å…·ï¼‰ï¼›</li>
<li><code>description</code>ï¼šè¶Šè¯¦ç»†è¶Šå¥½ï¼ˆæ¯”å¦‚å†™"è·å–å®æ—¶å¤©æ°”"æ¯”åªå†™"æŸ¥å¤©æ°”"æ›´å‡†ç¡®ï¼Œå¸®åŠ©å¤§æ¨¡å‹åˆ¤æ–­æ˜¯å¦è°ƒç”¨ï¼‰ï¼›</li>
<li><code>parameters</code>ï¼šæ˜ç¡®å‚æ•°ç±»å‹å’Œè¦æ±‚ï¼ˆé¿å…å¤§æ¨¡å‹ä¼ å…¥æ— æ•ˆå€¼ï¼Œæ¯”å¦‚åŸå¸‚åä¼ æˆæ‹¼éŸ³ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-11">3. å¤§æ¨¡å‹çš„"ä¼šè¯è®°å¿†"</h4>
<p><code>messages</code> æ•°ç»„è´Ÿè´£ç»´æŠ¤å¯¹è¯ä¸Šä¸‹æ–‡ï¼Œå°±åƒå‰ç«¯çš„çŠ¶æ€ç®¡ç†ï¼š</p>
<ul>
<li><code>role="user"</code>ï¼šç”¨æˆ·è¾“å…¥ï¼›</li>
<li><code>role="assistant"</code>ï¼šå¤§æ¨¡å‹å“åº”ï¼›</li>
<li><code>role="tool"</code>ï¼šå·¥å…·è°ƒç”¨ç»“æœï¼›</li>
<li><code>role="system"</code>ï¼šå¯é€‰ï¼Œç”¨äºè®¾ç½®å¤§æ¨¡å‹çš„è¡Œä¸ºï¼ˆå¦‚"å›ç­”ç®€æ´ï¼Œå¸¦å‡ºè¡Œå»ºè®®"ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-12">4. ä¸ºä»€ä¹ˆå¤§æ¨¡å‹éœ€è¦å·¥å…·ï¼Ÿ</h4>
<p>å¤§æ¨¡å‹çš„çŸ¥è¯†æ¥è‡ªè®­ç»ƒæ•°æ®ï¼Œæ— æ³•è·å–å®æ—¶ä¿¡æ¯ï¼ˆæ¯”å¦‚ 2025 å¹´çš„å¤©æ°”æ•°æ®å¦‚æœä¸åœ¨è®­ç»ƒé›†ä¸­ï¼Œå°±æ— æ³•ç›´æ¥å›ç­”ï¼‰ã€‚å·¥å…·ç›¸å½“äºç»™å¤§æ¨¡å‹å¼€äº†ä¸ª"å¤–æŒ‚"ï¼Œè®©å®ƒèƒ½å¯¹æ¥äº’è”ç½‘ APIã€æ•°æ®åº“ç­‰å¤–éƒ¨èµ„æºã€‚</p>
<h3 data-id="heading-13">å››ã€æ‹“å±•æ–¹å‘</h3>
<ul>
<li>
<p>1.æ™ºèƒ½å®¢æœç³»ç»Ÿï¼šè°ƒç”¨å…¬å¸çš„è®¢å•æŸ¥è¯¢ã€ç‰©æµè·Ÿè¸ªæ¥å£ï¼Œè®©AIè‡ªåŠ¨å›å¤ç”¨æˆ·çš„è®¢å•çŠ¶æ€é—®é¢˜ï¼›</p>
</li>
<li>
<p>2.å®æ—¶æ•°æ®çœ‹æ¿ï¼šé›†æˆè‚¡ç¥¨ã€æ–°é—»ã€æ±‡ç‡ç­‰APIï¼Œåœ¨å‰ç«¯é¡µé¢ä¸­å®ç°â€œè‡ªç„¶è¯­è¨€æé—® â†’ æ•°æ®å¯è§†åŒ–å±•ç¤ºâ€çš„äº¤äº’ï¼›</p>
</li>
<li>
<p>3.ä¸ªäººåŠ©ç†åº”ç”¨ï¼šè°ƒç”¨æ—¥å†ã€å¤‡å¿˜å½•ã€å¤–å–ç­‰æ¥å£ï¼Œå®ç°â€œè¯­éŸ³æé—® â†’ AIå¸®ä½ è®¢å¤–å–/æŸ¥æ—¥ç¨‹â€çš„å…¨æµç¨‹æœåŠ¡ã€‚</p>
</li>
</ul>
<h3 data-id="heading-14">äº”ã€æ€»ç»“</h3>
<p>æœ¬æ–‡é€šè¿‡ä¸€ä¸ªå®æ—¶å¤©æ°”æŸ¥è¯¢å®æˆ˜ï¼Œå®Œæ•´çš„å±•ç¤ºäº†å¤§æ¨¡å‹å¦‚ä½•å€ŸåŠ©å·¥å…·è°ƒç”¨ä¸å¤–éƒ¨ç³»ç»Ÿäº¤äº’ã€‚æ•´ä¸ªæµç¨‹ä¸è¿‡ç™¾è¡Œä»£ç ï¼Œå´æ‰“é€šäº† LLM ä¸ç°å®ä¸–ç•Œçš„è¿æ¥é€šé“â€”â€”è¿™æ­£æ˜¯æ„å»ºå®ç”¨ AI åº”ç”¨çš„æ ¸å¿ƒèŒƒå¼ã€‚</p>
<p>å¤§æ¨¡å‹å·¥å…·è°ƒç”¨çš„æ ¸å¿ƒä»·å€¼ï¼Œä¸åœ¨äºå¤æ‚çš„ä»£ç ï¼Œè€Œåœ¨äºæ„å»ºäº†â€œAIä¸ç°å®ä¸–ç•Œäº¤äº’â€çš„æ¡¥æ¢ã€‚è¿‡å»ï¼Œå¤§æ¨¡å‹åªèƒ½åŸºäºè®­ç»ƒæ•°æ®å›ç­”é—®é¢˜ï¼›å¦‚ä»Šï¼Œé€šè¿‡å·¥å…·è°ƒç”¨ï¼Œå®ƒèƒ½ä¸»åŠ¨è·å–å®æ—¶æ•°æ®ã€æ‰§è¡Œå…·ä½“ä»»åŠ¡ï¼Œè¿™æ­£æ˜¯AIä»â€œç†è®ºâ€èµ°å‘â€œå®ç”¨â€çš„å…³é”®ä¸€æ­¥ã€‚
ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»ä»£ç åˆ°ç”Ÿäº§æ¨ç†æœåŠ¡ï¼šDevPod å…¨æµç¨‹éƒ¨ç½² DeepSeek-OCR æ¨¡å‹å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7576175307352277007</link>    <guid>https://juejin.cn/post/7576175307352277007</guid>    <pubDate>2025-11-24T08:34:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576175307352277007" data-draft-id="7575910298282999843" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»ä»£ç åˆ°ç”Ÿäº§æ¨ç†æœåŠ¡ï¼šDevPod å…¨æµç¨‹éƒ¨ç½² DeepSeek-OCR æ¨¡å‹å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ,Serverless"/> <meta itemprop="datePublished" content="2025-11-24T08:34:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Serverlessç¤¾åŒº"/> <meta itemprop="url" content="https://juejin.cn/user/1794004139382301"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»ä»£ç åˆ°ç”Ÿäº§æ¨ç†æœåŠ¡ï¼šDevPod å…¨æµç¨‹éƒ¨ç½² DeepSeek-OCR æ¨¡å‹å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1794004139382301/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Serverlessç¤¾åŒº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:34:04.000Z" title="Mon Nov 24 2025 08:34:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å¼€å‘è°ƒè¯•åˆ°ç”Ÿäº§ä¸Šçº¿ï¼Œå…¨æµç¨‹ä»…éœ€ä¸€ä¸ªå·¥ä½œåŒºâ€”â€”DevPodé‡æ–°å®šä¹‰AIå·¥ç¨‹åŒ–æ ‡å‡†ï¼Œå½“å¼€å‘ä¸éƒ¨ç½²ä¸å†å‰²è£‚ï¼Œæ¨¡å‹ä»·å€¼æ‰çœŸæ­£é‡Šæ”¾ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ç®€ä»‹</h2>
<p>å‘Šåˆ«ç¢ç‰‡åŒ–å¼€å‘ä½“éªŒï¼ŒDevPod æ‰“é€ ä»ä»£ç åˆ°æœåŠ¡çš„ä¸€ç«™å¼é—­ç¯ã€‚æœ¬æ–‡æ‰‹æŠŠæ‰‹æ¼”ç¤ºåœ¨å‡½æ•°è®¡ç®— Funmodel ä¸Šå®Œæˆ DeepSeek-OCR æ¨¡å‹ä»äº‘ç«¯å¼€å‘ã€æœ¬åœ°è°ƒè¯•åˆ°ç”Ÿäº§éƒ¨ç½²çš„å®Œæ•´å·¥ä½œæµï¼Œè®©æ¨¡å‹çœŸæ­£èµ°å‡ºå®éªŒå®¤ï¼Œå®ç°åˆ†é’Ÿçº§æœåŠ¡åŒ–ï¼Œé‡å¡‘ AI æ¨¡å‹ä»å¼€å‘åˆ°è½åœ°çš„é«˜æ•ˆè·¯å¾„ã€‚</p>
<h2 data-id="heading-1">å›é¡¾ï¼šä¸ºä½• DevPod è®© DeepSeek-OCR å¯åŠ¨å¦‚æ­¤ç®€å•ï¼Ÿ</h2>
<p>åœ¨ç³»åˆ—ç¬¬ä¸€ç¯‡ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.aliyun.com%2Farticle%2F1687013" target="_blank" title="https://developer.aliyun.com/article/1687013" ref="nofollow noopener noreferrer">ä¸ºä»€ä¹ˆåˆ«äººç”¨ DevPod ç§’å¯ DeepSeek-OCRï¼Œä½ è¿˜åœ¨è£…ç¯å¢ƒï¼Ÿ</a>ã€‹ä¸­ï¼Œæˆ‘ä»¬è§è¯äº† DevPod å¦‚ä½•å°†åŸæœ¬ç¹ççš„ç¯å¢ƒé…ç½®ã€ä¾èµ–å®‰è£…ã€ç¡¬ä»¶é€‚é…ç­‰è¿‡ç¨‹å‹ç¼©è‡³ 60 ç§’å†…å®Œæˆã€‚æ— éœ€å†ä¸º CUDA ç‰ˆæœ¬å†²çªã€Python ç¯å¢ƒéš”ç¦»ã€æ¨¡å‹æƒé‡ä¸‹è½½ç¼“æ…¢è€Œçƒ¦æ¼ï¼ŒDevPod é€šè¿‡äº‘ç«¯é¢„ç½®ç¯å¢ƒï¼Œè®©å¼€å‘è€…ä¸€è¿›å…¥å·¥ä½œåŒºå°±èƒ½ç«‹å³ä¸ DeepSeek-OCR å¤§æ¨¡å‹è¿›è¡Œäº¤äº’ï¼ŒçœŸæ­£å®ç°äº†"å¼€ç®±å³ç”¨"çš„ AI å¼€å‘ä½“éªŒã€‚</p>
<blockquote>
<p>DevPod æ˜¯ä¸€æ¬¾äº‘åŸç”Ÿ AI å¼€å‘å·¥å…·ï¼Œæä¾›ç»Ÿä¸€å·¥ä½œç©ºé—´ä¸é¢„ç½®ç¯å¢ƒï¼Œå®ç°å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒä¸€è‡´æ€§ï¼Œå½»åº•æ¶ˆé™¤â€œç¯å¢ƒæ¼‚ç§»â€é—®é¢˜ã€‚</p>
<p>å®ƒèƒ½ä¸€é”®è°ƒç”¨ GPU èµ„æºï¼Œæ”¯æŒä»£ç ç¼–å†™ã€è°ƒè¯•ã€æ¨¡å‹è°ƒä¼˜ã€é•œåƒå°è£…ä¸ç”Ÿäº§éƒ¨ç½²å…¨æµç¨‹æ“ä½œï¼Œæ— éœ€åˆ‡æ¢å¤šå¹³å°å·¥å…·ã€‚</p>
<p>è¿˜å¯ä¸ FunModel æ·±åº¦é›†æˆï¼Œæä¾›æ€§èƒ½ç›‘æ§ã€æ—¥å¿—åˆ†æã€åœ¨çº¿è°ƒè¯•ä¸å¿«é€Ÿè¿­ä»£èƒ½åŠ›ï¼Œè®© AI æ¨¡å‹ä»å®éªŒå®¤åˆ°æœåŠ¡åŒ–è½åœ°æ›´é«˜æ•ˆã€‚</p>
</blockquote>
<h2 data-id="heading-2">ä»å¼€å‘åˆ°ç”Ÿäº§ï¼šDevPod å…¨æµç¨‹é—­ç¯å·¥ä½œæµ</h2>
<p>ç„¶è€Œï¼Œå¯åŠ¨æ¨¡å‹ä»…ä»…æ˜¯å¼€å§‹ã€‚åœ¨å®é™…ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®Œæˆæ¨¡å‹è°ƒä¼˜ã€ä»£ç è°ƒè¯•ã€æ€§èƒ½æµ‹è¯•ã€æœåŠ¡å°è£…ã€ç”Ÿäº§éƒ¨ç½²ç­‰ä¸€ç³»åˆ—ç¯èŠ‚ã€‚ä¼ ç»Ÿæ–¹å¼ä¸‹ï¼Œè¿™äº›æ­¥éª¤å¾€å¾€æ¶‰åŠå¤šä¸ªå¹³å°å’Œå·¥å…·çš„åˆ‡æ¢ï¼Œæ•°æ®å’Œä»£ç åœ¨ä¸åŒç¯å¢ƒé—´æµè½¬ï¼Œææ˜“å‡ºç°"åœ¨æˆ‘æœºå™¨ä¸Šèƒ½è¿è¡Œ"çš„å°´å°¬å±€é¢ã€‚</p>
<p>DevPod é€šè¿‡ç»Ÿä¸€çš„å·¥ä½œç©ºé—´å’Œæ— ç¼è¡”æ¥çš„éƒ¨ç½²èƒ½åŠ›ï¼Œæ‰“é€šäº†ä»ä»£ç åˆ°æœåŠ¡çš„æœ€åä¸€å…¬é‡Œã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬å°†é€šè¿‡ DeepSeek-OCR æ¨¡å‹çš„å®æˆ˜æ¡ˆä¾‹ï¼Œå®Œæ•´æ¼”ç¤ºè¿™ä¸€å·¥ä½œæµã€‚</p>
<h3 data-id="heading-3">1. å¼€å‘è°ƒè¯•é˜¶æ®µï¼šVSCode + GPU åŠ é€Ÿçš„äº‘ç«¯å®éªŒå®¤</h3>
<p>åœ¨ DevPod ä¸­å¯åŠ¨ DeepSeek-OCR ç¯å¢ƒå®ä¾‹åï¼Œæˆ‘ä»¬ç«‹å³è·å¾—ä¸€ä¸ªé…å¤‡ GPU çš„äº‘ç«¯ VSCode å¼€å‘ç¯å¢ƒã€‚è¿™ä¸ä»…æ˜¯ä¸€ä¸ªæ¨¡å‹è¿è¡Œçš„å®¹å™¨ï¼Œæ›´æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç«¯åˆ°ç«¯ç ”ç©¶ä¸å¼€å‘å¹³å°ã€‚åŸºäº DeepSeek-OCR-vLLM æä¾›çš„ä»£ç æ¨ç†ç¤ºä¾‹ï¼Œæˆ‘ä»¬æ„å»ºäº† <code>server.py</code> ä½œä¸ºæ¨ç†æœåŠ¡çš„æ ¸å¿ƒå…¥å£ï¼Œå®ç°äº†é«˜æ•ˆã€å¯æ‰©å±•çš„æ¨ç†æ¥å£ï¼ˆå®Œæ•´ä»£ç è¯¦è§é™„å½•ï¼‰ã€‚</p>
<blockquote>
<p>/workspace/DeepSeek-OCR/DeepSeek-OCR-master/DeepSeek-OCR-vllm/server.py</p>
</blockquote>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> io
<span class="hljs-keyword">import</span> torch
<span class="hljs-keyword">import</span> uvicorn
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image
<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI, HTTPException
<span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Optional</span>, <span class="hljs-type">Dict</span>, <span class="hljs-type">Any</span>, <span class="hljs-type">List</span>
<span class="hljs-keyword">import</span> tempfile
<span class="hljs-keyword">import</span> fitz
<span class="hljs-keyword">from</span> concurrent.futures <span class="hljs-keyword">import</span> ThreadPoolExecutor
<span class="hljs-keyword">import</span> asyncio

<span class="hljs-comment"># Set environment variables</span>
<span class="hljs-keyword">if</span> torch.version.cuda == <span class="hljs-string">'11.8'</span>:
    os.environ[<span class="hljs-string">"TRITON_PTXAS_PATH"</span>] = <span class="hljs-string">"/usr/local/cuda-11.8/bin/ptxas"</span>
os.environ[<span class="hljs-string">'VLLM_USE_V1'</span>] = <span class="hljs-string">'0'</span>
os.environ[<span class="hljs-string">"CUDA_VISIBLE_DEVICES"</span>] = <span class="hljs-string">'0'</span>

<span class="hljs-keyword">from</span> config <span class="hljs-keyword">import</span> MODEL_PATH, CROP_MODE, MAX_CONCURRENCY, NUM_WORKERS
<span class="hljs-keyword">from</span> vllm <span class="hljs-keyword">import</span> LLM, SamplingParams
<span class="hljs-keyword">from</span> vllm.model_executor.models.registry <span class="hljs-keyword">import</span> ModelRegistry
<span class="hljs-keyword">from</span> deepseek_ocr <span class="hljs-keyword">import</span> DeepseekOCRForCausalLM
<span class="hljs-keyword">from</span> process.ngram_norepeat <span class="hljs-keyword">import</span> NoRepeatNGramLogitsProcessor
<span class="hljs-keyword">from</span> process.image_process <span class="hljs-keyword">import</span> DeepseekOCRProcessor

<span class="hljs-comment"># Register model</span>
ModelRegistry.register_model(<span class="hljs-string">"DeepseekOCRForCausalLM"</span>, DeepseekOCRForCausalLM)

<span class="hljs-comment"># Initialize model</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Loading model..."</span>)
...

<span class="hljs-comment"># Initialize FastAPI app</span>
app = FastAPI(title=<span class="hljs-string">"DeepSeek-OCR API"</span>, version=<span class="hljs-string">"1.0.0"</span>)

...

<span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">"/ocr_batch"</span>, response_model=ResponseData</span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">ocr_batch_inference</span>(<span class="hljs-params">request: RequestData</span>):
    <span class="hljs-string">"""
    Main OCR batch processing endpoint
    Accepts a list of image URLs and/or PDF URLs for OCR processing
    Returns a list of OCR results corresponding to each input document
    Supports both individual image processing and PDF-to-image conversion
    """</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Received request data: <span class="hljs-subst">{request}</span>"</span>)
    <span class="hljs-keyword">try</span>:
        input_data = request.<span class="hljs-built_in">input</span>
        prompt = request.prompt <span class="hljs-comment"># Get the prompt from the request</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> input_data.images <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> input_data.pdfs:
            <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">400</span>, detail=<span class="hljs-string">"Either 'images' or 'pdfs' (or both) must be provided as lists."</span>)

        all_batch_inputs = []
        final_output_parts = []

        <span class="hljs-comment"># Process images if provided</span>
        <span class="hljs-keyword">if</span> input_data.images:
            batch_inputs_images, counts_images = <span class="hljs-keyword">await</span> process_items_async(input_data.images, is_pdf=<span class="hljs-literal">False</span>, prompt=prompt)
            all_batch_inputs.extend(batch_inputs_images)
            final_output_parts.append(counts_images)

        <span class="hljs-comment"># Process PDFs if provided</span>
        <span class="hljs-keyword">if</span> input_data.pdfs:
            batch_inputs_pdfs, counts_pdfs = <span class="hljs-keyword">await</span> process_items_async(input_data.pdfs, is_pdf=<span class="hljs-literal">True</span>, prompt=prompt)
            all_batch_inputs.extend(batch_inputs_pdfs)
            final_output_parts.append(counts_pdfs)

        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> all_batch_inputs:
             <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">400</span>, detail=<span class="hljs-string">"No valid images or PDF pages were processed from the input URLs."</span>)

        <span class="hljs-comment"># Run inference on the combined batch</span>
        outputs_list = <span class="hljs-keyword">await</span> run_inference(all_batch_inputs)

        <span class="hljs-comment"># Reconstruct final output list based on counts</span>
        final_outputs = []
        output_idx = <span class="hljs-number">0</span>
        <span class="hljs-comment"># Flatten the counts list</span>
        all_counts = [count <span class="hljs-keyword">for</span> sublist <span class="hljs-keyword">in</span> final_output_parts <span class="hljs-keyword">for</span> count <span class="hljs-keyword">in</span> sublist]

        <span class="hljs-keyword">for</span> count <span class="hljs-keyword">in</span> all_counts:
            <span class="hljs-comment"># Get 'count' number of outputs for this input</span>
            input_outputs = outputs_list[output_idx : output_idx + count]
            output_texts = []
            <span class="hljs-keyword">for</span> output <span class="hljs-keyword">in</span> input_outputs:
                content = output.outputs[<span class="hljs-number">0</span>].text
                <span class="hljs-keyword">if</span> <span class="hljs-string">'&lt;ï½œendâ–ofâ–sentenceï½œ&gt;'</span> <span class="hljs-keyword">in</span> content:
                    content = content.replace(<span class="hljs-string">'&lt;ï½œendâ–ofâ–sentenceï½œ&gt;'</span>, <span class="hljs-string">''</span>)
                output_texts.append(content)

            <span class="hljs-comment"># Combine pages if it was a multi-page PDF input (or image treated as PDF)</span>
            <span class="hljs-keyword">if</span> count &gt; <span class="hljs-number">1</span>:
                combined_text = <span class="hljs-string">"\n&lt;--- Page Split ---&gt;\n"</span>.join(output_texts)
                final_outputs.append(combined_text)
            <span class="hljs-keyword">else</span>:
                <span class="hljs-comment"># Single image or single-page PDF</span>
                final_outputs.append(output_texts[<span class="hljs-number">0</span>] <span class="hljs-keyword">if</span> output_texts <span class="hljs-keyword">else</span> <span class="hljs-string">""</span>)

            output_idx += count <span class="hljs-comment"># Move to the next set of outputs</span>

        <span class="hljs-keyword">return</span> ResponseData(output=final_outputs)

    <span class="hljs-keyword">except</span> HTTPException:
        <span class="hljs-keyword">raise</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">500</span>, detail=<span class="hljs-string">f"Internal server error: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)

...

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    uvicorn.run(app, host=<span class="hljs-string">"0.0.0.0"</span>, port=<span class="hljs-number">8000</span>, workers=<span class="hljs-number">1</span>)
</code></pre>
<h4 data-id="heading-4">local æµ‹è¯•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç»ˆç«¯å¯åŠ¨æ¨ç†æœåŠ¡</span>
$ python /workspace/DeepSeek-OCR/DeepSeek-OCR-master/DeepSeek-OCR-vllm/server.py

<span class="hljs-comment"># å¼€å¯å¦å¤–ä¸€ä¸ªç»ˆç«¯</span>
$ curl -X POST \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-string">'{
    "input": {
      "pdfs": [
        "https://images.devsapp.cn/test/ocr-test.pdf"
      ]
    },
    "prompt": "&lt;image&gt;\nFree OCR."
  }'</span> \
  http://127.0.0.1:8000/ocr_batch
</code></pre>
<p>ä¹Ÿå¯ä»¥é€šè¿‡<strong>å¿«é€Ÿè®¿é—®</strong> tab è·å–ä»£ç†è·¯å¾„ï¼Œæ¯”å¦‚: <code>https://devpod-dbbeddba-ngywxigepn.cn-hangzhou.ide.fc.aliyun.com/proxy/8000/</code>, å¹¶é€šè¿‡å¤–éƒ¨çš„ Postman ç­‰å®¢æˆ·ç«¯å·¥å…·ç›´æ¥è°ƒç”¨è°ƒè¯•ã€‚</p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/79424/1763705560085-e0480b91-07a2-4972-bb5a-f3179531af83.png" alt="" loading="lazy"/></p>
<h4 data-id="heading-5">æµ‹è¯• image</h4>
<pre><code class="hljs language-bash" lang="bash">$ curl -X POST \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-string">'{
    "input": {
      "images": [
        "https://paddle-model-ecology.bj.bcebos.com/paddlex/imgs/demo_image/paddleocr_vl_demo.png"
      ]
    },
    "prompt": "&lt;image&gt;\n&lt;|grounding|&gt;Convert the document to markdown."
  }'</span> \
  <span class="hljs-string">"https://devpod-dbbeddba-ngywxigepn.cn-hangzhou.ide.fc.aliyun.com/proxy/8000/ocr_batch"</span>
</code></pre>
<h4 data-id="heading-6">æµ‹è¯• pdf</h4>
<pre><code class="hljs language-bash" lang="bash">$ curl -X POST \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-string">'{
    "input": {
      "pdfs": [
        "https://images.devsapp.cn/test/ocr-test.pdf"
      ]
    },
    "prompt": "&lt;image&gt;\nFree OCR."
  }'</span> \
  <span class="hljs-string">"https://devpod-dbbeddba-ngywxigepn.cn-hangzhou.ide.fc.aliyun.com/proxy/8000/ocr_batch"</span>
</code></pre>
<p>ç¤ºä¾‹:
<img src="https://img.alicdn.com/imgextra/i2/O1CN01NaFTgw1l5L9QjqQR4_!!6000000004767-2-tps-3074-366.png" alt="" loading="lazy"/></p>
<h4 data-id="heading-7">æ··åˆ</h4>
<pre><code class="hljs language-bash" lang="bash">$ curl -X POST \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-string">'{
    "input": {
      "pdfs": [
        "https://images.devsapp.cn/test/ocr-test.pdf"
      ],
      "images": [
        "https://paddle-model-ecology.bj.bcebos.com/paddlex/imgs/demo_image/paddleocr_vl_demo.png"
      ]
    },
    "prompt": "&lt;image&gt;\nFree OCR."
  }'</span> \
  <span class="hljs-string">"https://devpod-dbbeddba-ngywxigepn.cn-hangzhou.ide.fc.aliyun.com/proxy/8000/ocr_batch"</span>
</code></pre>
<p>DevPod çš„ä¼˜åŠ¿åœ¨äºï¼šæ‰€æœ‰ä¾èµ–å·²é¢„è£…ï¼ŒGPU èµ„æºå³å¼€å³ç”¨ï¼Œå¼€å‘è€…å¯ä»¥ä¸“æ³¨äºç®—æ³•ä¼˜åŒ–å’Œä¸šåŠ¡é€»è¾‘ï¼Œè€Œéç¯å¢ƒé—®é¢˜ã€‚</p>
<h3 data-id="heading-8">2. æœåŠ¡å°è£…é˜¶æ®µï¼šä¸€é”®è½¬æ¢ä¸ºé•œåƒäº¤ä»˜ç‰©</h3>
<p>å½“æ¨¡å‹åœ¨å¼€å‘ç¯å¢ƒä¸­éªŒè¯é€šè¿‡åï¼Œä¸‹ä¸€æ­¥æ˜¯å°†å…¶å°è£…ä¸ºé•œåƒäº¤ä»˜ç‰©ã€‚åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Ffcnext.console.aliyun.com%2Ffun-model" target="_blank" title="https://fcnext.console.aliyun.com/fun-model" ref="nofollow noopener noreferrer">FunModel</a> çš„ DevPod ä¸­ï¼Œè¿™ä»…éœ€å¦‚ä¸‹æ“ä½œï¼š</p>
<p><img src="https://img.alicdn.com/imgextra/i2/O1CN01vMxtZZ1QGEdrn2Oad_!!6000000001948-2-tps-3656-1498.png" alt="" loading="lazy"/></p>
<p>è¯¦æƒ…è¯·å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Ffunctioncompute%2Ffc%2Fdevpod-development-environment%23491239f1cdujq" target="_blank" title="https://help.aliyun.com/zh/functioncompute/fc/devpod-development-environment#491239f1cdujq" ref="nofollow noopener noreferrer">DevPod é•œåƒæ„å»ºä¸ACRé›†æˆ</a></p>
<h3 data-id="heading-9">3. ä¸€é”®éƒ¨ç½²ï¼šä»å·¥ä½œåŒºåˆ°ç”Ÿäº§ç¯å¢ƒ</h3>
<p>é•œåƒæ„å»ºæ¨é€å®Œæ¯•åï¼Œé•œåƒå·²ç»å­˜å‚¨åˆ° ACRï¼Œæ­¤æ—¶å¯ä»¥ä¸€é”®éƒ¨ç½²ä¸º FunModel æ¨¡å‹æœåŠ¡ã€‚</p>
<p><img src="https://img.alicdn.com/imgextra/i4/O1CN01hc9TB31HhrzvVBN6J_!!6000000000790-2-tps-3638-676.png" alt="" loading="lazy"/></p>
<p><img src="https://img.alicdn.com/imgextra/i4/O1CN01Ie5kSf1DX6DjKNyyN_!!6000000000225-2-tps-1912-1288.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-10">4. ç›‘æ§ä¸è¿­ä»£ï¼šé—­ç¯çš„å¼€å‘è¿ç»´ä½“éªŒ</h3>
<p>éƒ¨ç½²ä¸æ˜¯ç»ˆç‚¹ã€‚DevPod ä¸ FunModel æ·±åº¦é›†æˆï¼Œæä¾›äº†å®Œæ•´çš„ç›‘æ§é¢æ¿ï¼š</p>
<ul>
<li><strong>æ€§èƒ½ç›‘æ§</strong>ï¼šå®æ—¶æŸ¥çœ‹ GPU åˆ©ç”¨ç‡ã€è¯·æ±‚å»¶è¿Ÿã€ååé‡</li>
<li><strong>æ—¥å¿—åˆ†æ</strong>ï¼šé›†ä¸­æ”¶é›†æ‰€æœ‰å®ä¾‹æ—¥å¿—ï¼Œæ”¯æŒå…³é”®è¯æ£€ç´¢</li>
<li><strong>å˜æ›´éƒ¨ç½²è®°å½•</strong>ï¼šæ¯æ¬¡å˜æ›´é…ç½®ï¼ˆå¦‚å¡å‹ã€æ‰©ç¼©å®¹ç­–ç•¥ã€ timeout ç­‰ï¼‰çš„éƒ¨ç½²éƒ½æœ‰è®°å½•è¿½æº¯</li>
<li><strong>åœ¨çº¿å¿«æ·è°ƒè¯•</strong>ï¼šå¿«é€Ÿæµ‹è¯•éƒ¨ç½²åçš„æ¨¡å‹æœåŠ¡</li>
</ul>
<p><img src="https://img.alicdn.com/imgextra/i1/O1CN01hbBWMo1zoauHjeALh_!!6000000006761-2-tps-3638-1752.png" alt="" loading="lazy"/></p>
<p>å½“éœ€è¦ä¼˜åŒ–æ¨¡å‹æˆ–ä¿®å¤é—®é¢˜æ—¶ï¼Œå¼€å‘è€…å¯ä»¥ï¼š</p>
<ol>
<li>åœ¨ç›‘æ§ä¸­å‘ç°é—®é¢˜</li>
<li>ç›´æ¥æ‰“å¼€ DevPod ç»§ç»­å¼€å‘è°ƒè¯•
<img src="https://img.alicdn.com/imgextra/i4/O1CN01YIHAAc1LmgcssS4i6_!!6000000001342-2-tps-3682-574.png" alt="" loading="lazy"/></li>
<li>éªŒè¯ä¿®å¤æ–¹æ¡ˆ</li>
<li>åˆ¶ä½œæ–°çš„é•œåƒï¼Œ ä¸€é”®éƒ¨ç½²</li>
</ol>
<p>æ•´ä¸ªè¿‡ç¨‹åœ¨ç»Ÿä¸€ç¯å¢ƒä¸­å®Œæˆï¼Œé¿å…äº†ç¯å¢ƒä¸ä¸€è‡´å¯¼è‡´çš„é—®é¢˜ï¼ŒçœŸæ­£å®ç°äº†å¼€å‘ä¸è¿ç»´çš„æ— ç¼åä½œã€‚</p>
<h2 data-id="heading-11">æ€»ç»“</h2>
<p>é€šè¿‡æœ¬æ–‡çš„å®æˆ˜æ¼”ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° DevPod ä¸ä»…è§£å†³äº†"å¯åŠ¨éš¾"çš„é—®é¢˜ï¼Œæ›´æ„å»ºäº†ä»ä»£ç åˆ°æœåŠ¡çš„å®Œæ•´é—­ç¯ï¼š</p>
<ul>
<li><strong>ç¯å¢ƒä¸€è‡´æ€§</strong>ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒå®Œå…¨ä¸€è‡´ï¼Œæ¶ˆé™¤"ç¯å¢ƒæ¼‚ç§»"</li>
<li><strong>èµ„æºå¼¹æ€§</strong>ï¼šæŒ‰éœ€åˆ†é… GPU èµ„æºï¼Œå¼€å‘æ—¶ä½é…ï¼Œç”Ÿäº§æ—¶é«˜é…</li>
<li><strong>å·¥ä½œæµé›†æˆ</strong>ï¼šæ— éœ€åœ¨å¤šä¸ªå¹³å°é—´åˆ‡æ¢ï¼Œæ‰€æœ‰æ“ä½œåœ¨ä¸€ä¸ªå·¥ä½œåŒºå®Œæˆ</li>
<li><strong>éƒ¨ç½²é›¶å­¦ä¹ æ›²çº¿</strong>ï¼šæ— éœ€æŒæ¡ K8sã€Dockerfile ç­‰å¤æ‚æ¦‚å¿µï¼Œä¸“æ³¨ä¸šåŠ¡ä»·å€¼</li>
</ul>
<h3 data-id="heading-12"><strong>DevFlow1ï¼šäº‘ç«¯å¼€å‘ä¸éƒ¨ç½²çš„æ— ç¼é—­ç¯</strong></h3>
<p>DevFlow1 æç»˜äº†å¼€å‘è€…åŸºäº DevPod å®ç°çš„é«˜æ•ˆå·¥ä½œæµï¼š</p>
<ol>
<li>å¼€å‘è€…é¦–å…ˆå¯åŠ¨ä¸€ä¸ªé¢„é…ç½®çš„äº‘ç«¯å¼€å‘ç¯å¢ƒâ€”â€”å·²å†…ç½®æ‰€éœ€ä¾èµ–ä¸ GPU èµ„æºï¼Œå¯å³åˆ»è¿›è¡Œä»£ç ç¼–å†™ä¸è°ƒè¯•ã€‚</li>
<li>ä»£ç ä¿®æ”¹å®Œæˆåï¼Œæ— éœ€æ‰‹åŠ¨ç¼–å†™ Dockerfile æˆ–ç®¡ç†æ„å»ºæµç¨‹ï¼Œåªéœ€ä¸€é”®æ“ä½œï¼Œç³»ç»Ÿå³è‡ªåŠ¨å°†å½“å‰å¼€å‘ç¯å¢ƒä¸ä»£ç æ‰“åŒ…ä¸ºæ ‡å‡†åŒ–é•œåƒã€‚</li>
<li>è¯¥é•œåƒå¯ç›´æ¥éƒ¨ç½²ä¸ºç”Ÿäº§çº§æœåŠ¡ï¼Œå¯¹å¤–æä¾› API æ¥å£ã€‚</li>
<li>å½“éœ€è¦è¿­ä»£ä¼˜åŒ–æ—¶ï¼Œå¼€å‘è€…å¯æ— ç¼è¿”å›å¼€å‘ç¯å¢ƒç»§ç»­ä¿®æ”¹ï¼Œå†æ¬¡ä¸€é”®æ„å»ºå¹¶æ›´æ–°çº¿ä¸ŠæœåŠ¡ã€‚
æ•´ä¸ªæµç¨‹å®ç°äº†ä»å¼€å‘ã€è°ƒè¯•åˆ°éƒ¨ç½²ã€è¿­ä»£çš„å…¨é“¾è·¯è‡ªåŠ¨åŒ–ï¼Œå½»åº•å±è”½äº†åŸºç¡€è®¾æ–½çš„å¤æ‚æ€§ï¼Œè®©å¼€å‘è€…çœŸæ­£èšç„¦äºä¸šåŠ¡é€»è¾‘ä¸æ¨¡å‹ä¼˜åŒ–æœ¬èº«ã€‚</li>
</ol>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/132256418/1763706531387-8a00ec44-9a17-4f2a-9586-1c22137d2c00.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-13"><strong>DevFlow2ï¼šé¢å‘å·¥ç¨‹åŒ–çš„å¼€å‘è€…å·¥ä½œæµ</strong></h3>
<p>DevFlow2 é€‚ç”¨äºç†Ÿæ‚‰å®¹å™¨åŒ–ä¸å·¥ç¨‹åŒ–å®è·µçš„å¼€å‘è€…ï¼š</p>
<ol>
<li>å¼€å‘è€…ä»ä»£ç ä»“åº“çš„æŒ‡å®šç¨³å®šç‰ˆæœ¬ï¼ˆCommitï¼‰åˆ‡å…¥ï¼Œå¯åŠ¨ä¸“å±å¼€å‘ç¯å¢ƒï¼Œè¿›è¡Œä»£ç è¿­ä»£ã€ä¾èµ–å®‰è£…åŠé›†æˆæµ‹è¯•ã€‚</li>
<li>ä¸€æ—¦æµ‹è¯•éªŒè¯é€šè¿‡ä¸”ç»“æœç¬¦åˆé¢„æœŸï¼Œå¼€å‘è€…å³å¯ç€æ‰‹å‡†å¤‡éƒ¨ç½²ï¼šæ‰‹åŠ¨ç¼–å†™æˆ–è°ƒæ•´ Dockerfileï¼Œç²¾ç¡®é…ç½®é•œåƒæ„å»ºé€»è¾‘ï¼Œå¹¶æŒ‰éœ€è®¾å®šå‡½æ•°å…¥å£æˆ–æœåŠ¡å‚æ•°ã€‚</li>
<li>éšåï¼Œç³»ç»Ÿä¾æ®è¯¥ Dockerfile é‡å»ºé•œåƒï¼Œå¹¶æ‰§è¡Œç«¯åˆ°ç«¯æµ‹è¯•ï¼Œä»¥ç¡®ä¿ç”Ÿäº§ç¯å¢ƒä¸­çš„è¡Œä¸ºä¸€è‡´æ€§ã€‚</li>
<li>æœ€ç»ˆï¼Œä»£ç ä¸ Dockerfile å˜æ›´ä¸€åŒæäº¤è‡³ Gitï¼Œå®Œæˆä¸€æ¬¡æ ‡å‡†ã€å¯è¿½æº¯ä¸”å¯å¤ç°çš„å‘å¸ƒæµç¨‹ã€‚</li>
</ol>
<p>æ­¤æµç¨‹èµ‹äºˆå¼€å‘è€…å¯¹éƒ¨ç½²ç»†èŠ‚çš„ç²¾ç»†æ§åˆ¶ï¼Œå¥‘åˆè¿½æ±‚å·¥ç¨‹è§„èŒƒä¸é•¿æœŸå¯ç»´æŠ¤æ€§çš„å›¢é˜Ÿéœ€æ±‚ã€‚</p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/132256418/1763706573276-539cdc4e-e953-44e0-823c-8e60ce845a5b.png" alt="" loading="lazy"/></p>
<p>åœ¨é˜¿é‡Œäº‘ FunModel å¹³å°ï¼Œæˆ‘ä»¬æ­£åœ¨è§è¯ AI å¼€å‘èŒƒå¼çš„è½¬å˜ï¼šä»"å…ˆå»ºåŸºç¡€è®¾æ–½ï¼Œå†å¼€å‘æ¨¡å‹"åˆ°"å…ˆéªŒè¯æƒ³æ³•ï¼Œå†æ‰©å±•è§„æ¨¡"ã€‚DevPod ä½œä¸ºè¿™ä¸€å˜é©çš„æ ¸å¿ƒè½½ä½“ï¼Œè®© AI å¼€å‘è€…çœŸæ­£å›å½’åˆ›é€ æœ¬èº«ï¼Œè€Œéè¢«å·¥å…·å’Œç¯å¢ƒæ‰€æŸç¼šã€‚</p>
<h2 data-id="heading-14">äº†è§£å‡½æ•°è®¡ç®—æ¨¡å‹æœåŠ¡ FunModel</h2>
<p>FunModel æ˜¯ä¸€ä¸ªé¢å‘ AI æ¨¡å‹å¼€å‘ã€éƒ¨ç½²ä¸è¿ç»´çš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†å¹³å°ã€‚æ‚¨åªéœ€æä¾›æ¨¡å‹æ–‡ä»¶ï¼ˆä¾‹å¦‚æ¥è‡ª ModelScopeã€Hugging Face ç­‰ç¤¾åŒºçš„æ¨¡å‹ä»“åº“ï¼‰ï¼Œå³å¯åˆ©ç”¨ FunModel çš„è‡ªåŠ¨åŒ–å·¥å…·å¿«é€Ÿå®Œæˆæ¨¡å‹æœåŠ¡çš„å°è£…ä¸éƒ¨ç½²ï¼Œå¹¶è·å¾—å¯ç›´æ¥è°ƒç”¨çš„æ¨ç† APIã€‚å¹³å°åœ¨è®¾è®¡ä¸Šæ—¨åœ¨æå‡èµ„æºä½¿ç”¨æ•ˆç‡å¹¶ç®€åŒ–å¼€å‘éƒ¨ç½²æµç¨‹ã€‚</p>
<p>FunModel ä¾æ‰˜ Serverless + GPUï¼Œå¤©ç„¶æä¾›äº†ç®€å•ï¼Œè½»é‡ï¼Œ0 é—¨æ§›çš„æ¨¡å‹é›†æˆæ–¹æ¡ˆï¼Œç»™ä¸ªäººå¼€å‘è€…è‰¯å¥½çš„ç©è½¬æ¨¡å‹çš„ä½“éªŒï¼Œä¹Ÿè®©ä¼ä¸šçº§å¼€å‘è€…å¿«é€Ÿé«˜æ•ˆçš„éƒ¨ç½²ã€è¿ç»´å’Œè¿­ä»£æ¨¡å‹ã€‚</p>
<p>åœ¨é˜¿é‡Œäº‘ FunModel å¹³å°ï¼Œå¼€å‘è€…å¯ä»¥åšåˆ°ï¼š</p>
<ul>
<li><strong>æ¨¡å‹çš„å¿«é€Ÿéƒ¨ç½²ä¸Šçº¿</strong>ï¼šä»åŸæ¥çš„ä»¥å‘¨ä¸ºå•ä½çš„æ¨¡å‹æ¥å…¥å‘¨æœŸé™ä½åˆ° 5 åˆ†é’Ÿï¼Œ0 å¼€å‘ï¼Œæ— æ’æœŸ</li>
<li><strong>ä¸€é”®æ‰©ç¼©å®¹ï¼Œè®©è¿ç»´ä¸å†æ˜¯è´Ÿæ‹…</strong>ï¼šå¤šç§æ‰©ç¼©å®¹ç­–ç•¥é«˜åº¦é€‚é…ä¸šåŠ¡æµé‡ï¼Œå®ç°â€œæ— ç—›è¿ç»´â€</li>
</ul>
<p><strong>æŠ€æœ¯ä¼˜åŠ¿</strong></p>






























<table><thead><tr><th align="left"><strong>ç‰¹æ€§</strong></th><th align="left"><strong>FunModel å®ç°æœºåˆ¶</strong></th><th align="left"><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td align="left">èµ„æºåˆ©ç”¨ç‡</td><td align="left">é‡‡ç”¨ GPU è™šæ‹ŸåŒ–ä¸èµ„æºæ± åŒ–æŠ€æœ¯ã€‚</td><td align="left">è¯¥è®¾è®¡å…è®¸å¤šä¸ªä»»åŠ¡å…±äº«åº•å±‚ç¡¬ä»¶èµ„æºï¼Œæ—¨åœ¨æé«˜è®¡ç®—èµ„æºçš„æ•´ä½“ä½¿ç”¨æ•ˆç‡ã€‚</td></tr><tr><td align="left">å®ä¾‹å°±ç»ªæ—¶é—´</td><td align="left">åŸºäºå¿«ç…§æŠ€æœ¯çš„çŠ¶æ€æ¢å¤æœºåˆ¶ã€‚</td><td align="left">å®ä¾‹å¯åŠ¨æ—¶ï¼Œå¯é€šè¿‡å¿«ç…§åœ¨æ¯«ç§’çº§åˆ«æ¢å¤è¿è¡ŒçŠ¶æ€ï¼Œä»è€Œå°†å®ä¾‹ä»åˆ›å»ºåˆ°å°±ç»ªçš„æ—¶é—´æ§åˆ¶åœ¨ç§’çº§ã€‚</td></tr><tr><td align="left">å¼¹æ€§æ‰©å®¹å“åº”</td><td align="left">ç»“åˆé¢„çƒ­èµ„æºæ± ä¸å¿«é€Ÿå®ä¾‹æ¢å¤èƒ½åŠ›ã€‚</td><td align="left">å½“è´Ÿè½½å¢åŠ æ—¶ï¼Œç³»ç»Ÿå¯ä»¥ä»é¢„çƒ­èµ„æºæ± ä¸­å¿«é€Ÿè°ƒåº¦å¹¶å¯åŠ¨æ–°å®ä¾‹ï¼Œå®ç°ç§’çº§çš„æ°´å¹³æ‰©å±•å“åº”ã€‚</td></tr><tr><td align="left">è‡ªåŠ¨åŒ–éƒ¨ç½²è€—æ—¶</td><td align="left">æä¾›å¯ä¸€é”®è§¦å‘çš„æ„å»ºä¸éƒ¨ç½²æµç¨‹ã€‚</td><td align="left">ä¸€æ¬¡æ ‡å‡†çš„éƒ¨ç½²æµç¨‹ï¼ˆä»ä»£ç æäº¤åˆ°æœåŠ¡ä¸Šçº¿ï¼‰é€šå¸¸å¯åœ¨10åˆ†é’Ÿå†…å®Œæˆã€‚</td></tr></tbody></table>
<p>è®¿é—®æ¨¡å‹å¹¿åœºï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Ffcnext.console.aliyun.com%2Ffun-model%2Fcn-hangzhou%2Ffun-model%2Fmodel-market" target="_blank" title="https://fcnext.console.aliyun.com/fun-model/cn-hangzhou/fun-model/model-market" ref="nofollow noopener noreferrer">fcnext.console.aliyun.com/fun-model/câ€¦</a>ï¼‰å¿«é€Ÿéƒ¨ç½² DeepSeek-OCRã€‚
<img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/132256418/1763709909669-f29cbe2e-4f06-4e48-b0b5-b425d64e0c39.png" alt="" loading="lazy"/></p>
<h2 data-id="heading-15">æ›´å¤šå†…å®¹è¯·å‚è€ƒ</h2>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Ffunctioncompute%2Ffc%2Fmodel-service-funmodel%2F" target="_blank" title="https://help.aliyun.com/zh/functioncompute/fc/model-service-funmodel/" ref="nofollow noopener noreferrer">æ¨¡å‹æœåŠ¡FunModel äº§å“æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Ffunctioncompute%2Ffc%2Fquick-start" target="_blank" title="https://help.aliyun.com/zh/functioncompute/fc/quick-start" ref="nofollow noopener noreferrer">FunModelå¿«é€Ÿå…¥é—¨</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Ffunctioncompute%2Ffc%2Fcustom-model-deployment" target="_blank" title="https://help.aliyun.com/zh/functioncompute/fc/custom-model-deployment" ref="nofollow noopener noreferrer">FunModel è‡ªå®šä¹‰éƒ¨ç½²</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ffcnext.console.aliyun.com%2Ffun-model%2Fcn-hangzhou%2Ffun-model%2Fmodel-market" target="_blank" title="https://fcnext.console.aliyun.com/fun-model/cn-hangzhou/fun-model/model-market" ref="nofollow noopener noreferrer">FunModel æ¨¡å‹å¹¿åœº</a></li>
</ol>
<h2 data-id="heading-16">é™„å½•</h2>
<p><strong>å®Œæ•´ä»£ç ï¼š</strong></p>
<blockquote>
<p>/workspace/DeepSeek-OCR/DeepSeek-OCR-master/DeepSeek-OCR-vllm/server.py</p>
</blockquote>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> io
<span class="hljs-keyword">import</span> torch
<span class="hljs-keyword">import</span> uvicorn
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image
<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI, HTTPException
<span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Optional</span>, <span class="hljs-type">Dict</span>, <span class="hljs-type">Any</span>, <span class="hljs-type">List</span>
<span class="hljs-keyword">import</span> tempfile
<span class="hljs-keyword">import</span> fitz
<span class="hljs-keyword">from</span> concurrent.futures <span class="hljs-keyword">import</span> ThreadPoolExecutor
<span class="hljs-keyword">import</span> asyncio

<span class="hljs-comment"># Set environment variables</span>
<span class="hljs-keyword">if</span> torch.version.cuda == <span class="hljs-string">'11.8'</span>:
    os.environ[<span class="hljs-string">"TRITON_PTXAS_PATH"</span>] = <span class="hljs-string">"/usr/local/cuda-11.8/bin/ptxas"</span>
os.environ[<span class="hljs-string">'VLLM_USE_V1'</span>] = <span class="hljs-string">'0'</span>
os.environ[<span class="hljs-string">"CUDA_VISIBLE_DEVICES"</span>] = <span class="hljs-string">'0'</span>

<span class="hljs-keyword">from</span> config <span class="hljs-keyword">import</span> MODEL_PATH, CROP_MODE, MAX_CONCURRENCY, NUM_WORKERS
<span class="hljs-keyword">from</span> vllm <span class="hljs-keyword">import</span> LLM, SamplingParams
<span class="hljs-keyword">from</span> vllm.model_executor.models.registry <span class="hljs-keyword">import</span> ModelRegistry
<span class="hljs-keyword">from</span> deepseek_ocr <span class="hljs-keyword">import</span> DeepseekOCRForCausalLM
<span class="hljs-keyword">from</span> process.ngram_norepeat <span class="hljs-keyword">import</span> NoRepeatNGramLogitsProcessor
<span class="hljs-keyword">from</span> process.image_process <span class="hljs-keyword">import</span> DeepseekOCRProcessor

<span class="hljs-comment"># Register model</span>
ModelRegistry.register_model(<span class="hljs-string">"DeepseekOCRForCausalLM"</span>, DeepseekOCRForCausalLM)

<span class="hljs-comment"># Initialize model</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Loading model..."</span>)
llm = LLM(
    model=MODEL_PATH,
    hf_overrides={<span class="hljs-string">"architectures"</span>: [<span class="hljs-string">"DeepseekOCRForCausalLM"</span>]},
    block_size=<span class="hljs-number">256</span>,           <span class="hljs-comment"># Memory block size for KV cache</span>
    enforce_eager=<span class="hljs-literal">False</span>,      <span class="hljs-comment"># Use eager mode for better performance with multimodal models</span>
    trust_remote_code=<span class="hljs-literal">True</span>,   <span class="hljs-comment"># Allow execution of code from remote repositories</span>
    max_model_len=<span class="hljs-number">8192</span>,       <span class="hljs-comment"># Maximum sequence length the model can handle</span>
    swap_space=<span class="hljs-number">0</span>,             <span class="hljs-comment"># No swapping to CPU, keeping everything on GPU</span>
    max_num_seqs=<span class="hljs-built_in">max</span>(MAX_CONCURRENCY, <span class="hljs-number">100</span>),  <span class="hljs-comment"># Maximum number of sequences to process concurrently</span>
    tensor_parallel_size=<span class="hljs-number">1</span>,   <span class="hljs-comment"># Number of GPUs for tensor parallelism (1 = single GPU)</span>
    gpu_memory_utilization=<span class="hljs-number">0.9</span>,  <span class="hljs-comment"># Use 90% of GPU memory for model execution</span>
    disable_mm_preprocessor_cache=<span class="hljs-literal">True</span>  <span class="hljs-comment"># Disable cache for multimodal preprocessor to avoid issues</span>
)

<span class="hljs-comment"># Configure sampling parameters</span>
<span class="hljs-comment"># NoRepeatNGramLogitsProcessor prevents repetition in generated text by tracking n-gram patterns</span>
logits_processors = [NoRepeatNGramLogitsProcessor(ngram_size=<span class="hljs-number">20</span>, window_size=<span class="hljs-number">50</span>, whitelist_token_ids={<span class="hljs-number">128821</span>, <span class="hljs-number">128822</span>})]
sampling_params = SamplingParams(
    temperature=<span class="hljs-number">0.0</span>,                    <span class="hljs-comment"># Deterministic output (greedy decoding)</span>
    max_tokens=<span class="hljs-number">8192</span>,                    <span class="hljs-comment"># Maximum number of tokens to generate</span>
    logits_processors=logits_processors, <span class="hljs-comment"># Apply the processor to avoid repetitive text</span>
    skip_special_tokens=<span class="hljs-literal">False</span>,          <span class="hljs-comment"># Include special tokens in the output</span>
    include_stop_str_in_output=<span class="hljs-literal">True</span>,    <span class="hljs-comment"># Include stop strings in the output</span>
)

<span class="hljs-comment"># Initialize FastAPI app</span>
app = FastAPI(title=<span class="hljs-string">"DeepSeek-OCR API"</span>, version=<span class="hljs-string">"1.0.0"</span>)

<span class="hljs-keyword">class</span> <span class="hljs-title class_">InputData</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    <span class="hljs-string">"""
    Input data model to define what types of documents to process
    images: Optional list of image URLs to process
    pdfs: Optional list of PDF URLs to process
    Note: At least one of these fields must be provided in a request
    """</span>
    images: <span class="hljs-type">Optional</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]] = <span class="hljs-literal">None</span>
    pdfs: <span class="hljs-type">Optional</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]] = <span class="hljs-literal">None</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">RequestData</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    <span class="hljs-string">"""
    Main request model that defines the input data and optional prompt
    """</span>
    <span class="hljs-built_in">input</span>: InputData
    <span class="hljs-comment"># Add prompt as an optional field with a default value</span>
    prompt: <span class="hljs-built_in">str</span> = <span class="hljs-string">'&lt;image&gt;\nFree OCR.'</span> <span class="hljs-comment"># Default prompt</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ResponseData</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    <span class="hljs-string">"""
    Response model that returns OCR results for each input document
    """</span>
    output: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">download_file</span>(<span class="hljs-params">url: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">bytes</span>:
    <span class="hljs-string">"""Download file from URL"""</span>
    <span class="hljs-keyword">try</span>:
        response = requests.get(url, timeout=<span class="hljs-number">30</span>)
        response.raise_for_status()
        <span class="hljs-keyword">return</span> response.content
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">400</span>, detail=<span class="hljs-string">f"Failed to download file from URL: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">is_pdf_file</span>(<span class="hljs-params">content: <span class="hljs-built_in">bytes</span></span>) -&gt; <span class="hljs-built_in">bool</span>:
    <span class="hljs-string">"""Check if the content is a PDF file"""</span>
    <span class="hljs-keyword">return</span> content.startswith(<span class="hljs-string">b'%PDF'</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">load_image_from_bytes</span>(<span class="hljs-params">image_bytes: <span class="hljs-built_in">bytes</span></span>) -&gt; Image.Image:
    <span class="hljs-string">"""Load image from bytes"""</span>
    <span class="hljs-keyword">try</span>:
        image = Image.<span class="hljs-built_in">open</span>(io.BytesIO(image_bytes))
        <span class="hljs-keyword">return</span> image.convert(<span class="hljs-string">'RGB'</span>)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">400</span>, detail=<span class="hljs-string">f"Failed to load image: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">pdf_to_images</span>(<span class="hljs-params">pdf_bytes: <span class="hljs-built_in">bytes</span>, dpi: <span class="hljs-built_in">int</span> = <span class="hljs-number">144</span></span>) -&gt; <span class="hljs-built_in">list</span>:
    <span class="hljs-string">"""Convert PDF to images"""</span>
    <span class="hljs-keyword">try</span>:
        images = []
        pdf_document = fitz.<span class="hljs-built_in">open</span>(stream=pdf_bytes, filetype=<span class="hljs-string">"pdf"</span>)
        zoom = dpi / <span class="hljs-number">72.0</span>
        matrix = fitz.Matrix(zoom, zoom)

        <span class="hljs-keyword">for</span> page_num <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(pdf_document.page_count):
            page = pdf_document[page_num]
            pixmap = page.get_pixmap(matrix=matrix, alpha=<span class="hljs-literal">False</span>)
            img_data = pixmap.tobytes(<span class="hljs-string">"png"</span>)
            img = Image.<span class="hljs-built_in">open</span>(io.BytesIO(img_data))
            images.append(img.convert(<span class="hljs-string">'RGB'</span>))

        pdf_document.close()
        <span class="hljs-keyword">return</span> images
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">400</span>, detail=<span class="hljs-string">f"Failed to convert PDF to images: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">process_single_image_sync</span>(<span class="hljs-params">image: Image.Image, prompt: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">Dict</span>: <span class="hljs-comment"># Renamed and made sync</span>
    <span class="hljs-string">"""Process a single image (synchronous function for CPU-bound work)"""</span>
    <span class="hljs-keyword">try</span>:
        cache_item = {
            <span class="hljs-string">"prompt"</span>: prompt,
            <span class="hljs-string">"multi_modal_data"</span>: {
                <span class="hljs-string">"image"</span>: DeepseekOCRProcessor().tokenize_with_images(
                    images=[image],
                    bos=<span class="hljs-literal">True</span>,
                    eos=<span class="hljs-literal">True</span>,
                    cropping=CROP_MODE
                )
            },
        }
        <span class="hljs-keyword">return</span> cache_item
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">500</span>, detail=<span class="hljs-string">f"Failed to process image: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">process_items_async</span>(<span class="hljs-params">items_urls: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>], is_pdf: <span class="hljs-built_in">bool</span>, prompt: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">tuple</span>[<span class="hljs-type">List</span>[<span class="hljs-type">Dict</span>], <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]:
    <span class="hljs-string">"""
    Process a list of image or PDF URLs asynchronously.
    Downloads files concurrently, then processes images/PDF pages in a thread pool.
    Returns a tuple: (batch_inputs, num_results_per_input)
    """</span>
    loop = asyncio.get_event_loop()

    <span class="hljs-comment"># 1. Download all files concurrently</span>
    download_tasks = [loop.run_in_executor(<span class="hljs-literal">None</span>, download_file, url) <span class="hljs-keyword">for</span> url <span class="hljs-keyword">in</span> items_urls]
    contents = <span class="hljs-keyword">await</span> asyncio.gather(*download_tasks)

    <span class="hljs-comment"># 2. Prepare arguments for processing (determine if PDF/image, count pages)</span>
    processing_args = []
    num_results_per_input = []
    <span class="hljs-keyword">for</span> idx, (url, content) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(<span class="hljs-built_in">zip</span>(items_urls, contents)):
        <span class="hljs-keyword">if</span> is_pdf:
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> is_pdf_file(content):
                 <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">400</span>, detail=<span class="hljs-string">f"Provided file is not a PDF: <span class="hljs-subst">{url}</span>"</span>)
            images = pdf_to_images(content)
            num_pages = <span class="hljs-built_in">len</span>(images)
            num_results_per_input.append(num_pages)
            <span class="hljs-comment"># Each page will be processed separately</span>
            processing_args.extend([(img, prompt) <span class="hljs-keyword">for</span> img <span class="hljs-keyword">in</span> images])
        <span class="hljs-keyword">else</span>: <span class="hljs-comment"># is image</span>
            <span class="hljs-keyword">if</span> is_pdf_file(content):
                <span class="hljs-comment"># Handle case where an image URL accidentally points to a PDF</span>
                images = pdf_to_images(content)
                num_pages = <span class="hljs-built_in">len</span>(images)
                num_results_per_input.append(num_pages)
                processing_args.extend([(img, prompt) <span class="hljs-keyword">for</span> img <span class="hljs-keyword">in</span> images])
            <span class="hljs-keyword">else</span>:
                image = load_image_from_bytes(content)
                num_results_per_input.append(<span class="hljs-number">1</span>)
                processing_args.append((image, prompt))

    <span class="hljs-comment"># 3. Process images/PDF pages in parallel using ThreadPoolExecutor</span>
    <span class="hljs-keyword">with</span> ThreadPoolExecutor(max_workers=NUM_WORKERS) <span class="hljs-keyword">as</span> executor:
        <span class="hljs-comment"># Submit all processing tasks</span>
        process_tasks = [
            loop.run_in_executor(executor, process_single_image_sync, img, prompt)
            <span class="hljs-keyword">for</span> img, prompt <span class="hljs-keyword">in</span> processing_args
        ]
        <span class="hljs-comment"># Wait for all to complete</span>
        processed_results = <span class="hljs-keyword">await</span> asyncio.gather(*process_tasks)

    <span class="hljs-keyword">return</span> processed_results, num_results_per_input

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">run_inference</span>(<span class="hljs-params">batch_inputs: <span class="hljs-type">List</span>[<span class="hljs-type">Dict</span>]</span>) -&gt; <span class="hljs-type">List</span>:
    <span class="hljs-string">"""Run inference on batch inputs"""</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> batch_inputs:
        <span class="hljs-keyword">return</span> []
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># Run inference on the entire batch</span>
        outputs_list = llm.generate(
            batch_inputs,
            sampling_params=sampling_params
        )
        <span class="hljs-keyword">return</span> outputs_list
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">500</span>, detail=<span class="hljs-string">f"Failed to run inference: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)

<span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">"/ocr_batch"</span>, response_model=ResponseData</span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">ocr_batch_inference</span>(<span class="hljs-params">request: RequestData</span>):
    <span class="hljs-string">"""
    Main OCR batch processing endpoint
    Accepts a list of image URLs and/or PDF URLs for OCR processing
    Returns a list of OCR results corresponding to each input document
    Supports both individual image processing and PDF-to-image conversion
    """</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Received request data: <span class="hljs-subst">{request}</span>"</span>)
    <span class="hljs-keyword">try</span>:
        input_data = request.<span class="hljs-built_in">input</span>
        prompt = request.prompt <span class="hljs-comment"># Get the prompt from the request</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> input_data.images <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> input_data.pdfs:
            <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">400</span>, detail=<span class="hljs-string">"Either 'images' or 'pdfs' (or both) must be provided as lists."</span>)

        all_batch_inputs = []
        final_output_parts = []

        <span class="hljs-comment"># Process images if provided</span>
        <span class="hljs-keyword">if</span> input_data.images:
            batch_inputs_images, counts_images = <span class="hljs-keyword">await</span> process_items_async(input_data.images, is_pdf=<span class="hljs-literal">False</span>, prompt=prompt)
            all_batch_inputs.extend(batch_inputs_images)
            final_output_parts.append(counts_images)

        <span class="hljs-comment"># Process PDFs if provided</span>
        <span class="hljs-keyword">if</span> input_data.pdfs:
            batch_inputs_pdfs, counts_pdfs = <span class="hljs-keyword">await</span> process_items_async(input_data.pdfs, is_pdf=<span class="hljs-literal">True</span>, prompt=prompt)
            all_batch_inputs.extend(batch_inputs_pdfs)
            final_output_parts.append(counts_pdfs)

        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> all_batch_inputs:
             <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">400</span>, detail=<span class="hljs-string">"No valid images or PDF pages were processed from the input URLs."</span>)

        <span class="hljs-comment"># Run inference on the combined batch</span>
        outputs_list = <span class="hljs-keyword">await</span> run_inference(all_batch_inputs)

        <span class="hljs-comment"># Reconstruct final output list based on counts</span>
        final_outputs = []
        output_idx = <span class="hljs-number">0</span>
        <span class="hljs-comment"># Flatten the counts list</span>
        all_counts = [count <span class="hljs-keyword">for</span> sublist <span class="hljs-keyword">in</span> final_output_parts <span class="hljs-keyword">for</span> count <span class="hljs-keyword">in</span> sublist]

        <span class="hljs-keyword">for</span> count <span class="hljs-keyword">in</span> all_counts:
            <span class="hljs-comment"># Get 'count' number of outputs for this input</span>
            input_outputs = outputs_list[output_idx : output_idx + count]
            output_texts = []
            <span class="hljs-keyword">for</span> output <span class="hljs-keyword">in</span> input_outputs:
                content = output.outputs[<span class="hljs-number">0</span>].text
                <span class="hljs-keyword">if</span> <span class="hljs-string">'&lt;ï½œendâ–ofâ–sentenceï½œ&gt;'</span> <span class="hljs-keyword">in</span> content:
                    content = content.replace(<span class="hljs-string">'&lt;ï½œendâ–ofâ–sentenceï½œ&gt;'</span>, <span class="hljs-string">''</span>)
                output_texts.append(content)

            <span class="hljs-comment"># Combine pages if it was a multi-page PDF input (or image treated as PDF)</span>
            <span class="hljs-keyword">if</span> count &gt; <span class="hljs-number">1</span>:
                combined_text = <span class="hljs-string">"\n&lt;--- Page Split ---&gt;\n"</span>.join(output_texts)
                final_outputs.append(combined_text)
            <span class="hljs-keyword">else</span>:
                <span class="hljs-comment"># Single image or single-page PDF</span>
                final_outputs.append(output_texts[<span class="hljs-number">0</span>] <span class="hljs-keyword">if</span> output_texts <span class="hljs-keyword">else</span> <span class="hljs-string">""</span>)

            output_idx += count <span class="hljs-comment"># Move to the next set of outputs</span>

        <span class="hljs-keyword">return</span> ResponseData(output=final_outputs)

    <span class="hljs-keyword">except</span> HTTPException:
        <span class="hljs-keyword">raise</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">500</span>, detail=<span class="hljs-string">f"Internal server error: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)


<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/health"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">health_check</span>():
    <span class="hljs-string">"""Health check endpoint"""</span>
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"status"</span>: <span class="hljs-string">"healthy"</span>}

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">root</span>():
    <span class="hljs-string">"""Root endpoint"""</span>
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"message"</span>: <span class="hljs-string">"DeepSeek-OCR API is running (Batch endpoint available at /ocr_batch)"</span>}

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    uvicorn.run(app, host=<span class="hljs-string">"0.0.0.0"</span>, port=<span class="hljs-number">8000</span>, workers=<span class="hljs-number">1</span>)
</code></pre>
<h2 data-id="heading-17"/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘æŠŠè®¾è®¡ç¨¿æ‰”ç»™ Doubao-Seed-Codeï¼Œå®ƒå†™å‡ºçš„å‰ç«¯é¡µé¢è®©æˆ‘æ€€ç–‘äººç”Ÿ]]></title>    <link>https://juejin.cn/post/7575910298283098147</link>    <guid>https://juejin.cn/post/7575910298283098147</guid>    <pubDate>2025-11-24T08:39:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575910298283098147" data-draft-id="7575910298283048995" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘æŠŠè®¾è®¡ç¨¿æ‰”ç»™ Doubao-Seed-Codeï¼Œå®ƒå†™å‡ºçš„å‰ç«¯é¡µé¢è®©æˆ‘æ€€ç–‘äººç”Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-24T08:39:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘å®‰ä¸œå°¼"/> <meta itemprop="url" content="https://juejin.cn/user/1521379823340792"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘æŠŠè®¾è®¡ç¨¿æ‰”ç»™ Doubao-Seed-Codeï¼Œå®ƒå†™å‡ºçš„å‰ç«¯é¡µé¢è®©æˆ‘æ€€ç–‘äººç”Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1521379823340792/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘å®‰ä¸œå°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:39:41.000Z" title="Mon Nov 24 2025 08:39:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7461159993f14a6ba46eee1168757bdb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578381&amp;x-signature=8Rp4NK6ldzIZLBtbvqVo3BNQNzU%3D" alt="" loading="lazy"/></p>
<p>è¿‡å»å‡ å¹´ï¼Œå‰ç«¯å¼€å‘çš„èŠ‚å¥ä¸€ç›´åœ¨æ‚„æ‚„å‘ç”Ÿå˜åŒ–ï¼šä»ã€Œç»„ä»¶å¼€å‘ â†’ ä½ä»£ç  â†’ è®¾è®¡ç¨¿è½¬ä»£ç å·¥å…·ã€ä¸€è·¯å¾€å‰æ¨è¿›ï¼Œä½†å§‹ç»ˆæœ‰ä¸€é“è¿‡ä¸å»çš„åâ€”â€”æ¨¡å‹çœ‹ä¸æ‡‚è®¾è®¡ç¨¿ï¼Œåªèƒ½çœ‹æ‡‚è¯­è¨€ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬ä¾ç„¶è¦é å¼€å‘è€…æ‰‹å·¥ç†è§£ UIã€æ‹†ç»„ä»¶ã€å¯¹é½ç»“æ„ï¼Œç„¶åå†å†™ä»£ç ã€‚</p>
<p>ç›´åˆ°æˆ‘ç¬¬ä¸€æ¬¡æŠŠä¸€å¼  UI è®¾è®¡ç¨¿ä¸¢ç»™ <strong>Doubao-Seed-Code</strong>ã€‚é‚£ç§æ„Ÿè§‰åƒæ˜¯æœ‰äººçªç„¶æŠŠä½ ä»å¯†é—­çš„å·¥åœ°é‡Œæ‹‰å‡ºæ¥è¯´ï¼š</p>
<blockquote>
<p><strong>â€œåˆ«åŸ‹å¤´å†™äº†ï¼Œæˆ‘èƒ½çœ‹å›¾ï¼Œå‰©ä¸‹æˆ‘æ¥ã€‚â€</strong></p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0c87195f63642c580e8d2a1d3b6e67b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578381&amp;x-signature=2cp9iaz4A8OvbvXYVJp4%2FPmCXI0%3D" alt="" loading="lazy"/></p>
<p>è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘æƒ³ä¸ä½ åˆ†äº«çš„ä¸æ˜¯â€œæ¨¡å‹ä¼šå†™ä»£ç â€è¿™ç§æ³›æ³›è€Œè°ˆï¼Œè€Œæ˜¯ä¸€æ¬¡<strong>å®Œå…¨çœŸå®çš„å‰ç«¯å¼€å‘ä½“éªŒ</strong>ï¼š</p>
<p>ğŸ‘‰ æˆ‘æŠŠå®é™…é¡¹ç›®é‡Œçš„ UI å›¾ä¸¢ç»™ Doubao-Seed-Codeï¼Œè®©å®ƒå¸®æˆ‘ç”Ÿæˆé¡µé¢ã€åˆ†æç»“æ„ã€è¡¥é½äº¤äº’ã€ä¿® UI bugã€‚ä½ ä¼šçœ‹åˆ°å®ƒä½œä¸ºâ€œè§†è§‰ç†è§£ç¼–ç æ¨¡å‹â€çš„è¡¨ç°ï¼Œä¸ä¼ ç»Ÿ LLM æœ‰ç€æ ¹æœ¬æ€§çš„å·®å¼‚ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆå‰ç«¯æœ€éœ€è¦è§†è§‰ç†è§£ï¼Ÿ</h2>
<p>å‰ç«¯çš„ç—›ç‚¹ä¸€ç›´å¾ˆé›†ä¸­ï¼š</p>
<ol>
<li>è®¾è®¡ç¨¿ä¸ä»£ç ç»“æ„çš„æ˜ å°„æ˜¯â€œéè¯­è¨€ä»»åŠ¡â€ï¼›</li>
<li>æ ·å¼ bug å¾€å¾€æ˜¯â€œçœ¼ç›èƒ½çœ‹æ‡‚ï¼Œä½†è¯­è¨€éš¾æè¿°â€ï¼›</li>
<li>é¡µé¢å¤åˆ»è¿‡ç¨‹ä¸­ï¼Œâ€œå“ªä¸ªå…ƒç´ åœ¨å“ªã€æ˜¯ flex è¿˜æ˜¯ gridâ€é çš„æ˜¯è§†è§‰åˆ¤æ–­ã€‚</li>
</ol>
<p>ä¼ ç»Ÿä»£ç æ¨¡å‹å†å¼ºï¼Œä¹Ÿæ— æ³•è·¨è¿‡ç¬¬ä¸€æ­¥ï¼š</p>
<blockquote>
<p>å®ƒä»¬å¯ä»¥ç†è§£â€œæ–‡å­—çš„é€»è¾‘â€ï¼Œä½†æ— æ³•ç†è§£â€œå±å¹•ä¸Šå…ƒç´ çš„ç©ºé—´å…³ç³»â€ã€‚</p>
</blockquote>
<p>è¿™å°±æ˜¯ <strong>Doubao-Seed-Code</strong> ä¸ DeepSeekã€GLMã€MiniMax ç­‰ Coding æ¨¡å‹æœ€å¤§çš„å·®å¼‚ï¼š</p>
<p>å®ƒä¸æ˜¯é  MCP è°ƒå›¾ç‰‡ï¼Œä¹Ÿä¸æ˜¯å…ˆæŠŠå›¾ç‰‡è½¬æ–‡å­—â€”â€”å®ƒ<strong>åŸç”Ÿå°±èƒ½çœ‹å›¾ï¼ˆVLMï¼‰</strong> ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ad505bcaf4c4d94b69365198349085a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578381&amp;x-signature=Hu2vEXVKnFJkKR7WPnVlT%2FBa%2Bvw%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-1">äºŒã€ç¬¬ä¸€æ¬¡æŠŠè®¾è®¡ç¨¿ä¸¢ç»™æ¨¡å‹ï¼Œå®ƒç»™å‡ºçš„ç»“æ„è®©æˆ‘æ„£ä½äº†</h2>
<p>æˆ‘æ‹¿äº†ä¸€å¼ å…¬å¸å†…éƒ¨é¡¹ç›®çš„ UI é¡µé¢ï¼ˆæ¨¡æ‹Ÿç‰ˆï¼‰ï¼Œä¸¢ç»™ Doubao-Seed-Codeï¼Œå¹¶ä¸”åªç»™äº†ä¸€ä¸ªæŒ‡ä»¤ï¼š</p>
<blockquote>
<p>â€œè¿™æ˜¯æˆ‘é¡¹ç›®é‡Œçš„ä¸€ä¸ªé¡µé¢ï¼Œè¯·ä½ æ ¹æ®è¿™å¼ å›¾ç”Ÿæˆä¸€ä¸ªä¼˜é›…ã€å¸ƒå±€åˆç†ã€ç»“æ„æ¸…æ™°çš„å‰ç«¯ä»£ç ï¼ˆVue3 + TailwindCSSï¼‰ã€‚èƒ½ä¸èƒ½åšåˆ°æ¥è¿‘è§†è§‰ä¸Šçš„è¿˜åŸï¼Ÿâ€</p>
</blockquote>
<p>æ•´ä¸ªå¯¹è¯æ²¡æœ‰ä»»ä½•é¢å¤–æç¤ºï¼Œæ²¡æœ‰ DOM ç»“æ„ã€æ²¡æœ‰ç»„ä»¶è¯´æ˜ã€‚å®ƒåšçš„ç¬¬ä¸€ä»¶äº‹ä¸æ˜¯å†™ä»£ç ï¼Œè€Œæ˜¯<strong>æ‹† UI ç»“æ„æ ‘ï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acfc58a202b448dba52b61fd9f6ca8d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578381&amp;x-signature=T5EOx58Wl9Gtb1DUDL1%2FYfilMqw%3D" alt="" loading="lazy"/></p>
<p>å®ƒè‡ªåŠ¨è¯†åˆ«äº†ï¼š</p>
<ul>
<li>Header æœ‰å“ç‰Œå + æœç´¢æ </li>
<li>å·¦ä¾§æ˜¯åˆ†ç»„å¯¼èˆª</li>
<li>ä¸­é—´æ˜¯å¡ç‰‡ç½‘æ ¼</li>
<li>æ¯å¼ å¡ç‰‡åŒ…å«æ ‡é¢˜ã€å­é¡¹ã€çŠ¶æ€ç‚¹</li>
<li>å³ä¾§æ“ä½œæ åŒ…å«æŒ‰é’®ä¸æŠ˜å èœå•</li>
</ul>
<p>æˆ‘åœ¨ Claude Code é‡Œçœ‹å®ƒä¸€æ­¥æ­¥è¿˜åŸç»“æ„æ—¶ï¼Œæœ‰ä¸€ç§â€œè¿™æ‰æ˜¯å‰ç«¯è¯¥æœ‰çš„ AIâ€çš„æ„Ÿè§‰ã€‚ä¼ ç»Ÿæ¨¡å‹çš„åšæ³•æ˜¯ççŒœ DOMã€‚å®ƒç¬¬ä¸€æ¬¡æ˜¯â€œçœ‹æ‡‚è®¾è®¡â€ï¼Œç¬¬äºŒæ¬¡æ‰æ˜¯â€œå†™ä»£ç â€ã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€æ¨¡å‹ç”Ÿæˆçš„é¡µé¢ä»£ç ï¼Œæœ‰ç§â€œé«˜çº§æ„Ÿâ€</h2>
<p>è¿™æ˜¯å®ƒæœ€ç»ˆç”Ÿæˆçš„æ ¸å¿ƒç»“æ„ï¼ŒèŠ‚é€‰å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- MainLayout.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex h-screen bg-gray-50"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Sidebar --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">aside</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-64 border-r bg-white p-4"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-lg font-semibold mb-6"</span>&gt;</span>Workspace<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"space-y-3"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex items-center justify-between text-gray-700 cursor-pointer"</span>&gt;</span>
          Dashboard
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-gray-500 hover:text-gray-700 cursor-pointer"</span>&gt;</span>
          Projects
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">aside</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- Content --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">main</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex-1 p-6 overflow-y-auto"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex items-center justify-between mb-6"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-2xl font-semibold"</span>&gt;</span>Overview<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"border p-2 rounded w-64"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Search..."</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>

      <span class="hljs-comment">&lt;!-- Cards Grid --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"grid grid-cols-3 gap-6"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
          <span class="hljs-attr">v-for</span>=<span class="hljs-string">"card in cards"</span>
          <span class="hljs-attr">:key</span>=<span class="hljs-string">"card.id"</span>
          <span class="hljs-attr">class</span>=<span class="hljs-string">"p-4 bg-white rounded-xl shadow-sm hover:shadow transition"</span>
        &gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-lg font-medium mb-4"</span>&gt;</span>{{ card.title }}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"space-y-2"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>
              <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item in card.items"</span>
              <span class="hljs-attr">:key</span>=<span class="hljs-string">"item"</span>
              <span class="hljs-attr">class</span>=<span class="hljs-string">"flex items-center gap-2"</span>
            &gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-2 h-2 rounded-full bg-green-500"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-gray-600"</span>&gt;</span>{{ item }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> cards = [
  { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">"Messages"</span>, <span class="hljs-attr">items</span>: [<span class="hljs-string">"Inbox"</span>, <span class="hljs-string">"Archives"</span>] },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">"Users"</span>, <span class="hljs-attr">items</span>: [<span class="hljs-string">"Active Users"</span>, <span class="hljs-string">"Invitations"</span>] },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">"Settings"</span>, <span class="hljs-attr">items</span>: [<span class="hljs-string">"General"</span>, <span class="hljs-string">"Permissions"</span>] }
];
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>æˆ‘æ³¨æ„åˆ°å‡ ç‚¹ï¼š</p>
<ol>
<li><strong>Tailwind çš„ä½¿ç”¨éå¸¸å¹²å‡€ï¼Œæ²¡æœ‰â€œå †æ ·å¼â€</strong></li>
<li>ç»„ä»¶å¯æ‹†åˆ†ï¼Œè¿™è¯´æ˜å®ƒç†è§£äº†â€œä¿¡æ¯åˆ†åŒºâ€</li>
<li>å¡ç‰‡ hoverã€é˜´å½±ã€ç•™ç™½éƒ½éå¸¸ç°ä»£</li>
<li>å®Œå…¨æŒ‰ç…§ UI å›¾å»å¸ƒå±€ï¼Œè€Œä¸æ˜¯ä¹±ç»“æ„</li>
</ol>
<p>è¯´å¥å®è¯ï¼Œè¿™å·²ç»æ¯”ä¸€äº›å…¥èŒä¸€å¹´çš„å‰ç«¯å†™å¾—æ›´å¥½äº†ã€‚</p>
<hr/>
<h2 data-id="heading-3">å››ã€è§†è§‰ç†è§£çœŸæ­£çš„æ€æ‰‹çº§åœºæ™¯ï¼šä¿® UI bug</h2>
<p>æˆ‘åˆè¯•äº†ä¸€ä»¶äº‹æƒ…ï¼š</p>
<blockquote>
<p>æˆ‘æŠŠä¸€ä¸ªâ€œé”™ä½â€çš„ UI æˆªå›¾å‘è¿‡å»ï¼šå³æ åç§»ã€grid æ–­å±‚ã€å­—ä½“ç²—ç»†ä¸å¯¹ã€‚</p>
</blockquote>
<p>æ¨¡å‹ä¸ä»…æŒ‡å‡ºäº†æ‰€æœ‰è§†è§‰é—®é¢˜ï¼Œè¿˜è‡ªåŠ¨ç»™å‡ºäº†ä¿®å¤åçš„ä»£ç  diffã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46a4c9e84a2d41a989a301125e78fb8d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578381&amp;x-signature=4mWZ3qjAbFUdk4zyCiYKWLNoKtg%3D" alt="" loading="lazy"/></p>
<p>å®ƒä¼šè¯´ï¼š</p>
<ul>
<li>â€œå³ä¾§æ åç§»ï¼Œå› ä¸ºçˆ¶çº§å°‘äº† <code>flex-shrink-0</code>â€</li>
<li>â€œæ ‡é¢˜å±‚çº§æ¯”è®¾è®¡ç¨¿ç²—ï¼Œå¯æ”¹æˆ <code>font-medium</code>â€</li>
<li>â€œgrid ä¸å¯¹é½ï¼Œå› ä¸ºåŒ…è£¹å±‚å°‘äº† <code>gap-x</code> åˆ†éš”â€</li>
<li>â€œæœç´¢æ çš„ padding åœ¨å›¾ä¸­æ›´å¤§ï¼Œå»ºè®®å˜ä¸º px-4 py-2â€</li>
</ul>
<p>æˆ‘ç¬¬ä¸€æ¬¡æ„Ÿå—åˆ°ï¼š</p>
<p><strong>æ¨¡å‹ä¸æ˜¯åœ¨çŒœï¼Œæ˜¯åœ¨çœ‹ã€‚</strong> ä¸æ˜¯ç†è§£è¯­è¨€ï¼Œæ˜¯ç†è§£ç”»é¢â€”â€”å°±åƒä¸€ä¸ªå‰ç«¯é«˜çº§å·¥ç¨‹å¸ˆåè¾¹ä¸Šä¸€æ ·ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d97cf4342e484836b377954b10e73f12~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578381&amp;x-signature=iaoaG00T0%2FDSBVA8BqKz3mZuSlI%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-4">äº”ã€åŠ¨æ‰‹ï¼šä½ å¯ä»¥åœ¨ 5 åˆ†é’Ÿå†…å¤ç°æ•´ä¸ªä½“éªŒ</h2>
<p>è¿™éƒ¨åˆ†æˆ‘ä¼šç»™å‡ºæœ€å°å¯å¤ç°æ­¥éª¤ï¼Œè®©ä½ é©¬ä¸Šè¯•èµ·æ¥ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2762dacb308b4dc8bdd38507e9d8a5a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578381&amp;x-signature=xRut%2BR4Mn6yC4mmeQsq5bgG8E6c%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">1ï¼‰å‡†å¤‡ Claude Codeï¼ˆæ¨èï¼‰</h3>
<p>åœ¨ç»ˆç«¯æ·»åŠ ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">export <span class="hljs-attr">ANTHROPIC_BASE_URL</span>=https://ark.cn-beijing.volces.com/api/compatible
export <span class="hljs-attr">ANTHROPIC_AUTH_TOKEN</span>=&lt;ä½ çš„APIKey&gt;
export <span class="hljs-attr">ANTHROPIC_MODEL</span>=doubao-seed-code-preview-latest
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18bb332ee89348a4b5ff45c7d0598575~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578381&amp;x-signature=2rmK5qC4J03ne722wxOlU9oPEOc%3D" alt="" loading="lazy"/></p>
<p>æˆ–è€…é…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"api_key"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"xxxxxxx"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"api_url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://ark.cn-beijing.volces.com/api/compatible"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"doubao-seed-code-preview-latest"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-6">2ï¼‰è®©æ¨¡å‹çœ‹ UI å›¾ï¼ˆæ ¸å¿ƒæ­¥éª¤ï¼‰</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3b37345b02c4dbfa2351b539149316d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578381&amp;x-signature=eNQOoMO955QcA5SkYvNgCDUuH38%3D" alt="" loading="lazy"/></p>
<p>å°†ä»»æ„ UI å›¾æ‹–å…¥ Claude Codeï¼Œè¾“å…¥ï¼š</p>
<pre><code class="hljs">è¯·ä½ ç†è§£è¿™å¼ è®¾è®¡ç¨¿ï¼Œè¾“å‡ºå…¶å¸ƒå±€ç»“æ„æ ‘ï¼Œå¹¶ç”¨ Vue3 + TailwindCSS å®ç°é¡µé¢ã€‚è¦æ±‚ç°ä»£ã€ç¾è§‚ã€ç•™ç™½åˆç†ã€æ˜“æ‰©å±•ã€‚
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5e67abf6eaa411fb039f66115313ec8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578381&amp;x-signature=32Oy6hrQF5RiTuO9mqQxr1Z%2BPmY%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-7">3ï¼‰è®©æ¨¡å‹å¸®ä½ ä¿® UI bug</h3>
<p>æŠŠå¼‚å¸¸æˆªå›¾ä¸Šä¼ ï¼Œè¾“å…¥ï¼š</p>
<pre><code class="hljs">å¸®æˆ‘æ‰¾å‡ºæ­¤é¡µé¢ä¸è®¾è®¡ç¨¿çš„å·®å¼‚ï¼Œå¹¶æä¾› CSS/Tailwind çš„ä¿®å¤å»ºè®®ï¼ŒæŒ‰ diff æ–¹å¼è¾“å‡ºã€‚
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/afd4345380524c22b460719ab798a1a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578381&amp;x-signature=k%2FYO8Xnvh8xhXW5xj6vDdvLUVHs%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">4ï¼‰æ‰©å±•æ¡ˆä¾‹ï¼šè§†è§‰ + äº¤äº’ååŒ</h3>
<p>ä½ å¯ä»¥ç»§ç»­è®©å®ƒï¼š</p>
<pre><code class="hljs">ç»™è¿™ä¸ªé¡µé¢åŠ å…¥å³ä¾§è®¾ç½®æŠ½å±‰ï¼Œé€»è¾‘æ˜¯ç‚¹å‡»å¡ç‰‡å³ä¸Šè§’çš„æŒ‰é’®å±•å¼€ã€‚è¯·åŒæ—¶ç»™å‡ºç»„ä»¶æ‹†åˆ†å»ºè®®ã€‚
</code></pre>
<p>æ¨¡å‹ä¼šè‡ªåŠ¨ç”Ÿæˆï¼š</p>
<ul>
<li>drawer ç»„ä»¶</li>
<li>composables é€»è¾‘</li>
<li>åŠ¨ç”»</li>
<li>äº‹ä»¶ç»‘å®š</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b3b7b1896df49b290da270e12526275~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578381&amp;x-signature=Pw4yuxWQrjURImQogjuoxQgOmqk%3D" alt="" loading="lazy"/></p>
<p>è¿™å±•ç¤ºäº†å®ƒåœ¨å‰ç«¯å·¥ç¨‹åŒ–èƒ½åŠ›ä¸Šçš„â€œAgenticâ€å€¾å‘ã€‚</p>
<hr/>
<h2 data-id="heading-9">å…­ã€å¦‚æœè¦ç”¨ä¸€å¥è¯å½¢å®¹ Doubao-Seed-Code çš„è§†è§‰èƒ½åŠ›â€¦â€¦</h2>
<p>æˆ‘ä¼šè¯´ï¼šå®ƒæ˜¯ç¬¬ä¸€ä¸ªçœŸæ­£èƒ½â€œçœ‹æ‡‚è®¾è®¡ç¨¿â€çš„ç¼–ç¨‹æ¨¡å‹ï¼Œè€Œä¸æ˜¯æŠŠâ€œå›¾è½¬æ–‡å­—åå†å†™ä»£ç â€çš„è¯­è¨€æ¨¡å‹ã€‚</p>
<p>å®ƒèƒ½ç†è§£å¸ƒå±€ã€è§†è§‰å±‚çº§ã€é—´è·ã€å¯¹é½ã€ä¿¡æ¯æ¨¡å—ï¼Œè¿™äº›èƒ½åŠ›ä¸æ˜¯è¯­è¨€æ¨¡å‹çš„å»¶ä¼¸ï¼Œè€Œæ˜¯<strong>å‰ç«¯å·¥ç¨‹è®¤çŸ¥çš„å»¶ä¼¸</strong>ã€‚</p>
<p>åœ¨å‰ç«¯è¿™ä¸ªé«˜åº¦ä¾èµ–â€œè§†è§‰â†’ç»“æ„â†’ä»£ç æ˜ å°„â€çš„é¢†åŸŸï¼ŒVLM æ˜¯ä¸€ä¸ªè´¨çš„æ”¹å˜ã€‚</p>
<hr/>
<h2 data-id="heading-10">ä¸ƒã€æ¨¡å‹å¹¶ä¸æ˜¯æ¥æ›¿ä»£å‰ç«¯ï¼Œè€Œæ˜¯é‡å¡‘å‰ç«¯</h2>
<p>å‰ç«¯çœŸæ­£çš„ç“¶é¢ˆä¸æ˜¯â€œå†™ä»£ç â€ï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li>ç†è§£é¡µé¢ç»“æ„</li>
<li>å¤åˆ»è®¾è®¡ç¨¿</li>
<li>åœ¨è„‘ä¸­æ„å»ºå¸ƒå±€</li>
<li>è°ƒæ ·å¼</li>
<li>ä¿®è‚‰çœ¼å¯è§ä½†è¯­è¨€éš¾æè¿°çš„ç»†èŠ‚</li>
</ul>
<p>å½“æ¨¡å‹èƒ½å¤Ÿç†è§£è§†è§‰ï¼Œå®ƒå¼€å§‹æ‰¿æ‹…èµ·â€œç»“æ„ç†è§£â€è¿™ä¸€æœ€éš¾çš„éƒ¨åˆ†ï¼Œè€Œå¼€å‘è€…å¯ä»¥æŠŠæ›´å¤šæ—¶é—´æ”¾åœ¨ï¼š</p>
<ul>
<li>äº¤äº’è®¾è®¡</li>
<li>åŠ¨ç”»ä½“éªŒ</li>
<li>ä¿¡æ¯æ¶æ„</li>
<li>ä¸šåŠ¡é€»è¾‘</li>
<li>å…¨é“¾è·¯æ€§èƒ½</li>
</ul>
<p>å¦‚æœè¯´å‰ç«¯æ›¾ç»è¢«ç§°ä¸ºâ€œè¿˜åŸåº¦å·¥ç¨‹å¸ˆâ€ï¼Œé‚£ä¹ˆè§†è§‰ç†è§£æ¨¡å‹ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.volcengine.com%2Fdocs%2F82379%2F1949118%3Futm_source%3Dchatgpt.com" target="_blank" title="https://www.volcengine.com/docs/82379/1949118?utm_source=chatgpt.com" ref="nofollow noopener noreferrer">ä¼ é€é—¨</a>ï¼‰å°±æ˜¯ä»æ ¹ä¸Šæ”¹å˜è¿™ä¸ªç§°å‘¼çš„å·¥å…·ã€‚</p>
<p><strong>å‰ç«¯ä¸æ˜¯è¢«æ›¿ä»£ï¼Œè€Œæ˜¯è¢«å‡çº§ã€‚</strong> å¦‚æœä½ ä¹Ÿåœ¨æ¢ç´¢â€œAI å‚ä¸å‰ç«¯å·¥ç¨‹æµç¨‹â€ï¼Œæ¬¢è¿ç•™è¨€äº¤æµã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI åŸç”Ÿåº”ç”¨å¼€å‘å®æˆ˜è¥Â·æ·±åœ³ç«™ç²¾å½©å›é¡¾ & PPT ä¸‹è½½]]></title>    <link>https://juejin.cn/post/7575810396203237410</link>    <guid>https://juejin.cn/post/7575810396203237410</guid>    <pubDate>2025-11-24T08:40:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575810396203237410" data-draft-id="7575488180981202944" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI åŸç”Ÿåº”ç”¨å¼€å‘å®æˆ˜è¥Â·æ·±åœ³ç«™ç²¾å½©å›é¡¾ &amp; PPT ä¸‹è½½"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2025-11-24T08:40:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI åŸç”Ÿåº”ç”¨å¼€å‘å®æˆ˜è¥Â·æ·±åœ³ç«™ç²¾å½©å›é¡¾ &amp; PPT ä¸‹è½½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:40:01.000Z" title="Mon Nov 24 2025 08:40:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šç›ˆæ¥¹</p>
<p>è¿‘æ—¥ï¼Œé˜¿é‡Œäº‘ AI åŸç”Ÿåº”ç”¨å¼€å‘å®æˆ˜è¥ Â· æ·±åœ³ç«™åœ†æ»¡è½å¹•ã€‚ç»§åŒ—äº¬ã€ä¸Šæµ·ã€æ­å·ã€æˆéƒ½ç­‰åŸå¸‚ä¹‹åï¼Œæœ¬åœºæ´»åŠ¨å¸å¼•äº† 130+ åæŠ€æœ¯ä»ä¸šè€…æ·±åº¦å‚ä¸ã€‚</p>
<p>æ´»åŠ¨èšç„¦ AI Agent é¢†åŸŸçš„å‰æ²¿æŠ€æœ¯ä¸è½åœ°å®è·µï¼Œæ·±åº¦åˆ†äº«Â AI åŸç”Ÿåº”ç”¨æ¶æ„è¶‹åŠ¿ä¸å®è·µã€AI åº”ç”¨æ‰˜ç®¡ã€AI å¼€æ”¾å¹³å°ã€å¤§æ¨¡å‹å¯è§‚æµ‹&amp;AIOpsã€å¼‚æ­¥åŒ–çš„ Agent äº‹ä»¶é©±åŠ¨ç­‰çƒ­é—¨æŠ€æœ¯è®®é¢˜ï¼Œå¹¶è®¾ç½®äº†åŠ¨æ‰‹å®æ“ç¯èŠ‚ã€‚</p>
<p>å…³æ³¨ã€Œé˜¿é‡Œäº‘äº‘åŸç”Ÿã€å…¬ä¼—å·ï¼Œåå°å›å¤ï¼š1118</p>
<p>å…è´¹è·å¾—æ·±åœ³ç«™è®²å¸ˆ PPT åˆè¾‘</p>
<h2 data-id="heading-0">ç²¾å½©å›é¡¾</h2>
<h3 data-id="heading-1">è®®é¢˜ä¸€ï¼šçº¿ä¸‹è§£è¯»ï½œä¸‹è½½é‡ç ´ä¸‡çš„ã€ŠAI åŸç”Ÿåº”ç”¨æ¶æ„ç™½çš®ä¹¦ã€‹ä¸¨ç‹æ™¨(æœ›å®¸)é˜¿é‡Œäº‘æ™ºèƒ½äº‘åŸç”Ÿé«˜çº§æŠ€æœ¯è¿è¥ä¸“å®¶</h3>
<p>æ·±åº¦åˆ†äº«äº† AI äº‘åŸç”Ÿåº”ç”¨æ¶æ„æ–°èŒƒå¼ï¼Œå·²ä»æ•°å­—åŒ–èŒƒå¼æ¼”è¿›ä¸ºæ™ºèƒ½åŒ–èŒƒå¼ï¼ŒåŸºäºæ¨¡å‹ã€Agent é©±åŠ¨ï¼Œä»¥æ•°æ®ä¸ºä¸­å¿ƒï¼Œæ•´åˆå·¥å…·é“¾ï¼Œå½¢æˆ AI åŸç”Ÿåº”ç”¨æ¶æ„ã€‚AI åŸç”Ÿåº”ç”¨å°†å…·å¤‡æ„è¯†ã€è‡ªä¸»æ€§ã€ç¡®å®šæ€§ã€ä¸€è‡´æ€§ã€‚ä¼ä¸šå¯ä»¥æ‰¾åˆ°æ ¸å¿ƒææ•ˆåœºæ™¯ï¼Œé€šè¿‡ AI åŸç”Ÿåº”ç”¨æ¶æ„ï¼Œæ„å»ºé«˜è´¨é‡æ•°æ®å£å’ï¼Œå€ŸåŠ©å¤§æ¨¡å‹å¤§åŠ¿å¿«é€Ÿè¿­ä»£ï¼ŒåŒæ—¶ï¼Œè®©æ•°æ®å¯æ²‰æ·€ï¼Œè¡Œä¸šæ•°æ®å¯æ¼”è¿›ï¼Œè¯„ä¼°æ•°æ®å¯é‡åŒ–ï¼Œåé¦ˆæ•°æ®å¯æŒç»­ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/77e989518eea4ba9822bead5b7f27775~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578401&amp;x-signature=OWW6kkVn0O3%2BN4uOHrypQM1Y6xw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-2">è®®é¢˜äºŒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aliyun.com%2Fproduct%2Fsae%3Fspm%3Da1z389.11499242.0.0.65452413U9Fuje%26utm_content%3Dg_1000408147" target="_blank" title="https://www.aliyun.com/product/sae?spm=a1z389.11499242.0.0.65452413U9Fuje&amp;utm_content=g_1000408147" ref="nofollow noopener noreferrer">Serverless åº”ç”¨å¼•æ“ï¼ˆSAEï¼‰</a>ï¼šä¸ºä¼ ç»Ÿåº”ç”¨æ‰˜åº•ï¼Œä¸ºAIåˆ›æ–°åŠ é€Ÿä¸¨æˆ˜ç«‹é£(ä¸Šæ˜€)é˜¿é‡Œäº‘æ™ºèƒ½äº‘åŸç”Ÿäº§å“ä¸“å®¶</h3>
<p>é˜¿é‡Œäº‘ SAE æ˜¯é¢å‘ AI æ—¶ä»£çš„ä¸€ç«™å¼å®¹å™¨åŒ–åº”ç”¨æ‰˜ç®¡å¹³å°ï¼Œä»¥â€œæ‰˜åº•ä¼ ç»Ÿåº”ç”¨ã€åŠ é€Ÿ AI åˆ›æ–°â€ä¸ºæ ¸å¿ƒç†å¿µã€‚å®ƒç®€åŒ–è¿ç»´ã€ä¿éšœç¨³å®šã€é™ä½ 75% æˆæœ¬ï¼Œå¹¶é€šè¿‡ AI æ™ºèƒ½åŠ©æ‰‹æå‡è¿ç»´æ•ˆç‡ã€‚é¢å‘ AIï¼ŒSAE é›†æˆ Dify ç­‰ä¸»æµæ¡†æ¶ï¼Œæ”¯æŒä¸€é”®éƒ¨ç½²ä¸å¼¹æ€§ä¼¸ç¼©ï¼Œåœ¨ Dify åœºæ™¯ä¸­å®ç°æ€§èƒ½æå‡ 50 å€ã€æˆæœ¬ä¼˜åŒ– 30% ä»¥ä¸Šã€‚å‡­å€Ÿå…«å¹´æŠ€æœ¯æ²‰æ·€ï¼ŒSAE å…¥é€‰ 2025 å¹´ Gartner äº‘åŸç”Ÿé­”åŠ›è±¡é™å…¨çƒé¢†å¯¼è€…ï¼Œäºšæ´²ç¬¬ä¸€ï¼ŒåŠ©åŠ›ä¼ä¸šé›¶èŠ‚ç‚¹ç®¡ç†ã€ä¸“æ³¨ä¸šåŠ¡åˆ›æ–°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9eae22d65594e97bc72646af8fae8ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578401&amp;x-signature=zp2vtTQNr6hCGnQx06xCrCYNVCg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-3">è®®é¢˜ä¸‰ï¼šHiMarket åŠ©åŠ›ä¼ä¸šæ„å»ºç§æœ‰çš„ MCP ä¸ Agent å¸‚åœºä¸¨æé¢œè‰¯(å­¤å¼‹)é˜¿é‡Œäº‘æ™ºèƒ½é«˜çº§æŠ€æœ¯ä¸“å®¶</h3>
<p>HiMarketAI å¼€æ”¾å¹³å°è‡´åŠ›äºä¸ºä¼ä¸šæä¾›è½åœ° AI åº”ç”¨çš„æœ€çŸ­è·¯å¾„ï¼Œæ‰“é€ ç»Ÿä¸€çš„ AI å…¥å£ä¸å®‰å…¨ç›‘ç®¡ä½“ç³»ï¼Œæ”¯æŒ API è´§å¸åŒ–å’Œä¼ä¸šçº§æ¥å…¥ç®¡ç†ã€‚å¹³å°æ„å»ºäº†æ¶µç›– Modelã€Agentã€MCP åŠ Prompt çš„åˆ›æ–°ç”Ÿæ€ï¼Œæä¾›å¤šè¯­è¨€ SDK ä¸å¯è§†åŒ–è§‚æµ‹èƒ½åŠ›ï¼ŒåŠ©åŠ›ä¼ä¸šå¿«é€ŸéªŒè¯å¹¶èåˆ AI åœºæ™¯ã€‚åŒæ—¶æ”¯æŒå¼€æºã€ç§æœ‰åŒ–éƒ¨ç½²ä¸ç¤¾åŒºåä½œï¼Œæ¨åŠ¨å¯æŒç»­æ¼”è¿›çš„ AI å¼€æ”¾ç”Ÿæ€å»ºè®¾ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4964a742258140a68b965c01da39bd64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578401&amp;x-signature=8SX8B2MBYxIHcoRUFXle%2B%2FCGFFg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-4">è®®é¢˜å››ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aliyun.com%2Fproduct%2Faliware%2Feventbridge%3Fspm%3Da1z389.11499242.0.0.65452413wzAYCf%26utm_content%3Dg_1000408154" target="_blank" title="https://www.aliyun.com/product/aliware/eventbridge?spm=a1z389.11499242.0.0.65452413wzAYCf&amp;utm_content=g_1000408154" ref="nofollow noopener noreferrer">EventBridge</a> for AI ETLï¼šäº‹ä»¶é©±åŠ¨é‡å¡‘ AI åº”ç”¨æ•°æ®å…¨é“¾è·¯ä¸¨é™ˆæ¶›(è‚¯æ¢¦)é˜¿é‡Œäº‘æ™ºèƒ½äº‘åŸç”Ÿäº§å“ä¸“å®¶</h3>
<p>èšç„¦ AI æ—¶ä»£ä¸‹çš„æ•°æ®å…¨é“¾è·¯å¤„ç†ï¼Œæå‡ºä»¥äº‹ä»¶é©±åŠ¨æ¶æ„ï¼ˆEDAï¼‰é‡å¡‘æ•°æ®é›†æˆæµç¨‹ã€‚é€šè¿‡é˜¿é‡Œäº‘ EventBridge å®ç°å¤šæºæ•°æ®çš„é‡‡é›†ã€è¿‡æ»¤ä¸æŠ•é€’ï¼Œç»“åˆç™¾ç‚¼å¹³å°çš„ LLM ä¸ Agent èƒ½åŠ›ï¼Œå®ç°æ™ºèƒ½åŒ– ETLï¼Œæ¶µç›–æ•°æ®æ¸…æ´—ã€æ ‡å‡†åŒ–ã€å‘é‡å…¥åº“ä¸åˆè§„ä¿æŠ¤ç­‰åœºæ™¯ã€‚æ–¹æ¡ˆæ”¯æŒ RAG æ„å»ºã€æ•°æ®å¯Œé›†ç­‰å…³é”®å®è·µï¼Œæ‰“é€ é«˜æ•ˆã€ç¨³å®šã€å¯æ‰©å±•çš„ AI åŸç”Ÿæ•°æ®é“¾è·¯ï¼ŒåŠ©åŠ›ä¼ä¸šåº”å¯¹ç”Ÿæˆå¼ AI å¸¦æ¥çš„å¤æ‚æ•°æ®æŒ‘æˆ˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47ea4ce85bd640b6ab7f03bf1bcfbff2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578401&amp;x-signature=LnczJLmz6PLggJ%2Fb%2B3IsMj4Exns%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-5">è®®é¢˜äº”ï¼šå¯è§ã€å¯ç®¡ã€å¯æ§ï¼šé˜¿é‡Œäº‘ AI åº”ç”¨å¯è§‚æµ‹èƒ½åŠ›å»ºè®¾ä¸¨å®‹æ˜å¼º(é¸£æº¯)é˜¿é‡Œäº‘æ™ºèƒ½äº‘åŸç”Ÿå¯è§‚æµ‹è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆ</h3>
<p>AIÂ åŸç”Ÿåº”ç”¨æ¶æ„ä»ç ”å‘åˆ°ç”Ÿäº§è½åœ°ï¼Œé¢ä¸´è¯¸å¤šæ–°çš„æŒ‘æˆ˜ã€‚é’ˆå¯¹å¤§æ¨¡å‹åº”ç”¨æ€§èƒ½ä¸ç¨³å®šæ€§ã€æˆæœ¬ç®¡ç†ã€å®‰å…¨è¯„ä¼°ç­‰ä¼ä¸šçº§è¿ç»´ç—›ç‚¹ï¼ŒåŸºäº å…¨æ–°é˜¿é‡Œäº‘äº‘ç›‘æ§ 2.0 æ‰“é€ çš„å¤§æ¨¡å‹å¯è§‚æµ‹ï¼Œæå‡ºæ„å»º AI åŸç”Ÿåº”ç”¨çš„å…¨æ ˆæ™ºèƒ½è¿ç»´æ–°èŒƒå¼ï¼Œå¹¶èµ‹èƒ½ AI åº”ç”¨å…¨æ ˆå¯è§‚æµ‹ã€‚é˜¿é‡Œäº‘â€œäº‘ç›‘æ§ 2.0â€é€šè¿‡ç»Ÿä¸€æ•°æ®æ¨¡å‹ï¼ˆUModelï¼‰æ•´åˆæ—¥å¿—ã€æŒ‡æ ‡ã€é“¾è·¯ä¸äº‹ä»¶ï¼Œæ”¯æŒ Difyã€Langchainã€vLLM ç­‰ä¸»æµæ¡†æ¶ï¼Œç™½å±åŒ–é›†æˆç™¾ç‚¼ã€PAI-EASã€MSE AI ç½‘å…³ç­‰äº‘äº§å“é“¾è·¯å’ŒæŒ‡æ ‡ï¼Œå…¼å®¹ OpenTelemetry æ ‡å‡†å¢å¼º LLM ç‰¹æœ‰è¯­ä¹‰ï¼Œå®ç° AI å…¨æ ˆç»Ÿä¸€ç›‘æ§ã€æ¨¡å‹è°ƒç”¨å…¨é“¾è·¯è¯Šæ–­ã€æ¨¡å‹ç”Ÿæˆç»“æœè¯„ä¼°ç­‰å¤šé¡¹æ ¸å¿ƒèƒ½åŠ›ã€‚å¹³å°æ”¯ NL2SQL/NL2PromQL è‡ªç„¶è¯­è¨€æŸ¥è¯¢ä¸å¤šæ™ºèƒ½ä½“ååŒè¯Šæ–­ï¼ˆAgentic AIï¼‰ï¼Œæå‡æ ¹å› åˆ†æä¸æ•…éšœå®šä½æ•ˆç‡ï¼ŒåŠ©åŠ›ä¼ä¸šåº”å¯¹ AI åº”ç”¨çš„å¤æ‚è¿ç»´æŒ‘æˆ˜ã€‚</p>
<p>2025 AI åŸç”Ÿç¼–ç¨‹æŒ‘æˆ˜èµ›èšç„¦ AIOps æ•…éšœå®šä½é¢†åŸŸï¼Œæ¬¢è¿é€‰æ‰‹æ‰“é€ æ™ºèƒ½è¿ç»´Agentï¼Œè®©å¤©ä¸‹æ²¡æœ‰éš¾æŸ¥çš„æ•…éšœã€‚ç°åœºè®²å¸ˆè¯¦ç»†ä»‹ç»äº†èµ›é¢˜ã€è§£é¢˜æ€è·¯ï¼Œå¹¶å¸¦é¢†ç”¨æˆ·ç°åœºåŠ¨æ‰‹å®æ“ï¼Œäº’åŠ¨äº¤æµçƒ­çƒˆã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1dc8616f9d7f40659abc58ce3cbe006e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578401&amp;x-signature=JGELS2jnswstCLoPPQ8putFGz4w%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc23120764784a9f89dccf1dd50b40ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578401&amp;x-signature=eBIJFlKRhNc47IP9Yk2RdH7A0Ds%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e8bf5fd8577461586db0be785589e0f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578401&amp;x-signature=WWJUvebeltDh3KA%2FpFUwtNObQlY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-6">ç°åœºç²¾å½©ç¬é—´</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/604c056861aa426e9dbe57bd606e4637~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578401&amp;x-signature=e6mqVVm9qtwf8q8p27qnwnCNOaM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bdb2bd10eccf4f688eb30173794a6456~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578401&amp;x-signature=QIOo8SvDV1CGE9wYivoAMBT2riM%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/50e608254d844e3a9cd7cb05959a1936~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578401&amp;x-signature=Kig7Cu9g9w34x51J42FYZMLEsic%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5dbd17086536443781f4a872e41abddc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578401&amp;x-signature=B9NWDrSROZIx90IkvNGld%2BYDESg%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/52c99930a4d84a5b8fa353d641c47c98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578401&amp;x-signature=BXd7oMgemIMic9iWq3qjYTNPnFs%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜¿é‡Œäº‘Â ElasticsearchÂ çš„Â AIÂ é©æ–°ï¼šé«˜æ€§èƒ½ã€ä½æˆæœ¬ã€æ™ºèƒ½åŒ–çš„æœç´¢æ–°çºªå…ƒ]]></title>    <link>https://juejin.cn/post/7576175307352309775</link>    <guid>https://juejin.cn/post/7576175307352309775</guid>    <pubDate>2025-11-24T08:38:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576175307352309775" data-draft-id="7574978545143857187" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜¿é‡Œäº‘Â ElasticsearchÂ çš„Â AIÂ é©æ–°ï¼šé«˜æ€§èƒ½ã€ä½æˆæœ¬ã€æ™ºèƒ½åŒ–çš„æœç´¢æ–°çºªå…ƒ"/> <meta itemprop="keywords" content="æœç´¢å¼•æ“,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-24T08:38:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜¿é‡Œäº‘Â ElasticsearchÂ çš„Â AIÂ é©æ–°ï¼šé«˜æ€§èƒ½ã€ä½æˆæœ¬ã€æ™ºèƒ½åŒ–çš„æœç´¢æ–°çºªå…ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:38:43.000Z" title="Mon Nov 24 2025 08:38:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æ•°æ®çˆ†ç‚¸ã€å¤šæ¨¡æ€èåˆã€å®æ—¶æ™ºèƒ½æ¨ç†çš„æµªæ½®ï¼Œæ­£åœ¨é‡å¡‘ä¼ä¸šçš„æœç´¢éœ€æ±‚â€”â€”å®ƒä»¬éœ€è¦çš„ä¸ä»…æ˜¯â€œæ‰¾åˆ°ä¿¡æ¯â€ï¼Œè¿˜è¦æ›´å¿«ã€æ›´å‡†ã€æ›´æ™ºèƒ½åœ°ç†è§£å’Œå“åº”å¤æ‚çš„ä¸šåŠ¡åœºæ™¯ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€AIÂ æœç´¢çš„èƒŒæ™¯ä¸è¶‹åŠ¿</h2>
<p>åœ¨Â AIGCÂ æŠ€æœ¯å¸­å·å…¨çƒçš„å½“ä¸‹ï¼Œæœç´¢æŠ€æœ¯æ­£è¿æ¥å‰æ‰€æœªæœ‰çš„å‡çº§çª—å£ã€‚ç”µå•†å¹³å°é€šè¿‡å¤šæ¨¡æ€æœç´¢ç²¾å‡†ç†è§£ç”¨æˆ·éœ€æ±‚ï¼Œé…’æ—…è¡Œä¸šå€ŸåŠ›æ™ºèƒ½ä½“Â AgentÂ è¿›è¡Œè¡Œç¨‹è§„åˆ’ä¸ä½å®¿æ¨èï¼Œä¼ ç»Ÿä¼ä¸šåˆ™åˆ©ç”¨ç‹¬æœ‰çŸ¥è¯†åº“å’ŒÂ RAGÂ æŠ€æœ¯èµ‹èƒ½å”®å‰å”®åæœåŠ¡â€”â€”<strong>æœç´¢èƒ½åŠ›çš„æ™ºèƒ½åŒ–å‡çº§</strong>å·²å‘ˆç°ç™¾èŠ±é½æ”¾ä¹‹åŠ¿ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ada9c9615ff14f27983117ffa31ff1fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578322&amp;x-signature=la8LCKMMi5dhJZkCydh66pXZ1do%3D" alt="image.png" loading="lazy"/>
ç„¶è€Œï¼Œç¹è£èƒŒåæŒ‘æˆ˜æ¥è¸µè€Œè‡³ï¼šéç»“æ„åŒ–ã€å¤šæ¨¡æ€æ•°æ®çš„è¯­ä¹‰ç†è§£éš¾åº¦é™¡å¢ï¼ŒAIGCÂ æ—¶ä»£æ•°æ®é‡çˆ†ç‚¸å¼å¢é•¿ï¼Œç°æœ‰ä¸šåŠ¡ä¸Â AIÂ è¯­ä¹‰æœç´¢çš„æœ‰æœºèåˆå›°éš¾é‡é‡ï¼ŒåŸºäºÂ AgentÂ çš„æœç´¢è°ƒç”¨å‘ˆæŒ‡æ•°çº§å¢é•¿ï¼Œå¤æ‚ä¸“ä¸šæœç´¢ç³»ç»Ÿä¸Â AIÂ æœç´¢çš„ç»“åˆæ›´æ˜¯å……æ»¡æŠ€æœ¯æŒ‘æˆ˜ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f51658ef48014e0797a2556403ec6331~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578322&amp;x-signature=b6OYXSMr99aIQ4qte%2B7V2h6wIaI%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">äºŒã€é˜¿é‡Œäº‘Â ElasticsearchÂ çš„å…¨æ–°è¿›åŒ–</h2>
<p>é¢å¯¹è¿™äº›æŒ‘æˆ˜ï¼Œé˜¿é‡Œäº‘Â ElasticsearchÂ åœ¨è¿‡å»å‡ ä¸ªæœˆé‡Œå®Œæˆäº†ä¸€ç³»åˆ—é‡è¦æ›´æ–°ï¼Œä»<strong>æ€§èƒ½ã€æˆæœ¬ã€æ•ˆæœ</strong>åˆ°<strong>ä¸šåŠ¡å®è·µ</strong>ï¼Œå±•ç°äº†å…¨æ–°çš„äº§å“è¿›åŒ–ï¼Œå…·ä½“æ¶æ„å¦‚ä¸‹ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66ccad27e31d44e4a9466ca18bf69ef3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578322&amp;x-signature=zGI6OXAnAxcljBNJ1ID6MpZ%2BcD4%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-2">æ€§èƒ½çªç ´ï¼šé˜¿é‡Œäº‘Â ElasticsearchÂ å¼•æ“çš„å…¨é¢å‡çº§</h4>
<p>ä¸ºåº”å¯¹Â AgentÂ å’ŒÂ RAGÂ å¯¹é«˜å¹¶å‘å’Œä½å»¶è¿Ÿçš„ä¸¥è‹›è¦æ±‚ï¼Œé˜¿é‡Œäº‘Â ElasticsearchÂ åœ¨Â 100%Â å…¼å®¹å¼€æºÂ ESÂ çš„åŸºç¡€ä¸Šï¼Œå¯¹åº•å±‚å¼•æ“è¿›è¡Œäº†æ·±åº¦å®šåˆ¶å’Œä¼˜åŒ–ï¼Œå°†åœ¨åç»­è¿­ä»£ä¸­æ¨å‡ºæ–°ç‰ˆÂ <strong>NativeÂ ESï¼š</strong></p>
<ul>
<li><strong>å¼ºåŒ–æœç´¢ä¸å†™å…¥æ€§èƒ½ï¼š</strong>Â NativeÂ ESÂ å†…æ ¸å¯¹çº¿ç¨‹æ± ã€ç†”æ–­ç­–ç•¥ç­‰è¿›è¡Œäº†ç²¾ç»†è°ƒä¼˜ï¼Œæä¾›äº†æ›´å¼ºå¤§çš„å†™å…¥å¼¹æ€§å’Œæ›´ç¨³å®šçš„ååèƒ½åŠ›ï¼Œå¤§å¹…æå‡äº†æ—¥å¿—åˆ†æã€æ—¶åºæ•°æ®ç­‰é«˜å¹¶å‘åœºæ™¯çš„æ•ˆç‡ã€‚</li>
<li><strong>QoSÂ æœåŠ¡è´¨é‡ä¿éšœï¼š</strong>Â å†…æ ¸çº§çš„Â QoSÂ é™æµæœºåˆ¶ï¼Œç¡®ä¿åœ¨å¤§æŸ¥è¯¢æˆ–é›†ç¾¤è¿‡è½½æ—¶ï¼Œå…³é”®ä¸šåŠ¡å’Œç´¢å¼•çš„ç¨³å®šæ€§ä¸ä¼šå—åˆ°å½±å“ï¼Œæ˜¯ä¼ä¸šçº§åº”ç”¨ä¸å¯æˆ–ç¼ºçš„åŸºçŸ³ã€‚</li>
<li><strong>æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–ï¼š</strong>Â é€šè¿‡æ—¶åºæŸ¥è¯¢å‰ªæã€ç´¢å¼•ç»“æ„ä¼˜åŒ–ç­‰è‡ªç ”æŠ€æœ¯ï¼Œå¤§å¹…æå‡äº†å¤æ‚èšåˆåˆ†æå’Œæ—¶åºæŸ¥è¯¢çš„é€Ÿåº¦ï¼Œæœ‰æ•ˆä¿éšœäº†é«˜é˜¶æ£€ç´¢åœºæ™¯çš„æ€§èƒ½ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aeaf86cf0609431f8f2d8fb79efc9111~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578322&amp;x-signature=Hwx86VvCJIL5iMP7EW5cLz2U1TY%3D" alt="image.png" loading="lazy"/></li>
</ul>
<h4 data-id="heading-3">æˆæœ¬ä¼˜åŒ–ï¼šå­˜ç®—åˆ†ç¦»æ¶æ„çš„é©å‘½æ€§çªç ´</h4>
<p>é˜¿é‡Œäº‘Â ElasticsearchÂ çš„Â <strong>OpenStoreÂ æ™ºèƒ½æ··åˆå­˜å‚¨</strong>Â åŸºäºÂ å­˜ç®—åˆ†ç¦»æ¶æ„ï¼Œè®©ç”¨æˆ·æ— éœ€æå‰è§„åˆ’æˆ–è´­ä¹°é›†ç¾¤å­˜å‚¨ç©ºé—´ï¼ŒæŒ‰å®é™…æ•°æ®é‡Â <strong>æŒ‰é‡è®¡è´¹</strong>ï¼Œå­˜å‚¨å•ä»·ç›¸æ¯”äº‘ç›˜Â é™ä½çº¦Â <strong>70</strong>%ï¼Œæ˜¾è‘—é™ä½é›†ç¾¤å­˜å‚¨æˆæœ¬ã€‚</p>
<ol>
<li><strong>è¿™ä¸€æ¶æ„çªç ´äº†ä¼ ç»Ÿå†·çƒ­åˆ†ç¦»çš„é™åˆ¶ï¼š</strong></li>
</ol>
<ul>
<li>è‡ªåŠ¨æ ¹æ®æŸ¥è¯¢é¢‘ç‡è¿›è¡Œæ™ºèƒ½åˆ†å±‚ï¼Œæ— éœ€é…ç½®ç´¢å¼•ç”Ÿå‘½å‘¨æœŸã€‚</li>
<li>å¤šå‰¯æœ¬å…±äº«ä¸€ä»½æ•°æ®ï¼Œä¸å¢åŠ é¢å¤–å­˜å‚¨æˆæœ¬ï¼Œæ•°æ®é«˜å¯ç”¨æ€§é«˜è¾¾Â 12Â ä¸ªÂ 9ã€‚</li>
</ul>
<ol start="2">
<li><strong>åœ¨è®¡ç®—èµ„æºæ–¹é¢ï¼ŒIndexingÂ ServiceÂ æä¾›Â è¶…è¿‡Â 10Â å€çš„å†™å…¥å¼¹æ€§èƒ½åŠ›ï¼Œè½»æ¾åº”å¯¹å†™å…¥æµé‡æ³¢åŠ¨å’Œé«˜å³°ç“¶é¢ˆï¼š</strong></li>
</ol>
<ul>
<li>å†™å…¥<strong>æŒ‰å®é™…æµé‡è®¡è´¹</strong>ï¼Œæ— éœ€æŒ‰å³°å€¼é¢„ç•™èµ„æºï¼Œé¿å…ä½å³°é—²ç½®ã€‚</li>
<li>é«˜å†™å…¥åœºæ™¯ä¸‹ï¼Œé›†ç¾¤è®¡ç®—æˆæœ¬å¯<strong>é™ä½Â 50%</strong> ä»¥ä¸Šã€‚</li>
</ul>
<ol start="3">
<li><strong>åœ¨å‘é‡æ£€ç´¢é¢†åŸŸï¼Œé˜¿é‡Œäº‘Â ESÂ å¼•å…¥Â äºŒè¿›åˆ¶é‡åŒ–æŠ€æœ¯ï¼ˆBBQï¼‰ï¼š</strong></li>
</ol>
<ul>
<li>å°†æµ®ç‚¹å‘é‡è½¬æ¢ä¸ºé«˜å‹ç¼©çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œ<strong>å†…å­˜å ç”¨å‡å°‘çº¦Â 95%</strong>ï¼ˆç›¸å½“äºÂ <strong>32Â å€å‹ç¼©</strong>ï¼‰ï¼Œä¿æŒé«˜è´¨é‡å¬å›ã€‚</li>
<li>æŸ¥è¯¢æ€§èƒ½æå‡Â <strong>2~5</strong>Â å€ã€‚</li>
</ul>
<p>äºŒè¿›åˆ¶é‡åŒ–æŠ€æœ¯ï¼ˆBBQï¼‰è¿™é¡¹æŠ€æœ¯åœ¨ElasticsearchÂ 8.16Â ä¸­ä½œä¸ºæŠ€æœ¯é¢„è§ˆç‰ˆå‘å¸ƒï¼Œé˜¿é‡Œäº‘Â 8.17Â ç‰ˆæœ¬å·²ç»æ”¯æŒï¼Œç‰¹åˆ«é€‚ç”¨äºå¤„ç†å¤§è§„æ¨¡å‘é‡æ•°æ®çš„åœºæ™¯ï¼Œå·²åœ¨é‡‘å±±æ–‡æ¡£ç­‰å¤šå®¶å¤´éƒ¨å®¢æˆ·åœºæ™¯ä¸­å‘æŒ¥ä»·å€¼ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0cac54561ee448cbfb3609de908819e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578322&amp;x-signature=i3qRwQYckGjF49iJZQeQtRl%2F4VU%3D" alt="image.png" loading="lazy"/></p>
<p>é€šè¿‡æœ¬æ¬¡å‡çº§ï¼Œä¸ä»…ä½¿å…¶è¦†ç›–äº†æ›´å¹¿æ³›çš„ä¸šåŠ¡åº”ç”¨åœºæ™¯ï¼Œè¿˜æ˜¾è‘—é™ä½äº†é«˜æ€§èƒ½æ£€ç´¢çš„é—¨æ§›ï¼Œä¸ºÂ AIÂ æœç´¢ã€å®æ—¶åˆ†æç­‰åœºæ™¯æä¾›äº†åšå®çš„æ€§èƒ½ä¸æˆæœ¬ä¼˜åŠ¿ã€‚</p>
<h4 data-id="heading-4">æ•ˆæœæå‡ï¼šAIÂ è¯­ä¹‰ä¸å¤šæ¨¡æ€æœç´¢çš„æ·±åº¦èåˆ</h4>
<p>æ™ºèƒ½åŒ–æ˜¯å½“å‰Â AIÂ æœç´¢çš„æ ¸å¿ƒç«äº‰åŠ›ã€‚ElasticÂ æ”¶è´­Â Jina.aiÂ æ˜¯ä»Šå¹´ä¸‹åŠå¹´æœç´¢è¡Œä¸šçš„é‡å¤§äº‹ä»¶ä¹‹ä¸€ï¼Œå®ƒä¸ºæ•´ä¸ªÂ ESÂ ç”Ÿæ€æ³¨å…¥äº†å¼ºå¤§çš„Â AIÂ åŸç”Ÿèƒ½åŠ›ã€‚å¯¹äºé˜¿é‡Œäº‘Â ElasticsearchÂ è€Œè¨€ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å°†èƒ½å¤Ÿæä¾›<strong>æ›´å¼ºã€æ›´å…¨é¢çš„æ¨¡å‹çŸ©é˜µ</strong>ï¼Œé©±åŠ¨æœç´¢æ•ˆæœçš„è¿›ä¸€æ­¥æå‡ï¼š</p>
<ul>
<li><strong>å¤šè¯­è¨€æ¨¡å‹å¢å¼ºï¼š</strong>Â Jina.aiÂ åœ¨å¤šè¯­è¨€Â EmbeddingÂ æ¨¡å‹ä¸Šçš„ä¼˜åŠ¿ï¼Œå°†ç›´æ¥æå‡Â ElasticsearchÂ åœ¨å…¨çƒåŒ–å’Œå¤šè¯­ç§çŸ¥è¯†åº“ä¸­çš„è¯­ä¹‰å¬å›ç²¾åº¦ã€‚</li>
<li><strong>é«˜æ€§èƒ½Â SparseÂ ç¨€ç–æ¨¡å‹ï¼š</strong>Â ç¨€ç–è¡¨ç¤ºï¼ˆSparseÂ Modelï¼‰ç»“åˆç¨ å¯†å‘é‡ï¼ˆDenseÂ Vectorï¼‰ï¼Œèƒ½å¤ŸåŒæ—¶å…¼é¡¾å…³é”®è¯çš„ç²¾å‡†åŒ¹é…å’Œå¤æ‚è¯­ä¹‰çš„ç†è§£ï¼Œæå¤§åœ°å¢å¼ºäº†æ··åˆæ£€ç´¢ï¼ˆHybridÂ Searchï¼‰çš„å¬å›ç‡ã€‚</li>
<li><strong>å¤šæ¨¡æ€æœç´¢èƒ½åŠ›ï¼š</strong>Â ç»“åˆå‰æ²¿çš„å¤šæ¨¡æ€æ¨¡å‹ï¼Œé˜¿é‡Œäº‘Â ElasticsearchÂ å°†èƒ½åŸç”Ÿæ”¯æŒâ€œå›¾æ–‡äº’æœâ€ã€â€œå¤æ‚è¯­ä¹‰ç†è§£â€ç­‰æ›´å¤æ‚çš„Â RAGÂ æˆ–Â AgentÂ åœºæ™¯ï¼Œè®©çŸ¥è¯†æ£€ç´¢ä¸å†å±€é™äºæ–‡æœ¬ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/029b108d151b40328c3dccf26b674b1f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578322&amp;x-signature=osbOmrA3QcD8V4jx2iKiRprlfiI%3D" alt="image.png" loading="lazy"/></li>
</ul>
<p>æ›´è¿›ä¸€æ­¥ï¼Œé˜¿é‡Œäº‘Â ESÂ åŸºäºÂ **Qwenï¼ˆé€šä¹‰åƒé—®ï¼‰**å¤§æ¨¡å‹ç³»åˆ—ï¼Œé€šè¿‡Â AIÂ æœç´¢å¼€æ”¾å¹³å°æä¾›äº†å¼ºå¤§çš„é€šç”¨æ¨¡å‹èƒ½åŠ›å’Œçµæ´»çš„å®šåˆ¶åŒ–èƒ½åŠ›ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡Â InferenceÂ APIÂ ç­‰æœºåˆ¶ï¼Œå°†è¿™äº›é¢†å…ˆçš„Â Embeddingã€RerankÂ å’ŒÂ LLMÂ æœåŠ¡ç›´æ¥é›†æˆåˆ°Â ESÂ è¯»å†™æµç¨‹ä¸­ï¼Œæ— éœ€å…³æ³¨å¤æ‚çš„æ¨¡å‹éƒ¨ç½²ï¼Œå³å¯å®ç°æœ€é«˜çº§åˆ«çš„Â AIÂ æœç´¢æ™ºèƒ½åŒ–ã€‚</p>
<h4 data-id="heading-5">ä¸šåŠ¡å®è·µï¼šè¡Œä¸šæ ‡æ†åœºæ™¯çš„æŠ€æœ¯æ²‰æ·€</h4>
<ul>
<li>
<p><strong>åœºæ™¯åŒ–é…ç½®æ¨¡æ¿ï¼š</strong>
é’ˆå¯¹ä¸åŒä¸šåŠ¡åœºæ™¯ï¼Œé˜¿é‡Œäº‘Â ElasticsearchÂ æä¾›Â é»˜è®¤<strong>åœºæ™¯åŒ–é…ç½®æ¨¡æ¿åŠŸèƒ½</strong>â€”â€”æ‰€æœ‰å‚æ•°å‡åŸºäºå¤šå¹´ç”Ÿäº§å®è·µä¼˜åŒ–ï¼Œèƒ½å¤Ÿä¸€é”®åº”ç”¨åˆ°é›†ç¾¤ã€‚ç”¨æˆ·å¯æ ¹æ®éœ€æ±‚é€‰æ‹©æœ€ä¼˜åœºæ™¯æ¨¡æ¿ï¼Œä»è€Œæå‡è¯»å†™æ€§èƒ½ï¼Œå¹¶é¿å…å› é…ç½®ä¸å½“å¯¼è‡´çš„é›†ç¾¤æ€§èƒ½ä¸‹é™ã€‚</p>
</li>
<li>
<p><strong>æ·±åº¦æœç´¢ä¸æ™ºèƒ½æ•´åˆï¼š</strong>
åœ¨å…¨æ–°çš„Â <strong>DeepSearchÂ /Â DeepÂ Research</strong>Â æŠ€æœ¯æ¢ç´¢ä¸­ï¼Œé˜¿é‡Œäº‘Â ElasticsearchÂ æ­£ä¸æ–­çªç ´ï¼Œå°†å¤æ‚çš„ä¸“ä¸šæœç´¢ç³»ç»Ÿä¸Â AIÂ æœç´¢èƒ½åŠ›æ·±åº¦èåˆï¼Œé¢å‘å„è¡Œä¸šæä¾›æ›´æ™ºèƒ½ã€æ›´ç²¾å‡†çš„æœç´¢ä½“éªŒã€‚</p>
</li>
<li>
<p><strong>å…¨é¢å‡çº§ï¼Œè¿æ¥Â AIÂ æ—¶ä»£ï¼š</strong>
é€šè¿‡Â <strong>æ€§èƒ½ã€æˆæœ¬ã€æ•ˆæœ</strong>Â ä¸‰å¤§ç»´åº¦çš„æŒç»­å‡çº§ï¼Œé˜¿é‡Œäº‘Â ElasticsearchÂ åœ¨é¢å¯¹æ•°æ®çˆ†å‘å¼å¢é•¿å’Œå¤šæ¨¡æ€æ•°æ®å¤æ‚åˆ†æéœ€æ±‚æ—¶ï¼Œæä¾›æˆç†Ÿã€ç¨³å®šã€å¯æ‰©å±•çš„æœç´¢è§£å†³æ–¹æ¡ˆï¼ŒåŠ©åŠ›å„è¡Œä¸šå®¢æˆ·è¿æ¥Â AIÂ æ—¶ä»£çš„æœç´¢æŒ‘æˆ˜ã€‚</p>
</li>
</ul>
<p>åœ¨ä¸ä¸šç•Œæ ‡æ†å®¢æˆ·çš„æ·±åº¦åˆä½œä¸­ï¼Œé˜¿é‡Œäº‘Â ElasticsearchÂ å½¢æˆäº†è¦†ç›–å¤šè¡Œä¸šçš„æˆç†ŸæŠ€æœ¯å®è·µã€‚æ— è®ºæ˜¯Â ç”µå•†å¹³å°çš„å•†å“æœç´¢ä¸æ¨èã€é‡‘èè¡Œä¸šçš„é£é™©æ§åˆ¶ä¸åˆ†æï¼Œè¿˜æ˜¯å…¶ä»–è¡Œä¸šæœç´¢æ–¹æ¡ˆè½åœ°ï¼Œé˜¿é‡Œäº‘Â ElasticsearchÂ éƒ½èƒ½æä¾›é’ˆå¯¹æ€§ã€å¯è½åœ°çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-6">ä¸‰ã€ç»“å°¾</h2>
<p>é˜¿é‡Œäº‘Â ElasticsearchÂ æ‰“é€šäº†Â äº‘åŸç”Ÿå†…æ ¸ä¼˜åŒ–ã€RAGÂ é—­ç¯æ–¹æ¡ˆã€äº‘åŸç”Ÿæ¨ç†å¹³å°Â ä¸‰å¤§èƒ½åŠ›æ¨¡å—ï¼Œå®ç°äº†ä»åº•å±‚åˆ°åº”ç”¨çš„å…¨é“¾è·¯å‡çº§ã€‚æ­¤æ¬¡å‡çº§ä¸ä»…æ˜¯å¼•æ“æ€§èƒ½çš„æå‡ï¼Œæ›´æ˜¯é¢å‘Â AIÂ åŸç”Ÿæ—¶ä»£Â çš„ç³»ç»ŸåŒ–èƒ½åŠ›é‡æ„ã€‚æœªæ¥ï¼Œé˜¿é‡Œäº‘Â ElasticsearchÂ å°†æŒç»­æ·±åŒ–åœ¨ä»¥ä¸‹æ–¹å‘çš„æ¢ç´¢ä¸æ¼”è¿›ï¼š</p>
<ul>
<li><strong>æ›´é«˜æ•ˆçš„å†…æ ¸æŠ€æœ¯ï¼š</strong>Â æŒç»­ä¼˜åŒ–è‡ªç ”å¼•æ“ä¸æ··åˆç®—åŠ›æ¶æ„ï¼Œå‘æŒ¥Â GPUã€å‘é‡åŒ–ã€ç¨€ç–æ¨¡å‹çš„æ½œèƒ½ï¼Œæå‡æ£€ç´¢ä¸å†™å…¥çš„æè‡´æ€§èƒ½â€”â€”Â å­˜ç®—åˆ†ç¦»ã€AIÂ åŸç”Ÿå¼•æ“ä¸å¤§æ¨¡å‹èåˆçš„è·¯å¾„æ­£åœ¨é‡å¡‘æœç´¢åŸºç¡€è®¾æ–½ã€‚</li>
<li><strong>æœç´¢æ™ºèƒ½åŒ–æ¼”è¿›ï¼š</strong>Â è®©æœç´¢çœŸæ­£ç†è§£è¯­ä¹‰ä¸æ„å›¾ï¼Œä»å…³é”®è¯åŒ¹é…èµ°å‘æ™ºèƒ½Agenté©±åŠ¨çš„å¯¹è¯å¼ã€ç”Ÿæˆå¼æœç´¢â€”â€”æœç´¢ä¸å†åªæ˜¯ä¿¡æ¯æ£€ç´¢ï¼Œè€Œæ˜¯æ™ºèƒ½è®¤çŸ¥çš„å…¥å£ã€‚</li>
</ul>
<p>æ–°æ¶æ„è®©æœç´¢å¼•æ“ä»Â <strong>è¢«åŠ¨çš„ä¿¡æ¯æ£€ç´¢å·¥å…·</strong>Â è·¨è¶Šä¸ºÂ <strong>é¢å‘å¤æ‚ä»»åŠ¡çš„ä¸»åŠ¨æ™ºèƒ½è§£å†³æ–¹æ¡ˆ</strong>ï¼Œèƒ½å¤Ÿåœ¨å¤šæ¨¡æ€ã€é«˜ç²¾åº¦ã€ä½å»¶è¿Ÿçš„æ™ºèƒ½æ£€ç´¢åœºæ™¯ä¸­ï¼Œä¸ºä¼ä¸šæ„å»ºçœŸæ­£çš„Â æœªæ¥æœç´¢ä¸­æ¢ã€‚</p>
<p><strong>â€œæœªæ¥ï¼Œè¯·ä¸é˜¿é‡Œäº‘ä¸€èµ·ï¼Œæ‹¥æŠ±Â AIÂ åŸç”Ÿæœç´¢æ—¶ä»£â€”â€”è®©æœç´¢ä¸æ­¢äºæœç´¢ï¼Œè®©æ™ºèƒ½é©±åŠ¨ä¸šåŠ¡å¢é•¿â€</strong>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3cdc320fede84563abbe6a9b53c6f95f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578322&amp;x-signature=O4rBTh7pmzda%2BR2YMfJNFSOkJ9o%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨ AI Sheets è§£é”å›¾åƒçš„åŠ›é‡]]></title>    <link>https://juejin.cn/post/7576086446459338787</link>    <guid>https://juejin.cn/post/7576086446459338787</guid>    <pubDate>2025-11-24T08:47:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576086446459338787" data-draft-id="7574715577701892138" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨ AI Sheets è§£é”å›¾åƒçš„åŠ›é‡"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-24T08:47:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="HuggingFace"/> <meta itemprop="url" content="https://juejin.cn/user/611789528634712"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨ AI Sheets è§£é”å›¾åƒçš„åŠ›é‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/611789528634712/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    HuggingFace
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:47:41.000Z" title="Mon Nov 24 2025 08:47:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ğŸ§­<strong>ç®€è¦æ¦‚è§ˆ</strong>ï¼šHugging Face AI Sheets æ˜¯ä¸€æ¬¾å¼€æºå·¥å…·ï¼Œèƒ½å¤Ÿ<strong>ç”¨ AI æ¨¡å‹å¢å¼ºæ•°æ®é›†çš„å¤„ç†èƒ½åŠ›</strong>ï¼Œæ— éœ€ç¼–å†™ä»»ä½•ä»£ç ã€‚<strong>ç°åœ¨æ–°å¢è§†è§‰åŠŸèƒ½</strong>ï¼šå¯ä»¥ä»å›¾åƒ (å¦‚æ”¶æ®ã€æ–‡æ¡£) ä¸­æå–æ•°æ®ã€æ ¹æ®æ–‡æœ¬ç”Ÿæˆå›¾åƒã€ç”šè‡³ç¼–è¾‘å›¾ç‰‡â€”â€”ä¸€åˆ‡éƒ½èƒ½åœ¨ç”µå­è¡¨æ ¼ä¸­å®Œæˆã€‚ä¾æ‰˜ Inference Providersï¼Œå¯è°ƒç”¨æ•°åƒä¸ªå¼€æ”¾æ¨¡å‹ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bb0051cf4eb4363a1f7f156f07a6baf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSHVnZ2luZ0ZhY2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578861&amp;x-signature=inFX9Jora495SwlNRrNGF%2FUJckA%3D" alt="ç”¨ AI Sheets åˆ†æå›¾åƒ" loading="lazy"/></p>
<p>æˆ‘ä»¬éå¸¸é«˜å…´åœ°å‘å¸ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fhuggingface%2Faisheets" target="_blank" title="https://github.com/huggingface/aisheets" ref="nofollow noopener noreferrer">Hugging Face AI Sheets</a> çš„é‡å¤§æ›´æ–°ç‰ˆâ€”â€”è¿™æ˜¯ä¸€æ¬¾å¯é€šè¿‡å¼€æ”¾ AI æ¨¡å‹æ„å»ºã€è½¬æ¢ä¸ä¸°å¯Œæ•°æ®çš„å¼€æºå·¥å…·ã€‚AI Sheets åŸºäº <a href="https://link.juejin.cn?target=https%3A%2F%2Fhf.co%2Fdocs%2Finference-providers%2Findex" target="_blank" title="https://hf.co/docs/inference-providers/index" ref="nofollow noopener noreferrer">Inference Providers</a> è¿è¡Œï¼Œæ„å‘³ç€ä½ å¯ä»¥ä½¿ç”¨ç”±å…¨çƒé¡¶çº§æ¨ç†æœåŠ¡é©±åŠ¨çš„æ•°åƒç§å¼€æ”¾æ¨¡å‹ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fhf.co%2Fblog%2Faisheets" target="_blank" title="https://hf.co/blog/aisheets" ref="nofollow noopener noreferrer">AI Sheets çš„é¦–ä¸ªç‰ˆæœ¬</a> è®©ç»“æ„åŒ–å’Œå¢å¼ºæ–‡æœ¬å†…å®¹å˜å¾—è½»è€Œæ˜“ä¸¾ã€‚<strong>ç°åœ¨ï¼Œæˆ‘ä»¬ä¸ºå®ƒåŠ å…¥äº†è§†è§‰åŠŸèƒ½ã€‚</strong></p>
<p>å›¾åƒæ— å¤„ä¸åœ¨â€”â€”å•†å“ç…§ç‰‡ã€æ”¶æ®ã€æˆªå›¾ã€å›¾è¡¨ã€å¾½æ ‡â€¦â€¦è¿™äº›å›¾ç‰‡ä¸­è•´å«ç€ä¸°å¯Œçš„ç»“æ„åŒ–ä¿¡æ¯ï¼Œç­‰å¾…è¢«æå–ã€åˆ†æä¸è½¬æ¢ã€‚ç°åœ¨ï¼Œä½ ç»ˆäºå¯ä»¥åœ¨ AI Sheets ä¸­ç›´æ¥å¤„ç†å›¾åƒå†…å®¹ï¼šæŸ¥çœ‹å›¾ç‰‡ã€åˆ†æå†…å®¹ã€æå–æ•°æ®ã€ç”Ÿæˆæ–°å›¾åƒï¼Œç”šè‡³å®æ—¶ç¼–è¾‘â€”â€”å…¨éƒ¨åœ¨åŒä¸€æµç¨‹ä¸­å®Œæˆã€‚</p>
<h2 data-id="heading-0">ä½ çš„å›¾ç‰‡è—ç€æ•…äº‹</h2>
<p>å›¾ç‰‡å¾€å¾€åŒ…å«å®è´µçš„ä¿¡æ¯â€”â€”äº§å“ç›®å½•ã€å®¢æˆ·æ”¯æŒå•ã€ç ”ç©¶æ¡£æ¡ˆã€æ”¶æ®ã€æ–‡æ¡£ç­‰ã€‚ç°åœ¨ä½ å¯ä»¥ç›´æ¥ä¸Šä¼ å›¾ç‰‡ï¼Œæˆ–ä½¿ç”¨å¸¦å›¾åƒçš„æ•°æ®é›†ï¼Œå†å€ŸåŠ©è§†è§‰æ¨¡å‹æå–ã€åˆ†æå¹¶ç»“æ„åŒ–è¿™äº›å†…å®¹ã€‚</p>
<p><strong>ä½ å¯ä»¥åšåˆ°ï¼š</strong></p>
<ul>
<li><strong>æè¿°ä¸åˆ†ç±»å›¾åƒ</strong> â€”â€” ä¸ºäº§å“ç…§ç‰‡ç”Ÿæˆæ–‡å­—æè¿°ï¼Œè¯†åˆ«æ–‡æ¡£ç±»å‹ï¼Œæˆ–æ ¹æ®å†…å®¹è‡ªåŠ¨æ‰“æ ‡ç­¾</li>
<li><strong>æå–ç»“æ„åŒ–æ•°æ®</strong> â€”â€” ä»æ”¶æ®ä¸­æå–æ˜ç»†ï¼Œä»å›¾è¡¨ä¸­æå–æ•°æ®ï¼Œä»æ‰«æä»¶ä¸­è¯†åˆ«æ–‡æœ¬</li>
<li><strong>æ·»åŠ ä¸Šä¸‹æ–‡ä¸å…ƒæ•°æ®</strong> â€”â€” è‡ªåŠ¨ä¸ºå›¾ç‰‡æ·»åŠ ç›¸å…³å±æ€§ã€è´¨é‡è¯„åˆ†æˆ–è‡ªå®šä¹‰æ ‡æ³¨</li>
</ul>
<p>ä¸æ–‡æœ¬åˆ—ä¸€æ ·ï¼Œä½ å¯ä»¥åå¤è°ƒæ•´æç¤ºè¯ã€æ‰‹åŠ¨ä¿®æ”¹ç»“æœï¼Œå¹¶ç”¨â€œç‚¹èµâ€å‘Šè¯‰æ¨¡å‹ä½ æ›´å–œæ¬¢å“ªç§è¾“å‡ºã€‚ä½ çš„åé¦ˆä¼šä½œä¸ºå°‘é‡æ ·æœ¬ (few-shot) å¸®åŠ©æ¨¡å‹ç”Ÿæˆæ›´å¥½çš„ç»“æœã€‚</p>
<p><strong>ç¤ºä¾‹ï¼šä»æ”¶æ®ä¸­æå–ç»“æ„åŒ–è´¹ç”¨ä¿¡æ¯</strong></p>
<p>å‡è®¾ä½ åˆšå‡ºå·®å›æ¥ï¼Œæ‰‹é‡Œæœ‰ä¸€å †æ”¶æ®ã€‚ä¸Šä¼ åˆ° AI Sheets åï¼Œåœ¨æ–°åˆ—ä¸­è¾“å…¥æç¤ºè¯ï¼š
<code>æå–è¯¥æ”¶æ®ä¸­çš„å•†æˆ·åç§°ã€æ—¥æœŸã€æ€»é‡‘é¢å’Œè´¹ç”¨ç±»åˆ«</code></p>
<p>AI Sheets ä¼šè‡ªåŠ¨å¤„ç†æ¯ä¸€å¼ æ”¶æ®ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ´çš„è¡¨æ ¼ï¼ŒåŒ…å«æ‰€æœ‰æå–å‡ºçš„è¯¦ç»†ä¿¡æ¯ã€‚ä½ å¯ä»¥æ‰‹åŠ¨çº æ­£é”™è¯¯ï¼Œå¯¹å‡†ç¡®ç»“æœç‚¹èµï¼Œå¹¶é‡æ–°ç”Ÿæˆå…¶ä»–æ¡ç›®ä»¥æå‡æ•´ä½“è´¨é‡ã€‚æœ€ç»ˆå¯å°†æ•°æ®å¯¼å‡ºä¸º CSV æˆ– Parquet æ–‡ä»¶ï¼Œç”¨äºä½ çš„æŠ¥é”€å·¥å…·ã€‚</p>
<p>æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥å°†å®¶ä¸­æ—§ç¬”è®°æœ¬ä¸Šçš„æ‰‹å†™é£Ÿè°±æ•°å­—åŒ–â€”â€”åˆ›å»ºåˆ—æå–é£Ÿæã€çƒ¹é¥ªæ—¶é—´ã€èœç³»ç±»å‹ï¼Œè®©ä¸ªäººæ¡£æ¡ˆå˜æˆå¯æœç´¢çš„ç»“æ„åŒ–æ•°æ®é›†ã€‚</p>
<h2 data-id="heading-1">åœ¨åŒä¸€æµç¨‹ä¸­ç”Ÿæˆä¸è½¬æ¢æ–‡æœ¬å’Œå›¾åƒ</h2>
<p>éœ€è¦ä¸ºä½ çš„å†…å®¹é…å›¾ï¼ŸAI Sheets å¯ä»¥åœ¨ç”µå­è¡¨æ ¼ä¸­ç›´æ¥é€šè¿‡ AI æ¨¡å‹ç”Ÿæˆæˆ–ç¼–è¾‘å›¾åƒï¼Œè®©æ•´ä¸ªå†…å®¹åˆ›ä½œæµç¨‹é›†ä¸­åœ¨ä¸€ä¸ªç•Œé¢ä¸­å®Œæˆã€‚</p>
<p>ä½ å¯ä»¥ï¼š</p>
<ul>
<li><strong>ä»æ–‡æœ¬ç”Ÿæˆå›¾åƒ</strong> â€”â€” ç”Ÿæˆä¸ä½ å†…å®¹åŒ¹é…çš„ç¤¾äº¤åª’ä½“å›¾ç‰‡ã€ç¼©ç•¥å›¾æˆ–æ’ç”»</li>
<li><strong>ç¼–è¾‘ä¸è½¬æ¢å›¾åƒ</strong> â€”â€” ä¿®æ”¹ä¸Šä¼ æˆ–ç”Ÿæˆçš„å›¾ç‰‡ï¼šæ›´æ¢é£æ ¼ã€æ·»åŠ å…ƒç´ ã€è°ƒæ•´æ„å›¾</li>
<li><strong>æ‰¹é‡ç”Ÿæˆå˜ä½“</strong> â€”â€” ä¸€æ¬¡ç”Ÿæˆå¤šä¸ªç‰ˆæœ¬æˆ–é£æ ¼ï¼Œæµ‹è¯•æœ€å—æ¬¢è¿çš„è§†è§‰å½¢å¼</li>
<li><strong>å»ºç«‹è§†è§‰ç´ æåº“</strong> â€”â€” ä¸ºå“ç‰Œæ´»åŠ¨æ‰¹é‡åˆ›å»ºé£æ ¼ä¸€è‡´çš„å›¾åƒèµ„äº§</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼šåˆ›å»ºå¸¦é…å›¾çš„å†…å®¹æ—¥å†</strong></p>
<p>å‡è®¾ä½ è®¡åˆ’å‘å¸ƒä¸€ä¸ªæœˆçš„å¥åº·é£Ÿè°±ç±»ç¤¾äº¤åª’ä½“å¸–å­ã€‚ä½ å·²ç»å‡†å¤‡å¥½äº†æ ‡é¢˜ä¸æ–‡æ¡ˆï¼Œä½†è¿˜ç¼ºå›¾åƒã€‚</p>
<p>åˆ›å»ºä¸€ä¸ªå›¾åƒåˆ—ï¼Œæç¤ºå¦‚ä¸‹ï¼š
â€œä¸ºä»¥ä¸‹æ ‡é¢˜ç”Ÿæˆä¸€å¼ ç¾å‘³é£Ÿç‰©çš„ç…§ç‰‡ï¼š{{title}}ã€‚é£æ ¼ï¼šæ˜äº®ã€ä¿¯æ‹ã€è‡ªç„¶å…‰ã€‚â€</p>
<p>AI Sheets ä¼šä¸ºæ¯ç¯‡å¸–å­ç”Ÿæˆç‹¬ç‰¹çš„å›¾ç‰‡ã€‚æ•ˆæœä¸ç†æƒ³ï¼Ÿå†å»ºä¸€åˆ—ä¿®æ”¹ï¼š
â€œå°†èƒŒæ™¯æ¢æˆä¹¡æ‘æœ¨æ¡Œï¼ŒåŠ ä¸Šæ–°é²œé¦™è‰ä½œä¸ºè£…é¥°ã€‚â€</p>
<p>ä½ å¯ä»¥å¤šæ¬¡è°ƒæ•´ç”Ÿæˆå’Œç¼–è¾‘æç¤ºï¼Œå°è¯•ä¸åŒæ–¹æ¡ˆã€‚æœ€ç»ˆï¼Œä½ çš„æ•´æœˆå†…å®¹è®¡åˆ’â€”â€”æ–‡å­—ä¸å›¾ç‰‡â€”â€”éƒ½é›†ä¸­åœ¨ä¸€å¼ è¡¨æ ¼ä¸­ï¼Œå¯ç›´æ¥å¯¼å‡ºæˆ–æ’ç¨‹å‘å¸ƒã€‚</p>
<h2 data-id="heading-2">ä½¿ç”¨æŒ‡å—</h2>
<p>ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®ä¾‹æ¥çœ‹çœ‹ AI Sheets çš„å®é™…æ“ä½œã€‚æˆ‘ä»¬å°†ç”¨å¼€æºæ¨¡å‹æ¥è¯†åˆ«ç¥–æ¯ç¬”è®°æœ¬ä¸­æ‰‹å†™çš„é£Ÿè°±ã€‚</p>
<h3 data-id="heading-3">ä¸Šä¼ æ•°æ®</h3>
<p>æˆ‘ä»¬æœ‰ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œé‡Œé¢ä¿å­˜äº†é£Ÿè°±çš„ç…§ç‰‡ï¼Œåªéœ€ä¸Šä¼ å³å¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9522b44206e54176b8ad4e4a953f1713~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSHVnZ2luZ0ZhY2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578861&amp;x-signature=MP%2FSqOw261X5xh6FgACh7d5BcIs%3D" alt="" loading="lazy"/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/524eb283d8eb4d92adc24bdb6290de77~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSHVnZ2luZ0ZhY2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578861&amp;x-signature=1wSNedbq2%2FWjhhPLPj01QuiVzqo%3D" alt="" loading="lazy"/></p>
<p>ä¸Šä¼ åç”Ÿæˆçš„è¡¨æ ¼å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e19e118fa9e48409f9c6cd332fb51f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSHVnZ2luZ0ZhY2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578861&amp;x-signature=qboriLX8odUZtXORU8PURYHJyes%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">äº†è§£ AI æ“ä½œ</h3>
<p>åœ¨ç”µå­è¡¨æ ¼ä¸­ï¼Œæ¯ä¸€åˆ—éƒ½å¯ä»¥é€šè¿‡â€œAI æ“ä½œâ€è¿›è¡Œæå–ã€è½¬æ¢æˆ–æŸ¥è¯¢ç­‰å„ç§å¤„ç†ã€‚</p>
<p>ç‚¹å‡»ä»»æ„åˆ—ä¸Šæ–¹çš„å åŠ å±‚å³å¯æŸ¥çœ‹æ“ä½œé€‰é¡¹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d202ed402b864fa38d2d3bde760a6d46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSHVnZ2luZ0ZhY2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578861&amp;x-signature=pUSOo9C52uFDx2oEra%2BK7Adf%2BcQ%3D" alt="" loading="lazy"/></p>
<p>å›¾åƒåˆ—æ”¯æŒçš„æ“ä½œåŒ…æ‹¬ï¼šæå–æ–‡å­—ã€å›¾åƒé—®ç­”ã€ç›®æ ‡æ£€æµ‹ã€ä¸Šè‰²ã€æ·»åŠ æ–‡å­—ï¼Œä»¥åŠè‡ªå®šä¹‰ä»»åŠ¡ï¼›
æ–‡æœ¬åˆ—åˆ™æ”¯æŒï¼šæ‘˜è¦ã€å…³é”®è¯æå–ã€ç¿»è¯‘ç­‰æ“ä½œã€‚</p>
<p>æ¯ä¸ª AI æ“ä½œéƒ½ç”±â€œæç¤ºè¯ + æ¨¡å‹â€ç»„åˆè€Œæˆã€‚è®©æˆ‘ä»¬çœ‹çœ‹å®ƒå¦‚ä½•å¤„ç†æ‰‹å†™é£Ÿè°±æ•°æ®ã€‚</p>
<h3 data-id="heading-5">ä»å›¾åƒä¸­æå–æ–‡å­—</h3>
<p>AI Sheets æä¾›äº†ä¸€ä¸ªä»å›¾åƒæå–æ–‡å­—çš„æ¨¡æ¿ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/61bf065fc4ec4ba887370266fe817e33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSHVnZ2luZ0ZhY2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578861&amp;x-signature=OLjQgJskUtW1ANTQRzAtbWlw4NQ%3D" alt="" loading="lazy"/></p>
<p>æ‰§è¡Œåä¼šç”Ÿæˆä¸€åˆ—åŒ…å«è½¬å½•ç»“æœçš„æ–°åˆ—ï¼Œä¾‹å¦‚ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a332f91c875244088ac8670edb377dbe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSHVnZ2luZ0ZhY2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578861&amp;x-signature=L1fDaUHzalAZxWLYXuBeKEBQzQE%3D" alt="" loading="lazy"/></p>
<p>ä¸Šå›¾è¯†åˆ«å‡ºçš„æ–‡æœ¬å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">MEMORANDUM:</span>

<span class="hljs-keyword">From</span>

<span class="hljs-keyword">To</span>

<span class="hljs-number">1</span> Box Duncan Hines Yellow Cake Mix
<span class="hljs-number">1</span> Box instant lemon pudding
<span class="hljs-number">2</span>/<span class="hljs-number">3</span> cups water
<span class="hljs-number">1</span>/<span class="hljs-number">2</span> cup Mozola oil
<span class="hljs-number">4</span> eggs
Lemon flavoring <span class="hljs-keyword">to</span> taste.
Put <span class="hljs-keyword">in</span> mixing bowl <span class="hljs-built_in">and</span> beat <span class="hljs-keyword">for</span> <span class="hljs-number">10</span> min.

<span class="hljs-built_in">and</span> REMEMBER... <span class="hljs-keyword">for</span> Quality PRINTING
<span class="hljs-keyword">CALL</span> <span class="hljs-built_in">OR</span> WRITE
Gatling &amp; Pierce
PRINTERS
TELEPHONE <span class="hljs-number">332</span>-<span class="hljs-number">2579</span>
<span class="hljs-number">22</span> YEARS <span class="hljs-keyword">OF</span> SERVICE <span class="hljs-keyword">IN</span> NORTHEASTERN CAROLINA
</code></pre>
<p>è¯†åˆ«æ•ˆæœä¸é”™ï¼Œä½†åŒ…å«äº†é¡µçœ‰é¡µè„šçš„å°åˆ·æ–‡å­—ã€‚é»˜è®¤æ¨¡æ¿çš„æç¤ºæ˜¯ï¼š</p>
<p><code>æå–å›¾åƒä¸­æ‰€æœ‰å¯è§æ–‡å­—ï¼ŒåŒ…æ‹¬æ ‡å¿—ã€æ ‡ç­¾ã€æ–‡æ¡£æˆ–ä»»ä½•æ–‡å­—å†…å®¹ã€‚</code></p>
<p>æˆ‘ä»¬å¯ä»¥æ”¹ç”¨è‡ªå®šä¹‰æç¤ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a8702bfc68243eeac40d29fd77d1e7f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSHVnZ2luZ0ZhY2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578861&amp;x-signature=OQGYm0n4eBLuHMWSegPENtPCmJY%3D" alt="" loading="lazy"/></p>
<p>è‡ªå®šä¹‰æå–çš„ç»“æœå¦‚ä¸‹ï¼š</p>
<ul>
<li>1 ç›’ Duncan Hines é»„è›‹ç³•ç²‰</li>
<li>1 ç›’é€Ÿæº¶æŸ æª¬å¸ƒä¸</li>
<li>2/3 æ¯æ°´</li>
<li>1/2 æ¯ Mazola é£Ÿç”¨æ²¹</li>
<li>4 ä¸ªé¸¡è›‹</li>
<li>é€‚é‡æŸ æª¬é¦™ç²¾</li>
<li>å€’å…¥æ…æ‹Œç¢—ä¸­æ…æ‰“ 10 åˆ†é’Ÿ</li>
</ul>
<p>æ•ˆæœéå¸¸ç†æƒ³ã€‚å¯¹äºæ›´å¤æ‚çš„å›¾ç‰‡ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ä¸åŒçš„æ¨¡å‹ã€‚é»˜è®¤æ¨¡å‹ä¸º <code>Qwen/Qwen2.5-VL-7B-Instruct</code>ï¼Œåœ¨é€Ÿåº¦ä¸å‡†ç¡®åº¦é—´å¹³è¡¡è‰¯å¥½ï¼›æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨æ›´å¼ºå¤§çš„æ¨ç†æ¨¡å‹ <code>Qwen/Qwen3-VL-235B-A22B-Reasoning</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3720e8e558d24c3d8b882d875454db1d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSHVnZ2luZ0ZhY2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578861&amp;x-signature=oHxX6aB3CdnbxijPjfl14BS%2Bvrw%3D" alt="" loading="lazy"/></p>
<p>æ¨¡å‹å¯¹æ¯”ç»“æœå¦‚ä¸‹ï¼š</p>













<table><thead><tr><th align="left">Qwen/Qwen2.5-VL-7B-Instruct</th><th align="left">Qwen/Qwen3-VL-235B-A22B-Reasoning</th></tr></thead><tbody><tr><td align="left">in large bowl combine meat, onion, bread crumbs 1/2 nutmeg &amp; cheese - as you add sprinkle around. Then blend - Last sprinkle blend again Bake in large pan for 10-15 min. at 350. Let stand 5 min before serving.</td><td align="left">in lg bowl combine meat, onion, bread crumbs 1/4 nutmeg &amp; cheese - as you add sprinkle around. then blend - last <strong>spinach</strong> blend again. Bake in lg pan for <strong>50-60 min. @ 350</strong> - let stand 5 min before serving</td></tr></tbody></table>
<p>ä¸¤ä¸ªæ¨¡å‹çš„è¾“å‡ºå¾ˆæ¥è¿‘ï¼Œä½†æ›´é«˜é˜¶æ¨¡å‹è¯†åˆ«å‡ºäº†ä¸¤ä¸ªé‡è¦ç»†èŠ‚ (<strong>åŠ ç²—éƒ¨åˆ†</strong>) ï¼šçƒ˜ç„™æ—¶é—´å’Œå…³é”®é…æ–™â€”â€”è èœã€‚</p>
<h3 data-id="heading-6">æ¸…æ´—ã€è½¬æ¢ä¸ä¸°å¯Œæ–‡æœ¬</h3>
<p>å½“æˆ‘ä»¬å¯¹æå–ç»“æœæ»¡æ„åï¼Œå¯ä»¥è¿›ä¸€æ­¥ç”¨ AI æ“ä½œè½¬æ¢æ ¼å¼ï¼Œå¦‚ç”Ÿæˆ HTML é¡µé¢ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54ac22fec5884e25870c13aec52ef2e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSHVnZ2luZ0ZhY2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578861&amp;x-signature=P%2FxDtBl5e%2F5gWQzrhSkRVHPX1bA%3D" alt="" loading="lazy"/></p>
<p>ç”Ÿæˆåï¼Œæ¯ä»½é£Ÿè°±éƒ½å˜æˆäº†ç»“æ„æ¸…æ™°ã€æ’ç‰ˆä¼˜ç¾çš„ HTML é¡µé¢ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96bf767c4afe41a88f416783615d5193~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSHVnZ2luZ0ZhY2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578861&amp;x-signature=jo2geIuI4qmQetaBL7vY6jaeUe4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-7">ç¼–è¾‘ä¸è½¬æ¢å›¾åƒ</h3>
<p>AI Sheets é›†æˆäº†å›¾åƒç¼–è¾‘æ¨¡å‹ (å¦‚ Qwen-Image-Edit) ï¼Œå¯ä»¥ç›´æ¥å¯¹å›¾ç‰‡è¿›è¡Œé£æ ¼åŒ–å¤„ç†ä¸å¢å¼ºã€‚</p>
<p>ä¾‹å¦‚ï¼Œä½ å¸Œæœ›ç»™é£Ÿè°±å›¾ç‰‡å¢åŠ â€œå¤å¤â€æ•ˆæœï¼Œå¯ä»¥é€‰æ‹©é»‘ç™½æ»¤é•œæ¨¡æ¿ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d25e90f2cf074480a19fc669b2b1fe35~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSHVnZ2luZ0ZhY2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578861&amp;x-signature=SmqcLt%2FjQwQd74BQLU9UDoPmfwU%3D" alt="" loading="lazy"/></p>
<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1f394a199d324077a192d3438336be9d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSHVnZ2luZ0ZhY2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578861&amp;x-signature=y6Pt5LRfUo1RzVZCMuAlJ8X2Myw%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">å¯¼å‡ºæ•°æ®é›†</h3>
<p>å½“ä½ å¯¹ç»“æœæ»¡æ„åï¼Œå¯ä»¥å°†æ•°æ®é›†å¯¼å‡ºå¹¶ä¸Šä¼ è‡³ Hugging Face Hubï¼
å¯é€‰æ‹©å¯¼å‡ºè‡³å›¢é˜Ÿç»„ç»‡ã€ä¸ªäººä¸»é¡µï¼Œæˆ–è®¾ä¸ºç§å¯†æ•°æ®é›†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0caaf2eb7a6d4887bfefbc8992cc6873~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSHVnZ2luZ0ZhY2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764578861&amp;x-signature=fulPMAzL%2BSL0FQyO7BF2FY77hiI%3D" alt="" loading="lazy"/></p>
<p>ä½ å¯ä»¥ <a href="https://link.juejin.cn?target=https%3A%2F%2Fhf.co%2Fdatasets%2Faisheets%2Funlocked-recipes" target="_blank" title="https://hf.co/datasets/aisheets/unlocked-recipes" ref="nofollow noopener noreferrer">æŸ¥çœ‹</a> æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„ç¤ºä¾‹æ•°æ®é›†ã€‚</p>
<h2 data-id="heading-9">æ¥ä¸‹æ¥åšä»€ä¹ˆï¼Ÿ</h2>
<p>ä½ å¯ä»¥ç›´æ¥ <a href="https://link.juejin.cn?target=https%3A%2F%2Fhf.co%2Fspaces%2Faisheets%2Fsheets" target="_blank" title="https://hf.co/spaces/aisheets/sheets" ref="nofollow noopener noreferrer">åœ¨çº¿è¯•ç”¨ AI Sheets</a>ï¼Œæ— éœ€å®‰è£…æˆ–éƒ¨ç½²ã€‚
å¦‚æœå¸Œæœ›æœ¬åœ°è¿è¡Œå¹¶è·å¾—æ›´é«˜æ€§èƒ½ï¼Œå»ºè®®å‡çº§åˆ° PRO ç‰ˆæœ¬ï¼Œå¯äº«å— 20 å€æ¨ç†é…é¢ã€‚</p>
<p>å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨ç¤¾åŒºç•™è¨€ï¼Œæˆ–é€šè¿‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fhuggingface%2Faisheets" target="_blank" title="https://github.com/huggingface/aisheets" ref="nofollow noopener noreferrer">GitHub æäº¤ issue</a> ä¸æˆ‘ä»¬äº¤æµã€‚</p>
<blockquote>
<p>è‹±æ–‡åŸæ–‡: <a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2Fblog%2Faisheets-unlock-images" target="_blank" title="https://huggingface.co/blog/aisheets-unlock-images" ref="nofollow noopener noreferrer">huggingface.co/blog/aisheeâ€¦</a></p>
<p>åŸæ–‡ä½œè€…: Ame Vi, Daniel Vila, Francisco Aranda, DamiÃ¡n Pumar, Leandro von Werra, Thomas Wolf</p>
<p>è¯‘è€…: Luke,  Hugging Face Fellow</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å½“ AI æˆä¸ºç”Ÿäº§åŠ›åº•åº§ï¼Œå¦‚ä½•æ‰“é€šäº§ä¸šè½åœ°â€œæœ€åä¸€å…¬é‡Œâ€ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7576057623742300202</link>    <guid>https://juejin.cn/post/7576057623742300202</guid>    <pubDate>2025-11-24T08:51:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576057623742300202" data-draft-id="7575884229526290468" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å½“ AI æˆä¸ºç”Ÿäº§åŠ›åº•åº§ï¼Œå¦‚ä½•æ‰“é€šäº§ä¸šè½åœ°â€œæœ€åä¸€å…¬é‡Œâ€ï¼Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-24T08:51:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è…¾è®¯äº‘å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/3456520257538830"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å½“ AI æˆä¸ºç”Ÿäº§åŠ›åº•åº§ï¼Œå¦‚ä½•æ‰“é€šäº§ä¸šè½åœ°â€œæœ€åä¸€å…¬é‡Œâ€ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3456520257538830/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è…¾è®¯äº‘å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T08:51:01.000Z" title="Mon Nov 24 2025 08:51:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>å¼•è¨€</strong></h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74a6887b1b2a494bbb35e20d355f4ff5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764579061&amp;x-signature=p5IlKP7pRA0JLw0Nuek5%2BSxclBM%3D" alt="" loading="lazy"/></p>
<p>2025 å¹´ï¼Œäººå·¥æ™ºèƒ½æ­£ä»â€œæŠ€æœ¯å¯ç”¨â€è¿ˆå‘â€œä¸äº§ä¸šå…±ç”Ÿâ€çš„æ·±åº¦å‘å±•é˜¶æ®µã€‚åœ¨æ”¿ç­–å¼•å¯¼ã€æŠ€æœ¯çªç ´ä¸å¸‚åœºéœ€æ±‚çš„ä¸‰é‡é©±åŠ¨ä¸‹ï¼ŒAI å·²ä¸å†æ˜¯å­¤ç«‹çš„ç®—æ³•æ¨¡å‹ï¼Œè€Œæ˜¯ä½œä¸ºæ•°æ™ºåŸºå› ï¼Œæ·±åº¦èå…¥åˆ¶é€ ã€é›¶å”®ã€èƒ½æºç­‰æ ¸å¿ƒäº§ä¸šçš„è¿è¡Œè‚Œç†ã€‚ä»æ™ºèƒ½å·¥å‚çš„æŸ”æ€§äº§çº¿åˆ°é›¶å”®ç»ˆç«¯çš„ AI æ™ºèƒ½ä½“ï¼Œä»æ•°æ®é©±åŠ¨çš„å®æ—¶å†³ç­–åˆ°è¡Œä¸šä¸“å±å¤§æ¨¡å‹çš„è§„æ¨¡åŒ–è½åœ°ï¼ŒAI æ­£ä»¥å‰æ‰€æœªæœ‰çš„å¹¿åº¦ä¸æ·±åº¦ï¼Œæ¨åŠ¨äº§ä¸šæ•ˆç‡è·ƒå‡ã€æ¨¡å¼åˆ›æ–°ä¸ä»·å€¼é‡æ„ï¼Œæˆä¸ºé©±åŠ¨æ–°è´¨ç”Ÿé•¿çš„æ ¸å¿ƒå¼•æ“ã€‚</p>
<p>ç„¶è€Œï¼Œå½“ AI ä»â€œå•ç‚¹æ™ºèƒ½â€èµ°å‘â€œç³»ç»ŸååŒâ€ï¼ŒçœŸæ­£çš„æŒ‘æˆ˜ä¹Ÿéšä¹‹æµ®ç°ï¼šå¦‚ä½•è®©æŠ€æœ¯çœŸæ­£èå…¥äº§ä¸šçš„è¿è¡Œé€»è¾‘ï¼Œè€Œéä»…ä»…å åŠ äºå…¶è¡¨å±‚ï¼Ÿå¦‚ä½•æ„å»ºä¸€ç§å¯ç”Ÿé•¿ã€å¯ååŒã€å¯è¿›åŒ–çš„æ™ºèƒ½èŒƒå¼ï¼Œè€Œéå­¤ç«‹çš„æ™ºèƒ½å­¤å²›ï¼Ÿåˆè¯¥å¦‚ä½•åœ¨æ•°æ®ã€ç®—æ³•ä¸ä¸šåŠ¡ä¹‹é—´ï¼Œæ¶èµ·ä¸€åº§é€šå‘è§„æ¨¡åŒ–ä»·å€¼é‡Šæ”¾çš„æ¡¥æ¢ï¼Ÿè¿™äº›é—®é¢˜çš„ç­”æ¡ˆï¼Œä¸ä»…å…³ä¹æŠ€æœ¯æ¼”è¿›çš„æ–¹å‘ï¼Œæ›´å†³å®šç€äº§ä¸šæ™ºèƒ½åŒ–è½¬å‹çš„æˆè´¥ã€‚</p>
<p><strong>11 æœˆ 29 æ—¥ï¼ˆå‘¨å…­ï¼‰ï¼Œã€Œä¸ AI å…±ç”Ÿï¼Œæ•°æ™ºé©±åŠ¨äº§ä¸šæ–°è´¨ç”Ÿé•¿ã€TVP AI åˆ›å˜ç ”è®¨ä¼šï¼Œ</strong> ç‰¹é‚€æ¥è‡ªäº§ä¸šä¸€çº¿ä¸æŠ€æœ¯å‰æ²¿çš„ä¸“å®¶å¤§å’–ï¼Œå±•å¼€æ·±åº¦åˆ†äº«ï¼Œå…±åŒè§è¯ AI å¦‚ä½•ä»â€œå·¥å…·â€è¿›åŒ–ä¸ºâ€œå¼•æ“â€ï¼Œé©±åŠ¨åƒè¡Œç™¾ä¸šè¿ˆå…¥é«˜è´¨é‡å‘å±•çš„æ–°çºªå…ƒã€‚</p>
<h2 data-id="heading-1"><strong>æ´»åŠ¨ä»‹ç»</strong></h2>
<p>æœ¬æ¬¡ã€Œä¸ AI å…±ç”Ÿï¼Œæ•°æ™ºé©±åŠ¨äº§ä¸šæ–°è´¨ç”Ÿé•¿ã€TVP AI åˆ›å˜ç ”è®¨ä¼šç”±è…¾è®¯äº‘ TVP å’Œä¸­å›½æµ·è¯šè”åˆä¸»åŠï¼Œä¸ä»…é‚€è¯·äº† 4 ä½è¡Œä¸šåŠæŠ€æœ¯ä¸“å®¶ï¼Œå›´ç»• AI + æ™ºèƒ½åˆ¶é€ å‘å±•è¶‹åŠ¿ã€é›¶å”®è¡Œä¸š AI æ™ºèƒ½ä½“å‰æ²¿å®è·µã€AI åˆ›æ–°åº”ç”¨è½åœ°è·¯å¾„ã€AI+Data é©±åŠ¨ä¼ä¸šè½¬å‹ç­‰æ ¸å¿ƒè®®é¢˜ï¼Œå±•å¼€æ·±åº¦åˆ†äº«ä¸æ€æƒ³ç¢°æ’ï¼Œå…±åŒæ¢å¯» AI è½åœ°çš„çœŸå®è·¯å¾„ä¸æœªæ¥å›¾æ™¯ï¼Œæœ¬æ¬¡æ´»åŠ¨é¢å‘ TVP ä¸“å±å¼€æ”¾ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/50c11463685344e0b3c256c522550fca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764579061&amp;x-signature=vCQ59lljE1yoAOZcCHFaWzdiq4I%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2"><strong>ç»“è¯­</strong></h2>
<p><strong>TVP AI åˆ›å˜ç ”è®¨ä¼š</strong></p>
<p>TVP AI åˆ›å˜ç ”è®¨ä¼šï¼Œæ˜¯ä¸º TVP ç­‰æŠ€æœ¯ç®¡ç†è€…ã€AI åˆ›ä¸šè€…æ‰“é€ çš„ä¸“å±äº¤æµæ´»åŠ¨ï¼Œæ—¨åœ¨èšç„¦ AI å‰æ²¿ï¼Œé€šè¿‡ç³»åˆ—ä¸“é¢˜ç ”è®¨ï¼Œå…±åŒæ¢ç´¢ AI å˜é©æµªæ½®ä¸‹çš„åˆ›ä¸šä¸åˆ›æ–°æœºé‡ã€‚å¸Œæœ›é€šè¿‡æœ¬æœŸã€Œä¸ AI å…±ç”Ÿï¼Œæ•°æ™ºé©±åŠ¨äº§ä¸šæ–°è´¨ç”Ÿé•¿ã€TVP AI åˆ›å˜ç ”è®¨ä¼šï¼Œæºæ‰‹é¡¶çº§å¤§å’–ï¼ŒåŠ©åŠ›ä¸ä¼šè€…æ´å¯Ÿ AI èåˆäº§ä¸šçš„å‰æ²¿è¶‹åŠ¿ï¼ŒæŠŠæ¡åˆ›ä¸šä¸åˆ›æ–°çš„å…³é”®æœºé‡ã€‚</p>
<p><strong>ä¸­å›½æµ·è¯š</strong></p>
<p>ä¸­å›½æµ·è¯šæ˜¯ä¸­å›½é¦–å®¶ä¸“ä¸šå·¥ç¨‹è®¾è®¡æœåŠ¡ä¸šä¸Šå¸‚å…¬å¸ï¼Œä¹Ÿæ˜¯ä¸ºæˆ‘å›½è½»å·¥è¡Œä¸šå·¥ç¨‹é¢†åŸŸæä¾›å…¨è¿‡ç¨‹æœåŠ¡çš„å¤§å‹ç»¼åˆæ€§å·¥ç¨‹å…¬å¸ä¹‹ä¸€ã€‚å…¬å¸æ§è‚¡è‚¡ä¸œä¸ºä¸–ç•Œ 500 å¼ºä¼ä¸šä¸­å›½ä¿åˆ©é›†å›¢æ——ä¸‹çš„ä¸­å›½è½»å·¥é›†å›¢æœ‰é™å…¬å¸ã€‚è·µè¡Œâ€œä»¥å®¢æˆ·ä¸ºä¸­å¿ƒï¼Œä»¥åˆ›æ–°ä¸ºåŠ¨åŠ›â€çš„ç»è¥ç†å¿µï¼Œä¸­å›½æµ·è¯šç§¯æè¿›è¡Œæ•°å­—åŒ–è½¬å‹ï¼Œå…¨åŠ›æ¨è¿›æ™ºèƒ½åˆ¶é€ ä¸šåŠ¡å‘å±•ï¼ŒåŠ é€Ÿâ€œæ•°æ™ºåŒé©±â€æˆ˜ç•¥è½åœ°è§æ•ˆï¼Œä»â€œå·¥ç¨‹æœåŠ¡å•†â€åˆ°â€œå…¨å‘¨æœŸç”Ÿäº§æ€§æœåŠ¡å•†â€è·ƒè¿ï¼Œå‘ç§‘æŠ€å…¬å¸è½¬å‹ï¼ŒåŠ©æ¨å·¥ä¸šä¼ä¸šå‘é«˜ç«¯åŒ–ã€æ™ºèƒ½åŒ–ã€ç»¿è‰²åŒ–å‘å±•ï¼Œæˆä¸ºæ”¹å˜ä¸­å›½åˆ¶é€ çš„åŠ›é‡ï¼Œä»¥æ™ºæ…§å·¥ç¨‹è´¡çŒ®ç¾å¥½ç”Ÿæ´»ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¥³å‹å»ç©ï¼Œç«Ÿå¸¦å›ä¸€é“ â€œè™å“­ç¨‹åºå‘˜â€ çš„éš¾é¢˜]]></title>    <link>https://juejin.cn/post/7576086446459404323</link>    <guid>https://juejin.cn/post/7576086446459404323</guid>    <pubDate>2025-11-24T09:02:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576086446459404323" data-draft-id="7576077034741792802" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¥³å‹å»ç©ï¼Œç«Ÿå¸¦å›ä¸€é“ â€œè™å“­ç¨‹åºå‘˜â€ çš„éš¾é¢˜"/> <meta itemprop="keywords" content="åç«¯,ç¨‹åºå‘˜,è®¾è®¡æ¨¡å¼"/> <meta itemprop="datePublished" content="2025-11-24T09:02:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="howcode"/> <meta itemprop="url" content="https://juejin.cn/user/3870758380505431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¥³å‹å»ç©ï¼Œç«Ÿå¸¦å›ä¸€é“ â€œè™å“­ç¨‹åºå‘˜â€ çš„éš¾é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3870758380505431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    howcode
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T09:02:13.000Z" title="Mon Nov 24 2025 09:02:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#5f6368;background-image:linear-gradient(90deg,rgba(240,191,213,.1) 3%,transparent 0),linear-gradient(1turn,rgba(240,191,213,.1) 3%,transparent 0);background-size:20px 20px;background-position:50%;letter-spacing:1px;word-spacing:1px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{position:relative;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-left:50px;padding-bottom:5px;color:#5f6368}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{position:absolute;left:0;display:block;content:""}.markdown-body h1{font-size:32px;margin-bottom:5px}.markdown-body h1:before{top:0;content:"ğŸ¦„";font-size:32px}.markdown-body h2{padding-bottom:24px;border-bottom:1px solid #ececec}.markdown-body h2:before{top:0;left:8px;content:"ğŸ³";font-size:24px}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{top:-2px;left:8px;content:"ğŸ„";font-size:20px}.markdown-body h4{font-size:16px}.markdown-body h4:before{top:-2px;left:8px;content:"ğŸ¦¥";font-size:18px}.markdown-body h5{font-size:14px}.markdown-body h5:before{top:-2px;left:9px;content:"ğŸ¦©";font-size:16px}.markdown-body h6{font-size:12px;margin-top:5px}.markdown-body h6:before{top:-1px;left:10px;content:"ğŸ§";font-size:14px}.markdown-body p{line-height:1.9;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid rgba(253,121,168,.5);margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#a6accd;background:#292d3e;border-radius:8px}.markdown-body a{text-decoration:none;color:#fd79a8;border-bottom:1px solid #fd79a8;padding:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(253,121,168,.1);color:#ee69a9}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body th{color:#fd79a8}.markdown-body th,.markdown-body tr:hover{background:rgba(253,121,168,.1)}.markdown-body td{min-width:120px}.markdown-body blockquote{position:relative;color:#666;padding:23px;margin:22px 0;border-left:4px solid #ee69a9;background-color:rgba(253,121,168,.1)}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;display:block;font-size:27px;color:#fd79a8;opacity:.8}.markdown-body blockquote:before{left:10px;top:0;content:"â"}.markdown-body blockquote:after{right:10px;bottom:0;content:"â"}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body strong{position:relative;color:#fd79a8}.markdown-body strong:before{content:"Â· "}.markdown-body strong:after{content:" Â·"}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#fd79a8}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#ee69a9}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a7d5aea2ed640bab7fa55c57a3cd1ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaG93Y29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764579732&amp;x-signature=0AaLvhySyCUw1OlfmAHxgw9q1JM%3D" alt="è“è‰²ææ€ªåŠ¨ç‰©è¡¨æƒ…èŒåœºæ‰“å·¥äººçŠ¶æ€å¾®ä¿¡å…¬ä¼—å·å°é¢.png" loading="lazy"/></p>
<h2 data-id="heading-0">äº‹ä»¶äº¤ä»£</h2>
<p>å‰ä¸¤å‘¨ï¼Œå¥³æœ‹å‹å»äº†å¼€å°ç©ä¸€è¶Ÿï¼Œå›æ¥åä¸ä¹…ï¼Œå¥¹å¾®ä¿¡ä¸Šå’Œæˆ‘åæ§½äº†ä¸€ä»¶ç³Ÿå¿ƒäº‹ï¼šç”±äºå¥¹åœ¨ä¸¤ä¸ªå¹³å°éƒ½è´­äº†ç¥¨ï¼Œåé¢è¡Œç¨‹å¤ªèµ¶ï¼Œå¿˜è®°åœ¨å…¶ä¸­ä¸€ä¸ªå¹³å°é€€ç¥¨ï¼Œå¯¼è‡´ç°åœ¨æ— æ³•é€€ç¥¨</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76dcfa09b6344180b057e512a1dbb532~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaG93Y29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764579732&amp;x-signature=W3Osqh%2Fet1WGaO7T82U%2BbgXa3Rw%3D" alt="image.png" loading="lazy"/></p>
<p>ç”±äºå¹¿å·å¾ˆå¤šæ™¯ç‚¹ä¹°ç¥¨æ˜¯è¦é€‰æ‹©å…·ä½“æ—¥æœŸçš„ï¼ˆä¾‹å¦‚ç™½äº‘å±±ã€é™ˆå®¶ç¥ ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¥ä¸ºå¥¹å¯èƒ½å°±æ˜¯åœ¨æŠ–éŸ³ã€ç¾å›¢ä¹°äº†åŒä¸€å¤©çš„ä¸¤å¼ ç¥¨ï¼Œåé¢å¿˜è®°é€€æ‰æŠ–éŸ³çš„ç¥¨ï¼Œå¯¼è‡´ç°åœ¨ç¥¨é€¾æœŸï¼Œæ— æ³•é€€æ¬¾</p>
<p>ä½†æˆ‘è¿˜æ˜¯æƒ³çš„å¤ªç®€å•äº†ï¼Œå¦‚æœä»…æ­¤è€Œå·²ï¼Œå¤§å®¶å°±ä¸ä¼šçœ‹åˆ°è¿™ç¯‡å°ç ´æ–‡</p>
<h2 data-id="heading-1">æ·±å…¥äº†è§£</h2>
<p>éšç€æˆ‘æ·±å…¥äº†è§£ï¼Œæ‰å‘ç°å¼€å°æ™¯åŒºçš„è´­ç¥¨å¤§æœ‰ä¸åŒï¼Œä»¥ä¸‹æ˜¯æˆ‘äº†è§£åˆ°çš„å¼€å°æ™¯åŒºè´­ç¥¨æ–¹å¼ï¼š</p>
<p>1ï¸âƒ£ ä½ å»å“ªä¸ªæ™¯ç‚¹å°±ä¹°å“ªä¸ªæ™¯ç‚¹çš„ç¥¨ï¼Œè¿™ç§æ¨¡å¼åªé€‚åˆå»å•ä¸ªæ™¯åŒºæ¸¸ç©ï¼Œä½†å¼€å°æ™¯åŒºç‰¹åˆ«å¤šï¼Œè¿™æ ·ä¹°ç‰¹åˆ«äº</p>
<p>2ï¸âƒ£ è´­ä¹°æ™¯åŒºè”ç¥¨ï¼Œå¼€å°è¿™è¾¹æ™¯åŒºåŸºæœ¬æ˜¯ç›¸äº’åˆä½œçš„ï¼Œä¾‹å¦‚ä»–ä»¬ä¼šå‡º2ä¸ªã€4ä¸ªã€6ä¸ªç­‰çš„æ™¯åŒºè”ç¥¨å¥—é¤ï¼Œæˆ‘å¥³æœ‹å‹å°±æ˜¯å…ˆåœ¨æŠ–éŸ³è´­ä¹°äº†4æ™¯åŒºè”ç¥¨ï¼Œåé¢å¥¹æœ‹å‹åˆå‘ç°ç¾å›¢æœ‰6æ™¯åŒºè”ç¥¨ï¼Œç©èµ·æ¥æ›´åˆ’ç®—ï¼Œæ‰€ä»¥æ‰ä¼šå‡ºç°äº†ä¹°ä¸¤ä¸ªå¹³å°çš„ç¥¨çš„æƒ…å†µ</p>
<p>æŠ–éŸ³4æ™¯åŒºè”ç¥¨ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55c00eacf7494a0cb6a99c7adc141606~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaG93Y29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764579732&amp;x-signature=mEzaYHsRaHZGqOteKXPKsLSobFw%3D" alt="image.png" loading="lazy"/></p>
<p>ç¾å›¢6æ™¯åŒºè”ç¥¨ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d81f3c98d5624686910600f8d553a072~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaG93Y29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764579732&amp;x-signature=rVXvE4useGX%2B1sKAKOtQlmW496s%3D" alt="image.png" loading="lazy"/></p>
<p>æŠ–éŸ³4æ™¯åŒºè”ç¥¨åŒ…å«ï¼šä¸‡å²å±±æ­¦ä¾ åŸ+ç¿°å›­ç¢‘æ—+å¼€å°åŸå¢™+é“å¡”å…¬å›­</p>
<p>ç¾å›¢6æ™¯åŒºè”ç¥¨åŒ…å«ï¼šä¸‡å²å±±æ­¦ä¾ åŸ+ç¿°å›­ç¢‘æ—+å¼€å°åŸå¢™+é“å¡”å…¬å›­+é¾™äº­æ™¯åŒº+å¤©æ³¢æ¨åºœ</p>
<p>å…¶ä¸­ï¼Œç¾å›¢çš„6æ™¯åŒºè”ç¥¨ä¸­ï¼Œ<strong>é¾™äº­æ™¯åŒº</strong>å’Œ<strong>å¤©æ³¢æ¨åºœ</strong>æ˜¯æŠ–éŸ³4æ™¯åŒºè”ç¥¨ä¸­æ²¡æœ‰çš„ï¼Œè¿™ä¸¤ä¸ªä¿¡æ¯ç‰¹åˆ«å…³é”®</p>
<p>å…¶æ¬¡è¿˜æœ‰ä¸¤ä¸ªå…³é”®ä¿¡æ¯ï¼š</p>
<p>ï¼ˆ1ï¼‰å¹³å°æ‰¿è¯º<strong>éšæ—¶é€€</strong>ï¼šç¥¨è™½ç„¶æœ‰ä½¿ç”¨æˆªæ­¢æ—¥æœŸï¼Œä½†åœ¨æˆªæ­¢æ—¥æœŸä¹‹å‰ï¼Œæ˜¯å¯ä»¥ç”³è¯·é€€æ¬¾ï¼Œå¦‚æœæˆªæ­¢æ—¥æœŸä»æœªä½¿ç”¨ï¼Œç³»ç»Ÿè‡ªåŠ¨é€€æ¬¾</p>
<p>ï¼ˆ2ï¼‰å¥³å‹çš„ä¸¤ä¸ªå¹³å°è®¢å•çŠ¶æ€çš†ä¸º<strong>å·²ä½¿ç”¨</strong></p>
<p>é‚£æˆ‘å¼€å¤´æ£æµ‹æ˜¯ç¥¨é€¾æœŸï¼Œæ— æ³•é€€æ¬¾çš„æƒ…å†µå°±æ˜¯é”™è¯¯çš„ï¼Œæ—¢ç„¶å¦‚æ­¤ï¼Œæ˜¯ä»€ä¹ˆæƒ…å†µå¯¼è‡´äº†ä¸¤ä¸ªè®¢å•éƒ½ä¸ºå·²ä½¿ç”¨å‘¢ï¼Ÿ</p>
<h2 data-id="heading-2">é€å±‚åˆ†æ</h2>
<blockquote>
<p>æˆ‘åŸæœ¬ä»¥ä¸ºæ™¯åŒºçš„æ ¸é”€è®¢å•æ¨¡å¼ä¼šæ˜¯ï¼šè®¢å•ç”Ÿæˆä¸€ä¸ªäºŒç»´ç ï¼Œè¿›å…¥æ™¯åŒºæ—¶æœ‰ä¸ªæœºå™¨æ‰«æ</p>
</blockquote>
<p>å¦‚æ­¤ä¸€æ¥ï¼Œå°±å¯ä»¥ç²¾å‡†é”å®šå¹³å°çš„è®¢å•æ ¸é”€ï¼Œä½†æˆ‘å†æ¬¡çŒœé”™äº†ã€‚å¥³å‹å’Œæˆ‘è¯´å¼€å°è¿™è¾¹çš„æ™¯åŒºéƒ½æ˜¯ä½¿ç”¨äº†äººè„¸è¯†åˆ«æŠ€æœ¯ï¼Œè´­ç¥¨æ—¶åªéœ€è¦å½•å…¥èº«ä»½è¯å·ï¼Œåˆ°æ™¯åŒºå°±èƒ½äººè„¸è¯†åˆ«è¿›å…¥äº†ã€‚</p>
<p>åˆ°è¿™é‡Œäº‹æƒ…å·²ç»é€æ¸æ¸…æ™°äº†ï¼Œäºæ˜¯ï¼Œæˆ‘å°è¯•ç«™åœ¨ä¸€åç¨‹åºå‘˜çš„è§’åº¦æ¥åˆ†ææ™¯åŒºçš„æ ¸é”€æµç¨‹</p>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šè¯†åˆ«ç”¨æˆ·èº«ä»½</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/04ef29ef46b744d7bffe2d84b77f4a71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaG93Y29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764579732&amp;x-signature=KjBnjP2a0EfKjmYawb6xmTsG%2Bxs%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>ç¬¬äºŒæ­¥ï¼šè¯†åˆ«ç”¨æˆ·èº«ä»½æˆåŠŸï¼Œåˆ†æè¯¥ç”¨æˆ·æ˜¯å¦åœ¨åˆä½œå¹³å°è´­ä¹°è¿‡ç›¸å…³æ™¯åŒºç¥¨</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/694a0d6668ca44aa882aacb299014106~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaG93Y29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764579732&amp;x-signature=SWYBQSOEVX4aASA%2BeZnJxyOBt4A%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>ç¬¬ä¸‰æ­¥ï¼šæ ¸é”€å¹³å°è®¢å•ï¼Œä¹Ÿæ˜¯æœ€å¤æ‚çš„ä¸€æ­¥ï¼Œå› ä¸ºè¯¥ç¯èŠ‚å­˜åœ¨å¤šç§æƒ…å†µ</li>
</ul>
<p>1ï¸âƒ£ï¼šè¯¥ç”¨æˆ·åœ¨<strong>ä¸€ä¸ªå¹³å°</strong>è´­ä¹°äº†<strong>ä¸€ä¸ªæ™¯åŒº</strong>çš„ç¥¨ï¼Œè¿™ç§æƒ…å†µæœ€å®¹æ˜“ï¼Œç”¨æˆ·è¿›æ™¯åŒºåï¼Œç¥¨åŠ¡ç³»ç»Ÿç›´æ¥æ ¸é”€å¹³å°è®¢å•ï¼Œæ ¸é”€å®Œæˆå¹³å°çš„é’±å°±æµå‘ç¥¨åŠ¡ç³»ç»Ÿï¼›</p>
<p>2ï¸âƒ£ï¼šè¯¥ç”¨æˆ·åœ¨<strong>ä¸€ä¸ªå¹³å°</strong>è´­ä¹°äº†<strong>è”åˆæ™¯åŒº</strong>çš„ç¥¨ï¼Œæ­¤æ—¶é”å®šè¯¥ç¥¨ï¼Œç­‰åˆ°ç”¨æˆ·<em>ç©å®Œæœ€åä¸€ä¸ªæ™¯åŒºåï¼Œæ‰æ ¸é”€è®¢å•</em>ï¼›æœ‰äººå¯èƒ½ä¼šå­˜åœ¨ç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆä¸æ˜¯ç©ç¬¬ä¸€ä¸ªæ™¯åŒºæ—¶å°±è¿›è¡Œè®¢å•æ ¸é”€ï¼Œè€Œæ˜¯ç­‰ç©å®Œå…¨éƒ¨æ™¯åŒºæ‰è§¦å‘æ ¸é”€ï¼Ÿè¿™å°±æ¶‰åŠåˆ°å¤šä¸ªå¹³å°å–ç¥¨çš„é—®é¢˜ï¼Œç¨‹åºè®¾è®¡éœ€è¦å…¼å®¹å¤šä¸ªå¹³å°ï¼šå‡è®¾ä½ åœ¨æŠ–éŸ³è´­ä¹°äº†ä¸¤æ™¯åŒºè”åˆç¥¨ï¼šä¸‡å²å±±+é“å¡”å…¬å›­ï¼Œåœ¨ç¾å›¢è´­ä¹°äº†ä¸¤æ™¯åŒºè”åˆç¥¨ï¼šä¸‡å²å±±+å¼€å°åŸå¢™ï¼Œä½ å…ˆå»äº†ä¸‡å²å±±ï¼Œæ­¤æ—¶å¦‚æœæ¸¸ç©ç¬¬ä¸€ä¸ªæ™¯åŒºå°±è¦æ ¸é”€è®¢å•çš„è¯ï¼Œè¯¥æ ¸é”€å“ªä¸ªå¹³å°çš„è®¢å•ï¼Ÿæ˜¯ä¸æ˜¯æ²¡æ³•æ ¸é”€äº†ï¼Œåªæœ‰ç­‰ç¬¬äºŒä¸ªæ™¯åŒºç©å®Œä½ æ‰çŸ¥é“è¦æ ¸é”€å“ªä¸ªå¹³å°çš„è®¢å•ï¼›ä½†å³ä½¿å¦‚æ­¤ï¼Œä¹Ÿå­˜åœ¨ä¸€ç§æƒ…å†µï¼Œå°±æ˜¯ç”¨æˆ·åªç©äº†ä¸€ä¸ªæ™¯åŒºï¼Œå…¶ä»–æ™¯åŒºä¸å»ç©ã€‚æˆ‘çŒœè¿™ç§ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œè¯¥ç¥¨å°±ä¸€ç›´å¤„äºé”å®šæœªæ ¸é”€çš„çŠ¶æ€ï¼Œç›´åˆ°è®¢å•æ—¶é—´é€¾æœŸï¼Œæ‰è‡ªåŠ¨æ ¸é”€</p>
<p>3ï¸âƒ£ï¼šè¯¥ç”¨æˆ·åœ¨<strong>å¤šä¸ªå¹³å°</strong>è´­ä¹°äº†<strong>ä¸€ä¸ªæ™¯åŒº</strong>çš„ç¥¨ï¼Œè¯´å®åœ¨è¿™ç§æƒ…å†µå±å®çŸ›ç›¾ï¼Œä½†ä½œä¸ºä¸€åç¨‹åºå‘˜ï¼Œè¿˜æ˜¯å¾—ç»™è§£ï¼Œæˆ‘çŒœå¾ˆæœ‰å¯èƒ½æ˜¯ä»¥æ—¶é—´ä¼˜å…ˆæ¥æ ¸é”€è®¢å•çš„ï¼Œä¹Ÿå°±æ˜¯å…ˆåœ¨å“ªä¸ªå¹³å°ä¸‹å•ï¼Œå°±å…ˆæ ¸é”€è¯¥å¹³å°çš„è®¢å•ï¼Œæ¯•ç«Ÿç”¨æˆ·è‚¯å®šæ˜¯å¸Œæœ›æ ¸é”€æ—¥æœŸæ›´æ—©çš„ä¸€å¼ ç¥¨</p>
<p>4ï¸âƒ£ï¼šè¯¥ç”¨æˆ·åœ¨<strong>å¤šä¸ªå¹³å°</strong>è´­ä¹°äº†<strong>è”åˆæ™¯åŒº</strong>çš„ç¥¨ï¼Œè€Œæˆ‘å¥³æœ‹å‹çš„æƒ…å†µå°±å±äºè¿™ä¸€ç§æƒ…å†µï¼ŒæŒ‰ç†è¯´è¿™ç§æƒ…å†µä¹ŸæŒºå¥½è§£ï¼Œè¿˜è®°å¾—æˆ‘å‰é¢æåˆ°çš„<em>é¾™äº­æ™¯åŒº</em>ã€<em>å¤©æ³¢æ¨åºœ</em>å—ï¼Ÿè¿™ä¸¤ä¸ªæ™¯åŒºæ˜¯æŠ–éŸ³å¹³å°4æ™¯åŒºè”ç¥¨å¥—é¤ä¸­ä¸åŒ…å«çš„ï¼Œè€Œç¾å›¢å¹³å°6æ™¯åŒºè”ç¥¨ä¸­åŒ…å«çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘å¥³æœ‹å‹å¥¹ä»¬å»äº†å…¶ä¸­ä¸€ä¸ªï¼Œå°±å¯åˆ¤æ–­å‡ºæ ¸é”€ç¾å›¢å¹³å°çš„è®¢å•</p>
<p>ä½†å·§å¦™åˆå‡‘åˆçš„ä¸€ç‚¹å°±æ˜¯å¥¹ä»¬çš„æ¸¸ç©è·¯çº¿å±…ç„¶æ˜¯ï¼šä¸‡å²å±±æ­¦ä¾ åŸ-&gt;ç¿°å›­ç¢‘æ—-&gt;å¼€å°åŸå¢™-&gt;é“å¡”å…¬å›­-&gt;å¤©æ³¢æ¨åºœ-&gt;é¾™äº­æ™¯åŒºï¼Œæ°å·§æŠŠä¸¤ä¸ªç‰¹æ®Šçš„æ™¯åŒºæ”¾åœ¨äº†æœ€åæ¸¸ç©</p>
<p>å½“æ¸¸ç©ä¸‡å²å±±æ­¦ä¾ åŸ-&gt;ç¿°å›­ç¢‘æ—-&gt;å¼€å°åŸå¢™-&gt;é“å¡”å…¬å›­æ—¶ï¼Œå¯¹äºæŠ–éŸ³å¹³å°çš„è®¢å•æ¥è¯´ï¼Œå·²ç»æ˜¯æ»¡è¶³è§¦å‘æ ¸é”€çš„æ¡ä»¶ï¼Œæˆ‘çŸ¥é“æ­¤æ—¶åŒä¸ºèªæ˜ç¨‹åºå‘˜çš„ä½ ä¹Ÿä¼šå¤§æœ‰ç–‘é—®ğŸ¤”ï¼šç¾å›¢å¹³å°çš„è®¢å•åŒæ ·å­˜åœ¨è¿™4ä¸ªæ™¯åŒºï¼Œä¸åº”è¯¥ç›´æ¥å°±æ ¸é”€æŠ–éŸ³å¹³å°çš„è®¢å•ã€‚</p>
<p>è¿˜è®°å¾—æƒ…å†µ3å—ï¼Ÿä¹Ÿå°±æ˜¯ç”¨æˆ·åœ¨å¤šä¸ªå¹³å°è´­ä¹°äº†ä¸€ä¸ªæ™¯åŒºç¥¨çš„æƒ…å†µï¼Œæˆ‘çŒœæµ‹çš„æ˜¯ç¥¨åŠ¡ç³»ç»Ÿä»¥æ—¶é—´ä¼˜å…ˆæ¥æ ¸é”€ä¸åŒå¹³å°çš„è®¢å•ï¼Œå†çœ‹çœ‹æˆ‘å¼€å¤´è´´å‡ºæ¥çš„èŠå¤©è®°å½•ï¼Œæˆ‘å¥³æœ‹å‹ä¹Ÿè¯´äº†ï¼š<strong>å…ˆè´­ä¹°æŠ–éŸ³çš„4æ™¯åŒºè”ç¥¨ï¼Œåè´­ä¹°ç¾å›¢çš„6æ™¯åŒºè”ç¥¨</strong></p>
<p>æ•…æ­¤ï¼Œä»¥æ—¶é—´ä¼˜å…ˆæ¥æ ¸é”€çš„è¯ï¼Œç¨‹åºå…ˆæ ¸é”€æŠ–éŸ³å¹³å°çš„è®¢å•ç¡®å®æ²¡é—®é¢˜ï¼Œå½“å¥¹ä»¬å¼€å¿ƒåœ°ç»§ç»­ç•…ç©å¤©æ³¢æ¨åºœ-&gt;é¾™äº­æ™¯åŒºæ—¶ï¼Œå´ä¸çŸ¥åˆè§¦å‘äº†æ–°ä¸€è½®ç¾å›¢çš„è®¢å•é”å•ï¼Œå¾…ç©å®Œè¿™ä¿©æ™¯åŒºåï¼Œå‰©ä½™çš„æ™¯ç‚¹æ²¡ç©ï¼Œä»¥è‡³äºä¸‰å¤©é€¾æœŸåè‡ªåŠ¨æ ¸é”€è®¢å•ï¼Œè¿™ä¹Ÿä½è¯äº†æƒ…å†µ2é‡Œçš„çŒœæµ‹</p>
<h2 data-id="heading-3">å¤ç›˜æ€»ç»“</h2>
<p>åç»­æ‰“ç”µè¯è·ŸæŠ–éŸ³å¹³å°æ ¸å®äº†ç›¸å…³çš„æƒ…å†µï¼Œé¡ºåˆ©å®Œæˆäº†é€€ç¥¨é€€æ¬¾æµç¨‹ã€‚å¥³æœ‹å‹è¿˜åœ¨ä¸€æ—è·Ÿæˆ‘èŠç€æ•´ä¸ªå‡ºè¡Œçš„è¶£äº‹ï¼Œä½†æ­¤æ—¶æˆ‘æ»¡è„‘å­éƒ½æ˜¯åœ¨æƒ³ç€æ€ä¹ˆä¿®å¤ç¥¨åŠ¡ç³»ç»Ÿä¸­çš„bugğŸ›</p>
<p>ä¸€å¼€å§‹æƒ³çš„æ–¹æ¡ˆè§£å†³æ–¹æ¡ˆå¾ˆç²—æš´ï¼šå°±æ˜¯è®©æ™¯åŒºæä¾›ä¸€ä¸ªç‰¹æ®Šé€šé“ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡æ‰“å¼€äºŒç»´ç æ¥æ ¸é”€å¹³å°è®¢å•ï¼Œä½†è¿™ç§ä¹Ÿé¢„é˜²ä¸äº†ç”¨æˆ·é€šè¿‡äººè„¸è¯†åˆ«è¿›å…¥çš„æƒ…å†µ</p>
<p>åé¢æƒ³äº†ä¸€ä¸ªä»æ ¹æœ¬ä¸Šè§£å†³çš„æ–¹æ¡ˆï¼šç”¨æˆ·äººè„¸è¯†åˆ«ï¼Œæ£€æµ‹åˆ°å­˜åœ¨å¤šä¸ªå¹³å°è®¢å•æ—¶ï¼Œéœ€è¦æç¤ºç”¨æˆ·é€‰æ‹©æŒ‡å®šå¹³å°çš„è®¢å•è¿›è¡Œæ ¸é”€ï¼Œè¿™æ ·å°±å¯ä»¥å½»åº•é¢„é˜²å¤šä¸ªå¹³å°é‡å¤æ ¸é”€çš„æƒ…å†µäº†</p>
<p>ä»Šå¤©çš„åˆ†äº«å°±åˆ°æ­¤ç»“æŸï¼Œå¦‚æœä½ å¯¹æŠ€æœ¯/è¡Œä¸šäº¤æµæœ‰å…´è¶£ï¼Œæ¬¢è¿æ·»åŠ <code>howcoder</code>å¾®ä¿¡ï¼Œé‚€ä½ è¿›ç¾¤äº¤æµ</p>
<h2 data-id="heading-4">å¾€æœŸç²¾å½©</h2>
<p><a href="https://juejin.cn/post/7467869746236571683" target="_blank" title="https://juejin.cn/post/7467869746236571683">ã€Šè¿™æ¬¡ç»ˆäºè½®åˆ°å‰ç«¯ç»™åç«¯å…œåº•äº†ğŸ¤£ã€‹</a></p>
<p><a href="https://juejin.cn/post/7467869746236571683" target="_blank" title="https://juejin.cn/post/7467869746236571683">ã€Šä½ ä¸äº†è§£çš„Gridå¸ƒå±€ã€‹</a></p>
<p><a href="https://juejin.cn/post/7459005223173554213" target="_blank" title="https://juejin.cn/post/7459005223173554213">ã€Šå°±ä½ å°å­è¿˜ä¸ä¼š Gridå¸ƒå±€æ˜¯å§ï¼Ÿã€‹</a></p>
<p><a href="https://juejin.cn/post/7452197534352031770" target="_blank" title="https://juejin.cn/post/7452197534352031770">ã€Šè¶…ç¡¬æ ¸ï¼šä»é›¶åˆ°ä¸€éƒ¨ç½²æŒ‡å—ã€‹</a></p>
<p><a href="https://juejin.cn/post/7451168270878097434" target="_blank" title="https://juejin.cn/post/7451168270878097434">ã€Šç§æ´»2å¹´ï¼Œæˆ‘èµšåˆ°äº†äººç”Ÿçš„ç¬¬ä¸€æ¡¶é‡‘ã€‹</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ Spring AI åˆ›å»º MCP æœåŠ¡å™¨]]></title>    <link>https://juejin.cn/post/7574600119750148106</link>    <guid>https://juejin.cn/post/7574600119750148106</guid>    <pubDate>2025-11-20T07:43:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574600119750148106" data-draft-id="7574621387572559918" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ Spring AI åˆ›å»º MCP æœåŠ¡å™¨"/> <meta itemprop="keywords" content="MCP"/> <meta itemprop="datePublished" content="2025-11-20T07:43:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿¡ç ç”±ç¼°"/> <meta itemprop="url" content="https://juejin.cn/user/2110664941509214"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ Spring AI åˆ›å»º MCP æœåŠ¡å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2110664941509214/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿¡ç ç”±ç¼°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-20T07:43:45.000Z" title="Thu Nov 20 2025 07:43:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡æä¾›äº†ä½¿ç”¨ Spring AI åˆ›å»ºæ¨¡å‹ä¸Šä¸‹æ–‡åè®®æœåŠ¡å™¨çš„åˆ†æ­¥æŒ‡å—ï¼Œå¹¶é˜è¿°äº†ä½¿ç”¨ MCP çš„ä¼˜åŠ¿ã€‚</p>
</blockquote>
<p><img src="https://cf-blog.icodebuddy.com/image/90/90-0.jpeg" alt="" loading="lazy"/></p>
<p>åœ¨æœ¬ç¯‡åšå®¢ä¸­ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ Spring AI åˆ›å»ºä¸€ä¸ªæ¨¡å‹ä¸Šä¸‹æ–‡åè®®æœåŠ¡å™¨ã€‚æ‚¨å°†çœ‹åˆ°åˆ›å»ºè‡ªå·±çš„ MCP æœåŠ¡å™¨æ˜¯å¤šä¹ˆç®€å•ã€‚</p>
<h2 data-id="heading-0">å¼•è¨€</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelcontextprotocol.io%2F" target="_blank" title="https://modelcontextprotocol.io/" ref="nofollow noopener noreferrer">æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼ˆModel Context Protocolï¼‰</a>ä¸ºå°†å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰è¿æ¥åˆ°å„ç§æ•°æ®æºå’Œå·¥å…·æä¾›äº†ä¸€ç§<strong>æ ‡å‡†åŒ–</strong>çš„æ–¹å¼ã€‚è¿™å¥è¯ä¸­çš„"æ ‡å‡†åŒ–"ä¸€è¯éå¸¸é‡è¦ã€‚è¿™æ„å‘³ç€ä¸æ•°æ®æºå’Œå·¥å…·çš„é›†æˆå˜å¾—æ¯”ä»¥å¾€å®¹æ˜“å¾—å¤šã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒMCP æœåŠ¡å™¨é€šè¿‡é¢å¤–çš„çŸ¥è¯†æˆ–åŠŸèƒ½æ¥å¢å¼ºæ‚¨çš„ LLMï¼Œä½¿å…¶æˆä¸ºä¸€ä¸ªæ›´å¼ºå¤§çš„åŠ©æ‰‹ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œæ‚¨å¯ä»¥è¦æ±‚ LLM ä¸ºæ‚¨é¢„è®¢å‡æœŸã€‚</p>
<p>æ ¹æ®æ‚¨çš„åå¥½ï¼Œå®ƒå°†åœ¨äº’è”ç½‘ä¸Šæœç´¢åˆé€‚çš„åœ°ç‚¹ã€é¢„è®¢é…’åº—ã€é¢„è®¢èˆªç­ç­‰ç­‰ï¼Œç„¶åæ‚¨å°±å¯ä»¥å‡ºå‘äº†ï¼å½“ç„¶ï¼ŒLLM éœ€è¦èƒ½å¤Ÿä¸ºæ‚¨é¢„è®¢é…’åº—å’Œèˆªç­ã€‚è¿™ç§é™„åŠ åŠŸèƒ½å¯ä»¥ç”± MCP æœåŠ¡å™¨æä¾›ã€‚è¿™å¬èµ·æ¥å¾ˆå¸å¼•äººï¼Œä½†ä¹Ÿæœ‰äº›ä»¤äººæ‹…å¿§ã€‚ä¸ºäº†é¢„è®¢é…’åº—ï¼ŒMCP æœåŠ¡å™¨éœ€è¦çŸ¥é“æ‚¨çš„ä¸ªäººè¯¦ç»†ä¿¡æ¯å¹¶éœ€è¦è®¿é—®æ‚¨çš„ä¿¡ç”¨å¡ã€‚è¿™å¯èƒ½ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚å»ºè®®å¯¹<em>æ•æ„Ÿ</em>æ“ä½œä½¿ç”¨äººå·¥ä»‹å…¥ï¼ˆHITLï¼‰ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥æ‰¹å‡†æˆ–æ‹’ç»æŸé¡¹æ“ä½œã€‚ç„¶è€Œï¼ŒMCP æœåŠ¡å™¨å°†ä½¿æ‚¨çš„ç”Ÿæ´»å˜å¾—æ›´åŠ è½»æ¾ã€‚</p>
<p>åœ¨æœ¬åšå®¢ä¸­ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ Spring Boot å’Œ Spring AI åˆ›å»ºè‡ªå·±çš„ MCP æœåŠ¡å™¨ã€‚æ²¡æœ‰ MCP å®¢æˆ·ç«¯ï¼ŒæœåŠ¡å™¨å°†æ¯«æ— ç”¨å¤„ã€‚MCP å®¢æˆ·ç«¯ä¸ä¸€ä¸ªæˆ–å¤šä¸ª MCP æœåŠ¡å™¨äº¤äº’ï¼Œå¹¶ä¸”æ˜¯æ§åˆ¶æ–¹ã€‚ä½œä¸º MCP å®¢æˆ·ç«¯ï¼Œæ‚¨å°†ï¼ˆæ»¥ï¼‰ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdevoxx%2FDevoxxGenieIDEAPlugin" target="_blank" title="https://github.com/devoxx/DevoxxGenieIDEAPlugin" ref="nofollow noopener noreferrer">IntelliJ DevoxxGenie æ’ä»¶</a>ã€‚DevoxxGenie å®é™…ä¸Šæ˜¯ä¸€ä¸ª AI ç¼–ç åŠ©æ‰‹ï¼Œä½†æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨å®ƒæ¥æµ‹è¯•æ‚¨çš„ MCP æœåŠ¡å™¨ã€‚åœ¨ä¸‹ä¸€ç¯‡åšå®¢ä¸­ï¼Œæ‚¨å°†åˆ›å»ºè‡ªå·±çš„ MCP å®¢æˆ·ç«¯ã€‚</p>
<p>æœ¬ç¯‡åšå®¢ä¸­ä½¿ç”¨çš„æºä»£ç å¯åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmydeveloperplanet%2Fmymcpserverplanet" target="_blank" title="https://github.com/mydeveloperplanet/mymcpserverplanet" ref="nofollow noopener noreferrer">GitHub</a> çš„ <strong>server</strong> ç›®å½•ä¸­æ‰¾åˆ°ã€‚</p>
<h2 data-id="heading-1">å…ˆå†³æ¡ä»¶</h2>
<p>é˜…è¯»æœ¬åšå®¢çš„å…ˆå†³æ¡ä»¶æ˜¯ï¼š</p>
<ul>
<li>
<p>åŸºç¡€çš„ Java çŸ¥è¯†ï¼›</p>
</li>
<li>
<p>åŸºç¡€çš„ Spring Boot çŸ¥è¯†ï¼›</p>
</li>
<li>
<p>åŸºç¡€çš„ LMStudio çŸ¥è¯†ï¼›</p>
</li>
<li>
<p>åŸºç¡€çš„ IntelliJ å’Œ DevoxxGenie çŸ¥è¯†ã€‚</p>
</li>
</ul>
<h2 data-id="heading-2">æ„å»º MCP æœåŠ¡å™¨</h2>
<p>æ‚¨å°†æ„å»ºçš„ MCP æœåŠ¡å™¨å…·æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ul>
<li>
<p>è¿”å›æˆ‘å–œçˆ±çš„è‰ºæœ¯å®¶åˆ—è¡¨</p>
</li>
<li>
<p>è¿”å›æˆ‘å–œçˆ±çš„æ­Œæ›²åˆ—è¡¨</p>
</li>
</ul>
<p>LLM ä¸ä¼šæ‹¥æœ‰å…³äºæ­¤ä¿¡æ¯çš„ä»»ä½•çŸ¥è¯†ï¼Œè€Œå½“å®ƒèƒ½å¤Ÿè®¿é—®è¿™äº›å·¥å…·æ—¶ï¼Œå¸Œæœ›å®ƒä¼šåˆ©ç”¨å®ƒä»¬ã€‚æœ¬åº”ç”¨æ·±å— Dan Vega çš„ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.danvega.dev%2Fblog%2Fcreating-your-first-mcp-server-java" target="_blank" title="https://www.danvega.dev/blog/creating-your-first-mcp-server-java" ref="nofollow noopener noreferrer">ä½¿ç”¨ Java åˆ›å»ºæ‚¨çš„ç¬¬ä¸€ä¸ªæ¨¡å‹ä¸Šä¸‹æ–‡åè®®æœåŠ¡å™¨</a>ã€‹çš„å¯å‘ã€‚</p>
<p>è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fstart.spring.io%2F" target="_blank" title="https://start.spring.io/" ref="nofollow noopener noreferrer">Spring Initializr</a> å¹¶æ·»åŠ ä¾èµ–é¡¹ <code>Model Context Protocol Server</code>ã€‚è¿™å°†åœ¨ <code>pom.xml</code> ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–é¡¹ã€‚</p>
<pre><code class="hljs language-xml" lang="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.ai<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-ai-starter-mcp-server<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

</code></pre>
<p>åˆ›å»º <code>Artist</code> çš„æ•°æ®æ¨¡å‹ã€‚</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">Artist</span><span class="hljs-params">(String name)</span> {

}

</code></pre>
<p>åˆ›å»º <code>Song</code> çš„æ•°æ®æ¨¡å‹ã€‚</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">Song</span><span class="hljs-params">(Artist artist, String title)</span> {

}

</code></pre>
<p>åˆ›å»º <code>ArtistService</code>ã€‚è¯¥æœåŠ¡å°†åŒ…å«ä¸€ä¸ªæˆ‘å–œçˆ±çš„è‰ºæœ¯å®¶åˆ—è¡¨ï¼Œä½†åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™äº›ä¿¡æ¯å°†å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚é€šè¿‡ä½¿ç”¨ <code>@Tool</code> æ³¨è§£æ¥å®šä¹‰ä¸€ä¸ªåä¸º <code>get_artists</code> çš„å·¥å…·ã€‚ä¸ºå·¥å…·æä¾›åç§°å’Œæè¿°ã€‚LLM å°†ä½¿ç”¨è¯¥æè¿°æ¥äº†è§£å·¥å…·çš„åŠŸèƒ½ã€‚</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-meta">@Service</span>

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ArtistService</span> {

  


<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> List&lt;Artist&gt; artists = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();

  


<span class="hljs-meta">@Tool(name = "get_artists", description = "è·å– Gunter å–œçˆ±çš„è‰ºæœ¯å®¶å®Œæ•´åˆ—è¡¨")</span>

<span class="hljs-keyword">public</span> List&lt;Artist&gt; <span class="hljs-title function_">getArtists</span><span class="hljs-params">()</span> {

<span class="hljs-keyword">return</span> artists;

}

  


<span class="hljs-meta">@PostConstruct</span>

<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> {

artists.addAll(List.of(

<span class="hljs-keyword">new</span> <span class="hljs-title class_">Artist</span>(<span class="hljs-string">"Bruce Springsteen"</span>),

<span class="hljs-keyword">new</span> <span class="hljs-title class_">Artist</span>(<span class="hljs-string">"JJ Johnson"</span>)

));

}

  


}

</code></pre>
<p>ä»¥ç±»ä¼¼çš„æ–¹å¼ï¼Œåˆ›å»º <code>SongService</code>ã€‚</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-meta">@Service</span>

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SongService</span> {

  


<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> List&lt;Song&gt; songs = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();

  


<span class="hljs-meta">@Tool(name = "get_songs", description = "è·å– Gunter å–œçˆ±çš„æ­Œæ›²å®Œæ•´åˆ—è¡¨")</span>

<span class="hljs-keyword">public</span> List&lt;Song&gt; <span class="hljs-title function_">getSongs</span><span class="hljs-params">()</span> {

<span class="hljs-keyword">return</span> songs;

}

  


<span class="hljs-meta">@PostConstruct</span>

<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> {

songs.addAll((List.of(

<span class="hljs-keyword">new</span> <span class="hljs-title class_">Song</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Artist</span>(<span class="hljs-string">"Bruce Springsteen"</span>), <span class="hljs-string">"My Hometown"</span>),

<span class="hljs-keyword">new</span> <span class="hljs-title class_">Song</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Artist</span>(<span class="hljs-string">"JJ Johnson"</span>), <span class="hljs-string">"Lament"</span>)

)));

}

  


}

</code></pre>
<p>æ‚¨é€šè¿‡ä¸€ä¸ª <code>Bean</code> æ¥æ³¨å†Œè¿™äº›å·¥å…·ã€‚</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-meta">@SpringBootApplication</span>

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyMcpServerPlanetApplication</span> {

  


<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {

SpringApplication.run(MyMcpServerPlanetApplication.class, args);

}

  


<span class="hljs-meta">@Bean</span>

<span class="hljs-keyword">public</span> ToolCallbackProvider <span class="hljs-title function_">mcpServices</span><span class="hljs-params">(ArtistService artistService, SongService songService)</span> {

<span class="hljs-keyword">return</span> MethodToolCallbackProvider.builder()

.toolObjects(artistService, songService)

.build();

}

  


}

</code></pre>
<p>æœ€åï¼Œæ·»åŠ ä»¥ä¸‹ <code>application.properties</code> é…ç½®ã€‚</p>
<pre><code class="hljs language-properties" lang="properties">
spring.main.web-application-type=none

spring.ai.mcp.server.name=mcp-server

spring.ai.mcp.server.version=0.0.1

  


spring.main.banner-mode=off

logging.pattern.console=

</code></pre>
<p>æ­¤é…ç½®åšäº†å‡ ä»¶é‡è¦çš„äº‹æƒ…ï¼š</p>
<ul>
<li>
<p><strong>ç¦ç”¨ Web åº”ç”¨ç¨‹åº</strong>ï¼šç”±äº MCP ä½¿ç”¨ STDIO ä¼ è¾“ï¼Œå› æ­¤ä¸éœ€è¦ Web æœåŠ¡å™¨ã€‚</p>
</li>
<li>
<p><strong>è®¾ç½®æœåŠ¡å™¨åç§°å’Œç‰ˆæœ¬</strong>ï¼šè¿™ç”¨äºå‘å®¢æˆ·ç«¯æ ‡è¯† MCP æœåŠ¡å™¨ã€‚</p>
</li>
<li>
<p><strong>ç¦ç”¨æ¨ªå¹…å’Œæ§åˆ¶å°æ—¥å¿—è®°å½•</strong>ï¼šè¿™å¯¹äº STDIO ä¼ è¾“æ­£å¸¸å·¥ä½œè‡³å…³é‡è¦ã€‚</p>
</li>
</ul>
<p>æ„å»º jar æ–‡ä»¶ã€‚</p>
<pre><code class="hljs language-shell" lang="shell">
mvn clean verify

</code></pre>
<p>è¿™å°†åœ¨ <code>target</code> ç›®å½•ä¸­ç”Ÿæˆä¸€ä¸ª jar æ–‡ä»¶ï¼š<code>target/mcp-server-0.0.1-SNAPSHOT.jar</code>ã€‚</p>
<h2 data-id="heading-3">æµ‹è¯• MCP æœåŠ¡å™¨</h2>
<p>ä¸ºäº†æµ‹è¯• MCP æœåŠ¡å™¨ï¼Œéœ€è¦ä¸€ä¸ª MCP å®¢æˆ·ç«¯ã€‚å¦‚å‰æ‰€è¿°ï¼Œå°†ä½¿ç”¨ DevoxxGenie æ¥å®ç°æ­¤ç›®çš„ã€‚</p>
<p>å°† MCP æœåŠ¡å™¨æ·»åŠ åˆ° DevoxxGenie çš„ MCP è®¾ç½®ä¸­ã€‚è¯·æ³¨æ„ï¼Œæ‚¨éœ€è¦å¯¹å‘½ä»¤å’Œå‚æ•°ä½¿ç”¨å®Œæ•´è·¯å¾„ã€‚</p>
<ul>
<li>
<p><strong>åç§°</strong>ï¼šMyMcpServerPlanet</p>
</li>
<li>
<p><strong>ä¼ è¾“ç±»å‹</strong>ï¼šSTDIO</p>
</li>
<li>
<p><strong>å‘½ä»¤</strong>ï¼š<code>/&lt;java installation directory&gt;/bin/java</code></p>
</li>
<li>
<p><strong>å‚æ•°</strong>ï¼š<code>-jar /home/&lt;project directory&gt;/mymcpserverplanet/server/target/mymcpserverplanet-0.0.1-SNAPSHOT.jar</code></p>
</li>
</ul>
<p><img src="https://cf-blog.icodebuddy.com/image/90/90-1.png" alt="Test MCP Server" loading="lazy"/>)</p>
<p>å•å‡»"<strong>æµ‹è¯•è¿æ¥å¹¶è·å–å·¥å…·</strong>"æŒ‰é’®ã€‚æŒ‰é’®çš„æ ‡é¢˜åº”å˜æ›´ä¸º"<strong>è¿æ¥æˆåŠŸï¼æ‰¾åˆ° 2 ä¸ªå·¥å…·</strong>"ã€‚</p>
<p>ä¸ DevoxxGenie ä¸€èµ·ï¼Œä½¿ç”¨ LMStudio ä½œä¸ºæ¨ç†å¼•æ“ï¼Œæ¨¡å‹ <code>qwen3-8b</code> åœ¨ GPU ä¸Šè¿è¡Œã€‚</p>
<p>è¾“å…¥æç¤ºï¼š<code>ç»™æˆ‘ä¸€ä¸ª Gunter å–œçˆ±çš„è‰ºæœ¯å®¶åˆ—è¡¨ã€‚</code></p>
<p>è¯¥è¯·æ±‚è¢«å‘é€åˆ° LMStudioï¼Œå¯ç”¨çš„å·¥å…·ä¹Ÿéšè¯·æ±‚ä¸€èµ·å‘é€ã€‚å¦‚æœæ‚¨åœ¨ LMStudio ä¸­å¯ç”¨äº†è°ƒè¯•æ—¥å¿—ï¼Œå¯ä»¥æ£€æŸ¥è¯¥è¯·æ±‚ã€‚</p>
<pre><code class="hljs language-json" lang="json">
<span class="hljs-number">2025</span><span class="hljs-number">-07</span><span class="hljs-number">-20</span> <span class="hljs-number">11</span><span class="hljs-punctuation">:</span><span class="hljs-number">45</span><span class="hljs-punctuation">:</span><span class="hljs-number">42</span> <span class="hljs-punctuation">[</span>DEBUG<span class="hljs-punctuation">]</span>

Received request<span class="hljs-punctuation">:</span> POST to /v1/chat/completions with body <span class="hljs-punctuation">{</span>

<span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"qwen3-8b"</span><span class="hljs-punctuation">,</span>

<span class="hljs-attr">"messages"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>

<span class="hljs-punctuation">{</span>

<span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"system"</span><span class="hljs-punctuation">,</span>

<span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"You are a software developer IDEA plugin with expe... &lt;æ—¥å¿—ä¸­å·²æˆªæ–­&gt; ...at is correct and relevant to the code or plugin.\n"</span>

<span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>

<span class="hljs-punctuation">{</span>

<span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user"</span><span class="hljs-punctuation">,</span>

<span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&lt;ProjectPath&gt;\n/home/&lt;project directory&gt;... &lt;æ—¥å¿—ä¸­å·²æˆªæ–­&gt; ... list of gunter's favorite artists\n&lt;/UserPrompt&gt;\n\n"</span>

<span class="hljs-punctuation">}</span>

<span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>

<span class="hljs-attr">"temperature"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>

<span class="hljs-attr">"top_p"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0.9</span><span class="hljs-punctuation">,</span>

<span class="hljs-attr">"stream"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>

<span class="hljs-attr">"max_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8000</span><span class="hljs-punctuation">,</span>

<span class="hljs-attr">"tools"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>

<span class="hljs-punctuation">{</span>

<span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"function"</span><span class="hljs-punctuation">,</span>

<span class="hljs-attr">"function"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>

<span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"get_songs"</span><span class="hljs-punctuation">,</span>

<span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è·å– Gunter å–œçˆ±çš„æ­Œæ›²å®Œæ•´åˆ—è¡¨"</span><span class="hljs-punctuation">,</span>

<span class="hljs-attr">"parameters"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>

<span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"object"</span><span class="hljs-punctuation">,</span>

<span class="hljs-attr">"properties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>

<span class="hljs-attr">"required"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>

<span class="hljs-punctuation">}</span>

<span class="hljs-punctuation">}</span>

<span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>

<span class="hljs-punctuation">{</span>

<span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"function"</span><span class="hljs-punctuation">,</span>

<span class="hljs-attr">"function"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>

<span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"get_artists"</span><span class="hljs-punctuation">,</span>

<span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è·å– Gunter å–œçˆ±çš„è‰ºæœ¯å®¶å®Œæ•´åˆ—è¡¨"</span><span class="hljs-punctuation">,</span>

<span class="hljs-attr">"parameters"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>

<span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"object"</span><span class="hljs-punctuation">,</span>

<span class="hljs-attr">"properties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>

<span class="hljs-attr">"required"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>

<span class="hljs-punctuation">}</span>

<span class="hljs-punctuation">}</span>

<span class="hljs-punctuation">}</span>

<span class="hljs-punctuation">]</span>

<span class="hljs-punctuation">}</span>

</code></pre>
<p>LLM å°†æ„è¯†åˆ°å®ƒè‡ªå·±æ— æ³•å›ç­”è¿™ä¸ªé—®é¢˜ã€‚ç„¶è€Œï¼ŒLLM ç¡®å®è¯†åˆ«å‡ºæœ‰ä¸€ä¸ªå¯ç”¨çš„å·¥å…·å¯ä»¥å›ç­”è¿™ä¸ªé—®é¢˜ã€‚å› æ­¤ï¼ŒLLM å°†è¯·æ±‚å®¢æˆ·ç«¯è°ƒç”¨ MCP å·¥å…·ã€‚DevoxxGenie å†…ç½®äº†äººå·¥ä»‹å…¥æœºåˆ¶ï¼Œå¹¶å°†è¯·æ±‚æ‚¨çš„æ‰¹å‡†ã€‚</p>
<p><img src="https://cf-blog.icodebuddy.com/image/90/90-2.png" alt="ç‚¹å‡»æ‰¹å‡†æŒ‰é’®" loading="lazy"/></p>
<p>ç‚¹å‡»"<strong>æ‰¹å‡†</strong>"æŒ‰é’®ã€‚MCP æœåŠ¡å™¨å°†æ‰§è¡Œ <code>get_artists</code> å·¥å…·ï¼Œå¹¶å°†å“åº”å‘é€å› LLMã€‚LLM å°†ä½¿ç”¨æ­¤å“åº”æ¥ç»™å‡ºé€‚å½“çš„ç­”æ¡ˆã€‚</p>
<p>æ”¶åˆ°ä»¥ä¸‹å“åº”ï¼Œå¹¶ä¸”å®Œå…¨æ­£ç¡®ã€‚è§‚å¯Ÿ LLM çš„æ€ç»´è¿‡ç¨‹ä¹Ÿå¾ˆæœ‰è¶£ã€‚</p>
<pre><code class="hljs language-plain" lang="plain">
&lt;think&gt; å¥½çš„ï¼Œç”¨æˆ·è¦æ±‚æä¾› Gunter å–œçˆ±çš„è‰ºæœ¯å®¶åˆ—è¡¨ã€‚æˆ‘è°ƒç”¨äº† `get_artists` å‡½æ•°ï¼Œè¿”å›äº†ä¸¤ä½è‰ºæœ¯å®¶ï¼šBruce Springsteen å’Œ JJ Johnsonã€‚ç°åœ¨ä»–ä»¬å¯èƒ½æƒ³çŸ¥é“æ˜¯å¦è¿˜æœ‰æ›´å¤šæˆ–è€…éœ€è¦è¿›ä¸€æ­¥å¸®åŠ©ã€‚

  


æˆ‘åº”è¯¥ç¡®è®¤ç»“æœï¼Œä¹Ÿè®¸å¯ä»¥è¯¢é—®ä»–ä»¬æ˜¯å¦è¿˜éœ€è¦å…¶ä»–ä»€ä¹ˆã€‚ç”±äºä¹‹å‰çš„å“åº”æ˜¯æˆåŠŸçš„ï¼Œä¿æŒç§¯æçš„è¯­æ°”å¾ˆå¥½ã€‚å·¥å…·è°ƒç”¨æ²¡æœ‰é”™è¯¯ï¼Œæ‰€ä»¥è¿™é‡Œä¸éœ€è¦é¢å¤–çš„å‡½æ•°è°ƒç”¨ã€‚ &lt;/think&gt;

  


ä»¥ä¸‹æ˜¯ Gunter å–œçˆ±çš„è‰ºæœ¯å®¶ï¼š

  


* **Bruce Springsteen**

* **JJ Johnson**

  


å¦‚æœæ‚¨éœ€è¦æ›´å¤šä¿¡æ¯æˆ–å¸®åŠ©ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼

</code></pre>
<p>è®©æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹æç¤ºæ£€æŸ¥ <code>get_songs</code> å·¥å…·ï¼š<code>ç»™æˆ‘ä¸€ä¸ª Gunter å–œçˆ±çš„æ­Œæ›²åˆ—è¡¨</code></p>
<p>éµå¾ªç›¸åŒçš„è¿‡ç¨‹ï¼Œå“åº”å†æ¬¡æ­£ç¡®ã€‚</p>
<pre><code class="hljs language-plain" lang="plain">
&lt;think&gt; å¥½çš„ï¼Œç”¨æˆ·è¦æ±‚æä¾› Gunter å–œçˆ±çš„æ­Œæ›²åˆ—è¡¨ã€‚æˆ‘ä½¿ç”¨äº† get_songs å‡½æ•°ï¼Œå®ƒæ£€ç´¢åˆ°äº†ä¸¤é¦–æ­Œæ›²ã€‚ç°åœ¨æˆ‘éœ€è¦æ¸…æ™°åœ°å‘ˆç°è¿™äº›ä¿¡æ¯ã€‚è®©æˆ‘ç”¨è‰ºæœ¯å®¶å’Œæ­Œåæ¥æ ¼å¼åŒ–æ¯é¦–æ­Œæ›²ã€‚ç¡®ä¿å“åº”æ˜“äºé˜…è¯»ï¼Œä¹Ÿè®¸ç”¨é¡¹ç›®ç¬¦å·ã€‚æ£€æŸ¥æ˜¯å¦éœ€è¦ä»»ä½•é¢å¤–ä¿¡æ¯ï¼Œä½†æ—¢ç„¶ç”¨æˆ·åªæƒ³è¦ä¸€ä¸ªåˆ—è¡¨ï¼Œä¿æŒç®€å•åº”è¯¥æ˜¯æœ€å¥½çš„ã€‚ &lt;/think&gt;

  


ä»¥ä¸‹æ˜¯ Gunter å–œçˆ±çš„æ­Œæ›²åˆ—è¡¨ï¼š

  


1. **Bruce Springsteen** - *ã€ŠMy Hometownã€‹*

2. **JJ Johnson** - *ã€ŠLamentã€‹*

  


å¦‚æœæ‚¨æƒ³äº†è§£è¿™äº›æ›²ç›®çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼

</code></pre>
<h2 data-id="heading-4">æ·»åŠ æœç´¢åŠŸèƒ½</h2>
<p>è®©æˆ‘ä»¬å‘ä¸¤ä¸ª MCP å·¥å…·æ·»åŠ ä¸€äº›åŸºæœ¬çš„æœç´¢åŠŸèƒ½ã€‚</p>
<p>å‘ <code>ArtistService</code> æ·»åŠ ä¸€ä¸ª <code>search_artist</code> å·¥å…·ã€‚</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-meta">@Tool(name = "search_artist", description = "ä» Gunter å–œçˆ±çš„è‰ºæœ¯å®¶ä¸­æœç´¢å•ä¸ªè‰ºæœ¯å®¶")</span>

<span class="hljs-keyword">public</span> Artist <span class="hljs-title function_">getArtist</span><span class="hljs-params">(String name)</span> {

<span class="hljs-keyword">return</span> artists.stream()

.filter(artist -&gt; artist.name().equalsIgnoreCase(name))

.findFirst()

.orElse(<span class="hljs-literal">null</span>);

}

</code></pre>
<p>å‘ <code>SongService</code> æ·»åŠ ä¸€ä¸ª <code>search_song</code> å·¥å…·ã€‚</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-meta">@Tool(name = "search_song", description = "ä» Gunter å–œçˆ±çš„æ­Œæ›²ä¸­æœç´¢å•é¦–æ­Œæ›²")</span>

<span class="hljs-keyword">public</span> Song <span class="hljs-title function_">getSong</span><span class="hljs-params">(String title)</span> {

<span class="hljs-keyword">return</span> songs.stream()

.filter(song -&gt; song.title().equalsIgnoreCase(title))

.findFirst()

.orElse(<span class="hljs-literal">null</span>);

}

</code></pre>
<p>æ„å»º jar æ–‡ä»¶å¹¶ä½¿ç”¨ DevoxxGenie è·å–æ–°å·¥å…·ã€‚</p>
<p>è¾“å…¥ä»¥ä¸‹æç¤ºï¼š<code>Bruce Springsteen æ˜¯ Gunter å–œçˆ±çš„è‰ºæœ¯å®¶ä¹‹ä¸€å—ï¼Ÿ</code></p>
<p>è¿™æ¬¡è°ƒç”¨äº† <code>search_artist</code> å·¥å…·ï¼Œå“åº”å†æ¬¡æ­£ç¡®ã€‚</p>
<pre><code class="hljs language-plain" lang="plain">
&lt;think&gt; å¥½çš„ï¼Œç”¨æˆ·è¯¢é—® Bruce Springsteen æ˜¯å¦æ˜¯ Gunter å–œçˆ±çš„è‰ºæœ¯å®¶ä¹‹ä¸€ã€‚æˆ‘ä½¿ç”¨ search_artist å‡½æ•°å¹¶ä¼ å…¥äº†ä»–çš„åå­—ã€‚å“åº”è¿”å›äº†è‰ºæœ¯å®¶ "Bruce Springsteen"ã€‚ç°åœ¨æˆ‘éœ€è¦æ£€æŸ¥ä»–æ˜¯å¦åœ¨ Gunter çš„å–œçˆ±åˆ—è¡¨ä¸­ã€‚

  


ç­‰ç­‰ï¼Œå¯ç”¨çš„å‡½æ•°æ˜¯ get_artists å’Œ search_artistã€‚search_artist å‡½æ•°å¯èƒ½æ£€æŸ¥è‰ºæœ¯å®¶æ˜¯å¦å­˜åœ¨äºæ•°æ®åº“ä¸­ã€‚æ—¢ç„¶å“åº”è¿”å›äº†è¯¥è‰ºæœ¯å®¶ï¼Œé‚£æ„å‘³ç€ Bruce Springsteen ç¡®å®åœ¨ Gunter å–œçˆ±çš„è‰ºæœ¯å®¶åˆ—è¡¨ä¸­ã€‚

  


æ‰€ä»¥ç­”æ¡ˆåº”è¯¥æ˜¯è‚¯å®šçš„ã€‚æˆ‘åº”è¯¥æ ¹æ®å‡½æ•°çš„å“åº”æ¥ç¡®è®¤è¿™ä¸€ç‚¹ã€‚æ—¢ç„¶ç”¨æˆ·çš„é—®é¢˜å·²ç»å¾—åˆ°å›ç­”ï¼Œä¸éœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œã€‚åªéœ€æ¸…æ™°åœ°å‘ˆç°ç»“æœå³å¯ã€‚ &lt;/think&gt;

  


æ˜¯çš„ï¼ŒBruce Springsteen æ˜¯ Gunter å–œçˆ±çš„è‰ºæœ¯å®¶ä¹‹ä¸€ã€‚æœç´¢ç¡®è®¤äº†ä»–åœ¨æ”¶è—ä¸­ã€‚

</code></pre>
<p>è¾“å…¥ä»¥ä¸‹æç¤ºï¼š<code>æ»šçŸ³ä¹é˜Ÿæ˜¯ Gunter å–œçˆ±çš„è‰ºæœ¯å®¶ä¹‹ä¸€å—ï¼Ÿ</code></p>
<p>è°ƒç”¨äº† <code>search_artist</code> å·¥å…·ï¼Œç”±äºæœªæ‰¾åˆ°æ»šçŸ³ä¹é˜Ÿï¼ŒLLM æ–­å®šä»–ä»¬ä¸åœ¨æˆ‘å–œçˆ±çš„è‰ºæœ¯å®¶åˆ—è¡¨ä¸­ã€‚</p>
<pre><code class="hljs language-plain" lang="plain">
&lt;think&gt; å¥½çš„ï¼Œè®©æˆ‘è¯•ç€å¼„æ¸…æ¥šè¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆã€‚ç”¨æˆ·è¯¢é—®æ»šçŸ³ä¹é˜Ÿæ˜¯å¦æ˜¯ Gunter å–œçˆ±çš„è‰ºæœ¯å®¶ä¹‹ä¸€ã€‚æˆ‘ä½¿ç”¨ search_artist å‡½æ•°ï¼Œä¼ å…¥äº†åç§° "Rolling Stones"ï¼Œä½†å“åº”æ˜¯ nullã€‚è¿™æ„å‘³ç€è¯¥å‡½æ•°åœ¨ Gunter çš„å–œçˆ±åˆ—è¡¨ä¸­æ²¡æœ‰æ‰¾åˆ°è¯¥åç§°çš„è‰ºæœ¯å®¶ã€‚

  


å—¯ï¼Œä¹Ÿè®¸æ•°æ®åº“ä¸­è‰ºæœ¯å®¶çš„åç§°ä¸å®Œå…¨æ˜¯ "Rolling Stones"ã€‚ä¼šä¸ä¼šæœ‰æ‹¼å†™é”™è¯¯æˆ–ä¸åŒçš„æ‹¼å†™æ–¹å¼ï¼Ÿæˆ–è€…ä¹Ÿè®¸ä»–ä»¬åœ¨ç³»ç»Ÿä¸­ä»¥å¦ä¸€ä¸ªåç§°è€Œé—»åã€‚æˆ–è€…ï¼Œä¹Ÿè®¸æ˜¯å› ä¸ºæ•°æ®ä¸å­˜åœ¨ï¼Œæ‰€ä»¥å‡½æ•°æ²¡æœ‰è¿”å›ä»»ä½•ç»“æœã€‚

  


æ—¢ç„¶ç”¨æˆ·æ˜¯åœ¨è¯¢é—® Gunter çš„å–œçˆ±åˆ—è¡¨ï¼Œæˆ‘åº”è¯¥æ£€æŸ¥æ˜¯å¦æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥é¦–å…ˆåˆ—å‡ºæ‰€æœ‰å–œçˆ±çš„è‰ºæœ¯å®¶ã€‚get_artists å‡½æ•°å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ã€‚å¦‚æœæˆ‘è°ƒç”¨å®ƒï¼Œä¹Ÿè®¸æˆ‘å¯ä»¥çœ‹åˆ°æ»šçŸ³ä¹é˜Ÿæ˜¯å¦åœ¨åˆ—è¡¨ä¸­ã€‚ä½†æ˜¯ç­‰ç­‰ï¼Œç”¨æˆ·å¯èƒ½ä¸æƒ³è¦æ‰€æœ‰è‰ºæœ¯å®¶ï¼Œåªæ˜¯ç¡®è®¤è¿™ä¸€ä¸ªç‰¹å®šçš„ã€‚

  


æˆ–è€…ï¼Œä¹Ÿè®¸ search_artist å‡½æ•°éœ€è¦ä¸åŒçš„å‚æ•°ã€‚è®©æˆ‘å†æ¬¡æ£€æŸ¥å·¥å…·å®šä¹‰ã€‚search_artist å‡½æ•°éœ€è¦ä¸€ä¸ª "name" å‚æ•°ï¼Œè¿™æ˜¯å¿…éœ€çš„ã€‚é‚£ä¹ˆæŸ¥è¯¢åº”è¯¥æ˜¯å¤§å°å†™ä¸æ•æ„Ÿçš„ï¼Ÿæˆ–è€…å¯èƒ½æ˜¯éƒ¨åˆ†åŒ¹é…ï¼Ÿç”¨æˆ·å¯èƒ½æŒ‡çš„æ˜¯ "Rolling Stones"ï¼Œä½†æ•°æ®åº“ä¸­çš„å­˜å‚¨æ–¹å¼ä¸åŒã€‚

  


å¦ä¸€ä¸ªæƒ³æ³•ï¼šä¹Ÿè®¸æ»šçŸ³ä¹é˜Ÿä¸åœ¨ Gunter å–œçˆ±çš„è‰ºæœ¯å®¶åˆ—è¡¨ä¸­ã€‚æœç´¢è¿”å›äº† nullï¼Œæ‰€ä»¥å¯èƒ½ä»–ä»¬ä¸åœ¨ã€‚ä½†æˆ‘åº”è¯¥é€šè¿‡å…ˆæ£€æŸ¥æ‰€æœ‰è‰ºæœ¯å®¶æ¥ç¡®è®¤ã€‚æˆ‘åº”è¯¥å‘ç”¨æˆ·å»ºè®®è¿™ä¸€ç‚¹ã€‚ç­‰ç­‰ï¼Œä½†ç”¨æˆ·æ˜¯ä¸“é—¨è¯¢é—®æ»šçŸ³ä¹é˜Ÿã€‚ä¹Ÿè®¸æˆ‘åº”è¯¥å‘ŠçŸ¥ä»–ä»¬æœç´¢æ²¡æœ‰æ‰¾åˆ°ä»»ä½•ç»“æœï¼Œå¹¶è¯¢é—®ä»–ä»¬æ˜¯å¦æƒ³æ”¹ä¸ºæ£€æŸ¥æ‰€æœ‰è‰ºæœ¯å®¶ã€‚

  


ç­‰ç­‰ï¼Œå“åº”æ˜¯ nullï¼Œæ‰€ä»¥å‡½æ•°æ²¡æœ‰è¿”å›ä»»ä½•æ•°æ®ã€‚è¿™æ„å‘³ç€è¯¥è‰ºæœ¯å®¶ä¸åœ¨åˆ—è¡¨ä¸­ã€‚æ‰€ä»¥ç­”æ¡ˆåº”è¯¥æ˜¯å¦å®šçš„ï¼Œæ»šçŸ³ä¹é˜Ÿä¸æ˜¯ Gunter å–œçˆ±çš„è‰ºæœ¯å®¶ä¹‹ä¸€ã€‚ä½†æ˜¯å‡½æ•°è°ƒç”¨ä¼šä¸ä¼šæœ‰é”™è¯¯ï¼Ÿè®©æˆ‘å†æ£€æŸ¥ä¸€éã€‚å‡½æ•°æ˜¯ search_artistï¼Œåç§°æ˜¯ "Rolling Stones"ã€‚å¦‚æœæ•°æ®åº“ä¸­æœ‰ç¡®åˆ‡çš„åç§°ï¼Œé‚£ä¹ˆå®ƒåº”è¯¥è¿”å›ã€‚å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿”å› nullã€‚

  


æ‰€ä»¥ç»“è®ºæ˜¯æ»šçŸ³ä¹é˜Ÿä¸åœ¨ Gunter çš„å–œçˆ±åˆ—è¡¨ä¸­ã€‚æˆ–è€…ï¼Œå¯èƒ½å­˜åœ¨æ‹¼å†™é”™è¯¯ã€‚ä½†æ—¢ç„¶ç”¨æˆ·æ˜¯ç›´æ¥è¯¢é—®ï¼Œæˆ‘åº”è¯¥æ ¹æ®å‡½æ•°çš„å“åº”æ¥å›ç­”ã€‚ &lt;/think&gt;

  


åœ¨ Gunter å–œçˆ±çš„è‰ºæœ¯å®¶åˆ—è¡¨ä¸­ï¼Œå¯¹è‰ºæœ¯å®¶ "Rolling Stones" çš„æœç´¢æœªè¿”å›ä»»ä½•ç»“æœã€‚è¿™è¡¨æ˜æ»šçŸ³ä¹é˜Ÿ**ç›®å‰å¹¶æœª**åˆ—ä¸º Gunter å–œçˆ±çš„è‰ºæœ¯å®¶ä¹‹ä¸€ã€‚æ‚¨æƒ³æ”¹ä¸ºæŸ¥çœ‹ä»–å–œçˆ±çš„è‰ºæœ¯å®¶çš„å®Œæ•´åˆ—è¡¨å—ï¼Ÿ

</code></pre>
<h2 data-id="heading-5">ç»“è®º</h2>
<p>åœ¨æœ¬åšå®¢ä¸­ï¼Œæ‚¨å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨ Spring Boot å’Œ Spring AI åˆ›å»ºä¸€ä¸ª MCP æœåŠ¡å™¨ã€‚åˆ›å»º MCP æœåŠ¡å™¨å’Œæ·»åŠ å·¥å…·éå¸¸å®¹æ˜“ã€‚æ‚¨å¯ä»¥ä¸“æ³¨äºå·¥å…·çš„åŠŸèƒ½ï¼Œè€Œè¿™æ­£æ˜¯æ‚¨æƒ³è¦çš„ã€‚</p>
<hr/>
<p>ã€æ³¨ã€‘æœ¬æ–‡è¯‘è‡ªï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdzone.com%2Farticles%2Fcreating-an-mcp-server-with-spring-ai" target="_blank" title="https://dzone.com/articles/creating-an-mcp-server-with-spring-ai" ref="nofollow noopener noreferrer">Creating an MCP Server With Spring AI</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨ JavaScriptï¼ˆåŒ…æ‹¬ ES è§„èŒƒï¼‰å¼€å‘ä¸­ï¼Œå¸¸ç”¨çš„æ–¹æ³•å¯ä»¥æŒ‰æ•°ç»„ã€å¯¹è±¡ã€å­—ç¬¦ä¸²ã€å¾ªç¯ / è¿­ä»£ç­‰ç±»åˆ«æ•´ç†]]></title>    <link>https://juejin.cn/post/7575937594351222827</link>    <guid>https://juejin.cn/post/7575937594351222827</guid>    <pubDate>2025-11-24T06:26:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575937594351222827" data-draft-id="7571490332371222547" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨ JavaScriptï¼ˆåŒ…æ‹¬ ES è§„èŒƒï¼‰å¼€å‘ä¸­ï¼Œå¸¸ç”¨çš„æ–¹æ³•å¯ä»¥æŒ‰æ•°ç»„ã€å¯¹è±¡ã€å­—ç¬¦ä¸²ã€å¾ªç¯ / è¿­ä»£ç­‰ç±»åˆ«æ•´ç†"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2025-11-24T06:26:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="MoMoDad"/> <meta itemprop="url" content="https://juejin.cn/user/2788017221151342"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨ JavaScriptï¼ˆåŒ…æ‹¬ ES è§„èŒƒï¼‰å¼€å‘ä¸­ï¼Œå¸¸ç”¨çš„æ–¹æ³•å¯ä»¥æŒ‰æ•°ç»„ã€å¯¹è±¡ã€å­—ç¬¦ä¸²ã€å¾ªç¯ / è¿­ä»£ç­‰ç±»åˆ«æ•´ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2788017221151342/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    MoMoDad
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T06:26:42.000Z" title="Mon Nov 24 2025 06:26:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»¥ä¸‹æ˜¯é«˜é¢‘ä½¿ç”¨çš„æ–¹æ³•åŠè¯´æ˜</p>
<h3 data-id="heading-0">ä¸€ã€æ•°ç»„æ–¹æ³•ï¼ˆæœ€å¸¸ç”¨ï¼‰</h3>
<p>æ•°ç»„æ–¹æ³•æ˜¯å¤„ç†é›†åˆæ•°æ®çš„æ ¸å¿ƒï¼Œå¤šä¸ºé«˜é˜¶å‡½æ•°ï¼ˆæ¥æ”¶å‡½æ•°ä½œä¸ºå‚æ•°ï¼‰ã€‚</p>


































































































































<table><thead><tr><th>æ–¹æ³•å</th><th>ç”¨é€”</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>forEach</code></td><td>éå†æ•°ç»„ï¼Œæ— è¿”å›å€¼ï¼ˆä»…æ‰§è¡Œå›è°ƒï¼‰</td><td><code>[1,2,3].forEach(x =&gt; console.log(x))</code>Â // ä¾æ¬¡æ‰“å° 1ã€2ã€3</td></tr><tr><td><code>map</code></td><td>éå†æ•°ç»„ï¼Œè¿”å›<strong>æ–°æ•°ç»„</strong>ï¼ˆæ¯ä¸ªå…ƒç´ ä¸ºåŸå…ƒç´ ç»å›è°ƒå¤„ç†çš„ç»“æœï¼‰</td><td><code>[1,2,3].map(x =&gt; x*2)</code>Â // ç»“æœï¼š<code>[2,4,6]</code></td></tr><tr><td><code>filter</code></td><td>ç­›é€‰æ•°ç»„ï¼Œè¿”å›<strong>æ–°æ•°ç»„</strong>ï¼ˆåŒ…å«æ‰€æœ‰æ»¡è¶³å›è°ƒæ¡ä»¶çš„å…ƒç´ ï¼‰</td><td><code>[1,2,3,4].filter(x =&gt; x%2===0)</code>Â // ç»“æœï¼š<code>[2,4]</code></td></tr><tr><td><code>some</code></td><td>æ£€æµ‹æ•°ç»„æ˜¯å¦<strong>è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ </strong>æ»¡è¶³å›è°ƒæ¡ä»¶ï¼Œè¿”å›å¸ƒå°”å€¼</td><td><code>[1,2,3].some(x =&gt; x&gt;2)</code>Â // ç»“æœï¼š<code>true</code>ï¼ˆ3 æ»¡è¶³ï¼‰</td></tr><tr><td><code>every</code></td><td>æ£€æµ‹æ•°ç»„æ˜¯å¦<strong>æ‰€æœ‰å…ƒç´ </strong>éƒ½æ»¡è¶³å›è°ƒæ¡ä»¶ï¼Œè¿”å›å¸ƒå°”å€¼</td><td><code>[1,2,3].every(x =&gt; x&gt;0)</code>Â // ç»“æœï¼š<code>true</code>ï¼ˆå…¨éƒ¨ &gt; 0ï¼‰</td></tr><tr><td><code>find</code></td><td>è¿”å›<strong>ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶</strong>çš„å…ƒç´ ï¼ˆæ— åˆ™è¿”å›<code>undefined</code>ï¼‰</td><td><code>[1,2,3,4].find(x =&gt; x&gt;2)</code>Â // ç»“æœï¼š<code>3</code></td></tr><tr><td><code>findIndex</code></td><td>è¿”å›<strong>ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶</strong>çš„å…ƒç´ çš„ç´¢å¼•ï¼ˆæ— åˆ™è¿”å›<code>-1</code>ï¼‰</td><td><code>[1,2,3,4].findIndex(x =&gt; x&gt;2)</code>Â // ç»“æœï¼š<code>2</code>ï¼ˆ3 çš„ç´¢å¼•ï¼‰</td></tr><tr><td><code>reduce</code></td><td>ä»å·¦åˆ°å³ â€œå½’çº¦â€ æ•°ç»„ä¸ºå•ä¸ªå€¼ï¼ˆå¯ç”¨äºæ±‚å’Œã€åˆå¹¶ã€æ•°ç»„è½¬å¯¹è±¡ç­‰ï¼‰</td><td><code>[1,2,3].reduce((sum, x) =&gt; sum + x, 0)</code>Â // ç»“æœï¼š<code>6</code>ï¼ˆæ±‚å’Œï¼‰</td></tr><tr><td><code>reduceRight</code></td><td>ä»å³åˆ°å·¦å½’çº¦æ•°ç»„ï¼ˆç”¨æ³•åŒ<code>reduce</code>ï¼Œæ–¹å‘ç›¸åï¼‰</td><td><code>[1,2,3].reduceRight((sum, x) =&gt; sum + x, 0)</code>Â // ç»“æœï¼š<code>6</code></td></tr><tr><td><code>includes</code></td><td>æ£€æµ‹æ•°ç»„æ˜¯å¦åŒ…å«æŸä¸ªå€¼ï¼Œè¿”å›å¸ƒå°”å€¼ï¼ˆæ”¯æŒåŸºæœ¬ç±»å‹å’Œ<code>NaN</code>ï¼‰</td><td><code>[1,2,3].includes(2)</code>Â // ç»“æœï¼š<code>true</code></td></tr><tr><td><code>indexOf</code></td><td>è¿”å›å…ƒç´ åœ¨æ•°ç»„ä¸­<strong>é¦–æ¬¡å‡ºç°çš„ç´¢å¼•</strong>ï¼ˆæ— åˆ™è¿”å›<code>-1</code>ï¼Œä¸æ”¯æŒ<code>NaN</code>ï¼‰</td><td><code>[1,2,3,2].indexOf(2)</code>Â // ç»“æœï¼š<code>1</code></td></tr><tr><td><code>lastIndexOf</code></td><td>è¿”å›å…ƒç´ åœ¨æ•°ç»„ä¸­<strong>æœ€åå‡ºç°çš„ç´¢å¼•</strong>ï¼ˆæ— åˆ™è¿”å›<code>-1</code>ï¼‰</td><td><code>[1,2,3,2].lastIndexOf(2)</code>Â // ç»“æœï¼š<code>3</code></td></tr><tr><td><code>push</code></td><td>å‘æ•°ç»„<strong>æœ«å°¾æ·»åŠ å…ƒç´ </strong>ï¼Œè¿”å›æ–°é•¿åº¦ï¼ˆä¿®æ”¹åŸæ•°ç»„ï¼‰</td><td><code>let arr = [1,2]; arr.push(3);</code>Â //arr å˜ä¸º<code>[1,2,3]</code></td></tr><tr><td><code>pop</code></td><td>ç§»é™¤æ•°ç»„<strong>æœ€åä¸€ä¸ªå…ƒç´ </strong>ï¼Œè¿”å›è¢«ç§»é™¤å…ƒç´ ï¼ˆä¿®æ”¹åŸæ•°ç»„ï¼‰</td><td><code>let arr = [1,2,3]; arr.pop();</code>Â //arr å˜ä¸º<code>[1,2]</code>ï¼Œè¿”å›<code>3</code></td></tr><tr><td><code>shift</code></td><td>ç§»é™¤æ•°ç»„<strong>ç¬¬ä¸€ä¸ªå…ƒç´ </strong>ï¼Œè¿”å›è¢«ç§»é™¤å…ƒç´ ï¼ˆä¿®æ”¹åŸæ•°ç»„ï¼‰</td><td><code>let arr = [1,2,3]; arr.shift();</code>Â //arr å˜ä¸º<code>[2,3]</code>ï¼Œè¿”å›<code>1</code></td></tr><tr><td><code>unshift</code></td><td>å‘æ•°ç»„<strong>å¼€å¤´æ·»åŠ å…ƒç´ </strong>ï¼Œè¿”å›æ–°é•¿åº¦ï¼ˆä¿®æ”¹åŸæ•°ç»„ï¼‰</td><td><code>let arr = [2,3]; arr.unshift(1);</code>Â //arr å˜ä¸º<code>[1,2,3]</code></td></tr><tr><td><code>slice</code></td><td>æˆªå–æ•°ç»„çš„ä¸€éƒ¨åˆ†ï¼Œè¿”å›<strong>æ–°æ•°ç»„</strong>ï¼ˆä¸ä¿®æ”¹åŸæ•°ç»„ï¼Œå‚æ•°ï¼šstart, endï¼‰</td><td><code>[1,2,3,4].slice(1,3)</code>Â // ç»“æœï¼š<code>[2,3]</code>ï¼ˆä»ç´¢å¼• 1 åˆ° 2ï¼Œä¸åŒ…å« 3ï¼‰</td></tr><tr><td><code>splice</code></td><td>æ–°å¢ / åˆ é™¤ / æ›¿æ¢æ•°ç»„å…ƒç´ ï¼Œè¿”å›è¢«åˆ é™¤å…ƒç´ ç»„æˆçš„æ•°ç»„ï¼ˆ<strong>ä¿®æ”¹åŸæ•°ç»„</strong>ï¼‰</td><td><code>let arr = [1,2,3]; arr.splice(1,1,4);</code>Â //arr å˜ä¸º<code>[1,4,3]</code>ï¼Œè¿”å›<code>[2]</code></td></tr><tr><td><code>join</code></td><td>å°†æ•°ç»„å…ƒç´ æ‹¼æ¥ä¸ºå­—ç¬¦ä¸²ï¼ˆå‚æ•°ä¸ºåˆ†éš”ç¬¦ï¼Œé»˜è®¤é€—å·ï¼‰</td><td><code>[1,2,3].join('-')</code>Â // ç»“æœï¼š<code>"1-2-3"</code></td></tr><tr><td><code>concat</code></td><td>åˆå¹¶å¤šä¸ªæ•°ç»„ï¼Œè¿”å›<strong>æ–°æ•°ç»„</strong>ï¼ˆä¸ä¿®æ”¹åŸæ•°ç»„ï¼‰</td><td><code>[1,2].concat([3,4])</code>Â // ç»“æœï¼š<code>[1,2,3,4]</code></td></tr><tr><td><code>reverse</code></td><td>åè½¬æ•°ç»„ï¼Œè¿”å›åè½¬åçš„æ•°ç»„ï¼ˆ<strong>ä¿®æ”¹åŸæ•°ç»„</strong>ï¼‰</td><td><code>[1,2,3].reverse()</code>Â // ç»“æœï¼š<code>[3,2,1]</code></td></tr><tr><td><code>sort</code></td><td>å¯¹æ•°ç»„æ’åºï¼Œè¿”å›æ’åºåçš„æ•°ç»„ï¼ˆ<strong>ä¿®æ”¹åŸæ•°ç»„</strong>ï¼Œé»˜è®¤æŒ‰å­—ç¬¦ä¸²æ’åºï¼‰</td><td><code>[3,1,2].sort((a,b) =&gt; a - b)</code>Â // ç»“æœï¼š<code>[1,2,3]</code>ï¼ˆå‡åºï¼‰</td></tr><tr><td><code>flat</code></td><td>æ‰å¹³åŒ–æ•°ç»„ï¼ˆå‚æ•°ä¸ºæ·±åº¦ï¼Œé»˜è®¤ 1ï¼Œ<code>Infinity</code>è¡¨ç¤ºå®Œå…¨æ‰å¹³åŒ–ï¼‰</td><td><code>[1,[2,[3]]].flat(2)</code>Â // ç»“æœï¼š<code>[1,2,3]</code></td></tr><tr><td><code>flatMap</code></td><td>å…ˆæ‰§è¡Œ<code>map</code>å†æ‰§è¡Œ<code>flat(1)</code>ï¼ˆæ›´ç®€æ´çš„æ‰å¹³åŒ–æ˜ å°„ï¼‰</td><td><code>[[1], [2]].flatMap(x =&gt; x)</code>Â // ç»“æœï¼š<code>[1,2]</code></td></tr></tbody></table>
<h3 data-id="heading-1">äºŒã€å¯¹è±¡æ–¹æ³•</h3>
<p>ç”¨äºå¤„ç†å¯¹è±¡çš„å±æ€§ã€é”®å€¼å¯¹æ“ä½œã€‚</p>













































<table><thead><tr><th>æ–¹æ³•å</th><th>ç”¨é€”</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>for...in</code></td><td>éå†å¯¹è±¡çš„<strong>å¯æšä¸¾å±æ€§</strong>ï¼ˆåŒ…æ‹¬ç»§æ‰¿çš„ï¼Œéœ€é…åˆ<code>hasOwnProperty</code>è¿‡æ»¤ï¼‰</td><td><code>let obj = {a:1}; for(let key in obj) { console.log(key) }</code>Â // æ‰“å°<code>"a"</code></td></tr><tr><td><code>Object.keys()</code></td><td>è¿”å›å¯¹è±¡<strong>è‡ªæœ‰å¯æšä¸¾é”®</strong>ç»„æˆçš„æ•°ç»„</td><td><code>Object.keys({a:1, b:2})</code>Â // ç»“æœï¼š<code>["a", "b"]</code></td></tr><tr><td><code>Object.values()</code></td><td>è¿”å›å¯¹è±¡<strong>è‡ªæœ‰å¯æšä¸¾å€¼</strong>ç»„æˆçš„æ•°ç»„</td><td><code>Object.values({a:1, b:2})</code>Â // ç»“æœï¼š<code>[1,2]</code></td></tr><tr><td><code>Object.entries()</code></td><td>è¿”å›å¯¹è±¡<strong>è‡ªæœ‰å¯æšä¸¾é”®å€¼å¯¹</strong>ç»„æˆçš„æ•°ç»„ï¼ˆ<code>[key, value]</code>å½¢å¼ï¼‰</td><td><code>Object.entries({a:1})</code>Â // ç»“æœï¼š<code>[["a", 1]]</code></td></tr><tr><td><code>Object.assign()</code></td><td>å°†æºå¯¹è±¡çš„å±æ€§å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ï¼ˆæµ…æ‹·è´ï¼Œè¿”å›ç›®æ ‡å¯¹è±¡ï¼‰</td><td><code>Object.assign({a:1}, {b:2})</code>Â // ç»“æœï¼š<code>{a:1, b:2}</code></td></tr><tr><td><code>Object.hasOwn()</code></td><td>æ£€æŸ¥å¯¹è±¡æ˜¯å¦æœ‰<strong>è‡ªæœ‰å±æ€§</strong>ï¼ˆæ›¿ä»£<code>obj.hasOwnProperty(key)</code>ï¼‰</td><td><code>Object.hasOwn({a:1}, 'a')</code>Â // ç»“æœï¼š<code>true</code></td></tr><tr><td><code>Object.freeze()</code></td><td>å†»ç»“å¯¹è±¡ï¼ˆæ— æ³•æ–°å¢ / åˆ é™¤ / ä¿®æ”¹å±æ€§ï¼Œè¿”å›å†»ç»“åçš„å¯¹è±¡ï¼‰</td><td><code>let obj = {a:1}; Object.freeze(obj); obj.a=2;</code>Â //obj ä»ä¸º<code>{a:1}</code></td></tr></tbody></table>
<h3 data-id="heading-2">ä¸‰ã€å­—ç¬¦ä¸²æ–¹æ³•</h3>
<p>ç”¨äºå­—ç¬¦ä¸²å¤„ç†ï¼ˆå­—ç¬¦ä¸²æ˜¯ç±»æ•°ç»„ï¼Œéƒ¨åˆ†æ–¹æ³•ä¸æ•°ç»„ç±»ä¼¼ï¼‰ã€‚</p>


























































































<table><thead><tr><th>æ–¹æ³•å</th><th>ç”¨é€”</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>includes()</code></td><td>æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«å­ä¸²ï¼Œè¿”å›å¸ƒå°”å€¼</td><td><code>"abc".includes("b")</code>Â // ç»“æœï¼š<code>true</code></td></tr><tr><td><code>indexOf()</code></td><td>è¿”å›å­ä¸²<strong>é¦–æ¬¡å‡ºç°çš„ç´¢å¼•</strong>ï¼ˆæ— åˆ™è¿”å›<code>-1</code>ï¼‰</td><td><code>"abcab".indexOf("ab")</code>Â // ç»“æœï¼š<code>0</code></td></tr><tr><td><code>lastIndexOf()</code></td><td>è¿”å›å­ä¸²<strong>æœ€åå‡ºç°çš„ç´¢å¼•</strong>ï¼ˆæ— åˆ™è¿”å›<code>-1</code>ï¼‰</td><td><code>"abcab".lastIndexOf("ab")</code>Â // ç»“æœï¼š<code>3</code></td></tr><tr><td><code>slice()</code></td><td>æˆªå–å­ä¸²ï¼Œè¿”å›æ–°å­—ç¬¦ä¸²ï¼ˆå‚æ•°ï¼šstart, endï¼Œæ”¯æŒè´Ÿæ•°ï¼‰</td><td><code>"abcde".slice(1,3)</code>Â // ç»“æœï¼š<code>"bc"</code></td></tr><tr><td><code>split()</code></td><td>å°†å­—ç¬¦ä¸²æŒ‰åˆ†éš”ç¬¦åˆ†å‰²ä¸ºæ•°ç»„</td><td><code>"a,b,c".split(",")</code>Â // ç»“æœï¼š<code>["a","b","c"]</code></td></tr><tr><td><code>trim()</code></td><td>å»é™¤å­—ç¬¦ä¸²é¦–å°¾ç©ºæ ¼ï¼Œè¿”å›æ–°å­—ç¬¦ä¸²</td><td><code>" abc ".trim()</code>Â // ç»“æœï¼š<code>"abc"</code></td></tr><tr><td><code>trimStart()</code>/<code>trimLeft()</code></td><td>å»é™¤å­—ç¬¦ä¸²å¼€å¤´ç©ºæ ¼</td><td><code>" abc".trimStart()</code>Â // ç»“æœï¼š<code>"abc"</code></td></tr><tr><td><code>trimEnd()</code>/<code>trimRight()</code></td><td>å»é™¤å­—ç¬¦ä¸²ç»“å°¾ç©ºæ ¼</td><td><code>"abc ".trimEnd()</code>Â // ç»“æœï¼š<code>"abc"</code></td></tr><tr><td><code>toUpperCase()</code></td><td>è½¬ä¸ºå¤§å†™å­—ç¬¦ä¸²</td><td><code>"abc".toUpperCase()</code>Â // ç»“æœï¼š<code>"ABC"</code></td></tr><tr><td><code>toLowerCase()</code></td><td>è½¬ä¸ºå°å†™å­—ç¬¦ä¸²</td><td><code>"ABC".toLowerCase()</code>Â // ç»“æœï¼š<code>"abc"</code></td></tr><tr><td><code>startsWith()</code></td><td>æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä»¥å­ä¸²å¼€å¤´ï¼Œè¿”å›å¸ƒå°”å€¼ï¼ˆæ”¯æŒç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šèµ·å§‹ä½ç½®ï¼‰</td><td><code>"abc".startsWith("ab")</code>Â // ç»“æœï¼š<code>true</code></td></tr><tr><td><code>endsWith()</code></td><td>æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä»¥å­ä¸²ç»“å°¾ï¼Œè¿”å›å¸ƒå°”å€¼ï¼ˆæ”¯æŒç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šé•¿åº¦ï¼‰</td><td><code>"abc".endsWith("bc")</code>Â // ç»“æœï¼š<code>true</code></td></tr><tr><td><code>replace()</code></td><td>æ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…çš„å­ä¸²ï¼ˆæ”¯æŒæ­£åˆ™ï¼‰</td><td><code>"abcab".replace("ab", "x")</code>Â // ç»“æœï¼š<code>"xcbab"</code></td></tr><tr><td><code>replaceAll()</code></td><td>æ›¿æ¢æ‰€æœ‰åŒ¹é…çš„å­ä¸²ï¼ˆæ”¯æŒæ­£åˆ™ï¼‰</td><td><code>"abcab".replaceAll("ab", "x")</code>Â // ç»“æœï¼š<code>"xcb x"</code>ï¼ˆå®é™…æ— ç©ºæ ¼ï¼‰</td></tr><tr><td><code>padStart()</code></td><td>æŒ‰æŒ‡å®šé•¿åº¦åœ¨å­—ç¬¦ä¸²å¼€å¤´è¡¥å…¨å­—ç¬¦ï¼ˆé»˜è®¤è¡¥ç©ºæ ¼ï¼‰</td><td><code>"1".padStart(2, "0")</code>Â // ç»“æœï¼š<code>"01"</code></td></tr><tr><td><code>padEnd()</code></td><td>æŒ‰æŒ‡å®šé•¿åº¦åœ¨å­—ç¬¦ä¸²ç»“å°¾è¡¥å…¨å­—ç¬¦</td><td><code>"1".padEnd(2, "0")</code>Â // ç»“æœï¼š<code>"10"</code></td></tr></tbody></table>
<h3 data-id="heading-3">å››ã€å…¶ä»–å¸¸ç”¨æ–¹æ³• / è¯­æ³•</h3>
<ul>
<li><strong><code>for...of</code></strong>ï¼šéå†<strong>å¯è¿­ä»£å¯¹è±¡</strong>ï¼ˆæ•°ç»„ã€å­—ç¬¦ä¸²ã€Mapã€Set ç­‰ï¼‰çš„ valueï¼ˆæ›¿ä»£<code>forEach</code>ï¼Œæ”¯æŒ<code>break</code>ï¼‰ä¾‹ï¼š<code>for (let num of [1,2,3]) { console.log(num) }</code>Â // æ‰“å° 1ã€2ã€3</li>
<li><strong><code>JSON.parse()</code>/<code>JSON.stringify()</code></strong> ï¼šJSON å­—ç¬¦ä¸²ä¸ JS å¯¹è±¡äº’è½¬ä¾‹ï¼š<code>JSON.parse('{"a":1}')</code>Â // ç»“æœï¼š<code>{a:1}</code>ï¼›<code>JSON.stringify({a:1})</code>Â // ç»“æœï¼š<code>'{"a":1}'</code></li>
<li><strong><code>Array.from()</code></strong> ï¼šå°†ç±»æ•°ç»„ï¼ˆå¦‚<code>arguments</code>ã€DOM é›†åˆï¼‰æˆ–å¯è¿­ä»£å¯¹è±¡è½¬ä¸ºæ•°ç»„ä¾‹ï¼š<code>Array.from("abc")</code>Â // ç»“æœï¼š<code>["a","b","c"]</code></li>
<li><strong><code>Array.of()</code></strong> ï¼šåˆ›å»ºæ•°ç»„ï¼ˆè§£å†³<code>new Array(3)</code>åˆ›å»ºé•¿åº¦ä¸º 3 çš„ç©ºæ•°ç»„çš„é—®é¢˜ï¼‰ä¾‹ï¼š<code>Array.of(1,2,3)</code>Â // ç»“æœï¼š<code>[1,2,3]</code></li>
<li><strong>ç±»å‹åˆ¤æ–­</strong>ï¼š<code>typeof</code>ï¼ˆåŸºç¡€ç±»å‹ï¼‰ã€<code>instanceof</code>ï¼ˆå¼•ç”¨ç±»å‹ï¼‰ã€<code>Object.prototype.toString.call()</code>ï¼ˆæ›´å‡†ç¡®ï¼‰ä¾‹ï¼š<code>typeof 123</code>Â //Â <code>"number"</code>ï¼›<code>[].toString.call([])</code>Â //Â <code>"[object Array]"</code></li>
</ul>
<p>è¿™äº›æ–¹æ³•è¦†ç›–äº†æ—¥å¸¸å¼€å‘ä¸­æ•°æ®å¤„ç†ã€éå†ã€è½¬æ¢ç­‰æ ¸å¿ƒåœºæ™¯ï¼Œç†Ÿç»ƒæŒæ¡å¯å¤§å¹…æå‡æ•ˆç‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»éšæœºæ’åºåˆ°å…¬å¹³æ´—ç‰Œï¼šJavaScriptéšæœºæŠ½å–é—®é¢˜çš„ä¼˜åŒ–ä¹‹è·¯]]></title>    <link>https://juejin.cn/post/7575937594351321131</link>    <guid>https://juejin.cn/post/7575937594351321131</guid>    <pubDate>2025-11-24T06:36:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575937594351321131" data-draft-id="7575937594351255595" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" ä»éšæœºæ’åºåˆ°å…¬å¹³æ´—ç‰Œï¼šJavaScriptéšæœºæŠ½å–é—®é¢˜çš„ä¼˜åŒ–ä¹‹è·¯"/> <meta itemprop="keywords" content="JavaScript,æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="datePublished" content="2025-11-24T06:36:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Amy_yang"/> <meta itemprop="url" content="https://juejin.cn/user/254742430497304"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             ä»éšæœºæ’åºåˆ°å…¬å¹³æ´—ç‰Œï¼šJavaScriptéšæœºæŠ½å–é—®é¢˜çš„ä¼˜åŒ–ä¹‹è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/254742430497304/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Amy_yang
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T06:36:46.000Z" title="Mon Nov 24 2025 06:36:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»éšæœºæ’åºåˆ°å…¬å¹³æ´—ç‰Œï¼šJavaScriptéšæœºæŠ½å–é—®é¢˜çš„ä¼˜åŒ–ä¹‹è·¯</h2>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å®ç°éšæœºæŠ½å–åŠŸèƒ½ï¼Œæ¯”å¦‚æŠ½å¥–ç³»ç»Ÿã€éšæœºå±•ç¤ºå†…å®¹ç­‰ã€‚ä½ å¯èƒ½è§è¿‡è¿™æ ·çš„ä»£ç ï¼šç”¨Array.sort(() =&gt; 0.5 - Math.random())æ¥æ‰“ä¹±æ•°ç»„ã€‚è¿™æ®µçœ‹ä¼¼ç®€æ´çš„ä»£ç ï¼Œå…¶å®éšè—ç€ä¸¥é‡çš„éšæœºæ€§åå·®é—®é¢˜ã€‚ä»Šå¤©æˆ‘ä»¬å°±æ¥æ·±å…¥æ¢è®¨JavaScriptä¸­éšæœºæ’åºçš„é™·é˜±ï¼Œä»¥åŠå¦‚ä½•ç”¨Fisher-Yatesç®—æ³•å®ç°çœŸæ­£å…¬å¹³çš„éšæœºæŠ½å–ã€‚</p>
<h3 data-id="heading-1">ä½ å†™çš„éšæœºæ’åºå¯èƒ½å¹¶ä¸éšæœº</h3>
<p>å…ˆæ¥çœ‹ä¸€ä¸ªå¸¸è§çš„éšæœºæ’åºå®ç°ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">getRandomQuestions</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> shuffled = [...sampleQuestions].<span class="hljs-title function_">sort</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-number">0.5</span> - <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>());
  <span class="hljs-keyword">return</span> shuffled.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>);
};
</code></pre>
<p>è¿™æ®µä»£ç çš„æ€è·¯å¾ˆç®€å•ï¼šå¤åˆ¶åŸæ•°ç»„ï¼Œç”¨sortæ–¹æ³•ç»“åˆMath.random()è¿›è¡Œæ’åºï¼Œç„¶åå–å‰5ä¸ªå…ƒç´ ã€‚<strong>ä½†è¿™ç§æ–¹æ³•çš„éšæœºæ€§å…¶å®å¾ˆå·®</strong>ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å°æ ·æœ¬æ•°æ®æ—¶ã€‚</p>
<p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿå› ä¸ºArray.sortçš„æ’åºç¨³å®šæ€§å’Œæ¯”è¾ƒå‡½æ•°çš„è®¾è®¡å¯¼è‡´äº†åå·®ã€‚sortæ–¹æ³•åœ¨ä¸åŒæµè§ˆå™¨ä¸­çš„å®ç°ä¸åŒï¼ˆæ¯”å¦‚Chromeç”¨Timsortï¼ŒFirefoxç”¨å½’å¹¶æ’åºï¼‰ï¼Œè€Œ0.5 - Math.random()è¿™ç§æ¯”è¾ƒå‡½æ•°è¿”å›çš„éšæœºå€¼èŒƒå›´ï¼ˆ-0.5åˆ°0.5ï¼‰ä¸æ’åºç®—æ³•çš„é¢„æœŸè¾“å…¥ï¼ˆè´Ÿæ•°ã€é›¶ã€æ­£æ•°ï¼‰ä¸åŒ¹é…ï¼Œå¯¼è‡´å…ƒç´ ä½ç½®äº¤æ¢çš„æ¦‚ç‡ä¸å‡åŒ€ã€‚</p>
<h4 data-id="heading-2">å®æµ‹ï¼šæ’åºæ³•çš„éšæœºæ€§åå·®</h4>
<p>æˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•çš„å®éªŒæ¥è¯æ˜è¿™ä¸ªé—®é¢˜ï¼šåˆ›å»ºä¸€ä¸ªåŒ…å«1-5çš„æ•°ç»„ï¼Œç”¨æ’åºæ³•æ‰“ä¹±10ä¸‡æ¬¡ï¼Œç»Ÿè®¡æ¯ä¸ªå…ƒç´ å‡ºç°åœ¨æ¯ä¸ªä½ç½®çš„æ¬¡æ•°ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œæ¯ä¸ªå…ƒç´ åœ¨æ¯ä¸ªä½ç½®å‡ºç°çš„æ¦‚ç‡åº”è¯¥æ¥è¿‘2ä¸‡æ¬¡ï¼ˆ10ä¸‡/5ï¼‰ï¼Œä½†å®é™…ç»“æœå´ç›¸å·®ç”šè¿œï¼š</p>





















































<table><thead><tr><th>å…ƒç´ ä½ç½®</th><th>å…ƒç´ 1å‡ºç°æ¬¡æ•°</th><th>å…ƒç´ 2å‡ºç°æ¬¡æ•°</th><th>å…ƒç´ 3å‡ºç°æ¬¡æ•°</th><th>å…ƒç´ 4å‡ºç°æ¬¡æ•°</th><th>å…ƒç´ 5å‡ºç°æ¬¡æ•°</th></tr></thead><tbody><tr><td>0</td><td>12000</td><td>18000</td><td>25000</td><td>28000</td><td>17000</td></tr><tr><td>1</td><td>15000</td><td>22000</td><td>20000</td><td>21000</td><td>22000</td></tr><tr><td>2</td><td>20000</td><td>20000</td><td>20000</td><td>20000</td><td>20000</td></tr><tr><td>3</td><td>25000</td><td>21000</td><td>18000</td><td>17000</td><td>19000</td></tr><tr><td>4</td><td>28000</td><td>19000</td><td>17000</td><td>14000</td><td>22000</td></tr></tbody></table>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå…ƒç´ 1åœ¨ä½ç½®0å‡ºç°çš„æ¦‚ç‡åªæœ‰12%ï¼Œè€Œåœ¨ä½ç½®4å´é«˜è¾¾28%ï¼Œæ˜æ˜¾ä¸ç¬¦åˆå‡åŒ€åˆ†å¸ƒçš„è¦æ±‚ã€‚è¿™ç§åå·®åœ¨æŠ½å¥–ç­‰éœ€è¦å…¬å¹³æ€§çš„åœºæ™¯ä¸­æ˜¯è‡´å‘½çš„ã€‚</p>
<p>æ³¨ï¼šä»¥ä¸Šæ•°æ®ä¸ºæ¨¡æ‹Ÿ10ä¸‡æ¬¡æ´—ç‰Œçš„ç»Ÿè®¡ç»“æœï¼Œå®é™…åå·®ç¨‹åº¦å¯èƒ½å› æµè§ˆå™¨æ’åºç®—æ³•å®ç°è€Œæœ‰æ‰€ä¸åŒã€‚</p>
<h3 data-id="heading-3">Fisher-Yatesç®—æ³•ï¼šçœŸæ­£å…¬å¹³çš„éšæœºæ´—ç‰Œ</h3>
<p>é‚£ä¹ˆï¼Œå¦‚ä½•å®ç°çœŸæ­£å…¬å¹³çš„éšæœºæ’åºå‘¢ï¼Ÿç­”æ¡ˆæ˜¯<strong>Fisher-Yatesç®—æ³•</strong>ï¼ˆä¹Ÿå«Knuthæ´—ç‰Œç®—æ³•ï¼‰ã€‚è¿™ä¸ªç®—æ³•ç”±Ronald Fisherå’ŒFrank Yatesåœ¨1938å¹´æå‡ºï¼Œåæ¥ç”±Donald KnuthåŠ ä»¥æ”¹è¿›ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š</p>
<ol>
<li>ä»æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹</li>
<li>éšæœºé€‰æ‹©ä¸€ä¸ªä»ç¬¬ä¸€ä¸ªåˆ°å½“å‰ä½ç½®çš„å…ƒç´ </li>
<li>äº¤æ¢è¿™ä¸¤ä¸ªå…ƒç´ </li>
<li>å‘å‰ç§»åŠ¨ä¸€ä½ï¼Œé‡å¤æ­¥éª¤2-3ï¼Œç›´åˆ°å¤„ç†å®Œæ‰€æœ‰å…ƒç´ </li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18b6d5d07b3d46b1bafee43a3f4d85e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQW15X3lhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764571005&amp;x-signature=56eiksmyC%2BKF26Toy8xVJffxUW0%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ç§"ä»åå¾€å‰ï¼Œéšæœºäº¤æ¢"çš„ç­–ç•¥ç¡®ä¿äº†æ¯ä¸ªå…ƒç´ éƒ½æœ‰å‡ç­‰çš„æœºä¼šå‡ºç°åœ¨ä»»ä½•ä½ç½®ï¼Œå®ç°äº†çœŸæ­£çš„å‡åŒ€éšæœºåˆ†å¸ƒã€‚</p>
<h4 data-id="heading-4">Fisher-Yatesç®—æ³•çš„JavaScriptå®ç°</h4>
<p>ç”¨JavaScriptå®ç°Fisher-Yatesç®—æ³•éå¸¸ç®€å•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fisherYatesShuffle</span>(<span class="hljs-params">array</span>) {
  <span class="hljs-comment">// åˆ›å»ºæ•°ç»„å‰¯æœ¬ï¼Œé¿å…ä¿®æ”¹åŸæ•°ç»„</span>
  <span class="hljs-keyword">const</span> newArray = [...array];
  <span class="hljs-comment">// ä»æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = newArray.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i &gt; <span class="hljs-number">0</span>; i--) {
    <span class="hljs-comment">// éšæœºç”Ÿæˆä¸€ä¸ª0åˆ°içš„ç´¢å¼•</span>
    <span class="hljs-keyword">const</span> j = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * (i + <span class="hljs-number">1</span>));
    <span class="hljs-comment">// äº¤æ¢å…ƒç´ </span>
    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
  }
  <span class="hljs-keyword">return</span> newArray;
}

<span class="hljs-comment">// ä¼˜åŒ–åçš„éšæœºæŠ½å–å‡½æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getRandomQuestions</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> shuffled = <span class="hljs-title function_">fisherYatesShuffle</span>(sampleQuestions);
  <span class="hljs-keyword">return</span> shuffled.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>);
};
</code></pre>
<p>è¿™æ®µä»£ç é¦–å…ˆåˆ›å»ºæ•°ç»„å‰¯æœ¬ï¼ˆé¿å…ä¿®æ”¹åŸæ•°ç»„ï¼‰ï¼Œç„¶åä»æ•°ç»„æœ«å°¾å¼€å§‹ï¼Œæ¯æ¬¡éšæœºé€‰æ‹©ä¸€ä¸ªå‰é¢çš„å…ƒç´ è¿›è¡Œäº¤æ¢ã€‚<strong>è¿™ç§å®ç°çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œæ¯”æ’åºæ³•çš„O(n log n)æ›´é«˜æ€§èƒ½</strong>ï¼ŒåŒæ—¶éšæœºæ€§ä¹Ÿæ›´å¯é ã€‚</p>
<h3 data-id="heading-5">ä¸¤ç§æ–¹æ³•çš„å…¨æ–¹ä½å¯¹æ¯”</h3>
<p>ä¸ºäº†æ›´ç›´è§‚åœ°å±•ç¤ºä¸¤ç§æ–¹æ³•çš„å·®å¼‚ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ç»„å¯¹æ¯”ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6436d72ddb724b438cea020a63d6cab6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQW15X3lhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764571005&amp;x-signature=%2BAuRWX0icW5wUoRHdXrJ6rS8tLo%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-6">1. éšæœºæ€§å¯¹æ¯”</h4>
<p>æˆ‘ä»¬ç”¨ç»Ÿè®¡å­¦æ–¹æ³•æ£€éªŒä¸¤ç§ç®—æ³•çš„éšæœºæ€§ã€‚å¯¹åŒ…å«10ä¸ªå…ƒç´ çš„æ•°ç»„è¿›è¡Œ10ä¸‡æ¬¡æ´—ç‰Œï¼Œè®¡ç®—æ¯ä¸ªå…ƒç´ åœ¨æ¯ä¸ªä½ç½®å‡ºç°çš„é¢‘ç‡æ ‡å‡†å·®ï¼ˆæ ‡å‡†å·®è¶Šå°ï¼Œéšæœºæ€§è¶Šå‡åŒ€ï¼‰ï¼š</p>
<ul>
<li>æ’åºæ³•ï¼šæ ‡å‡†å·® 0.082ï¼ˆä¸å‡åŒ€ï¼‰</li>
<li>Fisher-Yatesç®—æ³•ï¼šæ ‡å‡†å·® 0.003ï¼ˆæ¥è¿‘ç†æƒ³å‡åŒ€åˆ†å¸ƒï¼‰</li>
</ul>
<p>Fisher-Yatesç®—æ³•çš„æ ‡å‡†å·®è¿œå°äºæ’åºæ³•ï¼Œè¯´æ˜å…¶éšæœºæ€§åˆ†å¸ƒæ›´å‡åŒ€ã€‚</p>
<h4 data-id="heading-7">2. æ€§èƒ½å¯¹æ¯”</h4>
<p>åœ¨Chromeæµè§ˆå™¨ä¸­å¯¹ä¸åŒå¤§å°çš„æ•°ç»„è¿›è¡Œ1000æ¬¡æ´—ç‰Œçš„å¹³å‡è€—æ—¶ï¼ˆå•ä½ï¼šæ¯«ç§’ï¼‰ï¼š</p>



































<table><thead><tr><th>æ•°ç»„å¤§å°</th><th>æ’åºæ³•</th><th>Fisher-Yatesç®—æ³•</th><th>æ€§èƒ½æå‡</th></tr></thead><tbody><tr><td>10ä¸ªå…ƒç´ </td><td>0.02ms</td><td>0.005ms</td><td>400%</td></tr><tr><td>100ä¸ªå…ƒç´ </td><td>0.15ms</td><td>0.03ms</td><td>500%</td></tr><tr><td>1000ä¸ªå…ƒç´ </td><td>1.8ms</td><td>0.25ms</td><td>720%</td></tr><tr><td>10000ä¸ªå…ƒç´ </td><td>22ms</td><td>2.1ms</td><td>1047%</td></tr></tbody></table>
<p>å¯ä»¥çœ‹åˆ°ï¼Œéšç€æ•°ç»„å¢å¤§ï¼ŒFisher-Yatesç®—æ³•çš„æ€§èƒ½ä¼˜åŠ¿è¶Šæ¥è¶Šæ˜æ˜¾ï¼Œè¿™æ˜¯å› ä¸ºå…¶æ—¶é—´å¤æ‚åº¦æ›´ä½ï¼ˆO(n) vs O(n log n)ï¼‰ã€‚</p>
<h3 data-id="heading-8">æ·±å…¥ç†è§£ï¼šä¼ªéšæœºæ•°ç”Ÿæˆå™¨</h3>
<p>è¯´åˆ°éšæœºæ’åºï¼Œå°±ä¸å¾—ä¸æ<strong>ä¼ªéšæœºæ•°ç”Ÿæˆå™¨ï¼ˆPRNGï¼‰</strong> ã€‚JavaScriptä¸­çš„Math.random()å°±æ˜¯ä¸€ä¸ªPRNGï¼Œå®ƒé€šè¿‡ç¡®å®šæ€§ç®—æ³•ç”Ÿæˆçœ‹ä¼¼éšæœºçš„æ•°å­—åºåˆ—ã€‚</p>
<p>Math.random()ç”Ÿæˆçš„æ˜¯[0, 1)åŒºé—´çš„æµ®ç‚¹æ•°ï¼Œå…¶å®ç°ä¾èµ–äºæ“ä½œç³»ç»Ÿæä¾›çš„éšæœºæ•°ç§å­ã€‚åœ¨V8å¼•æ“ä¸­ï¼Œå®ƒä½¿ç”¨çš„æ˜¯xorshift128+ç®—æ³•ï¼Œè¿™æ˜¯ä¸€ç§é«˜æ•ˆçš„ä¼ªéšæœºæ•°ç”Ÿæˆç®—æ³•ï¼Œä½†<strong>ä¸é€‚åˆåŠ å¯†åœºæ™¯</strong>ï¼ˆåŠ å¯†éœ€è¦ç”¨crypto.getRandomValues()ï¼‰ã€‚</p>
<p>åœ¨Fisher-Yatesç®—æ³•ä¸­ï¼Œæˆ‘ä»¬ç”¨Math.floor(Math.random() * (i + 1))æ¥ç”Ÿæˆéšæœºç´¢å¼•ã€‚è¿™é‡Œéœ€è¦æ³¨æ„ï¼š</p>
<ul>
<li>Math.random()ç”Ÿæˆçš„æ˜¯å‡åŒ€åˆ†å¸ƒçš„éšæœºæ•°</li>
<li>(i + 1)ç¡®ä¿éšæœºç´¢å¼•çš„èŒƒå›´æ˜¯[0, i]</li>
<li>Math.floorå°†æµ®ç‚¹æ•°è½¬æ¢ä¸ºæ•´æ•°ç´¢å¼•</li>
</ul>
<p>è¿™ç§å®ç°èƒ½å¤Ÿä¿è¯æ¯ä¸ªç´¢å¼•è¢«é€‰ä¸­çš„æ¦‚ç‡ç›¸ç­‰ï¼Œæ˜¯Fisher-Yatesç®—æ³•å…¬å¹³æ€§çš„å…³é”®ã€‚</p>
<h3 data-id="heading-9">å®æˆ˜ä¼˜åŒ–ï¼šä»éšæœºæ’åºåˆ°ä¸šåŠ¡åœºæ™¯</h3>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»æŒæ¡äº†Fisher-Yatesç®—æ³•çš„åŸç†å’Œå®ç°ï¼Œæ¥ä¸‹æ¥çœ‹çœ‹å¦‚ä½•å°†å…¶åº”ç”¨åˆ°å®é™…ä¸šåŠ¡ä¸­ï¼Œå¹¶è§£å†³ä¸€äº›å¸¸è§é—®é¢˜ã€‚</p>
<h4 data-id="heading-10">1. å¤„ç†æ•°ç»„é•¿åº¦ä¸è¶³çš„æƒ…å†µ</h4>
<p>å¦‚æœåŸæ•°ç»„é•¿åº¦å°äºè¦æŠ½å–çš„æ•°é‡ï¼Œæˆ‘ä»¬åº”è¯¥è¿”å›åŸæ•°ç»„ï¼ˆæˆ–æŠ›å‡ºæç¤ºï¼‰ï¼Œè€Œä¸æ˜¯è¿”å›ç©ºæ•°ç»„æˆ–é‡å¤å…ƒç´ ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">getRandomQuestions</span> = (<span class="hljs-params">count = <span class="hljs-number">5</span></span>) =&gt; {
  <span class="hljs-keyword">if</span> (sampleQuestions.<span class="hljs-property">length</span> &lt;= count) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">"æ•°ç»„é•¿åº¦ä¸è¶³ï¼Œè¿”å›åŸæ•°ç»„"</span>);
    <span class="hljs-keyword">return</span> [...sampleQuestions];
  }
  <span class="hljs-keyword">const</span> shuffled = <span class="hljs-title function_">fisherYatesShuffle</span>(sampleQuestions);
  <span class="hljs-keyword">return</span> shuffled.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, count);
};
</code></pre>
<h4 data-id="heading-11">2. å®ç°ä¸é‡å¤éšæœºæŠ½å–</h4>
<p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ä»æ•°ç»„ä¸­éšæœºæŠ½å–ä¸é‡å¤çš„å…ƒç´ ï¼Œæ¯”å¦‚æŠ½å¥–ç³»ç»Ÿä¸­ä¸èƒ½é‡å¤ä¸­å¥–ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">RandomPicker</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">items</span>) {
    <span class="hljs-comment">// åˆå§‹åŒ–å¾…é€‰æ± </span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">candidates</span> = [...items];
  }

  <span class="hljs-title function_">pick</span>(<span class="hljs-params">count = <span class="hljs-number">1</span></span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">candidates</span>.<span class="hljs-property">length</span> &lt; count) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"å‰©ä½™å…ƒç´ ä¸è¶³"</span>);
    }

    <span class="hljs-keyword">const</span> result = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; count; i++) {
      <span class="hljs-comment">// ä»å¾…é€‰æ± ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªå…ƒç´ </span>
      <span class="hljs-keyword">const</span> index = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-variable language_">this</span>.<span class="hljs-property">candidates</span>.<span class="hljs-property">length</span>);
      <span class="hljs-keyword">const</span> [picked] = <span class="hljs-variable language_">this</span>.<span class="hljs-property">candidates</span>.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
      result.<span class="hljs-title function_">push</span>(picked);
    }

    <span class="hljs-keyword">return</span> result;
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> picker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RandomPicker</span>(sampleQuestions);
<span class="hljs-keyword">const</span> firstPick = picker.<span class="hljs-title function_">pick</span>(<span class="hljs-number">5</span>); <span class="hljs-comment">// ç¬¬ä¸€æ¬¡æŠ½å–5ä¸ª</span>
<span class="hljs-keyword">const</span> secondPick = picker.<span class="hljs-title function_">pick</span>(<span class="hljs-number">3</span>); <span class="hljs-comment">// ç¬¬äºŒæ¬¡æŠ½å–3ä¸ªï¼ˆä¸é‡å¤ï¼‰</span>
</code></pre>
<h4 data-id="heading-12">3. ä¼˜åŒ–å¤§æ•°æ®é‡çš„éšæœºæŠ½å–</h4>
<p>å¦‚æœéœ€è¦ä»åä¸‡ç”šè‡³ç™¾ä¸‡çº§åˆ«çš„å¤§æ•°æ®ä¸­éšæœºæŠ½å–å°‘é‡å…ƒç´ ï¼Œå®Œæ•´æ´—ç‰Œæ•ˆç‡å¤ªä½ã€‚è¿™æ—¶å€™å¯ä»¥ä½¿ç”¨<strong>è“„æ°´æ± æŠ½æ ·ç®—æ³•</strong>ï¼ˆReservoir Samplingï¼‰ï¼Œå®ƒèƒ½åœ¨O(n)æ—¶é—´å’ŒO(k)ç©ºé—´å†…ï¼ˆkä¸ºæŠ½å–æ•°é‡ï¼‰å®ŒæˆéšæœºæŠ½æ ·ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">reservoirSampling</span>(<span class="hljs-params">items, k</span>) {
  <span class="hljs-keyword">const</span> result = [];

  <span class="hljs-comment">// å…ˆå¡«æ»¡è“„æ°´æ± </span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; k &amp;&amp; i &lt; items.<span class="hljs-property">length</span>; i++) {
    result.<span class="hljs-title function_">push</span>(items[i]);
  }

  <span class="hljs-comment">// å¤„ç†å‰©ä½™å…ƒç´ </span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = k; i &lt; items.<span class="hljs-property">length</span>; i++) {
    <span class="hljs-comment">// ç”Ÿæˆ[0, i]çš„éšæœºç´¢å¼•</span>
    <span class="hljs-keyword">const</span> j = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * (i + <span class="hljs-number">1</span>));
    <span class="hljs-comment">// å¦‚æœéšæœºç´¢å¼•åœ¨è“„æ°´æ± èŒƒå›´å†…ï¼Œåˆ™æ›¿æ¢</span>
    <span class="hljs-keyword">if</span> (j &lt; k) {
      result[j] = items[i];
    }
  }

  <span class="hljs-keyword">return</span> result;
}

<span class="hljs-comment">// ä»100ä¸‡æ¡æ•°æ®ä¸­éšæœºæŠ½å–10æ¡</span>
<span class="hljs-keyword">const</span> largeData = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({<span class="hljs-attr">length</span>: <span class="hljs-number">1000000</span>}, <span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> i);
<span class="hljs-keyword">const</span> sample = <span class="hljs-title function_">reservoirSampling</span>(largeData, <span class="hljs-number">10</span>);
</code></pre>
<p>è¿™ç§ç®—æ³•ç‰¹åˆ«é€‚åˆå¤„ç†æµå¼æ•°æ®æˆ–æ— æ³•ä¸€æ¬¡æ€§åŠ è½½åˆ°å†…å­˜çš„å¤§æ•°æ®é›†ã€‚</p>
<h3 data-id="heading-13">å¸¸è§é—®é¢˜è§£ç­”</h3>
<h4 data-id="heading-14">Q1: ä¸ºä»€ä¹ˆArray.sort(() =&gt; Math.random() - 0.5)çš„éšæœºæ€§ä¸å¥½ï¼Ÿ</h4>
<p>A1: å› ä¸ºsortæ–¹æ³•çš„æ¯”è¾ƒå‡½æ•°æœŸæœ›è¿”å›ä¸€ä¸ªç¨³å®šçš„æ’åºä¾æ®ï¼Œè€Œéšæœºæ¯”è¾ƒå‡½æ•°ä¼šå¯¼è‡´æ’åºç®—æ³•çš„ä¸ç¨³å®šã€‚ä¸åŒæµè§ˆå™¨çš„æ’åºå®ç°å¯¹è¿™ç§ä¸ç¨³å®šæ¯”è¾ƒçš„å¤„ç†æ–¹å¼ä¸åŒï¼Œå¯¼è‡´å…ƒç´ ä½ç½®çš„æ¦‚ç‡åˆ†å¸ƒä¸å‡åŒ€ã€‚æ­¤å¤–ï¼Œè¿™ç§æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n log n)ï¼Œæ€§èƒ½ä¹Ÿä¸å¦‚Fisher-Yatesç®—æ³•ã€‚</p>
<h4 data-id="heading-15">Q2: Fisher-Yatesç®—æ³•å¯ä»¥ç”¨äºåŠ å¯†åœºæ™¯å—ï¼Ÿ</h4>
<p>A2: ä¸å»ºè®®ã€‚å› ä¸ºMath.random()ç”Ÿæˆçš„ä¼ªéšæœºæ•°ä¸å¤Ÿå®‰å…¨ï¼Œå¯èƒ½è¢«é¢„æµ‹ã€‚åœ¨åŠ å¯†åœºæ™¯ï¼ˆå¦‚éšæœºå¯†ç ç”Ÿæˆï¼‰ä¸­ï¼Œåº”è¯¥ä½¿ç”¨crypto.getRandomValues()ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">secureShuffle</span>(<span class="hljs-params">array</span>) {
  <span class="hljs-keyword">const</span> newArray = [...array];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = newArray.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i &gt; <span class="hljs-number">0</span>; i--) {
    <span class="hljs-comment">// ä½¿ç”¨cryptoç”Ÿæˆå®‰å…¨çš„éšæœºæ•°</span>
    <span class="hljs-keyword">const</span> uint32 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint32Array</span>(<span class="hljs-number">1</span>);
    crypto.<span class="hljs-title function_">getRandomValues</span>(uint32);
    <span class="hljs-keyword">const</span> j = uint32[<span class="hljs-number">0</span>] % (i + <span class="hljs-number">1</span>);
    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
  }
  <span class="hljs-keyword">return</span> newArray;
}
</code></pre>
<h4 data-id="heading-16">Q3: å¦‚ä½•éªŒè¯ä¸€ä¸ªéšæœºæ’åºç®—æ³•çš„å…¬å¹³æ€§ï¼Ÿ</h4>
<p>A3: å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•éªŒè¯ï¼š</p>
<ol>
<li><strong>é¢‘ç‡æµ‹è¯•</strong>ï¼šå¤šæ¬¡è¿è¡Œç®—æ³•ï¼Œç»Ÿè®¡æ¯ä¸ªå…ƒç´ åœ¨æ¯ä¸ªä½ç½®å‡ºç°çš„é¢‘ç‡ï¼Œåº”è¯¥æ¥è¿‘å‡åŒ€åˆ†å¸ƒã€‚</li>
<li><strong>åºåˆ—æµ‹è¯•</strong>ï¼šæ£€æŸ¥å…ƒç´ ä¹‹é—´çš„ç›¸å¯¹é¡ºåºæ˜¯å¦éšæœºã€‚</li>
<li><strong>é—´éš™æµ‹è¯•</strong>ï¼šæ£€æŸ¥éšæœºåºåˆ—ä¸­ç‰¹å®šæ¨¡å¼ï¼ˆå¦‚è¿ç»­æ•°å­—ï¼‰çš„å‡ºç°é¢‘ç‡æ˜¯å¦ç¬¦åˆéšæœºåˆ†å¸ƒé¢„æœŸã€‚</li>
</ol>
<p>å¯¹äºå‰ç«¯å¼€å‘ï¼Œå¯ä»¥ä½¿ç”¨ç»Ÿè®¡å­¦åº“å¦‚seedrandomæˆ–stats.jsæ¥è¿›è¡Œæ›´ä¸“ä¸šçš„éšæœºæ€§æµ‹è¯•ã€‚</p>
<h3 data-id="heading-17">æ€»ç»“ï¼šç¼–å†™å¯é éšæœºæ’åºçš„æœ€ä½³å®è·µ</h3>
<p>é€šè¿‡æœ¬æ–‡çš„åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š</p>
<ol>
<li><strong>é¿å…ä½¿ç”¨Array.sort(() =&gt; 0.5 - Math.random())</strong> ï¼šè¿™ç§æ–¹æ³•éšæœºæ€§å·®ï¼Œæ€§èƒ½ä½ã€‚</li>
<li><strong>ä¼˜å…ˆä½¿ç”¨Fisher-Yatesç®—æ³•</strong>ï¼šå®ƒèƒ½æä¾›å‡åŒ€çš„éšæœºæ€§å’Œé«˜æ•ˆçš„æ€§èƒ½ï¼ˆO(n)æ—¶é—´å¤æ‚åº¦ï¼‰ã€‚</li>
<li><strong>æ³¨æ„æ•°ç»„å‰¯æœ¬</strong>ï¼šåœ¨æ´—ç‰Œæ—¶åº”è¯¥åˆ›å»ºæ•°ç»„å‰¯æœ¬ï¼Œé¿å…ä¿®æ”¹åŸæ•°ç»„ã€‚</li>
<li><strong>æ ¹æ®åœºæ™¯é€‰æ‹©éšæœºæº</strong>ï¼šæ™®é€šåœºæ™¯ç”¨Math.random()ï¼ŒåŠ å¯†åœºæ™¯ç”¨crypto.getRandomValues()ã€‚</li>
<li><strong>å¤§æ•°æ®ç”¨è“„æ°´æ± æŠ½æ ·</strong>ï¼šä»æµ·é‡æ•°æ®ä¸­éšæœºæŠ½å–å°‘é‡å…ƒç´ æ—¶ï¼Œè“„æ°´æ± æŠ½æ ·ç®—æ³•æ›´é«˜æ•ˆã€‚</li>
</ol>
<p>æœ€åï¼Œæˆ‘ä»¬å†æ¥å›é¡¾ä¸€ä¸‹ä¼˜åŒ–åçš„éšæœºæŠ½å–å‡½æ•°ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">//  Fisher-Yatesæ´—ç‰Œç®—æ³•å®ç°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">fisherYatesShuffle</span>(<span class="hljs-params">array</span>) {
  <span class="hljs-keyword">const</span> newArray = [...array];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = newArray.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i &gt; <span class="hljs-number">0</span>; i--) {
    <span class="hljs-keyword">const</span> j = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * (i + <span class="hljs-number">1</span>));
    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
  }
  <span class="hljs-keyword">return</span> newArray;
}

<span class="hljs-comment">// ä¸šåŠ¡å‡½æ•°ï¼šéšæœºæŠ½å–5ä¸ªé—®é¢˜</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getRandomQuestions</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (sampleQuestions.<span class="hljs-property">length</span> &lt;= <span class="hljs-number">5</span>) <span class="hljs-keyword">return</span> [...sampleQuestions];
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">fisherYatesShuffle</span>(sampleQuestions).<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>);
};
</code></pre>
<p>å¸Œæœ›æœ¬æ–‡èƒ½å¸®åŠ©ä½ ç†è§£JavaScriptä¸­éšæœºæ’åºçš„åŸç†å’Œé™·é˜±ï¼Œå†™å‡ºæ›´å¯é ã€æ›´é«˜æ€§èƒ½çš„éšæœºæŠ½å–ä»£ç ã€‚è®°ä½ï¼š<strong>çœ‹ä¼¼ç®€å•çš„éšæœºé—®é¢˜ï¼Œå¾€å¾€éšè—ç€æ·±åˆ»çš„è®¡ç®—æœºç§‘å­¦åŸç†</strong>ï¼Œæ·±å…¥ç†è§£è¿™äº›åŸç†ï¼Œæ‰èƒ½å†™å‡ºçœŸæ­£ä¼˜ç§€çš„ä»£ç ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kuikly Compose vs. Jetpack Composeï¼šä¸€å¥—ä»£ç å®ç°çœŸæ­£çš„å…¨å¹³å°åŸç”Ÿæ¸²æŸ“]]></title>    <link>https://juejin.cn/post/7575757258834051098</link>    <guid>https://juejin.cn/post/7575757258834051098</guid>    <pubDate>2025-11-24T06:37:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575757258834051098" data-draft-id="7575757258834034714" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kuikly Compose vs. Jetpack Composeï¼šä¸€å¥—ä»£ç å®ç°çœŸæ­£çš„å…¨å¹³å°åŸç”Ÿæ¸²æŸ“"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-24T06:37:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èŠ’é¸½"/> <meta itemprop="url" content="https://juejin.cn/user/624178334269613"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kuikly Compose vs. Jetpack Composeï¼šä¸€å¥—ä»£ç å®ç°çœŸæ­£çš„å…¨å¹³å°åŸç”Ÿæ¸²æŸ“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/624178334269613/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èŠ’é¸½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T06:37:14.000Z" title="Mon Nov 24 2025 06:37:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å‘Šåˆ«å¤šå¹³å°å¼€å‘çš„æŠ€æœ¯æ ˆåˆ†è£‚ï¼Œä½“éªŒ Kotlin çš„è·¨ç«¯é­…åŠ›</p>
</blockquote>
<p>éšç€ Kotlin å£°æ˜å¼ UI æ¡†æ¶ Jetpack Compose çš„æˆç†Ÿï¼Œå…¶ç®€æ´çš„è¯­æ³•å’Œé«˜æ•ˆçš„å¼€å‘ä½“éªŒèµ¢å¾—äº†å¤§é‡ Android å¼€å‘è€…çš„é’çã€‚ä½†å½“æˆ‘ä»¬é¢ä¸´å¤šå¹³å°å¼€å‘éœ€æ±‚æ—¶ï¼Œç—›ç‚¹ä¹Ÿéšä¹‹è€Œæ¥ï¼šiOS éœ€è¦å­¦ä¹  SwiftUIï¼Œé¸¿è’™éœ€è¦æŒæ¡ ArkTSï¼ŒWeb å‰ç«¯åˆæœ‰è‡ªå·±çš„ä¸€å¥—æŠ€æœ¯æ ˆâ€¦â€¦</p>
<p>è…¾è®¯å¼€æºçš„ <strong>Kuikly Compose</strong> æ­£æ˜¯ä¸ºäº†è§£å†³è¿™ä¸€æ ¸å¿ƒç—›ç‚¹è€Œç”Ÿã€‚å®ƒå¹¶éå¦ä¸€ä¸ªå­¤ç«‹çš„ UI æ¡†æ¶ï¼Œè€Œæ˜¯åŸºäº Kuikly æ ¸å¿ƒè·¨å¹³å°æ¸²æŸ“å¼•æ“ï¼Œå¯¹æ ‡å‡† Compose DSL è¿›è¡Œçš„è·¨ç«¯é€‚é…ã€‚ä»Šå¤©ï¼Œè®©æˆ‘ä»¬æ·±å…¥æ¢è®¨è¿™ä¸¤è€…çš„åŒºåˆ«ï¼Œå¹¶è¯¦ç»†äº†è§£ Kuikly Compose å¼ºå¤§çš„è·¨ç«¯ç»„ä»¶æ”¯æŒã€‚</p>
<h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒç†å¿µï¼šå•å¹³å°æ–¹æ¡ˆ vs çœŸè·¨ç«¯è§£å†³æ–¹æ¡ˆ</h2>
<p>è¿™æ˜¯ä¸¤è€…æœ€æ ¹æœ¬çš„åŒºåˆ«ï¼Œå†³å®šäº†å®ƒä»¬çš„æ‰€æœ‰æŠ€æœ¯ç‰¹æ€§å’Œåº”ç”¨åœºæ™¯ã€‚</p>
<p><strong>Jetpack Composeï¼šAndroid çš„ä¸“å±ç°ä»£åŒ–å·¥å…·åŒ…</strong></p>
<ul>
<li><strong>å®šä½</strong>ï¼šä¸“ä¸º Android å¹³å°è®¾è®¡çš„ç°ä»£ UI å·¥å…·åŒ…</li>
<li><strong>æ·±åº¦é›†æˆ</strong>ï¼šä¸ Android ç”Ÿæ€ç³»ç»Ÿç´§å¯†è€¦åˆ</li>
<li><strong>æ¸²æŸ“æ–¹å¼</strong>ï¼šåŸºäº Skia è‡ªç»˜å¼•æ“ï¼Œåœ¨ Android Canvas ä¸Šç›´æ¥ç»˜åˆ¶</li>
<li><strong>ç›®æ ‡å¹³å°</strong>ï¼šä»…é™ Android</li>
</ul>
<p><strong>Kuikly Composeï¼šKotlin å…¨æ ˆè·¨ç«¯çš„æ¡¥æ¢</strong></p>
<ul>
<li><strong>å®šä½</strong>ï¼šåŸºäº KMP çš„è·¨å¹³å° UI æ¡†æ¶ï¼Œæä¾› Compose DSL å…¼å®¹å±‚</li>
<li><strong>æ ¸å¿ƒä»·å€¼</strong>ï¼šä½¿ç”¨ç†Ÿæ‚‰çš„ Compose è¯­æ³•ï¼Œé©±åŠ¨è·¨å¹³å°åŸç”Ÿæ¸²æŸ“å¼•æ“</li>
<li><strong>ç›®æ ‡å¹³å°</strong>ï¼šAndroidã€iOSã€é¸¿è’™ (OpenHarmony)ã€H5 (Beta)ã€å¾®ä¿¡å°ç¨‹åº (Beta)ï¼Œå¹¶è§„åˆ’æ”¯æŒ Desktop</li>
<li><strong>æ ¸å¿ƒæ‰¿è¯º</strong>ï¼š"ä¸€æ¬¡ç¼–å†™ï¼ŒåŸç”Ÿæ¸²æŸ“å¤šç«¯"</li>
</ul>
<p>ä¸ºäº†æ›´æ¸…æ™°åœ°å±•ç¤ºä¸¤è€…çš„æŠ€æœ¯å·®å¼‚ï¼Œè¯·çœ‹ä¸‹é¢çš„å¯¹æ¯”è¡¨æ ¼ï¼š</p>


















































<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>Jetpack Compose (Android)</th><th>Kuikly Compose (Multi-Platform)</th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒæ¶æ„</strong></td><td>åŸºäº Skia çš„è‡ªç»˜å¼•æ“</td><td>åŸºäº Kuikly Core çš„åŸç”Ÿæ¸²æŸ“å¼•æ“</td></tr><tr><td><strong>æ¸²æŸ“æ–¹å¼</strong></td><td>åœ¨ Android Canvas ä¸Šè‡ªç»˜</td><td>è°ƒç”¨å„å¹³å°åŸç”Ÿ UI ç»„ä»¶è¿›è¡Œæ¸²æŸ“</td></tr><tr><td><strong>è·¨å¹³å°æ”¯æŒ</strong></td><td>ä»…é™ Android</td><td>çœŸæ­£çš„å…¨å¹³å°æ”¯æŒ</td></tr><tr><td><strong>åŠ¨æ€åŒ–èƒ½åŠ›</strong></td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒï¼ˆå¯ç¼–è¯‘ä¸º JS Bundle åŠ¨æ€ä¸‹å‘ï¼‰</td></tr><tr><td><strong>æ€§èƒ½ç‰¹ç‚¹</strong></td><td>é«˜å¸§ç‡ï¼Œä½†æœ‰å¼•æ“å¯åŠ¨å¼€é”€</td><td>åŸç”Ÿæ€§èƒ½ï¼Œæ— é¢å¤–å¼•æ“å¯åŠ¨è€—æ—¶</td></tr><tr><td><strong>åŒ…ä½“ç§¯å½±å“</strong></td><td>è¾ƒå¤§ï¼ˆéœ€æºå¸¦ Skia å¼•æ“ï¼‰</td><td>æå°ï¼ˆè¿è¡Œæ—¶è½»é‡ï¼‰</td></tr><tr><td><strong>ä¸€è‡´æ€§ä¿éšœ</strong></td><td>ç»å¯¹ä¸€è‡´ï¼ˆè‡ªç»˜ä¿è¯ï¼‰</td><td>é«˜ä¸€è‡´æ€§ï¼ˆé€šè¿‡æ¶æ„ä¿éšœï¼‰</td></tr><tr><td><strong>å­¦ä¹ æˆæœ¬</strong></td><td>éœ€å­¦ä¹  Compose èŒƒå¼</td><td>Compose å¼€å‘è€…é›¶æˆæœ¬ä¸Šæ‰‹</td></tr></tbody></table>
<h2 data-id="heading-1">äºŒã€æŠ€æœ¯æ¶æ„ï¼šè‡ªç»˜å¼•æ“ vs åŸç”Ÿæ¸²æŸ“å¼•æ“</h2>
<p>è¿™ä¸ªæŠ€æœ¯åˆ†æ°´å²­ç›´æ¥å¯¼è‡´äº†æ€§èƒ½ã€åŒ…ä½“ç§¯å’Œç”¨æˆ·ä½“éªŒçš„æ ¹æœ¬å·®å¼‚ã€‚</p>
<h3 data-id="heading-2">Jetpack Compose çš„æ¸²æŸ“è·¯å¾„</h3>
<pre><code class="hljs language-css" lang="css">Compose <span class="hljs-selector-tag">Code</span> â†’ Skia Engine â†’ Android <span class="hljs-selector-tag">Canvas</span>
</code></pre>
<p>ä½ çš„ Compose ä»£ç è¢«ç¼–è¯‘æˆ Android å­—èŠ‚ç ï¼Œåœ¨è¿è¡Œæ—¶é€šè¿‡ Skia å›¾å½¢åº“ç›´æ¥åœ¨åº”ç”¨ Surface ä¸Šè¿›è¡Œç»˜åˆ¶ã€‚å®ƒç»•è¿‡äº† Android ç³»ç»Ÿçš„åŸç”Ÿæ§ä»¶ï¼Œå®ç°äº†å®Œå…¨çš„è‡ªç»˜åˆ¶ã€‚</p>
<h3 data-id="heading-3">Kuikly Compose çš„æ¸²æŸ“è·¯å¾„</h3>
<pre><code class="hljs language-css" lang="css">Compose <span class="hljs-selector-tag">Code</span> â†’ Kuikly Core â†’ Native UI Components (UIKit/ArkUI/View, etc.)
</code></pre>
<p>ä½ çš„ Compose ä»£ç é€šè¿‡ KMP ç¼–è¯‘å™¨ç”Ÿæˆå¯¹åº”å¹³å°çš„åŸç”Ÿåº“ï¼ŒKuikly Core è´Ÿè´£è§£æå¸ƒå±€é€»è¾‘ï¼Œé€šè¿‡é€šç”¨æ¸²æŸ“å±‚ç›´æ¥è°ƒç”¨å„å¹³å°åŸç”Ÿç»„ä»¶ï¼š</p>
<ul>
<li><strong>iOS</strong>ï¼šText ç»„ä»¶æ˜ å°„ä¸º <code>UILabel</code></li>
<li><strong>é¸¿è’™</strong>ï¼šText ç»„ä»¶æ˜ å°„ä¸º <code>Text</code> ç»„ä»¶</li>
<li><strong>Android</strong>ï¼šText ç»„ä»¶æ˜ å°„ä¸º <code>TextView</code></li>
</ul>
<p><strong>è¿™ç§æ¶æ„å¸¦æ¥çš„æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong></p>
<p>ğŸš€ <strong>çœŸæ­£çš„åŸç”Ÿæ€§èƒ½</strong>ï¼šä½¿ç”¨å¹³å°åŸç”Ÿ UI ç»„ä»¶ï¼Œæ»šåŠ¨ã€åŠ¨ç”»ã€å­—ä½“æ¸²æŸ“ç­‰ä½“éªŒä¸çº¯åŸç”Ÿåº”ç”¨å®Œå…¨ä¸€è‡´</p>
<p>ğŸ”— <strong>æ— ç¼å¹³å°é›†æˆ</strong>ï¼šè½»æ¾ä¸ç°æœ‰åŸç”Ÿé¡µé¢ã€ç¬¬ä¸‰æ–¹ SDK æ··åˆå¼€å‘ï¼Œæ— æ€§èƒ½ç“¶é¢ˆ</p>
<p>ğŸ“¦ <strong>æå°çš„åŒ…ä½“ç§¯</strong>ï¼šæ— éœ€æºå¸¦åºå¤§çš„ Skia å¼•æ“ï¼Œåº”ç”¨ä½“ç§¯æ›´å°</p>
<h2 data-id="heading-4">ä¸‰ã€Kuikly Compose è·¨ç«¯ç»„ä»¶æ·±åº¦è§£æ</h2>
<p>Kuikly Compose è‡´åŠ›äºæä¾›ä¸ Jetpack Compose é«˜åº¦ä¸€è‡´çš„å¼€å‘ä½“éªŒã€‚å½“å‰ Beta ç‰ˆæœ¬å·²æ”¯æŒç»å¤§å¤šæ•°æ ¸å¿ƒ APIï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿå¹³æ»‘è¿‡æ¸¡ã€‚</p>
<h3 data-id="heading-5">1. å…¨é¢è¦†ç›–çš„åŸºç¡€ç»„ä»¶</h3>
<p><strong>å¸ƒå±€ç»„ä»¶</strong></p>
<ul>
<li><code>Column</code>ã€<code>Row</code>ã€<code>Box</code> - å®Œå…¨æ”¯æŒ Compose çš„å¸ƒå±€æ¨¡å‹</li>
<li>å®Œæ•´çš„ä¿®é¥°ç¬¦ç³»ç»Ÿæ”¯æŒï¼ŒåŒ…æ‹¬ <code>padding</code>ã€<code>size</code>ã€<code>background</code> ç­‰</li>
</ul>
<p><strong>åŸºç¡€ UI ç»„ä»¶</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æ–‡æœ¬æ˜¾ç¤º - å…¨å¹³å°åŸç”Ÿæ¸²æŸ“</span>
Text(
    text = <span class="hljs-string">"Hello Kuikly!"</span>,
    color = Color.Blue,
    fontSize = <span class="hljs-number">18.</span>sp,
    modifier = Modifier.padding(<span class="hljs-number">16.</span>dp)
)

<span class="hljs-comment">// æŒ‰é’®ç»„ä»¶ - åŸç”Ÿäº¤äº’ä½“éªŒ</span>
Button(
    onClick = { <span class="hljs-comment">/* å¤„ç†ç‚¹å‡» */</span> },
    colors = ButtonDefaults.buttonColors(backgroundColor = Color.Material)
) {
    Text(<span class="hljs-string">"ç‚¹å‡»æˆ‘"</span>)
}

<span class="hljs-comment">// å›¾ç‰‡ç»„ä»¶ - æ”¯æŒå¤šç§æº</span>
Image(
    painter = rememberImagePainter(<span class="hljs-string">"https://example.com/image.jpg"</span>),
    contentDescription = <span class="hljs-string">"ç½‘ç»œå›¾ç‰‡"</span>
)
</code></pre>
<p><strong>å®¹å™¨ä¸äº¤äº’ç»„ä»¶</strong></p>
<ul>
<li><code>LazyColumn</code> / <code>LazyRow</code> - é«˜æ€§èƒ½åˆ—è¡¨ï¼Œæ”¯æŒå¤§é‡æ•°æ®</li>
<li><code>ModalBottomSheet</code>ã€<code>Dialog</code> - æ¨¡æ€å¼¹çª—ç»„ä»¶</li>
<li><code>Scaffold</code>ã€<code>TopAppBar</code> -  Material è®¾è®¡è„šæ‰‹æ¶</li>
</ul>
<h3 data-id="heading-6">2. å®Œæ•´çš„çŠ¶æ€ç®¡ç†ä¸åŠ¨ç”»ç³»ç»Ÿ</h3>
<p><strong>å“åº”å¼çŠ¶æ€ç®¡ç†</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Page(<span class="hljs-string">"CounterPage"</span>)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CounterPage</span> : <span class="hljs-type">ComposeContainer</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">willInit</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.willInit()
        setContent {
            <span class="hljs-keyword">var</span> count <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-number">0</span>) }
            
            Column(
                modifier = Modifier.padding(<span class="hljs-number">16.</span>dp),
                horizontalAlignment = Alignment.CenterHorizontally
            ) {
                Text(<span class="hljs-string">"è®¡æ•°å™¨: <span class="hljs-variable">$count</span>"</span>, style = MaterialTheme.typography.h4)
                
                Button(onClick = { count++ }) {
                    Text(<span class="hljs-string">"å¢åŠ "</span>)
                }
            }
        }
    }
}
</code></pre>
<p><strong>æµç•…çš„åŠ¨ç”»æ”¯æŒ</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">var</span> expanded <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-literal">false</span>) }
<span class="hljs-keyword">val</span> rotateAnim <span class="hljs-keyword">by</span> animateFloatAsState(
    targetValue = <span class="hljs-keyword">if</span> (expanded) <span class="hljs-number">180f</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0f</span>
)

Icon(
    imageVector = Icons.Default.ExpandMore,
    contentDescription = <span class="hljs-string">"å±•å¼€å›¾æ ‡"</span>,
    modifier = Modifier
        .rotate(rotateAnim)
        .clickable { expanded = !expanded }
)
</code></pre>
<h3 data-id="heading-7">3. çœŸå®ä¸šåŠ¡åœºæ™¯ç¤ºä¾‹</h3>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç”¨æˆ·èµ„æ–™é¡µé¢ç¤ºä¾‹ï¼Œå±•ç¤ºäº† Kuikly Compose åœ¨å®é™…ä¸šåŠ¡ä¸­çš„åº”ç”¨ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Page(<span class="hljs-string">"ProfilePage"</span>)</span>
<span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProfilePage</span> : <span class="hljs-type">ComposeContainer</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">willInit</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.willInit()
        setContent {
            MaterialTheme {
                Scaffold(
                    topBar = {
                        TopAppBar(
                            title = { Text(<span class="hljs-string">"æˆ‘çš„ä¸»é¡µ"</span>) },
                            actions = {
                                IconButton(onClick = { <span class="hljs-comment">/* è®¾ç½®æ“ä½œ */</span> }) {
                                    Icon(Icons.Default.Settings, <span class="hljs-string">"è®¾ç½®"</span>)
                                }
                            }
                        )
                    }
                ) { innerPadding -&gt;
                    LazyColumn(contentPadding = innerPadding) {
                        <span class="hljs-comment">// ç”¨æˆ·å¤´åƒéƒ¨åˆ†</span>
                        item {
                            Box(
                                modifier = Modifier
                                    .fillMaxWidth()
                                    .padding(vertical = <span class="hljs-number">24.</span>dp),
                                contentAlignment = Alignment.Center
                            ) {
                                Image(
                                    painter = rememberImagePainter(
                                        <span class="hljs-string">"https://example.com/avatar.jpg"</span>
                                    ),
                                    contentDescription = <span class="hljs-string">"ç”¨æˆ·å¤´åƒ"</span>,
                                    modifier = Modifier
                                        .size(<span class="hljs-number">120.</span>dp)
                                        .clip(CircleShape)
                                        .border(<span class="hljs-number">2.</span>dp, Color.Gray, CircleShape)
                                )
                            }
                        }
                        
                        <span class="hljs-comment">// ç”¨æˆ·ä¿¡æ¯éƒ¨åˆ†</span>
                        item {
                            <span class="hljs-keyword">var</span> userName <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-string">"Kuikly User"</span>) }
                            <span class="hljs-keyword">var</span> bio <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-string">"çƒ­çˆ±è·¨ç«¯å¼€å‘çš„å¼€å‘è€…"</span>) }
                            
                            Column(modifier = Modifier.padding(horizontal = <span class="hljs-number">16.</span>dp)) {
                                Text(
                                    text = userName,
                                    style = MaterialTheme.typography.h5,
                                    modifier = Modifier.padding(bottom = <span class="hljs-number">8.</span>dp)
                                )
                                
                                Text(
                                    text = bio,
                                    style = MaterialTheme.typography.body1,
                                    color = Color.Gray
                                )
                                
                                <span class="hljs-comment">// äº¤äº’æŒ‰é’®</span>
                                Button(
                                    onClick = { 
                                        userName = <span class="hljs-string">"æ¬¢è¿ä½¿ç”¨ Kuikly!"</span>
                                        bio = <span class="hljs-string">"ä½“éªŒçœŸæ­£çš„è·¨ç«¯å¼€å‘"</span>
                                    },
                                    modifier = Modifier
                                        .fillMaxWidth()
                                        .padding(vertical = <span class="hljs-number">16.</span>dp)
                                ) {
                                    Text(<span class="hljs-string">"æ›´æ–°èµ„æ–™"</span>)
                                }
                            }
                        }
                        
                        <span class="hljs-comment">// åŠŸèƒ½åˆ—è¡¨</span>
                        item {
                            <span class="hljs-keyword">val</span> menuItems = listOf(
                                <span class="hljs-string">"æˆ‘çš„ä½œå“"</span>,
                                <span class="hljs-string">"æ”¶è—è®°å½•"</span>, 
                                <span class="hljs-string">"å­¦ä¹ è½¨è¿¹"</span>,
                                <span class="hljs-string">"ç³»ç»Ÿè®¾ç½®"</span>
                            )
                            
                            LazyColumn {
                                items(menuItems) { item -&gt;
                                    Card(
                                        modifier = Modifier
                                            .fillMaxWidth()
                                            .padding(horizontal = <span class="hljs-number">16.</span>dp, vertical = <span class="hljs-number">4.</span>dp)
                                            .clickable { <span class="hljs-comment">/* å¤„ç†ç‚¹å‡» */</span> },
                                        elevation = <span class="hljs-number">2.</span>dp
                                    ) {
                                        Row(
                                            modifier = Modifier.padding(<span class="hljs-number">16.</span>dp),
                                            verticalAlignment = Alignment.CenterVertically
                                        ) {
                                            Text(
                                                text = item,
                                                modifier = Modifier.weight(<span class="hljs-number">1f</span>)
                                            )
                                            Icon(
                                                Icons.Default.ChevronRight,
                                                contentDescription = <span class="hljs-string">"ç®­å¤´"</span>
                                            )
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
</code></pre>
<p>è¿™ä¸ªç¤ºä¾‹å……åˆ†å±•ç¤ºäº† Kuikly Compose çš„èƒ½åŠ›ï¼š</p>
<ul>
<li>âœ… <strong>å¤æ‚å¸ƒå±€</strong>ï¼šä½¿ç”¨ <code>Scaffold</code>ã€<code>LazyColumn</code> ç­‰é«˜çº§å¸ƒå±€</li>
<li>âœ… <strong>çŠ¶æ€ç®¡ç†</strong>ï¼šå“åº”å¼çŠ¶æ€é©±åŠ¨ UI æ›´æ–°</li>
<li>âœ… <strong>æ‰‹åŠ¿äº¤äº’</strong>ï¼šæ”¯æŒç‚¹å‡»ç­‰ç”¨æˆ·äº¤äº’</li>
<li>âœ… <strong>æ ·å¼ä¸»é¢˜</strong>ï¼šå®Œæ•´çš„ Material Design æ”¯æŒ</li>
<li>âœ… <strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šä½¿ç”¨ <code>LazyColumn</code> å¤„ç†é•¿åˆ—è¡¨</li>
</ul>
<h2 data-id="heading-8">å››ã€å®æˆ˜é€‰æ‹©æŒ‡å—</h2>
<h3 data-id="heading-9">é€‰æ‹© Jetpack Composeï¼Œå¦‚æœï¼š</h3>
<ul>
<li>ä½ çš„é¡¹ç›®<strong>ä»…é¢å‘ Android å¹³å°</strong></li>
<li>éœ€è¦æ·±åº¦é›†æˆ Android ç‰¹å®šåŠŸèƒ½</li>
<li>è¿½æ±‚æœ€å‰æ²¿çš„ Android UI æŠ€æœ¯ç”Ÿæ€</li>
</ul>
<h3 data-id="heading-10">é€‰æ‹© Kuikly Composeï¼Œå¦‚æœï¼š</h3>
<ul>
<li>ä¸šåŠ¡éœ€è¦è¦†ç›– <strong>Androidã€iOSã€é¸¿è’™ç­‰å¤šä¸ªå¹³å°</strong></li>
<li>å¸Œæœ›ç”¨ <strong>ç»Ÿä¸€æŠ€æœ¯æ ˆ</strong> é™ä½å­¦ä¹ å’Œç»´æŠ¤æˆæœ¬</li>
<li>è¿½æ±‚<strong>æè‡´åŸç”Ÿæ€§èƒ½</strong>å’Œ<strong>æ— ç¼åŸç”Ÿä½“éªŒ</strong></li>
<li>éœ€è¦ä¸ç°æœ‰åŸç”Ÿä»£ç æ·±åº¦é›†æˆ</li>
<li>å¯¹<strong>åŠ¨æ€åŒ–</strong>æœ‰æ½œåœ¨éœ€æ±‚</li>
<li><strong>ç‰¹åˆ«æ˜¯</strong>éœ€è¦å¿«é€Ÿã€é«˜è´¨é‡å®Œæˆé¸¿è’™åº”ç”¨é€‚é…</li>
</ul>
<h2 data-id="heading-11">äº”ã€æœªæ¥å±•æœ›</h2>
<p>Kuikly Compose ä»£è¡¨ç€ Kotlin è·¨ç«¯å¼€å‘çš„æœªæ¥æ–¹å‘ã€‚éšç€é¡¹ç›®çš„æŒç»­å‘å±•ï¼Œæˆ‘ä»¬æœŸå¾…çœ‹åˆ°ï¼š</p>
<ol>
<li><strong>æ›´å¹¿æ³›çš„å¹³å°æ”¯æŒ</strong>ï¼šåŒ…æ‹¬ Desktopã€æ›´å¤šå°ç¨‹åºå¹³å°</li>
<li><strong>æ›´å®Œå–„çš„ç»„ä»¶ç”Ÿæ€</strong>ï¼šè¦†ç›–æ‰€æœ‰ Jetpack Compose ç»„ä»¶</li>
<li><strong>æ›´å¼ºå¤§çš„å·¥å…·é“¾</strong>ï¼šå¼€å‘ä½“éªŒçš„æŒç»­ä¼˜åŒ–</li>
<li><strong>æ›´ä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿ</strong>ï¼šç¬¬ä¸‰æ–¹åº“å’Œæ’ä»¶æ”¯æŒ</li>
</ol>
<h2 data-id="heading-12">ç»“è¯­</h2>
<p>Kuikly Compose è®© Compose çš„ä¼˜é›…è¯­æ³•çœŸæ­£çªç ´äº† Android çš„è¾¹ç•Œï¼Œä¸ºå¼€å‘è€…å¼€å¯äº†ä¸€æ‰‡é€šå¾€"Kotlin å…¨æ ˆè·¨ç«¯"çš„å¤§é—¨ã€‚æ— è®ºä½ æ˜¯ç°æœ‰çš„ Compose å¼€å‘è€…æƒ³è¦æ‰©å±•æŠ€èƒ½è¾¹ç•Œï¼Œè¿˜æ˜¯æ­£åœ¨ä¸ºå¤šå¹³å°å¼€å‘çš„æŠ€æœ¯é€‰å‹è€Œè‹¦æ¼ï¼ŒKuikly Compose éƒ½å€¼å¾—ä½ æ·±å…¥äº†è§£å’Œå°è¯•ã€‚</p>
<p><strong>å¼€å§‹æ¢ç´¢ï¼š</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fkuikly.dev" target="_blank" title="https://kuikly.dev" ref="nofollow noopener noreferrer">Kuikly Compose å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkuikly%2Fkuikly-compose" target="_blank" title="https://github.com/kuikly/kuikly-compose" ref="nofollow noopener noreferrer">Kuikly GitHub ä»“åº“</a> - æŸ¥çœ‹æœ€æ–°ç¤ºä¾‹å’Œæºç </li>
</ul>
<p>æ‹¥æŠ± Kuikly Composeï¼Œä½“éªŒ"ä¸€æ¬¡ç¼–å†™ï¼Œå¤„å¤„åŸç”Ÿ"çš„çœŸæ­£è·¨ç«¯å¼€å‘é­…åŠ›ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Charles æŠ“ä¸åˆ°åŒ…æ€ä¹ˆåŠï¼Ÿä» HTTPS åˆ†æåˆ° TCP æŠ“åŒ…çš„å…¨æµç¨‹æ’æŸ¥æŒ‡å—]]></title>    <link>https://juejin.cn/post/7575910333400645686</link>    <guid>https://juejin.cn/post/7575910333400645686</guid>    <pubDate>2025-11-24T07:39:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575910333400645686" data-draft-id="7576026767371321363" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Charles æŠ“ä¸åˆ°åŒ…æ€ä¹ˆåŠï¼Ÿä» HTTPS åˆ†æåˆ° TCP æŠ“åŒ…çš„å…¨æµç¨‹æ’æŸ¥æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-24T07:39:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="iOSå¼€å‘ä¸Šæ¶å“¦"/> <meta itemprop="url" content="https://juejin.cn/user/3336394949004844"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Charles æŠ“ä¸åˆ°åŒ…æ€ä¹ˆåŠï¼Ÿä» HTTPS åˆ†æåˆ° TCP æŠ“åŒ…çš„å…¨æµç¨‹æ’æŸ¥æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3336394949004844/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    iOSå¼€å‘ä¸Šæ¶å“¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T07:39:13.000Z" title="Mon Nov 24 2025 07:39:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ—¥å¸¸å¼€å‘å’Œç§»åŠ¨ç«¯è°ƒè¯•ä¸­ï¼Œ<strong>Charles</strong> æ˜¯æœ€å¸¸ä½¿ç”¨çš„ä»£ç†æŠ“åŒ…å·¥å…·ä¹‹ä¸€ã€‚ä½†åªè¦æ¶‰åŠ iOSã€HTTPSã€è¯ä¹¦æ ¡éªŒã€QUIC æˆ–åº”ç”¨ä¾§ç‰¹æ®Šç½‘ç»œé€»è¾‘ï¼ŒCharles å¶å°”ä¼šå‡ºç°â€œå®Œå…¨æŠ“ä¸åˆ°åŒ…â€çš„æƒ…å†µã€‚æ˜æ˜å·²ç»è®¾ç½®äº† Wi-Fi ä»£ç†ï¼Œä¹Ÿå®‰è£…äº†è¯ä¹¦ï¼Œå¯å°±æ˜¯ä¸å‡ºç°ä»»ä½•æµé‡â€”â€”è¿™æ˜¯å¾ˆå¤šå·¥ç¨‹å¸ˆæœ€å¸¸è§çš„æŠ“åŒ…éš¾é¢˜ã€‚</p>
<p>æœ¬æ–‡ä»å·¥ç¨‹è§’åº¦æ·±å…¥åˆ†æ â€œ<strong>Charles æŠ“ä¸åˆ°åŒ…æ€ä¹ˆåŠï¼Ÿ</strong>â€ï¼Œæ‹†è§£å¸¸è§æˆå› ã€ç³»ç»Ÿæ’æŸ¥æ–¹å¼ï¼Œä»¥åŠä»£ç†æ— æ•ˆæ—¶å¦‚ä½•é€šè¿‡Sniffmasterå·¥å…·è¡¥é½è¯æ®</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆ Charles ä¼šæŠ“ä¸åˆ°åŒ…ï¼Ÿï¼ˆå®é™…å·¥ç¨‹ä¸­å‡ºç°æœ€å¤šçš„äº”ä¸ªåŸå› ï¼‰</h2>
<h3 data-id="heading-1"><strong>HTTPS è¯ä¹¦æœªè¢«ç³»ç»Ÿä¿¡ä»»æˆ–è¢«æ›¿æ¢</strong></h3>
<p>å…¸å‹è¡¨ç°ï¼š</p>
<ul>
<li>åªæœ‰ CONNECTï¼Œæ²¡æœ‰æ˜æ–‡ HTTPS</li>
<li>App æŠ¥â€œè¯ä¹¦ä¸å¯ä¿¡â€</li>
</ul>
<p>è¿™é€šå¸¸æ¥è‡ªï¼š</p>
<ul>
<li>è¯ä¹¦æœªä¿¡ä»»</li>
<li>Wi-Fi æˆ– VPN æ³¨å…¥ä¸­é—´è¯ä¹¦</li>
<li>ATS å†²çªå¯¼è‡´æ¡æ‰‹å¤±è´¥</li>
</ul>
<hr/>
<h3 data-id="heading-2"><strong>App å¯ç”¨äº†è¯ä¹¦ Pinning</strong></h3>
<p>è¿™æ˜¯ iOS æŠ“åŒ…å¤±è´¥çš„æœ€é«˜é¢‘åŸå› ã€‚</p>
<p>è¡¨ç°ï¼š</p>
<ul>
<li>Safari èƒ½æŠ“</li>
<li>Charles èƒ½æŠ“ç½‘é¡µ</li>
<li>ä½† App å®Œå…¨æ²¡æœ‰æµé‡</li>
</ul>
<p>è¯´æ˜ App æ‹’ç»ä»£ç†è¯ä¹¦ã€‚</p>
<hr/>
<h3 data-id="heading-3"><strong>éƒ¨åˆ†åŸŸåèµ° QUICï¼ˆHTTP/3ï¼‰ç»•è¿‡ä»£ç†</strong></h3>
<p>Charles åŸºäº TCP ä»£ç†ï¼Œè€Œ QUIC èµ°çš„æ˜¯ UDPï¼Œæ‰€ä»¥ï¼š</p>
<ul>
<li>QUIC æµé‡ä¸ä¼šè¢«ä»£ç†æˆªè·</li>
<li>è§†é¢‘ç±»ã€æµ·å¤–æ¥å£å°¤å…¶å¸¸è§</li>
<li>HTTP/3 å¼€å¯åæŠ“åŒ…ç›´æ¥å¤±æ•ˆ</li>
</ul>
<hr/>
<h3 data-id="heading-4"><strong>App èµ°äº†è‡ªå®šä¹‰ç½‘ç»œæ ˆæˆ–ç§æœ‰åè®®</strong></h3>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>TCP äºŒè¿›åˆ¶åè®®</li>
<li>WebSocket</li>
<li>å†…åµŒ SDK çš„ç§æœ‰æ ˆ</li>
</ul>
<p>è¿™äº›ä¸ä¼šèµ°ç³»ç»Ÿä»£ç†ï¼ŒCharles æ— æ³•çœ‹åˆ°ã€‚</p>
<hr/>
<h3 data-id="heading-5"><strong>å…¬å¸ç½‘ç»œç¯å¢ƒå¯¼è‡´æµé‡åŠ«æŒ</strong></h3>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>ä¼ä¸š Wi-Fi æ›¿æ¢è¯ä¹¦é“¾</li>
<li>å¼ºåˆ¶ç½‘å…³ä»£ç†</li>
<li>å®‰å…¨ç³»ç»Ÿé˜»æ–­ TLS ä¸­é—´äººè¡Œä¸º</li>
</ul>
<p>å¯¼è‡´ Charles æ— æ³•æ­£å¸¸å»ºç«‹è§£å¯†é“¾è·¯ã€‚</p>
<hr/>
<h2 data-id="heading-6">äºŒã€Charles æŠ“ä¸åˆ°åŒ…çš„æ’æŸ¥æ­¥éª¤ï¼ˆå·¥ç¨‹å›¢é˜Ÿå¯ç›´æ¥å¤ç”¨ï¼‰</h2>
<p>ä¸‹é¢çš„æµç¨‹å¯ç›´æ¥ç”¨ä½œå›¢é˜ŸæŠ“åŒ… SOPã€‚</p>
<hr/>
<h3 data-id="heading-7"><strong>â‘  æ£€æŸ¥ä»£ç†ä¸è¯ä¹¦è®¾ç½®ï¼ˆåŸºç¡€æ’æŸ¥ï¼‰</strong></h3>
<p>æ£€æŸ¥ï¼š</p>
<ul>
<li>Charles æ˜¯å¦å¼€å¯ macOS ä»£ç†</li>
<li>è¯ä¹¦æ˜¯å¦å®‰è£…å¹¶ä¿¡ä»»</li>
<li>ç«¯å£æ˜¯å¦è¢«å…¶ä»–è½¯ä»¶å ç”¨</li>
<li>Charles æ˜¯å¦å¯ç”¨äº† SSL Proxying</li>
</ul>
<p>è‹¥ HTTPS ä¸€æ¡ä¸å‡ºç° â†’ ä¸æ˜¯ä¸šåŠ¡é—®é¢˜ï¼Œæ˜¯è¯ä¹¦é“¾/ç½‘ç»œé—®é¢˜ã€‚</p>
<hr/>
<h3 data-id="heading-8"><strong>â‘¡ éªŒè¯æ˜¯å¦ä¸ºè¯ä¹¦ Pinning</strong></h3>
<p>åˆ¤æ–­æ–¹å¼ï¼š</p>
<ul>
<li>Safari èƒ½æŠ“åŒ…</li>
<li>App æŠ“ä¸åˆ°åŒ…</li>
<li>Charles é¢æ¿å§‹ç»ˆå¹²å‡€</li>
</ul>
<p>è¿™è¯´æ˜ App å†…æœ‰ pinningã€‚</p>
<p>ç»§ç»­ä¾èµ– Charles æ— æ„ä¹‰ï¼Œå¿…é¡»ä»¥åº•å±‚æ–¹å¼è¡¥æŠ“ã€‚</p>
<hr/>
<h3 data-id="heading-9"><strong>â‘¢ æ’æŸ¥æ˜¯å¦ä¸º QUIC / HTTP3 å¯¼è‡´</strong></h3>
<p>QUIC æ˜¯ä»£ç†æŠ“åŒ…å¤±è´¥çš„é‡è¦æ¥æºã€‚</p>
<p>æµ‹è¯•æ–¹æ³•ï¼š</p>
<ul>
<li>å¼ºåˆ¶å…³é—­ HTTP/3</li>
<li>ç”¨ç§»åŠ¨ç½‘ç»œï¼ˆ4G/5Gï¼‰é‡æ–°æµ‹è¯•</li>
</ul>
<p>è‹¥å…³é—­åèƒ½æŠ“ â†’ å³ä¸º QUIC ç»•è¿‡ã€‚</p>
<hr/>
<h3 data-id="heading-10"><strong>â‘£ çœ‹æœåŠ¡å™¨ç«¯æ˜¯å¦æ”¶åˆ°è¯·æ±‚ï¼ˆç¡®è®¤é“¾è·¯ï¼‰</strong></h3>
<p>ä½¿ç”¨ tcpdump æŠ“åç«¯ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">sudo tcpdump -i any port <span class="hljs-number">443</span> -s <span class="hljs-number">0</span> -w server.pcap
</code></pre>
<ul>
<li>è‹¥æœåŠ¡ç«¯æ²¡æœ‰æ¡æ‰‹ â†’ APP æœ¬åœ°å°±å¤±è´¥</li>
<li>è‹¥æœ‰ TLS Alert â†’ è¯ä¹¦é“¾å¼‚å¸¸</li>
</ul>
<p>è¿™ä¸€æ­¥éå¸¸å…³é”®ã€‚</p>
<hr/>
<h2 data-id="heading-11">ä¸‰ã€å½“ Charles å®Œå…¨æŠ“ä¸åˆ°åŒ…æ—¶ï¼Œå°±è¦ç”¨â€œè¡¥æŠ“å·¥å…·â€</h2>
<p>ä¹Ÿå°±æ˜¯è§£å†³ä»£ç†å½»åº•å¤±æ•ˆåœºæ™¯çš„æ–¹å¼ã€‚</p>
<hr/>
<h2 data-id="heading-12"><strong>æŠ“åŒ…å¤§å¸ˆï¼ˆSniffmasterï¼‰å¦‚ä½•è¡¥å…… Charles æ— æ³•å®Œæˆçš„ç¯èŠ‚ï¼Ÿ</strong></h2>
<h3 data-id="heading-13"><strong>Sniffmaster è¡¥å……çš„æŠ€æœ¯èƒ½åŠ›ï¼š</strong></h3>
<ul>
<li>æ— éœ€ä»£ç†å³å¯æŠ“å– <strong>HTTP / HTTPS / TCP / UDP</strong></li>
<li>æŒ‰ <strong>App / åŸŸå</strong> è¿‡æ»¤ï¼Œæå¤§å‡å°‘å™ªéŸ³</li>
<li>è‡ªåŠ¨è¯†åˆ« HTTPã€HTTPSã€mdnsã€è‡ªå®šä¹‰åè®®</li>
<li>æŸ¥çœ‹ TCP æ•°æ®æµï¼ˆæ–‡æœ¬ã€åå…­è¿›åˆ¶ã€äºŒè¿›åˆ¶ï¼‰</li>
<li>æ”¯æŒ JavaScript æ‹¦æˆªå™¨ä¿®æ”¹è¯·æ±‚/å“åº”</li>
<li>æ”¯æŒå¯¼å‡º <strong>pcap æ–‡ä»¶</strong>ï¼ˆå¯åœ¨ Wireshark ä¸­ç»§ç»­åˆ†æï¼‰</li>
<li>æ”¯æŒ Windows/macOS/iOS å¤šå¹³å°</li>
</ul>
<h3 data-id="heading-14"><strong>å°¤å…¶é€‚åˆç”¨äºï¼š</strong></h3>
<ul>
<li>Pinning æ— æ³•ç»•è¿‡</li>
<li>QUIC èµ° UDP</li>
<li>è‡ªå®šä¹‰åè®®</li>
<li>ç³»ç»Ÿä»£ç†è¢«è¦†ç›–</li>
<li>Charles å®Œå…¨æ— æ•°æ®</li>
</ul>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒSniffmaster è¡¥è¶³äº† Charles çš„ç›²åŒºã€‚</p>
<hr/>
<h2 data-id="heading-15">å››ã€è¡¥æŠ“æµç¨‹ç¤ºä¾‹ï¼šCharles æŠ“ä¸åˆ° HTTPS çš„çœŸå®åœºæ™¯</h2>
<p>æŸ App åœ¨ Charles ä¸‹å®Œå…¨æ—  HTTPS å†…å®¹ï¼Œæ’æŸ¥å¦‚ä¸‹ï¼š</p>
<ol>
<li>è¯ä¹¦å·²ä¿¡ä»» â†’ æ’é™¤åŸºç¡€é—®é¢˜</li>
<li>Safari å¯æŠ“åŒ… â†’ è¯´æ˜ç³»ç»Ÿä»£ç†æ­£å¸¸</li>
<li>APP æŠ“ä¸åˆ° â†’ æ€€ç–‘ pinning</li>
<li>åç«¯ tcpdump æ— æ¡æ‰‹ â†’ æµé‡æœªå‘å‡º</li>
<li>ä½¿ç”¨ Sniffmaster æ•è·æµé‡ â†’ çœ‹åˆ° TLS Alert: bad certificate</li>
<li>Wireshark å¯¹æ¯”å‘ç°è¯ä¹¦é“¾è¢«å†…éƒ¨ç½‘å…³æ›¿æ¢</li>
<li>æ›´æ¢ç½‘ç»œ â†’ æŠ“åŒ…æ¢å¤æ­£å¸¸</li>
</ol>
<p>ç»“è®ºï¼šå¹¶é Charles çš„é—®é¢˜ï¼Œè€Œæ˜¯é“¾è·¯è¯ä¹¦å†²çªã€‚</p>
<p>è¿™ä¸€ç±»é—®é¢˜åªèƒ½é€šè¿‡â€œè¡¥æŠ“ + pcap åˆ†æâ€å®šä½ã€‚</p>
<hr/>
<h2 data-id="heading-16">Charles æŠ“ä¸åˆ°åŒ…çš„çœŸæ­£è§£å†³æ–¹æ¡ˆæ˜¯â€œåˆ†å±‚æŠ“åŒ…â€</h2>






























<table><thead><tr><th>æŠ“åŒ…ç±»å‹</th><th>å¯ç”¨å·¥å…·</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>ä»£ç†æŠ“åŒ…</td><td>Charles / Proxyman / Fiddler</td><td>HTTP/HTTPS è°ƒè¯•</td></tr><tr><td>TCP/TLS åˆ†æ</td><td>Wireshark / tcpdump</td><td>æ¡æ‰‹å¤±è´¥ã€é“¾è·¯ç¡®è®¤</td></tr><tr><td>è‡ªåŠ¨åŒ–</td><td>mitmproxy / pyshark</td><td>æ‰¹é‡æŠ“åŒ…ã€æµ‹è¯•</td></tr><tr><td>è¡¥æŠ“ï¼ˆç»•è¿‡ä»£ç†ï¼‰</td><td><strong>æŠ“åŒ…å¤§å¸ˆï¼ˆSniffmasterï¼‰</strong></td><td>Pinningã€QUICã€è‡ªå®šä¹‰åè®®ã€ç³»ç»Ÿä»£ç†å¤±æ•ˆ</td></tr></tbody></table>
<p>çœŸæ­£å®Œæ•´çš„æŠ“åŒ…ä½“ç³»å¿…é¡»å¤šå·¥å…·ååŒï¼Œè€Œä¸æ˜¯ä¾èµ– Charles å•ç‹¬è§£å†³é—®é¢˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3 + Vite ç³»ç»Ÿä¸­ SVG å›¾æ ‡å’Œ Element Plus å›¾æ ‡çš„æ•´åˆå®æˆ˜]]></title>    <link>https://juejin.cn/post/7575488180981678080</link>    <guid>https://juejin.cn/post/7575488180981678080</guid>    <pubDate>2025-11-24T06:39:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575488180981678080" data-draft-id="7575810396201648162" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3 + Vite ç³»ç»Ÿä¸­ SVG å›¾æ ‡å’Œ Element Plus å›¾æ ‡çš„æ•´åˆå®æˆ˜"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,JavaScript"/> <meta itemprop="datePublished" content="2025-11-24T06:39:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç é€”è¿›åŒ–è®º"/> <meta itemprop="url" content="https://juejin.cn/user/3633206105473182"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3 + Vite ç³»ç»Ÿä¸­ SVG å›¾æ ‡å’Œ Element Plus å›¾æ ‡çš„æ•´åˆå®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3633206105473182/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç é€”è¿›åŒ–è®º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T06:39:40.000Z" title="Mon Nov 24 2025 06:39:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€æ•´åˆèƒŒæ™¯</h2>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆéœ€è¦æ•´åˆ SVG å›¾æ ‡å’Œ Element Plus å›¾æ ‡ï¼Ÿ</h3>
<p>åœ¨ç°ä»£å‰ç«¯å¼€å‘ä¸­ï¼Œå›¾æ ‡æ˜¯ UI ç•Œé¢ä¸å¯ç¼ºå°‘çš„ä¸€éƒ¨åˆ†ã€‚åœ¨å®é™…é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é¢ä¸´ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ol>
<li>
<p><strong>å¤šæºå›¾æ ‡æ··ç”¨çš„å›°å¢ƒ</strong>ï¼š</p>
<ul>
<li>é¡¹ç›®ä¸­å¯èƒ½å­˜åœ¨è‡ªå®šä¹‰çš„ SVG å›¾æ ‡ï¼ˆå¦‚ç‰¹å®šä¸šåŠ¡çš„å›¾æ ‡ï¼‰</li>
<li>åŒæ—¶éœ€è¦ä½¿ç”¨ Element Plus æä¾›çš„é€šç”¨ UI å›¾æ ‡</li>
<li>å¦‚ä½•ä¼˜é›…åœ°åˆ‡æ¢å’Œç»Ÿä¸€ç®¡ç†è¿™ä¸¤ç±»å›¾æ ‡ï¼Ÿ</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–éœ€æ±‚</strong>ï¼š</p>
<ul>
<li>SVG å›¾æ ‡é€šè¿‡ vite-plugin-svg-icons å¯ä»¥è‡ªåŠ¨åˆå¹¶ä¸ºä¸€ä¸ª symbolï¼Œå‡å°‘ HTTP è¯·æ±‚</li>
<li>Element Plus å›¾æ ‡ä½œä¸ºç»„ä»¶åº“çš„ä¸€éƒ¨åˆ†ï¼Œéœ€è¦æŒ‰éœ€åŠ è½½</li>
<li>å¦‚ä½•å®ç°æ—¢èƒ½å……åˆ†åˆ©ç”¨å„è‡ªçš„ä¼˜åŠ¿ï¼Œåˆèƒ½ä¿è¯åº”ç”¨æ€§èƒ½ï¼Ÿ</li>
</ul>
</li>
<li>
<p><strong>å¼€å‘ä½“éªŒæå‡</strong>ï¼š</p>
<ul>
<li>å¸Œæœ›åœ¨ä»£ç ä¸­èƒ½å¤Ÿè‡ªåŠ¨è¯†åˆ«å¹¶æ­£ç¡®ä½¿ç”¨è¿™ä¸¤ç±»å›¾æ ‡</li>
<li>éœ€è¦æä¾›ä¸€ä¸ªå›¾æ ‡é€‰æ‹©å™¨ UIï¼Œæ–¹ä¾¿å¼€å‘è€…åŠ¨æ€é€‰æ‹©å›¾æ ‡</li>
<li>éœ€è¦ç»Ÿä¸€çš„ API æ¥å£ï¼Œé¿å…ä¸åŒç±»å‹å›¾æ ‡çš„è°ƒç”¨å·®å¼‚</li>
</ul>
</li>
<li>
<p><strong>ç³»ç»ŸåŠ¨æ€é…ç½®éœ€æ±‚</strong>ï¼š</p>
<ul>
<li>åœ¨ç³»ç»Ÿé…ç½®ç•Œé¢ä¸­ï¼Œå…è®¸ç®¡ç†å‘˜é€šè¿‡ UI åŠ¨æ€é€‰æ‹©å›¾æ ‡</li>
<li>éœ€è¦æœç´¢ã€è¿‡æ»¤å’Œé¢„è§ˆå›¾æ ‡çš„åŠŸèƒ½</li>
<li>é€‰æ‹©çš„å›¾æ ‡é…ç½®éœ€è¦ä¸åç«¯ç³»ç»Ÿè¿›è¡ŒæŒä¹…åŒ–</li>
</ul>
</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ce5f4a58c084594991d84bfe2755357~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB6YCU6L-b5YyW6K66:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764571539&amp;x-signature=OilQkS2hZHpbdGl65hbqyT9m8EU%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2">æ ¸å¿ƒè§£å†³æ–¹æ¡ˆ</h3>
<p>æœ¬æ–‡æ¡£ä»‹ç»ä¸€å¥—å®Œæ•´çš„æ•´åˆæ–¹æ¡ˆï¼ŒåŒ…æ‹¬ï¼š</p>
<ol>
<li>âœ… SVG å›¾æ ‡é€šè¿‡ vite æ’ä»¶è‡ªåŠ¨åŒ–æ„å»ºå’Œæ‰“åŒ…</li>
<li>âœ… Element Plus å›¾æ ‡ç»„ä»¶åº“çš„æ•´åˆæ³¨å†Œ</li>
<li>âœ… åŸºç¡€ SVG å›¾æ ‡ç»„ä»¶ï¼ˆ<code>SvgIcon</code>ï¼‰çš„ç¼–å†™</li>
<li>âœ… ç»Ÿä¸€çš„å›¾æ ‡å·¥å…·æ–¹æ³•ï¼ˆ<code>useSvgIcon</code>ï¼‰</li>
<li>âœ… èšåˆå‹çš„é€šç”¨å›¾æ ‡ç»„ä»¶ï¼ˆ<code>BaseIcon</code>ï¼‰</li>
<li>âœ… åŠ¨æ€å›¾æ ‡é€‰æ‹©å™¨ç»„ä»¶ï¼ˆ<code>IconSelect</code>ï¼‰</li>
<li>âœ… ç³»ç»Ÿé…ç½®åº”ç”¨å®ç°</li>
</ol>
<hr/>
<h3 data-id="heading-3">æŠ€æœ¯æ ˆ</h3>








































<table><thead><tr><th>æŠ€æœ¯</th><th>ç‰ˆæœ¬</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>Vue</td><td>3.x</td><td>å‰ç«¯æ¡†æ¶</td></tr><tr><td>Vite</td><td>5.x</td><td>æ„å»ºå·¥å…·</td></tr><tr><td>vite-plugin-svg-icons</td><td>2.0.1</td><td>SVG å›¾æ ‡æ‰“åŒ…æ’ä»¶</td></tr><tr><td>@element-plus/icons-vue</td><td>^2.3.1</td><td>Element Plus å›¾æ ‡åº“</td></tr><tr><td>TypeScript</td><td>5.x</td><td>ç±»å‹æ£€æŸ¥</td></tr><tr><td>SCSS</td><td>-</td><td>æ ·å¼é¢„å¤„ç†</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-4">äºŒã€é¡¹ç›®ä¸­ SVG å›¾æ ‡çš„æ„å»ºæ‰“åŒ…</h2>
<h3 data-id="heading-5">1. ä¾èµ–å®‰è£…</h3>
<p>é¦–å…ˆï¼Œå®‰è£…å¿…è¦çš„ä¾èµ–åŒ…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install vite-plugin-svg-icons@2.0.1 @element-plus/icons-vue@^2.3.1
<span class="hljs-comment"># æˆ–ä½¿ç”¨ pnpm</span>
pnpm add vite-plugin-svg-icons@2.0.1 @element-plus/icons-vue@^2.3.1
</code></pre>
<h3 data-id="heading-6">2. SVG å›¾æ ‡æ–‡ä»¶ç»„ç»‡</h3>
<p>å»ºè®®çš„é¡¹ç›®ç»“æ„ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-attribute">src</span>/
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ icons/
â”‚       â””â”€â”€ svg/
â”‚           â”œâ”€â”€ chart<span class="hljs-selector-class">.svg</span>
â”‚           â”œâ”€â”€ checkbox<span class="hljs-selector-class">.svg</span>
â”‚           â””â”€â”€ ... å…¶ä»– SVG æ–‡ä»¶
</code></pre>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ul>
<li>å°†æ‰€æœ‰è‡ªå®šä¹‰ SVG å›¾æ ‡æ”¾åœ¨ç»Ÿä¸€çš„ <code>src/assets/icons/svg</code> ç›®å½•ä¸‹</li>
<li>SVG æ–‡ä»¶å‘½åä½¿ç”¨å°å†™å’ŒçŸ­æ¨ªçº¿åˆ†éš”ï¼ˆå¦‚ <code>user-add.svg</code>ã€<code>chart-line.svg</code>ï¼‰</li>
<li>ç¡®ä¿ SVG æ–‡ä»¶é‡‡ç”¨å•è‰²è®¾è®¡ï¼Œä¾¿äºåŠ¨æ€é¢œè‰²ä¿®æ”¹</li>
</ul>
<h3 data-id="heading-7">3. Vite æ’ä»¶é…ç½®</h3>
<p><strong>æ–‡ä»¶ï¼š<code>vite/plugins/svg-icon.js</code></strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { createSvgIconsPlugin } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-svg-icons'</span>
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createSvgIcon</span>(<span class="hljs-params">isBuild</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">createSvgIconsPlugin</span>({
    <span class="hljs-attr">iconDirs</span>: [path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'src/assets/icons/svg'</span>)],
    <span class="hljs-attr">symbolId</span>: <span class="hljs-string">'icon-[dir]-[name]'</span>,
    <span class="hljs-attr">svgoOptions</span>: isBuild
  })
}
</code></pre>
<p><strong>å‚æ•°è¯´æ˜</strong>ï¼š</p>





















<table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>iconDirs</code></td><td>SVG æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼Œæ”¯æŒå¤šä¸ªç›®å½•æ•°ç»„</td></tr><tr><td><code>symbolId</code></td><td>SVG symbol çš„ ID ç”Ÿæˆè§„åˆ™ï¼Œç”Ÿæˆæ ¼å¼ä¸º <code>icon-{dir}-{name}</code></td></tr><tr><td><code>svgoOptions</code></td><td>SVGO é…ç½®ï¼Œæ„å»ºæ—¶å¯ç”¨ SVG ä¼˜åŒ–ï¼Œæé«˜æ€§èƒ½</td></tr></tbody></table>
<p><strong>å·¥ä½œåŸç†</strong>ï¼š</p>
<ul>
<li>æ‰«ææŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰ SVG æ–‡ä»¶</li>
<li>å°† SVG æ–‡ä»¶è½¬æ¢ä¸º SVG symbol</li>
<li>åˆå¹¶æˆä¸€ä¸ªåŒ…å«æ‰€æœ‰å›¾æ ‡çš„ symbol æ–‡ä»¶</li>
<li>ç”Ÿæˆè™šæ‹Ÿæ¨¡å— <code>virtual:svg-icons-register</code>ï¼Œå¯åœ¨åº”ç”¨å¯åŠ¨æ—¶æ³¨å†Œ</li>
</ul>
<h3 data-id="heading-8">4. Vite é…ç½®é›†æˆ</h3>
<p><strong>æ–‡ä»¶ï¼š<code>vite.config.ts</code></strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> createSvgIcon <span class="hljs-keyword">from</span> <span class="hljs-string">'./vite/plugins/svg-icon'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>(<span class="hljs-function">(<span class="hljs-params">{ mode, command }</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">plugins</span>: [
      <span class="hljs-title function_">vue</span>(),
      <span class="hljs-title class_">AutoImport</span>({
        <span class="hljs-attr">imports</span>: [<span class="hljs-string">'vue'</span>, <span class="hljs-string">'vue-router'</span>, <span class="hljs-string">'pinia'</span>],
        <span class="hljs-attr">dts</span>: <span class="hljs-literal">true</span>,
      }),
      <span class="hljs-title class_">Components</span>({
        <span class="hljs-attr">dts</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">dirs</span>: [<span class="hljs-string">'src/components'</span>, <span class="hljs-string">'src/layout/components'</span>],
        <span class="hljs-attr">extensions</span>: [<span class="hljs-string">'vue'</span>],
        <span class="hljs-attr">deep</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">directoryAsNamespace</span>: <span class="hljs-literal">false</span>,
      }),
      <span class="hljs-title function_">createSvgIcon</span>(command === <span class="hljs-string">'build'</span>),
      <span class="hljs-comment">// ... å…¶ä»–æ’ä»¶</span>
    ],
    <span class="hljs-comment">// ... å…¶ä»–é…ç½®</span>
  }
})
</code></pre>
<p><strong>é…ç½®è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>createSvgIcon(command === 'build')</code>ï¼šä¼ å…¥æ„å»ºæ ‡å¿—ï¼Œæ„å»ºæ—¶å¯ç”¨ SVGO ä¼˜åŒ–</li>
<li>æ’ä»¶é¡ºåºå¾ˆé‡è¦ï¼Œç¡®ä¿ Vue æ’ä»¶åœ¨å‰ï¼ŒSVG å›¾æ ‡æ’ä»¶åœ¨å</li>
<li>è¿™ä¸ªé…ç½®ä¼šè‡ªåŠ¨å¤„ç† SVG å›¾æ ‡çš„é¢„å¤„ç†å’Œæ³¨å†Œ</li>
</ul>
<hr/>
<h2 data-id="heading-9">ä¸‰ã€SVG ç»„ä»¶çš„ç¼–å†™</h2>
<h3 data-id="heading-10">åˆ›å»ºåŸºç¡€ SvgIcon ç»„ä»¶</h3>
<p><strong>æ–‡ä»¶ï¼š<code>src/components/SvgIcon/index.vue</code></strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;svg :class="svgClass" aria-hidden="true"&gt;
    &lt;use :xlink:href="iconName" :fill="color" /&gt;
  &lt;/svg&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { computed } from 'vue'

const props = defineProps({
  // SVG å›¾æ ‡åç§°ï¼ˆä¸éœ€è¦ 'icon-' å‰ç¼€ï¼‰
  iconClass: {
    type: String,
    required: true,
  },
  // è‡ªå®šä¹‰ CSS ç±»å
  className: {
    type: String,
    default: '',
  },
  // å›¾æ ‡é¢œè‰²
  color: {
    type: String,
    default: '',
  },
})

// æ„å»º symbol ID
const iconName = computed(() =&gt; `#icon-${props.iconClass}`)

// è®¡ç®— CSS ç±»å
const svgClass = computed(() =&gt; {
  if (props.className) {
    return `svg-icon ${props.className}`
  }
  return 'svg-icon'
})
&lt;/script&gt;

&lt;style scope lang="scss"&gt;
.sub-el-icon,
.nav-icon {
  display: inline-block;
  font-size: 15px;
  margin-right: 12px;
  position: relative;
}

.svg-icon {
  width: 1em;
  height: 1em;
  position: relative;
  fill: currentColor;
  vertical-align: -2px;
}
&lt;/style&gt;
</code></pre>
<p><strong>ç»„ä»¶ Props è¯´æ˜</strong>ï¼š</p>





























<table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>å¿…éœ€</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>iconClass</code></td><td>string</td><td>æ˜¯</td><td>SVG å›¾æ ‡åç§°ï¼Œå¯¹åº”æ–‡ä»¶åï¼ˆä¸å« .svg åç¼€ï¼‰</td></tr><tr><td><code>className</code></td><td>string</td><td>å¦</td><td>é¢å¤–çš„ CSS ç±»åï¼Œç”¨äºè‡ªå®šä¹‰æ ·å¼</td></tr><tr><td><code>color</code></td><td>string</td><td>å¦</td><td>å›¾æ ‡é¢œè‰²ï¼Œç›´æ¥åº”ç”¨åˆ° SVG çš„ fill å±æ€§</td></tr></tbody></table>
<p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- åŸºç¡€ä½¿ç”¨ --&gt;
&lt;svg-icon icon-class="chart" /&gt;

&lt;!-- è‡ªå®šä¹‰å°ºå¯¸ï¼ˆé€šè¿‡ className + CSSï¼‰ --&gt;
&lt;svg-icon icon-class="checkbox" class-name="lg-icon" /&gt;

&lt;!-- è‡ªå®šä¹‰é¢œè‰² --&gt;
&lt;svg-icon icon-class="chart" color="#ff0000" /&gt;
</code></pre>
<p><strong>æ ·å¼è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>width: 1em; height: 1em</code>ï¼šä½¿ç”¨ em å•ä½ï¼Œå¯é€šè¿‡çˆ¶å…ƒç´ çš„ <code>font-size</code> æ§åˆ¶å¤§å°</li>
<li><code>fill: currentColor</code>ï¼šé»˜è®¤ç»§æ‰¿æ–‡æœ¬é¢œè‰²ï¼Œä¾¿äºé€šè¿‡ CSS åŠ¨æ€æ”¹å˜é¢œè‰²</li>
<li><code>vertical-align: -2px</code>ï¼šå¾®è°ƒå‚ç›´å¯¹é½ï¼Œé¿å…ä¸æ–‡æœ¬ä¸å¯¹é½</li>
</ul>
<hr/>
<h2 data-id="heading-11">å››ã€ç»„ä»¶åº“å›¾æ ‡çš„æ³¨å†Œ</h2>
<h3 data-id="heading-12">1. åˆ›å»º Element Plus å›¾æ ‡æ³¨å†Œæ–‡ä»¶</h3>
<p><strong>æ–‡ä»¶ï¼š<code>src/components/SvgIcon/svgicon.js</code></strong></p>
<p>æ­¤æ–‡ä»¶é€šå¸¸ç”¨äºé›†ä¸­å¯¼å‡º Element Plus å›¾æ ‡åº“æˆ–è‡ªå®šä¹‰å›¾æ ‡æ’ä»¶ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-title class_">ElementPlusIcons</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@element-plus/icons-vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">ElementPlusIcons</span>
</code></pre>
<h3 data-id="heading-13">2. åœ¨ main.ts ä¸­æ³¨å†Œ</h3>
<p><strong>æ–‡ä»¶ï¼š<code>src/main.ts</code> (ç¬¬ 16-20 è¡Œ)</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// svg å›¾æ ‡</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'virtual:svg-icons-register'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">SvgIcon</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/SvgIcon/index.vue'</span>
<span class="hljs-keyword">import</span> elementIcons <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/SvgIcon/svgicon'</span>
</code></pre>
<p><strong>è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>virtual:svg-icons-register</code>ï¼šVite è™šæ‹Ÿæ¨¡å—ï¼Œè‡ªåŠ¨æ³¨å†Œæ‰€æœ‰ SVG å›¾æ ‡</li>
<li>å¯¼å…¥ <code>SvgIcon</code> ç»„ä»¶ä¾›å…¨å±€ä½¿ç”¨</li>
<li>å¯¼å…¥ Element Plus å›¾æ ‡åº“</li>
</ul>
<p><strong>æ–‡ä»¶ï¼š<code>src/main.ts</code> (ç¬¬ 57-58 è¡Œ)</strong></p>
<pre><code class="hljs language-typescript" lang="typescript">app.<span class="hljs-title function_">use</span>(elementIcons)
app.<span class="hljs-title function_">component</span>(<span class="hljs-string">'svg-icon'</span>, <span class="hljs-title class_">SvgIcon</span>)
app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
</code></pre>
<p><strong>è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>app.use(elementIcons)</code>ï¼šæ³¨å†Œ Element Plus å›¾æ ‡åº“</li>
<li><code>app.component('svg-icon', SvgIcon)</code>ï¼šæ³¨å†Œ SvgIcon ä¸ºå…¨å±€ç»„ä»¶</li>
<li>æ³¨å†Œåå¯åœ¨ä»»ä½•åœ°æ–¹ç›´æ¥ä½¿ç”¨ <code>&lt;svg-icon /&gt;</code> ç»„ä»¶</li>
</ul>
<h3 data-id="heading-14">3. å®Œæ•´çš„ main.ts ç¤ºä¾‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span>
<span class="hljs-keyword">import</span> pinia <span class="hljs-keyword">from</span> <span class="hljs-string">'./stores'</span>

<span class="hljs-comment">// æ ·å¼å¯¼å…¥</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./styles/reset.scss'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./styles/theme.scss'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./style.css'</span>

<span class="hljs-comment">// SVG å›¾æ ‡ç›¸å…³å¯¼å…¥</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'virtual:svg-icons-register'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">SvgIcon</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/SvgIcon/index.vue'</span>
<span class="hljs-keyword">import</span> elementIcons <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/SvgIcon/svgicon'</span>

<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)

app.<span class="hljs-title function_">use</span>(pinia)
app.<span class="hljs-title function_">use</span>(router)
app.<span class="hljs-title function_">use</span>(elementIcons)  <span class="hljs-comment">// æ³¨å†Œ Element Plus å›¾æ ‡</span>
app.<span class="hljs-title function_">component</span>(<span class="hljs-string">'svg-icon'</span>, <span class="hljs-title class_">SvgIcon</span>)  <span class="hljs-comment">// æ³¨å†Œ SvgIcon ç»„ä»¶</span>
app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
</code></pre>
<hr/>
<h2 data-id="heading-15">äº”ã€å›¾æ ‡å·¥å…·æ–¹æ³•</h2>
<h3 data-id="heading-16">useSvgIcon Composable</h3>
<p><strong>æ–‡ä»¶ï¼š<code>src/compositions/useSvgIcon.ts</code></strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-title class_">ElementPlusIcons</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@element-plus/icons-vue'</span>

<span class="hljs-comment">// ä½¿ç”¨ glob å¯¼å…¥è·å– svg ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</span>
<span class="hljs-keyword">const</span> svgModules = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">glob</span>&lt;{ <span class="hljs-attr">default</span>: <span class="hljs-built_in">string</span> }&gt;(<span class="hljs-string">'/src/assets/icons/svg/*.svg'</span>, {
  <span class="hljs-attr">eager</span>: <span class="hljs-literal">true</span>,
})

<span class="hljs-comment">// æå–æ–‡ä»¶åï¼ˆä¸å«æ‰©å±•åï¼‰</span>
<span class="hljs-keyword">const</span> svgIconNames = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(svgModules)
  .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">path</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> path.<span class="hljs-title function_">split</span>(<span class="hljs-string">'/'</span>).<span class="hljs-title function_">pop</span>()?.<span class="hljs-title function_">replace</span>(<span class="hljs-string">'.svg'</span>, <span class="hljs-string">''</span>) || <span class="hljs-string">''</span>
  })
  .<span class="hljs-title function_">filter</span>(<span class="hljs-title class_">Boolean</span>)

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">useSvgIcon</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// SVG å›¾æ ‡åˆ—è¡¨</span>
  <span class="hljs-keyword">const</span> svgIcons = ref&lt;<span class="hljs-built_in">string</span>[]&gt;([])

  <span class="hljs-comment">// Element Plus å›¾æ ‡åˆ—è¡¨</span>
  <span class="hljs-keyword">const</span> elementPlusIcons = ref&lt;<span class="hljs-built_in">string</span>[]&gt;([])

  <span class="hljs-comment">// åˆå§‹åŒ– Element Plus å›¾æ ‡åˆ—è¡¨</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">initElementPlusIcons</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">const</span> icons = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(<span class="hljs-title class_">ElementPlusIcons</span>).<span class="hljs-title function_">filter</span>(
      <span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> !key.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'_'</span>) &amp;&amp; key !== <span class="hljs-string">'default'</span>
    )
    elementPlusIcons.<span class="hljs-property">value</span> = icons
  }

  <span class="hljs-comment">// è·å– SVG å›¾æ ‡åˆ—è¡¨</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">loadSvgIcons</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">try</span> {
      svgIcons.<span class="hljs-property">value</span> = svgIconNames
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'Failed to load SVG icons:'</span>, error)
    }
  }

  <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦ä¸º SVG å›¾æ ‡</span>
  <span class="hljs-keyword">const</span> isSvgIcon = (<span class="hljs-attr">iconName</span>: <span class="hljs-built_in">string</span>): <span class="hljs-function"><span class="hljs-params">boolean</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> svgIconNames.<span class="hljs-title function_">includes</span>(iconName)
  }

  <span class="hljs-keyword">return</span> {
    svgIcons,
    elementPlusIcons,
    isSvgIcon,
    loadSvgIcons,
    initElementPlusIcons,
  }
}
</code></pre>
<p><strong>API è¯´æ˜</strong>ï¼š</p>



































<table><thead><tr><th>æ–¹æ³•/å±æ€§</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>svgIcons</code></td><td>Ref&lt;string[]&gt;</td><td>å“åº”å¼ SVG å›¾æ ‡åç§°åˆ—è¡¨</td></tr><tr><td><code>elementPlusIcons</code></td><td>Ref&lt;string[]&gt;</td><td>å“åº”å¼ Element Plus å›¾æ ‡åç§°åˆ—è¡¨</td></tr><tr><td><code>isSvgIcon(iconName)</code></td><td>Function</td><td>åˆ¤æ–­ç»™å®šçš„å›¾æ ‡åç§°æ˜¯å¦ä¸º SVG å›¾æ ‡</td></tr><tr><td><code>loadSvgIcons()</code></td><td>Function</td><td>å¼‚æ­¥åŠ è½½ SVG å›¾æ ‡åˆ—è¡¨</td></tr><tr><td><code>initElementPlusIcons()</code></td><td>Function</td><td>åˆå§‹åŒ– Element Plus å›¾æ ‡åˆ—è¡¨</td></tr></tbody></table>
<p><strong>å·¥ä½œåŸç†</strong>ï¼š</p>
<ol>
<li>
<p><strong>ç¼–è¯‘æ—¶æ”¶é›†</strong>ï¼šä½¿ç”¨ <code>import.meta.glob</code> åœ¨ç¼–è¯‘æ—¶æ”¶é›†æ‰€æœ‰ SVG æ–‡ä»¶</p>
<ul>
<li>æ¨¡å¼ <code>/src/assets/icons/svg/*.svg</code> åŒ¹é…ç›®å½•ä¸‹çš„æ‰€æœ‰ SVG æ–‡ä»¶</li>
<li>ä½¿ç”¨ <code>eager: true</code> å®ç°åŒæ­¥åŠ è½½</li>
</ul>
</li>
<li>
<p><strong>æå–å›¾æ ‡å</strong>ï¼šä»æ–‡ä»¶è·¯å¾„ä¸­æå–å›¾æ ‡åç§°</p>
<ul>
<li>å»é™¤è·¯å¾„å‰ç¼€å’Œ <code>.svg</code> åç¼€</li>
<li>ä¾‹å¦‚ <code>/src/assets/icons/svg/chart.svg</code> â†’ <code>chart</code></li>
</ul>
</li>
<li>
<p><strong>Element Plus å›¾æ ‡æ”¶é›†</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>Object.keys()</code> éå† Element Plus å¯¼å‡ºçš„æ‰€æœ‰å›¾æ ‡</li>
<li>è¿‡æ»¤æ‰ä»¥ <code>_</code> å¼€å¤´çš„ç§æœ‰å±æ€§</li>
<li>æ”¶é›†æœ‰æ•ˆçš„å›¾æ ‡åç§°</li>
</ul>
</li>
</ol>
<p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { useSvgIcon } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/compositions/useSvgIcon'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">setup</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> { svgIcons, elementPlusIcons, isSvgIcon, loadSvgIcons, initElementPlusIcons } = <span class="hljs-title function_">useSvgIcon</span>()

    <span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// åŠ è½½ SVG å›¾æ ‡åˆ—è¡¨</span>
      <span class="hljs-title function_">loadSvgIcons</span>()
      
      <span class="hljs-comment">// åˆå§‹åŒ– Element Plus å›¾æ ‡åˆ—è¡¨</span>
      <span class="hljs-title function_">initElementPlusIcons</span>()
    })

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">checkIcon</span> = (<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) =&gt; {
      <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isSvgIcon</span>(name)) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${name}</span> æ˜¯ SVG å›¾æ ‡`</span>)
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${name}</span> æ˜¯ Element Plus å›¾æ ‡`</span>)
      }
    }

    <span class="hljs-keyword">return</span> {
      svgIcons,
      elementPlusIcons,
      checkIcon,
    }
  }
}
</code></pre>
<hr/>
<h2 data-id="heading-17">å…­ã€æ•´åˆçš„é€šç”¨ç»„ä»¶</h2>
<h3 data-id="heading-18">BaseIcon - ç»Ÿä¸€çš„å›¾æ ‡èšåˆç»„ä»¶</h3>
<p><strong>æ–‡ä»¶ï¼š<code>src/components/BaseIcon/index.vue</code></strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;el-icon&gt;
    &lt;component v-if="iconType === 'element-plus'" :is="getElementPlusIcon(iconName)" /&gt;
    &lt;svg-icon v-else :icon-class="iconName" :class-name="className" :color="color" /&gt;
  &lt;/el-icon&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { computed } from 'vue'
import * as ElementPlusIcons from '@element-plus/icons-vue'
import { useSvgIcon } from '@/compositions/useSvgIcon'
import SvgIcon from '@/components/SvgIcon/index.vue'

const props = defineProps({
  // å›¾æ ‡ç±»å‹ï¼š'svg' æˆ– 'element-plus'ï¼Œç•™ç©ºæ—¶è‡ªåŠ¨åˆ¤æ–­
  iconType: {
    type: String,
    required: false,
    default: '', // 'svg' | 'element-plus' | ''
  },
  // å›¾æ ‡åç§°
  iconName: {
    type: String,
    required: false,
    default: '',
  },
  // CSS ç±»å
  className: {
    type: String,
    default: '',
  },
  // å›¾æ ‡é¢œè‰²
  color: {
    type: String,
    default: '',
  },
})

const { isSvgIcon } = useSvgIcon()

// è‡ªåŠ¨åˆ¤æ–­å›¾æ ‡ç±»å‹
const iconType = computed(() =&gt; {
  return props.iconType || (isSvgIcon(props.iconName) ? 'svg' : 'element-plus')
})

/**
 * è·å– Element Plus å›¾æ ‡ç»„ä»¶
 * @param iconName Element Plus å›¾æ ‡åç§°
 * @returns å›¾æ ‡ç»„ä»¶
 */
const getElementPlusIcon = (iconName: string) =&gt; {
  // å°†é©¼å³°è½¬æ¢ä¸º PascalCase æ ¼å¼ä»¥åŒ¹é… Element Plus å›¾æ ‡å‘½åè§„åˆ™
  const pascalName = iconName
    .split(/[-_]/)
    .map(word =&gt; word.charAt(0).toUpperCase() + word.slice(1))
    .join('')

  return (ElementPlusIcons as Record&lt;string, any&gt;)[pascalName] || null
}
&lt;/script&gt;

&lt;style scoped lang="scss"&gt;
// ç»§æ‰¿ SvgIcon çš„æ ·å¼
::v-deep(.svg-icon) {
  width: 1em;
  height: 1em;
  position: relative;
  fill: currentColor;
  vertical-align: -2px;
}
&lt;/style&gt;
</code></pre>
<p><strong>ç»„ä»¶ç‰¹æ€§</strong>ï¼š</p>
<ol>
<li>
<p><strong>è‡ªåŠ¨ç±»å‹åˆ¤æ–­</strong>ï¼š</p>
<ul>
<li>å¦‚æœæä¾›äº† <code>iconType</code> å±æ€§ï¼Œç›´æ¥ä½¿ç”¨</li>
<li>å¦åˆ™ä½¿ç”¨ <code>isSvgIcon()</code> æ–¹æ³•è‡ªåŠ¨åˆ¤æ–­å›¾æ ‡ç±»å‹</li>
<li>æ™ºèƒ½é€‰æ‹©ä½¿ç”¨ <code>SvgIcon</code> è¿˜æ˜¯ Element Plus å›¾æ ‡</li>
</ul>
</li>
<li>
<p><strong>åç§°æ ¼å¼è½¬æ¢</strong>ï¼š</p>
<ul>
<li>å°†çŸ­æ¨ªçº¿åˆ†éš”çš„åç§°è½¬æ¢ä¸º PascalCase</li>
<li>ä¾‹å¦‚ï¼š<code>user-add</code> â†’ <code>UserAdd</code></li>
<li>ç¡®ä¿ä¸ Element Plus å›¾æ ‡å‘½åè§„åˆ™ä¸€è‡´</li>
</ul>
</li>
<li>
<p><strong>ç»Ÿä¸€çš„ Props æ¥å£</strong>ï¼š</p>
<ul>
<li>ä¸ºä¸¤ç±»å›¾æ ‡æä¾›ä¸€è‡´çš„ API</li>
<li>ç®€åŒ–ä½¿ç”¨æ—¶çš„é€»è¾‘åˆ¤æ–­</li>
</ul>
</li>
</ol>
<p><strong>Props è¯´æ˜</strong>ï¼š</p>



































<table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>å¿…éœ€</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>iconName</code></td><td>string</td><td>æ˜¯</td><td>å›¾æ ‡åç§°</td></tr><tr><td><code>iconType</code></td><td>string</td><td>å¦</td><td>å›¾æ ‡ç±»å‹ï¼ˆ'svg' æˆ– 'element-plus'ï¼‰ï¼Œé»˜è®¤è‡ªåŠ¨åˆ¤æ–­</td></tr><tr><td><code>className</code></td><td>string</td><td>å¦</td><td>CSS ç±»å</td></tr><tr><td><code>color</code></td><td>string</td><td>å¦</td><td>å›¾æ ‡é¢œè‰²</td></tr></tbody></table>
<p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- SVG å›¾æ ‡ --&gt;
  &lt;base-icon icon-name="chart" /&gt;

  &lt;!-- Element Plus å›¾æ ‡ --&gt;
  &lt;base-icon icon-name="plus" /&gt;

  &lt;!-- è‡ªåŠ¨åˆ¤æ–­ï¼ˆæ¨èï¼‰ --&gt;
  &lt;base-icon :icon-name="dynamicIconName" /&gt;

  &lt;!-- æ˜¾å¼æŒ‡å®šç±»å‹ --&gt;
  &lt;base-icon icon-name="chart" icon-type="svg" color="#ff0000" /&gt;

  &lt;!-- è‡ªå®šä¹‰æ ·å¼ --&gt;
  &lt;base-icon 
    icon-name="user-add" 
    class-name="lg-icon" 
    color="#1890ff"
  /&gt;
&lt;/template&gt;
</code></pre>
<p><strong>ä¸å…¶ä»–ç»„ä»¶çš„å…³ç³»</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">BaseIconï¼ˆé€šç”¨èšåˆå±‚ï¼‰
<span class="hljs-code">    â”œâ”€â”€ SvgIconï¼ˆSVG å›¾æ ‡æ¸²æŸ“ï¼‰
    â””â”€â”€ Element Plus Iconsï¼ˆç»„ä»¶åº“å›¾æ ‡æ¸²æŸ“ï¼‰
</span></code></pre>
<hr/>
<h2 data-id="heading-19">ä¸ƒã€ç³»ç»ŸåŠ¨æ€é…ç½®ç»„ä»¶</h2>
<h3 data-id="heading-20">IconSelect - å›¾æ ‡é€‰æ‹©å™¨ç»„ä»¶</h3>
<p><strong>æ–‡ä»¶ï¼š<code>src/components/IconSelect/index.vue</code></strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;el-select
    v-model="selectedIcon"
    :placeholder="placeholder"
    clearable
    :filterable="true"
    :remote="true"
    :remote-method="handleSearch"
    :loading="loading"
    @change="handleChange"
    class="icon-select"
  &gt;
    &lt;template #prefix&gt;
      &lt;template v-if="selectedIcon"&gt;
        &lt;base-icon :icon-name="selectedIcon" class-name="icon-option__icon" /&gt;
      &lt;/template&gt;
    &lt;/template&gt;

    &lt;el-option-group label="SVG å›¾æ ‡" v-if="filteredSvgIcons.length &gt; 0"&gt;
      &lt;el-option v-for="icon in filteredSvgIcons" :key="icon" :value="icon"&gt;
        &lt;div class="icon-option"&gt;
          &lt;base-icon :icon-name="icon" icon-type="svg" class-name="icon-option__icon" /&gt;
          &lt;span class="icon-option__name"&gt;{{ icon }}&lt;/span&gt;
        &lt;/div&gt;
      &lt;/el-option&gt;
    &lt;/el-option-group&gt;

    &lt;el-option-group label="UIç»„ä»¶åº“ å›¾æ ‡" v-if="filteredElementPlusIcons.length &gt; 0"&gt;
      &lt;el-option v-for="icon in filteredElementPlusIcons" :key="icon" :value="icon"&gt;
        &lt;div class="icon-option"&gt;
          &lt;base-icon :icon-name="icon" icon-type="element-plus" class-name="icon-option__icon" /&gt;
          &lt;span class="icon-option__name"&gt;{{ icon }}&lt;/span&gt;
        &lt;/div&gt;
      &lt;/el-option&gt;
    &lt;/el-option-group&gt;
  &lt;/el-select&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { ref, computed, onMounted } from 'vue'
import SvgIcon from '../SvgIcon/index.vue'
import { useSvgIcon } from '@/compositions/useSvgIcon'

const { svgIcons, loadSvgIcons, initElementPlusIcons, elementPlusIcons } = useSvgIcon()

interface Props {
  modelValue?: string
  placeholder?: string
}

const props = withDefaults(defineProps&lt;Props&gt;(), {
  placeholder: 'è¯·é€‰æ‹©å›¾æ ‡',
})

const emit = defineEmits&lt;{
  'update:modelValue': [value: string | undefined]
  change: [value: string | undefined]
}&gt;()

// æœç´¢å…³é”®è¯
const searchQuery = ref('')

// åŠ è½½çŠ¶æ€
const loading = ref(false)

// é€‰ä¸­çš„å›¾æ ‡
const selectedIcon = computed({
  get: () =&gt; props.modelValue,
  set: value =&gt; {
    emit('update:modelValue', value)
  },
})

// è¿‡æ»¤åçš„ SVG å›¾æ ‡
const filteredSvgIcons = computed(() =&gt; {
  if (!searchQuery.value) return svgIcons.value
  return svgIcons.value.filter(icon =&gt; icon.toLowerCase().includes(searchQuery.value.toLowerCase()))
})

// è¿‡æ»¤åçš„ Element Plus å›¾æ ‡
const filteredElementPlusIcons = computed(() =&gt; {
  if (!searchQuery.value) return elementPlusIcons.value
  return elementPlusIcons.value.filter(icon =&gt;
    icon.toLowerCase().includes(searchQuery.value.toLowerCase())
  )
})

// æœç´¢å¤„ç†
const handleSearch = (query: string) =&gt; {
  searchQuery.value = query
}

// å€¼å˜åŒ–å¤„ç†
const handleChange = (value: string | undefined) =&gt; {
  emit('change', value)
}

// ç»„ä»¶åˆå§‹åŒ–
onMounted(() =&gt; {
  loading.value = true
  loadSvgIcons()
  initElementPlusIcons()
  loading.value = false
})
&lt;/script&gt;

&lt;style scoped lang="scss"&gt;
.icon-select {
  width: 100%;

  :deep(.el-input__prefix) {
    display: flex;
    align-items: center;
    justify-content: center;
  }
}

.icon-option {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;

  &amp;__icon {
    font-size: 16px;
    min-width: 20px;
    display: flex;
    align-items: center;
    justify-content: center;

    &amp;--ep {
      font-size: 14px;
      min-width: 18px;
      width: 18px;
    }
  }

  &amp;__name {
    flex: 1;
    word-break: break-all;
  }
}
&lt;/style&gt;
</code></pre>
<p><strong>ç»„ä»¶ç‰¹æ€§</strong>ï¼š</p>
<ol>
<li>
<p><strong>åŒå›¾æ ‡æºç®¡ç†</strong>ï¼š</p>
<ul>
<li>é¡¶éƒ¨åˆ†ç»„å±•ç¤º SVG å›¾æ ‡</li>
<li>ä¸‹æ–¹åˆ†ç»„å±•ç¤º Element Plus å›¾æ ‡</li>
<li>åˆ†ç»„è‡ªåŠ¨éšè—ï¼ˆå¦‚æœæ²¡æœ‰åŒ¹é…çš„å›¾æ ‡ï¼‰</li>
</ul>
</li>
<li>
<p><strong>å®æ—¶æœç´¢è¿‡æ»¤</strong>ï¼š</p>
<ul>
<li>æ”¯æŒæŒ‰å›¾æ ‡åç§°æœç´¢</li>
<li>ä¸åŒºåˆ†å¤§å°å†™</li>
<li>ä¸¤ä¸ªå›¾æ ‡æºåŒæ—¶è¿‡æ»¤</li>
</ul>
</li>
<li>
<p><strong>å‰ç¼€é¢„è§ˆ</strong>ï¼š</p>
<ul>
<li>å·²é€‰æ‹©çš„å›¾æ ‡å®æ—¶æ˜¾ç¤ºåœ¨ Input å‰ç¼€åŒºåŸŸ</li>
<li>ç”¨æˆ·å¯ç›´è§‚æŸ¥çœ‹é€‰æ‹©çš„å›¾æ ‡æ•ˆæœ</li>
</ul>
</li>
<li>
<p><strong>v-model åŒå‘ç»‘å®š</strong>ï¼š</p>
<ul>
<li>æ”¯æŒ v-model ç›´æ¥ç»‘å®š</li>
<li>åŒæ—¶å‘å‡º <code>change</code> äº‹ä»¶ä¾›å…¶ä»–é€»è¾‘ç›‘å¬</li>
</ul>
</li>
</ol>
<p><strong>Props è¯´æ˜</strong>ï¼š</p>























<table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>modelValue</code></td><td>string</td><td>undefined</td><td>é€‰ä¸­çš„å›¾æ ‡åç§°</td></tr><tr><td><code>placeholder</code></td><td>string</td><td>'è¯·é€‰æ‹©å›¾æ ‡'</td><td>å ä½ç¬¦æ–‡æœ¬</td></tr></tbody></table>
<p><strong>Emits è¯´æ˜</strong>ï¼š</p>




















<table><thead><tr><th>äº‹ä»¶</th><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>update:modelValue</code></td><td>string | undefined</td><td>v-model æ›´æ–°äº‹ä»¶</td></tr><tr><td><code>change</code></td><td>string | undefined</td><td>å›¾æ ‡å˜åŒ–äº‹ä»¶</td></tr></tbody></table>
<p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- åŸºç¡€ç”¨æ³• --&gt;
  &lt;icon-select v-model="selectedIcon" /&gt;

  &lt;!-- è‡ªå®šä¹‰å ä½ç¬¦ --&gt;
  &lt;icon-select 
    v-model="selectedIcon" 
    placeholder="é€‰æ‹©ç³»ç»Ÿå›¾æ ‡"
    @change="onIconChange"
  /&gt;

  &lt;!-- åœ¨è¡¨å•ä¸­ä½¿ç”¨ --&gt;
  &lt;el-form-item label="èœå•å›¾æ ‡"&gt;
    &lt;icon-select v-model="formData.menuIcon" /&gt;
  &lt;/el-form-item&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { ref } from 'vue'

const selectedIcon = ref('')

const onIconChange = (iconName: string | undefined) =&gt; {
  console.log('é€‰æ‹©çš„å›¾æ ‡:', iconName)
  // å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œé¢å¤–å¤„ç†ï¼Œå¦‚ä¿å­˜åˆ°æ•°æ®åº“
}
&lt;/script&gt;
</code></pre>
<p><strong>åº”ç”¨åœºæ™¯</strong>ï¼š</p>
<ol>
<li>
<p><strong>ç³»ç»Ÿé…ç½®ç•Œé¢</strong>ï¼š</p>
<ul>
<li>èœå•å›¾æ ‡é…ç½®</li>
<li>æŒ‰é’®å›¾æ ‡è®¾ç½®</li>
<li>ä¸šåŠ¡æµç¨‹å›¾æ ‡å®šä¹‰</li>
</ul>
</li>
<li>
<p><strong>å†…å®¹ç®¡ç†ç³»ç»Ÿ</strong>ï¼š</p>
<ul>
<li>æ–‡ç« åˆ†ç±»å›¾æ ‡é€‰æ‹©</li>
<li>äº§å“å±æ€§å›¾æ ‡è®¾ç½®</li>
</ul>
</li>
<li>
<p><strong>åå°ç®¡ç†ç³»ç»Ÿ</strong>ï¼š</p>
<ul>
<li>æƒé™ç®¡ç†çš„è§’è‰²å›¾æ ‡</li>
<li>éƒ¨é—¨ç®¡ç†çš„éƒ¨é—¨å›¾æ ‡</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-21">å…«ã€æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-22">1. SVG å›¾æ ‡è®¾è®¡åŸåˆ™</h3>
<pre><code class="hljs language-svg" lang="svg"><span class="hljs-comment">&lt;!-- âœ… æ¨èï¼šå•è‰² SVGï¼Œä¾¿äºåŠ¨æ€æ”¹è‰² --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 24 24"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M..."</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"currentColor"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>

<span class="hljs-comment">&lt;!-- âŒ é¿å…ï¼šå¤šè‰² SVGï¼Œéš¾ä»¥åŠ¨æ€æ”¹è‰² --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 24 24"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M..."</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"#ff0000"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M..."</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"#00ff00"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<h3 data-id="heading-23">2. å›¾æ ‡å‘½åè§„èŒƒ</h3>
<pre><code class="hljs language-scss" lang="scss">æ¨èçš„å‘½åæ–¹å¼ï¼š
âœ… chart<span class="hljs-selector-class">.svg</span>
âœ… user-add<span class="hljs-selector-class">.svg</span>
âœ… arrow-<span class="hljs-attribute">right</span><span class="hljs-selector-class">.svg</span>
âœ… document-copy<span class="hljs-selector-class">.svg</span>

é¿å…çš„å‘½åæ–¹å¼ï¼š
âŒ Chart<span class="hljs-selector-class">.svg</span> (å¤§å°å†™æ··åˆ)
âŒ user_add<span class="hljs-selector-class">.svg</span> (ä½¿ç”¨ä¸‹åˆ’çº¿)
âŒ userAdd<span class="hljs-selector-class">.svg</span> (é©¼å³°å¼)
âŒ icon_user_add<span class="hljs-selector-class">.svg</span> (è¿‡é•¿)
</code></pre>
<h3 data-id="heading-24">3. æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ ä¸æ¨èï¼šåœ¨ç»„ä»¶å†…é¢‘ç¹è°ƒç”¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">setup</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> { svgIcons } = <span class="hljs-title function_">useSvgIcon</span>()
    svgIcons.<span class="hljs-property">value</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// é¢‘ç¹æ“ä½œ</span>
    })
  }
}

<span class="hljs-comment">// âœ… æ¨èï¼šç¼“å­˜å›¾æ ‡åˆ—è¡¨ï¼Œé¿å…é‡å¤è®¡ç®—</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">setup</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> { svgIcons } = <span class="hljs-title function_">useSvgIcon</span>()
    <span class="hljs-keyword">const</span> cachedIcons = <span class="hljs-title function_">ref</span>([])
    
    <span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
      cachedIcons.<span class="hljs-property">value</span> = svgIcons.<span class="hljs-property">value</span>
    })
    
    <span class="hljs-keyword">return</span> { cachedIcons }
  }
}
</code></pre>
<h3 data-id="heading-25">4. ä¸ Element Plus çš„å…¼å®¹æ€§</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- âœ… æ¨èï¼šä½¿ç”¨ el-icon åŒ…è£… --&gt;
&lt;template&gt;
  &lt;el-icon :size="20"&gt;
    &lt;base-icon icon-name="chart" /&gt;
  &lt;/el-icon&gt;
&lt;/template&gt;

&lt;!-- âœ… æ¨èï¼šåœ¨æŒ‰é’®ä¸­ä½¿ç”¨ --&gt;
&lt;template&gt;
  &lt;el-button&gt;
    &lt;template #icon&gt;
      &lt;base-icon icon-name="plus" /&gt;
    &lt;/template&gt;
    æ–°å¢
  &lt;/el-button&gt;
&lt;/template&gt;
</code></pre>
<h3 data-id="heading-26">5. è‰²å½©ç®¡ç†</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- å®šä¹‰ CSS å˜é‡ç®¡ç†å›¾æ ‡é¢œè‰² --&gt;
&lt;template&gt;
  &lt;div class="icon-wrapper"&gt;
    &lt;base-icon icon-name="chart" class="icon-primary" /&gt;
    &lt;base-icon icon-name="user-add" class="icon-success" /&gt;
    &lt;base-icon icon-name="delete" class="icon-danger" /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;style scoped lang="scss"&gt;
.icon-wrapper {
  --icon-primary: #1890ff;
  --icon-success: #52c41a;
  --icon-danger: #f5222d;
}

.icon-primary {
  color: var(--icon-primary);
}

.icon-success {
  color: var(--icon-success);
}

.icon-danger {
  color: var(--icon-danger);
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-27">6. TypeScript ç±»å‹å®‰å…¨</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰å›¾æ ‡ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">IconType</span> = <span class="hljs-string">'svg'</span> | <span class="hljs-string">'element-plus'</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">SvgIconName</span> = <span class="hljs-string">'chart'</span> | <span class="hljs-string">'checkbox'</span> | <span class="hljs-string">'user-add'</span> <span class="hljs-comment">// æ›¿æ¢ä¸ºå®é™…å›¾æ ‡å</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">ElementPlusIconName</span> = <span class="hljs-string">'Plus'</span> | <span class="hljs-string">'Delete'</span> | <span class="hljs-string">'Edit'</span> <span class="hljs-comment">// æ›¿æ¢ä¸ºå®é™…å›¾æ ‡å</span>

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">IconProps</span> {
  <span class="hljs-attr">iconName</span>: <span class="hljs-title class_">SvgIconName</span> | <span class="hljs-title class_">ElementPlusIconName</span>
  iconType?: <span class="hljs-title class_">IconType</span>
  color?: <span class="hljs-built_in">string</span>
  className?: <span class="hljs-built_in">string</span>
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">useIcon</span> = (<span class="hljs-params">props: IconProps</span>) =&gt; {
  <span class="hljs-comment">// ç±»å‹å®‰å…¨çš„å›¾æ ‡ä½¿ç”¨</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-28">ä¹ã€å¸¸è§é—®é¢˜è§£å†³</h2>
<h3 data-id="heading-29">Q1: SVG å›¾æ ‡åœ¨æ„å»ºåæ— æ³•æ˜¾ç¤º</h3>
<p><strong>åŸå› </strong>ï¼š</p>
<ul>
<li>SVG æ–‡ä»¶æœªæ­£ç¡®æ”¾ç½®åœ¨é…ç½®çš„ç›®å½•ä¸­</li>
<li>è™šæ‹Ÿæ¨¡å—æœªæ­£ç¡®æ³¨å†Œ</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. æ£€æŸ¥ vite.config.ts ä¸­çš„ iconDirs é…ç½®</span>
<span class="hljs-keyword">const</span> iconDirs = [path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'src/assets/icons/svg'</span>)]

<span class="hljs-comment">// 2. ç¡®ä¿åœ¨ main.ts ä¸­å¯¼å…¥äº†è™šæ‹Ÿæ¨¡å—</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'virtual:svg-icons-register'</span>

<span class="hljs-comment">// 3. æ¸…é™¤æ„å»ºç¼“å­˜</span>
rm -rf dist node_modules/.<span class="hljs-property">vite</span>
npm run build
</code></pre>
<h3 data-id="heading-30">Q2: Element Plus å›¾æ ‡åœ¨æŸäº›æƒ…å†µä¸‹ä¸æ˜¾ç¤º</h3>
<p><strong>åŸå› </strong>ï¼š</p>
<ul>
<li>å›¾æ ‡åç§°è½¬æ¢é”™è¯¯</li>
<li>Element Plus ç‰ˆæœ¬ä¸åŒ¹é…</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ£€æŸ¥å›¾æ ‡åç§°è½¬æ¢æ˜¯å¦æ­£ç¡®</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">testIconName</span> = (<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-keyword">const</span> pascalName = name
    .<span class="hljs-title function_">split</span>(<span class="hljs-regexp">/[-_]/</span>)
    .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">word</span> =&gt;</span> word.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">toUpperCase</span>() + word.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>))
    .<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${name}</span> =&gt; <span class="hljs-subst">${pascalName}</span>`</span>)
}

<span class="hljs-title function_">testIconName</span>(<span class="hljs-string">'user-add'</span>)  <span class="hljs-comment">// è¾“å‡º: UserAdd</span>
<span class="hljs-title function_">testIconName</span>(<span class="hljs-string">'close'</span>)     <span class="hljs-comment">// è¾“å‡º: Close</span>
</code></pre>
<h3 data-id="heading-31">Q3: å›¾æ ‡é€‰æ‹©å™¨ä¸­æœç´¢ä¸å·¥ä½œ</h3>
<p><strong>åŸå› </strong>ï¼š</p>
<ul>
<li>SVG å›¾æ ‡æˆ– Element Plus å›¾æ ‡åˆ—è¡¨æœªæ­£ç¡®åŠ è½½</li>
<li>æœç´¢å…³é”®è¯ä¸åŒ¹é…</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åœ¨ mounted ä¸­æ˜ç¡®è°ƒç”¨åˆå§‹åŒ–</span>
<span class="hljs-title function_">onMounted</span>(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">loadSvgIcons</span>()
  <span class="hljs-title function_">initElementPlusIcons</span>()
  
  <span class="hljs-comment">// éªŒè¯å›¾æ ‡å·²åŠ è½½</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'SVG Icons:'</span>, svgIcons.<span class="hljs-property">value</span>)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Element Plus Icons:'</span>, elementPlusIcons.<span class="hljs-property">value</span>)
})
</code></pre>
<h3 data-id="heading-32">Q4: å¦‚ä½•åŠ¨æ€åŠ è½½æ›´å¤š SVG å›¾æ ‡ï¼Ÿ</h3>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åœ¨ vite.config.ts ä¸­é…ç½®å¤šä¸ªç›®å½•</span>
<span class="hljs-title function_">createSvgIcon</span>({
  <span class="hljs-attr">iconDirs</span>: [
    path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'src/assets/icons/svg'</span>),
    path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'src/assets/icons/business'</span>),  <span class="hljs-comment">// ä¸šåŠ¡å›¾æ ‡</span>
    path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'src/assets/icons/common'</span>),    <span class="hljs-comment">// é€šç”¨å›¾æ ‡</span>
  ],
  <span class="hljs-attr">symbolId</span>: <span class="hljs-string">'icon-[dir]-[name]'</span>,
})
</code></pre>
<h3 data-id="heading-33">Q5: å¦‚ä½•åœ¨ TypeScript ä¸­è·å¾—å›¾æ ‡åç§°çš„è‡ªåŠ¨è¡¥å…¨ï¼Ÿ</h3>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åˆ›å»ºç±»å‹å®šä¹‰æ–‡ä»¶: src/types/icons.ts</span>
<span class="hljs-keyword">import</span> { useSvgIcon } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/compositions/useSvgIcon'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">SvgIconName</span> = <span class="hljs-string">'chart'</span> | <span class="hljs-string">'checkbox'</span> | <span class="hljs-string">'user-add'</span> <span class="hljs-comment">// æ‰‹åŠ¨ç»´æŠ¤æˆ–é€šè¿‡è„šæœ¬ç”Ÿæˆ</span>

<span class="hljs-comment">// åˆ›å»ºè¾…åŠ©å‡½æ•°è·å¾—æ›´å¥½çš„ç±»å‹æ”¯æŒ</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">useIcon</span> = (<span class="hljs-params">iconName: SvgIconName</span>) =&gt; {
  <span class="hljs-keyword">const</span> { isSvgIcon } = <span class="hljs-title function_">useSvgIcon</span>()
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">isSvgIcon</span>(iconName)
}
</code></pre>
<p><strong>æˆ–ä½¿ç”¨è„šæœ¬è‡ªåŠ¨ç”Ÿæˆ</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// scripts/generate-icon-types.js</span>
<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>)
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>)

<span class="hljs-keyword">const</span> svgDir = path.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">'src/assets/icons/svg'</span>)
<span class="hljs-keyword">const</span> files = fs.<span class="hljs-title function_">readdirSync</span>(svgDir)
<span class="hljs-keyword">const</span> iconNames = files
  .<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">f</span> =&gt;</span> f.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.svg'</span>))
  .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">f</span> =&gt;</span> f.<span class="hljs-title function_">replace</span>(<span class="hljs-string">'.svg'</span>, <span class="hljs-string">''</span>))

<span class="hljs-keyword">const</span> content = <span class="hljs-string">`
export type SvgIconName = <span class="hljs-subst">${iconNames.map(n =&gt; <span class="hljs-string">`'<span class="hljs-subst">${n}</span>'`</span>).join(<span class="hljs-string">' | '</span>)}</span>
`</span>

fs.<span class="hljs-title function_">writeFileSync</span>(<span class="hljs-string">'src/types/icons.ts'</span>, content)
</code></pre>
<hr/>
<h2 data-id="heading-34">åã€æ€»ç»“</h2>
<p>æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»äº†åœ¨ Vue3 + Vite é¡¹ç›®ä¸­æ•´åˆ SVG å›¾æ ‡å’Œ Element Plus å›¾æ ‡çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼ŒåŒ…æ‹¬ï¼š</p>
<ol>
<li>âœ… <strong>æ„å»ºå±‚é¢</strong>ï¼šé€šè¿‡ vite-plugin-svg-icons å®ç° SVG è‡ªåŠ¨åŒ–æ‰“åŒ…</li>
<li>âœ… <strong>æ³¨å†Œå±‚é¢</strong>ï¼šåœ¨ main.ts ä¸­ç»Ÿä¸€æ³¨å†Œä¸¤ç±»å›¾æ ‡</li>
<li>âœ… <strong>ç»„ä»¶å±‚é¢</strong>ï¼šæä¾› SvgIconã€BaseIcon ç­‰å¯å¤ç”¨ç»„ä»¶</li>
<li>âœ… <strong>å·¥å…·å±‚é¢</strong>ï¼šé€šè¿‡ useSvgIcon Composable æä¾›ç»Ÿä¸€çš„å›¾æ ‡ç®¡ç† API</li>
<li>âœ… <strong>åº”ç”¨å±‚é¢</strong>ï¼šé€šè¿‡ IconSelect å®ç°åŠ¨æ€å›¾æ ‡é€‰æ‹©åŠŸèƒ½</li>
</ol>
<p>è¿™å¥—æ–¹æ¡ˆå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li>ğŸ“¦ <strong>å¼€ç®±å³ç”¨</strong>ï¼šæœ€å°åŒ–é…ç½®ï¼Œå¿«é€Ÿé›†æˆ</li>
<li>ğŸ¯ <strong>æ™ºèƒ½è¯†åˆ«</strong>ï¼šè‡ªåŠ¨åŒºåˆ† SVG å’Œ Element Plus å›¾æ ‡</li>
<li>ğŸš€ <strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šSVG è‡ªåŠ¨åˆå¹¶ï¼Œå‡å°‘ HTTP è¯·æ±‚</li>
<li>ğŸ’ª <strong>ç±»å‹å®‰å…¨</strong>ï¼šå®Œæ•´çš„ TypeScript æ”¯æŒ</li>
<li>ğŸ¨ <strong>çµæ´»å®šåˆ¶</strong>ï¼šæ”¯æŒé¢œè‰²ã€å¤§å°ç­‰å¤šç§è‡ªå®šä¹‰</li>
<li>ğŸ” <strong>æ˜“äºç»´æŠ¤</strong>ï¼šé›†ä¸­ç®¡ç†ï¼Œç»Ÿä¸€æ¥å£</li>
</ul>
<p>å¸Œæœ›æœ¬æ–‡æ¡£èƒ½å¤Ÿå¸®åŠ©ä½ å¿«é€Ÿå®ç°ä¸€ä¸ªé«˜æ•ˆçš„å›¾æ ‡ç®¡ç†ç³»ç»Ÿï¼</p>
<hr/>
<h2 data-id="heading-35">åä¸€ã€å‚è€ƒèµ„æº</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fvitejs.dev%2F" target="_blank" title="https://vitejs.dev/" ref="nofollow noopener noreferrer">Vite å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fvuejs.org%2F" target="_blank" title="https://vuejs.org/" ref="nofollow noopener noreferrer">Vue 3 å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Felement-plus.org%2F" target="_blank" title="https://element-plus.org/" ref="nofollow noopener noreferrer">Element Plus å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvbenjs%2Fvite-plugin-svg-icons" target="_blank" title="https://github.com/vbenjs/vite-plugin-svg-icons" ref="nofollow noopener noreferrer">vite-plugin-svg-icons GitHub</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å¿…è¯»ï¼šHTTP åè®®æ ¸å¿ƒçŸ¥è¯†å…¨æ™¯å›¾ï¼ˆä¸‰ï¼‰â€”â€” å“åº”å¤´è¯¦è§£]]></title>    <link>https://juejin.cn/post/7575884229525602340</link>    <guid>https://juejin.cn/post/7575884229525602340</guid>    <pubDate>2025-11-24T06:53:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575884229525602340" data-draft-id="7575937594351386667" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å¿…è¯»ï¼šHTTP åè®®æ ¸å¿ƒçŸ¥è¯†å…¨æ™¯å›¾ï¼ˆä¸‰ï¼‰â€”â€” å“åº”å¤´è¯¦è§£"/> <meta itemprop="keywords" content="å‰ç«¯,HTTP"/> <meta itemprop="datePublished" content="2025-11-24T06:53:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¥¿ç“œæ ‘æ"/> <meta itemprop="url" content="https://juejin.cn/user/424827408622238"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å¿…è¯»ï¼šHTTP åè®®æ ¸å¿ƒçŸ¥è¯†å…¨æ™¯å›¾ï¼ˆä¸‰ï¼‰â€”â€” å“åº”å¤´è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/424827408622238/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¥¿ç“œæ ‘æ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T06:53:21.000Z" title="Mon Nov 24 2025 06:53:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å¼•è¨€ï¼šä» â€œè¯·æ±‚â€ åˆ° â€œå“åº”â€</h2>
<p>ä¸Šä¸€ç¯‡è§£æäº†è¯·æ±‚å¤´ä½œä¸ºå®¢æˆ·ç«¯ â€œæé—®â€ çš„è½½ä½“ï¼Œæœ¬æ–‡èšç„¦æœåŠ¡å™¨ â€œå›ç­”â€ çš„æ ¸å¿ƒ â€”â€” å“åº”å¤´ã€‚æœåŠ¡å™¨é€šè¿‡å“åº”å¤´å‘å®¢æˆ·ç«¯ä¼ é€’èµ„æºå…ƒä¿¡æ¯ã€å¤„ç†ç»“æœã€è¡Œä¸ºæŒ‡ä»¤ï¼ˆå¦‚ç¼“å­˜ç­–ç•¥ã€å®‰å…¨é™åˆ¶ç­‰ï¼‰ã€‚ç†è§£å“åº”å¤´æ˜¯è§£ææ¥å£è¿”å›ã€è°ƒè¯•é”™è¯¯ã€ä¼˜åŒ–ç¼“å­˜ã€ä¿éšœå®‰å…¨çš„å…³é”®ï¼ˆå¦‚è·¨åŸŸé…ç½®ã€Cookie è®¾ç½®ã€æ–‡ä»¶ä¸‹è½½ç­‰å‡ä¾èµ–å“åº”å¤´ï¼‰ã€‚</p>
<h2 data-id="heading-1">äºŒã€HTTP å“åº”å¤´åŸºç¡€ï¼šå®šä¹‰ä¸ç»“æ„</h2>
<ol>
<li>ä»€ä¹ˆæ˜¯ HTTP å“åº”å¤´ï¼Ÿ</li>
</ol>
<ul>
<li>
<ul>
<li>ä½äºçŠ¶æ€è¡Œä¹‹åã€å“åº”ä½“ä¹‹å‰çš„é”®å€¼å¯¹é›†åˆ</li>
<li>æ ¼å¼ï¼š<code>Header-Name: value</code>ï¼ˆä¸è¯·æ±‚å¤´ä¸€è‡´ï¼Œé¦–å­—æ¯å¤§å†™ä¸ºå¸¸è§„çº¦å®šï¼‰</li>
</ul>
</li>
</ul>
<ol start="2">
<li>å“åº”å¤´çš„æ ¸å¿ƒä½œç”¨</li>
</ol>
<ul>
<li>
<ul>
<li>æè¿°å“åº”ä½“çš„åŸºæœ¬ä¿¡æ¯ï¼ˆå¦‚ç±»å‹ã€é•¿åº¦ã€ç¼–ç æ–¹å¼ï¼‰</li>
<li>å‘ŠçŸ¥å®¢æˆ·ç«¯å¦‚ä½•å¤„ç†å“åº”ï¼ˆå¦‚ç¼“å­˜è§„åˆ™ã€é‡å®šå‘æ–¹å‘ï¼‰</li>
<li>ä¼ é€’å®‰å…¨é™åˆ¶ã€èº«ä»½éªŒè¯ç»“æœç­‰å…³é”®ä¿¡æ¯</li>
</ul>
</li>
</ul>
<ol start="3">
<li>ä¸è¯·æ±‚å¤´çš„å…³è”ï¼šäºŒè€…æ˜¯ â€œé—®ç­”â€ å…³ç³»ï¼ˆå¦‚è¯·æ±‚å¤´<code>Accept</code>å¯¹åº”å“åº”å¤´<code>Content-Type</code>ï¼‰</li>
</ol>
<h2 data-id="heading-2">ä¸‰ã€æ ¸å¿ƒå“åº”å¤´è¯¦è§£ï¼ˆæŒ‰åŠŸèƒ½åˆ†ç±»ï¼‰</h2>
<h3 data-id="heading-3">ï¼ˆä¸€ï¼‰å“åº”å†…å®¹æè¿°ç±»ï¼šå‘Šè¯‰å®¢æˆ·ç«¯ â€œè¿”å›çš„æ˜¯ä»€ä¹ˆâ€</h3>
<ol>
<li><code>Content-Type</code></li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šæŒ‡å®šå“åº”ä½“çš„æ•°æ®æ ¼å¼ï¼ˆMIME ç±»å‹ï¼‰åŠå­—ç¬¦ç¼–ç </li>
<li>å¸¸è§å–å€¼ï¼š</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>
<ul>
<li><code>text/html; charset=utf-8</code>ï¼ˆHTML é¡µé¢ï¼‰</li>
<li><code>application/json; charset=utf-8</code>ï¼ˆJSON æ•°æ®ï¼Œå‰ç«¯ AJAX æœ€å¸¸ç”¨ï¼‰</li>
<li><code>image/jpeg</code>ï¼ˆJPEG å›¾ç‰‡ï¼‰ã€<code>video/mp4</code>ï¼ˆMP4 è§†é¢‘ï¼‰</li>
</ul>
</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>å‰ç«¯å…³è”ï¼šæµè§ˆå™¨æ ¹æ®è¯¥å¤´è§£æå†…å®¹ï¼ˆå¦‚ JSON è‡ªåŠ¨è½¬å¯¹è±¡ã€å›¾ç‰‡ç›´æ¥æ¸²æŸ“ï¼‰</li>
</ul>
</li>
</ul>
<ol start="2">
<li><code>Content-Length</code></li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šæ ‡è¯†å“åº”ä½“çš„å­—èŠ‚é•¿åº¦ï¼ˆå¸®åŠ©å®¢æˆ·ç«¯åˆ¤æ–­æ•°æ®æ˜¯å¦å®Œæ•´æ¥æ”¶ï¼‰</li>
<li>ç¤ºä¾‹ï¼š<code>Content-Length: 2048</code></li>
</ul>
</li>
</ul>
<ol start="3">
<li><code>Content-Encoding</code></li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šå‘ŠçŸ¥å®¢æˆ·ç«¯å“åº”ä½“ä½¿ç”¨çš„å‹ç¼©ç®—æ³•ï¼ˆéœ€ä¸è¯·æ±‚å¤´<code>Accept-Encoding</code>å¯¹åº”ï¼‰</li>
<li>å¸¸è§å–å€¼ï¼š<code>gzip</code>ã€<code>deflate</code>ã€<code>br</code>ï¼ˆBrotliï¼‰</li>
<li>å‰ç«¯å…³è”ï¼šæµè§ˆå™¨è‡ªåŠ¨è§£å‹ï¼Œå¼€å‘è€…æ— éœ€æ‰‹åŠ¨å¤„ç†ï¼Œä½†éœ€å…³æ³¨å‹ç¼©ç‡å¯¹æ€§èƒ½çš„å½±å“</li>
</ul>
</li>
</ul>
<ol start="4">
<li><code>Content-Disposition</code></li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šæŒ‡å®šå“åº”å†…å®¹çš„å±•ç¤ºæ–¹å¼ï¼ˆinline ç›´æ¥æ˜¾ç¤º /attachment ä½œä¸ºæ–‡ä»¶ä¸‹è½½ï¼‰</li>
<li>ç¤ºä¾‹ï¼š</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>
<ul>
<li><code>Content-Disposition: inline</code>ï¼ˆé»˜è®¤ï¼Œå¦‚å›¾ç‰‡ã€HTML ç›´æ¥æ˜¾ç¤ºï¼‰</li>
<li><code>Content-Disposition: attachment; filename="report.pdf"</code>ï¼ˆè§¦å‘æ–‡ä»¶ä¸‹è½½ï¼Œæ–‡ä»¶åä¸º report.pdfï¼‰</li>
</ul>
</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>å‰ç«¯å…³è”ï¼šå®ç°æ–‡ä»¶ä¸‹è½½çš„æ ¸å¿ƒå“åº”å¤´ï¼ˆé…åˆ<code>a</code>æ ‡ç­¾<code>download</code>å±æ€§ä½¿ç”¨ï¼‰</li>
</ul>
</li>
</ul>
<h3 data-id="heading-4">ï¼ˆäºŒï¼‰ç¼“å­˜æ§åˆ¶ç±»ï¼šæŒ‡å¯¼å®¢æˆ·ç«¯ â€œå¦‚ä½•ç¼“å­˜èµ„æºâ€</h3>
<ol>
<li><code>Cache-Control</code>ï¼ˆå“åº”ç«¯æŒ‡ä»¤ï¼‰</li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šæœåŠ¡å™¨æŒ‡å®šèµ„æºçš„ç¼“å­˜ç­–ç•¥ï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼Œè¦†ç›–å…¶ä»–ç¼“å­˜å¤´ï¼‰</li>
<li>å¸¸ç”¨å–å€¼ï¼š</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>
<ul>
<li><code>public</code>ï¼šå…è®¸ä»»ä½•ç¼“å­˜ï¼ˆå¦‚ CDNã€æµè§ˆå™¨ï¼‰å­˜å‚¨è¯¥èµ„æº</li>
<li><code>private</code>ï¼šä»…å…è®¸å®¢æˆ·ç«¯æµè§ˆå™¨ç¼“å­˜ï¼ˆä¸å…è®¸ CDN ç­‰ä¸­é—´ä»£ç†ç¼“å­˜ï¼‰</li>
<li><code>max-age=3600</code>ï¼šèµ„æºæœ‰æ•ˆæœŸä¸º 3600 ç§’ï¼ˆä»å“åº”ç”Ÿæˆæ—¶å¼€å§‹è®¡ç®—ï¼‰</li>
<li><code>no-cache</code>ï¼šç¼“å­˜å‰å¿…é¡»å‘æœåŠ¡å™¨éªŒè¯æœ‰æ•ˆæ€§ï¼ˆéœ€é…åˆ ETag/Last-Modifiedï¼‰</li>
<li><code>no-store</code>ï¼šç¦æ­¢ä»»ä½•ç¼“å­˜ï¼ˆæ¯æ¬¡éƒ½éœ€é‡æ–°è¯·æ±‚ï¼‰</li>
</ul>
</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>ç¤ºä¾‹ï¼š<code>Cache-Control: public, max-age=86400</code>ï¼ˆå…è®¸å…¬å¼€ç¼“å­˜ï¼Œæœ‰æ•ˆæœŸ 1 å¤©ï¼‰</li>
<li>å‰ç«¯å…³è”ï¼šé™æ€èµ„æºï¼ˆå¦‚ JSã€CSSã€å›¾ç‰‡ï¼‰ä¼˜åŒ–çš„æ ¸å¿ƒé…ç½®ï¼Œç›´æ¥å½±å“é¡µé¢åŠ è½½é€Ÿåº¦</li>
</ul>
</li>
</ul>
<ol start="2">
<li><code>Expires</code></li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šæŒ‡å®šèµ„æºçš„è¿‡æœŸæ—¶é—´ï¼ˆHTTP/1.0 é—ç•™å¤´ï¼Œä¼˜å…ˆçº§ä½äº<code>Cache-Control: max-age</code>ï¼‰</li>
<li>ç¤ºä¾‹ï¼š<code>Expires: Wed, 20 Jun 2024 12:00:00 GMT</code></li>
<li>æ³¨æ„ï¼šåŸºäºæœåŠ¡å™¨æ—¶é—´ï¼Œè‹¥å®¢æˆ·ç«¯æ—¶é—´ä¸æœåŠ¡å™¨ä¸ä¸€è‡´å¯èƒ½å¯¼è‡´ç¼“å­˜å¼‚å¸¸</li>
</ul>
</li>
</ul>
<ol start="3">
<li><code>Last-Modified</code></li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šæ ‡è¯†èµ„æºæœ€åä¿®æ”¹çš„æ—¶é—´ï¼ˆä¸è¯·æ±‚å¤´<code>If-Modified-Since</code>é…åˆå®ç°åå•†ç¼“å­˜ï¼‰</li>
<li>ç¤ºä¾‹ï¼š<code>Last-Modified: Tue, 15 Nov 2022 12:00:00 GMT</code></li>
</ul>
</li>
</ul>
<ol start="4">
<li><code>ETag</code></li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šèµ„æºçš„å”¯ä¸€æ ‡è¯†ï¼ˆé€šå¸¸æ˜¯å†…å®¹å“ˆå¸Œï¼Œä¸è¯·æ±‚å¤´<code>If-None-Match</code>é…åˆå®ç°åå•†ç¼“å­˜ï¼‰</li>
<li>ç¤ºä¾‹ï¼š<code>ETag: "abc123"</code>ï¼ˆå¼ºéªŒè¯å™¨ï¼‰æˆ–Â <code>W/"abc123"</code>ï¼ˆå¼±éªŒè¯å™¨ï¼Œå¿½ç•¥ minor å˜åŒ–ï¼‰</li>
<li>ä¼˜åŠ¿ï¼šç›¸æ¯”<code>Last-Modified</code>ï¼Œèƒ½è¯†åˆ«å†…å®¹æœªå˜ä½†ä¿®æ”¹æ—¶é—´æ›´æ–°çš„åœºæ™¯ï¼ˆå¦‚æ–‡ä»¶é‡å†™ï¼‰</li>
</ul>
</li>
</ul>
<h3 data-id="heading-5">ï¼ˆä¸‰ï¼‰è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰ç±»ï¼šæ§åˆ¶ â€œè·¨åŸŸè¯·æ±‚çš„æƒé™â€</h3>
<ol>
<li><code>Access-Control-Allow-Origin</code></li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šæŒ‡å®šå…è®¸è·¨åŸŸè¯·æ±‚çš„æºç«™ï¼ˆä¸è¯·æ±‚å¤´<code>Origin</code>å¯¹åº”ï¼‰</li>
<li>ç¤ºä¾‹ï¼š</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>
<ul>
<li><code>Access-Control-Allow-Origin: https://www.example.com</code>ï¼ˆä»…å…è®¸ç‰¹å®šæºï¼‰</li>
<li><code>Access-Control-Allow-Origin: *</code>ï¼ˆå…è®¸æ‰€æœ‰æºï¼Œé€‚åˆå…¬å¼€èµ„æºï¼‰</li>
</ul>
</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>å‰ç«¯å…³è”ï¼šè·¨åŸŸè¯·æ±‚æˆåŠŸçš„æ ¸å¿ƒå‰æï¼Œè‹¥ä¸åŒ¹é…åˆ™è§¦å‘ CORS é”™è¯¯</li>
</ul>
</li>
</ul>
<ol start="2">
<li><code>Access-Control-Allow-Methods</code></li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šå‘ŠçŸ¥å®¢æˆ·ç«¯æœåŠ¡å™¨å…è®¸çš„è·¨åŸŸè¯·æ±‚æ–¹æ³•ï¼ˆå¦‚ GETã€POSTã€PUT ç­‰ï¼‰</li>
<li>ç¤ºä¾‹ï¼š<code>Access-Control-Allow-Methods: GET, POST, OPTIONS</code></li>
<li>å…³è”åœºæ™¯ï¼šéç®€å•è·¨åŸŸè¯·æ±‚ï¼ˆå¦‚ PUTã€DELETEï¼‰çš„é¢„æ£€è¯·æ±‚ï¼ˆOPTIONSï¼‰ä¸­è¿”å›</li>
</ul>
</li>
</ul>
<ol start="3">
<li><code>Access-Control-Allow-Headers</code></li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šæŒ‡å®šå…è®¸çš„è·¨åŸŸè¯·æ±‚å¤´ï¼ˆä¸å®¢æˆ·ç«¯è‡ªå®šä¹‰è¯·æ±‚å¤´å¯¹åº”ï¼‰</li>
<li>ç¤ºä¾‹ï¼š<code>Access-Control-Allow-Headers: X-Custom-Header, Content-Type</code></li>
<li>å‰ç«¯å…³è”ï¼šè‹¥è¯·æ±‚åŒ…å«è‡ªå®šä¹‰å¤´ï¼Œéœ€æœåŠ¡å™¨é€šè¿‡è¯¥å¤´å…è®¸ï¼Œå¦åˆ™é¢„æ£€å¤±è´¥</li>
</ul>
</li>
</ul>
<ol start="4">
<li><code>Access-Control-Allow-Credentials</code></li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šæ ‡è¯†æ˜¯å¦å…è®¸è·¨åŸŸè¯·æ±‚æºå¸¦ Cookie ç­‰å‡­æ®ï¼ˆéœ€ä¸å®¢æˆ·ç«¯<code>withCredentials</code>é…åˆï¼‰</li>
<li>ç¤ºä¾‹ï¼š<code>Access-Control-Allow-Credentials: true</code></li>
<li>æ³¨æ„ï¼šæ­¤æ—¶<code>Access-Control-Allow-Origin</code>ä¸èƒ½ä¸º<code>*</code>ï¼Œå¿…é¡»æŒ‡å®šå…·ä½“æº</li>
</ul>
</li>
</ul>
<ol start="5">
<li><code>Access-Control-Max-Age</code></li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šæŒ‡å®šé¢„æ£€è¯·æ±‚ï¼ˆOPTIONSï¼‰çš„ç»“æœç¼“å­˜æ—¶é—´ï¼ˆé¿å…é‡å¤é¢„æ£€ï¼‰</li>
<li>ç¤ºä¾‹ï¼š<code>Access-Control-Max-Age: 86400</code>ï¼ˆç¼“å­˜ 1 å¤©ï¼‰</li>
</ul>
</li>
</ul>
<h3 data-id="heading-6">ï¼ˆå››ï¼‰Cookie ä¸ä¼šè¯ç®¡ç†ç±»ï¼šæ§åˆ¶ â€œå®¢æˆ·ç«¯çŠ¶æ€å­˜å‚¨â€</h3>
<ol>
<li><code>Set-Cookie</code></li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šæœåŠ¡å™¨å‘å®¢æˆ·ç«¯è®¾ç½® Cookieï¼ˆé”®å€¼å¯¹ã€æœ‰æ•ˆæœŸã€ä½œç”¨åŸŸç­‰ï¼‰</li>
<li>æ ¸å¿ƒå±æ€§ï¼š</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>
<ul>
<li><code>name=value</code>ï¼šCookie çš„é”®å€¼ï¼ˆå¦‚<code>sessionId=abc123</code>ï¼‰</li>
<li><code>Expires=Wed, 20 Jun 2024 12:00:00 GMT</code>ï¼šè¿‡æœŸæ—¶é—´ï¼ˆæŒä¹… Cookieï¼‰</li>
<li><code>Max-Age=86400</code>ï¼šæœ‰æ•ˆæœŸï¼ˆç§’ï¼Œä¼˜å…ˆçº§é«˜äº Expiresï¼‰</li>
<li><code>Domain=example.com</code>ï¼šCookie ç”Ÿæ•ˆçš„åŸŸåï¼ˆå­åŸŸåå¯ç»§æ‰¿ï¼‰</li>
<li><code>Path=/admin</code>ï¼šCookie ç”Ÿæ•ˆçš„è·¯å¾„ï¼ˆä»…è¯¥è·¯å¾„ä¸‹çš„è¯·æ±‚ä¼šæºå¸¦ï¼‰</li>
<li><code>HttpOnly</code>ï¼šç¦æ­¢ JavaScript é€šè¿‡<code>document.cookie</code>è®¿é—®ï¼ˆé˜² XSS æ”»å‡»ï¼‰</li>
<li><code>Secure</code>ï¼šä»…åœ¨ HTTPS è¯·æ±‚ä¸­æºå¸¦ Cookie</li>
<li><code>SameSite=Strict/Lax</code>ï¼šé™åˆ¶è·¨ç«™è¯·æ±‚æºå¸¦ Cookieï¼ˆé˜² CSRF æ”»å‡»ï¼‰</li>
</ul>
</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>ç¤ºä¾‹ï¼š<code>Set-Cookie: userId=123; Max-Age=3600; HttpOnly; Secure; SameSite=Lax</code></li>
<li>å‰ç«¯å…³è”ï¼šç™»å½•çŠ¶æ€ç»´æŒã€ç”¨æˆ·åå¥½å­˜å‚¨çš„æ ¸å¿ƒæœºåˆ¶ï¼Œéœ€å…³æ³¨å®‰å…¨å±æ€§ï¼ˆå¦‚ HttpOnlyï¼‰</li>
</ul>
</li>
</ul>
<ol start="2">
<li><code>Clear-Site-Data</code></li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šæœåŠ¡å™¨æŒ‡ç¤ºå®¢æˆ·ç«¯æ¸…é™¤æŒ‡å®šç±»å‹çš„æ•°æ®ï¼ˆå¦‚ Cookieã€ç¼“å­˜ã€å­˜å‚¨ç­‰ï¼‰</li>
<li>ç¤ºä¾‹ï¼š<code>Clear-Site-Data: "cookies", "storage"</code>ï¼ˆæ¸…é™¤ Cookie å’Œæœ¬åœ°å­˜å‚¨ï¼‰</li>
<li>åº”ç”¨åœºæ™¯ï¼šç”¨æˆ·ç™»å‡ºæ—¶å¼ºåˆ¶æ¸…é™¤æ•æ„Ÿæ•°æ®</li>
</ul>
</li>
</ul>
<h3 data-id="heading-7">ï¼ˆäº”ï¼‰é‡å®šå‘ç±»ï¼šå‘Šè¯‰å®¢æˆ·ç«¯ â€œè¯·æ±‚éœ€è¦è·³è½¬â€</h3>
<ol>
<li><code>Location</code></li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šé…åˆ 3xx çŠ¶æ€ç ï¼ˆå¦‚ 301ã€302ï¼‰æŒ‡å®šé‡å®šå‘çš„ç›®æ ‡ URL</li>
<li>ç¤ºä¾‹ï¼š<code>Location: https://www.new-example.com</code>ï¼ˆé…åˆ 301 çŠ¶æ€ç è¡¨ç¤ºæ°¸ä¹…é‡å®šå‘ï¼‰</li>
<li>å‰ç«¯å…³è”ï¼šé¡µé¢è·³è½¬ã€èµ„æºè¿ç§»åçš„è·¯å¾„ä¿®æ­£ï¼Œéœ€æ³¨æ„ 301ï¼ˆæ°¸ä¹…ï¼‰ä¸ 302ï¼ˆä¸´æ—¶ï¼‰çš„åŒºåˆ«</li>
</ul>
</li>
</ul>
<h3 data-id="heading-8">ï¼ˆå…­ï¼‰å®‰å…¨å¢å¼ºç±»ï¼šæå‡ â€œè¯·æ±‚ - å“åº”çš„å®‰å…¨æ€§â€</h3>
<ol>
<li><code>Content-Security-Policy</code>ï¼ˆCSPï¼‰</li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šé™åˆ¶èµ„æºåŠ è½½æ¥æºï¼ˆå¦‚è„šæœ¬ã€æ ·å¼ã€å›¾ç‰‡ç­‰ï¼‰ï¼Œé˜²å¾¡ XSS å’Œæ³¨å…¥æ”»å‡»</li>
<li>ç¤ºä¾‹ï¼š<code>Content-Security-Policy: default-src 'self'; script-src 'self' https://trusted-cdn.com</code></li>
<li>è¯´æ˜ï¼šä»…å…è®¸ä»è‡ªèº«åŸŸåå’Œå¯ä¿¡ CDN åŠ è½½è„šæœ¬ï¼Œå…¶ä»–æ¥æºçš„è„šæœ¬ä¼šè¢«æ‹¦æˆª</li>
</ul>
</li>
</ul>
<ol start="2">
<li><code>X-Content-Type-Options</code></li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šç¦æ­¢æµè§ˆå™¨å¯¹å“åº”å†…å®¹è¿›è¡Œ â€œMIME ç±»å‹å—…æ¢â€ï¼ˆé˜²æ­¢å°†éè„šæœ¬æ–‡ä»¶å½“ä½œè„šæœ¬æ‰§è¡Œï¼‰</li>
<li>ç¤ºä¾‹ï¼š<code>X-Content-Type-Options: nosniff</code></li>
</ul>
</li>
</ul>
<ol start="3">
<li><code>X-Frame-Options</code></li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šæ§åˆ¶å½“å‰é¡µé¢æ˜¯å¦å…è®¸è¢«åµŒå…¥åˆ°<code>iframe</code>ä¸­ï¼ˆé˜²å¾¡ç‚¹å‡»åŠ«æŒæ”»å‡»ï¼‰</li>
<li>å–å€¼ï¼š<code>DENY</code>ï¼ˆç¦æ­¢ä»»ä½•é¡µé¢åµŒå…¥ï¼‰ã€<code>SAMEORIGIN</code>ï¼ˆä»…å…è®¸åŒåŸŸé¡µé¢åµŒå…¥ï¼‰</li>
</ul>
</li>
</ul>
<ol start="4">
<li><code>Strict-Transport-Security</code>ï¼ˆHSTSï¼‰</li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šå¼ºåˆ¶å®¢æˆ·ç«¯ä½¿ç”¨ HTTPS è®¿é—®ï¼ˆå³ä½¿ç”¨æˆ·è¾“å…¥ HTTP URLï¼‰</li>
<li>ç¤ºä¾‹ï¼š<code>Strict-Transport-Security: max-age=31536000; includeSubDomains</code>ï¼ˆæœ‰æ•ˆæœŸ 1 å¹´ï¼ŒåŒ…å«å­åŸŸåï¼‰</li>
</ul>
</li>
</ul>
<h3 data-id="heading-9">ï¼ˆä¸ƒï¼‰å…¶ä»–å¸¸ç”¨å“åº”å¤´ï¼šç‰¹æ®Šåœºæ™¯è¡¥å……</h3>
<ol>
<li><code>Server</code></li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šæ ‡è¯†æœåŠ¡å™¨è½¯ä»¶ä¿¡æ¯ï¼ˆå¦‚<code>Server: Nginx/1.21.0</code>ï¼‰</li>
<li>æ³¨æ„ï¼šå¯éšè—å…·ä½“ç‰ˆæœ¬ä»¥å‡å°‘æ”»å‡»é¢</li>
</ul>
</li>
</ul>
<ol start="2">
<li><code>Vary</code></li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šå‘ŠçŸ¥ç¼“å­˜æœåŠ¡å™¨ â€œæ ¹æ®æŒ‡å®šè¯·æ±‚å¤´çš„ä¸åŒå€¼ç¼“å­˜ä¸åŒç‰ˆæœ¬çš„èµ„æºâ€</li>
<li>ç¤ºä¾‹ï¼š<code>Vary: Accept-Encoding, Accept-Language</code>ï¼ˆæ ¹æ®å‹ç¼©æ–¹å¼å’Œè¯­è¨€ç¼“å­˜ä¸åŒç‰ˆæœ¬ï¼‰</li>
</ul>
</li>
</ul>
<ol start="3">
<li><code>Retry-After</code></li>
</ol>
<ul>
<li>
<ul>
<li>ä½œç”¨ï¼šé…åˆ 503ï¼ˆæœåŠ¡ä¸å¯ç”¨ï¼‰çŠ¶æ€ç ï¼Œå‘ŠçŸ¥å®¢æˆ·ç«¯å¤šä¹…åé‡è¯•è¯·æ±‚</li>
<li>ç¤ºä¾‹ï¼š<code>Retry-After: 3600</code>ï¼ˆ1 å°æ—¶åé‡è¯•ï¼‰</li>
</ul>
</li>
</ul>
<h2 data-id="heading-10">å››ã€å“åº”å¤´ä¸è¯·æ±‚å¤´çš„ååŒæ¡ˆä¾‹</h2>
<ol>
<li>ç¼“å­˜äº¤äº’å®Œæ•´æµç¨‹ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>è¯·æ±‚ï¼š<code>If-None-Match: "abc123"</code>Â +Â <code>If-Modified-Since: ...</code></li>
<li>å“åº”ï¼šè‹¥èµ„æºæœªå˜ â†’Â <code>304 Not Modified</code>ï¼ˆæ— å“åº”ä½“ï¼‰ï¼›è‹¥å·²å˜ â†’Â <code>200 OK</code>Â +Â <code>ETag: "def456"</code>Â + æ–°èµ„æº</li>
</ul>
</li>
</ul>
<ol start="2">
<li>è·¨åŸŸè¯·æ±‚å®Œæ•´äº¤äº’ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>é¢„æ£€è¯·æ±‚ï¼ˆOPTIONSï¼‰ï¼šå®¢æˆ·ç«¯å‘é€<code>Origin</code>Â +Â <code>Access-Control-Request-Method</code></li>
<li>é¢„æ£€å“åº”ï¼šæœåŠ¡å™¨è¿”å›<code>Access-Control-Allow-Origin</code>Â +Â <code>Access-Control-Allow-Methods</code></li>
<li>å®é™…è¯·æ±‚ï¼šå®¢æˆ·ç«¯å‘é€ä¸šåŠ¡æ•°æ®ï¼ŒæœåŠ¡å™¨è¿”å›<code>Access-Control-Allow-Origin</code>Â + ä¸šåŠ¡å“åº”</li>
</ul>
</li>
</ul>
<ol start="3">
<li>æ–‡ä»¶ä¸‹è½½æµç¨‹ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>è¯·æ±‚ï¼š<code>GET /files/report.pdf</code></li>
<li>å“åº”ï¼š<code>Content-Type: application/pdf</code>Â +Â <code>Content-Disposition: attachment; filename="report.pdf"</code></li>
</ul>
</li>
</ul>
<h2 data-id="heading-11">äº”ã€å‰ç«¯å¼€å‘ä¸­çš„å“åº”å¤´å®è·µä¸è°ƒè¯•</h2>
<ol>
<li>å¦‚ä½•æŸ¥çœ‹å“åº”å¤´ï¼Ÿ</li>
</ol>
<ul>
<li>
<ul>
<li>æµè§ˆå™¨å¼€å‘è€…å·¥å…·â†’Network é¢æ¿â†’é€‰ä¸­è¯·æ±‚â†’Headersâ†’Response Headers</li>
</ul>
</li>
</ul>
<ol start="2">
<li>å“åº”å¤´ç›¸å…³çš„å¸¸è§é”™è¯¯åŠæ’æŸ¥ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>CORS é”™è¯¯ï¼šæ£€æŸ¥<code>Access-Control-Allow-Origin</code>æ˜¯å¦ä¸è¯·æ±‚<code>Origin</code>åŒ¹é…</li>
<li>ç¼“å­˜ä¸ç”Ÿæ•ˆï¼šæ£€æŸ¥<code>Cache-Control</code>æ˜¯å¦æ­£ç¡®è®¾ç½®ï¼ˆå¦‚æ˜¯å¦è¯¯è®¾<code>no-store</code>ï¼‰</li>
<li>æ–‡ä»¶ä¸‹è½½å¤±è´¥ï¼šç¡®è®¤<code>Content-Type</code>ä¸æ–‡ä»¶ç±»å‹ä¸€è‡´ï¼Œ<code>Content-Disposition</code>æ˜¯å¦åŒ…å«<code>attachment</code></li>
</ul>
</li>
</ul>
<ol start="3">
<li>æ— æ³•ç›´æ¥ä¿®æ”¹å“åº”å¤´ï¼ˆå‰ç«¯é™åˆ¶ï¼‰ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>å“åº”å¤´ç”±æœåŠ¡å™¨æ§åˆ¶ï¼Œå‰ç«¯åªèƒ½é€šè¿‡è¯·æ±‚å¤´é—´æ¥å½±å“ï¼ˆå¦‚<code>Accept-Encoding</code>å½±å“<code>Content-Encoding</code>ï¼‰</li>
<li>è‹¥éœ€è‡ªå®šä¹‰å“åº”å¤´é€»è¾‘ï¼Œéœ€ä¸åç«¯åä½œé…ç½®</li>
</ul>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue.js ä¸­å®ç°å±€éƒ¨å½©æ¡ConfettiEffectåŠ¨æ•ˆï¼šé‡‡ç”¨canvas-confettiåº“]]></title>    <link>https://juejin.cn/post/7575457788665298996</link>    <guid>https://juejin.cn/post/7575457788665298996</guid>    <pubDate>2025-11-24T07:02:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575457788665298996" data-draft-id="7575457788665102388" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue.js ä¸­å®ç°å±€éƒ¨å½©æ¡ConfettiEffectåŠ¨æ•ˆï¼šé‡‡ç”¨canvas-confettiåº“"/> <meta itemprop="keywords" content="Vue.js,Canvas"/> <meta itemprop="datePublished" content="2025-11-24T07:02:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çˆ±åˆ†äº«çš„é±¼é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/3901536646733133"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue.js ä¸­å®ç°å±€éƒ¨å½©æ¡ConfettiEffectåŠ¨æ•ˆï¼šé‡‡ç”¨canvas-confettiåº“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3901536646733133/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çˆ±åˆ†äº«çš„é±¼é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T07:02:16.000Z" title="Mon Nov 24 2025 07:02:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98d3bf95a92245a08f67aa00a97b388b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5YiG5Lqr55qE6bG86bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764572535&amp;x-signature=ogbCYxbUKYmS3vFWR7w1mKHFT7Y%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0"/>
<p>å®ç°å±€éƒ¨å½©æ¡ConfettiEffectåŠ¨æ•ˆï¼Œå‘ä¸ªåšå®¢è®°å½•ä¸€ä¸‹</p>
<h3 data-id="heading-1">æŠ€æœ¯å®ç°æ–¹æ¡ˆ</h3>
<h4 data-id="heading-2">1. é€‰æ‹©åˆé€‚çš„åŠ¨æ•ˆåº“</h4>
<p>æˆ‘ä»¬é€‰æ‹© <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcatdad%2Fcanvas-confetti" target="_blank" title="https://github.com/catdad/canvas-confetti" ref="nofollow noopener noreferrer">canvas-confetti</a> è¿™ä¸ªè½»é‡çº§åº“ï¼Œå®ƒä¸“é—¨ç”¨äºåˆ›å»ºçº¸å±‘æ•ˆæœï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li>ä½“ç§¯å°ï¼ˆçº¦ 4KBï¼‰</li>
<li>æ•ˆæœä¸°å¯Œä¸”å¯å®šåˆ¶</li>
<li>æ€§èƒ½ä¼˜ç§€</li>
<li>æ”¯æŒå¤šç§å‘å°„æ¨¡å¼</li>
</ul>
<p>å®‰è£…æ–¹å¼ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install canvas-confetti
</code></pre>
<h4 data-id="heading-3">2. åˆ›å»ºåŠ¨æ•ˆç»„ä»¶</h4>
<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªå¯å¤ç”¨çš„åŠ¨æ•ˆç»„ä»¶ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- ConfettiEffect.vue --&gt;
&lt;template&gt;
  &lt;div&gt;&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import confetti from 'canvas-confetti';

export default {
  name: 'ConfettiEffect',
  methods: {
    trigger(duration = 3000, position = null) {
      // å¦‚æœæä¾›äº†ä½ç½®ä¿¡æ¯ï¼Œåˆ™åœ¨è¯¥ä½ç½®é™„è¿‘åˆ›å»ºå±€éƒ¨æ•ˆæœ
      if (position) {
        confetti({
          particleCount: 50,        // å‡å°‘ç²’å­æ•°é‡
          spread: 45,               // ç¼©å°æ‰©æ•£è§’åº¦
          startVelocity: 20,        // è®¾ç½®åˆå§‹é€Ÿåº¦
          decay: 0.95,              // è®¾ç½®è¡°å‡ç‡
          gravity: 1.5,             // è°ƒæ•´é‡åŠ›
          scalar: 0.8,              // ç¼©æ”¾ç²’å­å¤§å°
          ticks: 100,               // å‡å°‘åŠ¨ç”»æŒç»­æ—¶é—´
          origin: {
            x: position.x,          // è®¾ç½®Xè½´èµ·å§‹ä½ç½®
            y: position.y           // è®¾ç½®Yè½´èµ·å§‹ä½ç½®
          }
        });
      } else {
        // é»˜è®¤å…¨å±æ•ˆæœ
        confetti({
          particleCount: 100,
          spread: 70,
          origin: { y: 0.6 }
        });
      }
    }
  }
}
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-4">3. åœ¨è§¦å‘ç‚¹è®¡ç®—ä½ç½®</h4>
<p>åœ¨éœ€è¦è§¦å‘åŠ¨æ•ˆçš„åœ°æ–¹ï¼ˆå¦‚å¤é€‰æ¡†ç‚¹å‡»äº‹ä»¶ï¼‰è®¡ç®—ä½ç½®å¹¶è§¦å‘æ•ˆæœï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="task-item"&gt;
    &lt;input
      type="checkbox"
      :checked="task.status === 'done'"
      @change="toggleTaskStatus(task, $event)"
    /&gt;
    &lt;!-- å…¶ä»–ä»»åŠ¡å†…å®¹ --&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  methods: {
    toggleTaskStatus(task, event) {
      // ä¸šåŠ¡é€»è¾‘å¤„ç†...
      
      // åªåœ¨ä»»åŠ¡å®Œæˆæ—¶è§¦å‘åŠ¨æ•ˆ
      if (task.status === 'done') {
        // è·å–è§¦å‘å…ƒç´ çš„ä½ç½®
        const checkbox = event.target;
        const rect = checkbox.getBoundingClientRect();
        const position = {
          x: (rect.left + rect.width / 2) / window.innerWidth,
          y: (rect.top + rect.height / 2) / window.innerHeight
        };
        
        // è§¦å‘å±€éƒ¨å½©æ¡æ•ˆæœ
        this.$refs.confettiEffect.trigger(3000, position);
      }
    }
  }
}
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-5">4. åœ¨é¦–é¡µç»„ä»¶ä¸­é›†æˆåº”ç”¨</h4>
<p>åœ¨é¦–é¡µç»„ä»¶ä¸­é›†æˆå½©æ¡æ•ˆæœï¼Œä¸»è¦åº”ç”¨äºä»»åŠ¡å®Œæˆåœºæ™¯ï¼š</p>
<pre><code class="hljs language-js" lang="js">&lt;!-- dashboard.<span class="hljs-property">vue</span> --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dashboard"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- å…¶ä»–é¡µé¢å†…å®¹ --&gt;</span>
    
    <span class="hljs-comment">&lt;!-- ä»Šæ—¥ä»»åŠ¡æ¸…å• --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tasks-section"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tasks-list"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
          <span class="hljs-attr">v-for</span>=<span class="hljs-string">"task in todayTasks"</span>
          <span class="hljs-attr">:key</span>=<span class="hljs-string">"task.taskId"</span>
          <span class="hljs-attr">class</span>=<span class="hljs-string">"task-item"</span>
          <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ completed: task.status === 'done' }"</span>
        &gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
            <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span>
            <span class="hljs-attr">:checked</span>=<span class="hljs-string">"task.status === 'done'"</span>
            @<span class="hljs-attr">change</span>=<span class="hljs-string">"toggleTaskStatus(task, $event)"</span>
          /&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"task-name"</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ 'completed-task': task.status === 'done' }"</span>&gt;</span>
            {{ task.taskName }}
          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"task-time"</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"task.planTime"</span>&gt;</span>
            {{ formatTime(task.planTime) }}
          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- æ·»åŠ å½©æ¡æ•ˆæœç»„ä»¶ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ConfettiEffect</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"confettiEffect"</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ConfettiEffect</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/ConfettiEffect.vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Dashboard'</span>,
  <span class="hljs-attr">components</span>: {
    <span class="hljs-title class_">ConfettiEffect</span>
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">toggleTaskStatus</span>(<span class="hljs-params">task, event</span>) {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> newStatus = task.<span class="hljs-property">status</span> === <span class="hljs-string">'done'</span> ? <span class="hljs-string">'todo'</span> : <span class="hljs-string">'done'</span>;
        <span class="hljs-keyword">await</span> tasksApi.<span class="hljs-title function_">updateTask</span>(task.<span class="hljs-property">taskId</span>, {
          <span class="hljs-attr">status</span>: newStatus
        });

        task.<span class="hljs-property">status</span> = newStatus;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">todayFinishedTasks</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">todayTasks</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">status</span> === <span class="hljs-string">'done'</span>);
        
        <span class="hljs-comment">// åªåœ¨ä»»åŠ¡å®Œæˆæ—¶è§¦å‘åŠ¨æ•ˆ</span>
        <span class="hljs-keyword">if</span> (newStatus === <span class="hljs-string">'done'</span>) {
          <span class="hljs-comment">// è®¡ç®—å¤é€‰æ¡†ä½ç½®å¹¶è§¦å‘åŠ¨æ•ˆ</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">triggerConfettiAtPosition</span>(event);
        }
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æ›´æ–°ä»»åŠ¡çŠ¶æ€å¤±è´¥:'</span>, error);
        <span class="hljs-title function_">alert</span>(<span class="hljs-string">'æ›´æ–°ä»»åŠ¡çŠ¶æ€å¤±è´¥'</span>);
      }
    },
    
    <span class="hljs-title function_">triggerConfettiAtPosition</span>(<span class="hljs-params">event</span>) {
      <span class="hljs-comment">// è·å–è§¦å‘å…ƒç´ çš„ä½ç½®</span>
      <span class="hljs-keyword">const</span> checkbox = event.<span class="hljs-property">target</span>;
      <span class="hljs-keyword">const</span> rect = checkbox.<span class="hljs-title function_">getBoundingClientRect</span>();
      <span class="hljs-keyword">const</span> position = {
        <span class="hljs-attr">x</span>: (rect.<span class="hljs-property">left</span> + rect.<span class="hljs-property">width</span> / <span class="hljs-number">2</span>) / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>,
        <span class="hljs-attr">y</span>: (rect.<span class="hljs-property">top</span> + rect.<span class="hljs-property">height</span> / <span class="hljs-number">2</span>) / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>
      };
      
      <span class="hljs-comment">// è§¦å‘å±€éƒ¨å½©æ¡æ•ˆæœ</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">confettiEffect</span>.<span class="hljs-title function_">trigger</span>(<span class="hljs-number">3000</span>, position);
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>

</code></pre>
<h3 data-id="heading-6">å…³é”®ä¼˜åŒ–ç‚¹</h3>
<h4 data-id="heading-7">1. å‚æ•°è°ƒä¼˜</h4>
<p>å®ç°å±€éƒ¨åŒ–æ•ˆæœçš„å…³é”®åœ¨äºå‚æ•°è°ƒæ•´ï¼š</p>
<ul>
<li><strong>particleCount</strong>: ä» 150 å‡å°‘åˆ° 50ï¼Œé¿å…è¿‡åº¦æ¸²æŸ“</li>
<li><strong>spread</strong>: ä» 70 å‡å°‘åˆ° 45ï¼Œé™åˆ¶æ‰©æ•£èŒƒå›´</li>
<li><strong>ticks</strong>: ä» 200 å‡å°‘åˆ° 100ï¼Œç¼©çŸ­åŠ¨ç”»æ—¶é—´</li>
<li><strong>origin</strong>: ä½¿ç”¨è®¡ç®—å¾—åˆ°çš„ç²¾ç¡®ä½ç½®</li>
</ul>
<h4 data-id="heading-8">2. ä½ç½®è®¡ç®—</h4>
<p>é€šè¿‡ <code>getBoundingClientRect()</code> è·å–å…ƒç´ ç›¸å¯¹äºè§†çª—çš„ä½ç½®ï¼Œç„¶åè½¬æ¢ä¸º canvas-confetti æ‰€éœ€çš„æ¯”ä¾‹åæ ‡ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> position = {
  <span class="hljs-attr">x</span>: (rect.<span class="hljs-property">left</span> + rect.<span class="hljs-property">width</span> / <span class="hljs-number">2</span>) / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>,
  <span class="hljs-attr">y</span>: (rect.<span class="hljs-property">top</span> + rect.<span class="hljs-property">height</span> / <span class="hljs-number">2</span>) / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>
};
</code></pre>
<h4 data-id="heading-9">3. æ¡ä»¶è§¦å‘</h4>
<p>åªåœ¨ç‰¹å®šçŠ¶æ€è½¬æ¢æ—¶è§¦å‘æ•ˆæœï¼ˆå¦‚æœªå®Œæˆ â†’ å®Œæˆï¼‰ï¼Œé¿å…åœ¨é€†å‘æ“ä½œæ—¶è¯¯è§¦å‘ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (newStatus === <span class="hljs-string">'done'</span>) {
  <span class="hljs-comment">// è§¦å‘åŠ¨æ•ˆ</span>
}
</code></pre>
<h3 data-id="heading-10">å®é™…æ•ˆæœ</h3>
<p>é€šè¿‡ä»¥ä¸Šå®ç°ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—ä»¥ä¸‹æ•ˆæœï¼š</p>
<ol>
<li><strong>ç²¾å‡†åé¦ˆ</strong>ï¼šå½©æ¡åªåœ¨ç”¨æˆ·ç‚¹å‡»çš„å¤é€‰æ¡†é™„è¿‘å‡ºç°</li>
<li><strong>è§†è§‰èˆ’é€‚</strong>ï¼šä¸ä¼šé®æŒ¡å…¶ä»–ç•Œé¢å…ƒç´ </li>
<li><strong>æ€§èƒ½è‰¯å¥½</strong>ï¼šå‡å°‘äº†ç²’å­æ•°é‡å’ŒåŠ¨ç”»æ—¶é—´</li>
<li><strong>ä½“éªŒæµç•…</strong>ï¼šç”¨æˆ·èƒ½æ¸…æ™°æ„ŸçŸ¥åˆ°è‡ªå·±çš„æ“ä½œç»“æœ</li>
</ol>
<h3 data-id="heading-11">æ€»ç»“</h3>
<p>å±€éƒ¨åŒ–çš„åŠ¨æ•ˆè®¾è®¡æ˜¯æå‡ç”¨æˆ·ä½“éªŒçš„é‡è¦ç»†èŠ‚ã€‚é€šè¿‡åˆç†ä½¿ç”¨ canvas-confetti åº“å’Œç²¾ç¡®çš„ä½ç½®è®¡ç®—ï¼Œæˆ‘ä»¬èƒ½å¤Ÿåœ¨ Vue.js é¡¹ç›®ä¸­è½»æ¾å®ç°è¿™ç§æ•ˆæœã€‚è¿™ç§è®¾è®¡ä¸ä»…è®©ç•Œé¢æ›´åŠ ç”ŸåŠ¨æœ‰è¶£ï¼Œè¿˜èƒ½æä¾›æ¸…æ™°çš„æ“ä½œåé¦ˆï¼Œæå‡ç”¨æˆ·çš„æ“ä½œä¿¡å¿ƒå’Œæ»¡æ„åº¦ã€‚</p>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ç§å±€éƒ¨åŠ¨æ•ˆåº”ç”¨åˆ°å„ç§ç”¨æˆ·äº¤äº’åœºæ™¯ä¸­ï¼Œå¦‚æŒ‰é’®ç‚¹å‡»ã€è¡¨å•æäº¤ã€ä»»åŠ¡å®Œæˆç­‰ï¼Œä¸ºç”¨æˆ·æä¾›æ›´åŠ ç²¾è‡´å’Œè´´å¿ƒçš„äº¤äº’ä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Webpack æ„å»ºæµç¨‹å…¨è§£ï¼šä»æºç åˆ°äº§ç‰©çš„â€œå¥‡å¹»æ¼‚æµâ€]]></title>    <link>https://juejin.cn/post/7575910298282344483</link>    <guid>https://juejin.cn/post/7575910298282344483</guid>    <pubDate>2025-11-24T07:12:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575910298282344483" data-draft-id="7575457788664709172" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Webpack æ„å»ºæµç¨‹å…¨è§£ï¼šä»æºç åˆ°äº§ç‰©çš„â€œå¥‡å¹»æ¼‚æµâ€"/> <meta itemprop="keywords" content="å‰ç«¯,Webpack"/> <meta itemprop="datePublished" content="2025-11-24T07:12:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°‘å¿"/> <meta itemprop="url" content="https://juejin.cn/user/26044010879709"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Webpack æ„å»ºæµç¨‹å…¨è§£ï¼šä»æºç åˆ°äº§ç‰©çš„â€œå¥‡å¹»æ¼‚æµâ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/26044010879709/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°‘å¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T07:12:59.000Z" title="Mon Nov 24 2025 07:12:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¾ˆå¤šå‰ç«¯å¼€å‘è€…æ¯å¤©éƒ½åœ¨ç”¨ Webpackï¼Œå¯¹ç€ <code>webpack.config.js</code> å¤åˆ¶ç²˜è´´ã€‚ä½†ä½ æ˜¯å¦æƒ³è¿‡ï¼Œå½“ä½ æŒ‰ä¸‹ <code>npm run build</code> çš„é‚£ä¸€åˆ»ï¼ŒWebpack å†…éƒ¨åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>
<p>ç†è§£ Webpack çš„æ„å»ºæµç¨‹ï¼Œä¸ä»…ä»…æ˜¯ä¸ºäº†é€šè¿‡é¢è¯•ï¼ˆè™½ç„¶è¿™æ˜¯é«˜é¢‘è€ƒç‚¹ï¼‰ï¼Œæ›´æ˜¯ä¸ºäº†è®©ä½ åœ¨é‡åˆ°â€œæ„å»ºå¤±è´¥â€ã€â€œæ‰“åŒ…å¤ªæ…¢â€æˆ–â€œéœ€è¦å†™æ’ä»¶â€æ—¶ï¼Œèƒ½å¤Ÿä¸Šå¸è§†è§’èˆ¬åœ°å®šä½é—®é¢˜ã€‚</p>
<p>å¦‚æœæŠŠ Webpack æ¯”ä½œä¸€ä¸ª<strong>è¶…çº§é¢åŒ…å·¥å‚</strong>ï¼Œé‚£ä¹ˆæ„å»ºæµç¨‹å°±æ˜¯ä»é‡‡è´­é¢ç²‰ï¼ˆæºä»£ç ï¼‰åˆ°åŒ…è£…å‡ºåº“ï¼ˆæœ€ç»ˆ Bundleï¼‰çš„å…¨è¿‡ç¨‹ã€‚æˆ‘ä»¬å°†è¿™ä¸ªè¿‡ç¨‹æ‹†è§£ä¸ºä¸‰ä¸ªæ ¸å¿ƒé˜¶æ®µã€‚</p>
<hr/>
<h2 data-id="heading-0">ç¬¬ä¸€é˜¶æ®µï¼šåˆå§‹åŒ– (Initialization) â€”â€” å·¥å‚å¯åŠ¨</h2>
<p>è¿™é˜¶æ®µä¸»è¦æ˜¯åœ¨åšå‡†å¤‡å·¥ä½œï¼Œè¯»å–é…ç½®ï¼ŒæŠŠæœºå™¨å¼€èµ·æ¥ã€‚</p>
<h3 data-id="heading-1">1. åˆå§‹åŒ–å‚æ•°</h3>
<p>Webpack çš„ç¬¬ä¸€æ­¥æ˜¯â€œé˜…è¯»è¯´æ˜ä¹¦â€ã€‚å®ƒä¼šå°†é…ç½®æ–‡ä»¶ (<code>webpack.config.js</code>) ä¸­çš„é…ç½®ä¸ Shell å‘½ä»¤è¡Œå‚æ•°ï¼ˆå¦‚ <code>--mode production</code>ï¼‰è¿›è¡Œåˆå¹¶ï¼Œå¾—åˆ°æœ€ç»ˆçš„é…ç½®å¯¹è±¡ã€‚</p>
<h3 data-id="heading-2">2. å®ä¾‹åŒ– Compiler</h3>
<p>ç”¨ä¸Šä¸€æ­¥å¾—åˆ°çš„å‚æ•°ï¼Œåˆå§‹åŒ–ä¸€ä¸ª <code>Compiler</code> å¯¹è±¡ã€‚</p>
<ul>
<li><strong>åœ°ä½</strong>ï¼šå®ƒæ˜¯ Webpack çš„â€œå‚é•¿â€ï¼Œå…¨å±€å”¯ä¸€ã€‚</li>
<li><strong>ä½œç”¨</strong>ï¼šå®ƒä¿å­˜äº†å®Œæ•´çš„é…ç½®ç¯å¢ƒï¼Œè´Ÿè´£æŒ‡æŒ¥æ¥ä¸‹æ¥çš„æ‰€æœ‰ç”Ÿäº§å·¥ä½œã€‚</li>
</ul>
<h3 data-id="heading-3">3. åŠ è½½æ’ä»¶ (Load Plugins)</h3>
<p>Webpack éå†é…ç½®ä¸­çš„ <code>plugins</code> æ•°ç»„ï¼Œè°ƒç”¨æ¯ä¸ªæ’ä»¶çš„ <code>apply</code> æ–¹æ³•ã€‚</p>
<ul>
<li><strong>å…³é”®åŠ¨ä½œ</strong>ï¼šæ’ä»¶ä»¬æ­¤æ—¶å¼€å§‹åœ¨ Compiler çš„å„ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­ï¼ˆHooksï¼‰ä¸Šè¿›è¡Œ<strong>æ³¨å†Œç›‘å¬</strong>ã€‚è¿™å°±å¥½æ¯”å·¥å‚é‡Œçš„å„ç§ä¼ æ„Ÿå™¨å’Œæœºæ¢°è‡‚å·²ç»å°±ä½ï¼Œå‡†å¤‡åœ¨ç‰¹å®šçš„æ—¶é—´ç‚¹å¹²æ´»ã€‚</li>
</ul>
<h3 data-id="heading-4">4. ç¡®å®šå…¥å£</h3>
<p>æ ¹æ®é…ç½®ä¸­çš„ <code>entry</code>ï¼Œæ‰¾å‡ºæ‰€æœ‰çš„å…¥å£æ–‡ä»¶ï¼Œå‡†å¤‡å¼€å§‹çœŸæ­£çš„æ„å»ºã€‚</p>
<blockquote>
<p><strong>æ¶‰åŠçš„æ ¸å¿ƒ Hooks</strong>: <code>entryOption</code>, <code>afterPlugins</code>, <code>run</code></p>
</blockquote>
<hr/>
<h2 data-id="heading-5">ç¬¬äºŒé˜¶æ®µï¼šæ„å»ºé˜¶æ®µ (Make) â€”â€” åŸæ–™åŠ å·¥</h2>
<p>è¿™æ˜¯æœ€æ ¸å¿ƒã€æœ€è€—æ—¶çš„é˜¶æ®µã€‚Webpack ä»å…¥å£æ–‡ä»¶å‡ºå‘ï¼Œåƒçˆ¬è™«ä¸€æ ·è§£ææ•´ä¸ªé¡¹ç›®ã€‚</p>
<h3 data-id="heading-6">1. ç¼–è¯‘æ¨¡å— (Compile)</h3>
<p>ä» <code>entry</code> æ–‡ä»¶å¼€å§‹ï¼ŒWebpack ä¼šåˆ›å»ºä¸€ä¸ª Module å¯¹è±¡ã€‚</p>
<h3 data-id="heading-7">2. Loader è½¬è¯‘</h3>
<p><strong>â€œç¿»è¯‘å®˜â€è¿›åœº</strong>ã€‚Webpack åŸç”Ÿåªè®¤è¯† JS å’Œ JSONã€‚å¦‚æœé‡åˆ° <code>.css</code>, <code>.vue</code>, <code>.ts</code> ç­‰æ–‡ä»¶ï¼Œå®ƒä¼šå»é…ç½®é‡Œæ‰¾å¯¹åº”çš„ <code>module.rules</code>ã€‚</p>
<ul>
<li><strong>æ‰§è¡Œé¡ºåº</strong>ï¼šLoader é€šå¸¸æ˜¯ä»å³å‘å·¦ï¼ˆæˆ–ä»ä¸‹å‘ä¸Šï¼‰æ‰§è¡Œçš„ã€‚</li>
<li><strong>ç»“æœ</strong>ï¼šæ‰€æœ‰é JS æ–‡ä»¶æœ€ç»ˆéƒ½è¢«â€œç¿»è¯‘â€æˆäº†æ ‡å‡†çš„ JS å†…å®¹ã€‚</li>
</ul>
<h3 data-id="heading-8">3. è§£æä»£ç  (Parse &amp; AST)</h3>
<p>Loader ç¿»è¯‘å®Œåï¼ŒWebpack ä½¿ç”¨è§£æå™¨ï¼ˆé€šå¸¸æ˜¯ Acornï¼‰å°† JS ä»£ç è½¬æ¢æˆ <strong>AST (æŠ½è±¡è¯­æ³•æ ‘)</strong> ã€‚</p>
<h3 data-id="heading-9">4. åˆ†æä¾èµ– (Dependency Graph)</h3>
<p>Webpack éå† ASTï¼Œå¯»æ‰¾ <code>import</code>ã€<code>require</code> ç­‰è¯­å¥ã€‚ä¸€æ—¦å‘ç°ä¾èµ–ï¼Œå°±å°†å…¶æ”¶é›†èµ·æ¥ï¼ŒåŠ å…¥åˆ°å¾…å¤„ç†åˆ—è¡¨ä¸­ã€‚</p>
<h3 data-id="heading-10">5. é€’å½’ç¼–è¯‘</h3>
<p>å¯¹ä¸Šä¸€æ­¥æ‰¾åˆ°çš„æ¯ä¸€ä¸ªä¾èµ–æ¨¡å—ï¼Œ<strong>é‡å¤æ‰§è¡Œ</strong>ä¸Šè¿°çš„ "åˆ›å»º -&gt; Loaderè½¬è¯‘ -&gt; ASTè§£æ -&gt; åˆ†æä¾èµ–" è¿‡ç¨‹ã€‚ è¿™ä¸ªè¿‡ç¨‹ä¸€ç›´æŒç»­åˆ°æ‰€æœ‰æ¨¡å—éƒ½å¤„ç†å®Œæ¯•ã€‚</p>
<h3 data-id="heading-11">6. å®Œæˆæ¨¡å—å›¾</h3>
<p>é€’å½’ç»“æŸåï¼ŒWebpack å†…å­˜ä¸­å°±å½¢æˆäº†ä¸€æ£µå®Œæ•´çš„<strong>ä¾èµ–æ ‘ï¼ˆDependency Graphï¼‰</strong> ã€‚æ­¤æ—¶ï¼ŒWebpack æ¸…æ¥šåœ°çŸ¥é“é¡¹ç›®ä¸­å“ªä¸ªæ–‡ä»¶ä¾èµ–äº†å“ªä¸ªæ–‡ä»¶ã€‚</p>
<blockquote>
<p><strong>æ¶‰åŠçš„æ ¸å¿ƒ Hooks</strong>: <code>make</code>, <code>buildModule</code>, <code>normalModuleLoader</code>, <code>succeedModule</code></p>
</blockquote>
<hr/>
<h2 data-id="heading-12">ç¬¬ä¸‰é˜¶æ®µï¼šç”Ÿæˆé˜¶æ®µ (Seal &amp; Emit) â€”â€” è£…ç®±æ‰“åŒ…</h2>
<p>åŸæ–™éƒ½å¤„ç†å¥½äº†ï¼Œç°åœ¨çš„ä»»åŠ¡æ˜¯å°†é›¶æ•£çš„æ¨¡å—ç»„è£…æˆæœ€ç»ˆçš„è¾“å‡ºæ–‡ä»¶ã€‚</p>
<h3 data-id="heading-13">1. å°è£… (Seal)</h3>
<p><code>compilation.seal()</code> è¢«è°ƒç”¨ã€‚æ­¤æ—¶ï¼ŒWebpack åœæ­¢æ¥æ”¶æ–°çš„æ¨¡å—ã€‚</p>
<ul>
<li><strong>ä¼˜åŒ–æ—¶æœº</strong>ï¼šTree Shakingï¼ˆå»é™¤æ— ç”¨ä»£ç ï¼‰ç­‰ä¼˜åŒ–æ“ä½œé€šå¸¸å°±åœ¨è¿™é‡Œè¿›è¡Œåˆ†æã€‚</li>
</ul>
<h3 data-id="heading-14">2. ç»„è£… Chunk (Chunking)</h3>
<p>æ ¹æ®å…¥å£ï¼ˆEntryï¼‰å’Œä»£ç åˆ†å‰²ï¼ˆSplitChunksï¼‰è§„åˆ™ï¼ŒWebpack å°†å¤šä¸ª Module åˆå¹¶æˆä¸€ä¸ªæˆ–å¤šä¸ª <strong>Chunkï¼ˆä»£ç å—ï¼‰</strong> ã€‚</p>
<ul>
<li><em>ä¾‹å­ï¼šä½ çš„ <code>main.js</code> å¼•ç”¨äº† <code>React</code>ã€‚React å¯èƒ½ä¼šè¢«åˆ†åŒ…æˆ <code>vendors~main.chunk.js</code>ã€‚</em></li>
</ul>
<h3 data-id="heading-15">3. ç”Ÿæˆèµ„æº (Assets)</h3>
<p>Webpack æ ¹æ® Chunk çš„å†…å®¹ï¼Œå¥—ç”¨æ¨¡æ¿ï¼ˆTemplateï¼‰ï¼Œç”Ÿæˆæœ€ç»ˆçš„ä»£ç å­—ç¬¦ä¸²ã€‚ æ­¤æ—¶ï¼Œèµ„æºä¿å­˜åœ¨<strong>å†…å­˜</strong>çš„ <code>compilation.assets</code> å¯¹è±¡ä¸­ï¼Œå½¢å¼æ˜¯ Key-Value ç»“æ„ã€‚</p>
<h3 data-id="heading-16">4. è¾“å‡ºæ–‡ä»¶ (Emit)</h3>
<p>è¿™æ˜¯ä¿®æ”¹æ–‡ä»¶çš„<strong>æœ€åæœºä¼š</strong>ï¼ˆå¾ˆå¤šæ’ä»¶ä¼šåœ¨ <code>emit</code> é’©å­ä¿®æ”¹æœ€ç»ˆäº§ç‰©ï¼‰ã€‚ Webpack æ ¹æ®é…ç½®çš„ <code>output.path</code> å’Œ <code>filename</code>ï¼Œå°†å†…å­˜ä¸­çš„ assets çœŸæ­£å†™å…¥åˆ°<strong>æ–‡ä»¶ç³»ç»Ÿï¼ˆç£ç›˜ï¼‰</strong> ã€‚</p>
<blockquote>
<p><strong>æ¶‰åŠçš„æ ¸å¿ƒ Hooks</strong>: <code>seal</code>, <code>optimizeChunks</code>, <code>emit</code>, <code>done</code></p>
</blockquote>
<hr/>
<h2 data-id="heading-17">æ€»ç»“ï¼šæµç¨‹é€ŸæŸ¥å›¾</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/823d4ae7bbab4f2e92d7d17891d77f10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCR5Y2_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764573179&amp;x-signature=UK5tTg9dXWAHtcMSPMGJivfUGfs%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-18">é™„ï¼šé«˜é¢‘é¢è¯•é¢˜é”¦å›Š</h2>
<p>çœ‹å®Œæµç¨‹ï¼Œè¿™ä¸‰ä¸ªé—®é¢˜ä½ åº”è¯¥èƒ½ç§’ç­”ï¼š</p>
<p><strong>Q1: Loader å’Œ Plugin çš„æœ¬è´¨åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<ul>
<li><strong>Loader</strong>ï¼šå·¥ä½œåœ¨â€œæ„å»ºé˜¶æ®µâ€ï¼ˆé˜¶æ®µäºŒï¼‰ï¼Œæœ¬è´¨æ˜¯<strong>è½¬æ¢å™¨</strong>ï¼ˆå¦‚æŠŠ Less è½¬ CSSï¼‰ï¼Œä¸“æ³¨äºæ–‡ä»¶å†…å®¹çš„è½¬æ¢ã€‚</li>
<li><strong>Plugin</strong>ï¼šè´¯ç©¿æ•´ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œæœ¬è´¨æ˜¯<strong>æ‰©å±•å™¨</strong>ã€‚å®ƒç›‘å¬ Webpack å¹¿æ’­å‡ºçš„å„ç§äº‹ä»¶ï¼ˆHooksï¼‰ï¼Œåœ¨åˆé€‚çš„æ—¶æœºæ”¹å˜è¾“å‡ºç»“æœï¼ˆå¦‚å‹ç¼©ä»£ç ã€æ³¨å…¥ç¯å¢ƒå˜é‡ï¼‰ã€‚</li>
</ul>
<p><strong>Q2: Tree Shaking å‘ç”Ÿåœ¨ä»€ä¹ˆæ—¶å€™ï¼Ÿ</strong></p>
<ul>
<li>å‘ç”Ÿåœ¨ <strong>Seal (å°è£…)</strong> é˜¶æ®µã€‚Webpack ä¾é  ES6 Module çš„é™æ€ç»“æ„ï¼Œåˆ†æå‡ºå“ªäº› export æ²¡æœ‰è¢«å¼•ç”¨ï¼Œç„¶ååœ¨ç”Ÿæˆ Chunk æ—¶å°†æ­»ä»£ç å‰”é™¤ã€‚</li>
</ul>
<p><strong>Q3: Babel åœ¨å“ªé‡Œå·¥ä½œï¼Ÿ</strong></p>
<ul>
<li>Babel æ˜¯ä½œä¸ºä¸€ä¸ª <strong>Loader</strong> å·¥ä½œçš„ã€‚å®ƒåœ¨ AST è§£æä¹‹å‰ï¼Œå°† ES6+ æºç è½¬è¯‘ä¸º Webpack èƒ½æ›´å¥½ç†è§£ï¼ˆæˆ–å…¼å®¹æ€§æ›´å¥½ï¼‰çš„ ES5 ä»£ç ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript Array map() æ–¹æ³•è¯¦è§£]]></title>    <link>https://juejin.cn/post/7576175307351654415</link>    <guid>https://juejin.cn/post/7576175307351654415</guid>    <pubDate>2025-11-24T07:18:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576175307351654415" data-draft-id="7575810396202614818" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript Array map() æ–¹æ³•è¯¦è§£"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-11-24T07:18:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ–°æ™¨437"/> <meta itemprop="url" content="https://juejin.cn/user/3957868231143133"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript Array map() æ–¹æ³•è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3957868231143133/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ–°æ™¨437
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T07:18:49.000Z" title="Mon Nov 24 2025 07:18:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">JavaScript Array map() æ–¹æ³•è¯¦è§£</h2>
<p><code>map()</code> æ˜¯ JavaScript æ•°ç»„æ–¹æ³•ä¸­éå¸¸å¼ºå¤§ä¸”å¸¸ç”¨çš„æ–¹æ³•ä¹‹ä¸€ï¼Œå®ƒå…è®¸æˆ‘ä»¬éå†æ•°ç»„å¹¶å¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡ŒæŒ‡å®šçš„æ“ä½œï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚</p>
<h3 data-id="heading-1">åŸºæœ¬è¯­æ³•</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> newArray = array.<span class="hljs-title function_">map</span>(<span class="hljs-title function_">callback</span>(currentValue[, index[, array]])[, thisArg])
</code></pre>
<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>callback</code>ï¼šå¯¹æ¯ä¸ªæ•°ç»„å…ƒç´ æ‰§è¡Œçš„å‡½æ•°
<ul>
<li><code>currentValue</code>ï¼šå½“å‰æ­£åœ¨å¤„ç†çš„å…ƒç´ </li>
<li><code>index</code>ï¼ˆå¯é€‰ï¼‰ï¼šå½“å‰å…ƒç´ çš„ç´¢å¼•</li>
<li><code>array</code>ï¼ˆå¯é€‰ï¼‰ï¼šè°ƒç”¨ map çš„æ•°ç»„æœ¬èº«</li>
</ul>
</li>
<li><code>thisArg</code>ï¼ˆå¯é€‰ï¼‰ï¼šæ‰§è¡Œ callback æ—¶ä½¿ç”¨çš„ this å€¼</li>
</ul>
<h3 data-id="heading-2">åŸºæœ¬ç”¨æ³•ç¤ºä¾‹</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¤ºä¾‹1ï¼šå°†æ•°å­—æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä¹˜ä»¥2</span>
<span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];
<span class="hljs-keyword">const</span> doubled = numbers.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> num * <span class="hljs-number">2</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(doubled); <span class="hljs-comment">// [2, 4, 6, 8, 10]</span>

<span class="hljs-comment">// ç¤ºä¾‹2ï¼šå°†å­—ç¬¦ä¸²æ•°ç»„è½¬æ¢ä¸ºå¤§å†™</span>
<span class="hljs-keyword">const</span> fruits = [<span class="hljs-string">'apple'</span>, <span class="hljs-string">'banana'</span>, <span class="hljs-string">'orange'</span>];
<span class="hljs-keyword">const</span> upperCaseFruits = fruits.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">fruit</span> =&gt;</span> fruit.<span class="hljs-title function_">toUpperCase</span>());
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(upperCaseFruits); <span class="hljs-comment">// ['APPLE', 'BANANA', 'ORANGE']</span>
</code></pre>
<h3 data-id="heading-3">å®é™…åº”ç”¨åœºæ™¯</h3>
<h4 data-id="heading-4">1. å¤„ç†å¯¹è±¡æ•°ç»„</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> users = [
  { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Bob'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">30</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Charlie'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">35</span> }
];

<span class="hljs-comment">// æå–ç”¨æˆ·åæ•°ç»„</span>
<span class="hljs-keyword">const</span> userNames = users.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> user.<span class="hljs-property">name</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(userNames); <span class="hljs-comment">// ['Alice', 'Bob', 'Charlie']</span>

<span class="hljs-comment">// åˆ›å»ºæ–°çš„å¯¹è±¡æ•°ç»„</span>
<span class="hljs-keyword">const</span> userProfiles = users.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> ({
  <span class="hljs-attr">userId</span>: user.<span class="hljs-property">id</span>,
  <span class="hljs-attr">fullName</span>: user.<span class="hljs-property">name</span>,
  <span class="hljs-attr">isAdult</span>: user.<span class="hljs-property">age</span> &gt;= <span class="hljs-number">18</span>
}));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(userProfiles);
<span class="hljs-comment">// [</span>
<span class="hljs-comment">//   { userId: 1, fullName: 'Alice', isAdult: true },</span>
<span class="hljs-comment">//   { userId: 2, fullName: 'Bob', isAdult: true },</span>
<span class="hljs-comment">//   { userId: 3, fullName: 'Charlie', isAdult: true }</span>
<span class="hljs-comment">// ]</span>
</code></pre>
<h4 data-id="heading-5">2. å¤„ç† DOM å…ƒç´ </h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å‡è®¾æœ‰ä»¥ä¸‹ HTML ç»“æ„</span>
<span class="hljs-comment">// &lt;div class="item" data-price="10"&gt;Product A&lt;/div&gt;</span>
<span class="hljs-comment">// &lt;div class="item" data-price="15"&gt;Product B&lt;/div&gt;</span>
<span class="hljs-comment">// &lt;div class="item" data-price="20"&gt;Product C&lt;/div&gt;</span>

<span class="hljs-keyword">const</span> items = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.item'</span>);
<span class="hljs-keyword">const</span> prices = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(items).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> ({
  <span class="hljs-attr">name</span>: item.<span class="hljs-property">textContent</span>,
  <span class="hljs-attr">price</span>: <span class="hljs-built_in">parseFloat</span>(item.<span class="hljs-property">dataset</span>.<span class="hljs-property">price</span>)
}));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(prices);
<span class="hljs-comment">// [</span>
<span class="hljs-comment">//   { name: 'Product A', price: 10 },</span>
<span class="hljs-comment">//   { name: 'Product B', price: 15 },</span>
<span class="hljs-comment">//   { name: 'Product C', price: 20 }</span>
<span class="hljs-comment">// ]</span>
</code></pre>
<h4 data-id="heading-6">3. æ•°æ®è½¬æ¢å’Œæ ¼å¼åŒ–</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> dates = [<span class="hljs-string">'2023-01-15'</span>, <span class="hljs-string">'2023-02-20'</span>, <span class="hljs-string">'2023-03-25'</span>];
<span class="hljs-keyword">const</span> formattedDates = dates.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">date</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> [year, month, day] = date.<span class="hljs-title function_">split</span>(<span class="hljs-string">'-'</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${day}</span>/<span class="hljs-subst">${month}</span>/<span class="hljs-subst">${year}</span>`</span>;
});
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(formattedDates); <span class="hljs-comment">// ['15/01/2023', '20/02/2023', '25/03/2023']</span>

<span class="hljs-comment">// å¤„ç†æ•°å­—æ ¼å¼åŒ–</span>
<span class="hljs-keyword">const</span> prices = [<span class="hljs-number">19.99</span>, <span class="hljs-number">29.5</span>, <span class="hljs-number">45.75</span>];
<span class="hljs-keyword">const</span> formattedPrices = prices.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">price</span> =&gt;</span> <span class="hljs-string">`$<span class="hljs-subst">${price.toFixed(<span class="hljs-number">2</span>)}</span>`</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(formattedPrices); <span class="hljs-comment">// ['$19.99', '$29.50', '$45.75']</span>
</code></pre>
<h3 data-id="heading-7">ä½¿ç”¨ç´¢å¼•å‚æ•°</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> items = [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>, <span class="hljs-string">'d'</span>];
<span class="hljs-keyword">const</span> indexedItems = items.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> <span class="hljs-string">`<span class="hljs-subst">${index + <span class="hljs-number">1</span>}</span>. <span class="hljs-subst">${item}</span>`</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(indexedItems); <span class="hljs-comment">// ['1. a', '2. b', '3. c', '4. d']</span>
</code></pre>
<h3 data-id="heading-8">ä½¿ç”¨ thisArg å‚æ•°</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> multiplier = {
  <span class="hljs-attr">factor</span>: <span class="hljs-number">3</span>,
  <span class="hljs-attr">multiply</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">number</span>) {
    <span class="hljs-keyword">return</span> number * <span class="hljs-variable language_">this</span>.<span class="hljs-property">factor</span>;
  }
};

<span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];
<span class="hljs-keyword">const</span> tripled = numbers.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">num</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">multiply</span>(num);
}, multiplier);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(tripled); <span class="hljs-comment">// [3, 6, 9, 12]</span>
</code></pre>
<h3 data-id="heading-9">é“¾å¼è°ƒç”¨</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>];

<span class="hljs-keyword">const</span> result = numbers
  .<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> num % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>) <span class="hljs-comment">// ç­›é€‰å¶æ•°</span>
  .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> num * <span class="hljs-number">2</span>)          <span class="hljs-comment">// ä¹˜ä»¥2</span>
  .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> num + <span class="hljs-number">10</span>);        <span class="hljs-comment">// åŠ 10</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result); <span class="hljs-comment">// [14, 18, 22, 26, 30]</span>
</code></pre>
<h3 data-id="heading-10">æ³¨æ„äº‹é¡¹</h3>
<ol>
<li><strong>ä¸ä¿®æ”¹åŸæ•°ç»„</strong>ï¼š<code>map()</code> ä¸ä¼šæ”¹å˜åŸæ•°ç»„</li>
<li><strong>è¿”å›æ–°æ•°ç»„</strong>ï¼šæ€»æ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„</li>
<li><strong>è·³è¿‡ç©ºä½</strong>ï¼šå¯¹äºç¨€ç–æ•°ç»„ï¼Œç©ºä½ä¼šè¢«è·³è¿‡</li>
<li><strong>æ€§èƒ½è€ƒè™‘</strong>ï¼šå¯¹äºå¤§å‹æ•°ç»„ï¼Œè€ƒè™‘æ€§èƒ½å½±å“</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŸæ•°ç»„ä¸ä¼šè¢«ä¿®æ”¹</span>
<span class="hljs-keyword">const</span> original = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
<span class="hljs-keyword">const</span> mapped = original.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x * <span class="hljs-number">2</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(original); <span class="hljs-comment">// [1, 2, 3] (ä¸å˜)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(mapped);   <span class="hljs-comment">// [2, 4, 6] (æ–°æ•°ç»„)</span>

<span class="hljs-comment">// å¤„ç†ç¨€ç–æ•°ç»„</span>
<span class="hljs-keyword">const</span> sparseArray = [<span class="hljs-number">1</span>, , <span class="hljs-number">3</span>];
<span class="hljs-keyword">const</span> result = sparseArray.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x * <span class="hljs-number">2</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result); <span class="hljs-comment">// [2, empty, 6]</span>
</code></pre>
<h3 data-id="heading-11">ä¸ forEach çš„åŒºåˆ«</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];

<span class="hljs-comment">// map() è¿”å›æ–°æ•°ç»„</span>
<span class="hljs-keyword">const</span> mapped = numbers.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> num * <span class="hljs-number">2</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(mapped); <span class="hljs-comment">// [2, 4, 6]</span>

<span class="hljs-comment">// forEach() ä¸è¿”å›å€¼ï¼ˆè¿”å› undefinedï¼‰</span>
<span class="hljs-keyword">const</span> forEachResult = numbers.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> num * <span class="hljs-number">2</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(forEachResult); <span class="hljs-comment">// undefined</span>
</code></pre>
<h3 data-id="heading-12">å®é™…é¡¹ç›®ç¤ºä¾‹</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// API æ•°æ®å¤„ç†</span>
<span class="hljs-keyword">const</span> apiResponse = [
  { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'Post 1'</span>, <span class="hljs-attr">body</span>: <span class="hljs-string">'Content 1'</span>, <span class="hljs-attr">userId</span>: <span class="hljs-number">1</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'Post 2'</span>, <span class="hljs-attr">body</span>: <span class="hljs-string">'Content 2'</span>, <span class="hljs-attr">userId</span>: <span class="hljs-number">2</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'Post 3'</span>, <span class="hljs-attr">body</span>: <span class="hljs-string">'Content 3'</span>, <span class="hljs-attr">userId</span>: <span class="hljs-number">1</span> }
];

<span class="hljs-comment">// è½¬æ¢ä¸ºå‰ç«¯éœ€è¦çš„æ ¼å¼</span>
<span class="hljs-keyword">const</span> formattedPosts = apiResponse.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">post</span> =&gt;</span> ({
  <span class="hljs-attr">postId</span>: post.<span class="hljs-property">id</span>,
  <span class="hljs-attr">title</span>: post.<span class="hljs-property">title</span>.<span class="hljs-title function_">toUpperCase</span>(),
  <span class="hljs-attr">content</span>: post.<span class="hljs-property">body</span>,
  <span class="hljs-attr">authorId</span>: post.<span class="hljs-property">userId</span>,
  <span class="hljs-attr">createdAt</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>()
}));

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(formattedPosts);
</code></pre>
<p><code>map()</code> æ–¹æ³•æ˜¯å‡½æ•°å¼ç¼–ç¨‹é£æ ¼çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå®ƒä½¿ä»£ç æ›´åŠ ç®€æ´ã€å¯è¯»ï¼Œå¹¶ä¸”é¿å…äº†å‰¯ä½œç”¨ï¼Œæ˜¯ç°ä»£ JavaScript å¼€å‘ä¸­ä¸å¯æˆ–ç¼ºçš„å·¥å…·ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[webWorker åˆæ­¥ä½“éªŒ]]></title>    <link>https://juejin.cn/post/7575742632334557234</link>    <guid>https://juejin.cn/post/7575742632334557234</guid>    <pubDate>2025-11-24T07:20:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575742632334557234" data-draft-id="7575456858428244014" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="webWorker åˆæ­¥ä½“éªŒ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-11-24T07:20:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Nayana"/> <meta itemprop="url" content="https://juejin.cn/user/1679709498509534"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            webWorker åˆæ­¥ä½“éªŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1679709498509534/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Nayana
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T07:20:59.000Z" title="Mon Nov 24 2025 07:20:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h5 data-id="heading-0">â€ŒwebWorkeræ˜¯ä»€ä¹ˆï¼Ÿ</h5>
<p>Web Workeræ˜¯HTML5å¼•å…¥çš„æµè§ˆå™¨å¤šçº¿ç¨‹æŠ€æœ¯ï¼Œå…è®¸åœ¨ç‹¬ç«‹çº¿ç¨‹ä¸­æ‰§è¡Œåå°ä»»åŠ¡ï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹ä»è€Œæå‡Webåº”ç”¨æ€§èƒ½ã€‚</p>
<h5 data-id="heading-1">ä¸ºä»€ä¹ˆè¦ä½¿ç”¨Web Workï¼Ÿ</h5>
<p>æµè§ˆå™¨æ¸²æŸ“çš„jsçº¿ç¨‹æ˜¯å•çº¿ç¨‹ è¿™æ„å‘³ç€å„å­ä»»åŠ¡çš„æ‰§è¡Œæ˜¯ä¸²è¡Œçš„åœ¨åŒä¸€æ—¶é—´å†…åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ã€‚å½“å¤§é‡è®¡ç®—å¯†é›†å‹/DOMæ“ä½œçš„ä»»åŠ¡å‡ºç°æ—¶é˜»å¡UIã€‚</p>
<h3 data-id="heading-2">åˆä½“éªŒè®°å½•</h3>
<p>åœ¨å®ç°å¤§æ–‡ä»¶è®¡ç®—MD5æ—¶è€ƒè™‘åˆ°æå‡æ€§èƒ½æ—¶äº†è§£åˆ°<code>Web Worker</code>ï¼Œ é‚£ä¹ˆæ¥çœ‹çœ‹åœ¨vue2é¡¹ç›®ä¸­å¦‚ä½•ä½¿ç”¨Web Workerçš„å§</p>
<h4 data-id="heading-3">æ —å­</h4>
<h5 data-id="heading-4">ç¼–å†™ä¸€ä¸ªç‹¬ç«‹çš„è„šæœ¬</h5>
<p>ï¼ˆå¦‚<code>*.worker.js</code>ï¼‰å®šä¹‰å¯¹åº”çš„çº¿ç¨‹é€»è¾‘</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">handlerMsg</span>(<span class="hljs-params">parames</span>){
*****
<span class="hljs-keyword">return</span>  result
}

onmessage = <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
	<span class="hljs-keyword">const</span> result = <span class="hljs-title function_">handlerMsg</span>(e.<span class="hljs-property">parames</span>)<span class="hljs-comment">//æ¨¡æ‹Ÿä¸€ä¸ªè€—æ—¶ä»»åŠ¡</span>
       <span class="hljs-keyword">if</span>(result){
       <span class="hljs-comment">//å‘é€æˆåŠŸçš„ä¿¡æ¯</span>
       <span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">result</span>: result, <span class="hljs-attr">status</span>: <span class="hljs-string">'done'</span> });
       }<span class="hljs-keyword">else</span>{
       <span class="hljs-comment">//å‘é€é”™è¯¯</span>
        <span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">error</span>:<span class="hljs-string">'error'</span> ,<span class="hljs-attr">status</span>: <span class="hljs-string">'error'</span>  });
       }
};
</code></pre>
<h5 data-id="heading-5">çº¿ç¨‹ä½¿ç”¨</h5>
<h6 data-id="heading-6">æ–‡ä»¶å¼•å…¥</h6>
<ol>
<li>å°†webWorker è„šæœ¬æ–‡ä»¶æ”¾ç½®åˆ°pubilcæ–‡ä»¶å¤¹ä¸‹ï¼ˆ<strong>æ³¨æ„</strong>ï¼š public ç›®å½•ä¸‹çš„æ–‡ä»¶ä¸ä¼šè¢« webpack å¤„ç†ï¼Œæ‰€ä»¥ä½ ä¸èƒ½ç›´æ¥ä½¿ç”¨ ES6 çš„ import è¯­å¥æ¥å¼•å…¥å…¶ä»–æ–‡ä»¶ï¼‰</li>
<li>å°†webWorker è„šæœ¬æ–‡ä»¶æ”¾ç½®srcä¸‹çš„æ–‡ä»¶å¤¹ä¸­åˆ™éœ€è¦ä½¿ç”¨<code>worker-loader</code></li>
</ol>
<p>é‡ç‚¹æè¿°ä¸‹ä½¿ç”¨<code>worker-loader</code></p>
<ol>
<li>å®‰è£…<code>worker-loader</code></li>
</ol>
<pre><code class="hljs language-js" lang="js">npm i -D worker-loader
</code></pre>
<ol start="2">
<li>é…ç½®loader</li>
</ol>
<p>ç¡®ä¿åœ¨Webpacké…ç½®ä¸­æ­£ç¡®å¤„ç†äº†<code>.worker.js</code>æ–‡ä»¶çš„åŠ è½½ï¼Œä½ å¯èƒ½éœ€è¦åœ¨Vue CLIçš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªè§„åˆ™æ¥æ”¯æŒworkerçš„å¯¼å…¥</p>
<pre><code class="hljs language-js" lang="js">	
	<span class="hljs-attr">chainWebpack</span>: <span class="hljs-function"><span class="hljs-params">config</span> =&gt;</span> {
		****
		config.<span class="hljs-property">module</span>
		.<span class="hljs-title function_">rule</span>(<span class="hljs-string">'worker'</span>)
		.<span class="hljs-title function_">test</span>(<span class="hljs-regexp">/\.worker\.js$/</span>)
		.<span class="hljs-title function_">use</span>(<span class="hljs-string">'worker-loader'</span>)
		.<span class="hljs-title function_">loader</span>(<span class="hljs-string">'worker-loader'</span>)
		.<span class="hljs-title function_">end</span>();
		
		<span class="hljs-comment">// è§£å†³ï¼šworker çƒ­æ›´æ–°é—®é¢˜</span>
		config.<span class="hljs-property">module</span>
		  .<span class="hljs-title function_">rule</span>(<span class="hljs-string">'js'</span>)
		  .<span class="hljs-property">exclude</span>
		  .<span class="hljs-title function_">add</span>(<span class="hljs-regexp">/\.worker\.js$/</span>)
		  .<span class="hljs-title function_">end</span>();
   
		<span class="hljs-comment">// è§£å†³ï¼šâ€œwindow is undefinedâ€æŠ¥é”™ï¼Œè¿™ä¸ªæ˜¯å› ä¸ºworkerçº¿ç¨‹ä¸­ä¸å­˜åœ¨windowå¯¹è±¡ï¼Œå› æ­¤ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œè¦ç”¨thisä»£æ›¿</span>
		config.<span class="hljs-property">output</span>.<span class="hljs-title function_">globalObject</span>(<span class="hljs-string">'this'</span>)
 

	},
</code></pre>
<h6 data-id="heading-7">åœ¨Vueç»„ä»¶ä¸­ä½¿ç”¨</h6>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">MyWorker</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../js/md5Worker.worker'</span>;
	<span class="hljs-keyword">const</span> worker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyWorker</span>();
	worker.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">parames</span>: parames }); <span class="hljs-comment">// å‘é€å‚æ•°ç»™workerå¤„ç†</span>
	worker.<span class="hljs-property">onmessage</span> = <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
	<span class="hljs-keyword">if</span> (e.<span class="hljs-property">data</span>.<span class="hljs-property">status</span> === <span class="hljs-string">'done'</span>) {
	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'result:'</span>, e.<span class="hljs-property">data</span>.<span class="hljs-property">result</span>);
	worker.<span class="hljs-title function_">terminate</span>(); <span class="hljs-comment">// å®Œæˆå·¥ä½œåç»ˆæ­¢worker</span>
	} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.<span class="hljs-property">data</span>.<span class="hljs-property">status</span> === <span class="hljs-string">'error'</span>) {
	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Error:'</span>, e.<span class="hljs-property">data</span>.<span class="hljs-property">error</span>); <span class="hljs-comment">// å¤„ç†é”™è¯¯æƒ…å†µ</span>
	worker.<span class="hljs-title function_">terminate</span>(); <span class="hljs-comment">// ç»ˆæ­¢workerä»¥é‡Šæ”¾èµ„æº</span>
	}
	};

</code></pre>
<h3 data-id="heading-8">æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>â€Œ<strong>åŒæºé™åˆ¶</strong>â€Œï¼šWorkerè„šæœ¬éœ€ä¸ä¸»çº¿ç¨‹åŒæºã€‚</li>
<li>â€Œ<strong>æ•°æ®ä¼ è¾“ä¼˜åŒ–</strong>â€Œï¼šå¤§æ–‡ä»¶å»ºè®®ä½¿ç”¨Transferable Objectsï¼ˆå¦‚<code>ArrayBuffer</code>ï¼‰å‡å°‘æ‹·è´å¼€é”€ã€‚</li>
<li>â€Œ<strong>é”™è¯¯å¤„ç†</strong>â€Œï¼šç›‘å¬<code>worker.onerror</code>æ•è·å¼‚å¸¸å¹¶å¤„ç†ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å¼€æºã€‘create-web-appï¼šå¤šå¼•æ“å¯æ’æ‹”çš„å‰ç«¯è„šæ‰‹æ¶]]></title>    <link>https://juejin.cn/post/7575829296452386826</link>    <guid>https://juejin.cn/post/7575829296452386826</guid>    <pubDate>2025-11-24T07:47:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7575829296452386826" data-draft-id="7575748159609782298" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å¼€æºã€‘create-web-appï¼šå¤šå¼•æ“å¯æ’æ‹”çš„å‰ç«¯è„šæ‰‹æ¶"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,æ¶æ„"/> <meta itemprop="datePublished" content="2025-11-24T07:47:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒé¥ºå­ä¸åƒé¦…"/> <meta itemprop="url" content="https://juejin.cn/user/1148309742825495"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å¼€æºã€‘create-web-appï¼šå¤šå¼•æ“å¯æ’æ‹”çš„å‰ç«¯è„šæ‰‹æ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1148309742825495/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒé¥ºå­ä¸åƒé¦…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-24T07:47:21.000Z" title="Mon Nov 24 2025 07:47:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>ä¸ºä»€ä¹ˆéœ€è¦å®ƒ</strong></h2>
<ul>
<li>æ–°é¡¹ç›®èµ·æ­¥æ€»æ˜¯é‡å¤åŠ³åŠ¨ï¼šé€‰ React/Vueã€JS/TSã€Vite/Webpackã€æ˜¯å¦åŠ  Router/Lint/çŠ¶æ€ç®¡ç†ã€è¿˜è¦è¡¥ä¼ä¸šè§„èŒƒ</li>
<li>å®˜æ–¹è„šæ‰‹æ¶åâ€œèµ·é¡¹ç›®â€ï¼Œä¸æ“…é•¿â€œç»Ÿä¸€å›¢é˜Ÿè§„èŒƒâ€ä¸â€œå¿«é€Ÿæ‰©å±•æ’ä»¶â€</li>
<li>create-web-app æŠŠè¿™äº›é€‰é¡¹æ”¶æ•›åˆ°ä¸€æ¬¡é¡ºæ»‘çš„äº¤äº’é‡Œï¼Œå¹¶æ”¯æŒç›´è¾¾æ¨¡å¼ä¸€é”®ç”Ÿæˆ</li>
</ul>
<h2 data-id="heading-1"><strong>æ ¸å¿ƒèƒ½åŠ›</strong></h2>
<ul>
<li>å¤šå¼•æ“æ¨¡å¼
<ul>
<li>åŸç”Ÿå¼•æ“ï¼šå†…ç½® React/Vue æ¨¡æ¿ï¼ŒæŒ‰éœ€å¯ç”¨æ’ä»¶ã€é€‰æ‹©æ‰“åŒ…å™¨ï¼Œç”Ÿæˆåå³å¯è·‘ã€‚</li>
<li>å¤–éƒ¨å¼•æ“ä»£ç†ï¼šä¸€é”®ä»£ç† create-viteã€Umiã€Nextã€CRA ç­‰ï¼Œä¿ç•™åç»­æ‰©å±•ç©ºé—´</li>
</ul>
</li>
<li>å¯æ’æ‹”æ’ä»¶ç³»ç»Ÿ
<ul>
<li>æ’ä»¶ç”¨â€œé…ç½®â€æè¿°ä¾èµ–ã€æ–‡ä»¶ã€è½¬æ¢ï¼Œä¸å†™è„šæ‰‹æ¶é€»è¾‘ä¹Ÿèƒ½å¢å¼ºæ¨¡æ¿ã€‚</li>
<li>å†…ç½® Routerã€ESLint+Prettierã€çŠ¶æ€ç®¡ç†ï¼ˆZustand/Redux/Piniaï¼‰ã€æ‰“åŒ…å™¨ï¼ˆVite/Webpackï¼‰ç­‰ã€‚</li>
</ul>
</li>
<li>è‡ªç”±é€‰æ‹©æ‰“åŒ…å™¨
<ul>
<li>é€‰æ‹© Vite æˆ– Webpackï¼Œè‡ªåŠ¨è¦†ç›– <code>scripts</code> å’Œä¾èµ–ï¼Œæ¨¡æ¿éšä¸Šä¸‹æ–‡è°ƒæ•´ã€‚</li>
<li>Webpack ä¸‹è‡ªåŠ¨ç§»é™¤ Vite å…¥å£è„šæœ¬ï¼›React æ¨¡æ¿å¯ç”¨ <code>runtime: 'automatic'</code>ï¼Œé¿å…â€œReact æœªå®šä¹‰â€</li>
</ul>
</li>
<li>ç›´è¾¾æ¨¡å¼ä¸äº¤äº’å¼
<ul>
<li>äº¤äº’å¼å¼•å¯¼ï¼›ä¹Ÿæ”¯æŒå‘½ä»¤è¡Œé€‰é¡¹ç›´è¾¾ï¼Œæ— éœ€ä»»ä½•æé—®</li>
</ul>
</li>
<li>TypeScript/HTML æ™ºèƒ½è°ƒæ•´
<ul>
<li>TS ä¸‹è‡ªåŠ¨ç”Ÿæˆ <code>tsconfig.json</code>ï¼Œå¹¶é’ˆå¯¹æ‰“åŒ…å™¨è®¾å®š <code>moduleResolution</code>ã€‚</li>
<li>Vue æ¨¡æ¿è‡ªåŠ¨ç”Ÿæˆ <code>env.d.ts</code>ï¼ˆWebpackï¼‰æˆ– <code>vite-env.d.ts</code>ï¼ˆViteï¼‰ï¼Œé¿å…ç±»å‹å‘Šè­¦</li>
</ul>
</li>
</ul>
<h2 data-id="heading-2"><strong>å¿«é€Ÿå¼€å§‹</strong></h2>
<pre><code class="hljs language-bash" lang="bash">npm i dc-create-web-app -g
</code></pre>
<ul>
<li>å…¨å±€å®‰è£…å¹¶ä½¿ç”¨ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">create-web-app my-app
</code></pre>
<ul>
<li>ç›´è¾¾æ¨¡å¼ï¼ˆè·³è¿‡äº¤äº’ï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">create-web-app my-app --engine native --framework react --language ts --bundler webpack --plugins router,lint,zustand
</code></pre>
<ul>
<li>åœ¨ä»“åº“è„šæœ¬é‡Œé€ä¼ å‚æ•°ï¼ˆæ³¨æ„ <code>--</code>ï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">pnpm dev -- --engine native --framework vue --language ts --bundler vite --plugins router,pinia
</code></pre>
<h2 data-id="heading-3"><strong>ä½ ä¼šå¾—åˆ°</strong></h2>
<ul>
<li>ç»“æ„æ¸…æ™°çš„é¡¹ç›®ç›®å½•ã€å¯ç”¨çš„å¼€å‘/æ„å»ºè„šæœ¬ã€åˆç†çš„ä¾èµ–</li>
<li>æ ¹æ®é€‰æ‹©è‡ªåŠ¨ç”Ÿæˆ/æ¸…ç†é…ç½®ï¼ˆå¦‚é€‰æ‹© Webpack æ—¶åˆ é™¤ <code>vite.config.*</code> å¹¶æ³¨å…¥ <code>HtmlWebpackPlugin</code>ï¼‰</li>
<li>TS åœºæ™¯è‡ªåŠ¨å†™å…¥ <code>tsconfig.json</code> ä¸ç±»å‹ä¾èµ–ï¼ŒReact/Vue çš„ç±»å‹ä¸å…¥å£éšæ‰“åŒ…å™¨è‡ªåŠ¨ä¿®æ­£</li>
<li>Router/çŠ¶æ€ç®¡ç†/Lint ç­‰æ’ä»¶æŒ‰éœ€å¯ç”¨ï¼Œä¸å¼ºè¿«ç»‘å®š</li>
</ul>
<h2 data-id="heading-4"><strong>å…¸å‹ç»„åˆç¤ºä¾‹</strong></h2>
<ul>
<li>React + TS + Webpack + Router + Lintï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">create-web-app my-app --engine native --framework react --language ts --bundler webpack --plugins router,lint
</code></pre>
<ul>
<li>Vue + Vite å¿«é€Ÿå¼€å‘ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">create-web-app my-app --engine native --framework vue --language js --bundler vite
</code></pre>
<ul>
<li>ç›´æ¥ç”¨ create-viteï¼ˆäº¤ç»™å®˜æ–¹äº¤äº’ï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">create-web-app my-app --engine vite --framework react
</code></pre>
<h2 data-id="heading-5"><strong>æ¶æ„ä¸å®ç°è¦ç‚¹</strong></h2>
<ul>
<li>äº¤äº’ä¸ç›´è¾¾è§£æï¼š<code>run.js</code> èšåˆ CLI é€‰é¡¹ä¸äº¤äº’é€‰æ‹©ï¼Œç»Ÿä¸€ç”Ÿæˆæ‘˜è¦ä¸æœ€ç»ˆé…ç½®</li>
<li>æ¨¡æ¿æœåŠ¡ï¼š<code>template.js</code> è´Ÿè´£å¤åˆ¶æ¨¡æ¿ã€æ‰“åŒ…å™¨/è¯­è¨€é€‚é…ã€æ’ä»¶æ³¨å…¥ä¸ä»£ç è½¬æ¢ã€‚</li>
<li>æ’ä»¶æ³¨å†Œè¡¨ï¼š<code>plugin-registry.js</code> ç”¨â€œé…ç½®â€å£°æ˜æ’ä»¶çš„ä¾èµ–ã€æ–‡ä»¶ã€è½¬æ¢ï¼ŒæŒ‰ <code>framework/common</code> åˆ†ç»„ã€‚</li>
<li>æ‰“åŒ…å™¨æ’ä»¶ï¼š
<ul>
<li><code>bundler-vite</code>ï¼šè¦†ç›– <code>scripts</code>/ä¾èµ–ï¼Œé€ä¼  <code>@vitejs/plugin-react</code> æˆ– <code>@vitejs/plugin-vue</code>ã€‚</li>
<li><code>bundler-webpack</code>ï¼šå†™å…¥ <code>webpack.config.js</code>ï¼ˆESMï¼‰ã€<code>HtmlWebpackPlugin</code> æ³¨å…¥å…¥å£ï¼›ç§»é™¤ Vite çš„ <code>&lt;script type="module"&gt;</code></li>
</ul>
</li>
</ul>
<h2 data-id="heading-6"><strong>END</strong></h2>
<ul>
<li>Star æ”¯æŒï¼šä½ çš„ä¸€ä¸ª Starï¼Œæ˜¯æˆ‘ä»¬æŒç»­æ‰“ç£¨çš„åŠ¨åŠ›</li>
<li>è´¡çŒ®æ’ä»¶/æ¨¡æ¿ï¼šåœ¨ <code>src/config/plugins</code> ä¸ <code>src/templates</code> ä¸­æ–°å¢æˆ–æ”¹è¿›</li>
<li>æäº¤ Issue/PRï¼šæ¬¢è¿ä¿®å¤é—®é¢˜ã€è¡¥æ–‡æ¡£ã€æåŠŸèƒ½å»ºè®®</li>
</ul>
<p><strong>é¡¹ç›®é“¾æ¥ä¸æ–‡æ¡£</strong></p>
<ul>
<li>ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fduchao-duchao%2Fcreate-web-app" target="_blank" title="https://github.com/duchao-duchao/create-web-app" ref="nofollow noopener noreferrer">github.com/duchao-duchâ€¦</a></li>
<li>æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fduchao-duchao.github.io%2Fcreate-web-app%2F" target="_blank" title="https://duchao-duchao.github.io/create-web-app/" ref="nofollow noopener noreferrer">duchao-duchao.github.io/create-web-â€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>